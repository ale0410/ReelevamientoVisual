(self.webpackChunkapp=self.webpackChunkapp||[]).push([[179],{2313:(Jn,Lt,z)=>{"use strict";z.d(Lt,{nm:()=>Fi});var d=z(3324),qe=(z(2223),z(3692),z(259),z(5861)),ze=z(6881),Se=z(4859),Re=z(2090),Ze=z(1877);const Fe=new Map,xe={activated:!1,tokenObservers:[]},it={initialized:!1,enabled:!1};function Me(re){return Fe.get(re)||Object.assign({},xe)}function pt(){return it}const jt="https://content-firebaseappcheck.googleapis.com/v1",kt="exchangeDebugToken",Mt={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class It{constructor(pe,Oe,_e,ne,ve){if(this.operation=pe,this.retryPolicy=Oe,this.getWaitDuration=_e,this.lowerBound=ne,this.upperBound=ve,this.pending=null,this.nextErrorWaitInterval=ne,ne>ve)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(pe){var Oe=this;return(0,qe.Z)(function*(){Oe.stop();try{Oe.pending=new Re.BH,yield function St(re){return new Promise(pe=>{setTimeout(pe,re)})}(Oe.getNextRun(pe)),Oe.pending.resolve(),yield Oe.pending.promise,Oe.pending=new Re.BH,yield Oe.operation(),Oe.pending.resolve(),yield Oe.pending.promise,Oe.process(!0).catch(()=>{})}catch(_e){Oe.retryPolicy(_e)?Oe.process(!1).catch(()=>{}):Oe.stop()}})()}getNextRun(pe){if(pe)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const Oe=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),Oe}}}const yt=new Re.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function Te(){return(Te=(0,qe.Z)(function*({url:re,body:pe},Oe){const _e={"Content-Type":"application/json"},ne=Oe.getImmediate({optional:!0});if(ne){const Un=yield ne.getHeartbeatsHeader();Un&&(_e["X-Firebase-Client"]=Un)}const ve={method:"POST",body:JSON.stringify(pe),headers:_e};let st,wt;try{st=yield fetch(re,ve)}catch(Un){throw yt.create("fetch-network-error",{originalErrorMessage:null==Un?void 0:Un.message})}if(200!==st.status)throw yt.create("fetch-status-error",{httpStatus:st.status});try{wt=yield st.json()}catch(Un){throw yt.create("fetch-parse-error",{originalErrorMessage:null==Un?void 0:Un.message})}const $t=wt.ttl.match(/^([\d.]+)(s)$/);if(!$t||!$t[2]||isNaN(Number($t[1])))throw yt.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${wt.ttl}`});const nn=1e3*Number($t[1]),Vn=Date.now();return{token:wt.token,expireTimeMillis:Vn+nn,issuedAtTimeMillis:Vn}})).apply(this,arguments)}const et="firebase-app-check-database",tt=1,ut="firebase-app-check-store";let Nt=null;function vn(){return(vn=(0,qe.Z)(function*(re,pe){const _e=(yield function Qt(){return Nt||(Nt=new Promise((re,pe)=>{try{const Oe=indexedDB.open(et,tt);Oe.onsuccess=_e=>{re(_e.target.result)},Oe.onerror=_e=>{var ne;pe(yt.create("storage-open",{originalErrorMessage:null===(ne=_e.target.error)||void 0===ne?void 0:ne.message}))},Oe.onupgradeneeded=_e=>{0===_e.oldVersion&&_e.target.result.createObjectStore(ut,{keyPath:"compositeKey"})}}catch(Oe){pe(yt.create("storage-open",{originalErrorMessage:null==Oe?void 0:Oe.message}))}}),Nt)}()).transaction(ut,"readwrite"),ve=_e.objectStore(ut).put({compositeKey:re,value:pe});return new Promise((st,wt)=>{ve.onsuccess=$t=>{st()},_e.onerror=$t=>{var nn;wt(yt.create("storage-set",{originalErrorMessage:null===(nn=$t.target.error)||void 0===nn?void 0:nn.message}))}})})).apply(this,arguments)}const un=new Ze.Yd("@firebase/app-check");function Pr(re,pe){return(0,Re.hl)()?function On(re,pe){return function cn(re,pe){return vn.apply(this,arguments)}(function ur(re){return`${re.options.appId}-${re.name}`}(re),pe)}(re,pe).catch(Oe=>{un.warn(`Failed to write token to IndexedDB. Error: ${Oe}`)}):Promise.resolve()}function Gr(){return(Gr=(0,qe.Z)(function*(){const re=pt();if(re.enabled&&re.token)return re.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const Pi={error:"UNKNOWN_ERROR"};function yi(re){return Re.US.encodeString(JSON.stringify(re),!1)}function lr(re){return nr.apply(this,arguments)}function nr(){return(nr=(0,qe.Z)(function*(re,pe=!1){const Oe=re.app;!function Gt(re){if(!Me(re).activated)throw yt.create("use-before-activation",{appName:re.name})}(Oe);const _e=Me(Oe);let ve,ne=_e.token;if(ne&&!fr(ne)&&(_e.token=void 0,ne=void 0),!ne){const $t=yield _e.cachedTokenPromise;$t&&(fr($t)?ne=$t:yield Pr(Oe,void 0))}if(!pe&&ne&&fr(ne))return{token:ne.token};let wt,st=!1;if(function Rn(){return pt().enabled}()){_e.exchangeTokenPromise||(_e.exchangeTokenPromise=function qt(re,pe){return Te.apply(this,arguments)}(function mt(re,pe){const{projectId:Oe,appId:_e,apiKey:ne}=re.options;return{url:`${jt}/projects/${Oe}/apps/${_e}:${kt}?key=${ne}`,body:{debug_token:pe}}}(Oe,yield function ai(){return Gr.apply(this,arguments)}()),re.heartbeatServiceProvider).finally(()=>{_e.exchangeTokenPromise=void 0}),st=!0);const $t=yield _e.exchangeTokenPromise;return yield Pr(Oe,$t),_e.token=$t,{token:$t.token}}try{_e.exchangeTokenPromise||(_e.exchangeTokenPromise=_e.provider.getToken().finally(()=>{_e.exchangeTokenPromise=void 0}),st=!0),ne=yield Me(Oe).exchangeTokenPromise}catch($t){"appCheck/throttled"===$t.code?un.warn($t.message):un.error($t),ve=$t}return ne?ve?wt=fr(ne)?{token:ne.token,internalError:ve}:Ei(ve):(wt={token:ne.token},_e.token=ne,yield Pr(Oe,ne)):wt=Ei(ve),st&&function br(re,pe){const Oe=Me(re).tokenObservers;for(const _e of Oe)try{"EXTERNAL"===_e.type&&null!=pe.error?_e.error(pe.error):_e.next(pe)}catch{}}(Oe,wt),wt})).apply(this,arguments)}function Kr(re,pe){const Oe=Me(re),_e=Oe.tokenObservers.filter(ne=>ne.next!==pe);0===_e.length&&Oe.tokenRefresher&&Oe.tokenRefresher.isRunning()&&Oe.tokenRefresher.stop(),Oe.tokenObservers=_e}function di(re){const{app:pe}=re,Oe=Me(pe);let _e=Oe.tokenRefresher;_e||(_e=function Ai(re){const{app:pe}=re;return new It((0,qe.Z)(function*(){let _e;if(_e=Me(pe).token?yield lr(re,!0):yield lr(re),_e.error)throw _e.error;if(_e.internalError)throw _e.internalError}),()=>!0,()=>{const Oe=Me(pe);if(Oe.token){let _e=Oe.token.issuedAtTimeMillis+.5*(Oe.token.expireTimeMillis-Oe.token.issuedAtTimeMillis)+3e5;return _e=Math.min(_e,Oe.token.expireTimeMillis-3e5),Math.max(0,_e-Date.now())}return 0},Mt.RETRIAL_MIN_WAIT,Mt.RETRIAL_MAX_WAIT)}(re),Oe.tokenRefresher=_e),!_e.isRunning()&&Oe.isTokenAutoRefreshEnabled&&_e.start()}function fr(re){return re.expireTimeMillis-Date.now()>0}function Ei(re){return{token:yi(Pi),error:re}}class Er{constructor(pe,Oe){this.app=pe,this.heartbeatServiceProvider=Oe}_delete(){const{tokenObservers:pe}=Me(this.app);for(const Oe of pe)Kr(this.app,Oe.next);return Promise.resolve()}}const Yn="app-check-internal";!function pr(){(0,ze._registerComponent)(new Se.wA("app-check",re=>function Cn(re,pe){return new Er(re,pe)}(re.getProvider("app").getImmediate(),re.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((re,pe,Oe)=>{re.getProvider(Yn).initialize()})),(0,ze._registerComponent)(new Se.wA(Yn,re=>function Ne(re){return{getToken:pe=>lr(re,pe),addTokenListener:pe=>function li(re,pe,Oe,_e){const{app:ne}=re,ve=Me(ne);if(ve.tokenObservers=[...ve.tokenObservers,{next:Oe,error:_e,type:pe}],ve.token&&fr(ve.token)){const wt=ve.token;Promise.resolve().then(()=>{Oe({token:wt.token}),di(re)}).catch(()=>{})}ve.cachedTokenPromise.then(()=>di(re))}(re,"INTERNAL",pe),removeTokenListener:pe=>Kr(re.app,pe)}}(re.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,ze.registerVersion)("@firebase/app-check","0.7.0")}();class Fi{constructor(){return(0,d.vb)("app-check")}}typeof window<"u"&&window},3692:(Jn,Lt,z)=>{"use strict";z.d(Lt,{Ot:()=>ke,ZF:()=>He,hX:()=>Me,z6:()=>qe});var d=z(259),E=z(2223),be=z(3324);class ke{constructor(It){return It}}class qe{constructor(){return(0,d.C6)()}}const Re=new E.OlP("angularfire2._apps"),Ze={provide:ke,useFactory:function Se(ft){return ft&&1===ft.length?ft[0]:new ke((0,d.Mq)())},deps:[[new E.FiY,Re]]},Fe={provide:qe,deps:[[new E.FiY,Re]]};function xe(ft){return(It,St)=>{const Ct=It.runOutsideAngular(()=>ft(St));return new ke(Ct)}}let it=(()=>{class ft{constructor(St){(0,d.KN)("angularfire",be.q4.full,"core"),(0,d.KN)("angularfire",be.q4.full,"app"),(0,d.KN)("angular",E.q4F.full,St.toString())}}return ft.\u0275fac=function(St){return new(St||ft)(E.LFG(E.Lbi))},ft.\u0275mod=E.oAB({type:ft}),ft.\u0275inj=E.cJS({providers:[Ze,Fe]}),ft})();function Me(ft,...It){return{ngModule:it,providers:[{provide:Re,useFactory:xe(ft),multi:!0,deps:[E.R0b,E.zs3,be.HU,...It]}]}}const He=(0,be.u3)(d.ZF,!0)},7246:(Jn,Lt,z)=>{"use strict";z.d(Lt,{dh:()=>Me,v0:()=>mt,AR:()=>ft});var d=z(3324),E=z(2223),be=z(3692),ke=z(259),qe=z(2313),ze=z(1389);z(2090),z(6881),z(1877),z(4859);class it{constructor(Ht){return Ht}}class Me{constructor(){return(0,d.vb)("auth")}}const pt=new E.OlP("angularfire2.auth-instances");function He(dt){return(Ht,En)=>{const zn=Ht.runOutsideAngular(()=>dt(En));return new it(zn)}}const $e={provide:Me,deps:[[new E.FiY,pt]]},kt={provide:it,useFactory:function jt(dt,Ht){const En=(0,d.JM)("auth",dt,Ht);return En&&new it(En)},deps:[[new E.FiY,pt],be.Ot]};let Mt=(()=>{class dt{constructor(){(0,ke.KN)("angularfire",d.q4.full,"auth")}}return dt.\u0275fac=function(En){return new(En||dt)},dt.\u0275mod=E.oAB({type:dt}),dt.\u0275inj=E.cJS({providers:[kt,$e]}),dt})();function ft(dt,...Ht){return{ngModule:Mt,providers:[{provide:pt,useFactory:He(dt),multi:!0,deps:[E.R0b,E.zs3,d.HU,be.z6,[new E.FiY,qe.nm],...Ht]}]}}const mt=(0,d.u3)(ze.o,!0)},3385:(Jn,Lt,z)=>{"use strict";z.d(Lt,{zQ:()=>Ft,ww:()=>qt,rT:()=>yt,f7:()=>Gt,L6:()=>St,_Q:()=>Ct,lh:()=>ee,Qv:()=>It,nw:()=>Dt});var d=z(2223),E=z(7579),be=z(9646),ke=z(9751),qe=z(8996),ze=z(6451),Se=z(5363),Re=z(3900),Ze=z(4004),Fe=z(3151),xe=z(590),it=z(576);function Me(Te,Je){return(0,it.m)(Je)?(0,Re.w)(()=>Te,Je):(0,Re.w)(()=>Te)}var lt=z(9468),pt=z(9300),jt=z(3324),He=z(2011),$e=z(4755),kt=z(2313),Mt=z(9260);const It=new d.OlP("angularfire2.auth.use-emulator"),St=new d.OlP("angularfire2.auth.settings"),Ct=new d.OlP("angularfire2.auth.tenant-id"),yt=new d.OlP("angularfire2.auth.langugage-code"),ee=new d.OlP("angularfire2.auth.use-device-language"),Gt=new d.OlP("angularfire.auth.persistence"),Dt=(Te,Je,ct,mt,et,tt,ut,Ut)=>(0,He.cc)(`${Te.name}.auth`,"AngularFireAuth",Te.name,()=>{const Nt=Je.runOutsideAngular(()=>Te.auth());if(ct&&Nt.useEmulator(...ct),mt&&(Nt.tenantId=mt),Nt.languageCode=et,tt&&Nt.useDeviceLanguage(),ut)for(const[Qt,sn]of Object.entries(ut))Nt.settings[Qt]=sn;return Ut&&Nt.setPersistence(Ut),Nt},[ct,mt,et,tt,ut,Ut]);let Ft=(()=>{class Te{constructor(ct,mt,et,tt,ut,Ut,Nt,Qt,sn,On,tn,vt){const cn=new E.x,vn=(0,be.of)(void 0).pipe((0,Se.Q)(ut.outsideAngular),(0,Re.w)(()=>tt.runOutsideAngular(()=>Promise.resolve().then(z.bind(z,9568)))),(0,Ze.U)(()=>(0,He.on)(ct,tt,mt)),(0,Ze.U)(qn=>Dt(qn,tt,Ut,Qt,sn,On,Nt,tn)),(0,Fe.d)({bufferSize:1,refCount:!1}));if((0,$e.PM)(et))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,be.of)(null);else{vn.pipe((0,xe.P)()).subscribe();const er=vn.pipe((0,Re.w)(ir=>ir.getRedirectResult().then(an=>an,()=>null)),jt.iC,(0,Fe.d)({bufferSize:1,refCount:!1})),ur=vn.pipe((0,Re.w)(ir=>new ke.y(an=>({unsubscribe:tt.runOutsideAngular(()=>ir.onAuthStateChanged(Pr=>an.next(Pr),Pr=>an.error(Pr),()=>an.complete()))})))),un=vn.pipe((0,Re.w)(ir=>new ke.y(an=>({unsubscribe:tt.runOutsideAngular(()=>ir.onIdTokenChanged(Pr=>an.next(Pr),Pr=>an.error(Pr),()=>an.complete()))}))));this.authState=er.pipe(Me(ur),(0,lt.R)(ut.outsideAngular),(0,Se.Q)(ut.insideAngular)),this.user=er.pipe(Me(un),(0,lt.R)(ut.outsideAngular),(0,Se.Q)(ut.insideAngular)),this.idToken=this.user.pipe((0,Re.w)(ir=>ir?(0,qe.D)(ir.getIdToken()):(0,be.of)(null))),this.idTokenResult=this.user.pipe((0,Re.w)(ir=>ir?(0,qe.D)(ir.getIdTokenResult()):(0,be.of)(null))),this.credential=(0,ze.T)(er,cn,this.authState.pipe((0,pt.h)(ir=>!ir))).pipe((0,Ze.U)(ir=>null!=ir&&ir.user?ir:null),(0,lt.R)(ut.outsideAngular),(0,Se.Q)(ut.insideAngular))}return(0,He.pX)(this,vn,tt,{spy:{apply:(qn,er,ur)=>{(qn.startsWith("signIn")||qn.startsWith("createUser"))&&ur.then(un=>cn.next(un))}}})}}return Te.\u0275fac=function(ct){return new(ct||Te)(d.LFG(He.Dh),d.LFG(He.xv,8),d.LFG(d.Lbi),d.LFG(d.R0b),d.LFG(jt.HU),d.LFG(It,8),d.LFG(St,8),d.LFG(Ct,8),d.LFG(yt,8),d.LFG(ee,8),d.LFG(Gt,8),d.LFG(kt.nm,8))},Te.\u0275prov=d.Yz7({token:Te,factory:Te.\u0275fac,providedIn:"any"}),Te})(),qt=(()=>{class Te{constructor(){Mt.Z.registerVersion("angularfire",jt.q4.full,"auth-compat")}}return Te.\u0275fac=function(ct){return new(ct||Te)},Te.\u0275mod=d.oAB({type:Te}),Te.\u0275inj=d.cJS({providers:[Ft]}),Te})()},5197:(Jn,Lt,z)=>{"use strict";z.d(Lt,{KQ:()=>_u,JS:()=>Lf});var d=z(2223),E=z(4986),be=z(9751),ke=z(9646),qe=z(6451),ze=z(4004),Se=z(3099),Re=z(3900),Ze=z(5026),Fe=z(1884),xe=z(4482),it=z(5403),Me=z(8421),lt=z(4671),pt=z(5032),jt=z(7669),kt=z(3324),Mt=z(2011),It=(z(9568),z(3942)),St=z(4859),Ct=z(5861),yt=z(6881),ee=z(2090),Gt=z(1877);const Dt="@firebase/database";let qt="";function Te(v){qt=v}class Je{constructor(p){this.domStorage_=p,this.prefix_="firebase:"}set(p,g){null==g?this.domStorage_.removeItem(this.prefixedName_(p)):this.domStorage_.setItem(this.prefixedName_(p),(0,ee.Wl)(g))}get(p){const g=this.domStorage_.getItem(this.prefixedName_(p));return null==g?null:(0,ee.cI)(g)}remove(p){this.domStorage_.removeItem(this.prefixedName_(p))}prefixedName_(p){return this.prefix_+p}toString(){return this.domStorage_.toString()}}class ct{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(p,g){null==g?delete this.cache_[p]:this.cache_[p]=g}get(p){return(0,ee.r3)(this.cache_,p)?this.cache_[p]:null}remove(p){delete this.cache_[p]}}const mt=function(v){try{if(typeof window<"u"&&typeof window[v]<"u"){const p=window[v];return p.setItem("firebase:sentinel","cache"),p.removeItem("firebase:sentinel"),new Je(p)}}catch{}return new ct},et=mt("localStorage"),tt=mt("sessionStorage"),ut=new Gt.Yd("@firebase/database"),Ut=function(){let v=1;return function(){return v++}}(),Nt=function(v){const p=(0,ee.dS)(v),g=new ee.gQ;g.update(p);const D=g.digest();return ee.US.encodeByteArray(D)},Qt=function(...v){let p="";for(let g=0;g<v.length;g++){const D=v[g];Array.isArray(D)||D&&"object"==typeof D&&"number"==typeof D.length?p+=Qt.apply(null,D):p+="object"==typeof D?(0,ee.Wl)(D):D,p+=" "}return p};let sn=null,On=!0;const tn=function(v,p){(0,ee.hu)(!p||!0===v||!1===v,"Can't turn on custom loggers persistently."),!0===v?(ut.logLevel=Gt.in.VERBOSE,sn=ut.log.bind(ut),p&&tt.set("logging_enabled",!0)):"function"==typeof v?sn=v:(sn=null,tt.remove("logging_enabled"))},vt=function(...v){if(!0===On&&(On=!1,null===sn&&!0===tt.get("logging_enabled")&&tn(!0)),sn){const p=Qt.apply(null,v);sn(p)}},cn=function(v){return function(...p){vt(v,...p)}},vn=function(...v){const p="FIREBASE INTERNAL ERROR: "+Qt(...v);ut.error(p)},qn=function(...v){const p=`FIREBASE FATAL ERROR: ${Qt(...v)}`;throw ut.error(p),new Error(p)},er=function(...v){const p="FIREBASE WARNING: "+Qt(...v);ut.warn(p)},un=function(v){return"number"==typeof v&&(v!=v||v===Number.POSITIVE_INFINITY||v===Number.NEGATIVE_INFINITY)},an="[MIN_NAME]",Pr="[MAX_NAME]",$r=function(v,p){if(v===p)return 0;if(v===an||p===Pr)return-1;if(p===an||v===Pr)return 1;{const g=Kr(v),D=Kr(p);return null!==g?null!==D?g-D==0?v.length-p.length:g-D:-1:null!==D?1:v<p?-1:1}},xr=function(v,p){return v===p?0:v<p?-1:1},Rn=function(v,p){if(p&&v in p)return p[v];throw new Error("Missing required key ("+v+") in object: "+(0,ee.Wl)(p))},ai=function(v){if("object"!=typeof v||null===v)return(0,ee.Wl)(v);const p=[];for(const D in v)p.push(D);p.sort();let g="{";for(let D=0;D<p.length;D++)0!==D&&(g+=","),g+=(0,ee.Wl)(p[D]),g+=":",g+=ai(v[p[D]]);return g+="}",g},Gr=function(v,p){const g=v.length;if(g<=p)return[v];const D=[];for(let B=0;B<g;B+=p)D.push(v.substring(B,B+p>g?g:B+p));return D};function ar(v,p){for(const g in v)v.hasOwnProperty(g)&&p(g,v[g])}const Pi=function(v){(0,ee.hu)(!un(v),"Invalid JSON number");const D=1023;let B,J,fe,Ve,bt;0===v?(J=0,fe=0,B=1/v==-1/0?1:0):(B=v<0,(v=Math.abs(v))>=Math.pow(2,1-D)?(Ve=Math.min(Math.floor(Math.log(v)/Math.LN2),D),J=Ve+D,fe=Math.round(v*Math.pow(2,52-Ve)-Math.pow(2,52))):(J=0,fe=Math.round(v/Math.pow(2,-1074))));const Ot=[];for(bt=52;bt;bt-=1)Ot.push(fe%2?1:0),fe=Math.floor(fe/2);for(bt=11;bt;bt-=1)Ot.push(J%2?1:0),J=Math.floor(J/2);Ot.push(B?1:0),Ot.reverse();const Nn=Ot.join("");let Ln="";for(bt=0;bt<64;bt+=8){let rr=parseInt(Nn.substr(bt,8),2).toString(16);1===rr.length&&(rr="0"+rr),Ln+=rr}return Ln.toLowerCase()},mr=new RegExp("^-?(0*)\\d{1,10}$"),Kr=function(v){if(mr.test(v)){const p=Number(v);if(p>=-2147483648&&p<=2147483647)return p}return null},di=function(v){try{v()}catch(p){setTimeout(()=>{throw er("Exception was thrown by user callback.",p.stack||""),p},Math.floor(0))}},br=function(v,p){const g=setTimeout(v,p);return"number"==typeof g&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(g):"object"==typeof g&&g.unref&&g.unref(),g};class fr{constructor(p,g){this.appName_=p,this.appCheckProvider=g,this.appCheck=null==g?void 0:g.getImmediate({optional:!0}),this.appCheck||null==g||g.get().then(D=>this.appCheck=D)}getToken(p){return this.appCheck?this.appCheck.getToken(p):new Promise((g,D)=>{setTimeout(()=>{this.appCheck?this.getToken(p).then(g,D):g(null)},0)})}addTokenChangeListener(p){var g;null===(g=this.appCheckProvider)||void 0===g||g.get().then(D=>D.addTokenListener(p))}notifyForInvalidToken(){er(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class Ei{constructor(p,g,D){this.appName_=p,this.firebaseOptions_=g,this.authProvider_=D,this.auth_=null,this.auth_=D.getImmediate({optional:!0}),this.auth_||D.onInit(B=>this.auth_=B)}getToken(p){return this.auth_?this.auth_.getToken(p).catch(g=>g&&"auth/token-not-initialized"===g.code?(vt("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(g)):new Promise((g,D)=>{setTimeout(()=>{this.auth_?this.getToken(p).then(g,D):g(null)},0)})}addTokenChangeListener(p){this.auth_?this.auth_.addAuthTokenListener(p):this.authProvider_.get().then(g=>g.addAuthTokenListener(p))}removeTokenChangeListener(p){this.authProvider_.get().then(g=>g.removeAuthTokenListener(p))}notifyForInvalidToken(){let p='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';p+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',er(p)}}let Er=(()=>{class v{constructor(g){this.accessToken=g}getToken(g){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(g){g(this.accessToken)}removeTokenChangeListener(g){}notifyForInvalidToken(){}}return v.OWNER="owner",v})();const zn=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,gt="websocket",Ae="long_polling";class ie{constructor(p,g,D,B,J=!1,fe="",Ve=!1,bt=!1){this.secure=g,this.namespace=D,this.webSocketOnly=B,this.nodeAdmin=J,this.persistenceKey=fe,this.includeNamespaceInQueryParams=Ve,this.isUsingEmulator=bt,this._host=p.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=et.get("host:"+p)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(p){p!==this.internalHost&&(this.internalHost=p,this.isCacheableHost()&&et.set("host:"+this._host,this.internalHost))}toString(){let p=this.toURLString();return this.persistenceKey&&(p+="<"+this.persistenceKey+">"),p}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function se(v,p,g){let D;if((0,ee.hu)("string"==typeof p,"typeof type must == string"),(0,ee.hu)("object"==typeof g,"typeof params must == object"),p===gt)D=(v.secure?"wss://":"ws://")+v.internalHost+"/.ws?";else{if(p!==Ae)throw new Error("Unknown connection type: "+p);D=(v.secure?"https://":"http://")+v.internalHost+"/.lp?"}(function te(v){return v.host!==v.internalHost||v.isCustomHost()||v.includeNamespaceInQueryParams})(v)&&(g.ns=v.namespace);const B=[];return ar(g,(J,fe)=>{B.push(J+"="+fe)}),D+B.join("&")}class Ke{constructor(){this.counters_={}}incrementCounter(p,g=1){(0,ee.r3)(this.counters_,p)||(this.counters_[p]=0),this.counters_[p]+=g}get(){return(0,ee.p$)(this.counters_)}}const xt={},rt={};function Vt(v){const p=v.toString();return xt[p]||(xt[p]=new Ke),xt[p]}class Sn{constructor(p){this.onMessage_=p,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(p,g){this.closeAfterResponse=p,this.onClose=g,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(p,g){for(this.pendingResponses[p]=g;this.pendingResponses[this.currentResponseNum];){const D=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let B=0;B<D.length;++B)D[B]&&di(()=>{this.onMessage_(D[B])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class Os{constructor(p,g,D,B,J,fe,Ve){this.connId=p,this.repoInfo=g,this.applicationId=D,this.appCheckToken=B,this.authToken=J,this.transportSessionId=fe,this.lastSessionId=Ve,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=cn(p),this.stats_=Vt(g),this.urlFn=bt=>(this.appCheckToken&&(bt.ac=this.appCheckToken),se(g,Ae,bt))}open(p,g){this.curSegmentNum=0,this.onDisconnect_=g,this.myPacketOrderer=new Sn(p),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(v){if((0,ee.Yr)()||"complete"===document.readyState)v();else{let p=!1;const g=function(){document.body?p||(p=!0,v()):setTimeout(g,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",g,!1),window.addEventListener("load",g,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&g()}),window.attachEvent("onload",g))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Xs((...J)=>{const[fe,Ve,bt,Ot,Nn]=J;if(this.incrementIncomingBytes_(J),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===fe)this.id=Ve,this.password=bt;else{if("close"!==fe)throw new Error("Unrecognized command received: "+fe);Ve?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(Ve,()=>{this.onClosed_()})):this.onClosed_()}},(...J)=>{const[fe,Ve]=J;this.incrementIncomingBytes_(J),this.myPacketOrderer.handleResponse(fe,Ve)},()=>{this.onClosed_()},this.urlFn);const D={start:"t"};D.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(D.cb=this.scriptTagHolder.uniqueCallbackIdentifier),D.v="5",this.transportSessionId&&(D.s=this.transportSessionId),this.lastSessionId&&(D.ls=this.lastSessionId),this.applicationId&&(D.p=this.applicationId),this.appCheckToken&&(D.ac=this.appCheckToken),typeof location<"u"&&location.hostname&&zn.test(location.hostname)&&(D.r="f");const B=this.urlFn(D);this.log_("Connecting via long-poll to "+B),this.scriptTagHolder.addTag(B,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Os.forceAllow_=!0}static forceDisallow(){Os.forceDisallow_=!0}static isAvailable(){return!((0,ee.Yr)()||!Os.forceAllow_&&(Os.forceDisallow_||!(typeof document<"u")||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(p){const g=(0,ee.Wl)(p);this.bytesSent+=g.length,this.stats_.incrementCounter("bytes_sent",g.length);const D=(0,ee.h$)(g),B=Gr(D,1840);for(let J=0;J<B.length;J++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,B.length,B[J]),this.curSegmentNum++}addDisconnectPingFrame(p,g){if((0,ee.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const D={dframe:"t"};D.id=p,D.pw=g,this.myDisconnFrame.src=this.urlFn(D),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(p){const g=(0,ee.Wl)(p).length;this.bytesReceived+=g,this.stats_.incrementCounter("bytes_received",g)}}class Xs{constructor(p,g,D,B){if(this.onDisconnect=D,this.urlFn=B,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,ee.Yr)())this.commandCB=p,this.onMessageCB=g;else{this.uniqueCallbackIdentifier=Ut(),window["pLPCommand"+this.uniqueCallbackIdentifier]=p,window["pRTLPCB"+this.uniqueCallbackIdentifier]=g,this.myIFrame=Xs.createIFrame_();let J="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(J='<script>document.domain="'+document.domain+'";<\/script>');const fe="<html><body>"+J+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(fe),this.myIFrame.doc.close()}catch(Ve){vt("frame writing exception"),Ve.stack&&vt(Ve.stack),vt(Ve)}}}static createIFrame_(){const p=document.createElement("iframe");if(p.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(p);try{p.contentWindow.document||vt("No IE domain setting required")}catch{const D=document.domain;p.src="javascript:void((function(){document.open();document.domain='"+D+"';document.close();})())"}return p.contentDocument?p.doc=p.contentDocument:p.contentWindow?p.doc=p.contentWindow.document:p.document&&(p.doc=p.document),p}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const p=this.onDisconnect;p&&(this.onDisconnect=null,p())}startLongPoll(p,g){for(this.myID=p,this.myPW=g,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const p={};p.id=this.myID,p.pw=this.myPW,p.ser=this.currentSerial;let g=this.urlFn(p),D="",B=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+D.length<=1870;){const fe=this.pendingSegs.shift();D=D+"&seg"+B+"="+fe.seg+"&ts"+B+"="+fe.ts+"&d"+B+"="+fe.d,B++}return g+=D,this.addLongPollTag_(g,this.currentSerial),!0}return!1}enqueueSegment(p,g,D){this.pendingSegs.push({seg:p,ts:g,d:D}),this.alive&&this.newRequest_()}addLongPollTag_(p,g){this.outstandingRequests.add(g);const D=()=>{this.outstandingRequests.delete(g),this.newRequest_()},B=setTimeout(D,Math.floor(25e3));this.addTag(p,()=>{clearTimeout(B),D()})}addTag(p,g){(0,ee.Yr)()?this.doNodeLongPoll(p,g):setTimeout(()=>{try{if(!this.sendNewPolls)return;const D=this.myIFrame.doc.createElement("script");D.type="text/javascript",D.async=!0,D.src=p,D.onload=D.onreadystatechange=function(){const B=D.readyState;(!B||"loaded"===B||"complete"===B)&&(D.onload=D.onreadystatechange=null,D.parentNode&&D.parentNode.removeChild(D),g())},D.onerror=()=>{vt("Long-poll script failed to load: "+p),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(D)}catch{}},Math.floor(1))}}let yo=null;typeof MozWebSocket<"u"?yo=MozWebSocket:typeof WebSocket<"u"&&(yo=WebSocket);let ts=(()=>{class v{constructor(g,D,B,J,fe,Ve,bt){this.connId=g,this.applicationId=B,this.appCheckToken=J,this.authToken=fe,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=cn(this.connId),this.stats_=Vt(D),this.connURL=v.connectionURL_(D,Ve,bt,J,B),this.nodeAdmin=D.nodeAdmin}static connectionURL_(g,D,B,J,fe){const Ve={v:"5"};return!(0,ee.Yr)()&&typeof location<"u"&&location.hostname&&zn.test(location.hostname)&&(Ve.r="f"),D&&(Ve.s=D),B&&(Ve.ls=B),J&&(Ve.ac=J),fe&&(Ve.p=fe),se(g,gt,Ve)}open(g,D){this.onDisconnect=D,this.onMessage=g,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,et.set("previous_websocket_failure",!0);try{let B;if((0,ee.Yr)()){B={headers:{"User-Agent":`Firebase/5/${qt}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(B.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(B.headers["X-Firebase-AppCheck"]=this.appCheckToken);const fe=process.env,Ve=0===this.connURL.indexOf("wss://")?fe.HTTPS_PROXY||fe.https_proxy:fe.HTTP_PROXY||fe.http_proxy;Ve&&(B.proxy={origin:Ve})}this.mySock=new yo(this.connURL,[],B)}catch(B){this.log_("Error instantiating WebSocket.");const J=B.message||B.data;return J&&this.log_(J),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=B=>{this.handleIncomingFrame(B)},this.mySock.onerror=B=>{this.log_("WebSocket error.  Closing connection.");const J=B.message||B.data;J&&this.log_(J),this.onClosed_()}}start(){}static forceDisallow(){v.forceDisallow_=!0}static isAvailable(){let g=!1;if(typeof navigator<"u"&&navigator.userAgent){const B=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);B&&B.length>1&&parseFloat(B[1])<4.4&&(g=!0)}return!g&&null!==yo&&!v.forceDisallow_}static previouslyFailed(){return et.isInMemoryStorage||!0===et.get("previous_websocket_failure")}markConnectionHealthy(){et.remove("previous_websocket_failure")}appendFrame_(g){if(this.frames.push(g),this.frames.length===this.totalFrames){const D=this.frames.join("");this.frames=null;const B=(0,ee.cI)(D);this.onMessage(B)}}handleNewFrameCount_(g){this.totalFrames=g,this.frames=[]}extractFrameCount_(g){if((0,ee.hu)(null===this.frames,"We already have a frame buffer"),g.length<=6){const D=Number(g);if(!isNaN(D))return this.handleNewFrameCount_(D),null}return this.handleNewFrameCount_(1),g}handleIncomingFrame(g){if(null===this.mySock)return;const D=g.data;if(this.bytesReceived+=D.length,this.stats_.incrementCounter("bytes_received",D.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(D);else{const B=this.extractFrameCount_(D);null!==B&&this.appendFrame_(B)}}send(g){this.resetKeepAlive();const D=(0,ee.Wl)(g);this.bytesSent+=D.length,this.stats_.incrementCounter("bytes_sent",D.length);const B=Gr(D,16384);B.length>1&&this.sendString_(String(B.length));for(let J=0;J<B.length;J++)this.sendString_(B[J])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(g){try{this.mySock.send(g)}catch(D){this.log_("Exception thrown from WebSocket.send():",D.message||D.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return v.responsesRequiredToBeHealthy=2,v.healthyTimeout=3e4,v})(),zi=(()=>{class v{constructor(g){this.initTransports_(g)}static get ALL_TRANSPORTS(){return[Os,ts]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(g){const D=ts&&ts.isAvailable();let B=D&&!ts.previouslyFailed();if(g.webSocketOnly&&(D||er("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),B=!0),B)this.transports_=[ts];else{const J=this.transports_=[];for(const fe of v.ALL_TRANSPORTS)fe&&fe.isAvailable()&&J.push(fe);v.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return v.globalTransportInitialized_=!1,v})();class Vn{constructor(p,g,D,B,J,fe,Ve,bt,Ot,Nn){this.id=p,this.repoInfo_=g,this.applicationId_=D,this.appCheckToken_=B,this.authToken_=J,this.onMessage_=fe,this.onReady_=Ve,this.onDisconnect_=bt,this.onKill_=Ot,this.lastSessionId=Nn,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=cn("c:"+this.id+":"),this.transportManager_=new zi(g),this.log_("Connection created"),this.start_()}start_(){const p=this.transportManager_.initialTransport();this.conn_=new p(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=p.responsesRequiredToBeHealthy||0;const g=this.connReceiver_(this.conn_),D=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(g,D)},Math.floor(0));const B=p.healthyTimeout||0;B>0&&(this.healthyTimeout_=br(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(B)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(p){return g=>{p===this.conn_?this.onConnectionLost_(g):p===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(p){return g=>{2!==this.state_&&(p===this.rx_?this.onPrimaryMessageReceived_(g):p===this.secondaryConn_?this.onSecondaryMessageReceived_(g):this.log_("message on old connection"))}}sendRequest(p){this.sendData_({t:"d",d:p})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(p){if("t"in p){const g=p.t;"a"===g?this.upgradeIfSecondaryHealthy_():"r"===g?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===g&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(p){const g=Rn("t",p),D=Rn("d",p);if("c"===g)this.onSecondaryControl_(D);else{if("d"!==g)throw new Error("Unknown protocol layer: "+g);this.pendingDataMessages.push(D)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(p){const g=Rn("t",p),D=Rn("d",p);"c"===g?this.onControl_(D):"d"===g&&this.onDataMessage_(D)}onDataMessage_(p){this.onPrimaryResponse_(),this.onMessage_(p)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(p){const g=Rn("t",p);if("d"in p){const D=p.d;if("h"===g){const B=Object.assign({},D);this.repoInfo_.isUsingEmulator&&(B.h=this.repoInfo_.host),this.onHandshake_(B)}else if("n"===g){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let B=0;B<this.pendingDataMessages.length;++B)this.onDataMessage_(this.pendingDataMessages[B]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===g?this.onConnectionShutdown_(D):"r"===g?this.onReset_(D):"e"===g?vn("Server Error: "+D):"o"===g?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):vn("Unknown control packet command: "+g)}}onHandshake_(p){const g=p.ts,D=p.v,B=p.h;this.sessionId=p.s,this.repoInfo_.host=B,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,g),"5"!==D&&er("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const p=this.transportManager_.upgradeTransport();p&&this.startUpgrade_(p)}startUpgrade_(p){this.secondaryConn_=new p(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=p.responsesRequiredToBeHealthy||0;const g=this.connReceiver_(this.secondaryConn_),D=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(g,D),br(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(p){this.log_("Reset packet received.  New host: "+p),this.repoInfo_.host=p,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(p,g){this.log_("Realtime connection established."),this.conn_=p,this.state_=1,this.onReady_&&(this.onReady_(g,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):br(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const p=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===p||this.rx_===p)&&this.close()}onConnectionLost_(p){this.conn_=null,p||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(et.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(p){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(p),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(p){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(p)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class Un{put(p,g,D,B){}merge(p,g,D,B){}refreshAuthToken(p){}refreshAppCheckToken(p){}onDisconnectPut(p,g,D){}onDisconnectMerge(p,g,D){}onDisconnectCancel(p,g){}reportStats(p){}}class Nr{constructor(p){this.allowedEvents_=p,this.listeners_={},(0,ee.hu)(Array.isArray(p)&&p.length>0,"Requires a non-empty array")}trigger(p,...g){if(Array.isArray(this.listeners_[p])){const D=[...this.listeners_[p]];for(let B=0;B<D.length;B++)D[B].callback.apply(D[B].context,g)}}on(p,g,D){this.validateEventType_(p),this.listeners_[p]=this.listeners_[p]||[],this.listeners_[p].push({callback:g,context:D});const B=this.getInitialEvent(p);B&&g.apply(D,B)}off(p,g,D){this.validateEventType_(p);const B=this.listeners_[p]||[];for(let J=0;J<B.length;J++)if(B[J].callback===g&&(!D||D===B[J].context))return void B.splice(J,1)}validateEventType_(p){(0,ee.hu)(this.allowedEvents_.find(g=>g===p),"Unknown event: "+p)}}class Qr extends Nr{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!(0,ee.uI)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new Qr}getInitialEvent(p){return(0,ee.hu)("online"===p,"Unknown event type: "+p),[this.online_]}currentlyOnline(){return this.online_}}class Ti{constructor(p,g){if(void 0===g){this.pieces_=p.split("/");let D=0;for(let B=0;B<this.pieces_.length;B++)this.pieces_[B].length>0&&(this.pieces_[D]=this.pieces_[B],D++);this.pieces_.length=D,this.pieceNum_=0}else this.pieces_=p,this.pieceNum_=g}toString(){let p="";for(let g=this.pieceNum_;g<this.pieces_.length;g++)""!==this.pieces_[g]&&(p+="/"+this.pieces_[g]);return p||"/"}}function Mr(){return new Ti("")}function Tn(v){return v.pieceNum_>=v.pieces_.length?null:v.pieces_[v.pieceNum_]}function Lr(v){return v.pieces_.length-v.pieceNum_}function Br(v){let p=v.pieceNum_;return p<v.pieces_.length&&p++,new Ti(v.pieces_,p)}function Ts(v){return v.pieceNum_<v.pieces_.length?v.pieces_[v.pieces_.length-1]:null}function is(v,p=0){return v.pieces_.slice(v.pieceNum_+p)}function vo(v){if(v.pieceNum_>=v.pieces_.length)return null;const p=[];for(let g=v.pieceNum_;g<v.pieces_.length-1;g++)p.push(v.pieces_[g]);return new Ti(p,0)}function Jr(v,p){const g=[];for(let D=v.pieceNum_;D<v.pieces_.length;D++)g.push(v.pieces_[D]);if(p instanceof Ti)for(let D=p.pieceNum_;D<p.pieces_.length;D++)g.push(p.pieces_[D]);else{const D=p.split("/");for(let B=0;B<D.length;B++)D[B].length>0&&g.push(D[B])}return new Ti(g,0)}function Ur(v){return v.pieceNum_>=v.pieces_.length}function ji(v,p){const g=Tn(v),D=Tn(p);if(null===g)return p;if(g===D)return ji(Br(v),Br(p));throw new Error("INTERNAL ERROR: innerPath ("+p+") is not within outerPath ("+v+")")}function qr(v,p){const g=is(v,0),D=is(p,0);for(let B=0;B<g.length&&B<D.length;B++){const J=$r(g[B],D[B]);if(0!==J)return J}return g.length===D.length?0:g.length<D.length?-1:1}function so(v,p){if(Lr(v)!==Lr(p))return!1;for(let g=v.pieceNum_,D=p.pieceNum_;g<=v.pieces_.length;g++,D++)if(v.pieces_[g]!==p.pieces_[D])return!1;return!0}function _s(v,p){let g=v.pieceNum_,D=p.pieceNum_;if(Lr(v)>Lr(p))return!1;for(;g<v.pieces_.length;){if(v.pieces_[g]!==p.pieces_[D])return!1;++g,++D}return!0}class ki{constructor(p,g){this.errorPrefix_=g,this.parts_=is(p,0),this.byteLength_=Math.max(1,this.parts_.length);for(let D=0;D<this.parts_.length;D++)this.byteLength_+=(0,ee.ug)(this.parts_[D]);uo(this)}}function uo(v){if(v.byteLength_>768)throw new Error(v.errorPrefix_+"has a key path longer than 768 bytes ("+v.byteLength_+").");if(v.parts_.length>32)throw new Error(v.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+zs(v))}function zs(v){return 0===v.parts_.length?"":"in property '"+v.parts_.join(".")+"'"}class Eo extends Nr{constructor(){let p,g;super(["visible"]),typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(g="visibilitychange",p="hidden"):typeof document.mozHidden<"u"?(g="mozvisibilitychange",p="mozHidden"):typeof document.msHidden<"u"?(g="msvisibilitychange",p="msHidden"):typeof document.webkitHidden<"u"&&(g="webkitvisibilitychange",p="webkitHidden")),this.visible_=!0,g&&document.addEventListener(g,()=>{const D=!document[p];D!==this.visible_&&(this.visible_=D,this.trigger("visible",D))},!1)}static getInstance(){return new Eo}getInitialEvent(p){return(0,ee.hu)("visible"===p,"Unknown event type: "+p),[this.visible_]}}const _o=1e3;let Ys,Yi=(()=>{class v extends Un{constructor(g,D,B,J,fe,Ve,bt,Ot){if(super(),this.repoInfo_=g,this.applicationId_=D,this.onDataUpdate_=B,this.onConnectStatus_=J,this.onServerInfoUpdate_=fe,this.authTokenProvider_=Ve,this.appCheckTokenProvider_=bt,this.authOverride_=Ot,this.id=v.nextPersistentConnectionId_++,this.log_=cn("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=_o,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,Ot&&!(0,ee.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Eo.getInstance().on("visible",this.onVisible_,this),-1===g.host.indexOf("fblocal")&&Qr.getInstance().on("online",this.onOnline_,this)}sendRequest(g,D,B){const J=++this.requestNumber_,fe={r:J,a:g,b:D};this.log_((0,ee.Wl)(fe)),(0,ee.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(fe),B&&(this.requestCBHash_[J]=B)}get(g){this.initConnection_();const D=new ee.BH,J={action:"g",request:{p:g._path.toString(),q:g._queryObject},onComplete:Ve=>{const bt=Ve.d;"ok"===Ve.s?D.resolve(bt):D.reject(bt)}};return this.outstandingGets_.push(J),this.outstandingGetCount_++,this.connected_&&this.sendGet_(this.outstandingGets_.length-1),D.promise}listen(g,D,B,J){this.initConnection_();const fe=g._queryIdentifier,Ve=g._path.toString();this.log_("Listen called for "+Ve+" "+fe),this.listens.has(Ve)||this.listens.set(Ve,new Map),(0,ee.hu)(g._queryParams.isDefault()||!g._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,ee.hu)(!this.listens.get(Ve).has(fe),"listen() called twice for same path/queryId.");const bt={onComplete:J,hashFn:D,query:g,tag:B};this.listens.get(Ve).set(fe,bt),this.connected_&&this.sendListen_(bt)}sendGet_(g){const D=this.outstandingGets_[g];this.sendRequest("g",D.request,B=>{delete this.outstandingGets_[g],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),D.onComplete&&D.onComplete(B)})}sendListen_(g){const D=g.query,B=D._path.toString(),J=D._queryIdentifier;this.log_("Listen on "+B+" for "+J);const fe={p:B};g.tag&&(fe.q=D._queryObject,fe.t=g.tag),fe.h=g.hashFn(),this.sendRequest("q",fe,bt=>{const Ot=bt.d,Nn=bt.s;v.warnOnListenWarnings_(Ot,D),(this.listens.get(B)&&this.listens.get(B).get(J))===g&&(this.log_("listen response",bt),"ok"!==Nn&&this.removeListen_(B,J),g.onComplete&&g.onComplete(Nn,Ot))})}static warnOnListenWarnings_(g,D){if(g&&"object"==typeof g&&(0,ee.r3)(g,"w")){const B=(0,ee.DV)(g,"w");if(Array.isArray(B)&&~B.indexOf("no_index")){const J='".indexOn": "'+D._queryParams.getIndex().toString()+'"',fe=D._path.toString();er(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${J} at ${fe} to your security rules for better performance.`)}}}refreshAuthToken(g){this.authToken_=g,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(g)}reduceReconnectDelayIfAdminCredential_(g){(g&&40===g.length||(0,ee.GJ)(g))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(g){this.appCheckToken_=g,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const g=this.authToken_,D=(0,ee.w9)(g)?"auth":"gauth",B={cred:g};null===this.authOverride_?B.noauth=!0:"object"==typeof this.authOverride_&&(B.authvar=this.authOverride_),this.sendRequest(D,B,J=>{const fe=J.s,Ve=J.d||"error";this.authToken_===g&&("ok"===fe?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(fe,Ve))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},g=>{const D=g.s,B=g.d||"error";"ok"===D?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(D,B)})}unlisten(g,D){const B=g._path.toString(),J=g._queryIdentifier;this.log_("Unlisten called for "+B+" "+J),(0,ee.hu)(g._queryParams.isDefault()||!g._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(B,J)&&this.connected_&&this.sendUnlisten_(B,J,g._queryObject,D)}sendUnlisten_(g,D,B,J){this.log_("Unlisten on "+g+" for "+D);const fe={p:g};J&&(fe.q=B,fe.t=J),this.sendRequest("n",fe)}onDisconnectPut(g,D,B){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",g,D,B):this.onDisconnectRequestQueue_.push({pathString:g,action:"o",data:D,onComplete:B})}onDisconnectMerge(g,D,B){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",g,D,B):this.onDisconnectRequestQueue_.push({pathString:g,action:"om",data:D,onComplete:B})}onDisconnectCancel(g,D){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",g,null,D):this.onDisconnectRequestQueue_.push({pathString:g,action:"oc",data:null,onComplete:D})}sendOnDisconnect_(g,D,B,J){const fe={p:D,d:B};this.log_("onDisconnect "+g,fe),this.sendRequest(g,fe,Ve=>{J&&setTimeout(()=>{J(Ve.s,Ve.d)},Math.floor(0))})}put(g,D,B,J){this.putInternal("p",g,D,B,J)}merge(g,D,B,J){this.putInternal("m",g,D,B,J)}putInternal(g,D,B,J,fe){this.initConnection_();const Ve={p:D,d:B};void 0!==fe&&(Ve.h=fe),this.outstandingPuts_.push({action:g,request:Ve,onComplete:J}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+D)}sendPut_(g){const D=this.outstandingPuts_[g].action,B=this.outstandingPuts_[g].request,J=this.outstandingPuts_[g].onComplete;this.outstandingPuts_[g].queued=this.connected_,this.sendRequest(D,B,fe=>{this.log_(D+" response",fe),delete this.outstandingPuts_[g],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),J&&J(fe.s,fe.d)})}reportStats(g){if(this.connected_){const D={c:g};this.log_("reportStats",D),this.sendRequest("s",D,B=>{"ok"!==B.s&&this.log_("reportStats","Error sending stats: "+B.d)})}}onDataMessage_(g){if("r"in g){this.log_("from server: "+(0,ee.Wl)(g));const D=g.r,B=this.requestCBHash_[D];B&&(delete this.requestCBHash_[D],B(g.b))}else{if("error"in g)throw"A server-side error has occurred: "+g.error;"a"in g&&this.onDataPush_(g.a,g.b)}}onDataPush_(g,D){this.log_("handleServerMessage",g,D),"d"===g?this.onDataUpdate_(D.p,D.d,!1,D.t):"m"===g?this.onDataUpdate_(D.p,D.d,!0,D.t):"c"===g?this.onListenRevoked_(D.p,D.q):"ac"===g?this.onAuthRevoked_(D.s,D.d):"apc"===g?this.onAppCheckRevoked_(D.s,D.d):"sd"===g?this.onSecurityDebugPacket_(D):vn("Unrecognized action received from server: "+(0,ee.Wl)(g)+"\nAre you using the latest client?")}onReady_(g,D){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(g),this.lastSessionId=D,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(g){(0,ee.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(g))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(g){g&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=_o,this.realtime_||this.scheduleConnect_(0)),this.visible_=g}onOnline_(g){g?(this.log_("Browser went online."),this.reconnectDelay_=_o,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=_o),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const g=(new Date).getTime()-this.lastConnectionAttemptTime_;let D=Math.max(0,this.reconnectDelay_-g);D=Math.random()*D,this.log_("Trying to reconnect in "+D+"ms"),this.scheduleConnect_(D),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var g=this;return(0,Ct.Z)(function*(){if(g.shouldReconnect_()){g.log_("Making a connection attempt"),g.lastConnectionAttemptTime_=(new Date).getTime(),g.lastConnectionEstablishedTime_=null;const D=g.onDataMessage_.bind(g),B=g.onReady_.bind(g),J=g.onRealtimeDisconnect_.bind(g),fe=g.id+":"+v.nextConnectionId_++,Ve=g.lastSessionId;let bt=!1,Ot=null;const Nn=function(){Ot?Ot.close():(bt=!0,J())};g.realtime_={close:Nn,sendRequest:function(Di){(0,ee.hu)(Ot,"sendRequest call when we're not connected not allowed."),Ot.sendRequest(Di)}};const rr=g.forceTokenRefresh_;g.forceTokenRefresh_=!1;try{const[Di,Xi]=yield Promise.all([g.authTokenProvider_.getToken(rr),g.appCheckTokenProvider_.getToken(rr)]);bt?vt("getToken() completed but was canceled"):(vt("getToken() completed. Creating connection."),g.authToken_=Di&&Di.accessToken,g.appCheckToken_=Xi&&Xi.token,Ot=new Vn(fe,g.repoInfo_,g.applicationId_,g.appCheckToken_,g.authToken_,D,B,J,go=>{er(go+" ("+g.repoInfo_.toString()+")"),g.interrupt("server_kill")},Ve))}catch(Di){g.log_("Failed to get token: "+Di),bt||(g.repoInfo_.nodeAdmin&&er(Di),Nn())}}})()}interrupt(g){vt("Interrupting connection for reason: "+g),this.interruptReasons_[g]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(g){vt("Resuming connection for reason: "+g),delete this.interruptReasons_[g],(0,ee.xb)(this.interruptReasons_)&&(this.reconnectDelay_=_o,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(g){const D=g-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:D})}cancelSentTransactions_(){for(let g=0;g<this.outstandingPuts_.length;g++){const D=this.outstandingPuts_[g];D&&"h"in D.request&&D.queued&&(D.onComplete&&D.onComplete("disconnect"),delete this.outstandingPuts_[g],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(g,D){let B;B=D?D.map(fe=>ai(fe)).join("$"):"default";const J=this.removeListen_(g,B);J&&J.onComplete&&J.onComplete("permission_denied")}removeListen_(g,D){const B=new Ti(g).toString();let J;if(this.listens.has(B)){const fe=this.listens.get(B);J=fe.get(D),fe.delete(D),0===fe.size&&this.listens.delete(B)}else J=void 0;return J}onAuthRevoked_(g,D){vt("Auth token revoked: "+g+"/"+D),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===g||"permission_denied"===g)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(g,D){vt("App check token revoked: "+g+"/"+D),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===g||"permission_denied"===g)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(g){this.securityDebugCallback_?this.securityDebugCallback_(g):"msg"in g&&console.log("FIREBASE: "+g.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const g of this.listens.values())for(const D of g.values())this.sendListen_(D);for(let g=0;g<this.outstandingPuts_.length;g++)this.outstandingPuts_[g]&&this.sendPut_(g);for(;this.onDisconnectRequestQueue_.length;){const g=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(g.action,g.pathString,g.data,g.onComplete)}for(let g=0;g<this.outstandingGets_.length;g++)this.outstandingGets_[g]&&this.sendGet_(g)}sendConnectStats_(){const g={};let D="js";(0,ee.Yr)()&&(D=this.repoInfo_.nodeAdmin?"admin_node":"node"),g["sdk."+D+"."+qt.replace(/\./g,"-")]=1,(0,ee.uI)()?g["framework.cordova"]=1:(0,ee.b$)()&&(g["framework.reactnative"]=1),this.reportStats(g)}shouldReconnect_(){const g=Qr.getInstance().currentlyOnline();return(0,ee.xb)(this.interruptReasons_)&&g}}return v.nextPersistentConnectionId_=0,v.nextConnectionId_=0,v})();class Ri{constructor(p,g){this.name=p,this.node=g}static Wrap(p,g){return new Ri(p,g)}}class Bs{getCompare(){return this.compare.bind(this)}indexedValueChanged(p,g){const D=new Ri(an,p),B=new Ri(an,g);return 0!==this.compare(D,B)}minPost(){return Ri.MIN}}class Io extends Bs{static get __EMPTY_NODE(){return Ys}static set __EMPTY_NODE(p){Ys=p}compare(p,g){return $r(p.name,g.name)}isDefinedOn(p){throw(0,ee.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(p,g){return!1}minPost(){return Ri.MIN}maxPost(){return new Ri(Pr,Ys)}makePost(p,g){return(0,ee.hu)("string"==typeof p,"KeyIndex indexValue must always be a string."),new Ri(p,Ys)}toString(){return".key"}}const hs=new Io;class fs{constructor(p,g,D,B,J=null){this.isReverse_=B,this.resultGenerator_=J,this.nodeStack_=[];let fe=1;for(;!p.isEmpty();)if(fe=g?D(p.key,g):1,B&&(fe*=-1),fe<0)p=this.isReverse_?p.left:p.right;else{if(0===fe){this.nodeStack_.push(p);break}this.nodeStack_.push(p),p=this.isReverse_?p.right:p.left}}getNext(){if(0===this.nodeStack_.length)return null;let g,p=this.nodeStack_.pop();if(g=this.resultGenerator_?this.resultGenerator_(p.key,p.value):{key:p.key,value:p.value},this.isReverse_)for(p=p.left;!p.isEmpty();)this.nodeStack_.push(p),p=p.right;else for(p=p.right;!p.isEmpty();)this.nodeStack_.push(p),p=p.left;return g}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const p=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(p.key,p.value):{key:p.key,value:p.value}}}let bo,ho=(()=>{class v{constructor(g,D,B,J,fe){this.key=g,this.value=D,this.color=null!=B?B:v.RED,this.left=null!=J?J:Ni.EMPTY_NODE,this.right=null!=fe?fe:Ni.EMPTY_NODE}copy(g,D,B,J,fe){return new v(null!=g?g:this.key,null!=D?D:this.value,null!=B?B:this.color,null!=J?J:this.left,null!=fe?fe:this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(g){return this.left.inorderTraversal(g)||!!g(this.key,this.value)||this.right.inorderTraversal(g)}reverseTraversal(g){return this.right.reverseTraversal(g)||g(this.key,this.value)||this.left.reverseTraversal(g)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(g,D,B){let J=this;const fe=B(g,J.key);return J=fe<0?J.copy(null,null,null,J.left.insert(g,D,B),null):0===fe?J.copy(null,D,null,null,null):J.copy(null,null,null,null,J.right.insert(g,D,B)),J.fixUp_()}removeMin_(){if(this.left.isEmpty())return Ni.EMPTY_NODE;let g=this;return!g.left.isRed_()&&!g.left.left.isRed_()&&(g=g.moveRedLeft_()),g=g.copy(null,null,null,g.left.removeMin_(),null),g.fixUp_()}remove(g,D){let B,J;if(B=this,D(g,B.key)<0)!B.left.isEmpty()&&!B.left.isRed_()&&!B.left.left.isRed_()&&(B=B.moveRedLeft_()),B=B.copy(null,null,null,B.left.remove(g,D),null);else{if(B.left.isRed_()&&(B=B.rotateRight_()),!B.right.isEmpty()&&!B.right.isRed_()&&!B.right.left.isRed_()&&(B=B.moveRedRight_()),0===D(g,B.key)){if(B.right.isEmpty())return Ni.EMPTY_NODE;J=B.right.min_(),B=B.copy(J.key,J.value,null,null,B.right.removeMin_())}B=B.copy(null,null,null,null,B.right.remove(g,D))}return B.fixUp_()}isRed_(){return this.color}fixUp_(){let g=this;return g.right.isRed_()&&!g.left.isRed_()&&(g=g.rotateLeft_()),g.left.isRed_()&&g.left.left.isRed_()&&(g=g.rotateRight_()),g.left.isRed_()&&g.right.isRed_()&&(g=g.colorFlip_()),g}moveRedLeft_(){let g=this.colorFlip_();return g.right.left.isRed_()&&(g=g.copy(null,null,null,null,g.right.rotateRight_()),g=g.rotateLeft_(),g=g.colorFlip_()),g}moveRedRight_(){let g=this.colorFlip_();return g.left.left.isRed_()&&(g=g.rotateRight_(),g=g.colorFlip_()),g}rotateLeft_(){const g=this.copy(null,null,v.RED,null,this.right.left);return this.right.copy(null,null,this.color,g,null)}rotateRight_(){const g=this.copy(null,null,v.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,g)}colorFlip_(){const g=this.left.copy(null,null,!this.left.color,null,null),D=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,g,D)}checkMaxDepth_(){const g=this.check_();return Math.pow(2,g)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const g=this.left.check_();if(g!==this.right.check_())throw new Error("Black depths differ");return g+(this.isRed_()?0:1)}}return v.RED=!0,v.BLACK=!1,v})();class Ni{constructor(p,g=Ni.EMPTY_NODE){this.comparator_=p,this.root_=g}insert(p,g){return new Ni(this.comparator_,this.root_.insert(p,g,this.comparator_).copy(null,null,ho.BLACK,null,null))}remove(p){return new Ni(this.comparator_,this.root_.remove(p,this.comparator_).copy(null,null,ho.BLACK,null,null))}get(p){let g,D=this.root_;for(;!D.isEmpty();){if(g=this.comparator_(p,D.key),0===g)return D.value;g<0?D=D.left:g>0&&(D=D.right)}return null}getPredecessorKey(p){let g,D=this.root_,B=null;for(;!D.isEmpty();){if(g=this.comparator_(p,D.key),0===g){if(D.left.isEmpty())return B?B.key:null;for(D=D.left;!D.right.isEmpty();)D=D.right;return D.key}g<0?D=D.left:g>0&&(B=D,D=D.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(p){return this.root_.inorderTraversal(p)}reverseTraversal(p){return this.root_.reverseTraversal(p)}getIterator(p){return new fs(this.root_,null,this.comparator_,!1,p)}getIteratorFrom(p,g){return new fs(this.root_,p,this.comparator_,!1,g)}getReverseIteratorFrom(p,g){return new fs(this.root_,p,this.comparator_,!0,g)}getReverseIterator(p){return new fs(this.root_,null,this.comparator_,!0,p)}}function Go(v,p){return $r(v.name,p.name)}function xo(v,p){return $r(v,p)}Ni.EMPTY_NODE=new class oo{copy(p,g,D,B,J){return this}insert(p,g,D){return new ho(p,g,null)}remove(p,g){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(p){return!1}reverseTraversal(p){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const to=function(v){return"number"==typeof v?"number:"+Pi(v):"string:"+v},Zo=function(v){if(v.isLeafNode()){const p=v.val();(0,ee.hu)("string"==typeof p||"number"==typeof p||"object"==typeof p&&(0,ee.r3)(p,".sv"),"Priority must be a string or number.")}else(0,ee.hu)(v===bo||v.isEmpty(),"priority of unexpected type.");(0,ee.hu)(v===bo||v.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let ao,Ro,us,$s=(()=>{class v{constructor(g,D=v.__childrenNodeConstructor.EMPTY_NODE){this.value_=g,this.priorityNode_=D,this.lazyHash_=null,(0,ee.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),Zo(this.priorityNode_)}static set __childrenNodeConstructor(g){ao=g}static get __childrenNodeConstructor(){return ao}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(g){return new v(this.value_,g)}getImmediateChild(g){return".priority"===g?this.priorityNode_:v.__childrenNodeConstructor.EMPTY_NODE}getChild(g){return Ur(g)?this:".priority"===Tn(g)?this.priorityNode_:v.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(g,D){return null}updateImmediateChild(g,D){return".priority"===g?this.updatePriority(D):D.isEmpty()&&".priority"!==g?this:v.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(g,D).updatePriority(this.priorityNode_)}updateChild(g,D){const B=Tn(g);return null===B?D:D.isEmpty()&&".priority"!==B?this:((0,ee.hu)(".priority"!==B||1===Lr(g),".priority must be the last token in a path"),this.updateImmediateChild(B,v.__childrenNodeConstructor.EMPTY_NODE.updateChild(Br(g),D)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(g,D){return!1}val(g){return g&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let g="";this.priorityNode_.isEmpty()||(g+="priority:"+to(this.priorityNode_.val())+":");const D=typeof this.value_;g+=D+":",g+="number"===D?Pi(this.value_):this.value_,this.lazyHash_=Nt(g)}return this.lazyHash_}getValue(){return this.value_}compareTo(g){return g===v.__childrenNodeConstructor.EMPTY_NODE?1:g instanceof v.__childrenNodeConstructor?-1:((0,ee.hu)(g.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(g))}compareToLeafNode_(g){const D=typeof g.value_,B=typeof this.value_,J=v.VALUE_TYPE_ORDER.indexOf(D),fe=v.VALUE_TYPE_ORDER.indexOf(B);return(0,ee.hu)(J>=0,"Unknown leaf type: "+D),(0,ee.hu)(fe>=0,"Unknown leaf type: "+B),J===fe?"object"===B?0:this.value_<g.value_?-1:this.value_===g.value_?0:1:fe-J}withIndex(){return this}isIndexed(){return!0}equals(g){return g===this||!!g.isLeafNode()&&(this.value_===g.value_&&this.priorityNode_.equals(g.priorityNode_))}}return v.VALUE_TYPE_ORDER=["object","boolean","number","string"],v})();const qi=new class jo extends Bs{compare(p,g){const D=p.node.getPriority(),B=g.node.getPriority(),J=D.compareTo(B);return 0===J?$r(p.name,g.name):J}isDefinedOn(p){return!p.getPriority().isEmpty()}indexedValueChanged(p,g){return!p.getPriority().equals(g.getPriority())}minPost(){return Ri.MIN}maxPost(){return new Ri(Pr,new $s("[PRIORITY-POST]",us))}makePost(p,g){const D=Ro(p);return new Ri(g,new $s("[PRIORITY-POST]",D))}toString(){return".priority"}},O=Math.log(2);class he{constructor(p){this.count=parseInt(Math.log(p+1)/O,10),this.current_=this.count-1;const B=(J=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=p+1&B}nextBitIsOne(){const p=!(this.bits_&1<<this.current_);return this.current_--,p}}const N=function(v,p,g,D){v.sort(p);const B=function(bt,Ot){const Nn=Ot-bt;let Ln,rr;if(0===Nn)return null;if(1===Nn)return Ln=v[bt],rr=g?g(Ln):Ln,new ho(rr,Ln.node,ho.BLACK,null,null);{const Di=parseInt(Nn/2,10)+bt,Xi=B(bt,Di),go=B(Di+1,Ot);return Ln=v[Di],rr=g?g(Ln):Ln,new ho(rr,Ln.node,ho.BLACK,Xi,go)}},Ve=function(bt){let Ot=null,Nn=null,Ln=v.length;const rr=function(Xi,go){const ya=Ln-Xi,il=Ln;Ln-=Xi;const Kl=B(ya+1,il),bu=v[ya],Fh=g?g(bu):bu;Di(new ho(Fh,bu.node,go,null,Kl))},Di=function(Xi){Ot?(Ot.left=Xi,Ot=Xi):(Nn=Xi,Ot=Xi)};for(let Xi=0;Xi<bt.count;++Xi){const go=bt.nextBitIsOne(),ya=Math.pow(2,bt.count-(Xi+1));go?rr(ya,ho.BLACK):(rr(ya,ho.BLACK),rr(ya,ho.RED))}return Nn}(new he(v.length));return new Ni(D||p,Ve)};let ce;const Ge={};class _n{constructor(p,g){this.indexes_=p,this.indexSet_=g}static get Default(){return(0,ee.hu)(Ge&&qi,"ChildrenNode.ts has not been loaded"),ce=ce||new _n({".priority":Ge},{".priority":qi}),ce}get(p){const g=(0,ee.DV)(this.indexes_,p);if(!g)throw new Error("No index defined for "+p);return g instanceof Ni?g:null}hasIndex(p){return(0,ee.r3)(this.indexSet_,p.toString())}addIndex(p,g){(0,ee.hu)(p!==hs,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const D=[];let B=!1;const J=g.getIterator(Ri.Wrap);let Ve,fe=J.getNext();for(;fe;)B=B||p.isDefinedOn(fe.node),D.push(fe),fe=J.getNext();Ve=B?N(D,p.getCompare()):Ge;const bt=p.toString(),Ot=Object.assign({},this.indexSet_);Ot[bt]=p;const Nn=Object.assign({},this.indexes_);return Nn[bt]=Ve,new _n(Nn,Ot)}addToIndexes(p,g){const D=(0,ee.UI)(this.indexes_,(B,J)=>{const fe=(0,ee.DV)(this.indexSet_,J);if((0,ee.hu)(fe,"Missing index implementation for "+J),B===Ge){if(fe.isDefinedOn(p.node)){const Ve=[],bt=g.getIterator(Ri.Wrap);let Ot=bt.getNext();for(;Ot;)Ot.name!==p.name&&Ve.push(Ot),Ot=bt.getNext();return Ve.push(p),N(Ve,fe.getCompare())}return Ge}{const Ve=g.get(p.name);let bt=B;return Ve&&(bt=bt.remove(new Ri(p.name,Ve))),bt.insert(p,p.node)}});return new _n(D,this.indexSet_)}removeFromIndexes(p,g){const D=(0,ee.UI)(this.indexes_,B=>{if(B===Ge)return B;{const J=g.get(p.name);return J?B.remove(new Ri(p.name,J)):B}});return new _n(D,this.indexSet_)}}let Tr,Xn=(()=>{class v{constructor(g,D,B){this.children_=g,this.priorityNode_=D,this.indexMap_=B,this.lazyHash_=null,this.priorityNode_&&Zo(this.priorityNode_),this.children_.isEmpty()&&(0,ee.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Tr||(Tr=new v(new Ni(xo),null,_n.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Tr}updatePriority(g){return this.children_.isEmpty()?this:new v(this.children_,g,this.indexMap_)}getImmediateChild(g){if(".priority"===g)return this.getPriority();{const D=this.children_.get(g);return null===D?Tr:D}}getChild(g){const D=Tn(g);return null===D?this:this.getImmediateChild(D).getChild(Br(g))}hasChild(g){return null!==this.children_.get(g)}updateImmediateChild(g,D){if((0,ee.hu)(D,"We should always be passing snapshot nodes"),".priority"===g)return this.updatePriority(D);{const B=new Ri(g,D);let J,fe;D.isEmpty()?(J=this.children_.remove(g),fe=this.indexMap_.removeFromIndexes(B,this.children_)):(J=this.children_.insert(g,D),fe=this.indexMap_.addToIndexes(B,this.children_));const Ve=J.isEmpty()?Tr:this.priorityNode_;return new v(J,Ve,fe)}}updateChild(g,D){const B=Tn(g);if(null===B)return D;{(0,ee.hu)(".priority"!==Tn(g)||1===Lr(g),".priority must be the last token in a path");const J=this.getImmediateChild(B).updateChild(Br(g),D);return this.updateImmediateChild(B,J)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(g){if(this.isEmpty())return null;const D={};let B=0,J=0,fe=!0;if(this.forEachChild(qi,(Ve,bt)=>{D[Ve]=bt.val(g),B++,fe&&v.INTEGER_REGEXP_.test(Ve)?J=Math.max(J,Number(Ve)):fe=!1}),!g&&fe&&J<2*B){const Ve=[];for(const bt in D)Ve[bt]=D[bt];return Ve}return g&&!this.getPriority().isEmpty()&&(D[".priority"]=this.getPriority().val()),D}hash(){if(null===this.lazyHash_){let g="";this.getPriority().isEmpty()||(g+="priority:"+to(this.getPriority().val())+":"),this.forEachChild(qi,(D,B)=>{const J=B.hash();""!==J&&(g+=":"+D+":"+J)}),this.lazyHash_=""===g?"":Nt(g)}return this.lazyHash_}getPredecessorChildName(g,D,B){const J=this.resolveIndex_(B);if(J){const fe=J.getPredecessorKey(new Ri(g,D));return fe?fe.name:null}return this.children_.getPredecessorKey(g)}getFirstChildName(g){const D=this.resolveIndex_(g);if(D){const B=D.minKey();return B&&B.name}return this.children_.minKey()}getFirstChild(g){const D=this.getFirstChildName(g);return D?new Ri(D,this.children_.get(D)):null}getLastChildName(g){const D=this.resolveIndex_(g);if(D){const B=D.maxKey();return B&&B.name}return this.children_.maxKey()}getLastChild(g){const D=this.getLastChildName(g);return D?new Ri(D,this.children_.get(D)):null}forEachChild(g,D){const B=this.resolveIndex_(g);return B?B.inorderTraversal(J=>D(J.name,J.node)):this.children_.inorderTraversal(D)}getIterator(g){return this.getIteratorFrom(g.minPost(),g)}getIteratorFrom(g,D){const B=this.resolveIndex_(D);if(B)return B.getIteratorFrom(g,J=>J);{const J=this.children_.getIteratorFrom(g.name,Ri.Wrap);let fe=J.peek();for(;null!=fe&&D.compare(fe,g)<0;)J.getNext(),fe=J.peek();return J}}getReverseIterator(g){return this.getReverseIteratorFrom(g.maxPost(),g)}getReverseIteratorFrom(g,D){const B=this.resolveIndex_(D);if(B)return B.getReverseIteratorFrom(g,J=>J);{const J=this.children_.getReverseIteratorFrom(g.name,Ri.Wrap);let fe=J.peek();for(;null!=fe&&D.compare(fe,g)>0;)J.getNext(),fe=J.peek();return J}}compareTo(g){return this.isEmpty()?g.isEmpty()?0:-1:g.isLeafNode()||g.isEmpty()?1:g===ni?-1:0}withIndex(g){if(g===hs||this.indexMap_.hasIndex(g))return this;{const D=this.indexMap_.addIndex(g,this.children_);return new v(this.children_,this.priorityNode_,D)}}isIndexed(g){return g===hs||this.indexMap_.hasIndex(g)}equals(g){if(g===this)return!0;if(g.isLeafNode())return!1;{const D=g;if(this.getPriority().equals(D.getPriority())){if(this.children_.count()===D.children_.count()){const B=this.getIterator(qi),J=D.getIterator(qi);let fe=B.getNext(),Ve=J.getNext();for(;fe&&Ve;){if(fe.name!==Ve.name||!fe.node.equals(Ve.node))return!1;fe=B.getNext(),Ve=J.getNext()}return null===fe&&null===Ve}return!1}return!1}}resolveIndex_(g){return g===hs?null:this.indexMap_.get(g.toString())}}return v.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,v})();const ni=new class hi extends Xn{constructor(){super(new Ni(xo),Xn.EMPTY_NODE,_n.Default)}compareTo(p){return p===this?0:1}equals(p){return p===this}getPriority(){return this}getImmediateChild(p){return Xn.EMPTY_NODE}isEmpty(){return!1}};Object.defineProperties(Ri,{MIN:{value:new Ri(an,Xn.EMPTY_NODE)},MAX:{value:new Ri(Pr,ni)}}),Io.__EMPTY_NODE=Xn.EMPTY_NODE,$s.__childrenNodeConstructor=Xn,function Co(v){bo=v}(ni),function fo(v){us=v}(ni);const Es=!0;function Ci(v,p=null){if(null===v)return Xn.EMPTY_NODE;if("object"==typeof v&&".priority"in v&&(p=v[".priority"]),(0,ee.hu)(null===p||"string"==typeof p||"number"==typeof p||"object"==typeof p&&".sv"in p,"Invalid priority type found: "+typeof p),"object"==typeof v&&".value"in v&&null!==v[".value"]&&(v=v[".value"]),"object"!=typeof v||".sv"in v)return new $s(v,Ci(p));if(v instanceof Array||!Es){let g=Xn.EMPTY_NODE;return ar(v,(D,B)=>{if((0,ee.r3)(v,D)&&"."!==D.substring(0,1)){const J=Ci(B);(J.isLeafNode()||!J.isEmpty())&&(g=g.updateImmediateChild(D,J))}}),g.updatePriority(Ci(p))}{const g=[];let D=!1;if(ar(v,(fe,Ve)=>{if("."!==fe.substring(0,1)){const bt=Ci(Ve);bt.isEmpty()||(D=D||!bt.getPriority().isEmpty(),g.push(new Ri(fe,bt)))}}),0===g.length)return Xn.EMPTY_NODE;const J=N(g,Go,fe=>fe.name,xo);if(D){const fe=N(g,qi.getCompare());return new Xn(J,Ci(p),new _n({".priority":fe},{".priority":qi}))}return new Xn(J,Ci(p),_n.Default)}}!function Mo(v){Ro=v}(Ci);class Hs extends Bs{constructor(p){super(),this.indexPath_=p,(0,ee.hu)(!Ur(p)&&".priority"!==Tn(p),"Can't create PathIndex with empty path or .priority key")}extractChild(p){return p.getChild(this.indexPath_)}isDefinedOn(p){return!p.getChild(this.indexPath_).isEmpty()}compare(p,g){const D=this.extractChild(p.node),B=this.extractChild(g.node),J=D.compareTo(B);return 0===J?$r(p.name,g.name):J}makePost(p,g){const D=Ci(p),B=Xn.EMPTY_NODE.updateChild(this.indexPath_,D);return new Ri(g,B)}maxPost(){const p=Xn.EMPTY_NODE.updateChild(this.indexPath_,ni);return new Ri(Pr,p)}toString(){return is(this.indexPath_,0).join("/")}}const Ee=new class Do extends Bs{compare(p,g){const D=p.node.compareTo(g.node);return 0===D?$r(p.name,g.name):D}isDefinedOn(p){return!0}indexedValueChanged(p,g){return!p.equals(g)}minPost(){return Ri.MIN}maxPost(){return Ri.MAX}makePost(p,g){const D=Ci(p);return new Ri(g,D)}toString(){return".value"}};function le(v){return{type:"value",snapshotNode:v}}function $(v,p){return{type:"child_added",snapshotNode:p,childName:v}}function F(v,p){return{type:"child_removed",snapshotNode:p,childName:v}}function S(v,p,g){return{type:"child_changed",snapshotNode:p,childName:v,oldSnap:g}}class ge{constructor(p){this.index_=p}updateChild(p,g,D,B,J,fe){(0,ee.hu)(p.isIndexed(this.index_),"A node must be indexed if only a child is updated");const Ve=p.getImmediateChild(g);return Ve.getChild(B).equals(D.getChild(B))&&Ve.isEmpty()===D.isEmpty()||(null!=fe&&(D.isEmpty()?p.hasChild(g)?fe.trackChildChange(F(g,Ve)):(0,ee.hu)(p.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):Ve.isEmpty()?fe.trackChildChange($(g,D)):fe.trackChildChange(S(g,D,Ve))),p.isLeafNode()&&D.isEmpty())?p:p.updateImmediateChild(g,D).withIndex(this.index_)}updateFullNode(p,g,D){return null!=D&&(p.isLeafNode()||p.forEachChild(qi,(B,J)=>{g.hasChild(B)||D.trackChildChange(F(B,J))}),g.isLeafNode()||g.forEachChild(qi,(B,J)=>{if(p.hasChild(B)){const fe=p.getImmediateChild(B);fe.equals(J)||D.trackChildChange(S(B,J,fe))}else D.trackChildChange($(B,J))})),g.withIndex(this.index_)}updatePriority(p,g){return p.isEmpty()?Xn.EMPTY_NODE:p.updatePriority(g)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class ht{constructor(p){this.indexedFilter_=new ge(p.getIndex()),this.index_=p.getIndex(),this.startPost_=ht.getStartPost_(p),this.endPost_=ht.getEndPost_(p),this.startIsInclusive_=!p.startAfterSet_,this.endIsInclusive_=!p.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(p){const g=this.startIsInclusive_?this.index_.compare(this.getStartPost(),p)<=0:this.index_.compare(this.getStartPost(),p)<0,D=this.endIsInclusive_?this.index_.compare(p,this.getEndPost())<=0:this.index_.compare(p,this.getEndPost())<0;return g&&D}updateChild(p,g,D,B,J,fe){return this.matches(new Ri(g,D))||(D=Xn.EMPTY_NODE),this.indexedFilter_.updateChild(p,g,D,B,J,fe)}updateFullNode(p,g,D){g.isLeafNode()&&(g=Xn.EMPTY_NODE);let B=g.withIndex(this.index_);B=B.updatePriority(Xn.EMPTY_NODE);const J=this;return g.forEachChild(qi,(fe,Ve)=>{J.matches(new Ri(fe,Ve))||(B=B.updateImmediateChild(fe,Xn.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(p,B,D)}updatePriority(p,g){return p}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(p){if(p.hasStart()){const g=p.getIndexStartName();return p.getIndex().makePost(p.getIndexStartValue(),g)}return p.getIndex().minPost()}static getEndPost_(p){if(p.hasEnd()){const g=p.getIndexEndName();return p.getIndex().makePost(p.getIndexEndValue(),g)}return p.getIndex().maxPost()}}class Pt{constructor(p){this.withinDirectionalStart=g=>this.reverse_?this.withinEndPost(g):this.withinStartPost(g),this.withinDirectionalEnd=g=>this.reverse_?this.withinStartPost(g):this.withinEndPost(g),this.withinStartPost=g=>{const D=this.index_.compare(this.rangedFilter_.getStartPost(),g);return this.startIsInclusive_?D<=0:D<0},this.withinEndPost=g=>{const D=this.index_.compare(g,this.rangedFilter_.getEndPost());return this.endIsInclusive_?D<=0:D<0},this.rangedFilter_=new ht(p),this.index_=p.getIndex(),this.limit_=p.getLimit(),this.reverse_=!p.isViewFromLeft(),this.startIsInclusive_=!p.startAfterSet_,this.endIsInclusive_=!p.endBeforeSet_}updateChild(p,g,D,B,J,fe){return this.rangedFilter_.matches(new Ri(g,D))||(D=Xn.EMPTY_NODE),p.getImmediateChild(g).equals(D)?p:p.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(p,g,D,B,J,fe):this.fullLimitUpdateChild_(p,g,D,J,fe)}updateFullNode(p,g,D){let B;if(g.isLeafNode()||g.isEmpty())B=Xn.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<g.numChildren()&&g.isIndexed(this.index_)){let J;B=Xn.EMPTY_NODE.withIndex(this.index_),J=this.reverse_?g.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):g.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let fe=0;for(;J.hasNext()&&fe<this.limit_;){const Ve=J.getNext();if(this.withinDirectionalStart(Ve)){if(!this.withinDirectionalEnd(Ve))break;B=B.updateImmediateChild(Ve.name,Ve.node),fe++}}}else{let J;B=g.withIndex(this.index_),B=B.updatePriority(Xn.EMPTY_NODE),J=this.reverse_?B.getReverseIterator(this.index_):B.getIterator(this.index_);let fe=0;for(;J.hasNext();){const Ve=J.getNext();fe<this.limit_&&this.withinDirectionalStart(Ve)&&this.withinDirectionalEnd(Ve)?fe++:B=B.updateImmediateChild(Ve.name,Xn.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(p,B,D)}updatePriority(p,g){return p}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(p,g,D,B,J){let fe;if(this.reverse_){const Ln=this.index_.getCompare();fe=(rr,Di)=>Ln(Di,rr)}else fe=this.index_.getCompare();const Ve=p;(0,ee.hu)(Ve.numChildren()===this.limit_,"");const bt=new Ri(g,D),Ot=this.reverse_?Ve.getFirstChild(this.index_):Ve.getLastChild(this.index_),Nn=this.rangedFilter_.matches(bt);if(Ve.hasChild(g)){const Ln=Ve.getImmediateChild(g);let rr=B.getChildAfterChild(this.index_,Ot,this.reverse_);for(;null!=rr&&(rr.name===g||Ve.hasChild(rr.name));)rr=B.getChildAfterChild(this.index_,rr,this.reverse_);const Di=null==rr?1:fe(rr,bt);if(Nn&&!D.isEmpty()&&Di>=0)return null!=J&&J.trackChildChange(S(g,D,Ln)),Ve.updateImmediateChild(g,D);{null!=J&&J.trackChildChange(F(g,Ln));const go=Ve.updateImmediateChild(g,Xn.EMPTY_NODE);return null!=rr&&this.rangedFilter_.matches(rr)?(null!=J&&J.trackChildChange($(rr.name,rr.node)),go.updateImmediateChild(rr.name,rr.node)):go}}return D.isEmpty()?p:Nn&&fe(Ot,bt)>=0?(null!=J&&(J.trackChildChange(F(Ot.name,Ot.node)),J.trackChildChange($(g,D))),Ve.updateImmediateChild(g,D).updateImmediateChild(Ot.name,Xn.EMPTY_NODE)):p}}class dn{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=qi}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,ee.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,ee.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:an}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,ee.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,ee.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Pr}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,ee.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===qi}copy(){const p=new dn;return p.limitSet_=this.limitSet_,p.limit_=this.limit_,p.startSet_=this.startSet_,p.startAfterSet_=this.startAfterSet_,p.indexStartValue_=this.indexStartValue_,p.startNameSet_=this.startNameSet_,p.indexStartName_=this.indexStartName_,p.endSet_=this.endSet_,p.endBeforeSet_=this.endBeforeSet_,p.indexEndValue_=this.indexEndValue_,p.endNameSet_=this.endNameSet_,p.indexEndName_=this.indexEndName_,p.index_=this.index_,p.viewFrom_=this.viewFrom_,p}}function gi(v,p,g){const D=v.copy();return D.startSet_=!0,void 0===p&&(p=null),D.indexStartValue_=p,null!=g?(D.startNameSet_=!0,D.indexStartName_=g):(D.startNameSet_=!1,D.indexStartName_=""),D}function mi(v,p,g){const D=v.copy();return D.endSet_=!0,void 0===p&&(p=null),D.indexEndValue_=p,void 0!==g?(D.endNameSet_=!0,D.indexEndName_=g):(D.endNameSet_=!1,D.indexEndName_=""),D}function qs(v,p){const g=v.copy();return g.index_=p,g}function xs(v){const p={};if(v.isDefault())return p;let g;if(v.index_===qi?g="$priority":v.index_===Ee?g="$value":v.index_===hs?g="$key":((0,ee.hu)(v.index_ instanceof Hs,"Unrecognized index type!"),g=v.index_.toString()),p.orderBy=(0,ee.Wl)(g),v.startSet_){const D=v.startAfterSet_?"startAfter":"startAt";p[D]=(0,ee.Wl)(v.indexStartValue_),v.startNameSet_&&(p[D]+=","+(0,ee.Wl)(v.indexStartName_))}if(v.endSet_){const D=v.endBeforeSet_?"endBefore":"endAt";p[D]=(0,ee.Wl)(v.indexEndValue_),v.endNameSet_&&(p[D]+=","+(0,ee.Wl)(v.indexEndName_))}return v.limitSet_&&(v.isViewFromLeft()?p.limitToFirst=v.limit_:p.limitToLast=v.limit_),p}function Ws(v){const p={};if(v.startSet_&&(p.sp=v.indexStartValue_,v.startNameSet_&&(p.sn=v.indexStartName_),p.sin=!v.startAfterSet_),v.endSet_&&(p.ep=v.indexEndValue_,v.endNameSet_&&(p.en=v.indexEndName_),p.ein=!v.endBeforeSet_),v.limitSet_){p.l=v.limit_;let g=v.viewFrom_;""===g&&(g=v.isViewFromLeft()?"l":"r"),p.vf=g}return v.index_!==qi&&(p.i=v.index_.toString()),p}class wi extends Un{constructor(p,g,D,B){super(),this.repoInfo_=p,this.onDataUpdate_=g,this.authTokenProvider_=D,this.appCheckTokenProvider_=B,this.log_=cn("p:rest:"),this.listens_={}}reportStats(p){throw new Error("Method not implemented.")}static getListenId_(p,g){return void 0!==g?"tag$"+g:((0,ee.hu)(p._queryParams.isDefault(),"should have a tag if it's not a default query."),p._path.toString())}listen(p,g,D,B){const J=p._path.toString();this.log_("Listen called for "+J+" "+p._queryIdentifier);const fe=wi.getListenId_(p,D),Ve={};this.listens_[fe]=Ve;const bt=xs(p._queryParams);this.restRequest_(J+".json",bt,(Ot,Nn)=>{let Ln=Nn;if(404===Ot&&(Ln=null,Ot=null),null===Ot&&this.onDataUpdate_(J,Ln,!1,D),(0,ee.DV)(this.listens_,fe)===Ve){let rr;rr=Ot?401===Ot?"permission_denied":"rest_error:"+Ot:"ok",B(rr,null)}})}unlisten(p,g){const D=wi.getListenId_(p,g);delete this.listens_[D]}get(p){const g=xs(p._queryParams),D=p._path.toString(),B=new ee.BH;return this.restRequest_(D+".json",g,(J,fe)=>{let Ve=fe;404===J&&(Ve=null,J=null),null===J?(this.onDataUpdate_(D,Ve,!1,null),B.resolve(Ve)):B.reject(new Error(Ve))}),B.promise}refreshAuthToken(p){}restRequest_(p,g={},D){return g.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([B,J])=>{B&&B.accessToken&&(g.auth=B.accessToken),J&&J.token&&(g.ac=J.token);const fe=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+p+"?ns="+this.repoInfo_.namespace+(0,ee.xO)(g);this.log_("Sending REST request for "+fe);const Ve=new XMLHttpRequest;Ve.onreadystatechange=()=>{if(D&&4===Ve.readyState){this.log_("REST Response for "+fe+" received. status:",Ve.status,"response:",Ve.responseText);let bt=null;if(Ve.status>=200&&Ve.status<300){try{bt=(0,ee.cI)(Ve.responseText)}catch{er("Failed to parse JSON response for "+fe+": "+Ve.responseText)}D(null,bt)}else 401!==Ve.status&&404!==Ve.status&&er("Got unsuccessful REST response for "+fe+" Status: "+Ve.status),D(Ve.status);D=null}},Ve.open("GET",fe,!0),Ve.send()})}}class Cs{constructor(){this.rootNode_=Xn.EMPTY_NODE}getNode(p){return this.rootNode_.getChild(p)}updateSnapshot(p,g){this.rootNode_=this.rootNode_.updateChild(p,g)}}function no(){return{value:null,children:new Map}}function zo(v,p,g){if(Ur(p))v.value=g,v.children.clear();else if(null!==v.value)v.value=v.value.updateChild(p,g);else{const D=Tn(p);v.children.has(D)||v.children.set(D,no()),zo(v.children.get(D),p=Br(p),g)}}function So(v,p){if(Ur(p))return v.value=null,v.children.clear(),!0;if(null!==v.value){if(v.value.isLeafNode())return!1;{const g=v.value;return v.value=null,g.forEachChild(qi,(D,B)=>{zo(v,new Ti(D),B)}),So(v,p)}}if(v.children.size>0){const g=Tn(p);return p=Br(p),v.children.has(g)&&So(v.children.get(g),p)&&v.children.delete(g),0===v.children.size}return!0}function sa(v,p,g){null!==v.value?g(p,v.value):function Jo(v,p){v.children.forEach((g,D)=>{p(D,g)})}(v,(D,B)=>{sa(B,new Ti(p.toString()+"/"+D),g)})}class Da{constructor(p){this.collection_=p,this.last_=null}get(){const p=this.collection_.get(),g=Object.assign({},p);return this.last_&&ar(this.last_,(D,B)=>{g[D]=g[D]-B}),this.last_=p,g}}class Vs{constructor(p,g){this.server_=g,this.statsToReport_={},this.statsListener_=new Da(p);const D=1e4+2e4*Math.random();br(this.reportStats_.bind(this),Math.floor(D))}reportStats_(){const p=this.statsListener_.get(),g={};let D=!1;ar(p,(B,J)=>{J>0&&(0,ee.r3)(this.statsToReport_,B)&&(g[B]=J,D=!0)}),D&&this.server_.reportStats(g),br(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var To=(()=>((To=To||{})[To.OVERWRITE=0]="OVERWRITE",To[To.MERGE=1]="MERGE",To[To.ACK_USER_WRITE=2]="ACK_USER_WRITE",To[To.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",To))();function Ta(v){return{fromUser:!1,fromServer:!0,queryId:v,tagged:!0}}class M{constructor(p,g,D){this.path=p,this.affectedTree=g,this.revert=D,this.type=To.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(p){if(Ur(this.path)){if(null!=this.affectedTree.value)return(0,ee.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const g=this.affectedTree.subtree(new Ti(p));return new M(Mr(),g,this.revert)}}return(0,ee.hu)(Tn(this.path)===p,"operationForChild called for unrelated child."),new M(Br(this.path),this.affectedTree,this.revert)}}class Z{constructor(p,g){this.source=p,this.path=g,this.type=To.LISTEN_COMPLETE}operationForChild(p){return Ur(this.path)?new Z(this.source,Mr()):new Z(this.source,Br(this.path))}}class oe{constructor(p,g,D){this.source=p,this.path=g,this.snap=D,this.type=To.OVERWRITE}operationForChild(p){return Ur(this.path)?new oe(this.source,Mr(),this.snap.getImmediateChild(p)):new oe(this.source,Br(this.path),this.snap)}}class De{constructor(p,g,D){this.source=p,this.path=g,this.children=D,this.type=To.MERGE}operationForChild(p){if(Ur(this.path)){const g=this.children.subtree(new Ti(p));return g.isEmpty()?null:g.value?new oe(this.source,Mr(),g.value):new De(this.source,Mr(),g)}return(0,ee.hu)(Tn(this.path)===p,"Can't get a merge for a child not on the path of the operation"),new De(this.source,Br(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class Be{constructor(p,g,D){this.node_=p,this.fullyInitialized_=g,this.filtered_=D}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(p){if(Ur(p))return this.isFullyInitialized()&&!this.filtered_;const g=Tn(p);return this.isCompleteForChild(g)}isCompleteForChild(p){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(p)}getNode(){return this.node_}}class at{constructor(p){this.query_=p,this.index_=this.query_._queryParams.getIndex()}}function Wt(v,p,g,D,B,J){const fe=D.filter(Ve=>Ve.type===g);fe.sort((Ve,bt)=>function Fn(v,p,g){if(null==p.childName||null==g.childName)throw(0,ee.g5)("Should only compare child_ events.");const D=new Ri(p.childName,p.snapshotNode),B=new Ri(g.childName,g.snapshotNode);return v.index_.compare(D,B)}(v,Ve,bt)),fe.forEach(Ve=>{const bt=function rn(v,p,g){return"value"===p.type||"child_removed"===p.type||(p.prevName=g.getPredecessorChildName(p.childName,p.snapshotNode,v.index_)),p}(v,Ve,J);B.forEach(Ot=>{Ot.respondsTo(Ve.type)&&p.push(Ot.createEvent(bt,v.query_))})})}function sr(v,p){return{eventCache:v,serverCache:p}}function ri(v,p,g,D){return sr(new Be(p,g,D),v.serverCache)}function Hr(v,p,g,D){return sr(v.eventCache,new Be(p,g,D))}function Ms(v){return v.eventCache.isFullyInitialized()?v.eventCache.getNode():null}function Gs(v){return v.serverCache.isFullyInitialized()?v.serverCache.getNode():null}let K;class Q{constructor(p,g=(()=>(K||(K=new Ni(xr)),K))()){this.value=p,this.children=g}static fromObject(p){let g=new Q(null);return ar(p,(D,B)=>{g=g.set(new Ti(D),B)}),g}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(p,g){if(null!=this.value&&g(this.value))return{path:Mr(),value:this.value};if(Ur(p))return null;{const D=Tn(p),B=this.children.get(D);if(null!==B){const J=B.findRootMostMatchingPathAndValue(Br(p),g);return null!=J?{path:Jr(new Ti(D),J.path),value:J.value}:null}return null}}findRootMostValueAndPath(p){return this.findRootMostMatchingPathAndValue(p,()=>!0)}subtree(p){if(Ur(p))return this;{const g=Tn(p),D=this.children.get(g);return null!==D?D.subtree(Br(p)):new Q(null)}}set(p,g){if(Ur(p))return new Q(g,this.children);{const D=Tn(p),J=(this.children.get(D)||new Q(null)).set(Br(p),g),fe=this.children.insert(D,J);return new Q(this.value,fe)}}remove(p){if(Ur(p))return this.children.isEmpty()?new Q(null):new Q(null,this.children);{const g=Tn(p),D=this.children.get(g);if(D){const B=D.remove(Br(p));let J;return J=B.isEmpty()?this.children.remove(g):this.children.insert(g,B),null===this.value&&J.isEmpty()?new Q(null):new Q(this.value,J)}return this}}get(p){if(Ur(p))return this.value;{const g=Tn(p),D=this.children.get(g);return D?D.get(Br(p)):null}}setTree(p,g){if(Ur(p))return g;{const D=Tn(p),J=(this.children.get(D)||new Q(null)).setTree(Br(p),g);let fe;return fe=J.isEmpty()?this.children.remove(D):this.children.insert(D,J),new Q(this.value,fe)}}fold(p){return this.fold_(Mr(),p)}fold_(p,g){const D={};return this.children.inorderTraversal((B,J)=>{D[B]=J.fold_(Jr(p,B),g)}),g(p,this.value,D)}findOnPath(p,g){return this.findOnPath_(p,Mr(),g)}findOnPath_(p,g,D){const B=!!this.value&&D(g,this.value);if(B)return B;if(Ur(p))return null;{const J=Tn(p),fe=this.children.get(J);return fe?fe.findOnPath_(Br(p),Jr(g,J),D):null}}foreachOnPath(p,g){return this.foreachOnPath_(p,Mr(),g)}foreachOnPath_(p,g,D){if(Ur(p))return this;{this.value&&D(g,this.value);const B=Tn(p),J=this.children.get(B);return J?J.foreachOnPath_(Br(p),Jr(g,B),D):new Q(null)}}foreach(p){this.foreach_(Mr(),p)}foreach_(p,g){this.children.inorderTraversal((D,B)=>{B.foreach_(Jr(p,D),g)}),this.value&&g(p,this.value)}foreachChild(p){this.children.inorderTraversal((g,D)=>{D.value&&p(g,D.value)})}}class Pe{constructor(p){this.writeTree_=p}static empty(){return new Pe(new Q(null))}}function _t(v,p,g){if(Ur(p))return new Pe(new Q(g));{const D=v.writeTree_.findRootMostValueAndPath(p);if(null!=D){const B=D.path;let J=D.value;const fe=ji(B,p);return J=J.updateChild(fe,g),new Pe(v.writeTree_.set(B,J))}{const B=new Q(g),J=v.writeTree_.setTree(p,B);return new Pe(J)}}}function mn(v,p,g){let D=v;return ar(g,(B,J)=>{D=_t(D,Jr(p,B),J)}),D}function Pn(v,p){if(Ur(p))return Pe.empty();{const g=v.writeTree_.setTree(p,new Q(null));return new Pe(g)}}function ii(v,p){return null!=hr(v,p)}function hr(v,p){const g=v.writeTree_.findRootMostValueAndPath(p);return null!=g?v.writeTree_.get(g.path).getChild(ji(g.path,p)):null}function Hi(v){const p=[],g=v.writeTree_.value;return null!=g?g.isLeafNode()||g.forEachChild(qi,(D,B)=>{p.push(new Ri(D,B))}):v.writeTree_.children.inorderTraversal((D,B)=>{null!=B.value&&p.push(new Ri(D,B.value))}),p}function ei(v,p){if(Ur(p))return v;{const g=hr(v,p);return new Pe(null!=g?new Q(g):v.writeTree_.subtree(p))}}function Li(v){return v.writeTree_.isEmpty()}function ds(v,p){return Ps(Mr(),v.writeTree_,p)}function Ps(v,p,g){if(null!=p.value)return g.updateChild(v,p.value);{let D=null;return p.children.inorderTraversal((B,J)=>{".priority"===B?((0,ee.hu)(null!==J.value,"Priority writes must always be leaf nodes"),D=J.value):g=Ps(Jr(v,B),J,g)}),!g.getChild(v).isEmpty()&&null!==D&&(g=g.updateChild(Jr(v,".priority"),D)),g}}function lo(v,p){return $i(p,v)}function Rr(v,p){if(v.snap)return _s(v.path,p);for(const g in v.children)if(v.children.hasOwnProperty(g)&&_s(Jr(v.path,g),p))return!0;return!1}function Gn(v){return v.visible}function Bn(v,p,g){let D=Pe.empty();for(let B=0;B<v.length;++B){const J=v[B];if(p(J)){const fe=J.path;let Ve;if(J.snap)_s(g,fe)?(Ve=ji(g,fe),D=_t(D,Ve,J.snap)):_s(fe,g)&&(Ve=ji(fe,g),D=_t(D,Mr(),J.snap.getChild(Ve)));else{if(!J.children)throw(0,ee.g5)("WriteRecord should have .snap or .children");if(_s(g,fe))Ve=ji(g,fe),D=mn(D,Ve,J.children);else if(_s(fe,g))if(Ve=ji(fe,g),Ur(Ve))D=mn(D,Mr(),J.children);else{const bt=(0,ee.DV)(J.children,Tn(Ve));if(bt){const Ot=bt.getChild(Br(Ve));D=_t(D,Mr(),Ot)}}}}}return D}function Dn(v,p,g,D,B){if(D||B){const J=ei(v.visibleWrites,p);return!B&&Li(J)?g:B||null!=g||ii(J,Mr())?ds(Bn(v.allWrites,function(Ot){return(Ot.visible||B)&&(!D||!~D.indexOf(Ot.writeId))&&(_s(Ot.path,p)||_s(p,Ot.path))},p),g||Xn.EMPTY_NODE):null}{const J=hr(v.visibleWrites,p);if(null!=J)return J;{const fe=ei(v.visibleWrites,p);return Li(fe)?g:null!=g||ii(fe,Mr())?ds(fe,g||Xn.EMPTY_NODE):null}}}function al(v,p,g,D){return Dn(v.writeTree,v.treePath,p,g,D)}function ta(v,p){return function Zn(v,p,g){let D=Xn.EMPTY_NODE;const B=hr(v.visibleWrites,p);if(B)return B.isLeafNode()||B.forEachChild(qi,(J,fe)=>{D=D.updateImmediateChild(J,fe)}),D;if(g){const J=ei(v.visibleWrites,p);return g.forEachChild(qi,(fe,Ve)=>{const bt=ds(ei(J,new Ti(fe)),Ve);D=D.updateImmediateChild(fe,bt)}),Hi(J).forEach(fe=>{D=D.updateImmediateChild(fe.name,fe.node)}),D}return Hi(ei(v.visibleWrites,p)).forEach(fe=>{D=D.updateImmediateChild(fe.name,fe.node)}),D}(v.writeTree,v.treePath,p)}function La(v,p,g,D){return function Ds(v,p,g,D,B){(0,ee.hu)(D||B,"Either existingEventSnap or existingServerSnap must exist");const J=Jr(p,g);if(ii(v.visibleWrites,J))return null;{const fe=ei(v.visibleWrites,J);return Li(fe)?B.getChild(g):ds(fe,B.getChild(g))}}(v.writeTree,v.treePath,p,g,D)}function ml(v,p){return function Fa(v,p){return hr(v.visibleWrites,p)}(v.writeTree,Jr(v.treePath,p))}function Bo(v,p,g){return function aa(v,p,g,D){const B=Jr(p,g),J=hr(v.visibleWrites,B);return null!=J?J:D.isCompleteForChild(g)?ds(ei(v.visibleWrites,B),D.getNode().getImmediateChild(g)):null}(v.writeTree,v.treePath,p,g)}function ll(v,p){return $i(Jr(v.treePath,p),v.writeTree)}function $i(v,p){return{treePath:v,writeTree:p}}class la{constructor(){this.changeMap=new Map}trackChildChange(p){const g=p.type,D=p.childName;(0,ee.hu)("child_added"===g||"child_changed"===g||"child_removed"===g,"Only child changes supported for tracking"),(0,ee.hu)(".priority"!==D,"Only non-priority child changes can be tracked.");const B=this.changeMap.get(D);if(B){const J=B.type;if("child_added"===g&&"child_removed"===J)this.changeMap.set(D,S(D,p.snapshotNode,B.snapshotNode));else if("child_removed"===g&&"child_added"===J)this.changeMap.delete(D);else if("child_removed"===g&&"child_changed"===J)this.changeMap.set(D,F(D,B.oldSnap));else if("child_changed"===g&&"child_added"===J)this.changeMap.set(D,$(D,p.snapshotNode));else{if("child_changed"!==g||"child_changed"!==J)throw(0,ee.g5)("Illegal combination of changes: "+p+" occurred after "+B);this.changeMap.set(D,S(D,p.snapshotNode,B.oldSnap))}}else this.changeMap.set(D,p)}getChanges(){return Array.from(this.changeMap.values())}}const ps=new class Al{getCompleteChild(p){return null}getChildAfterChild(p,g,D){return null}};class ti{constructor(p,g,D=null){this.writes_=p,this.viewCache_=g,this.optCompleteServerCache_=D}getCompleteChild(p){const g=this.viewCache_.eventCache;if(g.isCompleteForChild(p))return g.getNode().getImmediateChild(p);{const D=null!=this.optCompleteServerCache_?new Be(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Bo(this.writes_,p,D)}}getChildAfterChild(p,g,D){const B=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:Gs(this.viewCache_),J=function ks(v,p,g,D,B,J){return function _a(v,p,g,D,B,J,fe){let Ve;const bt=ei(v.visibleWrites,p),Ot=hr(bt,Mr());if(null!=Ot)Ve=Ot;else{if(null==g)return[];Ve=ds(bt,g)}if(Ve=Ve.withIndex(fe),Ve.isEmpty()||Ve.isLeafNode())return[];{const Nn=[],Ln=fe.getCompare(),rr=J?Ve.getReverseIteratorFrom(D,fe):Ve.getIteratorFrom(D,fe);let Di=rr.getNext();for(;Di&&Nn.length<B;)0!==Ln(Di,D)&&Nn.push(Di),Di=rr.getNext();return Nn}}(v.writeTree,v.treePath,p,g,D,B,J)}(this.writes_,B,g,1,D,p);return 0===J.length?null:J[0]}}function gr(v,p,g,D,B,J){const fe=p.eventCache;if(null!=ml(D,g))return p;{let Ve,bt;if(Ur(g))if((0,ee.hu)(p.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),p.serverCache.isFiltered()){const Ot=Gs(p),Ln=ta(D,Ot instanceof Xn?Ot:Xn.EMPTY_NODE);Ve=v.filter.updateFullNode(p.eventCache.getNode(),Ln,J)}else{const Ot=al(D,Gs(p));Ve=v.filter.updateFullNode(p.eventCache.getNode(),Ot,J)}else{const Ot=Tn(g);if(".priority"===Ot){(0,ee.hu)(1===Lr(g),"Can't have a priority with additional path components");const Nn=fe.getNode();bt=p.serverCache.getNode();const Ln=La(D,g,Nn,bt);Ve=null!=Ln?v.filter.updatePriority(Nn,Ln):fe.getNode()}else{const Nn=Br(g);let Ln;if(fe.isCompleteForChild(Ot)){bt=p.serverCache.getNode();const rr=La(D,g,fe.getNode(),bt);Ln=null!=rr?fe.getNode().getImmediateChild(Ot).updateChild(Nn,rr):fe.getNode().getImmediateChild(Ot)}else Ln=Bo(D,Ot,p.serverCache);Ve=null!=Ln?v.filter.updateChild(fe.getNode(),Ot,Ln,Nn,B,J):fe.getNode()}}return ri(p,Ve,fe.isFullyInitialized()||Ur(g),v.filter.filtersNodes())}}function Aa(v,p,g,D,B,J,fe,Ve){const bt=p.serverCache;let Ot;const Nn=fe?v.filter:v.filter.getIndexedFilter();if(Ur(g))Ot=Nn.updateFullNode(bt.getNode(),D,null);else if(Nn.filtersNodes()&&!bt.isFiltered()){const Di=bt.getNode().updateChild(g,D);Ot=Nn.updateFullNode(bt.getNode(),Di,null)}else{const Di=Tn(g);if(!bt.isCompleteForPath(g)&&Lr(g)>1)return p;const Xi=Br(g),ya=bt.getNode().getImmediateChild(Di).updateChild(Xi,D);Ot=".priority"===Di?Nn.updatePriority(bt.getNode(),ya):Nn.updateChild(bt.getNode(),Di,ya,Xi,ps,null)}const Ln=Hr(p,Ot,bt.isFullyInitialized()||Ur(g),Nn.filtersNodes());return gr(v,Ln,g,B,new ti(B,Ln,J),Ve)}function pa(v,p,g,D,B,J,fe){const Ve=p.eventCache;let bt,Ot;const Nn=new ti(B,p,J);if(Ur(g))Ot=v.filter.updateFullNode(p.eventCache.getNode(),D,fe),bt=ri(p,Ot,!0,v.filter.filtersNodes());else{const Ln=Tn(g);if(".priority"===Ln)Ot=v.filter.updatePriority(p.eventCache.getNode(),D),bt=ri(p,Ot,Ve.isFullyInitialized(),Ve.isFiltered());else{const rr=Br(g),Di=Ve.getNode().getImmediateChild(Ln);let Xi;if(Ur(rr))Xi=D;else{const go=Nn.getCompleteChild(Ln);Xi=null!=go?".priority"===Ts(rr)&&go.getChild(vo(rr)).isEmpty()?go:go.updateChild(rr,D):Xn.EMPTY_NODE}bt=Di.equals(Xi)?p:ri(p,v.filter.updateChild(Ve.getNode(),Ln,Xi,rr,Nn,fe),Ve.isFullyInitialized(),v.filter.filtersNodes())}}return bt}function xa(v,p){return v.eventCache.isCompleteForChild(p)}function nt(v,p,g){return g.foreach((D,B)=>{p=p.updateChild(D,B)}),p}function Zt(v,p,g,D,B,J,fe,Ve){if(p.serverCache.getNode().isEmpty()&&!p.serverCache.isFullyInitialized())return p;let Ot,bt=p;Ot=Ur(g)?D:new Q(null).setTree(g,D);const Nn=p.serverCache.getNode();return Ot.children.inorderTraversal((Ln,rr)=>{if(Nn.hasChild(Ln)){const Xi=nt(0,p.serverCache.getNode().getImmediateChild(Ln),rr);bt=Aa(v,bt,new Ti(Ln),Xi,B,J,fe,Ve)}}),Ot.children.inorderTraversal((Ln,rr)=>{const Di=!p.serverCache.isCompleteForChild(Ln)&&null===rr.value;if(!Nn.hasChild(Ln)&&!Di){const go=nt(0,p.serverCache.getNode().getImmediateChild(Ln),rr);bt=Aa(v,bt,new Ti(Ln),go,B,J,fe,Ve)}}),bt}class Wi{constructor(p,g){this.query_=p,this.eventRegistrations_=[];const D=this.query_._queryParams,B=new ge(D.getIndex()),J=function Mn(v){return v.loadsAllData()?new ge(v.getIndex()):v.hasLimit()?new Pt(v):new ht(v)}(D);this.processor_=function Ba(v){return{filter:v}}(J);const fe=g.serverCache,Ve=g.eventCache,bt=B.updateFullNode(Xn.EMPTY_NODE,fe.getNode(),null),Ot=J.updateFullNode(Xn.EMPTY_NODE,Ve.getNode(),null),Nn=new Be(bt,fe.isFullyInitialized(),B.filtersNodes()),Ln=new Be(Ot,Ve.isFullyInitialized(),J.filtersNodes());this.viewCache_=sr(Ln,Nn),this.eventGenerator_=new at(this.query_)}get query(){return this.query_}}function Gi(v,p){const g=Gs(v.viewCache_);return g&&(v.query._queryParams.loadsAllData()||!Ur(p)&&!g.getImmediateChild(Tn(p)).isEmpty())?g.getChild(p):null}function Ko(v){return 0===v.eventRegistrations_.length}function pn(v,p,g){const D=[];if(g){(0,ee.hu)(null==p,"A cancel should cancel all event registrations.");const B=v.query._path;v.eventRegistrations_.forEach(J=>{const fe=J.createCancelEvent(g,B);fe&&D.push(fe)})}if(p){let B=[];for(let J=0;J<v.eventRegistrations_.length;++J){const fe=v.eventRegistrations_[J];if(fe.matches(p)){if(p.hasAnyCallback()){B=B.concat(v.eventRegistrations_.slice(J+1));break}}else B.push(fe)}v.eventRegistrations_=B}else v.eventRegistrations_=[];return D}function $a(v,p,g,D){p.type===To.MERGE&&null!==p.source.queryId&&((0,ee.hu)(Gs(v.viewCache_),"We should always have a full cache before handling merges"),(0,ee.hu)(Ms(v.viewCache_),"Missing event cache, even though we have a server cache"));const B=v.viewCache_,J=function Wa(v,p,g,D,B){const J=new la;let fe,Ve;if(g.type===To.OVERWRITE){const Ot=g;Ot.source.fromUser?fe=pa(v,p,Ot.path,Ot.snap,D,B,J):((0,ee.hu)(Ot.source.fromServer,"Unknown source."),Ve=Ot.source.tagged||p.serverCache.isFiltered()&&!Ur(Ot.path),fe=Aa(v,p,Ot.path,Ot.snap,D,B,Ve,J))}else if(g.type===To.MERGE){const Ot=g;Ot.source.fromUser?fe=function el(v,p,g,D,B,J,fe){let Ve=p;return D.foreach((bt,Ot)=>{const Nn=Jr(g,bt);xa(p,Tn(Nn))&&(Ve=pa(v,Ve,Nn,Ot,B,J,fe))}),D.foreach((bt,Ot)=>{const Nn=Jr(g,bt);xa(p,Tn(Nn))||(Ve=pa(v,Ve,Nn,Ot,B,J,fe))}),Ve}(v,p,Ot.path,Ot.children,D,B,J):((0,ee.hu)(Ot.source.fromServer,"Unknown source."),Ve=Ot.source.tagged||p.serverCache.isFiltered(),fe=Zt(v,p,Ot.path,Ot.children,D,B,Ve,J))}else if(g.type===To.ACK_USER_WRITE){const Ot=g;fe=Ot.revert?function Vi(v,p,g,D,B,J){let fe;if(null!=ml(D,g))return p;{const Ve=new ti(D,p,B),bt=p.eventCache.getNode();let Ot;if(Ur(g)||".priority"===Tn(g)){let Nn;if(p.serverCache.isFullyInitialized())Nn=al(D,Gs(p));else{const Ln=p.serverCache.getNode();(0,ee.hu)(Ln instanceof Xn,"serverChildren would be complete if leaf node"),Nn=ta(D,Ln)}Ot=v.filter.updateFullNode(bt,Nn,J)}else{const Nn=Tn(g);let Ln=Bo(D,Nn,p.serverCache);null==Ln&&p.serverCache.isCompleteForChild(Nn)&&(Ln=bt.getImmediateChild(Nn)),Ot=null!=Ln?v.filter.updateChild(bt,Nn,Ln,Br(g),Ve,J):p.eventCache.getNode().hasChild(Nn)?v.filter.updateChild(bt,Nn,Xn.EMPTY_NODE,Br(g),Ve,J):bt,Ot.isEmpty()&&p.serverCache.isFullyInitialized()&&(fe=al(D,Gs(p)),fe.isLeafNode()&&(Ot=v.filter.updateFullNode(Ot,fe,J)))}return fe=p.serverCache.isFullyInitialized()||null!=ml(D,Mr()),ri(p,Ot,fe,v.filter.filtersNodes())}}(v,p,Ot.path,D,B,J):function Jt(v,p,g,D,B,J,fe){if(null!=ml(B,g))return p;const Ve=p.serverCache.isFiltered(),bt=p.serverCache;if(null!=D.value){if(Ur(g)&&bt.isFullyInitialized()||bt.isCompleteForPath(g))return Aa(v,p,g,bt.getNode().getChild(g),B,J,Ve,fe);if(Ur(g)){let Ot=new Q(null);return bt.getNode().forEachChild(hs,(Nn,Ln)=>{Ot=Ot.set(new Ti(Nn),Ln)}),Zt(v,p,g,Ot,B,J,Ve,fe)}return p}{let Ot=new Q(null);return D.foreach((Nn,Ln)=>{const rr=Jr(g,Nn);bt.isCompleteForPath(rr)&&(Ot=Ot.set(Nn,bt.getNode().getChild(rr)))}),Zt(v,p,g,Ot,B,J,Ve,fe)}}(v,p,Ot.path,Ot.affectedTree,D,B,J)}else{if(g.type!==To.LISTEN_COMPLETE)throw(0,ee.g5)("Unknown operation type: "+g.type);fe=function yr(v,p,g,D,B){const J=p.serverCache;return gr(v,Hr(p,J.getNode(),J.isFullyInitialized()||Ur(g),J.isFiltered()),g,D,ps,B)}(v,p,g.path,D,J)}const bt=J.getChanges();return function gs(v,p,g){const D=p.eventCache;if(D.isFullyInitialized()){const B=D.getNode().isLeafNode()||D.getNode().isEmpty(),J=Ms(v);(g.length>0||!v.eventCache.isFullyInitialized()||B&&!D.getNode().equals(J)||!D.getNode().getPriority().equals(J.getPriority()))&&g.push(le(Ms(p)))}}(p,fe,bt),{viewCache:fe,changes:bt}}(v.processor_,B,p,g,D);return function as(v,p){(0,ee.hu)(p.eventCache.getNode().isIndexed(v.filter.getIndex()),"Event snap not indexed"),(0,ee.hu)(p.serverCache.getNode().isIndexed(v.filter.getIndex()),"Server snap not indexed")}(v.processor_,J.viewCache),(0,ee.hu)(J.viewCache.serverCache.isFullyInitialized()||!B.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),v.viewCache_=J.viewCache,Il(v,J.changes,J.viewCache.eventCache.getNode(),null)}function Il(v,p,g,D){return function Tt(v,p,g,D){const B=[],J=[];return p.forEach(fe=>{"child_changed"===fe.type&&v.index_.indexedValueChanged(fe.oldSnap,fe.snapshotNode)&&J.push(function L(v,p){return{type:"child_moved",snapshotNode:p,childName:v}}(fe.childName,fe.snapshotNode))}),Wt(v,B,"child_removed",p,D,g),Wt(v,B,"child_added",p,D,g),Wt(v,B,"child_moved",J,D,g),Wt(v,B,"child_changed",p,D,g),Wt(v,B,"value",p,D,g),B}(v.eventGenerator_,p,g,D?[D]:v.eventRegistrations_)}let Ya,Zr;class Xo{constructor(){this.views=new Map}}function H(v,p,g,D){const B=p.source.queryId;if(null!==B){const J=v.views.get(B);return(0,ee.hu)(null!=J,"SyncTree gave us an op for an invalid query."),$a(J,p,g,D)}{let J=[];for(const fe of v.views.values())J=J.concat($a(fe,p,g,D));return J}}function R(v,p,g,D,B){const fe=v.views.get(p._queryIdentifier);if(!fe){let Ve=al(g,B?D:null),bt=!1;Ve?bt=!0:D instanceof Xn?(Ve=ta(g,D),bt=!1):(Ve=Xn.EMPTY_NODE,bt=!1);const Ot=sr(new Be(Ve,bt,!1),new Be(D,B,!1));return new Wi(p,Ot)}return fe}function Xe(v){const p=[];for(const g of v.views.values())g.query._queryParams.loadsAllData()||p.push(g);return p}function Ue(v,p){let g=null;for(const D of v.views.values())g=g||Gi(D,p);return g}function Yt(v,p){return p._queryParams.loadsAllData()?Mi(v):v.views.get(p._queryIdentifier)}function An(v,p){return null!=Yt(v,p)}function Ar(v){return null!=Mi(v)}function Mi(v){for(const p of v.views.values())if(p.query._queryParams.loadsAllData())return p;return null}let l=1;class s{constructor(p){this.listenProvider_=p,this.syncPointTree_=new Q(null),this.pendingWriteTree_=function Ja(){return{visibleWrites:Pe.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function c(v,p,g,D,B){return function Hn(v,p,g,D,B){(0,ee.hu)(D>v.lastWriteId,"Stacking an older write on top of newer ones"),void 0===B&&(B=!0),v.allWrites.push({path:p,snap:g,writeId:D,visible:B}),B&&(v.visibleWrites=_t(v.visibleWrites,p,g)),v.lastWriteId=D}(v.pendingWriteTree_,p,g,D,B),B?Xt(v,new oe({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},p,g)):[]}function _(v,p,g=!1){const D=function Ho(v,p){for(let g=0;g<v.allWrites.length;g++){const D=v.allWrites[g];if(D.writeId===p)return D}return null}(v.pendingWriteTree_,p);if(function ea(v,p){const g=v.allWrites.findIndex(Ve=>Ve.writeId===p);(0,ee.hu)(g>=0,"removeWrite called with nonexistent writeId.");const D=v.allWrites[g];v.allWrites.splice(g,1);let B=D.visible,J=!1,fe=v.allWrites.length-1;for(;B&&fe>=0;){const Ve=v.allWrites[fe];Ve.visible&&(fe>=g&&Rr(Ve,D.path)?B=!1:_s(D.path,Ve.path)&&(J=!0)),fe--}return!!B&&(J?(function si(v){v.visibleWrites=Bn(v.allWrites,Gn,Mr()),v.lastWriteId=v.allWrites.length>0?v.allWrites[v.allWrites.length-1].writeId:-1}(v),!0):(D.snap?v.visibleWrites=Pn(v.visibleWrites,D.path):ar(D.children,bt=>{v.visibleWrites=Pn(v.visibleWrites,Jr(D.path,bt))}),!0))}(v.pendingWriteTree_,p)){let J=new Q(null);return null!=D.snap?J=J.set(Mr(),!0):ar(D.children,fe=>{J=J.set(new Ti(fe),!0)}),Xt(v,new M(D.path,J,g))}return[]}function I(v,p,g){return Xt(v,new oe({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},p,g))}function ue(v,p,g,D,B=!1){const J=p._path,fe=v.syncPointTree_.get(J);let Ve=[];if(fe&&("default"===p._queryIdentifier||An(fe,p))){const bt=function me(v,p,g,D){const B=p._queryIdentifier,J=[];let fe=[];const Ve=Ar(v);if("default"===B)for(const[bt,Ot]of v.views.entries())fe=fe.concat(pn(Ot,g,D)),Ko(Ot)&&(v.views.delete(bt),Ot.query._queryParams.loadsAllData()||J.push(Ot.query));else{const bt=v.views.get(B);bt&&(fe=fe.concat(pn(bt,g,D)),Ko(bt)&&(v.views.delete(B),bt.query._queryParams.loadsAllData()||J.push(bt.query)))}return Ve&&!Ar(v)&&J.push(new(function $o(){return(0,ee.hu)(Ya,"Reference.ts has not been loaded"),Ya}())(p._repo,p._path)),{removed:J,events:fe}}(fe,p,g,D);(function V(v){return 0===v.views.size})(fe)&&(v.syncPointTree_=v.syncPointTree_.remove(J));const Ot=bt.removed;if(Ve=bt.events,!B){const Nn=-1!==Ot.findIndex(rr=>rr._queryParams.loadsAllData()),Ln=v.syncPointTree_.findOnPath(J,(rr,Di)=>Ar(Di));if(Nn&&!Ln){const rr=v.syncPointTree_.subtree(J);if(!rr.isEmpty()){const Di=function fi(v){return v.fold((p,g,D)=>{if(g&&Ar(g))return[Mi(g)];{let B=[];return g&&(B=Xe(g)),ar(D,(J,fe)=>{B=B.concat(fe)}),B}})}(rr);for(let Xi=0;Xi<Di.length;++Xi){const go=Di[Xi],ya=go.query,il=tr(v,go);v.listenProvider_.startListening(Oi(ya),Qn(v,ya),il.hashFn,il.onComplete)}}}!Ln&&Ot.length>0&&!D&&(Nn?v.listenProvider_.stopListening(Oi(p),null):Ot.forEach(rr=>{const Di=v.queryToTagMap.get(Kn(rr));v.listenProvider_.stopListening(Oi(rr),Di)}))}!function Vr(v,p){for(let g=0;g<p.length;++g){const D=p[g];if(!D._queryParams.loadsAllData()){const B=Kn(D),J=v.queryToTagMap.get(B);v.queryToTagMap.delete(B),v.tagToQueryMap.delete(J)}}}(v,Ot)}return Ve}function Ce(v,p,g,D){const B=or(v,D);if(null!=B){const J=dr(B),fe=J.path,Ve=J.queryId,bt=ji(fe,p);return vr(v,fe,new oe(Ta(Ve),bt,g))}return[]}function Qe(v,p,g,D=!1){const B=p._path;let J=null,fe=!1;v.syncPointTree_.foreachOnPath(B,(rr,Di)=>{const Xi=ji(rr,B);J=J||Ue(Di,Xi),fe=fe||Ar(Di)});let bt,Ve=v.syncPointTree_.get(B);Ve?(fe=fe||Ar(Ve),J=J||Ue(Ve,Mr())):(Ve=new Xo,v.syncPointTree_=v.syncPointTree_.set(B,Ve)),null!=J?bt=!0:(bt=!1,J=Xn.EMPTY_NODE,v.syncPointTree_.subtree(B).foreachChild((Di,Xi)=>{const go=Ue(Xi,Mr());go&&(J=J.updateImmediateChild(Di,go))}));const Ot=An(Ve,p);if(!Ot&&!p._queryParams.loadsAllData()){const rr=Kn(p);(0,ee.hu)(!v.queryToTagMap.has(rr),"View does not exist, but we have a tag");const Di=function ms(){return l++}();v.queryToTagMap.set(rr,Di),v.tagToQueryMap.set(Di,rr)}let Ln=function q(v,p,g,D,B,J){const fe=R(v,p,D,B,J);return v.views.has(p._queryIdentifier)||v.views.set(p._queryIdentifier,fe),function ca(v,p){v.eventRegistrations_.push(p)}(fe,g),function ga(v,p){const g=v.viewCache_.eventCache,D=[];return g.getNode().isLeafNode()||g.getNode().forEachChild(qi,(J,fe)=>{D.push($(J,fe))}),g.isFullyInitialized()&&D.push(le(g.getNode())),Il(v,D,g.getNode(),p)}(fe,g)}(Ve,p,g,lo(v.pendingWriteTree_,B),J,bt);if(!Ot&&!fe&&!D){const rr=Yt(Ve,p);Ln=Ln.concat(function Rs(v,p,g){const D=p._path,B=Qn(v,p),J=tr(v,g),fe=v.listenProvider_.startListening(Oi(p),B,J.hashFn,J.onComplete),Ve=v.syncPointTree_.subtree(D);if(B)(0,ee.hu)(!Ar(Ve.value),"If we're adding a query, it shouldn't be shadowed");else{const bt=Ve.fold((Ot,Nn,Ln)=>{if(!Ur(Ot)&&Nn&&Ar(Nn))return[Mi(Nn).query];{let rr=[];return Nn&&(rr=rr.concat(Xe(Nn).map(Di=>Di.query))),ar(Ln,(Di,Xi)=>{rr=rr.concat(Xi)}),rr}});for(let Ot=0;Ot<bt.length;++Ot){const Nn=bt[Ot];v.listenProvider_.stopListening(Oi(Nn),Qn(v,Nn))}}return fe}(v,p,rr))}return Ln}function Et(v,p,g){const B=v.pendingWriteTree_,J=v.syncPointTree_.findOnPath(p,(fe,Ve)=>{const Ot=Ue(Ve,ji(fe,p));if(Ot)return Ot});return Dn(B,p,J,g,!0)}function Xt(v,p){return In(p,v.syncPointTree_,null,lo(v.pendingWriteTree_,Mr()))}function In(v,p,g,D){if(Ur(v.path))return wn(v,p,g,D);{const B=p.get(Mr());null==g&&null!=B&&(g=Ue(B,Mr()));let J=[];const fe=Tn(v.path),Ve=v.operationForChild(fe),bt=p.children.get(fe);if(bt&&Ve){const Ot=g?g.getImmediateChild(fe):null,Nn=ll(D,fe);J=J.concat(In(Ve,bt,Ot,Nn))}return B&&(J=J.concat(H(B,v,D,g))),J}}function wn(v,p,g,D){const B=p.get(Mr());null==g&&null!=B&&(g=Ue(B,Mr()));let J=[];return p.children.inorderTraversal((fe,Ve)=>{const bt=g?g.getImmediateChild(fe):null,Ot=ll(D,fe),Nn=v.operationForChild(fe);Nn&&(J=J.concat(wn(Nn,Ve,bt,Ot)))}),B&&(J=J.concat(H(B,v,D,g))),J}function tr(v,p){const g=p.query,D=Qn(v,g);return{hashFn:()=>(function ss(v){return v.viewCache_.serverCache.getNode()}(p)||Xn.EMPTY_NODE).hash(),onComplete:B=>{if("ok"===B)return D?function Y(v,p,g){const D=or(v,g);if(D){const B=dr(D),J=B.path,fe=B.queryId,Ve=ji(J,p);return vr(v,J,new Z(Ta(fe),Ve))}return[]}(v,g._path,D):function k(v,p){return Xt(v,new Z({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},p))}(v,g._path);{const J=function nr(v,p){let g="Unknown Error";"too_big"===v?g="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===v?g="Client doesn't have permission to access the desired data.":"unavailable"===v&&(g="The service is unavailable");const D=new Error(v+" at "+p._path.toString()+": "+g);return D.code=v.toUpperCase(),D}(B,g);return ue(v,g,null,J)}}}}function Qn(v,p){const g=Kn(p);return v.queryToTagMap.get(g)}function Kn(v){return v._path.toString()+"$"+v._queryIdentifier}function or(v,p){return v.tagToQueryMap.get(p)}function dr(v){const p=v.indexOf("$");return(0,ee.hu)(-1!==p&&p<v.length-1,"Bad queryKey."),{queryId:v.substr(p+1),path:new Ti(v.substr(0,p))}}function vr(v,p,g){const D=v.syncPointTree_.get(p);return(0,ee.hu)(D,"Missing sync point for query tag that we're tracking"),H(D,g,lo(v.pendingWriteTree_,p),null)}function Oi(v){return v._queryParams.loadsAllData()&&!v._queryParams.isDefault()?new(function m(){return(0,ee.hu)(Zr,"Reference.ts has not been loaded"),Zr}())(v._repo,v._path):v}class os{constructor(p){this.node_=p}getImmediateChild(p){const g=this.node_.getImmediateChild(p);return new os(g)}node(){return this.node_}}class Ns{constructor(p,g){this.syncTree_=p,this.path_=g}getImmediateChild(p){const g=Jr(this.path_,p);return new Ns(this.syncTree_,g)}node(){return Et(this.syncTree_,this.path_)}}const wr=function(v){return(v=v||{}).timestamp=v.timestamp||(new Date).getTime(),v},Ir=function(v,p,g){return v&&"object"==typeof v?((0,ee.hu)(".sv"in v,"Unexpected leaf node or priority contents"),"string"==typeof v[".sv"]?Ii(v[".sv"],p,g):"object"==typeof v[".sv"]?Ki(v[".sv"],p):void(0,ee.hu)(!1,"Unexpected server value: "+JSON.stringify(v,null,2))):v},Ii=function(v,p,g){if("timestamp"===v)return g.timestamp;(0,ee.hu)(!1,"Unexpected server value: "+v)},Ki=function(v,p,g){v.hasOwnProperty("increment")||(0,ee.hu)(!1,"Unexpected server value: "+JSON.stringify(v,null,2));const D=v.increment;"number"!=typeof D&&(0,ee.hu)(!1,"Unexpected increment value: "+D);const B=p.node();if((0,ee.hu)(null!==B&&typeof B<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!B.isLeafNode())return D;const fe=B.getValue();return"number"!=typeof fe?D:fe+D},ns=function(v,p,g,D){return po(p,new Ns(g,v),D)},ua=function(v,p,g){return po(v,new os(p),g)};function po(v,p,g){const D=v.getPriority().val(),B=Ir(D,p.getImmediateChild(".priority"),g);let J;if(v.isLeafNode()){const fe=v,Ve=Ir(fe.getValue(),p,g);return Ve!==fe.getValue()||B!==fe.getPriority().val()?new $s(Ve,Ci(B)):v}{const fe=v;return J=fe,B!==fe.getPriority().val()&&(J=J.updatePriority(new $s(B))),fe.forEachChild(qi,(Ve,bt)=>{const Ot=po(bt,p.getImmediateChild(Ve),g);Ot!==bt&&(J=J.updateImmediateChild(Ve,Ot))}),J}}class Ss{constructor(p="",g=null,D={children:{},childCount:0}){this.name=p,this.parent=g,this.node=D}}function ls(v,p){let g=p instanceof Ti?p:new Ti(p),D=v,B=Tn(g);for(;null!==B;){const J=(0,ee.DV)(D.node.children,B)||{children:{},childCount:0};D=new Ss(B,D,J),g=Br(g),B=Tn(g)}return D}function wa(v){return v.node.value}function Va(v,p){v.node.value=p,vl(v)}function Vo(v){return v.node.childCount>0}function ra(v,p){ar(v.node.children,(g,D)=>{p(new Ss(g,v,D))})}function tl(v,p,g,D){g&&!D&&p(v),ra(v,B=>{tl(B,p,!0,D)}),g&&D&&p(v)}function yl(v){return new Ti(null===v.parent?v.name:yl(v.parent)+"/"+v.name)}function vl(v){null!==v.parent&&function Nc(v,p,g){const D=function Ml(v){return void 0===wa(v)&&!Vo(v)}(g),B=(0,ee.r3)(v.node.children,p);D&&B?(delete v.node.children[p],v.node.childCount--,vl(v)):!D&&!B&&(v.node.children[p]=g.node,v.node.childCount++,vl(v))}(v.parent,v.name,v)}const Xl=/[\[\].#$\/\u0000-\u001F\u007F]/,Ql=/[\[\].#$\u0000-\u001F\u007F]/,Ll=10485760,Fc=function(v){return"string"==typeof v&&0!==v.length&&!Xl.test(v)},da=function(v){return"string"==typeof v&&0!==v.length&&!Ql.test(v)},hl=function(v){return null===v||"string"==typeof v||"number"==typeof v&&!un(v)||v&&"object"==typeof v&&(0,ee.r3)(v,".sv")},cl=function(v,p,g,D){D&&void 0===p||Ga((0,ee.gK)(v,"value"),p,g)},Ga=function(v,p,g){const D=g instanceof Ti?new ki(g,v):g;if(void 0===p)throw new Error(v+"contains undefined "+zs(D));if("function"==typeof p)throw new Error(v+"contains a function "+zs(D)+" with contents = "+p.toString());if(un(p))throw new Error(v+"contains "+p.toString()+" "+zs(D));if("string"==typeof p&&p.length>Ll/3&&(0,ee.ug)(p)>Ll)throw new Error(v+"contains a string greater than "+Ll+" utf8 bytes "+zs(D)+" ('"+p.substring(0,50)+"...')");if(p&&"object"==typeof p){let B=!1,J=!1;if(ar(p,(fe,Ve)=>{if(".value"===fe)B=!0;else if(".priority"!==fe&&".sv"!==fe&&(J=!0,!Fc(fe)))throw new Error(v+" contains an invalid key ("+fe+") "+zs(D)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function es(v,p){v.parts_.length>0&&(v.byteLength_+=1),v.parts_.push(p),v.byteLength_+=(0,ee.ug)(p),uo(v)})(D,fe),Ga(v,Ve,D),function eo(v){const p=v.parts_.pop();v.byteLength_-=(0,ee.ug)(p),v.parts_.length>0&&(v.byteLength_-=1)}(D)}),B&&J)throw new Error(v+' contains ".value" child '+zs(D)+" in addition to actual children.")}},vc=function(v,p,g,D){if(D&&void 0===p)return;const B=(0,ee.gK)(v,"values");if(!p||"object"!=typeof p||Array.isArray(p))throw new Error(B+" must be an object containing the children to replace.");const J=[];ar(p,(fe,Ve)=>{const bt=new Ti(fe);if(Ga(B,Ve,Jr(g,bt)),".priority"===Ts(bt)&&!hl(Ve))throw new Error(B+"contains an invalid value for '"+bt.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");J.push(bt)}),function(v,p){let g,D;for(g=0;g<p.length;g++){D=p[g];const J=is(D);for(let fe=0;fe<J.length;fe++)if((".priority"!==J[fe]||fe!==J.length-1)&&!Fc(J[fe]))throw new Error(v+"contains an invalid key ("+J[fe]+") in path "+D.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}p.sort(qr);let B=null;for(g=0;g<p.length;g++){if(D=p[g],null!==B&&_s(B,D))throw new Error(v+"contains a path "+B.toString()+" that is ancestor of another path "+D.toString());B=D}}(B,J)},fl=function(v,p,g){if(!g||void 0!==p){if(un(p))throw new Error((0,ee.gK)(v,"priority")+"is "+p.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!hl(p))throw new Error((0,ee.gK)(v,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},Pl=function(v,p,g,D){if(!(D&&void 0===g||Fc(g)))throw new Error((0,ee.gK)(v,p)+'was an invalid key = "'+g+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},Lc=function(v,p,g,D){if(!(D&&void 0===g||da(g)))throw new Error((0,ee.gK)(v,p)+'was an invalid path = "'+g+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},Df=function(v,p,g,D){g&&(g=g.replace(/^\/*\.info(\/|$)/,"/")),Lc(v,p,g,D)},pl=function(v,p){if(".info"===Tn(p))throw new Error(v+" failed = Can't modify data under /.info/")},md=function(v,p){const g=p.path.toString();if("string"!=typeof p.repoInfo.host||0===p.repoInfo.host.length||!Fc(p.repoInfo.namespace)&&"localhost"!==p.repoInfo.host.split(":")[0]||0!==g.length&&!function(v){return v&&(v=v.replace(/^\/*\.info(\/|$)/,"/")),da(v)}(g))throw new Error((0,ee.gK)(v,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class Wo{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function tc(v,p){let g=null;for(let D=0;D<p.length;D++){const B=p[D],J=B.getPath();null!==g&&!so(J,g.path)&&(v.eventLists_.push(g),g=null),null===g&&(g={events:[],path:J}),g.events.push(B)}g&&v.eventLists_.push(g)}function Fo(v,p,g){tc(v,g),iu(v,D=>so(D,p))}function ba(v,p,g){tc(v,g),iu(v,D=>_s(D,p)||_s(p,D))}function iu(v,p){v.recursionDepth_++;let g=!0;for(let D=0;D<v.eventLists_.length;D++){const B=v.eventLists_[D];B&&(p(B.path)?(yd(v.eventLists_[D]),v.eventLists_[D]=null):g=!1)}g&&(v.eventLists_=[]),v.recursionDepth_--}function yd(v){for(let p=0;p<v.events.length;p++){const g=v.events[p];if(null!==g){v.events[p]=null;const D=g.getEventRunner();sn&&vt("event: "+g.toString()),di(D)}}}const nc="repo_interrupt",uh=25;class vd{constructor(p,g,D,B){this.repoInfo_=p,this.forceRestClient_=g,this.authTokenProvider_=D,this.appCheckProvider_=B,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Wo,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=no(),this.transactionQueueTree_=new Ss,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function Uo(v){const g=v.infoData_.getNode(new Ti(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+g}function _l(v){return wr({timestamp:Uo(v)})}function rc(v,p,g,D,B){v.dataUpdateCount++;const J=new Ti(p);g=v.interceptServerDataCallback_?v.interceptServerDataCallback_(p,g):g;let fe=[];if(B)if(D){const bt=(0,ee.UI)(g,Ot=>Ci(Ot));fe=function je(v,p,g,D){const B=or(v,D);if(B){const J=dr(B),fe=J.path,Ve=J.queryId,bt=ji(fe,p),Ot=Q.fromObject(g);return vr(v,fe,new De(Ta(Ve),bt,Ot))}return[]}(v.serverSyncTree_,J,bt,B)}else{const bt=Ci(g);fe=Ce(v.serverSyncTree_,J,bt,B)}else if(D){const bt=(0,ee.UI)(g,Ot=>Ci(Ot));fe=function A(v,p,g){const D=Q.fromObject(g);return Xt(v,new De({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},p,D))}(v.serverSyncTree_,J,bt)}else{const bt=Ci(g);fe=I(v.serverSyncTree_,J,bt)}let Ve=J;fe.length>0&&(Ve=qa(v,J)),ba(v.eventQueue_,Ve,fe)}function su(v,p){ic(v,"connected",p),!1===p&&function $c(v){gl(v,"onDisconnectEvents");const p=_l(v),g=no();sa(v.onDisconnect_,Mr(),(B,J)=>{const fe=ns(B,J,v.serverSyncTree_,p);zo(g,B,fe)});let D=[];sa(g,Mr(),(B,J)=>{D=D.concat(I(v.serverSyncTree_,B,J));const fe=W(v,B);qa(v,fe)}),v.onDisconnect_=no(),ba(v.eventQueue_,Mr(),D)}(v)}function ic(v,p,g){const D=new Ti("/.info/"+p),B=Ci(g);v.infoData_.updateSnapshot(D,B);const J=I(v.infoSyncTree_,D,B);ba(v.eventQueue_,D,J)}function Rl(v){return v.nextWriteId_++}function sc(v,p,g,D,B){gl(v,"set",{path:p.toString(),value:g,priority:D});const J=_l(v),fe=Ci(g,D),Ve=Et(v.serverSyncTree_,p),bt=ua(fe,Ve,J),Ot=Rl(v),Nn=c(v.serverSyncTree_,p,bt,Ot,!0);tc(v.eventQueue_,Nn),v.server_.put(p.toString(),fe.val(!0),(rr,Di)=>{const Xi="ok"===rr;Xi||er("set at "+p+" failed: "+rr);const go=_(v.serverSyncTree_,Ot,!Xi);ba(v.eventQueue_,p,go),Cl(0,B,rr,Di)});const Ln=W(v,p);qa(v,Ln),ba(v.eventQueue_,Ln,[])}function bd(v,p,g){v.server_.onDisconnectCancel(p.toString(),(D,B)=>{"ok"===D&&So(v.onDisconnect_,p),Cl(0,g,D,B)})}function Vc(v,p,g,D){const B=Ci(g);v.server_.onDisconnectPut(p.toString(),B.val(!0),(J,fe)=>{"ok"===J&&zo(v.onDisconnect_,p,B),Cl(0,D,J,fe)})}function ou(v,p,g){let D;D=".info"===Tn(p._path)?ue(v.infoSyncTree_,p,g):ue(v.serverSyncTree_,p,g),Fo(v.eventQueue_,p._path,D)}function au(v){v.persistentConnection_&&v.persistentConnection_.interrupt(nc)}function gl(v,...p){let g="";v.persistentConnection_&&(g=v.persistentConnection_.id+":"),vt(g,...p)}function Cl(v,p,g,D){p&&di(()=>{if("ok"===g)p(null);else{const B=(g||"error").toUpperCase();let J=B;D&&(J+=": "+D);const fe=new Error(J);fe.code=B,p(fe)}})}function bc(v,p,g){return Et(v.serverSyncTree_,p,g)||Xn.EMPTY_NODE}function jc(v,p=v.transactionQueueTree_){if(p||x(v,p),wa(p)){const g=U(v,p);(0,ee.hu)(g.length>0,"Sending zero length transaction queue"),g.every(B=>0===B.status)&&function zc(v,p,g){const D=g.map(Ot=>Ot.currentWriteId),B=bc(v,p,D);let J=B;const fe=B.hash();for(let Ot=0;Ot<g.length;Ot++){const Nn=g[Ot];(0,ee.hu)(0===Nn.status,"tryToSendTransactionQueue_: items in queue should all be run."),Nn.status=1,Nn.retryCount++;const Ln=ji(p,Nn.path);J=J.updateChild(Ln,Nn.currentOutputSnapshotRaw)}const Ve=J.val(!0),bt=p;v.server_.put(bt.toString(),Ve,Ot=>{gl(v,"transaction put response",{path:bt.toString(),status:Ot});let Nn=[];if("ok"===Ot){const Ln=[];for(let rr=0;rr<g.length;rr++)g[rr].status=2,Nn=Nn.concat(_(v.serverSyncTree_,g[rr].currentWriteId)),g[rr].onComplete&&Ln.push(()=>g[rr].onComplete(null,!0,g[rr].currentOutputSnapshotResolved)),g[rr].unwatcher();x(v,ls(v.transactionQueueTree_,p)),jc(v,v.transactionQueueTree_),ba(v.eventQueue_,p,Nn);for(let rr=0;rr<Ln.length;rr++)di(Ln[rr])}else{if("datastale"===Ot)for(let Ln=0;Ln<g.length;Ln++)g[Ln].status=3===g[Ln].status?4:0;else{er("transaction at "+bt.toString()+" failed: "+Ot);for(let Ln=0;Ln<g.length;Ln++)g[Ln].status=4,g[Ln].abortReason=Ot}qa(v,p)}},fe)}(v,yl(p),g)}else Vo(p)&&ra(p,g=>{jc(v,g)})}function qa(v,p){const g=Hl(v,p),D=yl(g);return function Ed(v,p,g){if(0===p.length)return;const D=[];let B=[];const fe=p.filter(Ve=>0===Ve.status).map(Ve=>Ve.currentWriteId);for(let Ve=0;Ve<p.length;Ve++){const bt=p[Ve],Ot=ji(g,bt.path);let Ln,Nn=!1;if((0,ee.hu)(null!==Ot,"rerunTransactionsUnderNode_: relativePath should not be null."),4===bt.status)Nn=!0,Ln=bt.abortReason,B=B.concat(_(v.serverSyncTree_,bt.currentWriteId,!0));else if(0===bt.status)if(bt.retryCount>=uh)Nn=!0,Ln="maxretry",B=B.concat(_(v.serverSyncTree_,bt.currentWriteId,!0));else{const rr=bc(v,bt.path,fe);bt.currentInputSnapshot=rr;const Di=p[Ve].update(rr.val());if(void 0!==Di){Ga("transaction failed: Data returned ",Di,bt.path);let Xi=Ci(Di);"object"==typeof Di&&null!=Di&&(0,ee.r3)(Di,".priority")||(Xi=Xi.updatePriority(rr.getPriority()));const ya=bt.currentWriteId,il=_l(v),Kl=ua(Xi,rr,il);bt.currentOutputSnapshotRaw=Xi,bt.currentOutputSnapshotResolved=Kl,bt.currentWriteId=Rl(v),fe.splice(fe.indexOf(ya),1),B=B.concat(c(v.serverSyncTree_,bt.path,Kl,bt.currentWriteId,bt.applyLocally)),B=B.concat(_(v.serverSyncTree_,ya,!0))}else Nn=!0,Ln="nodata",B=B.concat(_(v.serverSyncTree_,bt.currentWriteId,!0))}ba(v.eventQueue_,g,B),B=[],Nn&&(p[Ve].status=2,setTimeout(p[Ve].unwatcher,Math.floor(0)),p[Ve].onComplete&&D.push("nodata"===Ln?()=>p[Ve].onComplete(null,!1,p[Ve].currentInputSnapshot):()=>p[Ve].onComplete(new Error(Ln),!1,null)))}x(v,v.transactionQueueTree_);for(let Ve=0;Ve<D.length;Ve++)di(D[Ve]);jc(v,v.transactionQueueTree_)}(v,U(v,g),D),D}function Hl(v,p){let g,D=v.transactionQueueTree_;for(g=Tn(p);null!==g&&void 0===wa(D);)D=ls(D,g),g=Tn(p=Br(p));return D}function U(v,p){const g=[];return C(v,p,g),g.sort((D,B)=>D.order-B.order),g}function C(v,p,g){const D=wa(p);if(D)for(let B=0;B<D.length;B++)g.push(D[B]);ra(p,B=>{C(v,B,g)})}function x(v,p){const g=wa(p);if(g){let D=0;for(let B=0;B<g.length;B++)2!==g[B].status&&(g[D]=g[B],D++);g.length=D,Va(p,g.length>0?g:void 0)}ra(p,D=>{x(v,D)})}function W(v,p){const g=yl(Hl(v,p)),D=ls(v.transactionQueueTree_,p);return function Zl(v,p,g){let D=g?v:v.parent;for(;null!==D;){if(p(D))return!0;D=D.parent}}(D,B=>{Ie(v,B)}),Ie(v,D),tl(D,B=>{Ie(v,B)}),g}function Ie(v,p){const g=wa(p);if(g){const D=[];let B=[],J=-1;for(let fe=0;fe<g.length;fe++)3===g[fe].status||(1===g[fe].status?((0,ee.hu)(J===fe-1,"All SENT items should be at beginning of queue."),J=fe,g[fe].status=3,g[fe].abortReason="set"):((0,ee.hu)(0===g[fe].status,"Unexpected transaction status in abort"),g[fe].unwatcher(),B=B.concat(_(v.serverSyncTree_,g[fe].currentWriteId,!0)),g[fe].onComplete&&D.push(g[fe].onComplete.bind(null,new Error("set"),!1,null))));-1===J?Va(p,void 0):g.length=J+1,ba(v.eventQueue_,yl(p),B);for(let fe=0;fe<D.length;fe++)di(D[fe])}}const xn=function(v,p){const g=_r(v),D=g.namespace;return"firebase.com"===g.domain&&qn(g.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!D||"undefined"===D)&&"localhost"!==g.domain&&qn("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),g.secure||typeof window<"u"&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&er("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new ie(g.host,g.secure,D,"ws"===g.scheme||"wss"===g.scheme,p,"",D!==g.subdomain),path:new Ti(g.pathString)}},_r=function(v){let p="",g="",D="",B="",J="",fe=!0,Ve="https",bt=443;if("string"==typeof v){let Ot=v.indexOf("//");Ot>=0&&(Ve=v.substring(0,Ot-1),v=v.substring(Ot+2));let Nn=v.indexOf("/");-1===Nn&&(Nn=v.length);let Ln=v.indexOf("?");-1===Ln&&(Ln=v.length),p=v.substring(0,Math.min(Nn,Ln)),Nn<Ln&&(B=function We(v){let p="";const g=v.split("/");for(let D=0;D<g.length;D++)if(g[D].length>0){let B=g[D];try{B=decodeURIComponent(B.replace(/\+/g," "))}catch{}p+="/"+B}return p}(v.substring(Nn,Ln)));const rr=function on(v){const p={};"?"===v.charAt(0)&&(v=v.substring(1));for(const g of v.split("&")){if(0===g.length)continue;const D=g.split("=");2===D.length?p[decodeURIComponent(D[0])]=decodeURIComponent(D[1]):er(`Invalid query segment '${g}' in query '${v}'`)}return p}(v.substring(Math.min(v.length,Ln)));Ot=p.indexOf(":"),Ot>=0?(fe="https"===Ve||"wss"===Ve,bt=parseInt(p.substring(Ot+1),10)):Ot=p.length;const Di=p.slice(0,Ot);if("localhost"===Di.toLowerCase())g="localhost";else if(Di.split(".").length<=2)g=Di;else{const Xi=p.indexOf(".");D=p.substring(0,Xi).toLowerCase(),g=p.substring(Xi+1),J=D}"ns"in rr&&(J=rr.ns)}return{host:p,port:bt,domain:g,subdomain:D,secure:fe,scheme:Ve,pathString:B,namespace:J}},oi="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",Ui=function(){let v=0;const p=[];return function(g){const D=g===v;let B;v=g;const J=new Array(8);for(B=7;B>=0;B--)J[B]=oi.charAt(g%64),g=Math.floor(g/64);(0,ee.hu)(0===g,"Cannot push at time == 0");let fe=J.join("");if(D){for(B=11;B>=0&&63===p[B];B--)p[B]=0;p[B]++}else for(B=0;B<12;B++)p[B]=Math.floor(64*Math.random());for(B=0;B<12;B++)fe+=oi.charAt(p[B]);return(0,ee.hu)(20===fe.length,"nextPushId: Length should be 20."),fe}}();class Us{constructor(p,g,D,B){this.eventType=p,this.eventRegistration=g,this.snapshot=D,this.prevName=B}getPath(){const p=this.snapshot.ref;return"value"===this.eventType?p._path:p.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+(0,ee.Wl)(this.snapshot.exportVal())}}class nl{constructor(p,g,D){this.eventRegistration=p,this.error=g,this.path=D}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class Ol{constructor(p,g){this.snapshotCallback=p,this.cancelCallback=g}onValue(p,g){this.snapshotCallback.call(null,p,g)}onCancel(p){return(0,ee.hu)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,p)}get hasCancelCallback(){return!!this.cancelCallback}matches(p){return this.snapshotCallback===p.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===p.snapshotCallback.userCallback&&this.snapshotCallback.context===p.snapshotCallback.context}}class Hc{constructor(p,g){this._repo=p,this._path=g}cancel(){const p=new ee.BH;return bd(this._repo,this._path,p.wrapCallback(()=>{})),p.promise}remove(){pl("OnDisconnect.remove",this._path);const p=new ee.BH;return Vc(this._repo,this._path,null,p.wrapCallback(()=>{})),p.promise}set(p){pl("OnDisconnect.set",this._path),cl("OnDisconnect.set",p,this._path,!1);const g=new ee.BH;return Vc(this._repo,this._path,p,g.wrapCallback(()=>{})),g.promise}setWithPriority(p,g){pl("OnDisconnect.setWithPriority",this._path),cl("OnDisconnect.setWithPriority",p,this._path,!1),fl("OnDisconnect.setWithPriority",g,!1);const D=new ee.BH;return function dh(v,p,g,D,B){const J=Ci(g,D);v.server_.onDisconnectPut(p.toString(),J.val(!0),(fe,Ve)=>{"ok"===fe&&zo(v.onDisconnect_,p,J),Cl(0,B,fe,Ve)})}(this._repo,this._path,p,g,D.wrapCallback(()=>{})),D.promise}update(p){pl("OnDisconnect.update",this._path),vc("OnDisconnect.update",p,this._path,!1);const g=new ee.BH;return function _c(v,p,g,D){if((0,ee.xb)(g))return vt("onDisconnect().update() called with empty data.  Don't do anything."),void Cl(0,D,"ok",void 0);v.server_.onDisconnectMerge(p.toString(),g,(B,J)=>{"ok"===B&&ar(g,(fe,Ve)=>{const bt=Ci(Ve);zo(v.onDisconnect_,Jr(p,fe),bt)}),Cl(0,D,B,J)})}(this._repo,this._path,p,g.wrapCallback(()=>{})),g.promise}}class ia{constructor(p,g,D,B){this._repo=p,this._path=g,this._queryParams=D,this._orderByCalled=B}get key(){return Ur(this._path)?null:Ts(this._path)}get ref(){return new Ma(this._repo,this._path)}get _queryIdentifier(){const p=Ws(this._queryParams),g=ai(p);return"{}"===g?"default":g}get _queryObject(){return Ws(this._queryParams)}isEqual(p){if(!((p=(0,ee.m9)(p))instanceof ia))return!1;const g=this._repo===p._repo,D=so(this._path,p._path);return g&&D&&this._queryIdentifier===p._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function Ao(v){let p="";for(let g=v.pieceNum_;g<v.pieces_.length;g++)""!==v.pieces_[g]&&(p+="/"+encodeURIComponent(String(v.pieces_[g])));return p||"/"}(this._path)}}function Wl(v,p){if(!0===v._orderByCalled)throw new Error(p+": You can't combine multiple orderBy calls.")}function ha(v){let p=null,g=null;if(v.hasStart()&&(p=v.getIndexStartValue()),v.hasEnd()&&(g=v.getIndexEndValue()),v.getIndex()===hs){const D="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",B="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(v.hasStart()){if(v.getIndexStartName()!==an)throw new Error(D);if("string"!=typeof p)throw new Error(B)}if(v.hasEnd()){if(v.getIndexEndName()!==Pr)throw new Error(D);if("string"!=typeof g)throw new Error(B)}}else if(v.getIndex()===qi){if(null!=p&&!hl(p)||null!=g&&!hl(g))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,ee.hu)(v.getIndex()instanceof Hs||v.getIndex()===Ee,"unknown index type."),null!=p&&"object"==typeof p||null!=g&&"object"==typeof g)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function ac(v){if(v.hasStart()&&v.hasEnd()&&v.hasLimit()&&!v.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class Ma extends ia{constructor(p,g){super(p,g,new dn,!1)}get parent(){const p=vo(this._path);return null===p?null:new Ma(this._repo,p)}get root(){let p=this;for(;null!==p.parent;)p=p.parent;return p}}class Ua{constructor(p,g,D){this._node=p,this.ref=g,this._index=D}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(p){const g=new Ti(p),D=El(this.ref,p);return new Ua(this._node.getChild(g),D,qi)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(p){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(D,B)=>p(new Ua(B,El(this.ref,D),qi)))}hasChild(p){const g=new Ti(p);return!this._node.getChild(g).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function bl(v,p){return(v=(0,ee.m9)(v))._checkNotDeleted("ref"),void 0!==p?El(v._root,p):v._root}function Wc(v,p){(v=(0,ee.m9)(v))._checkNotDeleted("refFromURL");const g=xn(p,v._repo.repoInfo_.nodeAdmin);md("refFromURL",g);const D=g.repoInfo;return!v._repo.repoInfo_.isCustomHost()&&D.host!==v._repo.repoInfo_.host&&qn("refFromURL: Host name does not match the current database: (found "+D.host+" but expected "+v._repo.repoInfo_.host+")"),bl(v,g.path.toString())}function El(v,p){return null===Tn((v=(0,ee.m9)(v))._path)?Df("child","path",p,!1):Lc("child","path",p,!1),new Ma(v._repo,Jr(v._path,p))}function fh(v,p){v=(0,ee.m9)(v),pl("set",v._path),cl("set",p,v._path,!1);const g=new ee.BH;return sc(v._repo,v._path,p,null,g.wrapCallback(()=>{})),g.promise}function Sf(v,p){vc("update",p,v._path,!1);const g=new ee.BH;return function Fu(v,p,g,D){gl(v,"update",{path:p.toString(),value:g});let B=!0;const J=_l(v),fe={};if(ar(g,(Ve,bt)=>{B=!1,fe[Ve]=ns(Jr(p,Ve),Ci(bt),v.serverSyncTree_,J)}),B)vt("update() called with empty data.  Don't do anything."),Cl(0,D,"ok",void 0);else{const Ve=Rl(v),bt=function f(v,p,g,D){!function Bi(v,p,g,D){(0,ee.hu)(D>v.lastWriteId,"Stacking an older merge on top of newer ones"),v.allWrites.push({path:p,children:g,writeId:D,visible:!0}),v.visibleWrites=mn(v.visibleWrites,p,g),v.lastWriteId=D}(v.pendingWriteTree_,p,g,D);const B=Q.fromObject(g);return Xt(v,new De({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},p,B))}(v.serverSyncTree_,p,fe,Ve);tc(v.eventQueue_,bt),v.server_.merge(p.toString(),g,(Ot,Nn)=>{const Ln="ok"===Ot;Ln||er("update at "+p+" failed: "+Ot);const rr=_(v.serverSyncTree_,Ve,!Ln),Di=rr.length>0?qa(v,p):p;ba(v.eventQueue_,Di,rr),Cl(0,D,Ot,Nn)}),ar(g,Ot=>{const Nn=W(v,Jr(p,Ot));qa(v,Nn)}),ba(v.eventQueue_,p,[])}}(v._repo,v._path,p,g.wrapCallback(()=>{})),g.promise}function Tf(v){v=(0,ee.m9)(v);const p=new Ol(()=>{}),g=new Pa(p);return function _d(v,p,g){const D=function At(v,p){const g=p._path;let D=null;v.syncPointTree_.foreachOnPath(g,(Ot,Nn)=>{const Ln=ji(Ot,g);D=D||Ue(Nn,Ln)});let B=v.syncPointTree_.get(g);B?D=D||Ue(B,Mr()):(B=new Xo,v.syncPointTree_=v.syncPointTree_.set(g,B));const J=null!=D,fe=J?new Be(D,!0,!1):null;return function Qi(v){return Ms(v.viewCache_)}(R(B,p,lo(v.pendingWriteTree_,p._path),J?fe.getNode():Xn.EMPTY_NODE,J))}(v.serverSyncTree_,p);return null!=D?Promise.resolve(D):v.server_.get(p).then(B=>{const J=Ci(B).withIndex(p._queryParams.getIndex());let fe;if(Qe(v.serverSyncTree_,p,g,!0),p._queryParams.loadsAllData())fe=I(v.serverSyncTree_,p._path,J);else{const Ve=Qn(v.serverSyncTree_,p);fe=Ce(v.serverSyncTree_,p._path,J,Ve)}return ba(v.eventQueue_,p._path,fe),ue(v.serverSyncTree_,p,g,null,!0),J},B=>(gl(v,"get for query "+(0,ee.Wl)(p)+" failed: "+B),Promise.reject(new Error(B))))}(v._repo,v,g).then(D=>new Ua(D,new Ma(v._repo,v._path),v._queryParams.getIndex()))}class Pa{constructor(p){this.callbackContext=p}respondsTo(p){return"value"===p}createEvent(p,g){const D=g._queryParams.getIndex();return new Us("value",this,new Ua(p.snapshotNode,new Ma(g._repo,g._path),D))}getEventRunner(p){return"cancel"===p.getEventType()?()=>this.callbackContext.onCancel(p.error):()=>this.callbackContext.onValue(p.snapshot,null)}createCancelEvent(p,g){return this.callbackContext.hasCancelCallback?new nl(this,p,g):null}matches(p){return p instanceof Pa&&(!p.callbackContext||!this.callbackContext||p.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class cu{constructor(p,g){this.eventType=p,this.callbackContext=g}respondsTo(p){let g="children_added"===p?"child_added":p;return g="children_removed"===g?"child_removed":g,this.eventType===g}createCancelEvent(p,g){return this.callbackContext.hasCancelCallback?new nl(this,p,g):null}createEvent(p,g){(0,ee.hu)(null!=p.childName,"Child events should have a childName.");const D=El(new Ma(g._repo,g._path),p.childName),B=g._queryParams.getIndex();return new Us(p.type,this,new Ua(p.snapshotNode,D,B),p.prevName)}getEventRunner(p){return"cancel"===p.getEventType()?()=>this.callbackContext.onCancel(p.error):()=>this.callbackContext.onValue(p.snapshot,p.prevName)}matches(p){return p instanceof cu&&this.eventType===p.eventType&&(!this.callbackContext||!p.callbackContext||this.callbackContext.matches(p.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function uu(v,p,g,D,B){let J;if("object"==typeof D&&(J=void 0,B=D),"function"==typeof D&&(J=D),B&&B.onlyOnce){const bt=g,Ot=(Nn,Ln)=>{ou(v._repo,v,Ve),bt(Nn,Ln)};Ot.userCallback=g.userCallback,Ot.context=g.context,g=Ot}const fe=new Ol(g,J||void 0),Ve="value"===p?new Pa(fe):new cu(p,fe);return function oc(v,p,g){let D;D=".info"===Tn(p._path)?Qe(v.infoSyncTree_,p,g):Qe(v.serverSyncTree_,p,g),Fo(v.eventQueue_,p._path,D)}(v._repo,v,Ve),()=>ou(v._repo,v,Ve)}function du(v,p,g,D){return uu(v,"value",p,g,D)}function Ia(v,p,g,D){return uu(v,"child_added",p,g,D)}function kl(v,p,g,D){return uu(v,"child_changed",p,g,D)}function wd(v,p,g,D){return uu(v,"child_moved",p,g,D)}function lc(v,p,g,D){return uu(v,"child_removed",p,g,D)}function mh(v,p,g){let D=null;const B=g?new Ol(g):null;"value"===p?D=new Pa(B):p&&(D=new cu(p,B)),ou(v._repo,v,D)}class rl{}class yh extends rl{constructor(p,g){super(),this._value=p,this._key=g}_apply(p){cl("endAt",this._value,p._path,!0);const g=mi(p._queryParams,this._value,this._key);if(ac(g),ha(g),p._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new ia(p._repo,p._path,g,p._orderByCalled)}}class Lu extends rl{constructor(p,g){super(),this._value=p,this._key=g}_apply(p){cl("endBefore",this._value,p._path,!1);const g=function Zi(v,p,g){let D;return D=mi(v,p,v.index_===hs||g?g:an),D.endBeforeSet_=!0,D}(p._queryParams,this._value,this._key);if(ac(g),ha(g),p._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new ia(p._repo,p._path,g,p._orderByCalled)}}class xf extends rl{constructor(p,g){super(),this._value=p,this._key=g}_apply(p){cl("startAt",this._value,p._path,!0);const g=gi(p._queryParams,this._value,this._key);if(ac(g),ha(g),p._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new ia(p._repo,p._path,g,p._orderByCalled)}}class hu extends rl{constructor(p,g){super(),this._value=p,this._key=g}_apply(p){cl("startAfter",this._value,p._path,!1);const g=function vi(v,p,g){let D;return D=gi(v,p,v.index_===hs||g?g:Pr),D.startAfterSet_=!0,D}(p._queryParams,this._value,this._key);if(ac(g),ha(g),p._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new ia(p._repo,p._path,g,p._orderByCalled)}}class Mf extends rl{constructor(p){super(),this._limit=p}_apply(p){if(p._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new ia(p._repo,p._path,function ci(v,p){const g=v.copy();return g.limitSet_=!0,g.limit_=p,g.viewFrom_="l",g}(p._queryParams,this._limit),p._orderByCalled)}}class $u extends rl{constructor(p){super(),this._limit=p}_apply(p){if(p._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new ia(p._repo,p._path,function ui(v,p){const g=v.copy();return g.limitSet_=!0,g.limit_=p,g.viewFrom_="r",g}(p._queryParams,this._limit),p._orderByCalled)}}class Id extends rl{constructor(p){super(),this._path=p}_apply(p){Wl(p,"orderByChild");const g=new Ti(this._path);if(Ur(g))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const D=new Hs(g),B=qs(p._queryParams,D);return ha(B),new ia(p._repo,p._path,B,!0)}}class Gl extends rl{_apply(p){Wl(p,"orderByKey");const g=qs(p._queryParams,hs);return ha(g),new ia(p._repo,p._path,g,!0)}}class Vu extends rl{_apply(p){Wl(p,"orderByPriority");const g=qs(p._queryParams,qi);return ha(g),new ia(p._repo,p._path,g,!0)}}class wc extends rl{_apply(p){Wl(p,"orderByValue");const g=qs(p._queryParams,Ee);return ha(g),new ia(p._repo,p._path,g,!0)}}class bh extends rl{constructor(p,g){super(),this._value=p,this._key=g}_apply(p){if(cl("equalTo",this._value,p._path,!1),p._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(p._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new yh(this._value,this._key)._apply(new xf(this._value,this._key)._apply(p))}}function Dl(v,...p){let g=(0,ee.m9)(v);for(const D of p)g=D._apply(g);return g}(function xl(v){(0,ee.hu)(!Ya,"__referenceConstructor has already been defined"),Ya=v})(Ma),function ko(v){(0,ee.hu)(!Zr,"__referenceConstructor has already been defined"),Zr=v}(Ma);const wh={};function Uu(v,p,g,D,B){let J=D||v.options.databaseURL;void 0===J&&(v.options.projectId||qn("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),vt("Using default host for project ",v.options.projectId),J=`${v.options.projectId}-default-rtdb.firebaseio.com`);let bt,Ot,fe=xn(J,B),Ve=fe.repoInfo;typeof process<"u"&&process.env&&(Ot=process.env.FIREBASE_DATABASE_EMULATOR_HOST),Ot?(bt=!0,J=`http://${Ot}?ns=${Ve.namespace}`,fe=xn(J,B),Ve=fe.repoInfo):bt=!fe.repoInfo.secure;const Nn=B&&bt?new Er(Er.OWNER):new Ei(v.name,v.options,p);md("Invalid Firebase Database URL",fe),Ur(fe.path)||qn("Database URL must point to the root of a Firebase Database (not including a child path).");const Ln=function ju(v,p,g,D){let B=wh[p.name];B||(B={},wh[p.name]=B);let J=B[v.toURLString()];return J&&qn("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),J=new vd(v,false,g,D),B[v.toURLString()]=J,J}(Ve,v,Nn,new fr(v.name,g));return new Pf(Ln,v)}class Pf{constructor(p,g){this._repoInternal=p,this.app=g,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function co(v,p,g){if(v.stats_=Vt(v.repoInfo_),v.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)v.server_=new wi(v.repoInfo_,(D,B,J,fe)=>{rc(v,D,B,J,fe)},v.authTokenProvider_,v.appCheckProvider_),setTimeout(()=>su(v,!0),0);else{if(typeof g<"u"&&null!==g){if("object"!=typeof g)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,ee.Wl)(g)}catch(D){throw new Error("Invalid authOverride provided: "+D)}}v.persistentConnection_=new Yi(v.repoInfo_,p,(D,B,J,fe)=>{rc(v,D,B,J,fe)},D=>{su(v,D)},D=>{!function Bc(v,p){ar(p,(g,D)=>{ic(v,g,D)})}(v,D)},v.authTokenProvider_,v.appCheckProvider_,g),v.server_=v.persistentConnection_}v.authTokenProvider_.addTokenChangeListener(D=>{v.server_.refreshAuthToken(D)}),v.appCheckProvider_.addTokenChangeListener(D=>{v.server_.refreshAppCheckToken(D.token)}),v.statsReporter_=function en(v,p){const g=v.toString();return rt[g]||(rt[g]=p()),rt[g]}(v.repoInfo_,()=>new Vs(v.stats_,v.server_)),v.infoData_=new Cs,v.infoSyncTree_=new s({startListening:(D,B,J,fe)=>{let Ve=[];const bt=v.infoData_.getNode(D._path);return bt.isEmpty()||(Ve=I(v.infoSyncTree_,D._path,bt),setTimeout(()=>{fe("ok")},0)),Ve},stopListening:()=>{}}),ic(v,"connected",!1),v.serverSyncTree_=new s({startListening:(D,B,J,fe)=>(v.server_.listen(D,J,B,(Ve,bt)=>{const Ot=fe(Ve,bt);ba(v.eventQueue_,D._path,Ot)}),[]),stopListening:(D,B)=>{v.server_.unlisten(D,B)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Ma(this._repo,Mr())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function Ih(v,p){const g=wh[p];(!g||g[v.key]!==v)&&qn(`Database ${p}(${v.repoInfo_}) has already been deleted.`),au(v),delete g[v.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(p){null===this._rootInternal&&qn("Cannot call "+p+" on a deleted database.")}}function Dd(){zi.IS_TRANSPORT_INITIALIZED&&er("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function Ch(){Dd(),Os.forceDisallow()}function Ic(){Dd(),ts.forceDisallow(),Os.forceAllow()}function qc(v,p){tn(v,p)}const Sh={".sv":"timestamp"};class Td{constructor(p,g){this.committed=p,this.snapshot=g}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}Yi.prototype.simpleListen=function(v,p){this.sendRequest("q",{p:v},p)},Yi.prototype.echo=function(v,p){this.sendRequest("echo",{d:v},p)},function Rf(v){Te(yt.SDK_VERSION),(0,yt._registerComponent)(new St.wA("database",(p,{instanceIdentifier:g})=>Uu(p.getProvider("app").getImmediate(),p.getProvider("auth-internal"),p.getProvider("app-check-internal"),g),"PUBLIC").setMultipleInstances(!0)),(0,yt.registerVersion)(Dt,"0.14.4",v),(0,yt.registerVersion)(Dt,"0.14.4","esm2017")}();const gu=new Gt.Yd("@firebase/database-compat"),Cc=function(v){gu.warn("FIREBASE WARNING: "+v)};class Oa{constructor(p){this._delegate=p}cancel(p){(0,ee.Dv)("OnDisconnect.cancel",0,1,arguments.length),(0,ee.Wj)("OnDisconnect.cancel","onComplete",p,!0);const g=this._delegate.cancel();return p&&g.then(()=>p(null),D=>p(D)),g}remove(p){(0,ee.Dv)("OnDisconnect.remove",0,1,arguments.length),(0,ee.Wj)("OnDisconnect.remove","onComplete",p,!0);const g=this._delegate.remove();return p&&g.then(()=>p(null),D=>p(D)),g}set(p,g){(0,ee.Dv)("OnDisconnect.set",1,2,arguments.length),(0,ee.Wj)("OnDisconnect.set","onComplete",g,!0);const D=this._delegate.set(p);return g&&D.then(()=>g(null),B=>g(B)),D}setWithPriority(p,g,D){(0,ee.Dv)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,ee.Wj)("OnDisconnect.setWithPriority","onComplete",D,!0);const B=this._delegate.setWithPriority(p,g);return D&&B.then(()=>D(null),J=>D(J)),B}update(p,g){if((0,ee.Dv)("OnDisconnect.update",1,2,arguments.length),Array.isArray(p)){const B={};for(let J=0;J<p.length;++J)B[""+J]=p[J];p=B,Cc("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,ee.Wj)("OnDisconnect.update","onComplete",g,!0);const D=this._delegate.update(p);return g&&D.then(()=>g(null),B=>g(B)),D}}class Md{constructor(p,g){this.committed=p,this.snapshot=g}toJSON(){return(0,ee.Dv)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}class cc{constructor(p,g){this._database=p,this._delegate=g}val(){return(0,ee.Dv)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return(0,ee.Dv)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return(0,ee.Dv)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return(0,ee.Dv)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(p){return(0,ee.Dv)("DataSnapshot.child",0,1,arguments.length),p=String(p),Lc("DataSnapshot.child","path",p,!1),new cc(this._database,this._delegate.child(p))}hasChild(p){return(0,ee.Dv)("DataSnapshot.hasChild",1,1,arguments.length),Lc("DataSnapshot.hasChild","path",p,!1),this._delegate.hasChild(p)}getPriority(){return(0,ee.Dv)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(p){return(0,ee.Dv)("DataSnapshot.forEach",1,1,arguments.length),(0,ee.Wj)("DataSnapshot.forEach","action",p,!1),this._delegate.forEach(g=>p(new cc(this._database,g)))}hasChildren(){return(0,ee.Dv)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return(0,ee.Dv)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return(0,ee.Dv)("DataSnapshot.ref",0,0,arguments.length),new Ca(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class ka{constructor(p,g){this.database=p,this._delegate=g}on(p,g,D,B){var J;(0,ee.Dv)("Query.on",2,4,arguments.length),(0,ee.Wj)("Query.on","callback",g,!1);const fe=ka.getCancelAndContextArgs_("Query.on",D,B),Ve=(Ot,Nn)=>{g.call(fe.context,new cc(this.database,Ot),Nn)};Ve.userCallback=g,Ve.context=fe.context;const bt=null===(J=fe.cancel)||void 0===J?void 0:J.bind(fe.context);switch(p){case"value":return du(this._delegate,Ve,bt),g;case"child_added":return Ia(this._delegate,Ve,bt),g;case"child_removed":return lc(this._delegate,Ve,bt),g;case"child_changed":return kl(this._delegate,Ve,bt),g;case"child_moved":return wd(this._delegate,Ve,bt),g;default:throw new Error((0,ee.gK)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(p,g,D){if((0,ee.Dv)("Query.off",0,3,arguments.length),function(v,p,g){if(void 0!==p)switch(p){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,ee.gK)("Query.off","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}(0,p),(0,ee.Wj)("Query.off","callback",g,!0),(0,ee.lb)("Query.off","context",D,!0),g){const B=()=>{};B.userCallback=g,B.context=D,mh(this._delegate,p,B)}else mh(this._delegate,p)}get(){return Tf(this._delegate).then(p=>new cc(this.database,p))}once(p,g,D,B){(0,ee.Dv)("Query.once",1,4,arguments.length),(0,ee.Wj)("Query.once","callback",g,!0);const J=ka.getCancelAndContextArgs_("Query.once",D,B),fe=new ee.BH,Ve=(Ot,Nn)=>{const Ln=new cc(this.database,Ot);g&&g.call(J.context,Ln,Nn),fe.resolve(Ln)};Ve.userCallback=g,Ve.context=J.context;const bt=Ot=>{J.cancel&&J.cancel.call(J.context,Ot),fe.reject(Ot)};switch(p){case"value":du(this._delegate,Ve,bt,{onlyOnce:!0});break;case"child_added":Ia(this._delegate,Ve,bt,{onlyOnce:!0});break;case"child_removed":lc(this._delegate,Ve,bt,{onlyOnce:!0});break;case"child_changed":kl(this._delegate,Ve,bt,{onlyOnce:!0});break;case"child_moved":wd(this._delegate,Ve,bt,{onlyOnce:!0});break;default:throw new Error((0,ee.gK)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return fe.promise}limitToFirst(p){return(0,ee.Dv)("Query.limitToFirst",1,1,arguments.length),new ka(this.database,Dl(this._delegate,function Bu(v){if("number"!=typeof v||Math.floor(v)!==v||v<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new Mf(v)}(p)))}limitToLast(p){return(0,ee.Dv)("Query.limitToLast",1,1,arguments.length),new ka(this.database,Dl(this._delegate,function Vp(v){if("number"!=typeof v||Math.floor(v)!==v||v<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new $u(v)}(p)))}orderByChild(p){return(0,ee.Dv)("Query.orderByChild",1,1,arguments.length),new ka(this.database,Dl(this._delegate,function Ec(v){if("$key"===v)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===v)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===v)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return Lc("orderByChild","path",v,!1),new Id(v)}(p)))}orderByKey(){return(0,ee.Dv)("Query.orderByKey",0,0,arguments.length),new ka(this.database,Dl(this._delegate,function Kc(){return new Gl}()))}orderByPriority(){return(0,ee.Dv)("Query.orderByPriority",0,0,arguments.length),new ka(this.database,Dl(this._delegate,function _h(){return new Vu}()))}orderByValue(){return(0,ee.Dv)("Query.orderByValue",0,0,arguments.length),new ka(this.database,Dl(this._delegate,function pu(){return new wc}()))}startAt(p=null,g){return(0,ee.Dv)("Query.startAt",0,2,arguments.length),new ka(this.database,Dl(this._delegate,function ma(v=null,p){return Pl("startAt","key",p,!0),new xf(v,p)}(p,g)))}startAfter(p=null,g){return(0,ee.Dv)("Query.startAfter",0,2,arguments.length),new ka(this.database,Dl(this._delegate,function fu(v,p){return Pl("startAfter","key",p,!0),new hu(v,p)}(p,g)))}endAt(p=null,g){return(0,ee.Dv)("Query.endAt",0,2,arguments.length),new ka(this.database,Dl(this._delegate,function vh(v,p){return Pl("endAt","key",p,!0),new yh(v,p)}(p,g)))}endBefore(p=null,g){return(0,ee.Dv)("Query.endBefore",0,2,arguments.length),new ka(this.database,Dl(this._delegate,function Af(v,p){return Pl("endBefore","key",p,!0),new Lu(v,p)}(p,g)))}equalTo(p,g){return(0,ee.Dv)("Query.equalTo",1,2,arguments.length),new ka(this.database,Dl(this._delegate,function Eh(v,p){return Pl("equalTo","key",p,!0),new bh(v,p)}(p,g)))}toString(){return(0,ee.Dv)("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return(0,ee.Dv)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(p){if((0,ee.Dv)("Query.isEqual",1,1,arguments.length),!(p instanceof ka))throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");return this._delegate.isEqual(p._delegate)}static getCancelAndContextArgs_(p,g,D){const B={cancel:void 0,context:void 0};if(g&&D)B.cancel=g,(0,ee.Wj)(p,"cancel",B.cancel,!0),B.context=D,(0,ee.lb)(p,"context",B.context,!0);else if(g)if("object"==typeof g&&null!==g)B.context=g;else{if("function"!=typeof g)throw new Error((0,ee.gK)(p,"cancelOrContext")+" must either be a cancel callback or a context object.");B.cancel=g}return B}get ref(){return new Ca(this.database,new Ma(this._delegate._repo,this._delegate._path))}}class Ca extends ka{constructor(p,g){super(p,new ia(g._repo,g._path,new dn,!1)),this.database=p,this._delegate=g}getKey(){return(0,ee.Dv)("Reference.key",0,0,arguments.length),this._delegate.key}child(p){return(0,ee.Dv)("Reference.child",1,1,arguments.length),"number"==typeof p&&(p=String(p)),new Ca(this.database,El(this._delegate,p))}getParent(){(0,ee.Dv)("Reference.parent",0,0,arguments.length);const p=this._delegate.parent;return p?new Ca(this.database,p):null}getRoot(){return(0,ee.Dv)("Reference.root",0,0,arguments.length),new Ca(this.database,this._delegate.root)}set(p,g){(0,ee.Dv)("Reference.set",1,2,arguments.length),(0,ee.Wj)("Reference.set","onComplete",g,!0);const D=fh(this._delegate,p);return g&&D.then(()=>g(null),B=>g(B)),D}update(p,g){if((0,ee.Dv)("Reference.update",1,2,arguments.length),Array.isArray(p)){const B={};for(let J=0;J<p.length;++J)B[""+J]=p[J];p=B,Cc("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}pl("Reference.update",this._delegate._path),(0,ee.Wj)("Reference.update","onComplete",g,!0);const D=Sf(this._delegate,p);return g&&D.then(()=>g(null),B=>g(B)),D}setWithPriority(p,g,D){(0,ee.Dv)("Reference.setWithPriority",2,3,arguments.length),(0,ee.Wj)("Reference.setWithPriority","onComplete",D,!0);const B=function gh(v,p,g){if(pl("setWithPriority",v._path),cl("setWithPriority",p,v._path,!1),fl("setWithPriority",g,!1),".length"===v.key||".keys"===v.key)throw"setWithPriority failed: "+v.key+" is a read-only object.";const D=new ee.BH;return sc(v._repo,v._path,p,g,D.wrapCallback(()=>{})),D.promise}(this._delegate,p,g);return D&&B.then(()=>D(null),J=>D(J)),B}remove(p){(0,ee.Dv)("Reference.remove",0,1,arguments.length),(0,ee.Wj)("Reference.remove","onComplete",p,!0);const g=function Fs(v){return pl("remove",v._path),fh(v,null)}(this._delegate);return p&&g.then(()=>p(null),D=>p(D)),g}transaction(p,g,D){(0,ee.Dv)("Reference.transaction",1,3,arguments.length),(0,ee.Wj)("Reference.transaction","transactionUpdate",p,!1),(0,ee.Wj)("Reference.transaction","onComplete",g,!0),function(v,p,g,D){if(void 0!==g&&"boolean"!=typeof g)throw new Error((0,ee.gK)("Reference.transaction","applyLocally")+"must be a boolean.")}(0,0,D);const B=function Ah(v,p,g){var D;if(v=(0,ee.m9)(v),pl("Reference.transaction",v._path),".length"===v.key||".keys"===v.key)throw"Reference.transaction failed: "+v.key+" is a read-only object.";const B=null===(D=null==g?void 0:g.applyLocally)||void 0===D||D,J=new ee.BH,Ve=du(v,()=>{});return function lu(v,p,g,D,B,J){gl(v,"transaction on "+p);const fe={path:p,update:g,onComplete:D,status:null,order:Ut(),applyLocally:J,retryCount:0,unwatcher:B,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},Ve=bc(v,p,void 0);fe.currentInputSnapshot=Ve;const bt=fe.update(Ve.val());if(void 0===bt)fe.unwatcher(),fe.currentOutputSnapshotRaw=null,fe.currentOutputSnapshotResolved=null,fe.onComplete&&fe.onComplete(null,!1,fe.currentInputSnapshot);else{Ga("transaction failed: Data returned ",bt,fe.path),fe.status=0;const Ot=ls(v.transactionQueueTree_,p),Nn=wa(Ot)||[];let Ln;Nn.push(fe),Va(Ot,Nn),"object"==typeof bt&&null!==bt&&(0,ee.r3)(bt,".priority")?(Ln=(0,ee.DV)(bt,".priority"),(0,ee.hu)(hl(Ln),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):Ln=(Et(v.serverSyncTree_,p)||Xn.EMPTY_NODE).getPriority().val();const rr=_l(v),Di=Ci(bt,Ln),Xi=ua(Di,Ve,rr);fe.currentOutputSnapshotRaw=Di,fe.currentOutputSnapshotResolved=Xi,fe.currentWriteId=Rl(v);const go=c(v.serverSyncTree_,p,Xi,fe.currentWriteId,fe.applyLocally);ba(v.eventQueue_,p,go),jc(v,v.transactionQueueTree_)}}(v._repo,v._path,p,(bt,Ot,Nn)=>{let Ln=null;bt?J.reject(bt):(Ln=new Ua(Nn,new Ma(v._repo,v._path),qi),J.resolve(new Td(Ot,Ln)))},Ve,B),J.promise}(this._delegate,p,{applyLocally:D}).then(J=>new Md(J.committed,new cc(this.database,J.snapshot)));return g&&B.then(J=>g(null,J.committed,J.snapshot),J=>g(J,!1,null)),B}setPriority(p,g){(0,ee.Dv)("Reference.setPriority",1,2,arguments.length),(0,ee.Wj)("Reference.setPriority","onComplete",g,!0);const D=function ph(v,p){v=(0,ee.m9)(v),pl("setPriority",v._path),fl("setPriority",p,!1);const g=new ee.BH;return sc(v._repo,Jr(v._path,".priority"),p,null,g.wrapCallback(()=>{})),g.promise}(this._delegate,p);return g&&D.then(()=>g(null),B=>g(B)),D}push(p,g){(0,ee.Dv)("Reference.push",0,2,arguments.length),(0,ee.Wj)("Reference.push","onComplete",g,!0);const D=function Gc(v,p){v=(0,ee.m9)(v),pl("push",v._path),cl("push",p,v._path,!0);const g=Uo(v._repo),D=Ui(g),B=El(v,D),J=El(v,D);let fe;return fe=null!=p?fh(J,p).then(()=>J):Promise.resolve(J),B.then=fe.then.bind(fe),B.catch=fe.then.bind(fe,void 0),B}(this._delegate,p),B=D.then(fe=>new Ca(this.database,fe));g&&B.then(()=>g(null),fe=>g(fe));const J=new Ca(this.database,D);return J.then=B.then.bind(B),J.catch=B.catch.bind(B,void 0),J}onDisconnect(){return pl("Reference.onDisconnect",this._delegate._path),new Oa(new Hc(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}class Dc{constructor(p,g){this._delegate=p,this.app=g,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets:Ch,forceLongPolling:Ic}}useEmulator(p,g,D={}){!function Yc(v,p,g,D={}){(v=(0,ee.m9)(v))._checkNotDeleted("useEmulator"),v._instanceStarted&&qn("Cannot call useEmulator() after instance has already been initialized.");const B=v._repoInternal;let J;if(B.repoInfo_.nodeAdmin)D.mockUserToken&&qn('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),J=new Er(Er.OWNER);else if(D.mockUserToken){const fe="string"==typeof D.mockUserToken?D.mockUserToken:(0,ee.Sg)(D.mockUserToken,v.app.options.projectId);J=new Er(fe)}!function Po(v,p,g,D){v.repoInfo_=new ie(`${p}:${g}`,!1,v.repoInfo_.namespace,v.repoInfo_.webSocketOnly,v.repoInfo_.nodeAdmin,v.repoInfo_.persistenceKey,v.repoInfo_.includeNamespaceInQueryParams,!0),D&&(v.authTokenProvider_=D)}(B,p,g,J)}(this._delegate,p,g,D)}ref(p){if((0,ee.Dv)("database.ref",0,1,arguments.length),p instanceof Ca){const g=Wc(this._delegate,p.toString());return new Ca(this,g)}{const g=bl(this._delegate,p);return new Ca(this,g)}}refFromURL(p){(0,ee.Dv)("database.refFromURL",1,1,arguments.length);const D=Wc(this._delegate,p);return new Ca(this,D)}goOffline(){return(0,ee.Dv)("database.goOffline",0,0,arguments.length),function zu(v){(v=(0,ee.m9)(v))._checkNotDeleted("goOffline"),au(v._repo)}(this._delegate)}goOnline(){return(0,ee.Dv)("database.goOnline",0,0,arguments.length),function Sd(v){(v=(0,ee.m9)(v))._checkNotDeleted("goOnline"),function Uc(v){v.persistentConnection_&&v.persistentConnection_.resume(nc)}(v._repo)}(this._delegate)}}Dc.ServerValue={TIMESTAMP:function Th(){return Sh}(),increment:v=>function Of(v){return{".sv":{increment:v}}}(v)};var Sc=Object.freeze({__proto__:null,initStandalone:function Ph({app:v,url:p,version:g,customAuthImpl:D,namespace:B,nodeAdmin:J=!1}){Te(g);const fe=new St.zt("auth-internal",new St.H0("database-standalone"));return fe.setComponent(new St.wA("auth-internal",()=>D,"PRIVATE")),{instance:new Dc(Uu(v,fe,void 0,p,J),v),namespace:B}}});const Pd=Dc.ServerValue;!function Zc(v){v.INTERNAL.registerComponent(new St.wA("database-compat",(p,{instanceIdentifier:g})=>{const D=p.getProvider("app-compat").getImmediate(),B=p.getProvider("database").getImmediate({identifier:g});return new Dc(B,D)},"PUBLIC").setServiceProps({Reference:Ca,Query:ka,Database:Dc,DataSnapshot:cc,enableLogging:qc,INTERNAL:Sc,ServerValue:Pd}).setMultipleInstances(!0)),v.registerVersion("@firebase/database-compat","0.3.4")}(It.Z);var uc=z(3385),jp=z(2313),Pm=z(9260);function Nf(v){return null==v}function Xc(v){return"function"==typeof v.set}function Qc(v,p){return Xc(p)?p:v.ref(p)}function Ku(v,p){if(function Wu(v){return"string"==typeof v}(v))return p.stringCase();if(Xc(v))return p.firebaseCase();if(function Gu(v){return"function"==typeof v.exportVal}(v))return p.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof v)}function mu(v,p,g="on",D=E.z){return new be.y(B=>{let J=null;return J=v[g](p,(fe,Ve)=>{D.schedule(()=>{B.next({snapshot:fe,prevKey:Ve})}),"once"===g&&D.schedule(()=>B.complete())},fe=>{D.schedule(()=>B.error(fe))}),"on"===g?{unsubscribe(){null!=J&&v.off(p,J)}}:{unsubscribe(){}}}).pipe((0,ze.U)(B=>{const{snapshot:J,prevKey:fe}=B;let Ve=null;return J.exists()&&(Ve=J.key),{type:p,payload:J,prevKey:fe,key:Ve}}),(0,Se.B)())}function Oh(v,p){const g=v.length;for(let D=0;D<g;D++)if(v[D].payload.key===p)return D;return-1}function zp(v,p){const{payload:g,prevKey:D,key:B}=p,J=Oh(v,B),fe=function Ff(v,p){if(Nf(p))return 0;{const g=Oh(v,p);return-1===g?v.length:g+1}}(v,D);switch(p.type){case"value":if(p.payload&&p.payload.exists()){let Ve=null;p.payload.forEach(bt=>{const Ot={payload:bt,type:"value",prevKey:Ve,key:bt.key};return Ve=bt.key,v=[...v,Ot],!1})}return v;case"child_added":if(J>-1){const Ve=v[J-1];(Ve&&Ve.key||null)!==D&&(v=v.filter(bt=>bt.payload.key!==g.key)).splice(fe,0,p)}else{if(null==D)return[p,...v];(v=v.slice()).splice(fe,0,p)}return v;case"child_removed":return v.filter(Ve=>Ve.payload.key!==g.key);case"child_changed":return v.map(Ve=>Ve.payload.key===B?p:Ve);case"child_moved":if(J>-1){const Ve=v.splice(J,1)[0];return(v=v.slice()).splice(fe,0,Ve),v}return v;default:return v}}function dc(v){return(Nf(v)||0===v.length)&&(v=["child_added","child_removed","child_changed","child_moved"]),v}function Jc(v,p,g){return function Rh(v,p,g){return mu(v,"value","once",g).pipe((0,Re.w)(D=>{const B=[(0,ke.of)(D)];return p.forEach(J=>B.push(mu(v,J,"on",g))),(0,qe.T)(...B).pipe((0,Ze.R)(zp,[]))}),(0,Fe.x)())}(v,p=dc(p),g)}function kh(v,p,g){const D=(p=dc(p)).map(B=>mu(v,B,"on",g));return(0,qe.T)(...D)}function Nh(v,p){return function(D,B){return Ku(D,{stringCase:()=>v.child(D)[p](B),firebaseCase:()=>D[p](B),snapshotCase:()=>D.ref[p](B)})}}function Rm(v){return function(g){return g?Ku(g,{stringCase:()=>v.child(g).remove(),firebaseCase:()=>g.remove(),snapshotCase:()=>g.ref.remove()}):v.remove()}}function Rd(v,p){return function(){return mu(v,"value","on",p)}}const vu=new d.OlP("angularfire2.realtimeDatabaseURL"),Tc=new d.OlP("angularfire2.database.use-emulator");let _u=(()=>{class v{constructor(g,D,B,J,fe,Ve,bt,Ot,Nn,Ln,rr,Di,Xi,go,ya){this.schedulers=Ve;const il=bt,Kl=(0,Mt.on)(g,fe,D);Ot&&(0,uc.nw)(Kl,fe,Nn,rr,Di,Xi,Ln,go),this.database=(0,Mt.cc)(`${Kl.name}.database.${B}`,"AngularFireDatabase",Kl.name,()=>{const bu=fe.runOutsideAngular(()=>Kl.database(B||void 0));return il&&bu.useEmulator(...il),bu},[il])}list(g,D){const B=this.schedulers.ngZone.runOutsideAngular(()=>Qc(this.database,g));let J=B;return D&&(J=D(B)),function Wp(v,p){const g=p.schedulers.outsideAngular,D=p.schedulers.ngZone.run(()=>v.ref);return{query:v,update:Nh(D,"update"),set:Nh(D,"set"),push:B=>D.push(B),remove:Rm(D),snapshotChanges:B=>Jc(v,B,g).pipe(kt.iC),stateChanges:B=>kh(v,B,g).pipe(kt.iC),auditTrail:B=>function Hp(v,p,g){return function Sl(v,p,g){return function hc(v,p){return mu(v,"value","on",p).pipe((0,ze.U)(g=>{let D;return g.payload.forEach(B=>(D=B.key,!1)),{data:g,lastKeyToLoad:D}}))}(v,g).pipe(function He(...v){const p=(0,jt.jO)(v);return(0,xe.e)((g,D)=>{const B=v.length,J=new Array(B);let fe=v.map(()=>!1),Ve=!1;for(let bt=0;bt<B;bt++)(0,Me.Xf)(v[bt]).subscribe((0,it.x)(D,Ot=>{J[bt]=Ot,!Ve&&!fe[bt]&&(fe[bt]=!0,(Ve=fe.every(lt.y))&&(fe=null))},pt.Z));g.subscribe((0,it.x)(D,bt=>{if(Ve){const Ot=[bt,...J];D.next(p?p(...Ot):Ot)}}))})}(p),(0,ze.U)(([B,J])=>{const fe=B.lastKeyToLoad,Ve=J.map(bt=>bt.key);return{actions:J,lastKeyToLoad:fe,loadedKeys:Ve}}),function $e(v){return(0,xe.e)((p,g)=>{let D=!1,B=0;p.subscribe((0,it.x)(g,J=>(D||(D=!v(J,B++)))&&g.next(J)))})}(B=>-1===B.loadedKeys.indexOf(B.lastKeyToLoad)),(0,ze.U)(B=>B.actions))}(v,kh(v,p).pipe((0,Ze.R)((B,J)=>[...B,J],[])),g)}(v,B,g).pipe(kt.iC),valueChanges:(B,J)=>Jc(v,B,g).pipe((0,ze.U)(Ve=>Ve.map(bt=>J&&J.idField?Object.assign(Object.assign({},bt.payload.val()),{[J.idField]:bt.key}):bt.payload.val())),kt.iC)}}(J,this)}object(g){return function yu(v,p){return{query:v,snapshotChanges:()=>Rd(v,p.schedulers.outsideAngular)().pipe(kt.iC),update:g=>v.ref.update(g),set:g=>v.ref.set(g),remove:()=>v.ref.remove(),valueChanges:()=>Rd(v,p.schedulers.outsideAngular)().pipe(kt.iC,(0,ze.U)(D=>D.payload.exists()?D.payload.val():null))}}(this.schedulers.ngZone.runOutsideAngular(()=>Qc(this.database,g)),this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}}return v.\u0275fac=function(g){return new(g||v)(d.LFG(Mt.Dh),d.LFG(Mt.xv,8),d.LFG(vu,8),d.LFG(d.Lbi),d.LFG(d.R0b),d.LFG(kt.HU),d.LFG(Tc,8),d.LFG(uc.zQ,8),d.LFG(uc.Qv,8),d.LFG(uc.L6,8),d.LFG(uc._Q,8),d.LFG(uc.rT,8),d.LFG(uc.lh,8),d.LFG(uc.f7,8),d.LFG(jp.nm,8))},v.\u0275prov=d.Yz7({token:v,factory:v.\u0275fac,providedIn:"any"}),v})(),Lf=(()=>{class v{constructor(){Pm.Z.registerVersion("angularfire",kt.q4.full,"rtdb-compat")}}return v.\u0275fac=function(g){return new(g||v)},v.\u0275mod=d.oAB({type:v}),v.\u0275inj=d.cJS({providers:[_u]}),v})()},1085:(Jn,Lt,z)=>{"use strict";z.d(Lt,{ST:()=>Ei,yb:()=>Er});var d=z(2223),E=z(4986),be=z(9751),ke=z(8996),qe=z(9646),ze=z(3324),Se=z(8675),Re=z(1520),Ze=z(4004),Fe=z(5026),xe=z(1884),it=z(9300),Me=z(2011),lt=z(4755),jt=(z(9568),z(3942)),He=z(2810),$e=z(2090),kt=z(4859);function It(Cn,Ne){if(void 0===Ne)return{merge:!1};if(void 0!==Ne.mergeFields&&void 0!==Ne.merge)throw new He.WA("invalid-argument",`Invalid options passed to function ${Cn}(): You cannot specify both "merge" and "mergeFields".`);return Ne}function St(){if(typeof Uint8Array>"u")throw new He.WA("unimplemented","Uint8Arrays are not available in this environment.")}function Ct(){if(!(0,He.Me)())throw new He.WA("unimplemented","Blobs are unavailable in Firestore in this environment.")}class yt{constructor(Ne){this._delegate=Ne}static fromBase64String(Ne){return Ct(),new yt(He.Jj.fromBase64String(Ne))}static fromUint8Array(Ne){return St(),new yt(He.Jj.fromUint8Array(Ne))}toBase64(){return Ct(),this._delegate.toBase64()}toUint8Array(){return St(),this._delegate.toUint8Array()}isEqual(Ne){return this._delegate.isEqual(Ne._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function ee(Cn){return function Gt(Cn,Ne){if("object"!=typeof Cn||null===Cn)return!1;const dt=Cn;for(const Ht of Ne)if(Ht in dt&&"function"==typeof dt[Ht])return!0;return!1}(Cn,["next","error","complete"])}class Dt{enableIndexedDbPersistence(Ne,dt){return(0,He.ST)(Ne._delegate,{forceOwnership:dt})}enableMultiTabIndexedDbPersistence(Ne){return(0,He.fH)(Ne._delegate)}clearIndexedDbPersistence(Ne){return(0,He.Fc)(Ne._delegate)}}class Ft{constructor(Ne,dt,Ht){this._delegate=dt,this._persistenceProvider=Ht,this.INTERNAL={delete:()=>this.terminate()},Ne instanceof He.l7||(this._appCompat=Ne)}get _databaseId(){return this._delegate._databaseId}settings(Ne){const dt=this._delegate._getSettings();!Ne.merge&&dt.host!==Ne.host&&(0,He.yq)("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),Ne.merge&&delete(Ne=Object.assign(Object.assign({},dt),Ne)).merge,this._delegate._setSettings(Ne)}useEmulator(Ne,dt,Ht={}){(0,He.at)(this._delegate,Ne,dt,Ht)}enableNetwork(){return(0,He.Ix)(this._delegate)}disableNetwork(){return(0,He.TF)(this._delegate)}enablePersistence(Ne){let dt=!1,Ht=!1;return Ne&&(dt=!!Ne.synchronizeTabs,Ht=!!Ne.experimentalForceOwningTab,(0,He.Wi)("synchronizeTabs",dt,"experimentalForceOwningTab",Ht)),dt?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,Ht)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return(0,He.Mx)(this._delegate)}onSnapshotsInSync(Ne){return(0,He.sc)(this._delegate,Ne)}get app(){if(!this._appCompat)throw new He.WA("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(Ne){try{return new vt(this,(0,He.hJ)(this._delegate,Ne))}catch(dt){throw tt(dt,"collection()","Firestore.collection()")}}doc(Ne){try{return new et(this,(0,He.JU)(this._delegate,Ne))}catch(dt){throw tt(dt,"doc()","Firestore.doc()")}}collectionGroup(Ne){try{return new sn(this,(0,He.B$)(this._delegate,Ne))}catch(dt){throw tt(dt,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(Ne){return(0,He.i3)(this._delegate,dt=>Ne(new Je(this,dt)))}batch(){return(0,He.qY)(this._delegate),new ct(new He.PU(this._delegate,Ne=>(0,He.GL)(this._delegate,Ne)))}loadBundle(Ne){return(0,He.Pb)(this._delegate,Ne)}namedQuery(Ne){return(0,He.L$)(this._delegate,Ne).then(dt=>dt?new sn(this,dt):null)}}class qt extends He.u7{constructor(Ne){super(),this.firestore=Ne}convertBytes(Ne){return new yt(new He.Jj(Ne))}convertReference(Ne){const dt=this.convertDocumentKey(Ne,this.firestore._databaseId);return et.forKey(dt,this.firestore,null)}}class Je{constructor(Ne,dt){this._firestore=Ne,this._delegate=dt,this._userDataWriter=new qt(Ne)}get(Ne){const dt=cn(Ne);return this._delegate.get(dt).then(Ht=>new Nt(this._firestore,new He.xU(this._firestore._delegate,this._userDataWriter,Ht._key,Ht._document,Ht.metadata,dt.converter)))}set(Ne,dt,Ht){const En=cn(Ne);return Ht?(It("Transaction.set",Ht),this._delegate.set(En,dt,Ht)):this._delegate.set(En,dt),this}update(Ne,dt,Ht,...En){const zn=cn(Ne);return 2===arguments.length?this._delegate.update(zn,dt):this._delegate.update(zn,dt,Ht,...En),this}delete(Ne){const dt=cn(Ne);return this._delegate.delete(dt),this}}class ct{constructor(Ne){this._delegate=Ne}set(Ne,dt,Ht){const En=cn(Ne);return Ht?(It("WriteBatch.set",Ht),this._delegate.set(En,dt,Ht)):this._delegate.set(En,dt),this}update(Ne,dt,Ht,...En){const zn=cn(Ne);return 2===arguments.length?this._delegate.update(zn,dt):this._delegate.update(zn,dt,Ht,...En),this}delete(Ne){const dt=cn(Ne);return this._delegate.delete(dt),this}commit(){return this._delegate.commit()}}class mt{constructor(Ne,dt,Ht){this._firestore=Ne,this._userDataWriter=dt,this._delegate=Ht}fromFirestore(Ne,dt){const Ht=new He.$q(this._firestore._delegate,this._userDataWriter,Ne._key,Ne._document,Ne.metadata,null);return this._delegate.fromFirestore(new Qt(this._firestore,Ht),null!=dt?dt:{})}toFirestore(Ne,dt){return dt?this._delegate.toFirestore(Ne,dt):this._delegate.toFirestore(Ne)}static getInstance(Ne,dt){const Ht=mt.INSTANCES;let En=Ht.get(Ne);En||(En=new WeakMap,Ht.set(Ne,En));let zn=En.get(dt);return zn||(zn=new mt(Ne,new qt(Ne),dt),En.set(dt,zn)),zn}}mt.INSTANCES=new WeakMap;class et{constructor(Ne,dt){this.firestore=Ne,this._delegate=dt,this._userDataWriter=new qt(Ne)}static forPath(Ne,dt,Ht){if(Ne.length%2!=0)throw new He.WA("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${Ne.canonicalString()} has ${Ne.length}`);return new et(dt,new He.my(dt._delegate,Ht,new He.Ky(Ne)))}static forKey(Ne,dt,Ht){return new et(dt,new He.my(dt._delegate,Ht,Ne))}get id(){return this._delegate.id}get parent(){return new vt(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(Ne){try{return new vt(this.firestore,(0,He.hJ)(this._delegate,Ne))}catch(dt){throw tt(dt,"collection()","DocumentReference.collection()")}}isEqual(Ne){return(Ne=(0,$e.m9)(Ne))instanceof He.my&&(0,He.Eo)(this._delegate,Ne)}set(Ne,dt){dt=It("DocumentReference.set",dt);try{return dt?(0,He.pl)(this._delegate,Ne,dt):(0,He.pl)(this._delegate,Ne)}catch(Ht){throw tt(Ht,"setDoc()","DocumentReference.set()")}}update(Ne,dt,...Ht){try{return 1===arguments.length?(0,He.r7)(this._delegate,Ne):(0,He.r7)(this._delegate,Ne,dt,...Ht)}catch(En){throw tt(En,"updateDoc()","DocumentReference.update()")}}delete(){return(0,He.oe)(this._delegate)}onSnapshot(...Ne){const dt=ut(Ne),Ht=Ut(Ne,En=>new Nt(this.firestore,new He.xU(this.firestore._delegate,this._userDataWriter,En._key,En._document,En.metadata,this._delegate.converter)));return(0,He.cf)(this._delegate,dt,Ht)}get(Ne){let dt;return dt="cache"===(null==Ne?void 0:Ne.source)?(0,He.kl)(this._delegate):"server"===(null==Ne?void 0:Ne.source)?(0,He.Xk)(this._delegate):(0,He.QT)(this._delegate),dt.then(Ht=>new Nt(this.firestore,new He.xU(this.firestore._delegate,this._userDataWriter,Ht._key,Ht._document,Ht.metadata,this._delegate.converter)))}withConverter(Ne){return new et(this.firestore,this._delegate.withConverter(Ne?mt.getInstance(this.firestore,Ne):null))}}function tt(Cn,Ne,dt){return Cn.message=Cn.message.replace(Ne,dt),Cn}function ut(Cn){for(const Ne of Cn)if("object"==typeof Ne&&!ee(Ne))return Ne;return{}}function Ut(Cn,Ne){var dt,Ht;let En;return En=ee(Cn[0])?Cn[0]:ee(Cn[1])?Cn[1]:"function"==typeof Cn[0]?{next:Cn[0],error:Cn[1],complete:Cn[2]}:{next:Cn[1],error:Cn[2],complete:Cn[3]},{next:zn=>{En.next&&En.next(Ne(zn))},error:null===(dt=En.error)||void 0===dt?void 0:dt.bind(En),complete:null===(Ht=En.complete)||void 0===Ht?void 0:Ht.bind(En)}}class Nt{constructor(Ne,dt){this._firestore=Ne,this._delegate=dt}get ref(){return new et(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(Ne){return this._delegate.data(Ne)}get(Ne,dt){return this._delegate.get(Ne,dt)}isEqual(Ne){return(0,He.qK)(this._delegate,Ne._delegate)}}class Qt extends Nt{data(Ne){const dt=this._delegate.data(Ne);return(0,He.K9)(void 0!==dt,"Document in a QueryDocumentSnapshot should exist"),dt}}class sn{constructor(Ne,dt){this.firestore=Ne,this._delegate=dt,this._userDataWriter=new qt(Ne)}where(Ne,dt,Ht){try{return new sn(this.firestore,(0,He.IO)(this._delegate,(0,He.ar)(Ne,dt,Ht)))}catch(En){throw tt(En,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(Ne,dt){try{return new sn(this.firestore,(0,He.IO)(this._delegate,(0,He.Xo)(Ne,dt)))}catch(Ht){throw tt(Ht,/(orderBy|where)\(\)/,"Query.$1()")}}limit(Ne){try{return new sn(this.firestore,(0,He.IO)(this._delegate,(0,He.b9)(Ne)))}catch(dt){throw tt(dt,"limit()","Query.limit()")}}limitToLast(Ne){try{return new sn(this.firestore,(0,He.IO)(this._delegate,(0,He.vh)(Ne)))}catch(dt){throw tt(dt,"limitToLast()","Query.limitToLast()")}}startAt(...Ne){try{return new sn(this.firestore,(0,He.IO)(this._delegate,(0,He.e0)(...Ne)))}catch(dt){throw tt(dt,"startAt()","Query.startAt()")}}startAfter(...Ne){try{return new sn(this.firestore,(0,He.IO)(this._delegate,(0,He.TQ)(...Ne)))}catch(dt){throw tt(dt,"startAfter()","Query.startAfter()")}}endBefore(...Ne){try{return new sn(this.firestore,(0,He.IO)(this._delegate,(0,He.Lx)(...Ne)))}catch(dt){throw tt(dt,"endBefore()","Query.endBefore()")}}endAt(...Ne){try{return new sn(this.firestore,(0,He.IO)(this._delegate,(0,He.Wu)(...Ne)))}catch(dt){throw tt(dt,"endAt()","Query.endAt()")}}isEqual(Ne){return(0,He.iE)(this._delegate,Ne._delegate)}get(Ne){let dt;return dt="cache"===(null==Ne?void 0:Ne.source)?(0,He.UQ)(this._delegate):"server"===(null==Ne?void 0:Ne.source)?(0,He.zN)(this._delegate):(0,He.PL)(this._delegate),dt.then(Ht=>new tn(this.firestore,new He.W(this.firestore._delegate,this._userDataWriter,this._delegate,Ht._snapshot)))}onSnapshot(...Ne){const dt=ut(Ne),Ht=Ut(Ne,En=>new tn(this.firestore,new He.W(this.firestore._delegate,this._userDataWriter,this._delegate,En._snapshot)));return(0,He.cf)(this._delegate,dt,Ht)}withConverter(Ne){return new sn(this.firestore,this._delegate.withConverter(Ne?mt.getInstance(this.firestore,Ne):null))}}class On{constructor(Ne,dt){this._firestore=Ne,this._delegate=dt}get type(){return this._delegate.type}get doc(){return new Qt(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class tn{constructor(Ne,dt){this._firestore=Ne,this._delegate=dt}get query(){return new sn(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(Ne=>new Qt(this._firestore,Ne))}docChanges(Ne){return this._delegate.docChanges(Ne).map(dt=>new On(this._firestore,dt))}forEach(Ne,dt){this._delegate.forEach(Ht=>{Ne.call(dt,new Qt(this._firestore,Ht))})}isEqual(Ne){return(0,He.qK)(this._delegate,Ne._delegate)}}class vt extends sn{constructor(Ne,dt){super(Ne,dt),this.firestore=Ne,this._delegate=dt}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const Ne=this._delegate.parent;return Ne?new et(this.firestore,Ne):null}doc(Ne){try{return new et(this.firestore,void 0===Ne?(0,He.JU)(this._delegate):(0,He.JU)(this._delegate,Ne))}catch(dt){throw tt(dt,"doc()","CollectionReference.doc()")}}add(Ne){return(0,He.ET)(this._delegate,Ne).then(dt=>new et(this.firestore,dt))}isEqual(Ne){return(0,He.Eo)(this._delegate,Ne._delegate)}withConverter(Ne){return new vt(this.firestore,this._delegate.withConverter(Ne?mt.getInstance(this.firestore,Ne):null))}}function cn(Cn){return(0,He.Cf)(Cn,He.my)}class vn{constructor(...Ne){this._delegate=new He.Lz(...Ne)}static documentId(){return new vn(He.Xb.keyField().canonicalString())}isEqual(Ne){return(Ne=(0,$e.m9)(Ne))instanceof He.Lz&&this._delegate._internalPath.isEqual(Ne._internalPath)}}class qn{constructor(Ne){this._delegate=Ne}static serverTimestamp(){const Ne=(0,He.Bt)();return Ne._methodName="FieldValue.serverTimestamp",new qn(Ne)}static delete(){const Ne=(0,He.AK)();return Ne._methodName="FieldValue.delete",new qn(Ne)}static arrayUnion(...Ne){const dt=(0,He.vr)(...Ne);return dt._methodName="FieldValue.arrayUnion",new qn(dt)}static arrayRemove(...Ne){const dt=(0,He.Ab)(...Ne);return dt._methodName="FieldValue.arrayRemove",new qn(dt)}static increment(Ne){const dt=(0,He.nP)(Ne);return dt._methodName="FieldValue.increment",new qn(dt)}isEqual(Ne){return this._delegate.isEqual(Ne._delegate)}}const er={Firestore:Ft,GeoPoint:He.F8,Timestamp:He.EK,Blob:yt,Transaction:Je,WriteBatch:ct,DocumentReference:et,DocumentSnapshot:Nt,Query:sn,QueryDocumentSnapshot:Qt,QuerySnapshot:tn,CollectionReference:vt,FieldPath:vn,FieldValue:qn,setLogLevel:function Te(Cn){(0,He.Ub)(Cn)},CACHE_SIZE_UNLIMITED:He.IX};!function un(Cn){(function ur(Cn,Ne){Cn.INTERNAL.registerComponent(new kt.wA("firestore-compat",dt=>{const Ht=dt.getProvider("app-compat").getImmediate(),En=dt.getProvider("firestore").getImmediate();return Ne(Ht,En)},"PUBLIC").setServiceProps(Object.assign({},er)))})(Cn,(Ne,dt)=>new Ft(Ne,dt,new Dt)),Cn.registerVersion("@firebase/firestore-compat","0.3.9")}(jt.Z);var ir=z(3385),an=z(2313),Pr=z(9260);function xr(Cn,Ne){return function $r(Cn,Ne=E.z){return new be.y(dt=>{let Ht;return null!=Ne?Ne.schedule(()=>{Ht=Cn.onSnapshot({includeMetadataChanges:!0},dt)}):Ht=Cn.onSnapshot({includeMetadataChanges:!0},dt),()=>{null!=Ht&&Ht()}})}(Cn,Ne)}function ai(Cn,Ne){return xr(Cn,Ne).pipe((0,Ze.U)(dt=>({payload:dt,type:"query"})))}function Gr(Cn,Ne){return ai(Cn,Ne).pipe((0,Se.O)(void 0),(0,Re.G)(),(0,Ze.U)(([dt,Ht])=>{const En=Ht.payload.docChanges(),zn=En.map(jr=>({type:jr.type,payload:jr}));return dt&&JSON.stringify(dt.payload.metadata)!==JSON.stringify(Ht.payload.metadata)&&Ht.payload.docs.forEach((jr,kr)=>{const Or=En.find(Ae=>Ae.doc.ref.isEqual(jr.ref)),gt=null==dt?void 0:dt.payload.docs.find(Ae=>Ae.ref.isEqual(jr.ref));Or&&JSON.stringify(Or.doc.metadata)===JSON.stringify(jr.metadata)||!Or&&gt&&JSON.stringify(gt.metadata)===JSON.stringify(jr.metadata)||zn.push({type:"modified",payload:{oldIndex:kr,newIndex:kr,type:"modified",doc:jr}})}),zn}))}function ar(Cn,Ne,dt){return Gr(Cn,dt).pipe((0,Fe.R)((Ht,En)=>function Pi(Cn,Ne,dt){return Ne.forEach(Ht=>{dt.indexOf(Ht.type)>-1&&(Cn=function lr(Cn,Ne){switch(Ne.type){case"added":if(!Cn[Ne.newIndex]||!Cn[Ne.newIndex].doc.ref.isEqual(Ne.doc.ref))return yi(Cn,Ne.newIndex,0,Ne);break;case"modified":if(null==Cn[Ne.oldIndex]||Cn[Ne.oldIndex].doc.ref.isEqual(Ne.doc.ref)){if(Ne.oldIndex!==Ne.newIndex){const dt=Cn.slice();return dt.splice(Ne.oldIndex,1),dt.splice(Ne.newIndex,0,Ne),dt}return yi(Cn,Ne.newIndex,1,Ne)}break;case"removed":if(Cn[Ne.oldIndex]&&Cn[Ne.oldIndex].doc.ref.isEqual(Ne.doc.ref))return yi(Cn,Ne.oldIndex,1)}return Cn}(Cn,Ht))}),Cn}(Ht,En.map(zn=>zn.payload),Ne),[]),(0,xe.x)(),(0,Ze.U)(Ht=>Ht.map(En=>({type:En.type,payload:En}))))}function yi(Cn,Ne,dt,...Ht){const En=Cn.slice();return En.splice(Ne,dt,...Ht),En}function nr(Cn){return(!Cn||0===Cn.length)&&(Cn=["added","removed","modified"]),Cn}class mr{constructor(Ne,dt,Ht){this.ref=Ne,this.query=dt,this.afs=Ht}stateChanges(Ne){let dt=Gr(this.query,this.afs.schedulers.outsideAngular);return Ne&&Ne.length>0&&(dt=dt.pipe((0,Ze.U)(Ht=>Ht.filter(En=>Ne.indexOf(En.type)>-1)))),dt.pipe((0,Se.O)(void 0),(0,Re.G)(),(0,it.h)(([Ht,En])=>En.length>0||!Ht),(0,Ze.U)(([Ht,En])=>En),ze.iC)}auditTrail(Ne){return this.stateChanges(Ne).pipe((0,Fe.R)((dt,Ht)=>[...dt,...Ht],[]))}snapshotChanges(Ne){const dt=nr(Ne);return ar(this.query,dt,this.afs.schedulers.outsideAngular).pipe(ze.iC)}valueChanges(Ne={}){return ai(this.query,this.afs.schedulers.outsideAngular).pipe((0,Ze.U)(dt=>dt.payload.docs.map(Ht=>Ne.idField?Object.assign(Object.assign({},Ht.data()),{[Ne.idField]:Ht.id}):Ht.data())),ze.iC)}get(Ne){return(0,ke.D)(this.query.get(Ne)).pipe(ze.iC)}add(Ne){return this.ref.add(Ne)}doc(Ne){return new bi(this.ref.doc(Ne),this.afs)}}class bi{constructor(Ne,dt){this.ref=Ne,this.afs=dt}set(Ne,dt){return this.ref.set(Ne,dt)}update(Ne){return this.ref.update(Ne)}delete(){return this.ref.delete()}collection(Ne,dt){const Ht=this.ref.collection(Ne),{ref:En,query:zn}=fr(Ht,dt);return new mr(En,zn,this.afs)}snapshotChanges(){return function Rn(Cn,Ne){return xr(Cn,Ne).pipe((0,Se.O)(void 0),(0,Re.G)(),(0,Ze.U)(([dt,Ht])=>Ht.exists?null!=dt&&dt.exists?{payload:Ht,type:"modified"}:{payload:Ht,type:"added"}:{payload:Ht,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(ze.iC)}valueChanges(Ne={}){return this.snapshotChanges().pipe((0,Ze.U)(({payload:dt})=>Ne.idField?Object.assign(Object.assign({},dt.data()),{[Ne.idField]:dt.id}):dt.data()))}get(Ne){return(0,ke.D)(this.ref.get(Ne)).pipe(ze.iC)}}class li{constructor(Ne,dt){this.query=Ne,this.afs=dt}stateChanges(Ne){return Ne&&0!==Ne.length?Gr(this.query,this.afs.schedulers.outsideAngular).pipe((0,Ze.U)(dt=>dt.filter(Ht=>Ne.indexOf(Ht.type)>-1)),(0,it.h)(dt=>dt.length>0),ze.iC):Gr(this.query,this.afs.schedulers.outsideAngular).pipe(ze.iC)}auditTrail(Ne){return this.stateChanges(Ne).pipe((0,Fe.R)((dt,Ht)=>[...dt,...Ht],[]))}snapshotChanges(Ne){const dt=nr(Ne);return ar(this.query,dt,this.afs.schedulers.outsideAngular).pipe(ze.iC)}valueChanges(Ne={}){return ai(this.query,this.afs.schedulers.outsideAngular).pipe((0,Ze.U)(Ht=>Ht.payload.docs.map(En=>Ne.idField?Object.assign({[Ne.idField]:En.id},En.data()):En.data())),ze.iC)}get(Ne){return(0,ke.D)(this.query.get(Ne)).pipe(ze.iC)}}const Kr=new d.OlP("angularfire2.enableFirestorePersistence"),di=new d.OlP("angularfire2.firestore.persistenceSettings"),Ai=new d.OlP("angularfire2.firestore.settings"),br=new d.OlP("angularfire2.firestore.use-emulator");function fr(Cn,Ne=(dt=>dt)){return{query:Ne(Cn),ref:Cn}}let Ei=(()=>{class Cn{constructor(dt,Ht,En,zn,jr,kr,Or,gt,Ae,ie,te,se,Ke,xt,rt,Vt,en){this.schedulers=Or;const Sn=(0,Me.on)(dt,kr,Ht),gn=Ae;ie&&(0,ir.nw)(Sn,kr,te,Ke,xt,rt,se,Vt),[this.firestore,this.persistenceEnabled$]=(0,Me.cc)(`${Sn.name}.firestore`,"AngularFirestore",Sn.name,()=>{const Wn=kr.runOutsideAngular(()=>Sn.firestore());if(zn&&Wn.settings(zn),gn&&Wn.useEmulator(...gn),En&&!(0,lt.PM)(jr)){const ln=()=>{try{return(0,ke.D)(Wn.enablePersistence(gt||void 0).then(()=>!0,()=>!1))}catch(yn){return typeof console<"u"&&console.warn(yn),(0,qe.of)(!1)}};return[Wn,kr.runOutsideAngular(ln)]}return[Wn,(0,qe.of)(!1)]},[zn,gn,En])}collection(dt,Ht){let En;En="string"==typeof dt?this.firestore.collection(dt):dt;const{ref:zn,query:jr}=fr(En,Ht),kr=this.schedulers.ngZone.run(()=>zn);return new mr(kr,jr,this)}collectionGroup(dt,Ht){const En=Ht||(jr=>jr),zn=this.firestore.collectionGroup(dt);return new li(En(zn),this)}doc(dt){let Ht;Ht="string"==typeof dt?this.firestore.doc(dt):dt;const En=this.schedulers.ngZone.run(()=>Ht);return new bi(En,this)}createId(){return this.firestore.collection("_").doc().id}}return Cn.\u0275fac=function(dt){return new(dt||Cn)(d.LFG(Me.Dh),d.LFG(Me.xv,8),d.LFG(Kr,8),d.LFG(Ai,8),d.LFG(d.Lbi),d.LFG(d.R0b),d.LFG(ze.HU),d.LFG(di,8),d.LFG(br,8),d.LFG(ir.zQ,8),d.LFG(ir.Qv,8),d.LFG(ir.L6,8),d.LFG(ir._Q,8),d.LFG(ir.rT,8),d.LFG(ir.lh,8),d.LFG(ir.f7,8),d.LFG(an.nm,8))},Cn.\u0275prov=d.Yz7({token:Cn,factory:Cn.\u0275fac,providedIn:"any"}),Cn})(),Er=(()=>{class Cn{constructor(){Pr.Z.registerVersion("angularfire",ze.q4.full,"fst-compat")}static enablePersistence(dt){return{ngModule:Cn,providers:[{provide:Kr,useValue:!0},{provide:di,useValue:dt}]}}}return Cn.\u0275fac=function(dt){return new(dt||Cn)},Cn.\u0275mod=d.oAB({type:Cn}),Cn.\u0275inj=d.cJS({providers:[Ei]}),Cn})()},377:(Jn,Lt,z)=>{"use strict";z.d(Lt,{Q1:()=>Es,TE:()=>Do});var d=z(9751),E=z(9646),be=z(8996),ke=z(4986),qe=z(4482),ze=z(5403),Re=z(4004),Ze=z(3900),Fe=z(3324),xe=z(2223),it=z(2011),Me=z(3942),lt=z(5861),pt=z(6881),jt=z(2090),He=z(4859);const $e="firebasestorage.googleapis.com",kt="storageBucket";class St extends jt.ZR{constructor(le,$,F=0){super(yt(le),`Firebase Storage: ${$} (${yt(le)})`),this.status_=F,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,St.prototype)}get status(){return this.status_}set status(le){this.status_=le}_codeEquals(le){return yt(le)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(le){this.customData.serverResponse=le,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}var Ct=(()=>((Ct=Ct||{}).UNKNOWN="unknown",Ct.OBJECT_NOT_FOUND="object-not-found",Ct.BUCKET_NOT_FOUND="bucket-not-found",Ct.PROJECT_NOT_FOUND="project-not-found",Ct.QUOTA_EXCEEDED="quota-exceeded",Ct.UNAUTHENTICATED="unauthenticated",Ct.UNAUTHORIZED="unauthorized",Ct.UNAUTHORIZED_APP="unauthorized-app",Ct.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",Ct.INVALID_CHECKSUM="invalid-checksum",Ct.CANCELED="canceled",Ct.INVALID_EVENT_NAME="invalid-event-name",Ct.INVALID_URL="invalid-url",Ct.INVALID_DEFAULT_BUCKET="invalid-default-bucket",Ct.NO_DEFAULT_BUCKET="no-default-bucket",Ct.CANNOT_SLICE_BLOB="cannot-slice-blob",Ct.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",Ct.NO_DOWNLOAD_URL="no-download-url",Ct.INVALID_ARGUMENT="invalid-argument",Ct.INVALID_ARGUMENT_COUNT="invalid-argument-count",Ct.APP_DELETED="app-deleted",Ct.INVALID_ROOT_OPERATION="invalid-root-operation",Ct.INVALID_FORMAT="invalid-format",Ct.INTERNAL_ERROR="internal-error",Ct.UNSUPPORTED_ENVIRONMENT="unsupported-environment",Ct))();function yt(Ee){return"storage/"+Ee}function ee(){return new St(Ct.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function Je(){return new St(Ct.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function ct(){return new St(Ct.CANCELED,"User canceled the upload/download.")}function ut(){return new St(Ct.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function sn(Ee){return new St(Ct.INVALID_ARGUMENT,Ee)}function On(){return new St(Ct.APP_DELETED,"The Firebase app was deleted.")}function tn(Ee){return new St(Ct.INVALID_ROOT_OPERATION,"The operation '"+Ee+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function vt(Ee,le){return new St(Ct.INVALID_FORMAT,"String does not match format '"+Ee+"': "+le)}function cn(Ee){throw new St(Ct.INTERNAL_ERROR,"Internal error: "+Ee)}class vn{constructor(le,$){this.bucket=le,this.path_=$}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const le=encodeURIComponent;return"/b/"+le(this.bucket)+"/o/"+le(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(le,$){let F;try{F=vn.makeFromUrl(le,$)}catch{return new vn(le,"")}if(""===F.path)return F;throw function et(Ee){return new St(Ct.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+Ee+"'.")}(le)}static makeFromUrl(le,$){let F=null;const S="([A-Za-z0-9.\\-_]+)",ht=new RegExp("^gs://"+S+"(/(.*))?$","i");function dn(wi){wi.path_=decodeURIComponent(wi.path)}const ci=$.replace(/[.]/g,"\\."),Ws=[{regex:ht,indices:{bucket:1,path:3},postModify:function L(wi){"/"===wi.path.charAt(wi.path.length-1)&&(wi.path_=wi.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${ci}/v[A-Za-z0-9_]+/b/${S}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:dn},{regex:new RegExp(`^https?://${$===$e?"(?:storage.googleapis.com|storage.cloud.google.com)":$}/${S}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:dn}];for(let wi=0;wi<Ws.length;wi++){const Cs=Ws[wi],no=Cs.regex.exec(le);if(no){let So=no[Cs.indices.path];So||(So=""),F=new vn(no[Cs.indices.bucket],So),Cs.postModify(F);break}}if(null==F)throw function mt(Ee){return new St(Ct.INVALID_URL,"Invalid URL '"+Ee+"'.")}(le);return F}}class qn{constructor(le){this.promise_=Promise.reject(le)}getPromise(){return this.promise_}cancel(le=!1){}}function Pr(Ee){return"string"==typeof Ee||Ee instanceof String}function $r(Ee){return xr()&&Ee instanceof Blob}function xr(){return typeof Blob<"u"&&!(0,jt.UG)()}function Rn(Ee,le,$,F){if(F<le)throw sn(`Invalid value for '${Ee}'. Expected ${le} or greater.`);if(F>$)throw sn(`Invalid value for '${Ee}'. Expected ${$} or less.`)}function ai(Ee,le,$){let F=le;return null==$&&(F=`https://${le}`),`${$}://${F}/v0${Ee}`}function Gr(Ee){const le=encodeURIComponent;let $="?";for(const F in Ee)Ee.hasOwnProperty(F)&&($=$+(le(F)+"=")+le(Ee[F])+"&");return $=$.slice(0,-1),$}var ar=(()=>((ar=ar||{})[ar.NO_ERROR=0]="NO_ERROR",ar[ar.NETWORK_ERROR=1]="NETWORK_ERROR",ar[ar.ABORT=2]="ABORT",ar))();function Pi(Ee,le){const $=Ee>=500&&Ee<600,S=-1!==[408,429].indexOf(Ee),L=-1!==le.indexOf(Ee);return $||S||L}class yi{constructor(le,$,F,S,L,ge,ht,Pt,dn,Mn,ci,ui=!0){this.url_=le,this.method_=$,this.headers_=F,this.body_=S,this.successCodes_=L,this.additionalRetryCodes_=ge,this.callback_=ht,this.errorCallback_=Pt,this.timeout_=dn,this.progressCallback_=Mn,this.connectionFactory_=ci,this.retry=ui,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((gi,vi)=>{this.resolve_=gi,this.reject_=vi,this.start_()})}start_(){const $=(F,S)=>{const L=this.resolve_,ge=this.reject_,ht=S.connection;if(S.wasSuccessCode)try{const Pt=this.callback_(ht,ht.getResponse());!function un(Ee){return void 0!==Ee}(Pt)?L():L(Pt)}catch(Pt){ge(Pt)}else if(null!==ht){const Pt=ee();Pt.serverResponse=ht.getErrorText(),ge(this.errorCallback_?this.errorCallback_(ht,Pt):Pt)}else ge(S.canceled?this.appDelete_?On():ct():Je())};this.canceled_?$(0,new lr(!1,null,!0)):this.backoffId_=function er(Ee,le,$){let F=1,S=null,L=null,ge=!1,ht=0;function Pt(){return 2===ht}let dn=!1;function Mn(...Zi){dn||(dn=!0,le.apply(null,Zi))}function ci(Zi){S=setTimeout(()=>{S=null,Ee(gi,Pt())},Zi)}function ui(){L&&clearTimeout(L)}function gi(Zi,...qs){if(dn)return void ui();if(Zi)return ui(),void Mn.call(null,Zi,...qs);if(Pt()||ge)return ui(),void Mn.call(null,Zi,...qs);let Ws;F<64&&(F*=2),1===ht?(ht=2,Ws=0):Ws=1e3*(F+Math.random()),ci(Ws)}let vi=!1;function mi(Zi){vi||(vi=!0,ui(),!dn&&(null!==S?(Zi||(ht=2),clearTimeout(S),ci(0)):Zi||(ht=1)))}return ci(0),L=setTimeout(()=>{ge=!0,mi(!0)},$),mi}((F,S)=>{if(S)return void F(!1,new lr(!1,null,!0));const L=this.connectionFactory_();this.pendingConnection_=L;const ge=ht=>{null!==this.progressCallback_&&this.progressCallback_(ht.loaded,ht.lengthComputable?ht.total:-1)};null!==this.progressCallback_&&L.addUploadProgressListener(ge),L.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&L.removeUploadProgressListener(ge),this.pendingConnection_=null;const ht=L.getErrorCode()===ar.NO_ERROR,Pt=L.getStatus();if(!ht||Pi(Pt,this.additionalRetryCodes_)&&this.retry){const Mn=L.getErrorCode()===ar.ABORT;return void F(!1,new lr(!1,null,Mn))}const dn=-1!==this.successCodes_.indexOf(Pt);F(!0,new lr(dn,L))})},$,this.timeout_)}getPromise(){return this.promise_}cancel(le){this.canceled_=!0,this.appDelete_=le||!1,null!==this.backoffId_&&function ur(Ee){Ee(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class lr{constructor(le,$,F){this.wasSuccessCode=le,this.connection=$,this.canceled=!!F}}function Ai(...Ee){const le=function di(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==le){const $=new le;for(let F=0;F<Ee.length;F++)$.append(Ee[F]);return $.getBlob()}if(xr())return new Blob(Ee);throw new St(Ct.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}const Ei={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Er{constructor(le,$){this.data=le,this.contentType=$||null}}function Cn(Ee,le){switch(Ee){case Ei.RAW:return new Er(Ne(le));case Ei.BASE64:case Ei.BASE64URL:return new Er(Ht(Ee,le));case Ei.DATA_URL:return new Er(function zn(Ee){const le=new En(Ee);return le.base64?Ht(Ei.BASE64,le.rest):function dt(Ee){let le;try{le=decodeURIComponent(Ee)}catch{throw vt(Ei.DATA_URL,"Malformed data URL.")}return Ne(le)}(le.rest)}(le),function jr(Ee){return new En(Ee).contentType}(le))}throw ee()}function Ne(Ee){const le=[];for(let $=0;$<Ee.length;$++){let F=Ee.charCodeAt($);F<=127?le.push(F):F<=2047?le.push(192|F>>6,128|63&F):55296==(64512&F)?$<Ee.length-1&&56320==(64512&Ee.charCodeAt($+1))?(F=65536|(1023&F)<<10|1023&Ee.charCodeAt(++$),le.push(240|F>>18,128|F>>12&63,128|F>>6&63,128|63&F)):le.push(239,191,189):56320==(64512&F)?le.push(239,191,189):le.push(224|F>>12,128|F>>6&63,128|63&F)}return new Uint8Array(le)}function Ht(Ee,le){switch(Ee){case Ei.BASE64:{const S=-1!==le.indexOf("-"),L=-1!==le.indexOf("_");if(S||L)throw vt(Ee,"Invalid character '"+(S?"-":"_")+"' found: is it base64url encoded?");break}case Ei.BASE64URL:{const S=-1!==le.indexOf("+"),L=-1!==le.indexOf("/");if(S||L)throw vt(Ee,"Invalid character '"+(S?"+":"/")+"' found: is it base64 encoded?");le=le.replace(/-/g,"+").replace(/_/g,"/");break}}let $;try{$=function fr(Ee){if(typeof atob>"u")throw function Qt(Ee){return new St(Ct.UNSUPPORTED_ENVIRONMENT,`${Ee} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}("base-64");return atob(Ee)}(le)}catch(S){throw S.message.includes("polyfill")?S:vt(Ee,"Invalid character found")}const F=new Uint8Array($.length);for(let S=0;S<$.length;S++)F[S]=$.charCodeAt(S);return F}class En{constructor(le){this.base64=!1,this.contentType=null;const $=le.match(/^data:([^,]+)?,/);if(null===$)throw vt(Ei.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const F=$[1]||null;null!=F&&(this.base64=function kr(Ee,le){return Ee.length>=le.length&&Ee.substring(Ee.length-le.length)===le}(F,";base64"),this.contentType=this.base64?F.substring(0,F.length-7):F),this.rest=le.substring(le.indexOf(",")+1)}}class Or{constructor(le,$){let F=0,S="";$r(le)?(this.data_=le,F=le.size,S=le.type):le instanceof ArrayBuffer?($?this.data_=new Uint8Array(le):(this.data_=new Uint8Array(le.byteLength),this.data_.set(new Uint8Array(le))),F=this.data_.length):le instanceof Uint8Array&&($?this.data_=le:(this.data_=new Uint8Array(le.length),this.data_.set(le)),F=le.length),this.size_=F,this.type_=S}size(){return this.size_}type(){return this.type_}slice(le,$){if($r(this.data_)){const S=function br(Ee,le,$){return Ee.webkitSlice?Ee.webkitSlice(le,$):Ee.mozSlice?Ee.mozSlice(le,$):Ee.slice?Ee.slice(le,$):null}(this.data_,le,$);return null===S?null:new Or(S)}{const F=new Uint8Array(this.data_.buffer,le,$-le);return new Or(F,!0)}}static getBlob(...le){if(xr()){const $=le.map(F=>F instanceof Or?F.data_:F);return new Or(Ai.apply(null,$))}{const $=le.map(ge=>Pr(ge)?Cn(Ei.RAW,ge).data:ge.data_);let F=0;$.forEach(ge=>{F+=ge.byteLength});const S=new Uint8Array(F);let L=0;return $.forEach(ge=>{for(let ht=0;ht<ge.length;ht++)S[L++]=ge[ht]}),new Or(S,!0)}}uploadData(){return this.data_}}function gt(Ee){let le;try{le=JSON.parse(Ee)}catch{return null}return function an(Ee){return"object"==typeof Ee&&!Array.isArray(Ee)}(le)?le:null}function te(Ee){const le=Ee.lastIndexOf("/",Ee.length-2);return-1===le?Ee:Ee.slice(le+1)}function se(Ee,le){return le}class Ke{constructor(le,$,F,S){this.server=le,this.local=$||le,this.writable=!!F,this.xform=S||se}}let xt=null;function Vt(){if(xt)return xt;const Ee=[];Ee.push(new Ke("bucket")),Ee.push(new Ke("generation")),Ee.push(new Ke("metageneration")),Ee.push(new Ke("name","fullPath",!0));const $=new Ke("name");$.xform=function le(L,ge){return function rt(Ee){return!Pr(Ee)||Ee.length<2?Ee:te(Ee)}(ge)},Ee.push($);const S=new Ke("size");return S.xform=function F(L,ge){return void 0!==ge?Number(ge):ge},Ee.push(S),Ee.push(new Ke("timeCreated")),Ee.push(new Ke("updated")),Ee.push(new Ke("md5Hash",null,!0)),Ee.push(new Ke("cacheControl",null,!0)),Ee.push(new Ke("contentDisposition",null,!0)),Ee.push(new Ke("contentEncoding",null,!0)),Ee.push(new Ke("contentLanguage",null,!0)),Ee.push(new Ke("contentType",null,!0)),Ee.push(new Ke("metadata","customMetadata",!0)),xt=Ee,xt}function gn(Ee,le,$){const F=gt(le);return null===F?null:function Sn(Ee,le,$){const F={type:"file"},S=$.length;for(let L=0;L<S;L++){const ge=$[L];F[ge.local]=ge.xform(F,le[ge.server])}return function en(Ee,le){Object.defineProperty(Ee,"ref",{get:function $(){const L=new vn(Ee.bucket,Ee.fullPath);return le._makeStorageReference(L)}})}(F,Ee),F}(Ee,F,$)}function ln(Ee,le){const $={},F=le.length;for(let S=0;S<F;S++){const L=le[S];L.writable&&($[L.server]=Ee[L.local])}return JSON.stringify($)}const yn="prefixes",kn="items";class fn{constructor(le,$,F,S){this.url=le,this.method=$,this.handler=F,this.timeout=S,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function Yn(Ee){if(!Ee)throw ee()}function pr(Ee,le){return function $(F,S){const L=gn(Ee,S,le);return Yn(null!==L),L}}function Fi(Ee){return function le($,F){let S;return S=401===$.getStatus()?$.getErrorText().includes("Firebase App Check token is invalid")?function qt(){return new St(Ct.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}():function Ft(){return new St(Ct.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===$.getStatus()?function Dt(Ee){return new St(Ct.QUOTA_EXCEEDED,"Quota for bucket '"+Ee+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(Ee.bucket):403===$.getStatus()?function Te(Ee){return new St(Ct.UNAUTHORIZED,"User does not have permission to access '"+Ee+"'.")}(Ee.path):F,S.status=$.getStatus(),S.serverResponse=F.serverResponse,S}}function Xr(Ee){const le=Fi(Ee);return function $(F,S){let L=le(F,S);return 404===F.getStatus()&&(L=function Gt(Ee){return new St(Ct.OBJECT_NOT_FOUND,"Object '"+Ee+"' does not exist.")}(Ee.path)),L.serverResponse=S.serverResponse,L}}function zr(Ee,le,$){const S=ai(le.fullServerUrl(),Ee.host,Ee._protocol),ge=Ee.maxOperationRetryTime,ht=new fn(S,"GET",pr(Ee,$),ge);return ht.errorHandler=Xr(le),ht}function Yr(Ee,le,$,F,S){const L={};L.prefix=le.isRoot?"":le.path+"/",$&&$.length>0&&(L.delimiter=$),F&&(L.pageToken=F),S&&(L.maxResults=S);const ht=ai(le.bucketOnlyServerUrl(),Ee.host,Ee._protocol),dn=Ee.maxOperationRetryTime,Mn=new fn(ht,"GET",function Fr(Ee,le){return function $(F,S){const L=function Kt(Ee,le,$){const F=gt($);return null===F?null:function Bt(Ee,le,$){const F={prefixes:[],items:[],nextPageToken:$.nextPageToken};if($[yn])for(const S of $[yn]){const L=S.replace(/\/$/,""),ge=Ee._makeStorageReference(new vn(le,L));F.prefixes.push(ge)}if($[kn])for(const S of $[kn]){const L=Ee._makeStorageReference(new vn(le,S.name));F.items.push(L)}return F}(Ee,le,F)}(Ee,le,S);return Yn(null!==L),L}}(Ee,le.bucket),dn);return Mn.urlParams=L,Mn.errorHandler=Fi(le),Mn}function yo(Ee,le,$){const F=Object.assign({},$);return F.fullPath=Ee.path,F.size=le.size(),F.contentType||(F.contentType=function cs(Ee,le){return Ee&&Ee.contentType||le&&le.type()||"application/octet-stream"}(null,le)),F}class zi{constructor(le,$,F,S){this.current=le,this.total=$,this.finalized=!!F,this.metadata=S||null}}function Qs(Ee,le){let $=null;try{$=Ee.getResponseHeader("X-Goog-Upload-Status")}catch{Yn(!1)}return Yn(!!$&&-1!==(le||["active"]).indexOf($)),$}const pe={STATE_CHANGED:"state_changed"},Oe={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function _e(Ee){switch(Ee){case"running":case"pausing":case"canceling":return Oe.RUNNING;case"paused":return Oe.PAUSED;case"success":return Oe.SUCCESS;case"canceled":return Oe.CANCELED;default:return Oe.ERROR}}class ne{constructor(le,$,F){if(function ir(Ee){return"function"==typeof Ee}(le)||null!=$||null!=F)this.next=le,this.error=null!=$?$:void 0,this.complete=null!=F?F:void 0;else{const L=le;this.next=L.next,this.error=L.error,this.complete=L.complete}}}function ve(Ee){return(...le)=>{Promise.resolve().then(()=>Ee(...le))}}let st=null;class wt{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=ar.NO_ERROR,this.sendPromise_=new Promise(le=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=ar.ABORT,le()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=ar.NETWORK_ERROR,le()}),this.xhr_.addEventListener("load",()=>{le()})})}send(le,$,F,S){if(this.sent_)throw cn("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open($,le,!0),void 0!==S)for(const L in S)S.hasOwnProperty(L)&&this.xhr_.setRequestHeader(L,S[L].toString());return void 0!==F?this.xhr_.send(F):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw cn("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw cn("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw cn("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw cn("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(le){return this.xhr_.getResponseHeader(le)}addUploadProgressListener(le){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",le)}removeUploadProgressListener(le){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",le)}}class $t extends wt{initXhr(){this.xhr_.responseType="text"}}function nn(){return st?st():new $t}class vs{constructor(le,$,F=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=le,this._blob=$,this._metadata=F,this._mappings=Vt(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=S=>{if(this._request=void 0,this._chunkMultiplier=1,S._codeEquals(Ct.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const L=this.isExponentialBackoffExpired();if(Pi(S.status,[])){if(!L)return this.sleepTime=Math.max(2*this.sleepTime,1e3),this._needToFetchStatus=!0,void this.completeTransitions_();S=Je()}this._error=S,this._transition("error")}},this._metadataErrorHandler=S=>{this._request=void 0,S._codeEquals(Ct.CANCELED)?this.completeTransitions_():(this._error=S,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((S,L)=>{this._resolve=S,this._reject=L,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const le=this._transferred;return $=>this._updateProgress(le+$)}_shouldDoResumable(le){return le.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(le){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([$,F])=>{switch(this._state){case"running":le($,F);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((le,$)=>{const F=function Js(Ee,le,$,F,S){const L=le.bucketOnlyServerUrl(),ge=yo(le,F,S),ht={name:ge.fullPath},Pt=ai(L,Ee.host,Ee._protocol),Mn={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${F.size()}`,"X-Goog-Upload-Header-Content-Type":ge.contentType,"Content-Type":"application/json; charset=utf-8"},ci=ln(ge,$),vi=new fn(Pt,"POST",function gi(mi){let Zi;Qs(mi);try{Zi=mi.getResponseHeader("X-Goog-Upload-URL")}catch{Yn(!1)}return Yn(Pr(Zi)),Zi},Ee.maxUploadRetryTime);return vi.urlParams=ht,vi.headers=Mn,vi.body=ci,vi.errorHandler=Fi(le),vi}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),S=this._ref.storage._makeRequest(F,nn,le,$);this._request=S,S.getPromise().then(L=>{this._request=void 0,this._uploadUrl=L,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const le=this._uploadUrl;this._resolveToken(($,F)=>{const S=function Is(Ee,le,$,F){const Pt=new fn($,"POST",function L(dn){const Mn=Qs(dn,["active","final"]);let ci=null;try{ci=dn.getResponseHeader("X-Goog-Upload-Size-Received")}catch{Yn(!1)}ci||Yn(!1);const ui=Number(ci);return Yn(!isNaN(ui)),new zi(ui,F.size(),"final"===Mn)},Ee.maxUploadRetryTime);return Pt.headers={"X-Goog-Upload-Command":"query"},Pt.errorHandler=Fi(le),Pt}(this._ref.storage,this._ref._location,le,this._blob),L=this._ref.storage._makeRequest(S,nn,$,F);this._request=L,L.getPromise().then(ge=>{this._request=void 0,this._updateProgress(ge.current),this._needToFetchStatus=!1,ge.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const le=262144*this._chunkMultiplier,$=new zi(this._transferred,this._blob.size()),F=this._uploadUrl;this._resolveToken((S,L)=>{let ge;try{ge=function re(Ee,le,$,F,S,L,ge,ht){const Pt=new zi(0,0);if(ge?(Pt.current=ge.current,Pt.total=ge.total):(Pt.current=0,Pt.total=F.size()),F.size()!==Pt.total)throw function Ut(){return new St(Ct.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}();const dn=Pt.total-Pt.current;let Mn=dn;S>0&&(Mn=Math.min(Mn,S));const ci=Pt.current;let gi="";gi=0===Mn?"finalize":dn===Mn?"upload, finalize":"upload";const vi={"X-Goog-Upload-Command":gi,"X-Goog-Upload-Offset":`${Pt.current}`},mi=F.slice(ci,ci+Mn);if(null===mi)throw ut();const Ws=new fn($,"POST",function Zi(wi,Cs){const no=Qs(wi,["active","final"]),zo=Pt.current+Mn,So=F.size();let sa;return sa="final"===no?pr(le,L)(wi,Cs):null,new zi(zo,So,"final"===no,sa)},le.maxUploadRetryTime);return Ws.headers=vi,Ws.body=mi.uploadData(),Ws.progressCallback=ht||null,Ws.errorHandler=Fi(Ee),Ws}(this._ref._location,this._ref.storage,F,this._blob,le,this._mappings,$,this._makeProgressCallback())}catch(Pt){return this._error=Pt,void this._transition("error")}const ht=this._ref.storage._makeRequest(ge,nn,S,L,!1);this._request=ht,ht.getPromise().then(Pt=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(Pt.current),Pt.finalized?(this._metadata=Pt.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier*2<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((le,$)=>{const F=zr(this._ref.storage,this._ref._location,this._mappings),S=this._ref.storage._makeRequest(F,nn,le,$);this._request=S,S.getPromise().then(L=>{this._request=void 0,this._metadata=L,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((le,$)=>{const F=function ts(Ee,le,$,F,S){const L=le.bucketOnlyServerUrl(),ge={"X-Goog-Upload-Protocol":"multipart"},Pt=function ht(){let Ws="";for(let wi=0;wi<2;wi++)Ws+=Math.random().toString().slice(2);return Ws}();ge["Content-Type"]="multipart/related; boundary="+Pt;const dn=yo(le,F,S),Mn=ln(dn,$),gi=Or.getBlob("--"+Pt+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+Mn+"\r\n--"+Pt+"\r\nContent-Type: "+dn.contentType+"\r\n\r\n",F,"\r\n--"+Pt+"--");if(null===gi)throw ut();const vi={name:dn.fullPath},mi=ai(L,Ee.host,Ee._protocol),qs=Ee.maxUploadRetryTime,xs=new fn(mi,"POST",pr(Ee,$),qs);return xs.urlParams=vi,xs.headers=ge,xs.body=gi.uploadData(),xs.errorHandler=Fi(le),xs}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),S=this._ref.storage._makeRequest(F,nn,le,$);this._request=S,S.getPromise().then(L=>{this._request=void 0,this._metadata=L,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(le){const $=this._transferred;this._transferred=le,this._transferred!==$&&this._notifyObservers()}_transition(le){if(this._state!==le)switch(le){case"canceling":case"pausing":this._state=le,void 0!==this._request?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const $="paused"===this._state;this._state=le,$&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=le,this._notifyObservers();break;case"canceled":this._error=ct(),this._state=le,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const le=_e(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:le,metadata:this._metadata,task:this,ref:this._ref}}on(le,$,F,S){const L=new ne($||void 0,F||void 0,S||void 0);return this._addObserver(L),()=>{this._removeObserver(L)}}then(le,$){return this._promise.then(le,$)}catch(le){return this.then(null,le)}_addObserver(le){this._observers.push(le),this._notifyObserver(le)}_removeObserver(le){const $=this._observers.indexOf(le);-1!==$&&this._observers.splice($,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach($=>{this._notifyObserver($)})}_finishPromise(){if(void 0!==this._resolve){let le=!0;switch(_e(this._state)){case Oe.SUCCESS:ve(this._resolve.bind(null,this.snapshot))();break;case Oe.CANCELED:case Oe.ERROR:ve(this._reject.bind(null,this._error))();break;default:le=!1}le&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(le){switch(_e(this._state)){case Oe.RUNNING:case Oe.PAUSED:le.next&&ve(le.next.bind(le,this.snapshot))();break;case Oe.SUCCESS:le.complete&&ve(le.complete.bind(le))();break;default:le.error&&ve(le.error.bind(le,this._error))()}}resume(){const le="paused"===this._state||"pausing"===this._state;return le&&this._transition("running"),le}pause(){const le="running"===this._state;return le&&this._transition("pausing"),le}cancel(){const le="running"===this._state||"pausing"===this._state;return le&&this._transition("canceling"),le}}class Ji{constructor(le,$){this._service=le,this._location=$ instanceof vn?$:vn.makeFromUrl($,le.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(le,$){return new Ji(le,$)}get root(){const le=new vn(this._location.bucket,"");return this._newRef(this._service,le)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return te(this._location.path)}get storage(){return this._service}get parent(){const le=function Ae(Ee){if(0===Ee.length)return null;const le=Ee.lastIndexOf("/");return-1===le?"":Ee.slice(0,le)}(this._location.path);if(null===le)return null;const $=new vn(this._location.bucket,le);return new Ji(this._service,$)}_throwIfRoot(le){if(""===this._location.path)throw tn(le)}}function Ao(Ee,le,$){return is.apply(this,arguments)}function is(){return(is=(0,lt.Z)(function*(Ee,le,$){const S=yield vo(Ee,{pageToken:$});le.prefixes.push(...S.prefixes),le.items.push(...S.items),null!=S.nextPageToken&&(yield Ao(Ee,le,S.nextPageToken))})).apply(this,arguments)}function vo(Ee,le){null!=le&&"number"==typeof le.maxResults&&Rn("options.maxResults",1,1e3,le.maxResults);const $=le||{},F=Yr(Ee.storage,Ee._location,"/",$.pageToken,$.maxResults);return Ee.storage.makeRequestWithTokens(F,nn)}function ji(Ee){Ee._throwIfRoot("getDownloadURL");const le=function Os(Ee,le,$){const S=ai(le.fullServerUrl(),Ee.host,Ee._protocol),ge=Ee.maxOperationRetryTime,ht=new fn(S,"GET",function Sr(Ee,le){return function $(F,S){const L=gn(Ee,S,le);return Yn(null!==L),function Wn(Ee,le,$,F){const S=gt(le);if(null===S||!Pr(S.downloadTokens))return null;const L=S.downloadTokens;if(0===L.length)return null;const ge=encodeURIComponent;return L.split(",").map(dn=>{const ci=Ee.fullPath;return ai("/b/"+ge(Ee.bucket)+"/o/"+ge(ci),$,F)+Gr({alt:"media",token:dn})})[0]}(L,S,Ee.host,Ee._protocol)}}(Ee,$),ge);return ht.errorHandler=Xr(le),ht}(Ee.storage,Ee._location,Vt());return Ee.storage.makeRequestWithTokens(le,nn).then($=>{if(null===$)throw function Nt(){return new St(Ct.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}();return $})}function so(Ee,le){const $=function ie(Ee,le){const $=le.split("/").filter(F=>F.length>0).join("/");return 0===Ee.length?$:Ee+"/"+$}(Ee._location.path,le),F=new vn(Ee._location.bucket,$);return new Ji(Ee.storage,F)}function es(Ee,le){if(Ee instanceof Eo){const $=Ee;if(null==$._bucket)throw function tt(){return new St(Ct.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+kt+"' property when initializing the app?")}();const F=new Ji($,$._bucket);return null!=le?es(F,le):F}return void 0!==le?so(Ee,le):Ee}function eo(Ee,le){if(le&&function _s(Ee){return/^[A-Za-z]+:\/\//.test(Ee)}(le)){if(Ee instanceof Eo)return function ki(Ee,le){return new Ji(Ee,le)}(Ee,le);throw sn("To use ref(service, url), the first argument must be a Storage instance.")}return es(Ee,le)}function uo(Ee,le){const $=null==le?void 0:le[kt];return null==$?null:vn.makeFromBucketSpec($,Ee)}class Eo{constructor(le,$,F,S,L){this.app=le,this._authProvider=$,this._appCheckProvider=F,this._url=S,this._firebaseVersion=L,this._bucket=null,this._host=$e,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=S?vn.makeFromBucketSpec(S,this._host):uo(this._host,this.app.options)}get host(){return this._host}set host(le){this._host=le,this._bucket=null!=this._url?vn.makeFromBucketSpec(this._url,le):uo(le,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(le){Rn("time",0,Number.POSITIVE_INFINITY,le),this._maxUploadRetryTime=le}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(le){Rn("time",0,Number.POSITIVE_INFINITY,le),this._maxOperationRetryTime=le}_getAuthToken(){var le=this;return(0,lt.Z)(function*(){if(le._overrideAuthToken)return le._overrideAuthToken;const $=le._authProvider.getImmediate({optional:!0});if($){const F=yield $.getToken();if(null!==F)return F.accessToken}return null})()}_getAppCheckToken(){var le=this;return(0,lt.Z)(function*(){const $=le._appCheckProvider.getImmediate({optional:!0});return $?(yield $.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(le=>le.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(le){return new Ji(this,le)}_makeRequest(le,$,F,S,L=!0){if(this._deleted)return new qn(On());{const ge=function Kr(Ee,le,$,F,S,L,ge=!0){const ht=Gr(Ee.urlParams),Pt=Ee.url+ht,dn=Object.assign({},Ee.headers);return function bi(Ee,le){le&&(Ee["X-Firebase-GMPID"]=le)}(dn,le),function nr(Ee,le){null!==le&&le.length>0&&(Ee.Authorization="Firebase "+le)}(dn,$),function mr(Ee,le){Ee["X-Firebase-Storage-Version"]="webjs/"+(null!=le?le:"AppManager")}(dn,L),function li(Ee,le){null!==le&&(Ee["X-Firebase-AppCheck"]=le)}(dn,F),new yi(Pt,Ee.method,dn,Ee.body,Ee.successCodes,Ee.additionalRetryCodes,Ee.handler,Ee.errorHandler,Ee.timeout,Ee.progressCallback,S,ge)}(le,this._appId,F,S,$,this._firebaseVersion,L);return this._requests.add(ge),ge.getPromise().then(()=>this._requests.delete(ge),()=>this._requests.delete(ge)),ge}}makeRequestWithTokens(le,$){var F=this;return(0,lt.Z)(function*(){const[S,L]=yield Promise.all([F._getAuthToken(),F._getAppCheckToken()]);return F._makeRequest(le,$,S,L).getPromise()})()}}const _o="@firebase/storage";function fs(Ee,le){return eo(Ee=(0,jt.m9)(Ee),le)}function bo(Ee,{instanceIdentifier:le}){const $=Ee.getProvider("app").getImmediate(),F=Ee.getProvider("auth-internal"),S=Ee.getProvider("app-check-internal");return new Eo($,F,S,le,pt.SDK_VERSION)}!function Co(){(0,pt._registerComponent)(new He.wA("storage",bo,"PUBLIC").setMultipleInstances(!0)),(0,pt.registerVersion)(_o,"0.11.2",""),(0,pt.registerVersion)(_o,"0.11.2","esm2017")}();class to{constructor(le,$,F){this._delegate=le,this.task=$,this.ref=F}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class Zo{constructor(le,$){this._delegate=le,this._ref=$,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new to(this._delegate.snapshot,this,this._ref)}then(le,$){return this._delegate.then(F=>{if(le)return le(new to(F,this,this._ref))},$)}on(le,$,F,S){let L;return $&&(L="function"==typeof $?ge=>$(new to(ge,this,this._ref)):{next:$.next?ge=>$.next(new to(ge,this,this._ref)):void 0,complete:$.complete||void 0,error:$.error||void 0}),this._delegate.on(le,L,F||void 0,S||void 0)}}class ao{constructor(le,$){this._delegate=le,this._service=$}get prefixes(){return this._delegate.prefixes.map(le=>new $s(le,this._service))}get items(){return this._delegate.items.map(le=>new $s(le,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class $s{constructor(le,$){this._delegate=le,this.storage=$}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(le){const $=function ho(Ee,le){return so(Ee,le)}(this._delegate,le);return new $s($,this.storage)}get root(){return new $s(this._delegate.root,this.storage)}get parent(){const le=this._delegate.parent;return null==le?null:new $s(le,this.storage)}put(le,$){return this._throwIfRoot("put"),new Zo(function No(Ee,le,$){return function Lr(Ee,le,$){return Ee._throwIfRoot("uploadBytesResumable"),new vs(Ee,new Or(le),$)}(Ee=(0,jt.m9)(Ee),le,$)}(this._delegate,le,$),this)}putString(le,$=Ei.RAW,F){this._throwIfRoot("putString");const S=Cn($,le),L=Object.assign({},F);return null==L.contentType&&null!=S.contentType&&(L.contentType=S.contentType),new Zo(new vs(this._delegate,new Or(S.data,!0),L),this)}listAll(){return function Ys(Ee){return function Ts(Ee){const le={prefixes:[],items:[]};return Ao(Ee,le).then(()=>le)}(Ee=(0,jt.m9)(Ee))}(this._delegate).then(le=>new ao(le,this.storage))}list(le){return function Bs(Ee,le){return vo(Ee=(0,jt.m9)(Ee),le)}(this._delegate,le||void 0).then($=>new ao($,this.storage))}getMetadata(){return function Yi(Ee){return function Jr(Ee){Ee._throwIfRoot("getMetadata");const le=zr(Ee.storage,Ee._location,Vt());return Ee.storage.makeRequestWithTokens(le,nn)}(Ee=(0,jt.m9)(Ee))}(this._delegate)}updateMetadata(le){return function Ri(Ee,le){return function Ur(Ee,le){Ee._throwIfRoot("updateMetadata");const $=function Xs(Ee,le,$,F){const L=ai(le.fullServerUrl(),Ee.host,Ee._protocol),ht=ln($,F),dn=Ee.maxOperationRetryTime,Mn=new fn(L,"PATCH",pr(Ee,F),dn);return Mn.headers={"Content-Type":"application/json; charset=utf-8"},Mn.body=ht,Mn.errorHandler=Xr(le),Mn}(Ee.storage,Ee._location,le,Vt());return Ee.storage.makeRequestWithTokens($,nn)}(Ee=(0,jt.m9)(Ee),le)}(this._delegate,le)}getDownloadURL(){return function Io(Ee){return ji(Ee=(0,jt.m9)(Ee))}(this._delegate)}delete(){return this._throwIfRoot("delete"),function hs(Ee){return function qr(Ee){Ee._throwIfRoot("deleteObject");const le=function ys(Ee,le){const F=ai(le.fullServerUrl(),Ee.host,Ee._protocol),ht=new fn(F,"DELETE",function ge(Pt,dn){},Ee.maxOperationRetryTime);return ht.successCodes=[200,204],ht.errorHandler=Xr(le),ht}(Ee.storage,Ee._location);return Ee.storage.makeRequestWithTokens(le,nn)}(Ee=(0,jt.m9)(Ee))}(this._delegate)}_throwIfRoot(le){if(""===this._delegate._location.path)throw tn(le)}}class Ro{constructor(le,$){this.app=le,this._delegate=$}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(le){if(us(le))throw sn("ref() expected a child path but got a URL, use refFromURL instead.");return new $s(fs(this._delegate,le),this)}refFromURL(le){if(!us(le))throw sn("refFromURL() expected a full URL but got a child path, use ref() instead.");try{vn.makeFromUrl(le,this._delegate.host)}catch{throw sn("refFromUrl() expected a valid full URL but got an invalid one.")}return new $s(fs(this._delegate,le),this)}setMaxUploadRetryTime(le){this._delegate.maxUploadRetryTime=le}setMaxOperationRetryTime(le){this._delegate.maxOperationRetryTime=le}useEmulator(le,$,F={}){!function Ni(Ee,le,$,F={}){!function zs(Ee,le,$,F={}){Ee.host=`${le}:${$}`,Ee._protocol="http";const{mockUserToken:S}=F;S&&(Ee._overrideAuthToken="string"==typeof S?S:(0,jt.Sg)(S,Ee.app.options.projectId))}(Ee,le,$,F)}(this._delegate,le,$,F)}}function us(Ee){return/^[A-Za-z]+:\/\//.test(Ee)}function qi(Ee,{instanceIdentifier:le}){const $=Ee.getProvider("app-compat").getImmediate(),F=Ee.getProvider("storage").getImmediate({identifier:le});return new Ro($,F)}!function O(Ee){const le={TaskState:Oe,TaskEvent:pe,StringFormat:Ei,Storage:Ro,Reference:$s};Ee.INTERNAL.registerComponent(new He.wA("storage-compat",qi,"PUBLIC").setServiceProps(le).setMultipleInstances(!0)),Ee.registerVersion("@firebase/storage-compat","0.3.2")}(Me.Z);var he=z(2313),N=z(9260);function Ge(Ee){const le=function ce(Ee){return new d.y(le=>{const $=ge=>le.next(ge);$(Ee.snapshot);const L=Ee.on("state_changed",$);return Ee.then(ge=>{$(ge),le.complete()},ge=>{$(Ee.snapshot),(ge=>{le.error(ge)})(ge)}),function(){L()}}).pipe(function Se(Ee,le=ke.z){return(0,qe.e)(($,F)=>{let S=null,L=null,ge=null;const ht=()=>{if(S){S.unsubscribe(),S=null;const dn=L;L=null,F.next(dn)}};function Pt(){const dn=ge+Ee,Mn=le.now();if(Mn<dn)return S=this.schedule(void 0,dn-Mn),void F.add(S);ht()}$.subscribe((0,ze.x)(F,dn=>{L=dn,ge=le.now(),S||(S=le.schedule(Pt,Ee),F.add(S))},()=>{ht(),F.complete()},void 0,()=>{L=S=null}))})}(0))}(Ee);return{task:Ee,then:Ee.then.bind(Ee),catch:Ee.catch.bind(Ee),pause:Ee.pause.bind(Ee),cancel:Ee.cancel.bind(Ee),resume:Ee.resume.bind(Ee),snapshotChanges:()=>le,percentageChanges:()=>le.pipe((0,Re.U)($=>$.bytesTransferred/$.totalBytes*100))}}function _n(Ee){return{getDownloadURL:()=>(0,E.of)(void 0).pipe(Fe.fc,(0,Ze.w)(()=>Ee.getDownloadURL()),Fe.iC),getMetadata:()=>(0,E.of)(void 0).pipe(Fe.fc,(0,Ze.w)(()=>Ee.getMetadata()),Fe.iC),delete:()=>(0,be.D)(Ee.delete()),child:le=>_n(Ee.child(le)),updateMetadata:le=>(0,be.D)(Ee.updateMetadata(le)),put:(le,$)=>Ge(Ee.put(le,$)),putString:(le,$,F)=>Ge(Ee.putString(le,$,F)),list:le=>(0,be.D)(Ee.list(le)),listAll:()=>(0,be.D)(Ee.listAll())}}const Tr=new xe.OlP("angularfire2.storageBucket"),Xn=new xe.OlP("angularfire2.storage.maxUploadRetryTime"),hi=new xe.OlP("angularfire2.storage.maxOperationRetryTime"),ni=new xe.OlP("angularfire2.storage.use-emulator");let Es=(()=>{class Ee{constructor($,F,S,L,ge,ht,Pt,dn,Mn,ci){const ui=(0,it.on)($,ge,F);this.storage=(0,it.cc)(`${ui.name}.storage.${S}`,"AngularFireStorage",ui.name,()=>{const gi=ge.runOutsideAngular(()=>ui.storage(S||void 0)),vi=Mn;return vi&&gi.useEmulator(...vi),Pt&&gi.setMaxUploadRetryTime(Pt),dn&&gi.setMaxOperationRetryTime(dn),gi},[Pt,dn])}ref($){return _n(this.storage.ref($))}refFromURL($){return _n(this.storage.refFromURL($))}upload($,F,S){return _n(this.storage.ref($)).put(F,S)}}return Ee.\u0275fac=function($){return new($||Ee)(xe.LFG(it.Dh),xe.LFG(it.xv,8),xe.LFG(Tr,8),xe.LFG(xe.Lbi),xe.LFG(xe.R0b),xe.LFG(Fe.HU),xe.LFG(Xn,8),xe.LFG(hi,8),xe.LFG(ni,8),xe.LFG(he.nm,8))},Ee.\u0275prov=xe.Yz7({token:Ee,factory:Ee.\u0275fac,providedIn:"any"}),Ee})(),Hs=(()=>{class Ee{}return Ee.\u0275fac=function($){return new($||Ee)},Ee.\u0275mod=xe.oAB({type:Ee}),Ee.\u0275inj=xe.cJS({}),Ee})(),Do=(()=>{class Ee{constructor(){N.Z.registerVersion("angularfire",Fe.q4.full,"gcs-compat")}}return Ee.\u0275fac=function($){return new($||Ee)},Ee.\u0275mod=xe.oAB({type:Ee}),Ee.\u0275inj=xe.cJS({providers:[Es],imports:[Hs]}),Ee})()},2011:(Jn,Lt,z)=>{"use strict";z.d(Lt,{Dh:()=>Re,GT:()=>ze,Ot:()=>Se,cc:()=>lt,hO:()=>Me,on:()=>Fe,pX:()=>qe,xv:()=>Ze});var d=z(2223),E=z(9260),be=z(3324);Jn=z.hmd(Jn);const ke=["ngOnDestroy"],qe=($e,kt,Mt,ft={})=>new Proxy($e,{get:(It,St)=>Mt.runOutsideAngular(()=>{var Ct;if($e[St])return!(null===(Ct=null==ft?void 0:ft.spy)||void 0===Ct)&&Ct.get&&ft.spy.get(St,$e[St]),$e[St];if(ke.indexOf(St)>-1)return()=>{};const yt=kt.toPromise().then(ee=>{const Gt=ee&&ee[St];return"function"==typeof Gt?Gt.bind(ee):Gt&&Gt.then?Gt.then(Dt=>Mt.run(()=>Dt)):Mt.run(()=>Gt)});return new Proxy(()=>{},{get:(ee,Gt)=>yt[Gt],apply:(ee,Gt,Dt)=>yt.then(Ft=>{var qt;const Te=Ft&&Ft(...Dt);return!(null===(qt=null==ft?void 0:ft.spy)||void 0===qt)&&qt.apply&&ft.spy.apply(St,Dt,Te),Te})})})}),ze=($e,kt)=>{kt.forEach(Mt=>{Object.getOwnPropertyNames(Mt.prototype||Mt).forEach(ft=>{Object.defineProperty($e.prototype,ft,Object.getOwnPropertyDescriptor(Mt.prototype||Mt,ft))})})};class Se{constructor(kt){return kt}}const Re=new d.OlP("angularfire2.app.options"),Ze=new d.OlP("angularfire2.app.name");function Fe($e,kt,Mt){const It="object"==typeof Mt&&Mt||{};It.name=It.name||"string"==typeof Mt&&Mt||"[DEFAULT]";const Ct=E.Z.apps.filter(yt=>yt&&yt.name===It.name)[0]||kt.runOutsideAngular(()=>E.Z.initializeApp($e,It));try{JSON.stringify($e)!==JSON.stringify(Ct.options)&&xe("error",`${Ct.name} Firebase App already initialized with different options${Jn.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new Se(Ct)}const xe=($e,...kt)=>{(0,d.X6Q)()&&typeof console<"u"&&console[$e](...kt)},it={provide:Se,useFactory:Fe,deps:[Re,d.R0b,[new d.FiY,Ze]]};let Me=(()=>{class $e{constructor(Mt){E.Z.registerVersion("angularfire",be.q4.full,"core"),E.Z.registerVersion("angularfire",be.q4.full,"app-compat"),E.Z.registerVersion("angular",d.q4F.full,Mt.toString())}static initializeApp(Mt,ft){return{ngModule:$e,providers:[{provide:Re,useValue:Mt},{provide:Ze,useValue:ft}]}}}return $e.\u0275fac=function(Mt){return new(Mt||$e)(d.LFG(d.Lbi))},$e.\u0275mod=d.oAB({type:$e}),$e.\u0275inj=d.cJS({providers:[it]}),$e})();function lt($e,kt,Mt,ft,It){const[,St,Ct]=globalThis.\u0275AngularfireInstanceCache.find(yt=>yt[0]===$e)||[];if(St)return function pt($e,kt){try{return $e.toString()===kt.toString()}catch{return $e===kt}}(It,Ct)||(He("error",`${kt} was already initialized on the ${Mt} Firebase App with different settings.${jt?" You may need to reload as Firebase is not HMR aware.":""}`),He("warn",{is:It,was:Ct})),St;{const yt=ft();return globalThis.\u0275AngularfireInstanceCache.push([$e,yt,It]),yt}}const jt=!!Jn.hot,He=($e,...kt)=>{(0,d.X6Q)()&&typeof console<"u"&&console[$e](...kt)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},89:(Jn,Lt,z)=>{"use strict";z.d(Lt,{gg:()=>Dt,ET:()=>er,hJ:()=>an,BS:()=>tn,JU:()=>Gr,PL:()=>di,ad:()=>fr,Xo:()=>jr,Cm:()=>Ut,IO:()=>kr,pl:()=>te,ar:()=>gn});var d=z(3324),E=z(2223),be=z(7246),ke=z(3692),qe=z(259),ze=z(2313),Se=z(2810),Re=z(9751),Ze=z(4004),Fe={includeMetadataChanges:!1};function Gt(ln,yn){return void 0===yn&&(yn={}),function Ct(ln){return function xe(ln,yn){return void 0===yn&&(yn=Fe),new Re.y(function(kn){return{unsubscribe:(0,Se.cf)(ln,yn,{next:kn.next.bind(kn),error:kn.error.bind(kn),complete:kn.complete.bind(kn)})}})}(ln,{includeMetadataChanges:!0}).pipe((0,Ze.U)(function(yn){return yn.docs}))}(ln).pipe((0,Ze.U)(function(kn){return kn.map(function(Bt){return function lt(ln,yn){void 0===yn&&(yn={});var kn=ln.data();return!ln.exists()||"object"!=typeof kn||null===kn||yn.idField&&(kn[yn.idField]=ln.id),kn}(Bt,yn)})}))}class Dt{constructor(yn){return yn}}const Ft="firestore",Je=new E.OlP("angularfire2.firestore-instances");function mt(ln){return(yn,kn)=>{const Bt=yn.runOutsideAngular(()=>ln(kn));return new Dt(Bt)}}const et={provide:class qt{constructor(){return(0,d.vb)(Ft)}},deps:[[new E.FiY,Je]]},tt={provide:Dt,useFactory:function ct(ln,yn){const kn=(0,d.JM)(Ft,ln,yn);return kn&&new Dt(kn)},deps:[[new E.FiY,Je],ke.Ot]};let ut=(()=>{class ln{constructor(){(0,qe.KN)("angularfire",d.q4.full,"fst")}}return ln.\u0275fac=function(kn){return new(kn||ln)},ln.\u0275mod=E.oAB({type:ln}),ln.\u0275inj=E.cJS({providers:[tt,et]}),ln})();function Ut(ln,...yn){return{ngModule:ut,providers:[{provide:Je,useFactory:mt(ln),multi:!0,deps:[E.R0b,E.zs3,d.HU,ke.z6,[new E.FiY,be.dh],[new E.FiY,ze.nm],...yn]}]}}const tn=(0,d.u3)(Gt,!0),er=(0,d.u3)(Se.ET,!0),an=(0,d.u3)(Se.hJ,!0),Gr=(0,d.u3)(Se.JU,!0),di=(0,d.u3)(Se.PL,!0),fr=(0,d.u3)(Se.ad,!0),jr=(0,d.u3)(Se.Xo,!0),kr=(0,d.u3)(Se.IO,!0),te=(0,d.u3)(Se.pl,!0),gn=(0,d.u3)(Se.ar,!0)},3324:(Jn,Lt,z)=>{"use strict";z.d(Lt,{q4:()=>ao,iC:()=>Ee,fc:()=>Hs,HU:()=>hi,vb:()=>Ge,JM:()=>ce,nk:()=>N,u3:()=>F});var d=z(2223),E=z(259),be=z(5861),ke=z(6881),qe=z(2090),ze=z(4859),Se=z(1877);z(4727);const Ze="@firebase/remote-config",lt=new qe.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class mt{constructor(L,ge,ht,Pt){this.client=L,this.storage=ge,this.storageCache=ht,this.logger=Pt}isCachedDataFresh(L,ge){if(!ge)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const ht=Date.now()-ge,Pt=ht<=L;return this.logger.debug(`Config fetch cache check. Cache age millis: ${ht}. Cache max age millis (minimumFetchIntervalMillis setting): ${L}. Is cache hit: ${Pt}.`),Pt}fetch(L){var ge=this;return(0,be.Z)(function*(){const[ht,Pt]=yield Promise.all([ge.storage.getLastSuccessfulFetchTimestampMillis(),ge.storage.getLastSuccessfulFetchResponse()]);if(Pt&&ge.isCachedDataFresh(L.cacheMaxAgeMillis,ht))return Pt;L.eTag=Pt&&Pt.eTag;const dn=yield ge.client.fetch(L),Mn=[ge.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===dn.status&&Mn.push(ge.storage.setLastSuccessfulFetchResponse(dn)),yield Promise.all(Mn),dn})()}}function et(S=navigator){return S.languages&&S.languages[0]||S.language}class tt{constructor(L,ge,ht,Pt,dn,Mn){this.firebaseInstallations=L,this.sdkVersion=ge,this.namespace=ht,this.projectId=Pt,this.apiKey=dn,this.appId=Mn}fetch(L){var ge=this;return(0,be.Z)(function*(){const[ht,Pt]=yield Promise.all([ge.firebaseInstallations.getId(),ge.firebaseInstallations.getToken()]),Mn=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${ge.projectId}/namespaces/${ge.namespace}:fetch?key=${ge.apiKey}`,ci={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":L.eTag||"*"},ui={sdk_version:ge.sdkVersion,app_instance_id:ht,app_instance_id_token:Pt,app_id:ge.appId,language_code:et()},gi={method:"POST",headers:ci,body:JSON.stringify(ui)},vi=fetch(Mn,gi),mi=new Promise((Cs,no)=>{L.signal.addEventListener(()=>{const zo=new Error("The operation was aborted.");zo.name="AbortError",no(zo)})});let Zi;try{yield Promise.race([vi,mi]),Zi=yield vi}catch(Cs){let no="fetch-client-network";throw"AbortError"===(null==Cs?void 0:Cs.name)&&(no="fetch-timeout"),lt.create(no,{originalErrorMessage:null==Cs?void 0:Cs.message})}let qs=Zi.status;const xs=Zi.headers.get("ETag")||void 0;let Ws,wi;if(200===Zi.status){let Cs;try{Cs=yield Zi.json()}catch(no){throw lt.create("fetch-client-parse",{originalErrorMessage:null==no?void 0:no.message})}Ws=Cs.entries,wi=Cs.state}if("INSTANCE_STATE_UNSPECIFIED"===wi?qs=500:"NO_CHANGE"===wi?qs=304:("NO_TEMPLATE"===wi||"EMPTY_CONFIG"===wi)&&(Ws={}),304!==qs&&200!==qs)throw lt.create("fetch-status",{httpStatus:qs});return{status:qs,eTag:xs,config:Ws}})()}}class Nt{constructor(L,ge){this.client=L,this.storage=ge}fetch(L){var ge=this;return(0,be.Z)(function*(){const ht=(yield ge.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return ge.attemptFetch(L,ht)})()}attemptFetch(L,{throttleEndTimeMillis:ge,backoffCount:ht}){var Pt=this;return(0,be.Z)(function*(){yield function ut(S,L){return new Promise((ge,ht)=>{const Pt=Math.max(L-Date.now(),0),dn=setTimeout(ge,Pt);S.addEventListener(()=>{clearTimeout(dn),ht(lt.create("fetch-throttle",{throttleEndTimeMillis:L}))})})}(L.signal,ge);try{const dn=yield Pt.client.fetch(L);return yield Pt.storage.deleteThrottleMetadata(),dn}catch(dn){if(!function Ut(S){if(!(S instanceof qe.ZR&&S.customData))return!1;const L=Number(S.customData.httpStatus);return 429===L||500===L||503===L||504===L}(dn))throw dn;const Mn={throttleEndTimeMillis:Date.now()+(0,qe.$s)(ht),backoffCount:ht+1};return yield Pt.storage.setThrottleMetadata(Mn),Pt.attemptFetch(L,Mn)}})()}}class On{constructor(L,ge,ht,Pt,dn){this.app=L,this._client=ge,this._storageCache=ht,this._storage=Pt,this._logger=dn,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function tn(S,L){const ge=S.target.error||void 0;return lt.create(L,{originalErrorMessage:ge&&(null==ge?void 0:ge.message)})}const vt="app_namespace_store";class er{constructor(L,ge,ht,Pt=function qn(){return new Promise((S,L)=>{try{const ge=indexedDB.open("firebase_remote_config",1);ge.onerror=ht=>{L(tn(ht,"storage-open"))},ge.onsuccess=ht=>{S(ht.target.result)},ge.onupgradeneeded=ht=>{0===ht.oldVersion&&ht.target.result.createObjectStore(vt,{keyPath:"compositeKey"})}}catch(ge){L(lt.create("storage-open",{originalErrorMessage:null==ge?void 0:ge.message}))}})}()){this.appId=L,this.appName=ge,this.namespace=ht,this.openDbPromise=Pt}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(L){return this.set("last_fetch_status",L)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(L){return this.set("last_successful_fetch_timestamp_millis",L)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(L){return this.set("last_successful_fetch_response",L)}getActiveConfig(){return this.get("active_config")}setActiveConfig(L){return this.set("active_config",L)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(L){return this.set("active_config_etag",L)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(L){return this.set("throttle_metadata",L)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(L){var ge=this;return(0,be.Z)(function*(){const ht=yield ge.openDbPromise;return new Promise((Pt,dn)=>{const ci=ht.transaction([vt],"readonly").objectStore(vt),ui=ge.createCompositeKey(L);try{const gi=ci.get(ui);gi.onerror=vi=>{dn(tn(vi,"storage-get"))},gi.onsuccess=vi=>{const mi=vi.target.result;Pt(mi?mi.value:void 0)}}catch(gi){dn(lt.create("storage-get",{originalErrorMessage:null==gi?void 0:gi.message}))}})})()}set(L,ge){var ht=this;return(0,be.Z)(function*(){const Pt=yield ht.openDbPromise;return new Promise((dn,Mn)=>{const ui=Pt.transaction([vt],"readwrite").objectStore(vt),gi=ht.createCompositeKey(L);try{const vi=ui.put({compositeKey:gi,value:ge});vi.onerror=mi=>{Mn(tn(mi,"storage-set"))},vi.onsuccess=()=>{dn()}}catch(vi){Mn(lt.create("storage-set",{originalErrorMessage:null==vi?void 0:vi.message}))}})})()}delete(L){var ge=this;return(0,be.Z)(function*(){const ht=yield ge.openDbPromise;return new Promise((Pt,dn)=>{const ci=ht.transaction([vt],"readwrite").objectStore(vt),ui=ge.createCompositeKey(L);try{const gi=ci.delete(ui);gi.onerror=vi=>{dn(tn(vi,"storage-delete"))},gi.onsuccess=()=>{Pt()}}catch(gi){dn(lt.create("storage-delete",{originalErrorMessage:null==gi?void 0:gi.message}))}})})()}createCompositeKey(L){return[this.appId,this.appName,this.namespace,L].join()}}class ur{constructor(L){this.storage=L}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var L=this;return(0,be.Z)(function*(){const ge=L.storage.getLastFetchStatus(),ht=L.storage.getLastSuccessfulFetchTimestampMillis(),Pt=L.storage.getActiveConfig(),dn=yield ge;dn&&(L.lastFetchStatus=dn);const Mn=yield ht;Mn&&(L.lastSuccessfulFetchTimestampMillis=Mn);const ci=yield Pt;ci&&(L.activeConfig=ci)})()}setLastFetchStatus(L){return this.lastFetchStatus=L,this.storage.setLastFetchStatus(L)}setLastSuccessfulFetchTimestampMillis(L){return this.lastSuccessfulFetchTimestampMillis=L,this.storage.setLastSuccessfulFetchTimestampMillis(L)}setActiveConfig(L){return this.activeConfig=L,this.storage.setActiveConfig(L)}}function Pr(){return $r.apply(this,arguments)}function $r(){return($r=(0,be.Z)(function*(){if(!(0,qe.hl)())return!1;try{return yield(0,qe.eu)()}catch{return!1}})).apply(this,arguments)}!function un(){(0,ke._registerComponent)(new ze.wA("remote-config",function S(L,{instanceIdentifier:ge}){const ht=L.getProvider("app").getImmediate(),Pt=L.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw lt.create("registration-window");if(!(0,qe.hl)())throw lt.create("indexed-db-unavailable");const{projectId:dn,apiKey:Mn,appId:ci}=ht.options;if(!dn)throw lt.create("registration-project-id");if(!Mn)throw lt.create("registration-api-key");if(!ci)throw lt.create("registration-app-id");const ui=new er(ci,ht.name,ge=ge||"firebase"),gi=new ur(ui),vi=new Se.Yd(Ze);vi.logLevel=Se.in.ERROR;const mi=new tt(Pt,ke.SDK_VERSION,ge,dn,Mn,ci),Zi=new Nt(mi,ui),qs=new mt(Zi,ui,gi,vi),xs=new On(ht,qs,gi,ui,vi);return function Ct(S){const L=(0,qe.m9)(S);L._initializePromise||(L._initializePromise=L._storageCache.loadFromStorage().then(()=>{L._isInitializationComplete=!0}))}(xs),xs},"PUBLIC").setMultipleInstances(!0)),(0,ke.registerVersion)(Ze,"0.4.4"),(0,ke.registerVersion)(Ze,"0.4.4","esm2017")}();const xr=(S,L)=>L.some(ge=>S instanceof ge);let Rn,ai;const Pi=new WeakMap,yi=new WeakMap,lr=new WeakMap,nr=new WeakMap,mr=new WeakMap;let Kr={get(S,L,ge){if(S instanceof IDBTransaction){if("done"===L)return yi.get(S);if("objectStoreNames"===L)return S.objectStoreNames||lr.get(S);if("store"===L)return ge.objectStoreNames[1]?void 0:ge.objectStore(ge.objectStoreNames[0])}return fr(S[L])},set:(S,L,ge)=>(S[L]=ge,!0),has:(S,L)=>S instanceof IDBTransaction&&("done"===L||"store"===L)||L in S};function br(S){return"function"==typeof S?function Ai(S){return S!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function ar(){return ai||(ai=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(S)?function(...L){return S.apply(Ei(this),L),fr(Pi.get(this))}:function(...L){return fr(S.apply(Ei(this),L))}:function(L,...ge){const ht=S.call(Ei(this),L,...ge);return lr.set(ht,L.sort?L.sort():[L]),fr(ht)}}(S):(S instanceof IDBTransaction&&function li(S){if(yi.has(S))return;const L=new Promise((ge,ht)=>{const Pt=()=>{S.removeEventListener("complete",dn),S.removeEventListener("error",Mn),S.removeEventListener("abort",Mn)},dn=()=>{ge(),Pt()},Mn=()=>{ht(S.error||new DOMException("AbortError","AbortError")),Pt()};S.addEventListener("complete",dn),S.addEventListener("error",Mn),S.addEventListener("abort",Mn)});yi.set(S,L)}(S),xr(S,function Gr(){return Rn||(Rn=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(S,Kr):S)}function fr(S){if(S instanceof IDBRequest)return function bi(S){const L=new Promise((ge,ht)=>{const Pt=()=>{S.removeEventListener("success",dn),S.removeEventListener("error",Mn)},dn=()=>{ge(fr(S.result)),Pt()},Mn=()=>{ht(S.error),Pt()};S.addEventListener("success",dn),S.addEventListener("error",Mn)});return L.then(ge=>{ge instanceof IDBCursor&&Pi.set(ge,S)}).catch(()=>{}),mr.set(L,S),L}(S);if(nr.has(S))return nr.get(S);const L=br(S);return L!==S&&(nr.set(S,L),mr.set(L,S)),L}const Ei=S=>mr.get(S);function Er(S,L,{blocked:ge,upgrade:ht,blocking:Pt,terminated:dn}={}){const Mn=indexedDB.open(S,L),ci=fr(Mn);return ht&&Mn.addEventListener("upgradeneeded",ui=>{ht(fr(Mn.result),ui.oldVersion,ui.newVersion,fr(Mn.transaction))}),ge&&Mn.addEventListener("blocked",()=>ge()),ci.then(ui=>{dn&&ui.addEventListener("close",()=>dn()),Pt&&ui.addEventListener("versionchange",()=>Pt())}).catch(()=>{}),ci}function Cn(S,{blocked:L}={}){const ge=indexedDB.deleteDatabase(S);return L&&ge.addEventListener("blocked",()=>L()),fr(ge).then(()=>{})}const Ne=["get","getKey","getAll","getAllKeys","count"],dt=["put","add","delete","clear"],Ht=new Map;function En(S,L){if(!(S instanceof IDBDatabase)||L in S||"string"!=typeof L)return;if(Ht.get(L))return Ht.get(L);const ge=L.replace(/FromIndex$/,""),ht=L!==ge,Pt=dt.includes(ge);if(!(ge in(ht?IDBIndex:IDBObjectStore).prototype)||!Pt&&!Ne.includes(ge))return;const dn=function(){var Mn=(0,be.Z)(function*(ci,...ui){const gi=this.transaction(ci,Pt?"readwrite":"readonly");let vi=gi.store;return ht&&(vi=vi.index(ui.shift())),(yield Promise.all([vi[ge](...ui),Pt&&gi.done]))[0]});return function(ui){return Mn.apply(this,arguments)}}();return Ht.set(L,dn),dn}!function di(S){Kr=S(Kr)}(S=>({...S,get:(L,ge,ht)=>En(L,ge)||S.get(L,ge,ht),has:(L,ge)=>!!En(L,ge)||S.has(L,ge)}));const zn="/firebase-messaging-sw.js",jr="/firebase-cloud-messaging-push-scope",kr="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Or="https://fcmregistrations.googleapis.com/v1",gt="google.c.a.c_id",Ae="google.c.a.c_l",ie="google.c.a.ts";var Ke=(()=>((Ke=Ke||{}).PUSH_RECEIVED="push-received",Ke.NOTIFICATION_CLICKED="notification-clicked",Ke))();function xt(S){const L=new Uint8Array(S);return btoa(String.fromCharCode(...L)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function rt(S){const ge=(S+"=".repeat((4-S.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),ht=atob(ge),Pt=new Uint8Array(ht.length);for(let dn=0;dn<ht.length;++dn)Pt[dn]=ht.charCodeAt(dn);return Pt}const Vt="fcm_token_details_db",en=5,Sn="fcm_token_object_Store";function Wn(){return Wn=(0,be.Z)(function*(S){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(dn=>dn.name).includes(Vt))return null;let L=null;return(yield Er(Vt,en,{upgrade:(ht=(0,be.Z)(function*(Pt,dn,Mn,ci){var ui;if(dn<2||!Pt.objectStoreNames.contains(Sn))return;const gi=ci.objectStore(Sn),vi=yield gi.index("fcmSenderId").get(S);if(yield gi.clear(),vi)if(2===dn){const mi=vi;if(!mi.auth||!mi.p256dh||!mi.endpoint)return;L={token:mi.fcmToken,createTime:null!==(ui=mi.createTime)&&void 0!==ui?ui:Date.now(),subscriptionOptions:{auth:mi.auth,p256dh:mi.p256dh,endpoint:mi.endpoint,swScope:mi.swScope,vapidKey:"string"==typeof mi.vapidKey?mi.vapidKey:xt(mi.vapidKey)}}}else if(3===dn){const mi=vi;L={token:mi.fcmToken,createTime:mi.createTime,subscriptionOptions:{auth:xt(mi.auth),p256dh:xt(mi.p256dh),endpoint:mi.endpoint,swScope:mi.swScope,vapidKey:xt(mi.vapidKey)}}}else if(4===dn){const mi=vi;L={token:mi.fcmToken,createTime:mi.createTime,subscriptionOptions:{auth:xt(mi.auth),p256dh:xt(mi.p256dh),endpoint:mi.endpoint,swScope:mi.swScope,vapidKey:xt(mi.vapidKey)}}}}),function(dn,Mn,ci,ui){return ht.apply(this,arguments)})})).close(),yield Cn(Vt),yield Cn("fcm_vapid_details_db"),yield Cn("undefined"),function ln(S){if(!S||!S.subscriptionOptions)return!1;const{subscriptionOptions:L}=S;return"number"==typeof S.createTime&&S.createTime>0&&"string"==typeof S.token&&S.token.length>0&&"string"==typeof L.auth&&L.auth.length>0&&"string"==typeof L.p256dh&&L.p256dh.length>0&&"string"==typeof L.endpoint&&L.endpoint.length>0&&"string"==typeof L.swScope&&L.swScope.length>0&&"string"==typeof L.vapidKey&&L.vapidKey.length>0}(L)?L:null;var ht}),Wn.apply(this,arguments)}const yn="firebase-messaging-database",kn=1,Bt="firebase-messaging-store";let Kt=null;function fn(){return Kt||(Kt=Er(yn,kn,{upgrade:(S,L)=>{0===L&&S.createObjectStore(Bt)}})),Kt}function Yn(S){return pr.apply(this,arguments)}function pr(){return pr=(0,be.Z)(function*(S){const L=zr(S),ht=yield(yield fn()).transaction(Bt).objectStore(Bt).get(L);if(ht)return ht;{const Pt=yield function gn(S){return Wn.apply(this,arguments)}(S.appConfig.senderId);if(Pt)return yield Fr(S,Pt),Pt}}),pr.apply(this,arguments)}function Fr(S,L){return Sr.apply(this,arguments)}function Sr(){return(Sr=(0,be.Z)(function*(S,L){const ge=zr(S),Pt=(yield fn()).transaction(Bt,"readwrite");return yield Pt.objectStore(Bt).put(L,ge),yield Pt.done,L})).apply(this,arguments)}function Xr(){return(Xr=(0,be.Z)(function*(S){const L=zr(S),ht=(yield fn()).transaction(Bt,"readwrite");yield ht.objectStore(Bt).delete(L),yield ht.done})).apply(this,arguments)}function zr({appConfig:S}){return S.appId}const rs=new qe.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Os(S,L){return Xs.apply(this,arguments)}function Xs(){return(Xs=(0,be.Z)(function*(S,L){const ge=yield Qs(S),ht=Is(L),Pt={method:"POST",headers:ge,body:JSON.stringify(ht)};let dn;try{dn=yield(yield fetch(zi(S.appConfig),Pt)).json()}catch(Mn){throw rs.create("token-subscribe-failed",{errorInfo:null==Mn?void 0:Mn.toString()})}if(dn.error)throw rs.create("token-subscribe-failed",{errorInfo:dn.error.message});if(!dn.token)throw rs.create("token-subscribe-no-token");return dn.token})).apply(this,arguments)}function cs(){return(cs=(0,be.Z)(function*(S,L){const ge=yield Qs(S),ht=Is(L.subscriptionOptions),Pt={method:"PATCH",headers:ge,body:JSON.stringify(ht)};let dn;try{dn=yield(yield fetch(`${zi(S.appConfig)}/${L.token}`,Pt)).json()}catch(Mn){throw rs.create("token-update-failed",{errorInfo:null==Mn?void 0:Mn.toString()})}if(dn.error)throw rs.create("token-update-failed",{errorInfo:dn.error.message});if(!dn.token)throw rs.create("token-update-no-token");return dn.token})).apply(this,arguments)}function yo(S,L){return ts.apply(this,arguments)}function ts(){return(ts=(0,be.Z)(function*(S,L){const ht={method:"DELETE",headers:yield Qs(S)};try{const dn=yield(yield fetch(`${zi(S.appConfig)}/${L}`,ht)).json();if(dn.error)throw rs.create("token-unsubscribe-failed",{errorInfo:dn.error.message})}catch(Pt){throw rs.create("token-unsubscribe-failed",{errorInfo:null==Pt?void 0:Pt.toString()})}})).apply(this,arguments)}function zi({projectId:S}){return`${Or}/projects/${S}/registrations`}function Qs(S){return Js.apply(this,arguments)}function Js(){return(Js=(0,be.Z)(function*({appConfig:S,installations:L}){const ge=yield L.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":S.apiKey,"x-goog-firebase-installations-auth":`FIS ${ge}`})})).apply(this,arguments)}function Is({p256dh:S,auth:L,endpoint:ge,vapidKey:ht}){const Pt={web:{endpoint:ge,auth:L,p256dh:S}};return ht!==kr&&(Pt.web.applicationPubKey=ht),Pt}const js=6048e5;function pe(){return pe=(0,be.Z)(function*(S){const L=yield function $t(S,L){return nn.apply(this,arguments)}(S.swRegistration,S.vapidKey),ge={vapidKey:S.vapidKey,swScope:S.swRegistration.scope,endpoint:L.endpoint,auth:xt(L.getKey("auth")),p256dh:xt(L.getKey("p256dh"))},ht=yield Yn(S.firebaseDependencies);if(ht){if(function Vn(S,L){return L.vapidKey===S.vapidKey&&L.endpoint===S.endpoint&&L.auth===S.auth&&L.p256dh===S.p256dh}(ht.subscriptionOptions,ge))return Date.now()>=ht.createTime+js?function ne(S,L){return ve.apply(this,arguments)}(S,{token:ht.token,createTime:Date.now(),subscriptionOptions:ge}):ht.token;try{yield yo(S.firebaseDependencies,ht.token)}catch(Pt){console.warn(Pt)}return st(S.firebaseDependencies,ge)}return st(S.firebaseDependencies,ge)}),pe.apply(this,arguments)}function _e(){return _e=(0,be.Z)(function*(S){const L=yield Yn(S.firebaseDependencies);L&&(yield yo(S.firebaseDependencies,L.token),yield function Fi(S){return Xr.apply(this,arguments)}(S.firebaseDependencies));const ge=yield S.swRegistration.pushManager.getSubscription();return!ge||ge.unsubscribe()}),_e.apply(this,arguments)}function ve(){return ve=(0,be.Z)(function*(S,L){try{const ge=yield function ys(S,L){return cs.apply(this,arguments)}(S.firebaseDependencies,L),ht=Object.assign(Object.assign({},L),{token:ge,createTime:Date.now()});return yield Fr(S.firebaseDependencies,ht),ge}catch(ge){throw yield function Oe(S){return _e.apply(this,arguments)}(S),ge}}),ve.apply(this,arguments)}function st(S,L){return wt.apply(this,arguments)}function wt(){return(wt=(0,be.Z)(function*(S,L){const ht={token:yield Os(S,L),createTime:Date.now(),subscriptionOptions:L};return yield Fr(S,ht),ht.token})).apply(this,arguments)}function nn(){return(nn=(0,be.Z)(function*(S,L){return(yield S.pushManager.getSubscription())||S.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:rt(L)})})).apply(this,arguments)}function Un(S){const L={from:S.from,collapseKey:S.collapse_key,messageId:S.fcmMessageId};return function Nr(S,L){if(!L.notification)return;S.notification={};const ge=L.notification.title;ge&&(S.notification.title=ge);const ht=L.notification.body;ht&&(S.notification.body=ht);const Pt=L.notification.image;Pt&&(S.notification.image=Pt);const dn=L.notification.icon;dn&&(S.notification.icon=dn)}(L,S),function Qr(S,L){L.data&&(S.data=L.data)}(L,S),function vs(S,L){var ge,ht,Pt,dn,Mn;if(!(L.fcmOptions||null!==(ge=L.notification)&&void 0!==ge&&ge.click_action))return;S.fcmOptions={};const ci=null!==(Pt=null===(ht=L.fcmOptions)||void 0===ht?void 0:ht.link)&&void 0!==Pt?Pt:null===(dn=L.notification)||void 0===dn?void 0:dn.click_action;ci&&(S.fcmOptions.link=ci);const ui=null===(Mn=L.fcmOptions)||void 0===Mn?void 0:Mn.analytics_label;ui&&(S.fcmOptions.analyticsLabel=ui)}(L,S),L}function Ti(S,L){const ge=[];for(let ht=0;ht<S.length;ht++)ge.push(S.charAt(ht)),ht<L.length&&ge.push(L.charAt(ht));return ge.join("")}function Tn(S){return rs.create("missing-app-config-values",{valueName:S})}Ti("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Ti("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Lr{constructor(L,ge,ht){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const Pt=function Mr(S){if(!S||!S.options)throw Tn("App Configuration Object");if(!S.name)throw Tn("App Name");const L=["projectId","apiKey","appId","messagingSenderId"],{options:ge}=S;for(const ht of L)if(!ge[ht])throw Tn(ht);return{appName:S.name,projectId:ge.projectId,apiKey:ge.apiKey,appId:ge.appId,senderId:ge.messagingSenderId}}(L);this.firebaseDependencies={app:L,appConfig:Pt,installations:ge,analyticsProvider:ht}}_delete(){return Promise.resolve()}}function Ts(){return(Ts=(0,be.Z)(function*(S){try{S.swRegistration=yield navigator.serviceWorker.register(zn,{scope:jr}),S.swRegistration.update().catch(()=>{})}catch(L){throw rs.create("failed-service-worker-registration",{browserErrorMessage:null==L?void 0:L.message})}})).apply(this,arguments)}function is(){return(is=(0,be.Z)(function*(S,L){if(!L&&!S.swRegistration&&(yield function Br(S){return Ts.apply(this,arguments)}(S)),L||!S.swRegistration){if(!(L instanceof ServiceWorkerRegistration))throw rs.create("invalid-sw-registration");S.swRegistration=L}})).apply(this,arguments)}function Jr(){return(Jr=(0,be.Z)(function*(S,L){L?S.vapidKey=L:S.vapidKey||(S.vapidKey=kr)})).apply(this,arguments)}function ji(){return ji=(0,be.Z)(function*(S,L){if(!navigator)throw rs.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw rs.create("permission-blocked");return yield function vo(S,L){return Jr.apply(this,arguments)}(S,null==L?void 0:L.vapidKey),yield function Ao(S,L){return is.apply(this,arguments)}(S,null==L?void 0:L.serviceWorkerRegistration),function re(S){return pe.apply(this,arguments)}(S)}),ji.apply(this,arguments)}function so(){return(so=(0,be.Z)(function*(S,L,ge){const ht=function _s(S){switch(S){case Ke.NOTIFICATION_CLICKED:return"notification_open";case Ke.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(L);(yield S.firebaseDependencies.analyticsProvider.get()).logEvent(ht,{message_id:ge[gt],message_name:ge[Ae],message_time:ge[ie],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function es(){return es=(0,be.Z)(function*(S,L){const ge=L.data;if(!ge.isFirebaseMessaging)return;S.onMessageHandler&&ge.messageType===Ke.PUSH_RECEIVED&&("function"==typeof S.onMessageHandler?S.onMessageHandler(Un(ge)):S.onMessageHandler.next(Un(ge)));const ht=ge.data;(function Ji(S){return"object"==typeof S&&!!S&&gt in S})(ht)&&"1"===ht["google.c.a.e"]&&(yield function qr(S,L,ge){return so.apply(this,arguments)}(S,ge.messageType,ht))}),es.apply(this,arguments)}const eo="@firebase/messaging",zs=S=>{const L=new Lr(S.getProvider("app").getImmediate(),S.getProvider("installations-internal").getImmediate(),S.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",ge=>function ki(S,L){return es.apply(this,arguments)}(L,ge)),L},Eo=S=>{const L=S.getProvider("messaging").getImmediate();return{getToken:ht=>function Ur(S,L){return ji.apply(this,arguments)}(L,ht)}};function wo(){return As.apply(this,arguments)}function As(){return(As=(0,be.Z)(function*(){try{yield(0,qe.eu)()}catch{return!1}return typeof window<"u"&&(0,qe.hl)()&&(0,qe.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function _o(){(0,ke._registerComponent)(new ze.wA("messaging",zs,"PUBLIC")),(0,ke._registerComponent)(new ze.wA("messaging-internal",Eo,"PRIVATE")),(0,ke.registerVersion)(eo,"0.12.4"),(0,ke.registerVersion)(eo,"0.12.4","esm2017")}();var Io=z(5132),hs=z(4408),ho=z(7565);const Ni=new class oo extends ho.v{}(class fs extends hs.o{constructor(L,ge){super(L,ge),this.scheduler=L,this.work=ge}schedule(L,ge=0){return ge>0?super.schedule(L,ge):(this.delay=ge,this.state=L,this.scheduler.flush(this),this)}execute(L,ge){return ge>0||this.closed?super.execute(L,ge):this._execute(L,ge)}requestAsyncId(L,ge,ht=0){return null!=ht&&ht>0||null==ht&&this.delay>0?super.requestAsyncId(L,ge,ht):(L.flush(this),0)}});var xo=z(4986),bo=z(9751),Co=z(8505),to=z(5363),Zo=z(9468);const ao=new d.GfV("7.6.1"),$s="__angularfire_symbol__analyticsIsSupportedValue",Ro="__angularfire_symbol__analyticsIsSupported",us="__angularfire_symbol__remoteConfigIsSupportedValue",Mo="__angularfire_symbol__remoteConfigIsSupported",fo="__angularfire_symbol__messagingIsSupportedValue",jo="__angularfire_symbol__messagingIsSupported";globalThis[Ro]||(globalThis[Ro]=(0,Io.Gb)().then(S=>globalThis[$s]=S).catch(()=>globalThis[$s]=!1)),globalThis[jo]||(globalThis[jo]=wo().then(S=>globalThis[fo]=S).catch(()=>globalThis[fo]=!1)),globalThis[Mo]||(globalThis[Mo]=Pr().then(S=>globalThis[us]=S).catch(()=>globalThis[us]=!1));const N={async:()=>globalThis[Ro],sync:()=>{const S=globalThis[$s];if(void 0===S)throw new Error((S=>`The APP_INITIALIZER that is "making" isSupported() sync for the sake of convenient DI has not resolved in this\ncontext. Rather than injecting ${S} in the constructor, first ensure that ${S} is supported by calling\n\`await isSupported()\`, then retrieve the instance from the injector manually \`injector.get(${S})\`.`)("Analytics"));return S}};function ce(S,L,ge){if(L){if(1===L.length)return L[0];const dn=L.filter(Mn=>Mn.app===ge);if(1===dn.length)return dn[0]}return ge.container.getProvider(S).getImmediate({optional:!0})}const Ge=(S,L)=>{const ge=L?[L]:(0,E.C6)(),ht=[];return ge.forEach(Pt=>{Pt.container.getProvider(S).instances.forEach(Mn=>{ht.includes(Mn)||ht.push(Mn)})}),ht};function _n(){}class Tr{constructor(L,ge=Ni){this.zone=L,this.delegate=ge}now(){return this.delegate.now()}schedule(L,ge,ht){const Pt=this.zone;return this.delegate.schedule(function(Mn){Pt.runGuarded(()=>{L.apply(this,[Mn])})},ge,ht)}}class Xn{constructor(L){this.zone=L,this.task=null}call(L,ge){const ht=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",_n,{},_n,_n)),ge.pipe((0,Co.b)({next:ht,complete:ht,error:ht})).subscribe(L).add(ht)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let hi=(()=>{class S{constructor(ge){this.ngZone=ge,this.outsideAngular=ge.runOutsideAngular(()=>new Tr(Zone.current)),this.insideAngular=ge.run(()=>new Tr(Zone.current,xo.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return S.\u0275fac=function(ge){return new(ge||S)(d.LFG(d.R0b))},S.\u0275prov=d.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"}),S})();function ni(){const S=globalThis.\u0275AngularFireScheduler;if(!S)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return S}function Ci(S){return ni().ngZone.run(()=>S())}function Hs(S){return S.pipe((0,to.Q)(ni().outsideAngular))}function Ee(S){return ni(),function le(S){return function(ge){return(ge=ge.lift(new Xn(S.ngZone))).pipe((0,Zo.R)(S.outsideAngular),(0,to.Q)(S.insideAngular))}}(ni())(S)}const $=(S,L)=>function(){const ht=arguments;return L&&setTimeout(()=>{"scheduled"===L.state&&L.invoke()},10),Ci(()=>S.apply(void 0,ht))},F=(S,L)=>function(){let ge;const ht=arguments;for(let dn=0;dn<arguments.length;dn++)"function"==typeof ht[dn]&&(L&&(ge||(ge=Ci(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",_n,{},_n,_n)))),ht[dn]=$(ht[dn],ge));const Pt=function Es(S){return ni().ngZone.runOutsideAngular(()=>S())}(()=>S.apply(this,ht));if(!L){if(Pt instanceof bo.y){const dn=ni();return Pt.pipe((0,Zo.R)(dn.outsideAngular),(0,to.Q)(dn.insideAngular))}return Ci(()=>Pt)}return Pt instanceof bo.y?Pt.pipe(Ee):Pt instanceof Promise?Ci(()=>new Promise((dn,Mn)=>Pt.then(ci=>Ci(()=>dn(ci)),ci=>Ci(()=>Mn(ci))))):"function"==typeof Pt&&ge?function(){return setTimeout(()=>{ge&&"scheduled"===ge.state&&ge.invoke()},10),Pt.apply(this,arguments)}:Ci(()=>Pt)}},1389:(Jn,Lt,z)=>{"use strict";z.d(Lt,{$:()=>ni,A:()=>xe,D:()=>lt,I:()=>js,J:()=>ne,L:()=>ki,N:()=>kr,P:()=>_,Q:()=>Bs,R:()=>Xe,U:()=>fs,V:()=>ho,W:()=>oo,X:()=>hs,Y:()=>bo,Z:()=>Co,_:()=>Ro,a:()=>Ja,a0:()=>Ci,a1:()=>Do,a2:()=>F,a3:()=>dn,a4:()=>ci,a5:()=>gi,a6:()=>mi,a7:()=>qs,a8:()=>Ws,a9:()=>Cs,aA:()=>ee,aB:()=>yl,aC:()=>zn,aD:()=>Or,aE:()=>Vo,aF:()=>Rs,aG:()=>ms,aH:()=>zi,aL:()=>La,aO:()=>Go,aa:()=>no,ab:()=>So,ac:()=>sa,ad:()=>na,ae:()=>Vs,af:()=>oa,ai:()=>Z,aj:()=>De,ak:()=>Be,an:()=>qi,ao:()=>Gs,aq:()=>ds,ar:()=>si,as:()=>Dt,at:()=>en,au:()=>xt,av:()=>ft,aw:()=>ic,ax:()=>Ql,ay:()=>Sn,az:()=>It,b:()=>Fa,c:()=>Et,d:()=>wn,e:()=>Xt,f:()=>wr,g:()=>po,h:()=>Ki,i:()=>ss,j:()=>wa,k:()=>$c,l:()=>Mi,m:()=>dh,o:()=>Hl,p:()=>Re,r:()=>ko,s:()=>An,u:()=>c});var d=z(5861),E=z(2090),be=z(6881),ke=z(655),qe=z(1877),ze=z(4859);const Re={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},xe={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const lt=function it(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend."}},pt=function Me(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},jt=new E.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),$e=new qe.Yd("@firebase/auth");function Mt(U,...C){$e.logLevel<=qe.in.ERROR&&$e.error(`Auth (${be.SDK_VERSION}): ${U}`,...C)}function ft(U,...C){throw yt(U,...C)}function It(U,...C){return yt(U,...C)}function St(U,C,x){const W=Object.assign(Object.assign({},pt()),{[C]:x});return new E.LL("auth","Firebase",W).create(C,{appName:U.name})}function Ct(U,C,x){if(!(C instanceof x))throw x.name!==C.constructor.name&&ft(U,"argument-error"),St(U,"argument-error",`Type of ${C.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function yt(U,...C){if("string"!=typeof U){const x=C[0],W=[...C.slice(1)];return W[0]&&(W[0].appName=U.name),U._errorFactory.create(x,...W)}return jt.create(U,...C)}function ee(U,C,...x){if(!U)throw yt(C,...x)}function Gt(U){const C="INTERNAL ASSERTION FAILED: "+U;throw Mt(C),new Error(C)}function Dt(U,C){U||Gt(C)}function Ft(){var U;return typeof self<"u"&&(null===(U=self.location)||void 0===U?void 0:U.href)||""}function qt(){return"http:"===Te()||"https:"===Te()}function Te(){var U;return typeof self<"u"&&(null===(U=self.location)||void 0===U?void 0:U.protocol)||null}class mt{constructor(C,x){this.shortDelay=C,this.longDelay=x,Dt(x>C,"Short delay should be less than long delay!"),this.isMobile=(0,E.uI)()||(0,E.b$)()}get(){return function Je(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(qt()||(0,E.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function et(U,C){Dt(U.emulator,"Emulator should always be set here");const{url:x}=U.emulator;return C?`${x}${C.startsWith("/")?C.slice(1):C}`:x}class tt{static initialize(C,x,W){this.fetchImpl=C,x&&(this.headersImpl=x),W&&(this.responseImpl=W)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void Gt("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void Gt("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void Gt("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const ut={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Ut=new mt(3e4,6e4);function Nt(U,C){return U.tenantId&&!C.tenantId?Object.assign(Object.assign({},C),{tenantId:U.tenantId}):C}function Qt(U,C,x,W){return sn.apply(this,arguments)}function sn(){return(sn=(0,d.Z)(function*(U,C,x,W,Ie={}){return On(U,Ie,(0,d.Z)(function*(){let We={},on={};W&&("GET"===C?on=W:We={body:JSON.stringify(W)});const xn=(0,E.xO)(Object.assign({key:U.config.apiKey},on)).slice(1),_r=yield U._getAdditionalHeaders();return _r["Content-Type"]="application/json",U.languageCode&&(_r["X-Firebase-Locale"]=U.languageCode),tt.fetch()(vn(U,U.config.apiHost,x,xn),Object.assign({method:C,headers:_r,referrerPolicy:"no-referrer"},We))}))})).apply(this,arguments)}function On(U,C,x){return tn.apply(this,arguments)}function tn(){return(tn=(0,d.Z)(function*(U,C,x){U._canInitEmulator=!1;const W=Object.assign(Object.assign({},ut),C);try{const Ie=new qn(U),We=yield Promise.race([x(),Ie.promise]);Ie.clearNetworkTimeout();const on=yield We.json();if("needConfirmation"in on)throw er(U,"account-exists-with-different-credential",on);if(We.ok&&!("errorMessage"in on))return on;{const xn=We.ok?on.errorMessage:on.error.message,[_r,oi]=xn.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===_r)throw er(U,"credential-already-in-use",on);if("EMAIL_EXISTS"===_r)throw er(U,"email-already-in-use",on);if("USER_DISABLED"===_r)throw er(U,"user-disabled",on);const Ui=W[_r]||_r.toLowerCase().replace(/[_\s]+/g,"-");if(oi)throw St(U,Ui,oi);ft(U,Ui)}}catch(Ie){if(Ie instanceof E.ZR)throw Ie;ft(U,"network-request-failed",{message:String(Ie)})}})).apply(this,arguments)}function vt(U,C,x,W){return cn.apply(this,arguments)}function cn(){return(cn=(0,d.Z)(function*(U,C,x,W,Ie={}){const We=yield Qt(U,C,x,W,Ie);return"mfaPendingCredential"in We&&ft(U,"multi-factor-auth-required",{_serverResponse:We}),We})).apply(this,arguments)}function vn(U,C,x,W){const Ie=`${C}${x}?${W}`;return U.config.emulator?et(U.config,Ie):`${U.config.apiScheme}://${Ie}`}class qn{constructor(C){this.auth=C,this.timer=null,this.promise=new Promise((x,W)=>{this.timer=setTimeout(()=>W(It(this.auth,"network-request-failed")),Ut.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function er(U,C,x){const W={appName:U.name};x.email&&(W.email=x.email),x.phoneNumber&&(W.phoneNumber=x.phoneNumber);const Ie=It(U,C,W);return Ie.customData._tokenResponse=x,Ie}function un(){return(un=(0,d.Z)(function*(U,C){return Qt(U,"POST","/v1/accounts:delete",C)})).apply(this,arguments)}function an(){return(an=(0,d.Z)(function*(U,C){return Qt(U,"POST","/v1/accounts:update",C)})).apply(this,arguments)}function $r(){return($r=(0,d.Z)(function*(U,C){return Qt(U,"POST","/v1/accounts:lookup",C)})).apply(this,arguments)}function xr(U){if(U)try{const C=new Date(Number(U));if(!isNaN(C.getTime()))return C.toUTCString()}catch{}}function Gr(){return(Gr=(0,d.Z)(function*(U,C=!1){const x=(0,E.m9)(U),W=yield x.getIdToken(C),Ie=Pi(W);ee(Ie&&Ie.exp&&Ie.auth_time&&Ie.iat,x.auth,"internal-error");const We="object"==typeof Ie.firebase?Ie.firebase:void 0,on=null==We?void 0:We.sign_in_provider;return{claims:Ie,token:W,authTime:xr(ar(Ie.auth_time)),issuedAtTime:xr(ar(Ie.iat)),expirationTime:xr(ar(Ie.exp)),signInProvider:on||null,signInSecondFactor:(null==We?void 0:We.sign_in_second_factor)||null}})).apply(this,arguments)}function ar(U){return 1e3*Number(U)}function Pi(U){const[C,x,W]=U.split(".");if(void 0===C||void 0===x||void 0===W)return Mt("JWT malformed, contained fewer than 3 sections"),null;try{const Ie=(0,E.tV)(x);return Ie?JSON.parse(Ie):(Mt("Failed to decode base64 JWT payload"),null)}catch(Ie){return Mt("Caught error parsing JWT payload as JSON",null==Ie?void 0:Ie.toString()),null}}function lr(U,C){return nr.apply(this,arguments)}function nr(){return(nr=(0,d.Z)(function*(U,C,x=!1){if(x)return C;try{return yield C}catch(W){throw W instanceof E.ZR&&function mr({code:U}){return"auth/user-disabled"===U||"auth/user-token-expired"===U}(W)&&U.auth.currentUser===U&&(yield U.auth.signOut()),W}})).apply(this,arguments)}class bi{constructor(C){this.user=C,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(C){var x;if(C){const W=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),W}{this.errorBackoff=3e4;const Ie=(null!==(x=this.user.stsTokenManager.expirationTime)&&void 0!==x?x:0)-Date.now()-3e5;return Math.max(0,Ie)}}schedule(C=!1){var x=this;if(!this.isRunning)return;const W=this.getInterval(C);this.timerId=setTimeout((0,d.Z)(function*(){yield x.iteration()}),W)}iteration(){var C=this;return(0,d.Z)(function*(){try{yield C.user.getIdToken(!0)}catch(x){return void("auth/network-request-failed"===(null==x?void 0:x.code)&&C.schedule(!0))}C.schedule()})()}}class li{constructor(C,x){this.createdAt=C,this.lastLoginAt=x,this._initializeTime()}_initializeTime(){this.lastSignInTime=xr(this.lastLoginAt),this.creationTime=xr(this.createdAt)}_copy(C){this.createdAt=C.createdAt,this.lastLoginAt=C.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Kr(U){return di.apply(this,arguments)}function di(){return di=(0,d.Z)(function*(U){var C;const x=U.auth,W=yield U.getIdToken(),Ie=yield lr(U,function Pr(U,C){return $r.apply(this,arguments)}(x,{idToken:W}));ee(null==Ie?void 0:Ie.users.length,x,"internal-error");const We=Ie.users[0];U._notifyReloadListener(We);const on=null!==(C=We.providerUserInfo)&&void 0!==C&&C.length?function Ei(U){return U.map(C=>{var{providerId:x}=C,W=(0,ke._T)(C,["providerId"]);return{providerId:x,uid:W.rawId||"",displayName:W.displayName||null,email:W.email||null,phoneNumber:W.phoneNumber||null,photoURL:W.photoUrl||null}})}(We.providerUserInfo):[],xn=function fr(U,C){return[...U.filter(W=>!C.some(Ie=>Ie.providerId===W.providerId)),...C]}(U.providerData,on),Ui=!!U.isAnonymous&&!(U.email&&We.passwordHash||null!=xn&&xn.length),Us={uid:We.localId,displayName:We.displayName||null,photoURL:We.photoUrl||null,email:We.email||null,emailVerified:We.emailVerified||!1,phoneNumber:We.phoneNumber||null,tenantId:We.tenantId||null,providerData:xn,metadata:new li(We.createdAt,We.lastLoginAt),isAnonymous:Ui};Object.assign(U,Us)}),di.apply(this,arguments)}function br(){return(br=(0,d.Z)(function*(U){const C=(0,E.m9)(U);yield Kr(C),yield C.auth._persistUserIfCurrent(C),C.auth._notifyListenersIfCurrent(C)})).apply(this,arguments)}function Cn(){return(Cn=(0,d.Z)(function*(U,C){const x=yield On(U,{},(0,d.Z)(function*(){const W=(0,E.xO)({grant_type:"refresh_token",refresh_token:C}).slice(1),{tokenApiHost:Ie,apiKey:We}=U.config,on=vn(U,Ie,"/v1/token",`key=${We}`),xn=yield U._getAdditionalHeaders();return xn["Content-Type"]="application/x-www-form-urlencoded",tt.fetch()(on,{method:"POST",headers:xn,body:W})}));return{accessToken:x.access_token,expiresIn:x.expires_in,refreshToken:x.refresh_token}})).apply(this,arguments)}class Ne{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(C){ee(C.idToken,"internal-error"),ee(typeof C.idToken<"u","internal-error"),ee(typeof C.refreshToken<"u","internal-error");const x="expiresIn"in C&&typeof C.expiresIn<"u"?Number(C.expiresIn):function yi(U){const C=Pi(U);return ee(C,"internal-error"),ee(typeof C.exp<"u","internal-error"),ee(typeof C.iat<"u","internal-error"),Number(C.exp)-Number(C.iat)}(C.idToken);this.updateTokensAndExpiration(C.idToken,C.refreshToken,x)}getToken(C,x=!1){var W=this;return(0,d.Z)(function*(){return ee(!W.accessToken||W.refreshToken,C,"user-token-expired"),x||!W.accessToken||W.isExpired?W.refreshToken?(yield W.refresh(C,W.refreshToken),W.accessToken):null:W.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(C,x){var W=this;return(0,d.Z)(function*(){const{accessToken:Ie,refreshToken:We,expiresIn:on}=yield function Er(U,C){return Cn.apply(this,arguments)}(C,x);W.updateTokensAndExpiration(Ie,We,Number(on))})()}updateTokensAndExpiration(C,x,W){this.refreshToken=x||null,this.accessToken=C||null,this.expirationTime=Date.now()+1e3*W}static fromJSON(C,x){const{refreshToken:W,accessToken:Ie,expirationTime:We}=x,on=new Ne;return W&&(ee("string"==typeof W,"internal-error",{appName:C}),on.refreshToken=W),Ie&&(ee("string"==typeof Ie,"internal-error",{appName:C}),on.accessToken=Ie),We&&(ee("number"==typeof We,"internal-error",{appName:C}),on.expirationTime=We),on}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(C){this.accessToken=C.accessToken,this.refreshToken=C.refreshToken,this.expirationTime=C.expirationTime}_clone(){return Object.assign(new Ne,this.toJSON())}_performRefresh(){return Gt("not implemented")}}function dt(U,C){ee("string"==typeof U||typeof U>"u","internal-error",{appName:C})}class Ht{constructor(C){var{uid:x,auth:W,stsTokenManager:Ie}=C,We=(0,ke._T)(C,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new bi(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=x,this.auth=W,this.stsTokenManager=Ie,this.accessToken=Ie.accessToken,this.displayName=We.displayName||null,this.email=We.email||null,this.emailVerified=We.emailVerified||!1,this.phoneNumber=We.phoneNumber||null,this.photoURL=We.photoURL||null,this.isAnonymous=We.isAnonymous||!1,this.tenantId=We.tenantId||null,this.providerData=We.providerData?[...We.providerData]:[],this.metadata=new li(We.createdAt||void 0,We.lastLoginAt||void 0)}getIdToken(C){var x=this;return(0,d.Z)(function*(){const W=yield lr(x,x.stsTokenManager.getToken(x.auth,C));return ee(W,x.auth,"internal-error"),x.accessToken!==W&&(x.accessToken=W,yield x.auth._persistUserIfCurrent(x),x.auth._notifyListenersIfCurrent(x)),W})()}getIdTokenResult(C){return function ai(U){return Gr.apply(this,arguments)}(this,C)}reload(){return function Ai(U){return br.apply(this,arguments)}(this)}_assign(C){this!==C&&(ee(this.uid===C.uid,this.auth,"internal-error"),this.displayName=C.displayName,this.photoURL=C.photoURL,this.email=C.email,this.emailVerified=C.emailVerified,this.phoneNumber=C.phoneNumber,this.isAnonymous=C.isAnonymous,this.tenantId=C.tenantId,this.providerData=C.providerData.map(x=>Object.assign({},x)),this.metadata._copy(C.metadata),this.stsTokenManager._assign(C.stsTokenManager))}_clone(C){const x=new Ht(Object.assign(Object.assign({},this),{auth:C,stsTokenManager:this.stsTokenManager._clone()}));return x.metadata._copy(this.metadata),x}_onReload(C){ee(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=C,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(C){this.reloadListener?this.reloadListener(C):this.reloadUserInfo=C}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(C,x=!1){var W=this;return(0,d.Z)(function*(){let Ie=!1;C.idToken&&C.idToken!==W.stsTokenManager.accessToken&&(W.stsTokenManager.updateFromServerResponse(C),Ie=!0),x&&(yield Kr(W)),yield W.auth._persistUserIfCurrent(W),Ie&&W.auth._notifyListenersIfCurrent(W)})()}delete(){var C=this;return(0,d.Z)(function*(){const x=yield C.getIdToken();return yield lr(C,function ur(U,C){return un.apply(this,arguments)}(C.auth,{idToken:x})),C.stsTokenManager.clearRefreshToken(),C.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(C=>Object.assign({},C)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(C,x){var W,Ie,We,on,xn,_r,oi,Ui;const Us=null!==(W=x.displayName)&&void 0!==W?W:void 0,nl=null!==(Ie=x.email)&&void 0!==Ie?Ie:void 0,Ol=null!==(We=x.phoneNumber)&&void 0!==We?We:void 0,Hc=null!==(on=x.photoURL)&&void 0!==on?on:void 0,ia=null!==(xn=x.tenantId)&&void 0!==xn?xn:void 0,Wl=null!==(_r=x._redirectEventId)&&void 0!==_r?_r:void 0,ha=null!==(oi=x.createdAt)&&void 0!==oi?oi:void 0,ac=null!==(Ui=x.lastLoginAt)&&void 0!==Ui?Ui:void 0,{uid:Ma,emailVerified:Ua,isAnonymous:bl,providerData:Wc,stsTokenManager:El}=x;ee(Ma&&El,C,"internal-error");const hh=Ne.fromJSON(this.name,El);ee("string"==typeof Ma,C,"internal-error"),dt(Us,C.name),dt(nl,C.name),ee("boolean"==typeof Ua,C,"internal-error"),ee("boolean"==typeof bl,C,"internal-error"),dt(Ol,C.name),dt(Hc,C.name),dt(ia,C.name),dt(Wl,C.name),dt(ha,C.name),dt(ac,C.name);const Gc=new Ht({uid:Ma,auth:C,email:nl,emailVerified:Ua,displayName:Us,isAnonymous:bl,photoURL:Hc,phoneNumber:Ol,tenantId:ia,stsTokenManager:hh,createdAt:ha,lastLoginAt:ac});return Wc&&Array.isArray(Wc)&&(Gc.providerData=Wc.map(Fs=>Object.assign({},Fs))),Wl&&(Gc._redirectEventId=Wl),Gc}static _fromIdTokenResponse(C,x,W=!1){return(0,d.Z)(function*(){const Ie=new Ne;Ie.updateFromServerResponse(x);const We=new Ht({uid:x.localId,auth:C,stsTokenManager:Ie,isAnonymous:W});return yield Kr(We),We})()}}const En=new Map;function zn(U){Dt(U instanceof Function,"Expected a class definition");let C=En.get(U);return C?(Dt(C instanceof U,"Instance stored in cache mismatched with class"),C):(C=new U,En.set(U,C),C)}const kr=(()=>{class U{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,d.Z)(function*(){return!0})()}_set(x,W){var Ie=this;return(0,d.Z)(function*(){Ie.storage[x]=W})()}_get(x){var W=this;return(0,d.Z)(function*(){const Ie=W.storage[x];return void 0===Ie?null:Ie})()}_remove(x){var W=this;return(0,d.Z)(function*(){delete W.storage[x]})()}_addListener(x,W){}_removeListener(x,W){}}return U.type="NONE",U})();function Or(U,C,x){return`firebase:${U}:${C}:${x}`}class gt{constructor(C,x,W){this.persistence=C,this.auth=x,this.userKey=W;const{config:Ie,name:We}=this.auth;this.fullUserKey=Or(this.userKey,Ie.apiKey,We),this.fullPersistenceKey=Or("persistence",Ie.apiKey,We),this.boundEventHandler=x._onStorageEvent.bind(x),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(C){return this.persistence._set(this.fullUserKey,C.toJSON())}getCurrentUser(){var C=this;return(0,d.Z)(function*(){const x=yield C.persistence._get(C.fullUserKey);return x?Ht._fromJSON(C.auth,x):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(C){var x=this;return(0,d.Z)(function*(){if(x.persistence===C)return;const W=yield x.getCurrentUser();return yield x.removeCurrentUser(),x.persistence=C,W?x.setCurrentUser(W):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(C,x,W="authUser"){return(0,d.Z)(function*(){if(!x.length)return new gt(zn(kr),C,W);const Ie=(yield Promise.all(x.map(function(){var oi=(0,d.Z)(function*(Ui){if(yield Ui._isAvailable())return Ui});return function(Ui){return oi.apply(this,arguments)}}()))).filter(oi=>oi);let We=Ie[0]||zn(kr);const on=Or(W,C.config.apiKey,C.name);let xn=null;for(const oi of x)try{const Ui=yield oi._get(on);if(Ui){const Us=Ht._fromJSON(C,Ui);oi!==We&&(xn=Us),We=oi;break}}catch{}const _r=Ie.filter(oi=>oi._shouldAllowMigration);return We._shouldAllowMigration&&_r.length?(We=_r[0],xn&&(yield We._set(on,xn.toJSON())),yield Promise.all(x.map(function(){var oi=(0,d.Z)(function*(Ui){if(Ui!==We)try{yield Ui._remove(on)}catch{}});return function(Ui){return oi.apply(this,arguments)}}())),new gt(We,C,W)):new gt(We,C,W)})()}}function Ae(U){const C=U.toLowerCase();if(C.includes("opera/")||C.includes("opr/")||C.includes("opios/"))return"Opera";if(Ke(C))return"IEMobile";if(C.includes("msie")||C.includes("trident/"))return"IE";if(C.includes("edge/"))return"Edge";if(ie(C))return"Firefox";if(C.includes("silk/"))return"Silk";if(rt(C))return"Blackberry";if(Vt(C))return"Webos";if(te(C))return"Safari";if((C.includes("chrome/")||se(C))&&!C.includes("edge/"))return"Chrome";if(xt(C))return"Android";{const W=U.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==W?void 0:W.length))return W[1]}return"Other"}function ie(U=(0,E.z$)()){return/firefox\//i.test(U)}function te(U=(0,E.z$)()){const C=U.toLowerCase();return C.includes("safari/")&&!C.includes("chrome/")&&!C.includes("crios/")&&!C.includes("android")}function se(U=(0,E.z$)()){return/crios\//i.test(U)}function Ke(U=(0,E.z$)()){return/iemobile/i.test(U)}function xt(U=(0,E.z$)()){return/android/i.test(U)}function rt(U=(0,E.z$)()){return/blackberry/i.test(U)}function Vt(U=(0,E.z$)()){return/webos/i.test(U)}function en(U=(0,E.z$)()){return/iphone|ipad|ipod/i.test(U)||/macintosh/i.test(U)&&/mobile/i.test(U)}function Sn(U=(0,E.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(U)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(U)}function ln(U=(0,E.z$)()){return en(U)||xt(U)||Vt(U)||rt(U)||/windows phone/i.test(U)||Ke(U)}function kn(U,C=[]){let x;switch(U){case"Browser":x=Ae((0,E.z$)());break;case"Worker":x=`${Ae((0,E.z$)())}-${U}`;break;default:x=U}const W=C.length?C.join(","):"FirebaseCore-web";return`${x}/JsCore/${be.SDK_VERSION}/${W}`}function Kt(){return(Kt=(0,d.Z)(function*(U){return(yield Qt(U,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function fn(U,C){return Yn.apply(this,arguments)}function Yn(){return(Yn=(0,d.Z)(function*(U,C){return Qt(U,"GET","/v2/recaptchaConfig",Nt(U,C))})).apply(this,arguments)}function pr(U){return void 0!==U&&void 0!==U.getResponse}function Fr(U){return void 0!==U&&void 0!==U.enterprise}class Sr{constructor(C){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===C.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=C.recaptchaKey.split("/")[3],this.emailPasswordEnabled=C.recaptchaEnforcementState.some(x=>"EMAIL_PASSWORD_PROVIDER"===x.provider&&"OFF"!==x.enforcementState)}}function Xr(U){return new Promise((C,x)=>{const W=document.createElement("script");W.setAttribute("src",U),W.onload=C,W.onerror=Ie=>{const We=It("internal-error");We.customData=Ie,x(We)},W.type="text/javascript",W.charset="UTF-8",function Fi(){var U,C;return null!==(C=null===(U=document.getElementsByTagName("head"))||void 0===U?void 0:U[0])&&void 0!==C?C:document}().appendChild(W)})}function zr(U){return`__${U}${Math.floor(1e6*Math.random())}`}class Xs{constructor(C){this.type="recaptcha-enterprise",this.auth=zi(C)}verify(C="verify",x=!1){var W=this;return(0,d.Z)(function*(){function We(){return We=(0,d.Z)(function*(xn){if(!x){if(null==xn.tenantId&&null!=xn._agentRecaptchaConfig)return xn._agentRecaptchaConfig.siteKey;if(null!=xn.tenantId&&void 0!==xn._tenantRecaptchaConfigs[xn.tenantId])return xn._tenantRecaptchaConfigs[xn.tenantId].siteKey}return new Promise(function(){var _r=(0,d.Z)(function*(oi,Ui){fn(xn,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(Us=>{if(void 0!==Us.recaptchaKey){const nl=new Sr(Us);return null==xn.tenantId?xn._agentRecaptchaConfig=nl:xn._tenantRecaptchaConfigs[xn.tenantId]=nl,oi(nl.siteKey)}Ui(new Error("recaptcha Enterprise site key undefined"))}).catch(Us=>{Ui(Us)})});return function(oi,Ui){return _r.apply(this,arguments)}}())}),We.apply(this,arguments)}function on(xn,_r,oi){const Ui=window.grecaptcha;Fr(Ui)?Ui.enterprise.ready(()=>{Ui.enterprise.execute(xn,{action:C}).then(Us=>{_r(Us)}).catch(()=>{_r("NO_RECAPTCHA")})}):oi(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((xn,_r)=>{(function Ie(xn){return We.apply(this,arguments)})(W.auth).then(oi=>{if(!x&&Fr(window.grecaptcha))on(oi,xn,_r);else{if(typeof window>"u")return void _r(new Error("RecaptchaVerifier is only supported in browser"));Xr("https://www.google.com/recaptcha/enterprise.js?render="+oi).then(()=>{on(oi,xn,_r)}).catch(Ui=>{_r(Ui)})}}).catch(oi=>{_r(oi)})})})()}}function ys(U,C,x){return cs.apply(this,arguments)}function cs(){return(cs=(0,d.Z)(function*(U,C,x,W=!1){const Ie=new Xs(U);let We;try{We=yield Ie.verify(x)}catch{We=yield Ie.verify(x,!0)}const on=Object.assign({},C);return Object.assign(on,W?{captchaResp:We}:{captchaResponse:We}),Object.assign(on,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(on,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),on})).apply(this,arguments)}class yo{constructor(C){this.auth=C,this.queue=[]}pushCallback(C,x){const W=We=>new Promise((on,xn)=>{try{on(C(We))}catch(_r){xn(_r)}});W.onAbort=x,this.queue.push(W);const Ie=this.queue.length-1;return()=>{this.queue[Ie]=()=>Promise.resolve()}}runMiddleware(C){var x=this;return(0,d.Z)(function*(){if(x.auth.currentUser===C)return;const W=[];try{for(const Ie of x.queue)yield Ie(C),Ie.onAbort&&W.push(Ie.onAbort)}catch(Ie){W.reverse();for(const We of W)try{We()}catch{}throw x.auth._errorFactory.create("login-blocked",{originalMessage:null==Ie?void 0:Ie.message})}})()}}class ts{constructor(C,x,W,Ie){this.app=C,this.heartbeatServiceProvider=x,this.appCheckServiceProvider=W,this.config=Ie,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Qs(this),this.idTokenSubscription=new Qs(this),this.beforeStateQueue=new yo(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=jt,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=C.name,this.clientVersion=Ie.sdkClientVersion}_initializeWithPersistence(C,x){var W=this;return x&&(this._popupRedirectResolver=zn(x)),this._initializationPromise=this.queue((0,d.Z)(function*(){var Ie,We;if(!W._deleted&&(W.persistenceManager=yield gt.create(W,C),!W._deleted)){if(null!==(Ie=W._popupRedirectResolver)&&void 0!==Ie&&Ie._shouldInitProactively)try{yield W._popupRedirectResolver._initialize(W)}catch{}yield W.initializeCurrentUser(x),W.lastNotifiedUid=(null===(We=W.currentUser)||void 0===We?void 0:We.uid)||null,!W._deleted&&(W._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var C=this;return(0,d.Z)(function*(){if(C._deleted)return;const x=yield C.assertedPersistence.getCurrentUser();if(C.currentUser||x){if(C.currentUser&&x&&C.currentUser.uid===x.uid)return C._currentUser._assign(x),void(yield C.currentUser.getIdToken());yield C._updateCurrentUser(x,!0)}})()}initializeCurrentUser(C){var x=this;return(0,d.Z)(function*(){var W;const Ie=yield x.assertedPersistence.getCurrentUser();let We=Ie,on=!1;if(C&&x.config.authDomain){yield x.getOrInitRedirectPersistenceManager();const xn=null===(W=x.redirectUser)||void 0===W?void 0:W._redirectEventId,_r=null==We?void 0:We._redirectEventId,oi=yield x.tryRedirectSignIn(C);(!xn||xn===_r)&&null!=oi&&oi.user&&(We=oi.user,on=!0)}if(!We)return x.directlySetCurrentUser(null);if(!We._redirectEventId){if(on)try{yield x.beforeStateQueue.runMiddleware(We)}catch(xn){We=Ie,x._popupRedirectResolver._overrideRedirectResult(x,()=>Promise.reject(xn))}return We?x.reloadAndSetCurrentUserOrClear(We):x.directlySetCurrentUser(null)}return ee(x._popupRedirectResolver,x,"argument-error"),yield x.getOrInitRedirectPersistenceManager(),x.redirectUser&&x.redirectUser._redirectEventId===We._redirectEventId?x.directlySetCurrentUser(We):x.reloadAndSetCurrentUserOrClear(We)})()}tryRedirectSignIn(C){var x=this;return(0,d.Z)(function*(){let W=null;try{W=yield x._popupRedirectResolver._completeRedirectFn(x,C,!0)}catch{yield x._setRedirectUser(null)}return W})()}reloadAndSetCurrentUserOrClear(C){var x=this;return(0,d.Z)(function*(){try{yield Kr(C)}catch(W){if("auth/network-request-failed"!==(null==W?void 0:W.code))return x.directlySetCurrentUser(null)}return x.directlySetCurrentUser(C)})()}useDeviceLanguage(){this.languageCode=function ct(){if(typeof navigator>"u")return null;const U=navigator;return U.languages&&U.languages[0]||U.language||null}()}_delete(){var C=this;return(0,d.Z)(function*(){C._deleted=!0})()}updateCurrentUser(C){var x=this;return(0,d.Z)(function*(){const W=C?(0,E.m9)(C):null;return W&&ee(W.auth.config.apiKey===x.config.apiKey,x,"invalid-user-token"),x._updateCurrentUser(W&&W._clone(x))})()}_updateCurrentUser(C,x=!1){var W=this;return(0,d.Z)(function*(){if(!W._deleted)return C&&ee(W.tenantId===C.tenantId,W,"tenant-id-mismatch"),x||(yield W.beforeStateQueue.runMiddleware(C)),W.queue((0,d.Z)(function*(){yield W.directlySetCurrentUser(C),W.notifyAuthListeners()}))})()}signOut(){var C=this;return(0,d.Z)(function*(){return yield C.beforeStateQueue.runMiddleware(null),(C.redirectPersistenceManager||C._popupRedirectResolver)&&(yield C._setRedirectUser(null)),C._updateCurrentUser(null,!0)})()}setPersistence(C){var x=this;return this.queue((0,d.Z)(function*(){yield x.assertedPersistence.setPersistence(zn(C))}))}initializeRecaptchaConfig(){var C=this;return(0,d.Z)(function*(){const x=yield fn(C,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),W=new Sr(x);null==C.tenantId?C._agentRecaptchaConfig=W:C._tenantRecaptchaConfigs[C.tenantId]=W,W.emailPasswordEnabled&&new Xs(C).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(C){this._errorFactory=new E.LL("auth","Firebase",C())}onAuthStateChanged(C,x,W){return this.registerStateListener(this.authStateSubscription,C,x,W)}beforeAuthStateChanged(C,x){return this.beforeStateQueue.pushCallback(C,x)}onIdTokenChanged(C,x,W){return this.registerStateListener(this.idTokenSubscription,C,x,W)}toJSON(){var C;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(C=this._currentUser)||void 0===C?void 0:C.toJSON()}}_setRedirectUser(C,x){var W=this;return(0,d.Z)(function*(){const Ie=yield W.getOrInitRedirectPersistenceManager(x);return null===C?Ie.removeCurrentUser():Ie.setCurrentUser(C)})()}getOrInitRedirectPersistenceManager(C){var x=this;return(0,d.Z)(function*(){if(!x.redirectPersistenceManager){const W=C&&zn(C)||x._popupRedirectResolver;ee(W,x,"argument-error"),x.redirectPersistenceManager=yield gt.create(x,[zn(W._redirectPersistence)],"redirectUser"),x.redirectUser=yield x.redirectPersistenceManager.getCurrentUser()}return x.redirectPersistenceManager})()}_redirectUserForId(C){var x=this;return(0,d.Z)(function*(){var W,Ie;return x._isInitialized&&(yield x.queue((0,d.Z)(function*(){}))),(null===(W=x._currentUser)||void 0===W?void 0:W._redirectEventId)===C?x._currentUser:(null===(Ie=x.redirectUser)||void 0===Ie?void 0:Ie._redirectEventId)===C?x.redirectUser:null})()}_persistUserIfCurrent(C){var x=this;return(0,d.Z)(function*(){if(C===x.currentUser)return x.queue((0,d.Z)(function*(){return x.directlySetCurrentUser(C)}))})()}_notifyListenersIfCurrent(C){C===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var C,x;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const W=null!==(x=null===(C=this.currentUser)||void 0===C?void 0:C.uid)&&void 0!==x?x:null;this.lastNotifiedUid!==W&&(this.lastNotifiedUid=W,this.authStateSubscription.next(this.currentUser))}registerStateListener(C,x,W,Ie){if(this._deleted)return()=>{};const We="function"==typeof x?x:x.next.bind(x),on=this._isInitialized?Promise.resolve():this._initializationPromise;return ee(on,this,"internal-error"),on.then(()=>We(this.currentUser)),"function"==typeof x?C.addObserver(x,W,Ie):C.addObserver(x)}directlySetCurrentUser(C){var x=this;return(0,d.Z)(function*(){x.currentUser&&x.currentUser!==C&&x._currentUser._stopProactiveRefresh(),C&&x.isProactiveRefreshEnabled&&C._startProactiveRefresh(),x.currentUser=C,C?yield x.assertedPersistence.setCurrentUser(C):yield x.assertedPersistence.removeCurrentUser()})()}queue(C){return this.operations=this.operations.then(C,C),this.operations}get assertedPersistence(){return ee(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(C){!C||this.frameworks.includes(C)||(this.frameworks.push(C),this.frameworks.sort(),this.clientVersion=kn(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var C=this;return(0,d.Z)(function*(){var x;const W={"X-Client-Version":C.clientVersion};C.app.options.appId&&(W["X-Firebase-gmpid"]=C.app.options.appId);const Ie=yield null===(x=C.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===x?void 0:x.getHeartbeatsHeader();Ie&&(W["X-Firebase-Client"]=Ie);const We=yield C._getAppCheckToken();return We&&(W["X-Firebase-AppCheck"]=We),W})()}_getAppCheckToken(){var C=this;return(0,d.Z)(function*(){var x;const W=yield null===(x=C.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===x?void 0:x.getToken();return null!=W&&W.error&&function kt(U,...C){$e.logLevel<=qe.in.WARN&&$e.warn(`Auth (${be.SDK_VERSION}): ${U}`,...C)}(`Error while retrieving App Check token: ${W.error}`),null==W?void 0:W.token})()}}function zi(U){return(0,E.m9)(U)}class Qs{constructor(C){this.auth=C,this.observer=null,this.addObserver=(0,E.ne)(x=>this.observer=x)}get next(){return ee(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function js(U,C,x){const W=zi(U);ee(W._canInitEmulator,W,"emulator-config-failed"),ee(/^https?:\/\//.test(C),W,"invalid-emulator-scheme");const Ie=!(null==x||!x.disableWarnings),We=re(C),{host:on,port:xn}=function pe(U){const C=re(U),x=/(\/\/)?([^?#/]+)/.exec(U.substr(C.length));if(!x)return{host:"",port:null};const W=x[2].split("@").pop()||"",Ie=/^(\[[^\]]+\])(:|$)/.exec(W);if(Ie){const We=Ie[1];return{host:We,port:Oe(W.substr(We.length+1))}}{const[We,on]=W.split(":");return{host:We,port:Oe(on)}}}(C);W.config.emulator={url:`${We}//${on}${null===xn?"":`:${xn}`}/`},W.settings.appVerificationDisabledForTesting=!0,W.emulatorConfig=Object.freeze({host:on,port:xn,protocol:We.replace(":",""),options:Object.freeze({disableWarnings:Ie})}),Ie||function _e(){function U(){const C=document.createElement("p"),x=C.style;C.innerText="Running in emulator mode. Do not use with production credentials.",x.position="fixed",x.width="100%",x.backgroundColor="#ffffff",x.border=".1em solid #000000",x.color="#b50000",x.bottom="0px",x.left="0px",x.margin="0px",x.zIndex="10000",x.textAlign="center",C.classList.add("firebase-emulator-warning"),document.body.appendChild(C)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",U):U())}()}function re(U){const C=U.indexOf(":");return C<0?"":U.substr(0,C+1)}function Oe(U){if(!U)return null;const C=Number(U);return isNaN(C)?null:C}class ne{constructor(C,x){this.providerId=C,this.signInMethod=x}toJSON(){return Gt("not implemented")}_getIdTokenResponse(C){return Gt("not implemented")}_linkToIdToken(C,x){return Gt("not implemented")}_getReauthenticationResolver(C){return Gt("not implemented")}}function ve(U,C){return st.apply(this,arguments)}function st(){return(st=(0,d.Z)(function*(U,C){return Qt(U,"POST","/v1/accounts:resetPassword",Nt(U,C))})).apply(this,arguments)}function wt(U,C){return $t.apply(this,arguments)}function $t(){return($t=(0,d.Z)(function*(U,C){return Qt(U,"POST","/v1/accounts:update",C)})).apply(this,arguments)}function Vn(){return(Vn=(0,d.Z)(function*(U,C){return Qt(U,"POST","/v1/accounts:update",Nt(U,C))})).apply(this,arguments)}function Un(U,C){return Nr.apply(this,arguments)}function Nr(){return(Nr=(0,d.Z)(function*(U,C){return vt(U,"POST","/v1/accounts:signInWithPassword",Nt(U,C))})).apply(this,arguments)}function Qr(U,C){return vs.apply(this,arguments)}function vs(){return(vs=(0,d.Z)(function*(U,C){return Qt(U,"POST","/v1/accounts:sendOobCode",Nt(U,C))})).apply(this,arguments)}function Ti(){return(Ti=(0,d.Z)(function*(U,C){return Qr(U,C)})).apply(this,arguments)}function Mr(U,C){return Tn.apply(this,arguments)}function Tn(){return(Tn=(0,d.Z)(function*(U,C){return Qr(U,C)})).apply(this,arguments)}function Lr(U,C){return Br.apply(this,arguments)}function Br(){return(Br=(0,d.Z)(function*(U,C){return Qr(U,C)})).apply(this,arguments)}function Ao(){return(Ao=(0,d.Z)(function*(U,C){return Qr(U,C)})).apply(this,arguments)}function vo(){return(vo=(0,d.Z)(function*(U,C){return vt(U,"POST","/v1/accounts:signInWithEmailLink",Nt(U,C))})).apply(this,arguments)}function Ur(){return(Ur=(0,d.Z)(function*(U,C){return vt(U,"POST","/v1/accounts:signInWithEmailLink",Nt(U,C))})).apply(this,arguments)}class ji extends ne{constructor(C,x,W,Ie=null){super("password",W),this._email=C,this._password=x,this._tenantId=Ie}static _fromEmailAndPassword(C,x){return new ji(C,x,"password")}static _fromEmailAndCode(C,x,W=null){return new ji(C,x,"emailLink",W)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(C){const x="string"==typeof C?JSON.parse(C):C;if(null!=x&&x.email&&null!=x&&x.password){if("password"===x.signInMethod)return this._fromEmailAndPassword(x.email,x.password);if("emailLink"===x.signInMethod)return this._fromEmailAndCode(x.email,x.password,x.tenantId)}return null}_getIdTokenResponse(C){var x=this;return(0,d.Z)(function*(){var W;switch(x.signInMethod){case"password":const Ie={returnSecureToken:!0,email:x._email,password:x._password,clientType:"CLIENT_TYPE_WEB"};if(null!==(W=C._getRecaptchaConfig())&&void 0!==W&&W.emailPasswordEnabled){const We=yield ys(C,Ie,"signInWithPassword");return Un(C,We)}return Un(C,Ie).catch(function(){var We=(0,d.Z)(function*(on){if("auth/missing-recaptcha-token"===on.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const xn=yield ys(C,Ie,"signInWithPassword");return Un(C,xn)}return Promise.reject(on)});return function(on){return We.apply(this,arguments)}}());case"emailLink":return function is(U,C){return vo.apply(this,arguments)}(C,{email:x._email,oobCode:x._password});default:ft(C,"internal-error")}})()}_linkToIdToken(C,x){var W=this;return(0,d.Z)(function*(){switch(W.signInMethod){case"password":return wt(C,{idToken:x,returnSecureToken:!0,email:W._email,password:W._password});case"emailLink":return function Jr(U,C){return Ur.apply(this,arguments)}(C,{idToken:x,email:W._email,oobCode:W._password});default:ft(C,"internal-error")}})()}_getReauthenticationResolver(C){return this._getIdTokenResponse(C)}}function qr(U,C){return so.apply(this,arguments)}function so(){return(so=(0,d.Z)(function*(U,C){return vt(U,"POST","/v1/accounts:signInWithIdp",Nt(U,C))})).apply(this,arguments)}class ki extends ne{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(C){const x=new ki(C.providerId,C.signInMethod);return C.idToken||C.accessToken?(C.idToken&&(x.idToken=C.idToken),C.accessToken&&(x.accessToken=C.accessToken),C.nonce&&!C.pendingToken&&(x.nonce=C.nonce),C.pendingToken&&(x.pendingToken=C.pendingToken)):C.oauthToken&&C.oauthTokenSecret?(x.accessToken=C.oauthToken,x.secret=C.oauthTokenSecret):ft("argument-error"),x}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(C){const x="string"==typeof C?JSON.parse(C):C,{providerId:W,signInMethod:Ie}=x,We=(0,ke._T)(x,["providerId","signInMethod"]);if(!W||!Ie)return null;const on=new ki(W,Ie);return on.idToken=We.idToken||void 0,on.accessToken=We.accessToken||void 0,on.secret=We.secret,on.nonce=We.nonce,on.pendingToken=We.pendingToken||null,on}_getIdTokenResponse(C){return qr(C,this.buildRequest())}_linkToIdToken(C,x){const W=this.buildRequest();return W.idToken=x,qr(C,W)}_getReauthenticationResolver(C){const x=this.buildRequest();return x.autoCreate=!1,qr(C,x)}buildRequest(){const C={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)C.pendingToken=this.pendingToken;else{const x={};this.idToken&&(x.id_token=this.idToken),this.accessToken&&(x.access_token=this.accessToken),this.secret&&(x.oauth_token_secret=this.secret),x.providerId=this.providerId,this.nonce&&!this.pendingToken&&(x.nonce=this.nonce),C.postBody=(0,E.xO)(x)}return C}}function eo(){return(eo=(0,d.Z)(function*(U,C){return Qt(U,"POST","/v1/accounts:sendVerificationCode",Nt(U,C))})).apply(this,arguments)}function zs(){return(zs=(0,d.Z)(function*(U,C){return vt(U,"POST","/v1/accounts:signInWithPhoneNumber",Nt(U,C))})).apply(this,arguments)}function _o(){return(_o=(0,d.Z)(function*(U,C){const x=yield vt(U,"POST","/v1/accounts:signInWithPhoneNumber",Nt(U,C));if(x.temporaryProof)throw er(U,"account-exists-with-different-credential",x);return x})).apply(this,arguments)}const wo={USER_NOT_FOUND:"user-not-found"};function qo(){return(qo=(0,d.Z)(function*(U,C){return vt(U,"POST","/v1/accounts:signInWithPhoneNumber",Nt(U,Object.assign(Object.assign({},C),{operation:"REAUTH"})),wo)})).apply(this,arguments)}class bs extends ne{constructor(C){super("phone","phone"),this.params=C}static _fromVerification(C,x){return new bs({verificationId:C,verificationCode:x})}static _fromTokenResponse(C,x){return new bs({phoneNumber:C,temporaryProof:x})}_getIdTokenResponse(C){return function uo(U,C){return zs.apply(this,arguments)}(C,this._makeVerificationRequest())}_linkToIdToken(C,x){return function Eo(U,C){return _o.apply(this,arguments)}(C,Object.assign({idToken:x},this._makeVerificationRequest()))}_getReauthenticationResolver(C){return function As(U,C){return qo.apply(this,arguments)}(C,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:C,phoneNumber:x,verificationId:W,verificationCode:Ie}=this.params;return C&&x?{temporaryProof:C,phoneNumber:x}:{sessionInfo:W,code:Ie}}toJSON(){const C={providerId:this.providerId};return this.params.phoneNumber&&(C.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(C.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(C.verificationCode=this.params.verificationCode),this.params.verificationId&&(C.verificationId=this.params.verificationId),C}static fromJSON(C){"string"==typeof C&&(C=JSON.parse(C));const{verificationId:x,verificationCode:W,phoneNumber:Ie,temporaryProof:We}=C;return W||x||Ie||We?new bs({verificationId:x,verificationCode:W,phoneNumber:Ie,temporaryProof:We}):null}}class Yi{constructor(C){var x,W,Ie,We,on,xn;const _r=(0,E.zd)((0,E.pd)(C)),oi=null!==(x=_r.apiKey)&&void 0!==x?x:null,Ui=null!==(W=_r.oobCode)&&void 0!==W?W:null,Us=function xi(U){switch(U){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(Ie=_r.mode)&&void 0!==Ie?Ie:null);ee(oi&&Ui&&Us,"argument-error"),this.apiKey=oi,this.operation=Us,this.code=Ui,this.continueUrl=null!==(We=_r.continueUrl)&&void 0!==We?We:null,this.languageCode=null!==(on=_r.languageCode)&&void 0!==on?on:null,this.tenantId=null!==(xn=_r.tenantId)&&void 0!==xn?xn:null}static parseLink(C){const x=function No(U){const C=(0,E.zd)((0,E.pd)(U)).link,x=C?(0,E.zd)((0,E.pd)(C)).deep_link_id:null,W=(0,E.zd)((0,E.pd)(U)).deep_link_id;return(W?(0,E.zd)((0,E.pd)(W)).link:null)||W||x||C||U}(C);try{return new Yi(x)}catch{return null}}}let Bs=(()=>{class U{constructor(){this.providerId=U.PROVIDER_ID}static credential(x,W){return ji._fromEmailAndPassword(x,W)}static credentialWithLink(x,W){const Ie=Yi.parseLink(W);return ee(Ie,"argument-error"),ji._fromEmailAndCode(x,Ie.code,Ie.tenantId)}}return U.PROVIDER_ID="password",U.EMAIL_PASSWORD_SIGN_IN_METHOD="password",U.EMAIL_LINK_SIGN_IN_METHOD="emailLink",U})();class Ys{constructor(C){this.providerId=C,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(C){this.defaultLanguageCode=C}setCustomParameters(C){return this.customParameters=C,this}getCustomParameters(){return this.customParameters}}class Io extends Ys{constructor(){super(...arguments),this.scopes=[]}addScope(C){return this.scopes.includes(C)||this.scopes.push(C),this}getScopes(){return[...this.scopes]}}class hs extends Io{static credentialFromJSON(C){const x="string"==typeof C?JSON.parse(C):C;return ee("providerId"in x&&"signInMethod"in x,"argument-error"),ki._fromParams(x)}credential(C){return this._credential(Object.assign(Object.assign({},C),{nonce:C.rawNonce}))}_credential(C){return ee(C.idToken||C.accessToken,"argument-error"),ki._fromParams(Object.assign(Object.assign({},C),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(C){return hs.oauthCredentialFromTaggedObject(C)}static credentialFromError(C){return hs.oauthCredentialFromTaggedObject(C.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:C}){if(!C)return null;const{oauthIdToken:x,oauthAccessToken:W,oauthTokenSecret:Ie,pendingToken:We,nonce:on,providerId:xn}=C;if(!W&&!Ie&&!x&&!We||!xn)return null;try{return new hs(xn)._credential({idToken:x,accessToken:W,nonce:on,pendingToken:We})}catch{return null}}}let fs=(()=>{class U extends Io{constructor(){super("facebook.com")}static credential(x){return ki._fromParams({providerId:U.PROVIDER_ID,signInMethod:U.FACEBOOK_SIGN_IN_METHOD,accessToken:x})}static credentialFromResult(x){return U.credentialFromTaggedObject(x)}static credentialFromError(x){return U.credentialFromTaggedObject(x.customData||{})}static credentialFromTaggedObject({_tokenResponse:x}){if(!x||!("oauthAccessToken"in x)||!x.oauthAccessToken)return null;try{return U.credential(x.oauthAccessToken)}catch{return null}}}return U.FACEBOOK_SIGN_IN_METHOD="facebook.com",U.PROVIDER_ID="facebook.com",U})(),ho=(()=>{class U extends Io{constructor(){super("google.com"),this.addScope("profile")}static credential(x,W){return ki._fromParams({providerId:U.PROVIDER_ID,signInMethod:U.GOOGLE_SIGN_IN_METHOD,idToken:x,accessToken:W})}static credentialFromResult(x){return U.credentialFromTaggedObject(x)}static credentialFromError(x){return U.credentialFromTaggedObject(x.customData||{})}static credentialFromTaggedObject({_tokenResponse:x}){if(!x)return null;const{oauthIdToken:W,oauthAccessToken:Ie}=x;if(!W&&!Ie)return null;try{return U.credential(W,Ie)}catch{return null}}}return U.GOOGLE_SIGN_IN_METHOD="google.com",U.PROVIDER_ID="google.com",U})(),oo=(()=>{class U extends Io{constructor(){super("github.com")}static credential(x){return ki._fromParams({providerId:U.PROVIDER_ID,signInMethod:U.GITHUB_SIGN_IN_METHOD,accessToken:x})}static credentialFromResult(x){return U.credentialFromTaggedObject(x)}static credentialFromError(x){return U.credentialFromTaggedObject(x.customData||{})}static credentialFromTaggedObject({_tokenResponse:x}){if(!x||!("oauthAccessToken"in x)||!x.oauthAccessToken)return null;try{return U.credential(x.oauthAccessToken)}catch{return null}}}return U.GITHUB_SIGN_IN_METHOD="github.com",U.PROVIDER_ID="github.com",U})();class Go extends ne{constructor(C,x){super(C,C),this.pendingToken=x}_getIdTokenResponse(C){return qr(C,this.buildRequest())}_linkToIdToken(C,x){const W=this.buildRequest();return W.idToken=x,qr(C,W)}_getReauthenticationResolver(C){const x=this.buildRequest();return x.autoCreate=!1,qr(C,x)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(C){const x="string"==typeof C?JSON.parse(C):C,{providerId:W,signInMethod:Ie,pendingToken:We}=x;return W&&Ie&&We&&W===Ie?new Go(W,We):null}static _create(C,x){return new Go(C,x)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class bo extends Ys{constructor(C){ee(C.startsWith("saml."),"argument-error"),super(C)}static credentialFromResult(C){return bo.samlCredentialFromTaggedObject(C)}static credentialFromError(C){return bo.samlCredentialFromTaggedObject(C.customData||{})}static credentialFromJSON(C){const x=Go.fromJSON(C);return ee(x,"argument-error"),x}static samlCredentialFromTaggedObject({_tokenResponse:C}){if(!C)return null;const{pendingToken:x,providerId:W}=C;if(!x||!W)return null;try{return Go._create(W,x)}catch{return null}}}let Co=(()=>{class U extends Io{constructor(){super("twitter.com")}static credential(x,W){return ki._fromParams({providerId:U.PROVIDER_ID,signInMethod:U.TWITTER_SIGN_IN_METHOD,oauthToken:x,oauthTokenSecret:W})}static credentialFromResult(x){return U.credentialFromTaggedObject(x)}static credentialFromError(x){return U.credentialFromTaggedObject(x.customData||{})}static credentialFromTaggedObject({_tokenResponse:x}){if(!x)return null;const{oauthAccessToken:W,oauthTokenSecret:Ie}=x;if(!W||!Ie)return null;try{return U.credential(W,Ie)}catch{return null}}}return U.TWITTER_SIGN_IN_METHOD="twitter.com",U.PROVIDER_ID="twitter.com",U})();function to(U,C){return Zo.apply(this,arguments)}function Zo(){return(Zo=(0,d.Z)(function*(U,C){return vt(U,"POST","/v1/accounts:signUp",Nt(U,C))})).apply(this,arguments)}class ao{constructor(C){this.user=C.user,this.providerId=C.providerId,this._tokenResponse=C._tokenResponse,this.operationType=C.operationType}static _fromIdTokenResponse(C,x,W,Ie=!1){return(0,d.Z)(function*(){const We=yield Ht._fromIdTokenResponse(C,W,Ie),on=$s(W);return new ao({user:We,providerId:on,_tokenResponse:W,operationType:x})})()}static _forOperation(C,x,W){return(0,d.Z)(function*(){yield C._updateTokensIfNecessary(W,!0);const Ie=$s(W);return new ao({user:C,providerId:Ie,_tokenResponse:W,operationType:x})})()}}function $s(U){return U.providerId?U.providerId:"phoneNumber"in U?"phone":null}function Ro(U){return us.apply(this,arguments)}function us(){return(us=(0,d.Z)(function*(U){var C;const x=zi(U);if(yield x._initializationPromise,null!==(C=x.currentUser)&&void 0!==C&&C.isAnonymous)return new ao({user:x.currentUser,providerId:null,operationType:"signIn"});const W=yield to(x,{returnSecureToken:!0}),Ie=yield ao._fromIdTokenResponse(x,"signIn",W,!0);return yield x._updateCurrentUser(Ie.user),Ie})).apply(this,arguments)}class Mo extends E.ZR{constructor(C,x,W,Ie){var We;super(x.code,x.message),this.operationType=W,this.user=Ie,Object.setPrototypeOf(this,Mo.prototype),this.customData={appName:C.name,tenantId:null!==(We=C.tenantId)&&void 0!==We?We:void 0,_serverResponse:x.customData._serverResponse,operationType:W}}static _fromErrorAndOperation(C,x,W,Ie){return new Mo(C,x,W,Ie)}}function fo(U,C,x,W){return("reauthenticate"===C?x._getReauthenticationResolver(U):x._getIdTokenResponse(U)).catch(We=>{throw"auth/multi-factor-auth-required"===We.code?Mo._fromErrorAndOperation(U,We,C,W):We})}function jo(U){return new Set(U.map(({providerId:C})=>C).filter(C=>!!C))}function qi(U,C){return O.apply(this,arguments)}function O(){return O=(0,d.Z)(function*(U,C){const x=(0,E.m9)(U);yield ce(!0,x,C);const{providerUserInfo:W}=yield function ir(U,C){return an.apply(this,arguments)}(x.auth,{idToken:yield x.getIdToken(),deleteProvider:[C]}),Ie=jo(W||[]);return x.providerData=x.providerData.filter(We=>Ie.has(We.providerId)),Ie.has("phone")||(x.phoneNumber=null),yield x.auth._persistUserIfCurrent(x),x}),O.apply(this,arguments)}function he(U,C){return N.apply(this,arguments)}function N(){return(N=(0,d.Z)(function*(U,C,x=!1){const W=yield lr(U,C._linkToIdToken(U.auth,yield U.getIdToken()),x);return ao._forOperation(U,"link",W)})).apply(this,arguments)}function ce(U,C,x){return Ge.apply(this,arguments)}function Ge(){return(Ge=(0,d.Z)(function*(U,C,x){yield Kr(C);const Ie=!1===U?"provider-already-linked":"no-such-provider";ee(jo(C.providerData).has(x)===U,C.auth,Ie)})).apply(this,arguments)}function _n(U,C){return Tr.apply(this,arguments)}function Tr(){return(Tr=(0,d.Z)(function*(U,C,x=!1){const{auth:W}=U,Ie="reauthenticate";try{const We=yield lr(U,fo(W,Ie,C,U),x);ee(We.idToken,W,"internal-error");const on=Pi(We.idToken);ee(on,W,"internal-error");const{sub:xn}=on;return ee(U.uid===xn,W,"user-mismatch"),ao._forOperation(U,Ie,We)}catch(We){throw"auth/user-not-found"===(null==We?void 0:We.code)&&ft(W,"user-mismatch"),We}})).apply(this,arguments)}function Xn(U,C){return hi.apply(this,arguments)}function hi(){return(hi=(0,d.Z)(function*(U,C,x=!1){const W="signIn",Ie=yield fo(U,W,C),We=yield ao._fromIdTokenResponse(U,W,Ie);return x||(yield U._updateCurrentUser(We.user)),We})).apply(this,arguments)}function ni(U,C){return Es.apply(this,arguments)}function Es(){return(Es=(0,d.Z)(function*(U,C){return Xn(zi(U),C)})).apply(this,arguments)}function Ci(U,C){return Hs.apply(this,arguments)}function Hs(){return(Hs=(0,d.Z)(function*(U,C){const x=(0,E.m9)(U);return yield ce(!1,x,C.providerId),he(x,C)})).apply(this,arguments)}function Do(U,C){return Ee.apply(this,arguments)}function Ee(){return(Ee=(0,d.Z)(function*(U,C){return _n((0,E.m9)(U),C)})).apply(this,arguments)}function $(){return($=(0,d.Z)(function*(U,C){return vt(U,"POST","/v1/accounts:signInWithCustomToken",Nt(U,C))})).apply(this,arguments)}function F(U,C){return S.apply(this,arguments)}function S(){return S=(0,d.Z)(function*(U,C){const x=zi(U),W=yield function le(U,C){return $.apply(this,arguments)}(x,{token:C,returnSecureToken:!0}),Ie=yield ao._fromIdTokenResponse(x,"signIn",W);return yield x._updateCurrentUser(Ie.user),Ie}),S.apply(this,arguments)}class L{constructor(C,x){this.factorId=C,this.uid=x.mfaEnrollmentId,this.enrollmentTime=new Date(x.enrolledAt).toUTCString(),this.displayName=x.displayName}static _fromServerResponse(C,x){return"phoneInfo"in x?ge._fromServerResponse(C,x):"totpInfo"in x?ht._fromServerResponse(C,x):ft(C,"internal-error")}}class ge extends L{constructor(C){super("phone",C),this.phoneNumber=C.phoneInfo}static _fromServerResponse(C,x){return new ge(x)}}class ht extends L{constructor(C){super("totp",C)}static _fromServerResponse(C,x){return new ht(x)}}function Pt(U,C,x){var W;ee((null===(W=x.url)||void 0===W?void 0:W.length)>0,U,"invalid-continue-uri"),ee(typeof x.dynamicLinkDomain>"u"||x.dynamicLinkDomain.length>0,U,"invalid-dynamic-link-domain"),C.continueUrl=x.url,C.dynamicLinkDomain=x.dynamicLinkDomain,C.canHandleCodeInApp=x.handleCodeInApp,x.iOS&&(ee(x.iOS.bundleId.length>0,U,"missing-ios-bundle-id"),C.iOSBundleId=x.iOS.bundleId),x.android&&(ee(x.android.packageName.length>0,U,"missing-android-pkg-name"),C.androidInstallApp=x.android.installApp,C.androidMinimumVersionCode=x.android.minimumVersion,C.androidPackageName=x.android.packageName)}function dn(U,C,x){return Mn.apply(this,arguments)}function Mn(){return Mn=(0,d.Z)(function*(U,C,x){var W;const Ie=zi(U),We={requestType:"PASSWORD_RESET",email:C,clientType:"CLIENT_TYPE_WEB"};if(null!==(W=Ie._getRecaptchaConfig())&&void 0!==W&&W.emailPasswordEnabled){const on=yield ys(Ie,We,"getOobCode",!0);x&&Pt(Ie,on,x),yield Mr(Ie,on)}else x&&Pt(Ie,We,x),yield Mr(Ie,We).catch(function(){var on=(0,d.Z)(function*(xn){if("auth/missing-recaptcha-token"!==xn.code)return Promise.reject(xn);{console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const _r=yield ys(Ie,We,"getOobCode",!0);x&&Pt(Ie,_r,x),yield Mr(Ie,_r)}});return function(xn){return on.apply(this,arguments)}}())}),Mn.apply(this,arguments)}function ci(U,C,x){return ui.apply(this,arguments)}function ui(){return(ui=(0,d.Z)(function*(U,C,x){yield ve((0,E.m9)(U),{oobCode:C,newPassword:x})})).apply(this,arguments)}function gi(U,C){return vi.apply(this,arguments)}function vi(){return vi=(0,d.Z)(function*(U,C){yield function nn(U,C){return Vn.apply(this,arguments)}((0,E.m9)(U),{oobCode:C})}),vi.apply(this,arguments)}function mi(U,C){return Zi.apply(this,arguments)}function Zi(){return(Zi=(0,d.Z)(function*(U,C){const x=(0,E.m9)(U),W=yield ve(x,{oobCode:C}),Ie=W.requestType;switch(ee(Ie,x,"internal-error"),Ie){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":ee(W.newEmail,x,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":ee(W.mfaInfo,x,"internal-error");default:ee(W.email,x,"internal-error")}let We=null;return W.mfaInfo&&(We=L._fromServerResponse(zi(x),W.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===W.requestType?W.newEmail:W.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===W.requestType?W.email:W.newEmail)||null,multiFactorInfo:We},operation:Ie}})).apply(this,arguments)}function qs(U,C){return xs.apply(this,arguments)}function xs(){return(xs=(0,d.Z)(function*(U,C){const{data:x}=yield mi((0,E.m9)(U),C);return x.email})).apply(this,arguments)}function Ws(U,C,x){return wi.apply(this,arguments)}function wi(){return wi=(0,d.Z)(function*(U,C,x){var W;const Ie=zi(U),We={returnSecureToken:!0,email:C,password:x,clientType:"CLIENT_TYPE_WEB"};let on;if(null!==(W=Ie._getRecaptchaConfig())&&void 0!==W&&W.emailPasswordEnabled){const oi=yield ys(Ie,We,"signUpPassword");on=to(Ie,oi)}else on=to(Ie,We).catch(function(){var oi=(0,d.Z)(function*(Ui){if("auth/missing-recaptcha-token"===Ui.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const Us=yield ys(Ie,We,"signUpPassword");return to(Ie,Us)}return Promise.reject(Ui)});return function(Ui){return oi.apply(this,arguments)}}());const xn=yield on.catch(oi=>Promise.reject(oi)),_r=yield ao._fromIdTokenResponse(Ie,"signIn",xn);return yield Ie._updateCurrentUser(_r.user),_r}),wi.apply(this,arguments)}function Cs(U,C,x){return ni((0,E.m9)(U),Bs.credential(C,x))}function no(U,C,x){return zo.apply(this,arguments)}function zo(){return zo=(0,d.Z)(function*(U,C,x){var W;const Ie=zi(U),We={requestType:"EMAIL_SIGNIN",email:C,clientType:"CLIENT_TYPE_WEB"};function on(xn,_r){ee(_r.handleCodeInApp,Ie,"argument-error"),_r&&Pt(Ie,xn,_r)}if(null!==(W=Ie._getRecaptchaConfig())&&void 0!==W&&W.emailPasswordEnabled){const xn=yield ys(Ie,We,"getOobCode",!0);on(xn,x),yield Lr(Ie,xn)}else on(We,x),yield Lr(Ie,We).catch(function(){var xn=(0,d.Z)(function*(_r){if("auth/missing-recaptcha-token"!==_r.code)return Promise.reject(_r);{console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const oi=yield ys(Ie,We,"getOobCode",!0);on(oi,x),yield Lr(Ie,oi)}});return function(_r){return xn.apply(this,arguments)}}())}),zo.apply(this,arguments)}function So(U,C){const x=Yi.parseLink(C);return"EMAIL_SIGNIN"===(null==x?void 0:x.operation)}function sa(U,C,x){return Jo.apply(this,arguments)}function Jo(){return(Jo=(0,d.Z)(function*(U,C,x){const W=(0,E.m9)(U),Ie=Bs.credentialWithLink(C,x||Ft());return ee(Ie._tenantId===(W.tenantId||null),W,"tenant-id-mismatch"),ni(W,Ie)})).apply(this,arguments)}function Sa(){return(Sa=(0,d.Z)(function*(U,C){return Qt(U,"POST","/v1/accounts:createAuthUri",Nt(U,C))})).apply(this,arguments)}function na(U,C){return Na.apply(this,arguments)}function Na(){return Na=(0,d.Z)(function*(U,C){const W={identifier:C,continueUri:qt()?Ft():"http://localhost"},{signinMethods:Ie}=yield function Da(U,C){return Sa.apply(this,arguments)}((0,E.m9)(U),W);return Ie||[]}),Na.apply(this,arguments)}function Vs(U,C){return To.apply(this,arguments)}function To(){return To=(0,d.Z)(function*(U,C){const x=(0,E.m9)(U),Ie={requestType:"VERIFY_EMAIL",idToken:yield U.getIdToken()};C&&Pt(x.auth,Ie,C);const{email:We}=yield function Ji(U,C){return Ti.apply(this,arguments)}(x.auth,Ie);We!==U.email&&(yield U.reload())}),To.apply(this,arguments)}function oa(U,C,x){return Oo.apply(this,arguments)}function Oo(){return Oo=(0,d.Z)(function*(U,C,x){const W=(0,E.m9)(U),We={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield U.getIdToken(),newEmail:C};x&&Pt(W.auth,We,x);const{email:on}=yield function Ts(U,C){return Ao.apply(this,arguments)}(W.auth,We);on!==U.email&&(yield U.reload())}),Oo.apply(this,arguments)}function M(){return(M=(0,d.Z)(function*(U,C){return Qt(U,"POST","/v1/accounts:update",C)})).apply(this,arguments)}function Z(U,C){return oe.apply(this,arguments)}function oe(){return oe=(0,d.Z)(function*(U,{displayName:C,photoURL:x}){if(void 0===C&&void 0===x)return;const W=(0,E.m9)(U),We={idToken:yield W.getIdToken(),displayName:C,photoUrl:x,returnSecureToken:!0},on=yield lr(W,function Ta(U,C){return M.apply(this,arguments)}(W.auth,We));W.displayName=on.displayName||null,W.photoURL=on.photoUrl||null;const xn=W.providerData.find(({providerId:_r})=>"password"===_r);xn&&(xn.displayName=W.displayName,xn.photoURL=W.photoURL),yield W._updateTokensIfNecessary(on)}),oe.apply(this,arguments)}function De(U,C){return at((0,E.m9)(U),C,null)}function Be(U,C){return at((0,E.m9)(U),null,C)}function at(U,C,x){return Tt.apply(this,arguments)}function Tt(){return(Tt=(0,d.Z)(function*(U,C,x){const{auth:W}=U,We={idToken:yield U.getIdToken(),returnSecureToken:!0};C&&(We.email=C),x&&(We.password=x);const on=yield lr(U,wt(W,We));yield U._updateTokensIfNecessary(on,!0)})).apply(this,arguments)}class rn{constructor(C,x,W={}){this.isNewUser=C,this.providerId=x,this.profile=W}}class Fn extends rn{constructor(C,x,W,Ie){super(C,x,W),this.username=Ie}}class sr extends rn{constructor(C,x){super(C,"facebook.com",x)}}class ri extends Fn{constructor(C,x){super(C,"github.com",x,"string"==typeof(null==x?void 0:x.login)?null==x?void 0:x.login:null)}}class Hr extends rn{constructor(C,x){super(C,"google.com",x)}}class Ms extends Fn{constructor(C,x,W){super(C,"twitter.com",x,W)}}function Gs(U){const{user:C,_tokenResponse:x}=U;return C.isAnonymous&&!x?{providerId:null,isNewUser:!1,profile:null}:function Wt(U){var C,x;if(!U)return null;const{providerId:W}=U,Ie=U.rawUserInfo?JSON.parse(U.rawUserInfo):{},We=U.isNewUser||"identitytoolkit#SignupNewUserResponse"===U.kind;if(!W&&null!=U&&U.idToken){const on=null===(x=null===(C=Pi(U.idToken))||void 0===C?void 0:C.firebase)||void 0===x?void 0:x.sign_in_provider;if(on)return new rn(We,"anonymous"!==on&&"custom"!==on?on:null)}if(!W)return null;switch(W){case"facebook.com":return new sr(We,Ie);case"github.com":return new ri(We,Ie);case"google.com":return new Hr(We,Ie);case"twitter.com":return new Ms(We,Ie,U.screenName||null);case"custom":case"anonymous":return new rn(We,null);default:return new rn(We,W,Ie)}}(x)}class ei{constructor(C,x,W){this.type=C,this.credential=x,this.auth=W}static _fromIdtoken(C,x){return new ei("enroll",C,x)}static _fromMfaPendingCredential(C){return new ei("signin",C)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(C){var x,W;if(null!=C&&C.multiFactorSession){if(null!==(x=C.multiFactorSession)&&void 0!==x&&x.pendingCredential)return ei._fromMfaPendingCredential(C.multiFactorSession.pendingCredential);if(null!==(W=C.multiFactorSession)&&void 0!==W&&W.idToken)return ei._fromIdtoken(C.multiFactorSession.idToken)}return null}}class Li{constructor(C,x,W){this.session=C,this.hints=x,this.signInResolver=W}static _fromError(C,x){const W=zi(C),Ie=x.customData._serverResponse,We=(Ie.mfaInfo||[]).map(xn=>L._fromServerResponse(W,xn));ee(Ie.mfaPendingCredential,W,"internal-error");const on=ei._fromMfaPendingCredential(Ie.mfaPendingCredential);return new Li(on,We,function(){var xn=(0,d.Z)(function*(_r){const oi=yield _r._process(W,on);delete Ie.mfaInfo,delete Ie.mfaPendingCredential;const Ui=Object.assign(Object.assign({},Ie),{idToken:oi.idToken,refreshToken:oi.refreshToken});switch(x.operationType){case"signIn":const Us=yield ao._fromIdTokenResponse(W,x.operationType,Ui);return yield W._updateCurrentUser(Us.user),Us;case"reauthenticate":return ee(x.user,W,"internal-error"),ao._forOperation(x.user,x.operationType,Ui);default:ft(W,"internal-error")}});return function(_r){return xn.apply(this,arguments)}}())}resolveSignIn(C){var x=this;return(0,d.Z)(function*(){return x.signInResolver(C)})()}}function ds(U,C){var x;const W=(0,E.m9)(U),Ie=C;return ee(C.customData.operationType,W,"argument-error"),ee(null===(x=Ie.customData._serverResponse)||void 0===x?void 0:x.mfaPendingCredential,W,"argument-error"),Li._fromError(W,Ie)}class ea{constructor(C){this.user=C,this.enrolledFactors=[],C._onReload(x=>{x.mfaInfo&&(this.enrolledFactors=x.mfaInfo.map(W=>L._fromServerResponse(C.auth,W)))})}static _fromUser(C){return new ea(C)}getSession(){var C=this;return(0,d.Z)(function*(){return ei._fromIdtoken(yield C.user.getIdToken(),C.user.auth)})()}enroll(C,x){var W=this;return(0,d.Z)(function*(){const Ie=C,We=yield W.getSession(),on=yield lr(W.user,Ie._process(W.user.auth,We,x));return yield W.user._updateTokensIfNecessary(on),W.user.reload()})()}unenroll(C){var x=this;return(0,d.Z)(function*(){const W="string"==typeof C?C:C.uid,Ie=yield x.user.getIdToken();try{const We=yield lr(x.user,function Ho(U,C){return Qt(U,"POST","/v2/accounts/mfaEnrollment:withdraw",Nt(U,C))}(x.user.auth,{idToken:Ie,mfaEnrollmentId:W}));x.enrolledFactors=x.enrolledFactors.filter(({uid:on})=>on!==W),yield x.user._updateTokensIfNecessary(We),yield x.user.reload()}catch(We){throw We}})()}}const Rr=new WeakMap;function si(U){const C=(0,E.m9)(U);return Rr.has(C)||Rr.set(C,ea._fromUser(C)),Rr.get(C)}const Gn="__sak";class Bn{constructor(C,x){this.storageRetriever=C,this.type=x}_isAvailable(){try{return this.storage?(this.storage.setItem(Gn,"1"),this.storage.removeItem(Gn),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(C,x){return this.storage.setItem(C,JSON.stringify(x)),Promise.resolve()}_get(C){const x=this.storage.getItem(C);return Promise.resolve(x?JSON.parse(x):null)}_remove(C){return this.storage.removeItem(C),Promise.resolve()}get storage(){return this.storageRetriever()}}const Fa=(()=>{class U extends Bn{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(x,W)=>this.onStorageEvent(x,W),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Dn(){const U=(0,E.z$)();return te(U)||en(U)}()&&function yn(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=ln(),this._shouldAllowMigration=!0}forAllChangedKeys(x){for(const W of Object.keys(this.listeners)){const Ie=this.storage.getItem(W),We=this.localCache[W];Ie!==We&&x(W,We,Ie)}}onStorageEvent(x,W=!1){if(!x.key)return void this.forAllChangedKeys((xn,_r,oi)=>{this.notifyListeners(xn,oi)});const Ie=x.key;if(W?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const xn=this.storage.getItem(Ie);if(x.newValue!==xn)null!==x.newValue?this.storage.setItem(Ie,x.newValue):this.storage.removeItem(Ie);else if(this.localCache[Ie]===x.newValue&&!W)return}const We=()=>{const xn=this.storage.getItem(Ie);!W&&this.localCache[Ie]===xn||this.notifyListeners(Ie,xn)},on=this.storage.getItem(Ie);!function Wn(){return(0,E.w1)()&&10===document.documentMode}()||on===x.newValue||x.newValue===x.oldValue?We():setTimeout(We,10)}notifyListeners(x,W){this.localCache[x]=W;const Ie=this.listeners[x];if(Ie)for(const We of Array.from(Ie))We(W&&JSON.parse(W))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((x,W,Ie)=>{this.onStorageEvent(new StorageEvent("storage",{key:x,oldValue:W,newValue:Ie}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(x,W){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[x]||(this.listeners[x]=new Set,this.localCache[x]=this.storage.getItem(x)),this.listeners[x].add(W)}_removeListener(x,W){this.listeners[x]&&(this.listeners[x].delete(W),0===this.listeners[x].size&&delete this.listeners[x]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(x,W){var Ie=()=>super._set,We=this;return(0,d.Z)(function*(){yield Ie().call(We,x,W),We.localCache[x]=JSON.stringify(W)})()}_get(x){var W=()=>super._get,Ie=this;return(0,d.Z)(function*(){const We=yield W().call(Ie,x);return Ie.localCache[x]=JSON.stringify(We),We})()}_remove(x){var W=()=>super._remove,Ie=this;return(0,d.Z)(function*(){yield W().call(Ie,x),delete Ie.localCache[x]})()}}return U.type="LOCAL",U})(),Ja=(()=>{class U extends Bn{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(x,W){}_removeListener(x,W){}}return U.type="SESSION",U})();let ta=(()=>{class U{constructor(x){this.eventTarget=x,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(x){const W=this.receivers.find(We=>We.isListeningto(x));if(W)return W;const Ie=new U(x);return this.receivers.push(Ie),Ie}isListeningto(x){return this.eventTarget===x}handleEvent(x){var W=this;return(0,d.Z)(function*(){const Ie=x,{eventId:We,eventType:on,data:xn}=Ie.data,_r=W.handlersMap[on];if(null==_r||!_r.size)return;Ie.ports[0].postMessage({status:"ack",eventId:We,eventType:on});const oi=Array.from(_r).map(function(){var Us=(0,d.Z)(function*(nl){return nl(Ie.origin,xn)});return function(nl){return Us.apply(this,arguments)}}()),Ui=yield function al(U){return Promise.all(U.map(function(){var C=(0,d.Z)(function*(x){try{return{fulfilled:!0,value:yield x}}catch(W){return{fulfilled:!1,reason:W}}});return function(x){return C.apply(this,arguments)}}()))}(oi);Ie.ports[0].postMessage({status:"done",eventId:We,eventType:on,response:Ui})})()}_subscribe(x,W){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[x]||(this.handlersMap[x]=new Set),this.handlersMap[x].add(W)}_unsubscribe(x,W){this.handlersMap[x]&&W&&this.handlersMap[x].delete(W),(!W||0===this.handlersMap[x].size)&&delete this.handlersMap[x],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return U.receivers=[],U})();function La(U="",C=10){let x="";for(let W=0;W<C;W++)x+=Math.floor(10*Math.random());return U+x}class ml{constructor(C){this.target=C,this.handlers=new Set}removeMessageHandler(C){C.messageChannel&&(C.messageChannel.port1.removeEventListener("message",C.onMessage),C.messageChannel.port1.close()),this.handlers.delete(C)}_send(C,x,W=50){var Ie=this;return(0,d.Z)(function*(){const We=typeof MessageChannel<"u"?new MessageChannel:null;if(!We)throw new Error("connection_unavailable");let on,xn;return new Promise((_r,oi)=>{const Ui=La("",20);We.port1.start();const Us=setTimeout(()=>{oi(new Error("unsupported_event"))},W);xn={messageChannel:We,onMessage(nl){const Ol=nl;if(Ol.data.eventId===Ui)switch(Ol.data.status){case"ack":clearTimeout(Us),on=setTimeout(()=>{oi(new Error("timeout"))},3e3);break;case"done":clearTimeout(on),_r(Ol.data.response);break;default:clearTimeout(Us),clearTimeout(on),oi(new Error("invalid_response"))}}},Ie.handlers.add(xn),We.port1.addEventListener("message",xn.onMessage),Ie.target.postMessage({eventType:C,eventId:Ui,data:x},[We.port2])}).finally(()=>{xn&&Ie.removeMessageHandler(xn)})})()}}function ks(){return window}function ll(){return typeof ks().WorkerGlobalScope<"u"&&"function"==typeof ks().importScripts}function la(){return(la=(0,d.Z)(function*(){if(null==navigator||!navigator.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const ti="firebaseLocalStorageDb",as="firebaseLocalStorage",Wa="fbase_key";class gs{constructor(C){this.request=C}toPromise(){return new Promise((C,x)=>{this.request.addEventListener("success",()=>{C(this.request.result)}),this.request.addEventListener("error",()=>{x(this.request.error)})})}}function gr(U,C){return U.transaction([as],C?"readwrite":"readonly").objectStore(as)}function pa(){const U=indexedDB.open(ti,1);return new Promise((C,x)=>{U.addEventListener("error",()=>{x(U.error)}),U.addEventListener("upgradeneeded",()=>{const W=U.result;try{W.createObjectStore(as,{keyPath:Wa})}catch(Ie){x(Ie)}}),U.addEventListener("success",(0,d.Z)(function*(){const W=U.result;W.objectStoreNames.contains(as)?C(W):(W.close(),yield function Aa(){const U=indexedDB.deleteDatabase(ti);return new gs(U).toPromise()}(),C(yield pa()))}))})}function xa(U,C,x){return el.apply(this,arguments)}function el(){return(el=(0,d.Z)(function*(U,C,x){const W=gr(U,!0).put({[Wa]:C,value:x});return new gs(W).toPromise()})).apply(this,arguments)}function Zt(){return(Zt=(0,d.Z)(function*(U,C){const x=gr(U,!1).get(C),W=yield new gs(x).toPromise();return void 0===W?null:W.value})).apply(this,arguments)}function Jt(U,C){const x=gr(U,!0).delete(C);return new gs(x).toPromise()}const ss=(()=>{class U{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var x=this;return(0,d.Z)(function*(){return x.db||(x.db=yield pa()),x.db})()}_withRetries(x){var W=this;return(0,d.Z)(function*(){let Ie=0;for(;;)try{const We=yield W._openDb();return yield x(We)}catch(We){if(Ie++>3)throw We;W.db&&(W.db.close(),W.db=void 0)}})()}initializeServiceWorkerMessaging(){var x=this;return(0,d.Z)(function*(){return ll()?x.initializeReceiver():x.initializeSender()})()}initializeReceiver(){var x=this;return(0,d.Z)(function*(){x.receiver=ta._getInstance(function ps(){return ll()?self:null}()),x.receiver._subscribe("keyChanged",function(){var W=(0,d.Z)(function*(Ie,We){return{keyProcessed:(yield x._poll()).includes(We.key)}});return function(Ie,We){return W.apply(this,arguments)}}()),x.receiver._subscribe("ping",function(){var W=(0,d.Z)(function*(Ie,We){return["keyChanged"]});return function(Ie,We){return W.apply(this,arguments)}}())})()}initializeSender(){var x=this;return(0,d.Z)(function*(){var W,Ie;if(x.activeServiceWorker=yield function $i(){return la.apply(this,arguments)}(),!x.activeServiceWorker)return;x.sender=new ml(x.activeServiceWorker);const We=yield x.sender._send("ping",{},800);We&&null!==(W=We[0])&&void 0!==W&&W.fulfilled&&null!==(Ie=We[0])&&void 0!==Ie&&Ie.value.includes("keyChanged")&&(x.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(x){var W=this;return(0,d.Z)(function*(){if(W.sender&&W.activeServiceWorker&&function Al(){var U;return(null===(U=null==navigator?void 0:navigator.serviceWorker)||void 0===U?void 0:U.controller)||null}()===W.activeServiceWorker)try{yield W.sender._send("keyChanged",{key:x},W.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,d.Z)(function*(){try{if(!indexedDB)return!1;const x=yield pa();return yield xa(x,Gn,"1"),yield Jt(x,Gn),!0}catch{}return!1})()}_withPendingWrite(x){var W=this;return(0,d.Z)(function*(){W.pendingWrites++;try{yield x()}finally{W.pendingWrites--}})()}_set(x,W){var Ie=this;return(0,d.Z)(function*(){return Ie._withPendingWrite((0,d.Z)(function*(){return yield Ie._withRetries(We=>xa(We,x,W)),Ie.localCache[x]=W,Ie.notifyServiceWorker(x)}))})()}_get(x){var W=this;return(0,d.Z)(function*(){const Ie=yield W._withRetries(We=>function nt(U,C){return Zt.apply(this,arguments)}(We,x));return W.localCache[x]=Ie,Ie})()}_remove(x){var W=this;return(0,d.Z)(function*(){return W._withPendingWrite((0,d.Z)(function*(){return yield W._withRetries(Ie=>Jt(Ie,x)),delete W.localCache[x],W.notifyServiceWorker(x)}))})()}_poll(){var x=this;return(0,d.Z)(function*(){const W=yield x._withRetries(on=>{const xn=gr(on,!1).getAll();return new gs(xn).toPromise()});if(!W)return[];if(0!==x.pendingWrites)return[];const Ie=[],We=new Set;for(const{fbase_key:on,value:xn}of W)We.add(on),JSON.stringify(x.localCache[on])!==JSON.stringify(xn)&&(x.notifyListeners(on,xn),Ie.push(on));for(const on of Object.keys(x.localCache))x.localCache[on]&&!We.has(on)&&(x.notifyListeners(on,null),Ie.push(on));return Ie})()}notifyListeners(x,W){this.localCache[x]=W;const Ie=this.listeners[x];if(Ie)for(const We of Array.from(Ie))We(W)}startPolling(){var x=this;this.stopPolling(),this.pollTimer=setInterval((0,d.Z)(function*(){return x._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(x,W){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[x]||(this.listeners[x]=new Set,this._get(x)),this.listeners[x].add(W)}_removeListener(x,W){this.listeners[x]&&(this.listeners[x].delete(W),0===this.listeners[x].size&&delete this.listeners[x]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return U.type="LOCAL",U})(),$a=1e12;class ga{constructor(C){this.auth=C,this.counter=$a,this._widgets=new Map}render(C,x){const W=this.counter;return this._widgets.set(W,new Il(C,this.auth.name,x||{})),this.counter++,W}reset(C){var x;const W=C||$a;null===(x=this._widgets.get(W))||void 0===x||x.delete(),this._widgets.delete(W)}getResponse(C){var x;return(null===(x=this._widgets.get(C||$a))||void 0===x?void 0:x.getResponse())||""}execute(C){var x=this;return(0,d.Z)(function*(){var W;return null===(W=x._widgets.get(C||$a))||void 0===W||W.execute(),""})()}}class Il{constructor(C,x,W){this.params=W,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const Ie="string"==typeof C?document.getElementById(C):C;ee(Ie,"argument-error",{appName:x}),this.container=Ie,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Ya(U){const C=[],x="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let W=0;W<U;W++)C.push(x.charAt(Math.floor(62*Math.random())));return C.join("")}(50);const{callback:C,"expired-callback":x}=this.params;if(C)try{C(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,x)try{x()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Xo=zr("rcb"),xl=new mt(3e4,6e4);class V{constructor(){var C;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(C=ks().grecaptcha)||void 0===C||!C.render)}load(C,x=""){return ee(function H(U){return U.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(U)}(x),C,"argument-error"),this.shouldResolveImmediately(x)&&pr(ks().grecaptcha)?Promise.resolve(ks().grecaptcha):new Promise((W,Ie)=>{const We=ks().setTimeout(()=>{Ie(It(C,"network-request-failed"))},xl.get());ks()[Xo]=()=>{ks().clearTimeout(We),delete ks()[Xo];const xn=ks().grecaptcha;if(!xn||!pr(xn))return void Ie(It(C,"internal-error"));const _r=xn.render;xn.render=(oi,Ui)=>{const Us=_r(oi,Ui);return this.counter++,Us},this.hostLanguage=x,W(xn)},Xr(`https://www.google.com/recaptcha/api.js??${(0,E.xO)({onload:Xo,render:"explicit",hl:x})}`).catch(()=>{clearTimeout(We),Ie(It(C,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(C){var x;return!(null===(x=ks().grecaptcha)||void 0===x||!x.render)&&(C===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class R{load(C){return(0,d.Z)(function*(){return new ga(C)})()}clearedOneInstance(){}}const q="recaptcha",me={theme:"light",type:"image"};class Xe{constructor(C,x=Object.assign({},me),W){this.parameters=x,this.type=q,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=zi(W),this.isInvisible="invisible"===this.parameters.size,ee(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const Ie="string"==typeof C?document.getElementById(C):C;ee(Ie,this.auth,"argument-error"),this.container=Ie,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new R:new V,this.validateStartingState()}verify(){var C=this;return(0,d.Z)(function*(){C.assertNotDestroyed();const x=yield C.render(),W=C.getAssertedRecaptcha();return W.getResponse(x)||new Promise(We=>{const on=xn=>{xn&&(C.tokenChangeListeners.delete(on),We(xn))};C.tokenChangeListeners.add(on),C.isInvisible&&W.execute(x)})})()}render(){try{this.assertNotDestroyed()}catch(C){return Promise.reject(C)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(C=>{throw this.renderPromise=null,C})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(C=>{this.container.removeChild(C)})}validateStartingState(){ee(!this.parameters.sitekey,this.auth,"argument-error"),ee(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),ee(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(C){return x=>{if(this.tokenChangeListeners.forEach(W=>W(x)),"function"==typeof C)C(x);else if("string"==typeof C){const W=ks()[C];"function"==typeof W&&W(x)}}}assertNotDestroyed(){ee(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var C=this;return(0,d.Z)(function*(){if(yield C.init(),!C.widgetId){let x=C.container;if(!C.isInvisible){const W=document.createElement("div");x.appendChild(W),x=W}C.widgetId=C.getAssertedRecaptcha().render(x,C.parameters)}return C.widgetId})()}init(){var C=this;return(0,d.Z)(function*(){ee(qt()&&!ll(),C.auth,"internal-error"),yield function Ue(){let U=null;return new Promise(C=>{"complete"!==document.readyState?(U=()=>C(),window.addEventListener("load",U)):C()}).catch(C=>{throw U&&window.removeEventListener("load",U),C})}(),C.recaptcha=yield C._recaptchaLoader.load(C.auth,C.auth.languageCode||void 0);const x=yield function Bt(U){return Kt.apply(this,arguments)}(C.auth);ee(x,C.auth,"internal-error"),C.parameters.sitekey=x})()}getAssertedRecaptcha(){return ee(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Yt{constructor(C,x){this.verificationId=C,this.onConfirmation=x}confirm(C){const x=bs._fromVerification(this.verificationId,C);return this.onConfirmation(x)}}function An(U,C,x){return Ar.apply(this,arguments)}function Ar(){return(Ar=(0,d.Z)(function*(U,C,x){const W=zi(U),Ie=yield l(W,C,(0,E.m9)(x));return new Yt(Ie,We=>ni(W,We))})).apply(this,arguments)}function Mi(U,C,x){return Zr.apply(this,arguments)}function Zr(){return(Zr=(0,d.Z)(function*(U,C,x){const W=(0,E.m9)(U);yield ce(!1,W,"phone");const Ie=yield l(W.auth,C,(0,E.m9)(x));return new Yt(Ie,We=>Ci(W,We))})).apply(this,arguments)}function ko(U,C,x){return m.apply(this,arguments)}function m(){return(m=(0,d.Z)(function*(U,C,x){const W=(0,E.m9)(U),Ie=yield l(W.auth,C,(0,E.m9)(x));return new Yt(Ie,We=>Do(W,We))})).apply(this,arguments)}function l(U,C,x){return s.apply(this,arguments)}function s(){return s=(0,d.Z)(function*(U,C,x){var W;const Ie=yield x.verify();try{let We;if(ee("string"==typeof Ie,U,"argument-error"),ee(x.type===q,U,"argument-error"),We="string"==typeof C?{phoneNumber:C}:C,"session"in We){const on=We.session;if("phoneNumber"in We)return ee("enroll"===on.type,U,"internal-error"),(yield function Ps(U,C){return Qt(U,"POST","/v2/accounts/mfaEnrollment:start",Nt(U,C))}(U,{idToken:on.credential,phoneEnrollmentInfo:{phoneNumber:We.phoneNumber,recaptchaToken:Ie}})).phoneSessionInfo.sessionInfo;{ee("signin"===on.type,U,"internal-error");const xn=(null===(W=We.multiFactorHint)||void 0===W?void 0:W.uid)||We.multiFactorUid;return ee(xn,U,"missing-multi-factor-info"),(yield function Qi(U,C){return Qt(U,"POST","/v2/accounts/mfaSignIn:start",Nt(U,C))}(U,{mfaPendingCredential:on.credential,mfaEnrollmentId:xn,phoneSignInInfo:{recaptchaToken:Ie}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:on}=yield function es(U,C){return eo.apply(this,arguments)}(U,{phoneNumber:We.phoneNumber,recaptchaToken:Ie});return on}}finally{x._reset()}}),s.apply(this,arguments)}function c(U,C){return f.apply(this,arguments)}function f(){return(f=(0,d.Z)(function*(U,C){yield he((0,E.m9)(U),C)})).apply(this,arguments)}let _=(()=>{class U{constructor(x){this.providerId=U.PROVIDER_ID,this.auth=zi(x)}verifyPhoneNumber(x,W){return l(this.auth,x,(0,E.m9)(W))}static credential(x,W){return bs._fromVerification(x,W)}static credentialFromResult(x){return U.credentialFromTaggedObject(x)}static credentialFromError(x){return U.credentialFromTaggedObject(x.customData||{})}static credentialFromTaggedObject({_tokenResponse:x}){if(!x)return null;const{phoneNumber:W,temporaryProof:Ie}=x;return W&&Ie?bs._fromTokenResponse(W,Ie):null}}return U.PROVIDER_ID="phone",U.PHONE_SIGN_IN_METHOD="phone",U})();function I(U,C){return C?zn(C):(ee(U._popupRedirectResolver,U,"argument-error"),U._popupRedirectResolver)}class A extends ne{constructor(C){super("custom","custom"),this.params=C}_getIdTokenResponse(C){return qr(C,this._buildIdpRequest())}_linkToIdToken(C,x){return qr(C,this._buildIdpRequest(x))}_getReauthenticationResolver(C){return qr(C,this._buildIdpRequest())}_buildIdpRequest(C){const x={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return C&&(x.idToken=C),x}}function k(U){return Xn(U.auth,new A(U),U.bypassAuthState)}function Y(U){const{auth:C,user:x}=U;return ee(x,C,"internal-error"),_n(x,new A(U),U.bypassAuthState)}function ue(U){return Ce.apply(this,arguments)}function Ce(){return(Ce=(0,d.Z)(function*(U){const{auth:C,user:x}=U;return ee(x,C,"internal-error"),he(x,new A(U),U.bypassAuthState)})).apply(this,arguments)}class je{constructor(C,x,W,Ie,We=!1){this.auth=C,this.resolver=W,this.user=Ie,this.bypassAuthState=We,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(x)?x:[x]}execute(){var C=this;return new Promise(function(){var x=(0,d.Z)(function*(W,Ie){C.pendingPromise={resolve:W,reject:Ie};try{C.eventManager=yield C.resolver._initialize(C.auth),yield C.onExecution(),C.eventManager.registerConsumer(C)}catch(We){C.reject(We)}});return function(W,Ie){return x.apply(this,arguments)}}())}onAuthEvent(C){var x=this;return(0,d.Z)(function*(){const{urlResponse:W,sessionId:Ie,postBody:We,tenantId:on,error:xn,type:_r}=C;if(xn)return void x.reject(xn);const oi={auth:x.auth,requestUri:W,sessionId:Ie,tenantId:on||void 0,postBody:We||void 0,user:x.user,bypassAuthState:x.bypassAuthState};try{x.resolve(yield x.getIdpTask(_r)(oi))}catch(Ui){x.reject(Ui)}})()}onError(C){this.reject(C)}getIdpTask(C){switch(C){case"signInViaPopup":case"signInViaRedirect":return k;case"linkViaPopup":case"linkViaRedirect":return ue;case"reauthViaPopup":case"reauthViaRedirect":return Y;default:ft(this.auth,"internal-error")}}resolve(C){Dt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(C),this.unregisterAndCleanUp()}reject(C){Dt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(C),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Qe=new mt(2e3,1e4);function Et(U,C,x){return At.apply(this,arguments)}function At(){return(At=(0,d.Z)(function*(U,C,x){const W=zi(U);Ct(U,C,Ys);const Ie=I(W,x);return new Qn(W,"signInViaPopup",C,Ie).executeNotNull()})).apply(this,arguments)}function Xt(U,C,x){return In.apply(this,arguments)}function In(){return(In=(0,d.Z)(function*(U,C,x){const W=(0,E.m9)(U);Ct(W.auth,C,Ys);const Ie=I(W.auth,x);return new Qn(W.auth,"reauthViaPopup",C,Ie,W).executeNotNull()})).apply(this,arguments)}function wn(U,C,x){return tr.apply(this,arguments)}function tr(){return(tr=(0,d.Z)(function*(U,C,x){const W=(0,E.m9)(U);Ct(W.auth,C,Ys);const Ie=I(W.auth,x);return new Qn(W.auth,"linkViaPopup",C,Ie,W).executeNotNull()})).apply(this,arguments)}let Qn=(()=>{class U extends je{constructor(x,W,Ie,We,on){super(x,W,We,on),this.provider=Ie,this.authWindow=null,this.pollId=null,U.currentPopupAction&&U.currentPopupAction.cancel(),U.currentPopupAction=this}executeNotNull(){var x=this;return(0,d.Z)(function*(){const W=yield x.execute();return ee(W,x.auth,"internal-error"),W})()}onExecution(){var x=this;return(0,d.Z)(function*(){Dt(1===x.filter.length,"Popup operations only handle one event");const W=La();x.authWindow=yield x.resolver._openPopup(x.auth,x.provider,x.filter[0],W),x.authWindow.associatedEvent=W,x.resolver._originValidation(x.auth).catch(Ie=>{x.reject(Ie)}),x.resolver._isIframeWebStorageSupported(x.auth,Ie=>{Ie||x.reject(It(x.auth,"web-storage-unsupported"))}),x.pollUserCancellation()})()}get eventId(){var x;return(null===(x=this.authWindow)||void 0===x?void 0:x.associatedEvent)||null}cancel(){this.reject(It(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,U.currentPopupAction=null}pollUserCancellation(){const x=()=>{var W,Ie;this.pollId=null!==(Ie=null===(W=this.authWindow)||void 0===W?void 0:W.window)&&void 0!==Ie&&Ie.closed?window.setTimeout(()=>{this.pollId=null,this.reject(It(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(x,Qe.get())};x()}}return U.currentPopupAction=null,U})();const Kn="pendingRedirect",or=new Map;class dr extends je{constructor(C,x,W=!1){super(C,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],x,void 0,W),this.eventId=null}execute(){var C=()=>super.execute,x=this;return(0,d.Z)(function*(){let W=or.get(x.auth._key());if(!W){try{const We=(yield function vr(U,C){return fi.apply(this,arguments)}(x.resolver,x.auth))?yield C().call(x):null;W=()=>Promise.resolve(We)}catch(Ie){W=()=>Promise.reject(Ie)}or.set(x.auth._key(),W)}return x.bypassAuthState||or.set(x.auth._key(),()=>Promise.resolve(null)),W()})()}onAuthEvent(C){var x=()=>super.onAuthEvent,W=this;return(0,d.Z)(function*(){if("signInViaRedirect"===C.type)return x().call(W,C);if("unknown"!==C.type){if(C.eventId){const Ie=yield W.auth._redirectUserForId(C.eventId);if(Ie)return W.user=Ie,x().call(W,C);W.resolve(null)}}else W.resolve(null)})()}onExecution(){return(0,d.Z)(function*(){})()}cleanUp(){}}function fi(){return(fi=(0,d.Z)(function*(U,C){const x=Ns(C),W=os(U);if(!(yield W._isAvailable()))return!1;const Ie="true"===(yield W._get(x));return yield W._remove(x),Ie})).apply(this,arguments)}function Oi(U,C){return Vr.apply(this,arguments)}function Vr(){return(Vr=(0,d.Z)(function*(U,C){return os(U)._set(Ns(C),"true")})).apply(this,arguments)}function ms(){or.clear()}function Rs(U,C){or.set(U._key(),C)}function os(U){return zn(U._redirectPersistence)}function Ns(U){return Or(Kn,U.config.apiKey,U.name)}function wr(U,C,x){return function Ir(U,C,x){return Ii.apply(this,arguments)}(U,C,x)}function Ii(){return(Ii=(0,d.Z)(function*(U,C,x){const W=zi(U);Ct(U,C,Ys),yield W._initializationPromise;const Ie=I(W,x);return yield Oi(Ie,W),Ie._openRedirect(W,C,"signInViaRedirect")})).apply(this,arguments)}function Ki(U,C,x){return function ns(U,C,x){return ua.apply(this,arguments)}(U,C,x)}function ua(){return(ua=(0,d.Z)(function*(U,C,x){const W=(0,E.m9)(U);Ct(W.auth,C,Ys),yield W.auth._initializationPromise;const Ie=I(W.auth,x);yield Oi(Ie,W.auth);const We=yield ra(W);return Ie._openRedirect(W.auth,C,"reauthViaRedirect",We)})).apply(this,arguments)}function po(U,C,x){return function Ss(U,C,x){return ls.apply(this,arguments)}(U,C,x)}function ls(){return(ls=(0,d.Z)(function*(U,C,x){const W=(0,E.m9)(U);Ct(W.auth,C,Ys),yield W.auth._initializationPromise;const Ie=I(W.auth,x);yield ce(!1,W,C.providerId),yield Oi(Ie,W.auth);const We=yield ra(W);return Ie._openRedirect(W.auth,C,"linkViaRedirect",We)})).apply(this,arguments)}function wa(U,C){return Va.apply(this,arguments)}function Va(){return(Va=(0,d.Z)(function*(U,C){return yield zi(U)._initializationPromise,Vo(U,C,!1)})).apply(this,arguments)}function Vo(U,C){return Ml.apply(this,arguments)}function Ml(){return(Ml=(0,d.Z)(function*(U,C,x=!1){const W=zi(U),Ie=I(W,C),on=yield new dr(W,Ie,x).execute();return on&&!x&&(delete on.user._redirectEventId,yield W._persistUserIfCurrent(on.user),yield W._setRedirectUser(null,C)),on})).apply(this,arguments)}function ra(U){return tl.apply(this,arguments)}function tl(){return(tl=(0,d.Z)(function*(U){const C=La(`${U.uid}:::`);return U._redirectEventId=C,yield U.auth._setRedirectUser(U),yield U.auth._persistUserIfCurrent(U),C})).apply(this,arguments)}class yl{constructor(C){this.auth=C,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(C){this.consumers.add(C),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,C)&&(this.sendToConsumer(this.queuedRedirectEvent,C),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(C){this.consumers.delete(C)}onEvent(C){if(this.hasEventBeenHandled(C))return!1;let x=!1;return this.consumers.forEach(W=>{this.isEventForConsumer(C,W)&&(x=!0,this.sendToConsumer(C,W),this.saveEventToCache(C))}),this.hasHandledPotentialRedirect||!function Xl(U){switch(U.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Nc(U);default:return!1}}(C)||(this.hasHandledPotentialRedirect=!0,x||(this.queuedRedirectEvent=C,x=!0)),x}sendToConsumer(C,x){var W;if(C.error&&!Nc(C)){const Ie=(null===(W=C.error.code)||void 0===W?void 0:W.split("auth/")[1])||"internal-error";x.onError(It(this.auth,Ie))}else x.onAuthEvent(C)}isEventForConsumer(C,x){const W=null===x.eventId||!!C.eventId&&C.eventId===x.eventId;return x.filter.includes(C.type)&&W}hasEventBeenHandled(C){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(vl(C))}saveEventToCache(C){this.cachedEventUids.add(vl(C)),this.lastProcessedEventTime=Date.now()}}function vl(U){return[U.type,U.eventId,U.sessionId,U.tenantId].filter(C=>C).join("-")}function Nc({type:U,error:C}){return"unknown"===U&&"auth/no-auth-event"===(null==C?void 0:C.code)}function Ql(U){return Ll.apply(this,arguments)}function Ll(){return(Ll=(0,d.Z)(function*(U,C={}){return Qt(U,"GET","/v1/projects",C)})).apply(this,arguments)}const Fc=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,da=/^https?/;function hl(){return(hl=(0,d.Z)(function*(U){if(U.config.emulator)return;const{authorizedDomains:C}=yield Ql(U);for(const x of C)try{if(cl(x))return}catch{}ft(U,"unauthorized-domain")})).apply(this,arguments)}function cl(U){const C=Ft(),{protocol:x,hostname:W}=new URL(C);if(U.startsWith("chrome-extension://")){const on=new URL(U);return""===on.hostname&&""===W?"chrome-extension:"===x&&U.replace("chrome-extension://","")===C.replace("chrome-extension://",""):"chrome-extension:"===x&&on.hostname===W}if(!da.test(x))return!1;if(Fc.test(U))return W===U;const Ie=U.replace(/\./g,"\\.");return new RegExp("^(.+\\."+Ie+"|"+Ie+")$","i").test(W)}const Ga=new mt(3e4,6e4);function ec(){const U=ks().___jsl;if(null!=U&&U.H)for(const C of Object.keys(U.H))if(U.H[C].r=U.H[C].r||[],U.H[C].L=U.H[C].L||[],U.H[C].r=[...U.H[C].L],U.CP)for(let x=0;x<U.CP.length;x++)U.CP[x]=null}let fl=null;const Lc=new mt(5e3,15e3),Df="__/auth/iframe",pl="emulator/auth/iframe",md={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Wo=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function tc(U){const C=U.config;ee(C.authDomain,U,"auth-domain-config-required");const x=C.emulator?et(C,pl):`https://${U.config.authDomain}/${Df}`,W={apiKey:C.apiKey,appName:U.name,v:be.SDK_VERSION},Ie=Wo.get(U.config.apiHost);Ie&&(W.eid=Ie);const We=U._getFrameworks();return We.length&&(W.fw=We.join(",")),`${x}?${(0,E.xO)(W).slice(1)}`}function ba(){return ba=(0,d.Z)(function*(U){const C=yield function Pl(U){return fl=fl||function vc(U){return new Promise((C,x)=>{var W,Ie,We;function on(){ec(),gapi.load("gapi.iframes",{callback:()=>{C(gapi.iframes.getContext())},ontimeout:()=>{ec(),x(It(U,"network-request-failed"))},timeout:Ga.get()})}if(null!==(Ie=null===(W=ks().gapi)||void 0===W?void 0:W.iframes)&&void 0!==Ie&&Ie.Iframe)C(gapi.iframes.getContext());else{if(null===(We=ks().gapi)||void 0===We||!We.load){const xn=zr("iframefcb");return ks()[xn]=()=>{gapi.load?on():x(It(U,"network-request-failed"))},Xr(`https://apis.google.com/js/api.js?onload=${xn}`).catch(_r=>x(_r))}on()}}).catch(C=>{throw fl=null,C})}(U),fl}(U),x=ks().gapi;return ee(x,U,"internal-error"),C.open({where:document.body,url:tc(U),messageHandlersFilter:x.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:md,dontclear:!0},W=>new Promise(function(){var Ie=(0,d.Z)(function*(We,on){yield W.restyle({setHideOnLeave:!1});const xn=It(U,"network-request-failed"),_r=ks().setTimeout(()=>{on(xn)},Lc.get());function oi(){ks().clearTimeout(_r),We(W)}W.ping(oi).then(oi,()=>{on(xn)})});return function(We,on){return Ie.apply(this,arguments)}}()))}),ba.apply(this,arguments)}const iu={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class co{constructor(C){this.window=C,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const rc="__/auth/handler",su="emulator/auth/handler",Bc=encodeURIComponent("fac");function ic(U,C,x,W,Ie,We){return Rl.apply(this,arguments)}function Rl(){return(Rl=(0,d.Z)(function*(U,C,x,W,Ie,We){ee(U.config.authDomain,U,"auth-domain-config-required"),ee(U.config.apiKey,U,"invalid-api-key");const on={apiKey:U.config.apiKey,appName:U.name,authType:x,redirectUrl:W,v:be.SDK_VERSION,eventId:Ie};if(C instanceof Ys){C.setDefaultLanguage(U.languageCode),on.providerId=C.providerId||"",(0,E.xb)(C.getCustomParameters())||(on.customParameters=JSON.stringify(C.getCustomParameters()));for(const[Ui,Us]of Object.entries(We||{}))on[Ui]=Us}if(C instanceof Io){const Ui=C.getScopes().filter(Us=>""!==Us);Ui.length>0&&(on.scopes=Ui.join(","))}U.tenantId&&(on.tid=U.tenantId);const xn=on;for(const Ui of Object.keys(xn))void 0===xn[Ui]&&delete xn[Ui];const _r=yield U._getAppCheckToken(),oi=_r?`#${Bc}=${encodeURIComponent(_r)}`:"";return`${function _d({config:U}){return U.emulator?et(U,su):`https://${U.authDomain}/${rc}`}(U)}?${(0,E.xO)(xn).slice(1)}${oi}`})).apply(this,arguments)}const sc="webStorageSupport",$c=class Fu{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ja,this._completeRedirectFn=Vo,this._overrideRedirectResult=Rs}_openPopup(C,x,W,Ie){var We=this;return(0,d.Z)(function*(){var on;Dt(null===(on=We.eventManagers[C._key()])||void 0===on?void 0:on.manager,"_initialize() not called before _openPopup()");const xn=yield ic(C,x,W,Ft(),Ie);return function Uo(U,C,x,W=500,Ie=600){const We=Math.max((window.screen.availHeight-Ie)/2,0).toString(),on=Math.max((window.screen.availWidth-W)/2,0).toString();let xn="";const _r=Object.assign(Object.assign({},iu),{width:W.toString(),height:Ie.toString(),top:We,left:on}),oi=(0,E.z$)().toLowerCase();x&&(xn=se(oi)?"_blank":x),ie(oi)&&(C=C||"http://localhost",_r.scrollbars="yes");const Ui=Object.entries(_r).reduce((nl,[Ol,Hc])=>`${nl}${Ol}=${Hc},`,"");if(function gn(U=(0,E.z$)()){var C;return en(U)&&!(null===(C=window.navigator)||void 0===C||!C.standalone)}(oi)&&"_self"!==xn)return function _l(U,C){const x=document.createElement("a");x.href=U,x.target=C;const W=document.createEvent("MouseEvent");W.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),x.dispatchEvent(W)}(C||"",xn),new co(null);const Us=window.open(C||"",xn,Ui);ee(Us,U,"popup-blocked");try{Us.focus()}catch{}return new co(Us)}(C,xn,La())})()}_openRedirect(C,x,W,Ie){var We=this;return(0,d.Z)(function*(){return yield We._originValidation(C),function Bo(U){ks().location.href=U}(yield ic(C,x,W,Ft(),Ie)),new Promise(()=>{})})()}_initialize(C){const x=C._key();if(this.eventManagers[x]){const{manager:Ie,promise:We}=this.eventManagers[x];return Ie?Promise.resolve(Ie):(Dt(We,"If manager is not set, promise should be"),We)}const W=this.initAndGetManager(C);return this.eventManagers[x]={promise:W},W.catch(()=>{delete this.eventManagers[x]}),W}initAndGetManager(C){var x=this;return(0,d.Z)(function*(){const W=yield function Fo(U){return ba.apply(this,arguments)}(C),Ie=new yl(C);return W.register("authEvent",We=>(ee(null==We?void 0:We.authEvent,C,"invalid-auth-event"),{status:Ie.onEvent(We.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),x.eventManagers[C._key()]={manager:Ie},x.iframes[C._key()]=W,Ie})()}_isIframeWebStorageSupported(C,x){this.iframes[C._key()].send(sc,{type:sc},Ie=>{var We;const on=null===(We=null==Ie?void 0:Ie[0])||void 0===We?void 0:We[sc];void 0!==on&&x(!!on),ft(C,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(C){const x=C._key();return this.originValidationPromises[x]||(this.originValidationPromises[x]=function Jl(U){return hl.apply(this,arguments)}(C)),this.originValidationPromises[x]}get _shouldInitProactively(){return ln()||te()||en()}};class bd{constructor(C){this.factorId=C}_process(C,x,W){switch(x.type){case"enroll":return this._finalizeEnroll(C,x.credential,W);case"signin":return this._finalizeSignIn(C,x.credential);default:return Gt("unexpected MultiFactorSessionType")}}}class Vc extends bd{constructor(C){super("phone"),this.credential=C}static _fromCredential(C){return new Vc(C)}_finalizeEnroll(C,x,W){return function lo(U,C){return Qt(U,"POST","/v2/accounts/mfaEnrollment:finalize",Nt(U,C))}(C,{idToken:x,displayName:W,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(C,x){return function Gi(U,C){return Qt(U,"POST","/v2/accounts/mfaSignIn:finalize",Nt(U,C))}(C,{mfaPendingCredential:x,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let dh=(()=>{class U{constructor(){}static assertion(x){return Vc._fromCredential(x)}}return U.FACTOR_ID="phone",U})();var Uc="@firebase/auth";class Cl{constructor(C){this.auth=C,this.internalListeners=new Map}getUid(){var C;return this.assertAuthConfigured(),(null===(C=this.auth.currentUser)||void 0===C?void 0:C.uid)||null}getToken(C){var x=this;return(0,d.Z)(function*(){return x.assertAuthConfigured(),yield x.auth._initializationPromise,x.auth.currentUser?{accessToken:yield x.auth.currentUser.getIdToken(C)}:null})()}addAuthTokenListener(C){if(this.assertAuthConfigured(),this.internalListeners.has(C))return;const x=this.auth.onIdTokenChanged(W=>{C((null==W?void 0:W.stsTokenManager.accessToken)||null)});this.internalListeners.set(C,x),this.updateProactiveRefresh()}removeAuthTokenListener(C){this.assertAuthConfigured();const x=this.internalListeners.get(C);x&&(this.internalListeners.delete(C),x(),this.updateProactiveRefresh())}assertAuthConfigured(){ee(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const zc=(0,E.Pz)("authIdTokenMaxAge")||300;let qa=null;const Ed=U=>function(){var C=(0,d.Z)(function*(x){const W=x&&(yield x.getIdTokenResult()),Ie=W&&((new Date).getTime()-Date.parse(W.issuedAtTime))/1e3;if(Ie&&Ie>zc)return;const We=null==W?void 0:W.token;qa!==We&&(qa=We,yield fetch(U,{method:We?"POST":"DELETE",headers:We?{Authorization:`Bearer ${We}`}:{}}))});return function(x){return C.apply(this,arguments)}}();function Hl(U=(0,be.getApp)()){const C=(0,be._getProvider)(U,"auth");if(C.isInitialized())return C.getImmediate();const x=function Js(U,C){const x=(0,be._getProvider)(U,"auth");if(x.isInitialized()){const Ie=x.getImmediate(),We=x.getOptions();if((0,E.vZ)(We,null!=C?C:{}))return Ie;ft(Ie,"already-initialized")}return x.initialize({options:C})}(U,{popupRedirectResolver:$c,persistence:[ss,Fa,Ja]}),W=(0,E.Pz)("authTokenSyncURL");if(W){const We=Ed(W);(function Pe(U,C,x){(0,E.m9)(U).beforeAuthStateChanged(C,x)})(x,We,()=>We(x.currentUser)),function Q(U,C,x,W){(0,E.m9)(U).onIdTokenChanged(C,x,W)}(x,on=>We(on))}const Ie=(0,E.q4)("auth");return Ie&&js(x,`http://${Ie}`),x}!function bc(U){(0,be._registerComponent)(new ze.wA("auth",(C,{options:x})=>{const W=C.getProvider("app").getImmediate(),Ie=C.getProvider("heartbeat"),We=C.getProvider("app-check-internal"),{apiKey:on,authDomain:xn}=W.options;ee(on&&!on.includes(":"),"invalid-api-key",{appName:W.name});const _r={apiKey:on,authDomain:xn,clientPlatform:U,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:kn(U)},oi=new ts(W,Ie,We,_r);return function Is(U,C){const x=(null==C?void 0:C.persistence)||[],W=(Array.isArray(x)?x:[x]).map(zn);null!=C&&C.errorMap&&U._updateErrorMap(C.errorMap),U._initializeWithPersistence(W,null==C?void 0:C.popupRedirectResolver)}(oi,x),oi},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((C,x,W)=>{C.getProvider("auth-internal").initialize()})),(0,be._registerComponent)(new ze.wA("auth-internal",C=>{const x=zi(C.getProvider("auth").getImmediate());return new Cl(x)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,be.registerVersion)(Uc,"0.23.2",function lu(U){switch(U){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(U)),(0,be.registerVersion)(Uc,"0.23.2","esm2017")}("Browser")},2810:(Jn,Lt,z)=>{"use strict";z.d(Lt,{u7:()=>Ef,Jj:()=>Yl,IX:()=>Ty,my:()=>fa,xU:()=>Rc,Lz:()=>Pc,WA:()=>Zn,F8:()=>Pu,$q:()=>ql,W:()=>fd,EK:()=>ps,PU:()=>gc,l7:()=>ra,Ky:()=>gr,Xb:()=>gs,Cf:()=>ro,K9:()=>Gn,Me:()=>Ki,yq:()=>Ho,Wi:()=>Cy,ET:()=>ol,Ab:()=>__,vr:()=>v_,Fc:()=>_0,hJ:()=>th,B$:()=>nh,at:()=>ad,oe:()=>u_,AK:()=>qy,TF:()=>b0,JU:()=>ld,ST:()=>om,fH:()=>jv,Ix:()=>Wv,Wu:()=>$y,Lx:()=>By,qY:()=>Ha,GL:()=>ah,QT:()=>pd,kl:()=>a_,Xk:()=>bm,PL:()=>I0,UQ:()=>C0,zN:()=>l_,ad:()=>Ay,nP:()=>b_,b9:()=>Fy,vh:()=>fm,Pb:()=>w0,L$:()=>Gv,cf:()=>Hy,sc:()=>d_,Xo:()=>t_,IO:()=>Jv,iE:()=>xu,Eo:()=>rh,i3:()=>Yy,Bt:()=>y_,pl:()=>c_,Ub:()=>lo,qK:()=>_m,TQ:()=>Ly,e0:()=>pm,r7:()=>zy,Mx:()=>Hv,ar:()=>e_});var Re,d=z(5861),E=z(6881),be=z(4859),ke=z(1877),qe=z(2090),ze=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Se={},Ze=Ze||{},Fe=ze||self;function xe(){}function it(i){var e=typeof i;return"array"==(e="object"!=e?e:i?Array.isArray(i)?"array":e:"null")||"object"==e&&"number"==typeof i.length}function Me(i){var e=typeof i;return"object"==e&&null!=i||"function"==e}var pt="closure_uid_"+(1e9*Math.random()>>>0),jt=0;function He(i,e,t){return i.call.apply(i.bind,arguments)}function $e(i,e,t){if(!i)throw Error();if(2<arguments.length){var a=Array.prototype.slice.call(arguments,2);return function(){var h=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(h,a),i.apply(e,h)}}return function(){return i.apply(e,arguments)}}function kt(i,e,t){return(kt=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?He:$e).apply(null,arguments)}function Mt(i,e){var t=Array.prototype.slice.call(arguments,1);return function(){var a=t.slice();return a.push.apply(a,arguments),i.apply(this,a)}}function ft(i,e){function t(){}t.prototype=e.prototype,i.$=e.prototype,i.prototype=new t,i.prototype.constructor=i,i.ac=function(a,h,b){for(var T=Array(arguments.length-2),G=2;G<arguments.length;G++)T[G-2]=arguments[G];return e.prototype[h].apply(a,T)}}function It(){this.s=this.s,this.o=this.o}It.prototype.s=!1,It.prototype.ra=function(){!this.s&&(this.s=!0,this.N(),0)&&function lt(i){Object.prototype.hasOwnProperty.call(i,pt)&&i[pt]||(i[pt]=++jt)}(this)},It.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Ct=Array.prototype.indexOf?function(i,e){return Array.prototype.indexOf.call(i,e,void 0)}:function(i,e){if("string"==typeof i)return"string"!=typeof e||1!=e.length?-1:i.indexOf(e,0);for(let t=0;t<i.length;t++)if(t in i&&i[t]===e)return t;return-1};function yt(i){const e=i.length;if(0<e){const t=Array(e);for(let a=0;a<e;a++)t[a]=i[a];return t}return[]}function ee(i,e){for(let t=1;t<arguments.length;t++){const a=arguments[t];if(it(a)){const h=i.length||0,b=a.length||0;i.length=h+b;for(let T=0;T<b;T++)i[h+T]=a[T]}else i.push(a)}}function Gt(i,e){this.type=i,this.g=this.target=e,this.defaultPrevented=!1}Gt.prototype.h=function(){this.defaultPrevented=!0};var Dt=function(){if(!Fe.addEventListener||!Object.defineProperty)return!1;var i=!1,e=Object.defineProperty({},"passive",{get:function(){i=!0}});try{Fe.addEventListener("test",xe,e),Fe.removeEventListener("test",xe,e)}catch{}return i}();function Ft(i){return/^[\s\xa0]*$/.test(i)}var qt=String.prototype.trim?function(i){return i.trim()}:function(i){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(i)[1]};function Te(i,e){return i<e?-1:i>e?1:0}function Je(){var i=Fe.navigator;return i&&(i=i.userAgent)?i:""}function ct(i){return-1!=Je().indexOf(i)}function mt(i){return mt[" "](i),i}function et(i,e,t){return Object.prototype.hasOwnProperty.call(i,e)?i[e]:i[e]=t(e)}mt[" "]=xe;var tn,i,tt=ct("Opera"),ut=ct("Trident")||ct("MSIE"),Ut=ct("Edge"),Nt=Ut||ut,Qt=ct("Gecko")&&!(-1!=Je().toLowerCase().indexOf("webkit")&&!ct("Edge"))&&!(ct("Trident")||ct("MSIE"))&&!ct("Edge"),sn=-1!=Je().toLowerCase().indexOf("webkit")&&!ct("Edge");function On(){var i=Fe.document;return i?i.documentMode:void 0}e:{var vt="",cn=(i=Je(),Qt?/rv:([^\);]+)(\)|;)/.exec(i):Ut?/Edge\/([\d\.]+)/.exec(i):ut?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(i):sn?/WebKit\/(\S+)/.exec(i):tt?/(?:Version)[ \/]?(\S+)/.exec(i):void 0);if(cn&&(vt=cn?cn[1]:""),ut){var vn=On();if(null!=vn&&vn>parseFloat(vt)){tn=String(vn);break e}}tn=vt}var qn={},ir=Fe.document&&ut&&(On()||parseInt(tn,10))||void 0;function an(i,e){if(Gt.call(this,i?i.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,i){var t=this.type=i.type,a=i.changedTouches&&i.changedTouches.length?i.changedTouches[0]:null;if(this.target=i.target||i.srcElement,this.g=e,e=i.relatedTarget){if(Qt){e:{try{mt(e.nodeName);var h=!0;break e}catch{}h=!1}h||(e=null)}}else"mouseover"==t?e=i.fromElement:"mouseout"==t&&(e=i.toElement);this.relatedTarget=e,a?(this.clientX=void 0!==a.clientX?a.clientX:a.pageX,this.clientY=void 0!==a.clientY?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0):(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0),this.button=i.button,this.key=i.key||"",this.ctrlKey=i.ctrlKey,this.altKey=i.altKey,this.shiftKey=i.shiftKey,this.metaKey=i.metaKey,this.pointerId=i.pointerId||0,this.pointerType="string"==typeof i.pointerType?i.pointerType:Pr[i.pointerType]||"",this.state=i.state,this.i=i,i.defaultPrevented&&an.$.h.call(this)}}ft(an,Gt);var Pr={2:"touch",3:"pen",4:"mouse"};an.prototype.h=function(){an.$.h.call(this);var i=this.i;i.preventDefault?i.preventDefault():i.returnValue=!1};var $r="closure_listenable_"+(1e6*Math.random()|0),xr=0;function Rn(i,e,t,a,h){this.listener=i,this.proxy=null,this.src=e,this.type=t,this.capture=!!a,this.la=h,this.key=++xr,this.fa=this.ia=!1}function ai(i){i.fa=!0,i.listener=null,i.proxy=null,i.src=null,i.la=null}function Gr(i,e,t){for(const a in i)e.call(t,i[a],a,i)}function ar(i){const e={};for(const t in i)e[t]=i[t];return e}const Pi="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function yi(i,e){let t,a;for(let h=1;h<arguments.length;h++){for(t in a=arguments[h],a)i[t]=a[t];for(let b=0;b<Pi.length;b++)t=Pi[b],Object.prototype.hasOwnProperty.call(a,t)&&(i[t]=a[t])}}function lr(i){this.src=i,this.g={},this.h=0}function nr(i,e){var t=e.type;if(t in i.g){var b,a=i.g[t],h=Ct(a,e);(b=0<=h)&&Array.prototype.splice.call(a,h,1),b&&(ai(e),0==i.g[t].length&&(delete i.g[t],i.h--))}}function mr(i,e,t,a){for(var h=0;h<i.length;++h){var b=i[h];if(!b.fa&&b.listener==e&&b.capture==!!t&&b.la==a)return h}return-1}lr.prototype.add=function(i,e,t,a,h){var b=i.toString();(i=this.g[b])||(i=this.g[b]=[],this.h++);var T=mr(i,e,a,h);return-1<T?(e=i[T],t||(e.ia=!1)):((e=new Rn(e,this.src,b,!!a,h)).ia=t,i.push(e)),e};var bi="closure_lm_"+(1e6*Math.random()|0),li={};function Kr(i,e,t,a,h){if(a&&a.once)return br(i,e,t,a,h);if(Array.isArray(e)){for(var b=0;b<e.length;b++)Kr(i,e[b],t,a,h);return null}return t=Ht(t),i&&i[$r]?i.O(e,t,Me(a)?!!a.capture:!!a,h):di(i,e,t,!1,a,h)}function di(i,e,t,a,h,b){if(!e)throw Error("Invalid event type");var T=Me(h)?!!h.capture:!!h,G=Ne(i);if(G||(i[bi]=G=new lr(i)),(t=G.add(e,t,a,T,b)).proxy)return t;if(a=function Ai(){const e=Cn;return function i(t){return e.call(i.src,i.listener,t)}}(),t.proxy=a,a.src=i,a.listener=t,i.addEventListener)Dt||(h=T),void 0===h&&(h=!1),i.addEventListener(e.toString(),a,h);else if(i.attachEvent)i.attachEvent(Er(e.toString()),a);else{if(!i.addListener||!i.removeListener)throw Error("addEventListener and attachEvent are unavailable.");i.addListener(a)}return t}function br(i,e,t,a,h){if(Array.isArray(e)){for(var b=0;b<e.length;b++)br(i,e[b],t,a,h);return null}return t=Ht(t),i&&i[$r]?i.P(e,t,Me(a)?!!a.capture:!!a,h):di(i,e,t,!0,a,h)}function fr(i,e,t,a,h){if(Array.isArray(e))for(var b=0;b<e.length;b++)fr(i,e[b],t,a,h);else a=Me(a)?!!a.capture:!!a,t=Ht(t),i&&i[$r]?(i=i.i,(e=String(e).toString())in i.g&&-1<(t=mr(b=i.g[e],t,a,h))&&(ai(b[t]),Array.prototype.splice.call(b,t,1),0==b.length&&(delete i.g[e],i.h--))):i&&(i=Ne(i))&&(e=i.g[e.toString()],i=-1,e&&(i=mr(e,t,a,h)),(t=-1<i?e[i]:null)&&Ei(t))}function Ei(i){if("number"!=typeof i&&i&&!i.fa){var e=i.src;if(e&&e[$r])nr(e.i,i);else{var t=i.type,a=i.proxy;e.removeEventListener?e.removeEventListener(t,a,i.capture):e.detachEvent?e.detachEvent(Er(t),a):e.addListener&&e.removeListener&&e.removeListener(a),(t=Ne(e))?(nr(t,i),0==t.h&&(t.src=null,e[bi]=null)):ai(i)}}}function Er(i){return i in li?li[i]:li[i]="on"+i}function Cn(i,e){if(i.fa)i=!0;else{e=new an(e,this);var t=i.listener,a=i.la||i.src;i.ia&&Ei(i),i=t.call(a,e)}return i}function Ne(i){return(i=i[bi])instanceof lr?i:null}var dt="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ht(i){return"function"==typeof i?i:(i[dt]||(i[dt]=function(e){return i.handleEvent(e)}),i[dt])}function En(){It.call(this),this.i=new lr(this),this.S=this,this.J=null}function zn(i,e){var t,a=i.J;if(a)for(t=[];a;a=a.J)t.push(a);if(i=i.S,a=e.type||e,"string"==typeof e)e=new Gt(e,i);else if(e instanceof Gt)e.target=e.target||i;else{var h=e;yi(e=new Gt(a,i),h)}if(h=!0,t)for(var b=t.length-1;0<=b;b--){var T=e.g=t[b];h=jr(T,a,!0,e)&&h}if(h=jr(T=e.g=i,a,!0,e)&&h,h=jr(T,a,!1,e)&&h,t)for(b=0;b<t.length;b++)h=jr(T=e.g=t[b],a,!1,e)&&h}function jr(i,e,t,a){if(!(e=i.i.g[String(e)]))return!0;e=e.concat();for(var h=!0,b=0;b<e.length;++b){var T=e[b];if(T&&!T.fa&&T.capture==t){var G=T.listener,ae=T.la||T.src;T.ia&&nr(i.i,T),h=!1!==G.call(ae,a)&&h}}return h&&!a.defaultPrevented}ft(En,It),En.prototype[$r]=!0,En.prototype.removeEventListener=function(i,e,t,a){fr(this,i,e,t,a)},En.prototype.N=function(){if(En.$.N.call(this),this.i){var e,i=this.i;for(e in i.g){for(var t=i.g[e],a=0;a<t.length;a++)ai(t[a]);delete i.g[e],i.h--}}this.J=null},En.prototype.O=function(i,e,t,a){return this.i.add(String(i),e,!1,t,a)},En.prototype.P=function(i,e,t,a){return this.i.add(String(i),e,!0,t,a)};var kr=Fe.JSON.stringify;function Or(){var i=Vt;let e=null;return i.g&&(e=i.g,i.g=i.g.next,i.g||(i.h=null),e.next=null),e}var Ke,Ae=new class{constructor(i,e){this.i=i,this.j=e,this.h=0,this.g=null}get(){let i;return 0<this.h?(this.h--,i=this.g,this.g=i.next,i.next=null):i=this.i(),i}}(()=>new ie,i=>i.reset());class ie{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function te(i){Fe.setTimeout(()=>{throw i},0)}function se(i,e){Ke||function xt(){var i=Fe.Promise.resolve(void 0);Ke=function(){i.then(en)}}(),rt||(Ke(),rt=!0),Vt.add(i,e)}var rt=!1,Vt=new class gt{constructor(){this.h=this.g=null}add(e,t){const a=Ae.get();a.set(e,t),this.h?this.h.next=a:this.g=a,this.h=a}};function en(){for(var i;i=Or();){try{i.h.call(i.g)}catch(t){te(t)}var e=Ae;e.j(i),100>e.h&&(e.h++,i.next=e.g,e.g=i)}rt=!1}function Sn(i,e){En.call(this),this.h=i||1,this.g=e||Fe,this.j=kt(this.qb,this),this.l=Date.now()}function gn(i){i.ga=!1,i.T&&(i.g.clearTimeout(i.T),i.T=null)}function Wn(i,e,t){if("function"==typeof i)t&&(i=kt(i,t));else{if(!i||"function"!=typeof i.handleEvent)throw Error("Invalid listener argument");i=kt(i.handleEvent,i)}return 2147483647<Number(e)?-1:Fe.setTimeout(i,e||0)}function ln(i){i.g=Wn(()=>{i.g=null,i.i&&(i.i=!1,ln(i))},i.j);const e=i.h;i.h=null,i.m.apply(null,e)}ft(Sn,En),(Re=Sn.prototype).ga=!1,Re.T=null,Re.qb=function(){if(this.ga){var i=Date.now()-this.l;0<i&&i<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-i):(this.T&&(this.g.clearTimeout(this.T),this.T=null),zn(this,"tick"),this.ga&&(gn(this),this.start()))}},Re.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Re.N=function(){Sn.$.N.call(this),gn(this),delete this.g};class yn extends It{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:ln(this)}N(){super.N(),this.g&&(Fe.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function kn(i){It.call(this),this.h=i,this.g={}}ft(kn,It);var Bt=[];function Kt(i,e,t,a){Array.isArray(t)||(t&&(Bt[0]=t.toString()),t=Bt);for(var h=0;h<t.length;h++){var b=Kr(e,t[h],a||i.handleEvent,!1,i.h||i);if(!b)break;i.g[b.key]=b}}function fn(i){Gr(i.g,function(e,t){this.g.hasOwnProperty(t)&&Ei(e)},i),i.g={}}function Yn(){this.g=!0}function Sr(i,e,t,a){i.info(function(){return"XMLHTTP TEXT ("+e+"): "+function Xr(i,e){if(!i.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(i=0;i<t.length;i++)if(Array.isArray(t[i])){var a=t[i];if(!(2>a.length)){var h=a[1];if(Array.isArray(h)&&!(1>h.length)){var b=h[0];if("noop"!=b&&"stop"!=b&&"close"!=b)for(var T=1;T<h.length;T++)h[T]=""}}}return kr(t)}catch{return e}}(i,t)+(a?" "+a:"")})}kn.prototype.N=function(){kn.$.N.call(this),fn(this)},kn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Yn.prototype.Ea=function(){this.g=!1},Yn.prototype.info=function(){};var zr={},Yr=null;function rs(){return Yr=Yr||new En}function Os(i){Gt.call(this,zr.Ta,i)}function Xs(i){const e=rs();zn(e,new Os(e))}function ys(i,e){Gt.call(this,zr.STAT_EVENT,i),this.stat=e}function cs(i){const e=rs();zn(e,new ys(e,i))}function yo(i,e){Gt.call(this,zr.Ua,i),this.size=e}function ts(i,e){if("function"!=typeof i)throw Error("Fn must not be null and must be a function");return Fe.setTimeout(function(){i()},e)}zr.Ta="serverreachability",ft(Os,Gt),zr.STAT_EVENT="statevent",ft(ys,Gt),zr.Ua="timingevent",ft(yo,Gt);var zi={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},Qs={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Js(){}function js(){}Js.prototype.h=null;var _e,re={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function pe(){Gt.call(this,"d")}function Oe(){Gt.call(this,"c")}function ne(){}function ve(i,e,t,a){this.l=i,this.j=e,this.m=t,this.W=a||1,this.U=new kn(this),this.P=wt,this.V=new Sn(i=Nt?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.aa=-1,this.J=!1,this.O=0,this.M=null,this.ca=this.K=this.ba=this.S=!1,this.h=new st}function st(){this.i=null,this.g="",this.h=!1}ft(pe,Gt),ft(Oe,Gt),ft(ne,Js),ne.prototype.g=function(){return new XMLHttpRequest},ne.prototype.i=function(){return{}},_e=new ne;var wt=45e3,$t={},nn={};function Vn(i,e,t){i.L=1,i.v=es(ji(e)),i.s=t,i.S=!0,Un(i,null)}function Un(i,e){i.G=Date.now(),Ji(i),i.A=ji(i.v);var t=i.A,a=i.W;Array.isArray(a)||(a=[String(a)]),Ri(t.i,"t",a),i.C=0,t=i.l.I,i.h=new st,i.g=Cs(i.l,t?e:null,!i.s),0<i.O&&(i.M=new yn(kt(i.Pa,i,i.g),i.O)),Kt(i.U,i.g,"readystatechange",i.nb),e=i.I?ar(i.I):{},i.s?(i.u||(i.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",i.g.ha(i.A,i.u,i.s,e)):(i.u="GET",i.g.ha(i.A,i.u,null,e)),Xs(),function pr(i,e,t,a,h,b){i.info(function(){if(i.g)if(b)for(var T="",G=b.split("&"),ae=0;ae<G.length;ae++){var we=G[ae].split("=");if(1<we.length){var Ye=we[0];we=we[1];var Rt=Ye.split("_");T=2<=Rt.length&&"type"==Rt[1]?T+(Ye+"=")+we+"&":T+(Ye+"=redacted&")}}else T=null;else T=b;return"XMLHTTP REQ ("+a+") [attempt "+h+"]: "+e+"\n"+t+"\n"+T})}(i.j,i.u,i.A,i.m,i.W,i.s)}function Nr(i){return!!i.g&&"GET"==i.u&&2!=i.L&&i.l.Ha}function Qr(i,e,t){let h,a=!0;for(;!i.J&&i.C<t.length;){if(h=vs(i,t),h==nn){4==e&&(i.o=4,cs(14),a=!1),Sr(i.j,i.m,null,"[Incomplete Response]");break}if(h==$t){i.o=4,cs(15),Sr(i.j,i.m,t,"[Invalid Chunk]"),a=!1;break}Sr(i.j,i.m,h,null),Br(i,h)}Nr(i)&&h!=nn&&h!=$t&&(i.h.g="",i.C=0),4!=e||0!=t.length||i.h.h||(i.o=1,cs(16),a=!1),i.i=i.i&&a,a?0<t.length&&!i.ca&&(i.ca=!0,(e=i.l).g==i&&e.ca&&!e.L&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+t.length),gi(e),e.L=!0,cs(11))):(Sr(i.j,i.m,t,"[Invalid Chunked Response]"),Lr(i),Tn(i))}function vs(i,e){var t=i.C,a=e.indexOf("\n",t);return-1==a?nn:(t=Number(e.substring(t,a)),isNaN(t)?$t:(a+=1)+t>e.length?nn:(e=e.substr(a,t),i.C=a+t,e))}function Ji(i){i.Y=Date.now()+i.P,Ti(i,i.P)}function Ti(i,e){if(null!=i.B)throw Error("WatchDog timer not null");i.B=ts(kt(i.lb,i),e)}function Mr(i){i.B&&(Fe.clearTimeout(i.B),i.B=null)}function Tn(i){0==i.l.H||i.J||Zi(i.l,i)}function Lr(i){Mr(i);var e=i.M;e&&"function"==typeof e.ra&&e.ra(),i.M=null,gn(i.V),fn(i.U),i.g&&(e=i.g,i.g=null,e.abort(),e.ra())}function Br(i,e){try{var t=i.l;if(0!=t.H&&(t.g==i||Ni(t.h,i)))if(!i.K&&Ni(t.h,i)&&3==t.H){try{var a=t.Ja.g.parse(e)}catch{a=null}if(Array.isArray(a)&&3==a.length){var h=a;if(0==h[0]){e:if(!t.u){if(t.g){if(!(t.g.G+3e3<i.G))break e;mi(t),S(t)}ui(t),cs(18)}}else t.Fa=h[1],0<t.Fa-t.V&&37500>h[2]&&t.M&&0==t.A&&!t.v&&(t.v=ts(kt(t.ib,t),6e3));if(1>=oo(t.h)&&t.na){try{t.na()}catch{}t.na=void 0}}else xs(t,11)}else if((i.K||t.g==i)&&mi(t),!Ft(e))for(h=t.Ja.g.parse(e),e=0;e<h.length;e++){let we=h[e];if(t.V=we[0],we=we[1],2==t.H)if("c"==we[0]){t.J=we[1],t.oa=we[2];const Ye=we[3];null!=Ye&&(t.qa=Ye,t.j.info("VER="+t.qa));const Rt=we[4];null!=Rt&&(t.Ga=Rt,t.j.info("SVER="+t.Ga));const bn=we[5];null!=bn&&"number"==typeof bn&&0<bn&&(t.K=a=1.5*bn,t.j.info("backChannelRequestTimeoutMs_="+a)),a=t;const $n=i.g;if($n){const Dr=$n.g?$n.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Dr){var b=a.h;b.g||-1==Dr.indexOf("spdy")&&-1==Dr.indexOf("quic")&&-1==Dr.indexOf("h2")||(b.j=b.l,b.g=new Set,b.h&&(Go(b,b.h),b.h=null))}if(a.F){const pi=$n.g?$n.g.getResponseHeader("X-HTTP-Session-Id"):null;pi&&(a.Da=pi,ki(a.G,a.F,pi))}}t.H=3,t.l&&t.l.Ba(),t.ca&&(t.S=Date.now()-i.G,t.j.info("Handshake RTT: "+t.S+"ms"));var T=i;if((a=t).wa=wi(a,a.I?a.oa:null,a.Y),T.K){xo(a.h,T);var G=T,ae=a.K;ae&&G.setTimeout(ae),G.B&&(Mr(G),Ji(G)),a.g=T}else ci(a);0<t.i.length&&ge(t)}else"stop"!=we[0]&&"close"!=we[0]||xs(t,7);else 3==t.H&&("stop"==we[0]||"close"==we[0]?"stop"==we[0]?xs(t,7):F(t):"noop"!=we[0]&&t.l&&t.l.Aa(we),t.A=0)}Xs()}catch{}}function is(i,e){if(i.forEach&&"function"==typeof i.forEach)i.forEach(e,void 0);else if(it(i)||"string"==typeof i)Array.prototype.forEach.call(i,e,void 0);else for(var t=function Ao(i){if(i.sa&&"function"==typeof i.sa)return i.sa();if(!i.Z||"function"!=typeof i.Z){if(typeof Map<"u"&&i instanceof Map)return Array.from(i.keys());if(!(typeof Set<"u"&&i instanceof Set)){if(it(i)||"string"==typeof i){var e=[];i=i.length;for(var t=0;t<i;t++)e.push(t);return e}e=[],t=0;for(const a in i)e[t++]=a;return e}}}(i),a=function Ts(i){if(i.Z&&"function"==typeof i.Z)return i.Z();if(typeof Map<"u"&&i instanceof Map||typeof Set<"u"&&i instanceof Set)return Array.from(i.values());if("string"==typeof i)return i.split("");if(it(i)){for(var e=[],t=i.length,a=0;a<t;a++)e.push(i[a]);return e}for(a in e=[],t=0,i)e[t++]=i[a];return e}(i),h=a.length,b=0;b<h;b++)e.call(void 0,a[b],t&&t[b],i)}(Re=ve.prototype).setTimeout=function(i){this.P=i},Re.nb=function(i){i=i.target;const e=this.M;e&&3==Ci(i)?e.l():this.Pa(i)},Re.Pa=function(i){try{if(i==this.g)e:{const Ye=Ci(this.g);var e=this.g.Ia();if(this.g.da(),!(3>Ye)&&(3!=Ye||Nt||this.g&&(this.h.h||this.g.ja()||Hs(this.g)))){this.J||4!=Ye||7==e||Xs(),Mr(this);var t=this.g.da();this.aa=t;t:if(Nr(this)){var a=Hs(this.g);i="";var h=a.length,b=4==Ci(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Lr(this),Tn(this);var T="";break t}this.h.i=new Fe.TextDecoder}for(e=0;e<h;e++)this.h.h=!0,i+=this.h.i.decode(a[e],{stream:b&&e==h-1});a.splice(0,h),this.h.g+=i,this.C=0,T=this.h.g}else T=this.g.ja();if(this.i=200==t,function Fr(i,e,t,a,h,b,T){i.info(function(){return"XMLHTTP RESP ("+a+") [ attempt "+h+"]: "+e+"\n"+t+"\n"+b+" "+T})}(this.j,this.u,this.A,this.m,this.W,Ye,t),this.i){if(this.ba&&!this.K){t:{if(this.g){var G,ae=this.g;if((G=ae.g?ae.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Ft(G)){var we=G;break t}}we=null}if(!(t=we)){this.i=!1,this.o=3,cs(12),Lr(this),Tn(this);break e}Sr(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Br(this,t)}this.S?(Qr(this,Ye,T),Nt&&this.i&&3==Ye&&(Kt(this.U,this.V,"tick",this.mb),this.V.start())):(Sr(this.j,this.m,T,null),Br(this,T)),4==Ye&&Lr(this),this.i&&!this.J&&(4==Ye?Zi(this.l,this):(this.i=!1,Ji(this)))}else 400==t&&0<T.indexOf("Unknown SID")?(this.o=3,cs(12)):(this.o=0,cs(13)),Lr(this),Tn(this)}}}catch{}},Re.mb=function(){if(this.g){var i=Ci(this.g),e=this.g.ja();this.C<e.length&&(Mr(this),Qr(this,i,e),this.i&&4!=i&&Ji(this))}},Re.cancel=function(){this.J=!0,Lr(this)},Re.lb=function(){this.B=null;const i=Date.now();0<=i-this.Y?(function Fi(i,e){i.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(Xs(),cs(17)),Lr(this),this.o=2,Tn(this)):Ti(this,this.Y-i)};var vo=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ur(i,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,i instanceof Ur){this.h=void 0!==e?e:i.h,qr(this,i.j),this.s=i.s,this.g=i.g,so(this,i.m),this.l=i.l,e=i.i;var t=new bs;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),_s(this,t),this.o=i.o}else i&&(t=String(i).match(vo))?(this.h=!!e,qr(this,t[1]||"",!0),this.s=eo(t[2]||""),this.g=eo(t[3]||"",!0),so(this,t[4]),this.l=eo(t[5]||"",!0),_s(this,t[6]||"",!0),this.o=eo(t[7]||"")):(this.h=!!e,this.i=new bs(null,this.h))}function ji(i){return new Ur(i)}function qr(i,e,t){i.j=t?eo(e,!0):e,i.j&&(i.j=i.j.replace(/:$/,""))}function so(i,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);i.m=e}else i.m=null}function _s(i,e,t){e instanceof bs?(i.i=e,function Ys(i,e){e&&!i.j&&(xi(i),i.i=null,i.g.forEach(function(t,a){var h=a.toLowerCase();a!=h&&(No(this,a),Ri(this,h,t))},i)),i.j=e}(i.i,i.h)):(t||(e=uo(e,As)),i.i=new bs(e,i.h))}function ki(i,e,t){i.i.set(e,t)}function es(i){return ki(i,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),i}function eo(i,e){return i?e?decodeURI(i.replace(/%25/g,"%2525")):decodeURIComponent(i):""}function uo(i,e,t){return"string"==typeof i?(i=encodeURI(i).replace(e,zs),t&&(i=i.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),i):null}function zs(i){return"%"+((i=i.charCodeAt(0))>>4&15).toString(16)+(15&i).toString(16)}Ur.prototype.toString=function(){var i=[],e=this.j;e&&i.push(uo(e,Eo,!0),":");var t=this.g;return(t||"file"==e)&&(i.push("//"),(e=this.s)&&i.push(uo(e,Eo,!0),"@"),i.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&i.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&i.push("/"),i.push(uo(t,"/"==t.charAt(0)?wo:_o,!0))),(t=this.i.toString())&&i.push("?",t),(t=this.o)&&i.push("#",uo(t,qo)),i.join("")};var Eo=/[#\/\?@]/g,_o=/[#\?:]/g,wo=/[#\?]/g,As=/[#\?@]/g,qo=/#/g;function bs(i,e){this.h=this.g=null,this.i=i||null,this.j=!!e}function xi(i){i.g||(i.g=new Map,i.h=0,i.i&&function Jr(i,e){if(i){i=i.split("&");for(var t=0;t<i.length;t++){var a=i[t].indexOf("="),h=null;if(0<=a){var b=i[t].substring(0,a);h=i[t].substring(a+1)}else b=i[t];e(b,h?decodeURIComponent(h.replace(/\+/g," ")):"")}}}(i.i,function(e,t){i.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function No(i,e){xi(i),e=Bs(i,e),i.g.has(e)&&(i.i=null,i.h-=i.g.get(e).length,i.g.delete(e))}function Yi(i,e){return xi(i),e=Bs(i,e),i.g.has(e)}function Ri(i,e,t){No(i,e),0<t.length&&(i.i=null,i.g.set(Bs(i,e),yt(t)),i.h+=t.length)}function Bs(i,e){return e=String(e),i.j&&(e=e.toLowerCase()),e}function hs(i){this.l=i||fs,i=Fe.PerformanceNavigationTiming?0<(i=Fe.performance.getEntriesByType("navigation")).length&&("hq"==i[0].nextHopProtocol||"h2"==i[0].nextHopProtocol):!!(Fe.g&&Fe.g.Ka&&Fe.g.Ka()&&Fe.g.Ka().ec),this.j=i?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(Re=bs.prototype).add=function(i,e){xi(this),this.i=null,i=Bs(this,i);var t=this.g.get(i);return t||this.g.set(i,t=[]),t.push(e),this.h+=1,this},Re.forEach=function(i,e){xi(this),this.g.forEach(function(t,a){t.forEach(function(h){i.call(e,h,a,this)},this)},this)},Re.sa=function(){xi(this);const i=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let a=0;a<e.length;a++){const h=i[a];for(let b=0;b<h.length;b++)t.push(e[a])}return t},Re.Z=function(i){xi(this);let e=[];if("string"==typeof i)Yi(this,i)&&(e=e.concat(this.g.get(Bs(this,i))));else{i=Array.from(this.g.values());for(let t=0;t<i.length;t++)e=e.concat(i[t])}return e},Re.set=function(i,e){return xi(this),this.i=null,Yi(this,i=Bs(this,i))&&(this.h-=this.g.get(i).length),this.g.set(i,[e]),this.h+=1,this},Re.get=function(i,e){return i&&0<(i=this.Z(i)).length?String(i[0]):e},Re.toString=function(){if(this.i)return this.i;if(!this.g)return"";const i=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var a=e[t];const b=encodeURIComponent(String(a)),T=this.Z(a);for(a=0;a<T.length;a++){var h=b;""!==T[a]&&(h+="="+encodeURIComponent(String(T[a]))),i.push(h)}}return this.i=i.join("&")};var fs=10;function ho(i){return!!i.h||!!i.g&&i.g.size>=i.j}function oo(i){return i.h?1:i.g?i.g.size:0}function Ni(i,e){return i.h?i.h==e:!!i.g&&i.g.has(e)}function Go(i,e){i.g?i.g.add(e):i.h=e}function xo(i,e){i.h&&i.h==e?i.h=null:i.g&&i.g.has(e)&&i.g.delete(e)}function bo(i){if(null!=i.h)return i.i.concat(i.h.F);if(null!=i.g&&0!==i.g.size){let e=i.i;for(const t of i.g.values())e=e.concat(t.F);return e}return yt(i.i)}function Co(){}function to(){this.g=new Co}function Zo(i,e,t){const a=t||"";try{is(i,function(h,b){let T=h;Me(h)&&(T=kr(h)),e.push(a+b+"="+encodeURIComponent(T))})}catch(h){throw e.push(a+"type="+encodeURIComponent("_badmap")),h}}function $s(i,e,t,a,h){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,h(a)}catch{}}function Ro(i){this.l=i.fc||null,this.j=i.ob||!1}function us(i,e){En.call(this),this.F=i,this.u=e,this.m=void 0,this.readyState=Mo,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}hs.prototype.cancel=function(){if(this.i=bo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const i of this.g.values())i.cancel();this.g.clear()}},Co.prototype.stringify=function(i){return Fe.JSON.stringify(i,void 0)},Co.prototype.parse=function(i){return Fe.JSON.parse(i,void 0)},ft(Ro,Js),Ro.prototype.g=function(){return new us(this.l,this.j)},Ro.prototype.i=function(i){return function(){return i}}({}),ft(us,En);var Mo=0;function fo(i){i.j.read().then(i.Xa.bind(i)).catch(i.ka.bind(i))}function jo(i){i.readyState=4,i.l=null,i.j=null,i.A=null,qi(i)}function qi(i){i.onreadystatechange&&i.onreadystatechange.call(i)}(Re=us.prototype).open=function(i,e){if(this.readyState!=Mo)throw this.abort(),Error("Error reopening a connection");this.C=i,this.B=e,this.readyState=1,qi(this)},Re.send=function(i){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};i&&(e.body=i),(this.F||Fe).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},Re.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,jo(this)),this.readyState=Mo},Re.$a=function(i){if(this.g&&(this.l=i,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=i.headers,this.readyState=2,qi(this)),this.g&&(this.readyState=3,qi(this),this.g)))if("arraybuffer"===this.responseType)i.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof Fe.ReadableStream<"u"&&"body"in i){if(this.j=i.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;fo(this)}else i.text().then(this.Za.bind(this),this.ka.bind(this))},Re.Xa=function(i){if(this.g){if(this.u&&i.value)this.response.push(i.value);else if(!this.u){var e=i.value?i.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!i.done}))&&(this.response=this.responseText+=e)}i.done?jo(this):qi(this),3==this.readyState&&fo(this)}},Re.Za=function(i){this.g&&(this.response=this.responseText=i,jo(this))},Re.Ya=function(i){this.g&&(this.response=i,jo(this))},Re.ka=function(){this.g&&jo(this)},Re.setRequestHeader=function(i,e){this.v.append(i,e)},Re.getResponseHeader=function(i){return this.h&&this.h.get(i.toLowerCase())||""},Re.getAllResponseHeaders=function(){if(!this.h)return"";const i=[],e=this.h.entries();for(var t=e.next();!t.done;)i.push((t=t.value)[0]+": "+t[1]),t=e.next();return i.join("\r\n")},Object.defineProperty(us.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(i){this.m=i?"include":"same-origin"}});var O=Fe.JSON.parse;function he(i){En.call(this),this.headers=new Map,this.u=i||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=N,this.L=this.M=!1}ft(he,En);var N="",ce=/^https?$/i,Ge=["POST","PUT"];function Tr(i,e){i.h=!1,i.g&&(i.l=!0,i.g.abort(),i.l=!1),i.j=e,i.m=5,Xn(i),ni(i)}function Xn(i){i.F||(i.F=!0,zn(i,"complete"),zn(i,"error"))}function hi(i){if(i.h&&typeof Ze<"u"&&(!i.C[1]||4!=Ci(i)||2!=i.da()))if(i.v&&4==Ci(i))Wn(i.La,0,i);else if(zn(i,"readystatechange"),4==Ci(i)){i.h=!1;try{const G=i.da();e:switch(G){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var a;if(a=0===G){var h=String(i.I).match(vo)[1]||null;if(!h&&Fe.self&&Fe.self.location){var b=Fe.self.location.protocol;h=b.substr(0,b.length-1)}a=!ce.test(h?h.toLowerCase():"")}t=a}if(t)zn(i,"complete"),zn(i,"success");else{i.m=6;try{var T=2<Ci(i)?i.g.statusText:""}catch{T=""}i.j=T+" ["+i.da()+"]",Xn(i)}}finally{ni(i)}}}function ni(i,e){if(i.g){Es(i);const t=i.g,a=i.C[0]?xe:null;i.g=null,i.C=null,e||zn(i,"ready");try{t.onreadystatechange=a}catch{}}}function Es(i){i.g&&i.L&&(i.g.ontimeout=null),i.A&&(Fe.clearTimeout(i.A),i.A=null)}function Ci(i){return i.g?i.g.readyState:0}function Hs(i){try{if(!i.g)return null;if("response"in i.g)return i.g.response;switch(i.K){case N:case"text":return i.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in i.g)return i.g.mozResponseArrayBuffer}return null}catch{return null}}function Do(i){let e="";return Gr(i,function(t,a){e+=a,e+=":",e+=t,e+="\r\n"}),e}function Ee(i,e,t){e:{for(a in t){var a=!1;break e}a=!0}a||(t=Do(t),"string"==typeof i?null!=t&&encodeURIComponent(String(t)):ki(i,e,t))}function le(i,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[i]||e}function $(i){this.Ga=0,this.i=[],this.j=new Yn,this.oa=this.wa=this.G=this.Y=this.g=this.Da=this.F=this.ma=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=le("failFast",!1,i),this.M=this.v=this.u=this.m=this.l=null,this.aa=!0,this.ta=this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=le("baseRetryDelayMs",5e3,i),this.hb=le("retryDelaySeedMs",1e4,i),this.eb=le("forwardChannelMaxRetries",2,i),this.xa=le("forwardChannelRequestTimeoutMs",2e4,i),this.va=i&&i.xmlHttpFactory||void 0,this.Ha=i&&i.dc||!1,this.K=void 0,this.I=i&&i.supportsCrossDomainXhr||!1,this.J="",this.h=new hs(i&&i.concurrentRequestLimit),this.Ja=new to,this.P=i&&i.fastHandshake||!1,this.O=i&&i.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=i&&i.bc||!1,i&&i.Ea&&this.j.Ea(),i&&i.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&i&&i.detectBufferingProxy||!1,this.na=void 0,this.S=0,this.L=!1,this.pa=this.B=null}function F(i){if(L(i),3==i.H){var e=i.W++,t=ji(i.G);ki(t,"SID",i.J),ki(t,"RID",e),ki(t,"TYPE","terminate"),dn(i,t),(e=new ve(i,i.j,e,void 0)).L=2,e.v=es(ji(t)),t=!1,Fe.navigator&&Fe.navigator.sendBeacon&&(t=Fe.navigator.sendBeacon(e.v.toString(),"")),!t&&Fe.Image&&((new Image).src=e.v,t=!0),t||(e.g=Cs(e.l,null),e.g.ha(e.v)),e.G=Date.now(),Ji(e)}Ws(i)}function S(i){i.g&&(gi(i),i.g.cancel(),i.g=null)}function L(i){S(i),i.u&&(Fe.clearTimeout(i.u),i.u=null),mi(i),i.h.cancel(),i.m&&("number"==typeof i.m&&Fe.clearTimeout(i.m),i.m=null)}function ge(i){ho(i.h)||i.m||(i.m=!0,se(i.Na,i),i.C=0)}function Pt(i,e){var t;t=e?e.m:i.W++;const a=ji(i.G);ki(a,"SID",i.J),ki(a,"RID",t),ki(a,"AID",i.V),dn(i,a),i.o&&i.s&&Ee(a,i.o,i.s),t=new ve(i,i.j,t,i.C+1),null===i.o&&(t.I=i.s),e&&(i.i=e.F.concat(i.i)),e=Mn(i,t,1e3),t.setTimeout(Math.round(.5*i.xa)+Math.round(.5*i.xa*Math.random())),Go(i.h,t),Vn(t,a,e)}function dn(i,e){i.ma&&Gr(i.ma,function(t,a){ki(e,a,t)}),i.l&&is({},function(t,a){ki(e,a,t)})}function Mn(i,e,t){t=Math.min(i.i.length,t);var a=i.l?kt(i.l.Va,i.l,i):null;e:{var h=i.i;let b=-1;for(;;){const T=["count="+t];-1==b?0<t?(b=h[0].h,T.push("ofs="+b)):b=0:T.push("ofs="+b);let G=!0;for(let ae=0;ae<t;ae++){let we=h[ae].h;const Ye=h[ae].g;if(we-=b,0>we)b=Math.max(0,h[ae].h-100),G=!1;else try{Zo(Ye,T,"req"+we+"_")}catch{a&&a(Ye)}}if(G){a=T.join("&");break e}}}return i=i.i.splice(0,t),e.F=i,a}function ci(i){i.g||i.u||(i.ba=1,se(i.Ma,i),i.A=0)}function ui(i){return!(i.g||i.u||3<=i.A||(i.ba++,i.u=ts(kt(i.Ma,i),qs(i,i.A)),i.A++,0))}function gi(i){null!=i.B&&(Fe.clearTimeout(i.B),i.B=null)}function vi(i){i.g=new ve(i,i.j,"rpc",i.ba),null===i.o&&(i.g.I=i.s),i.g.O=0;var e=ji(i.wa);ki(e,"RID","rpc"),ki(e,"SID",i.J),ki(e,"CI",i.M?"0":"1"),ki(e,"AID",i.V),ki(e,"TYPE","xmlhttp"),dn(i,e),i.o&&i.s&&Ee(e,i.o,i.s),i.K&&i.g.setTimeout(i.K);var t=i.g;i=i.oa,t.L=1,t.v=es(ji(e)),t.s=null,t.S=!0,Un(t,i)}function mi(i){null!=i.v&&(Fe.clearTimeout(i.v),i.v=null)}function Zi(i,e){var t=null;if(i.g==e){mi(i),gi(i),i.g=null;var a=2}else{if(!Ni(i.h,e))return;t=e.F,xo(i.h,e),a=1}if(0!=i.H)if(i.ta=e.aa,e.i)if(1==a){t=e.s?e.s.length:0,e=Date.now()-e.G;var h=i.C;zn(a=rs(),new yo(a,t)),ge(i)}else ci(i);else if(3==(h=e.o)||0==h&&0<i.ta||!(1==a&&function ht(i,e){return!(oo(i.h)>=i.h.j-(i.m?1:0)||(i.m?(i.i=e.F.concat(i.i),0):1==i.H||2==i.H||i.C>=(i.cb?0:i.eb)||(i.m=ts(kt(i.Na,i,e),qs(i,i.C)),i.C++,0)))}(i,e)||2==a&&ui(i)))switch(t&&0<t.length&&(e=i.h,e.i=e.i.concat(t)),h){case 1:xs(i,5);break;case 4:xs(i,10);break;case 3:xs(i,6);break;default:xs(i,2)}}function qs(i,e){let t=i.ab+Math.floor(Math.random()*i.hb);return i.l||(t*=2),t*e}function xs(i,e){if(i.j.info("Error code "+e),2==e){var t=null;i.l&&(t=null);var a=kt(i.pb,i);t||(t=new Ur("//www.google.com/images/cleardot.gif"),Fe.location&&"http"==Fe.location.protocol||qr(t,"https"),es(t)),function ao(i,e){const t=new Yn;if(Fe.Image){const a=new Image;a.onload=Mt($s,t,a,"TestLoadImage: loaded",!0,e),a.onerror=Mt($s,t,a,"TestLoadImage: error",!1,e),a.onabort=Mt($s,t,a,"TestLoadImage: abort",!1,e),a.ontimeout=Mt($s,t,a,"TestLoadImage: timeout",!1,e),Fe.setTimeout(function(){a.ontimeout&&a.ontimeout()},1e4),a.src=i}else e(!1)}(t.toString(),a)}else cs(2);i.H=0,i.l&&i.l.za(e),Ws(i),L(i)}function Ws(i){if(i.H=0,i.pa=[],i.l){const e=bo(i.h);(0!=e.length||0!=i.i.length)&&(ee(i.pa,e),ee(i.pa,i.i),i.h.i.length=0,yt(i.i),i.i.length=0),i.l.ya()}}function wi(i,e,t){var a=t instanceof Ur?ji(t):new Ur(t,void 0);if(""!=a.g)e&&(a.g=e+"."+a.g),so(a,a.m);else{var h=Fe.location;a=h.protocol,e=e?e+"."+h.hostname:h.hostname,h=+h.port;var b=new Ur(null,void 0);a&&qr(b,a),e&&(b.g=e),h&&so(b,h),t&&(b.l=t),a=b}return e=i.Da,(t=i.F)&&e&&ki(a,t,e),ki(a,"VER",i.qa),dn(i,a),a}function Cs(i,e,t){if(e&&!i.I)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new he(t&&i.Ha&&!i.va?new Ro({ob:!0}):i.va)).Oa(i.I),e}function no(){}function zo(){if(ut&&!(10<=Number(ir)))throw Error("Environmental error: no available transport.")}function So(i,e){En.call(this),this.g=new $(e),this.l=i,this.h=e&&e.messageUrlParams||null,i=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(i?i["X-Client-Protocol"]="webchannel":i={"X-Client-Protocol":"webchannel"}),this.g.s=i,i=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(i?i["X-WebChannel-Content-Type"]=e.messageContentType:i={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(i?i["X-WebChannel-Client-Profile"]=e.Ca:i={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=i,(i=e&&e.cc)&&!Ft(i)&&(this.g.o=i),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Ft(e)&&(this.g.F=e,null!==(i=this.h)&&e in i&&e in(i=this.h)&&delete i[e]),this.j=new Da(this)}function sa(i){pe.call(this);var e=i.__sm__;if(e){e:{for(const t in e){i=t;break e}i=void 0}(this.i=i)&&(i=this.i,e=null!==e&&i in e?e[i]:void 0),this.data=e}else this.data=i}function Jo(){Oe.call(this),this.status=1}function Da(i){this.g=i}function na(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function Na(i,e,t){t||(t=0);var a=Array(16);if("string"==typeof e)for(var h=0;16>h;++h)a[h]=e.charCodeAt(t++)|e.charCodeAt(t++)<<8|e.charCodeAt(t++)<<16|e.charCodeAt(t++)<<24;else for(h=0;16>h;++h)a[h]=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;var b=i.g[3],T=(e=i.g[0])+(b^(t=i.g[1])&((h=i.g[2])^b))+a[0]+3614090360&4294967295;T=(t=(h=(b=(e=(t=(h=(b=(e=(t=(h=(b=(e=(t=(h=(b=(e=(t=(h=(b=(e=(t=(h=(b=(e=(t=(h=(b=(e=(t=(h=(b=(e=(t=(h=(b=(e=(t=(h=(b=(e=(t=(h=(b=(e=(t=(h=(b=(e=(t=(h=(b=(e=(t=(h=(b=(e=(t=(h=(b=(e=t+(T<<7&4294967295|T>>>25))+((T=b+(h^e&(t^h))+a[1]+3905402710&4294967295)<<12&4294967295|T>>>20))+((T=h+(t^b&(e^t))+a[2]+606105819&4294967295)<<17&4294967295|T>>>15))+((T=t+(e^h&(b^e))+a[3]+3250441966&4294967295)<<22&4294967295|T>>>10))+((T=e+(b^t&(h^b))+a[4]+4118548399&4294967295)<<7&4294967295|T>>>25))+((T=b+(h^e&(t^h))+a[5]+1200080426&4294967295)<<12&4294967295|T>>>20))+((T=h+(t^b&(e^t))+a[6]+2821735955&4294967295)<<17&4294967295|T>>>15))+((T=t+(e^h&(b^e))+a[7]+4249261313&4294967295)<<22&4294967295|T>>>10))+((T=e+(b^t&(h^b))+a[8]+1770035416&4294967295)<<7&4294967295|T>>>25))+((T=b+(h^e&(t^h))+a[9]+2336552879&4294967295)<<12&4294967295|T>>>20))+((T=h+(t^b&(e^t))+a[10]+4294925233&4294967295)<<17&4294967295|T>>>15))+((T=t+(e^h&(b^e))+a[11]+2304563134&4294967295)<<22&4294967295|T>>>10))+((T=e+(b^t&(h^b))+a[12]+1804603682&4294967295)<<7&4294967295|T>>>25))+((T=b+(h^e&(t^h))+a[13]+4254626195&4294967295)<<12&4294967295|T>>>20))+((T=h+(t^b&(e^t))+a[14]+2792965006&4294967295)<<17&4294967295|T>>>15))+((T=t+(e^h&(b^e))+a[15]+1236535329&4294967295)<<22&4294967295|T>>>10))+((T=e+(h^b&(t^h))+a[1]+4129170786&4294967295)<<5&4294967295|T>>>27))+((T=b+(t^h&(e^t))+a[6]+3225465664&4294967295)<<9&4294967295|T>>>23))+((T=h+(e^t&(b^e))+a[11]+643717713&4294967295)<<14&4294967295|T>>>18))+((T=t+(b^e&(h^b))+a[0]+3921069994&4294967295)<<20&4294967295|T>>>12))+((T=e+(h^b&(t^h))+a[5]+3593408605&4294967295)<<5&4294967295|T>>>27))+((T=b+(t^h&(e^t))+a[10]+38016083&4294967295)<<9&4294967295|T>>>23))+((T=h+(e^t&(b^e))+a[15]+3634488961&4294967295)<<14&4294967295|T>>>18))+((T=t+(b^e&(h^b))+a[4]+3889429448&4294967295)<<20&4294967295|T>>>12))+((T=e+(h^b&(t^h))+a[9]+568446438&4294967295)<<5&4294967295|T>>>27))+((T=b+(t^h&(e^t))+a[14]+3275163606&4294967295)<<9&4294967295|T>>>23))+((T=h+(e^t&(b^e))+a[3]+4107603335&4294967295)<<14&4294967295|T>>>18))+((T=t+(b^e&(h^b))+a[8]+1163531501&4294967295)<<20&4294967295|T>>>12))+((T=e+(h^b&(t^h))+a[13]+2850285829&4294967295)<<5&4294967295|T>>>27))+((T=b+(t^h&(e^t))+a[2]+4243563512&4294967295)<<9&4294967295|T>>>23))+((T=h+(e^t&(b^e))+a[7]+1735328473&4294967295)<<14&4294967295|T>>>18))+((T=t+(b^e&(h^b))+a[12]+2368359562&4294967295)<<20&4294967295|T>>>12))+((T=e+(t^h^b)+a[5]+4294588738&4294967295)<<4&4294967295|T>>>28))+((T=b+(e^t^h)+a[8]+2272392833&4294967295)<<11&4294967295|T>>>21))+((T=h+(b^e^t)+a[11]+1839030562&4294967295)<<16&4294967295|T>>>16))+((T=t+(h^b^e)+a[14]+4259657740&4294967295)<<23&4294967295|T>>>9))+((T=e+(t^h^b)+a[1]+2763975236&4294967295)<<4&4294967295|T>>>28))+((T=b+(e^t^h)+a[4]+1272893353&4294967295)<<11&4294967295|T>>>21))+((T=h+(b^e^t)+a[7]+4139469664&4294967295)<<16&4294967295|T>>>16))+((T=t+(h^b^e)+a[10]+3200236656&4294967295)<<23&4294967295|T>>>9))+((T=e+(t^h^b)+a[13]+681279174&4294967295)<<4&4294967295|T>>>28))+((T=b+(e^t^h)+a[0]+3936430074&4294967295)<<11&4294967295|T>>>21))+((T=h+(b^e^t)+a[3]+3572445317&4294967295)<<16&4294967295|T>>>16))+((T=t+(h^b^e)+a[6]+76029189&4294967295)<<23&4294967295|T>>>9))+((T=e+(t^h^b)+a[9]+3654602809&4294967295)<<4&4294967295|T>>>28))+((T=b+(e^t^h)+a[12]+3873151461&4294967295)<<11&4294967295|T>>>21))+((T=h+(b^e^t)+a[15]+530742520&4294967295)<<16&4294967295|T>>>16))+((T=t+(h^b^e)+a[2]+3299628645&4294967295)<<23&4294967295|T>>>9))+((T=e+(h^(t|~b))+a[0]+4096336452&4294967295)<<6&4294967295|T>>>26))+((T=b+(t^(e|~h))+a[7]+1126891415&4294967295)<<10&4294967295|T>>>22))+((T=h+(e^(b|~t))+a[14]+2878612391&4294967295)<<15&4294967295|T>>>17))+((T=t+(b^(h|~e))+a[5]+4237533241&4294967295)<<21&4294967295|T>>>11))+((T=e+(h^(t|~b))+a[12]+1700485571&4294967295)<<6&4294967295|T>>>26))+((T=b+(t^(e|~h))+a[3]+2399980690&4294967295)<<10&4294967295|T>>>22))+((T=h+(e^(b|~t))+a[10]+4293915773&4294967295)<<15&4294967295|T>>>17))+((T=t+(b^(h|~e))+a[1]+2240044497&4294967295)<<21&4294967295|T>>>11))+((T=e+(h^(t|~b))+a[8]+1873313359&4294967295)<<6&4294967295|T>>>26))+((T=b+(t^(e|~h))+a[15]+4264355552&4294967295)<<10&4294967295|T>>>22))+((T=h+(e^(b|~t))+a[6]+2734768916&4294967295)<<15&4294967295|T>>>17))+((T=t+(b^(h|~e))+a[13]+1309151649&4294967295)<<21&4294967295|T>>>11))+((b=(e=t+((T=e+(h^(t|~b))+a[4]+4149444226&4294967295)<<6&4294967295|T>>>26))+((T=b+(t^(e|~h))+a[11]+3174756917&4294967295)<<10&4294967295|T>>>22))^((h=b+((T=h+(e^(b|~t))+a[2]+718787259&4294967295)<<15&4294967295|T>>>17))|~e))+a[9]+3951481745&4294967295,i.g[0]=i.g[0]+e&4294967295,i.g[1]=i.g[1]+(h+(T<<21&4294967295|T>>>11))&4294967295,i.g[2]=i.g[2]+h&4294967295,i.g[3]=i.g[3]+b&4294967295}function Vs(i,e){this.h=e;for(var t=[],a=!0,h=i.length-1;0<=h;h--){var b=0|i[h];a&&b==e||(t[h]=b,a=!1)}this.g=t}(Re=he.prototype).Oa=function(i){this.M=i},Re.ha=function(i,e,t,a){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+i);e=e?e.toUpperCase():"GET",this.I=i,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():_e.g(),this.C=function Is(i){return i.h||(i.h=i.i())}(this.u?this.u:_e),this.g.onreadystatechange=kt(this.La,this);try{this.G=!0,this.g.open(e,String(i),!0),this.G=!1}catch(b){return void Tr(this,b)}if(i=t||"",t=new Map(this.headers),a)if(Object.getPrototypeOf(a)===Object.prototype)for(var h in a)t.set(h,a[h]);else{if("function"!=typeof a.keys||"function"!=typeof a.get)throw Error("Unknown input type for opt_headers: "+String(a));for(const b of a.keys())t.set(b,a.get(b))}a=Array.from(t.keys()).find(b=>"content-type"==b.toLowerCase()),h=Fe.FormData&&i instanceof Fe.FormData,!(0<=Ct(Ge,e))||a||h||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[b,T]of t)this.g.setRequestHeader(b,T);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{Es(this),0<this.B&&((this.L=function _n(i){return ut&&function er(){return et(qn,9,function(){let i=0;const e=qt(String(tn)).split("."),t=qt("9").split("."),a=Math.max(e.length,t.length);for(let T=0;0==i&&T<a;T++){var h=e[T]||"",b=t[T]||"";do{if(h=/(\d*)(\D*)(.*)/.exec(h)||["","","",""],b=/(\d*)(\D*)(.*)/.exec(b)||["","","",""],0==h[0].length&&0==b[0].length)break;i=Te(0==h[1].length?0:parseInt(h[1],10),0==b[1].length?0:parseInt(b[1],10))||Te(0==h[2].length,0==b[2].length)||Te(h[2],b[2]),h=h[3],b=b[3]}while(0==i)}return 0<=i})}()&&"number"==typeof i.timeout&&void 0!==i.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=kt(this.ua,this)):this.A=Wn(this.ua,this.B,this)),this.v=!0,this.g.send(i),this.v=!1}catch(b){Tr(this,b)}},Re.ua=function(){typeof Ze<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,zn(this,"timeout"),this.abort(8))},Re.abort=function(i){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=i||7,zn(this,"complete"),zn(this,"abort"),ni(this))},Re.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),ni(this,!0)),he.$.N.call(this)},Re.La=function(){this.s||(this.G||this.v||this.l?hi(this):this.kb())},Re.kb=function(){hi(this)},Re.da=function(){try{return 2<Ci(this)?this.g.status:-1}catch{return-1}},Re.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},Re.Wa=function(i){if(this.g){var e=this.g.responseText;return i&&0==e.indexOf(i)&&(e=e.substring(i.length)),O(e)}},Re.Ia=function(){return this.m},Re.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(Re=$.prototype).qa=8,Re.H=1,Re.Na=function(i){if(this.m)if(this.m=null,1==this.H){if(!i){this.W=Math.floor(1e5*Math.random()),i=this.W++;const h=new ve(this,this.j,i,void 0);let b=this.s;if(this.U&&(b?(b=ar(b),yi(b,this.U)):b=this.U),null!==this.o||this.O||(h.I=b,b=null),this.P)e:{for(var e=0,t=0;t<this.i.length;t++){var a=this.i[t];if(void 0===(a="__data__"in a.g&&"string"==typeof(a=a.g.__data__)?a.length:void 0))break;if(4096<(e+=a)){e=t;break e}if(4096===e||t===this.i.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=Mn(this,h,e),ki(t=ji(this.G),"RID",i),ki(t,"CVER",22),this.F&&ki(t,"X-HTTP-Session-Id",this.F),dn(this,t),b&&(this.O?e="headers="+encodeURIComponent(String(Do(b)))+"&"+e:this.o&&Ee(t,this.o,b)),Go(this.h,h),this.bb&&ki(t,"TYPE","init"),this.P?(ki(t,"$req",e),ki(t,"SID","null"),h.ba=!0,Vn(h,t,null)):Vn(h,t,e),this.H=2}}else 3==this.H&&(i?Pt(this,i):0==this.i.length||ho(this.h)||Pt(this))},Re.Ma=function(){if(this.u=null,vi(this),this.ca&&!(this.L||null==this.g||0>=this.S)){var i=2*this.S;this.j.info("BP detection timer enabled: "+i),this.B=ts(kt(this.jb,this),i)}},Re.jb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.M=!1,this.L=!0,cs(10),S(this),vi(this))},Re.ib=function(){null!=this.v&&(this.v=null,S(this),ui(this),cs(19))},Re.pb=function(i){i?(this.j.info("Successfully pinged google.com"),cs(2)):(this.j.info("Failed to ping google.com"),cs(1))},(Re=no.prototype).Ba=function(){},Re.Aa=function(){},Re.za=function(){},Re.ya=function(){},Re.Va=function(){},zo.prototype.g=function(i,e){return new So(i,e)},ft(So,En),So.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.I=!0);var i=this.g,e=this.l,t=this.h||void 0;cs(0),i.Y=e,i.ma=t||{},i.M=i.aa,i.G=wi(i,null,i.Y),ge(i)},So.prototype.close=function(){F(this.g)},So.prototype.u=function(i){var e=this.g;if("string"==typeof i){var t={};t.__data__=i,i=t}else this.v&&((t={}).__data__=kr(i),i=t);e.i.push(new class{constructor(i,e){this.h=i,this.g=e}}(e.fb++,i)),3==e.H&&ge(e)},So.prototype.N=function(){this.g.l=null,delete this.j,F(this.g),delete this.g,So.$.N.call(this)},ft(sa,pe),ft(Jo,Oe),ft(Da,no),Da.prototype.Ba=function(){zn(this.g,"a")},Da.prototype.Aa=function(i){zn(this.g,new sa(i))},Da.prototype.za=function(i){zn(this.g,new Jo)},Da.prototype.ya=function(){zn(this.g,"b")},ft(na,function Sa(){this.blockSize=-1}),na.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},na.prototype.j=function(i,e){void 0===e&&(e=i.length);for(var t=e-this.blockSize,a=this.m,h=this.h,b=0;b<e;){if(0==h)for(;b<=t;)Na(this,i,b),b+=this.blockSize;if("string"==typeof i){for(;b<e;)if(a[h++]=i.charCodeAt(b++),h==this.blockSize){Na(this,a),h=0;break}}else for(;b<e;)if(a[h++]=i[b++],h==this.blockSize){Na(this,a),h=0;break}}this.h=h,this.i+=e},na.prototype.l=function(){var i=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);i[0]=128;for(var e=1;e<i.length-8;++e)i[e]=0;var t=8*this.i;for(e=i.length-8;e<i.length;++e)i[e]=255&t,t/=256;for(this.j(i),i=Array(16),e=t=0;4>e;++e)for(var a=0;32>a;a+=8)i[t++]=this.g[e]>>>a&255;return i};var To={};function oa(i){return-128<=i&&128>i?et(To,i,function(e){return new Vs([0|e],0>e?-1:0)}):new Vs([0|i],0>i?-1:0)}function Oo(i){if(isNaN(i)||!isFinite(i))return Z;if(0>i)return Tt(Oo(-i));for(var e=[],t=1,a=0;i>=t;a++)e[a]=i/t|0,t*=M;return new Vs(e,0)}var M=4294967296,Z=oa(0),oe=oa(1),De=oa(16777216);function Be(i){if(0!=i.h)return!1;for(var e=0;e<i.g.length;e++)if(0!=i.g[e])return!1;return!0}function at(i){return-1==i.h}function Tt(i){for(var e=i.g.length,t=[],a=0;a<e;a++)t[a]=~i.g[a];return new Vs(t,~i.h).add(oe)}function Wt(i,e){return i.add(Tt(e))}function rn(i,e){for(;(65535&i[e])!=i[e];)i[e+1]+=i[e]>>>16,i[e]&=65535,e++}function Fn(i,e){this.g=i,this.h=e}function sr(i,e){if(Be(e))throw Error("division by zero");if(Be(i))return new Fn(Z,Z);if(at(i))return e=sr(Tt(i),e),new Fn(Tt(e.g),Tt(e.h));if(at(e))return e=sr(i,Tt(e)),new Fn(Tt(e.g),e.h);if(30<i.g.length){if(at(i)||at(e))throw Error("slowDivide_ only works with positive integers.");for(var t=oe,a=e;0>=a.X(i);)t=ri(t),a=ri(a);var h=Hr(t,1),b=Hr(a,1);for(a=Hr(a,2),t=Hr(t,2);!Be(a);){var T=b.add(a);0>=T.X(i)&&(h=h.add(t),b=T),a=Hr(a,1),t=Hr(t,1)}return e=Wt(i,h.R(e)),new Fn(h,e)}for(h=Z;0<=i.X(e);){for(t=Math.max(1,Math.floor(i.ea()/e.ea())),a=48>=(a=Math.ceil(Math.log(t)/Math.LN2))?1:Math.pow(2,a-48),T=(b=Oo(t)).R(e);at(T)||0<T.X(i);)T=(b=Oo(t-=a)).R(e);Be(b)&&(b=oe),h=h.add(b),i=Wt(i,T)}return new Fn(h,i)}function ri(i){for(var e=i.g.length+1,t=[],a=0;a<e;a++)t[a]=i.D(a)<<1|i.D(a-1)>>>31;return new Vs(t,i.h)}function Hr(i,e){var t=e>>5;e%=32;for(var a=i.g.length-t,h=[],b=0;b<a;b++)h[b]=0<e?i.D(b+t)>>>e|i.D(b+t+1)<<32-e:i.D(b+t);return new Vs(h,i.h)}(Re=Vs.prototype).ea=function(){if(at(this))return-Tt(this).ea();for(var i=0,e=1,t=0;t<this.g.length;t++){var a=this.D(t);i+=(0<=a?a:M+a)*e,e*=M}return i},Re.toString=function(i){if(2>(i=i||10)||36<i)throw Error("radix out of range: "+i);if(Be(this))return"0";if(at(this))return"-"+Tt(this).toString(i);for(var e=Oo(Math.pow(i,6)),t=this,a="";;){var h=sr(t,e).g,b=((0<(t=Wt(t,h.R(e))).g.length?t.g[0]:t.h)>>>0).toString(i);if(Be(t=h))return b+a;for(;6>b.length;)b="0"+b;a=b+a}},Re.D=function(i){return 0>i?0:i<this.g.length?this.g[i]:this.h},Re.X=function(i){return at(i=Wt(this,i))?-1:Be(i)?0:1},Re.abs=function(){return at(this)?Tt(this):this},Re.add=function(i){for(var e=Math.max(this.g.length,i.g.length),t=[],a=0,h=0;h<=e;h++){var b=a+(65535&this.D(h))+(65535&i.D(h)),T=(b>>>16)+(this.D(h)>>>16)+(i.D(h)>>>16);a=T>>>16,t[h]=(T&=65535)<<16|(b&=65535)}return new Vs(t,-2147483648&t[t.length-1]?-1:0)},Re.R=function(i){if(Be(this)||Be(i))return Z;if(at(this))return at(i)?Tt(this).R(Tt(i)):Tt(Tt(this).R(i));if(at(i))return Tt(this.R(Tt(i)));if(0>this.X(De)&&0>i.X(De))return Oo(this.ea()*i.ea());for(var e=this.g.length+i.g.length,t=[],a=0;a<2*e;a++)t[a]=0;for(a=0;a<this.g.length;a++)for(var h=0;h<i.g.length;h++){var b=this.D(a)>>>16,T=65535&this.D(a),G=i.D(h)>>>16,ae=65535&i.D(h);t[2*a+2*h]+=T*ae,rn(t,2*a+2*h),t[2*a+2*h+1]+=b*ae,rn(t,2*a+2*h+1),t[2*a+2*h+1]+=T*G,rn(t,2*a+2*h+1),t[2*a+2*h+2]+=b*G,rn(t,2*a+2*h+2)}for(a=0;a<e;a++)t[a]=t[2*a+1]<<16|t[2*a];for(a=e;a<2*e;a++)t[a]=0;return new Vs(t,0)},Re.gb=function(i){return sr(this,i).h},Re.and=function(i){for(var e=Math.max(this.g.length,i.g.length),t=[],a=0;a<e;a++)t[a]=this.D(a)&i.D(a);return new Vs(t,this.h&i.h)},Re.or=function(i){for(var e=Math.max(this.g.length,i.g.length),t=[],a=0;a<e;a++)t[a]=this.D(a)|i.D(a);return new Vs(t,this.h|i.h)},Re.xor=function(i){for(var e=Math.max(this.g.length,i.g.length),t=[],a=0;a<e;a++)t[a]=this.D(a)^i.D(a);return new Vs(t,this.h^i.h)},zo.prototype.createWebChannel=zo.prototype.g,So.prototype.send=So.prototype.u,So.prototype.open=So.prototype.m,So.prototype.close=So.prototype.close,zi.NO_ERROR=0,zi.TIMEOUT=8,zi.HTTP_ERROR=6,Qs.COMPLETE="complete",js.EventType=re,re.OPEN="a",re.CLOSE="b",re.ERROR="c",re.MESSAGE="d",En.prototype.listen=En.prototype.O,he.prototype.listenOnce=he.prototype.P,he.prototype.getLastError=he.prototype.Sa,he.prototype.getLastErrorCode=he.prototype.Ia,he.prototype.getStatus=he.prototype.da,he.prototype.getResponseJson=he.prototype.Wa,he.prototype.getResponseText=he.prototype.ja,he.prototype.send=he.prototype.ha,he.prototype.setWithCredentials=he.prototype.Oa,na.prototype.digest=na.prototype.l,na.prototype.reset=na.prototype.reset,na.prototype.update=na.prototype.j,Vs.prototype.add=Vs.prototype.add,Vs.prototype.multiply=Vs.prototype.R,Vs.prototype.modulo=Vs.prototype.gb,Vs.prototype.compare=Vs.prototype.X,Vs.prototype.toNumber=Vs.prototype.ea,Vs.prototype.toString=Vs.prototype.toString,Vs.prototype.getBits=Vs.prototype.D,Vs.fromNumber=Oo,Vs.fromString=function Ta(i,e){if(0==i.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==i.charAt(0))return Tt(Ta(i.substring(1),e));if(0<=i.indexOf("-"))throw Error('number format error: interior "-" character');for(var t=Oo(Math.pow(e,8)),a=Z,h=0;h<i.length;h+=8){var b=Math.min(8,i.length-h),T=parseInt(i.substring(h,h+b),e);8>b?(b=Oo(Math.pow(e,b)),a=a.R(b).add(Oo(T))):a=(a=a.R(t)).add(Oo(T))}return a};var Ms=Se.createWebChannelTransport=function(){return new zo},Gs=Se.getStatEventTarget=function(){return rs()},K=Se.ErrorCode=zi,de=Se.EventType=Qs,Q=Se.Event=zr,Pe=Se.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},_t=Se.FetchXmlHttpFactory=Ro,mn=Se.WebChannel=js,Pn=Se.XhrIo=he,ii=Se.Md5=na,hr=Se.Integer=Vs;const Hi="@firebase/firestore";class ei{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ei.UNAUTHENTICATED=new ei(null),ei.GOOGLE_CREDENTIALS=new ei("google-credentials-uid"),ei.FIRST_PARTY=new ei("first-party-uid"),ei.MOCK_USER=new ei("mock-user");let Li="9.22.0";const ds=new ke.Yd("@firebase/firestore");function Ps(){return ds.logLevel}function lo(i){ds.setLogLevel(i)}function Hn(i,...e){if(ds.logLevel<=ke.in.DEBUG){const t=e.map(ea);ds.debug(`Firestore (${Li}): ${i}`,...t)}}function Bi(i,...e){if(ds.logLevel<=ke.in.ERROR){const t=e.map(ea);ds.error(`Firestore (${Li}): ${i}`,...t)}}function Ho(i,...e){if(ds.logLevel<=ke.in.WARN){const t=e.map(ea);ds.warn(`Firestore (${Li}): ${i}`,...t)}}function ea(i){if("string"==typeof i)return i;try{return JSON.stringify(i)}catch{return i}}function Rr(i="Unexpected state"){const e=`FIRESTORE (${Li}) INTERNAL ASSERTION FAILED: `+i;throw Bi(e),new Error(e)}function si(i,e){i||Rr()}function Gn(i,e){i||Rr()}function Bn(i,e){return i}const Dn={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Zn extends qe.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Ds{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class aa{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Fa{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(ei.UNAUTHENTICATED))}shutdown(){}}class _a{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class Ja{constructor(e){this.t=e,this.currentUser=ei.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var a=this;let h=this.i;const b=we=>this.i!==h?(h=this.i,t(we)):Promise.resolve();let T=new Ds;this.o=()=>{this.i++,this.currentUser=this.u(),T.resolve(),T=new Ds,e.enqueueRetryable(()=>b(this.currentUser))};const G=()=>{const we=T;e.enqueueRetryable((0,d.Z)(function*(){yield we.promise,yield b(a.currentUser)}))},ae=we=>{Hn("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=we,this.auth.addAuthTokenListener(this.o),G()};this.t.onInit(we=>ae(we)),setTimeout(()=>{if(!this.auth){const we=this.t.getImmediate({optional:!0});we?ae(we):(Hn("FirebaseAuthCredentialsProvider","Auth not yet detected"),T.resolve(),T=new Ds)}},0),G()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(a=>this.i!==e?(Hn("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(si("string"==typeof a.accessToken),new aa(a.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return si(null===e||"string"==typeof e),new ei(e)}}class al{constructor(e,t,a){this.h=e,this.l=t,this.m=a,this.type="FirstParty",this.user=ei.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class ta{constructor(e,t,a){this.h=e,this.l=t,this.m=a}getToken(){return Promise.resolve(new al(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(ei.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class La{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class ml{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,t){const a=b=>{null!=b.error&&Hn("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${b.error.message}`);const T=b.token!==this.T;return this.T=b.token,Hn("FirebaseAppCheckTokenProvider",`Received ${T?"new":"existing"} token.`),T?t(b.token):Promise.resolve()};this.o=b=>{e.enqueueRetryable(()=>a(b))};const h=b=>{Hn("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=b,this.appCheck.addTokenListener(this.o)};this.I.onInit(b=>h(b)),setTimeout(()=>{if(!this.appCheck){const b=this.I.getImmediate({optional:!0});b?h(b):Hn("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(si("string"==typeof t.token),this.T=t.token,new La(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Bo(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(i);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let a=0;a<i;a++)t[a]=Math.floor(256*Math.random());return t}class ll{static A(){const t=62*Math.floor(256/62);let a="";for(;a.length<20;){const h=Bo(40);for(let b=0;b<h.length;++b)a.length<20&&h[b]<t&&(a+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(h[b]%62))}return a}}function $i(i,e){return i<e?-1:i>e?1:0}function la(i,e,t){return i.length===e.length&&i.every((a,h)=>t(a,e[h]))}function Al(i){return i+"\0"}class ps{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Zn(Dn.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Zn(Dn.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Zn(Dn.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Zn(Dn.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return ps.fromMillis(Date.now())}static fromDate(e){return ps.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),a=Math.floor(1e6*(e-1e3*t));return new ps(t,a)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?$i(this.nanoseconds,e.nanoseconds):$i(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class ti{constructor(e){this.timestamp=e}static fromTimestamp(e){return new ti(e)}static min(){return new ti(new ps(0,0))}static max(){return new ti(new ps(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Ba{constructor(e,t,a){void 0===t?t=0:t>e.length&&Rr(),void 0===a?a=e.length-t:a>e.length-t&&Rr(),this.segments=e,this.offset=t,this.len=a}get length(){return this.len}isEqual(e){return 0===Ba.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Ba?e.forEach(a=>{t.push(a)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,a=this.limit();t<a;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const a=Math.min(e.length,t.length);for(let h=0;h<a;h++){const b=e.get(h),T=t.get(h);if(b<T)return-1;if(b>T)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class as extends Ba{construct(e,t,a){return new as(e,t,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const a of e){if(a.indexOf("//")>=0)throw new Zn(Dn.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);t.push(...a.split("/").filter(h=>h.length>0))}return new as(t)}static emptyPath(){return new as([])}}const Wa=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class gs extends Ba{construct(e,t,a){return new gs(e,t,a)}static isValidIdentifier(e){return Wa.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),gs.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new gs(["__name__"])}static fromServerFormat(e){const t=[];let a="",h=0;const b=()=>{if(0===a.length)throw new Zn(Dn.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(a),a=""};let T=!1;for(;h<e.length;){const G=e[h];if("\\"===G){if(h+1===e.length)throw new Zn(Dn.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const ae=e[h+1];if("\\"!==ae&&"."!==ae&&"`"!==ae)throw new Zn(Dn.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);a+=ae,h+=2}else"`"===G?(T=!T,h++):"."!==G||T?(a+=G,h++):(b(),h++)}if(b(),T)throw new Zn(Dn.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new gs(t)}static emptyPath(){return new gs([])}}class gr{constructor(e){this.path=e}static fromPath(e){return new gr(as.fromString(e))}static fromName(e){return new gr(as.fromString(e).popFirst(5))}static empty(){return new gr(as.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===as.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return as.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new gr(new as(e.slice()))}}class Aa{constructor(e,t,a,h){this.indexId=e,this.collectionGroup=t,this.fields=a,this.indexState=h}}function pa(i){return i.fields.find(e=>2===e.kind)}function xa(i){return i.fields.filter(e=>2!==e.kind)}Aa.UNKNOWN_ID=-1;class nt{constructor(e,t){this.fieldPath=e,this.kind=t}}class Jt{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new Jt(0,Wi.min())}}function yr(i,e){const t=i.toTimestamp().seconds,a=i.toTimestamp().nanoseconds+1,h=ti.fromTimestamp(1e9===a?new ps(t+1,0):new ps(t,a));return new Wi(h,gr.empty(),e)}function Vi(i){return new Wi(i.readTime,i.key,-1)}class Wi{constructor(e,t,a){this.readTime=e,this.documentKey=t,this.largestBatchId=a}static min(){return new Wi(ti.min(),gr.empty(),-1)}static max(){return new Wi(ti.max(),gr.empty(),-1)}}function ss(i,e){let t=i.readTime.compareTo(e.readTime);return 0!==t?t:(t=gr.comparator(i.documentKey,e.documentKey),0!==t?t:$i(i.largestBatchId,e.largestBatchId))}const Qi="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Gi{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Ko(i){return ca.apply(this,arguments)}function ca(){return ca=(0,d.Z)(function*(i){if(i.code!==Dn.FAILED_PRECONDITION||i.message!==Qi)throw i;Hn("LocalStore","Unexpectedly lost primary lease")}),ca.apply(this,arguments)}class pn{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Rr(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new pn((a,h)=>{this.nextCallback=b=>{this.wrapSuccess(e,b).next(a,h)},this.catchCallback=b=>{this.wrapFailure(t,b).next(a,h)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof pn?t:pn.resolve(t)}catch(t){return pn.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):pn.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):pn.reject(t)}static resolve(e){return new pn((t,a)=>{t(e)})}static reject(e){return new pn((t,a)=>{a(e)})}static waitFor(e){return new pn((t,a)=>{let h=0,b=0,T=!1;e.forEach(G=>{++h,G.next(()=>{++b,T&&b===h&&t()},ae=>a(ae))}),T=!0,b===h&&t()})}static or(e){let t=pn.resolve(!1);for(const a of e)t=t.next(h=>h?pn.resolve(h):a());return t}static forEach(e,t){const a=[];return e.forEach((h,b)=>{a.push(t.call(this,h,b))}),this.waitFor(a)}static mapArray(e,t){return new pn((a,h)=>{const b=e.length,T=new Array(b);let G=0;for(let ae=0;ae<b;ae++){const we=ae;t(e[we]).next(Ye=>{T[we]=Ye,++G,G===b&&a(T)},Ye=>h(Ye))}})}static doWhile(e,t){return new pn((a,h)=>{const b=()=>{!0===e()?t().next(()=>{b()},h):a()};b()})}}class $a{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.v=new Ds,this.transaction.oncomplete=()=>{this.v.resolve()},this.transaction.onabort=()=>{t.error?this.v.reject(new Ya(e,t.error)):this.v.resolve()},this.transaction.onerror=a=>{const h=H(a.target.error);this.v.reject(new Ya(e,h))}}static open(e,t,a,h){try{return new $a(t,e.transaction(h,a))}catch(b){throw new Ya(t,b)}}get R(){return this.v.promise}abort(e){e&&this.v.reject(e),this.aborted||(Hn("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}P(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new xl(t)}}class ga{constructor(e,t,a){this.name=e,this.version=t,this.V=a,12.2===ga.S((0,qe.z$)())&&Bi("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Hn("SimpleDb","Removing database:",e),$o(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!(0,qe.hl)())return!1;if(ga.C())return!0;const e=(0,qe.z$)(),t=ga.S(e),a=0<t&&t<10,h=ga.N(e),b=0<h&&h<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||a||b)}static C(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.k)}static M(e,t){return e.store(t)}static S(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),a=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(a)}static N(e){const t=e.match(/Android ([\d.]+)/i),a=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(a)}$(e){var t=this;return(0,d.Z)(function*(){return t.db||(Hn("SimpleDb","Opening database:",t.name),t.db=yield new Promise((a,h)=>{const b=indexedDB.open(t.name,t.version);b.onsuccess=T=>{a(T.target.result)},b.onblocked=()=>{h(new Ya(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},b.onerror=T=>{const G=T.target.error;h("VersionError"===G.name?new Zn(Dn.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===G.name?new Zn(Dn.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+G):new Ya(e,G))},b.onupgradeneeded=T=>{Hn("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',T.oldVersion),t.V.O(T.target.result,b.transaction,T.oldVersion,t.version).next(()=>{Hn("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.F&&(t.db.onversionchange=a=>t.F(a)),t.db})()}B(e){this.F=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,a,h){var b=this;return(0,d.Z)(function*(){const T="readonly"===t;let G=0;for(;;){++G;try{b.db=yield b.$(e);const ae=$a.open(b.db,e,T?"readonly":"readwrite",a),we=h(ae).next(Ye=>(ae.P(),Ye)).catch(Ye=>(ae.abort(Ye),pn.reject(Ye))).toPromise();return we.catch(()=>{}),yield ae.R,we}catch(ae){const we=ae,Ye="FirebaseError"!==we.name&&G<3;if(Hn("SimpleDb","Transaction failed with error:",we.message,"Retrying:",Ye),b.close(),!Ye)return Promise.reject(we)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class Il{constructor(e){this.L=e,this.q=!1,this.U=null}get isDone(){return this.q}get K(){return this.U}set cursor(e){this.L=e}done(){this.q=!0}G(e){this.U=e}delete(){return $o(this.L.delete())}}class Ya extends Zn{constructor(e,t){super(Dn.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function Xo(i){return"IndexedDbTransactionError"===i.name}class xl{constructor(e){this.store=e}put(e,t){let a;return void 0!==t?(Hn("SimpleDb","PUT",this.store.name,e,t),a=this.store.put(t,e)):(Hn("SimpleDb","PUT",this.store.name,"<auto-key>",e),a=this.store.put(e)),$o(a)}add(e){return Hn("SimpleDb","ADD",this.store.name,e,e),$o(this.store.add(e))}get(e){return $o(this.store.get(e)).next(t=>(void 0===t&&(t=null),Hn("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return Hn("SimpleDb","DELETE",this.store.name,e),$o(this.store.delete(e))}count(){return Hn("SimpleDb","COUNT",this.store.name),$o(this.store.count())}j(e,t){const a=this.options(e,t);if(a.index||"function"!=typeof this.store.getAll){const h=this.cursor(a),b=[];return this.W(h,(T,G)=>{b.push(G)}).next(()=>b)}{const h=this.store.getAll(a.range);return new pn((b,T)=>{h.onerror=G=>{T(G.target.error)},h.onsuccess=G=>{b(G.target.result)}})}}H(e,t){const a=this.store.getAll(e,null===t?void 0:t);return new pn((h,b)=>{a.onerror=T=>{b(T.target.error)},a.onsuccess=T=>{h(T.target.result)}})}J(e,t){Hn("SimpleDb","DELETE ALL",this.store.name);const a=this.options(e,t);a.Y=!1;const h=this.cursor(a);return this.W(h,(b,T,G)=>G.delete())}X(e,t){let a;t?a=e:(a={},t=e);const h=this.cursor(a);return this.W(h,t)}Z(e){const t=this.cursor({});return new pn((a,h)=>{t.onerror=b=>{const T=H(b.target.error);h(T)},t.onsuccess=b=>{const T=b.target.result;T?e(T.primaryKey,T.value).next(G=>{G?T.continue():a()}):a()}})}W(e,t){const a=[];return new pn((h,b)=>{e.onerror=T=>{b(T.target.error)},e.onsuccess=T=>{const G=T.target.result;if(!G)return void h();const ae=new Il(G),we=t(G.primaryKey,G.value,ae);if(we instanceof pn){const Ye=we.catch(Rt=>(ae.done(),pn.reject(Rt)));a.push(Ye)}ae.isDone?h():null===ae.K?G.continue():G.continue(ae.K)}}).next(()=>pn.waitFor(a))}options(e,t){let a;return void 0!==e&&("string"==typeof e?a=e:t=e),{index:a,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const a=this.store.index(e.index);return e.Y?a.openKeyCursor(e.range,t):a.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function $o(i){return new pn((e,t)=>{i.onsuccess=a=>{e(a.target.result)},i.onerror=a=>{const h=H(a.target.error);t(h)}})}let V=!1;function H(i){const e=ga.S((0,qe.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(i.message.indexOf(t)>=0){const a=new Zn("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return V||(V=!0,setTimeout(()=>{throw a},0)),a}}return i}class R{constructor(e,t){this.asyncQueue=e,this.tt=t,this.task=null}start(){this.et(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}et(e){var t=this;Hn("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,d.Z)(function*(){t.task=null;try{Hn("IndexBackiller",`Documents written: ${yield t.tt.nt()}`)}catch(a){Xo(a)?Hn("IndexBackiller","Ignoring IndexedDB error during index backfill: ",a):yield Ko(a)}yield t.et(6e4)}))}}class q{constructor(e,t){this.localStore=e,this.persistence=t}nt(e=50){var t=this;return(0,d.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",a=>t.st(a,e))})()}st(e,t){const a=new Set;let h=t,b=!0;return pn.doWhile(()=>!0===b&&h>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(T=>{if(null!==T&&!a.has(T))return Hn("IndexBackiller",`Processing collection: ${T}`),this.it(e,T,h).next(G=>{h-=G,a.add(T)});b=!1})).next(()=>t-h)}it(e,t,a){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(h=>this.localStore.localDocuments.getNextDocuments(e,t,h,a).next(b=>{const T=b.changes;return this.localStore.indexManager.updateIndexEntries(e,T).next(()=>this.rt(h,b)).next(G=>(Hn("IndexBackiller",`Updating offset: ${G}`),this.localStore.indexManager.updateCollectionGroup(e,t,G))).next(()=>T.size)}))}rt(e,t){let a=e;return t.changes.forEach((h,b)=>{const T=Vi(b);ss(T,a)>0&&(a=T)}),new Wi(a.readTime,a.documentKey,Math.max(t.batchId,e.largestBatchId))}}let me=(()=>{class i{constructor(t,a){this.previousValue=t,a&&(a.sequenceNumberHandler=h=>this.ot(h),this.ut=h=>a.writeSequenceNumber(h))}ot(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ut&&this.ut(t),t}}return i.ct=-1,i})();function Xe(i){return null==i}function Ue(i){return 0===i&&1/i==-1/0}function Yt(i){return"number"==typeof i&&Number.isInteger(i)&&!Ue(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}function An(i){let e="";for(let t=0;t<i.length;t++)e.length>0&&(e=Mi(e)),e=Ar(i.get(t),e);return Mi(e)}function Ar(i,e){let t=e;const a=i.length;for(let h=0;h<a;h++){const b=i.charAt(h);switch(b){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=b}}return t}function Mi(i){return i+"\x01\x01"}function Zr(i){const e=i.length;if(si(e>=2),2===e)return si("\x01"===i.charAt(0)&&"\x01"===i.charAt(1)),as.emptyPath();const t=e-2,a=[];let h="";for(let b=0;b<e;){const T=i.indexOf("\x01",b);switch((T<0||T>t)&&Rr(),i.charAt(T+1)){case"\x01":const G=i.substring(b,T);let ae;0===h.length?ae=G:(h+=G,ae=h,h=""),a.push(ae);break;case"\x10":h+=i.substring(b,T),h+="\0";break;case"\x11":h+=i.substring(b,T+1);break;default:Rr()}b=T+2}return new as(a)}const ko=["userId","batchId"];function m(i,e){return[i,An(e)]}function l(i,e,t){return[i,An(e),t]}const s={},c=["prefixPath","collectionGroup","readTime","documentId"],f=["prefixPath","collectionGroup","documentId"],_=["collectionGroup","readTime","prefixPath","documentId"],I=["canonicalId","targetId"],A=["targetId","path"],k=["path","targetId"],Y=["collectionId","parent"],ue=["indexId","uid"],Ce=["uid","sequenceNumber"],je=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],Qe=["indexId","uid","orderedDocumentKey"],Et=["userId","collectionPath","documentId"],At=["userId","collectionPath","largestBatchId"],Xt=["userId","collectionGroup","largestBatchId"],In=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],wn=[...In,"documentOverlays"],tr=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Qn=tr,Kn=[...Qn,"indexConfiguration","indexState","indexEntries"];class or extends Gi{constructor(e,t){super(),this.ht=e,this.currentSequenceNumber=t}}function dr(i,e){const t=Bn(i);return ga.M(t.ht,e)}function vr(i){let e=0;for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e++;return e}function fi(i,e){for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e(t,i[t])}function Oi(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}class Vr{constructor(e,t){this.comparator=e,this.root=t||Rs.EMPTY}insert(e,t){return new Vr(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Rs.BLACK,null,null))}remove(e){return new Vr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Rs.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const a=this.comparator(e,t.key);if(0===a)return t.value;a<0?t=t.left:a>0&&(t=t.right)}return null}indexOf(e){let t=0,a=this.root;for(;!a.isEmpty();){const h=this.comparator(e,a.key);if(0===h)return t+a.left.size;h<0?a=a.left:(t+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,a)=>(e(t,a),!1))}toString(){const e=[];return this.inorderTraversal((t,a)=>(e.push(`${t}:${a}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ms(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ms(this.root,e,this.comparator,!1)}getReverseIterator(){return new ms(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ms(this.root,e,this.comparator,!0)}}class ms{constructor(e,t,a,h){this.isReverse=h,this.nodeStack=[];let b=1;for(;!e.isEmpty();)if(b=t?a(e.key,t):1,t&&h&&(b*=-1),b<0)e=this.isReverse?e.left:e.right;else{if(0===b){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Rs{constructor(e,t,a,h,b){this.key=e,this.value=t,this.color=null!=a?a:Rs.RED,this.left=null!=h?h:Rs.EMPTY,this.right=null!=b?b:Rs.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,a,h,b){return new Rs(null!=e?e:this.key,null!=t?t:this.value,null!=a?a:this.color,null!=h?h:this.left,null!=b?b:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,a){let h=this;const b=a(e,h.key);return h=b<0?h.copy(null,null,null,h.left.insert(e,t,a),null):0===b?h.copy(null,t,null,null,null):h.copy(null,null,null,null,h.right.insert(e,t,a)),h.fixUp()}removeMin(){if(this.left.isEmpty())return Rs.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let a,h=this;if(t(e,h.key)<0)h.left.isEmpty()||h.left.isRed()||h.left.left.isRed()||(h=h.moveRedLeft()),h=h.copy(null,null,null,h.left.remove(e,t),null);else{if(h.left.isRed()&&(h=h.rotateRight()),h.right.isEmpty()||h.right.isRed()||h.right.left.isRed()||(h=h.moveRedRight()),0===t(e,h.key)){if(h.right.isEmpty())return Rs.EMPTY;a=h.right.min(),h=h.copy(a.key,a.value,null,null,h.right.removeMin())}h=h.copy(null,null,null,null,h.right.remove(e,t))}return h.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Rs.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Rs.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Rr();const e=this.left.check();if(e!==this.right.check())throw Rr();return e+(this.isRed()?0:1)}}Rs.EMPTY=null,Rs.RED=!0,Rs.BLACK=!1,Rs.EMPTY=new class{constructor(){this.size=0}get key(){throw Rr()}get value(){throw Rr()}get color(){throw Rr()}get left(){throw Rr()}get right(){throw Rr()}copy(i,e,t,a,h){return this}insert(i,e,t){return new Rs(i,e)}remove(i,e){return this}isEmpty(){return!0}inorderTraversal(i){return!1}reverseTraversal(i){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class os{constructor(e){this.comparator=e,this.data=new Vr(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,a)=>(e(t),!1))}forEachInRange(e,t){const a=this.data.getIteratorFrom(e[0]);for(;a.hasNext();){const h=a.getNext();if(this.comparator(h.key,e[1])>=0)return;t(h.key)}}forEachWhile(e,t){let a;for(a=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();a.hasNext();)if(!e(a.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Ns(this.data.getIterator())}getIteratorFrom(e){return new Ns(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(a=>{t=t.add(a)}),t}isEqual(e){if(!(e instanceof os)||this.size!==e.size)return!1;const t=this.data.getIterator(),a=e.data.getIterator();for(;t.hasNext();){const h=t.getNext().key,b=a.getNext().key;if(0!==this.comparator(h,b))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new os(this.comparator);return t.data=e,t}}class Ns{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function wr(i){return i.hasNext()?i.getNext():void 0}class Ir{constructor(e){this.fields=e,e.sort(gs.comparator)}static empty(){return new Ir([])}unionWith(e){let t=new os(gs.comparator);for(const a of this.fields)t=t.add(a);for(const a of e)t=t.add(a);return new Ir(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return la(this.fields,e.fields,(t,a)=>t.isEqual(a))}}class Ii extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}function Ki(){return typeof atob<"u"}class ns{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(a){try{return atob(a)}catch(h){throw typeof DOMException<"u"&&h instanceof DOMException?new Ii("Invalid base64 string: "+h):h}}(e);return new ns(t)}static fromUint8Array(e){const t=function(a){let h="";for(let b=0;b<a.length;++b)h+=String.fromCharCode(a[b]);return h}(e);return new ns(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let a=0;a<e.length;a++)t[a]=e.charCodeAt(a);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return $i(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ns.EMPTY_BYTE_STRING=new ns("");const ua=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function po(i){if(si(!!i),"string"==typeof i){let e=0;const t=ua.exec(i);if(si(!!t),t[1]){let h=t[1];h=(h+"000000000").substr(0,9),e=Number(h)}const a=new Date(i);return{seconds:Math.floor(a.getTime()/1e3),nanos:e}}return{seconds:Ss(i.seconds),nanos:Ss(i.nanos)}}function Ss(i){return"number"==typeof i?i:"string"==typeof i?Number(i):0}function ls(i){return"string"==typeof i?ns.fromBase64String(i):ns.fromUint8Array(i)}function wa(i){var e,t;return"server_timestamp"===(null===(t=((null===(e=null==i?void 0:i.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function Va(i){const e=i.mapValue.fields.__previous_value__;return wa(e)?Va(e):e}function Vo(i){const e=po(i.mapValue.fields.__local_write_time__.timestampValue);return new ps(e.seconds,e.nanos)}class Ml{constructor(e,t,a,h,b,T,G,ae,we){this.databaseId=e,this.appId=t,this.persistenceKey=a,this.host=h,this.ssl=b,this.forceLongPolling=T,this.autoDetectLongPolling=G,this.longPollingOptions=ae,this.useFetchStreams=we}}class ra{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new ra("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof ra&&e.projectId===this.projectId&&e.database===this.database}}const tl={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Zl={nullValue:"NULL_VALUE"};function yl(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?wa(i)?4:Pl(i)?9007199254740991:10:Rr()}function vl(i,e){if(i===e)return!0;const t=yl(i);if(t!==yl(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return Vo(i).isEqual(Vo(e));case 3:return function(a,h){if("string"==typeof a.timestampValue&&"string"==typeof h.timestampValue&&a.timestampValue.length===h.timestampValue.length)return a.timestampValue===h.timestampValue;const b=po(a.timestampValue),T=po(h.timestampValue);return b.seconds===T.seconds&&b.nanos===T.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return h=e,ls(i.bytesValue).isEqual(ls(h.bytesValue));case 7:return i.referenceValue===e.referenceValue;case 8:return function(a,h){return Ss(a.geoPointValue.latitude)===Ss(h.geoPointValue.latitude)&&Ss(a.geoPointValue.longitude)===Ss(h.geoPointValue.longitude)}(i,e);case 2:return function(a,h){if("integerValue"in a&&"integerValue"in h)return Ss(a.integerValue)===Ss(h.integerValue);if("doubleValue"in a&&"doubleValue"in h){const b=Ss(a.doubleValue),T=Ss(h.doubleValue);return b===T?Ue(b)===Ue(T):isNaN(b)&&isNaN(T)}return!1}(i,e);case 9:return la(i.arrayValue.values||[],e.arrayValue.values||[],vl);case 10:return function(a,h){const b=a.mapValue.fields||{},T=h.mapValue.fields||{};if(vr(b)!==vr(T))return!1;for(const G in b)if(b.hasOwnProperty(G)&&(void 0===T[G]||!vl(b[G],T[G])))return!1;return!0}(i,e);default:return Rr()}var h}function Nc(i,e){return void 0!==(i.values||[]).find(t=>vl(t,e))}function Xl(i,e){if(i===e)return 0;const t=yl(i),a=yl(e);if(t!==a)return $i(t,a);switch(t){case 0:case 9007199254740991:return 0;case 1:return $i(i.booleanValue,e.booleanValue);case 2:return function(h,b){const T=Ss(h.integerValue||h.doubleValue),G=Ss(b.integerValue||b.doubleValue);return T<G?-1:T>G?1:T===G?0:isNaN(T)?isNaN(G)?0:-1:1}(i,e);case 3:return Ql(i.timestampValue,e.timestampValue);case 4:return Ql(Vo(i),Vo(e));case 5:return $i(i.stringValue,e.stringValue);case 6:return function(h,b){const T=ls(h),G=ls(b);return T.compareTo(G)}(i.bytesValue,e.bytesValue);case 7:return function(h,b){const T=h.split("/"),G=b.split("/");for(let ae=0;ae<T.length&&ae<G.length;ae++){const we=$i(T[ae],G[ae]);if(0!==we)return we}return $i(T.length,G.length)}(i.referenceValue,e.referenceValue);case 8:return function(h,b){const T=$i(Ss(h.latitude),Ss(b.latitude));return 0!==T?T:$i(Ss(h.longitude),Ss(b.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return function(h,b){const T=h.values||[],G=b.values||[];for(let ae=0;ae<T.length&&ae<G.length;++ae){const we=Xl(T[ae],G[ae]);if(we)return we}return $i(T.length,G.length)}(i.arrayValue,e.arrayValue);case 10:return function(h,b){if(h===tl.mapValue&&b===tl.mapValue)return 0;if(h===tl.mapValue)return 1;if(b===tl.mapValue)return-1;const T=h.fields||{},G=Object.keys(T),ae=b.fields||{},we=Object.keys(ae);G.sort(),we.sort();for(let Ye=0;Ye<G.length&&Ye<we.length;++Ye){const Rt=$i(G[Ye],we[Ye]);if(0!==Rt)return Rt;const bn=Xl(T[G[Ye]],ae[we[Ye]]);if(0!==bn)return bn}return $i(G.length,we.length)}(i.mapValue,e.mapValue);default:throw Rr()}}function Ql(i,e){if("string"==typeof i&&"string"==typeof e&&i.length===e.length)return $i(i,e);const t=po(i),a=po(e),h=$i(t.seconds,a.seconds);return 0!==h?h:$i(t.nanos,a.nanos)}function Ll(i){return Fc(i)}function Fc(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(a){const h=po(a);return`time(${h.seconds},${h.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?ls(i.bytesValue).toBase64():"referenceValue"in i?gr.fromName(i.referenceValue).toString():"geoPointValue"in i?`geo(${(e=i.geoPointValue).latitude},${e.longitude})`:"arrayValue"in i?function(a){let h="[",b=!0;for(const T of a.values||[])b?b=!1:h+=",",h+=Fc(T);return h+"]"}(i.arrayValue):"mapValue"in i?function(a){const h=Object.keys(a.fields||{}).sort();let b="{",T=!0;for(const G of h)T?T=!1:b+=",",b+=`${G}:${Fc(a.fields[G])}`;return b+"}"}(i.mapValue):Rr();var e}function Jl(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function hl(i){return!!i&&"integerValue"in i}function cl(i){return!!i&&"arrayValue"in i}function Ga(i){return!!i&&"nullValue"in i}function ec(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function vc(i){return!!i&&"mapValue"in i}function fl(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&"object"==typeof i.timestampValue)return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const e={mapValue:{fields:{}}};return fi(i.mapValue.fields,(t,a)=>e.mapValue.fields[t]=fl(a)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(i.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=fl(i.arrayValue.values[t]);return e}return Object.assign({},i)}function Pl(i){return"__max__"===(((i.mapValue||{}).fields||{}).__type__||{}).stringValue}function Lc(i){return"nullValue"in i?Zl:"booleanValue"in i?{booleanValue:!1}:"integerValue"in i||"doubleValue"in i?{doubleValue:NaN}:"timestampValue"in i?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in i?{stringValue:""}:"bytesValue"in i?{bytesValue:""}:"referenceValue"in i?Jl(ra.empty(),gr.empty()):"geoPointValue"in i?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in i?{arrayValue:{}}:"mapValue"in i?{mapValue:{}}:Rr()}function Df(i){return"nullValue"in i?{booleanValue:!1}:"booleanValue"in i?{doubleValue:NaN}:"integerValue"in i||"doubleValue"in i?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in i?{stringValue:""}:"stringValue"in i?{bytesValue:""}:"bytesValue"in i?Jl(ra.empty(),gr.empty()):"referenceValue"in i?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in i?{arrayValue:{}}:"arrayValue"in i?{mapValue:{}}:"mapValue"in i?tl:Rr()}function pl(i,e){const t=Xl(i.value,e.value);return 0!==t?t:i.inclusive&&!e.inclusive?-1:!i.inclusive&&e.inclusive?1:0}function md(i,e){const t=Xl(i.value,e.value);return 0!==t?t:i.inclusive&&!e.inclusive?1:!i.inclusive&&e.inclusive?-1:0}class Wo{constructor(e){this.value=e}static empty(){return new Wo({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let a=0;a<e.length-1;++a)if(t=(t.mapValue.fields||{})[e.get(a)],!vc(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=fl(t)}setAll(e){let t=gs.emptyPath(),a={},h=[];e.forEach((T,G)=>{if(!t.isImmediateParentOf(G)){const ae=this.getFieldsMap(t);this.applyChanges(ae,a,h),a={},h=[],t=G.popLast()}T?a[G.lastSegment()]=fl(T):h.push(G.lastSegment())});const b=this.getFieldsMap(t);this.applyChanges(b,a,h)}delete(e){const t=this.field(e.popLast());vc(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return vl(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let a=0;a<e.length;++a){let h=t.mapValue.fields[e.get(a)];vc(h)&&h.mapValue.fields||(h={mapValue:{fields:{}}},t.mapValue.fields[e.get(a)]=h),t=h}return t.mapValue.fields}applyChanges(e,t,a){fi(t,(h,b)=>e[h]=b);for(const h of a)delete e[h]}clone(){return new Wo(fl(this.value))}}function tc(i){const e=[];return fi(i.fields,(t,a)=>{const h=new gs([t]);if(vc(a)){const b=tc(a.mapValue).fields;if(0===b.length)e.push(h);else for(const T of b)e.push(h.child(T))}else e.push(h)}),new Ir(e)}class Fo{constructor(e,t,a,h,b,T,G){this.key=e,this.documentType=t,this.version=a,this.readTime=h,this.createTime=b,this.data=T,this.documentState=G}static newInvalidDocument(e){return new Fo(e,0,ti.min(),ti.min(),ti.min(),Wo.empty(),0)}static newFoundDocument(e,t,a,h){return new Fo(e,1,t,ti.min(),a,h,0)}static newNoDocument(e,t){return new Fo(e,2,t,ti.min(),ti.min(),Wo.empty(),0)}static newUnknownDocument(e,t){return new Fo(e,3,t,ti.min(),ti.min(),Wo.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(ti.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Wo.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Wo.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ti.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Fo&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Fo(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class ba{constructor(e,t){this.position=e,this.inclusive=t}}function iu(i,e,t){let a=0;for(let h=0;h<i.position.length;h++){const b=e[h],T=i.position[h];if(a=b.field.isKeyField()?gr.comparator(gr.fromName(T.referenceValue),t.key):Xl(T,t.data.field(b.field)),"desc"===b.dir&&(a*=-1),0!==a)break}return a}function yd(i,e){if(null===i)return null===e;if(null===e||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let t=0;t<i.position.length;t++)if(!vl(i.position[t],e.position[t]))return!1;return!0}class nc{constructor(e,t="asc"){this.field=e,this.dir=t}}function uh(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}class vd{}class co extends vd{constructor(e,t,a){super(),this.field=e,this.op=t,this.value=a}static create(e,t,a){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,a):new Fu(e,t,a):"array-contains"===t?new dh(e,a):"in"===t?new _c(e,a):"not-in"===t?new oc(e,a):"array-contains-any"===t?new ou(e,a):new co(e,t,a)}static createKeyFieldInFilter(e,t,a){return"in"===t?new $c(e,a):new bd(e,a)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Xl(t,this.value)):null!==t&&yl(this.value)===yl(t)&&this.matchesComparison(Xl(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Rr()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Uo extends vd{constructor(e,t){super(),this.filters=e,this.op=t,this.lt=null}static create(e,t){return new Uo(e,t)}matches(e){return _l(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(t=>t.isInequality());return null!==e?e.field:null}ft(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function _l(i){return"and"===i.op}function rc(i){return"or"===i.op}function su(i){return Bc(i)&&_l(i)}function Bc(i){for(const e of i.filters)if(e instanceof Uo)return!1;return!0}function ic(i){if(i instanceof co)return i.field.canonicalString()+i.op.toString()+Ll(i.value);if(su(i))return i.filters.map(e=>ic(e)).join(",");{const e=i.filters.map(t=>ic(t)).join(",");return`${i.op}(${e})`}}function Rl(i,e){return i instanceof co?(t=i,(a=e)instanceof co&&t.op===a.op&&t.field.isEqual(a.field)&&vl(t.value,a.value)):i instanceof Uo?function(t,a){return a instanceof Uo&&t.op===a.op&&t.filters.length===a.filters.length&&t.filters.reduce((h,b,T)=>h&&Rl(b,a.filters[T]),!0)}(i,e):void Rr();var t,a}function _d(i,e){const t=i.filters.concat(e);return Uo.create(t,i.op)}function sc(i){return i instanceof co?`${(e=i).field.canonicalString()} ${e.op} ${Ll(e.value)}`:i instanceof Uo?function(e){return e.op.toString()+" {"+e.getFilters().map(sc).join(" ,")+"}"}(i):"Filter";var e}class Fu extends co{constructor(e,t,a){super(e,t,a),this.key=gr.fromName(a.referenceValue)}matches(e){const t=gr.comparator(e.key,this.key);return this.matchesComparison(t)}}class $c extends co{constructor(e,t){super(e,"in",t),this.keys=Vc(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class bd extends co{constructor(e,t){super(e,"not-in",t),this.keys=Vc(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function Vc(i,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(a=>gr.fromName(a.referenceValue))}class dh extends co{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return cl(t)&&Nc(t.arrayValue,this.value)}}class _c extends co{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Nc(this.value.arrayValue,t)}}class oc extends co{constructor(e,t){super(e,"not-in",t)}matches(e){if(Nc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Nc(this.value.arrayValue,t)}}class ou extends co{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!cl(t)||!t.arrayValue.values)&&t.arrayValue.values.some(a=>Nc(this.value.arrayValue,a))}}class au{constructor(e,t=null,a=[],h=[],b=null,T=null,G=null){this.path=e,this.collectionGroup=t,this.orderBy=a,this.filters=h,this.limit=b,this.startAt=T,this.endAt=G,this.dt=null}}function Uc(i,e=null,t=[],a=[],h=null,b=null,T=null){return new au(i,e,t,a,h,b,T)}function gl(i){const e=Bn(i);if(null===e.dt){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(a=>ic(a)).join(","),t+="|ob:",t+=e.orderBy.map(a=>{return(h=a).field.canonicalString()+h.dir;var h}).join(","),Xe(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(a=>Ll(a)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(a=>Ll(a)).join(",")),e.dt=t}return e.dt}function Cl(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<i.orderBy.length;t++)if(!uh(i.orderBy[t],e.orderBy[t]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let t=0;t<i.filters.length;t++)if(!Rl(i.filters[t],e.filters[t]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!yd(i.startAt,e.startAt)&&yd(i.endAt,e.endAt)}function lu(i){return gr.isDocumentKey(i.path)&&null===i.collectionGroup&&0===i.filters.length}function bc(i,e){return i.filters.filter(t=>t instanceof co&&t.field.isEqual(e))}function jc(i,e,t){let a=Zl,h=!0;for(const b of bc(i,e)){let T=Zl,G=!0;switch(b.op){case"<":case"<=":T=Lc(b.value);break;case"==":case"in":case">=":T=b.value;break;case">":T=b.value,G=!1;break;case"!=":case"not-in":T=Zl}pl({value:a,inclusive:h},{value:T,inclusive:G})<0&&(a=T,h=G)}if(null!==t)for(let b=0;b<i.orderBy.length;++b)if(i.orderBy[b].field.isEqual(e)){const T=t.position[b];pl({value:a,inclusive:h},{value:T,inclusive:t.inclusive})<0&&(a=T,h=t.inclusive);break}return{value:a,inclusive:h}}function zc(i,e,t){let a=tl,h=!0;for(const b of bc(i,e)){let T=tl,G=!0;switch(b.op){case">=":case">":T=Df(b.value),G=!1;break;case"==":case"in":case"<=":T=b.value;break;case"<":T=b.value,G=!1;break;case"!=":case"not-in":T=tl}md({value:a,inclusive:h},{value:T,inclusive:G})>0&&(a=T,h=G)}if(null!==t)for(let b=0;b<i.orderBy.length;++b)if(i.orderBy[b].field.isEqual(e)){const T=t.position[b];md({value:a,inclusive:h},{value:T,inclusive:t.inclusive})>0&&(a=T,h=t.inclusive);break}return{value:a,inclusive:h}}class qa{constructor(e,t=null,a=[],h=[],b=null,T="F",G=null,ae=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=a,this.filters=h,this.limit=b,this.limitType=T,this.startAt=G,this.endAt=ae,this.wt=null,this._t=null}}function Ed(i,e,t,a,h,b,T,G){return new qa(i,e,t,a,h,b,T,G)}function Hl(i){return new qa(i)}function U(i){return 0===i.filters.length&&null===i.limit&&null==i.startAt&&null==i.endAt&&(0===i.explicitOrderBy.length||1===i.explicitOrderBy.length&&i.explicitOrderBy[0].field.isKeyField())}function C(i){return i.explicitOrderBy.length>0?i.explicitOrderBy[0].field:null}function x(i){for(const e of i.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}function W(i){return null!==i.collectionGroup}function Ie(i){const e=Bn(i);if(null===e.wt){e.wt=[];const t=x(e),a=C(e);if(null!==t&&null===a)t.isKeyField()||e.wt.push(new nc(t)),e.wt.push(new nc(gs.keyField(),"asc"));else{let h=!1;for(const b of e.explicitOrderBy)e.wt.push(b),b.field.isKeyField()&&(h=!0);if(!h){const b=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new nc(gs.keyField(),b))}}}return e.wt}function We(i){const e=Bn(i);if(!e._t)if("F"===e.limitType)e._t=Uc(e.path,e.collectionGroup,Ie(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const b of Ie(e))t.push(new nc(b.field,"desc"===b.dir?"asc":"desc"));const a=e.endAt?new ba(e.endAt.position,e.endAt.inclusive):null,h=e.startAt?new ba(e.startAt.position,e.startAt.inclusive):null;e._t=Uc(e.path,e.collectionGroup,t,e.filters,e.limit,a,h)}return e._t}function on(i,e){e.getFirstInequalityField(),x(i);const t=i.filters.concat([e]);return new qa(i.path,i.collectionGroup,i.explicitOrderBy.slice(),t,i.limit,i.limitType,i.startAt,i.endAt)}function xn(i,e,t){return new qa(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,t,i.startAt,i.endAt)}function _r(i,e){return Cl(We(i),We(e))&&i.limitType===e.limitType}function oi(i){return`${gl(We(i))}|lt:${i.limitType}`}function Ui(i){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(a=>sc(a)).join(", ")}]`),Xe(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(a=>{return`${(h=a).field.canonicalString()} (${h.dir})`;var h}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(a=>Ll(a)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(a=>Ll(a)).join(",")),`Target(${t})`}(We(i))}; limitType=${i.limitType})`}function Us(i,e){return e.isFoundDocument()&&function(t,a){const h=a.key.path;return null!==t.collectionGroup?a.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(h):gr.isDocumentKey(t.path)?t.path.isEqual(h):t.path.isImmediateParentOf(h)}(i,e)&&function(t,a){for(const h of Ie(t))if(!h.field.isKeyField()&&null===a.data.field(h.field))return!1;return!0}(i,e)&&function(t,a){for(const h of t.filters)if(!h.matches(a))return!1;return!0}(i,e)&&(a=e,!((t=i).startAt&&!function(h,b,T){const G=iu(h,b,T);return h.inclusive?G<=0:G<0}(t.startAt,Ie(t),a)||t.endAt&&!function(h,b,T){const G=iu(h,b,T);return h.inclusive?G>=0:G>0}(t.endAt,Ie(t),a)));var t,a}function nl(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function Ol(i){return(e,t)=>{let a=!1;for(const h of Ie(i)){const b=Hc(h,e,t);if(0!==b)return b;a=a||h.field.isKeyField()}return 0}}function Hc(i,e,t){const a=i.field.isKeyField()?gr.comparator(e.key,t.key):function(h,b,T){const G=b.data.field(h),ae=T.data.field(h);return null!==G&&null!==ae?Xl(G,ae):Rr()}(i.field,e,t);switch(i.dir){case"asc":return a;case"desc":return-1*a;default:return Rr()}}class ia{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),a=this.inner[t];if(void 0!==a)for(const[h,b]of a)if(this.equalsFn(h,e))return b}has(e){return void 0!==this.get(e)}set(e,t){const a=this.mapKeyFn(e),h=this.inner[a];if(void 0===h)return this.inner[a]=[[e,t]],void this.innerSize++;for(let b=0;b<h.length;b++)if(this.equalsFn(h[b][0],e))return void(h[b]=[e,t]);h.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),a=this.inner[t];if(void 0===a)return!1;for(let h=0;h<a.length;h++)if(this.equalsFn(a[h][0],e))return 1===a.length?delete this.inner[t]:a.splice(h,1),this.innerSize--,!0;return!1}forEach(e){fi(this.inner,(t,a)=>{for(const[h,b]of a)e(h,b)})}isEmpty(){return Oi(this.inner)}size(){return this.innerSize}}const Wl=new Vr(gr.comparator);function ha(){return Wl}const ac=new Vr(gr.comparator);function Ma(...i){let e=ac;for(const t of i)e=e.insert(t.key,t);return e}function Ua(i){let e=ac;return i.forEach((t,a)=>e=e.insert(t,a.overlayedDocument)),e}function bl(){return El()}function Wc(){return El()}function El(){return new ia(i=>i.toString(),(i,e)=>i.isEqual(e))}const hh=new Vr(gr.comparator),Gc=new os(gr.comparator);function Fs(...i){let e=Gc;for(const t of i)e=e.add(t);return e}const fh=new os($i);function ph(){return fh}function gh(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ue(e)?"-0":e}}function Sf(i){return{integerValue:""+i}}function Tf(i,e){return Yt(e)?Sf(e):gh(i,e)}class Pa{constructor(){this._=void 0}}function cu(i,e,t){return i instanceof Ia?function(a,h){const b={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return h&&wa(h)&&(h=Va(h)),h&&(b.fields.__previous_value__=h),{mapValue:b}}(t,e):i instanceof kl?wd(i,e):i instanceof lc?mh(i,e):function(a,h){const b=du(a,h),T=yh(b)+yh(a.gt);return hl(b)&&hl(a.gt)?Sf(T):gh(a.serializer,T)}(i,e)}function uu(i,e,t){return i instanceof kl?wd(i,e):i instanceof lc?mh(i,e):t}function du(i,e){return i instanceof rl?hl(t=e)||(a=t)&&"doubleValue"in a?e:{integerValue:0}:null;var a,t}class Ia extends Pa{}class kl extends Pa{constructor(e){super(),this.elements=e}}function wd(i,e){const t=vh(e);for(const a of i.elements)t.some(h=>vl(h,a))||t.push(a);return{arrayValue:{values:t}}}class lc extends Pa{constructor(e){super(),this.elements=e}}function mh(i,e){let t=vh(e);for(const a of i.elements)t=t.filter(h=>!vl(h,a));return{arrayValue:{values:t}}}class rl extends Pa{constructor(e,t){super(),this.serializer=e,this.gt=t}}function yh(i){return Ss(i.integerValue||i.doubleValue)}function vh(i){return cl(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}class Lu{constructor(e,t){this.field=e,this.transform=t}}class xf{constructor(e,t){this.version=e,this.transformResults=t}}class ma{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new ma}static exists(e){return new ma(void 0,e)}static updateTime(e){return new ma(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function hu(i,e){return void 0!==i.updateTime?e.isFoundDocument()&&e.version.isEqual(i.updateTime):void 0===i.exists||i.exists===e.isFoundDocument()}class fu{}function Mf(i,e){if(!i.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return i.isNoDocument()?new wc(i.key,ma.none()):new Ec(i.key,i.data,ma.none());{const t=i.data,a=Wo.empty();let h=new os(gs.comparator);for(let b of e.fields)if(!h.has(b)){let T=t.field(b);null===T&&b.length>1&&(b=b.popLast(),T=t.field(b)),null===T?a.delete(b):a.set(b,T),h=h.add(b)}return new Gl(i.key,a,new Ir(h.toArray()),ma.none())}}function Bu(i,e,t){i instanceof Ec?function(a,h,b){const T=a.value.clone(),G=Vu(a.fieldTransforms,h,b.transformResults);T.setAll(G),h.convertToFoundDocument(b.version,T).setHasCommittedMutations()}(i,e,t):i instanceof Gl?function(a,h,b){if(!hu(a.precondition,h))return void h.convertToUnknownDocument(b.version);const T=Vu(a.fieldTransforms,h,b.transformResults),G=h.data;G.setAll(Kc(a)),G.setAll(T),h.convertToFoundDocument(b.version,G).setHasCommittedMutations()}(i,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function $u(i,e,t,a){return i instanceof Ec?function(h,b,T,G){if(!hu(h.precondition,b))return T;const ae=h.value.clone(),we=_h(h.fieldTransforms,G,b);return ae.setAll(we),b.convertToFoundDocument(b.version,ae).setHasLocalMutations(),null}(i,e,t,a):i instanceof Gl?function(h,b,T,G){if(!hu(h.precondition,b))return T;const ae=_h(h.fieldTransforms,G,b),we=b.data;return we.setAll(Kc(h)),we.setAll(ae),b.convertToFoundDocument(b.version,we).setHasLocalMutations(),null===T?null:T.unionWith(h.fieldMask.fields).unionWith(h.fieldTransforms.map(Ye=>Ye.field))}(i,e,t,a):(T=t,hu(i.precondition,b=e)?(b.convertToNoDocument(b.version).setHasLocalMutations(),null):T);var b,T}function Vp(i,e){let t=null;for(const a of i.fieldTransforms){const h=e.data.field(a.field),b=du(a.transform,h||null);null!=b&&(null===t&&(t=Wo.empty()),t.set(a.field,b))}return t||null}function Id(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&(a=e.fieldTransforms,!!(void 0===(t=i.fieldTransforms)&&void 0===a||t&&a&&la(t,a,(h,b)=>function Af(i,e){return i.field.isEqual(e.field)&&(a=e.transform,(t=i.transform)instanceof kl&&a instanceof kl||t instanceof lc&&a instanceof lc?la(t.elements,a.elements,vl):t instanceof rl&&a instanceof rl?vl(t.gt,a.gt):t instanceof Ia&&a instanceof Ia);var t,a}(h,b))))&&(0===i.type?i.value.isEqual(e.value):1!==i.type||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask));var t,a}class Ec extends fu{constructor(e,t,a,h=[]){super(),this.key=e,this.value=t,this.precondition=a,this.fieldTransforms=h,this.type=0}getFieldMask(){return null}}class Gl extends fu{constructor(e,t,a,h,b=[]){super(),this.key=e,this.data=t,this.fieldMask=a,this.precondition=h,this.fieldTransforms=b,this.type=1}getFieldMask(){return this.fieldMask}}function Kc(i){const e=new Map;return i.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const a=i.data.field(t);e.set(t,a)}}),e}function Vu(i,e,t){const a=new Map;si(i.length===t.length);for(let h=0;h<t.length;h++){const b=i[h],T=b.transform,G=e.data.field(b.field);a.set(b.field,uu(T,G,t[h]))}return a}function _h(i,e,t){const a=new Map;for(const h of i){const b=h.transform,T=t.data.field(h.field);a.set(h.field,cu(b,T,e))}return a}class wc extends fu{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class pu extends fu{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class bh{constructor(e,t,a,h){this.batchId=e,this.localWriteTime=t,this.baseMutations=a,this.mutations=h}applyToRemoteDocument(e,t){const a=t.mutationResults;for(let h=0;h<this.mutations.length;h++){const b=this.mutations[h];b.key.isEqual(e.key)&&Bu(b,e,a[h])}}applyToLocalView(e,t){for(const a of this.baseMutations)a.key.isEqual(e.key)&&(t=$u(a,e,t,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(e.key)&&(t=$u(a,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const a=Wc();return this.mutations.forEach(h=>{const b=e.get(h.key),T=b.overlayedDocument;let G=this.applyToLocalView(T,b.mutatedFields);G=t.has(h.key)?null:G;const ae=Mf(T,G);null!==ae&&a.set(h.key,ae),T.isValidDocument()||T.convertToNoDocument(ti.min())}),a}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Fs())}isEqual(e){return this.batchId===e.batchId&&la(this.mutations,e.mutations,(t,a)=>Id(t,a))&&la(this.baseMutations,e.baseMutations,(t,a)=>Id(t,a))}}class Eh{constructor(e,t,a,h){this.batch=e,this.commitVersion=t,this.mutationResults=a,this.docVersions=h}static from(e,t,a){si(e.mutations.length===a.length);let h=hh;const b=e.mutations;for(let T=0;T<b.length;T++)h=h.insert(b[T].key,a[T].version);return new Eh(e,t,a,h)}}class Dl{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class wh{constructor(e,t){this.count=e,this.unchangedNames=t}}var Ra,Po;function Uu(i){switch(i){default:return Rr();case Dn.CANCELLED:case Dn.UNKNOWN:case Dn.DEADLINE_EXCEEDED:case Dn.RESOURCE_EXHAUSTED:case Dn.INTERNAL:case Dn.UNAVAILABLE:case Dn.UNAUTHENTICATED:return!1;case Dn.INVALID_ARGUMENT:case Dn.NOT_FOUND:case Dn.ALREADY_EXISTS:case Dn.PERMISSION_DENIED:case Dn.FAILED_PRECONDITION:case Dn.ABORTED:case Dn.OUT_OF_RANGE:case Dn.UNIMPLEMENTED:case Dn.DATA_LOSS:return!0}}function Ih(i){if(void 0===i)return Bi("GRPC error has no .code"),Dn.UNKNOWN;switch(i){case Ra.OK:return Dn.OK;case Ra.CANCELLED:return Dn.CANCELLED;case Ra.UNKNOWN:return Dn.UNKNOWN;case Ra.DEADLINE_EXCEEDED:return Dn.DEADLINE_EXCEEDED;case Ra.RESOURCE_EXHAUSTED:return Dn.RESOURCE_EXHAUSTED;case Ra.INTERNAL:return Dn.INTERNAL;case Ra.UNAVAILABLE:return Dn.UNAVAILABLE;case Ra.UNAUTHENTICATED:return Dn.UNAUTHENTICATED;case Ra.INVALID_ARGUMENT:return Dn.INVALID_ARGUMENT;case Ra.NOT_FOUND:return Dn.NOT_FOUND;case Ra.ALREADY_EXISTS:return Dn.ALREADY_EXISTS;case Ra.PERMISSION_DENIED:return Dn.PERMISSION_DENIED;case Ra.FAILED_PRECONDITION:return Dn.FAILED_PRECONDITION;case Ra.ABORTED:return Dn.ABORTED;case Ra.OUT_OF_RANGE:return Dn.OUT_OF_RANGE;case Ra.UNIMPLEMENTED:return Dn.UNIMPLEMENTED;case Ra.DATA_LOSS:return Dn.DATA_LOSS;default:return Rr()}}(Po=Ra||(Ra={}))[Po.OK=0]="OK",Po[Po.CANCELLED=1]="CANCELLED",Po[Po.UNKNOWN=2]="UNKNOWN",Po[Po.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Po[Po.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Po[Po.NOT_FOUND=5]="NOT_FOUND",Po[Po.ALREADY_EXISTS=6]="ALREADY_EXISTS",Po[Po.PERMISSION_DENIED=7]="PERMISSION_DENIED",Po[Po.UNAUTHENTICATED=16]="UNAUTHENTICATED",Po[Po.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Po[Po.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Po[Po.ABORTED=10]="ABORTED",Po[Po.OUT_OF_RANGE=11]="OUT_OF_RANGE",Po[Po.UNIMPLEMENTED=12]="UNIMPLEMENTED",Po[Po.INTERNAL=13]="INTERNAL",Po[Po.UNAVAILABLE=14]="UNAVAILABLE",Po[Po.DATA_LOSS=15]="DATA_LOSS";class ju{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return Cd}static getOrCreateInstance(){return null===Cd&&(Cd=new ju),Cd}onExistenceFilterMismatch(e){const t=Symbol();return this.onExistenceFilterMismatchCallbacks.set(t,e),()=>this.onExistenceFilterMismatchCallbacks.delete(t)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(t=>t(e))}}let Cd=null;function Pf(){return new TextEncoder}const Dd=new hr([4294967295,4294967295],0);function Ch(i){const e=Pf().encode(i),t=new ii;return t.update(e),new Uint8Array(t.digest())}function Ic(i){const e=new DataView(i.buffer),t=e.getUint32(0,!0),a=e.getUint32(4,!0),h=e.getUint32(8,!0),b=e.getUint32(12,!0);return[new hr([t,a],0),new hr([h,b],0)]}class Dh{constructor(e,t,a){if(this.bitmap=e,this.padding=t,this.hashCount=a,t<0||t>=8)throw new Yc(`Invalid padding: ${t}`);if(a<0)throw new Yc(`Invalid hash count: ${a}`);if(e.length>0&&0===this.hashCount)throw new Yc(`Invalid hash count: ${a}`);if(0===e.length&&0!==t)throw new Yc(`Invalid padding when bitmap length is 0: ${t}`);this.It=8*e.length-t,this.Tt=hr.fromNumber(this.It)}Et(e,t,a){let h=e.add(t.multiply(hr.fromNumber(a)));return 1===h.compare(Dd)&&(h=new hr([h.getBits(0),h.getBits(1)],0)),h.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const t=Ch(e),[a,h]=Ic(t);for(let b=0;b<this.hashCount;b++){const T=this.Et(a,h,b);if(!this.At(T))return!1}return!0}static create(e,t,a){const h=e%8==0?0:8-e%8,b=new Uint8Array(Math.ceil(e/8)),T=new Dh(b,h,t);return a.forEach(G=>T.insert(G)),T}insert(e){if(0===this.It)return;const t=Ch(e),[a,h]=Ic(t);for(let b=0;b<this.hashCount;b++){const T=this.Et(a,h,b);this.Rt(T)}}Rt(e){const t=Math.floor(e/8);this.bitmap[t]|=1<<e%8}}class Yc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class zu{constructor(e,t,a,h,b){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=a,this.documentUpdates=h,this.resolvedLimboDocuments=b}static createSynthesizedRemoteEventForCurrentChange(e,t,a){const h=new Map;return h.set(e,Sd.createSynthesizedTargetChangeForCurrentChange(e,t,a)),new zu(ti.min(),h,new Vr($i),ha(),Fs())}}class Sd{constructor(e,t,a,h,b){this.resumeToken=e,this.current=t,this.addedDocuments=a,this.modifiedDocuments=h,this.removedDocuments=b}static createSynthesizedTargetChangeForCurrentChange(e,t,a){return new Sd(a,t,Fs(),Fs(),Fs())}}class qc{constructor(e,t,a,h){this.Pt=e,this.removedTargetIds=t,this.key=a,this.bt=h}}class Rf{constructor(e,t){this.targetId=e,this.Vt=t}}class Sh{constructor(e,t,a=ns.EMPTY_BYTE_STRING,h=null){this.state=e,this.targetIds=t,this.resumeToken=a,this.cause=h}}class Th{constructor(){this.St=0,this.Dt=Ah(),this.Ct=ns.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=Fs(),t=Fs(),a=Fs();return this.Dt.forEach((h,b)=>{switch(b){case 0:e=e.add(h);break;case 2:t=t.add(h);break;case 1:a=a.add(h);break;default:Rr()}}),new Sd(this.Ct,this.xt,e,t,a)}Ft(){this.Nt=!1,this.Dt=Ah()}Bt(e,t){this.Nt=!0,this.Dt=this.Dt.insert(e,t)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class Of{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=ha(),this.zt=Td(),this.Wt=new Vr($i)}Ht(e){for(const t of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(t,e.bt):this.Yt(t,e.key,e.bt);for(const t of e.removedTargetIds)this.Yt(t,e.key,e.bt)}Xt(e){this.forEachTarget(e,t=>{const a=this.Zt(t);switch(e.state){case 0:this.te(t)&&a.$t(e.resumeToken);break;case 1:a.Ut(),a.kt||a.Ft(),a.$t(e.resumeToken);break;case 2:a.Ut(),a.kt||this.removeTarget(t);break;case 3:this.te(t)&&(a.Kt(),a.$t(e.resumeToken));break;case 4:this.te(t)&&(this.ee(t),a.$t(e.resumeToken));break;default:Rr()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Qt.forEach((a,h)=>{this.te(h)&&t(h)})}ne(e){var t;const a=e.targetId,h=e.Vt.count,b=this.se(a);if(b){const T=b.target;if(lu(T))if(0===h){const G=new gr(T.path);this.Yt(a,G,Fo.newNoDocument(G,ti.min()))}else si(1===h);else{const G=this.ie(a);if(G!==h){const ae=this.re(e,G);0!==ae&&(this.ee(a),this.Wt=this.Wt.insert(a,2===ae?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(t=ju.instance)||void 0===t||t.notifyOnExistenceFilterMismatch(function(we,Ye,Rt){var bn,$n,Dr,pi,Si,Zs;const Lo={localCacheCount:Ye,existenceFilterCount:Rt.count},mo=Rt.unchangedNames;return mo&&(Lo.bloomFilter={applied:0===we,hashCount:null!==(bn=null==mo?void 0:mo.hashCount)&&void 0!==bn?bn:0,bitmapLength:null!==(pi=null===(Dr=null===($n=null==mo?void 0:mo.bits)||void 0===$n?void 0:$n.bitmap)||void 0===Dr?void 0:Dr.length)&&void 0!==pi?pi:0,padding:null!==(Zs=null===(Si=null==mo?void 0:mo.bits)||void 0===Si?void 0:Si.padding)&&void 0!==Zs?Zs:0}),Lo}(ae,G,e.Vt))}}}}re(e,t){const{unchangedNames:a,count:h}=e.Vt;if(!a||!a.bits)return 1;const{bits:{bitmap:b="",padding:T=0},hashCount:G=0}=a;let ae,we;try{ae=ls(b).toUint8Array()}catch(Ye){if(Ye instanceof Ii)return Ho("Decoding the base64 bloom filter in existence filter failed ("+Ye.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw Ye}try{we=new Dh(ae,T,G)}catch(Ye){return Ho(Ye instanceof Yc?"BloomFilter error: ":"Applying bloom filter failed: ",Ye),1}return 0===we.It?1:h!==t-this.oe(e.targetId,we)?2:0}oe(e,t){const a=this.Gt.getRemoteKeysForTarget(e);let h=0;return a.forEach(b=>{const T=this.Gt.ue(),G=`projects/${T.projectId}/databases/${T.database}/documents/${b.path.canonicalString()}`;t.vt(G)||(this.Yt(e,b,null),h++)}),h}ce(e){const t=new Map;this.Qt.forEach((b,T)=>{const G=this.se(T);if(G){if(b.current&&lu(G.target)){const ae=new gr(G.target.path);null!==this.jt.get(ae)||this.ae(T,ae)||this.Yt(T,ae,Fo.newNoDocument(ae,e))}b.Mt&&(t.set(T,b.Ot()),b.Ft())}});let a=Fs();this.zt.forEach((b,T)=>{let G=!0;T.forEachWhile(ae=>{const we=this.se(ae);return!we||"TargetPurposeLimboResolution"===we.purpose||(G=!1,!1)}),G&&(a=a.add(b))}),this.jt.forEach((b,T)=>T.setReadTime(e));const h=new zu(e,t,this.Wt,this.jt,a);return this.jt=ha(),this.zt=Td(),this.Wt=new Vr($i),h}Jt(e,t){if(!this.te(e))return;const a=this.ae(e,t.key)?2:0;this.Zt(e).Bt(t.key,a),this.jt=this.jt.insert(t.key,t),this.zt=this.zt.insert(t.key,this.he(t.key).add(e))}Yt(e,t,a){if(!this.te(e))return;const h=this.Zt(e);this.ae(e,t)?h.Bt(t,1):h.Lt(t),this.zt=this.zt.insert(t,this.he(t).delete(e)),a&&(this.jt=this.jt.insert(t,a))}removeTarget(e){this.Qt.delete(e)}ie(e){const t=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let t=this.Qt.get(e);return t||(t=new Th,this.Qt.set(e,t)),t}he(e){let t=this.zt.get(e);return t||(t=new os($i),this.zt=this.zt.insert(e,t)),t}te(e){const t=null!==this.se(e);return t||Hn("WatchChangeAggregator","Detected inactive target",e),t}se(e){const t=this.Qt.get(e);return t&&t.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new Th),this.Gt.getRemoteKeysForTarget(e).forEach(t=>{this.Yt(e,t,null)})}ae(e,t){return this.Gt.getRemoteKeysForTarget(e).has(t)}}function Td(){return new Vr(gr.comparator)}function Ah(){return new Vr(gr.comparator)}const xh={asc:"ASCENDING",desc:"DESCENDING"},Ad={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},kf={and:"AND",or:"OR"};class Mh{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function gu(i,e){return i.useProto3Json||Xe(e)?e:{value:e}}function Cc(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function xd(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function Hu(i,e){return Cc(i,e.toTimestamp())}function Oa(i){return si(!!i),ti.fromTimestamp(function(e){const t=po(e);return new ps(t.seconds,t.nanos)}(i))}function Md(i,e){return(t=i,new as(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function cc(i){const e=as.fromString(i);return si(hc(e)),e}function ka(i,e){return Md(i.databaseId,e.path)}function Ca(i,e){const t=cc(e);if(t.get(1)!==i.databaseId.projectId)throw new Zn(Dn.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+i.databaseId.projectId);if(t.get(3)!==i.databaseId.database)throw new Zn(Dn.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+i.databaseId.database);return new gr(Pd(t))}function Dc(i,e){return Md(i.databaseId,e)}function Ph(i){const e=cc(i);return 4===e.length?as.emptyPath():Pd(e)}function Sc(i){return new as(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function Pd(i){return si(i.length>4&&"documents"===i.get(4)),i.popFirst(5)}function Zc(i,e,t){return{name:ka(i,e),fields:t.value.mapValue.fields}}function uc(i,e,t){const a=Ca(i,e.name),h=Oa(e.updateTime),b=e.createTime?Oa(e.createTime):ti.min(),T=new Wo({mapValue:{fields:e.fields}}),G=Fo.newFoundDocument(a,h,b,T);return t&&G.setHasCommittedMutations(),t?G.setHasCommittedMutations():G}function Wu(i,e){let t;if(e instanceof Ec)t={update:Zc(i,e.key,e.value)};else if(e instanceof wc)t={delete:ka(i,e.key)};else if(e instanceof Gl)t={update:Zc(i,e.key,e.data),updateMask:Hp(e.fieldMask)};else{if(!(e instanceof pu))return Rr();t={verify:ka(i,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(a=>function(h,b){const T=b.transform;if(T instanceof Ia)return{fieldPath:b.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(T instanceof kl)return{fieldPath:b.field.canonicalString(),appendMissingElements:{values:T.elements}};if(T instanceof lc)return{fieldPath:b.field.canonicalString(),removeAllFromArray:{values:T.elements}};if(T instanceof rl)return{fieldPath:b.field.canonicalString(),increment:T.gt};throw Rr()}(0,a))),e.precondition.isNone||(t.currentDocument=void 0!==(h=e.precondition).updateTime?{updateTime:Hu(i,h.updateTime)}:void 0!==h.exists?{exists:h.exists}:Rr()),t;var h}function Gu(i,e){const t=e.currentDocument?void 0!==(h=e.currentDocument).updateTime?ma.updateTime(Oa(h.updateTime)):void 0!==h.exists?ma.exists(h.exists):ma.none():ma.none(),a=e.updateTransforms?e.updateTransforms.map(h=>function(b,T){let G=null;"setToServerValue"in T?(si("REQUEST_TIME"===T.setToServerValue),G=new Ia):"appendMissingElements"in T?G=new kl(T.appendMissingElements.values||[]):"removeAllFromArray"in T?G=new lc(T.removeAllFromArray.values||[]):"increment"in T?G=new rl(b,T.increment):Rr();const ae=gs.fromServerFormat(T.fieldPath);return new Lu(ae,G)}(i,h)):[];var h;if(e.update){const h=Ca(i,e.update.name),b=new Wo({mapValue:{fields:e.update.fields}});if(e.updateMask){const T=new Ir((e.updateMask.fieldPaths||[]).map(we=>gs.fromServerFormat(we)));return new Gl(h,b,T,t,a)}return new Ec(h,b,t,a)}if(e.delete){const h=Ca(i,e.delete);return new wc(h,t)}if(e.verify){const h=Ca(i,e.verify);return new pu(h,t)}return Rr()}function Xc(i,e){return{documents:[Dc(i,e.path)]}}function Qc(i,e){const t={structuredQuery:{}},a=e.path;null!==e.collectionGroup?(t.parent=Dc(i,a),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=Dc(i,a.popLast()),t.structuredQuery.from=[{collectionId:a.lastSegment()}]);const h=function(ae){if(0!==ae.length)return kh(Uo.create(ae,"and"))}(e.filters);h&&(t.structuredQuery.where=h);const b=function(ae){if(0!==ae.length)return ae.map(we=>{return{field:dc((Ye=we).field),direction:Oh(Ye.dir)};var Ye})}(e.orderBy);b&&(t.structuredQuery.orderBy=b);const T=gu(i,e.limit);var G,ae;return null!==T&&(t.structuredQuery.limit=T),e.startAt&&(t.structuredQuery.startAt={before:(G=e.startAt).inclusive,values:G.position}),e.endAt&&(t.structuredQuery.endAt={before:!(ae=e.endAt).inclusive,values:ae.position}),t}function Ku(i){let e=Ph(i.parent);const t=i.structuredQuery,a=t.from?t.from.length:0;let h=null;if(a>0){si(1===a);const Ye=t.from[0];Ye.allDescendants?h=Ye.collectionId:e=e.child(Ye.collectionId)}let b=[];t.where&&(b=function(Ye){const Rt=Rh(Ye);return Rt instanceof Uo&&su(Rt)?Rt.getFilters():[Rt]}(t.where));let T=[];t.orderBy&&(T=t.orderBy.map(Ye=>{return new nc(Jc((Rt=Ye).field),function(bn){switch(bn){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(Rt.direction));var Rt}));let G=null;t.limit&&(G=function(Ye){let Rt;return Rt="object"==typeof Ye?Ye.value:Ye,Xe(Rt)?null:Rt}(t.limit));let ae=null;var Ye;t.startAt&&(ae=new ba((Ye=t.startAt).values||[],!!Ye.before));let we=null;return t.endAt&&(we=function(Ye){return new ba(Ye.values||[],!Ye.before)}(t.endAt)),Ed(e,h,T,b,G,"F",ae,we)}function Rh(i){return void 0!==i.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Jc(e.unaryFilter.field);return co.create(t,"==",{doubleValue:NaN});case"IS_NULL":const a=Jc(e.unaryFilter.field);return co.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const h=Jc(e.unaryFilter.field);return co.create(h,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const b=Jc(e.unaryFilter.field);return co.create(b,"!=",{nullValue:"NULL_VALUE"});default:return Rr()}}(i):void 0!==i.fieldFilter?co.create(Jc((e=i).fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Rr()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==i.compositeFilter?function(e){return Uo.create(e.compositeFilter.filters.map(t=>Rh(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return Rr()}}(e.compositeFilter.op))}(i):Rr();var e}function Oh(i){return xh[i]}function Ff(i){return Ad[i]}function zp(i){return kf[i]}function dc(i){return{fieldPath:i.canonicalString()}}function Jc(i){return gs.fromServerFormat(i.fieldPath)}function kh(i){return i instanceof co?function(e){if("=="===e.op){if(ec(e.value))return{unaryFilter:{field:dc(e.field),op:"IS_NAN"}};if(Ga(e.value))return{unaryFilter:{field:dc(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(ec(e.value))return{unaryFilter:{field:dc(e.field),op:"IS_NOT_NAN"}};if(Ga(e.value))return{unaryFilter:{field:dc(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:dc(e.field),op:Ff(e.op),value:e.value}}}(i):i instanceof Uo?function(e){const t=e.getFilters().map(a=>kh(a));return 1===t.length?t[0]:{compositeFilter:{op:zp(e.op),filters:t}}}(i):Rr()}function Hp(i){const e=[];return i.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function hc(i){return i.length>=4&&"projects"===i.get(0)&&"databases"===i.get(2)}class Sl{constructor(e,t,a,h,b=ti.min(),T=ti.min(),G=ns.EMPTY_BYTE_STRING,ae=null){this.target=e,this.targetId=t,this.purpose=a,this.sequenceNumber=h,this.snapshotVersion=b,this.lastLimboFreeSnapshotVersion=T,this.resumeToken=G,this.expectedCount=ae}withSequenceNumber(e){return new Sl(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Sl(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Sl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Sl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class Nh{constructor(e){this.fe=e}}function Wp(i,e){const t=e.key,a={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:Rd(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())a.document={name:ka(h=i.fe,(b=e).key),fields:b.data.value.mapValue.fields,updateTime:Cc(h,b.version.toTimestamp()),createTime:Cc(h,b.createTime.toTimestamp())};else if(e.isNoDocument())a.noDocument={path:t.path.toArray(),readTime:yu(e.version)};else{if(!e.isUnknownDocument())return Rr();a.unknownDocument={path:t.path.toArray(),version:yu(e.version)}}var h,b;return a}function Rd(i){const e=i.toTimestamp();return[e.seconds,e.nanoseconds]}function yu(i){const e=i.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function vu(i){const e=new ps(i.seconds,i.nanoseconds);return ti.fromTimestamp(e)}function Tc(i,e){const t=(e.baseMutations||[]).map(b=>Gu(i.fe,b));for(let b=0;b<e.mutations.length-1;++b)b+1<e.mutations.length&&void 0!==e.mutations[b+1].transform&&(e.mutations[b].updateTransforms=e.mutations[b+1].transform.fieldTransforms,e.mutations.splice(b+1,1),++b);const a=e.mutations.map(b=>Gu(i.fe,b)),h=ps.fromMillis(e.localWriteTimeMs);return new bh(e.batchId,h,t,a)}function _u(i){const e=vu(i.readTime),t=void 0!==i.lastLimboFreeSnapshotVersion?vu(i.lastLimboFreeSnapshotVersion):ti.min();let a;var h;return void 0!==i.query.documents?(si(1===(h=i.query).documents.length),a=We(Hl(Ph(h.documents[0])))):a=We(Ku(i.query)),new Sl(a,i.targetId,"TargetPurposeListen",i.lastListenSequenceNumber,e,t,ns.fromBase64String(i.resumeToken))}function Lf(i,e){const t=yu(e.snapshotVersion),a=yu(e.lastLimboFreeSnapshotVersion);let h;h=lu(e.target)?Xc(i.fe,e.target):Qc(i.fe,e.target);const b=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:gl(e.target),readTime:t,resumeToken:b,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:a,query:h}}function v(i){const e=Ku({parent:i.parent,structuredQuery:i.structuredQuery});return"LAST"===i.limitType?xn(e,e.limit,"L"):e}function p(i,e){return new Dl(e.largestBatchId,Gu(i.fe,e.overlayMutation))}function g(i,e){const t=e.path.lastSegment();return[i,An(e.path.popLast()),t]}function D(i,e,t,a){return{indexId:i,uid:e.uid||"",sequenceNumber:t,readTime:yu(a.readTime),documentKey:An(a.documentKey.path),largestBatchId:a.largestBatchId}}class B{getBundleMetadata(e,t){return J(e).get(t).next(a=>{if(a)return{id:(h=a).bundleId,createTime:vu(h.createTime),version:h.version};var h})}saveBundleMetadata(e,t){return J(e).put({bundleId:(a=t).id,createTime:yu(Oa(a.createTime)),version:a.version});var a}getNamedQuery(e,t){return fe(e).get(t).next(a=>{if(a)return{name:(h=a).name,query:v(h.bundledQuery),readTime:vu(h.readTime)};var h})}saveNamedQuery(e,t){return fe(e).put({name:(a=t).name,readTime:yu(Oa(a.readTime)),bundledQuery:a.bundledQuery});var a}}function J(i){return dr(i,"bundles")}function fe(i){return dr(i,"namedQueries")}class Ve{constructor(e,t){this.serializer=e,this.userId=t}static de(e,t){return new Ve(e,t.uid||"")}getOverlay(e,t){return bt(e).get(g(this.userId,t)).next(a=>a?p(this.serializer,a):null)}getOverlays(e,t){const a=bl();return pn.forEach(t,h=>this.getOverlay(e,h).next(b=>{null!==b&&a.set(h,b)})).next(()=>a)}saveOverlays(e,t,a){const h=[];return a.forEach((b,T)=>{const G=new Dl(t,T);h.push(this.we(e,G))}),pn.waitFor(h)}removeOverlaysForBatchId(e,t,a){const h=new Set;t.forEach(T=>h.add(An(T.getCollectionPath())));const b=[];return h.forEach(T=>{const G=IDBKeyRange.bound([this.userId,T,a],[this.userId,T,a+1],!1,!0);b.push(bt(e).J("collectionPathOverlayIndex",G))}),pn.waitFor(b)}getOverlaysForCollection(e,t,a){const h=bl(),b=An(t),T=IDBKeyRange.bound([this.userId,b,a],[this.userId,b,Number.POSITIVE_INFINITY],!0);return bt(e).j("collectionPathOverlayIndex",T).next(G=>{for(const ae of G){const we=p(this.serializer,ae);h.set(we.getKey(),we)}return h})}getOverlaysForCollectionGroup(e,t,a,h){const b=bl();let T;const G=IDBKeyRange.bound([this.userId,t,a],[this.userId,t,Number.POSITIVE_INFINITY],!0);return bt(e).X({index:"collectionGroupOverlayIndex",range:G},(ae,we,Ye)=>{const Rt=p(this.serializer,we);b.size()<h||Rt.largestBatchId===T?(b.set(Rt.getKey(),Rt),T=Rt.largestBatchId):Ye.done()}).next(()=>b)}we(e,t){return bt(e).put(function(a,h,b){const[T,G,ae]=g(h,b.mutation.key);return{userId:h,collectionPath:G,documentId:ae,collectionGroup:b.mutation.key.getCollectionGroup(),largestBatchId:b.largestBatchId,overlayMutation:Wu(a.fe,b.mutation)}}(this.serializer,this.userId,t))}}function bt(i){return dr(i,"documentOverlays")}class Ot{constructor(){}_e(e,t){this.me(e,t),t.ge()}me(e,t){if("nullValue"in e)this.ye(t,5);else if("booleanValue"in e)this.ye(t,10),t.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(t,15),t.pe(Ss(e.integerValue));else if("doubleValue"in e){const a=Ss(e.doubleValue);isNaN(a)?this.ye(t,13):(this.ye(t,15),Ue(a)?t.pe(0):t.pe(a))}else if("timestampValue"in e){const a=e.timestampValue;this.ye(t,20),"string"==typeof a?t.Ie(a):(t.Ie(`${a.seconds||""}`),t.pe(a.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,t),this.Ee(t);else if("bytesValue"in e)this.ye(t,30),t.Ae(ls(e.bytesValue)),this.Ee(t);else if("referenceValue"in e)this.ve(e.referenceValue,t);else if("geoPointValue"in e){const a=e.geoPointValue;this.ye(t,45),t.pe(a.latitude||0),t.pe(a.longitude||0)}else"mapValue"in e?Pl(e)?this.ye(t,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,t),this.Ee(t)):"arrayValue"in e?(this.Pe(e.arrayValue,t),this.Ee(t)):Rr()}Te(e,t){this.ye(t,25),this.be(e,t)}be(e,t){t.Ie(e)}Re(e,t){const a=e.fields||{};this.ye(t,55);for(const h of Object.keys(a))this.Te(h,t),this.me(a[h],t)}Pe(e,t){const a=e.values||[];this.ye(t,50);for(const h of a)this.me(h,t)}ve(e,t){this.ye(t,37),gr.fromName(e).path.forEach(a=>{this.ye(t,60),this.be(a,t)})}ye(e,t){e.pe(t)}Ee(e){e.pe(2)}}function Nn(i){if(0===i)return 8;let e=0;return!(i>>4)&&(e+=4,i<<=4),!(i>>6)&&(e+=2,i<<=2),!(i>>7)&&(e+=1),e}function Ln(i){const e=64-function(t){let a=0;for(let h=0;h<8;++h){const b=Nn(255&t[h]);if(a+=b,8!==b)break}return a}(i);return Math.ceil(e/8)}Ot.Ve=new Ot;class rr{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Se(e){const t=e[Symbol.iterator]();let a=t.next();for(;!a.done;)this.De(a.value),a=t.next();this.Ce()}xe(e){const t=e[Symbol.iterator]();let a=t.next();for(;!a.done;)this.Ne(a.value),a=t.next();this.ke()}Me(e){for(const t of e){const a=t.charCodeAt(0);if(a<128)this.De(a);else if(a<2048)this.De(960|a>>>6),this.De(128|63&a);else if(t<"\ud800"||"\udbff"<t)this.De(480|a>>>12),this.De(128|63&a>>>6),this.De(128|63&a);else{const h=t.codePointAt(0);this.De(240|h>>>18),this.De(128|63&h>>>12),this.De(128|63&h>>>6),this.De(128|63&h)}}this.Ce()}$e(e){for(const t of e){const a=t.charCodeAt(0);if(a<128)this.Ne(a);else if(a<2048)this.Ne(960|a>>>6),this.Ne(128|63&a);else if(t<"\ud800"||"\udbff"<t)this.Ne(480|a>>>12),this.Ne(128|63&a>>>6),this.Ne(128|63&a);else{const h=t.codePointAt(0);this.Ne(240|h>>>18),this.Ne(128|63&h>>>12),this.Ne(128|63&h>>>6),this.Ne(128|63&h)}}this.ke()}Oe(e){const t=this.Fe(e),a=Ln(t);this.Be(1+a),this.buffer[this.position++]=255&a;for(let h=t.length-a;h<t.length;++h)this.buffer[this.position++]=255&t[h]}Le(e){const t=this.Fe(e),a=Ln(t);this.Be(1+a),this.buffer[this.position++]=~(255&a);for(let h=t.length-a;h<t.length;++h)this.buffer[this.position++]=~(255&t[h])}qe(){this.Ue(255),this.Ue(255)}Ke(){this.Ge(255),this.Ge(255)}reset(){this.position=0}seed(e){this.Be(e.length),this.buffer.set(e,this.position),this.position+=e.length}Qe(){return this.buffer.slice(0,this.position)}Fe(e){const t=function(h){const b=new DataView(new ArrayBuffer(8));return b.setFloat64(0,h,!1),new Uint8Array(b.buffer)}(e),a=0!=(128&t[0]);t[0]^=a?255:128;for(let h=1;h<t.length;++h)t[h]^=a?255:0;return t}De(e){const t=255&e;0===t?(this.Ue(0),this.Ue(255)):255===t?(this.Ue(255),this.Ue(0)):this.Ue(t)}Ne(e){const t=255&e;0===t?(this.Ge(0),this.Ge(255)):255===t?(this.Ge(255),this.Ge(0)):this.Ge(e)}Ce(){this.Ue(0),this.Ue(1)}ke(){this.Ge(0),this.Ge(1)}Ue(e){this.Be(1),this.buffer[this.position++]=e}Ge(e){this.Be(1),this.buffer[this.position++]=~e}Be(e){const t=e+this.position;if(t<=this.buffer.length)return;let a=2*this.buffer.length;a<t&&(a=t);const h=new Uint8Array(a);h.set(this.buffer),this.buffer=h}}class Di{constructor(e){this.je=e}Ae(e){this.je.Se(e)}Ie(e){this.je.Me(e)}pe(e){this.je.Oe(e)}ge(){this.je.qe()}}class Xi{constructor(e){this.je=e}Ae(e){this.je.xe(e)}Ie(e){this.je.$e(e)}pe(e){this.je.Le(e)}ge(){this.je.Ke()}}class go{constructor(){this.je=new rr,this.ze=new Di(this.je),this.We=new Xi(this.je)}seed(e){this.je.seed(e)}He(e){return 0===e?this.ze:this.We}Qe(){return this.je.Qe()}reset(){this.je.reset()}}class ya{constructor(e,t,a,h){this.indexId=e,this.documentKey=t,this.arrayValue=a,this.directionalValue=h}Je(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,a=new Uint8Array(t);return a.set(this.directionalValue,0),t!==e?a.set([0],this.directionalValue.length):++a[a.length-1],new ya(this.indexId,this.documentKey,this.arrayValue,a)}}function il(i,e){let t=i.indexId-e.indexId;return 0!==t?t:(t=Kl(i.arrayValue,e.arrayValue),0!==t?t:(t=Kl(i.directionalValue,e.directionalValue),0!==t?t:gr.comparator(i.documentKey,e.documentKey)))}function Kl(i,e){for(let t=0;t<i.length&&t<e.length;++t){const a=i[t]-e[t];if(0!==a)return a}return i.length-e.length}class bu{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ye=e.orderBy,this.Xe=[];for(const t of e.filters){const a=t;a.isInequality()?this.Ze=a:this.Xe.push(a)}}tn(e){si(e.collectionGroup===this.collectionId);const t=pa(e);if(void 0!==t&&!this.en(t))return!1;const a=xa(e);let h=0,b=0;for(;h<a.length&&this.en(a[h]);++h);if(h===a.length)return!0;if(void 0!==this.Ze){const T=a[h];if(!this.nn(this.Ze,T)||!this.sn(this.Ye[b++],T))return!1;++h}for(;h<a.length;++h)if(b>=this.Ye.length||!this.sn(this.Ye[b++],a[h]))return!1;return!0}en(e){for(const t of this.Xe)if(this.nn(t,e))return!0;return!1}nn(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}sn(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function Fh(i){var e,t;if(si(i instanceof co||i instanceof Uo),i instanceof co){if(i instanceof _c){const h=(null===(t=null===(e=i.value.arrayValue)||void 0===e?void 0:e.values)||void 0===t?void 0:t.map(b=>co.create(i.field,"==",b)))||[];return Uo.create(h,"or")}return i}const a=i.filters.map(h=>Fh(h));return Uo.create(a,i.op)}function Bf(i){if(0===i.getFilters().length)return[];const e=ja(Fh(i));return si(Om(e)),Gp(e)||Lh(e)?[e]:e.getFilters()}function Gp(i){return i instanceof co}function Lh(i){return i instanceof Uo&&su(i)}function Om(i){return Gp(i)||Lh(i)||function(e){if(e instanceof Uo&&rc(e)){for(const t of e.getFilters())if(!Gp(t)&&!Lh(t))return!1;return!0}return!1}(i)}function ja(i){if(si(i instanceof co||i instanceof Uo),i instanceof co)return i;if(1===i.filters.length)return ja(i.filters[0]);const e=i.filters.map(a=>ja(a));let t=Uo.create(e,i.op);return t=Od(t),Om(t)?t:(si(t instanceof Uo),si(_l(t)),si(t.filters.length>1),t.filters.reduce((a,h)=>Kp(a,h)))}function Kp(i,e){let t;return si(i instanceof co||i instanceof Uo),si(e instanceof co||e instanceof Uo),t=i instanceof co?e instanceof co?Uo.create([i,e],"and"):km(i,e):e instanceof co?km(e,i):function(a,h){if(si(a.filters.length>0&&h.filters.length>0),_l(a)&&_l(h))return _d(a,h.getFilters());const b=rc(a)?a:h,T=rc(a)?h:a,G=b.filters.map(ae=>Kp(ae,T));return Uo.create(G,"or")}(i,e),Od(t)}function km(i,e){if(_l(e))return _d(e,i.getFilters());{const t=e.filters.map(a=>Kp(i,a));return Uo.create(t,"or")}}function Od(i){if(si(i instanceof co||i instanceof Uo),i instanceof co)return i;const e=i.getFilters();if(1===e.length)return Od(e[0]);if(Bc(i))return i;const t=e.map(h=>Od(h)),a=[];return t.forEach(h=>{h instanceof co?a.push(h):h instanceof Uo&&(h.op===i.op?a.push(...h.filters):a.push(h))}),1===a.length?a[0]:Uo.create(a,i.op)}class Nm{constructor(){this.rn=new Yp}addToCollectionParentIndex(e,t){return this.rn.add(t),pn.resolve()}getCollectionParents(e,t){return pn.resolve(this.rn.getEntries(t))}addFieldIndex(e,t){return pn.resolve()}deleteFieldIndex(e,t){return pn.resolve()}getDocumentsMatchingTarget(e,t){return pn.resolve(null)}getIndexType(e,t){return pn.resolve(0)}getFieldIndexes(e,t){return pn.resolve([])}getNextCollectionGroupToUpdate(e){return pn.resolve(null)}getMinOffset(e,t){return pn.resolve(Wi.min())}getMinOffsetFromCollectionGroup(e,t){return pn.resolve(Wi.min())}updateCollectionGroup(e,t,a){return pn.resolve()}updateIndexEntries(e,t){return pn.resolve()}}class Yp{constructor(){this.index={}}add(e){const t=e.lastSegment(),a=e.popLast(),h=this.index[t]||new os(as.comparator),b=!h.has(a);return this.index[t]=h.add(a),b}has(e){const t=e.lastSegment(),a=e.popLast(),h=this.index[t];return h&&h.has(a)}getEntries(e){return(this.index[e]||new os(as.comparator)).toArray()}}const $f=new Uint8Array(0);class dv{constructor(e,t){this.user=e,this.databaseId=t,this.on=new Yp,this.un=new ia(a=>gl(a),(a,h)=>Cl(a,h)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.on.has(t)){const a=t.lastSegment(),h=t.popLast();e.addOnCommittedListener(()=>{this.on.add(t)});const b={collectionId:a,parent:An(h)};return Fm(e).put(b)}return pn.resolve()}getCollectionParents(e,t){const a=[],h=IDBKeyRange.bound([t,""],[Al(t),""],!1,!0);return Fm(e).j(h).next(b=>{for(const T of b){if(T.collectionId!==t)break;a.push(Zr(T.parent))}return a})}addFieldIndex(e,t){const a=qp(e),h={indexId:(T=t).indexId,collectionGroup:T.collectionGroup,fields:T.fields.map(G=>[G.fieldPath.canonicalString(),G.kind])};var T;delete h.indexId;const b=a.add(h);if(t.indexState){const T=Vf(e);return b.next(G=>{T.put(D(G,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return b.next()}deleteFieldIndex(e,t){const a=qp(e),h=Vf(e),b=kd(e);return a.delete(t.indexId).next(()=>h.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>b.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const a=kd(e);let h=!0;const b=new Map;return pn.forEach(this.cn(t),T=>this.an(e,T).next(G=>{h&&(h=!!G),b.set(T,G)})).next(()=>{if(h){let T=Fs();const G=[];return pn.forEach(b,(ae,we)=>{var Ye;Hn("IndexedDbIndexManager",`Using index ${Ye=ae,`id=${Ye.indexId}|cg=${Ye.collectionGroup}|f=${Ye.fields.map(mo=>`${mo.fieldPath}:${mo.kind}`).join(",")}`} to execute ${gl(t)}`);const Rt=function(mo,Xa){const Ka=pa(Xa);if(void 0===Ka)return null;for(const Ea of bc(mo,Ka.fieldPath))switch(Ea.op){case"array-contains-any":return Ea.value.arrayValue.values||[];case"array-contains":return[Ea.value]}return null}(we,ae),bn=function(mo,Xa){const Ka=new Map;for(const Ea of xa(Xa))for(const Nl of bc(mo,Ea.fieldPath))switch(Nl.op){case"==":case"in":Ka.set(Ea.fieldPath.canonicalString(),Nl.value);break;case"not-in":case"!=":return Ka.set(Ea.fieldPath.canonicalString(),Nl.value),Array.from(Ka.values())}return null}(we,ae),$n=function(mo,Xa){const Ka=[];let Ea=!0;for(const Nl of xa(Xa)){const gd=0===Nl.kind?jc(mo,Nl.fieldPath,mo.startAt):zc(mo,Nl.fieldPath,mo.startAt);Ka.push(gd.value),Ea&&(Ea=gd.inclusive)}return new ba(Ka,Ea)}(we,ae),Dr=function(mo,Xa){const Ka=[];let Ea=!0;for(const Nl of xa(Xa)){const gd=0===Nl.kind?zc(mo,Nl.fieldPath,mo.endAt):jc(mo,Nl.fieldPath,mo.endAt);Ka.push(gd.value),Ea&&(Ea=gd.inclusive)}return new ba(Ka,Ea)}(we,ae),pi=this.hn(ae,we,$n),Si=this.hn(ae,we,Dr),Zs=this.ln(ae,we,bn),Lo=this.fn(ae.indexId,Rt,pi,$n.inclusive,Si,Dr.inclusive,Zs);return pn.forEach(Lo,mo=>a.H(mo,t.limit).next(Xa=>{Xa.forEach(Ka=>{const Ea=gr.fromSegments(Ka.documentKey);T.has(Ea)||(T=T.add(Ea),G.push(Ea))})}))}).next(()=>G)}return pn.resolve(null)})}cn(e){let t=this.un.get(e);return t||(t=0===e.filters.length?[e]:Bf(Uo.create(e.filters,"and")).map(a=>Uc(e.path,e.collectionGroup,e.orderBy,a.getFilters(),e.limit,e.startAt,e.endAt)),this.un.set(e,t),t)}fn(e,t,a,h,b,T,G){const ae=(null!=t?t.length:1)*Math.max(a.length,b.length),we=ae/(null!=t?t.length:1),Ye=[];for(let Rt=0;Rt<ae;++Rt){const bn=t?this.dn(t[Rt/we]):$f,$n=this.wn(e,bn,a[Rt%we],h),Dr=this._n(e,bn,b[Rt%we],T),pi=G.map(Si=>this.wn(e,bn,Si,!0));Ye.push(...this.createRange($n,Dr,pi))}return Ye}wn(e,t,a,h){const b=new ya(e,gr.empty(),t,a);return h?b:b.Je()}_n(e,t,a,h){const b=new ya(e,gr.empty(),t,a);return h?b.Je():b}an(e,t){const a=new bu(t),h=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,h).next(b=>{let T=null;for(const G of b)a.tn(G)&&(!T||G.fields.length>T.fields.length)&&(T=G);return T})}getIndexType(e,t){let a=2;const h=this.cn(t);return pn.forEach(h,b=>this.an(e,b).next(T=>{T?0!==a&&T.fields.length<function(G){let ae=new os(gs.comparator),we=!1;for(const Ye of G.filters)for(const Rt of Ye.getFlattenedFilters())Rt.field.isKeyField()||("array-contains"===Rt.op||"array-contains-any"===Rt.op?we=!0:ae=ae.add(Rt.field));for(const Ye of G.orderBy)Ye.field.isKeyField()||(ae=ae.add(Ye.field));return ae.size+(we?1:0)}(b)&&(a=1):a=0})).next(()=>null!==t.limit&&h.length>1&&2===a?1:a)}mn(e,t){const a=new go;for(const h of xa(e)){const b=t.data.field(h.fieldPath);if(null==b)return null;const T=a.He(h.kind);Ot.Ve._e(b,T)}return a.Qe()}dn(e){const t=new go;return Ot.Ve._e(e,t.He(0)),t.Qe()}gn(e,t){const a=new go;return Ot.Ve._e(Jl(this.databaseId,t),a.He(function(h){const b=xa(h);return 0===b.length?0:b[b.length-1].kind}(e))),a.Qe()}ln(e,t,a){if(null===a)return[];let h=[];h.push(new go);let b=0;for(const T of xa(e)){const G=a[b++];for(const ae of h)if(this.yn(t,T.fieldPath)&&cl(G))h=this.pn(h,T,G);else{const we=ae.He(T.kind);Ot.Ve._e(G,we)}}return this.In(h)}hn(e,t,a){return this.ln(e,t,a.position)}In(e){const t=[];for(let a=0;a<e.length;++a)t[a]=e[a].Qe();return t}pn(e,t,a){const h=[...e],b=[];for(const T of a.arrayValue.values||[])for(const G of h){const ae=new go;ae.seed(G.Qe()),Ot.Ve._e(T,ae.He(t.kind)),b.push(ae)}return b}yn(e,t){return!!e.filters.find(a=>a instanceof co&&a.field.isEqual(t)&&("in"===a.op||"not-in"===a.op))}getFieldIndexes(e,t){const a=qp(e),h=Vf(e);return(t?a.j("collectionGroupIndex",IDBKeyRange.bound(t,t)):a.j()).next(b=>{const T=[];return pn.forEach(b,G=>h.get([G.indexId,this.uid]).next(ae=>{T.push(function(we,Ye){const Rt=Ye?new Jt(Ye.sequenceNumber,new Wi(vu(Ye.readTime),new gr(Zr(Ye.documentKey)),Ye.largestBatchId)):Jt.empty(),bn=we.fields.map(([$n,Dr])=>new nt(gs.fromServerFormat($n),Dr));return new Aa(we.indexId,we.collectionGroup,bn,Rt)}(G,ae))})).next(()=>T)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((a,h)=>{const b=a.indexState.sequenceNumber-h.indexState.sequenceNumber;return 0!==b?b:$i(a.collectionGroup,h.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,a){const h=qp(e),b=Vf(e);return this.Tn(e).next(T=>h.j("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(G=>pn.forEach(G,ae=>b.put(D(ae.indexId,this.user,T,a)))))}updateIndexEntries(e,t){const a=new Map;return pn.forEach(t,(h,b)=>{const T=a.get(h.collectionGroup);return(T?pn.resolve(T):this.getFieldIndexes(e,h.collectionGroup)).next(G=>(a.set(h.collectionGroup,G),pn.forEach(G,ae=>this.En(e,h,ae).next(we=>{const Ye=this.An(b,ae);return we.isEqual(Ye)?pn.resolve():this.vn(e,b,ae,we,Ye)}))))})}Rn(e,t,a,h){return kd(e).put({indexId:h.indexId,uid:this.uid,arrayValue:h.arrayValue,directionalValue:h.directionalValue,orderedDocumentKey:this.gn(a,t.key),documentKey:t.key.path.toArray()})}Pn(e,t,a,h){return kd(e).delete([h.indexId,this.uid,h.arrayValue,h.directionalValue,this.gn(a,t.key),t.key.path.toArray()])}En(e,t,a){const h=kd(e);let b=new os(il);return h.X({index:"documentKeyIndex",range:IDBKeyRange.only([a.indexId,this.uid,this.gn(a,t)])},(T,G)=>{b=b.add(new ya(a.indexId,t,G.arrayValue,G.directionalValue))}).next(()=>b)}An(e,t){let a=new os(il);const h=this.mn(t,e);if(null==h)return a;const b=pa(t);if(null!=b){const T=e.data.field(b.fieldPath);if(cl(T))for(const G of T.arrayValue.values||[])a=a.add(new ya(t.indexId,e.key,this.dn(G),h))}else a=a.add(new ya(t.indexId,e.key,$f,h));return a}vn(e,t,a,h,b){Hn("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const T=[];return function(G,ae,we,Ye,Rt){const bn=G.getIterator(),$n=ae.getIterator();let Dr=wr(bn),pi=wr($n);for(;Dr||pi;){let Si=!1,Zs=!1;if(Dr&&pi){const Lo=we(Dr,pi);Lo<0?Zs=!0:Lo>0&&(Si=!0)}else null!=Dr?Zs=!0:Si=!0;Si?(Ye(pi),pi=wr($n)):Zs?(Rt(Dr),Dr=wr(bn)):(Dr=wr(bn),pi=wr($n))}}(h,b,il,G=>{T.push(this.Rn(e,t,a,G))},G=>{T.push(this.Pn(e,t,a,G))}),pn.waitFor(T)}Tn(e){let t=1;return Vf(e).X({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(a,h,b)=>{b.done(),t=h.sequenceNumber+1}).next(()=>t)}createRange(e,t,a){a=a.sort((T,G)=>il(T,G)).filter((T,G,ae)=>!G||0!==il(T,ae[G-1]));const h=[];h.push(e);for(const T of a){const G=il(T,e),ae=il(T,t);if(0===G)h[0]=e.Je();else if(G>0&&ae<0)h.push(T),h.push(T.Je());else if(ae>0)break}h.push(t);const b=[];for(let T=0;T<h.length;T+=2){if(this.bn(h[T],h[T+1]))return[];b.push(IDBKeyRange.bound([h[T].indexId,this.uid,h[T].arrayValue,h[T].directionalValue,$f,[]],[h[T+1].indexId,this.uid,h[T+1].arrayValue,h[T+1].directionalValue,$f,[]]))}return b}bn(e,t){return il(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(Nd)}getMinOffset(e,t){return pn.mapArray(this.cn(t),a=>this.an(e,a).next(h=>h||Rr())).next(Nd)}}function Fm(i){return dr(i,"collectionParents")}function kd(i){return dr(i,"indexEntries")}function qp(i){return dr(i,"indexConfiguration")}function Vf(i){return dr(i,"indexState")}function Nd(i){si(0!==i.length);let e=i[0].indexState.offset,t=e.largestBatchId;for(let a=1;a<i.length;a++){const h=i[a].indexState.offset;ss(h,e)<0&&(e=h),t<h.largestBatchId&&(t=h.largestBatchId)}return new Wi(e.readTime,e.documentKey,t)}const Yo={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Za{constructor(e,t,a){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=a}static withCacheSize(e){return new Za(e,Za.DEFAULT_COLLECTION_PERCENTILE,Za.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function Zp(i,e,t){const a=i.store("mutations"),h=i.store("documentMutations"),b=[],T=IDBKeyRange.only(t.batchId);let G=0;const ae=a.X({range:T},(Ye,Rt,bn)=>(G++,bn.delete()));b.push(ae.next(()=>{si(1===G)}));const we=[];for(const Ye of t.mutations){const Rt=l(e,Ye.key.path,t.batchId);b.push(h.delete(Rt)),we.push(Ye.key)}return pn.waitFor(b).next(()=>we)}function Bh(i){if(!i)return 0;let e;if(i.document)e=i.document;else if(i.unknownDocument)e=i.unknownDocument;else{if(!i.noDocument)throw Rr();e=i.noDocument}return JSON.stringify(e).length}Za.DEFAULT_COLLECTION_PERCENTILE=10,Za.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Za.DEFAULT=new Za(41943040,Za.DEFAULT_COLLECTION_PERCENTILE,Za.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Za.DISABLED=new Za(-1,0,0);class $h{constructor(e,t,a,h){this.userId=e,this.serializer=t,this.indexManager=a,this.referenceDelegate=h,this.Vn={}}static de(e,t,a,h){si(""!==e.uid);const b=e.isAuthenticated()?e.uid:"";return new $h(b,t,a,h)}checkEmpty(e){let t=!0;const a=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Eu(e).X({index:"userMutationsIndex",range:a},(h,b,T)=>{t=!1,T.done()}).next(()=>t)}addMutationBatch(e,t,a,h){const b=Yu(e),T=Eu(e);return T.add({}).next(G=>{si("number"==typeof G);const ae=new bh(G,t,a,h),we=function(bn,$n,Dr){const pi=Dr.baseMutations.map(Zs=>Wu(bn.fe,Zs)),Si=Dr.mutations.map(Zs=>Wu(bn.fe,Zs));return{userId:$n,batchId:Dr.batchId,localWriteTimeMs:Dr.localWriteTime.toMillis(),baseMutations:pi,mutations:Si}}(this.serializer,this.userId,ae),Ye=[];let Rt=new os((bn,$n)=>$i(bn.canonicalString(),$n.canonicalString()));for(const bn of h){const $n=l(this.userId,bn.key.path,G);Rt=Rt.add(bn.key.path.popLast()),Ye.push(T.put(we)),Ye.push(b.put($n,s))}return Rt.forEach(bn=>{Ye.push(this.indexManager.addToCollectionParentIndex(e,bn))}),e.addOnCommittedListener(()=>{this.Vn[G]=ae.keys()}),pn.waitFor(Ye).next(()=>ae)})}lookupMutationBatch(e,t){return Eu(e).get(t).next(a=>a?(si(a.userId===this.userId),Tc(this.serializer,a)):null)}Sn(e,t){return this.Vn[t]?pn.resolve(this.Vn[t]):this.lookupMutationBatch(e,t).next(a=>{if(a){const h=a.keys();return this.Vn[t]=h,h}return null})}getNextMutationBatchAfterBatchId(e,t){const a=t+1,h=IDBKeyRange.lowerBound([this.userId,a]);let b=null;return Eu(e).X({index:"userMutationsIndex",range:h},(T,G,ae)=>{G.userId===this.userId&&(si(G.batchId>=a),b=Tc(this.serializer,G)),ae.done()}).next(()=>b)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let a=-1;return Eu(e).X({index:"userMutationsIndex",range:t,reverse:!0},(h,b,T)=>{a=b.batchId,T.done()}).next(()=>a)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Eu(e).j("userMutationsIndex",t).next(a=>a.map(h=>Tc(this.serializer,h)))}getAllMutationBatchesAffectingDocumentKey(e,t){const a=m(this.userId,t.path),h=IDBKeyRange.lowerBound(a),b=[];return Yu(e).X({range:h},(T,G,ae)=>{const[we,Ye,Rt]=T,bn=Zr(Ye);if(we===this.userId&&t.path.isEqual(bn))return Eu(e).get(Rt).next($n=>{if(!$n)throw Rr();si($n.userId===this.userId),b.push(Tc(this.serializer,$n))});ae.done()}).next(()=>b)}getAllMutationBatchesAffectingDocumentKeys(e,t){let a=new os($i);const h=[];return t.forEach(b=>{const T=m(this.userId,b.path),G=IDBKeyRange.lowerBound(T),ae=Yu(e).X({range:G},(we,Ye,Rt)=>{const[bn,$n,Dr]=we,pi=Zr($n);bn===this.userId&&b.path.isEqual(pi)?a=a.add(Dr):Rt.done()});h.push(ae)}),pn.waitFor(h).next(()=>this.Dn(e,a))}getAllMutationBatchesAffectingQuery(e,t){const a=t.path,h=a.length+1,b=m(this.userId,a),T=IDBKeyRange.lowerBound(b);let G=new os($i);return Yu(e).X({range:T},(ae,we,Ye)=>{const[Rt,bn,$n]=ae,Dr=Zr(bn);Rt===this.userId&&a.isPrefixOf(Dr)?Dr.length===h&&(G=G.add($n)):Ye.done()}).next(()=>this.Dn(e,G))}Dn(e,t){const a=[],h=[];return t.forEach(b=>{h.push(Eu(e).get(b).next(T=>{if(null===T)throw Rr();si(T.userId===this.userId),a.push(Tc(this.serializer,T))}))}),pn.waitFor(h).next(()=>a)}removeMutationBatch(e,t){return Zp(e.ht,this.userId,t).next(a=>(e.addOnCommittedListener(()=>{this.Cn(t.batchId)}),pn.forEach(a,h=>this.referenceDelegate.markPotentiallyOrphaned(e,h))))}Cn(e){delete this.Vn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return pn.resolve();const a=IDBKeyRange.lowerBound([this.userId]),h=[];return Yu(e).X({range:a},(b,T,G)=>{if(b[0]===this.userId){const ae=Zr(b[1]);h.push(ae)}else G.done()}).next(()=>{si(0===h.length)})})}containsKey(e,t){return Xp(e,this.userId,t)}xn(e){return Qp(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function Xp(i,e,t){const a=m(e,t.path),h=a[1],b=IDBKeyRange.lowerBound(a);let T=!1;return Yu(i).X({range:b,Y:!0},(G,ae,we)=>{const[Ye,Rt,bn]=G;Ye===e&&Rt===h&&(T=!0),we.done()}).next(()=>T)}function Eu(i){return dr(i,"mutations")}function Yu(i){return dr(i,"documentMutations")}function Qp(i){return dr(i,"mutationQueues")}class eu{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new eu(0)}static Mn(){return new eu(-1)}}class l0{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.$n(e).next(t=>{const a=new eu(t.highestTargetId);return t.highestTargetId=a.next(),this.On(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.$n(e).next(t=>ti.fromTimestamp(new ps(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.$n(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,a){return this.$n(e).next(h=>(h.highestListenSequenceNumber=t,a&&(h.lastRemoteSnapshotVersion=a.toTimestamp()),t>h.highestListenSequenceNumber&&(h.highestListenSequenceNumber=t),this.On(e,h)))}addTargetData(e,t){return this.Fn(e,t).next(()=>this.$n(e).next(a=>(a.targetCount+=1,this.Bn(t,a),this.On(e,a))))}updateTargetData(e,t){return this.Fn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>wu(e).delete(t.targetId)).next(()=>this.$n(e)).next(a=>(si(a.targetCount>0),a.targetCount-=1,this.On(e,a)))}removeTargets(e,t,a){let h=0;const b=[];return wu(e).X((T,G)=>{const ae=_u(G);ae.sequenceNumber<=t&&null===a.get(ae.targetId)&&(h++,b.push(this.removeTargetData(e,ae)))}).next(()=>pn.waitFor(b)).next(()=>h)}forEachTarget(e,t){return wu(e).X((a,h)=>{const b=_u(h);t(b)})}$n(e){return Lm(e).get("targetGlobalKey").next(t=>(si(null!==t),t))}On(e,t){return Lm(e).put("targetGlobalKey",t)}Fn(e,t){return wu(e).put(Lf(this.serializer,t))}Bn(e,t){let a=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,a=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,a=!0),a}getTargetCount(e){return this.$n(e).next(t=>t.targetCount)}getTargetData(e,t){const a=gl(t),h=IDBKeyRange.bound([a,Number.NEGATIVE_INFINITY],[a,Number.POSITIVE_INFINITY]);let b=null;return wu(e).X({range:h,index:"queryTargetsIndex"},(T,G,ae)=>{const we=_u(G);Cl(t,we.target)&&(b=we,ae.done())}).next(()=>b)}addMatchingKeys(e,t,a){const h=[],b=Ac(e);return t.forEach(T=>{const G=An(T.path);h.push(b.put({targetId:a,path:G})),h.push(this.referenceDelegate.addReference(e,a,T))}),pn.waitFor(h)}removeMatchingKeys(e,t,a){const h=Ac(e);return pn.forEach(t,b=>{const T=An(b.path);return pn.waitFor([h.delete([a,T]),this.referenceDelegate.removeReference(e,a,b)])})}removeMatchingKeysForTargetId(e,t){const a=Ac(e),h=IDBKeyRange.bound([t],[t+1],!1,!0);return a.delete(h)}getMatchingKeysForTargetId(e,t){const a=IDBKeyRange.bound([t],[t+1],!1,!0),h=Ac(e);let b=Fs();return h.X({range:a,Y:!0},(T,G,ae)=>{const we=Zr(T[1]),Ye=new gr(we);b=b.add(Ye)}).next(()=>b)}containsKey(e,t){const a=An(t.path),h=IDBKeyRange.bound([a],[Al(a)],!1,!0);let b=0;return Ac(e).X({index:"documentTargetsIndex",Y:!0,range:h},([T,G],ae,we)=>{0!==T&&(b++,we.done())}).next(()=>b>0)}le(e,t){return wu(e).get(t).next(a=>a?_u(a):null)}}function wu(i){return dr(i,"targets")}function Lm(i){return dr(i,"targetGlobal")}function Ac(i){return dr(i,"targetDocuments")}function Jp([i,e],[t,a]){const h=$i(i,t);return 0===h?$i(e,a):h}class Bm{constructor(e){this.Ln=e,this.buffer=new os(Jp),this.qn=0}Un(){return++this.qn}Kn(e){const t=[e,this.Un()];if(this.buffer.size<this.Ln)this.buffer=this.buffer.add(t);else{const a=this.buffer.last();Jp(t,a)<0&&(this.buffer=this.buffer.delete(a).add(t))}}get maxValue(){return this.buffer.last()[0]}}class Iu{constructor(e,t,a){this.garbageCollector=e,this.asyncQueue=t,this.localStore=a,this.Gn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Qn(6e4)}stop(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}get started(){return null!==this.Gn}Qn(e){var t=this;Hn("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,d.Z)(function*(){t.Gn=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(a){Xo(a)?Hn("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",a):yield Ko(a)}yield t.Qn(3e5)}))}}class hv{constructor(e,t){this.jn=e,this.params=t}calculateTargetCount(e,t){return this.jn.zn(e).next(a=>Math.floor(t/100*a))}nthSequenceNumber(e,t){if(0===t)return pn.resolve(me.ct);const a=new Bm(t);return this.jn.forEachTarget(e,h=>a.Kn(h.sequenceNumber)).next(()=>this.jn.Wn(e,h=>a.Kn(h))).next(()=>a.maxValue)}removeTargets(e,t,a){return this.jn.removeTargets(e,t,a)}removeOrphanedDocuments(e,t){return this.jn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Hn("LruGarbageCollector","Garbage collection skipped; disabled"),pn.resolve(Yo)):this.getCacheSize(e).next(a=>a<this.params.cacheSizeCollectionThreshold?(Hn("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Yo):this.Hn(e,t))}getCacheSize(e){return this.jn.getCacheSize(e)}Hn(e,t){let a,h,b,T,G,ae,we;const Ye=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(Rt=>(Rt>this.params.maximumSequenceNumbersToCollect?(Hn("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${Rt}`),h=this.params.maximumSequenceNumbersToCollect):h=Rt,T=Date.now(),this.nthSequenceNumber(e,h))).next(Rt=>(a=Rt,G=Date.now(),this.removeTargets(e,a,t))).next(Rt=>(b=Rt,ae=Date.now(),this.removeOrphanedDocuments(e,a))).next(Rt=>(we=Date.now(),Ps()<=ke.in.DEBUG&&Hn("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${T-Ye}ms\n\tDetermined least recently used ${h} in `+(G-T)+`ms\n\tRemoved ${b} targets in `+(ae-G)+`ms\n\tRemoved ${Rt} documents in `+(we-ae)+`ms\nTotal Duration: ${we-Ye}ms`),pn.resolve({didRun:!0,sequenceNumbersCollected:h,targetsRemoved:b,documentsRemoved:Rt})))}}class jf{constructor(e,t){this.db=e,this.garbageCollector=function Uf(i,e){return new hv(i,e)}(this,t)}zn(e){const t=this.Jn(e);return this.db.getTargetCache().getTargetCount(e).next(a=>t.next(h=>a+h))}Jn(e){let t=0;return this.Wn(e,a=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Wn(e,t){return this.Yn(e,(a,h)=>t(h))}addReference(e,t,a){return zf(e,a)}removeReference(e,t,a){return zf(e,a)}removeTargets(e,t,a){return this.db.getTargetCache().removeTargets(e,t,a)}markPotentiallyOrphaned(e,t){return zf(e,t)}Xn(e,t){return function(a,h){let b=!1;return Qp(a).Z(T=>Xp(a,T,h).next(G=>(G&&(b=!0),pn.resolve(!G)))).next(()=>b)}(e,t)}removeOrphanedDocuments(e,t){const a=this.db.getRemoteDocumentCache().newChangeBuffer(),h=[];let b=0;return this.Yn(e,(T,G)=>{if(G<=t){const ae=this.Xn(e,T).next(we=>{if(!we)return b++,a.getEntry(e,T).next(()=>(a.removeEntry(T,ti.min()),Ac(e).delete([0,An(T.path)])))});h.push(ae)}}).next(()=>pn.waitFor(h)).next(()=>a.apply(e)).next(()=>b)}removeTarget(e,t){const a=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,a)}updateLimboDocument(e,t){return zf(e,t)}Yn(e,t){const a=Ac(e);let h,b=me.ct;return a.X({index:"documentTargetsIndex"},([T,G],{path:ae,sequenceNumber:we})=>{0===T?(b!==me.ct&&t(new gr(Zr(h)),b),b=we,h=ae):b=me.ct}).next(()=>{b!==me.ct&&t(new gr(Zr(h)),b)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function zf(i,e){return Ac(i).put((a=i.currentSequenceNumber,{targetId:0,path:An(e.path),sequenceNumber:a}));var a}class Hf{constructor(){this.changes=new ia(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Fo.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const a=this.changes.get(t);return void 0!==a?pn.resolve(a):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Wf{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,a){return qu(e).put(a)}removeEntry(e,t,a){return qu(e).delete(function(h,b){const T=h.path.toArray();return[T.slice(0,T.length-2),T[T.length-2],Rd(b),T[T.length-1]]}(t,a))}updateMetadata(e,t){return this.getMetadata(e).next(a=>(a.byteSize+=t,this.Zn(e,a)))}getEntry(e,t){let a=Fo.newInvalidDocument(t);return qu(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(Vh(t))},(h,b)=>{a=this.ts(t,b)}).next(()=>a)}es(e,t){let a={size:0,document:Fo.newInvalidDocument(t)};return qu(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(Vh(t))},(h,b)=>{a={document:this.ts(t,b),size:Bh(b)}}).next(()=>a)}getEntries(e,t){let a=ha();return this.ns(e,t,(h,b)=>{const T=this.ts(h,b);a=a.insert(h,T)}).next(()=>a)}ss(e,t){let a=ha(),h=new Vr(gr.comparator);return this.ns(e,t,(b,T)=>{const G=this.ts(b,T);a=a.insert(b,G),h=h.insert(b,Bh(T))}).next(()=>({documents:a,rs:h}))}ns(e,t,a){if(t.isEmpty())return pn.resolve();let h=new os(Zu);t.forEach(ae=>h=h.add(ae));const b=IDBKeyRange.bound(Vh(h.first()),Vh(h.last())),T=h.getIterator();let G=T.getNext();return qu(e).X({index:"documentKeyIndex",range:b},(ae,we,Ye)=>{const Rt=gr.fromSegments([...we.prefixPath,we.collectionGroup,we.documentId]);for(;G&&Zu(G,Rt)<0;)a(G,null),G=T.getNext();G&&G.isEqual(Rt)&&(a(G,we),G=T.hasNext()?T.getNext():null),G?Ye.G(Vh(G)):Ye.done()}).next(()=>{for(;G;)a(G,null),G=T.hasNext()?T.getNext():null})}getDocumentsMatchingQuery(e,t,a,h){const b=t.path,T=[b.popLast().toArray(),b.lastSegment(),Rd(a.readTime),a.documentKey.path.isEmpty()?"":a.documentKey.path.lastSegment()],G=[b.popLast().toArray(),b.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return qu(e).j(IDBKeyRange.bound(T,G,!0)).next(ae=>{let we=ha();for(const Ye of ae){const Rt=this.ts(gr.fromSegments(Ye.prefixPath.concat(Ye.collectionGroup,Ye.documentId)),Ye);Rt.isFoundDocument()&&(Us(t,Rt)||h.has(Rt.key))&&(we=we.insert(Rt.key,Rt))}return we})}getAllFromCollectionGroup(e,t,a,h){let b=ha();const T=tg(t,a),G=tg(t,Wi.max());return qu(e).X({index:"collectionGroupIndex",range:IDBKeyRange.bound(T,G,!0)},(ae,we,Ye)=>{const Rt=this.ts(gr.fromSegments(we.prefixPath.concat(we.collectionGroup,we.documentId)),we);b=b.insert(Rt.key,Rt),b.size===h&&Ye.done()}).next(()=>b)}newChangeBuffer(e){return new eg(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return Gf(e).get("remoteDocumentGlobalKey").next(t=>(si(!!t),t))}Zn(e,t){return Gf(e).put("remoteDocumentGlobalKey",t)}ts(e,t){if(t){const a=function Rm(i,e){let t;if(e.document)t=uc(i.fe,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const a=gr.fromSegments(e.noDocument.path),h=vu(e.noDocument.readTime);t=Fo.newNoDocument(a,h),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return Rr();{const a=gr.fromSegments(e.unknownDocument.path),h=vu(e.unknownDocument.version);t=Fo.newUnknownDocument(a,h)}}return e.readTime&&t.setReadTime(function(a){const h=new ps(a[0],a[1]);return ti.fromTimestamp(h)}(e.readTime)),t}(this.serializer,t);if(!a.isNoDocument()||!a.version.isEqual(ti.min()))return a}return Fo.newInvalidDocument(e)}}function Cu(i){return new Wf(i)}class eg extends Hf{constructor(e,t){super(),this.os=e,this.trackRemovals=t,this.us=new ia(a=>a.toString(),(a,h)=>a.isEqual(h))}applyChanges(e){const t=[];let a=0,h=new os((b,T)=>$i(b.canonicalString(),T.canonicalString()));return this.changes.forEach((b,T)=>{const G=this.us.get(b);if(t.push(this.os.removeEntry(e,b,G.readTime)),T.isValidDocument()){const ae=Wp(this.os.serializer,T);h=h.add(b.path.popLast());const we=Bh(ae);a+=we-G.size,t.push(this.os.addEntry(e,b,ae))}else if(a-=G.size,this.trackRemovals){const ae=Wp(this.os.serializer,T.convertToNoDocument(ti.min()));t.push(this.os.addEntry(e,b,ae))}}),h.forEach(b=>{t.push(this.os.indexManager.addToCollectionParentIndex(e,b))}),t.push(this.os.updateMetadata(e,a)),pn.waitFor(t)}getFromCache(e,t){return this.os.es(e,t).next(a=>(this.us.set(t,{size:a.size,readTime:a.document.readTime}),a.document))}getAllFromCache(e,t){return this.os.ss(e,t).next(({documents:a,rs:h})=>(h.forEach((b,T)=>{this.us.set(b,{size:T,readTime:a.get(b).readTime})}),a))}}function Gf(i){return dr(i,"remoteDocumentGlobal")}function qu(i){return dr(i,"remoteDocumentsV14")}function Vh(i){const e=i.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function tg(i,e){const t=e.documentKey.path.toArray();return[i,Rd(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function Zu(i,e){const t=i.path.toArray(),a=e.path.toArray();let h=0;for(let b=0;b<t.length-2&&b<a.length-2;++b)if(h=$i(t[b],a[b]),h)return h;return h=$i(t.length,a.length),h||(h=$i(t[t.length-2],a[a.length-2]),h||$i(t[t.length-1],a[a.length-1]))}class fv{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class $m{constructor(e,t,a,h){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=a,this.indexManager=h}getDocument(e,t){let a=null;return this.documentOverlayCache.getOverlay(e,t).next(h=>(a=h,this.remoteDocumentCache.getEntry(e,t))).next(h=>(null!==a&&$u(a.mutation,h,Ir.empty(),ps.now()),h))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(a=>this.getLocalViewOfDocuments(e,a,Fs()).next(()=>a))}getLocalViewOfDocuments(e,t,a=Fs()){const h=bl();return this.populateOverlays(e,h,t).next(()=>this.computeViews(e,t,h,a).next(b=>{let T=Ma();return b.forEach((G,ae)=>{T=T.insert(G,ae.overlayedDocument)}),T}))}getOverlayedDocuments(e,t){const a=bl();return this.populateOverlays(e,a,t).next(()=>this.computeViews(e,t,a,Fs()))}populateOverlays(e,t,a){const h=[];return a.forEach(b=>{t.has(b)||h.push(b)}),this.documentOverlayCache.getOverlays(e,h).next(b=>{b.forEach((T,G)=>{t.set(T,G)})})}computeViews(e,t,a,h){let b=ha();const T=El(),G=El();return t.forEach((ae,we)=>{const Ye=a.get(we.key);h.has(we.key)&&(void 0===Ye||Ye.mutation instanceof Gl)?b=b.insert(we.key,we):void 0!==Ye?(T.set(we.key,Ye.mutation.getFieldMask()),$u(Ye.mutation,we,Ye.mutation.getFieldMask(),ps.now())):T.set(we.key,Ir.empty())}),this.recalculateAndSaveOverlays(e,b).next(ae=>(ae.forEach((we,Ye)=>T.set(we,Ye)),t.forEach((we,Ye)=>{var Rt;return G.set(we,new fv(Ye,null!==(Rt=T.get(we))&&void 0!==Rt?Rt:null))}),G))}recalculateAndSaveOverlays(e,t){const a=El();let h=new Vr((T,G)=>T-G),b=Fs();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(T=>{for(const G of T)G.keys().forEach(ae=>{const we=t.get(ae);if(null===we)return;let Ye=a.get(ae)||Ir.empty();Ye=G.applyToLocalView(we,Ye),a.set(ae,Ye);const Rt=(h.get(G.batchId)||Fs()).add(ae);h=h.insert(G.batchId,Rt)})}).next(()=>{const T=[],G=h.getReverseIterator();for(;G.hasNext();){const ae=G.getNext(),we=ae.key,Ye=ae.value,Rt=Wc();Ye.forEach(bn=>{if(!b.has(bn)){const $n=Mf(t.get(bn),a.get(bn));null!==$n&&Rt.set(bn,$n),b=b.add(bn)}}),T.push(this.documentOverlayCache.saveOverlays(e,we,Rt))}return pn.waitFor(T)}).next(()=>a)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(a=>this.recalculateAndSaveOverlays(e,a))}getDocumentsMatchingQuery(e,t,a){return gr.isDocumentKey((h=t).path)&&null===h.collectionGroup&&0===h.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):W(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,a):this.getDocumentsMatchingCollectionQuery(e,t,a);var h}getNextDocuments(e,t,a,h){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,a,h).next(b=>{const T=h-b.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,a.largestBatchId,h-b.size):pn.resolve(bl());let G=-1,ae=b;return T.next(we=>pn.forEach(we,(Ye,Rt)=>(G<Rt.largestBatchId&&(G=Rt.largestBatchId),b.get(Ye)?pn.resolve():this.remoteDocumentCache.getEntry(e,Ye).next(bn=>{ae=ae.insert(Ye,bn)}))).next(()=>this.populateOverlays(e,we,b)).next(()=>this.computeViews(e,ae,we,Fs())).next(Ye=>({batchId:G,changes:Ua(Ye)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new gr(t)).next(a=>{let h=Ma();return a.isFoundDocument()&&(h=h.insert(a.key,a)),h})}getDocumentsMatchingCollectionGroupQuery(e,t,a){const h=t.collectionGroup;let b=Ma();return this.indexManager.getCollectionParents(e,h).next(T=>pn.forEach(T,G=>{const ae=(we=t,Ye=G.child(h),new qa(Ye,null,we.explicitOrderBy.slice(),we.filters.slice(),we.limit,we.limitType,we.startAt,we.endAt));var we,Ye;return this.getDocumentsMatchingCollectionQuery(e,ae,a).next(we=>{we.forEach((Ye,Rt)=>{b=b.insert(Ye,Rt)})})}).next(()=>b))}getDocumentsMatchingCollectionQuery(e,t,a){let h;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,a.largestBatchId).next(b=>(h=b,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,a,h))).next(b=>{h.forEach((G,ae)=>{const we=ae.getKey();null===b.get(we)&&(b=b.insert(we,Fo.newInvalidDocument(we)))});let T=Ma();return b.forEach((G,ae)=>{const we=h.get(G);void 0!==we&&$u(we.mutation,ae,Ir.empty(),ps.now()),Us(t,ae)&&(T=T.insert(G,ae))}),T})}}class pv{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,t){return pn.resolve(this.cs.get(t))}saveBundleMetadata(e,t){var a;return this.cs.set(t.id,{id:(a=t).id,version:a.version,createTime:Oa(a.createTime)}),pn.resolve()}getNamedQuery(e,t){return pn.resolve(this.hs.get(t))}saveNamedQuery(e,t){return this.hs.set(t.name,{name:(a=t).name,query:v(a.bundledQuery),readTime:Oa(a.readTime)}),pn.resolve();var a}}class ng{constructor(){this.overlays=new Vr(gr.comparator),this.ls=new Map}getOverlay(e,t){return pn.resolve(this.overlays.get(t))}getOverlays(e,t){const a=bl();return pn.forEach(t,h=>this.getOverlay(e,h).next(b=>{null!==b&&a.set(h,b)})).next(()=>a)}saveOverlays(e,t,a){return a.forEach((h,b)=>{this.we(e,t,b)}),pn.resolve()}removeOverlaysForBatchId(e,t,a){const h=this.ls.get(a);return void 0!==h&&(h.forEach(b=>this.overlays=this.overlays.remove(b)),this.ls.delete(a)),pn.resolve()}getOverlaysForCollection(e,t,a){const h=bl(),b=t.length+1,T=new gr(t.child("")),G=this.overlays.getIteratorFrom(T);for(;G.hasNext();){const ae=G.getNext().value,we=ae.getKey();if(!t.isPrefixOf(we.path))break;we.path.length===b&&ae.largestBatchId>a&&h.set(ae.getKey(),ae)}return pn.resolve(h)}getOverlaysForCollectionGroup(e,t,a,h){let b=new Vr((we,Ye)=>we-Ye);const T=this.overlays.getIterator();for(;T.hasNext();){const we=T.getNext().value;if(we.getKey().getCollectionGroup()===t&&we.largestBatchId>a){let Ye=b.get(we.largestBatchId);null===Ye&&(Ye=bl(),b=b.insert(we.largestBatchId,Ye)),Ye.set(we.getKey(),we)}}const G=bl(),ae=b.getIterator();for(;ae.hasNext()&&(ae.getNext().value.forEach((we,Ye)=>G.set(we,Ye)),!(G.size()>=h)););return pn.resolve(G)}we(e,t,a){const h=this.overlays.get(a.key);if(null!==h){const T=this.ls.get(h.largestBatchId).delete(a.key);this.ls.set(h.largestBatchId,T)}this.overlays=this.overlays.insert(a.key,new Dl(t,a));let b=this.ls.get(t);void 0===b&&(b=Fs(),this.ls.set(t,b)),this.ls.set(t,b.add(a.key))}}class Kf{constructor(){this.fs=new os(ul.ds),this.ws=new os(ul._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,t){const a=new ul(e,t);this.fs=this.fs.add(a),this.ws=this.ws.add(a)}gs(e,t){e.forEach(a=>this.addReference(a,t))}removeReference(e,t){this.ys(new ul(e,t))}ps(e,t){e.forEach(a=>this.removeReference(a,t))}Is(e){const t=new gr(new as([])),a=new ul(t,e),h=new ul(t,e+1),b=[];return this.ws.forEachInRange([a,h],T=>{this.ys(T),b.push(T.key)}),b}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const t=new gr(new as([])),a=new ul(t,e),h=new ul(t,e+1);let b=Fs();return this.ws.forEachInRange([a,h],T=>{b=b.add(T.key)}),b}containsKey(e){const t=new ul(e,0),a=this.fs.firstAfterOrEqual(t);return null!==a&&e.isEqual(a.key)}}class ul{constructor(e,t){this.key=e,this.As=t}static ds(e,t){return gr.comparator(e.key,t.key)||$i(e.As,t.As)}static _s(e,t){return $i(e.As,t.As)||gr.comparator(e.key,t.key)}}class Vm{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.vs=1,this.Rs=new os(ul.ds)}checkEmpty(e){return pn.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,a,h){const b=this.vs;this.vs++;const T=new bh(b,t,a,h);this.mutationQueue.push(T);for(const G of h)this.Rs=this.Rs.add(new ul(G.key,b)),this.indexManager.addToCollectionParentIndex(e,G.key.path.popLast());return pn.resolve(T)}lookupMutationBatch(e,t){return pn.resolve(this.Ps(t))}getNextMutationBatchAfterBatchId(e,t){const h=this.bs(t+1),b=h<0?0:h;return pn.resolve(this.mutationQueue.length>b?this.mutationQueue[b]:null)}getHighestUnacknowledgedBatchId(){return pn.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return pn.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const a=new ul(t,0),h=new ul(t,Number.POSITIVE_INFINITY),b=[];return this.Rs.forEachInRange([a,h],T=>{const G=this.Ps(T.As);b.push(G)}),pn.resolve(b)}getAllMutationBatchesAffectingDocumentKeys(e,t){let a=new os($i);return t.forEach(h=>{const b=new ul(h,0),T=new ul(h,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([b,T],G=>{a=a.add(G.As)})}),pn.resolve(this.Vs(a))}getAllMutationBatchesAffectingQuery(e,t){const a=t.path,h=a.length+1;let b=a;gr.isDocumentKey(b)||(b=b.child(""));const T=new ul(new gr(b),0);let G=new os($i);return this.Rs.forEachWhile(ae=>{const we=ae.key.path;return!!a.isPrefixOf(we)&&(we.length===h&&(G=G.add(ae.As)),!0)},T),pn.resolve(this.Vs(G))}Vs(e){const t=[];return e.forEach(a=>{const h=this.Ps(a);null!==h&&t.push(h)}),t}removeMutationBatch(e,t){si(0===this.Ss(t.batchId,"removed")),this.mutationQueue.shift();let a=this.Rs;return pn.forEach(t.mutations,h=>{const b=new ul(h.key,t.batchId);return a=a.delete(b),this.referenceDelegate.markPotentiallyOrphaned(e,h.key)}).next(()=>{this.Rs=a})}Cn(e){}containsKey(e,t){const a=new ul(t,0),h=this.Rs.firstAfterOrEqual(a);return pn.resolve(t.isEqual(h&&h.key))}performConsistencyCheck(e){return pn.resolve()}Ss(e,t){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const t=this.bs(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class Um{constructor(e){this.Ds=e,this.docs=new Vr(gr.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const a=t.key,h=this.docs.get(a),b=h?h.size:0,T=this.Ds(t);return this.docs=this.docs.insert(a,{document:t.mutableCopy(),size:T}),this.size+=T-b,this.indexManager.addToCollectionParentIndex(e,a.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const a=this.docs.get(t);return pn.resolve(a?a.document.mutableCopy():Fo.newInvalidDocument(t))}getEntries(e,t){let a=ha();return t.forEach(h=>{const b=this.docs.get(h);a=a.insert(h,b?b.document.mutableCopy():Fo.newInvalidDocument(h))}),pn.resolve(a)}getDocumentsMatchingQuery(e,t,a,h){let b=ha();const T=t.path,G=new gr(T.child("")),ae=this.docs.getIteratorFrom(G);for(;ae.hasNext();){const{key:we,value:{document:Ye}}=ae.getNext();if(!T.isPrefixOf(we.path))break;we.path.length>T.length+1||ss(Vi(Ye),a)<=0||(h.has(Ye.key)||Us(t,Ye))&&(b=b.insert(Ye.key,Ye.mutableCopy()))}return pn.resolve(b)}getAllFromCollectionGroup(e,t,a,h){Rr()}Cs(e,t){return pn.forEach(this.docs,a=>t(a))}newChangeBuffer(e){return new c0(this)}getSize(e){return pn.resolve(this.size)}}class c0 extends Hf{constructor(e){super(),this.os=e}applyChanges(e){const t=[];return this.changes.forEach((a,h)=>{h.isValidDocument()?t.push(this.os.addEntry(e,h)):this.os.removeEntry(a)}),pn.waitFor(t)}getFromCache(e,t){return this.os.getEntry(e,t)}getAllFromCache(e,t){return this.os.getEntries(e,t)}}class gv{constructor(e){this.persistence=e,this.xs=new ia(t=>gl(t),Cl),this.lastRemoteSnapshotVersion=ti.min(),this.highestTargetId=0,this.Ns=0,this.ks=new Kf,this.targetCount=0,this.Ms=eu.kn()}forEachTarget(e,t){return this.xs.forEach((a,h)=>t(h)),pn.resolve()}getLastRemoteSnapshotVersion(e){return pn.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return pn.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),pn.resolve(this.highestTargetId)}setTargetsMetadata(e,t,a){return a&&(this.lastRemoteSnapshotVersion=a),t>this.Ns&&(this.Ns=t),pn.resolve()}Fn(e){this.xs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ms=new eu(t),this.highestTargetId=t),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,t){return this.Fn(t),this.targetCount+=1,pn.resolve()}updateTargetData(e,t){return this.Fn(t),pn.resolve()}removeTargetData(e,t){return this.xs.delete(t.target),this.ks.Is(t.targetId),this.targetCount-=1,pn.resolve()}removeTargets(e,t,a){let h=0;const b=[];return this.xs.forEach((T,G)=>{G.sequenceNumber<=t&&null===a.get(G.targetId)&&(this.xs.delete(T),b.push(this.removeMatchingKeysForTargetId(e,G.targetId)),h++)}),pn.waitFor(b).next(()=>h)}getTargetCount(e){return pn.resolve(this.targetCount)}getTargetData(e,t){const a=this.xs.get(t)||null;return pn.resolve(a)}addMatchingKeys(e,t,a){return this.ks.gs(t,a),pn.resolve()}removeMatchingKeys(e,t,a){this.ks.ps(t,a);const h=this.persistence.referenceDelegate,b=[];return h&&t.forEach(T=>{b.push(h.markPotentiallyOrphaned(e,T))}),pn.waitFor(b)}removeMatchingKeysForTargetId(e,t){return this.ks.Is(t),pn.resolve()}getMatchingKeysForTargetId(e,t){const a=this.ks.Es(t);return pn.resolve(a)}containsKey(e,t){return pn.resolve(this.ks.containsKey(t))}}class rg{constructor(e,t){this.$s={},this.overlays={},this.Os=new me(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new gv(this),this.indexManager=new Nm,this.remoteDocumentCache=new Um(a=>this.referenceDelegate.Ls(a)),this.serializer=new Nh(t),this.qs=new pv(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new ng,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let a=this.$s[e.toKey()];return a||(a=new Vm(t,this.referenceDelegate),this.$s[e.toKey()]=a),a}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,t,a){Hn("MemoryPersistence","Starting transaction:",e);const h=new mv(this.Os.next());return this.referenceDelegate.Us(),a(h).next(b=>this.referenceDelegate.Ks(h).next(()=>b)).toPromise().then(b=>(h.raiseOnCommittedEvent(),b))}Gs(e,t){return pn.or(Object.values(this.$s).map(a=>()=>a.containsKey(e,t)))}}class mv extends Gi{constructor(e){super(),this.currentSequenceNumber=e}}class ig{constructor(e){this.persistence=e,this.Qs=new Kf,this.js=null}static zs(e){return new ig(e)}get Ws(){if(this.js)return this.js;throw Rr()}addReference(e,t,a){return this.Qs.addReference(a,t),this.Ws.delete(a.toString()),pn.resolve()}removeReference(e,t,a){return this.Qs.removeReference(a,t),this.Ws.add(a.toString()),pn.resolve()}markPotentiallyOrphaned(e,t){return this.Ws.add(t.toString()),pn.resolve()}removeTarget(e,t){this.Qs.Is(t.targetId).forEach(h=>this.Ws.add(h.toString()));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(e,t.targetId).next(h=>{h.forEach(b=>this.Ws.add(b.toString()))}).next(()=>a.removeTargetData(e,t))}Us(){this.js=new Set}Ks(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return pn.forEach(this.Ws,a=>{const h=gr.fromPath(a);return this.Hs(e,h).next(b=>{b||t.removeEntry(h,ti.min())})}).next(()=>(this.js=null,t.apply(e)))}updateLimboDocument(e,t){return this.Hs(e,t).next(a=>{a?this.Ws.delete(t.toString()):this.Ws.add(t.toString())})}Ls(e){return 0}Hs(e,t){return pn.or([()=>pn.resolve(this.Qs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Gs(e,t)])}}class u0{constructor(e){this.serializer=e}O(e,t,a,h){const b=new $a("createOrUpgrade",t);var G;a<1&&h>=1&&(e.createObjectStore("owner"),(G=e).createObjectStore("mutationQueues",{keyPath:"userId"}),G.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",ko,{unique:!0}),G.createObjectStore("documentMutations"),yv(e),function(G){G.createObjectStore("remoteDocuments")}(e));let T=pn.resolve();return a<3&&h>=3&&(0!==a&&(function(G){G.deleteObjectStore("targetDocuments"),G.deleteObjectStore("targets"),G.deleteObjectStore("targetGlobal")}(e),yv(e)),T=T.next(()=>function(G){const ae=G.store("targetGlobal"),we={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:ti.min().toTimestamp(),targetCount:0};return ae.put("targetGlobalKey",we)}(b))),a<4&&h>=4&&(0!==a&&(T=T.next(()=>function(G,ae){return ae.store("mutations").j().next(we=>{G.deleteObjectStore("mutations"),G.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",ko,{unique:!0});const Ye=ae.store("mutations"),Rt=we.map(bn=>Ye.put(bn));return pn.waitFor(Rt)})}(e,b))),T=T.next(()=>{!function(G){G.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),a<5&&h>=5&&(T=T.next(()=>this.Ys(b))),a<6&&h>=6&&(T=T.next(()=>(function(G){G.createObjectStore("remoteDocumentGlobal")}(e),this.Xs(b)))),a<7&&h>=7&&(T=T.next(()=>this.Zs(b))),a<8&&h>=8&&(T=T.next(()=>this.ti(e,b))),a<9&&h>=9&&(T=T.next(()=>{!function(G){G.objectStoreNames.contains("remoteDocumentChanges")&&G.deleteObjectStore("remoteDocumentChanges")}(e)})),a<10&&h>=10&&(T=T.next(()=>this.ei(b))),a<11&&h>=11&&(T=T.next(()=>{(function(G){G.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(G){G.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),a<12&&h>=12&&(T=T.next(()=>{!function(G){const ae=G.createObjectStore("documentOverlays",{keyPath:Et});ae.createIndex("collectionPathOverlayIndex",At,{unique:!1}),ae.createIndex("collectionGroupOverlayIndex",Xt,{unique:!1})}(e)})),a<13&&h>=13&&(T=T.next(()=>function(G){const ae=G.createObjectStore("remoteDocumentsV14",{keyPath:c});ae.createIndex("documentKeyIndex",f),ae.createIndex("collectionGroupIndex",_)}(e)).next(()=>this.ni(e,b)).next(()=>e.deleteObjectStore("remoteDocuments"))),a<14&&h>=14&&(T=T.next(()=>this.si(e,b))),a<15&&h>=15&&(T=T.next(()=>function(G){G.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),G.createObjectStore("indexState",{keyPath:ue}).createIndex("sequenceNumberIndex",Ce,{unique:!1}),G.createObjectStore("indexEntries",{keyPath:je}).createIndex("documentKeyIndex",Qe,{unique:!1})}(e))),T}Xs(e){let t=0;return e.store("remoteDocuments").X((a,h)=>{t+=Bh(h)}).next(()=>{const a={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",a)})}Ys(e){const t=e.store("mutationQueues"),a=e.store("mutations");return t.j().next(h=>pn.forEach(h,b=>{const T=IDBKeyRange.bound([b.userId,-1],[b.userId,b.lastAcknowledgedBatchId]);return a.j("userMutationsIndex",T).next(G=>pn.forEach(G,ae=>{si(ae.userId===b.userId);const we=Tc(this.serializer,ae);return Zp(e,b.userId,we).next(()=>{})}))}))}Zs(e){const t=e.store("targetDocuments"),a=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(h=>{const b=[];return a.X((T,G)=>{const ae=new as(T),we=[0,An(ae)];b.push(t.get(we).next(Ye=>Ye?pn.resolve():t.put({targetId:0,path:An(ae),sequenceNumber:h.highestListenSequenceNumber})))}).next(()=>pn.waitFor(b))})}ti(e,t){e.createObjectStore("collectionParents",{keyPath:Y});const a=t.store("collectionParents"),h=new Yp,b=T=>{if(h.add(T)){const G=T.lastSegment(),ae=T.popLast();return a.put({collectionId:G,parent:An(ae)})}};return t.store("remoteDocuments").X({Y:!0},(T,G)=>{const ae=new as(T);return b(ae.popLast())}).next(()=>t.store("documentMutations").X({Y:!0},([T,G,ae],we)=>{const Ye=Zr(G);return b(Ye.popLast())}))}ei(e){const t=e.store("targets");return t.X((a,h)=>{const b=_u(h),T=Lf(this.serializer,b);return t.put(T)})}ni(e,t){const a=t.store("remoteDocuments"),h=[];return a.X((b,T)=>{const G=t.store("remoteDocumentsV14"),ae=(we=T,we.document?new gr(as.fromString(we.document.name).popFirst(5)):we.noDocument?gr.fromSegments(we.noDocument.path):we.unknownDocument?gr.fromSegments(we.unknownDocument.path):Rr()).path.toArray();var we;const Ye={prefixPath:ae.slice(0,ae.length-2),collectionGroup:ae[ae.length-2],documentId:ae[ae.length-1],readTime:T.readTime||[0,0],unknownDocument:T.unknownDocument,noDocument:T.noDocument,document:T.document,hasCommittedMutations:!!T.hasCommittedMutations};h.push(G.put(Ye))}).next(()=>pn.waitFor(h))}si(e,t){const a=t.store("mutations"),h=Cu(this.serializer),b=new rg(ig.zs,this.serializer.fe);return a.j().next(T=>{const G=new Map;return T.forEach(ae=>{var we;let Ye=null!==(we=G.get(ae.userId))&&void 0!==we?we:Fs();Tc(this.serializer,ae).keys().forEach(Rt=>Ye=Ye.add(Rt)),G.set(ae.userId,Ye)}),pn.forEach(G,(ae,we)=>{const Ye=new ei(we),Rt=Ve.de(this.serializer,Ye),bn=b.getIndexManager(Ye),$n=$h.de(Ye,this.serializer,bn,b.referenceDelegate);return new $m(h,$n,Rt,bn).recalculateAndSaveOverlaysForDocumentKeys(new or(t,me.ct),ae).next()})})}}function yv(i){i.createObjectStore("targetDocuments",{keyPath:A}).createIndex("documentTargetsIndex",k,{unique:!0}),i.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",I,{unique:!0}),i.createObjectStore("targetGlobal")}const Fd="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class sg{constructor(e,t,a,h,b,T,G,ae,we,Ye,Rt=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=a,this.ii=b,this.window=T,this.document=G,this.ri=we,this.oi=Ye,this.ui=Rt,this.Os=null,this.Fs=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.ai=null,this.hi=null,this.li=Number.NEGATIVE_INFINITY,this.fi=bn=>Promise.resolve(),!sg.D())throw new Zn(Dn.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new jf(this,h),this.di=t+"main",this.serializer=new Nh(ae),this.wi=new ga(this.di,this.ui,new u0(this.serializer)),this.Bs=new l0(this.referenceDelegate,this.serializer),this.remoteDocumentCache=Cu(this.serializer),this.qs=new B,this.window&&this.window.localStorage?this._i=this.window.localStorage:(this._i=null,!1===Ye&&Bi("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.mi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Zn(Dn.FAILED_PRECONDITION,Fd);return this.gi(),this.yi(),this.pi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Bs.getHighestSequenceNumber(e))}).then(e=>{this.Os=new me(e,this.ri)}).then(()=>{this.Fs=!0}).catch(e=>(this.wi&&this.wi.close(),Promise.reject(e)))}Ii(e){var t=this;return this.fi=function(){var a=(0,d.Z)(function*(h){if(t.started)return e(h)});return function(h){return a.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.wi.B(function(){var t=(0,d.Z)(function*(a){null===a.newVersion&&(yield e())});return function(a){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.ii.enqueueAndForget((0,d.Z)(function*(){t.started&&(yield t.mi())})))}mi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Ld(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Ti(e).next(t=>{t||(this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)))})}).next(()=>this.Ei(e)).next(t=>this.isPrimary&&!t?this.Ai(e).next(()=>!1):!!t&&this.vi(e).next(()=>!0))).catch(e=>{if(Xo(e))return Hn("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Hn("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.ii.enqueueRetryable(()=>this.fi(e)),this.isPrimary=e})}Ti(e){return Xu(e).get("owner").next(t=>pn.resolve(this.Ri(t)))}Pi(e){return Ld(e).delete(this.clientId)}bi(){var e=this;return(0,d.Z)(function*(){if(e.isPrimary&&!e.Vi(e.li,18e5)){e.li=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",a=>{const h=dr(a,"clientMetadata");return h.j().next(b=>{const T=e.Si(b,18e5),G=b.filter(ae=>-1===T.indexOf(ae));return pn.forEach(G,ae=>h.delete(ae.clientId)).next(()=>G)})}).catch(()=>[]);if(e._i)for(const a of t)e._i.removeItem(e.Di(a.clientId))}})()}pi(){this.hi=this.ii.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.mi().then(()=>this.bi()).then(()=>this.pi()))}Ri(e){return!!e&&e.ownerId===this.clientId}Ei(e){return this.oi?pn.resolve(!0):Xu(e).get("owner").next(t=>{if(null!==t&&this.Vi(t.leaseTimestampMs,5e3)&&!this.Ci(t.ownerId)){if(this.Ri(t)&&this.networkEnabled)return!0;if(!this.Ri(t)){if(!t.allowTabSynchronization)throw new Zn(Dn.FAILED_PRECONDITION,Fd);return!1}}return!(!this.networkEnabled||!this.inForeground)||Ld(e).j().next(a=>void 0===this.Si(a,5e3).find(h=>!(this.clientId===h.clientId||!(!this.networkEnabled&&h.networkEnabled||!this.inForeground&&h.inForeground&&this.networkEnabled===h.networkEnabled))))}).next(t=>(this.isPrimary!==t&&Hn("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,d.Z)(function*(){e.Fs=!1,e.xi(),e.hi&&(e.hi.cancel(),e.hi=null),e.Ni(),e.ki(),yield e.wi.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const a=new or(t,me.ct);return e.Ai(a).next(()=>e.Pi(a))}),e.wi.close(),e.Mi()})()}Si(e,t){return e.filter(a=>this.Vi(a.updateTimeMs,t)&&!this.Ci(a.clientId))}$i(){return this.runTransaction("getActiveClients","readonly",e=>Ld(e).j().next(t=>this.Si(t,18e5).map(a=>a.clientId)))}get started(){return this.Fs}getMutationQueue(e,t){return $h.de(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new dv(e,this.serializer.fe.databaseId)}getDocumentOverlayCache(e){return Ve.de(this.serializer,e)}getBundleCache(){return this.qs}runTransaction(e,t,a){Hn("IndexedDbPersistence","Starting transaction:",e);const h="readonly"===t?"readonly":"readwrite",b=15===(T=this.ui)?Kn:14===T?Qn:13===T?tr:12===T?wn:11===T?In:void Rr();var T;let G;return this.wi.runTransaction(e,h,b,ae=>(G=new or(ae,this.Os?this.Os.next():me.ct),"readwrite-primary"===t?this.Ti(G).next(we=>!!we||this.Ei(G)).next(we=>{if(!we)throw Bi(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)),new Zn(Dn.FAILED_PRECONDITION,Qi);return a(G)}).next(we=>this.vi(G).next(()=>we)):this.Oi(G).next(()=>a(G)))).then(ae=>(G.raiseOnCommittedEvent(),ae))}Oi(e){return Xu(e).get("owner").next(t=>{if(null!==t&&this.Vi(t.leaseTimestampMs,5e3)&&!this.Ci(t.ownerId)&&!this.Ri(t)&&!(this.oi||this.allowTabSynchronization&&t.allowTabSynchronization))throw new Zn(Dn.FAILED_PRECONDITION,Fd)})}vi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Xu(e).put("owner",t)}static D(){return ga.D()}Ai(e){const t=Xu(e);return t.get("owner").next(a=>this.Ri(a)?(Hn("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):pn.resolve())}Vi(e,t){const a=Date.now();return!(e<a-t||e>a&&(Bi(`Detected an update time that is in the future: ${e} > ${a}`),1))}gi(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ai=()=>{this.ii.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.mi()))},this.document.addEventListener("visibilitychange",this.ai),this.inForeground="visible"===this.document.visibilityState)}Ni(){this.ai&&(this.document.removeEventListener("visibilitychange",this.ai),this.ai=null)}yi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ci=()=>{this.xi();const t=/(?:Version|Mobile)\/1[456]/;(0,qe.G6)()&&(navigator.appVersion.match(t)||navigator.userAgent.match(t))&&this.ii.enterRestrictedMode(!0),this.ii.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ci))}ki(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}Ci(e){var t;try{const a=null!==(null===(t=this._i)||void 0===t?void 0:t.getItem(this.Di(e)));return Hn("IndexedDbPersistence",`Client '${e}' ${a?"is":"is not"} zombied in LocalStorage`),a}catch(a){return Bi("IndexedDbPersistence","Failed to get zombied client id.",a),!1}}xi(){if(this._i)try{this._i.setItem(this.Di(this.clientId),String(Date.now()))}catch(e){Bi("Failed to set zombie client id.",e)}}Mi(){if(this._i)try{this._i.removeItem(this.Di(this.clientId))}catch{}}Di(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Xu(i){return dr(i,"owner")}function Ld(i){return dr(i,"clientMetadata")}function Qu(i,e){let t=i.projectId;return i.isDefaultDatabase||(t+="."+i.database),"firestore/"+e+"/"+t+"/"}class Bd{constructor(e,t,a,h){this.targetId=e,this.fromCache=t,this.Fi=a,this.Bi=h}static Li(e,t){let a=Fs(),h=Fs();for(const b of t.docChanges)switch(b.type){case 0:a=a.add(b.doc.key);break;case 1:h=h.add(b.doc.key)}return new Bd(e,t.fromCache,a,h)}}class Uh{constructor(){this.qi=!1}initialize(e,t){this.Ui=e,this.indexManager=t,this.qi=!0}getDocumentsMatchingQuery(e,t,a,h){return this.Ki(e,t).next(b=>b||this.Gi(e,t,h,a)).next(b=>b||this.Qi(e,t))}Ki(e,t){if(U(t))return pn.resolve(null);let a=We(t);return this.indexManager.getIndexType(e,a).next(h=>0===h?null:(null!==t.limit&&1===h&&(t=xn(t,null,"F"),a=We(t)),this.indexManager.getDocumentsMatchingTarget(e,a).next(b=>{const T=Fs(...b);return this.Ui.getDocuments(e,T).next(G=>this.indexManager.getMinOffset(e,a).next(ae=>{const we=this.ji(t,G);return this.zi(t,we,T,ae.readTime)?this.Ki(e,xn(t,null,"F")):this.Wi(e,we,t,ae)}))})))}Gi(e,t,a,h){return U(t)||h.isEqual(ti.min())?this.Qi(e,t):this.Ui.getDocuments(e,a).next(b=>{const T=this.ji(t,b);return this.zi(t,T,a,h)?this.Qi(e,t):(Ps()<=ke.in.DEBUG&&Hn("QueryEngine","Re-using previous result from %s to execute query: %s",h.toString(),Ui(t)),this.Wi(e,T,t,yr(h,-1)))})}ji(e,t){let a=new os(Ol(e));return t.forEach((h,b)=>{Us(e,b)&&(a=a.add(b))}),a}zi(e,t,a,h){if(null===e.limit)return!1;if(a.size!==t.size)return!0;const b="F"===e.limitType?t.last():t.first();return!!b&&(b.hasPendingWrites||b.version.compareTo(h)>0)}Qi(e,t){return Ps()<=ke.in.DEBUG&&Hn("QueryEngine","Using full collection scan to execute query:",Ui(t)),this.Ui.getDocumentsMatchingQuery(e,t,Wi.min())}Wi(e,t,a,h){return this.Ui.getDocumentsMatchingQuery(e,a,h).next(b=>(t.forEach(T=>{b=b.insert(T.key,T)}),b))}}class $d{constructor(e,t,a,h){this.persistence=e,this.Hi=t,this.serializer=h,this.Ji=new Vr($i),this.Yi=new ia(b=>gl(b),Cl),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(a)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new $m(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ji))}}function Vd(i,e,t,a){return new $d(i,e,t,a)}function Ud(i,e){return qf.apply(this,arguments)}function qf(){return qf=(0,d.Z)(function*(i,e){const t=Bn(i);return yield t.persistence.runTransaction("Handle user change","readonly",a=>{let h;return t.mutationQueue.getAllMutationBatches(a).next(b=>(h=b,t.tr(e),t.mutationQueue.getAllMutationBatches(a))).next(b=>{const T=[],G=[];let ae=Fs();for(const we of h){T.push(we.batchId);for(const Ye of we.mutations)ae=ae.add(Ye.key)}for(const we of b){G.push(we.batchId);for(const Ye of we.mutations)ae=ae.add(Ye.key)}return t.localDocuments.getDocuments(a,ae).next(we=>({er:we,removedBatchIds:T,addedBatchIds:G}))})})}),qf.apply(this,arguments)}function jd(i){const e=Bn(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Bs.getLastRemoteSnapshotVersion(t))}function Xf(i,e,t){let a=Fs(),h=Fs();return t.forEach(b=>a=a.add(b)),e.getEntries(i,a).next(b=>{let T=ha();return t.forEach((G,ae)=>{const we=b.get(G);ae.isFoundDocument()!==we.isFoundDocument()&&(h=h.add(G)),ae.isNoDocument()&&ae.version.isEqual(ti.min())?(e.removeEntry(G,ae.readTime),T=T.insert(G,ae)):!we.isValidDocument()||ae.version.compareTo(we.version)>0||0===ae.version.compareTo(we.version)&&we.hasPendingWrites?(e.addEntry(ae),T=T.insert(G,ae)):Hn("LocalStore","Ignoring outdated watch update for ",G,". Current version:",we.version," Watch version:",ae.version)}),{nr:T,sr:h}})}function og(i,e){const t=Bn(i);return t.persistence.runTransaction("Get next mutation batch","readonly",a=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(a,e)))}function Ju(i,e){const t=Bn(i);return t.persistence.runTransaction("Allocate target","readwrite",a=>{let h;return t.Bs.getTargetData(a,e).next(b=>b?(h=b,pn.resolve(h)):t.Bs.allocateTargetId(a).next(T=>(h=new Sl(e,T,"TargetPurposeListen",a.currentSequenceNumber),t.Bs.addTargetData(a,h).next(()=>h))))}).then(a=>{const h=t.Ji.get(a.targetId);return(null===h||a.snapshotVersion.compareTo(h.snapshotVersion)>0)&&(t.Ji=t.Ji.insert(a.targetId,a),t.Yi.set(e,a.targetId)),a})}function zd(i,e,t){return ag.apply(this,arguments)}function ag(){return ag=(0,d.Z)(function*(i,e,t){const a=Bn(i),h=a.Ji.get(e),b=t?"readwrite":"readwrite-primary";try{t||(yield a.persistence.runTransaction("Release target",b,T=>a.persistence.referenceDelegate.removeTarget(T,h)))}catch(T){if(!Xo(T))throw T;Hn("LocalStore",`Failed to update sequence numbers for target ${e}: ${T}`)}a.Ji=a.Ji.remove(e),a.Yi.delete(h.target)}),ag.apply(this,arguments)}function jh(i,e,t){const a=Bn(i);let h=ti.min(),b=Fs();return a.persistence.runTransaction("Execute query","readonly",T=>function(G,ae,we){const Ye=Bn(G),Rt=Ye.Yi.get(we);return void 0!==Rt?pn.resolve(Ye.Ji.get(Rt)):Ye.Bs.getTargetData(ae,we)}(a,T,We(e)).next(G=>{if(G)return h=G.lastLimboFreeSnapshotVersion,a.Bs.getMatchingKeysForTargetId(T,G.targetId).next(ae=>{b=ae})}).next(()=>a.Hi.getDocumentsMatchingQuery(T,e,t?h:ti.min(),t?b:Fs())).next(G=>(zm(a,nl(e),G),{documents:G,ir:b})))}function lg(i,e){const t=Bn(i),a=Bn(t.Bs),h=t.Ji.get(e);return h?Promise.resolve(h.target):t.persistence.runTransaction("Get target data","readonly",b=>a.le(b,e).next(T=>T?T.target:null))}function jm(i,e){const t=Bn(i),a=t.Xi.get(e)||ti.min();return t.persistence.runTransaction("Get new document changes","readonly",h=>t.Zi.getAllFromCollectionGroup(h,e,yr(a,-1),Number.MAX_SAFE_INTEGER)).then(h=>(zm(t,e,h),h))}function zm(i,e,t){let a=i.Xi.get(e)||ti.min();t.forEach((h,b)=>{b.readTime.compareTo(a)>0&&(a=b.readTime)}),i.Xi.set(e,a)}function cg(){return cg=(0,d.Z)(function*(i,e,t,a){const h=Bn(i);let b=Fs(),T=ha();for(const we of t){const Ye=e.rr(we.metadata.name);we.document&&(b=b.add(Ye));const Rt=e.ur(we);Rt.setReadTime(e.cr(we.metadata.readTime)),T=T.insert(Ye,Rt)}const G=h.Zi.newChangeBuffer({trackRemovals:!0}),ae=yield Ju(h,(we=a,We(Hl(as.fromString(`__bundle__/docs/${we}`)))));var we;return h.persistence.runTransaction("Apply bundle documents","readwrite",we=>Xf(we,G,T).next(Ye=>(G.apply(we),Ye)).next(Ye=>h.Bs.removeMatchingKeysForTargetId(we,ae.targetId).next(()=>h.Bs.addMatchingKeys(we,b,ae.targetId)).next(()=>h.localDocuments.getLocalViewOfDocuments(we,Ye.nr,Ye.sr)).next(()=>Ye.nr)))}),cg.apply(this,arguments)}function ug(i,e){return zh.apply(this,arguments)}function zh(){return zh=(0,d.Z)(function*(i,e,t=Fs()){const a=yield Ju(i,We(v(e.bundledQuery))),h=Bn(i);return h.persistence.runTransaction("Save named query","readwrite",b=>{const T=Oa(e.readTime);if(a.snapshotVersion.compareTo(T)>=0)return h.qs.saveNamedQuery(b,e);const G=a.withResumeToken(ns.EMPTY_BYTE_STRING,T);return h.Ji=h.Ji.insert(G.targetId,G),h.Bs.updateTargetData(b,G).next(()=>h.Bs.removeMatchingKeysForTargetId(b,a.targetId)).next(()=>h.Bs.addMatchingKeys(b,t,a.targetId)).next(()=>h.qs.saveNamedQuery(b,e))})}),zh.apply(this,arguments)}function Hm(i,e){return`firestore_clients_${i}_${e}`}function dg(i,e,t){let a=`firestore_mutations_${i}_${t}`;return e.isAuthenticated()&&(a+=`_${e.uid}`),a}function Hh(i,e){return`firestore_targets_${i}_${e}`}class ed{constructor(e,t,a,h){this.user=e,this.batchId=t,this.state=a,this.error=h}static ar(e,t,a){const h=JSON.parse(a);let b,T="object"==typeof h&&-1!==["pending","acknowledged","rejected"].indexOf(h.state)&&(void 0===h.error||"object"==typeof h.error);return T&&h.error&&(T="string"==typeof h.error.message&&"string"==typeof h.error.code,T&&(b=new Zn(h.error.code,h.error.message))),T?new ed(e,t,h.state,b):(Bi("SharedClientState",`Failed to parse mutation state for ID '${t}': ${a}`),null)}hr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Wh{constructor(e,t,a){this.targetId=e,this.state=t,this.error=a}static ar(e,t){const a=JSON.parse(t);let h,b="object"==typeof a&&-1!==["not-current","current","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return b&&a.error&&(b="string"==typeof a.error.message&&"string"==typeof a.error.code,b&&(h=new Zn(a.error.code,a.error.message))),b?new Wh(e,a.state,h):(Bi("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}hr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Gh{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static ar(e,t){const a=JSON.parse(t);let h="object"==typeof a&&a.activeTargetIds instanceof Array,b=ph();for(let T=0;h&&T<a.activeTargetIds.length;++T)h=Yt(a.activeTargetIds[T]),b=b.add(a.activeTargetIds[T]);return h?new Gh(e,b):(Bi("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class hg{constructor(e,t){this.clientId=e,this.onlineState=t}static ar(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new hg(t.clientId,t.onlineState):(Bi("SharedClientState",`Failed to parse online state: ${e}`),null)}}class Qf{constructor(){this.activeTargetIds=ph()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Wm{constructor(e,t,a,h,b){this.window=e,this.ii=t,this.persistenceKey=a,this.wr=h,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this._r=this.mr.bind(this),this.gr=new Vr($i),this.started=!1,this.yr=[];const T=a.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=b,this.pr=Hm(this.persistenceKey,this.wr),this.Ir=`firestore_sequence_number_${this.persistenceKey}`,this.gr=this.gr.insert(this.wr,new Qf),this.Tr=new RegExp(`^firestore_clients_${T}_([^_]*)$`),this.Er=new RegExp(`^firestore_mutations_${T}_(\\d+)(?:_(.*))?$`),this.Ar=new RegExp(`^firestore_targets_${T}_(\\d+)$`),this.vr=`firestore_online_state_${this.persistenceKey}`,this.Rr=function(G){return`firestore_bundle_loaded_v2_${G}`}(this.persistenceKey),this.window.addEventListener("storage",this._r)}static D(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,d.Z)(function*(){const t=yield e.syncEngine.$i();for(const h of t){if(h===e.wr)continue;const b=e.getItem(Hm(e.persistenceKey,h));if(b){const T=Gh.ar(h,b);T&&(e.gr=e.gr.insert(T.clientId,T))}}e.Pr();const a=e.storage.getItem(e.vr);if(a){const h=e.br(a);h&&e.Vr(h)}for(const h of e.yr)e.mr(h);e.yr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.Ir,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Sr(this.gr)}isActiveQueryTarget(e){let t=!1;return this.gr.forEach((a,h)=>{h.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Dr(e,"pending")}updateMutationState(e,t,a){this.Dr(e,t,a),this.Cr(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const a=this.storage.getItem(Hh(this.persistenceKey,e));if(a){const h=Wh.ar(e,a);h&&(t=h.state)}}return this.Nr.lr(e),this.Pr(),t}removeLocalQueryTarget(e){this.Nr.dr(e),this.Pr()}isLocalQueryTarget(e){return this.Nr.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(Hh(this.persistenceKey,e))}updateQueryState(e,t,a){this.kr(e,t,a)}handleUserChange(e,t,a){t.forEach(h=>{this.Cr(h)}),this.currentUser=e,a.forEach(h=>{this.addPendingMutation(h)})}setOnlineState(e){this.Mr(e)}notifyBundleLoaded(e){this.$r(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this._r),this.removeItem(this.pr),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Hn("SharedClientState","READ",e,t),t}setItem(e,t){Hn("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Hn("SharedClientState","REMOVE",e),this.storage.removeItem(e)}mr(e){var t=this;const a=e;if(a.storageArea===this.storage){if(Hn("SharedClientState","EVENT",a.key,a.newValue),a.key===this.pr)return void Bi("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.ii.enqueueRetryable((0,d.Z)(function*(){if(t.started){if(null!==a.key)if(t.Tr.test(a.key)){if(null==a.newValue){const h=t.Or(a.key);return t.Fr(h,null)}{const h=t.Br(a.key,a.newValue);if(h)return t.Fr(h.clientId,h)}}else if(t.Er.test(a.key)){if(null!==a.newValue){const h=t.Lr(a.key,a.newValue);if(h)return t.qr(h)}}else if(t.Ar.test(a.key)){if(null!==a.newValue){const h=t.Ur(a.key,a.newValue);if(h)return t.Kr(h)}}else if(a.key===t.vr){if(null!==a.newValue){const h=t.br(a.newValue);if(h)return t.Vr(h)}}else if(a.key===t.Ir){const h=function(b){let T=me.ct;if(null!=b)try{const G=JSON.parse(b);si("number"==typeof G),T=G}catch(G){Bi("SharedClientState","Failed to read sequence number from WebStorage",G)}return T}(a.newValue);h!==me.ct&&t.sequenceNumberHandler(h)}else if(a.key===t.Rr){const h=t.Gr(a.newValue);yield Promise.all(h.map(b=>t.syncEngine.Qr(b)))}}else t.yr.push(a)}))}}get Nr(){return this.gr.get(this.wr)}Pr(){this.setItem(this.pr,this.Nr.hr())}Dr(e,t,a){const h=new ed(this.currentUser,e,t,a),b=dg(this.persistenceKey,this.currentUser,e);this.setItem(b,h.hr())}Cr(e){const t=dg(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Mr(e){this.storage.setItem(this.vr,JSON.stringify({clientId:this.wr,onlineState:e}))}kr(e,t,a){const h=Hh(this.persistenceKey,e),b=new Wh(e,t,a);this.setItem(h,b.hr())}$r(e){const t=JSON.stringify(Array.from(e));this.setItem(this.Rr,t)}Or(e){const t=this.Tr.exec(e);return t?t[1]:null}Br(e,t){const a=this.Or(e);return Gh.ar(a,t)}Lr(e,t){const a=this.Er.exec(e),h=Number(a[1]);return ed.ar(new ei(void 0!==a[2]?a[2]:null),h,t)}Ur(e,t){const a=this.Ar.exec(e),h=Number(a[1]);return Wh.ar(h,t)}br(e){return hg.ar(e)}Gr(e){return JSON.parse(e)}qr(e){var t=this;return(0,d.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.jr(e.batchId,e.state,e.error);Hn("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Kr(e){return this.syncEngine.zr(e.targetId,e.state,e.error)}Fr(e,t){const a=t?this.gr.insert(e,t):this.gr.remove(e),h=this.Sr(this.gr),b=this.Sr(a),T=[],G=[];return b.forEach(ae=>{h.has(ae)||T.push(ae)}),h.forEach(ae=>{b.has(ae)||G.push(ae)}),this.syncEngine.Wr(T,G).then(()=>{this.gr=a})}Vr(e){this.gr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Sr(e){let t=ph();return e.forEach((a,h)=>{t=t.unionWith(h.activeTargetIds)}),t}}class Gm{constructor(){this.Hr=new Qf,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,a){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,t,a){this.Jr[e]=t}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new Qf,Promise.resolve()}handleUserChange(e,t,a){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Kh{Yr(e){}shutdown(){}}class Km{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){Hn("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){Hn("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let tu=null;function td(){return null===tu?tu=268435456+Math.round(2147483648*Math.random()):tu++,"0x"+tu.toString(16)}const vv={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Ym{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const wl="WebChannelConnection";class _v extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.mo=(e.ssl?"https":"http")+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,t,a,h,b){const T=td(),G=this.To(e,t);Hn("RestConnection",`Sending RPC '${e}' ${T}:`,G,a);const ae={};return this.Eo(ae,h,b),this.Ao(e,G,ae,a).then(we=>(Hn("RestConnection",`Received RPC '${e}' ${T}: `,we),we),we=>{throw Ho("RestConnection",`RPC '${e}' ${T} failed with error: `,we,"url: ",G,"request:",a),we})}vo(e,t,a,h,b,T){return this.Io(e,t,a,h,b)}Eo(e,t,a){e["X-Goog-Api-Client"]="gl-js/ fire/"+Li,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((h,b)=>e[b]=h),a&&a.headers.forEach((h,b)=>e[b]=h)}To(e,t){return`${this.mo}/v1/${t}:${vv[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,t,a,h){const b=td();return new Promise((T,G)=>{const ae=new Pn;ae.setWithCredentials(!0),ae.listenOnce(de.COMPLETE,()=>{try{switch(ae.getLastErrorCode()){case K.NO_ERROR:const Ye=ae.getResponseJson();Hn(wl,`XHR for RPC '${e}' ${b} received:`,JSON.stringify(Ye)),T(Ye);break;case K.TIMEOUT:Hn(wl,`RPC '${e}' ${b} timed out`),G(new Zn(Dn.DEADLINE_EXCEEDED,"Request time out"));break;case K.HTTP_ERROR:const Rt=ae.getStatus();if(Hn(wl,`RPC '${e}' ${b} failed with status:`,Rt,"response text:",ae.getResponseText()),Rt>0){let bn=ae.getResponseJson();Array.isArray(bn)&&(bn=bn[0]);const $n=null==bn?void 0:bn.error;if($n&&$n.status&&$n.message){const Dr=function(pi){const Si=pi.toLowerCase().replace(/_/g,"-");return Object.values(Dn).indexOf(Si)>=0?Si:Dn.UNKNOWN}($n.status);G(new Zn(Dr,$n.message))}else G(new Zn(Dn.UNKNOWN,"Server responded with status "+ae.getStatus()))}else G(new Zn(Dn.UNAVAILABLE,"Connection failed."));break;default:Rr()}}finally{Hn(wl,`RPC '${e}' ${b} completed.`)}});const we=JSON.stringify(h);Hn(wl,`RPC '${e}' ${b} sending request:`,h),ae.send(t,"POST",we,a,15)})}Ro(e,t,a){const h=td(),b=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],T=Ms(),G=Gs(),ae={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},we=this.longPollingOptions.timeoutSeconds;void 0!==we&&(ae.longPollingTimeout=Math.round(1e3*we)),this.useFetchStreams&&(ae.xmlHttpFactory=new _t({})),this.Eo(ae.initMessageHeaders,t,a),ae.encodeInitMessageHeaders=!0;const Ye=b.join("");Hn(wl,`Creating RPC '${e}' stream ${h}: ${Ye}`,ae);const Rt=T.createWebChannel(Ye,ae);let bn=!1,$n=!1;const Dr=new Ym({ro:Si=>{$n?Hn(wl,`Not sending because RPC '${e}' stream ${h} is closed:`,Si):(bn||(Hn(wl,`Opening RPC '${e}' stream ${h} transport.`),Rt.open(),bn=!0),Hn(wl,`RPC '${e}' stream ${h} sending:`,Si),Rt.send(Si))},oo:()=>Rt.close()}),pi=(Si,Zs,Lo)=>{Si.listen(Zs,mo=>{try{Lo(mo)}catch(Xa){setTimeout(()=>{throw Xa},0)}})};return pi(Rt,mn.EventType.OPEN,()=>{$n||Hn(wl,`RPC '${e}' stream ${h} transport opened.`)}),pi(Rt,mn.EventType.CLOSE,()=>{$n||($n=!0,Hn(wl,`RPC '${e}' stream ${h} transport closed`),Dr.wo())}),pi(Rt,mn.EventType.ERROR,Si=>{$n||($n=!0,Ho(wl,`RPC '${e}' stream ${h} transport errored:`,Si),Dr.wo(new Zn(Dn.UNAVAILABLE,"The operation could not be completed")))}),pi(Rt,mn.EventType.MESSAGE,Si=>{var Zs;if(!$n){const Lo=Si.data[0];si(!!Lo);const Xa=Lo.error||(null===(Zs=Lo[0])||void 0===Zs?void 0:Zs.error);if(Xa){Hn(wl,`RPC '${e}' stream ${h} received error:`,Xa);const Ka=Xa.status;let Ea=function(gd){const Qy=Ra[gd];if(void 0!==Qy)return Ih(Qy)}(Ka),Nl=Xa.message;void 0===Ea&&(Ea=Dn.INTERNAL,Nl="Unknown error status: "+Ka+" with message "+Xa.message),$n=!0,Dr.wo(new Zn(Ea,Nl)),Rt.close()}else Hn(wl,`RPC '${e}' stream ${h} received:`,Lo),Dr._o(Lo)}}),pi(G,Q.STAT_EVENT,Si=>{Si.stat===Pe.PROXY?Hn(wl,`RPC '${e}' stream ${h} detected buffering proxy`):Si.stat===Pe.NOPROXY&&Hn(wl,`RPC '${e}' stream ${h} detected no buffering proxy`)}),setTimeout(()=>{Dr.fo()},0),Dr}}function qm(){return typeof window<"u"?window:null}function Yh(){return typeof document<"u"?document:null}function Hd(i){return new Mh(i,!0)}class qh{constructor(e,t,a=1e3,h=1.5,b=6e4){this.ii=e,this.timerId=t,this.Po=a,this.bo=h,this.Vo=b,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const t=Math.floor(this.So+this.ko()),a=Math.max(0,Date.now()-this.Co),h=Math.max(0,t-a);h>0&&Hn("ExponentialBackoff",`Backing off for ${h} ms (base delay: ${this.So} ms, delay with jitter: ${t} ms, last attempt: ${a} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,h,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class Wd{constructor(e,t,a,h,b,T,G,ae){this.ii=e,this.$o=a,this.Oo=h,this.connection=b,this.authCredentialsProvider=T,this.appCheckCredentialsProvider=G,this.listener=ae,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new qh(e,t)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}stop(){var e=this;return(0,d.Z)(function*(){e.Uo()&&(yield e.close(0))})()}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}zo(){var e=this;return(0,d.Z)(function*(){if(e.Ko())return e.close(0)})()}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}close(e,t){var a=this;return(0,d.Z)(function*(){a.Ho(),a.Jo(),a.qo.cancel(),a.Fo++,4!==e?a.qo.reset():t&&t.code===Dn.RESOURCE_EXHAUSTED?(Bi(t.toString()),Bi("Using maximum backoff delay to prevent overloading the backend."),a.qo.xo()):t&&t.code===Dn.UNAUTHENTICATED&&3!==a.state&&(a.authCredentialsProvider.invalidateToken(),a.appCheckCredentialsProvider.invalidateToken()),null!==a.stream&&(a.Yo(),a.stream.close(),a.stream=null),a.state=e,yield a.listener.ao(t)})()}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),t=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([a,h])=>{this.Fo===t&&this.Zo(a,h)},a=>{e(()=>{const h=new Zn(Dn.UNKNOWN,"Fetching auth token failed: "+a.message);return this.tu(h)})})}Zo(e,t){const a=this.Xo(this.Fo);this.stream=this.eu(e,t),this.stream.uo(()=>{a(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(h=>{a(()=>this.tu(h))}),this.stream.onMessage(h=>{a(()=>this.onMessage(h))})}Go(){var e=this;this.state=5,this.qo.No((0,d.Z)(function*(){e.state=0,e.start()}))}tu(e){return Hn("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return t=>{this.ii.enqueueAndForget(()=>this.Fo===e?t():(Hn("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Zm extends Wd{constructor(e,t,a,h,b,T){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,a,h,T),this.serializer=b}eu(e,t){return this.connection.Ro("Listen",e,t)}onMessage(e){this.qo.reset();const t=function Pm(i,e){let t;if("targetChange"in e){const a="NO_CHANGE"===(ae=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===ae?1:"REMOVE"===ae?2:"CURRENT"===ae?3:"RESET"===ae?4:Rr(),h=e.targetChange.targetIds||[],b=function(ae,we){return ae.useProto3Json?(si(void 0===we||"string"==typeof we),ns.fromBase64String(we||"")):(si(void 0===we||we instanceof Uint8Array),ns.fromUint8Array(we||new Uint8Array))}(i,e.targetChange.resumeToken),T=e.targetChange.cause,G=T&&function(ae){const we=void 0===ae.code?Dn.UNKNOWN:Ih(ae.code);return new Zn(we,ae.message||"")}(T);t=new Sh(a,h,b,G||null)}else if("documentChange"in e){const a=e.documentChange,h=Ca(i,a.document.name),b=Oa(a.document.updateTime),T=a.document.createTime?Oa(a.document.createTime):ti.min(),G=new Wo({mapValue:{fields:a.document.fields}}),ae=Fo.newFoundDocument(h,b,T,G);t=new qc(a.targetIds||[],a.removedTargetIds||[],ae.key,ae)}else if("documentDelete"in e){const a=e.documentDelete,h=Ca(i,a.document),b=a.readTime?Oa(a.readTime):ti.min(),T=Fo.newNoDocument(h,b);t=new qc([],a.removedTargetIds||[],T.key,T)}else if("documentRemove"in e){const a=e.documentRemove,h=Ca(i,a.document);t=new qc([],a.removedTargetIds||[],h,null)}else{if(!("filter"in e))return Rr();{const a=e.filter,{count:h=0,unchangedNames:b}=a,T=new wh(h,b);t=new Rf(a.targetId,T)}}var ae;return t}(this.serializer,e),a=function(h){if(!("targetChange"in h))return ti.min();const b=h.targetChange;return b.targetIds&&b.targetIds.length?ti.min():b.readTime?Oa(b.readTime):ti.min()}(e);return this.listener.nu(t,a)}su(e){const t={};t.database=Sc(this.serializer),t.addTarget=function(h,b){let T;const G=b.target;if(T=lu(G)?{documents:Xc(h,G)}:{query:Qc(h,G)},T.targetId=b.targetId,b.resumeToken.approximateByteSize()>0){T.resumeToken=xd(h,b.resumeToken);const ae=gu(h,b.expectedCount);null!==ae&&(T.expectedCount=ae)}else if(b.snapshotVersion.compareTo(ti.min())>0){T.readTime=Cc(h,b.snapshotVersion.toTimestamp());const ae=gu(h,b.expectedCount);null!==ae&&(T.expectedCount=ae)}return T}(this.serializer,e);const a=function mu(i,e){const t=function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Rr()}}(e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);a&&(t.labels=a),this.Wo(t)}iu(e){const t={};t.database=Sc(this.serializer),t.removeTarget=e,this.Wo(t)}}class f0 extends Wd{constructor(e,t,a,h,b,T){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,a,h,T),this.serializer=b,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,t){return this.connection.Ro("Write",e,t)}onMessage(e){if(si(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const t=function Nf(i,e){return i&&i.length>0?(si(void 0!==e),i.map(t=>function(a,h){let b=Oa(a.updateTime?a.updateTime:h);return b.isEqual(ti.min())&&(b=Oa(h)),new xf(b,a.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),a=Oa(e.commitTime);return this.listener.cu(a,t)}return si(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=Sc(this.serializer),this.Wo(e)}uu(e){const t={streamToken:this.lastStreamToken,writes:e.map(a=>Wu(this.serializer,a))};this.Wo(t)}}class fg extends class{}{constructor(e,t,a,h){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=a,this.serializer=h,this.lu=!1}fu(){if(this.lu)throw new Zn(Dn.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,t,a){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,b])=>this.connection.Io(e,t,a,h,b)).catch(h=>{throw"FirebaseError"===h.name?(h.code===Dn.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new Zn(Dn.UNKNOWN,h.toString())})}vo(e,t,a,h){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([b,T])=>this.connection.vo(e,t,a,b,T,h)).catch(b=>{throw"FirebaseError"===b.name?(b.code===Dn.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),b):new Zn(Dn.UNKNOWN,b.toString())})}terminate(){this.lu=!0}}class Xm{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(Bi(t),this.mu=!1):Hn("OnlineStateTracker",t)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class Jf{constructor(e,t,a,h,b){var T=this;this.localStore=e,this.datastore=t,this.asyncQueue=a,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=b,this.Pu.Yr(G=>{a.enqueueAndForget((0,d.Z)(function*(){var ae;Bl(T)&&(Hn("RemoteStore","Restarting streams for network reachability change."),yield(ae=(0,d.Z)(function*(we){const Ye=Bn(we);Ye.vu.add(4),yield nd(Ye),Ye.bu.set("Unknown"),Ye.vu.delete(4),yield Su(Ye)}),function(we){return ae.apply(this,arguments)})(T))}))}),this.bu=new Xm(a,h)}}function Su(i){return ep.apply(this,arguments)}function ep(){return ep=(0,d.Z)(function*(i){if(Bl(i))for(const e of i.Ru)yield e(!0)}),ep.apply(this,arguments)}function nd(i){return pg.apply(this,arguments)}function pg(){return pg=(0,d.Z)(function*(i){for(const e of i.Ru)yield e(!1)}),pg.apply(this,arguments)}function tp(i,e){const t=Bn(i);t.Au.has(e.targetId)||(t.Au.set(e.targetId,e),np(t)?mg(t):$l(t).Ko()&&gg(t,e))}function Zh(i,e){const t=Bn(i),a=$l(t);t.Au.delete(e),a.Ko()&&Qm(t,e),0===t.Au.size&&(a.Ko()?a.jo():Bl(t)&&t.bu.set("Unknown"))}function gg(i,e){if(i.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ti.min())>0){const t=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}$l(i).su(e)}function Qm(i,e){i.Vu.qt(e),$l(i).iu(e)}function mg(i){i.Vu=new Of({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),le:e=>i.Au.get(e)||null,ue:()=>i.datastore.serializer.databaseId}),$l(i).start(),i.bu.gu()}function np(i){return Bl(i)&&!$l(i).Uo()&&i.Au.size>0}function Bl(i){return 0===Bn(i).vu.size}function xc(i){i.Vu=void 0}function p0(i){return yg.apply(this,arguments)}function yg(){return yg=(0,d.Z)(function*(i){i.Au.forEach((e,t)=>{gg(i,e)})}),yg.apply(this,arguments)}function g0(i,e){return Jm.apply(this,arguments)}function Jm(){return Jm=(0,d.Z)(function*(i,e){xc(i),np(i)?(i.bu.Iu(e),mg(i)):i.bu.set("Unknown")}),Jm.apply(this,arguments)}function ey(i,e,t){return ty.apply(this,arguments)}function ty(){return ty=(0,d.Z)(function*(i,e,t){if(i.bu.set("Online"),e instanceof Sh&&2===e.state&&e.cause)try{yield(a=(0,d.Z)(function*(h,b){const T=b.cause;for(const G of b.targetIds)h.Au.has(G)&&(yield h.remoteSyncer.rejectListen(G,T),h.Au.delete(G),h.Vu.removeTarget(G))}),function(h,b){return a.apply(this,arguments)})(i,e)}catch(a){Hn("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),a),yield Xh(i,a)}else if(e instanceof qc?i.Vu.Ht(e):e instanceof Rf?i.Vu.ne(e):i.Vu.Xt(e),!t.isEqual(ti.min()))try{const a=yield jd(i.localStore);t.compareTo(a)>=0&&(yield function(h,b){const T=h.Vu.ce(b);return T.targetChanges.forEach((G,ae)=>{if(G.resumeToken.approximateByteSize()>0){const we=h.Au.get(ae);we&&h.Au.set(ae,we.withResumeToken(G.resumeToken,b))}}),T.targetMismatches.forEach((G,ae)=>{const we=h.Au.get(G);if(!we)return;h.Au.set(G,we.withResumeToken(ns.EMPTY_BYTE_STRING,we.snapshotVersion)),Qm(h,G);const Ye=new Sl(we.target,G,ae,we.sequenceNumber);gg(h,Ye)}),h.remoteSyncer.applyRemoteEvent(T)}(i,t))}catch(a){Hn("RemoteStore","Failed to raise snapshot:",a),yield Xh(i,a)}var a}),ty.apply(this,arguments)}function Xh(i,e,t){return rd.apply(this,arguments)}function rd(){return rd=(0,d.Z)(function*(i,e,t){if(!Xo(e))throw e;i.vu.add(1),yield nd(i),i.bu.set("Offline"),t||(t=()=>jd(i.localStore)),i.asyncQueue.enqueueRetryable((0,d.Z)(function*(){Hn("RemoteStore","Retrying IndexedDB access"),yield t(),i.vu.delete(1),yield Su(i)}))}),rd.apply(this,arguments)}function vg(i,e){return e().catch(t=>Xh(i,t,e))}function id(i){return rp.apply(this,arguments)}function rp(){return rp=(0,d.Z)(function*(i){const e=Bn(i),t=Vl(e);let a=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;Ks(e);)try{const h=yield og(e.localStore,a);if(null===h){0===e.Eu.length&&t.jo();break}a=h.batchId,ny(e,h)}catch(h){yield Xh(e,h)}_g(e)&&bv(e)}),rp.apply(this,arguments)}function Ks(i){return Bl(i)&&i.Eu.length<10}function ny(i,e){i.Eu.push(e);const t=Vl(i);t.Ko()&&t.ou&&t.uu(e.mutations)}function _g(i){return Bl(i)&&!Vl(i).Uo()&&i.Eu.length>0}function bv(i){Vl(i).start()}function Ev(i){return ip.apply(this,arguments)}function ip(){return ip=(0,d.Z)(function*(i){Vl(i).hu()}),ip.apply(this,arguments)}function wv(i){return bg.apply(this,arguments)}function bg(){return bg=(0,d.Z)(function*(i){const e=Vl(i);for(const t of i.Eu)e.uu(t.mutations)}),bg.apply(this,arguments)}function ry(i,e,t){return Eg.apply(this,arguments)}function Eg(){return Eg=(0,d.Z)(function*(i,e,t){const a=i.Eu.shift(),h=Eh.from(a,e,t);yield vg(i,()=>i.remoteSyncer.applySuccessfulWrite(h)),yield id(i)}),Eg.apply(this,arguments)}function iy(i,e){return wg.apply(this,arguments)}function wg(){return wg=(0,d.Z)(function*(i,e){var t;e&&Vl(i).ou&&(yield(t=(0,d.Z)(function*(a,h){if(Uu(b=h.code)&&b!==Dn.ABORTED){const T=a.Eu.shift();Vl(a).Qo(),yield vg(a,()=>a.remoteSyncer.rejectFailedWrite(T.batchId,h)),yield id(a)}var b}),function(a,h){return t.apply(this,arguments)})(i,e)),_g(i)&&bv(i)}),wg.apply(this,arguments)}function sy(i,e){return Ig.apply(this,arguments)}function Ig(){return Ig=(0,d.Z)(function*(i,e){const t=Bn(i);t.asyncQueue.verifyOperationInProgress(),Hn("RemoteStore","RemoteStore received new credentials");const a=Bl(t);t.vu.add(3),yield nd(t),a&&t.bu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.vu.delete(3),yield Su(t)}),Ig.apply(this,arguments)}function sp(i,e){return op.apply(this,arguments)}function op(){return op=(0,d.Z)(function*(i,e){const t=Bn(i);e?(t.vu.delete(2),yield Su(t)):e||(t.vu.add(2),yield nd(t),t.bu.set("Unknown"))}),op.apply(this,arguments)}function $l(i){return i.Su||(i.Su=function(e,t,a){const h=Bn(e);return h.fu(),new Zm(t,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,a)}(i.datastore,i.asyncQueue,{uo:p0.bind(null,i),ao:g0.bind(null,i),nu:ey.bind(null,i)}),i.Ru.push(function(){var e=(0,d.Z)(function*(t){t?(i.Su.Qo(),np(i)?mg(i):i.bu.set("Unknown")):(yield i.Su.stop(),xc(i))});return function(t){return e.apply(this,arguments)}}())),i.Su}function Vl(i){return i.Du||(i.Du=function(e,t,a){const h=Bn(e);return h.fu(),new f0(t,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,a)}(i.datastore,i.asyncQueue,{uo:Ev.bind(null,i),ao:iy.bind(null,i),au:wv.bind(null,i),cu:ry.bind(null,i)}),i.Ru.push(function(){var e=(0,d.Z)(function*(t){t?(i.Du.Qo(),yield id(i)):(yield i.Du.stop(),i.Eu.length>0&&(Hn("RemoteStore",`Stopping write stream with ${i.Eu.length} pending writes`),i.Eu=[]))});return function(t){return e.apply(this,arguments)}}())),i.Du}class ap{constructor(e,t,a,h,b){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=a,this.op=h,this.removalCallback=b,this.deferred=new Ds,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(T=>{})}static createAndSchedule(e,t,a,h,b){const T=Date.now()+a,G=new ap(e,t,T,h,b);return G.start(a),G}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Zn(Dn.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Kd(i,e){if(Bi("AsyncQueue",`${e}: ${i}`),Xo(i))return new Zn(Dn.UNAVAILABLE,`${e}: ${i}`);throw i}class nu{constructor(e){this.comparator=e?(t,a)=>e(t,a)||gr.comparator(t.key,a.key):(t,a)=>gr.comparator(t.key,a.key),this.keyedMap=Ma(),this.sortedSet=new Vr(this.comparator)}static emptySet(e){return new nu(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,a)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof nu)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),a=e.sortedSet.getIterator();for(;t.hasNext();){const h=t.getNext().key,b=a.getNext().key;if(!h.isEqual(b))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const a=new nu;return a.comparator=this.comparator,a.keyedMap=e,a.sortedSet=t,a}}class sd{constructor(){this.Cu=new Vr(gr.comparator)}track(e){const t=e.doc.key,a=this.Cu.get(t);a?0!==e.type&&3===a.type?this.Cu=this.Cu.insert(t,e):3===e.type&&1!==a.type?this.Cu=this.Cu.insert(t,{type:a.type,doc:e.doc}):2===e.type&&2===a.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===a.type?this.Cu=this.Cu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===a.type?this.Cu=this.Cu.remove(t):1===e.type&&2===a.type?this.Cu=this.Cu.insert(t,{type:1,doc:a.doc}):0===e.type&&1===a.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):Rr():this.Cu=this.Cu.insert(t,e)}xu(){const e=[];return this.Cu.inorderTraversal((t,a)=>{e.push(a)}),e}}class Tu{constructor(e,t,a,h,b,T,G,ae,we){this.query=e,this.docs=t,this.oldDocs=a,this.docChanges=h,this.mutatedKeys=b,this.fromCache=T,this.syncStateChanged=G,this.excludesMetadataChanges=ae,this.hasCachedResults=we}static fromInitialDocuments(e,t,a,h,b){const T=[];return t.forEach(G=>{T.push({type:0,doc:G})}),new Tu(e,t,nu.emptySet(t),T,a,h,!0,!1,b)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&_r(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,a=e.docChanges;if(t.length!==a.length)return!1;for(let h=0;h<t.length;h++)if(t[h].type!==a[h].type||!t[h].doc.isEqual(a[h].doc))return!1;return!0}}class Qh{constructor(){this.Nu=void 0,this.listeners=[]}}class oy{constructor(){this.queries=new ia(e=>oi(e),_r),this.onlineState="Unknown",this.ku=new Set}}function Jh(i,e){return ef.apply(this,arguments)}function ef(){return ef=(0,d.Z)(function*(i,e){const t=Bn(i),a=e.query;let h=!1,b=t.queries.get(a);if(b||(h=!0,b=new Qh),h)try{b.Nu=yield t.onListen(a)}catch(T){const G=Kd(T,`Initialization of query '${Ui(e.query)}' failed`);return void e.onError(G)}t.queries.set(a,b),b.listeners.push(e),e.Mu(t.onlineState),b.Nu&&e.$u(b.Nu)&&Dg(t)}),ef.apply(this,arguments)}function tf(i,e){return lp.apply(this,arguments)}function lp(){return lp=(0,d.Z)(function*(i,e){const t=Bn(i),a=e.query;let h=!1;const b=t.queries.get(a);if(b){const T=b.listeners.indexOf(e);T>=0&&(b.listeners.splice(T,1),h=0===b.listeners.length)}if(h)return t.queries.delete(a),t.onUnlisten(a)}),lp.apply(this,arguments)}function Cg(i,e){const t=Bn(i);let a=!1;for(const h of e){const T=t.queries.get(h.query);if(T){for(const G of T.listeners)G.$u(h)&&(a=!0);T.Nu=h}}a&&Dg(t)}function Iv(i,e,t){const a=Bn(i),h=a.queries.get(e);if(h)for(const b of h.listeners)b.onError(t);a.queries.delete(e)}function Dg(i){i.ku.forEach(e=>{e.next()})}class Sg{constructor(e,t,a){this.query=e,this.Ou=t,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=a||{}}$u(e){if(!this.options.includeMetadataChanges){const a=[];for(const h of e.docChanges)3!==h.type&&a.push(h);e=new Tu(e.query,e.docs,e.oldDocs,a,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),t=!0):this.qu(e,this.onlineState)&&(this.Uu(e),t=!0),this.Bu=e,t}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let t=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),t=!0),t}qu(e,t){return!e.fromCache||(!this.options.Ku||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Lu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Uu(e){e=Tu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class ay{constructor(e,t){this.Gu=e,this.byteLength=t}Qu(){return"metadata"in this.Gu}}class ly{constructor(e){this.serializer=e}rr(e){return Ca(this.serializer,e)}ur(e){return e.metadata.exists?uc(this.serializer,e.document,!1):Fo.newNoDocument(this.rr(e.metadata.name),this.cr(e.metadata.readTime))}cr(e){return Oa(e)}}class Cv{constructor(e,t,a){this.ju=e,this.localStore=t,this.serializer=a,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=cy(e)}zu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.Gu.namedQuery)this.queries.push(e.Gu.namedQuery);else if(e.Gu.documentMetadata){this.documents.push({metadata:e.Gu.documentMetadata}),e.Gu.documentMetadata.exists||++t;const a=as.fromString(e.Gu.documentMetadata.name);this.collectionGroups.add(a.get(a.length-2))}else e.Gu.document&&(this.documents[this.documents.length-1].document=e.Gu.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}Wu(e){const t=new Map,a=new ly(this.serializer);for(const h of e)if(h.metadata.queries){const b=a.rr(h.metadata.name);for(const T of h.metadata.queries){const G=(t.get(T)||Fs()).add(b);t.set(T,G)}}return t}complete(){var e=this;return(0,d.Z)(function*(){const t=yield function h0(i,e,t,a){return cg.apply(this,arguments)}(e.localStore,new ly(e.serializer),e.documents,e.ju.id),a=e.Wu(e.documents);for(const h of e.queries)yield ug(e.localStore,h,a.get(h.name));return e.progress.taskState="Success",{progress:e.progress,Hu:e.collectionGroups,Ju:t}})()}}function cy(i){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:i.totalDocuments,totalBytes:i.totalBytes}}class uy{constructor(e){this.key=e}}class Tg{constructor(e){this.key=e}}class Ag{constructor(e,t){this.query=e,this.Yu=t,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=Fs(),this.mutatedKeys=Fs(),this.tc=Ol(e),this.ec=new nu(this.tc)}get nc(){return this.Yu}sc(e,t){const a=t?t.ic:new sd,h=t?t.ec:this.ec;let b=t?t.mutatedKeys:this.mutatedKeys,T=h,G=!1;const ae="F"===this.query.limitType&&h.size===this.query.limit?h.last():null,we="L"===this.query.limitType&&h.size===this.query.limit?h.first():null;if(e.inorderTraversal((Ye,Rt)=>{const bn=h.get(Ye),$n=Us(this.query,Rt)?Rt:null,Dr=!!bn&&this.mutatedKeys.has(bn.key),pi=!!$n&&($n.hasLocalMutations||this.mutatedKeys.has($n.key)&&$n.hasCommittedMutations);let Si=!1;bn&&$n?bn.data.isEqual($n.data)?Dr!==pi&&(a.track({type:3,doc:$n}),Si=!0):this.rc(bn,$n)||(a.track({type:2,doc:$n}),Si=!0,(ae&&this.tc($n,ae)>0||we&&this.tc($n,we)<0)&&(G=!0)):!bn&&$n?(a.track({type:0,doc:$n}),Si=!0):bn&&!$n&&(a.track({type:1,doc:bn}),Si=!0,(ae||we)&&(G=!0)),Si&&($n?(T=T.add($n),b=pi?b.add(Ye):b.delete(Ye)):(T=T.delete(Ye),b=b.delete(Ye)))}),null!==this.query.limit)for(;T.size>this.query.limit;){const Ye="F"===this.query.limitType?T.last():T.first();T=T.delete(Ye.key),b=b.delete(Ye.key),a.track({type:1,doc:Ye})}return{ec:T,ic:a,zi:G,mutatedKeys:b}}rc(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,a){const h=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const b=e.ic.xu();b.sort((we,Ye)=>function(Rt,bn){const $n=Dr=>{switch(Dr){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Rr()}};return $n(Rt)-$n(bn)}(we.type,Ye.type)||this.tc(we.doc,Ye.doc)),this.oc(a);const T=t?this.uc():[],G=0===this.Zu.size&&this.current?1:0,ae=G!==this.Xu;return this.Xu=G,0!==b.length||ae?{snapshot:new Tu(this.query,e.ec,h,b,e.mutatedKeys,0===G,ae,!1,!!a&&a.resumeToken.approximateByteSize()>0),cc:T}:{cc:T}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new sd,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(t=>this.Yu=this.Yu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Yu=this.Yu.delete(t)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=Fs(),this.ec.forEach(a=>{this.ac(a.key)&&(this.Zu=this.Zu.add(a.key))});const t=[];return e.forEach(a=>{this.Zu.has(a)||t.push(new Tg(a))}),this.Zu.forEach(a=>{e.has(a)||t.push(new uy(a))}),t}hc(e){this.Yu=e.ir,this.Zu=Fs();const t=this.sc(e.documents);return this.applyChanges(t,!0)}lc(){return Tu.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class Dv{constructor(e,t,a){this.query=e,this.targetId=t,this.view=a}}class Sv{constructor(e){this.key=e,this.fc=!1}}class Ul{constructor(e,t,a,h,b,T){this.localStore=e,this.remoteStore=t,this.eventManager=a,this.sharedClientState=h,this.currentUser=b,this.maxConcurrentLimboResolutions=T,this.dc={},this.wc=new ia(G=>oi(G),_r),this._c=new Map,this.mc=new Set,this.gc=new Vr(gr.comparator),this.yc=new Map,this.Ic=new Kf,this.Tc={},this.Ec=new Map,this.Ac=eu.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}function Tv(i,e){return xg.apply(this,arguments)}function xg(){return xg=(0,d.Z)(function*(i,e){const t=Zd(i);let a,h;const b=t.wc.get(e);if(b)a=b.targetId,t.sharedClientState.addLocalQueryTarget(a),h=b.view.lc();else{const T=yield Ju(t.localStore,We(e)),G=t.sharedClientState.addLocalQueryTarget(T.targetId);a=T.targetId,h=yield dy(t,e,a,"current"===G,T.resumeToken),t.isPrimaryClient&&tp(t.remoteStore,T)}return h}),xg.apply(this,arguments)}function dy(i,e,t,a,h){return nf.apply(this,arguments)}function nf(){return nf=(0,d.Z)(function*(i,e,t,a,h){i.Rc=(Rt,bn,$n)=>{return(Dr=(0,d.Z)(function*(pi,Si,Zs,Lo){let mo=Si.view.sc(Zs);mo.zi&&(mo=yield jh(pi.localStore,Si.query,!1).then(({documents:Ea})=>Si.view.sc(Ea,mo)));const Xa=Lo&&Lo.targetChanges.get(Si.targetId),Ka=Si.view.applyChanges(mo,pi.isPrimaryClient,Xa);return up(pi,Si.targetId,Ka.cc),Ka.snapshot}),function(pi,Si,Zs,Lo){return Dr.apply(this,arguments)})(i,Rt,bn,$n);var Dr};const b=yield jh(i.localStore,e,!0),T=new Ag(e,b.ir),G=T.sc(b.documents),ae=Sd.createSynthesizedTargetChangeForCurrentChange(t,a&&"Offline"!==i.onlineState,h),we=T.applyChanges(G,i.isPrimaryClient,ae);up(i,t,we.cc);const Ye=new Dv(e,t,T);return i.wc.set(e,Ye),i._c.has(t)?i._c.get(t).push(e):i._c.set(t,[e]),we.snapshot}),nf.apply(this,arguments)}function hy(i,e){return Mg.apply(this,arguments)}function Mg(){return Mg=(0,d.Z)(function*(i,e){const t=Bn(i),a=t.wc.get(e),h=t._c.get(a.targetId);if(h.length>1)return t._c.set(a.targetId,h.filter(b=>!_r(b,e))),void t.wc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(a.targetId),t.sharedClientState.isActiveQueryTarget(a.targetId)||(yield zd(t.localStore,a.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(a.targetId),Zh(t.remoteStore,a.targetId),Yd(t,a.targetId)}).catch(Ko))):(Yd(t,a.targetId),yield zd(t.localStore,a.targetId,!0))}),Mg.apply(this,arguments)}function Pg(){return Pg=(0,d.Z)(function*(i,e,t){const a=Gg(i);try{const h=yield function(b,T){const G=Bn(b),ae=ps.now(),we=T.reduce((bn,$n)=>bn.add($n.key),Fs());let Ye,Rt;return G.persistence.runTransaction("Locally write mutations","readwrite",bn=>{let $n=ha(),Dr=Fs();return G.Zi.getEntries(bn,we).next(pi=>{$n=pi,$n.forEach((Si,Zs)=>{Zs.isValidDocument()||(Dr=Dr.add(Si))})}).next(()=>G.localDocuments.getOverlayedDocuments(bn,$n)).next(pi=>{Ye=pi;const Si=[];for(const Zs of T){const Lo=Vp(Zs,Ye.get(Zs.key).overlayedDocument);null!=Lo&&Si.push(new Gl(Zs.key,Lo,tc(Lo.value.mapValue),ma.exists(!0)))}return G.mutationQueue.addMutationBatch(bn,ae,Si,T)}).next(pi=>{Rt=pi;const Si=pi.applyToLocalDocumentSet(Ye,Dr);return G.documentOverlayCache.saveOverlays(bn,pi.batchId,Si)})}).then(()=>({batchId:Rt.batchId,changes:Ua(Ye)}))}(a.localStore,e);a.sharedClientState.addPendingMutation(h.batchId),function(b,T,G){let ae=b.Tc[b.currentUser.toKey()];ae||(ae=new Vr($i)),ae=ae.insert(T,G),b.Tc[b.currentUser.toKey()]=ae}(a,h.batchId,t),yield Au(a,h.changes),yield id(a.remoteStore)}catch(h){const b=Kd(h,"Failed to persist write");t.reject(b)}}),Pg.apply(this,arguments)}function Rg(i,e){return Og.apply(this,arguments)}function Og(){return Og=(0,d.Z)(function*(i,e){const t=Bn(i);try{const a=yield function d0(i,e){const t=Bn(i),a=e.snapshotVersion;let h=t.Ji;return t.persistence.runTransaction("Apply remote event","readwrite-primary",b=>{const T=t.Zi.newChangeBuffer({trackRemovals:!0});h=t.Ji;const G=[];e.targetChanges.forEach((Ye,Rt)=>{const bn=h.get(Rt);if(!bn)return;G.push(t.Bs.removeMatchingKeys(b,Ye.removedDocuments,Rt).next(()=>t.Bs.addMatchingKeys(b,Ye.addedDocuments,Rt)));let $n=bn.withSequenceNumber(b.currentSequenceNumber);var Dr,pi,Si;null!==e.targetMismatches.get(Rt)?$n=$n.withResumeToken(ns.EMPTY_BYTE_STRING,ti.min()).withLastLimboFreeSnapshotVersion(ti.min()):Ye.resumeToken.approximateByteSize()>0&&($n=$n.withResumeToken(Ye.resumeToken,a)),h=h.insert(Rt,$n),pi=$n,Si=Ye,(0===(Dr=bn).resumeToken.approximateByteSize()||pi.snapshotVersion.toMicroseconds()-Dr.snapshotVersion.toMicroseconds()>=3e8||Si.addedDocuments.size+Si.modifiedDocuments.size+Si.removedDocuments.size>0)&&G.push(t.Bs.updateTargetData(b,$n))});let ae=ha(),we=Fs();if(e.documentUpdates.forEach(Ye=>{e.resolvedLimboDocuments.has(Ye)&&G.push(t.persistence.referenceDelegate.updateLimboDocument(b,Ye))}),G.push(Xf(b,T,e.documentUpdates).next(Ye=>{ae=Ye.nr,we=Ye.sr})),!a.isEqual(ti.min())){const Ye=t.Bs.getLastRemoteSnapshotVersion(b).next(Rt=>t.Bs.setTargetsMetadata(b,b.currentSequenceNumber,a));G.push(Ye)}return pn.waitFor(G).next(()=>T.apply(b)).next(()=>t.localDocuments.getLocalViewOfDocuments(b,ae,we)).next(()=>ae)}).then(b=>(t.Ji=h,b))}(t.localStore,e);e.targetChanges.forEach((h,b)=>{const T=t.yc.get(b);T&&(si(h.addedDocuments.size+h.modifiedDocuments.size+h.removedDocuments.size<=1),h.addedDocuments.size>0?T.fc=!0:h.modifiedDocuments.size>0?si(T.fc):h.removedDocuments.size>0&&(si(T.fc),T.fc=!1))}),yield Au(t,a,e)}catch(a){yield Ko(a)}}),Og.apply(this,arguments)}function fy(i,e,t){const a=Bn(i);if(a.isPrimaryClient&&0===t||!a.isPrimaryClient&&1===t){const h=[];a.wc.forEach((b,T)=>{const G=T.view.Mu(e);G.snapshot&&h.push(G.snapshot)}),function(b,T){const G=Bn(b);G.onlineState=T;let ae=!1;G.queries.forEach((we,Ye)=>{for(const Rt of Ye.listeners)Rt.Mu(T)&&(ae=!0)}),ae&&Dg(G)}(a.eventManager,e),h.length&&a.dc.nu(h),a.onlineState=e,a.isPrimaryClient&&a.sharedClientState.setOnlineState(e)}}function kg(i,e,t){return Ng.apply(this,arguments)}function Ng(){return Ng=(0,d.Z)(function*(i,e,t){const a=Bn(i);a.sharedClientState.updateQueryState(e,"rejected",t);const h=a.yc.get(e),b=h&&h.key;if(b){let T=new Vr(gr.comparator);T=T.insert(b,Fo.newNoDocument(b,ti.min()));const G=Fs().add(b),ae=new zu(ti.min(),new Map,new Vr($i),T,G);yield Rg(a,ae),a.gc=a.gc.remove(b),a.yc.delete(e),sf(a)}else yield zd(a.localStore,e,!1).then(()=>Yd(a,e,t)).catch(Ko)}),Ng.apply(this,arguments)}function xv(i,e){return Fg.apply(this,arguments)}function Fg(){return Fg=(0,d.Z)(function*(i,e){const t=Bn(i),a=e.batch.batchId;try{const h=yield function Zf(i,e){const t=Bn(i);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",a=>{const h=e.batch.keys(),b=t.Zi.newChangeBuffer({trackRemovals:!0});return function(T,G,ae,we){const Ye=ae.batch,Rt=Ye.keys();let bn=pn.resolve();return Rt.forEach($n=>{bn=bn.next(()=>we.getEntry(G,$n)).next(Dr=>{const pi=ae.docVersions.get($n);si(null!==pi),Dr.version.compareTo(pi)<0&&(Ye.applyToRemoteDocument(Dr,ae),Dr.isValidDocument()&&(Dr.setReadTime(ae.commitVersion),we.addEntry(Dr)))})}),bn.next(()=>T.mutationQueue.removeMutationBatch(G,Ye))}(t,a,e,b).next(()=>b.apply(a)).next(()=>t.mutationQueue.performConsistencyCheck(a)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(a,h,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,function(T){let G=Fs();for(let ae=0;ae<T.mutationResults.length;++ae)T.mutationResults[ae].transformResults.length>0&&(G=G.add(T.batch.mutations[ae].key));return G}(e))).next(()=>t.localDocuments.getDocuments(a,h))})}(t.localStore,e);cp(t,a,null),Bg(t,a),t.sharedClientState.updateMutationState(a,"acknowledged"),yield Au(t,h)}catch(h){yield Ko(h)}}),Fg.apply(this,arguments)}function Mv(i,e,t){return Lg.apply(this,arguments)}function Lg(){return Lg=(0,d.Z)(function*(i,e,t){const a=Bn(i);try{const h=yield function(b,T){const G=Bn(b);return G.persistence.runTransaction("Reject batch","readwrite-primary",ae=>{let we;return G.mutationQueue.lookupMutationBatch(ae,T).next(Ye=>(si(null!==Ye),we=Ye.keys(),G.mutationQueue.removeMutationBatch(ae,Ye))).next(()=>G.mutationQueue.performConsistencyCheck(ae)).next(()=>G.documentOverlayCache.removeOverlaysForBatchId(ae,we,T)).next(()=>G.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(ae,we)).next(()=>G.localDocuments.getDocuments(ae,we))})}(a.localStore,e);cp(a,e,t),Bg(a,e),a.sharedClientState.updateMutationState(e,"rejected",t),yield Au(a,h)}catch(h){yield Ko(h)}}),Lg.apply(this,arguments)}function rf(){return rf=(0,d.Z)(function*(i,e){const t=Bn(i);Bl(t.remoteStore)||Hn("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const a=yield function(b){const T=Bn(b);return T.persistence.runTransaction("Get highest unacknowledged batch id","readonly",G=>T.mutationQueue.getHighestUnacknowledgedBatchId(G))}(t.localStore);if(-1===a)return void e.resolve();const h=t.Ec.get(a)||[];h.push(e),t.Ec.set(a,h)}catch(a){const h=Kd(a,"Initialization of waitForPendingWrites() operation failed");e.reject(h)}}),rf.apply(this,arguments)}function Bg(i,e){(i.Ec.get(e)||[]).forEach(t=>{t.resolve()}),i.Ec.delete(e)}function cp(i,e,t){const a=Bn(i);let h=a.Tc[a.currentUser.toKey()];if(h){const b=h.get(e);b&&(t?b.reject(t):b.resolve(),h=h.remove(e)),a.Tc[a.currentUser.toKey()]=h}}function Yd(i,e,t=null){i.sharedClientState.removeLocalQueryTarget(e);for(const a of i._c.get(e))i.wc.delete(a),t&&i.dc.Pc(a,t);i._c.delete(e),i.isPrimaryClient&&i.Ic.Is(e).forEach(a=>{i.Ic.containsKey(a)||$g(i,a)})}function $g(i,e){i.mc.delete(e.path.canonicalString());const t=i.gc.get(e);null!==t&&(Zh(i.remoteStore,t),i.gc=i.gc.remove(e),i.yc.delete(t),sf(i))}function up(i,e,t){for(const a of t)a instanceof uy?(i.Ic.addReference(a.key,e),dp(i,a)):a instanceof Tg?(Hn("SyncEngine","Document no longer in limbo: "+a.key),i.Ic.removeReference(a.key,e),i.Ic.containsKey(a.key)||$g(i,a.key)):Rr()}function dp(i,e){const t=e.key,a=t.path.canonicalString();i.gc.get(t)||i.mc.has(a)||(Hn("SyncEngine","New document in limbo: "+t),i.mc.add(a),sf(i))}function sf(i){for(;i.mc.size>0&&i.gc.size<i.maxConcurrentLimboResolutions;){const e=i.mc.values().next().value;i.mc.delete(e);const t=new gr(as.fromString(e)),a=i.Ac.next();i.yc.set(a,new Sv(t)),i.gc=i.gc.insert(t,a),tp(i.remoteStore,new Sl(We(Hl(t.path)),a,"TargetPurposeLimboResolution",me.ct))}}function Au(i,e,t){return hp.apply(this,arguments)}function hp(){return hp=(0,d.Z)(function*(i,e,t){const a=Bn(i),h=[],b=[],T=[];var G;a.wc.isEmpty()||(a.wc.forEach((G,ae)=>{T.push(a.Rc(ae,e,t).then(we=>{if((we||t)&&a.isPrimaryClient&&a.sharedClientState.updateQueryState(ae.targetId,null!=we&&we.fromCache?"not-current":"current"),we){h.push(we);const Ye=Bd.Li(ae.targetId,we);b.push(Ye)}}))}),yield Promise.all(T),a.dc.nu(h),yield(G=(0,d.Z)(function*(ae,we){const Ye=Bn(ae);try{yield Ye.persistence.runTransaction("notifyLocalViewChanges","readwrite",Rt=>pn.forEach(we,bn=>pn.forEach(bn.Fi,$n=>Ye.persistence.referenceDelegate.addReference(Rt,bn.targetId,$n)).next(()=>pn.forEach(bn.Bi,$n=>Ye.persistence.referenceDelegate.removeReference(Rt,bn.targetId,$n)))))}catch(Rt){if(!Xo(Rt))throw Rt;Hn("LocalStore","Failed to update sequence numbers: "+Rt)}for(const Rt of we){const bn=Rt.targetId;if(!Rt.fromCache){const $n=Ye.Ji.get(bn),pi=$n.withLastLimboFreeSnapshotVersion($n.snapshotVersion);Ye.Ji=Ye.Ji.insert(bn,pi)}}}),function(ae,we){return G.apply(this,arguments)})(a.localStore,b))}),hp.apply(this,arguments)}function py(i,e){return fp.apply(this,arguments)}function fp(){return fp=(0,d.Z)(function*(i,e){const t=Bn(i);if(!t.currentUser.isEqual(e)){Hn("SyncEngine","User change. New user:",e.toKey());const a=yield Ud(t.localStore,e);t.currentUser=e,(h=t).Ec.forEach(T=>{T.forEach(G=>{G.reject(new Zn(Dn.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),h.Ec.clear(),t.sharedClientState.handleUserChange(e,a.removedBatchIds,a.addedBatchIds),yield Au(t,a.er)}var h}),fp.apply(this,arguments)}function gy(i,e){const t=Bn(i),a=t.yc.get(e);if(a&&a.fc)return Fs().add(a.key);{let h=Fs();const b=t._c.get(e);if(!b)return h;for(const T of b){const G=t.wc.get(T);h=h.unionWith(G.view.nc)}return h}}function Vg(i,e){return fc.apply(this,arguments)}function fc(){return fc=(0,d.Z)(function*(i,e){const t=Bn(i),a=yield jh(t.localStore,e.query,!0),h=e.view.hc(a);return t.isPrimaryClient&&up(t,e.targetId,h.cc),h}),fc.apply(this,arguments)}function Pv(i,e){return Ug.apply(this,arguments)}function Ug(){return Ug=(0,d.Z)(function*(i,e){const t=Bn(i);return jm(t.localStore,e).then(a=>Au(t,a))}),Ug.apply(this,arguments)}function jg(i,e,t,a){return zg.apply(this,arguments)}function zg(){return zg=(0,d.Z)(function*(i,e,t,a){const h=Bn(i),b=yield function(T,G){const ae=Bn(T),we=Bn(ae.mutationQueue);return ae.persistence.runTransaction("Lookup mutation documents","readonly",Ye=>we.Sn(Ye,G).next(Rt=>Rt?ae.localDocuments.getDocuments(Ye,Rt):pn.resolve(null)))}(h.localStore,e);var G;null!==b?("pending"===t?yield id(h.remoteStore):"acknowledged"===t||"rejected"===t?(cp(h,e,a||null),Bg(h,e),G=e,Bn(Bn(h.localStore).mutationQueue).Cn(G)):Rr(),yield Au(h,b)):Hn("SyncEngine","Cannot apply mutation batch with id: "+e)}),zg.apply(this,arguments)}function Hg(){return Hg=(0,d.Z)(function*(i,e){const t=Bn(i);if(Zd(t),Gg(t),!0===e&&!0!==t.vc){const a=t.sharedClientState.getAllActiveQueryTargets(),h=yield Ov(t,a.toArray());t.vc=!0,yield sp(t.remoteStore,!0);for(const b of h)tp(t.remoteStore,b)}else if(!1===e&&!1!==t.vc){const a=[];let h=Promise.resolve();t._c.forEach((b,T)=>{t.sharedClientState.isLocalQueryTarget(T)?a.push(T):h=h.then(()=>(Yd(t,T),zd(t.localStore,T,!0))),Zh(t.remoteStore,T)}),yield h,yield Ov(t,a),function(b){const T=Bn(b);T.yc.forEach((G,ae)=>{Zh(T.remoteStore,ae)}),T.Ic.Ts(),T.yc=new Map,T.gc=new Vr(gr.comparator)}(t),t.vc=!1,yield sp(t.remoteStore,!1)}}),Hg.apply(this,arguments)}function Ov(i,e,t){return pp.apply(this,arguments)}function pp(){return pp=(0,d.Z)(function*(i,e,t){const a=Bn(i),h=[],b=[];for(const T of e){let G;const ae=a._c.get(T);if(ae&&0!==ae.length){G=yield Ju(a.localStore,We(ae[0]));for(const we of ae){const Ye=a.wc.get(we),Rt=yield Vg(a,Ye);Rt.snapshot&&b.push(Rt.snapshot)}}else{const we=yield lg(a.localStore,T);G=yield Ju(a.localStore,we),yield dy(a,my(we),T,!1,G.resumeToken)}h.push(G)}return a.dc.nu(b),h}),pp.apply(this,arguments)}function my(i){return Ed(i.path,i.collectionGroup,i.orderBy,i.filters,i.limit,"F",i.startAt,i.endAt)}function gp(i){const e=Bn(i);return Bn(Bn(e.localStore).persistence).$i()}function af(i,e,t,a){return qd.apply(this,arguments)}function qd(){return qd=(0,d.Z)(function*(i,e,t,a){const h=Bn(i);if(h.vc)return void Hn("SyncEngine","Ignoring unexpected query state notification.");const b=h._c.get(e);if(b&&b.length>0)switch(t){case"current":case"not-current":{const T=yield jm(h.localStore,nl(b[0])),G=zu.createSynthesizedRemoteEventForCurrentChange(e,"current"===t,ns.EMPTY_BYTE_STRING);yield Au(h,T,G);break}case"rejected":yield zd(h.localStore,e,!0),Yd(h,e,a);break;default:Rr()}}),qd.apply(this,arguments)}function m0(i,e,t){return Wg.apply(this,arguments)}function Wg(){return Wg=(0,d.Z)(function*(i,e,t){const a=Zd(i);if(a.vc){for(const h of e){if(a._c.has(h)){Hn("SyncEngine","Adding an already active target "+h);continue}const b=yield lg(a.localStore,h),T=yield Ju(a.localStore,b);yield dy(a,my(b),T.targetId,!1,T.resumeToken),tp(a.remoteStore,T)}for(const h of t)a._c.has(h)&&(yield zd(a.localStore,h,!1).then(()=>{Zh(a.remoteStore,h),Yd(a,h)}).catch(Ko))}}),Wg.apply(this,arguments)}function Zd(i){const e=Bn(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=Rg.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=gy.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=kg.bind(null,e),e.dc.nu=Cg.bind(null,e.eventManager),e.dc.Pc=Iv.bind(null,e.eventManager),e}function Gg(i){const e=Bn(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=xv.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Mv.bind(null,e),e}class lf{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,d.Z)(function*(){t.serializer=Hd(e.databaseInfo.databaseId),t.sharedClientState=t.createSharedClientState(e),t.persistence=t.createPersistence(e),yield t.persistence.start(),t.localStore=t.createLocalStore(e),t.gcScheduler=t.createGarbageCollectionScheduler(e,t.localStore),t.indexBackfillerScheduler=t.createIndexBackfillerScheduler(e,t.localStore)})()}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return Vd(this.persistence,new Uh,e.initialUser,this.serializer)}createPersistence(e){return new rg(ig.zs,this.serializer)}createSharedClientState(e){return new Gm}terminate(){var e=this;return(0,d.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class Yg extends lf{constructor(e,t,a){super(),this.Vc=e,this.cacheSizeBytes=t,this.forceOwnership=a,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,a=this;return(0,d.Z)(function*(){yield t().call(a,e),yield a.Vc.initialize(a,e),yield Gg(a.Vc.syncEngine),yield id(a.Vc.remoteStore),yield a.persistence.Ii(()=>(a.gcScheduler&&!a.gcScheduler.started&&a.gcScheduler.start(),a.indexBackfillerScheduler&&!a.indexBackfillerScheduler.started&&a.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(e){return Vd(this.persistence,new Uh,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,t){return new Iu(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}createIndexBackfillerScheduler(e,t){const a=new q(t,this.persistence);return new R(e.asyncQueue,a)}createPersistence(e){const t=Qu(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),a=void 0!==this.cacheSizeBytes?Za.withCacheSize(this.cacheSizeBytes):Za.DEFAULT;return new sg(this.synchronizeTabs,t,e.clientId,a,e.asyncQueue,qm(),Yh(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new Gm}}class Xd extends Yg{constructor(e,t){super(e,t,!1),this.Vc=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,a=this;return(0,d.Z)(function*(){yield t().call(a,e);const h=a.Vc.syncEngine;a.sharedClientState instanceof Wm&&(a.sharedClientState.syncEngine={jr:jg.bind(null,h),zr:af.bind(null,h),Wr:m0.bind(null,h),$i:gp.bind(null,h),Qr:Pv.bind(null,h)},yield a.sharedClientState.start()),yield a.persistence.Ii(function(){var b=(0,d.Z)(function*(T){yield function Rv(i,e){return Hg.apply(this,arguments)}(a.Vc.syncEngine,T),a.gcScheduler&&(T&&!a.gcScheduler.started?a.gcScheduler.start():T||a.gcScheduler.stop()),a.indexBackfillerScheduler&&(T&&!a.indexBackfillerScheduler.started?a.indexBackfillerScheduler.start():T||a.indexBackfillerScheduler.stop())});return function(T){return b.apply(this,arguments)}}())})()}createSharedClientState(e){const t=qm();if(!Wm.D(t))throw new Zn(Dn.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const a=Qu(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Wm(t,e.asyncQueue,a,e.clientId,e.initialUser)}}class Qd{initialize(e,t){var a=this;return(0,d.Z)(function*(){a.localStore||(a.localStore=e.localStore,a.sharedClientState=e.sharedClientState,a.datastore=a.createDatastore(t),a.remoteStore=a.createRemoteStore(t),a.eventManager=a.createEventManager(t),a.syncEngine=a.createSyncEngine(t,!e.synchronizeTabs),a.sharedClientState.onlineStateHandler=h=>fy(a.syncEngine,h,1),a.remoteStore.remoteSyncer.handleCredentialChange=py.bind(null,a.syncEngine),yield sp(a.remoteStore,a.syncEngine.isPrimaryClient))})()}createEventManager(e){return new oy}createDatastore(e){const t=Hd(e.databaseInfo.databaseId),a=new _v(e.databaseInfo);return new fg(e.authCredentials,e.appCheckCredentials,a,t)}createRemoteStore(e){return t=this.localStore,a=this.datastore,h=e.asyncQueue,b=G=>fy(this.syncEngine,G,0),T=Km.D()?new Km:new Kh,new Jf(t,a,h,b,T);var t,a,h,b,T}createSyncEngine(e,t){return function(a,h,b,T,G,ae,we){const Ye=new Ul(a,h,b,T,G,ae);return we&&(Ye.vc=!0),Ye}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,d.Z)(function*(t){const a=Bn(t);Hn("RemoteStore","RemoteStore shutting down."),a.vu.add(5),yield nd(a),a.Pu.shutdown(),a.bu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function qg(i,e=10240){let t=0;return{read:()=>(0,d.Z)(function*(){if(t<i.byteLength){const a={value:i.slice(t,t+e),done:!1};return t+=e,a}return{done:!0}})(),cancel:()=>(0,d.Z)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class cf{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):Bi("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class Nv{constructor(e,t){this.Cc=e,this.serializer=t,this.metadata=new Ds,this.buffer=new Uint8Array,this.xc=new TextDecoder("utf-8"),this.Nc().then(a=>{a&&a.Qu()?this.metadata.resolve(a.Gu.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==a?void 0:a.Gu)}`))},a=>this.metadata.reject(a))}close(){return this.Cc.cancel()}getMetadata(){var e=this;return(0,d.Z)(function*(){return e.metadata.promise})()}bc(){var e=this;return(0,d.Z)(function*(){return yield e.getMetadata(),e.Nc()})()}Nc(){var e=this;return(0,d.Z)(function*(){const t=yield e.kc();if(null===t)return null;const a=e.xc.decode(t),h=Number(a);isNaN(h)&&e.Mc(`length string (${a}) is not valid number`);const b=yield e.$c(h);return new ay(JSON.parse(b),t.length+h)})()}Oc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}kc(){var e=this;return(0,d.Z)(function*(){for(;e.Oc()<0&&!(yield e.Fc()););if(0===e.buffer.length)return null;const t=e.Oc();t<0&&e.Mc("Reached the end of bundle when a length string is expected.");const a=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),a})()}$c(e){var t=this;return(0,d.Z)(function*(){for(;t.buffer.length<e;)(yield t.Fc())&&t.Mc("Reached the end of bundle when more is expected.");const a=t.xc.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),a})()}Mc(e){throw this.Cc.cancel(),new Error(`Invalid bundle format: ${e}`)}Fc(){var e=this;return(0,d.Z)(function*(){const t=yield e.Cc.read();if(!t.done){const a=new Uint8Array(e.buffer.length+t.value.length);a.set(e.buffer),a.set(t.value,e.buffer.length),e.buffer=a}return t.done})()}}class Fv{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,d.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new Zn(Dn.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const a=yield(h=(0,d.Z)(function*(b,T){const G=Bn(b),ae=Sc(G.serializer)+"/documents",we={documents:T.map($n=>ka(G.serializer,$n))},Ye=yield G.vo("BatchGetDocuments",ae,we,T.length),Rt=new Map;Ye.forEach($n=>{const Dr=function jp(i,e){return"found"in e?function(t,a){si(!!a.found);const h=Ca(t,a.found.name),b=Oa(a.found.updateTime),T=a.found.createTime?Oa(a.found.createTime):ti.min(),G=new Wo({mapValue:{fields:a.found.fields}});return Fo.newFoundDocument(h,b,T,G)}(i,e):"missing"in e?function(t,a){si(!!a.missing),si(!!a.readTime);const h=Ca(t,a.missing),b=Oa(a.readTime);return Fo.newNoDocument(h,b)}(i,e):Rr()}(G.serializer,$n);Rt.set(Dr.key.toString(),Dr)});const bn=[];return T.forEach($n=>{const Dr=Rt.get($n.toString());si(!!Dr),bn.push(Dr)}),bn}),function(b,T){return h.apply(this,arguments)})(t.datastore,e);var h;return a.forEach(h=>t.recordVersion(h)),a})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(a){this.lastWriteError=a}this.writtenDocs.add(e.toString())}delete(e){this.write(new wc(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,d.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var a;e.mutations.forEach(a=>{t.delete(a.key.toString())}),t.forEach((a,h)=>{const b=gr.fromPath(h);e.mutations.push(new pu(b,e.precondition(b)))}),yield(a=(0,d.Z)(function*(h,b){const T=Bn(h),G=Sc(T.serializer)+"/documents",ae={writes:b.map(we=>Wu(T.serializer,we))};yield T.Io("Commit",G,ae)}),function(h,b){return a.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Rr();t=ti.min()}const a=this.readVersions.get(e.key.toString());if(a){if(!t.isEqual(a))throw new Zn(Dn.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(ti.min())?ma.exists(!1):ma.updateTime(t):ma.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(ti.min()))throw new Zn(Dn.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return ma.updateTime(t)}return ma.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class uf{constructor(e,t,a,h,b){this.asyncQueue=e,this.datastore=t,this.options=a,this.updateFunction=h,this.deferred=b,this.Bc=a.maxAttempts,this.qo=new qh(this.asyncQueue,"transaction_retry")}run(){this.Bc-=1,this.Lc()}Lc(){var e=this;this.qo.No((0,d.Z)(function*(){const t=new Fv(e.datastore),a=e.qc(t);a&&a.then(h=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(h)}).catch(b=>{e.Uc(b)}))}).catch(h=>{e.Uc(h)})}))}qc(e){try{const t=this.updateFunction(e);return!Xe(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Uc(e){this.Bc>0&&this.Kc(e)?(this.Bc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Lc(),Promise.resolve()))):this.deferred.reject(e)}Kc(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!Uu(t)}return!1}}class Lv{constructor(e,t,a,h){var b=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=a,this.databaseInfo=h,this.user=ei.UNAUTHENTICATED,this.clientId=ll.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(a,function(){var T=(0,d.Z)(function*(G){Hn("FirestoreClient","Received user=",G.uid),yield b.authCredentialListener(G),b.user=G});return function(G){return T.apply(this,arguments)}}()),this.appCheckCredentials.start(a,T=>(Hn("FirestoreClient","Received new app check token=",T),this.appCheckCredentialListener(T,this.user)))}getConfiguration(){var e=this;return(0,d.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Zn(Dn.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Ds;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,d.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(a){const h=Kd(a,"Failed to shutdown persistence");t.reject(h)}})),t.promise}}function Zg(i,e){return Xg.apply(this,arguments)}function Xg(){return Xg=(0,d.Z)(function*(i,e){i.asyncQueue.verifyOperationInProgress(),Hn("FirestoreClient","Initializing OfflineComponentProvider");const t=yield i.getConfiguration();yield e.initialize(t);let a=t.initialUser;i.setCredentialChangeListener(function(){var h=(0,d.Z)(function*(b){a.isEqual(b)||(yield Ud(e.localStore,b),a=b)});return function(b){return h.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>i.terminate()),i._offlineComponents=e}),Xg.apply(this,arguments)}function Qg(i,e){return Jg.apply(this,arguments)}function Jg(){return Jg=(0,d.Z)(function*(i,e){i.asyncQueue.verifyOperationInProgress();const t=yield em(i);Hn("FirestoreClient","Initializing OnlineComponentProvider");const a=yield i.getConfiguration();yield e.initialize(t,a),i.setCredentialChangeListener(h=>sy(e.remoteStore,h)),i.setAppCheckTokenChangeListener((h,b)=>sy(e.remoteStore,b)),i._onlineComponents=e}),Jg.apply(this,arguments)}function yy(i){return"FirebaseError"===i.name?i.code===Dn.FAILED_PRECONDITION||i.code===Dn.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||22===i.code||20===i.code||11===i.code}function em(i){return tm.apply(this,arguments)}function tm(){return tm=(0,d.Z)(function*(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){Hn("FirestoreClient","Using user provided OfflineComponentProvider");try{yield Zg(i,i._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!yy(t))throw t;Ho("Error using user provided cache. Falling back to memory cache: "+t),yield Zg(i,new lf)}}else Hn("FirestoreClient","Using default OfflineComponentProvider"),yield Zg(i,new lf);return i._offlineComponents}),tm.apply(this,arguments)}function mp(i){return yp.apply(this,arguments)}function yp(){return yp=(0,d.Z)(function*(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(Hn("FirestoreClient","Using user provided OnlineComponentProvider"),yield Qg(i,i._uninitializedComponentsProvider._online)):(Hn("FirestoreClient","Using default OnlineComponentProvider"),yield Qg(i,new Qd))),i._onlineComponents}),yp.apply(this,arguments)}function vp(i){return em(i).then(e=>e.persistence)}function _p(i){return em(i).then(e=>e.localStore)}function bp(i){return mp(i).then(e=>e.remoteStore)}function nm(i){return mp(i).then(e=>e.syncEngine)}function Jd(i){return rm.apply(this,arguments)}function rm(){return rm=(0,d.Z)(function*(i){const e=yield mp(i),t=e.eventManager;return t.onListen=Tv.bind(null,e.syncEngine),t.onUnlisten=hy.bind(null,e.syncEngine),t}),rm.apply(this,arguments)}function im(i,e,t={}){const a=new Ds;return i.asyncQueue.enqueueAndForget((0,d.Z)(function*(){return function(h,b,T,G,ae){const we=new cf({next:Rt=>{b.enqueueAndForget(()=>tf(h,Ye));const bn=Rt.docs.has(T);!bn&&Rt.fromCache?ae.reject(new Zn(Dn.UNAVAILABLE,"Failed to get document because the client is offline.")):bn&&Rt.fromCache&&G&&"server"===G.source?ae.reject(new Zn(Dn.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):ae.resolve(Rt)},error:Rt=>ae.reject(Rt)}),Ye=new Sg(Hl(T.path),we,{includeMetadataChanges:!0,Ku:!0});return Jh(h,Ye)}(yield Jd(i),i.asyncQueue,e,t,a)})),a.promise}function by(i,e,t={}){const a=new Ds;return i.asyncQueue.enqueueAndForget((0,d.Z)(function*(){return function(h,b,T,G,ae){const we=new cf({next:Rt=>{b.enqueueAndForget(()=>tf(h,Ye)),Rt.fromCache&&"server"===G.source?ae.reject(new Zn(Dn.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):ae.resolve(Rt)},error:Rt=>ae.reject(Rt)}),Ye=new Sg(T,we,{includeMetadataChanges:!0,Ku:!0});return Jh(h,Ye)}(yield Jd(i),i.asyncQueue,e,t,a)})),a.promise}function wy(i){const e={};return void 0!==i.timeoutSeconds&&(e.timeoutSeconds=i.timeoutSeconds),e}const Iy=new Map;function df(i,e,t){if(!t)throw new Zn(Dn.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function Cy(i,e,t,a){if(!0===e&&!0===a)throw new Zn(Dn.INVALID_ARGUMENT,`${i} and ${t} cannot be used together.`)}function pc(i){if(!gr.isDocumentKey(i))throw new Zn(Dn.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function eh(i){if(gr.isDocumentKey(i))throw new Zn(Dn.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function sl(i){if(void 0===i)return"undefined";if(null===i)return"null";if("string"==typeof i)return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if("number"==typeof i||"boolean"==typeof i)return""+i;if("object"==typeof i){if(i instanceof Array)return"an array";{const e=(t=i).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof i?"a function":Rr()}function ro(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new Zn(Dn.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=sl(i);throw new Zn(Dn.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return i}function hf(i,e){if(e<=0)throw new Zn(Dn.INVALID_ARGUMENT,`Function ${i}() requires a positive number, but it was: ${e}.`)}class jl{constructor(e){var t,a;if(void 0===e.host){if(void 0!==e.ssl)throw new Zn(Dn.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Zn(Dn.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Cy("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=wy(null!==(a=e.experimentalLongPollingOptions)&&void 0!==a?a:{}),function(h){if(void 0!==h.timeoutSeconds){if(isNaN(h.timeoutSeconds))throw new Zn(Dn.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (must not be NaN)`);if(h.timeoutSeconds<5)throw new Zn(Dn.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (minimum allowed value is 5)`);if(h.timeoutSeconds>30)throw new Zn(Dn.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class od{constructor(e,t,a,h){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=a,this._app=h,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new jl({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Zn(Dn.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Zn(Dn.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new jl(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new Fa;switch(t.type){case"firstParty":return new ta(t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new Zn(Dn.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=Iy.get(e);t&&(Hn("ComponentProvider","Removing Datastore"),Iy.delete(e),t.terminate())}(this),Promise.resolve()}}function ad(i,e,t,a={}){var h;const b=(i=ro(i,od))._getSettings();if("firestore.googleapis.com"!==b.host&&b.host!==e&&Ho("Host has been set in both settings() and useEmulator(), emulator host will be used"),i._setSettings(Object.assign(Object.assign({},b),{host:`${e}:${t}`,ssl:!1})),a.mockUserToken){let T,G;if("string"==typeof a.mockUserToken)T=a.mockUserToken,G=ei.MOCK_USER;else{T=(0,qe.Sg)(a.mockUserToken,null===(h=i._app)||void 0===h?void 0:h.options.projectId);const ae=a.mockUserToken.sub||a.mockUserToken.user_id;if(!ae)throw new Zn(Dn.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");G=new ei(ae)}i._authCredentials=new _a(new aa(T,G))}}class fa{constructor(e,t,a){this.converter=t,this._key=a,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Tl(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new fa(this.firestore,e,this._key)}}class za{constructor(e,t,a){this.converter=t,this._query=a,this.type="query",this.firestore=e}withConverter(e){return new za(this.firestore,e,this._query)}}class Tl extends za{constructor(e,t,a){super(e,t,Hl(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new fa(this.firestore,null,new gr(e))}withConverter(e){return new Tl(this.firestore,e,this._path)}}function th(i,e,...t){if(i=(0,qe.m9)(i),df("collection","path",e),i instanceof od){const a=as.fromString(e,...t);return eh(a),new Tl(i,null,a)}{if(!(i instanceof fa||i instanceof Tl))throw new Zn(Dn.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=i._path.child(as.fromString(e,...t));return eh(a),new Tl(i.firestore,null,a)}}function nh(i,e){if(i=ro(i,od),df("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Zn(Dn.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new za(i,null,(t=e,new qa(as.emptyPath(),t)));var t}function ld(i,e,...t){if(i=(0,qe.m9)(i),1===arguments.length&&(e=ll.A()),df("doc","path",e),i instanceof od){const a=as.fromString(e,...t);return pc(a),new fa(i,null,new gr(a))}{if(!(i instanceof fa||i instanceof Tl))throw new Zn(Dn.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=i._path.child(as.fromString(e,...t));return pc(a),new fa(i.firestore,i instanceof Tl?i.converter:null,new gr(a))}}function rh(i,e){return i=(0,qe.m9)(i),e=(0,qe.m9)(e),(i instanceof fa||i instanceof Tl)&&(e instanceof fa||e instanceof Tl)&&i.firestore===e.firestore&&i.path===e.path&&i.converter===e.converter}function xu(i,e){return i=(0,qe.m9)(i),e=(0,qe.m9)(e),i instanceof za&&e instanceof za&&i.firestore===e.firestore&&_r(i._query,e._query)&&i.converter===e.converter}class Dy{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new qh(this,"async_queue_retry"),this.Xc=()=>{const t=Yh();t&&Hn("AsyncQueue","Visibility state changed to "+t.visibilityState),this.qo.Mo()};const e=Yh();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const t=Yh();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const t=new Ds;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}ea(){var e=this;return(0,d.Z)(function*(){if(0!==e.Qc.length){try{yield e.Qc[0](),e.Qc.shift(),e.qo.reset()}catch(t){if(!Xo(t))throw t;Hn("AsyncQueue","Operation failed with retryable error: "+t)}e.Qc.length>0&&e.qo.No(()=>e.ea())}})()}ta(e){const t=this.Gc.then(()=>(this.Hc=!0,e().catch(a=>{throw this.Wc=a,this.Hc=!1,Bi("INTERNAL UNHANDLED ERROR: ",function(b){let T=b.message||"";return b.stack&&(T=b.stack.includes(b.message)?b.stack:b.message+"\n"+b.stack),T}(a)),a}).then(a=>(this.Hc=!1,a))));return this.Gc=t,t}enqueueAfterDelay(e,t,a){this.Zc(),this.Yc.indexOf(e)>-1&&(t=0);const h=ap.createAndSchedule(this,e,t,a,b=>this.na(b));return this.zc.push(h),h}Zc(){this.Wc&&Rr()}verifyOperationInProgress(){}sa(){var e=this;return(0,d.Z)(function*(){let t;do{t=e.Gc,yield t}while(t!==e.Gc)})()}ia(e){for(const t of this.zc)if(t.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((t,a)=>t.targetTimeMs-a.targetTimeMs);for(const t of this.zc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const t=this.zc.indexOf(e);this.zc.splice(t,1)}}function wp(i){return function(e,t){if("object"!=typeof e||null===e)return!1;const a=e;for(const h of["next","error","complete"])if(h in a&&"function"==typeof a[h])return!0;return!1}(i)}class Sy{constructor(){this._progressObserver={},this._taskCompletionResolver=new Ds,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,a){this._progressObserver={next:e,error:t,complete:a}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}const Ty=-1;class va extends od{constructor(e,t,a,h){super(e,t,a,h),this.type="firestore",this._queue=new Dy,this._persistenceKey=(null==h?void 0:h.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||sm(this),this._firestoreClient.terminate()}}function Ay(i,e){const t="object"==typeof i?i:(0,E.getApp)(),a="string"==typeof i?i:e||"(default)",h=(0,E._getProvider)(t,"firestore").getImmediate({identifier:a});if(!h._initialized){const b=(0,qe.P0)("firestore");b&&ad(h,...b)}return h}function Ha(i){return i._firestoreClient||sm(i),i._firestoreClient.verifyNotTerminated(),i._firestoreClient}function sm(i){var e,t,a;const h=i._freezeSettings(),b=(G=(null===(e=i._app)||void 0===e?void 0:e.options.appId)||"",new Ml(i._databaseId,G,i._persistenceKey,(we=h).host,we.ssl,we.experimentalForceLongPolling,we.experimentalAutoDetectLongPolling,wy(we.experimentalLongPollingOptions),we.useFetchStreams));var G,we;i._firestoreClient=new Lv(i._authCredentials,i._appCheckCredentials,i._queue,b),null!==(t=h.cache)&&void 0!==t&&t._offlineComponentProvider&&null!==(a=h.cache)&&void 0!==a&&a._onlineComponentProvider&&(i._firestoreClient._uninitializedComponentsProvider={_offlineKind:h.cache.kind,_offline:h.cache._offlineComponentProvider,_online:h.cache._onlineComponentProvider})}function om(i,e){xy(i=ro(i,va));const t=Ha(i);if(t._uninitializedComponentsProvider)throw new Zn(Dn.FAILED_PRECONDITION,"SDK cache is already specified.");Ho("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const a=i._freezeSettings(),h=new Qd;return zv(t,h,new Yg(h,a.cacheSizeBytes,null==e?void 0:e.forceOwnership))}function jv(i){xy(i=ro(i,va));const e=Ha(i);if(e._uninitializedComponentsProvider)throw new Zn(Dn.FAILED_PRECONDITION,"SDK cache is already specified.");Ho("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const t=i._freezeSettings(),a=new Qd;return zv(e,a,new Xd(a,t.cacheSizeBytes))}function zv(i,e,t){const a=new Ds;return i.asyncQueue.enqueue((0,d.Z)(function*(){try{yield Zg(i,t),yield Qg(i,e),a.resolve()}catch(h){const b=h;if(!yy(b))throw b;Ho("Error enabling indexeddb cache. Falling back to memory cache: "+b),a.reject(b)}})).then(()=>a.promise)}function _0(i){if(i._initialized&&!i._terminated)throw new Zn(Dn.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Ds;return i._queue.enqueueAndForgetEvenWhileRestricted((0,d.Z)(function*(){try{yield(t=(0,d.Z)(function*(a){if(!ga.D())return Promise.resolve();const h=a+"main";yield ga.delete(h)}),function(a){return t.apply(this,arguments)})(Qu(i._databaseId,i._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}function Hv(i){return function(e){const t=new Ds;return e.asyncQueue.enqueueAndForget((0,d.Z)(function*(){return function Mc(i,e){return rf.apply(this,arguments)}(yield nm(e),t)})),t.promise}(Ha(i=ro(i,va)))}function Wv(i){return function Bv(i){return i.asyncQueue.enqueue((0,d.Z)(function*(){const e=yield vp(i),t=yield bp(i);return e.setNetworkEnabled(!0),function(a){const h=Bn(a);return h.vu.delete(0),Su(h)}(t)}))}(Ha(i=ro(i,va)))}function b0(i){return function $v(i){return i.asyncQueue.enqueue((0,d.Z)(function*(){const e=yield vp(i),t=yield bp(i);return e.setNetworkEnabled(!1),(a=(0,d.Z)(function*(h){const b=Bn(h);b.vu.add(0),yield nd(b),b.bu.set("Offline")}),function(h){return a.apply(this,arguments)})(t);var a}))}(Ha(i=ro(i,va)))}function w0(i,e){const t=Ha(i=ro(i,va)),a=new Sy;return function Ey(i,e,t,a){const h=function(b,T){let G;return G="string"==typeof b?Pf().encode(b):b,ae=function(ae,we){if(ae instanceof Uint8Array)return qg(ae,void 0);if(ae instanceof ArrayBuffer)return qg(new Uint8Array(ae),void 0);if(ae instanceof ReadableStream)return ae.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(G),new Nv(ae,T);var ae}(t,Hd(e));i.asyncQueue.enqueueAndForget((0,d.Z)(function*(){!function kv(i,e,t){const a=Bn(i);var h;(h=(0,d.Z)(function*(b,T,G){try{const ae=yield T.getMetadata();if(yield function(bn,$n){const Dr=Bn(bn),pi=Oa($n.createTime);return Dr.persistence.runTransaction("hasNewerBundle","readonly",Si=>Dr.qs.getBundleMetadata(Si,$n.id)).then(Si=>!!Si&&Si.createTime.compareTo(pi)>=0)}(b.localStore,ae))return yield T.close(),G._completeWith({taskState:"Success",documentsLoaded:(bn=ae).totalDocuments,bytesLoaded:bn.totalBytes,totalDocuments:bn.totalDocuments,totalBytes:bn.totalBytes}),Promise.resolve(new Set);G._updateProgress(cy(ae));const we=new Cv(ae,b.localStore,T.serializer);let Ye=yield T.bc();for(;Ye;){const bn=yield we.zu(Ye);bn&&G._updateProgress(bn),Ye=yield T.bc()}const Rt=yield we.complete();return yield Au(b,Rt.Ju,void 0),yield function(bn,$n){const Dr=Bn(bn);return Dr.persistence.runTransaction("Save bundle","readwrite",pi=>Dr.qs.saveBundleMetadata(pi,$n))}(b.localStore,ae),G._completeWith(Rt.progress),Promise.resolve(Rt.Hu)}catch(ae){return Ho("SyncEngine",`Loading bundle failed with ${ae}`),G._failWith(ae),Promise.resolve(new Set)}var bn}),function(b,T,G){return h.apply(this,arguments)})(a,e,t).then(h=>{a.sharedClientState.notifyBundleLoaded(h)})}(yield nm(i),h,a)}))}(t,i._databaseId,e,a),a}function Gv(i,e){return function v0(i,e){return i.asyncQueue.enqueue((0,d.Z)(function*(){return function(t,a){const h=Bn(t);return h.persistence.runTransaction("Get named query","readonly",b=>h.qs.getNamedQuery(b,a))}(yield _p(i),e)}))}(Ha(i=ro(i,va)),e).then(t=>t?new za(i,null,t.query):null)}function xy(i){if(i._initialized||i._terminated)throw new Zn(Dn.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Yl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Yl(ns.fromBase64String(e))}catch(t){throw new Zn(Dn.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Yl(ns.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Pc{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Zn(Dn.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new gs(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Mu{constructor(e){this._methodName=e}}class Pu{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Zn(Dn.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Zn(Dn.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return $i(this._lat,e._lat)||$i(this._long,e._long)}}const My=/^__.*__$/;class Kv{constructor(e,t,a){this.data=e,this.fieldMask=t,this.fieldTransforms=a}toMutation(e,t){return null!==this.fieldMask?new Gl(e,this.data,this.fieldMask,t,this.fieldTransforms):new Ec(e,this.data,t,this.fieldTransforms)}}class ih{constructor(e,t,a){this.data=e,this.fieldMask=t,this.fieldTransforms=a}toMutation(e,t){return new Gl(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function Py(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Rr()}}class Ip{constructor(e,t,a,h,b,T){this.settings=e,this.databaseId=t,this.serializer=a,this.ignoreUndefinedProperties=h,void 0===b&&this.ua(),this.fieldTransforms=b||[],this.fieldMask=T||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new Ip(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var t;const a=null===(t=this.path)||void 0===t?void 0:t.child(e),h=this.aa({path:a,la:!1});return h.fa(e),h}da(e){var t;const a=null===(t=this.path)||void 0===t?void 0:t.child(e),h=this.aa({path:a,la:!1});return h.ua(),h}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return mf(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if(Py(this.ca)&&My.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class Yv{constructor(e,t,a){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=a||Hd(e)}ya(e,t,a,h=!1){return new Ip({ca:e,methodName:t,ga:a,path:gs.emptyPath(),la:!1,ma:h},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function cd(i){const e=i._freezeSettings(),t=Hd(i._databaseId);return new Yv(i._databaseId,!!e.ignoreUndefinedProperties,t)}function sh(i,e,t,a,h,b={}){const T=i.ya(b.merge||b.mergeFields?2:0,e,t,h);Dp("Data must be an object, but it was:",T,a);const G=dm(a,T);let ae,we;if(b.merge)ae=new Ir(T.fieldMask),we=T.fieldTransforms;else if(b.mergeFields){const Ye=[];for(const Rt of b.mergeFields){const bn=gf(e,Rt,t);if(!T.contains(bn))throw new Zn(Dn.INVALID_ARGUMENT,`Field '${bn}' is specified in your field mask but missing from your input data.`);Tp(Ye,bn)||Ye.push(bn)}ae=new Ir(Ye),we=T.fieldTransforms.filter(Rt=>ae.covers(Rt.field))}else ae=null,we=T.fieldTransforms;return new Kv(new Wo(G),ae,we)}class Ru extends Mu{_toFieldTransform(e){if(2!==e.ca)throw e._a(1===e.ca?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Ru}}function pf(i,e,t){return new Ip({ca:3,ga:e.settings.ga,methodName:i._methodName,la:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class Ry extends Mu{_toFieldTransform(e){return new Lu(e.path,new Ia)}isEqual(e){return e instanceof Ry}}class qv extends Mu{constructor(e,t){super(e),this.pa=t}_toFieldTransform(e){const t=pf(this,e,!0),a=this.pa.map(b=>ud(b,t)),h=new kl(a);return new Lu(e.path,h)}isEqual(e){return this===e}}class Zv extends Mu{constructor(e,t){super(e),this.pa=t}_toFieldTransform(e){const t=pf(this,e,!0),a=this.pa.map(b=>ud(b,t)),h=new lc(a);return new Lu(e.path,h)}isEqual(e){return this===e}}class cm extends Mu{constructor(e,t){super(e),this.Ia=t}_toFieldTransform(e){const t=new rl(e.serializer,Tf(e.serializer,this.Ia));return new Lu(e.path,t)}isEqual(e){return this===e}}function um(i,e,t,a){const h=i.ya(1,e,t);Dp("Data must be an object, but it was:",h,a);const b=[],T=Wo.empty();fi(a,(ae,we)=>{const Ye=Sp(e,ae,t);we=(0,qe.m9)(we);const Rt=h.da(Ye);if(we instanceof Ru)b.push(Ye);else{const bn=ud(we,Rt);null!=bn&&(b.push(Ye),T.set(Ye,bn))}});const G=new Ir(b);return new ih(T,G,h.fieldTransforms)}function Cp(i,e,t,a,h,b){const T=i.ya(1,e,t),G=[gf(e,a,t)],ae=[h];if(b.length%2!=0)throw new Zn(Dn.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let bn=0;bn<b.length;bn+=2)G.push(gf(e,b[bn])),ae.push(b[bn+1]);const we=[],Ye=Wo.empty();for(let bn=G.length-1;bn>=0;--bn)if(!Tp(we,G[bn])){const $n=G[bn];let Dr=ae[bn];Dr=(0,qe.m9)(Dr);const pi=T.da($n);if(Dr instanceof Ru)we.push($n);else{const Si=ud(Dr,pi);null!=Si&&(we.push($n),Ye.set($n,Si))}}const Rt=new Ir(we);return new ih(Ye,Rt,T.fieldTransforms)}function Oy(i,e,t,a=!1){return ud(t,i.ya(a?4:3,e))}function ud(i,e){if(hm(i=(0,qe.m9)(i)))return Dp("Unsupported field value:",e,i),dm(i,e);if(i instanceof Mu)return function(t,a){if(!Py(a.ca))throw a._a(`${t._methodName}() can only be used with update() and set()`);if(!a.path)throw a._a(`${t._methodName}() is not currently supported inside arrays`);const h=t._toFieldTransform(a);h&&a.fieldTransforms.push(h)}(i,e),null;if(void 0===i&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.la&&4!==e.ca)throw e._a("Nested arrays are not supported");return function(t,a){const h=[];let b=0;for(const T of t){let G=ud(T,a.wa(b));null==G&&(G={nullValue:"NULL_VALUE"}),h.push(G),b++}return{arrayValue:{values:h}}}(i,e)}return function(t,a){if(null===(t=(0,qe.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return Tf(a.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const h=ps.fromDate(t);return{timestampValue:Cc(a.serializer,h)}}if(t instanceof ps){const h=new ps(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Cc(a.serializer,h)}}if(t instanceof Pu)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Yl)return{bytesValue:xd(a.serializer,t._byteString)};if(t instanceof fa){const h=a.databaseId,b=t.firestore._databaseId;if(!b.isEqual(h))throw a._a(`Document reference is for database ${b.projectId}/${b.database} but should be for database ${h.projectId}/${h.database}`);return{referenceValue:Md(t.firestore._databaseId||a.databaseId,t._key.path)}}throw a._a(`Unsupported field value: ${sl(t)}`)}(i,e)}function dm(i,e){const t={};return Oi(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):fi(i,(a,h)=>{const b=ud(h,e.ha(a));null!=b&&(t[a]=b)}),{mapValue:{fields:t}}}function hm(i){return!("object"!=typeof i||null===i||i instanceof Array||i instanceof Date||i instanceof ps||i instanceof Pu||i instanceof Yl||i instanceof fa||i instanceof Mu)}function Dp(i,e,t){if(!hm(t)||"object"!=typeof(a=t)||null===a||Object.getPrototypeOf(a)!==Object.prototype&&null!==Object.getPrototypeOf(a)){const a=sl(t);throw e._a("an object"===a?i+" a custom object":i+" "+a)}var a}function gf(i,e,t){if((e=(0,qe.m9)(e))instanceof Pc)return e._internalPath;if("string"==typeof e)return Sp(i,e);throw mf("Field path arguments must be of type string or ",i,!1,void 0,t)}const Xv=new RegExp("[~\\*/\\[\\]]");function Sp(i,e,t){if(e.search(Xv)>=0)throw mf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,t);try{return new Pc(...e.split("."))._internalPath}catch{throw mf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,t)}}function mf(i,e,t,a,h){const b=a&&!a.isEmpty(),T=void 0!==h;let G=`Function ${e}() called with invalid data`;t&&(G+=" (via `toFirestore()`)"),G+=". ";let ae="";return(b||T)&&(ae+=" (found",b&&(ae+=` in field ${a}`),T&&(ae+=` in document ${h}`),ae+=")"),new Zn(Dn.INVALID_ARGUMENT,G+i+ae)}function Tp(i,e){return i.some(t=>t.isEqual(e))}class dd{constructor(e,t,a,h,b){this._firestore=e,this._userDataWriter=t,this._key=a,this._document=h,this._converter=b}get id(){return this._key.path.lastSegment()}get ref(){return new fa(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Qv(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(hd("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class Qv extends dd{data(){return super.data()}}function hd(i,e){return"string"==typeof e?Sp(i,e):e instanceof Pc?e._internalPath:e._delegate._internalPath}function yf(i){if("L"===i.limitType&&0===i.explicitOrderBy.length)throw new Zn(Dn.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class vf{}class oh extends vf{}function Jv(i,e,...t){let a=[];e instanceof vf&&a.push(e),a=a.concat(t),function(h){const b=h.filter(G=>G instanceof Ou).length,T=h.filter(G=>G instanceof _f).length;if(b>1||b>0&&T>0)throw new Zn(Dn.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(a);for(const h of a)i=h._apply(i);return i}class _f extends oh{constructor(e,t,a){super(),this._field=e,this._op=t,this._value=a,this.type="where"}static _create(e,t,a){return new _f(e,t,a)}_apply(e){const t=this._parse(e);return ym(e._query,t),new za(e.firestore,e.converter,on(e._query,t))}_parse(e){const t=cd(e.firestore);return function(h,b,T,G,ae,we,Ye){let Rt;if(ae.isKeyField()){if("array-contains"===we||"array-contains-any"===we)throw new Zn(Dn.INVALID_ARGUMENT,`Invalid Query. You can't perform '${we}' queries on documentId().`);if("in"===we||"not-in"===we){Vy(Ye,we);const bn=[];for(const $n of Ye)bn.push(mm(G,h,$n));Rt={arrayValue:{values:bn}}}else Rt=mm(G,h,Ye)}else"in"!==we&&"not-in"!==we&&"array-contains-any"!==we||Vy(Ye,we),Rt=Oy(T,"where",Ye,"in"===we||"not-in"===we);return co.create(ae,we,Rt)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}function e_(i,e,t){const a=e,h=hd("where",i);return _f._create(h,a,t)}class Ou extends vf{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Ou(e,t)}_parse(e){const t=this._queryConstraints.map(a=>a._parse(e)).filter(a=>a.getFilters().length>0);return 1===t.length?t[0]:Uo.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(a,h){let b=a;const T=h.getFlattenedFilters();for(const G of T)ym(b,G),b=on(b,G)}(e._query,t),new za(e.firestore,e.converter,on(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class Ap extends oh{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Ap(e,t)}_apply(e){const t=function(a,h,b){if(null!==a.startAt)throw new Zn(Dn.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==a.endAt)throw new Zn(Dn.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const T=new nc(h,b);return function(G,ae){if(null===C(G)){const we=x(G);null!==we&&vm(0,we,ae.field)}}(a,T),T}(e._query,this._field,this._direction);return new za(e.firestore,e.converter,function(a,h){const b=a.explicitOrderBy.concat([h]);return new qa(a.path,a.collectionGroup,b,a.filters.slice(),a.limit,a.limitType,a.startAt,a.endAt)}(e._query,t))}}function t_(i,e="asc"){const t=e,a=hd("orderBy",i);return Ap._create(a,t)}class xp extends oh{constructor(e,t,a){super(),this.type=e,this._limit=t,this._limitType=a}static _create(e,t,a){return new xp(e,t,a)}_apply(e){return new za(e.firestore,e.converter,xn(e._query,this._limit,this._limitType))}}function Fy(i){return hf("limit",i),xp._create("limit",i,"F")}function fm(i){return hf("limitToLast",i),xp._create("limitToLast",i,"L")}class bf extends oh{constructor(e,t,a){super(),this.type=e,this._docOrFields=t,this._inclusive=a}static _create(e,t,a){return new bf(e,t,a)}_apply(e){const t=gm(e,this.type,this._docOrFields,this._inclusive);return new za(e.firestore,e.converter,(h=t,new qa((a=e._query).path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),a.limit,a.limitType,h,a.endAt)));var a,h}}function pm(...i){return bf._create("startAt",i,!0)}function Ly(...i){return bf._create("startAfter",i,!1)}class Mp extends oh{constructor(e,t,a){super(),this.type=e,this._docOrFields=t,this._inclusive=a}static _create(e,t,a){return new Mp(e,t,a)}_apply(e){const t=gm(e,this.type,this._docOrFields,this._inclusive);return new za(e.firestore,e.converter,(h=t,new qa((a=e._query).path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),a.limit,a.limitType,a.startAt,h)));var a,h}}function By(...i){return Mp._create("endBefore",i,!1)}function $y(...i){return Mp._create("endAt",i,!0)}function gm(i,e,t,a){if(t[0]=(0,qe.m9)(t[0]),t[0]instanceof dd)return function(h,b,T,G,ae){if(!G)throw new Zn(Dn.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${T}().`);const we=[];for(const Ye of Ie(h))if(Ye.field.isKeyField())we.push(Jl(b,G.key));else{const Rt=G.data.field(Ye.field);if(wa(Rt))throw new Zn(Dn.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+Ye.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===Rt){const bn=Ye.field.canonicalString();throw new Zn(Dn.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${bn}' (used as the orderBy) does not exist.`)}we.push(Rt)}return new ba(we,ae)}(i._query,i.firestore._databaseId,e,t[0]._document,a);{const h=cd(i.firestore);return function(b,T,G,ae,we,Ye){const Rt=b.explicitOrderBy;if(we.length>Rt.length)throw new Zn(Dn.INVALID_ARGUMENT,`Too many arguments provided to ${ae}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const bn=[];for(let $n=0;$n<we.length;$n++){const Dr=we[$n];if(Rt[$n].field.isKeyField()){if("string"!=typeof Dr)throw new Zn(Dn.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${ae}(), but got a ${typeof Dr}`);if(!W(b)&&-1!==Dr.indexOf("/"))throw new Zn(Dn.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${ae}() must be a plain document ID, but '${Dr}' contains a slash.`);const pi=b.path.child(as.fromString(Dr));if(!gr.isDocumentKey(pi))throw new Zn(Dn.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${ae}() must result in a valid document path, but '${pi}' is not because it contains an odd number of segments.`);const Si=new gr(pi);bn.push(Jl(T,Si))}else{const pi=Oy(G,ae,Dr);bn.push(pi)}}return new ba(bn,Ye)}(i._query,i.firestore._databaseId,h,e,t,a)}}function mm(i,e,t){if("string"==typeof(t=(0,qe.m9)(t))){if(""===t)throw new Zn(Dn.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!W(e)&&-1!==t.indexOf("/"))throw new Zn(Dn.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const a=e.path.child(as.fromString(t));if(!gr.isDocumentKey(a))throw new Zn(Dn.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${a}' is not because it has an odd number of segments (${a.length}).`);return Jl(i,new gr(a))}if(t instanceof fa)return Jl(i,t._key);throw new Zn(Dn.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${sl(t)}.`)}function Vy(i,e){if(!Array.isArray(i)||0===i.length)throw new Zn(Dn.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function ym(i,e){if(e.isInequality()){const a=x(i),h=e.field;if(null!==a&&!a.isEqual(h))throw new Zn(Dn.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${a.toString()}' and '${h.toString()}'`);const b=C(i);null!==b&&vm(0,h,b)}const t=function(a,h){for(const b of a)for(const T of b.getFlattenedFilters())if(h.indexOf(T.op)>=0)return T.op;return null}(i.filters,function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new Zn(Dn.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function vm(i,e,t){if(!t.isEqual(e))throw new Zn(Dn.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class Ef{convertValue(e,t="none"){switch(yl(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ss(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(ls(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Rr()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const a={};return fi(e,(h,b)=>{a[h]=this.convertValue(b,t)}),a}convertGeoPoint(e){return new Pu(Ss(e.latitude),Ss(e.longitude))}convertArray(e,t){return(e.values||[]).map(a=>this.convertValue(a,t))}convertServerTimestamp(e,t){switch(t){case"previous":const a=Va(e);return null==a?null:this.convertValue(a,t);case"estimate":return this.convertTimestamp(Vo(e));default:return null}}convertTimestamp(e){const t=po(e);return new ps(t.seconds,t.nanos)}convertDocumentKey(e,t){const a=as.fromString(e);si(hc(a));const h=new ra(a.get(1),a.get(3)),b=new gr(a.popFirst(5));return h.isEqual(t)||Bi(`Document ${b} contains a document reference within a different database (${h.projectId}/${h.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),b}}function wf(i,e,t){let a;return a=i?t&&(t.merge||t.mergeFields)?i.toFirestore(e,t):i.toFirestore(e):e,a}class Uy extends Ef{constructor(e){super(),this.firestore=e}convertBytes(e){return new Yl(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new fa(this.firestore,null,t)}}class ku{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Rc extends dd{constructor(e,t,a,h,b,T){super(e,t,a,h,T),this._firestore=e,this._firestoreImpl=e,this.metadata=b}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new ql(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const a=this._document.data.field(hd("DocumentSnapshot.get",e));if(null!==a)return this._userDataWriter.convertValue(a,t.serverTimestamps)}}}class ql extends Rc{data(e={}){return super.data(e)}}class fd{constructor(e,t,a,h){this._firestore=e,this._userDataWriter=t,this._snapshot=h,this.metadata=new ku(h.hasPendingWrites,h.fromCache),this.query=a}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(a=>{e.call(t,new ql(this._firestore,this._userDataWriter,a.key,a,new ku(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Zn(Dn.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(a,h){if(a._snapshot.oldDocs.isEmpty()){let b=0;return a._snapshot.docChanges.map(T=>({type:"added",doc:new ql(a._firestore,a._userDataWriter,T.doc.key,T.doc,new ku(a._snapshot.mutatedKeys.has(T.doc.key),a._snapshot.fromCache),a.query.converter),oldIndex:-1,newIndex:b++}))}{let b=a._snapshot.oldDocs;return a._snapshot.docChanges.filter(T=>h||3!==T.type).map(T=>{const G=new ql(a._firestore,a._userDataWriter,T.doc.key,T.doc,new ku(a._snapshot.mutatedKeys.has(T.doc.key),a._snapshot.fromCache),a.query.converter);let ae=-1,we=-1;return 0!==T.type&&(ae=b.indexOf(T.doc.key),b=b.delete(T.doc.key)),1!==T.type&&(b=b.add(T.doc),we=b.indexOf(T.doc.key)),{type:o_(T.type),doc:G,oldIndex:ae,newIndex:we}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function o_(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Rr()}}function _m(i,e){return i instanceof Rc&&e instanceof Rc?i._firestore===e._firestore&&i._key.isEqual(e._key)&&(null===i._document?null===e._document:i._document.isEqual(e._document))&&i._converter===e._converter:i instanceof fd&&e instanceof fd&&i._firestore===e._firestore&&xu(i.query,e.query)&&i.metadata.isEqual(e.metadata)&&i._snapshot.isEqual(e._snapshot)}function pd(i){i=ro(i,fa);const e=ro(i.firestore,va);return im(Ha(e),i._key).then(t=>Rp(e,i,t))}class Oc extends Ef{constructor(e){super(),this.firestore=e}convertBytes(e){return new Yl(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new fa(this.firestore,null,t)}}function a_(i){i=ro(i,fa);const e=ro(i.firestore,va),t=Ha(e),a=new Oc(e);return function Vv(i,e){const t=new Ds;return i.asyncQueue.enqueueAndForget((0,d.Z)(function*(){return(a=(0,d.Z)(function*(h,b,T){try{const G=yield function(ae,we){const Ye=Bn(ae);return Ye.persistence.runTransaction("read document","readonly",Rt=>Ye.localDocuments.getDocument(Rt,we))}(h,b);G.isFoundDocument()?T.resolve(G):G.isNoDocument()?T.resolve(null):T.reject(new Zn(Dn.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(G){const ae=Kd(G,`Failed to get document '${b} from cache`);T.reject(ae)}}),function(h,b,T){return a.apply(this,arguments)})(yield _p(i),e,t);var a})),t.promise}(t,i._key).then(h=>new Rc(e,a,i._key,h,new ku(null!==h&&h.hasLocalMutations,!0),i.converter))}function bm(i){i=ro(i,fa);const e=ro(i.firestore,va);return im(Ha(e),i._key,{source:"server"}).then(t=>Rp(e,i,t))}function I0(i){i=ro(i,za);const e=ro(i.firestore,va),t=Ha(e),a=new Oc(e);return yf(i._query),by(t,i._query).then(h=>new fd(e,a,i,h))}function C0(i){i=ro(i,za);const e=ro(i.firestore,va),t=Ha(e),a=new Oc(e);return function _y(i,e){const t=new Ds;return i.asyncQueue.enqueueAndForget((0,d.Z)(function*(){return(a=(0,d.Z)(function*(h,b,T){try{const G=yield jh(h,b,!0),ae=new Ag(b,G.ir),we=ae.sc(G.documents),Ye=ae.applyChanges(we,!1);T.resolve(Ye.snapshot)}catch(G){const ae=Kd(G,`Failed to execute query '${b} against cache`);T.reject(ae)}}),function(h,b,T){return a.apply(this,arguments)})(yield _p(i),e,t);var a})),t.promise}(t,i._query).then(h=>new fd(e,a,i,h))}function l_(i){i=ro(i,za);const e=ro(i.firestore,va),t=Ha(e),a=new Oc(e);return by(t,i._query,{source:"server"}).then(h=>new fd(e,a,i,h))}function c_(i,e,t){i=ro(i,fa);const a=ro(i.firestore,va),h=wf(i.converter,e,t);return ah(a,[sh(cd(a),"setDoc",i._key,h,null!==i.converter,t).toMutation(i._key,ma.none())])}function zy(i,e,t,...a){i=ro(i,fa);const h=ro(i.firestore,va),b=cd(h);let T;return T="string"==typeof(e=(0,qe.m9)(e))||e instanceof Pc?Cp(b,"updateDoc",i._key,e,t,a):um(b,"updateDoc",i._key,e),ah(h,[T.toMutation(i._key,ma.exists(!0))])}function u_(i){return ah(ro(i.firestore,va),[new wc(i._key,ma.none())])}function ol(i,e){const t=ro(i.firestore,va),a=ld(i),h=wf(i.converter,e);return ah(t,[sh(cd(i.firestore),"addDoc",a._key,h,null!==i.converter,{}).toMutation(a._key,ma.exists(!1))]).then(()=>a)}function Hy(i,...e){var t,a,h;i=(0,qe.m9)(i);let b={includeMetadataChanges:!1},T=0;"object"!=typeof e[T]||wp(e[T])||(b=e[T],T++);const G={includeMetadataChanges:b.includeMetadataChanges};if(wp(e[T])){const Rt=e[T];e[T]=null===(t=Rt.next)||void 0===t?void 0:t.bind(Rt),e[T+1]=null===(a=Rt.error)||void 0===a?void 0:a.bind(Rt),e[T+2]=null===(h=Rt.complete)||void 0===h?void 0:h.bind(Rt)}let ae,we,Ye;if(i instanceof fa)we=ro(i.firestore,va),Ye=Hl(i._key.path),ae={next:Rt=>{e[T]&&e[T](Rp(we,i,Rt))},error:e[T+1],complete:e[T+2]};else{const Rt=ro(i,za);we=ro(Rt.firestore,va),Ye=Rt._query;const bn=new Oc(we);ae={next:$n=>{e[T]&&e[T](new fd(we,bn,Rt,$n))},error:e[T+1],complete:e[T+2]},yf(i._query)}return function(Rt,bn,$n,Dr){const pi=new cf(Dr),Si=new Sg(bn,pi,$n);return Rt.asyncQueue.enqueueAndForget((0,d.Z)(function*(){return Jh(yield Jd(Rt),Si)})),()=>{pi.Dc(),Rt.asyncQueue.enqueueAndForget((0,d.Z)(function*(){return tf(yield Jd(Rt),Si)}))}}(Ha(we),Ye,G,ae)}function d_(i,e){return function y0(i,e){const t=new cf(e);return i.asyncQueue.enqueueAndForget((0,d.Z)(function*(){return a=yield Jd(i),h=t,Bn(a).ku.add(h),void h.next();var a,h})),()=>{t.Dc(),i.asyncQueue.enqueueAndForget((0,d.Z)(function*(){return a=yield Jd(i),h=t,void Bn(a).ku.delete(h);var a,h}))}}(Ha(i=ro(i,va)),wp(e)?e:{next:e})}function ah(i,e){return function(t,a){const h=new Ds;return t.asyncQueue.enqueueAndForget((0,d.Z)(function*(){return function Av(i,e,t){return Pg.apply(this,arguments)}(yield nm(t),a,h)})),h.promise}(Ha(i),e)}function Rp(i,e,t){const a=t.docs.get(e._key),h=new Oc(i);return new Rc(i,h,e._key,a,new ku(t.hasPendingWrites,t.fromCache),e.converter)}const m_={maxAttempts:5};class gc{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=cd(e)}set(e,t,a){this._verifyNotCommitted();const h=dl(e,this._firestore),b=wf(h.converter,t,a),T=sh(this._dataReader,"WriteBatch.set",h._key,b,null!==h.converter,a);return this._mutations.push(T.toMutation(h._key,ma.none())),this}update(e,t,a,...h){this._verifyNotCommitted();const b=dl(e,this._firestore);let T;return T="string"==typeof(t=(0,qe.m9)(t))||t instanceof Pc?Cp(this._dataReader,"WriteBatch.update",b._key,t,a,h):um(this._dataReader,"WriteBatch.update",b._key,t),this._mutations.push(T.toMutation(b._key,ma.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=dl(e,this._firestore);return this._mutations=this._mutations.concat(new wc(t._key,ma.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Zn(Dn.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function dl(i,e){if((i=(0,qe.m9)(i)).firestore!==e)throw new Zn(Dn.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return i}class mc extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=cd(e)}get(e){const t=dl(e,this._firestore),a=new Uy(this._firestore);return this._transaction.lookup([t._key]).then(h=>{if(!h||1!==h.length)return Rr();const b=h[0];if(b.isFoundDocument())return new dd(this._firestore,a,b.key,b,t.converter);if(b.isNoDocument())return new dd(this._firestore,a,t._key,null,t.converter);throw Rr()})}set(e,t,a){const h=dl(e,this._firestore),b=wf(h.converter,t,a),T=sh(this._dataReader,"Transaction.set",h._key,b,null!==h.converter,a);return this._transaction.set(h._key,T),this}update(e,t,a,...h){const b=dl(e,this._firestore);let T;return T="string"==typeof(t=(0,qe.m9)(t))||t instanceof Pc?Cp(this._dataReader,"Transaction.update",b._key,t,a,h):um(this._dataReader,"Transaction.update",b._key,t),this._transaction.update(b._key,T),this}delete(e){const t=dl(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=dl(e,this._firestore),a=new Oc(this._firestore);return super.get(e).then(h=>new Rc(this._firestore,a,t._key,h._document,new ku(!1,!1),t.converter))}}function Yy(i,e,t){i=ro(i,va);const a=Object.assign(Object.assign({},m_),t);return function(h){if(h.maxAttempts<1)throw new Zn(Dn.INVALID_ARGUMENT,"Max attempts must be at least 1")}(a),function(h,b,T){const G=new Ds;return h.asyncQueue.enqueueAndForget((0,d.Z)(function*(){const ae=yield function vy(i){return mp(i).then(e=>e.datastore)}(h);new uf(h.asyncQueue,ae,T,b,G).run()})),G.promise}(Ha(i),h=>e(new mc(i,h)),a)}function qy(){return new Ru("deleteField")}function y_(){return new Ry("serverTimestamp")}function v_(...i){return new qv("arrayUnion",i)}function __(...i){return new Zv("arrayRemove",i)}function b_(i){return new cm("increment",i)}!function(i,e=!0){Li=E.SDK_VERSION,(0,E._registerComponent)(new be.wA("firestore",(t,{instanceIdentifier:a,options:h})=>{const b=t.getProvider("app").getImmediate(),T=new va(new Ja(t.getProvider("auth-internal")),new ml(t.getProvider("app-check-internal")),function(G,ae){if(!Object.prototype.hasOwnProperty.apply(G.options,["projectId"]))throw new Zn(Dn.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ra(G.options.projectId,ae)}(b,a),b);return h=Object.assign({useFetchStreams:e},h),T._setSettings(h),T},"PUBLIC").setMultipleInstances(!0)),(0,E.registerVersion)(Hi,"3.12.0",i),(0,E.registerVersion)(Hi,"3.12.0","esm2017")}()},2090:(Jn,Lt,z)=>{"use strict";z.d(Lt,{$s:()=>zn,BH:()=>St,DV:()=>an,Dv:()=>Kr,G6:()=>et,GJ:()=>un,L:()=>Ze,LL:()=>sn,P0:()=>Mt,Pz:()=>It,Sg:()=>Ct,UG:()=>Gt,UI:()=>$r,US:()=>ze,Wj:()=>br,Wl:()=>cn,Yr:()=>mt,ZB:()=>it,ZR:()=>Qt,aH:()=>ft,b$:()=>qt,cI:()=>vt,dS:()=>Ei,eu:()=>ut,g5:()=>be,gK:()=>di,gQ:()=>yi,h$:()=>Re,hl:()=>tt,hu:()=>E,jU:()=>Dt,lb:()=>fr,m9:()=>Or,ne:()=>lr,p$:()=>xe,pd:()=>Pi,q4:()=>kt,r3:()=>ir,ru:()=>Ft,tV:()=>Fe,uI:()=>ee,ug:()=>Er,vZ:()=>xr,w1:()=>Je,w9:()=>ur,xO:()=>Gr,xb:()=>Pr,z$:()=>yt,zI:()=>Ut,zd:()=>ar});const d={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},E=function(gt,Ae){if(!gt)throw be(Ae)},be=function(gt){return new Error("Firebase Database ("+d.SDK_VERSION+") INTERNAL ASSERT FAILED: "+gt)},ke=function(gt){const Ae=[];let ie=0;for(let te=0;te<gt.length;te++){let se=gt.charCodeAt(te);se<128?Ae[ie++]=se:se<2048?(Ae[ie++]=se>>6|192,Ae[ie++]=63&se|128):55296==(64512&se)&&te+1<gt.length&&56320==(64512&gt.charCodeAt(te+1))?(se=65536+((1023&se)<<10)+(1023&gt.charCodeAt(++te)),Ae[ie++]=se>>18|240,Ae[ie++]=se>>12&63|128,Ae[ie++]=se>>6&63|128,Ae[ie++]=63&se|128):(Ae[ie++]=se>>12|224,Ae[ie++]=se>>6&63|128,Ae[ie++]=63&se|128)}return Ae},ze={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(gt,Ae){if(!Array.isArray(gt))throw Error("encodeByteArray takes an array as a parameter");this.init_();const ie=Ae?this.byteToCharMapWebSafe_:this.byteToCharMap_,te=[];for(let se=0;se<gt.length;se+=3){const Ke=gt[se],xt=se+1<gt.length,rt=xt?gt[se+1]:0,Vt=se+2<gt.length,en=Vt?gt[se+2]:0;let Wn=(15&rt)<<2|en>>6,ln=63&en;Vt||(ln=64,xt||(Wn=64)),te.push(ie[Ke>>2],ie[(3&Ke)<<4|rt>>4],ie[Wn],ie[ln])}return te.join("")},encodeString(gt,Ae){return this.HAS_NATIVE_SUPPORT&&!Ae?btoa(gt):this.encodeByteArray(ke(gt),Ae)},decodeString(gt,Ae){return this.HAS_NATIVE_SUPPORT&&!Ae?atob(gt):function(gt){const Ae=[];let ie=0,te=0;for(;ie<gt.length;){const se=gt[ie++];if(se<128)Ae[te++]=String.fromCharCode(se);else if(se>191&&se<224){const Ke=gt[ie++];Ae[te++]=String.fromCharCode((31&se)<<6|63&Ke)}else if(se>239&&se<365){const Vt=((7&se)<<18|(63&gt[ie++])<<12|(63&gt[ie++])<<6|63&gt[ie++])-65536;Ae[te++]=String.fromCharCode(55296+(Vt>>10)),Ae[te++]=String.fromCharCode(56320+(1023&Vt))}else{const Ke=gt[ie++],xt=gt[ie++];Ae[te++]=String.fromCharCode((15&se)<<12|(63&Ke)<<6|63&xt)}}return Ae.join("")}(this.decodeStringToByteArray(gt,Ae))},decodeStringToByteArray(gt,Ae){this.init_();const ie=Ae?this.charToByteMapWebSafe_:this.charToByteMap_,te=[];for(let se=0;se<gt.length;){const Ke=ie[gt.charAt(se++)],rt=se<gt.length?ie[gt.charAt(se)]:0;++se;const en=se<gt.length?ie[gt.charAt(se)]:64;++se;const gn=se<gt.length?ie[gt.charAt(se)]:64;if(++se,null==Ke||null==rt||null==en||null==gn)throw new Se;te.push(Ke<<2|rt>>4),64!==en&&(te.push(rt<<4&240|en>>2),64!==gn&&te.push(en<<6&192|gn))}return te},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let gt=0;gt<this.ENCODED_VALS.length;gt++)this.byteToCharMap_[gt]=this.ENCODED_VALS.charAt(gt),this.charToByteMap_[this.byteToCharMap_[gt]]=gt,this.byteToCharMapWebSafe_[gt]=this.ENCODED_VALS_WEBSAFE.charAt(gt),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[gt]]=gt,gt>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(gt)]=gt,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(gt)]=gt)}}};class Se extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Re=function(gt){const Ae=ke(gt);return ze.encodeByteArray(Ae,!0)},Ze=function(gt){return Re(gt).replace(/\./g,"")},Fe=function(gt){try{return ze.decodeString(gt,!0)}catch(Ae){console.error("base64Decode failed: ",Ae)}return null};function xe(gt){return it(void 0,gt)}function it(gt,Ae){if(!(Ae instanceof Object))return Ae;switch(Ae.constructor){case Date:return new Date(Ae.getTime());case Object:void 0===gt&&(gt={});break;case Array:gt=[];break;default:return Ae}for(const ie in Ae)!Ae.hasOwnProperty(ie)||!Me(ie)||(gt[ie]=it(gt[ie],Ae[ie]));return gt}function Me(gt){return"__proto__"!==gt}const $e=()=>{try{return function lt(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const gt=process.env.__FIREBASE_DEFAULTS__;return gt?JSON.parse(gt):void 0})()||(()=>{if(typeof document>"u")return;let gt;try{gt=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const Ae=gt&&Fe(gt[1]);return Ae&&JSON.parse(Ae)})()}catch(gt){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${gt}`)}},kt=gt=>{var Ae,ie;return null===(ie=null===(Ae=$e())||void 0===Ae?void 0:Ae.emulatorHosts)||void 0===ie?void 0:ie[gt]},Mt=gt=>{const Ae=kt(gt);if(!Ae)return;const ie=Ae.lastIndexOf(":");if(ie<=0||ie+1===Ae.length)throw new Error(`Invalid host ${Ae} with no separate hostname and port!`);const te=parseInt(Ae.substring(ie+1),10);return"["===Ae[0]?[Ae.substring(1,ie-1),te]:[Ae.substring(0,ie),te]},ft=()=>{var gt;return null===(gt=$e())||void 0===gt?void 0:gt.config},It=gt=>{var Ae;return null===(Ae=$e())||void 0===Ae?void 0:Ae[`_${gt}`]};class St{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((Ae,ie)=>{this.resolve=Ae,this.reject=ie})}wrapCallback(Ae){return(ie,te)=>{ie?this.reject(ie):this.resolve(te),"function"==typeof Ae&&(this.promise.catch(()=>{}),1===Ae.length?Ae(ie):Ae(ie,te))}}}function Ct(gt,Ae){if(gt.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const te=Ae||"demo-project",se=gt.iat||0,Ke=gt.sub||gt.user_id;if(!Ke)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const xt=Object.assign({iss:`https://securetoken.google.com/${te}`,aud:te,iat:se,exp:se+3600,auth_time:se,sub:Ke,user_id:Ke,firebase:{sign_in_provider:"custom",identities:{}}},gt);return[Ze(JSON.stringify({alg:"none",type:"JWT"})),Ze(JSON.stringify(xt)),""].join(".")}function yt(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function ee(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(yt())}function Gt(){var gt;const Ae=null===(gt=$e())||void 0===gt?void 0:gt.forceEnvironment;if("node"===Ae)return!0;if("browser"===Ae)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function Dt(){return"object"==typeof self&&self.self===self}function Ft(){const gt="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof gt&&void 0!==gt.id}function qt(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Je(){const gt=yt();return gt.indexOf("MSIE ")>=0||gt.indexOf("Trident/")>=0}function mt(){return!0===d.NODE_CLIENT||!0===d.NODE_ADMIN}function et(){return!Gt()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function tt(){try{return"object"==typeof indexedDB}catch{return!1}}function ut(){return new Promise((gt,Ae)=>{try{let ie=!0;const te="validate-browser-context-for-indexeddb-analytics-module",se=self.indexedDB.open(te);se.onsuccess=()=>{se.result.close(),ie||self.indexedDB.deleteDatabase(te),gt(!0)},se.onupgradeneeded=()=>{ie=!1},se.onerror=()=>{var Ke;Ae((null===(Ke=se.error)||void 0===Ke?void 0:Ke.message)||"")}}catch(ie){Ae(ie)}})}function Ut(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class Qt extends Error{constructor(Ae,ie,te){super(ie),this.code=Ae,this.customData=te,this.name="FirebaseError",Object.setPrototypeOf(this,Qt.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,sn.prototype.create)}}class sn{constructor(Ae,ie,te){this.service=Ae,this.serviceName=ie,this.errors=te}create(Ae,...ie){const te=ie[0]||{},se=`${this.service}/${Ae}`,Ke=this.errors[Ae],xt=Ke?function On(gt,Ae){return gt.replace(tn,(ie,te)=>{const se=Ae[te];return null!=se?String(se):`<${te}?>`})}(Ke,te):"Error";return new Qt(se,`${this.serviceName}: ${xt} (${se}).`,te)}}const tn=/\{\$([^}]+)}/g;function vt(gt){return JSON.parse(gt)}function cn(gt){return JSON.stringify(gt)}const vn=function(gt){let Ae={},ie={},te={},se="";try{const Ke=gt.split(".");Ae=vt(Fe(Ke[0])||""),ie=vt(Fe(Ke[1])||""),se=Ke[2],te=ie.d||{},delete ie.d}catch{}return{header:Ae,claims:ie,data:te,signature:se}},ur=function(gt){const ie=vn(gt).claims;return!!ie&&"object"==typeof ie&&ie.hasOwnProperty("iat")},un=function(gt){const Ae=vn(gt).claims;return"object"==typeof Ae&&!0===Ae.admin};function ir(gt,Ae){return Object.prototype.hasOwnProperty.call(gt,Ae)}function an(gt,Ae){if(Object.prototype.hasOwnProperty.call(gt,Ae))return gt[Ae]}function Pr(gt){for(const Ae in gt)if(Object.prototype.hasOwnProperty.call(gt,Ae))return!1;return!0}function $r(gt,Ae,ie){const te={};for(const se in gt)Object.prototype.hasOwnProperty.call(gt,se)&&(te[se]=Ae.call(ie,gt[se],se,gt));return te}function xr(gt,Ae){if(gt===Ae)return!0;const ie=Object.keys(gt),te=Object.keys(Ae);for(const se of ie){if(!te.includes(se))return!1;const Ke=gt[se],xt=Ae[se];if(Rn(Ke)&&Rn(xt)){if(!xr(Ke,xt))return!1}else if(Ke!==xt)return!1}for(const se of te)if(!ie.includes(se))return!1;return!0}function Rn(gt){return null!==gt&&"object"==typeof gt}function Gr(gt){const Ae=[];for(const[ie,te]of Object.entries(gt))Array.isArray(te)?te.forEach(se=>{Ae.push(encodeURIComponent(ie)+"="+encodeURIComponent(se))}):Ae.push(encodeURIComponent(ie)+"="+encodeURIComponent(te));return Ae.length?"&"+Ae.join("&"):""}function ar(gt){const Ae={};return gt.replace(/^\?/,"").split("&").forEach(te=>{if(te){const[se,Ke]=te.split("=");Ae[decodeURIComponent(se)]=decodeURIComponent(Ke)}}),Ae}function Pi(gt){const Ae=gt.indexOf("?");if(!Ae)return"";const ie=gt.indexOf("#",Ae);return gt.substring(Ae,ie>0?ie:void 0)}class yi{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let Ae=1;Ae<this.blockSize;++Ae)this.pad_[Ae]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(Ae,ie){ie||(ie=0);const te=this.W_;if("string"==typeof Ae)for(let gn=0;gn<16;gn++)te[gn]=Ae.charCodeAt(ie)<<24|Ae.charCodeAt(ie+1)<<16|Ae.charCodeAt(ie+2)<<8|Ae.charCodeAt(ie+3),ie+=4;else for(let gn=0;gn<16;gn++)te[gn]=Ae[ie]<<24|Ae[ie+1]<<16|Ae[ie+2]<<8|Ae[ie+3],ie+=4;for(let gn=16;gn<80;gn++){const Wn=te[gn-3]^te[gn-8]^te[gn-14]^te[gn-16];te[gn]=4294967295&(Wn<<1|Wn>>>31)}let en,Sn,se=this.chain_[0],Ke=this.chain_[1],xt=this.chain_[2],rt=this.chain_[3],Vt=this.chain_[4];for(let gn=0;gn<80;gn++){gn<40?gn<20?(en=rt^Ke&(xt^rt),Sn=1518500249):(en=Ke^xt^rt,Sn=1859775393):gn<60?(en=Ke&xt|rt&(Ke|xt),Sn=2400959708):(en=Ke^xt^rt,Sn=3395469782);const Wn=(se<<5|se>>>27)+en+Vt+Sn+te[gn]&4294967295;Vt=rt,rt=xt,xt=4294967295&(Ke<<30|Ke>>>2),Ke=se,se=Wn}this.chain_[0]=this.chain_[0]+se&4294967295,this.chain_[1]=this.chain_[1]+Ke&4294967295,this.chain_[2]=this.chain_[2]+xt&4294967295,this.chain_[3]=this.chain_[3]+rt&4294967295,this.chain_[4]=this.chain_[4]+Vt&4294967295}update(Ae,ie){if(null==Ae)return;void 0===ie&&(ie=Ae.length);const te=ie-this.blockSize;let se=0;const Ke=this.buf_;let xt=this.inbuf_;for(;se<ie;){if(0===xt)for(;se<=te;)this.compress_(Ae,se),se+=this.blockSize;if("string"==typeof Ae){for(;se<ie;)if(Ke[xt]=Ae.charCodeAt(se),++xt,++se,xt===this.blockSize){this.compress_(Ke),xt=0;break}}else for(;se<ie;)if(Ke[xt]=Ae[se],++xt,++se,xt===this.blockSize){this.compress_(Ke),xt=0;break}}this.inbuf_=xt,this.total_+=ie}digest(){const Ae=[];let ie=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let se=this.blockSize-1;se>=56;se--)this.buf_[se]=255&ie,ie/=256;this.compress_(this.buf_);let te=0;for(let se=0;se<5;se++)for(let Ke=24;Ke>=0;Ke-=8)Ae[te]=this.chain_[se]>>Ke&255,++te;return Ae}}function lr(gt,Ae){const ie=new nr(gt,Ae);return ie.subscribe.bind(ie)}class nr{constructor(Ae,ie){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=ie,this.task.then(()=>{Ae(this)}).catch(te=>{this.error(te)})}next(Ae){this.forEachObserver(ie=>{ie.next(Ae)})}error(Ae){this.forEachObserver(ie=>{ie.error(Ae)}),this.close(Ae)}complete(){this.forEachObserver(Ae=>{Ae.complete()}),this.close()}subscribe(Ae,ie,te){let se;if(void 0===Ae&&void 0===ie&&void 0===te)throw new Error("Missing Observer.");se=function bi(gt,Ae){if("object"!=typeof gt||null===gt)return!1;for(const ie of Ae)if(ie in gt&&"function"==typeof gt[ie])return!0;return!1}(Ae,["next","error","complete"])?Ae:{next:Ae,error:ie,complete:te},void 0===se.next&&(se.next=li),void 0===se.error&&(se.error=li),void 0===se.complete&&(se.complete=li);const Ke=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?se.error(this.finalError):se.complete()}catch{}}),this.observers.push(se),Ke}unsubscribeOne(Ae){void 0===this.observers||void 0===this.observers[Ae]||(delete this.observers[Ae],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(Ae){if(!this.finalized)for(let ie=0;ie<this.observers.length;ie++)this.sendOne(ie,Ae)}sendOne(Ae,ie){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[Ae])try{ie(this.observers[Ae])}catch(te){typeof console<"u"&&console.error&&console.error(te)}})}close(Ae){this.finalized||(this.finalized=!0,void 0!==Ae&&(this.finalError=Ae),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function li(){}const Kr=function(gt,Ae,ie,te){let se;if(te<Ae?se="at least "+Ae:te>ie&&(se=0===ie?"none":"no more than "+ie),se)throw new Error(gt+" failed: Was called with "+te+(1===te?" argument.":" arguments.")+" Expects "+se+".")};function di(gt,Ae){return`${gt} failed: ${Ae} argument `}function br(gt,Ae,ie,te){if((!te||ie)&&"function"!=typeof ie)throw new Error(di(gt,Ae)+"must be a valid function.")}function fr(gt,Ae,ie,te){if((!te||ie)&&("object"!=typeof ie||null===ie))throw new Error(di(gt,Ae)+"must be a valid context object.")}const Ei=function(gt){const Ae=[];let ie=0;for(let te=0;te<gt.length;te++){let se=gt.charCodeAt(te);if(se>=55296&&se<=56319){const Ke=se-55296;te++,E(te<gt.length,"Surrogate pair missing trail surrogate."),se=65536+(Ke<<10)+(gt.charCodeAt(te)-56320)}se<128?Ae[ie++]=se:se<2048?(Ae[ie++]=se>>6|192,Ae[ie++]=63&se|128):se<65536?(Ae[ie++]=se>>12|224,Ae[ie++]=se>>6&63|128,Ae[ie++]=63&se|128):(Ae[ie++]=se>>18|240,Ae[ie++]=se>>12&63|128,Ae[ie++]=se>>6&63|128,Ae[ie++]=63&se|128)}return Ae},Er=function(gt){let Ae=0;for(let ie=0;ie<gt.length;ie++){const te=gt.charCodeAt(ie);te<128?Ae++:te<2048?Ae+=2:te>=55296&&te<=56319?(Ae+=4,ie++):Ae+=3}return Ae},Ne=1e3,dt=2,Ht=144e5,En=.5;function zn(gt,Ae=Ne,ie=dt){const te=Ae*Math.pow(ie,gt),se=Math.round(En*te*(Math.random()-.5)*2);return Math.min(Ht,te+se)}function Or(gt){return gt&&gt._delegate?gt._delegate:gt}},8490:(Jn,Lt,z)=>{"use strict";z.d(Lt,{V1:()=>Fe});var xe,d=z(8261),E=(xe=function(it,Me){return(xe=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(lt,pt){lt.__proto__=pt}||function(lt,pt){for(var jt in pt)Object.prototype.hasOwnProperty.call(pt,jt)&&(lt[jt]=pt[jt])})(it,Me)},function(it,Me){function lt(){this.constructor=it}xe(it,Me),it.prototype=null===Me?Object.create(Me):(lt.prototype=Me.prototype,new lt)}),Ze=function(xe){function it(){var Me=null!==xe&&xe.apply(this,arguments)||this;return Me.DestinationType={DATA_URL:0,FILE_URI:1,NATIVE_URI:2},Me.EncodingType={JPEG:0,PNG:1},Me.MediaType={PICTURE:0,VIDEO:1,ALLMEDIA:2},Me.PictureSourceType={PHOTOLIBRARY:0,CAMERA:1,SAVEDPHOTOALBUM:2},Me.PopoverArrowDirection={ARROW_UP:1,ARROW_DOWN:2,ARROW_LEFT:4,ARROW_RIGHT:8,ARROW_ANY:15},Me.Direction={BACK:0,FRONT:1},Me}return E(it,xe),it.prototype.getPicture=function(Me){return(0,d.DM)(this,"getPicture",{callbackOrder:"reverse"},arguments)},it.prototype.cleanup=function(){return(0,d.DM)(this,"cleanup",{platforms:["iOS"]},arguments)},it.pluginName="Camera",it.plugin="cordova-plugin-camera",it.pluginRef="navigator.camera",it.repo="https://github.com/apache/cordova-plugin-camera",it.platforms=["Android","Browser","iOS","Windows"],it}(d.KY),Fe=new Ze},8261:(Jn,Lt,z)=>{"use strict";z.d(Lt,{KY:()=>Ct,DM:()=>yt,J2:()=>Ft,Iq:()=>qt});var E=z(9751),be=z(4968),ke={error:"cordova_not_available"},qe={error:"plugin_not_installed"};function ze(Te){if(typeof window<"u"&&window.angular){var ct=window.document,mt=window.angular.element(ct.querySelector("[ng-app]")||ct.body).injector();if(mt)return mt.get("$q")(function(tt,ut){Te(tt,ut)});console.warn("Angular 1 was detected but $q couldn't be retrieved. This is usually when the app is not bootstrapped on the html or body tag. Falling back to native promises which won't trigger an automatic digest when promises resolve.")}return function(){if(Promise)return new Promise(function(tt,ut){Te(tt,ut)});console.error("No Promise support or polyfill found. To enable Ionic Native support, please add the es6-promise polyfill before this script, or run with a library like Angular or on a recent browser.")}()}function xe(Te,Je,ct){var mt,et,tt;return"string"==typeof Te?mt=Te:(mt=Te.constructor.getPluginRef(),ct=Te.constructor.getPluginName(),tt=Te.constructor.getPluginInstallName()),!(!(et=jt(mt))||Je&&typeof et[Je]>"u")||(typeof window>"u"||!window.cordova?(function kt(Te,Je){typeof process>"u"&&console.warn(Je?"Native: tried calling "+Te+"."+Je+", but Cordova is not available. Make sure to include cordova.js or run in a device/simulator":"Native: tried accessing the "+Te+" plugin but Cordova is not available. Make sure to include cordova.js or run in a device/simulator")}(ct,Je),ke):(function $e(Te,Je,ct){console.warn(ct?"Native: tried calling "+Te+"."+ct+", but the "+Te+" plugin is not installed.":"Native: tried accessing the "+Te+" plugin but it's not installed."),Je&&console.warn("Install the "+Te+" plugin: 'ionic cordova plugin add "+Je+"'")}(ct,tt,Je),qe))}function lt(Te,Je,ct,mt,et,tt){void 0===mt&&(mt={}),ct=function Me(Te,Je,ct,mt){if(void 0===Je&&(Je={}),Je.sync)return Te;if("reverse"===Je.callbackOrder)Te.unshift(mt),Te.unshift(ct);else if("node"===Je.callbackStyle)Te.push(function(Ut,Nt){Ut?mt(Ut):ct(Nt)});else if("object"===Je.callbackStyle&&Je.successName&&Je.errorName){var et={};et[Je.successName]=ct,et[Je.errorName]=mt,Te.push(et)}else if(typeof Je.successIndex<"u"||typeof Je.errorIndex<"u"){var tt=function(){Je.successIndex>Te.length?Te[Je.successIndex]=ct:Te.splice(Je.successIndex,0,ct)},ut=function(){Je.errorIndex>Te.length?Te[Je.errorIndex]=mt:Te.splice(Je.errorIndex,0,mt)};Je.successIndex>Je.errorIndex?(ut(),tt()):(tt(),ut())}else Te.push(ct),Te.push(mt);return Te}(ct,mt,et,tt);var ut=xe(Te,Je);if(!0===ut){var Ut=jt(Te.constructor.getPluginRef());return Ut[Je].apply(Ut,ct)}return ut}function jt(Te){return typeof window<"u"?He(window,Te):null}function He(Te,Je){for(var ct=Je.split("."),mt=Te,et=0;et<ct.length;et++){if(!mt)return null;mt=mt[ct[et]]}return mt}var Mt=function(Te,Je,ct){return void 0===ct&&(ct={}),function(){for(var mt=[],et=0;et<arguments.length;et++)mt[et]=arguments[et];return ct.sync?lt(Te,Je,mt,ct):ct.observable?function Ze(Te,Je,ct,mt){return void 0===mt&&(mt={}),new E.y(function(et){var tt;return tt=mt.destruct?lt(Te,Je,ct,mt,function(){for(var ut=[],Ut=0;Ut<arguments.length;Ut++)ut[Ut]=arguments[Ut];return et.next(ut)},function(){for(var ut=[],Ut=0;Ut<arguments.length;Ut++)ut[Ut]=arguments[Ut];return et.error(ut)}):lt(Te,Je,ct,mt,et.next.bind(et),et.error.bind(et)),tt&&tt.error&&(et.error(tt.error),et.complete()),function(){try{if(mt.clearFunction)return mt.clearWithArgs?lt(Te,mt.clearFunction,ct,mt,et.next.bind(et),et.error.bind(et)):lt(Te,mt.clearFunction,[])}catch(ut){console.warn("Unable to clear the previous observable watch for",Te.constructor.getPluginName(),Je),console.warn(ut)}}})}(Te,Je,mt,ct):ct.eventObservable&&ct.event?function Fe(Te,Je){return Je=typeof window<"u"&&Je?He(window,Je):Je||(typeof window<"u"?window:{}),(0,be.R)(Je,Te)}(ct.event,ct.element):ct.otherPromise?function Re(Te,Je,ct,mt){return void 0===mt&&(mt={}),ze(function(et,tt){var ut=lt(Te,Je,ct,mt);ut?ut.error?tt(ut.error):ut.then&&ut.then(et).catch(tt):tt({error:"unexpected_error"})})}(Te,Je,mt,ct):function Se(Te,Je,ct,mt){void 0===mt&&(mt={});var et,tt,ut=ze(function(Ut,Nt){et=mt.destruct?lt(Te,Je,ct,mt,function(){for(var Qt=[],sn=0;sn<arguments.length;sn++)Qt[sn]=arguments[sn];return Ut(Qt)},function(){for(var Qt=[],sn=0;sn<arguments.length;sn++)Qt[sn]=arguments[sn];return Nt(Qt)}):lt(Te,Je,ct,mt,Ut,Nt),tt=Nt});return et&&et.error&&(ut.catch(function(){}),"function"==typeof tt&&tt(et.error)),ut}(Te,Je,mt,ct)}},Ct=function(){function Te(){}return Te.installed=function(){return!0===xe(this.pluginRef)},Te.getPlugin=function(){return typeof window<"u"?function It(Te,Je){for(var ct=Je.split("."),mt=Te,et=0;et<ct.length;et++){if(!mt)return null;mt=mt[ct[et]]}return mt}(window,this.pluginRef):null},Te.getPluginName=function(){return this.pluginName},Te.getPluginRef=function(){return this.pluginRef},Te.getPluginInstallName=function(){return this.plugin},Te.getSupportedPlatforms=function(){return this.platforms},Te.pluginName="",Te.pluginRef="",Te.plugin="",Te.repo="",Te.platforms=[],Te.install="",Te}();function yt(Te,Je,ct,mt){return Mt(Te,Je,ct).apply(this,mt)}function Ft(Te,Je){return!0===xe(Te,Je)?jt(Te.constructor.getPluginRef())[Je]:null}function qt(Te,Je,ct){!0===xe(Te,Je)&&(jt(Te.constructor.getPluginRef())[Je]=ct)}!function d(){if(typeof process>"u"){var Te=typeof window<"u"?window:{},ct=Date.now(),mt=!1;Te.document.addEventListener("deviceready",function(){console.log("Ionic Native: deviceready event fired after "+(Date.now()-ct)+" ms"),mt=!0}),setTimeout(function(){!mt&&Te.cordova&&console.warn("Ionic Native: deviceready did not fire within 5000ms. This can happen when plugins are in an inconsistent state. Try removing plugins from plugins/ and reinstalling them.")},5e3)}}()},9613:(Jn,Lt,z)=>{"use strict";z.d(Lt,{c:()=>jt});var d=z(3577),E=z(3457);let be;const qe=He=>He.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),ze=He=>(void 0===be&&(be=void 0===He.style.animationName&&void 0!==He.style.webkitAnimationName?"-webkit-":""),be),Se=(He,$e,kt)=>{const Mt=$e.startsWith("animation")?ze(He):"";He.style.setProperty(Mt+$e,kt)},Re=(He,$e)=>{const kt=$e.startsWith("animation")?ze(He):"";He.style.removeProperty(kt+$e)},xe=[],pt=(He=[],$e)=>{if(void 0!==$e){const kt=Array.isArray($e)?$e:[$e];return[...He,...kt]}return He},jt=He=>{let $e,kt,Mt,ft,It,St,Dt,tt,ut,Ut,Nt,tn,vt,Ct=[],yt=[],ee=[],Gt=!1,Ft={},qt=[],Te=[],Je={},ct=0,mt=!1,et=!1,Qt=!0,sn=!1,On=!0,cn=!1;const vn=He,qn=[],er=[],ur=[],un=[],ir=[],an=[],Pr=[],$r=[],xr=[],Rn=[],ai="function"==typeof AnimationEffect||void 0!==E.w&&"function"==typeof E.w.AnimationEffect,Gr="function"==typeof Element&&"function"==typeof Element.prototype.animate&&ai,Pi=()=>Rn,bi=(_e,ne)=>((null!=ne&&ne.oneTimeCallback?er:qn).push({c:_e,o:ne}),vt),Kr=()=>{if(Gr)Rn.forEach(_e=>{_e.cancel()}),Rn.length=0;else{const _e=ur.slice();(0,d.r)(()=>{_e.forEach(ne=>{Re(ne,"animation-name"),Re(ne,"animation-duration"),Re(ne,"animation-timing-function"),Re(ne,"animation-iteration-count"),Re(ne,"animation-delay"),Re(ne,"animation-play-state"),Re(ne,"animation-fill-mode"),Re(ne,"animation-direction")})})}},di=()=>{ir.forEach(_e=>{null!=_e&&_e.parentNode&&_e.parentNode.removeChild(_e)}),ir.length=0},kr=()=>void 0!==It?It:Dt?Dt.getFill():"both",Or=()=>void 0!==ut?ut:void 0!==St?St:Dt?Dt.getDirection():"normal",gt=()=>mt?"linear":void 0!==Mt?Mt:Dt?Dt.getEasing():"linear",Ae=()=>et?0:void 0!==Ut?Ut:void 0!==kt?kt:Dt?Dt.getDuration():0,ie=()=>void 0!==ft?ft:Dt?Dt.getIterations():1,te=()=>void 0!==Nt?Nt:void 0!==$e?$e:Dt?Dt.getDelay():0,fn=()=>{0!==ct&&(ct--,0===ct&&((()=>{yo(),$r.forEach(wt=>wt()),xr.forEach(wt=>wt());const _e=Qt?1:0,ne=qt,ve=Te,st=Je;ur.forEach(wt=>{const $t=wt.classList;ne.forEach(nn=>$t.add(nn)),ve.forEach(nn=>$t.remove(nn));for(const nn in st)st.hasOwnProperty(nn)&&Se(wt,nn,st[nn])}),qn.forEach(wt=>wt.c(_e,vt)),er.forEach(wt=>wt.c(_e,vt)),er.length=0,On=!0,Qt&&(sn=!0),Qt=!0})(),Dt&&Dt.animationFinish()))},Yn=(_e=!0)=>{di();const ne=(He=>(He.forEach($e=>{for(const kt in $e)if($e.hasOwnProperty(kt)){const Mt=$e[kt];if("easing"===kt)$e["animation-timing-function"]=Mt,delete $e[kt];else{const ft=qe(kt);ft!==kt&&($e[ft]=Mt,delete $e[kt])}}}),He))(Ct);ur.forEach(ve=>{if(ne.length>0){const st=((He=[])=>He.map($e=>{const kt=$e.offset,Mt=[];for(const ft in $e)$e.hasOwnProperty(ft)&&"offset"!==ft&&Mt.push(`${ft}: ${$e[ft]};`);return`${100*kt}% { ${Mt.join(" ")} }`}).join(" "))(ne);tn=void 0!==He?He:(He=>{let $e=xe.indexOf(He);return $e<0&&($e=xe.push(He)-1),`ion-animation-${$e}`})(st);const wt=((He,$e,kt)=>{var Mt;const ft=(He=>{const $e=void 0!==He.getRootNode?He.getRootNode():He;return $e.head||$e})(kt),It=ze(kt),St=ft.querySelector("#"+He);if(St)return St;const Ct=(null!==(Mt=kt.ownerDocument)&&void 0!==Mt?Mt:document).createElement("style");return Ct.id=He,Ct.textContent=`@${It}keyframes ${He} { ${$e} } @${It}keyframes ${He}-alt { ${$e} }`,ft.appendChild(Ct),Ct})(tn,st,ve);ir.push(wt),Se(ve,"animation-duration",`${Ae()}ms`),Se(ve,"animation-timing-function",gt()),Se(ve,"animation-delay",`${te()}ms`),Se(ve,"animation-fill-mode",kr()),Se(ve,"animation-direction",Or());const $t=ie()===1/0?"infinite":ie().toString();Se(ve,"animation-iteration-count",$t),Se(ve,"animation-play-state","paused"),_e&&Se(ve,"animation-name",`${wt.id}-alt`),(0,d.r)(()=>{Se(ve,"animation-name",wt.id||null)})}})},Fr=(_e=!0)=>{(()=>{an.forEach(st=>st()),Pr.forEach(st=>st());const _e=yt,ne=ee,ve=Ft;ur.forEach(st=>{const wt=st.classList;_e.forEach($t=>wt.add($t)),ne.forEach($t=>wt.remove($t));for(const $t in ve)ve.hasOwnProperty($t)&&Se(st,$t,ve[$t])})})(),Ct.length>0&&(Gr?(ur.forEach(_e=>{const ne=_e.animate(Ct,{id:vn,delay:te(),duration:Ae(),easing:gt(),iterations:ie(),fill:kr(),direction:Or()});ne.pause(),Rn.push(ne)}),Rn.length>0&&(Rn[0].onfinish=()=>{fn()})):Yn(_e)),Gt=!0},Sr=_e=>{if(_e=Math.min(Math.max(_e,0),.9999),Gr)Rn.forEach(ne=>{ne.currentTime=ne.effect.getComputedTiming().delay+Ae()*_e,ne.pause()});else{const ne=`-${Ae()*_e}ms`;ur.forEach(ve=>{Ct.length>0&&(Se(ve,"animation-delay",ne),Se(ve,"animation-play-state","paused"))})}},Fi=_e=>{Rn.forEach(ne=>{ne.effect.updateTiming({delay:te(),duration:Ae(),easing:gt(),iterations:ie(),fill:kr(),direction:Or()})}),void 0!==_e&&Sr(_e)},Xr=(_e=!0,ne)=>{(0,d.r)(()=>{ur.forEach(ve=>{Se(ve,"animation-name",tn||null),Se(ve,"animation-duration",`${Ae()}ms`),Se(ve,"animation-timing-function",gt()),Se(ve,"animation-delay",void 0!==ne?`-${ne*Ae()}ms`:`${te()}ms`),Se(ve,"animation-fill-mode",kr()||null),Se(ve,"animation-direction",Or()||null);const st=ie()===1/0?"infinite":ie().toString();Se(ve,"animation-iteration-count",st),_e&&Se(ve,"animation-name",`${tn}-alt`),(0,d.r)(()=>{Se(ve,"animation-name",tn||null)})})})},zr=(_e=!1,ne=!0,ve)=>(_e&&un.forEach(st=>{st.update(_e,ne,ve)}),Gr?Fi(ve):Xr(ne,ve),vt),Xs=()=>{Gt&&(Gr?Rn.forEach(_e=>{_e.pause()}):ur.forEach(_e=>{Se(_e,"animation-play-state","paused")}),cn=!0)},cs=()=>{tt=void 0,fn()},yo=()=>{tt&&clearTimeout(tt)},Is=_e=>new Promise(ne=>{null!=_e&&_e.sync&&(et=!0,bi(()=>et=!1,{oneTimeCallback:!0})),Gt||Fr(),sn&&(Gr?(Sr(0),Fi()):Xr(),sn=!1),On&&(ct=un.length+1,On=!1),bi(()=>ne(),{oneTimeCallback:!0}),un.forEach(ve=>{ve.play()}),Gr?(Rn.forEach(_e=>{_e.play()}),(0===Ct.length||0===ur.length)&&fn()):(()=>{if(yo(),(0,d.r)(()=>{ur.forEach(_e=>{Ct.length>0&&Se(_e,"animation-play-state","running")})}),0===Ct.length||0===ur.length)fn();else{const _e=te()||0,ne=Ae()||0,ve=ie()||1;isFinite(ve)&&(tt=setTimeout(cs,_e+ne*ve+100)),((He,$e)=>{let kt;const Mt={passive:!0},It=St=>{He===St.target&&(kt&&kt(),yo(),(0,d.r)(()=>{ur.forEach(_e=>{Re(_e,"animation-duration"),Re(_e,"animation-delay"),Re(_e,"animation-play-state")}),(0,d.r)(fn)}))};He&&(He.addEventListener("webkitAnimationEnd",It,Mt),He.addEventListener("animationend",It,Mt),kt=()=>{He.removeEventListener("webkitAnimationEnd",It,Mt),He.removeEventListener("animationend",It,Mt)})})(ur[0])}})(),cn=!1}),re=(_e,ne)=>{const ve=Ct[0];return void 0===ve||void 0!==ve.offset&&0!==ve.offset?Ct=[{offset:0,[_e]:ne},...Ct]:ve[_e]=ne,vt};return vt={parentAnimation:Dt,elements:ur,childAnimations:un,id:vn,animationFinish:fn,from:re,to:(_e,ne)=>{const ve=Ct[Ct.length-1];return void 0===ve||void 0!==ve.offset&&1!==ve.offset?Ct=[...Ct,{offset:1,[_e]:ne}]:ve[_e]=ne,vt},fromTo:(_e,ne,ve)=>re(_e,ne).to(_e,ve),parent:_e=>(Dt=_e,vt),play:Is,pause:()=>(un.forEach(_e=>{_e.pause()}),Xs(),vt),stop:()=>{un.forEach(_e=>{_e.stop()}),Gt&&(Kr(),Gt=!1),mt=!1,et=!1,On=!0,ut=void 0,Ut=void 0,Nt=void 0,ct=0,sn=!1,Qt=!0,cn=!1},destroy:_e=>(un.forEach(ne=>{ne.destroy(_e)}),(_e=>{Kr(),_e&&di()})(_e),ur.length=0,un.length=0,Ct.length=0,qn.length=0,er.length=0,Gt=!1,On=!0,vt),keyframes:_e=>{const ne=Ct!==_e;return Ct=_e,ne&&(_e=>{Gr?Pi().forEach(ne=>{if(ne.effect.setKeyframes)ne.effect.setKeyframes(_e);else{const ve=new KeyframeEffect(ne.effect.target,_e,ne.effect.getTiming());ne.effect=ve}}):Yn()})(Ct),vt},addAnimation:_e=>{if(null!=_e)if(Array.isArray(_e))for(const ne of _e)ne.parent(vt),un.push(ne);else _e.parent(vt),un.push(_e);return vt},addElement:_e=>{if(null!=_e)if(1===_e.nodeType)ur.push(_e);else if(_e.length>=0)for(let ne=0;ne<_e.length;ne++)ur.push(_e[ne]);else console.error("Invalid addElement value");return vt},update:zr,fill:_e=>(It=_e,zr(!0),vt),direction:_e=>(St=_e,zr(!0),vt),iterations:_e=>(ft=_e,zr(!0),vt),duration:_e=>(!Gr&&0===_e&&(_e=1),kt=_e,zr(!0),vt),easing:_e=>(Mt=_e,zr(!0),vt),delay:_e=>($e=_e,zr(!0),vt),getWebAnimations:Pi,getKeyframes:()=>Ct,getFill:kr,getDirection:Or,getDelay:te,getIterations:ie,getEasing:gt,getDuration:Ae,afterAddRead:_e=>($r.push(_e),vt),afterAddWrite:_e=>(xr.push(_e),vt),afterClearStyles:(_e=[])=>{for(const ne of _e)Je[ne]="";return vt},afterStyles:(_e={})=>(Je=_e,vt),afterRemoveClass:_e=>(Te=pt(Te,_e),vt),afterAddClass:_e=>(qt=pt(qt,_e),vt),beforeAddRead:_e=>(an.push(_e),vt),beforeAddWrite:_e=>(Pr.push(_e),vt),beforeClearStyles:(_e=[])=>{for(const ne of _e)Ft[ne]="";return vt},beforeStyles:(_e={})=>(Ft=_e,vt),beforeRemoveClass:_e=>(ee=pt(ee,_e),vt),beforeAddClass:_e=>(yt=pt(yt,_e),vt),onFinish:bi,isRunning:()=>0!==ct&&!cn,progressStart:(_e=!1,ne)=>(un.forEach(ve=>{ve.progressStart(_e,ne)}),Xs(),mt=_e,Gt||Fr(),zr(!1,!0,ne),vt),progressStep:_e=>(un.forEach(ne=>{ne.progressStep(_e)}),Sr(_e),vt),progressEnd:(_e,ne,ve)=>(mt=!1,un.forEach(st=>{st.progressEnd(_e,ne,ve)}),void 0!==ve&&(Ut=ve),sn=!1,Qt=!0,0===_e?(ut="reverse"===Or()?"normal":"reverse","reverse"===ut&&(Qt=!1),Gr?(zr(),Sr(1-ne)):(Nt=(1-ne)*Ae()*-1,zr(!1,!1))):1===_e&&(Gr?(zr(),Sr(ne)):(Nt=ne*Ae()*-1,zr(!1,!1))),void 0!==_e&&(bi(()=>{Ut=void 0,ut=void 0,Nt=void 0},{oneTimeCallback:!0}),Dt||Is()),vt)}}},3982:(Jn,Lt,z)=>{"use strict";z.d(Lt,{E:()=>Fe,a:()=>d,s:()=>Re});const d=xe=>{try{if(xe instanceof Se)return xe.value;if(!ke()||"string"!=typeof xe||""===xe)return xe;if(xe.includes("onload="))return"";const it=document.createDocumentFragment(),Me=document.createElement("div");it.appendChild(Me),Me.innerHTML=xe,ze.forEach(He=>{const $e=it.querySelectorAll(He);for(let kt=$e.length-1;kt>=0;kt--){const Mt=$e[kt];Mt.parentNode?Mt.parentNode.removeChild(Mt):it.removeChild(Mt);const ft=be(Mt);for(let It=0;It<ft.length;It++)E(ft[It])}});const lt=be(it);for(let He=0;He<lt.length;He++)E(lt[He]);const pt=document.createElement("div");pt.appendChild(it);const jt=pt.querySelector("div");return null!==jt?jt.innerHTML:pt.innerHTML}catch(it){return console.error(it),""}},E=xe=>{if(xe.nodeType&&1!==xe.nodeType)return;if(typeof NamedNodeMap<"u"&&!(xe.attributes instanceof NamedNodeMap))return void xe.remove();for(let Me=xe.attributes.length-1;Me>=0;Me--){const lt=xe.attributes.item(Me),pt=lt.name;if(!qe.includes(pt.toLowerCase())){xe.removeAttribute(pt);continue}const jt=lt.value,He=xe[pt];(null!=jt&&jt.toLowerCase().includes("javascript:")||null!=He&&He.toLowerCase().includes("javascript:"))&&xe.removeAttribute(pt)}const it=be(xe);for(let Me=0;Me<it.length;Me++)E(it[Me])},be=xe=>null!=xe.children?xe.children:xe.childNodes,ke=()=>{var xe;const it=window,Me=null===(xe=null==it?void 0:it.Ionic)||void 0===xe?void 0:xe.config;return!Me||(Me.get?Me.get("sanitizerEnabled",!0):!0===Me.sanitizerEnabled||void 0===Me.sanitizerEnabled)},qe=["class","id","href","src","name","slot"],ze=["script","style","iframe","meta","link","object","embed"];class Se{constructor(it){this.value=it}}const Re=xe=>{const it=window,Me=it.Ionic;if(!Me||!Me.config||"Object"===Me.config.constructor.name)return it.Ionic=it.Ionic||{},it.Ionic.config=Object.assign(Object.assign({},it.Ionic.config),xe),it.Ionic.config},Fe=!1},6782:(Jn,Lt,z)=>{"use strict";z.d(Lt,{C:()=>qe,a:()=>be,d:()=>ke});var d=z(5861),E=z(3577);const be=function(){var ze=(0,d.Z)(function*(Se,Re,Ze,Fe,xe,it){var Me;if(Se)return Se.attachViewToDom(Re,Ze,xe,Fe);if(!(it||"string"==typeof Ze||Ze instanceof HTMLElement))throw new Error("framework delegate is missing");const lt="string"==typeof Ze?null===(Me=Re.ownerDocument)||void 0===Me?void 0:Me.createElement(Ze):Ze;return Fe&&Fe.forEach(pt=>lt.classList.add(pt)),xe&&Object.assign(lt,xe),Re.appendChild(lt),yield new Promise(pt=>(0,E.c)(lt,pt)),lt});return function(Re,Ze,Fe,xe,it,Me){return ze.apply(this,arguments)}}(),ke=(ze,Se)=>{if(Se){if(ze)return ze.removeViewFromDom(Se.parentElement,Se);Se.remove()}return Promise.resolve()},qe=()=>{let ze,Se;return{attachViewToDom:function(){var Fe=(0,d.Z)(function*(xe,it,Me={},lt=[]){var pt,jt;if(ze=xe,it){const $e="string"==typeof it?null===(pt=ze.ownerDocument)||void 0===pt?void 0:pt.createElement(it):it;lt.forEach(kt=>$e.classList.add(kt)),Object.assign($e,Me),ze.appendChild($e),yield new Promise(kt=>(0,E.c)($e,kt))}else if(ze.children.length>0&&("ION-MODAL"===ze.tagName||"ION-POPOVER"===ze.tagName)&&!ze.children[0].classList.contains("ion-delegate-host")){const kt=null===(jt=ze.ownerDocument)||void 0===jt?void 0:jt.createElement("div");kt.classList.add("ion-delegate-host"),lt.forEach(Mt=>kt.classList.add(Mt)),kt.append(...ze.children),ze.appendChild(kt)}const He=document.querySelector("ion-app")||document.body;return Se=document.createComment("ionic teleport"),ze.parentNode.insertBefore(Se,ze),He.appendChild(ze),ze});return function(it,Me){return Fe.apply(this,arguments)}}(),removeViewFromDom:()=>(ze&&Se&&(Se.parentNode.insertBefore(ze,Se),Se.remove()),Promise.resolve())}}},4349:(Jn,Lt,z)=>{"use strict";z.d(Lt,{G:()=>qe});class E{constructor(Se,Re,Ze,Fe,xe){this.id=Re,this.name=Ze,this.disableScroll=xe,this.priority=1e6*Fe+Re,this.ctrl=Se}canStart(){return!!this.ctrl&&this.ctrl.canStart(this.name)}start(){return!!this.ctrl&&this.ctrl.start(this.name,this.id,this.priority)}capture(){if(!this.ctrl)return!1;const Se=this.ctrl.capture(this.name,this.id,this.priority);return Se&&this.disableScroll&&this.ctrl.disableScroll(this.id),Se}release(){this.ctrl&&(this.ctrl.release(this.id),this.disableScroll&&this.ctrl.enableScroll(this.id))}destroy(){this.release(),this.ctrl=void 0}}class be{constructor(Se,Re,Ze,Fe){this.id=Re,this.disable=Ze,this.disableScroll=Fe,this.ctrl=Se}block(){if(this.ctrl){if(this.disable)for(const Se of this.disable)this.ctrl.disableGesture(Se,this.id);this.disableScroll&&this.ctrl.disableScroll(this.id)}}unblock(){if(this.ctrl){if(this.disable)for(const Se of this.disable)this.ctrl.enableGesture(Se,this.id);this.disableScroll&&this.ctrl.enableScroll(this.id)}}destroy(){this.unblock(),this.ctrl=void 0}}const ke="backdrop-no-scroll",qe=new class d{constructor(){this.gestureId=0,this.requestedStart=new Map,this.disabledGestures=new Map,this.disabledScroll=new Set}createGesture(Se){var Re;return new E(this,this.newID(),Se.name,null!==(Re=Se.priority)&&void 0!==Re?Re:0,!!Se.disableScroll)}createBlocker(Se={}){return new be(this,this.newID(),Se.disable,!!Se.disableScroll)}start(Se,Re,Ze){return this.canStart(Se)?(this.requestedStart.set(Re,Ze),!0):(this.requestedStart.delete(Re),!1)}capture(Se,Re,Ze){if(!this.start(Se,Re,Ze))return!1;const Fe=this.requestedStart;let xe=-1e4;if(Fe.forEach(it=>{xe=Math.max(xe,it)}),xe===Ze){this.capturedId=Re,Fe.clear();const it=new CustomEvent("ionGestureCaptured",{detail:{gestureName:Se}});return document.dispatchEvent(it),!0}return Fe.delete(Re),!1}release(Se){this.requestedStart.delete(Se),this.capturedId===Se&&(this.capturedId=void 0)}disableGesture(Se,Re){let Ze=this.disabledGestures.get(Se);void 0===Ze&&(Ze=new Set,this.disabledGestures.set(Se,Ze)),Ze.add(Re)}enableGesture(Se,Re){const Ze=this.disabledGestures.get(Se);void 0!==Ze&&Ze.delete(Re)}disableScroll(Se){this.disabledScroll.add(Se),1===this.disabledScroll.size&&document.body.classList.add(ke)}enableScroll(Se){this.disabledScroll.delete(Se),0===this.disabledScroll.size&&document.body.classList.remove(ke)}canStart(Se){return!(void 0!==this.capturedId||this.isDisabled(Se))}isCaptured(){return void 0!==this.capturedId}isScrollDisabled(){return this.disabledScroll.size>0}isDisabled(Se){const Re=this.disabledGestures.get(Se);return!!(Re&&Re.size>0)}newID(){return this.gestureId++,this.gestureId}}},7593:(Jn,Lt,z)=>{"use strict";z.r(Lt),z.d(Lt,{MENU_BACK_BUTTON_PRIORITY:()=>qe,OVERLAY_BACK_BUTTON_PRIORITY:()=>ke,blockHardwareBackButton:()=>E,startHardwareBackButton:()=>be});var d=z(5861);const E=()=>{document.addEventListener("backbutton",()=>{})},be=()=>{const ze=document;let Se=!1;ze.addEventListener("backbutton",()=>{if(Se)return;let Re=0,Ze=[];const Fe=new CustomEvent("ionBackButton",{bubbles:!1,detail:{register(Me,lt){Ze.push({priority:Me,handler:lt,id:Re++})}}});ze.dispatchEvent(Fe);const xe=function(){var Me=(0,d.Z)(function*(lt){try{if(null!=lt&&lt.handler){const pt=lt.handler(it);null!=pt&&(yield pt)}}catch(pt){console.error(pt)}});return function(pt){return Me.apply(this,arguments)}}(),it=()=>{if(Ze.length>0){let Me={priority:Number.MIN_SAFE_INTEGER,handler:()=>{},id:-1};Ze.forEach(lt=>{lt.priority>=Me.priority&&(Me=lt)}),Se=!0,Ze=Ze.filter(lt=>lt.id!==Me.id),xe(Me).then(()=>Se=!1)}};it()})},ke=100,qe=99},3577:(Jn,Lt,z)=>{"use strict";z.d(Lt,{a:()=>Re,b:()=>Ze,c:()=>be,d:()=>jt,e:()=>pt,f:()=>lt,g:()=>Fe,h:()=>Me,i:()=>Se,j:()=>It,k:()=>qe,l:()=>He,m:()=>ke,n:()=>it,o:()=>$e,p:()=>Mt,q:()=>ft,r:()=>xe,s:()=>Ct,t:()=>d,u:()=>St,v:()=>kt});const d=(yt,ee=0)=>new Promise(Gt=>{E(yt,ee,Gt)}),E=(yt,ee=0,Gt)=>{let Dt,Ft;const qt={passive:!0},Je=()=>{Dt&&Dt()},ct=mt=>{(void 0===mt||yt===mt.target)&&(Je(),Gt(mt))};return yt&&(yt.addEventListener("webkitTransitionEnd",ct,qt),yt.addEventListener("transitionend",ct,qt),Ft=setTimeout(ct,ee+500),Dt=()=>{Ft&&(clearTimeout(Ft),Ft=void 0),yt.removeEventListener("webkitTransitionEnd",ct,qt),yt.removeEventListener("transitionend",ct,qt)}),Je},be=(yt,ee)=>{yt.componentOnReady?yt.componentOnReady().then(Gt=>ee(Gt)):xe(()=>ee(yt))},ke=yt=>void 0!==yt.componentOnReady,qe=(yt,ee=[])=>{const Gt={};return ee.forEach(Dt=>{yt.hasAttribute(Dt)&&(null!==yt.getAttribute(Dt)&&(Gt[Dt]=yt.getAttribute(Dt)),yt.removeAttribute(Dt))}),Gt},ze=["role","aria-activedescendant","aria-atomic","aria-autocomplete","aria-braillelabel","aria-brailleroledescription","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colindextext","aria-colspan","aria-controls","aria-current","aria-describedby","aria-description","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowindextext","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext"],Se=(yt,ee)=>{let Gt=ze;return ee&&ee.length>0&&(Gt=Gt.filter(Dt=>!ee.includes(Dt))),qe(yt,Gt)},Re=(yt,ee,Gt,Dt)=>{var Ft;if(typeof window<"u"){const qt=window,Te=null===(Ft=null==qt?void 0:qt.Ionic)||void 0===Ft?void 0:Ft.config;if(Te){const Je=Te.get("_ael");if(Je)return Je(yt,ee,Gt,Dt);if(Te._ael)return Te._ael(yt,ee,Gt,Dt)}}return yt.addEventListener(ee,Gt,Dt)},Ze=(yt,ee,Gt,Dt)=>{var Ft;if(typeof window<"u"){const qt=window,Te=null===(Ft=null==qt?void 0:qt.Ionic)||void 0===Ft?void 0:Ft.config;if(Te){const Je=Te.get("_rel");if(Je)return Je(yt,ee,Gt,Dt);if(Te._rel)return Te._rel(yt,ee,Gt,Dt)}}return yt.removeEventListener(ee,Gt,Dt)},Fe=(yt,ee=yt)=>yt.shadowRoot||ee,xe=yt=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(yt):"function"==typeof requestAnimationFrame?requestAnimationFrame(yt):setTimeout(yt),it=yt=>!!yt.shadowRoot&&!!yt.attachShadow,Me=yt=>{const ee=yt.closest("ion-item");return ee?ee.querySelector("ion-label"):null},lt=yt=>{if(yt.focus(),yt.classList.contains("ion-focusable")){const ee=yt.closest("ion-app");ee&&ee.setFocus([yt])}},pt=(yt,ee)=>{let Gt;const Dt=yt.getAttribute("aria-labelledby"),Ft=yt.id;let qt=null!==Dt&&""!==Dt.trim()?Dt:ee+"-lbl",Te=null!==Dt&&""!==Dt.trim()?document.getElementById(Dt):Me(yt);return Te?(null===Dt&&(Te.id=qt),Gt=Te.textContent,Te.setAttribute("aria-hidden","true")):""!==Ft.trim()&&(Te=document.querySelector(`label[for="${Ft}"]`),Te&&(""!==Te.id?qt=Te.id:Te.id=qt=`${Ft}-lbl`,Gt=Te.textContent)),{label:Te,labelId:qt,labelText:Gt}},jt=(yt,ee,Gt,Dt,Ft)=>{if(yt||it(ee)){let qt=ee.querySelector("input.aux-input");qt||(qt=ee.ownerDocument.createElement("input"),qt.type="hidden",qt.classList.add("aux-input"),ee.appendChild(qt)),qt.disabled=Ft,qt.name=Gt,qt.value=Dt||""}},He=(yt,ee,Gt)=>Math.max(yt,Math.min(ee,Gt)),$e=(yt,ee)=>{if(!yt){const Gt="ASSERT: "+ee;throw console.error(Gt),new Error(Gt)}},kt=yt=>yt.timeStamp||Date.now(),Mt=yt=>{if(yt){const ee=yt.changedTouches;if(ee&&ee.length>0){const Gt=ee[0];return{x:Gt.clientX,y:Gt.clientY}}if(void 0!==yt.pageX)return{x:yt.pageX,y:yt.pageY}}return{x:0,y:0}},ft=yt=>{const ee="rtl"===document.dir;switch(yt){case"start":return ee;case"end":return!ee;default:throw new Error(`"${yt}" is not a valid value for [side]. Use "start" or "end" instead.`)}},It=(yt,ee)=>{const Gt=yt._original||yt;return{_original:yt,emit:St(Gt.emit.bind(Gt),ee)}},St=(yt,ee=0)=>{let Gt;return(...Dt)=>{clearTimeout(Gt),Gt=setTimeout(yt,ee,...Dt)}},Ct=(yt,ee)=>{if(null!=yt||(yt={}),null!=ee||(ee={}),yt===ee)return!0;const Gt=Object.keys(yt);if(Gt.length!==Object.keys(ee).length)return!1;for(const Dt of Gt)if(!(Dt in ee)||yt[Dt]!==ee[Dt])return!1;return!0}},3457:(Jn,Lt,z)=>{"use strict";z.d(Lt,{w:()=>d});const d=typeof window<"u"?window:void 0},1898:(Jn,Lt,z)=>{"use strict";z.r(Lt),z.d(Lt,{GESTURE_CONTROLLER:()=>d.G,createGesture:()=>Ze});var d=z(4349);const E=(Me,lt,pt,jt)=>{const He=be(Me)?{capture:!!jt.capture,passive:!!jt.passive}:!!jt.capture;let $e,kt;return Me.__zone_symbol__addEventListener?($e="__zone_symbol__addEventListener",kt="__zone_symbol__removeEventListener"):($e="addEventListener",kt="removeEventListener"),Me[$e](lt,pt,He),()=>{Me[kt](lt,pt,He)}},be=Me=>{if(void 0===ke)try{const lt=Object.defineProperty({},"passive",{get:()=>{ke=!0}});Me.addEventListener("optsTest",()=>{},lt)}catch{ke=!1}return!!ke};let ke;const Se=Me=>Me instanceof Document?Me:Me.ownerDocument,Ze=Me=>{let lt=!1,pt=!1,jt=!0,He=!1;const $e=Object.assign({disableScroll:!1,direction:"x",gesturePriority:0,passive:!0,maxAngle:40,threshold:10},Me),kt=$e.canStart,Mt=$e.onWillStart,ft=$e.onStart,It=$e.onEnd,St=$e.notCaptured,Ct=$e.onMove,yt=$e.threshold,ee=$e.passive,Gt=$e.blurOnStart,Dt={type:"pan",startX:0,startY:0,startTime:0,currentX:0,currentY:0,velocityX:0,velocityY:0,deltaX:0,deltaY:0,currentTime:0,event:void 0,data:void 0},Ft=((Me,lt,pt)=>{const jt=pt*(Math.PI/180),He="x"===Me,$e=Math.cos(jt),kt=lt*lt;let Mt=0,ft=0,It=!1,St=0;return{start(Ct,yt){Mt=Ct,ft=yt,St=0,It=!0},detect(Ct,yt){if(!It)return!1;const ee=Ct-Mt,Gt=yt-ft,Dt=ee*ee+Gt*Gt;if(Dt<kt)return!1;const Ft=Math.sqrt(Dt),qt=(He?ee:Gt)/Ft;return St=qt>$e?1:qt<-$e?-1:0,It=!1,!0},isGesture:()=>0!==St,getDirection:()=>St}})($e.direction,$e.threshold,$e.maxAngle),qt=d.G.createGesture({name:Me.gestureName,priority:Me.gesturePriority,disableScroll:Me.disableScroll}),ct=()=>{lt&&(He=!1,Ct&&Ct(Dt))},mt=()=>!!qt.capture()&&(lt=!0,jt=!1,Dt.startX=Dt.currentX,Dt.startY=Dt.currentY,Dt.startTime=Dt.currentTime,Mt?Mt(Dt).then(tt):tt(),!0),tt=()=>{Gt&&(()=>{if(typeof document<"u"){const sn=document.activeElement;null!=sn&&sn.blur&&sn.blur()}})(),ft&&ft(Dt),jt=!0},ut=()=>{lt=!1,pt=!1,He=!1,jt=!0,qt.release()},Ut=sn=>{const On=lt,tn=jt;if(ut(),tn){if(Fe(Dt,sn),On)return void(It&&It(Dt));St&&St(Dt)}},Nt=((Me,lt,pt,jt,He)=>{let $e,kt,Mt,ft,It,St,Ct,yt=0;const ee=et=>{yt=Date.now()+2e3,lt(et)&&(!kt&&pt&&(kt=E(Me,"touchmove",pt,He)),Mt||(Mt=E(et.target,"touchend",Dt,He)),ft||(ft=E(et.target,"touchcancel",Dt,He)))},Gt=et=>{yt>Date.now()||lt(et)&&(!St&&pt&&(St=E(Se(Me),"mousemove",pt,He)),Ct||(Ct=E(Se(Me),"mouseup",Ft,He)))},Dt=et=>{qt(),jt&&jt(et)},Ft=et=>{Te(),jt&&jt(et)},qt=()=>{kt&&kt(),Mt&&Mt(),ft&&ft(),kt=Mt=ft=void 0},Te=()=>{St&&St(),Ct&&Ct(),St=Ct=void 0},Je=()=>{qt(),Te()},ct=(et=!0)=>{et?($e||($e=E(Me,"touchstart",ee,He)),It||(It=E(Me,"mousedown",Gt,He))):($e&&$e(),It&&It(),$e=It=void 0,Je())};return{enable:ct,stop:Je,destroy:()=>{ct(!1),jt=pt=lt=void 0}}})($e.el,sn=>{const On=it(sn);return!(pt||!jt||(xe(sn,Dt),Dt.startX=Dt.currentX,Dt.startY=Dt.currentY,Dt.startTime=Dt.currentTime=On,Dt.velocityX=Dt.velocityY=Dt.deltaX=Dt.deltaY=0,Dt.event=sn,kt&&!1===kt(Dt))||(qt.release(),!qt.start()))&&(pt=!0,0===yt?mt():(Ft.start(Dt.startX,Dt.startY),!0))},sn=>{lt?!He&&jt&&(He=!0,Fe(Dt,sn),requestAnimationFrame(ct)):(Fe(Dt,sn),Ft.detect(Dt.currentX,Dt.currentY)&&(!Ft.isGesture()||!mt())&&Qt())},Ut,{capture:!1,passive:ee}),Qt=()=>{ut(),Nt.stop(),St&&St(Dt)};return{enable(sn=!0){sn||(lt&&Ut(void 0),ut()),Nt.enable(sn)},destroy(){qt.destroy(),Nt.destroy()}}},Fe=(Me,lt)=>{if(!lt)return;const pt=Me.currentX,jt=Me.currentY,He=Me.currentTime;xe(lt,Me);const $e=Me.currentX,kt=Me.currentY,ft=(Me.currentTime=it(lt))-He;if(ft>0&&ft<100){const St=(kt-jt)/ft;Me.velocityX=($e-pt)/ft*.7+.3*Me.velocityX,Me.velocityY=.7*St+.3*Me.velocityY}Me.deltaX=$e-Me.startX,Me.deltaY=kt-Me.startY,Me.event=lt},xe=(Me,lt)=>{let pt=0,jt=0;if(Me){const He=Me.changedTouches;if(He&&He.length>0){const $e=He[0];pt=$e.clientX,jt=$e.clientY}else void 0!==Me.pageX&&(pt=Me.pageX,jt=Me.pageY)}lt.currentX=pt,lt.currentY=jt},it=Me=>Me.timeStamp||Date.now()},4083:(Jn,Lt,z)=>{"use strict";z.d(Lt,{B:()=>xe,H:()=>Je,a:()=>rs,b:()=>Vt,c:()=>sn,d:()=>cn,e:()=>Is,f:()=>vt,g:()=>On,h:()=>qt,i:()=>zn,j:()=>it,p:()=>Xs,r:()=>Bt,w:()=>js});var d=z(5861);let be,ke,qe,ze=!1,Se=!1,Re=!1,Ze=!1,Fe=!1;const xe={isDev:!1,isBrowser:!0,isServer:!1,isTesting:!1},it=re=>{const pe=new URL(re,Yr.$resourcesUrl$);return pe.origin!==Xr.location.origin?pe.href:pe.pathname},kt="s-id",Mt="sty-id",St="http://www.w3.org/1999/xlink",Ct={},Dt=re=>"object"==(re=typeof re)||"function"===re;function Ft(re){var pe,Oe,_e;return null!==(_e=null===(Oe=null===(pe=re.head)||void 0===pe?void 0:pe.querySelector('meta[name="csp-nonce"]'))||void 0===Oe?void 0:Oe.getAttribute("content"))&&void 0!==_e?_e:void 0}const qt=(re,pe,...Oe)=>{let _e=null,ne=null,ve=null,st=!1,wt=!1;const $t=[],nn=Un=>{for(let Nr=0;Nr<Un.length;Nr++)_e=Un[Nr],Array.isArray(_e)?nn(_e):null!=_e&&"boolean"!=typeof _e&&((st="function"!=typeof re&&!Dt(_e))&&(_e=String(_e)),st&&wt?$t[$t.length-1].$text$+=_e:$t.push(st?Te(null,_e):_e),wt=st)};if(nn(Oe),pe){pe.key&&(ne=pe.key),pe.name&&(ve=pe.name);{const Un=pe.className||pe.class;Un&&(pe.class="object"!=typeof Un?Un:Object.keys(Un).filter(Nr=>Un[Nr]).join(" "))}}if("function"==typeof re)return re(null===pe?{}:pe,$t,mt);const Vn=Te(re,null);return Vn.$attrs$=pe,$t.length>0&&(Vn.$children$=$t),Vn.$key$=ne,Vn.$name$=ve,Vn},Te=(re,pe)=>({$flags$:0,$tag$:re,$text$:pe,$elm$:null,$children$:null,$attrs$:null,$key$:null,$name$:null}),Je={},mt={forEach:(re,pe)=>re.map(et).forEach(pe),map:(re,pe)=>re.map(et).map(pe).map(tt)},et=re=>({vattrs:re.$attrs$,vchildren:re.$children$,vkey:re.$key$,vname:re.$name$,vtag:re.$tag$,vtext:re.$text$}),tt=re=>{if("function"==typeof re.vtag){const Oe=Object.assign({},re.vattrs);return re.vkey&&(Oe.key=re.vkey),re.vname&&(Oe.name=re.vname),qt(re.vtag,Oe,...re.vchildren||[])}const pe=Te(re.vtag,re.vtext);return pe.$attrs$=re.vattrs,pe.$children$=re.vchildren,pe.$key$=re.vkey,pe.$name$=re.vname,pe},Ut=(re,pe,Oe,_e,ne,ve,st)=>{let wt,$t,nn,Vn;if(1===ve.nodeType){for(wt=ve.getAttribute("c-id"),wt&&($t=wt.split("."),($t[0]===st||"0"===$t[0])&&(nn={$flags$:0,$hostId$:$t[0],$nodeId$:$t[1],$depth$:$t[2],$index$:$t[3],$tag$:ve.tagName.toLowerCase(),$elm$:ve,$attrs$:null,$children$:null,$key$:null,$name$:null,$text$:null},pe.push(nn),ve.removeAttribute("c-id"),re.$children$||(re.$children$=[]),re.$children$[nn.$index$]=nn,re=nn,_e&&"0"===nn.$depth$&&(_e[nn.$index$]=nn.$elm$))),Vn=ve.childNodes.length-1;Vn>=0;Vn--)Ut(re,pe,Oe,_e,ne,ve.childNodes[Vn],st);if(ve.shadowRoot)for(Vn=ve.shadowRoot.childNodes.length-1;Vn>=0;Vn--)Ut(re,pe,Oe,_e,ne,ve.shadowRoot.childNodes[Vn],st)}else if(8===ve.nodeType)$t=ve.nodeValue.split("."),($t[1]===st||"0"===$t[1])&&(wt=$t[0],nn={$flags$:0,$hostId$:$t[1],$nodeId$:$t[2],$depth$:$t[3],$index$:$t[4],$elm$:ve,$attrs$:null,$children$:null,$key$:null,$name$:null,$tag$:null,$text$:null},"t"===wt?(nn.$elm$=ve.nextSibling,nn.$elm$&&3===nn.$elm$.nodeType&&(nn.$text$=nn.$elm$.textContent,pe.push(nn),ve.remove(),re.$children$||(re.$children$=[]),re.$children$[nn.$index$]=nn,_e&&"0"===nn.$depth$&&(_e[nn.$index$]=nn.$elm$))):nn.$hostId$===st&&("s"===wt?(nn.$tag$="slot",ve["s-sn"]=$t[5]?nn.$name$=$t[5]:"",ve["s-sr"]=!0,_e&&(nn.$elm$=zr.createElement(nn.$tag$),nn.$name$&&nn.$elm$.setAttribute("name",nn.$name$),ve.parentNode.insertBefore(nn.$elm$,ve),ve.remove(),"0"===nn.$depth$&&(_e[nn.$index$]=nn.$elm$)),Oe.push(nn),re.$children$||(re.$children$=[]),re.$children$[nn.$index$]=nn):"r"===wt&&(_e?ve.remove():(ne["s-cr"]=ve,ve["s-cn"]=!0))));else if(re&&"style"===re.$tag$){const Un=Te(null,ve.textContent);Un.$elm$=ve,Un.$index$="0",re.$children$=[Un]}},Nt=(re,pe)=>{if(1===re.nodeType){let Oe=0;for(;Oe<re.childNodes.length;Oe++)Nt(re.childNodes[Oe],pe);if(re.shadowRoot)for(Oe=0;Oe<re.shadowRoot.childNodes.length;Oe++)Nt(re.shadowRoot.childNodes[Oe],pe)}else if(8===re.nodeType){const Oe=re.nodeValue.split(".");"o"===Oe[0]&&(pe.set(Oe[1]+"."+Oe[2],re),re.nodeValue="",re["s-en"]=Oe[3])}},sn=re=>Fi.push(re),On=re=>kn(re).$modeName$,vt=re=>kn(re).$hostElement$,cn=(re,pe,Oe)=>{const _e=vt(re);return{emit:ne=>vn(_e,pe,{bubbles:!!(4&Oe),composed:!!(2&Oe),cancelable:!!(1&Oe),detail:ne})}},vn=(re,pe,Oe)=>{const _e=Yr.ce(pe,Oe);return re.dispatchEvent(_e),_e},qn=new WeakMap,er=(re,pe,Oe)=>{let _e=Sr.get(re);ys&&Oe?(_e=_e||new CSSStyleSheet,"string"==typeof _e?_e=pe:_e.replaceSync(pe)):_e=pe,Sr.set(re,_e)},ur=(re,pe,Oe,_e)=>{var ne;let ve=ir(pe,Oe);const st=Sr.get(ve);if(re=11===re.nodeType?re:zr,st)if("string"==typeof st){let $t,wt=qn.get(re=re.head||re);if(wt||qn.set(re,wt=new Set),!wt.has(ve)){if(re.host&&($t=re.querySelector(`[${Mt}="${ve}"]`)))$t.innerHTML=st;else{$t=zr.createElement("style"),$t.innerHTML=st;const nn=null!==(ne=Yr.$nonce$)&&void 0!==ne?ne:Ft(zr);null!=nn&&$t.setAttribute("nonce",nn),re.insertBefore($t,re.querySelector("link"))}wt&&wt.add(ve)}}else re.adoptedStyleSheets.includes(st)||(re.adoptedStyleSheets=[...re.adoptedStyleSheets,st]);return ve},ir=(re,pe)=>"sc-"+(pe&&32&re.$flags$?re.$tagName$+"-"+pe:re.$tagName$),an=re=>re.replace(/\/\*!@([^\/]+)\*\/[^\{]+\{/g,"$1{"),Pr=(re,pe,Oe,_e,ne,ve)=>{if(Oe!==_e){let st=fn(re,pe),wt=pe.toLowerCase();if("class"===pe){const $t=re.classList,nn=xr(Oe),Vn=xr(_e);$t.remove(...nn.filter(Un=>Un&&!Vn.includes(Un))),$t.add(...Vn.filter(Un=>Un&&!nn.includes(Un)))}else if("style"===pe){for(const $t in Oe)(!_e||null==_e[$t])&&($t.includes("-")?re.style.removeProperty($t):re.style[$t]="");for(const $t in _e)(!Oe||_e[$t]!==Oe[$t])&&($t.includes("-")?re.style.setProperty($t,_e[$t]):re.style[$t]=_e[$t])}else if("key"!==pe)if("ref"===pe)_e&&_e(re);else if(st||"o"!==pe[0]||"n"!==pe[1]){const $t=Dt(_e);if((st||$t&&null!==_e)&&!ne)try{if(re.tagName.includes("-"))re[pe]=_e;else{const Vn=null==_e?"":_e;"list"===pe?st=!1:(null==Oe||re[pe]!=Vn)&&(re[pe]=Vn)}}catch{}let nn=!1;wt!==(wt=wt.replace(/^xlink\:?/,""))&&(pe=wt,nn=!0),null==_e||!1===_e?(!1!==_e||""===re.getAttribute(pe))&&(nn?re.removeAttributeNS(St,pe):re.removeAttribute(pe)):(!st||4&ve||ne)&&!$t&&(_e=!0===_e?"":_e,nn?re.setAttributeNS(St,pe,_e):re.setAttribute(pe,_e))}else pe="-"===pe[2]?pe.slice(3):fn(Xr,wt)?wt.slice(2):wt[2]+pe.slice(3),Oe&&Yr.rel(re,pe,Oe,!1),_e&&Yr.ael(re,pe,_e,!1)}},$r=/\s/,xr=re=>re?re.split($r):[],Rn=(re,pe,Oe,_e)=>{const ne=11===pe.$elm$.nodeType&&pe.$elm$.host?pe.$elm$.host:pe.$elm$,ve=re&&re.$attrs$||Ct,st=pe.$attrs$||Ct;for(_e in ve)_e in st||Pr(ne,_e,ve[_e],void 0,Oe,pe.$flags$);for(_e in st)Pr(ne,_e,ve[_e],st[_e],Oe,pe.$flags$)},ai=(re,pe,Oe,_e)=>{const ne=pe.$children$[Oe];let st,wt,$t,ve=0;if(ze||(Re=!0,"slot"===ne.$tag$&&(be&&_e.classList.add(be+"-s"),ne.$flags$|=ne.$children$?2:1)),null!==ne.$text$)st=ne.$elm$=zr.createTextNode(ne.$text$);else if(1&ne.$flags$)st=ne.$elm$=zr.createTextNode("");else{if(Ze||(Ze="svg"===ne.$tag$),st=ne.$elm$=zr.createElementNS(Ze?"http://www.w3.org/2000/svg":"http://www.w3.org/1999/xhtml",2&ne.$flags$?"slot-fb":ne.$tag$),Ze&&"foreignObject"===ne.$tag$&&(Ze=!1),Rn(null,ne,Ze),(re=>null!=re)(be)&&st["s-si"]!==be&&st.classList.add(st["s-si"]=be),ne.$children$)for(ve=0;ve<ne.$children$.length;++ve)wt=ai(re,ne,ve,st),wt&&st.appendChild(wt);"svg"===ne.$tag$?Ze=!1:"foreignObject"===st.tagName&&(Ze=!0)}return st["s-hn"]=qe,3&ne.$flags$&&(st["s-sr"]=!0,st["s-cr"]=ke,st["s-sn"]=ne.$name$||"",$t=re&&re.$children$&&re.$children$[Oe],$t&&$t.$tag$===ne.$tag$&&re.$elm$&&Gr(re.$elm$,!1)),st},Gr=(re,pe)=>{Yr.$flags$|=1;const Oe=re.childNodes;for(let _e=Oe.length-1;_e>=0;_e--){const ne=Oe[_e];ne["s-hn"]!==qe&&ne["s-ol"]&&(mr(ne).insertBefore(ne,nr(ne)),ne["s-ol"].remove(),ne["s-ol"]=void 0,Re=!0),pe&&Gr(ne,pe)}Yr.$flags$&=-2},ar=(re,pe,Oe,_e,ne,ve)=>{let wt,st=re["s-cr"]&&re["s-cr"].parentNode||re;for(st.shadowRoot&&st.tagName===qe&&(st=st.shadowRoot);ne<=ve;++ne)_e[ne]&&(wt=ai(null,Oe,ne,re),wt&&(_e[ne].$elm$=wt,st.insertBefore(wt,nr(pe))))},Pi=(re,pe,Oe)=>{for(let _e=pe;_e<=Oe;++_e){const ne=re[_e];if(ne){const ve=ne.$elm$;br(ne),ve&&(Se=!0,ve["s-ol"]?ve["s-ol"].remove():Gr(ve,!0),ve.remove())}}},lr=(re,pe)=>re.$tag$===pe.$tag$&&("slot"===re.$tag$?re.$name$===pe.$name$:re.$key$===pe.$key$),nr=re=>re&&re["s-ol"]||re,mr=re=>(re["s-ol"]?re["s-ol"]:re).parentNode,bi=(re,pe)=>{const Oe=pe.$elm$=re.$elm$,_e=re.$children$,ne=pe.$children$,ve=pe.$tag$,st=pe.$text$;let wt;null===st?(Ze="svg"===ve||"foreignObject"!==ve&&Ze,"slot"===ve||Rn(re,pe,Ze),null!==_e&&null!==ne?((re,pe,Oe,_e)=>{let vs,Ji,ne=0,ve=0,st=0,wt=0,$t=pe.length-1,nn=pe[0],Vn=pe[$t],Un=_e.length-1,Nr=_e[0],Qr=_e[Un];for(;ne<=$t&&ve<=Un;)if(null==nn)nn=pe[++ne];else if(null==Vn)Vn=pe[--$t];else if(null==Nr)Nr=_e[++ve];else if(null==Qr)Qr=_e[--Un];else if(lr(nn,Nr))bi(nn,Nr),nn=pe[++ne],Nr=_e[++ve];else if(lr(Vn,Qr))bi(Vn,Qr),Vn=pe[--$t],Qr=_e[--Un];else if(lr(nn,Qr))("slot"===nn.$tag$||"slot"===Qr.$tag$)&&Gr(nn.$elm$.parentNode,!1),bi(nn,Qr),re.insertBefore(nn.$elm$,Vn.$elm$.nextSibling),nn=pe[++ne],Qr=_e[--Un];else if(lr(Vn,Nr))("slot"===nn.$tag$||"slot"===Qr.$tag$)&&Gr(Vn.$elm$.parentNode,!1),bi(Vn,Nr),re.insertBefore(Vn.$elm$,nn.$elm$),Vn=pe[--$t],Nr=_e[++ve];else{for(st=-1,wt=ne;wt<=$t;++wt)if(pe[wt]&&null!==pe[wt].$key$&&pe[wt].$key$===Nr.$key$){st=wt;break}st>=0?(Ji=pe[st],Ji.$tag$!==Nr.$tag$?vs=ai(pe&&pe[ve],Oe,st,re):(bi(Ji,Nr),pe[st]=void 0,vs=Ji.$elm$),Nr=_e[++ve]):(vs=ai(pe&&pe[ve],Oe,ve,re),Nr=_e[++ve]),vs&&mr(nn.$elm$).insertBefore(vs,nr(nn.$elm$))}ne>$t?ar(re,null==_e[Un+1]?null:_e[Un+1].$elm$,Oe,_e,ve,Un):ve>Un&&Pi(pe,ne,$t)})(Oe,_e,pe,ne):null!==ne?(null!==re.$text$&&(Oe.textContent=""),ar(Oe,null,pe,ne,0,ne.length-1)):null!==_e&&Pi(_e,0,_e.length-1),Ze&&"svg"===ve&&(Ze=!1)):(wt=Oe["s-cr"])?wt.parentNode.textContent=st:re.$text$!==st&&(Oe.data=st)},li=re=>{const pe=re.childNodes;let Oe,_e,ne,ve,st,wt;for(_e=0,ne=pe.length;_e<ne;_e++)if(Oe=pe[_e],1===Oe.nodeType){if(Oe["s-sr"])for(st=Oe["s-sn"],Oe.hidden=!1,ve=0;ve<ne;ve++)if(wt=pe[ve].nodeType,pe[ve]["s-hn"]!==Oe["s-hn"]||""!==st){if(1===wt&&st===pe[ve].getAttribute("slot")){Oe.hidden=!0;break}}else if(1===wt||3===wt&&""!==pe[ve].textContent.trim()){Oe.hidden=!0;break}li(Oe)}},Kr=[],di=re=>{let pe,Oe,_e,ne,ve,st,wt=0;const $t=re.childNodes,nn=$t.length;for(;wt<nn;wt++){if(pe=$t[wt],pe["s-sr"]&&(Oe=pe["s-cr"])&&Oe.parentNode)for(_e=Oe.parentNode.childNodes,ne=pe["s-sn"],st=_e.length-1;st>=0;st--)Oe=_e[st],!Oe["s-cn"]&&!Oe["s-nr"]&&Oe["s-hn"]!==pe["s-hn"]&&(Ai(Oe,ne)?(ve=Kr.find(Vn=>Vn.$nodeToRelocate$===Oe),Se=!0,Oe["s-sn"]=Oe["s-sn"]||ne,ve?ve.$slotRefNode$=pe:Kr.push({$slotRefNode$:pe,$nodeToRelocate$:Oe}),Oe["s-sr"]&&Kr.map(Vn=>{Ai(Vn.$nodeToRelocate$,Oe["s-sn"])&&(ve=Kr.find(Un=>Un.$nodeToRelocate$===Oe),ve&&!Vn.$slotRefNode$&&(Vn.$slotRefNode$=ve.$slotRefNode$))})):Kr.some(Vn=>Vn.$nodeToRelocate$===Oe)||Kr.push({$nodeToRelocate$:Oe}));1===pe.nodeType&&di(pe)}},Ai=(re,pe)=>1===re.nodeType?null===re.getAttribute("slot")&&""===pe||re.getAttribute("slot")===pe:re["s-sn"]===pe||""===pe,br=re=>{re.$attrs$&&re.$attrs$.ref&&re.$attrs$.ref(null),re.$children$&&re.$children$.map(br)},Ei=(re,pe)=>{pe&&!re.$onRenderResolve$&&pe["s-p"]&&pe["s-p"].push(new Promise(Oe=>re.$onRenderResolve$=Oe))},Er=(re,pe)=>{if(re.$flags$|=16,!(4&re.$flags$))return Ei(re,re.$ancestorComponent$),js(()=>Cn(re,pe));re.$flags$|=512},Cn=(re,pe)=>{const _e=re.$lazyInstance$;let ne;return pe&&(re.$flags$|=256,re.$queuedListeners$&&(re.$queuedListeners$.map(([ve,st])=>kr(_e,ve,st)),re.$queuedListeners$=null),ne=kr(_e,"componentWillLoad")),ne=Ne(ne,()=>kr(_e,"componentWillRender")),Ne(ne,()=>dt(re,_e,pe))},Ne=(re,pe)=>re instanceof Promise?re.then(pe):pe(),dt=function(){var re=(0,d.Z)(function*(pe,Oe,_e){const ne=pe.$hostElement$,st=ne["s-rc"];_e&&(re=>{const pe=re.$cmpMeta$,Oe=re.$hostElement$,_e=pe.$flags$,ve=ur(Oe.shadowRoot?Oe.shadowRoot:Oe.getRootNode(),pe,re.$modeName$);10&_e&&(Oe["s-sc"]=ve,Oe.classList.add(ve+"-h"),2&_e&&Oe.classList.add(ve+"-s"))})(pe);Ht(pe,Oe),st&&(st.map($t=>$t()),ne["s-rc"]=void 0);{const $t=ne["s-p"],nn=()=>En(pe);0===$t.length?nn():(Promise.all($t).then(nn),pe.$flags$|=4,$t.length=0)}});return function(Oe,_e,ne){return re.apply(this,arguments)}}(),Ht=(re,pe,Oe)=>{try{pe=pe.render&&pe.render(),re.$flags$&=-17,re.$flags$|=2,((re,pe)=>{const Oe=re.$hostElement$,_e=re.$cmpMeta$,ne=re.$vnode$||Te(null,null),ve=(re=>re&&re.$tag$===Je)(pe)?pe:qt(null,null,pe);if(qe=Oe.tagName,_e.$attrsToReflect$&&(ve.$attrs$=ve.$attrs$||{},_e.$attrsToReflect$.map(([st,wt])=>ve.$attrs$[wt]=Oe[st])),ve.$tag$=null,ve.$flags$|=4,re.$vnode$=ve,ve.$elm$=ne.$elm$=Oe.shadowRoot||Oe,be=Oe["s-sc"],ke=Oe["s-cr"],ze=0!=(1&_e.$flags$),Se=!1,bi(ne,ve),Yr.$flags$|=1,Re){di(ve.$elm$);let st,wt,$t,nn,Vn,Un,Nr=0;for(;Nr<Kr.length;Nr++)st=Kr[Nr],wt=st.$nodeToRelocate$,wt["s-ol"]||($t=zr.createTextNode(""),$t["s-nr"]=wt,wt.parentNode.insertBefore(wt["s-ol"]=$t,wt));for(Nr=0;Nr<Kr.length;Nr++)if(st=Kr[Nr],wt=st.$nodeToRelocate$,st.$slotRefNode$){for(nn=st.$slotRefNode$.parentNode,Vn=st.$slotRefNode$.nextSibling,$t=wt["s-ol"];$t=$t.previousSibling;)if(Un=$t["s-nr"],Un&&Un["s-sn"]===wt["s-sn"]&&nn===Un.parentNode&&(Un=Un.nextSibling,!Un||!Un["s-nr"])){Vn=Un;break}(!Vn&&nn!==wt.parentNode||wt.nextSibling!==Vn)&&wt!==Vn&&(!wt["s-hn"]&&wt["s-ol"]&&(wt["s-hn"]=wt["s-ol"].parentNode.nodeName),nn.insertBefore(wt,Vn))}else 1===wt.nodeType&&(wt.hidden=!0)}Se&&li(ve.$elm$),Yr.$flags$&=-2,Kr.length=0})(re,pe)}catch(_e){Yn(_e,re.$hostElement$)}return null},En=re=>{const Oe=re.$hostElement$,ne=re.$lazyInstance$,ve=re.$ancestorComponent$;kr(ne,"componentDidRender"),64&re.$flags$?kr(ne,"componentDidUpdate"):(re.$flags$|=64,Or(Oe),kr(ne,"componentDidLoad"),re.$onReadyResolve$(Oe),ve||jr()),re.$onInstanceResolve$(Oe),re.$onRenderResolve$&&(re.$onRenderResolve$(),re.$onRenderResolve$=void 0),512&re.$flags$&&Js(()=>Er(re,!1)),re.$flags$&=-517},zn=re=>{{const pe=kn(re),Oe=pe.$hostElement$.isConnected;return Oe&&2==(18&pe.$flags$)&&Er(pe,!1),Oe}},jr=re=>{Or(zr.documentElement),Js(()=>vn(Xr,"appload",{detail:{namespace:"ionic"}}))},kr=(re,pe,Oe)=>{if(re&&re[pe])try{return re[pe](Oe)}catch(_e){Yn(_e)}},Or=re=>re.classList.add("hydrated"),ie=(re,pe,Oe)=>{if(pe.$members$){re.watchers&&(pe.$watchers$=re.watchers);const _e=Object.entries(pe.$members$),ne=re.prototype;if(_e.map(([ve,[st]])=>{31&st||2&Oe&&32&st?Object.defineProperty(ne,ve,{get(){return((re,pe)=>kn(this).$instanceValues$.get(pe))(0,ve)},set(wt){((re,pe,Oe,_e)=>{const ne=kn(re),ve=ne.$hostElement$,st=ne.$instanceValues$.get(pe),wt=ne.$flags$,$t=ne.$lazyInstance$;Oe=((re,pe)=>null==re||Dt(re)?re:4&pe?"false"!==re&&(""===re||!!re):2&pe?parseFloat(re):1&pe?String(re):re)(Oe,_e.$members$[pe][0]);const nn=Number.isNaN(st)&&Number.isNaN(Oe);if((!(8&wt)||void 0===st)&&Oe!==st&&!nn&&(ne.$instanceValues$.set(pe,Oe),$t)){if(_e.$watchers$&&128&wt){const Un=_e.$watchers$[pe];Un&&Un.map(Nr=>{try{$t[Nr](Oe,st,pe)}catch(Qr){Yn(Qr,ve)}})}2==(18&wt)&&Er(ne,!1)}})(this,ve,wt,pe)},configurable:!0,enumerable:!0}):1&Oe&&64&st&&Object.defineProperty(ne,ve,{value(...wt){const $t=kn(this);return $t.$onInstancePromise$.then(()=>$t.$lazyInstance$[ve](...wt))}})}),1&Oe){const ve=new Map;ne.attributeChangedCallback=function(st,wt,$t){Yr.jmp(()=>{const nn=ve.get(st);if(this.hasOwnProperty(nn))$t=this[nn],delete this[nn];else if(ne.hasOwnProperty(nn)&&"number"==typeof this[nn]&&this[nn]==$t)return;this[nn]=(null!==$t||"boolean"!=typeof this[nn])&&$t})},re.observedAttributes=_e.filter(([st,wt])=>15&wt[0]).map(([st,wt])=>{const $t=wt[1]||st;return ve.set($t,st),512&wt[0]&&pe.$attrsToReflect$.push([st,$t]),$t})}}return re},te=function(){var re=(0,d.Z)(function*(pe,Oe,_e,ne,ve){if(!(32&Oe.$flags$)){Oe.$flags$|=32;{if((ve=Fr(_e)).then){const nn=()=>{};ve=yield ve,nn()}ve.isProxied||(_e.$watchers$=ve.watchers,ie(ve,_e,2),ve.isProxied=!0);const $t=()=>{};Oe.$flags$|=8;try{new ve(Oe)}catch(nn){Yn(nn)}Oe.$flags$&=-9,Oe.$flags$|=128,$t(),se(Oe.$lazyInstance$)}if(ve.style){let $t=ve.style;"string"!=typeof $t&&($t=$t[Oe.$modeName$=(re=>Fi.map(pe=>pe(re)).find(pe=>!!pe))(pe)]);const nn=ir(_e,Oe.$modeName$);if(!Sr.has(nn)){const Vn=()=>{};er(nn,$t,!!(1&_e.$flags$)),Vn()}}}const st=Oe.$ancestorComponent$,wt=()=>Er(Oe,!0);st&&st["s-rc"]?st["s-rc"].push(wt):wt()});return function(Oe,_e,ne,ve,st){return re.apply(this,arguments)}}(),se=re=>{kr(re,"connectedCallback")},xt=re=>{const pe=re["s-cr"]=zr.createComment("");pe["s-cn"]=!0,re.insertBefore(pe,re.firstChild)},Vt=(re,pe={})=>{var Oe;const ne=[],ve=pe.exclude||[],st=Xr.customElements,wt=zr.head,$t=wt.querySelector("meta[charset]"),nn=zr.createElement("style"),Vn=[],Un=zr.querySelectorAll(`[${Mt}]`);let Nr,Qr=!0,vs=0;for(Object.assign(Yr,pe),Yr.$resourcesUrl$=new URL(pe.resourcesUrl||"./",zr.baseURI).href,Yr.$flags$|=2;vs<Un.length;vs++)er(Un[vs].getAttribute(Mt),an(Un[vs].innerHTML),!0);re.map(Ji=>{Ji[1].map(Ti=>{const Mr={$flags$:Ti[0],$tagName$:Ti[1],$members$:Ti[2],$listeners$:Ti[3]};Mr.$members$=Ti[2],Mr.$listeners$=Ti[3],Mr.$attrsToReflect$=[],Mr.$watchers$={};const Tn=Mr.$tagName$,Lr=class extends HTMLElement{constructor(Br){super(Br),Kt(Br=this,Mr),1&Mr.$flags$&&Br.attachShadow({mode:"open",delegatesFocus:!!(16&Mr.$flags$)})}connectedCallback(){Nr&&(clearTimeout(Nr),Nr=null),Qr?Vn.push(this):Yr.jmp(()=>(re=>{if(!(1&Yr.$flags$)){const pe=kn(re),Oe=pe.$cmpMeta$,_e=()=>{};if(1&pe.$flags$)en(re,pe,Oe.$listeners$),se(pe.$lazyInstance$);else{let ne;if(pe.$flags$|=1,ne=re.getAttribute(kt),ne){if(1&Oe.$flags$){const ve=ur(re.shadowRoot,Oe,re.getAttribute("s-mode"));re.classList.remove(ve+"-h",ve+"-s")}((re,pe,Oe,_e)=>{const ve=re.shadowRoot,st=[],$t=ve?[]:null,nn=_e.$vnode$=Te(pe,null);Yr.$orgLocNodes$||Nt(zr.body,Yr.$orgLocNodes$=new Map),re[kt]=Oe,re.removeAttribute(kt),Ut(nn,st,[],$t,re,re,Oe),st.map(Vn=>{const Un=Vn.$hostId$+"."+Vn.$nodeId$,Nr=Yr.$orgLocNodes$.get(Un),Qr=Vn.$elm$;Nr&&Os&&""===Nr["s-en"]&&Nr.parentNode.insertBefore(Qr,Nr.nextSibling),ve||(Qr["s-hn"]=pe,Nr&&(Qr["s-ol"]=Nr,Qr["s-ol"]["s-nr"]=Qr)),Yr.$orgLocNodes$.delete(Un)}),ve&&$t.map(Vn=>{Vn&&ve.appendChild(Vn)})})(re,Oe.$tagName$,ne,pe)}ne||12&Oe.$flags$&&xt(re);{let ve=re;for(;ve=ve.parentNode||ve.host;)if(1===ve.nodeType&&ve.hasAttribute("s-id")&&ve["s-p"]||ve["s-p"]){Ei(pe,pe.$ancestorComponent$=ve);break}}Oe.$members$&&Object.entries(Oe.$members$).map(([ve,[st]])=>{if(31&st&&re.hasOwnProperty(ve)){const wt=re[ve];delete re[ve],re[ve]=wt}}),te(re,pe,Oe)}_e()}})(this))}disconnectedCallback(){Yr.jmp(()=>(re=>{if(!(1&Yr.$flags$)){const pe=kn(this),Oe=pe.$lazyInstance$;pe.$rmListeners$&&(pe.$rmListeners$.map(_e=>_e()),pe.$rmListeners$=void 0),kr(Oe,"disconnectedCallback")}})())}componentOnReady(){return kn(this).$onReadyPromise$}};Mr.$lazyBundleId$=Ji[0],!ve.includes(Tn)&&!st.get(Tn)&&(ne.push(Tn),st.define(Tn,ie(Lr,Mr,1)))})});{nn.innerHTML=ne+"{visibility:hidden}.hydrated{visibility:inherit}",nn.setAttribute("data-styles","");const Ji=null!==(Oe=Yr.$nonce$)&&void 0!==Oe?Oe:Ft(zr);null!=Ji&&nn.setAttribute("nonce",Ji),wt.insertBefore(nn,$t?$t.nextSibling:wt.firstChild)}Qr=!1,Vn.length?Vn.map(Ji=>Ji.connectedCallback()):Yr.jmp(()=>Nr=setTimeout(jr,30))},en=(re,pe,Oe,_e)=>{Oe&&Oe.map(([ne,ve,st])=>{const wt=gn(re,ne),$t=Sn(pe,st),nn=Wn(ne);Yr.ael(wt,ve,$t,nn),(pe.$rmListeners$=pe.$rmListeners$||[]).push(()=>Yr.rel(wt,ve,$t,nn))})},Sn=(re,pe)=>Oe=>{try{256&re.$flags$?re.$lazyInstance$[pe](Oe):(re.$queuedListeners$=re.$queuedListeners$||[]).push([pe,Oe])}catch(_e){Yn(_e)}},gn=(re,pe)=>4&pe?zr:8&pe?Xr:16&pe?zr.body:re,Wn=re=>0!=(2&re),yn=new WeakMap,kn=re=>yn.get(re),Bt=(re,pe)=>yn.set(pe.$lazyInstance$=re,pe),Kt=(re,pe)=>{const Oe={$flags$:0,$hostElement$:re,$cmpMeta$:pe,$instanceValues$:new Map};return Oe.$onInstancePromise$=new Promise(_e=>Oe.$onInstanceResolve$=_e),Oe.$onReadyPromise$=new Promise(_e=>Oe.$onReadyResolve$=_e),re["s-p"]=[],re["s-rc"]=[],en(re,Oe,pe.$listeners$),yn.set(re,Oe)},fn=(re,pe)=>pe in re,Yn=(re,pe)=>(0,console.error)(re,pe),pr=new Map,Fr=(re,pe,Oe)=>{const _e=re.$tagName$.replace(/-/g,"_"),ne=re.$lazyBundleId$,ve=pr.get(ne);return ve?ve[_e]:z(863)(`./${ne}.entry.js`).then(st=>(pr.set(ne,st),st[_e]),Yn)},Sr=new Map,Fi=[],Xr=typeof window<"u"?window:{},zr=Xr.document||{head:{}},Yr={$flags$:0,$resourcesUrl$:"",jmp:re=>re(),raf:re=>requestAnimationFrame(re),ael:(re,pe,Oe,_e)=>re.addEventListener(pe,Oe,_e),rel:(re,pe,Oe,_e)=>re.removeEventListener(pe,Oe,_e),ce:(re,pe)=>new CustomEvent(re,pe)},rs=re=>{Object.assign(Yr,re)},Os=!0,Xs=re=>Promise.resolve(re),ys=(()=>{try{return new CSSStyleSheet,"function"==typeof(new CSSStyleSheet).replaceSync}catch{}return!1})(),cs=[],yo=[],ts=(re,pe)=>Oe=>{re.push(Oe),Fe||(Fe=!0,pe&&4&Yr.$flags$?Js(Qs):Yr.raf(Qs))},zi=re=>{for(let pe=0;pe<re.length;pe++)try{re[pe](performance.now())}catch(Oe){Yn(Oe)}re.length=0},Qs=()=>{zi(cs),zi(yo),(Fe=cs.length>0)&&Yr.raf(Qs)},Js=re=>Xs().then(re),Is=ts(cs,!1),js=ts(yo,!0)},8126:(Jn,Lt,z)=>{"use strict";z.d(Lt,{m:()=>xe});var d=z(5861),E=z(7593),be=z(3577),ke=z(5273),qe=z(9613);const ze=it=>(0,qe.c)().duration(it?400:300),Se=it=>{let Me,lt;const pt=it.width+8,jt=(0,qe.c)(),He=(0,qe.c)();it.isEndSide?(Me=pt+"px",lt="0px"):(Me=-pt+"px",lt="0px"),jt.addElement(it.menuInnerEl).fromTo("transform",`translateX(${Me})`,`translateX(${lt})`);const kt="ios"===(0,ke.b)(it),Mt=kt?.2:.25;return He.addElement(it.backdropEl).fromTo("opacity",.01,Mt),ze(kt).addAnimation([jt,He])},Re=it=>{let Me,lt;const pt=(0,ke.b)(it),jt=it.width;it.isEndSide?(Me=-jt+"px",lt=jt+"px"):(Me=jt+"px",lt=-jt+"px");const He=(0,qe.c)().addElement(it.menuInnerEl).fromTo("transform",`translateX(${lt})`,"translateX(0px)"),$e=(0,qe.c)().addElement(it.contentEl).fromTo("transform","translateX(0px)",`translateX(${Me})`),kt=(0,qe.c)().addElement(it.backdropEl).fromTo("opacity",.01,.32);return ze("ios"===pt).addAnimation([He,$e,kt])},Ze=it=>{const Me=(0,ke.b)(it),lt=it.width*(it.isEndSide?-1:1)+"px",pt=(0,qe.c)().addElement(it.contentEl).fromTo("transform","translateX(0px)",`translateX(${lt})`);return ze("ios"===Me).addAnimation(pt)},xe=(()=>{const it=new Map,Me=[],lt=function(){var tt=(0,d.Z)(function*(ut){const Ut=yield ft(ut);return!!Ut&&Ut.open()});return function(Ut){return tt.apply(this,arguments)}}(),pt=function(){var tt=(0,d.Z)(function*(ut){const Ut=yield void 0!==ut?ft(ut):It();return void 0!==Ut&&Ut.close()});return function(Ut){return tt.apply(this,arguments)}}(),jt=function(){var tt=(0,d.Z)(function*(ut){const Ut=yield ft(ut);return!!Ut&&Ut.toggle()});return function(Ut){return tt.apply(this,arguments)}}(),He=function(){var tt=(0,d.Z)(function*(ut,Ut){const Nt=yield ft(Ut);return Nt&&(Nt.disabled=!ut),Nt});return function(Ut,Nt){return tt.apply(this,arguments)}}(),$e=function(){var tt=(0,d.Z)(function*(ut,Ut){const Nt=yield ft(Ut);return Nt&&(Nt.swipeGesture=ut),Nt});return function(Ut,Nt){return tt.apply(this,arguments)}}(),kt=function(){var tt=(0,d.Z)(function*(ut){if(null!=ut){const Ut=yield ft(ut);return void 0!==Ut&&Ut.isOpen()}return void 0!==(yield It())});return function(Ut){return tt.apply(this,arguments)}}(),Mt=function(){var tt=(0,d.Z)(function*(ut){const Ut=yield ft(ut);return!!Ut&&!Ut.disabled});return function(Ut){return tt.apply(this,arguments)}}(),ft=function(){var tt=(0,d.Z)(function*(ut){return yield et(),"start"===ut||"end"===ut?mt(Qt=>Qt.side===ut&&!Qt.disabled)||mt(Qt=>Qt.side===ut):null!=ut?mt(Nt=>Nt.menuId===ut):mt(Nt=>!Nt.disabled)||(Me.length>0?Me[0].el:void 0)});return function(Ut){return tt.apply(this,arguments)}}(),It=function(){var tt=(0,d.Z)(function*(){return yield et(),Te()});return function(){return tt.apply(this,arguments)}}(),St=function(){var tt=(0,d.Z)(function*(){return yield et(),Je()});return function(){return tt.apply(this,arguments)}}(),Ct=function(){var tt=(0,d.Z)(function*(){return yield et(),ct()});return function(){return tt.apply(this,arguments)}}(),yt=(tt,ut)=>{it.set(tt,ut)},Dt=tt=>{const ut=tt.side;Me.filter(Ut=>Ut.side===ut&&Ut!==tt).forEach(Ut=>Ut.disabled=!0)},Ft=function(){var tt=(0,d.Z)(function*(ut,Ut,Nt){if(ct())return!1;if(Ut){const Qt=yield It();Qt&&ut.el!==Qt&&(yield Qt.setOpen(!1,!1))}return ut._setOpen(Ut,Nt)});return function(Ut,Nt,Qt){return tt.apply(this,arguments)}}(),Te=()=>mt(tt=>tt._isOpen),Je=()=>Me.map(tt=>tt.el),ct=()=>Me.some(tt=>tt.isAnimating),mt=tt=>{const ut=Me.find(tt);if(void 0!==ut)return ut.el},et=()=>Promise.all(Array.from(document.querySelectorAll("ion-menu")).map(tt=>new Promise(ut=>(0,be.c)(tt,ut))));return yt("reveal",Ze),yt("push",Re),yt("overlay",Se),typeof document<"u"&&document.addEventListener("ionBackButton",tt=>{const ut=Te();ut&&tt.detail.register(E.MENU_BACK_BUTTON_PRIORITY,()=>ut.close())}),{registerAnimation:yt,get:ft,getMenus:St,getOpen:It,isEnabled:Mt,swipeGesture:$e,isAnimating:Ct,isOpen:kt,enable:He,toggle:jt,close:pt,open:lt,_getOpenSync:Te,_createAnimation:(tt,ut)=>{const Ut=it.get(tt);if(!Ut)throw new Error("animation not registered");return Ut(ut)},_register:tt=>{Me.indexOf(tt)<0&&(tt.disabled||Dt(tt),Me.push(tt))},_unregister:tt=>{const ut=Me.indexOf(tt);ut>-1&&Me.splice(ut,1)},_setOpen:Ft,_setActiveMenu:Dt}})()},1178:(Jn,Lt,z)=>{"use strict";z.d(Lt,{a:()=>E,b:()=>be,p:()=>d});const d=(ke,...qe)=>console.warn(`[Ionic Warning]: ${ke}`,...qe),E=(ke,...qe)=>console.error(`[Ionic Error]: ${ke}`,...qe),be=(ke,...qe)=>console.error(`<${ke.tagName.toLowerCase()}> must be used inside ${qe.join(" or ")}.`)},9866:(Jn,Lt,z)=>{"use strict";z.d(Lt,{L:()=>ke,a:()=>qe,b:()=>ze,c:()=>Se,d:()=>Re,e:()=>Ct,g:()=>Gt,l:()=>St,s:()=>yt,t:()=>xe});var d=z(5861),E=z(4083),be=z(3577);const ke="ionViewWillEnter",qe="ionViewDidEnter",ze="ionViewWillLeave",Se="ionViewDidLeave",Re="ionViewWillUnload",xe=Dt=>new Promise((Ft,qt)=>{(0,E.w)(()=>{it(Dt),Me(Dt).then(Te=>{Te.animation&&Te.animation.destroy(),lt(Dt),Ft(Te)},Te=>{lt(Dt),qt(Te)})})}),it=Dt=>{const Ft=Dt.enteringEl,qt=Dt.leavingEl;ee(Ft,qt,Dt.direction),Dt.showGoBack?Ft.classList.add("can-go-back"):Ft.classList.remove("can-go-back"),yt(Ft,!1),Ft.style.setProperty("pointer-events","none"),qt&&(yt(qt,!1),qt.style.setProperty("pointer-events","none"))},Me=function(){var Dt=(0,d.Z)(function*(Ft){const qt=yield pt(Ft);return qt&&E.B.isBrowser?jt(qt,Ft):He(Ft)});return function(qt){return Dt.apply(this,arguments)}}(),lt=Dt=>{const Ft=Dt.enteringEl,qt=Dt.leavingEl;Ft.classList.remove("ion-page-invisible"),Ft.style.removeProperty("pointer-events"),void 0!==qt&&(qt.classList.remove("ion-page-invisible"),qt.style.removeProperty("pointer-events"))},pt=function(){var Dt=(0,d.Z)(function*(Ft){return Ft.leavingEl&&Ft.animated&&0!==Ft.duration?Ft.animationBuilder?Ft.animationBuilder:"ios"===Ft.mode?(yield Promise.resolve().then(z.bind(z,3551))).iosTransitionAnimation:(yield Promise.resolve().then(z.bind(z,1138))).mdTransitionAnimation:void 0});return function(qt){return Dt.apply(this,arguments)}}(),jt=function(){var Dt=(0,d.Z)(function*(Ft,qt){yield $e(qt,!0);const Te=Ft(qt.baseEl,qt);ft(qt.enteringEl,qt.leavingEl);const Je=yield Mt(Te,qt);return qt.progressCallback&&qt.progressCallback(void 0),Je&&It(qt.enteringEl,qt.leavingEl),{hasCompleted:Je,animation:Te}});return function(qt,Te){return Dt.apply(this,arguments)}}(),He=function(){var Dt=(0,d.Z)(function*(Ft){const qt=Ft.enteringEl,Te=Ft.leavingEl;return yield $e(Ft,!1),ft(qt,Te),It(qt,Te),{hasCompleted:!0}});return function(qt){return Dt.apply(this,arguments)}}(),$e=function(){var Dt=(0,d.Z)(function*(Ft,qt){(void 0!==Ft.deepWait?Ft.deepWait:qt)&&(yield Promise.all([Ct(Ft.enteringEl),Ct(Ft.leavingEl)])),yield kt(Ft.viewIsReady,Ft.enteringEl)});return function(qt,Te){return Dt.apply(this,arguments)}}(),kt=function(){var Dt=(0,d.Z)(function*(Ft,qt){Ft&&(yield Ft(qt))});return function(qt,Te){return Dt.apply(this,arguments)}}(),Mt=(Dt,Ft)=>{const qt=Ft.progressCallback,Te=new Promise(Je=>{Dt.onFinish(ct=>Je(1===ct))});return qt?(Dt.progressStart(!0),qt(Dt)):Dt.play(),Te},ft=(Dt,Ft)=>{St(Ft,ze),St(Dt,ke)},It=(Dt,Ft)=>{St(Dt,qe),St(Ft,Se)},St=(Dt,Ft)=>{if(Dt){const qt=new CustomEvent(Ft,{bubbles:!1,cancelable:!1});Dt.dispatchEvent(qt)}},Ct=function(){var Dt=(0,d.Z)(function*(Ft){const qt=Ft;if(qt){if(null!=qt.componentOnReady){if(null!=(yield qt.componentOnReady()))return}else if(null!=qt.__registerHost)return void(yield new Promise(Je=>(0,be.r)(Je)));yield Promise.all(Array.from(qt.children).map(Ct))}});return function(qt){return Dt.apply(this,arguments)}}(),yt=(Dt,Ft)=>{Ft?(Dt.setAttribute("aria-hidden","true"),Dt.classList.add("ion-page-hidden")):(Dt.hidden=!1,Dt.removeAttribute("aria-hidden"),Dt.classList.remove("ion-page-hidden"))},ee=(Dt,Ft,qt)=>{void 0!==Dt&&(Dt.style.zIndex="back"===qt?"99":"101"),void 0!==Ft&&(Ft.style.zIndex="100")},Gt=Dt=>Dt.classList.contains("ion-page")?Dt:Dt.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")||Dt},5273:(Jn,Lt,z)=>{"use strict";z.d(Lt,{a:()=>xe,b:()=>ct,c:()=>be,g:()=>Fe,i:()=>mt});var d=z(4083);class E{constructor(){this.m=new Map}reset(tt){this.m=new Map(Object.entries(tt))}get(tt,ut){const Ut=this.m.get(tt);return void 0!==Ut?Ut:ut}getBoolean(tt,ut=!1){const Ut=this.m.get(tt);return void 0===Ut?ut:"string"==typeof Ut?"true"===Ut:!!Ut}getNumber(tt,ut){const Ut=parseFloat(this.m.get(tt));return isNaN(Ut)?void 0!==ut?ut:NaN:Ut}set(tt,ut){this.m.set(tt,ut)}}const be=new E,Ze="ionic-persist-config",Fe=et=>it(et),xe=(et,tt)=>("string"==typeof et&&(tt=et,et=void 0),Fe(et).includes(tt)),it=(et=window)=>{if(typeof et>"u")return[];et.Ionic=et.Ionic||{};let tt=et.Ionic.platforms;return null==tt&&(tt=et.Ionic.platforms=Me(et),tt.forEach(ut=>et.document.documentElement.classList.add(`plt-${ut}`))),tt},Me=et=>{const tt=be.get("platform");return Object.keys(Te).filter(ut=>{const Ut=null==tt?void 0:tt[ut];return"function"==typeof Ut?Ut(et):Te[ut](et)})},pt=et=>!!(Ft(et,/iPad/i)||Ft(et,/Macintosh/i)&&It(et)),$e=et=>Ft(et,/android|sink/i),It=et=>qt(et,"(any-pointer:coarse)"),Ct=et=>yt(et)||ee(et),yt=et=>!!(et.cordova||et.phonegap||et.PhoneGap),ee=et=>{const tt=et.Capacitor;return!(null==tt||!tt.isNative)},Ft=(et,tt)=>tt.test(et.navigator.userAgent),qt=(et,tt)=>{var ut;return null===(ut=et.matchMedia)||void 0===ut?void 0:ut.call(et,tt).matches},Te={ipad:pt,iphone:et=>Ft(et,/iPhone/i),ios:et=>Ft(et,/iPhone|iPod/i)||pt(et),android:$e,phablet:et=>{const tt=et.innerWidth,ut=et.innerHeight,Ut=Math.min(tt,ut),Nt=Math.max(tt,ut);return Ut>390&&Ut<520&&Nt>620&&Nt<800},tablet:et=>{const tt=et.innerWidth,ut=et.innerHeight,Ut=Math.min(tt,ut),Nt=Math.max(tt,ut);return pt(et)||(et=>$e(et)&&!Ft(et,/mobile/i))(et)||Ut>460&&Ut<820&&Nt>780&&Nt<1400},cordova:yt,capacitor:ee,electron:et=>Ft(et,/electron/i),pwa:et=>{var tt;return!!(null!==(tt=et.matchMedia)&&void 0!==tt&&tt.call(et,"(display-mode: standalone)").matches||et.navigator.standalone)},mobile:It,mobileweb:et=>It(et)&&!Ct(et),desktop:et=>!It(et),hybrid:Ct};let Je;const ct=et=>et&&(0,d.g)(et)||Je,mt=(et={})=>{if(typeof window>"u")return;const tt=window.document,ut=window,Ut=ut.Ionic=ut.Ionic||{},Nt={};et._ael&&(Nt.ael=et._ael),et._rel&&(Nt.rel=et._rel),et._ce&&(Nt.ce=et._ce),(0,d.a)(Nt);const Qt=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},(et=>{try{const tt=et.sessionStorage.getItem(Ze);return null!==tt?JSON.parse(tt):{}}catch{return{}}})(ut)),{persistConfig:!1}),Ut.config),(et=>{const tt={};return et.location.search.slice(1).split("&").map(ut=>ut.split("=")).map(([ut,Ut])=>[decodeURIComponent(ut),decodeURIComponent(Ut)]).filter(([ut])=>((et,tt)=>et.substr(0,tt.length)===tt)(ut,"ionic:")).map(([ut,Ut])=>[ut.slice(6),Ut]).forEach(([ut,Ut])=>{tt[ut]=Ut}),tt})(ut)),et);be.reset(Qt),be.getBoolean("persistConfig")&&((et,tt)=>{try{et.sessionStorage.setItem(Ze,JSON.stringify(tt))}catch{return}})(ut,Qt),it(ut),Ut.config=be,Ut.mode=Je=be.get("mode",tt.documentElement.getAttribute("mode")||(xe(ut,"ios")?"ios":"md")),be.set("mode",Je),tt.documentElement.setAttribute("mode",Je),tt.documentElement.classList.add(Je),be.getBoolean("_testing")&&be.set("animated",!1);const sn=tn=>{var vt;return null===(vt=tn.tagName)||void 0===vt?void 0:vt.startsWith("ION-")},On=tn=>["ios","md"].includes(tn);(0,d.c)(tn=>{for(;tn;){const vt=tn.mode||tn.getAttribute("mode");if(vt){if(On(vt))return vt;sn(tn)&&console.warn('Invalid ionic mode: "'+vt+'", expected: "ios" or "md"')}tn=tn.parentElement}return Je})}},3551:(Jn,Lt,z)=>{"use strict";z.r(Lt),z.d(Lt,{iosTransitionAnimation:()=>Me,shadow:()=>Se});var d=z(9613),E=z(9866);z(3457),z(4083);const ze=lt=>document.querySelector(`${lt}.ion-cloned-element`),Se=lt=>lt.shadowRoot||lt,Re=lt=>{const pt="ION-TABS"===lt.tagName?lt:lt.querySelector("ion-tabs"),jt="ion-content ion-header:not(.header-collapse-condense-inactive) ion-title.title-large";if(null!=pt){const He=pt.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");return null!=He?He.querySelector(jt):null}return lt.querySelector(jt)},Ze=(lt,pt)=>{const jt="ION-TABS"===lt.tagName?lt:lt.querySelector("ion-tabs");let He=[];if(null!=jt){const $e=jt.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");null!=$e&&(He=$e.querySelectorAll("ion-buttons"))}else He=lt.querySelectorAll("ion-buttons");for(const $e of He){const kt=$e.closest("ion-header"),Mt=kt&&!kt.classList.contains("header-collapse-condense-inactive"),ft=$e.querySelector("ion-back-button"),It=$e.classList.contains("buttons-collapse");if(null!==ft&&("start"===$e.slot||""===$e.slot)&&(It&&Mt&&pt||!It))return ft}return null},xe=(lt,pt,jt,He,$e,kt)=>{const Mt=pt?`calc(100% - ${kt.right+4}px)`:kt.left-4+"px",ft=pt?"7px":"-7px",It=pt?"-4px":"4px",St=pt?"-4px":"4px",Ct=pt?"right":"left",yt=pt?"left":"right",Dt=jt?[{offset:0,opacity:1,transform:`translate3d(${It}, ${kt.top-46}px, 0) scale(1)`},{offset:.6,opacity:0},{offset:1,opacity:0,transform:`translate3d(${ft}, ${$e.top-40}px, 0) scale(2.1)`}]:[{offset:0,opacity:0,transform:`translate3d(${ft}, ${$e.top-40}px, 0) scale(2.1)`},{offset:1,opacity:1,transform:`translate3d(${It}, ${kt.top-46}px, 0) scale(1)`}],Te=jt?[{offset:0,opacity:1,transform:`translate3d(${St}, ${kt.top-46}px, 0) scale(1)`},{offset:.2,opacity:0,transform:`translate3d(${St}, ${kt.top-41}px, 0) scale(0.6)`},{offset:1,opacity:0,transform:`translate3d(${St}, ${kt.top-41}px, 0) scale(0.6)`}]:[{offset:0,opacity:0,transform:`translate3d(${St}, ${kt.top-41}px, 0) scale(0.6)`},{offset:1,opacity:1,transform:`translate3d(${St}, ${kt.top-46}px, 0) scale(1)`}],Je=(0,d.c)(),ct=(0,d.c)(),mt=ze("ion-back-button"),et=Se(mt).querySelector(".button-text"),tt=Se(mt).querySelector("ion-icon");mt.text=He.text,mt.mode=He.mode,mt.icon=He.icon,mt.color=He.color,mt.disabled=He.disabled,mt.style.setProperty("display","block"),mt.style.setProperty("position","fixed"),ct.addElement(tt),Je.addElement(et),Je.beforeStyles({"transform-origin":`${Ct} center`}).beforeAddWrite(()=>{He.style.setProperty("display","none"),mt.style.setProperty(Ct,Mt)}).afterAddWrite(()=>{He.style.setProperty("display",""),mt.style.setProperty("display","none"),mt.style.removeProperty(Ct)}).keyframes(Dt),ct.beforeStyles({"transform-origin":`${yt} center`}).keyframes(Te),lt.addAnimation([Je,ct])},it=(lt,pt,jt,He,$e,kt)=>{const Mt=pt?`calc(100% - ${$e.right}px)`:`${$e.left}px`,ft=pt?"-18px":"18px",It=pt?"right":"left",yt=jt?[{offset:0,opacity:0,transform:`translate3d(${ft}, ${kt.top-4}px, 0) scale(0.49)`},{offset:.1,opacity:0},{offset:1,opacity:1,transform:`translate3d(0, ${$e.top-2}px, 0) scale(1)`}]:[{offset:0,opacity:.99,transform:`translate3d(0, ${$e.top-2}px, 0) scale(1)`},{offset:.6,opacity:0},{offset:1,opacity:0,transform:`translate3d(${ft}, ${kt.top-4}px, 0) scale(0.5)`}],ee=ze("ion-title"),Gt=(0,d.c)();ee.innerText=He.innerText,ee.size=He.size,ee.color=He.color,Gt.addElement(ee),Gt.beforeStyles({"transform-origin":`${It} center`,height:"46px",display:"",position:"relative",[It]:Mt}).beforeAddWrite(()=>{He.style.setProperty("display","none")}).afterAddWrite(()=>{He.style.setProperty("display",""),ee.style.setProperty("display","none")}).keyframes(yt),lt.addAnimation(Gt)},Me=(lt,pt)=>{var jt;try{const He="cubic-bezier(0.32,0.72,0,1)",$e="opacity",kt="transform",Mt="0%",It="rtl"===lt.ownerDocument.dir,St=It?"-99.5%":"99.5%",Ct=It?"33%":"-33%",yt=pt.enteringEl,ee=pt.leavingEl,Gt="back"===pt.direction,Dt=yt.querySelector(":scope > ion-content"),Ft=yt.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *"),qt=yt.querySelectorAll(":scope > ion-header > ion-toolbar"),Te=(0,d.c)(),Je=(0,d.c)();if(Te.addElement(yt).duration((null!==(jt=pt.duration)&&void 0!==jt?jt:0)||540).easing(pt.easing||He).fill("both").beforeRemoveClass("ion-page-invisible"),ee&&null!=lt){const tt=(0,d.c)();tt.addElement(lt),Te.addAnimation(tt)}if(Dt||0!==qt.length||0!==Ft.length?(Je.addElement(Dt),Je.addElement(Ft)):Je.addElement(yt.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),Te.addAnimation(Je),Gt?Je.beforeClearStyles([$e]).fromTo("transform",`translateX(${Ct})`,`translateX(${Mt})`).fromTo($e,.8,1):Je.beforeClearStyles([$e]).fromTo("transform",`translateX(${St})`,`translateX(${Mt})`),Dt){const tt=Se(Dt).querySelector(".transition-effect");if(tt){const ut=tt.querySelector(".transition-cover"),Ut=tt.querySelector(".transition-shadow"),Nt=(0,d.c)(),Qt=(0,d.c)(),sn=(0,d.c)();Nt.addElement(tt).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),Qt.addElement(ut).beforeClearStyles([$e]).fromTo($e,0,.1),sn.addElement(Ut).beforeClearStyles([$e]).fromTo($e,.03,.7),Nt.addAnimation([Qt,sn]),Je.addAnimation([Nt])}}const ct=yt.querySelector("ion-header.header-collapse-condense"),{forward:mt,backward:et}=((lt,pt,jt,He,$e)=>{const kt=Ze(He,jt),Mt=Re($e),ft=Re(He),It=Ze($e,jt),St=null!==kt&&null!==Mt&&!jt,Ct=null!==ft&&null!==It&&jt;if(St){const yt=Mt.getBoundingClientRect(),ee=kt.getBoundingClientRect();it(lt,pt,jt,Mt,yt,ee),xe(lt,pt,jt,kt,yt,ee)}else if(Ct){const yt=ft.getBoundingClientRect(),ee=It.getBoundingClientRect();it(lt,pt,jt,ft,yt,ee),xe(lt,pt,jt,It,yt,ee)}return{forward:St,backward:Ct}})(Te,It,Gt,yt,ee);if(qt.forEach(tt=>{const ut=(0,d.c)();ut.addElement(tt),Te.addAnimation(ut);const Ut=(0,d.c)();Ut.addElement(tt.querySelector("ion-title"));const Nt=(0,d.c)(),Qt=Array.from(tt.querySelectorAll("ion-buttons,[menuToggle]")),sn=tt.closest("ion-header"),On=null==sn?void 0:sn.classList.contains("header-collapse-condense-inactive");let tn;tn=Qt.filter(Gt?er=>{const ur=er.classList.contains("buttons-collapse");return ur&&!On||!ur}:er=>!er.classList.contains("buttons-collapse")),Nt.addElement(tn);const vt=(0,d.c)();vt.addElement(tt.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])"));const cn=(0,d.c)();cn.addElement(Se(tt).querySelector(".toolbar-background"));const vn=(0,d.c)(),qn=tt.querySelector("ion-back-button");if(qn&&vn.addElement(qn),ut.addAnimation([Ut,Nt,vt,cn,vn]),Nt.fromTo($e,.01,1),vt.fromTo($e,.01,1),Gt)On||Ut.fromTo("transform",`translateX(${Ct})`,`translateX(${Mt})`).fromTo($e,.01,1),vt.fromTo("transform",`translateX(${Ct})`,`translateX(${Mt})`),vn.fromTo($e,.01,1);else if(ct||Ut.fromTo("transform",`translateX(${St})`,`translateX(${Mt})`).fromTo($e,.01,1),vt.fromTo("transform",`translateX(${St})`,`translateX(${Mt})`),cn.beforeClearStyles([$e,"transform"]),(null==sn?void 0:sn.translucent)?cn.fromTo("transform",It?"translateX(-100%)":"translateX(100%)","translateX(0px)"):cn.fromTo($e,.01,"var(--opacity)"),mt||vn.fromTo($e,.01,1),qn&&!mt){const ur=(0,d.c)();ur.addElement(Se(qn).querySelector(".button-text")).fromTo("transform",It?"translateX(-100px)":"translateX(100px)","translateX(0px)"),ut.addAnimation(ur)}}),ee){const tt=(0,d.c)(),ut=ee.querySelector(":scope > ion-content"),Ut=ee.querySelectorAll(":scope > ion-header > ion-toolbar"),Nt=ee.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *");if(ut||0!==Ut.length||0!==Nt.length?(tt.addElement(ut),tt.addElement(Nt)):tt.addElement(ee.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),Te.addAnimation(tt),Gt){tt.beforeClearStyles([$e]).fromTo("transform",`translateX(${Mt})`,It?"translateX(-100%)":"translateX(100%)");const Qt=(0,E.g)(ee);Te.afterAddWrite(()=>{"normal"===Te.getDirection()&&Qt.style.setProperty("display","none")})}else tt.fromTo("transform",`translateX(${Mt})`,`translateX(${Ct})`).fromTo($e,1,.8);if(ut){const Qt=Se(ut).querySelector(".transition-effect");if(Qt){const sn=Qt.querySelector(".transition-cover"),On=Qt.querySelector(".transition-shadow"),tn=(0,d.c)(),vt=(0,d.c)(),cn=(0,d.c)();tn.addElement(Qt).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),vt.addElement(sn).beforeClearStyles([$e]).fromTo($e,.1,0),cn.addElement(On).beforeClearStyles([$e]).fromTo($e,.7,.03),tn.addAnimation([vt,cn]),tt.addAnimation([tn])}}Ut.forEach(Qt=>{const sn=(0,d.c)();sn.addElement(Qt);const On=(0,d.c)();On.addElement(Qt.querySelector("ion-title"));const tn=(0,d.c)(),vt=Qt.querySelectorAll("ion-buttons,[menuToggle]"),cn=Qt.closest("ion-header"),vn=null==cn?void 0:cn.classList.contains("header-collapse-condense-inactive"),qn=Array.from(vt).filter(Pr=>{const $r=Pr.classList.contains("buttons-collapse");return $r&&!vn||!$r});tn.addElement(qn);const er=(0,d.c)(),ur=Qt.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])");ur.length>0&&er.addElement(ur);const un=(0,d.c)();un.addElement(Se(Qt).querySelector(".toolbar-background"));const ir=(0,d.c)(),an=Qt.querySelector("ion-back-button");if(an&&ir.addElement(an),sn.addAnimation([On,tn,er,ir,un]),Te.addAnimation(sn),ir.fromTo($e,.99,0),tn.fromTo($e,.99,0),er.fromTo($e,.99,0),Gt){if(vn||On.fromTo("transform",`translateX(${Mt})`,It?"translateX(-100%)":"translateX(100%)").fromTo($e,.99,0),er.fromTo("transform",`translateX(${Mt})`,It?"translateX(-100%)":"translateX(100%)"),un.beforeClearStyles([$e,"transform"]),(null==cn?void 0:cn.translucent)?un.fromTo("transform","translateX(0px)",It?"translateX(-100%)":"translateX(100%)"):un.fromTo($e,"var(--opacity)",0),an&&!et){const $r=(0,d.c)();$r.addElement(Se(an).querySelector(".button-text")).fromTo("transform",`translateX(${Mt})`,`translateX(${(It?-124:124)+"px"})`),sn.addAnimation($r)}}else vn||On.fromTo("transform",`translateX(${Mt})`,`translateX(${Ct})`).fromTo($e,.99,0).afterClearStyles([kt,$e]),er.fromTo("transform",`translateX(${Mt})`,`translateX(${Ct})`).afterClearStyles([kt,$e]),ir.afterClearStyles([$e]),On.afterClearStyles([$e]),tn.afterClearStyles([$e])})}return Te}catch(He){throw He}}},1138:(Jn,Lt,z)=>{"use strict";z.r(Lt),z.d(Lt,{mdTransitionAnimation:()=>qe});var d=z(9613),E=z(9866);z(3457),z(4083);const qe=(ze,Se)=>{var Re,Ze,Fe;const Me="back"===Se.direction,pt=Se.leavingEl,jt=(0,E.g)(Se.enteringEl),He=jt.querySelector("ion-toolbar"),$e=(0,d.c)();if($e.addElement(jt).fill("both").beforeRemoveClass("ion-page-invisible"),Me?$e.duration((null!==(Re=Se.duration)&&void 0!==Re?Re:0)||200).easing("cubic-bezier(0.47,0,0.745,0.715)"):$e.duration((null!==(Ze=Se.duration)&&void 0!==Ze?Ze:0)||280).easing("cubic-bezier(0.36,0.66,0.04,1)").fromTo("transform","translateY(40px)","translateY(0px)").fromTo("opacity",.01,1),He){const kt=(0,d.c)();kt.addElement(He),$e.addAnimation(kt)}if(pt&&Me){$e.duration((null!==(Fe=Se.duration)&&void 0!==Fe?Fe:0)||200).easing("cubic-bezier(0.47,0,0.745,0.715)");const kt=(0,d.c)();kt.addElement((0,E.g)(pt)).onFinish(Mt=>{1===Mt&&kt.elements.length>0&&kt.elements[0].style.setProperty("display","none")}).fromTo("transform","translateY(0px)","translateY(40px)").fromTo("opacity",1,0),$e.addAnimation(kt)}return $e}},2583:(Jn,Lt,z)=>{"use strict";z.d(Lt,{B:()=>Nt,G:()=>Qt,a:()=>Fe,b:()=>xe,c:()=>pt,d:()=>sn,e:()=>On,f:()=>Ft,g:()=>Te,h:()=>mt,i:()=>tt,j:()=>He,k:()=>Re,l:()=>it,m:()=>Me,n:()=>Mt,o:()=>Gt,s:()=>Ut,t:()=>jt});var d=z(5861),E=z(5273),be=z(6782),ke=z(7593),qe=z(3577),ze=z(1178);let Se=0;const Re=new WeakMap,Ze=tn=>({create:vt=>$e(tn,vt),dismiss:(vt,cn,vn)=>yt(document,vt,cn,tn,vn),getTop:()=>(0,d.Z)(function*(){return Gt(document,tn)})()}),Fe=Ze("ion-alert"),xe=Ze("ion-action-sheet"),it=Ze("ion-loading"),Me=Ze("ion-modal"),pt=Ze("ion-popover"),jt=Ze("ion-toast"),He=tn=>{typeof document<"u"&&Ct(document);const vt=Se++;tn.overlayIndex=vt,tn.hasAttribute("id")||(tn.id=`ion-overlay-${vt}`)},$e=(tn,vt)=>typeof window<"u"&&typeof window.customElements<"u"?window.customElements.whenDefined(tn).then(()=>{const cn=document.createElement(tn);return cn.classList.add("overlay-hidden"),Object.assign(cn,Object.assign(Object.assign({},vt),{hasController:!0})),Je(document).appendChild(cn),new Promise(vn=>(0,qe.c)(cn,vn))}):Promise.resolve(),kt='[tabindex]:not([tabindex^="-"]):not([hidden]):not([disabled]), input:not([type=hidden]):not([tabindex^="-"]):not([hidden]):not([disabled]), textarea:not([tabindex^="-"]):not([hidden]):not([disabled]), button:not([tabindex^="-"]):not([hidden]):not([disabled]), select:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable[disabled="false"]:not([tabindex^="-"]):not([hidden])',Mt=(tn,vt)=>{let cn=tn.querySelector(kt);const vn=null==cn?void 0:cn.shadowRoot;vn&&(cn=vn.querySelector(kt)||cn),cn?(0,qe.f)(cn):vt.focus()},It=(tn,vt)=>{const cn=Array.from(tn.querySelectorAll(kt));let vn=cn.length>0?cn[cn.length-1]:null;const qn=null==vn?void 0:vn.shadowRoot;qn&&(vn=qn.querySelector(kt)||vn),vn?vn.focus():vt.focus()},Ct=tn=>{0===Se&&(Se=1,tn.addEventListener("focus",vt=>{((tn,vt)=>{const cn=Gt(vt,"ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker,ion-popover"),vn=tn.target;cn&&vn&&!cn.classList.contains("ion-disable-focus-trap")&&(cn.shadowRoot?(()=>{if(cn.contains(vn))cn.lastFocus=vn;else{const ur=cn.lastFocus;Mt(cn,cn),ur===vt.activeElement&&It(cn,cn),cn.lastFocus=vt.activeElement}})():(()=>{if(cn===vn)cn.lastFocus=void 0;else{const ur=(0,qe.g)(cn);if(!ur.contains(vn))return;const un=ur.querySelector(".ion-overlay-wrapper");if(!un)return;if(un.contains(vn))cn.lastFocus=vn;else{const ir=cn.lastFocus;Mt(un,cn),ir===vt.activeElement&&It(un,cn),cn.lastFocus=vt.activeElement}}})())})(vt,tn)},!0),tn.addEventListener("ionBackButton",vt=>{const cn=Gt(tn);null!=cn&&cn.backdropDismiss&&vt.detail.register(ke.OVERLAY_BACK_BUTTON_PRIORITY,()=>cn.dismiss(void 0,Nt))}),tn.addEventListener("keydown",vt=>{if("Escape"===vt.key){const cn=Gt(tn);null!=cn&&cn.backdropDismiss&&cn.dismiss(void 0,Nt)}}))},yt=(tn,vt,cn,vn,qn)=>{const er=Gt(tn,vn,qn);return er?er.dismiss(vt,cn):Promise.reject("overlay does not exist")},Gt=(tn,vt,cn)=>{const vn=((tn,vt)=>(void 0===vt&&(vt="ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker,ion-popover,ion-toast"),Array.from(tn.querySelectorAll(vt)).filter(cn=>cn.overlayIndex>0)))(tn,vt).filter(qn=>!(tn=>tn.classList.contains("overlay-hidden"))(qn));return void 0===cn?vn[vn.length-1]:vn.find(qn=>qn.id===cn)},Dt=(tn=!1)=>{const cn=Je(document).querySelector("ion-router-outlet, ion-nav, #ion-view-container-root");cn&&(tn?cn.setAttribute("aria-hidden","true"):cn.removeAttribute("aria-hidden"))},Ft=function(){var tn=(0,d.Z)(function*(vt,cn,vn,qn,er){var ur,un;if(vt.presented)return;Dt(!0),vt.presented=!0,vt.willPresent.emit(),null===(ur=vt.willPresentShorthand)||void 0===ur||ur.emit();const ir=(0,E.b)(vt),an=vt.enterAnimation?vt.enterAnimation:E.c.get(cn,"ios"===ir?vn:qn);(yield ct(vt,an,vt.el,er))&&(vt.didPresent.emit(),null===(un=vt.didPresentShorthand)||void 0===un||un.emit()),"ION-TOAST"!==vt.el.tagName&&qt(vt.el),vt.keyboardClose&&(null===document.activeElement||!vt.el.contains(document.activeElement))&&vt.el.focus()});return function(cn,vn,qn,er,ur){return tn.apply(this,arguments)}}(),qt=function(){var tn=(0,d.Z)(function*(vt){let cn=document.activeElement;if(!cn)return;const vn=null==cn?void 0:cn.shadowRoot;vn&&(cn=vn.querySelector(kt)||cn),yield vt.onDidDismiss(),cn.focus()});return function(cn){return tn.apply(this,arguments)}}(),Te=function(){var tn=(0,d.Z)(function*(vt,cn,vn,qn,er,ur,un){var ir,an;if(!vt.presented)return!1;Dt(!1),vt.presented=!1;try{vt.el.style.setProperty("pointer-events","none"),vt.willDismiss.emit({data:cn,role:vn}),null===(ir=vt.willDismissShorthand)||void 0===ir||ir.emit({data:cn,role:vn});const Pr=(0,E.b)(vt),$r=vt.leaveAnimation?vt.leaveAnimation:E.c.get(qn,"ios"===Pr?er:ur);vn!==Qt&&(yield ct(vt,$r,vt.el,un)),vt.didDismiss.emit({data:cn,role:vn}),null===(an=vt.didDismissShorthand)||void 0===an||an.emit({data:cn,role:vn}),Re.delete(vt),vt.el.classList.add("overlay-hidden"),vt.el.style.removeProperty("pointer-events"),void 0!==vt.el.lastFocus&&(vt.el.lastFocus=void 0)}catch(Pr){console.error(Pr)}return vt.el.remove(),!0});return function(cn,vn,qn,er,ur,un,ir){return tn.apply(this,arguments)}}(),Je=tn=>tn.querySelector("ion-app")||tn.body,ct=function(){var tn=(0,d.Z)(function*(vt,cn,vn,qn){vn.classList.remove("overlay-hidden");const ur=cn(vt.el,qn);(!vt.animated||!E.c.getBoolean("animated",!0))&&ur.duration(0),vt.keyboardClose&&ur.beforeAddWrite(()=>{const ir=vn.ownerDocument.activeElement;null!=ir&&ir.matches("input,ion-input, ion-textarea")&&ir.blur()});const un=Re.get(vt)||[];return Re.set(vt,[...un,ur]),yield ur.play(),!0});return function(cn,vn,qn,er){return tn.apply(this,arguments)}}(),mt=(tn,vt)=>{let cn;const vn=new Promise(qn=>cn=qn);return et(tn,vt,qn=>{cn(qn.detail)}),vn},et=(tn,vt,cn)=>{const vn=qn=>{(0,qe.b)(tn,vt,vn),cn(qn)};(0,qe.a)(tn,vt,vn)},tt=tn=>"cancel"===tn||tn===Nt,ut=tn=>tn(),Ut=(tn,vt)=>{if("function"==typeof tn)return E.c.get("_zoneGate",ut)(()=>{try{return tn(vt)}catch(vn){throw vn}})},Nt="backdrop",Qt="gesture",sn=tn=>{let cn,vt=!1;const vn=(0,be.C)(),qn=(un=!1)=>{if(cn&&!un)return{delegate:cn,inline:vt};const{el:ir,hasController:an,delegate:Pr}=tn;return vt=null!==ir.parentNode&&!an,cn=vt?Pr||vn:Pr,{inline:vt,delegate:cn}};return{attachViewToDom:function(){var un=(0,d.Z)(function*(ir){const{delegate:an}=qn(!0);if(an)return yield an.attachViewToDom(tn.el,ir);const{hasController:Pr}=tn;if(Pr&&void 0!==ir)throw new Error("framework delegate is missing");return null});return function(an){return un.apply(this,arguments)}}(),removeViewFromDom:()=>{const{delegate:un}=qn();un&&void 0!==tn.el&&un.removeViewFromDom(tn.el.parentElement,tn.el)}}},On=()=>{let tn;const vt=()=>{tn&&(tn(),tn=void 0)};return{addClickListener:(vn,qn)=>{vt();const er=void 0!==qn?document.getElementById(qn):null;er?tn=((un,ir)=>{const an=()=>{ir.present()};return un.addEventListener("click",an),()=>{un.removeEventListener("click",an)}})(er,vn):(0,ze.p)(`A trigger element with the ID "${qn}" was not found in the DOM. The trigger element must be in the DOM when the "trigger" property is set on an overlay component.`,vn)},removeClickListener:vt}}},7622:(Jn,Lt,z)=>{"use strict";z.d(Lt,{e:()=>ze});var d=z(5861),E=z(9260);let be=(()=>{class Se{}return Se.email=Re=>{if(!(Re.endsWith("@admin.com")||Re.endsWith("@invitado.com")||Re.endsWith("@usuario.com")||Re.endsWith("@anonimo.com")||Re.endsWith("@tester.com")))throw new Error("Mal formato de datos.");return Re},Se})();var ke=z(2223),qe=z(3385);let ze=(()=>{class Se{constructor(Ze){var Fe=this;this.angularFireAuth=Ze,this.myUsuario="valor inicial",this.signIn=function(){var xe=(0,d.Z)(function*(it,Me){return yield Fe.angularFireAuth.signInWithEmailAndPassword(be.email(it),Me).then(lt=>lt).catch(lt=>{throw"auth/user-disabled"===lt.code?new Error("El usuario ha sido deshabilitado."):"auth/user-not-found"===lt.code?new Error("No existe un usuario con estos datos."):new Error("Datos incorrectos.")})});return function(it,Me){return xe.apply(this,arguments)}}(),this.signUp=function(){var xe=(0,d.Z)(function*(it,Me){return yield Fe.angularFireAuth.createUserWithEmailAndPassword(be.email(it),Me).then(lt=>lt).catch(lt=>{throw"auth/operation-not-allowed"===lt.code?new Error("Lo siento, hubo un error interno. Vuelva a intentarlo mas tarde."):"auth/email-already-in-use"===lt.code?new Error("El mail ingresado, ya pertenece a un usuario existente."):new Error("Mal formato de datos.")})});return function(it,Me){return xe.apply(this,arguments)}}(),this.signOut=(0,d.Z)(function*(){yield Fe.angularFireAuth.signOut()}),this.signUpWithGoogle=(0,d.Z)(function*(){const xe=new E.Z.auth.GoogleAuthProvider;return xe.addScope("profile"),xe.addScope("email"),yield Fe.signUpWithProvider(xe)}),this.signUpWithProvider=function(){var xe=(0,d.Z)(function*(it){return yield Fe.angularFireAuth.signInWithPopup(it).then(Me=>Me).catch(()=>{throw new Error("Operaci\xf3n cancelada.")})});return function(it){return xe.apply(this,arguments)}}(),this.userData=Ze.authState}login(Ze,Fe){return this.myUsuario=this.formatNombre(Ze),this.angularFireAuth.signInWithEmailAndPassword(Ze,Fe)}formatNombre(Ze){if(""!=Ze&&null!=Ze){const Fe=Ze.substring(0,Ze.indexOf("@"));return Fe.charAt(0).toUpperCase()+Fe.slice(1)}return""}getUser(){return"123456"}}return Se.\u0275fac=function(Ze){return new(Ze||Se)(ke.LFG(qe.zQ))},Se.\u0275prov=ke.Yz7({token:Se,factory:Se.\u0275fac,providedIn:"root"}),Se})()},3727:(Jn,Lt,z)=>{"use strict";var d=z(6550),E=z(2223),be=z(5559),ke=z(9972),qe=z(89),ze=z(655),Se=z(8261),Re=function(m){function l(){return null!==m&&m.apply(this,arguments)||this}return(0,ze.ZT)(l,m),l.prototype.show=function(){return(0,Se.DM)(this,"show",{sync:!0},arguments)},l.prototype.hide=function(){return(0,Se.DM)(this,"hide",{sync:!0},arguments)},l.pluginName="SplashScreen",l.plugin="cordova-plugin-splashscreen",l.pluginRef="navigator.splashscreen",l.repo="https://github.com/apache/cordova-plugin-splashscreen",l.platforms=["Amazon Fire OS","Android","iOS","Windows"],l.decorators=[{type:E.GSi}],l}(Se.KY),Ze=function(m){function l(){return null!==m&&m.apply(this,arguments)||this}return(0,ze.ZT)(l,m),l.prototype.overlaysWebView=function(s){return(0,Se.DM)(this,"overlaysWebView",{sync:!0},arguments)},l.prototype.styleDefault=function(){return(0,Se.DM)(this,"styleDefault",{sync:!0},arguments)},l.prototype.styleLightContent=function(){return(0,Se.DM)(this,"styleLightContent",{sync:!0},arguments)},l.prototype.styleBlackTranslucent=function(){return(0,Se.DM)(this,"styleBlackTranslucent",{sync:!0},arguments)},l.prototype.styleBlackOpaque=function(){return(0,Se.DM)(this,"styleBlackOpaque",{sync:!0},arguments)},l.prototype.backgroundColorByName=function(s){return(0,Se.DM)(this,"backgroundColorByName",{sync:!0},arguments)},l.prototype.backgroundColorByHexString=function(s){return(0,Se.DM)(this,"backgroundColorByHexString",{sync:!0},arguments)},l.prototype.hide=function(){return(0,Se.DM)(this,"hide",{sync:!0},arguments)},l.prototype.show=function(){return(0,Se.DM)(this,"show",{sync:!0},arguments)},Object.defineProperty(l.prototype,"isVisible",{get:function(){return(0,Se.J2)(this,"isVisible")},set:function(s){(0,Se.Iq)(this,"isVisible",s)},enumerable:!1,configurable:!0}),l.pluginName="StatusBar",l.plugin="cordova-plugin-statusbar",l.pluginRef="StatusBar",l.repo="https://github.com/apache/cordova-plugin-statusbar",l.platforms=["Android","iOS","Windows"],l.decorators=[{type:E.GSi}],l}(Se.KY),Fe=z(4755);function xe(m,l){if(1&m&&(E.TgZ(0,"li",4),E._uU(1),E.qZA()),2&m){const s=l.$implicit;E.xp6(1),E.hij(" ",s.name," ")}}let it=(()=>{class m{constructor(s,c,f,_){this.platform=s,this.splashScreen=c,this.statusBar=f,this.navCtrl=_,this.firestore=(0,E.f3M)(qe.gg);const I=(0,qe.hJ)(this.firestore,"items");this.items$=(0,qe.BS)(I),this.initializeApp()}ngOnInit(){setTimeout(()=>{document.querySelector(".custom-splash"),this.navCtrl.navigateRoot("/login")},3e3)}initializeApp(){this.platform.ready().then(()=>{this.statusBar.styleDefault(),this.splashScreen.hide()})}}return m.\u0275fac=function(s){return new(s||m)(E.Y36(ke.t4),E.Y36(Re),E.Y36(Ze),E.Y36(ke.SH))},m.\u0275cmp=E.Xpm({type:m,selectors:[["app-root"]],decls:6,vars:3,consts:[["class","text",4,"ngFor","ngForOf"],[1,"custom-splash"],["src","../src/assets/videocamara.gif"],["id","main-content"],[1,"text"]],template:function(s,c){1&s&&(E.TgZ(0,"ul"),E.YNc(1,xe,2,1,"li",0),E.ALo(2,"async"),E.qZA(),E.TgZ(3,"ion-app",1),E._UZ(4,"img",2)(5,"ion-router-outlet",3),E.qZA()),2&s&&(E.xp6(1),E.Q6J("ngForOf",E.lcZ(2,1,c.items$)))},dependencies:[Fe.sg,ke.dr,ke.jP,Fe.Ov],styles:['@charset "UTF-8";ion-menu[_ngcontent-%COMP%]   ion-content[_ngcontent-%COMP%]{--background: var(--ion-item-background, var(--ion-background-color, #fff))}ion-menu.md[_ngcontent-%COMP%]   ion-content[_ngcontent-%COMP%]{--padding-start: 8px;--padding-end: 8px;--padding-top: 20px;--padding-bottom: 20px}ion-menu.md[_ngcontent-%COMP%]   ion-list[_ngcontent-%COMP%]{padding:20px 0}ion-menu.md[_ngcontent-%COMP%]   ion-note[_ngcontent-%COMP%]{margin-bottom:30px}ion-menu.md[_ngcontent-%COMP%]   ion-list-header[_ngcontent-%COMP%], ion-menu.md[_ngcontent-%COMP%]   ion-note[_ngcontent-%COMP%]{padding-left:10px}ion-menu.md[_ngcontent-%COMP%]   ion-list#inbox-list[_ngcontent-%COMP%]{border-bottom:1px solid var(--ion-color-step-150, #d7d8da)}ion-menu.md[_ngcontent-%COMP%]   ion-list#inbox-list[_ngcontent-%COMP%]   ion-list-header[_ngcontent-%COMP%]{font-size:22px;font-weight:600;min-height:20px}ion-menu.md[_ngcontent-%COMP%]   ion-list#labels-list[_ngcontent-%COMP%]   ion-list-header[_ngcontent-%COMP%]{font-size:16px;margin-bottom:18px;color:#757575;min-height:26px}ion-menu.md[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]{--padding-start: 10px;--padding-end: 10px;border-radius:4px}ion-menu.md[_ngcontent-%COMP%]   ion-item.selected[_ngcontent-%COMP%]{--background: rgba(var(--ion-color-primary-rgb), .14)}ion-menu.md[_ngcontent-%COMP%]   ion-item.selected[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{color:var(--ion-color-primary)}ion-menu.md[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{color:#616e7e}ion-menu.md[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{font-weight:500}ion-menu.ios[_ngcontent-%COMP%]   ion-content[_ngcontent-%COMP%]{--padding-bottom: 20px}ion-menu.ios[_ngcontent-%COMP%]   ion-list[_ngcontent-%COMP%]{padding:20px 0 0}ion-menu.ios[_ngcontent-%COMP%]   ion-note[_ngcontent-%COMP%]{line-height:24px;margin-bottom:20px}ion-menu.ios[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]{--padding-start: 16px;--padding-end: 16px;--min-height: 50px}ion-menu.ios[_ngcontent-%COMP%]   ion-item.selected[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{color:var(--ion-color-primary)}ion-menu.ios[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:24px;color:#73849a}ion-menu.ios[_ngcontent-%COMP%]   ion-list#labels-list[_ngcontent-%COMP%]   ion-list-header[_ngcontent-%COMP%]{margin-bottom:8px}ion-menu.ios[_ngcontent-%COMP%]   ion-list-header[_ngcontent-%COMP%], ion-menu.ios[_ngcontent-%COMP%]   ion-note[_ngcontent-%COMP%]{padding-left:16px;padding-right:16px}ion-menu.ios[_ngcontent-%COMP%]   ion-note[_ngcontent-%COMP%]{margin-bottom:8px}ion-note[_ngcontent-%COMP%]{display:inline-block;font-size:16px;color:var(--ion-color-medium-shade)}ion-item.selected[_ngcontent-%COMP%]{--color: var(--ion-color-primary)}.custom-splash[_ngcontent-%COMP%]{background-color:#007bff;display:flex;justify-content:center;align-items:center;opacity:0;animation:_ngcontent-%COMP%_fadeIn 1s ease-in-out forwards}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}']}),m})();var Me=z(4208);const lt=[{path:"",redirectTo:"login",pathMatch:"full"},{path:"folder/:id",loadChildren:()=>z.e(1910).then(z.bind(z,1910)).then(m=>m.FolderPageModule)},{path:"admin",loadChildren:()=>z.e(3015).then(z.bind(z,3015)).then(m=>m.AdminPageModule)},{path:"home",loadChildren:()=>z.e(4851).then(z.bind(z,4851)).then(m=>m.HomePageModule)},{path:"login",loadChildren:()=>z.e(1821).then(z.bind(z,1821)).then(m=>m.LoginPageModule)},{path:"register",loadChildren:()=>z.e(7826).then(z.bind(z,7826)).then(m=>m.RegisterPageModule)},{path:"feas",loadChildren:()=>Promise.all([z.e(8592),z.e(6015)]).then(z.bind(z,6015)).then(m=>m.FeasPageModule)},{path:"lindas",loadChildren:()=>Promise.all([z.e(8592),z.e(14)]).then(z.bind(z,14)).then(m=>m.LindasPageModule)},{path:"lista-feas",loadChildren:()=>Promise.all([z.e(8592),z.e(2516)]).then(z.bind(z,2516)).then(m=>m.ListaFeasPageModule)},{path:"lista-lindas",loadChildren:()=>Promise.all([z.e(8592),z.e(5172)]).then(z.bind(z,5172)).then(m=>m.ListaLindasPageModule)},{path:"mis-fotos",loadChildren:()=>z.e(3562).then(z.bind(z,3562)).then(m=>m.MisFotosPageModule)},{path:"splash",loadChildren:()=>z.e(2068).then(z.bind(z,2068)).then(m=>m.SplashPageModule)},{path:"tabs",loadChildren:()=>z.e(5652).then(z.bind(z,174)).then(m=>m.TabsPageModule)},{path:"camara/:type",loadChildren:()=>Promise.all([z.e(579),z.e(7455)]).then(z.bind(z,7455)).then(m=>m.CamaraPageModule)}];let pt=(()=>{class m{}return m.\u0275fac=function(s){return new(s||m)},m.\u0275mod=E.oAB({type:m}),m.\u0275inj=E.cJS({imports:[be.Bz.forRoot(lt,{preloadingStrategy:be.wm}),be.Bz]}),m})();const jt_firebase={projectId:"reelevamientovisual2023",appId:"1:576178312697:web:4ff5e464f71303b41ad928",storageBucket:"reelevamientovisual2023.appspot.com",apiKey:"AIzaSyAvHCXlpbH63heUpkmTKTPxkyaOi1XuoLE",authDomain:"reelevamientovisual2023.firebaseapp.com",messagingSenderId:"576178312697"};var He=z(2011),$e=z(3385),kt=z(5197),Mt=z(9646),ft=z(515),It=z(5363),St=z(3900),Ct=z(4004),yt=z(3151),ee=z(3324),Gt=z(5132),Dt=z(9260),Ft=z(9300),qt=z(9751),Te=z(8421),Je=z(7579),ct=z(4482),mt=z(5403);var tt=z(5577),ut=z(1884),Ut=z(8675),Nt=z(1520),Qt=z(3692);z(259);const yi="firebase_screen_id",nr="outlet",li="screen_class",Kr="screen_name";let fr=Math.floor(Math.random()*(Math.pow(2,32)-1))-Math.pow(2,31);const Ei={},Er=m=>{const l=[m[li],m[nr]].join("#");if(Ei.hasOwnProperty(l))return Ei[l];{const s=fr++;return Ei[l]=s,s}},Ae=new E.OlP("angularfire2.analytics.analyticsCollectionEnabled"),ie=new E.OlP("angularfire2.analytics.appVersion"),te=new E.OlP("angularfire2.analytics.appName"),se=new E.OlP("angularfire2.analytics.debugMode"),Ke=new E.OlP("angularfire2.analytics.config"),gn="dataLayer";let ln=(()=>{class m{constructor(s,c,f,_,I,A,k,Y,ue){if(this.analyticsInitialized=new Promise(()=>{}),(0,Fe.NF)(k)){window[gn]=window[gn]||[];const je=(...At)=>"config"===At[0]&&"firebase"===At[2].origin&&(this.measurementId=At[1],!0),Qe=At=>{window.gtag=(...Xt)=>{At&&At(...Xt),"event"===Xt[0]&&Xt[2].send_to===this.measurementId&&(_&&(Xt[2].app_name=_),f&&(Xt[2].app_version=f)),I&&typeof console<"u"&&console.info(...Xt),function(...In){window[gn].push(arguments)}(...Xt)}};window[gn].some(je)?(this.analyticsInitialized=Promise.resolve(),Qe()):this.analyticsInitialized=new Promise(At=>{Qe((...Xt)=>{je(...Xt)&&At()})}),A&&this.updateConfig(A),I&&this.updateConfig({debug_mode:1})}else this.analyticsInitialized=Promise.resolve();const Ce=(0,Mt.of)(void 0).pipe((0,It.Q)(ue.outsideAngular),(0,St.w)(Gt.Gb),(0,St.w)(je=>je?Y.runOutsideAngular(()=>z.e(3814).then(z.bind(z,3814))):ft.E),(0,Ct.U)(()=>(0,He.cc)("analytics","AngularFireAnalytics",s.name,()=>{const je=s.analytics();return!1===c&&je.setAnalyticsCollectionEnabled(!1),je},[s,c,A,I])),(0,yt.d)({bufferSize:1,refCount:!1}));return(0,He.pX)(this,Ce,Y)}updateConfig(s){return(0,ze.mG)(this,void 0,void 0,function*(){yield this.analyticsInitialized,window.gtag("config",this.measurementId,Object.assign(Object.assign({},s),{update:!0}))})}}return m.\u0275fac=function(s){return new(s||m)(E.LFG(He.Ot),E.LFG(Ae,8),E.LFG(ie,8),E.LFG(te,8),E.LFG(se,8),E.LFG(Ke,8),E.LFG(E.Lbi),E.LFG(E.R0b),E.LFG(ee.HU))},m.\u0275prov=E.Yz7({token:m,factory:m.\u0275fac,providedIn:"any"}),m})(),yn=(()=>{class m{constructor(s,c,f,_){if(this.disposables=[],Dt.Z.registerVersion("angularfire",ee.q4.full,"compat-user-tracking"),(0,Fe.PM)(c))this.initialized=Promise.resolve();else{let I;this.initialized=_.runOutsideAngular(()=>new Promise(A=>I=A)),this.disposables=[f.authState.subscribe(A=>{s.setUserId(null==A?void 0:A.uid),I()}),f.credential.subscribe(A=>{if(A){const k=A.user.isAnonymous?"anonymous":A.additionalUserInfo.providerId;A.additionalUserInfo.isNewUser&&s.logEvent("sign_up",{method:k}),s.logEvent("login",{method:k})}})]}}ngOnDestroy(){this.disposables.forEach(s=>s.unsubscribe())}}return m.\u0275fac=function(s){return new(s||m)(E.LFG(ln),E.LFG(E.Lbi),E.LFG($e.zQ),E.LFG(E.R0b))},m.\u0275prov=E.Yz7({token:m,factory:m.\u0275fac}),m})(),Bt=(()=>{class m{constructor(s,c,f,_,I,A){if(Dt.Z.registerVersion("angularfire",ee.q4.full,"compat-screen-tracking"),!c||!s)return this;I.runOutsideAngular(()=>{this.disposable=((m,l,s)=>m.events.pipe((0,Ft.h)(f=>f instanceof be.jw)).pipe((0,St.w)(f=>{var _;const A=(null===(_=m.parseUrl(m.url.replace(/(?:\().+(?:\))/g,Qe=>Qe.replace("://",":///"))).root.children[f.snapshot.outlet])||void 0===_?void 0:_.toString())||"",k=m.routerState.root.children.map(Qe=>Qe).find(Qe=>Qe.outlet===f.snapshot.outlet);if(!k)return(0,Mt.of)(null);let Y=k;for(;Y.firstChild;)Y=Y.firstChild;const ue=Y.pathFromRoot.map(Qe=>{var Et;return null===(Et=Qe.routeConfig)||void 0===Et?void 0:Et.path}).filter(Qe=>Qe).join("/")||"/",Ce={[Kr]:ue,page_path:`/${A}`,firebase_event_origin:"auto",firebase_screen:ue,[nr]:f.snapshot.outlet};l&&(Ce.page_title=l.getTitle());let je=k.component;if(je){if(je===be.fw){let Qe=f.snapshot;for(;Qe.firstChild;)Qe=Qe.firstChild;je=Qe.component}}else je=f.snapshot.component;if("string"==typeof je)return(0,Mt.of)(Object.assign(Object.assign({},Ce),{[li]:je}));if(je){const Qe=s.resolveComponentFactory(je);return(0,Mt.of)(Object.assign(Object.assign({},Ce),{[li]:Qe.selector}))}return(0,Mt.of)(null)}),(0,Ft.h)(f=>!!f),(0,Ct.U)(f=>Object.assign({firebase_screen_class:f[li],[yi]:Er(f)},f)),function et(m,l,s,c){return(0,ct.e)((f,_)=>{let I;l&&"function"!=typeof l?({duration:s,element:I,connector:c}=l):I=l;const A=new Map,k=Et=>{A.forEach(Et),Et(_)},Y=Et=>k(At=>At.error(Et));let ue=0,Ce=!1;const je=new mt.Q(_,Et=>{try{const At=m(Et);let Xt=A.get(At);if(!Xt){A.set(At,Xt=c?c():new Je.x);const In=function Qe(Et,At){const Xt=new qt.y(In=>{ue++;const wn=At.subscribe(In);return()=>{wn.unsubscribe(),0==--ue&&Ce&&je.unsubscribe()}});return Xt.key=Et,Xt}(At,Xt);if(_.next(In),s){const wn=(0,mt.x)(Xt,()=>{Xt.complete(),null==wn||wn.unsubscribe()},void 0,void 0,()=>A.delete(At));je.add((0,Te.Xf)(s(In)).subscribe(wn))}}Xt.next(I?I(Et):Et)}catch(At){Y(At)}},()=>k(Et=>Et.complete()),Y,()=>A.clear(),()=>(Ce=!0,0===ue));f.subscribe(je)})}(f=>f[nr]),(0,tt.z)(f=>f.pipe((0,ut.x)((_,I)=>JSON.stringify(_)===JSON.stringify(I)),(0,Ut.O)(void 0),(0,Nt.G)(),(0,Ct.U)(([_,I])=>_?Object.assign({firebase_previous_class:_[li],firebase_previous_screen:_[Kr],firebase_previous_id:_[yi]},I):I)))))(c,f,_).pipe((0,St.w)(k=>(0,ze.mG)(this,void 0,void 0,function*(){return A&&(yield A.initialized),yield s.logEvent("screen_view",k)}))).subscribe()})}ngOnDestroy(){this.disposable&&this.disposable.unsubscribe()}}return m.\u0275fac=function(s){return new(s||m)(E.LFG(ln),E.LFG(be.F0,8),E.LFG(d.Dx,8),E.LFG(E._Vd),E.LFG(E.R0b),E.LFG(yn,8))},m.\u0275prov=E.Yz7({token:m,factory:m.\u0275fac}),m})(),Kt=(()=>{class m{constructor(s,c,f){Dt.Z.registerVersion("angularfire",ee.q4.full,"analytics-compat"),s.app.then(()=>{})}}return m.\u0275fac=function(s){return new(s||m)(E.LFG(ln),E.LFG(Bt,8),E.LFG(yn,8))},m.\u0275mod=E.oAB({type:m}),m.\u0275inj=E.cJS({providers:[ln]}),m})();var fn=z(1085),Yn=z(377);class pr{}class Fr{}const Sr="*";function Yr(m,l=null){return{type:2,steps:m,options:l}}function rs(m){return{type:6,styles:m,offset:null}}function Js(m){Promise.resolve().then(m)}class Is{constructor(l=0,s=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=l+s}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(l=>l()),this._onDoneFns=[])}onStart(l){this._originalOnStartFns.push(l),this._onStartFns.push(l)}onDone(l){this._originalOnDoneFns.push(l),this._onDoneFns.push(l)}onDestroy(l){this._onDestroyFns.push(l)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){Js(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(l=>l()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(l=>l()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(l){this._position=this.totalTime?l*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(l){const s="start"==l?this._onStartFns:this._onDoneFns;s.forEach(c=>c()),s.length=0}}class js{constructor(l){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=l;let s=0,c=0,f=0;const _=this.players.length;0==_?Js(()=>this._onFinish()):this.players.forEach(I=>{I.onDone(()=>{++s==_&&this._onFinish()}),I.onDestroy(()=>{++c==_&&this._onDestroy()}),I.onStart(()=>{++f==_&&this._onStart()})}),this.totalTime=this.players.reduce((I,A)=>Math.max(I,A.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(l=>l()),this._onDoneFns=[])}init(){this.players.forEach(l=>l.init())}onStart(l){this._onStartFns.push(l)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(l=>l()),this._onStartFns=[])}onDone(l){this._onDoneFns.push(l)}onDestroy(l){this._onDestroyFns.push(l)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(l=>l.play())}pause(){this.players.forEach(l=>l.pause())}restart(){this.players.forEach(l=>l.restart())}finish(){this._onFinish(),this.players.forEach(l=>l.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(l=>l.destroy()),this._onDestroyFns.forEach(l=>l()),this._onDestroyFns=[])}reset(){this.players.forEach(l=>l.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(l){const s=l*this.totalTime;this.players.forEach(c=>{const f=c.totalTime?Math.min(1,s/c.totalTime):1;c.setPosition(f)})}getPosition(){const l=this.players.reduce((s,c)=>null===s||c.totalTime>s.totalTime?c:s,null);return null!=l?l.getPosition():0}beforeDestroy(){this.players.forEach(l=>{l.beforeDestroy&&l.beforeDestroy()})}triggerCallback(l){const s="start"==l?this._onStartFns:this._onDoneFns;s.forEach(c=>c()),s.length=0}}const re="!";function Oe(m){return new E.vHH(3e3,!1)}function As(m){switch(m.length){case 0:return new Is;case 1:return m[0];default:return new js(m)}}function qo(m,l,s,c,f=new Map,_=new Map){const I=[],A=[];let k=-1,Y=null;if(c.forEach(ue=>{const Ce=ue.get("offset"),je=Ce==k,Qe=je&&Y||new Map;ue.forEach((Et,At)=>{let Xt=At,In=Et;if("offset"!==At)switch(Xt=l.normalizePropertyName(Xt,I),In){case re:In=f.get(At);break;case Sr:In=_.get(At);break;default:In=l.normalizeStyleValue(At,Xt,In,I)}Qe.set(Xt,In)}),je||A.push(Qe),Y=Qe,k=Ce}),I.length)throw function Ur(m){return new E.vHH(3502,!1)}();return A}function bs(m,l,s,c){switch(l){case"start":m.onStart(()=>c(s&&xi(s,"start",m)));break;case"done":m.onDone(()=>c(s&&xi(s,"done",m)));break;case"destroy":m.onDestroy(()=>c(s&&xi(s,"destroy",m)))}}function xi(m,l,s){const c=s.totalTime,_=No(m.element,m.triggerName,m.fromState,m.toState,l||m.phaseName,null==c?m.totalTime:c,!!s.disabled),I=m._data;return null!=I&&(_._data=I),_}function No(m,l,s,c,f="",_=0,I){return{element:m,triggerName:l,fromState:s,toState:c,phaseName:f,totalTime:_,disabled:!!I}}function Yi(m,l,s){let c=m.get(l);return c||m.set(l,c=s),c}function Ri(m){const l=m.indexOf(":");return[m.substring(1,l),m.slice(l+1)]}const Bs=(()=>typeof document>"u"?null:document.documentElement)();function Ys(m){const l=m.parentNode||m.host||null;return l===Bs?null:l}let hs=null,fs=!1;function Go(m,l){for(;l;){if(l===m)return!0;l=Ys(l)}return!1}function xo(m,l,s){if(s)return Array.from(m.querySelectorAll(l));const c=m.querySelector(l);return c?[c]:[]}let Co=(()=>{class m{validateStyleProperty(s){return function ho(m){hs||(hs=function Ni(){return typeof document<"u"?document.body:null}()||{},fs=!!hs.style&&"WebkitAppearance"in hs.style);let l=!0;return hs.style&&!function Io(m){return"ebkit"==m.substring(1,6)}(m)&&(l=m in hs.style,!l&&fs&&(l="Webkit"+m.charAt(0).toUpperCase()+m.slice(1)in hs.style)),l}(s)}matchesElement(s,c){return!1}containsElement(s,c){return Go(s,c)}getParentElement(s){return Ys(s)}query(s,c,f){return xo(s,c,f)}computeStyle(s,c,f){return f||""}animate(s,c,f,_,I,A=[],k){return new Is(f,_)}}return m.\u0275fac=function(s){return new(s||m)},m.\u0275prov=E.Yz7({token:m,factory:m.\u0275fac}),m})(),to=(()=>{class m{}return m.NOOP=new Co,m})();const Zo=1e3,Ro="ng-enter",us="ng-leave",Mo="ng-trigger",fo=".ng-trigger",jo="ng-animating",qi=".ng-animating";function O(m){if("number"==typeof m)return m;const l=m.match(/^(-?[\.\d]+)(m?s)/);return!l||l.length<2?0:he(parseFloat(l[1]),l[2])}function he(m,l){return"s"===l?m*Zo:m}function N(m,l,s){return m.hasOwnProperty("duration")?m:function ce(m,l,s){let f,_=0,I="";if("string"==typeof m){const A=m.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===A)return l.push(Oe()),{duration:0,delay:0,easing:""};f=he(parseFloat(A[1]),A[2]);const k=A[3];null!=k&&(_=he(parseFloat(k),A[4]));const Y=A[5];Y&&(I=Y)}else f=m;if(!s){let A=!1,k=l.length;f<0&&(l.push(function _e(){return new E.vHH(3100,!1)}()),A=!0),_<0&&(l.push(function ne(){return new E.vHH(3101,!1)}()),A=!0),A&&l.splice(k,0,Oe())}return{duration:f,delay:_,easing:I}}(m,l,s)}function Ge(m,l={}){return Object.keys(m).forEach(s=>{l[s]=m[s]}),l}function _n(m){const l=new Map;return Object.keys(m).forEach(s=>{l.set(s,m[s])}),l}function hi(m,l=new Map,s){if(s)for(let[c,f]of s)l.set(c,f);for(let[c,f]of m)l.set(c,f);return l}function ni(m,l,s){l.forEach((c,f)=>{const _=S(f);s&&!s.has(f)&&s.set(f,m.style[_]),m.style[_]=c})}function Es(m,l){l.forEach((s,c)=>{const f=S(c);m.style[f]=""})}function Ci(m){return Array.isArray(m)?1==m.length?m[0]:Yr(m):m}const Do=new RegExp("{{\\s*(.+?)\\s*}}","g");function Ee(m){let l=[];if("string"==typeof m){let s;for(;s=Do.exec(m);)l.push(s[1]);Do.lastIndex=0}return l}function le(m,l,s){const c=m.toString(),f=c.replace(Do,(_,I)=>{let A=l[I];return null==A&&(s.push(function st(m){return new E.vHH(3003,!1)}()),A=""),A.toString()});return f==c?m:f}function $(m){const l=[];let s=m.next();for(;!s.done;)l.push(s.value),s=m.next();return l}const F=/-+([a-z0-9])/g;function S(m){return m.replace(F,(...l)=>l[1].toUpperCase())}function Pt(m,l,s){switch(l.type){case 7:return m.visitTrigger(l,s);case 0:return m.visitState(l,s);case 1:return m.visitTransition(l,s);case 2:return m.visitSequence(l,s);case 3:return m.visitGroup(l,s);case 4:return m.visitAnimate(l,s);case 5:return m.visitKeyframes(l,s);case 6:return m.visitStyle(l,s);case 8:return m.visitReference(l,s);case 9:return m.visitAnimateChild(l,s);case 10:return m.visitAnimateRef(l,s);case 11:return m.visitQuery(l,s);case 12:return m.visitStagger(l,s);default:throw function wt(m){return new E.vHH(3004,!1)}()}}function dn(m,l){return window.getComputedStyle(m)[l]}const Zi="*";function qs(m,l){const s=[];return"string"==typeof m?m.split(/\s*,\s*/).forEach(c=>function xs(m,l,s){if(":"==m[0]){const k=function Ws(m,l){switch(m){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(s,c)=>parseFloat(c)>parseFloat(s);case":decrement":return(s,c)=>parseFloat(c)<parseFloat(s);default:return l.push(function Ao(m){return new E.vHH(3016,!1)}()),"* => *"}}(m,s);if("function"==typeof k)return void l.push(k);m=k}const c=m.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==c||c.length<4)return s.push(function Ts(m){return new E.vHH(3015,!1)}()),l;const f=c[1],_=c[2],I=c[3];l.push(no(f,I));"<"==_[0]&&!(f==Zi&&I==Zi)&&l.push(no(I,f))}(c,s,l)):s.push(m),s}const wi=new Set(["true","1"]),Cs=new Set(["false","0"]);function no(m,l){const s=wi.has(m)||Cs.has(m),c=wi.has(l)||Cs.has(l);return(f,_)=>{let I=m==Zi||m==f,A=l==Zi||l==_;return!I&&s&&"boolean"==typeof f&&(I=f?wi.has(m):Cs.has(m)),!A&&c&&"boolean"==typeof _&&(A=_?wi.has(l):Cs.has(l)),I&&A}}const So=new RegExp("s*:selfs*,?","g");function sa(m,l,s,c){return new Da(m).build(l,s,c)}class Da{constructor(l){this._driver=l}build(l,s,c){const f=new Na(s);return this._resetContextStyleTimingState(f),Pt(this,Ci(l),f)}_resetContextStyleTimingState(l){l.currentQuerySelector="",l.collectedStyles=new Map,l.collectedStyles.set("",new Map),l.currentTime=0}visitTrigger(l,s){let c=s.queryCount=0,f=s.depCount=0;const _=[],I=[];return"@"==l.name.charAt(0)&&s.errors.push(function nn(){return new E.vHH(3006,!1)}()),l.definitions.forEach(A=>{if(this._resetContextStyleTimingState(s),0==A.type){const k=A,Y=k.name;Y.toString().split(/\s*,\s*/).forEach(ue=>{k.name=ue,_.push(this.visitState(k,s))}),k.name=Y}else if(1==A.type){const k=this.visitTransition(A,s);c+=k.queryCount,f+=k.depCount,I.push(k)}else s.errors.push(function Vn(){return new E.vHH(3007,!1)}())}),{type:7,name:l.name,states:_,transitions:I,queryCount:c,depCount:f,options:null}}visitState(l,s){const c=this.visitStyle(l.styles,s),f=l.options&&l.options.params||null;if(c.containsDynamicStyles){const _=new Set,I=f||{};c.styles.forEach(A=>{A instanceof Map&&A.forEach(k=>{Ee(k).forEach(Y=>{I.hasOwnProperty(Y)||_.add(Y)})})}),_.size&&($(_.values()),s.errors.push(function Un(m,l){return new E.vHH(3008,!1)}()))}return{type:0,name:l.name,style:c,options:f?{params:f}:null}}visitTransition(l,s){s.queryCount=0,s.depCount=0;const c=Pt(this,Ci(l.animation),s);return{type:1,matchers:qs(l.expr,s.errors),animation:c,queryCount:s.queryCount,depCount:s.depCount,options:oa(l.options)}}visitSequence(l,s){return{type:2,steps:l.steps.map(c=>Pt(this,c,s)),options:oa(l.options)}}visitGroup(l,s){const c=s.currentTime;let f=0;const _=l.steps.map(I=>{s.currentTime=c;const A=Pt(this,I,s);return f=Math.max(f,s.currentTime),A});return s.currentTime=f,{type:3,steps:_,options:oa(l.options)}}visitAnimate(l,s){const c=function To(m,l){if(m.hasOwnProperty("duration"))return m;if("number"==typeof m)return Oo(N(m,l).duration,0,"");const s=m;if(s.split(/\s+/).some(_=>"{"==_.charAt(0)&&"{"==_.charAt(1))){const _=Oo(0,0,"");return _.dynamic=!0,_.strValue=s,_}const f=N(s,l);return Oo(f.duration,f.delay,f.easing)}(l.timings,s.errors);s.currentAnimateTimings=c;let f,_=l.styles?l.styles:rs({});if(5==_.type)f=this.visitKeyframes(_,s);else{let I=l.styles,A=!1;if(!I){A=!0;const Y={};c.easing&&(Y.easing=c.easing),I=rs(Y)}s.currentTime+=c.duration+c.delay;const k=this.visitStyle(I,s);k.isEmptyStep=A,f=k}return s.currentAnimateTimings=null,{type:4,timings:c,style:f,options:null}}visitStyle(l,s){const c=this._makeStyleAst(l,s);return this._validateStyleAst(c,s),c}_makeStyleAst(l,s){const c=[],f=Array.isArray(l.styles)?l.styles:[l.styles];for(let A of f)"string"==typeof A?A===Sr?c.push(A):s.errors.push(new E.vHH(3002,!1)):c.push(_n(A));let _=!1,I=null;return c.forEach(A=>{if(A instanceof Map&&(A.has("easing")&&(I=A.get("easing"),A.delete("easing")),!_))for(let k of A.values())if(k.toString().indexOf("{{")>=0){_=!0;break}}),{type:6,styles:c,easing:I,offset:l.offset,containsDynamicStyles:_,options:null}}_validateStyleAst(l,s){const c=s.currentAnimateTimings;let f=s.currentTime,_=s.currentTime;c&&_>0&&(_-=c.duration+c.delay),l.styles.forEach(I=>{"string"!=typeof I&&I.forEach((A,k)=>{const Y=s.collectedStyles.get(s.currentQuerySelector),ue=Y.get(k);let Ce=!0;ue&&(_!=f&&_>=ue.startTime&&f<=ue.endTime&&(s.errors.push(function vs(m,l,s,c,f){return new E.vHH(3010,!1)}()),Ce=!1),_=ue.startTime),Ce&&Y.set(k,{startTime:_,endTime:f}),s.options&&function Hs(m,l,s){const c=l.params||{},f=Ee(m);f.length&&f.forEach(_=>{c.hasOwnProperty(_)||s.push(function ve(m){return new E.vHH(3001,!1)}())})}(A,s.options,s.errors)})})}visitKeyframes(l,s){const c={type:5,styles:[],options:null};if(!s.currentAnimateTimings)return s.errors.push(function Ji(){return new E.vHH(3011,!1)}()),c;let _=0;const I=[];let A=!1,k=!1,Y=0;const ue=l.steps.map(In=>{const wn=this._makeStyleAst(In,s);let tr=null!=wn.offset?wn.offset:function Vs(m){if("string"==typeof m)return null;let l=null;if(Array.isArray(m))m.forEach(s=>{if(s instanceof Map&&s.has("offset")){const c=s;l=parseFloat(c.get("offset")),c.delete("offset")}});else if(m instanceof Map&&m.has("offset")){const s=m;l=parseFloat(s.get("offset")),s.delete("offset")}return l}(wn.styles),Qn=0;return null!=tr&&(_++,Qn=wn.offset=tr),k=k||Qn<0||Qn>1,A=A||Qn<Y,Y=Qn,I.push(Qn),wn});k&&s.errors.push(function Ti(){return new E.vHH(3012,!1)}()),A&&s.errors.push(function Mr(){return new E.vHH(3200,!1)}());const Ce=l.steps.length;let je=0;_>0&&_<Ce?s.errors.push(function Tn(){return new E.vHH(3202,!1)}()):0==_&&(je=1/(Ce-1));const Qe=Ce-1,Et=s.currentTime,At=s.currentAnimateTimings,Xt=At.duration;return ue.forEach((In,wn)=>{const tr=je>0?wn==Qe?1:je*wn:I[wn],Qn=tr*Xt;s.currentTime=Et+At.delay+Qn,At.duration=Qn,this._validateStyleAst(In,s),In.offset=tr,c.styles.push(In)}),c}visitReference(l,s){return{type:8,animation:Pt(this,Ci(l.animation),s),options:oa(l.options)}}visitAnimateChild(l,s){return s.depCount++,{type:9,options:oa(l.options)}}visitAnimateRef(l,s){return{type:10,animation:this.visitReference(l.animation,s),options:oa(l.options)}}visitQuery(l,s){const c=s.currentQuerySelector,f=l.options||{};s.queryCount++,s.currentQuery=l;const[_,I]=function Sa(m){const l=!!m.split(/\s*,\s*/).find(s=>":self"==s);return l&&(m=m.replace(So,"")),m=m.replace(/@\*/g,fo).replace(/@\w+/g,s=>fo+"-"+s.slice(1)).replace(/:animating/g,qi),[m,l]}(l.selector);s.currentQuerySelector=c.length?c+" "+_:_,Yi(s.collectedStyles,s.currentQuerySelector,new Map);const A=Pt(this,Ci(l.animation),s);return s.currentQuery=null,s.currentQuerySelector=c,{type:11,selector:_,limit:f.limit||0,optional:!!f.optional,includeSelf:I,animation:A,originalSelector:l.selector,options:oa(l.options)}}visitStagger(l,s){s.currentQuery||s.errors.push(function Lr(){return new E.vHH(3013,!1)}());const c="full"===l.timings?{duration:0,delay:0,easing:"full"}:N(l.timings,s.errors,!0);return{type:12,animation:Pt(this,Ci(l.animation),s),timings:c,options:null}}}class Na{constructor(l){this.errors=l,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function oa(m){return m?(m=Ge(m)).params&&(m.params=function na(m){return m?Ge(m):null}(m.params)):m={},m}function Oo(m,l,s){return{duration:m,delay:l,easing:s}}function Ta(m,l,s,c,f,_,I=null,A=!1){return{type:1,element:m,keyframes:l,preStyleProps:s,postStyleProps:c,duration:f,delay:_,totalTime:f+_,easing:I,subTimeline:A}}class M{constructor(){this._map=new Map}get(l){return this._map.get(l)||[]}append(l,s){let c=this._map.get(l);c||this._map.set(l,c=[]),c.push(...s)}has(l){return this._map.has(l)}clear(){this._map.clear()}}const De=new RegExp(":enter","g"),at=new RegExp(":leave","g");function Tt(m,l,s,c,f,_=new Map,I=new Map,A,k,Y=[]){return(new Wt).buildKeyframes(m,l,s,c,f,_,I,A,k,Y)}class Wt{buildKeyframes(l,s,c,f,_,I,A,k,Y,ue=[]){Y=Y||new M;const Ce=new Fn(l,s,Y,f,_,ue,[]);Ce.options=k;const je=k.delay?O(k.delay):0;Ce.currentTimeline.delayNextStep(je),Ce.currentTimeline.setStyles([I],null,Ce.errors,k),Pt(this,c,Ce);const Qe=Ce.timelines.filter(Et=>Et.containsAnimation());if(Qe.length&&A.size){let Et;for(let At=Qe.length-1;At>=0;At--){const Xt=Qe[At];if(Xt.element===s){Et=Xt;break}}Et&&!Et.allowOnlyTimelineStyles()&&Et.setStyles([A],null,Ce.errors,k)}return Qe.length?Qe.map(Et=>Et.buildKeyframes()):[Ta(s,[],[],[],0,je,"",!1)]}visitTrigger(l,s){}visitState(l,s){}visitTransition(l,s){}visitAnimateChild(l,s){const c=s.subInstructions.get(s.element);if(c){const f=s.createSubContext(l.options),_=s.currentTimeline.currentTime,I=this._visitSubInstructions(c,f,f.options);_!=I&&s.transformIntoNewTimeline(I)}s.previousNode=l}visitAnimateRef(l,s){const c=s.createSubContext(l.options);c.transformIntoNewTimeline(),this._applyAnimationRefDelays([l.options,l.animation.options],s,c),this.visitReference(l.animation,c),s.transformIntoNewTimeline(c.currentTimeline.currentTime),s.previousNode=l}_applyAnimationRefDelays(l,s,c){for(const _ of l){const I=null==_?void 0:_.delay;if(I){var f;const A="number"==typeof I?I:O(le(I,null!==(f=null==_?void 0:_.params)&&void 0!==f?f:{},s.errors));c.delayNextStep(A)}}}_visitSubInstructions(l,s,c){let _=s.currentTimeline.currentTime;const I=null!=c.duration?O(c.duration):null,A=null!=c.delay?O(c.delay):null;return 0!==I&&l.forEach(k=>{const Y=s.appendInstructionToTimeline(k,I,A);_=Math.max(_,Y.duration+Y.delay)}),_}visitReference(l,s){s.updateOptions(l.options,!0),Pt(this,l.animation,s),s.previousNode=l}visitSequence(l,s){const c=s.subContextCount;let f=s;const _=l.options;if(_&&(_.params||_.delay)&&(f=s.createSubContext(_),f.transformIntoNewTimeline(),null!=_.delay)){6==f.previousNode.type&&(f.currentTimeline.snapshotCurrentStyles(),f.previousNode=rn);const I=O(_.delay);f.delayNextStep(I)}l.steps.length&&(l.steps.forEach(I=>Pt(this,I,f)),f.currentTimeline.applyStylesToKeyframe(),f.subContextCount>c&&f.transformIntoNewTimeline()),s.previousNode=l}visitGroup(l,s){const c=[];let f=s.currentTimeline.currentTime;const _=l.options&&l.options.delay?O(l.options.delay):0;l.steps.forEach(I=>{const A=s.createSubContext(l.options);_&&A.delayNextStep(_),Pt(this,I,A),f=Math.max(f,A.currentTimeline.currentTime),c.push(A.currentTimeline)}),c.forEach(I=>s.currentTimeline.mergeTimelineCollectedStyles(I)),s.transformIntoNewTimeline(f),s.previousNode=l}_visitTiming(l,s){if(l.dynamic){const c=l.strValue;return N(s.params?le(c,s.params,s.errors):c,s.errors)}return{duration:l.duration,delay:l.delay,easing:l.easing}}visitAnimate(l,s){const c=s.currentAnimateTimings=this._visitTiming(l.timings,s),f=s.currentTimeline;c.delay&&(s.incrementTime(c.delay),f.snapshotCurrentStyles());const _=l.style;5==_.type?this.visitKeyframes(_,s):(s.incrementTime(c.duration),this.visitStyle(_,s),f.applyStylesToKeyframe()),s.currentAnimateTimings=null,s.previousNode=l}visitStyle(l,s){const c=s.currentTimeline,f=s.currentAnimateTimings;!f&&c.hasCurrentStyleProperties()&&c.forwardFrame();const _=f&&f.easing||l.easing;l.isEmptyStep?c.applyEmptyStep(_):c.setStyles(l.styles,_,s.errors,s.options),s.previousNode=l}visitKeyframes(l,s){const c=s.currentAnimateTimings,f=s.currentTimeline.duration,_=c.duration,A=s.createSubContext().currentTimeline;A.easing=c.easing,l.styles.forEach(k=>{A.forwardTime((k.offset||0)*_),A.setStyles(k.styles,k.easing,s.errors,s.options),A.applyStylesToKeyframe()}),s.currentTimeline.mergeTimelineCollectedStyles(A),s.transformIntoNewTimeline(f+_),s.previousNode=l}visitQuery(l,s){const c=s.currentTimeline.currentTime,f=l.options||{},_=f.delay?O(f.delay):0;_&&(6===s.previousNode.type||0==c&&s.currentTimeline.hasCurrentStyleProperties())&&(s.currentTimeline.snapshotCurrentStyles(),s.previousNode=rn);let I=c;const A=s.invokeQuery(l.selector,l.originalSelector,l.limit,l.includeSelf,!!f.optional,s.errors);s.currentQueryTotal=A.length;let k=null;A.forEach((Y,ue)=>{s.currentQueryIndex=ue;const Ce=s.createSubContext(l.options,Y);_&&Ce.delayNextStep(_),Y===s.element&&(k=Ce.currentTimeline),Pt(this,l.animation,Ce),Ce.currentTimeline.applyStylesToKeyframe(),I=Math.max(I,Ce.currentTimeline.currentTime)}),s.currentQueryIndex=0,s.currentQueryTotal=0,s.transformIntoNewTimeline(I),k&&(s.currentTimeline.mergeTimelineCollectedStyles(k),s.currentTimeline.snapshotCurrentStyles()),s.previousNode=l}visitStagger(l,s){const c=s.parentContext,f=s.currentTimeline,_=l.timings,I=Math.abs(_.duration),A=I*(s.currentQueryTotal-1);let k=I*s.currentQueryIndex;switch(_.duration<0?"reverse":_.easing){case"reverse":k=A-k;break;case"full":k=c.currentStaggerTime}const ue=s.currentTimeline;k&&ue.delayNextStep(k);const Ce=ue.currentTime;Pt(this,l.animation,s),s.previousNode=l,c.currentStaggerTime=f.currentTime-Ce+(f.startTime-c.currentTimeline.startTime)}}const rn={};class Fn{constructor(l,s,c,f,_,I,A,k){this._driver=l,this.element=s,this.subInstructions=c,this._enterClassName=f,this._leaveClassName=_,this.errors=I,this.timelines=A,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=rn,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=k||new sr(this._driver,s,0),A.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(l,s){if(!l)return;const c=l;let f=this.options;null!=c.duration&&(f.duration=O(c.duration)),null!=c.delay&&(f.delay=O(c.delay));const _=c.params;if(_){let I=f.params;I||(I=this.options.params={}),Object.keys(_).forEach(A=>{(!s||!I.hasOwnProperty(A))&&(I[A]=le(_[A],I,this.errors))})}}_copyOptions(){const l={};if(this.options){const s=this.options.params;if(s){const c=l.params={};Object.keys(s).forEach(f=>{c[f]=s[f]})}}return l}createSubContext(l=null,s,c){const f=s||this.element,_=new Fn(this._driver,f,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(f,c||0));return _.previousNode=this.previousNode,_.currentAnimateTimings=this.currentAnimateTimings,_.options=this._copyOptions(),_.updateOptions(l),_.currentQueryIndex=this.currentQueryIndex,_.currentQueryTotal=this.currentQueryTotal,_.parentContext=this,this.subContextCount++,_}transformIntoNewTimeline(l){return this.previousNode=rn,this.currentTimeline=this.currentTimeline.fork(this.element,l),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(l,s,c){const f={duration:null!=s?s:l.duration,delay:this.currentTimeline.currentTime+(null!=c?c:0)+l.delay,easing:""},_=new ri(this._driver,l.element,l.keyframes,l.preStyleProps,l.postStyleProps,f,l.stretchStartingKeyframe);return this.timelines.push(_),f}incrementTime(l){this.currentTimeline.forwardTime(this.currentTimeline.duration+l)}delayNextStep(l){l>0&&this.currentTimeline.delayNextStep(l)}invokeQuery(l,s,c,f,_,I){let A=[];if(f&&A.push(this.element),l.length>0){l=(l=l.replace(De,"."+this._enterClassName)).replace(at,"."+this._leaveClassName);let Y=this._driver.query(this.element,l,1!=c);0!==c&&(Y=c<0?Y.slice(Y.length+c,Y.length):Y.slice(0,c)),A.push(...Y)}return!_&&0==A.length&&I.push(function Br(m){return new E.vHH(3014,!1)}()),A}}class sr{constructor(l,s,c,f){this._driver=l,this.element=s,this.startTime=c,this._elementTimelineStylesLookup=f,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(s),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(s,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(l){const s=1===this._keyframes.size&&this._pendingStyles.size;this.duration||s?(this.forwardTime(this.currentTime+l),s&&this.snapshotCurrentStyles()):this.startTime+=l}fork(l,s){return this.applyStylesToKeyframe(),new sr(this._driver,l,s||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(l){this.applyStylesToKeyframe(),this.duration=l,this._loadKeyframe()}_updateStyle(l,s){this._localTimelineStyles.set(l,s),this._globalTimelineStyles.set(l,s),this._styleSummary.set(l,{time:this.currentTime,value:s})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(l){l&&this._previousKeyframe.set("easing",l);for(let[s,c]of this._globalTimelineStyles)this._backFill.set(s,c||Sr),this._currentKeyframe.set(s,Sr);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(l,s,c,f){s&&this._previousKeyframe.set("easing",s);const _=f&&f.params||{},I=function Ms(m,l){const s=new Map;let c;return m.forEach(f=>{if("*"===f){c=c||l.keys();for(let _ of c)s.set(_,Sr)}else hi(f,s)}),s}(l,this._globalTimelineStyles);for(let[k,Y]of I){const ue=le(Y,_,c);var A;this._pendingStyles.set(k,ue),this._localTimelineStyles.has(k)||this._backFill.set(k,null!==(A=this._globalTimelineStyles.get(k))&&void 0!==A?A:Sr),this._updateStyle(k,ue)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((l,s)=>{this._currentKeyframe.set(s,l)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((l,s)=>{this._currentKeyframe.has(s)||this._currentKeyframe.set(s,l)}))}snapshotCurrentStyles(){for(let[l,s]of this._localTimelineStyles)this._pendingStyles.set(l,s),this._updateStyle(l,s)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const l=[];for(let s in this._currentKeyframe)l.push(s);return l}mergeTimelineCollectedStyles(l){l._styleSummary.forEach((s,c)=>{const f=this._styleSummary.get(c);(!f||s.time>f.time)&&this._updateStyle(c,s.value)})}buildKeyframes(){this.applyStylesToKeyframe();const l=new Set,s=new Set,c=1===this._keyframes.size&&0===this.duration;let f=[];this._keyframes.forEach((A,k)=>{const Y=hi(A,new Map,this._backFill);Y.forEach((ue,Ce)=>{ue===re?l.add(Ce):ue===Sr&&s.add(Ce)}),c||Y.set("offset",k/this.duration),f.push(Y)});const _=l.size?$(l.values()):[],I=s.size?$(s.values()):[];if(c){const A=f[0],k=new Map(A);A.set("offset",0),k.set("offset",1),f=[A,k]}return Ta(this.element,f,_,I,this.duration,this.startTime,this.easing,!1)}}class ri extends sr{constructor(l,s,c,f,_,I,A=!1){super(l,s,I.delay),this.keyframes=c,this.preStyleProps=f,this.postStyleProps=_,this._stretchStartingKeyframe=A,this.timings={duration:I.duration,delay:I.delay,easing:I.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let l=this.keyframes,{delay:s,duration:c,easing:f}=this.timings;if(this._stretchStartingKeyframe&&s){const _=[],I=c+s,A=s/I,k=hi(l[0]);k.set("offset",0),_.push(k);const Y=hi(l[0]);Y.set("offset",Hr(A)),_.push(Y);const ue=l.length-1;for(let Ce=1;Ce<=ue;Ce++){let je=hi(l[Ce]);const Qe=je.get("offset");je.set("offset",Hr((s+Qe*c)/I)),_.push(je)}c=I,s=0,f="",l=_}return Ta(this.element,l,this.preStyleProps,this.postStyleProps,c,s,f,!0)}}function Hr(m,l=3){const s=Math.pow(10,l-1);return Math.round(m*s)/s}class K{}const Q=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class Pe extends K{normalizePropertyName(l,s){return S(l)}normalizeStyleValue(l,s,c,f){let _="";const I=c.toString().trim();if(Q.has(s)&&0!==c&&"0"!==c)if("number"==typeof c)_="px";else{const A=c.match(/^[+-]?[\d\.]+([a-z]*)$/);A&&0==A[1].length&&f.push(function $t(m,l){return new E.vHH(3005,!1)}())}return I+_}}function _t(m,l,s,c,f,_,I,A,k,Y,ue,Ce,je){return{type:0,element:m,triggerName:l,isRemovalTransition:f,fromState:s,fromStyles:_,toState:c,toStyles:I,timelines:A,queriedElements:k,preStyleProps:Y,postStyleProps:ue,totalTime:Ce,errors:je}}const mn={};class Pn{constructor(l,s,c){this._triggerName=l,this.ast=s,this._stateStyles=c}match(l,s,c,f){return function hr(m,l,s,c,f){return m.some(_=>_(l,s,c,f))}(this.ast.matchers,l,s,c,f)}buildStyles(l,s,c){let f=this._stateStyles.get("*");return void 0!==l&&(f=this._stateStyles.get(null==l?void 0:l.toString())||f),f?f.buildStyles(s,c):new Map}build(l,s,c,f,_,I,A,k,Y,ue){var Ce;const je=[],Qe=this.ast.options&&this.ast.options.params||mn,At=this.buildStyles(c,A&&A.params||mn,je),Xt=k&&k.params||mn,In=this.buildStyles(f,Xt,je),wn=new Set,tr=new Map,Qn=new Map,Kn="void"===f,or={params:Hi(Xt,Qe),delay:null===(Ce=this.ast.options)||void 0===Ce?void 0:Ce.delay},dr=ue?[]:Tt(l,s,this.ast.animation,_,I,At,In,or,Y,je);let vr=0;if(dr.forEach(Oi=>{vr=Math.max(Oi.duration+Oi.delay,vr)}),je.length)return _t(s,this._triggerName,c,f,Kn,At,In,[],[],tr,Qn,vr,je);dr.forEach(Oi=>{const Vr=Oi.element,ms=Yi(tr,Vr,new Set);Oi.preStyleProps.forEach(os=>ms.add(os));const Rs=Yi(Qn,Vr,new Set);Oi.postStyleProps.forEach(os=>Rs.add(os)),Vr!==s&&wn.add(Vr)});const fi=$(wn.values());return _t(s,this._triggerName,c,f,Kn,At,In,dr,fi,tr,Qn,vr)}}function Hi(m,l){const s=Ge(l);for(const c in m)m.hasOwnProperty(c)&&null!=m[c]&&(s[c]=m[c]);return s}class ei{constructor(l,s,c){this.styles=l,this.defaultParams=s,this.normalizer=c}buildStyles(l,s){const c=new Map,f=Ge(this.defaultParams);return Object.keys(l).forEach(_=>{const I=l[_];null!==I&&(f[_]=I)}),this.styles.styles.forEach(_=>{"string"!=typeof _&&_.forEach((I,A)=>{I&&(I=le(I,f,s));const k=this.normalizer.normalizePropertyName(A,s);I=this.normalizer.normalizeStyleValue(A,k,I,s),c.set(A,I)})}),c}}class ds{constructor(l,s,c){this.name=l,this.ast=s,this._normalizer=c,this.transitionFactories=[],this.states=new Map,s.states.forEach(f=>{this.states.set(f.name,new ei(f.style,f.options&&f.options.params||{},c))}),lo(this.states,"true","1"),lo(this.states,"false","0"),s.transitions.forEach(f=>{this.transitionFactories.push(new Pn(l,f,this.states))}),this.fallbackTransition=function Ps(m,l,s){return new Pn(m,{type:1,animation:{type:2,steps:[],options:null},matchers:[(I,A)=>!0],options:null,queryCount:0,depCount:0},l)}(l,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(l,s,c,f){return this.transitionFactories.find(I=>I.match(l,s,c,f))||null}matchStyles(l,s,c){return this.fallbackTransition.buildStyles(l,s,c)}}function lo(m,l,s){m.has(l)?m.has(s)||m.set(s,m.get(l)):m.has(s)&&m.set(l,m.get(s))}const Hn=new M;class Bi{constructor(l,s,c){this.bodyNode=l,this._driver=s,this._normalizer=c,this._animations=new Map,this._playersById=new Map,this.players=[]}register(l,s){const c=[],_=sa(this._driver,s,c,[]);if(c.length)throw function ji(m){return new E.vHH(3503,!1)}();this._animations.set(l,_)}_buildPlayer(l,s,c){const f=l.element,_=qo(0,this._normalizer,0,l.keyframes,s,c);return this._driver.animate(f,_,l.duration,l.delay,l.easing,[],!0)}create(l,s,c={}){const f=[],_=this._animations.get(l);let I;const A=new Map;if(_?(I=Tt(this._driver,s,_,Ro,us,new Map,new Map,c,Hn,f),I.forEach(ue=>{const Ce=Yi(A,ue.element,new Map);ue.postStyleProps.forEach(je=>Ce.set(je,null))})):(f.push(function qr(){return new E.vHH(3300,!1)}()),I=[]),f.length)throw function so(m){return new E.vHH(3504,!1)}();A.forEach((ue,Ce)=>{ue.forEach((je,Qe)=>{ue.set(Qe,this._driver.computeStyle(Ce,Qe,Sr))})});const Y=As(I.map(ue=>{const Ce=A.get(ue.element);return this._buildPlayer(ue,new Map,Ce)}));return this._playersById.set(l,Y),Y.onDestroy(()=>this.destroy(l)),this.players.push(Y),Y}destroy(l){const s=this._getPlayer(l);s.destroy(),this._playersById.delete(l);const c=this.players.indexOf(s);c>=0&&this.players.splice(c,1)}_getPlayer(l){const s=this._playersById.get(l);if(!s)throw function _s(m){return new E.vHH(3301,!1)}();return s}listen(l,s,c,f){const _=No(s,"","","");return bs(this._getPlayer(l),c,_,f),()=>{}}command(l,s,c,f){if("register"==c)return void this.register(l,f[0]);if("create"==c)return void this.create(l,s,f[0]||{});const _=this._getPlayer(l);switch(c){case"play":_.play();break;case"pause":_.pause();break;case"reset":_.reset();break;case"restart":_.restart();break;case"finish":_.finish();break;case"init":_.init();break;case"setPosition":_.setPosition(parseFloat(f[0]));break;case"destroy":this.destroy(l)}}}const Ho="ng-animate-queued",Rr="ng-animate-disabled",Dn=[],Zn={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Ds={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},aa="__ng_removed";class Fa{get params(){return this.options.params}constructor(l,s=""){this.namespaceId=s;const c=l&&l.hasOwnProperty("value");if(this.value=function ks(m){return null!=m?m:null}(c?l.value:l),c){const _=Ge(l);delete _.value,this.options=_}else this.options={};this.options.params||(this.options.params={})}absorbOptions(l){const s=l.params;if(s){const c=this.options.params;Object.keys(s).forEach(f=>{null==c[f]&&(c[f]=s[f])})}}}const _a="void",Ja=new Fa(_a);class al{constructor(l,s,c){this.id=l,this.hostElement=s,this._engine=c,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+l,ps(s,this._hostClassName)}listen(l,s,c,f){if(!this._triggers.has(s))throw function ki(m,l){return new E.vHH(3302,!1)}();if(null==c||0==c.length)throw function es(m){return new E.vHH(3303,!1)}();if(!function ll(m){return"start"==m||"done"==m}(c))throw function eo(m,l){return new E.vHH(3400,!1)}();const _=Yi(this._elementListeners,l,[]),I={name:s,phase:c,callback:f};_.push(I);const A=Yi(this._engine.statesByElement,l,new Map);return A.has(s)||(ps(l,Mo),ps(l,Mo+"-"+s),A.set(s,Ja)),()=>{this._engine.afterFlush(()=>{const k=_.indexOf(I);k>=0&&_.splice(k,1),this._triggers.has(s)||A.delete(s)})}}register(l,s){return!this._triggers.has(l)&&(this._triggers.set(l,s),!0)}_getTrigger(l){const s=this._triggers.get(l);if(!s)throw function uo(m){return new E.vHH(3401,!1)}();return s}trigger(l,s,c,f=!0){const _=this._getTrigger(s),I=new La(this.id,s,l);let A=this._engine.statesByElement.get(l);A||(ps(l,Mo),ps(l,Mo+"-"+s),this._engine.statesByElement.set(l,A=new Map));let k=A.get(s);const Y=new Fa(c,this.id);if(!(c&&c.hasOwnProperty("value"))&&k&&Y.absorbOptions(k.options),A.set(s,Y),k||(k=Ja),Y.value!==_a&&k.value===Y.value){if(!function gs(m,l){const s=Object.keys(m),c=Object.keys(l);if(s.length!=c.length)return!1;for(let f=0;f<s.length;f++){const _=s[f];if(!l.hasOwnProperty(_)||m[_]!==l[_])return!1}return!0}(k.params,Y.params)){const At=[],Xt=_.matchStyles(k.value,k.params,At),In=_.matchStyles(Y.value,Y.params,At);At.length?this._engine.reportError(At):this._engine.afterFlush(()=>{Es(l,Xt),ni(l,In)})}return}const je=Yi(this._engine.playersByElement,l,[]);je.forEach(At=>{At.namespaceId==this.id&&At.triggerName==s&&At.queued&&At.destroy()});let Qe=_.matchTransition(k.value,Y.value,l,Y.params),Et=!1;if(!Qe){if(!f)return;Qe=_.fallbackTransition,Et=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:l,triggerName:s,transition:Qe,fromState:k,toState:Y,player:I,isFallbackTransition:Et}),Et||(ps(l,Ho),I.onStart(()=>{ti(l,Ho)})),I.onDone(()=>{let At=this.players.indexOf(I);At>=0&&this.players.splice(At,1);const Xt=this._engine.playersByElement.get(l);if(Xt){let In=Xt.indexOf(I);In>=0&&Xt.splice(In,1)}}),this.players.push(I),je.push(I),I}deregister(l){this._triggers.delete(l),this._engine.statesByElement.forEach(s=>s.delete(l)),this._elementListeners.forEach((s,c)=>{this._elementListeners.set(c,s.filter(f=>f.name!=l))})}clearElementCache(l){this._engine.statesByElement.delete(l),this._elementListeners.delete(l);const s=this._engine.playersByElement.get(l);s&&(s.forEach(c=>c.destroy()),this._engine.playersByElement.delete(l))}_signalRemovalForInnerTriggers(l,s){const c=this._engine.driver.query(l,fo,!0);c.forEach(f=>{if(f[aa])return;const _=this._engine.fetchNamespacesByElement(f);_.size?_.forEach(I=>I.triggerLeaveAnimation(f,s,!1,!0)):this.clearElementCache(f)}),this._engine.afterFlushAnimationsDone(()=>c.forEach(f=>this.clearElementCache(f)))}triggerLeaveAnimation(l,s,c,f){const _=this._engine.statesByElement.get(l),I=new Map;if(_){const A=[];if(_.forEach((k,Y)=>{if(I.set(Y,k.value),this._triggers.has(Y)){const ue=this.trigger(l,Y,_a,f);ue&&A.push(ue)}}),A.length)return this._engine.markElementAsRemoved(this.id,l,!0,s,I),c&&As(A).onDone(()=>this._engine.processLeaveNode(l)),!0}return!1}prepareLeaveAnimationListeners(l){const s=this._elementListeners.get(l),c=this._engine.statesByElement.get(l);if(s&&c){const f=new Set;s.forEach(_=>{const I=_.name;if(f.has(I))return;f.add(I);const k=this._triggers.get(I).fallbackTransition,Y=c.get(I)||Ja,ue=new Fa(_a),Ce=new La(this.id,I,l);this._engine.totalQueuedPlayers++,this._queue.push({element:l,triggerName:I,transition:k,fromState:Y,toState:ue,player:Ce,isFallbackTransition:!0})})}}removeNode(l,s){const c=this._engine;if(l.childElementCount&&this._signalRemovalForInnerTriggers(l,s),this.triggerLeaveAnimation(l,s,!0))return;let f=!1;if(c.totalAnimations){const _=c.players.length?c.playersByQueriedElement.get(l):[];if(_&&_.length)f=!0;else{let I=l;for(;I=I.parentNode;)if(c.statesByElement.get(I)){f=!0;break}}}if(this.prepareLeaveAnimationListeners(l),f)c.markElementAsRemoved(this.id,l,!1,s);else{const _=l[aa];(!_||_===Zn)&&(c.afterFlush(()=>this.clearElementCache(l)),c.destroyInnerAnimations(l),c._onRemovalComplete(l,s))}}insertNode(l,s){ps(l,this._hostClassName)}drainQueuedTransitions(l){const s=[];return this._queue.forEach(c=>{const f=c.player;if(f.destroyed)return;const _=c.element,I=this._elementListeners.get(_);I&&I.forEach(A=>{if(A.name==c.triggerName){const k=No(_,c.triggerName,c.fromState.value,c.toState.value);k._data=l,bs(c.player,A.phase,k,A.callback)}}),f.markedForDestroy?this._engine.afterFlush(()=>{f.destroy()}):s.push(c)}),this._queue=[],s.sort((c,f)=>{const _=c.transition.ast.depCount,I=f.transition.ast.depCount;return 0==_||0==I?_-I:this._engine.driver.containsElement(c.element,f.element)?1:-1})}destroy(l){this.players.forEach(s=>s.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,l)}elementContainsData(l){let s=!1;return this._elementListeners.has(l)&&(s=!0),s=!!this._queue.find(c=>c.element===l)||s,s}}class ta{_onRemovalComplete(l,s){this.onRemovalComplete(l,s)}constructor(l,s,c){this.bodyNode=l,this.driver=s,this._normalizer=c,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(f,_)=>{}}get queuedPlayers(){const l=[];return this._namespaceList.forEach(s=>{s.players.forEach(c=>{c.queued&&l.push(c)})}),l}createNamespace(l,s){const c=new al(l,s,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,s)?this._balanceNamespaceList(c,s):(this.newHostElements.set(s,c),this.collectEnterElement(s)),this._namespaceLookup[l]=c}_balanceNamespaceList(l,s){const c=this._namespaceList,f=this.namespacesByHostElement;if(c.length-1>=0){let I=!1,A=this.driver.getParentElement(s);for(;A;){const k=f.get(A);if(k){const Y=c.indexOf(k);c.splice(Y+1,0,l),I=!0;break}A=this.driver.getParentElement(A)}I||c.unshift(l)}else c.push(l);return f.set(s,l),l}register(l,s){let c=this._namespaceLookup[l];return c||(c=this.createNamespace(l,s)),c}registerTrigger(l,s,c){let f=this._namespaceLookup[l];f&&f.register(s,c)&&this.totalAnimations++}destroy(l,s){if(!l)return;const c=this._fetchNamespace(l);this.afterFlush(()=>{this.namespacesByHostElement.delete(c.hostElement),delete this._namespaceLookup[l];const f=this._namespaceList.indexOf(c);f>=0&&this._namespaceList.splice(f,1)}),this.afterFlushAnimationsDone(()=>c.destroy(s))}_fetchNamespace(l){return this._namespaceLookup[l]}fetchNamespacesByElement(l){const s=new Set,c=this.statesByElement.get(l);if(c)for(let f of c.values())if(f.namespaceId){const _=this._fetchNamespace(f.namespaceId);_&&s.add(_)}return s}trigger(l,s,c,f){if(Bo(s)){const _=this._fetchNamespace(l);if(_)return _.trigger(s,c,f),!0}return!1}insertNode(l,s,c,f){if(!Bo(s))return;const _=s[aa];if(_&&_.setForRemoval){_.setForRemoval=!1,_.setForMove=!0;const I=this.collectedLeaveElements.indexOf(s);I>=0&&this.collectedLeaveElements.splice(I,1)}if(l){const I=this._fetchNamespace(l);I&&I.insertNode(s,c)}f&&this.collectEnterElement(s)}collectEnterElement(l){this.collectedEnterElements.push(l)}markElementAsDisabled(l,s){s?this.disabledNodes.has(l)||(this.disabledNodes.add(l),ps(l,Rr)):this.disabledNodes.has(l)&&(this.disabledNodes.delete(l),ti(l,Rr))}removeNode(l,s,c,f){if(Bo(s)){const _=l?this._fetchNamespace(l):null;if(_?_.removeNode(s,f):this.markElementAsRemoved(l,s,!1,f),c){const I=this.namespacesByHostElement.get(s);I&&I.id!==l&&I.removeNode(s,f)}}else this._onRemovalComplete(s,f)}markElementAsRemoved(l,s,c,f,_){this.collectedLeaveElements.push(s),s[aa]={namespaceId:l,setForRemoval:f,hasAnimation:c,removedBeforeQueried:!1,previousTriggersValues:_}}listen(l,s,c,f,_){return Bo(s)?this._fetchNamespace(l).listen(s,c,f,_):()=>{}}_buildInstruction(l,s,c,f,_){return l.transition.build(this.driver,l.element,l.fromState.value,l.toState.value,c,f,l.fromState.options,l.toState.options,s,_)}destroyInnerAnimations(l){let s=this.driver.query(l,fo,!0);s.forEach(c=>this.destroyActiveAnimationsForElement(c)),0!=this.playersByQueriedElement.size&&(s=this.driver.query(l,qi,!0),s.forEach(c=>this.finishActiveQueriedAnimationOnElement(c)))}destroyActiveAnimationsForElement(l){const s=this.playersByElement.get(l);s&&s.forEach(c=>{c.queued?c.markedForDestroy=!0:c.destroy()})}finishActiveQueriedAnimationOnElement(l){const s=this.playersByQueriedElement.get(l);s&&s.forEach(c=>c.finish())}whenRenderingDone(){return new Promise(l=>{if(this.players.length)return As(this.players).onDone(()=>l());l()})}processLeaveNode(l){var s;const c=l[aa];if(c&&c.setForRemoval){if(l[aa]=Zn,c.namespaceId){this.destroyInnerAnimations(l);const f=this._fetchNamespace(c.namespaceId);f&&f.clearElementCache(l)}this._onRemovalComplete(l,c.setForRemoval)}null!==(s=l.classList)&&void 0!==s&&s.contains(Rr)&&this.markElementAsDisabled(l,!1),this.driver.query(l,".ng-animate-disabled",!0).forEach(f=>{this.markElementAsDisabled(f,!1)})}flush(l=-1){let s=[];if(this.newHostElements.size&&(this.newHostElements.forEach((c,f)=>this._balanceNamespaceList(c,f)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let c=0;c<this.collectedEnterElements.length;c++)ps(this.collectedEnterElements[c],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const c=[];try{s=this._flushAnimations(c,l)}finally{for(let f=0;f<c.length;f++)c[f]()}}else for(let c=0;c<this.collectedLeaveElements.length;c++)this.processLeaveNode(this.collectedLeaveElements[c]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(c=>c()),this._flushFns=[],this._whenQuietFns.length){const c=this._whenQuietFns;this._whenQuietFns=[],s.length?As(s).onDone(()=>{c.forEach(f=>f())}):c.forEach(f=>f())}}reportError(l){throw function zs(m){return new E.vHH(3402,!1)}()}_flushAnimations(l,s){const c=new M,f=[],_=new Map,I=[],A=new Map,k=new Map,Y=new Map,ue=new Set;this.disabledNodes.forEach(wr=>{ue.add(wr);const Ir=this.driver.query(wr,".ng-animate-queued",!0);for(let Ii=0;Ii<Ir.length;Ii++)ue.add(Ir[Ii])});const Ce=this.bodyNode,je=Array.from(this.statesByElement.keys()),Qe=Al(je,this.collectedEnterElements),Et=new Map;let At=0;Qe.forEach((wr,Ir)=>{const Ii=Ro+At++;Et.set(Ir,Ii),wr.forEach(Ki=>ps(Ki,Ii))});const Xt=[],In=new Set,wn=new Set;for(let wr=0;wr<this.collectedLeaveElements.length;wr++){const Ir=this.collectedLeaveElements[wr],Ii=Ir[aa];Ii&&Ii.setForRemoval&&(Xt.push(Ir),In.add(Ir),Ii.hasAnimation?this.driver.query(Ir,".ng-star-inserted",!0).forEach(Ki=>In.add(Ki)):wn.add(Ir))}const tr=new Map,Qn=Al(je,Array.from(In));Qn.forEach((wr,Ir)=>{const Ii=us+At++;tr.set(Ir,Ii),wr.forEach(Ki=>ps(Ki,Ii))}),l.push(()=>{Qe.forEach((wr,Ir)=>{const Ii=Et.get(Ir);wr.forEach(Ki=>ti(Ki,Ii))}),Qn.forEach((wr,Ir)=>{const Ii=tr.get(Ir);wr.forEach(Ki=>ti(Ki,Ii))}),Xt.forEach(wr=>{this.processLeaveNode(wr)})});const Kn=[],or=[];for(let wr=this._namespaceList.length-1;wr>=0;wr--)this._namespaceList[wr].drainQueuedTransitions(s).forEach(Ii=>{const Ki=Ii.player,ns=Ii.element;if(Kn.push(Ki),this.collectedEnterElements.length){const Vo=ns[aa];if(Vo&&Vo.setForMove){if(Vo.previousTriggersValues&&Vo.previousTriggersValues.has(Ii.triggerName)){const Ml=Vo.previousTriggersValues.get(Ii.triggerName),ra=this.statesByElement.get(Ii.element);if(ra&&ra.has(Ii.triggerName)){const tl=ra.get(Ii.triggerName);tl.value=Ml,ra.set(Ii.triggerName,tl)}}return void Ki.destroy()}}const ua=!Ce||!this.driver.containsElement(Ce,ns),po=tr.get(ns),Ss=Et.get(ns),ls=this._buildInstruction(Ii,c,Ss,po,ua);if(ls.errors&&ls.errors.length)return void or.push(ls);if(ua)return Ki.onStart(()=>Es(ns,ls.fromStyles)),Ki.onDestroy(()=>ni(ns,ls.toStyles)),void f.push(Ki);if(Ii.isFallbackTransition)return Ki.onStart(()=>Es(ns,ls.fromStyles)),Ki.onDestroy(()=>ni(ns,ls.toStyles)),void f.push(Ki);const wa=[];ls.timelines.forEach(Vo=>{Vo.stretchStartingKeyframe=!0,this.disabledNodes.has(Vo.element)||wa.push(Vo)}),ls.timelines=wa,c.append(ns,ls.timelines),I.push({instruction:ls,player:Ki,element:ns}),ls.queriedElements.forEach(Vo=>Yi(A,Vo,[]).push(Ki)),ls.preStyleProps.forEach((Vo,Ml)=>{if(Vo.size){let ra=k.get(Ml);ra||k.set(Ml,ra=new Set),Vo.forEach((tl,Zl)=>ra.add(Zl))}}),ls.postStyleProps.forEach((Vo,Ml)=>{let ra=Y.get(Ml);ra||Y.set(Ml,ra=new Set),Vo.forEach((tl,Zl)=>ra.add(Zl))})});if(or.length){const wr=[];or.forEach(Ir=>{wr.push(function _o(m,l){return new E.vHH(3505,!1)}())}),Kn.forEach(Ir=>Ir.destroy()),this.reportError(wr)}const dr=new Map,vr=new Map;I.forEach(wr=>{const Ir=wr.element;c.has(Ir)&&(vr.set(Ir,Ir),this._beforeAnimationBuild(wr.player.namespaceId,wr.instruction,dr))}),f.forEach(wr=>{const Ir=wr.element;this._getPreviousPlayers(Ir,!1,wr.namespaceId,wr.triggerName,null).forEach(Ki=>{Yi(dr,Ir,[]).push(Ki),Ki.destroy()})});const fi=Xt.filter(wr=>gr(wr,k,Y)),Oi=new Map;la(Oi,this.driver,wn,Y,Sr).forEach(wr=>{gr(wr,k,Y)&&fi.push(wr)});const ms=new Map;Qe.forEach((wr,Ir)=>{la(ms,this.driver,new Set(wr),k,re)}),fi.forEach(wr=>{var Ir,Ii;const Ki=Oi.get(wr),ns=ms.get(wr);Oi.set(wr,new Map([...Array.from(null!==(Ir=null==Ki?void 0:Ki.entries())&&void 0!==Ir?Ir:[]),...Array.from(null!==(Ii=null==ns?void 0:ns.entries())&&void 0!==Ii?Ii:[])]))});const Rs=[],os=[],Ns={};I.forEach(wr=>{const{element:Ir,player:Ii,instruction:Ki}=wr;if(c.has(Ir)){if(ue.has(Ir))return Ii.onDestroy(()=>ni(Ir,Ki.toStyles)),Ii.disabled=!0,Ii.overrideTotalTime(Ki.totalTime),void f.push(Ii);let ns=Ns;if(vr.size>1){let po=Ir;const Ss=[];for(;po=po.parentNode;){const ls=vr.get(po);if(ls){ns=ls;break}Ss.push(po)}Ss.forEach(ls=>vr.set(ls,ns))}const ua=this._buildAnimation(Ii.namespaceId,Ki,dr,_,ms,Oi);if(Ii.setRealPlayer(ua),ns===Ns)Rs.push(Ii);else{const po=this.playersByElement.get(ns);po&&po.length&&(Ii.parentPlayer=As(po)),f.push(Ii)}}else Es(Ir,Ki.fromStyles),Ii.onDestroy(()=>ni(Ir,Ki.toStyles)),os.push(Ii),ue.has(Ir)&&f.push(Ii)}),os.forEach(wr=>{const Ir=_.get(wr.element);if(Ir&&Ir.length){const Ii=As(Ir);wr.setRealPlayer(Ii)}}),f.forEach(wr=>{wr.parentPlayer?wr.syncPlayerEvents(wr.parentPlayer):wr.destroy()});for(let wr=0;wr<Xt.length;wr++){const Ir=Xt[wr],Ii=Ir[aa];if(ti(Ir,us),Ii&&Ii.hasAnimation)continue;let Ki=[];if(A.size){let ua=A.get(Ir);ua&&ua.length&&Ki.push(...ua);let po=this.driver.query(Ir,qi,!0);for(let Ss=0;Ss<po.length;Ss++){let ls=A.get(po[Ss]);ls&&ls.length&&Ki.push(...ls)}}const ns=Ki.filter(ua=>!ua.destroyed);ns.length?Ba(this,Ir,ns):this.processLeaveNode(Ir)}return Xt.length=0,Rs.forEach(wr=>{this.players.push(wr),wr.onDone(()=>{wr.destroy();const Ir=this.players.indexOf(wr);this.players.splice(Ir,1)}),wr.play()}),Rs}elementContainsData(l,s){let c=!1;const f=s[aa];return f&&f.setForRemoval&&(c=!0),this.playersByElement.has(s)&&(c=!0),this.playersByQueriedElement.has(s)&&(c=!0),this.statesByElement.has(s)&&(c=!0),this._fetchNamespace(l).elementContainsData(s)||c}afterFlush(l){this._flushFns.push(l)}afterFlushAnimationsDone(l){this._whenQuietFns.push(l)}_getPreviousPlayers(l,s,c,f,_){let I=[];if(s){const A=this.playersByQueriedElement.get(l);A&&(I=A)}else{const A=this.playersByElement.get(l);if(A){const k=!_||_==_a;A.forEach(Y=>{Y.queued||!k&&Y.triggerName!=f||I.push(Y)})}}return(c||f)&&(I=I.filter(A=>!(c&&c!=A.namespaceId||f&&f!=A.triggerName))),I}_beforeAnimationBuild(l,s,c){const _=s.element,I=s.isRemovalTransition?void 0:l,A=s.isRemovalTransition?void 0:s.triggerName;for(const k of s.timelines){const Y=k.element,ue=Y!==_,Ce=Yi(c,Y,[]);this._getPreviousPlayers(Y,ue,I,A,s.toState).forEach(Qe=>{const Et=Qe.getRealPlayer();Et.beforeDestroy&&Et.beforeDestroy(),Qe.destroy(),Ce.push(Qe)})}Es(_,s.fromStyles)}_buildAnimation(l,s,c,f,_,I){const A=s.triggerName,k=s.element,Y=[],ue=new Set,Ce=new Set,je=s.timelines.map(Et=>{const At=Et.element;ue.add(At);const Xt=At[aa];if(Xt&&Xt.removedBeforeQueried)return new Is(Et.duration,Et.delay);const In=At!==k,wn=function as(m){const l=[];return Wa(m,l),l}((c.get(At)||Dn).map(dr=>dr.getRealPlayer())).filter(dr=>!!dr.element&&dr.element===At),tr=_.get(At),Qn=I.get(At),Kn=qo(0,this._normalizer,0,Et.keyframes,tr,Qn),or=this._buildPlayer(Et,Kn,wn);if(Et.subTimeline&&f&&Ce.add(At),In){const dr=new La(l,A,At);dr.setRealPlayer(or),Y.push(dr)}return or});Y.forEach(Et=>{Yi(this.playersByQueriedElement,Et.element,[]).push(Et),Et.onDone(()=>function ml(m,l,s){let c=m.get(l);if(c){if(c.length){const f=c.indexOf(s);c.splice(f,1)}0==c.length&&m.delete(l)}return c}(this.playersByQueriedElement,Et.element,Et))}),ue.forEach(Et=>ps(Et,jo));const Qe=As(je);return Qe.onDestroy(()=>{ue.forEach(Et=>ti(Et,jo)),ni(k,s.toStyles)}),Ce.forEach(Et=>{Yi(f,Et,[]).push(Qe)}),Qe}_buildPlayer(l,s,c){return s.length>0?this.driver.animate(l.element,s,l.duration,l.delay,l.easing,c):new Is(l.duration,l.delay)}}class La{constructor(l,s,c){this.namespaceId=l,this.triggerName=s,this.element=c,this._player=new Is,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(l){this._containsRealPlayer||(this._player=l,this._queuedCallbacks.forEach((s,c)=>{s.forEach(f=>bs(l,c,void 0,f))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(l.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(l){this.totalTime=l}syncPlayerEvents(l){const s=this._player;s.triggerCallback&&l.onStart(()=>s.triggerCallback("start")),l.onDone(()=>this.finish()),l.onDestroy(()=>this.destroy())}_queueEvent(l,s){Yi(this._queuedCallbacks,l,[]).push(s)}onDone(l){this.queued&&this._queueEvent("done",l),this._player.onDone(l)}onStart(l){this.queued&&this._queueEvent("start",l),this._player.onStart(l)}onDestroy(l){this.queued&&this._queueEvent("destroy",l),this._player.onDestroy(l)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(l){this.queued||this._player.setPosition(l)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(l){const s=this._player;s.triggerCallback&&s.triggerCallback(l)}}function Bo(m){return m&&1===m.nodeType}function $i(m,l){const s=m.style.display;return m.style.display=null!=l?l:"none",s}function la(m,l,s,c,f){const _=[];s.forEach(k=>_.push($i(k)));const I=[];c.forEach((k,Y)=>{const ue=new Map;k.forEach(Ce=>{const je=l.computeStyle(Y,Ce,f);ue.set(Ce,je),(!je||0==je.length)&&(Y[aa]=Ds,I.push(Y))}),m.set(Y,ue)});let A=0;return s.forEach(k=>$i(k,_[A++])),I}function Al(m,l){const s=new Map;if(m.forEach(A=>s.set(A,[])),0==l.length)return s;const c=1,f=new Set(l),_=new Map;function I(A){if(!A)return c;let k=_.get(A);if(k)return k;const Y=A.parentNode;return k=s.has(Y)?Y:f.has(Y)?c:I(Y),_.set(A,k),k}return l.forEach(A=>{const k=I(A);k!==c&&s.get(k).push(A)}),s}function ps(m,l){var s;null===(s=m.classList)||void 0===s||s.add(l)}function ti(m,l){var s;null===(s=m.classList)||void 0===s||s.remove(l)}function Ba(m,l,s){As(s).onDone(()=>m.processLeaveNode(l))}function Wa(m,l){for(let s=0;s<m.length;s++){const c=m[s];c instanceof js?Wa(c.players,l):l.push(c)}}function gr(m,l,s){const c=s.get(m);if(!c)return!1;let f=l.get(m);return f?c.forEach(_=>f.add(_)):l.set(m,c),s.delete(m),!0}class Aa{constructor(l,s,c){this.bodyNode=l,this._driver=s,this._normalizer=c,this._triggerCache={},this.onRemovalComplete=(f,_)=>{},this._transitionEngine=new ta(l,s,c),this._timelineEngine=new Bi(l,s,c),this._transitionEngine.onRemovalComplete=(f,_)=>this.onRemovalComplete(f,_)}registerTrigger(l,s,c,f,_){const I=l+"-"+f;let A=this._triggerCache[I];if(!A){const k=[],ue=sa(this._driver,_,k,[]);if(k.length)throw function Jr(m,l){return new E.vHH(3404,!1)}();A=function Li(m,l,s){return new ds(m,l,s)}(f,ue,this._normalizer),this._triggerCache[I]=A}this._transitionEngine.registerTrigger(s,f,A)}register(l,s){this._transitionEngine.register(l,s)}destroy(l,s){this._transitionEngine.destroy(l,s)}onInsert(l,s,c,f){this._transitionEngine.insertNode(l,s,c,f)}onRemove(l,s,c,f){this._transitionEngine.removeNode(l,s,f||!1,c)}disableAnimations(l,s){this._transitionEngine.markElementAsDisabled(l,s)}process(l,s,c,f){if("@"==c.charAt(0)){const[_,I]=Ri(c);this._timelineEngine.command(_,s,I,f)}else this._transitionEngine.trigger(l,s,c,f)}listen(l,s,c,f,_){if("@"==c.charAt(0)){const[I,A]=Ri(c);return this._timelineEngine.listen(I,s,A,_)}return this._transitionEngine.listen(l,s,c,f,_)}flush(l=-1){this._transitionEngine.flush(l)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let xa=(()=>{class m{constructor(s,c,f){this._element=s,this._startStyles=c,this._endStyles=f,this._state=0;let _=m.initialStylesByElement.get(s);_||m.initialStylesByElement.set(s,_=new Map),this._initialStyles=_}start(){this._state<1&&(this._startStyles&&ni(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(ni(this._element,this._initialStyles),this._endStyles&&(ni(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(m.initialStylesByElement.delete(this._element),this._startStyles&&(Es(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Es(this._element,this._endStyles),this._endStyles=null),ni(this._element,this._initialStyles),this._state=3)}}return m.initialStylesByElement=new WeakMap,m})();function el(m){let l=null;return m.forEach((s,c)=>{(function nt(m){return"display"===m||"position"===m})(c)&&(l=l||new Map,l.set(c,s))}),l}class Zt{constructor(l,s,c,f){this.element=l,this.keyframes=s,this.options=c,this._specialStyles=f,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=c.duration,this._delay=c.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(l=>l()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const l=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,l,this.options),this._finalKeyframe=l.length?l[l.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(l){const s=[];return l.forEach(c=>{s.push(Object.fromEntries(c))}),s}_triggerWebAnimation(l,s,c){return l.animate(this._convertKeyframesToObject(s),c)}onStart(l){this._originalOnStartFns.push(l),this._onStartFns.push(l)}onDone(l){this._originalOnDoneFns.push(l),this._onDoneFns.push(l)}onDestroy(l){this._onDestroyFns.push(l)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(l=>l()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(l=>l()),this._onDestroyFns=[])}setPosition(l){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=l*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const l=new Map;this.hasStarted()&&this._finalKeyframe.forEach((c,f)=>{"offset"!==f&&l.set(f,this._finished?c:dn(this.element,f))}),this.currentSnapshot=l}triggerCallback(l){const s="start"===l?this._onStartFns:this._onDoneFns;s.forEach(c=>c()),s.length=0}}class Jt{validateStyleProperty(l){return!0}validateAnimatableStyleProperty(l){return!0}matchesElement(l,s){return!1}containsElement(l,s){return Go(l,s)}getParentElement(l){return Ys(l)}query(l,s,c){return xo(l,s,c)}computeStyle(l,s,c){return window.getComputedStyle(l)[s]}animate(l,s,c,f,_,I=[]){const k={duration:c,delay:f,fill:0==f?"both":"forwards"};_&&(k.easing=_);const Y=new Map,ue=I.filter(Qe=>Qe instanceof Zt);(function ge(m,l){return 0===m||0===l})(c,f)&&ue.forEach(Qe=>{Qe.currentSnapshot.forEach((Et,At)=>Y.set(At,Et))});let Ce=function Tr(m){return m.length?m[0]instanceof Map?m:m.map(l=>_n(l)):[]}(s).map(Qe=>hi(Qe));Ce=function ht(m,l,s){if(s.size&&l.length){let c=l[0],f=[];if(s.forEach((_,I)=>{c.has(I)||f.push(I),c.set(I,_)}),f.length)for(let _=1;_<l.length;_++){let I=l[_];f.forEach(A=>I.set(A,dn(m,A)))}}return l}(l,Ce,Y);const je=function pa(m,l){let s=null,c=null;return Array.isArray(l)&&l.length?(s=el(l[0]),l.length>1&&(c=el(l[l.length-1]))):l instanceof Map&&(s=el(l)),s||c?new xa(m,s,c):null}(l,Ce);return new Zt(l,Ce,k,je)}}let yr=(()=>{class m extends pr{constructor(s,c){super(),this._nextAnimationId=0,this._renderer=s.createRenderer(c.body,{id:"0",encapsulation:E.ifc.None,styles:[],data:{animation:[]}})}build(s){const c=this._nextAnimationId.toString();this._nextAnimationId++;const f=Array.isArray(s)?Yr(s):s;return ss(this._renderer,null,c,"register",[f]),new Vi(c,this._renderer)}}return m.\u0275fac=function(s){return new(s||m)(E.LFG(E.FYo),E.LFG(Fe.K0))},m.\u0275prov=E.Yz7({token:m,factory:m.\u0275fac}),m})();class Vi extends Fr{constructor(l,s){super(),this._id=l,this._renderer=s}create(l,s){return new Wi(this._id,l,s||{},this._renderer)}}class Wi{constructor(l,s,c,f){this.id=l,this.element=s,this._renderer=f,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",c)}_listen(l,s){return this._renderer.listen(this.element,`@@${this.id}:${l}`,s)}_command(l,...s){return ss(this._renderer,this.element,this.id,l,s)}onDone(l){this._listen("done",l)}onStart(l){this._listen("start",l)}onDestroy(l){this._listen("destroy",l)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(l){this._command("setPosition",l)}getPosition(){var l,s;return null!==(l=null===(s=this._renderer.engine.players[+this.id])||void 0===s?void 0:s.getPosition())&&void 0!==l?l:0}}function ss(m,l,s,c,f){return m.setProperty(l,`@@${s}:${c}`,f)}const Gi="@.disabled";let Ko=(()=>{class m{constructor(s,c,f){this.delegate=s,this.engine=c,this._zone=f,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),c.onRemovalComplete=(_,I)=>{const A=null==I?void 0:I.parentNode(_);A&&I.removeChild(A,_)}}createRenderer(s,c){const _=this.delegate.createRenderer(s,c);if(!(s&&c&&c.data&&c.data.animation)){let ue=this._rendererCache.get(_);return ue||(ue=new ca("",_,this.engine,()=>this._rendererCache.delete(_)),this._rendererCache.set(_,ue)),ue}const I=c.id,A=c.id+"-"+this._currentId;this._currentId++,this.engine.register(A,s);const k=ue=>{Array.isArray(ue)?ue.forEach(k):this.engine.registerTrigger(I,A,s,ue.name,ue)};return c.data.animation.forEach(k),new pn(this,A,_,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(s,c,f){s>=0&&s<this._microtaskId?this._zone.run(()=>c(f)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(_=>{const[I,A]=_;I(A)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([c,f]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return m.\u0275fac=function(s){return new(s||m)(E.LFG(E.FYo),E.LFG(Aa),E.LFG(E.R0b))},m.\u0275prov=E.Yz7({token:m,factory:m.\u0275fac}),m})();class ca{constructor(l,s,c,f){this.namespaceId=l,this.delegate=s,this.engine=c,this._onDestroy=f,this.destroyNode=this.delegate.destroyNode?_=>s.destroyNode(_):null}get data(){return this.delegate.data}destroy(){var l;this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy(),null===(l=this._onDestroy)||void 0===l||l.call(this)}createElement(l,s){return this.delegate.createElement(l,s)}createComment(l){return this.delegate.createComment(l)}createText(l){return this.delegate.createText(l)}appendChild(l,s){this.delegate.appendChild(l,s),this.engine.onInsert(this.namespaceId,s,l,!1)}insertBefore(l,s,c,f=!0){this.delegate.insertBefore(l,s,c),this.engine.onInsert(this.namespaceId,s,l,f)}removeChild(l,s,c){this.engine.onRemove(this.namespaceId,s,this.delegate,c)}selectRootElement(l,s){return this.delegate.selectRootElement(l,s)}parentNode(l){return this.delegate.parentNode(l)}nextSibling(l){return this.delegate.nextSibling(l)}setAttribute(l,s,c,f){this.delegate.setAttribute(l,s,c,f)}removeAttribute(l,s,c){this.delegate.removeAttribute(l,s,c)}addClass(l,s){this.delegate.addClass(l,s)}removeClass(l,s){this.delegate.removeClass(l,s)}setStyle(l,s,c,f){this.delegate.setStyle(l,s,c,f)}removeStyle(l,s,c){this.delegate.removeStyle(l,s,c)}setProperty(l,s,c){"@"==s.charAt(0)&&s==Gi?this.disableAnimations(l,!!c):this.delegate.setProperty(l,s,c)}setValue(l,s){this.delegate.setValue(l,s)}listen(l,s,c){return this.delegate.listen(l,s,c)}disableAnimations(l,s){this.engine.disableAnimations(l,s)}}class pn extends ca{constructor(l,s,c,f,_){super(s,c,f,_),this.factory=l,this.namespaceId=s}setProperty(l,s,c){"@"==s.charAt(0)?"."==s.charAt(1)&&s==Gi?this.disableAnimations(l,c=void 0===c||!!c):this.engine.process(this.namespaceId,l,s.slice(1),c):this.delegate.setProperty(l,s,c)}listen(l,s,c){if("@"==s.charAt(0)){const f=function $a(m){switch(m){case"body":return document.body;case"document":return document;case"window":return window;default:return m}}(l);let _=s.slice(1),I="";return"@"!=_.charAt(0)&&([_,I]=function ga(m){const l=m.indexOf(".");return[m.substring(0,l),m.slice(l+1)]}(_)),this.engine.listen(this.namespaceId,f,_,I,A=>{this.factory.scheduleListenerCallback(A._data||-1,c,A)})}return this.delegate.listen(l,s,c)}}const xl=[{provide:pr,useClass:yr},{provide:K,useFactory:function Ya(){return new Pe}},{provide:Aa,useClass:(()=>{class m extends Aa{constructor(s,c,f,_){super(s.body,c,f)}ngOnDestroy(){this.flush()}}return m.\u0275fac=function(s){return new(s||m)(E.LFG(Fe.K0),E.LFG(to),E.LFG(K),E.LFG(E.z2F))},m.\u0275prov=E.Yz7({token:m,factory:m.\u0275fac}),m})()},{provide:E.FYo,useFactory:function Xo(m,l,s){return new Ko(m,l,s)},deps:[d.se,Aa,E.R0b]}],$o=[{provide:to,useFactory:()=>new Jt},{provide:E.QbO,useValue:"BrowserAnimations"},...xl],V=[{provide:to,useClass:Co},{provide:E.QbO,useValue:"NoopAnimations"},...xl];let H=(()=>{class m{static withConfig(s){return{ngModule:m,providers:s.disableAnimations?V:$o}}}return m.\u0275fac=function(s){return new(s||m)},m.\u0275mod=E.oAB({type:m}),m.\u0275inj=E.cJS({providers:$o,imports:[d.b2]}),m})();var Xe=z(7246);let Ue=(()=>{class m{constructor(s){this.objFirebase=s}TraerUsuarios(){return this.usuariosFirebase=this.objFirebase.collection("usuarios"),this.usuariosFirebase.valueChanges()}}return m.\u0275fac=function(s){return new(s||m)(E.LFG(fn.ST))},m.\u0275prov=E.Yz7({token:m,factory:m.\u0275fac}),m})();var Yt=z(2110),An=z(5030),Ar=z(7622),Mi=z(8490);let Zr=(()=>{class m{constructor(s){this.camera=s,console.log("Hello CamaraProvider Provider")}SacarFoto(){this.camera.getPicture({quality:70,destinationType:this.camera.DestinationType.FILE_URI,encodingType:this.camera.EncodingType.JPEG,mediaType:this.camera.MediaType.PICTURE}).then(c=>{this.miFoto="data:image/jpeg;base64,"+c},c=>{})}}return m.\u0275fac=function(s){return new(s||m)(E.LFG(Mi.V1))},m.\u0275prov=E.Yz7({token:m,factory:m.\u0275fac}),m})(),ko=(()=>{class m{}return m.\u0275fac=function(s){return new(s||m)},m.\u0275mod=E.oAB({type:m,bootstrap:[it]}),m.\u0275inj=E.cJS({providers:[Ze,Re,Zr,Yt.O,Ue,Ar.e,fn.yb,{provide:be.wN,useClass:ke.r4}],imports:[d.b2,Me.vQ,ke.Pc.forRoot(),pt,An.u5,He.hO.initializeApp(jt_firebase),$e.ww,kt.JS,Kt,fn.yb,H,Yn.TE,An.UX,(0,Qt.hX)(()=>(0,Qt.ZF)(jt_firebase)),(0,Xe.AR)(()=>(0,Xe.v0)()),(0,qe.Cm)(()=>(0,qe.ad)())]}),m})();(0,E.G48)(),d.q6().bootstrapModule(ko).catch(m=>console.log(m))},2110:(Jn,Lt,z)=>{"use strict";z.d(Lt,{O:()=>qe});var d=z(5861),E=z(9260),be=z(2223),ke=z(1085);let qe=(()=>{class ze{constructor(Re){this.objFirebase=Re,this.usuario=JSON.parse(sessionStorage.getItem("usuario"))}TraerFotosFeas(){return this.fotosFirebase=this.objFirebase.collection("feas"),this.fotosFirebase.valueChanges()}TraerFotosLindas(){return this.fotosFirebase=this.objFirebase.collection("lindas"),this.fotosFirebase.valueChanges()}GuardarData(Re,Ze){var Fe=this;return(0,d.Z)(function*(){let xe=Fe.objFirebase.createId(),it={id:xe,nombre:Re.nombre,path:Re.path,usuario:Re.usuario,positivo:0,negativo:0};Fe.objFirebase.collection(Ze).doc(xe).set(it).then(Me=>{console.log(Me)}).catch(Me=>{console.log(Me)})})()}TraerUrl(Re){let Ze;return E.Z.storage().ref().child(Re).getDownloadURL().then(Fe=>{Ze=Fe,console.log(Fe)}).catch(Fe=>{console.log(Fe)}),Ze}VotarNegativo(Re,Ze){console.log(Re),Re.negativo++,this.objFirebase.collection(Ze).doc(Re.id).update(Re).then(Fe=>{console.log(Fe)})}VotarPositivo(Re,Ze){Re.positivo++,console.log(Re),this.objFirebase.collection(Ze).doc(Re.id).update(Re).then(Fe=>{console.log(Fe)})}}return ze.\u0275fac=function(Re){return new(Re||ze)(be.LFG(ke.ST))},ze.\u0275prov=be.Yz7({token:ze,factory:ze.\u0275fac}),ze})()},1135:(Jn,Lt,z)=>{"use strict";z.d(Lt,{X:()=>E});var d=z(7579);class E extends d.x{constructor(ke){super(),this._value=ke}get value(){return this.getValue()}_subscribe(ke){const qe=super._subscribe(ke);return!qe.closed&&ke.next(this._value),qe}getValue(){const{hasError:ke,thrownError:qe,_value:ze}=this;if(ke)throw qe;return this._throwIfClosed(),ze}next(ke){super.next(this._value=ke)}}},9751:(Jn,Lt,z)=>{"use strict";z.d(Lt,{y:()=>Re});var d=z(930),E=z(727),be=z(8822),ke=z(9635),qe=z(2416),ze=z(576),Se=z(2806);let Re=(()=>{class it{constructor(lt){lt&&(this._subscribe=lt)}lift(lt){const pt=new it;return pt.source=this,pt.operator=lt,pt}subscribe(lt,pt,jt){const He=function xe(it){return it&&it instanceof d.Lv||function Fe(it){return it&&(0,ze.m)(it.next)&&(0,ze.m)(it.error)&&(0,ze.m)(it.complete)}(it)&&(0,E.Nn)(it)}(lt)?lt:new d.Hp(lt,pt,jt);return(0,Se.x)(()=>{const{operator:$e,source:kt}=this;He.add($e?$e.call(He,kt):kt?this._subscribe(He):this._trySubscribe(He))}),He}_trySubscribe(lt){try{return this._subscribe(lt)}catch(pt){lt.error(pt)}}forEach(lt,pt){return new(pt=Ze(pt))((jt,He)=>{const $e=new d.Hp({next:kt=>{try{lt(kt)}catch(Mt){He(Mt),$e.unsubscribe()}},error:He,complete:jt});this.subscribe($e)})}_subscribe(lt){var pt;return null===(pt=this.source)||void 0===pt?void 0:pt.subscribe(lt)}[be.L](){return this}pipe(...lt){return(0,ke.U)(lt)(this)}toPromise(lt){return new(lt=Ze(lt))((pt,jt)=>{let He;this.subscribe($e=>He=$e,$e=>jt($e),()=>pt(He))})}}return it.create=Me=>new it(Me),it})();function Ze(it){var Me;return null!==(Me=null!=it?it:qe.config.Promise)&&void 0!==Me?Me:Promise}},7579:(Jn,Lt,z)=>{"use strict";z.d(Lt,{x:()=>Se});var d=z(9751),E=z(727);const ke=(0,z(3888).d)(Ze=>function(){Ze(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var qe=z(8737),ze=z(2806);let Se=(()=>{class Ze extends d.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(xe){const it=new Re(this,this);return it.operator=xe,it}_throwIfClosed(){if(this.closed)throw new ke}next(xe){(0,ze.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const it of this.currentObservers)it.next(xe)}})}error(xe){(0,ze.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=xe;const{observers:it}=this;for(;it.length;)it.shift().error(xe)}})}complete(){(0,ze.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:xe}=this;for(;xe.length;)xe.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var xe;return(null===(xe=this.observers)||void 0===xe?void 0:xe.length)>0}_trySubscribe(xe){return this._throwIfClosed(),super._trySubscribe(xe)}_subscribe(xe){return this._throwIfClosed(),this._checkFinalizedStatuses(xe),this._innerSubscribe(xe)}_innerSubscribe(xe){const{hasError:it,isStopped:Me,observers:lt}=this;return it||Me?E.Lc:(this.currentObservers=null,lt.push(xe),new E.w0(()=>{this.currentObservers=null,(0,qe.P)(lt,xe)}))}_checkFinalizedStatuses(xe){const{hasError:it,thrownError:Me,isStopped:lt}=this;it?xe.error(Me):lt&&xe.complete()}asObservable(){const xe=new d.y;return xe.source=this,xe}}return Ze.create=(Fe,xe)=>new Re(Fe,xe),Ze})();class Re extends Se{constructor(Fe,xe){super(),this.destination=Fe,this.source=xe}next(Fe){var xe,it;null===(it=null===(xe=this.destination)||void 0===xe?void 0:xe.next)||void 0===it||it.call(xe,Fe)}error(Fe){var xe,it;null===(it=null===(xe=this.destination)||void 0===xe?void 0:xe.error)||void 0===it||it.call(xe,Fe)}complete(){var Fe,xe;null===(xe=null===(Fe=this.destination)||void 0===Fe?void 0:Fe.complete)||void 0===xe||xe.call(Fe)}_subscribe(Fe){var xe,it;return null!==(it=null===(xe=this.source)||void 0===xe?void 0:xe.subscribe(Fe))&&void 0!==it?it:E.Lc}}},930:(Jn,Lt,z)=>{"use strict";z.d(Lt,{Hp:()=>jt,Lv:()=>it});var d=z(576),E=z(727),be=z(2416),ke=z(7849),qe=z(5032);const ze=Ze("C",void 0,void 0);function Ze(ft,It,St){return{kind:ft,value:It,error:St}}var Fe=z(3410),xe=z(2806);class it extends E.w0{constructor(It){super(),this.isStopped=!1,It?(this.destination=It,(0,E.Nn)(It)&&It.add(this)):this.destination=Mt}static create(It,St,Ct){return new jt(It,St,Ct)}next(It){this.isStopped?kt(function Re(ft){return Ze("N",ft,void 0)}(It),this):this._next(It)}error(It){this.isStopped?kt(function Se(ft){return Ze("E",void 0,ft)}(It),this):(this.isStopped=!0,this._error(It))}complete(){this.isStopped?kt(ze,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(It){this.destination.next(It)}_error(It){try{this.destination.error(It)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Me=Function.prototype.bind;function lt(ft,It){return Me.call(ft,It)}class pt{constructor(It){this.partialObserver=It}next(It){const{partialObserver:St}=this;if(St.next)try{St.next(It)}catch(Ct){He(Ct)}}error(It){const{partialObserver:St}=this;if(St.error)try{St.error(It)}catch(Ct){He(Ct)}else He(It)}complete(){const{partialObserver:It}=this;if(It.complete)try{It.complete()}catch(St){He(St)}}}class jt extends it{constructor(It,St,Ct){let yt;if(super(),(0,d.m)(It)||!It)yt={next:null!=It?It:void 0,error:null!=St?St:void 0,complete:null!=Ct?Ct:void 0};else{let ee;this&&be.config.useDeprecatedNextContext?(ee=Object.create(It),ee.unsubscribe=()=>this.unsubscribe(),yt={next:It.next&&lt(It.next,ee),error:It.error&&lt(It.error,ee),complete:It.complete&&lt(It.complete,ee)}):yt=It}this.destination=new pt(yt)}}function He(ft){be.config.useDeprecatedSynchronousErrorHandling?(0,xe.O)(ft):(0,ke.h)(ft)}function kt(ft,It){const{onStoppedNotification:St}=be.config;St&&Fe.z.setTimeout(()=>St(ft,It))}const Mt={closed:!0,next:qe.Z,error:function $e(ft){throw ft},complete:qe.Z}},727:(Jn,Lt,z)=>{"use strict";z.d(Lt,{Lc:()=>ze,w0:()=>qe,Nn:()=>Se});var d=z(576);const be=(0,z(3888).d)(Ze=>function(xe){Ze(this),this.message=xe?`${xe.length} errors occurred during unsubscription:\n${xe.map((it,Me)=>`${Me+1}) ${it.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=xe});var ke=z(8737);class qe{constructor(Fe){this.initialTeardown=Fe,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let Fe;if(!this.closed){this.closed=!0;const{_parentage:xe}=this;if(xe)if(this._parentage=null,Array.isArray(xe))for(const lt of xe)lt.remove(this);else xe.remove(this);const{initialTeardown:it}=this;if((0,d.m)(it))try{it()}catch(lt){Fe=lt instanceof be?lt.errors:[lt]}const{_finalizers:Me}=this;if(Me){this._finalizers=null;for(const lt of Me)try{Re(lt)}catch(pt){Fe=null!=Fe?Fe:[],pt instanceof be?Fe=[...Fe,...pt.errors]:Fe.push(pt)}}if(Fe)throw new be(Fe)}}add(Fe){var xe;if(Fe&&Fe!==this)if(this.closed)Re(Fe);else{if(Fe instanceof qe){if(Fe.closed||Fe._hasParent(this))return;Fe._addParent(this)}(this._finalizers=null!==(xe=this._finalizers)&&void 0!==xe?xe:[]).push(Fe)}}_hasParent(Fe){const{_parentage:xe}=this;return xe===Fe||Array.isArray(xe)&&xe.includes(Fe)}_addParent(Fe){const{_parentage:xe}=this;this._parentage=Array.isArray(xe)?(xe.push(Fe),xe):xe?[xe,Fe]:Fe}_removeParent(Fe){const{_parentage:xe}=this;xe===Fe?this._parentage=null:Array.isArray(xe)&&(0,ke.P)(xe,Fe)}remove(Fe){const{_finalizers:xe}=this;xe&&(0,ke.P)(xe,Fe),Fe instanceof qe&&Fe._removeParent(this)}}qe.EMPTY=(()=>{const Ze=new qe;return Ze.closed=!0,Ze})();const ze=qe.EMPTY;function Se(Ze){return Ze instanceof qe||Ze&&"closed"in Ze&&(0,d.m)(Ze.remove)&&(0,d.m)(Ze.add)&&(0,d.m)(Ze.unsubscribe)}function Re(Ze){(0,d.m)(Ze)?Ze():Ze.unsubscribe()}},2416:(Jn,Lt,z)=>{"use strict";z.d(Lt,{config:()=>d});const d={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},7272:(Jn,Lt,z)=>{"use strict";z.d(Lt,{z:()=>qe});var d=z(8189),be=z(7669),ke=z(8996);function qe(...ze){return function E(){return(0,d.J)(1)}()((0,ke.D)(ze,(0,be.yG)(ze)))}},515:(Jn,Lt,z)=>{"use strict";z.d(Lt,{E:()=>E});const E=new(z(9751).y)(qe=>qe.complete())},8996:(Jn,Lt,z)=>{"use strict";z.d(Lt,{D:()=>It});var d=z(8421),E=z(5363),be=z(9468),ze=z(9751),Re=z(2202),Ze=z(576),Fe=z(9672);function it(St,Ct){if(!St)throw new Error("Iterable cannot be null");return new ze.y(yt=>{(0,Fe.f)(yt,Ct,()=>{const ee=St[Symbol.asyncIterator]();(0,Fe.f)(yt,Ct,()=>{ee.next().then(Gt=>{Gt.done?yt.complete():yt.next(Gt.value)})},0,!0)})})}var Me=z(3670),lt=z(8239),pt=z(1144),jt=z(6495),He=z(2206),$e=z(4532),kt=z(3260);function It(St,Ct){return Ct?function ft(St,Ct){if(null!=St){if((0,Me.c)(St))return function ke(St,Ct){return(0,d.Xf)(St).pipe((0,be.R)(Ct),(0,E.Q)(Ct))}(St,Ct);if((0,pt.z)(St))return function Se(St,Ct){return new ze.y(yt=>{let ee=0;return Ct.schedule(function(){ee===St.length?yt.complete():(yt.next(St[ee++]),yt.closed||this.schedule())})})}(St,Ct);if((0,lt.t)(St))return function qe(St,Ct){return(0,d.Xf)(St).pipe((0,be.R)(Ct),(0,E.Q)(Ct))}(St,Ct);if((0,He.D)(St))return it(St,Ct);if((0,jt.T)(St))return function xe(St,Ct){return new ze.y(yt=>{let ee;return(0,Fe.f)(yt,Ct,()=>{ee=St[Re.h](),(0,Fe.f)(yt,Ct,()=>{let Gt,Dt;try{({value:Gt,done:Dt}=ee.next())}catch(Ft){return void yt.error(Ft)}Dt?yt.complete():yt.next(Gt)},0,!0)}),()=>(0,Ze.m)(null==ee?void 0:ee.return)&&ee.return()})}(St,Ct);if((0,kt.L)(St))return function Mt(St,Ct){return it((0,kt.Q)(St),Ct)}(St,Ct)}throw(0,$e.z)(St)}(St,Ct):(0,d.Xf)(St)}},4968:(Jn,Lt,z)=>{"use strict";z.d(Lt,{R:()=>Fe});var d=z(8421),E=z(9751),be=z(5577),ke=z(1144),qe=z(576),ze=z(3268);const Se=["addListener","removeListener"],Re=["addEventListener","removeEventListener"],Ze=["on","off"];function Fe(pt,jt,He,$e){if((0,qe.m)(He)&&($e=He,He=void 0),$e)return Fe(pt,jt,He).pipe((0,ze.Z)($e));const[kt,Mt]=function lt(pt){return(0,qe.m)(pt.addEventListener)&&(0,qe.m)(pt.removeEventListener)}(pt)?Re.map(ft=>It=>pt[ft](jt,It,He)):function it(pt){return(0,qe.m)(pt.addListener)&&(0,qe.m)(pt.removeListener)}(pt)?Se.map(xe(pt,jt)):function Me(pt){return(0,qe.m)(pt.on)&&(0,qe.m)(pt.off)}(pt)?Ze.map(xe(pt,jt)):[];if(!kt&&(0,ke.z)(pt))return(0,be.z)(ft=>Fe(ft,jt,He))((0,d.Xf)(pt));if(!kt)throw new TypeError("Invalid event target");return new E.y(ft=>{const It=(...St)=>ft.next(1<St.length?St:St[0]);return kt(It),()=>Mt(It)})}function xe(pt,jt){return He=>$e=>pt[He](jt,$e)}},8421:(Jn,Lt,z)=>{"use strict";z.d(Lt,{Xf:()=>Me});var d=z(655),E=z(1144),be=z(8239),ke=z(9751),qe=z(3670),ze=z(2206),Se=z(4532),Re=z(6495),Ze=z(3260),Fe=z(576),xe=z(7849),it=z(8822);function Me(ft){if(ft instanceof ke.y)return ft;if(null!=ft){if((0,qe.c)(ft))return function lt(ft){return new ke.y(It=>{const St=ft[it.L]();if((0,Fe.m)(St.subscribe))return St.subscribe(It);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(ft);if((0,E.z)(ft))return function pt(ft){return new ke.y(It=>{for(let St=0;St<ft.length&&!It.closed;St++)It.next(ft[St]);It.complete()})}(ft);if((0,be.t)(ft))return function jt(ft){return new ke.y(It=>{ft.then(St=>{It.closed||(It.next(St),It.complete())},St=>It.error(St)).then(null,xe.h)})}(ft);if((0,ze.D)(ft))return $e(ft);if((0,Re.T)(ft))return function He(ft){return new ke.y(It=>{for(const St of ft)if(It.next(St),It.closed)return;It.complete()})}(ft);if((0,Ze.L)(ft))return function kt(ft){return $e((0,Ze.Q)(ft))}(ft)}throw(0,Se.z)(ft)}function $e(ft){return new ke.y(It=>{(function Mt(ft,It){var St,Ct,yt,ee;return(0,d.mG)(this,void 0,void 0,function*(){try{for(St=(0,d.KL)(ft);!(Ct=yield St.next()).done;)if(It.next(Ct.value),It.closed)return}catch(Gt){yt={error:Gt}}finally{try{Ct&&!Ct.done&&(ee=St.return)&&(yield ee.call(St))}finally{if(yt)throw yt.error}}It.complete()})})(ft,It).catch(St=>It.error(St))})}},6451:(Jn,Lt,z)=>{"use strict";z.d(Lt,{T:()=>ze});var d=z(8189),E=z(8421),be=z(515),ke=z(7669),qe=z(8996);function ze(...Se){const Re=(0,ke.yG)(Se),Ze=(0,ke._6)(Se,1/0),Fe=Se;return Fe.length?1===Fe.length?(0,E.Xf)(Fe[0]):(0,d.J)(Ze)((0,qe.D)(Fe,Re)):be.E}},9646:(Jn,Lt,z)=>{"use strict";z.d(Lt,{of:()=>be});var d=z(7669),E=z(8996);function be(...ke){const qe=(0,d.yG)(ke);return(0,E.D)(ke,qe)}},5403:(Jn,Lt,z)=>{"use strict";z.d(Lt,{Q:()=>be,x:()=>E});var d=z(930);function E(ke,qe,ze,Se,Re){return new be(ke,qe,ze,Se,Re)}class be extends d.Lv{constructor(qe,ze,Se,Re,Ze,Fe){super(qe),this.onFinalize=Ze,this.shouldUnsubscribe=Fe,this._next=ze?function(xe){try{ze(xe)}catch(it){qe.error(it)}}:super._next,this._error=Re?function(xe){try{Re(xe)}catch(it){qe.error(it)}finally{this.unsubscribe()}}:super._error,this._complete=Se?function(){try{Se()}catch(xe){qe.error(xe)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var qe;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:ze}=this;super.unsubscribe(),!ze&&(null===(qe=this.onFinalize)||void 0===qe||qe.call(this))}}}},6590:(Jn,Lt,z)=>{"use strict";z.d(Lt,{d:()=>be});var d=z(4482),E=z(5403);function be(ke){return(0,d.e)((qe,ze)=>{let Se=!1;qe.subscribe((0,E.x)(ze,Re=>{Se=!0,ze.next(Re)},()=>{Se||ze.next(ke),ze.complete()}))})}},1884:(Jn,Lt,z)=>{"use strict";z.d(Lt,{x:()=>ke});var d=z(4671),E=z(4482),be=z(5403);function ke(ze,Se=d.y){return ze=null!=ze?ze:qe,(0,E.e)((Re,Ze)=>{let Fe,xe=!0;Re.subscribe((0,be.x)(Ze,it=>{const Me=Se(it);(xe||!ze(Fe,Me))&&(xe=!1,Fe=Me,Ze.next(it))}))})}function qe(ze,Se){return ze===Se}},9300:(Jn,Lt,z)=>{"use strict";z.d(Lt,{h:()=>be});var d=z(4482),E=z(5403);function be(ke,qe){return(0,d.e)((ze,Se)=>{let Re=0;ze.subscribe((0,E.x)(Se,Ze=>ke.call(qe,Ze,Re++)&&Se.next(Ze)))})}},8746:(Jn,Lt,z)=>{"use strict";z.d(Lt,{x:()=>E});var d=z(4482);function E(be){return(0,d.e)((ke,qe)=>{try{ke.subscribe(qe)}finally{qe.add(be)}})}},590:(Jn,Lt,z)=>{"use strict";z.d(Lt,{P:()=>Se});var d=z(6805),E=z(9300),be=z(5698),ke=z(6590),qe=z(8068),ze=z(4671);function Se(Re,Ze){const Fe=arguments.length>=2;return xe=>xe.pipe(Re?(0,E.h)((it,Me)=>Re(it,Me,xe)):ze.y,(0,be.q)(1),Fe?(0,ke.d)(Ze):(0,qe.T)(()=>new d.K))}},4004:(Jn,Lt,z)=>{"use strict";z.d(Lt,{U:()=>be});var d=z(4482),E=z(5403);function be(ke,qe){return(0,d.e)((ze,Se)=>{let Re=0;ze.subscribe((0,E.x)(Se,Ze=>{Se.next(ke.call(qe,Ze,Re++))}))})}},8189:(Jn,Lt,z)=>{"use strict";z.d(Lt,{J:()=>be});var d=z(5577),E=z(4671);function be(ke=1/0){return(0,d.z)(E.y,ke)}},5577:(Jn,Lt,z)=>{"use strict";z.d(Lt,{z:()=>Re});var d=z(4004),E=z(8421),be=z(4482),ke=z(9672),qe=z(5403),Se=z(576);function Re(Ze,Fe,xe=1/0){return(0,Se.m)(Fe)?Re((it,Me)=>(0,d.U)((lt,pt)=>Fe(it,lt,Me,pt))((0,E.Xf)(Ze(it,Me))),xe):("number"==typeof Fe&&(xe=Fe),(0,be.e)((it,Me)=>function ze(Ze,Fe,xe,it,Me,lt,pt,jt){const He=[];let $e=0,kt=0,Mt=!1;const ft=()=>{Mt&&!He.length&&!$e&&Fe.complete()},It=Ct=>$e<it?St(Ct):He.push(Ct),St=Ct=>{lt&&Fe.next(Ct),$e++;let yt=!1;(0,E.Xf)(xe(Ct,kt++)).subscribe((0,qe.x)(Fe,ee=>{null==Me||Me(ee),lt?It(ee):Fe.next(ee)},()=>{yt=!0},void 0,()=>{if(yt)try{for($e--;He.length&&$e<it;){const ee=He.shift();pt?(0,ke.f)(Fe,pt,()=>St(ee)):St(ee)}ft()}catch(ee){Fe.error(ee)}}))};return Ze.subscribe((0,qe.x)(Fe,It,()=>{Mt=!0,ft()})),()=>{null==jt||jt()}}(it,Me,Ze,xe)))}},5363:(Jn,Lt,z)=>{"use strict";z.d(Lt,{Q:()=>ke});var d=z(9672),E=z(4482),be=z(5403);function ke(qe,ze=0){return(0,E.e)((Se,Re)=>{Se.subscribe((0,be.x)(Re,Ze=>(0,d.f)(Re,qe,()=>Re.next(Ze),ze),()=>(0,d.f)(Re,qe,()=>Re.complete(),ze),Ze=>(0,d.f)(Re,qe,()=>Re.error(Ze),ze)))})}},1520:(Jn,Lt,z)=>{"use strict";z.d(Lt,{G:()=>be});var d=z(4482),E=z(5403);function be(){return(0,d.e)((ke,qe)=>{let ze,Se=!1;ke.subscribe((0,E.x)(qe,Re=>{const Ze=ze;ze=Re,Se&&qe.next([Ze,Re]),Se=!0}))})}},5026:(Jn,Lt,z)=>{"use strict";z.d(Lt,{R:()=>ke});var d=z(4482),E=z(5403);function ke(qe,ze){return(0,d.e)(function be(qe,ze,Se,Re,Ze){return(Fe,xe)=>{let it=Se,Me=ze,lt=0;Fe.subscribe((0,E.x)(xe,pt=>{const jt=lt++;Me=it?qe(Me,pt,jt):(it=!0,pt),Re&&xe.next(Me)},Ze&&(()=>{it&&xe.next(Me),xe.complete()})))}}(qe,ze,arguments.length>=2,!0))}},3099:(Jn,Lt,z)=>{"use strict";z.d(Lt,{B:()=>qe});var d=z(8421),E=z(7579),be=z(930),ke=z(4482);function qe(Se={}){const{connector:Re=(()=>new E.x),resetOnError:Ze=!0,resetOnComplete:Fe=!0,resetOnRefCountZero:xe=!0}=Se;return it=>{let Me,lt,pt,jt=0,He=!1,$e=!1;const kt=()=>{null==lt||lt.unsubscribe(),lt=void 0},Mt=()=>{kt(),Me=pt=void 0,He=$e=!1},ft=()=>{const It=Me;Mt(),null==It||It.unsubscribe()};return(0,ke.e)((It,St)=>{jt++,!$e&&!He&&kt();const Ct=pt=null!=pt?pt:Re();St.add(()=>{jt--,0===jt&&!$e&&!He&&(lt=ze(ft,xe))}),Ct.subscribe(St),!Me&&jt>0&&(Me=new be.Hp({next:yt=>Ct.next(yt),error:yt=>{$e=!0,kt(),lt=ze(Mt,Ze,yt),Ct.error(yt)},complete:()=>{He=!0,kt(),lt=ze(Mt,Fe),Ct.complete()}}),(0,d.Xf)(It).subscribe(Me))})(it)}}function ze(Se,Re,...Ze){if(!0===Re)return void Se();if(!1===Re)return;const Fe=new be.Hp({next:()=>{Fe.unsubscribe(),Se()}});return(0,d.Xf)(Re(...Ze)).subscribe(Fe)}},3151:(Jn,Lt,z)=>{"use strict";z.d(Lt,{d:()=>qe});var d=z(7579),E=z(6063);class be extends d.x{constructor(Se=1/0,Re=1/0,Ze=E.l){super(),this._bufferSize=Se,this._windowTime=Re,this._timestampProvider=Ze,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=Re===1/0,this._bufferSize=Math.max(1,Se),this._windowTime=Math.max(1,Re)}next(Se){const{isStopped:Re,_buffer:Ze,_infiniteTimeWindow:Fe,_timestampProvider:xe,_windowTime:it}=this;Re||(Ze.push(Se),!Fe&&Ze.push(xe.now()+it)),this._trimBuffer(),super.next(Se)}_subscribe(Se){this._throwIfClosed(),this._trimBuffer();const Re=this._innerSubscribe(Se),{_infiniteTimeWindow:Ze,_buffer:Fe}=this,xe=Fe.slice();for(let it=0;it<xe.length&&!Se.closed;it+=Ze?1:2)Se.next(xe[it]);return this._checkFinalizedStatuses(Se),Re}_trimBuffer(){const{_bufferSize:Se,_timestampProvider:Re,_buffer:Ze,_infiniteTimeWindow:Fe}=this,xe=(Fe?1:2)*Se;if(Se<1/0&&xe<Ze.length&&Ze.splice(0,Ze.length-xe),!Fe){const it=Re.now();let Me=0;for(let lt=1;lt<Ze.length&&Ze[lt]<=it;lt+=2)Me=lt;Me&&Ze.splice(0,Me+1)}}}var ke=z(3099);function qe(ze,Se,Re){let Ze,Fe=!1;return ze&&"object"==typeof ze?({bufferSize:Ze=1/0,windowTime:Se=1/0,refCount:Fe=!1,scheduler:Re}=ze):Ze=null!=ze?ze:1/0,(0,ke.B)({connector:()=>new be(Ze,Se,Re),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:Fe})}},8675:(Jn,Lt,z)=>{"use strict";z.d(Lt,{O:()=>ke});var d=z(7272),E=z(7669),be=z(4482);function ke(...qe){const ze=(0,E.yG)(qe);return(0,be.e)((Se,Re)=>{(ze?(0,d.z)(qe,Se,ze):(0,d.z)(qe,Se)).subscribe(Re)})}},9468:(Jn,Lt,z)=>{"use strict";z.d(Lt,{R:()=>E});var d=z(4482);function E(be,ke=0){return(0,d.e)((qe,ze)=>{ze.add(be.schedule(()=>qe.subscribe(ze),ke))})}},3900:(Jn,Lt,z)=>{"use strict";z.d(Lt,{w:()=>ke});var d=z(8421),E=z(4482),be=z(5403);function ke(qe,ze){return(0,E.e)((Se,Re)=>{let Ze=null,Fe=0,xe=!1;const it=()=>xe&&!Ze&&Re.complete();Se.subscribe((0,be.x)(Re,Me=>{null==Ze||Ze.unsubscribe();let lt=0;const pt=Fe++;(0,d.Xf)(qe(Me,pt)).subscribe(Ze=(0,be.x)(Re,jt=>Re.next(ze?ze(Me,jt,pt,lt++):jt),()=>{Ze=null,it()}))},()=>{xe=!0,it()}))})}},5698:(Jn,Lt,z)=>{"use strict";z.d(Lt,{q:()=>ke});var d=z(515),E=z(4482),be=z(5403);function ke(qe){return qe<=0?()=>d.E:(0,E.e)((ze,Se)=>{let Re=0;ze.subscribe((0,be.x)(Se,Ze=>{++Re<=qe&&(Se.next(Ze),qe<=Re&&Se.complete())}))})}},8505:(Jn,Lt,z)=>{"use strict";z.d(Lt,{b:()=>qe});var d=z(576),E=z(4482),be=z(5403),ke=z(4671);function qe(ze,Se,Re){const Ze=(0,d.m)(ze)||Se||Re?{next:ze,error:Se,complete:Re}:ze;return Ze?(0,E.e)((Fe,xe)=>{var it;null===(it=Ze.subscribe)||void 0===it||it.call(Ze);let Me=!0;Fe.subscribe((0,be.x)(xe,lt=>{var pt;null===(pt=Ze.next)||void 0===pt||pt.call(Ze,lt),xe.next(lt)},()=>{var lt;Me=!1,null===(lt=Ze.complete)||void 0===lt||lt.call(Ze),xe.complete()},lt=>{var pt;Me=!1,null===(pt=Ze.error)||void 0===pt||pt.call(Ze,lt),xe.error(lt)},()=>{var lt,pt;Me&&(null===(lt=Ze.unsubscribe)||void 0===lt||lt.call(Ze)),null===(pt=Ze.finalize)||void 0===pt||pt.call(Ze)}))}):ke.y}},8068:(Jn,Lt,z)=>{"use strict";z.d(Lt,{T:()=>ke});var d=z(6805),E=z(4482),be=z(5403);function ke(ze=qe){return(0,E.e)((Se,Re)=>{let Ze=!1;Se.subscribe((0,be.x)(Re,Fe=>{Ze=!0,Re.next(Fe)},()=>Ze?Re.complete():Re.error(ze())))})}function qe(){return new d.K}},4408:(Jn,Lt,z)=>{"use strict";z.d(Lt,{o:()=>qe});var d=z(727);class E extends d.w0{constructor(Se,Re){super()}schedule(Se,Re=0){return this}}const be={setInterval(ze,Se,...Re){const{delegate:Ze}=be;return null!=Ze&&Ze.setInterval?Ze.setInterval(ze,Se,...Re):setInterval(ze,Se,...Re)},clearInterval(ze){const{delegate:Se}=be;return((null==Se?void 0:Se.clearInterval)||clearInterval)(ze)},delegate:void 0};var ke=z(8737);class qe extends E{constructor(Se,Re){super(Se,Re),this.scheduler=Se,this.work=Re,this.pending=!1}schedule(Se,Re=0){var Ze;if(this.closed)return this;this.state=Se;const Fe=this.id,xe=this.scheduler;return null!=Fe&&(this.id=this.recycleAsyncId(xe,Fe,Re)),this.pending=!0,this.delay=Re,this.id=null!==(Ze=this.id)&&void 0!==Ze?Ze:this.requestAsyncId(xe,this.id,Re),this}requestAsyncId(Se,Re,Ze=0){return be.setInterval(Se.flush.bind(Se,this),Ze)}recycleAsyncId(Se,Re,Ze=0){if(null!=Ze&&this.delay===Ze&&!1===this.pending)return Re;null!=Re&&be.clearInterval(Re)}execute(Se,Re){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const Ze=this._execute(Se,Re);if(Ze)return Ze;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(Se,Re){let Fe,Ze=!1;try{this.work(Se)}catch(xe){Ze=!0,Fe=xe||new Error("Scheduled action threw falsy error")}if(Ze)return this.unsubscribe(),Fe}unsubscribe(){if(!this.closed){const{id:Se,scheduler:Re}=this,{actions:Ze}=Re;this.work=this.state=this.scheduler=null,this.pending=!1,(0,ke.P)(Ze,this),null!=Se&&(this.id=this.recycleAsyncId(Re,Se,null)),this.delay=null,super.unsubscribe()}}}},7565:(Jn,Lt,z)=>{"use strict";z.d(Lt,{v:()=>be});var d=z(6063);class E{constructor(qe,ze=E.now){this.schedulerActionCtor=qe,this.now=ze}schedule(qe,ze=0,Se){return new this.schedulerActionCtor(this,qe).schedule(Se,ze)}}E.now=d.l.now;class be extends E{constructor(qe,ze=E.now){super(qe,ze),this.actions=[],this._active=!1}flush(qe){const{actions:ze}=this;if(this._active)return void ze.push(qe);let Se;this._active=!0;do{if(Se=qe.execute(qe.state,qe.delay))break}while(qe=ze.shift());if(this._active=!1,Se){for(;qe=ze.shift();)qe.unsubscribe();throw Se}}}},4986:(Jn,Lt,z)=>{"use strict";z.d(Lt,{z:()=>be});var d=z(4408);const be=new(z(7565).v)(d.o)},6063:(Jn,Lt,z)=>{"use strict";z.d(Lt,{l:()=>d});const d={now:()=>(d.delegate||Date).now(),delegate:void 0}},3410:(Jn,Lt,z)=>{"use strict";z.d(Lt,{z:()=>d});const d={setTimeout(E,be,...ke){const{delegate:qe}=d;return null!=qe&&qe.setTimeout?qe.setTimeout(E,be,...ke):setTimeout(E,be,...ke)},clearTimeout(E){const{delegate:be}=d;return((null==be?void 0:be.clearTimeout)||clearTimeout)(E)},delegate:void 0}},2202:(Jn,Lt,z)=>{"use strict";z.d(Lt,{h:()=>E});const E=function d(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(Jn,Lt,z)=>{"use strict";z.d(Lt,{L:()=>d});const d="function"==typeof Symbol&&Symbol.observable||"@@observable"},6805:(Jn,Lt,z)=>{"use strict";z.d(Lt,{K:()=>E});const E=(0,z(3888).d)(be=>function(){be(this),this.name="EmptyError",this.message="no elements in sequence"})},7669:(Jn,Lt,z)=>{"use strict";z.d(Lt,{_6:()=>ze,jO:()=>ke,yG:()=>qe});var d=z(576);function be(Se){return Se[Se.length-1]}function ke(Se){return(0,d.m)(be(Se))?Se.pop():void 0}function qe(Se){return function E(Se){return Se&&(0,d.m)(Se.schedule)}(be(Se))?Se.pop():void 0}function ze(Se,Re){return"number"==typeof be(Se)?Se.pop():Re}},4742:(Jn,Lt,z)=>{"use strict";z.d(Lt,{D:()=>qe});const{isArray:d}=Array,{getPrototypeOf:E,prototype:be,keys:ke}=Object;function qe(Se){if(1===Se.length){const Re=Se[0];if(d(Re))return{args:Re,keys:null};if(function ze(Se){return Se&&"object"==typeof Se&&E(Se)===be}(Re)){const Ze=ke(Re);return{args:Ze.map(Fe=>Re[Fe]),keys:Ze}}}return{args:Se,keys:null}}},8737:(Jn,Lt,z)=>{"use strict";function d(E,be){if(E){const ke=E.indexOf(be);0<=ke&&E.splice(ke,1)}}z.d(Lt,{P:()=>d})},3888:(Jn,Lt,z)=>{"use strict";function d(E){const ke=E(qe=>{Error.call(qe),qe.stack=(new Error).stack});return ke.prototype=Object.create(Error.prototype),ke.prototype.constructor=ke,ke}z.d(Lt,{d:()=>d})},1810:(Jn,Lt,z)=>{"use strict";function d(E,be){return E.reduce((ke,qe,ze)=>(ke[qe]=be[ze],ke),{})}z.d(Lt,{n:()=>d})},2806:(Jn,Lt,z)=>{"use strict";z.d(Lt,{O:()=>ke,x:()=>be});var d=z(2416);let E=null;function be(qe){if(d.config.useDeprecatedSynchronousErrorHandling){const ze=!E;if(ze&&(E={errorThrown:!1,error:null}),qe(),ze){const{errorThrown:Se,error:Re}=E;if(E=null,Se)throw Re}}else qe()}function ke(qe){d.config.useDeprecatedSynchronousErrorHandling&&E&&(E.errorThrown=!0,E.error=qe)}},9672:(Jn,Lt,z)=>{"use strict";function d(E,be,ke,qe=0,ze=!1){const Se=be.schedule(function(){ke(),ze?E.add(this.schedule(null,qe)):this.unsubscribe()},qe);if(E.add(Se),!ze)return Se}z.d(Lt,{f:()=>d})},4671:(Jn,Lt,z)=>{"use strict";function d(E){return E}z.d(Lt,{y:()=>d})},1144:(Jn,Lt,z)=>{"use strict";z.d(Lt,{z:()=>d});const d=E=>E&&"number"==typeof E.length&&"function"!=typeof E},2206:(Jn,Lt,z)=>{"use strict";z.d(Lt,{D:()=>E});var d=z(576);function E(be){return Symbol.asyncIterator&&(0,d.m)(null==be?void 0:be[Symbol.asyncIterator])}},576:(Jn,Lt,z)=>{"use strict";function d(E){return"function"==typeof E}z.d(Lt,{m:()=>d})},3670:(Jn,Lt,z)=>{"use strict";z.d(Lt,{c:()=>be});var d=z(8822),E=z(576);function be(ke){return(0,E.m)(ke[d.L])}},6495:(Jn,Lt,z)=>{"use strict";z.d(Lt,{T:()=>be});var d=z(2202),E=z(576);function be(ke){return(0,E.m)(null==ke?void 0:ke[d.h])}},8239:(Jn,Lt,z)=>{"use strict";z.d(Lt,{t:()=>E});var d=z(576);function E(be){return(0,d.m)(null==be?void 0:be.then)}},3260:(Jn,Lt,z)=>{"use strict";z.d(Lt,{L:()=>ke,Q:()=>be});var d=z(655),E=z(576);function be(qe){return(0,d.FC)(this,arguments,function*(){const Se=qe.getReader();try{for(;;){const{value:Re,done:Ze}=yield(0,d.qq)(Se.read());if(Ze)return yield(0,d.qq)(void 0);yield yield(0,d.qq)(Re)}}finally{Se.releaseLock()}})}function ke(qe){return(0,E.m)(null==qe?void 0:qe.getReader)}},4482:(Jn,Lt,z)=>{"use strict";z.d(Lt,{A:()=>E,e:()=>be});var d=z(576);function E(ke){return(0,d.m)(null==ke?void 0:ke.lift)}function be(ke){return qe=>{if(E(qe))return qe.lift(function(ze){try{return ke(ze,this)}catch(Se){this.error(Se)}});throw new TypeError("Unable to lift unknown Observable type")}}},3268:(Jn,Lt,z)=>{"use strict";z.d(Lt,{Z:()=>ke});var d=z(4004);const{isArray:E}=Array;function ke(qe){return(0,d.U)(ze=>function be(qe,ze){return E(ze)?qe(...ze):qe(ze)}(qe,ze))}},5032:(Jn,Lt,z)=>{"use strict";function d(){}z.d(Lt,{Z:()=>d})},9635:(Jn,Lt,z)=>{"use strict";z.d(Lt,{U:()=>be,z:()=>E});var d=z(4671);function E(...ke){return be(ke)}function be(ke){return 0===ke.length?d.y:1===ke.length?ke[0]:function(ze){return ke.reduce((Se,Re)=>Re(Se),ze)}}},7849:(Jn,Lt,z)=>{"use strict";z.d(Lt,{h:()=>be});var d=z(2416),E=z(3410);function be(ke){E.z.setTimeout(()=>{const{onUnhandledError:qe}=d.config;if(!qe)throw ke;qe(ke)})}},4532:(Jn,Lt,z)=>{"use strict";function d(E){return new TypeError(`You provided ${null!==E&&"object"==typeof E?"an invalid object":`'${E}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}z.d(Lt,{z:()=>d})},863:(Jn,Lt,z)=>{var d={"./ion-accordion_2.entry.js":[9654,8592,9654],"./ion-action-sheet.entry.js":[3648,8592,3648],"./ion-alert.entry.js":[1118,8592,1118],"./ion-app_8.entry.js":[53,8592,53],"./ion-avatar_3.entry.js":[4753,4753],"./ion-back-button.entry.js":[2073,8592,2073],"./ion-backdrop.entry.js":[8939,8939],"./ion-breadcrumb_2.entry.js":[7544,8592,7544],"./ion-button_2.entry.js":[5652,8372],"./ion-card_5.entry.js":[388,388],"./ion-checkbox.entry.js":[9922,8592,9922],"./ion-chip.entry.js":[657,657],"./ion-col_3.entry.js":[9824,9824],"./ion-datetime-button.entry.js":[9230,7879,9230],"./ion-datetime_3.entry.js":[4959,7879,8592,4959],"./ion-fab_3.entry.js":[5836,8592,5836],"./ion-img.entry.js":[1033,1033],"./ion-infinite-scroll_2.entry.js":[8034,8592,8034],"./ion-input.entry.js":[1217,8592,1217],"./ion-item-option_3.entry.js":[2933,8592,2933],"./ion-item_8.entry.js":[4711,8592,4711],"./ion-loading.entry.js":[9434,9434],"./ion-menu_3.entry.js":[8136,8592,8136],"./ion-modal.entry.js":[2349,8592,2349],"./ion-nav_2.entry.js":[5349,8592,5349],"./ion-picker-column-internal.entry.js":[7602,8592,7602],"./ion-picker-internal.entry.js":[9016,9016],"./ion-popover.entry.js":[3804,3804],"./ion-progress-bar.entry.js":[4174,4174],"./ion-radio_2.entry.js":[4432,8592,4432],"./ion-range.entry.js":[1709,8592,1709],"./ion-refresher_2.entry.js":[3326,8592,3326],"./ion-reorder_2.entry.js":[3583,8592,3583],"./ion-ripple-effect.entry.js":[9958,9958],"./ion-route_4.entry.js":[4330,4330],"./ion-searchbar.entry.js":[8628,8592,8628],"./ion-segment_2.entry.js":[9325,8592,9325],"./ion-select_3.entry.js":[2773,8592,2773],"./ion-spinner.entry.js":[4908,8592,4908],"./ion-split-pane.entry.js":[9536,9536],"./ion-tab-bar_2.entry.js":[438,8592,438],"./ion-tab_2.entry.js":[1536,1536],"./ion-text.entry.js":[4376,4376],"./ion-textarea.entry.js":[6560,8592,6560],"./ion-toast.entry.js":[6120,6120],"./ion-toggle.entry.js":[5168,8592,5168]};function E(be){if(!z.o(d,be))return Promise.resolve().then(()=>{var ze=new Error("Cannot find module '"+be+"'");throw ze.code="MODULE_NOT_FOUND",ze});var ke=d[be],qe=ke[0];return Promise.all(ke.slice(1).map(z.e)).then(()=>z(qe))}E.keys=()=>Object.keys(d),E.id=863,Jn.exports=E},655:(Jn,Lt,z)=>{"use strict";z.d(Lt,{FC:()=>It,KL:()=>Ct,ZT:()=>E,_T:()=>ke,gn:()=>qe,mG:()=>it,qq:()=>ft});var d=function(Je,ct){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(mt,et){mt.__proto__=et}||function(mt,et){for(var tt in et)Object.prototype.hasOwnProperty.call(et,tt)&&(mt[tt]=et[tt])})(Je,ct)};function E(Je,ct){if("function"!=typeof ct&&null!==ct)throw new TypeError("Class extends value "+String(ct)+" is not a constructor or null");function mt(){this.constructor=Je}d(Je,ct),Je.prototype=null===ct?Object.create(ct):(mt.prototype=ct.prototype,new mt)}function ke(Je,ct){var mt={};for(var et in Je)Object.prototype.hasOwnProperty.call(Je,et)&&ct.indexOf(et)<0&&(mt[et]=Je[et]);if(null!=Je&&"function"==typeof Object.getOwnPropertySymbols){var tt=0;for(et=Object.getOwnPropertySymbols(Je);tt<et.length;tt++)ct.indexOf(et[tt])<0&&Object.prototype.propertyIsEnumerable.call(Je,et[tt])&&(mt[et[tt]]=Je[et[tt]])}return mt}function qe(Je,ct,mt,et){var Ut,tt=arguments.length,ut=tt<3?ct:null===et?et=Object.getOwnPropertyDescriptor(ct,mt):et;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)ut=Reflect.decorate(Je,ct,mt,et);else for(var Nt=Je.length-1;Nt>=0;Nt--)(Ut=Je[Nt])&&(ut=(tt<3?Ut(ut):tt>3?Ut(ct,mt,ut):Ut(ct,mt))||ut);return tt>3&&ut&&Object.defineProperty(ct,mt,ut),ut}function it(Je,ct,mt,et){return new(mt||(mt=Promise))(function(ut,Ut){function Nt(On){try{sn(et.next(On))}catch(tn){Ut(tn)}}function Qt(On){try{sn(et.throw(On))}catch(tn){Ut(tn)}}function sn(On){On.done?ut(On.value):function tt(ut){return ut instanceof mt?ut:new mt(function(Ut){Ut(ut)})}(On.value).then(Nt,Qt)}sn((et=et.apply(Je,ct||[])).next())})}function ft(Je){return this instanceof ft?(this.v=Je,this):new ft(Je)}function It(Je,ct,mt){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var tt,et=mt.apply(Je,ct||[]),ut=[];return tt={},Ut("next"),Ut("throw"),Ut("return"),tt[Symbol.asyncIterator]=function(){return this},tt;function Ut(vt){et[vt]&&(tt[vt]=function(cn){return new Promise(function(vn,qn){ut.push([vt,cn,vn,qn])>1||Nt(vt,cn)})})}function Nt(vt,cn){try{!function Qt(vt){vt.value instanceof ft?Promise.resolve(vt.value.v).then(sn,On):tn(ut[0][2],vt)}(et[vt](cn))}catch(vn){tn(ut[0][3],vn)}}function sn(vt){Nt("next",vt)}function On(vt){Nt("throw",vt)}function tn(vt,cn){vt(cn),ut.shift(),ut.length&&Nt(ut[0][0],ut[0][1])}}function Ct(Je){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var mt,ct=Je[Symbol.asyncIterator];return ct?ct.call(Je):(Je=function jt(Je){var ct="function"==typeof Symbol&&Symbol.iterator,mt=ct&&Je[ct],et=0;if(mt)return mt.call(Je);if(Je&&"number"==typeof Je.length)return{next:function(){return Je&&et>=Je.length&&(Je=void 0),{value:Je&&Je[et++],done:!Je}}};throw new TypeError(ct?"Object is not iterable.":"Symbol.iterator is not defined.")}(Je),mt={},et("next"),et("throw"),et("return"),mt[Symbol.asyncIterator]=function(){return this},mt);function et(ut){mt[ut]=Je[ut]&&function(Ut){return new Promise(function(Nt,Qt){!function tt(ut,Ut,Nt,Qt){Promise.resolve(Qt).then(function(sn){ut({value:sn,done:Nt})},Ut)}(Nt,Qt,(Ut=Je[ut](Ut)).done,Ut.value)})}}}},4755:(Jn,Lt,z)=>{"use strict";z.d(Lt,{Do:()=>kt,EM:()=>ho,HT:()=>ke,JF:()=>bo,K0:()=>ze,Mx:()=>Xs,NF:()=>Bs,O5:()=>re,Ov:()=>Tn,PM:()=>Ys,S$:()=>jt,V_:()=>Ze,Ye:()=>Mt,b0:()=>$e,bD:()=>xi,ez:()=>bs,q:()=>be,sg:()=>Js,tP:()=>Un,w_:()=>qe});var d=z(2223);let E=null;function be(){return E}function ke(K){E||(E=K)}class qe{}const ze=new d.OlP("DocumentToken");let Se=(()=>{class K{historyGo(Q){throw new Error("Not implemented")}}return K.\u0275fac=function(Q){return new(Q||K)},K.\u0275prov=d.Yz7({token:K,factory:function(){return function Re(){return(0,d.LFG)(Fe)}()},providedIn:"platform"}),K})();const Ze=new d.OlP("Location Initialized");let Fe=(()=>{class K extends Se{constructor(Q){super(),this._doc=Q,this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return be().getBaseHref(this._doc)}onPopState(Q){const Pe=be().getGlobalEventTarget(this._doc,"window");return Pe.addEventListener("popstate",Q,!1),()=>Pe.removeEventListener("popstate",Q)}onHashChange(Q){const Pe=be().getGlobalEventTarget(this._doc,"window");return Pe.addEventListener("hashchange",Q,!1),()=>Pe.removeEventListener("hashchange",Q)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(Q){this._location.pathname=Q}pushState(Q,Pe,_t){xe()?this._history.pushState(Q,Pe,_t):this._location.hash=_t}replaceState(Q,Pe,_t){xe()?this._history.replaceState(Q,Pe,_t):this._location.hash=_t}forward(){this._history.forward()}back(){this._history.back()}historyGo(Q=0){this._history.go(Q)}getState(){return this._history.state}}return K.\u0275fac=function(Q){return new(Q||K)(d.LFG(ze))},K.\u0275prov=d.Yz7({token:K,factory:function(){return function it(){return new Fe((0,d.LFG)(ze))}()},providedIn:"platform"}),K})();function xe(){return!!window.history.pushState}function Me(K,de){if(0==K.length)return de;if(0==de.length)return K;let Q=0;return K.endsWith("/")&&Q++,de.startsWith("/")&&Q++,2==Q?K+de.substring(1):1==Q?K+de:K+"/"+de}function lt(K){const de=K.match(/#|\?|$/),Q=de&&de.index||K.length;return K.slice(0,Q-("/"===K[Q-1]?1:0))+K.slice(Q)}function pt(K){return K&&"?"!==K[0]?"?"+K:K}let jt=(()=>{class K{historyGo(Q){throw new Error("Not implemented")}}return K.\u0275fac=function(Q){return new(Q||K)},K.\u0275prov=d.Yz7({token:K,factory:function(){return(0,d.f3M)($e)},providedIn:"root"}),K})();const He=new d.OlP("appBaseHref");let $e=(()=>{class K extends jt{constructor(Q,Pe){var _t,mn,Pn;super(),this._platformLocation=Q,this._removeListenerFns=[],this._baseHref=null!==(_t=null!==(mn=null!=Pe?Pe:this._platformLocation.getBaseHrefFromDOM())&&void 0!==mn?mn:null===(Pn=(0,d.f3M)(ze).location)||void 0===Pn?void 0:Pn.origin)&&void 0!==_t?_t:""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(Q){this._removeListenerFns.push(this._platformLocation.onPopState(Q),this._platformLocation.onHashChange(Q))}getBaseHref(){return this._baseHref}prepareExternalUrl(Q){return Me(this._baseHref,Q)}path(Q=!1){const Pe=this._platformLocation.pathname+pt(this._platformLocation.search),_t=this._platformLocation.hash;return _t&&Q?`${Pe}${_t}`:Pe}pushState(Q,Pe,_t,mn){const Pn=this.prepareExternalUrl(_t+pt(mn));this._platformLocation.pushState(Q,Pe,Pn)}replaceState(Q,Pe,_t,mn){const Pn=this.prepareExternalUrl(_t+pt(mn));this._platformLocation.replaceState(Q,Pe,Pn)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(Q=0){var Pe,_t;null===(Pe=(_t=this._platformLocation).historyGo)||void 0===Pe||Pe.call(_t,Q)}}return K.\u0275fac=function(Q){return new(Q||K)(d.LFG(Se),d.LFG(He,8))},K.\u0275prov=d.Yz7({token:K,factory:K.\u0275fac,providedIn:"root"}),K})(),kt=(()=>{class K extends jt{constructor(Q,Pe){super(),this._platformLocation=Q,this._baseHref="",this._removeListenerFns=[],null!=Pe&&(this._baseHref=Pe)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(Q){this._removeListenerFns.push(this._platformLocation.onPopState(Q),this._platformLocation.onHashChange(Q))}getBaseHref(){return this._baseHref}path(Q=!1){let Pe=this._platformLocation.hash;return null==Pe&&(Pe="#"),Pe.length>0?Pe.substring(1):Pe}prepareExternalUrl(Q){const Pe=Me(this._baseHref,Q);return Pe.length>0?"#"+Pe:Pe}pushState(Q,Pe,_t,mn){let Pn=this.prepareExternalUrl(_t+pt(mn));0==Pn.length&&(Pn=this._platformLocation.pathname),this._platformLocation.pushState(Q,Pe,Pn)}replaceState(Q,Pe,_t,mn){let Pn=this.prepareExternalUrl(_t+pt(mn));0==Pn.length&&(Pn=this._platformLocation.pathname),this._platformLocation.replaceState(Q,Pe,Pn)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(Q=0){var Pe,_t;null===(Pe=(_t=this._platformLocation).historyGo)||void 0===Pe||Pe.call(_t,Q)}}return K.\u0275fac=function(Q){return new(Q||K)(d.LFG(Se),d.LFG(He,8))},K.\u0275prov=d.Yz7({token:K,factory:K.\u0275fac}),K})(),Mt=(()=>{class K{constructor(Q){this._subject=new d.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=Q;const Pe=this._locationStrategy.getBaseHref();this._basePath=function Ct(K){if(new RegExp("^(https?:)?//").test(K)){const[,Q]=K.split(/\/\/[^\/]+/);return Q}return K}(lt(St(Pe))),this._locationStrategy.onPopState(_t=>{this._subject.emit({url:this.path(!0),pop:!0,state:_t.state,type:_t.type})})}ngOnDestroy(){var Q;null===(Q=this._urlChangeSubscription)||void 0===Q||Q.unsubscribe(),this._urlChangeListeners=[]}path(Q=!1){return this.normalize(this._locationStrategy.path(Q))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(Q,Pe=""){return this.path()==this.normalize(Q+pt(Pe))}normalize(Q){return K.stripTrailingSlash(function It(K,de){if(!K||!de.startsWith(K))return de;const Q=de.substring(K.length);return""===Q||["/",";","?","#"].includes(Q[0])?Q:de}(this._basePath,St(Q)))}prepareExternalUrl(Q){return Q&&"/"!==Q[0]&&(Q="/"+Q),this._locationStrategy.prepareExternalUrl(Q)}go(Q,Pe="",_t=null){this._locationStrategy.pushState(_t,"",Q,Pe),this._notifyUrlChangeListeners(this.prepareExternalUrl(Q+pt(Pe)),_t)}replaceState(Q,Pe="",_t=null){this._locationStrategy.replaceState(_t,"",Q,Pe),this._notifyUrlChangeListeners(this.prepareExternalUrl(Q+pt(Pe)),_t)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(Q=0){var Pe,_t;null===(Pe=(_t=this._locationStrategy).historyGo)||void 0===Pe||Pe.call(_t,Q)}onUrlChange(Q){return this._urlChangeListeners.push(Q),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(Pe=>{this._notifyUrlChangeListeners(Pe.url,Pe.state)})),()=>{const Pe=this._urlChangeListeners.indexOf(Q);var _t;this._urlChangeListeners.splice(Pe,1),0===this._urlChangeListeners.length&&(null===(_t=this._urlChangeSubscription)||void 0===_t||_t.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(Q="",Pe){this._urlChangeListeners.forEach(_t=>_t(Q,Pe))}subscribe(Q,Pe,_t){return this._subject.subscribe({next:Q,error:Pe,complete:_t})}}return K.normalizeQueryParams=pt,K.joinWithSlash=Me,K.stripTrailingSlash=lt,K.\u0275fac=function(Q){return new(Q||K)(d.LFG(jt))},K.\u0275prov=d.Yz7({token:K,factory:function(){return function ft(){return new Mt((0,d.LFG)(jt))}()},providedIn:"root"}),K})();function St(K){return K.replace(/\/index.html$/,"")}function Xs(K,de){de=encodeURIComponent(de);for(const Q of K.split(";")){const Pe=Q.indexOf("="),[_t,mn]=-1==Pe?[Q,""]:[Q.slice(0,Pe),Q.slice(Pe+1)];if(_t.trim()===de)return decodeURIComponent(mn)}return null}class Qs{constructor(de,Q,Pe,_t){this.$implicit=de,this.ngForOf=Q,this.index=Pe,this.count=_t}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Js=(()=>{class K{set ngForOf(Q){this._ngForOf=Q,this._ngForOfDirty=!0}set ngForTrackBy(Q){this._trackByFn=Q}get ngForTrackBy(){return this._trackByFn}constructor(Q,Pe,_t){this._viewContainer=Q,this._template=Pe,this._differs=_t,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(Q){Q&&(this._template=Q)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const Q=this._ngForOf;!this._differ&&Q&&(this._differ=this._differs.find(Q).create(this.ngForTrackBy))}if(this._differ){const Q=this._differ.diff(this._ngForOf);Q&&this._applyChanges(Q)}}_applyChanges(Q){const Pe=this._viewContainer;Q.forEachOperation((_t,mn,Pn)=>{if(null==_t.previousIndex)Pe.createEmbeddedView(this._template,new Qs(_t.item,this._ngForOf,-1,-1),null===Pn?void 0:Pn);else if(null==Pn)Pe.remove(null===mn?void 0:mn);else if(null!==mn){const ii=Pe.get(mn);Pe.move(ii,Pn),Is(ii,_t)}});for(let _t=0,mn=Pe.length;_t<mn;_t++){const ii=Pe.get(_t).context;ii.index=_t,ii.count=mn,ii.ngForOf=this._ngForOf}Q.forEachIdentityChange(_t=>{Is(Pe.get(_t.currentIndex),_t)})}static ngTemplateContextGuard(Q,Pe){return!0}}return K.\u0275fac=function(Q){return new(Q||K)(d.Y36(d.s_b),d.Y36(d.Rgc),d.Y36(d.ZZ4))},K.\u0275dir=d.lG2({type:K,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),K})();function Is(K,de){K.context.$implicit=de.item}let re=(()=>{class K{constructor(Q,Pe){this._viewContainer=Q,this._context=new pe,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=Pe}set ngIf(Q){this._context.$implicit=this._context.ngIf=Q,this._updateView()}set ngIfThen(Q){Oe("ngIfThen",Q),this._thenTemplateRef=Q,this._thenViewRef=null,this._updateView()}set ngIfElse(Q){Oe("ngIfElse",Q),this._elseTemplateRef=Q,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(Q,Pe){return!0}}return K.\u0275fac=function(Q){return new(Q||K)(d.Y36(d.s_b),d.Y36(d.Rgc))},K.\u0275dir=d.lG2({type:K,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),K})();class pe{constructor(){this.$implicit=null,this.ngIf=null}}function Oe(K,de){if(de&&!de.createEmbeddedView)throw new Error(`${K} must be a TemplateRef, but received '${(0,d.AaK)(de)}'.`)}let Un=(()=>{class K{constructor(Q){this._viewContainerRef=Q,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(Q){if(Q.ngTemplateOutlet||Q.ngTemplateOutletInjector){const Pe=this._viewContainerRef;if(this._viewRef&&Pe.remove(Pe.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:_t,ngTemplateOutletContext:mn,ngTemplateOutletInjector:Pn}=this;this._viewRef=Pe.createEmbeddedView(_t,mn,Pn?{injector:Pn}:void 0)}else this._viewRef=null}else this._viewRef&&Q.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return K.\u0275fac=function(Q){return new(Q||K)(d.Y36(d.s_b))},K.\u0275dir=d.lG2({type:K,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[d.TTD]}),K})();class vs{createSubscription(de,Q){return de.subscribe({next:Q,error:Pe=>{throw Pe}})}dispose(de){de.unsubscribe()}}class Ji{createSubscription(de,Q){return de.then(Q,Pe=>{throw Pe})}dispose(de){}}const Ti=new Ji,Mr=new vs;let Tn=(()=>{class K{constructor(Q){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=Q}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(Q){return this._obj?Q!==this._obj?(this._dispose(),this.transform(Q)):this._latestValue:(Q&&this._subscribe(Q),this._latestValue)}_subscribe(Q){this._obj=Q,this._strategy=this._selectStrategy(Q),this._subscription=this._strategy.createSubscription(Q,Pe=>this._updateLatestValue(Q,Pe))}_selectStrategy(Q){if((0,d.QGY)(Q))return Ti;if((0,d.F4k)(Q))return Mr;throw function Qr(K,de){return new d.vHH(2100,!1)}()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(Q,Pe){Q===this._obj&&(this._latestValue=Pe,this._ref.markForCheck())}}return K.\u0275fac=function(Q){return new(Q||K)(d.Y36(d.sBO,16))},K.\u0275pipe=d.Yjl({name:"async",type:K,pure:!1,standalone:!0}),K})(),bs=(()=>{class K{}return K.\u0275fac=function(Q){return new(Q||K)},K.\u0275mod=d.oAB({type:K}),K.\u0275inj=d.cJS({}),K})();const xi="browser",No="server";function Bs(K){return K===xi}function Ys(K){return K===No}let ho=(()=>{class K{}return K.\u0275prov=(0,d.Yz7)({token:K,providedIn:"root",factory:()=>new oo((0,d.LFG)(ze),window)}),K})();class oo{constructor(de,Q){this.document=de,this.window=Q,this.offset=()=>[0,0]}setOffset(de){this.offset=Array.isArray(de)?()=>de:de}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(de){this.supportsScrolling()&&this.window.scrollTo(de[0],de[1])}scrollToAnchor(de){if(!this.supportsScrolling())return;const Q=function Go(K,de){const Q=K.getElementById(de)||K.getElementsByName(de)[0];if(Q)return Q;if("function"==typeof K.createTreeWalker&&K.body&&"function"==typeof K.body.attachShadow){const Pe=K.createTreeWalker(K.body,NodeFilter.SHOW_ELEMENT);let _t=Pe.currentNode;for(;_t;){const mn=_t.shadowRoot;if(mn){const Pn=mn.getElementById(de)||mn.querySelector(`[name="${de}"]`);if(Pn)return Pn}_t=Pe.nextNode()}}return null}(this.document,de);Q&&(this.scrollToElement(Q),Q.focus())}setHistoryScrollRestoration(de){if(this.supportScrollRestoration()){const Q=this.window.history;Q&&Q.scrollRestoration&&(Q.scrollRestoration=de)}}scrollToElement(de){const Q=de.getBoundingClientRect(),Pe=Q.left+this.window.pageXOffset,_t=Q.top+this.window.pageYOffset,mn=this.offset();this.window.scrollTo(Pe-mn[0],_t-mn[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const de=Ni(this.window.history)||Ni(Object.getPrototypeOf(this.window.history));return!(!de||!de.writable&&!de.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function Ni(K){return Object.getOwnPropertyDescriptor(K,"scrollRestoration")}class bo{}},2223:(Jn,Lt,z)=>{"use strict";z.d(Lt,{$8M:()=>ua,$WT:()=>Vn,$Z:()=>ap,AFp:()=>Kf,ALo:()=>xb,AaK:()=>Ze,AsE:()=>Dr,CHM:()=>Dn,CRH:()=>Hb,D6c:()=>CD,EJc:()=>AC,EpF:()=>Fy,F$t:()=>ym,F4k:()=>bf,FYo:()=>Ym,FiY:()=>Bc,G48:()=>QC,GSi:()=>Ig,Gf:()=>jb,GfV:()=>Yh,GkF:()=>Ny,Gpc:()=>it,HDt:()=>YE,Hsn:()=>vm,JOm:()=>Ua,KtG:()=>Zn,LFG:()=>Ht,LMc:()=>SD,LSH:()=>Od,Lbi:()=>Um,Lck:()=>hI,MAs:()=>mf,MMx:()=>mb,NdJ:()=>pm,Ojb:()=>rg,OlP:()=>Yo,Oqu:()=>bn,P3R:()=>kd,PXZ:()=>zC,Q6J:()=>Tp,QGY:()=>fm,QbO:()=>gv,Qsj:()=>wl,R0b:()=>Fl,RDi:()=>Nf,Rgc:()=>xm,SBq:()=>td,Sil:()=>MC,Suo:()=>zb,TTD:()=>na,TgZ:()=>hd,X6Q:()=>XC,XFs:()=>Rn,Xpm:()=>Is,Xts:()=>Za,Y36:()=>Vl,YKP:()=>pb,YNc:()=>dm,Yjl:()=>st,Yz7:()=>vt,Z0I:()=>er,ZZ4:()=>r0,_Bn:()=>fb,_UZ:()=>vf,_Vd:()=>Kh,_c5:()=>pD,_uU:()=>ae,aQg:()=>s0,c2e:()=>dE,cJS:()=>vn,cg1:()=>E_,dDg:()=>$C,dqk:()=>lr,eFA:()=>DE,eJc:()=>V_,ekj:()=>Em,eoX:()=>EE,f3M:()=>zn,g9A:()=>Vm,h0i:()=>Fp,hGG:()=>gD,hij:()=>$n,iGM:()=>Ub,ifc:()=>Ke,ip1:()=>uE,jDz:()=>yb,kL8:()=>$0,lG2:()=>ve,lcZ:()=>Mb,lqb:()=>Cu,lri:()=>_E,n5z:()=>Ir,oAB:()=>Oe,oxw:()=>mm,q4F:()=>Hd,qFp:()=>TD,qLn:()=>Gd,qOj:()=>vp,qZA:()=>yf,rWj:()=>bE,s9C:()=>Pp,sBO:()=>JC,s_b:()=>iv,soG:()=>ov,tb:()=>X_,tp0:()=>Rl,uIk:()=>od,vHH:()=>$e,vpe:()=>Nu,wAp:()=>ws,xp6:()=>ny,z2F:()=>$p,zSh:()=>Uf,zs3:()=>$l});var ze,d=z(7579),E=z(727),be=z(9751),ke=z(6451),qe=z(3099);function Se(n){for(let r in n)if(n[r]===Se)return r;throw Error("Could not find renamed property on target object.")}function Re(n,r){for(const o in r)r.hasOwnProperty(o)&&!n.hasOwnProperty(o)&&(n[o]=r[o])}function Ze(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(Ze).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const r=n.toString();if(null==r)return""+r;const o=r.indexOf("\n");return-1===o?r:r.substring(0,o)}function Fe(n,r){return null==n||""===n?null===r?"":r:null==r||""===r?n:n+" "+r}const xe=Se({__forward_ref__:Se});function it(n){return n.__forward_ref__=it,n.toString=function(){return Ze(this())},n}function Me(n){return lt(n)?n():n}function lt(n){return"function"==typeof n&&n.hasOwnProperty(xe)&&n.__forward_ref__===it}function pt(n){return n&&!!n.\u0275providers}const He="https://g.co/ng/security#xss";class $e extends Error{constructor(r,o){super(function kt(n,r){return`NG0${Math.abs(n)}${r?": "+r:""}`}(r,o)),this.code=r}}function Mt(n){return"string"==typeof n?n:null==n?"":String(n)}function yt(n,r){throw new $e(-201,!1)}function Nt(n,r){null==n&&function Qt(n,r,o,u){throw new Error(`ASSERTION ERROR: ${n}`+(null==u?"":` [Expected=> ${o} ${u} ${r} <=Actual]`))}(r,n,null,"!=")}function vt(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function vn(n){return{providers:n.providers||[],imports:n.imports||[]}}function qn(n){return ur(n,an)||ur(n,$r)}function er(n){return null!==qn(n)}function ur(n,r){return n.hasOwnProperty(r)?n[r]:null}function ir(n){return n&&(n.hasOwnProperty(Pr)||n.hasOwnProperty(xr))?n[Pr]:null}const an=Se({\u0275prov:Se}),Pr=Se({\u0275inj:Se}),$r=Se({ngInjectableDef:Se}),xr=Se({ngInjectorDef:Se});var Rn=(()=>((Rn=Rn||{})[Rn.Default=0]="Default",Rn[Rn.Host=1]="Host",Rn[Rn.Self=2]="Self",Rn[Rn.SkipSelf=4]="SkipSelf",Rn[Rn.Optional=8]="Optional",Rn))();let ai;function ar(n){const r=ai;return ai=n,r}function Pi(n,r,o){const u=qn(n);return u&&"root"==u.providedIn?void 0===u.value?u.value=u.factory():u.value:o&Rn.Optional?null:void 0!==r?r:void yt(Ze(n))}const lr=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),li={},Kr="__NG_DI_FLAG__",di="ngTempTokenPath",br=/\n/gm,Ei="__source";let Er;function Ne(n){const r=Er;return Er=n,r}function dt(n,r=Rn.Default){if(void 0===Er)throw new $e(-203,!1);return null===Er?Pi(n,void 0,r):Er.get(n,r&Rn.Optional?null:void 0,r)}function Ht(n,r=Rn.Default){return(function Gr(){return ai}()||dt)(Me(n),r)}function zn(n,r=Rn.Default){return Ht(n,jr(r))}function jr(n){return typeof n>"u"||"number"==typeof n?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function kr(n){const r=[];for(let o=0;o<n.length;o++){const u=Me(n[o]);if(Array.isArray(u)){if(0===u.length)throw new $e(900,!1);let y,w=Rn.Default;for(let P=0;P<u.length;P++){const j=u[P],X=gt(j);"number"==typeof X?-1===X?y=j.token:w|=X:y=j}r.push(Ht(y,w))}else r.push(Ht(u))}return r}function Or(n,r){return n[Kr]=r,n.prototype[Kr]=r,n}function gt(n){return n[Kr]}function te(n){return{toString:n}.toString()}var se=(()=>((se=se||{})[se.OnPush=0]="OnPush",se[se.Default=1]="Default",se))(),Ke=(()=>{return(n=Ke||(Ke={}))[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",Ke;var n})();const xt={},rt=[],Vt=Se({\u0275cmp:Se}),en=Se({\u0275dir:Se}),Sn=Se({\u0275pipe:Se}),gn=Se({\u0275mod:Se}),Wn=Se({\u0275fac:Se}),ln=Se({__NG_ELEMENT_ID__:Se}),yn=Se({__NG_ENV_ID__:Se});function kn(n,r,o){let u=n.length;for(;;){const y=n.indexOf(r,o);if(-1===y)return y;if(0===y||n.charCodeAt(y-1)<=32){const w=r.length;if(y+w===u||n.charCodeAt(y+w)<=32)return y}o=y+1}}function Bt(n,r,o){let u=0;for(;u<o.length;){const y=o[u];if("number"==typeof y){if(0!==y)break;u++;const w=o[u++],P=o[u++],j=o[u++];n.setAttribute(r,P,j,w)}else{const w=y,P=o[++u];fn(w)?n.setProperty(r,w,P):n.setAttribute(r,w,P),u++}}return u}function Kt(n){return 3===n||4===n||6===n}function fn(n){return 64===n.charCodeAt(0)}function Yn(n,r){if(null!==r&&0!==r.length)if(null===n||0===n.length)n=r.slice();else{let o=-1;for(let u=0;u<r.length;u++){const y=r[u];"number"==typeof y?o=y:0===o||pr(n,o,y,null,-1===o||2===o?r[++u]:null)}}return n}function pr(n,r,o,u,y){let w=0,P=n.length;if(-1===r)P=-1;else for(;w<n.length;){const j=n[w++];if("number"==typeof j){if(j===r){P=-1;break}if(j>r){P=w-1;break}}}for(;w<n.length;){const j=n[w];if("number"==typeof j)break;if(j===o){if(null===u)return void(null!==y&&(n[w+1]=y));if(u===n[w+1])return void(n[w+2]=y)}w++,null!==u&&w++,null!==y&&w++}-1!==P&&(n.splice(P,0,r),w=P+1),n.splice(w++,0,o),null!==u&&n.splice(w++,0,u),null!==y&&n.splice(w++,0,y)}const Fr="ng-template";function Sr(n,r,o){let u=0,y=!0;for(;u<n.length;){let w=n[u++];if("string"==typeof w&&y){const P=n[u++];if(o&&"class"===w&&-1!==kn(P.toLowerCase(),r,0))return!0}else{if(1===w){for(;u<n.length&&"string"==typeof(w=n[u++]);)if(w.toLowerCase()===r)return!0;return!1}"number"==typeof w&&(y=!1)}}return!1}function Fi(n){return 4===n.type&&n.value!==Fr}function Xr(n,r,o){return r===(4!==n.type||o?n.value:Fr)}function zr(n,r,o){let u=4;const y=n.attrs||[],w=function ys(n){for(let r=0;r<n.length;r++)if(Kt(n[r]))return r;return n.length}(y);let P=!1;for(let j=0;j<r.length;j++){const X=r[j];if("number"!=typeof X){if(!P)if(4&u){if(u=2|1&u,""!==X&&!Xr(n,X,o)||""===X&&1===r.length){if(Yr(u))return!1;P=!0}}else{const ye=8&u?X:r[++j];if(8&u&&null!==n.attrs){if(!Sr(n.attrs,ye,o)){if(Yr(u))return!1;P=!0}continue}const ot=rs(8&u?"class":X,y,Fi(n),o);if(-1===ot){if(Yr(u))return!1;P=!0;continue}if(""!==ye){let zt;zt=ot>w?"":y[ot+1].toLowerCase();const hn=8&u?zt:null;if(hn&&-1!==kn(hn,ye,0)||2&u&&ye!==zt){if(Yr(u))return!1;P=!0}}}}else{if(!P&&!Yr(u)&&!Yr(X))return!1;if(P&&Yr(X))continue;P=!1,u=X|1&u}}return Yr(u)||P}function Yr(n){return 0==(1&n)}function rs(n,r,o,u){if(null===r)return-1;let y=0;if(u||!o){let w=!1;for(;y<r.length;){const P=r[y];if(P===n)return y;if(3===P||6===P)w=!0;else{if(1===P||2===P){let j=r[++y];for(;"string"==typeof j;)j=r[++y];continue}if(4===P)break;if(0===P){y+=4;continue}}y+=w?1:2}return-1}return function cs(n,r){let o=n.indexOf(4);if(o>-1)for(o++;o<n.length;){const u=n[o];if("number"==typeof u)return-1;if(u===r)return o;o++}return-1}(r,n)}function Os(n,r,o=!1){for(let u=0;u<r.length;u++)if(zr(n,r[u],o))return!0;return!1}function yo(n,r){e:for(let o=0;o<r.length;o++){const u=r[o];if(n.length===u.length){for(let y=0;y<n.length;y++)if(n[y]!==u[y])continue e;return!0}}return!1}function ts(n,r){return n?":not("+r.trim()+")":r}function zi(n){let r=n[0],o=1,u=2,y="",w=!1;for(;o<n.length;){let P=n[o];if("string"==typeof P)if(2&u){const j=n[++o];y+="["+P+(j.length>0?'="'+j+'"':"")+"]"}else 8&u?y+="."+P:4&u&&(y+=" "+P);else""!==y&&!Yr(P)&&(r+=ts(w,y),y=""),u=P,w=w||!Yr(u);o++}return""!==y&&(r+=ts(w,y)),r}function Is(n){return te(()=>{const r=Nr(n),o={...r,decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===se.OnPush,directiveDefs:null,pipeDefs:null,dependencies:r.standalone&&n.dependencies||null,getStandaloneInjector:null,data:n.data||{},encapsulation:n.encapsulation||Ke.Emulated,styles:n.styles||rt,_:null,schemas:n.schemas||null,tView:null,id:""};Qr(o);const u=n.dependencies;return o.directiveDefs=vs(u,!1),o.pipeDefs=vs(u,!0),o.id=function Ti(n){let r=0;const o=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,n.consts,n.vars,n.decls,n.encapsulation,n.standalone,Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery].join("|");for(const y of o)r=Math.imul(31,r)+y.charCodeAt(0)<<0;return r+=2147483648,"c"+r}(o),o})}function re(n){return wt(n)||$t(n)}function pe(n){return null!==n}function Oe(n){return te(()=>({type:n.type,bootstrap:n.bootstrap||rt,declarations:n.declarations||rt,imports:n.imports||rt,exports:n.exports||rt,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function ne(n,r){if(null==n)return xt;const o={};for(const u in n)if(n.hasOwnProperty(u)){let y=n[u],w=y;Array.isArray(y)&&(w=y[1],y=y[0]),o[y]=u,r&&(r[y]=w)}return o}function ve(n){return te(()=>{const r=Nr(n);return Qr(r),r})}function st(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,standalone:!0===n.standalone,onDestroy:n.type.prototype.ngOnDestroy||null}}function wt(n){return n[Vt]||null}function $t(n){return n[en]||null}function nn(n){return n[Sn]||null}function Vn(n){const r=wt(n)||$t(n)||nn(n);return null!==r&&r.standalone}function Un(n,r){const o=n[gn]||null;if(!o&&!0===r)throw new Error(`Type ${Ze(n)} does not have '\u0275mod' property.`);return o}function Nr(n){const r={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:r,exportAs:n.exportAs||null,standalone:!0===n.standalone,selectors:n.selectors||rt,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:ne(n.inputs,r),outputs:ne(n.outputs)}}function Qr(n){var r;null===(r=n.features)||void 0===r||r.forEach(o=>o(n))}function vs(n,r){if(!n)return null;const o=r?nn:re;return()=>("function"==typeof n?n():n).map(u=>o(u)).filter(pe)}const Mr=0,Tn=1,Lr=2,Br=3,Ts=4,Ao=5,is=6,vo=7,Jr=8,Ur=9,ji=10,qr=11,so=12,_s=13,ki=14,es=15,eo=16,uo=17,zs=18,Eo=19,_o=20,wo=21,As=22,qo=23,bs=24,xi=25,Yi=1,Ri=2,Bs=7,Ys=8,Io=9,fs=11;function oo(n){return Array.isArray(n)&&"object"==typeof n[Yi]}function Ni(n){return Array.isArray(n)&&!0===n[Yi]}function Go(n){return 0!=(4&n.flags)}function xo(n){return n.componentOffset>-1}function bo(n){return 1==(1&n.flags)}function Co(n){return!!n.template}function to(n){return 0!=(512&n[Lr])}function Hs(n,r){return n.hasOwnProperty(Wn)?n[Wn]:null}let S=null!==(ze=lr.WeakRef)&&void 0!==ze?ze:class F{constructor(r){this.ref=r}deref(){return this.ref}},ht=0,Pt=null,dn=!1;function Mn(n){const r=Pt;return Pt=n,r}class ci{constructor(){this.id=ht++,this.ref=function L(n){return new S(n)}(this),this.producers=new Map,this.consumers=new Map,this.trackingVersion=0,this.valueVersion=0}consumerPollProducersForChange(){for(const[r,o]of this.producers){const u=o.producerNode.deref();if(void 0!==u&&o.atTrackingVersion===this.trackingVersion){if(u.producerPollStatus(o.seenValueVersion))return!0}else this.producers.delete(r),null==u||u.consumers.delete(this.id)}return!1}producerMayHaveChanged(){const r=dn;dn=!0;try{for(const[o,u]of this.consumers){const y=u.consumerNode.deref();void 0!==y&&y.trackingVersion===u.atTrackingVersion?y.onConsumerDependencyMayHaveChanged():(this.consumers.delete(o),null==y||y.producers.delete(this.id))}}finally{dn=r}}producerAccessed(){if(dn)throw new Error("");if(null===Pt)return;let r=Pt.producers.get(this.id);void 0===r?(r={consumerNode:Pt.ref,producerNode:this.ref,seenValueVersion:this.valueVersion,atTrackingVersion:Pt.trackingVersion},Pt.producers.set(this.id,r),this.consumers.set(Pt.id,r)):(r.seenValueVersion=this.valueVersion,r.atTrackingVersion=Pt.trackingVersion)}get hasProducers(){return this.producers.size>0}get producerUpdatesAllowed(){var r;return!1!==(null===(r=Pt)||void 0===r?void 0:r.consumerAllowSignalWrites)}producerPollStatus(r){return this.valueVersion!==r||(this.onProducerUpdateValueVersion(),this.valueVersion!==r)}}let xs=null;const Jo=()=>{};class Da extends ci{constructor(r,o,u){super(),this.watch=r,this.schedule=o,this.dirty=!1,this.cleanupFn=Jo,this.registerOnCleanup=y=>{this.cleanupFn=y},this.consumerAllowSignalWrites=u}notify(){this.dirty||this.schedule(this),this.dirty=!0}onConsumerDependencyMayHaveChanged(){this.notify()}onProducerUpdateValueVersion(){}run(){if(this.dirty=!1,0!==this.trackingVersion&&!this.consumerPollProducersForChange())return;const r=Mn(this);this.trackingVersion++;try{this.cleanupFn(),this.cleanupFn=Jo,this.watch(this.registerOnCleanup)}finally{Mn(r)}}cleanup(){this.cleanupFn()}}class Sa{constructor(r,o,u){this.previousValue=r,this.currentValue=o,this.firstChange=u}isFirstChange(){return this.firstChange}}function na(){return Na}function Na(n){return n.type.prototype.ngOnChanges&&(n.setInput=To),Vs}function Vs(){const n=Oo(this),r=null==n?void 0:n.current;if(r){const o=n.previous;if(o===xt)n.previous=r;else for(let u in r)o[u]=r[u];n.current=null,this.ngOnChanges(r)}}function To(n,r,o,u){const y=this.declaredInputs[o],w=Oo(n)||function Ta(n,r){return n[oa]=r}(n,{previous:xt,current:null}),P=w.current||(w.current={}),j=w.previous,X=j[y];P[y]=new Sa(X&&X.currentValue,r,j===xt),n[u]=r}na.ngInherit=!0;const oa="__ngSimpleChanges__";function Oo(n){return n[oa]||null}const oe=function(n,r,o){};function at(n){for(;Array.isArray(n);)n=n[Mr];return n}function Wt(n,r){return at(r[n])}function rn(n,r){return at(r[n.index])}function sr(n,r){return n.data[r]}function ri(n,r){return n[r]}function Hr(n,r){const o=r[n];return oo(o)?o:o[Mr]}function Gs(n){return 128==(128&n[Lr])}function de(n,r){return null==r?null:n[r]}function Q(n){n[uo]=0}function Pe(n){1024&n[Lr]||(n[Lr]|=1024,mn(n,1))}function _t(n){1024&n[Lr]&&(n[Lr]&=-1025,mn(n,-1))}function mn(n,r){let o=n[Br];if(null===o)return;o[Ao]+=r;let u=o;for(o=o[Br];null!==o&&(1===r&&1===u[Ao]||-1===r&&0===u[Ao]);)o[Ao]+=r,u=o,o=o[Br]}const hr={lFrame:nt(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function lo(){return hr.bindingsEnabled}function Gn(){return hr.lFrame.lView}function Bn(){return hr.lFrame.tView}function Dn(n){return hr.lFrame.contextLView=n,n[Jr]}function Zn(n){return hr.lFrame.contextLView=null,n}function Ds(){let n=aa();for(;null!==n&&64===n.type;)n=n.parent;return n}function aa(){return hr.lFrame.currentTNode}function _a(n,r){const o=hr.lFrame;o.currentTNode=n,o.isParent=r}function Ja(){return hr.lFrame.isParent}function al(){hr.lFrame.isParent=!1}function $i(){return hr.lFrame.bindingIndex++}function la(n){const r=hr.lFrame,o=r.bindingIndex;return r.bindingIndex=r.bindingIndex+n,o}function ti(n,r){const o=hr.lFrame;o.bindingIndex=o.bindingRootIndex=n,as(r)}function as(n){hr.lFrame.currentDirectiveIndex=n}function gs(){return hr.lFrame.currentQueryIndex}function gr(n){hr.lFrame.currentQueryIndex=n}function Aa(n){const r=n[Tn];return 2===r.type?r.declTNode:1===r.type?n[is]:null}function pa(n,r,o){if(o&Rn.SkipSelf){let y=r,w=n;for(;!(y=y.parent,null!==y||o&Rn.Host||(y=Aa(w),null===y||(w=w[ki],10&y.type))););if(null===y)return!1;r=y,n=w}const u=hr.lFrame=el();return u.currentTNode=r,u.lView=n,!0}function xa(n){const r=el(),o=n[Tn];hr.lFrame=r,r.currentTNode=o.firstChild,r.lView=n,r.tView=o,r.contextLView=n,r.bindingIndex=o.bindingStartIndex,r.inI18n=!1}function el(){const n=hr.lFrame,r=null===n?null:n.child;return null===r?nt(n):r}function nt(n){const r={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=r),r}function Zt(){const n=hr.lFrame;return hr.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const Jt=Zt;function yr(){const n=Zt();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function ss(){return hr.lFrame.selectedIndex}function Qi(n){hr.lFrame.selectedIndex=n}function Gi(){const n=hr.lFrame;return sr(n.tView,n.selectedIndex)}let Il=!0;function Ya(){return Il}function Xo(n){Il=n}function $o(n,r){for(let ye=r.directiveStart,Le=r.directiveEnd;ye<Le;ye++){const zt=n.data[ye].type.prototype,{ngAfterContentInit:hn,ngAfterContentChecked:jn,ngAfterViewInit:Cr,ngAfterViewChecked:Wr,ngOnDestroy:_i}=zt;var o,u,y,w,P,j,X;hn&&(null!==(o=n.contentHooks)&&void 0!==o?o:n.contentHooks=[]).push(-ye,hn),jn&&((null!==(u=n.contentHooks)&&void 0!==u?u:n.contentHooks=[]).push(ye,jn),(null!==(y=n.contentCheckHooks)&&void 0!==y?y:n.contentCheckHooks=[]).push(ye,jn)),Cr&&(null!==(w=n.viewHooks)&&void 0!==w?w:n.viewHooks=[]).push(-ye,Cr),Wr&&((null!==(P=n.viewHooks)&&void 0!==P?P:n.viewHooks=[]).push(ye,Wr),(null!==(j=n.viewCheckHooks)&&void 0!==j?j:n.viewCheckHooks=[]).push(ye,Wr)),null!=_i&&(null!==(X=n.destroyHooks)&&void 0!==X?X:n.destroyHooks=[]).push(ye,_i)}}function V(n,r,o){q(n,r,3,o)}function H(n,r,o,u){(3&n[Lr])===o&&q(n,r,o,u)}function R(n,r){let o=n[Lr];(3&o)===r&&(o&=4095,o+=1,n[Lr]=o)}function q(n,r,o,u){const w=null!=u?u:-1,P=r.length-1;let j=0;for(let X=void 0!==u?65535&n[uo]:0;X<P;X++)if("number"==typeof r[X+1]){if(j=r[X],null!=u&&j>=u)break}else r[X]<0&&(n[uo]+=65536),(j<w||-1==w)&&(Xe(n,o,r,X),n[uo]=(4294901760&n[uo])+X+2),X++}function me(n,r){oe(4,n,r);const o=Mn(null);try{r.call(n)}finally{Mn(o),oe(5,n,r)}}function Xe(n,r,o,u){const y=o[u]<0,w=o[u+1],j=n[y?-o[u]:o[u]];y?n[Lr]>>12<n[uo]>>16&&(3&n[Lr])===r&&(n[Lr]+=4096,me(j,w)):me(j,w)}const Ue=-1;class Yt{constructor(r,o,u){this.factory=r,this.resolving=!1,this.canSeeViewProviders=o,this.injectImpl=u}}function c(n){return n!==Ue}function f(n){return 32767&n}function I(n,r){let o=function _(n){return n>>16}(n),u=r;for(;o>0;)u=u[ki],o--;return u}let A=!0;function k(n){const r=A;return A=n,r}const ue=255,Ce=5;let je=0;const Qe={};function At(n,r){const o=In(n,r);if(-1!==o)return o;const u=r[Tn];u.firstCreatePass&&(n.injectorIndex=r.length,Xt(u.data,n),Xt(r,null),Xt(u.blueprint,null));const y=wn(n,r),w=n.injectorIndex;if(c(y)){const P=f(y),j=I(y,r),X=j[Tn].data;for(let ye=0;ye<8;ye++)r[w+ye]=j[P+ye]|X[P+ye]}return r[w+8]=y,w}function Xt(n,r){n.push(0,0,0,0,0,0,0,0,r)}function In(n,r){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===r[n.injectorIndex+8]?-1:n.injectorIndex}function wn(n,r){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let o=0,u=null,y=r;for(;null!==y;){if(u=ns(y),null===u)return Ue;if(o++,y=y[ki],-1!==u.injectorIndex)return u.injectorIndex|o<<16}return Ue}function tr(n,r,o){!function Et(n,r,o){let u;"string"==typeof o?u=o.charCodeAt(0)||0:o.hasOwnProperty(ln)&&(u=o[ln]),null==u&&(u=o[ln]=je++);const y=u&ue;r.data[n+(y>>Ce)]|=1<<y}(n,r,o)}function Kn(n,r,o){if(o&Rn.Optional||void 0!==n)return n;yt()}function or(n,r,o,u){if(o&Rn.Optional&&void 0===u&&(u=null),!(o&(Rn.Self|Rn.Host))){const y=n[Ur],w=ar(void 0);try{return y?y.get(r,u,o&Rn.Optional):Pi(r,u,o&Rn.Optional)}finally{ar(w)}}return Kn(u,0,o)}function dr(n,r,o,u=Rn.Default,y){if(null!==n){if(2048&r[Lr]){const P=function Ki(n,r,o,u,y){let w=n,P=r;for(;null!==w&&null!==P&&2048&P[Lr]&&!(512&P[Lr]);){const j=vr(w,P,o,u|Rn.Self,Qe);if(j!==Qe)return j;let X=w.parent;if(!X){const ye=P[_o];if(ye){const Le=ye.get(o,Qe,u);if(Le!==Qe)return Le}X=ns(P),P=P[ki]}w=X}return y}(n,r,o,u,Qe);if(P!==Qe)return P}const w=vr(n,r,o,u,Qe);if(w!==Qe)return w}return or(r,o,u,y)}function vr(n,r,o,u,y){const w=function ms(n){if("string"==typeof n)return n.charCodeAt(0)||0;const r=n.hasOwnProperty(ln)?n[ln]:void 0;return"number"==typeof r?r>=0?r&ue:wr:r}(o);if("function"==typeof w){if(!pa(r,n,u))return u&Rn.Host?Kn(y,0,u):or(r,o,u,y);try{const P=w(u);if(null!=P||u&Rn.Optional)return P;yt()}finally{Jt()}}else if("number"==typeof w){let P=null,j=In(n,r),X=Ue,ye=u&Rn.Host?r[es][is]:null;for((-1===j||u&Rn.SkipSelf)&&(X=-1===j?wn(n,r):r[j+8],X!==Ue&&os(u,!1)?(P=r[Tn],j=f(X),r=I(X,r)):j=-1);-1!==j;){const Le=r[Tn];if(Rs(w,j,Le.data)){const ot=fi(j,r,o,P,u,ye);if(ot!==Qe)return ot}X=r[j+8],X!==Ue&&os(u,r[Tn].data[j+8]===ye)&&Rs(w,j,r)?(P=Le,j=f(X),r=I(X,r)):j=-1}}return y}function fi(n,r,o,u,y,w){const P=r[Tn],j=P.data[n+8],Le=Oi(j,P,o,null==u?xo(j)&&A:u!=P&&0!=(3&j.type),y&Rn.Host&&w===j);return null!==Le?Vr(r,P,Le,j):Qe}function Oi(n,r,o,u,y){const w=n.providerIndexes,P=r.data,j=1048575&w,X=n.directiveStart,Le=w>>20,zt=y?j+Le:n.directiveEnd;for(let hn=u?j:j+Le;hn<zt;hn++){const jn=P[hn];if(hn<X&&o===jn||hn>=X&&jn.type===o)return hn}if(y){const hn=P[X];if(hn&&Co(hn)&&hn.type===o)return X}return null}function Vr(n,r,o,u){let y=n[o];const w=r.data;if(function An(n){return n instanceof Yt}(y)){const P=y;P.resolving&&function It(n,r){const o=r?`. Dependency path: ${r.join(" > ")} > ${n}`:"";throw new $e(-200,`Circular dependency in DI detected for ${n}${o}`)}(function ft(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():Mt(n)}(w[o]));const j=k(P.canSeeViewProviders);P.resolving=!0;const X=P.injectImpl?ar(P.injectImpl):null;pa(n,u,Rn.Default);try{y=n[o]=P.factory(void 0,w,n,u),r.firstCreatePass&&o>=u.directiveStart&&function xl(n,r,o){const{ngOnChanges:u,ngOnInit:y,ngDoCheck:w}=r.type.prototype;if(u){var P,j;const ot=Na(r);(null!==(P=o.preOrderHooks)&&void 0!==P?P:o.preOrderHooks=[]).push(n,ot),(null!==(j=o.preOrderCheckHooks)&&void 0!==j?j:o.preOrderCheckHooks=[]).push(n,ot)}var X,ye,Le;y&&(null!==(X=o.preOrderHooks)&&void 0!==X?X:o.preOrderHooks=[]).push(0-n,y),w&&((null!==(ye=o.preOrderHooks)&&void 0!==ye?ye:o.preOrderHooks=[]).push(n,w),(null!==(Le=o.preOrderCheckHooks)&&void 0!==Le?Le:o.preOrderCheckHooks=[]).push(n,w))}(o,w[o],r)}finally{null!==X&&ar(X),k(j),P.resolving=!1,Jt()}}return y}function Rs(n,r,o){return!!(o[r+(n>>Ce)]&1<<n)}function os(n,r){return!(n&Rn.Self||n&Rn.Host&&r)}class Ns{constructor(r,o){this._tNode=r,this._lView=o}get(r,o,u){return dr(this._tNode,this._lView,r,jr(u),o)}}function wr(){return new Ns(Ds(),Gn())}function Ir(n){return te(()=>{const r=n.prototype.constructor,o=r[Wn]||Ii(r),u=Object.prototype;let y=Object.getPrototypeOf(n.prototype).constructor;for(;y&&y!==u;){const w=y[Wn]||Ii(y);if(w&&w!==o)return w;y=Object.getPrototypeOf(y)}return w=>new w})}function Ii(n){return lt(n)?()=>{const r=Ii(Me(n));return r&&r()}:Hs(n)}function ns(n){const r=n[Tn],o=r.type;return 2===o?r.declTNode:1===o?n[is]:null}function ua(n){return function Qn(n,r){if("class"===r)return n.classes;if("style"===r)return n.styles;const o=n.attrs;if(o){const u=o.length;let y=0;for(;y<u;){const w=o[y];if(Kt(w))break;if(0===w)y+=2;else if("number"==typeof w)for(y++;y<u&&"string"==typeof o[y];)y++;else{if(w===r)return o[y+1];y+=2}}}return null}(Ds(),n)}const po="__annotations__",Ss="__parameters__",ls="__prop__metadata__";function wa(n,r,o,u,y){return te(()=>{const w=Va(r);function P(...j){if(this instanceof P)return w.call(this,...j),this;const X=new P(...j);return function(Le){return y&&y(Le,...j),(Le.hasOwnProperty(po)?Le[po]:Object.defineProperty(Le,po,{value:[]})[po]).push(X),u&&u(Le),Le}}return o&&(P.prototype=Object.create(o.prototype)),P.prototype.ngMetadataName=n,P.annotationCls=P,P})}function Va(n){return function(...o){if(n){const u=n(...o);for(const y in u)this[y]=u[y]}}}function Vo(n,r,o){return te(()=>{const u=Va(r);function y(...w){if(this instanceof y)return u.apply(this,w),this;const P=new y(...w);return j.annotation=P,j;function j(X,ye,Le){const ot=X.hasOwnProperty(Ss)?X[Ss]:Object.defineProperty(X,Ss,{value:[]})[Ss];for(;ot.length<=Le;)ot.push(null);return(ot[Le]=ot[Le]||[]).push(P),X}}return o&&(y.prototype=Object.create(o.prototype)),y.prototype.ngMetadataName=n,y.annotationCls=y,y})}const ra=Vo("Attribute",n=>({attributeName:n,__NG_ELEMENT_ID__:()=>ua(n)}));function da(n){const r=lr.ng;if(r&&r.\u0275compilerFacade)return r.\u0275compilerFacade;throw new Error("JIT compiler unavailable")}const Jl=Function;function hl(n){return"function"==typeof n}function ec(n,r){n.forEach(o=>Array.isArray(o)?ec(o,r):r(o))}function vc(n,r,o){r>=n.length?n.push(o):n.splice(r,0,o)}function fl(n,r){return r>=n.length-1?n.pop():n.splice(r,1)[0]}function Pl(n,r){const o=[];for(let u=0;u<n;u++)o.push(r);return o}function Wo(n,r,o){let u=Fo(n,r);return u>=0?n[1|u]=o:(u=~u,function pl(n,r,o,u){let y=n.length;if(y==r)n.push(o,u);else if(1===y)n.push(u,n[0]),n[0]=o;else{for(y--,n.push(n[y-1],n[y]);y>r;)n[y]=n[y-2],y--;n[r]=o,n[r+1]=u}}(n,u,r,o)),u}function tc(n,r){const o=Fo(n,r);if(o>=0)return n[1|o]}function Fo(n,r){return function iu(n,r,o){let u=0,y=n.length>>o;for(;y!==u;){const w=u+(y-u>>1),P=n[w<<o];if(r===P)return w<<o;P>r?y=w:u=w+1}return~(y<<o)}(n,r,1)}const yd=/^function\s+\S+\(\)\s*{[\s\S]+\.apply\(this,\s*(arguments|(?:[^()]+\(\[\],)?[^()]+\(arguments\).*)\)/,nc=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{/,uh=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{[\s\S]*constructor\s*\(/,vd=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{[\s\S]*constructor\s*\(\)\s*{[^}]*super\(\.\.\.arguments\)/;class Uo{constructor(r){this._reflect=r||lr.Reflect}factory(r){return(...o)=>new r(...o)}_zipTypesAndAnnotations(r,o){let u;u=Pl(typeof r>"u"?o.length:r.length);for(let y=0;y<u.length;y++)u[y]=typeof r>"u"?[]:r[y]&&r[y]!=Object?[r[y]]:[],o&&null!=o[y]&&(u[y]=u[y].concat(o[y]));return u}_ownParameters(r,o){if(function co(n){return yd.test(n)||vd.test(n)||nc.test(n)&&!uh.test(n)}(r.toString()))return null;if(r.parameters&&r.parameters!==o.parameters)return r.parameters;const y=r.ctorParameters;if(y&&y!==o.ctorParameters){const j="function"==typeof y?y():y,X=j.map(Le=>Le&&Le.type),ye=j.map(Le=>Le&&_l(Le.decorators));return this._zipTypesAndAnnotations(X,ye)}const w=r.hasOwnProperty(Ss)&&r[Ss],P=this._reflect&&this._reflect.getOwnMetadata&&this._reflect.getOwnMetadata("design:paramtypes",r);return P||w?this._zipTypesAndAnnotations(P,w):Pl(r.length)}parameters(r){if(!hl(r))return[];const o=rc(r);let u=this._ownParameters(r,o);return!u&&o!==Object&&(u=this.parameters(o)),u||[]}_ownAnnotations(r,o){if(r.annotations&&r.annotations!==o.annotations){let u=r.annotations;return"function"==typeof u&&u.annotations&&(u=u.annotations),u}return r.decorators&&r.decorators!==o.decorators?_l(r.decorators):r.hasOwnProperty(po)?r[po]:null}annotations(r){if(!hl(r))return[];const o=rc(r),u=this._ownAnnotations(r,o)||[];return(o!==Object?this.annotations(o):[]).concat(u)}_ownPropMetadata(r,o){if(r.propMetadata&&r.propMetadata!==o.propMetadata){let u=r.propMetadata;return"function"==typeof u&&u.propMetadata&&(u=u.propMetadata),u}if(r.propDecorators&&r.propDecorators!==o.propDecorators){const u=r.propDecorators,y={};return Object.keys(u).forEach(w=>{y[w]=_l(u[w])}),y}return r.hasOwnProperty(ls)?r[ls]:null}propMetadata(r){if(!hl(r))return{};const o=rc(r),u={};if(o!==Object){const w=this.propMetadata(o);Object.keys(w).forEach(P=>{u[P]=w[P]})}const y=this._ownPropMetadata(r,o);return y&&Object.keys(y).forEach(w=>{const P=[];u.hasOwnProperty(w)&&P.push(...u[w]),P.push(...y[w]),u[w]=P}),u}ownPropMetadata(r){return hl(r)&&this._ownPropMetadata(r,rc(r))||{}}hasLifecycleHook(r,o){return r instanceof Jl&&o in r.prototype}}function _l(n){return n?n.map(r=>new(0,r.type.annotationCls)(...r.args?r.args:[])):[]}function rc(n){const r=n.prototype?Object.getPrototypeOf(n.prototype):null;return(r?r.constructor:null)||Object}const su=Or(Vo("Inject",n=>({token:n})),-1),Bc=Or(Vo("Optional"),8),ic=Or(Vo("Self"),2),Rl=Or(Vo("SkipSelf"),4),_d=Or(Vo("Host"),1);let sc=null;function $c(n){return bd(function Fu(){return sc=sc||new Uo}().parameters(n))}function bd(n){return n.map(r=>function Vc(n){const r={token:null,attribute:null,host:!1,optional:!1,self:!1,skipSelf:!1};if(Array.isArray(n)&&n.length>0)for(let o=0;o<n.length;o++){const u=n[o];if(void 0===u)continue;const y=Object.getPrototypeOf(u);if(u instanceof Bc||"Optional"===y.ngMetadataName)r.optional=!0;else if(u instanceof Rl||"SkipSelf"===y.ngMetadataName)r.skipSelf=!0;else if(u instanceof ic||"Self"===y.ngMetadataName)r.self=!0;else if(u instanceof _d||"Host"===y.ngMetadataName)r.host=!0;else if(u instanceof su)r.token=u.token;else if(u instanceof ra){if(void 0===u.attributeName)throw new $e(204,!1);r.attribute=u.attributeName}else r.token=u}else r.token=void 0===n||Array.isArray(n)&&0===n.length?null:n;return r}(r))}var Ua=(()=>((Ua=Ua||{})[Ua.Important=1]="Important",Ua[Ua.DashCase=2]="DashCase",Ua))();const bl=/^>|^->|<!--|-->|--!>|<!-$/g,Wc=/(<|>)/,El="\u200b$1\u200b";const Gc=new Map;let Fs=0;const du="__ngContext__";function Ia(n,r){oo(r)?(n[du]=r[Eo],function ph(n){Gc.set(n[Eo],n)}(r)):n[du]=r}let hu;function fu(n,r){return hu(n,r)}function Bu(n){const r=n[Br];return Ni(r)?r[Br]:r}function Id(n){return Gl(n[so])}function Ec(n){return Gl(n[Ts])}function Gl(n){for(;null!==n&&!Ni(n);)n=n[Ts];return n}function Kc(n,r,o,u,y){if(null!=u){let w,P=!1;Ni(u)?w=u:oo(u)&&(P=!0,u=u[Mr]);const j=at(u);0===n&&null!==o?null==y?Dh(r,o,j):Ic(r,o,j,y||null,!0):1===n&&null!==o?Ic(r,o,j,y||null,!0):2===n?function gu(n,r,o){const u=qc(n,r);u&&function zu(n,r,o,u){n.removeChild(r,o,u)}(n,u,r,o)}(r,j,P):3===n&&r.destroyNode(j),null!=w&&function cc(n,r,o,u,y){const w=o[Bs];w!==at(o)&&Kc(r,n,u,w,y);for(let j=fs;j<o.length;j++){const X=o[j];Hu(X[Tn],X,n,r,u,w)}}(r,n,w,o,y)}}function wc(n,r){return n.createComment(function hh(n){return n.replace(bl,r=>r.replace(Wc,El))}(r))}function pu(n,r,o){return n.createElement(r,o)}function Po(n,r){const o=n[Io],u=o.indexOf(r);_t(r),o.splice(u,1)}function Uu(n,r){if(n.length<=fs)return;const o=fs+r,u=n[o];if(u){const y=u[eo];null!==y&&y!==n&&Po(y,u),r>0&&(n[o-1][Ts]=u[Ts]);const w=fl(n,fs+r);!function bh(n,r){Hu(n,r,r[qr],2,null,null),r[Mr]=null,r[is]=null}(u[Tn],u);const P=w[zs];null!==P&&P.detachView(w[Tn]),u[Br]=null,u[Ts]=null,u[Lr]&=-129}return u}function Ih(n,r){if(!(256&r[Lr])){var o,u;const y=r[qr];null===(o=r[qo])||void 0===o||o.destroy(),null===(u=r[bs])||void 0===u||u.destroy(),y.destroyNode&&Hu(n,r,y,3,null,null),function Up(n){let r=n[so];if(!r)return ju(n[Tn],n);for(;r;){let o=null;if(oo(r))o=r[so];else{const u=r[fs];u&&(o=u)}if(!o){for(;r&&!r[Ts]&&r!==n;)oo(r)&&ju(r[Tn],r),r=r[Br];null===r&&(r=n),oo(r)&&ju(r[Tn],r),o=r&&r[Ts]}r=o}}(r)}}function ju(n,r){if(!(256&r[Lr])){r[Lr]&=-129,r[Lr]|=256,function Pf(n,r){let o;if(null!=n&&null!=(o=n.destroyHooks))for(let u=0;u<o.length;u+=2){const y=r[o[u]];if(!(y instanceof Yt)){const w=o[u+1];if(Array.isArray(w))for(let P=0;P<w.length;P+=2){const j=y[w[P]],X=w[P+1];oe(4,j,X);try{X.call(j)}finally{oe(5,j,X)}}else{oe(4,y,w);try{w.call(y)}finally{oe(5,y,w)}}}}}(n,r),function Cd(n,r){const o=n.cleanup,u=r[vo];if(null!==o)for(let w=0;w<o.length-1;w+=2)if("string"==typeof o[w]){const P=o[w+3];P>=0?u[P]():u[-P].unsubscribe(),w+=2}else o[w].call(u[o[w+1]]);null!==u&&(r[vo]=null);const y=r[wo];if(null!==y){for(let w=0;w<y.length;w++)(0,y[w])();r[wo]=null}}(n,r),1===r[Tn].type&&r[qr].destroy();const o=r[eo];if(null!==o&&Ni(r[Br])){o!==r[Br]&&Po(o,r);const u=r[zs];null!==u&&u.detachView(n)}!function Sf(n){Gc.delete(n[Eo])}(r)}}function Dd(n,r,o){return function Ch(n,r,o){let u=r;for(;null!==u&&40&u.type;)u=(r=u).parent;if(null===u)return o[Mr];{const{componentOffset:y}=u;if(y>-1){const{encapsulation:w}=n.data[u.directiveStart+y];if(w===Ke.None||w===Ke.Emulated)return null}return rn(u,o)}}(n,r.parent,o)}function Ic(n,r,o,u,y){n.insertBefore(r,o,u,y)}function Dh(n,r,o){n.appendChild(r,o)}function Yc(n,r,o,u,y){null!==u?Ic(n,r,o,u,y):Dh(n,r,o)}function qc(n,r){return n.parentNode(r)}function Sh(n,r,o){return Of(n,r,o)}let Td,Gu,Qc,Of=function Th(n,r,o){return 40&n.type?rn(n,o):null};function xh(n,r,o,u){const y=Dd(n,u,r),w=r[qr],j=Sh(u.parent||r[is],u,r);if(null!=y)if(Array.isArray(o))for(let X=0;X<o.length;X++)Yc(w,y,o[X],j,!1);else Yc(w,y,o,j,!1);void 0!==Td&&Td(w,u,r,o,y)}function Ad(n,r){if(null!==r){const o=r.type;if(3&o)return rn(r,n);if(4&o)return Mh(-1,n[r.index]);if(8&o){const u=r.child;if(null!==u)return Ad(n,u);{const y=n[r.index];return Ni(y)?Mh(-1,y):at(y)}}if(32&o)return fu(r,n)()||at(n[r.index]);{const u=kf(n,r);return null!==u?Array.isArray(u)?u[0]:Ad(Bu(n[es]),u):Ad(n,r.next)}}return null}function kf(n,r){return null!==r?n[es][is].projection[r.projection]:null}function Mh(n,r){const o=fs+n+1;if(o<r.length){const u=r[o],y=u[Tn].firstChild;if(null!==y)return Ad(u,y)}return r[Bs]}function xd(n,r,o,u,y,w,P){for(;null!=o;){const j=u[o.index],X=o.type;if(P&&0===r&&(j&&Ia(at(j),u),o.flags|=2),32!=(32&o.flags))if(8&X)xd(n,r,o.child,u,y,w,!1),Kc(r,n,y,j,w);else if(32&X){const ye=fu(o,u);let Le;for(;Le=ye();)Kc(r,n,y,Le,w);Kc(r,n,y,j,w)}else 16&X?Md(n,r,u,o,y,w):Kc(r,n,y,j,w);o=P?o.projectionNext:o.next}}function Hu(n,r,o,u,y,w){xd(o,u,n.firstChild,r,y,w,!1)}function Md(n,r,o,u,y,w){const P=o[es],X=P[is].projection[u.projection];if(Array.isArray(X))for(let ye=0;ye<X.length;ye++)Kc(r,n,y,X[ye],w);else xd(n,r,X,P[Br],y,w,!0)}function Dc(n,r,o){""===o?n.removeAttribute(r,"class"):n.setAttribute(r,"class",o)}function Ph(n,r,o){const{mergedAttrs:u,classes:y,styles:w}=o;null!==u&&Bt(n,r,u),null!==y&&Dc(n,r,y),null!==w&&function Ca(n,r,o){n.setAttribute(r,"style",o)}(n,r,w)}function Nf(n){Gu=n}function Oh(n){var r;return(null===(r=function Ku(){if(void 0===Qc&&(Qc=null,lr.trustedTypes))try{Qc=lr.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Qc}())||void 0===r?void 0:r.createScriptURL(n))||n}class Ff{constructor(r){this.changingThisBreaksApplicationSecurity=r}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${He})`}}function hc(n){return n instanceof Ff?n.changingThisBreaksApplicationSecurity:n}function Sl(n,r){const o=function Nh(n){return n instanceof Ff&&n.getTypeName()||null}(n);if(null!=o&&o!==r){if("ResourceURL"===o&&"URL"===r)return!0;throw new Error(`Required a safe ${r}, got a ${o} (see ${He})`)}return o===r}const p=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var ja=(()=>((ja=ja||{})[ja.NONE=0]="NONE",ja[ja.HTML=1]="HTML",ja[ja.STYLE=2]="STYLE",ja[ja.SCRIPT=3]="SCRIPT",ja[ja.URL=4]="URL",ja[ja.RESOURCE_URL=5]="RESOURCE_URL",ja))();function Od(n){const r=Nd();return r?r.sanitize(ja.URL,n)||"":Sl(n,"URL")?hc(n):function g(n){return(n=String(n)).match(p)?n:"unsafe:"+n}(Mt(n))}function Nm(n){const r=Nd();if(r)return Oh(r.sanitize(ja.RESOURCE_URL,n)||"");if(Sl(n,"ResourceURL"))return Oh(hc(n));throw new $e(904,!1)}function kd(n,r,o){return function Fm(n,r){return"src"===r&&("embed"===n||"frame"===n||"iframe"===n||"media"===n||"script"===n)||"href"===r&&("base"===n||"link"===n)?Nm:Od}(r,o)(n)}function Nd(){const n=Gn();return n&&n[ji].sanitizer}class Yo{constructor(r,o){this._desc=r,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof o?this.__NG_ELEMENT_ID__=o:void 0!==o&&(this.\u0275prov=vt({token:this,providedIn:o.providedIn||"root",factory:o.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const Za=new Yo("ENVIRONMENT_INITIALIZER"),Zp=new Yo("INJECTOR",-1),Bh=new Yo("INJECTOR_DEF_TYPES");class $h{get(r,o=li){if(o===li){const u=new Error(`NullInjectorError: No provider for ${Ze(r)}!`);throw u.name="NullInjectorError",u}return o}}function Eu(...n){return{\u0275providers:Yu(0,n),\u0275fromNgModule:!0}}function Yu(n,...r){const o=[],u=new Set;let y;return ec(r,w=>{const P=w;eu(P,o,[],u)&&(y||(y=[]),y.push(P))}),void 0!==y&&Qp(y,o),o}function Qp(n,r){for(let o=0;o<n.length;o++){const{providers:y}=n[o];wu(y,w=>{r.push(w)})}}function eu(n,r,o,u){if(!(n=Me(n)))return!1;let y=null,w=ir(n);const P=!w&&wt(n);if(w||P){if(P&&!P.standalone)return!1;y=n}else{const X=n.ngModule;if(w=ir(X),!w)return!1;y=X}const j=u.has(y);if(P){if(j)return!1;if(u.add(y),P.dependencies){const X="function"==typeof P.dependencies?P.dependencies():P.dependencies;for(const ye of X)eu(ye,r,o,u)}}else{if(!w)return!1;{if(null!=w.imports&&!j){let ye;u.add(y);try{ec(w.imports,Le=>{eu(Le,r,o,u)&&(ye||(ye=[]),ye.push(Le))})}finally{}void 0!==ye&&Qp(ye,r)}if(!j){const ye=Hs(y)||(()=>new y);r.push({provide:y,useFactory:ye,deps:rt},{provide:Bh,useValue:y,multi:!0},{provide:Za,useValue:()=>Ht(y),multi:!0})}const X=w.providers;null==X||j||wu(X,Le=>{r.push(Le)})}}return y!==n&&void 0!==n.providers}function wu(n,r){for(let o of n)pt(o)&&(o=o.\u0275providers),Array.isArray(o)?wu(o,r):r(o)}const Lm=Se({provide:String,useValue:Se});function Ac(n){return null!==n&&"object"==typeof n&&Lm in n}function Iu(n){return"function"==typeof n}const Uf=new Yo("Set Injector scope."),jf={},zf={};let Hf;function Wf(){return void 0===Hf&&(Hf=new $h),Hf}class Cu{}class eg extends Cu{get destroyed(){return this._destroyed}constructor(r,o,u,y){super(),this.parent=o,this.source=u,this.scopes=y,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,ng(r,P=>this.processProvider(P)),this.records.set(Zp,Zu(void 0,this)),y.has("environment")&&this.records.set(Cu,Zu(void 0,this));const w=this.records.get(Uf);null!=w&&"string"==typeof w.value&&this.scopes.add(w.value),this.injectorDefTypes=new Set(this.get(Bh.multi,rt,Rn.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const r of this._ngOnDestroyHooks)r.ngOnDestroy();for(const r of this._onDestroyHooks)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(r){return this.assertNotDestroyed(),this._onDestroyHooks.push(r),()=>this.removeOnDestroy(r)}runInContext(r){this.assertNotDestroyed();const o=Ne(this),u=ar(void 0);try{return r()}finally{Ne(o),ar(u)}}get(r,o=li,u=Rn.Default){if(this.assertNotDestroyed(),r.hasOwnProperty(yn))return r[yn](this);u=jr(u);const y=Ne(this),w=ar(void 0);try{if(!(u&Rn.SkipSelf)){let j=this.records.get(r);if(void 0===j){const X=function pv(n){return"function"==typeof n||"object"==typeof n&&n instanceof Yo}(r)&&qn(r);j=X&&this.injectableDefInScope(X)?Zu(Gf(r),jf):null,this.records.set(r,j)}if(null!=j)return this.hydrate(r,j)}return(u&Rn.Self?Wf():this.parent).get(r,o=u&Rn.Optional&&o===li?null:o)}catch(P){if("NullInjectorError"===P.name){if((P[di]=P[di]||[]).unshift(Ze(r)),y)throw P;return function Ae(n,r,o,u){const y=n[di];throw r[Ei]&&y.unshift(r[Ei]),n.message=function ie(n,r,o,u=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.slice(2):n;let y=Ze(r);if(Array.isArray(r))y=r.map(Ze).join(" -> ");else if("object"==typeof r){let w=[];for(let P in r)if(r.hasOwnProperty(P)){let j=r[P];w.push(P+":"+("string"==typeof j?JSON.stringify(j):Ze(j)))}y=`{${w.join(", ")}}`}return`${o}${u?"("+u+")":""}[${y}]: ${n.replace(br,"\n  ")}`}("\n"+n.message,y,o,u),n.ngTokenPath=y,n[di]=null,n}(P,r,"R3InjectorError",this.source)}throw P}finally{ar(w),Ne(y)}}resolveInjectorInitializers(){const r=Ne(this),o=ar(void 0);try{const u=this.get(Za.multi,rt,Rn.Self);for(const y of u)y()}finally{Ne(r),ar(o)}}toString(){const r=[],o=this.records;for(const u of o.keys())r.push(Ze(u));return`R3Injector[${r.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new $e(205,!1)}processProvider(r){let o=Iu(r=Me(r))?r:Me(r&&r.provide);const u=function Vh(n){return Ac(n)?Zu(void 0,n.useValue):Zu(tg(n),jf)}(r);if(Iu(r)||!0!==r.multi)this.records.get(o);else{let y=this.records.get(o);y||(y=Zu(void 0,jf,!0),y.factory=()=>kr(y.multi),this.records.set(o,y)),o=r,y.multi.push(r)}this.records.set(o,u)}hydrate(r,o){return o.value===jf&&(o.value=zf,o.value=o.factory()),"object"==typeof o.value&&o.value&&function $m(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(o.value)&&this._ngOnDestroyHooks.add(o.value),o.value}injectableDefInScope(r){if(!r.providedIn)return!1;const o=Me(r.providedIn);return"string"==typeof o?"any"===o||this.scopes.has(o):this.injectorDefTypes.has(o)}removeOnDestroy(r){const o=this._onDestroyHooks.indexOf(r);-1!==o&&this._onDestroyHooks.splice(o,1)}}function Gf(n){const r=qn(n),o=null!==r?r.factory:Hs(n);if(null!==o)return o;if(n instanceof Yo)throw new $e(204,!1);if(n instanceof Function)return function qu(n){const r=n.length;if(r>0)throw Pl(r,"?"),new $e(204,!1);const o=function un(n){return n&&(n[an]||n[$r])||null}(n);return null!==o?()=>o.factory(n):()=>new n}(n);throw new $e(204,!1)}function tg(n,r,o){let u;if(Iu(n)){const y=Me(n);return Hs(y)||Gf(y)}if(Ac(n))u=()=>Me(n.useValue);else if(function Bm(n){return!(!n||!n.useFactory)}(n))u=()=>n.useFactory(...kr(n.deps||[]));else if(function Jp(n){return!(!n||!n.useExisting)}(n))u=()=>Ht(Me(n.useExisting));else{const y=Me(n&&(n.useClass||n.provide));if(!function fv(n){return!!n.deps}(n))return Hs(y)||Gf(y);u=()=>new y(...kr(n.deps))}return u}function Zu(n,r,o=!1){return{factory:n,value:r,multi:o?[]:void 0}}function ng(n,r){for(const o of n)Array.isArray(o)?ng(o,r):o&&pt(o)?ng(o.\u0275providers,r):r(o)}const Kf=new Yo("AppId",{providedIn:"root",factory:()=>ul}),ul="ng",Vm=new Yo("Platform Initializer"),Um=new Yo("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),gv=new Yo("AnimationModuleType"),rg=new Yo("CSP nonce",{providedIn:"root",factory:()=>{var n,r;return(null===(n=function Xc(){return void 0!==Gu?Gu:typeof document<"u"?document:void 0}().body)||void 0===n||null===(r=n.querySelector("[ngCspNonce]"))||void 0===r?void 0:r.getAttribute("ngCspNonce"))||null}});let Ju=(n,r)=>null;function jh(n,r){return Ju(n,r)}class Wh{}class Gh{}class Gm{resolveComponentFactory(r){throw function hg(n){const r=Error(`No component factory found for ${Ze(n)}.`);return r.ngComponent=n,r}(r)}}let Kh=(()=>{class n{}return n.NULL=new Gm,n})();function Km(){return tu(Ds(),Gn())}function tu(n,r){return new td(rn(n,r))}let td=(()=>{class n{constructor(o){this.nativeElement=o}}return n.__NG_ELEMENT_ID__=Km,n})();function vv(n){return n instanceof td?n.nativeElement:n}class Ym{}let wl=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>function _v(){const n=Gn(),o=Hr(Ds().index,n);return(oo(o)?o:n)[qr]}(),n})(),qm=(()=>{class n{}return n.\u0275prov=vt({token:n,providedIn:"root",factory:()=>null}),n})();class Yh{constructor(r){this.full=r,this.major=r.split(".")[0],this.minor=r.split(".")[1],this.patch=r.split(".").slice(2).join(".")}}const Hd=new Yh("16.0.0"),qh={};function Wd(n){for(;n;){n[Lr]|=64;const r=Bu(n);if(to(n)&&!r)return n;n=r}return null}function fg(n){return n.ngOriginalError}class Gd{constructor(){this._console=console}handleError(r){const o=this._findOriginalError(r);this._console.error("ERROR",r),o&&this._console.error("ORIGINAL ERROR",o)}_findOriginalError(r){let o=r&&fg(r);for(;o&&fg(o);)o=fg(o);return o||null}}const nd=new Yo("",{providedIn:"root",factory:()=>!1});function xc(n){return n instanceof Function?n():n}class Xh extends ci{constructor(){super(...arguments),this.consumerAllowSignalWrites=!1,this._lView=null}set lView(r){this._lView=r}onConsumerDependencyMayHaveChanged(){Wd(this._lView)}onProducerUpdateValueVersion(){}get hasReadASignal(){return this.hasProducers}runInContext(r,o,u){const y=Mn(this);this.trackingVersion++;try{r(o,u)}finally{Mn(y)}}destroy(){this.trackingVersion++}}let rd=null;function vg(){var n;return null!==(n=rd)&&void 0!==n||(rd=new Xh),rd}function id(n,r){var o;return null!==(o=n[r])&&void 0!==o?o:vg()}function rp(n,r){const o=vg();o.hasReadASignal&&(n[r]=rd,o.lView=n,rd=new Xh)}const Ks={};function ny(n){_g(Bn(),Gn(),ss()+n,!1)}function _g(n,r,o,u){if(!u)if(3==(3&r[Lr])){const w=n.preOrderCheckHooks;null!==w&&V(r,w,o)}else{const w=n.preOrderHooks;null!==w&&H(r,w,0,o)}Qi(o)}const ip={\u0275\u0275defineInjectable:vt,\u0275\u0275defineInjector:vn,\u0275\u0275inject:Ht,\u0275\u0275invalidFactoryDep:function En(n){throw new $e(202,!1)},resolveForwardRef:Me};const bg=Se({provide:String,useValue:Se});function ry(n){return void 0!==n.useClass}function iy(n){return void 0!==n.useFactory}const Ig=wa("Injectable",void 0,void 0,void 0,(n,r)=>function wv(n,r){let o=null,u=null;n.hasOwnProperty(an)||Object.defineProperty(n,an,{get:()=>(null===o&&(o=da().compileInjectable(ip,`ng:///${n.name}/\u0275prov.js`,function sy(n,r){const o=r||{providedIn:null},u={name:n.name,type:n,typeArgumentCount:0,providedIn:o.providedIn};return(ry(o)||iy(o))&&void 0!==o.deps&&(u.deps=bd(o.deps)),ry(o)?u.useClass=o.useClass:function Eg(n){return bg in n}(o)?u.useValue=o.useValue:iy(o)?u.useFactory=o.useFactory:function wg(n){return void 0!==n.useExisting}(o)&&(u.useExisting=o.useExisting),u}(n,r))),o)}),n.hasOwnProperty(Wn)||Object.defineProperty(n,Wn,{get:()=>{if(null===u){const y=da();u=y.compileFactory(ip,`ng:///${n.name}/\u0275fac.js`,{name:n.name,type:n,typeArgumentCount:0,deps:$c(n),target:y.FactoryTarget.Injectable})}return u},configurable:!0})}(n,r));function sp(n,r=null,o=null,u){const y=op(n,r,o,u);return y.resolveInjectorInitializers(),y}function op(n,r=null,o=null,u,y=new Set){const w=[o||rt,Eu(n)];return u=u||("object"==typeof n?void 0:Ze(n)),new eg(w,r||Wf(),u||null,y)}let $l=(()=>{class n{static create(o,u){if(Array.isArray(o))return sp({name:""},u,o,"");{var y;const w=null!==(y=o.name)&&void 0!==y?y:"";return sp({name:w},o.parent,o.providers,w)}}}return n.THROW_IF_NOT_FOUND=li,n.NULL=new $h,n.\u0275prov=vt({token:n,providedIn:"any",factory:()=>Ht(Zp)}),n.__NG_ELEMENT_ID__=-1,n})();function Vl(n,r=Rn.Default){const o=Gn();return null===o?Ht(n,r):dr(Ds(),o,Me(n),r)}function ap(){throw new Error("invalid")}function nu(n,r,o,u,y,w,P,j,X,ye,Le){const ot=r.blueprint.slice();return ot[Mr]=y,ot[Lr]=140|u,(null!==ye||n&&2048&n[Lr])&&(ot[Lr]|=2048),Q(ot),ot[Br]=ot[ki]=n,ot[Jr]=o,ot[ji]=P||n&&n[ji],ot[qr]=j||n&&n[qr],ot[Ur]=X||n&&n[Ur]||null,ot[is]=w,ot[Eo]=function fh(){return Fs++}(),ot[As]=Le,ot[_o]=ye,ot[es]=2==r.type?n[es]:ot,ot}function sd(n,r,o,u,y){let w=n.data[r];if(null===w)w=function Tu(n,r,o,u,y){const w=aa(),P=Ja(),X=n.data[r]=function uy(n,r,o,u,y,w){return{type:o,index:u,insertBeforeIndex:null,injectorIndex:r?r.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:y,attrs:w,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:r,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,P?w:w&&w.parent,o,r,u,y);return null===n.firstChild&&(n.firstChild=X),null!==w&&(P?null==w.child&&null!==X.parent&&(w.child=X):null===w.next&&(w.next=X,X.prev=w)),X}(n,r,o,u,y),function Al(){return hr.lFrame.inI18n}()&&(w.flags|=32);else if(64&w.type){w.type=o,w.value=u,w.attrs=y;const P=function Fa(){const n=hr.lFrame,r=n.currentTNode;return n.isParent?r:r.parent}();w.injectorIndex=null===P?-1:P.injectorIndex}return _a(w,!0),w}function Qh(n,r,o,u){if(0===o)return-1;const y=r.length;for(let w=0;w<o;w++)r.push(u),n.blueprint.push(u),n.data.push(null);return y}function oy(n,r,o,u,y){const w=id(r,qo),P=ss(),j=2&u;try{if(Qi(-1),j&&r.length>xi&&_g(n,r,xi,!1),oe(j?2:0,y),j)w.runInContext(o,u,y);else{const ye=Mn(null);try{o(u,y)}finally{Mn(ye)}}}finally{j&&null===r[qo]&&rp(r,qo),Qi(P),oe(j?3:1,y)}}function Jh(n,r,o){if(Go(r)){const u=Mn(null);try{const w=r.directiveEnd;for(let P=r.directiveStart;P<w;P++){const j=n.data[P];j.contentQueries&&j.contentQueries(1,o[P],P)}}finally{Mn(u)}}}function ef(n,r,o){lo()&&(function Pg(n,r,o,u){const y=o.directiveStart,w=o.directiveEnd;xo(o)&&function Lg(n,r,o){const u=rn(r,n),P=dp(n,nu(n,lp(o),null,o.onPush?64:16,u,r,null,n[ji].rendererFactory.createRenderer(u,o),null,null,null));n[r.index]=P}(r,o,n.data[y+o.componentOffset]),n.firstCreatePass||At(o,r),Ia(u,r);const P=o.initialInputs;for(let j=y;j<w;j++){const X=n.data[j],ye=Vr(r,n,j,o);Ia(ye,r),null!==P&&Bg(0,j-y,ye,X,0,P),Co(X)&&(Hr(o.index,r)[Jr]=Vr(r,n,j,o))}}(n,r,o,rn(o,r)),64==(64&o.flags)&&Rg(n,r,o))}function tf(n,r,o=rn){const u=r.localNames;if(null!==u){let y=r.index+1;for(let w=0;w<u.length;w+=2){const P=u[w+1],j=-1===P?o(r,n):n[P];n[y++]=j}}}function lp(n){const r=n.tView;return null===r||r.incompleteFirstPass?n.tView=Cg(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):r}function Cg(n,r,o,u,y,w,P,j,X,ye,Le){const ot=xi+u,zt=ot+y,hn=function Iv(n,r){const o=[];for(let u=0;u<r;u++)o.push(u<n?null:Ks);return o}(ot,zt),jn="function"==typeof ye?ye():ye;return hn[Tn]={type:n,blueprint:hn,template:o,queries:null,viewQuery:j,declTNode:r,data:hn.slice().fill(null,ot),bindingStartIndex:ot,expandoStartIndex:zt,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof w?w():w,pipeRegistry:"function"==typeof P?P():P,firstChild:null,schemas:X,consts:jn,incompleteFirstPass:!1,ssrId:Le}}let ay=n=>null;function Tg(n,r,o,u){for(let y in n)if(n.hasOwnProperty(y)){o=null===o?{}:o;const w=n[y];null===u?Ag(o,r,y,w):u.hasOwnProperty(y)&&Ag(o,r,u[y],w)}return o}function Ag(n,r,o,u){n.hasOwnProperty(o)?n[o].push(r,u):n[o]=[r,u]}function Ul(n,r,o,u,y,w,P,j){const X=rn(r,o);let Le,ye=r.inputs;!j&&null!=ye&&(Le=ye[u])?(Vg(n,o,Le,u,y),xo(r)&&function Tv(n,r){const o=Hr(r,n);16&o[Lr]||(o[Lr]|=64)}(o,r.index)):3&r.type&&(u=function Sv(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(u),y=null!=P?P(y,r.value||"",u):y,w.setProperty(X,u,y))}function nf(n,r,o,u){if(lo()){const y=null===u?null:{"":-1},w=function fy(n,r){const o=n.directiveRegistry;let u=null,y=null;if(o)for(let P=0;P<o.length;P++){const j=o[P];if(Os(r,j.selectors,!1))if(u||(u=[]),Co(j))if(null!==j.findHostDirectiveDefs){const X=[];y=y||new Map,j.findHostDirectiveDefs(j,X,y),u.unshift(...X,j),kg(n,r,X.length)}else u.unshift(j),kg(n,r,0);else{var w;y=y||new Map,null===(w=j.findHostDirectiveDefs)||void 0===w||w.call(j,j,u,y),u.push(j)}}return null===u?null:[u,y]}(n,o);let P,j;null===w?P=j=null:[P,j]=w,null!==P&&hy(n,r,o,P,y,j),y&&function Ng(n,r,o){if(r){const u=n.localNames=[];for(let y=0;y<r.length;y+=2){const w=o[r[y+1]];if(null==w)throw new $e(-301,!1);u.push(r[y],w)}}}(o,u,y)}o.mergedAttrs=Yn(o.mergedAttrs,o.attrs)}function hy(n,r,o,u,y,w){for(let ot=0;ot<u.length;ot++)tr(At(o,r),n,u[ot].type);!function Fg(n,r,o){n.flags|=1,n.directiveStart=r,n.directiveEnd=r+o,n.providerIndexes=r}(o,n.data.length,u.length);for(let ot=0;ot<u.length;ot++){const zt=u[ot];zt.providersResolver&&zt.providersResolver(zt)}let P=!1,j=!1,X=Qh(n,r,u.length,null);for(let ot=0;ot<u.length;ot++){const zt=u[ot];o.mergedAttrs=Yn(o.mergedAttrs,zt.hostAttrs),Mv(n,o,r,X,zt),xv(X,zt,y),null!==zt.contentQueries&&(o.flags|=4),(null!==zt.hostBindings||null!==zt.hostAttrs||0!==zt.hostVars)&&(o.flags|=64);const hn=zt.type.prototype;var ye,Le;!P&&(hn.ngOnChanges||hn.ngOnInit||hn.ngDoCheck)&&((null!==(ye=n.preOrderHooks)&&void 0!==ye?ye:n.preOrderHooks=[]).push(o.index),P=!0),j||!hn.ngOnChanges&&!hn.ngDoCheck||((null!==(Le=n.preOrderCheckHooks)&&void 0!==Le?Le:n.preOrderCheckHooks=[]).push(o.index),j=!0),X++}!function Dv(n,r,o){const y=r.directiveEnd,w=n.data,P=r.attrs,j=[];let X=null,ye=null;for(let Le=r.directiveStart;Le<y;Le++){const ot=w[Le],zt=o?o.get(ot):null,jn=zt?zt.outputs:null;X=Tg(ot.inputs,Le,X,zt?zt.inputs:null),ye=Tg(ot.outputs,Le,ye,jn);const Cr=null===X||null===P||Fi(r)?null:Yd(X,Le,P);j.push(Cr)}null!==X&&(X.hasOwnProperty("class")&&(r.flags|=8),X.hasOwnProperty("style")&&(r.flags|=16)),r.initialInputs=j,r.inputs=X,r.outputs=ye}(n,o,w)}function Rg(n,r,o){const u=o.directiveStart,y=o.directiveEnd,w=o.index,P=function Ba(){return hr.lFrame.currentDirectiveIndex}();try{Qi(w);for(let j=u;j<y;j++){const X=n.data[j],ye=r[j];as(j),(null!==X.hostBindings||0!==X.hostVars||null!==X.hostAttrs)&&Og(X,ye)}}finally{Qi(-1),as(P)}}function Og(n,r){null!==n.hostBindings&&n.hostBindings(1,r)}function kg(n,r,o){var u;r.componentOffset=o,(null!==(u=n.components)&&void 0!==u?u:n.components=[]).push(r.index)}function xv(n,r,o){if(o){if(r.exportAs)for(let u=0;u<r.exportAs.length;u++)o[r.exportAs[u]]=n;Co(r)&&(o[""]=n)}}function Mv(n,r,o,u,y){n.data[u]=y;const w=y.factory||(y.factory=Hs(y.type)),P=new Yt(w,Co(y),Vl);n.blueprint[u]=P,o[u]=P,function Mg(n,r,o,u,y){const w=y.hostBindings;if(w){let P=n.hostBindingOpCodes;null===P&&(P=n.hostBindingOpCodes=[]);const j=~r.index;(function Av(n){let r=n.length;for(;r>0;){const o=n[--r];if("number"==typeof o&&o<0)return o}return 0})(P)!=j&&P.push(j),P.push(o,u,w)}}(n,r,u,Qh(n,o,y.hostVars,Ks),y)}function Mc(n,r,o,u,y,w){const P=rn(n,r);!function rf(n,r,o,u,y,w,P){if(null==w)n.removeAttribute(r,y,o);else{const j=null==P?Mt(w):P(w,u||"",y);n.setAttribute(r,y,j,o)}}(r[qr],P,w,n.value,o,u,y)}function Bg(n,r,o,u,y,w){const P=w[r];if(null!==P)for(let j=0;j<P.length;)cp(u,o,P[j++],P[j++],P[j++])}function cp(n,r,o,u,y){const w=Mn(null);try{null!==n.setInput?n.setInput(r,y,o,u):r[u]=y}finally{Mn(w)}}function Yd(n,r,o){let u=null,y=0;for(;y<o.length;){const w=o[y];if(0!==w)if(5!==w){if("number"==typeof w)break;if(n.hasOwnProperty(w)){null===u&&(u=[]);const P=n[w];for(let j=0;j<P.length;j+=2)if(P[j]===r){u.push(w,P[j+1],o[y+1]);break}}y+=2}else y+=2;else y+=4}return u}function $g(n,r,o,u){return[n,!0,!1,r,null,0,u,o,null,null,null]}function up(n,r){const o=n.contentQueries;if(null!==o)for(let u=0;u<o.length;u+=2){const w=o[u+1];if(-1!==w){const P=n.data[w];gr(o[u]),P.contentQueries(2,r[w],w)}}}function dp(n,r){return n[so]?n[_s][Ts]=r:n[so]=r,n[_s]=r,r}function sf(n,r,o){gr(0);const u=Mn(null);try{r(n,o)}finally{Mn(u)}}function hp(n){return n[vo]||(n[vo]=[])}function py(n){return n.cleanup||(n.cleanup=[])}function gy(n,r){const o=n[Ur],u=o?o.get(Gd,null):null;u&&u.handleError(r)}function Vg(n,r,o,u,y){for(let w=0;w<o.length;){const P=o[w++],j=o[w++];cp(n.data[P],r[P],u,j,y)}}function fc(n,r,o){const u=Wt(r,n);!function _h(n,r,o){n.setValue(r,o)}(n[qr],u,o)}function Pv(n,r){const o=Hr(r,n),u=o[Tn];!function Ug(n,r){for(let o=r.length;o<n.blueprint.length;o++)r.push(n.blueprint[o])}(u,o);const y=o[Mr];null!==y&&null===o[As]&&(o[As]=jh(y,o[Ur])),jg(u,o,o[Jr])}function jg(n,r,o){xa(r);try{const u=n.viewQuery;null!==u&&sf(1,u,o);const y=n.template;null!==y&&oy(n,r,y,1,o),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&up(n,r),n.staticViewQueries&&sf(2,n.viewQuery,o);const w=n.components;null!==w&&function zg(n,r){for(let o=0;o<r.length;o++)Pv(n,r[o])}(r,w)}catch(u){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),u}finally{r[Lr]&=-5,yr()}}let pp=(()=>{class n{constructor(){this.all=new Set,this.queue=new Map}create(o,u,y){const w=typeof Zone>"u"?null:Zone.current,P=new Da(o,ye=>{this.all.has(ye)&&this.queue.set(ye,w)},y);let j;this.all.add(P),P.notify();const X=()=>{var ye;P.cleanup(),null===(ye=j)||void 0===ye||ye(),this.all.delete(P),this.queue.delete(P)};return j=null==u?void 0:u.onDestroy(X),{destroy:X}}flush(){if(0!==this.queue.size)for(const[o,u]of this.queue)this.queue.delete(o),u?u.run(()=>o.run()):o.run()}get isQueueEmpty(){return 0===this.queue.size}}return n.\u0275prov=vt({token:n,providedIn:"root",factory:()=>new n}),n})();function gp(n,r,o){let u=o?n.styles:null,y=o?n.classes:null,w=0;if(null!==r)for(let P=0;P<r.length;P++){const j=r[P];"number"==typeof j?w=j:1==w?y=Fe(y,j):2==w&&(u=Fe(u,j+": "+r[++P]+";"))}o?n.styles=u:n.stylesWithoutHost=u,o?n.classes=y:n.classesWithoutHost=y}function af(n,r,o,u,y=!1){for(;null!==o;){const w=r[o.index];if(null!==w&&u.push(at(w)),Ni(w)){for(let j=fs;j<w.length;j++){const X=w[j],ye=X[Tn].firstChild;null!==ye&&af(X[Tn],X,ye,u)}w[Bs]!==w[Mr]&&u.push(w[Bs])}const P=o.type;if(8&P)af(n,r,o.child,u);else if(32&P){const j=fu(o,r);let X;for(;X=j();)u.push(X)}else if(16&P){const j=kf(r,o);if(Array.isArray(j))u.push(...j);else{const X=Bu(r[es]);af(X[Tn],X,j,u,!0)}}o=y?o.projectionNext:o.next}return u}function qd(n,r,o,u=!0){const y=r[ji].rendererFactory;y.begin&&y.begin();try{Zd(n,r,n.template,o)}catch(j){throw u&&gy(r,j),j}finally{var P;y.end&&y.end(),null===(P=r[ji].effectManager)||void 0===P||P.flush()}}function Zd(n,r,o,u){var y;const w=r[Lr];if(256!=(256&w)){null===(y=r[ji].effectManager)||void 0===y||y.flush(),xa(r);try{Q(r),function ll(n){return hr.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==o&&oy(n,r,o,2,u);const j=3==(3&w);if(j){const Le=n.preOrderCheckHooks;null!==Le&&V(r,Le,null)}else{const Le=n.preOrderHooks;null!==Le&&H(r,Le,0,null),R(r,0)}if(function kv(n){for(let r=Id(n);null!==r;r=Ec(r)){if(!r[Ri])continue;const o=r[Io];for(let u=0;u<o.length;u++){Pe(o[u])}}}(r),function Gg(n){for(let r=Id(n);null!==r;r=Ec(r))for(let o=fs;o<r.length;o++){const u=r[o],y=u[Tn];Gs(u)&&Zd(y,u,y.template,u[Jr])}}(r),null!==n.contentQueries&&up(n,r),j){const Le=n.contentCheckHooks;null!==Le&&V(r,Le)}else{const Le=n.contentHooks;null!==Le&&H(r,Le,1),R(r,1)}!function Kd(n,r){const o=n.hostBindingOpCodes;if(null===o)return;const u=id(r,bs);try{for(let y=0;y<o.length;y++){const w=o[y];if(w<0)Qi(~w);else{const P=w,j=o[++y],X=o[++y];ti(j,P),u.runInContext(X,2,r[P])}}}finally{null===r[bs]&&rp(r,bs),Qi(-1)}}(n,r);const X=n.components;null!==X&&function Yg(n,r){for(let o=0;o<r.length;o++)lf(n,r[o])}(r,X);const ye=n.viewQuery;if(null!==ye&&sf(2,ye,u),j){const Le=n.viewCheckHooks;null!==Le&&V(r,Le)}else{const Le=n.viewHooks;null!==Le&&H(r,Le,2),R(r,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),r[Lr]&=-73,_t(r)}finally{yr()}}}function lf(n,r){const o=Hr(r,n);if(Gs(o)){const u=o[Tn];80&o[Lr]?Zd(u,o,u.template,o[Jr]):o[Ao]>0&&Kg(o)}}function Kg(n){for(let u=Id(n);null!==u;u=Ec(u))for(let y=fs;y<u.length;y++){const w=u[y];if(Gs(w))if(1024&w[Lr]){const P=w[Tn];Zd(P,w,P.template,w[Jr])}else w[Ao]>0&&Kg(w)}const o=n[Tn].components;if(null!==o)for(let u=0;u<o.length;u++){const y=Hr(o[u],n);Gs(y)&&y[Ao]>0&&Kg(y)}}class Xd{get rootNodes(){const r=this._lView,o=r[Tn];return af(o,r,o.firstChild,[])}constructor(r,o){this._lView=r,this._cdRefInjectingView=o,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Jr]}set context(r){this._lView[Jr]=r}get destroyed(){return 256==(256&this._lView[Lr])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const r=this._lView[Br];if(Ni(r)){const o=r[Ys],u=o?o.indexOf(this):-1;u>-1&&(Uu(r,u),fl(o,u))}this._attachedToViewContainer=!1}Ih(this._lView[Tn],this._lView)}onDestroy(r){!function Pn(n,r){if(256==(256&n[Lr]))throw new $e(911,!1);null===n[wo]&&(n[wo]=[]),n[wo].push(r)}(this._lView,r)}markForCheck(){Wd(this._cdRefInjectingView||this._lView)}detach(){this._lView[Lr]&=-129}reattach(){this._lView[Lr]|=128}detectChanges(){qd(this._lView[Tn],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new $e(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Dl(n,r){Hu(n,r,r[qr],2,null,null)}(this._lView[Tn],this._lView)}attachToAppRef(r){if(this._attachedToViewContainer)throw new $e(902,!1);this._appRef=r}}class Qd extends Xd{constructor(r){super(r),this._view=r}detectChanges(){const r=this._view;qd(r[Tn],r,r[Jr],!1)}checkNoChanges(){}get context(){return null}}class qg extends Kh{constructor(r){super(),this.ngModule=r}resolveComponentFactory(r){const o=wt(r);return new uf(o,this.ngModule)}}function cf(n){const r=[];for(let o in n)n.hasOwnProperty(o)&&r.push({propName:n[o],templateName:o});return r}class Fv{constructor(r,o){this.injector=r,this.parentInjector=o}get(r,o,u){u=jr(u);const y=this.injector.get(r,qh,u);return y!==qh||o===qh?y:this.parentInjector.get(r,o,u)}}class uf extends Gh{get inputs(){return cf(this.componentDef.inputs)}get outputs(){return cf(this.componentDef.outputs)}constructor(r,o){super(),this.componentDef=r,this.ngModule=o,this.componentType=r.type,this.selector=function Qs(n){return n.map(zi).join(",")}(r.selectors),this.ngContentSelectors=r.ngContentSelectors?r.ngContentSelectors:[],this.isBoundToModule=!!o}create(r,o,u,y){var w;let P=(y=y||this.ngModule)instanceof Cu?y:null===(w=y)||void 0===w?void 0:w.injector;P&&null!==this.componentDef.getStandaloneInjector&&(P=this.componentDef.getStandaloneInjector(P)||P);const j=P?new Fv(r,P):r,X=j.get(Ym,null);if(null===X)throw new $e(407,!1);const ot={rendererFactory:X,sanitizer:j.get(qm,null),effectManager:j.get(pp,null)},zt=X.createRenderer(null,this.componentDef),hn=this.componentDef.selectors[0][0]||"div",jn=u?function Dg(n,r,o,u){const w=u.get(nd,!1)||o===Ke.ShadowDom,P=n.selectRootElement(r,w);return function Sg(n){ay(n)}(P),P}(zt,u,this.componentDef.encapsulation,j):pu(zt,hn,function Nv(n){const r=n.toLowerCase();return"svg"===r?"svg":"math"===r?"math":null}(hn)),Cr=this.componentDef.onPush?576:528,Wr=Cg(0,null,null,1,0,null,null,null,null,null,null),_i=nu(null,Wr,null,Cr,null,null,ot,zt,j,null,null);let cr,Ls;xa(_i);try{const io=this.componentDef;let Qo,yc=null;io.findHostDirectiveDefs?(Qo=[],yc=new Map,io.findHostDirectiveDefs(io,Qo,yc),Qo.push(io)):Qo=[io];const ZE=function Xg(n,r){const o=n[Tn],u=xi;return n[u]=r,sd(o,u,2,"#host",null)}(_i,jn),AD=function Qg(n,r,o,u,y,w,P){const j=y[Tn];!function Jg(n,r,o,u){for(const y of n)r.mergedAttrs=Yn(r.mergedAttrs,y.hostAttrs);null!==r.mergedAttrs&&(gp(r,r.mergedAttrs,!0),null!==o&&Ph(u,o,r))}(u,n,r,P);let X=null;null!==r&&(X=jh(r,y[Ur]));const ye=w.rendererFactory.createRenderer(r,o),Le=nu(y,lp(o),null,o.onPush?64:16,y[n.index],n,w,ye,null,null,X);return j.firstCreatePass&&kg(j,n,u.length-1),dp(y,Le),y[n.index]=Le}(ZE,jn,io,Qo,_i,ot,zt);Ls=sr(Wr,xi),jn&&function em(n,r,o,u){if(u)Bt(n,o,["ng-version",Hd.full]);else{const{attrs:y,classes:w}=function Js(n){const r=[],o=[];let u=1,y=2;for(;u<n.length;){let w=n[u];if("string"==typeof w)2===y?""!==w&&r.push(w,n[++u]):8===y&&o.push(w);else{if(!Yr(y))break;y=w}u++}return{attrs:r,classes:o}}(r.selectors[0]);y&&Bt(n,o,y),w&&w.length>0&&Dc(n,o,w.join(" "))}}(zt,io,jn,u),void 0!==o&&function tm(n,r,o){const u=n.projection=[];for(let y=0;y<r.length;y++){const w=o[y];u.push(null!=w?Array.from(w):null)}}(Ls,this.ngContentSelectors,o),cr=function yy(n,r,o,u,y,w){const P=Ds(),j=y[Tn],X=rn(P,y);hy(j,y,P,o,null,u);for(let Le=0;Le<o.length;Le++)Ia(Vr(y,j,P.directiveStart+Le,P),y);Rg(j,y,P),X&&Ia(X,y);const ye=Vr(y,j,P.directiveStart+P.componentOffset,P);if(n[Jr]=y[Jr]=ye,null!==w)for(const Le of w)Le(ye,r);return Jh(j,P,n),ye}(AD,io,Qo,yc,_i,[mp]),jg(Wr,_i,null)}finally{yr()}return new Lv(this.componentType,cr,tu(Ls,_i),_i,Ls)}}class Lv extends Wh{constructor(r,o,u,y,w){super(),this.location=u,this._rootLView=y,this._tNode=w,this.previousInputValues=null,this.instance=o,this.hostView=this.changeDetectorRef=new Qd(y),this.componentType=r}setInput(r,o){const u=this._tNode.inputs;let y;if(null!==u&&(y=u[r])){var w;if(null!==(w=this.previousInputValues)&&void 0!==w||(this.previousInputValues=new Map),this.previousInputValues.has(r)&&Object.is(this.previousInputValues.get(r),o))return;const P=this._rootLView;Vg(P[Tn],P,y,r,o),this.previousInputValues.set(r,o),Wd(Hr(this._tNode.index,P))}}get injector(){return new Ns(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(r){this.hostView.onDestroy(r)}}function mp(){const n=Ds();$o(Gn()[Tn],n)}function vp(n){let r=function yp(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),o=!0;const u=[n];for(;r;){let y;if(Co(n))y=r.\u0275cmp||r.\u0275dir;else{if(r.\u0275cmp)throw new $e(903,!1);y=r.\u0275dir}if(y){if(o){u.push(y);const P=n;P.inputs=bp(n.inputs),P.declaredInputs=bp(n.declaredInputs),P.outputs=bp(n.outputs);const j=y.hostBindings;j&&Jd(n,j);const X=y.viewQuery,ye=y.contentQueries;if(X&&nm(n,X),ye&&vy(n,ye),Re(n.inputs,y.inputs),Re(n.declaredInputs,y.declaredInputs),Re(n.outputs,y.outputs),Co(y)&&y.data.animation){const Le=n.data;Le.animation=(Le.animation||[]).concat(y.data.animation)}}const w=y.features;if(w)for(let P=0;P<w.length;P++){const j=w[P];j&&j.ngInherit&&j(n),j===vp&&(o=!1)}}r=Object.getPrototypeOf(r)}!function _p(n){let r=0,o=null;for(let u=n.length-1;u>=0;u--){const y=n[u];y.hostVars=r+=y.hostVars,y.hostAttrs=Yn(y.hostAttrs,o=Yn(o,y.hostAttrs))}}(u)}function bp(n){return n===xt?{}:n===rt?[]:n}function nm(n,r){const o=n.viewQuery;n.viewQuery=o?(u,y)=>{r(u,y),o(u,y)}:r}function vy(n,r){const o=n.contentQueries;n.contentQueries=o?(u,y,w)=>{r(u,y,w),o(u,y,w)}:r}function Jd(n,r){const o=n.hostBindings;n.hostBindings=o?(u,y)=>{r(u,y),o(u,y)}:r}function Ep(n){return!!df(n)&&(Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n)}function df(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function sl(n,r,o){return!Object.is(n[r],o)&&(n[r]=o,!0)}function od(n,r,o,u){const y=Gn();return sl(y,$i(),r)&&(Bn(),Mc(Gi(),y,n,r,o,u)),od}function fa(n,r,o,u){return sl(n,$i(),o)?r+Mt(o)+u:Ks}function za(n,r,o,u,y,w){const j=function ro(n,r,o,u){const y=sl(n,r,o);return sl(n,r+1,u)||y}(n,function Bo(){return hr.lFrame.bindingIndex}(),o,y);return la(2),j?r+Mt(o)+u+Mt(y)+w:Ks}function dm(n,r,o,u,y,w,P,j){const X=Gn(),ye=Bn(),Le=n+xi,ot=ye.firstCreatePass?function ud(n,r,o,u,y,w,P,j,X){const ye=r.consts,Le=sd(r,n,4,P||null,de(ye,j));nf(r,o,Le,de(ye,X)),$o(r,Le);const ot=Le.tView=Cg(2,Le,u,y,w,r.directiveRegistry,r.pipeRegistry,null,r.schemas,ye,null);return null!==r.queries&&(r.queries.template(r,Le),ot.queries=r.queries.embeddedTView(Le)),Le}(Le,ye,X,r,o,u,y,w,P):ye.data[Le];_a(ot,!1);const zt=hm(ye,X,ot,n);Ya()&&xh(ye,X,zt,ot),Ia(zt,X),dp(X,X[Le]=$g(zt,X,zt,ot)),bo(ot)&&ef(ye,X,ot),null!=P&&tf(X,ot,j)}let hm=function Dp(n,r,o,u){return Xo(!0),r[qr].createComment("")};function mf(n){return ri(function ta(){return hr.lFrame.contextLView}(),xi+n)}function Tp(n,r,o){const u=Gn();return sl(u,$i(),r)&&Ul(Bn(),Gi(),u,n,r,u[qr],o,!1),Tp}function dd(n,r,o,u,y){const P=y?"class":"style";Vg(n,o,r.inputs[P],P,u)}function hd(n,r,o,u){const y=Gn(),w=Bn(),P=xi+n,j=y[qr],X=w.firstCreatePass?function Qv(n,r,o,u,y,w){const P=r.consts,X=sd(r,n,2,u,de(P,y));return nf(r,o,X,de(P,w)),null!==X.attrs&&gp(X,X.attrs,!1),null!==X.mergedAttrs&&gp(X,X.mergedAttrs,!0),null!==r.queries&&r.queries.elementStart(r,X),X}(P,w,y,r,o,u):w.data[P],ye=oh(w,y,X,j,r,n);y[P]=ye;const Le=bo(X);return _a(X,!0),Ph(j,ye,X),32!=(32&X.flags)&&Ya()&&xh(w,y,ye,X),0===function Li(){return hr.lFrame.elementDepthCount}()&&Ia(ye,y),function ds(){hr.lFrame.elementDepthCount++}(),Le&&(ef(w,y,X),Jh(w,X,y)),null!==u&&tf(y,X),hd}function yf(){let n=Ds();Ja()?al():(n=n.parent,_a(n,!1));const r=n;(function Bi(n){return hr.skipHydrationRootTNode===n})(r)&&function si(){hr.skipHydrationRootTNode=null}(),function Ps(){hr.lFrame.elementDepthCount--}();const o=Bn();return o.firstCreatePass&&($o(o,n),Go(n)&&o.queries.elementEnd(n)),null!=r.classesWithoutHost&&function ko(n){return 0!=(8&n.flags)}(r)&&dd(o,r,Gn(),r.classesWithoutHost,!0),null!=r.stylesWithoutHost&&function m(n){return 0!=(16&n.flags)}(r)&&dd(o,r,Gn(),r.stylesWithoutHost,!1),yf}function vf(n,r,o,u){return hd(n,r,o,u),yf(),vf}let oh=(n,r,o,u,y,w)=>(Xo(!0),pu(u,y,function ga(){return hr.lFrame.currentNamespace}()));function Ou(n,r,o){const u=Gn(),y=Bn(),w=n+xi,P=y.firstCreatePass?function e_(n,r,o,u,y){const w=r.consts,P=de(w,u),j=sd(r,n,8,"ng-container",P);return null!==P&&gp(j,P,!0),nf(r,o,j,de(w,y)),null!==r.queries&&r.queries.elementStart(r,j),j}(w,y,u,r,o):y.data[w];_a(P,!0);const j=Ap(y,u,P,n);return u[w]=j,Ya()&&xh(y,u,j,P),Ia(j,u),bo(P)&&(ef(y,u,P),Jh(y,P,u)),null!=o&&tf(u,P),Ou}function ky(){let n=Ds();const r=Bn();return Ja()?al():(n=n.parent,_a(n,!1)),r.firstCreatePass&&($o(r,n),Go(n)&&r.queries.elementEnd(n)),ky}function Ny(n,r,o){return Ou(n,r,o),ky(),Ny}let Ap=(n,r,o,u)=>(Xo(!0),wc(r[qr],""));function Fy(){return Gn()}function fm(n){return!!n&&"function"==typeof n.then}function bf(n){return!!n&&"function"==typeof n.subscribe}function pm(n,r,o,u){const y=Gn(),w=Bn(),P=Ds();return function By(n,r,o,u,y,w,P){const j=bo(u),ye=n.firstCreatePass&&py(n),Le=r[Jr],ot=hp(r);let zt=!0;if(3&u.type||P){const Cr=rn(u,r),Wr=P?P(Cr):Cr,_i=ot.length,cr=P?io=>P(at(io[u.index])):u.index;let Ls=null;if(!P&&j&&(Ls=function Mp(n,r,o,u){const y=n.cleanup;if(null!=y)for(let w=0;w<y.length-1;w+=2){const P=y[w];if(P===o&&y[w+1]===u){const j=r[vo],X=y[w+2];return j.length>X?j[X]:null}"string"==typeof P&&(w+=2)}return null}(n,r,y,u.index)),null!==Ls)(Ls.__ngLastListenerFn__||Ls).__ngNextListenerFn__=w,Ls.__ngLastListenerFn__=w,zt=!1;else{w=gm(u,r,Le,w,!1);const io=o.listen(Wr,y,w);ot.push(w,io),ye&&ye.push(y,cr,_i,_i+1)}}else w=gm(u,r,Le,w,!1);const hn=u.outputs;let jn;if(zt&&null!==hn&&(jn=hn[y])){const Cr=jn.length;if(Cr)for(let Wr=0;Wr<Cr;Wr+=2){const Qo=r[jn[Wr]][jn[Wr+1]].subscribe(w),yc=ot.length;ot.push(w,Qo),ye&&ye.push(y,u.index,yc,-(yc+1))}}}(w,y,y[qr],P,n,r,u),pm}function $y(n,r,o,u){try{return oe(6,r,o),!1!==o(u)}catch(y){return gy(n,y),!1}finally{oe(7,r,o)}}function gm(n,r,o,u,y){return function w(P){if(P===Function)return u;Wd(n.componentOffset>-1?Hr(n.index,r):r);let X=$y(r,o,u,P),ye=w.__ngNextListenerFn__;for(;ye;)X=$y(r,o,ye,P)&&X,ye=ye.__ngNextListenerFn__;return y&&!1===X&&(P.preventDefault(),P.returnValue=!1),X}}function mm(n=1){return function Vi(n){return(hr.lFrame.contextLView=function Wi(n,r){for(;n>0;)r=r[ki],n--;return r}(n,hr.lFrame.contextLView))[Jr]}(n)}function Vy(n,r){let o=null;const u=function Xs(n){const r=n.attrs;if(null!=r){const o=r.indexOf(5);if(!(1&o))return r[o+1]}return null}(n);for(let y=0;y<r.length;y++){const w=r[y];if("*"!==w){if(null===u?Os(n,w,!0):yo(u,w))return y}else o=y}return o}function ym(n){const r=Gn()[es][is];if(!r.projection){const u=r.projection=Pl(n?n.length:1,null),y=u.slice();let w=r.child;for(;null!==w;){const P=n?Vy(w,n):0;null!==P&&(y[P]?y[P].projectionNext=w:u[P]=w,y[P]=w),w=w.next}}}function vm(n,r=0,o){const u=Gn(),y=Bn(),w=sd(y,xi+n,16,null,o||null);null===w.projection&&(w.projection=r),al(),(!u[As]||function Hn(){return null!==hr.skipHydrationRootTNode}())&&32!=(32&w.flags)&&function Oa(n,r,o){Md(r[qr],0,r,o,Dd(n,o,r),Sh(o.parent||r[is],o,r))}(y,u,w)}function Pp(n,r,o){return Ef(n,"",r,"",o),Pp}function Ef(n,r,o,u,y){const w=Gn(),P=fa(w,r,o,u);return P!==Ks&&Ul(Bn(),Gi(),w,n,P,w[qr],y,!1),Ef}function Rc(n,r){return n<<17|r<<2}function ql(n){return n>>17&32767}function _m(n){return 2|n}function pd(n){return(131068&n)>>2}function Oc(n,r){return-131069&n|r<<2}function bm(n){return 1|n}function zy(n,r,o,u,y){const w=n[o+1],P=null===r;let j=u?ql(w):pd(w),X=!1;for(;0!==j&&(!1===X||P);){const Le=n[j+1];u_(n[j],r)&&(X=!0,n[j+1]=u?bm(Le):_m(Le)),j=u?ql(Le):pd(Le)}X&&(n[o+1]=u?_m(w):bm(w))}function u_(n,r){return null===n||null==r||(Array.isArray(n)?n[1]:n)===r||!(!Array.isArray(n)||"string"!=typeof r)&&Fo(n,r)>=0}function Em(n,r){return function dl(n,r,o,u){const y=Gn(),w=Bn(),P=la(2);w.firstUpdatePass&&function qy(n,r,o,u){const y=n.data;if(null===y[o+1]){const w=y[ss()],P=function Yy(n,r){return r>=n.expandoStartIndex}(n,o);(function G(n,r){return 0!=(n.flags&(r?8:16))})(w,u)&&null===r&&!P&&(r=!1),r=function y_(n,r,o,u){const y=function Wa(n){const r=hr.lFrame.currentDirectiveIndex;return-1===r?null:n[r]}(n);let w=u?r.residualClasses:r.residualStyles;if(null===y)0===(u?r.classBindings:r.styleBindings)&&(o=Op(o=Zy(null,n,r,o,u),r.attrs,u),w=null);else{const P=r.directiveStylingLast;if(-1===P||n[P]!==y)if(o=Zy(y,n,r,o,u),null===w){let X=function v_(n,r,o){const u=o?r.classBindings:r.styleBindings;if(0!==pd(u))return n[ql(u)]}(n,r,u);void 0!==X&&Array.isArray(X)&&(X=Zy(null,n,r,X[1],u),X=Op(X,r.attrs,u),function __(n,r,o,u){n[ql(o?r.classBindings:r.styleBindings)]=u}(n,r,u,X))}else w=function b_(n,r,o){let u;const y=r.directiveEnd;for(let w=1+r.directiveStylingLast;w<y;w++)u=Op(u,n[w].hostAttrs,o);return Op(u,r.attrs,o)}(n,r,u)}return void 0!==w&&(u?r.residualClasses=w:r.residualStyles=w),o}(y,w,r,u),function l_(n,r,o,u,y,w){let P=w?r.classBindings:r.styleBindings,j=ql(P),X=pd(P);n[u]=o;let Le,ye=!1;if(Array.isArray(o)?(Le=o[1],(null===Le||Fo(o,Le)>0)&&(ye=!0)):Le=o,y)if(0!==X){const zt=ql(n[j+1]);n[u+1]=Rc(zt,j),0!==zt&&(n[zt+1]=Oc(n[zt+1],u)),n[j+1]=function o_(n,r){return 131071&n|r<<17}(n[j+1],u)}else n[u+1]=Rc(j,0),0!==j&&(n[j+1]=Oc(n[j+1],u)),j=u;else n[u+1]=Rc(X,0),0===j?j=u:n[X+1]=Oc(n[X+1],u),X=u;ye&&(n[u+1]=_m(n[u+1])),zy(n,Le,u,!0),zy(n,Le,u,!1),function c_(n,r,o,u,y){const w=y?n.residualClasses:n.residualStyles;null!=w&&"string"==typeof r&&Fo(w,r)>=0&&(o[u+1]=bm(o[u+1]))}(r,Le,n,u,w),P=Rc(j,X),w?r.classBindings=P:r.styleBindings=P}(y,w,r,o,P,u)}}(w,n,P,u),r!==Ks&&sl(y,P,r)&&function a(n,r,o,u,y,w,P,j){if(!(3&r.type))return;const X=n.data,ye=X[j+1],Le=function a_(n){return 1==(1&n)}(ye)?h(X,r,o,y,pd(ye),P):void 0;b(Le)||(b(w)||function fd(n){return 2==(2&n)}(ye)&&(w=h(X,null,o,y,j,P)),function ka(n,r,o,u,y){if(r)y?n.addClass(o,u):n.removeClass(o,u);else{let w=-1===u.indexOf("-")?void 0:Ua.DashCase;null==y?n.removeStyle(o,u,w):("string"==typeof y&&y.endsWith("!important")&&(y=y.slice(0,-10),w|=Ua.Important),n.setStyle(o,u,y,w))}}(u,P,Wt(ss(),o),y,w))}(w,w.data[ss()],y,y[qr],n,y[P+1]=function T(n,r){return null==n||""===n||("string"==typeof r?n+=r:"object"==typeof n&&(n=Ze(hc(n)))),n}(r,o),u,P)}(n,r,null,!0),Em}function Zy(n,r,o,u,y){let w=null;const P=o.directiveEnd;let j=o.directiveStylingLast;for(-1===j?j=o.directiveStart:j++;j<P&&(w=r[j],u=Op(u,w.hostAttrs,y),w!==n);)j++;return null!==n&&(o.directiveStylingLast=j),u}function Op(n,r,o){const u=o?1:2;let y=-1;if(null!==r)for(let w=0;w<r.length;w++){const P=r[w];"number"==typeof P?y=P:y===u&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),Wo(n,P,!!o||r[++w]))}return void 0===n?null:n}function h(n,r,o,u,y,w){const P=null===r;let j;for(;y>0;){const X=n[y],ye=Array.isArray(X),Le=ye?X[1]:X,ot=null===Le;let zt=o[y+1];zt===Ks&&(zt=ot?rt:void 0);let hn=ot?tc(zt,u):Le===u?zt:void 0;if(ye&&!b(hn)&&(hn=tc(X,u)),b(hn)&&(j=hn,P))return j;const jn=n[y+1];y=P?ql(jn):pd(jn)}if(null!==r){let X=w?r.residualClasses:r.residualStyles;null!=X&&(j=tc(X,u))}return j}function b(n){return void 0!==n}function ae(n,r=""){const o=Gn(),u=Bn(),y=n+xi,w=u.firstCreatePass?sd(u,y,1,r,null):u.data[y],P=we(u,o,w,r,n);o[y]=P,Ya()&&xh(u,o,P,w),_a(w,!1)}let we=(n,r,o,u,y)=>(Xo(!0),function Vu(n,r){return n.createText(r)}(r[qr],u));function bn(n){return $n("",n,""),bn}function $n(n,r,o){const u=Gn(),y=fa(u,n,r,o);return y!==Ks&&fc(u,ss(),y),$n}function Dr(n,r,o,u,y){const w=Gn(),P=za(w,n,r,o,u,y);return P!==Ks&&fc(w,ss(),P),Dr}const If=void 0;var fw=["en",[["a","p"],["AM","PM"],If],[["AM","PM"],If,If],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],If,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],If,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",If,"{1} 'at' {0}",If],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function hw(n){const o=Math.floor(Math.abs(n)),u=n.toString().replace(/^[^.]*\.?/,"").length;return 1===o&&0===u?1:5}];let kp={};function E_(n){const r=function pw(n){return n.toLowerCase().replace(/_/g,"-")}(n);let o=V0(r);if(o)return o;const u=r.split("-")[0];if(o=V0(u),o)return o;if("en"===u)return fw;throw new $e(701,!1)}function $0(n){return E_(n)[ws.PluralCase]}function V0(n){return n in kp||(kp[n]=lr.ng&&lr.ng.common&&lr.ng.common.locales&&lr.ng.common.locales[n]),kp[n]}var ws=(()=>((ws=ws||{})[ws.LocaleId=0]="LocaleId",ws[ws.DayPeriodsFormat=1]="DayPeriodsFormat",ws[ws.DayPeriodsStandalone=2]="DayPeriodsStandalone",ws[ws.DaysFormat=3]="DaysFormat",ws[ws.DaysStandalone=4]="DaysStandalone",ws[ws.MonthsFormat=5]="MonthsFormat",ws[ws.MonthsStandalone=6]="MonthsStandalone",ws[ws.Eras=7]="Eras",ws[ws.FirstDayOfWeek=8]="FirstDayOfWeek",ws[ws.WeekendRange=9]="WeekendRange",ws[ws.DateFormat=10]="DateFormat",ws[ws.TimeFormat=11]="TimeFormat",ws[ws.DateTimeFormat=12]="DateTimeFormat",ws[ws.NumberSymbols=13]="NumberSymbols",ws[ws.NumberFormats=14]="NumberFormats",ws[ws.CurrencyCode=15]="CurrencyCode",ws[ws.CurrencySymbol=16]="CurrencySymbol",ws[ws.CurrencyName=17]="CurrencyName",ws[ws.Currencies=18]="Currencies",ws[ws.Directionality=19]="Directionality",ws[ws.PluralCase=20]="PluralCase",ws[ws.ExtraData=21]="ExtraData",ws))();const Np="en-US";let U0=Np;function C_(n,r,o,u,y){if(n=Me(n),Array.isArray(n))for(let w=0;w<n.length;w++)C_(n[w],r,o,u,y);else{const w=Bn(),P=Gn();let j=Iu(n)?n:Me(n.provide),X=tg(n);const ye=Ds(),Le=1048575&ye.providerIndexes,ot=ye.directiveStart,zt=ye.providerIndexes>>20;if(Iu(n)||!n.multi){const hn=new Yt(X,y,Vl),jn=S_(j,r,y?Le:Le+zt,ot);-1===jn?(tr(At(ye,P),w,j),D_(w,n,r.length),r.push(j),ye.directiveStart++,ye.directiveEnd++,y&&(ye.providerIndexes+=1048576),o.push(hn),P.push(hn)):(o[jn]=hn,P[jn]=hn)}else{const hn=S_(j,r,Le+zt,ot),jn=S_(j,r,Le,Le+zt),Wr=jn>=0&&o[jn];if(y&&!Wr||!y&&!(hn>=0&&o[hn])){tr(At(ye,P),w,j);const _i=function dI(n,r,o,u,y){const w=new Yt(n,o,Vl);return w.multi=[],w.index=r,w.componentProviders=0,hb(w,y,u&&!o),w}(y?uI:cI,o.length,y,u,X);!y&&Wr&&(o[jn].providerFactory=_i),D_(w,n,r.length,0),r.push(j),ye.directiveStart++,ye.directiveEnd++,y&&(ye.providerIndexes+=1048576),o.push(_i),P.push(_i)}else D_(w,n,hn>-1?hn:jn,hb(o[y?jn:hn],X,!y&&u));!y&&u&&Wr&&o[jn].componentProviders++}}}function D_(n,r,o,u){const y=Iu(r),w=function hv(n){return!!n.useClass}(r);if(y||w){const X=(w?Me(r.useClass):r).prototype.ngOnDestroy;if(X){const ye=n.destroyHooks||(n.destroyHooks=[]);if(!y&&r.multi){const Le=ye.indexOf(o);-1===Le?ye.push(o,[u,X]):ye[Le+1].push(u,X)}else ye.push(o,X)}}}function hb(n,r,o){return o&&n.componentProviders++,n.multi.push(r)-1}function S_(n,r,o,u){for(let y=o;y<u;y++)if(r[y]===n)return y;return-1}function cI(n,r,o,u){return T_(this.multi,[])}function uI(n,r,o,u){const y=this.multi;let w;if(this.providerFactory){const P=this.providerFactory.componentProviders,j=Vr(o,o[Tn],this.providerFactory.index,u);w=j.slice(0,P),T_(y,w);for(let X=P;X<j.length;X++)w.push(j[X])}else w=[],T_(y,w);return w}function T_(n,r){for(let o=0;o<n.length;o++)r.push((0,n[o])());return r}function fb(n,r=[]){return o=>{o.providersResolver=(u,y)=>function lI(n,r,o){const u=Bn();if(u.firstCreatePass){const y=Co(n);C_(o,u.data,u.blueprint,y,!0),C_(r,u.data,u.blueprint,y,!1)}}(u,y?y(n):n,r)}}class Fp{}class pb{}function hI(n,r){return new A_(n,null!=r?r:null,[])}class A_ extends Fp{constructor(r,o,u){super(),this._parent=o,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new qg(this);const y=Un(r);this._bootstrapComponents=xc(y.bootstrap),this._r3Injector=op(r,o,[{provide:Fp,useValue:this},{provide:Kh,useValue:this.componentFactoryResolver},...u],Ze(r),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(r)}get injector(){return this._r3Injector}destroy(){const r=this._r3Injector;!r.destroyed&&r.destroy(),this.destroyCbs.forEach(o=>o()),this.destroyCbs=null}onDestroy(r){this.destroyCbs.push(r)}}class x_ extends pb{constructor(r){super(),this.moduleType=r}create(r){return new A_(this.moduleType,r,[])}}class gb extends Fp{constructor(r){super(),this.componentFactoryResolver=new qg(this),this.instance=null;const o=new eg([...r.providers,{provide:Fp,useValue:this},{provide:Kh,useValue:this.componentFactoryResolver}],r.parent||Wf(),r.debugName,new Set(["environment"]));this.injector=o,r.runEnvironmentInitializers&&o.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(r){this.injector.onDestroy(r)}}function mb(n,r,o=null){return new gb({providers:n,parent:r,debugName:o,runEnvironmentInitializers:!0}).injector}let pI=(()=>{class n{constructor(o){this._injector=o,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(o){if(!o.standalone)return null;if(!this.cachedInjectors.has(o.id)){const u=Yu(0,o.type),y=u.length>0?mb([u],this._injector,`Standalone[${o.type.name}]`):null;this.cachedInjectors.set(o.id,y)}return this.cachedInjectors.get(o.id)}ngOnDestroy(){try{for(const o of this.cachedInjectors.values())null!==o&&o.destroy()}finally{this.cachedInjectors.clear()}}}return n.\u0275prov=vt({token:n,providedIn:"environment",factory:()=>new n(Ht(Cu))}),n})();function yb(n){n.getStandaloneInjector=r=>r.get(pI).getOrCreateStandaloneInjector(n)}function Cb(n,r,o,u,y,w){const P=r+o;return sl(n,P,y)?function pc(n,r,o){return n[r]=o}(n,P+1,w?u.call(w,y):u(y)):function Tm(n,r){const o=n[r];return o===Ks?void 0:o}(n,P+1)}function xb(n,r){const o=Bn();let u;const y=n+xi;var w;o.firstCreatePass?(u=function OI(n,r){if(r)for(let o=r.length-1;o>=0;o--){const u=r[o];if(n===u.name)return u}}(r,o.pipeRegistry),o.data[y]=u,u.onDestroy&&(null!==(w=o.destroyHooks)&&void 0!==w?w:o.destroyHooks=[]).push(y,u.onDestroy)):u=o.data[y];const P=u.factory||(u.factory=Hs(u.type)),j=ar(Vl);try{const X=k(!1),ye=P();return k(X),function Sp(n,r,o,u){o>=n.data.length&&(n.data[o]=null,n.blueprint[o]=null),r[o]=u}(o,Gn(),y,ye),ye}finally{ar(j)}}function Mb(n,r,o){const u=n+xi,y=Gn(),w=ri(y,u);return function Am(n,r){return n[Tn].data[r].pure}(y,u)?Cb(y,function ks(){const n=hr.lFrame;let r=n.bindingRootIndex;return-1===r&&(r=n.bindingRootIndex=n.tView.bindingStartIndex),r}(),r,w.transform,o,w):w.transform(o)}function P_(n){return r=>{setTimeout(n,void 0,r)}}const Nu=class BI extends d.x{constructor(r=!1){super(),this.__isAsync=r}emit(r){super.next(r)}subscribe(r,o,u){let y=r,w=o||(()=>null),P=u;if(r&&"object"==typeof r){var j,X,ye;const ot=r;y=null===(j=ot.next)||void 0===j?void 0:j.bind(ot),w=null===(X=ot.error)||void 0===X?void 0:X.bind(ot),P=null===(ye=ot.complete)||void 0===ye?void 0:ye.bind(ot)}this.__isAsync&&(w=P_(w),y&&(y=P_(y)),P&&(P=P_(P)));const Le=super.subscribe({next:y,error:w,complete:P});return r instanceof E.w0&&r.add(Le),Le}};function $I(){return this._results[Symbol.iterator]()}class R_{get changes(){return this._changes||(this._changes=new Nu)}constructor(r=!1){this._emitDistinctChangesOnly=r,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const o=R_.prototype;o[Symbol.iterator]||(o[Symbol.iterator]=$I)}get(r){return this._results[r]}map(r){return this._results.map(r)}filter(r){return this._results.filter(r)}find(r){return this._results.find(r)}reduce(r,o){return this._results.reduce(r,o)}forEach(r){this._results.forEach(r)}some(r){return this._results.some(r)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(r,o){const u=this;u.dirty=!1;const y=function Ga(n){return n.flat(Number.POSITIVE_INFINITY)}(r);(this._changesDetected=!function cl(n,r,o){if(n.length!==r.length)return!1;for(let u=0;u<n.length;u++){let y=n[u],w=r[u];if(o&&(y=o(y),w=o(w)),w!==y)return!1}return!0}(u._results,y,o))&&(u._results=y,u.length=y.length,u.last=y[this.length-1],u.first=y[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let xm=(()=>{class n{}return n.__NG_ELEMENT_ID__=jI,n})();const VI=xm,UI=class extends VI{constructor(r,o,u){super(),this._declarationLView=r,this._declarationTContainer=o,this.elementRef=u}get ssrId(){var r;return(null===(r=this._declarationTContainer.tView)||void 0===r?void 0:r.ssrId)||null}createEmbeddedView(r,o){return this.createEmbeddedViewImpl(r,o,null)}createEmbeddedViewImpl(r,o,u){const y=this._declarationTContainer.tView,w=nu(this._declarationLView,y,r,16,null,y.declTNode,null,null,null,o||null,u||null);w[eo]=this._declarationLView[this._declarationTContainer.index];const j=this._declarationLView[zs];return null!==j&&(w[zs]=j.createEmbeddedView(y)),jg(y,w,r),new Xd(w)}};function jI(){return rv(Ds(),Gn())}function rv(n,r){return 4&n.type?new UI(r,n,tu(n,r)):null}let iv=(()=>{class n{}return n.__NG_ELEMENT_ID__=qI,n})();function qI(){return Fb(Ds(),Gn())}const ZI=iv,kb=class extends ZI{constructor(r,o,u){super(),this._lContainer=r,this._hostTNode=o,this._hostLView=u}get element(){return tu(this._hostTNode,this._hostLView)}get injector(){return new Ns(this._hostTNode,this._hostLView)}get parentInjector(){const r=wn(this._hostTNode,this._hostLView);if(c(r)){const o=I(r,this._hostLView),u=f(r);return new Ns(o[Tn].data[u+8],o)}return new Ns(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(r){const o=Nb(this._lContainer);return null!==o&&o[r]||null}get length(){return this._lContainer.length-fs}createEmbeddedView(r,o,u){let y,w;"number"==typeof u?y=u:null!=u&&(y=u.index,w=u.injector);const j=r.createEmbeddedViewImpl(o||{},w,null);return this.insertImpl(j,y,!1),j}createComponent(r,o,u,y,w){var P,X;const ye=r&&!hl(r);let Le;if(ye)Le=o;else{const _i=o||{};Le=_i.index,u=_i.injector,y=_i.projectableNodes,w=_i.environmentInjector||_i.ngModuleRef}const ot=ye?r:new uf(wt(r)),zt=u||this.parentInjector;if(!w&&null==ot.ngModule){const cr=(ye?zt:this.parentInjector).get(Cu,null);cr&&(w=cr)}const hn=wt(null!==(P=ot.componentType)&&void 0!==P?P:{}),jn=(null==hn?void 0:hn.id,null),Cr=null!==(X=null==jn?void 0:jn.firstChild)&&void 0!==X?X:null,Wr=ot.create(zt,y,Cr,w);return this.insertImpl(Wr.hostView,Le,!!jn),Wr}insert(r,o){return this.insertImpl(r,o,!1)}insertImpl(r,o,u){const y=r._lView,w=y[Tn];if(function K(n){return Ni(n[Br])}(y)){const X=this.indexOf(r);if(-1!==X)this.detach(X);else{const ye=y[Br],Le=new kb(ye,ye[is],ye[Br]);Le.detach(Le.indexOf(r))}}const P=this._adjustIndex(o),j=this._lContainer;if(function wh(n,r,o,u){const y=fs+u,w=o.length;u>0&&(o[y-1][Ts]=r),u<w-fs?(r[Ts]=o[y],vc(o,fs+u,r)):(o.push(r),r[Ts]=null),r[Br]=o;const P=r[eo];null!==P&&o!==P&&function Ra(n,r){const o=n[Io];r[es]!==r[Br][Br][es]&&(n[Ri]=!0),null===o?n[Io]=[r]:o.push(r)}(P,r);const j=r[zs];null!==j&&j.insertView(n),r[Lr]|=128}(w,y,j,P),!u){const X=Mh(P,j),ye=y[qr],Le=qc(ye,j[Bs]);null!==Le&&function Eh(n,r,o,u,y,w){u[Mr]=y,u[is]=r,Hu(n,u,o,1,y,w)}(w,j[is],ye,y,Le,X)}return r.attachToViewContainerRef(),vc(k_(j),P,r),r}move(r,o){return this.insert(r,o)}indexOf(r){const o=Nb(this._lContainer);return null!==o?o.indexOf(r):-1}remove(r){const o=this._adjustIndex(r,-1),u=Uu(this._lContainer,o);u&&(fl(k_(this._lContainer),o),Ih(u[Tn],u))}detach(r){const o=this._adjustIndex(r,-1),u=Uu(this._lContainer,o);return u&&null!=fl(k_(this._lContainer),o)?new Xd(u):null}_adjustIndex(r,o=0){return null==r?this.length+o:r}};function Nb(n){return n[Ys]}function k_(n){return n[Ys]||(n[Ys]=[])}function Fb(n,r){let o;const u=r[n.index];return Ni(u)?o=u:(o=$g(u,r,null,n),r[n.index]=o,dp(r,o)),Lb(o,r,n,u),new kb(o,n,r)}let Lb=function Bb(n,r,o,u){if(n[Bs])return;let y;y=8&o.type?at(u):function XI(n,r){const o=n[qr],u=o.createComment(""),y=rn(r,n);return Ic(o,qc(o,y),u,function Rf(n,r){return n.nextSibling(r)}(o,y),!1),u}(r,o),n[Bs]=y};class N_{constructor(r){this.queryList=r,this.matches=null}clone(){return new N_(this.queryList)}setDirty(){this.queryList.setDirty()}}class F_{constructor(r=[]){this.queries=r}createEmbeddedView(r){const o=r.queries;if(null!==o){const u=null!==r.contentQueries?r.contentQueries[0]:o.length,y=[];for(let w=0;w<u;w++){const P=o.getByIndex(w);y.push(this.queries[P.indexInDeclarationView].clone())}return new F_(y)}return null}insertView(r){this.dirtyQueriesWithMatches(r)}detachView(r){this.dirtyQueriesWithMatches(r)}dirtyQueriesWithMatches(r){for(let o=0;o<this.queries.length;o++)null!==Kb(r,o).matches&&this.queries[o].setDirty()}}class $b{constructor(r,o,u=null){this.predicate=r,this.flags=o,this.read=u}}class L_{constructor(r=[]){this.queries=r}elementStart(r,o){for(let u=0;u<this.queries.length;u++)this.queries[u].elementStart(r,o)}elementEnd(r){for(let o=0;o<this.queries.length;o++)this.queries[o].elementEnd(r)}embeddedTView(r){let o=null;for(let u=0;u<this.length;u++){const y=null!==o?o.length:0,w=this.getByIndex(u).embeddedTView(r,y);w&&(w.indexInDeclarationView=u,null!==o?o.push(w):o=[w])}return null!==o?new L_(o):null}template(r,o){for(let u=0;u<this.queries.length;u++)this.queries[u].template(r,o)}getByIndex(r){return this.queries[r]}get length(){return this.queries.length}track(r){this.queries.push(r)}}class B_{constructor(r,o=-1){this.metadata=r,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=o}elementStart(r,o){this.isApplyingToNode(o)&&this.matchTNode(r,o)}elementEnd(r){this._declarationNodeIndex===r.index&&(this._appliesToNextNode=!1)}template(r,o){this.elementStart(r,o)}embeddedTView(r,o){return this.isApplyingToNode(r)?(this.crossesNgTemplate=!0,this.addMatch(-r.index,o),new B_(this.metadata)):null}isApplyingToNode(r){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const o=this._declarationNodeIndex;let u=r.parent;for(;null!==u&&8&u.type&&u.index!==o;)u=u.parent;return o===(null!==u?u.index:-1)}return this._appliesToNextNode}matchTNode(r,o){const u=this.metadata.predicate;if(Array.isArray(u))for(let y=0;y<u.length;y++){const w=u[y];this.matchTNodeWithReadOption(r,o,eC(o,w)),this.matchTNodeWithReadOption(r,o,Oi(o,r,w,!1,!1))}else u===xm?4&o.type&&this.matchTNodeWithReadOption(r,o,-1):this.matchTNodeWithReadOption(r,o,Oi(o,r,u,!1,!1))}matchTNodeWithReadOption(r,o,u){if(null!==u){const y=this.metadata.read;if(null!==y)if(y===td||y===iv||y===xm&&4&o.type)this.addMatch(o.index,-2);else{const w=Oi(o,r,y,!1,!1);null!==w&&this.addMatch(o.index,w)}else this.addMatch(o.index,u)}}addMatch(r,o){null===this.matches?this.matches=[r,o]:this.matches.push(r,o)}}function eC(n,r){const o=n.localNames;if(null!==o)for(let u=0;u<o.length;u+=2)if(o[u]===r)return o[u+1];return null}function nC(n,r,o,u){return-1===o?function tC(n,r){return 11&n.type?tu(n,r):4&n.type?rv(n,r):null}(r,n):-2===o?function rC(n,r,o){return o===td?tu(r,n):o===xm?rv(r,n):o===iv?Fb(r,n):void 0}(n,r,u):Vr(n,n[Tn],o,r)}function Vb(n,r,o,u){const y=r[zs].queries[u];if(null===y.matches){const w=n.data,P=o.matches,j=[];for(let X=0;X<P.length;X+=2){const ye=P[X];j.push(ye<0?null:nC(r,w[ye],P[X+1],o.metadata.read))}y.matches=j}return y.matches}function $_(n,r,o,u){const y=n.queries.getByIndex(o),w=y.matches;if(null!==w){const P=Vb(n,r,y,o);for(let j=0;j<w.length;j+=2){const X=w[j];if(X>0)u.push(P[j/2]);else{const ye=w[j+1],Le=r[-X];for(let ot=fs;ot<Le.length;ot++){const zt=Le[ot];zt[eo]===zt[Br]&&$_(zt[Tn],zt,ye,u)}if(null!==Le[Io]){const ot=Le[Io];for(let zt=0;zt<ot.length;zt++){const hn=ot[zt];$_(hn[Tn],hn,ye,u)}}}}}return u}function Ub(n){const r=Gn(),o=Bn(),u=gs();gr(u+1);const y=Kb(o,u);if(n.dirty&&function Ms(n){return 4==(4&n[Lr])}(r)===(2==(2&y.metadata.flags))){if(null===y.matches)n.reset([]);else{const w=y.crossesNgTemplate?$_(o,r,u,[]):Vb(o,r,y,u);n.reset(w,vv),n.notifyOnChanges()}return!0}return!1}function jb(n,r,o){const u=Bn();u.firstCreatePass&&(Gb(u,new $b(n,r,o),-1),2==(2&r)&&(u.staticViewQueries=!0)),Wb(u,Gn(),r)}function zb(n,r,o,u){const y=Bn();if(y.firstCreatePass){const w=Ds();Gb(y,new $b(r,o,u),w.index),function sC(n,r){const o=n.contentQueries||(n.contentQueries=[]);r!==(o.length?o[o.length-1]:-1)&&o.push(n.queries.length-1,r)}(y,n),2==(2&o)&&(y.staticContentQueries=!0)}Wb(y,Gn(),o)}function Hb(){return function iC(n,r){return n[zs].queries[r].queryList}(Gn(),gs())}function Wb(n,r,o){const u=new R_(4==(4&o));(function cy(n,r,o,u){const y=hp(r);y.push(o),n.firstCreatePass&&py(n).push(u,y.length-1)})(n,r,u,u.destroy),null===r[zs]&&(r[zs]=new F_),r[zs].queries.push(new N_(u))}function Gb(n,r,o){null===n.queries&&(n.queries=new L_),n.queries.track(new B_(r,o))}function Kb(n,r){return n.queries.getByIndex(r)}function V_(n){return!!Un(n)}const uE=new Yo("Application Initializer");let W_=(()=>{class n{constructor(){var o;this.initialized=!1,this.done=!1,this.donePromise=new Promise((u,y)=>{this.resolve=u,this.reject=y}),this.appInits=null!==(o=zn(uE,{optional:!0}))&&void 0!==o?o:[]}runInitializers(){if(this.initialized)return;const o=[];for(const y of this.appInits){const w=y();if(fm(w))o.push(w);else if(bf(w)){const P=new Promise((j,X)=>{w.subscribe({complete:j,error:X})});o.push(P)}}const u=()=>{this.done=!0,this.resolve()};Promise.all(o).then(()=>{u()}).catch(y=>{this.reject(y)}),0===o.length&&u(),this.initialized=!0}}return n.\u0275fac=function(o){return new(o||n)},n.\u0275prov=vt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),dE=(()=>{class n{log(o){console.log(o)}warn(o){console.warn(o)}}return n.\u0275fac=function(o){return new(o||n)},n.\u0275prov=vt({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const ov=new Yo("LocaleId",{providedIn:"root",factory:()=>zn(ov,Rn.Optional|Rn.SkipSelf)||function TC(){return typeof $localize<"u"&&$localize.locale||Np}()}),AC=new Yo("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class xC{constructor(r,o){this.ngModuleFactory=r,this.componentFactories=o}}let MC=(()=>{class n{compileModuleSync(o){return new x_(o)}compileModuleAsync(o){return Promise.resolve(this.compileModuleSync(o))}compileModuleAndAllComponentsSync(o){const u=this.compileModuleSync(o),w=xc(Un(o).declarations).reduce((P,j)=>{const X=wt(j);return X&&P.push(new uf(X)),P},[]);return new xC(u,w)}compileModuleAndAllComponentsAsync(o){return Promise.resolve(this.compileModuleAndAllComponentsSync(o))}clearCache(){}clearCacheFor(o){}getModuleId(o){}}return n.\u0275fac=function(o){return new(o||n)},n.\u0275prov=vt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const OC=(()=>Promise.resolve(0))();function G_(n){typeof Zone>"u"?OC.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}function pE(...n){}class Fl{constructor({enableLongStackTrace:r=!1,shouldCoalesceEventChangeDetection:o=!1,shouldCoalesceRunChangeDetection:u=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Nu(!1),this.onMicrotaskEmpty=new Nu(!1),this.onStable=new Nu(!1),this.onError=new Nu(!1),typeof Zone>"u")throw new $e(908,!1);Zone.assertZonePatched();const y=this;y._nesting=0,y._outer=y._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(y._inner=y._inner.fork(new Zone.TaskTrackingZoneSpec)),r&&Zone.longStackTraceZoneSpec&&(y._inner=y._inner.fork(Zone.longStackTraceZoneSpec)),y.shouldCoalesceEventChangeDetection=!u&&o,y.shouldCoalesceRunChangeDetection=u,y.lastRequestAnimationFrameId=-1,y.nativeRequestAnimationFrame=function kC(){let n=lr.requestAnimationFrame,r=lr.cancelAnimationFrame;if(typeof Zone<"u"&&n&&r){const o=n[Zone.__symbol__("OriginalDelegate")];o&&(n=o);const u=r[Zone.__symbol__("OriginalDelegate")];u&&(r=u)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:r}}().nativeRequestAnimationFrame,function LC(n){const r=()=>{!function FC(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(lr,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,Y_(n),n.isCheckStableRunning=!0,K_(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),Y_(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(o,u,y,w,P,j)=>{try{return gE(n),o.invokeTask(y,w,P,j)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===w.type||n.shouldCoalesceRunChangeDetection)&&r(),mE(n)}},onInvoke:(o,u,y,w,P,j,X)=>{try{return gE(n),o.invoke(y,w,P,j,X)}finally{n.shouldCoalesceRunChangeDetection&&r(),mE(n)}},onHasTask:(o,u,y,w)=>{o.hasTask(y,w),u===y&&("microTask"==w.change?(n._hasPendingMicrotasks=w.microTask,Y_(n),K_(n)):"macroTask"==w.change&&(n.hasPendingMacrotasks=w.macroTask))},onHandleError:(o,u,y,w)=>(o.handleError(y,w),n.runOutsideAngular(()=>n.onError.emit(w)),!1)})}(y)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Fl.isInAngularZone())throw new $e(909,!1)}static assertNotInAngularZone(){if(Fl.isInAngularZone())throw new $e(909,!1)}run(r,o,u){return this._inner.run(r,o,u)}runTask(r,o,u,y){const w=this._inner,P=w.scheduleEventTask("NgZoneEvent: "+y,r,NC,pE,pE);try{return w.runTask(P,o,u)}finally{w.cancelTask(P)}}runGuarded(r,o,u){return this._inner.runGuarded(r,o,u)}runOutsideAngular(r){return this._outer.run(r)}}const NC={};function K_(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function Y_(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function gE(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function mE(n){n._nesting--,K_(n)}class BC{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Nu,this.onMicrotaskEmpty=new Nu,this.onStable=new Nu,this.onError=new Nu}run(r,o,u){return r.apply(o,u)}runGuarded(r,o,u){return r.apply(o,u)}runOutsideAngular(r){return r()}runTask(r,o,u,y){return r.apply(o,u)}}const yE=new Yo("",{providedIn:"root",factory:vE});function vE(){const n=zn(Fl);let r=!0;const o=new be.y(y=>{r=n.isStable&&!n.hasPendingMacrotasks&&!n.hasPendingMicrotasks,n.runOutsideAngular(()=>{y.next(r),y.complete()})}),u=new be.y(y=>{let w;n.runOutsideAngular(()=>{w=n.onStable.subscribe(()=>{Fl.assertNotInAngularZone(),G_(()=>{!r&&!n.hasPendingMacrotasks&&!n.hasPendingMicrotasks&&(r=!0,y.next(!0))})})});const P=n.onUnstable.subscribe(()=>{Fl.assertInAngularZone(),r&&(r=!1,n.runOutsideAngular(()=>{y.next(!1)}))});return()=>{w.unsubscribe(),P.unsubscribe()}});return(0,ke.T)(o,u.pipe((0,qe.B)()))}const _E=new Yo(""),bE=new Yo("");let q_,$C=(()=>{class n{constructor(o,u,y){this._ngZone=o,this.registry=u,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,q_||(function VC(n){q_=n}(y),y.addToWindow(u)),this._watchAngularEvents(),o.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Fl.assertNotInAngularZone(),G_(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())G_(()=>{for(;0!==this._callbacks.length;){let o=this._callbacks.pop();clearTimeout(o.timeoutId),o.doneCb(this._didWork)}this._didWork=!1});else{let o=this.getPendingTasks();this._callbacks=this._callbacks.filter(u=>!u.updateCb||!u.updateCb(o)||(clearTimeout(u.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(o=>({source:o.source,creationLocation:o.creationLocation,data:o.data})):[]}addCallback(o,u,y){let w=-1;u&&u>0&&(w=setTimeout(()=>{this._callbacks=this._callbacks.filter(P=>P.timeoutId!==w),o(this._didWork,this.getPendingTasks())},u)),this._callbacks.push({doneCb:o,timeoutId:w,updateCb:y})}whenStable(o,u,y){if(y&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(o,u,y),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(o){this.registry.registerApplication(o,this)}unregisterApplication(o){this.registry.unregisterApplication(o)}findProviders(o,u,y){return[]}}return n.\u0275fac=function(o){return new(o||n)(Ht(Fl),Ht(EE),Ht(bE))},n.\u0275prov=vt({token:n,factory:n.\u0275fac}),n})(),EE=(()=>{class n{constructor(){this._applications=new Map}registerApplication(o,u){this._applications.set(o,u)}unregisterApplication(o){this._applications.delete(o)}unregisterAllApplications(){this._applications.clear()}getTestability(o){return this._applications.get(o)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(o,u=!0){var y,w;return null!==(y=null===(w=q_)||void 0===w?void 0:w.findTestabilityInTree(this,o,u))&&void 0!==y?y:null}}return n.\u0275fac=function(o){return new(o||n)},n.\u0275prov=vt({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})(),ch=null;const wE=new Yo("AllowMultipleToken"),Z_=new Yo("PlatformDestroyListeners"),X_=new Yo("appBootstrapListener");class zC{constructor(r,o){this.name=r,this.token=o}}function DE(n,r,o=[]){const u=`Platform: ${r}`,y=new Yo(u);return(w=[])=>{let P=Q_();if(!P||P.injector.get(wE,!1)){const j=[...o,...w,{provide:y,useValue:!0}];n?n(j):function HC(n){if(ch&&!ch.get(wE,!1))throw new $e(400,!1);(function IE(){!function wi(n){xs=n}(()=>{throw new $e(600,!1)})})(),ch=n;const r=n.get(TE);(function CE(n){const r=n.get(Vm,null);null==r||r.forEach(o=>o())})(n)}(function SE(n=[],r){return $l.create({name:r,providers:[{provide:Uf,useValue:"platform"},{provide:Z_,useValue:new Set([()=>ch=null])},...n]})}(j,u))}return function GC(n){const r=Q_();if(!r)throw new $e(401,!1);return r}()}}function Q_(){var n,r;return null!==(n=null===(r=ch)||void 0===r?void 0:r.get(TE))&&void 0!==n?n:null}let TE=(()=>{class n{constructor(o){this._injector=o,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(o,u){const y=function KC(n="zone.js",r){return"noop"===n?new BC:"zone.js"===n?new Fl(r):n}(null==u?void 0:u.ngZone,function AE(n){var r,o;return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:null!==(r=null==n?void 0:n.eventCoalescing)&&void 0!==r&&r,shouldCoalesceRunChangeDetection:null!==(o=null==n?void 0:n.runCoalescing)&&void 0!==o&&o}}({eventCoalescing:null==u?void 0:u.ngZoneEventCoalescing,runCoalescing:null==u?void 0:u.ngZoneRunCoalescing}));return y.run(()=>{const w=function fI(n,r,o){return new A_(n,r,o)}(o.moduleType,this.injector,function OE(n){return[{provide:Fl,useFactory:n},{provide:Za,multi:!0,useFactory:()=>{const r=zn(qC,{optional:!0});return()=>r.initialize()}},{provide:RE,useFactory:YC},{provide:yE,useFactory:vE}]}(()=>y)),P=w.injector.get(Gd,null);return y.runOutsideAngular(()=>{const j=y.onError.subscribe({next:X=>{P.handleError(X)}});w.onDestroy(()=>{av(this._modules,w),j.unsubscribe()})}),function xE(n,r,o){try{const u=o();return fm(u)?u.catch(y=>{throw r.runOutsideAngular(()=>n.handleError(y)),y}):u}catch(u){throw r.runOutsideAngular(()=>n.handleError(u)),u}}(P,y,()=>{const j=w.injector.get(W_);return j.runInitializers(),j.donePromise.then(()=>(function j0(n){Nt(n,"Expected localeId to be defined"),"string"==typeof n&&(U0=n.toLowerCase().replace(/_/g,"-"))}(w.injector.get(ov,Np)||Np),this._moduleDoBootstrap(w),w))})})}bootstrapModule(o,u=[]){const y=ME({},u);return function UC(n,r,o){const u=new x_(o);return Promise.resolve(u)}(0,0,o).then(w=>this.bootstrapModuleFactory(w,y))}_moduleDoBootstrap(o){const u=o.injector.get($p);if(o._bootstrapComponents.length>0)o._bootstrapComponents.forEach(y=>u.bootstrap(y));else{if(!o.instance.ngDoBootstrap)throw new $e(-403,!1);o.instance.ngDoBootstrap(u)}this._modules.push(o)}onDestroy(o){this._destroyListeners.push(o)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new $e(404,!1);this._modules.slice().forEach(u=>u.destroy()),this._destroyListeners.forEach(u=>u());const o=this._injector.get(Z_,null);o&&(o.forEach(u=>u()),o.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(o){return new(o||n)(Ht($l))},n.\u0275prov=vt({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();function ME(n,r){return Array.isArray(r)?r.reduce(ME,n):{...n,...r}}let $p=(()=>{class n{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=zn(RE),this.componentTypes=[],this.components=[],this.isStable=zn(yE),this._injector=zn(Cu)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(o,u){const y=o instanceof Gh;if(!this._injector.get(W_).done)throw!y&&Vn(o),new $e(405,!1);let P;P=y?o:this._injector.get(Kh).resolveComponentFactory(o),this.componentTypes.push(P.componentType);const j=function jC(n){return n.isBoundToModule}(P)?void 0:this._injector.get(Fp),ye=P.create($l.NULL,[],u||P.selector,j),Le=ye.location.nativeElement,ot=ye.injector.get(_E,null);return null==ot||ot.registerApplication(Le),ye.onDestroy(()=>{this.detachView(ye.hostView),av(this.components,ye),null==ot||ot.unregisterApplication(Le)}),this._loadComponent(ye),ye}tick(){if(this._runningTick)throw new $e(101,!1);try{this._runningTick=!0;for(let o of this._views)o.detectChanges()}catch(o){this.internalErrorHandler(o)}finally{this._runningTick=!1}}attachView(o){const u=o;this._views.push(u),u.attachToAppRef(this)}detachView(o){const u=o;av(this._views,u),u.detachFromAppRef()}_loadComponent(o){this.attachView(o.hostView),this.tick(),this.components.push(o);const u=this._injector.get(X_,[]);u.push(...this._bootstrapListeners),u.forEach(y=>y(o))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(o=>o()),this._views.slice().forEach(o=>o.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(o){return this._destroyListeners.push(o),()=>av(this._destroyListeners,o)}destroy(){if(this._destroyed)throw new $e(406,!1);const o=this._injector;o.destroy&&!o.destroyed&&o.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return n.\u0275fac=function(o){return new(o||n)},n.\u0275prov=vt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function av(n,r){const o=n.indexOf(r);o>-1&&n.splice(o,1)}const RE=new Yo("",{providedIn:"root",factory:()=>zn(Gd).handleError.bind(void 0)});function YC(){const n=zn(Fl),r=zn(Gd);return o=>n.runOutsideAngular(()=>r.handleError(o))}let qC=(()=>{class n{constructor(){this.zone=zn(Fl),this.applicationRef=zn($p)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){var o;null===(o=this._onMicrotaskEmptySubscription)||void 0===o||o.unsubscribe()}}return n.\u0275fac=function(o){return new(o||n)},n.\u0275prov=vt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function XC(){return!1}function QC(){}let JC=(()=>{class n{}return n.__NG_ELEMENT_ID__=eD,n})();function eD(n){return function tD(n,r,o){if(xo(n)&&!o){const u=Hr(n.index,r);return new Xd(u,u)}return 47&n.type?new Xd(r[es],r):null}(Ds(),Gn(),16==(16&n))}class LE{constructor(){}supports(r){return Ep(r)}create(r){return new aD(r)}}const oD=(n,r)=>r;class aD{constructor(r){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=r||oD}forEachItem(r){let o;for(o=this._itHead;null!==o;o=o._next)r(o)}forEachOperation(r){let o=this._itHead,u=this._removalsHead,y=0,w=null;for(;o||u;){const P=!u||o&&o.currentIndex<$E(u,y,w)?o:u,j=$E(P,y,w),X=P.currentIndex;if(P===u)y--,u=u._nextRemoved;else if(o=o._next,null==P.previousIndex)y++;else{w||(w=[]);const ye=j-y,Le=X-y;if(ye!=Le){for(let zt=0;zt<ye;zt++){const hn=zt<w.length?w[zt]:w[zt]=0,jn=hn+zt;Le<=jn&&jn<ye&&(w[zt]=hn+1)}w[P.previousIndex]=Le-ye}}j!==X&&r(P,j,X)}}forEachPreviousItem(r){let o;for(o=this._previousItHead;null!==o;o=o._nextPrevious)r(o)}forEachAddedItem(r){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)r(o)}forEachMovedItem(r){let o;for(o=this._movesHead;null!==o;o=o._nextMoved)r(o)}forEachRemovedItem(r){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)r(o)}forEachIdentityChange(r){let o;for(o=this._identityChangesHead;null!==o;o=o._nextIdentityChange)r(o)}diff(r){if(null==r&&(r=[]),!Ep(r))throw new $e(900,!1);return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let y,w,P,o=this._itHead,u=!1;if(Array.isArray(r)){this.length=r.length;for(let j=0;j<this.length;j++)w=r[j],P=this._trackByFn(j,w),null!==o&&Object.is(o.trackById,P)?(u&&(o=this._verifyReinsertion(o,w,P,j)),Object.is(o.item,w)||this._addIdentityChange(o,w)):(o=this._mismatch(o,w,P,j),u=!0),o=o._next}else y=0,function Iy(n,r){if(Array.isArray(n))for(let o=0;o<n.length;o++)r(n[o]);else{const o=n[Symbol.iterator]();let u;for(;!(u=o.next()).done;)r(u.value)}}(r,j=>{P=this._trackByFn(y,j),null!==o&&Object.is(o.trackById,P)?(u&&(o=this._verifyReinsertion(o,j,P,y)),Object.is(o.item,j)||this._addIdentityChange(o,j)):(o=this._mismatch(o,j,P,y),u=!0),o=o._next,y++}),this.length=y;return this._truncate(o),this.collection=r,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let r;for(r=this._previousItHead=this._itHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._additionsHead;null!==r;r=r._nextAdded)r.previousIndex=r.currentIndex;for(this._additionsHead=this._additionsTail=null,r=this._movesHead;null!==r;r=r._nextMoved)r.previousIndex=r.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(r,o,u,y){let w;return null===r?w=this._itTail:(w=r._prev,this._remove(r)),null!==(r=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null))?(Object.is(r.item,o)||this._addIdentityChange(r,o),this._reinsertAfter(r,w,y)):null!==(r=null===this._linkedRecords?null:this._linkedRecords.get(u,y))?(Object.is(r.item,o)||this._addIdentityChange(r,o),this._moveAfter(r,w,y)):r=this._addAfter(new lD(o,u),w,y),r}_verifyReinsertion(r,o,u,y){let w=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null);return null!==w?r=this._reinsertAfter(w,r._prev,y):r.currentIndex!=y&&(r.currentIndex=y,this._addToMoves(r,y)),r}_truncate(r){for(;null!==r;){const o=r._next;this._addToRemovals(this._unlink(r)),r=o}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(r,o,u){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(r);const y=r._prevRemoved,w=r._nextRemoved;return null===y?this._removalsHead=w:y._nextRemoved=w,null===w?this._removalsTail=y:w._prevRemoved=y,this._insertAfter(r,o,u),this._addToMoves(r,u),r}_moveAfter(r,o,u){return this._unlink(r),this._insertAfter(r,o,u),this._addToMoves(r,u),r}_addAfter(r,o,u){return this._insertAfter(r,o,u),this._additionsTail=null===this._additionsTail?this._additionsHead=r:this._additionsTail._nextAdded=r,r}_insertAfter(r,o,u){const y=null===o?this._itHead:o._next;return r._next=y,r._prev=o,null===y?this._itTail=r:y._prev=r,null===o?this._itHead=r:o._next=r,null===this._linkedRecords&&(this._linkedRecords=new BE),this._linkedRecords.put(r),r.currentIndex=u,r}_remove(r){return this._addToRemovals(this._unlink(r))}_unlink(r){null!==this._linkedRecords&&this._linkedRecords.remove(r);const o=r._prev,u=r._next;return null===o?this._itHead=u:o._next=u,null===u?this._itTail=o:u._prev=o,r}_addToMoves(r,o){return r.previousIndex===o||(this._movesTail=null===this._movesTail?this._movesHead=r:this._movesTail._nextMoved=r),r}_addToRemovals(r){return null===this._unlinkedRecords&&(this._unlinkedRecords=new BE),this._unlinkedRecords.put(r),r.currentIndex=null,r._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=r,r._prevRemoved=null):(r._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=r),r}_addIdentityChange(r,o){return r.item=o,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=r:this._identityChangesTail._nextIdentityChange=r,r}}class lD{constructor(r,o){this.item=r,this.trackById=o,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class cD{constructor(){this._head=null,this._tail=null}add(r){null===this._head?(this._head=this._tail=r,r._nextDup=null,r._prevDup=null):(this._tail._nextDup=r,r._prevDup=this._tail,r._nextDup=null,this._tail=r)}get(r,o){let u;for(u=this._head;null!==u;u=u._nextDup)if((null===o||o<=u.currentIndex)&&Object.is(u.trackById,r))return u;return null}remove(r){const o=r._prevDup,u=r._nextDup;return null===o?this._head=u:o._nextDup=u,null===u?this._tail=o:u._prevDup=o,null===this._head}}class BE{constructor(){this.map=new Map}put(r){const o=r.trackById;let u=this.map.get(o);u||(u=new cD,this.map.set(o,u)),u.add(r)}get(r,o){const y=this.map.get(r);return y?y.get(r,o):null}remove(r){const o=r.trackById;return this.map.get(o).remove(r)&&this.map.delete(o),r}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function $E(n,r,o){const u=n.previousIndex;if(null===u)return u;let y=0;return o&&u<o.length&&(y=o[u]),u+r+y}class VE{constructor(){}supports(r){return r instanceof Map||df(r)}create(){return new uD}}class uD{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(r){let o;for(o=this._mapHead;null!==o;o=o._next)r(o)}forEachPreviousItem(r){let o;for(o=this._previousMapHead;null!==o;o=o._nextPrevious)r(o)}forEachChangedItem(r){let o;for(o=this._changesHead;null!==o;o=o._nextChanged)r(o)}forEachAddedItem(r){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)r(o)}forEachRemovedItem(r){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)r(o)}diff(r){if(r){if(!(r instanceof Map||df(r)))throw new $e(900,!1)}else r=new Map;return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let o=this._mapHead;if(this._appendAfter=null,this._forEach(r,(u,y)=>{if(o&&o.key===y)this._maybeAddToChanges(o,u),this._appendAfter=o,o=o._next;else{const w=this._getOrCreateRecordForKey(y,u);o=this._insertBeforeOrAppend(o,w)}}),o){o._prev&&(o._prev._next=null),this._removalsHead=o;for(let u=o;null!==u;u=u._nextRemoved)u===this._mapHead&&(this._mapHead=null),this._records.delete(u.key),u._nextRemoved=u._next,u.previousValue=u.currentValue,u.currentValue=null,u._prev=null,u._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(r,o){if(r){const u=r._prev;return o._next=r,o._prev=u,r._prev=o,u&&(u._next=o),r===this._mapHead&&(this._mapHead=o),this._appendAfter=r,r}return this._appendAfter?(this._appendAfter._next=o,o._prev=this._appendAfter):this._mapHead=o,this._appendAfter=o,null}_getOrCreateRecordForKey(r,o){if(this._records.has(r)){const y=this._records.get(r);this._maybeAddToChanges(y,o);const w=y._prev,P=y._next;return w&&(w._next=P),P&&(P._prev=w),y._next=null,y._prev=null,y}const u=new dD(r);return this._records.set(r,u),u.currentValue=o,this._addToAdditions(u),u}_reset(){if(this.isDirty){let r;for(this._previousMapHead=this._mapHead,r=this._previousMapHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._changesHead;null!==r;r=r._nextChanged)r.previousValue=r.currentValue;for(r=this._additionsHead;null!=r;r=r._nextAdded)r.previousValue=r.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(r,o){Object.is(o,r.currentValue)||(r.previousValue=r.currentValue,r.currentValue=o,this._addToChanges(r))}_addToAdditions(r){null===this._additionsHead?this._additionsHead=this._additionsTail=r:(this._additionsTail._nextAdded=r,this._additionsTail=r)}_addToChanges(r){null===this._changesHead?this._changesHead=this._changesTail=r:(this._changesTail._nextChanged=r,this._changesTail=r)}_forEach(r,o){r instanceof Map?r.forEach(o):Object.keys(r).forEach(u=>o(r[u],u))}}class dD{constructor(r){this.key=r,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function UE(){return new r0([new LE])}let r0=(()=>{class n{constructor(o){this.factories=o}static create(o,u){if(null!=u){const y=u.factories.slice();o=o.concat(y)}return new n(o)}static extend(o){return{provide:n,useFactory:u=>n.create(o,u||UE()),deps:[[n,new Rl,new Bc]]}}find(o){const u=this.factories.find(y=>y.supports(o));if(null!=u)return u;throw new $e(901,!1)}}return n.\u0275prov=vt({token:n,providedIn:"root",factory:UE}),n})();function jE(){return new s0([new VE])}let s0=(()=>{class n{constructor(o){this.factories=o}static create(o,u){if(u){const y=u.factories.slice();o=o.concat(y)}return new n(o)}static extend(o){return{provide:n,useFactory:u=>n.create(o,u||jE()),deps:[[n,new Rl,new Bc]]}}find(o){const u=this.factories.find(y=>y.supports(o));if(u)return u;throw new $e(901,!1)}}return n.\u0275prov=vt({token:n,providedIn:"root",factory:jE}),n})();const pD=DE(null,"core",[]);let gD=(()=>{class n{constructor(o){}}return n.\u0275fac=function(o){return new(o||n)(Ht($p))},n.\u0275mod=Oe({type:n}),n.\u0275inj=vn({}),n})(),YE=(()=>{class n{get whenAllTasksComplete(){return 0===this.collection.size&&this.complete(),this.promise}constructor(){this.taskId=0,this.collection=new Set,this.ngZone=zn(Fl),this.completed=!1,this.ngZone.runOutsideAngular(()=>{this.promise=new Promise(o=>{this.resolve=o})})}add(){if(this.completed)return-1;const o=this.taskId++;return this.collection.add(o),o}remove(o){this.completed||(this.collection.delete(o),0===this.collection.size&&this.complete())}ngOnDestroy(){this.complete(),this.collection.clear()}complete(){this.completed=!0,this.resolve()}}return n.\u0275fac=function(o){return new(o||n)},n.\u0275prov=vt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function CD(n){return"boolean"==typeof n?n:null!=n&&"false"!==n}function SD(n,r){const o=wt(n),u=r.elementInjector||Wf();return new uf(o).create(u,r.projectableNodes,r.hostElement,r.environmentInjector)}function TD(n){const r=wt(n);if(!r)return null;const o=new uf(r);return{get selector(){return o.selector},get type(){return o.componentType},get inputs(){return o.inputs},get outputs(){return o.outputs},get ngContentSelectors(){return o.ngContentSelectors},get isStandalone(){return r.standalone}}}},5030:(Jn,Lt,z)=>{"use strict";z.d(Lt,{u5:()=>Ee,wO:()=>fo,JU:()=>pt,a5:()=>Rn,JJ:()=>Pi,JL:()=>yi,F:()=>Oe,On:()=>Mr,UX:()=>le,Q7:()=>ao,_Y:()=>Tn});var d=z(2223),E=z(4755),be=z(8996),ke=z(9751),qe=z(4742),ze=z(8421),Se=z(7669),Re=z(5403),Ze=z(3268),Fe=z(1810),it=z(4004);let Me=(()=>{class ${constructor(S,L){this._renderer=S,this._elementRef=L,this.onChange=ge=>{},this.onTouched=()=>{}}setProperty(S,L){this._renderer.setProperty(this._elementRef.nativeElement,S,L)}registerOnTouched(S){this.onTouched=S}registerOnChange(S){this.onChange=S}setDisabledState(S){this.setProperty("disabled",S)}}return $.\u0275fac=function(S){return new(S||$)(d.Y36(d.Qsj),d.Y36(d.SBq))},$.\u0275dir=d.lG2({type:$}),$})(),lt=(()=>{class $ extends Me{}return $.\u0275fac=function(){let F;return function(L){return(F||(F=d.n5z($)))(L||$)}}(),$.\u0275dir=d.lG2({type:$,features:[d.qOj]}),$})();const pt=new d.OlP("NgValueAccessor"),$e={provide:pt,useExisting:(0,d.Gpc)(()=>ft),multi:!0},Mt=new d.OlP("CompositionEventMode");let ft=(()=>{class $ extends Me{constructor(S,L,ge){super(S,L),this._compositionMode=ge,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function kt(){const $=(0,E.q)()?(0,E.q)().getUserAgent():"";return/android (\d+)/.test($.toLowerCase())}())}writeValue(S){this.setProperty("value",null==S?"":S)}_handleInput(S){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(S)}_compositionStart(){this._composing=!0}_compositionEnd(S){this._composing=!1,this._compositionMode&&this.onChange(S)}}return $.\u0275fac=function(S){return new(S||$)(d.Y36(d.Qsj),d.Y36(d.SBq),d.Y36(Mt,8))},$.\u0275dir=d.lG2({type:$,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(S,L){1&S&&d.NdJ("input",function(ht){return L._handleInput(ht.target.value)})("blur",function(){return L.onTouched()})("compositionstart",function(){return L._compositionStart()})("compositionend",function(ht){return L._compositionEnd(ht.target.value)})},features:[d._Bn([$e]),d.qOj]}),$})();function It($){return null==$||("string"==typeof $||Array.isArray($))&&0===$.length}const Ct=new d.OlP("NgValidators"),yt=new d.OlP("NgAsyncValidators");function qt($){return It($.value)?{required:!0}:null}function tt($){return null}function ut($){return null!=$}function Ut($){return(0,d.QGY)($)?(0,be.D)($):$}function Nt($){let F={};return $.forEach(S=>{F=null!=S?{...F,...S}:F}),0===Object.keys(F).length?null:F}function Qt($,F){return F.map(S=>S($))}function On($){return $.map(F=>function sn($){return!$.validate}(F)?F:S=>F.validate(S))}function vt($){return null!=$?function tn($){if(!$)return null;const F=$.filter(ut);return 0==F.length?null:function(S){return Nt(Qt(S,F))}}(On($)):null}function vn($){return null!=$?function cn($){if(!$)return null;const F=$.filter(ut);return 0==F.length?null:function(S){return function xe(...$){const F=(0,Se.jO)($),{args:S,keys:L}=(0,qe.D)($),ge=new ke.y(ht=>{const{length:Pt}=S;if(!Pt)return void ht.complete();const dn=new Array(Pt);let Mn=Pt,ci=Pt;for(let ui=0;ui<Pt;ui++){let gi=!1;(0,ze.Xf)(S[ui]).subscribe((0,Re.x)(ht,vi=>{gi||(gi=!0,ci--),dn[ui]=vi},()=>Mn--,void 0,()=>{(!Mn||!gi)&&(ci||ht.next(L?(0,Fe.n)(L,dn):dn),ht.complete())}))}});return F?ge.pipe((0,Ze.Z)(F)):ge}(Qt(S,F).map(Ut)).pipe((0,it.U)(Nt))}}(On($)):null}function qn($,F){return null===$?[F]:Array.isArray($)?[...$,F]:[$,F]}function un($){return $?Array.isArray($)?$:[$]:[]}function ir($,F){return Array.isArray($)?$.includes(F):$===F}function an($,F){const S=un(F);return un($).forEach(ge=>{ir(S,ge)||S.push(ge)}),S}function Pr($,F){return un(F).filter(S=>!ir($,S))}class $r{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(F){this._rawValidators=F||[],this._composedValidatorFn=vt(this._rawValidators)}_setAsyncValidators(F){this._rawAsyncValidators=F||[],this._composedAsyncValidatorFn=vn(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(F){this._onDestroyCallbacks.push(F)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(F=>F()),this._onDestroyCallbacks=[]}reset(F=void 0){this.control&&this.control.reset(F)}hasError(F,S){return!!this.control&&this.control.hasError(F,S)}getError(F,S){return this.control?this.control.getError(F,S):null}}class xr extends $r{get formDirective(){return null}get path(){return null}}class Rn extends $r{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class ai{constructor(F){this._cd=F}get isTouched(){var F,S;return!(null===(F=this._cd)||void 0===F||null===(S=F.control)||void 0===S||!S.touched)}get isUntouched(){var F,S;return!(null===(F=this._cd)||void 0===F||null===(S=F.control)||void 0===S||!S.untouched)}get isPristine(){var F,S;return!(null===(F=this._cd)||void 0===F||null===(S=F.control)||void 0===S||!S.pristine)}get isDirty(){var F,S;return!(null===(F=this._cd)||void 0===F||null===(S=F.control)||void 0===S||!S.dirty)}get isValid(){var F,S;return!(null===(F=this._cd)||void 0===F||null===(S=F.control)||void 0===S||!S.valid)}get isInvalid(){var F,S;return!(null===(F=this._cd)||void 0===F||null===(S=F.control)||void 0===S||!S.invalid)}get isPending(){var F,S;return!(null===(F=this._cd)||void 0===F||null===(S=F.control)||void 0===S||!S.pending)}get isSubmitted(){var F;return!(null===(F=this._cd)||void 0===F||!F.submitted)}}let Pi=(()=>{class $ extends ai{constructor(S){super(S)}}return $.\u0275fac=function(S){return new(S||$)(d.Y36(Rn,2))},$.\u0275dir=d.lG2({type:$,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(S,L){2&S&&d.ekj("ng-untouched",L.isUntouched)("ng-touched",L.isTouched)("ng-pristine",L.isPristine)("ng-dirty",L.isDirty)("ng-valid",L.isValid)("ng-invalid",L.isInvalid)("ng-pending",L.isPending)},features:[d.qOj]}),$})(),yi=(()=>{class $ extends ai{constructor(S){super(S)}}return $.\u0275fac=function(S){return new(S||$)(d.Y36(xr,10))},$.\u0275dir=d.lG2({type:$,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(S,L){2&S&&d.ekj("ng-untouched",L.isUntouched)("ng-touched",L.isTouched)("ng-pristine",L.isPristine)("ng-dirty",L.isDirty)("ng-valid",L.isValid)("ng-invalid",L.isInvalid)("ng-pending",L.isPending)("ng-submitted",L.isSubmitted)},features:[d.qOj]}),$})();const zn="VALID",jr="INVALID",kr="PENDING",Or="DISABLED";function gt($){return(se($)?$.validators:$)||null}function ie($,F){return(se(F)?F.asyncValidators:$)||null}function se($){return null!=$&&!Array.isArray($)&&"object"==typeof $}class rt{constructor(F,S){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(F),this._assignAsyncValidators(S)}get validator(){return this._composedValidatorFn}set validator(F){this._rawValidators=this._composedValidatorFn=F}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(F){this._rawAsyncValidators=this._composedAsyncValidatorFn=F}get parent(){return this._parent}get valid(){return this.status===zn}get invalid(){return this.status===jr}get pending(){return this.status==kr}get disabled(){return this.status===Or}get enabled(){return this.status!==Or}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(F){this._assignValidators(F)}setAsyncValidators(F){this._assignAsyncValidators(F)}addValidators(F){this.setValidators(an(F,this._rawValidators))}addAsyncValidators(F){this.setAsyncValidators(an(F,this._rawAsyncValidators))}removeValidators(F){this.setValidators(Pr(F,this._rawValidators))}removeAsyncValidators(F){this.setAsyncValidators(Pr(F,this._rawAsyncValidators))}hasValidator(F){return ir(this._rawValidators,F)}hasAsyncValidator(F){return ir(this._rawAsyncValidators,F)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(F={}){this.touched=!0,this._parent&&!F.onlySelf&&this._parent.markAsTouched(F)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(F=>F.markAllAsTouched())}markAsUntouched(F={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(S=>{S.markAsUntouched({onlySelf:!0})}),this._parent&&!F.onlySelf&&this._parent._updateTouched(F)}markAsDirty(F={}){this.pristine=!1,this._parent&&!F.onlySelf&&this._parent.markAsDirty(F)}markAsPristine(F={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(S=>{S.markAsPristine({onlySelf:!0})}),this._parent&&!F.onlySelf&&this._parent._updatePristine(F)}markAsPending(F={}){this.status=kr,!1!==F.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!F.onlySelf&&this._parent.markAsPending(F)}disable(F={}){const S=this._parentMarkedDirty(F.onlySelf);this.status=Or,this.errors=null,this._forEachChild(L=>{L.disable({...F,onlySelf:!0})}),this._updateValue(),!1!==F.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...F,skipPristineCheck:S}),this._onDisabledChange.forEach(L=>L(!0))}enable(F={}){const S=this._parentMarkedDirty(F.onlySelf);this.status=zn,this._forEachChild(L=>{L.enable({...F,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:F.emitEvent}),this._updateAncestors({...F,skipPristineCheck:S}),this._onDisabledChange.forEach(L=>L(!1))}_updateAncestors(F){this._parent&&!F.onlySelf&&(this._parent.updateValueAndValidity(F),F.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(F){this._parent=F}getRawValue(){return this.value}updateValueAndValidity(F={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===zn||this.status===kr)&&this._runAsyncValidator(F.emitEvent)),!1!==F.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!F.onlySelf&&this._parent.updateValueAndValidity(F)}_updateTreeValidity(F={emitEvent:!0}){this._forEachChild(S=>S._updateTreeValidity(F)),this.updateValueAndValidity({onlySelf:!0,emitEvent:F.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Or:zn}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(F){if(this.asyncValidator){this.status=kr,this._hasOwnPendingAsyncValidator=!0;const S=Ut(this.asyncValidator(this));this._asyncValidationSubscription=S.subscribe(L=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(L,{emitEvent:F})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(F,S={}){this.errors=F,this._updateControlsErrors(!1!==S.emitEvent)}get(F){let S=F;return null==S||(Array.isArray(S)||(S=S.split(".")),0===S.length)?null:S.reduce((L,ge)=>L&&L._find(ge),this)}getError(F,S){const L=S?this.get(S):this;return L&&L.errors?L.errors[F]:null}hasError(F,S){return!!this.getError(F,S)}get root(){let F=this;for(;F._parent;)F=F._parent;return F}_updateControlsErrors(F){this.status=this._calculateStatus(),F&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(F)}_initObservables(){this.valueChanges=new d.vpe,this.statusChanges=new d.vpe}_calculateStatus(){return this._allControlsDisabled()?Or:this.errors?jr:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(kr)?kr:this._anyControlsHaveStatus(jr)?jr:zn}_anyControlsHaveStatus(F){return this._anyControls(S=>S.status===F)}_anyControlsDirty(){return this._anyControls(F=>F.dirty)}_anyControlsTouched(){return this._anyControls(F=>F.touched)}_updatePristine(F={}){this.pristine=!this._anyControlsDirty(),this._parent&&!F.onlySelf&&this._parent._updatePristine(F)}_updateTouched(F={}){this.touched=this._anyControlsTouched(),this._parent&&!F.onlySelf&&this._parent._updateTouched(F)}_registerOnCollectionChange(F){this._onCollectionChange=F}_setUpdateStrategy(F){se(F)&&null!=F.updateOn&&(this._updateOn=F.updateOn)}_parentMarkedDirty(F){return!F&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(F){return null}_assignValidators(F){this._rawValidators=Array.isArray(F)?F.slice():F,this._composedValidatorFn=function Ae($){return Array.isArray($)?vt($):$||null}(this._rawValidators)}_assignAsyncValidators(F){this._rawAsyncValidators=Array.isArray(F)?F.slice():F,this._composedAsyncValidatorFn=function te($){return Array.isArray($)?vn($):$||null}(this._rawAsyncValidators)}}class Vt extends rt{constructor(F,S,L){super(gt(S),ie(L,S)),this.controls=F,this._initObservables(),this._setUpdateStrategy(S),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(F,S){return this.controls[F]?this.controls[F]:(this.controls[F]=S,S.setParent(this),S._registerOnCollectionChange(this._onCollectionChange),S)}addControl(F,S,L={}){this.registerControl(F,S),this.updateValueAndValidity({emitEvent:L.emitEvent}),this._onCollectionChange()}removeControl(F,S={}){this.controls[F]&&this.controls[F]._registerOnCollectionChange(()=>{}),delete this.controls[F],this.updateValueAndValidity({emitEvent:S.emitEvent}),this._onCollectionChange()}setControl(F,S,L={}){this.controls[F]&&this.controls[F]._registerOnCollectionChange(()=>{}),delete this.controls[F],S&&this.registerControl(F,S),this.updateValueAndValidity({emitEvent:L.emitEvent}),this._onCollectionChange()}contains(F){return this.controls.hasOwnProperty(F)&&this.controls[F].enabled}setValue(F,S={}){(function xt($,F,S){$._forEachChild((L,ge)=>{if(void 0===S[ge])throw new d.vHH(1002,"")})})(this,0,F),Object.keys(F).forEach(L=>{(function Ke($,F,S){const L=$.controls;if(!(F?Object.keys(L):L).length)throw new d.vHH(1e3,"");if(!L[S])throw new d.vHH(1001,"")})(this,!0,L),this.controls[L].setValue(F[L],{onlySelf:!0,emitEvent:S.emitEvent})}),this.updateValueAndValidity(S)}patchValue(F,S={}){null!=F&&(Object.keys(F).forEach(L=>{const ge=this.controls[L];ge&&ge.patchValue(F[L],{onlySelf:!0,emitEvent:S.emitEvent})}),this.updateValueAndValidity(S))}reset(F={},S={}){this._forEachChild((L,ge)=>{L.reset(F[ge],{onlySelf:!0,emitEvent:S.emitEvent})}),this._updatePristine(S),this._updateTouched(S),this.updateValueAndValidity(S)}getRawValue(){return this._reduceChildren({},(F,S,L)=>(F[L]=S.getRawValue(),F))}_syncPendingControls(){let F=this._reduceChildren(!1,(S,L)=>!!L._syncPendingControls()||S);return F&&this.updateValueAndValidity({onlySelf:!0}),F}_forEachChild(F){Object.keys(this.controls).forEach(S=>{const L=this.controls[S];L&&F(L,S)})}_setUpControls(){this._forEachChild(F=>{F.setParent(this),F._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(F){for(const[S,L]of Object.entries(this.controls))if(this.contains(S)&&F(L))return!0;return!1}_reduceValue(){return this._reduceChildren({},(S,L,ge)=>((L.enabled||this.disabled)&&(S[ge]=L.value),S))}_reduceChildren(F,S){let L=F;return this._forEachChild((ge,ht)=>{L=S(L,ge,ht)}),L}_allControlsDisabled(){for(const F of Object.keys(this.controls))if(this.controls[F].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(F){return this.controls.hasOwnProperty(F)?this.controls[F]:null}}const ln=new d.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>yn}),yn="always";function Bt($,F,S=yn){var L,ge;pr($,F),F.valueAccessor.writeValue($.value),($.disabled||"always"===S)&&(null===(L=(ge=F.valueAccessor).setDisabledState)||void 0===L||L.call(ge,$.disabled)),function Sr($,F){F.valueAccessor.registerOnChange(S=>{$._pendingValue=S,$._pendingChange=!0,$._pendingDirty=!0,"change"===$.updateOn&&Xr($,F)})}($,F),function zr($,F){const S=(L,ge)=>{F.valueAccessor.writeValue(L),ge&&F.viewToModelUpdate(L)};$.registerOnChange(S),F._registerOnDestroy(()=>{$._unregisterOnChange(S)})}($,F),function Fi($,F){F.valueAccessor.registerOnTouched(()=>{$._pendingTouched=!0,"blur"===$.updateOn&&$._pendingChange&&Xr($,F),"submit"!==$.updateOn&&$.markAsTouched()})}($,F),function Yn($,F){if(F.valueAccessor.setDisabledState){const S=L=>{F.valueAccessor.setDisabledState(L)};$.registerOnDisabledChange(S),F._registerOnDestroy(()=>{$._unregisterOnDisabledChange(S)})}}($,F)}function fn($,F){$.forEach(S=>{S.registerOnValidatorChange&&S.registerOnValidatorChange(F)})}function pr($,F){const S=function er($){return $._rawValidators}($);null!==F.validator?$.setValidators(qn(S,F.validator)):"function"==typeof S&&$.setValidators([S]);const L=function ur($){return $._rawAsyncValidators}($);null!==F.asyncValidator?$.setAsyncValidators(qn(L,F.asyncValidator)):"function"==typeof L&&$.setAsyncValidators([L]);const ge=()=>$.updateValueAndValidity();fn(F._rawValidators,ge),fn(F._rawAsyncValidators,ge)}function Xr($,F){$._pendingDirty&&$.markAsDirty(),$.setValue($._pendingValue,{emitModelToViewChange:!1}),F.viewToModelUpdate($._pendingValue),$._pendingChange=!1}const re={provide:xr,useExisting:(0,d.Gpc)(()=>Oe)},pe=(()=>Promise.resolve())();let Oe=(()=>{class $ extends xr{constructor(S,L,ge){super(),this.callSetDisabledState=ge,this.submitted=!1,this._directives=new Set,this.ngSubmit=new d.vpe,this.form=new Vt({},vt(S),vn(L))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(S){pe.then(()=>{const L=this._findContainer(S.path);S.control=L.registerControl(S.name,S.control),Bt(S.control,S,this.callSetDisabledState),S.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(S)})}getControl(S){return this.form.get(S.path)}removeControl(S){pe.then(()=>{const L=this._findContainer(S.path);L&&L.removeControl(S.name),this._directives.delete(S)})}addFormGroup(S){pe.then(()=>{const L=this._findContainer(S.path),ge=new Vt({});(function Yr($,F){pr($,F)})(ge,S),L.registerControl(S.name,ge),ge.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(S){pe.then(()=>{const L=this._findContainer(S.path);L&&L.removeControl(S.name)})}getFormGroup(S){return this.form.get(S.path)}updateModel(S,L){pe.then(()=>{this.form.get(S.path).setValue(L)})}setValue(S){this.control.setValue(S)}onSubmit(S){var L;return this.submitted=!0,function Qs($,F){$._syncPendingControls(),F.forEach(S=>{const L=S.control;"submit"===L.updateOn&&L._pendingChange&&(S.viewToModelUpdate(L._pendingValue),L._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(S),"dialog"===(null==S||null===(L=S.target)||void 0===L?void 0:L.method)}onReset(){this.resetForm()}resetForm(S=void 0){this.form.reset(S),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(S){return S.pop(),S.length?this.form.get(S):this.form}}return $.\u0275fac=function(S){return new(S||$)(d.Y36(Ct,10),d.Y36(yt,10),d.Y36(ln,8))},$.\u0275dir=d.lG2({type:$,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(S,L){1&S&&d.NdJ("submit",function(ht){return L.onSubmit(ht)})("reset",function(){return L.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[d._Bn([re]),d.qOj]}),$})();function _e($,F){const S=$.indexOf(F);S>-1&&$.splice(S,1)}function ne($){return"object"==typeof $&&null!==$&&2===Object.keys($).length&&"value"in $&&"disabled"in $}const ve=class extends rt{constructor(F=null,S,L){super(gt(S),ie(L,S)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(F),this._setUpdateStrategy(S),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),se(S)&&(S.nonNullable||S.initialValueIsDefault)&&(this.defaultValue=ne(F)?F.value:F)}setValue(F,S={}){this.value=this._pendingValue=F,this._onChange.length&&!1!==S.emitModelToViewChange&&this._onChange.forEach(L=>L(this.value,!1!==S.emitViewToModelChange)),this.updateValueAndValidity(S)}patchValue(F,S={}){this.setValue(F,S)}reset(F=this.defaultValue,S={}){this._applyFormState(F),this.markAsPristine(S),this.markAsUntouched(S),this.setValue(this.value,S),this._pendingChange=!1}_updateValue(){}_anyControls(F){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(F){this._onChange.push(F)}_unregisterOnChange(F){_e(this._onChange,F)}registerOnDisabledChange(F){this._onDisabledChange.push(F)}_unregisterOnDisabledChange(F){_e(this._onDisabledChange,F)}_forEachChild(F){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(F){ne(F)?(this.value=this._pendingValue=F.value,F.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=F}},Ji={provide:Rn,useExisting:(0,d.Gpc)(()=>Mr)},Ti=(()=>Promise.resolve())();let Mr=(()=>{class $ extends Rn{constructor(S,L,ge,ht,Pt,dn){super(),this._changeDetectorRef=Pt,this.callSetDisabledState=dn,this.control=new ve,this._registered=!1,this.name="",this.update=new d.vpe,this._parent=S,this._setValidators(L),this._setAsyncValidators(ge),this.valueAccessor=function Js($,F){if(!F)return null;let S,L,ge;return Array.isArray(F),F.forEach(ht=>{ht.constructor===ft?S=ht:function zi($){return Object.getPrototypeOf($.constructor)===lt}(ht)?L=ht:ge=ht}),ge||L||S||null}(0,ht)}ngOnChanges(S){if(this._checkForErrors(),!this._registered||"name"in S){if(this._registered&&(this._checkName(),this.formDirective)){const L=S.name.previousValue;this.formDirective.removeControl({name:L,path:this._getPath(L)})}this._setUpControl()}"isDisabled"in S&&this._updateDisabled(S),function ts($,F){if(!$.hasOwnProperty("model"))return!1;const S=$.model;return!!S.isFirstChange()||!Object.is(F,S.currentValue)}(S,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(S){this.viewModel=S,this.update.emit(S)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Bt(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(S){Ti.then(()=>{var L;this.control.setValue(S,{emitViewToModelChange:!1}),null===(L=this._changeDetectorRef)||void 0===L||L.markForCheck()})}_updateDisabled(S){const L=S.isDisabled.currentValue,ge=0!==L&&(0,d.D6c)(L);Ti.then(()=>{var ht;ge&&!this.control.disabled?this.control.disable():!ge&&this.control.disabled&&this.control.enable(),null===(ht=this._changeDetectorRef)||void 0===ht||ht.markForCheck()})}_getPath(S){return this._parent?function kn($,F){return[...F.path,$]}(S,this._parent):[S]}}return $.\u0275fac=function(S){return new(S||$)(d.Y36(xr,9),d.Y36(Ct,10),d.Y36(yt,10),d.Y36(pt,10),d.Y36(d.sBO,8),d.Y36(ln,8))},$.\u0275dir=d.lG2({type:$,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[d._Bn([Ji]),d.qOj,d.TTD]}),$})(),Tn=(()=>{class ${}return $.\u0275fac=function(S){return new(S||$)},$.\u0275dir=d.lG2({type:$,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),$})(),is=(()=>{class ${}return $.\u0275fac=function(S){return new(S||$)},$.\u0275mod=d.oAB({type:$}),$.\u0275inj=d.cJS({}),$})();const qr=new d.OlP("NgModelWithFormControlWarning");let Ni=(()=>{class ${constructor(){this._validator=tt}ngOnChanges(S){if(this.inputName in S){const L=this.normalizeInput(S[this.inputName].currentValue);this._enabled=this.enabled(L),this._validator=this._enabled?this.createValidator(L):tt,this._onChange&&this._onChange()}}validate(S){return this._validator(S)}registerOnValidatorChange(S){this._onChange=S}enabled(S){return null!=S}}return $.\u0275fac=function(S){return new(S||$)},$.\u0275dir=d.lG2({type:$,features:[d.TTD]}),$})();const to={provide:Ct,useExisting:(0,d.Gpc)(()=>ao),multi:!0};let ao=(()=>{class $ extends Ni{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=d.D6c,this.createValidator=S=>qt}enabled(S){return S}}return $.\u0275fac=function(){let F;return function(L){return(F||(F=d.n5z($)))(L||$)}}(),$.\u0275dir=d.lG2({type:$,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(S,L){2&S&&d.uIk("required",L._enabled?"":null)},inputs:{required:"required"},features:[d._Bn([to]),d.qOj]}),$})();const Mo={provide:Ct,useExisting:(0,d.Gpc)(()=>fo),multi:!0};let fo=(()=>{class $ extends Ni{constructor(){super(...arguments),this.inputName="minlength",this.normalizeInput=S=>function ho($){return"number"==typeof $?$:parseInt($,10)}(S),this.createValidator=S=>function ct($){return F=>It(F.value)||!function St($){return null!=$&&"number"==typeof $.length}(F.value)?null:F.value.length<$?{minlength:{requiredLength:$,actualLength:F.value.length}}:null}(S)}}return $.\u0275fac=function(){let F;return function(L){return(F||(F=d.n5z($)))(L||$)}}(),$.\u0275dir=d.lG2({type:$,selectors:[["","minlength","","formControlName",""],["","minlength","","formControl",""],["","minlength","","ngModel",""]],hostVars:1,hostBindings:function(S,L){2&S&&d.uIk("minlength",L._enabled?L.minlength:null)},inputs:{minlength:"minlength"},features:[d._Bn([Mo]),d.qOj]}),$})(),_n=(()=>{class ${}return $.\u0275fac=function(S){return new(S||$)},$.\u0275mod=d.oAB({type:$}),$.\u0275inj=d.cJS({imports:[is]}),$})(),Ee=(()=>{class ${static withConfig(S){var L;return{ngModule:$,providers:[{provide:ln,useValue:null!==(L=S.callSetDisabledState)&&void 0!==L?L:yn}]}}}return $.\u0275fac=function(S){return new(S||$)},$.\u0275mod=d.oAB({type:$}),$.\u0275inj=d.cJS({imports:[_n]}),$})(),le=(()=>{class ${static withConfig(S){var L,ge;return{ngModule:$,providers:[{provide:qr,useValue:null!==(L=S.warnOnNgModelWithFormControl)&&void 0!==L?L:"always"},{provide:ln,useValue:null!==(ge=S.callSetDisabledState)&&void 0!==ge?ge:yn}]}}}return $.\u0275fac=function(S){return new(S||$)},$.\u0275mod=d.oAB({type:$}),$.\u0275inj=d.cJS({imports:[_n]}),$})()},6550:(Jn,Lt,z)=>{"use strict";z.d(Lt,{Dx:()=>Rn,b2:()=>ir,q6:()=>qn,se:()=>ee});var d=z(2223),E=z(4755);class be extends E.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class ke extends be{static makeCurrent(){(0,E.HT)(new ke)}onAndCancel(ie,te,se){return ie.addEventListener(te,se),()=>{ie.removeEventListener(te,se)}}dispatchEvent(ie,te){ie.dispatchEvent(te)}remove(ie){ie.parentNode&&ie.parentNode.removeChild(ie)}createElement(ie,te){return(te=te||this.getDefaultDocument()).createElement(ie)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(ie){return ie.nodeType===Node.ELEMENT_NODE}isShadowRoot(ie){return ie instanceof DocumentFragment}getGlobalEventTarget(ie,te){return"window"===te?window:"document"===te?ie:"body"===te?ie.body:null}getBaseHref(ie){const te=function ze(){return qe=qe||document.querySelector("base"),qe?qe.getAttribute("href"):null}();return null==te?null:function Re(Ae){Se=Se||document.createElement("a"),Se.setAttribute("href",Ae);const ie=Se.pathname;return"/"===ie.charAt(0)?ie:`/${ie}`}(te)}resetBaseElement(){qe=null}getUserAgent(){return window.navigator.userAgent}getCookie(ie){return(0,E.Mx)(document.cookie,ie)}}let Se,qe=null,Fe=(()=>{class Ae{build(){return new XMLHttpRequest}}return Ae.\u0275fac=function(te){return new(te||Ae)},Ae.\u0275prov=d.Yz7({token:Ae,factory:Ae.\u0275fac}),Ae})();const xe=new d.OlP("EventManagerPlugins");let it=(()=>{class Ae{constructor(te,se){this._zone=se,this._eventNameToPlugin=new Map,te.forEach(Ke=>{Ke.manager=this}),this._plugins=te.slice().reverse()}addEventListener(te,se,Ke){return this._findPluginFor(se).addEventListener(te,se,Ke)}getZone(){return this._zone}_findPluginFor(te){const se=this._eventNameToPlugin.get(te);if(se)return se;const Ke=this._plugins;for(let xt=0;xt<Ke.length;xt++){const rt=Ke[xt];if(rt.supports(te))return this._eventNameToPlugin.set(te,rt),rt}throw new Error(`No event manager plugin found for event ${te}`)}}return Ae.\u0275fac=function(te){return new(te||Ae)(d.LFG(xe),d.LFG(d.R0b))},Ae.\u0275prov=d.Yz7({token:Ae,factory:Ae.\u0275fac}),Ae})();class Me{constructor(ie){this._doc=ie}}const lt="ng-app-id";let pt=(()=>{class Ae{constructor(te,se,Ke,xt={}){this.doc=te,this.appId=se,this.nonce=Ke,this.platformId=xt,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=(0,E.PM)(xt),this.resetHostNodes()}addStyles(te){for(const se of te)1===this.changeUsageCount(se,1)&&this.onStyleAdded(se)}removeStyles(te){for(const se of te)this.changeUsageCount(se,-1)<=0&&this.onStyleRemoved(se)}ngOnDestroy(){const te=this.styleNodesInDOM;te&&(te.forEach(se=>se.remove()),te.clear());for(const se of this.getAllStyles())this.onStyleRemoved(se);this.resetHostNodes()}addHost(te){this.hostNodes.add(te);for(const se of this.getAllStyles())this.addStyleToHost(te,se)}removeHost(te){this.hostNodes.delete(te)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(te){for(const se of this.hostNodes)this.addStyleToHost(se,te)}onStyleRemoved(te){var se,Ke;const xt=this.styleRef;null===(se=xt.get(te))||void 0===se||null===(Ke=se.elements)||void 0===Ke||Ke.forEach(rt=>rt.remove()),xt.delete(te)}collectServerRenderedStyles(){var te;const se=null===(te=this.doc.head)||void 0===te?void 0:te.querySelectorAll(`style[${lt}="${this.appId}"]`);if(null!=se&&se.length){const Ke=new Map;return se.forEach(xt=>{null!=xt.textContent&&Ke.set(xt.textContent,xt)}),Ke}return null}changeUsageCount(te,se){const Ke=this.styleRef;if(Ke.has(te)){const xt=Ke.get(te);return xt.usage+=se,xt.usage}return Ke.set(te,{usage:se,elements:[]}),se}getStyleElement(te,se){const Ke=this.styleNodesInDOM,xt=null==Ke?void 0:Ke.get(se);if((null==xt?void 0:xt.parentNode)===te)return Ke.delete(se),xt.removeAttribute(lt),xt;{const rt=this.doc.createElement("style");return this.nonce&&rt.setAttribute("nonce",this.nonce),rt.textContent=se,this.platformIsServer&&rt.setAttribute(lt,this.appId),rt}}addStyleToHost(te,se){var Ke;const xt=this.getStyleElement(te,se);te.appendChild(xt);const rt=this.styleRef,Vt=null===(Ke=rt.get(se))||void 0===Ke?void 0:Ke.elements;Vt?Vt.push(xt):rt.set(se,{elements:[xt],usage:1})}resetHostNodes(){const te=this.hostNodes;te.clear(),te.add(this.doc.head)}}return Ae.\u0275fac=function(te){return new(te||Ae)(d.LFG(E.K0),d.LFG(d.AFp),d.LFG(d.Ojb,8),d.LFG(d.Lbi))},Ae.\u0275prov=d.Yz7({token:Ae,factory:Ae.\u0275fac}),Ae})();const jt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},He=/%COMP%/g,It=new d.OlP("RemoveStylesOnCompDestory",{providedIn:"root",factory:()=>!1});function yt(Ae,ie){return ie.map(te=>te.replace(He,Ae))}let ee=(()=>{class Ae{constructor(te,se,Ke,xt,rt,Vt,en,Sn=null){this.eventManager=te,this.sharedStylesHost=se,this.appId=Ke,this.removeStylesOnCompDestory=xt,this.doc=rt,this.platformId=Vt,this.ngZone=en,this.nonce=Sn,this.rendererByCompId=new Map,this.platformIsServer=(0,E.PM)(Vt),this.defaultRenderer=new Gt(te,rt,en,this.platformIsServer)}createRenderer(te,se){if(!te||!se)return this.defaultRenderer;this.platformIsServer&&se.encapsulation===d.ifc.ShadowDom&&(se={...se,encapsulation:d.ifc.Emulated});const Ke=this.getOrCreateRenderer(te,se);return Ke instanceof ct?Ke.applyToHost(te):Ke instanceof Je&&Ke.applyStyles(),Ke}getOrCreateRenderer(te,se){const Ke=this.rendererByCompId;let xt=Ke.get(se.id);if(!xt){const rt=this.doc,Vt=this.ngZone,en=this.eventManager,Sn=this.sharedStylesHost,gn=this.removeStylesOnCompDestory,Wn=this.platformIsServer;switch(se.encapsulation){case d.ifc.Emulated:xt=new ct(en,Sn,se,this.appId,gn,rt,Vt,Wn);break;case d.ifc.ShadowDom:return new Te(en,Sn,te,se,rt,Vt,this.nonce,Wn);default:xt=new Je(en,Sn,se,gn,rt,Vt,Wn)}xt.onDestroy=()=>Ke.delete(se.id),Ke.set(se.id,xt)}return xt}ngOnDestroy(){this.rendererByCompId.clear()}}return Ae.\u0275fac=function(te){return new(te||Ae)(d.LFG(it),d.LFG(pt),d.LFG(d.AFp),d.LFG(It),d.LFG(E.K0),d.LFG(d.Lbi),d.LFG(d.R0b),d.LFG(d.Ojb))},Ae.\u0275prov=d.Yz7({token:Ae,factory:Ae.\u0275fac}),Ae})();class Gt{constructor(ie,te,se,Ke){this.eventManager=ie,this.doc=te,this.ngZone=se,this.platformIsServer=Ke,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(ie,te){return te?this.doc.createElementNS(jt[te]||te,ie):this.doc.createElement(ie)}createComment(ie){return this.doc.createComment(ie)}createText(ie){return this.doc.createTextNode(ie)}appendChild(ie,te){(qt(ie)?ie.content:ie).appendChild(te)}insertBefore(ie,te,se){ie&&(qt(ie)?ie.content:ie).insertBefore(te,se)}removeChild(ie,te){ie&&ie.removeChild(te)}selectRootElement(ie,te){let se="string"==typeof ie?this.doc.querySelector(ie):ie;if(!se)throw new Error(`The selector "${ie}" did not match any elements`);return te||(se.textContent=""),se}parentNode(ie){return ie.parentNode}nextSibling(ie){return ie.nextSibling}setAttribute(ie,te,se,Ke){if(Ke){te=Ke+":"+te;const xt=jt[Ke];xt?ie.setAttributeNS(xt,te,se):ie.setAttribute(te,se)}else ie.setAttribute(te,se)}removeAttribute(ie,te,se){if(se){const Ke=jt[se];Ke?ie.removeAttributeNS(Ke,te):ie.removeAttribute(`${se}:${te}`)}else ie.removeAttribute(te)}addClass(ie,te){ie.classList.add(te)}removeClass(ie,te){ie.classList.remove(te)}setStyle(ie,te,se,Ke){Ke&(d.JOm.DashCase|d.JOm.Important)?ie.style.setProperty(te,se,Ke&d.JOm.Important?"important":""):ie.style[te]=se}removeStyle(ie,te,se){se&d.JOm.DashCase?ie.style.removeProperty(te):ie.style[te]=""}setProperty(ie,te,se){ie[te]=se}setValue(ie,te){ie.nodeValue=te}listen(ie,te,se){if("string"==typeof ie&&!(ie=(0,E.q)().getGlobalEventTarget(this.doc,ie)))throw new Error(`Unsupported event target ${ie} for event ${te}`);return this.eventManager.addEventListener(ie,te,this.decoratePreventDefault(se))}decoratePreventDefault(ie){return te=>{if("__ngUnwrap__"===te)return ie;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>ie(te)):ie(te))&&(te.preventDefault(),te.returnValue=!1)}}}function qt(Ae){return"TEMPLATE"===Ae.tagName&&void 0!==Ae.content}class Te extends Gt{constructor(ie,te,se,Ke,xt,rt,Vt,en){super(ie,xt,rt,en),this.sharedStylesHost=te,this.hostEl=se,this.shadowRoot=se.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const Sn=yt(Ke.id,Ke.styles);for(const gn of Sn){const Wn=document.createElement("style");Vt&&Wn.setAttribute("nonce",Vt),Wn.textContent=gn,this.shadowRoot.appendChild(Wn)}}nodeOrShadowRoot(ie){return ie===this.hostEl?this.shadowRoot:ie}appendChild(ie,te){return super.appendChild(this.nodeOrShadowRoot(ie),te)}insertBefore(ie,te,se){return super.insertBefore(this.nodeOrShadowRoot(ie),te,se)}removeChild(ie,te){return super.removeChild(this.nodeOrShadowRoot(ie),te)}parentNode(ie){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(ie)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Je extends Gt{constructor(ie,te,se,Ke,xt,rt,Vt,en){super(ie,xt,rt,Vt),this.sharedStylesHost=te,this.removeStylesOnCompDestory=Ke,this.rendererUsageCount=0,this.styles=en?yt(en,se.styles):se.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles),this.rendererUsageCount++}destroy(){var ie;this.removeStylesOnCompDestory&&(this.sharedStylesHost.removeStyles(this.styles),this.rendererUsageCount--,0===this.rendererUsageCount)&&(null===(ie=this.onDestroy)||void 0===ie||ie.call(this))}}class ct extends Je{constructor(ie,te,se,Ke,xt,rt,Vt,en){const Sn=Ke+"-"+se.id;super(ie,te,se,xt,rt,Vt,en,Sn),this.contentAttr=function St(Ae){return"_ngcontent-%COMP%".replace(He,Ae)}(Sn),this.hostAttr=function Ct(Ae){return"_nghost-%COMP%".replace(He,Ae)}(Sn)}applyToHost(ie){this.applyStyles(),this.setAttribute(ie,this.hostAttr,"")}createElement(ie,te){const se=super.createElement(ie,te);return super.setAttribute(se,this.contentAttr,""),se}}let mt=(()=>{class Ae extends Me{constructor(te){super(te)}supports(te){return!0}addEventListener(te,se,Ke){return te.addEventListener(se,Ke,!1),()=>this.removeEventListener(te,se,Ke)}removeEventListener(te,se,Ke){return te.removeEventListener(se,Ke)}}return Ae.\u0275fac=function(te){return new(te||Ae)(d.LFG(E.K0))},Ae.\u0275prov=d.Yz7({token:Ae,factory:Ae.\u0275fac}),Ae})();const et=["alt","control","meta","shift"],tt={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},ut={alt:Ae=>Ae.altKey,control:Ae=>Ae.ctrlKey,meta:Ae=>Ae.metaKey,shift:Ae=>Ae.shiftKey};let Ut=(()=>{class Ae extends Me{constructor(te){super(te)}supports(te){return null!=Ae.parseEventName(te)}addEventListener(te,se,Ke){const xt=Ae.parseEventName(se),rt=Ae.eventCallback(xt.fullKey,Ke,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,E.q)().onAndCancel(te,xt.domEventName,rt))}static parseEventName(te){const se=te.toLowerCase().split("."),Ke=se.shift();if(0===se.length||"keydown"!==Ke&&"keyup"!==Ke)return null;const xt=Ae._normalizeKey(se.pop());let rt="",Vt=se.indexOf("code");if(Vt>-1&&(se.splice(Vt,1),rt="code."),et.forEach(Sn=>{const gn=se.indexOf(Sn);gn>-1&&(se.splice(gn,1),rt+=Sn+".")}),rt+=xt,0!=se.length||0===xt.length)return null;const en={};return en.domEventName=Ke,en.fullKey=rt,en}static matchEventFullKeyCode(te,se){let Ke=tt[te.key]||te.key,xt="";return se.indexOf("code.")>-1&&(Ke=te.code,xt="code."),!(null==Ke||!Ke)&&(Ke=Ke.toLowerCase()," "===Ke?Ke="space":"."===Ke&&(Ke="dot"),et.forEach(rt=>{rt!==Ke&&(0,ut[rt])(te)&&(xt+=rt+".")}),xt+=Ke,xt===se)}static eventCallback(te,se,Ke){return xt=>{Ae.matchEventFullKeyCode(xt,te)&&Ke.runGuarded(()=>se(xt))}}static _normalizeKey(te){return"esc"===te?"escape":te}}return Ae.\u0275fac=function(te){return new(te||Ae)(d.LFG(E.K0))},Ae.\u0275prov=d.Yz7({token:Ae,factory:Ae.\u0275fac}),Ae})();const qn=(0,d.eFA)(d._c5,"browser",[{provide:d.Lbi,useValue:E.bD},{provide:d.g9A,useValue:function tn(){ke.makeCurrent()},multi:!0},{provide:E.K0,useFactory:function cn(){return(0,d.RDi)(document),document},deps:[]}]),er=new d.OlP(""),ur=[{provide:d.rWj,useClass:class Ze{addToWindow(ie){d.dqk.getAngularTestability=(se,Ke=!0)=>{const xt=ie.findTestabilityInTree(se,Ke);if(null==xt)throw new Error("Could not find testability for element.");return xt},d.dqk.getAllAngularTestabilities=()=>ie.getAllTestabilities(),d.dqk.getAllAngularRootElements=()=>ie.getAllRootElements(),d.dqk.frameworkStabilizers||(d.dqk.frameworkStabilizers=[]),d.dqk.frameworkStabilizers.push(se=>{const Ke=d.dqk.getAllAngularTestabilities();let xt=Ke.length,rt=!1;const Vt=function(en){rt=rt||en,xt--,0==xt&&se(rt)};Ke.forEach(function(en){en.whenStable(Vt)})})}findTestabilityInTree(ie,te,se){if(null==te)return null;const Ke=ie.getTestability(te);return null!=Ke?Ke:se?(0,E.q)().isShadowRoot(te)?this.findTestabilityInTree(ie,te.host,!0):this.findTestabilityInTree(ie,te.parentElement,!0):null}},deps:[]},{provide:d.lri,useClass:d.dDg,deps:[d.R0b,d.eoX,d.rWj]},{provide:d.dDg,useClass:d.dDg,deps:[d.R0b,d.eoX,d.rWj]}],un=[{provide:d.zSh,useValue:"root"},{provide:d.qLn,useFactory:function vt(){return new d.qLn},deps:[]},{provide:xe,useClass:mt,multi:!0,deps:[E.K0,d.R0b,d.Lbi]},{provide:xe,useClass:Ut,multi:!0,deps:[E.K0]},ee,pt,it,{provide:d.FYo,useExisting:ee},{provide:E.JF,useClass:Fe,deps:[]},[]];let ir=(()=>{class Ae{constructor(te){}static withServerTransition(te){return{ngModule:Ae,providers:[{provide:d.AFp,useValue:te.appId}]}}}return Ae.\u0275fac=function(te){return new(te||Ae)(d.LFG(er,12))},Ae.\u0275mod=d.oAB({type:Ae}),Ae.\u0275inj=d.cJS({providers:[...un,...ur],imports:[E.ez,d.hGG]}),Ae})(),Rn=(()=>{class Ae{constructor(te){this._doc=te}getTitle(){return this._doc.title}setTitle(te){this._doc.title=te||""}}return Ae.\u0275fac=function(te){return new(te||Ae)(d.LFG(E.K0))},Ae.\u0275prov=d.Yz7({token:Ae,factory:function(te){let se=null;return se=te?new te:function xr(){return new Rn((0,d.LFG)(E.K0))}(),se},providedIn:"root"}),Ae})();typeof window<"u"&&window},5559:(Jn,Lt,z)=>{"use strict";z.d(Lt,{gz:()=>_s,jw:()=>Mr,y6:()=>Ts,OD:()=>Oe,eC:()=>un,wm:()=>_a,wN:()=>ei,F0:()=>Bn,rH:()=>Zn,Bz:()=>Wi,Hx:()=>Ne,fw:()=>oo});var d=z(2223),E=z(9751),be=z(576),qe=z(8996),ze=z(9646),Se=z(1135),Re=z(4742),Ze=z(4671),Fe=z(3268),xe=z(7669),it=z(1810),Me=z(5403),lt=z(9672);function pt(...V){const H=(0,xe.yG)(V),R=(0,xe.jO)(V),{args:q,keys:me}=(0,Re.D)(V);if(0===q.length)return(0,qe.D)([],H);const Xe=new E.y(function jt(V,H,R=Ze.y){return q=>{He(H,()=>{const{length:me}=V,Xe=new Array(me);let Ue=me,Yt=me;for(let An=0;An<me;An++)He(H,()=>{const Ar=(0,qe.D)(V[An],H);let Mi=!1;Ar.subscribe((0,Me.x)(q,Zr=>{Xe[An]=Zr,Mi||(Mi=!0,Yt--),Yt||q.next(R(Xe.slice()))},()=>{--Ue||q.complete()}))},q)},q)}}(q,H,me?Ue=>(0,it.n)(me,Ue):Ze.y));return R?Xe.pipe((0,Fe.Z)(R)):Xe}function He(V,H,R){V?(0,lt.f)(R,V,H):H()}var $e=z(6805),kt=z(7272),Mt=z(8421);function ft(V){return new E.y(H=>{(0,Mt.Xf)(V()).subscribe(H)})}var It=z(9635);function St(V,H){const R=(0,be.m)(V)?V:()=>V,q=me=>me.error(R());return new E.y(H?me=>H.schedule(q,0,me):q)}var Ct=z(515),yt=z(727),ee=z(4482);function Gt(){return(0,ee.e)((V,H)=>{let R=null;V._refCount++;const q=(0,Me.x)(H,void 0,void 0,void 0,()=>{if(!V||V._refCount<=0||0<--V._refCount)return void(R=null);const me=V._connection,Xe=R;R=null,me&&(!Xe||me===Xe)&&me.unsubscribe(),H.unsubscribe()});V.subscribe(q),q.closed||(R=V.connect())})}class Dt extends E.y{constructor(H,R){super(),this.source=H,this.subjectFactory=R,this._subject=null,this._refCount=0,this._connection=null,(0,ee.A)(H)&&(this.lift=H.lift)}_subscribe(H){return this.getSubject().subscribe(H)}getSubject(){const H=this._subject;return(!H||H.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:H}=this;this._subject=this._connection=null,null==H||H.unsubscribe()}connect(){let H=this._connection;if(!H){H=this._connection=new yt.w0;const R=this.getSubject();H.add(this.source.subscribe((0,Me.x)(R,void 0,()=>{this._teardown(),R.complete()},q=>{this._teardown(),R.error(q)},()=>this._teardown()))),H.closed&&(this._connection=null,H=yt.w0.EMPTY)}return H}refCount(){return Gt()(this)}}var Ft=z(7579),qt=z(4755),Te=z(4004),Je=z(3900),ct=z(5698),mt=z(8675),et=z(9300),tt=z(5577),ut=z(590);function Ut(V,H){return(0,be.m)(H)?(0,tt.z)(V,H,1):(0,tt.z)(V,1)}var Nt=z(8505);function Qt(V){return(0,ee.e)((H,R)=>{let Xe,q=null,me=!1;q=H.subscribe((0,Me.x)(R,void 0,void 0,Ue=>{Xe=(0,Mt.Xf)(V(Ue,Qt(V)(H))),q?(q.unsubscribe(),q=null,Xe.subscribe(R)):me=!0})),me&&(q.unsubscribe(),q=null,Xe.subscribe(R))})}var sn=z(5026),On=z(6590);function tn(V){return V<=0?()=>Ct.E:(0,ee.e)((H,R)=>{let q=[];H.subscribe((0,Me.x)(R,me=>{q.push(me),V<q.length&&q.shift()},()=>{for(const me of q)R.next(me);R.complete()},void 0,()=>{q=null}))})}var vt=z(8068),qn=z(8746),er=z(8189),ur=z(6550);const un="primary",ir=Symbol("RouteTitle");class an{constructor(H){this.params=H||{}}has(H){return Object.prototype.hasOwnProperty.call(this.params,H)}get(H){if(this.has(H)){const R=this.params[H];return Array.isArray(R)?R[0]:R}return null}getAll(H){if(this.has(H)){const R=this.params[H];return Array.isArray(R)?R:[R]}return[]}get keys(){return Object.keys(this.params)}}function Pr(V){return new an(V)}function $r(V,H,R){const q=R.path.split("/");if(q.length>V.length||"full"===R.pathMatch&&(H.hasChildren()||q.length<V.length))return null;const me={};for(let Xe=0;Xe<q.length;Xe++){const Ue=q[Xe],Yt=V[Xe];if(Ue.startsWith(":"))me[Ue.substring(1)]=Yt;else if(Ue!==Yt.path)return null}return{consumed:V.slice(0,q.length),posParams:me}}function Rn(V,H){const R=V?Object.keys(V):void 0,q=H?Object.keys(H):void 0;if(!R||!q||R.length!=q.length)return!1;let me;for(let Xe=0;Xe<R.length;Xe++)if(me=R[Xe],!ai(V[me],H[me]))return!1;return!0}function ai(V,H){if(Array.isArray(V)&&Array.isArray(H)){if(V.length!==H.length)return!1;const R=[...V].sort(),q=[...H].sort();return R.every((me,Xe)=>q[Xe]===me)}return V===H}function Gr(V){return V.length>0?V[V.length-1]:null}function ar(V){return function ke(V){return!!V&&(V instanceof E.y||(0,be.m)(V.lift)&&(0,be.m)(V.subscribe))}(V)?V:(0,d.QGY)(V)?(0,qe.D)(Promise.resolve(V)):(0,ze.of)(V)}const Pi={exact:function mr(V,H,R){if(!Er(V.segments,H.segments)||!di(V.segments,H.segments,R)||V.numberOfChildren!==H.numberOfChildren)return!1;for(const q in H.children)if(!V.children[q]||!mr(V.children[q],H.children[q],R))return!1;return!0},subset:li},yi={exact:function nr(V,H){return Rn(V,H)},subset:function bi(V,H){return Object.keys(H).length<=Object.keys(V).length&&Object.keys(H).every(R=>ai(V[R],H[R]))},ignored:()=>!0};function lr(V,H,R){return Pi[R.paths](V.root,H.root,R.matrixParams)&&yi[R.queryParams](V.queryParams,H.queryParams)&&!("exact"===R.fragment&&V.fragment!==H.fragment)}function li(V,H,R){return Kr(V,H,H.segments,R)}function Kr(V,H,R,q){if(V.segments.length>R.length){const me=V.segments.slice(0,R.length);return!(!Er(me,R)||H.hasChildren()||!di(me,R,q))}if(V.segments.length===R.length){if(!Er(V.segments,R)||!di(V.segments,R,q))return!1;for(const me in H.children)if(!V.children[me]||!li(V.children[me],H.children[me],q))return!1;return!0}{const me=R.slice(0,V.segments.length),Xe=R.slice(V.segments.length);return!!(Er(V.segments,me)&&di(V.segments,me,q)&&V.children[un])&&Kr(V.children[un],H,Xe,q)}}function di(V,H,R){return H.every((q,me)=>yi[R](V[me].parameters,q.parameters))}class Ai{constructor(H=new br([],{}),R={},q=null){this.root=H,this.queryParams=R,this.fragment=q}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Pr(this.queryParams)),this._queryParamMap}toString(){return Ht.serialize(this)}}class br{constructor(H,R){this.segments=H,this.children=R,this.parent=null,Object.values(R).forEach(q=>q.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return En(this)}}class fr{constructor(H,R){this.path=H,this.parameters=R}get parameterMap(){return this._parameterMap||(this._parameterMap=Pr(this.parameters)),this._parameterMap}toString(){return te(this)}}function Er(V,H){return V.length===H.length&&V.every((R,q)=>R.path===H[q].path)}let Ne=(()=>{class V{}return V.\u0275fac=function(R){return new(R||V)},V.\u0275prov=d.Yz7({token:V,factory:function(){return new dt},providedIn:"root"}),V})();class dt{parse(H){const R=new yn(H);return new Ai(R.parseRootSegment(),R.parseQueryParams(),R.parseFragment())}serialize(H){const R=`/${zn(H.root,!0)}`,q=function Ke(V){const H=Object.keys(V).map(R=>{const q=V[R];return Array.isArray(q)?q.map(me=>`${kr(R)}=${kr(me)}`).join("&"):`${kr(R)}=${kr(q)}`}).filter(R=>!!R);return H.length?`?${H.join("&")}`:""}(H.queryParams);return`${R}${q}${"string"==typeof H.fragment?`#${function Or(V){return encodeURI(V)}(H.fragment)}`:""}`}}const Ht=new dt;function En(V){return V.segments.map(H=>te(H)).join("/")}function zn(V,H){if(!V.hasChildren())return En(V);if(H){const R=V.children[un]?zn(V.children[un],!1):"",q=[];return Object.entries(V.children).forEach(([me,Xe])=>{me!==un&&q.push(`${me}:${zn(Xe,!1)}`)}),q.length>0?`${R}(${q.join("//")})`:R}{const R=function Cn(V,H){let R=[];return Object.entries(V.children).forEach(([q,me])=>{q===un&&(R=R.concat(H(me,q)))}),Object.entries(V.children).forEach(([q,me])=>{q!==un&&(R=R.concat(H(me,q)))}),R}(V,(q,me)=>me===un?[zn(V.children[un],!1)]:[`${me}:${zn(q,!1)}`]);return 1===Object.keys(V.children).length&&null!=V.children[un]?`${En(V)}/${R[0]}`:`${En(V)}/(${R.join("//")})`}}function jr(V){return encodeURIComponent(V).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function kr(V){return jr(V).replace(/%3B/gi,";")}function gt(V){return jr(V).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Ae(V){return decodeURIComponent(V)}function ie(V){return Ae(V.replace(/\+/g,"%20"))}function te(V){return`${gt(V.path)}${function se(V){return Object.keys(V).map(H=>`;${gt(H)}=${gt(V[H])}`).join("")}(V.parameters)}`}const xt=/^[^\/()?;#]+/;function rt(V){const H=V.match(xt);return H?H[0]:""}const Vt=/^[^\/()?;=#]+/,Sn=/^[^=?&#]+/,Wn=/^[^&#]+/;class yn{constructor(H){this.url=H,this.remaining=H}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new br([],{}):new br([],this.parseChildren())}parseQueryParams(){const H={};if(this.consumeOptional("?"))do{this.parseQueryParam(H)}while(this.consumeOptional("&"));return H}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const H=[];for(this.peekStartsWith("(")||H.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),H.push(this.parseSegment());let R={};this.peekStartsWith("/(")&&(this.capture("/"),R=this.parseParens(!0));let q={};return this.peekStartsWith("(")&&(q=this.parseParens(!1)),(H.length>0||Object.keys(R).length>0)&&(q[un]=new br(H,R)),q}parseSegment(){const H=rt(this.remaining);if(""===H&&this.peekStartsWith(";"))throw new d.vHH(4009,!1);return this.capture(H),new fr(Ae(H),this.parseMatrixParams())}parseMatrixParams(){const H={};for(;this.consumeOptional(";");)this.parseParam(H);return H}parseParam(H){const R=function en(V){const H=V.match(Vt);return H?H[0]:""}(this.remaining);if(!R)return;this.capture(R);let q="";if(this.consumeOptional("=")){const me=rt(this.remaining);me&&(q=me,this.capture(q))}H[Ae(R)]=Ae(q)}parseQueryParam(H){const R=function gn(V){const H=V.match(Sn);return H?H[0]:""}(this.remaining);if(!R)return;this.capture(R);let q="";if(this.consumeOptional("=")){const Ue=function ln(V){const H=V.match(Wn);return H?H[0]:""}(this.remaining);Ue&&(q=Ue,this.capture(q))}const me=ie(R),Xe=ie(q);if(H.hasOwnProperty(me)){let Ue=H[me];Array.isArray(Ue)||(Ue=[Ue],H[me]=Ue),Ue.push(Xe)}else H[me]=Xe}parseParens(H){const R={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const q=rt(this.remaining),me=this.remaining[q.length];if("/"!==me&&")"!==me&&";"!==me)throw new d.vHH(4010,!1);let Xe;q.indexOf(":")>-1?(Xe=q.slice(0,q.indexOf(":")),this.capture(Xe),this.capture(":")):H&&(Xe=un);const Ue=this.parseChildren();R[Xe]=1===Object.keys(Ue).length?Ue[un]:new br([],Ue),this.consumeOptional("//")}return R}peekStartsWith(H){return this.remaining.startsWith(H)}consumeOptional(H){return!!this.peekStartsWith(H)&&(this.remaining=this.remaining.substring(H.length),!0)}capture(H){if(!this.consumeOptional(H))throw new d.vHH(4011,!1)}}function kn(V){return V.segments.length>0?new br([],{[un]:V}):V}function Bt(V){const H={};for(const q of Object.keys(V.children)){const Xe=Bt(V.children[q]);if(q===un&&0===Xe.segments.length&&Xe.hasChildren())for(const[Ue,Yt]of Object.entries(Xe.children))H[Ue]=Yt;else(Xe.segments.length>0||Xe.hasChildren())&&(H[q]=Xe)}return function Kt(V){if(1===V.numberOfChildren&&V.children[un]){const H=V.children[un];return new br(V.segments.concat(H.segments),H.children)}return V}(new br(V.segments,H))}function fn(V){return V instanceof Ai}function pr(V){var H;let R;const Xe=kn(function q(Ue){const Yt={};for(const Ar of Ue.children){const Mi=q(Ar);Yt[Ar.outlet]=Mi}const An=new br(Ue.url,Yt);return Ue===V&&(R=An),An}(V.root));return null!==(H=R)&&void 0!==H?H:Xe}function Fr(V,H,R,q){let me=V;for(;me.parent;)me=me.parent;if(0===H.length)return Xr(me,me,me,R,q);const Xe=function rs(V){if("string"==typeof V[0]&&1===V.length&&"/"===V[0])return new Yr(!0,0,V);let H=0,R=!1;const q=V.reduce((me,Xe,Ue)=>{if("object"==typeof Xe&&null!=Xe){if(Xe.outlets){const Yt={};return Object.entries(Xe.outlets).forEach(([An,Ar])=>{Yt[An]="string"==typeof Ar?Ar.split("/"):Ar}),[...me,{outlets:Yt}]}if(Xe.segmentPath)return[...me,Xe.segmentPath]}return"string"!=typeof Xe?[...me,Xe]:0===Ue?(Xe.split("/").forEach((Yt,An)=>{0==An&&"."===Yt||(0==An&&""===Yt?R=!0:".."===Yt?H++:""!=Yt&&me.push(Yt))}),me):[...me,Xe]},[]);return new Yr(R,H,q)}(H);if(Xe.toRoot())return Xr(me,me,new br([],{}),R,q);const Ue=function Xs(V,H,R){if(V.isAbsolute)return new Os(H,!0,0);if(!R)return new Os(H,!1,NaN);if(null===R.parent)return new Os(R,!0,0);const q=Sr(V.commands[0])?0:1;return function ys(V,H,R){let q=V,me=H,Xe=R;for(;Xe>me;){if(Xe-=me,q=q.parent,!q)throw new d.vHH(4005,!1);me=q.segments.length}return new Os(q,!1,me-Xe)}(R,R.segments.length-1+q,V.numberOfDoubleDots)}(Xe,me,V),Yt=Ue.processChildren?ts(Ue.segmentGroup,Ue.index,Xe.commands):yo(Ue.segmentGroup,Ue.index,Xe.commands);return Xr(me,Ue.segmentGroup,Yt,R,q)}function Sr(V){return"object"==typeof V&&null!=V&&!V.outlets&&!V.segmentPath}function Fi(V){return"object"==typeof V&&null!=V&&V.outlets}function Xr(V,H,R,q,me){let Ue,Xe={};q&&Object.entries(q).forEach(([An,Ar])=>{Xe[An]=Array.isArray(Ar)?Ar.map(Mi=>`${Mi}`):`${Ar}`}),Ue=V===H?R:zr(V,H,R);const Yt=kn(Bt(Ue));return new Ai(Yt,Xe,me)}function zr(V,H,R){const q={};return Object.entries(V.children).forEach(([me,Xe])=>{q[me]=Xe===H?R:zr(Xe,H,R)}),new br(V.segments,q)}class Yr{constructor(H,R,q){if(this.isAbsolute=H,this.numberOfDoubleDots=R,this.commands=q,H&&q.length>0&&Sr(q[0]))throw new d.vHH(4003,!1);const me=q.find(Fi);if(me&&me!==Gr(q))throw new d.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Os{constructor(H,R,q){this.segmentGroup=H,this.processChildren=R,this.index=q}}function yo(V,H,R){if(V||(V=new br([],{})),0===V.segments.length&&V.hasChildren())return ts(V,H,R);const q=function zi(V,H,R){let q=0,me=H;const Xe={match:!1,pathIndex:0,commandIndex:0};for(;me<V.segments.length;){if(q>=R.length)return Xe;const Ue=V.segments[me],Yt=R[q];if(Fi(Yt))break;const An=`${Yt}`,Ar=q<R.length-1?R[q+1]:null;if(me>0&&void 0===An)break;if(An&&Ar&&"object"==typeof Ar&&void 0===Ar.outlets){if(!js(An,Ar,Ue))return Xe;q+=2}else{if(!js(An,{},Ue))return Xe;q++}me++}return{match:!0,pathIndex:me,commandIndex:q}}(V,H,R),me=R.slice(q.commandIndex);if(q.match&&q.pathIndex<V.segments.length){const Xe=new br(V.segments.slice(0,q.pathIndex),{});return Xe.children[un]=new br(V.segments.slice(q.pathIndex),V.children),ts(Xe,0,me)}return q.match&&0===me.length?new br(V.segments,{}):q.match&&!V.hasChildren()?Qs(V,H,R):q.match?ts(V,0,me):Qs(V,H,R)}function ts(V,H,R){if(0===R.length)return new br(V.segments,{});{const q=function cs(V){return Fi(V[0])?V[0].outlets:{[un]:V}}(R),me={};if(!q[un]&&V.children[un]&&1===V.numberOfChildren&&0===V.children[un].segments.length){const Xe=ts(V.children[un],H,R);return new br(V.segments,Xe.children)}return Object.entries(q).forEach(([Xe,Ue])=>{"string"==typeof Ue&&(Ue=[Ue]),null!==Ue&&(me[Xe]=yo(V.children[Xe],H,Ue))}),Object.entries(V.children).forEach(([Xe,Ue])=>{void 0===q[Xe]&&(me[Xe]=Ue)}),new br(V.segments,me)}}function Qs(V,H,R){const q=V.segments.slice(0,H);let me=0;for(;me<R.length;){const Xe=R[me];if(Fi(Xe)){const An=Js(Xe.outlets);return new br(q,An)}if(0===me&&Sr(R[0])){q.push(new fr(V.segments[H].path,Is(R[0]))),me++;continue}const Ue=Fi(Xe)?Xe.outlets[un]:`${Xe}`,Yt=me<R.length-1?R[me+1]:null;Ue&&Yt&&Sr(Yt)?(q.push(new fr(Ue,Is(Yt))),me+=2):(q.push(new fr(Ue,{})),me++)}return new br(q,{})}function Js(V){const H={};return Object.entries(V).forEach(([R,q])=>{"string"==typeof q&&(q=[q]),null!==q&&(H[R]=Qs(new br([],{}),0,q))}),H}function Is(V){const H={};return Object.entries(V).forEach(([R,q])=>H[R]=`${q}`),H}function js(V,H,R){return V==R.path&&Rn(H,R.parameters)}const re="imperative";class pe{constructor(H,R){this.id=H,this.url=R}}class Oe extends pe{constructor(H,R,q="imperative",me=null){super(H,R),this.type=0,this.navigationTrigger=q,this.restoredState=me}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class _e extends pe{constructor(H,R,q){super(H,R),this.urlAfterRedirects=q,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class ne extends pe{constructor(H,R,q,me){super(H,R),this.reason=q,this.code=me,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class ve extends pe{constructor(H,R,q,me){super(H,R),this.reason=q,this.code=me,this.type=16}}class st extends pe{constructor(H,R,q,me){super(H,R),this.error=q,this.target=me,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class wt extends pe{constructor(H,R,q,me){super(H,R),this.urlAfterRedirects=q,this.state=me,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class $t extends pe{constructor(H,R,q,me){super(H,R),this.urlAfterRedirects=q,this.state=me,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class nn extends pe{constructor(H,R,q,me,Xe){super(H,R),this.urlAfterRedirects=q,this.state=me,this.shouldActivate=Xe,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Vn extends pe{constructor(H,R,q,me){super(H,R),this.urlAfterRedirects=q,this.state=me,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Un extends pe{constructor(H,R,q,me){super(H,R),this.urlAfterRedirects=q,this.state=me,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Nr{constructor(H){this.route=H,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Qr{constructor(H){this.route=H,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class vs{constructor(H){this.snapshot=H,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ji{constructor(H){this.snapshot=H,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ti{constructor(H){this.snapshot=H,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Mr{constructor(H){this.snapshot=H,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Tn{constructor(H,R,q){this.routerEvent=H,this.position=R,this.anchor=q,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Br{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Ts,this.attachRef=null}}let Ts=(()=>{class V{constructor(){this.contexts=new Map}onChildOutletCreated(R,q){const me=this.getOrCreateContext(R);me.outlet=q,this.contexts.set(R,me)}onChildOutletDestroyed(R){const q=this.getContext(R);q&&(q.outlet=null,q.attachRef=null)}onOutletDeactivated(){const R=this.contexts;return this.contexts=new Map,R}onOutletReAttached(R){this.contexts=R}getOrCreateContext(R){let q=this.getContext(R);return q||(q=new Br,this.contexts.set(R,q)),q}getContext(R){return this.contexts.get(R)||null}}return V.\u0275fac=function(R){return new(R||V)},V.\u0275prov=d.Yz7({token:V,factory:V.\u0275fac,providedIn:"root"}),V})();class Ao{constructor(H){this._root=H}get root(){return this._root.value}parent(H){const R=this.pathFromRoot(H);return R.length>1?R[R.length-2]:null}children(H){const R=is(H,this._root);return R?R.children.map(q=>q.value):[]}firstChild(H){const R=is(H,this._root);return R&&R.children.length>0?R.children[0].value:null}siblings(H){const R=vo(H,this._root);return R.length<2?[]:R[R.length-2].children.map(me=>me.value).filter(me=>me!==H)}pathFromRoot(H){return vo(H,this._root).map(R=>R.value)}}function is(V,H){if(V===H.value)return H;for(const R of H.children){const q=is(V,R);if(q)return q}return null}function vo(V,H){if(V===H.value)return[H];for(const R of H.children){const q=vo(V,R);if(q.length)return q.unshift(H),q}return[]}class Jr{constructor(H,R){this.value=H,this.children=R}toString(){return`TreeNode(${this.value})`}}function Ur(V){const H={};return V&&V.children.forEach(R=>H[R.value.outlet]=R),H}class ji extends Ao{constructor(H,R){super(H),this.snapshot=R,zs(this,H)}toString(){return this.snapshot.toString()}}function qr(V,H){const R=function so(V,H){const Ue=new eo([],{},{},"",{},un,H,null,{});return new uo("",new Jr(Ue,[]))}(0,H),q=new Se.X([new fr("",{})]),me=new Se.X({}),Xe=new Se.X({}),Ue=new Se.X({}),Yt=new Se.X(""),An=new _s(q,me,Ue,Yt,Xe,un,H,R.root);return An.snapshot=R.root,new ji(new Jr(An,[]),R)}class _s{constructor(H,R,q,me,Xe,Ue,Yt,An){var Ar,Mi;this.urlSubject=H,this.paramsSubject=R,this.queryParamsSubject=q,this.fragmentSubject=me,this.dataSubject=Xe,this.outlet=Ue,this.component=Yt,this._futureSnapshot=An,this.title=null!==(Ar=null===(Mi=this.dataSubject)||void 0===Mi?void 0:Mi.pipe((0,Te.U)(Zr=>Zr[ir])))&&void 0!==Ar?Ar:(0,ze.of)(void 0),this.url=H,this.params=R,this.queryParams=q,this.fragment=me,this.data=Xe}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Te.U)(H=>Pr(H)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Te.U)(H=>Pr(H)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function ki(V,H="emptyOnly"){const R=V.pathFromRoot;let q=0;if("always"!==H)for(q=R.length-1;q>=1;){const me=R[q],Xe=R[q-1];if(me.routeConfig&&""===me.routeConfig.path)q--;else{if(Xe.component)break;q--}}return function es(V){return V.reduce((H,R)=>{var q;return{params:{...H.params,...R.params},data:{...H.data,...R.data},resolve:{...R.data,...H.resolve,...null===(q=R.routeConfig)||void 0===q?void 0:q.data,...R._resolvedData}}},{params:{},data:{},resolve:{}})}(R.slice(q))}class eo{get title(){var H;return null===(H=this.data)||void 0===H?void 0:H[ir]}constructor(H,R,q,me,Xe,Ue,Yt,An,Ar){this.url=H,this.params=R,this.queryParams=q,this.fragment=me,this.data=Xe,this.outlet=Ue,this.component=Yt,this.routeConfig=An,this._resolve=Ar}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Pr(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Pr(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(q=>q.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class uo extends Ao{constructor(H,R){super(R),this.url=H,zs(this,R)}toString(){return Eo(this._root)}}function zs(V,H){H.value._routerState=V,H.children.forEach(R=>zs(V,R))}function Eo(V){const H=V.children.length>0?` { ${V.children.map(Eo).join(", ")} } `:"";return`${V.value}${H}`}function _o(V){if(V.snapshot){const H=V.snapshot,R=V._futureSnapshot;V.snapshot=R,Rn(H.queryParams,R.queryParams)||V.queryParamsSubject.next(R.queryParams),H.fragment!==R.fragment&&V.fragmentSubject.next(R.fragment),Rn(H.params,R.params)||V.paramsSubject.next(R.params),function xr(V,H){if(V.length!==H.length)return!1;for(let R=0;R<V.length;++R)if(!Rn(V[R],H[R]))return!1;return!0}(H.url,R.url)||V.urlSubject.next(R.url),Rn(H.data,R.data)||V.dataSubject.next(R.data)}else V.snapshot=V._futureSnapshot,V.dataSubject.next(V._futureSnapshot.data)}function wo(V,H){const R=Rn(V.params,H.params)&&function Ei(V,H){return Er(V,H)&&V.every((R,q)=>Rn(R.parameters,H[q].parameters))}(V.url,H.url);return R&&!(!V.parent!=!H.parent)&&(!V.parent||wo(V.parent,H.parent))}let As=(()=>{class V{constructor(){this.activated=null,this._activatedRoute=null,this.name=un,this.activateEvents=new d.vpe,this.deactivateEvents=new d.vpe,this.attachEvents=new d.vpe,this.detachEvents=new d.vpe,this.parentContexts=(0,d.f3M)(Ts),this.location=(0,d.f3M)(d.s_b),this.changeDetector=(0,d.f3M)(d.sBO),this.environmentInjector=(0,d.f3M)(d.lqb),this.inputBinder=(0,d.f3M)(bs,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(R){if(R.name){const{firstChange:q,previousValue:me}=R.name;if(q)return;this.isTrackedInParentContexts(me)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(me)),this.initializeOutletWithName()}}ngOnDestroy(){var R;this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),null===(R=this.inputBinder)||void 0===R||R.unsubscribeFromRouteData(this)}isTrackedInParentContexts(R){var q;return(null===(q=this.parentContexts.getContext(R))||void 0===q?void 0:q.outlet)===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const R=this.parentContexts.getContext(this.name);null!=R&&R.route&&(R.attachRef?this.attach(R.attachRef,R.route):this.activateWith(R.route,R.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new d.vHH(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new d.vHH(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new d.vHH(4012,!1);this.location.detach();const R=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(R.instance),R}attach(R,q){var me;this.activated=R,this._activatedRoute=q,this.location.insert(R.hostView),null===(me=this.inputBinder)||void 0===me||me.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(R.instance)}deactivate(){if(this.activated){const R=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(R)}}activateWith(R,q){var me;if(this.isActivated)throw new d.vHH(4013,!1);this._activatedRoute=R;const Xe=this.location,Yt=R.snapshot.component,An=this.parentContexts.getOrCreateContext(this.name).children,Ar=new qo(R,An,Xe.injector);this.activated=Xe.createComponent(Yt,{index:Xe.length,injector:Ar,environmentInjector:null!=q?q:this.environmentInjector}),this.changeDetector.markForCheck(),null===(me=this.inputBinder)||void 0===me||me.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}}return V.\u0275fac=function(R){return new(R||V)},V.\u0275dir=d.lG2({type:V,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[d.TTD]}),V})();class qo{constructor(H,R,q){this.route=H,this.childContexts=R,this.parent=q}get(H,R){return H===_s?this.route:H===Ts?this.childContexts:this.parent.get(H,R)}}const bs=new d.OlP("");let xi=(()=>{class V{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(R){this.unsubscribeFromRouteData(R),this.subscribeToRouteData(R)}unsubscribeFromRouteData(R){var q;null===(q=this.outletDataSubscriptions.get(R))||void 0===q||q.unsubscribe(),this.outletDataSubscriptions.delete(R)}subscribeToRouteData(R){const{activatedRoute:q}=R,me=pt([q.queryParams,q.params,q.data]).pipe((0,Je.w)(([Xe,Ue,Yt],An)=>(Yt={...Xe,...Ue,...Yt},0===An?(0,ze.of)(Yt):Promise.resolve(Yt)))).subscribe(Xe=>{if(!R.isActivated||!R.activatedComponentRef||R.activatedRoute!==q||null===q.component)return void this.unsubscribeFromRouteData(R);const Ue=(0,d.qFp)(q.component);if(Ue)for(const{templateName:Yt}of Ue.inputs)R.activatedComponentRef.setInput(Yt,Xe[Yt]);else this.unsubscribeFromRouteData(R)});this.outletDataSubscriptions.set(R,me)}}return V.\u0275fac=function(R){return new(R||V)},V.\u0275prov=d.Yz7({token:V,factory:V.\u0275fac}),V})();function Yi(V,H,R){if(R&&V.shouldReuseRoute(H.value,R.value.snapshot)){const q=R.value;q._futureSnapshot=H.value;const me=function Ri(V,H,R){return H.children.map(q=>{for(const me of R.children)if(V.shouldReuseRoute(q.value,me.value.snapshot))return Yi(V,q,me);return Yi(V,q)})}(V,H,R);return new Jr(q,me)}{if(V.shouldAttach(H.value)){const Xe=V.retrieve(H.value);if(null!==Xe){const Ue=Xe.route;return Ue.value._futureSnapshot=H.value,Ue.children=H.children.map(Yt=>Yi(V,Yt)),Ue}}const q=function Bs(V){return new _s(new Se.X(V.url),new Se.X(V.params),new Se.X(V.queryParams),new Se.X(V.fragment),new Se.X(V.data),V.outlet,V.component,V)}(H.value),me=H.children.map(Xe=>Yi(V,Xe));return new Jr(q,me)}}const Ys="ngNavigationCancelingError";function Io(V,H){const{redirectTo:R,navigationBehaviorOptions:q}=fn(H)?{redirectTo:H,navigationBehaviorOptions:void 0}:H,me=hs(!1,0,H);return me.url=R,me.navigationBehaviorOptions=q,me}function hs(V,H,R){const q=new Error("NavigationCancelingError: "+(V||""));return q[Ys]=!0,q.cancellationCode=H,R&&(q.url=R),q}function fs(V){return ho(V)&&fn(V.url)}function ho(V){return V&&V[Ys]}let oo=(()=>{class V{}return V.\u0275fac=function(R){return new(R||V)},V.\u0275cmp=d.Xpm({type:V,selectors:[["ng-component"]],standalone:!0,features:[d.jDz],decls:1,vars:0,template:function(R,q){1&R&&d._UZ(0,"router-outlet")},dependencies:[As],encapsulation:2}),V})();function Ro(V){const H=V.children&&V.children.map(Ro),R=H?{...V,children:H}:{...V};return!R.component&&!R.loadComponent&&(H||R.loadChildren)&&R.outlet&&R.outlet!==un&&(R.component=oo),R}function us(V){return V.outlet||un}function fo(V){var H;if(!V)return null;if(null!==(H=V.routeConfig)&&void 0!==H&&H._injector)return V.routeConfig._injector;for(let R=V.parent;R;R=R.parent){const q=R.routeConfig;if(null!=q&&q._loadedInjector)return q._loadedInjector;if(null!=q&&q._injector)return q._injector}return null}class O{constructor(H,R,q,me,Xe){this.routeReuseStrategy=H,this.futureState=R,this.currState=q,this.forwardEvent=me,this.inputBindingEnabled=Xe}activate(H){const R=this.futureState._root,q=this.currState?this.currState._root:null;this.deactivateChildRoutes(R,q,H),_o(this.futureState.root),this.activateChildRoutes(R,q,H)}deactivateChildRoutes(H,R,q){const me=Ur(R);H.children.forEach(Xe=>{const Ue=Xe.value.outlet;this.deactivateRoutes(Xe,me[Ue],q),delete me[Ue]}),Object.values(me).forEach(Xe=>{this.deactivateRouteAndItsChildren(Xe,q)})}deactivateRoutes(H,R,q){const me=H.value,Xe=R?R.value:null;if(me===Xe)if(me.component){const Ue=q.getContext(me.outlet);Ue&&this.deactivateChildRoutes(H,R,Ue.children)}else this.deactivateChildRoutes(H,R,q);else Xe&&this.deactivateRouteAndItsChildren(R,q)}deactivateRouteAndItsChildren(H,R){H.value.component&&this.routeReuseStrategy.shouldDetach(H.value.snapshot)?this.detachAndStoreRouteSubtree(H,R):this.deactivateRouteAndOutlet(H,R)}detachAndStoreRouteSubtree(H,R){const q=R.getContext(H.value.outlet),me=q&&H.value.component?q.children:R,Xe=Ur(H);for(const Ue of Object.keys(Xe))this.deactivateRouteAndItsChildren(Xe[Ue],me);if(q&&q.outlet){const Ue=q.outlet.detach(),Yt=q.children.onOutletDeactivated();this.routeReuseStrategy.store(H.value.snapshot,{componentRef:Ue,route:H,contexts:Yt})}}deactivateRouteAndOutlet(H,R){const q=R.getContext(H.value.outlet),me=q&&H.value.component?q.children:R,Xe=Ur(H);for(const Ue of Object.keys(Xe))this.deactivateRouteAndItsChildren(Xe[Ue],me);q&&(q.outlet&&(q.outlet.deactivate(),q.children.onOutletDeactivated()),q.attachRef=null,q.route=null)}activateChildRoutes(H,R,q){const me=Ur(R);H.children.forEach(Xe=>{this.activateRoutes(Xe,me[Xe.value.outlet],q),this.forwardEvent(new Mr(Xe.value.snapshot))}),H.children.length&&this.forwardEvent(new Ji(H.value.snapshot))}activateRoutes(H,R,q){const me=H.value,Xe=R?R.value:null;if(_o(me),me===Xe)if(me.component){const Ue=q.getOrCreateContext(me.outlet);this.activateChildRoutes(H,R,Ue.children)}else this.activateChildRoutes(H,R,q);else if(me.component){const Ue=q.getOrCreateContext(me.outlet);if(this.routeReuseStrategy.shouldAttach(me.snapshot)){const Yt=this.routeReuseStrategy.retrieve(me.snapshot);this.routeReuseStrategy.store(me.snapshot,null),Ue.children.onOutletReAttached(Yt.contexts),Ue.attachRef=Yt.componentRef,Ue.route=Yt.route.value,Ue.outlet&&Ue.outlet.attach(Yt.componentRef,Yt.route.value),_o(Yt.route.value),this.activateChildRoutes(H,null,Ue.children)}else{const Yt=fo(me.snapshot);Ue.attachRef=null,Ue.route=me,Ue.injector=Yt,Ue.outlet&&Ue.outlet.activateWith(me,Ue.injector),this.activateChildRoutes(H,null,Ue.children)}}else this.activateChildRoutes(H,null,q)}}class he{constructor(H){this.path=H,this.route=this.path[this.path.length-1]}}class N{constructor(H,R){this.component=H,this.route=R}}function ce(V,H,R){const q=V._root;return Tr(q,H?H._root:null,R,[q.value])}function _n(V,H){const R=Symbol(),q=H.get(V,R);return q===R?"function"!=typeof V||(0,d.Z0I)(V)?H.get(V):V:q}function Tr(V,H,R,q,me={canDeactivateChecks:[],canActivateChecks:[]}){const Xe=Ur(H);return V.children.forEach(Ue=>{(function Xn(V,H,R,q,me={canDeactivateChecks:[],canActivateChecks:[]}){const Xe=V.value,Ue=H?H.value:null,Yt=R?R.getContext(V.value.outlet):null;if(Ue&&Xe.routeConfig===Ue.routeConfig){const An=function hi(V,H,R){if("function"==typeof R)return R(V,H);switch(R){case"pathParamsChange":return!Er(V.url,H.url);case"pathParamsOrQueryParamsChange":return!Er(V.url,H.url)||!Rn(V.queryParams,H.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!wo(V,H)||!Rn(V.queryParams,H.queryParams);default:return!wo(V,H)}}(Ue,Xe,Xe.routeConfig.runGuardsAndResolvers);An?me.canActivateChecks.push(new he(q)):(Xe.data=Ue.data,Xe._resolvedData=Ue._resolvedData),Tr(V,H,Xe.component?Yt?Yt.children:null:R,q,me),An&&Yt&&Yt.outlet&&Yt.outlet.isActivated&&me.canDeactivateChecks.push(new N(Yt.outlet.component,Ue))}else Ue&&ni(H,Yt,me),me.canActivateChecks.push(new he(q)),Tr(V,null,Xe.component?Yt?Yt.children:null:R,q,me)})(Ue,Xe[Ue.value.outlet],R,q.concat([Ue.value]),me),delete Xe[Ue.value.outlet]}),Object.entries(Xe).forEach(([Ue,Yt])=>ni(Yt,R.getContext(Ue),me)),me}function ni(V,H,R){const q=Ur(V),me=V.value;Object.entries(q).forEach(([Xe,Ue])=>{ni(Ue,me.component?H?H.children.getContext(Xe):null:H,R)}),R.canDeactivateChecks.push(new N(me.component&&H&&H.outlet&&H.outlet.isActivated?H.outlet.component:null,me))}function Es(V){return"function"==typeof V}function L(V){return V instanceof $e.K||"EmptyError"===(null==V?void 0:V.name)}const ge=Symbol("INITIAL_VALUE");function ht(){return(0,Je.w)(V=>pt(V.map(H=>H.pipe((0,ct.q)(1),(0,mt.O)(ge)))).pipe((0,Te.U)(H=>{for(const R of H)if(!0!==R){if(R===ge)return ge;if(!1===R||R instanceof Ai)return R}return!0}),(0,et.h)(H=>H!==ge),(0,ct.q)(1)))}function qs(V){return(0,It.z)((0,Nt.b)(H=>{if(fn(H))throw Io(0,H)}),(0,Te.U)(H=>!0===H))}class Ws{constructor(H){this.segmentGroup=H||null}}class wi{constructor(H){this.urlTree=H}}function Cs(V){return St(new Ws(V))}function no(V){return St(new wi(V))}class sa{constructor(H,R){this.urlSerializer=H,this.urlTree=R}noMatchError(H){return new d.vHH(4002,!1)}lineralizeSegments(H,R){let q=[],me=R.root;for(;;){if(q=q.concat(me.segments),0===me.numberOfChildren)return(0,ze.of)(q);if(me.numberOfChildren>1||!me.children[un])return St(new d.vHH(4e3,!1));me=me.children[un]}}applyRedirectCommands(H,R,q){return this.applyRedirectCreateUrlTree(R,this.urlSerializer.parse(R),H,q)}applyRedirectCreateUrlTree(H,R,q,me){const Xe=this.createSegmentGroup(H,R.root,q,me);return new Ai(Xe,this.createQueryParams(R.queryParams,this.urlTree.queryParams),R.fragment)}createQueryParams(H,R){const q={};return Object.entries(H).forEach(([me,Xe])=>{if("string"==typeof Xe&&Xe.startsWith(":")){const Yt=Xe.substring(1);q[me]=R[Yt]}else q[me]=Xe}),q}createSegmentGroup(H,R,q,me){const Xe=this.createSegments(H,R.segments,q,me);let Ue={};return Object.entries(R.children).forEach(([Yt,An])=>{Ue[Yt]=this.createSegmentGroup(H,An,q,me)}),new br(Xe,Ue)}createSegments(H,R,q,me){return R.map(Xe=>Xe.path.startsWith(":")?this.findPosParam(H,Xe,me):this.findOrReturn(Xe,q))}findPosParam(H,R,q){const me=q[R.path.substring(1)];if(!me)throw new d.vHH(4001,!1);return me}findOrReturn(H,R){let q=0;for(const me of R){if(me.path===H.path)return R.splice(q),me;q++}return H}}const Jo={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Da(V,H,R,q,me){const Xe=Sa(V,H,R);return Xe.matched?(q=function Ni(V,H){var R;return V.providers&&!V._injector&&(V._injector=(0,d.MMx)(V.providers,H,`Route: ${V.path}`)),null!==(R=V._injector)&&void 0!==R?R:H}(H,q),function xs(V,H,R,q){const me=H.canMatch;if(!me||0===me.length)return(0,ze.of)(!0);const Xe=me.map(Ue=>{const Yt=_n(Ue,V);return ar(function $(V){return V&&Es(V.canMatch)}(Yt)?Yt.canMatch(H,R):V.runInContext(()=>Yt(H,R)))});return(0,ze.of)(Xe).pipe(ht(),qs())}(q,H,R).pipe((0,Te.U)(Ue=>!0===Ue?Xe:{...Jo}))):(0,ze.of)(Xe)}function Sa(V,H,R){var q,me;if(""===H.path)return"full"===H.pathMatch&&(V.hasChildren()||R.length>0)?{...Jo}:{matched:!0,consumedSegments:[],remainingSegments:R,parameters:{},positionalParamSegments:{}};const Ue=(H.matcher||$r)(R,V,H);if(!Ue)return{...Jo};const Yt={};Object.entries(null!==(q=Ue.posParams)&&void 0!==q?q:{}).forEach(([Ar,Mi])=>{Yt[Ar]=Mi.path});const An=Ue.consumed.length>0?{...Yt,...Ue.consumed[Ue.consumed.length-1].parameters}:Yt;return{matched:!0,consumedSegments:Ue.consumed,remainingSegments:R.slice(Ue.consumed.length),parameters:An,positionalParamSegments:null!==(me=Ue.posParams)&&void 0!==me?me:{}}}function na(V,H,R,q){return R.length>0&&function To(V,H,R){return R.some(q=>Oo(V,H,q)&&us(q)!==un)}(V,R,q)?{segmentGroup:new br(H,Vs(q,new br(R,V.children))),slicedSegments:[]}:0===R.length&&function oa(V,H,R){return R.some(q=>Oo(V,H,q))}(V,R,q)?{segmentGroup:new br(V.segments,Na(V,0,R,q,V.children)),slicedSegments:R}:{segmentGroup:new br(V.segments,V.children),slicedSegments:R}}function Na(V,H,R,q,me){const Xe={};for(const Ue of q)if(Oo(V,R,Ue)&&!me[us(Ue)]){const Yt=new br([],{});Xe[us(Ue)]=Yt}return{...me,...Xe}}function Vs(V,H){const R={};R[un]=H;for(const q of V)if(""===q.path&&us(q)!==un){const me=new br([],{});R[us(q)]=me}return R}function Oo(V,H,R){return(!(V.hasChildren()||H.length>0)||"full"!==R.pathMatch)&&""===R.path}class oe{constructor(H,R,q,me,Xe,Ue,Yt){this.injector=H,this.configLoader=R,this.rootComponentType=q,this.config=me,this.urlTree=Xe,this.paramsInheritanceStrategy=Ue,this.urlSerializer=Yt,this.allowRedirects=!0,this.applyRedirects=new sa(this.urlSerializer,this.urlTree)}noMatchError(H){return new d.vHH(4002,!1)}recognize(){const H=na(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,H,un).pipe(Qt(R=>{if(R instanceof wi)return this.allowRedirects=!1,this.urlTree=R.urlTree,this.match(R.urlTree);throw R instanceof Ws?this.noMatchError(R):R}),(0,Te.U)(R=>{const q=new eo([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},un,this.rootComponentType,null,{}),me=new Jr(q,R),Xe=new uo("",me),Ue=function Yn(V,H,R=null,q=null){return Fr(pr(V),H,R,q)}(q,[],this.urlTree.queryParams,this.urlTree.fragment);return Ue.queryParams=this.urlTree.queryParams,Xe.url=this.urlSerializer.serialize(Ue),this.inheritParamsAndData(Xe._root),{state:Xe,tree:Ue}}))}match(H){return this.processSegmentGroup(this.injector,this.config,H.root,un).pipe(Qt(q=>{throw q instanceof Ws?this.noMatchError(q):q}))}inheritParamsAndData(H){const R=H.value,q=ki(R,this.paramsInheritanceStrategy);R.params=Object.freeze(q.params),R.data=Object.freeze(q.data),H.children.forEach(me=>this.inheritParamsAndData(me))}processSegmentGroup(H,R,q,me){return 0===q.segments.length&&q.hasChildren()?this.processChildren(H,R,q):this.processSegment(H,R,q,q.segments,me,!0)}processChildren(H,R,q){const me=[];for(const Xe of Object.keys(q.children))"primary"===Xe?me.unshift(Xe):me.push(Xe);return(0,qe.D)(me).pipe(Ut(Xe=>{const Ue=q.children[Xe],Yt=function Mo(V,H){const R=V.filter(q=>us(q)===H);return R.push(...V.filter(q=>us(q)!==H)),R}(R,Xe);return this.processSegmentGroup(H,Yt,Ue,Xe)}),(0,sn.R)((Xe,Ue)=>(Xe.push(...Ue),Xe)),(0,On.d)(null),function cn(V,H){const R=arguments.length>=2;return q=>q.pipe(V?(0,et.h)((me,Xe)=>V(me,Xe,q)):Ze.y,tn(1),R?(0,On.d)(H):(0,vt.T)(()=>new $e.K))}(),(0,tt.z)(Xe=>{if(null===Xe)return Cs(q);const Ue=at(Xe);return function De(V){V.sort((H,R)=>H.value.outlet===un?-1:R.value.outlet===un?1:H.value.outlet.localeCompare(R.value.outlet))}(Ue),(0,ze.of)(Ue)}))}processSegment(H,R,q,me,Xe,Ue){return(0,qe.D)(R).pipe(Ut(Yt=>{var An;return this.processSegmentAgainstRoute(null!==(An=Yt._injector)&&void 0!==An?An:H,R,Yt,q,me,Xe,Ue).pipe(Qt(Ar=>{if(Ar instanceof Ws)return(0,ze.of)(null);throw Ar}))}),(0,ut.P)(Yt=>!!Yt),Qt(Yt=>{if(L(Yt))return function M(V,H,R){return 0===H.length&&!V.children[R]}(q,me,Xe)?(0,ze.of)([]):Cs(q);throw Yt}))}processSegmentAgainstRoute(H,R,q,me,Xe,Ue,Yt){return function Ta(V,H,R,q){return!!(us(V)===q||q!==un&&Oo(H,R,V))&&("**"===V.path||Sa(H,V,R).matched)}(q,me,Xe,Ue)?void 0===q.redirectTo?this.matchSegmentAgainstRoute(H,me,q,Xe,Ue,Yt):Yt&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(H,me,R,q,Xe,Ue):Cs(me):Cs(me)}expandSegmentAgainstRouteUsingRedirect(H,R,q,me,Xe,Ue){return"**"===me.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(H,q,me,Ue):this.expandRegularSegmentAgainstRouteUsingRedirect(H,R,q,me,Xe,Ue)}expandWildCardWithParamsAgainstRouteUsingRedirect(H,R,q,me){const Xe=this.applyRedirects.applyRedirectCommands([],q.redirectTo,{});return q.redirectTo.startsWith("/")?no(Xe):this.applyRedirects.lineralizeSegments(q,Xe).pipe((0,tt.z)(Ue=>{const Yt=new br(Ue,{});return this.processSegment(H,R,Yt,Ue,me,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(H,R,q,me,Xe,Ue){const{matched:Yt,consumedSegments:An,remainingSegments:Ar,positionalParamSegments:Mi}=Sa(R,me,Xe);if(!Yt)return Cs(R);const Zr=this.applyRedirects.applyRedirectCommands(An,me.redirectTo,Mi);return me.redirectTo.startsWith("/")?no(Zr):this.applyRedirects.lineralizeSegments(me,Zr).pipe((0,tt.z)(ko=>this.processSegment(H,q,R,ko.concat(Ar),Ue,!1)))}matchSegmentAgainstRoute(H,R,q,me,Xe,Ue){let Yt;if("**"===q.path){var An,Ar;const Mi=me.length>0?Gr(me).parameters:{},Zr=new eo(me,Mi,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Wt(q),us(q),null!==(An=null!==(Ar=q.component)&&void 0!==Ar?Ar:q._loadedComponent)&&void 0!==An?An:null,q,rn(q));Yt=(0,ze.of)({snapshot:Zr,consumedSegments:[],remainingSegments:[]}),R.children={}}else Yt=Da(R,q,me,H).pipe((0,Te.U)(({matched:Mi,consumedSegments:Zr,remainingSegments:ko,parameters:m})=>{var l,s;return Mi?{snapshot:new eo(Zr,m,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Wt(q),us(q),null!==(l=null!==(s=q.component)&&void 0!==s?s:q._loadedComponent)&&void 0!==l?l:null,q,rn(q)),consumedSegments:Zr,remainingSegments:ko}:null}));return Yt.pipe((0,Je.w)(Mi=>{var Zr;return null===Mi?Cs(R):(H=null!==(Zr=q._injector)&&void 0!==Zr?Zr:H,this.getChildConfig(H,q,me).pipe((0,Je.w)(({routes:ko})=>{var m;const l=null!==(m=q._loadedInjector)&&void 0!==m?m:H,{snapshot:s,consumedSegments:c,remainingSegments:f}=Mi,{segmentGroup:_,slicedSegments:I}=na(R,c,f,ko);if(0===I.length&&_.hasChildren())return this.processChildren(l,ko,_).pipe((0,Te.U)(k=>null===k?null:[new Jr(s,k)]));if(0===ko.length&&0===I.length)return(0,ze.of)([new Jr(s,[])]);const A=us(q)===Xe;return this.processSegment(l,ko,_,I,A?un:Xe,!0).pipe((0,Te.U)(k=>[new Jr(s,k)]))})))}))}getChildConfig(H,R,q){return R.children?(0,ze.of)({routes:R.children,injector:H}):R.loadChildren?void 0!==R._loadedRoutes?(0,ze.of)({routes:R._loadedRoutes,injector:R._loadedInjector}):function Zi(V,H,R,q){const me=H.canLoad;if(void 0===me||0===me.length)return(0,ze.of)(!0);const Xe=me.map(Ue=>{const Yt=_n(Ue,V);return ar(function Hs(V){return V&&Es(V.canLoad)}(Yt)?Yt.canLoad(H,R):V.runInContext(()=>Yt(H,R)))});return(0,ze.of)(Xe).pipe(ht(),qs())}(H,R,q).pipe((0,tt.z)(me=>me?this.configLoader.loadChildren(H,R).pipe((0,Nt.b)(Xe=>{R._loadedRoutes=Xe.routes,R._loadedInjector=Xe.injector})):function So(V){return St(hs(!1,3))}())):(0,ze.of)({routes:[],injector:H})}}function Be(V){const H=V.value.routeConfig;return H&&""===H.path}function at(V){const H=[],R=new Set;for(const q of V){if(!Be(q)){H.push(q);continue}const me=H.find(Xe=>q.value.routeConfig===Xe.value.routeConfig);void 0!==me?(me.children.push(...q.children),R.add(me)):H.push(q)}for(const q of R){const me=at(q.children);H.push(new Jr(q.value,me))}return H.filter(q=>!R.has(q))}function Wt(V){return V.data||{}}function rn(V){return V.resolve||{}}function K(V){return"string"==typeof V.title||null===V.title}function de(V){return(0,Je.w)(H=>{const R=V(H);return R?(0,qe.D)(R).pipe((0,Te.U)(()=>H)):(0,ze.of)(H)})}const Q=new d.OlP("ROUTES");let Pe=(()=>{class V{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,d.f3M)(d.Sil)}loadComponent(R){if(this.componentLoaders.get(R))return this.componentLoaders.get(R);if(R._loadedComponent)return(0,ze.of)(R._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(R);const q=ar(R.loadComponent()).pipe((0,Te.U)(mn),(0,Nt.b)(Xe=>{this.onLoadEndListener&&this.onLoadEndListener(R),R._loadedComponent=Xe}),(0,qn.x)(()=>{this.componentLoaders.delete(R)})),me=new Dt(q,()=>new Ft.x).pipe(Gt());return this.componentLoaders.set(R,me),me}loadChildren(R,q){if(this.childrenLoaders.get(q))return this.childrenLoaders.get(q);if(q._loadedRoutes)return(0,ze.of)({routes:q._loadedRoutes,injector:q._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(q);const Xe=this.loadModuleFactoryOrRoutes(q.loadChildren).pipe((0,Te.U)(Yt=>{this.onLoadEndListener&&this.onLoadEndListener(q);let An,Ar;return Array.isArray(Yt)?Ar=Yt:(An=Yt.create(R).injector,Ar=An.get(Q,[],d.XFs.Self|d.XFs.Optional).flat()),{routes:Ar.map(Ro),injector:An}}),(0,qn.x)(()=>{this.childrenLoaders.delete(q)})),Ue=new Dt(Xe,()=>new Ft.x).pipe(Gt());return this.childrenLoaders.set(q,Ue),Ue}loadModuleFactoryOrRoutes(R){return ar(R()).pipe((0,Te.U)(mn),(0,tt.z)(q=>q instanceof d.YKP||Array.isArray(q)?(0,ze.of)(q):(0,qe.D)(this.compiler.compileModuleAsync(q))))}}return V.\u0275fac=function(R){return new(R||V)},V.\u0275prov=d.Yz7({token:V,factory:V.\u0275fac,providedIn:"root"}),V})();function mn(V){return function _t(V){return V&&"object"==typeof V&&"default"in V}(V)?V.default:V}let Pn=(()=>{class V{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new Ft.x,this.configLoader=(0,d.f3M)(Pe),this.environmentInjector=(0,d.f3M)(d.lqb),this.urlSerializer=(0,d.f3M)(Ne),this.rootContexts=(0,d.f3M)(Ts),this.inputBindingEnabled=null!==(0,d.f3M)(bs,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,ze.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=me=>this.events.next(new Qr(me)),this.configLoader.onLoadStartListener=me=>this.events.next(new Nr(me))}complete(){var R;null===(R=this.transitions)||void 0===R||R.complete()}handleNavigationRequest(R){var q;const me=++this.navigationId;null===(q=this.transitions)||void 0===q||q.next({...this.transitions.value,...R,id:me})}setupNavigations(R){return this.transitions=new Se.X({id:0,currentUrlTree:R.currentUrlTree,currentRawUrl:R.currentUrlTree,extractedUrl:R.urlHandlingStrategy.extract(R.currentUrlTree),urlAfterRedirects:R.urlHandlingStrategy.extract(R.currentUrlTree),rawUrl:R.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:re,restoredState:null,currentSnapshot:R.routerState.snapshot,targetSnapshot:null,currentRouterState:R.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,et.h)(q=>0!==q.id),(0,Te.U)(q=>({...q,extractedUrl:R.urlHandlingStrategy.extract(q.rawUrl)})),(0,Je.w)(q=>{let me=!1,Xe=!1;return(0,ze.of)(q).pipe((0,Nt.b)(Ue=>{this.currentNavigation={id:Ue.id,initialUrl:Ue.rawUrl,extractedUrl:Ue.extractedUrl,trigger:Ue.source,extras:Ue.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,Je.w)(Ue=>{var Yt;const An=R.browserUrlTree.toString(),Ar=!R.navigated||Ue.extractedUrl.toString()!==An||An!==R.currentUrlTree.toString(),Mi=null!==(Yt=Ue.extras.onSameUrlNavigation)&&void 0!==Yt?Yt:R.onSameUrlNavigation;if(!Ar&&"reload"!==Mi){const Zr="";return this.events.next(new ve(Ue.id,R.serializeUrl(q.rawUrl),Zr,0)),R.rawUrlTree=Ue.rawUrl,Ue.resolve(null),Ct.E}if(R.urlHandlingStrategy.shouldProcessUrl(Ue.rawUrl))return ii(Ue.source)&&(R.browserUrlTree=Ue.extractedUrl),(0,ze.of)(Ue).pipe((0,Je.w)(Zr=>{var ko,m;const l=null===(ko=this.transitions)||void 0===ko?void 0:ko.getValue();return this.events.next(new Oe(Zr.id,this.urlSerializer.serialize(Zr.extractedUrl),Zr.source,Zr.restoredState)),l!==(null===(m=this.transitions)||void 0===m?void 0:m.getValue())?Ct.E:Promise.resolve(Zr)}),function Fn(V,H,R,q,me,Xe){return(0,tt.z)(Ue=>function Z(V,H,R,q,me,Xe,Ue="emptyOnly"){return new oe(V,H,R,q,me,Ue,Xe).recognize()}(V,H,R,q,Ue.extractedUrl,me,Xe).pipe((0,Te.U)(({state:Yt,tree:An})=>({...Ue,targetSnapshot:Yt,urlAfterRedirects:An}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,R.config,this.urlSerializer,R.paramsInheritanceStrategy),(0,Nt.b)(Zr=>{if(q.targetSnapshot=Zr.targetSnapshot,q.urlAfterRedirects=Zr.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:Zr.urlAfterRedirects},"eager"===R.urlUpdateStrategy){if(!Zr.extras.skipLocationChange){const m=R.urlHandlingStrategy.merge(Zr.urlAfterRedirects,Zr.rawUrl);R.setBrowserUrl(m,Zr)}R.browserUrlTree=Zr.urlAfterRedirects}const ko=new wt(Zr.id,this.urlSerializer.serialize(Zr.extractedUrl),this.urlSerializer.serialize(Zr.urlAfterRedirects),Zr.targetSnapshot);this.events.next(ko)}));if(Ar&&R.urlHandlingStrategy.shouldProcessUrl(R.rawUrlTree)){const{id:Zr,extractedUrl:ko,source:m,restoredState:l,extras:s}=Ue,c=new Oe(Zr,this.urlSerializer.serialize(ko),m,l);this.events.next(c);const f=qr(0,this.rootComponentType).snapshot;return q={...Ue,targetSnapshot:f,urlAfterRedirects:ko,extras:{...s,skipLocationChange:!1,replaceUrl:!1}},(0,ze.of)(q)}{const Zr="";return this.events.next(new ve(Ue.id,R.serializeUrl(q.extractedUrl),Zr,1)),R.rawUrlTree=Ue.rawUrl,Ue.resolve(null),Ct.E}}),(0,Nt.b)(Ue=>{const Yt=new $t(Ue.id,this.urlSerializer.serialize(Ue.extractedUrl),this.urlSerializer.serialize(Ue.urlAfterRedirects),Ue.targetSnapshot);this.events.next(Yt)}),(0,Te.U)(Ue=>q={...Ue,guards:ce(Ue.targetSnapshot,Ue.currentSnapshot,this.rootContexts)}),function Pt(V,H){return(0,tt.z)(R=>{const{targetSnapshot:q,currentSnapshot:me,guards:{canActivateChecks:Xe,canDeactivateChecks:Ue}}=R;return 0===Ue.length&&0===Xe.length?(0,ze.of)({...R,guardsResult:!0}):function dn(V,H,R,q){return(0,qe.D)(V).pipe((0,tt.z)(me=>function mi(V,H,R,q,me){const Xe=H&&H.routeConfig?H.routeConfig.canDeactivate:null;if(!Xe||0===Xe.length)return(0,ze.of)(!0);const Ue=Xe.map(Yt=>{var An;const Ar=null!==(An=fo(H))&&void 0!==An?An:me,Mi=_n(Yt,Ar);return ar(function le(V){return V&&Es(V.canDeactivate)}(Mi)?Mi.canDeactivate(V,H,R,q):Ar.runInContext(()=>Mi(V,H,R,q))).pipe((0,ut.P)())});return(0,ze.of)(Ue).pipe(ht())}(me.component,me.route,R,H,q)),(0,ut.P)(me=>!0!==me,!0))}(Ue,q,me,V).pipe((0,tt.z)(Yt=>Yt&&function Ci(V){return"boolean"==typeof V}(Yt)?function Mn(V,H,R,q){return(0,qe.D)(H).pipe(Ut(me=>(0,kt.z)(function ui(V,H){return null!==V&&H&&H(new vs(V)),(0,ze.of)(!0)}(me.route.parent,q),function ci(V,H){return null!==V&&H&&H(new Ti(V)),(0,ze.of)(!0)}(me.route,q),function vi(V,H,R){const q=H[H.length-1],Xe=H.slice(0,H.length-1).reverse().map(Ue=>function Ge(V){const H=V.routeConfig?V.routeConfig.canActivateChild:null;return H&&0!==H.length?{node:V,guards:H}:null}(Ue)).filter(Ue=>null!==Ue).map(Ue=>ft(()=>{const Yt=Ue.guards.map(An=>{var Ar;const Mi=null!==(Ar=fo(Ue.node))&&void 0!==Ar?Ar:R,Zr=_n(An,Mi);return ar(function Ee(V){return V&&Es(V.canActivateChild)}(Zr)?Zr.canActivateChild(q,V):Mi.runInContext(()=>Zr(q,V))).pipe((0,ut.P)())});return(0,ze.of)(Yt).pipe(ht())}));return(0,ze.of)(Xe).pipe(ht())}(V,me.path,R),function gi(V,H,R){const q=H.routeConfig?H.routeConfig.canActivate:null;if(!q||0===q.length)return(0,ze.of)(!0);const me=q.map(Xe=>ft(()=>{var Ue;const Yt=null!==(Ue=fo(H))&&void 0!==Ue?Ue:R,An=_n(Xe,Yt);return ar(function Do(V){return V&&Es(V.canActivate)}(An)?An.canActivate(H,V):Yt.runInContext(()=>An(H,V))).pipe((0,ut.P)())}));return(0,ze.of)(me).pipe(ht())}(V,me.route,R))),(0,ut.P)(me=>!0!==me,!0))}(q,Xe,V,H):(0,ze.of)(Yt)),(0,Te.U)(Yt=>({...R,guardsResult:Yt})))})}(this.environmentInjector,Ue=>this.events.next(Ue)),(0,Nt.b)(Ue=>{if(q.guardsResult=Ue.guardsResult,fn(Ue.guardsResult))throw Io(0,Ue.guardsResult);const Yt=new nn(Ue.id,this.urlSerializer.serialize(Ue.extractedUrl),this.urlSerializer.serialize(Ue.urlAfterRedirects),Ue.targetSnapshot,!!Ue.guardsResult);this.events.next(Yt)}),(0,et.h)(Ue=>!!Ue.guardsResult||(R.restoreHistory(Ue),this.cancelNavigationTransition(Ue,"",3),!1)),de(Ue=>{if(Ue.guards.canActivateChecks.length)return(0,ze.of)(Ue).pipe((0,Nt.b)(Yt=>{const An=new Vn(Yt.id,this.urlSerializer.serialize(Yt.extractedUrl),this.urlSerializer.serialize(Yt.urlAfterRedirects),Yt.targetSnapshot);this.events.next(An)}),(0,Je.w)(Yt=>{let An=!1;return(0,ze.of)(Yt).pipe(function sr(V,H){return(0,tt.z)(R=>{const{targetSnapshot:q,guards:{canActivateChecks:me}}=R;if(!me.length)return(0,ze.of)(R);let Xe=0;return(0,qe.D)(me).pipe(Ut(Ue=>function ri(V,H,R,q){const me=V.routeConfig,Xe=V._resolve;return void 0!==(null==me?void 0:me.title)&&!K(me)&&(Xe[ir]=me.title),function Hr(V,H,R,q){const me=function Ms(V){return[...Object.keys(V),...Object.getOwnPropertySymbols(V)]}(V);if(0===me.length)return(0,ze.of)({});const Xe={};return(0,qe.D)(me).pipe((0,tt.z)(Ue=>function Gs(V,H,R,q){var me;const Xe=null!==(me=fo(H))&&void 0!==me?me:q,Ue=_n(V,Xe);return ar(Ue.resolve?Ue.resolve(H,R):Xe.runInContext(()=>Ue(H,R)))}(V[Ue],H,R,q).pipe((0,ut.P)(),(0,Nt.b)(Yt=>{Xe[Ue]=Yt}))),tn(1),function vn(V){return(0,Te.U)(()=>V)}(Xe),Qt(Ue=>L(Ue)?Ct.E:St(Ue)))}(Xe,V,H,q).pipe((0,Te.U)(Ue=>(V._resolvedData=Ue,V.data=ki(V,R).resolve,me&&K(me)&&(V.data[ir]=me.title),null)))}(Ue.route,q,V,H)),(0,Nt.b)(()=>Xe++),tn(1),(0,tt.z)(Ue=>Xe===me.length?(0,ze.of)(R):Ct.E))})}(R.paramsInheritanceStrategy,this.environmentInjector),(0,Nt.b)({next:()=>An=!0,complete:()=>{An||(R.restoreHistory(Yt),this.cancelNavigationTransition(Yt,"",2))}}))}),(0,Nt.b)(Yt=>{const An=new Un(Yt.id,this.urlSerializer.serialize(Yt.extractedUrl),this.urlSerializer.serialize(Yt.urlAfterRedirects),Yt.targetSnapshot);this.events.next(An)}))}),de(Ue=>{const Yt=An=>{var Ar;const Mi=[];null!==(Ar=An.routeConfig)&&void 0!==Ar&&Ar.loadComponent&&!An.routeConfig._loadedComponent&&Mi.push(this.configLoader.loadComponent(An.routeConfig).pipe((0,Nt.b)(Zr=>{An.component=Zr}),(0,Te.U)(()=>{})));for(const Zr of An.children)Mi.push(...Yt(Zr));return Mi};return pt(Yt(Ue.targetSnapshot.root)).pipe((0,On.d)(),(0,ct.q)(1))}),de(()=>this.afterPreactivation()),(0,Te.U)(Ue=>{const Yt=function No(V,H,R){const q=Yi(V,H._root,R?R._root:void 0);return new ji(q,H)}(R.routeReuseStrategy,Ue.targetSnapshot,Ue.currentRouterState);return q={...Ue,targetRouterState:Yt}}),(0,Nt.b)(Ue=>{R.currentUrlTree=Ue.urlAfterRedirects,R.rawUrlTree=R.urlHandlingStrategy.merge(Ue.urlAfterRedirects,Ue.rawUrl),R.routerState=Ue.targetRouterState,"deferred"===R.urlUpdateStrategy&&(Ue.extras.skipLocationChange||R.setBrowserUrl(R.rawUrlTree,Ue),R.browserUrlTree=Ue.urlAfterRedirects)}),((V,H,R,q)=>(0,Te.U)(me=>(new O(H,me.targetRouterState,me.currentRouterState,R,q).activate(V),me)))(this.rootContexts,R.routeReuseStrategy,Ue=>this.events.next(Ue),this.inputBindingEnabled),(0,ct.q)(1),(0,Nt.b)({next:Ue=>{var Yt;me=!0,this.lastSuccessfulNavigation=this.currentNavigation,R.navigated=!0,this.events.next(new _e(Ue.id,this.urlSerializer.serialize(Ue.extractedUrl),this.urlSerializer.serialize(R.currentUrlTree))),null===(Yt=R.titleStrategy)||void 0===Yt||Yt.updateTitle(Ue.targetRouterState.snapshot),Ue.resolve(!0)},complete:()=>{me=!0}}),(0,qn.x)(()=>{var Ue;me||Xe||this.cancelNavigationTransition(q,"",1),(null===(Ue=this.currentNavigation)||void 0===Ue?void 0:Ue.id)===q.id&&(this.currentNavigation=null)}),Qt(Ue=>{if(Xe=!0,ho(Ue)){fs(Ue)||(R.navigated=!0,R.restoreHistory(q,!0));const An=new ne(q.id,this.urlSerializer.serialize(q.extractedUrl),Ue.message,Ue.cancellationCode);if(this.events.next(An),fs(Ue)){const Ar=R.urlHandlingStrategy.merge(Ue.url,R.rawUrlTree),Mi={skipLocationChange:q.extras.skipLocationChange,replaceUrl:"eager"===R.urlUpdateStrategy||ii(q.source)};R.scheduleNavigation(Ar,re,null,Mi,{resolve:q.resolve,reject:q.reject,promise:q.promise})}else q.resolve(!1)}else{var Yt;R.restoreHistory(q,!0);const An=new st(q.id,this.urlSerializer.serialize(q.extractedUrl),Ue,null!==(Yt=q.targetSnapshot)&&void 0!==Yt?Yt:void 0);this.events.next(An);try{q.resolve(R.errorHandler(Ue))}catch(Ar){q.reject(Ar)}}return Ct.E}))}))}cancelNavigationTransition(R,q,me){const Xe=new ne(R.id,this.urlSerializer.serialize(R.extractedUrl),q,me);this.events.next(Xe),R.resolve(!1)}}return V.\u0275fac=function(R){return new(R||V)},V.\u0275prov=d.Yz7({token:V,factory:V.\u0275fac,providedIn:"root"}),V})();function ii(V){return V!==re}let hr=(()=>{class V{buildTitle(R){let q,me=R.root;for(;void 0!==me;){var Xe;q=null!==(Xe=this.getResolvedTitleForRoute(me))&&void 0!==Xe?Xe:q,me=me.children.find(Ue=>Ue.outlet===un)}return q}getResolvedTitleForRoute(R){return R.data[ir]}}return V.\u0275fac=function(R){return new(R||V)},V.\u0275prov=d.Yz7({token:V,factory:function(){return(0,d.f3M)(Hi)},providedIn:"root"}),V})(),Hi=(()=>{class V extends hr{constructor(R){super(),this.title=R}updateTitle(R){const q=this.buildTitle(R);void 0!==q&&this.title.setTitle(q)}}return V.\u0275fac=function(R){return new(R||V)(d.LFG(ur.Dx))},V.\u0275prov=d.Yz7({token:V,factory:V.\u0275fac,providedIn:"root"}),V})(),ei=(()=>{class V{}return V.\u0275fac=function(R){return new(R||V)},V.\u0275prov=d.Yz7({token:V,factory:function(){return(0,d.f3M)(ds)},providedIn:"root"}),V})();class Li{shouldDetach(H){return!1}store(H,R){}shouldAttach(H){return!1}retrieve(H){return null}shouldReuseRoute(H,R){return H.routeConfig===R.routeConfig}}let ds=(()=>{class V extends Li{}return V.\u0275fac=function(){let H;return function(q){return(H||(H=d.n5z(V)))(q||V)}}(),V.\u0275prov=d.Yz7({token:V,factory:V.\u0275fac,providedIn:"root"}),V})();const Ps=new d.OlP("",{providedIn:"root",factory:()=>({})});let lo=(()=>{class V{}return V.\u0275fac=function(R){return new(R||V)},V.\u0275prov=d.Yz7({token:V,factory:function(){return(0,d.f3M)(Hn)},providedIn:"root"}),V})(),Hn=(()=>{class V{shouldProcessUrl(R){return!0}extract(R){return R}merge(R,q){return R}}return V.\u0275fac=function(R){return new(R||V)},V.\u0275prov=d.Yz7({token:V,factory:V.\u0275fac,providedIn:"root"}),V})();var Bi=(()=>((Bi=Bi||{})[Bi.COMPLETE=0]="COMPLETE",Bi[Bi.FAILED=1]="FAILED",Bi[Bi.REDIRECTING=2]="REDIRECTING",Bi))();function Ho(V,H){V.events.pipe((0,et.h)(R=>R instanceof _e||R instanceof ne||R instanceof st||R instanceof ve),(0,Te.U)(R=>R instanceof _e||R instanceof ve?Bi.COMPLETE:R instanceof ne&&(0===R.code||1===R.code)?Bi.REDIRECTING:Bi.FAILED),(0,et.h)(R=>R!==Bi.REDIRECTING),(0,ct.q)(1)).subscribe(()=>{H()})}function ea(V){throw V}function Rr(V,H,R){return H.parse("/")}const si={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Gn={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Bn=(()=>{class V{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){var R;if("computed"===this.canceledNavigationResolution)return null===(R=this.location.getState())||void 0===R?void 0:R.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){var R,q;this.disposed=!1,this.currentPageId=0,this.console=(0,d.f3M)(d.c2e),this.isNgZoneEnabled=!1,this.options=(0,d.f3M)(Ps,{optional:!0})||{},this.pendingTasks=(0,d.f3M)(d.HDt),this.errorHandler=this.options.errorHandler||ea,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||Rr,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,d.f3M)(lo),this.routeReuseStrategy=(0,d.f3M)(ei),this.titleStrategy=(0,d.f3M)(hr),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=null!==(R=null===(q=(0,d.f3M)(Q,{optional:!0}))||void 0===q?void 0:q.flat())&&void 0!==R?R:[],this.navigationTransitions=(0,d.f3M)(Pn),this.urlSerializer=(0,d.f3M)(Ne),this.location=(0,d.f3M)(qt.Ye),this.componentInputBindingEnabled=!!(0,d.f3M)(bs,{optional:!0}),this.isNgZoneEnabled=(0,d.f3M)(d.R0b)instanceof d.R0b&&d.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Ai,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=qr(0,null),this.navigationTransitions.setupNavigations(this).subscribe(me=>{var Xe;this.lastSuccessfulId=me.id,this.currentPageId=null!==(Xe=this.browserPageId)&&void 0!==Xe?Xe:0},me=>{this.console.warn(`Unhandled Navigation Error: ${me}`)})}resetRootComponentType(R){this.routerState.root.component=R,this.navigationTransitions.rootComponentType=R}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const R=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),re,R)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(R=>{const q="popstate"===R.type?"popstate":"hashchange";"popstate"===q&&setTimeout(()=>{this.navigateToSyncWithBrowser(R.url,q,R.state)},0)}))}navigateToSyncWithBrowser(R,q,me){const Xe={replaceUrl:!0},Ue=null!=me&&me.navigationId?me:null;if(me){const An={...me};delete An.navigationId,delete An.\u0275routerPageId,0!==Object.keys(An).length&&(Xe.state=An)}const Yt=this.parseUrl(R);this.scheduleNavigation(Yt,q,Ue,Xe)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(R){this.config=R.map(Ro),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(R,q={}){const{relativeTo:me,queryParams:Xe,fragment:Ue,queryParamsHandling:Yt,preserveFragment:An}=q,Ar=An?this.currentUrlTree.fragment:Ue;let Zr,Mi=null;switch(Yt){case"merge":Mi={...this.currentUrlTree.queryParams,...Xe};break;case"preserve":Mi=this.currentUrlTree.queryParams;break;default:Mi=Xe||null}null!==Mi&&(Mi=this.removeEmptyProps(Mi));try{Zr=pr(me?me.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof R[0]||!R[0].startsWith("/"))&&(R=[]),Zr=this.currentUrlTree.root}return Fr(Zr,R,Mi,null!=Ar?Ar:null)}navigateByUrl(R,q={skipLocationChange:!1}){const me=fn(R)?R:this.parseUrl(R),Xe=this.urlHandlingStrategy.merge(me,this.rawUrlTree);return this.scheduleNavigation(Xe,re,null,q)}navigate(R,q={skipLocationChange:!1}){return function Dn(V){for(let H=0;H<V.length;H++)if(null==V[H])throw new d.vHH(4008,!1)}(R),this.navigateByUrl(this.createUrlTree(R,q),q)}serializeUrl(R){return this.urlSerializer.serialize(R)}parseUrl(R){let q;try{q=this.urlSerializer.parse(R)}catch(me){q=this.malformedUriErrorHandler(me,this.urlSerializer,R)}return q}isActive(R,q){let me;if(me=!0===q?{...si}:!1===q?{...Gn}:q,fn(R))return lr(this.currentUrlTree,R,me);const Xe=this.parseUrl(R);return lr(this.currentUrlTree,Xe,me)}removeEmptyProps(R){return Object.keys(R).reduce((q,me)=>{const Xe=R[me];return null!=Xe&&(q[me]=Xe),q},{})}scheduleNavigation(R,q,me,Xe,Ue){if(this.disposed)return Promise.resolve(!1);let Yt,An,Ar;Ue?(Yt=Ue.resolve,An=Ue.reject,Ar=Ue.promise):Ar=new Promise((Zr,ko)=>{Yt=Zr,An=ko});const Mi=this.pendingTasks.add();return Ho(this,()=>{Promise.resolve().then(()=>this.pendingTasks.remove(Mi))}),this.navigationTransitions.handleNavigationRequest({source:q,restoredState:me,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:R,extras:Xe,resolve:Yt,reject:An,promise:Ar,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Ar.catch(Zr=>Promise.reject(Zr))}setBrowserUrl(R,q){const me=this.urlSerializer.serialize(R);if(this.location.isCurrentPathEqualTo(me)||q.extras.replaceUrl){const Yt={...q.extras.state,...this.generateNgRouterState(q.id,this.browserPageId)};this.location.replaceState(me,"",Yt)}else{var Xe;const Ue={...q.extras.state,...this.generateNgRouterState(q.id,(null!==(Xe=this.browserPageId)&&void 0!==Xe?Xe:0)+1)};this.location.go(me,"",Ue)}}restoreHistory(R,q=!1){if("computed"===this.canceledNavigationResolution){var me,Xe;const Ue=null!==(me=this.browserPageId)&&void 0!==me?me:this.currentPageId,Yt=this.currentPageId-Ue;0!==Yt?this.location.historyGo(Yt):this.currentUrlTree===(null===(Xe=this.getCurrentNavigation())||void 0===Xe?void 0:Xe.finalUrl)&&0===Yt&&(this.resetState(R),this.browserUrlTree=R.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(q&&this.resetState(R),this.resetUrlToCurrentUrlTree())}resetState(R){this.routerState=R.currentRouterState,this.currentUrlTree=R.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,R.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(R,q){return"computed"===this.canceledNavigationResolution?{navigationId:R,\u0275routerPageId:q}:{navigationId:R}}}return V.\u0275fac=function(R){return new(R||V)},V.\u0275prov=d.Yz7({token:V,factory:V.\u0275fac,providedIn:"root"}),V})(),Zn=(()=>{class V{constructor(R,q,me,Xe,Ue,Yt){var An;this.router=R,this.route=q,this.tabIndexAttribute=me,this.renderer=Xe,this.el=Ue,this.locationStrategy=Yt,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.href=null,this.commands=null,this.onChanges=new Ft.x;const Ar=null===(An=Ue.nativeElement.tagName)||void 0===An?void 0:An.toLowerCase();this.isAnchorElement="a"===Ar||"area"===Ar,this.isAnchorElement?this.subscription=R.events.subscribe(Mi=>{Mi instanceof _e&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(R){this._preserveFragment=(0,d.D6c)(R)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(R){this._skipLocationChange=(0,d.D6c)(R)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(R){this._replaceUrl=(0,d.D6c)(R)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(R){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",R)}ngOnChanges(R){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(R){null!=R?(this.commands=Array.isArray(R)?R:[R],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(R,q,me,Xe,Ue){return!!(null===this.urlTree||this.isAnchorElement&&(0!==R||q||me||Xe||Ue||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){var R;null===(R=this.subscription)||void 0===R||R.unsubscribe()}updateHref(){var R;this.href=null!==this.urlTree&&this.locationStrategy?null===(R=this.locationStrategy)||void 0===R?void 0:R.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const q=null===this.href?null:(0,d.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",q)}applyAttributeValue(R,q){const me=this.renderer,Xe=this.el.nativeElement;null!==q?me.setAttribute(Xe,R,q):me.removeAttribute(Xe,R)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return V.\u0275fac=function(R){return new(R||V)(d.Y36(Bn),d.Y36(_s),d.$8M("tabindex"),d.Y36(d.Qsj),d.Y36(d.SBq),d.Y36(qt.S$))},V.\u0275dir=d.lG2({type:V,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(R,q){1&R&&d.NdJ("click",function(Xe){return q.onClick(Xe.button,Xe.ctrlKey,Xe.shiftKey,Xe.altKey,Xe.metaKey)}),2&R&&d.uIk("target",q.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[d.TTD]}),V})();class Fa{}let _a=(()=>{class V{preload(R,q){return q().pipe(Qt(()=>(0,ze.of)(null)))}}return V.\u0275fac=function(R){return new(R||V)},V.\u0275prov=d.Yz7({token:V,factory:V.\u0275fac,providedIn:"root"}),V})(),al=(()=>{class V{constructor(R,q,me,Xe,Ue){this.router=R,this.injector=me,this.preloadingStrategy=Xe,this.loader=Ue}setUpPreloading(){this.subscription=this.router.events.pipe((0,et.h)(R=>R instanceof _e),Ut(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(R,q){const me=[];for(const An of q){var Xe,Ue;An.providers&&!An._injector&&(An._injector=(0,d.MMx)(An.providers,R,`Route: ${An.path}`));const Ar=null!==(Xe=An._injector)&&void 0!==Xe?Xe:R,Mi=null!==(Ue=An._loadedInjector)&&void 0!==Ue?Ue:Ar;var Yt;(An.loadChildren&&!An._loadedRoutes&&void 0===An.canLoad||An.loadComponent&&!An._loadedComponent)&&me.push(this.preloadConfig(Ar,An)),(An.children||An._loadedRoutes)&&me.push(this.processRoutes(Mi,null!==(Yt=An.children)&&void 0!==Yt?Yt:An._loadedRoutes))}return(0,qe.D)(me).pipe((0,er.J)())}preloadConfig(R,q){return this.preloadingStrategy.preload(q,()=>{let me;me=q.loadChildren&&void 0===q.canLoad?this.loader.loadChildren(R,q):(0,ze.of)(null);const Xe=me.pipe((0,tt.z)(Ue=>{var Yt;return null===Ue?(0,ze.of)(void 0):(q._loadedRoutes=Ue.routes,q._loadedInjector=Ue.injector,this.processRoutes(null!==(Yt=Ue.injector)&&void 0!==Yt?Yt:R,Ue.routes))}));if(q.loadComponent&&!q._loadedComponent){const Ue=this.loader.loadComponent(q);return(0,qe.D)([Xe,Ue]).pipe((0,er.J)())}return Xe})}}return V.\u0275fac=function(R){return new(R||V)(d.LFG(Bn),d.LFG(d.Sil),d.LFG(d.lqb),d.LFG(Fa),d.LFG(Pe))},V.\u0275prov=d.Yz7({token:V,factory:V.\u0275fac,providedIn:"root"}),V})();const ta=new d.OlP("");let La=(()=>{class V{constructor(R,q,me,Xe,Ue={}){this.urlSerializer=R,this.transitions=q,this.viewportScroller=me,this.zone=Xe,this.options=Ue,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},Ue.scrollPositionRestoration=Ue.scrollPositionRestoration||"disabled",Ue.anchorScrolling=Ue.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(R=>{R instanceof Oe?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=R.navigationTrigger,this.restoredId=R.restoredState?R.restoredState.navigationId:0):R instanceof _e?(this.lastId=R.id,this.scheduleScrollEvent(R,this.urlSerializer.parse(R.urlAfterRedirects).fragment)):R instanceof ve&&0===R.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(R,this.urlSerializer.parse(R.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(R=>{R instanceof Tn&&(R.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(R.position):R.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(R.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(R,q){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Tn(R,"popstate"===this.lastSource?this.store[this.restoredId]:null,q))})},0)})}ngOnDestroy(){var R,q;null===(R=this.routerEventsSubscription)||void 0===R||R.unsubscribe(),null===(q=this.scrollEventsSubscription)||void 0===q||q.unsubscribe()}}return V.\u0275fac=function(R){d.$Z()},V.\u0275prov=d.Yz7({token:V,factory:V.\u0275fac}),V})();function Bo(V,H){return{\u0275kind:V,\u0275providers:H}}function ps(){const V=(0,d.f3M)(d.zs3);return H=>{var R,q;const me=V.get(d.z2F);if(H!==me.components[0])return;const Xe=V.get(Bn),Ue=V.get(ti);1===V.get(Ba)&&Xe.initialNavigation(),null===(R=V.get(gr,null,d.XFs.Optional))||void 0===R||R.setUpPreloading(),null===(q=V.get(ta,null,d.XFs.Optional))||void 0===q||q.init(),Xe.resetRootComponentType(me.componentTypes[0]),Ue.closed||(Ue.next(),Ue.complete(),Ue.unsubscribe())}}const ti=new d.OlP("",{factory:()=>new Ft.x}),Ba=new d.OlP("",{providedIn:"root",factory:()=>1}),gr=new d.OlP("");function Aa(V){return Bo(0,[{provide:gr,useExisting:al},{provide:Fa,useExisting:V}])}const Jt=new d.OlP("ROUTER_FORROOT_GUARD"),yr=[qt.Ye,{provide:Ne,useClass:dt},Bn,Ts,{provide:_s,useFactory:function ks(V){return V.routerState.root},deps:[Bn]},Pe,[]];function Vi(){return new d.PXZ("Router",Bn)}let Wi=(()=>{class V{constructor(R){}static forRoot(R,q){return{ngModule:V,providers:[yr,[],{provide:Q,multi:!0,useValue:R},{provide:Jt,useFactory:Ko,deps:[[Bn,new d.FiY,new d.tp0]]},{provide:Ps,useValue:q||{}},null!=q&&q.useHash?{provide:qt.S$,useClass:qt.Do}:{provide:qt.S$,useClass:qt.b0},{provide:ta,useFactory:()=>{const V=(0,d.f3M)(qt.EM),H=(0,d.f3M)(d.R0b),R=(0,d.f3M)(Ps),q=(0,d.f3M)(Pn),me=(0,d.f3M)(Ne);return R.scrollOffset&&V.setOffset(R.scrollOffset),new La(me,q,V,H,R)}},null!=q&&q.preloadingStrategy?Aa(q.preloadingStrategy).\u0275providers:[],{provide:d.PXZ,multi:!0,useFactory:Vi},null!=q&&q.initialNavigation?ca(q):[],null!=q&&q.bindToComponentInputs?Bo(8,[xi,{provide:bs,useExisting:xi}]).\u0275providers:[],[{provide:pn,useFactory:ps},{provide:d.tb,multi:!0,useExisting:pn}]]}}static forChild(R){return{ngModule:V,providers:[{provide:Q,multi:!0,useValue:R}]}}}return V.\u0275fac=function(R){return new(R||V)(d.LFG(Jt,8))},V.\u0275mod=d.oAB({type:V}),V.\u0275inj=d.cJS({}),V})();function Ko(V){return"guarded"}function ca(V){return["disabled"===V.initialNavigation?Bo(3,[{provide:d.ip1,multi:!0,useFactory:()=>{const H=(0,d.f3M)(Bn);return()=>{H.setUpLocationChangeListener()}}},{provide:Ba,useValue:2}]).\u0275providers:[],"enabledBlocking"===V.initialNavigation?Bo(2,[{provide:Ba,useValue:0},{provide:d.ip1,multi:!0,deps:[d.zs3],useFactory:H=>{const R=H.get(qt.V_,Promise.resolve());return()=>R.then(()=>new Promise(q=>{const me=H.get(Bn),Xe=H.get(ti);Ho(me,()=>{q(!0)}),H.get(Pn).afterPreactivation=()=>(q(!0),Xe.closed?(0,ze.of)(void 0):Xe),me.initialNavigation()}))}}]).\u0275providers:[]]}const pn=new d.OlP("")},579:(Jn,Lt,z)=>{"use strict";z.d(Lt,{EI:()=>gt,Gb:()=>dt,Iv:()=>kr,Kz:()=>ie,Xd:()=>fr,lT:()=>En,xP:()=>Or});var d=z(5861),E=z(6881),be=z(1877),ke=z(2090),qe=z(4859);z(4727);const Se="analytics",Re="firebase_id",Ze="origin",Fe=6e4,xe="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",it="https://www.googletagmanager.com/gtag/js",Me=new be.Yd("@firebase/analytics"),pt=new ke.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function jt(rt){if(!rt.startsWith(it)){const Vt=pt.create("invalid-gtag-resource",{gtagURL:rt});return Me.warn(Vt.message),""}return rt}function He(rt){return Promise.all(rt.map(Vt=>Vt.catch(en=>en)))}function It(){return(It=(0,d.Z)(function*(rt,Vt,en,Sn,gn,Wn){const ln=Sn[gn];try{if(ln)yield Vt[ln];else{const kn=(yield He(en)).find(Bt=>Bt.measurementId===gn);kn&&(yield Vt[kn.appId])}}catch(yn){Me.error(yn)}rt("config",gn,Wn)})).apply(this,arguments)}function Ct(){return(Ct=(0,d.Z)(function*(rt,Vt,en,Sn,gn){try{let Wn=[];if(gn&&gn.send_to){let ln=gn.send_to;Array.isArray(ln)||(ln=[ln]);const yn=yield He(en);for(const kn of ln){const Bt=yn.find(fn=>fn.measurementId===kn),Kt=Bt&&Vt[Bt.appId];if(!Kt){Wn=[];break}Wn.push(Kt)}}0===Wn.length&&(Wn=Object.values(Vt)),yield Promise.all(Wn),rt("event",Sn,gn||{})}catch(Wn){Me.error(Wn)}})).apply(this,arguments)}const Dt=30,Te=new class qt{constructor(Vt={},en=1e3){this.throttleMetadata=Vt,this.intervalMillis=en}getThrottleMetadata(Vt){return this.throttleMetadata[Vt]}setThrottleMetadata(Vt,en){this.throttleMetadata[Vt]=en}deleteThrottleMetadata(Vt){delete this.throttleMetadata[Vt]}};function Je(rt){return new Headers({Accept:"application/json","x-goog-api-key":rt})}function mt(){return(mt=(0,d.Z)(function*(rt){var Vt;const{appId:en,apiKey:Sn}=rt,gn={method:"GET",headers:Je(Sn)},Wn=xe.replace("{app-id}",en),ln=yield fetch(Wn,gn);if(200!==ln.status&&304!==ln.status){let yn="";try{const kn=yield ln.json();null!==(Vt=kn.error)&&void 0!==Vt&&Vt.message&&(yn=kn.error.message)}catch{}throw pt.create("config-fetch-failed",{httpStatus:ln.status,responseMessage:yn})}return ln.json()})).apply(this,arguments)}function tt(){return(tt=(0,d.Z)(function*(rt,Vt=Te,en){const{appId:Sn,apiKey:gn,measurementId:Wn}=rt.options;if(!Sn)throw pt.create("no-app-id");if(!gn){if(Wn)return{measurementId:Wn,appId:Sn};throw pt.create("no-api-key")}const ln=Vt.getThrottleMetadata(Sn)||{backoffCount:0,throttleEndTimeMillis:Date.now()},yn=new sn;return setTimeout((0,d.Z)(function*(){yn.abort()}),void 0!==en?en:Fe),ut({appId:Sn,apiKey:gn,measurementId:Wn},ln,yn,Vt)})).apply(this,arguments)}function ut(rt,Vt,en){return Ut.apply(this,arguments)}function Ut(){return Ut=(0,d.Z)(function*(rt,{throttleEndTimeMillis:Vt,backoffCount:en},Sn,gn=Te){var Wn;const{appId:ln,measurementId:yn}=rt;try{yield function Nt(rt,Vt){return new Promise((en,Sn)=>{const gn=Math.max(Vt-Date.now(),0),Wn=setTimeout(en,gn);rt.addEventListener(()=>{clearTimeout(Wn),Sn(pt.create("fetch-throttle",{throttleEndTimeMillis:Vt}))})})}(Sn,Vt)}catch(kn){if(yn)return Me.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${yn} provided in the "measurementId" field in the local Firebase config. [${null==kn?void 0:kn.message}]`),{appId:ln,measurementId:yn};throw kn}try{const kn=yield function ct(rt){return mt.apply(this,arguments)}(rt);return gn.deleteThrottleMetadata(ln),kn}catch(kn){const Bt=kn;if(!function Qt(rt){if(!(rt instanceof ke.ZR&&rt.customData))return!1;const Vt=Number(rt.customData.httpStatus);return 429===Vt||500===Vt||503===Vt||504===Vt}(Bt)){if(gn.deleteThrottleMetadata(ln),yn)return Me.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${yn} provided in the "measurementId" field in the local Firebase config. [${null==Bt?void 0:Bt.message}]`),{appId:ln,measurementId:yn};throw kn}const Kt=503===Number(null===(Wn=null==Bt?void 0:Bt.customData)||void 0===Wn?void 0:Wn.httpStatus)?(0,ke.$s)(en,gn.intervalMillis,Dt):(0,ke.$s)(en,gn.intervalMillis),fn={throttleEndTimeMillis:Date.now()+Kt,backoffCount:en+1};return gn.setThrottleMetadata(ln,fn),Me.debug(`Calling attemptFetch again in ${Kt} millis`),ut(rt,fn,Sn,gn)}}),Ut.apply(this,arguments)}class sn{constructor(){this.listeners=[]}addEventListener(Vt){this.listeners.push(Vt)}abort(){this.listeners.forEach(Vt=>Vt())}}let On,xr;function vt(){return(vt=(0,d.Z)(function*(rt,Vt,en,Sn,gn){if(gn&&gn.global)rt("event",en,Sn);else{const Wn=yield Vt;rt("event",en,Object.assign(Object.assign({},Sn),{send_to:Wn}))}})).apply(this,arguments)}function vn(){return(vn=(0,d.Z)(function*(rt,Vt,en,Sn){if(Sn&&Sn.global)return rt("set",{screen_name:en}),Promise.resolve();rt("config",yield Vt,{update:!0,screen_name:en})})).apply(this,arguments)}function er(){return(er=(0,d.Z)(function*(rt,Vt,en,Sn){if(Sn&&Sn.global)return rt("set",{user_id:en}),Promise.resolve();rt("config",yield Vt,{update:!0,user_id:en})})).apply(this,arguments)}function un(){return(un=(0,d.Z)(function*(rt,Vt,en,Sn){if(Sn&&Sn.global){const gn={};for(const Wn of Object.keys(en))gn[`user_properties.${Wn}`]=en[Wn];return rt("set",gn),Promise.resolve()}rt("config",yield Vt,{update:!0,user_properties:en})})).apply(this,arguments)}function $r(){return($r=(0,d.Z)(function*(rt,Vt){const en=yield rt;window[`ga-disable-${en}`]=!Vt})).apply(this,arguments)}function ar(){return(ar=(0,d.Z)(function*(){if(!(0,ke.hl)())return Me.warn(pt.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,ke.eu)()}catch(rt){return Me.warn(pt.create("indexeddb-unavailable",{errorInfo:null==rt?void 0:rt.toString()}).message),!1}return!0})).apply(this,arguments)}function yi(){return yi=(0,d.Z)(function*(rt,Vt,en,Sn,gn,Wn,ln){var yn;const kn=function et(rt){return tt.apply(this,arguments)}(rt);kn.then(pr=>{en[pr.measurementId]=pr.appId,rt.options.measurementId&&pr.measurementId!==rt.options.measurementId&&Me.warn(`The measurement ID in the local Firebase config (${rt.options.measurementId}) does not match the measurement ID fetched from the server (${pr.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(pr=>Me.error(pr)),Vt.push(kn);const Bt=function Gr(){return ar.apply(this,arguments)}().then(pr=>{if(pr)return Sn.getId()}),[Kt,fn]=yield Promise.all([kn,Bt]);(function Gt(rt){const Vt=window.document.getElementsByTagName("script");for(const en of Object.values(Vt))if(en.src&&en.src.includes(it)&&en.src.includes(rt))return en;return null})(Wn)||function kt(rt,Vt){const en=function $e(rt,Vt){let en;return window.trustedTypes&&(en=window.trustedTypes.createPolicy(rt,Vt)),en}("firebase-js-sdk-policy",{createScriptURL:jt}),Sn=document.createElement("script"),gn=`${it}?l=${rt}&id=${Vt}`;Sn.src=en?null==en?void 0:en.createScriptURL(gn):gn,Sn.async=!0,document.head.appendChild(Sn)}(Wn,Kt.measurementId),xr&&(gn("consent","default",xr),function Rn(rt){xr=rt}(void 0)),gn("js",new Date);const Yn=null!==(yn=null==ln?void 0:ln.config)&&void 0!==yn?yn:{};return Yn[Ze]="firebase",Yn.update=!0,null!=fn&&(Yn[Re]=fn),gn("config",Kt.measurementId,Yn),On&&(gn("set",On),function ai(rt){On=rt}(void 0)),Kt.measurementId}),yi.apply(this,arguments)}class lr{constructor(Vt){this.app=Vt}_delete(){return delete nr[this.app.options.appId],Promise.resolve()}}let nr={},mr=[];const bi={};let di,Ai,li="dataLayer",Kr="gtag",br=!1;function fr(rt){if(br)throw pt.create("already-initialized");rt.dataLayerName&&(li=rt.dataLayerName),rt.gtagName&&(Kr=rt.gtagName)}function Er(rt,Vt,en){!function Ei(){const rt=[];if((0,ke.ru)()&&rt.push("This is a browser extension environment."),(0,ke.zI)()||rt.push("Cookies are not available."),rt.length>0){const Vt=rt.map((Sn,gn)=>`(${gn+1}) ${Sn}`).join(" "),en=pt.create("invalid-analytics-context",{errorInfo:Vt});Me.warn(en.message)}}();const Sn=rt.options.appId;if(!Sn)throw pt.create("no-app-id");if(!rt.options.apiKey){if(!rt.options.measurementId)throw pt.create("no-api-key");Me.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${rt.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=nr[Sn])throw pt.create("already-exists",{id:Sn});if(!br){!function Mt(rt){let Vt=[];Array.isArray(window[rt])?Vt=window[rt]:window[rt]=Vt}(li);const{wrappedGtag:Wn,gtagCore:ln}=function ee(rt,Vt,en,Sn,gn){let Wn=function(...ln){window[Sn].push(arguments)};return window[gn]&&"function"==typeof window[gn]&&(Wn=window[gn]),window[gn]=function yt(rt,Vt,en,Sn){function Wn(){return Wn=(0,d.Z)(function*(ln,...yn){try{if("event"===ln){const[kn,Bt]=yn;yield function St(rt,Vt,en,Sn,gn){return Ct.apply(this,arguments)}(rt,Vt,en,kn,Bt)}else if("config"===ln){const[kn,Bt]=yn;yield function ft(rt,Vt,en,Sn,gn,Wn){return It.apply(this,arguments)}(rt,Vt,en,Sn,kn,Bt)}else if("consent"===ln){const[kn]=yn;rt("consent","update",kn)}else if("get"===ln){const[kn,Bt,Kt]=yn;rt("get",kn,Bt,Kt)}else if("set"===ln){const[kn]=yn;rt("set",kn)}else rt(ln,...yn)}catch(kn){Me.error(kn)}}),Wn.apply(this,arguments)}return function gn(ln){return Wn.apply(this,arguments)}}(Wn,rt,Vt,en),{gtagCore:Wn,wrappedGtag:window[gn]}}(nr,mr,bi,li,Kr);Ai=Wn,di=ln,br=!0}return nr[Sn]=function Pi(rt,Vt,en,Sn,gn,Wn,ln){return yi.apply(this,arguments)}(rt,mr,bi,Vt,di,li,en),new lr(rt)}function dt(){return Ht.apply(this,arguments)}function Ht(){return(Ht=(0,d.Z)(function*(){if((0,ke.ru)()||!(0,ke.zI)()||!(0,ke.hl)())return!1;try{return yield(0,ke.eu)()}catch{return!1}})).apply(this,arguments)}function En(rt,Vt,en){rt=(0,ke.m9)(rt),function cn(rt,Vt,en,Sn){return vn.apply(this,arguments)}(Ai,nr[rt.app.options.appId],Vt,en).catch(Sn=>Me.error(Sn))}function kr(rt,Vt,en){rt=(0,ke.m9)(rt),function qn(rt,Vt,en,Sn){return er.apply(this,arguments)}(Ai,nr[rt.app.options.appId],Vt,en).catch(Sn=>Me.error(Sn))}function Or(rt,Vt,en){rt=(0,ke.m9)(rt),function ur(rt,Vt,en,Sn){return un.apply(this,arguments)}(Ai,nr[rt.app.options.appId],Vt,en).catch(Sn=>Me.error(Sn))}function gt(rt,Vt){rt=(0,ke.m9)(rt),function Pr(rt,Vt){return $r.apply(this,arguments)}(nr[rt.app.options.appId],Vt).catch(en=>Me.error(en))}function ie(rt,Vt,en,Sn){rt=(0,ke.m9)(rt),function tn(rt,Vt,en,Sn,gn){return vt.apply(this,arguments)}(Ai,nr[rt.app.options.appId],Vt,en,Sn).catch(gn=>Me.error(gn))}const se="@firebase/analytics";!function xt(){(0,E._registerComponent)(new qe.wA(Se,(Vt,{options:en})=>Er(Vt.getProvider("app").getImmediate(),Vt.getProvider("installations-internal").getImmediate(),en),"PUBLIC")),(0,E._registerComponent)(new qe.wA("analytics-internal",function rt(Vt){try{const en=Vt.getProvider(Se).getImmediate();return{logEvent:(Sn,gn,Wn)=>ie(en,Sn,gn,Wn)}}catch(en){throw pt.create("interop-component-reg-failed",{reason:en})}},"PRIVATE")),(0,E.registerVersion)(se,"0.10.0"),(0,E.registerVersion)(se,"0.10.0","esm2017")}()},3942:(Jn,Lt,z)=>{"use strict";z.d(Lt,{Z:()=>pt});var d=z(2090),E=z(4859),be=z(6881),ke=z(1877);class qe{constructor(He,$e){this._delegate=He,this.firebase=$e,(0,be._addComponent)(He,new E.wA("app-compat",()=>this,"PUBLIC")),this.container=He.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(He){this._delegate.automaticDataCollectionEnabled=He}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(He=>{this._delegate.checkDestroyed(),He()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,be.deleteApp)(this._delegate)))}_getService(He,$e=be._DEFAULT_ENTRY_NAME){var kt;this._delegate.checkDestroyed();const Mt=this._delegate.container.getProvider(He);return!Mt.isInitialized()&&"EXPLICIT"===(null===(kt=Mt.getComponent())||void 0===kt?void 0:kt.instantiationMode)&&Mt.initialize(),Mt.getImmediate({identifier:$e})}_removeServiceInstance(He,$e=be._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(He).clearInstance($e)}_addComponent(He){(0,be._addComponent)(this._delegate,He)}_addOrOverwriteComponent(He){(0,be._addOrOverwriteComponent)(this._delegate,He)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Se=new d.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),Fe=function Ze(){const jt=function Re(jt){const He={},$e={__esModule:!0,initializeApp:function ft(yt,ee={}){const Gt=be.initializeApp(yt,ee);if((0,d.r3)(He,Gt.name))return He[Gt.name];const Dt=new jt(Gt,$e);return He[Gt.name]=Dt,Dt},app:Mt,registerVersion:be.registerVersion,setLogLevel:be.setLogLevel,onLog:be.onLog,apps:null,SDK_VERSION:be.SDK_VERSION,INTERNAL:{registerComponent:function St(yt){const ee=yt.name,Gt=ee.replace("-compat","");if(be._registerComponent(yt)&&"PUBLIC"===yt.type){const Dt=(Ft=Mt())=>{if("function"!=typeof Ft[Gt])throw Se.create("invalid-app-argument",{appName:ee});return Ft[Gt]()};void 0!==yt.serviceProps&&(0,d.ZB)(Dt,yt.serviceProps),$e[Gt]=Dt,jt.prototype[Gt]=function(...Ft){return this._getService.bind(this,ee).apply(this,yt.multipleInstances?Ft:[])}}return"PUBLIC"===yt.type?$e[Gt]:null},removeApp:function kt(yt){delete He[yt]},useAsService:function Ct(yt,ee){return"serverAuth"===ee?null:ee},modularAPIs:be}};function Mt(yt){if(!(0,d.r3)(He,yt=yt||be._DEFAULT_ENTRY_NAME))throw Se.create("no-app",{appName:yt});return He[yt]}return $e.default=$e,Object.defineProperty($e,"apps",{get:function It(){return Object.keys(He).map(yt=>He[yt])}}),Mt.App=jt,$e}(qe);return jt.INTERNAL=Object.assign(Object.assign({},jt.INTERNAL),{createFirebaseNamespace:Ze,extendNamespace:function He($e){(0,d.ZB)(jt,$e)},createSubscribe:d.ne,ErrorFactory:d.LL,deepExtend:d.ZB}),jt}(),xe=new ke.Yd("@firebase/app-compat");if((0,d.jU)()&&void 0!==self.firebase){xe.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const jt=self.firebase.SDK_VERSION;jt&&jt.indexOf("LITE")>=0&&xe.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const pt=Fe;!function lt(jt){(0,be.registerVersion)("@firebase/app-compat","0.2.10",jt)}()},6881:(Jn,Lt,z)=>{"use strict";z.r(Lt),z.d(Lt,{FirebaseError:()=>ke.ZR,SDK_VERSION:()=>Ei,_DEFAULT_ENTRY_NAME:()=>ar,_addComponent:()=>nr,_addOrOverwriteComponent:()=>mr,_apps:()=>yi,_clearComponents:()=>di,_components:()=>lr,_getProvider:()=>li,_registerComponent:()=>bi,_removeServiceInstance:()=>Kr,deleteApp:()=>dt,getApp:()=>Cn,getApps:()=>Ne,initializeApp:()=>Er,onLog:()=>zn,registerVersion:()=>En,setLogLevel:()=>jr});var d=z(5861),E=z(4859),be=z(1877),ke=z(2090);const qe=(Bt,Kt)=>Kt.some(fn=>Bt instanceof fn);let ze,Se;const Fe=new WeakMap,xe=new WeakMap,it=new WeakMap,Me=new WeakMap,lt=new WeakMap;let He={get(Bt,Kt,fn){if(Bt instanceof IDBTransaction){if("done"===Kt)return xe.get(Bt);if("objectStoreNames"===Kt)return Bt.objectStoreNames||it.get(Bt);if("store"===Kt)return fn.objectStoreNames[1]?void 0:fn.objectStore(fn.objectStoreNames[0])}return ft(Bt[Kt])},set:(Bt,Kt,fn)=>(Bt[Kt]=fn,!0),has:(Bt,Kt)=>Bt instanceof IDBTransaction&&("done"===Kt||"store"===Kt)||Kt in Bt};function Mt(Bt){return"function"==typeof Bt?function kt(Bt){return Bt!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Ze(){return Se||(Se=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(Bt)?function(...Kt){return Bt.apply(It(this),Kt),ft(Fe.get(this))}:function(...Kt){return ft(Bt.apply(It(this),Kt))}:function(Kt,...fn){const Yn=Bt.call(It(this),Kt,...fn);return it.set(Yn,Kt.sort?Kt.sort():[Kt]),ft(Yn)}}(Bt):(Bt instanceof IDBTransaction&&function jt(Bt){if(xe.has(Bt))return;const Kt=new Promise((fn,Yn)=>{const pr=()=>{Bt.removeEventListener("complete",Fr),Bt.removeEventListener("error",Sr),Bt.removeEventListener("abort",Sr)},Fr=()=>{fn(),pr()},Sr=()=>{Yn(Bt.error||new DOMException("AbortError","AbortError")),pr()};Bt.addEventListener("complete",Fr),Bt.addEventListener("error",Sr),Bt.addEventListener("abort",Sr)});xe.set(Bt,Kt)}(Bt),qe(Bt,function Re(){return ze||(ze=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(Bt,He):Bt)}function ft(Bt){if(Bt instanceof IDBRequest)return function pt(Bt){const Kt=new Promise((fn,Yn)=>{const pr=()=>{Bt.removeEventListener("success",Fr),Bt.removeEventListener("error",Sr)},Fr=()=>{fn(ft(Bt.result)),pr()},Sr=()=>{Yn(Bt.error),pr()};Bt.addEventListener("success",Fr),Bt.addEventListener("error",Sr)});return Kt.then(fn=>{fn instanceof IDBCursor&&Fe.set(fn,Bt)}).catch(()=>{}),lt.set(Kt,Bt),Kt}(Bt);if(Me.has(Bt))return Me.get(Bt);const Kt=Mt(Bt);return Kt!==Bt&&(Me.set(Bt,Kt),lt.set(Kt,Bt)),Kt}const It=Bt=>lt.get(Bt),yt=["get","getKey","getAll","getAllKeys","count"],ee=["put","add","delete","clear"],Gt=new Map;function Dt(Bt,Kt){if(!(Bt instanceof IDBDatabase)||Kt in Bt||"string"!=typeof Kt)return;if(Gt.get(Kt))return Gt.get(Kt);const fn=Kt.replace(/FromIndex$/,""),Yn=Kt!==fn,pr=ee.includes(fn);if(!(fn in(Yn?IDBIndex:IDBObjectStore).prototype)||!pr&&!yt.includes(fn))return;const Fr=function(){var Sr=(0,d.Z)(function*(Fi,...Xr){const zr=this.transaction(Fi,pr?"readwrite":"readonly");let Yr=zr.store;return Yn&&(Yr=Yr.index(Xr.shift())),(yield Promise.all([Yr[fn](...Xr),pr&&zr.done]))[0]});return function(Xr){return Sr.apply(this,arguments)}}();return Gt.set(Kt,Fr),Fr}!function $e(Bt){He=Bt(He)}(Bt=>({...Bt,get:(Kt,fn,Yn)=>Dt(Kt,fn)||Bt.get(Kt,fn,Yn),has:(Kt,fn)=>!!Dt(Kt,fn)||Bt.has(Kt,fn)}));class Ft{constructor(Kt){this.container=Kt}getPlatformInfoString(){return this.container.getProviders().map(fn=>{if(function qt(Bt){const Kt=Bt.getComponent();return"VERSION"===(null==Kt?void 0:Kt.type)}(fn)){const Yn=fn.getImmediate();return`${Yn.library}/${Yn.version}`}return null}).filter(fn=>fn).join(" ")}}const Te="@firebase/app",ct=new be.Yd("@firebase/app"),ar="[DEFAULT]",Pi={[Te]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},yi=new Map,lr=new Map;function nr(Bt,Kt){try{Bt.container.addComponent(Kt)}catch(fn){ct.debug(`Component ${Kt.name} failed to register with FirebaseApp ${Bt.name}`,fn)}}function mr(Bt,Kt){Bt.container.addOrOverwriteComponent(Kt)}function bi(Bt){const Kt=Bt.name;if(lr.has(Kt))return ct.debug(`There were multiple attempts to register component ${Kt}.`),!1;lr.set(Kt,Bt);for(const fn of yi.values())nr(fn,Bt);return!0}function li(Bt,Kt){const fn=Bt.container.getProvider("heartbeat").getImmediate({optional:!0});return fn&&fn.triggerHeartbeat(),Bt.container.getProvider(Kt)}function Kr(Bt,Kt,fn=ar){li(Bt,Kt).clearInstance(fn)}function di(){lr.clear()}const br=new ke.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class fr{constructor(Kt,fn,Yn){this._isDeleted=!1,this._options=Object.assign({},Kt),this._config=Object.assign({},fn),this._name=fn.name,this._automaticDataCollectionEnabled=fn.automaticDataCollectionEnabled,this._container=Yn,this.container.addComponent(new E.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Kt){this.checkDestroyed(),this._automaticDataCollectionEnabled=Kt}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Kt){this._isDeleted=Kt}checkDestroyed(){if(this.isDeleted)throw br.create("app-deleted",{appName:this._name})}}const Ei="9.22.0";function Er(Bt,Kt={}){let fn=Bt;"object"!=typeof Kt&&(Kt={name:Kt});const Yn=Object.assign({name:ar,automaticDataCollectionEnabled:!1},Kt),pr=Yn.name;if("string"!=typeof pr||!pr)throw br.create("bad-app-name",{appName:String(pr)});if(fn||(fn=(0,ke.aH)()),!fn)throw br.create("no-options");const Fr=yi.get(pr);if(Fr){if((0,ke.vZ)(fn,Fr.options)&&(0,ke.vZ)(Yn,Fr.config))return Fr;throw br.create("duplicate-app",{appName:pr})}const Sr=new E.H0(pr);for(const Xr of lr.values())Sr.addComponent(Xr);const Fi=new fr(fn,Yn,Sr);return yi.set(pr,Fi),Fi}function Cn(Bt=ar){const Kt=yi.get(Bt);if(!Kt&&Bt===ar&&(0,ke.aH)())return Er();if(!Kt)throw br.create("no-app",{appName:Bt});return Kt}function Ne(){return Array.from(yi.values())}function dt(Bt){return Ht.apply(this,arguments)}function Ht(){return(Ht=(0,d.Z)(function*(Bt){const Kt=Bt.name;yi.has(Kt)&&(yi.delete(Kt),yield Promise.all(Bt.container.getProviders().map(fn=>fn.delete())),Bt.isDeleted=!0)})).apply(this,arguments)}function En(Bt,Kt,fn){var Yn;let pr=null!==(Yn=Pi[Bt])&&void 0!==Yn?Yn:Bt;fn&&(pr+=`-${fn}`);const Fr=pr.match(/\s|\//),Sr=Kt.match(/\s|\//);if(Fr||Sr){const Fi=[`Unable to register library "${pr}" with version "${Kt}":`];return Fr&&Fi.push(`library name "${pr}" contains illegal characters (whitespace or "/")`),Fr&&Sr&&Fi.push("and"),Sr&&Fi.push(`version name "${Kt}" contains illegal characters (whitespace or "/")`),void ct.warn(Fi.join(" "))}bi(new E.wA(`${pr}-version`,()=>({library:pr,version:Kt}),"VERSION"))}function zn(Bt,Kt){if(null!==Bt&&"function"!=typeof Bt)throw br.create("invalid-log-argument");(0,be.Am)(Bt,Kt)}function jr(Bt){(0,be.Ub)(Bt)}const kr="firebase-heartbeat-database",Or=1,gt="firebase-heartbeat-store";let Ae=null;function ie(){return Ae||(Ae=function St(Bt,Kt,{blocked:fn,upgrade:Yn,blocking:pr,terminated:Fr}={}){const Sr=indexedDB.open(Bt,Kt),Fi=ft(Sr);return Yn&&Sr.addEventListener("upgradeneeded",Xr=>{Yn(ft(Sr.result),Xr.oldVersion,Xr.newVersion,ft(Sr.transaction),Xr)}),fn&&Sr.addEventListener("blocked",Xr=>fn(Xr.oldVersion,Xr.newVersion,Xr)),Fi.then(Xr=>{Fr&&Xr.addEventListener("close",()=>Fr()),pr&&Xr.addEventListener("versionchange",zr=>pr(zr.oldVersion,zr.newVersion,zr))}).catch(()=>{}),Fi}(kr,Or,{upgrade:(Bt,Kt)=>{0===Kt&&Bt.createObjectStore(gt)}}).catch(Bt=>{throw br.create("idb-open",{originalErrorMessage:Bt.message})})),Ae}function se(){return(se=(0,d.Z)(function*(Bt){try{return yield(yield ie()).transaction(gt).objectStore(gt).get(rt(Bt))}catch(Kt){if(Kt instanceof ke.ZR)ct.warn(Kt.message);else{const fn=br.create("idb-get",{originalErrorMessage:null==Kt?void 0:Kt.message});ct.warn(fn.message)}}})).apply(this,arguments)}function Ke(Bt,Kt){return xt.apply(this,arguments)}function xt(){return(xt=(0,d.Z)(function*(Bt,Kt){try{const Yn=(yield ie()).transaction(gt,"readwrite");yield Yn.objectStore(gt).put(Kt,rt(Bt)),yield Yn.done}catch(fn){if(fn instanceof ke.ZR)ct.warn(fn.message);else{const Yn=br.create("idb-set",{originalErrorMessage:null==fn?void 0:fn.message});ct.warn(Yn.message)}}})).apply(this,arguments)}function rt(Bt){return`${Bt.name}!${Bt.options.appId}`}class Sn{constructor(Kt){this.container=Kt,this._heartbeatsCache=null;const fn=this.container.getProvider("app").getImmediate();this._storage=new ln(fn),this._heartbeatsCachePromise=this._storage.read().then(Yn=>(this._heartbeatsCache=Yn,Yn))}triggerHeartbeat(){var Kt=this;return(0,d.Z)(function*(){const Yn=Kt.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),pr=gn();if(null===Kt._heartbeatsCache&&(Kt._heartbeatsCache=yield Kt._heartbeatsCachePromise),Kt._heartbeatsCache.lastSentHeartbeatDate!==pr&&!Kt._heartbeatsCache.heartbeats.some(Fr=>Fr.date===pr))return Kt._heartbeatsCache.heartbeats.push({date:pr,agent:Yn}),Kt._heartbeatsCache.heartbeats=Kt._heartbeatsCache.heartbeats.filter(Fr=>{const Sr=new Date(Fr.date).valueOf();return Date.now()-Sr<=2592e6}),Kt._storage.overwrite(Kt._heartbeatsCache)})()}getHeartbeatsHeader(){var Kt=this;return(0,d.Z)(function*(){if(null===Kt._heartbeatsCache&&(yield Kt._heartbeatsCachePromise),null===Kt._heartbeatsCache||0===Kt._heartbeatsCache.heartbeats.length)return"";const fn=gn(),{heartbeatsToSend:Yn,unsentEntries:pr}=function Wn(Bt,Kt=1024){const fn=[];let Yn=Bt.slice();for(const pr of Bt){const Fr=fn.find(Sr=>Sr.agent===pr.agent);if(Fr){if(Fr.dates.push(pr.date),yn(fn)>Kt){Fr.dates.pop();break}}else if(fn.push({agent:pr.agent,dates:[pr.date]}),yn(fn)>Kt){fn.pop();break}Yn=Yn.slice(1)}return{heartbeatsToSend:fn,unsentEntries:Yn}}(Kt._heartbeatsCache.heartbeats),Fr=(0,ke.L)(JSON.stringify({version:2,heartbeats:Yn}));return Kt._heartbeatsCache.lastSentHeartbeatDate=fn,pr.length>0?(Kt._heartbeatsCache.heartbeats=pr,yield Kt._storage.overwrite(Kt._heartbeatsCache)):(Kt._heartbeatsCache.heartbeats=[],Kt._storage.overwrite(Kt._heartbeatsCache)),Fr})()}}function gn(){return(new Date).toISOString().substring(0,10)}class ln{constructor(Kt){this.app=Kt,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,d.Z)(function*(){return!!(0,ke.hl)()&&(0,ke.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Kt=this;return(0,d.Z)(function*(){return(yield Kt._canUseIndexedDBPromise)&&(yield function te(Bt){return se.apply(this,arguments)}(Kt.app))||{heartbeats:[]}})()}overwrite(Kt){var fn=this;return(0,d.Z)(function*(){var Yn;if(yield fn._canUseIndexedDBPromise){const Fr=yield fn.read();return Ke(fn.app,{lastSentHeartbeatDate:null!==(Yn=Kt.lastSentHeartbeatDate)&&void 0!==Yn?Yn:Fr.lastSentHeartbeatDate,heartbeats:Kt.heartbeats})}})()}add(Kt){var fn=this;return(0,d.Z)(function*(){var Yn;if(yield fn._canUseIndexedDBPromise){const Fr=yield fn.read();return Ke(fn.app,{lastSentHeartbeatDate:null!==(Yn=Kt.lastSentHeartbeatDate)&&void 0!==Yn?Yn:Fr.lastSentHeartbeatDate,heartbeats:[...Fr.heartbeats,...Kt.heartbeats]})}})()}}function yn(Bt){return(0,ke.L)(JSON.stringify({version:2,heartbeats:Bt})).length}!function kn(Bt){bi(new E.wA("platform-logger",Kt=>new Ft(Kt),"PRIVATE")),bi(new E.wA("heartbeat",Kt=>new Sn(Kt),"PRIVATE")),En(Te,"0.9.10",Bt),En(Te,"0.9.10","esm2017"),En("fire-js","")}("")},4859:(Jn,Lt,z)=>{"use strict";z.d(Lt,{H0:()=>Re,wA:()=>be,zt:()=>qe});var d=z(5861),E=z(2090);class be{constructor(Fe,xe,it){this.name=Fe,this.instanceFactory=xe,this.type=it,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(Fe){return this.instantiationMode=Fe,this}setMultipleInstances(Fe){return this.multipleInstances=Fe,this}setServiceProps(Fe){return this.serviceProps=Fe,this}setInstanceCreatedCallback(Fe){return this.onInstanceCreated=Fe,this}}const ke="[DEFAULT]";class qe{constructor(Fe,xe){this.name=Fe,this.container=xe,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(Fe){const xe=this.normalizeInstanceIdentifier(Fe);if(!this.instancesDeferred.has(xe)){const it=new E.BH;if(this.instancesDeferred.set(xe,it),this.isInitialized(xe)||this.shouldAutoInitialize())try{const Me=this.getOrInitializeService({instanceIdentifier:xe});Me&&it.resolve(Me)}catch{}}return this.instancesDeferred.get(xe).promise}getImmediate(Fe){var xe;const it=this.normalizeInstanceIdentifier(null==Fe?void 0:Fe.identifier),Me=null!==(xe=null==Fe?void 0:Fe.optional)&&void 0!==xe&&xe;if(!this.isInitialized(it)&&!this.shouldAutoInitialize()){if(Me)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:it})}catch(lt){if(Me)return null;throw lt}}getComponent(){return this.component}setComponent(Fe){if(Fe.name!==this.name)throw Error(`Mismatching Component ${Fe.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=Fe,this.shouldAutoInitialize()){if(function Se(Ze){return"EAGER"===Ze.instantiationMode}(Fe))try{this.getOrInitializeService({instanceIdentifier:ke})}catch{}for(const[xe,it]of this.instancesDeferred.entries()){const Me=this.normalizeInstanceIdentifier(xe);try{const lt=this.getOrInitializeService({instanceIdentifier:Me});it.resolve(lt)}catch{}}}}clearInstance(Fe=ke){this.instancesDeferred.delete(Fe),this.instancesOptions.delete(Fe),this.instances.delete(Fe)}delete(){var Fe=this;return(0,d.Z)(function*(){const xe=Array.from(Fe.instances.values());yield Promise.all([...xe.filter(it=>"INTERNAL"in it).map(it=>it.INTERNAL.delete()),...xe.filter(it=>"_delete"in it).map(it=>it._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(Fe=ke){return this.instances.has(Fe)}getOptions(Fe=ke){return this.instancesOptions.get(Fe)||{}}initialize(Fe={}){const{options:xe={}}=Fe,it=this.normalizeInstanceIdentifier(Fe.instanceIdentifier);if(this.isInitialized(it))throw Error(`${this.name}(${it}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Me=this.getOrInitializeService({instanceIdentifier:it,options:xe});for(const[lt,pt]of this.instancesDeferred.entries())it===this.normalizeInstanceIdentifier(lt)&&pt.resolve(Me);return Me}onInit(Fe,xe){var it;const Me=this.normalizeInstanceIdentifier(xe),lt=null!==(it=this.onInitCallbacks.get(Me))&&void 0!==it?it:new Set;lt.add(Fe),this.onInitCallbacks.set(Me,lt);const pt=this.instances.get(Me);return pt&&Fe(pt,Me),()=>{lt.delete(Fe)}}invokeOnInitCallbacks(Fe,xe){const it=this.onInitCallbacks.get(xe);if(it)for(const Me of it)try{Me(Fe,xe)}catch{}}getOrInitializeService({instanceIdentifier:Fe,options:xe={}}){let it=this.instances.get(Fe);if(!it&&this.component&&(it=this.component.instanceFactory(this.container,{instanceIdentifier:(Ze=Fe,Ze===ke?void 0:Ze),options:xe}),this.instances.set(Fe,it),this.instancesOptions.set(Fe,xe),this.invokeOnInitCallbacks(it,Fe),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,Fe,it)}catch{}var Ze;return it||null}normalizeInstanceIdentifier(Fe=ke){return this.component?this.component.multipleInstances?Fe:ke:Fe}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Re{constructor(Fe){this.name=Fe,this.providers=new Map}addComponent(Fe){const xe=this.getProvider(Fe.name);if(xe.isComponentSet())throw new Error(`Component ${Fe.name} has already been registered with ${this.name}`);xe.setComponent(Fe)}addOrOverwriteComponent(Fe){this.getProvider(Fe.name).isComponentSet()&&this.providers.delete(Fe.name),this.addComponent(Fe)}getProvider(Fe){if(this.providers.has(Fe))return this.providers.get(Fe);const xe=new qe(Fe,this);return this.providers.set(Fe,xe),xe}getProviders(){return Array.from(this.providers.values())}}},4727:(Jn,Lt,z)=>{"use strict";var d=z(5861),E=z(6881),be=z(4859),ke=z(2090);const qe=(ne,ve)=>ve.some(st=>ne instanceof st);let ze,Se;const Fe=new WeakMap,xe=new WeakMap,it=new WeakMap,Me=new WeakMap,lt=new WeakMap;let He={get(ne,ve,st){if(ne instanceof IDBTransaction){if("done"===ve)return xe.get(ne);if("objectStoreNames"===ve)return ne.objectStoreNames||it.get(ne);if("store"===ve)return st.objectStoreNames[1]?void 0:st.objectStore(st.objectStoreNames[0])}return ft(ne[ve])},set:(ne,ve,st)=>(ne[ve]=st,!0),has:(ne,ve)=>ne instanceof IDBTransaction&&("done"===ve||"store"===ve)||ve in ne};function Mt(ne){return"function"==typeof ne?function kt(ne){return ne!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Ze(){return Se||(Se=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(ne)?function(...ve){return ne.apply(It(this),ve),ft(Fe.get(this))}:function(...ve){return ft(ne.apply(It(this),ve))}:function(ve,...st){const wt=ne.call(It(this),ve,...st);return it.set(wt,ve.sort?ve.sort():[ve]),ft(wt)}}(ne):(ne instanceof IDBTransaction&&function jt(ne){if(xe.has(ne))return;const ve=new Promise((st,wt)=>{const $t=()=>{ne.removeEventListener("complete",nn),ne.removeEventListener("error",Vn),ne.removeEventListener("abort",Vn)},nn=()=>{st(),$t()},Vn=()=>{wt(ne.error||new DOMException("AbortError","AbortError")),$t()};ne.addEventListener("complete",nn),ne.addEventListener("error",Vn),ne.addEventListener("abort",Vn)});xe.set(ne,ve)}(ne),qe(ne,function Re(){return ze||(ze=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(ne,He):ne)}function ft(ne){if(ne instanceof IDBRequest)return function pt(ne){const ve=new Promise((st,wt)=>{const $t=()=>{ne.removeEventListener("success",nn),ne.removeEventListener("error",Vn)},nn=()=>{st(ft(ne.result)),$t()},Vn=()=>{wt(ne.error),$t()};ne.addEventListener("success",nn),ne.addEventListener("error",Vn)});return ve.then(st=>{st instanceof IDBCursor&&Fe.set(st,ne)}).catch(()=>{}),lt.set(ve,ne),ve}(ne);if(Me.has(ne))return Me.get(ne);const ve=Mt(ne);return ve!==ne&&(Me.set(ne,ve),lt.set(ve,ne)),ve}const It=ne=>lt.get(ne),yt=["get","getKey","getAll","getAllKeys","count"],ee=["put","add","delete","clear"],Gt=new Map;function Dt(ne,ve){if(!(ne instanceof IDBDatabase)||ve in ne||"string"!=typeof ve)return;if(Gt.get(ve))return Gt.get(ve);const st=ve.replace(/FromIndex$/,""),wt=ve!==st,$t=ee.includes(st);if(!(st in(wt?IDBIndex:IDBObjectStore).prototype)||!$t&&!yt.includes(st))return;const nn=function(){var Vn=(0,d.Z)(function*(Un,...Nr){const Qr=this.transaction(Un,$t?"readwrite":"readonly");let vs=Qr.store;return wt&&(vs=vs.index(Nr.shift())),(yield Promise.all([vs[st](...Nr),$t&&Qr.done]))[0]});return function(Nr){return Vn.apply(this,arguments)}}();return Gt.set(ve,nn),nn}!function $e(ne){He=ne(He)}(ne=>({...ne,get:(ve,st,wt)=>Dt(ve,st)||ne.get(ve,st,wt),has:(ve,st)=>!!Dt(ve,st)||ne.has(ve,st)}));const Ft="@firebase/installations",qt="0.6.4",Te=1e4,Je=`w:${qt}`,ct="FIS_v2",mt="https://firebaseinstallations.googleapis.com/v1",et=36e5,Nt=new ke.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Qt(ne){return ne instanceof ke.ZR&&ne.code.includes("request-failed")}function sn({projectId:ne}){return`${mt}/projects/${ne}/installations`}function On(ne){return{token:ne.token,requestStatus:2,expiresIn:ur(ne.expiresIn),creationTime:Date.now()}}function tn(ne,ve){return vt.apply(this,arguments)}function vt(){return(vt=(0,d.Z)(function*(ne,ve){const wt=(yield ve.json()).error;return Nt.create("request-failed",{requestName:ne,serverCode:wt.code,serverMessage:wt.message,serverStatus:wt.status})})).apply(this,arguments)}function cn({apiKey:ne}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":ne})}function qn(ne){return er.apply(this,arguments)}function er(){return(er=(0,d.Z)(function*(ne){const ve=yield ne();return ve.status>=500&&ve.status<600?ne():ve})).apply(this,arguments)}function ur(ne){return Number(ne.replace("s","000"))}function an(){return(an=(0,d.Z)(function*({appConfig:ne,heartbeatServiceProvider:ve},{fid:st}){const wt=sn(ne),$t=cn(ne),nn=ve.getImmediate({optional:!0});if(nn){const Qr=yield nn.getHeartbeatsHeader();Qr&&$t.append("x-firebase-client",Qr)}const Un={method:"POST",headers:$t,body:JSON.stringify({fid:st,authVersion:ct,appId:ne.appId,sdkVersion:Je})},Nr=yield qn(()=>fetch(wt,Un));if(Nr.ok){const Qr=yield Nr.json();return{fid:Qr.fid||st,registrationStatus:2,refreshToken:Qr.refreshToken,authToken:On(Qr.authToken)}}throw yield tn("Create Installation",Nr)})).apply(this,arguments)}function Pr(ne){return new Promise(ve=>{setTimeout(ve,ne)})}const xr=/^[cdef][\w-]{21}$/,Rn="";function ai(){try{const ne=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(ne),ne[0]=112+ne[0]%16;const st=function Gr(ne){return function $r(ne){return btoa(String.fromCharCode(...ne)).replace(/\+/g,"-").replace(/\//g,"_")}(ne).substr(0,22)}(ne);return xr.test(st)?st:Rn}catch{return Rn}}function ar(ne){return`${ne.appName}!${ne.appId}`}const Pi=new Map;function yi(ne,ve){const st=ar(ne);mr(st,ve),function bi(ne,ve){const st=function Kr(){return!li&&"BroadcastChannel"in self&&(li=new BroadcastChannel("[Firebase] FID Change"),li.onmessage=ne=>{mr(ne.data.key,ne.data.fid)}),li}();st&&st.postMessage({key:ne,fid:ve}),function di(){0===Pi.size&&li&&(li.close(),li=null)}()}(st,ve)}function mr(ne,ve){const st=Pi.get(ne);if(st)for(const wt of st)wt(ve)}let li=null;const Ai="firebase-installations-database",br=1,fr="firebase-installations-store";let Ei=null;function Er(){return Ei||(Ei=function St(ne,ve,{blocked:st,upgrade:wt,blocking:$t,terminated:nn}={}){const Vn=indexedDB.open(ne,ve),Un=ft(Vn);return wt&&Vn.addEventListener("upgradeneeded",Nr=>{wt(ft(Vn.result),Nr.oldVersion,Nr.newVersion,ft(Vn.transaction))}),st&&Vn.addEventListener("blocked",()=>st()),Un.then(Nr=>{nn&&Nr.addEventListener("close",()=>nn()),$t&&Nr.addEventListener("versionchange",()=>$t())}).catch(()=>{}),Un}(Ai,br,{upgrade:(ne,ve)=>{0===ve&&ne.createObjectStore(fr)}})),Ei}function Cn(ne,ve){return Ne.apply(this,arguments)}function Ne(){return(Ne=(0,d.Z)(function*(ne,ve){const st=ar(ne),$t=(yield Er()).transaction(fr,"readwrite"),nn=$t.objectStore(fr),Vn=yield nn.get(st);return yield nn.put(ve,st),yield $t.done,(!Vn||Vn.fid!==ve.fid)&&yi(ne,ve.fid),ve})).apply(this,arguments)}function dt(ne){return Ht.apply(this,arguments)}function Ht(){return(Ht=(0,d.Z)(function*(ne){const ve=ar(ne),wt=(yield Er()).transaction(fr,"readwrite");yield wt.objectStore(fr).delete(ve),yield wt.done})).apply(this,arguments)}function En(ne,ve){return zn.apply(this,arguments)}function zn(){return(zn=(0,d.Z)(function*(ne,ve){const st=ar(ne),$t=(yield Er()).transaction(fr,"readwrite"),nn=$t.objectStore(fr),Vn=yield nn.get(st),Un=ve(Vn);return void 0===Un?yield nn.delete(st):yield nn.put(Un,st),yield $t.done,Un&&(!Vn||Vn.fid!==Un.fid)&&yi(ne,Un.fid),Un})).apply(this,arguments)}function jr(ne){return kr.apply(this,arguments)}function kr(){return kr=(0,d.Z)(function*(ne){let ve;const st=yield En(ne.appConfig,wt=>{const $t=function Or(ne){return xt(ne||{fid:ai(),registrationStatus:0})}(wt),nn=function gt(ne,ve){if(0===ve.registrationStatus){if(!navigator.onLine)return{installationEntry:ve,registrationPromise:Promise.reject(Nt.create("app-offline"))};const st={fid:ve.fid,registrationStatus:1,registrationTime:Date.now()},wt=function Ae(ne,ve){return ie.apply(this,arguments)}(ne,st);return{installationEntry:st,registrationPromise:wt}}return 1===ve.registrationStatus?{installationEntry:ve,registrationPromise:te(ne)}:{installationEntry:ve}}(ne,$t);return ve=nn.registrationPromise,nn.installationEntry});return st.fid===Rn?{installationEntry:yield ve}:{installationEntry:st,registrationPromise:ve}}),kr.apply(this,arguments)}function ie(){return ie=(0,d.Z)(function*(ne,ve){try{const st=yield function ir(ne,ve){return an.apply(this,arguments)}(ne,ve);return Cn(ne.appConfig,st)}catch(st){throw Qt(st)&&409===st.customData.serverCode?yield dt(ne.appConfig):yield Cn(ne.appConfig,{fid:ve.fid,registrationStatus:0}),st}}),ie.apply(this,arguments)}function te(ne){return se.apply(this,arguments)}function se(){return(se=(0,d.Z)(function*(ne){let ve=yield Ke(ne.appConfig);for(;1===ve.registrationStatus;)yield Pr(100),ve=yield Ke(ne.appConfig);if(0===ve.registrationStatus){const{installationEntry:st,registrationPromise:wt}=yield jr(ne);return wt||st}return ve})).apply(this,arguments)}function Ke(ne){return En(ne,ve=>{if(!ve)throw Nt.create("installation-not-found");return xt(ve)})}function xt(ne){return function rt(ne){return 1===ne.registrationStatus&&ne.registrationTime+Te<Date.now()}(ne)?{fid:ne.fid,registrationStatus:0}:ne}function en(){return(en=(0,d.Z)(function*({appConfig:ne,heartbeatServiceProvider:ve},st){const wt=function Sn(ne,{fid:ve}){return`${sn(ne)}/${ve}/authTokens:generate`}(ne,st),$t=function vn(ne,{refreshToken:ve}){const st=cn(ne);return st.append("Authorization",function un(ne){return`${ct} ${ne}`}(ve)),st}(ne,st),nn=ve.getImmediate({optional:!0});if(nn){const Qr=yield nn.getHeartbeatsHeader();Qr&&$t.append("x-firebase-client",Qr)}const Un={method:"POST",headers:$t,body:JSON.stringify({installation:{sdkVersion:Je,appId:ne.appId}})},Nr=yield qn(()=>fetch(wt,Un));if(Nr.ok)return On(yield Nr.json());throw yield tn("Generate Auth Token",Nr)})).apply(this,arguments)}function gn(ne){return Wn.apply(this,arguments)}function Wn(){return Wn=(0,d.Z)(function*(ne,ve=!1){let st;const wt=yield En(ne.appConfig,nn=>{if(!fn(nn))throw Nt.create("not-registered");const Vn=nn.authToken;if(!ve&&function Yn(ne){return 2===ne.requestStatus&&!function pr(ne){const ve=Date.now();return ve<ne.creationTime||ne.creationTime+ne.expiresIn<ve+et}(ne)}(Vn))return nn;if(1===Vn.requestStatus)return st=function ln(ne,ve){return yn.apply(this,arguments)}(ne,ve),nn;{if(!navigator.onLine)throw Nt.create("app-offline");const Un=function Fr(ne){const ve={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},ne),{authToken:ve})}(nn);return st=function Bt(ne,ve){return Kt.apply(this,arguments)}(ne,Un),Un}});return st?yield st:wt.authToken}),Wn.apply(this,arguments)}function yn(){return(yn=(0,d.Z)(function*(ne,ve){let st=yield kn(ne.appConfig);for(;1===st.authToken.requestStatus;)yield Pr(100),st=yield kn(ne.appConfig);const wt=st.authToken;return 0===wt.requestStatus?gn(ne,ve):wt})).apply(this,arguments)}function kn(ne){return En(ne,ve=>{if(!fn(ve))throw Nt.create("not-registered");return function Sr(ne){return 1===ne.requestStatus&&ne.requestTime+Te<Date.now()}(ve.authToken)?Object.assign(Object.assign({},ve),{authToken:{requestStatus:0}}):ve})}function Kt(){return Kt=(0,d.Z)(function*(ne,ve){try{const st=yield function Vt(ne,ve){return en.apply(this,arguments)}(ne,ve),wt=Object.assign(Object.assign({},ve),{authToken:st});return yield Cn(ne.appConfig,wt),st}catch(st){if(!Qt(st)||401!==st.customData.serverCode&&404!==st.customData.serverCode){const wt=Object.assign(Object.assign({},ve),{authToken:{requestStatus:0}});yield Cn(ne.appConfig,wt)}else yield dt(ne.appConfig);throw st}}),Kt.apply(this,arguments)}function fn(ne){return void 0!==ne&&2===ne.registrationStatus}function Xr(){return(Xr=(0,d.Z)(function*(ne){const ve=ne,{installationEntry:st,registrationPromise:wt}=yield jr(ve);return wt?wt.catch(console.error):gn(ve).catch(console.error),st.fid})).apply(this,arguments)}function Yr(){return Yr=(0,d.Z)(function*(ne,ve=!1){const st=ne;return yield function rs(ne){return Os.apply(this,arguments)}(st),(yield gn(st,ve)).token}),Yr.apply(this,arguments)}function Os(){return(Os=(0,d.Z)(function*(ne){const{registrationPromise:ve}=yield jr(ne);ve&&(yield ve)})).apply(this,arguments)}function Is(ne){return Nt.create("missing-app-config-values",{valueName:ne})}const js="installations",pe=ne=>{const ve=ne.getProvider("app").getImmediate(),st=function Js(ne){if(!ne||!ne.options)throw Is("App Configuration");if(!ne.name)throw Is("App Name");const ve=["projectId","apiKey","appId"];for(const st of ve)if(!ne.options[st])throw Is(st);return{appName:ne.name,projectId:ne.options.projectId,apiKey:ne.options.apiKey,appId:ne.options.appId}}(ve);return{app:ve,appConfig:st,heartbeatServiceProvider:(0,E._getProvider)(ve,"heartbeat"),_delete:()=>Promise.resolve()}},Oe=ne=>{const ve=ne.getProvider("app").getImmediate(),st=(0,E._getProvider)(ve,js).getImmediate();return{getId:()=>function Fi(ne){return Xr.apply(this,arguments)}(st),getToken:$t=>function zr(ne){return Yr.apply(this,arguments)}(st,$t)}};(function _e(){(0,E._registerComponent)(new be.wA(js,pe,"PUBLIC")),(0,E._registerComponent)(new be.wA("installations-internal",Oe,"PRIVATE"))})(),(0,E.registerVersion)(Ft,qt),(0,E.registerVersion)(Ft,qt,"esm2017")},1877:(Jn,Lt,z)=>{"use strict";z.d(Lt,{Am:()=>Ze,Ub:()=>Re,Yd:()=>Se,in:()=>E});const d=[];var E=(()=>((E=E||{})[E.DEBUG=0]="DEBUG",E[E.VERBOSE=1]="VERBOSE",E[E.INFO=2]="INFO",E[E.WARN=3]="WARN",E[E.ERROR=4]="ERROR",E[E.SILENT=5]="SILENT",E))();const be={debug:E.DEBUG,verbose:E.VERBOSE,info:E.INFO,warn:E.WARN,error:E.ERROR,silent:E.SILENT},ke=E.INFO,qe={[E.DEBUG]:"log",[E.VERBOSE]:"log",[E.INFO]:"info",[E.WARN]:"warn",[E.ERROR]:"error"},ze=(Fe,xe,...it)=>{if(xe<Fe.logLevel)return;const Me=(new Date).toISOString(),lt=qe[xe];if(!lt)throw new Error(`Attempted to log a message with an invalid logType (value: ${xe})`);console[lt](`[${Me}]  ${Fe.name}:`,...it)};class Se{constructor(xe){this.name=xe,this._logLevel=ke,this._logHandler=ze,this._userLogHandler=null,d.push(this)}get logLevel(){return this._logLevel}set logLevel(xe){if(!(xe in E))throw new TypeError(`Invalid value "${xe}" assigned to \`logLevel\``);this._logLevel=xe}setLogLevel(xe){this._logLevel="string"==typeof xe?be[xe]:xe}get logHandler(){return this._logHandler}set logHandler(xe){if("function"!=typeof xe)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=xe}get userLogHandler(){return this._userLogHandler}set userLogHandler(xe){this._userLogHandler=xe}debug(...xe){this._userLogHandler&&this._userLogHandler(this,E.DEBUG,...xe),this._logHandler(this,E.DEBUG,...xe)}log(...xe){this._userLogHandler&&this._userLogHandler(this,E.VERBOSE,...xe),this._logHandler(this,E.VERBOSE,...xe)}info(...xe){this._userLogHandler&&this._userLogHandler(this,E.INFO,...xe),this._logHandler(this,E.INFO,...xe)}warn(...xe){this._userLogHandler&&this._userLogHandler(this,E.WARN,...xe),this._logHandler(this,E.WARN,...xe)}error(...xe){this._userLogHandler&&this._userLogHandler(this,E.ERROR,...xe),this._logHandler(this,E.ERROR,...xe)}}function Re(Fe){d.forEach(xe=>{xe.setLogLevel(Fe)})}function Ze(Fe,xe){for(const it of d){let Me=null;xe&&xe.level&&(Me=be[xe.level]),it.userLogHandler=null===Fe?null:(lt,pt,...jt)=>{const He=jt.map($e=>{if(null==$e)return null;if("string"==typeof $e)return $e;if("number"==typeof $e||"boolean"==typeof $e)return $e.toString();if($e instanceof Error)return $e.message;try{return JSON.stringify($e)}catch{return null}}).filter($e=>$e).join(" ");pt>=(null!=Me?Me:lt.logLevel)&&Fe({level:E[pt].toLowerCase(),message:He,args:jt,type:lt.name})}}}},9972:(Jn,Lt,z)=>{"use strict";z.d(Lt,{Br:()=>oo,dr:()=>ai,oU:()=>ar,cs:()=>Yi,YG:()=>mr,Sm:()=>bi,PM:()=>li,FN:()=>Kr,Zi:()=>di,tO:()=>Ai,Dq:()=>br,hM:()=>Ei,wI:()=>Er,W2:()=>Cn,IJ:()=>Ht,W4:()=>En,zq:()=>zn,jY:()=>kr,Gu:()=>Or,gu:()=>gt,Xz:()=>Ae,pK:()=>se,Ie:()=>Ke,Q$:()=>gn,q_:()=>Wn,fG:()=>Bt,jP:()=>bs,Nd:()=>cs,yq:()=>pe,ZU:()=>Oe,UN:()=>No,yW:()=>_e,wd:()=>st,sr:()=>nn,Pc:()=>qi,r4:()=>us,HT:()=>Ni,SH:()=>Ti,X1:()=>Br,t4:()=>Qr,j9:()=>qn,yF:()=>to});var d=z(5861),E=z(2223),be=z(5030),ke=z(655),qe=z(4968),ze=z(7579),Se=z(1135),Re=z(5559),Me=(z(9613),z(3551),z(1138),z(1898),z(5273)),lt=z(3577),pt=z(3982),jt=z(9866),$e=(z(8126),z(2583)),ft=(z(3457),z(4349),z(4083)),St=z(9300),Ct=z(3900),yt=z(1884),ee=z(4755);const Dt=Me.i,Te=["*"],Je=["outlet"],ct=[[["","slot","top"]],"*"],mt=["[slot=top]","*"],ut=O=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(O):"function"==typeof requestAnimationFrame?requestAnimationFrame(O):setTimeout(O);let Ut=(()=>{class O{constructor(N,ce){this.injector=N,this.el=ce,this.onChange=()=>{},this.onTouched=()=>{}}writeValue(N){this.el.nativeElement.value=this.lastValue=N,Nt(this.el)}handleValueChange(N,ce){N===this.el.nativeElement&&(ce!==this.lastValue&&(this.lastValue=ce,this.onChange(ce)),Nt(this.el))}_handleBlurEvent(N){N===this.el.nativeElement&&(this.onTouched(),Nt(this.el))}registerOnChange(N){this.onChange=N}registerOnTouched(N){this.onTouched=N}setDisabledState(N){this.el.nativeElement.disabled=N}ngOnDestroy(){this.statusChanges&&this.statusChanges.unsubscribe()}ngAfterViewInit(){let N;try{N=this.injector.get(be.a5)}catch{}if(!N)return;N.statusChanges&&(this.statusChanges=N.statusChanges.subscribe(()=>Nt(this.el)));const ce=N.control;ce&&["markAsTouched","markAllAsTouched","markAsUntouched","markAsDirty","markAsPristine"].forEach(_n=>{if(typeof ce[_n]<"u"){const Tr=ce[_n].bind(ce);ce[_n]=(...Xn)=>{Tr(...Xn),Nt(this.el)}}})}}return O.\u0275fac=function(N){return new(N||O)(E.Y36(E.zs3),E.Y36(E.SBq))},O.\u0275dir=E.lG2({type:O,hostBindings:function(N,ce){1&N&&E.NdJ("ionBlur",function(_n){return ce._handleBlurEvent(_n.target)})}}),O})();const Nt=O=>{ut(()=>{const he=O.nativeElement,N=null!=he.value&&he.value.toString().length>0,ce=Qt(he);sn(he,ce);const Ge=he.closest("ion-item");Ge&&sn(Ge,N?[...ce,"item-has-value"]:ce)})},Qt=O=>{const he=O.classList,N=[];for(let ce=0;ce<he.length;ce++){const Ge=he.item(ce);null!==Ge&&On(Ge,"ng-")&&N.push(`ion-${Ge.substring(3)}`)}return N},sn=(O,he)=>{const N=O.classList;N.remove("ion-valid","ion-invalid","ion-touched","ion-untouched","ion-dirty","ion-pristine"),N.add(...he)},On=(O,he)=>O.substring(0,he.length)===he;let qn=(()=>{class O extends Ut{constructor(N,ce){super(N,ce)}_handleInputEvent(N){this.handleValueChange(N,N.value)}}return O.\u0275fac=function(N){return new(N||O)(E.Y36(E.zs3),E.Y36(E.SBq))},O.\u0275dir=E.lG2({type:O,selectors:[["ion-input",3,"type","number"],["ion-textarea"],["ion-searchbar"]],hostBindings:function(N,ce){1&N&&E.NdJ("ionInput",function(_n){return ce._handleInputEvent(_n.target)})},features:[E._Bn([{provide:be.JU,useExisting:O,multi:!0}]),E.qOj]}),O})();const er=(O,he)=>{const N=O.prototype;he.forEach(ce=>{Object.defineProperty(N,ce,{get(){return this.el[ce]},set(Ge){this.z.runOutsideAngular(()=>this.el[ce]=Ge)}})})},ur=(O,he)=>{const N=O.prototype;he.forEach(ce=>{N[ce]=function(){const Ge=arguments;return this.z.runOutsideAngular(()=>this.el[ce].apply(this.el,Ge))}})},un=(O,he,N)=>{N.forEach(ce=>O[ce]=(0,qe.R)(he,ce))};function an(O){return function(N){const{defineCustomElementFn:ce,inputs:Ge,methods:_n}=O;return void 0!==ce&&ce(),Ge&&er(N,Ge),_n&&ur(N,_n),N}}let ai=(()=>{let O=class{constructor(N,ce,Ge){this.z=Ge,N.detach(),this.el=ce.nativeElement}};return O.\u0275fac=function(N){return new(N||O)(E.Y36(E.sBO),E.Y36(E.SBq),E.Y36(E.R0b))},O.\u0275cmp=E.Xpm({type:O,selectors:[["ion-app"]],ngContentSelectors:Te,decls:1,vars:0,template:function(N,ce){1&N&&(E.F$t(),E.Hsn(0))},encapsulation:2,changeDetection:0}),O=(0,ke.gn)([an({})],O),O})(),ar=(()=>{let O=class{constructor(N,ce,Ge){this.z=Ge,N.detach(),this.el=ce.nativeElement}};return O.\u0275fac=function(N){return new(N||O)(E.Y36(E.sBO),E.Y36(E.SBq),E.Y36(E.R0b))},O.\u0275cmp=E.Xpm({type:O,selectors:[["ion-back-button"]],inputs:{color:"color",defaultHref:"defaultHref",disabled:"disabled",icon:"icon",mode:"mode",routerAnimation:"routerAnimation",text:"text",type:"type"},ngContentSelectors:Te,decls:1,vars:0,template:function(N,ce){1&N&&(E.F$t(),E.Hsn(0))},encapsulation:2,changeDetection:0}),O=(0,ke.gn)([an({inputs:["color","defaultHref","disabled","icon","mode","routerAnimation","text","type"]})],O),O})(),mr=(()=>{let O=class{constructor(N,ce,Ge){this.z=Ge,N.detach(),this.el=ce.nativeElement,un(this,this.el,["ionFocus","ionBlur"])}};return O.\u0275fac=function(N){return new(N||O)(E.Y36(E.sBO),E.Y36(E.SBq),E.Y36(E.R0b))},O.\u0275cmp=E.Xpm({type:O,selectors:[["ion-button"]],inputs:{buttonType:"buttonType",color:"color",disabled:"disabled",download:"download",expand:"expand",fill:"fill",form:"form",href:"href",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",shape:"shape",size:"size",strong:"strong",target:"target",type:"type"},ngContentSelectors:Te,decls:1,vars:0,template:function(N,ce){1&N&&(E.F$t(),E.Hsn(0))},encapsulation:2,changeDetection:0}),O=(0,ke.gn)([an({inputs:["buttonType","color","disabled","download","expand","fill","form","href","mode","rel","routerAnimation","routerDirection","shape","size","strong","target","type"]})],O),O})(),bi=(()=>{let O=class{constructor(N,ce,Ge){this.z=Ge,N.detach(),this.el=ce.nativeElement}};return O.\u0275fac=function(N){return new(N||O)(E.Y36(E.sBO),E.Y36(E.SBq),E.Y36(E.R0b))},O.\u0275cmp=E.Xpm({type:O,selectors:[["ion-buttons"]],inputs:{collapse:"collapse"},ngContentSelectors:Te,decls:1,vars:0,template:function(N,ce){1&N&&(E.F$t(),E.Hsn(0))},encapsulation:2,changeDetection:0}),O=(0,ke.gn)([an({inputs:["collapse"]})],O),O})(),li=(()=>{let O=class{constructor(N,ce,Ge){this.z=Ge,N.detach(),this.el=ce.nativeElement}};return O.\u0275fac=function(N){return new(N||O)(E.Y36(E.sBO),E.Y36(E.SBq),E.Y36(E.R0b))},O.\u0275cmp=E.Xpm({type:O,selectors:[["ion-card"]],inputs:{button:"button",color:"color",disabled:"disabled",download:"download",href:"href",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",target:"target",type:"type"},ngContentSelectors:Te,decls:1,vars:0,template:function(N,ce){1&N&&(E.F$t(),E.Hsn(0))},encapsulation:2,changeDetection:0}),O=(0,ke.gn)([an({inputs:["button","color","disabled","download","href","mode","rel","routerAnimation","routerDirection","target","type"]})],O),O})(),Kr=(()=>{let O=class{constructor(N,ce,Ge){this.z=Ge,N.detach(),this.el=ce.nativeElement}};return O.\u0275fac=function(N){return new(N||O)(E.Y36(E.sBO),E.Y36(E.SBq),E.Y36(E.R0b))},O.\u0275cmp=E.Xpm({type:O,selectors:[["ion-card-content"]],inputs:{mode:"mode"},ngContentSelectors:Te,decls:1,vars:0,template:function(N,ce){1&N&&(E.F$t(),E.Hsn(0))},encapsulation:2,changeDetection:0}),O=(0,ke.gn)([an({inputs:["mode"]})],O),O})(),di=(()=>{let O=class{constructor(N,ce,Ge){this.z=Ge,N.detach(),this.el=ce.nativeElement}};return O.\u0275fac=function(N){return new(N||O)(E.Y36(E.sBO),E.Y36(E.SBq),E.Y36(E.R0b))},O.\u0275cmp=E.Xpm({type:O,selectors:[["ion-card-header"]],inputs:{color:"color",mode:"mode",translucent:"translucent"},ngContentSelectors:Te,decls:1,vars:0,template:function(N,ce){1&N&&(E.F$t(),E.Hsn(0))},encapsulation:2,changeDetection:0}),O=(0,ke.gn)([an({inputs:["color","mode","translucent"]})],O),O})(),Ai=(()=>{let O=class{constructor(N,ce,Ge){this.z=Ge,N.detach(),this.el=ce.nativeElement}};return O.\u0275fac=function(N){return new(N||O)(E.Y36(E.sBO),E.Y36(E.SBq),E.Y36(E.R0b))},O.\u0275cmp=E.Xpm({type:O,selectors:[["ion-card-subtitle"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:Te,decls:1,vars:0,template:function(N,ce){1&N&&(E.F$t(),E.Hsn(0))},encapsulation:2,changeDetection:0}),O=(0,ke.gn)([an({inputs:["color","mode"]})],O),O})(),br=(()=>{let O=class{constructor(N,ce,Ge){this.z=Ge,N.detach(),this.el=ce.nativeElement}};return O.\u0275fac=function(N){return new(N||O)(E.Y36(E.sBO),E.Y36(E.SBq),E.Y36(E.R0b))},O.\u0275cmp=E.Xpm({type:O,selectors:[["ion-card-title"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:Te,decls:1,vars:0,template:function(N,ce){1&N&&(E.F$t(),E.Hsn(0))},encapsulation:2,changeDetection:0}),O=(0,ke.gn)([an({inputs:["color","mode"]})],O),O})(),Ei=(()=>{let O=class{constructor(N,ce,Ge){this.z=Ge,N.detach(),this.el=ce.nativeElement}};return O.\u0275fac=function(N){return new(N||O)(E.Y36(E.sBO),E.Y36(E.SBq),E.Y36(E.R0b))},O.\u0275cmp=E.Xpm({type:O,selectors:[["ion-chip"]],inputs:{color:"color",disabled:"disabled",mode:"mode",outline:"outline"},ngContentSelectors:Te,decls:1,vars:0,template:function(N,ce){1&N&&(E.F$t(),E.Hsn(0))},encapsulation:2,changeDetection:0}),O=(0,ke.gn)([an({inputs:["color","disabled","mode","outline"]})],O),O})(),Er=(()=>{let O=class{constructor(N,ce,Ge){this.z=Ge,N.detach(),this.el=ce.nativeElement}};return O.\u0275fac=function(N){return new(N||O)(E.Y36(E.sBO),E.Y36(E.SBq),E.Y36(E.R0b))},O.\u0275cmp=E.Xpm({type:O,selectors:[["ion-col"]],inputs:{offset:"offset",offsetLg:"offsetLg",offsetMd:"offsetMd",offsetSm:"offsetSm",offsetXl:"offsetXl",offsetXs:"offsetXs",pull:"pull",pullLg:"pullLg",pullMd:"pullMd",pullSm:"pullSm",pullXl:"pullXl",pullXs:"pullXs",push:"push",pushLg:"pushLg",pushMd:"pushMd",pushSm:"pushSm",pushXl:"pushXl",pushXs:"pushXs",size:"size",sizeLg:"sizeLg",sizeMd:"sizeMd",sizeSm:"sizeSm",sizeXl:"sizeXl",sizeXs:"sizeXs"},ngContentSelectors:Te,decls:1,vars:0,template:function(N,ce){1&N&&(E.F$t(),E.Hsn(0))},encapsulation:2,changeDetection:0}),O=(0,ke.gn)([an({inputs:["offset","offsetLg","offsetMd","offsetSm","offsetXl","offsetXs","pull","pullLg","pullMd","pullSm","pullXl","pullXs","push","pushLg","pushMd","pushSm","pushXl","pushXs","size","sizeLg","sizeMd","sizeSm","sizeXl","sizeXs"]})],O),O})(),Cn=(()=>{let O=class{constructor(N,ce,Ge){this.z=Ge,N.detach(),this.el=ce.nativeElement,un(this,this.el,["ionScrollStart","ionScroll","ionScrollEnd"])}};return O.\u0275fac=function(N){return new(N||O)(E.Y36(E.sBO),E.Y36(E.SBq),E.Y36(E.R0b))},O.\u0275cmp=E.Xpm({type:O,selectors:[["ion-content"]],inputs:{color:"color",forceOverscroll:"forceOverscroll",fullscreen:"fullscreen",scrollEvents:"scrollEvents",scrollX:"scrollX",scrollY:"scrollY"},ngContentSelectors:Te,decls:1,vars:0,template:function(N,ce){1&N&&(E.F$t(),E.Hsn(0))},encapsulation:2,changeDetection:0}),O=(0,ke.gn)([an({inputs:["color","forceOverscroll","fullscreen","scrollEvents","scrollX","scrollY"],methods:["getScrollElement","scrollToTop","scrollToBottom","scrollByPoint","scrollToPoint"]})],O),O})(),Ht=(()=>{let O=class{constructor(N,ce,Ge){this.z=Ge,N.detach(),this.el=ce.nativeElement}};return O.\u0275fac=function(N){return new(N||O)(E.Y36(E.sBO),E.Y36(E.SBq),E.Y36(E.R0b))},O.\u0275cmp=E.Xpm({type:O,selectors:[["ion-fab"]],inputs:{activated:"activated",edge:"edge",horizontal:"horizontal",vertical:"vertical"},ngContentSelectors:Te,decls:1,vars:0,template:function(N,ce){1&N&&(E.F$t(),E.Hsn(0))},encapsulation:2,changeDetection:0}),O=(0,ke.gn)([an({inputs:["activated","edge","horizontal","vertical"],methods:["close"]})],O),O})(),En=(()=>{let O=class{constructor(N,ce,Ge){this.z=Ge,N.detach(),this.el=ce.nativeElement,un(this,this.el,["ionFocus","ionBlur"])}};return O.\u0275fac=function(N){return new(N||O)(E.Y36(E.sBO),E.Y36(E.SBq),E.Y36(E.R0b))},O.\u0275cmp=E.Xpm({type:O,selectors:[["ion-fab-button"]],inputs:{activated:"activated",closeIcon:"closeIcon",color:"color",disabled:"disabled",download:"download",href:"href",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",show:"show",size:"size",target:"target",translucent:"translucent",type:"type"},ngContentSelectors:Te,decls:1,vars:0,template:function(N,ce){1&N&&(E.F$t(),E.Hsn(0))},encapsulation:2,changeDetection:0}),O=(0,ke.gn)([an({inputs:["activated","closeIcon","color","disabled","download","href","mode","rel","routerAnimation","routerDirection","show","size","target","translucent","type"]})],O),O})(),zn=(()=>{let O=class{constructor(N,ce,Ge){this.z=Ge,N.detach(),this.el=ce.nativeElement}};return O.\u0275fac=function(N){return new(N||O)(E.Y36(E.sBO),E.Y36(E.SBq),E.Y36(E.R0b))},O.\u0275cmp=E.Xpm({type:O,selectors:[["ion-fab-list"]],inputs:{activated:"activated",side:"side"},ngContentSelectors:Te,decls:1,vars:0,template:function(N,ce){1&N&&(E.F$t(),E.Hsn(0))},encapsulation:2,changeDetection:0}),O=(0,ke.gn)([an({inputs:["activated","side"]})],O),O})(),kr=(()=>{let O=class{constructor(N,ce,Ge){this.z=Ge,N.detach(),this.el=ce.nativeElement}};return O.\u0275fac=function(N){return new(N||O)(E.Y36(E.sBO),E.Y36(E.SBq),E.Y36(E.R0b))},O.\u0275cmp=E.Xpm({type:O,selectors:[["ion-grid"]],inputs:{fixed:"fixed"},ngContentSelectors:Te,decls:1,vars:0,template:function(N,ce){1&N&&(E.F$t(),E.Hsn(0))},encapsulation:2,changeDetection:0}),O=(0,ke.gn)([an({inputs:["fixed"]})],O),O})(),Or=(()=>{let O=class{constructor(N,ce,Ge){this.z=Ge,N.detach(),this.el=ce.nativeElement}};return O.\u0275fac=function(N){return new(N||O)(E.Y36(E.sBO),E.Y36(E.SBq),E.Y36(E.R0b))},O.\u0275cmp=E.Xpm({type:O,selectors:[["ion-header"]],inputs:{collapse:"collapse",mode:"mode",translucent:"translucent"},ngContentSelectors:Te,decls:1,vars:0,template:function(N,ce){1&N&&(E.F$t(),E.Hsn(0))},encapsulation:2,changeDetection:0}),O=(0,ke.gn)([an({inputs:["collapse","mode","translucent"]})],O),O})(),gt=(()=>{let O=class{constructor(N,ce,Ge){this.z=Ge,N.detach(),this.el=ce.nativeElement}};return O.\u0275fac=function(N){return new(N||O)(E.Y36(E.sBO),E.Y36(E.SBq),E.Y36(E.R0b))},O.\u0275cmp=E.Xpm({type:O,selectors:[["ion-icon"]],inputs:{color:"color",flipRtl:"flipRtl",icon:"icon",ios:"ios",lazy:"lazy",md:"md",mode:"mode",name:"name",sanitize:"sanitize",size:"size",src:"src"},ngContentSelectors:Te,decls:1,vars:0,template:function(N,ce){1&N&&(E.F$t(),E.Hsn(0))},encapsulation:2,changeDetection:0}),O=(0,ke.gn)([an({inputs:["color","flipRtl","icon","ios","lazy","md","mode","name","sanitize","size","src"]})],O),O})(),Ae=(()=>{let O=class{constructor(N,ce,Ge){this.z=Ge,N.detach(),this.el=ce.nativeElement,un(this,this.el,["ionImgWillLoad","ionImgDidLoad","ionError"])}};return O.\u0275fac=function(N){return new(N||O)(E.Y36(E.sBO),E.Y36(E.SBq),E.Y36(E.R0b))},O.\u0275cmp=E.Xpm({type:O,selectors:[["ion-img"]],inputs:{alt:"alt",src:"src"},ngContentSelectors:Te,decls:1,vars:0,template:function(N,ce){1&N&&(E.F$t(),E.Hsn(0))},encapsulation:2,changeDetection:0}),O=(0,ke.gn)([an({inputs:["alt","src"]})],O),O})(),se=(()=>{let O=class{constructor(N,ce,Ge){this.z=Ge,N.detach(),this.el=ce.nativeElement,un(this,this.el,["ionInput","ionChange","ionBlur","ionFocus"])}};return O.\u0275fac=function(N){return new(N||O)(E.Y36(E.sBO),E.Y36(E.SBq),E.Y36(E.R0b))},O.\u0275cmp=E.Xpm({type:O,selectors:[["ion-input"]],inputs:{accept:"accept",autocapitalize:"autocapitalize",autocomplete:"autocomplete",autocorrect:"autocorrect",autofocus:"autofocus",clearInput:"clearInput",clearOnEdit:"clearOnEdit",color:"color",counter:"counter",counterFormatter:"counterFormatter",debounce:"debounce",disabled:"disabled",enterkeyhint:"enterkeyhint",errorText:"errorText",fill:"fill",helperText:"helperText",inputmode:"inputmode",label:"label",labelPlacement:"labelPlacement",legacy:"legacy",max:"max",maxlength:"maxlength",min:"min",minlength:"minlength",mode:"mode",multiple:"multiple",name:"name",pattern:"pattern",placeholder:"placeholder",readonly:"readonly",required:"required",shape:"shape",size:"size",spellcheck:"spellcheck",step:"step",type:"type",value:"value"},ngContentSelectors:Te,decls:1,vars:0,template:function(N,ce){1&N&&(E.F$t(),E.Hsn(0))},encapsulation:2,changeDetection:0}),O=(0,ke.gn)([an({inputs:["accept","autocapitalize","autocomplete","autocorrect","autofocus","clearInput","clearOnEdit","color","counter","counterFormatter","debounce","disabled","enterkeyhint","errorText","fill","helperText","inputmode","label","labelPlacement","legacy","max","maxlength","min","minlength","mode","multiple","name","pattern","placeholder","readonly","required","shape","size","spellcheck","step","type","value"],methods:["setFocus","getInputElement"]})],O),O})(),Ke=(()=>{let O=class{constructor(N,ce,Ge){this.z=Ge,N.detach(),this.el=ce.nativeElement}};return O.\u0275fac=function(N){return new(N||O)(E.Y36(E.sBO),E.Y36(E.SBq),E.Y36(E.R0b))},O.\u0275cmp=E.Xpm({type:O,selectors:[["ion-item"]],inputs:{button:"button",color:"color",counter:"counter",counterFormatter:"counterFormatter",detail:"detail",detailIcon:"detailIcon",disabled:"disabled",download:"download",fill:"fill",href:"href",lines:"lines",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",shape:"shape",target:"target",type:"type"},ngContentSelectors:Te,decls:1,vars:0,template:function(N,ce){1&N&&(E.F$t(),E.Hsn(0))},encapsulation:2,changeDetection:0}),O=(0,ke.gn)([an({inputs:["button","color","counter","counterFormatter","detail","detailIcon","disabled","download","fill","href","lines","mode","rel","routerAnimation","routerDirection","shape","target","type"]})],O),O})(),gn=(()=>{let O=class{constructor(N,ce,Ge){this.z=Ge,N.detach(),this.el=ce.nativeElement}};return O.\u0275fac=function(N){return new(N||O)(E.Y36(E.sBO),E.Y36(E.SBq),E.Y36(E.R0b))},O.\u0275cmp=E.Xpm({type:O,selectors:[["ion-label"]],inputs:{color:"color",mode:"mode",position:"position"},ngContentSelectors:Te,decls:1,vars:0,template:function(N,ce){1&N&&(E.F$t(),E.Hsn(0))},encapsulation:2,changeDetection:0}),O=(0,ke.gn)([an({inputs:["color","mode","position"]})],O),O})(),Wn=(()=>{let O=class{constructor(N,ce,Ge){this.z=Ge,N.detach(),this.el=ce.nativeElement}};return O.\u0275fac=function(N){return new(N||O)(E.Y36(E.sBO),E.Y36(E.SBq),E.Y36(E.R0b))},O.\u0275cmp=E.Xpm({type:O,selectors:[["ion-list"]],inputs:{inset:"inset",lines:"lines",mode:"mode"},ngContentSelectors:Te,decls:1,vars:0,template:function(N,ce){1&N&&(E.F$t(),E.Hsn(0))},encapsulation:2,changeDetection:0}),O=(0,ke.gn)([an({inputs:["inset","lines","mode"],methods:["closeSlidingItems"]})],O),O})(),Bt=(()=>{let O=class{constructor(N,ce,Ge){this.z=Ge,N.detach(),this.el=ce.nativeElement}};return O.\u0275fac=function(N){return new(N||O)(E.Y36(E.sBO),E.Y36(E.SBq),E.Y36(E.R0b))},O.\u0275cmp=E.Xpm({type:O,selectors:[["ion-menu-button"]],inputs:{autoHide:"autoHide",color:"color",disabled:"disabled",menu:"menu",mode:"mode",type:"type"},ngContentSelectors:Te,decls:1,vars:0,template:function(N,ce){1&N&&(E.F$t(),E.Hsn(0))},encapsulation:2,changeDetection:0}),O=(0,ke.gn)([an({inputs:["autoHide","color","disabled","menu","mode","type"]})],O),O})(),cs=(()=>{let O=class{constructor(N,ce,Ge){this.z=Ge,N.detach(),this.el=ce.nativeElement}};return O.\u0275fac=function(N){return new(N||O)(E.Y36(E.sBO),E.Y36(E.SBq),E.Y36(E.R0b))},O.\u0275cmp=E.Xpm({type:O,selectors:[["ion-row"]],ngContentSelectors:Te,decls:1,vars:0,template:function(N,ce){1&N&&(E.F$t(),E.Hsn(0))},encapsulation:2,changeDetection:0}),O=(0,ke.gn)([an({})],O),O})(),pe=(()=>{let O=class{constructor(N,ce,Ge){this.z=Ge,N.detach(),this.el=ce.nativeElement}};return O.\u0275fac=function(N){return new(N||O)(E.Y36(E.sBO),E.Y36(E.SBq),E.Y36(E.R0b))},O.\u0275cmp=E.Xpm({type:O,selectors:[["ion-tab-bar"]],inputs:{color:"color",mode:"mode",selectedTab:"selectedTab",translucent:"translucent"},ngContentSelectors:Te,decls:1,vars:0,template:function(N,ce){1&N&&(E.F$t(),E.Hsn(0))},encapsulation:2,changeDetection:0}),O=(0,ke.gn)([an({inputs:["color","mode","selectedTab","translucent"]})],O),O})(),Oe=(()=>{let O=class{constructor(N,ce,Ge){this.z=Ge,N.detach(),this.el=ce.nativeElement}};return O.\u0275fac=function(N){return new(N||O)(E.Y36(E.sBO),E.Y36(E.SBq),E.Y36(E.R0b))},O.\u0275cmp=E.Xpm({type:O,selectors:[["ion-tab-button"]],inputs:{disabled:"disabled",download:"download",href:"href",layout:"layout",mode:"mode",rel:"rel",selected:"selected",tab:"tab",target:"target"},ngContentSelectors:Te,decls:1,vars:0,template:function(N,ce){1&N&&(E.F$t(),E.Hsn(0))},encapsulation:2,changeDetection:0}),O=(0,ke.gn)([an({inputs:["disabled","download","href","layout","mode","rel","selected","tab","target"]})],O),O})(),_e=(()=>{let O=class{constructor(N,ce,Ge){this.z=Ge,N.detach(),this.el=ce.nativeElement}};return O.\u0275fac=function(N){return new(N||O)(E.Y36(E.sBO),E.Y36(E.SBq),E.Y36(E.R0b))},O.\u0275cmp=E.Xpm({type:O,selectors:[["ion-text"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:Te,decls:1,vars:0,template:function(N,ce){1&N&&(E.F$t(),E.Hsn(0))},encapsulation:2,changeDetection:0}),O=(0,ke.gn)([an({inputs:["color","mode"]})],O),O})(),st=(()=>{let O=class{constructor(N,ce,Ge){this.z=Ge,N.detach(),this.el=ce.nativeElement}};return O.\u0275fac=function(N){return new(N||O)(E.Y36(E.sBO),E.Y36(E.SBq),E.Y36(E.R0b))},O.\u0275cmp=E.Xpm({type:O,selectors:[["ion-title"]],inputs:{color:"color",size:"size"},ngContentSelectors:Te,decls:1,vars:0,template:function(N,ce){1&N&&(E.F$t(),E.Hsn(0))},encapsulation:2,changeDetection:0}),O=(0,ke.gn)([an({inputs:["color","size"]})],O),O})(),nn=(()=>{let O=class{constructor(N,ce,Ge){this.z=Ge,N.detach(),this.el=ce.nativeElement}};return O.\u0275fac=function(N){return new(N||O)(E.Y36(E.sBO),E.Y36(E.SBq),E.Y36(E.R0b))},O.\u0275cmp=E.Xpm({type:O,selectors:[["ion-toolbar"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:Te,decls:1,vars:0,template:function(N,ce){1&N&&(E.F$t(),E.Hsn(0))},encapsulation:2,changeDetection:0}),O=(0,ke.gn)([an({inputs:["color","mode"]})],O),O})(),Vn=(()=>{class O{get(N,ce){const Ge=Nr();return Ge?Ge.get(N,ce):null}getBoolean(N,ce){const Ge=Nr();return!!Ge&&Ge.getBoolean(N,ce)}getNumber(N,ce){const Ge=Nr();return Ge?Ge.getNumber(N,ce):0}}return O.\u0275fac=function(N){return new(N||O)},O.\u0275prov=E.Yz7({token:O,factory:O.\u0275fac,providedIn:"root"}),O})();const Un=new E.OlP("USERCONFIG"),Nr=()=>{if(typeof window<"u"){const O=window.Ionic;if(null!=O&&O.config)return O.config}return null};let Qr=(()=>{class O{constructor(N,ce){this.doc=N,this.backButton=new ze.x,this.keyboardDidShow=new ze.x,this.keyboardDidHide=new ze.x,this.pause=new ze.x,this.resume=new ze.x,this.resize=new ze.x,ce.run(()=>{var Ge;let _n;this.win=N.defaultView,this.backButton.subscribeWithPriority=function(Tr,Xn){return this.subscribe(hi=>hi.register(Tr,ni=>ce.run(()=>Xn(ni))))},Ji(this.pause,N,"pause"),Ji(this.resume,N,"resume"),Ji(this.backButton,N,"ionBackButton"),Ji(this.resize,this.win,"resize"),Ji(this.keyboardDidShow,this.win,"ionKeyboardDidShow"),Ji(this.keyboardDidHide,this.win,"ionKeyboardDidHide"),this._readyPromise=new Promise(Tr=>{_n=Tr}),null!==(Ge=this.win)&&void 0!==Ge&&Ge.cordova?N.addEventListener("deviceready",()=>{_n("cordova")},{once:!0}):_n("dom")})}is(N){return(0,Me.a)(this.win,N)}platforms(){return(0,Me.g)(this.win)}ready(){return this._readyPromise}get isRTL(){return"rtl"===this.doc.dir}getQueryParam(N){return vs(this.win.location.href,N)}isLandscape(){return!this.isPortrait()}isPortrait(){var N,ce;return null===(N=(ce=this.win).matchMedia)||void 0===N?void 0:N.call(ce,"(orientation: portrait)").matches}testUserAgent(N){const ce=this.win.navigator;return!!(null!=ce&&ce.userAgent&&ce.userAgent.indexOf(N)>=0)}url(){return this.win.location.href}width(){return this.win.innerWidth}height(){return this.win.innerHeight}}return O.\u0275fac=function(N){return new(N||O)(E.LFG(ee.K0),E.LFG(E.R0b))},O.\u0275prov=E.Yz7({token:O,factory:O.\u0275fac,providedIn:"root"}),O})();const vs=(O,he)=>{he=he.replace(/[[\]\\]/g,"\\$&");const ce=new RegExp("[\\?&]"+he+"=([^&#]*)").exec(O);return ce?decodeURIComponent(ce[1].replace(/\+/g," ")):null},Ji=(O,he,N)=>{he&&he.addEventListener(N,ce=>{O.next(null!=ce?ce.detail:void 0)})};let Ti=(()=>{class O{constructor(N,ce,Ge,_n){this.location=ce,this.serializer=Ge,this.router=_n,this.direction=Tn,this.animated=Lr,this.guessDirection="forward",this.lastNavId=-1,_n&&_n.events.subscribe(Tr=>{if(Tr instanceof Re.OD){const Xn=Tr.restoredState?Tr.restoredState.navigationId:Tr.id;this.guessDirection=Xn<this.lastNavId?"back":"forward",this.guessAnimation=Tr.restoredState?void 0:this.guessDirection,this.lastNavId="forward"===this.guessDirection?Tr.id:Xn}}),N.backButton.subscribeWithPriority(0,Tr=>{this.pop(),Tr()})}navigateForward(N,ce={}){return this.setDirection("forward",ce.animated,ce.animationDirection,ce.animation),this.navigate(N,ce)}navigateBack(N,ce={}){return this.setDirection("back",ce.animated,ce.animationDirection,ce.animation),this.navigate(N,ce)}navigateRoot(N,ce={}){return this.setDirection("root",ce.animated,ce.animationDirection,ce.animation),this.navigate(N,ce)}back(N={animated:!0,animationDirection:"back"}){return this.setDirection("back",N.animated,N.animationDirection,N.animation),this.location.back()}pop(){var N=this;return(0,d.Z)(function*(){let ce=N.topOutlet;for(;ce&&!(yield ce.pop());)ce=ce.parentOutlet})()}setDirection(N,ce,Ge,_n){this.direction=N,this.animated=Mr(N,ce,Ge),this.animationBuilder=_n}setTopOutlet(N){this.topOutlet=N}consumeTransition(){let ce,N="root";const Ge=this.animationBuilder;return"auto"===this.direction?(N=this.guessDirection,ce=this.guessAnimation):(ce=this.animated,N=this.direction),this.direction=Tn,this.animated=Lr,this.animationBuilder=void 0,{direction:N,animation:ce,animationBuilder:Ge}}navigate(N,ce){if(Array.isArray(N))return this.router.navigate(N,ce);{const Ge=this.serializer.parse(N.toString());return void 0!==ce.queryParams&&(Ge.queryParams={...ce.queryParams}),void 0!==ce.fragment&&(Ge.fragment=ce.fragment),this.router.navigateByUrl(Ge,ce)}}}return O.\u0275fac=function(N){return new(N||O)(E.LFG(Qr),E.LFG(ee.Ye),E.LFG(Re.Hx),E.LFG(Re.F0,8))},O.\u0275prov=E.Yz7({token:O,factory:O.\u0275fac,providedIn:"root"}),O})();const Mr=(O,he,N)=>{if(!1!==he){if(void 0!==N)return N;if("forward"===O||"back"===O)return O;if("root"===O&&!0===he)return"forward"}},Tn="auto",Lr=void 0;class Br{constructor(he={}){this.data=he}get(he){return this.data[he]}}let Ts=(()=>{class O{constructor(){this.zone=(0,E.f3M)(E.R0b),this.applicationRef=(0,E.f3M)(E.z2F)}create(N,ce,Ge){return new Ao(N,ce,this.applicationRef,this.zone,Ge)}}return O.\u0275fac=function(N){return new(N||O)},O.\u0275prov=E.Yz7({token:O,factory:O.\u0275fac}),O})();class Ao{constructor(he,N,ce,Ge,_n){this.environmentInjector=he,this.injector=N,this.applicationRef=ce,this.zone=Ge,this.elementReferenceKey=_n,this.elRefMap=new WeakMap,this.elEventsMap=new WeakMap}attachViewToDom(he,N,ce,Ge){return this.zone.run(()=>new Promise(_n=>{const Tr={...ce};void 0!==this.elementReferenceKey&&(Tr[this.elementReferenceKey]=he),_n(is(this.zone,this.environmentInjector,this.injector,this.applicationRef,this.elRefMap,this.elEventsMap,he,N,Tr,Ge))}))}removeViewFromDom(he,N){return this.zone.run(()=>new Promise(ce=>{const Ge=this.elRefMap.get(N);if(Ge){Ge.destroy(),this.elRefMap.delete(N);const _n=this.elEventsMap.get(N);_n&&(_n(),this.elEventsMap.delete(N))}ce()}))}}const is=(O,he,N,ce,Ge,_n,Tr,Xn,hi,ni)=>{const Es=E.zs3.create({providers:ji(hi),parent:N}),Ci=(0,E.LMc)(Xn,{environmentInjector:he,elementInjector:Es}),Hs=Ci.instance,Do=Ci.location.nativeElement;if(hi&&Object.assign(Hs,hi),ni)for(const le of ni)Do.classList.add(le);const Ee=Jr(O,Hs,Do);return Tr.appendChild(Do),ce.attachView(Ci.hostView),Ge.set(Do,Ci),_n.set(Do,Ee),Do},vo=[jt.L,jt.a,jt.b,jt.c,jt.d],Jr=(O,he,N)=>O.run(()=>{const ce=vo.filter(Ge=>"function"==typeof he[Ge]).map(Ge=>{const _n=Tr=>he[Ge](Tr.detail);return N.addEventListener(Ge,_n),()=>N.removeEventListener(Ge,_n)});return()=>ce.forEach(Ge=>Ge())}),Ur=new E.OlP("NavParamsToken"),ji=O=>[{provide:Ur,useValue:O},{provide:Br,useFactory:qr,deps:[Ur]}],qr=O=>new Br(O),_s=(O,he)=>((O=O.filter(N=>N.stackId!==he.stackId)).push(he),O),eo=(O,he)=>{const N=O.createUrlTree(["."],{relativeTo:he});return O.serializeUrl(N)},zs=(O,he)=>{if(!O)return;const N=Eo(he);for(let ce=0;ce<N.length;ce++){if(ce>=O.length)return N[ce];if(N[ce]!==O[ce])return}},Eo=O=>O.split("/").map(he=>he.trim()).filter(he=>""!==he),_o=O=>{O&&(O.ref.destroy(),O.unlistenEvents())};class wo{constructor(he,N,ce,Ge,_n,Tr){this.containerEl=N,this.router=ce,this.navCtrl=Ge,this.zone=_n,this.location=Tr,this.views=[],this.skipTransition=!1,this.nextId=0,this.tabsPrefix=void 0!==he?Eo(he):void 0}createView(he,N){var ce;const Ge=eo(this.router,N),_n=null==he||null===(ce=he.location)||void 0===ce?void 0:ce.nativeElement,Tr=Jr(this.zone,he.instance,_n);return{id:this.nextId++,stackId:zs(this.tabsPrefix,Ge),unlistenEvents:Tr,element:_n,ref:he,url:Ge}}getExistingView(he){const N=eo(this.router,he),ce=this.views.find(Ge=>Ge.url===N);return ce&&ce.ref.changeDetectorRef.reattach(),ce}setActive(he){var N,ce,Ge;const _n=this.navCtrl.consumeTransition();let{direction:Tr,animation:Xn,animationBuilder:hi}=_n;const ni=this.activeView,Es=((O,he)=>!he||O.stackId!==he.stackId)(he,ni);Es&&(Tr="back",Xn=void 0);const Ci=this.views.slice();let Hs;const Do=this.router;Do.getCurrentNavigation?Hs=Do.getCurrentNavigation():null!==(N=Do.navigations)&&void 0!==N&&N.value&&(Hs=Do.navigations.value),null!==(ce=Hs)&&void 0!==ce&&null!==(Ge=ce.extras)&&void 0!==Ge&&Ge.replaceUrl&&this.views.length>0&&this.views.splice(-1,1);const Ee=this.views.includes(he),le=this.insertView(he,Tr);Ee||he.ref.changeDetectorRef.detectChanges();const $=he.animationBuilder;return void 0===hi&&"back"===Tr&&!Es&&void 0!==$&&(hi=$),ni&&(ni.animationBuilder=hi),this.zone.runOutsideAngular(()=>this.wait(()=>(ni&&ni.ref.changeDetectorRef.detach(),he.ref.changeDetectorRef.reattach(),this.transition(he,ni,Xn,this.canGoBack(1),!1,hi).then(()=>As(he,le,Ci,this.location,this.zone)).then(()=>({enteringView:he,direction:Tr,animation:Xn,tabSwitch:Es})))))}canGoBack(he,N=this.getActiveStackId()){return this.getStack(N).length>he}pop(he,N=this.getActiveStackId()){return this.zone.run(()=>{const ce=this.getStack(N);if(ce.length<=he)return Promise.resolve(!1);const Ge=ce[ce.length-he-1];let _n=Ge.url;const Tr=Ge.savedData;if(Tr){var Xn,hi;const Es=Tr.get("primary");null!=Es&&null!==(Xn=Es.route)&&void 0!==Xn&&null!==(hi=Xn._routerState)&&void 0!==hi&&hi.snapshot.url&&(_n=Es.route._routerState.snapshot.url)}const{animationBuilder:ni}=this.navCtrl.consumeTransition();return this.navCtrl.navigateBack(_n,{...Ge.savedExtras,animation:ni}).then(()=>!0)})}startBackTransition(){const he=this.activeView;if(he){const N=this.getStack(he.stackId),ce=N[N.length-2],Ge=ce.animationBuilder;return this.wait(()=>this.transition(ce,he,"back",this.canGoBack(2),!0,Ge))}return Promise.resolve()}endBackTransition(he){he?(this.skipTransition=!0,this.pop(1)):this.activeView&&qo(this.activeView,this.views,this.views,this.location,this.zone)}getLastUrl(he){const N=this.getStack(he);return N.length>0?N[N.length-1]:void 0}getRootUrl(he){const N=this.getStack(he);return N.length>0?N[0]:void 0}getActiveStackId(){return this.activeView?this.activeView.stackId:void 0}hasRunningTask(){return void 0!==this.runningTask}destroy(){this.containerEl=void 0,this.views.forEach(_o),this.activeView=void 0,this.views=[]}getStack(he){return this.views.filter(N=>N.stackId===he)}insertView(he,N){return this.activeView=he,this.views=((O,he,N)=>"root"===N?_s(O,he):"forward"===N?((O,he)=>(O.indexOf(he)>=0?O=O.filter(ce=>ce.stackId!==he.stackId||ce.id<=he.id):O.push(he),O))(O,he):((O,he)=>O.indexOf(he)>=0?O.filter(ce=>ce.stackId!==he.stackId||ce.id<=he.id):_s(O,he))(O,he))(this.views,he,N),this.views.slice()}transition(he,N,ce,Ge,_n,Tr){if(this.skipTransition)return this.skipTransition=!1,Promise.resolve(!1);if(N===he)return Promise.resolve(!1);const Xn=he?he.element:void 0,hi=N?N.element:void 0,ni=this.containerEl;return Xn&&Xn!==hi&&(Xn.classList.add("ion-page"),Xn.classList.add("ion-page-invisible"),Xn.parentElement!==ni&&ni.appendChild(Xn),ni.commit)?ni.commit(Xn,hi,{duration:void 0===ce?0:void 0,direction:ce,showGoBack:Ge,progressAnimation:_n,animationBuilder:Tr}):Promise.resolve(!1)}wait(he){var N=this;return(0,d.Z)(function*(){void 0!==N.runningTask&&(yield N.runningTask,N.runningTask=void 0);const ce=N.runningTask=he();return ce.finally(()=>N.runningTask=void 0),ce})()}}const As=(O,he,N,ce,Ge)=>"function"==typeof requestAnimationFrame?new Promise(_n=>{requestAnimationFrame(()=>{qo(O,he,N,ce,Ge),_n()})}):Promise.resolve(),qo=(O,he,N,ce,Ge)=>{Ge.run(()=>N.filter(_n=>!he.includes(_n)).forEach(_o)),he.forEach(_n=>{const Xn=ce.path().split("?")[0].split("#")[0];if(_n!==O&&_n.url!==Xn){const hi=_n.element;hi.setAttribute("aria-hidden","true"),hi.classList.add("ion-page-hidden"),_n.ref.changeDetectorRef.detach()}})};let bs=(()=>{class O{constructor(N,ce,Ge,_n,Tr,Xn,hi,ni){this.parentOutlet=ni,this.activated=null,this.activatedView=null,this._activatedRoute=null,this.proxyMap=new WeakMap,this.currentActivatedRoute$=new Se.X(null),this.stackEvents=new E.vpe,this.activateEvents=new E.vpe,this.deactivateEvents=new E.vpe,this.parentContexts=(0,E.f3M)(Re.y6),this.location=(0,E.f3M)(E.s_b),this.environmentInjector=(0,E.f3M)(E.lqb),this.config=(0,E.f3M)(Vn),this.navCtrl=(0,E.f3M)(Ti),this.nativeEl=_n.nativeElement,this.name=N||Re.eC,this.tabsPrefix="true"===ce?eo(Tr,hi):void 0,this.stackCtrl=new wo(this.tabsPrefix,this.nativeEl,Tr,this.navCtrl,Xn,Ge),this.parentContexts.onChildOutletCreated(this.name,this)}set animation(N){this.nativeEl.animation=N}set animated(N){this.nativeEl.animated=N}set swipeGesture(N){this._swipeGesture=N,this.nativeEl.swipeHandler=N?{canStart:()=>this.stackCtrl.canGoBack(1)&&!this.stackCtrl.hasRunningTask(),onStart:()=>this.stackCtrl.startBackTransition(),onEnd:ce=>this.stackCtrl.endBackTransition(ce)}:void 0}ngOnDestroy(){this.stackCtrl.destroy()}getContext(){return this.parentContexts.getContext(this.name)}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(!this.activated){const N=this.getContext();null!=N&&N.route&&this.activateWith(N.route,N.injector)}new Promise(N=>(0,lt.c)(this.nativeEl,N)).then(()=>{void 0===this._swipeGesture&&(this.swipeGesture=this.config.getBoolean("swipeBackEnabled","ios"===this.nativeEl.mode))})}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){throw new Error("incompatible reuse strategy")}attach(N,ce){throw new Error("incompatible reuse strategy")}deactivate(){if(this.activated){if(this.activatedView){const ce=this.getContext();this.activatedView.savedData=new Map(ce.children.contexts);const Ge=this.activatedView.savedData.get("primary");if(Ge&&ce.route&&(Ge.route={...ce.route}),this.activatedView.savedExtras={},ce.route){const _n=ce.route.snapshot;this.activatedView.savedExtras.queryParams=_n.queryParams,this.activatedView.savedExtras.fragment=_n.fragment}}const N=this.component;this.activatedView=null,this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(N)}}activateWith(N,ce){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=N;let Ge,_n=this.stackCtrl.getExistingView(N);if(_n){Ge=this.activated=_n.ref;const Xn=_n.savedData;Xn&&(this.getContext().children.contexts=Xn),this.updateActivatedRouteProxy(Ge.instance,N)}else{var Tr;const Xn=N._futureSnapshot,hi=this.parentContexts.getOrCreateContext(this.name).children,ni=new Se.X(null),Es=this.createActivatedRouteProxy(ni,N),Ci=new xi(Es,hi,this.location.injector),Hs=null!==(Tr=Xn.routeConfig.component)&&void 0!==Tr?Tr:Xn.component;Ge=this.activated=this.location.createComponent(Hs,{index:this.location.length,injector:Ci,environmentInjector:null!=ce?ce:this.environmentInjector}),ni.next(Ge.instance),_n=this.stackCtrl.createView(this.activated,N),this.proxyMap.set(Ge.instance,Es),this.currentActivatedRoute$.next({component:Ge.instance,activatedRoute:N})}this.activatedView=_n,this.navCtrl.setTopOutlet(this),this.stackCtrl.setActive(_n).then(Xn=>{this.activateEvents.emit(Ge.instance),this.stackEvents.emit(Xn)})}canGoBack(N=1,ce){return this.stackCtrl.canGoBack(N,ce)}pop(N=1,ce){return this.stackCtrl.pop(N,ce)}getLastUrl(N){const ce=this.stackCtrl.getLastUrl(N);return ce?ce.url:void 0}getLastRouteView(N){return this.stackCtrl.getLastUrl(N)}getRootView(N){return this.stackCtrl.getRootUrl(N)}getActiveStackId(){return this.stackCtrl.getActiveStackId()}createActivatedRouteProxy(N,ce){const Ge=new Re.gz;return Ge._futureSnapshot=ce._futureSnapshot,Ge._routerState=ce._routerState,Ge.snapshot=ce.snapshot,Ge.outlet=ce.outlet,Ge.component=ce.component,Ge._paramMap=this.proxyObservable(N,"paramMap"),Ge._queryParamMap=this.proxyObservable(N,"queryParamMap"),Ge.url=this.proxyObservable(N,"url"),Ge.params=this.proxyObservable(N,"params"),Ge.queryParams=this.proxyObservable(N,"queryParams"),Ge.fragment=this.proxyObservable(N,"fragment"),Ge.data=this.proxyObservable(N,"data"),Ge}proxyObservable(N,ce){return N.pipe((0,St.h)(Ge=>!!Ge),(0,Ct.w)(Ge=>this.currentActivatedRoute$.pipe((0,St.h)(_n=>null!==_n&&_n.component===Ge),(0,Ct.w)(_n=>_n&&_n.activatedRoute[ce]),(0,yt.x)())))}updateActivatedRouteProxy(N,ce){const Ge=this.proxyMap.get(N);if(!Ge)throw new Error("Could not find activated route proxy for view");Ge._futureSnapshot=ce._futureSnapshot,Ge._routerState=ce._routerState,Ge.snapshot=ce.snapshot,Ge.outlet=ce.outlet,Ge.component=ce.component,this.currentActivatedRoute$.next({component:N,activatedRoute:ce})}}return O.\u0275fac=function(N){return new(N||O)(E.$8M("name"),E.$8M("tabs"),E.Y36(ee.Ye),E.Y36(E.SBq),E.Y36(Re.F0),E.Y36(E.R0b),E.Y36(Re.gz),E.Y36(O,12))},O.\u0275dir=E.lG2({type:O,selectors:[["ion-router-outlet"]],inputs:{animated:"animated",animation:"animation",mode:"mode",swipeGesture:"swipeGesture"},outputs:{stackEvents:"stackEvents",activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),O})();class xi{constructor(he,N,ce){this.route=he,this.childContexts=N,this.parent=ce}get(he,N){return he===Re.gz?this.route:he===Re.y6?this.childContexts:this.parent.get(he,N)}}let No=(()=>{class O{constructor(N){this.navCtrl=N,this.ionTabsWillChange=new E.vpe,this.ionTabsDidChange=new E.vpe}onPageSelected(N){const ce=N.enteringView.stackId;N.tabSwitch&&void 0!==ce&&(this.ionTabsWillChange.emit({tab:ce}),this.tabBar&&(this.tabBar.selectedTab=ce),this.ionTabsDidChange.emit({tab:ce}))}select(N){const ce="string"==typeof N,Ge=ce?N:N.detail.tab,_n=this.outlet.getActiveStackId()===Ge,Tr=`${this.outlet.tabsPrefix}/${Ge}`;if(ce||N.stopPropagation(),_n){const Xn=this.outlet.getActiveStackId(),hi=this.outlet.getLastRouteView(Xn);if((null==hi?void 0:hi.url)===Tr)return;const ni=this.outlet.getRootView(Ge);return this.navCtrl.navigateRoot(Tr,{...ni&&Tr===ni.url&&ni.savedExtras,animated:!0,animationDirection:"back"})}{const Xn=this.outlet.getLastRouteView(Ge);return this.navCtrl.navigateRoot((null==Xn?void 0:Xn.url)||Tr,{...null==Xn?void 0:Xn.savedExtras,animated:!0,animationDirection:"back"})}}getSelected(){return this.outlet.getActiveStackId()}}return O.\u0275fac=function(N){return new(N||O)(E.Y36(Ti))},O.\u0275cmp=E.Xpm({type:O,selectors:[["ion-tabs"]],contentQueries:function(N,ce,Ge){if(1&N&&E.Suo(Ge,pe,5),2&N){let _n;E.iGM(_n=E.CRH())&&(ce.tabBar=_n.first)}},viewQuery:function(N,ce){if(1&N&&E.Gf(Je,5,bs),2&N){let Ge;E.iGM(Ge=E.CRH())&&(ce.outlet=Ge.first)}},hostBindings:function(N,ce){1&N&&E.NdJ("ionTabButtonClick",function(_n){return ce.select(_n)})},outputs:{ionTabsWillChange:"ionTabsWillChange",ionTabsDidChange:"ionTabsDidChange"},ngContentSelectors:mt,decls:5,vars:0,consts:[[1,"tabs-inner"],["tabs","true",3,"stackEvents"],["outlet",""]],template:function(N,ce){1&N&&(E.F$t(ct),E.Hsn(0),E.TgZ(1,"div",0)(2,"ion-router-outlet",1,2),E.NdJ("stackEvents",function(_n){return ce.onPageSelected(_n)}),E.qZA()(),E.Hsn(4,1))},dependencies:[bs],styles:["[_nghost-%COMP%]{display:flex;position:absolute;inset:0;flex-direction:column;width:100%;height:100%;contain:layout size style;z-index:$z-index-page-container}.tabs-inner[_ngcontent-%COMP%]{position:relative;flex:1;contain:layout size style}"]}),O})(),Yi=(()=>{class O{constructor(N,ce,Ge){this.routerOutlet=N,this.navCtrl=ce,this.config=Ge}onClick(N){var ce;const Ge=this.defaultHref||this.config.get("backButtonDefaultHref");null!==(ce=this.routerOutlet)&&void 0!==ce&&ce.canGoBack()?(this.navCtrl.setDirection("back",void 0,void 0,this.routerAnimation),this.routerOutlet.pop(),N.preventDefault()):null!=Ge&&(this.navCtrl.navigateBack(Ge,{animation:this.routerAnimation}),N.preventDefault())}}return O.\u0275fac=function(N){return new(N||O)(E.Y36(bs,8),E.Y36(Ti),E.Y36(Vn))},O.\u0275dir=E.lG2({type:O,selectors:[["ion-back-button"]],hostBindings:function(N,ce){1&N&&E.NdJ("click",function(_n){return ce.onClick(_n)})},inputs:{defaultHref:"defaultHref",routerAnimation:"routerAnimation"}}),O})();class fs{constructor(he){this.ctrl=he}create(he){return this.ctrl.create(he||{})}dismiss(he,N,ce){return this.ctrl.dismiss(he,N,ce)}getTop(){return this.ctrl.getTop()}}let oo=(()=>{class O extends fs{constructor(){super($e.a)}}return O.\u0275fac=function(N){return new(N||O)},O.\u0275prov=E.Yz7({token:O,factory:O.\u0275fac,providedIn:"root"}),O})(),Ni=(()=>{class O extends fs{constructor(){super($e.l)}}return O.\u0275fac=function(N){return new(N||O)},O.\u0275prov=E.Yz7({token:O,factory:O.\u0275fac,providedIn:"root"}),O})(),bo=(()=>{class O extends fs{constructor(){super($e.m),this.angularDelegate=(0,E.f3M)(Ts),this.injector=(0,E.f3M)(E.zs3),this.environmentInjector=(0,E.f3M)(E.lqb)}create(N){return super.create({...N,delegate:this.angularDelegate.create(this.environmentInjector,this.injector,"modal")})}}return O.\u0275fac=function(N){return new(N||O)},O.\u0275prov=E.Yz7({token:O,factory:O.\u0275fac}),O})(),Co=(()=>{class O extends fs{constructor(){super($e.c),this.angularDelegate=(0,E.f3M)(Ts),this.injector=(0,E.f3M)(E.zs3),this.environmentInjector=(0,E.f3M)(E.lqb)}create(N){return super.create({...N,delegate:this.angularDelegate.create(this.environmentInjector,this.injector,"popover")})}}return O.\u0275fac=function(N){return new(N||O)},O.\u0275prov=E.Yz7({token:O,factory:O.\u0275fac}),O})(),to=(()=>{class O extends fs{constructor(){super($e.t)}}return O.\u0275fac=function(N){return new(N||O)},O.\u0275prov=E.Yz7({token:O,factory:O.\u0275fac,providedIn:"root"}),O})();class us{shouldDetach(he){return!1}shouldAttach(he){return!1}store(he,N){}retrieve(he){return null}shouldReuseRoute(he,N){if(he.routeConfig!==N.routeConfig)return!1;const ce=he.params,Ge=N.params,_n=Object.keys(ce),Tr=Object.keys(Ge);if(_n.length!==Tr.length)return!1;for(const Xn of _n)if(Ge[Xn]!==ce[Xn])return!1;return!0}}const Mo=(O,he,N)=>()=>{if(he.defaultView&&typeof window<"u"){(0,pt.s)({...O,_zoneGate:_n=>N.run(_n)});const Ge="__zone_symbol__addEventListener"in he.body?"__zone_symbol__addEventListener":"addEventListener";return function Gt(){var O=[];if(typeof window<"u"){var he=window;(!he.customElements||he.Element&&(!he.Element.prototype.closest||!he.Element.prototype.matches||!he.Element.prototype.remove||!he.Element.prototype.getRootNode))&&O.push(z.e(6748).then(z.t.bind(z,723,23))),("function"!=typeof Object.assign||!Object.entries||!Array.prototype.find||!Array.prototype.includes||!String.prototype.startsWith||!String.prototype.endsWith||he.NodeList&&!he.NodeList.prototype.forEach||!he.fetch||!function(){try{var ce=new URL("b","http://a");return ce.pathname="c%20d","http://a/c%20d"===ce.href&&ce.searchParams}catch{return!1}}()||typeof WeakMap>"u")&&O.push(z.e(2214).then(z.t.bind(z,4144,23)))}return Promise.all(O)}().then(()=>((O,he)=>typeof window>"u"?Promise.resolve():(0,ft.p)().then(()=>(Dt(),(0,ft.b)(JSON.parse('[["ion-menu_3",[[33,"ion-menu-button",{"color":[513],"disabled":[4],"menu":[1],"autoHide":[4,"auto-hide"],"type":[1],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]],[33,"ion-menu",{"contentId":[513,"content-id"],"menuId":[513,"menu-id"],"type":[1025],"disabled":[1028],"side":[513],"swipeGesture":[4,"swipe-gesture"],"maxEdgeStart":[2,"max-edge-start"],"isPaneVisible":[32],"isEndSide":[32],"isOpen":[64],"isActive":[64],"open":[64],"close":[64],"toggle":[64],"setOpen":[64]},[[16,"ionSplitPaneVisible","onSplitPaneChanged"],[2,"click","onBackdropClick"],[0,"keydown","onKeydown"]]],[1,"ion-menu-toggle",{"menu":[1],"autoHide":[4,"auto-hide"],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]]]],["ion-fab_3",[[33,"ion-fab-button",{"color":[513],"activated":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1],"show":[4],"translucent":[4],"type":[1],"size":[1],"closeIcon":[1,"close-icon"]}],[1,"ion-fab",{"horizontal":[1],"vertical":[1],"edge":[4],"activated":[1028],"close":[64],"toggle":[64]}],[1,"ion-fab-list",{"activated":[4],"side":[1]}]]],["ion-refresher_2",[[0,"ion-refresher-content",{"pullingIcon":[1025,"pulling-icon"],"pullingText":[1,"pulling-text"],"refreshingSpinner":[1025,"refreshing-spinner"],"refreshingText":[1,"refreshing-text"]}],[32,"ion-refresher",{"pullMin":[2,"pull-min"],"pullMax":[2,"pull-max"],"closeDuration":[1,"close-duration"],"snapbackDuration":[1,"snapback-duration"],"pullFactor":[2,"pull-factor"],"disabled":[4],"nativeRefresher":[32],"state":[32],"complete":[64],"cancel":[64],"getProgress":[64]}]]],["ion-back-button",[[33,"ion-back-button",{"color":[513],"defaultHref":[1025,"default-href"],"disabled":[516],"icon":[1],"text":[1],"type":[1],"routerAnimation":[16]}]]],["ion-toast",[[33,"ion-toast",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"color":[513],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"duration":[2],"header":[1],"layout":[1],"message":[1],"keyboardClose":[4,"keyboard-close"],"position":[1],"buttons":[16],"translucent":[4],"animated":[4],"icon":[1],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"revealContentToScreenReader":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-card_5",[[33,"ion-card",{"color":[513],"button":[4],"type":[1],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}],[32,"ion-card-content"],[33,"ion-card-header",{"color":[513],"translucent":[4]}],[33,"ion-card-subtitle",{"color":[513]}],[33,"ion-card-title",{"color":[513]}]]],["ion-item-option_3",[[33,"ion-item-option",{"color":[513],"disabled":[4],"download":[1],"expandable":[4],"href":[1],"rel":[1],"target":[1],"type":[1]}],[32,"ion-item-options",{"side":[1],"fireSwipeEvent":[64]}],[0,"ion-item-sliding",{"disabled":[4],"state":[32],"getOpenAmount":[64],"getSlidingRatio":[64],"open":[64],"close":[64],"closeOpened":[64]}]]],["ion-accordion_2",[[49,"ion-accordion",{"value":[1],"disabled":[4],"readonly":[4],"toggleIcon":[1,"toggle-icon"],"toggleIconSlot":[1,"toggle-icon-slot"],"state":[32],"isNext":[32],"isPrevious":[32]}],[33,"ion-accordion-group",{"animated":[4],"multiple":[4],"value":[1025],"disabled":[4],"readonly":[4],"expand":[1],"requestAccordionToggle":[64],"getAccordions":[64]},[[0,"keydown","onKeydown"]]]]],["ion-infinite-scroll_2",[[32,"ion-infinite-scroll-content",{"loadingSpinner":[1025,"loading-spinner"],"loadingText":[1,"loading-text"]}],[0,"ion-infinite-scroll",{"threshold":[1],"disabled":[4],"position":[1],"isLoading":[32],"complete":[64]}]]],["ion-reorder_2",[[33,"ion-reorder",null,[[2,"click","onClick"]]],[0,"ion-reorder-group",{"disabled":[4],"state":[32],"complete":[64]}]]],["ion-segment_2",[[33,"ion-segment-button",{"disabled":[1028],"layout":[1],"type":[1],"value":[1],"checked":[32],"setFocus":[64]}],[33,"ion-segment",{"color":[513],"disabled":[4],"scrollable":[4],"swipeGesture":[4,"swipe-gesture"],"value":[1025],"selectOnFocus":[4,"select-on-focus"],"activated":[32]},[[0,"keydown","onKeyDown"]]]]],["ion-tab-bar_2",[[33,"ion-tab-button",{"disabled":[4],"download":[1],"href":[1],"rel":[1],"layout":[1025],"selected":[1028],"tab":[1],"target":[1]},[[8,"ionTabBarChanged","onTabBarChanged"]]],[33,"ion-tab-bar",{"color":[513],"selectedTab":[1,"selected-tab"],"translucent":[4],"keyboardVisible":[32]}]]],["ion-chip",[[1,"ion-chip",{"color":[513],"outline":[4],"disabled":[4]}]]],["ion-datetime-button",[[33,"ion-datetime-button",{"color":[513],"disabled":[516],"datetime":[1],"datetimePresentation":[32],"dateText":[32],"timeText":[32],"datetimeActive":[32],"selectedButton":[32]}]]],["ion-input",[[34,"ion-input",{"color":[513],"accept":[1],"autocapitalize":[1],"autocomplete":[1],"autocorrect":[1],"autofocus":[4],"clearInput":[4,"clear-input"],"clearOnEdit":[4,"clear-on-edit"],"counter":[4],"counterFormatter":[16],"debounce":[2],"disabled":[4],"enterkeyhint":[1],"errorText":[1,"error-text"],"fill":[1],"inputmode":[1],"helperText":[1,"helper-text"],"label":[1],"labelPlacement":[1,"label-placement"],"legacy":[4],"max":[8],"maxlength":[2],"min":[8],"minlength":[2],"multiple":[4],"name":[1],"pattern":[1],"placeholder":[1],"readonly":[4],"required":[4],"shape":[1],"spellcheck":[4],"step":[1],"size":[2],"type":[1],"value":[1032],"hasFocus":[32],"setFocus":[64],"getInputElement":[64]}]]],["ion-searchbar",[[34,"ion-searchbar",{"color":[513],"animated":[4],"autocomplete":[1],"autocorrect":[1],"cancelButtonIcon":[1,"cancel-button-icon"],"cancelButtonText":[1,"cancel-button-text"],"clearIcon":[1,"clear-icon"],"debounce":[2],"disabled":[4],"inputmode":[1],"enterkeyhint":[1],"placeholder":[1],"searchIcon":[1,"search-icon"],"showCancelButton":[1,"show-cancel-button"],"showClearButton":[1,"show-clear-button"],"spellcheck":[4],"type":[1],"value":[1025],"focused":[32],"noAnimate":[32],"setFocus":[64],"getInputElement":[64]}]]],["ion-toggle",[[33,"ion-toggle",{"color":[513],"name":[1],"checked":[1028],"disabled":[4],"value":[1],"enableOnOffLabels":[4,"enable-on-off-labels"],"labelPlacement":[1,"label-placement"],"legacy":[4],"justify":[1],"activated":[32]}]]],["ion-nav_2",[[1,"ion-nav",{"delegate":[16],"swipeGesture":[1028,"swipe-gesture"],"animated":[4],"animation":[16],"rootParams":[16],"root":[1],"push":[64],"insert":[64],"insertPages":[64],"pop":[64],"popTo":[64],"popToRoot":[64],"removeIndex":[64],"setRoot":[64],"setPages":[64],"setRouteId":[64],"getRouteId":[64],"getActive":[64],"getByIndex":[64],"canGoBack":[64],"getPrevious":[64]}],[0,"ion-nav-link",{"component":[1],"componentProps":[16],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}]]],["ion-textarea",[[34,"ion-textarea",{"color":[513],"autocapitalize":[1],"autofocus":[4],"clearOnEdit":[4,"clear-on-edit"],"debounce":[2],"disabled":[4],"fill":[1],"inputmode":[1],"enterkeyhint":[1],"maxlength":[2],"minlength":[2],"name":[1],"placeholder":[1],"readonly":[4],"required":[4],"spellcheck":[4],"cols":[2],"rows":[2],"wrap":[1],"autoGrow":[516,"auto-grow"],"value":[1025],"counter":[4],"counterFormatter":[16],"errorText":[1,"error-text"],"helperText":[1,"helper-text"],"label":[1],"labelPlacement":[1,"label-placement"],"legacy":[4],"shape":[1],"hasFocus":[32],"setFocus":[64],"getInputElement":[64]}]]],["ion-backdrop",[[33,"ion-backdrop",{"visible":[4],"tappable":[4],"stopPropagation":[4,"stop-propagation"]},[[2,"click","onMouseDown"]]]]],["ion-loading",[[34,"ion-loading",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"message":[1],"cssClass":[1,"css-class"],"duration":[2],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"spinner":[1025],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-breadcrumb_2",[[33,"ion-breadcrumb",{"collapsed":[4],"last":[4],"showCollapsedIndicator":[4,"show-collapsed-indicator"],"color":[1],"active":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"separator":[4],"target":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}],[33,"ion-breadcrumbs",{"color":[513],"maxItems":[2,"max-items"],"itemsBeforeCollapse":[2,"items-before-collapse"],"itemsAfterCollapse":[2,"items-after-collapse"],"collapsed":[32],"activeChanged":[32]},[[0,"collapsedClick","onCollapsedClick"]]]]],["ion-modal",[[33,"ion-modal",{"hasController":[4,"has-controller"],"overlayIndex":[2,"overlay-index"],"delegate":[16],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"breakpoints":[16],"initialBreakpoint":[2,"initial-breakpoint"],"backdropBreakpoint":[2,"backdrop-breakpoint"],"handle":[4],"handleBehavior":[1,"handle-behavior"],"component":[1],"componentProps":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"animated":[4],"presentingElement":[16],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"keepContentsMounted":[4,"keep-contents-mounted"],"canDismiss":[4,"can-dismiss"],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"setCurrentBreakpoint":[64],"getCurrentBreakpoint":[64]}]]],["ion-route_4",[[0,"ion-route",{"url":[1],"component":[1],"componentProps":[16],"beforeLeave":[16],"beforeEnter":[16]}],[0,"ion-route-redirect",{"from":[1],"to":[1]}],[0,"ion-router",{"root":[1],"useHash":[4,"use-hash"],"canTransition":[64],"push":[64],"back":[64],"printDebug":[64],"navChanged":[64]},[[8,"popstate","onPopState"],[4,"ionBackButton","onBackButton"]]],[1,"ion-router-link",{"color":[513],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}]]],["ion-avatar_3",[[33,"ion-avatar"],[33,"ion-badge",{"color":[513]}],[1,"ion-thumbnail"]]],["ion-col_3",[[1,"ion-col",{"offset":[1],"offsetXs":[1,"offset-xs"],"offsetSm":[1,"offset-sm"],"offsetMd":[1,"offset-md"],"offsetLg":[1,"offset-lg"],"offsetXl":[1,"offset-xl"],"pull":[1],"pullXs":[1,"pull-xs"],"pullSm":[1,"pull-sm"],"pullMd":[1,"pull-md"],"pullLg":[1,"pull-lg"],"pullXl":[1,"pull-xl"],"push":[1],"pushXs":[1,"push-xs"],"pushSm":[1,"push-sm"],"pushMd":[1,"push-md"],"pushLg":[1,"push-lg"],"pushXl":[1,"push-xl"],"size":[1],"sizeXs":[1,"size-xs"],"sizeSm":[1,"size-sm"],"sizeMd":[1,"size-md"],"sizeLg":[1,"size-lg"],"sizeXl":[1,"size-xl"]},[[9,"resize","onResize"]]],[1,"ion-grid",{"fixed":[4]}],[1,"ion-row"]]],["ion-tab_2",[[1,"ion-tab",{"active":[1028],"delegate":[16],"tab":[1],"component":[1],"setActive":[64]}],[1,"ion-tabs",{"useRouter":[1028,"use-router"],"selectedTab":[32],"select":[64],"getTab":[64],"getSelected":[64],"setRouteId":[64],"getRouteId":[64]}]]],["ion-img",[[1,"ion-img",{"alt":[1],"src":[1],"loadSrc":[32],"loadError":[32]}]]],["ion-progress-bar",[[33,"ion-progress-bar",{"type":[1],"reversed":[4],"value":[2],"buffer":[2],"color":[513]}]]],["ion-range",[[33,"ion-range",{"color":[513],"debounce":[2],"name":[1],"dualKnobs":[4,"dual-knobs"],"min":[2],"max":[2],"pin":[4],"pinFormatter":[16],"snaps":[4],"step":[2],"ticks":[4],"activeBarStart":[1026,"active-bar-start"],"disabled":[4],"value":[1026],"labelPlacement":[1,"label-placement"],"legacy":[4],"ratioA":[32],"ratioB":[32],"pressedKnob":[32]}]]],["ion-split-pane",[[33,"ion-split-pane",{"contentId":[513,"content-id"],"disabled":[4],"when":[8],"visible":[32]}]]],["ion-text",[[1,"ion-text",{"color":[513]}]]],["ion-item_8",[[33,"ion-item-divider",{"color":[513],"sticky":[4]}],[32,"ion-item-group"],[1,"ion-skeleton-text",{"animated":[4]}],[32,"ion-list",{"lines":[1],"inset":[4],"closeSlidingItems":[64]}],[33,"ion-list-header",{"color":[513],"lines":[1]}],[49,"ion-item",{"color":[513],"button":[4],"detail":[4],"detailIcon":[1,"detail-icon"],"disabled":[4],"download":[1],"fill":[1],"shape":[1],"href":[1],"rel":[1],"lines":[1],"counter":[4],"routerAnimation":[16],"routerDirection":[1,"router-direction"],"target":[1],"type":[1],"counterFormatter":[16],"multipleInputs":[32],"focusable":[32],"counterString":[32]},[[0,"ionInput","handleIonInput"],[0,"ionColor","labelColorChanged"],[0,"ionStyle","itemStyle"]]],[34,"ion-label",{"color":[513],"position":[1],"noAnimate":[32]}],[33,"ion-note",{"color":[513]}]]],["ion-select_3",[[33,"ion-select",{"cancelText":[1,"cancel-text"],"color":[513],"compareWith":[1,"compare-with"],"disabled":[4],"fill":[1],"interface":[1],"interfaceOptions":[8,"interface-options"],"justify":[1],"label":[1],"labelPlacement":[1,"label-placement"],"legacy":[4],"multiple":[4],"name":[1],"okText":[1,"ok-text"],"placeholder":[1],"selectedText":[1,"selected-text"],"shape":[1],"value":[1032],"isExpanded":[32],"open":[64]}],[1,"ion-select-option",{"disabled":[4],"value":[8]}],[34,"ion-select-popover",{"header":[1],"subHeader":[1,"sub-header"],"message":[1],"multiple":[4],"options":[16]}]]],["ion-picker-internal",[[33,"ion-picker-internal",{"exitInputMode":[64]},[[1,"touchstart","preventTouchStartPropagation"]]]]],["ion-datetime_3",[[33,"ion-datetime",{"color":[1],"name":[1],"disabled":[4],"readonly":[4],"isDateEnabled":[16],"min":[1025],"max":[1025],"presentation":[1],"cancelText":[1,"cancel-text"],"doneText":[1,"done-text"],"clearText":[1,"clear-text"],"yearValues":[8,"year-values"],"monthValues":[8,"month-values"],"dayValues":[8,"day-values"],"hourValues":[8,"hour-values"],"minuteValues":[8,"minute-values"],"locale":[1],"firstDayOfWeek":[2,"first-day-of-week"],"titleSelectedDatesFormatter":[16],"multiple":[4],"highlightedDates":[16],"value":[1025],"showDefaultTitle":[4,"show-default-title"],"showDefaultButtons":[4,"show-default-buttons"],"showClearButton":[4,"show-clear-button"],"showDefaultTimeLabel":[4,"show-default-time-label"],"hourCycle":[1,"hour-cycle"],"size":[1],"preferWheel":[4,"prefer-wheel"],"showMonthAndYear":[32],"activeParts":[32],"workingParts":[32],"isPresented":[32],"isTimePopoverOpen":[32],"confirm":[64],"reset":[64],"cancel":[64]}],[34,"ion-picker",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"columns":[16],"cssClass":[1,"css-class"],"duration":[2],"showBackdrop":[4,"show-backdrop"],"backdropDismiss":[4,"backdrop-dismiss"],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"getColumn":[64]}],[32,"ion-picker-column",{"col":[16]}]]],["ion-radio_2",[[33,"ion-radio",{"color":[513],"name":[1],"disabled":[4],"value":[8],"labelPlacement":[1,"label-placement"],"legacy":[4],"justify":[1],"checked":[32],"buttonTabindex":[32],"setFocus":[64],"setButtonTabindex":[64]}],[0,"ion-radio-group",{"allowEmptySelection":[4,"allow-empty-selection"],"name":[1],"value":[1032]},[[4,"keydown","onKeydown"]]]]],["ion-ripple-effect",[[1,"ion-ripple-effect",{"type":[1],"addRipple":[64]}]]],["ion-button_2",[[33,"ion-button",{"color":[513],"buttonType":[1025,"button-type"],"disabled":[516],"expand":[513],"fill":[1537],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"download":[1],"href":[1],"rel":[1],"shape":[513],"size":[513],"strong":[4],"target":[1],"type":[1],"form":[1]}],[1,"ion-icon",{"mode":[1025],"color":[1],"ios":[1],"md":[1],"flipRtl":[4,"flip-rtl"],"name":[513],"src":[1],"icon":[8],"size":[1],"lazy":[4],"sanitize":[4],"svgContent":[32],"isVisible":[32]}]]],["ion-action-sheet",[[34,"ion-action-sheet",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"header":[1],"subHeader":[1,"sub-header"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-alert",[[34,"ion-alert",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"header":[1],"subHeader":[1,"sub-header"],"message":[1],"buttons":[16],"inputs":[1040],"backdropDismiss":[4,"backdrop-dismiss"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},[[4,"keydown","onKeydown"]]]]],["ion-app_8",[[0,"ion-app",{"setFocus":[64]}],[1,"ion-content",{"color":[513],"fullscreen":[4],"forceOverscroll":[1028,"force-overscroll"],"scrollX":[4,"scroll-x"],"scrollY":[4,"scroll-y"],"scrollEvents":[4,"scroll-events"],"getScrollElement":[64],"getBackgroundElement":[64],"scrollToTop":[64],"scrollToBottom":[64],"scrollByPoint":[64],"scrollToPoint":[64]},[[8,"appload","onAppLoad"],[9,"resize","onResize"]]],[36,"ion-footer",{"collapse":[1],"translucent":[4],"keyboardVisible":[32]}],[36,"ion-header",{"collapse":[1],"translucent":[4]}],[1,"ion-router-outlet",{"mode":[1025],"delegate":[16],"animated":[4],"animation":[16],"swipeHandler":[16],"commit":[64],"setRouteId":[64],"getRouteId":[64]}],[33,"ion-title",{"color":[513],"size":[1]}],[33,"ion-toolbar",{"color":[513]},[[0,"ionStyle","childrenStyle"]]],[34,"ion-buttons",{"collapse":[4]}]]],["ion-picker-column-internal",[[33,"ion-picker-column-internal",{"items":[16],"value":[1032],"color":[513],"numericInput":[4,"numeric-input"],"isActive":[32],"scrollActiveItemIntoView":[64],"setValue":[64]}]]],["ion-popover",[[33,"ion-popover",{"hasController":[4,"has-controller"],"delegate":[16],"overlayIndex":[2,"overlay-index"],"enterAnimation":[16],"leaveAnimation":[16],"component":[1],"componentProps":[16],"keyboardClose":[4,"keyboard-close"],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"event":[8],"showBackdrop":[4,"show-backdrop"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"triggerAction":[1,"trigger-action"],"trigger":[1],"size":[1],"dismissOnSelect":[4,"dismiss-on-select"],"reference":[1],"side":[1],"alignment":[1025],"arrow":[4],"isOpen":[4,"is-open"],"keyboardEvents":[4,"keyboard-events"],"keepContentsMounted":[4,"keep-contents-mounted"],"presented":[32],"presentFromTrigger":[64],"present":[64],"dismiss":[64],"getParentPopover":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-checkbox",[[33,"ion-checkbox",{"color":[513],"name":[1],"checked":[1028],"indeterminate":[1028],"disabled":[4],"value":[8],"labelPlacement":[1,"label-placement"],"justify":[1],"legacy":[4]}]]],["ion-spinner",[[1,"ion-spinner",{"color":[513],"duration":[2],"name":[1],"paused":[4]}]]]]'),he))))(0,{exclude:["ion-tabs","ion-tab"],syncQueue:!0,raf:ut,jmp:_n=>N.runOutsideAngular(_n),ael(_n,Tr,Xn,hi){_n[Ge](Tr,Xn,hi)},rel(_n,Tr,Xn,hi){_n.removeEventListener(Tr,Xn,hi)}}))}};let qi=(()=>{class O{static forRoot(N){return{ngModule:O,providers:[{provide:Un,useValue:N},{provide:E.ip1,useFactory:Mo,multi:!0,deps:[Un,ee.K0,E.R0b]}]}}}return O.\u0275fac=function(N){return new(N||O)},O.\u0275mod=E.oAB({type:O}),O.\u0275inj=E.cJS({providers:[Ts,bo,Co],imports:[ee.ez]}),O})()},3192:(Jn,Lt,z)=>{"use strict";z.d(Lt,{kL:()=>fs,zX:()=>ko});var d=z(1086);class E{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(l,s,c,f){const I=s.duration;s.listeners[f].forEach(A=>A({chart:l,initial:s.initial,numSteps:I,currentStep:Math.min(c-s.start,I)}))}_refresh(){this._request||(this._running=!0,this._request=d.r.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(l=Date.now()){let s=0;this._charts.forEach((c,f)=>{if(!c.running||!c.items.length)return;const _=c.items;let k,I=_.length-1,A=!1;for(;I>=0;--I)k=_[I],k._active?(k._total>c.duration&&(c.duration=k._total),k.tick(l),A=!0):(_[I]=_[_.length-1],_.pop());A&&(f.draw(),this._notify(f,c,l,"progress")),_.length||(c.running=!1,this._notify(f,c,l,"complete"),c.initial=!1),s+=_.length}),this._lastDate=l,0===s&&(this._running=!1)}_getAnims(l){const s=this._charts;let c=s.get(l);return c||(c={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},s.set(l,c)),c}listen(l,s,c){this._getAnims(l).listeners[s].push(c)}add(l,s){!s||!s.length||this._getAnims(l).items.push(...s)}has(l){return this._getAnims(l).items.length>0}start(l){const s=this._charts.get(l);s&&(s.running=!0,s.start=Date.now(),s.duration=s.items.reduce((c,f)=>Math.max(c,f._duration),0),this._refresh())}running(l){if(!this._running)return!1;const s=this._charts.get(l);return!(!s||!s.running||!s.items.length)}stop(l){const s=this._charts.get(l);if(!s||!s.items.length)return;const c=s.items;let f=c.length-1;for(;f>=0;--f)c[f].cancel();s.items=[],this._notify(l,s,Date.now(),"complete")}remove(l){return this._charts.delete(l)}}var be=new E;const ke="transparent",qe={boolean:(m,l,s)=>s>.5?l:m,color(m,l,s){const c=(0,d.c)(m||ke),f=c.valid&&(0,d.c)(l||ke);return f&&f.valid?f.mix(c,s).hexString():l},number:(m,l,s)=>m+(l-m)*s};class ze{constructor(l,s,c,f){const _=s[c];f=(0,d.a)([l.to,f,_,l.from]);const I=(0,d.a)([l.from,_,f]);this._active=!0,this._fn=l.fn||qe[l.type||typeof I],this._easing=d.e[l.easing]||d.e.linear,this._start=Math.floor(Date.now()+(l.delay||0)),this._duration=this._total=Math.floor(l.duration),this._loop=!!l.loop,this._target=s,this._prop=c,this._from=I,this._to=f,this._promises=void 0}active(){return this._active}update(l,s,c){if(this._active){this._notify(!1);const f=this._target[this._prop],_=c-this._start,I=this._duration-_;this._start=c,this._duration=Math.floor(Math.max(I,l.duration)),this._total+=_,this._loop=!!l.loop,this._to=(0,d.a)([l.to,s,f,l.from]),this._from=(0,d.a)([l.from,f,s])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(l){const s=l-this._start,c=this._duration,f=this._prop,_=this._from,I=this._loop,A=this._to;let k;if(this._active=_!==A&&(I||s<c),!this._active)return this._target[f]=A,void this._notify(!0);s<0?this._target[f]=_:(k=s/c%2,k=I&&k>1?2-k:k,k=this._easing(Math.min(1,Math.max(0,k))),this._target[f]=this._fn(_,A,k))}wait(){const l=this._promises||(this._promises=[]);return new Promise((s,c)=>{l.push({res:s,rej:c})})}_notify(l){const s=l?"res":"rej",c=this._promises||[];for(let f=0;f<c.length;f++)c[f][s]()}}class Se{constructor(l,s){this._chart=l,this._properties=new Map,this.configure(s)}configure(l){if(!(0,d.i)(l))return;const s=Object.keys(d.d.animation),c=this._properties;Object.getOwnPropertyNames(l).forEach(f=>{const _=l[f];if(!(0,d.i)(_))return;const I={};for(const A of s)I[A]=_[A];((0,d.b)(_.properties)&&_.properties||[f]).forEach(A=>{(A===f||!c.has(A))&&c.set(A,I)})})}_animateOptions(l,s){const c=s.options,f=function Ze(m,l){if(!l)return;let s=m.options;if(s)return s.$shared&&(m.options=s=Object.assign({},s,{$shared:!1,$animations:{}})),s;m.options=l}(l,c);if(!f)return[];const _=this._createAnimations(f,c);return c.$shared&&function Re(m,l){const s=[],c=Object.keys(l);for(let f=0;f<c.length;f++){const _=m[c[f]];_&&_.active()&&s.push(_.wait())}return Promise.all(s)}(l.options.$animations,c).then(()=>{l.options=c},()=>{}),_}_createAnimations(l,s){const c=this._properties,f=[],_=l.$animations||(l.$animations={}),I=Object.keys(s),A=Date.now();let k;for(k=I.length-1;k>=0;--k){const Y=I[k];if("$"===Y.charAt(0))continue;if("options"===Y){f.push(...this._animateOptions(l,s));continue}const ue=s[Y];let Ce=_[Y];const je=c.get(Y);if(Ce){if(je&&Ce.active()){Ce.update(je,ue,A);continue}Ce.cancel()}je&&je.duration?(_[Y]=Ce=new ze(je,l,Y,ue),f.push(Ce)):l[Y]=ue}return f}update(l,s){if(0===this._properties.size)return void Object.assign(l,s);const c=this._createAnimations(l,s);return c.length?(be.add(this._chart,c),!0):void 0}}function Fe(m,l){const s=m&&m.options||{},c=s.reverse,f=void 0===s.min?l:0,_=void 0===s.max?l:0;return{start:c?_:f,end:c?f:_}}function Me(m,l){const s=[],c=m._getSortedDatasetMetas(l);let f,_;for(f=0,_=c.length;f<_;++f)s.push(c[f].index);return s}function lt(m,l,s,c={}){const f=m.keys,_="single"===c.mode;let I,A,k,Y;if(null!==l){for(I=0,A=f.length;I<A;++I){if(k=+f[I],k===s){if(c.all)continue;break}Y=m.values[k],(0,d.g)(Y)&&(_||0===l||(0,d.s)(l)===(0,d.s)(Y))&&(l+=Y)}return l}}function jt(m,l){const s=m&&m.options.stacked;return s||void 0===s&&void 0!==l.stack}function kt(m,l,s){const c=m[l]||(m[l]={});return c[s]||(c[s]={})}function Mt(m,l,s,c){for(const f of l.getMatchingVisibleMetas(c).reverse()){const _=m[f.index];if(s&&_>0||!s&&_<0)return f.index}return null}function ft(m,l){const{chart:s,_cachedMeta:c}=m,f=s._stacks||(s._stacks={}),{iScale:_,vScale:I,index:A}=c,k=_.axis,Y=I.axis,ue=function He(m,l,s){return`${m.id}.${l.id}.${s.stack||s.type}`}(_,I,c),Ce=l.length;let je;for(let Qe=0;Qe<Ce;++Qe){const Et=l[Qe],{[k]:At,[Y]:Xt}=Et;je=(Et._stacks||(Et._stacks={}))[Y]=kt(f,ue,At),je[A]=Xt,je._top=Mt(je,I,!0,c.type),je._bottom=Mt(je,I,!1,c.type),(je._visualValues||(je._visualValues={}))[A]=Xt}}function It(m,l){const s=m.scales;return Object.keys(s).filter(c=>s[c].axis===l).shift()}function yt(m,l){const s=m.controller.index,c=m.vScale&&m.vScale.axis;if(c){l=l||m._parsed;for(const f of l){const _=f._stacks;if(!_||void 0===_[c]||void 0===_[c][s])return;delete _[c][s],void 0!==_[c]._visualValues&&void 0!==_[c]._visualValues[s]&&delete _[c]._visualValues[s]}}}const ee=m=>"reset"===m||"none"===m,Gt=(m,l)=>l?m:Object.assign({},m);let Ft=(()=>{class m{constructor(s,c){this.chart=s,this._ctx=s.ctx,this.index=c,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const s=this._cachedMeta;this.configure(),this.linkScales(),s._stacked=jt(s.vScale,s),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(s){this.index!==s&&yt(this._cachedMeta),this.index=s}linkScales(){const s=this.chart,c=this._cachedMeta,f=this.getDataset(),_=(je,Qe,Et,At)=>"x"===je?Qe:"r"===je?At:Et,I=c.xAxisID=(0,d.v)(f.xAxisID,It(s,"x")),A=c.yAxisID=(0,d.v)(f.yAxisID,It(s,"y")),k=c.rAxisID=(0,d.v)(f.rAxisID,It(s,"r")),Y=c.indexAxis,ue=c.iAxisID=_(Y,I,A,k),Ce=c.vAxisID=_(Y,A,I,k);c.xScale=this.getScaleForId(I),c.yScale=this.getScaleForId(A),c.rScale=this.getScaleForId(k),c.iScale=this.getScaleForId(ue),c.vScale=this.getScaleForId(Ce)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(s){return this.chart.scales[s]}_getOtherScale(s){const c=this._cachedMeta;return s===c.iScale?c.vScale:c.iScale}reset(){this._update("reset")}_destroy(){const s=this._cachedMeta;this._data&&(0,d.u)(this._data,this),s._stacked&&yt(s)}_dataCheck(){const s=this.getDataset(),c=s.data||(s.data=[]),f=this._data;if((0,d.i)(c))this._data=function pt(m){const l=Object.keys(m),s=new Array(l.length);let c,f,_;for(c=0,f=l.length;c<f;++c)_=l[c],s[c]={x:_,y:m[_]};return s}(c);else if(f!==c){if(f){(0,d.u)(f,this);const _=this._cachedMeta;yt(_),_._parsed=[]}c&&Object.isExtensible(c)&&(0,d.l)(c,this),this._syncList=[],this._data=c}}addElements(){const s=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(s.dataset=new this.datasetElementType)}buildOrUpdateElements(s){const c=this._cachedMeta,f=this.getDataset();let _=!1;this._dataCheck();const I=c._stacked;c._stacked=jt(c.vScale,c),c.stack!==f.stack&&(_=!0,yt(c),c.stack=f.stack),this._resyncElements(s),(_||I!==c._stacked)&&ft(this,c._parsed)}configure(){const s=this.chart.config,c=s.datasetScopeKeys(this._type),f=s.getOptionScopes(this.getDataset(),c,!0);this.options=s.createResolver(f,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(s,c){const{_cachedMeta:f,_data:_}=this,{iScale:I,_stacked:A}=f,k=I.axis;let Ce,je,Qe,Y=0===s&&c===_.length||f._sorted,ue=s>0&&f._parsed[s-1];if(!1===this._parsing)f._parsed=_,f._sorted=!0,Qe=_;else{Qe=(0,d.b)(_[s])?this.parseArrayData(f,_,s,c):(0,d.i)(_[s])?this.parseObjectData(f,_,s,c):this.parsePrimitiveData(f,_,s,c);const Et=()=>null===je[k]||ue&&je[k]<ue[k];for(Ce=0;Ce<c;++Ce)f._parsed[Ce+s]=je=Qe[Ce],Y&&(Et()&&(Y=!1),ue=je);f._sorted=Y}A&&ft(this,Qe)}parsePrimitiveData(s,c,f,_){const{iScale:I,vScale:A}=s,k=I.axis,Y=A.axis,ue=I.getLabels(),Ce=I===A,je=new Array(_);let Qe,Et,At;for(Qe=0,Et=_;Qe<Et;++Qe)At=Qe+f,je[Qe]={[k]:Ce||I.parse(ue[At],At),[Y]:A.parse(c[At],At)};return je}parseArrayData(s,c,f,_){const{xScale:I,yScale:A}=s,k=new Array(_);let Y,ue,Ce,je;for(Y=0,ue=_;Y<ue;++Y)Ce=Y+f,je=c[Ce],k[Y]={x:I.parse(je[0],Ce),y:A.parse(je[1],Ce)};return k}parseObjectData(s,c,f,_){const{xScale:I,yScale:A}=s,{xAxisKey:k="x",yAxisKey:Y="y"}=this._parsing,ue=new Array(_);let Ce,je,Qe,Et;for(Ce=0,je=_;Ce<je;++Ce)Qe=Ce+f,Et=c[Qe],ue[Ce]={x:I.parse((0,d.f)(Et,k),Qe),y:A.parse((0,d.f)(Et,Y),Qe)};return ue}getParsed(s){return this._cachedMeta._parsed[s]}getDataElement(s){return this._cachedMeta.data[s]}applyStack(s,c,f){const I=this._cachedMeta,A=c[s.axis];return lt({keys:Me(this.chart,!0),values:c._stacks[s.axis]._visualValues},A,I.index,{mode:f})}updateRangeFromParsed(s,c,f,_){const I=f[c.axis];let A=null===I?NaN:I;const k=_&&f._stacks[c.axis];_&&k&&(_.values=k,A=lt(_,I,this._cachedMeta.index)),s.min=Math.min(s.min,A),s.max=Math.max(s.max,A)}getMinMax(s,c){const f=this._cachedMeta,_=f._parsed,I=f._sorted&&s===f.iScale,A=_.length,k=this._getOtherScale(s),Y=((m,l,s)=>m&&!l.hidden&&l._stacked&&{keys:Me(this.chart,!0),values:null})(c,f),ue={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:Ce,max:je}=function $e(m){const{min:l,max:s,minDefined:c,maxDefined:f}=m.getUserBounds();return{min:c?l:Number.NEGATIVE_INFINITY,max:f?s:Number.POSITIVE_INFINITY}}(k);let Qe,Et;function At(){Et=_[Qe];const Xt=Et[k.axis];return!(0,d.g)(Et[s.axis])||Ce>Xt||je<Xt}for(Qe=0;Qe<A&&(At()||(this.updateRangeFromParsed(ue,s,Et,Y),!I));++Qe);if(I)for(Qe=A-1;Qe>=0;--Qe)if(!At()){this.updateRangeFromParsed(ue,s,Et,Y);break}return ue}getAllParsedValues(s){const c=this._cachedMeta._parsed,f=[];let _,I,A;for(_=0,I=c.length;_<I;++_)A=c[_][s.axis],(0,d.g)(A)&&f.push(A);return f}getMaxOverflow(){return!1}getLabelAndValue(s){const c=this._cachedMeta,f=c.iScale,_=c.vScale,I=this.getParsed(s);return{label:f?""+f.getLabelForValue(I[f.axis]):"",value:_?""+_.getLabelForValue(I[_.axis]):""}}_update(s){const c=this._cachedMeta;this.update(s||"default"),c._clip=function it(m){let l,s,c,f;return(0,d.i)(m)?(l=m.top,s=m.right,c=m.bottom,f=m.left):l=s=c=f=m,{top:l,right:s,bottom:c,left:f,disabled:!1===m}}((0,d.v)(this.options.clip,function xe(m,l,s){if(!1===s)return!1;const c=Fe(m,s),f=Fe(l,s);return{top:f.end,right:c.end,bottom:f.start,left:c.start}}(c.xScale,c.yScale,this.getMaxOverflow())))}update(s){}draw(){const s=this._ctx,f=this._cachedMeta,_=f.data||[],I=this.chart.chartArea,A=[],k=this._drawStart||0,Y=this._drawCount||_.length-k,ue=this.options.drawActiveElementsOnTop;let Ce;for(f.dataset&&f.dataset.draw(s,I,k,Y),Ce=k;Ce<k+Y;++Ce){const je=_[Ce];je.hidden||(je.active&&ue?A.push(je):je.draw(s,I))}for(Ce=0;Ce<A.length;++Ce)A[Ce].draw(s,I)}getStyle(s,c){const f=c?"active":"default";return void 0===s&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(f):this.resolveDataElementOptions(s||0,f)}getContext(s,c,f){const _=this.getDataset();let I;if(s>=0&&s<this._cachedMeta.data.length){const A=this._cachedMeta.data[s];I=A.$context||(A.$context=function Ct(m,l,s){return(0,d.j)(m,{active:!1,dataIndex:l,parsed:void 0,raw:void 0,element:s,index:l,mode:"default",type:"data"})}(this.getContext(),s,A)),I.parsed=this.getParsed(s),I.raw=_.data[s],I.index=I.dataIndex=s}else I=this.$context||(this.$context=function St(m,l){return(0,d.j)(m,{active:!1,dataset:void 0,datasetIndex:l,index:l,mode:"default",type:"dataset"})}(this.chart.getContext(),this.index)),I.dataset=_,I.index=I.datasetIndex=this.index;return I.active=!!c,I.mode=f,I}resolveDatasetElementOptions(s){return this._resolveElementOptions(this.datasetElementType.id,s)}resolveDataElementOptions(s,c){return this._resolveElementOptions(this.dataElementType.id,c,s)}_resolveElementOptions(s,c="default",f){const _="active"===c,I=this._cachedDataOpts,A=s+"-"+c,k=I[A],Y=this.enableOptionSharing&&(0,d.h)(f);if(k)return Gt(k,Y);const ue=this.chart.config,Ce=ue.datasetElementScopeKeys(this._type,s),je=_?[`${s}Hover`,"hover",s,""]:[s,""],Qe=ue.getOptionScopes(this.getDataset(),Ce),Et=Object.keys(d.d.elements[s]),Xt=ue.resolveNamedOptions(Qe,Et,()=>this.getContext(f,_,c),je);return Xt.$shared&&(Xt.$shared=Y,I[A]=Object.freeze(Gt(Xt,Y))),Xt}_resolveAnimations(s,c,f){const _=this.chart,I=this._cachedDataOpts,A=`animation-${c}`,k=I[A];if(k)return k;let Y;if(!1!==_.options.animation){const Ce=this.chart.config,je=Ce.datasetAnimationScopeKeys(this._type,c),Qe=Ce.getOptionScopes(this.getDataset(),je);Y=Ce.createResolver(Qe,this.getContext(s,f,c))}const ue=new Se(_,Y&&Y.animations);return Y&&Y._cacheable&&(I[A]=Object.freeze(ue)),ue}getSharedOptions(s){if(s.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},s))}includeOptions(s,c){return!c||ee(s)||this.chart._animationsDisabled}_getSharedOptions(s,c){const f=this.resolveDataElementOptions(s,c),_=this._sharedOptions,I=this.getSharedOptions(f),A=this.includeOptions(c,I)||I!==_;return this.updateSharedOptions(I,c,f),{sharedOptions:I,includeOptions:A}}updateElement(s,c,f,_){ee(_)?Object.assign(s,f):this._resolveAnimations(c,_).update(s,f)}updateSharedOptions(s,c,f){s&&!ee(c)&&this._resolveAnimations(void 0,c).update(s,f)}_setStyle(s,c,f,_){s.active=_;const I=this.getStyle(c,_);this._resolveAnimations(c,f,_).update(s,{options:!_&&this.getSharedOptions(I)||I})}removeHoverStyle(s,c,f){this._setStyle(s,f,"active",!1)}setHoverStyle(s,c,f){this._setStyle(s,f,"active",!0)}_removeDatasetHoverStyle(){const s=this._cachedMeta.dataset;s&&this._setStyle(s,void 0,"active",!1)}_setDatasetHoverStyle(){const s=this._cachedMeta.dataset;s&&this._setStyle(s,void 0,"active",!0)}_resyncElements(s){const c=this._data,f=this._cachedMeta.data;for(const[k,Y,ue]of this._syncList)this[k](Y,ue);this._syncList=[];const _=f.length,I=c.length,A=Math.min(I,_);A&&this.parse(0,A),I>_?this._insertElements(_,I-_,s):I<_&&this._removeElements(I,_-I)}_insertElements(s,c,f=!0){const _=this._cachedMeta,I=_.data,A=s+c;let k;const Y=ue=>{for(ue.length+=c,k=ue.length-1;k>=A;k--)ue[k]=ue[k-c]};for(Y(I),k=s;k<A;++k)I[k]=new this.dataElementType;this._parsing&&Y(_._parsed),this.parse(s,c),f&&this.updateElements(I,s,c,"reset")}updateElements(s,c,f,_){}_removeElements(s,c){const f=this._cachedMeta;if(this._parsing){const _=f._parsed.splice(s,c);f._stacked&&yt(f,_)}f.data.splice(s,c)}_sync(s){if(this._parsing)this._syncList.push(s);else{const[c,f,_]=s;this[c](f,_)}this.chart._dataChanges.push([this.index,...s])}_onDataPush(){const s=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-s,s])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(s,c){c&&this._sync(["_removeElements",s,c]);const f=arguments.length-2;f&&this._sync(["_insertElements",s,f])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}return m.defaults={},m.datasetElementType=null,m.dataElementType=null,m})();function Te(m){const l=m.iScale,s=function qt(m,l){if(!m._cache.$bar){const s=m.getMatchingVisibleMetas(l);let c=[];for(let f=0,_=s.length;f<_;f++)c=c.concat(s[f].controller.getAllParsedValues(m));m._cache.$bar=(0,d._)(c.sort((f,_)=>f-_))}return m._cache.$bar}(l,m.type);let f,_,I,A,c=l._length;const k=()=>{32767===I||-32768===I||((0,d.h)(A)&&(c=Math.min(c,Math.abs(I-A)||c)),A=I)};for(f=0,_=s.length;f<_;++f)I=l.getPixelForValue(s[f]),k();for(A=void 0,f=0,_=l.ticks.length;f<_;++f)I=l.getPixelForTick(f),k();return c}function et(m,l,s,c){return(0,d.b)(m)?function mt(m,l,s,c){const f=s.parse(m[0],c),_=s.parse(m[1],c),I=Math.min(f,_),A=Math.max(f,_);let k=I,Y=A;Math.abs(I)>Math.abs(A)&&(k=A,Y=I),l[s.axis]=Y,l._custom={barStart:k,barEnd:Y,start:f,end:_,min:I,max:A}}(m,l,s,c):l[s.axis]=s.parse(m,c),l}function tt(m,l,s,c){const f=m.iScale,_=m.vScale,I=f.getLabels(),A=f===_,k=[];let Y,ue,Ce,je;for(Y=s,ue=s+c;Y<ue;++Y)je=l[Y],Ce={},Ce[f.axis]=A||f.parse(I[Y],Y),k.push(et(je,Ce,_,Y));return k}function ut(m){return m&&void 0!==m.barStart&&void 0!==m.barEnd}function Qt(m,l,s,c){let f=l.borderSkipped;const _={};if(!f)return void(m.borderSkipped=_);if(!0===f)return void(m.borderSkipped={top:!0,right:!0,bottom:!0,left:!0});const{start:I,end:A,reverse:k,top:Y,bottom:ue}=function Nt(m){let l,s,c,f,_;return m.horizontal?(l=m.base>m.x,s="left",c="right"):(l=m.base<m.y,s="bottom",c="top"),l?(f="end",_="start"):(f="start",_="end"),{start:s,end:c,reverse:l,top:f,bottom:_}}(m);"middle"===f&&s&&(m.enableBorderRadius=!0,(s._top||0)===c?f=Y:(s._bottom||0)===c?f=ue:(_[sn(ue,I,A,k)]=!0,f=Y)),_[sn(f,I,A,k)]=!0,m.borderSkipped=_}function sn(m,l,s,c){return c?(m=function On(m,l,s){return m===l?s:m===s?l:m}(m,l,s),m=tn(m,s,l)):m=tn(m,l,s),m}function tn(m,l,s){return"start"===m?l:"end"===m?s:m}function vt(m,{inflateAmount:l},s){m.inflateAmount="auto"===l?1===s?.33:0:l}let cn=(()=>{class m extends Ft{parsePrimitiveData(s,c,f,_){return tt(s,c,f,_)}parseArrayData(s,c,f,_){return tt(s,c,f,_)}parseObjectData(s,c,f,_){const{iScale:I,vScale:A}=s,{xAxisKey:k="x",yAxisKey:Y="y"}=this._parsing,ue="x"===I.axis?k:Y,Ce="x"===A.axis?k:Y,je=[];let Qe,Et,At,Xt;for(Qe=f,Et=f+_;Qe<Et;++Qe)Xt=c[Qe],At={},At[I.axis]=I.parse((0,d.f)(Xt,ue),Qe),je.push(et((0,d.f)(Xt,Ce),At,A,Qe));return je}updateRangeFromParsed(s,c,f,_){super.updateRangeFromParsed(s,c,f,_);const I=f._custom;I&&c===this._cachedMeta.vScale&&(s.min=Math.min(s.min,I.min),s.max=Math.max(s.max,I.max))}getMaxOverflow(){return 0}getLabelAndValue(s){const c=this._cachedMeta,{iScale:f,vScale:_}=c,I=this.getParsed(s),A=I._custom,k=ut(A)?"["+A.start+", "+A.end+"]":""+_.getLabelForValue(I[_.axis]);return{label:""+f.getLabelForValue(I[f.axis]),value:k}}initialize(){this.enableOptionSharing=!0,super.initialize(),this._cachedMeta.stack=this.getDataset().stack}update(s){const c=this._cachedMeta;this.updateElements(c.data,0,c.data.length,s)}updateElements(s,c,f,_){const I="reset"===_,{index:A,_cachedMeta:{vScale:k}}=this,Y=k.getBasePixel(),ue=k.isHorizontal(),Ce=this._getRuler(),{sharedOptions:je,includeOptions:Qe}=this._getSharedOptions(c,_);for(let Et=c;Et<c+f;Et++){const At=this.getParsed(Et),Xt=I||(0,d.k)(At[k.axis])?{base:Y,head:Y}:this._calculateBarValuePixels(Et),In=this._calculateBarIndexPixels(Et,Ce),wn=(At._stacks||{})[k.axis],tr={horizontal:ue,base:Xt.base,enableBorderRadius:!wn||ut(At._custom)||A===wn._top||A===wn._bottom,x:ue?Xt.head:In.center,y:ue?In.center:Xt.head,height:ue?In.size:Math.abs(Xt.size),width:ue?Math.abs(Xt.size):In.size};Qe&&(tr.options=je||this.resolveDataElementOptions(Et,s[Et].active?"active":_));const Qn=tr.options||s[Et].options;Qt(tr,Qn,wn,A),vt(tr,Qn,Ce.ratio),this.updateElement(s[Et],Et,tr,_)}}_getStacks(s,c){const{iScale:f}=this._cachedMeta,_=f.getMatchingVisibleMetas(this._type).filter(Y=>Y.controller.options.grouped),I=f.options.stacked,A=[],k=Y=>{const ue=Y.controller.getParsed(c),Ce=ue&&ue[Y.vScale.axis];if((0,d.k)(Ce)||isNaN(Ce))return!0};for(const Y of _)if((void 0===c||!k(Y))&&((!1===I||-1===A.indexOf(Y.stack)||void 0===I&&void 0===Y.stack)&&A.push(Y.stack),Y.index===s))break;return A.length||A.push(void 0),A}_getStackCount(s){return this._getStacks(void 0,s).length}_getStackIndex(s,c,f){const _=this._getStacks(s,f),I=void 0!==c?_.indexOf(c):-1;return-1===I?_.length-1:I}_getRuler(){const s=this.options,c=this._cachedMeta,f=c.iScale,_=[];let I,A;for(I=0,A=c.data.length;I<A;++I)_.push(f.getPixelForValue(this.getParsed(I)[f.axis],I));const k=s.barThickness;return{min:k||Te(c),pixels:_,start:f._startPixel,end:f._endPixel,stackCount:this._getStackCount(),scale:f,grouped:s.grouped,ratio:k?1:s.categoryPercentage*s.barPercentage}}_calculateBarValuePixels(s){const{_cachedMeta:{vScale:c,_stacked:f,index:_},options:{base:I,minBarLength:A}}=this,k=I||0,Y=this.getParsed(s),ue=Y._custom,Ce=ut(ue);let At,Xt,je=Y[c.axis],Qe=0,Et=f?this.applyStack(c,Y,f):je;Et!==je&&(Qe=Et-je,Et=je),Ce&&(je=ue.barStart,Et=ue.barEnd-ue.barStart,0!==je&&(0,d.s)(je)!==(0,d.s)(ue.barEnd)&&(Qe=0),Qe+=je);const In=(0,d.k)(I)||Ce?Qe:I;let wn=c.getPixelForValue(In);if(At=this.chart.getDataVisibility(s)?c.getPixelForValue(Qe+Et):wn,Xt=At-wn,Math.abs(Xt)<A){Xt=function Ut(m,l,s){return 0!==m?(0,d.s)(m):(l.isHorizontal()?1:-1)*(l.min>=s?1:-1)}(Xt,c,k)*A,je===k&&(wn-=Xt/2);const tr=c.getPixelForDecimal(0),Qn=c.getPixelForDecimal(1),Kn=Math.min(tr,Qn),or=Math.max(tr,Qn);wn=Math.max(Math.min(wn,or),Kn),At=wn+Xt,f&&!Ce&&(Y._stacks[c.axis]._visualValues[_]=c.getValueForPixel(At)-c.getValueForPixel(wn))}if(wn===c.getPixelForValue(k)){const tr=(0,d.s)(Xt)*c.getLineWidthForValue(k)/2;wn+=tr,Xt-=tr}return{size:Xt,base:wn,head:At,center:At+Xt/2}}_calculateBarIndexPixels(s,c){const f=c.scale,_=this.options,I=_.skipNull,A=(0,d.v)(_.maxBarThickness,1/0);let k,Y;if(c.grouped){const ue=I?this._getStackCount(s):c.stackCount,Ce="flex"===_.barThickness?function ct(m,l,s,c){const f=l.pixels,_=f[m];let I=m>0?f[m-1]:null,A=m<f.length-1?f[m+1]:null;const k=s.categoryPercentage;null===I&&(I=_-(null===A?l.end-l.start:A-_)),null===A&&(A=_+_-I);const Y=_-(_-Math.min(I,A))/2*k;return{chunk:Math.abs(A-I)/2*k/c,ratio:s.barPercentage,start:Y}}(s,c,_,ue):function Je(m,l,s,c){const f=s.barThickness;let _,I;return(0,d.k)(f)?(_=l.min*s.categoryPercentage,I=s.barPercentage):(_=f*c,I=1),{chunk:_/c,ratio:I,start:l.pixels[m]-_/2}}(s,c,_,ue),je=this._getStackIndex(this.index,this._cachedMeta.stack,I?s:void 0);k=Ce.start+Ce.chunk*je+Ce.chunk/2,Y=Math.min(A,Ce.chunk*Ce.ratio)}else k=f.getPixelForValue(this.getParsed(s)[f.axis],s),Y=Math.min(A,c.min*c.ratio);return{base:k-Y/2,head:k+Y/2,center:k,size:Y}}draw(){const s=this._cachedMeta,c=s.vScale,f=s.data,_=f.length;let I=0;for(;I<_;++I)null!==this.getParsed(I)[c.axis]&&f[I].draw(this._ctx)}}return m.id="bar",m.defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}},m.overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}},m})(),vn=(()=>{class m extends Ft{initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(s,c,f,_){const I=super.parsePrimitiveData(s,c,f,_);for(let A=0;A<I.length;A++)I[A]._custom=this.resolveDataElementOptions(A+f).radius;return I}parseArrayData(s,c,f,_){const I=super.parseArrayData(s,c,f,_);for(let A=0;A<I.length;A++)I[A]._custom=(0,d.v)(c[f+A][2],this.resolveDataElementOptions(A+f).radius);return I}parseObjectData(s,c,f,_){const I=super.parseObjectData(s,c,f,_);for(let A=0;A<I.length;A++){const k=c[f+A];I[A]._custom=(0,d.v)(k&&k.r&&+k.r,this.resolveDataElementOptions(A+f).radius)}return I}getMaxOverflow(){const s=this._cachedMeta.data;let c=0;for(let f=s.length-1;f>=0;--f)c=Math.max(c,s[f].size(this.resolveDataElementOptions(f))/2);return c>0&&c}getLabelAndValue(s){const c=this._cachedMeta,f=this.chart.data.labels||[],{xScale:_,yScale:I}=c,A=this.getParsed(s),k=_.getLabelForValue(A.x),Y=I.getLabelForValue(A.y),ue=A._custom;return{label:f[s]||"",value:"("+k+", "+Y+(ue?", "+ue:"")+")"}}update(s){const c=this._cachedMeta.data;this.updateElements(c,0,c.length,s)}updateElements(s,c,f,_){const I="reset"===_,{iScale:A,vScale:k}=this._cachedMeta,{sharedOptions:Y,includeOptions:ue}=this._getSharedOptions(c,_),Ce=A.axis,je=k.axis;for(let Qe=c;Qe<c+f;Qe++){const Et=s[Qe],At=!I&&this.getParsed(Qe),Xt={},In=Xt[Ce]=I?A.getPixelForDecimal(.5):A.getPixelForValue(At[Ce]),wn=Xt[je]=I?k.getBasePixel():k.getPixelForValue(At[je]);Xt.skip=isNaN(In)||isNaN(wn),ue&&(Xt.options=Y||this.resolveDataElementOptions(Qe,Et.active?"active":_),I&&(Xt.options.radius=0)),this.updateElement(Et,Qe,Xt,_)}}resolveDataElementOptions(s,c){const f=this.getParsed(s);let _=super.resolveDataElementOptions(s,c);_.$shared&&(_=Object.assign({},_,{$shared:!1}));const I=_.radius;return"active"!==c&&(_.radius=0),_.radius+=(0,d.v)(f&&f._custom,I),_}}return m.id="bubble",m.defaults={datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}},m.overrides={scales:{x:{type:"linear"},y:{type:"linear"}}},m})(),er=(()=>{class m extends Ft{constructor(s,c){super(s,c),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(s,c){const f=this.getDataset().data,_=this._cachedMeta;if(!1===this._parsing)_._parsed=f;else{let A,k,I=Y=>+f[Y];if((0,d.i)(f[s])){const{key:Y="value"}=this._parsing;I=ue=>+(0,d.f)(f[ue],Y)}for(A=s,k=s+c;A<k;++A)_._parsed[A]=I(A)}}_getRotation(){return(0,d.t)(this.options.rotation-90)}_getCircumference(){return(0,d.t)(this.options.circumference)}_getRotationExtents(){let s=d.T,c=-d.T;for(let f=0;f<this.chart.data.datasets.length;++f)if(this.chart.isDatasetVisible(f)&&this.chart.getDatasetMeta(f).type===this._type){const _=this.chart.getDatasetMeta(f).controller,I=_._getRotation(),A=_._getCircumference();s=Math.min(s,I),c=Math.max(c,I+A)}return{rotation:s,circumference:c-s}}update(s){const c=this.chart,{chartArea:f}=c,_=this._cachedMeta,I=_.data,A=this.getMaxBorderWidth()+this.getMaxOffset(I)+this.options.spacing,k=Math.max((Math.min(f.width,f.height)-A)/2,0),Y=Math.min((0,d.m)(this.options.cutout,k),1),ue=this._getRingWeight(this.index),{circumference:Ce,rotation:je}=this._getRotationExtents(),{ratioX:Qe,ratioY:Et,offsetX:At,offsetY:Xt}=function qn(m,l,s){let c=1,f=1,_=0,I=0;if(l<d.T){const A=m,k=A+l,Y=Math.cos(A),ue=Math.sin(A),Ce=Math.cos(k),je=Math.sin(k),Qe=(tr,Qn,Kn)=>(0,d.p)(tr,A,k,!0)?1:Math.max(Qn,Qn*s,Kn,Kn*s),Et=(tr,Qn,Kn)=>(0,d.p)(tr,A,k,!0)?-1:Math.min(Qn,Qn*s,Kn,Kn*s),At=Qe(0,Y,Ce),Xt=Qe(d.H,ue,je),In=Et(d.P,Y,Ce),wn=Et(d.P+d.H,ue,je);c=(At-In)/2,f=(Xt-wn)/2,_=-(At+In)/2,I=-(Xt+wn)/2}return{ratioX:c,ratioY:f,offsetX:_,offsetY:I}}(je,Ce,Y),tr=Math.max(Math.min((f.width-A)/Qe,(f.height-A)/Et)/2,0),Qn=(0,d.n)(this.options.radius,tr),or=(Qn-Math.max(Qn*Y,0))/this._getVisibleDatasetWeightTotal();this.offsetX=At*Qn,this.offsetY=Xt*Qn,_.total=this.calculateTotal(),this.outerRadius=Qn-or*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-or*ue,0),this.updateElements(I,0,I.length,s)}_circumference(s,c){const f=this.options,_=this._cachedMeta,I=this._getCircumference();return c&&f.animation.animateRotate||!this.chart.getDataVisibility(s)||null===_._parsed[s]||_.data[s].hidden?0:this.calculateCircumference(_._parsed[s]*I/d.T)}updateElements(s,c,f,_){const I="reset"===_,A=this.chart,k=A.chartArea,Ce=(k.left+k.right)/2,je=(k.top+k.bottom)/2,Qe=I&&A.options.animation.animateScale,Et=Qe?0:this.innerRadius,At=Qe?0:this.outerRadius,{sharedOptions:Xt,includeOptions:In}=this._getSharedOptions(c,_);let tr,wn=this._getRotation();for(tr=0;tr<c;++tr)wn+=this._circumference(tr,I);for(tr=c;tr<c+f;++tr){const Qn=this._circumference(tr,I),Kn=s[tr],or={x:Ce+this.offsetX,y:je+this.offsetY,startAngle:wn,endAngle:wn+Qn,circumference:Qn,outerRadius:At,innerRadius:Et};In&&(or.options=Xt||this.resolveDataElementOptions(tr,Kn.active?"active":_)),wn+=Qn,this.updateElement(Kn,tr,or,_)}}calculateTotal(){const s=this._cachedMeta,c=s.data;let _,f=0;for(_=0;_<c.length;_++){const I=s._parsed[_];null!==I&&!isNaN(I)&&this.chart.getDataVisibility(_)&&!c[_].hidden&&(f+=Math.abs(I))}return f}calculateCircumference(s){const c=this._cachedMeta.total;return c>0&&!isNaN(s)?d.T*(Math.abs(s)/c):0}getLabelAndValue(s){const f=this.chart,_=f.data.labels||[],I=(0,d.o)(this._cachedMeta._parsed[s],f.options.locale);return{label:_[s]||"",value:I}}getMaxBorderWidth(s){let c=0;const f=this.chart;let _,I,A,k,Y;if(!s)for(_=0,I=f.data.datasets.length;_<I;++_)if(f.isDatasetVisible(_)){A=f.getDatasetMeta(_),s=A.data,k=A.controller;break}if(!s)return 0;for(_=0,I=s.length;_<I;++_)Y=k.resolveDataElementOptions(_),"inner"!==Y.borderAlign&&(c=Math.max(c,Y.borderWidth||0,Y.hoverBorderWidth||0));return c}getMaxOffset(s){let c=0;for(let f=0,_=s.length;f<_;++f){const I=this.resolveDataElementOptions(f);c=Math.max(c,I.offset||0,I.hoverOffset||0)}return c}_getRingWeightOffset(s){let c=0;for(let f=0;f<s;++f)this.chart.isDatasetVisible(f)&&(c+=this._getRingWeight(f));return c}_getRingWeight(s){return Math.max((0,d.v)(this.chart.data.datasets[s].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}return m.id="doughnut",m.defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"},m.descriptors={_scriptable:l=>"spacing"!==l,_indexable:l=>"spacing"!==l&&!l.startsWith("borderDash")&&!l.startsWith("hoverBorderDash")},m.overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(l){const s=l.data;if(s.labels.length&&s.datasets.length){const{labels:{pointStyle:c,color:f}}=l.legend.options;return s.labels.map((_,I)=>{const k=l.getDatasetMeta(0).controller.getStyle(I);return{text:_,fillStyle:k.backgroundColor,strokeStyle:k.borderColor,fontColor:f,lineWidth:k.borderWidth,pointStyle:c,hidden:!l.getDataVisibility(I),index:I}})}return[]}},onClick(l,s,c){c.chart.toggleDataVisibility(s.index),c.chart.update()}}}},m})(),ur=(()=>{class m extends Ft{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(s){const c=this._cachedMeta,{dataset:f,data:_=[],_dataset:I}=c,A=this.chart._animationsDisabled;let{start:k,count:Y}=(0,d.q)(c,_,A);this._drawStart=k,this._drawCount=Y,(0,d.w)(c)&&(k=0,Y=_.length),f._chart=this.chart,f._datasetIndex=this.index,f._decimated=!!I._decimated,f.points=_;const ue=this.resolveDatasetElementOptions(s);this.options.showLine||(ue.borderWidth=0),ue.segment=this.options.segment,this.updateElement(f,void 0,{animated:!A,options:ue},s),this.updateElements(_,k,Y,s)}updateElements(s,c,f,_){const I="reset"===_,{iScale:A,vScale:k,_stacked:Y,_dataset:ue}=this._cachedMeta,{sharedOptions:Ce,includeOptions:je}=this._getSharedOptions(c,_),Qe=A.axis,Et=k.axis,{spanGaps:At,segment:Xt}=this.options,In=(0,d.x)(At)?At:Number.POSITIVE_INFINITY,wn=this.chart._animationsDisabled||I||"none"===_,tr=c+f,Qn=s.length;let Kn=c>0&&this.getParsed(c-1);for(let or=0;or<Qn;++or){const dr=s[or],vr=wn?dr:{};if(or<c||or>=tr){vr.skip=!0;continue}const fi=this.getParsed(or),Oi=(0,d.k)(fi[Et]),Vr=vr[Qe]=A.getPixelForValue(fi[Qe],or),ms=vr[Et]=I||Oi?k.getBasePixel():k.getPixelForValue(Y?this.applyStack(k,fi,Y):fi[Et],or);vr.skip=isNaN(Vr)||isNaN(ms)||Oi,vr.stop=or>0&&Math.abs(fi[Qe]-Kn[Qe])>In,Xt&&(vr.parsed=fi,vr.raw=ue.data[or]),je&&(vr.options=Ce||this.resolveDataElementOptions(or,dr.active?"active":_)),wn||this.updateElement(dr,or,vr,_),Kn=fi}}getMaxOverflow(){const s=this._cachedMeta,c=s.dataset,f=c.options&&c.options.borderWidth||0,_=s.data||[];if(!_.length)return f;const I=_[0].size(this.resolveDataElementOptions(0)),A=_[_.length-1].size(this.resolveDataElementOptions(_.length-1));return Math.max(f,I,A)/2}draw(){const s=this._cachedMeta;s.dataset.updateControlPoints(this.chart.chartArea,s.iScale.axis),super.draw()}}return m.id="line",m.defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1},m.overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}},m})(),un=(()=>{class m extends Ft{constructor(s,c){super(s,c),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(s){const f=this.chart,_=f.data.labels||[],I=(0,d.o)(this._cachedMeta._parsed[s].r,f.options.locale);return{label:_[s]||"",value:I}}parseObjectData(s,c,f,_){return d.y.bind(this)(s,c,f,_)}update(s){const c=this._cachedMeta.data;this._updateRadius(),this.updateElements(c,0,c.length,s)}getMinMax(){const c={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return this._cachedMeta.data.forEach((f,_)=>{const I=this.getParsed(_).r;!isNaN(I)&&this.chart.getDataVisibility(_)&&(I<c.min&&(c.min=I),I>c.max&&(c.max=I))}),c}_updateRadius(){const s=this.chart,c=s.chartArea,f=s.options,_=Math.min(c.right-c.left,c.bottom-c.top),I=Math.max(_/2,0),k=(I-Math.max(f.cutoutPercentage?I/100*f.cutoutPercentage:1,0))/s.getVisibleDatasetCount();this.outerRadius=I-k*this.index,this.innerRadius=this.outerRadius-k}updateElements(s,c,f,_){const I="reset"===_,A=this.chart,Y=A.options.animation,ue=this._cachedMeta.rScale,Ce=ue.xCenter,je=ue.yCenter,Qe=ue.getIndexAngle(0)-.5*d.P;let At,Et=Qe;const Xt=360/this.countVisibleElements();for(At=0;At<c;++At)Et+=this._computeAngle(At,_,Xt);for(At=c;At<c+f;At++){const In=s[At];let wn=Et,tr=Et+this._computeAngle(At,_,Xt),Qn=A.getDataVisibility(At)?ue.getDistanceFromCenterForValue(this.getParsed(At).r):0;Et=tr,I&&(Y.animateScale&&(Qn=0),Y.animateRotate&&(wn=tr=Qe));const Kn={x:Ce,y:je,innerRadius:0,outerRadius:Qn,startAngle:wn,endAngle:tr,options:this.resolveDataElementOptions(At,In.active?"active":_)};this.updateElement(In,At,Kn,_)}}countVisibleElements(){let c=0;return this._cachedMeta.data.forEach((f,_)=>{!isNaN(this.getParsed(_).r)&&this.chart.getDataVisibility(_)&&c++}),c}_computeAngle(s,c,f){return this.chart.getDataVisibility(s)?(0,d.t)(this.resolveDataElementOptions(s,c).angle||f):0}}return m.id="polarArea",m.defaults={dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0},m.overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(l){const s=l.data;if(s.labels.length&&s.datasets.length){const{labels:{pointStyle:c,color:f}}=l.legend.options;return s.labels.map((_,I)=>{const k=l.getDatasetMeta(0).controller.getStyle(I);return{text:_,fillStyle:k.backgroundColor,strokeStyle:k.borderColor,fontColor:f,lineWidth:k.borderWidth,pointStyle:c,hidden:!l.getDataVisibility(I),index:I}})}return[]}},onClick(l,s,c){c.chart.toggleDataVisibility(s.index),c.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}},m})();var $r=Object.freeze({__proto__:null,BarController:cn,BubbleController:vn,DoughnutController:er,LineController:ur,PieController:(()=>{class m extends er{}return m.id="pie",m.defaults={cutout:0,rotation:0,circumference:360,radius:"100%"},m})(),PolarAreaController:un,RadarController:(()=>{class m extends Ft{getLabelAndValue(s){const c=this._cachedMeta.vScale,f=this.getParsed(s);return{label:c.getLabels()[s],value:""+c.getLabelForValue(f[c.axis])}}parseObjectData(s,c,f,_){return d.y.bind(this)(s,c,f,_)}update(s){const c=this._cachedMeta,f=c.dataset,_=c.data||[],I=c.iScale.getLabels();if(f.points=_,"resize"!==s){const A=this.resolveDatasetElementOptions(s);this.options.showLine||(A.borderWidth=0),this.updateElement(f,void 0,{_loop:!0,_fullLoop:I.length===_.length,options:A},s)}this.updateElements(_,0,_.length,s)}updateElements(s,c,f,_){const I=this._cachedMeta.rScale,A="reset"===_;for(let k=c;k<c+f;k++){const Y=s[k],ue=this.resolveDataElementOptions(k,Y.active?"active":_),Ce=I.getPointPositionForValue(k,this.getParsed(k).r),je=A?I.xCenter:Ce.x,Qe=A?I.yCenter:Ce.y,Et={x:je,y:Qe,angle:Ce.angle,skip:isNaN(je)||isNaN(Qe),options:ue};this.updateElement(Y,k,Et,_)}}}return m.id="radar",m.defaults={datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}},m.overrides={aspectRatio:1,scales:{r:{type:"radialLinear"}}},m})(),ScatterController:(()=>{class m extends Ft{getLabelAndValue(s){const c=this._cachedMeta,f=this.chart.data.labels||[],{xScale:_,yScale:I}=c,A=this.getParsed(s),k=_.getLabelForValue(A.x),Y=I.getLabelForValue(A.y);return{label:f[s]||"",value:"("+k+", "+Y+")"}}update(s){const c=this._cachedMeta,{data:f=[]}=c,_=this.chart._animationsDisabled;let{start:I,count:A}=(0,d.q)(c,f,_);if(this._drawStart=I,this._drawCount=A,(0,d.w)(c)&&(I=0,A=f.length),this.options.showLine){this.datasetElementType||this.addElements();const{dataset:k,_dataset:Y}=c;k._chart=this.chart,k._datasetIndex=this.index,k._decimated=!!Y._decimated,k.points=f;const ue=this.resolveDatasetElementOptions(s);ue.segment=this.options.segment,this.updateElement(k,void 0,{animated:!_,options:ue},s)}else this.datasetElementType&&(delete c.dataset,this.datasetElementType=!1);this.updateElements(f,I,A,s)}addElements(){const{showLine:s}=this.options;!this.datasetElementType&&s&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(s,c,f,_){const I="reset"===_,{iScale:A,vScale:k,_stacked:Y,_dataset:ue}=this._cachedMeta,Ce=this.resolveDataElementOptions(c,_),je=this.getSharedOptions(Ce),Qe=this.includeOptions(_,je),Et=A.axis,At=k.axis,{spanGaps:Xt,segment:In}=this.options,wn=(0,d.x)(Xt)?Xt:Number.POSITIVE_INFINITY,tr=this.chart._animationsDisabled||I||"none"===_;let Qn=c>0&&this.getParsed(c-1);for(let Kn=c;Kn<c+f;++Kn){const or=s[Kn],dr=this.getParsed(Kn),vr=tr?or:{},fi=(0,d.k)(dr[At]),Oi=vr[Et]=A.getPixelForValue(dr[Et],Kn),Vr=vr[At]=I||fi?k.getBasePixel():k.getPixelForValue(Y?this.applyStack(k,dr,Y):dr[At],Kn);vr.skip=isNaN(Oi)||isNaN(Vr)||fi,vr.stop=Kn>0&&Math.abs(dr[Et]-Qn[Et])>wn,In&&(vr.parsed=dr,vr.raw=ue.data[Kn]),Qe&&(vr.options=je||this.resolveDataElementOptions(Kn,or.active?"active":_)),tr||this.updateElement(or,Kn,vr,_),Qn=dr}this.updateSharedOptions(je,_,Ce)}getMaxOverflow(){const s=this._cachedMeta,c=s.data||[];if(!this.options.showLine){let k=0;for(let Y=c.length-1;Y>=0;--Y)k=Math.max(k,c[Y].size(this.resolveDataElementOptions(Y))/2);return k>0&&k}const f=s.dataset,_=f.options&&f.options.borderWidth||0;if(!c.length)return _;const I=c[0].size(this.resolveDataElementOptions(0)),A=c[c.length-1].size(this.resolveDataElementOptions(c.length-1));return Math.max(_,I,A)/2}}return m.id="scatter",m.defaults={datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1},m.overrides={interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}},m})()});function xr(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class Rn{static override(l){Object.assign(Rn.prototype,l)}constructor(l){this.options=void 0,this.options=l||{}}init(){}formats(){return xr()}parse(){return xr()}format(){return xr()}add(){return xr()}diff(){return xr()}startOf(){return xr()}endOf(){return xr()}}var ai__date=Rn;function Gr(m,l,s,c){const{controller:f,data:_,_sorted:I}=m,A=f._cachedMeta.iScale;if(A&&l===A.axis&&"r"!==l&&I&&_.length){const k=A._reversePixels?d.A:d.B;if(!c)return k(_,l,s);if(f._sharedOptions){const Y=_[0],ue="function"==typeof Y.getRange&&Y.getRange(l);if(ue){const Ce=k(_,l,s-ue),je=k(_,l,s+ue);return{lo:Ce.lo,hi:je.hi}}}}return{lo:0,hi:_.length-1}}function ar(m,l,s,c,f){const _=m.getSortedVisibleDatasetMetas(),I=s[l];for(let A=0,k=_.length;A<k;++A){const{index:Y,data:ue}=_[A],{lo:Ce,hi:je}=Gr(_[A],l,I,f);for(let Qe=Ce;Qe<=je;++Qe){const Et=ue[Qe];Et.skip||c(Et,Y,Qe)}}}function yi(m,l,s,c,f){const _=[];return!f&&!m.isPointInArea(l)||ar(m,s,l,function(A,k,Y){!f&&!(0,d.C)(A,m.chartArea,0)||A.inRange(l.x,l.y,c)&&_.push({element:A,datasetIndex:k,index:Y})},!0),_}function mr(m,l,s,c,f,_){return _||m.isPointInArea(l)?"r"!==s||c?function nr(m,l,s,c,f,_){let I=[];const A=function Pi(m){const l=-1!==m.indexOf("x"),s=-1!==m.indexOf("y");return function(c,f){const _=l?Math.abs(c.x-f.x):0,I=s?Math.abs(c.y-f.y):0;return Math.sqrt(Math.pow(_,2)+Math.pow(I,2))}}(s);let k=Number.POSITIVE_INFINITY;return ar(m,s,l,function Y(ue,Ce,je){const Qe=ue.inRange(l.x,l.y,f);if(c&&!Qe)return;const Et=ue.getCenterPoint(f);if(!_&&!m.isPointInArea(Et)&&!Qe)return;const Xt=A(l,Et);Xt<k?(I=[{element:ue,datasetIndex:Ce,index:je}],k=Xt):Xt===k&&I.push({element:ue,datasetIndex:Ce,index:je})}),I}(m,l,s,c,f,_):function lr(m,l,s,c){let f=[];return ar(m,s,l,function _(I,A,k){const{startAngle:Y,endAngle:ue}=I.getProps(["startAngle","endAngle"],c),{angle:Ce}=(0,d.D)(I,{x:l.x,y:l.y});(0,d.p)(Ce,Y,ue)&&f.push({element:I,datasetIndex:A,index:k})}),f}(m,l,s,f):[]}function bi(m,l,s,c,f){const _=[],I="x"===s?"inXRange":"inYRange";let A=!1;return ar(m,s,l,(k,Y,ue)=>{k[I](l[s],f)&&(_.push({element:k,datasetIndex:Y,index:ue}),A=A||k.inRange(l.x,l.y,f))}),c&&!A?[]:_}var li={evaluateInteractionItems:ar,modes:{index(m,l,s,c){const f=(0,d.z)(l,m),_=s.axis||"x",I=s.includeInvisible||!1,A=s.intersect?yi(m,f,_,c,I):mr(m,f,_,!1,c,I),k=[];return A.length?(m.getSortedVisibleDatasetMetas().forEach(Y=>{const ue=A[0].index,Ce=Y.data[ue];Ce&&!Ce.skip&&k.push({element:Ce,datasetIndex:Y.index,index:ue})}),k):[]},dataset(m,l,s,c){const f=(0,d.z)(l,m),_=s.axis||"xy",I=s.includeInvisible||!1;let A=s.intersect?yi(m,f,_,c,I):mr(m,f,_,!1,c,I);if(A.length>0){const k=A[0].datasetIndex,Y=m.getDatasetMeta(k).data;A=[];for(let ue=0;ue<Y.length;++ue)A.push({element:Y[ue],datasetIndex:k,index:ue})}return A},point:(m,l,s,c)=>yi(m,(0,d.z)(l,m),s.axis||"xy",c,s.includeInvisible||!1),nearest:(m,l,s,c)=>mr(m,(0,d.z)(l,m),s.axis||"xy",s.intersect,c,s.includeInvisible||!1),x:(m,l,s,c)=>bi(m,(0,d.z)(l,m),"x",s.intersect,c),y:(m,l,s,c)=>bi(m,(0,d.z)(l,m),"y",s.intersect,c)}};const Kr=["left","top","right","bottom"];function di(m,l){return m.filter(s=>s.pos===l)}function Ai(m,l){return m.filter(s=>-1===Kr.indexOf(s.pos)&&s.box.axis===l)}function br(m,l){return m.sort((s,c)=>{const f=l?c:s,_=l?s:c;return f.weight===_.weight?f.index-_.index:f.weight-_.weight})}function Ne(m,l,s,c){return Math.max(m[s],l[s])+Math.max(m[c],l[c])}function dt(m,l){m.top=Math.max(m.top,l.top),m.left=Math.max(m.left,l.left),m.bottom=Math.max(m.bottom,l.bottom),m.right=Math.max(m.right,l.right)}function Ht(m,l,s,c){const{pos:f,box:_}=s,I=m.maxPadding;if(!(0,d.i)(f)){s.size&&(m[f]-=s.size);const Ce=c[s.stack]||{size:0,count:1};Ce.size=Math.max(Ce.size,s.horizontal?_.height:_.width),s.size=Ce.size/Ce.count,m[f]+=s.size}_.getPadding&&dt(I,_.getPadding());const A=Math.max(0,l.outerWidth-Ne(I,m,"left","right")),k=Math.max(0,l.outerHeight-Ne(I,m,"top","bottom")),Y=A!==m.w,ue=k!==m.h;return m.w=A,m.h=k,s.horizontal?{same:Y,other:ue}:{same:ue,other:Y}}function zn(m,l){const s=l.maxPadding;return function c(f){const _={left:0,top:0,right:0,bottom:0};return f.forEach(I=>{_[I]=Math.max(l[I],s[I])}),_}(m?["left","right"]:["top","bottom"])}function jr(m,l,s,c){const f=[];let _,I,A,k,Y,ue;for(_=0,I=m.length,Y=0;_<I;++_){A=m[_],k=A.box,k.update(A.width||l.w,A.height||l.h,zn(A.horizontal,l));const{same:Ce,other:je}=Ht(l,s,A,c);Y|=Ce&&f.length,ue=ue||je,k.fullSize||f.push(A)}return Y&&jr(f,l,s,c)||ue}function kr(m,l,s,c,f){m.top=s,m.left=l,m.right=l+c,m.bottom=s+f,m.width=c,m.height=f}function Or(m,l,s,c){const f=s.padding;let{x:_,y:I}=l;for(const A of m){const k=A.box,Y=c[A.stack]||{count:1,placed:0,weight:1},ue=A.stackWeight/Y.weight||1;if(A.horizontal){const Ce=l.w*ue,je=Y.size||k.height;(0,d.h)(Y.start)&&(I=Y.start),k.fullSize?kr(k,f.left,I,s.outerWidth-f.right-f.left,je):kr(k,l.left+Y.placed,I,Ce,je),Y.start=I,Y.placed+=Ce,I=k.bottom}else{const Ce=l.h*ue,je=Y.size||k.width;(0,d.h)(Y.start)&&(_=Y.start),k.fullSize?kr(k,_,f.top,je,s.outerHeight-f.bottom-f.top):kr(k,_,l.top+Y.placed,je,Ce),Y.start=_,Y.placed+=Ce,_=k.right}}l.x=_,l.y=I}var gt={addBox(m,l){m.boxes||(m.boxes=[]),l.fullSize=l.fullSize||!1,l.position=l.position||"top",l.weight=l.weight||0,l._layers=l._layers||function(){return[{z:0,draw(s){l.draw(s)}}]},m.boxes.push(l)},removeBox(m,l){const s=m.boxes?m.boxes.indexOf(l):-1;-1!==s&&m.boxes.splice(s,1)},configure(m,l,s){l.fullSize=s.fullSize,l.position=s.position,l.weight=s.weight},update(m,l,s,c){if(!m)return;const f=(0,d.E)(m.options.layout.padding),_=Math.max(l-f.width,0),I=Math.max(s-f.height,0),A=function Cn(m){const l=function fr(m){const l=[];let s,c,f,_,I,A;for(s=0,c=(m||[]).length;s<c;++s)f=m[s],({position:_,options:{stack:I,stackWeight:A=1}}=f),l.push({index:s,box:f,pos:_,horizontal:f.isHorizontal(),weight:f.weight,stack:I&&_+I,stackWeight:A});return l}(m),s=br(l.filter(Y=>Y.box.fullSize),!0),c=br(di(l,"left"),!0),f=br(di(l,"right")),_=br(di(l,"top"),!0),I=br(di(l,"bottom")),A=Ai(l,"x"),k=Ai(l,"y");return{fullSize:s,leftAndTop:c.concat(_),rightAndBottom:f.concat(k).concat(I).concat(A),chartArea:di(l,"chartArea"),vertical:c.concat(f).concat(k),horizontal:_.concat(I).concat(A)}}(m.boxes),k=A.vertical,Y=A.horizontal;(0,d.F)(m.boxes,At=>{"function"==typeof At.beforeLayout&&At.beforeLayout()});const ue=k.reduce((At,Xt)=>Xt.box.options&&!1===Xt.box.options.display?At:At+1,0)||1,Ce=Object.freeze({outerWidth:l,outerHeight:s,padding:f,availableWidth:_,availableHeight:I,vBoxMaxWidth:_/2/ue,hBoxMaxHeight:I/2}),je=Object.assign({},f);dt(je,(0,d.E)(c));const Qe=Object.assign({maxPadding:je,w:_,h:I,x:f.left,y:f.top},f),Et=function Er(m,l){const s=function Ei(m){const l={};for(const s of m){const{stack:c,pos:f,stackWeight:_}=s;if(!c||!Kr.includes(f))continue;const I=l[c]||(l[c]={count:0,placed:0,weight:0,size:0});I.count++,I.weight+=_}return l}(m),{vBoxMaxWidth:c,hBoxMaxHeight:f}=l;let _,I,A;for(_=0,I=m.length;_<I;++_){A=m[_];const{fullSize:k}=A.box,Y=s[A.stack],ue=Y&&A.stackWeight/Y.weight;A.horizontal?(A.width=ue?ue*c:k&&l.availableWidth,A.height=f):(A.width=c,A.height=ue?ue*f:k&&l.availableHeight)}return s}(k.concat(Y),Ce);jr(A.fullSize,Qe,Ce,Et),jr(k,Qe,Ce,Et),jr(Y,Qe,Ce,Et)&&jr(k,Qe,Ce,Et),function En(m){const l=m.maxPadding;function s(c){const f=Math.max(l[c]-m[c],0);return m[c]+=f,f}m.y+=s("top"),m.x+=s("left"),s("right"),s("bottom")}(Qe),Or(A.leftAndTop,Qe,Ce,Et),Qe.x+=Qe.w,Qe.y+=Qe.h,Or(A.rightAndBottom,Qe,Ce,Et),m.chartArea={left:Qe.left,top:Qe.top,right:Qe.left+Qe.w,bottom:Qe.top+Qe.h,height:Qe.h,width:Qe.w},(0,d.F)(A.chartArea,At=>{const Xt=At.box;Object.assign(Xt,m.chartArea),Xt.update(Qe.w,Qe.h,{left:0,top:0,right:0,bottom:0})})}};class Ae{acquireContext(l,s){}releaseContext(l){return!1}addEventListener(l,s,c){}removeEventListener(l,s,c){}getDevicePixelRatio(){return 1}getMaximumSize(l,s,c,f){return s=Math.max(0,s||l.width),c=c||l.height,{width:s,height:Math.max(0,f?Math.floor(s/f):c)}}isAttached(l){return!0}updateConfig(l){}}class ie extends Ae{acquireContext(l){return l&&l.getContext&&l.getContext("2d")||null}updateConfig(l){l.options.animation=!1}}const te="$chartjs",se={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},Ke=m=>null===m||""===m,rt=!!d.K&&{passive:!0};function en(m,l,s){m.canvas.removeEventListener(l,s,rt)}function gn(m,l){for(const s of m)if(s===l||s.contains(l))return!0}function Wn(m,l,s){const c=m.canvas,f=new MutationObserver(_=>{let I=!1;for(const A of _)I=I||gn(A.addedNodes,c),I=I&&!gn(A.removedNodes,c);I&&s()});return f.observe(document,{childList:!0,subtree:!0}),f}function ln(m,l,s){const c=m.canvas,f=new MutationObserver(_=>{let I=!1;for(const A of _)I=I||gn(A.removedNodes,c),I=I&&!gn(A.addedNodes,c);I&&s()});return f.observe(document,{childList:!0,subtree:!0}),f}const yn=new Map;let kn=0;function Bt(){const m=window.devicePixelRatio;m!==kn&&(kn=m,yn.forEach((l,s)=>{s.currentDevicePixelRatio!==m&&l()}))}function Yn(m,l,s){const c=m.canvas,f=c&&(0,d.I)(c);if(!f)return;const _=(0,d.L)((A,k)=>{const Y=f.clientWidth;s(A,k),Y<f.clientWidth&&s()},window),I=new ResizeObserver(A=>{const k=A[0],Y=k.contentRect.width,ue=k.contentRect.height;0===Y&&0===ue||_(Y,ue)});return I.observe(f),function Kt(m,l){yn.size||window.addEventListener("resize",Bt),yn.set(m,l)}(m,_),I}function pr(m,l,s){s&&s.disconnect(),"resize"===l&&function fn(m){yn.delete(m),yn.size||window.removeEventListener("resize",Bt)}(m)}function Fr(m,l,s){const c=m.canvas,f=(0,d.L)(_=>{null!==m.ctx&&s(function Sn(m,l){const s=se[m.type]||m.type,{x:c,y:f}=(0,d.z)(m,l);return{type:s,chart:l,native:m,x:void 0!==c?c:null,y:void 0!==f?f:null}}(_,m))},m);return function Vt(m,l,s){m.addEventListener(l,s,rt)}(c,l,f),f}class Sr extends Ae{acquireContext(l,s){const c=l&&l.getContext&&l.getContext("2d");return c&&c.canvas===l?(function xt(m,l){const s=m.style,c=m.getAttribute("height"),f=m.getAttribute("width");if(m[te]={initial:{height:c,width:f,style:{display:s.display,height:s.height,width:s.width}}},s.display=s.display||"block",s.boxSizing=s.boxSizing||"border-box",Ke(f)){const _=(0,d.J)(m,"width");void 0!==_&&(m.width=_)}if(Ke(c))if(""===m.style.height)m.height=m.width/(l||2);else{const _=(0,d.J)(m,"height");void 0!==_&&(m.height=_)}}(l,s),c):null}releaseContext(l){const s=l.canvas;if(!s[te])return!1;const c=s[te].initial;["height","width"].forEach(_=>{const I=c[_];(0,d.k)(I)?s.removeAttribute(_):s.setAttribute(_,I)});const f=c.style||{};return Object.keys(f).forEach(_=>{s.style[_]=f[_]}),s.width=s.width,delete s[te],!0}addEventListener(l,s,c){this.removeEventListener(l,s),(l.$proxies||(l.$proxies={}))[s]=({attach:Wn,detach:ln,resize:Yn}[s]||Fr)(l,s,c)}removeEventListener(l,s){const c=l.$proxies||(l.$proxies={}),f=c[s];f&&(({attach:pr,detach:pr,resize:pr}[s]||en)(l,s,f),c[s]=void 0)}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(l,s,c,f){return(0,d.G)(l,s,c,f)}isAttached(l){const s=(0,d.I)(l);return!(!s||!s.isConnected)}}class Xr{constructor(){this.x=void 0,this.y=void 0,this.active=!1,this.options=void 0,this.$animations=void 0}tooltipPosition(l){const{x:s,y:c}=this.getProps(["x","y"],l);return{x:s,y:c}}hasValue(){return(0,d.x)(this.x)&&(0,d.x)(this.y)}getProps(l,s){const c=this.$animations;if(!s||!c)return this;const f={};return l.forEach(_=>{f[_]=c[_]&&c[_].active()?c[_]._to:this[_]}),f}}function ys(m,l,s,c,f){const _=(0,d.v)(c,0),I=Math.min((0,d.v)(f,m.length),m.length);let k,Y,ue,A=0;for(s=Math.ceil(s),f&&(k=f-c,s=k/Math.floor(k/s)),ue=_;ue<0;)A++,ue=Math.round(_+A*s);for(Y=Math.max(_,0);Y<I;Y++)Y===ue&&(l.push(m[Y]),A++,ue=Math.round(_+A*s))}Xr.defaults={},Xr.defaultRoutes=void 0;const ts=(m,l,s)=>"top"===l||"left"===l?m[l]+s:m[l]-s,zi=(m,l)=>Math.min(l||m,m);function Qs(m,l){const s=[],c=m.length/l,f=m.length;let _=0;for(;_<f;_+=c)s.push(m[Math.floor(_)]);return s}function Js(m,l,s){const c=m.ticks.length,f=Math.min(l,c-1),_=m._startPixel,I=m._endPixel,A=1e-6;let Y,k=m.getPixelForTick(f);if(!(s&&(Y=1===c?Math.max(k-_,I-k):0===l?(m.getPixelForTick(1)-k)/2:(k-m.getPixelForTick(f-1))/2,k+=f<l?Y:-Y,k<_-A||k>I+A)))return k}function js(m){return m.drawTicks?m.tickLength:0}function re(m,l){if(!m.display)return 0;const s=(0,d.a0)(m.font,l),c=(0,d.E)(m.padding);return((0,d.b)(m.text)?m.text.length:1)*s.lineHeight+c.height}function _e(m,l,s){let c=(0,d.a1)(m);return(s&&"right"!==l||!s&&"right"===l)&&(c=(m=>"left"===m?"right":"right"===m?"left":m)(c)),c}class ve extends Xr{constructor(l){super(),this.id=l.id,this.type=l.type,this.options=void 0,this.ctx=l.ctx,this.chart=l.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(l){this.options=l.setContext(this.getContext()),this.axis=l.axis,this._userMin=this.parse(l.min),this._userMax=this.parse(l.max),this._suggestedMin=this.parse(l.suggestedMin),this._suggestedMax=this.parse(l.suggestedMax)}parse(l,s){return l}getUserBounds(){let{_userMin:l,_userMax:s,_suggestedMin:c,_suggestedMax:f}=this;return l=(0,d.O)(l,Number.POSITIVE_INFINITY),s=(0,d.O)(s,Number.NEGATIVE_INFINITY),c=(0,d.O)(c,Number.POSITIVE_INFINITY),f=(0,d.O)(f,Number.NEGATIVE_INFINITY),{min:(0,d.O)(l,c),max:(0,d.O)(s,f),minDefined:(0,d.g)(l),maxDefined:(0,d.g)(s)}}getMinMax(l){let I,{min:s,max:c,minDefined:f,maxDefined:_}=this.getUserBounds();if(f&&_)return{min:s,max:c};const A=this.getMatchingVisibleMetas();for(let k=0,Y=A.length;k<Y;++k)I=A[k].controller.getMinMax(this,l),f||(s=Math.min(s,I.min)),_||(c=Math.max(c,I.max));return s=_&&s>c?c:s,c=f&&s>c?s:c,{min:(0,d.O)(s,(0,d.O)(c,s)),max:(0,d.O)(c,(0,d.O)(s,c))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const l=this.chart.data;return this.options.labels||(this.isHorizontal()?l.xLabels:l.yLabels)||l.labels||[]}getLabelItems(l=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(l))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){(0,d.Q)(this.options.beforeUpdate,[this])}update(l,s,c){const{beginAtZero:f,grace:_,ticks:I}=this.options,A=I.sampleSize;this.beforeUpdate(),this.maxWidth=l,this.maxHeight=s,this._margins=c=Object.assign({left:0,right:0,top:0,bottom:0},c),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+c.left+c.right:this.height+c.top+c.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=(0,d.R)(this,_,f),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const k=A<this.ticks.length;this._convertTicksToLabels(k?Qs(this.ticks,A):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),I.display&&(I.autoSkip||"auto"===I.source)&&(this.ticks=function zr(m,l){const s=m.options.ticks,c=function Yr(m){const l=m.options.offset,s=m._tickSize();return Math.floor(Math.min(m._length/s+(l?0:1),m._maxLength/s))}(m),f=Math.min(s.maxTicksLimit||c,c),_=s.major.enabled?function Os(m){const l=[];let s,c;for(s=0,c=m.length;s<c;s++)m[s].major&&l.push(s);return l}(l):[],I=_.length,A=_[0],k=_[I-1],Y=[];if(I>f)return function Xs(m,l,s,c){let I,f=0,_=s[0];for(c=Math.ceil(c),I=0;I<m.length;I++)I===_&&(l.push(m[I]),f++,_=s[f*c])}(l,Y,_,I/f),Y;const ue=function rs(m,l,s){const c=function cs(m){const l=m.length;let s,c;if(l<2)return!1;for(c=m[0],s=1;s<l;++s)if(m[s]-m[s-1]!==c)return!1;return c}(m),f=l.length/s;if(!c)return Math.max(f,1);const _=(0,d.N)(c);for(let I=0,A=_.length-1;I<A;I++){const k=_[I];if(k>f)return k}return Math.max(f,1)}(_,l,f);if(I>0){let Ce,je;const Qe=I>1?Math.round((k-A)/(I-1)):null;for(ys(l,Y,ue,(0,d.k)(Qe)?0:A-Qe,A),Ce=0,je=I-1;Ce<je;Ce++)ys(l,Y,ue,_[Ce],_[Ce+1]);return ys(l,Y,ue,k,(0,d.k)(Qe)?l.length:k+Qe),Y}return ys(l,Y,ue),Y}(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),k&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let s,c,l=this.options.reverse;this.isHorizontal()?(s=this.left,c=this.right):(s=this.top,c=this.bottom,l=!l),this._startPixel=s,this._endPixel=c,this._reversePixels=l,this._length=c-s,this._alignToPixels=this.options.alignToPixels}afterUpdate(){(0,d.Q)(this.options.afterUpdate,[this])}beforeSetDimensions(){(0,d.Q)(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){(0,d.Q)(this.options.afterSetDimensions,[this])}_callHooks(l){this.chart.notifyPlugins(l,this.getContext()),(0,d.Q)(this.options[l],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){(0,d.Q)(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(l){const s=this.options.ticks;let c,f,_;for(c=0,f=l.length;c<f;c++)_=l[c],_.label=(0,d.Q)(s.callback,[_.value,c,l],this)}afterTickToLabelConversion(){(0,d.Q)(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){(0,d.Q)(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const l=this.options,s=l.ticks,c=zi(this.ticks.length,l.ticks.maxTicksLimit),f=s.minRotation||0,_=s.maxRotation;let A,k,Y,I=f;if(!this._isVisible()||!s.display||f>=_||c<=1||!this.isHorizontal())return void(this.labelRotation=f);const ue=this._getLabelSizes(),Ce=ue.widest.width,je=ue.highest.height,Qe=(0,d.S)(this.chart.width-Ce,0,this.maxWidth);A=l.offset?this.maxWidth/c:Qe/(c-1),Ce+6>A&&(A=Qe/(c-(l.offset?.5:1)),k=this.maxHeight-js(l.grid)-s.padding-re(l.title,this.chart.options.font),Y=Math.sqrt(Ce*Ce+je*je),I=(0,d.U)(Math.min(Math.asin((0,d.S)((ue.highest.height+6)/A,-1,1)),Math.asin((0,d.S)(k/Y,-1,1))-Math.asin((0,d.S)(je/Y,-1,1)))),I=Math.max(f,Math.min(_,I))),this.labelRotation=I}afterCalculateLabelRotation(){(0,d.Q)(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){(0,d.Q)(this.options.beforeFit,[this])}fit(){const l={width:0,height:0},{chart:s,options:{ticks:c,title:f,grid:_}}=this,I=this._isVisible(),A=this.isHorizontal();if(I){const k=re(f,s.options.font);if(A?(l.width=this.maxWidth,l.height=js(_)+k):(l.height=this.maxHeight,l.width=js(_)+k),c.display&&this.ticks.length){const{first:Y,last:ue,widest:Ce,highest:je}=this._getLabelSizes(),Qe=2*c.padding,Et=(0,d.t)(this.labelRotation),At=Math.cos(Et),Xt=Math.sin(Et);A?l.height=Math.min(this.maxHeight,l.height+(c.mirror?0:Xt*Ce.width+At*je.height)+Qe):l.width=Math.min(this.maxWidth,l.width+(c.mirror?0:At*Ce.width+Xt*je.height)+Qe),this._calculatePadding(Y,ue,Xt,At)}}this._handleMargins(),A?(this.width=this._length=s.width-this._margins.left-this._margins.right,this.height=l.height):(this.width=l.width,this.height=this._length=s.height-this._margins.top-this._margins.bottom)}_calculatePadding(l,s,c,f){const{ticks:{align:_,padding:I},position:A}=this.options,k=0!==this.labelRotation,Y="top"!==A&&"x"===this.axis;if(this.isHorizontal()){const ue=this.getPixelForTick(0)-this.left,Ce=this.right-this.getPixelForTick(this.ticks.length-1);let je=0,Qe=0;k?Y?(je=f*l.width,Qe=c*s.height):(je=c*l.height,Qe=f*s.width):"start"===_?Qe=s.width:"end"===_?je=l.width:"inner"!==_&&(je=l.width/2,Qe=s.width/2),this.paddingLeft=Math.max((je-ue+I)*this.width/(this.width-ue),0),this.paddingRight=Math.max((Qe-Ce+I)*this.width/(this.width-Ce),0)}else{let ue=s.height/2,Ce=l.height/2;"start"===_?(ue=0,Ce=l.height):"end"===_&&(ue=s.height,Ce=0),this.paddingTop=ue+I,this.paddingBottom=Ce+I}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){(0,d.Q)(this.options.afterFit,[this])}isHorizontal(){const{axis:l,position:s}=this.options;return"top"===s||"bottom"===s||"x"===l}isFullSize(){return this.options.fullSize}_convertTicksToLabels(l){let s,c;for(this.beforeTickToLabelConversion(),this.generateTickLabels(l),s=0,c=l.length;s<c;s++)(0,d.k)(l[s].label)&&(l.splice(s,1),c--,s--);this.afterTickToLabelConversion()}_getLabelSizes(){let l=this._labelSizes;if(!l){const s=this.options.ticks.sampleSize;let c=this.ticks;s<c.length&&(c=Qs(c,s)),this._labelSizes=l=this._computeLabelSizes(c,c.length,this.options.ticks.maxTicksLimit)}return l}_computeLabelSizes(l,s,c){const{ctx:f,_longestTextCache:_}=this,I=[],A=[],k=Math.floor(s/zi(s,c));let Ce,je,Qe,Et,At,Xt,In,wn,tr,Qn,Kn,Y=0,ue=0;for(Ce=0;Ce<s;Ce+=k){if(Et=l[Ce].label,At=this._resolveTickFontOptions(Ce),f.font=Xt=At.string,In=_[Xt]=_[Xt]||{data:{},gc:[]},wn=At.lineHeight,tr=Qn=0,(0,d.k)(Et)||(0,d.b)(Et)){if((0,d.b)(Et))for(je=0,Qe=Et.length;je<Qe;++je)Kn=Et[je],!(0,d.k)(Kn)&&!(0,d.b)(Kn)&&(tr=(0,d.V)(f,In.data,In.gc,tr,Kn),Qn+=wn)}else tr=(0,d.V)(f,In.data,In.gc,tr,Et),Qn=wn;I.push(tr),A.push(Qn),Y=Math.max(tr,Y),ue=Math.max(Qn,ue)}!function Is(m,l){(0,d.F)(m,s=>{const c=s.gc,f=c.length/2;let _;if(f>l){for(_=0;_<f;++_)delete s.data[c[_]];c.splice(0,f)}})}(_,s);const or=I.indexOf(Y),dr=A.indexOf(ue),vr=fi=>({width:I[fi]||0,height:A[fi]||0});return{first:vr(0),last:vr(s-1),widest:vr(or),highest:vr(dr),widths:I,heights:A}}getLabelForValue(l){return l}getPixelForValue(l,s){return NaN}getValueForPixel(l){}getPixelForTick(l){const s=this.ticks;return l<0||l>s.length-1?null:this.getPixelForValue(s[l].value)}getPixelForDecimal(l){this._reversePixels&&(l=1-l);const s=this._startPixel+l*this._length;return(0,d.W)(this._alignToPixels?(0,d.X)(this.chart,s,0):s)}getDecimalForPixel(l){const s=(l-this._startPixel)/this._length;return this._reversePixels?1-s:s}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:l,max:s}=this;return l<0&&s<0?s:l>0&&s>0?l:0}getContext(l){const s=this.ticks||[];if(l>=0&&l<s.length){const c=s[l];return c.$context||(c.$context=function Oe(m,l,s){return(0,d.j)(m,{tick:s,index:l,type:"tick"})}(this.getContext(),l,c))}return this.$context||(this.$context=function pe(m,l){return(0,d.j)(m,{scale:l,type:"scale"})}(this.chart.getContext(),this))}_tickSize(){const l=this.options.ticks,s=(0,d.t)(this.labelRotation),c=Math.abs(Math.cos(s)),f=Math.abs(Math.sin(s)),_=this._getLabelSizes(),I=l.autoSkipPadding||0,A=_?_.widest.width+I:0,k=_?_.highest.height+I:0;return this.isHorizontal()?k*c>A*f?A/c:k/f:k*f<A*c?k/c:A/f}_isVisible(){const l=this.options.display;return"auto"!==l?!!l:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(l){const s=this.axis,c=this.chart,f=this.options,{grid:_,position:I,border:A}=f,k=_.offset,Y=this.isHorizontal(),Ce=this.ticks.length+(k?1:0),je=js(_),Qe=[],Et=A.setContext(this.getContext()),At=Et.display?Et.width:0,Xt=At/2,In=function(wr){return(0,d.X)(c,wr,At)};let wn,tr,Qn,Kn,or,dr,vr,fi,Oi,Vr,ms,Rs;if("top"===I)wn=In(this.bottom),dr=this.bottom-je,fi=wn-Xt,Vr=In(l.top)+Xt,Rs=l.bottom;else if("bottom"===I)wn=In(this.top),Vr=l.top,Rs=In(l.bottom)-Xt,dr=wn+Xt,fi=this.top+je;else if("left"===I)wn=In(this.right),or=this.right-je,vr=wn-Xt,Oi=In(l.left)+Xt,ms=l.right;else if("right"===I)wn=In(this.left),Oi=l.left,ms=In(l.right)-Xt,or=wn+Xt,vr=this.left+je;else if("x"===s){if("center"===I)wn=In((l.top+l.bottom)/2+.5);else if((0,d.i)(I)){const wr=Object.keys(I)[0];wn=In(this.chart.scales[wr].getPixelForValue(I[wr]))}Vr=l.top,Rs=l.bottom,dr=wn+Xt,fi=dr+je}else if("y"===s){if("center"===I)wn=In((l.left+l.right)/2);else if((0,d.i)(I)){const wr=Object.keys(I)[0];wn=In(this.chart.scales[wr].getPixelForValue(I[wr]))}or=wn-Xt,vr=or-je,Oi=l.left,ms=l.right}const os=(0,d.v)(f.ticks.maxTicksLimit,Ce),Ns=Math.max(1,Math.ceil(Ce/os));for(tr=0;tr<Ce;tr+=Ns){const wr=this.getContext(tr),Ir=_.setContext(wr),Ii=A.setContext(wr),Ki=Ir.lineWidth,ns=Ir.color,ua=Ii.dash||[],po=Ii.dashOffset,Ss=Ir.tickWidth,ls=Ir.tickColor,wa=Ir.tickBorderDash||[],Va=Ir.tickBorderDashOffset;Qn=Js(this,tr,k),void 0!==Qn&&(Kn=(0,d.X)(c,Qn,Ki),Y?or=vr=Oi=ms=Kn:dr=fi=Vr=Rs=Kn,Qe.push({tx1:or,ty1:dr,tx2:vr,ty2:fi,x1:Oi,y1:Vr,x2:ms,y2:Rs,width:Ki,color:ns,borderDash:ua,borderDashOffset:po,tickWidth:Ss,tickColor:ls,tickBorderDash:wa,tickBorderDashOffset:Va}))}return this._ticksLength=Ce,this._borderValue=wn,Qe}_computeLabelItems(l){const s=this.axis,c=this.options,{position:f,ticks:_}=c,I=this.isHorizontal(),A=this.ticks,{align:k,crossAlign:Y,padding:ue,mirror:Ce}=_,je=js(c.grid),Qe=je+ue,Et=Ce?-ue:Qe,At=-(0,d.t)(this.labelRotation),Xt=[];let In,wn,tr,Qn,Kn,or,dr,vr,fi,Oi,Vr,ms,Rs="middle";if("top"===f)or=this.bottom-Et,dr=this._getXAxisLabelAlignment();else if("bottom"===f)or=this.top+Et,dr=this._getXAxisLabelAlignment();else if("left"===f){const Ns=this._getYAxisLabelAlignment(je);dr=Ns.textAlign,Kn=Ns.x}else if("right"===f){const Ns=this._getYAxisLabelAlignment(je);dr=Ns.textAlign,Kn=Ns.x}else if("x"===s){if("center"===f)or=(l.top+l.bottom)/2+Qe;else if((0,d.i)(f)){const Ns=Object.keys(f)[0];or=this.chart.scales[Ns].getPixelForValue(f[Ns])+Qe}dr=this._getXAxisLabelAlignment()}else if("y"===s){if("center"===f)Kn=(l.left+l.right)/2-Qe;else if((0,d.i)(f)){const Ns=Object.keys(f)[0];Kn=this.chart.scales[Ns].getPixelForValue(f[Ns])}dr=this._getYAxisLabelAlignment(je).textAlign}"y"===s&&("start"===k?Rs="top":"end"===k&&(Rs="bottom"));const os=this._getLabelSizes();for(In=0,wn=A.length;In<wn;++In){tr=A[In],Qn=tr.label;const Ns=_.setContext(this.getContext(In));vr=this.getPixelForTick(In)+_.labelOffset,fi=this._resolveTickFontOptions(In),Oi=fi.lineHeight,Vr=(0,d.b)(Qn)?Qn.length:1;const wr=Vr/2,Ir=Ns.color,Ii=Ns.textStrokeColor,Ki=Ns.textStrokeWidth;let ua,ns=dr;if(I?(Kn=vr,"inner"===dr&&(ns=In===wn-1?this.options.reverse?"left":"right":0===In?this.options.reverse?"right":"left":"center"),ms="top"===f?"near"===Y||0!==At?-Vr*Oi+Oi/2:"center"===Y?-os.highest.height/2-wr*Oi+Oi:Oi/2-os.highest.height:"near"===Y||0!==At?Oi/2:"center"===Y?os.highest.height/2-wr*Oi:os.highest.height-Vr*Oi,Ce&&(ms*=-1),0!==At&&!Ns.showLabelBackdrop&&(Kn+=Oi/2*Math.sin(At))):(or=vr,ms=(1-Vr)*Oi/2),Ns.showLabelBackdrop){const po=(0,d.E)(Ns.backdropPadding),Ss=os.heights[In],ls=os.widths[In];let wa=ms-po.top,Va=0-po.left;switch(Rs){case"middle":wa-=Ss/2;break;case"bottom":wa-=Ss}switch(dr){case"center":Va-=ls/2;break;case"right":Va-=ls}ua={left:Va,top:wa,width:ls+po.width,height:Ss+po.height,color:Ns.backdropColor}}Xt.push({label:Qn,font:fi,textOffset:ms,options:{rotation:At,color:Ir,strokeColor:Ii,strokeWidth:Ki,textAlign:ns,textBaseline:Rs,translation:[Kn,or],backdrop:ua}})}return Xt}_getXAxisLabelAlignment(){const{position:l,ticks:s}=this.options;if(-(0,d.t)(this.labelRotation))return"top"===l?"left":"right";let f="center";return"start"===s.align?f="left":"end"===s.align?f="right":"inner"===s.align&&(f="inner"),f}_getYAxisLabelAlignment(l){const{position:s,ticks:{crossAlign:c,mirror:f,padding:_}}=this.options,A=l+_,k=this._getLabelSizes().widest.width;let Y,ue;return"left"===s?f?(ue=this.right+_,"near"===c?Y="left":"center"===c?(Y="center",ue+=k/2):(Y="right",ue+=k)):(ue=this.right-A,"near"===c?Y="right":"center"===c?(Y="center",ue-=k/2):(Y="left",ue=this.left)):"right"===s?f?(ue=this.left+_,"near"===c?Y="right":"center"===c?(Y="center",ue-=k/2):(Y="left",ue-=k)):(ue=this.left+A,"near"===c?Y="left":"center"===c?(Y="center",ue+=k/2):(Y="right",ue=this.right)):Y="right",{textAlign:Y,x:ue}}_computeLabelArea(){if(this.options.ticks.mirror)return;const l=this.chart,s=this.options.position;return"left"===s||"right"===s?{top:0,left:this.left,bottom:l.height,right:this.right}:"top"===s||"bottom"===s?{top:this.top,left:0,bottom:this.bottom,right:l.width}:void 0}drawBackground(){const{ctx:l,options:{backgroundColor:s},left:c,top:f,width:_,height:I}=this;s&&(l.save(),l.fillStyle=s,l.fillRect(c,f,_,I),l.restore())}getLineWidthForValue(l){const s=this.options.grid;if(!this._isVisible()||!s.display)return 0;const f=this.ticks.findIndex(_=>_.value===l);return f>=0?s.setContext(this.getContext(f)).lineWidth:0}drawGrid(l){const s=this.options.grid,c=this.ctx,f=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(l));let _,I;const A=(k,Y,ue)=>{!ue.width||!ue.color||(c.save(),c.lineWidth=ue.width,c.strokeStyle=ue.color,c.setLineDash(ue.borderDash||[]),c.lineDashOffset=ue.borderDashOffset,c.beginPath(),c.moveTo(k.x,k.y),c.lineTo(Y.x,Y.y),c.stroke(),c.restore())};if(s.display)for(_=0,I=f.length;_<I;++_){const k=f[_];s.drawOnChartArea&&A({x:k.x1,y:k.y1},{x:k.x2,y:k.y2},k),s.drawTicks&&A({x:k.tx1,y:k.ty1},{x:k.tx2,y:k.ty2},{color:k.tickColor,width:k.tickWidth,borderDash:k.tickBorderDash,borderDashOffset:k.tickBorderDashOffset})}}drawBorder(){const{chart:l,ctx:s,options:{border:c,grid:f}}=this,_=c.setContext(this.getContext()),I=c.display?_.width:0;if(!I)return;const A=f.setContext(this.getContext(0)).lineWidth,k=this._borderValue;let Y,ue,Ce,je;this.isHorizontal()?(Y=(0,d.X)(l,this.left,I)-I/2,ue=(0,d.X)(l,this.right,A)+A/2,Ce=je=k):(Ce=(0,d.X)(l,this.top,I)-I/2,je=(0,d.X)(l,this.bottom,A)+A/2,Y=ue=k),s.save(),s.lineWidth=_.width,s.strokeStyle=_.color,s.beginPath(),s.moveTo(Y,Ce),s.lineTo(ue,je),s.stroke(),s.restore()}drawLabels(l){if(!this.options.ticks.display)return;const c=this.ctx,f=this._computeLabelArea();f&&(0,d.Y)(c,f);const _=this.getLabelItems(l);for(const I of _)(0,d.Z)(c,I.label,0,I.textOffset,I.font,I.options);f&&(0,d.$)(c)}drawTitle(){const{ctx:l,options:{position:s,title:c,reverse:f}}=this;if(!c.display)return;const _=(0,d.a0)(c.font),I=(0,d.E)(c.padding),A=c.align;let k=_.lineHeight/2;"bottom"===s||"center"===s||(0,d.i)(s)?(k+=I.bottom,(0,d.b)(c.text)&&(k+=_.lineHeight*(c.text.length-1))):k+=I.top;const{titleX:Y,titleY:ue,maxWidth:Ce,rotation:je}=function ne(m,l,s,c){const{top:f,left:_,bottom:I,right:A,chart:k}=m,{chartArea:Y,scales:ue}=k;let je,Qe,Et,Ce=0;const At=I-f,Xt=A-_;if(m.isHorizontal()){if(Qe=(0,d.a2)(c,_,A),(0,d.i)(s)){const In=Object.keys(s)[0];Et=ue[In].getPixelForValue(s[In])+At-l}else Et="center"===s?(Y.bottom+Y.top)/2+At-l:ts(m,s,l);je=A-_}else{if((0,d.i)(s)){const In=Object.keys(s)[0];Qe=ue[In].getPixelForValue(s[In])-Xt+l}else Qe="center"===s?(Y.left+Y.right)/2-Xt+l:ts(m,s,l);Et=(0,d.a2)(c,I,f),Ce="left"===s?-d.H:d.H}return{titleX:Qe,titleY:Et,maxWidth:je,rotation:Ce}}(this,k,s,A);(0,d.Z)(l,c.text,0,0,_,{color:c.color,maxWidth:Ce,rotation:je,textAlign:_e(A,s,f),textBaseline:"middle",translation:[Y,ue]})}draw(l){this._isVisible()&&(this.drawBackground(),this.drawGrid(l),this.drawBorder(),this.drawTitle(),this.drawLabels(l))}_layers(){const l=this.options,s=l.ticks&&l.ticks.z||0,c=(0,d.v)(l.grid&&l.grid.z,-1),f=(0,d.v)(l.border&&l.border.z,0);return this._isVisible()&&this.draw===ve.prototype.draw?[{z:c,draw:_=>{this.drawBackground(),this.drawGrid(_),this.drawTitle()}},{z:f,draw:()=>{this.drawBorder()}},{z:s,draw:_=>{this.drawLabels(_)}}]:[{z:s,draw:_=>{this.draw(_)}}]}getMatchingVisibleMetas(l){const s=this.chart.getSortedVisibleDatasetMetas(),c=this.axis+"AxisID",f=[];let _,I;for(_=0,I=s.length;_<I;++_){const A=s[_];A[c]===this.id&&(!l||A.type===l)&&f.push(A)}return f}_resolveTickFontOptions(l){const s=this.options.ticks.setContext(this.getContext(l));return(0,d.a0)(s.font)}_maxDigits(){const l=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/l}}class st{constructor(l,s,c){this.type=l,this.scope=s,this.override=c,this.items=Object.create(null)}isForType(l){return Object.prototype.isPrototypeOf.call(this.type.prototype,l.prototype)}register(l){const s=Object.getPrototypeOf(l);let c;(function nn(m){return"id"in m&&"defaults"in m})(s)&&(c=this.register(s));const f=this.items,_=l.id,I=this.scope+"."+_;if(!_)throw new Error("class does not have id: "+l);return _ in f||(f[_]=l,function wt(m,l,s){const c=(0,d.a4)(Object.create(null),[s?d.d.get(s):{},d.d.get(l),m.defaults]);d.d.set(l,c),m.defaultRoutes&&function $t(m,l){Object.keys(l).forEach(s=>{const c=s.split("."),f=c.pop(),_=[m].concat(c).join("."),I=l[s].split("."),A=I.pop(),k=I.join(".");d.d.route(_,f,k,A)})}(l,m.defaultRoutes),m.descriptors&&d.d.describe(l,m.descriptors)}(l,I,c),this.override&&d.d.override(l.id,l.overrides)),I}get(l){return this.items[l]}unregister(l){const s=this.items,c=l.id,f=this.scope;c in s&&delete s[c],f&&c in d.d[f]&&(delete d.d[f][c],this.override&&delete d.a3[c])}}class Vn{constructor(){this.controllers=new st(Ft,"datasets",!0),this.elements=new st(Xr,"elements"),this.plugins=new st(Object,"plugins"),this.scales=new st(ve,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...l){this._each("register",l)}remove(...l){this._each("unregister",l)}addControllers(...l){this._each("register",l,this.controllers)}addElements(...l){this._each("register",l,this.elements)}addPlugins(...l){this._each("register",l,this.plugins)}addScales(...l){this._each("register",l,this.scales)}getController(l){return this._get(l,this.controllers,"controller")}getElement(l){return this._get(l,this.elements,"element")}getPlugin(l){return this._get(l,this.plugins,"plugin")}getScale(l){return this._get(l,this.scales,"scale")}removeControllers(...l){this._each("unregister",l,this.controllers)}removeElements(...l){this._each("unregister",l,this.elements)}removePlugins(...l){this._each("unregister",l,this.plugins)}removeScales(...l){this._each("unregister",l,this.scales)}_each(l,s,c){[...s].forEach(f=>{const _=c||this._getRegistryForType(f);c||_.isForType(f)||_===this.plugins&&f.id?this._exec(l,_,f):(0,d.F)(f,I=>{const A=c||this._getRegistryForType(I);this._exec(l,A,I)})})}_exec(l,s,c){const f=(0,d.a5)(l);(0,d.Q)(c["before"+f],[],c),s[l](c),(0,d.Q)(c["after"+f],[],c)}_getRegistryForType(l){for(let s=0;s<this._typedRegistries.length;s++){const c=this._typedRegistries[s];if(c.isForType(l))return c}return this.plugins}_get(l,s,c){const f=s.get(l);if(void 0===f)throw new Error('"'+l+'" is not a registered '+c+".");return f}}var Un=new Vn;class Nr{constructor(){this._init=[]}notify(l,s,c,f){"beforeInit"===s&&(this._init=this._createDescriptors(l,!0),this._notify(this._init,l,"install"));const _=f?this._descriptors(l).filter(f):this._descriptors(l),I=this._notify(_,l,s,c);return"afterDestroy"===s&&(this._notify(_,l,"stop"),this._notify(this._init,l,"uninstall")),I}_notify(l,s,c,f){f=f||{};for(const _ of l){const I=_.plugin;if(!1===(0,d.Q)(I[c],[s,f,_.options],I)&&f.cancelable)return!1}return!0}invalidate(){(0,d.k)(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(l){if(this._cache)return this._cache;const s=this._cache=this._createDescriptors(l);return this._notifyStateChanges(l),s}_createDescriptors(l,s){const c=l&&l.config,f=(0,d.v)(c.options&&c.options.plugins,{}),_=function Qr(m){const l={},s=[],c=Object.keys(Un.plugins.items);for(let _=0;_<c.length;_++)s.push(Un.getPlugin(c[_]));const f=m.plugins||[];for(let _=0;_<f.length;_++){const I=f[_];-1===s.indexOf(I)&&(s.push(I),l[I.id]=!0)}return{plugins:s,localIds:l}}(c);return!1!==f||s?function Ji(m,{plugins:l,localIds:s},c,f){const _=[],I=m.getContext();for(const A of l){const k=A.id,Y=vs(c[k],f);null!==Y&&_.push({plugin:A,options:Ti(m.config,{plugin:A,local:s[k]},Y,I)})}return _}(l,_,f,s):[]}_notifyStateChanges(l){const s=this._oldCache||[],c=this._cache,f=(_,I)=>_.filter(A=>!I.some(k=>A.plugin.id===k.plugin.id));this._notify(f(s,c),l,"stop"),this._notify(f(c,s),l,"start")}}function vs(m,l){return l||!1!==m?!0===m?{}:m:null}function Ti(m,{plugin:l,local:s},c,f){const _=m.pluginScopeKeys(l),I=m.getOptionScopes(c,_);return s&&l.defaults&&I.push(l.defaults),m.createResolver(I,f,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Mr(m,l){return((l.datasets||{})[m]||{}).indexAxis||l.indexAxis||(d.d.datasets[m]||{}).indexAxis||"x"}function Br(m){if("x"===m||"y"===m||"r"===m)return m}function Ts(m){return"top"===m||"bottom"===m?"x":"left"===m||"right"===m?"y":void 0}function Ao(m,...l){if(Br(m))return m;for(const s of l){const c=s.axis||Ts(s.position)||m.length>1&&Br(m[0].toLowerCase());if(c)return c}throw new Error(`Cannot determine type of '${m}' axis. Please provide 'axis' or 'position' option.`)}function is(m,l,s){if(s[l+"AxisID"]===m)return{axis:l}}function Ur(m){const l=m.options||(m.options={});l.plugins=(0,d.v)(l.plugins,{}),l.scales=function Jr(m,l){const s=d.a3[m.type]||{scales:{}},c=l.scales||{},f=Mr(m.type,l),_=Object.create(null);return Object.keys(c).forEach(I=>{const A=c[I];if(!(0,d.i)(A))return console.error(`Invalid scale configuration for scale: ${I}`);if(A._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${I}`);const k=Ao(I,A,function vo(m,l){if(l.data&&l.data.datasets){const s=l.data.datasets.filter(c=>c.xAxisID===m||c.yAxisID===m);if(s.length)return is(m,"x",s[0])||is(m,"y",s[0])}return{}}(I,m),d.d.scales[A.type]),Y=function Lr(m,l){return m===l?"_index_":"_value_"}(k,f),ue=s.scales||{};_[I]=(0,d.ab)(Object.create(null),[{axis:k},A,ue[k],ue[Y]])}),m.data.datasets.forEach(I=>{const A=I.type||m.type,k=I.indexAxis||Mr(A,l),ue=(d.a3[A]||{}).scales||{};Object.keys(ue).forEach(Ce=>{const je=function Tn(m,l){let s=m;return"_index_"===m?s=l:"_value_"===m&&(s="x"===l?"y":"x"),s}(Ce,k),Qe=I[je+"AxisID"]||je;_[Qe]=_[Qe]||Object.create(null),(0,d.ab)(_[Qe],[{axis:je},c[Qe],ue[Ce]])})}),Object.keys(_).forEach(I=>{const A=_[I];(0,d.ab)(A,[d.d.scales[A.type],d.d.scale])}),_}(m,l)}function ji(m){return(m=m||{}).datasets=m.datasets||[],m.labels=m.labels||[],m}const so=new Map,_s=new Set;function ki(m,l){let s=so.get(m);return s||(s=l(),so.set(m,s),_s.add(s)),s}const es=(m,l,s)=>{const c=(0,d.f)(l,s);void 0!==c&&m.add(c)};class eo{constructor(l){this._config=function qr(m){return(m=m||{}).data=ji(m.data),Ur(m),m}(l),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(l){this._config.type=l}get data(){return this._config.data}set data(l){this._config.data=ji(l)}get options(){return this._config.options}set options(l){this._config.options=l}get plugins(){return this._config.plugins}update(){const l=this._config;this.clearCache(),Ur(l)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(l){return ki(l,()=>[[`datasets.${l}`,""]])}datasetAnimationScopeKeys(l,s){return ki(`${l}.transition.${s}`,()=>[[`datasets.${l}.transitions.${s}`,`transitions.${s}`],[`datasets.${l}`,""]])}datasetElementScopeKeys(l,s){return ki(`${l}-${s}`,()=>[[`datasets.${l}.elements.${s}`,`datasets.${l}`,`elements.${s}`,""]])}pluginScopeKeys(l){const s=l.id;return ki(`${this.type}-plugin-${s}`,()=>[[`plugins.${s}`,...l.additionalOptionScopes||[]]])}_cachedScopes(l,s){const c=this._scopeCache;let f=c.get(l);return(!f||s)&&(f=new Map,c.set(l,f)),f}getOptionScopes(l,s,c){const{options:f,type:_}=this,I=this._cachedScopes(l,c),A=I.get(s);if(A)return A;const k=new Set;s.forEach(ue=>{l&&(k.add(l),ue.forEach(Ce=>es(k,l,Ce))),ue.forEach(Ce=>es(k,f,Ce)),ue.forEach(Ce=>es(k,d.a3[_]||{},Ce)),ue.forEach(Ce=>es(k,d.d,Ce)),ue.forEach(Ce=>es(k,d.a6,Ce))});const Y=Array.from(k);return 0===Y.length&&Y.push(Object.create(null)),_s.has(s)&&I.set(s,Y),Y}chartOptionScopes(){const{options:l,type:s}=this;return[l,d.a3[s]||{},d.d.datasets[s]||{},{type:s},d.d,d.a6]}resolveNamedOptions(l,s,c,f=[""]){const _={$shared:!0},{resolver:I,subPrefixes:A}=uo(this._resolverCache,l,f);let k=I;if(function Eo(m,l){const{isScriptable:s,isIndexable:c}=(0,d.aa)(m);for(const f of l){const _=s(f),I=c(f),A=(I||_)&&m[f];if(_&&((0,d.a7)(A)||zs(A))||I&&(0,d.b)(A))return!0}return!1}(I,s)){_.$shared=!1,c=(0,d.a7)(c)?c():c;const Y=this.createResolver(l,c,A);k=(0,d.a8)(I,c,Y)}for(const Y of s)_[Y]=k[Y];return _}createResolver(l,s,c=[""],f){const{resolver:_}=uo(this._resolverCache,l,c);return(0,d.i)(s)?(0,d.a8)(_,s,void 0,f):_}}function uo(m,l,s){let c=m.get(l);c||(c=new Map,m.set(l,c));const f=s.join();let _=c.get(f);return _||(_={resolver:(0,d.a9)(l,s),subPrefixes:s.filter(A=>!A.toLowerCase().includes("hover"))},c.set(f,_)),_}const zs=m=>(0,d.i)(m)&&Object.getOwnPropertyNames(m).reduce((l,s)=>l||(0,d.a7)(m[s]),!1),wo=["top","bottom","left","right","chartArea"];function As(m,l){return"top"===m||"bottom"===m||-1===wo.indexOf(m)&&"x"===l}function qo(m,l){return function(s,c){return s[m]===c[m]?s[l]-c[l]:s[m]-c[m]}}function bs(m){const l=m.chart,s=l.options.animation;l.notifyPlugins("afterRender"),(0,d.Q)(s&&s.onComplete,[m],l)}function xi(m){const l=m.chart,s=l.options.animation;(0,d.Q)(s&&s.onProgress,[m],l)}function No(m){return(0,d.M)()&&"string"==typeof m?m=document.getElementById(m):m&&m.length&&(m=m[0]),m&&m.canvas&&(m=m.canvas),m}const Yi={},Ri=m=>{const l=No(m);return Object.values(Yi).filter(s=>s.canvas===l).pop()};function Bs(m,l,s){const c=Object.keys(m);for(const f of c){const _=+f;if(_>=l){const I=m[f];delete m[f],(s>0||_>l)&&(m[_+s]=I)}}}function Io(m,l,s){return m.options.clip?m[s]:l[s]}let fs=(()=>{class m{static register(...s){Un.add(...s),ho()}static unregister(...s){Un.remove(...s),ho()}constructor(s,c){const f=this.config=new eo(c),_=No(s),I=Ri(_);if(I)throw new Error("Canvas is already in use. Chart with ID '"+I.id+"' must be destroyed before the canvas with ID '"+I.canvas.id+"' can be reused.");const A=f.createResolver(f.chartOptionScopes(),this.getContext());this.platform=new(f.platform||function Fi(m){return!(0,d.M)()||typeof OffscreenCanvas<"u"&&m instanceof OffscreenCanvas?ie:Sr}(_)),this.platform.updateConfig(f);const k=this.platform.acquireContext(_,A.aspectRatio),Y=k&&k.canvas,ue=Y&&Y.height,Ce=Y&&Y.width;this.id=(0,d.ac)(),this.ctx=k,this.canvas=Y,this.width=Ce,this.height=ue,this._options=A,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new Nr,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=(0,d.ad)(je=>this.update(je),A.resizeDelay||0),this._dataChanges=[],Yi[this.id]=this,k&&Y?(be.listen(this,"complete",bs),be.listen(this,"progress",xi),this._initialize(),this.attached&&this.update()):console.error("Failed to create chart: can't acquire context from the given item")}get aspectRatio(){const{options:{aspectRatio:s,maintainAspectRatio:c},width:f,height:_,_aspectRatio:I}=this;return(0,d.k)(s)?c&&I?I:_?f/_:null:s}get data(){return this.config.data}set data(s){this.config.data=s}get options(){return this._options}set options(s){this.config.options=s}get registry(){return Un}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():(0,d.ae)(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return(0,d.af)(this.canvas,this.ctx),this}stop(){return be.stop(this),this}resize(s,c){be.running(this)?this._resizeBeforeDraw={width:s,height:c}:this._resize(s,c)}_resize(s,c){const f=this.options,A=this.platform.getMaximumSize(this.canvas,s,c,f.maintainAspectRatio&&this.aspectRatio),k=f.devicePixelRatio||this.platform.getDevicePixelRatio(),Y=this.width?"resize":"attach";this.width=A.width,this.height=A.height,this._aspectRatio=this.aspectRatio,(0,d.ae)(this,k,!0)&&(this.notifyPlugins("resize",{size:A}),(0,d.Q)(f.onResize,[this,A],this),this.attached&&this._doResize(Y)&&this.render())}ensureScalesHaveIDs(){(0,d.F)(this.options.scales||{},(f,_)=>{f.id=_})}buildOrUpdateScales(){const s=this.options,c=s.scales,f=this.scales,_=Object.keys(f).reduce((A,k)=>(A[k]=!1,A),{});let I=[];c&&(I=I.concat(Object.keys(c).map(A=>{const k=c[A],Y=Ao(A,k),ue="r"===Y,Ce="x"===Y;return{options:k,dposition:ue?"chartArea":Ce?"bottom":"left",dtype:ue?"radialLinear":Ce?"category":"linear"}}))),(0,d.F)(I,A=>{const k=A.options,Y=k.id,ue=Ao(Y,k),Ce=(0,d.v)(k.type,A.dtype);(void 0===k.position||As(k.position,ue)!==As(A.dposition))&&(k.position=A.dposition),_[Y]=!0;let je=null;Y in f&&f[Y].type===Ce?je=f[Y]:(je=new(Un.getScale(Ce))({id:Y,type:Ce,ctx:this.ctx,chart:this}),f[je.id]=je),je.init(k,s)}),(0,d.F)(_,(A,k)=>{A||delete f[k]}),(0,d.F)(f,A=>{gt.configure(this,A,A.options),gt.addBox(this,A)})}_updateMetasets(){const s=this._metasets,c=this.data.datasets.length,f=s.length;if(s.sort((_,I)=>_.index-I.index),f>c){for(let _=c;_<f;++_)this._destroyDatasetMeta(_);s.splice(c,f-c)}this._sortedMetasets=s.slice(0).sort(qo("order","index"))}_removeUnreferencedMetasets(){const{_metasets:s,data:{datasets:c}}=this;s.length>c.length&&delete this._stacks,s.forEach((f,_)=>{0===c.filter(I=>I===f._dataset).length&&this._destroyDatasetMeta(_)})}buildOrUpdateControllers(){const s=[],c=this.data.datasets;let f,_;for(this._removeUnreferencedMetasets(),f=0,_=c.length;f<_;f++){const I=c[f];let A=this.getDatasetMeta(f);const k=I.type||this.config.type;if(A.type&&A.type!==k&&(this._destroyDatasetMeta(f),A=this.getDatasetMeta(f)),A.type=k,A.indexAxis=I.indexAxis||Mr(k,this.options),A.order=I.order||0,A.index=f,A.label=""+I.label,A.visible=this.isDatasetVisible(f),A.controller)A.controller.updateIndex(f),A.controller.linkScales();else{const Y=Un.getController(k),{datasetElementType:ue,dataElementType:Ce}=d.d.datasets[k];Object.assign(Y,{dataElementType:Un.getElement(Ce),datasetElementType:ue&&Un.getElement(ue)}),A.controller=new Y(this,f),s.push(A.controller)}}return this._updateMetasets(),s}_resetElements(){(0,d.F)(this.data.datasets,(s,c)=>{this.getDatasetMeta(c).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(s){const c=this.config;c.update();const f=this._options=c.createResolver(c.chartOptionScopes(),this.getContext()),_=this._animationsDisabled=!f.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),!1===this.notifyPlugins("beforeUpdate",{mode:s,cancelable:!0}))return;const I=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let A=0;for(let ue=0,Ce=this.data.datasets.length;ue<Ce;ue++){const{controller:je}=this.getDatasetMeta(ue),Qe=!_&&-1===I.indexOf(je);je.buildOrUpdateElements(Qe),A=Math.max(+je.getMaxOverflow(),A)}A=this._minPadding=f.layout.autoPadding?A:0,this._updateLayout(A),_||(0,d.F)(I,ue=>{ue.reset()}),this._updateDatasets(s),this.notifyPlugins("afterUpdate",{mode:s}),this._layers.sort(qo("z","_idx"));const{_active:k,_lastEvent:Y}=this;Y?this._eventHandler(Y,!0):k.length&&this._updateHoverStyles(k,k,!0),this.render()}_updateScales(){(0,d.F)(this.scales,s=>{gt.removeBox(this,s)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const s=this.options,c=new Set(Object.keys(this._listeners)),f=new Set(s.events);(!(0,d.ag)(c,f)||!!this._responsiveListeners!==s.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:s}=this,c=this._getUniformDataChanges()||[];for(const{method:f,start:_,count:I}of c)Bs(s,_,"_removeElements"===f?-I:I)}_getUniformDataChanges(){const s=this._dataChanges;if(!s||!s.length)return;this._dataChanges=[];const c=this.data.datasets.length,f=I=>new Set(s.filter(A=>A[0]===I).map((A,k)=>k+","+A.splice(1).join(","))),_=f(0);for(let I=1;I<c;I++)if(!(0,d.ag)(_,f(I)))return;return Array.from(_).map(I=>I.split(",")).map(I=>({method:I[1],start:+I[2],count:+I[3]}))}_updateLayout(s){if(!1===this.notifyPlugins("beforeLayout",{cancelable:!0}))return;gt.update(this,this.width,this.height,s);const c=this.chartArea,f=c.width<=0||c.height<=0;this._layers=[],(0,d.F)(this.boxes,_=>{f&&"chartArea"===_.position||(_.configure&&_.configure(),this._layers.push(..._._layers()))},this),this._layers.forEach((_,I)=>{_._idx=I}),this.notifyPlugins("afterLayout")}_updateDatasets(s){if(!1!==this.notifyPlugins("beforeDatasetsUpdate",{mode:s,cancelable:!0})){for(let c=0,f=this.data.datasets.length;c<f;++c)this.getDatasetMeta(c).controller.configure();for(let c=0,f=this.data.datasets.length;c<f;++c)this._updateDataset(c,(0,d.a7)(s)?s({datasetIndex:c}):s);this.notifyPlugins("afterDatasetsUpdate",{mode:s})}}_updateDataset(s,c){const f=this.getDatasetMeta(s),_={meta:f,index:s,mode:c,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetUpdate",_)&&(f.controller._update(c),_.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",_))}render(){!1!==this.notifyPlugins("beforeRender",{cancelable:!0})&&(be.has(this)?this.attached&&!be.running(this)&&be.start(this):(this.draw(),bs({chart:this})))}draw(){let s;if(this._resizeBeforeDraw){const{width:f,height:_}=this._resizeBeforeDraw;this._resize(f,_),this._resizeBeforeDraw=null}if(this.clear(),this.width<=0||this.height<=0||!1===this.notifyPlugins("beforeDraw",{cancelable:!0}))return;const c=this._layers;for(s=0;s<c.length&&c[s].z<=0;++s)c[s].draw(this.chartArea);for(this._drawDatasets();s<c.length;++s)c[s].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(s){const c=this._sortedMetasets,f=[];let _,I;for(_=0,I=c.length;_<I;++_){const A=c[_];(!s||A.visible)&&f.push(A)}return f}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(!1===this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0}))return;const s=this.getSortedVisibleDatasetMetas();for(let c=s.length-1;c>=0;--c)this._drawDataset(s[c]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(s){const c=this.ctx,f=s._clip,_=!f.disabled,I=function hs(m,l){const{xScale:s,yScale:c}=m;return s&&c?{left:Io(s,l,"left"),right:Io(s,l,"right"),top:Io(c,l,"top"),bottom:Io(c,l,"bottom")}:l}(s,this.chartArea),A={meta:s,index:s.index,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetDraw",A)&&(_&&(0,d.Y)(c,{left:!1===f.left?0:I.left-f.left,right:!1===f.right?this.width:I.right+f.right,top:!1===f.top?0:I.top-f.top,bottom:!1===f.bottom?this.height:I.bottom+f.bottom}),s.controller.draw(),_&&(0,d.$)(c),A.cancelable=!1,this.notifyPlugins("afterDatasetDraw",A))}isPointInArea(s){return(0,d.C)(s,this.chartArea,this._minPadding)}getElementsAtEventForMode(s,c,f,_){const I=li.modes[c];return"function"==typeof I?I(this,s,f,_):[]}getDatasetMeta(s){const c=this.data.datasets[s],f=this._metasets;let _=f.filter(I=>I&&I._dataset===c).pop();return _||(_={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:c&&c.order||0,index:s,_dataset:c,_parsed:[],_sorted:!1},f.push(_)),_}getContext(){return this.$context||(this.$context=(0,d.j)(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(s){const c=this.data.datasets[s];if(!c)return!1;const f=this.getDatasetMeta(s);return"boolean"==typeof f.hidden?!f.hidden:!c.hidden}setDatasetVisibility(s,c){this.getDatasetMeta(s).hidden=!c}toggleDataVisibility(s){this._hiddenIndices[s]=!this._hiddenIndices[s]}getDataVisibility(s){return!this._hiddenIndices[s]}_updateVisibility(s,c,f){const _=f?"show":"hide",I=this.getDatasetMeta(s),A=I.controller._resolveAnimations(void 0,_);(0,d.h)(c)?(I.data[c].hidden=!f,this.update()):(this.setDatasetVisibility(s,f),A.update(I,{visible:f}),this.update(k=>k.datasetIndex===s?_:void 0))}hide(s,c){this._updateVisibility(s,c,!1)}show(s,c){this._updateVisibility(s,c,!0)}_destroyDatasetMeta(s){const c=this._metasets[s];c&&c.controller&&c.controller._destroy(),delete this._metasets[s]}_stop(){let s,c;for(this.stop(),be.remove(this),s=0,c=this.data.datasets.length;s<c;++s)this._destroyDatasetMeta(s)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:s,ctx:c}=this;this._stop(),this.config.clearCache(),s&&(this.unbindEvents(),(0,d.af)(s,c),this.platform.releaseContext(c),this.canvas=null,this.ctx=null),delete Yi[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...s){return this.canvas.toDataURL(...s)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const s=this._listeners,c=this.platform,f=(I,A)=>{c.addEventListener(this,I,A),s[I]=A},_=(I,A,k)=>{I.offsetX=A,I.offsetY=k,this._eventHandler(I)};(0,d.F)(this.options.events,I=>f(I,_))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const s=this._responsiveListeners,c=this.platform,f=(Y,ue)=>{c.addEventListener(this,Y,ue),s[Y]=ue},_=(Y,ue)=>{s[Y]&&(c.removeEventListener(this,Y,ue),delete s[Y])},I=(Y,ue)=>{this.canvas&&this.resize(Y,ue)};let A;const k=()=>{_("attach",k),this.attached=!0,this.resize(),f("resize",I),f("detach",A)};A=()=>{this.attached=!1,_("resize",I),this._stop(),this._resize(0,0),f("attach",k)},c.isAttached(this.canvas)?k():A()}unbindEvents(){(0,d.F)(this._listeners,(s,c)=>{this.platform.removeEventListener(this,c,s)}),this._listeners={},(0,d.F)(this._responsiveListeners,(s,c)=>{this.platform.removeEventListener(this,c,s)}),this._responsiveListeners=void 0}updateHoverStyle(s,c,f){const _=f?"set":"remove";let I,A,k,Y;for("dataset"===c&&(I=this.getDatasetMeta(s[0].datasetIndex),I.controller["_"+_+"DatasetHoverStyle"]()),k=0,Y=s.length;k<Y;++k){A=s[k];const ue=A&&this.getDatasetMeta(A.datasetIndex).controller;ue&&ue[_+"HoverStyle"](A.element,A.datasetIndex,A.index)}}getActiveElements(){return this._active||[]}setActiveElements(s){const c=this._active||[],f=s.map(({datasetIndex:I,index:A})=>{const k=this.getDatasetMeta(I);if(!k)throw new Error("No dataset found at index "+I);return{datasetIndex:I,element:k.data[A],index:A}});!(0,d.ah)(f,c)&&(this._active=f,this._lastEvent=null,this._updateHoverStyles(f,c))}notifyPlugins(s,c,f){return this._plugins.notify(this,s,c,f)}isPluginEnabled(s){return 1===this._plugins._cache.filter(c=>c.plugin.id===s).length}_updateHoverStyles(s,c,f){const _=this.options.hover,I=(Y,ue)=>Y.filter(Ce=>!ue.some(je=>Ce.datasetIndex===je.datasetIndex&&Ce.index===je.index)),A=I(c,s),k=f?s:I(s,c);A.length&&this.updateHoverStyle(A,_.mode,!1),k.length&&_.mode&&this.updateHoverStyle(k,_.mode,!0)}_eventHandler(s,c){const f={event:s,replay:c,cancelable:!0,inChartArea:this.isPointInArea(s)},_=A=>(A.options.events||this.options.events).includes(s.native.type);if(!1===this.notifyPlugins("beforeEvent",f,_))return;const I=this._handleEvent(s,c,f.inChartArea);return f.cancelable=!1,this.notifyPlugins("afterEvent",f,_),(I||f.changed)&&this.render(),this}_handleEvent(s,c,f){const{_active:_=[],options:I}=this,k=this._getActiveElements(s,_,f,c),Y=(0,d.ai)(s),ue=function Ys(m,l,s,c){return s&&"mouseout"!==m.type?c?l:m:null}(s,this._lastEvent,f,Y);f&&(this._lastEvent=null,(0,d.Q)(I.onHover,[s,k,this],this),Y&&(0,d.Q)(I.onClick,[s,k,this],this));const Ce=!(0,d.ah)(k,_);return(Ce||c)&&(this._active=k,this._updateHoverStyles(k,_,c)),this._lastEvent=ue,Ce}_getActiveElements(s,c,f,_){if("mouseout"===s.type)return[];if(!f)return c;const I=this.options.hover;return this.getElementsAtEventForMode(s,I.mode,I,_)}}return m.defaults=d.d,m.instances=Yi,m.overrides=d.a3,m.registry=Un,m.version="4.4.0",m.getChart=Ri,m})();function ho(){return(0,d.F)(fs.instances,m=>m._plugins.invalidate())}function xo(m,l,s,c){return{x:s+m*Math.cos(l),y:c+m*Math.sin(l)}}function bo(m,l,s,c,f,_){const{x:I,y:A,startAngle:k,pixelMargin:Y,innerRadius:ue}=l,Ce=Math.max(l.outerRadius+c+s-Y,0),je=ue>0?ue+c+s+Y:0;let Qe=0;const Et=f-k;if(c){const Ir=((ue>0?ue-c:0)+(Ce>0?Ce-c:0))/2;Qe=(Et-(0!==Ir?Et*Ir/(Ir+c):Et))/2}const Xt=(Et-Math.max(.001,Et*Ce-s/d.P)/Ce)/2,In=k+Xt+Qe,wn=f-Xt-Qe,{outerStart:tr,outerEnd:Qn,innerStart:Kn,innerEnd:or}=function Go(m,l,s,c){const f=function Ni(m){return(0,d.ak)(m,["outerStart","outerEnd","innerStart","innerEnd"])}(m.options.borderRadius),_=(s-l)/2,I=Math.min(_,c*l/2),A=k=>{const Y=(s-Math.min(_,k))*c/2;return(0,d.S)(k,0,Math.min(_,Y))};return{outerStart:A(f.outerStart),outerEnd:A(f.outerEnd),innerStart:(0,d.S)(f.innerStart,0,I),innerEnd:(0,d.S)(f.innerEnd,0,I)}}(l,je,Ce,wn-In),dr=Ce-tr,vr=Ce-Qn,fi=In+tr/dr,Oi=wn-Qn/vr,Vr=je+Kn,ms=je+or,Rs=In+Kn/Vr,os=wn-or/ms;if(m.beginPath(),_){const Ns=(fi+Oi)/2;if(m.arc(I,A,Ce,fi,Ns),m.arc(I,A,Ce,Ns,Oi),Qn>0){const Ki=xo(vr,Oi,I,A);m.arc(Ki.x,Ki.y,Qn,Oi,wn+d.H)}const wr=xo(ms,wn,I,A);if(m.lineTo(wr.x,wr.y),or>0){const Ki=xo(ms,os,I,A);m.arc(Ki.x,Ki.y,or,wn+d.H,os+Math.PI)}const Ir=(wn-or/je+(In+Kn/je))/2;if(m.arc(I,A,je,wn-or/je,Ir,!0),m.arc(I,A,je,Ir,In+Kn/je,!0),Kn>0){const Ki=xo(Vr,Rs,I,A);m.arc(Ki.x,Ki.y,Kn,Rs+Math.PI,In-d.H)}const Ii=xo(dr,In,I,A);if(m.lineTo(Ii.x,Ii.y),tr>0){const Ki=xo(dr,fi,I,A);m.arc(Ki.x,Ki.y,tr,In-d.H,fi)}}else{m.moveTo(I,A);const Ns=Math.cos(fi)*Ce+I,wr=Math.sin(fi)*Ce+A;m.lineTo(Ns,wr);const Ir=Math.cos(Oi)*Ce+I,Ii=Math.sin(Oi)*Ce+A;m.lineTo(Ir,Ii)}m.closePath()}class Zo extends Xr{constructor(l){super(),this.circumference=void 0,this.endAngle=void 0,this.fullCircles=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=void 0,this.startAngle=void 0,this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,l&&Object.assign(this,l)}inRange(l,s,c){const f=this.getProps(["x","y"],c),{angle:_,distance:I}=(0,d.D)(f,{x:l,y:s}),{startAngle:A,endAngle:k,innerRadius:Y,outerRadius:ue,circumference:Ce}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],c),je=(this.options.spacing+this.options.borderWidth)/2,Et=(0,d.v)(Ce,k-A)>=d.T||(0,d.p)(_,A,k),At=(0,d.aj)(I,Y+je,ue+je);return Et&&At}getCenterPoint(l){const{x:s,y:c,startAngle:f,endAngle:_,innerRadius:I,outerRadius:A}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],l),{offset:k,spacing:Y}=this.options,ue=(f+_)/2,Ce=(I+A+Y+k)/2;return{x:s+Math.cos(ue)*Ce,y:c+Math.sin(ue)*Ce}}tooltipPosition(l){return this.getCenterPoint(l)}draw(l){const{options:s,circumference:c}=this,f=(s.offset||0)/4,_=(s.spacing||0)/2,I=s.circular;if(this.pixelMargin="inner"===s.borderAlign?.33:0,this.fullCircles=c>d.T?Math.floor(c/d.T):0,0===c||this.innerRadius<0||this.outerRadius<0)return;l.save();const A=(this.startAngle+this.endAngle)/2;l.translate(Math.cos(A)*f,Math.sin(A)*f);const Y=f*(1-Math.sin(Math.min(d.P,c||0)));l.fillStyle=s.backgroundColor,l.strokeStyle=s.borderColor,function Co(m,l,s,c,f){const{fullCircles:_,startAngle:I,circumference:A}=l;let k=l.endAngle;if(_){bo(m,l,s,c,k,f);for(let Y=0;Y<_;++Y)m.fill();isNaN(A)||(k=I+(A%d.T||d.T))}bo(m,l,s,c,k,f),m.fill()}(l,this,Y,_,I),function to(m,l,s,c,f){const{fullCircles:_,startAngle:I,circumference:A,options:k}=l,{borderWidth:Y,borderJoinStyle:ue,borderDash:Ce,borderDashOffset:je}=k,Qe="inner"===k.borderAlign;if(!Y)return;m.setLineDash(Ce||[]),m.lineDashOffset=je,Qe?(m.lineWidth=2*Y,m.lineJoin=ue||"round"):(m.lineWidth=Y,m.lineJoin=ue||"bevel");let Et=l.endAngle;if(_){bo(m,l,s,c,Et,f);for(let At=0;At<_;++At)m.stroke();isNaN(A)||(Et=I+(A%d.T||d.T))}Qe&&function oo(m,l,s){const{startAngle:c,pixelMargin:f,x:_,y:I,outerRadius:A,innerRadius:k}=l;let Y=f/A;m.beginPath(),m.arc(_,I,A,c-Y,s+Y),k>f?(Y=f/k,m.arc(_,I,k,s+Y,c-Y,!0)):m.arc(_,I,f,s+d.H,c-d.H),m.closePath(),m.clip()}(m,l,Et),_||(bo(m,l,s,c,Et,f),m.stroke())}(l,this,Y,_,I),l.restore()}}function ao(m,l,s=l){m.lineCap=(0,d.v)(s.borderCapStyle,l.borderCapStyle),m.setLineDash((0,d.v)(s.borderDash,l.borderDash)),m.lineDashOffset=(0,d.v)(s.borderDashOffset,l.borderDashOffset),m.lineJoin=(0,d.v)(s.borderJoinStyle,l.borderJoinStyle),m.lineWidth=(0,d.v)(s.borderWidth,l.borderWidth),m.strokeStyle=(0,d.v)(s.borderColor,l.borderColor)}function $s(m,l,s){m.lineTo(s.x,s.y)}function us(m,l,s={}){const c=m.length,{start:f=0,end:_=c-1}=s,{start:I,end:A}=l,k=Math.max(f,I),Y=Math.min(_,A);return{count:c,start:k,loop:l.loop,ilen:Y<k&&!(f<I&&_<I||f>A&&_>A)?c+Y-k:Y-k}}function Mo(m,l,s,c){const{points:f,options:_}=l,{count:I,start:A,loop:k,ilen:Y}=us(f,s,c),ue=function Ro(m){return m.stepped?d.ar:m.tension||"monotone"===m.cubicInterpolationMode?d.as:$s}(_);let Qe,Et,At,{move:Ce=!0,reverse:je}=c||{};for(Qe=0;Qe<=Y;++Qe)Et=f[(A+(je?Y-Qe:Qe))%I],!Et.skip&&(Ce?(m.moveTo(Et.x,Et.y),Ce=!1):ue(m,At,Et,je,_.stepped),At=Et);return k&&(Et=f[(A+(je?Y:0))%I],ue(m,At,Et,je,_.stepped)),!!k}function fo(m,l,s,c){const f=l.points,{count:_,start:I,ilen:A}=us(f,s,c),{move:k=!0,reverse:Y}=c||{};let je,Qe,Et,At,Xt,In,ue=0,Ce=0;const wn=Qn=>(I+(Y?A-Qn:Qn))%_,tr=()=>{At!==Xt&&(m.lineTo(ue,Xt),m.lineTo(ue,At),m.lineTo(ue,In))};for(k&&(Qe=f[wn(0)],m.moveTo(Qe.x,Qe.y)),je=0;je<=A;++je){if(Qe=f[wn(je)],Qe.skip)continue;const Qn=Qe.x,Kn=Qe.y,or=0|Qn;or===Et?(Kn<At?At=Kn:Kn>Xt&&(Xt=Kn),ue=(Ce*ue+Qn)/++Ce):(tr(),m.lineTo(Qn,Kn),Et=or,Ce=0,At=Xt=Kn),In=Kn}tr()}function jo(m){const l=m.options;return m._decimated||m._loop||l.tension||"monotone"===l.cubicInterpolationMode||l.stepped||l.borderDash&&l.borderDash.length?Mo:fo}Zo.id="arc",Zo.defaults={borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0},Zo.defaultRoutes={backgroundColor:"backgroundColor"},Zo.descriptors={_scriptable:!0,_indexable:m=>"borderDash"!==m};const N="function"==typeof Path2D;let Ge=(()=>{class m extends Xr{constructor(s){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,s&&Object.assign(this,s)}updateControlPoints(s,c){const f=this.options;!f.tension&&"monotone"!==f.cubicInterpolationMode||f.stepped||this._pointsUpdated||((0,d.al)(this._points,f,s,f.spanGaps?this._loop:this._fullLoop,c),this._pointsUpdated=!0)}set points(s){this._points=s,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=(0,d.am)(this,this.options.segment))}first(){const s=this.segments;return s.length&&this.points[s[0].start]}last(){const s=this.segments,f=s.length;return f&&this.points[s[f-1].end]}interpolate(s,c){const f=this.options,_=s[c],I=this.points,A=(0,d.an)(this,{property:c,start:_,end:_});if(!A.length)return;const k=[],Y=function qi(m){return m.stepped?d.ao:m.tension||"monotone"===m.cubicInterpolationMode?d.ap:d.aq}(f);let ue,Ce;for(ue=0,Ce=A.length;ue<Ce;++ue){const{start:je,end:Qe}=A[ue],Et=I[je],At=I[Qe];if(Et===At){k.push(Et);continue}const In=Y(Et,At,Math.abs((_-Et[c])/(At[c]-Et[c])),f.stepped);In[c]=s[c],k.push(In)}return 1===k.length?k[0]:k}pathSegment(s,c,f){return jo(this)(s,this,c,f)}path(s,c,f){const _=this.segments,I=jo(this);let A=this._loop;c=c||0,f=f||this.points.length-c;for(const k of _)A&=I(s,this,k,{start:c,end:c+f-1});return!!A}draw(s,c,f,_){(this.points||[]).length&&(this.options||{}).borderWidth&&(s.save(),function ce(m,l,s,c){N&&!l.options.segment?function O(m,l,s,c){let f=l._path;f||(f=l._path=new Path2D,l.path(f,s,c)&&f.closePath()),ao(m,l.options),m.stroke(f)}(m,l,s,c):function he(m,l,s,c){const{segments:f,options:_}=l,I=jo(l);for(const A of f)ao(m,_,A.style),m.beginPath(),I(m,l,A,{start:s,end:s+c-1})&&m.closePath(),m.stroke()}(m,l,s,c)}(s,this,f,_),s.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}return m.id="line",m.defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0},m.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"},m.descriptors={_scriptable:!0,_indexable:l=>"borderDash"!==l&&"fill"!==l},m})();function _n(m,l,s,c){const f=m.options,{[s]:_}=m.getProps([s],c);return Math.abs(l-_)<f.radius+f.hitRadius}let Tr=(()=>{class m extends Xr{constructor(s){super(),this.parsed=void 0,this.skip=void 0,this.stop=void 0,this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,s&&Object.assign(this,s)}inRange(s,c,f){const _=this.options,{x:I,y:A}=this.getProps(["x","y"],f);return Math.pow(s-I,2)+Math.pow(c-A,2)<Math.pow(_.hitRadius+_.radius,2)}inXRange(s,c){return _n(this,s,"x",c)}inYRange(s,c){return _n(this,s,"y",c)}getCenterPoint(s){const{x:c,y:f}=this.getProps(["x","y"],s);return{x:c,y:f}}size(s){let c=(s=s||this.options||{}).radius||0;return c=Math.max(c,c&&s.hoverRadius||0),2*(c+(c&&s.borderWidth||0))}draw(s,c){const f=this.options;this.skip||f.radius<.1||!(0,d.C)(this,c,this.size(f)/2)||(s.strokeStyle=f.borderColor,s.lineWidth=f.borderWidth,s.fillStyle=f.backgroundColor,(0,d.at)(s,f,this.x,this.y))}getRange(){const s=this.options||{};return s.radius+s.hitRadius}}return m.id="point",m.defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0},m.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"},m})();function Xn(m,l){const{x:s,y:c,base:f,width:_,height:I}=m.getProps(["x","y","base","width","height"],l);let A,k,Y,ue,Ce;return m.horizontal?(Ce=I/2,A=Math.min(s,f),k=Math.max(s,f),Y=c-Ce,ue=c+Ce):(Ce=_/2,A=s-Ce,k=s+Ce,Y=Math.min(c,f),ue=Math.max(c,f)),{left:A,top:Y,right:k,bottom:ue}}function hi(m,l,s,c){return m?0:(0,d.S)(l,s,c)}function Hs(m,l,s,c){const f=null===l,_=null===s,A=m&&!(f&&_)&&Xn(m,c);return A&&(f||(0,d.aj)(l,A.left,A.right))&&(_||(0,d.aj)(s,A.top,A.bottom))}function Ee(m,l){m.rect(l.x,l.y,l.w,l.h)}function le(m,l,s={}){const c=m.x!==s.x?-l:0,f=m.y!==s.y?-l:0;return{x:m.x+c,y:m.y+f,w:m.w+((m.x+m.w!==s.x+s.w?l:0)-c),h:m.h+((m.y+m.h!==s.y+s.h?l:0)-f),radius:m.radius}}class $ extends Xr{constructor(l){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,l&&Object.assign(this,l)}draw(l){const{inflateAmount:s,options:{borderColor:c,backgroundColor:f}}=this,{inner:_,outer:I}=function Ci(m){const l=Xn(m),s=l.right-l.left,c=l.bottom-l.top,f=function ni(m,l,s){const f=m.borderSkipped,_=(0,d.av)(m.options.borderWidth);return{t:hi(f.top,_.top,0,s),r:hi(f.right,_.right,0,l),b:hi(f.bottom,_.bottom,0,s),l:hi(f.left,_.left,0,l)}}(m,s/2,c/2),_=function Es(m,l,s){const{enableBorderRadius:c}=m.getProps(["enableBorderRadius"]),f=m.options.borderRadius,_=(0,d.aw)(f),I=Math.min(l,s),A=m.borderSkipped,k=c||(0,d.i)(f);return{topLeft:hi(!k||A.top||A.left,_.topLeft,0,I),topRight:hi(!k||A.top||A.right,_.topRight,0,I),bottomLeft:hi(!k||A.bottom||A.left,_.bottomLeft,0,I),bottomRight:hi(!k||A.bottom||A.right,_.bottomRight,0,I)}}(m,s/2,c/2);return{outer:{x:l.left,y:l.top,w:s,h:c,radius:_},inner:{x:l.left+f.l,y:l.top+f.t,w:s-f.l-f.r,h:c-f.t-f.b,radius:{topLeft:Math.max(0,_.topLeft-Math.max(f.t,f.l)),topRight:Math.max(0,_.topRight-Math.max(f.t,f.r)),bottomLeft:Math.max(0,_.bottomLeft-Math.max(f.b,f.l)),bottomRight:Math.max(0,_.bottomRight-Math.max(f.b,f.r))}}}}(this),A=function Do(m){return m.topLeft||m.topRight||m.bottomLeft||m.bottomRight}(I.radius)?d.au:Ee;l.save(),(I.w!==_.w||I.h!==_.h)&&(l.beginPath(),A(l,le(I,s,_)),l.clip(),A(l,le(_,-s,I)),l.fillStyle=c,l.fill("evenodd")),l.beginPath(),A(l,le(_,s)),l.fillStyle=f,l.fill(),l.restore()}inRange(l,s,c){return Hs(this,l,s,c)}inXRange(l,s){return Hs(this,l,null,s)}inYRange(l,s){return Hs(this,null,l,s)}getCenterPoint(l){const{x:s,y:c,base:f,horizontal:_}=this.getProps(["x","y","base","horizontal"],l);return{x:_?(s+f)/2:s,y:_?c:(c+f)/2}}getRange(l){return"x"===l?this.width/2:this.height/2}}$.id="bar",$.defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0},$.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};var F=Object.freeze({__proto__:null,ArcElement:Zo,BarElement:$,LineElement:Ge,PointElement:Tr});const S=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],L=S.map(m=>m.replace("rgb(","rgba(").replace(")",", 0.5)"));function ge(m){return S[m%S.length]}function ht(m){return L[m%L.length]}function ui(m){let l;for(l in m)if(m[l].borderColor||m[l].backgroundColor)return!0;return!1}var vi={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(m,l,s){if(!s.enabled)return;const{data:{datasets:c},options:f}=m.config,{elements:_}=f;if(!s.forceOverride&&(ui(c)||function gi(m){return m&&(m.borderColor||m.backgroundColor)}(f)||_&&ui(_)))return;const I=function ci(m){let l=0;return(s,c)=>{const f=m.getDatasetMeta(c).controller;f instanceof er?l=function dn(m,l){return m.backgroundColor=m.data.map(()=>ge(l++)),l}(s,l):f instanceof un?l=function Mn(m,l){return m.backgroundColor=m.data.map(()=>ht(l++)),l}(s,l):f&&(l=function Pt(m,l){return m.borderColor=ge(l),m.backgroundColor=ht(l),++l}(s,l))}}(m);c.forEach(I)}};function qs(m){if(m._decimated){const l=m._data;delete m._decimated,delete m._data,Object.defineProperty(m,"data",{configurable:!0,enumerable:!0,writable:!0,value:l})}}function xs(m){m.data.datasets.forEach(l=>{qs(l)})}var wi={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(m,l,s)=>{if(!s.enabled)return void xs(m);const c=m.width;m.data.datasets.forEach((f,_)=>{const{_data:I,indexAxis:A}=f,k=m.getDatasetMeta(_),Y=I||f.data;if("y"===(0,d.a)([A,m.options.indexAxis])||!k.controller.supportsDecimation)return;const ue=m.scales[k.xAxisID];if("linear"!==ue.type&&"time"!==ue.type||m.options.parsing)return;let Et,{start:Ce,count:je}=function Ws(m,l){const s=l.length;let f,c=0;const{iScale:_}=m,{min:I,max:A,minDefined:k,maxDefined:Y}=_.getUserBounds();return k&&(c=(0,d.S)((0,d.B)(l,_.axis,I).lo,0,s-1)),f=Y?(0,d.S)((0,d.B)(l,_.axis,A).hi+1,c,s)-c:s-c,{start:c,count:f}}(k,Y);if(je<=(s.threshold||4*c))qs(f);else{switch((0,d.k)(I)&&(f._data=Y,delete f.data,Object.defineProperty(f,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(At){this._data=At}})),s.algorithm){case"lttb":Et=function mi(m,l,s,c,f){const _=f.samples||c;if(_>=s)return m.slice(l,l+s);const I=[],A=(s-2)/(_-2);let k=0;const Y=l+s-1;let Ce,je,Qe,Et,At,ue=l;for(I[k++]=m[ue],Ce=0;Ce<_-2;Ce++){let wn,Xt=0,In=0;const tr=Math.floor((Ce+1)*A)+1+l,Qn=Math.min(Math.floor((Ce+2)*A)+1,s)+l,Kn=Qn-tr;for(wn=tr;wn<Qn;wn++)Xt+=m[wn].x,In+=m[wn].y;Xt/=Kn,In/=Kn;const or=Math.floor(Ce*A)+1+l,dr=Math.min(Math.floor((Ce+1)*A)+1,s)+l,{x:vr,y:fi}=m[ue];for(Qe=Et=-1,wn=or;wn<dr;wn++)Et=.5*Math.abs((vr-Xt)*(m[wn].y-fi)-(vr-m[wn].x)*(In-fi)),Et>Qe&&(Qe=Et,je=m[wn],At=wn);I[k++]=je,ue=At}return I[k++]=m[Y],I}(Y,Ce,je,c,s);break;case"min-max":Et=function Zi(m,l,s,c){let I,A,k,Y,ue,Ce,je,Qe,Et,At,f=0,_=0;const Xt=[],wn=m[l].x,Qn=m[l+s-1].x-wn;for(I=l;I<l+s;++I){A=m[I],k=(A.x-wn)/Qn*c,Y=A.y;const Kn=0|k;if(Kn===ue)Y<Et?(Et=Y,Ce=I):Y>At&&(At=Y,je=I),f=(_*f+A.x)/++_;else{const or=I-1;if(!(0,d.k)(Ce)&&!(0,d.k)(je)){const dr=Math.min(Ce,je),vr=Math.max(Ce,je);dr!==Qe&&dr!==or&&Xt.push({...m[dr],x:f}),vr!==Qe&&vr!==or&&Xt.push({...m[vr],x:f})}I>0&&or!==Qe&&Xt.push(m[or]),Xt.push(A),ue=Kn,_=0,Et=At=Y,Ce=je=Qe=I}}return Xt}(Y,Ce,je,c);break;default:throw new Error(`Unsupported decimation algorithm '${s.algorithm}'`)}f._decimated=Et}})},destroy(m){xs(m)}};function no(m,l,s,c){if(c)return;let f=l[m],_=s[m];return"angle"===m&&(f=(0,d.ay)(f),_=(0,d.ay)(_)),{property:m,start:f,end:_}}function So(m,l,s){for(;l>m;l--){const c=s[l];if(!isNaN(c.x)&&!isNaN(c.y))break}return l}function sa(m,l,s,c){return m&&l?c(m[s],l[s]):m?m[s]:l?l[s]:0}function Jo(m,l){let s=[],c=!1;return(0,d.b)(m)?(c=!0,s=m):s=function zo(m,l){const{x:s=null,y:c=null}=m||{},f=l.points,_=[];return l.segments.forEach(({start:I,end:A})=>{A=So(I,A,f);const k=f[I],Y=f[A];null!==c?(_.push({x:k.x,y:c}),_.push({x:Y.x,y:c})):null!==s&&(_.push({x:s,y:k.y}),_.push({x:s,y:Y.y}))}),_}(m,l),s.length?new Ge({points:s,options:{tension:0},_loop:c,_fullLoop:c}):null}function Da(m){return m&&!1!==m.fill}function Sa(m,l,s){let f=m[l].fill;const _=[l];let I;if(!s)return f;for(;!1!==f&&-1===_.indexOf(f);){if(!(0,d.g)(f))return f;if(I=m[f],!I)return!1;if(I.visible)return f;_.push(f),f=I.fill}return!1}function na(m,l,s){const c=function oa(m){const l=m.options,s=l.fill;let c=(0,d.v)(s&&s.target,s);return void 0===c&&(c=!!l.backgroundColor),!1!==c&&null!==c&&(!0===c?"origin":c)}(m);if((0,d.i)(c))return!isNaN(c.value)&&c;let f=parseFloat(c);return(0,d.g)(f)&&Math.floor(f)===f?function Na(m,l,s,c){return("-"===m||"+"===m)&&(s=l+s),!(s===l||s<0||s>=c)&&s}(c[0],l,f,s):["origin","start","end","stack","shape"].indexOf(c)>=0&&c}function M(m,l,s){const c=[];for(let f=0;f<s.length;f++){const _=s[f],{first:I,last:A,point:k}=Z(_,l,"x");if(!(!k||I&&A))if(I)c.unshift(k);else if(m.push(k),!A)break}m.push(...c)}function Z(m,l,s){const c=m.interpolate(l,s);if(!c)return{};const f=c[s],_=m.segments,I=m.points;let A=!1,k=!1;for(let Y=0;Y<_.length;Y++){const ue=_[Y],Ce=I[ue.start][s],je=I[ue.end][s];if((0,d.aj)(f,Ce,je)){A=f===Ce,k=f===je;break}}return{first:A,last:k,point:c}}class oe{constructor(l){this.x=l.x,this.y=l.y,this.radius=l.radius}pathSegment(l,s,c){const{x:f,y:_,radius:I}=this;return l.arc(f,_,I,(s=s||{start:0,end:d.T}).end,s.start,!0),!c.bounds}interpolate(l){const{x:s,y:c,radius:f}=this,_=l.angle;return{x:s+Math.cos(_)*f,y:c+Math.sin(_)*f,angle:_}}}function rn(m,l,s){const c=function De(m){const{chart:l,fill:s,line:c}=m;if((0,d.g)(s))return function Be(m,l){const s=m.getDatasetMeta(l);return s&&m.isDatasetVisible(l)?s.dataset:null}(l,s);if("stack"===s)return function Oo(m){const{scale:l,index:s,line:c}=m,f=[],_=c.segments,I=c.points,A=function Ta(m,l){const s=[],c=m.getMatchingVisibleMetas("line");for(let f=0;f<c.length;f++){const _=c[f];if(_.index===l)break;_.hidden||s.unshift(_.dataset)}return s}(l,s);A.push(Jo({x:null,y:l.bottom},c));for(let k=0;k<_.length;k++){const Y=_[k];for(let ue=Y.start;ue<=Y.end;ue++)M(f,I[ue],A)}return new Ge({points:f,options:{}})}(m);if("shape"===s)return!0;const f=function at(m){return(m.scale||{}).getPointPositionForValue?function Wt(m){const{scale:l,fill:s}=m,c=l.options,f=l.getLabels().length,_=c.reverse?l.max:l.min,I=function To(m,l,s){let c;return c="start"===m?s:"end"===m?l.options.reverse?l.min:l.max:(0,d.i)(m)?m.value:l.getBaseValue(),c}(s,l,_),A=[];if(c.grid.circular){const k=l.getPointPositionForValue(0,_);return new oe({x:k.x,y:k.y,radius:l.getDistanceFromCenterForValue(I)})}for(let k=0;k<f;++k)A.push(l.getPointPositionForValue(k,I));return A}(m):function Tt(m){const{scale:l={},fill:s}=m,c=function Vs(m,l){let s=null;return"start"===m?s=l.bottom:"end"===m?s=l.top:(0,d.i)(m)?s=l.getPixelForValue(m.value):l.getBasePixel&&(s=l.getBasePixel()),s}(s,l);if((0,d.g)(c)){const f=l.isHorizontal();return{x:f?c:null,y:f?null:c}}return null}(m)}(m);return f instanceof oe?f:Jo(f,c)}(l),{line:f,scale:_,axis:I}=l,A=f.options,k=A.fill,Y=A.backgroundColor,{above:ue=Y,below:Ce=Y}=k||{};c&&f.points.length&&((0,d.Y)(m,s),function Fn(m,l){const{line:s,target:c,above:f,below:_,area:I,scale:A}=l,k=s._loop?"angle":l.axis;m.save(),"x"===k&&_!==f&&(sr(m,c,I.top),ri(m,{line:s,target:c,color:f,scale:A,property:k}),m.restore(),m.save(),sr(m,c,I.bottom)),ri(m,{line:s,target:c,color:_,scale:A,property:k}),m.restore()}(m,{line:f,target:c,above:ue,below:Ce,area:s,scale:_,axis:I}),(0,d.$)(m))}function sr(m,l,s){const{segments:c,points:f}=l;let _=!0,I=!1;m.beginPath();for(const A of c){const{start:k,end:Y}=A,ue=f[k],Ce=f[So(k,Y,f)];_?(m.moveTo(ue.x,ue.y),_=!1):(m.lineTo(ue.x,s),m.lineTo(ue.x,ue.y)),I=!!l.pathSegment(m,A,{move:I}),I?m.closePath():m.lineTo(Ce.x,s)}m.lineTo(l.first().x,s),m.closePath(),m.clip()}function ri(m,l){const{line:s,target:c,property:f,color:_,scale:I}=l,A=function Cs(m,l,s){const c=m.segments,f=m.points,_=l.points,I=[];for(const A of c){let{start:k,end:Y}=A;Y=So(k,Y,f);const ue=no(s,f[k],f[Y],A.loop);if(!l.segments){I.push({source:A,target:ue,start:f[k],end:f[Y]});continue}const Ce=(0,d.an)(l,ue);for(const je of Ce){const Qe=no(s,_[je.start],_[je.end],je.loop),Et=(0,d.ax)(A,f,Qe);for(const At of Et)I.push({source:At,target:je,start:{[s]:sa(ue,Qe,"start",Math.max)},end:{[s]:sa(ue,Qe,"end",Math.min)}})}}return I}(s,c,f);for(const{source:k,target:Y,start:ue,end:Ce}of A){const{style:{backgroundColor:je=_}={}}=k,Qe=!0!==c;m.save(),m.fillStyle=je,Hr(m,I,Qe&&no(f,ue,Ce)),m.beginPath();const Et=!!s.pathSegment(m,k);let At;if(Qe){Et?m.closePath():Ms(m,c,Ce,f);const Xt=!!c.pathSegment(m,Y,{move:Et,reverse:!0});At=Et&&Xt,At||Ms(m,c,ue,f)}m.closePath(),m.fill(At?"evenodd":"nonzero"),m.restore()}}function Hr(m,l,s){const{top:c,bottom:f}=l.chart.chartArea,{property:_,start:I,end:A}=s||{};"x"===_&&(m.beginPath(),m.rect(I,c,A-I,f-c),m.clip())}function Ms(m,l,s,c){const f=l.interpolate(s,c);f&&m.lineTo(f.x,f.y)}var Gs={id:"filler",afterDatasetsUpdate(m,l,s){const c=(m.data.datasets||[]).length,f=[];let _,I,A,k;for(I=0;I<c;++I)_=m.getDatasetMeta(I),A=_.dataset,k=null,A&&A.options&&A instanceof Ge&&(k={visible:m.isDatasetVisible(I),index:I,fill:na(A,I,c),chart:m,axis:_.controller.options.indexAxis,scale:_.vScale,line:A}),_.$filler=k,f.push(k);for(I=0;I<c;++I)k=f[I],k&&!1!==k.fill&&(k.fill=Sa(f,I,s.propagate))},beforeDraw(m,l,s){const c="beforeDraw"===s.drawTime,f=m.getSortedVisibleDatasetMetas(),_=m.chartArea;for(let I=f.length-1;I>=0;--I){const A=f[I].$filler;A&&(A.line.updateControlPoints(_,A.axis),c&&A.fill&&rn(m.ctx,A,_))}},beforeDatasetsDraw(m,l,s){if("beforeDatasetsDraw"!==s.drawTime)return;const c=m.getSortedVisibleDatasetMetas();for(let f=c.length-1;f>=0;--f){const _=c[f].$filler;Da(_)&&rn(m.ctx,_,m.chartArea)}},beforeDatasetDraw(m,l,s){const c=l.meta.$filler;!Da(c)||"beforeDatasetDraw"!==s.drawTime||rn(m.ctx,c,m.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const K=(m,l)=>{let{boxHeight:s=l,boxWidth:c=l}=m;return m.usePointStyle&&(s=Math.min(s,l),c=m.pointStyleWidth||Math.min(c,l)),{boxWidth:c,boxHeight:s,itemHeight:Math.max(l,s)}};class Q extends Xr{constructor(l){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=l.chart,this.options=l.options,this.ctx=l.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(l,s,c){this.maxWidth=l,this.maxHeight=s,this._margins=c,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const l=this.options.labels||{};let s=(0,d.Q)(l.generateLabels,[this.chart],this)||[];l.filter&&(s=s.filter(c=>l.filter(c,this.chart.data))),l.sort&&(s=s.sort((c,f)=>l.sort(c,f,this.chart.data))),this.options.reverse&&s.reverse(),this.legendItems=s}fit(){const{options:l,ctx:s}=this;if(!l.display)return void(this.width=this.height=0);const c=l.labels,f=(0,d.a0)(c.font),_=f.size,I=this._computeTitleHeight(),{boxWidth:A,itemHeight:k}=K(c,_);let Y,ue;s.font=f.string,this.isHorizontal()?(Y=this.maxWidth,ue=this._fitRows(I,_,A,k)+10):(ue=this.maxHeight,Y=this._fitCols(I,f,A,k)+10),this.width=Math.min(Y,l.maxWidth||this.maxWidth),this.height=Math.min(ue,l.maxHeight||this.maxHeight)}_fitRows(l,s,c,f){const{ctx:_,maxWidth:I,options:{labels:{padding:A}}}=this,k=this.legendHitBoxes=[],Y=this.lineWidths=[0],ue=f+A;let Ce=l;_.textAlign="left",_.textBaseline="middle";let je=-1,Qe=-ue;return this.legendItems.forEach((Et,At)=>{const Xt=c+s/2+_.measureText(Et.text).width;(0===At||Y[Y.length-1]+Xt+2*A>I)&&(Ce+=ue,Y[Y.length-(At>0?0:1)]=0,Qe+=ue,je++),k[At]={left:0,top:Qe,row:je,width:Xt,height:f},Y[Y.length-1]+=Xt+A}),Ce}_fitCols(l,s,c,f){const{ctx:_,maxHeight:I,options:{labels:{padding:A}}}=this,k=this.legendHitBoxes=[],Y=this.columnSizes=[],ue=I-l;let Ce=A,je=0,Qe=0,Et=0,At=0;return this.legendItems.forEach((Xt,In)=>{const{itemWidth:wn,itemHeight:tr}=function Pe(m,l,s,c,f){const _=function _t(m,l,s,c){let f=m.text;return f&&"string"!=typeof f&&(f=f.reduce((_,I)=>_.length>I.length?_:I)),l+s.size/2+c.measureText(f).width}(c,m,l,s),I=function mn(m,l,s){let c=m;return"string"!=typeof l.text&&(c=Pn(l,s)),c}(f,c,l.lineHeight);return{itemWidth:_,itemHeight:I}}(c,s,_,Xt,f);In>0&&Qe+tr+2*A>ue&&(Ce+=je+A,Y.push({width:je,height:Qe}),Et+=je+A,At++,je=Qe=0),k[In]={left:Et,top:Qe,col:At,width:wn,height:tr},je=Math.max(je,wn),Qe+=tr+A}),Ce+=je,Y.push({width:je,height:Qe}),Ce}adjustHitBoxes(){if(!this.options.display)return;const l=this._computeTitleHeight(),{legendHitBoxes:s,options:{align:c,labels:{padding:f},rtl:_}}=this,I=(0,d.az)(_,this.left,this.width);if(this.isHorizontal()){let A=0,k=(0,d.a2)(c,this.left+f,this.right-this.lineWidths[A]);for(const Y of s)A!==Y.row&&(A=Y.row,k=(0,d.a2)(c,this.left+f,this.right-this.lineWidths[A])),Y.top+=this.top+l+f,Y.left=I.leftForLtr(I.x(k),Y.width),k+=Y.width+f}else{let A=0,k=(0,d.a2)(c,this.top+l+f,this.bottom-this.columnSizes[A].height);for(const Y of s)Y.col!==A&&(A=Y.col,k=(0,d.a2)(c,this.top+l+f,this.bottom-this.columnSizes[A].height)),Y.top=k,Y.left+=this.left+f,Y.left=I.leftForLtr(I.x(Y.left),Y.width),k+=Y.height+f}}isHorizontal(){return"top"===this.options.position||"bottom"===this.options.position}draw(){if(this.options.display){const l=this.ctx;(0,d.Y)(l,this),this._draw(),(0,d.$)(l)}}_draw(){const{options:l,columnSizes:s,lineWidths:c,ctx:f}=this,{align:_,labels:I}=l,A=d.d.color,k=(0,d.az)(l.rtl,this.left,this.width),Y=(0,d.a0)(I.font),{padding:ue}=I,Ce=Y.size,je=Ce/2;let Qe;this.drawTitle(),f.textAlign=k.textAlign("left"),f.textBaseline="middle",f.lineWidth=.5,f.font=Y.string;const{boxWidth:Et,boxHeight:At,itemHeight:Xt}=K(I,Ce),tr=this.isHorizontal(),Qn=this._computeTitleHeight();Qe=tr?{x:(0,d.a2)(_,this.left+ue,this.right-c[0]),y:this.top+ue+Qn,line:0}:{x:this.left+ue,y:(0,d.a2)(_,this.top+Qn+ue,this.bottom-s[0].height),line:0},(0,d.aA)(this.ctx,l.textDirection);const Kn=Xt+ue;this.legendItems.forEach((or,dr)=>{f.strokeStyle=or.fontColor,f.fillStyle=or.fontColor;const vr=f.measureText(or.text).width,fi=k.textAlign(or.textAlign||(or.textAlign=I.textAlign)),Oi=Et+je+vr;let Vr=Qe.x,ms=Qe.y;k.setWidth(this.width),tr?dr>0&&Vr+Oi+ue>this.right&&(ms=Qe.y+=Kn,Qe.line++,Vr=Qe.x=(0,d.a2)(_,this.left+ue,this.right-c[Qe.line])):dr>0&&ms+Kn>this.bottom&&(Vr=Qe.x=Vr+s[Qe.line].width+ue,Qe.line++,ms=Qe.y=(0,d.a2)(_,this.top+Qn+ue,this.bottom-s[Qe.line].height)),function(or,dr,vr){if(isNaN(Et)||Et<=0||isNaN(At)||At<0)return;f.save();const fi=(0,d.v)(vr.lineWidth,1);if(f.fillStyle=(0,d.v)(vr.fillStyle,A),f.lineCap=(0,d.v)(vr.lineCap,"butt"),f.lineDashOffset=(0,d.v)(vr.lineDashOffset,0),f.lineJoin=(0,d.v)(vr.lineJoin,"miter"),f.lineWidth=fi,f.strokeStyle=(0,d.v)(vr.strokeStyle,A),f.setLineDash((0,d.v)(vr.lineDash,[])),I.usePointStyle){const Oi={radius:At*Math.SQRT2/2,pointStyle:vr.pointStyle,rotation:vr.rotation,borderWidth:fi},Vr=k.xPlus(or,Et/2);(0,d.aD)(f,Oi,Vr,dr+je,I.pointStyleWidth&&Et)}else{const Oi=dr+Math.max((Ce-At)/2,0),Vr=k.leftForLtr(or,Et),ms=(0,d.aw)(vr.borderRadius);f.beginPath(),Object.values(ms).some(Rs=>0!==Rs)?(0,d.au)(f,{x:Vr,y:Oi,w:Et,h:At,radius:ms}):f.rect(Vr,Oi,Et,At),f.fill(),0!==fi&&f.stroke()}f.restore()}(k.x(Vr),ms,or),Vr=(0,d.aB)(fi,Vr+Et+je,tr?Vr+Oi:this.right,l.rtl),function(or,dr,vr){(0,d.Z)(f,vr.text,or,dr+Xt/2,Y,{strikethrough:vr.hidden,textAlign:k.textAlign(vr.textAlign)})}(k.x(Vr),ms,or),tr?Qe.x+=Oi+ue:Qe.y+="string"!=typeof or.text?Pn(or,Y.lineHeight)+ue:Kn}),(0,d.aC)(this.ctx,l.textDirection)}drawTitle(){const l=this.options,s=l.title,c=(0,d.a0)(s.font),f=(0,d.E)(s.padding);if(!s.display)return;const _=(0,d.az)(l.rtl,this.left,this.width),I=this.ctx,A=s.position,Y=f.top+c.size/2;let ue,Ce=this.left,je=this.width;if(this.isHorizontal())je=Math.max(...this.lineWidths),ue=this.top+Y,Ce=(0,d.a2)(l.align,Ce,this.right-je);else{const Et=this.columnSizes.reduce((At,Xt)=>Math.max(At,Xt.height),0);ue=Y+(0,d.a2)(l.align,this.top,this.bottom-Et-l.labels.padding-this._computeTitleHeight())}const Qe=(0,d.a2)(A,Ce,Ce+je);I.textAlign=_.textAlign((0,d.a1)(A)),I.textBaseline="middle",I.strokeStyle=s.color,I.fillStyle=s.color,I.font=c.string,(0,d.Z)(I,s.text,Qe,ue,c)}_computeTitleHeight(){const l=this.options.title,s=(0,d.a0)(l.font),c=(0,d.E)(l.padding);return l.display?s.lineHeight+c.height:0}_getLegendItemAt(l,s){let c,f,_;if((0,d.aj)(l,this.left,this.right)&&(0,d.aj)(s,this.top,this.bottom))for(_=this.legendHitBoxes,c=0;c<_.length;++c)if(f=_[c],(0,d.aj)(l,f.left,f.left+f.width)&&(0,d.aj)(s,f.top,f.top+f.height))return this.legendItems[c];return null}handleEvent(l){const s=this.options;if(!function ii(m,l){return!(("mousemove"!==m&&"mouseout"!==m||!l.onHover&&!l.onLeave)&&(!l.onClick||"click"!==m&&"mouseup"!==m))}(l.type,s))return;const c=this._getLegendItemAt(l.x,l.y);if("mousemove"===l.type||"mouseout"===l.type){const f=this._hoveredItem,_=((m,l)=>null!==m&&null!==l&&m.datasetIndex===l.datasetIndex&&m.index===l.index)(f,c);f&&!_&&(0,d.Q)(s.onLeave,[l,f,this],this),this._hoveredItem=c,c&&!_&&(0,d.Q)(s.onHover,[l,c,this],this)}else c&&(0,d.Q)(s.onClick,[l,c,this],this)}}function Pn(m,l){return l*(m.text?m.text.length:0)}var hr={id:"legend",_element:Q,start(m,l,s){const c=m.legend=new Q({ctx:m.ctx,options:s,chart:m});gt.configure(m,c,s),gt.addBox(m,c)},stop(m){gt.removeBox(m,m.legend),delete m.legend},beforeUpdate(m,l,s){const c=m.legend;gt.configure(m,c,s),c.options=s},afterUpdate(m){const l=m.legend;l.buildLabels(),l.adjustHitBoxes()},afterEvent(m,l){l.replay||m.legend.handleEvent(l.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(m,l,s){const c=l.datasetIndex,f=s.chart;f.isDatasetVisible(c)?(f.hide(c),l.hidden=!0):(f.show(c),l.hidden=!1)},onHover:null,onLeave:null,labels:{color:m=>m.chart.options.color,boxWidth:40,padding:10,generateLabels(m){const l=m.data.datasets,{labels:{usePointStyle:s,pointStyle:c,textAlign:f,color:_,useBorderRadius:I,borderRadius:A}}=m.legend.options;return m._getSortedDatasetMetas().map(k=>{const Y=k.controller.getStyle(s?0:void 0),ue=(0,d.E)(Y.borderWidth);return{text:l[k.index].label,fillStyle:Y.backgroundColor,fontColor:_,hidden:!k.visible,lineCap:Y.borderCapStyle,lineDash:Y.borderDash,lineDashOffset:Y.borderDashOffset,lineJoin:Y.borderJoinStyle,lineWidth:(ue.width+ue.height)/4,strokeStyle:Y.borderColor,pointStyle:c||Y.pointStyle,rotation:Y.rotation,textAlign:f||Y.textAlign,borderRadius:I&&(A||Y.borderRadius),datasetIndex:k.index}},this)}},title:{color:m=>m.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:m=>!m.startsWith("on"),labels:{_scriptable:m=>!["generateLabels","filter","sort"].includes(m)}}};class Hi extends Xr{constructor(l){super(),this.chart=l.chart,this.options=l.options,this.ctx=l.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(l,s){const c=this.options;if(this.left=0,this.top=0,!c.display)return void(this.width=this.height=this.right=this.bottom=0);this.width=this.right=l,this.height=this.bottom=s;const f=(0,d.b)(c.text)?c.text.length:1;this._padding=(0,d.E)(c.padding);const _=f*(0,d.a0)(c.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=_:this.width=_}isHorizontal(){const l=this.options.position;return"top"===l||"bottom"===l}_drawArgs(l){const{top:s,left:c,bottom:f,right:_,options:I}=this,A=I.align;let Y,ue,Ce,k=0;return this.isHorizontal()?(ue=(0,d.a2)(A,c,_),Ce=s+l,Y=_-c):("left"===I.position?(ue=c+l,Ce=(0,d.a2)(A,f,s),k=-.5*d.P):(ue=_-l,Ce=(0,d.a2)(A,s,f),k=.5*d.P),Y=f-s),{titleX:ue,titleY:Ce,maxWidth:Y,rotation:k}}draw(){const l=this.ctx,s=this.options;if(!s.display)return;const c=(0,d.a0)(s.font),_=c.lineHeight/2+this._padding.top,{titleX:I,titleY:A,maxWidth:k,rotation:Y}=this._drawArgs(_);(0,d.Z)(l,s.text,0,0,c,{color:s.color,maxWidth:k,rotation:Y,textAlign:(0,d.a1)(s.align),textBaseline:"middle",translation:[I,A]})}}var Li={id:"title",_element:Hi,start(m,l,s){!function ei(m,l){const s=new Hi({ctx:m.ctx,options:l,chart:m});gt.configure(m,s,l),gt.addBox(m,s),m.titleBlock=s}(m,s)},stop(m){gt.removeBox(m,m.titleBlock),delete m.titleBlock},beforeUpdate(m,l,s){const c=m.titleBlock;gt.configure(m,c,s),c.options=s},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const ds=new WeakMap;var Ps={id:"subtitle",start(m,l,s){const c=new Hi({ctx:m.ctx,options:s,chart:m});gt.configure(m,c,s),gt.addBox(m,c),ds.set(m,c)},stop(m){gt.removeBox(m,ds.get(m)),ds.delete(m)},beforeUpdate(m,l,s){const c=ds.get(m);gt.configure(m,c,s),c.options=s},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const lo={average(m){if(!m.length)return!1;let l,s,c=0,f=0,_=0;for(l=0,s=m.length;l<s;++l){const I=m[l].element;if(I&&I.hasValue()){const A=I.tooltipPosition();c+=A.x,f+=A.y,++_}}return{x:c/_,y:f/_}},nearest(m,l){if(!m.length)return!1;let _,I,A,s=l.x,c=l.y,f=Number.POSITIVE_INFINITY;for(_=0,I=m.length;_<I;++_){const k=m[_].element;if(k&&k.hasValue()){const Y=k.getCenterPoint(),ue=(0,d.aE)(l,Y);ue<f&&(f=ue,A=k)}}if(A){const k=A.tooltipPosition();s=k.x,c=k.y}return{x:s,y:c}}};function Hn(m,l){return l&&((0,d.b)(l)?Array.prototype.push.apply(m,l):m.push(l)),m}function Bi(m){return("string"==typeof m||m instanceof String)&&m.indexOf("\n")>-1?m.split("\n"):m}function Ho(m,l){const{element:s,datasetIndex:c,index:f}=l,_=m.getDatasetMeta(c).controller,{label:I,value:A}=_.getLabelAndValue(f);return{chart:m,label:I,parsed:_.getParsed(f),raw:m.data.datasets[c].data[f],formattedValue:A,dataset:_.getDataset(),dataIndex:f,datasetIndex:c,element:s}}function ea(m,l){const s=m.chart.ctx,{body:c,footer:f,title:_}=m,{boxWidth:I,boxHeight:A}=l,k=(0,d.a0)(l.bodyFont),Y=(0,d.a0)(l.titleFont),ue=(0,d.a0)(l.footerFont),Ce=_.length,je=f.length,Qe=c.length,Et=(0,d.E)(l.padding);let At=Et.height,Xt=0,In=c.reduce((Qn,Kn)=>Qn+Kn.before.length+Kn.lines.length+Kn.after.length,0);In+=m.beforeBody.length+m.afterBody.length,Ce&&(At+=Ce*Y.lineHeight+(Ce-1)*l.titleSpacing+l.titleMarginBottom),In&&(At+=Qe*(l.displayColors?Math.max(A,k.lineHeight):k.lineHeight)+(In-Qe)*k.lineHeight+(In-1)*l.bodySpacing),je&&(At+=l.footerMarginTop+je*ue.lineHeight+(je-1)*l.footerSpacing);let wn=0;const tr=function(Qn){Xt=Math.max(Xt,s.measureText(Qn).width+wn)};return s.save(),s.font=Y.string,(0,d.F)(m.title,tr),s.font=k.string,(0,d.F)(m.beforeBody.concat(m.afterBody),tr),wn=l.displayColors?I+2+l.boxPadding:0,(0,d.F)(c,Qn=>{(0,d.F)(Qn.before,tr),(0,d.F)(Qn.lines,tr),(0,d.F)(Qn.after,tr)}),wn=0,s.font=ue.string,(0,d.F)(m.footer,tr),s.restore(),Xt+=Et.width,{width:Xt,height:At}}function Gn(m,l,s,c){const{x:f,width:_}=s,{width:I,chartArea:{left:A,right:k}}=m;let Y="center";return"center"===c?Y=f<=(A+k)/2?"left":"right":f<=_/2?Y="left":f>=I-_/2&&(Y="right"),function si(m,l,s,c){const{x:f,width:_}=c,I=s.caretSize+s.caretPadding;if("left"===m&&f+_+I>l.width||"right"===m&&f-_-I<0)return!0}(Y,m,l,s)&&(Y="center"),Y}function Bn(m,l,s){const c=s.yAlign||l.yAlign||function Rr(m,l){const{y:s,height:c}=l;return s<c/2?"top":s>m.height-c/2?"bottom":"center"}(m,s);return{xAlign:s.xAlign||l.xAlign||Gn(m,l,s,c),yAlign:c}}function Ds(m,l,s,c){const{caretSize:f,caretPadding:_,cornerRadius:I}=m,{xAlign:A,yAlign:k}=s,Y=f+_,{topLeft:ue,topRight:Ce,bottomLeft:je,bottomRight:Qe}=(0,d.aw)(I);let Et=function Dn(m,l){let{x:s,width:c}=m;return"right"===l?s-=c:"center"===l&&(s-=c/2),s}(l,A);const At=function Zn(m,l,s){let{y:c,height:f}=m;return"top"===l?c+=s:c-="bottom"===l?f+s:f/2,c}(l,k,Y);return"center"===k?"left"===A?Et+=Y:"right"===A&&(Et-=Y):"left"===A?Et-=Math.max(ue,je)+f:"right"===A&&(Et+=Math.max(Ce,Qe)+f),{x:(0,d.S)(Et,0,c.width-l.width),y:(0,d.S)(At,0,c.height-l.height)}}function aa(m,l,s){const c=(0,d.E)(s.padding);return"center"===l?m.x+m.width/2:"right"===l?m.x+m.width-c.right:m.x+c.left}function Fa(m){return Hn([],Bi(m))}function Ja(m,l){const s=l&&l.dataset&&l.dataset.tooltip&&l.dataset.tooltip.callbacks;return s?m.override(s):m}const al={beforeTitle:d.aF,title(m){if(m.length>0){const l=m[0],s=l.chart.data.labels,c=s?s.length:0;if(this&&this.options&&"dataset"===this.options.mode)return l.dataset.label||"";if(l.label)return l.label;if(c>0&&l.dataIndex<c)return s[l.dataIndex]}return""},afterTitle:d.aF,beforeBody:d.aF,beforeLabel:d.aF,label(m){if(this&&this.options&&"dataset"===this.options.mode)return m.label+": "+m.formattedValue||m.formattedValue;let l=m.dataset.label||"";l&&(l+=": ");const s=m.formattedValue;return(0,d.k)(s)||(l+=s),l},labelColor(m){const s=m.chart.getDatasetMeta(m.datasetIndex).controller.getStyle(m.dataIndex);return{borderColor:s.borderColor,backgroundColor:s.backgroundColor,borderWidth:s.borderWidth,borderDash:s.borderDash,borderDashOffset:s.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(m){const s=m.chart.getDatasetMeta(m.datasetIndex).controller.getStyle(m.dataIndex);return{pointStyle:s.pointStyle,rotation:s.rotation}},afterLabel:d.aF,afterBody:d.aF,beforeFooter:d.aF,footer:d.aF,afterFooter:d.aF};function ta(m,l,s,c){const f=m[l].call(s,c);return typeof f>"u"?al[l].call(s,c):f}let La=(()=>{class m extends Xr{constructor(s){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=s.chart,this.options=s.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(s){this.options=s,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const s=this._cachedAnimations;if(s)return s;const c=this.chart,f=this.options.setContext(this.getContext()),_=f.enabled&&c.options.animation&&f.animations,I=new Se(this.chart,_);return _._cacheable&&(this._cachedAnimations=Object.freeze(I)),I}getContext(){return this.$context||(this.$context=function _a(m,l,s){return(0,d.j)(m,{tooltip:l,tooltipItems:s,type:"tooltip"})}(this.chart.getContext(),this,this._tooltipItems))}getTitle(s,c){const{callbacks:f}=c,_=ta(f,"beforeTitle",this,s),I=ta(f,"title",this,s),A=ta(f,"afterTitle",this,s);let k=[];return k=Hn(k,Bi(_)),k=Hn(k,Bi(I)),k=Hn(k,Bi(A)),k}getBeforeBody(s,c){return Fa(ta(c.callbacks,"beforeBody",this,s))}getBody(s,c){const{callbacks:f}=c,_=[];return(0,d.F)(s,I=>{const A={before:[],lines:[],after:[]},k=Ja(f,I);Hn(A.before,Bi(ta(k,"beforeLabel",this,I))),Hn(A.lines,ta(k,"label",this,I)),Hn(A.after,Bi(ta(k,"afterLabel",this,I))),_.push(A)}),_}getAfterBody(s,c){return Fa(ta(c.callbacks,"afterBody",this,s))}getFooter(s,c){const{callbacks:f}=c,_=ta(f,"beforeFooter",this,s),I=ta(f,"footer",this,s),A=ta(f,"afterFooter",this,s);let k=[];return k=Hn(k,Bi(_)),k=Hn(k,Bi(I)),k=Hn(k,Bi(A)),k}_createItems(s){const c=this._active,f=this.chart.data,_=[],I=[],A=[];let Y,ue,k=[];for(Y=0,ue=c.length;Y<ue;++Y)k.push(Ho(this.chart,c[Y]));return s.filter&&(k=k.filter((Ce,je,Qe)=>s.filter(Ce,je,Qe,f))),s.itemSort&&(k=k.sort((Ce,je)=>s.itemSort(Ce,je,f))),(0,d.F)(k,Ce=>{const je=Ja(s.callbacks,Ce);_.push(ta(je,"labelColor",this,Ce)),I.push(ta(je,"labelPointStyle",this,Ce)),A.push(ta(je,"labelTextColor",this,Ce))}),this.labelColors=_,this.labelPointStyles=I,this.labelTextColors=A,this.dataPoints=k,k}update(s,c){const f=this.options.setContext(this.getContext()),_=this._active;let I,A=[];if(_.length){const k=lo[f.position].call(this,_,this._eventPosition);A=this._createItems(f),this.title=this.getTitle(A,f),this.beforeBody=this.getBeforeBody(A,f),this.body=this.getBody(A,f),this.afterBody=this.getAfterBody(A,f),this.footer=this.getFooter(A,f);const Y=this._size=ea(this,f),ue=Object.assign({},k,Y),Ce=Bn(this.chart,f,ue),je=Ds(f,ue,Ce,this.chart);this.xAlign=Ce.xAlign,this.yAlign=Ce.yAlign,I={opacity:1,x:je.x,y:je.y,width:Y.width,height:Y.height,caretX:k.x,caretY:k.y}}else 0!==this.opacity&&(I={opacity:0});this._tooltipItems=A,this.$context=void 0,I&&this._resolveAnimations().update(this,I),s&&f.external&&f.external.call(this,{chart:this.chart,tooltip:this,replay:c})}drawCaret(s,c,f,_){const I=this.getCaretPosition(s,f,_);c.lineTo(I.x1,I.y1),c.lineTo(I.x2,I.y2),c.lineTo(I.x3,I.y3)}getCaretPosition(s,c,f){const{xAlign:_,yAlign:I}=this,{caretSize:A,cornerRadius:k}=f,{topLeft:Y,topRight:ue,bottomLeft:Ce,bottomRight:je}=(0,d.aw)(k),{x:Qe,y:Et}=s,{width:At,height:Xt}=c;let In,wn,tr,Qn,Kn,or;return"center"===I?(Kn=Et+Xt/2,"left"===_?(In=Qe,wn=In-A,Qn=Kn+A,or=Kn-A):(In=Qe+At,wn=In+A,Qn=Kn-A,or=Kn+A),tr=In):(wn="left"===_?Qe+Math.max(Y,Ce)+A:"right"===_?Qe+At-Math.max(ue,je)-A:this.caretX,"top"===I?(Qn=Et,Kn=Qn-A,In=wn-A,tr=wn+A):(Qn=Et+Xt,Kn=Qn+A,In=wn+A,tr=wn-A),or=Qn),{x1:In,x2:wn,x3:tr,y1:Qn,y2:Kn,y3:or}}drawTitle(s,c,f){const _=this.title,I=_.length;let A,k,Y;if(I){const ue=(0,d.az)(f.rtl,this.x,this.width);for(s.x=aa(this,f.titleAlign,f),c.textAlign=ue.textAlign(f.titleAlign),c.textBaseline="middle",A=(0,d.a0)(f.titleFont),k=f.titleSpacing,c.fillStyle=f.titleColor,c.font=A.string,Y=0;Y<I;++Y)c.fillText(_[Y],ue.x(s.x),s.y+A.lineHeight/2),s.y+=A.lineHeight+k,Y+1===I&&(s.y+=f.titleMarginBottom-k)}}_drawColorBox(s,c,f,_,I){const A=this.labelColors[f],k=this.labelPointStyles[f],{boxHeight:Y,boxWidth:ue}=I,Ce=(0,d.a0)(I.bodyFont),je=aa(this,"left",I),Qe=_.x(je),At=c.y+(Y<Ce.lineHeight?(Ce.lineHeight-Y)/2:0);if(I.usePointStyle){const Xt={radius:Math.min(ue,Y)/2,pointStyle:k.pointStyle,rotation:k.rotation,borderWidth:1},In=_.leftForLtr(Qe,ue)+ue/2,wn=At+Y/2;s.strokeStyle=I.multiKeyBackground,s.fillStyle=I.multiKeyBackground,(0,d.at)(s,Xt,In,wn),s.strokeStyle=A.borderColor,s.fillStyle=A.backgroundColor,(0,d.at)(s,Xt,In,wn)}else{s.lineWidth=(0,d.i)(A.borderWidth)?Math.max(...Object.values(A.borderWidth)):A.borderWidth||1,s.strokeStyle=A.borderColor,s.setLineDash(A.borderDash||[]),s.lineDashOffset=A.borderDashOffset||0;const Xt=_.leftForLtr(Qe,ue),In=_.leftForLtr(_.xPlus(Qe,1),ue-2),wn=(0,d.aw)(A.borderRadius);Object.values(wn).some(tr=>0!==tr)?(s.beginPath(),s.fillStyle=I.multiKeyBackground,(0,d.au)(s,{x:Xt,y:At,w:ue,h:Y,radius:wn}),s.fill(),s.stroke(),s.fillStyle=A.backgroundColor,s.beginPath(),(0,d.au)(s,{x:In,y:At+1,w:ue-2,h:Y-2,radius:wn}),s.fill()):(s.fillStyle=I.multiKeyBackground,s.fillRect(Xt,At,ue,Y),s.strokeRect(Xt,At,ue,Y),s.fillStyle=A.backgroundColor,s.fillRect(In,At+1,ue-2,Y-2))}s.fillStyle=this.labelTextColors[f]}drawBody(s,c,f){const{body:_}=this,{bodySpacing:I,bodyAlign:A,displayColors:k,boxHeight:Y,boxWidth:ue,boxPadding:Ce}=f,je=(0,d.a0)(f.bodyFont);let Qe=je.lineHeight,Et=0;const At=(0,d.az)(f.rtl,this.x,this.width),Xt=function(fi){c.fillText(fi,At.x(s.x+Et),s.y+Qe/2),s.y+=Qe+I},In=At.textAlign(A);let wn,tr,Qn,Kn,or,dr,vr;for(c.textAlign=A,c.textBaseline="middle",c.font=je.string,s.x=aa(this,In,f),c.fillStyle=f.bodyColor,(0,d.F)(this.beforeBody,Xt),Et=k&&"right"!==In?"center"===A?ue/2+Ce:ue+2+Ce:0,Kn=0,dr=_.length;Kn<dr;++Kn){for(wn=_[Kn],tr=this.labelTextColors[Kn],c.fillStyle=tr,(0,d.F)(wn.before,Xt),Qn=wn.lines,k&&Qn.length&&(this._drawColorBox(c,s,Kn,At,f),Qe=Math.max(je.lineHeight,Y)),or=0,vr=Qn.length;or<vr;++or)Xt(Qn[or]),Qe=je.lineHeight;(0,d.F)(wn.after,Xt)}Et=0,Qe=je.lineHeight,(0,d.F)(this.afterBody,Xt),s.y-=I}drawFooter(s,c,f){const _=this.footer,I=_.length;let A,k;if(I){const Y=(0,d.az)(f.rtl,this.x,this.width);for(s.x=aa(this,f.footerAlign,f),s.y+=f.footerMarginTop,c.textAlign=Y.textAlign(f.footerAlign),c.textBaseline="middle",A=(0,d.a0)(f.footerFont),c.fillStyle=f.footerColor,c.font=A.string,k=0;k<I;++k)c.fillText(_[k],Y.x(s.x),s.y+A.lineHeight/2),s.y+=A.lineHeight+f.footerSpacing}}drawBackground(s,c,f,_){const{xAlign:I,yAlign:A}=this,{x:k,y:Y}=s,{width:ue,height:Ce}=f,{topLeft:je,topRight:Qe,bottomLeft:Et,bottomRight:At}=(0,d.aw)(_.cornerRadius);c.fillStyle=_.backgroundColor,c.strokeStyle=_.borderColor,c.lineWidth=_.borderWidth,c.beginPath(),c.moveTo(k+je,Y),"top"===A&&this.drawCaret(s,c,f,_),c.lineTo(k+ue-Qe,Y),c.quadraticCurveTo(k+ue,Y,k+ue,Y+Qe),"center"===A&&"right"===I&&this.drawCaret(s,c,f,_),c.lineTo(k+ue,Y+Ce-At),c.quadraticCurveTo(k+ue,Y+Ce,k+ue-At,Y+Ce),"bottom"===A&&this.drawCaret(s,c,f,_),c.lineTo(k+Et,Y+Ce),c.quadraticCurveTo(k,Y+Ce,k,Y+Ce-Et),"center"===A&&"left"===I&&this.drawCaret(s,c,f,_),c.lineTo(k,Y+je),c.quadraticCurveTo(k,Y,k+je,Y),c.closePath(),c.fill(),_.borderWidth>0&&c.stroke()}_updateAnimationTarget(s){const c=this.chart,f=this.$animations,_=f&&f.x,I=f&&f.y;if(_||I){const A=lo[s.position].call(this,this._active,this._eventPosition);if(!A)return;const k=this._size=ea(this,s),Y=Object.assign({},A,this._size),ue=Bn(c,s,Y),Ce=Ds(s,Y,ue,c);(_._to!==Ce.x||I._to!==Ce.y)&&(this.xAlign=ue.xAlign,this.yAlign=ue.yAlign,this.width=k.width,this.height=k.height,this.caretX=A.x,this.caretY=A.y,this._resolveAnimations().update(this,Ce))}}_willRender(){return!!this.opacity}draw(s){const c=this.options.setContext(this.getContext());let f=this.opacity;if(!f)return;this._updateAnimationTarget(c);const _={width:this.width,height:this.height},I={x:this.x,y:this.y};f=Math.abs(f)<.001?0:f;const A=(0,d.E)(c.padding);c.enabled&&(this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length)&&(s.save(),s.globalAlpha=f,this.drawBackground(I,s,_,c),(0,d.aA)(s,c.textDirection),I.y+=A.top,this.drawTitle(I,s,c),this.drawBody(I,s,c),this.drawFooter(I,s,c),(0,d.aC)(s,c.textDirection),s.restore())}getActiveElements(){return this._active||[]}setActiveElements(s,c){const f=this._active,_=s.map(({datasetIndex:k,index:Y})=>{const ue=this.chart.getDatasetMeta(k);if(!ue)throw new Error("Cannot find a dataset at index "+k);return{datasetIndex:k,element:ue.data[Y],index:Y}}),I=!(0,d.ah)(f,_),A=this._positionChanged(_,c);(I||A)&&(this._active=_,this._eventPosition=c,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(s,c,f=!0){if(c&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const _=this.options,I=this._active||[],A=this._getActiveElements(s,I,c,f),k=this._positionChanged(A,s),Y=c||!(0,d.ah)(A,I)||k;return Y&&(this._active=A,(_.enabled||_.external)&&(this._eventPosition={x:s.x,y:s.y},this.update(!0,c))),Y}_getActiveElements(s,c,f,_){const I=this.options;if("mouseout"===s.type)return[];if(!_)return c;const A=this.chart.getElementsAtEventForMode(s,I.mode,I,f);return I.reverse&&A.reverse(),A}_positionChanged(s,c){const{caretX:f,caretY:_,options:I}=this,A=lo[I.position].call(this,s,c);return!1!==A&&(f!==A.x||_!==A.y)}}return m.positioners=lo,m})();var ks=Object.freeze({__proto__:null,Colors:vi,Decimation:wi,Filler:Gs,Legend:hr,SubTitle:Ps,Title:Li,Tooltip:{id:"tooltip",_element:La,positioners:lo,afterInit(m,l,s){s&&(m.tooltip=new La({chart:m,options:s}))},beforeUpdate(m,l,s){m.tooltip&&m.tooltip.initialize(s)},reset(m,l,s){m.tooltip&&m.tooltip.initialize(s)},afterDraw(m){const l=m.tooltip;if(l&&l._willRender()){const s={tooltip:l};if(!1===m.notifyPlugins("beforeTooltipDraw",{...s,cancelable:!0}))return;l.draw(m.ctx),m.notifyPlugins("afterTooltipDraw",s)}},afterEvent(m,l){m.tooltip&&m.tooltip.handleEvent(l.event,l.replay,l.inChartArea)&&(l.changed=!0)},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(m,l)=>l.bodyFont.size,boxWidth:(m,l)=>l.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:al},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:m=>"filter"!==m&&"itemSort"!==m&&"external"!==m,_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]}});function la(m){const l=this.getLabels();return m>=0&&m<l.length?l[m]:m}let Al=(()=>{class m extends ve{constructor(s){super(s),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(s){const c=this._addedLabels;if(c.length){const f=this.getLabels();for(const{index:_,label:I}of c)f[_]===I&&f.splice(_,1);this._addedLabels=[]}super.init(s)}parse(s,c){if((0,d.k)(s))return null;const f=this.getLabels();return((m,l)=>null===m?null:(0,d.S)(Math.round(m),0,l))(c=isFinite(c)&&f[c]===s?c:function ll(m,l,s,c){const f=m.indexOf(l);return-1===f?((m,l,s,c)=>("string"==typeof l?(s=m.push(l)-1,c.unshift({index:s,label:l})):isNaN(l)&&(s=null),s))(m,l,s,c):f!==m.lastIndexOf(l)?s:f}(f,s,(0,d.v)(c,s),this._addedLabels),f.length-1)}determineDataLimits(){const{minDefined:s,maxDefined:c}=this.getUserBounds();let{min:f,max:_}=this.getMinMax(!0);"ticks"===this.options.bounds&&(s||(f=0),c||(_=this.getLabels().length-1)),this.min=f,this.max=_}buildTicks(){const s=this.min,c=this.max,f=this.options.offset,_=[];let I=this.getLabels();I=0===s&&c===I.length-1?I:I.slice(s,c+1),this._valueRange=Math.max(I.length-(f?0:1),1),this._startValue=this.min-(f?.5:0);for(let A=s;A<=c;A++)_.push({value:A});return _}getLabelForValue(s){return la.call(this,s)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(s){return"number"!=typeof s&&(s=this.parse(s)),null===s?NaN:this.getPixelForDecimal((s-this._startValue)/this._valueRange)}getPixelForTick(s){const c=this.ticks;return s<0||s>c.length-1?null:this.getPixelForValue(c[s].value)}getValueForPixel(s){return Math.round(this._startValue+this.getDecimalForPixel(s)*this._valueRange)}getBasePixel(){return this.bottom}}return m.id="category",m.defaults={ticks:{callback:la}},m})();function ti(m,l,{horizontal:s,minRotation:c}){const f=(0,d.t)(c),_=(s?Math.sin(f):Math.cos(f))||.001;return Math.min(l/_,.75*l*(""+m).length)}class Ba extends ve{constructor(l){super(l),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(l,s){return(0,d.k)(l)||("number"==typeof l||l instanceof Number)&&!isFinite(+l)?null:+l}handleTickRangeOptions(){const{beginAtZero:l}=this.options,{minDefined:s,maxDefined:c}=this.getUserBounds();let{min:f,max:_}=this;const I=k=>f=s?f:k,A=k=>_=c?_:k;if(l){const k=(0,d.s)(f),Y=(0,d.s)(_);k<0&&Y<0?A(0):k>0&&Y>0&&I(0)}if(f===_){let k=0===_?1:Math.abs(.05*_);A(_+k),l||I(f-k)}this.min=f,this.max=_}getTickLimit(){const l=this.options.ticks;let f,{maxTicksLimit:s,stepSize:c}=l;return c?(f=Math.ceil(this.max/c)-Math.floor(this.min/c)+1,f>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${c} would result generating up to ${f} ticks. Limiting to 1000.`),f=1e3)):(f=this.computeTickLimit(),s=s||11),s&&(f=Math.min(s,f)),f}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const l=this.options,s=l.ticks;let c=this.getTickLimit();c=Math.max(2,c);const I=function ps(m,l){const s=[],{bounds:f,step:_,min:I,max:A,precision:k,count:Y,maxTicks:ue,maxDigits:Ce,includeBounds:je}=m,Qe=_||1,Et=ue-1,{min:At,max:Xt}=l,In=!(0,d.k)(I),wn=!(0,d.k)(A),tr=!(0,d.k)(Y),Qn=(Xt-At)/(Ce+1);let or,dr,vr,fi,Kn=(0,d.aH)((Xt-At)/Et/Qe)*Qe;if(Kn<1e-14&&!In&&!wn)return[{value:At},{value:Xt}];fi=Math.ceil(Xt/Kn)-Math.floor(At/Kn),fi>Et&&(Kn=(0,d.aH)(fi*Kn/Et/Qe)*Qe),(0,d.k)(k)||(or=Math.pow(10,k),Kn=Math.ceil(Kn*or)/or),"ticks"===f?(dr=Math.floor(At/Kn)*Kn,vr=Math.ceil(Xt/Kn)*Kn):(dr=At,vr=Xt),In&&wn&&_&&(0,d.aI)((A-I)/_,Kn/1e3)?(fi=Math.round(Math.min((A-I)/Kn,ue)),Kn=(A-I)/fi,dr=I,vr=A):tr?(dr=In?I:dr,vr=wn?A:vr,fi=Y-1,Kn=(vr-dr)/fi):(fi=(vr-dr)/Kn,fi=(0,d.aJ)(fi,Math.round(fi),Kn/1e3)?Math.round(fi):Math.ceil(fi));const Oi=Math.max((0,d.aK)(Kn),(0,d.aK)(dr));or=Math.pow(10,(0,d.k)(k)?Oi:k),dr=Math.round(dr*or)/or,vr=Math.round(vr*or)/or;let Vr=0;for(In&&(je&&dr!==I?(s.push({value:I}),dr<I&&Vr++,(0,d.aJ)(Math.round((dr+Vr*Kn)*or)/or,I,ti(I,Qn,m))&&Vr++):dr<I&&Vr++);Vr<fi;++Vr){const ms=Math.round((dr+Vr*Kn)*or)/or;if(wn&&ms>A)break;s.push({value:ms})}return wn&&je&&vr!==A?s.length&&(0,d.aJ)(s[s.length-1].value,A,ti(A,Qn,m))?s[s.length-1].value=A:s.push({value:A}):(!wn||vr===A)&&s.push({value:vr}),s}({maxTicks:c,bounds:l.bounds,min:l.min,max:l.max,precision:s.precision,step:s.stepSize,count:s.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:s.minRotation||0,includeBounds:!1!==s.includeBounds},this._range||this);return"ticks"===l.bounds&&(0,d.aG)(I,this,"value"),l.reverse?(I.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),I}configure(){const l=this.ticks;let s=this.min,c=this.max;if(super.configure(),this.options.offset&&l.length){const f=(c-s)/Math.max(l.length-1,1)/2;s-=f,c+=f}this._startValue=s,this._endValue=c,this._valueRange=c-s}getLabelForValue(l){return(0,d.o)(l,this.chart.options.locale,this.options.ticks.format)}}class as extends Ba{determineDataLimits(){const{min:l,max:s}=this.getMinMax(!0);this.min=(0,d.g)(l)?l:0,this.max=(0,d.g)(s)?s:1,this.handleTickRangeOptions()}computeTickLimit(){const l=this.isHorizontal(),s=l?this.width:this.height,c=(0,d.t)(this.options.ticks.minRotation),f=(l?Math.sin(c):Math.cos(c))||.001,_=this._resolveTickFontOptions(0);return Math.ceil(s/Math.min(40,_.lineHeight/f))}getPixelForValue(l){return null===l?NaN:this.getPixelForDecimal((l-this._startValue)/this._valueRange)}getValueForPixel(l){return this._startValue+this.getDecimalForPixel(l)*this._valueRange}}as.id="linear",as.defaults={ticks:{callback:d.aL.formatters.numeric}};const Wa=m=>Math.floor((0,d.aM)(m)),gs=(m,l)=>Math.pow(10,Wa(m)+l);function gr(m){return m/Math.pow(10,Wa(m))==1}function Aa(m,l,s){const c=Math.pow(10,s),f=Math.floor(m/c);return Math.ceil(l/c)-f}class el extends ve{constructor(l){super(l),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(l,s){const c=Ba.prototype.parse.apply(this,[l,s]);if(0!==c)return(0,d.g)(c)&&c>0?c:null;this._zero=!0}determineDataLimits(){const{min:l,max:s}=this.getMinMax(!0);this.min=(0,d.g)(l)?Math.max(0,l):null,this.max=(0,d.g)(s)?Math.max(0,s):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!(0,d.g)(this._userMin)&&(this.min=l===gs(this.min,0)?gs(this.min,-1):gs(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:l,maxDefined:s}=this.getUserBounds();let c=this.min,f=this.max;const _=A=>c=l?c:A,I=A=>f=s?f:A;c===f&&(c<=0?(_(1),I(10)):(_(gs(c,-1)),I(gs(f,1)))),c<=0&&_(gs(f,-1)),f<=0&&I(gs(c,1)),this.min=c,this.max=f}buildTicks(){const l=this.options,c=function xa(m,{min:l,max:s}){l=(0,d.O)(m.min,l);const c=[],f=Wa(l);let _=function pa(m,l){let c=Wa(l-m);for(;Aa(m,l,c)>10;)c++;for(;Aa(m,l,c)<10;)c--;return Math.min(c,Wa(m))}(l,s),I=_<0?Math.pow(10,Math.abs(_)):1;const A=Math.pow(10,_),k=f>_?Math.pow(10,f):0,Y=Math.round((l-k)*I)/I,ue=Math.floor((l-k)/A/10)*A*10;let Ce=Math.floor((Y-ue)/Math.pow(10,_)),je=(0,d.O)(m.min,Math.round((k+ue+Ce*Math.pow(10,_))*I)/I);for(;je<s;)c.push({value:je,major:gr(je),significand:Ce}),Ce>=10?Ce=Ce<15?15:20:Ce++,Ce>=20&&(_++,Ce=2,I=_>=0?1:I),je=Math.round((k+ue+Ce*Math.pow(10,_))*I)/I;const Qe=(0,d.O)(m.max,je);return c.push({value:Qe,major:gr(Qe),significand:Ce}),c}({min:this._userMin,max:this._userMax},this);return"ticks"===l.bounds&&(0,d.aG)(c,this,"value"),l.reverse?(c.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),c}getLabelForValue(l){return void 0===l?"0":(0,d.o)(l,this.chart.options.locale,this.options.ticks.format)}configure(){const l=this.min;super.configure(),this._startValue=(0,d.aM)(l),this._valueRange=(0,d.aM)(this.max)-(0,d.aM)(l)}getPixelForValue(l){return(void 0===l||0===l)&&(l=this.min),null===l||isNaN(l)?NaN:this.getPixelForDecimal(l===this.min?0:((0,d.aM)(l)-this._startValue)/this._valueRange)}getValueForPixel(l){const s=this.getDecimalForPixel(l);return Math.pow(10,this._startValue+s*this._valueRange)}}function nt(m){const l=m.ticks;if(l.display&&m.display){const s=(0,d.E)(l.backdropPadding);return(0,d.v)(l.font&&l.font.size,d.d.font.size)+s.height}return 0}function Zt(m,l,s){return s=(0,d.b)(s)?s:[s],{w:(0,d.aN)(m,l.string,s),h:s.length*l.lineHeight}}function Jt(m,l,s,c,f){return m===c||m===f?{start:l-s/2,end:l+s/2}:m<c||m>f?{start:l-s,end:l}:{start:l,end:l+s}}function Vi(m,l,s,c,f){const _=Math.abs(Math.sin(s)),I=Math.abs(Math.cos(s));let A=0,k=0;c.start<l.l?(A=(l.l-c.start)/_,m.l=Math.min(m.l,l.l-A)):c.end>l.r&&(A=(c.end-l.r)/_,m.r=Math.max(m.r,l.r+A)),f.start<l.t?(k=(l.t-f.start)/I,m.t=Math.min(m.t,l.t-k)):f.end>l.b&&(k=(f.end-l.b)/I,m.b=Math.max(m.b,l.b+k))}function Wi(m,l,s){const c=m.drawingArea,{extra:f,additionalAngle:_,padding:I,size:A}=s,k=m.getPointPosition(l,c+f+I,_),Y=Math.round((0,d.U)((0,d.ay)(k.angle+d.H))),ue=function ca(m,l,s){return 90===s||270===s?m-=l/2:(s>270||s<90)&&(m-=l),m}(k.y,A.h,Y),Ce=function Gi(m){return 0===m||180===m?"center":m<180?"left":"right"}(Y),je=function Ko(m,l,s){return"right"===s?m-=l:"center"===s&&(m-=l/2),m}(k.x,A.w,Ce);return{visible:!0,x:k.x,y:ue,textAlign:Ce,left:je,top:ue,right:je+A.w,bottom:ue+A.h}}function ss(m,l){if(!l)return!0;const{left:s,top:c,right:f,bottom:_}=m;return!((0,d.C)({x:s,y:c},l)||(0,d.C)({x:s,y:_},l)||(0,d.C)({x:f,y:c},l)||(0,d.C)({x:f,y:_},l))}function pn(m,l,s){const{left:c,top:f,right:_,bottom:I}=s,{backdropColor:A}=l;if(!(0,d.k)(A)){const k=(0,d.aw)(l.borderRadius),Y=(0,d.E)(l.backdropPadding);m.fillStyle=A;const ue=c-Y.left,Ce=f-Y.top,je=_-c+Y.width,Qe=I-f+Y.height;Object.values(k).some(Et=>0!==Et)?(m.beginPath(),(0,d.au)(m,{x:ue,y:Ce,w:je,h:Qe,radius:k}),m.fill()):m.fillRect(ue,Ce,je,Qe)}}function ga(m,l,s,c){const{ctx:f}=m;if(s)f.arc(m.xCenter,m.yCenter,l,0,d.T);else{let _=m.getPointPosition(0,l);f.moveTo(_.x,_.y);for(let I=1;I<c;I++)_=m.getPointPosition(I,l),f.lineTo(_.x,_.y)}}el.id="logarithmic",el.defaults={ticks:{callback:d.aL.formatters.logarithmic,major:{enabled:!0}}};class Xo extends Ba{constructor(l){super(l),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const l=this._padding=(0,d.E)(nt(this.options)/2),s=this.width=this.maxWidth-l.width,c=this.height=this.maxHeight-l.height;this.xCenter=Math.floor(this.left+s/2+l.left),this.yCenter=Math.floor(this.top+c/2+l.top),this.drawingArea=Math.floor(Math.min(s,c)/2)}determineDataLimits(){const{min:l,max:s}=this.getMinMax(!1);this.min=(0,d.g)(l)&&!isNaN(l)?l:0,this.max=(0,d.g)(s)&&!isNaN(s)?s:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/nt(this.options))}generateTickLabels(l){Ba.prototype.generateTickLabels.call(this,l),this._pointLabels=this.getLabels().map((s,c)=>{const f=(0,d.Q)(this.options.pointLabels.callback,[s,c],this);return f||0===f?f:""}).filter((s,c)=>this.chart.getDataVisibility(c))}fit(){const l=this.options;l.display&&l.pointLabels.display?function yr(m){const l={l:m.left+m._padding.left,r:m.right-m._padding.right,t:m.top+m._padding.top,b:m.bottom-m._padding.bottom},s=Object.assign({},l),c=[],f=[],_=m._pointLabels.length,I=m.options.pointLabels,A=I.centerPointLabels?d.P/_:0;for(let k=0;k<_;k++){const Y=I.setContext(m.getPointLabelContext(k));f[k]=Y.padding;const ue=m.getPointPosition(k,m.drawingArea+f[k],A),Ce=(0,d.a0)(Y.font),je=Zt(m.ctx,Ce,m._pointLabels[k]);c[k]=je;const Qe=(0,d.ay)(m.getIndexAngle(k)+A),Et=Math.round((0,d.U)(Qe));Vi(s,l,Qe,Jt(Et,ue.x,je.w,0,180),Jt(Et,ue.y,je.h,90,270))}m.setCenterPoint(l.l-s.l,s.r-l.r,l.t-s.t,s.b-l.b),m._pointLabelItems=function Qi(m,l,s){const c=[],f=m._pointLabels.length,_=m.options,{centerPointLabels:I,display:A}=_.pointLabels,k={extra:nt(_)/2,additionalAngle:I?d.P/f:0};let Y;for(let ue=0;ue<f;ue++){k.padding=s[ue],k.size=l[ue];const Ce=Wi(m,ue,k);c.push(Ce),"auto"===A&&(Ce.visible=ss(Ce,Y),Ce.visible&&(Y=Ce))}return c}(m,c,f)}(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(l,s,c,f){this.xCenter+=Math.floor((l-s)/2),this.yCenter+=Math.floor((c-f)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(l,s,c,f))}getIndexAngle(l){return(0,d.ay)(l*(d.T/(this._pointLabels.length||1))+(0,d.t)(this.options.startAngle||0))}getDistanceFromCenterForValue(l){if((0,d.k)(l))return NaN;const s=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-l)*s:(l-this.min)*s}getValueForDistanceFromCenter(l){if((0,d.k)(l))return NaN;const s=l/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-s:this.min+s}getPointLabelContext(l){const s=this._pointLabels||[];if(l>=0&&l<s.length){const c=s[l];return function Ya(m,l,s){return(0,d.j)(m,{label:s,index:l,type:"pointLabel"})}(this.getContext(),l,c)}}getPointPosition(l,s,c=0){const f=this.getIndexAngle(l)-d.H+c;return{x:Math.cos(f)*s+this.xCenter,y:Math.sin(f)*s+this.yCenter,angle:f}}getPointPositionForValue(l,s){return this.getPointPosition(l,this.getDistanceFromCenterForValue(s))}getBasePosition(l){return this.getPointPositionForValue(l||0,this.getBaseValue())}getPointLabelPosition(l){const{left:s,top:c,right:f,bottom:_}=this._pointLabelItems[l];return{left:s,top:c,right:f,bottom:_}}drawBackground(){const{backgroundColor:l,grid:{circular:s}}=this.options;if(l){const c=this.ctx;c.save(),c.beginPath(),ga(this,this.getDistanceFromCenterForValue(this._endValue),s,this._pointLabels.length),c.closePath(),c.fillStyle=l,c.fill(),c.restore()}}drawGrid(){const l=this.ctx,s=this.options,{angleLines:c,grid:f,border:_}=s,I=this._pointLabels.length;let A,k,Y;if(s.pointLabels.display&&function $a(m,l){const{ctx:s,options:{pointLabels:c}}=m;for(let f=l-1;f>=0;f--){const _=m._pointLabelItems[f];if(!_.visible)continue;const I=c.setContext(m.getPointLabelContext(f));pn(s,I,_);const A=(0,d.a0)(I.font),{x:k,y:Y,textAlign:ue}=_;(0,d.Z)(s,m._pointLabels[f],k,Y+A.lineHeight/2,A,{color:I.color,textAlign:ue,textBaseline:"middle"})}}(this,I),f.display&&this.ticks.forEach((ue,Ce)=>{if(0!==Ce){k=this.getDistanceFromCenterForValue(ue.value);const je=this.getContext(Ce),Qe=f.setContext(je),Et=_.setContext(je);!function Il(m,l,s,c,f){const _=m.ctx,I=l.circular,{color:A,lineWidth:k}=l;!I&&!c||!A||!k||s<0||(_.save(),_.strokeStyle=A,_.lineWidth=k,_.setLineDash(f.dash),_.lineDashOffset=f.dashOffset,_.beginPath(),ga(m,s,I,c),_.closePath(),_.stroke(),_.restore())}(this,Qe,k,I,Et)}}),c.display){for(l.save(),A=I-1;A>=0;A--){const ue=c.setContext(this.getPointLabelContext(A)),{color:Ce,lineWidth:je}=ue;!je||!Ce||(l.lineWidth=je,l.strokeStyle=Ce,l.setLineDash(ue.borderDash),l.lineDashOffset=ue.borderDashOffset,k=this.getDistanceFromCenterForValue(s.ticks.reverse?this.min:this.max),Y=this.getPointPosition(A,k),l.beginPath(),l.moveTo(this.xCenter,this.yCenter),l.lineTo(Y.x,Y.y),l.stroke())}l.restore()}}drawBorder(){}drawLabels(){const l=this.ctx,s=this.options,c=s.ticks;if(!c.display)return;const f=this.getIndexAngle(0);let _,I;l.save(),l.translate(this.xCenter,this.yCenter),l.rotate(f),l.textAlign="center",l.textBaseline="middle",this.ticks.forEach((A,k)=>{if(0===k&&!s.reverse)return;const Y=c.setContext(this.getContext(k)),ue=(0,d.a0)(Y.font);if(_=this.getDistanceFromCenterForValue(this.ticks[k].value),Y.showLabelBackdrop){l.font=ue.string,I=l.measureText(A.label).width,l.fillStyle=Y.backdropColor;const Ce=(0,d.E)(Y.backdropPadding);l.fillRect(-I/2-Ce.left,-_-ue.size/2-Ce.top,I+Ce.width,ue.size+Ce.height)}(0,d.Z)(l,A.label,0,-_,ue,{color:Y.color,strokeColor:Y.textStrokeColor,strokeWidth:Y.textStrokeWidth})}),l.restore()}drawTitle(){}}Xo.id="radialLinear",Xo.defaults={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:d.aL.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback:m=>m,padding:5,centerPointLabels:!1}},Xo.defaultRoutes={"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"},Xo.descriptors={angleLines:{_fallback:"grid"}};const xl={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},$o=Object.keys(xl);function V(m,l){return m-l}function H(m,l){if((0,d.k)(l))return null;const s=m._adapter,{parser:c,round:f,isoWeekday:_}=m._parseOpts;let I=l;return"function"==typeof c&&(I=c(I)),(0,d.g)(I)||(I="string"==typeof c?s.parse(I,c):s.parse(I)),null===I?null:(f&&(I="week"!==f||!(0,d.x)(_)&&!0!==_?s.startOf(I,f):s.startOf(I,"isoWeek",_)),+I)}function R(m,l,s,c){const f=$o.length;for(let _=$o.indexOf(m);_<f-1;++_){const I=xl[$o[_]];if(I.common&&Math.ceil((s-l)/((I.steps?I.steps:Number.MAX_SAFE_INTEGER)*I.size))<=c)return $o[_]}return $o[f-1]}function Xe(m,l,s){if(s){if(s.length){const{lo:c,hi:f}=(0,d.aP)(s,l);m[s[c]>=l?s[c]:s[f]]=!0}}else m[l]=!0}function Yt(m,l,s){const c=[],f={},_=l.length;let I,A;for(I=0;I<_;++I)A=l[I],f[A]=I,c.push({value:A,major:!1});return 0!==_&&s?function Ue(m,l,s,c){const f=m._adapter,_=+f.startOf(l[0].value,c),I=l[l.length-1].value;let A,k;for(A=_;A<=I;A=+f.add(A,1,c))k=s[A],k>=0&&(l[k].major=!0);return l}(m,c,f,s):c}let An=(()=>{class m extends ve{constructor(s){super(s),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(s,c={}){const f=s.time||(s.time={}),_=this._adapter=new ai__date(s.adapters.date);_.init(c),(0,d.ab)(f.displayFormats,_.formats()),this._parseOpts={parser:f.parser,round:f.round,isoWeekday:f.isoWeekday},super.init(s),this._normalized=c.normalized}parse(s,c){return void 0===s?null:H(this,s)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const s=this.options,c=this._adapter,f=s.time.unit||"day";let{min:_,max:I,minDefined:A,maxDefined:k}=this.getUserBounds();function Y(ue){!A&&!isNaN(ue.min)&&(_=Math.min(_,ue.min)),!k&&!isNaN(ue.max)&&(I=Math.max(I,ue.max))}(!A||!k)&&(Y(this._getLabelBounds()),("ticks"!==s.bounds||"labels"!==s.ticks.source)&&Y(this.getMinMax(!1))),_=(0,d.g)(_)&&!isNaN(_)?_:+c.startOf(Date.now(),f),I=(0,d.g)(I)&&!isNaN(I)?I:+c.endOf(Date.now(),f)+1,this.min=Math.min(_,I-1),this.max=Math.max(_+1,I)}_getLabelBounds(){const s=this.getLabelTimestamps();let c=Number.POSITIVE_INFINITY,f=Number.NEGATIVE_INFINITY;return s.length&&(c=s[0],f=s[s.length-1]),{min:c,max:f}}buildTicks(){const s=this.options,c=s.time,f=s.ticks,_="labels"===f.source?this.getLabelTimestamps():this._generate();"ticks"===s.bounds&&_.length&&(this.min=this._userMin||_[0],this.max=this._userMax||_[_.length-1]);const I=this.min,k=(0,d.aO)(_,I,this.max);return this._unit=c.unit||(f.autoSkip?R(c.minUnit,this.min,this.max,this._getLabelCapacity(I)):function q(m,l,s,c,f){for(let _=$o.length-1;_>=$o.indexOf(s);_--){const I=$o[_];if(xl[I].common&&m._adapter.diff(f,c,I)>=l-1)return I}return $o[s?$o.indexOf(s):0]}(this,k.length,c.minUnit,this.min,this.max)),this._majorUnit=f.major.enabled&&"year"!==this._unit?function me(m){for(let l=$o.indexOf(m)+1,s=$o.length;l<s;++l)if(xl[$o[l]].common)return $o[l]}(this._unit):void 0,this.initOffsets(_),s.reverse&&k.reverse(),Yt(this,k,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(s=>+s.value))}initOffsets(s=[]){let _,I,c=0,f=0;this.options.offset&&s.length&&(_=this.getDecimalForValue(s[0]),c=1===s.length?1-_:(this.getDecimalForValue(s[1])-_)/2,I=this.getDecimalForValue(s[s.length-1]),f=1===s.length?I:(I-this.getDecimalForValue(s[s.length-2]))/2);const A=s.length<3?.5:.25;c=(0,d.S)(c,0,A),f=(0,d.S)(f,0,A),this._offsets={start:c,end:f,factor:1/(c+1+f)}}_generate(){const s=this._adapter,c=this.min,f=this.max,_=this.options,I=_.time,A=I.unit||R(I.minUnit,c,f,this._getLabelCapacity(c)),k=(0,d.v)(_.ticks.stepSize,1),Y="week"===A&&I.isoWeekday,ue=(0,d.x)(Y)||!0===Y,Ce={};let Qe,Et,je=c;if(ue&&(je=+s.startOf(je,"isoWeek",Y)),je=+s.startOf(je,ue?"day":A),s.diff(f,c,A)>1e5*k)throw new Error(c+" and "+f+" are too far apart with stepSize of "+k+" "+A);const At="data"===_.ticks.source&&this.getDataTimestamps();for(Qe=je,Et=0;Qe<f;Qe=+s.add(Qe,k,A),Et++)Xe(Ce,Qe,At);return(Qe===f||"ticks"===_.bounds||1===Et)&&Xe(Ce,Qe,At),Object.keys(Ce).sort(V).map(Xt=>+Xt)}getLabelForValue(s){const f=this.options.time;return this._adapter.format(s,f.tooltipFormat?f.tooltipFormat:f.displayFormats.datetime)}format(s,c){return this._adapter.format(s,c||this.options.time.displayFormats[this._unit])}_tickFormatFunction(s,c,f,_){const I=this.options,A=I.ticks.callback;if(A)return(0,d.Q)(A,[s,c,f],this);const k=I.time.displayFormats,Y=this._unit,ue=this._majorUnit,je=ue&&k[ue],Qe=f[c];return this._adapter.format(s,_||(ue&&je&&Qe&&Qe.major?je:Y&&k[Y]))}generateTickLabels(s){let c,f,_;for(c=0,f=s.length;c<f;++c)_=s[c],_.label=this._tickFormatFunction(_.value,c,s)}getDecimalForValue(s){return null===s?NaN:(s-this.min)/(this.max-this.min)}getPixelForValue(s){const c=this._offsets,f=this.getDecimalForValue(s);return this.getPixelForDecimal((c.start+f)*c.factor)}getValueForPixel(s){const c=this._offsets,f=this.getDecimalForPixel(s)/c.factor-c.end;return this.min+f*(this.max-this.min)}_getLabelSize(s){const c=this.options.ticks,f=this.ctx.measureText(s).width,_=(0,d.t)(this.isHorizontal()?c.maxRotation:c.minRotation),I=Math.cos(_),A=Math.sin(_),k=this._resolveTickFontOptions(0).size;return{w:f*I+k*A,h:f*A+k*I}}_getLabelCapacity(s){const c=this.options.time,f=c.displayFormats,_=f[c.unit]||f.millisecond,I=this._tickFormatFunction(s,0,Yt(this,[s],this._majorUnit),_),A=this._getLabelSize(I),k=Math.floor(this.isHorizontal()?this.width/A.w:this.height/A.h)-1;return k>0?k:1}getDataTimestamps(){let c,f,s=this._cache.data||[];if(s.length)return s;const _=this.getMatchingVisibleMetas();if(this._normalized&&_.length)return this._cache.data=_[0].controller.getAllParsedValues(this);for(c=0,f=_.length;c<f;++c)s=s.concat(_[c].controller.getAllParsedValues(this));return this._cache.data=this.normalize(s)}getLabelTimestamps(){const s=this._cache.labels||[];let c,f;if(s.length)return s;const _=this.getLabels();for(c=0,f=_.length;c<f;++c)s.push(H(this,_[c]));return this._cache.labels=this._normalized?s:this.normalize(s)}normalize(s){return(0,d._)(s.sort(V))}}return m.id="time",m.defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}},m})();function Ar(m,l,s){let _,I,A,k,c=0,f=m.length-1;s?(l>=m[c].pos&&l<=m[f].pos&&({lo:c,hi:f}=(0,d.B)(m,"pos",l)),({pos:_,time:A}=m[c]),({pos:I,time:k}=m[f])):(l>=m[c].time&&l<=m[f].time&&({lo:c,hi:f}=(0,d.B)(m,"time",l)),({time:_,pos:A}=m[c]),({time:I,pos:k}=m[f]));const Y=I-_;return Y?A+(k-A)*(l-_)/Y:A}class Mi extends An{constructor(l){super(l),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const l=this._getTimestampsForTable(),s=this._table=this.buildLookupTable(l);this._minPos=Ar(s,this.min),this._tableRange=Ar(s,this.max)-this._minPos,super.initOffsets(l)}buildLookupTable(l){const{min:s,max:c}=this,f=[],_=[];let I,A,k,Y,ue;for(I=0,A=l.length;I<A;++I)Y=l[I],Y>=s&&Y<=c&&f.push(Y);if(f.length<2)return[{time:s,pos:0},{time:c,pos:1}];for(I=0,A=f.length;I<A;++I)ue=f[I+1],k=f[I-1],Y=f[I],Math.round((ue+k)/2)!==Y&&_.push({time:Y,pos:I/(A-1)});return _}_generate(){const l=this.min,s=this.max;let c=super.getDataTimestamps();return(!c.includes(l)||!c.length)&&c.splice(0,0,l),(!c.includes(s)||1===c.length)&&c.push(s),c.sort((f,_)=>f-_)}_getTimestampsForTable(){let l=this._cache.all||[];if(l.length)return l;const s=this.getDataTimestamps(),c=this.getLabelTimestamps();return l=s.length&&c.length?this.normalize(s.concat(c)):s.length?s:c,l=this._cache.all=l,l}getDecimalForValue(l){return(Ar(this._table,l)-this._minPos)/this._tableRange}getValueForPixel(l){const s=this._offsets,c=this.getDecimalForPixel(l)/s.factor-s.end;return Ar(this._table,c*this._tableRange+this._minPos,!0)}}Mi.id="timeseries",Mi.defaults=An.defaults;const ko=[$r,F,ks,Object.freeze({__proto__:null,CategoryScale:Al,LinearScale:as,LogarithmicScale:el,RadialLinearScale:Xo,TimeScale:An,TimeSeriesScale:Mi})]},1086:(Jn,Lt,z)=>{"use strict";function d(M){return M+.5|0}z.d(Lt,{$:()=>es,A:()=>Fi,B:()=>Sr,C:()=>_s,D:()=>ln,E:()=>Ys,F:()=>ar,G:()=>ui,H:()=>Or,I:()=>le,J:()=>mi,K:()=>vi,L:()=>cs,M:()=>Ee,N:()=>xt,O:()=>$r,P:()=>Ht,Q:()=>Gr,R:()=>fs,S:()=>fn,T:()=>En,U:()=>gn,V:()=>vo,W:()=>Yn,X:()=>Ur,Y:()=>ki,Z:()=>wo,_:()=>Os,a:()=>hs,a0:()=>Io,a1:()=>ts,a2:()=>zi,a3:()=>Mr,a4:()=>mr,a5:()=>Ei,a6:()=>Tn,a7:()=>Cn,a8:()=>Ni,a9:()=>oo,aA:()=>no,aB:()=>Qs,aC:()=>zo,aD:()=>so,aE:()=>yn,aF:()=>er,aG:()=>en,aH:()=>Ke,aI:()=>Vt,aJ:()=>se,aK:()=>Wn,aL:()=>Ji,aM:()=>ie,aN:()=>Jr,aO:()=>Xr,aP:()=>Fr,aa:()=>Go,ab:()=>bi,ac:()=>ur,ad:()=>yo,ae:()=>gi,af:()=>ji,ag:()=>Ne,ah:()=>Pi,ai:()=>dt,aj:()=>pr,ak:()=>Yi,al:()=>Do,am:()=>Vs,an:()=>Sa,ao:()=>qs,ap:()=>xs,aq:()=>Zi,ar:()=>eo,as:()=>uo,at:()=>qr,au:()=>As,av:()=>Ri,aw:()=>Bs,ax:()=>Da,ay:()=>Bt,az:()=>Cs,b:()=>ir,c:()=>ne,d:()=>Ao,e:()=>Oe,f:()=>fr,g:()=>Pr,h:()=>Er,i:()=>an,j:()=>ho,k:()=>un,l:()=>Yr,m:()=>Rn,n:()=>ai,o:()=>Nr,p:()=>Kt,q:()=>Js,r:()=>ys,s:()=>te,t:()=>Sn,u:()=>rs,v:()=>xr,w:()=>Is,x:()=>rt,y:()=>ce,z:()=>dn});const E=(M,Z,oe)=>Math.max(Math.min(M,oe),Z);function be(M){return E(d(2.55*M),0,255)}function qe(M){return E(d(255*M),0,255)}function ze(M){return E(d(M/2.55)/100,0,1)}function Se(M){return E(d(100*M),0,100)}const Re={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},Ze=[..."0123456789ABCDEF"],Fe=M=>Ze[15&M],xe=M=>Ze[(240&M)>>4]+Ze[15&M],it=M=>(240&M)>>4==(15&M);const He=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function $e(M,Z,oe){const De=Z*Math.min(oe,1-oe),Be=(at,Tt=(at+M/30)%12)=>oe-De*Math.max(Math.min(Tt-3,9-Tt,1),-1);return[Be(0),Be(8),Be(4)]}function kt(M,Z,oe){const De=(Be,at=(Be+M/60)%6)=>oe-oe*Z*Math.max(Math.min(at,4-at,1),0);return[De(5),De(3),De(1)]}function Mt(M,Z,oe){const De=$e(M,1,.5);let Be;for(Z+oe>1&&(Be=1/(Z+oe),Z*=Be,oe*=Be),Be=0;Be<3;Be++)De[Be]*=1-Z-oe,De[Be]+=Z;return De}function It(M){const oe=M.r/255,De=M.g/255,Be=M.b/255,at=Math.max(oe,De,Be),Tt=Math.min(oe,De,Be),Wt=(at+Tt)/2;let rn,Fn,sr;return at!==Tt&&(sr=at-Tt,Fn=Wt>.5?sr/(2-at-Tt):sr/(at+Tt),rn=function ft(M,Z,oe,De,Be){return M===Be?(Z-oe)/De+(Z<oe?6:0):Z===Be?(oe-M)/De+2:(M-Z)/De+4}(oe,De,Be,sr,at),rn=60*rn+.5),[0|rn,Fn||0,Wt]}function St(M,Z,oe,De){return(Array.isArray(Z)?M(Z[0],Z[1],Z[2]):M(Z,oe,De)).map(qe)}function Ct(M,Z,oe){return St($e,M,Z,oe)}function Gt(M){return(M%360+360)%360}const Te={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},Je={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};let mt;const tt=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/,Nt=M=>M<=.0031308?12.92*M:1.055*Math.pow(M,1/2.4)-.055,Qt=M=>M<=.04045?M/12.92:Math.pow((M+.055)/1.055,2.4);function On(M,Z,oe){if(M){let De=It(M);De[Z]=Math.max(0,Math.min(De[Z]+De[Z]*oe,0===Z?360:1)),De=Ct(De),M.r=De[0],M.g=De[1],M.b=De[2]}}function tn(M,Z){return M&&Object.assign(Z||{},M)}function vt(M){var Z={r:0,g:0,b:0,a:255};return Array.isArray(M)?M.length>=3&&(Z={r:M[0],g:M[1],b:M[2],a:255},M.length>3&&(Z.a=qe(M[3]))):(Z=tn(M,{r:0,g:0,b:0,a:1})).a=qe(Z.a),Z}function cn(M){return"r"===M.charAt(0)?function ut(M){const Z=tt.exec(M);let De,Be,at,oe=255;if(Z){if(Z[7]!==De){const Tt=+Z[7];oe=Z[8]?be(Tt):E(255*Tt,0,255)}return De=+Z[1],Be=+Z[3],at=+Z[5],De=255&(Z[2]?be(De):E(De,0,255)),Be=255&(Z[4]?be(Be):E(Be,0,255)),at=255&(Z[6]?be(at):E(at,0,255)),{r:De,g:Be,b:at,a:oe}}}(M):function Dt(M){const Z=He.exec(M);let De,oe=255;if(!Z)return;Z[5]!==De&&(oe=Z[6]?be(+Z[5]):qe(+Z[5]));const Be=Gt(+Z[2]),at=+Z[3]/100,Tt=+Z[4]/100;return De="hwb"===Z[1]?function yt(M,Z,oe){return St(Mt,M,Z,oe)}(Be,at,Tt):"hsv"===Z[1]?function ee(M,Z,oe){return St(kt,M,Z,oe)}(Be,at,Tt):Ct(Be,at,Tt),{r:De[0],g:De[1],b:De[2],a:oe}}(M)}class vn{constructor(Z){if(Z instanceof vn)return Z;const oe=typeof Z;let De;"object"===oe?De=vt(Z):"string"===oe&&(De=function lt(M){var oe,Z=M.length;return"#"===M[0]&&(4===Z||5===Z?oe={r:255&17*Re[M[1]],g:255&17*Re[M[2]],b:255&17*Re[M[3]],a:5===Z?17*Re[M[4]]:255}:(7===Z||9===Z)&&(oe={r:Re[M[1]]<<4|Re[M[2]],g:Re[M[3]]<<4|Re[M[4]],b:Re[M[5]]<<4|Re[M[6]],a:9===Z?Re[M[7]]<<4|Re[M[8]]:255})),oe}(Z)||function et(M){mt||(mt=function ct(){const M={},Z=Object.keys(Je),oe=Object.keys(Te);let De,Be,at,Tt,Wt;for(De=0;De<Z.length;De++){for(Tt=Wt=Z[De],Be=0;Be<oe.length;Be++)at=oe[Be],Wt=Wt.replace(at,Te[at]);at=parseInt(Je[Tt],16),M[Wt]=[at>>16&255,at>>8&255,255&at]}return M}(),mt.transparent=[0,0,0,0]);const Z=mt[M.toLowerCase()];return Z&&{r:Z[0],g:Z[1],b:Z[2],a:4===Z.length?Z[3]:255}}(Z)||cn(Z)),this._rgb=De,this._valid=!!De}get valid(){return this._valid}get rgb(){var Z=tn(this._rgb);return Z&&(Z.a=ze(Z.a)),Z}set rgb(Z){this._rgb=vt(Z)}rgbString(){return this._valid?function Ut(M){return M&&(M.a<255?`rgba(${M.r}, ${M.g}, ${M.b}, ${ze(M.a)})`:`rgb(${M.r}, ${M.g}, ${M.b})`)}(this._rgb):void 0}hexString(){return this._valid?function jt(M){var Z=(M=>it(M.r)&&it(M.g)&&it(M.b)&&it(M.a))(M)?Fe:xe;return M?"#"+Z(M.r)+Z(M.g)+Z(M.b)+((M,Z)=>M<255?Z(M):"")(M.a,Z):void 0}(this._rgb):void 0}hslString(){return this._valid?function qt(M){if(!M)return;const Z=It(M),oe=Z[0],De=Se(Z[1]),Be=Se(Z[2]);return M.a<255?`hsla(${oe}, ${De}%, ${Be}%, ${ze(M.a)})`:`hsl(${oe}, ${De}%, ${Be}%)`}(this._rgb):void 0}mix(Z,oe){if(Z){const De=this.rgb,Be=Z.rgb;let at;const Tt=oe===at?.5:oe,Wt=2*Tt-1,rn=De.a-Be.a,Fn=((Wt*rn==-1?Wt:(Wt+rn)/(1+Wt*rn))+1)/2;at=1-Fn,De.r=255&Fn*De.r+at*Be.r+.5,De.g=255&Fn*De.g+at*Be.g+.5,De.b=255&Fn*De.b+at*Be.b+.5,De.a=Tt*De.a+(1-Tt)*Be.a,this.rgb=De}return this}interpolate(Z,oe){return Z&&(this._rgb=function sn(M,Z,oe){const De=Qt(ze(M.r)),Be=Qt(ze(M.g)),at=Qt(ze(M.b));return{r:qe(Nt(De+oe*(Qt(ze(Z.r))-De))),g:qe(Nt(Be+oe*(Qt(ze(Z.g))-Be))),b:qe(Nt(at+oe*(Qt(ze(Z.b))-at))),a:M.a+oe*(Z.a-M.a)}}(this._rgb,Z._rgb,oe)),this}clone(){return new vn(this.rgb)}alpha(Z){return this._rgb.a=qe(Z),this}clearer(Z){return this._rgb.a*=1-Z,this}greyscale(){const Z=this._rgb,oe=d(.3*Z.r+.59*Z.g+.11*Z.b);return Z.r=Z.g=Z.b=oe,this}opaquer(Z){return this._rgb.a*=1+Z,this}negate(){const Z=this._rgb;return Z.r=255-Z.r,Z.g=255-Z.g,Z.b=255-Z.b,this}lighten(Z){return On(this._rgb,2,Z),this}darken(Z){return On(this._rgb,2,-Z),this}saturate(Z){return On(this._rgb,1,Z),this}desaturate(Z){return On(this._rgb,1,-Z),this}rotate(Z){return function Ft(M,Z){var oe=It(M);oe[0]=Gt(oe[0]+Z),oe=Ct(oe),M.r=oe[0],M.g=oe[1],M.b=oe[2]}(this._rgb,Z),this}}function er(){}const ur=(()=>{let M=0;return()=>M++})();function un(M){return null===M||typeof M>"u"}function ir(M){if(Array.isArray&&Array.isArray(M))return!0;const Z=Object.prototype.toString.call(M);return"[object"===Z.slice(0,7)&&"Array]"===Z.slice(-6)}function an(M){return null!==M&&"[object Object]"===Object.prototype.toString.call(M)}function Pr(M){return("number"==typeof M||M instanceof Number)&&isFinite(+M)}function $r(M,Z){return Pr(M)?M:Z}function xr(M,Z){return typeof M>"u"?Z:M}const Rn=(M,Z)=>"string"==typeof M&&M.endsWith("%")?parseFloat(M)/100:+M/Z,ai=(M,Z)=>"string"==typeof M&&M.endsWith("%")?parseFloat(M)/100*Z:+M;function Gr(M,Z,oe){if(M&&"function"==typeof M.call)return M.apply(oe,Z)}function ar(M,Z,oe,De){let Be,at,Tt;if(ir(M))if(at=M.length,De)for(Be=at-1;Be>=0;Be--)Z.call(oe,M[Be],Be);else for(Be=0;Be<at;Be++)Z.call(oe,M[Be],Be);else if(an(M))for(Tt=Object.keys(M),at=Tt.length,Be=0;Be<at;Be++)Z.call(oe,M[Tt[Be]],Tt[Be])}function Pi(M,Z){let oe,De,Be,at;if(!M||!Z||M.length!==Z.length)return!1;for(oe=0,De=M.length;oe<De;++oe)if(Be=M[oe],at=Z[oe],Be.datasetIndex!==at.datasetIndex||Be.index!==at.index)return!1;return!0}function yi(M){if(ir(M))return M.map(yi);if(an(M)){const Z=Object.create(null),oe=Object.keys(M),De=oe.length;let Be=0;for(;Be<De;++Be)Z[oe[Be]]=yi(M[oe[Be]]);return Z}return M}function lr(M){return-1===["__proto__","prototype","constructor"].indexOf(M)}function nr(M,Z,oe,De){if(!lr(M))return;const Be=Z[M],at=oe[M];an(Be)&&an(at)?mr(Be,at,De):Z[M]=yi(at)}function mr(M,Z,oe){const De=ir(Z)?Z:[Z],Be=De.length;if(!an(M))return M;const at=(oe=oe||{}).merger||nr;let Tt;for(let Wt=0;Wt<Be;++Wt){if(Tt=De[Wt],!an(Tt))continue;const rn=Object.keys(Tt);for(let Fn=0,sr=rn.length;Fn<sr;++Fn)at(rn[Fn],M,Tt,oe)}return M}function bi(M,Z){return mr(M,Z,{merger:li})}function li(M,Z,oe){if(!lr(M))return;const De=Z[M],Be=oe[M];an(De)&&an(Be)?bi(De,Be):Object.prototype.hasOwnProperty.call(Z,M)||(Z[M]=yi(Be))}const di={"":M=>M,x:M=>M.x,y:M=>M.y};function fr(M,Z){return(di[Z]||(di[Z]=function br(M){const Z=function Ai(M){const Z=M.split("."),oe=[];let De="";for(const Be of Z)De+=Be,De.endsWith("\\")?De=De.slice(0,-1)+".":(oe.push(De),De="");return oe}(M);return oe=>{for(const De of Z){if(""===De)break;oe=oe&&oe[De]}return oe}}(Z)))(M)}function Ei(M){return M.charAt(0).toUpperCase()+M.slice(1)}const Er=M=>typeof M<"u",Cn=M=>"function"==typeof M,Ne=(M,Z)=>{if(M.size!==Z.size)return!1;for(const oe of M)if(!Z.has(oe))return!1;return!0};function dt(M){return"mouseup"===M.type||"click"===M.type||"contextmenu"===M.type}const Ht=Math.PI,En=2*Ht,zn=En+Ht,jr=Number.POSITIVE_INFINITY,kr=Ht/180,Or=Ht/2,gt=Ht/4,Ae=2*Ht/3,ie=Math.log10,te=Math.sign;function se(M,Z,oe){return Math.abs(M-Z)<oe}function Ke(M){const Z=Math.round(M);M=se(M,Z,M/1e3)?Z:M;const oe=Math.pow(10,Math.floor(ie(M))),De=M/oe;return(De<=1?1:De<=2?2:De<=5?5:10)*oe}function xt(M){const Z=[],oe=Math.sqrt(M);let De;for(De=1;De<oe;De++)M%De==0&&(Z.push(De),Z.push(M/De));return oe===(0|oe)&&Z.push(oe),Z.sort((Be,at)=>Be-at).pop(),Z}function rt(M){return!isNaN(parseFloat(M))&&isFinite(M)}function Vt(M,Z){const oe=Math.round(M);return oe-Z<=M&&oe+Z>=M}function en(M,Z,oe){let De,Be,at;for(De=0,Be=M.length;De<Be;De++)at=M[De][oe],isNaN(at)||(Z.min=Math.min(Z.min,at),Z.max=Math.max(Z.max,at))}function Sn(M){return M*(Ht/180)}function gn(M){return M*(180/Ht)}function Wn(M){if(!Pr(M))return;let Z=1,oe=0;for(;Math.round(M*Z)/Z!==M;)Z*=10,oe++;return oe}function ln(M,Z){const oe=Z.x-M.x,De=Z.y-M.y,Be=Math.sqrt(oe*oe+De*De);let at=Math.atan2(De,oe);return at<-.5*Ht&&(at+=En),{angle:at,distance:Be}}function yn(M,Z){return Math.sqrt(Math.pow(Z.x-M.x,2)+Math.pow(Z.y-M.y,2))}function kn(M,Z){return(M-Z+zn)%En-Ht}function Bt(M){return(M%En+En)%En}function Kt(M,Z,oe,De){const Be=Bt(M),at=Bt(Z),Tt=Bt(oe),Wt=Bt(at-Be),rn=Bt(Tt-Be),Fn=Bt(Be-at),sr=Bt(Be-Tt);return Be===at||Be===Tt||De&&at===Tt||Wt>rn&&Fn<sr}function fn(M,Z,oe){return Math.max(Z,Math.min(oe,M))}function Yn(M){return fn(M,-32768,32767)}function pr(M,Z,oe,De=1e-6){return M>=Math.min(Z,oe)-De&&M<=Math.max(Z,oe)+De}function Fr(M,Z,oe){oe=oe||(Tt=>M[Tt]<Z);let at,De=M.length-1,Be=0;for(;De-Be>1;)at=Be+De>>1,oe(at)?Be=at:De=at;return{lo:Be,hi:De}}const Sr=(M,Z,oe,De)=>Fr(M,oe,De?Be=>{const at=M[Be][Z];return at<oe||at===oe&&M[Be+1][Z]===oe}:Be=>M[Be][Z]<oe),Fi=(M,Z,oe)=>Fr(M,oe,De=>M[De][Z]>=oe);function Xr(M,Z,oe){let De=0,Be=M.length;for(;De<Be&&M[De]<Z;)De++;for(;Be>De&&M[Be-1]>oe;)Be--;return De>0||Be<M.length?M.slice(De,Be):M}const zr=["push","pop","shift","splice","unshift"];function Yr(M,Z){M._chartjs?M._chartjs.listeners.push(Z):(Object.defineProperty(M,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[Z]}}),zr.forEach(oe=>{const De="_onData"+Ei(oe),Be=M[oe];Object.defineProperty(M,oe,{configurable:!0,enumerable:!1,value(...at){const Tt=Be.apply(this,at);return M._chartjs.listeners.forEach(Wt=>{"function"==typeof Wt[De]&&Wt[De](...at)}),Tt}})}))}function rs(M,Z){const oe=M._chartjs;if(!oe)return;const De=oe.listeners,Be=De.indexOf(Z);-1!==Be&&De.splice(Be,1),!(De.length>0)&&(zr.forEach(at=>{delete M[at]}),delete M._chartjs)}function Os(M){const Z=new Set(M);return Z.size===M.length?M:Array.from(Z)}const ys=typeof window>"u"?function(M){return M()}:window.requestAnimationFrame;function cs(M,Z){let oe=[],De=!1;return function(...Be){oe=Be,De||(De=!0,ys.call(window,()=>{De=!1,M.apply(Z,oe)}))}}function yo(M,Z){let oe;return function(...De){return Z?(clearTimeout(oe),oe=setTimeout(M,Z,De)):M.apply(this,De),Z}}const ts=M=>"start"===M?"left":"end"===M?"right":"center",zi=(M,Z,oe)=>"start"===M?Z:"end"===M?oe:(Z+oe)/2,Qs=(M,Z,oe,De)=>M===(De?"left":"right")?oe:"center"===M?(Z+oe)/2:Z;function Js(M,Z,oe){const De=Z.length;let Be=0,at=De;if(M._sorted){const{iScale:Tt,_parsed:Wt}=M,rn=Tt.axis,{min:Fn,max:sr,minDefined:ri,maxDefined:Hr}=Tt.getUserBounds();ri&&(Be=fn(Math.min(Sr(Wt,rn,Fn).lo,oe?De:Sr(Z,rn,Tt.getPixelForValue(Fn)).lo),0,De-1)),at=Hr?fn(Math.max(Sr(Wt,Tt.axis,sr,!0).hi+1,oe?0:Sr(Z,rn,Tt.getPixelForValue(sr),!0).hi+1),Be,De)-Be:De-Be}return{start:Be,count:at}}function Is(M){const{xScale:Z,yScale:oe,_scaleRanges:De}=M,Be={xmin:Z.min,xmax:Z.max,ymin:oe.min,ymax:oe.max};if(!De)return M._scaleRanges=Be,!0;const at=De.xmin!==Z.min||De.xmax!==Z.max||De.ymin!==oe.min||De.ymax!==oe.max;return Object.assign(De,Be),at}const js=M=>0===M||1===M,re=(M,Z,oe)=>-Math.pow(2,10*(M-=1))*Math.sin((M-Z)*En/oe),pe=(M,Z,oe)=>Math.pow(2,-10*M)*Math.sin((M-Z)*En/oe)+1,Oe={linear:M=>M,easeInQuad:M=>M*M,easeOutQuad:M=>-M*(M-2),easeInOutQuad:M=>(M/=.5)<1?.5*M*M:-.5*(--M*(M-2)-1),easeInCubic:M=>M*M*M,easeOutCubic:M=>(M-=1)*M*M+1,easeInOutCubic:M=>(M/=.5)<1?.5*M*M*M:.5*((M-=2)*M*M+2),easeInQuart:M=>M*M*M*M,easeOutQuart:M=>-((M-=1)*M*M*M-1),easeInOutQuart:M=>(M/=.5)<1?.5*M*M*M*M:-.5*((M-=2)*M*M*M-2),easeInQuint:M=>M*M*M*M*M,easeOutQuint:M=>(M-=1)*M*M*M*M+1,easeInOutQuint:M=>(M/=.5)<1?.5*M*M*M*M*M:.5*((M-=2)*M*M*M*M+2),easeInSine:M=>1-Math.cos(M*Or),easeOutSine:M=>Math.sin(M*Or),easeInOutSine:M=>-.5*(Math.cos(Ht*M)-1),easeInExpo:M=>0===M?0:Math.pow(2,10*(M-1)),easeOutExpo:M=>1===M?1:1-Math.pow(2,-10*M),easeInOutExpo:M=>js(M)?M:M<.5?.5*Math.pow(2,10*(2*M-1)):.5*(2-Math.pow(2,-10*(2*M-1))),easeInCirc:M=>M>=1?M:-(Math.sqrt(1-M*M)-1),easeOutCirc:M=>Math.sqrt(1-(M-=1)*M),easeInOutCirc:M=>(M/=.5)<1?-.5*(Math.sqrt(1-M*M)-1):.5*(Math.sqrt(1-(M-=2)*M)+1),easeInElastic:M=>js(M)?M:re(M,.075,.3),easeOutElastic:M=>js(M)?M:pe(M,.075,.3),easeInOutElastic:M=>js(M)?M:M<.5?.5*re(2*M,.1125,.45):.5+.5*pe(2*M-1,.1125,.45),easeInBack:M=>M*M*(2.70158*M-1.70158),easeOutBack:M=>(M-=1)*M*(2.70158*M+1.70158)+1,easeInOutBack(M){let Z=1.70158;return(M/=.5)<1?M*M*((1+(Z*=1.525))*M-Z)*.5:.5*((M-=2)*M*((1+(Z*=1.525))*M+Z)+2)},easeInBounce:M=>1-Oe.easeOutBounce(1-M),easeOutBounce:M=>M<1/2.75?7.5625*M*M:M<2/2.75?7.5625*(M-=1.5/2.75)*M+.75:M<2.5/2.75?7.5625*(M-=2.25/2.75)*M+.9375:7.5625*(M-=2.625/2.75)*M+.984375,easeInOutBounce:M=>M<.5?.5*Oe.easeInBounce(2*M):.5*Oe.easeOutBounce(2*M-1)+.5};function _e(M){if(M&&"object"==typeof M){const Z=M.toString();return"[object CanvasPattern]"===Z||"[object CanvasGradient]"===Z}return!1}function ne(M){return _e(M)?M:new vn(M)}function ve(M){return _e(M)?M:new vn(M).saturate(.5).darken(.1).hexString()}const st=["x","y","borderWidth","radius","tension"],wt=["color","borderColor","backgroundColor"],Vn=new Map;function Nr(M,Z,oe){return function Un(M,Z){Z=Z||{};const oe=M+JSON.stringify(Z);let De=Vn.get(oe);return De||(De=new Intl.NumberFormat(M,Z),Vn.set(oe,De)),De}(Z,oe).format(M)}const Qr={values:M=>ir(M)?M:""+M,numeric(M,Z,oe){if(0===M)return"0";const De=this.chart.options.locale;let Be,at=M;if(oe.length>1){const Fn=Math.max(Math.abs(oe[0].value),Math.abs(oe[oe.length-1].value));(Fn<1e-4||Fn>1e15)&&(Be="scientific"),at=function vs(M,Z){let oe=Z.length>3?Z[2].value-Z[1].value:Z[1].value-Z[0].value;return Math.abs(oe)>=1&&M!==Math.floor(M)&&(oe=M-Math.floor(M)),oe}(M,oe)}const Tt=ie(Math.abs(at)),Wt=isNaN(Tt)?1:Math.max(Math.min(-1*Math.floor(Tt),20),0),rn={notation:Be,minimumFractionDigits:Wt,maximumFractionDigits:Wt};return Object.assign(rn,this.options.ticks.format),Nr(M,De,rn)},logarithmic(M,Z,oe){if(0===M)return"0";const De=oe[Z].significand||M/Math.pow(10,Math.floor(ie(M)));return[1,2,3,5,10,15].includes(De)||Z>.8*oe.length?Qr.numeric.call(this,M,Z,oe):""}};var Ji={formatters:Qr};const Mr=Object.create(null),Tn=Object.create(null);function Lr(M,Z){if(!Z)return M;const oe=Z.split(".");for(let De=0,Be=oe.length;De<Be;++De){const at=oe[De];M=M[at]||(M[at]=Object.create(null))}return M}function Br(M,Z,oe){return"string"==typeof Z?mr(Lr(M,Z),oe):mr(Lr(M,""),Z)}class Ts{constructor(Z,oe){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=De=>De.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(De,Be)=>ve(Be.backgroundColor),this.hoverBorderColor=(De,Be)=>ve(Be.borderColor),this.hoverColor=(De,Be)=>ve(Be.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(Z),this.apply(oe)}set(Z,oe){return Br(this,Z,oe)}get(Z){return Lr(this,Z)}describe(Z,oe){return Br(Tn,Z,oe)}override(Z,oe){return Br(Mr,Z,oe)}route(Z,oe,De,Be){const at=Lr(this,Z),Tt=Lr(this,De),Wt="_"+oe;Object.defineProperties(at,{[Wt]:{value:at[oe],writable:!0},[oe]:{enumerable:!0,get(){const rn=this[Wt],Fn=Tt[Be];return an(rn)?Object.assign({},Fn,rn):xr(rn,Fn)},set(rn){this[Wt]=rn}}})}apply(Z){Z.forEach(oe=>oe(this))}}var Ao=new Ts({_scriptable:M=>!M.startsWith("on"),_indexable:M=>"events"!==M,hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[function $t(M){M.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),M.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:Z=>"onProgress"!==Z&&"onComplete"!==Z&&"fn"!==Z}),M.set("animations",{colors:{type:"color",properties:wt},numbers:{type:"number",properties:st}}),M.describe("animations",{_fallback:"animation"}),M.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:Z=>0|Z}}}})},function nn(M){M.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})},function Ti(M){M.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(Z,oe)=>oe.lineWidth,tickColor:(Z,oe)=>oe.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:Ji.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),M.route("scale.ticks","color","","color"),M.route("scale.grid","color","","borderColor"),M.route("scale.border","color","","borderColor"),M.route("scale.title","color","","color"),M.describe("scale",{_fallback:!1,_scriptable:Z=>!Z.startsWith("before")&&!Z.startsWith("after")&&"callback"!==Z&&"parser"!==Z,_indexable:Z=>"borderDash"!==Z&&"tickBorderDash"!==Z&&"dash"!==Z}),M.describe("scales",{_fallback:"scale"}),M.describe("scale.ticks",{_scriptable:Z=>"backdropPadding"!==Z&&"callback"!==Z,_indexable:Z=>"backdropPadding"!==Z})}]);function vo(M,Z,oe,De,Be){let at=Z[Be];return at||(at=Z[Be]=M.measureText(Be).width,oe.push(Be)),at>De&&(De=at),De}function Jr(M,Z,oe,De){let Be=(De=De||{}).data=De.data||{},at=De.garbageCollect=De.garbageCollect||[];De.font!==Z&&(Be=De.data={},at=De.garbageCollect=[],De.font=Z),M.save(),M.font=Z;let Tt=0;const Wt=oe.length;let rn,Fn,sr,ri,Hr;for(rn=0;rn<Wt;rn++)if(ri=oe[rn],null==ri||ir(ri)){if(ir(ri))for(Fn=0,sr=ri.length;Fn<sr;Fn++)Hr=ri[Fn],null!=Hr&&!ir(Hr)&&(Tt=vo(M,Be,at,Tt,Hr))}else Tt=vo(M,Be,at,Tt,ri);M.restore();const Ms=at.length/2;if(Ms>oe.length){for(rn=0;rn<Ms;rn++)delete Be[at[rn]];at.splice(0,Ms)}return Tt}function Ur(M,Z,oe){const De=M.currentDevicePixelRatio,Be=0!==oe?Math.max(oe/2,.5):0;return Math.round((Z-Be)*De)/De+Be}function ji(M,Z){(Z=Z||M.getContext("2d")).save(),Z.resetTransform(),Z.clearRect(0,0,M.width,M.height),Z.restore()}function qr(M,Z,oe,De){so(M,Z,oe,De,null)}function so(M,Z,oe,De,Be){let at,Tt,Wt,rn,Fn,sr,ri,Hr;const Ms=Z.pointStyle,Gs=Z.rotation,K=Z.radius;let de=(Gs||0)*kr;if(Ms&&"object"==typeof Ms&&(at=Ms.toString(),"[object HTMLImageElement]"===at||"[object HTMLCanvasElement]"===at))return M.save(),M.translate(oe,De),M.rotate(de),M.drawImage(Ms,-Ms.width/2,-Ms.height/2,Ms.width,Ms.height),void M.restore();if(!(isNaN(K)||K<=0)){switch(M.beginPath(),Ms){default:Be?M.ellipse(oe,De,Be/2,K,0,0,En):M.arc(oe,De,K,0,En),M.closePath();break;case"triangle":sr=Be?Be/2:K,M.moveTo(oe+Math.sin(de)*sr,De-Math.cos(de)*K),de+=Ae,M.lineTo(oe+Math.sin(de)*sr,De-Math.cos(de)*K),de+=Ae,M.lineTo(oe+Math.sin(de)*sr,De-Math.cos(de)*K),M.closePath();break;case"rectRounded":Fn=.516*K,rn=K-Fn,Tt=Math.cos(de+gt)*rn,ri=Math.cos(de+gt)*(Be?Be/2-Fn:rn),Wt=Math.sin(de+gt)*rn,Hr=Math.sin(de+gt)*(Be?Be/2-Fn:rn),M.arc(oe-ri,De-Wt,Fn,de-Ht,de-Or),M.arc(oe+Hr,De-Tt,Fn,de-Or,de),M.arc(oe+ri,De+Wt,Fn,de,de+Or),M.arc(oe-Hr,De+Tt,Fn,de+Or,de+Ht),M.closePath();break;case"rect":if(!Gs){rn=Math.SQRT1_2*K,sr=Be?Be/2:rn,M.rect(oe-sr,De-rn,2*sr,2*rn);break}de+=gt;case"rectRot":ri=Math.cos(de)*(Be?Be/2:K),Tt=Math.cos(de)*K,Wt=Math.sin(de)*K,Hr=Math.sin(de)*(Be?Be/2:K),M.moveTo(oe-ri,De-Wt),M.lineTo(oe+Hr,De-Tt),M.lineTo(oe+ri,De+Wt),M.lineTo(oe-Hr,De+Tt),M.closePath();break;case"crossRot":de+=gt;case"cross":ri=Math.cos(de)*(Be?Be/2:K),Tt=Math.cos(de)*K,Wt=Math.sin(de)*K,Hr=Math.sin(de)*(Be?Be/2:K),M.moveTo(oe-ri,De-Wt),M.lineTo(oe+ri,De+Wt),M.moveTo(oe+Hr,De-Tt),M.lineTo(oe-Hr,De+Tt);break;case"star":ri=Math.cos(de)*(Be?Be/2:K),Tt=Math.cos(de)*K,Wt=Math.sin(de)*K,Hr=Math.sin(de)*(Be?Be/2:K),M.moveTo(oe-ri,De-Wt),M.lineTo(oe+ri,De+Wt),M.moveTo(oe+Hr,De-Tt),M.lineTo(oe-Hr,De+Tt),de+=gt,ri=Math.cos(de)*(Be?Be/2:K),Tt=Math.cos(de)*K,Wt=Math.sin(de)*K,Hr=Math.sin(de)*(Be?Be/2:K),M.moveTo(oe-ri,De-Wt),M.lineTo(oe+ri,De+Wt),M.moveTo(oe+Hr,De-Tt),M.lineTo(oe-Hr,De+Tt);break;case"line":Tt=Be?Be/2:Math.cos(de)*K,Wt=Math.sin(de)*K,M.moveTo(oe-Tt,De-Wt),M.lineTo(oe+Tt,De+Wt);break;case"dash":M.moveTo(oe,De),M.lineTo(oe+Math.cos(de)*(Be?Be/2:K),De+Math.sin(de)*K);break;case!1:M.closePath()}M.fill(),Z.borderWidth>0&&M.stroke()}}function _s(M,Z,oe){return oe=oe||.5,!Z||M&&M.x>Z.left-oe&&M.x<Z.right+oe&&M.y>Z.top-oe&&M.y<Z.bottom+oe}function ki(M,Z){M.save(),M.beginPath(),M.rect(Z.left,Z.top,Z.right-Z.left,Z.bottom-Z.top),M.clip()}function es(M){M.restore()}function eo(M,Z,oe,De,Be){if(!Z)return M.lineTo(oe.x,oe.y);if("middle"===Be){const at=(Z.x+oe.x)/2;M.lineTo(at,Z.y),M.lineTo(at,oe.y)}else"after"===Be!=!!De?M.lineTo(Z.x,oe.y):M.lineTo(oe.x,Z.y);M.lineTo(oe.x,oe.y)}function uo(M,Z,oe,De){if(!Z)return M.lineTo(oe.x,oe.y);M.bezierCurveTo(De?Z.cp1x:Z.cp2x,De?Z.cp1y:Z.cp2y,De?oe.cp2x:oe.cp1x,De?oe.cp2y:oe.cp1y,oe.x,oe.y)}function Eo(M,Z,oe,De,Be){if(Be.strikethrough||Be.underline){const at=M.measureText(De),Tt=Z-at.actualBoundingBoxLeft,Wt=Z+at.actualBoundingBoxRight,Fn=oe+at.actualBoundingBoxDescent,sr=Be.strikethrough?(oe-at.actualBoundingBoxAscent+Fn)/2:Fn;M.strokeStyle=M.fillStyle,M.beginPath(),M.lineWidth=Be.decorationWidth||2,M.moveTo(Tt,sr),M.lineTo(Wt,sr),M.stroke()}}function _o(M,Z){const oe=M.fillStyle;M.fillStyle=Z.color,M.fillRect(Z.left,Z.top,Z.width,Z.height),M.fillStyle=oe}function wo(M,Z,oe,De,Be,at={}){const Tt=ir(Z)?Z:[Z],Wt=at.strokeWidth>0&&""!==at.strokeColor;let rn,Fn;for(M.save(),M.font=Be.string,function zs(M,Z){Z.translation&&M.translate(Z.translation[0],Z.translation[1]),un(Z.rotation)||M.rotate(Z.rotation),Z.color&&(M.fillStyle=Z.color),Z.textAlign&&(M.textAlign=Z.textAlign),Z.textBaseline&&(M.textBaseline=Z.textBaseline)}(M,at),rn=0;rn<Tt.length;++rn)Fn=Tt[rn],at.backdrop&&_o(M,at.backdrop),Wt&&(at.strokeColor&&(M.strokeStyle=at.strokeColor),un(at.strokeWidth)||(M.lineWidth=at.strokeWidth),M.strokeText(Fn,oe,De,at.maxWidth)),M.fillText(Fn,oe,De,at.maxWidth),Eo(M,oe,De,Fn,at),De+=Number(Be.lineHeight);M.restore()}function As(M,Z){const{x:oe,y:De,w:Be,h:at,radius:Tt}=Z;M.arc(oe+Tt.topLeft,De+Tt.topLeft,Tt.topLeft,1.5*Ht,Ht,!0),M.lineTo(oe,De+at-Tt.bottomLeft),M.arc(oe+Tt.bottomLeft,De+at-Tt.bottomLeft,Tt.bottomLeft,Ht,Or,!0),M.lineTo(oe+Be-Tt.bottomRight,De+at),M.arc(oe+Be-Tt.bottomRight,De+at-Tt.bottomRight,Tt.bottomRight,Or,0,!0),M.lineTo(oe+Be,De+Tt.topRight),M.arc(oe+Be-Tt.topRight,De+Tt.topRight,Tt.topRight,0,-Or,!0),M.lineTo(oe+Tt.topLeft,De)}const qo=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,bs=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function xi(M,Z){const oe=(""+M).match(qo);if(!oe||"normal"===oe[1])return 1.2*Z;switch(M=+oe[2],oe[3]){case"px":return M;case"%":M/=100}return Z*M}const No=M=>+M||0;function Yi(M,Z){const oe={},De=an(Z),Be=De?Object.keys(Z):Z,at=an(M)?De?Tt=>xr(M[Tt],M[Z[Tt]]):Tt=>M[Tt]:()=>M;for(const Tt of Be)oe[Tt]=No(at(Tt));return oe}function Ri(M){return Yi(M,{top:"y",right:"x",bottom:"y",left:"x"})}function Bs(M){return Yi(M,["topLeft","topRight","bottomLeft","bottomRight"])}function Ys(M){const Z=Ri(M);return Z.width=Z.left+Z.right,Z.height=Z.top+Z.bottom,Z}function Io(M,Z){let oe=xr((M=M||{}).size,(Z=Z||Ao.font).size);"string"==typeof oe&&(oe=parseInt(oe,10));let De=xr(M.style,Z.style);De&&!(""+De).match(bs)&&(console.warn('Invalid font style specified: "'+De+'"'),De=void 0);const Be={family:xr(M.family,Z.family),lineHeight:xi(xr(M.lineHeight,Z.lineHeight),oe),size:oe,style:De,weight:xr(M.weight,Z.weight),string:""};return Be.string=function is(M){return!M||un(M.size)||un(M.family)?null:(M.style?M.style+" ":"")+(M.weight?M.weight+" ":"")+M.size+"px "+M.family}(Be),Be}function hs(M,Z,oe,De){let at,Tt,Wt,Be=!0;for(at=0,Tt=M.length;at<Tt;++at)if(Wt=M[at],void 0!==Wt&&(void 0!==Z&&"function"==typeof Wt&&(Wt=Wt(Z),Be=!1),void 0!==oe&&ir(Wt)&&(Wt=Wt[oe%Wt.length],Be=!1),void 0!==Wt))return De&&!Be&&(De.cacheable=!1),Wt}function fs(M,Z,oe){const{min:De,max:Be}=M,at=ai(Z,(Be-De)/2),Tt=(Wt,rn)=>oe&&0===Wt?0:Wt+rn;return{min:Tt(De,-Math.abs(at)),max:Tt(Be,at)}}function ho(M,Z){return Object.assign(Object.create(M),Z)}function oo(M,Z=[""],oe,De,Be=(()=>M[0])){const at=oe||M;typeof De>"u"&&(De=O("_fallback",M));const Tt={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:M,_rootScopes:at,_fallback:De,_getTarget:Be,override:Wt=>oo([Wt,...M],Z,at,De)};return new Proxy(Tt,{deleteProperty:(Wt,rn)=>(delete Wt[rn],delete Wt._keys,delete M[0][rn],!0),get:(Wt,rn)=>Co(Wt,rn,()=>function qi(M,Z,oe,De){let Be;for(const at of Z)if(Be=O(xo(at,M),oe),typeof Be<"u")return bo(M,Be)?Mo(oe,De,M,Be):Be}(rn,Z,M,Wt)),getOwnPropertyDescriptor:(Wt,rn)=>Reflect.getOwnPropertyDescriptor(Wt._scopes[0],rn),getPrototypeOf:()=>Reflect.getPrototypeOf(M[0]),has:(Wt,rn)=>he(Wt).includes(rn),ownKeys:Wt=>he(Wt),set(Wt,rn,Fn){const sr=Wt._storage||(Wt._storage=Be());return Wt[rn]=sr[rn]=Fn,delete Wt._keys,!0}})}function Ni(M,Z,oe,De){const Be={_cacheable:!1,_proxy:M,_context:Z,_subProxy:oe,_stack:new Set,_descriptors:Go(M,De),setContext:at=>Ni(M,at,oe,De),override:at=>Ni(M.override(at),Z,oe,De)};return new Proxy(Be,{deleteProperty:(at,Tt)=>(delete at[Tt],delete M[Tt],!0),get:(at,Tt,Wt)=>Co(at,Tt,()=>function to(M,Z,oe){const{_proxy:De,_context:Be,_subProxy:at,_descriptors:Tt}=M;let Wt=De[Z];return Cn(Wt)&&Tt.isScriptable(Z)&&(Wt=function Zo(M,Z,oe,De){const{_proxy:Be,_context:at,_subProxy:Tt,_stack:Wt}=oe;if(Wt.has(M))throw new Error("Recursion detected: "+Array.from(Wt).join("->")+"->"+M);Wt.add(M);let rn=Z(at,Tt||De);return Wt.delete(M),bo(M,rn)&&(rn=Mo(Be._scopes,Be,M,rn)),rn}(Z,Wt,M,oe)),ir(Wt)&&Wt.length&&(Wt=function ao(M,Z,oe,De){const{_proxy:Be,_context:at,_subProxy:Tt,_descriptors:Wt}=oe;if(typeof at.index<"u"&&De(M))return Z[at.index%Z.length];if(an(Z[0])){const rn=Z,Fn=Be._scopes.filter(sr=>sr!==rn);Z=[];for(const sr of rn){const ri=Mo(Fn,Be,M,sr);Z.push(Ni(ri,at,Tt&&Tt[M],Wt))}}return Z}(Z,Wt,M,Tt.isIndexable)),bo(Z,Wt)&&(Wt=Ni(Wt,Be,at&&at[Z],Tt)),Wt}(at,Tt,Wt)),getOwnPropertyDescriptor:(at,Tt)=>at._descriptors.allKeys?Reflect.has(M,Tt)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(M,Tt),getPrototypeOf:()=>Reflect.getPrototypeOf(M),has:(at,Tt)=>Reflect.has(M,Tt),ownKeys:()=>Reflect.ownKeys(M),set:(at,Tt,Wt)=>(M[Tt]=Wt,delete at[Tt],!0)})}function Go(M,Z={scriptable:!0,indexable:!0}){const{_scriptable:oe=Z.scriptable,_indexable:De=Z.indexable,_allKeys:Be=Z.allKeys}=M;return{allKeys:Be,scriptable:oe,indexable:De,isScriptable:Cn(oe)?oe:()=>oe,isIndexable:Cn(De)?De:()=>De}}const xo=(M,Z)=>M?M+Ei(Z):Z,bo=(M,Z)=>an(Z)&&"adapters"!==M&&(null===Object.getPrototypeOf(Z)||Z.constructor===Object);function Co(M,Z,oe){if(Object.prototype.hasOwnProperty.call(M,Z))return M[Z];const De=oe();return M[Z]=De,De}function $s(M,Z,oe){return Cn(M)?M(Z,oe):M}const Ro=(M,Z)=>!0===M?Z:"string"==typeof M?fr(Z,M):void 0;function us(M,Z,oe,De,Be){for(const at of Z){const Tt=Ro(oe,at);if(Tt){M.add(Tt);const Wt=$s(Tt._fallback,oe,Be);if(typeof Wt<"u"&&Wt!==oe&&Wt!==De)return Wt}else if(!1===Tt&&typeof De<"u"&&oe!==De)return null}return!1}function Mo(M,Z,oe,De){const Be=Z._rootScopes,at=$s(Z._fallback,oe,De),Tt=[...M,...Be],Wt=new Set;Wt.add(De);let rn=fo(Wt,Tt,oe,at||oe,De);return!(null===rn||typeof at<"u"&&at!==oe&&(rn=fo(Wt,Tt,at,rn,De),null===rn))&&oo(Array.from(Wt),[""],Be,at,()=>function jo(M,Z,oe){const De=M._getTarget();Z in De||(De[Z]={});const Be=De[Z];return ir(Be)&&an(oe)?oe:Be||{}}(Z,oe,De))}function fo(M,Z,oe,De,Be){for(;oe;)oe=us(M,Z,oe,De,Be);return oe}function O(M,Z){for(const oe of Z){if(!oe)continue;const De=oe[M];if(typeof De<"u")return De}}function he(M){let Z=M._keys;return Z||(Z=M._keys=function N(M){const Z=new Set;for(const oe of M)for(const De of Object.keys(oe).filter(Be=>!Be.startsWith("_")))Z.add(De);return Array.from(Z)}(M._scopes)),Z}function ce(M,Z,oe,De){const{iScale:Be}=M,{key:at="r"}=this._parsing,Tt=new Array(De);let Wt,rn,Fn,sr;for(Wt=0,rn=De;Wt<rn;++Wt)Fn=Wt+oe,sr=Z[Fn],Tt[Wt]={r:Be.parse(fr(sr,at),Fn)};return Tt}const Ge=Number.EPSILON||1e-14,_n=(M,Z)=>Z<M.length&&!M[Z].skip&&M[Z],Tr=M=>"x"===M?"y":"x";function Xn(M,Z,oe,De){const Be=M.skip?Z:M,at=Z,Tt=oe.skip?Z:oe,Wt=yn(at,Be),rn=yn(Tt,at);let Fn=Wt/(Wt+rn),sr=rn/(Wt+rn);Fn=isNaN(Fn)?0:Fn,sr=isNaN(sr)?0:sr;const ri=De*Fn,Hr=De*sr;return{previous:{x:at.x-ri*(Tt.x-Be.x),y:at.y-ri*(Tt.y-Be.y)},next:{x:at.x+Hr*(Tt.x-Be.x),y:at.y+Hr*(Tt.y-Be.y)}}}function Ci(M,Z,oe){return Math.max(Math.min(M,oe),Z)}function Do(M,Z,oe,De,Be){let at,Tt,Wt,rn;if(Z.spanGaps&&(M=M.filter(Fn=>!Fn.skip)),"monotone"===Z.cubicInterpolationMode)!function Es(M,Z="x"){const oe=Tr(Z),De=M.length,Be=Array(De).fill(0),at=Array(De);let Tt,Wt,rn,Fn=_n(M,0);for(Tt=0;Tt<De;++Tt)if(Wt=rn,rn=Fn,Fn=_n(M,Tt+1),rn){if(Fn){const sr=Fn[Z]-rn[Z];Be[Tt]=0!==sr?(Fn[oe]-rn[oe])/sr:0}at[Tt]=Wt?Fn?te(Be[Tt-1])!==te(Be[Tt])?0:(Be[Tt-1]+Be[Tt])/2:Be[Tt-1]:Be[Tt]}(function hi(M,Z,oe){const De=M.length;let Be,at,Tt,Wt,rn,Fn=_n(M,0);for(let sr=0;sr<De-1;++sr)if(rn=Fn,Fn=_n(M,sr+1),rn&&Fn){if(se(Z[sr],0,Ge)){oe[sr]=oe[sr+1]=0;continue}Be=oe[sr]/Z[sr],at=oe[sr+1]/Z[sr],Wt=Math.pow(Be,2)+Math.pow(at,2),!(Wt<=9)&&(Tt=3/Math.sqrt(Wt),oe[sr]=Be*Tt*Z[sr],oe[sr+1]=at*Tt*Z[sr])}})(M,Be,at),function ni(M,Z,oe="x"){const De=Tr(oe),Be=M.length;let at,Tt,Wt,rn=_n(M,0);for(let Fn=0;Fn<Be;++Fn){if(Tt=Wt,Wt=rn,rn=_n(M,Fn+1),!Wt)continue;const sr=Wt[oe],ri=Wt[De];Tt&&(at=(sr-Tt[oe])/3,Wt[`cp1${oe}`]=sr-at,Wt[`cp1${De}`]=ri-at*Z[Fn]),rn&&(at=(rn[oe]-sr)/3,Wt[`cp2${oe}`]=sr+at,Wt[`cp2${De}`]=ri+at*Z[Fn])}}(M,at,Z)}(M,Be);else{let Fn=De?M[M.length-1]:M[0];for(at=0,Tt=M.length;at<Tt;++at)Wt=M[at],rn=Xn(Fn,Wt,M[Math.min(at+1,Tt-(De?0:1))%Tt],Z.tension),Wt.cp1x=rn.previous.x,Wt.cp1y=rn.previous.y,Wt.cp2x=rn.next.x,Wt.cp2y=rn.next.y,Fn=Wt}Z.capBezierPoints&&function Hs(M,Z){let oe,De,Be,at,Tt,Wt=_s(M[0],Z);for(oe=0,De=M.length;oe<De;++oe)Tt=at,at=Wt,Wt=oe<De-1&&_s(M[oe+1],Z),at&&(Be=M[oe],Tt&&(Be.cp1x=Ci(Be.cp1x,Z.left,Z.right),Be.cp1y=Ci(Be.cp1y,Z.top,Z.bottom)),Wt&&(Be.cp2x=Ci(Be.cp2x,Z.left,Z.right),Be.cp2y=Ci(Be.cp2y,Z.top,Z.bottom)))}(M,oe)}function Ee(){return typeof window<"u"&&typeof document<"u"}function le(M){let Z=M.parentNode;return Z&&"[object ShadowRoot]"===Z.toString()&&(Z=Z.host),Z}function $(M,Z,oe){let De;return"string"==typeof M?(De=parseInt(M,10),-1!==M.indexOf("%")&&(De=De/100*Z.parentNode[oe])):De=M,De}const F=M=>M.ownerDocument.defaultView.getComputedStyle(M,null),L=["top","right","bottom","left"];function ge(M,Z,oe){const De={};oe=oe?"-"+oe:"";for(let Be=0;Be<4;Be++){const at=L[Be];De[at]=parseFloat(M[Z+"-"+at+oe])||0}return De.width=De.left+De.right,De.height=De.top+De.bottom,De}const ht=(M,Z,oe)=>(M>0||Z>0)&&(!oe||!oe.shadowRoot);function dn(M,Z){if("native"in M)return M;const{canvas:oe,currentDevicePixelRatio:De}=Z,Be=F(oe),at="border-box"===Be.boxSizing,Tt=ge(Be,"padding"),Wt=ge(Be,"border","width"),{x:rn,y:Fn,box:sr}=function Pt(M,Z){const oe=M.touches,De=oe&&oe.length?oe[0]:M,{offsetX:Be,offsetY:at}=De;let Wt,rn,Tt=!1;if(ht(Be,at,M.target))Wt=Be,rn=at;else{const Fn=Z.getBoundingClientRect();Wt=De.clientX-Fn.left,rn=De.clientY-Fn.top,Tt=!0}return{x:Wt,y:rn,box:Tt}}(M,oe),ri=Tt.left+(sr&&Wt.left),Hr=Tt.top+(sr&&Wt.top);let{width:Ms,height:Gs}=Z;return at&&(Ms-=Tt.width+Wt.width,Gs-=Tt.height+Wt.height),{x:Math.round((rn-ri)/Ms*oe.width/De),y:Math.round((Fn-Hr)/Gs*oe.height/De)}}const ci=M=>Math.round(10*M)/10;function ui(M,Z,oe,De){const Be=F(M),at=ge(Be,"margin"),Tt=$(Be.maxWidth,M,"clientWidth")||jr,Wt=$(Be.maxHeight,M,"clientHeight")||jr,rn=function Mn(M,Z,oe){let De,Be;if(void 0===Z||void 0===oe){const at=le(M);if(at){const Tt=at.getBoundingClientRect(),Wt=F(at),rn=ge(Wt,"border","width"),Fn=ge(Wt,"padding");Z=Tt.width-Fn.width-rn.width,oe=Tt.height-Fn.height-rn.height,De=$(Wt.maxWidth,at,"clientWidth"),Be=$(Wt.maxHeight,at,"clientHeight")}else Z=M.clientWidth,oe=M.clientHeight}return{width:Z,height:oe,maxWidth:De||jr,maxHeight:Be||jr}}(M,Z,oe);let{width:Fn,height:sr}=rn;if("content-box"===Be.boxSizing){const Hr=ge(Be,"border","width"),Ms=ge(Be,"padding");Fn-=Ms.width+Hr.width,sr-=Ms.height+Hr.height}return Fn=Math.max(0,Fn-at.width),sr=Math.max(0,De?Fn/De:sr-at.height),Fn=ci(Math.min(Fn,Tt,rn.maxWidth)),sr=ci(Math.min(sr,Wt,rn.maxHeight)),Fn&&!sr&&(sr=ci(Fn/2)),(void 0!==Z||void 0!==oe)&&De&&rn.height&&sr>rn.height&&(sr=rn.height,Fn=ci(Math.floor(sr*De))),{width:Fn,height:sr}}function gi(M,Z,oe){const De=Z||1,Be=Math.floor(M.height*De),at=Math.floor(M.width*De);M.height=Math.floor(M.height),M.width=Math.floor(M.width);const Tt=M.canvas;return Tt.style&&(oe||!Tt.style.height&&!Tt.style.width)&&(Tt.style.height=`${M.height}px`,Tt.style.width=`${M.width}px`),(M.currentDevicePixelRatio!==De||Tt.height!==Be||Tt.width!==at)&&(M.currentDevicePixelRatio=De,Tt.height=Be,Tt.width=at,M.ctx.setTransform(De,0,0,De,0,0),!0)}const vi=function(){let M=!1;try{const Z={get passive(){return M=!0,!1}};window.addEventListener("test",null,Z),window.removeEventListener("test",null,Z)}catch{}return M}();function mi(M,Z){const oe=function S(M,Z){return F(M).getPropertyValue(Z)}(M,Z),De=oe&&oe.match(/^(\d+)(\.\d+)?px$/);return De?+De[1]:void 0}function Zi(M,Z,oe,De){return{x:M.x+oe*(Z.x-M.x),y:M.y+oe*(Z.y-M.y)}}function qs(M,Z,oe,De){return{x:M.x+oe*(Z.x-M.x),y:"middle"===De?oe<.5?M.y:Z.y:"after"===De?oe<1?M.y:Z.y:oe>0?Z.y:M.y}}function xs(M,Z,oe,De){const Be={x:M.cp2x,y:M.cp2y},at={x:Z.cp1x,y:Z.cp1y},Tt=Zi(M,Be,oe),Wt=Zi(Be,at,oe),rn=Zi(at,Z,oe),Fn=Zi(Tt,Wt,oe),sr=Zi(Wt,rn,oe);return Zi(Fn,sr,oe)}const Ws=function(M,Z){return{x:oe=>M+M+Z-oe,setWidth(oe){Z=oe},textAlign:oe=>"center"===oe?oe:"right"===oe?"left":"right",xPlus:(oe,De)=>oe-De,leftForLtr:(oe,De)=>oe-De}},wi=function(){return{x:M=>M,setWidth(M){},textAlign:M=>M,xPlus:(M,Z)=>M+Z,leftForLtr:(M,Z)=>M}};function Cs(M,Z,oe){return M?Ws(Z,oe):wi()}function no(M,Z){let oe,De;("ltr"===Z||"rtl"===Z)&&(oe=M.canvas.style,De=[oe.getPropertyValue("direction"),oe.getPropertyPriority("direction")],oe.setProperty("direction",Z,"important"),M.prevTextDirection=De)}function zo(M,Z){void 0!==Z&&(delete M.prevTextDirection,M.canvas.style.setProperty("direction",Z[0],Z[1]))}function So(M){return"angle"===M?{between:Kt,compare:kn,normalize:Bt}:{between:pr,compare:(Z,oe)=>Z-oe,normalize:Z=>Z}}function sa({start:M,end:Z,count:oe,loop:De,style:Be}){return{start:M%oe,end:Z%oe,loop:De&&(Z-M+1)%oe==0,style:Be}}function Da(M,Z,oe){if(!oe)return[M];const{property:De,start:Be,end:at}=oe,Tt=Z.length,{compare:Wt,between:rn,normalize:Fn}=So(De),{start:sr,end:ri,loop:Hr,style:Ms}=function Jo(M,Z,oe){const{property:De,start:Be,end:at}=oe,{between:Tt,normalize:Wt}=So(De),rn=Z.length;let Hr,Ms,{start:Fn,end:sr,loop:ri}=M;if(ri){for(Fn+=rn,sr+=rn,Hr=0,Ms=rn;Hr<Ms&&Tt(Wt(Z[Fn%rn][De]),Be,at);++Hr)Fn--,sr--;Fn%=rn,sr%=rn}return sr<Fn&&(sr+=rn),{start:Fn,end:sr,loop:ri,style:M.style}}(M,Z,oe),Gs=[];let Q,Pe,_t,K=!1,de=null;for(let Hi=sr,ei=sr;Hi<=ri;++Hi)Pe=Z[Hi%Tt],!Pe.skip&&(Q=Fn(Pe[De]),Q!==_t&&(K=rn(Q,Be,at),null===de&&(K||rn(Be,_t,Q)&&0!==Wt(Be,_t))&&(de=0===Wt(Q,Be)?Hi:ei),null!==de&&(!K||0===Wt(at,Q)||rn(at,_t,Q))&&(Gs.push(sa({start:de,end:Hi,loop:Hr,count:Tt,style:Ms})),de=null),ei=Hi,_t=Q));return null!==de&&Gs.push(sa({start:de,end:ri,loop:Hr,count:Tt,style:Ms})),Gs}function Sa(M,Z){const oe=[],De=M.segments;for(let Be=0;Be<De.length;Be++){const at=Da(De[Be],M.points,Z);at.length&&oe.push(...at)}return oe}function Vs(M,Z){const oe=M.points,De=M.options.spanGaps,Be=oe.length;if(!Be)return[];const at=!!M._loop,{start:Tt,end:Wt}=function na(M,Z,oe,De){let Be=0,at=Z-1;if(oe&&!De)for(;Be<Z&&!M[Be].skip;)Be++;for(;Be<Z&&M[Be].skip;)Be++;for(Be%=Z,oe&&(at+=Be);at>Be&&M[at%Z].skip;)at--;return at%=Z,{start:Be,end:at}}(oe,Be,at,De);return To(M,!0===De?[{start:Tt,end:Wt,loop:at}]:function Na(M,Z,oe,De){const Be=M.length,at=[];let rn,Tt=Z,Wt=M[Z];for(rn=Z+1;rn<=oe;++rn){const Fn=M[rn%Be];Fn.skip||Fn.stop?Wt.skip||(at.push({start:Z%Be,end:(rn-1)%Be,loop:De=!1}),Z=Tt=Fn.stop?rn:null):(Tt=rn,Wt.skip&&(Z=rn)),Wt=Fn}return null!==Tt&&at.push({start:Z%Be,end:Tt%Be,loop:De}),at}(oe,Tt,Wt<Tt?Wt+Be:Wt,!!M._fullLoop&&0===Tt&&Wt===Be-1),oe,Z)}function To(M,Z,oe,De){return De&&De.setContext&&oe?function oa(M,Z,oe,De){const Be=M._chart.getContext(),at=Oo(M.options),{_datasetIndex:Tt,options:{spanGaps:Wt}}=M,rn=oe.length,Fn=[];let sr=at,ri=Z[0].start,Hr=ri;function Ms(Gs,K,de,Q){const Pe=Wt?-1:1;if(Gs!==K){for(Gs+=rn;oe[Gs%rn].skip;)Gs-=Pe;for(;oe[K%rn].skip;)K+=Pe;Gs%rn!=K%rn&&(Fn.push({start:Gs%rn,end:K%rn,loop:de,style:Q}),sr=Q,ri=K%rn)}}for(const Gs of Z){ri=Wt?ri:Gs.start;let de,K=oe[ri%rn];for(Hr=ri+1;Hr<=Gs.end;Hr++){const Q=oe[Hr%rn];de=Oo(De.setContext(ho(Be,{type:"segment",p0:K,p1:Q,p0DataIndex:(Hr-1)%rn,p1DataIndex:Hr%rn,datasetIndex:Tt}))),Ta(de,sr)&&Ms(ri,Hr-1,Gs.loop,sr),K=Q,sr=de}ri<Hr-1&&Ms(ri,Hr-1,Gs.loop,sr)}return Fn}(M,Z,oe,De):Z}function Oo(M){return{backgroundColor:M.backgroundColor,borderCapStyle:M.borderCapStyle,borderDash:M.borderDash,borderDashOffset:M.borderDashOffset,borderJoinStyle:M.borderJoinStyle,borderWidth:M.borderWidth,borderColor:M.borderColor}}function Ta(M,Z){if(!Z)return!1;const oe=[],De=function(Be,at){return _e(at)?(oe.includes(at)||oe.push(at),oe.indexOf(at)):at};return JSON.stringify(M,De)!==JSON.stringify(Z,De)}},5132:(Jn,Lt,z)=>{"use strict";z.d(Lt,{Gb:()=>d.Gb});var d=z(579)},259:(Jn,Lt,z)=>{"use strict";z.d(Lt,{C6:()=>d.getApps,KN:()=>d.registerVersion,Mq:()=>d.getApp,ZF:()=>d.initializeApp});var d=z(6881);(0,d.registerVersion)("firebase","9.22.0","app")},9260:(Jn,Lt,z)=>{"use strict";z.d(Lt,{Z:()=>d.Z});var d=z(3942);d.Z.registerVersion("firebase","9.22.0","app-compat")},9568:(Jn,Lt,z)=>{"use strict";z.r(Lt);var d=z(5861),E=z(3942),be=z(1389),ke=z(2090),Se=(z(6881),z(1877),z(4859));function Re(){return window}function xe(){return xe=(0,d.Z)(function*(ie,te,se){var Ke;const{BuildInfo:xt}=Re();(0,be.as)(te.sessionId,"AuthEvent did not contain a session ID");const rt=yield function $e(ie){return kt.apply(this,arguments)}(te.sessionId),Vt={};return(0,be.at)()?Vt.ibi=xt.packageName:(0,be.au)()?Vt.apn=xt.packageName:(0,be.av)(ie,"operation-not-supported-in-this-environment"),xt.displayName&&(Vt.appDisplayName=xt.displayName),Vt.sessionId=rt,(0,be.aw)(ie,se,te.type,void 0,null!==(Ke=te.eventId)&&void 0!==Ke?Ke:void 0,Vt)}),xe.apply(this,arguments)}function Me(){return(Me=(0,d.Z)(function*(ie){const{BuildInfo:te}=Re(),se={};(0,be.at)()?se.iosBundleId=te.packageName:(0,be.au)()?se.androidPackageName=te.packageName:(0,be.av)(ie,"operation-not-supported-in-this-environment"),yield(0,be.ax)(ie,se)})).apply(this,arguments)}function jt(){return(jt=(0,d.Z)(function*(ie,te,se){const{cordova:Ke}=Re();let xt=()=>{};try{yield new Promise((rt,Vt)=>{let en=null;function Sn(){var ln;rt();const yn=null===(ln=Ke.plugins.browsertab)||void 0===ln?void 0:ln.close;"function"==typeof yn&&yn(),"function"==typeof(null==se?void 0:se.close)&&se.close()}function gn(){en||(en=window.setTimeout(()=>{Vt((0,be.az)(ie,"redirect-cancelled-by-user"))},2e3))}function Wn(){"visible"===(null==document?void 0:document.visibilityState)&&gn()}te.addPassiveListener(Sn),document.addEventListener("resume",gn,!1),(0,be.au)()&&document.addEventListener("visibilitychange",Wn,!1),xt=()=>{te.removePassiveListener(Sn),document.removeEventListener("resume",gn,!1),document.removeEventListener("visibilitychange",Wn,!1),en&&window.clearTimeout(en)}})}finally{xt()}})).apply(this,arguments)}function kt(){return(kt=(0,d.Z)(function*(ie){const te=function Mt(ie){if((0,be.as)(/[0-9a-zA-Z]+/.test(ie),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(ie);const te=new ArrayBuffer(ie.length),se=new Uint8Array(te);for(let Ke=0;Ke<ie.length;Ke++)se[Ke]=ie.charCodeAt(Ke);return se}(ie),se=yield crypto.subtle.digest("SHA-256",te);return Array.from(new Uint8Array(se)).map(xt=>xt.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}class It extends be.aB{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(te=>{this.resolveInialized=te})}addPassiveListener(te){this.passiveListeners.add(te)}removePassiveListener(te){this.passiveListeners.delete(te)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(te){return this.resolveInialized(),this.passiveListeners.forEach(se=>se(te)),super.onEvent(te)}initialized(){var te=this;return(0,d.Z)(function*(){yield te.initPromise})()}}function yt(ie){return ee.apply(this,arguments)}function ee(){return(ee=(0,d.Z)(function*(ie){const te=yield Ft()._get(qt(ie));return te&&(yield Ft()._remove(qt(ie))),te})).apply(this,arguments)}function Dt(){const ie=[];for(let se=0;se<20;se++){const Ke=Math.floor(62*Math.random());ie.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Ke))}return ie.join("")}function Ft(){return(0,be.aC)(be.b)}function qt(ie){return(0,be.aD)("authEvent",ie.config.apiKey,ie.name)}function ct(ie){if(null==ie||!ie.includes("?"))return{};const[te,...se]=ie.split("?");return(0,ke.zd)(se.join("?"))}const tt=class et{constructor(){this._redirectPersistence=be.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=be.aE,this._overrideRedirectResult=be.aF}_initialize(te){var se=this;return(0,d.Z)(function*(){const Ke=te._key();let xt=se.eventManagers.get(Ke);return xt||(xt=new It(te),se.eventManagers.set(Ke,xt),se.attachCallbackListeners(te,xt)),xt})()}_openPopup(te){(0,be.av)(te,"operation-not-supported-in-this-environment")}_openRedirect(te,se,Ke,xt){var rt=this;return(0,d.Z)(function*(){!function He(ie){var te,se,Ke,xt,rt,Vt,en,Sn,gn,Wn;const ln=Re();(0,be.aA)("function"==typeof(null===(te=null==ln?void 0:ln.universalLinks)||void 0===te?void 0:te.subscribe),ie,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,be.aA)(typeof(null===(se=null==ln?void 0:ln.BuildInfo)||void 0===se?void 0:se.packageName)<"u",ie,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,be.aA)("function"==typeof(null===(rt=null===(xt=null===(Ke=null==ln?void 0:ln.cordova)||void 0===Ke?void 0:Ke.plugins)||void 0===xt?void 0:xt.browsertab)||void 0===rt?void 0:rt.openUrl),ie,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,be.aA)("function"==typeof(null===(Sn=null===(en=null===(Vt=null==ln?void 0:ln.cordova)||void 0===Vt?void 0:Vt.plugins)||void 0===en?void 0:en.browsertab)||void 0===Sn?void 0:Sn.isAvailable),ie,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,be.aA)("function"==typeof(null===(Wn=null===(gn=null==ln?void 0:ln.cordova)||void 0===gn?void 0:gn.InAppBrowser)||void 0===Wn?void 0:Wn.open),ie,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(te);const Vt=yield rt._initialize(te);yield Vt.initialized(),Vt.resetRedirect(),(0,be.aG)(),yield rt._originValidation(te);const en=function St(ie,te,se=null){return{type:te,eventId:se,urlResponse:null,sessionId:Dt(),postBody:null,tenantId:ie.tenantId,error:(0,be.az)(ie,"no-auth-event")}}(te,Ke,xt);yield function Ct(ie,te){return Ft()._set(qt(ie),te)}(te,en);const Sn=yield function Fe(ie,te,se){return xe.apply(this,arguments)}(te,en,se),gn=yield function lt(ie){const{cordova:te}=Re();return new Promise(se=>{te.plugins.browsertab.isAvailable(Ke=>{let xt=null;Ke?te.plugins.browsertab.openUrl(ie):xt=te.InAppBrowser.open(ie,(0,be.ay)()?"_blank":"_system","location=yes"),se(xt)})})}(Sn);return function pt(ie,te,se){return jt.apply(this,arguments)}(te,Vt,gn)})()}_isIframeWebStorageSupported(te,se){throw new Error("Method not implemented.")}_originValidation(te){const se=te._key();return this.originValidationPromises[se]||(this.originValidationPromises[se]=function it(ie){return Me.apply(this,arguments)}(te)),this.originValidationPromises[se]}attachCallbackListeners(te,se){const{universalLinks:Ke,handleOpenURL:xt,BuildInfo:rt}=Re(),Vt=setTimeout((0,d.Z)(function*(){yield yt(te),se.onEvent(ut())}),500),en=function(){var Wn=(0,d.Z)(function*(ln){clearTimeout(Vt);const yn=yield yt(te);let kn=null;yn&&null!=ln&&ln.url&&(kn=function Gt(ie,te){var se,Ke;const xt=function Je(ie){const te=ct(ie),se=te.link?decodeURIComponent(te.link):void 0,Ke=ct(se).link,xt=te.deep_link_id?decodeURIComponent(te.deep_link_id):void 0;return ct(xt).link||xt||Ke||se||ie}(te);if(xt.includes("/__/auth/callback")){const rt=ct(xt),Vt=rt.firebaseError?function Te(ie){try{return JSON.parse(ie)}catch{return null}}(decodeURIComponent(rt.firebaseError)):null,en=null===(Ke=null===(se=null==Vt?void 0:Vt.code)||void 0===se?void 0:se.split("auth/"))||void 0===Ke?void 0:Ke[1],Sn=en?(0,be.az)(en):null;return Sn?{type:ie.type,eventId:ie.eventId,tenantId:ie.tenantId,error:Sn,urlResponse:null,sessionId:null,postBody:null}:{type:ie.type,eventId:ie.eventId,tenantId:ie.tenantId,sessionId:ie.sessionId,urlResponse:xt,postBody:null}}return null}(yn,ln.url)),se.onEvent(kn||ut())});return function(yn){return Wn.apply(this,arguments)}}();typeof Ke<"u"&&"function"==typeof Ke.subscribe&&Ke.subscribe(null,en);const Sn=xt,gn=`${rt.packageName.toLowerCase()}://`;Re().handleOpenURL=function(){var Wn=(0,d.Z)(function*(ln){if(ln.toLowerCase().startsWith(gn)&&en({url:ln}),"function"==typeof Sn)try{Sn(ln)}catch(yn){console.error(yn)}});return function(ln){return Wn.apply(this,arguments)}}()}};function ut(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,be.az)("no-auth-event")}}function On(){var ie;return(null===(ie=null==self?void 0:self.location)||void 0===ie?void 0:ie.protocol)||null}function vt(ie=(0,ke.z$)()){return!("file:"!==On()&&"ionic:"!==On()&&"capacitor:"!==On()||!ie.toLowerCase().match(/iphone|ipad|ipod|android/))}function ur(){try{const ie=self.localStorage,te=be.aL();if(ie)return ie.setItem(te,"1"),ie.removeItem(te),!function er(ie=(0,ke.z$)()){return function vn(){return(0,ke.w1)()&&11===(null==document?void 0:document.documentMode)}()||function qn(ie=(0,ke.z$)()){return/Edge\/\d+/.test(ie)}(ie)}()||(0,ke.hl)()}catch{return un()&&(0,ke.hl)()}return!1}function un(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function ir(){return(function tn(){return"http:"===On()||"https:"===On()}()||(0,ke.ru)()||vt())&&!function cn(){return(0,ke.b$)()||(0,ke.UG)()}()&&ur()&&!un()}function an(){return vt()&&typeof document<"u"}function $r(){return($r=(0,d.Z)(function*(){return!!an()&&new Promise(ie=>{const te=setTimeout(()=>{ie(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(te),ie(!0)})})})).apply(this,arguments)}const Rn={LOCAL:"local",NONE:"none",SESSION:"session"},ai=be.aA,Gr="persistence";function Pi(ie){return yi.apply(this,arguments)}function yi(){return(yi=(0,d.Z)(function*(ie){yield ie._initializationPromise;const te=nr(),se=be.aD(Gr,ie.config.apiKey,ie.name);te&&te.setItem(se,ie._getPersistence())})).apply(this,arguments)}function nr(){var ie;try{return(null===(ie=function xr(){return typeof window<"u"?window:null}())||void 0===ie?void 0:ie.sessionStorage)||null}catch{return null}}const mr=be.aA;class bi{constructor(){this.browserResolver=be.aC(be.k),this.cordovaResolver=be.aC(tt),this.underlyingResolver=null,this._redirectPersistence=be.a,this._completeRedirectFn=be.aE,this._overrideRedirectResult=be.aF}_initialize(te){var se=this;return(0,d.Z)(function*(){return yield se.selectUnderlyingResolver(),se.assertedUnderlyingResolver._initialize(te)})()}_openPopup(te,se,Ke,xt){var rt=this;return(0,d.Z)(function*(){return yield rt.selectUnderlyingResolver(),rt.assertedUnderlyingResolver._openPopup(te,se,Ke,xt)})()}_openRedirect(te,se,Ke,xt){var rt=this;return(0,d.Z)(function*(){return yield rt.selectUnderlyingResolver(),rt.assertedUnderlyingResolver._openRedirect(te,se,Ke,xt)})()}_isIframeWebStorageSupported(te,se){this.assertedUnderlyingResolver._isIframeWebStorageSupported(te,se)}_originValidation(te){return this.assertedUnderlyingResolver._originValidation(te)}get _shouldInitProactively(){return an()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return mr(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var te=this;return(0,d.Z)(function*(){if(te.underlyingResolver)return;const se=yield function Pr(){return $r.apply(this,arguments)}();te.underlyingResolver=se?te.cordovaResolver:te.browserResolver})()}}function li(ie){return ie.unwrap()}function di(ie){return br(ie)}function br(ie){const{_tokenResponse:te}=ie instanceof ke.ZR?ie.customData:ie;if(!te)return null;if(!(ie instanceof ke.ZR)&&"temporaryProof"in te&&"phoneNumber"in te)return be.P.credentialFromResult(ie);const se=te.providerId;if(!se||se===be.p.PASSWORD)return null;let Ke;switch(se){case be.p.GOOGLE:Ke=be.V;break;case be.p.FACEBOOK:Ke=be.U;break;case be.p.GITHUB:Ke=be.W;break;case be.p.TWITTER:Ke=be.Z;break;default:const{oauthIdToken:xt,oauthAccessToken:rt,oauthTokenSecret:Vt,pendingToken:en,nonce:Sn}=te;return rt||Vt||xt||en?en?se.startsWith("saml.")?be.aO._create(se,en):be.L._fromParams({providerId:se,signInMethod:se,pendingToken:en,idToken:xt,accessToken:rt}):new be.X(se).credential({idToken:xt,accessToken:rt,rawNonce:Sn}):null}return ie instanceof ke.ZR?Ke.credentialFromError(ie):Ke.credentialFromResult(ie)}function fr(ie,te){return te.catch(se=>{throw se instanceof ke.ZR&&function Ai(ie,te){var se;const Ke=null===(se=te.customData)||void 0===se?void 0:se._tokenResponse;if("auth/multi-factor-auth-required"===(null==te?void 0:te.code))te.resolver=new Cn(ie,be.aq(ie,te));else if(Ke){const xt=br(te),rt=te;xt&&(rt.credential=xt,rt.tenantId=Ke.tenantId||void 0,rt.email=Ke.email||void 0,rt.phoneNumber=Ke.phoneNumber||void 0)}}(ie,se),se}).then(se=>{const xt=se.user;return{operationType:se.operationType,credential:di(se),additionalUserInfo:be.ao(se),user:Ne.getOrCreate(xt)}})}function Ei(ie,te){return Er.apply(this,arguments)}function Er(){return(Er=(0,d.Z)(function*(ie,te){const se=yield te;return{verificationId:se.verificationId,confirm:Ke=>fr(ie,se.confirm(Ke))}})).apply(this,arguments)}class Cn{constructor(te,se){this.resolver=se,this.auth=function Kr(ie){return ie.wrapped()}(te)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(te){return fr(li(this.auth),this.resolver.resolveSignIn(te))}}class Ne{constructor(te){this._delegate=te,this.multiFactor=be.ar(te)}static getOrCreate(te){return Ne.USER_MAP.has(te)||Ne.USER_MAP.set(te,new Ne(te)),Ne.USER_MAP.get(te)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(te){return this._delegate.getIdTokenResult(te)}getIdToken(te){return this._delegate.getIdToken(te)}linkAndRetrieveDataWithCredential(te){return this.linkWithCredential(te)}linkWithCredential(te){var se=this;return(0,d.Z)(function*(){return fr(se.auth,be.a0(se._delegate,te))})()}linkWithPhoneNumber(te,se){var Ke=this;return(0,d.Z)(function*(){return Ei(Ke.auth,be.l(Ke._delegate,te,se))})()}linkWithPopup(te){var se=this;return(0,d.Z)(function*(){return fr(se.auth,be.d(se._delegate,te,bi))})()}linkWithRedirect(te){var se=this;return(0,d.Z)(function*(){return yield Pi(be.aH(se.auth)),be.g(se._delegate,te,bi)})()}reauthenticateAndRetrieveDataWithCredential(te){return this.reauthenticateWithCredential(te)}reauthenticateWithCredential(te){var se=this;return(0,d.Z)(function*(){return fr(se.auth,be.a1(se._delegate,te))})()}reauthenticateWithPhoneNumber(te,se){return Ei(this.auth,be.r(this._delegate,te,se))}reauthenticateWithPopup(te){return fr(this.auth,be.e(this._delegate,te,bi))}reauthenticateWithRedirect(te){var se=this;return(0,d.Z)(function*(){return yield Pi(be.aH(se.auth)),be.h(se._delegate,te,bi)})()}sendEmailVerification(te){return be.ae(this._delegate,te)}unlink(te){var se=this;return(0,d.Z)(function*(){return yield be.an(se._delegate,te),se})()}updateEmail(te){return be.aj(this._delegate,te)}updatePassword(te){return be.ak(this._delegate,te)}updatePhoneNumber(te){return be.u(this._delegate,te)}updateProfile(te){return be.ai(this._delegate,te)}verifyBeforeUpdateEmail(te,se){return be.af(this._delegate,te,se)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Ne.USER_MAP=new WeakMap;const dt=be.aA;let Ht=(()=>{class ie{constructor(se,Ke){if(this.app=se,Ke.isInitialized())return this._delegate=Ke.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:xt}=se.options;dt(xt,"invalid-api-key",{appName:se.name}),dt(xt,"invalid-api-key",{appName:se.name});const rt=typeof window<"u"?bi:void 0;this._delegate=Ke.initialize({options:{persistence:zn(xt,se.name),popupRedirectResolver:rt}}),this._delegate._updateErrorMap(be.D),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Ne.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(se){this._delegate.languageCode=se}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(se){this._delegate.tenantId=se}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(se,Ke){be.I(this._delegate,se,Ke)}applyActionCode(se){return be.a5(this._delegate,se)}checkActionCode(se){return be.a6(this._delegate,se)}confirmPasswordReset(se,Ke){return be.a4(this._delegate,se,Ke)}createUserWithEmailAndPassword(se,Ke){var xt=this;return(0,d.Z)(function*(){return fr(xt._delegate,be.a8(xt._delegate,se,Ke))})()}fetchProvidersForEmail(se){return this.fetchSignInMethodsForEmail(se)}fetchSignInMethodsForEmail(se){return be.ad(this._delegate,se)}isSignInWithEmailLink(se){return be.ab(this._delegate,se)}getRedirectResult(){var se=this;return(0,d.Z)(function*(){dt(ir(),se._delegate,"operation-not-supported-in-this-environment");const Ke=yield be.j(se._delegate,bi);return Ke?fr(se._delegate,Promise.resolve(Ke)):{credential:null,user:null}})()}addFrameworkForLogging(se){!function Ut(ie,te){(0,be.aH)(ie)._logFramework(te)}(this._delegate,se)}onAuthStateChanged(se,Ke,xt){const{next:rt,error:Vt,complete:en}=En(se,Ke,xt);return this._delegate.onAuthStateChanged(rt,Vt,en)}onIdTokenChanged(se,Ke,xt){const{next:rt,error:Vt,complete:en}=En(se,Ke,xt);return this._delegate.onIdTokenChanged(rt,Vt,en)}sendSignInLinkToEmail(se,Ke){return be.aa(this._delegate,se,Ke)}sendPasswordResetEmail(se,Ke){return be.a3(this._delegate,se,Ke||void 0)}setPersistence(se){var Ke=this;return(0,d.Z)(function*(){let xt;switch(function ar(ie,te){ai(Object.values(Rn).includes(te),ie,"invalid-persistence-type"),(0,ke.b$)()?ai(te!==Rn.SESSION,ie,"unsupported-persistence-type"):(0,ke.UG)()?ai(te===Rn.NONE,ie,"unsupported-persistence-type"):un()?ai(te===Rn.NONE||te===Rn.LOCAL&&(0,ke.hl)(),ie,"unsupported-persistence-type"):ai(te===Rn.NONE||ur(),ie,"unsupported-persistence-type")}(Ke._delegate,se),se){case Rn.SESSION:xt=be.a;break;case Rn.LOCAL:xt=(yield be.aC(be.i)._isAvailable())?be.i:be.b;break;case Rn.NONE:xt=be.N;break;default:return be.av("argument-error",{appName:Ke._delegate.name})}return Ke._delegate.setPersistence(xt)})()}signInAndRetrieveDataWithCredential(se){return this.signInWithCredential(se)}signInAnonymously(){return fr(this._delegate,be._(this._delegate))}signInWithCredential(se){return fr(this._delegate,be.$(this._delegate,se))}signInWithCustomToken(se){return fr(this._delegate,be.a2(this._delegate,se))}signInWithEmailAndPassword(se,Ke){return fr(this._delegate,be.a9(this._delegate,se,Ke))}signInWithEmailLink(se,Ke){return fr(this._delegate,be.ac(this._delegate,se,Ke))}signInWithPhoneNumber(se,Ke){return Ei(this._delegate,be.s(this._delegate,se,Ke))}signInWithPopup(se){var Ke=this;return(0,d.Z)(function*(){return dt(ir(),Ke._delegate,"operation-not-supported-in-this-environment"),fr(Ke._delegate,be.c(Ke._delegate,se,bi))})()}signInWithRedirect(se){var Ke=this;return(0,d.Z)(function*(){return dt(ir(),Ke._delegate,"operation-not-supported-in-this-environment"),yield Pi(Ke._delegate),be.f(Ke._delegate,se,bi)})()}updateCurrentUser(se){return this._delegate.updateCurrentUser(se)}verifyPasswordResetCode(se){return be.a7(this._delegate,se)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return ie.Persistence=Rn,ie})();function En(ie,te,se){let Ke=ie;"function"!=typeof ie&&({next:Ke,error:te,complete:se}=ie);const xt=Ke;return{next:Vt=>xt(Vt&&Ne.getOrCreate(Vt)),error:te,complete:se}}function zn(ie,te){const se=function lr(ie,te){const se=nr();if(!se)return[];const Ke=be.aD(Gr,ie,te);switch(se.getItem(Ke)){case Rn.NONE:return[be.N];case Rn.LOCAL:return[be.i,be.a];case Rn.SESSION:return[be.a];default:return[]}}(ie,te);if(typeof self<"u"&&!se.includes(be.i)&&se.push(be.i),typeof window<"u")for(const Ke of[be.b,be.a])se.includes(Ke)||se.push(Ke);return se.includes(be.N)||se.push(be.N),se}class jr{constructor(){this.providerId="phone",this._delegate=new be.P(li(E.Z.auth()))}static credential(te,se){return be.P.credential(te,se)}verifyPhoneNumber(te,se){return this._delegate.verifyPhoneNumber(te,se)}unwrap(){return this._delegate}}jr.PHONE_SIGN_IN_METHOD=be.P.PHONE_SIGN_IN_METHOD,jr.PROVIDER_ID=be.P.PROVIDER_ID;const kr=be.aA;class Or{constructor(te,se,Ke=E.Z.app()){var xt;kr(null===(xt=Ke.options)||void 0===xt?void 0:xt.apiKey,"invalid-api-key",{appName:Ke.name}),this._delegate=new be.R(te,se,Ke.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function Ae(ie){ie.INTERNAL.registerComponent(new Se.wA("auth-compat",te=>{const se=te.getProvider("app-compat").getImmediate(),Ke=te.getProvider("auth");return new Ht(se,Ke)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:be.A.EMAIL_SIGNIN,PASSWORD_RESET:be.A.PASSWORD_RESET,RECOVER_EMAIL:be.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:be.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:be.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:be.A.VERIFY_EMAIL}},EmailAuthProvider:be.Q,FacebookAuthProvider:be.U,GithubAuthProvider:be.W,GoogleAuthProvider:be.V,OAuthProvider:be.X,SAMLAuthProvider:be.Y,PhoneAuthProvider:jr,PhoneMultiFactorGenerator:be.m,RecaptchaVerifier:Or,TwitterAuthProvider:be.Z,Auth:Ht,AuthCredential:be.J,Error:ke.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),ie.registerVersion("@firebase/auth-compat","0.4.2")}(E.Z)},4208:(Jn,Lt,z)=>{"use strict";z.d(Lt,{jh:()=>Ba,vQ:()=>el});var d=z(2223),E=z(3192),be=z(1086),ke=z(1135),qe=z(1884);const Ze=function Re(nt,Zt){return nt===Zt||nt!=nt&&Zt!=Zt},xe=function Fe(nt,Zt){for(var Jt=nt.length;Jt--;)if(Ze(nt[Jt][0],Zt))return Jt;return-1};var Me=Array.prototype.splice;function It(nt){var Zt=-1,Jt=null==nt?0:nt.length;for(this.clear();++Zt<Jt;){var yr=nt[Zt];this.set(yr[0],yr[1])}}It.prototype.clear=function ze(){this.__data__=[],this.size=0},It.prototype.delete=function lt(nt){var Zt=this.__data__,Jt=xe(Zt,nt);return!(Jt<0||(Jt==Zt.length-1?Zt.pop():Me.call(Zt,Jt,1),--this.size,0))},It.prototype.get=function jt(nt){var Zt=this.__data__,Jt=xe(Zt,nt);return Jt<0?void 0:Zt[Jt][1]},It.prototype.has=function $e(nt){return xe(this.__data__,nt)>-1},It.prototype.set=function Mt(nt,Zt){var Jt=this.__data__,yr=xe(Jt,nt);return yr<0?(++this.size,Jt.push([nt,Zt])):Jt[yr][1]=Zt,this};const St=It,ct="object"==typeof global&&global&&global.Object===Object&&global;var mt="object"==typeof self&&self&&self.Object===Object&&self;const tt=ct||mt||Function("return this")();var ut=tt.Symbol,Nt=Object.prototype,Qt=Nt.hasOwnProperty,sn=Nt.toString,On=ut?ut.toStringTag:void 0;var vn=Object.prototype.toString;var ir=ut?ut.toStringTag:void 0;const Pr=function an(nt){return null==nt?void 0===nt?"[object Undefined]":"[object Null]":ir&&ir in Object(nt)?function tn(nt){var Zt=Qt.call(nt,On),Jt=nt[On];try{nt[On]=void 0;var yr=!0}catch{}var Vi=sn.call(nt);return yr&&(Zt?nt[On]=Jt:delete nt[On]),Vi}(nt):function qn(nt){return vn.call(nt)}(nt)},xr=function $r(nt){var Zt=typeof nt;return null!=nt&&("object"==Zt||"function"==Zt)},yi=function Pi(nt){if(!xr(nt))return!1;var Zt=Pr(nt);return"[object Function]"==Zt||"[object GeneratorFunction]"==Zt||"[object AsyncFunction]"==Zt||"[object Proxy]"==Zt};var nt,lr=tt["__core-js_shared__"],mr=(nt=/[^.]+$/.exec(lr&&lr.keys&&lr.keys.IE_PROTO||""))?"Symbol(src)_1."+nt:"";var di=Function.prototype.toString;var Ei=/^\[object .+?Constructor\]$/,Ht=RegExp("^"+Function.prototype.toString.call(Object.prototype.hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");const zn=function En(nt){return!(!xr(nt)||function bi(nt){return!!mr&&mr in nt}(nt))&&(yi(nt)?Ht:Ei).test(function Ai(nt){if(null!=nt){try{return di.call(nt)}catch{}try{return nt+""}catch{}}return""}(nt))},gt=function Or(nt,Zt){var Jt=function jr(nt,Zt){return null==nt?void 0:nt[Zt]}(nt,Zt);return zn(Jt)?Jt:void 0},ie=gt(tt,"Map"),se=gt(Object,"create");var gn=Object.prototype.hasOwnProperty;var kn=Object.prototype.hasOwnProperty;function Fr(nt){var Zt=-1,Jt=null==nt?0:nt.length;for(this.clear();++Zt<Jt;){var yr=nt[Zt];this.set(yr[0],yr[1])}}Fr.prototype.clear=function Ke(){this.__data__=se?se(null):{},this.size=0},Fr.prototype.delete=function rt(nt){var Zt=this.has(nt)&&delete this.__data__[nt];return this.size-=Zt?1:0,Zt},Fr.prototype.get=function Wn(nt){var Zt=this.__data__;if(se){var Jt=Zt[nt];return"__lodash_hash_undefined__"===Jt?void 0:Jt}return gn.call(Zt,nt)?Zt[nt]:void 0},Fr.prototype.has=function Bt(nt){var Zt=this.__data__;return se?void 0!==Zt[nt]:kn.call(Zt,nt)},Fr.prototype.set=function Yn(nt,Zt){var Jt=this.__data__;return this.size+=this.has(nt)?0:1,Jt[nt]=se&&void 0===Zt?"__lodash_hash_undefined__":Zt,this};const Sr=Fr,Os=function rs(nt,Zt){var Jt=nt.__data__;return function zr(nt){var Zt=typeof nt;return"string"==Zt||"number"==Zt||"symbol"==Zt||"boolean"==Zt?"__proto__"!==nt:null===nt}(Zt)?Jt["string"==typeof Zt?"string":"hash"]:Jt.map};function Is(nt){var Zt=-1,Jt=null==nt?0:nt.length;for(this.clear();++Zt<Jt;){var yr=nt[Zt];this.set(yr[0],yr[1])}}Is.prototype.clear=function Fi(){this.size=0,this.__data__={hash:new Sr,map:new(ie||St),string:new Sr}},Is.prototype.delete=function Xs(nt){var Zt=Os(this,nt).delete(nt);return this.size-=Zt?1:0,Zt},Is.prototype.get=function cs(nt){return Os(this,nt).get(nt)},Is.prototype.has=function ts(nt){return Os(this,nt).has(nt)},Is.prototype.set=function Qs(nt,Zt){var Jt=Os(this,nt),yr=Jt.size;return Jt.set(nt,Zt),this.size+=Jt.size==yr?0:1,this};const js=Is;function _e(nt){var Zt=this.__data__=new St(nt);this.size=Zt.size}_e.prototype.clear=function Ct(){this.__data__=new St,this.size=0},_e.prototype.delete=function ee(nt){var Zt=this.__data__,Jt=Zt.delete(nt);return this.size=Zt.size,Jt},_e.prototype.get=function Dt(nt){return this.__data__.get(nt)},_e.prototype.has=function qt(nt){return this.__data__.has(nt)},_e.prototype.set=function pe(nt,Zt){var Jt=this.__data__;if(Jt instanceof St){var yr=Jt.__data__;if(!ie||yr.length<199)return yr.push([nt,Zt]),this.size=++Jt.size,this;Jt=this.__data__=new js(yr)}return Jt.set(nt,Zt),this.size=Jt.size,this};const ne=_e;var ve=function(){try{var nt=gt(Object,"defineProperty");return nt({},"",{}),nt}catch{}}();const st=ve,$t=function wt(nt,Zt,Jt){"__proto__"==Zt&&st?st(nt,Zt,{configurable:!0,enumerable:!0,value:Jt,writable:!0}):nt[Zt]=Jt},Vn=function nn(nt,Zt,Jt){(void 0!==Jt&&!Ze(nt[Zt],Jt)||void 0===Jt&&!(Zt in nt))&&$t(nt,Zt,Jt)};var Qr=function Un(nt){return function(Zt,Jt,yr){for(var Vi=-1,Wi=Object(Zt),ss=yr(Zt),Qi=ss.length;Qi--;){var Gi=ss[nt?Qi:++Vi];if(!1===Jt(Wi[Gi],Gi,Wi))break}return Zt}}();const vs=Qr;var Ji="object"==typeof exports&&exports&&!exports.nodeType&&exports,Ti=Ji&&"object"==typeof module&&module&&!module.nodeType&&module,Tn=Ti&&Ti.exports===Ji?tt.Buffer:void 0,Lr=Tn?Tn.allocUnsafe:void 0;const is=tt.Uint8Array,ji=function Ur(nt,Zt){var Jt=Zt?function vo(nt){var Zt=new nt.constructor(nt.byteLength);return new is(Zt).set(new is(nt)),Zt}(nt.buffer):nt.buffer;return new nt.constructor(Jt,nt.byteOffset,nt.length)};var _s=Object.create,ki=function(){function nt(){}return function(Zt){if(!xr(Zt))return{};if(_s)return _s(Zt);nt.prototype=Zt;var Jt=new nt;return nt.prototype=void 0,Jt}}();const es=ki;var zs=function eo(nt,Zt){return function(Jt){return nt(Zt(Jt))}}(Object.getPrototypeOf,Object);const Eo=zs;var _o=Object.prototype;const As=function wo(nt){var Zt=nt&&nt.constructor;return nt===("function"==typeof Zt&&Zt.prototype||_o)},No=function xi(nt){return null!=nt&&"object"==typeof nt},Bs=function Ri(nt){return No(nt)&&"[object Arguments]"==Pr(nt)};var Ys=Object.prototype,Io=Ys.hasOwnProperty,hs=Ys.propertyIsEnumerable,fs=Bs(function(){return arguments}())?Bs:function(nt){return No(nt)&&Io.call(nt,"callee")&&!hs.call(nt,"callee")};const ho=fs,Ni=Array.isArray,bo=function xo(nt){return"number"==typeof nt&&nt>-1&&nt%1==0&&nt<=9007199254740991},to=function Co(nt){return null!=nt&&bo(nt.length)&&!yi(nt)};var us="object"==typeof exports&&exports&&!exports.nodeType&&exports,Mo=us&&"object"==typeof module&&module&&!module.nodeType&&module,jo=Mo&&Mo.exports===us?tt.Buffer:void 0;const he=(jo?jo.isBuffer:void 0)||function $s(){return!1};var _n=Function.prototype.toString,Tr=Object.prototype.hasOwnProperty,Xn=_n.call(Object);var wi={};wi["[object Float32Array]"]=wi["[object Float64Array]"]=wi["[object Int8Array]"]=wi["[object Int16Array]"]=wi["[object Int32Array]"]=wi["[object Uint8Array]"]=wi["[object Uint8ClampedArray]"]=wi["[object Uint16Array]"]=wi["[object Uint32Array]"]=!0,wi["[object Arguments]"]=wi["[object Array]"]=wi["[object ArrayBuffer]"]=wi["[object Boolean]"]=wi["[object DataView]"]=wi["[object Date]"]=wi["[object Error]"]=wi["[object Function]"]=wi["[object Map]"]=wi["[object Number]"]=wi["[object Object]"]=wi["[object RegExp]"]=wi["[object Set]"]=wi["[object String]"]=wi["[object WeakMap]"]=!1;var sa="object"==typeof exports&&exports&&!exports.nodeType&&exports,Jo=sa&&"object"==typeof module&&module&&!module.nodeType&&module,Sa=Jo&&Jo.exports===sa&&ct.process,na=function(){try{return Jo&&Jo.require&&Jo.require("util").types||Sa&&Sa.binding&&Sa.binding("util")}catch{}}(),Vs=na&&na.isTypedArray;const oa=Vs?function zo(nt){return function(Zt){return nt(Zt)}}(Vs):function Cs(nt){return No(nt)&&bo(nt.length)&&!!wi[Pr(nt)]},Ta=function Oo(nt,Zt){if(("constructor"!==Zt||"function"!=typeof nt[Zt])&&"__proto__"!=Zt)return nt[Zt]};var Z=Object.prototype.hasOwnProperty;const De=function oe(nt,Zt,Jt){var yr=nt[Zt];(!Z.call(nt,Zt)||!Ze(yr,Jt)||void 0===Jt&&!(Zt in nt))&&$t(nt,Zt,Jt)};var Fn=/^(?:0|[1-9]\d*)$/;const ri=function sr(nt,Zt){var Jt=typeof nt;return!!(Zt=null==Zt?9007199254740991:Zt)&&("number"==Jt||"symbol"!=Jt&&Fn.test(nt))&&nt>-1&&nt%1==0&&nt<Zt};var Ms=Object.prototype.hasOwnProperty;const K=function Gs(nt,Zt){var Jt=Ni(nt),yr=!Jt&&ho(nt),Vi=!Jt&&!yr&&he(nt),Wi=!Jt&&!yr&&!Vi&&oa(nt),ss=Jt||yr||Vi||Wi,Qi=ss?function Tt(nt,Zt){for(var Jt=-1,yr=Array(nt);++Jt<nt;)yr[Jt]=Zt(Jt);return yr}(nt.length,String):[],Gi=Qi.length;for(var Ko in nt)(Zt||Ms.call(nt,Ko))&&(!ss||!("length"==Ko||Vi&&("offset"==Ko||"parent"==Ko)||Wi&&("buffer"==Ko||"byteLength"==Ko||"byteOffset"==Ko)||ri(Ko,Gi)))&&Qi.push(Ko);return Qi};var _t=Object.prototype.hasOwnProperty;const Pn=function mn(nt){if(!xr(nt))return function de(nt){var Zt=[];if(null!=nt)for(var Jt in Object(nt))Zt.push(Jt);return Zt}(nt);var Zt=As(nt),Jt=[];for(var yr in nt)"constructor"==yr&&(Zt||!_t.call(nt,yr))||Jt.push(yr);return Jt},hr=function ii(nt){return to(nt)?K(nt,!0):Pn(nt)},ei=function Hi(nt){return function Be(nt,Zt,Jt,yr){var Vi=!Jt;Jt||(Jt={});for(var Wi=-1,ss=Zt.length;++Wi<ss;){var Qi=Zt[Wi],Gi=yr?yr(Jt[Qi],nt[Qi],Qi,Jt,nt):void 0;void 0===Gi&&(Gi=nt[Qi]),Vi?$t(Jt,Qi,Gi):De(Jt,Qi,Gi)}return Jt}(nt,hr(nt))},ds=function Li(nt,Zt,Jt,yr,Vi,Wi,ss){var Qi=Ta(nt,Jt),Gi=Ta(Zt,Jt),Ko=ss.get(Gi);if(Ko)Vn(nt,Jt,Ko);else{var ca=Wi?Wi(Qi,Gi,Jt+"",nt,Zt,ss):void 0,pn=void 0===ca;if(pn){var $a=Ni(Gi),ga=!$a&&he(Gi),Il=!$a&&!ga&&oa(Gi);ca=Gi,$a||ga||Il?Ni(Qi)?ca=Qi:function Zo(nt){return No(nt)&&to(nt)}(Qi)?ca=function qr(nt,Zt){var Jt=-1,yr=nt.length;for(Zt||(Zt=Array(yr));++Jt<yr;)Zt[Jt]=nt[Jt];return Zt}(Qi):ga?(pn=!1,ca=function Br(nt,Zt){if(Zt)return nt.slice();var Jt=nt.length,yr=Lr?Lr(Jt):new nt.constructor(Jt);return nt.copy(yr),yr}(Gi,!0)):Il?(pn=!1,ca=ji(Gi,!0)):ca=[]:function hi(nt){if(!No(nt)||"[object Object]"!=Pr(nt))return!1;var Zt=Eo(nt);if(null===Zt)return!0;var Jt=Tr.call(Zt,"constructor")&&Zt.constructor;return"function"==typeof Jt&&Jt instanceof Jt&&_n.call(Jt)==Xn}(Gi)||ho(Gi)?(ca=Qi,ho(Qi)?ca=ei(Qi):(!xr(Qi)||yi(Qi))&&(ca=function qo(nt){return"function"!=typeof nt.constructor||As(nt)?{}:es(Eo(nt))}(Gi))):pn=!1}pn&&(ss.set(Gi,ca),Vi(ca,Gi,yr,Wi,ss),ss.delete(Gi)),Vn(nt,Jt,ca)}},lo=function Ps(nt,Zt,Jt,yr,Vi){nt!==Zt&&vs(Zt,function(Wi,ss){if(Vi||(Vi=new ne),xr(Wi))ds(nt,Zt,ss,Jt,Ps,yr,Vi);else{var Qi=yr?yr(Ta(nt,ss),Wi,ss+"",nt,Zt,Vi):void 0;void 0===Qi&&(Qi=Wi),Vn(nt,ss,Qi)}},hr)},Bi=function Hn(nt){return nt};var Rr=Math.max;const Dn=function Bn(nt){return function(){return nt}};var Zn=st?function(nt,Zt){return st(nt,"toString",{configurable:!0,enumerable:!1,value:Dn(Zt),writable:!0})}:Bi,_a=Date.now,ta=function Ja(nt){var Zt=0,Jt=0;return function(){var yr=_a(),Vi=16-(yr-Jt);if(Jt=yr,Vi>0){if(++Zt>=800)return arguments[0]}else Zt=0;return nt.apply(void 0,arguments)}}(Zn);const La=ta,ks=function ml(nt,Zt){return La(function si(nt,Zt,Jt){return Zt=Rr(void 0===Zt?nt.length-1:Zt,0),function(){for(var yr=arguments,Vi=-1,Wi=Rr(yr.length-Zt,0),ss=Array(Wi);++Vi<Wi;)ss[Vi]=yr[Zt+Vi];Vi=-1;for(var Qi=Array(Zt+1);++Vi<Zt;)Qi[Vi]=yr[Vi];return Qi[Zt]=Jt(ss),function Ho(nt,Zt,Jt){switch(Jt.length){case 0:return nt.call(Zt);case 1:return nt.call(Zt,Jt[0]);case 2:return nt.call(Zt,Jt[0],Jt[1]);case 3:return nt.call(Zt,Jt[0],Jt[1],Jt[2])}return nt.apply(Zt,Jt)}(nt,this,Qi)}}(nt,Zt,Bi),nt+"")};var Al=function $i(nt){return ks(function(Zt,Jt){var yr=-1,Vi=Jt.length,Wi=Vi>1?Jt[Vi-1]:void 0,ss=Vi>2?Jt[2]:void 0;for(Wi=nt.length>3&&"function"==typeof Wi?(Vi--,Wi):void 0,ss&&function Bo(nt,Zt,Jt){if(!xr(Jt))return!1;var yr=typeof Zt;return!!("number"==yr?to(Jt)&&ri(Zt,Jt.length):"string"==yr&&Zt in Jt)&&Ze(Jt[Zt],nt)}(Jt[0],Jt[1],ss)&&(Wi=Vi<3?void 0:Wi,Vi=1),Zt=Object(Zt);++yr<Vi;){var Qi=Jt[yr];Qi&&nt(Zt,Qi,yr,Wi)}return Zt})}(function(nt,Zt,Jt){lo(nt,Zt,Jt)});const ps=Al;let ti=(()=>{class nt{constructor(){this.colorschemesOptions=new ke.X(void 0)}setColorschemesOptions(Jt){this.pColorschemesOptions=Jt,this.colorschemesOptions.next(Jt)}getColorschemesOptions(){return this.pColorschemesOptions}}return nt.\u0275fac=function(Jt){return new(Jt||nt)},nt.\u0275prov=d.Yz7({token:nt,factory:nt.\u0275fac,providedIn:"root"}),nt})(),Ba=(()=>{class nt{constructor(Jt,yr,Vi){this.zone=yr,this.themeService=Vi,this.type="bar",this.plugins=[],this.chartClick=new d.vpe,this.chartHover=new d.vpe,this.subs=[],this.themeOverrides={},this.ctx=Jt.nativeElement.getContext("2d"),this.subs.push(this.themeService.colorschemesOptions.pipe((0,qe.x)()).subscribe(Wi=>this.themeChanged(Wi)))}ngOnChanges(Jt){const yr=["type"],Vi=Object.getOwnPropertyNames(Jt);if(Vi.some(Wi=>yr.includes(Wi))||Vi.every(Wi=>Jt[Wi].isFirstChange()))this.render();else{const Wi=this.getChartConfiguration();this.chart&&(Object.assign(this.chart.config.data,Wi.data),this.chart.config.plugins&&Object.assign(this.chart.config.plugins,Wi.plugins),this.chart.config.options&&Object.assign(this.chart.config.options,Wi.options)),this.update()}}ngOnDestroy(){this.chart&&(this.chart.destroy(),this.chart=void 0),this.subs.forEach(Jt=>Jt.unsubscribe())}render(){return this.chart&&this.chart.destroy(),this.zone.runOutsideAngular(()=>this.chart=new E.kL(this.ctx,this.getChartConfiguration()))}update(Jt){this.chart&&this.zone.runOutsideAngular(()=>{var yr;return null===(yr=this.chart)||void 0===yr?void 0:yr.update(Jt)})}hideDataset(Jt,yr){this.chart&&(this.chart.getDatasetMeta(Jt).hidden=yr,this.update())}isDatasetHidden(Jt){var yr,Vi;return null===(yr=this.chart)||void 0===yr||null===(Vi=yr.getDatasetMeta(Jt))||void 0===Vi?void 0:Vi.hidden}toBase64Image(){var Jt;return null===(Jt=this.chart)||void 0===Jt?void 0:Jt.toBase64Image()}themeChanged(Jt){this.themeOverrides=Jt,this.chart&&(this.chart.config.options&&Object.assign(this.chart.config.options,this.getChartOptions()),this.update())}getChartOptions(){return ps({onHover:(Jt,yr)=>{var Vi;!this.chartHover.observed&&(null===(Vi=this.chartHover.observers)||void 0===Vi||!Vi.length)||this.zone.run(()=>this.chartHover.emit({event:Jt,active:yr}))},onClick:(Jt,yr)=>{var Vi;!this.chartClick.observed&&(null===(Vi=this.chartClick.observers)||void 0===Vi||!Vi.length)||this.zone.run(()=>this.chartClick.emit({event:Jt,active:yr}))}},this.themeOverrides,this.options,{plugins:{legend:{display:this.legend}}})}getChartConfiguration(){return{type:this.type,data:this.getChartData(),options:this.getChartOptions(),plugins:this.plugins}}getChartData(){return this.data?this.data:{labels:this.labels||[],datasets:this.datasets||[]}}}return nt.\u0275fac=function(Jt){return new(Jt||nt)(d.Y36(d.SBq),d.Y36(d.R0b),d.Y36(ti))},nt.\u0275dir=d.lG2({type:nt,selectors:[["canvas","baseChart",""]],inputs:{type:"type",legend:"legend",data:"data",options:"options",plugins:"plugins",labels:"labels",datasets:"datasets"},outputs:{chartClick:"chartClick",chartHover:"chartHover"},exportAs:["base-chart"],features:[d.TTD]}),nt})();const as=[[255,99,132],[54,162,235],[255,206,86],[231,233,237],[75,192,192],[151,187,205],[220,220,220],[247,70,74],[70,191,189],[253,180,92],[148,159,177],[77,83,96]],Wa={plugins:{colors:{enabled:!1}},datasets:{line:{backgroundColor:nt=>gs(pa(nt.datasetIndex),.4),borderColor:nt=>gs(pa(nt.datasetIndex),1),pointBackgroundColor:nt=>gs(pa(nt.datasetIndex),1),pointBorderColor:"#fff"},bar:{backgroundColor:nt=>gs(pa(nt.datasetIndex),.6),borderColor:nt=>gs(pa(nt.datasetIndex),1)},get radar(){return this.line},doughnut:{backgroundColor:nt=>gs(pa(nt.dataIndex),.6),borderColor:"#fff"},get pie(){return this.doughnut},polarArea:{backgroundColor:nt=>gs(pa(nt.dataIndex),.6),borderColor:nt=>gs(pa(nt.dataIndex),1)},get bubble(){return this.doughnut},get scatter(){return this.doughnut},get area(){return this.polarArea}}};function gs(nt,Zt){return"rgba("+nt.concat(Zt).join(",")+")"}function gr(nt,Zt){return Math.floor(Math.random()*(Zt-nt+1))+nt}function pa(nt=0){return as[nt]||function Aa(){return[gr(0,255),gr(0,255),gr(0,255)]}()}let xa=(()=>{class nt{constructor(){this.generateColors=!0}}return nt.\u0275fac=function(Jt){return new(Jt||nt)},nt.\u0275prov=d.Yz7({token:nt,factory:nt.\u0275fac,providedIn:"root"}),nt})();E.kL.register(...E.zX);let el=(()=>{class nt{constructor(Jt){null!=Jt&&Jt.plugins&&E.kL.register(...Jt.plugins);const yr=ps(null!=Jt&&Jt.generateColors?Wa:{},(null==Jt?void 0:Jt.defaults)||{});be.d.set(yr)}static forRoot(Jt){return{ngModule:nt,providers:[{provide:xa,useValue:Jt}]}}}return nt.\u0275fac=function(Jt){return new(Jt||nt)(d.LFG(xa,8))},nt.\u0275mod=d.oAB({type:nt}),nt.\u0275inj=d.cJS({}),nt})()},5861:(Jn,Lt,z)=>{"use strict";function d(be,ke,qe,ze,Se,Re,Ze){try{var Fe=be[Re](Ze),xe=Fe.value}catch(it){return void qe(it)}Fe.done?ke(xe):Promise.resolve(xe).then(ze,Se)}function E(be){return function(){var ke=this,qe=arguments;return new Promise(function(ze,Se){var Re=be.apply(ke,qe);function Ze(xe){d(Re,ze,Se,Ze,Fe,"next",xe)}function Fe(xe){d(Re,ze,Se,Ze,Fe,"throw",xe)}Ze(void 0)})}}z.d(Lt,{Z:()=>E})}},Jn=>{Jn(Jn.s=3727)}]);