(self.webpackChunkapp=self.webpackChunkapp||[]).push([[179],{2313:(Ii,ln,Y)=>{"use strict";Y.d(ln,{nm:()=>Sr});var c=Y(3324),dt=(Y(2223),Y(3692),Y(259),Y(5861)),Ye=Y(6881),be=Y(4859),$e=Y(2090),Ke=Y(1877);const Ue=new Map,Re={activated:!1,tokenObservers:[]},Xe={initialized:!1,enabled:!1};function Le(fe){return Ue.get(fe)||Object.assign({},Re)}function At(){return Xe}const an="https://content-firebaseappcheck.googleapis.com/v1",on="exchangeDebugToken",It={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class zt{constructor(Ce,He,Me,he,Ae){if(this.operation=Ce,this.retryPolicy=He,this.getWaitDuration=Me,this.lowerBound=he,this.upperBound=Ae,this.pending=null,this.nextErrorWaitInterval=he,he>Ae)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(Ce){var He=this;return(0,dt.Z)(function*(){He.stop();try{He.pending=new $e.BH,yield function Jt(fe){return new Promise(Ce=>{setTimeout(Ce,fe)})}(He.getNextRun(Ce)),He.pending.resolve(),yield He.pending.promise,He.pending=new $e.BH,yield He.operation(),He.pending.resolve(),yield He.pending.promise,He.process(!0).catch(()=>{})}catch(Me){He.retryPolicy(Me)?He.process(!1).catch(()=>{}):He.stop()}})()}getNextRun(Ce){if(Ce)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const He=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),He}}}const tt=new $e.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function ct(){return(ct=(0,dt.Z)(function*({url:fe,body:Ce},He){const Me={"Content-Type":"application/json"},he=He.getImmediate({optional:!0});if(he){const bi=yield he.getHeartbeatsHeader();bi&&(Me["X-Firebase-Client"]=bi)}const Ae={method:"POST",body:JSON.stringify(Ce),headers:Me};let St,Kt;try{St=yield fetch(fe,Ae)}catch(bi){throw tt.create("fetch-network-error",{originalErrorMessage:null==bi?void 0:bi.message})}if(200!==St.status)throw tt.create("fetch-status-error",{httpStatus:St.status});try{Kt=yield St.json()}catch(bi){throw tt.create("fetch-parse-error",{originalErrorMessage:null==bi?void 0:bi.message})}const mn=Kt.ttl.match(/^([\d.]+)(s)$/);if(!mn||!mn[2]||isNaN(Number(mn[1])))throw tt.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${Kt.ttl}`});const Mn=1e3*Number(mn[1]),yi=Date.now();return{token:Kt.token,expireTimeMillis:yi+Mn,issuedAtTimeMillis:yi}})).apply(this,arguments)}const ft="firebase-app-check-database",Je=1,Et="firebase-app-check-store";let qt=null;function Vn(){return(Vn=(0,dt.Z)(function*(fe,Ce){const Me=(yield function xn(){return qt||(qt=new Promise((fe,Ce)=>{try{const He=indexedDB.open(ft,Je);He.onsuccess=Me=>{fe(Me.target.result)},He.onerror=Me=>{var he;Ce(tt.create("storage-open",{originalErrorMessage:null===(he=Me.target.error)||void 0===he?void 0:he.message}))},He.onupgradeneeded=Me=>{0===Me.oldVersion&&Me.target.result.createObjectStore(Et,{keyPath:"compositeKey"})}}catch(He){Ce(tt.create("storage-open",{originalErrorMessage:null==He?void 0:He.message}))}}),qt)}()).transaction(Et,"readwrite"),Ae=Me.objectStore(Et).put({compositeKey:fe,value:Ce});return new Promise((St,Kt)=>{Ae.onsuccess=mn=>{St()},Me.onerror=mn=>{var Mn;Kt(tt.create("storage-set",{originalErrorMessage:null===(Mn=mn.target.error)||void 0===Mn?void 0:Mn.message}))}})})).apply(this,arguments)}const Xn=new Ke.Yd("@firebase/app-check");function rr(fe,Ce){return(0,$e.hl)()?function li(fe,Ce){return function On(fe,Ce){return Vn.apply(this,arguments)}(function Vi(fe){return`${fe.options.appId}-${fe.name}`}(fe),Ce)}(fe,Ce).catch(He=>{Xn.warn(`Failed to write token to IndexedDB. Error: ${He}`)}):Promise.resolve()}function Ar(){return(Ar=(0,dt.Z)(function*(){const fe=At();if(fe.enabled&&fe.token)return fe.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const ps={error:"UNKNOWN_ERROR"};function Xr(fe){return $e.US.encodeString(JSON.stringify(fe),!1)}function Bi(fe){return Mi.apply(this,arguments)}function Mi(){return(Mi=(0,dt.Z)(function*(fe,Ce=!1){const He=fe.app;!function Vt(fe){if(!Le(fe).activated)throw tt.create("use-before-activation",{appName:fe.name})}(He);const Me=Le(He);let Ae,he=Me.token;if(he&&!Hi(he)&&(Me.token=void 0,he=void 0),!he){const mn=yield Me.cachedTokenPromise;mn&&(Hi(mn)?he=mn:yield rr(He,void 0))}if(!Ce&&he&&Hi(he))return{token:he.token};let Kt,St=!1;if(function ii(){return At().enabled}()){Me.exchangeTokenPromise||(Me.exchangeTokenPromise=function dn(fe,Ce){return ct.apply(this,arguments)}(function Ot(fe,Ce){const{projectId:He,appId:Me,apiKey:he}=fe.options;return{url:`${an}/projects/${He}/apps/${Me}:${on}?key=${he}`,body:{debug_token:Ce}}}(He,yield function kr(){return Ar.apply(this,arguments)}()),fe.heartbeatServiceProvider).finally(()=>{Me.exchangeTokenPromise=void 0}),St=!0);const mn=yield Me.exchangeTokenPromise;return yield rr(He,mn),Me.token=mn,{token:mn.token}}try{Me.exchangeTokenPromise||(Me.exchangeTokenPromise=Me.provider.getToken().finally(()=>{Me.exchangeTokenPromise=void 0}),St=!0),he=yield Le(He).exchangeTokenPromise}catch(mn){"appCheck/throttled"===mn.code?Xn.warn(mn.message):Xn.error(mn),Ae=mn}return he?Ae?Kt=Hi(he)?{token:he.token,internalError:Ae}:is(Ae):(Kt={token:he.token},Me.token=he,yield rr(He,he)):Kt=is(Ae),St&&function tr(fe,Ce){const He=Le(fe).tokenObservers;for(const Me of He)try{"EXTERNAL"===Me.type&&null!=Ce.error?Me.error(Ce.error):Me.next(Ce)}catch{}}(He,Kt),Kt})).apply(this,arguments)}function Ir(fe,Ce){const He=Le(fe),Me=He.tokenObservers.filter(he=>he.next!==Ce);0===Me.length&&He.tokenRefresher&&He.tokenRefresher.isRunning()&&He.tokenRefresher.stop(),He.tokenObservers=Me}function jr(fe){const{app:Ce}=fe,He=Le(Ce);let Me=He.tokenRefresher;Me||(Me=function ns(fe){const{app:Ce}=fe;return new zt((0,dt.Z)(function*(){let Me;if(Me=Le(Ce).token?yield Bi(fe,!0):yield Bi(fe),Me.error)throw Me.error;if(Me.internalError)throw Me.internalError}),()=>!0,()=>{const He=Le(Ce);if(He.token){let Me=He.token.issuedAtTimeMillis+.5*(He.token.expireTimeMillis-He.token.issuedAtTimeMillis)+3e5;return Me=Math.min(Me,He.token.expireTimeMillis-3e5),Math.max(0,Me-Date.now())}return 0},It.RETRIAL_MIN_WAIT,It.RETRIAL_MAX_WAIT)}(fe),He.tokenRefresher=Me),!Me.isRunning()&&He.isTokenAutoRefreshEnabled&&Me.start()}function Hi(fe){return fe.expireTimeMillis-Date.now()>0}function is(fe){return{token:Xr(ps),error:fe}}class nr{constructor(Ce,He){this.app=Ce,this.heartbeatServiceProvider=He}_delete(){const{tokenObservers:Ce}=Le(this.app);for(const He of Ce)Ir(this.app,He.next);return Promise.resolve()}}const Yn="app-check-internal";!function Kn(){(0,Ye._registerComponent)(new be.wA("app-check",fe=>function zn(fe,Ce){return new nr(fe,Ce)}(fe.getProvider("app").getImmediate(),fe.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((fe,Ce,He)=>{fe.getProvider(Yn).initialize()})),(0,Ye._registerComponent)(new be.wA(Yn,fe=>function Ge(fe){return{getToken:Ce=>Bi(fe,Ce),addTokenListener:Ce=>function Jr(fe,Ce,He,Me){const{app:he}=fe,Ae=Le(he);if(Ae.tokenObservers=[...Ae.tokenObservers,{next:He,error:Me,type:Ce}],Ae.token&&Hi(Ae.token)){const Kt=Ae.token;Promise.resolve().then(()=>{He({token:Kt.token}),jr(fe)}).catch(()=>{})}Ae.cachedTokenPromise.then(()=>jr(fe))}(fe,"INTERNAL",Ce),removeTokenListener:Ce=>Ir(fe.app,Ce)}}(fe.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Ye.registerVersion)("@firebase/app-check","0.7.0")}();class Sr{constructor(){return(0,c.vb)("app-check")}}typeof window<"u"&&window},3692:(Ii,ln,Y)=>{"use strict";Y.d(ln,{Ot:()=>ze,ZF:()=>nt,hX:()=>Le,z6:()=>dt});var c=Y(259),y=Y(2223),De=Y(3324);class ze{constructor(zt){return zt}}class dt{constructor(){return(0,c.C6)()}}const $e=new y.OlP("angularfire2._apps"),Ke={provide:ze,useFactory:function be(bt){return bt&&1===bt.length?bt[0]:new ze((0,c.Mq)())},deps:[[new y.FiY,$e]]},Ue={provide:dt,deps:[[new y.FiY,$e]]};function Re(bt){return(zt,Jt)=>{const Yt=zt.runOutsideAngular(()=>bt(Jt));return new ze(Yt)}}let Xe=(()=>{class bt{constructor(Jt){(0,c.KN)("angularfire",De.q4.full,"core"),(0,c.KN)("angularfire",De.q4.full,"app"),(0,c.KN)("angular",y.q4F.full,Jt.toString())}}return bt.\u0275fac=function(Jt){return new(Jt||bt)(y.LFG(y.Lbi))},bt.\u0275mod=y.oAB({type:bt}),bt.\u0275inj=y.cJS({providers:[Ke,Ue]}),bt})();function Le(bt,...zt){return{ngModule:Xe,providers:[{provide:$e,useFactory:Re(bt),multi:!0,deps:[y.R0b,y.zs3,De.HU,...zt]}]}}const nt=(0,De.u3)(c.ZF,!0)},7246:(Ii,ln,Y)=>{"use strict";Y.d(ln,{dh:()=>Le,v0:()=>Ot,AR:()=>bt});var c=Y(3324),y=Y(2223),De=Y(3692),ze=Y(259),dt=Y(2313),Ye=Y(1389);Y(2090),Y(6881),Y(1877),Y(4859);class Xe{constructor(_n){return _n}}class Le{constructor(){return(0,c.vb)("auth")}}const At=new y.OlP("angularfire2.auth-instances");function nt(Mt){return(_n,Gn)=>{const mi=_n.runOutsideAngular(()=>Mt(Gn));return new Xe(mi)}}const Ze={provide:Le,deps:[[new y.FiY,At]]},on={provide:Xe,useFactory:function an(Mt,_n){const Gn=(0,c.JM)("auth",Mt,_n);return Gn&&new Xe(Gn)},deps:[[new y.FiY,At],De.Ot]};let It=(()=>{class Mt{constructor(){(0,ze.KN)("angularfire",c.q4.full,"auth")}}return Mt.\u0275fac=function(Gn){return new(Gn||Mt)},Mt.\u0275mod=y.oAB({type:Mt}),Mt.\u0275inj=y.cJS({providers:[on,Ze]}),Mt})();function bt(Mt,..._n){return{ngModule:It,providers:[{provide:At,useFactory:nt(Mt),multi:!0,deps:[y.R0b,y.zs3,c.HU,De.z6,[new y.FiY,dt.nm],..._n]}]}}const Ot=(0,c.u3)(Ye.o,!0)},3385:(Ii,ln,Y)=>{"use strict";Y.d(ln,{zQ:()=>tn,ww:()=>dn,rT:()=>tt,f7:()=>Vt,L6:()=>Jt,_Q:()=>Yt,lh:()=>se,Qv:()=>zt,nw:()=>Tt});var c=Y(2223),y=Y(7579),De=Y(9646),ze=Y(9751),dt=Y(8996),Ye=Y(6451),be=Y(5363),$e=Y(3900),Ke=Y(4004),Ue=Y(3151),Re=Y(590),Xe=Y(576);function Le(ct,et){return(0,Xe.m)(et)?(0,$e.w)(()=>ct,et):(0,$e.w)(()=>ct)}var Qe=Y(9468),At=Y(9300),an=Y(3324),nt=Y(2011),Ze=Y(4755),on=Y(2313),It=Y(9260);const zt=new c.OlP("angularfire2.auth.use-emulator"),Jt=new c.OlP("angularfire2.auth.settings"),Yt=new c.OlP("angularfire2.auth.tenant-id"),tt=new c.OlP("angularfire2.auth.langugage-code"),se=new c.OlP("angularfire2.auth.use-device-language"),Vt=new c.OlP("angularfire.auth.persistence"),Tt=(ct,et,wt,Ot,ft,Je,Et,vn)=>(0,nt.cc)(`${ct.name}.auth`,"AngularFireAuth",ct.name,()=>{const qt=et.runOutsideAngular(()=>ct.auth());if(wt&&qt.useEmulator(...wt),Ot&&(qt.tenantId=Ot),qt.languageCode=ft,Je&&qt.useDeviceLanguage(),Et)for(const[xn,Gt]of Object.entries(Et))qt.settings[xn]=Gt;return vn&&qt.setPersistence(vn),qt},[wt,Ot,ft,Je,Et,vn]);let tn=(()=>{class ct{constructor(wt,Ot,ft,Je,Et,vn,qt,xn,Gt,li,Dn,Nt){const On=new y.x,Vn=(0,De.of)(void 0).pipe((0,be.Q)(Et.outsideAngular),(0,$e.w)(()=>Je.runOutsideAngular(()=>Promise.resolve().then(Y.bind(Y,9568)))),(0,Ke.U)(()=>(0,nt.on)(wt,Je,Ot)),(0,Ke.U)(Ti=>Tt(Ti,Je,vn,xn,Gt,li,qt,Dn)),(0,Ue.d)({bufferSize:1,refCount:!1}));if((0,Ze.PM)(ft))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,De.of)(null);else{Vn.pipe((0,Re.P)()).subscribe();const Di=Vn.pipe((0,$e.w)(Ai=>Ai.getRedirectResult().then(Ni=>Ni,()=>null)),an.iC,(0,Ue.d)({bufferSize:1,refCount:!1})),Vi=Vn.pipe((0,$e.w)(Ai=>new ze.y(Ni=>({unsubscribe:Je.runOutsideAngular(()=>Ai.onAuthStateChanged(rr=>Ni.next(rr),rr=>Ni.error(rr),()=>Ni.complete()))})))),Xn=Vn.pipe((0,$e.w)(Ai=>new ze.y(Ni=>({unsubscribe:Je.runOutsideAngular(()=>Ai.onIdTokenChanged(rr=>Ni.next(rr),rr=>Ni.error(rr),()=>Ni.complete()))}))));this.authState=Di.pipe(Le(Vi),(0,Qe.R)(Et.outsideAngular),(0,be.Q)(Et.insideAngular)),this.user=Di.pipe(Le(Xn),(0,Qe.R)(Et.outsideAngular),(0,be.Q)(Et.insideAngular)),this.idToken=this.user.pipe((0,$e.w)(Ai=>Ai?(0,dt.D)(Ai.getIdToken()):(0,De.of)(null))),this.idTokenResult=this.user.pipe((0,$e.w)(Ai=>Ai?(0,dt.D)(Ai.getIdTokenResult()):(0,De.of)(null))),this.credential=(0,Ye.T)(Di,On,this.authState.pipe((0,At.h)(Ai=>!Ai))).pipe((0,Ke.U)(Ai=>null!=Ai&&Ai.user?Ai:null),(0,Qe.R)(Et.outsideAngular),(0,be.Q)(Et.insideAngular))}return(0,nt.pX)(this,Vn,Je,{spy:{apply:(Ti,Di,Vi)=>{(Ti.startsWith("signIn")||Ti.startsWith("createUser"))&&Vi.then(Xn=>On.next(Xn))}}})}}return ct.\u0275fac=function(wt){return new(wt||ct)(c.LFG(nt.Dh),c.LFG(nt.xv,8),c.LFG(c.Lbi),c.LFG(c.R0b),c.LFG(an.HU),c.LFG(zt,8),c.LFG(Jt,8),c.LFG(Yt,8),c.LFG(tt,8),c.LFG(se,8),c.LFG(Vt,8),c.LFG(on.nm,8))},ct.\u0275prov=c.Yz7({token:ct,factory:ct.\u0275fac,providedIn:"any"}),ct})(),dn=(()=>{class ct{constructor(){It.Z.registerVersion("angularfire",an.q4.full,"auth-compat")}}return ct.\u0275fac=function(wt){return new(wt||ct)},ct.\u0275mod=c.oAB({type:ct}),ct.\u0275inj=c.cJS({providers:[tn]}),ct})()},5197:(Ii,ln,Y)=>{"use strict";Y.d(ln,{KQ:()=>Mu,JS:()=>Ff});var c=Y(2223),y=Y(4986),De=Y(9751),ze=Y(9646),dt=Y(6451),Ye=Y(4004),be=Y(3099),$e=Y(3900),Ke=Y(5026),Ue=Y(1884),Re=Y(4482),Xe=Y(5403),Le=Y(8421),Qe=Y(4671),At=Y(5032),an=Y(7669),on=Y(3324),It=Y(2011),zt=(Y(9568),Y(3942)),Jt=Y(4859),Yt=Y(5861),tt=Y(6881),se=Y(2090),Vt=Y(1877);const Tt="@firebase/database";let dn="";function ct(v){dn=v}class et{constructor(h){this.domStorage_=h,this.prefix_="firebase:"}set(h,f){null==f?this.domStorage_.removeItem(this.prefixedName_(h)):this.domStorage_.setItem(this.prefixedName_(h),(0,se.Wl)(f))}get(h){const f=this.domStorage_.getItem(this.prefixedName_(h));return null==f?null:(0,se.cI)(f)}remove(h){this.domStorage_.removeItem(this.prefixedName_(h))}prefixedName_(h){return this.prefix_+h}toString(){return this.domStorage_.toString()}}class wt{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(h,f){null==f?delete this.cache_[h]:this.cache_[h]=f}get(h){return(0,se.r3)(this.cache_,h)?this.cache_[h]:null}remove(h){delete this.cache_[h]}}const Ot=function(v){try{if(typeof window<"u"&&typeof window[v]<"u"){const h=window[v];return h.setItem("firebase:sentinel","cache"),h.removeItem("firebase:sentinel"),new et(h)}}catch{}return new wt},ft=Ot("localStorage"),Je=Ot("sessionStorage"),Et=new Vt.Yd("@firebase/database"),vn=function(){let v=1;return function(){return v++}}(),qt=function(v){const h=(0,se.dS)(v),f=new se.gQ;f.update(h);const C=f.digest();return se.US.encodeByteArray(C)},xn=function(...v){let h="";for(let f=0;f<v.length;f++){const C=v[f];Array.isArray(C)||C&&"object"==typeof C&&"number"==typeof C.length?h+=xn.apply(null,C):h+="object"==typeof C?(0,se.Wl)(C):C,h+=" "}return h};let Gt=null,li=!0;const Dn=function(v,h){(0,se.hu)(!h||!0===v||!1===v,"Can't turn on custom loggers persistently."),!0===v?(Et.logLevel=Vt.in.VERBOSE,Gt=Et.log.bind(Et),h&&Je.set("logging_enabled",!0)):"function"==typeof v?Gt=v:(Gt=null,Je.remove("logging_enabled"))},Nt=function(...v){if(!0===li&&(li=!1,null===Gt&&!0===Je.get("logging_enabled")&&Dn(!0)),Gt){const h=xn.apply(null,v);Gt(h)}},On=function(v){return function(...h){Nt(v,...h)}},Vn=function(...v){const h="FIREBASE INTERNAL ERROR: "+xn(...v);Et.error(h)},Ti=function(...v){const h=`FIREBASE FATAL ERROR: ${xn(...v)}`;throw Et.error(h),new Error(h)},Di=function(...v){const h="FIREBASE WARNING: "+xn(...v);Et.warn(h)},Xn=function(v){return"number"==typeof v&&(v!=v||v===Number.POSITIVE_INFINITY||v===Number.NEGATIVE_INFINITY)},Ni="[MIN_NAME]",rr="[MAX_NAME]",fr=function(v,h){if(v===h)return 0;if(v===Ni||h===rr)return-1;if(h===Ni||v===rr)return 1;{const f=Ir(v),C=Ir(h);return null!==f?null!==C?f-C==0?v.length-h.length:f-C:-1:null!==C?1:v<h?-1:1}},Ui=function(v,h){return v===h?0:v<h?-1:1},ii=function(v,h){if(h&&v in h)return h[v];throw new Error("Missing required key ("+v+") in object: "+(0,se.Wl)(h))},kr=function(v){if("object"!=typeof v||null===v)return(0,se.Wl)(v);const h=[];for(const C in v)h.push(C);h.sort();let f="{";for(let C=0;C<h.length;C++)0!==C&&(f+=","),f+=(0,se.Wl)(h[C]),f+=":",f+=kr(v[h[C]]);return f+="}",f},Ar=function(v,h){const f=v.length;if(f<=h)return[v];const C=[];for(let z=0;z<f;z+=h)C.push(v.substring(z,z+h>f?f:z+h));return C};function Li(v,h){for(const f in v)v.hasOwnProperty(f)&&h(f,v[f])}const ps=function(v){(0,se.hu)(!Xn(v),"Invalid JSON number");const C=1023;let z,le,we,ot,$t;0===v?(le=0,we=0,z=1/v==-1/0?1:0):(z=v<0,(v=Math.abs(v))>=Math.pow(2,1-C)?(ot=Math.min(Math.floor(Math.log(v)/Math.LN2),C),le=ot+C,we=Math.round(v*Math.pow(2,52-ot)-Math.pow(2,52))):(le=0,we=Math.round(v/Math.pow(2,-1074))));const un=[];for($t=52;$t;$t-=1)un.push(we%2?1:0),we=Math.floor(we/2);for($t=11;$t;$t-=1)un.push(le%2?1:0),le=Math.floor(le/2);un.push(z?1:0),un.reverse();const hi=un.join("");let pi="";for($t=0;$t<64;$t+=8){let ki=parseInt(hi.substr($t,8),2).toString(16);1===ki.length&&(ki="0"+ki),pi+=ki}return pi.toLowerCase()},Zi=new RegExp("^-?(0*)\\d{1,10}$"),Ir=function(v){if(Zi.test(v)){const h=Number(v);if(h>=-2147483648&&h<=2147483647)return h}return null},jr=function(v){try{v()}catch(h){setTimeout(()=>{throw Di("Exception was thrown by user callback.",h.stack||""),h},Math.floor(0))}},tr=function(v,h){const f=setTimeout(v,h);return"number"==typeof f&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(f):"object"==typeof f&&f.unref&&f.unref(),f};class Hi{constructor(h,f){this.appName_=h,this.appCheckProvider=f,this.appCheck=null==f?void 0:f.getImmediate({optional:!0}),this.appCheck||null==f||f.get().then(C=>this.appCheck=C)}getToken(h){return this.appCheck?this.appCheck.getToken(h):new Promise((f,C)=>{setTimeout(()=>{this.appCheck?this.getToken(h).then(f,C):f(null)},0)})}addTokenChangeListener(h){var f;null===(f=this.appCheckProvider)||void 0===f||f.get().then(C=>C.addTokenListener(h))}notifyForInvalidToken(){Di(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class is{constructor(h,f,C){this.appName_=h,this.firebaseOptions_=f,this.authProvider_=C,this.auth_=null,this.auth_=C.getImmediate({optional:!0}),this.auth_||C.onInit(z=>this.auth_=z)}getToken(h){return this.auth_?this.auth_.getToken(h).catch(f=>f&&"auth/token-not-initialized"===f.code?(Nt("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(f)):new Promise((f,C)=>{setTimeout(()=>{this.auth_?this.getToken(h).then(f,C):f(null)},0)})}addTokenChangeListener(h){this.auth_?this.auth_.addAuthTokenListener(h):this.authProvider_.get().then(f=>f.addAuthTokenListener(h))}removeTokenChangeListener(h){this.authProvider_.get().then(f=>f.removeAuthTokenListener(h))}notifyForInvalidToken(){let h='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';h+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Di(h)}}let nr=(()=>{class v{constructor(f){this.accessToken=f}getToken(f){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(f){f(this.accessToken)}removeTokenChangeListener(f){}notifyForInvalidToken(){}}return v.OWNER="owner",v})();const mi=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Pt="websocket",B="long_polling";class x{constructor(h,f,C,z,le=!1,we="",ot=!1,$t=!1){this.secure=f,this.namespace=C,this.webSocketOnly=z,this.nodeAdmin=le,this.persistenceKey=we,this.includeNamespaceInQueryParams=ot,this.isUsingEmulator=$t,this._host=h.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=ft.get("host:"+h)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(h){h!==this.internalHost&&(this.internalHost=h,this.isCacheableHost()&&ft.set("host:"+this._host,this.internalHost))}toString(){let h=this.toURLString();return this.persistenceKey&&(h+="<"+this.persistenceKey+">"),h}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function O(v,h,f){let C;if((0,se.hu)("string"==typeof h,"typeof type must == string"),(0,se.hu)("object"==typeof f,"typeof params must == object"),h===Pt)C=(v.secure?"wss://":"ws://")+v.internalHost+"/.ws?";else{if(h!==B)throw new Error("Unknown connection type: "+h);C=(v.secure?"https://":"http://")+v.internalHost+"/.lp?"}(function A(v){return v.host!==v.internalHost||v.isCustomHost()||v.includeNamespaceInQueryParams})(v)&&(f.ns=v.namespace);const z=[];return Li(f,(le,we)=>{z.push(le+"="+we)}),C+z.join("&")}class ne{constructor(){this.counters_={}}incrementCounter(h,f=1){(0,se.r3)(this.counters_,h)||(this.counters_[h]=0),this.counters_[h]+=f}get(){return(0,se.p$)(this.counters_)}}const ce={},me={};function Ve(v){const h=v.toString();return ce[h]||(ce[h]=new ne),ce[h]}class jt{constructor(h){this.onMessage_=h,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(h,f){this.closeAfterResponse=h,this.onClose=f,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(h,f){for(this.pendingResponses[h]=f;this.pendingResponses[this.currentResponseNum];){const C=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let z=0;z<C.length;++z)C[z]&&jr(()=>{this.onMessage_(C[z])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class mr{constructor(h,f,C,z,le,we,ot){this.connId=h,this.repoInfo=f,this.applicationId=C,this.appCheckToken=z,this.authToken=le,this.transportSessionId=we,this.lastSessionId=ot,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=On(h),this.stats_=Ve(f),this.urlFn=$t=>(this.appCheckToken&&($t.ac=this.appCheckToken),O(f,B,$t))}open(h,f){this.curSegmentNum=0,this.onDisconnect_=f,this.myPacketOrderer=new jt(h),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(v){if((0,se.Yr)()||"complete"===document.readyState)v();else{let h=!1;const f=function(){document.body?h||(h=!0,v()):setTimeout(f,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",f,!1),window.addEventListener("load",f,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&f()}),window.attachEvent("onload",f))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Hr((...le)=>{const[we,ot,$t,un,hi]=le;if(this.incrementIncomingBytes_(le),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===we)this.id=ot,this.password=$t;else{if("close"!==we)throw new Error("Unrecognized command received: "+we);ot?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(ot,()=>{this.onClosed_()})):this.onClosed_()}},(...le)=>{const[we,ot]=le;this.incrementIncomingBytes_(le),this.myPacketOrderer.handleResponse(we,ot)},()=>{this.onClosed_()},this.urlFn);const C={start:"t"};C.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(C.cb=this.scriptTagHolder.uniqueCallbackIdentifier),C.v="5",this.transportSessionId&&(C.s=this.transportSessionId),this.lastSessionId&&(C.ls=this.lastSessionId),this.applicationId&&(C.p=this.applicationId),this.appCheckToken&&(C.ac=this.appCheckToken),typeof location<"u"&&location.hostname&&mi.test(location.hostname)&&(C.r="f");const z=this.urlFn(C);this.log_("Connecting via long-poll to "+z),this.scriptTagHolder.addTag(z,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){mr.forceAllow_=!0}static forceDisallow(){mr.forceDisallow_=!0}static isAvailable(){return!((0,se.Yr)()||!mr.forceAllow_&&(mr.forceDisallow_||!(typeof document<"u")||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(h){const f=(0,se.Wl)(h);this.bytesSent+=f.length,this.stats_.incrementCounter("bytes_sent",f.length);const C=(0,se.h$)(f),z=Ar(C,1840);for(let le=0;le<z.length;le++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,z.length,z[le]),this.curSegmentNum++}addDisconnectPingFrame(h,f){if((0,se.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const C={dframe:"t"};C.id=h,C.pw=f,this.myDisconnFrame.src=this.urlFn(C),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(h){const f=(0,se.Wl)(h).length;this.bytesReceived+=f,this.stats_.incrementCounter("bytes_received",f)}}class Hr{constructor(h,f,C,z){if(this.onDisconnect=C,this.urlFn=z,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,se.Yr)())this.commandCB=h,this.onMessageCB=f;else{this.uniqueCallbackIdentifier=vn(),window["pLPCommand"+this.uniqueCallbackIdentifier]=h,window["pRTLPCB"+this.uniqueCallbackIdentifier]=f,this.myIFrame=Hr.createIFrame_();let le="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(le='<script>document.domain="'+document.domain+'";<\/script>');const we="<html><body>"+le+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(we),this.myIFrame.doc.close()}catch(ot){Nt("frame writing exception"),ot.stack&&Nt(ot.stack),Nt(ot)}}}static createIFrame_(){const h=document.createElement("iframe");if(h.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(h);try{h.contentWindow.document||Nt("No IE domain setting required")}catch{const C=document.domain;h.src="javascript:void((function(){document.open();document.domain='"+C+"';document.close();})())"}return h.contentDocument?h.doc=h.contentDocument:h.contentWindow?h.doc=h.contentWindow.document:h.document&&(h.doc=h.document),h}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const h=this.onDisconnect;h&&(this.onDisconnect=null,h())}startLongPoll(h,f){for(this.myID=h,this.myPW=f,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const h={};h.id=this.myID,h.pw=this.myPW,h.ser=this.currentSerial;let f=this.urlFn(h),C="",z=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+C.length<=1870;){const we=this.pendingSegs.shift();C=C+"&seg"+z+"="+we.seg+"&ts"+z+"="+we.ts+"&d"+z+"="+we.d,z++}return f+=C,this.addLongPollTag_(f,this.currentSerial),!0}return!1}enqueueSegment(h,f,C){this.pendingSegs.push({seg:h,ts:f,d:C}),this.alive&&this.newRequest_()}addLongPollTag_(h,f){this.outstandingRequests.add(f);const C=()=>{this.outstandingRequests.delete(f),this.newRequest_()},z=setTimeout(C,Math.floor(25e3));this.addTag(h,()=>{clearTimeout(z),C()})}addTag(h,f){(0,se.Yr)()?this.doNodeLongPoll(h,f):setTimeout(()=>{try{if(!this.sendNewPolls)return;const C=this.myIFrame.doc.createElement("script");C.type="text/javascript",C.async=!0,C.src=h,C.onload=C.onreadystatechange=function(){const z=C.readyState;(!z||"loaded"===z||"complete"===z)&&(C.onload=C.onreadystatechange=null,C.parentNode&&C.parentNode.removeChild(C),f())},C.onerror=()=>{Nt("Long-poll script failed to load: "+h),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(C)}catch{}},Math.floor(1))}}let $s=null;typeof MozWebSocket<"u"?$s=MozWebSocket:typeof WebSocket<"u"&&($s=WebSocket);let ws=(()=>{class v{constructor(f,C,z,le,we,ot,$t){this.connId=f,this.applicationId=z,this.appCheckToken=le,this.authToken=we,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=On(this.connId),this.stats_=Ve(C),this.connURL=v.connectionURL_(C,ot,$t,le,z),this.nodeAdmin=C.nodeAdmin}static connectionURL_(f,C,z,le,we){const ot={v:"5"};return!(0,se.Yr)()&&typeof location<"u"&&location.hostname&&mi.test(location.hostname)&&(ot.r="f"),C&&(ot.s=C),z&&(ot.ls=z),le&&(ot.ac=le),we&&(ot.p=we),O(f,Pt,ot)}open(f,C){this.onDisconnect=C,this.onMessage=f,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,ft.set("previous_websocket_failure",!0);try{let z;if((0,se.Yr)()){z={headers:{"User-Agent":`Firebase/5/${dn}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(z.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(z.headers["X-Firebase-AppCheck"]=this.appCheckToken);const we=process.env,ot=0===this.connURL.indexOf("wss://")?we.HTTPS_PROXY||we.https_proxy:we.HTTP_PROXY||we.http_proxy;ot&&(z.proxy={origin:ot})}this.mySock=new $s(this.connURL,[],z)}catch(z){this.log_("Error instantiating WebSocket.");const le=z.message||z.data;return le&&this.log_(le),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=z=>{this.handleIncomingFrame(z)},this.mySock.onerror=z=>{this.log_("WebSocket error.  Closing connection.");const le=z.message||z.data;le&&this.log_(le),this.onClosed_()}}start(){}static forceDisallow(){v.forceDisallow_=!0}static isAvailable(){let f=!1;if(typeof navigator<"u"&&navigator.userAgent){const z=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);z&&z.length>1&&parseFloat(z[1])<4.4&&(f=!0)}return!f&&null!==$s&&!v.forceDisallow_}static previouslyFailed(){return ft.isInMemoryStorage||!0===ft.get("previous_websocket_failure")}markConnectionHealthy(){ft.remove("previous_websocket_failure")}appendFrame_(f){if(this.frames.push(f),this.frames.length===this.totalFrames){const C=this.frames.join("");this.frames=null;const z=(0,se.cI)(C);this.onMessage(z)}}handleNewFrameCount_(f){this.totalFrames=f,this.frames=[]}extractFrameCount_(f){if((0,se.hu)(null===this.frames,"We already have a frame buffer"),f.length<=6){const C=Number(f);if(!isNaN(C))return this.handleNewFrameCount_(C),null}return this.handleNewFrameCount_(1),f}handleIncomingFrame(f){if(null===this.mySock)return;const C=f.data;if(this.bytesReceived+=C.length,this.stats_.incrementCounter("bytes_received",C.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(C);else{const z=this.extractFrameCount_(C);null!==z&&this.appendFrame_(z)}}send(f){this.resetKeepAlive();const C=(0,se.Wl)(f);this.bytesSent+=C.length,this.stats_.incrementCounter("bytes_sent",C.length);const z=Ar(C,16384);z.length>1&&this.sendString_(String(z.length));for(let le=0;le<z.length;le++)this.sendString_(z[le])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(f){try{this.mySock.send(f)}catch(C){this.log_("Exception thrown from WebSocket.send():",C.message||C.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return v.responsesRequiredToBeHealthy=2,v.healthyTimeout=3e4,v})(),Es=(()=>{class v{constructor(f){this.initTransports_(f)}static get ALL_TRANSPORTS(){return[mr,ws]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(f){const C=ws&&ws.isAvailable();let z=C&&!ws.previouslyFailed();if(f.webSocketOnly&&(C||Di("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),z=!0),z)this.transports_=[ws];else{const le=this.transports_=[];for(const we of v.ALL_TRANSPORTS)we&&we.isAvailable()&&le.push(we);v.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return v.globalTransportInitialized_=!1,v})();class yi{constructor(h,f,C,z,le,we,ot,$t,un,hi){this.id=h,this.repoInfo_=f,this.applicationId_=C,this.appCheckToken_=z,this.authToken_=le,this.onMessage_=we,this.onReady_=ot,this.onDisconnect_=$t,this.onKill_=un,this.lastSessionId=hi,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=On("c:"+this.id+":"),this.transportManager_=new Es(f),this.log_("Connection created"),this.start_()}start_(){const h=this.transportManager_.initialTransport();this.conn_=new h(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=h.responsesRequiredToBeHealthy||0;const f=this.connReceiver_(this.conn_),C=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(f,C)},Math.floor(0));const z=h.healthyTimeout||0;z>0&&(this.healthyTimeout_=tr(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(z)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(h){return f=>{h===this.conn_?this.onConnectionLost_(f):h===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(h){return f=>{2!==this.state_&&(h===this.rx_?this.onPrimaryMessageReceived_(f):h===this.secondaryConn_?this.onSecondaryMessageReceived_(f):this.log_("message on old connection"))}}sendRequest(h){this.sendData_({t:"d",d:h})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(h){if("t"in h){const f=h.t;"a"===f?this.upgradeIfSecondaryHealthy_():"r"===f?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===f&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(h){const f=ii("t",h),C=ii("d",h);if("c"===f)this.onSecondaryControl_(C);else{if("d"!==f)throw new Error("Unknown protocol layer: "+f);this.pendingDataMessages.push(C)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(h){const f=ii("t",h),C=ii("d",h);"c"===f?this.onControl_(C):"d"===f&&this.onDataMessage_(C)}onDataMessage_(h){this.onPrimaryResponse_(),this.onMessage_(h)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(h){const f=ii("t",h);if("d"in h){const C=h.d;if("h"===f){const z=Object.assign({},C);this.repoInfo_.isUsingEmulator&&(z.h=this.repoInfo_.host),this.onHandshake_(z)}else if("n"===f){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let z=0;z<this.pendingDataMessages.length;++z)this.onDataMessage_(this.pendingDataMessages[z]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===f?this.onConnectionShutdown_(C):"r"===f?this.onReset_(C):"e"===f?Vn("Server Error: "+C):"o"===f?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Vn("Unknown control packet command: "+f)}}onHandshake_(h){const f=h.ts,C=h.v,z=h.h;this.sessionId=h.s,this.repoInfo_.host=z,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,f),"5"!==C&&Di("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const h=this.transportManager_.upgradeTransport();h&&this.startUpgrade_(h)}startUpgrade_(h){this.secondaryConn_=new h(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=h.responsesRequiredToBeHealthy||0;const f=this.connReceiver_(this.secondaryConn_),C=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(f,C),tr(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(h){this.log_("Reset packet received.  New host: "+h),this.repoInfo_.host=h,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(h,f){this.log_("Realtime connection established."),this.conn_=h,this.state_=1,this.onReady_&&(this.onReady_(f,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):tr(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const h=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===h||this.rx_===h)&&this.close()}onConnectionLost_(h){this.conn_=null,h||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(ft.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(h){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(h),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(h){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(h)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class bi{put(h,f,C,z){}merge(h,f,C,z){}refreshAuthToken(h){}refreshAppCheckToken(h){}onDisconnectPut(h,f,C){}onDisconnectMerge(h,f,C){}onDisconnectCancel(h,f){}reportStats(h){}}class Cr{constructor(h){this.allowedEvents_=h,this.listeners_={},(0,se.hu)(Array.isArray(h)&&h.length>0,"Requires a non-empty array")}trigger(h,...f){if(Array.isArray(this.listeners_[h])){const C=[...this.listeners_[h]];for(let z=0;z<C.length;z++)C[z].callback.apply(C[z].context,f)}}on(h,f,C){this.validateEventType_(h),this.listeners_[h]=this.listeners_[h]||[],this.listeners_[h].push({callback:f,context:C});const z=this.getInitialEvent(h);z&&f.apply(C,z)}off(h,f,C){this.validateEventType_(h);const z=this.listeners_[h]||[];for(let le=0;le<z.length;le++)if(z[le].callback===f&&(!C||C===z[le].context))return void z.splice(le,1)}validateEventType_(h){(0,se.hu)(this.allowedEvents_.find(f=>f===h),"Unknown event: "+h)}}class $r extends Cr{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!(0,se.uI)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new $r}getInitialEvent(h){return(0,se.hu)("online"===h,"Unknown event type: "+h),[this.online_]}currentlyOnline(){return this.online_}}class vs{constructor(h,f){if(void 0===f){this.pieces_=h.split("/");let C=0;for(let z=0;z<this.pieces_.length;z++)this.pieces_[z].length>0&&(this.pieces_[C]=this.pieces_[z],C++);this.pieces_.length=C,this.pieceNum_=0}else this.pieces_=h,this.pieceNum_=f}toString(){let h="";for(let f=this.pieceNum_;f<this.pieces_.length;f++)""!==this.pieces_[f]&&(h+="/"+this.pieces_[f]);return h||"/"}}function hr(){return new vs("")}function ri(v){return v.pieceNum_>=v.pieces_.length?null:v.pieces_[v.pieceNum_]}function vr(v){return v.pieces_.length-v.pieceNum_}function _r(v){let h=v.pieceNum_;return h<v.pieces_.length&&h++,new vs(v.pieces_,h)}function So(v){return v.pieceNum_<v.pieces_.length?v.pieces_[v.pieces_.length-1]:null}function js(v,h=0){return v.pieces_.slice(v.pieceNum_+h)}function Qo(v){if(v.pieceNum_>=v.pieces_.length)return null;const h=[];for(let f=v.pieceNum_;f<v.pieces_.length-1;f++)h.push(v.pieces_[f]);return new vs(h,0)}function Vr(v,h){const f=[];for(let C=v.pieceNum_;C<v.pieces_.length;C++)f.push(v.pieces_[C]);if(h instanceof vs)for(let C=h.pieceNum_;C<h.pieces_.length;C++)f.push(h.pieces_[C]);else{const C=h.split("/");for(let z=0;z<C.length;z++)C[z].length>0&&f.push(C[z])}return new vs(f,0)}function Mr(v){return v.pieceNum_>=v.pieces_.length}function Cs(v,h){const f=ri(v),C=ri(h);if(null===f)return h;if(f===C)return Cs(_r(v),_r(h));throw new Error("INTERNAL ERROR: innerPath ("+h+") is not within outerPath ("+v+")")}function Nr(v,h){const f=js(v,0),C=js(h,0);for(let z=0;z<f.length&&z<C.length;z++){const le=fr(f[z],C[z]);if(0!==le)return le}return f.length===C.length?0:f.length<C.length?-1:1}function Ao(v,h){if(vr(v)!==vr(h))return!1;for(let f=v.pieceNum_,C=h.pieceNum_;f<=v.pieces_.length;f++,C++)if(v.pieces_[f]!==h.pieces_[C])return!1;return!0}function Gs(v,h){let f=v.pieceNum_,C=h.pieceNum_;if(vr(v)>vr(h))return!1;for(;f<v.pieces_.length;){if(v.pieces_[f]!==h.pieces_[C])return!1;++f,++C}return!0}class as{constructor(h,f){this.errorPrefix_=f,this.parts_=js(h,0),this.byteLength_=Math.max(1,this.parts_.length);for(let C=0;C<this.parts_.length;C++)this.byteLength_+=(0,se.ug)(this.parts_[C]);Jo(this)}}function Jo(v){if(v.byteLength_>768)throw new Error(v.errorPrefix_+"has a key path longer than 768 bytes ("+v.byteLength_+").");if(v.parts_.length>32)throw new Error(v.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+vo(v))}function vo(v){return 0===v.parts_.length?"":"in property '"+v.parts_.join(".")+"'"}class ea extends Cr{constructor(){let h,f;super(["visible"]),typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(f="visibilitychange",h="hidden"):typeof document.mozHidden<"u"?(f="mozvisibilitychange",h="mozHidden"):typeof document.msHidden<"u"?(f="msvisibilitychange",h="msHidden"):typeof document.webkitHidden<"u"&&(f="webkitvisibilitychange",h="webkitHidden")),this.visible_=!0,f&&document.addEventListener(f,()=>{const C=!document[h];C!==this.visible_&&(this.visible_=C,this.trigger("visible",C))},!1)}static getInstance(){return new ea}getInitialEvent(h){return(0,se.hu)("visible"===h,"Unknown event type: "+h),[this.visible_]}}const ia=1e3;let No,Co=(()=>{class v extends bi{constructor(f,C,z,le,we,ot,$t,un){if(super(),this.repoInfo_=f,this.applicationId_=C,this.onDataUpdate_=z,this.onConnectStatus_=le,this.onServerInfoUpdate_=we,this.authTokenProvider_=ot,this.appCheckTokenProvider_=$t,this.authOverride_=un,this.id=v.nextPersistentConnectionId_++,this.log_=On("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=ia,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,un&&!(0,se.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");ea.getInstance().on("visible",this.onVisible_,this),-1===f.host.indexOf("fblocal")&&$r.getInstance().on("online",this.onOnline_,this)}sendRequest(f,C,z){const le=++this.requestNumber_,we={r:le,a:f,b:C};this.log_((0,se.Wl)(we)),(0,se.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(we),z&&(this.requestCBHash_[le]=z)}get(f){this.initConnection_();const C=new se.BH,le={action:"g",request:{p:f._path.toString(),q:f._queryObject},onComplete:ot=>{const $t=ot.d;"ok"===ot.s?C.resolve($t):C.reject($t)}};return this.outstandingGets_.push(le),this.outstandingGetCount_++,this.connected_&&this.sendGet_(this.outstandingGets_.length-1),C.promise}listen(f,C,z,le){this.initConnection_();const we=f._queryIdentifier,ot=f._path.toString();this.log_("Listen called for "+ot+" "+we),this.listens.has(ot)||this.listens.set(ot,new Map),(0,se.hu)(f._queryParams.isDefault()||!f._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,se.hu)(!this.listens.get(ot).has(we),"listen() called twice for same path/queryId.");const $t={onComplete:le,hashFn:C,query:f,tag:z};this.listens.get(ot).set(we,$t),this.connected_&&this.sendListen_($t)}sendGet_(f){const C=this.outstandingGets_[f];this.sendRequest("g",C.request,z=>{delete this.outstandingGets_[f],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),C.onComplete&&C.onComplete(z)})}sendListen_(f){const C=f.query,z=C._path.toString(),le=C._queryIdentifier;this.log_("Listen on "+z+" for "+le);const we={p:z};f.tag&&(we.q=C._queryObject,we.t=f.tag),we.h=f.hashFn(),this.sendRequest("q",we,$t=>{const un=$t.d,hi=$t.s;v.warnOnListenWarnings_(un,C),(this.listens.get(z)&&this.listens.get(z).get(le))===f&&(this.log_("listen response",$t),"ok"!==hi&&this.removeListen_(z,le),f.onComplete&&f.onComplete(hi,un))})}static warnOnListenWarnings_(f,C){if(f&&"object"==typeof f&&(0,se.r3)(f,"w")){const z=(0,se.DV)(f,"w");if(Array.isArray(z)&&~z.indexOf("no_index")){const le='".indexOn": "'+C._queryParams.getIndex().toString()+'"',we=C._path.toString();Di(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${le} at ${we} to your security rules for better performance.`)}}}refreshAuthToken(f){this.authToken_=f,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(f)}reduceReconnectDelayIfAdminCredential_(f){(f&&40===f.length||(0,se.GJ)(f))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(f){this.appCheckToken_=f,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const f=this.authToken_,C=(0,se.w9)(f)?"auth":"gauth",z={cred:f};null===this.authOverride_?z.noauth=!0:"object"==typeof this.authOverride_&&(z.authvar=this.authOverride_),this.sendRequest(C,z,le=>{const we=le.s,ot=le.d||"error";this.authToken_===f&&("ok"===we?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(we,ot))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},f=>{const C=f.s,z=f.d||"error";"ok"===C?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(C,z)})}unlisten(f,C){const z=f._path.toString(),le=f._queryIdentifier;this.log_("Unlisten called for "+z+" "+le),(0,se.hu)(f._queryParams.isDefault()||!f._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(z,le)&&this.connected_&&this.sendUnlisten_(z,le,f._queryObject,C)}sendUnlisten_(f,C,z,le){this.log_("Unlisten on "+f+" for "+C);const we={p:f};le&&(we.q=z,we.t=le),this.sendRequest("n",we)}onDisconnectPut(f,C,z){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",f,C,z):this.onDisconnectRequestQueue_.push({pathString:f,action:"o",data:C,onComplete:z})}onDisconnectMerge(f,C,z){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",f,C,z):this.onDisconnectRequestQueue_.push({pathString:f,action:"om",data:C,onComplete:z})}onDisconnectCancel(f,C){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",f,null,C):this.onDisconnectRequestQueue_.push({pathString:f,action:"oc",data:null,onComplete:C})}sendOnDisconnect_(f,C,z,le){const we={p:C,d:z};this.log_("onDisconnect "+f,we),this.sendRequest(f,we,ot=>{le&&setTimeout(()=>{le(ot.s,ot.d)},Math.floor(0))})}put(f,C,z,le){this.putInternal("p",f,C,z,le)}merge(f,C,z,le){this.putInternal("m",f,C,z,le)}putInternal(f,C,z,le,we){this.initConnection_();const ot={p:C,d:z};void 0!==we&&(ot.h=we),this.outstandingPuts_.push({action:f,request:ot,onComplete:le}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+C)}sendPut_(f){const C=this.outstandingPuts_[f].action,z=this.outstandingPuts_[f].request,le=this.outstandingPuts_[f].onComplete;this.outstandingPuts_[f].queued=this.connected_,this.sendRequest(C,z,we=>{this.log_(C+" response",we),delete this.outstandingPuts_[f],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),le&&le(we.s,we.d)})}reportStats(f){if(this.connected_){const C={c:f};this.log_("reportStats",C),this.sendRequest("s",C,z=>{"ok"!==z.s&&this.log_("reportStats","Error sending stats: "+z.d)})}}onDataMessage_(f){if("r"in f){this.log_("from server: "+(0,se.Wl)(f));const C=f.r,z=this.requestCBHash_[C];z&&(delete this.requestCBHash_[C],z(f.b))}else{if("error"in f)throw"A server-side error has occurred: "+f.error;"a"in f&&this.onDataPush_(f.a,f.b)}}onDataPush_(f,C){this.log_("handleServerMessage",f,C),"d"===f?this.onDataUpdate_(C.p,C.d,!1,C.t):"m"===f?this.onDataUpdate_(C.p,C.d,!0,C.t):"c"===f?this.onListenRevoked_(C.p,C.q):"ac"===f?this.onAuthRevoked_(C.s,C.d):"apc"===f?this.onAppCheckRevoked_(C.s,C.d):"sd"===f?this.onSecurityDebugPacket_(C):Vn("Unrecognized action received from server: "+(0,se.Wl)(f)+"\nAre you using the latest client?")}onReady_(f,C){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(f),this.lastSessionId=C,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(f){(0,se.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(f))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(f){f&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=ia,this.realtime_||this.scheduleConnect_(0)),this.visible_=f}onOnline_(f){f?(this.log_("Browser went online."),this.reconnectDelay_=ia,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=ia),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const f=(new Date).getTime()-this.lastConnectionAttemptTime_;let C=Math.max(0,this.reconnectDelay_-f);C=Math.random()*C,this.log_("Trying to reconnect in "+C+"ms"),this.scheduleConnect_(C),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var f=this;return(0,Yt.Z)(function*(){if(f.shouldReconnect_()){f.log_("Making a connection attempt"),f.lastConnectionAttemptTime_=(new Date).getTime(),f.lastConnectionEstablishedTime_=null;const C=f.onDataMessage_.bind(f),z=f.onReady_.bind(f),le=f.onRealtimeDisconnect_.bind(f),we=f.id+":"+v.nextConnectionId_++,ot=f.lastSessionId;let $t=!1,un=null;const hi=function(){un?un.close():($t=!0,le())};f.realtime_={close:hi,sendRequest:function(us){(0,se.hu)(un,"sendRequest call when we're not connected not allowed."),un.sendRequest(us)}};const ki=f.forceTokenRefresh_;f.forceTokenRefresh_=!1;try{const[us,Fs]=yield Promise.all([f.authTokenProvider_.getToken(ki),f.appCheckTokenProvider_.getToken(ki)]);$t?Nt("getToken() completed but was canceled"):(Nt("getToken() completed. Creating connection."),f.authToken_=us&&us.accessToken,f.appCheckToken_=Fs&&Fs.token,un=new yi(we,f.repoInfo_,f.applicationId_,f.appCheckToken_,f.authToken_,C,z,le,Zo=>{Di(Zo+" ("+f.repoInfo_.toString()+")"),f.interrupt("server_kill")},ot))}catch(us){f.log_("Failed to get token: "+us),$t||(f.repoInfo_.nodeAdmin&&Di(us),hi())}}})()}interrupt(f){Nt("Interrupting connection for reason: "+f),this.interruptReasons_[f]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(f){Nt("Resuming connection for reason: "+f),delete this.interruptReasons_[f],(0,se.xb)(this.interruptReasons_)&&(this.reconnectDelay_=ia,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(f){const C=f-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:C})}cancelSentTransactions_(){for(let f=0;f<this.outstandingPuts_.length;f++){const C=this.outstandingPuts_[f];C&&"h"in C.request&&C.queued&&(C.onComplete&&C.onComplete("disconnect"),delete this.outstandingPuts_[f],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(f,C){let z;z=C?C.map(we=>kr(we)).join("$"):"default";const le=this.removeListen_(f,z);le&&le.onComplete&&le.onComplete("permission_denied")}removeListen_(f,C){const z=new vs(f).toString();let le;if(this.listens.has(z)){const we=this.listens.get(z);le=we.get(C),we.delete(C),0===we.size&&this.listens.delete(z)}else le=void 0;return le}onAuthRevoked_(f,C){Nt("Auth token revoked: "+f+"/"+C),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===f||"permission_denied"===f)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(f,C){Nt("App check token revoked: "+f+"/"+C),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===f||"permission_denied"===f)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(f){this.securityDebugCallback_?this.securityDebugCallback_(f):"msg"in f&&console.log("FIREBASE: "+f.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const f of this.listens.values())for(const C of f.values())this.sendListen_(C);for(let f=0;f<this.outstandingPuts_.length;f++)this.outstandingPuts_[f]&&this.sendPut_(f);for(;this.onDisconnectRequestQueue_.length;){const f=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(f.action,f.pathString,f.data,f.onComplete)}for(let f=0;f<this.outstandingGets_.length;f++)this.outstandingGets_[f]&&this.sendGet_(f)}sendConnectStats_(){const f={};let C="js";(0,se.Yr)()&&(C=this.repoInfo_.nodeAdmin?"admin_node":"node"),f["sdk."+C+"."+dn.replace(/\./g,"-")]=1,(0,se.uI)()?f["framework.cordova"]=1:(0,se.b$)()&&(f["framework.reactnative"]=1),this.reportStats(f)}shouldReconnect_(){const f=$r.getInstance().currentlyOnline();return(0,se.xb)(this.interruptReasons_)&&f}}return v.nextPersistentConnectionId_=0,v.nextConnectionId_=0,v})();class ms{constructor(h,f){this.name=h,this.node=f}static Wrap(h,f){return new ms(h,f)}}class no{getCompare(){return this.compare.bind(this)}indexedValueChanged(h,f){const C=new ms(Ni,h),z=new ms(Ni,f);return 0!==this.compare(C,z)}minPost(){return ms.MIN}}class ta extends no{static get __EMPTY_NODE(){return No}static set __EMPTY_NODE(h){No=h}compare(h,f){return fr(h.name,f.name)}isDefinedOn(h){throw(0,se.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(h,f){return!1}minPost(){return ms.MIN}maxPost(){return new ms(rr,No)}makePost(h,f){return(0,se.hu)("string"==typeof h,"KeyIndex indexValue must always be a string."),new ms(h,No)}toString(){return".key"}}const Po=new ta;class fo{constructor(h,f,C,z,le=null){this.isReverse_=z,this.resultGenerator_=le,this.nodeStack_=[];let we=1;for(;!h.isEmpty();)if(we=f?C(h.key,f):1,z&&(we*=-1),we<0)h=this.isReverse_?h.left:h.right;else{if(0===we){this.nodeStack_.push(h);break}this.nodeStack_.push(h),h=this.isReverse_?h.right:h.left}}getNext(){if(0===this.nodeStack_.length)return null;let f,h=this.nodeStack_.pop();if(f=this.resultGenerator_?this.resultGenerator_(h.key,h.value):{key:h.key,value:h.value},this.isReverse_)for(h=h.left;!h.isEmpty();)this.nodeStack_.push(h),h=h.right;else for(h=h.right;!h.isEmpty();)this.nodeStack_.push(h),h=h.left;return f}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const h=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(h.key,h.value):{key:h.key,value:h.value}}}let Ho,jo=(()=>{class v{constructor(f,C,z,le,we){this.key=f,this.value=C,this.color=null!=z?z:v.RED,this.left=null!=le?le:bs.EMPTY_NODE,this.right=null!=we?we:bs.EMPTY_NODE}copy(f,C,z,le,we){return new v(null!=f?f:this.key,null!=C?C:this.value,null!=z?z:this.color,null!=le?le:this.left,null!=we?we:this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(f){return this.left.inorderTraversal(f)||!!f(this.key,this.value)||this.right.inorderTraversal(f)}reverseTraversal(f){return this.right.reverseTraversal(f)||f(this.key,this.value)||this.left.reverseTraversal(f)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(f,C,z){let le=this;const we=z(f,le.key);return le=we<0?le.copy(null,null,null,le.left.insert(f,C,z),null):0===we?le.copy(null,C,null,null,null):le.copy(null,null,null,null,le.right.insert(f,C,z)),le.fixUp_()}removeMin_(){if(this.left.isEmpty())return bs.EMPTY_NODE;let f=this;return!f.left.isRed_()&&!f.left.left.isRed_()&&(f=f.moveRedLeft_()),f=f.copy(null,null,null,f.left.removeMin_(),null),f.fixUp_()}remove(f,C){let z,le;if(z=this,C(f,z.key)<0)!z.left.isEmpty()&&!z.left.isRed_()&&!z.left.left.isRed_()&&(z=z.moveRedLeft_()),z=z.copy(null,null,null,z.left.remove(f,C),null);else{if(z.left.isRed_()&&(z=z.rotateRight_()),!z.right.isEmpty()&&!z.right.isRed_()&&!z.right.left.isRed_()&&(z=z.moveRedRight_()),0===C(f,z.key)){if(z.right.isEmpty())return bs.EMPTY_NODE;le=z.right.min_(),z=z.copy(le.key,le.value,null,null,z.right.removeMin_())}z=z.copy(null,null,null,null,z.right.remove(f,C))}return z.fixUp_()}isRed_(){return this.color}fixUp_(){let f=this;return f.right.isRed_()&&!f.left.isRed_()&&(f=f.rotateLeft_()),f.left.isRed_()&&f.left.left.isRed_()&&(f=f.rotateRight_()),f.left.isRed_()&&f.right.isRed_()&&(f=f.colorFlip_()),f}moveRedLeft_(){let f=this.colorFlip_();return f.right.left.isRed_()&&(f=f.copy(null,null,null,null,f.right.rotateRight_()),f=f.rotateLeft_(),f=f.colorFlip_()),f}moveRedRight_(){let f=this.colorFlip_();return f.left.left.isRed_()&&(f=f.rotateRight_(),f=f.colorFlip_()),f}rotateLeft_(){const f=this.copy(null,null,v.RED,null,this.right.left);return this.right.copy(null,null,this.color,f,null)}rotateRight_(){const f=this.copy(null,null,v.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,f)}colorFlip_(){const f=this.left.copy(null,null,!this.left.color,null,null),C=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,f,C)}checkMaxDepth_(){const f=this.check_();return Math.pow(2,f)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const f=this.left.check_();if(f!==this.right.check_())throw new Error("Black depths differ");return f+(this.isRed_()?0:1)}}return v.RED=!0,v.BLACK=!1,v})();class bs{constructor(h,f=bs.EMPTY_NODE){this.comparator_=h,this.root_=f}insert(h,f){return new bs(this.comparator_,this.root_.insert(h,f,this.comparator_).copy(null,null,jo.BLACK,null,null))}remove(h){return new bs(this.comparator_,this.root_.remove(h,this.comparator_).copy(null,null,jo.BLACK,null,null))}get(h){let f,C=this.root_;for(;!C.isEmpty();){if(f=this.comparator_(h,C.key),0===f)return C.value;f<0?C=C.left:f>0&&(C=C.right)}return null}getPredecessorKey(h){let f,C=this.root_,z=null;for(;!C.isEmpty();){if(f=this.comparator_(h,C.key),0===f){if(C.left.isEmpty())return z?z.key:null;for(C=C.left;!C.right.isEmpty();)C=C.right;return C.key}f<0?C=C.left:f>0&&(z=C,C=C.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(h){return this.root_.inorderTraversal(h)}reverseTraversal(h){return this.root_.reverseTraversal(h)}getIterator(h){return new fo(this.root_,null,this.comparator_,!1,h)}getIteratorFrom(h,f){return new fo(this.root_,h,this.comparator_,!1,f)}getReverseIteratorFrom(h,f){return new fo(this.root_,h,this.comparator_,!0,f)}getReverseIterator(h){return new fo(this.root_,null,this.comparator_,!0,h)}}function Aa(v,h){return fr(v.name,h.name)}function aa(v,h){return fr(v,h)}bs.EMPTY_NODE=new class Lo{copy(h,f,C,z,le){return this}insert(h,f,C){return new jo(h,f,null)}remove(h,f){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(h){return!1}reverseTraversal(h){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const Se=function(v){return"number"==typeof v?"number:"+ps(v):"string:"+v},$=function(v){if(v.isLeafNode()){const h=v.val();(0,se.hu)("string"==typeof h||"number"==typeof h||"object"==typeof h&&(0,se.r3)(h,".sv"),"Priority must be a string or number.")}else(0,se.hu)(v===Ho||v.isEmpty(),"priority of unexpected type.");(0,se.hu)(v===Ho||v.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let ge,oi,Yi,ut=(()=>{class v{constructor(f,C=v.__childrenNodeConstructor.EMPTY_NODE){this.value_=f,this.priorityNode_=C,this.lazyHash_=null,(0,se.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),$(this.priorityNode_)}static set __childrenNodeConstructor(f){ge=f}static get __childrenNodeConstructor(){return ge}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(f){return new v(this.value_,f)}getImmediateChild(f){return".priority"===f?this.priorityNode_:v.__childrenNodeConstructor.EMPTY_NODE}getChild(f){return Mr(f)?this:".priority"===ri(f)?this.priorityNode_:v.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(f,C){return null}updateImmediateChild(f,C){return".priority"===f?this.updatePriority(C):C.isEmpty()&&".priority"!==f?this:v.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(f,C).updatePriority(this.priorityNode_)}updateChild(f,C){const z=ri(f);return null===z?C:C.isEmpty()&&".priority"!==z?this:((0,se.hu)(".priority"!==z||1===vr(f),".priority must be the last token in a path"),this.updateImmediateChild(z,v.__childrenNodeConstructor.EMPTY_NODE.updateChild(_r(f),C)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(f,C){return!1}val(f){return f&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let f="";this.priorityNode_.isEmpty()||(f+="priority:"+Se(this.priorityNode_.val())+":");const C=typeof this.value_;f+=C+":",f+="number"===C?ps(this.value_):this.value_,this.lazyHash_=qt(f)}return this.lazyHash_}getValue(){return this.value_}compareTo(f){return f===v.__childrenNodeConstructor.EMPTY_NODE?1:f instanceof v.__childrenNodeConstructor?-1:((0,se.hu)(f.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(f))}compareToLeafNode_(f){const C=typeof f.value_,z=typeof this.value_,le=v.VALUE_TYPE_ORDER.indexOf(C),we=v.VALUE_TYPE_ORDER.indexOf(z);return(0,se.hu)(le>=0,"Unknown leaf type: "+C),(0,se.hu)(we>=0,"Unknown leaf type: "+z),le===we?"object"===z?0:this.value_<f.value_?-1:this.value_===f.value_?0:1:we-le}withIndex(){return this}isIndexed(){return!0}equals(f){return f===this||!!f.isLeafNode()&&(this.value_===f.value_&&this.priorityNode_.equals(f.priorityNode_))}}return v.VALUE_TYPE_ORDER=["object","boolean","number","string"],v})();const gs=new class Ms extends no{compare(h,f){const C=h.node.getPriority(),z=f.node.getPriority(),le=C.compareTo(z);return 0===le?fr(h.name,f.name):le}isDefinedOn(h){return!h.getPriority().isEmpty()}indexedValueChanged(h,f){return!h.getPriority().equals(f.getPriority())}minPost(){return ms.MIN}maxPost(){return new ms(rr,new ut("[PRIORITY-POST]",Yi))}makePost(h,f){const C=oi(h);return new ms(f,new ut("[PRIORITY-POST]",C))}toString(){return".priority"}},wa=Math.log(2);class Bs{constructor(h){this.count=parseInt(Math.log(h+1)/wa,10),this.current_=this.count-1;const z=(le=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=h+1&z}nextBitIsOne(){const h=!(this.bits_&1<<this.current_);return this.current_--,h}}const Fo=function(v,h,f,C){v.sort(h);const z=function($t,un){const hi=un-$t;let pi,ki;if(0===hi)return null;if(1===hi)return pi=v[$t],ki=f?f(pi):pi,new jo(ki,pi.node,jo.BLACK,null,null);{const us=parseInt(hi/2,10)+$t,Fs=z($t,us),Zo=z(us+1,un);return pi=v[us],ki=f?f(pi):pi,new jo(ki,pi.node,jo.BLACK,Fs,Zo)}},ot=function($t){let un=null,hi=null,pi=v.length;const ki=function(Fs,Zo){const Ka=pi-Fs,Vl=pi;pi-=Fs;const xc=z(Ka+1,Vl),Pu=v[Ka],Fh=f?f(Pu):Pu;us(new jo(Fh,Pu.node,Zo,null,xc))},us=function(Fs){un?(un.left=Fs,un=Fs):(hi=Fs,un=Fs)};for(let Fs=0;Fs<$t.count;++Fs){const Zo=$t.nextBitIsOne(),Ka=Math.pow(2,$t.count-(Fs+1));Zo?ki(Ka,jo.BLACK):(ki(Ka,jo.BLACK),ki(Ka,jo.RED))}return hi}(new Bs(v.length));return new bs(C||h,ot)};let Ra;const la={};class Hs{constructor(h,f){this.indexes_=h,this.indexSet_=f}static get Default(){return(0,se.hu)(la&&gs,"ChildrenNode.ts has not been loaded"),Ra=Ra||new Hs({".priority":la},{".priority":gs}),Ra}get(h){const f=(0,se.DV)(this.indexes_,h);if(!f)throw new Error("No index defined for "+h);return f instanceof bs?f:null}hasIndex(h){return(0,se.r3)(this.indexSet_,h.toString())}addIndex(h,f){(0,se.hu)(h!==Po,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const C=[];let z=!1;const le=f.getIterator(ms.Wrap);let ot,we=le.getNext();for(;we;)z=z||h.isDefinedOn(we.node),C.push(we),we=le.getNext();ot=z?Fo(C,h.getCompare()):la;const $t=h.toString(),un=Object.assign({},this.indexSet_);un[$t]=h;const hi=Object.assign({},this.indexes_);return hi[$t]=ot,new Hs(hi,un)}addToIndexes(h,f){const C=(0,se.UI)(this.indexes_,(z,le)=>{const we=(0,se.DV)(this.indexSet_,le);if((0,se.hu)(we,"Missing index implementation for "+le),z===la){if(we.isDefinedOn(h.node)){const ot=[],$t=f.getIterator(ms.Wrap);let un=$t.getNext();for(;un;)un.name!==h.name&&ot.push(un),un=$t.getNext();return ot.push(h),Fo(ot,we.getCompare())}return la}{const ot=f.get(h.name);let $t=z;return ot&&($t=$t.remove(new ms(h.name,ot))),$t.insert(h,h.node)}});return new Hs(C,this.indexSet_)}removeFromIndexes(h,f){const C=(0,se.UI)(this.indexes_,z=>{if(z===la)return z;{const le=f.get(h.name);return le?z.remove(new ms(h.name,le)):z}});return new Hs(C,this.indexSet_)}}let da,ys=(()=>{class v{constructor(f,C,z){this.children_=f,this.priorityNode_=C,this.indexMap_=z,this.lazyHash_=null,this.priorityNode_&&$(this.priorityNode_),this.children_.isEmpty()&&(0,se.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return da||(da=new v(new bs(aa),null,Hs.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||da}updatePriority(f){return this.children_.isEmpty()?this:new v(this.children_,f,this.indexMap_)}getImmediateChild(f){if(".priority"===f)return this.getPriority();{const C=this.children_.get(f);return null===C?da:C}}getChild(f){const C=ri(f);return null===C?this:this.getImmediateChild(C).getChild(_r(f))}hasChild(f){return null!==this.children_.get(f)}updateImmediateChild(f,C){if((0,se.hu)(C,"We should always be passing snapshot nodes"),".priority"===f)return this.updatePriority(C);{const z=new ms(f,C);let le,we;C.isEmpty()?(le=this.children_.remove(f),we=this.indexMap_.removeFromIndexes(z,this.children_)):(le=this.children_.insert(f,C),we=this.indexMap_.addToIndexes(z,this.children_));const ot=le.isEmpty()?da:this.priorityNode_;return new v(le,ot,we)}}updateChild(f,C){const z=ri(f);if(null===z)return C;{(0,se.hu)(".priority"!==ri(f)||1===vr(f),".priority must be the last token in a path");const le=this.getImmediateChild(z).updateChild(_r(f),C);return this.updateImmediateChild(z,le)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(f){if(this.isEmpty())return null;const C={};let z=0,le=0,we=!0;if(this.forEachChild(gs,(ot,$t)=>{C[ot]=$t.val(f),z++,we&&v.INTEGER_REGEXP_.test(ot)?le=Math.max(le,Number(ot)):we=!1}),!f&&we&&le<2*z){const ot=[];for(const $t in C)ot[$t]=C[$t];return ot}return f&&!this.getPriority().isEmpty()&&(C[".priority"]=this.getPriority().val()),C}hash(){if(null===this.lazyHash_){let f="";this.getPriority().isEmpty()||(f+="priority:"+Se(this.getPriority().val())+":"),this.forEachChild(gs,(C,z)=>{const le=z.hash();""!==le&&(f+=":"+C+":"+le)}),this.lazyHash_=""===f?"":qt(f)}return this.lazyHash_}getPredecessorChildName(f,C,z){const le=this.resolveIndex_(z);if(le){const we=le.getPredecessorKey(new ms(f,C));return we?we.name:null}return this.children_.getPredecessorKey(f)}getFirstChildName(f){const C=this.resolveIndex_(f);if(C){const z=C.minKey();return z&&z.name}return this.children_.minKey()}getFirstChild(f){const C=this.getFirstChildName(f);return C?new ms(C,this.children_.get(C)):null}getLastChildName(f){const C=this.resolveIndex_(f);if(C){const z=C.maxKey();return z&&z.name}return this.children_.maxKey()}getLastChild(f){const C=this.getLastChildName(f);return C?new ms(C,this.children_.get(C)):null}forEachChild(f,C){const z=this.resolveIndex_(f);return z?z.inorderTraversal(le=>C(le.name,le.node)):this.children_.inorderTraversal(C)}getIterator(f){return this.getIteratorFrom(f.minPost(),f)}getIteratorFrom(f,C){const z=this.resolveIndex_(C);if(z)return z.getIteratorFrom(f,le=>le);{const le=this.children_.getIteratorFrom(f.name,ms.Wrap);let we=le.peek();for(;null!=we&&C.compare(we,f)<0;)le.getNext(),we=le.peek();return le}}getReverseIterator(f){return this.getReverseIteratorFrom(f.maxPost(),f)}getReverseIteratorFrom(f,C){const z=this.resolveIndex_(C);if(z)return z.getReverseIteratorFrom(f,le=>le);{const le=this.children_.getReverseIteratorFrom(f.name,ms.Wrap);let we=le.peek();for(;null!=we&&C.compare(we,f)>0;)le.getNext(),we=le.peek();return le}}compareTo(f){return this.isEmpty()?f.isEmpty()?0:-1:f.isLeafNode()||f.isEmpty()?1:f===Uo?-1:0}withIndex(f){if(f===Po||this.indexMap_.hasIndex(f))return this;{const C=this.indexMap_.addIndex(f,this.children_);return new v(this.children_,this.priorityNode_,C)}}isIndexed(f){return f===Po||this.indexMap_.hasIndex(f)}equals(f){if(f===this)return!0;if(f.isLeafNode())return!1;{const C=f;if(this.getPriority().equals(C.getPriority())){if(this.children_.count()===C.children_.count()){const z=this.getIterator(gs),le=C.getIterator(gs);let we=z.getNext(),ot=le.getNext();for(;we&&ot;){if(we.name!==ot.name||!we.node.equals(ot.node))return!1;we=z.getNext(),ot=le.getNext()}return null===we&&null===ot}return!1}return!1}}resolveIndex_(f){return f===Po?null:this.indexMap_.get(f.toString())}}return v.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,v})();const Uo=new class ya extends ys{constructor(){super(new bs(aa),ys.EMPTY_NODE,Hs.Default)}compareTo(h){return h===this?0:1}equals(h){return h===this}getPriority(){return this}getImmediateChild(h){return ys.EMPTY_NODE}isEmpty(){return!1}};Object.defineProperties(ms,{MIN:{value:new ms(Ni,ys.EMPTY_NODE)},MAX:{value:new ms(rr,Uo)}}),ta.__EMPTY_NODE=ys.EMPTY_NODE,ut.__childrenNodeConstructor=ys,function F(v){Ho=v}(Uo),function cs(v){Yi=v}(Uo);const Na=!0;function Ps(v,h=null){if(null===v)return ys.EMPTY_NODE;if("object"==typeof v&&".priority"in v&&(h=v[".priority"]),(0,se.hu)(null===h||"string"==typeof h||"number"==typeof h||"object"==typeof h&&".sv"in h,"Invalid priority type found: "+typeof h),"object"==typeof v&&".value"in v&&null!==v[".value"]&&(v=v[".value"]),"object"!=typeof v||".sv"in v)return new ut(v,Ps(h));if(v instanceof Array||!Na){let f=ys.EMPTY_NODE;return Li(v,(C,z)=>{if((0,se.r3)(v,C)&&"."!==C.substring(0,1)){const le=Ps(z);(le.isLeafNode()||!le.isEmpty())&&(f=f.updateImmediateChild(C,le))}}),f.updatePriority(Ps(h))}{const f=[];let C=!1;if(Li(v,(we,ot)=>{if("."!==we.substring(0,1)){const $t=Ps(ot);$t.isEmpty()||(C=C||!$t.getPriority().isEmpty(),f.push(new ms(we,$t)))}}),0===f.length)return ys.EMPTY_NODE;const le=Fo(f,Aa,we=>we.name,aa);if(C){const we=Fo(f,gs.getCompare());return new ys(le,Ps(h),new Hs({".priority":we},{".priority":gs}))}return new ys(le,Ps(h),Hs.Default)}}!function Tr(v){oi=v}(Ps);class ha extends no{constructor(h){super(),this.indexPath_=h,(0,se.hu)(!Mr(h)&&".priority"!==ri(h),"Can't create PathIndex with empty path or .priority key")}extractChild(h){return h.getChild(this.indexPath_)}isDefinedOn(h){return!h.getChild(this.indexPath_).isEmpty()}compare(h,f){const C=this.extractChild(h.node),z=this.extractChild(f.node),le=C.compareTo(z);return 0===le?fr(h.name,f.name):le}makePost(h,f){const C=Ps(h),z=ys.EMPTY_NODE.updateChild(this.indexPath_,C);return new ms(f,z)}maxPost(){const h=ys.EMPTY_NODE.updateChild(this.indexPath_,Uo);return new ms(rr,h)}toString(){return js(this.indexPath_,0).join("/")}}const Pe=new class tl extends no{compare(h,f){const C=h.node.compareTo(f.node);return 0===C?fr(h.name,f.name):C}isDefinedOn(h){return!0}indexedValueChanged(h,f){return!h.equals(f)}minPost(){return ms.MIN}maxPost(){return ms.MAX}makePost(h,f){const C=Ps(h);return new ms(f,C)}toString(){return".value"}};function _e(v){return{type:"value",snapshotNode:v}}function H(v,h){return{type:"child_added",snapshotNode:h,childName:v}}function U(v,h){return{type:"child_removed",snapshotNode:h,childName:v}}function I(v,h,f){return{type:"child_changed",snapshotNode:h,childName:v,oldSnap:f}}class Ie{constructor(h){this.index_=h}updateChild(h,f,C,z,le,we){(0,se.hu)(h.isIndexed(this.index_),"A node must be indexed if only a child is updated");const ot=h.getImmediateChild(f);return ot.getChild(z).equals(C.getChild(z))&&ot.isEmpty()===C.isEmpty()||(null!=we&&(C.isEmpty()?h.hasChild(f)?we.trackChildChange(U(f,ot)):(0,se.hu)(h.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):ot.isEmpty()?we.trackChildChange(H(f,C)):we.trackChildChange(I(f,C,ot))),h.isLeafNode()&&C.isEmpty())?h:h.updateImmediateChild(f,C).withIndex(this.index_)}updateFullNode(h,f,C){return null!=C&&(h.isLeafNode()||h.forEachChild(gs,(z,le)=>{f.hasChild(z)||C.trackChildChange(U(z,le))}),f.isLeafNode()||f.forEachChild(gs,(z,le)=>{if(h.hasChild(z)){const we=h.getImmediateChild(z);we.equals(le)||C.trackChildChange(I(z,le,we))}else C.trackChildChange(H(z,le))})),f.withIndex(this.index_)}updatePriority(h,f){return h.isEmpty()?ys.EMPTY_NODE:h.updatePriority(f)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class Rt{constructor(h){this.indexedFilter_=new Ie(h.getIndex()),this.index_=h.getIndex(),this.startPost_=Rt.getStartPost_(h),this.endPost_=Rt.getEndPost_(h),this.startIsInclusive_=!h.startAfterSet_,this.endIsInclusive_=!h.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(h){const f=this.startIsInclusive_?this.index_.compare(this.getStartPost(),h)<=0:this.index_.compare(this.getStartPost(),h)<0,C=this.endIsInclusive_?this.index_.compare(h,this.getEndPost())<=0:this.index_.compare(h,this.getEndPost())<0;return f&&C}updateChild(h,f,C,z,le,we){return this.matches(new ms(f,C))||(C=ys.EMPTY_NODE),this.indexedFilter_.updateChild(h,f,C,z,le,we)}updateFullNode(h,f,C){f.isLeafNode()&&(f=ys.EMPTY_NODE);let z=f.withIndex(this.index_);z=z.updatePriority(ys.EMPTY_NODE);const le=this;return f.forEachChild(gs,(we,ot)=>{le.matches(new ms(we,ot))||(z=z.updateImmediateChild(we,ys.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(h,z,C)}updatePriority(h,f){return h}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(h){if(h.hasStart()){const f=h.getIndexStartName();return h.getIndex().makePost(h.getIndexStartValue(),f)}return h.getIndex().minPost()}static getEndPost_(h){if(h.hasEnd()){const f=h.getIndexEndName();return h.getIndex().makePost(h.getIndexEndValue(),f)}return h.getIndex().maxPost()}}class gn{constructor(h){this.withinDirectionalStart=f=>this.reverse_?this.withinEndPost(f):this.withinStartPost(f),this.withinDirectionalEnd=f=>this.reverse_?this.withinStartPost(f):this.withinEndPost(f),this.withinStartPost=f=>{const C=this.index_.compare(this.rangedFilter_.getStartPost(),f);return this.startIsInclusive_?C<=0:C<0},this.withinEndPost=f=>{const C=this.index_.compare(f,this.rangedFilter_.getEndPost());return this.endIsInclusive_?C<=0:C<0},this.rangedFilter_=new Rt(h),this.index_=h.getIndex(),this.limit_=h.getLimit(),this.reverse_=!h.isViewFromLeft(),this.startIsInclusive_=!h.startAfterSet_,this.endIsInclusive_=!h.endBeforeSet_}updateChild(h,f,C,z,le,we){return this.rangedFilter_.matches(new ms(f,C))||(C=ys.EMPTY_NODE),h.getImmediateChild(f).equals(C)?h:h.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(h,f,C,z,le,we):this.fullLimitUpdateChild_(h,f,C,le,we)}updateFullNode(h,f,C){let z;if(f.isLeafNode()||f.isEmpty())z=ys.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<f.numChildren()&&f.isIndexed(this.index_)){let le;z=ys.EMPTY_NODE.withIndex(this.index_),le=this.reverse_?f.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):f.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let we=0;for(;le.hasNext()&&we<this.limit_;){const ot=le.getNext();if(this.withinDirectionalStart(ot)){if(!this.withinDirectionalEnd(ot))break;z=z.updateImmediateChild(ot.name,ot.node),we++}}}else{let le;z=f.withIndex(this.index_),z=z.updatePriority(ys.EMPTY_NODE),le=this.reverse_?z.getReverseIterator(this.index_):z.getIterator(this.index_);let we=0;for(;le.hasNext();){const ot=le.getNext();we<this.limit_&&this.withinDirectionalStart(ot)&&this.withinDirectionalEnd(ot)?we++:z=z.updateImmediateChild(ot.name,ys.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(h,z,C)}updatePriority(h,f){return h}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(h,f,C,z,le){let we;if(this.reverse_){const pi=this.index_.getCompare();we=(ki,us)=>pi(us,ki)}else we=this.index_.getCompare();const ot=h;(0,se.hu)(ot.numChildren()===this.limit_,"");const $t=new ms(f,C),un=this.reverse_?ot.getFirstChild(this.index_):ot.getLastChild(this.index_),hi=this.rangedFilter_.matches($t);if(ot.hasChild(f)){const pi=ot.getImmediateChild(f);let ki=z.getChildAfterChild(this.index_,un,this.reverse_);for(;null!=ki&&(ki.name===f||ot.hasChild(ki.name));)ki=z.getChildAfterChild(this.index_,ki,this.reverse_);const us=null==ki?1:we(ki,$t);if(hi&&!C.isEmpty()&&us>=0)return null!=le&&le.trackChildChange(I(f,C,pi)),ot.updateImmediateChild(f,C);{null!=le&&le.trackChildChange(U(f,pi));const Zo=ot.updateImmediateChild(f,ys.EMPTY_NODE);return null!=ki&&this.rangedFilter_.matches(ki)?(null!=le&&le.trackChildChange(H(ki.name,ki.node)),Zo.updateImmediateChild(ki.name,ki.node)):Zo}}return C.isEmpty()?h:hi&&we(un,$t)>=0?(null!=le&&(le.trackChildChange(U(un.name,un.node)),le.trackChildChange(H(f,C))),ot.updateImmediateChild(f,C).updateImmediateChild(un.name,ys.EMPTY_NODE)):h}}class Nn{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=gs}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,se.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,se.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Ni}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,se.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,se.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:rr}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,se.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===gs}copy(){const h=new Nn;return h.limitSet_=this.limitSet_,h.limit_=this.limit_,h.startSet_=this.startSet_,h.startAfterSet_=this.startAfterSet_,h.indexStartValue_=this.indexStartValue_,h.startNameSet_=this.startNameSet_,h.indexStartName_=this.indexStartName_,h.endSet_=this.endSet_,h.endBeforeSet_=this.endBeforeSet_,h.indexEndValue_=this.indexEndValue_,h.endNameSet_=this.endNameSet_,h.indexEndName_=this.indexEndName_,h.index_=this.index_,h.viewFrom_=this.viewFrom_,h}}function qr(v,h,f){const C=v.copy();return C.startSet_=!0,void 0===h&&(h=null),C.indexStartValue_=h,null!=f?(C.startNameSet_=!0,C.indexStartName_=f):(C.startNameSet_=!1,C.indexStartName_=""),C}function Pr(v,h,f){const C=v.copy();return C.endSet_=!0,void 0===h&&(h=null),C.indexEndValue_=h,void 0!==f?(C.endNameSet_=!0,C.indexEndName_=f):(C.endNameSet_=!1,C.indexEndName_=""),C}function Ro(v,h){const f=v.copy();return f.index_=h,f}function po(v){const h={};if(v.isDefault())return h;let f;if(v.index_===gs?f="$priority":v.index_===Pe?f="$value":v.index_===Po?f="$key":((0,se.hu)(v.index_ instanceof ha,"Unrecognized index type!"),f=v.index_.toString()),h.orderBy=(0,se.Wl)(f),v.startSet_){const C=v.startAfterSet_?"startAfter":"startAt";h[C]=(0,se.Wl)(v.indexStartValue_),v.startNameSet_&&(h[C]+=","+(0,se.Wl)(v.indexStartName_))}if(v.endSet_){const C=v.endBeforeSet_?"endBefore":"endAt";h[C]=(0,se.Wl)(v.indexEndValue_),v.endNameSet_&&(h[C]+=","+(0,se.Wl)(v.indexEndName_))}return v.limitSet_&&(v.isViewFromLeft()?h.limitToFirst=v.limit_:h.limitToLast=v.limit_),h}function Io(v){const h={};if(v.startSet_&&(h.sp=v.indexStartValue_,v.startNameSet_&&(h.sn=v.indexStartName_),h.sin=!v.startAfterSet_),v.endSet_&&(h.ep=v.indexEndValue_,v.endNameSet_&&(h.en=v.indexEndName_),h.ein=!v.endBeforeSet_),v.limitSet_){h.l=v.limit_;let f=v.viewFrom_;""===f&&(f=v.isViewFromLeft()?"l":"r"),h.vf=f}return v.index_!==gs&&(h.i=v.index_.toString()),h}class hs extends bi{constructor(h,f,C,z){super(),this.repoInfo_=h,this.onDataUpdate_=f,this.authTokenProvider_=C,this.appCheckTokenProvider_=z,this.log_=On("p:rest:"),this.listens_={}}reportStats(h){throw new Error("Method not implemented.")}static getListenId_(h,f){return void 0!==f?"tag$"+f:((0,se.hu)(h._queryParams.isDefault(),"should have a tag if it's not a default query."),h._path.toString())}listen(h,f,C,z){const le=h._path.toString();this.log_("Listen called for "+le+" "+h._queryIdentifier);const we=hs.getListenId_(h,C),ot={};this.listens_[we]=ot;const $t=po(h._queryParams);this.restRequest_(le+".json",$t,(un,hi)=>{let pi=hi;if(404===un&&(pi=null,un=null),null===un&&this.onDataUpdate_(le,pi,!1,C),(0,se.DV)(this.listens_,we)===ot){let ki;ki=un?401===un?"permission_denied":"rest_error:"+un:"ok",z(ki,null)}})}unlisten(h,f){const C=hs.getListenId_(h,f);delete this.listens_[C]}get(h){const f=po(h._queryParams),C=h._path.toString(),z=new se.BH;return this.restRequest_(C+".json",f,(le,we)=>{let ot=we;404===le&&(ot=null,le=null),null===le?(this.onDataUpdate_(C,ot,!1,null),z.resolve(ot)):z.reject(new Error(ot))}),z.promise}refreshAuthToken(h){}restRequest_(h,f={},C){return f.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([z,le])=>{z&&z.accessToken&&(f.auth=z.accessToken),le&&le.token&&(f.ac=le.token);const we=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+h+"?ns="+this.repoInfo_.namespace+(0,se.xO)(f);this.log_("Sending REST request for "+we);const ot=new XMLHttpRequest;ot.onreadystatechange=()=>{if(C&&4===ot.readyState){this.log_("REST Response for "+we+" received. status:",ot.status,"response:",ot.responseText);let $t=null;if(ot.status>=200&&ot.status<300){try{$t=(0,se.cI)(ot.responseText)}catch{Di("Failed to parse JSON response for "+we+": "+ot.responseText)}C(null,$t)}else 401!==ot.status&&404!==ot.status&&Di("Got unsuccessful REST response for "+we+" Status: "+ot.status),C(ot.status);C=null}},ot.open("GET",we,!0),ot.send()})}}class lo{constructor(){this.rootNode_=ys.EMPTY_NODE}getNode(h){return this.rootNode_.getChild(h)}updateSnapshot(h,f){this.rootNode_=this.rootNode_.updateChild(h,f)}}function Wo(){return{value:null,children:new Map}}function va(v,h,f){if(Mr(h))v.value=f,v.children.clear();else if(null!==v.value)v.value=v.value.updateChild(h,f);else{const C=ri(h);v.children.has(C)||v.children.set(C,Wo()),va(v.children.get(C),h=_r(h),f)}}function Go(v,h){if(Mr(h))return v.value=null,v.children.clear(),!0;if(null!==v.value){if(v.value.isLeafNode())return!1;{const f=v.value;return v.value=null,f.forEachChild(gs,(C,z)=>{va(v,new vs(C),z)}),Go(v,h)}}if(v.children.size>0){const f=ri(h);return h=_r(h),v.children.has(f)&&Go(v.children.get(f),h)&&v.children.delete(f),0===v.children.size}return!0}function ja(v,h,f){null!==v.value?f(h,v.value):function Oa(v,h){v.children.forEach((f,C)=>{h(C,f)})}(v,(C,z)=>{ja(z,new vs(h.toString()+"/"+C),f)})}class cl{constructor(h){this.collection_=h,this.last_=null}get(){const h=this.collection_.get(),f=Object.assign({},h);return this.last_&&Li(this.last_,(C,z)=>{f[C]=f[C]-z}),this.last_=h,f}}class so{constructor(h,f){this.server_=f,this.statsToReport_={},this.statsListener_=new cl(h);const C=1e4+2e4*Math.random();tr(this.reportStats_.bind(this),Math.floor(C))}reportStats_(){const h=this.statsListener_.get(),f={};let C=!1;Li(h,(z,le)=>{le>0&&(0,se.r3)(this.statsToReport_,z)&&(f[z]=le,C=!0)}),C&&this.server_.reportStats(f),tr(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var na=(()=>((na=na||{})[na.OVERWRITE=0]="OVERWRITE",na[na.MERGE=1]="MERGE",na[na.ACK_USER_WRITE=2]="ACK_USER_WRITE",na[na.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",na))();function ul(v){return{fromUser:!1,fromServer:!0,queryId:v,tagged:!0}}class k{constructor(h,f,C){this.path=h,this.affectedTree=f,this.revert=C,this.type=na.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(h){if(Mr(this.path)){if(null!=this.affectedTree.value)return(0,se.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const f=this.affectedTree.subtree(new vs(h));return new k(hr(),f,this.revert)}}return(0,se.hu)(ri(this.path)===h,"operationForChild called for unrelated child."),new k(_r(this.path),this.affectedTree,this.revert)}}class ie{constructor(h,f){this.source=h,this.path=f,this.type=na.LISTEN_COMPLETE}operationForChild(h){return Mr(this.path)?new ie(this.source,hr()):new ie(this.source,_r(this.path))}}class pe{constructor(h,f,C){this.source=h,this.path=f,this.snap=C,this.type=na.OVERWRITE}operationForChild(h){return Mr(this.path)?new pe(this.source,hr(),this.snap.getImmediateChild(h)):new pe(this.source,_r(this.path),this.snap)}}class Fe{constructor(h,f,C){this.source=h,this.path=f,this.children=C,this.type=na.MERGE}operationForChild(h){if(Mr(this.path)){const f=this.children.subtree(new vs(h));return f.isEmpty()?null:f.value?new pe(this.source,hr(),f.value):new Fe(this.source,hr(),f)}return(0,se.hu)(ri(this.path)===h,"Can't get a merge for a child not on the path of the operation"),new Fe(this.source,_r(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class it{constructor(h,f,C){this.node_=h,this.fullyInitialized_=f,this.filtered_=C}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(h){if(Mr(h))return this.isFullyInitialized()&&!this.filtered_;const f=ri(h);return this.isCompleteForChild(f)}isCompleteForChild(h){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(h)}getNode(){return this.node_}}class xt{constructor(h){this.query_=h,this.index_=this.query_._queryParams.getIndex()}}function yn(v,h,f,C,z,le){const we=C.filter(ot=>ot.type===f);we.sort((ot,$t)=>function ui(v,h,f){if(null==h.childName||null==f.childName)throw(0,se.g5)("Should only compare child_ events.");const C=new ms(h.childName,h.snapshotNode),z=new ms(f.childName,f.snapshotNode);return v.index_.compare(C,z)}(v,ot,$t)),we.forEach(ot=>{const $t=function Pn(v,h,f){return"value"===h.type||"child_removed"===h.type||(h.prevName=f.getPredecessorChildName(h.childName,h.snapshotNode,v.index_)),h}(v,ot,le);z.forEach(un=>{un.respondsTo(ot.type)&&h.push(un.createEvent($t,v.query_))})})}function Fi(v,h){return{eventCache:v,serverCache:h}}function Lr(v,h,f,C){return Fi(new it(h,f,C),v.serverCache)}function Rr(v,h,f,C){return Fi(v.eventCache,new it(h,f,C))}function Qs(v){return v.eventCache.isFullyInitialized()?v.eventCache.getNode():null}function oo(v){return v.serverCache.isFullyInitialized()?v.serverCache.getNode():null}let ee;class ae{constructor(h,f=(()=>(ee||(ee=new bs(Ui)),ee))()){this.value=h,this.children=f}static fromObject(h){let f=new ae(null);return Li(h,(C,z)=>{f=f.set(new vs(C),z)}),f}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(h,f){if(null!=this.value&&f(this.value))return{path:hr(),value:this.value};if(Mr(h))return null;{const C=ri(h),z=this.children.get(C);if(null!==z){const le=z.findRootMostMatchingPathAndValue(_r(h),f);return null!=le?{path:Vr(new vs(C),le.path),value:le.value}:null}return null}}findRootMostValueAndPath(h){return this.findRootMostMatchingPathAndValue(h,()=>!0)}subtree(h){if(Mr(h))return this;{const f=ri(h),C=this.children.get(f);return null!==C?C.subtree(_r(h)):new ae(null)}}set(h,f){if(Mr(h))return new ae(f,this.children);{const C=ri(h),le=(this.children.get(C)||new ae(null)).set(_r(h),f),we=this.children.insert(C,le);return new ae(this.value,we)}}remove(h){if(Mr(h))return this.children.isEmpty()?new ae(null):new ae(null,this.children);{const f=ri(h),C=this.children.get(f);if(C){const z=C.remove(_r(h));let le;return le=z.isEmpty()?this.children.remove(f):this.children.insert(f,z),null===this.value&&le.isEmpty()?new ae(null):new ae(this.value,le)}return this}}get(h){if(Mr(h))return this.value;{const f=ri(h),C=this.children.get(f);return C?C.get(_r(h)):null}}setTree(h,f){if(Mr(h))return f;{const C=ri(h),le=(this.children.get(C)||new ae(null)).setTree(_r(h),f);let we;return we=le.isEmpty()?this.children.remove(C):this.children.insert(C,le),new ae(this.value,we)}}fold(h){return this.fold_(hr(),h)}fold_(h,f){const C={};return this.children.inorderTraversal((z,le)=>{C[z]=le.fold_(Vr(h,z),f)}),f(h,this.value,C)}findOnPath(h,f){return this.findOnPath_(h,hr(),f)}findOnPath_(h,f,C){const z=!!this.value&&C(f,this.value);if(z)return z;if(Mr(h))return null;{const le=ri(h),we=this.children.get(le);return we?we.findOnPath_(_r(h),Vr(f,le),C):null}}foreachOnPath(h,f){return this.foreachOnPath_(h,hr(),f)}foreachOnPath_(h,f,C){if(Mr(h))return this;{this.value&&C(f,this.value);const z=ri(h),le=this.children.get(z);return le?le.foreachOnPath_(_r(h),Vr(f,z),C):new ae(null)}}foreach(h){this.foreach_(hr(),h)}foreach_(h,f){this.children.inorderTraversal((C,z)=>{z.foreach_(Vr(h,C),f)}),this.value&&f(h,this.value)}foreachChild(h){this.children.inorderTraversal((f,C)=>{C.value&&h(f,C.value)})}}class We{constructor(h){this.writeTree_=h}static empty(){return new We(new ae(null))}}function Ft(v,h,f){if(Mr(h))return new We(new ae(f));{const C=v.writeTree_.findRootMostValueAndPath(h);if(null!=C){const z=C.path;let le=C.value;const we=Cs(z,h);return le=le.updateChild(we,f),new We(v.writeTree_.set(z,le))}{const z=new ae(f),le=v.writeTree_.setTree(h,z);return new We(le)}}}function Fn(v,h,f){let C=v;return Li(f,(z,le)=>{C=Ft(C,Vr(h,z),le)}),C}function ai(v,h){if(Mr(h))return We.empty();{const f=v.writeTree_.setTree(h,new ae(null));return new We(f)}}function Gr(v,h){return null!=Xi(v,h)}function Xi(v,h){const f=v.writeTree_.findRootMostValueAndPath(h);return null!=f?v.writeTree_.get(f.path).getChild(Cs(f.path,h)):null}function Os(v){const h=[],f=v.writeTree_.value;return null!=f?f.isLeafNode()||f.forEachChild(gs,(C,z)=>{h.push(new ms(C,z))}):v.writeTree_.children.inorderTraversal((C,z)=>{null!=z.value&&h.push(new ms(C,z.value))}),h}function Yr(v,h){if(Mr(h))return v;{const f=Xi(v,h);return new We(null!=f?new ae(f):v.writeTree_.subtree(h))}}function Is(v){return v.writeTree_.isEmpty()}function Js(v,h){return eo(hr(),v.writeTree_,h)}function eo(v,h,f){if(null!=h.value)return f.updateChild(v,h.value);{let C=null;return h.children.inorderTraversal((z,le)=>{".priority"===z?((0,se.hu)(null!==le.value,"Priority writes must always be leaf nodes"),C=le.value):f=eo(Vr(v,z),le,f)}),!f.getChild(v).isEmpty()&&null!==C&&(f=f.updateChild(Vr(v,".priority"),C)),f}}function Yo(v,h){return As(h,v)}function gr(v,h){if(v.snap)return Gs(v.path,h);for(const f in v.children)if(v.children.hasOwnProperty(f)&&Gs(Vr(v.path,f),h))return!0;return!1}function Ci(v){return v.visible}function fi(v,h,f){let C=We.empty();for(let z=0;z<v.length;++z){const le=v[z];if(h(le)){const we=le.path;let ot;if(le.snap)Gs(f,we)?(ot=Cs(f,we),C=Ft(C,ot,le.snap)):Gs(we,f)&&(ot=Cs(we,f),C=Ft(C,hr(),le.snap.getChild(ot)));else{if(!le.children)throw(0,se.g5)("WriteRecord should have .snap or .children");if(Gs(f,we))ot=Cs(f,we),C=Fn(C,ot,le.children);else if(Gs(we,f))if(ot=Cs(we,f),Mr(ot))C=Fn(C,hr(),le.children);else{const $t=(0,se.DV)(le.children,ri(ot));if($t){const un=$t.getChild(_r(ot));C=Ft(C,hr(),un)}}}}}return C}function Zn(v,h,f,C,z){if(C||z){const le=Yr(v.visibleWrites,h);return!z&&Is(le)?f:z||null!=f||Gr(le,hr())?Js(fi(v.allWrites,function(un){return(un.visible||z)&&(!C||!~C.indexOf(un.writeId))&&(Gs(un.path,h)||Gs(h,un.path))},h),f||ys.EMPTY_NODE):null}{const le=Xi(v.visibleWrites,h);if(null!=le)return le;{const we=Yr(v.visibleWrites,h);return Is(we)?f:null!=f||Gr(we,hr())?Js(we,f||ys.EMPTY_NODE):null}}}function il(v,h,f,C){return Zn(v.writeTree,v.treePath,h,f,C)}function Sa(v,h){return function Ri(v,h,f){let C=ys.EMPTY_NODE;const z=Xi(v.visibleWrites,h);if(z)return z.isLeafNode()||z.forEachChild(gs,(le,we)=>{C=C.updateImmediateChild(le,we)}),C;if(f){const le=Yr(v.visibleWrites,h);return f.forEachChild(gs,(we,ot)=>{const $t=Js(Yr(le,new vs(we)),ot);C=C.updateImmediateChild(we,$t)}),Os(le).forEach(we=>{C=C.updateImmediateChild(we.name,we.node)}),C}return Os(Yr(v.visibleWrites,h)).forEach(we=>{C=C.updateImmediateChild(we.name,we.node)}),C}(v.writeTree,v.treePath,h)}function ml(v,h,f,C){return function ao(v,h,f,C,z){(0,se.hu)(C||z,"Either existingEventSnap or existingServerSnap must exist");const le=Vr(h,f);if(Gr(v.visibleWrites,le))return null;{const we=Yr(v.visibleWrites,le);return Is(we)?z.getChild(f):Js(we,z.getChild(f))}}(v.writeTree,v.treePath,h,f,C)}function Nl(v,h){return function Al(v,h){return Xi(v.visibleWrites,h)}(v.writeTree,Vr(v.treePath,h))}function xa(v,h,f){return function Kl(v,h,f,C){const z=Vr(h,f),le=Xi(v.visibleWrites,z);return null!=le?le:C.isCompleteForChild(f)?Js(Yr(v.visibleWrites,z),C.getNode().getImmediateChild(f)):null}(v.writeTree,v.treePath,h,f)}function jl(v,h){return As(Vr(v.treePath,h),v.writeTree)}function As(v,h){return{treePath:v,writeTree:h}}class Ba{constructor(){this.changeMap=new Map}trackChildChange(h){const f=h.type,C=h.childName;(0,se.hu)("child_added"===f||"child_changed"===f||"child_removed"===f,"Only child changes supported for tracking"),(0,se.hu)(".priority"!==C,"Only non-priority child changes can be tracked.");const z=this.changeMap.get(C);if(z){const le=z.type;if("child_added"===f&&"child_removed"===le)this.changeMap.set(C,I(C,h.snapshotNode,z.snapshotNode));else if("child_removed"===f&&"child_added"===le)this.changeMap.delete(C);else if("child_removed"===f&&"child_changed"===le)this.changeMap.set(C,U(C,z.oldSnap));else if("child_changed"===f&&"child_added"===le)this.changeMap.set(C,H(C,h.snapshotNode));else{if("child_changed"!==f||"child_changed"!==le)throw(0,se.g5)("Illegal combination of changes: "+h+" occurred after "+z);this.changeMap.set(C,I(C,h.snapshotNode,z.oldSnap))}}else this.changeMap.set(C,h)}getChanges(){return Array.from(this.changeMap.values())}}const Ko=new class oc{getCompleteChild(h){return null}getChildAfterChild(h,f,C){return null}};class Zr{constructor(h,f,C=null){this.writes_=h,this.viewCache_=f,this.optCompleteServerCache_=C}getCompleteChild(h){const f=this.viewCache_.eventCache;if(f.isCompleteForChild(h))return f.getNode().getImmediateChild(h);{const C=null!=this.optCompleteServerCache_?new it(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return xa(this.writes_,h,C)}}getChildAfterChild(h,f,C){const z=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:oo(this.viewCache_),le=function go(v,h,f,C,z,le){return function Tl(v,h,f,C,z,le,we){let ot;const $t=Yr(v.visibleWrites,h),un=Xi($t,hr());if(null!=un)ot=un;else{if(null==f)return[];ot=Js($t,f)}if(ot=ot.withIndex(we),ot.isEmpty()||ot.isLeafNode())return[];{const hi=[],pi=we.getCompare(),ki=le?ot.getReverseIteratorFrom(C,we):ot.getIteratorFrom(C,we);let us=ki.getNext();for(;us&&hi.length<z;)0!==pi(us,C)&&hi.push(us),us=ki.getNext();return hi}}(v.writeTree,v.treePath,h,f,C,z,le)}(this.writes_,z,f,1,C,h);return 0===le.length?null:le[0]}}function Ji(v,h,f,C,z,le){const we=h.eventCache;if(null!=Nl(C,f))return h;{let ot,$t;if(Mr(f))if((0,se.hu)(h.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),h.serverCache.isFiltered()){const un=oo(h),pi=Sa(C,un instanceof ys?un:ys.EMPTY_NODE);ot=v.filter.updateFullNode(h.eventCache.getNode(),pi,le)}else{const un=il(C,oo(h));ot=v.filter.updateFullNode(h.eventCache.getNode(),un,le)}else{const un=ri(f);if(".priority"===un){(0,se.hu)(1===vr(f),"Can't have a priority with additional path components");const hi=we.getNode();$t=h.serverCache.getNode();const pi=ml(C,f,hi,$t);ot=null!=pi?v.filter.updatePriority(hi,pi):we.getNode()}else{const hi=_r(f);let pi;if(we.isCompleteForChild(un)){$t=h.serverCache.getNode();const ki=ml(C,f,we.getNode(),$t);pi=null!=ki?we.getNode().getImmediateChild(un).updateChild(hi,ki):we.getNode().getImmediateChild(un)}else pi=xa(C,un,h.serverCache);ot=null!=pi?v.filter.updateChild(we.getNode(),un,pi,hi,z,le):we.getNode()}}return Lr(h,ot,we.isFullyInitialized()||Mr(f),v.filter.filtersNodes())}}function Ll(v,h,f,C,z,le,we,ot){const $t=h.serverCache;let un;const hi=we?v.filter:v.filter.getIndexedFilter();if(Mr(f))un=hi.updateFullNode($t.getNode(),C,null);else if(hi.filtersNodes()&&!$t.isFiltered()){const us=$t.getNode().updateChild(f,C);un=hi.updateFullNode($t.getNode(),us,null)}else{const us=ri(f);if(!$t.isCompleteForPath(f)&&vr(f)>1)return h;const Fs=_r(f),Ka=$t.getNode().getImmediateChild(us).updateChild(Fs,C);un=".priority"===us?hi.updatePriority($t.getNode(),Ka):hi.updateChild($t.getNode(),us,Ka,Fs,Ko,null)}const pi=Rr(h,un,$t.isFullyInitialized()||Mr(f),hi.filtersNodes());return Ji(v,pi,f,z,new Zr(z,pi,le),ot)}function La(v,h,f,C,z,le,we){const ot=h.eventCache;let $t,un;const hi=new Zr(z,h,le);if(Mr(f))un=v.filter.updateFullNode(h.eventCache.getNode(),C,we),$t=Lr(h,un,!0,v.filter.filtersNodes());else{const pi=ri(f);if(".priority"===pi)un=v.filter.updatePriority(h.eventCache.getNode(),C),$t=Lr(h,un,ot.isFullyInitialized(),ot.isFiltered());else{const ki=_r(f),us=ot.getNode().getImmediateChild(pi);let Fs;if(Mr(ki))Fs=C;else{const Zo=hi.getCompleteChild(pi);Fs=null!=Zo?".priority"===So(ki)&&Zo.getChild(Qo(ki)).isEmpty()?Zo:Zo.updateChild(ki,C):ys.EMPTY_NODE}$t=us.equals(Fs)?h:Lr(h,v.filter.updateChild(ot.getNode(),pi,Fs,ki,hi,we),ot.isFullyInitialized(),v.filter.filtersNodes())}}return $t}function yl(v,h){return v.eventCache.isCompleteForChild(h)}function _t(v,h,f){return f.foreach((C,z)=>{h=h.updateChild(C,z)}),h}function Tn(v,h,f,C,z,le,we,ot){if(h.serverCache.getNode().isEmpty()&&!h.serverCache.isFullyInitialized())return h;let un,$t=h;un=Mr(f)?C:new ae(null).setTree(f,C);const hi=h.serverCache.getNode();return un.children.inorderTraversal((pi,ki)=>{if(hi.hasChild(pi)){const Fs=_t(0,h.serverCache.getNode().getImmediateChild(pi),ki);$t=Ll(v,$t,new vs(pi),Fs,z,le,we,ot)}}),un.children.inorderTraversal((pi,ki)=>{const us=!h.serverCache.isCompleteForChild(pi)&&null===ki.value;if(!hi.hasChild(pi)&&!us){const Zo=_t(0,h.serverCache.getNode().getImmediateChild(pi),ki);$t=Ll(v,$t,new vs(pi),Zo,z,le,we,ot)}}),$t}class Rs{constructor(h,f){this.query_=h,this.eventRegistrations_=[];const C=this.query_._queryParams,z=new Ie(C.getIndex()),le=function qn(v){return v.loadsAllData()?new Ie(v.getIndex()):v.hasLimit()?new gn(v):new Rt(v)}(C);this.processor_=function rl(v){return{filter:v}}(le);const we=f.serverCache,ot=f.eventCache,$t=z.updateFullNode(ys.EMPTY_NODE,we.getNode(),null),un=le.updateFullNode(ys.EMPTY_NODE,ot.getNode(),null),hi=new it($t,we.isFullyInitialized(),z.filtersNodes()),pi=new it(un,ot.isFullyInitialized(),le.filtersNodes());this.viewCache_=Fi(pi,hi),this.eventGenerator_=new xt(this.query_)}get query(){return this.query_}}function ks(v,h){const f=oo(v.viewCache_);return f&&(v.query._queryParams.loadsAllData()||!Mr(h)&&!f.getImmediateChild(ri(h)).isEmpty())?f.getChild(h):null}function Ca(v){return 0===v.eventRegistrations_.length}function Bn(v,h,f){const C=[];if(f){(0,se.hu)(null==h,"A cancel should cancel all event registrations.");const z=v.query._path;v.eventRegistrations_.forEach(le=>{const we=le.createCancelEvent(f,z);we&&C.push(we)})}if(h){let z=[];for(let le=0;le<v.eventRegistrations_.length;++le){const we=v.eventRegistrations_[le];if(we.matches(h)){if(h.hasAnyCallback()){z=z.concat(v.eventRegistrations_.slice(le+1));break}}else z.push(we)}v.eventRegistrations_=z}else v.eventRegistrations_=[];return C}function vl(v,h,f,C){h.type===na.MERGE&&null!==h.source.queryId&&((0,se.hu)(oo(v.viewCache_),"We should always have a full cache before handling merges"),(0,se.hu)(Qs(v.viewCache_),"Missing event cache, even though we have a server cache"));const z=v.viewCache_,le=function xl(v,h,f,C,z){const le=new Ba;let we,ot;if(f.type===na.OVERWRITE){const un=f;un.source.fromUser?we=La(v,h,un.path,un.snap,C,z,le):((0,se.hu)(un.source.fromServer,"Unknown source."),ot=un.source.tagged||h.serverCache.isFiltered()&&!Mr(un.path),we=Ll(v,h,un.path,un.snap,C,z,ot,le))}else if(f.type===na.MERGE){const un=f;un.source.fromUser?we=function Zl(v,h,f,C,z,le,we){let ot=h;return C.foreach(($t,un)=>{const hi=Vr(f,$t);yl(h,ri(hi))&&(ot=La(v,ot,hi,un,z,le,we))}),C.foreach(($t,un)=>{const hi=Vr(f,$t);yl(h,ri(hi))||(ot=La(v,ot,hi,un,z,le,we))}),ot}(v,h,un.path,un.children,C,z,le):((0,se.hu)(un.source.fromServer,"Unknown source."),ot=un.source.tagged||h.serverCache.isFiltered(),we=Tn(v,h,un.path,un.children,C,z,ot,le))}else if(f.type===na.ACK_USER_WRITE){const un=f;we=un.revert?function xs(v,h,f,C,z,le){let we;if(null!=Nl(C,f))return h;{const ot=new Zr(C,h,z),$t=h.eventCache.getNode();let un;if(Mr(f)||".priority"===ri(f)){let hi;if(h.serverCache.isFullyInitialized())hi=il(C,oo(h));else{const pi=h.serverCache.getNode();(0,se.hu)(pi instanceof ys,"serverChildren would be complete if leaf node"),hi=Sa(C,pi)}un=v.filter.updateFullNode($t,hi,le)}else{const hi=ri(f);let pi=xa(C,hi,h.serverCache);null==pi&&h.serverCache.isCompleteForChild(hi)&&(pi=$t.getImmediateChild(hi)),un=null!=pi?v.filter.updateChild($t,hi,pi,_r(f),ot,le):h.eventCache.getNode().hasChild(hi)?v.filter.updateChild($t,hi,ys.EMPTY_NODE,_r(f),ot,le):$t,un.isEmpty()&&h.serverCache.isFullyInitialized()&&(we=il(C,oo(h)),we.isLeafNode()&&(un=v.filter.updateFullNode(un,we,le)))}return we=h.serverCache.isFullyInitialized()||null!=Nl(C,hr()),Lr(h,un,we,v.filter.filtersNodes())}}(v,h,un.path,C,z,le):function An(v,h,f,C,z,le,we){if(null!=Nl(z,f))return h;const ot=h.serverCache.isFiltered(),$t=h.serverCache;if(null!=C.value){if(Mr(f)&&$t.isFullyInitialized()||$t.isCompleteForPath(f))return Ll(v,h,f,$t.getNode().getChild(f),z,le,ot,we);if(Mr(f)){let un=new ae(null);return $t.getNode().forEachChild(Po,(hi,pi)=>{un=un.set(new vs(hi),pi)}),Tn(v,h,f,un,z,le,ot,we)}return h}{let un=new ae(null);return C.foreach((hi,pi)=>{const ki=Vr(f,hi);$t.isCompleteForPath(ki)&&(un=un.set(hi,$t.getNode().getChild(ki)))}),Tn(v,h,f,un,z,le,ot,we)}}(v,h,un.path,un.affectedTree,C,z,le)}else{if(f.type!==na.LISTEN_COMPLETE)throw(0,se.g5)("Unknown operation type: "+f.type);we=function er(v,h,f,C,z){const le=h.serverCache;return Ji(v,Rr(h,le.getNode(),le.isFullyInitialized()||Mr(f),le.isFiltered()),f,C,Ko,z)}(v,h,f.path,C,le)}const $t=le.getChanges();return function qs(v,h,f){const C=h.eventCache;if(C.isFullyInitialized()){const z=C.getNode().isLeafNode()||C.getNode().isEmpty(),le=Qs(v);(f.length>0||!v.eventCache.isFullyInitialized()||z&&!C.getNode().equals(le)||!C.getNode().getPriority().equals(le.getPriority()))&&f.push(_e(Qs(h)))}}(h,we,$t),{viewCache:we,changes:$t}}(v.processor_,z,h,f,C);return function zs(v,h){(0,se.hu)(h.eventCache.getNode().isIndexed(v.filter.getIndex()),"Event snap not indexed"),(0,se.hu)(h.serverCache.getNode().isIndexed(v.filter.getIndex()),"Server snap not indexed")}(v.processor_,le.viewCache),(0,se.hu)(le.viewCache.serverCache.isFullyInitialized()||!z.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),v.viewCache_=le.viewCache,Jl(v,le.changes,le.viewCache.eventCache.getNode(),null)}function Jl(v,h,f,C){return function nn(v,h,f,C){const z=[],le=[];return h.forEach(we=>{"child_changed"===we.type&&v.index_.indexedValueChanged(we.oldSnap,we.snapshotNode)&&le.push(function V(v,h){return{type:"child_moved",snapshotNode:h,childName:v}}(we.childName,we.snapshotNode))}),yn(v,z,"child_removed",h,C,f),yn(v,z,"child_added",h,C,f),yn(v,z,"child_moved",le,C,f),yn(v,z,"child_changed",h,C,f),yn(v,z,"value",h,C,f),z}(v.eventGenerator_,h,f,C?[C]:v.eventRegistrations_)}let Ml,Fr;class ba{constructor(){this.views=new Map}}function Z(v,h,f,C){const z=h.source.queryId;if(null!==z){const le=v.views.get(z);return(0,se.hu)(null!=le,"SyncTree gave us an op for an invalid query."),vl(le,h,f,C)}{let le=[];for(const we of v.views.values())le=le.concat(vl(we,h,f,C));return le}}function L(v,h,f,C,z){const we=v.views.get(h._queryIdentifier);if(!we){let ot=il(f,z?C:null),$t=!1;ot?$t=!0:C instanceof ys?(ot=Sa(f,C),$t=!1):(ot=ys.EMPTY_NODE,$t=!1);const un=Fi(new it(ot,$t,!1),new it(C,z,!1));return new Rs(h,un)}return we}function mt(v){const h=[];for(const f of v.views.values())f.query._queryParams.loadsAllData()||h.push(f);return h}function st(v,h){let f=null;for(const C of v.views.values())f=f||ks(C,h);return f}function En(v,h){return h._queryParams.loadsAllData()?fs(v):v.views.get(h._queryIdentifier)}function ni(v,h){return null!=En(v,h)}function dr(v){return null!=fs(v)}function fs(v){for(const h of v.views.values())if(h.query._queryParams.loadsAllData())return h;return null}let m=1;class u{constructor(h){this.listenProvider_=h,this.syncPointTree_=new ae(null),this.pendingWriteTree_=function ql(){return{visibleWrites:We.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function g(v,h,f,C,z){return function wi(v,h,f,C,z){(0,se.hu)(C>v.lastWriteId,"Stacking an older write on top of newer ones"),void 0===z&&(z=!0),v.allWrites.push({path:h,snap:f,writeId:C,visible:z}),z&&(v.visibleWrites=Ft(v.visibleWrites,h,f)),v.lastWriteId=C}(v.pendingWriteTree_,h,f,C,z),z?jn(v,new pe({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},h,f)):[]}function D(v,h,f=!1){const C=function fa(v,h){for(let f=0;f<v.allWrites.length;f++){const C=v.allWrites[f];if(C.writeId===h)return C}return null}(v.pendingWriteTree_,h);if(function _a(v,h){const f=v.allWrites.findIndex(ot=>ot.writeId===h);(0,se.hu)(f>=0,"removeWrite called with nonexistent writeId.");const C=v.allWrites[f];v.allWrites.splice(f,1);let z=C.visible,le=!1,we=v.allWrites.length-1;for(;z&&we>=0;){const ot=v.allWrites[we];ot.visible&&(we>=f&&gr(ot,C.path)?z=!1:Gs(C.path,ot.path)&&(le=!0)),we--}return!!z&&(le?(function zr(v){v.visibleWrites=fi(v.allWrites,Ci,hr()),v.lastWriteId=v.allWrites.length>0?v.allWrites[v.allWrites.length-1].writeId:-1}(v),!0):(C.snap?v.visibleWrites=ai(v.visibleWrites,C.path):Li(C.children,$t=>{v.visibleWrites=ai(v.visibleWrites,Vr(C.path,$t))}),!0))}(v.pendingWriteTree_,h)){let le=new ae(null);return null!=C.snap?le=le.set(hr(),!0):Li(C.children,we=>{le=le.set(new vs(we),!0)}),jn(v,new k(C.path,le,f))}return[]}function R(v,h,f){return jn(v,new pe({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},h,f))}function ke(v,h,f,C,z=!1){const le=h._path,we=v.syncPointTree_.get(le);let ot=[];if(we&&("default"===h._queryIdentifier||ni(we,h))){const $t=function Ee(v,h,f,C){const z=h._queryIdentifier,le=[];let we=[];const ot=dr(v);if("default"===z)for(const[$t,un]of v.views.entries())we=we.concat(Bn(un,f,C)),Ca(un)&&(v.views.delete($t),un.query._queryParams.loadsAllData()||le.push(un.query));else{const $t=v.views.get(z);$t&&(we=we.concat(Bn($t,f,C)),Ca($t)&&(v.views.delete(z),$t.query._queryParams.loadsAllData()||le.push($t.query)))}return ot&&!dr(v)&&le.push(new(function Ia(){return(0,se.hu)(Ml,"Reference.ts has not been loaded"),Ml}())(h._repo,h._path)),{removed:le,events:we}}(we,h,f,C);(function W(v){return 0===v.views.size})(we)&&(v.syncPointTree_=v.syncPointTree_.remove(le));const un=$t.removed;if(ot=$t.events,!z){const hi=-1!==un.findIndex(ki=>ki._queryParams.loadsAllData()),pi=v.syncPointTree_.findOnPath(le,(ki,us)=>dr(us));if(hi&&!pi){const ki=v.syncPointTree_.subtree(le);if(!ki.isEmpty()){const us=function ls(v){return v.fold((h,f,C)=>{if(f&&dr(f))return[fs(f)];{let z=[];return f&&(z=mt(f)),Li(C,(le,we)=>{z=z.concat(we)}),z}})}(ki);for(let Fs=0;Fs<us.length;++Fs){const Zo=us[Fs],Ka=Zo.query,Vl=Gi(v,Zo);v.listenProvider_.startListening(Ns(Ka),qi(v,Ka),Vl.hashFn,Vl.onComplete)}}}!pi&&un.length>0&&!C&&(hi?v.listenProvider_.stopListening(Ns(h),null):un.forEach(ki=>{const us=v.queryToTagMap.get(Oi(ki));v.listenProvider_.stopListening(Ns(ki),us)}))}!function Br(v,h){for(let f=0;f<h.length;++f){const C=h[f];if(!C._queryParams.loadsAllData()){const z=Oi(C),le=v.queryToTagMap.get(z);v.queryToTagMap.delete(z),v.tagToQueryMap.delete(le)}}}(v,un)}return ot}function rt(v,h,f,C){const z=zi(v,C);if(null!=z){const le=or(z),we=le.path,ot=le.queryId,$t=Cs(we,h);return Er(v,we,new pe(ul(ot),$t,f))}return[]}function Bt(v,h,f,C=!1){const z=h._path;let le=null,we=!1;v.syncPointTree_.foreachOnPath(z,(ki,us)=>{const Fs=Cs(ki,z);le=le||st(us,Fs),we=we||dr(us)});let $t,ot=v.syncPointTree_.get(z);ot?(we=we||dr(ot),le=le||st(ot,hr())):(ot=new ba,v.syncPointTree_=v.syncPointTree_.set(z,ot)),null!=le?$t=!0:($t=!1,le=ys.EMPTY_NODE,v.syncPointTree_.subtree(z).foreachChild((us,Fs)=>{const Zo=st(Fs,hr());Zo&&(le=le.updateImmediateChild(us,Zo))}));const un=ni(ot,h);if(!un&&!h._queryParams.loadsAllData()){const ki=Oi(h);(0,se.hu)(!v.queryToTagMap.has(ki),"View does not exist, but we have a tag");const us=function co(){return m++}();v.queryToTagMap.set(ki,us),v.tagToQueryMap.set(us,ki)}let pi=function te(v,h,f,C,z,le){const we=L(v,h,C,z,le);return v.views.has(h._queryIdentifier)||v.views.set(h._queryIdentifier,we),function $a(v,h){v.eventRegistrations_.push(h)}(we,f),function Ha(v,h){const f=v.viewCache_.eventCache,C=[];return f.getNode().isLeafNode()||f.getNode().forEachChild(gs,(le,we)=>{C.push(H(le,we))}),f.isFullyInitialized()&&C.push(_e(f.getNode())),Jl(v,C,f.getNode(),h)}(we,f)}(ot,h,f,Yo(v.pendingWriteTree_,z),le,$t);if(!un&&!we&&!C){const ki=En(ot,h);pi=pi.concat(function Oo(v,h,f){const C=h._path,z=qi(v,h),le=Gi(v,f),we=v.listenProvider_.startListening(Ns(h),z,le.hashFn,le.onComplete),ot=v.syncPointTree_.subtree(C);if(z)(0,se.hu)(!dr(ot.value),"If we're adding a query, it shouldn't be shadowed");else{const $t=ot.fold((un,hi,pi)=>{if(!Mr(un)&&hi&&dr(hi))return[fs(hi).query];{let ki=[];return hi&&(ki=ki.concat(mt(hi).map(us=>us.query))),Li(pi,(us,Fs)=>{ki=ki.concat(Fs)}),ki}});for(let un=0;un<$t.length;++un){const hi=$t[un];v.listenProvider_.stopListening(Ns(hi),qi(v,hi))}}return we}(v,h,ki))}return pi}function Sn(v,h,f){const z=v.pendingWriteTree_,le=v.syncPointTree_.findOnPath(h,(we,ot)=>{const un=st(ot,Cs(we,h));if(un)return un});return Zn(z,h,le,f,!0)}function jn(v,h){return Ei(h,v.syncPointTree_,null,Yo(v.pendingWriteTree_,hr()))}function Ei(v,h,f,C){if(Mr(v.path))return di(v,h,f,C);{const z=h.get(hr());null==f&&null!=z&&(f=st(z,hr()));let le=[];const we=ri(v.path),ot=v.operationForChild(we),$t=h.children.get(we);if($t&&ot){const un=f?f.getImmediateChild(we):null,hi=jl(C,we);le=le.concat(Ei(ot,$t,un,hi))}return z&&(le=le.concat(Z(z,v,C,f))),le}}function di(v,h,f,C){const z=h.get(hr());null==f&&null!=z&&(f=st(z,hr()));let le=[];return h.children.inorderTraversal((we,ot)=>{const $t=f?f.getImmediateChild(we):null,un=jl(C,we),hi=v.operationForChild(we);hi&&(le=le.concat(di(hi,ot,$t,un)))}),z&&(le=le.concat(Z(z,v,C,f))),le}function Gi(v,h){const f=h.query,C=qi(v,f);return{hashFn:()=>(function Ys(v){return v.viewCache_.serverCache.getNode()}(h)||ys.EMPTY_NODE).hash(),onComplete:z=>{if("ok"===z)return C?function ue(v,h,f){const C=zi(v,f);if(C){const z=or(C),le=z.path,we=z.queryId,ot=Cs(le,h);return Er(v,le,new ie(ul(we),ot))}return[]}(v,f._path,C):function q(v,h){return jn(v,new ie({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},h))}(v,f._path);{const le=function Mi(v,h){let f="Unknown Error";"too_big"===v?f="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===v?f="Client doesn't have permission to access the desired data.":"unavailable"===v&&(f="The service is unavailable");const C=new Error(v+" at "+h._path.toString()+": "+f);return C.code=v.toUpperCase(),C}(z,f);return ke(v,f,null,le)}}}}function qi(v,h){const f=Oi(h);return v.queryToTagMap.get(f)}function Oi(v){return v._path.toString()+"$"+v._queryIdentifier}function zi(v,h){return v.tagToQueryMap.get(h)}function or(v){const h=v.indexOf("$");return(0,se.hu)(-1!==h&&h<v.length-1,"Bad queryKey."),{queryId:v.substr(h+1),path:new vs(v.substr(0,h))}}function Er(v,h,f){const C=v.syncPointTree_.get(h);return(0,se.hu)(C,"Missing sync point for query tag that we're tracking"),Z(C,f,Yo(v.pendingWriteTree_,h),null)}function Ns(v){return v._queryParams.loadsAllData()&&!v._queryParams.isDefault()?new(function E(){return(0,se.hu)(Fr,"Reference.ts has not been loaded"),Fr}())(v._repo,v._path):v}class io{constructor(h){this.node_=h}getImmediateChild(h){const f=this.node_.getImmediateChild(h);return new io(f)}node(){return this.node_}}class _o{constructor(h,f){this.syncTree_=h,this.path_=f}getImmediateChild(h){const f=Vr(this.path_,h);return new _o(this.syncTree_,f)}node(){return Sn(this.syncTree_,this.path_)}}const sa=function(v){return(v=v||{}).timestamp=v.timestamp||(new Date).getTime(),v},bo=function(v,h,f){return v&&"object"==typeof v?((0,se.hu)(".sv"in v,"Unexpected leaf node or priority contents"),"string"==typeof v[".sv"]?Wa(v[".sv"],h,f):"object"==typeof v[".sv"]?Qa(v[".sv"],h):void(0,se.hu)(!1,"Unexpected server value: "+JSON.stringify(v,null,2))):v},Wa=function(v,h,f){if("timestamp"===v)return f.timestamp;(0,se.hu)(!1,"Unexpected server value: "+v)},Qa=function(v,h,f){v.hasOwnProperty("increment")||(0,se.hu)(!1,"Unexpected server value: "+JSON.stringify(v,null,2));const C=v.increment;"number"!=typeof C&&(0,se.hu)(!1,"Unexpected increment value: "+C);const z=h.node();if((0,se.hu)(null!==z&&typeof z<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!z.isLeafNode())return C;const we=z.getValue();return"number"!=typeof we?C:we+C},ma=function(v,h,f,C){return Va(h,new _o(f,v),C)},Xl=function(v,h,f){return Va(v,new io(h),f)};function Va(v,h,f){const C=v.getPriority().val(),z=bo(C,h.getImmediateChild(".priority"),f);let le;if(v.isLeafNode()){const we=v,ot=bo(we.getValue(),h,f);return ot!==we.getValue()||z!==we.getPriority().val()?new ut(ot,Ps(z)):v}{const we=v;return le=we,z!==we.getPriority().val()&&(le=le.updatePriority(new ut(z))),we.forEachChild(gs,(ot,$t)=>{const un=Va($t,h.getImmediateChild(ot),f);un!==$t&&(le=le.updateImmediateChild(ot,un))}),le}}class qo{constructor(h="",f=null,C={children:{},childCount:0}){this.name=h,this.parent=f,this.node=C}}function Ta(v,h){let f=h instanceof vs?h:new vs(h),C=v,z=ri(f);for(;null!==z;){const le=(0,se.DV)(C.node.children,z)||{children:{},childCount:0};C=new qo(z,C,le),f=_r(f),z=ri(f)}return C}function sl(v){return v.node.value}function _l(v,h){v.node.value=h,oe(v)}function Fl(v){return v.node.childCount>0}function Hl(v,h){Li(v.node.children,(f,C)=>{h(new qo(f,v,C))})}function ec(v,h,f,C){f&&!C&&h(v),Hl(v,z=>{ec(z,h,!0,C)}),f&&C&&h(v)}function Wl(v){return new vs(null===v.parent?v.name:Wl(v.parent)+"/"+v.name)}function oe(v){null!==v.parent&&function a(v,h,f){const C=function iu(v){return void 0===sl(v)&&!Fl(v)}(f),z=(0,se.r3)(v.node.children,h);C&&z?(delete v.node.children[h],v.node.childCount--,oe(v)):!C&&!z&&(v.node.children[h]=f.node,v.node.childCount++,oe(v))}(v.parent,v.name,v)}const P=/[\[\].#$\/\u0000-\u001F\u007F]/,X=/[\[\].#$\u0000-\u001F\u007F]/,de=10485760,xe=function(v){return"string"==typeof v&&0!==v.length&&!P.test(v)},je=function(v){return"string"==typeof v&&0!==v.length&&!X.test(v)},lt=function(v){return null===v||"string"==typeof v||"number"==typeof v&&!Xn(v)||v&&"object"==typeof v&&(0,se.r3)(v,".sv")},yt=function(v,h,f,C){C&&void 0===h||vt((0,se.gK)(v,"value"),h,f)},vt=function(v,h,f){const C=f instanceof vs?new as(f,v):f;if(void 0===h)throw new Error(v+"contains undefined "+vo(C));if("function"==typeof h)throw new Error(v+"contains a function "+vo(C)+" with contents = "+h.toString());if(Xn(h))throw new Error(v+"contains "+h.toString()+" "+vo(C));if("string"==typeof h&&h.length>de/3&&(0,se.ug)(h)>de)throw new Error(v+"contains a string greater than "+de+" utf8 bytes "+vo(C)+" ('"+h.substring(0,50)+"...')");if(h&&"object"==typeof h){let z=!1,le=!1;if(Li(h,(we,ot)=>{if(".value"===we)z=!0;else if(".priority"!==we&&".sv"!==we&&(le=!0,!xe(we)))throw new Error(v+" contains an invalid key ("+we+") "+vo(C)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function Vs(v,h){v.parts_.length>0&&(v.byteLength_+=1),v.parts_.push(h),v.byteLength_+=(0,se.ug)(h),Jo(v)})(C,we),vt(v,ot,C),function zo(v){const h=v.parts_.pop();v.byteLength_-=(0,se.ug)(h),v.parts_.length>0&&(v.byteLength_-=1)}(C)}),z&&le)throw new Error(v+' contains ".value" child '+vo(C)+" in addition to actual children.")}},Ct=function(v,h,f,C){if(C&&void 0===h)return;const z=(0,se.gK)(v,"values");if(!h||"object"!=typeof h||Array.isArray(h))throw new Error(z+" must be an object containing the children to replace.");const le=[];Li(h,(we,ot)=>{const $t=new vs(we);if(vt(z,ot,Vr(f,$t)),".priority"===So($t)&&!lt(ot))throw new Error(z+"contains an invalid value for '"+$t.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");le.push($t)}),function(v,h){let f,C;for(f=0;f<h.length;f++){C=h[f];const le=js(C);for(let we=0;we<le.length;we++)if((".priority"!==le[we]||we!==le.length-1)&&!xe(le[we]))throw new Error(v+"contains an invalid key ("+le[we]+") in path "+C.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}h.sort(Nr);let z=null;for(f=0;f<h.length;f++){if(C=h[f],null!==z&&Gs(z,C))throw new Error(v+"contains a path "+z.toString()+" that is ancestor of another path "+C.toString());z=C}}(z,le)},sn=function(v,h,f){if(!f||void 0!==h){if(Xn(h))throw new Error((0,se.gK)(v,"priority")+"is "+h.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!lt(h))throw new Error((0,se.gK)(v,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},pn=function(v,h,f,C){if(!(C&&void 0===f||xe(f)))throw new Error((0,se.gK)(v,h)+'was an invalid key = "'+f+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},Xt=function(v,h,f,C){if(!(C&&void 0===f||je(f)))throw new Error((0,se.gK)(v,h)+'was an invalid path = "'+f+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},Zt=function(v,h,f,C){f&&(f=f.replace(/^\/*\.info(\/|$)/,"/")),Xt(v,h,f,C)},Cn=function(v,h){if(".info"===ri(h))throw new Error(v+" failed = Can't modify data under /.info/")},Qt=function(v,h){const f=h.path.toString();if("string"!=typeof h.repoInfo.host||0===h.repoInfo.host.length||!xe(h.repoInfo.namespace)&&"localhost"!==h.repoInfo.host.split(":")[0]||0!==f.length&&!function(v){return v&&(v=v.replace(/^\/*\.info(\/|$)/,"/")),je(v)}(f))throw new Error((0,se.gK)(v,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class Ht{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function $n(v,h){let f=null;for(let C=0;C<h.length;C++){const z=h[C],le=z.getPath();null!==f&&!Ao(le,f.path)&&(v.eventLists_.push(f),f=null),null===f&&(f={events:[],path:le}),f.events.push(z)}f&&v.eventLists_.push(f)}function xi(v,h,f){$n(v,f),lr(v,C=>Ao(C,h))}function Si(v,h,f){$n(v,f),lr(v,C=>Gs(C,h)||Gs(h,C))}function lr(v,h){v.recursionDepth_++;let f=!0;for(let C=0;C<v.eventLists_.length;C++){const z=v.eventLists_[C];z&&(h(z.path)?(Qi(v.eventLists_[C]),v.eventLists_[C]=null):f=!1)}f&&(v.eventLists_=[]),v.recursionDepth_--}function Qi(v){for(let h=0;h<v.events.length;h++){const f=v.events[h];if(null!==f){v.events[h]=null;const C=f.getEventRunner();Gt&&Nt("event: "+f.toString()),jr(C)}}}const Pi="repo_interrupt",br=25;class xr{constructor(h,f,C,z){this.repoInfo_=h,this.forceRestClient_=f,this.authTokenProvider_=C,this.appCheckProvider_=z,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Ht,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Wo(),this.transactionQueueTree_=new qo,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function ci(v){const f=v.infoData_.getNode(new vs(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+f}function bn(v){return sa({timestamp:ci(v)})}function Qn(v,h,f,C,z){v.dataUpdateCount++;const le=new vs(h);f=v.interceptServerDataCallback_?v.interceptServerDataCallback_(h,f):f;let we=[];if(z)if(C){const $t=(0,se.UI)(f,un=>Ps(un));we=function kt(v,h,f,C){const z=zi(v,C);if(z){const le=or(z),we=le.path,ot=le.queryId,$t=Cs(we,h),un=ae.fromObject(f);return Er(v,we,new Fe(ul(ot),$t,un))}return[]}(v.serverSyncTree_,le,$t,z)}else{const $t=Ps(f);we=rt(v.serverSyncTree_,le,$t,z)}else if(C){const $t=(0,se.UI)(f,un=>Ps(un));we=function j(v,h,f){const C=ae.fromObject(f);return jn(v,new Fe({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},h,C))}(v.serverSyncTree_,le,$t)}else{const $t=Ps(f);we=R(v.serverSyncTree_,le,$t)}let ot=le;we.length>0&&(ot=Ga(v,le)),Si(v.eventQueue_,ot,we)}function Jn(v,h){Un(v,"connected",h),!1===h&&function Ss(v){wl(v,"onDisconnectEvents");const h=bn(v),f=Wo();ja(v.onDisconnect_,hr(),(z,le)=>{const we=ma(z,le,v.serverSyncTree_,h);va(f,z,we)});let C=[];ja(f,hr(),(z,le)=>{C=C.concat(R(v.serverSyncTree_,z,le));const we=Q(v,z);Ga(v,we)}),v.onDisconnect_=Wo(),Si(v.eventQueue_,hr(),C)}(v)}function Un(v,h,f){const C=new vs("/.info/"+h),z=Ps(f);v.infoData_.updateSnapshot(C,z);const le=R(v.infoSyncTree_,C,z);Si(v.eventQueue_,C,le)}function ei(v){return v.nextWriteId_++}function ro(v,h,f,C,z){wl(v,"set",{path:h.toString(),value:f,priority:C});const le=bn(v),we=Ps(f,C),ot=Sn(v.serverSyncTree_,h),$t=Xl(we,ot,le),un=ei(v),hi=g(v.serverSyncTree_,h,$t,un,!0);$n(v.eventQueue_,hi),v.server_.put(h.toString(),we.val(!0),(ki,us)=>{const Fs="ok"===ki;Fs||Di("set at "+h+" failed: "+ki);const Zo=D(v.serverSyncTree_,un,!Fs);Si(v.eventQueue_,h,Zo),Pl(0,z,ki,us)});const pi=Q(v,h);Ga(v,pi),Si(v.eventQueue_,pi,[])}function Ls(v,h,f){v.server_.onDisconnectCancel(h.toString(),(C,z)=>{"ok"===C&&Go(v.onDisconnect_,h),Pl(0,f,C,z)})}function Ja(v,h,f,C){const z=Ps(f);v.server_.onDisconnectPut(h.toString(),z.val(!0),(le,we)=>{"ok"===le&&va(v.onDisconnect_,h,z),Pl(0,C,le,we)})}function ol(v,h,f){let C;C=".info"===ri(h._path)?ke(v.infoSyncTree_,h,f):ke(v.serverSyncTree_,h,f),xi(v.eventQueue_,h._path,C)}function tc(v){v.persistentConnection_&&v.persistentConnection_.interrupt(Pi)}function wl(v,...h){let f="";v.persistentConnection_&&(f=v.persistentConnection_.id+":"),Nt(f,...h)}function Pl(v,h,f,C){h&&jr(()=>{if("ok"===f)h(null);else{const z=(f||"error").toUpperCase();let le=z;C&&(le+=": "+C);const we=new Error(le);we.code=z,h(we)}})}function uc(v,h,f){return Sn(v.serverSyncTree_,h,f)||ys.EMPTY_NODE}function mc(v,h=v.transactionQueueTree_){if(h||M(v,h),sl(h)){const f=G(v,h);(0,se.hu)(f.length>0,"Sending zero length transaction queue"),f.every(z=>0===z.status)&&function yc(v,h,f){const C=f.map(un=>un.currentWriteId),z=uc(v,h,C);let le=z;const we=z.hash();for(let un=0;un<f.length;un++){const hi=f[un];(0,se.hu)(0===hi.status,"tryToSendTransactionQueue_: items in queue should all be run."),hi.status=1,hi.retryCount++;const pi=Cs(h,hi.path);le=le.updateChild(pi,hi.currentOutputSnapshotRaw)}const ot=le.val(!0),$t=h;v.server_.put($t.toString(),ot,un=>{wl(v,"transaction put response",{path:$t.toString(),status:un});let hi=[];if("ok"===un){const pi=[];for(let ki=0;ki<f.length;ki++)f[ki].status=2,hi=hi.concat(D(v.serverSyncTree_,f[ki].currentWriteId)),f[ki].onComplete&&pi.push(()=>f[ki].onComplete(null,!0,f[ki].currentOutputSnapshotResolved)),f[ki].unwatcher();M(v,Ta(v.transactionQueueTree_,h)),mc(v,v.transactionQueueTree_),Si(v.eventQueue_,h,hi);for(let ki=0;ki<pi.length;ki++)jr(pi[ki])}else{if("datastale"===un)for(let pi=0;pi<f.length;pi++)f[pi].status=3===f[pi].status?4:0;else{Di("transaction at "+$t.toString()+" failed: "+un);for(let pi=0;pi<f.length;pi++)f[pi].status=4,f[pi].abortReason=un}Ga(v,h)}},we)}(v,Wl(h),f)}else Fl(h)&&Hl(h,f=>{mc(v,f)})}function Ga(v,h){const f=Tc(v,h),C=Wl(f);return function Ic(v,h,f){if(0===h.length)return;const C=[];let z=[];const we=h.filter(ot=>0===ot.status).map(ot=>ot.currentWriteId);for(let ot=0;ot<h.length;ot++){const $t=h[ot],un=Cs(f,$t.path);let pi,hi=!1;if((0,se.hu)(null!==un,"rerunTransactionsUnderNode_: relativePath should not be null."),4===$t.status)hi=!0,pi=$t.abortReason,z=z.concat(D(v.serverSyncTree_,$t.currentWriteId,!0));else if(0===$t.status)if($t.retryCount>=br)hi=!0,pi="maxretry",z=z.concat(D(v.serverSyncTree_,$t.currentWriteId,!0));else{const ki=uc(v,$t.path,we);$t.currentInputSnapshot=ki;const us=h[ot].update(ki.val());if(void 0!==us){vt("transaction failed: Data returned ",us,$t.path);let Fs=Ps(us);"object"==typeof us&&null!=us&&(0,se.r3)(us,".priority")||(Fs=Fs.updatePriority(ki.getPriority()));const Ka=$t.currentWriteId,Vl=bn(v),xc=Xl(Fs,ki,Vl);$t.currentOutputSnapshotRaw=Fs,$t.currentOutputSnapshotResolved=xc,$t.currentWriteId=ei(v),we.splice(we.indexOf(Ka),1),z=z.concat(g(v.serverSyncTree_,$t.path,xc,$t.currentWriteId,$t.applyLocally)),z=z.concat(D(v.serverSyncTree_,Ka,!0))}else hi=!0,pi="nodata",z=z.concat(D(v.serverSyncTree_,$t.currentWriteId,!0))}Si(v.eventQueue_,f,z),z=[],hi&&(h[ot].status=2,setTimeout(h[ot].unwatcher,Math.floor(0)),h[ot].onComplete&&C.push("nodata"===pi?()=>h[ot].onComplete(null,!1,h[ot].currentInputSnapshot):()=>h[ot].onComplete(new Error(pi),!1,null)))}M(v,v.transactionQueueTree_);for(let ot=0;ot<C.length;ot++)jr(C[ot]);mc(v,v.transactionQueueTree_)}(v,G(v,f),C),C}function Tc(v,h){let f,C=v.transactionQueueTree_;for(f=ri(h);null!==f&&void 0===sl(C);)C=Ta(C,f),f=ri(h=_r(h));return C}function G(v,h){const f=[];return S(v,h,f),f.sort((C,z)=>C.order-z.order),f}function S(v,h,f){const C=sl(h);if(C)for(let z=0;z<C.length;z++)f.push(C[z]);Hl(h,z=>{S(v,z,f)})}function M(v,h){const f=sl(h);if(f){let C=0;for(let z=0;z<f.length;z++)2!==f[z].status&&(f[C]=f[z],C++);f.length=C,_l(h,f.length>0?f:void 0)}Hl(h,C=>{M(v,C)})}function Q(v,h){const f=Wl(Tc(v,h)),C=Ta(v.transactionQueueTree_,h);return function ru(v,h,f){let C=f?v:v.parent;for(;null!==C;){if(h(C))return!0;C=C.parent}}(C,z=>{Ne(v,z)}),Ne(v,C),ec(C,z=>{Ne(v,z)}),f}function Ne(v,h){const f=sl(h);if(f){const C=[];let z=[],le=-1;for(let we=0;we<f.length;we++)3===f[we].status||(1===f[we].status?((0,se.hu)(le===we-1,"All SENT items should be at beginning of queue."),le=we,f[we].status=3,f[we].abortReason="set"):((0,se.hu)(0===f[we].status,"Unexpected transaction status in abort"),f[we].unwatcher(),z=z.concat(D(v.serverSyncTree_,f[we].currentWriteId,!0)),f[we].onComplete&&C.push(f[we].onComplete.bind(null,new Error("set"),!1,null))));-1===le?_l(h,void 0):f.length=le+1,Si(v.eventQueue_,Wl(h),z);for(let we=0;we<C.length;we++)jr(C[we])}}const si=function(v,h){const f=ir(v),C=f.namespace;return"firebase.com"===f.domain&&Ti(f.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!C||"undefined"===C)&&"localhost"!==f.domain&&Ti("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),f.secure||typeof window<"u"&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&Di("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new x(f.host,f.secure,C,"ws"===f.scheme||"wss"===f.scheme,h,"",C!==f.subdomain),path:new vs(f.pathString)}},ir=function(v){let h="",f="",C="",z="",le="",we=!0,ot="https",$t=443;if("string"==typeof v){let un=v.indexOf("//");un>=0&&(ot=v.substring(0,un-1),v=v.substring(un+2));let hi=v.indexOf("/");-1===hi&&(hi=v.length);let pi=v.indexOf("?");-1===pi&&(pi=v.length),h=v.substring(0,Math.min(hi,pi)),hi<pi&&(z=function ht(v){let h="";const f=v.split("/");for(let C=0;C<f.length;C++)if(f[C].length>0){let z=f[C];try{z=decodeURIComponent(z.replace(/\+/g," "))}catch{}h+="/"+z}return h}(v.substring(hi,pi)));const ki=function Rn(v){const h={};"?"===v.charAt(0)&&(v=v.substring(1));for(const f of v.split("&")){if(0===f.length)continue;const C=f.split("=");2===C.length?h[decodeURIComponent(C[0])]=decodeURIComponent(C[1]):Di(`Invalid query segment '${f}' in query '${v}'`)}return h}(v.substring(Math.min(v.length,pi)));un=h.indexOf(":"),un>=0?(we="https"===ot||"wss"===ot,$t=parseInt(h.substring(un+1),10)):un=h.length;const us=h.slice(0,un);if("localhost"===us.toLowerCase())f="localhost";else if(us.split(".").length<=2)f=us;else{const Fs=h.indexOf(".");C=h.substring(0,Fs).toLowerCase(),f=h.substring(Fs+1),le=C}"ns"in ki&&(le=ki.ns)}return{host:h,port:$t,domain:f,subdomain:C,secure:we,scheme:ot,pathString:z,namespace:le}},Kr="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",Ds=function(){let v=0;const h=[];return function(f){const C=f===v;let z;v=f;const le=new Array(8);for(z=7;z>=0;z--)le[z]=Kr.charAt(f%64),f=Math.floor(f/64);(0,se.hu)(0===f,"Cannot push at time == 0");let we=le.join("");if(C){for(z=11;z>=0&&63===h[z];z--)h[z]=0;h[z]++}else for(z=0;z<12;z++)h[z]=Math.floor(64*Math.random());for(z=0;z<12;z++)we+=Kr.charAt(h[z]);return(0,se.hu)(20===we.length,"nextPushId: Length should be 20."),we}}();class wo{constructor(h,f,C,z){this.eventType=h,this.eventRegistration=f,this.snapshot=C,this.prevName=z}getPath(){const h=this.snapshot.ref;return"value"===this.eventType?h._path:h.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+(0,se.Wl)(this.snapshot.exportVal())}}class Bl{constructor(h,f,C){this.eventRegistration=h,this.error=f,this.path=C}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class dc{constructor(h,f){this.snapshotCallback=h,this.cancelCallback=f}onValue(h,f){this.snapshotCallback.call(null,h,f)}onCancel(h){return(0,se.hu)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,h)}get hasCancelCallback(){return!!this.cancelCallback}matches(h){return this.snapshotCallback===h.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===h.snapshotCallback.userCallback&&this.snapshotCallback.context===h.snapshotCallback.context}}class su{constructor(h,f){this._repo=h,this._path=f}cancel(){const h=new se.BH;return Ls(this._repo,this._path,h.wrapCallback(()=>{})),h.promise}remove(){Cn("OnDisconnect.remove",this._path);const h=new se.BH;return Ja(this._repo,this._path,null,h.wrapCallback(()=>{})),h.promise}set(h){Cn("OnDisconnect.set",this._path),yt("OnDisconnect.set",h,this._path,!1);const f=new se.BH;return Ja(this._repo,this._path,h,f.wrapCallback(()=>{})),f.promise}setWithPriority(h,f){Cn("OnDisconnect.setWithPriority",this._path),yt("OnDisconnect.setWithPriority",h,this._path,!1),sn("OnDisconnect.setWithPriority",f,!1);const C=new se.BH;return function Ql(v,h,f,C,z){const le=Ps(f,C);v.server_.onDisconnectPut(h.toString(),le.val(!0),(we,ot)=>{"ok"===we&&va(v.onDisconnect_,h,le),Pl(0,z,we,ot)})}(this._repo,this._path,h,f,C.wrapCallback(()=>{})),C.promise}update(h){Cn("OnDisconnect.update",this._path),Ct("OnDisconnect.update",h,this._path,!1);const f=new se.BH;return function pa(v,h,f,C){if((0,se.xb)(f))return Nt("onDisconnect().update() called with empty data.  Don't do anything."),void Pl(0,C,"ok",void 0);v.server_.onDisconnectMerge(h.toString(),f,(z,le)=>{"ok"===z&&Li(f,(we,ot)=>{const $t=Ps(ot);va(v.onDisconnect_,Vr(h,we),$t)}),Pl(0,C,z,le)})}(this._repo,this._path,h,f.wrapCallback(()=>{})),f.promise}}class ka{constructor(h,f,C,z){this._repo=h,this._path=f,this._queryParams=C,this._orderByCalled=z}get key(){return Mr(this._path)?null:So(this._path)}get ref(){return new dl(this._repo,this._path)}get _queryIdentifier(){const h=Io(this._queryParams),f=kr(h);return"{}"===f?"default":f}get _queryObject(){return Io(this._queryParams)}isEqual(h){if(!((h=(0,se.m9)(h))instanceof ka))return!1;const f=this._repo===h._repo,C=Ao(this._path,h._path);return f&&C&&this._queryIdentifier===h._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function Do(v){let h="";for(let f=v.pieceNum_;f<v.pieces_.length;f++)""!==v.pieces_[f]&&(h+="/"+encodeURIComponent(String(v.pieces_[f])));return h||"/"}(this._path)}}function Dc(v,h){if(!0===v._orderByCalled)throw new Error(h+": You can't combine multiple orderBy calls.")}function Ua(v){let h=null,f=null;if(v.hasStart()&&(h=v.getIndexStartValue()),v.hasEnd()&&(f=v.getIndexEndValue()),v.getIndex()===Po){const C="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",z="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(v.hasStart()){if(v.getIndexStartName()!==Ni)throw new Error(C);if("string"!=typeof h)throw new Error(z)}if(v.hasEnd()){if(v.getIndexEndName()!==rr)throw new Error(C);if("string"!=typeof f)throw new Error(z)}}else if(v.getIndex()===gs){if(null!=h&&!lt(h)||null!=f&&!lt(f))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,se.hu)(v.getIndex()instanceof ha||v.getIndex()===Pe,"unknown index type."),null!=h&&"object"==typeof h||null!=f&&"object"==typeof f)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function Rc(v){if(v.hasStart()&&v.hasEnd()&&v.hasLimit()&&!v.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class dl extends ka{constructor(h,f){super(h,f,new Nn,!1)}get parent(){const h=Qo(this._path);return null===h?null:new dl(this._repo,h)}get root(){let h=this;for(;null!==h.parent;)h=h.parent;return h}}class El{constructor(h,f,C){this._node=h,this.ref=f,this._index=C}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(h){const f=new vs(h),C=rc(this.ref,h);return new El(this._node.getChild(f),C,gs)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(h){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(C,z)=>h(new El(z,rc(this.ref,C),gs)))}hasChild(h){const f=new vs(h);return!this._node.getChild(f).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function ic(v,h){return(v=(0,se.m9)(v))._checkNotDeleted("ref"),void 0!==h?rc(v._root,h):v._root}function ou(v,h){(v=(0,se.m9)(v))._checkNotDeleted("refFromURL");const f=si(h,v._repo.repoInfo_.nodeAdmin);Qt("refFromURL",f);const C=f.repoInfo;return!v._repo.repoInfo_.isCustomHost()&&C.host!==v._repo.repoInfo_.host&&Ti("refFromURL: Host name does not match the current database: (found "+C.host+" but expected "+v._repo.repoInfo_.host+")"),ic(v,f.path.toString())}function rc(v,h){return null===ri((v=(0,se.m9)(v))._path)?Zt("child","path",h,!1):Xt("child","path",h,!1),new dl(v._repo,Vr(v._path,h))}function ph(v,h){v=(0,se.m9)(v),Cn("set",v._path),yt("set",h,v._path,!1);const f=new se.BH;return ro(v._repo,v._path,h,null,f.wrapCallback(()=>{})),f.promise}function Tf(v,h){Ct("update",h,v._path,!1);const f=new se.BH;return function ua(v,h,f,C){wl(v,"update",{path:h.toString(),value:f});let z=!0;const le=bn(v),we={};if(Li(f,(ot,$t)=>{z=!1,we[ot]=ma(Vr(h,ot),Ps($t),v.serverSyncTree_,le)}),z)Nt("update() called with empty data.  Don't do anything."),Pl(0,C,"ok",void 0);else{const ot=ei(v),$t=function b(v,h,f,C){!function Ts(v,h,f,C){(0,se.hu)(C>v.lastWriteId,"Stacking an older merge on top of newer ones"),v.allWrites.push({path:h,children:f,writeId:C,visible:!0}),v.visibleWrites=Fn(v.visibleWrites,h,f),v.lastWriteId=C}(v.pendingWriteTree_,h,f,C);const z=ae.fromObject(f);return jn(v,new Fe({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},h,z))}(v.serverSyncTree_,h,we,ot);$n(v.eventQueue_,$t),v.server_.merge(h.toString(),f,(un,hi)=>{const pi="ok"===un;pi||Di("update at "+h+" failed: "+un);const ki=D(v.serverSyncTree_,ot,!pi),us=ki.length>0?Ga(v,h):h;Si(v.eventQueue_,us,ki),Pl(0,C,un,hi)}),Li(f,un=>{const hi=Q(v,Vr(h,un));Ga(v,hi)}),Si(v.eventQueue_,h,[])}}(v._repo,v._path,h,f.wrapCallback(()=>{})),f.promise}function Df(v){v=(0,se.m9)(v);const h=new dc(()=>{}),f=new hl(h);return function es(v,h,f){const C=function kn(v,h){const f=h._path;let C=null;v.syncPointTree_.foreachOnPath(f,(un,hi)=>{const pi=Cs(un,f);C=C||st(hi,pi)});let z=v.syncPointTree_.get(f);z?C=C||st(z,hr()):(z=new ba,v.syncPointTree_=v.syncPointTree_.set(f,z));const le=null!=C,we=le?new it(C,!0,!1):null;return function Ws(v){return Qs(v.viewCache_)}(L(z,h,Yo(v.pendingWriteTree_,h._path),le?we.getNode():ys.EMPTY_NODE,le))}(v.serverSyncTree_,h);return null!=C?Promise.resolve(C):v.server_.get(h).then(z=>{const le=Ps(z).withIndex(h._queryParams.getIndex());let we;if(Bt(v.serverSyncTree_,h,f,!0),h._queryParams.loadsAllData())we=R(v.serverSyncTree_,h._path,le);else{const ot=qi(v.serverSyncTree_,h);we=rt(v.serverSyncTree_,h._path,le,ot)}return Si(v.eventQueue_,h._path,we),ke(v.serverSyncTree_,h,f,null,!0),le},z=>(wl(v,"get for query "+(0,se.Wl)(h)+" failed: "+z),Promise.reject(new Error(z))))}(v._repo,v,f).then(C=>new El(C,new dl(v._repo,v._path),v._queryParams.getIndex()))}class hl{constructor(h){this.callbackContext=h}respondsTo(h){return"value"===h}createEvent(h,f){const C=f._queryParams.getIndex();return new wo("value",this,new El(h.snapshotNode,new dl(f._repo,f._path),C))}getEventRunner(h){return"cancel"===h.getEventType()?()=>this.callbackContext.onCancel(h.error):()=>this.callbackContext.onValue(h.snapshot,null)}createCancelEvent(h,f){return this.callbackContext.hasCancelCallback?new Bl(this,h,f):null}matches(h){return h instanceof hl&&(!h.callbackContext||!this.callbackContext||h.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class bu{constructor(h,f){this.eventType=h,this.callbackContext=f}respondsTo(h){let f="children_added"===h?"child_added":h;return f="children_removed"===f?"child_removed":f,this.eventType===f}createCancelEvent(h,f){return this.callbackContext.hasCancelCallback?new Bl(this,h,f):null}createEvent(h,f){(0,se.hu)(null!=h.childName,"Child events should have a childName.");const C=rc(new dl(f._repo,f._path),h.childName),z=f._queryParams.getIndex();return new wo(h.type,this,new El(h.snapshotNode,C,z),h.prevName)}getEventRunner(h){return"cancel"===h.getEventType()?()=>this.callbackContext.onCancel(h.error):()=>this.callbackContext.onValue(h.snapshot,h.prevName)}matches(h){return h instanceof bu&&this.eventType===h.eventType&&(!this.callbackContext||!h.callbackContext||this.callbackContext.matches(h.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function wu(v,h,f,C,z){let le;if("object"==typeof C&&(le=void 0,z=C),"function"==typeof C&&(le=C),z&&z.onlyOnce){const $t=f,un=(hi,pi)=>{ol(v._repo,v,ot),$t(hi,pi)};un.userCallback=f.userCallback,un.context=f.context,f=un}const we=new dc(f,le||void 0),ot="value"===h?new hl(we):new bu(h,we);return function bl(v,h,f){let C;C=".info"===ri(h._path)?Bt(v.infoSyncTree_,h,f):Bt(v.serverSyncTree_,h,f),xi(v.eventQueue_,h._path,C)}(v._repo,v,ot),()=>ol(v._repo,v,ot)}function Eu(v,h,f,C){return wu(v,"value",h,f,C)}function al(v,h,f,C){return wu(v,"child_added",h,f,C)}function hc(v,h,f,C){return wu(v,"child_changed",h,f,C)}function Id(v,h,f,C){return wu(v,"child_moved",h,f,C)}function Oc(v,h,f,C){return wu(v,"child_removed",h,f,C)}function yh(v,h,f){let C=null;const z=f?new dc(f):null;"value"===h?C=new hl(z):h&&(C=new bu(h,z)),ol(v._repo,v,C)}class $l{}class vh extends $l{constructor(h,f){super(),this._value=h,this._key=f}_apply(h){yt("endAt",this._value,h._path,!0);const f=Pr(h._queryParams,this._value,this._key);if(Rc(f),Ua(f),h._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new ka(h._repo,h._path,f,h._orderByCalled)}}class Gu extends $l{constructor(h,f){super(),this._value=h,this._key=f}_apply(h){yt("endBefore",this._value,h._path,!1);const f=function Us(v,h,f){let C;return C=Pr(v,h,v.index_===Po||f?f:Ni),C.endBeforeSet_=!0,C}(h._queryParams,this._value,this._key);if(Rc(f),Ua(f),h._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new ka(h._repo,h._path,f,h._orderByCalled)}}class xf extends $l{constructor(h,f){super(),this._value=h,this._key=f}_apply(h){yt("startAt",this._value,h._path,!0);const f=qr(h._queryParams,this._value,this._key);if(Rc(f),Ua(f),h._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new ka(h._repo,h._path,f,h._orderByCalled)}}class Su extends $l{constructor(h,f){super(),this._value=h,this._key=f}_apply(h){yt("startAfter",this._value,h._path,!1);const f=function ss(v,h,f){let C;return C=qr(v,h,v.index_===Po||f?f:rr),C.startAfterSet_=!0,C}(h._queryParams,this._value,this._key);if(Rc(f),Ua(f),h._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new ka(h._repo,h._path,f,h._orderByCalled)}}class Mf extends $l{constructor(h){super(),this._limit=h}_apply(h){if(h._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new ka(h._repo,h._path,function Ur(v,h){const f=v.copy();return f.limitSet_=!0,f.limit_=h,f.viewFrom_="l",f}(h._queryParams,this._limit),h._orderByCalled)}}class Ku extends $l{constructor(h){super(),this._limit=h}_apply(h){if(h._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new ka(h._repo,h._path,function Wr(v,h){const f=v.copy();return f.limitSet_=!0,f.limit_=h,f.viewFrom_="r",f}(h._queryParams,this._limit),h._orderByCalled)}}class Td extends $l{constructor(h){super(),this._path=h}_apply(h){Dc(h,"orderByChild");const f=new vs(this._path);if(Mr(f))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const C=new ha(f),z=Ro(h._queryParams,C);return Ua(z),new ka(h._repo,h._path,z,!0)}}class Ac extends $l{_apply(h){Dc(h,"orderByKey");const f=Ro(h._queryParams,Po);return Ua(f),new ka(h._repo,h._path,f,!0)}}class qu extends $l{_apply(h){Dc(h,"orderByPriority");const f=Ro(h._queryParams,gs);return Ua(f),new ka(h._repo,h._path,f,!0)}}class Hc extends $l{_apply(h){Dc(h,"orderByValue");const f=Ro(h._queryParams,Pe);return Ua(f),new ka(h._repo,h._path,f,!0)}}class wh extends $l{constructor(h,f){super(),this._value=h,this._key=f}_apply(h){if(yt("equalTo",this._value,h._path,!1),h._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(h._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new vh(this._value,this._key)._apply(new xf(this._value,this._key)._apply(h))}}function ac(v,...h){let f=(0,se.m9)(v);for(const C of h)f=C._apply(f);return f}(function gc(v){(0,se.hu)(!Ml,"__referenceConstructor has already been defined"),Ml=v})(dl),function ca(v){(0,se.hu)(!Fr,"__referenceConstructor has already been defined"),Fr=v}(dl);const Sh={};function Zu(v,h,f,C,z){let le=C||v.options.databaseURL;void 0===le&&(v.options.projectId||Ti("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Nt("Using default host for project ",v.options.projectId),le=`${v.options.projectId}-default-rtdb.firebaseio.com`);let $t,un,we=si(le,z),ot=we.repoInfo;typeof process<"u"&&process.env&&(un=process.env.FIREBASE_DATABASE_EMULATOR_HOST),un?($t=!0,le=`http://${un}?ns=${ot.namespace}`,we=si(le,z),ot=we.repoInfo):$t=!we.repoInfo.secure;const hi=z&&$t?new nr(nr.OWNER):new is(v.name,v.options,h);Qt("Invalid Firebase Database URL",we),Mr(we.path)||Ti("Database URL must point to the root of a Firebase Database (not including a child path).");const pi=function Xu(v,h,f,C){let z=Sh[h.name];z||(z={},Sh[h.name]=z);let le=z[v.toURLString()];return le&&Ti("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),le=new xr(v,false,f,C),z[v.toURLString()]=le,le}(ot,v,hi,new Hi(v.name,f));return new Pf(pi,v)}class Pf{constructor(h,f){this._repoInternal=h,this.app=f,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function gi(v,h,f){if(v.stats_=Ve(v.repoInfo_),v.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)v.server_=new hs(v.repoInfo_,(C,z,le,we)=>{Qn(v,C,z,le,we)},v.authTokenProvider_,v.appCheckProvider_),setTimeout(()=>Jn(v,!0),0);else{if(typeof f<"u"&&null!==f){if("object"!=typeof f)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,se.Wl)(f)}catch(C){throw new Error("Invalid authOverride provided: "+C)}}v.persistentConnection_=new Co(v.repoInfo_,h,(C,z,le,we)=>{Qn(v,C,z,le,we)},C=>{Jn(v,C)},C=>{!function Hn(v,h){Li(h,(f,C)=>{Un(v,f,C)})}(v,C)},v.authTokenProvider_,v.appCheckProvider_,f),v.server_=v.persistentConnection_}v.authTokenProvider_.addTokenChangeListener(C=>{v.server_.refreshAuthToken(C)}),v.appCheckProvider_.addTokenChangeListener(C=>{v.server_.refreshAppCheckToken(C.token)}),v.statsReporter_=function Be(v,h){const f=v.toString();return me[f]||(me[f]=h()),me[f]}(v.repoInfo_,()=>new so(v.stats_,v.server_)),v.infoData_=new lo,v.infoSyncTree_=new u({startListening:(C,z,le,we)=>{let ot=[];const $t=v.infoData_.getNode(C._path);return $t.isEmpty()||(ot=R(v.infoSyncTree_,C._path,$t),setTimeout(()=>{we("ok")},0)),ot},stopListening:()=>{}}),Un(v,"connected",!1),v.serverSyncTree_=new u({startListening:(C,z,le,we)=>(v.server_.listen(C,le,z,(ot,$t)=>{const un=we(ot,$t);Si(v.eventQueue_,C._path,un)}),[]),stopListening:(C,z)=>{v.server_.unlisten(C,z)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new dl(this._repo,hr())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function Ch(v,h){const f=Sh[h];(!f||f[v.key]!==v)&&Ti(`Database ${h}(${v.repoInfo_}) has already been deleted.`),tc(v),delete f[v.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(h){null===this._rootInternal&&Ti("Cannot call "+h+" on a deleted database.")}}function Ad(){Es.IS_TRANSPORT_INITIALIZED&&Di("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function Ih(){Ad(),mr.forceDisallow()}function Wc(){Ad(),ws.forceDisallow(),mr.forceAllow()}function uu(v,h){Dn(v,h)}const Dh={".sv":"timestamp"};class Md{constructor(h,f){this.committed=h,this.snapshot=f}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}Co.prototype.simpleListen=function(v,h){this.sendRequest("q",{p:v},h)},Co.prototype.echo=function(v,h){this.sendRequest("echo",{d:v},h)},function Rf(v){ct(tt.SDK_VERSION),(0,tt._registerComponent)(new Jt.wA("database",(h,{instanceIdentifier:f})=>Zu(h.getProvider("app").getImmediate(),h.getProvider("auth-internal"),h.getProvider("app-check-internal"),f),"PUBLIC").setMultipleInstances(!0)),(0,tt.registerVersion)(Tt,"0.14.4",v),(0,tt.registerVersion)(Tt,"0.14.4","esm2017")}();const Tu=new Vt.Yd("@firebase/database-compat"),Gc=function(v){Tu.warn("FIREBASE WARNING: "+v)};class pl{constructor(h){this._delegate=h}cancel(h){(0,se.Dv)("OnDisconnect.cancel",0,1,arguments.length),(0,se.Wj)("OnDisconnect.cancel","onComplete",h,!0);const f=this._delegate.cancel();return h&&f.then(()=>h(null),C=>h(C)),f}remove(h){(0,se.Dv)("OnDisconnect.remove",0,1,arguments.length),(0,se.Wj)("OnDisconnect.remove","onComplete",h,!0);const f=this._delegate.remove();return h&&f.then(()=>h(null),C=>h(C)),f}set(h,f){(0,se.Dv)("OnDisconnect.set",1,2,arguments.length),(0,se.Wj)("OnDisconnect.set","onComplete",f,!0);const C=this._delegate.set(h);return f&&C.then(()=>f(null),z=>f(z)),C}setWithPriority(h,f,C){(0,se.Dv)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,se.Wj)("OnDisconnect.setWithPriority","onComplete",C,!0);const z=this._delegate.setWithPriority(h,f);return C&&z.then(()=>C(null),le=>C(le)),z}update(h,f){if((0,se.Dv)("OnDisconnect.update",1,2,arguments.length),Array.isArray(h)){const z={};for(let le=0;le<h.length;++le)z[""+le]=h[le];h=z,Gc("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,se.Wj)("OnDisconnect.update","onComplete",f,!0);const C=this._delegate.update(h);return f&&C.then(()=>f(null),z=>f(z)),C}}class Od{constructor(h,f){this.committed=h,this.snapshot=f}toJSON(){return(0,se.Dv)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}class kc{constructor(h,f){this._database=h,this._delegate=f}val(){return(0,se.Dv)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return(0,se.Dv)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return(0,se.Dv)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return(0,se.Dv)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(h){return(0,se.Dv)("DataSnapshot.child",0,1,arguments.length),h=String(h),Xt("DataSnapshot.child","path",h,!1),new kc(this._database,this._delegate.child(h))}hasChild(h){return(0,se.Dv)("DataSnapshot.hasChild",1,1,arguments.length),Xt("DataSnapshot.hasChild","path",h,!1),this._delegate.hasChild(h)}getPriority(){return(0,se.Dv)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(h){return(0,se.Dv)("DataSnapshot.forEach",1,1,arguments.length),(0,se.Wj)("DataSnapshot.forEach","action",h,!1),this._delegate.forEach(f=>h(new kc(this._database,f)))}hasChildren(){return(0,se.Dv)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return(0,se.Dv)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return(0,se.Dv)("DataSnapshot.ref",0,0,arguments.length),new ll(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class gl{constructor(h,f){this.database=h,this._delegate=f}on(h,f,C,z){var le;(0,se.Dv)("Query.on",2,4,arguments.length),(0,se.Wj)("Query.on","callback",f,!1);const we=gl.getCancelAndContextArgs_("Query.on",C,z),ot=(un,hi)=>{f.call(we.context,new kc(this.database,un),hi)};ot.userCallback=f,ot.context=we.context;const $t=null===(le=we.cancel)||void 0===le?void 0:le.bind(we.context);switch(h){case"value":return Eu(this._delegate,ot,$t),f;case"child_added":return al(this._delegate,ot,$t),f;case"child_removed":return Oc(this._delegate,ot,$t),f;case"child_changed":return hc(this._delegate,ot,$t),f;case"child_moved":return Id(this._delegate,ot,$t),f;default:throw new Error((0,se.gK)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(h,f,C){if((0,se.Dv)("Query.off",0,3,arguments.length),function(v,h,f){if(void 0!==h)switch(h){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,se.gK)("Query.off","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}(0,h),(0,se.Wj)("Query.off","callback",f,!0),(0,se.lb)("Query.off","context",C,!0),f){const z=()=>{};z.userCallback=f,z.context=C,yh(this._delegate,h,z)}else yh(this._delegate,h)}get(){return Df(this._delegate).then(h=>new kc(this.database,h))}once(h,f,C,z){(0,se.Dv)("Query.once",1,4,arguments.length),(0,se.Wj)("Query.once","callback",f,!0);const le=gl.getCancelAndContextArgs_("Query.once",C,z),we=new se.BH,ot=(un,hi)=>{const pi=new kc(this.database,un);f&&f.call(le.context,pi,hi),we.resolve(pi)};ot.userCallback=f,ot.context=le.context;const $t=un=>{le.cancel&&le.cancel.call(le.context,un),we.reject(un)};switch(h){case"value":Eu(this._delegate,ot,$t,{onlyOnce:!0});break;case"child_added":al(this._delegate,ot,$t,{onlyOnce:!0});break;case"child_removed":Oc(this._delegate,ot,$t,{onlyOnce:!0});break;case"child_changed":hc(this._delegate,ot,$t,{onlyOnce:!0});break;case"child_moved":Id(this._delegate,ot,$t,{onlyOnce:!0});break;default:throw new Error((0,se.gK)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return we.promise}limitToFirst(h){return(0,se.Dv)("Query.limitToFirst",1,1,arguments.length),new gl(this.database,ac(this._delegate,function Yu(v){if("number"!=typeof v||Math.floor(v)!==v||v<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new Mf(v)}(h)))}limitToLast(h){return(0,se.Dv)("Query.limitToLast",1,1,arguments.length),new gl(this.database,ac(this._delegate,function Vp(v){if("number"!=typeof v||Math.floor(v)!==v||v<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new Ku(v)}(h)))}orderByChild(h){return(0,se.Dv)("Query.orderByChild",1,1,arguments.length),new gl(this.database,ac(this._delegate,function jc(v){if("$key"===v)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===v)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===v)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return Xt("orderByChild","path",v,!1),new Td(v)}(h)))}orderByKey(){return(0,se.Dv)("Query.orderByKey",0,0,arguments.length),new gl(this.database,ac(this._delegate,function lu(){return new Ac}()))}orderByPriority(){return(0,se.Dv)("Query.orderByPriority",0,0,arguments.length),new gl(this.database,ac(this._delegate,function bh(){return new qu}()))}orderByValue(){return(0,se.Dv)("Query.orderByValue",0,0,arguments.length),new gl(this.database,ac(this._delegate,function Iu(){return new Hc}()))}startAt(h=null,f){return(0,se.Dv)("Query.startAt",0,2,arguments.length),new gl(this.database,ac(this._delegate,function Ya(v=null,h){return pn("startAt","key",h,!0),new xf(v,h)}(h,f)))}startAfter(h=null,f){return(0,se.Dv)("Query.startAfter",0,2,arguments.length),new gl(this.database,ac(this._delegate,function Cu(v,h){return pn("startAfter","key",h,!0),new Su(v,h)}(h,f)))}endAt(h=null,f){return(0,se.Dv)("Query.endAt",0,2,arguments.length),new gl(this.database,ac(this._delegate,function _h(v,h){return pn("endAt","key",h,!0),new vh(v,h)}(h,f)))}endBefore(h=null,f){return(0,se.Dv)("Query.endBefore",0,2,arguments.length),new gl(this.database,ac(this._delegate,function Af(v,h){return pn("endBefore","key",h,!0),new Gu(v,h)}(h,f)))}equalTo(h,f){return(0,se.Dv)("Query.equalTo",1,2,arguments.length),new gl(this.database,ac(this._delegate,function Eh(v,h){return pn("equalTo","key",h,!0),new wh(v,h)}(h,f)))}toString(){return(0,se.Dv)("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return(0,se.Dv)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(h){if((0,se.Dv)("Query.isEqual",1,1,arguments.length),!(h instanceof gl))throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");return this._delegate.isEqual(h._delegate)}static getCancelAndContextArgs_(h,f,C){const z={cancel:void 0,context:void 0};if(f&&C)z.cancel=f,(0,se.Wj)(h,"cancel",z.cancel,!0),z.context=C,(0,se.lb)(h,"context",z.context,!0);else if(f)if("object"==typeof f&&null!==f)z.context=f;else{if("function"!=typeof f)throw new Error((0,se.gK)(h,"cancelOrContext")+" must either be a cancel callback or a context object.");z.cancel=f}return z}get ref(){return new ll(this.database,new dl(this._delegate._repo,this._delegate._path))}}class ll extends gl{constructor(h,f){super(h,new ka(f._repo,f._path,new Nn,!1)),this.database=h,this._delegate=f}getKey(){return(0,se.Dv)("Reference.key",0,0,arguments.length),this._delegate.key}child(h){return(0,se.Dv)("Reference.child",1,1,arguments.length),"number"==typeof h&&(h=String(h)),new ll(this.database,rc(this._delegate,h))}getParent(){(0,se.Dv)("Reference.parent",0,0,arguments.length);const h=this._delegate.parent;return h?new ll(this.database,h):null}getRoot(){return(0,se.Dv)("Reference.root",0,0,arguments.length),new ll(this.database,this._delegate.root)}set(h,f){(0,se.Dv)("Reference.set",1,2,arguments.length),(0,se.Wj)("Reference.set","onComplete",f,!0);const C=ph(this._delegate,h);return f&&C.then(()=>f(null),z=>f(z)),C}update(h,f){if((0,se.Dv)("Reference.update",1,2,arguments.length),Array.isArray(h)){const z={};for(let le=0;le<h.length;++le)z[""+le]=h[le];h=z,Gc("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Cn("Reference.update",this._delegate._path),(0,se.Wj)("Reference.update","onComplete",f,!0);const C=Tf(this._delegate,h);return f&&C.then(()=>f(null),z=>f(z)),C}setWithPriority(h,f,C){(0,se.Dv)("Reference.setWithPriority",2,3,arguments.length),(0,se.Wj)("Reference.setWithPriority","onComplete",C,!0);const z=function mh(v,h,f){if(Cn("setWithPriority",v._path),yt("setWithPriority",h,v._path,!1),sn("setWithPriority",f,!1),".length"===v.key||".keys"===v.key)throw"setWithPriority failed: "+v.key+" is a read-only object.";const C=new se.BH;return ro(v._repo,v._path,h,f,C.wrapCallback(()=>{})),C.promise}(this._delegate,h,f);return C&&z.then(()=>C(null),le=>C(le)),z}remove(h){(0,se.Dv)("Reference.remove",0,1,arguments.length),(0,se.Wj)("Reference.remove","onComplete",h,!0);const f=function mo(v){return Cn("remove",v._path),ph(v,null)}(this._delegate);return h&&f.then(()=>h(null),C=>h(C)),f}transaction(h,f,C){(0,se.Dv)("Reference.transaction",1,3,arguments.length),(0,se.Wj)("Reference.transaction","transactionUpdate",h,!1),(0,se.Wj)("Reference.transaction","onComplete",f,!0),function(v,h,f,C){if(void 0!==f&&"boolean"!=typeof f)throw new Error((0,se.gK)("Reference.transaction","applyLocally")+"must be a boolean.")}(0,0,C);const z=function xh(v,h,f){var C;if(v=(0,se.m9)(v),Cn("Reference.transaction",v._path),".length"===v.key||".keys"===v.key)throw"Reference.transaction failed: "+v.key+" is a read-only object.";const z=null===(C=null==f?void 0:f.applyLocally)||void 0===C||C,le=new se.BH,ot=Eu(v,()=>{});return function Cc(v,h,f,C,z,le){wl(v,"transaction on "+h);const we={path:h,update:f,onComplete:C,status:null,order:vn(),applyLocally:le,retryCount:0,unwatcher:z,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},ot=uc(v,h,void 0);we.currentInputSnapshot=ot;const $t=we.update(ot.val());if(void 0===$t)we.unwatcher(),we.currentOutputSnapshotRaw=null,we.currentOutputSnapshotResolved=null,we.onComplete&&we.onComplete(null,!1,we.currentInputSnapshot);else{vt("transaction failed: Data returned ",$t,we.path),we.status=0;const un=Ta(v.transactionQueueTree_,h),hi=sl(un)||[];let pi;hi.push(we),_l(un,hi),"object"==typeof $t&&null!==$t&&(0,se.r3)($t,".priority")?(pi=(0,se.DV)($t,".priority"),(0,se.hu)(lt(pi),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):pi=(Sn(v.serverSyncTree_,h)||ys.EMPTY_NODE).getPriority().val();const ki=bn(v),us=Ps($t,pi),Fs=Xl(us,ot,ki);we.currentOutputSnapshotRaw=us,we.currentOutputSnapshotResolved=Fs,we.currentWriteId=ei(v);const Zo=g(v.serverSyncTree_,h,Fs,we.currentWriteId,we.applyLocally);Si(v.eventQueue_,h,Zo),mc(v,v.transactionQueueTree_)}}(v._repo,v._path,h,($t,un,hi)=>{let pi=null;$t?le.reject($t):(pi=new El(hi,new dl(v._repo,v._path),gs),le.resolve(new Md(un,pi)))},ot,z),le.promise}(this._delegate,h,{applyLocally:C}).then(le=>new Od(le.committed,new kc(this.database,le.snapshot)));return f&&z.then(le=>f(null,le.committed,le.snapshot),le=>f(le,!1,null)),z}setPriority(h,f){(0,se.Dv)("Reference.setPriority",1,2,arguments.length),(0,se.Wj)("Reference.setPriority","onComplete",f,!0);const C=function gh(v,h){v=(0,se.m9)(v),Cn("setPriority",v._path),sn("setPriority",h,!1);const f=new se.BH;return ro(v._repo,Vr(v._path,".priority"),h,null,f.wrapCallback(()=>{})),f.promise}(this._delegate,h);return f&&C.then(()=>f(null),z=>f(z)),C}push(h,f){(0,se.Dv)("Reference.push",0,2,arguments.length),(0,se.Wj)("Reference.push","onComplete",f,!0);const C=function au(v,h){v=(0,se.m9)(v),Cn("push",v._path),yt("push",h,v._path,!0);const f=ci(v._repo),C=Ds(f),z=rc(v,C),le=rc(v,C);let we;return we=null!=h?ph(le,h).then(()=>le):Promise.resolve(le),z.then=we.then.bind(we),z.catch=we.then.bind(we,void 0),z}(this._delegate,h),z=C.then(we=>new ll(this.database,we));f&&z.then(()=>f(null),we=>f(we));const le=new ll(this.database,C);return le.then=z.then.bind(z),le.catch=z.catch.bind(z,void 0),le}onDisconnect(){return Cn("Reference.onDisconnect",this._delegate._path),new pl(new su(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}class Yc{constructor(h,f){this._delegate=h,this.app=f,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets:Ih,forceLongPolling:Wc}}useEmulator(h,f,C={}){!function cu(v,h,f,C={}){(v=(0,se.m9)(v))._checkNotDeleted("useEmulator"),v._instanceStarted&&Ti("Cannot call useEmulator() after instance has already been initialized.");const z=v._repoInternal;let le;if(z.repoInfo_.nodeAdmin)C.mockUserToken&&Ti('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),le=new nr(nr.OWNER);else if(C.mockUserToken){const we="string"==typeof C.mockUserToken?C.mockUserToken:(0,se.Sg)(C.mockUserToken,v.app.options.projectId);le=new nr(we)}!function oa(v,h,f,C){v.repoInfo_=new x(`${h}:${f}`,!1,v.repoInfo_.namespace,v.repoInfo_.webSocketOnly,v.repoInfo_.nodeAdmin,v.repoInfo_.persistenceKey,v.repoInfo_.includeNamespaceInQueryParams,!0),C&&(v.authTokenProvider_=C)}(z,h,f,le)}(this._delegate,h,f,C)}ref(h){if((0,se.Dv)("database.ref",0,1,arguments.length),h instanceof ll){const f=ou(this._delegate,h.toString());return new ll(this,f)}{const f=ic(this._delegate,h);return new ll(this,f)}}refFromURL(h){(0,se.Dv)("database.refFromURL",1,1,arguments.length);const C=ou(this._delegate,h);return new ll(this,C)}goOffline(){return(0,se.Dv)("database.goOffline",0,0,arguments.length),function Qu(v){(v=(0,se.m9)(v))._checkNotDeleted("goOffline"),tc(v._repo)}(this._delegate)}goOnline(){return(0,se.Dv)("database.goOnline",0,0,arguments.length),function xd(v){(v=(0,se.m9)(v))._checkNotDeleted("goOnline"),function nc(v){v.persistentConnection_&&v.persistentConnection_.resume(Pi)}(v._repo)}(this._delegate)}}Yc.ServerValue={TIMESTAMP:function Ah(){return Dh}(),increment:v=>function Of(v){return{".sv":{increment:v}}}(v)};var Kc=Object.freeze({__proto__:null,initStandalone:function Rh({app:v,url:h,version:f,customAuthImpl:C,namespace:z,nodeAdmin:le=!1}){ct(f);const we=new Jt.zt("auth-internal",new Jt.H0("database-standalone"));return we.setComponent(new Jt.wA("auth-internal",()=>C,"PRIVATE")),{instance:new Yc(Zu(v,we,void 0,h,le),v),namespace:z}}});const kd=Yc.ServerValue;!function du(v){v.INTERNAL.registerComponent(new Jt.wA("database-compat",(h,{instanceIdentifier:f})=>{const C=h.getProvider("app-compat").getImmediate(),z=h.getProvider("database").getImmediate({identifier:f});return new Yc(z,C)},"PUBLIC").setServiceProps({Reference:ll,Query:gl,Database:Yc,DataSnapshot:kc,enableLogging:uu,INTERNAL:Kc,ServerValue:kd}).setMultipleInstances(!0)),v.registerVersion("@firebase/database-compat","0.3.4")}(zt.Z);var Nc=Y(3385),zp=Y(2313),Rm=Y(9260);function Nf(v){return null==v}function hu(v){return"function"==typeof v.set}function fu(v,h){return hu(h)?h:v.ref(h)}function nd(v,h){if(function ed(v){return"string"==typeof v}(v))return h.stringCase();if(hu(v))return h.firebaseCase();if(function td(v){return"function"==typeof v.exportVal}(v))return h.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof v)}function Du(v,h,f="on",C=y.z){return new De.y(z=>{let le=null;return le=v[f](h,(we,ot)=>{C.schedule(()=>{z.next({snapshot:we,prevKey:ot})}),"once"===f&&C.schedule(()=>z.complete())},we=>{C.schedule(()=>z.error(we))}),"on"===f?{unsubscribe(){null!=le&&v.off(h,le)}}:{unsubscribe(){}}}).pipe((0,Ye.U)(z=>{const{snapshot:le,prevKey:we}=z;let ot=null;return le.exists()&&(ot=le.key),{type:h,payload:le,prevKey:we,key:ot}}),(0,be.B)())}function kh(v,h){const f=v.length;for(let C=0;C<f;C++)if(v[C].payload.key===h)return C;return-1}function jp(v,h){const{payload:f,prevKey:C,key:z}=h,le=kh(v,z),we=function Lf(v,h){if(Nf(h))return 0;{const f=kh(v,h);return-1===f?v.length:f+1}}(v,C);switch(h.type){case"value":if(h.payload&&h.payload.exists()){let ot=null;h.payload.forEach($t=>{const un={payload:$t,type:"value",prevKey:ot,key:$t.key};return ot=$t.key,v=[...v,un],!1})}return v;case"child_added":if(le>-1){const ot=v[le-1];(ot&&ot.key||null)!==C&&(v=v.filter($t=>$t.payload.key!==f.key)).splice(we,0,h)}else{if(null==C)return[h,...v];(v=v.slice()).splice(we,0,h)}return v;case"child_removed":return v.filter(ot=>ot.payload.key!==f.key);case"child_changed":return v.map(ot=>ot.payload.key===z?h:ot);case"child_moved":if(le>-1){const ot=v.splice(le,1)[0];return(v=v.slice()).splice(we,0,ot),v}return v;default:return v}}function Lc(v){return(Nf(v)||0===v.length)&&(v=["child_added","child_removed","child_changed","child_moved"]),v}function pu(v,h,f){return function Oh(v,h,f){return Du(v,"value","once",f).pipe((0,$e.w)(C=>{const z=[(0,ze.of)(C)];return h.forEach(le=>z.push(Du(v,le,"on",f))),(0,dt.T)(...z).pipe((0,Ke.R)(jp,[]))}),(0,Ue.x)())}(v,h=Lc(h),f)}function Nh(v,h,f){const C=(h=Lc(h)).map(z=>Du(v,z,"on",f));return(0,dt.T)(...C)}function Lh(v,h){return function(C,z){return nd(C,{stringCase:()=>v.child(C)[h](z),firebaseCase:()=>C[h](z),snapshotCase:()=>C.ref[h](z)})}}function Om(v){return function(f){return f?nd(f,{stringCase:()=>v.child(f).remove(),firebaseCase:()=>f.remove(),snapshotCase:()=>f.ref.remove()}):v.remove()}}function Nd(v,h){return function(){return Du(v,"value","on",h)}}const xu=new c.OlP("angularfire2.realtimeDatabaseURL"),qc=new c.OlP("angularfire2.database.use-emulator");let Mu=(()=>{class v{constructor(f,C,z,le,we,ot,$t,un,hi,pi,ki,us,Fs,Zo,Ka){this.schedulers=ot;const Vl=$t,xc=(0,It.on)(f,we,C);un&&(0,Nc.nw)(xc,we,hi,ki,us,Fs,pi,Zo),this.database=(0,It.cc)(`${xc.name}.database.${z}`,"AngularFireDatabase",xc.name,()=>{const Pu=we.runOutsideAngular(()=>xc.database(z||void 0));return Vl&&Pu.useEmulator(...Vl),Pu},[Vl])}list(f,C){const z=this.schedulers.ngZone.runOutsideAngular(()=>fu(this.database,f));let le=z;return C&&(le=C(z)),function Wp(v,h){const f=h.schedulers.outsideAngular,C=h.schedulers.ngZone.run(()=>v.ref);return{query:v,update:Lh(C,"update"),set:Lh(C,"set"),push:z=>C.push(z),remove:Om(C),snapshotChanges:z=>pu(v,z,f).pipe(on.iC),stateChanges:z=>Nh(v,z,f).pipe(on.iC),auditTrail:z=>function Hp(v,h,f){return function lc(v,h,f){return function Fc(v,h){return Du(v,"value","on",h).pipe((0,Ye.U)(f=>{let C;return f.payload.forEach(z=>(C=z.key,!1)),{data:f,lastKeyToLoad:C}}))}(v,f).pipe(function nt(...v){const h=(0,an.jO)(v);return(0,Re.e)((f,C)=>{const z=v.length,le=new Array(z);let we=v.map(()=>!1),ot=!1;for(let $t=0;$t<z;$t++)(0,Le.Xf)(v[$t]).subscribe((0,Xe.x)(C,un=>{le[$t]=un,!ot&&!we[$t]&&(we[$t]=!0,(ot=we.every(Qe.y))&&(we=null))},At.Z));f.subscribe((0,Xe.x)(C,$t=>{if(ot){const un=[$t,...le];C.next(h?h(...un):un)}}))})}(h),(0,Ye.U)(([z,le])=>{const we=z.lastKeyToLoad,ot=le.map($t=>$t.key);return{actions:le,lastKeyToLoad:we,loadedKeys:ot}}),function Ze(v){return(0,Re.e)((h,f)=>{let C=!1,z=0;h.subscribe((0,Xe.x)(f,le=>(C||(C=!v(le,z++)))&&f.next(le)))})}(z=>-1===z.loadedKeys.indexOf(z.lastKeyToLoad)),(0,Ye.U)(z=>z.actions))}(v,Nh(v,h).pipe((0,Ke.R)((z,le)=>[...z,le],[])),f)}(v,z,f).pipe(on.iC),valueChanges:(z,le)=>pu(v,z,f).pipe((0,Ye.U)(ot=>ot.map($t=>le&&le.idField?Object.assign(Object.assign({},$t.payload.val()),{[le.idField]:$t.key}):$t.payload.val())),on.iC)}}(le,this)}object(f){return function Au(v,h){return{query:v,snapshotChanges:()=>Nd(v,h.schedulers.outsideAngular)().pipe(on.iC),update:f=>v.ref.update(f),set:f=>v.ref.set(f),remove:()=>v.ref.remove(),valueChanges:()=>Nd(v,h.schedulers.outsideAngular)().pipe(on.iC,(0,Ye.U)(C=>C.payload.exists()?C.payload.val():null))}}(this.schedulers.ngZone.runOutsideAngular(()=>fu(this.database,f)),this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}}return v.\u0275fac=function(f){return new(f||v)(c.LFG(It.Dh),c.LFG(It.xv,8),c.LFG(xu,8),c.LFG(c.Lbi),c.LFG(c.R0b),c.LFG(on.HU),c.LFG(qc,8),c.LFG(Nc.zQ,8),c.LFG(Nc.Qv,8),c.LFG(Nc.L6,8),c.LFG(Nc._Q,8),c.LFG(Nc.rT,8),c.LFG(Nc.lh,8),c.LFG(Nc.f7,8),c.LFG(zp.nm,8))},v.\u0275prov=c.Yz7({token:v,factory:v.\u0275fac,providedIn:"any"}),v})(),Ff=(()=>{class v{constructor(){Rm.Z.registerVersion("angularfire",on.q4.full,"rtdb-compat")}}return v.\u0275fac=function(f){return new(f||v)},v.\u0275mod=c.oAB({type:v}),v.\u0275inj=c.cJS({providers:[Mu]}),v})()},1085:(Ii,ln,Y)=>{"use strict";Y.d(ln,{ST:()=>is,yb:()=>nr});var c=Y(2223),y=Y(4986),De=Y(9751),ze=Y(8996),dt=Y(9646),Ye=Y(3324),be=Y(8675),$e=Y(1520),Ke=Y(4004),Ue=Y(5026),Re=Y(1884),Xe=Y(9300),Le=Y(2011),Qe=Y(4755),an=(Y(9568),Y(3942)),nt=Y(2810),Ze=Y(2090),on=Y(4859);function zt(zn,Ge){if(void 0===Ge)return{merge:!1};if(void 0!==Ge.mergeFields&&void 0!==Ge.merge)throw new nt.WA("invalid-argument",`Invalid options passed to function ${zn}(): You cannot specify both "merge" and "mergeFields".`);return Ge}function Jt(){if(typeof Uint8Array>"u")throw new nt.WA("unimplemented","Uint8Arrays are not available in this environment.")}function Yt(){if(!(0,nt.Me)())throw new nt.WA("unimplemented","Blobs are unavailable in Firestore in this environment.")}class tt{constructor(Ge){this._delegate=Ge}static fromBase64String(Ge){return Yt(),new tt(nt.Jj.fromBase64String(Ge))}static fromUint8Array(Ge){return Jt(),new tt(nt.Jj.fromUint8Array(Ge))}toBase64(){return Yt(),this._delegate.toBase64()}toUint8Array(){return Jt(),this._delegate.toUint8Array()}isEqual(Ge){return this._delegate.isEqual(Ge._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function se(zn){return function Vt(zn,Ge){if("object"!=typeof zn||null===zn)return!1;const Mt=zn;for(const _n of Ge)if(_n in Mt&&"function"==typeof Mt[_n])return!0;return!1}(zn,["next","error","complete"])}class Tt{enableIndexedDbPersistence(Ge,Mt){return(0,nt.ST)(Ge._delegate,{forceOwnership:Mt})}enableMultiTabIndexedDbPersistence(Ge){return(0,nt.fH)(Ge._delegate)}clearIndexedDbPersistence(Ge){return(0,nt.Fc)(Ge._delegate)}}class tn{constructor(Ge,Mt,_n){this._delegate=Mt,this._persistenceProvider=_n,this.INTERNAL={delete:()=>this.terminate()},Ge instanceof nt.l7||(this._appCompat=Ge)}get _databaseId(){return this._delegate._databaseId}settings(Ge){const Mt=this._delegate._getSettings();!Ge.merge&&Mt.host!==Ge.host&&(0,nt.yq)("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),Ge.merge&&delete(Ge=Object.assign(Object.assign({},Mt),Ge)).merge,this._delegate._setSettings(Ge)}useEmulator(Ge,Mt,_n={}){(0,nt.at)(this._delegate,Ge,Mt,_n)}enableNetwork(){return(0,nt.Ix)(this._delegate)}disableNetwork(){return(0,nt.TF)(this._delegate)}enablePersistence(Ge){let Mt=!1,_n=!1;return Ge&&(Mt=!!Ge.synchronizeTabs,_n=!!Ge.experimentalForceOwningTab,(0,nt.Wi)("synchronizeTabs",Mt,"experimentalForceOwningTab",_n)),Mt?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,_n)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return(0,nt.Mx)(this._delegate)}onSnapshotsInSync(Ge){return(0,nt.sc)(this._delegate,Ge)}get app(){if(!this._appCompat)throw new nt.WA("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(Ge){try{return new Nt(this,(0,nt.hJ)(this._delegate,Ge))}catch(Mt){throw Je(Mt,"collection()","Firestore.collection()")}}doc(Ge){try{return new ft(this,(0,nt.JU)(this._delegate,Ge))}catch(Mt){throw Je(Mt,"doc()","Firestore.doc()")}}collectionGroup(Ge){try{return new Gt(this,(0,nt.B$)(this._delegate,Ge))}catch(Mt){throw Je(Mt,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(Ge){return(0,nt.i3)(this._delegate,Mt=>Ge(new et(this,Mt)))}batch(){return(0,nt.qY)(this._delegate),new wt(new nt.PU(this._delegate,Ge=>(0,nt.GL)(this._delegate,Ge)))}loadBundle(Ge){return(0,nt.Pb)(this._delegate,Ge)}namedQuery(Ge){return(0,nt.L$)(this._delegate,Ge).then(Mt=>Mt?new Gt(this,Mt):null)}}class dn extends nt.u7{constructor(Ge){super(),this.firestore=Ge}convertBytes(Ge){return new tt(new nt.Jj(Ge))}convertReference(Ge){const Mt=this.convertDocumentKey(Ge,this.firestore._databaseId);return ft.forKey(Mt,this.firestore,null)}}class et{constructor(Ge,Mt){this._firestore=Ge,this._delegate=Mt,this._userDataWriter=new dn(Ge)}get(Ge){const Mt=On(Ge);return this._delegate.get(Mt).then(_n=>new qt(this._firestore,new nt.xU(this._firestore._delegate,this._userDataWriter,_n._key,_n._document,_n.metadata,Mt.converter)))}set(Ge,Mt,_n){const Gn=On(Ge);return _n?(zt("Transaction.set",_n),this._delegate.set(Gn,Mt,_n)):this._delegate.set(Gn,Mt),this}update(Ge,Mt,_n,...Gn){const mi=On(Ge);return 2===arguments.length?this._delegate.update(mi,Mt):this._delegate.update(mi,Mt,_n,...Gn),this}delete(Ge){const Mt=On(Ge);return this._delegate.delete(Mt),this}}class wt{constructor(Ge){this._delegate=Ge}set(Ge,Mt,_n){const Gn=On(Ge);return _n?(zt("WriteBatch.set",_n),this._delegate.set(Gn,Mt,_n)):this._delegate.set(Gn,Mt),this}update(Ge,Mt,_n,...Gn){const mi=On(Ge);return 2===arguments.length?this._delegate.update(mi,Mt):this._delegate.update(mi,Mt,_n,...Gn),this}delete(Ge){const Mt=On(Ge);return this._delegate.delete(Mt),this}commit(){return this._delegate.commit()}}class Ot{constructor(Ge,Mt,_n){this._firestore=Ge,this._userDataWriter=Mt,this._delegate=_n}fromFirestore(Ge,Mt){const _n=new nt.$q(this._firestore._delegate,this._userDataWriter,Ge._key,Ge._document,Ge.metadata,null);return this._delegate.fromFirestore(new xn(this._firestore,_n),null!=Mt?Mt:{})}toFirestore(Ge,Mt){return Mt?this._delegate.toFirestore(Ge,Mt):this._delegate.toFirestore(Ge)}static getInstance(Ge,Mt){const _n=Ot.INSTANCES;let Gn=_n.get(Ge);Gn||(Gn=new WeakMap,_n.set(Ge,Gn));let mi=Gn.get(Mt);return mi||(mi=new Ot(Ge,new dn(Ge),Mt),Gn.set(Mt,mi)),mi}}Ot.INSTANCES=new WeakMap;class ft{constructor(Ge,Mt){this.firestore=Ge,this._delegate=Mt,this._userDataWriter=new dn(Ge)}static forPath(Ge,Mt,_n){if(Ge.length%2!=0)throw new nt.WA("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${Ge.canonicalString()} has ${Ge.length}`);return new ft(Mt,new nt.my(Mt._delegate,_n,new nt.Ky(Ge)))}static forKey(Ge,Mt,_n){return new ft(Mt,new nt.my(Mt._delegate,_n,Ge))}get id(){return this._delegate.id}get parent(){return new Nt(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(Ge){try{return new Nt(this.firestore,(0,nt.hJ)(this._delegate,Ge))}catch(Mt){throw Je(Mt,"collection()","DocumentReference.collection()")}}isEqual(Ge){return(Ge=(0,Ze.m9)(Ge))instanceof nt.my&&(0,nt.Eo)(this._delegate,Ge)}set(Ge,Mt){Mt=zt("DocumentReference.set",Mt);try{return Mt?(0,nt.pl)(this._delegate,Ge,Mt):(0,nt.pl)(this._delegate,Ge)}catch(_n){throw Je(_n,"setDoc()","DocumentReference.set()")}}update(Ge,Mt,..._n){try{return 1===arguments.length?(0,nt.r7)(this._delegate,Ge):(0,nt.r7)(this._delegate,Ge,Mt,..._n)}catch(Gn){throw Je(Gn,"updateDoc()","DocumentReference.update()")}}delete(){return(0,nt.oe)(this._delegate)}onSnapshot(...Ge){const Mt=Et(Ge),_n=vn(Ge,Gn=>new qt(this.firestore,new nt.xU(this.firestore._delegate,this._userDataWriter,Gn._key,Gn._document,Gn.metadata,this._delegate.converter)));return(0,nt.cf)(this._delegate,Mt,_n)}get(Ge){let Mt;return Mt="cache"===(null==Ge?void 0:Ge.source)?(0,nt.kl)(this._delegate):"server"===(null==Ge?void 0:Ge.source)?(0,nt.Xk)(this._delegate):(0,nt.QT)(this._delegate),Mt.then(_n=>new qt(this.firestore,new nt.xU(this.firestore._delegate,this._userDataWriter,_n._key,_n._document,_n.metadata,this._delegate.converter)))}withConverter(Ge){return new ft(this.firestore,this._delegate.withConverter(Ge?Ot.getInstance(this.firestore,Ge):null))}}function Je(zn,Ge,Mt){return zn.message=zn.message.replace(Ge,Mt),zn}function Et(zn){for(const Ge of zn)if("object"==typeof Ge&&!se(Ge))return Ge;return{}}function vn(zn,Ge){var Mt,_n;let Gn;return Gn=se(zn[0])?zn[0]:se(zn[1])?zn[1]:"function"==typeof zn[0]?{next:zn[0],error:zn[1],complete:zn[2]}:{next:zn[1],error:zn[2],complete:zn[3]},{next:mi=>{Gn.next&&Gn.next(Ge(mi))},error:null===(Mt=Gn.error)||void 0===Mt?void 0:Mt.bind(Gn),complete:null===(_n=Gn.complete)||void 0===_n?void 0:_n.bind(Gn)}}class qt{constructor(Ge,Mt){this._firestore=Ge,this._delegate=Mt}get ref(){return new ft(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(Ge){return this._delegate.data(Ge)}get(Ge,Mt){return this._delegate.get(Ge,Mt)}isEqual(Ge){return(0,nt.qK)(this._delegate,Ge._delegate)}}class xn extends qt{data(Ge){const Mt=this._delegate.data(Ge);return(0,nt.K9)(void 0!==Mt,"Document in a QueryDocumentSnapshot should exist"),Mt}}class Gt{constructor(Ge,Mt){this.firestore=Ge,this._delegate=Mt,this._userDataWriter=new dn(Ge)}where(Ge,Mt,_n){try{return new Gt(this.firestore,(0,nt.IO)(this._delegate,(0,nt.ar)(Ge,Mt,_n)))}catch(Gn){throw Je(Gn,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(Ge,Mt){try{return new Gt(this.firestore,(0,nt.IO)(this._delegate,(0,nt.Xo)(Ge,Mt)))}catch(_n){throw Je(_n,/(orderBy|where)\(\)/,"Query.$1()")}}limit(Ge){try{return new Gt(this.firestore,(0,nt.IO)(this._delegate,(0,nt.b9)(Ge)))}catch(Mt){throw Je(Mt,"limit()","Query.limit()")}}limitToLast(Ge){try{return new Gt(this.firestore,(0,nt.IO)(this._delegate,(0,nt.vh)(Ge)))}catch(Mt){throw Je(Mt,"limitToLast()","Query.limitToLast()")}}startAt(...Ge){try{return new Gt(this.firestore,(0,nt.IO)(this._delegate,(0,nt.e0)(...Ge)))}catch(Mt){throw Je(Mt,"startAt()","Query.startAt()")}}startAfter(...Ge){try{return new Gt(this.firestore,(0,nt.IO)(this._delegate,(0,nt.TQ)(...Ge)))}catch(Mt){throw Je(Mt,"startAfter()","Query.startAfter()")}}endBefore(...Ge){try{return new Gt(this.firestore,(0,nt.IO)(this._delegate,(0,nt.Lx)(...Ge)))}catch(Mt){throw Je(Mt,"endBefore()","Query.endBefore()")}}endAt(...Ge){try{return new Gt(this.firestore,(0,nt.IO)(this._delegate,(0,nt.Wu)(...Ge)))}catch(Mt){throw Je(Mt,"endAt()","Query.endAt()")}}isEqual(Ge){return(0,nt.iE)(this._delegate,Ge._delegate)}get(Ge){let Mt;return Mt="cache"===(null==Ge?void 0:Ge.source)?(0,nt.UQ)(this._delegate):"server"===(null==Ge?void 0:Ge.source)?(0,nt.zN)(this._delegate):(0,nt.PL)(this._delegate),Mt.then(_n=>new Dn(this.firestore,new nt.W(this.firestore._delegate,this._userDataWriter,this._delegate,_n._snapshot)))}onSnapshot(...Ge){const Mt=Et(Ge),_n=vn(Ge,Gn=>new Dn(this.firestore,new nt.W(this.firestore._delegate,this._userDataWriter,this._delegate,Gn._snapshot)));return(0,nt.cf)(this._delegate,Mt,_n)}withConverter(Ge){return new Gt(this.firestore,this._delegate.withConverter(Ge?Ot.getInstance(this.firestore,Ge):null))}}class li{constructor(Ge,Mt){this._firestore=Ge,this._delegate=Mt}get type(){return this._delegate.type}get doc(){return new xn(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class Dn{constructor(Ge,Mt){this._firestore=Ge,this._delegate=Mt}get query(){return new Gt(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(Ge=>new xn(this._firestore,Ge))}docChanges(Ge){return this._delegate.docChanges(Ge).map(Mt=>new li(this._firestore,Mt))}forEach(Ge,Mt){this._delegate.forEach(_n=>{Ge.call(Mt,new xn(this._firestore,_n))})}isEqual(Ge){return(0,nt.qK)(this._delegate,Ge._delegate)}}class Nt extends Gt{constructor(Ge,Mt){super(Ge,Mt),this.firestore=Ge,this._delegate=Mt}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const Ge=this._delegate.parent;return Ge?new ft(this.firestore,Ge):null}doc(Ge){try{return new ft(this.firestore,void 0===Ge?(0,nt.JU)(this._delegate):(0,nt.JU)(this._delegate,Ge))}catch(Mt){throw Je(Mt,"doc()","CollectionReference.doc()")}}add(Ge){return(0,nt.ET)(this._delegate,Ge).then(Mt=>new ft(this.firestore,Mt))}isEqual(Ge){return(0,nt.Eo)(this._delegate,Ge._delegate)}withConverter(Ge){return new Nt(this.firestore,this._delegate.withConverter(Ge?Ot.getInstance(this.firestore,Ge):null))}}function On(zn){return(0,nt.Cf)(zn,nt.my)}class Vn{constructor(...Ge){this._delegate=new nt.Lz(...Ge)}static documentId(){return new Vn(nt.Xb.keyField().canonicalString())}isEqual(Ge){return(Ge=(0,Ze.m9)(Ge))instanceof nt.Lz&&this._delegate._internalPath.isEqual(Ge._internalPath)}}class Ti{constructor(Ge){this._delegate=Ge}static serverTimestamp(){const Ge=(0,nt.Bt)();return Ge._methodName="FieldValue.serverTimestamp",new Ti(Ge)}static delete(){const Ge=(0,nt.AK)();return Ge._methodName="FieldValue.delete",new Ti(Ge)}static arrayUnion(...Ge){const Mt=(0,nt.vr)(...Ge);return Mt._methodName="FieldValue.arrayUnion",new Ti(Mt)}static arrayRemove(...Ge){const Mt=(0,nt.Ab)(...Ge);return Mt._methodName="FieldValue.arrayRemove",new Ti(Mt)}static increment(Ge){const Mt=(0,nt.nP)(Ge);return Mt._methodName="FieldValue.increment",new Ti(Mt)}isEqual(Ge){return this._delegate.isEqual(Ge._delegate)}}const Di={Firestore:tn,GeoPoint:nt.F8,Timestamp:nt.EK,Blob:tt,Transaction:et,WriteBatch:wt,DocumentReference:ft,DocumentSnapshot:qt,Query:Gt,QueryDocumentSnapshot:xn,QuerySnapshot:Dn,CollectionReference:Nt,FieldPath:Vn,FieldValue:Ti,setLogLevel:function ct(zn){(0,nt.Ub)(zn)},CACHE_SIZE_UNLIMITED:nt.IX};!function Xn(zn){(function Vi(zn,Ge){zn.INTERNAL.registerComponent(new on.wA("firestore-compat",Mt=>{const _n=Mt.getProvider("app-compat").getImmediate(),Gn=Mt.getProvider("firestore").getImmediate();return Ge(_n,Gn)},"PUBLIC").setServiceProps(Object.assign({},Di)))})(zn,(Ge,Mt)=>new tn(Ge,Mt,new Tt)),zn.registerVersion("@firebase/firestore-compat","0.3.9")}(an.Z);var Ai=Y(3385),Ni=Y(2313),rr=Y(9260);function Ui(zn,Ge){return function fr(zn,Ge=y.z){return new De.y(Mt=>{let _n;return null!=Ge?Ge.schedule(()=>{_n=zn.onSnapshot({includeMetadataChanges:!0},Mt)}):_n=zn.onSnapshot({includeMetadataChanges:!0},Mt),()=>{null!=_n&&_n()}})}(zn,Ge)}function kr(zn,Ge){return Ui(zn,Ge).pipe((0,Ke.U)(Mt=>({payload:Mt,type:"query"})))}function Ar(zn,Ge){return kr(zn,Ge).pipe((0,be.O)(void 0),(0,$e.G)(),(0,Ke.U)(([Mt,_n])=>{const Gn=_n.payload.docChanges(),mi=Gn.map(Dr=>({type:Dr.type,payload:Dr}));return Mt&&JSON.stringify(Mt.payload.metadata)!==JSON.stringify(_n.payload.metadata)&&_n.payload.docs.forEach((Dr,pr)=>{const sr=Gn.find(B=>B.doc.ref.isEqual(Dr.ref)),Pt=null==Mt?void 0:Mt.payload.docs.find(B=>B.ref.isEqual(Dr.ref));sr&&JSON.stringify(sr.doc.metadata)===JSON.stringify(Dr.metadata)||!sr&&Pt&&JSON.stringify(Pt.metadata)===JSON.stringify(Dr.metadata)||mi.push({type:"modified",payload:{oldIndex:pr,newIndex:pr,type:"modified",doc:Dr}})}),mi}))}function Li(zn,Ge,Mt){return Ar(zn,Mt).pipe((0,Ue.R)((_n,Gn)=>function ps(zn,Ge,Mt){return Ge.forEach(_n=>{Mt.indexOf(_n.type)>-1&&(zn=function Bi(zn,Ge){switch(Ge.type){case"added":if(!zn[Ge.newIndex]||!zn[Ge.newIndex].doc.ref.isEqual(Ge.doc.ref))return Xr(zn,Ge.newIndex,0,Ge);break;case"modified":if(null==zn[Ge.oldIndex]||zn[Ge.oldIndex].doc.ref.isEqual(Ge.doc.ref)){if(Ge.oldIndex!==Ge.newIndex){const Mt=zn.slice();return Mt.splice(Ge.oldIndex,1),Mt.splice(Ge.newIndex,0,Ge),Mt}return Xr(zn,Ge.newIndex,1,Ge)}break;case"removed":if(zn[Ge.oldIndex]&&zn[Ge.oldIndex].doc.ref.isEqual(Ge.doc.ref))return Xr(zn,Ge.oldIndex,1)}return zn}(zn,_n))}),zn}(_n,Gn.map(mi=>mi.payload),Ge),[]),(0,Re.x)(),(0,Ke.U)(_n=>_n.map(Gn=>({type:Gn.type,payload:Gn}))))}function Xr(zn,Ge,Mt,..._n){const Gn=zn.slice();return Gn.splice(Ge,Mt,..._n),Gn}function Mi(zn){return(!zn||0===zn.length)&&(zn=["added","removed","modified"]),zn}class Zi{constructor(Ge,Mt,_n){this.ref=Ge,this.query=Mt,this.afs=_n}stateChanges(Ge){let Mt=Ar(this.query,this.afs.schedulers.outsideAngular);return Ge&&Ge.length>0&&(Mt=Mt.pipe((0,Ke.U)(_n=>_n.filter(Gn=>Ge.indexOf(Gn.type)>-1)))),Mt.pipe((0,be.O)(void 0),(0,$e.G)(),(0,Xe.h)(([_n,Gn])=>Gn.length>0||!_n),(0,Ke.U)(([_n,Gn])=>Gn),Ye.iC)}auditTrail(Ge){return this.stateChanges(Ge).pipe((0,Ue.R)((Mt,_n)=>[...Mt,..._n],[]))}snapshotChanges(Ge){const Mt=Mi(Ge);return Li(this.query,Mt,this.afs.schedulers.outsideAngular).pipe(Ye.iC)}valueChanges(Ge={}){return kr(this.query,this.afs.schedulers.outsideAngular).pipe((0,Ke.U)(Mt=>Mt.payload.docs.map(_n=>Ge.idField?Object.assign(Object.assign({},_n.data()),{[Ge.idField]:_n.id}):_n.data())),Ye.iC)}get(Ge){return(0,ze.D)(this.query.get(Ge)).pipe(Ye.iC)}add(Ge){return this.ref.add(Ge)}doc(Ge){return new Qr(this.ref.doc(Ge),this.afs)}}class Qr{constructor(Ge,Mt){this.ref=Ge,this.afs=Mt}set(Ge,Mt){return this.ref.set(Ge,Mt)}update(Ge){return this.ref.update(Ge)}delete(){return this.ref.delete()}collection(Ge,Mt){const _n=this.ref.collection(Ge),{ref:Gn,query:mi}=Hi(_n,Mt);return new Zi(Gn,mi,this.afs)}snapshotChanges(){return function ii(zn,Ge){return Ui(zn,Ge).pipe((0,be.O)(void 0),(0,$e.G)(),(0,Ke.U)(([Mt,_n])=>_n.exists?null!=Mt&&Mt.exists?{payload:_n,type:"modified"}:{payload:_n,type:"added"}:{payload:_n,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(Ye.iC)}valueChanges(Ge={}){return this.snapshotChanges().pipe((0,Ke.U)(({payload:Mt})=>Ge.idField?Object.assign(Object.assign({},Mt.data()),{[Ge.idField]:Mt.id}):Mt.data()))}get(Ge){return(0,ze.D)(this.ref.get(Ge)).pipe(Ye.iC)}}class Jr{constructor(Ge,Mt){this.query=Ge,this.afs=Mt}stateChanges(Ge){return Ge&&0!==Ge.length?Ar(this.query,this.afs.schedulers.outsideAngular).pipe((0,Ke.U)(Mt=>Mt.filter(_n=>Ge.indexOf(_n.type)>-1)),(0,Xe.h)(Mt=>Mt.length>0),Ye.iC):Ar(this.query,this.afs.schedulers.outsideAngular).pipe(Ye.iC)}auditTrail(Ge){return this.stateChanges(Ge).pipe((0,Ue.R)((Mt,_n)=>[...Mt,..._n],[]))}snapshotChanges(Ge){const Mt=Mi(Ge);return Li(this.query,Mt,this.afs.schedulers.outsideAngular).pipe(Ye.iC)}valueChanges(Ge={}){return kr(this.query,this.afs.schedulers.outsideAngular).pipe((0,Ke.U)(_n=>_n.payload.docs.map(Gn=>Ge.idField?Object.assign({[Ge.idField]:Gn.id},Gn.data()):Gn.data())),Ye.iC)}get(Ge){return(0,ze.D)(this.query.get(Ge)).pipe(Ye.iC)}}const Ir=new c.OlP("angularfire2.enableFirestorePersistence"),jr=new c.OlP("angularfire2.firestore.persistenceSettings"),ns=new c.OlP("angularfire2.firestore.settings"),tr=new c.OlP("angularfire2.firestore.use-emulator");function Hi(zn,Ge=(Mt=>Mt)){return{query:Ge(zn),ref:zn}}let is=(()=>{class zn{constructor(Mt,_n,Gn,mi,Dr,pr,sr,Pt,B,x,A,O,ne,ce,me,Ve,Be){this.schedulers=sr;const jt=(0,Le.on)(Mt,pr,_n),Lt=B;x&&(0,Ai.nw)(jt,pr,A,ne,ce,me,O,Ve),[this.firestore,this.persistenceEnabled$]=(0,Le.cc)(`${jt.name}.firestore`,"AngularFirestore",jt.name,()=>{const fn=pr.runOutsideAngular(()=>jt.firestore());if(mi&&fn.settings(mi),Lt&&fn.useEmulator(...Lt),Gn&&!(0,Qe.PM)(Dr)){const Wt=()=>{try{return(0,ze.D)(fn.enablePersistence(Pt||void 0).then(()=>!0,()=>!1))}catch(en){return typeof console<"u"&&console.warn(en),(0,dt.of)(!1)}};return[fn,pr.runOutsideAngular(Wt)]}return[fn,(0,dt.of)(!1)]},[mi,Lt,Gn])}collection(Mt,_n){let Gn;Gn="string"==typeof Mt?this.firestore.collection(Mt):Mt;const{ref:mi,query:Dr}=Hi(Gn,_n),pr=this.schedulers.ngZone.run(()=>mi);return new Zi(pr,Dr,this)}collectionGroup(Mt,_n){const Gn=_n||(Dr=>Dr),mi=this.firestore.collectionGroup(Mt);return new Jr(Gn(mi),this)}doc(Mt){let _n;_n="string"==typeof Mt?this.firestore.doc(Mt):Mt;const Gn=this.schedulers.ngZone.run(()=>_n);return new Qr(Gn,this)}createId(){return this.firestore.collection("_").doc().id}}return zn.\u0275fac=function(Mt){return new(Mt||zn)(c.LFG(Le.Dh),c.LFG(Le.xv,8),c.LFG(Ir,8),c.LFG(ns,8),c.LFG(c.Lbi),c.LFG(c.R0b),c.LFG(Ye.HU),c.LFG(jr,8),c.LFG(tr,8),c.LFG(Ai.zQ,8),c.LFG(Ai.Qv,8),c.LFG(Ai.L6,8),c.LFG(Ai._Q,8),c.LFG(Ai.rT,8),c.LFG(Ai.lh,8),c.LFG(Ai.f7,8),c.LFG(Ni.nm,8))},zn.\u0275prov=c.Yz7({token:zn,factory:zn.\u0275fac,providedIn:"any"}),zn})(),nr=(()=>{class zn{constructor(){rr.Z.registerVersion("angularfire",Ye.q4.full,"fst-compat")}static enablePersistence(Mt){return{ngModule:zn,providers:[{provide:Ir,useValue:!0},{provide:jr,useValue:Mt}]}}}return zn.\u0275fac=function(Mt){return new(Mt||zn)},zn.\u0275mod=c.oAB({type:zn}),zn.\u0275inj=c.cJS({providers:[is]}),zn})()},377:(Ii,ln,Y)=>{"use strict";Y.d(ln,{Q1:()=>Na,TE:()=>tl});var c=Y(9751),y=Y(9646),De=Y(8996),ze=Y(4986),dt=Y(4482),Ye=Y(5403),$e=Y(4004),Ke=Y(3900),Ue=Y(3324),Re=Y(2223),Xe=Y(2011),Le=Y(3942),Qe=Y(5861),At=Y(6881),an=Y(2090),nt=Y(4859);const Ze="firebasestorage.googleapis.com",on="storageBucket";class Jt extends an.ZR{constructor(_e,H,U=0){super(tt(_e),`Firebase Storage: ${H} (${tt(_e)})`),this.status_=U,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Jt.prototype)}get status(){return this.status_}set status(_e){this.status_=_e}_codeEquals(_e){return tt(_e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(_e){this.customData.serverResponse=_e,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}var Yt=(()=>((Yt=Yt||{}).UNKNOWN="unknown",Yt.OBJECT_NOT_FOUND="object-not-found",Yt.BUCKET_NOT_FOUND="bucket-not-found",Yt.PROJECT_NOT_FOUND="project-not-found",Yt.QUOTA_EXCEEDED="quota-exceeded",Yt.UNAUTHENTICATED="unauthenticated",Yt.UNAUTHORIZED="unauthorized",Yt.UNAUTHORIZED_APP="unauthorized-app",Yt.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",Yt.INVALID_CHECKSUM="invalid-checksum",Yt.CANCELED="canceled",Yt.INVALID_EVENT_NAME="invalid-event-name",Yt.INVALID_URL="invalid-url",Yt.INVALID_DEFAULT_BUCKET="invalid-default-bucket",Yt.NO_DEFAULT_BUCKET="no-default-bucket",Yt.CANNOT_SLICE_BLOB="cannot-slice-blob",Yt.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",Yt.NO_DOWNLOAD_URL="no-download-url",Yt.INVALID_ARGUMENT="invalid-argument",Yt.INVALID_ARGUMENT_COUNT="invalid-argument-count",Yt.APP_DELETED="app-deleted",Yt.INVALID_ROOT_OPERATION="invalid-root-operation",Yt.INVALID_FORMAT="invalid-format",Yt.INTERNAL_ERROR="internal-error",Yt.UNSUPPORTED_ENVIRONMENT="unsupported-environment",Yt))();function tt(Pe){return"storage/"+Pe}function se(){return new Jt(Yt.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function et(){return new Jt(Yt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function wt(){return new Jt(Yt.CANCELED,"User canceled the upload/download.")}function Et(){return new Jt(Yt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function Gt(Pe){return new Jt(Yt.INVALID_ARGUMENT,Pe)}function li(){return new Jt(Yt.APP_DELETED,"The Firebase app was deleted.")}function Dn(Pe){return new Jt(Yt.INVALID_ROOT_OPERATION,"The operation '"+Pe+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Nt(Pe,_e){return new Jt(Yt.INVALID_FORMAT,"String does not match format '"+Pe+"': "+_e)}function On(Pe){throw new Jt(Yt.INTERNAL_ERROR,"Internal error: "+Pe)}class Vn{constructor(_e,H){this.bucket=_e,this.path_=H}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const _e=encodeURIComponent;return"/b/"+_e(this.bucket)+"/o/"+_e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(_e,H){let U;try{U=Vn.makeFromUrl(_e,H)}catch{return new Vn(_e,"")}if(""===U.path)return U;throw function ft(Pe){return new Jt(Yt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+Pe+"'.")}(_e)}static makeFromUrl(_e,H){let U=null;const I="([A-Za-z0-9.\\-_]+)",Rt=new RegExp("^gs://"+I+"(/(.*))?$","i");function Nn(hs){hs.path_=decodeURIComponent(hs.path)}const Ur=H.replace(/[.]/g,"\\."),Io=[{regex:Rt,indices:{bucket:1,path:3},postModify:function V(hs){"/"===hs.path.charAt(hs.path.length-1)&&(hs.path_=hs.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${Ur}/v[A-Za-z0-9_]+/b/${I}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:Nn},{regex:new RegExp(`^https?://${H===Ze?"(?:storage.googleapis.com|storage.cloud.google.com)":H}/${I}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:Nn}];for(let hs=0;hs<Io.length;hs++){const lo=Io[hs],Wo=lo.regex.exec(_e);if(Wo){let Go=Wo[lo.indices.path];Go||(Go=""),U=new Vn(Wo[lo.indices.bucket],Go),lo.postModify(U);break}}if(null==U)throw function Ot(Pe){return new Jt(Yt.INVALID_URL,"Invalid URL '"+Pe+"'.")}(_e);return U}}class Ti{constructor(_e){this.promise_=Promise.reject(_e)}getPromise(){return this.promise_}cancel(_e=!1){}}function rr(Pe){return"string"==typeof Pe||Pe instanceof String}function fr(Pe){return Ui()&&Pe instanceof Blob}function Ui(){return typeof Blob<"u"&&!(0,an.UG)()}function ii(Pe,_e,H,U){if(U<_e)throw Gt(`Invalid value for '${Pe}'. Expected ${_e} or greater.`);if(U>H)throw Gt(`Invalid value for '${Pe}'. Expected ${H} or less.`)}function kr(Pe,_e,H){let U=_e;return null==H&&(U=`https://${_e}`),`${H}://${U}/v0${Pe}`}function Ar(Pe){const _e=encodeURIComponent;let H="?";for(const U in Pe)Pe.hasOwnProperty(U)&&(H=H+(_e(U)+"=")+_e(Pe[U])+"&");return H=H.slice(0,-1),H}var Li=(()=>((Li=Li||{})[Li.NO_ERROR=0]="NO_ERROR",Li[Li.NETWORK_ERROR=1]="NETWORK_ERROR",Li[Li.ABORT=2]="ABORT",Li))();function ps(Pe,_e){const H=Pe>=500&&Pe<600,I=-1!==[408,429].indexOf(Pe),V=-1!==_e.indexOf(Pe);return H||I||V}class Xr{constructor(_e,H,U,I,V,Ie,Rt,gn,Nn,qn,Ur,Wr=!0){this.url_=_e,this.method_=H,this.headers_=U,this.body_=I,this.successCodes_=V,this.additionalRetryCodes_=Ie,this.callback_=Rt,this.errorCallback_=gn,this.timeout_=Nn,this.progressCallback_=qn,this.connectionFactory_=Ur,this.retry=Wr,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((qr,ss)=>{this.resolve_=qr,this.reject_=ss,this.start_()})}start_(){const H=(U,I)=>{const V=this.resolve_,Ie=this.reject_,Rt=I.connection;if(I.wasSuccessCode)try{const gn=this.callback_(Rt,Rt.getResponse());!function Xn(Pe){return void 0!==Pe}(gn)?V():V(gn)}catch(gn){Ie(gn)}else if(null!==Rt){const gn=se();gn.serverResponse=Rt.getErrorText(),Ie(this.errorCallback_?this.errorCallback_(Rt,gn):gn)}else Ie(I.canceled?this.appDelete_?li():wt():et())};this.canceled_?H(0,new Bi(!1,null,!0)):this.backoffId_=function Di(Pe,_e,H){let U=1,I=null,V=null,Ie=!1,Rt=0;function gn(){return 2===Rt}let Nn=!1;function qn(...Us){Nn||(Nn=!0,_e.apply(null,Us))}function Ur(Us){I=setTimeout(()=>{I=null,Pe(qr,gn())},Us)}function Wr(){V&&clearTimeout(V)}function qr(Us,...Ro){if(Nn)return void Wr();if(Us)return Wr(),void qn.call(null,Us,...Ro);if(gn()||Ie)return Wr(),void qn.call(null,Us,...Ro);let Io;U<64&&(U*=2),1===Rt?(Rt=2,Io=0):Io=1e3*(U+Math.random()),Ur(Io)}let ss=!1;function Pr(Us){ss||(ss=!0,Wr(),!Nn&&(null!==I?(Us||(Rt=2),clearTimeout(I),Ur(0)):Us||(Rt=1)))}return Ur(0),V=setTimeout(()=>{Ie=!0,Pr(!0)},H),Pr}((U,I)=>{if(I)return void U(!1,new Bi(!1,null,!0));const V=this.connectionFactory_();this.pendingConnection_=V;const Ie=Rt=>{null!==this.progressCallback_&&this.progressCallback_(Rt.loaded,Rt.lengthComputable?Rt.total:-1)};null!==this.progressCallback_&&V.addUploadProgressListener(Ie),V.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&V.removeUploadProgressListener(Ie),this.pendingConnection_=null;const Rt=V.getErrorCode()===Li.NO_ERROR,gn=V.getStatus();if(!Rt||ps(gn,this.additionalRetryCodes_)&&this.retry){const qn=V.getErrorCode()===Li.ABORT;return void U(!1,new Bi(!1,null,qn))}const Nn=-1!==this.successCodes_.indexOf(gn);U(!0,new Bi(Nn,V))})},H,this.timeout_)}getPromise(){return this.promise_}cancel(_e){this.canceled_=!0,this.appDelete_=_e||!1,null!==this.backoffId_&&function Vi(Pe){Pe(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class Bi{constructor(_e,H,U){this.wasSuccessCode=_e,this.connection=H,this.canceled=!!U}}function ns(...Pe){const _e=function jr(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==_e){const H=new _e;for(let U=0;U<Pe.length;U++)H.append(Pe[U]);return H.getBlob()}if(Ui())return new Blob(Pe);throw new Jt(Yt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}const is={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class nr{constructor(_e,H){this.data=_e,this.contentType=H||null}}function zn(Pe,_e){switch(Pe){case is.RAW:return new nr(Ge(_e));case is.BASE64:case is.BASE64URL:return new nr(_n(Pe,_e));case is.DATA_URL:return new nr(function mi(Pe){const _e=new Gn(Pe);return _e.base64?_n(is.BASE64,_e.rest):function Mt(Pe){let _e;try{_e=decodeURIComponent(Pe)}catch{throw Nt(is.DATA_URL,"Malformed data URL.")}return Ge(_e)}(_e.rest)}(_e),function Dr(Pe){return new Gn(Pe).contentType}(_e))}throw se()}function Ge(Pe){const _e=[];for(let H=0;H<Pe.length;H++){let U=Pe.charCodeAt(H);U<=127?_e.push(U):U<=2047?_e.push(192|U>>6,128|63&U):55296==(64512&U)?H<Pe.length-1&&56320==(64512&Pe.charCodeAt(H+1))?(U=65536|(1023&U)<<10|1023&Pe.charCodeAt(++H),_e.push(240|U>>18,128|U>>12&63,128|U>>6&63,128|63&U)):_e.push(239,191,189):56320==(64512&U)?_e.push(239,191,189):_e.push(224|U>>12,128|U>>6&63,128|63&U)}return new Uint8Array(_e)}function _n(Pe,_e){switch(Pe){case is.BASE64:{const I=-1!==_e.indexOf("-"),V=-1!==_e.indexOf("_");if(I||V)throw Nt(Pe,"Invalid character '"+(I?"-":"_")+"' found: is it base64url encoded?");break}case is.BASE64URL:{const I=-1!==_e.indexOf("+"),V=-1!==_e.indexOf("/");if(I||V)throw Nt(Pe,"Invalid character '"+(I?"+":"/")+"' found: is it base64 encoded?");_e=_e.replace(/-/g,"+").replace(/_/g,"/");break}}let H;try{H=function Hi(Pe){if(typeof atob>"u")throw function xn(Pe){return new Jt(Yt.UNSUPPORTED_ENVIRONMENT,`${Pe} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}("base-64");return atob(Pe)}(_e)}catch(I){throw I.message.includes("polyfill")?I:Nt(Pe,"Invalid character found")}const U=new Uint8Array(H.length);for(let I=0;I<H.length;I++)U[I]=H.charCodeAt(I);return U}class Gn{constructor(_e){this.base64=!1,this.contentType=null;const H=_e.match(/^data:([^,]+)?,/);if(null===H)throw Nt(is.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const U=H[1]||null;null!=U&&(this.base64=function pr(Pe,_e){return Pe.length>=_e.length&&Pe.substring(Pe.length-_e.length)===_e}(U,";base64"),this.contentType=this.base64?U.substring(0,U.length-7):U),this.rest=_e.substring(_e.indexOf(",")+1)}}class sr{constructor(_e,H){let U=0,I="";fr(_e)?(this.data_=_e,U=_e.size,I=_e.type):_e instanceof ArrayBuffer?(H?this.data_=new Uint8Array(_e):(this.data_=new Uint8Array(_e.byteLength),this.data_.set(new Uint8Array(_e))),U=this.data_.length):_e instanceof Uint8Array&&(H?this.data_=_e:(this.data_=new Uint8Array(_e.length),this.data_.set(_e)),U=_e.length),this.size_=U,this.type_=I}size(){return this.size_}type(){return this.type_}slice(_e,H){if(fr(this.data_)){const I=function tr(Pe,_e,H){return Pe.webkitSlice?Pe.webkitSlice(_e,H):Pe.mozSlice?Pe.mozSlice(_e,H):Pe.slice?Pe.slice(_e,H):null}(this.data_,_e,H);return null===I?null:new sr(I)}{const U=new Uint8Array(this.data_.buffer,_e,H-_e);return new sr(U,!0)}}static getBlob(..._e){if(Ui()){const H=_e.map(U=>U instanceof sr?U.data_:U);return new sr(ns.apply(null,H))}{const H=_e.map(Ie=>rr(Ie)?zn(is.RAW,Ie).data:Ie.data_);let U=0;H.forEach(Ie=>{U+=Ie.byteLength});const I=new Uint8Array(U);let V=0;return H.forEach(Ie=>{for(let Rt=0;Rt<Ie.length;Rt++)I[V++]=Ie[Rt]}),new sr(I,!0)}}uploadData(){return this.data_}}function Pt(Pe){let _e;try{_e=JSON.parse(Pe)}catch{return null}return function Ni(Pe){return"object"==typeof Pe&&!Array.isArray(Pe)}(_e)?_e:null}function A(Pe){const _e=Pe.lastIndexOf("/",Pe.length-2);return-1===_e?Pe:Pe.slice(_e+1)}function O(Pe,_e){return _e}class ne{constructor(_e,H,U,I){this.server=_e,this.local=H||_e,this.writable=!!U,this.xform=I||O}}let ce=null;function Ve(){if(ce)return ce;const Pe=[];Pe.push(new ne("bucket")),Pe.push(new ne("generation")),Pe.push(new ne("metageneration")),Pe.push(new ne("name","fullPath",!0));const H=new ne("name");H.xform=function _e(V,Ie){return function me(Pe){return!rr(Pe)||Pe.length<2?Pe:A(Pe)}(Ie)},Pe.push(H);const I=new ne("size");return I.xform=function U(V,Ie){return void 0!==Ie?Number(Ie):Ie},Pe.push(I),Pe.push(new ne("timeCreated")),Pe.push(new ne("updated")),Pe.push(new ne("md5Hash",null,!0)),Pe.push(new ne("cacheControl",null,!0)),Pe.push(new ne("contentDisposition",null,!0)),Pe.push(new ne("contentEncoding",null,!0)),Pe.push(new ne("contentLanguage",null,!0)),Pe.push(new ne("contentType",null,!0)),Pe.push(new ne("metadata","customMetadata",!0)),ce=Pe,ce}function Lt(Pe,_e,H){const U=Pt(_e);return null===U?null:function jt(Pe,_e,H){const U={type:"file"},I=H.length;for(let V=0;V<I;V++){const Ie=H[V];U[Ie.local]=Ie.xform(U,_e[Ie.server])}return function Be(Pe,_e){Object.defineProperty(Pe,"ref",{get:function H(){const V=new Vn(Pe.bucket,Pe.fullPath);return _e._makeStorageReference(V)}})}(U,Pe),U}(Pe,U,H)}function Wt(Pe,_e){const H={},U=_e.length;for(let I=0;I<U;I++){const V=_e[I];V.writable&&(H[V.server]=Pe[V.local])}return JSON.stringify(H)}const en="prefixes",In="items";class hn{constructor(_e,H,U,I){this.url=_e,this.method=H,this.handler=U,this.timeout=I,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function Yn(Pe){if(!Pe)throw se()}function Kn(Pe,_e){return function H(U,I){const V=Lt(Pe,I,_e);return Yn(null!==V),V}}function Sr(Pe){return function _e(H,U){let I;return I=401===H.getStatus()?H.getErrorText().includes("Firebase App Check token is invalid")?function dn(){return new Jt(Yt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}():function tn(){return new Jt(Yt.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===H.getStatus()?function Tt(Pe){return new Jt(Yt.QUOTA_EXCEEDED,"Quota for bucket '"+Pe+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(Pe.bucket):403===H.getStatus()?function ct(Pe){return new Jt(Yt.UNAUTHORIZED,"User does not have permission to access '"+Pe+"'.")}(Pe.path):U,I.status=H.getStatus(),I.serverResponse=U.serverResponse,I}}function yr(Pe){const _e=Sr(Pe);return function H(U,I){let V=_e(U,I);return 404===U.getStatus()&&(V=function Vt(Pe){return new Jt(Yt.OBJECT_NOT_FOUND,"Object '"+Pe+"' does not exist.")}(Pe.path)),V.serverResponse=I.serverResponse,V}}function Ki(Pe,_e,H){const I=kr(_e.fullServerUrl(),Pe.host,Pe._protocol),Ie=Pe.maxOperationRetryTime,Rt=new hn(I,"GET",Kn(Pe,H),Ie);return Rt.errorHandler=yr(_e),Rt}function wr(Pe,_e,H,U,I){const V={};V.prefix=_e.isRoot?"":_e.path+"/",H&&H.length>0&&(V.delimiter=H),U&&(V.pageToken=U),I&&(V.maxResults=I);const Rt=kr(_e.bucketOnlyServerUrl(),Pe.host,Pe._protocol),Nn=Pe.maxOperationRetryTime,qn=new hn(Rt,"GET",function ti(Pe,_e){return function H(U,I){const V=function rn(Pe,_e,H){const U=Pt(H);return null===U?null:function Ut(Pe,_e,H){const U={prefixes:[],items:[],nextPageToken:H.nextPageToken};if(H[en])for(const I of H[en]){const V=I.replace(/\/$/,""),Ie=Pe._makeStorageReference(new Vn(_e,V));U.prefixes.push(Ie)}if(H[In])for(const I of H[In]){const V=Pe._makeStorageReference(new Vn(_e,I.name));U.items.push(V)}return U}(Pe,_e,U)}(Pe,_e,I);return Yn(null!==V),V}}(Pe,_e.bucket),Nn);return qn.urlParams=V,qn.errorHandler=Sr(_e),qn}function $s(Pe,_e,H){const U=Object.assign({},H);return U.fullPath=Pe.path,U.size=_e.size(),U.contentType||(U.contentType=function rs(Pe,_e){return Pe&&Pe.contentType||_e&&_e.type()||"application/octet-stream"}(null,_e)),U}class Es{constructor(_e,H,U,I){this.current=_e,this.total=H,this.finalized=!!U,this.metadata=I||null}}function uo(Pe,_e){let H=null;try{H=Pe.getResponseHeader("X-Goog-Upload-Status")}catch{Yn(!1)}return Yn(!!H&&-1!==(_e||["active"]).indexOf(H)),H}const Ce={STATE_CHANGED:"state_changed"},He={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function Me(Pe){switch(Pe){case"running":case"pausing":case"canceling":return He.RUNNING;case"paused":return He.PAUSED;case"success":return He.SUCCESS;case"canceled":return He.CANCELED;default:return He.ERROR}}class he{constructor(_e,H,U){if(function Ai(Pe){return"function"==typeof Pe}(_e)||null!=H||null!=U)this.next=_e,this.error=null!=H?H:void 0,this.complete=null!=U?U:void 0;else{const V=_e;this.next=V.next,this.error=V.error,this.complete=V.complete}}}function Ae(Pe){return(..._e)=>{Promise.resolve().then(()=>Pe(..._e))}}let St=null;class Kt{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Li.NO_ERROR,this.sendPromise_=new Promise(_e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Li.ABORT,_e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Li.NETWORK_ERROR,_e()}),this.xhr_.addEventListener("load",()=>{_e()})})}send(_e,H,U,I){if(this.sent_)throw On("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(H,_e,!0),void 0!==I)for(const V in I)I.hasOwnProperty(V)&&this.xhr_.setRequestHeader(V,I[V].toString());return void 0!==U?this.xhr_.send(U):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw On("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw On("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw On("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw On("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(_e){return this.xhr_.getResponseHeader(_e)}addUploadProgressListener(_e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",_e)}removeUploadProgressListener(_e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",_e)}}class mn extends Kt{initXhr(){this.xhr_.responseType="text"}}function Mn(){return St?St():new mn}class Xs{constructor(_e,H,U=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=_e,this._blob=H,this._metadata=U,this._mappings=Ve(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=I=>{if(this._request=void 0,this._chunkMultiplier=1,I._codeEquals(Yt.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const V=this.isExponentialBackoffExpired();if(ps(I.status,[])){if(!V)return this.sleepTime=Math.max(2*this.sleepTime,1e3),this._needToFetchStatus=!0,void this.completeTransitions_();I=et()}this._error=I,this._transition("error")}},this._metadataErrorHandler=I=>{this._request=void 0,I._codeEquals(Yt.CANCELED)?this.completeTransitions_():(this._error=I,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((I,V)=>{this._resolve=I,this._reject=V,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const _e=this._transferred;return H=>this._updateProgress(_e+H)}_shouldDoResumable(_e){return _e.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(_e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([H,U])=>{switch(this._state){case"running":_e(H,U);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((_e,H)=>{const U=function Eo(Pe,_e,H,U,I){const V=_e.bucketOnlyServerUrl(),Ie=$s(_e,U,I),Rt={name:Ie.fullPath},gn=kr(V,Pe.host,Pe._protocol),qn={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${U.size()}`,"X-Goog-Upload-Header-Content-Type":Ie.contentType,"Content-Type":"application/json; charset=utf-8"},Ur=Wt(Ie,H),ss=new hn(gn,"POST",function qr(Pr){let Us;uo(Pr);try{Us=Pr.getResponseHeader("X-Goog-Upload-URL")}catch{Yn(!1)}return Yn(rr(Us)),Us},Pe.maxUploadRetryTime);return ss.urlParams=Rt,ss.headers=qn,ss.body=Ur,ss.errorHandler=Sr(_e),ss}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),I=this._ref.storage._makeRequest(U,Mn,_e,H);this._request=I,I.getPromise().then(V=>{this._request=void 0,this._uploadUrl=V,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const _e=this._uploadUrl;this._resolveToken((H,U)=>{const I=function Zs(Pe,_e,H,U){const gn=new hn(H,"POST",function V(Nn){const qn=uo(Nn,["active","final"]);let Ur=null;try{Ur=Nn.getResponseHeader("X-Goog-Upload-Size-Received")}catch{Yn(!1)}Ur||Yn(!1);const Wr=Number(Ur);return Yn(!isNaN(Wr)),new Es(Wr,U.size(),"final"===qn)},Pe.maxUploadRetryTime);return gn.headers={"X-Goog-Upload-Command":"query"},gn.errorHandler=Sr(_e),gn}(this._ref.storage,this._ref._location,_e,this._blob),V=this._ref.storage._makeRequest(I,Mn,H,U);this._request=V,V.getPromise().then(Ie=>{this._request=void 0,this._updateProgress(Ie.current),this._needToFetchStatus=!1,Ie.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const _e=262144*this._chunkMultiplier,H=new Es(this._transferred,this._blob.size()),U=this._uploadUrl;this._resolveToken((I,V)=>{let Ie;try{Ie=function fe(Pe,_e,H,U,I,V,Ie,Rt){const gn=new Es(0,0);if(Ie?(gn.current=Ie.current,gn.total=Ie.total):(gn.current=0,gn.total=U.size()),U.size()!==gn.total)throw function vn(){return new Jt(Yt.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}();const Nn=gn.total-gn.current;let qn=Nn;I>0&&(qn=Math.min(qn,I));const Ur=gn.current;let qr="";qr=0===qn?"finalize":Nn===qn?"upload, finalize":"upload";const ss={"X-Goog-Upload-Command":qr,"X-Goog-Upload-Offset":`${gn.current}`},Pr=U.slice(Ur,Ur+qn);if(null===Pr)throw Et();const Io=new hn(H,"POST",function Us(hs,lo){const Wo=uo(hs,["active","final"]),va=gn.current+qn,Go=U.size();let ja;return ja="final"===Wo?Kn(_e,V)(hs,lo):null,new Es(va,Go,"final"===Wo,ja)},_e.maxUploadRetryTime);return Io.headers=ss,Io.body=Pr.uploadData(),Io.progressCallback=Rt||null,Io.errorHandler=Sr(Pe),Io}(this._ref._location,this._ref.storage,U,this._blob,_e,this._mappings,H,this._makeProgressCallback())}catch(gn){return this._error=gn,void this._transition("error")}const Rt=this._ref.storage._makeRequest(Ie,Mn,I,V,!1);this._request=Rt,Rt.getPromise().then(gn=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(gn.current),gn.finalized?(this._metadata=gn.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier*2<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((_e,H)=>{const U=Ki(this._ref.storage,this._ref._location,this._mappings),I=this._ref.storage._makeRequest(U,Mn,_e,H);this._request=I,I.getPromise().then(V=>{this._request=void 0,this._metadata=V,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((_e,H)=>{const U=function ws(Pe,_e,H,U,I){const V=_e.bucketOnlyServerUrl(),Ie={"X-Goog-Upload-Protocol":"multipart"},gn=function Rt(){let Io="";for(let hs=0;hs<2;hs++)Io+=Math.random().toString().slice(2);return Io}();Ie["Content-Type"]="multipart/related; boundary="+gn;const Nn=$s(_e,U,I),qn=Wt(Nn,H),qr=sr.getBlob("--"+gn+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+qn+"\r\n--"+gn+"\r\nContent-Type: "+Nn.contentType+"\r\n\r\n",U,"\r\n--"+gn+"--");if(null===qr)throw Et();const ss={name:Nn.fullPath},Pr=kr(V,Pe.host,Pe._protocol),Ro=Pe.maxUploadRetryTime,po=new hn(Pr,"POST",Kn(Pe,H),Ro);return po.urlParams=ss,po.headers=Ie,po.body=qr.uploadData(),po.errorHandler=Sr(_e),po}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),I=this._ref.storage._makeRequest(U,Mn,_e,H);this._request=I,I.getPromise().then(V=>{this._request=void 0,this._metadata=V,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(_e){const H=this._transferred;this._transferred=_e,this._transferred!==H&&this._notifyObservers()}_transition(_e){if(this._state!==_e)switch(_e){case"canceling":case"pausing":this._state=_e,void 0!==this._request?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const H="paused"===this._state;this._state=_e,H&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=_e,this._notifyObservers();break;case"canceled":this._error=wt(),this._state=_e,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const _e=Me(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:_e,metadata:this._metadata,task:this,ref:this._ref}}on(_e,H,U,I){const V=new he(H||void 0,U||void 0,I||void 0);return this._addObserver(V),()=>{this._removeObserver(V)}}then(_e,H){return this._promise.then(_e,H)}catch(_e){return this.then(null,_e)}_addObserver(_e){this._observers.push(_e),this._notifyObserver(_e)}_removeObserver(_e){const H=this._observers.indexOf(_e);-1!==H&&this._observers.splice(H,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(H=>{this._notifyObserver(H)})}_finishPromise(){if(void 0!==this._resolve){let _e=!0;switch(Me(this._state)){case He.SUCCESS:Ae(this._resolve.bind(null,this.snapshot))();break;case He.CANCELED:case He.ERROR:Ae(this._reject.bind(null,this._error))();break;default:_e=!1}_e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(_e){switch(Me(this._state)){case He.RUNNING:case He.PAUSED:_e.next&&Ae(_e.next.bind(_e,this.snapshot))();break;case He.SUCCESS:_e.complete&&Ae(_e.complete.bind(_e))();break;default:_e.error&&Ae(_e.error.bind(_e,this._error))()}}resume(){const _e="paused"===this._state||"pausing"===this._state;return _e&&this._transition("running"),_e}pause(){const _e="running"===this._state;return _e&&this._transition("pausing"),_e}cancel(){const _e="running"===this._state||"pausing"===this._state;return _e&&this._transition("canceling"),_e}}class Ks{constructor(_e,H){this._service=_e,this._location=H instanceof Vn?H:Vn.makeFromUrl(H,_e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(_e,H){return new Ks(_e,H)}get root(){const _e=new Vn(this._location.bucket,"");return this._newRef(this._service,_e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return A(this._location.path)}get storage(){return this._service}get parent(){const _e=function B(Pe){if(0===Pe.length)return null;const _e=Pe.lastIndexOf("/");return-1===_e?"":Pe.slice(0,_e)}(this._location.path);if(null===_e)return null;const H=new Vn(this._location.bucket,_e);return new Ks(this._service,H)}_throwIfRoot(_e){if(""===this._location.path)throw Dn(_e)}}function Do(Pe,_e,H){return js.apply(this,arguments)}function js(){return(js=(0,Qe.Z)(function*(Pe,_e,H){const I=yield Qo(Pe,{pageToken:H});_e.prefixes.push(...I.prefixes),_e.items.push(...I.items),null!=I.nextPageToken&&(yield Do(Pe,_e,I.nextPageToken))})).apply(this,arguments)}function Qo(Pe,_e){null!=_e&&"number"==typeof _e.maxResults&&ii("options.maxResults",1,1e3,_e.maxResults);const H=_e||{},U=wr(Pe.storage,Pe._location,"/",H.pageToken,H.maxResults);return Pe.storage.makeRequestWithTokens(U,Mn)}function Cs(Pe){Pe._throwIfRoot("getDownloadURL");const _e=function mr(Pe,_e,H){const I=kr(_e.fullServerUrl(),Pe.host,Pe._protocol),Ie=Pe.maxOperationRetryTime,Rt=new hn(I,"GET",function $i(Pe,_e){return function H(U,I){const V=Lt(Pe,I,_e);return Yn(null!==V),function fn(Pe,_e,H,U){const I=Pt(_e);if(null===I||!rr(I.downloadTokens))return null;const V=I.downloadTokens;if(0===V.length)return null;const Ie=encodeURIComponent;return V.split(",").map(Nn=>{const Ur=Pe.fullPath;return kr("/b/"+Ie(Pe.bucket)+"/o/"+Ie(Ur),H,U)+Ar({alt:"media",token:Nn})})[0]}(V,I,Pe.host,Pe._protocol)}}(Pe,H),Ie);return Rt.errorHandler=yr(_e),Rt}(Pe.storage,Pe._location,Ve());return Pe.storage.makeRequestWithTokens(_e,Mn).then(H=>{if(null===H)throw function qt(){return new Jt(Yt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}();return H})}function Ao(Pe,_e){const H=function x(Pe,_e){const H=_e.split("/").filter(U=>U.length>0).join("/");return 0===Pe.length?H:Pe+"/"+H}(Pe._location.path,_e),U=new Vn(Pe._location.bucket,H);return new Ks(Pe.storage,U)}function Vs(Pe,_e){if(Pe instanceof ea){const H=Pe;if(null==H._bucket)throw function Je(){return new Jt(Yt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+on+"' property when initializing the app?")}();const U=new Ks(H,H._bucket);return null!=_e?Vs(U,_e):U}return void 0!==_e?Ao(Pe,_e):Pe}function zo(Pe,_e){if(_e&&function Gs(Pe){return/^[A-Za-z]+:\/\//.test(Pe)}(_e)){if(Pe instanceof ea)return function as(Pe,_e){return new Ks(Pe,_e)}(Pe,_e);throw Gt("To use ref(service, url), the first argument must be a Storage instance.")}return Vs(Pe,_e)}function Jo(Pe,_e){const H=null==_e?void 0:_e[on];return null==H?null:Vn.makeFromBucketSpec(H,Pe)}class ea{constructor(_e,H,U,I,V){this.app=_e,this._authProvider=H,this._appCheckProvider=U,this._url=I,this._firebaseVersion=V,this._bucket=null,this._host=Ze,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=I?Vn.makeFromBucketSpec(I,this._host):Jo(this._host,this.app.options)}get host(){return this._host}set host(_e){this._host=_e,this._bucket=null!=this._url?Vn.makeFromBucketSpec(this._url,_e):Jo(_e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(_e){ii("time",0,Number.POSITIVE_INFINITY,_e),this._maxUploadRetryTime=_e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(_e){ii("time",0,Number.POSITIVE_INFINITY,_e),this._maxOperationRetryTime=_e}_getAuthToken(){var _e=this;return(0,Qe.Z)(function*(){if(_e._overrideAuthToken)return _e._overrideAuthToken;const H=_e._authProvider.getImmediate({optional:!0});if(H){const U=yield H.getToken();if(null!==U)return U.accessToken}return null})()}_getAppCheckToken(){var _e=this;return(0,Qe.Z)(function*(){const H=_e._appCheckProvider.getImmediate({optional:!0});return H?(yield H.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(_e=>_e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(_e){return new Ks(this,_e)}_makeRequest(_e,H,U,I,V=!0){if(this._deleted)return new Ti(li());{const Ie=function Ir(Pe,_e,H,U,I,V,Ie=!0){const Rt=Ar(Pe.urlParams),gn=Pe.url+Rt,Nn=Object.assign({},Pe.headers);return function Qr(Pe,_e){_e&&(Pe["X-Firebase-GMPID"]=_e)}(Nn,_e),function Mi(Pe,_e){null!==_e&&_e.length>0&&(Pe.Authorization="Firebase "+_e)}(Nn,H),function Zi(Pe,_e){Pe["X-Firebase-Storage-Version"]="webjs/"+(null!=_e?_e:"AppManager")}(Nn,V),function Jr(Pe,_e){null!==_e&&(Pe["X-Firebase-AppCheck"]=_e)}(Nn,U),new Xr(gn,Pe.method,Nn,Pe.body,Pe.successCodes,Pe.additionalRetryCodes,Pe.handler,Pe.errorHandler,Pe.timeout,Pe.progressCallback,I,Ie)}(_e,this._appId,U,I,H,this._firebaseVersion,V);return this._requests.add(Ie),Ie.getPromise().then(()=>this._requests.delete(Ie),()=>this._requests.delete(Ie)),Ie}}makeRequestWithTokens(_e,H){var U=this;return(0,Qe.Z)(function*(){const[I,V]=yield Promise.all([U._getAuthToken(),U._getAppCheckToken()]);return U._makeRequest(_e,H,I,V).getPromise()})()}}const ia="@firebase/storage";function fo(Pe,_e){return zo(Pe=(0,an.m9)(Pe),_e)}function Ho(Pe,{instanceIdentifier:_e}){const H=Pe.getProvider("app").getImmediate(),U=Pe.getProvider("auth-internal"),I=Pe.getProvider("app-check-internal");return new ea(H,U,I,_e,At.SDK_VERSION)}!function F(){(0,At._registerComponent)(new nt.wA("storage",Ho,"PUBLIC").setMultipleInstances(!0)),(0,At.registerVersion)(ia,"0.11.2",""),(0,At.registerVersion)(ia,"0.11.2","esm2017")}();class Se{constructor(_e,H,U){this._delegate=_e,this.task=H,this.ref=U}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class ${constructor(_e,H){this._delegate=_e,this._ref=H,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new Se(this._delegate.snapshot,this,this._ref)}then(_e,H){return this._delegate.then(U=>{if(_e)return _e(new Se(U,this,this._ref))},H)}on(_e,H,U,I){let V;return H&&(V="function"==typeof H?Ie=>H(new Se(Ie,this,this._ref)):{next:H.next?Ie=>H.next(new Se(Ie,this,this._ref)):void 0,complete:H.complete||void 0,error:H.error||void 0}),this._delegate.on(_e,V,U||void 0,I||void 0)}}class ge{constructor(_e,H){this._delegate=_e,this._service=H}get prefixes(){return this._delegate.prefixes.map(_e=>new ut(_e,this._service))}get items(){return this._delegate.items.map(_e=>new ut(_e,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class ut{constructor(_e,H){this._delegate=_e,this.storage=H}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(_e){const H=function jo(Pe,_e){return Ao(Pe,_e)}(this._delegate,_e);return new ut(H,this.storage)}get root(){return new ut(this._delegate.root,this.storage)}get parent(){const _e=this._delegate.parent;return null==_e?null:new ut(_e,this.storage)}put(_e,H){return this._throwIfRoot("put"),new $(function Pa(Pe,_e,H){return function vr(Pe,_e,H){return Pe._throwIfRoot("uploadBytesResumable"),new Xs(Pe,new sr(_e),H)}(Pe=(0,an.m9)(Pe),_e,H)}(this._delegate,_e,H),this)}putString(_e,H=is.RAW,U){this._throwIfRoot("putString");const I=zn(H,_e),V=Object.assign({},U);return null==V.contentType&&null!=I.contentType&&(V.contentType=I.contentType),new $(new Xs(this._delegate,new sr(I.data,!0),V),this)}listAll(){return function No(Pe){return function So(Pe){const _e={prefixes:[],items:[]};return Do(Pe,_e).then(()=>_e)}(Pe=(0,an.m9)(Pe))}(this._delegate).then(_e=>new ge(_e,this.storage))}list(_e){return function no(Pe,_e){return Qo(Pe=(0,an.m9)(Pe),_e)}(this._delegate,_e||void 0).then(H=>new ge(H,this.storage))}getMetadata(){return function Co(Pe){return function Vr(Pe){Pe._throwIfRoot("getMetadata");const _e=Ki(Pe.storage,Pe._location,Ve());return Pe.storage.makeRequestWithTokens(_e,Mn)}(Pe=(0,an.m9)(Pe))}(this._delegate)}updateMetadata(_e){return function ms(Pe,_e){return function Mr(Pe,_e){Pe._throwIfRoot("updateMetadata");const H=function Hr(Pe,_e,H,U){const V=kr(_e.fullServerUrl(),Pe.host,Pe._protocol),Rt=Wt(H,U),Nn=Pe.maxOperationRetryTime,qn=new hn(V,"PATCH",Kn(Pe,U),Nn);return qn.headers={"Content-Type":"application/json; charset=utf-8"},qn.body=Rt,qn.errorHandler=yr(_e),qn}(Pe.storage,Pe._location,_e,Ve());return Pe.storage.makeRequestWithTokens(H,Mn)}(Pe=(0,an.m9)(Pe),_e)}(this._delegate,_e)}getDownloadURL(){return function ta(Pe){return Cs(Pe=(0,an.m9)(Pe))}(this._delegate)}delete(){return this._throwIfRoot("delete"),function Po(Pe){return function Nr(Pe){Pe._throwIfRoot("deleteObject");const _e=function ur(Pe,_e){const U=kr(_e.fullServerUrl(),Pe.host,Pe._protocol),Rt=new hn(U,"DELETE",function Ie(gn,Nn){},Pe.maxOperationRetryTime);return Rt.successCodes=[200,204],Rt.errorHandler=yr(_e),Rt}(Pe.storage,Pe._location);return Pe.storage.makeRequestWithTokens(_e,Mn)}(Pe=(0,an.m9)(Pe))}(this._delegate)}_throwIfRoot(_e){if(""===this._delegate._location.path)throw Dn(_e)}}class oi{constructor(_e,H){this.app=_e,this._delegate=H}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(_e){if(Yi(_e))throw Gt("ref() expected a child path but got a URL, use refFromURL instead.");return new ut(fo(this._delegate,_e),this)}refFromURL(_e){if(!Yi(_e))throw Gt("refFromURL() expected a full URL but got a child path, use ref() instead.");try{Vn.makeFromUrl(_e,this._delegate.host)}catch{throw Gt("refFromUrl() expected a valid full URL but got an invalid one.")}return new ut(fo(this._delegate,_e),this)}setMaxUploadRetryTime(_e){this._delegate.maxUploadRetryTime=_e}setMaxOperationRetryTime(_e){this._delegate.maxOperationRetryTime=_e}useEmulator(_e,H,U={}){!function bs(Pe,_e,H,U={}){!function vo(Pe,_e,H,U={}){Pe.host=`${_e}:${H}`,Pe._protocol="http";const{mockUserToken:I}=U;I&&(Pe._overrideAuthToken="string"==typeof I?I:(0,an.Sg)(I,Pe.app.options.projectId))}(Pe,_e,H,U)}(this._delegate,_e,H,U)}}function Yi(Pe){return/^[A-Za-z]+:\/\//.test(Pe)}function gs(Pe,{instanceIdentifier:_e}){const H=Pe.getProvider("app-compat").getImmediate(),U=Pe.getProvider("storage").getImmediate({identifier:_e});return new oi(H,U)}!function wa(Pe){const _e={TaskState:He,TaskEvent:Ce,StringFormat:is,Storage:oi,Reference:ut};Pe.INTERNAL.registerComponent(new nt.wA("storage-compat",gs,"PUBLIC").setServiceProps(_e).setMultipleInstances(!0)),Pe.registerVersion("@firebase/storage-compat","0.3.2")}(Le.Z);var Bs=Y(2313),Fo=Y(9260);function la(Pe){const _e=function Ra(Pe){return new c.y(_e=>{const H=Ie=>_e.next(Ie);H(Pe.snapshot);const V=Pe.on("state_changed",H);return Pe.then(Ie=>{H(Ie),_e.complete()},Ie=>{H(Pe.snapshot),(Ie=>{_e.error(Ie)})(Ie)}),function(){V()}}).pipe(function be(Pe,_e=ze.z){return(0,dt.e)((H,U)=>{let I=null,V=null,Ie=null;const Rt=()=>{if(I){I.unsubscribe(),I=null;const Nn=V;V=null,U.next(Nn)}};function gn(){const Nn=Ie+Pe,qn=_e.now();if(qn<Nn)return I=this.schedule(void 0,Nn-qn),void U.add(I);Rt()}H.subscribe((0,Ye.x)(U,Nn=>{V=Nn,Ie=_e.now(),I||(I=_e.schedule(gn,Pe),U.add(I))},()=>{Rt(),U.complete()},void 0,()=>{V=I=null}))})}(0))}(Pe);return{task:Pe,then:Pe.then.bind(Pe),catch:Pe.catch.bind(Pe),pause:Pe.pause.bind(Pe),cancel:Pe.cancel.bind(Pe),resume:Pe.resume.bind(Pe),snapshotChanges:()=>_e,percentageChanges:()=>_e.pipe((0,$e.U)(H=>H.bytesTransferred/H.totalBytes*100))}}function Hs(Pe){return{getDownloadURL:()=>(0,y.of)(void 0).pipe(Ue.fc,(0,Ke.w)(()=>Pe.getDownloadURL()),Ue.iC),getMetadata:()=>(0,y.of)(void 0).pipe(Ue.fc,(0,Ke.w)(()=>Pe.getMetadata()),Ue.iC),delete:()=>(0,De.D)(Pe.delete()),child:_e=>Hs(Pe.child(_e)),updateMetadata:_e=>(0,De.D)(Pe.updateMetadata(_e)),put:(_e,H)=>la(Pe.put(_e,H)),putString:(_e,H,U)=>la(Pe.putString(_e,H,U)),list:_e=>(0,De.D)(Pe.list(_e)),listAll:()=>(0,De.D)(Pe.listAll())}}const da=new Re.OlP("angularfire2.storageBucket"),ys=new Re.OlP("angularfire2.storage.maxUploadRetryTime"),ya=new Re.OlP("angularfire2.storage.maxOperationRetryTime"),Uo=new Re.OlP("angularfire2.storage.use-emulator");let Na=(()=>{class Pe{constructor(H,U,I,V,Ie,Rt,gn,Nn,qn,Ur){const Wr=(0,Xe.on)(H,Ie,U);this.storage=(0,Xe.cc)(`${Wr.name}.storage.${I}`,"AngularFireStorage",Wr.name,()=>{const qr=Ie.runOutsideAngular(()=>Wr.storage(I||void 0)),ss=qn;return ss&&qr.useEmulator(...ss),gn&&qr.setMaxUploadRetryTime(gn),Nn&&qr.setMaxOperationRetryTime(Nn),qr},[gn,Nn])}ref(H){return Hs(this.storage.ref(H))}refFromURL(H){return Hs(this.storage.refFromURL(H))}upload(H,U,I){return Hs(this.storage.ref(H)).put(U,I)}}return Pe.\u0275fac=function(H){return new(H||Pe)(Re.LFG(Xe.Dh),Re.LFG(Xe.xv,8),Re.LFG(da,8),Re.LFG(Re.Lbi),Re.LFG(Re.R0b),Re.LFG(Ue.HU),Re.LFG(ys,8),Re.LFG(ya,8),Re.LFG(Uo,8),Re.LFG(Bs.nm,8))},Pe.\u0275prov=Re.Yz7({token:Pe,factory:Pe.\u0275fac,providedIn:"any"}),Pe})(),ha=(()=>{class Pe{}return Pe.\u0275fac=function(H){return new(H||Pe)},Pe.\u0275mod=Re.oAB({type:Pe}),Pe.\u0275inj=Re.cJS({}),Pe})(),tl=(()=>{class Pe{constructor(){Fo.Z.registerVersion("angularfire",Ue.q4.full,"gcs-compat")}}return Pe.\u0275fac=function(H){return new(H||Pe)},Pe.\u0275mod=Re.oAB({type:Pe}),Pe.\u0275inj=Re.cJS({providers:[Na],imports:[ha]}),Pe})()},2011:(Ii,ln,Y)=>{"use strict";Y.d(ln,{Dh:()=>$e,GT:()=>Ye,Ot:()=>be,cc:()=>Qe,hO:()=>Le,on:()=>Ue,pX:()=>dt,xv:()=>Ke});var c=Y(2223),y=Y(9260),De=Y(3324);Ii=Y.hmd(Ii);const ze=["ngOnDestroy"],dt=(Ze,on,It,bt={})=>new Proxy(Ze,{get:(zt,Jt)=>It.runOutsideAngular(()=>{var Yt;if(Ze[Jt])return!(null===(Yt=null==bt?void 0:bt.spy)||void 0===Yt)&&Yt.get&&bt.spy.get(Jt,Ze[Jt]),Ze[Jt];if(ze.indexOf(Jt)>-1)return()=>{};const tt=on.toPromise().then(se=>{const Vt=se&&se[Jt];return"function"==typeof Vt?Vt.bind(se):Vt&&Vt.then?Vt.then(Tt=>It.run(()=>Tt)):It.run(()=>Vt)});return new Proxy(()=>{},{get:(se,Vt)=>tt[Vt],apply:(se,Vt,Tt)=>tt.then(tn=>{var dn;const ct=tn&&tn(...Tt);return!(null===(dn=null==bt?void 0:bt.spy)||void 0===dn)&&dn.apply&&bt.spy.apply(Jt,Tt,ct),ct})})})}),Ye=(Ze,on)=>{on.forEach(It=>{Object.getOwnPropertyNames(It.prototype||It).forEach(bt=>{Object.defineProperty(Ze.prototype,bt,Object.getOwnPropertyDescriptor(It.prototype||It,bt))})})};class be{constructor(on){return on}}const $e=new c.OlP("angularfire2.app.options"),Ke=new c.OlP("angularfire2.app.name");function Ue(Ze,on,It){const zt="object"==typeof It&&It||{};zt.name=zt.name||"string"==typeof It&&It||"[DEFAULT]";const Yt=y.Z.apps.filter(tt=>tt&&tt.name===zt.name)[0]||on.runOutsideAngular(()=>y.Z.initializeApp(Ze,zt));try{JSON.stringify(Ze)!==JSON.stringify(Yt.options)&&Re("error",`${Yt.name} Firebase App already initialized with different options${Ii.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new be(Yt)}const Re=(Ze,...on)=>{(0,c.X6Q)()&&typeof console<"u"&&console[Ze](...on)},Xe={provide:be,useFactory:Ue,deps:[$e,c.R0b,[new c.FiY,Ke]]};let Le=(()=>{class Ze{constructor(It){y.Z.registerVersion("angularfire",De.q4.full,"core"),y.Z.registerVersion("angularfire",De.q4.full,"app-compat"),y.Z.registerVersion("angular",c.q4F.full,It.toString())}static initializeApp(It,bt){return{ngModule:Ze,providers:[{provide:$e,useValue:It},{provide:Ke,useValue:bt}]}}}return Ze.\u0275fac=function(It){return new(It||Ze)(c.LFG(c.Lbi))},Ze.\u0275mod=c.oAB({type:Ze}),Ze.\u0275inj=c.cJS({providers:[Xe]}),Ze})();function Qe(Ze,on,It,bt,zt){const[,Jt,Yt]=globalThis.\u0275AngularfireInstanceCache.find(tt=>tt[0]===Ze)||[];if(Jt)return function At(Ze,on){try{return Ze.toString()===on.toString()}catch{return Ze===on}}(zt,Yt)||(nt("error",`${on} was already initialized on the ${It} Firebase App with different settings.${an?" You may need to reload as Firebase is not HMR aware.":""}`),nt("warn",{is:zt,was:Yt})),Jt;{const tt=bt();return globalThis.\u0275AngularfireInstanceCache.push([Ze,tt,zt]),tt}}const an=!!Ii.hot,nt=(Ze,...on)=>{(0,c.X6Q)()&&typeof console<"u"&&console[Ze](...on)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},89:(Ii,ln,Y)=>{"use strict";Y.d(ln,{gg:()=>Tt,hJ:()=>Ni,BS:()=>Dn,JU:()=>Ar,PL:()=>jr,ad:()=>Hi,Xo:()=>Dr,Cm:()=>vn,IO:()=>pr,pl:()=>A,ar:()=>Lt});var c=Y(3324),y=Y(2223),De=Y(7246),ze=Y(3692),dt=Y(259),Ye=Y(2313),be=Y(2810),$e=Y(9751),Ke=Y(4004),Ue={includeMetadataChanges:!1};function Vt(Wt,en){return void 0===en&&(en={}),function Yt(Wt){return function Re(Wt,en){return void 0===en&&(en=Ue),new $e.y(function(In){return{unsubscribe:(0,be.cf)(Wt,en,{next:In.next.bind(In),error:In.error.bind(In),complete:In.complete.bind(In)})}})}(Wt,{includeMetadataChanges:!0}).pipe((0,Ke.U)(function(en){return en.docs}))}(Wt).pipe((0,Ke.U)(function(In){return In.map(function(Ut){return function Qe(Wt,en){void 0===en&&(en={});var In=Wt.data();return!Wt.exists()||"object"!=typeof In||null===In||en.idField&&(In[en.idField]=Wt.id),In}(Ut,en)})}))}class Tt{constructor(en){return en}}const tn="firestore",et=new y.OlP("angularfire2.firestore-instances");function Ot(Wt){return(en,In)=>{const Ut=en.runOutsideAngular(()=>Wt(In));return new Tt(Ut)}}const ft={provide:class dn{constructor(){return(0,c.vb)(tn)}},deps:[[new y.FiY,et]]},Je={provide:Tt,useFactory:function wt(Wt,en){const In=(0,c.JM)(tn,Wt,en);return In&&new Tt(In)},deps:[[new y.FiY,et],ze.Ot]};let Et=(()=>{class Wt{constructor(){(0,dt.KN)("angularfire",c.q4.full,"fst")}}return Wt.\u0275fac=function(In){return new(In||Wt)},Wt.\u0275mod=y.oAB({type:Wt}),Wt.\u0275inj=y.cJS({providers:[Je,ft]}),Wt})();function vn(Wt,...en){return{ngModule:Et,providers:[{provide:et,useFactory:Ot(Wt),multi:!0,deps:[y.R0b,y.zs3,c.HU,ze.z6,[new y.FiY,De.dh],[new y.FiY,Ye.nm],...en]}]}}const Dn=(0,c.u3)(Vt,!0),Ni=(0,c.u3)(be.hJ,!0),Ar=(0,c.u3)(be.JU,!0),jr=(0,c.u3)(be.PL,!0),Hi=(0,c.u3)(be.ad,!0),Dr=(0,c.u3)(be.Xo,!0),pr=(0,c.u3)(be.IO,!0),A=(0,c.u3)(be.pl,!0),Lt=(0,c.u3)(be.ar,!0)},3324:(Ii,ln,Y)=>{"use strict";Y.d(ln,{q4:()=>ge,iC:()=>Pe,fc:()=>ha,HU:()=>ya,vb:()=>la,JM:()=>Ra,nk:()=>Fo,u3:()=>U});var c=Y(2223),y=Y(259),De=Y(5861),ze=Y(6881),dt=Y(2090),Ye=Y(4859),be=Y(1877);Y(4727);const Ke="@firebase/remote-config",Qe=new dt.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Ot{constructor(V,Ie,Rt,gn){this.client=V,this.storage=Ie,this.storageCache=Rt,this.logger=gn}isCachedDataFresh(V,Ie){if(!Ie)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const Rt=Date.now()-Ie,gn=Rt<=V;return this.logger.debug(`Config fetch cache check. Cache age millis: ${Rt}. Cache max age millis (minimumFetchIntervalMillis setting): ${V}. Is cache hit: ${gn}.`),gn}fetch(V){var Ie=this;return(0,De.Z)(function*(){const[Rt,gn]=yield Promise.all([Ie.storage.getLastSuccessfulFetchTimestampMillis(),Ie.storage.getLastSuccessfulFetchResponse()]);if(gn&&Ie.isCachedDataFresh(V.cacheMaxAgeMillis,Rt))return gn;V.eTag=gn&&gn.eTag;const Nn=yield Ie.client.fetch(V),qn=[Ie.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===Nn.status&&qn.push(Ie.storage.setLastSuccessfulFetchResponse(Nn)),yield Promise.all(qn),Nn})()}}function ft(I=navigator){return I.languages&&I.languages[0]||I.language}class Je{constructor(V,Ie,Rt,gn,Nn,qn){this.firebaseInstallations=V,this.sdkVersion=Ie,this.namespace=Rt,this.projectId=gn,this.apiKey=Nn,this.appId=qn}fetch(V){var Ie=this;return(0,De.Z)(function*(){const[Rt,gn]=yield Promise.all([Ie.firebaseInstallations.getId(),Ie.firebaseInstallations.getToken()]),qn=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${Ie.projectId}/namespaces/${Ie.namespace}:fetch?key=${Ie.apiKey}`,Ur={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":V.eTag||"*"},Wr={sdk_version:Ie.sdkVersion,app_instance_id:Rt,app_instance_id_token:gn,app_id:Ie.appId,language_code:ft()},qr={method:"POST",headers:Ur,body:JSON.stringify(Wr)},ss=fetch(qn,qr),Pr=new Promise((lo,Wo)=>{V.signal.addEventListener(()=>{const va=new Error("The operation was aborted.");va.name="AbortError",Wo(va)})});let Us;try{yield Promise.race([ss,Pr]),Us=yield ss}catch(lo){let Wo="fetch-client-network";throw"AbortError"===(null==lo?void 0:lo.name)&&(Wo="fetch-timeout"),Qe.create(Wo,{originalErrorMessage:null==lo?void 0:lo.message})}let Ro=Us.status;const po=Us.headers.get("ETag")||void 0;let Io,hs;if(200===Us.status){let lo;try{lo=yield Us.json()}catch(Wo){throw Qe.create("fetch-client-parse",{originalErrorMessage:null==Wo?void 0:Wo.message})}Io=lo.entries,hs=lo.state}if("INSTANCE_STATE_UNSPECIFIED"===hs?Ro=500:"NO_CHANGE"===hs?Ro=304:("NO_TEMPLATE"===hs||"EMPTY_CONFIG"===hs)&&(Io={}),304!==Ro&&200!==Ro)throw Qe.create("fetch-status",{httpStatus:Ro});return{status:Ro,eTag:po,config:Io}})()}}class qt{constructor(V,Ie){this.client=V,this.storage=Ie}fetch(V){var Ie=this;return(0,De.Z)(function*(){const Rt=(yield Ie.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return Ie.attemptFetch(V,Rt)})()}attemptFetch(V,{throttleEndTimeMillis:Ie,backoffCount:Rt}){var gn=this;return(0,De.Z)(function*(){yield function Et(I,V){return new Promise((Ie,Rt)=>{const gn=Math.max(V-Date.now(),0),Nn=setTimeout(Ie,gn);I.addEventListener(()=>{clearTimeout(Nn),Rt(Qe.create("fetch-throttle",{throttleEndTimeMillis:V}))})})}(V.signal,Ie);try{const Nn=yield gn.client.fetch(V);return yield gn.storage.deleteThrottleMetadata(),Nn}catch(Nn){if(!function vn(I){if(!(I instanceof dt.ZR&&I.customData))return!1;const V=Number(I.customData.httpStatus);return 429===V||500===V||503===V||504===V}(Nn))throw Nn;const qn={throttleEndTimeMillis:Date.now()+(0,dt.$s)(Rt),backoffCount:Rt+1};return yield gn.storage.setThrottleMetadata(qn),gn.attemptFetch(V,qn)}})()}}class li{constructor(V,Ie,Rt,gn,Nn){this.app=V,this._client=Ie,this._storageCache=Rt,this._storage=gn,this._logger=Nn,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Dn(I,V){const Ie=I.target.error||void 0;return Qe.create(V,{originalErrorMessage:Ie&&(null==Ie?void 0:Ie.message)})}const Nt="app_namespace_store";class Di{constructor(V,Ie,Rt,gn=function Ti(){return new Promise((I,V)=>{try{const Ie=indexedDB.open("firebase_remote_config",1);Ie.onerror=Rt=>{V(Dn(Rt,"storage-open"))},Ie.onsuccess=Rt=>{I(Rt.target.result)},Ie.onupgradeneeded=Rt=>{0===Rt.oldVersion&&Rt.target.result.createObjectStore(Nt,{keyPath:"compositeKey"})}}catch(Ie){V(Qe.create("storage-open",{originalErrorMessage:null==Ie?void 0:Ie.message}))}})}()){this.appId=V,this.appName=Ie,this.namespace=Rt,this.openDbPromise=gn}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(V){return this.set("last_fetch_status",V)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(V){return this.set("last_successful_fetch_timestamp_millis",V)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(V){return this.set("last_successful_fetch_response",V)}getActiveConfig(){return this.get("active_config")}setActiveConfig(V){return this.set("active_config",V)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(V){return this.set("active_config_etag",V)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(V){return this.set("throttle_metadata",V)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(V){var Ie=this;return(0,De.Z)(function*(){const Rt=yield Ie.openDbPromise;return new Promise((gn,Nn)=>{const Ur=Rt.transaction([Nt],"readonly").objectStore(Nt),Wr=Ie.createCompositeKey(V);try{const qr=Ur.get(Wr);qr.onerror=ss=>{Nn(Dn(ss,"storage-get"))},qr.onsuccess=ss=>{const Pr=ss.target.result;gn(Pr?Pr.value:void 0)}}catch(qr){Nn(Qe.create("storage-get",{originalErrorMessage:null==qr?void 0:qr.message}))}})})()}set(V,Ie){var Rt=this;return(0,De.Z)(function*(){const gn=yield Rt.openDbPromise;return new Promise((Nn,qn)=>{const Wr=gn.transaction([Nt],"readwrite").objectStore(Nt),qr=Rt.createCompositeKey(V);try{const ss=Wr.put({compositeKey:qr,value:Ie});ss.onerror=Pr=>{qn(Dn(Pr,"storage-set"))},ss.onsuccess=()=>{Nn()}}catch(ss){qn(Qe.create("storage-set",{originalErrorMessage:null==ss?void 0:ss.message}))}})})()}delete(V){var Ie=this;return(0,De.Z)(function*(){const Rt=yield Ie.openDbPromise;return new Promise((gn,Nn)=>{const Ur=Rt.transaction([Nt],"readwrite").objectStore(Nt),Wr=Ie.createCompositeKey(V);try{const qr=Ur.delete(Wr);qr.onerror=ss=>{Nn(Dn(ss,"storage-delete"))},qr.onsuccess=()=>{gn()}}catch(qr){Nn(Qe.create("storage-delete",{originalErrorMessage:null==qr?void 0:qr.message}))}})})()}createCompositeKey(V){return[this.appId,this.appName,this.namespace,V].join()}}class Vi{constructor(V){this.storage=V}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var V=this;return(0,De.Z)(function*(){const Ie=V.storage.getLastFetchStatus(),Rt=V.storage.getLastSuccessfulFetchTimestampMillis(),gn=V.storage.getActiveConfig(),Nn=yield Ie;Nn&&(V.lastFetchStatus=Nn);const qn=yield Rt;qn&&(V.lastSuccessfulFetchTimestampMillis=qn);const Ur=yield gn;Ur&&(V.activeConfig=Ur)})()}setLastFetchStatus(V){return this.lastFetchStatus=V,this.storage.setLastFetchStatus(V)}setLastSuccessfulFetchTimestampMillis(V){return this.lastSuccessfulFetchTimestampMillis=V,this.storage.setLastSuccessfulFetchTimestampMillis(V)}setActiveConfig(V){return this.activeConfig=V,this.storage.setActiveConfig(V)}}function rr(){return fr.apply(this,arguments)}function fr(){return(fr=(0,De.Z)(function*(){if(!(0,dt.hl)())return!1;try{return yield(0,dt.eu)()}catch{return!1}})).apply(this,arguments)}!function Xn(){(0,ze._registerComponent)(new Ye.wA("remote-config",function I(V,{instanceIdentifier:Ie}){const Rt=V.getProvider("app").getImmediate(),gn=V.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw Qe.create("registration-window");if(!(0,dt.hl)())throw Qe.create("indexed-db-unavailable");const{projectId:Nn,apiKey:qn,appId:Ur}=Rt.options;if(!Nn)throw Qe.create("registration-project-id");if(!qn)throw Qe.create("registration-api-key");if(!Ur)throw Qe.create("registration-app-id");const Wr=new Di(Ur,Rt.name,Ie=Ie||"firebase"),qr=new Vi(Wr),ss=new be.Yd(Ke);ss.logLevel=be.in.ERROR;const Pr=new Je(gn,ze.SDK_VERSION,Ie,Nn,qn,Ur),Us=new qt(Pr,Wr),Ro=new Ot(Us,Wr,qr,ss),po=new li(Rt,Ro,qr,Wr,ss);return function Yt(I){const V=(0,dt.m9)(I);V._initializePromise||(V._initializePromise=V._storageCache.loadFromStorage().then(()=>{V._isInitializationComplete=!0}))}(po),po},"PUBLIC").setMultipleInstances(!0)),(0,ze.registerVersion)(Ke,"0.4.4"),(0,ze.registerVersion)(Ke,"0.4.4","esm2017")}();const Ui=(I,V)=>V.some(Ie=>I instanceof Ie);let ii,kr;const ps=new WeakMap,Xr=new WeakMap,Bi=new WeakMap,Mi=new WeakMap,Zi=new WeakMap;let Ir={get(I,V,Ie){if(I instanceof IDBTransaction){if("done"===V)return Xr.get(I);if("objectStoreNames"===V)return I.objectStoreNames||Bi.get(I);if("store"===V)return Ie.objectStoreNames[1]?void 0:Ie.objectStore(Ie.objectStoreNames[0])}return Hi(I[V])},set:(I,V,Ie)=>(I[V]=Ie,!0),has:(I,V)=>I instanceof IDBTransaction&&("done"===V||"store"===V)||V in I};function tr(I){return"function"==typeof I?function ns(I){return I!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Li(){return kr||(kr=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(I)?function(...V){return I.apply(is(this),V),Hi(ps.get(this))}:function(...V){return Hi(I.apply(is(this),V))}:function(V,...Ie){const Rt=I.call(is(this),V,...Ie);return Bi.set(Rt,V.sort?V.sort():[V]),Hi(Rt)}}(I):(I instanceof IDBTransaction&&function Jr(I){if(Xr.has(I))return;const V=new Promise((Ie,Rt)=>{const gn=()=>{I.removeEventListener("complete",Nn),I.removeEventListener("error",qn),I.removeEventListener("abort",qn)},Nn=()=>{Ie(),gn()},qn=()=>{Rt(I.error||new DOMException("AbortError","AbortError")),gn()};I.addEventListener("complete",Nn),I.addEventListener("error",qn),I.addEventListener("abort",qn)});Xr.set(I,V)}(I),Ui(I,function Ar(){return ii||(ii=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(I,Ir):I)}function Hi(I){if(I instanceof IDBRequest)return function Qr(I){const V=new Promise((Ie,Rt)=>{const gn=()=>{I.removeEventListener("success",Nn),I.removeEventListener("error",qn)},Nn=()=>{Ie(Hi(I.result)),gn()},qn=()=>{Rt(I.error),gn()};I.addEventListener("success",Nn),I.addEventListener("error",qn)});return V.then(Ie=>{Ie instanceof IDBCursor&&ps.set(Ie,I)}).catch(()=>{}),Zi.set(V,I),V}(I);if(Mi.has(I))return Mi.get(I);const V=tr(I);return V!==I&&(Mi.set(I,V),Zi.set(V,I)),V}const is=I=>Zi.get(I);function nr(I,V,{blocked:Ie,upgrade:Rt,blocking:gn,terminated:Nn}={}){const qn=indexedDB.open(I,V),Ur=Hi(qn);return Rt&&qn.addEventListener("upgradeneeded",Wr=>{Rt(Hi(qn.result),Wr.oldVersion,Wr.newVersion,Hi(qn.transaction))}),Ie&&qn.addEventListener("blocked",()=>Ie()),Ur.then(Wr=>{Nn&&Wr.addEventListener("close",()=>Nn()),gn&&Wr.addEventListener("versionchange",()=>gn())}).catch(()=>{}),Ur}function zn(I,{blocked:V}={}){const Ie=indexedDB.deleteDatabase(I);return V&&Ie.addEventListener("blocked",()=>V()),Hi(Ie).then(()=>{})}const Ge=["get","getKey","getAll","getAllKeys","count"],Mt=["put","add","delete","clear"],_n=new Map;function Gn(I,V){if(!(I instanceof IDBDatabase)||V in I||"string"!=typeof V)return;if(_n.get(V))return _n.get(V);const Ie=V.replace(/FromIndex$/,""),Rt=V!==Ie,gn=Mt.includes(Ie);if(!(Ie in(Rt?IDBIndex:IDBObjectStore).prototype)||!gn&&!Ge.includes(Ie))return;const Nn=function(){var qn=(0,De.Z)(function*(Ur,...Wr){const qr=this.transaction(Ur,gn?"readwrite":"readonly");let ss=qr.store;return Rt&&(ss=ss.index(Wr.shift())),(yield Promise.all([ss[Ie](...Wr),gn&&qr.done]))[0]});return function(Wr){return qn.apply(this,arguments)}}();return _n.set(V,Nn),Nn}!function jr(I){Ir=I(Ir)}(I=>({...I,get:(V,Ie,Rt)=>Gn(V,Ie)||I.get(V,Ie,Rt),has:(V,Ie)=>!!Gn(V,Ie)||I.has(V,Ie)}));const mi="/firebase-messaging-sw.js",Dr="/firebase-cloud-messaging-push-scope",pr="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",sr="https://fcmregistrations.googleapis.com/v1",Pt="google.c.a.c_id",B="google.c.a.c_l",x="google.c.a.ts";var ne=(()=>((ne=ne||{}).PUSH_RECEIVED="push-received",ne.NOTIFICATION_CLICKED="notification-clicked",ne))();function ce(I){const V=new Uint8Array(I);return btoa(String.fromCharCode(...V)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function me(I){const Ie=(I+"=".repeat((4-I.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),Rt=atob(Ie),gn=new Uint8Array(Rt.length);for(let Nn=0;Nn<Rt.length;++Nn)gn[Nn]=Rt.charCodeAt(Nn);return gn}const Ve="fcm_token_details_db",Be=5,jt="fcm_token_object_Store";function fn(){return fn=(0,De.Z)(function*(I){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(Nn=>Nn.name).includes(Ve))return null;let V=null;return(yield nr(Ve,Be,{upgrade:(Rt=(0,De.Z)(function*(gn,Nn,qn,Ur){var Wr;if(Nn<2||!gn.objectStoreNames.contains(jt))return;const qr=Ur.objectStore(jt),ss=yield qr.index("fcmSenderId").get(I);if(yield qr.clear(),ss)if(2===Nn){const Pr=ss;if(!Pr.auth||!Pr.p256dh||!Pr.endpoint)return;V={token:Pr.fcmToken,createTime:null!==(Wr=Pr.createTime)&&void 0!==Wr?Wr:Date.now(),subscriptionOptions:{auth:Pr.auth,p256dh:Pr.p256dh,endpoint:Pr.endpoint,swScope:Pr.swScope,vapidKey:"string"==typeof Pr.vapidKey?Pr.vapidKey:ce(Pr.vapidKey)}}}else if(3===Nn){const Pr=ss;V={token:Pr.fcmToken,createTime:Pr.createTime,subscriptionOptions:{auth:ce(Pr.auth),p256dh:ce(Pr.p256dh),endpoint:Pr.endpoint,swScope:Pr.swScope,vapidKey:ce(Pr.vapidKey)}}}else if(4===Nn){const Pr=ss;V={token:Pr.fcmToken,createTime:Pr.createTime,subscriptionOptions:{auth:ce(Pr.auth),p256dh:ce(Pr.p256dh),endpoint:Pr.endpoint,swScope:Pr.swScope,vapidKey:ce(Pr.vapidKey)}}}}),function(Nn,qn,Ur,Wr){return Rt.apply(this,arguments)})})).close(),yield zn(Ve),yield zn("fcm_vapid_details_db"),yield zn("undefined"),function Wt(I){if(!I||!I.subscriptionOptions)return!1;const{subscriptionOptions:V}=I;return"number"==typeof I.createTime&&I.createTime>0&&"string"==typeof I.token&&I.token.length>0&&"string"==typeof V.auth&&V.auth.length>0&&"string"==typeof V.p256dh&&V.p256dh.length>0&&"string"==typeof V.endpoint&&V.endpoint.length>0&&"string"==typeof V.swScope&&V.swScope.length>0&&"string"==typeof V.vapidKey&&V.vapidKey.length>0}(V)?V:null;var Rt}),fn.apply(this,arguments)}const en="firebase-messaging-database",In=1,Ut="firebase-messaging-store";let rn=null;function hn(){return rn||(rn=nr(en,In,{upgrade:(I,V)=>{0===V&&I.createObjectStore(Ut)}})),rn}function Yn(I){return Kn.apply(this,arguments)}function Kn(){return Kn=(0,De.Z)(function*(I){const V=Ki(I),Rt=yield(yield hn()).transaction(Ut).objectStore(Ut).get(V);if(Rt)return Rt;{const gn=yield function Lt(I){return fn.apply(this,arguments)}(I.appConfig.senderId);if(gn)return yield ti(I,gn),gn}}),Kn.apply(this,arguments)}function ti(I,V){return $i.apply(this,arguments)}function $i(){return($i=(0,De.Z)(function*(I,V){const Ie=Ki(I),gn=(yield hn()).transaction(Ut,"readwrite");return yield gn.objectStore(Ut).put(V,Ie),yield gn.done,V})).apply(this,arguments)}function yr(){return(yr=(0,De.Z)(function*(I){const V=Ki(I),Rt=(yield hn()).transaction(Ut,"readwrite");yield Rt.objectStore(Ut).delete(V),yield Rt.done})).apply(this,arguments)}function Ki({appConfig:I}){return I.appId}const Wi=new dt.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function mr(I,V){return Hr.apply(this,arguments)}function Hr(){return(Hr=(0,De.Z)(function*(I,V){const Ie=yield uo(I),Rt=Zs(V),gn={method:"POST",headers:Ie,body:JSON.stringify(Rt)};let Nn;try{Nn=yield(yield fetch(Es(I.appConfig),gn)).json()}catch(qn){throw Wi.create("token-subscribe-failed",{errorInfo:null==qn?void 0:qn.toString()})}if(Nn.error)throw Wi.create("token-subscribe-failed",{errorInfo:Nn.error.message});if(!Nn.token)throw Wi.create("token-subscribe-no-token");return Nn.token})).apply(this,arguments)}function rs(){return(rs=(0,De.Z)(function*(I,V){const Ie=yield uo(I),Rt=Zs(V.subscriptionOptions),gn={method:"PATCH",headers:Ie,body:JSON.stringify(Rt)};let Nn;try{Nn=yield(yield fetch(`${Es(I.appConfig)}/${V.token}`,gn)).json()}catch(qn){throw Wi.create("token-update-failed",{errorInfo:null==qn?void 0:qn.toString()})}if(Nn.error)throw Wi.create("token-update-failed",{errorInfo:Nn.error.message});if(!Nn.token)throw Wi.create("token-update-no-token");return Nn.token})).apply(this,arguments)}function $s(I,V){return ws.apply(this,arguments)}function ws(){return(ws=(0,De.Z)(function*(I,V){const Rt={method:"DELETE",headers:yield uo(I)};try{const Nn=yield(yield fetch(`${Es(I.appConfig)}/${V}`,Rt)).json();if(Nn.error)throw Wi.create("token-unsubscribe-failed",{errorInfo:Nn.error.message})}catch(gn){throw Wi.create("token-unsubscribe-failed",{errorInfo:null==gn?void 0:gn.toString()})}})).apply(this,arguments)}function Es({projectId:I}){return`${sr}/projects/${I}/registrations`}function uo(I){return Eo.apply(this,arguments)}function Eo(){return(Eo=(0,De.Z)(function*({appConfig:I,installations:V}){const Ie=yield V.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":I.apiKey,"x-goog-firebase-installations-auth":`FIS ${Ie}`})})).apply(this,arguments)}function Zs({p256dh:I,auth:V,endpoint:Ie,vapidKey:Rt}){const gn={web:{endpoint:Ie,auth:V,p256dh:I}};return Rt!==pr&&(gn.web.applicationPubKey=Rt),gn}const ho=6048e5;function Ce(){return Ce=(0,De.Z)(function*(I){const V=yield function mn(I,V){return Mn.apply(this,arguments)}(I.swRegistration,I.vapidKey),Ie={vapidKey:I.vapidKey,swScope:I.swRegistration.scope,endpoint:V.endpoint,auth:ce(V.getKey("auth")),p256dh:ce(V.getKey("p256dh"))},Rt=yield Yn(I.firebaseDependencies);if(Rt){if(function yi(I,V){return V.vapidKey===I.vapidKey&&V.endpoint===I.endpoint&&V.auth===I.auth&&V.p256dh===I.p256dh}(Rt.subscriptionOptions,Ie))return Date.now()>=Rt.createTime+ho?function he(I,V){return Ae.apply(this,arguments)}(I,{token:Rt.token,createTime:Date.now(),subscriptionOptions:Ie}):Rt.token;try{yield $s(I.firebaseDependencies,Rt.token)}catch(gn){console.warn(gn)}return St(I.firebaseDependencies,Ie)}return St(I.firebaseDependencies,Ie)}),Ce.apply(this,arguments)}function Me(){return Me=(0,De.Z)(function*(I){const V=yield Yn(I.firebaseDependencies);V&&(yield $s(I.firebaseDependencies,V.token),yield function Sr(I){return yr.apply(this,arguments)}(I.firebaseDependencies));const Ie=yield I.swRegistration.pushManager.getSubscription();return!Ie||Ie.unsubscribe()}),Me.apply(this,arguments)}function Ae(){return Ae=(0,De.Z)(function*(I,V){try{const Ie=yield function ur(I,V){return rs.apply(this,arguments)}(I.firebaseDependencies,V),Rt=Object.assign(Object.assign({},V),{token:Ie,createTime:Date.now()});return yield ti(I.firebaseDependencies,Rt),Ie}catch(Ie){throw yield function He(I){return Me.apply(this,arguments)}(I),Ie}}),Ae.apply(this,arguments)}function St(I,V){return Kt.apply(this,arguments)}function Kt(){return(Kt=(0,De.Z)(function*(I,V){const Rt={token:yield mr(I,V),createTime:Date.now(),subscriptionOptions:V};return yield ti(I,Rt),Rt.token})).apply(this,arguments)}function Mn(){return(Mn=(0,De.Z)(function*(I,V){return(yield I.pushManager.getSubscription())||I.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:me(V)})})).apply(this,arguments)}function bi(I){const V={from:I.from,collapseKey:I.collapse_key,messageId:I.fcmMessageId};return function Cr(I,V){if(!V.notification)return;I.notification={};const Ie=V.notification.title;Ie&&(I.notification.title=Ie);const Rt=V.notification.body;Rt&&(I.notification.body=Rt);const gn=V.notification.image;gn&&(I.notification.image=gn);const Nn=V.notification.icon;Nn&&(I.notification.icon=Nn)}(V,I),function $r(I,V){V.data&&(I.data=V.data)}(V,I),function Xs(I,V){var Ie,Rt,gn,Nn,qn;if(!(V.fcmOptions||null!==(Ie=V.notification)&&void 0!==Ie&&Ie.click_action))return;I.fcmOptions={};const Ur=null!==(gn=null===(Rt=V.fcmOptions)||void 0===Rt?void 0:Rt.link)&&void 0!==gn?gn:null===(Nn=V.notification)||void 0===Nn?void 0:Nn.click_action;Ur&&(I.fcmOptions.link=Ur);const Wr=null===(qn=V.fcmOptions)||void 0===qn?void 0:qn.analytics_label;Wr&&(I.fcmOptions.analyticsLabel=Wr)}(V,I),V}function vs(I,V){const Ie=[];for(let Rt=0;Rt<I.length;Rt++)Ie.push(I.charAt(Rt)),Rt<V.length&&Ie.push(V.charAt(Rt));return Ie.join("")}function ri(I){return Wi.create("missing-app-config-values",{valueName:I})}vs("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),vs("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class vr{constructor(V,Ie,Rt){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const gn=function hr(I){if(!I||!I.options)throw ri("App Configuration Object");if(!I.name)throw ri("App Name");const V=["projectId","apiKey","appId","messagingSenderId"],{options:Ie}=I;for(const Rt of V)if(!Ie[Rt])throw ri(Rt);return{appName:I.name,projectId:Ie.projectId,apiKey:Ie.apiKey,appId:Ie.appId,senderId:Ie.messagingSenderId}}(V);this.firebaseDependencies={app:V,appConfig:gn,installations:Ie,analyticsProvider:Rt}}_delete(){return Promise.resolve()}}function So(){return(So=(0,De.Z)(function*(I){try{I.swRegistration=yield navigator.serviceWorker.register(mi,{scope:Dr}),I.swRegistration.update().catch(()=>{})}catch(V){throw Wi.create("failed-service-worker-registration",{browserErrorMessage:null==V?void 0:V.message})}})).apply(this,arguments)}function js(){return(js=(0,De.Z)(function*(I,V){if(!V&&!I.swRegistration&&(yield function _r(I){return So.apply(this,arguments)}(I)),V||!I.swRegistration){if(!(V instanceof ServiceWorkerRegistration))throw Wi.create("invalid-sw-registration");I.swRegistration=V}})).apply(this,arguments)}function Vr(){return(Vr=(0,De.Z)(function*(I,V){V?I.vapidKey=V:I.vapidKey||(I.vapidKey=pr)})).apply(this,arguments)}function Cs(){return Cs=(0,De.Z)(function*(I,V){if(!navigator)throw Wi.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Wi.create("permission-blocked");return yield function Qo(I,V){return Vr.apply(this,arguments)}(I,null==V?void 0:V.vapidKey),yield function Do(I,V){return js.apply(this,arguments)}(I,null==V?void 0:V.serviceWorkerRegistration),function fe(I){return Ce.apply(this,arguments)}(I)}),Cs.apply(this,arguments)}function Ao(){return(Ao=(0,De.Z)(function*(I,V,Ie){const Rt=function Gs(I){switch(I){case ne.NOTIFICATION_CLICKED:return"notification_open";case ne.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(V);(yield I.firebaseDependencies.analyticsProvider.get()).logEvent(Rt,{message_id:Ie[Pt],message_name:Ie[B],message_time:Ie[x],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Vs(){return Vs=(0,De.Z)(function*(I,V){const Ie=V.data;if(!Ie.isFirebaseMessaging)return;I.onMessageHandler&&Ie.messageType===ne.PUSH_RECEIVED&&("function"==typeof I.onMessageHandler?I.onMessageHandler(bi(Ie)):I.onMessageHandler.next(bi(Ie)));const Rt=Ie.data;(function Ks(I){return"object"==typeof I&&!!I&&Pt in I})(Rt)&&"1"===Rt["google.c.a.e"]&&(yield function Nr(I,V,Ie){return Ao.apply(this,arguments)}(I,Ie.messageType,Rt))}),Vs.apply(this,arguments)}const zo="@firebase/messaging",vo=I=>{const V=new vr(I.getProvider("app").getImmediate(),I.getProvider("installations-internal").getImmediate(),I.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",Ie=>function as(I,V){return Vs.apply(this,arguments)}(V,Ie)),V},ea=I=>{const V=I.getProvider("messaging").getImmediate();return{getToken:Rt=>function Mr(I,V){return Cs.apply(this,arguments)}(V,Rt)}};function ra(){return xo.apply(this,arguments)}function xo(){return(xo=(0,De.Z)(function*(){try{yield(0,dt.eu)()}catch{return!1}return typeof window<"u"&&(0,dt.hl)()&&(0,dt.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function ia(){(0,ze._registerComponent)(new Ye.wA("messaging",vo,"PUBLIC")),(0,ze._registerComponent)(new Ye.wA("messaging-internal",ea,"PRIVATE")),(0,ze.registerVersion)(zo,"0.12.4"),(0,ze.registerVersion)(zo,"0.12.4","esm2017")}();var ta=Y(5132),Po=Y(4408),jo=Y(7565);const bs=new class Lo extends jo.v{}(class fo extends Po.o{constructor(V,Ie){super(V,Ie),this.scheduler=V,this.work=Ie}schedule(V,Ie=0){return Ie>0?super.schedule(V,Ie):(this.delay=Ie,this.state=V,this.scheduler.flush(this),this)}execute(V,Ie){return Ie>0||this.closed?super.execute(V,Ie):this._execute(V,Ie)}requestAsyncId(V,Ie,Rt=0){return null!=Rt&&Rt>0||null==Rt&&this.delay>0?super.requestAsyncId(V,Ie,Rt):(V.flush(this),0)}});var aa=Y(4986),Ho=Y(9751),F=Y(8505),Se=Y(5363),$=Y(9468);const ge=new c.GfV("7.6.1"),ut="__angularfire_symbol__analyticsIsSupportedValue",oi="__angularfire_symbol__analyticsIsSupported",Yi="__angularfire_symbol__remoteConfigIsSupportedValue",Tr="__angularfire_symbol__remoteConfigIsSupported",cs="__angularfire_symbol__messagingIsSupportedValue",Ms="__angularfire_symbol__messagingIsSupported";globalThis[oi]||(globalThis[oi]=(0,ta.Gb)().then(I=>globalThis[ut]=I).catch(()=>globalThis[ut]=!1)),globalThis[Ms]||(globalThis[Ms]=ra().then(I=>globalThis[cs]=I).catch(()=>globalThis[cs]=!1)),globalThis[Tr]||(globalThis[Tr]=rr().then(I=>globalThis[Yi]=I).catch(()=>globalThis[Yi]=!1));const Fo={async:()=>globalThis[oi],sync:()=>{const I=globalThis[ut];if(void 0===I)throw new Error((I=>`The APP_INITIALIZER that is "making" isSupported() sync for the sake of convenient DI has not resolved in this\ncontext. Rather than injecting ${I} in the constructor, first ensure that ${I} is supported by calling\n\`await isSupported()\`, then retrieve the instance from the injector manually \`injector.get(${I})\`.`)("Analytics"));return I}};function Ra(I,V,Ie){if(V){if(1===V.length)return V[0];const Nn=V.filter(qn=>qn.app===Ie);if(1===Nn.length)return Nn[0]}return Ie.container.getProvider(I).getImmediate({optional:!0})}const la=(I,V)=>{const Ie=V?[V]:(0,y.C6)(),Rt=[];return Ie.forEach(gn=>{gn.container.getProvider(I).instances.forEach(qn=>{Rt.includes(qn)||Rt.push(qn)})}),Rt};function Hs(){}class da{constructor(V,Ie=bs){this.zone=V,this.delegate=Ie}now(){return this.delegate.now()}schedule(V,Ie,Rt){const gn=this.zone;return this.delegate.schedule(function(qn){gn.runGuarded(()=>{V.apply(this,[qn])})},Ie,Rt)}}class ys{constructor(V){this.zone=V,this.task=null}call(V,Ie){const Rt=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Hs,{},Hs,Hs)),Ie.pipe((0,F.b)({next:Rt,complete:Rt,error:Rt})).subscribe(V).add(Rt)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let ya=(()=>{class I{constructor(Ie){this.ngZone=Ie,this.outsideAngular=Ie.runOutsideAngular(()=>new da(Zone.current)),this.insideAngular=Ie.run(()=>new da(Zone.current,aa.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return I.\u0275fac=function(Ie){return new(Ie||I)(c.LFG(c.R0b))},I.\u0275prov=c.Yz7({token:I,factory:I.\u0275fac,providedIn:"root"}),I})();function Uo(){const I=globalThis.\u0275AngularFireScheduler;if(!I)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return I}function Ps(I){return Uo().ngZone.run(()=>I())}function ha(I){return I.pipe((0,Se.Q)(Uo().outsideAngular))}function Pe(I){return Uo(),function _e(I){return function(Ie){return(Ie=Ie.lift(new ys(I.ngZone))).pipe((0,$.R)(I.outsideAngular),(0,Se.Q)(I.insideAngular))}}(Uo())(I)}const H=(I,V)=>function(){const Rt=arguments;return V&&setTimeout(()=>{"scheduled"===V.state&&V.invoke()},10),Ps(()=>I.apply(void 0,Rt))},U=(I,V)=>function(){let Ie;const Rt=arguments;for(let Nn=0;Nn<arguments.length;Nn++)"function"==typeof Rt[Nn]&&(V&&(Ie||(Ie=Ps(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Hs,{},Hs,Hs)))),Rt[Nn]=H(Rt[Nn],Ie));const gn=function Na(I){return Uo().ngZone.runOutsideAngular(()=>I())}(()=>I.apply(this,Rt));if(!V){if(gn instanceof Ho.y){const Nn=Uo();return gn.pipe((0,$.R)(Nn.outsideAngular),(0,Se.Q)(Nn.insideAngular))}return Ps(()=>gn)}return gn instanceof Ho.y?gn.pipe(Pe):gn instanceof Promise?Ps(()=>new Promise((Nn,qn)=>gn.then(Ur=>Ps(()=>Nn(Ur)),Ur=>Ps(()=>qn(Ur))))):"function"==typeof gn&&Ie?function(){return setTimeout(()=>{Ie&&"scheduled"===Ie.state&&Ie.invoke()},10),gn.apply(this,arguments)}:Ps(()=>gn)}},1389:(Ii,ln,Y)=>{"use strict";Y.d(ln,{$:()=>Uo,A:()=>Re,D:()=>Qe,I:()=>ho,J:()=>he,L:()=>as,N:()=>pr,P:()=>D,Q:()=>no,R:()=>mt,U:()=>fo,V:()=>jo,W:()=>Lo,X:()=>Po,Y:()=>Ho,Z:()=>F,_:()=>oi,a:()=>ql,a0:()=>Ps,a1:()=>tl,a2:()=>U,a3:()=>Nn,a4:()=>Ur,a5:()=>qr,a6:()=>Pr,a7:()=>Ro,a8:()=>Io,a9:()=>lo,aA:()=>se,aB:()=>Wl,aC:()=>mi,aD:()=>sr,aE:()=>Fl,aF:()=>Oo,aG:()=>co,aH:()=>Es,aL:()=>ml,aO:()=>Aa,aa:()=>Wo,ab:()=>Go,ac:()=>ja,ad:()=>Ea,ae:()=>so,af:()=>nl,ai:()=>ie,aj:()=>Fe,ak:()=>it,an:()=>gs,ao:()=>oo,aq:()=>Js,ar:()=>zr,as:()=>Tt,at:()=>Be,au:()=>ce,av:()=>bt,aw:()=>Un,ax:()=>X,ay:()=>jt,az:()=>zt,b:()=>Al,c:()=>Sn,d:()=>di,e:()=>jn,f:()=>sa,g:()=>Va,h:()=>Qa,i:()=>Ys,j:()=>sl,k:()=>Ss,l:()=>fs,m:()=>Ql,o:()=>Tc,p:()=>$e,r:()=>ca,s:()=>ni,u:()=>g});var c=Y(5861),y=Y(2090),De=Y(6881),ze=Y(655),dt=Y(1877),Ye=Y(4859);const $e={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},Re={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const Qe=function Xe(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend."}},At=function Le(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},an=new y.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Ze=new dt.Yd("@firebase/auth");function It(G,...S){Ze.logLevel<=dt.in.ERROR&&Ze.error(`Auth (${De.SDK_VERSION}): ${G}`,...S)}function bt(G,...S){throw tt(G,...S)}function zt(G,...S){return tt(G,...S)}function Jt(G,S,M){const Q=Object.assign(Object.assign({},At()),{[S]:M});return new y.LL("auth","Firebase",Q).create(S,{appName:G.name})}function Yt(G,S,M){if(!(S instanceof M))throw M.name!==S.constructor.name&&bt(G,"argument-error"),Jt(G,"argument-error",`Type of ${S.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function tt(G,...S){if("string"!=typeof G){const M=S[0],Q=[...S.slice(1)];return Q[0]&&(Q[0].appName=G.name),G._errorFactory.create(M,...Q)}return an.create(G,...S)}function se(G,S,...M){if(!G)throw tt(S,...M)}function Vt(G){const S="INTERNAL ASSERTION FAILED: "+G;throw It(S),new Error(S)}function Tt(G,S){G||Vt(S)}function tn(){var G;return typeof self<"u"&&(null===(G=self.location)||void 0===G?void 0:G.href)||""}function dn(){return"http:"===ct()||"https:"===ct()}function ct(){var G;return typeof self<"u"&&(null===(G=self.location)||void 0===G?void 0:G.protocol)||null}class Ot{constructor(S,M){this.shortDelay=S,this.longDelay=M,Tt(M>S,"Short delay should be less than long delay!"),this.isMobile=(0,y.uI)()||(0,y.b$)()}get(){return function et(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(dn()||(0,y.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function ft(G,S){Tt(G.emulator,"Emulator should always be set here");const{url:M}=G.emulator;return S?`${M}${S.startsWith("/")?S.slice(1):S}`:M}class Je{static initialize(S,M,Q){this.fetchImpl=S,M&&(this.headersImpl=M),Q&&(this.responseImpl=Q)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void Vt("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void Vt("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void Vt("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Et={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},vn=new Ot(3e4,6e4);function qt(G,S){return G.tenantId&&!S.tenantId?Object.assign(Object.assign({},S),{tenantId:G.tenantId}):S}function xn(G,S,M,Q){return Gt.apply(this,arguments)}function Gt(){return(Gt=(0,c.Z)(function*(G,S,M,Q,Ne={}){return li(G,Ne,(0,c.Z)(function*(){let ht={},Rn={};Q&&("GET"===S?Rn=Q:ht={body:JSON.stringify(Q)});const si=(0,y.xO)(Object.assign({key:G.config.apiKey},Rn)).slice(1),ir=yield G._getAdditionalHeaders();return ir["Content-Type"]="application/json",G.languageCode&&(ir["X-Firebase-Locale"]=G.languageCode),Je.fetch()(Vn(G,G.config.apiHost,M,si),Object.assign({method:S,headers:ir,referrerPolicy:"no-referrer"},ht))}))})).apply(this,arguments)}function li(G,S,M){return Dn.apply(this,arguments)}function Dn(){return(Dn=(0,c.Z)(function*(G,S,M){G._canInitEmulator=!1;const Q=Object.assign(Object.assign({},Et),S);try{const Ne=new Ti(G),ht=yield Promise.race([M(),Ne.promise]);Ne.clearNetworkTimeout();const Rn=yield ht.json();if("needConfirmation"in Rn)throw Di(G,"account-exists-with-different-credential",Rn);if(ht.ok&&!("errorMessage"in Rn))return Rn;{const si=ht.ok?Rn.errorMessage:Rn.error.message,[ir,Kr]=si.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===ir)throw Di(G,"credential-already-in-use",Rn);if("EMAIL_EXISTS"===ir)throw Di(G,"email-already-in-use",Rn);if("USER_DISABLED"===ir)throw Di(G,"user-disabled",Rn);const Ds=Q[ir]||ir.toLowerCase().replace(/[_\s]+/g,"-");if(Kr)throw Jt(G,Ds,Kr);bt(G,Ds)}}catch(Ne){if(Ne instanceof y.ZR)throw Ne;bt(G,"network-request-failed",{message:String(Ne)})}})).apply(this,arguments)}function Nt(G,S,M,Q){return On.apply(this,arguments)}function On(){return(On=(0,c.Z)(function*(G,S,M,Q,Ne={}){const ht=yield xn(G,S,M,Q,Ne);return"mfaPendingCredential"in ht&&bt(G,"multi-factor-auth-required",{_serverResponse:ht}),ht})).apply(this,arguments)}function Vn(G,S,M,Q){const Ne=`${S}${M}?${Q}`;return G.config.emulator?ft(G.config,Ne):`${G.config.apiScheme}://${Ne}`}class Ti{constructor(S){this.auth=S,this.timer=null,this.promise=new Promise((M,Q)=>{this.timer=setTimeout(()=>Q(zt(this.auth,"network-request-failed")),vn.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Di(G,S,M){const Q={appName:G.name};M.email&&(Q.email=M.email),M.phoneNumber&&(Q.phoneNumber=M.phoneNumber);const Ne=zt(G,S,Q);return Ne.customData._tokenResponse=M,Ne}function Xn(){return(Xn=(0,c.Z)(function*(G,S){return xn(G,"POST","/v1/accounts:delete",S)})).apply(this,arguments)}function Ni(){return(Ni=(0,c.Z)(function*(G,S){return xn(G,"POST","/v1/accounts:update",S)})).apply(this,arguments)}function fr(){return(fr=(0,c.Z)(function*(G,S){return xn(G,"POST","/v1/accounts:lookup",S)})).apply(this,arguments)}function Ui(G){if(G)try{const S=new Date(Number(G));if(!isNaN(S.getTime()))return S.toUTCString()}catch{}}function Ar(){return(Ar=(0,c.Z)(function*(G,S=!1){const M=(0,y.m9)(G),Q=yield M.getIdToken(S),Ne=ps(Q);se(Ne&&Ne.exp&&Ne.auth_time&&Ne.iat,M.auth,"internal-error");const ht="object"==typeof Ne.firebase?Ne.firebase:void 0,Rn=null==ht?void 0:ht.sign_in_provider;return{claims:Ne,token:Q,authTime:Ui(Li(Ne.auth_time)),issuedAtTime:Ui(Li(Ne.iat)),expirationTime:Ui(Li(Ne.exp)),signInProvider:Rn||null,signInSecondFactor:(null==ht?void 0:ht.sign_in_second_factor)||null}})).apply(this,arguments)}function Li(G){return 1e3*Number(G)}function ps(G){const[S,M,Q]=G.split(".");if(void 0===S||void 0===M||void 0===Q)return It("JWT malformed, contained fewer than 3 sections"),null;try{const Ne=(0,y.tV)(M);return Ne?JSON.parse(Ne):(It("Failed to decode base64 JWT payload"),null)}catch(Ne){return It("Caught error parsing JWT payload as JSON",null==Ne?void 0:Ne.toString()),null}}function Bi(G,S){return Mi.apply(this,arguments)}function Mi(){return(Mi=(0,c.Z)(function*(G,S,M=!1){if(M)return S;try{return yield S}catch(Q){throw Q instanceof y.ZR&&function Zi({code:G}){return"auth/user-disabled"===G||"auth/user-token-expired"===G}(Q)&&G.auth.currentUser===G&&(yield G.auth.signOut()),Q}})).apply(this,arguments)}class Qr{constructor(S){this.user=S,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(S){var M;if(S){const Q=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),Q}{this.errorBackoff=3e4;const Ne=(null!==(M=this.user.stsTokenManager.expirationTime)&&void 0!==M?M:0)-Date.now()-3e5;return Math.max(0,Ne)}}schedule(S=!1){var M=this;if(!this.isRunning)return;const Q=this.getInterval(S);this.timerId=setTimeout((0,c.Z)(function*(){yield M.iteration()}),Q)}iteration(){var S=this;return(0,c.Z)(function*(){try{yield S.user.getIdToken(!0)}catch(M){return void("auth/network-request-failed"===(null==M?void 0:M.code)&&S.schedule(!0))}S.schedule()})()}}class Jr{constructor(S,M){this.createdAt=S,this.lastLoginAt=M,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ui(this.lastLoginAt),this.creationTime=Ui(this.createdAt)}_copy(S){this.createdAt=S.createdAt,this.lastLoginAt=S.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Ir(G){return jr.apply(this,arguments)}function jr(){return jr=(0,c.Z)(function*(G){var S;const M=G.auth,Q=yield G.getIdToken(),Ne=yield Bi(G,function rr(G,S){return fr.apply(this,arguments)}(M,{idToken:Q}));se(null==Ne?void 0:Ne.users.length,M,"internal-error");const ht=Ne.users[0];G._notifyReloadListener(ht);const Rn=null!==(S=ht.providerUserInfo)&&void 0!==S&&S.length?function is(G){return G.map(S=>{var{providerId:M}=S,Q=(0,ze._T)(S,["providerId"]);return{providerId:M,uid:Q.rawId||"",displayName:Q.displayName||null,email:Q.email||null,phoneNumber:Q.phoneNumber||null,photoURL:Q.photoUrl||null}})}(ht.providerUserInfo):[],si=function Hi(G,S){return[...G.filter(Q=>!S.some(Ne=>Ne.providerId===Q.providerId)),...S]}(G.providerData,Rn),Ds=!!G.isAnonymous&&!(G.email&&ht.passwordHash||null!=si&&si.length),wo={uid:ht.localId,displayName:ht.displayName||null,photoURL:ht.photoUrl||null,email:ht.email||null,emailVerified:ht.emailVerified||!1,phoneNumber:ht.phoneNumber||null,tenantId:ht.tenantId||null,providerData:si,metadata:new Jr(ht.createdAt,ht.lastLoginAt),isAnonymous:Ds};Object.assign(G,wo)}),jr.apply(this,arguments)}function tr(){return(tr=(0,c.Z)(function*(G){const S=(0,y.m9)(G);yield Ir(S),yield S.auth._persistUserIfCurrent(S),S.auth._notifyListenersIfCurrent(S)})).apply(this,arguments)}function zn(){return(zn=(0,c.Z)(function*(G,S){const M=yield li(G,{},(0,c.Z)(function*(){const Q=(0,y.xO)({grant_type:"refresh_token",refresh_token:S}).slice(1),{tokenApiHost:Ne,apiKey:ht}=G.config,Rn=Vn(G,Ne,"/v1/token",`key=${ht}`),si=yield G._getAdditionalHeaders();return si["Content-Type"]="application/x-www-form-urlencoded",Je.fetch()(Rn,{method:"POST",headers:si,body:Q})}));return{accessToken:M.access_token,expiresIn:M.expires_in,refreshToken:M.refresh_token}})).apply(this,arguments)}class Ge{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(S){se(S.idToken,"internal-error"),se(typeof S.idToken<"u","internal-error"),se(typeof S.refreshToken<"u","internal-error");const M="expiresIn"in S&&typeof S.expiresIn<"u"?Number(S.expiresIn):function Xr(G){const S=ps(G);return se(S,"internal-error"),se(typeof S.exp<"u","internal-error"),se(typeof S.iat<"u","internal-error"),Number(S.exp)-Number(S.iat)}(S.idToken);this.updateTokensAndExpiration(S.idToken,S.refreshToken,M)}getToken(S,M=!1){var Q=this;return(0,c.Z)(function*(){return se(!Q.accessToken||Q.refreshToken,S,"user-token-expired"),M||!Q.accessToken||Q.isExpired?Q.refreshToken?(yield Q.refresh(S,Q.refreshToken),Q.accessToken):null:Q.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(S,M){var Q=this;return(0,c.Z)(function*(){const{accessToken:Ne,refreshToken:ht,expiresIn:Rn}=yield function nr(G,S){return zn.apply(this,arguments)}(S,M);Q.updateTokensAndExpiration(Ne,ht,Number(Rn))})()}updateTokensAndExpiration(S,M,Q){this.refreshToken=M||null,this.accessToken=S||null,this.expirationTime=Date.now()+1e3*Q}static fromJSON(S,M){const{refreshToken:Q,accessToken:Ne,expirationTime:ht}=M,Rn=new Ge;return Q&&(se("string"==typeof Q,"internal-error",{appName:S}),Rn.refreshToken=Q),Ne&&(se("string"==typeof Ne,"internal-error",{appName:S}),Rn.accessToken=Ne),ht&&(se("number"==typeof ht,"internal-error",{appName:S}),Rn.expirationTime=ht),Rn}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(S){this.accessToken=S.accessToken,this.refreshToken=S.refreshToken,this.expirationTime=S.expirationTime}_clone(){return Object.assign(new Ge,this.toJSON())}_performRefresh(){return Vt("not implemented")}}function Mt(G,S){se("string"==typeof G||typeof G>"u","internal-error",{appName:S})}class _n{constructor(S){var{uid:M,auth:Q,stsTokenManager:Ne}=S,ht=(0,ze._T)(S,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Qr(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=M,this.auth=Q,this.stsTokenManager=Ne,this.accessToken=Ne.accessToken,this.displayName=ht.displayName||null,this.email=ht.email||null,this.emailVerified=ht.emailVerified||!1,this.phoneNumber=ht.phoneNumber||null,this.photoURL=ht.photoURL||null,this.isAnonymous=ht.isAnonymous||!1,this.tenantId=ht.tenantId||null,this.providerData=ht.providerData?[...ht.providerData]:[],this.metadata=new Jr(ht.createdAt||void 0,ht.lastLoginAt||void 0)}getIdToken(S){var M=this;return(0,c.Z)(function*(){const Q=yield Bi(M,M.stsTokenManager.getToken(M.auth,S));return se(Q,M.auth,"internal-error"),M.accessToken!==Q&&(M.accessToken=Q,yield M.auth._persistUserIfCurrent(M),M.auth._notifyListenersIfCurrent(M)),Q})()}getIdTokenResult(S){return function kr(G){return Ar.apply(this,arguments)}(this,S)}reload(){return function ns(G){return tr.apply(this,arguments)}(this)}_assign(S){this!==S&&(se(this.uid===S.uid,this.auth,"internal-error"),this.displayName=S.displayName,this.photoURL=S.photoURL,this.email=S.email,this.emailVerified=S.emailVerified,this.phoneNumber=S.phoneNumber,this.isAnonymous=S.isAnonymous,this.tenantId=S.tenantId,this.providerData=S.providerData.map(M=>Object.assign({},M)),this.metadata._copy(S.metadata),this.stsTokenManager._assign(S.stsTokenManager))}_clone(S){const M=new _n(Object.assign(Object.assign({},this),{auth:S,stsTokenManager:this.stsTokenManager._clone()}));return M.metadata._copy(this.metadata),M}_onReload(S){se(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=S,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(S){this.reloadListener?this.reloadListener(S):this.reloadUserInfo=S}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(S,M=!1){var Q=this;return(0,c.Z)(function*(){let Ne=!1;S.idToken&&S.idToken!==Q.stsTokenManager.accessToken&&(Q.stsTokenManager.updateFromServerResponse(S),Ne=!0),M&&(yield Ir(Q)),yield Q.auth._persistUserIfCurrent(Q),Ne&&Q.auth._notifyListenersIfCurrent(Q)})()}delete(){var S=this;return(0,c.Z)(function*(){const M=yield S.getIdToken();return yield Bi(S,function Vi(G,S){return Xn.apply(this,arguments)}(S.auth,{idToken:M})),S.stsTokenManager.clearRefreshToken(),S.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(S=>Object.assign({},S)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(S,M){var Q,Ne,ht,Rn,si,ir,Kr,Ds;const wo=null!==(Q=M.displayName)&&void 0!==Q?Q:void 0,Bl=null!==(Ne=M.email)&&void 0!==Ne?Ne:void 0,dc=null!==(ht=M.phoneNumber)&&void 0!==ht?ht:void 0,su=null!==(Rn=M.photoURL)&&void 0!==Rn?Rn:void 0,ka=null!==(si=M.tenantId)&&void 0!==si?si:void 0,Dc=null!==(ir=M._redirectEventId)&&void 0!==ir?ir:void 0,Ua=null!==(Kr=M.createdAt)&&void 0!==Kr?Kr:void 0,Rc=null!==(Ds=M.lastLoginAt)&&void 0!==Ds?Ds:void 0,{uid:dl,emailVerified:El,isAnonymous:ic,providerData:ou,stsTokenManager:rc}=M;se(dl&&rc,S,"internal-error");const fh=Ge.fromJSON(this.name,rc);se("string"==typeof dl,S,"internal-error"),Mt(wo,S.name),Mt(Bl,S.name),se("boolean"==typeof El,S,"internal-error"),se("boolean"==typeof ic,S,"internal-error"),Mt(dc,S.name),Mt(su,S.name),Mt(ka,S.name),Mt(Dc,S.name),Mt(Ua,S.name),Mt(Rc,S.name);const au=new _n({uid:dl,auth:S,email:Bl,emailVerified:El,displayName:wo,isAnonymous:ic,photoURL:su,phoneNumber:dc,tenantId:ka,stsTokenManager:fh,createdAt:Ua,lastLoginAt:Rc});return ou&&Array.isArray(ou)&&(au.providerData=ou.map(mo=>Object.assign({},mo))),Dc&&(au._redirectEventId=Dc),au}static _fromIdTokenResponse(S,M,Q=!1){return(0,c.Z)(function*(){const Ne=new Ge;Ne.updateFromServerResponse(M);const ht=new _n({uid:M.localId,auth:S,stsTokenManager:Ne,isAnonymous:Q});return yield Ir(ht),ht})()}}const Gn=new Map;function mi(G){Tt(G instanceof Function,"Expected a class definition");let S=Gn.get(G);return S?(Tt(S instanceof G,"Instance stored in cache mismatched with class"),S):(S=new G,Gn.set(G,S),S)}const pr=(()=>{class G{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,c.Z)(function*(){return!0})()}_set(M,Q){var Ne=this;return(0,c.Z)(function*(){Ne.storage[M]=Q})()}_get(M){var Q=this;return(0,c.Z)(function*(){const Ne=Q.storage[M];return void 0===Ne?null:Ne})()}_remove(M){var Q=this;return(0,c.Z)(function*(){delete Q.storage[M]})()}_addListener(M,Q){}_removeListener(M,Q){}}return G.type="NONE",G})();function sr(G,S,M){return`firebase:${G}:${S}:${M}`}class Pt{constructor(S,M,Q){this.persistence=S,this.auth=M,this.userKey=Q;const{config:Ne,name:ht}=this.auth;this.fullUserKey=sr(this.userKey,Ne.apiKey,ht),this.fullPersistenceKey=sr("persistence",Ne.apiKey,ht),this.boundEventHandler=M._onStorageEvent.bind(M),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(S){return this.persistence._set(this.fullUserKey,S.toJSON())}getCurrentUser(){var S=this;return(0,c.Z)(function*(){const M=yield S.persistence._get(S.fullUserKey);return M?_n._fromJSON(S.auth,M):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(S){var M=this;return(0,c.Z)(function*(){if(M.persistence===S)return;const Q=yield M.getCurrentUser();return yield M.removeCurrentUser(),M.persistence=S,Q?M.setCurrentUser(Q):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(S,M,Q="authUser"){return(0,c.Z)(function*(){if(!M.length)return new Pt(mi(pr),S,Q);const Ne=(yield Promise.all(M.map(function(){var Kr=(0,c.Z)(function*(Ds){if(yield Ds._isAvailable())return Ds});return function(Ds){return Kr.apply(this,arguments)}}()))).filter(Kr=>Kr);let ht=Ne[0]||mi(pr);const Rn=sr(Q,S.config.apiKey,S.name);let si=null;for(const Kr of M)try{const Ds=yield Kr._get(Rn);if(Ds){const wo=_n._fromJSON(S,Ds);Kr!==ht&&(si=wo),ht=Kr;break}}catch{}const ir=Ne.filter(Kr=>Kr._shouldAllowMigration);return ht._shouldAllowMigration&&ir.length?(ht=ir[0],si&&(yield ht._set(Rn,si.toJSON())),yield Promise.all(M.map(function(){var Kr=(0,c.Z)(function*(Ds){if(Ds!==ht)try{yield Ds._remove(Rn)}catch{}});return function(Ds){return Kr.apply(this,arguments)}}())),new Pt(ht,S,Q)):new Pt(ht,S,Q)})()}}function B(G){const S=G.toLowerCase();if(S.includes("opera/")||S.includes("opr/")||S.includes("opios/"))return"Opera";if(ne(S))return"IEMobile";if(S.includes("msie")||S.includes("trident/"))return"IE";if(S.includes("edge/"))return"Edge";if(x(S))return"Firefox";if(S.includes("silk/"))return"Silk";if(me(S))return"Blackberry";if(Ve(S))return"Webos";if(A(S))return"Safari";if((S.includes("chrome/")||O(S))&&!S.includes("edge/"))return"Chrome";if(ce(S))return"Android";{const Q=G.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==Q?void 0:Q.length))return Q[1]}return"Other"}function x(G=(0,y.z$)()){return/firefox\//i.test(G)}function A(G=(0,y.z$)()){const S=G.toLowerCase();return S.includes("safari/")&&!S.includes("chrome/")&&!S.includes("crios/")&&!S.includes("android")}function O(G=(0,y.z$)()){return/crios\//i.test(G)}function ne(G=(0,y.z$)()){return/iemobile/i.test(G)}function ce(G=(0,y.z$)()){return/android/i.test(G)}function me(G=(0,y.z$)()){return/blackberry/i.test(G)}function Ve(G=(0,y.z$)()){return/webos/i.test(G)}function Be(G=(0,y.z$)()){return/iphone|ipad|ipod/i.test(G)||/macintosh/i.test(G)&&/mobile/i.test(G)}function jt(G=(0,y.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(G)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(G)}function Wt(G=(0,y.z$)()){return Be(G)||ce(G)||Ve(G)||me(G)||/windows phone/i.test(G)||ne(G)}function In(G,S=[]){let M;switch(G){case"Browser":M=B((0,y.z$)());break;case"Worker":M=`${B((0,y.z$)())}-${G}`;break;default:M=G}const Q=S.length?S.join(","):"FirebaseCore-web";return`${M}/JsCore/${De.SDK_VERSION}/${Q}`}function rn(){return(rn=(0,c.Z)(function*(G){return(yield xn(G,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function hn(G,S){return Yn.apply(this,arguments)}function Yn(){return(Yn=(0,c.Z)(function*(G,S){return xn(G,"GET","/v2/recaptchaConfig",qt(G,S))})).apply(this,arguments)}function Kn(G){return void 0!==G&&void 0!==G.getResponse}function ti(G){return void 0!==G&&void 0!==G.enterprise}class $i{constructor(S){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===S.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=S.recaptchaKey.split("/")[3],this.emailPasswordEnabled=S.recaptchaEnforcementState.some(M=>"EMAIL_PASSWORD_PROVIDER"===M.provider&&"OFF"!==M.enforcementState)}}function yr(G){return new Promise((S,M)=>{const Q=document.createElement("script");Q.setAttribute("src",G),Q.onload=S,Q.onerror=Ne=>{const ht=zt("internal-error");ht.customData=Ne,M(ht)},Q.type="text/javascript",Q.charset="UTF-8",function Sr(){var G,S;return null!==(S=null===(G=document.getElementsByTagName("head"))||void 0===G?void 0:G[0])&&void 0!==S?S:document}().appendChild(Q)})}function Ki(G){return`__${G}${Math.floor(1e6*Math.random())}`}class Hr{constructor(S){this.type="recaptcha-enterprise",this.auth=Es(S)}verify(S="verify",M=!1){var Q=this;return(0,c.Z)(function*(){function ht(){return ht=(0,c.Z)(function*(si){if(!M){if(null==si.tenantId&&null!=si._agentRecaptchaConfig)return si._agentRecaptchaConfig.siteKey;if(null!=si.tenantId&&void 0!==si._tenantRecaptchaConfigs[si.tenantId])return si._tenantRecaptchaConfigs[si.tenantId].siteKey}return new Promise(function(){var ir=(0,c.Z)(function*(Kr,Ds){hn(si,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(wo=>{if(void 0!==wo.recaptchaKey){const Bl=new $i(wo);return null==si.tenantId?si._agentRecaptchaConfig=Bl:si._tenantRecaptchaConfigs[si.tenantId]=Bl,Kr(Bl.siteKey)}Ds(new Error("recaptcha Enterprise site key undefined"))}).catch(wo=>{Ds(wo)})});return function(Kr,Ds){return ir.apply(this,arguments)}}())}),ht.apply(this,arguments)}function Rn(si,ir,Kr){const Ds=window.grecaptcha;ti(Ds)?Ds.enterprise.ready(()=>{Ds.enterprise.execute(si,{action:S}).then(wo=>{ir(wo)}).catch(()=>{ir("NO_RECAPTCHA")})}):Kr(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((si,ir)=>{(function Ne(si){return ht.apply(this,arguments)})(Q.auth).then(Kr=>{if(!M&&ti(window.grecaptcha))Rn(Kr,si,ir);else{if(typeof window>"u")return void ir(new Error("RecaptchaVerifier is only supported in browser"));yr("https://www.google.com/recaptcha/enterprise.js?render="+Kr).then(()=>{Rn(Kr,si,ir)}).catch(Ds=>{ir(Ds)})}}).catch(Kr=>{ir(Kr)})})})()}}function ur(G,S,M){return rs.apply(this,arguments)}function rs(){return(rs=(0,c.Z)(function*(G,S,M,Q=!1){const Ne=new Hr(G);let ht;try{ht=yield Ne.verify(M)}catch{ht=yield Ne.verify(M,!0)}const Rn=Object.assign({},S);return Object.assign(Rn,Q?{captchaResp:ht}:{captchaResponse:ht}),Object.assign(Rn,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(Rn,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),Rn})).apply(this,arguments)}class $s{constructor(S){this.auth=S,this.queue=[]}pushCallback(S,M){const Q=ht=>new Promise((Rn,si)=>{try{Rn(S(ht))}catch(ir){si(ir)}});Q.onAbort=M,this.queue.push(Q);const Ne=this.queue.length-1;return()=>{this.queue[Ne]=()=>Promise.resolve()}}runMiddleware(S){var M=this;return(0,c.Z)(function*(){if(M.auth.currentUser===S)return;const Q=[];try{for(const Ne of M.queue)yield Ne(S),Ne.onAbort&&Q.push(Ne.onAbort)}catch(Ne){Q.reverse();for(const ht of Q)try{ht()}catch{}throw M.auth._errorFactory.create("login-blocked",{originalMessage:null==Ne?void 0:Ne.message})}})()}}class ws{constructor(S,M,Q,Ne){this.app=S,this.heartbeatServiceProvider=M,this.appCheckServiceProvider=Q,this.config=Ne,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new uo(this),this.idTokenSubscription=new uo(this),this.beforeStateQueue=new $s(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=an,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=S.name,this.clientVersion=Ne.sdkClientVersion}_initializeWithPersistence(S,M){var Q=this;return M&&(this._popupRedirectResolver=mi(M)),this._initializationPromise=this.queue((0,c.Z)(function*(){var Ne,ht;if(!Q._deleted&&(Q.persistenceManager=yield Pt.create(Q,S),!Q._deleted)){if(null!==(Ne=Q._popupRedirectResolver)&&void 0!==Ne&&Ne._shouldInitProactively)try{yield Q._popupRedirectResolver._initialize(Q)}catch{}yield Q.initializeCurrentUser(M),Q.lastNotifiedUid=(null===(ht=Q.currentUser)||void 0===ht?void 0:ht.uid)||null,!Q._deleted&&(Q._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var S=this;return(0,c.Z)(function*(){if(S._deleted)return;const M=yield S.assertedPersistence.getCurrentUser();if(S.currentUser||M){if(S.currentUser&&M&&S.currentUser.uid===M.uid)return S._currentUser._assign(M),void(yield S.currentUser.getIdToken());yield S._updateCurrentUser(M,!0)}})()}initializeCurrentUser(S){var M=this;return(0,c.Z)(function*(){var Q;const Ne=yield M.assertedPersistence.getCurrentUser();let ht=Ne,Rn=!1;if(S&&M.config.authDomain){yield M.getOrInitRedirectPersistenceManager();const si=null===(Q=M.redirectUser)||void 0===Q?void 0:Q._redirectEventId,ir=null==ht?void 0:ht._redirectEventId,Kr=yield M.tryRedirectSignIn(S);(!si||si===ir)&&null!=Kr&&Kr.user&&(ht=Kr.user,Rn=!0)}if(!ht)return M.directlySetCurrentUser(null);if(!ht._redirectEventId){if(Rn)try{yield M.beforeStateQueue.runMiddleware(ht)}catch(si){ht=Ne,M._popupRedirectResolver._overrideRedirectResult(M,()=>Promise.reject(si))}return ht?M.reloadAndSetCurrentUserOrClear(ht):M.directlySetCurrentUser(null)}return se(M._popupRedirectResolver,M,"argument-error"),yield M.getOrInitRedirectPersistenceManager(),M.redirectUser&&M.redirectUser._redirectEventId===ht._redirectEventId?M.directlySetCurrentUser(ht):M.reloadAndSetCurrentUserOrClear(ht)})()}tryRedirectSignIn(S){var M=this;return(0,c.Z)(function*(){let Q=null;try{Q=yield M._popupRedirectResolver._completeRedirectFn(M,S,!0)}catch{yield M._setRedirectUser(null)}return Q})()}reloadAndSetCurrentUserOrClear(S){var M=this;return(0,c.Z)(function*(){try{yield Ir(S)}catch(Q){if("auth/network-request-failed"!==(null==Q?void 0:Q.code))return M.directlySetCurrentUser(null)}return M.directlySetCurrentUser(S)})()}useDeviceLanguage(){this.languageCode=function wt(){if(typeof navigator>"u")return null;const G=navigator;return G.languages&&G.languages[0]||G.language||null}()}_delete(){var S=this;return(0,c.Z)(function*(){S._deleted=!0})()}updateCurrentUser(S){var M=this;return(0,c.Z)(function*(){const Q=S?(0,y.m9)(S):null;return Q&&se(Q.auth.config.apiKey===M.config.apiKey,M,"invalid-user-token"),M._updateCurrentUser(Q&&Q._clone(M))})()}_updateCurrentUser(S,M=!1){var Q=this;return(0,c.Z)(function*(){if(!Q._deleted)return S&&se(Q.tenantId===S.tenantId,Q,"tenant-id-mismatch"),M||(yield Q.beforeStateQueue.runMiddleware(S)),Q.queue((0,c.Z)(function*(){yield Q.directlySetCurrentUser(S),Q.notifyAuthListeners()}))})()}signOut(){var S=this;return(0,c.Z)(function*(){return yield S.beforeStateQueue.runMiddleware(null),(S.redirectPersistenceManager||S._popupRedirectResolver)&&(yield S._setRedirectUser(null)),S._updateCurrentUser(null,!0)})()}setPersistence(S){var M=this;return this.queue((0,c.Z)(function*(){yield M.assertedPersistence.setPersistence(mi(S))}))}initializeRecaptchaConfig(){var S=this;return(0,c.Z)(function*(){const M=yield hn(S,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),Q=new $i(M);null==S.tenantId?S._agentRecaptchaConfig=Q:S._tenantRecaptchaConfigs[S.tenantId]=Q,Q.emailPasswordEnabled&&new Hr(S).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(S){this._errorFactory=new y.LL("auth","Firebase",S())}onAuthStateChanged(S,M,Q){return this.registerStateListener(this.authStateSubscription,S,M,Q)}beforeAuthStateChanged(S,M){return this.beforeStateQueue.pushCallback(S,M)}onIdTokenChanged(S,M,Q){return this.registerStateListener(this.idTokenSubscription,S,M,Q)}toJSON(){var S;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(S=this._currentUser)||void 0===S?void 0:S.toJSON()}}_setRedirectUser(S,M){var Q=this;return(0,c.Z)(function*(){const Ne=yield Q.getOrInitRedirectPersistenceManager(M);return null===S?Ne.removeCurrentUser():Ne.setCurrentUser(S)})()}getOrInitRedirectPersistenceManager(S){var M=this;return(0,c.Z)(function*(){if(!M.redirectPersistenceManager){const Q=S&&mi(S)||M._popupRedirectResolver;se(Q,M,"argument-error"),M.redirectPersistenceManager=yield Pt.create(M,[mi(Q._redirectPersistence)],"redirectUser"),M.redirectUser=yield M.redirectPersistenceManager.getCurrentUser()}return M.redirectPersistenceManager})()}_redirectUserForId(S){var M=this;return(0,c.Z)(function*(){var Q,Ne;return M._isInitialized&&(yield M.queue((0,c.Z)(function*(){}))),(null===(Q=M._currentUser)||void 0===Q?void 0:Q._redirectEventId)===S?M._currentUser:(null===(Ne=M.redirectUser)||void 0===Ne?void 0:Ne._redirectEventId)===S?M.redirectUser:null})()}_persistUserIfCurrent(S){var M=this;return(0,c.Z)(function*(){if(S===M.currentUser)return M.queue((0,c.Z)(function*(){return M.directlySetCurrentUser(S)}))})()}_notifyListenersIfCurrent(S){S===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var S,M;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const Q=null!==(M=null===(S=this.currentUser)||void 0===S?void 0:S.uid)&&void 0!==M?M:null;this.lastNotifiedUid!==Q&&(this.lastNotifiedUid=Q,this.authStateSubscription.next(this.currentUser))}registerStateListener(S,M,Q,Ne){if(this._deleted)return()=>{};const ht="function"==typeof M?M:M.next.bind(M),Rn=this._isInitialized?Promise.resolve():this._initializationPromise;return se(Rn,this,"internal-error"),Rn.then(()=>ht(this.currentUser)),"function"==typeof M?S.addObserver(M,Q,Ne):S.addObserver(M)}directlySetCurrentUser(S){var M=this;return(0,c.Z)(function*(){M.currentUser&&M.currentUser!==S&&M._currentUser._stopProactiveRefresh(),S&&M.isProactiveRefreshEnabled&&S._startProactiveRefresh(),M.currentUser=S,S?yield M.assertedPersistence.setCurrentUser(S):yield M.assertedPersistence.removeCurrentUser()})()}queue(S){return this.operations=this.operations.then(S,S),this.operations}get assertedPersistence(){return se(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(S){!S||this.frameworks.includes(S)||(this.frameworks.push(S),this.frameworks.sort(),this.clientVersion=In(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var S=this;return(0,c.Z)(function*(){var M;const Q={"X-Client-Version":S.clientVersion};S.app.options.appId&&(Q["X-Firebase-gmpid"]=S.app.options.appId);const Ne=yield null===(M=S.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===M?void 0:M.getHeartbeatsHeader();Ne&&(Q["X-Firebase-Client"]=Ne);const ht=yield S._getAppCheckToken();return ht&&(Q["X-Firebase-AppCheck"]=ht),Q})()}_getAppCheckToken(){var S=this;return(0,c.Z)(function*(){var M;const Q=yield null===(M=S.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===M?void 0:M.getToken();return null!=Q&&Q.error&&function on(G,...S){Ze.logLevel<=dt.in.WARN&&Ze.warn(`Auth (${De.SDK_VERSION}): ${G}`,...S)}(`Error while retrieving App Check token: ${Q.error}`),null==Q?void 0:Q.token})()}}function Es(G){return(0,y.m9)(G)}class uo{constructor(S){this.auth=S,this.observer=null,this.addObserver=(0,y.ne)(M=>this.observer=M)}get next(){return se(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function ho(G,S,M){const Q=Es(G);se(Q._canInitEmulator,Q,"emulator-config-failed"),se(/^https?:\/\//.test(S),Q,"invalid-emulator-scheme");const Ne=!(null==M||!M.disableWarnings),ht=fe(S),{host:Rn,port:si}=function Ce(G){const S=fe(G),M=/(\/\/)?([^?#/]+)/.exec(G.substr(S.length));if(!M)return{host:"",port:null};const Q=M[2].split("@").pop()||"",Ne=/^(\[[^\]]+\])(:|$)/.exec(Q);if(Ne){const ht=Ne[1];return{host:ht,port:He(Q.substr(ht.length+1))}}{const[ht,Rn]=Q.split(":");return{host:ht,port:He(Rn)}}}(S);Q.config.emulator={url:`${ht}//${Rn}${null===si?"":`:${si}`}/`},Q.settings.appVerificationDisabledForTesting=!0,Q.emulatorConfig=Object.freeze({host:Rn,port:si,protocol:ht.replace(":",""),options:Object.freeze({disableWarnings:Ne})}),Ne||function Me(){function G(){const S=document.createElement("p"),M=S.style;S.innerText="Running in emulator mode. Do not use with production credentials.",M.position="fixed",M.width="100%",M.backgroundColor="#ffffff",M.border=".1em solid #000000",M.color="#b50000",M.bottom="0px",M.left="0px",M.margin="0px",M.zIndex="10000",M.textAlign="center",S.classList.add("firebase-emulator-warning"),document.body.appendChild(S)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",G):G())}()}function fe(G){const S=G.indexOf(":");return S<0?"":G.substr(0,S+1)}function He(G){if(!G)return null;const S=Number(G);return isNaN(S)?null:S}class he{constructor(S,M){this.providerId=S,this.signInMethod=M}toJSON(){return Vt("not implemented")}_getIdTokenResponse(S){return Vt("not implemented")}_linkToIdToken(S,M){return Vt("not implemented")}_getReauthenticationResolver(S){return Vt("not implemented")}}function Ae(G,S){return St.apply(this,arguments)}function St(){return(St=(0,c.Z)(function*(G,S){return xn(G,"POST","/v1/accounts:resetPassword",qt(G,S))})).apply(this,arguments)}function Kt(G,S){return mn.apply(this,arguments)}function mn(){return(mn=(0,c.Z)(function*(G,S){return xn(G,"POST","/v1/accounts:update",S)})).apply(this,arguments)}function yi(){return(yi=(0,c.Z)(function*(G,S){return xn(G,"POST","/v1/accounts:update",qt(G,S))})).apply(this,arguments)}function bi(G,S){return Cr.apply(this,arguments)}function Cr(){return(Cr=(0,c.Z)(function*(G,S){return Nt(G,"POST","/v1/accounts:signInWithPassword",qt(G,S))})).apply(this,arguments)}function $r(G,S){return Xs.apply(this,arguments)}function Xs(){return(Xs=(0,c.Z)(function*(G,S){return xn(G,"POST","/v1/accounts:sendOobCode",qt(G,S))})).apply(this,arguments)}function vs(){return(vs=(0,c.Z)(function*(G,S){return $r(G,S)})).apply(this,arguments)}function hr(G,S){return ri.apply(this,arguments)}function ri(){return(ri=(0,c.Z)(function*(G,S){return $r(G,S)})).apply(this,arguments)}function vr(G,S){return _r.apply(this,arguments)}function _r(){return(_r=(0,c.Z)(function*(G,S){return $r(G,S)})).apply(this,arguments)}function Do(){return(Do=(0,c.Z)(function*(G,S){return $r(G,S)})).apply(this,arguments)}function Qo(){return(Qo=(0,c.Z)(function*(G,S){return Nt(G,"POST","/v1/accounts:signInWithEmailLink",qt(G,S))})).apply(this,arguments)}function Mr(){return(Mr=(0,c.Z)(function*(G,S){return Nt(G,"POST","/v1/accounts:signInWithEmailLink",qt(G,S))})).apply(this,arguments)}class Cs extends he{constructor(S,M,Q,Ne=null){super("password",Q),this._email=S,this._password=M,this._tenantId=Ne}static _fromEmailAndPassword(S,M){return new Cs(S,M,"password")}static _fromEmailAndCode(S,M,Q=null){return new Cs(S,M,"emailLink",Q)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(S){const M="string"==typeof S?JSON.parse(S):S;if(null!=M&&M.email&&null!=M&&M.password){if("password"===M.signInMethod)return this._fromEmailAndPassword(M.email,M.password);if("emailLink"===M.signInMethod)return this._fromEmailAndCode(M.email,M.password,M.tenantId)}return null}_getIdTokenResponse(S){var M=this;return(0,c.Z)(function*(){var Q;switch(M.signInMethod){case"password":const Ne={returnSecureToken:!0,email:M._email,password:M._password,clientType:"CLIENT_TYPE_WEB"};if(null!==(Q=S._getRecaptchaConfig())&&void 0!==Q&&Q.emailPasswordEnabled){const ht=yield ur(S,Ne,"signInWithPassword");return bi(S,ht)}return bi(S,Ne).catch(function(){var ht=(0,c.Z)(function*(Rn){if("auth/missing-recaptcha-token"===Rn.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const si=yield ur(S,Ne,"signInWithPassword");return bi(S,si)}return Promise.reject(Rn)});return function(Rn){return ht.apply(this,arguments)}}());case"emailLink":return function js(G,S){return Qo.apply(this,arguments)}(S,{email:M._email,oobCode:M._password});default:bt(S,"internal-error")}})()}_linkToIdToken(S,M){var Q=this;return(0,c.Z)(function*(){switch(Q.signInMethod){case"password":return Kt(S,{idToken:M,returnSecureToken:!0,email:Q._email,password:Q._password});case"emailLink":return function Vr(G,S){return Mr.apply(this,arguments)}(S,{idToken:M,email:Q._email,oobCode:Q._password});default:bt(S,"internal-error")}})()}_getReauthenticationResolver(S){return this._getIdTokenResponse(S)}}function Nr(G,S){return Ao.apply(this,arguments)}function Ao(){return(Ao=(0,c.Z)(function*(G,S){return Nt(G,"POST","/v1/accounts:signInWithIdp",qt(G,S))})).apply(this,arguments)}class as extends he{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(S){const M=new as(S.providerId,S.signInMethod);return S.idToken||S.accessToken?(S.idToken&&(M.idToken=S.idToken),S.accessToken&&(M.accessToken=S.accessToken),S.nonce&&!S.pendingToken&&(M.nonce=S.nonce),S.pendingToken&&(M.pendingToken=S.pendingToken)):S.oauthToken&&S.oauthTokenSecret?(M.accessToken=S.oauthToken,M.secret=S.oauthTokenSecret):bt("argument-error"),M}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(S){const M="string"==typeof S?JSON.parse(S):S,{providerId:Q,signInMethod:Ne}=M,ht=(0,ze._T)(M,["providerId","signInMethod"]);if(!Q||!Ne)return null;const Rn=new as(Q,Ne);return Rn.idToken=ht.idToken||void 0,Rn.accessToken=ht.accessToken||void 0,Rn.secret=ht.secret,Rn.nonce=ht.nonce,Rn.pendingToken=ht.pendingToken||null,Rn}_getIdTokenResponse(S){return Nr(S,this.buildRequest())}_linkToIdToken(S,M){const Q=this.buildRequest();return Q.idToken=M,Nr(S,Q)}_getReauthenticationResolver(S){const M=this.buildRequest();return M.autoCreate=!1,Nr(S,M)}buildRequest(){const S={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)S.pendingToken=this.pendingToken;else{const M={};this.idToken&&(M.id_token=this.idToken),this.accessToken&&(M.access_token=this.accessToken),this.secret&&(M.oauth_token_secret=this.secret),M.providerId=this.providerId,this.nonce&&!this.pendingToken&&(M.nonce=this.nonce),S.postBody=(0,y.xO)(M)}return S}}function zo(){return(zo=(0,c.Z)(function*(G,S){return xn(G,"POST","/v1/accounts:sendVerificationCode",qt(G,S))})).apply(this,arguments)}function vo(){return(vo=(0,c.Z)(function*(G,S){return Nt(G,"POST","/v1/accounts:signInWithPhoneNumber",qt(G,S))})).apply(this,arguments)}function ia(){return(ia=(0,c.Z)(function*(G,S){const M=yield Nt(G,"POST","/v1/accounts:signInWithPhoneNumber",qt(G,S));if(M.temporaryProof)throw Di(G,"account-exists-with-different-credential",M);return M})).apply(this,arguments)}const ra={USER_NOT_FOUND:"user-not-found"};function Fa(){return(Fa=(0,c.Z)(function*(G,S){return Nt(G,"POST","/v1/accounts:signInWithPhoneNumber",qt(G,Object.assign(Object.assign({},S),{operation:"REAUTH"})),ra)})).apply(this,arguments)}class Mo extends he{constructor(S){super("phone","phone"),this.params=S}static _fromVerification(S,M){return new Mo({verificationId:S,verificationCode:M})}static _fromTokenResponse(S,M){return new Mo({phoneNumber:S,temporaryProof:M})}_getIdTokenResponse(S){return function Jo(G,S){return vo.apply(this,arguments)}(S,this._makeVerificationRequest())}_linkToIdToken(S,M){return function ea(G,S){return ia.apply(this,arguments)}(S,Object.assign({idToken:M},this._makeVerificationRequest()))}_getReauthenticationResolver(S){return function xo(G,S){return Fa.apply(this,arguments)}(S,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:S,phoneNumber:M,verificationId:Q,verificationCode:Ne}=this.params;return S&&M?{temporaryProof:S,phoneNumber:M}:{sessionInfo:Q,code:Ne}}toJSON(){const S={providerId:this.providerId};return this.params.phoneNumber&&(S.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(S.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(S.verificationCode=this.params.verificationCode),this.params.verificationId&&(S.verificationId=this.params.verificationId),S}static fromJSON(S){"string"==typeof S&&(S=JSON.parse(S));const{verificationId:M,verificationCode:Q,phoneNumber:Ne,temporaryProof:ht}=S;return Q||M||Ne||ht?new Mo({verificationId:M,verificationCode:Q,phoneNumber:Ne,temporaryProof:ht}):null}}class Co{constructor(S){var M,Q,Ne,ht,Rn,si;const ir=(0,y.zd)((0,y.pd)(S)),Kr=null!==(M=ir.apiKey)&&void 0!==M?M:null,Ds=null!==(Q=ir.oobCode)&&void 0!==Q?Q:null,wo=function _s(G){switch(G){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(Ne=ir.mode)&&void 0!==Ne?Ne:null);se(Kr&&Ds&&wo,"argument-error"),this.apiKey=Kr,this.operation=wo,this.code=Ds,this.continueUrl=null!==(ht=ir.continueUrl)&&void 0!==ht?ht:null,this.languageCode=null!==(Rn=ir.languageCode)&&void 0!==Rn?Rn:null,this.tenantId=null!==(si=ir.tenantId)&&void 0!==si?si:null}static parseLink(S){const M=function Pa(G){const S=(0,y.zd)((0,y.pd)(G)).link,M=S?(0,y.zd)((0,y.pd)(S)).deep_link_id:null,Q=(0,y.zd)((0,y.pd)(G)).deep_link_id;return(Q?(0,y.zd)((0,y.pd)(Q)).link:null)||Q||M||S||G}(S);try{return new Co(M)}catch{return null}}}let no=(()=>{class G{constructor(){this.providerId=G.PROVIDER_ID}static credential(M,Q){return Cs._fromEmailAndPassword(M,Q)}static credentialWithLink(M,Q){const Ne=Co.parseLink(Q);return se(Ne,"argument-error"),Cs._fromEmailAndCode(M,Ne.code,Ne.tenantId)}}return G.PROVIDER_ID="password",G.EMAIL_PASSWORD_SIGN_IN_METHOD="password",G.EMAIL_LINK_SIGN_IN_METHOD="emailLink",G})();class No{constructor(S){this.providerId=S,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(S){this.defaultLanguageCode=S}setCustomParameters(S){return this.customParameters=S,this}getCustomParameters(){return this.customParameters}}class ta extends No{constructor(){super(...arguments),this.scopes=[]}addScope(S){return this.scopes.includes(S)||this.scopes.push(S),this}getScopes(){return[...this.scopes]}}class Po extends ta{static credentialFromJSON(S){const M="string"==typeof S?JSON.parse(S):S;return se("providerId"in M&&"signInMethod"in M,"argument-error"),as._fromParams(M)}credential(S){return this._credential(Object.assign(Object.assign({},S),{nonce:S.rawNonce}))}_credential(S){return se(S.idToken||S.accessToken,"argument-error"),as._fromParams(Object.assign(Object.assign({},S),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(S){return Po.oauthCredentialFromTaggedObject(S)}static credentialFromError(S){return Po.oauthCredentialFromTaggedObject(S.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:S}){if(!S)return null;const{oauthIdToken:M,oauthAccessToken:Q,oauthTokenSecret:Ne,pendingToken:ht,nonce:Rn,providerId:si}=S;if(!Q&&!Ne&&!M&&!ht||!si)return null;try{return new Po(si)._credential({idToken:M,accessToken:Q,nonce:Rn,pendingToken:ht})}catch{return null}}}let fo=(()=>{class G extends ta{constructor(){super("facebook.com")}static credential(M){return as._fromParams({providerId:G.PROVIDER_ID,signInMethod:G.FACEBOOK_SIGN_IN_METHOD,accessToken:M})}static credentialFromResult(M){return G.credentialFromTaggedObject(M)}static credentialFromError(M){return G.credentialFromTaggedObject(M.customData||{})}static credentialFromTaggedObject({_tokenResponse:M}){if(!M||!("oauthAccessToken"in M)||!M.oauthAccessToken)return null;try{return G.credential(M.oauthAccessToken)}catch{return null}}}return G.FACEBOOK_SIGN_IN_METHOD="facebook.com",G.PROVIDER_ID="facebook.com",G})(),jo=(()=>{class G extends ta{constructor(){super("google.com"),this.addScope("profile")}static credential(M,Q){return as._fromParams({providerId:G.PROVIDER_ID,signInMethod:G.GOOGLE_SIGN_IN_METHOD,idToken:M,accessToken:Q})}static credentialFromResult(M){return G.credentialFromTaggedObject(M)}static credentialFromError(M){return G.credentialFromTaggedObject(M.customData||{})}static credentialFromTaggedObject({_tokenResponse:M}){if(!M)return null;const{oauthIdToken:Q,oauthAccessToken:Ne}=M;if(!Q&&!Ne)return null;try{return G.credential(Q,Ne)}catch{return null}}}return G.GOOGLE_SIGN_IN_METHOD="google.com",G.PROVIDER_ID="google.com",G})(),Lo=(()=>{class G extends ta{constructor(){super("github.com")}static credential(M){return as._fromParams({providerId:G.PROVIDER_ID,signInMethod:G.GITHUB_SIGN_IN_METHOD,accessToken:M})}static credentialFromResult(M){return G.credentialFromTaggedObject(M)}static credentialFromError(M){return G.credentialFromTaggedObject(M.customData||{})}static credentialFromTaggedObject({_tokenResponse:M}){if(!M||!("oauthAccessToken"in M)||!M.oauthAccessToken)return null;try{return G.credential(M.oauthAccessToken)}catch{return null}}}return G.GITHUB_SIGN_IN_METHOD="github.com",G.PROVIDER_ID="github.com",G})();class Aa extends he{constructor(S,M){super(S,S),this.pendingToken=M}_getIdTokenResponse(S){return Nr(S,this.buildRequest())}_linkToIdToken(S,M){const Q=this.buildRequest();return Q.idToken=M,Nr(S,Q)}_getReauthenticationResolver(S){const M=this.buildRequest();return M.autoCreate=!1,Nr(S,M)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(S){const M="string"==typeof S?JSON.parse(S):S,{providerId:Q,signInMethod:Ne,pendingToken:ht}=M;return Q&&Ne&&ht&&Q===Ne?new Aa(Q,ht):null}static _create(S,M){return new Aa(S,M)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Ho extends No{constructor(S){se(S.startsWith("saml."),"argument-error"),super(S)}static credentialFromResult(S){return Ho.samlCredentialFromTaggedObject(S)}static credentialFromError(S){return Ho.samlCredentialFromTaggedObject(S.customData||{})}static credentialFromJSON(S){const M=Aa.fromJSON(S);return se(M,"argument-error"),M}static samlCredentialFromTaggedObject({_tokenResponse:S}){if(!S)return null;const{pendingToken:M,providerId:Q}=S;if(!M||!Q)return null;try{return Aa._create(Q,M)}catch{return null}}}let F=(()=>{class G extends ta{constructor(){super("twitter.com")}static credential(M,Q){return as._fromParams({providerId:G.PROVIDER_ID,signInMethod:G.TWITTER_SIGN_IN_METHOD,oauthToken:M,oauthTokenSecret:Q})}static credentialFromResult(M){return G.credentialFromTaggedObject(M)}static credentialFromError(M){return G.credentialFromTaggedObject(M.customData||{})}static credentialFromTaggedObject({_tokenResponse:M}){if(!M)return null;const{oauthAccessToken:Q,oauthTokenSecret:Ne}=M;if(!Q||!Ne)return null;try{return G.credential(Q,Ne)}catch{return null}}}return G.TWITTER_SIGN_IN_METHOD="twitter.com",G.PROVIDER_ID="twitter.com",G})();function Se(G,S){return $.apply(this,arguments)}function $(){return($=(0,c.Z)(function*(G,S){return Nt(G,"POST","/v1/accounts:signUp",qt(G,S))})).apply(this,arguments)}class ge{constructor(S){this.user=S.user,this.providerId=S.providerId,this._tokenResponse=S._tokenResponse,this.operationType=S.operationType}static _fromIdTokenResponse(S,M,Q,Ne=!1){return(0,c.Z)(function*(){const ht=yield _n._fromIdTokenResponse(S,Q,Ne),Rn=ut(Q);return new ge({user:ht,providerId:Rn,_tokenResponse:Q,operationType:M})})()}static _forOperation(S,M,Q){return(0,c.Z)(function*(){yield S._updateTokensIfNecessary(Q,!0);const Ne=ut(Q);return new ge({user:S,providerId:Ne,_tokenResponse:Q,operationType:M})})()}}function ut(G){return G.providerId?G.providerId:"phoneNumber"in G?"phone":null}function oi(G){return Yi.apply(this,arguments)}function Yi(){return(Yi=(0,c.Z)(function*(G){var S;const M=Es(G);if(yield M._initializationPromise,null!==(S=M.currentUser)&&void 0!==S&&S.isAnonymous)return new ge({user:M.currentUser,providerId:null,operationType:"signIn"});const Q=yield Se(M,{returnSecureToken:!0}),Ne=yield ge._fromIdTokenResponse(M,"signIn",Q,!0);return yield M._updateCurrentUser(Ne.user),Ne})).apply(this,arguments)}class Tr extends y.ZR{constructor(S,M,Q,Ne){var ht;super(M.code,M.message),this.operationType=Q,this.user=Ne,Object.setPrototypeOf(this,Tr.prototype),this.customData={appName:S.name,tenantId:null!==(ht=S.tenantId)&&void 0!==ht?ht:void 0,_serverResponse:M.customData._serverResponse,operationType:Q}}static _fromErrorAndOperation(S,M,Q,Ne){return new Tr(S,M,Q,Ne)}}function cs(G,S,M,Q){return("reauthenticate"===S?M._getReauthenticationResolver(G):M._getIdTokenResponse(G)).catch(ht=>{throw"auth/multi-factor-auth-required"===ht.code?Tr._fromErrorAndOperation(G,ht,S,Q):ht})}function Ms(G){return new Set(G.map(({providerId:S})=>S).filter(S=>!!S))}function gs(G,S){return wa.apply(this,arguments)}function wa(){return wa=(0,c.Z)(function*(G,S){const M=(0,y.m9)(G);yield Ra(!0,M,S);const{providerUserInfo:Q}=yield function Ai(G,S){return Ni.apply(this,arguments)}(M.auth,{idToken:yield M.getIdToken(),deleteProvider:[S]}),Ne=Ms(Q||[]);return M.providerData=M.providerData.filter(ht=>Ne.has(ht.providerId)),Ne.has("phone")||(M.phoneNumber=null),yield M.auth._persistUserIfCurrent(M),M}),wa.apply(this,arguments)}function Bs(G,S){return Fo.apply(this,arguments)}function Fo(){return(Fo=(0,c.Z)(function*(G,S,M=!1){const Q=yield Bi(G,S._linkToIdToken(G.auth,yield G.getIdToken()),M);return ge._forOperation(G,"link",Q)})).apply(this,arguments)}function Ra(G,S,M){return la.apply(this,arguments)}function la(){return(la=(0,c.Z)(function*(G,S,M){yield Ir(S);const Ne=!1===G?"provider-already-linked":"no-such-provider";se(Ms(S.providerData).has(M)===G,S.auth,Ne)})).apply(this,arguments)}function Hs(G,S){return da.apply(this,arguments)}function da(){return(da=(0,c.Z)(function*(G,S,M=!1){const{auth:Q}=G,Ne="reauthenticate";try{const ht=yield Bi(G,cs(Q,Ne,S,G),M);se(ht.idToken,Q,"internal-error");const Rn=ps(ht.idToken);se(Rn,Q,"internal-error");const{sub:si}=Rn;return se(G.uid===si,Q,"user-mismatch"),ge._forOperation(G,Ne,ht)}catch(ht){throw"auth/user-not-found"===(null==ht?void 0:ht.code)&&bt(Q,"user-mismatch"),ht}})).apply(this,arguments)}function ys(G,S){return ya.apply(this,arguments)}function ya(){return(ya=(0,c.Z)(function*(G,S,M=!1){const Q="signIn",Ne=yield cs(G,Q,S),ht=yield ge._fromIdTokenResponse(G,Q,Ne);return M||(yield G._updateCurrentUser(ht.user)),ht})).apply(this,arguments)}function Uo(G,S){return Na.apply(this,arguments)}function Na(){return(Na=(0,c.Z)(function*(G,S){return ys(Es(G),S)})).apply(this,arguments)}function Ps(G,S){return ha.apply(this,arguments)}function ha(){return(ha=(0,c.Z)(function*(G,S){const M=(0,y.m9)(G);return yield Ra(!1,M,S.providerId),Bs(M,S)})).apply(this,arguments)}function tl(G,S){return Pe.apply(this,arguments)}function Pe(){return(Pe=(0,c.Z)(function*(G,S){return Hs((0,y.m9)(G),S)})).apply(this,arguments)}function H(){return(H=(0,c.Z)(function*(G,S){return Nt(G,"POST","/v1/accounts:signInWithCustomToken",qt(G,S))})).apply(this,arguments)}function U(G,S){return I.apply(this,arguments)}function I(){return I=(0,c.Z)(function*(G,S){const M=Es(G),Q=yield function _e(G,S){return H.apply(this,arguments)}(M,{token:S,returnSecureToken:!0}),Ne=yield ge._fromIdTokenResponse(M,"signIn",Q);return yield M._updateCurrentUser(Ne.user),Ne}),I.apply(this,arguments)}class V{constructor(S,M){this.factorId=S,this.uid=M.mfaEnrollmentId,this.enrollmentTime=new Date(M.enrolledAt).toUTCString(),this.displayName=M.displayName}static _fromServerResponse(S,M){return"phoneInfo"in M?Ie._fromServerResponse(S,M):"totpInfo"in M?Rt._fromServerResponse(S,M):bt(S,"internal-error")}}class Ie extends V{constructor(S){super("phone",S),this.phoneNumber=S.phoneInfo}static _fromServerResponse(S,M){return new Ie(M)}}class Rt extends V{constructor(S){super("totp",S)}static _fromServerResponse(S,M){return new Rt(M)}}function gn(G,S,M){var Q;se((null===(Q=M.url)||void 0===Q?void 0:Q.length)>0,G,"invalid-continue-uri"),se(typeof M.dynamicLinkDomain>"u"||M.dynamicLinkDomain.length>0,G,"invalid-dynamic-link-domain"),S.continueUrl=M.url,S.dynamicLinkDomain=M.dynamicLinkDomain,S.canHandleCodeInApp=M.handleCodeInApp,M.iOS&&(se(M.iOS.bundleId.length>0,G,"missing-ios-bundle-id"),S.iOSBundleId=M.iOS.bundleId),M.android&&(se(M.android.packageName.length>0,G,"missing-android-pkg-name"),S.androidInstallApp=M.android.installApp,S.androidMinimumVersionCode=M.android.minimumVersion,S.androidPackageName=M.android.packageName)}function Nn(G,S,M){return qn.apply(this,arguments)}function qn(){return qn=(0,c.Z)(function*(G,S,M){var Q;const Ne=Es(G),ht={requestType:"PASSWORD_RESET",email:S,clientType:"CLIENT_TYPE_WEB"};if(null!==(Q=Ne._getRecaptchaConfig())&&void 0!==Q&&Q.emailPasswordEnabled){const Rn=yield ur(Ne,ht,"getOobCode",!0);M&&gn(Ne,Rn,M),yield hr(Ne,Rn)}else M&&gn(Ne,ht,M),yield hr(Ne,ht).catch(function(){var Rn=(0,c.Z)(function*(si){if("auth/missing-recaptcha-token"!==si.code)return Promise.reject(si);{console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const ir=yield ur(Ne,ht,"getOobCode",!0);M&&gn(Ne,ir,M),yield hr(Ne,ir)}});return function(si){return Rn.apply(this,arguments)}}())}),qn.apply(this,arguments)}function Ur(G,S,M){return Wr.apply(this,arguments)}function Wr(){return(Wr=(0,c.Z)(function*(G,S,M){yield Ae((0,y.m9)(G),{oobCode:S,newPassword:M})})).apply(this,arguments)}function qr(G,S){return ss.apply(this,arguments)}function ss(){return ss=(0,c.Z)(function*(G,S){yield function Mn(G,S){return yi.apply(this,arguments)}((0,y.m9)(G),{oobCode:S})}),ss.apply(this,arguments)}function Pr(G,S){return Us.apply(this,arguments)}function Us(){return(Us=(0,c.Z)(function*(G,S){const M=(0,y.m9)(G),Q=yield Ae(M,{oobCode:S}),Ne=Q.requestType;switch(se(Ne,M,"internal-error"),Ne){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":se(Q.newEmail,M,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":se(Q.mfaInfo,M,"internal-error");default:se(Q.email,M,"internal-error")}let ht=null;return Q.mfaInfo&&(ht=V._fromServerResponse(Es(M),Q.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===Q.requestType?Q.newEmail:Q.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===Q.requestType?Q.email:Q.newEmail)||null,multiFactorInfo:ht},operation:Ne}})).apply(this,arguments)}function Ro(G,S){return po.apply(this,arguments)}function po(){return(po=(0,c.Z)(function*(G,S){const{data:M}=yield Pr((0,y.m9)(G),S);return M.email})).apply(this,arguments)}function Io(G,S,M){return hs.apply(this,arguments)}function hs(){return hs=(0,c.Z)(function*(G,S,M){var Q;const Ne=Es(G),ht={returnSecureToken:!0,email:S,password:M,clientType:"CLIENT_TYPE_WEB"};let Rn;if(null!==(Q=Ne._getRecaptchaConfig())&&void 0!==Q&&Q.emailPasswordEnabled){const Kr=yield ur(Ne,ht,"signUpPassword");Rn=Se(Ne,Kr)}else Rn=Se(Ne,ht).catch(function(){var Kr=(0,c.Z)(function*(Ds){if("auth/missing-recaptcha-token"===Ds.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const wo=yield ur(Ne,ht,"signUpPassword");return Se(Ne,wo)}return Promise.reject(Ds)});return function(Ds){return Kr.apply(this,arguments)}}());const si=yield Rn.catch(Kr=>Promise.reject(Kr)),ir=yield ge._fromIdTokenResponse(Ne,"signIn",si);return yield Ne._updateCurrentUser(ir.user),ir}),hs.apply(this,arguments)}function lo(G,S,M){return Uo((0,y.m9)(G),no.credential(S,M))}function Wo(G,S,M){return va.apply(this,arguments)}function va(){return va=(0,c.Z)(function*(G,S,M){var Q;const Ne=Es(G),ht={requestType:"EMAIL_SIGNIN",email:S,clientType:"CLIENT_TYPE_WEB"};function Rn(si,ir){se(ir.handleCodeInApp,Ne,"argument-error"),ir&&gn(Ne,si,ir)}if(null!==(Q=Ne._getRecaptchaConfig())&&void 0!==Q&&Q.emailPasswordEnabled){const si=yield ur(Ne,ht,"getOobCode",!0);Rn(si,M),yield vr(Ne,si)}else Rn(ht,M),yield vr(Ne,ht).catch(function(){var si=(0,c.Z)(function*(ir){if("auth/missing-recaptcha-token"!==ir.code)return Promise.reject(ir);{console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const Kr=yield ur(Ne,ht,"getOobCode",!0);Rn(Kr,M),yield vr(Ne,Kr)}});return function(ir){return si.apply(this,arguments)}}())}),va.apply(this,arguments)}function Go(G,S){const M=Co.parseLink(S);return"EMAIL_SIGNIN"===(null==M?void 0:M.operation)}function ja(G,S,M){return Oa.apply(this,arguments)}function Oa(){return(Oa=(0,c.Z)(function*(G,S,M){const Q=(0,y.m9)(G),Ne=no.credentialWithLink(S,M||tn());return se(Ne._tenantId===(Q.tenantId||null),Q,"tenant-id-mismatch"),Uo(Q,Ne)})).apply(this,arguments)}function Za(){return(Za=(0,c.Z)(function*(G,S){return xn(G,"POST","/v1/accounts:createAuthUri",qt(G,S))})).apply(this,arguments)}function Ea(G,S){return Xa.apply(this,arguments)}function Xa(){return Xa=(0,c.Z)(function*(G,S){const Q={identifier:S,continueUri:dn()?tn():"http://localhost"},{signinMethods:Ne}=yield function cl(G,S){return Za.apply(this,arguments)}((0,y.m9)(G),Q);return Ne||[]}),Xa.apply(this,arguments)}function so(G,S){return na.apply(this,arguments)}function na(){return na=(0,c.Z)(function*(G,S){const M=(0,y.m9)(G),Ne={requestType:"VERIFY_EMAIL",idToken:yield G.getIdToken()};S&&gn(M.auth,Ne,S);const{email:ht}=yield function Ks(G,S){return vs.apply(this,arguments)}(M.auth,Ne);ht!==G.email&&(yield G.reload())}),na.apply(this,arguments)}function nl(G,S,M){return Bo.apply(this,arguments)}function Bo(){return Bo=(0,c.Z)(function*(G,S,M){const Q=(0,y.m9)(G),ht={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield G.getIdToken(),newEmail:S};M&&gn(Q.auth,ht,M);const{email:Rn}=yield function So(G,S){return Do.apply(this,arguments)}(Q.auth,ht);Rn!==G.email&&(yield G.reload())}),Bo.apply(this,arguments)}function k(){return(k=(0,c.Z)(function*(G,S){return xn(G,"POST","/v1/accounts:update",S)})).apply(this,arguments)}function ie(G,S){return pe.apply(this,arguments)}function pe(){return pe=(0,c.Z)(function*(G,{displayName:S,photoURL:M}){if(void 0===S&&void 0===M)return;const Q=(0,y.m9)(G),ht={idToken:yield Q.getIdToken(),displayName:S,photoUrl:M,returnSecureToken:!0},Rn=yield Bi(Q,function ul(G,S){return k.apply(this,arguments)}(Q.auth,ht));Q.displayName=Rn.displayName||null,Q.photoURL=Rn.photoUrl||null;const si=Q.providerData.find(({providerId:ir})=>"password"===ir);si&&(si.displayName=Q.displayName,si.photoURL=Q.photoURL),yield Q._updateTokensIfNecessary(Rn)}),pe.apply(this,arguments)}function Fe(G,S){return xt((0,y.m9)(G),S,null)}function it(G,S){return xt((0,y.m9)(G),null,S)}function xt(G,S,M){return nn.apply(this,arguments)}function nn(){return(nn=(0,c.Z)(function*(G,S,M){const{auth:Q}=G,ht={idToken:yield G.getIdToken(),returnSecureToken:!0};S&&(ht.email=S),M&&(ht.password=M);const Rn=yield Bi(G,Kt(Q,ht));yield G._updateTokensIfNecessary(Rn,!0)})).apply(this,arguments)}class Pn{constructor(S,M,Q={}){this.isNewUser=S,this.providerId=M,this.profile=Q}}class ui extends Pn{constructor(S,M,Q,Ne){super(S,M,Q),this.username=Ne}}class Fi extends Pn{constructor(S,M){super(S,"facebook.com",M)}}class Lr extends ui{constructor(S,M){super(S,"github.com",M,"string"==typeof(null==M?void 0:M.login)?null==M?void 0:M.login:null)}}class Rr extends Pn{constructor(S,M){super(S,"google.com",M)}}class Qs extends ui{constructor(S,M,Q){super(S,"twitter.com",M,Q)}}function oo(G){const{user:S,_tokenResponse:M}=G;return S.isAnonymous&&!M?{providerId:null,isNewUser:!1,profile:null}:function yn(G){var S,M;if(!G)return null;const{providerId:Q}=G,Ne=G.rawUserInfo?JSON.parse(G.rawUserInfo):{},ht=G.isNewUser||"identitytoolkit#SignupNewUserResponse"===G.kind;if(!Q&&null!=G&&G.idToken){const Rn=null===(M=null===(S=ps(G.idToken))||void 0===S?void 0:S.firebase)||void 0===M?void 0:M.sign_in_provider;if(Rn)return new Pn(ht,"anonymous"!==Rn&&"custom"!==Rn?Rn:null)}if(!Q)return null;switch(Q){case"facebook.com":return new Fi(ht,Ne);case"github.com":return new Lr(ht,Ne);case"google.com":return new Rr(ht,Ne);case"twitter.com":return new Qs(ht,Ne,G.screenName||null);case"custom":case"anonymous":return new Pn(ht,null);default:return new Pn(ht,Q,Ne)}}(M)}class Yr{constructor(S,M,Q){this.type=S,this.credential=M,this.auth=Q}static _fromIdtoken(S,M){return new Yr("enroll",S,M)}static _fromMfaPendingCredential(S){return new Yr("signin",S)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(S){var M,Q;if(null!=S&&S.multiFactorSession){if(null!==(M=S.multiFactorSession)&&void 0!==M&&M.pendingCredential)return Yr._fromMfaPendingCredential(S.multiFactorSession.pendingCredential);if(null!==(Q=S.multiFactorSession)&&void 0!==Q&&Q.idToken)return Yr._fromIdtoken(S.multiFactorSession.idToken)}return null}}class Is{constructor(S,M,Q){this.session=S,this.hints=M,this.signInResolver=Q}static _fromError(S,M){const Q=Es(S),Ne=M.customData._serverResponse,ht=(Ne.mfaInfo||[]).map(si=>V._fromServerResponse(Q,si));se(Ne.mfaPendingCredential,Q,"internal-error");const Rn=Yr._fromMfaPendingCredential(Ne.mfaPendingCredential);return new Is(Rn,ht,function(){var si=(0,c.Z)(function*(ir){const Kr=yield ir._process(Q,Rn);delete Ne.mfaInfo,delete Ne.mfaPendingCredential;const Ds=Object.assign(Object.assign({},Ne),{idToken:Kr.idToken,refreshToken:Kr.refreshToken});switch(M.operationType){case"signIn":const wo=yield ge._fromIdTokenResponse(Q,M.operationType,Ds);return yield Q._updateCurrentUser(wo.user),wo;case"reauthenticate":return se(M.user,Q,"internal-error"),ge._forOperation(M.user,M.operationType,Ds);default:bt(Q,"internal-error")}});return function(ir){return si.apply(this,arguments)}}())}resolveSignIn(S){var M=this;return(0,c.Z)(function*(){return M.signInResolver(S)})()}}function Js(G,S){var M;const Q=(0,y.m9)(G),Ne=S;return se(S.customData.operationType,Q,"argument-error"),se(null===(M=Ne.customData._serverResponse)||void 0===M?void 0:M.mfaPendingCredential,Q,"argument-error"),Is._fromError(Q,Ne)}class _a{constructor(S){this.user=S,this.enrolledFactors=[],S._onReload(M=>{M.mfaInfo&&(this.enrolledFactors=M.mfaInfo.map(Q=>V._fromServerResponse(S.auth,Q)))})}static _fromUser(S){return new _a(S)}getSession(){var S=this;return(0,c.Z)(function*(){return Yr._fromIdtoken(yield S.user.getIdToken(),S.user.auth)})()}enroll(S,M){var Q=this;return(0,c.Z)(function*(){const Ne=S,ht=yield Q.getSession(),Rn=yield Bi(Q.user,Ne._process(Q.user.auth,ht,M));return yield Q.user._updateTokensIfNecessary(Rn),Q.user.reload()})()}unenroll(S){var M=this;return(0,c.Z)(function*(){const Q="string"==typeof S?S:S.uid,Ne=yield M.user.getIdToken();try{const ht=yield Bi(M.user,function fa(G,S){return xn(G,"POST","/v2/accounts/mfaEnrollment:withdraw",qt(G,S))}(M.user.auth,{idToken:Ne,mfaEnrollmentId:Q}));M.enrolledFactors=M.enrolledFactors.filter(({uid:Rn})=>Rn!==Q),yield M.user._updateTokensIfNecessary(ht),yield M.user.reload()}catch(ht){throw ht}})()}}const gr=new WeakMap;function zr(G){const S=(0,y.m9)(G);return gr.has(S)||gr.set(S,_a._fromUser(S)),gr.get(S)}const Ci="__sak";class fi{constructor(S,M){this.storageRetriever=S,this.type=M}_isAvailable(){try{return this.storage?(this.storage.setItem(Ci,"1"),this.storage.removeItem(Ci),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(S,M){return this.storage.setItem(S,JSON.stringify(M)),Promise.resolve()}_get(S){const M=this.storage.getItem(S);return Promise.resolve(M?JSON.parse(M):null)}_remove(S){return this.storage.removeItem(S),Promise.resolve()}get storage(){return this.storageRetriever()}}const Al=(()=>{class G extends fi{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(M,Q)=>this.onStorageEvent(M,Q),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Zn(){const G=(0,y.z$)();return A(G)||Be(G)}()&&function en(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=Wt(),this._shouldAllowMigration=!0}forAllChangedKeys(M){for(const Q of Object.keys(this.listeners)){const Ne=this.storage.getItem(Q),ht=this.localCache[Q];Ne!==ht&&M(Q,ht,Ne)}}onStorageEvent(M,Q=!1){if(!M.key)return void this.forAllChangedKeys((si,ir,Kr)=>{this.notifyListeners(si,Kr)});const Ne=M.key;if(Q?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const si=this.storage.getItem(Ne);if(M.newValue!==si)null!==M.newValue?this.storage.setItem(Ne,M.newValue):this.storage.removeItem(Ne);else if(this.localCache[Ne]===M.newValue&&!Q)return}const ht=()=>{const si=this.storage.getItem(Ne);!Q&&this.localCache[Ne]===si||this.notifyListeners(Ne,si)},Rn=this.storage.getItem(Ne);!function fn(){return(0,y.w1)()&&10===document.documentMode}()||Rn===M.newValue||M.newValue===M.oldValue?ht():setTimeout(ht,10)}notifyListeners(M,Q){this.localCache[M]=Q;const Ne=this.listeners[M];if(Ne)for(const ht of Array.from(Ne))ht(Q&&JSON.parse(Q))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((M,Q,Ne)=>{this.onStorageEvent(new StorageEvent("storage",{key:M,oldValue:Q,newValue:Ne}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(M,Q){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[M]||(this.listeners[M]=new Set,this.localCache[M]=this.storage.getItem(M)),this.listeners[M].add(Q)}_removeListener(M,Q){this.listeners[M]&&(this.listeners[M].delete(Q),0===this.listeners[M].size&&delete this.listeners[M]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(M,Q){var Ne=()=>super._set,ht=this;return(0,c.Z)(function*(){yield Ne().call(ht,M,Q),ht.localCache[M]=JSON.stringify(Q)})()}_get(M){var Q=()=>super._get,Ne=this;return(0,c.Z)(function*(){const ht=yield Q().call(Ne,M);return Ne.localCache[M]=JSON.stringify(ht),ht})()}_remove(M){var Q=()=>super._remove,Ne=this;return(0,c.Z)(function*(){yield Q().call(Ne,M),delete Ne.localCache[M]})()}}return G.type="LOCAL",G})(),ql=(()=>{class G extends fi{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(M,Q){}_removeListener(M,Q){}}return G.type="SESSION",G})();let Sa=(()=>{class G{constructor(M){this.eventTarget=M,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(M){const Q=this.receivers.find(ht=>ht.isListeningto(M));if(Q)return Q;const Ne=new G(M);return this.receivers.push(Ne),Ne}isListeningto(M){return this.eventTarget===M}handleEvent(M){var Q=this;return(0,c.Z)(function*(){const Ne=M,{eventId:ht,eventType:Rn,data:si}=Ne.data,ir=Q.handlersMap[Rn];if(null==ir||!ir.size)return;Ne.ports[0].postMessage({status:"ack",eventId:ht,eventType:Rn});const Kr=Array.from(ir).map(function(){var wo=(0,c.Z)(function*(Bl){return Bl(Ne.origin,si)});return function(Bl){return wo.apply(this,arguments)}}()),Ds=yield function il(G){return Promise.all(G.map(function(){var S=(0,c.Z)(function*(M){try{return{fulfilled:!0,value:yield M}}catch(Q){return{fulfilled:!1,reason:Q}}});return function(M){return S.apply(this,arguments)}}()))}(Kr);Ne.ports[0].postMessage({status:"done",eventId:ht,eventType:Rn,response:Ds})})()}_subscribe(M,Q){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[M]||(this.handlersMap[M]=new Set),this.handlersMap[M].add(Q)}_unsubscribe(M,Q){this.handlersMap[M]&&Q&&this.handlersMap[M].delete(Q),(!Q||0===this.handlersMap[M].size)&&delete this.handlersMap[M],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return G.receivers=[],G})();function ml(G="",S=10){let M="";for(let Q=0;Q<S;Q++)M+=Math.floor(10*Math.random());return G+M}class Nl{constructor(S){this.target=S,this.handlers=new Set}removeMessageHandler(S){S.messageChannel&&(S.messageChannel.port1.removeEventListener("message",S.onMessage),S.messageChannel.port1.close()),this.handlers.delete(S)}_send(S,M,Q=50){var Ne=this;return(0,c.Z)(function*(){const ht=typeof MessageChannel<"u"?new MessageChannel:null;if(!ht)throw new Error("connection_unavailable");let Rn,si;return new Promise((ir,Kr)=>{const Ds=ml("",20);ht.port1.start();const wo=setTimeout(()=>{Kr(new Error("unsupported_event"))},Q);si={messageChannel:ht,onMessage(Bl){const dc=Bl;if(dc.data.eventId===Ds)switch(dc.data.status){case"ack":clearTimeout(wo),Rn=setTimeout(()=>{Kr(new Error("timeout"))},3e3);break;case"done":clearTimeout(Rn),ir(dc.data.response);break;default:clearTimeout(wo),clearTimeout(Rn),Kr(new Error("invalid_response"))}}},Ne.handlers.add(si),ht.port1.addEventListener("message",si.onMessage),Ne.target.postMessage({eventType:S,eventId:Ds,data:M},[ht.port2])}).finally(()=>{si&&Ne.removeMessageHandler(si)})})()}}function go(){return window}function jl(){return typeof go().WorkerGlobalScope<"u"&&"function"==typeof go().importScripts}function Ba(){return(Ba=(0,c.Z)(function*(){if(null==navigator||!navigator.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Zr="firebaseLocalStorageDb",zs="firebaseLocalStorage",xl="fbase_key";class qs{constructor(S){this.request=S}toPromise(){return new Promise((S,M)=>{this.request.addEventListener("success",()=>{S(this.request.result)}),this.request.addEventListener("error",()=>{M(this.request.error)})})}}function Ji(G,S){return G.transaction([zs],S?"readwrite":"readonly").objectStore(zs)}function La(){const G=indexedDB.open(Zr,1);return new Promise((S,M)=>{G.addEventListener("error",()=>{M(G.error)}),G.addEventListener("upgradeneeded",()=>{const Q=G.result;try{Q.createObjectStore(zs,{keyPath:xl})}catch(Ne){M(Ne)}}),G.addEventListener("success",(0,c.Z)(function*(){const Q=G.result;Q.objectStoreNames.contains(zs)?S(Q):(Q.close(),yield function Ll(){const G=indexedDB.deleteDatabase(Zr);return new qs(G).toPromise()}(),S(yield La()))}))})}function yl(G,S,M){return Zl.apply(this,arguments)}function Zl(){return(Zl=(0,c.Z)(function*(G,S,M){const Q=Ji(G,!0).put({[xl]:S,value:M});return new qs(Q).toPromise()})).apply(this,arguments)}function Tn(){return(Tn=(0,c.Z)(function*(G,S){const M=Ji(G,!1).get(S),Q=yield new qs(M).toPromise();return void 0===Q?null:Q.value})).apply(this,arguments)}function An(G,S){const M=Ji(G,!0).delete(S);return new qs(M).toPromise()}const Ys=(()=>{class G{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var M=this;return(0,c.Z)(function*(){return M.db||(M.db=yield La()),M.db})()}_withRetries(M){var Q=this;return(0,c.Z)(function*(){let Ne=0;for(;;)try{const ht=yield Q._openDb();return yield M(ht)}catch(ht){if(Ne++>3)throw ht;Q.db&&(Q.db.close(),Q.db=void 0)}})()}initializeServiceWorkerMessaging(){var M=this;return(0,c.Z)(function*(){return jl()?M.initializeReceiver():M.initializeSender()})()}initializeReceiver(){var M=this;return(0,c.Z)(function*(){M.receiver=Sa._getInstance(function Ko(){return jl()?self:null}()),M.receiver._subscribe("keyChanged",function(){var Q=(0,c.Z)(function*(Ne,ht){return{keyProcessed:(yield M._poll()).includes(ht.key)}});return function(Ne,ht){return Q.apply(this,arguments)}}()),M.receiver._subscribe("ping",function(){var Q=(0,c.Z)(function*(Ne,ht){return["keyChanged"]});return function(Ne,ht){return Q.apply(this,arguments)}}())})()}initializeSender(){var M=this;return(0,c.Z)(function*(){var Q,Ne;if(M.activeServiceWorker=yield function As(){return Ba.apply(this,arguments)}(),!M.activeServiceWorker)return;M.sender=new Nl(M.activeServiceWorker);const ht=yield M.sender._send("ping",{},800);ht&&null!==(Q=ht[0])&&void 0!==Q&&Q.fulfilled&&null!==(Ne=ht[0])&&void 0!==Ne&&Ne.value.includes("keyChanged")&&(M.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(M){var Q=this;return(0,c.Z)(function*(){if(Q.sender&&Q.activeServiceWorker&&function oc(){var G;return(null===(G=null==navigator?void 0:navigator.serviceWorker)||void 0===G?void 0:G.controller)||null}()===Q.activeServiceWorker)try{yield Q.sender._send("keyChanged",{key:M},Q.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,c.Z)(function*(){try{if(!indexedDB)return!1;const M=yield La();return yield yl(M,Ci,"1"),yield An(M,Ci),!0}catch{}return!1})()}_withPendingWrite(M){var Q=this;return(0,c.Z)(function*(){Q.pendingWrites++;try{yield M()}finally{Q.pendingWrites--}})()}_set(M,Q){var Ne=this;return(0,c.Z)(function*(){return Ne._withPendingWrite((0,c.Z)(function*(){return yield Ne._withRetries(ht=>yl(ht,M,Q)),Ne.localCache[M]=Q,Ne.notifyServiceWorker(M)}))})()}_get(M){var Q=this;return(0,c.Z)(function*(){const Ne=yield Q._withRetries(ht=>function _t(G,S){return Tn.apply(this,arguments)}(ht,M));return Q.localCache[M]=Ne,Ne})()}_remove(M){var Q=this;return(0,c.Z)(function*(){return Q._withPendingWrite((0,c.Z)(function*(){return yield Q._withRetries(Ne=>An(Ne,M)),delete Q.localCache[M],Q.notifyServiceWorker(M)}))})()}_poll(){var M=this;return(0,c.Z)(function*(){const Q=yield M._withRetries(Rn=>{const si=Ji(Rn,!1).getAll();return new qs(si).toPromise()});if(!Q)return[];if(0!==M.pendingWrites)return[];const Ne=[],ht=new Set;for(const{fbase_key:Rn,value:si}of Q)ht.add(Rn),JSON.stringify(M.localCache[Rn])!==JSON.stringify(si)&&(M.notifyListeners(Rn,si),Ne.push(Rn));for(const Rn of Object.keys(M.localCache))M.localCache[Rn]&&!ht.has(Rn)&&(M.notifyListeners(Rn,null),Ne.push(Rn));return Ne})()}notifyListeners(M,Q){this.localCache[M]=Q;const Ne=this.listeners[M];if(Ne)for(const ht of Array.from(Ne))ht(Q)}startPolling(){var M=this;this.stopPolling(),this.pollTimer=setInterval((0,c.Z)(function*(){return M._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(M,Q){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[M]||(this.listeners[M]=new Set,this._get(M)),this.listeners[M].add(Q)}_removeListener(M,Q){this.listeners[M]&&(this.listeners[M].delete(Q),0===this.listeners[M].size&&delete this.listeners[M]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return G.type="LOCAL",G})(),vl=1e12;class Ha{constructor(S){this.auth=S,this.counter=vl,this._widgets=new Map}render(S,M){const Q=this.counter;return this._widgets.set(Q,new Jl(S,this.auth.name,M||{})),this.counter++,Q}reset(S){var M;const Q=S||vl;null===(M=this._widgets.get(Q))||void 0===M||M.delete(),this._widgets.delete(Q)}getResponse(S){var M;return(null===(M=this._widgets.get(S||vl))||void 0===M?void 0:M.getResponse())||""}execute(S){var M=this;return(0,c.Z)(function*(){var Q;return null===(Q=M._widgets.get(S||vl))||void 0===Q||Q.execute(),""})()}}class Jl{constructor(S,M,Q){this.params=Q,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const Ne="string"==typeof S?document.getElementById(S):S;se(Ne,"argument-error",{appName:M}),this.container=Ne,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Ml(G){const S=[],M="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let Q=0;Q<G;Q++)S.push(M.charAt(Math.floor(62*Math.random())));return S.join("")}(50);const{callback:S,"expired-callback":M}=this.params;if(S)try{S(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,M)try{M()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const ba=Ki("rcb"),gc=new Ot(3e4,6e4);class W{constructor(){var S;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(S=go().grecaptcha)||void 0===S||!S.render)}load(S,M=""){return se(function Z(G){return G.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(G)}(M),S,"argument-error"),this.shouldResolveImmediately(M)&&Kn(go().grecaptcha)?Promise.resolve(go().grecaptcha):new Promise((Q,Ne)=>{const ht=go().setTimeout(()=>{Ne(zt(S,"network-request-failed"))},gc.get());go()[ba]=()=>{go().clearTimeout(ht),delete go()[ba];const si=go().grecaptcha;if(!si||!Kn(si))return void Ne(zt(S,"internal-error"));const ir=si.render;si.render=(Kr,Ds)=>{const wo=ir(Kr,Ds);return this.counter++,wo},this.hostLanguage=M,Q(si)},yr(`https://www.google.com/recaptcha/api.js??${(0,y.xO)({onload:ba,render:"explicit",hl:M})}`).catch(()=>{clearTimeout(ht),Ne(zt(S,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(S){var M;return!(null===(M=go().grecaptcha)||void 0===M||!M.render)&&(S===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class L{load(S){return(0,c.Z)(function*(){return new Ha(S)})()}clearedOneInstance(){}}const te="recaptcha",Ee={theme:"light",type:"image"};class mt{constructor(S,M=Object.assign({},Ee),Q){this.parameters=M,this.type=te,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Es(Q),this.isInvisible="invisible"===this.parameters.size,se(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const Ne="string"==typeof S?document.getElementById(S):S;se(Ne,this.auth,"argument-error"),this.container=Ne,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new L:new W,this.validateStartingState()}verify(){var S=this;return(0,c.Z)(function*(){S.assertNotDestroyed();const M=yield S.render(),Q=S.getAssertedRecaptcha();return Q.getResponse(M)||new Promise(ht=>{const Rn=si=>{si&&(S.tokenChangeListeners.delete(Rn),ht(si))};S.tokenChangeListeners.add(Rn),S.isInvisible&&Q.execute(M)})})()}render(){try{this.assertNotDestroyed()}catch(S){return Promise.reject(S)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(S=>{throw this.renderPromise=null,S})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(S=>{this.container.removeChild(S)})}validateStartingState(){se(!this.parameters.sitekey,this.auth,"argument-error"),se(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),se(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(S){return M=>{if(this.tokenChangeListeners.forEach(Q=>Q(M)),"function"==typeof S)S(M);else if("string"==typeof S){const Q=go()[S];"function"==typeof Q&&Q(M)}}}assertNotDestroyed(){se(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var S=this;return(0,c.Z)(function*(){if(yield S.init(),!S.widgetId){let M=S.container;if(!S.isInvisible){const Q=document.createElement("div");M.appendChild(Q),M=Q}S.widgetId=S.getAssertedRecaptcha().render(M,S.parameters)}return S.widgetId})()}init(){var S=this;return(0,c.Z)(function*(){se(dn()&&!jl(),S.auth,"internal-error"),yield function st(){let G=null;return new Promise(S=>{"complete"!==document.readyState?(G=()=>S(),window.addEventListener("load",G)):S()}).catch(S=>{throw G&&window.removeEventListener("load",G),S})}(),S.recaptcha=yield S._recaptchaLoader.load(S.auth,S.auth.languageCode||void 0);const M=yield function Ut(G){return rn.apply(this,arguments)}(S.auth);se(M,S.auth,"internal-error"),S.parameters.sitekey=M})()}getAssertedRecaptcha(){return se(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class En{constructor(S,M){this.verificationId=S,this.onConfirmation=M}confirm(S){const M=Mo._fromVerification(this.verificationId,S);return this.onConfirmation(M)}}function ni(G,S,M){return dr.apply(this,arguments)}function dr(){return(dr=(0,c.Z)(function*(G,S,M){const Q=Es(G),Ne=yield m(Q,S,(0,y.m9)(M));return new En(Ne,ht=>Uo(Q,ht))})).apply(this,arguments)}function fs(G,S,M){return Fr.apply(this,arguments)}function Fr(){return(Fr=(0,c.Z)(function*(G,S,M){const Q=(0,y.m9)(G);yield Ra(!1,Q,"phone");const Ne=yield m(Q.auth,S,(0,y.m9)(M));return new En(Ne,ht=>Ps(Q,ht))})).apply(this,arguments)}function ca(G,S,M){return E.apply(this,arguments)}function E(){return(E=(0,c.Z)(function*(G,S,M){const Q=(0,y.m9)(G),Ne=yield m(Q.auth,S,(0,y.m9)(M));return new En(Ne,ht=>tl(Q,ht))})).apply(this,arguments)}function m(G,S,M){return u.apply(this,arguments)}function u(){return u=(0,c.Z)(function*(G,S,M){var Q;const Ne=yield M.verify();try{let ht;if(se("string"==typeof Ne,G,"argument-error"),se(M.type===te,G,"argument-error"),ht="string"==typeof S?{phoneNumber:S}:S,"session"in ht){const Rn=ht.session;if("phoneNumber"in ht)return se("enroll"===Rn.type,G,"internal-error"),(yield function eo(G,S){return xn(G,"POST","/v2/accounts/mfaEnrollment:start",qt(G,S))}(G,{idToken:Rn.credential,phoneEnrollmentInfo:{phoneNumber:ht.phoneNumber,recaptchaToken:Ne}})).phoneSessionInfo.sessionInfo;{se("signin"===Rn.type,G,"internal-error");const si=(null===(Q=ht.multiFactorHint)||void 0===Q?void 0:Q.uid)||ht.multiFactorUid;return se(si,G,"missing-multi-factor-info"),(yield function Ws(G,S){return xn(G,"POST","/v2/accounts/mfaSignIn:start",qt(G,S))}(G,{mfaPendingCredential:Rn.credential,mfaEnrollmentId:si,phoneSignInInfo:{recaptchaToken:Ne}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:Rn}=yield function Vs(G,S){return zo.apply(this,arguments)}(G,{phoneNumber:ht.phoneNumber,recaptchaToken:Ne});return Rn}}finally{M._reset()}}),u.apply(this,arguments)}function g(G,S){return b.apply(this,arguments)}function b(){return(b=(0,c.Z)(function*(G,S){yield Bs((0,y.m9)(G),S)})).apply(this,arguments)}let D=(()=>{class G{constructor(M){this.providerId=G.PROVIDER_ID,this.auth=Es(M)}verifyPhoneNumber(M,Q){return m(this.auth,M,(0,y.m9)(Q))}static credential(M,Q){return Mo._fromVerification(M,Q)}static credentialFromResult(M){return G.credentialFromTaggedObject(M)}static credentialFromError(M){return G.credentialFromTaggedObject(M.customData||{})}static credentialFromTaggedObject({_tokenResponse:M}){if(!M)return null;const{phoneNumber:Q,temporaryProof:Ne}=M;return Q&&Ne?Mo._fromTokenResponse(Q,Ne):null}}return G.PROVIDER_ID="phone",G.PHONE_SIGN_IN_METHOD="phone",G})();function R(G,S){return S?mi(S):(se(G._popupRedirectResolver,G,"argument-error"),G._popupRedirectResolver)}class j extends he{constructor(S){super("custom","custom"),this.params=S}_getIdTokenResponse(S){return Nr(S,this._buildIdpRequest())}_linkToIdToken(S,M){return Nr(S,this._buildIdpRequest(M))}_getReauthenticationResolver(S){return Nr(S,this._buildIdpRequest())}_buildIdpRequest(S){const M={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return S&&(M.idToken=S),M}}function q(G){return ys(G.auth,new j(G),G.bypassAuthState)}function ue(G){const{auth:S,user:M}=G;return se(M,S,"internal-error"),Hs(M,new j(G),G.bypassAuthState)}function ke(G){return rt.apply(this,arguments)}function rt(){return(rt=(0,c.Z)(function*(G){const{auth:S,user:M}=G;return se(M,S,"internal-error"),Bs(M,new j(G),G.bypassAuthState)})).apply(this,arguments)}class kt{constructor(S,M,Q,Ne,ht=!1){this.auth=S,this.resolver=Q,this.user=Ne,this.bypassAuthState=ht,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(M)?M:[M]}execute(){var S=this;return new Promise(function(){var M=(0,c.Z)(function*(Q,Ne){S.pendingPromise={resolve:Q,reject:Ne};try{S.eventManager=yield S.resolver._initialize(S.auth),yield S.onExecution(),S.eventManager.registerConsumer(S)}catch(ht){S.reject(ht)}});return function(Q,Ne){return M.apply(this,arguments)}}())}onAuthEvent(S){var M=this;return(0,c.Z)(function*(){const{urlResponse:Q,sessionId:Ne,postBody:ht,tenantId:Rn,error:si,type:ir}=S;if(si)return void M.reject(si);const Kr={auth:M.auth,requestUri:Q,sessionId:Ne,tenantId:Rn||void 0,postBody:ht||void 0,user:M.user,bypassAuthState:M.bypassAuthState};try{M.resolve(yield M.getIdpTask(ir)(Kr))}catch(Ds){M.reject(Ds)}})()}onError(S){this.reject(S)}getIdpTask(S){switch(S){case"signInViaPopup":case"signInViaRedirect":return q;case"linkViaPopup":case"linkViaRedirect":return ke;case"reauthViaPopup":case"reauthViaRedirect":return ue;default:bt(this.auth,"internal-error")}}resolve(S){Tt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(S),this.unregisterAndCleanUp()}reject(S){Tt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(S),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Bt=new Ot(2e3,1e4);function Sn(G,S,M){return kn.apply(this,arguments)}function kn(){return(kn=(0,c.Z)(function*(G,S,M){const Q=Es(G);Yt(G,S,No);const Ne=R(Q,M);return new qi(Q,"signInViaPopup",S,Ne).executeNotNull()})).apply(this,arguments)}function jn(G,S,M){return Ei.apply(this,arguments)}function Ei(){return(Ei=(0,c.Z)(function*(G,S,M){const Q=(0,y.m9)(G);Yt(Q.auth,S,No);const Ne=R(Q.auth,M);return new qi(Q.auth,"reauthViaPopup",S,Ne,Q).executeNotNull()})).apply(this,arguments)}function di(G,S,M){return Gi.apply(this,arguments)}function Gi(){return(Gi=(0,c.Z)(function*(G,S,M){const Q=(0,y.m9)(G);Yt(Q.auth,S,No);const Ne=R(Q.auth,M);return new qi(Q.auth,"linkViaPopup",S,Ne,Q).executeNotNull()})).apply(this,arguments)}let qi=(()=>{class G extends kt{constructor(M,Q,Ne,ht,Rn){super(M,Q,ht,Rn),this.provider=Ne,this.authWindow=null,this.pollId=null,G.currentPopupAction&&G.currentPopupAction.cancel(),G.currentPopupAction=this}executeNotNull(){var M=this;return(0,c.Z)(function*(){const Q=yield M.execute();return se(Q,M.auth,"internal-error"),Q})()}onExecution(){var M=this;return(0,c.Z)(function*(){Tt(1===M.filter.length,"Popup operations only handle one event");const Q=ml();M.authWindow=yield M.resolver._openPopup(M.auth,M.provider,M.filter[0],Q),M.authWindow.associatedEvent=Q,M.resolver._originValidation(M.auth).catch(Ne=>{M.reject(Ne)}),M.resolver._isIframeWebStorageSupported(M.auth,Ne=>{Ne||M.reject(zt(M.auth,"web-storage-unsupported"))}),M.pollUserCancellation()})()}get eventId(){var M;return(null===(M=this.authWindow)||void 0===M?void 0:M.associatedEvent)||null}cancel(){this.reject(zt(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,G.currentPopupAction=null}pollUserCancellation(){const M=()=>{var Q,Ne;this.pollId=null!==(Ne=null===(Q=this.authWindow)||void 0===Q?void 0:Q.window)&&void 0!==Ne&&Ne.closed?window.setTimeout(()=>{this.pollId=null,this.reject(zt(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(M,Bt.get())};M()}}return G.currentPopupAction=null,G})();const Oi="pendingRedirect",zi=new Map;class or extends kt{constructor(S,M,Q=!1){super(S,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],M,void 0,Q),this.eventId=null}execute(){var S=()=>super.execute,M=this;return(0,c.Z)(function*(){let Q=zi.get(M.auth._key());if(!Q){try{const ht=(yield function Er(G,S){return ls.apply(this,arguments)}(M.resolver,M.auth))?yield S().call(M):null;Q=()=>Promise.resolve(ht)}catch(Ne){Q=()=>Promise.reject(Ne)}zi.set(M.auth._key(),Q)}return M.bypassAuthState||zi.set(M.auth._key(),()=>Promise.resolve(null)),Q()})()}onAuthEvent(S){var M=()=>super.onAuthEvent,Q=this;return(0,c.Z)(function*(){if("signInViaRedirect"===S.type)return M().call(Q,S);if("unknown"!==S.type){if(S.eventId){const Ne=yield Q.auth._redirectUserForId(S.eventId);if(Ne)return Q.user=Ne,M().call(Q,S);Q.resolve(null)}}else Q.resolve(null)})()}onExecution(){return(0,c.Z)(function*(){})()}cleanUp(){}}function ls(){return(ls=(0,c.Z)(function*(G,S){const M=_o(S),Q=io(G);if(!(yield Q._isAvailable()))return!1;const Ne="true"===(yield Q._get(M));return yield Q._remove(M),Ne})).apply(this,arguments)}function Ns(G,S){return Br.apply(this,arguments)}function Br(){return(Br=(0,c.Z)(function*(G,S){return io(G)._set(_o(S),"true")})).apply(this,arguments)}function co(){zi.clear()}function Oo(G,S){zi.set(G._key(),S)}function io(G){return mi(G._redirectPersistence)}function _o(G){return sr(Oi,G.config.apiKey,G.name)}function sa(G,S,M){return function bo(G,S,M){return Wa.apply(this,arguments)}(G,S,M)}function Wa(){return(Wa=(0,c.Z)(function*(G,S,M){const Q=Es(G);Yt(G,S,No),yield Q._initializationPromise;const Ne=R(Q,M);return yield Ns(Ne,Q),Ne._openRedirect(Q,S,"signInViaRedirect")})).apply(this,arguments)}function Qa(G,S,M){return function ma(G,S,M){return Xl.apply(this,arguments)}(G,S,M)}function Xl(){return(Xl=(0,c.Z)(function*(G,S,M){const Q=(0,y.m9)(G);Yt(Q.auth,S,No),yield Q.auth._initializationPromise;const Ne=R(Q.auth,M);yield Ns(Ne,Q.auth);const ht=yield Hl(Q);return Ne._openRedirect(Q.auth,S,"reauthViaRedirect",ht)})).apply(this,arguments)}function Va(G,S,M){return function qo(G,S,M){return Ta.apply(this,arguments)}(G,S,M)}function Ta(){return(Ta=(0,c.Z)(function*(G,S,M){const Q=(0,y.m9)(G);Yt(Q.auth,S,No),yield Q.auth._initializationPromise;const Ne=R(Q.auth,M);yield Ra(!1,Q,S.providerId),yield Ns(Ne,Q.auth);const ht=yield Hl(Q);return Ne._openRedirect(Q.auth,S,"linkViaRedirect",ht)})).apply(this,arguments)}function sl(G,S){return _l.apply(this,arguments)}function _l(){return(_l=(0,c.Z)(function*(G,S){return yield Es(G)._initializationPromise,Fl(G,S,!1)})).apply(this,arguments)}function Fl(G,S){return iu.apply(this,arguments)}function iu(){return(iu=(0,c.Z)(function*(G,S,M=!1){const Q=Es(G),Ne=R(Q,S),Rn=yield new or(Q,Ne,M).execute();return Rn&&!M&&(delete Rn.user._redirectEventId,yield Q._persistUserIfCurrent(Rn.user),yield Q._setRedirectUser(null,S)),Rn})).apply(this,arguments)}function Hl(G){return ec.apply(this,arguments)}function ec(){return(ec=(0,c.Z)(function*(G){const S=ml(`${G.uid}:::`);return G._redirectEventId=S,yield G.auth._setRedirectUser(G),yield G.auth._persistUserIfCurrent(G),S})).apply(this,arguments)}class Wl{constructor(S){this.auth=S,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(S){this.consumers.add(S),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,S)&&(this.sendToConsumer(this.queuedRedirectEvent,S),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(S){this.consumers.delete(S)}onEvent(S){if(this.hasEventBeenHandled(S))return!1;let M=!1;return this.consumers.forEach(Q=>{this.isEventForConsumer(S,Q)&&(M=!0,this.sendToConsumer(S,Q),this.saveEventToCache(S))}),this.hasHandledPotentialRedirect||!function P(G){switch(G.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return a(G);default:return!1}}(S)||(this.hasHandledPotentialRedirect=!0,M||(this.queuedRedirectEvent=S,M=!0)),M}sendToConsumer(S,M){var Q;if(S.error&&!a(S)){const Ne=(null===(Q=S.error.code)||void 0===Q?void 0:Q.split("auth/")[1])||"internal-error";M.onError(zt(this.auth,Ne))}else M.onAuthEvent(S)}isEventForConsumer(S,M){const Q=null===M.eventId||!!S.eventId&&S.eventId===M.eventId;return M.filter.includes(S.type)&&Q}hasEventBeenHandled(S){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(oe(S))}saveEventToCache(S){this.cachedEventUids.add(oe(S)),this.lastProcessedEventTime=Date.now()}}function oe(G){return[G.type,G.eventId,G.sessionId,G.tenantId].filter(S=>S).join("-")}function a({type:G,error:S}){return"unknown"===G&&"auth/no-auth-event"===(null==S?void 0:S.code)}function X(G){return de.apply(this,arguments)}function de(){return(de=(0,c.Z)(function*(G,S={}){return xn(G,"GET","/v1/projects",S)})).apply(this,arguments)}const xe=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,je=/^https?/;function lt(){return(lt=(0,c.Z)(function*(G){if(G.config.emulator)return;const{authorizedDomains:S}=yield X(G);for(const M of S)try{if(yt(M))return}catch{}bt(G,"unauthorized-domain")})).apply(this,arguments)}function yt(G){const S=tn(),{protocol:M,hostname:Q}=new URL(S);if(G.startsWith("chrome-extension://")){const Rn=new URL(G);return""===Rn.hostname&&""===Q?"chrome-extension:"===M&&G.replace("chrome-extension://","")===S.replace("chrome-extension://",""):"chrome-extension:"===M&&Rn.hostname===Q}if(!je.test(M))return!1;if(xe.test(G))return Q===G;const Ne=G.replace(/\./g,"\\.");return new RegExp("^(.+\\."+Ne+"|"+Ne+")$","i").test(Q)}const vt=new Ot(3e4,6e4);function pt(){const G=go().___jsl;if(null!=G&&G.H)for(const S of Object.keys(G.H))if(G.H[S].r=G.H[S].r||[],G.H[S].L=G.H[S].L||[],G.H[S].r=[...G.H[S].L],G.CP)for(let M=0;M<G.CP.length;M++)G.CP[M]=null}let sn=null;const Xt=new Ot(5e3,15e3),Zt="__/auth/iframe",Cn="emulator/auth/iframe",Qt={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Ht=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function $n(G){const S=G.config;se(S.authDomain,G,"auth-domain-config-required");const M=S.emulator?ft(S,Cn):`https://${G.config.authDomain}/${Zt}`,Q={apiKey:S.apiKey,appName:G.name,v:De.SDK_VERSION},Ne=Ht.get(G.config.apiHost);Ne&&(Q.eid=Ne);const ht=G._getFrameworks();return ht.length&&(Q.fw=ht.join(",")),`${M}?${(0,y.xO)(Q).slice(1)}`}function Si(){return Si=(0,c.Z)(function*(G){const S=yield function pn(G){return sn=sn||function Ct(G){return new Promise((S,M)=>{var Q,Ne,ht;function Rn(){pt(),gapi.load("gapi.iframes",{callback:()=>{S(gapi.iframes.getContext())},ontimeout:()=>{pt(),M(zt(G,"network-request-failed"))},timeout:vt.get()})}if(null!==(Ne=null===(Q=go().gapi)||void 0===Q?void 0:Q.iframes)&&void 0!==Ne&&Ne.Iframe)S(gapi.iframes.getContext());else{if(null===(ht=go().gapi)||void 0===ht||!ht.load){const si=Ki("iframefcb");return go()[si]=()=>{gapi.load?Rn():M(zt(G,"network-request-failed"))},yr(`https://apis.google.com/js/api.js?onload=${si}`).catch(ir=>M(ir))}Rn()}}).catch(S=>{throw sn=null,S})}(G),sn}(G),M=go().gapi;return se(M,G,"internal-error"),S.open({where:document.body,url:$n(G),messageHandlersFilter:M.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Qt,dontclear:!0},Q=>new Promise(function(){var Ne=(0,c.Z)(function*(ht,Rn){yield Q.restyle({setHideOnLeave:!1});const si=zt(G,"network-request-failed"),ir=go().setTimeout(()=>{Rn(si)},Xt.get());function Kr(){go().clearTimeout(ir),ht(Q)}Q.ping(Kr).then(Kr,()=>{Rn(si)})});return function(ht,Rn){return Ne.apply(this,arguments)}}()))}),Si.apply(this,arguments)}const lr={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class gi{constructor(S){this.window=S,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const Qn="__/auth/handler",Jn="emulator/auth/handler",Hn=encodeURIComponent("fac");function Un(G,S,M,Q,Ne,ht){return ei.apply(this,arguments)}function ei(){return(ei=(0,c.Z)(function*(G,S,M,Q,Ne,ht){se(G.config.authDomain,G,"auth-domain-config-required"),se(G.config.apiKey,G,"invalid-api-key");const Rn={apiKey:G.config.apiKey,appName:G.name,authType:M,redirectUrl:Q,v:De.SDK_VERSION,eventId:Ne};if(S instanceof No){S.setDefaultLanguage(G.languageCode),Rn.providerId=S.providerId||"",(0,y.xb)(S.getCustomParameters())||(Rn.customParameters=JSON.stringify(S.getCustomParameters()));for(const[Ds,wo]of Object.entries(ht||{}))Rn[Ds]=wo}if(S instanceof ta){const Ds=S.getScopes().filter(wo=>""!==wo);Ds.length>0&&(Rn.scopes=Ds.join(","))}G.tenantId&&(Rn.tid=G.tenantId);const si=Rn;for(const Ds of Object.keys(si))void 0===si[Ds]&&delete si[Ds];const ir=yield G._getAppCheckToken(),Kr=ir?`#${Hn}=${encodeURIComponent(ir)}`:"";return`${function es({config:G}){return G.emulator?ft(G,Jn):`https://${G.authDomain}/${Qn}`}(G)}?${(0,y.xO)(si).slice(1)}${Kr}`})).apply(this,arguments)}const ro="webStorageSupport",Ss=class ua{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ql,this._completeRedirectFn=Fl,this._overrideRedirectResult=Oo}_openPopup(S,M,Q,Ne){var ht=this;return(0,c.Z)(function*(){var Rn;Tt(null===(Rn=ht.eventManagers[S._key()])||void 0===Rn?void 0:Rn.manager,"_initialize() not called before _openPopup()");const si=yield Un(S,M,Q,tn(),Ne);return function ci(G,S,M,Q=500,Ne=600){const ht=Math.max((window.screen.availHeight-Ne)/2,0).toString(),Rn=Math.max((window.screen.availWidth-Q)/2,0).toString();let si="";const ir=Object.assign(Object.assign({},lr),{width:Q.toString(),height:Ne.toString(),top:ht,left:Rn}),Kr=(0,y.z$)().toLowerCase();M&&(si=O(Kr)?"_blank":M),x(Kr)&&(S=S||"http://localhost",ir.scrollbars="yes");const Ds=Object.entries(ir).reduce((Bl,[dc,su])=>`${Bl}${dc}=${su},`,"");if(function Lt(G=(0,y.z$)()){var S;return Be(G)&&!(null===(S=window.navigator)||void 0===S||!S.standalone)}(Kr)&&"_self"!==si)return function bn(G,S){const M=document.createElement("a");M.href=G,M.target=S;const Q=document.createEvent("MouseEvent");Q.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),M.dispatchEvent(Q)}(S||"",si),new gi(null);const wo=window.open(S||"",si,Ds);se(wo,G,"popup-blocked");try{wo.focus()}catch{}return new gi(wo)}(S,si,ml())})()}_openRedirect(S,M,Q,Ne){var ht=this;return(0,c.Z)(function*(){return yield ht._originValidation(S),function xa(G){go().location.href=G}(yield Un(S,M,Q,tn(),Ne)),new Promise(()=>{})})()}_initialize(S){const M=S._key();if(this.eventManagers[M]){const{manager:Ne,promise:ht}=this.eventManagers[M];return Ne?Promise.resolve(Ne):(Tt(ht,"If manager is not set, promise should be"),ht)}const Q=this.initAndGetManager(S);return this.eventManagers[M]={promise:Q},Q.catch(()=>{delete this.eventManagers[M]}),Q}initAndGetManager(S){var M=this;return(0,c.Z)(function*(){const Q=yield function xi(G){return Si.apply(this,arguments)}(S),Ne=new Wl(S);return Q.register("authEvent",ht=>(se(null==ht?void 0:ht.authEvent,S,"invalid-auth-event"),{status:Ne.onEvent(ht.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),M.eventManagers[S._key()]={manager:Ne},M.iframes[S._key()]=Q,Ne})()}_isIframeWebStorageSupported(S,M){this.iframes[S._key()].send(ro,{type:ro},Ne=>{var ht;const Rn=null===(ht=null==Ne?void 0:Ne[0])||void 0===ht?void 0:ht[ro];void 0!==Rn&&M(!!Rn),bt(S,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(S){const M=S._key();return this.originValidationPromises[M]||(this.originValidationPromises[M]=function at(G){return lt.apply(this,arguments)}(S)),this.originValidationPromises[M]}get _shouldInitProactively(){return Wt()||A()||Be()}};class Ls{constructor(S){this.factorId=S}_process(S,M,Q){switch(M.type){case"enroll":return this._finalizeEnroll(S,M.credential,Q);case"signin":return this._finalizeSignIn(S,M.credential);default:return Vt("unexpected MultiFactorSessionType")}}}class Ja extends Ls{constructor(S){super("phone"),this.credential=S}static _fromCredential(S){return new Ja(S)}_finalizeEnroll(S,M,Q){return function Yo(G,S){return xn(G,"POST","/v2/accounts/mfaEnrollment:finalize",qt(G,S))}(S,{idToken:M,displayName:Q,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(S,M){return function ks(G,S){return xn(G,"POST","/v2/accounts/mfaSignIn:finalize",qt(G,S))}(S,{mfaPendingCredential:M,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Ql=(()=>{class G{constructor(){}static assertion(M){return Ja._fromCredential(M)}}return G.FACTOR_ID="phone",G})();var nc="@firebase/auth";class Pl{constructor(S){this.auth=S,this.internalListeners=new Map}getUid(){var S;return this.assertAuthConfigured(),(null===(S=this.auth.currentUser)||void 0===S?void 0:S.uid)||null}getToken(S){var M=this;return(0,c.Z)(function*(){return M.assertAuthConfigured(),yield M.auth._initializationPromise,M.auth.currentUser?{accessToken:yield M.auth.currentUser.getIdToken(S)}:null})()}addAuthTokenListener(S){if(this.assertAuthConfigured(),this.internalListeners.has(S))return;const M=this.auth.onIdTokenChanged(Q=>{S((null==Q?void 0:Q.stsTokenManager.accessToken)||null)});this.internalListeners.set(S,M),this.updateProactiveRefresh()}removeAuthTokenListener(S){this.assertAuthConfigured();const M=this.internalListeners.get(S);M&&(this.internalListeners.delete(S),M(),this.updateProactiveRefresh())}assertAuthConfigured(){se(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const yc=(0,y.Pz)("authIdTokenMaxAge")||300;let Ga=null;const Ic=G=>function(){var S=(0,c.Z)(function*(M){const Q=M&&(yield M.getIdTokenResult()),Ne=Q&&((new Date).getTime()-Date.parse(Q.issuedAtTime))/1e3;if(Ne&&Ne>yc)return;const ht=null==Q?void 0:Q.token;Ga!==ht&&(Ga=ht,yield fetch(G,{method:ht?"POST":"DELETE",headers:ht?{Authorization:`Bearer ${ht}`}:{}}))});return function(M){return S.apply(this,arguments)}}();function Tc(G=(0,De.getApp)()){const S=(0,De._getProvider)(G,"auth");if(S.isInitialized())return S.getImmediate();const M=function Eo(G,S){const M=(0,De._getProvider)(G,"auth");if(M.isInitialized()){const Ne=M.getImmediate(),ht=M.getOptions();if((0,y.vZ)(ht,null!=S?S:{}))return Ne;bt(Ne,"already-initialized")}return M.initialize({options:S})}(G,{popupRedirectResolver:Ss,persistence:[Ys,Al,ql]}),Q=(0,y.Pz)("authTokenSyncURL");if(Q){const ht=Ic(Q);(function We(G,S,M){(0,y.m9)(G).beforeAuthStateChanged(S,M)})(M,ht,()=>ht(M.currentUser)),function ae(G,S,M,Q){(0,y.m9)(G).onIdTokenChanged(S,M,Q)}(M,Rn=>ht(Rn))}const Ne=(0,y.q4)("auth");return Ne&&ho(M,`http://${Ne}`),M}!function uc(G){(0,De._registerComponent)(new Ye.wA("auth",(S,{options:M})=>{const Q=S.getProvider("app").getImmediate(),Ne=S.getProvider("heartbeat"),ht=S.getProvider("app-check-internal"),{apiKey:Rn,authDomain:si}=Q.options;se(Rn&&!Rn.includes(":"),"invalid-api-key",{appName:Q.name});const ir={apiKey:Rn,authDomain:si,clientPlatform:G,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:In(G)},Kr=new ws(Q,Ne,ht,ir);return function Zs(G,S){const M=(null==S?void 0:S.persistence)||[],Q=(Array.isArray(M)?M:[M]).map(mi);null!=S&&S.errorMap&&G._updateErrorMap(S.errorMap),G._initializeWithPersistence(Q,null==S?void 0:S.popupRedirectResolver)}(Kr,M),Kr},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((S,M,Q)=>{S.getProvider("auth-internal").initialize()})),(0,De._registerComponent)(new Ye.wA("auth-internal",S=>{const M=Es(S.getProvider("auth").getImmediate());return new Pl(M)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,De.registerVersion)(nc,"0.23.2",function Cc(G){switch(G){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(G)),(0,De.registerVersion)(nc,"0.23.2","esm2017")}("Browser")},2810:(Ii,ln,Y)=>{"use strict";Y.d(ln,{u7:()=>Ef,Jj:()=>Mc,IX:()=>Ay,my:()=>za,xU:()=>eu,Lz:()=>Jc,WA:()=>Ri,F8:()=>zu,$q:()=>Pc,W:()=>Ed,EK:()=>Ko,PU:()=>Vc,l7:()=>Hl,Ky:()=>Ji,Xb:()=>qs,Cf:()=>$o,K9:()=>Ci,Me:()=>Qa,yq:()=>fa,Wi:()=>Iy,ET:()=>zl,Ab:()=>__,vr:()=>v_,Fc:()=>_0,hJ:()=>rh,B$:()=>sh,at:()=>md,oe:()=>u_,AK:()=>qy,TF:()=>b0,JU:()=>yd,ST:()=>om,fH:()=>zv,Ix:()=>Wv,Wu:()=>$y,Lx:()=>By,qY:()=>Il,GL:()=>uh,QT:()=>Sd,kl:()=>a_,Xk:()=>wm,PL:()=>S0,UQ:()=>C0,zN:()=>l_,ad:()=>xy,nP:()=>b_,b9:()=>Ly,vh:()=>pm,Pb:()=>E0,L$:()=>Gv,cf:()=>Hy,sc:()=>d_,Xo:()=>t_,IO:()=>Jv,iE:()=>Vu,Eo:()=>oh,i3:()=>Ky,Bt:()=>y_,pl:()=>c_,Ub:()=>Yo,qK:()=>bm,TQ:()=>Fy,e0:()=>gm,r7:()=>jy,Mx:()=>Hv,ar:()=>e_});var $e,c=Y(5861),y=Y(6881),De=Y(4859),ze=Y(1877),dt=Y(2090),Ye=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},be={},Ke=Ke||{},Ue=Ye||self;function Re(){}function Xe(r){var e=typeof r;return"array"==(e="object"!=e?e:r?Array.isArray(r)?"array":e:"null")||"object"==e&&"number"==typeof r.length}function Le(r){var e=typeof r;return"object"==e&&null!=r||"function"==e}var At="closure_uid_"+(1e9*Math.random()>>>0),an=0;function nt(r,e,t){return r.call.apply(r.bind,arguments)}function Ze(r,e,t){if(!r)throw Error();if(2<arguments.length){var o=Array.prototype.slice.call(arguments,2);return function(){var d=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(d,o),r.apply(e,d)}}return function(){return r.apply(e,arguments)}}function on(r,e,t){return(on=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?nt:Ze).apply(null,arguments)}function It(r,e){var t=Array.prototype.slice.call(arguments,1);return function(){var o=t.slice();return o.push.apply(o,arguments),r.apply(this,o)}}function bt(r,e){function t(){}t.prototype=e.prototype,r.$=e.prototype,r.prototype=new t,r.prototype.constructor=r,r.ac=function(o,d,_){for(var T=Array(arguments.length-2),J=2;J<arguments.length;J++)T[J-2]=arguments[J];return e.prototype[d].apply(o,T)}}function zt(){this.s=this.s,this.o=this.o}zt.prototype.s=!1,zt.prototype.ra=function(){!this.s&&(this.s=!0,this.N(),0)&&function Qe(r){Object.prototype.hasOwnProperty.call(r,At)&&r[At]||(r[At]=++an)}(this)},zt.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Yt=Array.prototype.indexOf?function(r,e){return Array.prototype.indexOf.call(r,e,void 0)}:function(r,e){if("string"==typeof r)return"string"!=typeof e||1!=e.length?-1:r.indexOf(e,0);for(let t=0;t<r.length;t++)if(t in r&&r[t]===e)return t;return-1};function tt(r){const e=r.length;if(0<e){const t=Array(e);for(let o=0;o<e;o++)t[o]=r[o];return t}return[]}function se(r,e){for(let t=1;t<arguments.length;t++){const o=arguments[t];if(Xe(o)){const d=r.length||0,_=o.length||0;r.length=d+_;for(let T=0;T<_;T++)r[d+T]=o[T]}else r.push(o)}}function Vt(r,e){this.type=r,this.g=this.target=e,this.defaultPrevented=!1}Vt.prototype.h=function(){this.defaultPrevented=!0};var Tt=function(){if(!Ue.addEventListener||!Object.defineProperty)return!1;var r=!1,e=Object.defineProperty({},"passive",{get:function(){r=!0}});try{Ue.addEventListener("test",Re,e),Ue.removeEventListener("test",Re,e)}catch{}return r}();function tn(r){return/^[\s\xa0]*$/.test(r)}var dn=String.prototype.trim?function(r){return r.trim()}:function(r){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(r)[1]};function ct(r,e){return r<e?-1:r>e?1:0}function et(){var r=Ue.navigator;return r&&(r=r.userAgent)?r:""}function wt(r){return-1!=et().indexOf(r)}function Ot(r){return Ot[" "](r),r}function ft(r,e,t){return Object.prototype.hasOwnProperty.call(r,e)?r[e]:r[e]=t(e)}Ot[" "]=Re;var Dn,r,Je=wt("Opera"),Et=wt("Trident")||wt("MSIE"),vn=wt("Edge"),qt=vn||Et,xn=wt("Gecko")&&!(-1!=et().toLowerCase().indexOf("webkit")&&!wt("Edge"))&&!(wt("Trident")||wt("MSIE"))&&!wt("Edge"),Gt=-1!=et().toLowerCase().indexOf("webkit")&&!wt("Edge");function li(){var r=Ue.document;return r?r.documentMode:void 0}e:{var Nt="",On=(r=et(),xn?/rv:([^\);]+)(\)|;)/.exec(r):vn?/Edge\/([\d\.]+)/.exec(r):Et?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(r):Gt?/WebKit\/(\S+)/.exec(r):Je?/(?:Version)[ \/]?(\S+)/.exec(r):void 0);if(On&&(Nt=On?On[1]:""),Et){var Vn=li();if(null!=Vn&&Vn>parseFloat(Nt)){Dn=String(Vn);break e}}Dn=Nt}var Ti={},Ai=Ue.document&&Et&&(li()||parseInt(Dn,10))||void 0;function Ni(r,e){if(Vt.call(this,r?r.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,r){var t=this.type=r.type,o=r.changedTouches&&r.changedTouches.length?r.changedTouches[0]:null;if(this.target=r.target||r.srcElement,this.g=e,e=r.relatedTarget){if(xn){e:{try{Ot(e.nodeName);var d=!0;break e}catch{}d=!1}d||(e=null)}}else"mouseover"==t?e=r.fromElement:"mouseout"==t&&(e=r.toElement);this.relatedTarget=e,o?(this.clientX=void 0!==o.clientX?o.clientX:o.pageX,this.clientY=void 0!==o.clientY?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0):(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0),this.button=r.button,this.key=r.key||"",this.ctrlKey=r.ctrlKey,this.altKey=r.altKey,this.shiftKey=r.shiftKey,this.metaKey=r.metaKey,this.pointerId=r.pointerId||0,this.pointerType="string"==typeof r.pointerType?r.pointerType:rr[r.pointerType]||"",this.state=r.state,this.i=r,r.defaultPrevented&&Ni.$.h.call(this)}}bt(Ni,Vt);var rr={2:"touch",3:"pen",4:"mouse"};Ni.prototype.h=function(){Ni.$.h.call(this);var r=this.i;r.preventDefault?r.preventDefault():r.returnValue=!1};var fr="closure_listenable_"+(1e6*Math.random()|0),Ui=0;function ii(r,e,t,o,d){this.listener=r,this.proxy=null,this.src=e,this.type=t,this.capture=!!o,this.la=d,this.key=++Ui,this.fa=this.ia=!1}function kr(r){r.fa=!0,r.listener=null,r.proxy=null,r.src=null,r.la=null}function Ar(r,e,t){for(const o in r)e.call(t,r[o],o,r)}function Li(r){const e={};for(const t in r)e[t]=r[t];return e}const ps="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Xr(r,e){let t,o;for(let d=1;d<arguments.length;d++){for(t in o=arguments[d],o)r[t]=o[t];for(let _=0;_<ps.length;_++)t=ps[_],Object.prototype.hasOwnProperty.call(o,t)&&(r[t]=o[t])}}function Bi(r){this.src=r,this.g={},this.h=0}function Mi(r,e){var t=e.type;if(t in r.g){var _,o=r.g[t],d=Yt(o,e);(_=0<=d)&&Array.prototype.splice.call(o,d,1),_&&(kr(e),0==r.g[t].length&&(delete r.g[t],r.h--))}}function Zi(r,e,t,o){for(var d=0;d<r.length;++d){var _=r[d];if(!_.fa&&_.listener==e&&_.capture==!!t&&_.la==o)return d}return-1}Bi.prototype.add=function(r,e,t,o,d){var _=r.toString();(r=this.g[_])||(r=this.g[_]=[],this.h++);var T=Zi(r,e,o,d);return-1<T?(e=r[T],t||(e.ia=!1)):((e=new ii(e,this.src,_,!!o,d)).ia=t,r.push(e)),e};var Qr="closure_lm_"+(1e6*Math.random()|0),Jr={};function Ir(r,e,t,o,d){if(o&&o.once)return tr(r,e,t,o,d);if(Array.isArray(e)){for(var _=0;_<e.length;_++)Ir(r,e[_],t,o,d);return null}return t=_n(t),r&&r[fr]?r.O(e,t,Le(o)?!!o.capture:!!o,d):jr(r,e,t,!1,o,d)}function jr(r,e,t,o,d,_){if(!e)throw Error("Invalid event type");var T=Le(d)?!!d.capture:!!d,J=Ge(r);if(J||(r[Qr]=J=new Bi(r)),(t=J.add(e,t,o,T,_)).proxy)return t;if(o=function ns(){const e=zn;return function r(t){return e.call(r.src,r.listener,t)}}(),t.proxy=o,o.src=r,o.listener=t,r.addEventListener)Tt||(d=T),void 0===d&&(d=!1),r.addEventListener(e.toString(),o,d);else if(r.attachEvent)r.attachEvent(nr(e.toString()),o);else{if(!r.addListener||!r.removeListener)throw Error("addEventListener and attachEvent are unavailable.");r.addListener(o)}return t}function tr(r,e,t,o,d){if(Array.isArray(e)){for(var _=0;_<e.length;_++)tr(r,e[_],t,o,d);return null}return t=_n(t),r&&r[fr]?r.P(e,t,Le(o)?!!o.capture:!!o,d):jr(r,e,t,!0,o,d)}function Hi(r,e,t,o,d){if(Array.isArray(e))for(var _=0;_<e.length;_++)Hi(r,e[_],t,o,d);else o=Le(o)?!!o.capture:!!o,t=_n(t),r&&r[fr]?(r=r.i,(e=String(e).toString())in r.g&&-1<(t=Zi(_=r.g[e],t,o,d))&&(kr(_[t]),Array.prototype.splice.call(_,t,1),0==_.length&&(delete r.g[e],r.h--))):r&&(r=Ge(r))&&(e=r.g[e.toString()],r=-1,e&&(r=Zi(e,t,o,d)),(t=-1<r?e[r]:null)&&is(t))}function is(r){if("number"!=typeof r&&r&&!r.fa){var e=r.src;if(e&&e[fr])Mi(e.i,r);else{var t=r.type,o=r.proxy;e.removeEventListener?e.removeEventListener(t,o,r.capture):e.detachEvent?e.detachEvent(nr(t),o):e.addListener&&e.removeListener&&e.removeListener(o),(t=Ge(e))?(Mi(t,r),0==t.h&&(t.src=null,e[Qr]=null)):kr(r)}}}function nr(r){return r in Jr?Jr[r]:Jr[r]="on"+r}function zn(r,e){if(r.fa)r=!0;else{e=new Ni(e,this);var t=r.listener,o=r.la||r.src;r.ia&&is(r),r=t.call(o,e)}return r}function Ge(r){return(r=r[Qr])instanceof Bi?r:null}var Mt="__closure_events_fn_"+(1e9*Math.random()>>>0);function _n(r){return"function"==typeof r?r:(r[Mt]||(r[Mt]=function(e){return r.handleEvent(e)}),r[Mt])}function Gn(){zt.call(this),this.i=new Bi(this),this.S=this,this.J=null}function mi(r,e){var t,o=r.J;if(o)for(t=[];o;o=o.J)t.push(o);if(r=r.S,o=e.type||e,"string"==typeof e)e=new Vt(e,r);else if(e instanceof Vt)e.target=e.target||r;else{var d=e;Xr(e=new Vt(o,r),d)}if(d=!0,t)for(var _=t.length-1;0<=_;_--){var T=e.g=t[_];d=Dr(T,o,!0,e)&&d}if(d=Dr(T=e.g=r,o,!0,e)&&d,d=Dr(T,o,!1,e)&&d,t)for(_=0;_<t.length;_++)d=Dr(T=e.g=t[_],o,!1,e)&&d}function Dr(r,e,t,o){if(!(e=r.i.g[String(e)]))return!0;e=e.concat();for(var d=!0,_=0;_<e.length;++_){var T=e[_];if(T&&!T.fa&&T.capture==t){var J=T.listener,ye=T.la||T.src;T.ia&&Mi(r.i,T),d=!1!==J.call(ye,o)&&d}}return d&&!o.defaultPrevented}bt(Gn,zt),Gn.prototype[fr]=!0,Gn.prototype.removeEventListener=function(r,e,t,o){Hi(this,r,e,t,o)},Gn.prototype.N=function(){if(Gn.$.N.call(this),this.i){var e,r=this.i;for(e in r.g){for(var t=r.g[e],o=0;o<t.length;o++)kr(t[o]);delete r.g[e],r.h--}}this.J=null},Gn.prototype.O=function(r,e,t,o){return this.i.add(String(r),e,!1,t,o)},Gn.prototype.P=function(r,e,t,o){return this.i.add(String(r),e,!0,t,o)};var pr=Ue.JSON.stringify;function sr(){var r=Ve;let e=null;return r.g&&(e=r.g,r.g=r.g.next,r.g||(r.h=null),e.next=null),e}var ne,B=new class{constructor(r,e){this.i=r,this.j=e,this.h=0,this.g=null}get(){let r;return 0<this.h?(this.h--,r=this.g,this.g=r.next,r.next=null):r=this.i(),r}}(()=>new x,r=>r.reset());class x{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function A(r){Ue.setTimeout(()=>{throw r},0)}function O(r,e){ne||function ce(){var r=Ue.Promise.resolve(void 0);ne=function(){r.then(Be)}}(),me||(ne(),me=!0),Ve.add(r,e)}var me=!1,Ve=new class Pt{constructor(){this.h=this.g=null}add(e,t){const o=B.get();o.set(e,t),this.h?this.h.next=o:this.g=o,this.h=o}};function Be(){for(var r;r=sr();){try{r.h.call(r.g)}catch(t){A(t)}var e=B;e.j(r),100>e.h&&(e.h++,r.next=e.g,e.g=r)}me=!1}function jt(r,e){Gn.call(this),this.h=r||1,this.g=e||Ue,this.j=on(this.qb,this),this.l=Date.now()}function Lt(r){r.ga=!1,r.T&&(r.g.clearTimeout(r.T),r.T=null)}function fn(r,e,t){if("function"==typeof r)t&&(r=on(r,t));else{if(!r||"function"!=typeof r.handleEvent)throw Error("Invalid listener argument");r=on(r.handleEvent,r)}return 2147483647<Number(e)?-1:Ue.setTimeout(r,e||0)}function Wt(r){r.g=fn(()=>{r.g=null,r.i&&(r.i=!1,Wt(r))},r.j);const e=r.h;r.h=null,r.m.apply(null,e)}bt(jt,Gn),($e=jt.prototype).ga=!1,$e.T=null,$e.qb=function(){if(this.ga){var r=Date.now()-this.l;0<r&&r<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-r):(this.T&&(this.g.clearTimeout(this.T),this.T=null),mi(this,"tick"),this.ga&&(Lt(this),this.start()))}},$e.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},$e.N=function(){jt.$.N.call(this),Lt(this),delete this.g};class en extends zt{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Wt(this)}N(){super.N(),this.g&&(Ue.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function In(r){zt.call(this),this.h=r,this.g={}}bt(In,zt);var Ut=[];function rn(r,e,t,o){Array.isArray(t)||(t&&(Ut[0]=t.toString()),t=Ut);for(var d=0;d<t.length;d++){var _=Ir(e,t[d],o||r.handleEvent,!1,r.h||r);if(!_)break;r.g[_.key]=_}}function hn(r){Ar(r.g,function(e,t){this.g.hasOwnProperty(t)&&is(e)},r),r.g={}}function Yn(){this.g=!0}function $i(r,e,t,o){r.info(function(){return"XMLHTTP TEXT ("+e+"): "+function yr(r,e){if(!r.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(r=0;r<t.length;r++)if(Array.isArray(t[r])){var o=t[r];if(!(2>o.length)){var d=o[1];if(Array.isArray(d)&&!(1>d.length)){var _=d[0];if("noop"!=_&&"stop"!=_&&"close"!=_)for(var T=1;T<d.length;T++)d[T]=""}}}return pr(t)}catch{return e}}(r,t)+(o?" "+o:"")})}In.prototype.N=function(){In.$.N.call(this),hn(this)},In.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Yn.prototype.Ea=function(){this.g=!1},Yn.prototype.info=function(){};var Ki={},wr=null;function Wi(){return wr=wr||new Gn}function mr(r){Vt.call(this,Ki.Ta,r)}function Hr(r){const e=Wi();mi(e,new mr(e))}function ur(r,e){Vt.call(this,Ki.STAT_EVENT,r),this.stat=e}function rs(r){const e=Wi();mi(e,new ur(e,r))}function $s(r,e){Vt.call(this,Ki.Ua,r),this.size=e}function ws(r,e){if("function"!=typeof r)throw Error("Fn must not be null and must be a function");return Ue.setTimeout(function(){r()},e)}Ki.Ta="serverreachability",bt(mr,Vt),Ki.STAT_EVENT="statevent",bt(ur,Vt),Ki.Ua="timingevent",bt($s,Vt);var Es={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},uo={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Eo(){}function ho(){}Eo.prototype.h=null;var Me,fe={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Ce(){Vt.call(this,"d")}function He(){Vt.call(this,"c")}function he(){}function Ae(r,e,t,o){this.l=r,this.j=e,this.m=t,this.W=o||1,this.U=new In(this),this.P=Kt,this.V=new jt(r=qt?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.aa=-1,this.J=!1,this.O=0,this.M=null,this.ca=this.K=this.ba=this.S=!1,this.h=new St}function St(){this.i=null,this.g="",this.h=!1}bt(Ce,Vt),bt(He,Vt),bt(he,Eo),he.prototype.g=function(){return new XMLHttpRequest},he.prototype.i=function(){return{}},Me=new he;var Kt=45e3,mn={},Mn={};function yi(r,e,t){r.L=1,r.v=Vs(Cs(e)),r.s=t,r.S=!0,bi(r,null)}function bi(r,e){r.G=Date.now(),Ks(r),r.A=Cs(r.v);var t=r.A,o=r.W;Array.isArray(o)||(o=[String(o)]),ms(t.i,"t",o),r.C=0,t=r.l.I,r.h=new St,r.g=lo(r.l,t?e:null,!r.s),0<r.O&&(r.M=new en(on(r.Pa,r,r.g),r.O)),rn(r.U,r.g,"readystatechange",r.nb),e=r.I?Li(r.I):{},r.s?(r.u||(r.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",r.g.ha(r.A,r.u,r.s,e)):(r.u="GET",r.g.ha(r.A,r.u,null,e)),Hr(),function Kn(r,e,t,o,d,_){r.info(function(){if(r.g)if(_)for(var T="",J=_.split("&"),ye=0;ye<J.length;ye++){var Oe=J[ye].split("=");if(1<Oe.length){var gt=Oe[0];Oe=Oe[1];var cn=gt.split("_");T=2<=cn.length&&"type"==cn[1]?T+(gt+"=")+Oe+"&":T+(gt+"=redacted&")}}else T=null;else T=_;return"XMLHTTP REQ ("+o+") [attempt "+d+"]: "+e+"\n"+t+"\n"+T})}(r.j,r.u,r.A,r.m,r.W,r.s)}function Cr(r){return!!r.g&&"GET"==r.u&&2!=r.L&&r.l.Ha}function $r(r,e,t){let d,o=!0;for(;!r.J&&r.C<t.length;){if(d=Xs(r,t),d==Mn){4==e&&(r.o=4,rs(14),o=!1),$i(r.j,r.m,null,"[Incomplete Response]");break}if(d==mn){r.o=4,rs(15),$i(r.j,r.m,t,"[Invalid Chunk]"),o=!1;break}$i(r.j,r.m,d,null),_r(r,d)}Cr(r)&&d!=Mn&&d!=mn&&(r.h.g="",r.C=0),4!=e||0!=t.length||r.h.h||(r.o=1,rs(16),o=!1),r.i=r.i&&o,o?0<t.length&&!r.ca&&(r.ca=!0,(e=r.l).g==r&&e.ca&&!e.L&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+t.length),qr(e),e.L=!0,rs(11))):($i(r.j,r.m,t,"[Invalid Chunked Response]"),vr(r),ri(r))}function Xs(r,e){var t=r.C,o=e.indexOf("\n",t);return-1==o?Mn:(t=Number(e.substring(t,o)),isNaN(t)?mn:(o+=1)+t>e.length?Mn:(e=e.substr(o,t),r.C=o+t,e))}function Ks(r){r.Y=Date.now()+r.P,vs(r,r.P)}function vs(r,e){if(null!=r.B)throw Error("WatchDog timer not null");r.B=ws(on(r.lb,r),e)}function hr(r){r.B&&(Ue.clearTimeout(r.B),r.B=null)}function ri(r){0==r.l.H||r.J||Us(r.l,r)}function vr(r){hr(r);var e=r.M;e&&"function"==typeof e.ra&&e.ra(),r.M=null,Lt(r.V),hn(r.U),r.g&&(e=r.g,r.g=null,e.abort(),e.ra())}function _r(r,e){try{var t=r.l;if(0!=t.H&&(t.g==r||bs(t.h,r)))if(!r.K&&bs(t.h,r)&&3==t.H){try{var o=t.Ja.g.parse(e)}catch{o=null}if(Array.isArray(o)&&3==o.length){var d=o;if(0==d[0]){e:if(!t.u){if(t.g){if(!(t.g.G+3e3<r.G))break e;Pr(t),I(t)}Wr(t),rs(18)}}else t.Fa=d[1],0<t.Fa-t.V&&37500>d[2]&&t.M&&0==t.A&&!t.v&&(t.v=ws(on(t.ib,t),6e3));if(1>=Lo(t.h)&&t.na){try{t.na()}catch{}t.na=void 0}}else po(t,11)}else if((r.K||t.g==r)&&Pr(t),!tn(e))for(d=t.Ja.g.parse(e),e=0;e<d.length;e++){let Oe=d[e];if(t.V=Oe[0],Oe=Oe[1],2==t.H)if("c"==Oe[0]){t.J=Oe[1],t.oa=Oe[2];const gt=Oe[3];null!=gt&&(t.qa=gt,t.j.info("VER="+t.qa));const cn=Oe[4];null!=cn&&(t.Ga=cn,t.j.info("SVER="+t.Ga));const Wn=Oe[5];null!=Wn&&"number"==typeof Wn&&0<Wn&&(t.K=o=1.5*Wn,t.j.info("backChannelRequestTimeoutMs_="+o)),o=t;const vi=r.g;if(vi){const cr=vi.g?vi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(cr){var _=o.h;_.g||-1==cr.indexOf("spdy")&&-1==cr.indexOf("quic")&&-1==cr.indexOf("h2")||(_.j=_.l,_.g=new Set,_.h&&(Aa(_,_.h),_.h=null))}if(o.F){const ts=vi.g?vi.g.getResponseHeader("X-HTTP-Session-Id"):null;ts&&(o.Da=ts,as(o.G,o.F,ts))}}t.H=3,t.l&&t.l.Ba(),t.ca&&(t.S=Date.now()-r.G,t.j.info("Handshake RTT: "+t.S+"ms"));var T=r;if((o=t).wa=hs(o,o.I?o.oa:null,o.Y),T.K){aa(o.h,T);var J=T,ye=o.K;ye&&J.setTimeout(ye),J.B&&(hr(J),Ks(J)),o.g=T}else Ur(o);0<t.i.length&&Ie(t)}else"stop"!=Oe[0]&&"close"!=Oe[0]||po(t,7);else 3==t.H&&("stop"==Oe[0]||"close"==Oe[0]?"stop"==Oe[0]?po(t,7):U(t):"noop"!=Oe[0]&&t.l&&t.l.Aa(Oe),t.A=0)}Hr()}catch{}}function js(r,e){if(r.forEach&&"function"==typeof r.forEach)r.forEach(e,void 0);else if(Xe(r)||"string"==typeof r)Array.prototype.forEach.call(r,e,void 0);else for(var t=function Do(r){if(r.sa&&"function"==typeof r.sa)return r.sa();if(!r.Z||"function"!=typeof r.Z){if(typeof Map<"u"&&r instanceof Map)return Array.from(r.keys());if(!(typeof Set<"u"&&r instanceof Set)){if(Xe(r)||"string"==typeof r){var e=[];r=r.length;for(var t=0;t<r;t++)e.push(t);return e}e=[],t=0;for(const o in r)e[t++]=o;return e}}}(r),o=function So(r){if(r.Z&&"function"==typeof r.Z)return r.Z();if(typeof Map<"u"&&r instanceof Map||typeof Set<"u"&&r instanceof Set)return Array.from(r.values());if("string"==typeof r)return r.split("");if(Xe(r)){for(var e=[],t=r.length,o=0;o<t;o++)e.push(r[o]);return e}for(o in e=[],t=0,r)e[t++]=r[o];return e}(r),d=o.length,_=0;_<d;_++)e.call(void 0,o[_],t&&t[_],r)}($e=Ae.prototype).setTimeout=function(r){this.P=r},$e.nb=function(r){r=r.target;const e=this.M;e&&3==Ps(r)?e.l():this.Pa(r)},$e.Pa=function(r){try{if(r==this.g)e:{const gt=Ps(this.g);var e=this.g.Ia();if(this.g.da(),!(3>gt)&&(3!=gt||qt||this.g&&(this.h.h||this.g.ja()||ha(this.g)))){this.J||4!=gt||7==e||Hr(),hr(this);var t=this.g.da();this.aa=t;t:if(Cr(this)){var o=ha(this.g);r="";var d=o.length,_=4==Ps(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){vr(this),ri(this);var T="";break t}this.h.i=new Ue.TextDecoder}for(e=0;e<d;e++)this.h.h=!0,r+=this.h.i.decode(o[e],{stream:_&&e==d-1});o.splice(0,d),this.h.g+=r,this.C=0,T=this.h.g}else T=this.g.ja();if(this.i=200==t,function ti(r,e,t,o,d,_,T){r.info(function(){return"XMLHTTP RESP ("+o+") [ attempt "+d+"]: "+e+"\n"+t+"\n"+_+" "+T})}(this.j,this.u,this.A,this.m,this.W,gt,t),this.i){if(this.ba&&!this.K){t:{if(this.g){var J,ye=this.g;if((J=ye.g?ye.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!tn(J)){var Oe=J;break t}}Oe=null}if(!(t=Oe)){this.i=!1,this.o=3,rs(12),vr(this),ri(this);break e}$i(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,_r(this,t)}this.S?($r(this,gt,T),qt&&this.i&&3==gt&&(rn(this.U,this.V,"tick",this.mb),this.V.start())):($i(this.j,this.m,T,null),_r(this,T)),4==gt&&vr(this),this.i&&!this.J&&(4==gt?Us(this.l,this):(this.i=!1,Ks(this)))}else 400==t&&0<T.indexOf("Unknown SID")?(this.o=3,rs(12)):(this.o=0,rs(13)),vr(this),ri(this)}}}catch{}},$e.mb=function(){if(this.g){var r=Ps(this.g),e=this.g.ja();this.C<e.length&&(hr(this),$r(this,r,e),this.i&&4!=r&&Ks(this))}},$e.cancel=function(){this.J=!0,vr(this)},$e.lb=function(){this.B=null;const r=Date.now();0<=r-this.Y?(function Sr(r,e){r.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(Hr(),rs(17)),vr(this),this.o=2,ri(this)):vs(this,this.Y-r)};var Qo=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Mr(r,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,r instanceof Mr){this.h=void 0!==e?e:r.h,Nr(this,r.j),this.s=r.s,this.g=r.g,Ao(this,r.m),this.l=r.l,e=r.i;var t=new Mo;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),Gs(this,t),this.o=r.o}else r&&(t=String(r).match(Qo))?(this.h=!!e,Nr(this,t[1]||"",!0),this.s=zo(t[2]||""),this.g=zo(t[3]||"",!0),Ao(this,t[4]),this.l=zo(t[5]||"",!0),Gs(this,t[6]||"",!0),this.o=zo(t[7]||"")):(this.h=!!e,this.i=new Mo(null,this.h))}function Cs(r){return new Mr(r)}function Nr(r,e,t){r.j=t?zo(e,!0):e,r.j&&(r.j=r.j.replace(/:$/,""))}function Ao(r,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);r.m=e}else r.m=null}function Gs(r,e,t){e instanceof Mo?(r.i=e,function No(r,e){e&&!r.j&&(_s(r),r.i=null,r.g.forEach(function(t,o){var d=o.toLowerCase();o!=d&&(Pa(this,o),ms(this,d,t))},r)),r.j=e}(r.i,r.h)):(t||(e=Jo(e,xo)),r.i=new Mo(e,r.h))}function as(r,e,t){r.i.set(e,t)}function Vs(r){return as(r,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),r}function zo(r,e){return r?e?decodeURI(r.replace(/%25/g,"%2525")):decodeURIComponent(r):""}function Jo(r,e,t){return"string"==typeof r?(r=encodeURI(r).replace(e,vo),t&&(r=r.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),r):null}function vo(r){return"%"+((r=r.charCodeAt(0))>>4&15).toString(16)+(15&r).toString(16)}Mr.prototype.toString=function(){var r=[],e=this.j;e&&r.push(Jo(e,ea,!0),":");var t=this.g;return(t||"file"==e)&&(r.push("//"),(e=this.s)&&r.push(Jo(e,ea,!0),"@"),r.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&r.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&r.push("/"),r.push(Jo(t,"/"==t.charAt(0)?ra:ia,!0))),(t=this.i.toString())&&r.push("?",t),(t=this.o)&&r.push("#",Jo(t,Fa)),r.join("")};var ea=/[#\/\?@]/g,ia=/[#\?:]/g,ra=/[#\?]/g,xo=/[#\?@]/g,Fa=/#/g;function Mo(r,e){this.h=this.g=null,this.i=r||null,this.j=!!e}function _s(r){r.g||(r.g=new Map,r.h=0,r.i&&function Vr(r,e){if(r){r=r.split("&");for(var t=0;t<r.length;t++){var o=r[t].indexOf("="),d=null;if(0<=o){var _=r[t].substring(0,o);d=r[t].substring(o+1)}else _=r[t];e(_,d?decodeURIComponent(d.replace(/\+/g," ")):"")}}}(r.i,function(e,t){r.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function Pa(r,e){_s(r),e=no(r,e),r.g.has(e)&&(r.i=null,r.h-=r.g.get(e).length,r.g.delete(e))}function Co(r,e){return _s(r),e=no(r,e),r.g.has(e)}function ms(r,e,t){Pa(r,e),0<t.length&&(r.i=null,r.g.set(no(r,e),tt(t)),r.h+=t.length)}function no(r,e){return e=String(e),r.j&&(e=e.toLowerCase()),e}function Po(r){this.l=r||fo,r=Ue.PerformanceNavigationTiming?0<(r=Ue.performance.getEntriesByType("navigation")).length&&("hq"==r[0].nextHopProtocol||"h2"==r[0].nextHopProtocol):!!(Ue.g&&Ue.g.Ka&&Ue.g.Ka()&&Ue.g.Ka().ec),this.j=r?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}($e=Mo.prototype).add=function(r,e){_s(this),this.i=null,r=no(this,r);var t=this.g.get(r);return t||this.g.set(r,t=[]),t.push(e),this.h+=1,this},$e.forEach=function(r,e){_s(this),this.g.forEach(function(t,o){t.forEach(function(d){r.call(e,d,o,this)},this)},this)},$e.sa=function(){_s(this);const r=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let o=0;o<e.length;o++){const d=r[o];for(let _=0;_<d.length;_++)t.push(e[o])}return t},$e.Z=function(r){_s(this);let e=[];if("string"==typeof r)Co(this,r)&&(e=e.concat(this.g.get(no(this,r))));else{r=Array.from(this.g.values());for(let t=0;t<r.length;t++)e=e.concat(r[t])}return e},$e.set=function(r,e){return _s(this),this.i=null,Co(this,r=no(this,r))&&(this.h-=this.g.get(r).length),this.g.set(r,[e]),this.h+=1,this},$e.get=function(r,e){return r&&0<(r=this.Z(r)).length?String(r[0]):e},$e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const r=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var o=e[t];const _=encodeURIComponent(String(o)),T=this.Z(o);for(o=0;o<T.length;o++){var d=_;""!==T[o]&&(d+="="+encodeURIComponent(String(T[o]))),r.push(d)}}return this.i=r.join("&")};var fo=10;function jo(r){return!!r.h||!!r.g&&r.g.size>=r.j}function Lo(r){return r.h?1:r.g?r.g.size:0}function bs(r,e){return r.h?r.h==e:!!r.g&&r.g.has(e)}function Aa(r,e){r.g?r.g.add(e):r.h=e}function aa(r,e){r.h&&r.h==e?r.h=null:r.g&&r.g.has(e)&&r.g.delete(e)}function Ho(r){if(null!=r.h)return r.i.concat(r.h.F);if(null!=r.g&&0!==r.g.size){let e=r.i;for(const t of r.g.values())e=e.concat(t.F);return e}return tt(r.i)}function F(){}function Se(){this.g=new F}function $(r,e,t){const o=t||"";try{js(r,function(d,_){let T=d;Le(d)&&(T=pr(d)),e.push(o+_+"="+encodeURIComponent(T))})}catch(d){throw e.push(o+"type="+encodeURIComponent("_badmap")),d}}function ut(r,e,t,o,d){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,d(o)}catch{}}function oi(r){this.l=r.fc||null,this.j=r.ob||!1}function Yi(r,e){Gn.call(this),this.F=r,this.u=e,this.m=void 0,this.readyState=Tr,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Po.prototype.cancel=function(){if(this.i=Ho(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const r of this.g.values())r.cancel();this.g.clear()}},F.prototype.stringify=function(r){return Ue.JSON.stringify(r,void 0)},F.prototype.parse=function(r){return Ue.JSON.parse(r,void 0)},bt(oi,Eo),oi.prototype.g=function(){return new Yi(this.l,this.j)},oi.prototype.i=function(r){return function(){return r}}({}),bt(Yi,Gn);var Tr=0;function cs(r){r.j.read().then(r.Xa.bind(r)).catch(r.ka.bind(r))}function Ms(r){r.readyState=4,r.l=null,r.j=null,r.A=null,gs(r)}function gs(r){r.onreadystatechange&&r.onreadystatechange.call(r)}($e=Yi.prototype).open=function(r,e){if(this.readyState!=Tr)throw this.abort(),Error("Error reopening a connection");this.C=r,this.B=e,this.readyState=1,gs(this)},$e.send=function(r){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};r&&(e.body=r),(this.F||Ue).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},$e.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Ms(this)),this.readyState=Tr},$e.$a=function(r){if(this.g&&(this.l=r,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=r.headers,this.readyState=2,gs(this)),this.g&&(this.readyState=3,gs(this),this.g)))if("arraybuffer"===this.responseType)r.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof Ue.ReadableStream<"u"&&"body"in r){if(this.j=r.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;cs(this)}else r.text().then(this.Za.bind(this),this.ka.bind(this))},$e.Xa=function(r){if(this.g){if(this.u&&r.value)this.response.push(r.value);else if(!this.u){var e=r.value?r.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!r.done}))&&(this.response=this.responseText+=e)}r.done?Ms(this):gs(this),3==this.readyState&&cs(this)}},$e.Za=function(r){this.g&&(this.response=this.responseText=r,Ms(this))},$e.Ya=function(r){this.g&&(this.response=r,Ms(this))},$e.ka=function(){this.g&&Ms(this)},$e.setRequestHeader=function(r,e){this.v.append(r,e)},$e.getResponseHeader=function(r){return this.h&&this.h.get(r.toLowerCase())||""},$e.getAllResponseHeaders=function(){if(!this.h)return"";const r=[],e=this.h.entries();for(var t=e.next();!t.done;)r.push((t=t.value)[0]+": "+t[1]),t=e.next();return r.join("\r\n")},Object.defineProperty(Yi.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(r){this.m=r?"include":"same-origin"}});var wa=Ue.JSON.parse;function Bs(r){Gn.call(this),this.headers=new Map,this.u=r||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=Fo,this.L=this.M=!1}bt(Bs,Gn);var Fo="",Ra=/^https?$/i,la=["POST","PUT"];function da(r,e){r.h=!1,r.g&&(r.l=!0,r.g.abort(),r.l=!1),r.j=e,r.m=5,ys(r),Uo(r)}function ys(r){r.F||(r.F=!0,mi(r,"complete"),mi(r,"error"))}function ya(r){if(r.h&&typeof Ke<"u"&&(!r.C[1]||4!=Ps(r)||2!=r.da()))if(r.v&&4==Ps(r))fn(r.La,0,r);else if(mi(r,"readystatechange"),4==Ps(r)){r.h=!1;try{const J=r.da();e:switch(J){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var o;if(o=0===J){var d=String(r.I).match(Qo)[1]||null;if(!d&&Ue.self&&Ue.self.location){var _=Ue.self.location.protocol;d=_.substr(0,_.length-1)}o=!Ra.test(d?d.toLowerCase():"")}t=o}if(t)mi(r,"complete"),mi(r,"success");else{r.m=6;try{var T=2<Ps(r)?r.g.statusText:""}catch{T=""}r.j=T+" ["+r.da()+"]",ys(r)}}finally{Uo(r)}}}function Uo(r,e){if(r.g){Na(r);const t=r.g,o=r.C[0]?Re:null;r.g=null,r.C=null,e||mi(r,"ready");try{t.onreadystatechange=o}catch{}}}function Na(r){r.g&&r.L&&(r.g.ontimeout=null),r.A&&(Ue.clearTimeout(r.A),r.A=null)}function Ps(r){return r.g?r.g.readyState:0}function ha(r){try{if(!r.g)return null;if("response"in r.g)return r.g.response;switch(r.K){case Fo:case"text":return r.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in r.g)return r.g.mozResponseArrayBuffer}return null}catch{return null}}function tl(r){let e="";return Ar(r,function(t,o){e+=o,e+=":",e+=t,e+="\r\n"}),e}function Pe(r,e,t){e:{for(o in t){var o=!1;break e}o=!0}o||(t=tl(t),"string"==typeof r?null!=t&&encodeURIComponent(String(t)):as(r,e,t))}function _e(r,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[r]||e}function H(r){this.Ga=0,this.i=[],this.j=new Yn,this.oa=this.wa=this.G=this.Y=this.g=this.Da=this.F=this.ma=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=_e("failFast",!1,r),this.M=this.v=this.u=this.m=this.l=null,this.aa=!0,this.ta=this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=_e("baseRetryDelayMs",5e3,r),this.hb=_e("retryDelaySeedMs",1e4,r),this.eb=_e("forwardChannelMaxRetries",2,r),this.xa=_e("forwardChannelRequestTimeoutMs",2e4,r),this.va=r&&r.xmlHttpFactory||void 0,this.Ha=r&&r.dc||!1,this.K=void 0,this.I=r&&r.supportsCrossDomainXhr||!1,this.J="",this.h=new Po(r&&r.concurrentRequestLimit),this.Ja=new Se,this.P=r&&r.fastHandshake||!1,this.O=r&&r.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=r&&r.bc||!1,r&&r.Ea&&this.j.Ea(),r&&r.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&r&&r.detectBufferingProxy||!1,this.na=void 0,this.S=0,this.L=!1,this.pa=this.B=null}function U(r){if(V(r),3==r.H){var e=r.W++,t=Cs(r.G);as(t,"SID",r.J),as(t,"RID",e),as(t,"TYPE","terminate"),Nn(r,t),(e=new Ae(r,r.j,e,void 0)).L=2,e.v=Vs(Cs(t)),t=!1,Ue.navigator&&Ue.navigator.sendBeacon&&(t=Ue.navigator.sendBeacon(e.v.toString(),"")),!t&&Ue.Image&&((new Image).src=e.v,t=!0),t||(e.g=lo(e.l,null),e.g.ha(e.v)),e.G=Date.now(),Ks(e)}Io(r)}function I(r){r.g&&(qr(r),r.g.cancel(),r.g=null)}function V(r){I(r),r.u&&(Ue.clearTimeout(r.u),r.u=null),Pr(r),r.h.cancel(),r.m&&("number"==typeof r.m&&Ue.clearTimeout(r.m),r.m=null)}function Ie(r){jo(r.h)||r.m||(r.m=!0,O(r.Na,r),r.C=0)}function gn(r,e){var t;t=e?e.m:r.W++;const o=Cs(r.G);as(o,"SID",r.J),as(o,"RID",t),as(o,"AID",r.V),Nn(r,o),r.o&&r.s&&Pe(o,r.o,r.s),t=new Ae(r,r.j,t,r.C+1),null===r.o&&(t.I=r.s),e&&(r.i=e.F.concat(r.i)),e=qn(r,t,1e3),t.setTimeout(Math.round(.5*r.xa)+Math.round(.5*r.xa*Math.random())),Aa(r.h,t),yi(t,o,e)}function Nn(r,e){r.ma&&Ar(r.ma,function(t,o){as(e,o,t)}),r.l&&js({},function(t,o){as(e,o,t)})}function qn(r,e,t){t=Math.min(r.i.length,t);var o=r.l?on(r.l.Va,r.l,r):null;e:{var d=r.i;let _=-1;for(;;){const T=["count="+t];-1==_?0<t?(_=d[0].h,T.push("ofs="+_)):_=0:T.push("ofs="+_);let J=!0;for(let ye=0;ye<t;ye++){let Oe=d[ye].h;const gt=d[ye].g;if(Oe-=_,0>Oe)_=Math.max(0,d[ye].h-100),J=!1;else try{$(gt,T,"req"+Oe+"_")}catch{o&&o(gt)}}if(J){o=T.join("&");break e}}}return r=r.i.splice(0,t),e.F=r,o}function Ur(r){r.g||r.u||(r.ba=1,O(r.Ma,r),r.A=0)}function Wr(r){return!(r.g||r.u||3<=r.A||(r.ba++,r.u=ws(on(r.Ma,r),Ro(r,r.A)),r.A++,0))}function qr(r){null!=r.B&&(Ue.clearTimeout(r.B),r.B=null)}function ss(r){r.g=new Ae(r,r.j,"rpc",r.ba),null===r.o&&(r.g.I=r.s),r.g.O=0;var e=Cs(r.wa);as(e,"RID","rpc"),as(e,"SID",r.J),as(e,"CI",r.M?"0":"1"),as(e,"AID",r.V),as(e,"TYPE","xmlhttp"),Nn(r,e),r.o&&r.s&&Pe(e,r.o,r.s),r.K&&r.g.setTimeout(r.K);var t=r.g;r=r.oa,t.L=1,t.v=Vs(Cs(e)),t.s=null,t.S=!0,bi(t,r)}function Pr(r){null!=r.v&&(Ue.clearTimeout(r.v),r.v=null)}function Us(r,e){var t=null;if(r.g==e){Pr(r),qr(r),r.g=null;var o=2}else{if(!bs(r.h,e))return;t=e.F,aa(r.h,e),o=1}if(0!=r.H)if(r.ta=e.aa,e.i)if(1==o){t=e.s?e.s.length:0,e=Date.now()-e.G;var d=r.C;mi(o=Wi(),new $s(o,t)),Ie(r)}else Ur(r);else if(3==(d=e.o)||0==d&&0<r.ta||!(1==o&&function Rt(r,e){return!(Lo(r.h)>=r.h.j-(r.m?1:0)||(r.m?(r.i=e.F.concat(r.i),0):1==r.H||2==r.H||r.C>=(r.cb?0:r.eb)||(r.m=ws(on(r.Na,r,e),Ro(r,r.C)),r.C++,0)))}(r,e)||2==o&&Wr(r)))switch(t&&0<t.length&&(e=r.h,e.i=e.i.concat(t)),d){case 1:po(r,5);break;case 4:po(r,10);break;case 3:po(r,6);break;default:po(r,2)}}function Ro(r,e){let t=r.ab+Math.floor(Math.random()*r.hb);return r.l||(t*=2),t*e}function po(r,e){if(r.j.info("Error code "+e),2==e){var t=null;r.l&&(t=null);var o=on(r.pb,r);t||(t=new Mr("//www.google.com/images/cleardot.gif"),Ue.location&&"http"==Ue.location.protocol||Nr(t,"https"),Vs(t)),function ge(r,e){const t=new Yn;if(Ue.Image){const o=new Image;o.onload=It(ut,t,o,"TestLoadImage: loaded",!0,e),o.onerror=It(ut,t,o,"TestLoadImage: error",!1,e),o.onabort=It(ut,t,o,"TestLoadImage: abort",!1,e),o.ontimeout=It(ut,t,o,"TestLoadImage: timeout",!1,e),Ue.setTimeout(function(){o.ontimeout&&o.ontimeout()},1e4),o.src=r}else e(!1)}(t.toString(),o)}else rs(2);r.H=0,r.l&&r.l.za(e),Io(r),V(r)}function Io(r){if(r.H=0,r.pa=[],r.l){const e=Ho(r.h);(0!=e.length||0!=r.i.length)&&(se(r.pa,e),se(r.pa,r.i),r.h.i.length=0,tt(r.i),r.i.length=0),r.l.ya()}}function hs(r,e,t){var o=t instanceof Mr?Cs(t):new Mr(t,void 0);if(""!=o.g)e&&(o.g=e+"."+o.g),Ao(o,o.m);else{var d=Ue.location;o=d.protocol,e=e?e+"."+d.hostname:d.hostname,d=+d.port;var _=new Mr(null,void 0);o&&Nr(_,o),e&&(_.g=e),d&&Ao(_,d),t&&(_.l=t),o=_}return e=r.Da,(t=r.F)&&e&&as(o,t,e),as(o,"VER",r.qa),Nn(r,o),o}function lo(r,e,t){if(e&&!r.I)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Bs(t&&r.Ha&&!r.va?new oi({ob:!0}):r.va)).Oa(r.I),e}function Wo(){}function va(){if(Et&&!(10<=Number(Ai)))throw Error("Environmental error: no available transport.")}function Go(r,e){Gn.call(this),this.g=new H(e),this.l=r,this.h=e&&e.messageUrlParams||null,r=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(r?r["X-Client-Protocol"]="webchannel":r={"X-Client-Protocol":"webchannel"}),this.g.s=r,r=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(r?r["X-WebChannel-Content-Type"]=e.messageContentType:r={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(r?r["X-WebChannel-Client-Profile"]=e.Ca:r={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=r,(r=e&&e.cc)&&!tn(r)&&(this.g.o=r),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!tn(e)&&(this.g.F=e,null!==(r=this.h)&&e in r&&e in(r=this.h)&&delete r[e]),this.j=new cl(this)}function ja(r){Ce.call(this);var e=r.__sm__;if(e){e:{for(const t in e){r=t;break e}r=void 0}(this.i=r)&&(r=this.i,e=null!==e&&r in e?e[r]:void 0),this.data=e}else this.data=r}function Oa(){He.call(this),this.status=1}function cl(r){this.g=r}function Ea(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function Xa(r,e,t){t||(t=0);var o=Array(16);if("string"==typeof e)for(var d=0;16>d;++d)o[d]=e.charCodeAt(t++)|e.charCodeAt(t++)<<8|e.charCodeAt(t++)<<16|e.charCodeAt(t++)<<24;else for(d=0;16>d;++d)o[d]=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;var _=r.g[3],T=(e=r.g[0])+(_^(t=r.g[1])&((d=r.g[2])^_))+o[0]+3614090360&4294967295;T=(t=(d=(_=(e=(t=(d=(_=(e=(t=(d=(_=(e=(t=(d=(_=(e=(t=(d=(_=(e=(t=(d=(_=(e=(t=(d=(_=(e=(t=(d=(_=(e=(t=(d=(_=(e=(t=(d=(_=(e=(t=(d=(_=(e=(t=(d=(_=(e=(t=(d=(_=(e=(t=(d=(_=(e=(t=(d=(_=(e=t+(T<<7&4294967295|T>>>25))+((T=_+(d^e&(t^d))+o[1]+3905402710&4294967295)<<12&4294967295|T>>>20))+((T=d+(t^_&(e^t))+o[2]+606105819&4294967295)<<17&4294967295|T>>>15))+((T=t+(e^d&(_^e))+o[3]+3250441966&4294967295)<<22&4294967295|T>>>10))+((T=e+(_^t&(d^_))+o[4]+4118548399&4294967295)<<7&4294967295|T>>>25))+((T=_+(d^e&(t^d))+o[5]+1200080426&4294967295)<<12&4294967295|T>>>20))+((T=d+(t^_&(e^t))+o[6]+2821735955&4294967295)<<17&4294967295|T>>>15))+((T=t+(e^d&(_^e))+o[7]+4249261313&4294967295)<<22&4294967295|T>>>10))+((T=e+(_^t&(d^_))+o[8]+1770035416&4294967295)<<7&4294967295|T>>>25))+((T=_+(d^e&(t^d))+o[9]+2336552879&4294967295)<<12&4294967295|T>>>20))+((T=d+(t^_&(e^t))+o[10]+4294925233&4294967295)<<17&4294967295|T>>>15))+((T=t+(e^d&(_^e))+o[11]+2304563134&4294967295)<<22&4294967295|T>>>10))+((T=e+(_^t&(d^_))+o[12]+1804603682&4294967295)<<7&4294967295|T>>>25))+((T=_+(d^e&(t^d))+o[13]+4254626195&4294967295)<<12&4294967295|T>>>20))+((T=d+(t^_&(e^t))+o[14]+2792965006&4294967295)<<17&4294967295|T>>>15))+((T=t+(e^d&(_^e))+o[15]+1236535329&4294967295)<<22&4294967295|T>>>10))+((T=e+(d^_&(t^d))+o[1]+4129170786&4294967295)<<5&4294967295|T>>>27))+((T=_+(t^d&(e^t))+o[6]+3225465664&4294967295)<<9&4294967295|T>>>23))+((T=d+(e^t&(_^e))+o[11]+643717713&4294967295)<<14&4294967295|T>>>18))+((T=t+(_^e&(d^_))+o[0]+3921069994&4294967295)<<20&4294967295|T>>>12))+((T=e+(d^_&(t^d))+o[5]+3593408605&4294967295)<<5&4294967295|T>>>27))+((T=_+(t^d&(e^t))+o[10]+38016083&4294967295)<<9&4294967295|T>>>23))+((T=d+(e^t&(_^e))+o[15]+3634488961&4294967295)<<14&4294967295|T>>>18))+((T=t+(_^e&(d^_))+o[4]+3889429448&4294967295)<<20&4294967295|T>>>12))+((T=e+(d^_&(t^d))+o[9]+568446438&4294967295)<<5&4294967295|T>>>27))+((T=_+(t^d&(e^t))+o[14]+3275163606&4294967295)<<9&4294967295|T>>>23))+((T=d+(e^t&(_^e))+o[3]+4107603335&4294967295)<<14&4294967295|T>>>18))+((T=t+(_^e&(d^_))+o[8]+1163531501&4294967295)<<20&4294967295|T>>>12))+((T=e+(d^_&(t^d))+o[13]+2850285829&4294967295)<<5&4294967295|T>>>27))+((T=_+(t^d&(e^t))+o[2]+4243563512&4294967295)<<9&4294967295|T>>>23))+((T=d+(e^t&(_^e))+o[7]+1735328473&4294967295)<<14&4294967295|T>>>18))+((T=t+(_^e&(d^_))+o[12]+2368359562&4294967295)<<20&4294967295|T>>>12))+((T=e+(t^d^_)+o[5]+4294588738&4294967295)<<4&4294967295|T>>>28))+((T=_+(e^t^d)+o[8]+2272392833&4294967295)<<11&4294967295|T>>>21))+((T=d+(_^e^t)+o[11]+1839030562&4294967295)<<16&4294967295|T>>>16))+((T=t+(d^_^e)+o[14]+4259657740&4294967295)<<23&4294967295|T>>>9))+((T=e+(t^d^_)+o[1]+2763975236&4294967295)<<4&4294967295|T>>>28))+((T=_+(e^t^d)+o[4]+1272893353&4294967295)<<11&4294967295|T>>>21))+((T=d+(_^e^t)+o[7]+4139469664&4294967295)<<16&4294967295|T>>>16))+((T=t+(d^_^e)+o[10]+3200236656&4294967295)<<23&4294967295|T>>>9))+((T=e+(t^d^_)+o[13]+681279174&4294967295)<<4&4294967295|T>>>28))+((T=_+(e^t^d)+o[0]+3936430074&4294967295)<<11&4294967295|T>>>21))+((T=d+(_^e^t)+o[3]+3572445317&4294967295)<<16&4294967295|T>>>16))+((T=t+(d^_^e)+o[6]+76029189&4294967295)<<23&4294967295|T>>>9))+((T=e+(t^d^_)+o[9]+3654602809&4294967295)<<4&4294967295|T>>>28))+((T=_+(e^t^d)+o[12]+3873151461&4294967295)<<11&4294967295|T>>>21))+((T=d+(_^e^t)+o[15]+530742520&4294967295)<<16&4294967295|T>>>16))+((T=t+(d^_^e)+o[2]+3299628645&4294967295)<<23&4294967295|T>>>9))+((T=e+(d^(t|~_))+o[0]+4096336452&4294967295)<<6&4294967295|T>>>26))+((T=_+(t^(e|~d))+o[7]+1126891415&4294967295)<<10&4294967295|T>>>22))+((T=d+(e^(_|~t))+o[14]+2878612391&4294967295)<<15&4294967295|T>>>17))+((T=t+(_^(d|~e))+o[5]+4237533241&4294967295)<<21&4294967295|T>>>11))+((T=e+(d^(t|~_))+o[12]+1700485571&4294967295)<<6&4294967295|T>>>26))+((T=_+(t^(e|~d))+o[3]+2399980690&4294967295)<<10&4294967295|T>>>22))+((T=d+(e^(_|~t))+o[10]+4293915773&4294967295)<<15&4294967295|T>>>17))+((T=t+(_^(d|~e))+o[1]+2240044497&4294967295)<<21&4294967295|T>>>11))+((T=e+(d^(t|~_))+o[8]+1873313359&4294967295)<<6&4294967295|T>>>26))+((T=_+(t^(e|~d))+o[15]+4264355552&4294967295)<<10&4294967295|T>>>22))+((T=d+(e^(_|~t))+o[6]+2734768916&4294967295)<<15&4294967295|T>>>17))+((T=t+(_^(d|~e))+o[13]+1309151649&4294967295)<<21&4294967295|T>>>11))+((_=(e=t+((T=e+(d^(t|~_))+o[4]+4149444226&4294967295)<<6&4294967295|T>>>26))+((T=_+(t^(e|~d))+o[11]+3174756917&4294967295)<<10&4294967295|T>>>22))^((d=_+((T=d+(e^(_|~t))+o[2]+718787259&4294967295)<<15&4294967295|T>>>17))|~e))+o[9]+3951481745&4294967295,r.g[0]=r.g[0]+e&4294967295,r.g[1]=r.g[1]+(d+(T<<21&4294967295|T>>>11))&4294967295,r.g[2]=r.g[2]+d&4294967295,r.g[3]=r.g[3]+_&4294967295}function so(r,e){this.h=e;for(var t=[],o=!0,d=r.length-1;0<=d;d--){var _=0|r[d];o&&_==e||(t[d]=_,o=!1)}this.g=t}($e=Bs.prototype).Oa=function(r){this.M=r},$e.ha=function(r,e,t,o){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+r);e=e?e.toUpperCase():"GET",this.I=r,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Me.g(),this.C=function Zs(r){return r.h||(r.h=r.i())}(this.u?this.u:Me),this.g.onreadystatechange=on(this.La,this);try{this.G=!0,this.g.open(e,String(r),!0),this.G=!1}catch(_){return void da(this,_)}if(r=t||"",t=new Map(this.headers),o)if(Object.getPrototypeOf(o)===Object.prototype)for(var d in o)t.set(d,o[d]);else{if("function"!=typeof o.keys||"function"!=typeof o.get)throw Error("Unknown input type for opt_headers: "+String(o));for(const _ of o.keys())t.set(_,o.get(_))}o=Array.from(t.keys()).find(_=>"content-type"==_.toLowerCase()),d=Ue.FormData&&r instanceof Ue.FormData,!(0<=Yt(la,e))||o||d||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[_,T]of t)this.g.setRequestHeader(_,T);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{Na(this),0<this.B&&((this.L=function Hs(r){return Et&&function Di(){return ft(Ti,9,function(){let r=0;const e=dn(String(Dn)).split("."),t=dn("9").split("."),o=Math.max(e.length,t.length);for(let T=0;0==r&&T<o;T++){var d=e[T]||"",_=t[T]||"";do{if(d=/(\d*)(\D*)(.*)/.exec(d)||["","","",""],_=/(\d*)(\D*)(.*)/.exec(_)||["","","",""],0==d[0].length&&0==_[0].length)break;r=ct(0==d[1].length?0:parseInt(d[1],10),0==_[1].length?0:parseInt(_[1],10))||ct(0==d[2].length,0==_[2].length)||ct(d[2],_[2]),d=d[3],_=_[3]}while(0==r)}return 0<=r})}()&&"number"==typeof r.timeout&&void 0!==r.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=on(this.ua,this)):this.A=fn(this.ua,this.B,this)),this.v=!0,this.g.send(r),this.v=!1}catch(_){da(this,_)}},$e.ua=function(){typeof Ke<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,mi(this,"timeout"),this.abort(8))},$e.abort=function(r){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=r||7,mi(this,"complete"),mi(this,"abort"),Uo(this))},$e.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Uo(this,!0)),Bs.$.N.call(this)},$e.La=function(){this.s||(this.G||this.v||this.l?ya(this):this.kb())},$e.kb=function(){ya(this)},$e.da=function(){try{return 2<Ps(this)?this.g.status:-1}catch{return-1}},$e.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},$e.Wa=function(r){if(this.g){var e=this.g.responseText;return r&&0==e.indexOf(r)&&(e=e.substring(r.length)),wa(e)}},$e.Ia=function(){return this.m},$e.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},($e=H.prototype).qa=8,$e.H=1,$e.Na=function(r){if(this.m)if(this.m=null,1==this.H){if(!r){this.W=Math.floor(1e5*Math.random()),r=this.W++;const d=new Ae(this,this.j,r,void 0);let _=this.s;if(this.U&&(_?(_=Li(_),Xr(_,this.U)):_=this.U),null!==this.o||this.O||(d.I=_,_=null),this.P)e:{for(var e=0,t=0;t<this.i.length;t++){var o=this.i[t];if(void 0===(o="__data__"in o.g&&"string"==typeof(o=o.g.__data__)?o.length:void 0))break;if(4096<(e+=o)){e=t;break e}if(4096===e||t===this.i.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=qn(this,d,e),as(t=Cs(this.G),"RID",r),as(t,"CVER",22),this.F&&as(t,"X-HTTP-Session-Id",this.F),Nn(this,t),_&&(this.O?e="headers="+encodeURIComponent(String(tl(_)))+"&"+e:this.o&&Pe(t,this.o,_)),Aa(this.h,d),this.bb&&as(t,"TYPE","init"),this.P?(as(t,"$req",e),as(t,"SID","null"),d.ba=!0,yi(d,t,null)):yi(d,t,e),this.H=2}}else 3==this.H&&(r?gn(this,r):0==this.i.length||jo(this.h)||gn(this))},$e.Ma=function(){if(this.u=null,ss(this),this.ca&&!(this.L||null==this.g||0>=this.S)){var r=2*this.S;this.j.info("BP detection timer enabled: "+r),this.B=ws(on(this.jb,this),r)}},$e.jb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.M=!1,this.L=!0,rs(10),I(this),ss(this))},$e.ib=function(){null!=this.v&&(this.v=null,I(this),Wr(this),rs(19))},$e.pb=function(r){r?(this.j.info("Successfully pinged google.com"),rs(2)):(this.j.info("Failed to ping google.com"),rs(1))},($e=Wo.prototype).Ba=function(){},$e.Aa=function(){},$e.za=function(){},$e.ya=function(){},$e.Va=function(){},va.prototype.g=function(r,e){return new Go(r,e)},bt(Go,Gn),Go.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.I=!0);var r=this.g,e=this.l,t=this.h||void 0;rs(0),r.Y=e,r.ma=t||{},r.M=r.aa,r.G=hs(r,null,r.Y),Ie(r)},Go.prototype.close=function(){U(this.g)},Go.prototype.u=function(r){var e=this.g;if("string"==typeof r){var t={};t.__data__=r,r=t}else this.v&&((t={}).__data__=pr(r),r=t);e.i.push(new class{constructor(r,e){this.h=r,this.g=e}}(e.fb++,r)),3==e.H&&Ie(e)},Go.prototype.N=function(){this.g.l=null,delete this.j,U(this.g),delete this.g,Go.$.N.call(this)},bt(ja,Ce),bt(Oa,He),bt(cl,Wo),cl.prototype.Ba=function(){mi(this.g,"a")},cl.prototype.Aa=function(r){mi(this.g,new ja(r))},cl.prototype.za=function(r){mi(this.g,new Oa)},cl.prototype.ya=function(){mi(this.g,"b")},bt(Ea,function Za(){this.blockSize=-1}),Ea.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Ea.prototype.j=function(r,e){void 0===e&&(e=r.length);for(var t=e-this.blockSize,o=this.m,d=this.h,_=0;_<e;){if(0==d)for(;_<=t;)Xa(this,r,_),_+=this.blockSize;if("string"==typeof r){for(;_<e;)if(o[d++]=r.charCodeAt(_++),d==this.blockSize){Xa(this,o),d=0;break}}else for(;_<e;)if(o[d++]=r[_++],d==this.blockSize){Xa(this,o),d=0;break}}this.h=d,this.i+=e},Ea.prototype.l=function(){var r=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);r[0]=128;for(var e=1;e<r.length-8;++e)r[e]=0;var t=8*this.i;for(e=r.length-8;e<r.length;++e)r[e]=255&t,t/=256;for(this.j(r),r=Array(16),e=t=0;4>e;++e)for(var o=0;32>o;o+=8)r[t++]=this.g[e]>>>o&255;return r};var na={};function nl(r){return-128<=r&&128>r?ft(na,r,function(e){return new so([0|e],0>e?-1:0)}):new so([0|r],0>r?-1:0)}function Bo(r){if(isNaN(r)||!isFinite(r))return ie;if(0>r)return nn(Bo(-r));for(var e=[],t=1,o=0;r>=t;o++)e[o]=r/t|0,t*=k;return new so(e,0)}var k=4294967296,ie=nl(0),pe=nl(1),Fe=nl(16777216);function it(r){if(0!=r.h)return!1;for(var e=0;e<r.g.length;e++)if(0!=r.g[e])return!1;return!0}function xt(r){return-1==r.h}function nn(r){for(var e=r.g.length,t=[],o=0;o<e;o++)t[o]=~r.g[o];return new so(t,~r.h).add(pe)}function yn(r,e){return r.add(nn(e))}function Pn(r,e){for(;(65535&r[e])!=r[e];)r[e+1]+=r[e]>>>16,r[e]&=65535,e++}function ui(r,e){this.g=r,this.h=e}function Fi(r,e){if(it(e))throw Error("division by zero");if(it(r))return new ui(ie,ie);if(xt(r))return e=Fi(nn(r),e),new ui(nn(e.g),nn(e.h));if(xt(e))return e=Fi(r,nn(e)),new ui(nn(e.g),e.h);if(30<r.g.length){if(xt(r)||xt(e))throw Error("slowDivide_ only works with positive integers.");for(var t=pe,o=e;0>=o.X(r);)t=Lr(t),o=Lr(o);var d=Rr(t,1),_=Rr(o,1);for(o=Rr(o,2),t=Rr(t,2);!it(o);){var T=_.add(o);0>=T.X(r)&&(d=d.add(t),_=T),o=Rr(o,1),t=Rr(t,1)}return e=yn(r,d.R(e)),new ui(d,e)}for(d=ie;0<=r.X(e);){for(t=Math.max(1,Math.floor(r.ea()/e.ea())),o=48>=(o=Math.ceil(Math.log(t)/Math.LN2))?1:Math.pow(2,o-48),T=(_=Bo(t)).R(e);xt(T)||0<T.X(r);)T=(_=Bo(t-=o)).R(e);it(_)&&(_=pe),d=d.add(_),r=yn(r,T)}return new ui(d,r)}function Lr(r){for(var e=r.g.length+1,t=[],o=0;o<e;o++)t[o]=r.D(o)<<1|r.D(o-1)>>>31;return new so(t,r.h)}function Rr(r,e){var t=e>>5;e%=32;for(var o=r.g.length-t,d=[],_=0;_<o;_++)d[_]=0<e?r.D(_+t)>>>e|r.D(_+t+1)<<32-e:r.D(_+t);return new so(d,r.h)}($e=so.prototype).ea=function(){if(xt(this))return-nn(this).ea();for(var r=0,e=1,t=0;t<this.g.length;t++){var o=this.D(t);r+=(0<=o?o:k+o)*e,e*=k}return r},$e.toString=function(r){if(2>(r=r||10)||36<r)throw Error("radix out of range: "+r);if(it(this))return"0";if(xt(this))return"-"+nn(this).toString(r);for(var e=Bo(Math.pow(r,6)),t=this,o="";;){var d=Fi(t,e).g,_=((0<(t=yn(t,d.R(e))).g.length?t.g[0]:t.h)>>>0).toString(r);if(it(t=d))return _+o;for(;6>_.length;)_="0"+_;o=_+o}},$e.D=function(r){return 0>r?0:r<this.g.length?this.g[r]:this.h},$e.X=function(r){return xt(r=yn(this,r))?-1:it(r)?0:1},$e.abs=function(){return xt(this)?nn(this):this},$e.add=function(r){for(var e=Math.max(this.g.length,r.g.length),t=[],o=0,d=0;d<=e;d++){var _=o+(65535&this.D(d))+(65535&r.D(d)),T=(_>>>16)+(this.D(d)>>>16)+(r.D(d)>>>16);o=T>>>16,t[d]=(T&=65535)<<16|(_&=65535)}return new so(t,-2147483648&t[t.length-1]?-1:0)},$e.R=function(r){if(it(this)||it(r))return ie;if(xt(this))return xt(r)?nn(this).R(nn(r)):nn(nn(this).R(r));if(xt(r))return nn(this.R(nn(r)));if(0>this.X(Fe)&&0>r.X(Fe))return Bo(this.ea()*r.ea());for(var e=this.g.length+r.g.length,t=[],o=0;o<2*e;o++)t[o]=0;for(o=0;o<this.g.length;o++)for(var d=0;d<r.g.length;d++){var _=this.D(o)>>>16,T=65535&this.D(o),J=r.D(d)>>>16,ye=65535&r.D(d);t[2*o+2*d]+=T*ye,Pn(t,2*o+2*d),t[2*o+2*d+1]+=_*ye,Pn(t,2*o+2*d+1),t[2*o+2*d+1]+=T*J,Pn(t,2*o+2*d+1),t[2*o+2*d+2]+=_*J,Pn(t,2*o+2*d+2)}for(o=0;o<e;o++)t[o]=t[2*o+1]<<16|t[2*o];for(o=e;o<2*e;o++)t[o]=0;return new so(t,0)},$e.gb=function(r){return Fi(this,r).h},$e.and=function(r){for(var e=Math.max(this.g.length,r.g.length),t=[],o=0;o<e;o++)t[o]=this.D(o)&r.D(o);return new so(t,this.h&r.h)},$e.or=function(r){for(var e=Math.max(this.g.length,r.g.length),t=[],o=0;o<e;o++)t[o]=this.D(o)|r.D(o);return new so(t,this.h|r.h)},$e.xor=function(r){for(var e=Math.max(this.g.length,r.g.length),t=[],o=0;o<e;o++)t[o]=this.D(o)^r.D(o);return new so(t,this.h^r.h)},va.prototype.createWebChannel=va.prototype.g,Go.prototype.send=Go.prototype.u,Go.prototype.open=Go.prototype.m,Go.prototype.close=Go.prototype.close,Es.NO_ERROR=0,Es.TIMEOUT=8,Es.HTTP_ERROR=6,uo.COMPLETE="complete",ho.EventType=fe,fe.OPEN="a",fe.CLOSE="b",fe.ERROR="c",fe.MESSAGE="d",Gn.prototype.listen=Gn.prototype.O,Bs.prototype.listenOnce=Bs.prototype.P,Bs.prototype.getLastError=Bs.prototype.Sa,Bs.prototype.getLastErrorCode=Bs.prototype.Ia,Bs.prototype.getStatus=Bs.prototype.da,Bs.prototype.getResponseJson=Bs.prototype.Wa,Bs.prototype.getResponseText=Bs.prototype.ja,Bs.prototype.send=Bs.prototype.ha,Bs.prototype.setWithCredentials=Bs.prototype.Oa,Ea.prototype.digest=Ea.prototype.l,Ea.prototype.reset=Ea.prototype.reset,Ea.prototype.update=Ea.prototype.j,so.prototype.add=so.prototype.add,so.prototype.multiply=so.prototype.R,so.prototype.modulo=so.prototype.gb,so.prototype.compare=so.prototype.X,so.prototype.toNumber=so.prototype.ea,so.prototype.toString=so.prototype.toString,so.prototype.getBits=so.prototype.D,so.fromNumber=Bo,so.fromString=function ul(r,e){if(0==r.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==r.charAt(0))return nn(ul(r.substring(1),e));if(0<=r.indexOf("-"))throw Error('number format error: interior "-" character');for(var t=Bo(Math.pow(e,8)),o=ie,d=0;d<r.length;d+=8){var _=Math.min(8,r.length-d),T=parseInt(r.substring(d,d+_),e);8>_?(_=Bo(Math.pow(e,_)),o=o.R(_).add(Bo(T))):o=(o=o.R(t)).add(Bo(T))}return o};var Qs=be.createWebChannelTransport=function(){return new va},oo=be.getStatEventTarget=function(){return Wi()},ee=be.ErrorCode=Es,ve=be.EventType=uo,ae=be.Event=Ki,We=be.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Ft=be.FetchXmlHttpFactory=oi,Fn=be.WebChannel=ho,ai=be.XhrIo=Bs,Gr=be.Md5=Ea,Xi=be.Integer=so;const Os="@firebase/firestore";class Yr{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Yr.UNAUTHENTICATED=new Yr(null),Yr.GOOGLE_CREDENTIALS=new Yr("google-credentials-uid"),Yr.FIRST_PARTY=new Yr("first-party-uid"),Yr.MOCK_USER=new Yr("mock-user");let Is="9.22.0";const Js=new ze.Yd("@firebase/firestore");function eo(){return Js.logLevel}function Yo(r){Js.setLogLevel(r)}function wi(r,...e){if(Js.logLevel<=ze.in.DEBUG){const t=e.map(_a);Js.debug(`Firestore (${Is}): ${r}`,...t)}}function Ts(r,...e){if(Js.logLevel<=ze.in.ERROR){const t=e.map(_a);Js.error(`Firestore (${Is}): ${r}`,...t)}}function fa(r,...e){if(Js.logLevel<=ze.in.WARN){const t=e.map(_a);Js.warn(`Firestore (${Is}): ${r}`,...t)}}function _a(r){if("string"==typeof r)return r;try{return JSON.stringify(r)}catch{return r}}function gr(r="Unexpected state"){const e=`FIRESTORE (${Is}) INTERNAL ASSERTION FAILED: `+r;throw Ts(e),new Error(e)}function zr(r,e){r||gr()}function Ci(r,e){r||gr()}function fi(r,e){return r}const Zn={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ri extends dt.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ao{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class Kl{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Al{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Yr.UNAUTHENTICATED))}shutdown(){}}class Tl{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class ql{constructor(e){this.t=e,this.currentUser=Yr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var o=this;let d=this.i;const _=Oe=>this.i!==d?(d=this.i,t(Oe)):Promise.resolve();let T=new ao;this.o=()=>{this.i++,this.currentUser=this.u(),T.resolve(),T=new ao,e.enqueueRetryable(()=>_(this.currentUser))};const J=()=>{const Oe=T;e.enqueueRetryable((0,c.Z)(function*(){yield Oe.promise,yield _(o.currentUser)}))},ye=Oe=>{wi("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=Oe,this.auth.addAuthTokenListener(this.o),J()};this.t.onInit(Oe=>ye(Oe)),setTimeout(()=>{if(!this.auth){const Oe=this.t.getImmediate({optional:!0});Oe?ye(Oe):(wi("FirebaseAuthCredentialsProvider","Auth not yet detected"),T.resolve(),T=new ao)}},0),J()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(o=>this.i!==e?(wi("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):o?(zr("string"==typeof o.accessToken),new Kl(o.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return zr(null===e||"string"==typeof e),new Yr(e)}}class il{constructor(e,t,o){this.h=e,this.l=t,this.m=o,this.type="FirstParty",this.user=Yr.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class Sa{constructor(e,t,o){this.h=e,this.l=t,this.m=o}getToken(){return Promise.resolve(new il(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(Yr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class ml{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Nl{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,t){const o=_=>{null!=_.error&&wi("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${_.error.message}`);const T=_.token!==this.T;return this.T=_.token,wi("FirebaseAppCheckTokenProvider",`Received ${T?"new":"existing"} token.`),T?t(_.token):Promise.resolve()};this.o=_=>{e.enqueueRetryable(()=>o(_))};const d=_=>{wi("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=_,this.appCheck.addTokenListener(this.o)};this.I.onInit(_=>d(_)),setTimeout(()=>{if(!this.appCheck){const _=this.I.getImmediate({optional:!0});_?d(_):wi("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(zr("string"==typeof t.token),this.T=t.token,new ml(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function xa(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(r);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let o=0;o<r;o++)t[o]=Math.floor(256*Math.random());return t}class jl{static A(){const t=62*Math.floor(256/62);let o="";for(;o.length<20;){const d=xa(40);for(let _=0;_<d.length;++_)o.length<20&&d[_]<t&&(o+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(d[_]%62))}return o}}function As(r,e){return r<e?-1:r>e?1:0}function Ba(r,e,t){return r.length===e.length&&r.every((o,d)=>t(o,e[d]))}function oc(r){return r+"\0"}class Ko{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Ri(Zn.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Ri(Zn.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Ri(Zn.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ri(Zn.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Ko.fromMillis(Date.now())}static fromDate(e){return Ko.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),o=Math.floor(1e6*(e-1e3*t));return new Ko(t,o)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?As(this.nanoseconds,e.nanoseconds):As(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Zr{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Zr(e)}static min(){return new Zr(new Ko(0,0))}static max(){return new Zr(new Ko(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class rl{constructor(e,t,o){void 0===t?t=0:t>e.length&&gr(),void 0===o?o=e.length-t:o>e.length-t&&gr(),this.segments=e,this.offset=t,this.len=o}get length(){return this.len}isEqual(e){return 0===rl.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof rl?e.forEach(o=>{t.push(o)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,o=this.limit();t<o;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const o=Math.min(e.length,t.length);for(let d=0;d<o;d++){const _=e.get(d),T=t.get(d);if(_<T)return-1;if(_>T)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class zs extends rl{construct(e,t,o){return new zs(e,t,o)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const o of e){if(o.indexOf("//")>=0)throw new Ri(Zn.INVALID_ARGUMENT,`Invalid segment (${o}). Paths must not contain // in them.`);t.push(...o.split("/").filter(d=>d.length>0))}return new zs(t)}static emptyPath(){return new zs([])}}const xl=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class qs extends rl{construct(e,t,o){return new qs(e,t,o)}static isValidIdentifier(e){return xl.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),qs.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new qs(["__name__"])}static fromServerFormat(e){const t=[];let o="",d=0;const _=()=>{if(0===o.length)throw new Ri(Zn.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(o),o=""};let T=!1;for(;d<e.length;){const J=e[d];if("\\"===J){if(d+1===e.length)throw new Ri(Zn.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const ye=e[d+1];if("\\"!==ye&&"."!==ye&&"`"!==ye)throw new Ri(Zn.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);o+=ye,d+=2}else"`"===J?(T=!T,d++):"."!==J||T?(o+=J,d++):(_(),d++)}if(_(),T)throw new Ri(Zn.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new qs(t)}static emptyPath(){return new qs([])}}class Ji{constructor(e){this.path=e}static fromPath(e){return new Ji(zs.fromString(e))}static fromName(e){return new Ji(zs.fromString(e).popFirst(5))}static empty(){return new Ji(zs.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===zs.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return zs.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ji(new zs(e.slice()))}}class Ll{constructor(e,t,o,d){this.indexId=e,this.collectionGroup=t,this.fields=o,this.indexState=d}}function La(r){return r.fields.find(e=>2===e.kind)}function yl(r){return r.fields.filter(e=>2!==e.kind)}Ll.UNKNOWN_ID=-1;class _t{constructor(e,t){this.fieldPath=e,this.kind=t}}class An{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new An(0,Rs.min())}}function er(r,e){const t=r.toTimestamp().seconds,o=r.toTimestamp().nanoseconds+1,d=Zr.fromTimestamp(1e9===o?new Ko(t+1,0):new Ko(t,o));return new Rs(d,Ji.empty(),e)}function xs(r){return new Rs(r.readTime,r.key,-1)}class Rs{constructor(e,t,o){this.readTime=e,this.documentKey=t,this.largestBatchId=o}static min(){return new Rs(Zr.min(),Ji.empty(),-1)}static max(){return new Rs(Zr.max(),Ji.empty(),-1)}}function Ys(r,e){let t=r.readTime.compareTo(e.readTime);return 0!==t?t:(t=Ji.comparator(r.documentKey,e.documentKey),0!==t?t:As(r.largestBatchId,e.largestBatchId))}const Ws="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class ks{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Ca(r){return $a.apply(this,arguments)}function $a(){return $a=(0,c.Z)(function*(r){if(r.code!==Zn.FAILED_PRECONDITION||r.message!==Ws)throw r;wi("LocalStore","Unexpectedly lost primary lease")}),$a.apply(this,arguments)}class Bn{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&gr(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Bn((o,d)=>{this.nextCallback=_=>{this.wrapSuccess(e,_).next(o,d)},this.catchCallback=_=>{this.wrapFailure(t,_).next(o,d)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Bn?t:Bn.resolve(t)}catch(t){return Bn.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Bn.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Bn.reject(t)}static resolve(e){return new Bn((t,o)=>{t(e)})}static reject(e){return new Bn((t,o)=>{o(e)})}static waitFor(e){return new Bn((t,o)=>{let d=0,_=0,T=!1;e.forEach(J=>{++d,J.next(()=>{++_,T&&_===d&&t()},ye=>o(ye))}),T=!0,_===d&&t()})}static or(e){let t=Bn.resolve(!1);for(const o of e)t=t.next(d=>d?Bn.resolve(d):o());return t}static forEach(e,t){const o=[];return e.forEach((d,_)=>{o.push(t.call(this,d,_))}),this.waitFor(o)}static mapArray(e,t){return new Bn((o,d)=>{const _=e.length,T=new Array(_);let J=0;for(let ye=0;ye<_;ye++){const Oe=ye;t(e[Oe]).next(gt=>{T[Oe]=gt,++J,J===_&&o(T)},gt=>d(gt))}})}static doWhile(e,t){return new Bn((o,d)=>{const _=()=>{!0===e()?t().next(()=>{_()},d):o()};_()})}}class vl{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.v=new ao,this.transaction.oncomplete=()=>{this.v.resolve()},this.transaction.onabort=()=>{t.error?this.v.reject(new Ml(e,t.error)):this.v.resolve()},this.transaction.onerror=o=>{const d=Z(o.target.error);this.v.reject(new Ml(e,d))}}static open(e,t,o,d){try{return new vl(t,e.transaction(d,o))}catch(_){throw new Ml(t,_)}}get R(){return this.v.promise}abort(e){e&&this.v.reject(e),this.aborted||(wi("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}P(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new gc(t)}}class Ha{constructor(e,t,o){this.name=e,this.version=t,this.V=o,12.2===Ha.S((0,dt.z$)())&&Ts("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return wi("SimpleDb","Removing database:",e),Ia(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!(0,dt.hl)())return!1;if(Ha.C())return!0;const e=(0,dt.z$)(),t=Ha.S(e),o=0<t&&t<10,d=Ha.N(e),_=0<d&&d<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||o||_)}static C(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.k)}static M(e,t){return e.store(t)}static S(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),o=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(o)}static N(e){const t=e.match(/Android ([\d.]+)/i),o=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(o)}$(e){var t=this;return(0,c.Z)(function*(){return t.db||(wi("SimpleDb","Opening database:",t.name),t.db=yield new Promise((o,d)=>{const _=indexedDB.open(t.name,t.version);_.onsuccess=T=>{o(T.target.result)},_.onblocked=()=>{d(new Ml(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},_.onerror=T=>{const J=T.target.error;d("VersionError"===J.name?new Ri(Zn.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===J.name?new Ri(Zn.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+J):new Ml(e,J))},_.onupgradeneeded=T=>{wi("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',T.oldVersion),t.V.O(T.target.result,_.transaction,T.oldVersion,t.version).next(()=>{wi("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.F&&(t.db.onversionchange=o=>t.F(o)),t.db})()}B(e){this.F=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,o,d){var _=this;return(0,c.Z)(function*(){const T="readonly"===t;let J=0;for(;;){++J;try{_.db=yield _.$(e);const ye=vl.open(_.db,e,T?"readonly":"readwrite",o),Oe=d(ye).next(gt=>(ye.P(),gt)).catch(gt=>(ye.abort(gt),Bn.reject(gt))).toPromise();return Oe.catch(()=>{}),yield ye.R,Oe}catch(ye){const Oe=ye,gt="FirebaseError"!==Oe.name&&J<3;if(wi("SimpleDb","Transaction failed with error:",Oe.message,"Retrying:",gt),_.close(),!gt)return Promise.reject(Oe)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class Jl{constructor(e){this.L=e,this.q=!1,this.U=null}get isDone(){return this.q}get K(){return this.U}set cursor(e){this.L=e}done(){this.q=!0}G(e){this.U=e}delete(){return Ia(this.L.delete())}}class Ml extends Ri{constructor(e,t){super(Zn.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function ba(r){return"IndexedDbTransactionError"===r.name}class gc{constructor(e){this.store=e}put(e,t){let o;return void 0!==t?(wi("SimpleDb","PUT",this.store.name,e,t),o=this.store.put(t,e)):(wi("SimpleDb","PUT",this.store.name,"<auto-key>",e),o=this.store.put(e)),Ia(o)}add(e){return wi("SimpleDb","ADD",this.store.name,e,e),Ia(this.store.add(e))}get(e){return Ia(this.store.get(e)).next(t=>(void 0===t&&(t=null),wi("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return wi("SimpleDb","DELETE",this.store.name,e),Ia(this.store.delete(e))}count(){return wi("SimpleDb","COUNT",this.store.name),Ia(this.store.count())}j(e,t){const o=this.options(e,t);if(o.index||"function"!=typeof this.store.getAll){const d=this.cursor(o),_=[];return this.W(d,(T,J)=>{_.push(J)}).next(()=>_)}{const d=this.store.getAll(o.range);return new Bn((_,T)=>{d.onerror=J=>{T(J.target.error)},d.onsuccess=J=>{_(J.target.result)}})}}H(e,t){const o=this.store.getAll(e,null===t?void 0:t);return new Bn((d,_)=>{o.onerror=T=>{_(T.target.error)},o.onsuccess=T=>{d(T.target.result)}})}J(e,t){wi("SimpleDb","DELETE ALL",this.store.name);const o=this.options(e,t);o.Y=!1;const d=this.cursor(o);return this.W(d,(_,T,J)=>J.delete())}X(e,t){let o;t?o=e:(o={},t=e);const d=this.cursor(o);return this.W(d,t)}Z(e){const t=this.cursor({});return new Bn((o,d)=>{t.onerror=_=>{const T=Z(_.target.error);d(T)},t.onsuccess=_=>{const T=_.target.result;T?e(T.primaryKey,T.value).next(J=>{J?T.continue():o()}):o()}})}W(e,t){const o=[];return new Bn((d,_)=>{e.onerror=T=>{_(T.target.error)},e.onsuccess=T=>{const J=T.target.result;if(!J)return void d();const ye=new Jl(J),Oe=t(J.primaryKey,J.value,ye);if(Oe instanceof Bn){const gt=Oe.catch(cn=>(ye.done(),Bn.reject(cn)));o.push(gt)}ye.isDone?d():null===ye.K?J.continue():J.continue(ye.K)}}).next(()=>Bn.waitFor(o))}options(e,t){let o;return void 0!==e&&("string"==typeof e?o=e:t=e),{index:o,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const o=this.store.index(e.index);return e.Y?o.openKeyCursor(e.range,t):o.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Ia(r){return new Bn((e,t)=>{r.onsuccess=o=>{e(o.target.result)},r.onerror=o=>{const d=Z(o.target.error);t(d)}})}let W=!1;function Z(r){const e=Ha.S((0,dt.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(r.message.indexOf(t)>=0){const o=new Ri("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return W||(W=!0,setTimeout(()=>{throw o},0)),o}}return r}class L{constructor(e,t){this.asyncQueue=e,this.tt=t,this.task=null}start(){this.et(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}et(e){var t=this;wi("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,c.Z)(function*(){t.task=null;try{wi("IndexBackiller",`Documents written: ${yield t.tt.nt()}`)}catch(o){ba(o)?wi("IndexBackiller","Ignoring IndexedDB error during index backfill: ",o):yield Ca(o)}yield t.et(6e4)}))}}class te{constructor(e,t){this.localStore=e,this.persistence=t}nt(e=50){var t=this;return(0,c.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",o=>t.st(o,e))})()}st(e,t){const o=new Set;let d=t,_=!0;return Bn.doWhile(()=>!0===_&&d>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(T=>{if(null!==T&&!o.has(T))return wi("IndexBackiller",`Processing collection: ${T}`),this.it(e,T,d).next(J=>{d-=J,o.add(T)});_=!1})).next(()=>t-d)}it(e,t,o){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(d=>this.localStore.localDocuments.getNextDocuments(e,t,d,o).next(_=>{const T=_.changes;return this.localStore.indexManager.updateIndexEntries(e,T).next(()=>this.rt(d,_)).next(J=>(wi("IndexBackiller",`Updating offset: ${J}`),this.localStore.indexManager.updateCollectionGroup(e,t,J))).next(()=>T.size)}))}rt(e,t){let o=e;return t.changes.forEach((d,_)=>{const T=xs(_);Ys(T,o)>0&&(o=T)}),new Rs(o.readTime,o.documentKey,Math.max(t.batchId,e.largestBatchId))}}let Ee=(()=>{class r{constructor(t,o){this.previousValue=t,o&&(o.sequenceNumberHandler=d=>this.ot(d),this.ut=d=>o.writeSequenceNumber(d))}ot(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ut&&this.ut(t),t}}return r.ct=-1,r})();function mt(r){return null==r}function st(r){return 0===r&&1/r==-1/0}function En(r){return"number"==typeof r&&Number.isInteger(r)&&!st(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}function ni(r){let e="";for(let t=0;t<r.length;t++)e.length>0&&(e=fs(e)),e=dr(r.get(t),e);return fs(e)}function dr(r,e){let t=e;const o=r.length;for(let d=0;d<o;d++){const _=r.charAt(d);switch(_){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=_}}return t}function fs(r){return r+"\x01\x01"}function Fr(r){const e=r.length;if(zr(e>=2),2===e)return zr("\x01"===r.charAt(0)&&"\x01"===r.charAt(1)),zs.emptyPath();const t=e-2,o=[];let d="";for(let _=0;_<e;){const T=r.indexOf("\x01",_);switch((T<0||T>t)&&gr(),r.charAt(T+1)){case"\x01":const J=r.substring(_,T);let ye;0===d.length?ye=J:(d+=J,ye=d,d=""),o.push(ye);break;case"\x10":d+=r.substring(_,T),d+="\0";break;case"\x11":d+=r.substring(_,T+1);break;default:gr()}_=T+2}return new zs(o)}const ca=["userId","batchId"];function E(r,e){return[r,ni(e)]}function m(r,e,t){return[r,ni(e),t]}const u={},g=["prefixPath","collectionGroup","readTime","documentId"],b=["prefixPath","collectionGroup","documentId"],D=["collectionGroup","readTime","prefixPath","documentId"],R=["canonicalId","targetId"],j=["targetId","path"],q=["path","targetId"],ue=["collectionId","parent"],ke=["indexId","uid"],rt=["uid","sequenceNumber"],kt=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],Bt=["indexId","uid","orderedDocumentKey"],Sn=["userId","collectionPath","documentId"],kn=["userId","collectionPath","largestBatchId"],jn=["userId","collectionGroup","largestBatchId"],Ei=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],di=[...Ei,"documentOverlays"],Gi=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],qi=Gi,Oi=[...qi,"indexConfiguration","indexState","indexEntries"];class zi extends ks{constructor(e,t){super(),this.ht=e,this.currentSequenceNumber=t}}function or(r,e){const t=fi(r);return Ha.M(t.ht,e)}function Er(r){let e=0;for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e++;return e}function ls(r,e){for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e(t,r[t])}function Ns(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}class Br{constructor(e,t){this.comparator=e,this.root=t||Oo.EMPTY}insert(e,t){return new Br(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Oo.BLACK,null,null))}remove(e){return new Br(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Oo.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const o=this.comparator(e,t.key);if(0===o)return t.value;o<0?t=t.left:o>0&&(t=t.right)}return null}indexOf(e){let t=0,o=this.root;for(;!o.isEmpty();){const d=this.comparator(e,o.key);if(0===d)return t+o.left.size;d<0?o=o.left:(t+=o.left.size+1,o=o.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,o)=>(e(t,o),!1))}toString(){const e=[];return this.inorderTraversal((t,o)=>(e.push(`${t}:${o}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new co(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new co(this.root,e,this.comparator,!1)}getReverseIterator(){return new co(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new co(this.root,e,this.comparator,!0)}}class co{constructor(e,t,o,d){this.isReverse=d,this.nodeStack=[];let _=1;for(;!e.isEmpty();)if(_=t?o(e.key,t):1,t&&d&&(_*=-1),_<0)e=this.isReverse?e.left:e.right;else{if(0===_){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Oo{constructor(e,t,o,d,_){this.key=e,this.value=t,this.color=null!=o?o:Oo.RED,this.left=null!=d?d:Oo.EMPTY,this.right=null!=_?_:Oo.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,o,d,_){return new Oo(null!=e?e:this.key,null!=t?t:this.value,null!=o?o:this.color,null!=d?d:this.left,null!=_?_:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,o){let d=this;const _=o(e,d.key);return d=_<0?d.copy(null,null,null,d.left.insert(e,t,o),null):0===_?d.copy(null,t,null,null,null):d.copy(null,null,null,null,d.right.insert(e,t,o)),d.fixUp()}removeMin(){if(this.left.isEmpty())return Oo.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let o,d=this;if(t(e,d.key)<0)d.left.isEmpty()||d.left.isRed()||d.left.left.isRed()||(d=d.moveRedLeft()),d=d.copy(null,null,null,d.left.remove(e,t),null);else{if(d.left.isRed()&&(d=d.rotateRight()),d.right.isEmpty()||d.right.isRed()||d.right.left.isRed()||(d=d.moveRedRight()),0===t(e,d.key)){if(d.right.isEmpty())return Oo.EMPTY;o=d.right.min(),d=d.copy(o.key,o.value,null,null,d.right.removeMin())}d=d.copy(null,null,null,null,d.right.remove(e,t))}return d.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Oo.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Oo.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw gr();const e=this.left.check();if(e!==this.right.check())throw gr();return e+(this.isRed()?0:1)}}Oo.EMPTY=null,Oo.RED=!0,Oo.BLACK=!1,Oo.EMPTY=new class{constructor(){this.size=0}get key(){throw gr()}get value(){throw gr()}get color(){throw gr()}get left(){throw gr()}get right(){throw gr()}copy(r,e,t,o,d){return this}insert(r,e,t){return new Oo(r,e)}remove(r,e){return this}isEmpty(){return!0}inorderTraversal(r){return!1}reverseTraversal(r){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class io{constructor(e){this.comparator=e,this.data=new Br(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,o)=>(e(t),!1))}forEachInRange(e,t){const o=this.data.getIteratorFrom(e[0]);for(;o.hasNext();){const d=o.getNext();if(this.comparator(d.key,e[1])>=0)return;t(d.key)}}forEachWhile(e,t){let o;for(o=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();o.hasNext();)if(!e(o.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new _o(this.data.getIterator())}getIteratorFrom(e){return new _o(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(o=>{t=t.add(o)}),t}isEqual(e){if(!(e instanceof io)||this.size!==e.size)return!1;const t=this.data.getIterator(),o=e.data.getIterator();for(;t.hasNext();){const d=t.getNext().key,_=o.getNext().key;if(0!==this.comparator(d,_))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new io(this.comparator);return t.data=e,t}}class _o{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function sa(r){return r.hasNext()?r.getNext():void 0}class bo{constructor(e){this.fields=e,e.sort(qs.comparator)}static empty(){return new bo([])}unionWith(e){let t=new io(qs.comparator);for(const o of this.fields)t=t.add(o);for(const o of e)t=t.add(o);return new bo(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Ba(this.fields,e.fields,(t,o)=>t.isEqual(o))}}class Wa extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}function Qa(){return typeof atob<"u"}class ma{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(o){try{return atob(o)}catch(d){throw typeof DOMException<"u"&&d instanceof DOMException?new Wa("Invalid base64 string: "+d):d}}(e);return new ma(t)}static fromUint8Array(e){const t=function(o){let d="";for(let _=0;_<o.length;++_)d+=String.fromCharCode(o[_]);return d}(e);return new ma(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let o=0;o<e.length;o++)t[o]=e.charCodeAt(o);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return As(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ma.EMPTY_BYTE_STRING=new ma("");const Xl=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Va(r){if(zr(!!r),"string"==typeof r){let e=0;const t=Xl.exec(r);if(zr(!!t),t[1]){let d=t[1];d=(d+"000000000").substr(0,9),e=Number(d)}const o=new Date(r);return{seconds:Math.floor(o.getTime()/1e3),nanos:e}}return{seconds:qo(r.seconds),nanos:qo(r.nanos)}}function qo(r){return"number"==typeof r?r:"string"==typeof r?Number(r):0}function Ta(r){return"string"==typeof r?ma.fromBase64String(r):ma.fromUint8Array(r)}function sl(r){var e,t;return"server_timestamp"===(null===(t=((null===(e=null==r?void 0:r.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function _l(r){const e=r.mapValue.fields.__previous_value__;return sl(e)?_l(e):e}function Fl(r){const e=Va(r.mapValue.fields.__local_write_time__.timestampValue);return new Ko(e.seconds,e.nanos)}class iu{constructor(e,t,o,d,_,T,J,ye,Oe){this.databaseId=e,this.appId=t,this.persistenceKey=o,this.host=d,this.ssl=_,this.forceLongPolling=T,this.autoDetectLongPolling=J,this.longPollingOptions=ye,this.useFetchStreams=Oe}}class Hl{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Hl("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Hl&&e.projectId===this.projectId&&e.database===this.database}}const ec={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},ru={nullValue:"NULL_VALUE"};function Wl(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?sl(r)?4:pn(r)?9007199254740991:10:gr()}function oe(r,e){if(r===e)return!0;const t=Wl(r);if(t!==Wl(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return Fl(r).isEqual(Fl(e));case 3:return function(o,d){if("string"==typeof o.timestampValue&&"string"==typeof d.timestampValue&&o.timestampValue.length===d.timestampValue.length)return o.timestampValue===d.timestampValue;const _=Va(o.timestampValue),T=Va(d.timestampValue);return _.seconds===T.seconds&&_.nanos===T.nanos}(r,e);case 5:return r.stringValue===e.stringValue;case 6:return d=e,Ta(r.bytesValue).isEqual(Ta(d.bytesValue));case 7:return r.referenceValue===e.referenceValue;case 8:return function(o,d){return qo(o.geoPointValue.latitude)===qo(d.geoPointValue.latitude)&&qo(o.geoPointValue.longitude)===qo(d.geoPointValue.longitude)}(r,e);case 2:return function(o,d){if("integerValue"in o&&"integerValue"in d)return qo(o.integerValue)===qo(d.integerValue);if("doubleValue"in o&&"doubleValue"in d){const _=qo(o.doubleValue),T=qo(d.doubleValue);return _===T?st(_)===st(T):isNaN(_)&&isNaN(T)}return!1}(r,e);case 9:return Ba(r.arrayValue.values||[],e.arrayValue.values||[],oe);case 10:return function(o,d){const _=o.mapValue.fields||{},T=d.mapValue.fields||{};if(Er(_)!==Er(T))return!1;for(const J in _)if(_.hasOwnProperty(J)&&(void 0===T[J]||!oe(_[J],T[J])))return!1;return!0}(r,e);default:return gr()}var d}function a(r,e){return void 0!==(r.values||[]).find(t=>oe(t,e))}function P(r,e){if(r===e)return 0;const t=Wl(r),o=Wl(e);if(t!==o)return As(t,o);switch(t){case 0:case 9007199254740991:return 0;case 1:return As(r.booleanValue,e.booleanValue);case 2:return function(d,_){const T=qo(d.integerValue||d.doubleValue),J=qo(_.integerValue||_.doubleValue);return T<J?-1:T>J?1:T===J?0:isNaN(T)?isNaN(J)?0:-1:1}(r,e);case 3:return X(r.timestampValue,e.timestampValue);case 4:return X(Fl(r),Fl(e));case 5:return As(r.stringValue,e.stringValue);case 6:return function(d,_){const T=Ta(d),J=Ta(_);return T.compareTo(J)}(r.bytesValue,e.bytesValue);case 7:return function(d,_){const T=d.split("/"),J=_.split("/");for(let ye=0;ye<T.length&&ye<J.length;ye++){const Oe=As(T[ye],J[ye]);if(0!==Oe)return Oe}return As(T.length,J.length)}(r.referenceValue,e.referenceValue);case 8:return function(d,_){const T=As(qo(d.latitude),qo(_.latitude));return 0!==T?T:As(qo(d.longitude),qo(_.longitude))}(r.geoPointValue,e.geoPointValue);case 9:return function(d,_){const T=d.values||[],J=_.values||[];for(let ye=0;ye<T.length&&ye<J.length;++ye){const Oe=P(T[ye],J[ye]);if(Oe)return Oe}return As(T.length,J.length)}(r.arrayValue,e.arrayValue);case 10:return function(d,_){if(d===ec.mapValue&&_===ec.mapValue)return 0;if(d===ec.mapValue)return 1;if(_===ec.mapValue)return-1;const T=d.fields||{},J=Object.keys(T),ye=_.fields||{},Oe=Object.keys(ye);J.sort(),Oe.sort();for(let gt=0;gt<J.length&&gt<Oe.length;++gt){const cn=As(J[gt],Oe[gt]);if(0!==cn)return cn;const Wn=P(T[J[gt]],ye[Oe[gt]]);if(0!==Wn)return Wn}return As(J.length,Oe.length)}(r.mapValue,e.mapValue);default:throw gr()}}function X(r,e){if("string"==typeof r&&"string"==typeof e&&r.length===e.length)return As(r,e);const t=Va(r),o=Va(e),d=As(t.seconds,o.seconds);return 0!==d?d:As(t.nanos,o.nanos)}function de(r){return xe(r)}function xe(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(o){const d=Va(o);return`time(${d.seconds},${d.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?Ta(r.bytesValue).toBase64():"referenceValue"in r?Ji.fromName(r.referenceValue).toString():"geoPointValue"in r?`geo(${(e=r.geoPointValue).latitude},${e.longitude})`:"arrayValue"in r?function(o){let d="[",_=!0;for(const T of o.values||[])_?_=!1:d+=",",d+=xe(T);return d+"]"}(r.arrayValue):"mapValue"in r?function(o){const d=Object.keys(o.fields||{}).sort();let _="{",T=!0;for(const J of d)T?T=!1:_+=",",_+=`${J}:${xe(o.fields[J])}`;return _+"}"}(r.mapValue):gr();var e}function at(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function lt(r){return!!r&&"integerValue"in r}function yt(r){return!!r&&"arrayValue"in r}function vt(r){return!!r&&"nullValue"in r}function pt(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Ct(r){return!!r&&"mapValue"in r}function sn(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&"object"==typeof r.timestampValue)return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const e={mapValue:{fields:{}}};return ls(r.mapValue.fields,(t,o)=>e.mapValue.fields[t]=sn(o)),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(r.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=sn(r.arrayValue.values[t]);return e}return Object.assign({},r)}function pn(r){return"__max__"===(((r.mapValue||{}).fields||{}).__type__||{}).stringValue}function Xt(r){return"nullValue"in r?ru:"booleanValue"in r?{booleanValue:!1}:"integerValue"in r||"doubleValue"in r?{doubleValue:NaN}:"timestampValue"in r?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in r?{stringValue:""}:"bytesValue"in r?{bytesValue:""}:"referenceValue"in r?at(Hl.empty(),Ji.empty()):"geoPointValue"in r?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in r?{arrayValue:{}}:"mapValue"in r?{mapValue:{}}:gr()}function Zt(r){return"nullValue"in r?{booleanValue:!1}:"booleanValue"in r?{doubleValue:NaN}:"integerValue"in r||"doubleValue"in r?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in r?{stringValue:""}:"stringValue"in r?{bytesValue:""}:"bytesValue"in r?at(Hl.empty(),Ji.empty()):"referenceValue"in r?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in r?{arrayValue:{}}:"arrayValue"in r?{mapValue:{}}:"mapValue"in r?ec:gr()}function Cn(r,e){const t=P(r.value,e.value);return 0!==t?t:r.inclusive&&!e.inclusive?-1:!r.inclusive&&e.inclusive?1:0}function Qt(r,e){const t=P(r.value,e.value);return 0!==t?t:r.inclusive&&!e.inclusive?1:!r.inclusive&&e.inclusive?-1:0}class Ht{constructor(e){this.value=e}static empty(){return new Ht({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let o=0;o<e.length-1;++o)if(t=(t.mapValue.fields||{})[e.get(o)],!Ct(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=sn(t)}setAll(e){let t=qs.emptyPath(),o={},d=[];e.forEach((T,J)=>{if(!t.isImmediateParentOf(J)){const ye=this.getFieldsMap(t);this.applyChanges(ye,o,d),o={},d=[],t=J.popLast()}T?o[J.lastSegment()]=sn(T):d.push(J.lastSegment())});const _=this.getFieldsMap(t);this.applyChanges(_,o,d)}delete(e){const t=this.field(e.popLast());Ct(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return oe(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let o=0;o<e.length;++o){let d=t.mapValue.fields[e.get(o)];Ct(d)&&d.mapValue.fields||(d={mapValue:{fields:{}}},t.mapValue.fields[e.get(o)]=d),t=d}return t.mapValue.fields}applyChanges(e,t,o){ls(t,(d,_)=>e[d]=_);for(const d of o)delete e[d]}clone(){return new Ht(sn(this.value))}}function $n(r){const e=[];return ls(r.fields,(t,o)=>{const d=new qs([t]);if(Ct(o)){const _=$n(o.mapValue).fields;if(0===_.length)e.push(d);else for(const T of _)e.push(d.child(T))}else e.push(d)}),new bo(e)}class xi{constructor(e,t,o,d,_,T,J){this.key=e,this.documentType=t,this.version=o,this.readTime=d,this.createTime=_,this.data=T,this.documentState=J}static newInvalidDocument(e){return new xi(e,0,Zr.min(),Zr.min(),Zr.min(),Ht.empty(),0)}static newFoundDocument(e,t,o,d){return new xi(e,1,t,Zr.min(),o,d,0)}static newNoDocument(e,t){return new xi(e,2,t,Zr.min(),Zr.min(),Ht.empty(),0)}static newUnknownDocument(e,t){return new xi(e,3,t,Zr.min(),Zr.min(),Ht.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Zr.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ht.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ht.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Zr.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof xi&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new xi(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Si{constructor(e,t){this.position=e,this.inclusive=t}}function lr(r,e,t){let o=0;for(let d=0;d<r.position.length;d++){const _=e[d],T=r.position[d];if(o=_.field.isKeyField()?Ji.comparator(Ji.fromName(T.referenceValue),t.key):P(T,t.data.field(_.field)),"desc"===_.dir&&(o*=-1),0!==o)break}return o}function Qi(r,e){if(null===r)return null===e;if(null===e||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let t=0;t<r.position.length;t++)if(!oe(r.position[t],e.position[t]))return!1;return!0}class Pi{constructor(e,t="asc"){this.field=e,this.dir=t}}function br(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}class xr{}class gi extends xr{constructor(e,t,o){super(),this.field=e,this.op=t,this.value=o}static create(e,t,o){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,o):new ua(e,t,o):"array-contains"===t?new Ql(e,o):"in"===t?new pa(e,o):"not-in"===t?new bl(e,o):"array-contains-any"===t?new ol(e,o):new gi(e,t,o)}static createKeyFieldInFilter(e,t,o){return"in"===t?new Ss(e,o):new Ls(e,o)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(P(t,this.value)):null!==t&&Wl(this.value)===Wl(t)&&this.matchesComparison(P(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return gr()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class ci extends xr{constructor(e,t){super(),this.filters=e,this.op=t,this.lt=null}static create(e,t){return new ci(e,t)}matches(e){return bn(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(t=>t.isInequality());return null!==e?e.field:null}ft(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function bn(r){return"and"===r.op}function Qn(r){return"or"===r.op}function Jn(r){return Hn(r)&&bn(r)}function Hn(r){for(const e of r.filters)if(e instanceof ci)return!1;return!0}function Un(r){if(r instanceof gi)return r.field.canonicalString()+r.op.toString()+de(r.value);if(Jn(r))return r.filters.map(e=>Un(e)).join(",");{const e=r.filters.map(t=>Un(t)).join(",");return`${r.op}(${e})`}}function ei(r,e){return r instanceof gi?(t=r,(o=e)instanceof gi&&t.op===o.op&&t.field.isEqual(o.field)&&oe(t.value,o.value)):r instanceof ci?function(t,o){return o instanceof ci&&t.op===o.op&&t.filters.length===o.filters.length&&t.filters.reduce((d,_,T)=>d&&ei(_,o.filters[T]),!0)}(r,e):void gr();var t,o}function es(r,e){const t=r.filters.concat(e);return ci.create(t,r.op)}function ro(r){return r instanceof gi?`${(e=r).field.canonicalString()} ${e.op} ${de(e.value)}`:r instanceof ci?function(e){return e.op.toString()+" {"+e.getFilters().map(ro).join(" ,")+"}"}(r):"Filter";var e}class ua extends gi{constructor(e,t,o){super(e,t,o),this.key=Ji.fromName(o.referenceValue)}matches(e){const t=Ji.comparator(e.key,this.key);return this.matchesComparison(t)}}class Ss extends gi{constructor(e,t){super(e,"in",t),this.keys=Ja(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class Ls extends gi{constructor(e,t){super(e,"not-in",t),this.keys=Ja(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function Ja(r,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(o=>Ji.fromName(o.referenceValue))}class Ql extends gi{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return yt(t)&&a(t.arrayValue,this.value)}}class pa extends gi{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&a(this.value.arrayValue,t)}}class bl extends gi{constructor(e,t){super(e,"not-in",t)}matches(e){if(a(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!a(this.value.arrayValue,t)}}class ol extends gi{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!yt(t)||!t.arrayValue.values)&&t.arrayValue.values.some(o=>a(this.value.arrayValue,o))}}class tc{constructor(e,t=null,o=[],d=[],_=null,T=null,J=null){this.path=e,this.collectionGroup=t,this.orderBy=o,this.filters=d,this.limit=_,this.startAt=T,this.endAt=J,this.dt=null}}function nc(r,e=null,t=[],o=[],d=null,_=null,T=null){return new tc(r,e,t,o,d,_,T)}function wl(r){const e=fi(r);if(null===e.dt){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(o=>Un(o)).join(","),t+="|ob:",t+=e.orderBy.map(o=>{return(d=o).field.canonicalString()+d.dir;var d}).join(","),mt(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(o=>de(o)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(o=>de(o)).join(",")),e.dt=t}return e.dt}function Pl(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<r.orderBy.length;t++)if(!br(r.orderBy[t],e.orderBy[t]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let t=0;t<r.filters.length;t++)if(!ei(r.filters[t],e.filters[t]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!Qi(r.startAt,e.startAt)&&Qi(r.endAt,e.endAt)}function Cc(r){return Ji.isDocumentKey(r.path)&&null===r.collectionGroup&&0===r.filters.length}function uc(r,e){return r.filters.filter(t=>t instanceof gi&&t.field.isEqual(e))}function mc(r,e,t){let o=ru,d=!0;for(const _ of uc(r,e)){let T=ru,J=!0;switch(_.op){case"<":case"<=":T=Xt(_.value);break;case"==":case"in":case">=":T=_.value;break;case">":T=_.value,J=!1;break;case"!=":case"not-in":T=ru}Cn({value:o,inclusive:d},{value:T,inclusive:J})<0&&(o=T,d=J)}if(null!==t)for(let _=0;_<r.orderBy.length;++_)if(r.orderBy[_].field.isEqual(e)){const T=t.position[_];Cn({value:o,inclusive:d},{value:T,inclusive:t.inclusive})<0&&(o=T,d=t.inclusive);break}return{value:o,inclusive:d}}function yc(r,e,t){let o=ec,d=!0;for(const _ of uc(r,e)){let T=ec,J=!0;switch(_.op){case">=":case">":T=Zt(_.value),J=!1;break;case"==":case"in":case"<=":T=_.value;break;case"<":T=_.value,J=!1;break;case"!=":case"not-in":T=ec}Qt({value:o,inclusive:d},{value:T,inclusive:J})>0&&(o=T,d=J)}if(null!==t)for(let _=0;_<r.orderBy.length;++_)if(r.orderBy[_].field.isEqual(e)){const T=t.position[_];Qt({value:o,inclusive:d},{value:T,inclusive:t.inclusive})>0&&(o=T,d=t.inclusive);break}return{value:o,inclusive:d}}class Ga{constructor(e,t=null,o=[],d=[],_=null,T="F",J=null,ye=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=o,this.filters=d,this.limit=_,this.limitType=T,this.startAt=J,this.endAt=ye,this.wt=null,this._t=null}}function Ic(r,e,t,o,d,_,T,J){return new Ga(r,e,t,o,d,_,T,J)}function Tc(r){return new Ga(r)}function G(r){return 0===r.filters.length&&null===r.limit&&null==r.startAt&&null==r.endAt&&(0===r.explicitOrderBy.length||1===r.explicitOrderBy.length&&r.explicitOrderBy[0].field.isKeyField())}function S(r){return r.explicitOrderBy.length>0?r.explicitOrderBy[0].field:null}function M(r){for(const e of r.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}function Q(r){return null!==r.collectionGroup}function Ne(r){const e=fi(r);if(null===e.wt){e.wt=[];const t=M(e),o=S(e);if(null!==t&&null===o)t.isKeyField()||e.wt.push(new Pi(t)),e.wt.push(new Pi(qs.keyField(),"asc"));else{let d=!1;for(const _ of e.explicitOrderBy)e.wt.push(_),_.field.isKeyField()&&(d=!0);if(!d){const _=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new Pi(qs.keyField(),_))}}}return e.wt}function ht(r){const e=fi(r);if(!e._t)if("F"===e.limitType)e._t=nc(e.path,e.collectionGroup,Ne(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const _ of Ne(e))t.push(new Pi(_.field,"desc"===_.dir?"asc":"desc"));const o=e.endAt?new Si(e.endAt.position,e.endAt.inclusive):null,d=e.startAt?new Si(e.startAt.position,e.startAt.inclusive):null;e._t=nc(e.path,e.collectionGroup,t,e.filters,e.limit,o,d)}return e._t}function Rn(r,e){e.getFirstInequalityField(),M(r);const t=r.filters.concat([e]);return new Ga(r.path,r.collectionGroup,r.explicitOrderBy.slice(),t,r.limit,r.limitType,r.startAt,r.endAt)}function si(r,e,t){return new Ga(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,t,r.startAt,r.endAt)}function ir(r,e){return Pl(ht(r),ht(e))&&r.limitType===e.limitType}function Kr(r){return`${wl(ht(r))}|lt:${r.limitType}`}function Ds(r){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(o=>ro(o)).join(", ")}]`),mt(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(o=>{return`${(d=o).field.canonicalString()} (${d.dir})`;var d}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(o=>de(o)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(o=>de(o)).join(",")),`Target(${t})`}(ht(r))}; limitType=${r.limitType})`}function wo(r,e){return e.isFoundDocument()&&function(t,o){const d=o.key.path;return null!==t.collectionGroup?o.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(d):Ji.isDocumentKey(t.path)?t.path.isEqual(d):t.path.isImmediateParentOf(d)}(r,e)&&function(t,o){for(const d of Ne(t))if(!d.field.isKeyField()&&null===o.data.field(d.field))return!1;return!0}(r,e)&&function(t,o){for(const d of t.filters)if(!d.matches(o))return!1;return!0}(r,e)&&(o=e,!((t=r).startAt&&!function(d,_,T){const J=lr(d,_,T);return d.inclusive?J<=0:J<0}(t.startAt,Ne(t),o)||t.endAt&&!function(d,_,T){const J=lr(d,_,T);return d.inclusive?J>=0:J>0}(t.endAt,Ne(t),o)));var t,o}function Bl(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function dc(r){return(e,t)=>{let o=!1;for(const d of Ne(r)){const _=su(d,e,t);if(0!==_)return _;o=o||d.field.isKeyField()}return 0}}function su(r,e,t){const o=r.field.isKeyField()?Ji.comparator(e.key,t.key):function(d,_,T){const J=_.data.field(d),ye=T.data.field(d);return null!==J&&null!==ye?P(J,ye):gr()}(r.field,e,t);switch(r.dir){case"asc":return o;case"desc":return-1*o;default:return gr()}}class ka{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),o=this.inner[t];if(void 0!==o)for(const[d,_]of o)if(this.equalsFn(d,e))return _}has(e){return void 0!==this.get(e)}set(e,t){const o=this.mapKeyFn(e),d=this.inner[o];if(void 0===d)return this.inner[o]=[[e,t]],void this.innerSize++;for(let _=0;_<d.length;_++)if(this.equalsFn(d[_][0],e))return void(d[_]=[e,t]);d.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),o=this.inner[t];if(void 0===o)return!1;for(let d=0;d<o.length;d++)if(this.equalsFn(o[d][0],e))return 1===o.length?delete this.inner[t]:o.splice(d,1),this.innerSize--,!0;return!1}forEach(e){ls(this.inner,(t,o)=>{for(const[d,_]of o)e(d,_)})}isEmpty(){return Ns(this.inner)}size(){return this.innerSize}}const Dc=new Br(Ji.comparator);function Ua(){return Dc}const Rc=new Br(Ji.comparator);function dl(...r){let e=Rc;for(const t of r)e=e.insert(t.key,t);return e}function El(r){let e=Rc;return r.forEach((t,o)=>e=e.insert(t,o.overlayedDocument)),e}function ic(){return rc()}function ou(){return rc()}function rc(){return new ka(r=>r.toString(),(r,e)=>r.isEqual(e))}const fh=new Br(Ji.comparator),au=new io(Ji.comparator);function mo(...r){let e=au;for(const t of r)e=e.add(t);return e}const ph=new io(As);function gh(){return ph}function mh(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:st(e)?"-0":e}}function Tf(r){return{integerValue:""+r}}function Df(r,e){return En(e)?Tf(e):mh(r,e)}class hl{constructor(){this._=void 0}}function bu(r,e,t){return r instanceof al?function(o,d){const _={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return d&&sl(d)&&(d=_l(d)),d&&(_.fields.__previous_value__=d),{mapValue:_}}(t,e):r instanceof hc?Id(r,e):r instanceof Oc?yh(r,e):function(o,d){const _=Eu(o,d),T=vh(_)+vh(o.gt);return lt(_)&&lt(o.gt)?Tf(T):mh(o.serializer,T)}(r,e)}function wu(r,e,t){return r instanceof hc?Id(r,e):r instanceof Oc?yh(r,e):t}function Eu(r,e){return r instanceof $l?lt(t=e)||(o=t)&&"doubleValue"in o?e:{integerValue:0}:null;var o,t}class al extends hl{}class hc extends hl{constructor(e){super(),this.elements=e}}function Id(r,e){const t=_h(e);for(const o of r.elements)t.some(d=>oe(d,o))||t.push(o);return{arrayValue:{values:t}}}class Oc extends hl{constructor(e){super(),this.elements=e}}function yh(r,e){let t=_h(e);for(const o of r.elements)t=t.filter(d=>!oe(d,o));return{arrayValue:{values:t}}}class $l extends hl{constructor(e,t){super(),this.serializer=e,this.gt=t}}function vh(r){return qo(r.integerValue||r.doubleValue)}function _h(r){return yt(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}class Gu{constructor(e,t){this.field=e,this.transform=t}}class xf{constructor(e,t){this.version=e,this.transformResults=t}}class Ya{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Ya}static exists(e){return new Ya(void 0,e)}static updateTime(e){return new Ya(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Su(r,e){return void 0!==r.updateTime?e.isFoundDocument()&&e.version.isEqual(r.updateTime):void 0===r.exists||r.exists===e.isFoundDocument()}class Cu{}function Mf(r,e){if(!r.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return r.isNoDocument()?new Hc(r.key,Ya.none()):new jc(r.key,r.data,Ya.none());{const t=r.data,o=Ht.empty();let d=new io(qs.comparator);for(let _ of e.fields)if(!d.has(_)){let T=t.field(_);null===T&&_.length>1&&(_=_.popLast(),T=t.field(_)),null===T?o.delete(_):o.set(_,T),d=d.add(_)}return new Ac(r.key,o,new bo(d.toArray()),Ya.none())}}function Yu(r,e,t){r instanceof jc?function(o,d,_){const T=o.value.clone(),J=qu(o.fieldTransforms,d,_.transformResults);T.setAll(J),d.convertToFoundDocument(_.version,T).setHasCommittedMutations()}(r,e,t):r instanceof Ac?function(o,d,_){if(!Su(o.precondition,d))return void d.convertToUnknownDocument(_.version);const T=qu(o.fieldTransforms,d,_.transformResults),J=d.data;J.setAll(lu(o)),J.setAll(T),d.convertToFoundDocument(_.version,J).setHasCommittedMutations()}(r,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function Ku(r,e,t,o){return r instanceof jc?function(d,_,T,J){if(!Su(d.precondition,_))return T;const ye=d.value.clone(),Oe=bh(d.fieldTransforms,J,_);return ye.setAll(Oe),_.convertToFoundDocument(_.version,ye).setHasLocalMutations(),null}(r,e,t,o):r instanceof Ac?function(d,_,T,J){if(!Su(d.precondition,_))return T;const ye=bh(d.fieldTransforms,J,_),Oe=_.data;return Oe.setAll(lu(d)),Oe.setAll(ye),_.convertToFoundDocument(_.version,Oe).setHasLocalMutations(),null===T?null:T.unionWith(d.fieldMask.fields).unionWith(d.fieldTransforms.map(gt=>gt.field))}(r,e,t,o):(T=t,Su(r.precondition,_=e)?(_.convertToNoDocument(_.version).setHasLocalMutations(),null):T);var _,T}function Vp(r,e){let t=null;for(const o of r.fieldTransforms){const d=e.data.field(o.field),_=Eu(o.transform,d||null);null!=_&&(null===t&&(t=Ht.empty()),t.set(o.field,_))}return t||null}function Td(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&(o=e.fieldTransforms,!!(void 0===(t=r.fieldTransforms)&&void 0===o||t&&o&&Ba(t,o,(d,_)=>function Af(r,e){return r.field.isEqual(e.field)&&(o=e.transform,(t=r.transform)instanceof hc&&o instanceof hc||t instanceof Oc&&o instanceof Oc?Ba(t.elements,o.elements,oe):t instanceof $l&&o instanceof $l?oe(t.gt,o.gt):t instanceof al&&o instanceof al);var t,o}(d,_))))&&(0===r.type?r.value.isEqual(e.value):1!==r.type||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask));var t,o}class jc extends Cu{constructor(e,t,o,d=[]){super(),this.key=e,this.value=t,this.precondition=o,this.fieldTransforms=d,this.type=0}getFieldMask(){return null}}class Ac extends Cu{constructor(e,t,o,d,_=[]){super(),this.key=e,this.data=t,this.fieldMask=o,this.precondition=d,this.fieldTransforms=_,this.type=1}getFieldMask(){return this.fieldMask}}function lu(r){const e=new Map;return r.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const o=r.data.field(t);e.set(t,o)}}),e}function qu(r,e,t){const o=new Map;zr(r.length===t.length);for(let d=0;d<t.length;d++){const _=r[d],T=_.transform,J=e.data.field(_.field);o.set(_.field,wu(T,J,t[d]))}return o}function bh(r,e,t){const o=new Map;for(const d of r){const _=d.transform,T=t.data.field(d.field);o.set(d.field,bu(_,T,e))}return o}class Hc extends Cu{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Iu extends Cu{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class wh{constructor(e,t,o,d){this.batchId=e,this.localWriteTime=t,this.baseMutations=o,this.mutations=d}applyToRemoteDocument(e,t){const o=t.mutationResults;for(let d=0;d<this.mutations.length;d++){const _=this.mutations[d];_.key.isEqual(e.key)&&Yu(_,e,o[d])}}applyToLocalView(e,t){for(const o of this.baseMutations)o.key.isEqual(e.key)&&(t=Ku(o,e,t,this.localWriteTime));for(const o of this.mutations)o.key.isEqual(e.key)&&(t=Ku(o,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const o=ou();return this.mutations.forEach(d=>{const _=e.get(d.key),T=_.overlayedDocument;let J=this.applyToLocalView(T,_.mutatedFields);J=t.has(d.key)?null:J;const ye=Mf(T,J);null!==ye&&o.set(d.key,ye),T.isValidDocument()||T.convertToNoDocument(Zr.min())}),o}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),mo())}isEqual(e){return this.batchId===e.batchId&&Ba(this.mutations,e.mutations,(t,o)=>Td(t,o))&&Ba(this.baseMutations,e.baseMutations,(t,o)=>Td(t,o))}}class Eh{constructor(e,t,o,d){this.batch=e,this.commitVersion=t,this.mutationResults=o,this.docVersions=d}static from(e,t,o){zr(e.mutations.length===o.length);let d=fh;const _=e.mutations;for(let T=0;T<_.length;T++)d=d.insert(_[T].key,o[T].version);return new Eh(e,t,o,d)}}class ac{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Sh{constructor(e,t){this.count=e,this.unchangedNames=t}}var fl,oa;function Zu(r){switch(r){default:return gr();case Zn.CANCELLED:case Zn.UNKNOWN:case Zn.DEADLINE_EXCEEDED:case Zn.RESOURCE_EXHAUSTED:case Zn.INTERNAL:case Zn.UNAVAILABLE:case Zn.UNAUTHENTICATED:return!1;case Zn.INVALID_ARGUMENT:case Zn.NOT_FOUND:case Zn.ALREADY_EXISTS:case Zn.PERMISSION_DENIED:case Zn.FAILED_PRECONDITION:case Zn.ABORTED:case Zn.OUT_OF_RANGE:case Zn.UNIMPLEMENTED:case Zn.DATA_LOSS:return!0}}function Ch(r){if(void 0===r)return Ts("GRPC error has no .code"),Zn.UNKNOWN;switch(r){case fl.OK:return Zn.OK;case fl.CANCELLED:return Zn.CANCELLED;case fl.UNKNOWN:return Zn.UNKNOWN;case fl.DEADLINE_EXCEEDED:return Zn.DEADLINE_EXCEEDED;case fl.RESOURCE_EXHAUSTED:return Zn.RESOURCE_EXHAUSTED;case fl.INTERNAL:return Zn.INTERNAL;case fl.UNAVAILABLE:return Zn.UNAVAILABLE;case fl.UNAUTHENTICATED:return Zn.UNAUTHENTICATED;case fl.INVALID_ARGUMENT:return Zn.INVALID_ARGUMENT;case fl.NOT_FOUND:return Zn.NOT_FOUND;case fl.ALREADY_EXISTS:return Zn.ALREADY_EXISTS;case fl.PERMISSION_DENIED:return Zn.PERMISSION_DENIED;case fl.FAILED_PRECONDITION:return Zn.FAILED_PRECONDITION;case fl.ABORTED:return Zn.ABORTED;case fl.OUT_OF_RANGE:return Zn.OUT_OF_RANGE;case fl.UNIMPLEMENTED:return Zn.UNIMPLEMENTED;case fl.DATA_LOSS:return Zn.DATA_LOSS;default:return gr()}}(oa=fl||(fl={}))[oa.OK=0]="OK",oa[oa.CANCELLED=1]="CANCELLED",oa[oa.UNKNOWN=2]="UNKNOWN",oa[oa.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",oa[oa.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",oa[oa.NOT_FOUND=5]="NOT_FOUND",oa[oa.ALREADY_EXISTS=6]="ALREADY_EXISTS",oa[oa.PERMISSION_DENIED=7]="PERMISSION_DENIED",oa[oa.UNAUTHENTICATED=16]="UNAUTHENTICATED",oa[oa.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",oa[oa.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",oa[oa.ABORTED=10]="ABORTED",oa[oa.OUT_OF_RANGE=11]="OUT_OF_RANGE",oa[oa.UNIMPLEMENTED=12]="UNIMPLEMENTED",oa[oa.INTERNAL=13]="INTERNAL",oa[oa.UNAVAILABLE=14]="UNAVAILABLE",oa[oa.DATA_LOSS=15]="DATA_LOSS";class Xu{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return Dd}static getOrCreateInstance(){return null===Dd&&(Dd=new Xu),Dd}onExistenceFilterMismatch(e){const t=Symbol();return this.onExistenceFilterMismatchCallbacks.set(t,e),()=>this.onExistenceFilterMismatchCallbacks.delete(t)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(t=>t(e))}}let Dd=null;function Pf(){return new TextEncoder}const Ad=new Xi([4294967295,4294967295],0);function Ih(r){const e=Pf().encode(r),t=new Gr;return t.update(e),new Uint8Array(t.digest())}function Wc(r){const e=new DataView(r.buffer),t=e.getUint32(0,!0),o=e.getUint32(4,!0),d=e.getUint32(8,!0),_=e.getUint32(12,!0);return[new Xi([t,o],0),new Xi([d,_],0)]}class Th{constructor(e,t,o){if(this.bitmap=e,this.padding=t,this.hashCount=o,t<0||t>=8)throw new cu(`Invalid padding: ${t}`);if(o<0)throw new cu(`Invalid hash count: ${o}`);if(e.length>0&&0===this.hashCount)throw new cu(`Invalid hash count: ${o}`);if(0===e.length&&0!==t)throw new cu(`Invalid padding when bitmap length is 0: ${t}`);this.It=8*e.length-t,this.Tt=Xi.fromNumber(this.It)}Et(e,t,o){let d=e.add(t.multiply(Xi.fromNumber(o)));return 1===d.compare(Ad)&&(d=new Xi([d.getBits(0),d.getBits(1)],0)),d.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const t=Ih(e),[o,d]=Wc(t);for(let _=0;_<this.hashCount;_++){const T=this.Et(o,d,_);if(!this.At(T))return!1}return!0}static create(e,t,o){const d=e%8==0?0:8-e%8,_=new Uint8Array(Math.ceil(e/8)),T=new Th(_,d,t);return o.forEach(J=>T.insert(J)),T}insert(e){if(0===this.It)return;const t=Ih(e),[o,d]=Wc(t);for(let _=0;_<this.hashCount;_++){const T=this.Et(o,d,_);this.Rt(T)}}Rt(e){const t=Math.floor(e/8);this.bitmap[t]|=1<<e%8}}class cu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Qu{constructor(e,t,o,d,_){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=o,this.documentUpdates=d,this.resolvedLimboDocuments=_}static createSynthesizedRemoteEventForCurrentChange(e,t,o){const d=new Map;return d.set(e,xd.createSynthesizedTargetChangeForCurrentChange(e,t,o)),new Qu(Zr.min(),d,new Br(As),Ua(),mo())}}class xd{constructor(e,t,o,d,_){this.resumeToken=e,this.current=t,this.addedDocuments=o,this.modifiedDocuments=d,this.removedDocuments=_}static createSynthesizedTargetChangeForCurrentChange(e,t,o){return new xd(o,t,mo(),mo(),mo())}}class uu{constructor(e,t,o,d){this.Pt=e,this.removedTargetIds=t,this.key=o,this.bt=d}}class Rf{constructor(e,t){this.targetId=e,this.Vt=t}}class Dh{constructor(e,t,o=ma.EMPTY_BYTE_STRING,d=null){this.state=e,this.targetIds=t,this.resumeToken=o,this.cause=d}}class Ah{constructor(){this.St=0,this.Dt=xh(),this.Ct=ma.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=mo(),t=mo(),o=mo();return this.Dt.forEach((d,_)=>{switch(_){case 0:e=e.add(d);break;case 2:t=t.add(d);break;case 1:o=o.add(d);break;default:gr()}}),new xd(this.Ct,this.xt,e,t,o)}Ft(){this.Nt=!1,this.Dt=xh()}Bt(e,t){this.Nt=!0,this.Dt=this.Dt.insert(e,t)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class Of{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=Ua(),this.zt=Md(),this.Wt=new Br(As)}Ht(e){for(const t of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(t,e.bt):this.Yt(t,e.key,e.bt);for(const t of e.removedTargetIds)this.Yt(t,e.key,e.bt)}Xt(e){this.forEachTarget(e,t=>{const o=this.Zt(t);switch(e.state){case 0:this.te(t)&&o.$t(e.resumeToken);break;case 1:o.Ut(),o.kt||o.Ft(),o.$t(e.resumeToken);break;case 2:o.Ut(),o.kt||this.removeTarget(t);break;case 3:this.te(t)&&(o.Kt(),o.$t(e.resumeToken));break;case 4:this.te(t)&&(this.ee(t),o.$t(e.resumeToken));break;default:gr()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Qt.forEach((o,d)=>{this.te(d)&&t(d)})}ne(e){var t;const o=e.targetId,d=e.Vt.count,_=this.se(o);if(_){const T=_.target;if(Cc(T))if(0===d){const J=new Ji(T.path);this.Yt(o,J,xi.newNoDocument(J,Zr.min()))}else zr(1===d);else{const J=this.ie(o);if(J!==d){const ye=this.re(e,J);0!==ye&&(this.ee(o),this.Wt=this.Wt.insert(o,2===ye?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(t=Xu.instance)||void 0===t||t.notifyOnExistenceFilterMismatch(function(Oe,gt,cn){var Wn,vi,cr,ts,ds,ko;const ga={localCacheCount:gt,existenceFilterCount:cn.count},Xo=cn.unchangedNames;return Xo&&(ga.bloomFilter={applied:0===Oe,hashCount:null!==(Wn=null==Xo?void 0:Xo.hashCount)&&void 0!==Wn?Wn:0,bitmapLength:null!==(ts=null===(cr=null===(vi=null==Xo?void 0:Xo.bits)||void 0===vi?void 0:vi.bitmap)||void 0===cr?void 0:cr.length)&&void 0!==ts?ts:0,padding:null!==(ko=null===(ds=null==Xo?void 0:Xo.bits)||void 0===ds?void 0:ds.padding)&&void 0!==ko?ko:0}),ga}(ye,J,e.Vt))}}}}re(e,t){const{unchangedNames:o,count:d}=e.Vt;if(!o||!o.bits)return 1;const{bits:{bitmap:_="",padding:T=0},hashCount:J=0}=o;let ye,Oe;try{ye=Ta(_).toUint8Array()}catch(gt){if(gt instanceof Wa)return fa("Decoding the base64 bloom filter in existence filter failed ("+gt.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw gt}try{Oe=new Th(ye,T,J)}catch(gt){return fa(gt instanceof cu?"BloomFilter error: ":"Applying bloom filter failed: ",gt),1}return 0===Oe.It?1:d!==t-this.oe(e.targetId,Oe)?2:0}oe(e,t){const o=this.Gt.getRemoteKeysForTarget(e);let d=0;return o.forEach(_=>{const T=this.Gt.ue(),J=`projects/${T.projectId}/databases/${T.database}/documents/${_.path.canonicalString()}`;t.vt(J)||(this.Yt(e,_,null),d++)}),d}ce(e){const t=new Map;this.Qt.forEach((_,T)=>{const J=this.se(T);if(J){if(_.current&&Cc(J.target)){const ye=new Ji(J.target.path);null!==this.jt.get(ye)||this.ae(T,ye)||this.Yt(T,ye,xi.newNoDocument(ye,e))}_.Mt&&(t.set(T,_.Ot()),_.Ft())}});let o=mo();this.zt.forEach((_,T)=>{let J=!0;T.forEachWhile(ye=>{const Oe=this.se(ye);return!Oe||"TargetPurposeLimboResolution"===Oe.purpose||(J=!1,!1)}),J&&(o=o.add(_))}),this.jt.forEach((_,T)=>T.setReadTime(e));const d=new Qu(e,t,this.Wt,this.jt,o);return this.jt=Ua(),this.zt=Md(),this.Wt=new Br(As),d}Jt(e,t){if(!this.te(e))return;const o=this.ae(e,t.key)?2:0;this.Zt(e).Bt(t.key,o),this.jt=this.jt.insert(t.key,t),this.zt=this.zt.insert(t.key,this.he(t.key).add(e))}Yt(e,t,o){if(!this.te(e))return;const d=this.Zt(e);this.ae(e,t)?d.Bt(t,1):d.Lt(t),this.zt=this.zt.insert(t,this.he(t).delete(e)),o&&(this.jt=this.jt.insert(t,o))}removeTarget(e){this.Qt.delete(e)}ie(e){const t=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let t=this.Qt.get(e);return t||(t=new Ah,this.Qt.set(e,t)),t}he(e){let t=this.zt.get(e);return t||(t=new io(As),this.zt=this.zt.insert(e,t)),t}te(e){const t=null!==this.se(e);return t||wi("WatchChangeAggregator","Detected inactive target",e),t}se(e){const t=this.Qt.get(e);return t&&t.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new Ah),this.Gt.getRemoteKeysForTarget(e).forEach(t=>{this.Yt(e,t,null)})}ae(e,t){return this.Gt.getRemoteKeysForTarget(e).has(t)}}function Md(){return new Br(Ji.comparator)}function xh(){return new Br(Ji.comparator)}const Mh={asc:"ASCENDING",desc:"DESCENDING"},Pd={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},kf={and:"AND",or:"OR"};class Ph{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Tu(r,e){return r.useProto3Json||mt(e)?e:{value:e}}function Gc(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Rd(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function Ju(r,e){return Gc(r,e.toTimestamp())}function pl(r){return zr(!!r),Zr.fromTimestamp(function(e){const t=Va(e);return new Ko(t.seconds,t.nanos)}(r))}function Od(r,e){return(t=r,new zs(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function kc(r){const e=zs.fromString(r);return zr(Fc(e)),e}function gl(r,e){return Od(r.databaseId,e.path)}function ll(r,e){const t=kc(e);if(t.get(1)!==r.databaseId.projectId)throw new Ri(Zn.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+r.databaseId.projectId);if(t.get(3)!==r.databaseId.database)throw new Ri(Zn.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+r.databaseId.database);return new Ji(kd(t))}function Yc(r,e){return Od(r.databaseId,e)}function Rh(r){const e=kc(r);return 4===e.length?zs.emptyPath():kd(e)}function Kc(r){return new zs(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function kd(r){return zr(r.length>4&&"documents"===r.get(4)),r.popFirst(5)}function du(r,e,t){return{name:gl(r,e),fields:t.value.mapValue.fields}}function Nc(r,e,t){const o=ll(r,e.name),d=pl(e.updateTime),_=e.createTime?pl(e.createTime):Zr.min(),T=new Ht({mapValue:{fields:e.fields}}),J=xi.newFoundDocument(o,d,_,T);return t&&J.setHasCommittedMutations(),t?J.setHasCommittedMutations():J}function ed(r,e){let t;if(e instanceof jc)t={update:du(r,e.key,e.value)};else if(e instanceof Hc)t={delete:gl(r,e.key)};else if(e instanceof Ac)t={update:du(r,e.key,e.data),updateMask:Hp(e.fieldMask)};else{if(!(e instanceof Iu))return gr();t={verify:gl(r,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(o=>function(d,_){const T=_.transform;if(T instanceof al)return{fieldPath:_.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(T instanceof hc)return{fieldPath:_.field.canonicalString(),appendMissingElements:{values:T.elements}};if(T instanceof Oc)return{fieldPath:_.field.canonicalString(),removeAllFromArray:{values:T.elements}};if(T instanceof $l)return{fieldPath:_.field.canonicalString(),increment:T.gt};throw gr()}(0,o))),e.precondition.isNone||(t.currentDocument=void 0!==(d=e.precondition).updateTime?{updateTime:Ju(r,d.updateTime)}:void 0!==d.exists?{exists:d.exists}:gr()),t;var d}function td(r,e){const t=e.currentDocument?void 0!==(d=e.currentDocument).updateTime?Ya.updateTime(pl(d.updateTime)):void 0!==d.exists?Ya.exists(d.exists):Ya.none():Ya.none(),o=e.updateTransforms?e.updateTransforms.map(d=>function(_,T){let J=null;"setToServerValue"in T?(zr("REQUEST_TIME"===T.setToServerValue),J=new al):"appendMissingElements"in T?J=new hc(T.appendMissingElements.values||[]):"removeAllFromArray"in T?J=new Oc(T.removeAllFromArray.values||[]):"increment"in T?J=new $l(_,T.increment):gr();const ye=qs.fromServerFormat(T.fieldPath);return new Gu(ye,J)}(r,d)):[];var d;if(e.update){const d=ll(r,e.update.name),_=new Ht({mapValue:{fields:e.update.fields}});if(e.updateMask){const T=new bo((e.updateMask.fieldPaths||[]).map(Oe=>qs.fromServerFormat(Oe)));return new Ac(d,_,T,t,o)}return new jc(d,_,t,o)}if(e.delete){const d=ll(r,e.delete);return new Hc(d,t)}if(e.verify){const d=ll(r,e.verify);return new Iu(d,t)}return gr()}function hu(r,e){return{documents:[Yc(r,e.path)]}}function fu(r,e){const t={structuredQuery:{}},o=e.path;null!==e.collectionGroup?(t.parent=Yc(r,o),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=Yc(r,o.popLast()),t.structuredQuery.from=[{collectionId:o.lastSegment()}]);const d=function(ye){if(0!==ye.length)return Nh(ci.create(ye,"and"))}(e.filters);d&&(t.structuredQuery.where=d);const _=function(ye){if(0!==ye.length)return ye.map(Oe=>{return{field:Lc((gt=Oe).field),direction:kh(gt.dir)};var gt})}(e.orderBy);_&&(t.structuredQuery.orderBy=_);const T=Tu(r,e.limit);var J,ye;return null!==T&&(t.structuredQuery.limit=T),e.startAt&&(t.structuredQuery.startAt={before:(J=e.startAt).inclusive,values:J.position}),e.endAt&&(t.structuredQuery.endAt={before:!(ye=e.endAt).inclusive,values:ye.position}),t}function nd(r){let e=Rh(r.parent);const t=r.structuredQuery,o=t.from?t.from.length:0;let d=null;if(o>0){zr(1===o);const gt=t.from[0];gt.allDescendants?d=gt.collectionId:e=e.child(gt.collectionId)}let _=[];t.where&&(_=function(gt){const cn=Oh(gt);return cn instanceof ci&&Jn(cn)?cn.getFilters():[cn]}(t.where));let T=[];t.orderBy&&(T=t.orderBy.map(gt=>{return new Pi(pu((cn=gt).field),function(Wn){switch(Wn){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(cn.direction));var cn}));let J=null;t.limit&&(J=function(gt){let cn;return cn="object"==typeof gt?gt.value:gt,mt(cn)?null:cn}(t.limit));let ye=null;var gt;t.startAt&&(ye=new Si((gt=t.startAt).values||[],!!gt.before));let Oe=null;return t.endAt&&(Oe=function(gt){return new Si(gt.values||[],!gt.before)}(t.endAt)),Ic(e,d,T,_,J,"F",ye,Oe)}function Oh(r){return void 0!==r.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=pu(e.unaryFilter.field);return gi.create(t,"==",{doubleValue:NaN});case"IS_NULL":const o=pu(e.unaryFilter.field);return gi.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const d=pu(e.unaryFilter.field);return gi.create(d,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const _=pu(e.unaryFilter.field);return gi.create(_,"!=",{nullValue:"NULL_VALUE"});default:return gr()}}(r):void 0!==r.fieldFilter?gi.create(pu((e=r).fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return gr()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==r.compositeFilter?function(e){return ci.create(e.compositeFilter.filters.map(t=>Oh(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return gr()}}(e.compositeFilter.op))}(r):gr();var e}function kh(r){return Mh[r]}function Lf(r){return Pd[r]}function jp(r){return kf[r]}function Lc(r){return{fieldPath:r.canonicalString()}}function pu(r){return qs.fromServerFormat(r.fieldPath)}function Nh(r){return r instanceof gi?function(e){if("=="===e.op){if(pt(e.value))return{unaryFilter:{field:Lc(e.field),op:"IS_NAN"}};if(vt(e.value))return{unaryFilter:{field:Lc(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(pt(e.value))return{unaryFilter:{field:Lc(e.field),op:"IS_NOT_NAN"}};if(vt(e.value))return{unaryFilter:{field:Lc(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Lc(e.field),op:Lf(e.op),value:e.value}}}(r):r instanceof ci?function(e){const t=e.getFilters().map(o=>Nh(o));return 1===t.length?t[0]:{compositeFilter:{op:jp(e.op),filters:t}}}(r):gr()}function Hp(r){const e=[];return r.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function Fc(r){return r.length>=4&&"projects"===r.get(0)&&"databases"===r.get(2)}class lc{constructor(e,t,o,d,_=Zr.min(),T=Zr.min(),J=ma.EMPTY_BYTE_STRING,ye=null){this.target=e,this.targetId=t,this.purpose=o,this.sequenceNumber=d,this.snapshotVersion=_,this.lastLimboFreeSnapshotVersion=T,this.resumeToken=J,this.expectedCount=ye}withSequenceNumber(e){return new lc(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new lc(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new lc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new lc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class Lh{constructor(e){this.fe=e}}function Wp(r,e){const t=e.key,o={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:Nd(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())o.document={name:gl(d=r.fe,(_=e).key),fields:_.data.value.mapValue.fields,updateTime:Gc(d,_.version.toTimestamp()),createTime:Gc(d,_.createTime.toTimestamp())};else if(e.isNoDocument())o.noDocument={path:t.path.toArray(),readTime:Au(e.version)};else{if(!e.isUnknownDocument())return gr();o.unknownDocument={path:t.path.toArray(),version:Au(e.version)}}var d,_;return o}function Nd(r){const e=r.toTimestamp();return[e.seconds,e.nanoseconds]}function Au(r){const e=r.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function xu(r){const e=new Ko(r.seconds,r.nanoseconds);return Zr.fromTimestamp(e)}function qc(r,e){const t=(e.baseMutations||[]).map(_=>td(r.fe,_));for(let _=0;_<e.mutations.length-1;++_)_+1<e.mutations.length&&void 0!==e.mutations[_+1].transform&&(e.mutations[_].updateTransforms=e.mutations[_+1].transform.fieldTransforms,e.mutations.splice(_+1,1),++_);const o=e.mutations.map(_=>td(r.fe,_)),d=Ko.fromMillis(e.localWriteTimeMs);return new wh(e.batchId,d,t,o)}function Mu(r){const e=xu(r.readTime),t=void 0!==r.lastLimboFreeSnapshotVersion?xu(r.lastLimboFreeSnapshotVersion):Zr.min();let o;var d;return void 0!==r.query.documents?(zr(1===(d=r.query).documents.length),o=ht(Tc(Rh(d.documents[0])))):o=ht(nd(r.query)),new lc(o,r.targetId,"TargetPurposeListen",r.lastListenSequenceNumber,e,t,ma.fromBase64String(r.resumeToken))}function Ff(r,e){const t=Au(e.snapshotVersion),o=Au(e.lastLimboFreeSnapshotVersion);let d;d=Cc(e.target)?hu(r.fe,e.target):fu(r.fe,e.target);const _=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:wl(e.target),readTime:t,resumeToken:_,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:o,query:d}}function v(r){const e=nd({parent:r.parent,structuredQuery:r.structuredQuery});return"LAST"===r.limitType?si(e,e.limit,"L"):e}function h(r,e){return new ac(e.largestBatchId,td(r.fe,e.overlayMutation))}function f(r,e){const t=e.path.lastSegment();return[r,ni(e.path.popLast()),t]}function C(r,e,t,o){return{indexId:r,uid:e.uid||"",sequenceNumber:t,readTime:Au(o.readTime),documentKey:ni(o.documentKey.path),largestBatchId:o.largestBatchId}}class z{getBundleMetadata(e,t){return le(e).get(t).next(o=>{if(o)return{id:(d=o).bundleId,createTime:xu(d.createTime),version:d.version};var d})}saveBundleMetadata(e,t){return le(e).put({bundleId:(o=t).id,createTime:Au(pl(o.createTime)),version:o.version});var o}getNamedQuery(e,t){return we(e).get(t).next(o=>{if(o)return{name:(d=o).name,query:v(d.bundledQuery),readTime:xu(d.readTime)};var d})}saveNamedQuery(e,t){return we(e).put({name:(o=t).name,readTime:Au(pl(o.readTime)),bundledQuery:o.bundledQuery});var o}}function le(r){return or(r,"bundles")}function we(r){return or(r,"namedQueries")}class ot{constructor(e,t){this.serializer=e,this.userId=t}static de(e,t){return new ot(e,t.uid||"")}getOverlay(e,t){return $t(e).get(f(this.userId,t)).next(o=>o?h(this.serializer,o):null)}getOverlays(e,t){const o=ic();return Bn.forEach(t,d=>this.getOverlay(e,d).next(_=>{null!==_&&o.set(d,_)})).next(()=>o)}saveOverlays(e,t,o){const d=[];return o.forEach((_,T)=>{const J=new ac(t,T);d.push(this.we(e,J))}),Bn.waitFor(d)}removeOverlaysForBatchId(e,t,o){const d=new Set;t.forEach(T=>d.add(ni(T.getCollectionPath())));const _=[];return d.forEach(T=>{const J=IDBKeyRange.bound([this.userId,T,o],[this.userId,T,o+1],!1,!0);_.push($t(e).J("collectionPathOverlayIndex",J))}),Bn.waitFor(_)}getOverlaysForCollection(e,t,o){const d=ic(),_=ni(t),T=IDBKeyRange.bound([this.userId,_,o],[this.userId,_,Number.POSITIVE_INFINITY],!0);return $t(e).j("collectionPathOverlayIndex",T).next(J=>{for(const ye of J){const Oe=h(this.serializer,ye);d.set(Oe.getKey(),Oe)}return d})}getOverlaysForCollectionGroup(e,t,o,d){const _=ic();let T;const J=IDBKeyRange.bound([this.userId,t,o],[this.userId,t,Number.POSITIVE_INFINITY],!0);return $t(e).X({index:"collectionGroupOverlayIndex",range:J},(ye,Oe,gt)=>{const cn=h(this.serializer,Oe);_.size()<d||cn.largestBatchId===T?(_.set(cn.getKey(),cn),T=cn.largestBatchId):gt.done()}).next(()=>_)}we(e,t){return $t(e).put(function(o,d,_){const[T,J,ye]=f(d,_.mutation.key);return{userId:d,collectionPath:J,documentId:ye,collectionGroup:_.mutation.key.getCollectionGroup(),largestBatchId:_.largestBatchId,overlayMutation:ed(o.fe,_.mutation)}}(this.serializer,this.userId,t))}}function $t(r){return or(r,"documentOverlays")}class un{constructor(){}_e(e,t){this.me(e,t),t.ge()}me(e,t){if("nullValue"in e)this.ye(t,5);else if("booleanValue"in e)this.ye(t,10),t.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(t,15),t.pe(qo(e.integerValue));else if("doubleValue"in e){const o=qo(e.doubleValue);isNaN(o)?this.ye(t,13):(this.ye(t,15),st(o)?t.pe(0):t.pe(o))}else if("timestampValue"in e){const o=e.timestampValue;this.ye(t,20),"string"==typeof o?t.Ie(o):(t.Ie(`${o.seconds||""}`),t.pe(o.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,t),this.Ee(t);else if("bytesValue"in e)this.ye(t,30),t.Ae(Ta(e.bytesValue)),this.Ee(t);else if("referenceValue"in e)this.ve(e.referenceValue,t);else if("geoPointValue"in e){const o=e.geoPointValue;this.ye(t,45),t.pe(o.latitude||0),t.pe(o.longitude||0)}else"mapValue"in e?pn(e)?this.ye(t,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,t),this.Ee(t)):"arrayValue"in e?(this.Pe(e.arrayValue,t),this.Ee(t)):gr()}Te(e,t){this.ye(t,25),this.be(e,t)}be(e,t){t.Ie(e)}Re(e,t){const o=e.fields||{};this.ye(t,55);for(const d of Object.keys(o))this.Te(d,t),this.me(o[d],t)}Pe(e,t){const o=e.values||[];this.ye(t,50);for(const d of o)this.me(d,t)}ve(e,t){this.ye(t,37),Ji.fromName(e).path.forEach(o=>{this.ye(t,60),this.be(o,t)})}ye(e,t){e.pe(t)}Ee(e){e.pe(2)}}function hi(r){if(0===r)return 8;let e=0;return!(r>>4)&&(e+=4,r<<=4),!(r>>6)&&(e+=2,r<<=2),!(r>>7)&&(e+=1),e}function pi(r){const e=64-function(t){let o=0;for(let d=0;d<8;++d){const _=hi(255&t[d]);if(o+=_,8!==_)break}return o}(r);return Math.ceil(e/8)}un.Ve=new un;class ki{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Se(e){const t=e[Symbol.iterator]();let o=t.next();for(;!o.done;)this.De(o.value),o=t.next();this.Ce()}xe(e){const t=e[Symbol.iterator]();let o=t.next();for(;!o.done;)this.Ne(o.value),o=t.next();this.ke()}Me(e){for(const t of e){const o=t.charCodeAt(0);if(o<128)this.De(o);else if(o<2048)this.De(960|o>>>6),this.De(128|63&o);else if(t<"\ud800"||"\udbff"<t)this.De(480|o>>>12),this.De(128|63&o>>>6),this.De(128|63&o);else{const d=t.codePointAt(0);this.De(240|d>>>18),this.De(128|63&d>>>12),this.De(128|63&d>>>6),this.De(128|63&d)}}this.Ce()}$e(e){for(const t of e){const o=t.charCodeAt(0);if(o<128)this.Ne(o);else if(o<2048)this.Ne(960|o>>>6),this.Ne(128|63&o);else if(t<"\ud800"||"\udbff"<t)this.Ne(480|o>>>12),this.Ne(128|63&o>>>6),this.Ne(128|63&o);else{const d=t.codePointAt(0);this.Ne(240|d>>>18),this.Ne(128|63&d>>>12),this.Ne(128|63&d>>>6),this.Ne(128|63&d)}}this.ke()}Oe(e){const t=this.Fe(e),o=pi(t);this.Be(1+o),this.buffer[this.position++]=255&o;for(let d=t.length-o;d<t.length;++d)this.buffer[this.position++]=255&t[d]}Le(e){const t=this.Fe(e),o=pi(t);this.Be(1+o),this.buffer[this.position++]=~(255&o);for(let d=t.length-o;d<t.length;++d)this.buffer[this.position++]=~(255&t[d])}qe(){this.Ue(255),this.Ue(255)}Ke(){this.Ge(255),this.Ge(255)}reset(){this.position=0}seed(e){this.Be(e.length),this.buffer.set(e,this.position),this.position+=e.length}Qe(){return this.buffer.slice(0,this.position)}Fe(e){const t=function(d){const _=new DataView(new ArrayBuffer(8));return _.setFloat64(0,d,!1),new Uint8Array(_.buffer)}(e),o=0!=(128&t[0]);t[0]^=o?255:128;for(let d=1;d<t.length;++d)t[d]^=o?255:0;return t}De(e){const t=255&e;0===t?(this.Ue(0),this.Ue(255)):255===t?(this.Ue(255),this.Ue(0)):this.Ue(t)}Ne(e){const t=255&e;0===t?(this.Ge(0),this.Ge(255)):255===t?(this.Ge(255),this.Ge(0)):this.Ge(e)}Ce(){this.Ue(0),this.Ue(1)}ke(){this.Ge(0),this.Ge(1)}Ue(e){this.Be(1),this.buffer[this.position++]=e}Ge(e){this.Be(1),this.buffer[this.position++]=~e}Be(e){const t=e+this.position;if(t<=this.buffer.length)return;let o=2*this.buffer.length;o<t&&(o=t);const d=new Uint8Array(o);d.set(this.buffer),this.buffer=d}}class us{constructor(e){this.je=e}Ae(e){this.je.Se(e)}Ie(e){this.je.Me(e)}pe(e){this.je.Oe(e)}ge(){this.je.qe()}}class Fs{constructor(e){this.je=e}Ae(e){this.je.xe(e)}Ie(e){this.je.$e(e)}pe(e){this.je.Le(e)}ge(){this.je.Ke()}}class Zo{constructor(){this.je=new ki,this.ze=new us(this.je),this.We=new Fs(this.je)}seed(e){this.je.seed(e)}He(e){return 0===e?this.ze:this.We}Qe(){return this.je.Qe()}reset(){this.je.reset()}}class Ka{constructor(e,t,o,d){this.indexId=e,this.documentKey=t,this.arrayValue=o,this.directionalValue=d}Je(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,o=new Uint8Array(t);return o.set(this.directionalValue,0),t!==e?o.set([0],this.directionalValue.length):++o[o.length-1],new Ka(this.indexId,this.documentKey,this.arrayValue,o)}}function Vl(r,e){let t=r.indexId-e.indexId;return 0!==t?t:(t=xc(r.arrayValue,e.arrayValue),0!==t?t:(t=xc(r.directionalValue,e.directionalValue),0!==t?t:Ji.comparator(r.documentKey,e.documentKey)))}function xc(r,e){for(let t=0;t<r.length&&t<e.length;++t){const o=r[t]-e[t];if(0!==o)return o}return r.length-e.length}class Pu{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ye=e.orderBy,this.Xe=[];for(const t of e.filters){const o=t;o.isInequality()?this.Ze=o:this.Xe.push(o)}}tn(e){zr(e.collectionGroup===this.collectionId);const t=La(e);if(void 0!==t&&!this.en(t))return!1;const o=yl(e);let d=0,_=0;for(;d<o.length&&this.en(o[d]);++d);if(d===o.length)return!0;if(void 0!==this.Ze){const T=o[d];if(!this.nn(this.Ze,T)||!this.sn(this.Ye[_++],T))return!1;++d}for(;d<o.length;++d)if(_>=this.Ye.length||!this.sn(this.Ye[_++],o[d]))return!1;return!0}en(e){for(const t of this.Xe)if(this.nn(t,e))return!0;return!1}nn(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}sn(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function Fh(r){var e,t;if(zr(r instanceof gi||r instanceof ci),r instanceof gi){if(r instanceof pa){const d=(null===(t=null===(e=r.value.arrayValue)||void 0===e?void 0:e.values)||void 0===t?void 0:t.map(_=>gi.create(r.field,"==",_)))||[];return ci.create(d,"or")}return r}const o=r.filters.map(d=>Fh(d));return ci.create(o,r.op)}function Bf(r){if(0===r.getFilters().length)return[];const e=Sl(Fh(r));return zr(km(e)),Gp(e)||Bh(e)?[e]:e.getFilters()}function Gp(r){return r instanceof gi}function Bh(r){return r instanceof ci&&Jn(r)}function km(r){return Gp(r)||Bh(r)||function(e){if(e instanceof ci&&Qn(e)){for(const t of e.getFilters())if(!Gp(t)&&!Bh(t))return!1;return!0}return!1}(r)}function Sl(r){if(zr(r instanceof gi||r instanceof ci),r instanceof gi)return r;if(1===r.filters.length)return Sl(r.filters[0]);const e=r.filters.map(o=>Sl(o));let t=ci.create(e,r.op);return t=Ld(t),km(t)?t:(zr(t instanceof ci),zr(bn(t)),zr(t.filters.length>1),t.filters.reduce((o,d)=>Yp(o,d)))}function Yp(r,e){let t;return zr(r instanceof gi||r instanceof ci),zr(e instanceof gi||e instanceof ci),t=r instanceof gi?e instanceof gi?ci.create([r,e],"and"):Nm(r,e):e instanceof gi?Nm(e,r):function(o,d){if(zr(o.filters.length>0&&d.filters.length>0),bn(o)&&bn(d))return es(o,d.getFilters());const _=Qn(o)?o:d,T=Qn(o)?d:o,J=_.filters.map(ye=>Yp(ye,T));return ci.create(J,"or")}(r,e),Ld(t)}function Nm(r,e){if(bn(e))return es(e,r.getFilters());{const t=e.filters.map(o=>Yp(r,o));return ci.create(t,"or")}}function Ld(r){if(zr(r instanceof gi||r instanceof ci),r instanceof gi)return r;const e=r.getFilters();if(1===e.length)return Ld(e[0]);if(Hn(r))return r;const t=e.map(d=>Ld(d)),o=[];return t.forEach(d=>{d instanceof gi?o.push(d):d instanceof ci&&(d.op===r.op?o.push(...d.filters):o.push(d))}),1===o.length?o[0]:ci.create(o,r.op)}class Lm{constructor(){this.rn=new Kp}addToCollectionParentIndex(e,t){return this.rn.add(t),Bn.resolve()}getCollectionParents(e,t){return Bn.resolve(this.rn.getEntries(t))}addFieldIndex(e,t){return Bn.resolve()}deleteFieldIndex(e,t){return Bn.resolve()}getDocumentsMatchingTarget(e,t){return Bn.resolve(null)}getIndexType(e,t){return Bn.resolve(0)}getFieldIndexes(e,t){return Bn.resolve([])}getNextCollectionGroupToUpdate(e){return Bn.resolve(null)}getMinOffset(e,t){return Bn.resolve(Rs.min())}getMinOffsetFromCollectionGroup(e,t){return Bn.resolve(Rs.min())}updateCollectionGroup(e,t,o){return Bn.resolve()}updateIndexEntries(e,t){return Bn.resolve()}}class Kp{constructor(){this.index={}}add(e){const t=e.lastSegment(),o=e.popLast(),d=this.index[t]||new io(zs.comparator),_=!d.has(o);return this.index[t]=d.add(o),_}has(e){const t=e.lastSegment(),o=e.popLast(),d=this.index[t];return d&&d.has(o)}getEntries(e){return(this.index[e]||new io(zs.comparator)).toArray()}}const $f=new Uint8Array(0);class dv{constructor(e,t){this.user=e,this.databaseId=t,this.on=new Kp,this.un=new ka(o=>wl(o),(o,d)=>Pl(o,d)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.on.has(t)){const o=t.lastSegment(),d=t.popLast();e.addOnCommittedListener(()=>{this.on.add(t)});const _={collectionId:o,parent:ni(d)};return Fm(e).put(_)}return Bn.resolve()}getCollectionParents(e,t){const o=[],d=IDBKeyRange.bound([t,""],[oc(t),""],!1,!0);return Fm(e).j(d).next(_=>{for(const T of _){if(T.collectionId!==t)break;o.push(Fr(T.parent))}return o})}addFieldIndex(e,t){const o=qp(e),d={indexId:(T=t).indexId,collectionGroup:T.collectionGroup,fields:T.fields.map(J=>[J.fieldPath.canonicalString(),J.kind])};var T;delete d.indexId;const _=o.add(d);if(t.indexState){const T=Vf(e);return _.next(J=>{T.put(C(J,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return _.next()}deleteFieldIndex(e,t){const o=qp(e),d=Vf(e),_=Fd(e);return o.delete(t.indexId).next(()=>d.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>_.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const o=Fd(e);let d=!0;const _=new Map;return Bn.forEach(this.cn(t),T=>this.an(e,T).next(J=>{d&&(d=!!J),_.set(T,J)})).next(()=>{if(d){let T=mo();const J=[];return Bn.forEach(_,(ye,Oe)=>{var gt;wi("IndexedDbIndexManager",`Using index ${gt=ye,`id=${gt.indexId}|cg=${gt.collectionGroup}|f=${gt.fields.map(Xo=>`${Xo.fieldPath}:${Xo.kind}`).join(",")}`} to execute ${wl(t)}`);const cn=function(Xo,Ol){const Dl=La(Ol);if(void 0===Dl)return null;for(const el of uc(Xo,Dl.fieldPath))switch(el.op){case"array-contains-any":return el.value.arrayValue.values||[];case"array-contains":return[el.value]}return null}(Oe,ye),Wn=function(Xo,Ol){const Dl=new Map;for(const el of yl(Ol))for(const fc of uc(Xo,el.fieldPath))switch(fc.op){case"==":case"in":Dl.set(el.fieldPath.canonicalString(),fc.value);break;case"not-in":case"!=":return Dl.set(el.fieldPath.canonicalString(),fc.value),Array.from(Dl.values())}return null}(Oe,ye),vi=function(Xo,Ol){const Dl=[];let el=!0;for(const fc of yl(Ol)){const Cd=0===fc.kind?mc(Xo,fc.fieldPath,Xo.startAt):yc(Xo,fc.fieldPath,Xo.startAt);Dl.push(Cd.value),el&&(el=Cd.inclusive)}return new Si(Dl,el)}(Oe,ye),cr=function(Xo,Ol){const Dl=[];let el=!0;for(const fc of yl(Ol)){const Cd=0===fc.kind?yc(Xo,fc.fieldPath,Xo.endAt):mc(Xo,fc.fieldPath,Xo.endAt);Dl.push(Cd.value),el&&(el=Cd.inclusive)}return new Si(Dl,el)}(Oe,ye),ts=this.hn(ye,Oe,vi),ds=this.hn(ye,Oe,cr),ko=this.ln(ye,Oe,Wn),ga=this.fn(ye.indexId,cn,ts,vi.inclusive,ds,cr.inclusive,ko);return Bn.forEach(ga,Xo=>o.H(Xo,t.limit).next(Ol=>{Ol.forEach(Dl=>{const el=Ji.fromSegments(Dl.documentKey);T.has(el)||(T=T.add(el),J.push(el))})}))}).next(()=>J)}return Bn.resolve(null)})}cn(e){let t=this.un.get(e);return t||(t=0===e.filters.length?[e]:Bf(ci.create(e.filters,"and")).map(o=>nc(e.path,e.collectionGroup,e.orderBy,o.getFilters(),e.limit,e.startAt,e.endAt)),this.un.set(e,t),t)}fn(e,t,o,d,_,T,J){const ye=(null!=t?t.length:1)*Math.max(o.length,_.length),Oe=ye/(null!=t?t.length:1),gt=[];for(let cn=0;cn<ye;++cn){const Wn=t?this.dn(t[cn/Oe]):$f,vi=this.wn(e,Wn,o[cn%Oe],d),cr=this._n(e,Wn,_[cn%Oe],T),ts=J.map(ds=>this.wn(e,Wn,ds,!0));gt.push(...this.createRange(vi,cr,ts))}return gt}wn(e,t,o,d){const _=new Ka(e,Ji.empty(),t,o);return d?_:_.Je()}_n(e,t,o,d){const _=new Ka(e,Ji.empty(),t,o);return d?_.Je():_}an(e,t){const o=new Pu(t),d=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,d).next(_=>{let T=null;for(const J of _)o.tn(J)&&(!T||J.fields.length>T.fields.length)&&(T=J);return T})}getIndexType(e,t){let o=2;const d=this.cn(t);return Bn.forEach(d,_=>this.an(e,_).next(T=>{T?0!==o&&T.fields.length<function(J){let ye=new io(qs.comparator),Oe=!1;for(const gt of J.filters)for(const cn of gt.getFlattenedFilters())cn.field.isKeyField()||("array-contains"===cn.op||"array-contains-any"===cn.op?Oe=!0:ye=ye.add(cn.field));for(const gt of J.orderBy)gt.field.isKeyField()||(ye=ye.add(gt.field));return ye.size+(Oe?1:0)}(_)&&(o=1):o=0})).next(()=>null!==t.limit&&d.length>1&&2===o?1:o)}mn(e,t){const o=new Zo;for(const d of yl(e)){const _=t.data.field(d.fieldPath);if(null==_)return null;const T=o.He(d.kind);un.Ve._e(_,T)}return o.Qe()}dn(e){const t=new Zo;return un.Ve._e(e,t.He(0)),t.Qe()}gn(e,t){const o=new Zo;return un.Ve._e(at(this.databaseId,t),o.He(function(d){const _=yl(d);return 0===_.length?0:_[_.length-1].kind}(e))),o.Qe()}ln(e,t,o){if(null===o)return[];let d=[];d.push(new Zo);let _=0;for(const T of yl(e)){const J=o[_++];for(const ye of d)if(this.yn(t,T.fieldPath)&&yt(J))d=this.pn(d,T,J);else{const Oe=ye.He(T.kind);un.Ve._e(J,Oe)}}return this.In(d)}hn(e,t,o){return this.ln(e,t,o.position)}In(e){const t=[];for(let o=0;o<e.length;++o)t[o]=e[o].Qe();return t}pn(e,t,o){const d=[...e],_=[];for(const T of o.arrayValue.values||[])for(const J of d){const ye=new Zo;ye.seed(J.Qe()),un.Ve._e(T,ye.He(t.kind)),_.push(ye)}return _}yn(e,t){return!!e.filters.find(o=>o instanceof gi&&o.field.isEqual(t)&&("in"===o.op||"not-in"===o.op))}getFieldIndexes(e,t){const o=qp(e),d=Vf(e);return(t?o.j("collectionGroupIndex",IDBKeyRange.bound(t,t)):o.j()).next(_=>{const T=[];return Bn.forEach(_,J=>d.get([J.indexId,this.uid]).next(ye=>{T.push(function(Oe,gt){const cn=gt?new An(gt.sequenceNumber,new Rs(xu(gt.readTime),new Ji(Fr(gt.documentKey)),gt.largestBatchId)):An.empty(),Wn=Oe.fields.map(([vi,cr])=>new _t(qs.fromServerFormat(vi),cr));return new Ll(Oe.indexId,Oe.collectionGroup,Wn,cn)}(J,ye))})).next(()=>T)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((o,d)=>{const _=o.indexState.sequenceNumber-d.indexState.sequenceNumber;return 0!==_?_:As(o.collectionGroup,d.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,o){const d=qp(e),_=Vf(e);return this.Tn(e).next(T=>d.j("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(J=>Bn.forEach(J,ye=>_.put(C(ye.indexId,this.user,T,o)))))}updateIndexEntries(e,t){const o=new Map;return Bn.forEach(t,(d,_)=>{const T=o.get(d.collectionGroup);return(T?Bn.resolve(T):this.getFieldIndexes(e,d.collectionGroup)).next(J=>(o.set(d.collectionGroup,J),Bn.forEach(J,ye=>this.En(e,d,ye).next(Oe=>{const gt=this.An(_,ye);return Oe.isEqual(gt)?Bn.resolve():this.vn(e,_,ye,Oe,gt)}))))})}Rn(e,t,o,d){return Fd(e).put({indexId:d.indexId,uid:this.uid,arrayValue:d.arrayValue,directionalValue:d.directionalValue,orderedDocumentKey:this.gn(o,t.key),documentKey:t.key.path.toArray()})}Pn(e,t,o,d){return Fd(e).delete([d.indexId,this.uid,d.arrayValue,d.directionalValue,this.gn(o,t.key),t.key.path.toArray()])}En(e,t,o){const d=Fd(e);let _=new io(Vl);return d.X({index:"documentKeyIndex",range:IDBKeyRange.only([o.indexId,this.uid,this.gn(o,t)])},(T,J)=>{_=_.add(new Ka(o.indexId,t,J.arrayValue,J.directionalValue))}).next(()=>_)}An(e,t){let o=new io(Vl);const d=this.mn(t,e);if(null==d)return o;const _=La(t);if(null!=_){const T=e.data.field(_.fieldPath);if(yt(T))for(const J of T.arrayValue.values||[])o=o.add(new Ka(t.indexId,e.key,this.dn(J),d))}else o=o.add(new Ka(t.indexId,e.key,$f,d));return o}vn(e,t,o,d,_){wi("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const T=[];return function(J,ye,Oe,gt,cn){const Wn=J.getIterator(),vi=ye.getIterator();let cr=sa(Wn),ts=sa(vi);for(;cr||ts;){let ds=!1,ko=!1;if(cr&&ts){const ga=Oe(cr,ts);ga<0?ko=!0:ga>0&&(ds=!0)}else null!=cr?ko=!0:ds=!0;ds?(gt(ts),ts=sa(vi)):ko?(cn(cr),cr=sa(Wn)):(cr=sa(Wn),ts=sa(vi))}}(d,_,Vl,J=>{T.push(this.Rn(e,t,o,J))},J=>{T.push(this.Pn(e,t,o,J))}),Bn.waitFor(T)}Tn(e){let t=1;return Vf(e).X({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(o,d,_)=>{_.done(),t=d.sequenceNumber+1}).next(()=>t)}createRange(e,t,o){o=o.sort((T,J)=>Vl(T,J)).filter((T,J,ye)=>!J||0!==Vl(T,ye[J-1]));const d=[];d.push(e);for(const T of o){const J=Vl(T,e),ye=Vl(T,t);if(0===J)d[0]=e.Je();else if(J>0&&ye<0)d.push(T),d.push(T.Je());else if(ye>0)break}d.push(t);const _=[];for(let T=0;T<d.length;T+=2){if(this.bn(d[T],d[T+1]))return[];_.push(IDBKeyRange.bound([d[T].indexId,this.uid,d[T].arrayValue,d[T].directionalValue,$f,[]],[d[T+1].indexId,this.uid,d[T+1].arrayValue,d[T+1].directionalValue,$f,[]]))}return _}bn(e,t){return Vl(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(Bd)}getMinOffset(e,t){return Bn.mapArray(this.cn(t),o=>this.an(e,o).next(d=>d||gr())).next(Bd)}}function Fm(r){return or(r,"collectionParents")}function Fd(r){return or(r,"indexEntries")}function qp(r){return or(r,"indexConfiguration")}function Vf(r){return or(r,"indexState")}function Bd(r){zr(0!==r.length);let e=r[0].indexState.offset,t=e.largestBatchId;for(let o=1;o<r.length;o++){const d=r[o].indexState.offset;Ys(d,e)<0&&(e=d),t<d.largestBatchId&&(t=d.largestBatchId)}return new Rs(e.readTime,e.documentKey,t)}const Da={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Rl{constructor(e,t,o){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=o}static withCacheSize(e){return new Rl(e,Rl.DEFAULT_COLLECTION_PERCENTILE,Rl.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function Zp(r,e,t){const o=r.store("mutations"),d=r.store("documentMutations"),_=[],T=IDBKeyRange.only(t.batchId);let J=0;const ye=o.X({range:T},(gt,cn,Wn)=>(J++,Wn.delete()));_.push(ye.next(()=>{zr(1===J)}));const Oe=[];for(const gt of t.mutations){const cn=m(e,gt.key.path,t.batchId);_.push(d.delete(cn)),Oe.push(gt.key)}return Bn.waitFor(_).next(()=>Oe)}function $h(r){if(!r)return 0;let e;if(r.document)e=r.document;else if(r.unknownDocument)e=r.unknownDocument;else{if(!r.noDocument)throw gr();e=r.noDocument}return JSON.stringify(e).length}Rl.DEFAULT_COLLECTION_PERCENTILE=10,Rl.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Rl.DEFAULT=new Rl(41943040,Rl.DEFAULT_COLLECTION_PERCENTILE,Rl.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Rl.DISABLED=new Rl(-1,0,0);class Vh{constructor(e,t,o,d){this.userId=e,this.serializer=t,this.indexManager=o,this.referenceDelegate=d,this.Vn={}}static de(e,t,o,d){zr(""!==e.uid);const _=e.isAuthenticated()?e.uid:"";return new Vh(_,t,o,d)}checkEmpty(e){let t=!0;const o=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Ru(e).X({index:"userMutationsIndex",range:o},(d,_,T)=>{t=!1,T.done()}).next(()=>t)}addMutationBatch(e,t,o,d){const _=id(e),T=Ru(e);return T.add({}).next(J=>{zr("number"==typeof J);const ye=new wh(J,t,o,d),Oe=function(Wn,vi,cr){const ts=cr.baseMutations.map(ko=>ed(Wn.fe,ko)),ds=cr.mutations.map(ko=>ed(Wn.fe,ko));return{userId:vi,batchId:cr.batchId,localWriteTimeMs:cr.localWriteTime.toMillis(),baseMutations:ts,mutations:ds}}(this.serializer,this.userId,ye),gt=[];let cn=new io((Wn,vi)=>As(Wn.canonicalString(),vi.canonicalString()));for(const Wn of d){const vi=m(this.userId,Wn.key.path,J);cn=cn.add(Wn.key.path.popLast()),gt.push(T.put(Oe)),gt.push(_.put(vi,u))}return cn.forEach(Wn=>{gt.push(this.indexManager.addToCollectionParentIndex(e,Wn))}),e.addOnCommittedListener(()=>{this.Vn[J]=ye.keys()}),Bn.waitFor(gt).next(()=>ye)})}lookupMutationBatch(e,t){return Ru(e).get(t).next(o=>o?(zr(o.userId===this.userId),qc(this.serializer,o)):null)}Sn(e,t){return this.Vn[t]?Bn.resolve(this.Vn[t]):this.lookupMutationBatch(e,t).next(o=>{if(o){const d=o.keys();return this.Vn[t]=d,d}return null})}getNextMutationBatchAfterBatchId(e,t){const o=t+1,d=IDBKeyRange.lowerBound([this.userId,o]);let _=null;return Ru(e).X({index:"userMutationsIndex",range:d},(T,J,ye)=>{J.userId===this.userId&&(zr(J.batchId>=o),_=qc(this.serializer,J)),ye.done()}).next(()=>_)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let o=-1;return Ru(e).X({index:"userMutationsIndex",range:t,reverse:!0},(d,_,T)=>{o=_.batchId,T.done()}).next(()=>o)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Ru(e).j("userMutationsIndex",t).next(o=>o.map(d=>qc(this.serializer,d)))}getAllMutationBatchesAffectingDocumentKey(e,t){const o=E(this.userId,t.path),d=IDBKeyRange.lowerBound(o),_=[];return id(e).X({range:d},(T,J,ye)=>{const[Oe,gt,cn]=T,Wn=Fr(gt);if(Oe===this.userId&&t.path.isEqual(Wn))return Ru(e).get(cn).next(vi=>{if(!vi)throw gr();zr(vi.userId===this.userId),_.push(qc(this.serializer,vi))});ye.done()}).next(()=>_)}getAllMutationBatchesAffectingDocumentKeys(e,t){let o=new io(As);const d=[];return t.forEach(_=>{const T=E(this.userId,_.path),J=IDBKeyRange.lowerBound(T),ye=id(e).X({range:J},(Oe,gt,cn)=>{const[Wn,vi,cr]=Oe,ts=Fr(vi);Wn===this.userId&&_.path.isEqual(ts)?o=o.add(cr):cn.done()});d.push(ye)}),Bn.waitFor(d).next(()=>this.Dn(e,o))}getAllMutationBatchesAffectingQuery(e,t){const o=t.path,d=o.length+1,_=E(this.userId,o),T=IDBKeyRange.lowerBound(_);let J=new io(As);return id(e).X({range:T},(ye,Oe,gt)=>{const[cn,Wn,vi]=ye,cr=Fr(Wn);cn===this.userId&&o.isPrefixOf(cr)?cr.length===d&&(J=J.add(vi)):gt.done()}).next(()=>this.Dn(e,J))}Dn(e,t){const o=[],d=[];return t.forEach(_=>{d.push(Ru(e).get(_).next(T=>{if(null===T)throw gr();zr(T.userId===this.userId),o.push(qc(this.serializer,T))}))}),Bn.waitFor(d).next(()=>o)}removeMutationBatch(e,t){return Zp(e.ht,this.userId,t).next(o=>(e.addOnCommittedListener(()=>{this.Cn(t.batchId)}),Bn.forEach(o,d=>this.referenceDelegate.markPotentiallyOrphaned(e,d))))}Cn(e){delete this.Vn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return Bn.resolve();const o=IDBKeyRange.lowerBound([this.userId]),d=[];return id(e).X({range:o},(_,T,J)=>{if(_[0]===this.userId){const ye=Fr(_[1]);d.push(ye)}else J.done()}).next(()=>{zr(0===d.length)})})}containsKey(e,t){return Xp(e,this.userId,t)}xn(e){return Qp(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function Xp(r,e,t){const o=E(e,t.path),d=o[1],_=IDBKeyRange.lowerBound(o);let T=!1;return id(r).X({range:_,Y:!0},(J,ye,Oe)=>{const[gt,cn,Wn]=J;gt===e&&cn===d&&(T=!0),Oe.done()}).next(()=>T)}function Ru(r){return or(r,"mutations")}function id(r){return or(r,"documentMutations")}function Qp(r){return or(r,"mutationQueues")}class gu{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new gu(0)}static Mn(){return new gu(-1)}}class l0{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.$n(e).next(t=>{const o=new gu(t.highestTargetId);return t.highestTargetId=o.next(),this.On(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.$n(e).next(t=>Zr.fromTimestamp(new Ko(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.$n(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,o){return this.$n(e).next(d=>(d.highestListenSequenceNumber=t,o&&(d.lastRemoteSnapshotVersion=o.toTimestamp()),t>d.highestListenSequenceNumber&&(d.highestListenSequenceNumber=t),this.On(e,d)))}addTargetData(e,t){return this.Fn(e,t).next(()=>this.$n(e).next(o=>(o.targetCount+=1,this.Bn(t,o),this.On(e,o))))}updateTargetData(e,t){return this.Fn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>Ou(e).delete(t.targetId)).next(()=>this.$n(e)).next(o=>(zr(o.targetCount>0),o.targetCount-=1,this.On(e,o)))}removeTargets(e,t,o){let d=0;const _=[];return Ou(e).X((T,J)=>{const ye=Mu(J);ye.sequenceNumber<=t&&null===o.get(ye.targetId)&&(d++,_.push(this.removeTargetData(e,ye)))}).next(()=>Bn.waitFor(_)).next(()=>d)}forEachTarget(e,t){return Ou(e).X((o,d)=>{const _=Mu(d);t(_)})}$n(e){return Bm(e).get("targetGlobalKey").next(t=>(zr(null!==t),t))}On(e,t){return Bm(e).put("targetGlobalKey",t)}Fn(e,t){return Ou(e).put(Ff(this.serializer,t))}Bn(e,t){let o=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,o=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,o=!0),o}getTargetCount(e){return this.$n(e).next(t=>t.targetCount)}getTargetData(e,t){const o=wl(t),d=IDBKeyRange.bound([o,Number.NEGATIVE_INFINITY],[o,Number.POSITIVE_INFINITY]);let _=null;return Ou(e).X({range:d,index:"queryTargetsIndex"},(T,J,ye)=>{const Oe=Mu(J);Pl(t,Oe.target)&&(_=Oe,ye.done())}).next(()=>_)}addMatchingKeys(e,t,o){const d=[],_=Zc(e);return t.forEach(T=>{const J=ni(T.path);d.push(_.put({targetId:o,path:J})),d.push(this.referenceDelegate.addReference(e,o,T))}),Bn.waitFor(d)}removeMatchingKeys(e,t,o){const d=Zc(e);return Bn.forEach(t,_=>{const T=ni(_.path);return Bn.waitFor([d.delete([o,T]),this.referenceDelegate.removeReference(e,o,_)])})}removeMatchingKeysForTargetId(e,t){const o=Zc(e),d=IDBKeyRange.bound([t],[t+1],!1,!0);return o.delete(d)}getMatchingKeysForTargetId(e,t){const o=IDBKeyRange.bound([t],[t+1],!1,!0),d=Zc(e);let _=mo();return d.X({range:o,Y:!0},(T,J,ye)=>{const Oe=Fr(T[1]),gt=new Ji(Oe);_=_.add(gt)}).next(()=>_)}containsKey(e,t){const o=ni(t.path),d=IDBKeyRange.bound([o],[oc(o)],!1,!0);let _=0;return Zc(e).X({index:"documentTargetsIndex",Y:!0,range:d},([T,J],ye,Oe)=>{0!==T&&(_++,Oe.done())}).next(()=>_>0)}le(e,t){return Ou(e).get(t).next(o=>o?Mu(o):null)}}function Ou(r){return or(r,"targets")}function Bm(r){return or(r,"targetGlobal")}function Zc(r){return or(r,"targetDocuments")}function Jp([r,e],[t,o]){const d=As(r,t);return 0===d?As(e,o):d}class $m{constructor(e){this.Ln=e,this.buffer=new io(Jp),this.qn=0}Un(){return++this.qn}Kn(e){const t=[e,this.Un()];if(this.buffer.size<this.Ln)this.buffer=this.buffer.add(t);else{const o=this.buffer.last();Jp(t,o)<0&&(this.buffer=this.buffer.delete(o).add(t))}}get maxValue(){return this.buffer.last()[0]}}class ku{constructor(e,t,o){this.garbageCollector=e,this.asyncQueue=t,this.localStore=o,this.Gn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Qn(6e4)}stop(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}get started(){return null!==this.Gn}Qn(e){var t=this;wi("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,c.Z)(function*(){t.Gn=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(o){ba(o)?wi("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",o):yield Ca(o)}yield t.Qn(3e5)}))}}class hv{constructor(e,t){this.jn=e,this.params=t}calculateTargetCount(e,t){return this.jn.zn(e).next(o=>Math.floor(t/100*o))}nthSequenceNumber(e,t){if(0===t)return Bn.resolve(Ee.ct);const o=new $m(t);return this.jn.forEachTarget(e,d=>o.Kn(d.sequenceNumber)).next(()=>this.jn.Wn(e,d=>o.Kn(d))).next(()=>o.maxValue)}removeTargets(e,t,o){return this.jn.removeTargets(e,t,o)}removeOrphanedDocuments(e,t){return this.jn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(wi("LruGarbageCollector","Garbage collection skipped; disabled"),Bn.resolve(Da)):this.getCacheSize(e).next(o=>o<this.params.cacheSizeCollectionThreshold?(wi("LruGarbageCollector",`Garbage collection skipped; Cache size ${o} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Da):this.Hn(e,t))}getCacheSize(e){return this.jn.getCacheSize(e)}Hn(e,t){let o,d,_,T,J,ye,Oe;const gt=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(cn=>(cn>this.params.maximumSequenceNumbersToCollect?(wi("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${cn}`),d=this.params.maximumSequenceNumbersToCollect):d=cn,T=Date.now(),this.nthSequenceNumber(e,d))).next(cn=>(o=cn,J=Date.now(),this.removeTargets(e,o,t))).next(cn=>(_=cn,ye=Date.now(),this.removeOrphanedDocuments(e,o))).next(cn=>(Oe=Date.now(),eo()<=ze.in.DEBUG&&wi("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${T-gt}ms\n\tDetermined least recently used ${d} in `+(J-T)+`ms\n\tRemoved ${_} targets in `+(ye-J)+`ms\n\tRemoved ${cn} documents in `+(Oe-ye)+`ms\nTotal Duration: ${Oe-gt}ms`),Bn.resolve({didRun:!0,sequenceNumbersCollected:d,targetsRemoved:_,documentsRemoved:cn})))}}class zf{constructor(e,t){this.db=e,this.garbageCollector=function Uf(r,e){return new hv(r,e)}(this,t)}zn(e){const t=this.Jn(e);return this.db.getTargetCache().getTargetCount(e).next(o=>t.next(d=>o+d))}Jn(e){let t=0;return this.Wn(e,o=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Wn(e,t){return this.Yn(e,(o,d)=>t(d))}addReference(e,t,o){return jf(e,o)}removeReference(e,t,o){return jf(e,o)}removeTargets(e,t,o){return this.db.getTargetCache().removeTargets(e,t,o)}markPotentiallyOrphaned(e,t){return jf(e,t)}Xn(e,t){return function(o,d){let _=!1;return Qp(o).Z(T=>Xp(o,T,d).next(J=>(J&&(_=!0),Bn.resolve(!J)))).next(()=>_)}(e,t)}removeOrphanedDocuments(e,t){const o=this.db.getRemoteDocumentCache().newChangeBuffer(),d=[];let _=0;return this.Yn(e,(T,J)=>{if(J<=t){const ye=this.Xn(e,T).next(Oe=>{if(!Oe)return _++,o.getEntry(e,T).next(()=>(o.removeEntry(T,Zr.min()),Zc(e).delete([0,ni(T.path)])))});d.push(ye)}}).next(()=>Bn.waitFor(d)).next(()=>o.apply(e)).next(()=>_)}removeTarget(e,t){const o=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,o)}updateLimboDocument(e,t){return jf(e,t)}Yn(e,t){const o=Zc(e);let d,_=Ee.ct;return o.X({index:"documentTargetsIndex"},([T,J],{path:ye,sequenceNumber:Oe})=>{0===T?(_!==Ee.ct&&t(new Ji(Fr(d)),_),_=Oe,d=ye):_=Ee.ct}).next(()=>{_!==Ee.ct&&t(new Ji(Fr(d)),_)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function jf(r,e){return Zc(r).put((o=r.currentSequenceNumber,{targetId:0,path:ni(e.path),sequenceNumber:o}));var o}class Hf{constructor(){this.changes=new ka(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,xi.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const o=this.changes.get(t);return void 0!==o?Bn.resolve(o):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Wf{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,o){return rd(e).put(o)}removeEntry(e,t,o){return rd(e).delete(function(d,_){const T=d.path.toArray();return[T.slice(0,T.length-2),T[T.length-2],Nd(_),T[T.length-1]]}(t,o))}updateMetadata(e,t){return this.getMetadata(e).next(o=>(o.byteSize+=t,this.Zn(e,o)))}getEntry(e,t){let o=xi.newInvalidDocument(t);return rd(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(Uh(t))},(d,_)=>{o=this.ts(t,_)}).next(()=>o)}es(e,t){let o={size:0,document:xi.newInvalidDocument(t)};return rd(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(Uh(t))},(d,_)=>{o={document:this.ts(t,_),size:$h(_)}}).next(()=>o)}getEntries(e,t){let o=Ua();return this.ns(e,t,(d,_)=>{const T=this.ts(d,_);o=o.insert(d,T)}).next(()=>o)}ss(e,t){let o=Ua(),d=new Br(Ji.comparator);return this.ns(e,t,(_,T)=>{const J=this.ts(_,T);o=o.insert(_,J),d=d.insert(_,$h(T))}).next(()=>({documents:o,rs:d}))}ns(e,t,o){if(t.isEmpty())return Bn.resolve();let d=new io(sd);t.forEach(ye=>d=d.add(ye));const _=IDBKeyRange.bound(Uh(d.first()),Uh(d.last())),T=d.getIterator();let J=T.getNext();return rd(e).X({index:"documentKeyIndex",range:_},(ye,Oe,gt)=>{const cn=Ji.fromSegments([...Oe.prefixPath,Oe.collectionGroup,Oe.documentId]);for(;J&&sd(J,cn)<0;)o(J,null),J=T.getNext();J&&J.isEqual(cn)&&(o(J,Oe),J=T.hasNext()?T.getNext():null),J?gt.G(Uh(J)):gt.done()}).next(()=>{for(;J;)o(J,null),J=T.hasNext()?T.getNext():null})}getDocumentsMatchingQuery(e,t,o,d){const _=t.path,T=[_.popLast().toArray(),_.lastSegment(),Nd(o.readTime),o.documentKey.path.isEmpty()?"":o.documentKey.path.lastSegment()],J=[_.popLast().toArray(),_.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return rd(e).j(IDBKeyRange.bound(T,J,!0)).next(ye=>{let Oe=Ua();for(const gt of ye){const cn=this.ts(Ji.fromSegments(gt.prefixPath.concat(gt.collectionGroup,gt.documentId)),gt);cn.isFoundDocument()&&(wo(t,cn)||d.has(cn.key))&&(Oe=Oe.insert(cn.key,cn))}return Oe})}getAllFromCollectionGroup(e,t,o,d){let _=Ua();const T=tg(t,o),J=tg(t,Rs.max());return rd(e).X({index:"collectionGroupIndex",range:IDBKeyRange.bound(T,J,!0)},(ye,Oe,gt)=>{const cn=this.ts(Ji.fromSegments(Oe.prefixPath.concat(Oe.collectionGroup,Oe.documentId)),Oe);_=_.insert(cn.key,cn),_.size===d&&gt.done()}).next(()=>_)}newChangeBuffer(e){return new eg(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return Gf(e).get("remoteDocumentGlobalKey").next(t=>(zr(!!t),t))}Zn(e,t){return Gf(e).put("remoteDocumentGlobalKey",t)}ts(e,t){if(t){const o=function Om(r,e){let t;if(e.document)t=Nc(r.fe,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const o=Ji.fromSegments(e.noDocument.path),d=xu(e.noDocument.readTime);t=xi.newNoDocument(o,d),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return gr();{const o=Ji.fromSegments(e.unknownDocument.path),d=xu(e.unknownDocument.version);t=xi.newUnknownDocument(o,d)}}return e.readTime&&t.setReadTime(function(o){const d=new Ko(o[0],o[1]);return Zr.fromTimestamp(d)}(e.readTime)),t}(this.serializer,t);if(!o.isNoDocument()||!o.version.isEqual(Zr.min()))return o}return xi.newInvalidDocument(e)}}function Nu(r){return new Wf(r)}class eg extends Hf{constructor(e,t){super(),this.os=e,this.trackRemovals=t,this.us=new ka(o=>o.toString(),(o,d)=>o.isEqual(d))}applyChanges(e){const t=[];let o=0,d=new io((_,T)=>As(_.canonicalString(),T.canonicalString()));return this.changes.forEach((_,T)=>{const J=this.us.get(_);if(t.push(this.os.removeEntry(e,_,J.readTime)),T.isValidDocument()){const ye=Wp(this.os.serializer,T);d=d.add(_.path.popLast());const Oe=$h(ye);o+=Oe-J.size,t.push(this.os.addEntry(e,_,ye))}else if(o-=J.size,this.trackRemovals){const ye=Wp(this.os.serializer,T.convertToNoDocument(Zr.min()));t.push(this.os.addEntry(e,_,ye))}}),d.forEach(_=>{t.push(this.os.indexManager.addToCollectionParentIndex(e,_))}),t.push(this.os.updateMetadata(e,o)),Bn.waitFor(t)}getFromCache(e,t){return this.os.es(e,t).next(o=>(this.us.set(t,{size:o.size,readTime:o.document.readTime}),o.document))}getAllFromCache(e,t){return this.os.ss(e,t).next(({documents:o,rs:d})=>(d.forEach((_,T)=>{this.us.set(_,{size:T,readTime:o.get(_).readTime})}),o))}}function Gf(r){return or(r,"remoteDocumentGlobal")}function rd(r){return or(r,"remoteDocumentsV14")}function Uh(r){const e=r.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function tg(r,e){const t=e.documentKey.path.toArray();return[r,Nd(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function sd(r,e){const t=r.path.toArray(),o=e.path.toArray();let d=0;for(let _=0;_<t.length-2&&_<o.length-2;++_)if(d=As(t[_],o[_]),d)return d;return d=As(t.length,o.length),d||(d=As(t[t.length-2],o[o.length-2]),d||As(t[t.length-1],o[o.length-1]))}class fv{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class Vm{constructor(e,t,o,d){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=o,this.indexManager=d}getDocument(e,t){let o=null;return this.documentOverlayCache.getOverlay(e,t).next(d=>(o=d,this.remoteDocumentCache.getEntry(e,t))).next(d=>(null!==o&&Ku(o.mutation,d,bo.empty(),Ko.now()),d))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(o=>this.getLocalViewOfDocuments(e,o,mo()).next(()=>o))}getLocalViewOfDocuments(e,t,o=mo()){const d=ic();return this.populateOverlays(e,d,t).next(()=>this.computeViews(e,t,d,o).next(_=>{let T=dl();return _.forEach((J,ye)=>{T=T.insert(J,ye.overlayedDocument)}),T}))}getOverlayedDocuments(e,t){const o=ic();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,mo()))}populateOverlays(e,t,o){const d=[];return o.forEach(_=>{t.has(_)||d.push(_)}),this.documentOverlayCache.getOverlays(e,d).next(_=>{_.forEach((T,J)=>{t.set(T,J)})})}computeViews(e,t,o,d){let _=Ua();const T=rc(),J=rc();return t.forEach((ye,Oe)=>{const gt=o.get(Oe.key);d.has(Oe.key)&&(void 0===gt||gt.mutation instanceof Ac)?_=_.insert(Oe.key,Oe):void 0!==gt?(T.set(Oe.key,gt.mutation.getFieldMask()),Ku(gt.mutation,Oe,gt.mutation.getFieldMask(),Ko.now())):T.set(Oe.key,bo.empty())}),this.recalculateAndSaveOverlays(e,_).next(ye=>(ye.forEach((Oe,gt)=>T.set(Oe,gt)),t.forEach((Oe,gt)=>{var cn;return J.set(Oe,new fv(gt,null!==(cn=T.get(Oe))&&void 0!==cn?cn:null))}),J))}recalculateAndSaveOverlays(e,t){const o=rc();let d=new Br((T,J)=>T-J),_=mo();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(T=>{for(const J of T)J.keys().forEach(ye=>{const Oe=t.get(ye);if(null===Oe)return;let gt=o.get(ye)||bo.empty();gt=J.applyToLocalView(Oe,gt),o.set(ye,gt);const cn=(d.get(J.batchId)||mo()).add(ye);d=d.insert(J.batchId,cn)})}).next(()=>{const T=[],J=d.getReverseIterator();for(;J.hasNext();){const ye=J.getNext(),Oe=ye.key,gt=ye.value,cn=ou();gt.forEach(Wn=>{if(!_.has(Wn)){const vi=Mf(t.get(Wn),o.get(Wn));null!==vi&&cn.set(Wn,vi),_=_.add(Wn)}}),T.push(this.documentOverlayCache.saveOverlays(e,Oe,cn))}return Bn.waitFor(T)}).next(()=>o)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(o=>this.recalculateAndSaveOverlays(e,o))}getDocumentsMatchingQuery(e,t,o){return Ji.isDocumentKey((d=t).path)&&null===d.collectionGroup&&0===d.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):Q(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,o):this.getDocumentsMatchingCollectionQuery(e,t,o);var d}getNextDocuments(e,t,o,d){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,o,d).next(_=>{const T=d-_.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,o.largestBatchId,d-_.size):Bn.resolve(ic());let J=-1,ye=_;return T.next(Oe=>Bn.forEach(Oe,(gt,cn)=>(J<cn.largestBatchId&&(J=cn.largestBatchId),_.get(gt)?Bn.resolve():this.remoteDocumentCache.getEntry(e,gt).next(Wn=>{ye=ye.insert(gt,Wn)}))).next(()=>this.populateOverlays(e,Oe,_)).next(()=>this.computeViews(e,ye,Oe,mo())).next(gt=>({batchId:J,changes:El(gt)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Ji(t)).next(o=>{let d=dl();return o.isFoundDocument()&&(d=d.insert(o.key,o)),d})}getDocumentsMatchingCollectionGroupQuery(e,t,o){const d=t.collectionGroup;let _=dl();return this.indexManager.getCollectionParents(e,d).next(T=>Bn.forEach(T,J=>{const ye=(Oe=t,gt=J.child(d),new Ga(gt,null,Oe.explicitOrderBy.slice(),Oe.filters.slice(),Oe.limit,Oe.limitType,Oe.startAt,Oe.endAt));var Oe,gt;return this.getDocumentsMatchingCollectionQuery(e,ye,o).next(Oe=>{Oe.forEach((gt,cn)=>{_=_.insert(gt,cn)})})}).next(()=>_))}getDocumentsMatchingCollectionQuery(e,t,o){let d;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,o.largestBatchId).next(_=>(d=_,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,o,d))).next(_=>{d.forEach((J,ye)=>{const Oe=ye.getKey();null===_.get(Oe)&&(_=_.insert(Oe,xi.newInvalidDocument(Oe)))});let T=dl();return _.forEach((J,ye)=>{const Oe=d.get(J);void 0!==Oe&&Ku(Oe.mutation,ye,bo.empty(),Ko.now()),wo(t,ye)&&(T=T.insert(J,ye))}),T})}}class pv{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,t){return Bn.resolve(this.cs.get(t))}saveBundleMetadata(e,t){var o;return this.cs.set(t.id,{id:(o=t).id,version:o.version,createTime:pl(o.createTime)}),Bn.resolve()}getNamedQuery(e,t){return Bn.resolve(this.hs.get(t))}saveNamedQuery(e,t){return this.hs.set(t.name,{name:(o=t).name,query:v(o.bundledQuery),readTime:pl(o.readTime)}),Bn.resolve();var o}}class ng{constructor(){this.overlays=new Br(Ji.comparator),this.ls=new Map}getOverlay(e,t){return Bn.resolve(this.overlays.get(t))}getOverlays(e,t){const o=ic();return Bn.forEach(t,d=>this.getOverlay(e,d).next(_=>{null!==_&&o.set(d,_)})).next(()=>o)}saveOverlays(e,t,o){return o.forEach((d,_)=>{this.we(e,t,_)}),Bn.resolve()}removeOverlaysForBatchId(e,t,o){const d=this.ls.get(o);return void 0!==d&&(d.forEach(_=>this.overlays=this.overlays.remove(_)),this.ls.delete(o)),Bn.resolve()}getOverlaysForCollection(e,t,o){const d=ic(),_=t.length+1,T=new Ji(t.child("")),J=this.overlays.getIteratorFrom(T);for(;J.hasNext();){const ye=J.getNext().value,Oe=ye.getKey();if(!t.isPrefixOf(Oe.path))break;Oe.path.length===_&&ye.largestBatchId>o&&d.set(ye.getKey(),ye)}return Bn.resolve(d)}getOverlaysForCollectionGroup(e,t,o,d){let _=new Br((Oe,gt)=>Oe-gt);const T=this.overlays.getIterator();for(;T.hasNext();){const Oe=T.getNext().value;if(Oe.getKey().getCollectionGroup()===t&&Oe.largestBatchId>o){let gt=_.get(Oe.largestBatchId);null===gt&&(gt=ic(),_=_.insert(Oe.largestBatchId,gt)),gt.set(Oe.getKey(),Oe)}}const J=ic(),ye=_.getIterator();for(;ye.hasNext()&&(ye.getNext().value.forEach((Oe,gt)=>J.set(Oe,gt)),!(J.size()>=d)););return Bn.resolve(J)}we(e,t,o){const d=this.overlays.get(o.key);if(null!==d){const T=this.ls.get(d.largestBatchId).delete(o.key);this.ls.set(d.largestBatchId,T)}this.overlays=this.overlays.insert(o.key,new ac(t,o));let _=this.ls.get(t);void 0===_&&(_=mo(),this.ls.set(t,_)),this.ls.set(t,_.add(o.key))}}class Yf{constructor(){this.fs=new io(Gl.ds),this.ws=new io(Gl._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,t){const o=new Gl(e,t);this.fs=this.fs.add(o),this.ws=this.ws.add(o)}gs(e,t){e.forEach(o=>this.addReference(o,t))}removeReference(e,t){this.ys(new Gl(e,t))}ps(e,t){e.forEach(o=>this.removeReference(o,t))}Is(e){const t=new Ji(new zs([])),o=new Gl(t,e),d=new Gl(t,e+1),_=[];return this.ws.forEachInRange([o,d],T=>{this.ys(T),_.push(T.key)}),_}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const t=new Ji(new zs([])),o=new Gl(t,e),d=new Gl(t,e+1);let _=mo();return this.ws.forEachInRange([o,d],T=>{_=_.add(T.key)}),_}containsKey(e){const t=new Gl(e,0),o=this.fs.firstAfterOrEqual(t);return null!==o&&e.isEqual(o.key)}}class Gl{constructor(e,t){this.key=e,this.As=t}static ds(e,t){return Ji.comparator(e.key,t.key)||As(e.As,t.As)}static _s(e,t){return As(e.As,t.As)||Ji.comparator(e.key,t.key)}}class Um{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.vs=1,this.Rs=new io(Gl.ds)}checkEmpty(e){return Bn.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,o,d){const _=this.vs;this.vs++;const T=new wh(_,t,o,d);this.mutationQueue.push(T);for(const J of d)this.Rs=this.Rs.add(new Gl(J.key,_)),this.indexManager.addToCollectionParentIndex(e,J.key.path.popLast());return Bn.resolve(T)}lookupMutationBatch(e,t){return Bn.resolve(this.Ps(t))}getNextMutationBatchAfterBatchId(e,t){const d=this.bs(t+1),_=d<0?0:d;return Bn.resolve(this.mutationQueue.length>_?this.mutationQueue[_]:null)}getHighestUnacknowledgedBatchId(){return Bn.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return Bn.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const o=new Gl(t,0),d=new Gl(t,Number.POSITIVE_INFINITY),_=[];return this.Rs.forEachInRange([o,d],T=>{const J=this.Ps(T.As);_.push(J)}),Bn.resolve(_)}getAllMutationBatchesAffectingDocumentKeys(e,t){let o=new io(As);return t.forEach(d=>{const _=new Gl(d,0),T=new Gl(d,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([_,T],J=>{o=o.add(J.As)})}),Bn.resolve(this.Vs(o))}getAllMutationBatchesAffectingQuery(e,t){const o=t.path,d=o.length+1;let _=o;Ji.isDocumentKey(_)||(_=_.child(""));const T=new Gl(new Ji(_),0);let J=new io(As);return this.Rs.forEachWhile(ye=>{const Oe=ye.key.path;return!!o.isPrefixOf(Oe)&&(Oe.length===d&&(J=J.add(ye.As)),!0)},T),Bn.resolve(this.Vs(J))}Vs(e){const t=[];return e.forEach(o=>{const d=this.Ps(o);null!==d&&t.push(d)}),t}removeMutationBatch(e,t){zr(0===this.Ss(t.batchId,"removed")),this.mutationQueue.shift();let o=this.Rs;return Bn.forEach(t.mutations,d=>{const _=new Gl(d.key,t.batchId);return o=o.delete(_),this.referenceDelegate.markPotentiallyOrphaned(e,d.key)}).next(()=>{this.Rs=o})}Cn(e){}containsKey(e,t){const o=new Gl(t,0),d=this.Rs.firstAfterOrEqual(o);return Bn.resolve(t.isEqual(d&&d.key))}performConsistencyCheck(e){return Bn.resolve()}Ss(e,t){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const t=this.bs(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class zm{constructor(e){this.Ds=e,this.docs=new Br(Ji.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const o=t.key,d=this.docs.get(o),_=d?d.size:0,T=this.Ds(t);return this.docs=this.docs.insert(o,{document:t.mutableCopy(),size:T}),this.size+=T-_,this.indexManager.addToCollectionParentIndex(e,o.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const o=this.docs.get(t);return Bn.resolve(o?o.document.mutableCopy():xi.newInvalidDocument(t))}getEntries(e,t){let o=Ua();return t.forEach(d=>{const _=this.docs.get(d);o=o.insert(d,_?_.document.mutableCopy():xi.newInvalidDocument(d))}),Bn.resolve(o)}getDocumentsMatchingQuery(e,t,o,d){let _=Ua();const T=t.path,J=new Ji(T.child("")),ye=this.docs.getIteratorFrom(J);for(;ye.hasNext();){const{key:Oe,value:{document:gt}}=ye.getNext();if(!T.isPrefixOf(Oe.path))break;Oe.path.length>T.length+1||Ys(xs(gt),o)<=0||(d.has(gt.key)||wo(t,gt))&&(_=_.insert(gt.key,gt.mutableCopy()))}return Bn.resolve(_)}getAllFromCollectionGroup(e,t,o,d){gr()}Cs(e,t){return Bn.forEach(this.docs,o=>t(o))}newChangeBuffer(e){return new c0(this)}getSize(e){return Bn.resolve(this.size)}}class c0 extends Hf{constructor(e){super(),this.os=e}applyChanges(e){const t=[];return this.changes.forEach((o,d)=>{d.isValidDocument()?t.push(this.os.addEntry(e,d)):this.os.removeEntry(o)}),Bn.waitFor(t)}getFromCache(e,t){return this.os.getEntry(e,t)}getAllFromCache(e,t){return this.os.getEntries(e,t)}}class gv{constructor(e){this.persistence=e,this.xs=new ka(t=>wl(t),Pl),this.lastRemoteSnapshotVersion=Zr.min(),this.highestTargetId=0,this.Ns=0,this.ks=new Yf,this.targetCount=0,this.Ms=gu.kn()}forEachTarget(e,t){return this.xs.forEach((o,d)=>t(d)),Bn.resolve()}getLastRemoteSnapshotVersion(e){return Bn.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Bn.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),Bn.resolve(this.highestTargetId)}setTargetsMetadata(e,t,o){return o&&(this.lastRemoteSnapshotVersion=o),t>this.Ns&&(this.Ns=t),Bn.resolve()}Fn(e){this.xs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ms=new gu(t),this.highestTargetId=t),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,t){return this.Fn(t),this.targetCount+=1,Bn.resolve()}updateTargetData(e,t){return this.Fn(t),Bn.resolve()}removeTargetData(e,t){return this.xs.delete(t.target),this.ks.Is(t.targetId),this.targetCount-=1,Bn.resolve()}removeTargets(e,t,o){let d=0;const _=[];return this.xs.forEach((T,J)=>{J.sequenceNumber<=t&&null===o.get(J.targetId)&&(this.xs.delete(T),_.push(this.removeMatchingKeysForTargetId(e,J.targetId)),d++)}),Bn.waitFor(_).next(()=>d)}getTargetCount(e){return Bn.resolve(this.targetCount)}getTargetData(e,t){const o=this.xs.get(t)||null;return Bn.resolve(o)}addMatchingKeys(e,t,o){return this.ks.gs(t,o),Bn.resolve()}removeMatchingKeys(e,t,o){this.ks.ps(t,o);const d=this.persistence.referenceDelegate,_=[];return d&&t.forEach(T=>{_.push(d.markPotentiallyOrphaned(e,T))}),Bn.waitFor(_)}removeMatchingKeysForTargetId(e,t){return this.ks.Is(t),Bn.resolve()}getMatchingKeysForTargetId(e,t){const o=this.ks.Es(t);return Bn.resolve(o)}containsKey(e,t){return Bn.resolve(this.ks.containsKey(t))}}class ig{constructor(e,t){this.$s={},this.overlays={},this.Os=new Ee(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new gv(this),this.indexManager=new Lm,this.remoteDocumentCache=new zm(o=>this.referenceDelegate.Ls(o)),this.serializer=new Lh(t),this.qs=new pv(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new ng,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let o=this.$s[e.toKey()];return o||(o=new Um(t,this.referenceDelegate),this.$s[e.toKey()]=o),o}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,t,o){wi("MemoryPersistence","Starting transaction:",e);const d=new mv(this.Os.next());return this.referenceDelegate.Us(),o(d).next(_=>this.referenceDelegate.Ks(d).next(()=>_)).toPromise().then(_=>(d.raiseOnCommittedEvent(),_))}Gs(e,t){return Bn.or(Object.values(this.$s).map(o=>()=>o.containsKey(e,t)))}}class mv extends ks{constructor(e){super(),this.currentSequenceNumber=e}}class rg{constructor(e){this.persistence=e,this.Qs=new Yf,this.js=null}static zs(e){return new rg(e)}get Ws(){if(this.js)return this.js;throw gr()}addReference(e,t,o){return this.Qs.addReference(o,t),this.Ws.delete(o.toString()),Bn.resolve()}removeReference(e,t,o){return this.Qs.removeReference(o,t),this.Ws.add(o.toString()),Bn.resolve()}markPotentiallyOrphaned(e,t){return this.Ws.add(t.toString()),Bn.resolve()}removeTarget(e,t){this.Qs.Is(t.targetId).forEach(d=>this.Ws.add(d.toString()));const o=this.persistence.getTargetCache();return o.getMatchingKeysForTargetId(e,t.targetId).next(d=>{d.forEach(_=>this.Ws.add(_.toString()))}).next(()=>o.removeTargetData(e,t))}Us(){this.js=new Set}Ks(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Bn.forEach(this.Ws,o=>{const d=Ji.fromPath(o);return this.Hs(e,d).next(_=>{_||t.removeEntry(d,Zr.min())})}).next(()=>(this.js=null,t.apply(e)))}updateLimboDocument(e,t){return this.Hs(e,t).next(o=>{o?this.Ws.delete(t.toString()):this.Ws.add(t.toString())})}Ls(e){return 0}Hs(e,t){return Bn.or([()=>Bn.resolve(this.Qs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Gs(e,t)])}}class u0{constructor(e){this.serializer=e}O(e,t,o,d){const _=new vl("createOrUpgrade",t);var J;o<1&&d>=1&&(e.createObjectStore("owner"),(J=e).createObjectStore("mutationQueues",{keyPath:"userId"}),J.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",ca,{unique:!0}),J.createObjectStore("documentMutations"),yv(e),function(J){J.createObjectStore("remoteDocuments")}(e));let T=Bn.resolve();return o<3&&d>=3&&(0!==o&&(function(J){J.deleteObjectStore("targetDocuments"),J.deleteObjectStore("targets"),J.deleteObjectStore("targetGlobal")}(e),yv(e)),T=T.next(()=>function(J){const ye=J.store("targetGlobal"),Oe={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Zr.min().toTimestamp(),targetCount:0};return ye.put("targetGlobalKey",Oe)}(_))),o<4&&d>=4&&(0!==o&&(T=T.next(()=>function(J,ye){return ye.store("mutations").j().next(Oe=>{J.deleteObjectStore("mutations"),J.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",ca,{unique:!0});const gt=ye.store("mutations"),cn=Oe.map(Wn=>gt.put(Wn));return Bn.waitFor(cn)})}(e,_))),T=T.next(()=>{!function(J){J.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),o<5&&d>=5&&(T=T.next(()=>this.Ys(_))),o<6&&d>=6&&(T=T.next(()=>(function(J){J.createObjectStore("remoteDocumentGlobal")}(e),this.Xs(_)))),o<7&&d>=7&&(T=T.next(()=>this.Zs(_))),o<8&&d>=8&&(T=T.next(()=>this.ti(e,_))),o<9&&d>=9&&(T=T.next(()=>{!function(J){J.objectStoreNames.contains("remoteDocumentChanges")&&J.deleteObjectStore("remoteDocumentChanges")}(e)})),o<10&&d>=10&&(T=T.next(()=>this.ei(_))),o<11&&d>=11&&(T=T.next(()=>{(function(J){J.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(J){J.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),o<12&&d>=12&&(T=T.next(()=>{!function(J){const ye=J.createObjectStore("documentOverlays",{keyPath:Sn});ye.createIndex("collectionPathOverlayIndex",kn,{unique:!1}),ye.createIndex("collectionGroupOverlayIndex",jn,{unique:!1})}(e)})),o<13&&d>=13&&(T=T.next(()=>function(J){const ye=J.createObjectStore("remoteDocumentsV14",{keyPath:g});ye.createIndex("documentKeyIndex",b),ye.createIndex("collectionGroupIndex",D)}(e)).next(()=>this.ni(e,_)).next(()=>e.deleteObjectStore("remoteDocuments"))),o<14&&d>=14&&(T=T.next(()=>this.si(e,_))),o<15&&d>=15&&(T=T.next(()=>function(J){J.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),J.createObjectStore("indexState",{keyPath:ke}).createIndex("sequenceNumberIndex",rt,{unique:!1}),J.createObjectStore("indexEntries",{keyPath:kt}).createIndex("documentKeyIndex",Bt,{unique:!1})}(e))),T}Xs(e){let t=0;return e.store("remoteDocuments").X((o,d)=>{t+=$h(d)}).next(()=>{const o={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",o)})}Ys(e){const t=e.store("mutationQueues"),o=e.store("mutations");return t.j().next(d=>Bn.forEach(d,_=>{const T=IDBKeyRange.bound([_.userId,-1],[_.userId,_.lastAcknowledgedBatchId]);return o.j("userMutationsIndex",T).next(J=>Bn.forEach(J,ye=>{zr(ye.userId===_.userId);const Oe=qc(this.serializer,ye);return Zp(e,_.userId,Oe).next(()=>{})}))}))}Zs(e){const t=e.store("targetDocuments"),o=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(d=>{const _=[];return o.X((T,J)=>{const ye=new zs(T),Oe=[0,ni(ye)];_.push(t.get(Oe).next(gt=>gt?Bn.resolve():t.put({targetId:0,path:ni(ye),sequenceNumber:d.highestListenSequenceNumber})))}).next(()=>Bn.waitFor(_))})}ti(e,t){e.createObjectStore("collectionParents",{keyPath:ue});const o=t.store("collectionParents"),d=new Kp,_=T=>{if(d.add(T)){const J=T.lastSegment(),ye=T.popLast();return o.put({collectionId:J,parent:ni(ye)})}};return t.store("remoteDocuments").X({Y:!0},(T,J)=>{const ye=new zs(T);return _(ye.popLast())}).next(()=>t.store("documentMutations").X({Y:!0},([T,J,ye],Oe)=>{const gt=Fr(J);return _(gt.popLast())}))}ei(e){const t=e.store("targets");return t.X((o,d)=>{const _=Mu(d),T=Ff(this.serializer,_);return t.put(T)})}ni(e,t){const o=t.store("remoteDocuments"),d=[];return o.X((_,T)=>{const J=t.store("remoteDocumentsV14"),ye=(Oe=T,Oe.document?new Ji(zs.fromString(Oe.document.name).popFirst(5)):Oe.noDocument?Ji.fromSegments(Oe.noDocument.path):Oe.unknownDocument?Ji.fromSegments(Oe.unknownDocument.path):gr()).path.toArray();var Oe;const gt={prefixPath:ye.slice(0,ye.length-2),collectionGroup:ye[ye.length-2],documentId:ye[ye.length-1],readTime:T.readTime||[0,0],unknownDocument:T.unknownDocument,noDocument:T.noDocument,document:T.document,hasCommittedMutations:!!T.hasCommittedMutations};d.push(J.put(gt))}).next(()=>Bn.waitFor(d))}si(e,t){const o=t.store("mutations"),d=Nu(this.serializer),_=new ig(rg.zs,this.serializer.fe);return o.j().next(T=>{const J=new Map;return T.forEach(ye=>{var Oe;let gt=null!==(Oe=J.get(ye.userId))&&void 0!==Oe?Oe:mo();qc(this.serializer,ye).keys().forEach(cn=>gt=gt.add(cn)),J.set(ye.userId,gt)}),Bn.forEach(J,(ye,Oe)=>{const gt=new Yr(Oe),cn=ot.de(this.serializer,gt),Wn=_.getIndexManager(gt),vi=Vh.de(gt,this.serializer,Wn,_.referenceDelegate);return new Vm(d,vi,cn,Wn).recalculateAndSaveOverlaysForDocumentKeys(new zi(t,Ee.ct),ye).next()})})}}function yv(r){r.createObjectStore("targetDocuments",{keyPath:j}).createIndex("documentTargetsIndex",q,{unique:!0}),r.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",R,{unique:!0}),r.createObjectStore("targetGlobal")}const $d="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class sg{constructor(e,t,o,d,_,T,J,ye,Oe,gt,cn=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=o,this.ii=_,this.window=T,this.document=J,this.ri=Oe,this.oi=gt,this.ui=cn,this.Os=null,this.Fs=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.ai=null,this.hi=null,this.li=Number.NEGATIVE_INFINITY,this.fi=Wn=>Promise.resolve(),!sg.D())throw new Ri(Zn.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new zf(this,d),this.di=t+"main",this.serializer=new Lh(ye),this.wi=new Ha(this.di,this.ui,new u0(this.serializer)),this.Bs=new l0(this.referenceDelegate,this.serializer),this.remoteDocumentCache=Nu(this.serializer),this.qs=new z,this.window&&this.window.localStorage?this._i=this.window.localStorage:(this._i=null,!1===gt&&Ts("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.mi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Ri(Zn.FAILED_PRECONDITION,$d);return this.gi(),this.yi(),this.pi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Bs.getHighestSequenceNumber(e))}).then(e=>{this.Os=new Ee(e,this.ri)}).then(()=>{this.Fs=!0}).catch(e=>(this.wi&&this.wi.close(),Promise.reject(e)))}Ii(e){var t=this;return this.fi=function(){var o=(0,c.Z)(function*(d){if(t.started)return e(d)});return function(d){return o.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.wi.B(function(){var t=(0,c.Z)(function*(o){null===o.newVersion&&(yield e())});return function(o){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.ii.enqueueAndForget((0,c.Z)(function*(){t.started&&(yield t.mi())})))}mi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Vd(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Ti(e).next(t=>{t||(this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)))})}).next(()=>this.Ei(e)).next(t=>this.isPrimary&&!t?this.Ai(e).next(()=>!1):!!t&&this.vi(e).next(()=>!0))).catch(e=>{if(ba(e))return wi("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return wi("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.ii.enqueueRetryable(()=>this.fi(e)),this.isPrimary=e})}Ti(e){return od(e).get("owner").next(t=>Bn.resolve(this.Ri(t)))}Pi(e){return Vd(e).delete(this.clientId)}bi(){var e=this;return(0,c.Z)(function*(){if(e.isPrimary&&!e.Vi(e.li,18e5)){e.li=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",o=>{const d=or(o,"clientMetadata");return d.j().next(_=>{const T=e.Si(_,18e5),J=_.filter(ye=>-1===T.indexOf(ye));return Bn.forEach(J,ye=>d.delete(ye.clientId)).next(()=>J)})}).catch(()=>[]);if(e._i)for(const o of t)e._i.removeItem(e.Di(o.clientId))}})()}pi(){this.hi=this.ii.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.mi().then(()=>this.bi()).then(()=>this.pi()))}Ri(e){return!!e&&e.ownerId===this.clientId}Ei(e){return this.oi?Bn.resolve(!0):od(e).get("owner").next(t=>{if(null!==t&&this.Vi(t.leaseTimestampMs,5e3)&&!this.Ci(t.ownerId)){if(this.Ri(t)&&this.networkEnabled)return!0;if(!this.Ri(t)){if(!t.allowTabSynchronization)throw new Ri(Zn.FAILED_PRECONDITION,$d);return!1}}return!(!this.networkEnabled||!this.inForeground)||Vd(e).j().next(o=>void 0===this.Si(o,5e3).find(d=>!(this.clientId===d.clientId||!(!this.networkEnabled&&d.networkEnabled||!this.inForeground&&d.inForeground&&this.networkEnabled===d.networkEnabled))))}).next(t=>(this.isPrimary!==t&&wi("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,c.Z)(function*(){e.Fs=!1,e.xi(),e.hi&&(e.hi.cancel(),e.hi=null),e.Ni(),e.ki(),yield e.wi.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const o=new zi(t,Ee.ct);return e.Ai(o).next(()=>e.Pi(o))}),e.wi.close(),e.Mi()})()}Si(e,t){return e.filter(o=>this.Vi(o.updateTimeMs,t)&&!this.Ci(o.clientId))}$i(){return this.runTransaction("getActiveClients","readonly",e=>Vd(e).j().next(t=>this.Si(t,18e5).map(o=>o.clientId)))}get started(){return this.Fs}getMutationQueue(e,t){return Vh.de(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new dv(e,this.serializer.fe.databaseId)}getDocumentOverlayCache(e){return ot.de(this.serializer,e)}getBundleCache(){return this.qs}runTransaction(e,t,o){wi("IndexedDbPersistence","Starting transaction:",e);const d="readonly"===t?"readonly":"readwrite",_=15===(T=this.ui)?Oi:14===T?qi:13===T?Gi:12===T?di:11===T?Ei:void gr();var T;let J;return this.wi.runTransaction(e,d,_,ye=>(J=new zi(ye,this.Os?this.Os.next():Ee.ct),"readwrite-primary"===t?this.Ti(J).next(Oe=>!!Oe||this.Ei(J)).next(Oe=>{if(!Oe)throw Ts(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)),new Ri(Zn.FAILED_PRECONDITION,Ws);return o(J)}).next(Oe=>this.vi(J).next(()=>Oe)):this.Oi(J).next(()=>o(J)))).then(ye=>(J.raiseOnCommittedEvent(),ye))}Oi(e){return od(e).get("owner").next(t=>{if(null!==t&&this.Vi(t.leaseTimestampMs,5e3)&&!this.Ci(t.ownerId)&&!this.Ri(t)&&!(this.oi||this.allowTabSynchronization&&t.allowTabSynchronization))throw new Ri(Zn.FAILED_PRECONDITION,$d)})}vi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return od(e).put("owner",t)}static D(){return Ha.D()}Ai(e){const t=od(e);return t.get("owner").next(o=>this.Ri(o)?(wi("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):Bn.resolve())}Vi(e,t){const o=Date.now();return!(e<o-t||e>o&&(Ts(`Detected an update time that is in the future: ${e} > ${o}`),1))}gi(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ai=()=>{this.ii.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.mi()))},this.document.addEventListener("visibilitychange",this.ai),this.inForeground="visible"===this.document.visibilityState)}Ni(){this.ai&&(this.document.removeEventListener("visibilitychange",this.ai),this.ai=null)}yi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ci=()=>{this.xi();const t=/(?:Version|Mobile)\/1[456]/;(0,dt.G6)()&&(navigator.appVersion.match(t)||navigator.userAgent.match(t))&&this.ii.enterRestrictedMode(!0),this.ii.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ci))}ki(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}Ci(e){var t;try{const o=null!==(null===(t=this._i)||void 0===t?void 0:t.getItem(this.Di(e)));return wi("IndexedDbPersistence",`Client '${e}' ${o?"is":"is not"} zombied in LocalStorage`),o}catch(o){return Ts("IndexedDbPersistence","Failed to get zombied client id.",o),!1}}xi(){if(this._i)try{this._i.setItem(this.Di(this.clientId),String(Date.now()))}catch(e){Ts("Failed to set zombie client id.",e)}}Mi(){if(this._i)try{this._i.removeItem(this.Di(this.clientId))}catch{}}Di(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function od(r){return or(r,"owner")}function Vd(r){return or(r,"clientMetadata")}function ad(r,e){let t=r.projectId;return r.isDefaultDatabase||(t+="."+r.database),"firestore/"+e+"/"+t+"/"}class Ud{constructor(e,t,o,d){this.targetId=e,this.fromCache=t,this.Fi=o,this.Bi=d}static Li(e,t){let o=mo(),d=mo();for(const _ of t.docChanges)switch(_.type){case 0:o=o.add(_.doc.key);break;case 1:d=d.add(_.doc.key)}return new Ud(e,t.fromCache,o,d)}}class zh{constructor(){this.qi=!1}initialize(e,t){this.Ui=e,this.indexManager=t,this.qi=!0}getDocumentsMatchingQuery(e,t,o,d){return this.Ki(e,t).next(_=>_||this.Gi(e,t,d,o)).next(_=>_||this.Qi(e,t))}Ki(e,t){if(G(t))return Bn.resolve(null);let o=ht(t);return this.indexManager.getIndexType(e,o).next(d=>0===d?null:(null!==t.limit&&1===d&&(t=si(t,null,"F"),o=ht(t)),this.indexManager.getDocumentsMatchingTarget(e,o).next(_=>{const T=mo(..._);return this.Ui.getDocuments(e,T).next(J=>this.indexManager.getMinOffset(e,o).next(ye=>{const Oe=this.ji(t,J);return this.zi(t,Oe,T,ye.readTime)?this.Ki(e,si(t,null,"F")):this.Wi(e,Oe,t,ye)}))})))}Gi(e,t,o,d){return G(t)||d.isEqual(Zr.min())?this.Qi(e,t):this.Ui.getDocuments(e,o).next(_=>{const T=this.ji(t,_);return this.zi(t,T,o,d)?this.Qi(e,t):(eo()<=ze.in.DEBUG&&wi("QueryEngine","Re-using previous result from %s to execute query: %s",d.toString(),Ds(t)),this.Wi(e,T,t,er(d,-1)))})}ji(e,t){let o=new io(dc(e));return t.forEach((d,_)=>{wo(e,_)&&(o=o.add(_))}),o}zi(e,t,o,d){if(null===e.limit)return!1;if(o.size!==t.size)return!0;const _="F"===e.limitType?t.last():t.first();return!!_&&(_.hasPendingWrites||_.version.compareTo(d)>0)}Qi(e,t){return eo()<=ze.in.DEBUG&&wi("QueryEngine","Using full collection scan to execute query:",Ds(t)),this.Ui.getDocumentsMatchingQuery(e,t,Rs.min())}Wi(e,t,o,d){return this.Ui.getDocumentsMatchingQuery(e,o,d).next(_=>(t.forEach(T=>{_=_.insert(T.key,T)}),_))}}class zd{constructor(e,t,o,d){this.persistence=e,this.Hi=t,this.serializer=d,this.Ji=new Br(As),this.Yi=new ka(_=>wl(_),Pl),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(o)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Vm(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ji))}}function jd(r,e,t,o){return new zd(r,e,t,o)}function Hd(r,e){return qf.apply(this,arguments)}function qf(){return qf=(0,c.Z)(function*(r,e){const t=fi(r);return yield t.persistence.runTransaction("Handle user change","readonly",o=>{let d;return t.mutationQueue.getAllMutationBatches(o).next(_=>(d=_,t.tr(e),t.mutationQueue.getAllMutationBatches(o))).next(_=>{const T=[],J=[];let ye=mo();for(const Oe of d){T.push(Oe.batchId);for(const gt of Oe.mutations)ye=ye.add(gt.key)}for(const Oe of _){J.push(Oe.batchId);for(const gt of Oe.mutations)ye=ye.add(gt.key)}return t.localDocuments.getDocuments(o,ye).next(Oe=>({er:Oe,removedBatchIds:T,addedBatchIds:J}))})})}),qf.apply(this,arguments)}function Wd(r){const e=fi(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Bs.getLastRemoteSnapshotVersion(t))}function Xf(r,e,t){let o=mo(),d=mo();return t.forEach(_=>o=o.add(_)),e.getEntries(r,o).next(_=>{let T=Ua();return t.forEach((J,ye)=>{const Oe=_.get(J);ye.isFoundDocument()!==Oe.isFoundDocument()&&(d=d.add(J)),ye.isNoDocument()&&ye.version.isEqual(Zr.min())?(e.removeEntry(J,ye.readTime),T=T.insert(J,ye)):!Oe.isValidDocument()||ye.version.compareTo(Oe.version)>0||0===ye.version.compareTo(Oe.version)&&Oe.hasPendingWrites?(e.addEntry(ye),T=T.insert(J,ye)):wi("LocalStore","Ignoring outdated watch update for ",J,". Current version:",Oe.version," Watch version:",ye.version)}),{nr:T,sr:d}})}function og(r,e){const t=fi(r);return t.persistence.runTransaction("Get next mutation batch","readonly",o=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(o,e)))}function ld(r,e){const t=fi(r);return t.persistence.runTransaction("Allocate target","readwrite",o=>{let d;return t.Bs.getTargetData(o,e).next(_=>_?(d=_,Bn.resolve(d)):t.Bs.allocateTargetId(o).next(T=>(d=new lc(e,T,"TargetPurposeListen",o.currentSequenceNumber),t.Bs.addTargetData(o,d).next(()=>d))))}).then(o=>{const d=t.Ji.get(o.targetId);return(null===d||o.snapshotVersion.compareTo(d.snapshotVersion)>0)&&(t.Ji=t.Ji.insert(o.targetId,o),t.Yi.set(e,o.targetId)),o})}function Gd(r,e,t){return ag.apply(this,arguments)}function ag(){return ag=(0,c.Z)(function*(r,e,t){const o=fi(r),d=o.Ji.get(e),_=t?"readwrite":"readwrite-primary";try{t||(yield o.persistence.runTransaction("Release target",_,T=>o.persistence.referenceDelegate.removeTarget(T,d)))}catch(T){if(!ba(T))throw T;wi("LocalStore",`Failed to update sequence numbers for target ${e}: ${T}`)}o.Ji=o.Ji.remove(e),o.Yi.delete(d.target)}),ag.apply(this,arguments)}function jh(r,e,t){const o=fi(r);let d=Zr.min(),_=mo();return o.persistence.runTransaction("Execute query","readonly",T=>function(J,ye,Oe){const gt=fi(J),cn=gt.Yi.get(Oe);return void 0!==cn?Bn.resolve(gt.Ji.get(cn)):gt.Bs.getTargetData(ye,Oe)}(o,T,ht(e)).next(J=>{if(J)return d=J.lastLimboFreeSnapshotVersion,o.Bs.getMatchingKeysForTargetId(T,J.targetId).next(ye=>{_=ye})}).next(()=>o.Hi.getDocumentsMatchingQuery(T,e,t?d:Zr.min(),t?_:mo())).next(J=>(Hm(o,Bl(e),J),{documents:J,ir:_})))}function lg(r,e){const t=fi(r),o=fi(t.Bs),d=t.Ji.get(e);return d?Promise.resolve(d.target):t.persistence.runTransaction("Get target data","readonly",_=>o.le(_,e).next(T=>T?T.target:null))}function jm(r,e){const t=fi(r),o=t.Xi.get(e)||Zr.min();return t.persistence.runTransaction("Get new document changes","readonly",d=>t.Zi.getAllFromCollectionGroup(d,e,er(o,-1),Number.MAX_SAFE_INTEGER)).then(d=>(Hm(t,e,d),d))}function Hm(r,e,t){let o=r.Xi.get(e)||Zr.min();t.forEach((d,_)=>{_.readTime.compareTo(o)>0&&(o=_.readTime)}),r.Xi.set(e,o)}function cg(){return cg=(0,c.Z)(function*(r,e,t,o){const d=fi(r);let _=mo(),T=Ua();for(const Oe of t){const gt=e.rr(Oe.metadata.name);Oe.document&&(_=_.add(gt));const cn=e.ur(Oe);cn.setReadTime(e.cr(Oe.metadata.readTime)),T=T.insert(gt,cn)}const J=d.Zi.newChangeBuffer({trackRemovals:!0}),ye=yield ld(d,(Oe=o,ht(Tc(zs.fromString(`__bundle__/docs/${Oe}`)))));var Oe;return d.persistence.runTransaction("Apply bundle documents","readwrite",Oe=>Xf(Oe,J,T).next(gt=>(J.apply(Oe),gt)).next(gt=>d.Bs.removeMatchingKeysForTargetId(Oe,ye.targetId).next(()=>d.Bs.addMatchingKeys(Oe,_,ye.targetId)).next(()=>d.localDocuments.getLocalViewOfDocuments(Oe,gt.nr,gt.sr)).next(()=>gt.nr)))}),cg.apply(this,arguments)}function ug(r,e){return Hh.apply(this,arguments)}function Hh(){return Hh=(0,c.Z)(function*(r,e,t=mo()){const o=yield ld(r,ht(v(e.bundledQuery))),d=fi(r);return d.persistence.runTransaction("Save named query","readwrite",_=>{const T=pl(e.readTime);if(o.snapshotVersion.compareTo(T)>=0)return d.qs.saveNamedQuery(_,e);const J=o.withResumeToken(ma.EMPTY_BYTE_STRING,T);return d.Ji=d.Ji.insert(J.targetId,J),d.Bs.updateTargetData(_,J).next(()=>d.Bs.removeMatchingKeysForTargetId(_,o.targetId)).next(()=>d.Bs.addMatchingKeys(_,t,o.targetId)).next(()=>d.qs.saveNamedQuery(_,e))})}),Hh.apply(this,arguments)}function Wm(r,e){return`firestore_clients_${r}_${e}`}function dg(r,e,t){let o=`firestore_mutations_${r}_${t}`;return e.isAuthenticated()&&(o+=`_${e.uid}`),o}function Wh(r,e){return`firestore_targets_${r}_${e}`}class cd{constructor(e,t,o,d){this.user=e,this.batchId=t,this.state=o,this.error=d}static ar(e,t,o){const d=JSON.parse(o);let _,T="object"==typeof d&&-1!==["pending","acknowledged","rejected"].indexOf(d.state)&&(void 0===d.error||"object"==typeof d.error);return T&&d.error&&(T="string"==typeof d.error.message&&"string"==typeof d.error.code,T&&(_=new Ri(d.error.code,d.error.message))),T?new cd(e,t,d.state,_):(Ts("SharedClientState",`Failed to parse mutation state for ID '${t}': ${o}`),null)}hr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Gh{constructor(e,t,o){this.targetId=e,this.state=t,this.error=o}static ar(e,t){const o=JSON.parse(t);let d,_="object"==typeof o&&-1!==["not-current","current","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return _&&o.error&&(_="string"==typeof o.error.message&&"string"==typeof o.error.code,_&&(d=new Ri(o.error.code,o.error.message))),_?new Gh(e,o.state,d):(Ts("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}hr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Yh{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static ar(e,t){const o=JSON.parse(t);let d="object"==typeof o&&o.activeTargetIds instanceof Array,_=gh();for(let T=0;d&&T<o.activeTargetIds.length;++T)d=En(o.activeTargetIds[T]),_=_.add(o.activeTargetIds[T]);return d?new Yh(e,_):(Ts("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class hg{constructor(e,t){this.clientId=e,this.onlineState=t}static ar(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new hg(t.clientId,t.onlineState):(Ts("SharedClientState",`Failed to parse online state: ${e}`),null)}}class Qf{constructor(){this.activeTargetIds=gh()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Gm{constructor(e,t,o,d,_){this.window=e,this.ii=t,this.persistenceKey=o,this.wr=d,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this._r=this.mr.bind(this),this.gr=new Br(As),this.started=!1,this.yr=[];const T=o.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=_,this.pr=Wm(this.persistenceKey,this.wr),this.Ir=`firestore_sequence_number_${this.persistenceKey}`,this.gr=this.gr.insert(this.wr,new Qf),this.Tr=new RegExp(`^firestore_clients_${T}_([^_]*)$`),this.Er=new RegExp(`^firestore_mutations_${T}_(\\d+)(?:_(.*))?$`),this.Ar=new RegExp(`^firestore_targets_${T}_(\\d+)$`),this.vr=`firestore_online_state_${this.persistenceKey}`,this.Rr=function(J){return`firestore_bundle_loaded_v2_${J}`}(this.persistenceKey),this.window.addEventListener("storage",this._r)}static D(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,c.Z)(function*(){const t=yield e.syncEngine.$i();for(const d of t){if(d===e.wr)continue;const _=e.getItem(Wm(e.persistenceKey,d));if(_){const T=Yh.ar(d,_);T&&(e.gr=e.gr.insert(T.clientId,T))}}e.Pr();const o=e.storage.getItem(e.vr);if(o){const d=e.br(o);d&&e.Vr(d)}for(const d of e.yr)e.mr(d);e.yr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.Ir,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Sr(this.gr)}isActiveQueryTarget(e){let t=!1;return this.gr.forEach((o,d)=>{d.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Dr(e,"pending")}updateMutationState(e,t,o){this.Dr(e,t,o),this.Cr(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const o=this.storage.getItem(Wh(this.persistenceKey,e));if(o){const d=Gh.ar(e,o);d&&(t=d.state)}}return this.Nr.lr(e),this.Pr(),t}removeLocalQueryTarget(e){this.Nr.dr(e),this.Pr()}isLocalQueryTarget(e){return this.Nr.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(Wh(this.persistenceKey,e))}updateQueryState(e,t,o){this.kr(e,t,o)}handleUserChange(e,t,o){t.forEach(d=>{this.Cr(d)}),this.currentUser=e,o.forEach(d=>{this.addPendingMutation(d)})}setOnlineState(e){this.Mr(e)}notifyBundleLoaded(e){this.$r(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this._r),this.removeItem(this.pr),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return wi("SharedClientState","READ",e,t),t}setItem(e,t){wi("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){wi("SharedClientState","REMOVE",e),this.storage.removeItem(e)}mr(e){var t=this;const o=e;if(o.storageArea===this.storage){if(wi("SharedClientState","EVENT",o.key,o.newValue),o.key===this.pr)return void Ts("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.ii.enqueueRetryable((0,c.Z)(function*(){if(t.started){if(null!==o.key)if(t.Tr.test(o.key)){if(null==o.newValue){const d=t.Or(o.key);return t.Fr(d,null)}{const d=t.Br(o.key,o.newValue);if(d)return t.Fr(d.clientId,d)}}else if(t.Er.test(o.key)){if(null!==o.newValue){const d=t.Lr(o.key,o.newValue);if(d)return t.qr(d)}}else if(t.Ar.test(o.key)){if(null!==o.newValue){const d=t.Ur(o.key,o.newValue);if(d)return t.Kr(d)}}else if(o.key===t.vr){if(null!==o.newValue){const d=t.br(o.newValue);if(d)return t.Vr(d)}}else if(o.key===t.Ir){const d=function(_){let T=Ee.ct;if(null!=_)try{const J=JSON.parse(_);zr("number"==typeof J),T=J}catch(J){Ts("SharedClientState","Failed to read sequence number from WebStorage",J)}return T}(o.newValue);d!==Ee.ct&&t.sequenceNumberHandler(d)}else if(o.key===t.Rr){const d=t.Gr(o.newValue);yield Promise.all(d.map(_=>t.syncEngine.Qr(_)))}}else t.yr.push(o)}))}}get Nr(){return this.gr.get(this.wr)}Pr(){this.setItem(this.pr,this.Nr.hr())}Dr(e,t,o){const d=new cd(this.currentUser,e,t,o),_=dg(this.persistenceKey,this.currentUser,e);this.setItem(_,d.hr())}Cr(e){const t=dg(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Mr(e){this.storage.setItem(this.vr,JSON.stringify({clientId:this.wr,onlineState:e}))}kr(e,t,o){const d=Wh(this.persistenceKey,e),_=new Gh(e,t,o);this.setItem(d,_.hr())}$r(e){const t=JSON.stringify(Array.from(e));this.setItem(this.Rr,t)}Or(e){const t=this.Tr.exec(e);return t?t[1]:null}Br(e,t){const o=this.Or(e);return Yh.ar(o,t)}Lr(e,t){const o=this.Er.exec(e),d=Number(o[1]);return cd.ar(new Yr(void 0!==o[2]?o[2]:null),d,t)}Ur(e,t){const o=this.Ar.exec(e),d=Number(o[1]);return Gh.ar(d,t)}br(e){return hg.ar(e)}Gr(e){return JSON.parse(e)}qr(e){var t=this;return(0,c.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.jr(e.batchId,e.state,e.error);wi("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Kr(e){return this.syncEngine.zr(e.targetId,e.state,e.error)}Fr(e,t){const o=t?this.gr.insert(e,t):this.gr.remove(e),d=this.Sr(this.gr),_=this.Sr(o),T=[],J=[];return _.forEach(ye=>{d.has(ye)||T.push(ye)}),d.forEach(ye=>{_.has(ye)||J.push(ye)}),this.syncEngine.Wr(T,J).then(()=>{this.gr=o})}Vr(e){this.gr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Sr(e){let t=gh();return e.forEach((o,d)=>{t=t.unionWith(d.activeTargetIds)}),t}}class Ym{constructor(){this.Hr=new Qf,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,o){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,t,o){this.Jr[e]=t}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new Qf,Promise.resolve()}handleUserChange(e,t,o){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Kh{Yr(e){}shutdown(){}}class Km{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){wi("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){wi("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let mu=null;function ud(){return null===mu?mu=268435456+Math.round(2147483648*Math.random()):mu++,"0x"+mu.toString(16)}const vv={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class qm{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const sc="WebChannelConnection";class _v extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.mo=(e.ssl?"https":"http")+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,t,o,d,_){const T=ud(),J=this.To(e,t);wi("RestConnection",`Sending RPC '${e}' ${T}:`,J,o);const ye={};return this.Eo(ye,d,_),this.Ao(e,J,ye,o).then(Oe=>(wi("RestConnection",`Received RPC '${e}' ${T}: `,Oe),Oe),Oe=>{throw fa("RestConnection",`RPC '${e}' ${T} failed with error: `,Oe,"url: ",J,"request:",o),Oe})}vo(e,t,o,d,_,T){return this.Io(e,t,o,d,_)}Eo(e,t,o){e["X-Goog-Api-Client"]="gl-js/ fire/"+Is,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((d,_)=>e[_]=d),o&&o.headers.forEach((d,_)=>e[_]=d)}To(e,t){return`${this.mo}/v1/${t}:${vv[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,t,o,d){const _=ud();return new Promise((T,J)=>{const ye=new ai;ye.setWithCredentials(!0),ye.listenOnce(ve.COMPLETE,()=>{try{switch(ye.getLastErrorCode()){case ee.NO_ERROR:const gt=ye.getResponseJson();wi(sc,`XHR for RPC '${e}' ${_} received:`,JSON.stringify(gt)),T(gt);break;case ee.TIMEOUT:wi(sc,`RPC '${e}' ${_} timed out`),J(new Ri(Zn.DEADLINE_EXCEEDED,"Request time out"));break;case ee.HTTP_ERROR:const cn=ye.getStatus();if(wi(sc,`RPC '${e}' ${_} failed with status:`,cn,"response text:",ye.getResponseText()),cn>0){let Wn=ye.getResponseJson();Array.isArray(Wn)&&(Wn=Wn[0]);const vi=null==Wn?void 0:Wn.error;if(vi&&vi.status&&vi.message){const cr=function(ts){const ds=ts.toLowerCase().replace(/_/g,"-");return Object.values(Zn).indexOf(ds)>=0?ds:Zn.UNKNOWN}(vi.status);J(new Ri(cr,vi.message))}else J(new Ri(Zn.UNKNOWN,"Server responded with status "+ye.getStatus()))}else J(new Ri(Zn.UNAVAILABLE,"Connection failed."));break;default:gr()}}finally{wi(sc,`RPC '${e}' ${_} completed.`)}});const Oe=JSON.stringify(d);wi(sc,`RPC '${e}' ${_} sending request:`,d),ye.send(t,"POST",Oe,o,15)})}Ro(e,t,o){const d=ud(),_=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],T=Qs(),J=oo(),ye={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},Oe=this.longPollingOptions.timeoutSeconds;void 0!==Oe&&(ye.longPollingTimeout=Math.round(1e3*Oe)),this.useFetchStreams&&(ye.xmlHttpFactory=new Ft({})),this.Eo(ye.initMessageHeaders,t,o),ye.encodeInitMessageHeaders=!0;const gt=_.join("");wi(sc,`Creating RPC '${e}' stream ${d}: ${gt}`,ye);const cn=T.createWebChannel(gt,ye);let Wn=!1,vi=!1;const cr=new qm({ro:ds=>{vi?wi(sc,`Not sending because RPC '${e}' stream ${d} is closed:`,ds):(Wn||(wi(sc,`Opening RPC '${e}' stream ${d} transport.`),cn.open(),Wn=!0),wi(sc,`RPC '${e}' stream ${d} sending:`,ds),cn.send(ds))},oo:()=>cn.close()}),ts=(ds,ko,ga)=>{ds.listen(ko,Xo=>{try{ga(Xo)}catch(Ol){setTimeout(()=>{throw Ol},0)}})};return ts(cn,Fn.EventType.OPEN,()=>{vi||wi(sc,`RPC '${e}' stream ${d} transport opened.`)}),ts(cn,Fn.EventType.CLOSE,()=>{vi||(vi=!0,wi(sc,`RPC '${e}' stream ${d} transport closed`),cr.wo())}),ts(cn,Fn.EventType.ERROR,ds=>{vi||(vi=!0,fa(sc,`RPC '${e}' stream ${d} transport errored:`,ds),cr.wo(new Ri(Zn.UNAVAILABLE,"The operation could not be completed")))}),ts(cn,Fn.EventType.MESSAGE,ds=>{var ko;if(!vi){const ga=ds.data[0];zr(!!ga);const Ol=ga.error||(null===(ko=ga[0])||void 0===ko?void 0:ko.error);if(Ol){wi(sc,`RPC '${e}' stream ${d} received error:`,Ol);const Dl=Ol.status;let el=function(Cd){const Qy=fl[Cd];if(void 0!==Qy)return Ch(Qy)}(Dl),fc=Ol.message;void 0===el&&(el=Zn.INTERNAL,fc="Unknown error status: "+Dl+" with message "+Ol.message),vi=!0,cr.wo(new Ri(el,fc)),cn.close()}else wi(sc,`RPC '${e}' stream ${d} received:`,ga),cr._o(ga)}}),ts(J,ae.STAT_EVENT,ds=>{ds.stat===We.PROXY?wi(sc,`RPC '${e}' stream ${d} detected buffering proxy`):ds.stat===We.NOPROXY&&wi(sc,`RPC '${e}' stream ${d} detected no buffering proxy`)}),setTimeout(()=>{cr.fo()},0),cr}}function Zm(){return typeof window<"u"?window:null}function qh(){return typeof document<"u"?document:null}function Yd(r){return new Ph(r,!0)}class Zh{constructor(e,t,o=1e3,d=1.5,_=6e4){this.ii=e,this.timerId=t,this.Po=o,this.bo=d,this.Vo=_,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const t=Math.floor(this.So+this.ko()),o=Math.max(0,Date.now()-this.Co),d=Math.max(0,t-o);d>0&&wi("ExponentialBackoff",`Backing off for ${d} ms (base delay: ${this.So} ms, delay with jitter: ${t} ms, last attempt: ${o} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,d,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class Kd{constructor(e,t,o,d,_,T,J,ye){this.ii=e,this.$o=o,this.Oo=d,this.connection=_,this.authCredentialsProvider=T,this.appCheckCredentialsProvider=J,this.listener=ye,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new Zh(e,t)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}stop(){var e=this;return(0,c.Z)(function*(){e.Uo()&&(yield e.close(0))})()}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}zo(){var e=this;return(0,c.Z)(function*(){if(e.Ko())return e.close(0)})()}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}close(e,t){var o=this;return(0,c.Z)(function*(){o.Ho(),o.Jo(),o.qo.cancel(),o.Fo++,4!==e?o.qo.reset():t&&t.code===Zn.RESOURCE_EXHAUSTED?(Ts(t.toString()),Ts("Using maximum backoff delay to prevent overloading the backend."),o.qo.xo()):t&&t.code===Zn.UNAUTHENTICATED&&3!==o.state&&(o.authCredentialsProvider.invalidateToken(),o.appCheckCredentialsProvider.invalidateToken()),null!==o.stream&&(o.Yo(),o.stream.close(),o.stream=null),o.state=e,yield o.listener.ao(t)})()}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),t=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([o,d])=>{this.Fo===t&&this.Zo(o,d)},o=>{e(()=>{const d=new Ri(Zn.UNKNOWN,"Fetching auth token failed: "+o.message);return this.tu(d)})})}Zo(e,t){const o=this.Xo(this.Fo);this.stream=this.eu(e,t),this.stream.uo(()=>{o(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(d=>{o(()=>this.tu(d))}),this.stream.onMessage(d=>{o(()=>this.onMessage(d))})}Go(){var e=this;this.state=5,this.qo.No((0,c.Z)(function*(){e.state=0,e.start()}))}tu(e){return wi("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return t=>{this.ii.enqueueAndForget(()=>this.Fo===e?t():(wi("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Xm extends Kd{constructor(e,t,o,d,_,T){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,o,d,T),this.serializer=_}eu(e,t){return this.connection.Ro("Listen",e,t)}onMessage(e){this.qo.reset();const t=function Rm(r,e){let t;if("targetChange"in e){const o="NO_CHANGE"===(ye=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===ye?1:"REMOVE"===ye?2:"CURRENT"===ye?3:"RESET"===ye?4:gr(),d=e.targetChange.targetIds||[],_=function(ye,Oe){return ye.useProto3Json?(zr(void 0===Oe||"string"==typeof Oe),ma.fromBase64String(Oe||"")):(zr(void 0===Oe||Oe instanceof Uint8Array),ma.fromUint8Array(Oe||new Uint8Array))}(r,e.targetChange.resumeToken),T=e.targetChange.cause,J=T&&function(ye){const Oe=void 0===ye.code?Zn.UNKNOWN:Ch(ye.code);return new Ri(Oe,ye.message||"")}(T);t=new Dh(o,d,_,J||null)}else if("documentChange"in e){const o=e.documentChange,d=ll(r,o.document.name),_=pl(o.document.updateTime),T=o.document.createTime?pl(o.document.createTime):Zr.min(),J=new Ht({mapValue:{fields:o.document.fields}}),ye=xi.newFoundDocument(d,_,T,J);t=new uu(o.targetIds||[],o.removedTargetIds||[],ye.key,ye)}else if("documentDelete"in e){const o=e.documentDelete,d=ll(r,o.document),_=o.readTime?pl(o.readTime):Zr.min(),T=xi.newNoDocument(d,_);t=new uu([],o.removedTargetIds||[],T.key,T)}else if("documentRemove"in e){const o=e.documentRemove,d=ll(r,o.document);t=new uu([],o.removedTargetIds||[],d,null)}else{if(!("filter"in e))return gr();{const o=e.filter,{count:d=0,unchangedNames:_}=o,T=new Sh(d,_);t=new Rf(o.targetId,T)}}var ye;return t}(this.serializer,e),o=function(d){if(!("targetChange"in d))return Zr.min();const _=d.targetChange;return _.targetIds&&_.targetIds.length?Zr.min():_.readTime?pl(_.readTime):Zr.min()}(e);return this.listener.nu(t,o)}su(e){const t={};t.database=Kc(this.serializer),t.addTarget=function(d,_){let T;const J=_.target;if(T=Cc(J)?{documents:hu(d,J)}:{query:fu(d,J)},T.targetId=_.targetId,_.resumeToken.approximateByteSize()>0){T.resumeToken=Rd(d,_.resumeToken);const ye=Tu(d,_.expectedCount);null!==ye&&(T.expectedCount=ye)}else if(_.snapshotVersion.compareTo(Zr.min())>0){T.readTime=Gc(d,_.snapshotVersion.toTimestamp());const ye=Tu(d,_.expectedCount);null!==ye&&(T.expectedCount=ye)}return T}(this.serializer,e);const o=function Du(r,e){const t=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return gr()}}(e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);o&&(t.labels=o),this.Wo(t)}iu(e){const t={};t.database=Kc(this.serializer),t.removeTarget=e,this.Wo(t)}}class f0 extends Kd{constructor(e,t,o,d,_,T){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,o,d,T),this.serializer=_,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,t){return this.connection.Ro("Write",e,t)}onMessage(e){if(zr(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const t=function Nf(r,e){return r&&r.length>0?(zr(void 0!==e),r.map(t=>function(o,d){let _=pl(o.updateTime?o.updateTime:d);return _.isEqual(Zr.min())&&(_=pl(d)),new xf(_,o.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),o=pl(e.commitTime);return this.listener.cu(o,t)}return zr(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=Kc(this.serializer),this.Wo(e)}uu(e){const t={streamToken:this.lastStreamToken,writes:e.map(o=>ed(this.serializer,o))};this.Wo(t)}}class fg extends class{}{constructor(e,t,o,d){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=o,this.serializer=d,this.lu=!1}fu(){if(this.lu)throw new Ri(Zn.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,t,o){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([d,_])=>this.connection.Io(e,t,o,d,_)).catch(d=>{throw"FirebaseError"===d.name?(d.code===Zn.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new Ri(Zn.UNKNOWN,d.toString())})}vo(e,t,o,d){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([_,T])=>this.connection.vo(e,t,o,_,T,d)).catch(_=>{throw"FirebaseError"===_.name?(_.code===Zn.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),_):new Ri(Zn.UNKNOWN,_.toString())})}terminate(){this.lu=!0}}class Qm{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(Ts(t),this.mu=!1):wi("OnlineStateTracker",t)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class Jf{constructor(e,t,o,d,_){var T=this;this.localStore=e,this.datastore=t,this.asyncQueue=o,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=_,this.Pu.Yr(J=>{o.enqueueAndForget((0,c.Z)(function*(){var ye;vc(T)&&(wi("RemoteStore","Restarting streams for network reachability change."),yield(ye=(0,c.Z)(function*(Oe){const gt=fi(Oe);gt.vu.add(4),yield dd(gt),gt.bu.set("Unknown"),gt.vu.delete(4),yield Fu(gt)}),function(Oe){return ye.apply(this,arguments)})(T))}))}),this.bu=new Qm(o,d)}}function Fu(r){return ep.apply(this,arguments)}function ep(){return ep=(0,c.Z)(function*(r){if(vc(r))for(const e of r.Ru)yield e(!0)}),ep.apply(this,arguments)}function dd(r){return pg.apply(this,arguments)}function pg(){return pg=(0,c.Z)(function*(r){for(const e of r.Ru)yield e(!1)}),pg.apply(this,arguments)}function tp(r,e){const t=fi(r);t.Au.has(e.targetId)||(t.Au.set(e.targetId,e),np(t)?mg(t):_c(t).Ko()&&gg(t,e))}function Xh(r,e){const t=fi(r),o=_c(t);t.Au.delete(e),o.Ko()&&Jm(t,e),0===t.Au.size&&(o.Ko()?o.jo():vc(t)&&t.bu.set("Unknown"))}function gg(r,e){if(r.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Zr.min())>0){const t=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}_c(r).su(e)}function Jm(r,e){r.Vu.qt(e),_c(r).iu(e)}function mg(r){r.Vu=new Of({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),le:e=>r.Au.get(e)||null,ue:()=>r.datastore.serializer.databaseId}),_c(r).start(),r.bu.gu()}function np(r){return vc(r)&&!_c(r).Uo()&&r.Au.size>0}function vc(r){return 0===fi(r).vu.size}function Xc(r){r.Vu=void 0}function p0(r){return yg.apply(this,arguments)}function yg(){return yg=(0,c.Z)(function*(r){r.Au.forEach((e,t)=>{gg(r,e)})}),yg.apply(this,arguments)}function g0(r,e){return ey.apply(this,arguments)}function ey(){return ey=(0,c.Z)(function*(r,e){Xc(r),np(r)?(r.bu.Iu(e),mg(r)):r.bu.set("Unknown")}),ey.apply(this,arguments)}function ty(r,e,t){return ny.apply(this,arguments)}function ny(){return ny=(0,c.Z)(function*(r,e,t){if(r.bu.set("Online"),e instanceof Dh&&2===e.state&&e.cause)try{yield(o=(0,c.Z)(function*(d,_){const T=_.cause;for(const J of _.targetIds)d.Au.has(J)&&(yield d.remoteSyncer.rejectListen(J,T),d.Au.delete(J),d.Vu.removeTarget(J))}),function(d,_){return o.apply(this,arguments)})(r,e)}catch(o){wi("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),o),yield Qh(r,o)}else if(e instanceof uu?r.Vu.Ht(e):e instanceof Rf?r.Vu.ne(e):r.Vu.Xt(e),!t.isEqual(Zr.min()))try{const o=yield Wd(r.localStore);t.compareTo(o)>=0&&(yield function(d,_){const T=d.Vu.ce(_);return T.targetChanges.forEach((J,ye)=>{if(J.resumeToken.approximateByteSize()>0){const Oe=d.Au.get(ye);Oe&&d.Au.set(ye,Oe.withResumeToken(J.resumeToken,_))}}),T.targetMismatches.forEach((J,ye)=>{const Oe=d.Au.get(J);if(!Oe)return;d.Au.set(J,Oe.withResumeToken(ma.EMPTY_BYTE_STRING,Oe.snapshotVersion)),Jm(d,J);const gt=new lc(Oe.target,J,ye,Oe.sequenceNumber);gg(d,gt)}),d.remoteSyncer.applyRemoteEvent(T)}(r,t))}catch(o){wi("RemoteStore","Failed to raise snapshot:",o),yield Qh(r,o)}var o}),ny.apply(this,arguments)}function Qh(r,e,t){return hd.apply(this,arguments)}function hd(){return hd=(0,c.Z)(function*(r,e,t){if(!ba(e))throw e;r.vu.add(1),yield dd(r),r.bu.set("Offline"),t||(t=()=>Wd(r.localStore)),r.asyncQueue.enqueueRetryable((0,c.Z)(function*(){wi("RemoteStore","Retrying IndexedDB access"),yield t(),r.vu.delete(1),yield Fu(r)}))}),hd.apply(this,arguments)}function vg(r,e){return e().catch(t=>Qh(r,t,e))}function fd(r){return ip.apply(this,arguments)}function ip(){return ip=(0,c.Z)(function*(r){const e=fi(r),t=bc(e);let o=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;To(e);)try{const d=yield og(e.localStore,o);if(null===d){0===e.Eu.length&&t.jo();break}o=d.batchId,iy(e,d)}catch(d){yield Qh(e,d)}_g(e)&&bv(e)}),ip.apply(this,arguments)}function To(r){return vc(r)&&r.Eu.length<10}function iy(r,e){r.Eu.push(e);const t=bc(r);t.Ko()&&t.ou&&t.uu(e.mutations)}function _g(r){return vc(r)&&!bc(r).Uo()&&r.Eu.length>0}function bv(r){bc(r).start()}function wv(r){return rp.apply(this,arguments)}function rp(){return rp=(0,c.Z)(function*(r){bc(r).hu()}),rp.apply(this,arguments)}function Ev(r){return bg.apply(this,arguments)}function bg(){return bg=(0,c.Z)(function*(r){const e=bc(r);for(const t of r.Eu)e.uu(t.mutations)}),bg.apply(this,arguments)}function ry(r,e,t){return wg.apply(this,arguments)}function wg(){return wg=(0,c.Z)(function*(r,e,t){const o=r.Eu.shift(),d=Eh.from(o,e,t);yield vg(r,()=>r.remoteSyncer.applySuccessfulWrite(d)),yield fd(r)}),wg.apply(this,arguments)}function sy(r,e){return Eg.apply(this,arguments)}function Eg(){return Eg=(0,c.Z)(function*(r,e){var t;e&&bc(r).ou&&(yield(t=(0,c.Z)(function*(o,d){if(Zu(_=d.code)&&_!==Zn.ABORTED){const T=o.Eu.shift();bc(o).Qo(),yield vg(o,()=>o.remoteSyncer.rejectFailedWrite(T.batchId,d)),yield fd(o)}var _}),function(o,d){return t.apply(this,arguments)})(r,e)),_g(r)&&bv(r)}),Eg.apply(this,arguments)}function oy(r,e){return Sg.apply(this,arguments)}function Sg(){return Sg=(0,c.Z)(function*(r,e){const t=fi(r);t.asyncQueue.verifyOperationInProgress(),wi("RemoteStore","RemoteStore received new credentials");const o=vc(t);t.vu.add(3),yield dd(t),o&&t.bu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.vu.delete(3),yield Fu(t)}),Sg.apply(this,arguments)}function sp(r,e){return op.apply(this,arguments)}function op(){return op=(0,c.Z)(function*(r,e){const t=fi(r);e?(t.vu.delete(2),yield Fu(t)):e||(t.vu.add(2),yield dd(t),t.bu.set("Unknown"))}),op.apply(this,arguments)}function _c(r){return r.Su||(r.Su=function(e,t,o){const d=fi(e);return d.fu(),new Xm(t,d.connection,d.authCredentials,d.appCheckCredentials,d.serializer,o)}(r.datastore,r.asyncQueue,{uo:p0.bind(null,r),ao:g0.bind(null,r),nu:ty.bind(null,r)}),r.Ru.push(function(){var e=(0,c.Z)(function*(t){t?(r.Su.Qo(),np(r)?mg(r):r.bu.set("Unknown")):(yield r.Su.stop(),Xc(r))});return function(t){return e.apply(this,arguments)}}())),r.Su}function bc(r){return r.Du||(r.Du=function(e,t,o){const d=fi(e);return d.fu(),new f0(t,d.connection,d.authCredentials,d.appCheckCredentials,d.serializer,o)}(r.datastore,r.asyncQueue,{uo:wv.bind(null,r),ao:sy.bind(null,r),au:Ev.bind(null,r),cu:ry.bind(null,r)}),r.Ru.push(function(){var e=(0,c.Z)(function*(t){t?(r.Du.Qo(),yield fd(r)):(yield r.Du.stop(),r.Eu.length>0&&(wi("RemoteStore",`Stopping write stream with ${r.Eu.length} pending writes`),r.Eu=[]))});return function(t){return e.apply(this,arguments)}}())),r.Du}class ap{constructor(e,t,o,d,_){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=o,this.op=d,this.removalCallback=_,this.deferred=new ao,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(T=>{})}static createAndSchedule(e,t,o,d,_){const T=Date.now()+o,J=new ap(e,t,T,d,_);return J.start(o),J}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Ri(Zn.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Zd(r,e){if(Ts("AsyncQueue",`${e}: ${r}`),ba(r))return new Ri(Zn.UNAVAILABLE,`${e}: ${r}`);throw r}class yu{constructor(e){this.comparator=e?(t,o)=>e(t,o)||Ji.comparator(t.key,o.key):(t,o)=>Ji.comparator(t.key,o.key),this.keyedMap=dl(),this.sortedSet=new Br(this.comparator)}static emptySet(e){return new yu(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,o)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof yu)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),o=e.sortedSet.getIterator();for(;t.hasNext();){const d=t.getNext().key,_=o.getNext().key;if(!d.isEqual(_))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const o=new yu;return o.comparator=this.comparator,o.keyedMap=e,o.sortedSet=t,o}}class pd{constructor(){this.Cu=new Br(Ji.comparator)}track(e){const t=e.doc.key,o=this.Cu.get(t);o?0!==e.type&&3===o.type?this.Cu=this.Cu.insert(t,e):3===e.type&&1!==o.type?this.Cu=this.Cu.insert(t,{type:o.type,doc:e.doc}):2===e.type&&2===o.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===o.type?this.Cu=this.Cu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===o.type?this.Cu=this.Cu.remove(t):1===e.type&&2===o.type?this.Cu=this.Cu.insert(t,{type:1,doc:o.doc}):0===e.type&&1===o.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):gr():this.Cu=this.Cu.insert(t,e)}xu(){const e=[];return this.Cu.inorderTraversal((t,o)=>{e.push(o)}),e}}class Bu{constructor(e,t,o,d,_,T,J,ye,Oe){this.query=e,this.docs=t,this.oldDocs=o,this.docChanges=d,this.mutatedKeys=_,this.fromCache=T,this.syncStateChanged=J,this.excludesMetadataChanges=ye,this.hasCachedResults=Oe}static fromInitialDocuments(e,t,o,d,_){const T=[];return t.forEach(J=>{T.push({type:0,doc:J})}),new Bu(e,t,yu.emptySet(t),T,o,d,!0,!1,_)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ir(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,o=e.docChanges;if(t.length!==o.length)return!1;for(let d=0;d<t.length;d++)if(t[d].type!==o[d].type||!t[d].doc.isEqual(o[d].doc))return!1;return!0}}class Jh{constructor(){this.Nu=void 0,this.listeners=[]}}class ay{constructor(){this.queries=new ka(e=>Kr(e),ir),this.onlineState="Unknown",this.ku=new Set}}function ef(r,e){return tf.apply(this,arguments)}function tf(){return tf=(0,c.Z)(function*(r,e){const t=fi(r),o=e.query;let d=!1,_=t.queries.get(o);if(_||(d=!0,_=new Jh),d)try{_.Nu=yield t.onListen(o)}catch(T){const J=Zd(T,`Initialization of query '${Ds(e.query)}' failed`);return void e.onError(J)}t.queries.set(o,_),_.listeners.push(e),e.Mu(t.onlineState),_.Nu&&e.$u(_.Nu)&&Ig(t)}),tf.apply(this,arguments)}function nf(r,e){return lp.apply(this,arguments)}function lp(){return lp=(0,c.Z)(function*(r,e){const t=fi(r),o=e.query;let d=!1;const _=t.queries.get(o);if(_){const T=_.listeners.indexOf(e);T>=0&&(_.listeners.splice(T,1),d=0===_.listeners.length)}if(d)return t.queries.delete(o),t.onUnlisten(o)}),lp.apply(this,arguments)}function Cg(r,e){const t=fi(r);let o=!1;for(const d of e){const T=t.queries.get(d.query);if(T){for(const J of T.listeners)J.$u(d)&&(o=!0);T.Nu=d}}o&&Ig(t)}function Sv(r,e,t){const o=fi(r),d=o.queries.get(e);if(d)for(const _ of d.listeners)_.onError(t);o.queries.delete(e)}function Ig(r){r.ku.forEach(e=>{e.next()})}class Tg{constructor(e,t,o){this.query=e,this.Ou=t,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=o||{}}$u(e){if(!this.options.includeMetadataChanges){const o=[];for(const d of e.docChanges)3!==d.type&&o.push(d);e=new Bu(e.query,e.docs,e.oldDocs,o,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),t=!0):this.qu(e,this.onlineState)&&(this.Uu(e),t=!0),this.Bu=e,t}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let t=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),t=!0),t}qu(e,t){return!e.fromCache||(!this.options.Ku||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Lu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Uu(e){e=Bu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class ly{constructor(e,t){this.Gu=e,this.byteLength=t}Qu(){return"metadata"in this.Gu}}class cy{constructor(e){this.serializer=e}rr(e){return ll(this.serializer,e)}ur(e){return e.metadata.exists?Nc(this.serializer,e.document,!1):xi.newNoDocument(this.rr(e.metadata.name),this.cr(e.metadata.readTime))}cr(e){return pl(e)}}class Cv{constructor(e,t,o){this.ju=e,this.localStore=t,this.serializer=o,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=uy(e)}zu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.Gu.namedQuery)this.queries.push(e.Gu.namedQuery);else if(e.Gu.documentMetadata){this.documents.push({metadata:e.Gu.documentMetadata}),e.Gu.documentMetadata.exists||++t;const o=zs.fromString(e.Gu.documentMetadata.name);this.collectionGroups.add(o.get(o.length-2))}else e.Gu.document&&(this.documents[this.documents.length-1].document=e.Gu.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}Wu(e){const t=new Map,o=new cy(this.serializer);for(const d of e)if(d.metadata.queries){const _=o.rr(d.metadata.name);for(const T of d.metadata.queries){const J=(t.get(T)||mo()).add(_);t.set(T,J)}}return t}complete(){var e=this;return(0,c.Z)(function*(){const t=yield function h0(r,e,t,o){return cg.apply(this,arguments)}(e.localStore,new cy(e.serializer),e.documents,e.ju.id),o=e.Wu(e.documents);for(const d of e.queries)yield ug(e.localStore,d,o.get(d.name));return e.progress.taskState="Success",{progress:e.progress,Hu:e.collectionGroups,Ju:t}})()}}function uy(r){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:r.totalDocuments,totalBytes:r.totalBytes}}class dy{constructor(e){this.key=e}}class Dg{constructor(e){this.key=e}}class Ag{constructor(e,t){this.query=e,this.Yu=t,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=mo(),this.mutatedKeys=mo(),this.tc=dc(e),this.ec=new yu(this.tc)}get nc(){return this.Yu}sc(e,t){const o=t?t.ic:new pd,d=t?t.ec:this.ec;let _=t?t.mutatedKeys:this.mutatedKeys,T=d,J=!1;const ye="F"===this.query.limitType&&d.size===this.query.limit?d.last():null,Oe="L"===this.query.limitType&&d.size===this.query.limit?d.first():null;if(e.inorderTraversal((gt,cn)=>{const Wn=d.get(gt),vi=wo(this.query,cn)?cn:null,cr=!!Wn&&this.mutatedKeys.has(Wn.key),ts=!!vi&&(vi.hasLocalMutations||this.mutatedKeys.has(vi.key)&&vi.hasCommittedMutations);let ds=!1;Wn&&vi?Wn.data.isEqual(vi.data)?cr!==ts&&(o.track({type:3,doc:vi}),ds=!0):this.rc(Wn,vi)||(o.track({type:2,doc:vi}),ds=!0,(ye&&this.tc(vi,ye)>0||Oe&&this.tc(vi,Oe)<0)&&(J=!0)):!Wn&&vi?(o.track({type:0,doc:vi}),ds=!0):Wn&&!vi&&(o.track({type:1,doc:Wn}),ds=!0,(ye||Oe)&&(J=!0)),ds&&(vi?(T=T.add(vi),_=ts?_.add(gt):_.delete(gt)):(T=T.delete(gt),_=_.delete(gt)))}),null!==this.query.limit)for(;T.size>this.query.limit;){const gt="F"===this.query.limitType?T.last():T.first();T=T.delete(gt.key),_=_.delete(gt.key),o.track({type:1,doc:gt})}return{ec:T,ic:o,zi:J,mutatedKeys:_}}rc(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,o){const d=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const _=e.ic.xu();_.sort((Oe,gt)=>function(cn,Wn){const vi=cr=>{switch(cr){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return gr()}};return vi(cn)-vi(Wn)}(Oe.type,gt.type)||this.tc(Oe.doc,gt.doc)),this.oc(o);const T=t?this.uc():[],J=0===this.Zu.size&&this.current?1:0,ye=J!==this.Xu;return this.Xu=J,0!==_.length||ye?{snapshot:new Bu(this.query,e.ec,d,_,e.mutatedKeys,0===J,ye,!1,!!o&&o.resumeToken.approximateByteSize()>0),cc:T}:{cc:T}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new pd,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(t=>this.Yu=this.Yu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Yu=this.Yu.delete(t)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=mo(),this.ec.forEach(o=>{this.ac(o.key)&&(this.Zu=this.Zu.add(o.key))});const t=[];return e.forEach(o=>{this.Zu.has(o)||t.push(new Dg(o))}),this.Zu.forEach(o=>{e.has(o)||t.push(new dy(o))}),t}hc(e){this.Yu=e.ir,this.Zu=mo();const t=this.sc(e.documents);return this.applyChanges(t,!0)}lc(){return Bu.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class Iv{constructor(e,t,o){this.query=e,this.targetId=t,this.view=o}}class Tv{constructor(e){this.key=e,this.fc=!1}}class wc{constructor(e,t,o,d,_,T){this.localStore=e,this.remoteStore=t,this.eventManager=o,this.sharedClientState=d,this.currentUser=_,this.maxConcurrentLimboResolutions=T,this.dc={},this.wc=new ka(J=>Kr(J),ir),this._c=new Map,this.mc=new Set,this.gc=new Br(Ji.comparator),this.yc=new Map,this.Ic=new Yf,this.Tc={},this.Ec=new Map,this.Ac=gu.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}function Dv(r,e){return xg.apply(this,arguments)}function xg(){return xg=(0,c.Z)(function*(r,e){const t=Jd(r);let o,d;const _=t.wc.get(e);if(_)o=_.targetId,t.sharedClientState.addLocalQueryTarget(o),d=_.view.lc();else{const T=yield ld(t.localStore,ht(e)),J=t.sharedClientState.addLocalQueryTarget(T.targetId);o=T.targetId,d=yield hy(t,e,o,"current"===J,T.resumeToken),t.isPrimaryClient&&tp(t.remoteStore,T)}return d}),xg.apply(this,arguments)}function hy(r,e,t,o,d){return rf.apply(this,arguments)}function rf(){return rf=(0,c.Z)(function*(r,e,t,o,d){r.Rc=(cn,Wn,vi)=>{return(cr=(0,c.Z)(function*(ts,ds,ko,ga){let Xo=ds.view.sc(ko);Xo.zi&&(Xo=yield jh(ts.localStore,ds.query,!1).then(({documents:el})=>ds.view.sc(el,Xo)));const Ol=ga&&ga.targetChanges.get(ds.targetId),Dl=ds.view.applyChanges(Xo,ts.isPrimaryClient,Ol);return up(ts,ds.targetId,Dl.cc),Dl.snapshot}),function(ts,ds,ko,ga){return cr.apply(this,arguments)})(r,cn,Wn,vi);var cr};const _=yield jh(r.localStore,e,!0),T=new Ag(e,_.ir),J=T.sc(_.documents),ye=xd.createSynthesizedTargetChangeForCurrentChange(t,o&&"Offline"!==r.onlineState,d),Oe=T.applyChanges(J,r.isPrimaryClient,ye);up(r,t,Oe.cc);const gt=new Iv(e,t,T);return r.wc.set(e,gt),r._c.has(t)?r._c.get(t).push(e):r._c.set(t,[e]),Oe.snapshot}),rf.apply(this,arguments)}function fy(r,e){return Mg.apply(this,arguments)}function Mg(){return Mg=(0,c.Z)(function*(r,e){const t=fi(r),o=t.wc.get(e),d=t._c.get(o.targetId);if(d.length>1)return t._c.set(o.targetId,d.filter(_=>!ir(_,e))),void t.wc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(o.targetId),t.sharedClientState.isActiveQueryTarget(o.targetId)||(yield Gd(t.localStore,o.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(o.targetId),Xh(t.remoteStore,o.targetId),Xd(t,o.targetId)}).catch(Ca))):(Xd(t,o.targetId),yield Gd(t.localStore,o.targetId,!0))}),Mg.apply(this,arguments)}function Pg(){return Pg=(0,c.Z)(function*(r,e,t){const o=Gg(r);try{const d=yield function(_,T){const J=fi(_),ye=Ko.now(),Oe=T.reduce((Wn,vi)=>Wn.add(vi.key),mo());let gt,cn;return J.persistence.runTransaction("Locally write mutations","readwrite",Wn=>{let vi=Ua(),cr=mo();return J.Zi.getEntries(Wn,Oe).next(ts=>{vi=ts,vi.forEach((ds,ko)=>{ko.isValidDocument()||(cr=cr.add(ds))})}).next(()=>J.localDocuments.getOverlayedDocuments(Wn,vi)).next(ts=>{gt=ts;const ds=[];for(const ko of T){const ga=Vp(ko,gt.get(ko.key).overlayedDocument);null!=ga&&ds.push(new Ac(ko.key,ga,$n(ga.value.mapValue),Ya.exists(!0)))}return J.mutationQueue.addMutationBatch(Wn,ye,ds,T)}).next(ts=>{cn=ts;const ds=ts.applyToLocalDocumentSet(gt,cr);return J.documentOverlayCache.saveOverlays(Wn,ts.batchId,ds)})}).then(()=>({batchId:cn.batchId,changes:El(gt)}))}(o.localStore,e);o.sharedClientState.addPendingMutation(d.batchId),function(_,T,J){let ye=_.Tc[_.currentUser.toKey()];ye||(ye=new Br(As)),ye=ye.insert(T,J),_.Tc[_.currentUser.toKey()]=ye}(o,d.batchId,t),yield $u(o,d.changes),yield fd(o.remoteStore)}catch(d){const _=Zd(d,"Failed to persist write");t.reject(_)}}),Pg.apply(this,arguments)}function Rg(r,e){return Og.apply(this,arguments)}function Og(){return Og=(0,c.Z)(function*(r,e){const t=fi(r);try{const o=yield function d0(r,e){const t=fi(r),o=e.snapshotVersion;let d=t.Ji;return t.persistence.runTransaction("Apply remote event","readwrite-primary",_=>{const T=t.Zi.newChangeBuffer({trackRemovals:!0});d=t.Ji;const J=[];e.targetChanges.forEach((gt,cn)=>{const Wn=d.get(cn);if(!Wn)return;J.push(t.Bs.removeMatchingKeys(_,gt.removedDocuments,cn).next(()=>t.Bs.addMatchingKeys(_,gt.addedDocuments,cn)));let vi=Wn.withSequenceNumber(_.currentSequenceNumber);var cr,ts,ds;null!==e.targetMismatches.get(cn)?vi=vi.withResumeToken(ma.EMPTY_BYTE_STRING,Zr.min()).withLastLimboFreeSnapshotVersion(Zr.min()):gt.resumeToken.approximateByteSize()>0&&(vi=vi.withResumeToken(gt.resumeToken,o)),d=d.insert(cn,vi),ts=vi,ds=gt,(0===(cr=Wn).resumeToken.approximateByteSize()||ts.snapshotVersion.toMicroseconds()-cr.snapshotVersion.toMicroseconds()>=3e8||ds.addedDocuments.size+ds.modifiedDocuments.size+ds.removedDocuments.size>0)&&J.push(t.Bs.updateTargetData(_,vi))});let ye=Ua(),Oe=mo();if(e.documentUpdates.forEach(gt=>{e.resolvedLimboDocuments.has(gt)&&J.push(t.persistence.referenceDelegate.updateLimboDocument(_,gt))}),J.push(Xf(_,T,e.documentUpdates).next(gt=>{ye=gt.nr,Oe=gt.sr})),!o.isEqual(Zr.min())){const gt=t.Bs.getLastRemoteSnapshotVersion(_).next(cn=>t.Bs.setTargetsMetadata(_,_.currentSequenceNumber,o));J.push(gt)}return Bn.waitFor(J).next(()=>T.apply(_)).next(()=>t.localDocuments.getLocalViewOfDocuments(_,ye,Oe)).next(()=>ye)}).then(_=>(t.Ji=d,_))}(t.localStore,e);e.targetChanges.forEach((d,_)=>{const T=t.yc.get(_);T&&(zr(d.addedDocuments.size+d.modifiedDocuments.size+d.removedDocuments.size<=1),d.addedDocuments.size>0?T.fc=!0:d.modifiedDocuments.size>0?zr(T.fc):d.removedDocuments.size>0&&(zr(T.fc),T.fc=!1))}),yield $u(t,o,e)}catch(o){yield Ca(o)}}),Og.apply(this,arguments)}function py(r,e,t){const o=fi(r);if(o.isPrimaryClient&&0===t||!o.isPrimaryClient&&1===t){const d=[];o.wc.forEach((_,T)=>{const J=T.view.Mu(e);J.snapshot&&d.push(J.snapshot)}),function(_,T){const J=fi(_);J.onlineState=T;let ye=!1;J.queries.forEach((Oe,gt)=>{for(const cn of gt.listeners)cn.Mu(T)&&(ye=!0)}),ye&&Ig(J)}(o.eventManager,e),d.length&&o.dc.nu(d),o.onlineState=e,o.isPrimaryClient&&o.sharedClientState.setOnlineState(e)}}function kg(r,e,t){return Ng.apply(this,arguments)}function Ng(){return Ng=(0,c.Z)(function*(r,e,t){const o=fi(r);o.sharedClientState.updateQueryState(e,"rejected",t);const d=o.yc.get(e),_=d&&d.key;if(_){let T=new Br(Ji.comparator);T=T.insert(_,xi.newNoDocument(_,Zr.min()));const J=mo().add(_),ye=new Qu(Zr.min(),new Map,new Br(As),T,J);yield Rg(o,ye),o.gc=o.gc.remove(_),o.yc.delete(e),af(o)}else yield Gd(o.localStore,e,!1).then(()=>Xd(o,e,t)).catch(Ca)}),Ng.apply(this,arguments)}function xv(r,e){return Lg.apply(this,arguments)}function Lg(){return Lg=(0,c.Z)(function*(r,e){const t=fi(r),o=e.batch.batchId;try{const d=yield function Zf(r,e){const t=fi(r);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",o=>{const d=e.batch.keys(),_=t.Zi.newChangeBuffer({trackRemovals:!0});return function(T,J,ye,Oe){const gt=ye.batch,cn=gt.keys();let Wn=Bn.resolve();return cn.forEach(vi=>{Wn=Wn.next(()=>Oe.getEntry(J,vi)).next(cr=>{const ts=ye.docVersions.get(vi);zr(null!==ts),cr.version.compareTo(ts)<0&&(gt.applyToRemoteDocument(cr,ye),cr.isValidDocument()&&(cr.setReadTime(ye.commitVersion),Oe.addEntry(cr)))})}),Wn.next(()=>T.mutationQueue.removeMutationBatch(J,gt))}(t,o,e,_).next(()=>_.apply(o)).next(()=>t.mutationQueue.performConsistencyCheck(o)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(o,d,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(o,function(T){let J=mo();for(let ye=0;ye<T.mutationResults.length;++ye)T.mutationResults[ye].transformResults.length>0&&(J=J.add(T.batch.mutations[ye].key));return J}(e))).next(()=>t.localDocuments.getDocuments(o,d))})}(t.localStore,e);cp(t,o,null),Bg(t,o),t.sharedClientState.updateMutationState(o,"acknowledged"),yield $u(t,d)}catch(d){yield Ca(d)}}),Lg.apply(this,arguments)}function Mv(r,e,t){return Fg.apply(this,arguments)}function Fg(){return Fg=(0,c.Z)(function*(r,e,t){const o=fi(r);try{const d=yield function(_,T){const J=fi(_);return J.persistence.runTransaction("Reject batch","readwrite-primary",ye=>{let Oe;return J.mutationQueue.lookupMutationBatch(ye,T).next(gt=>(zr(null!==gt),Oe=gt.keys(),J.mutationQueue.removeMutationBatch(ye,gt))).next(()=>J.mutationQueue.performConsistencyCheck(ye)).next(()=>J.documentOverlayCache.removeOverlaysForBatchId(ye,Oe,T)).next(()=>J.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(ye,Oe)).next(()=>J.localDocuments.getDocuments(ye,Oe))})}(o.localStore,e);cp(o,e,t),Bg(o,e),o.sharedClientState.updateMutationState(e,"rejected",t),yield $u(o,d)}catch(d){yield Ca(d)}}),Fg.apply(this,arguments)}function sf(){return sf=(0,c.Z)(function*(r,e){const t=fi(r);vc(t.remoteStore)||wi("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const o=yield function(_){const T=fi(_);return T.persistence.runTransaction("Get highest unacknowledged batch id","readonly",J=>T.mutationQueue.getHighestUnacknowledgedBatchId(J))}(t.localStore);if(-1===o)return void e.resolve();const d=t.Ec.get(o)||[];d.push(e),t.Ec.set(o,d)}catch(o){const d=Zd(o,"Initialization of waitForPendingWrites() operation failed");e.reject(d)}}),sf.apply(this,arguments)}function Bg(r,e){(r.Ec.get(e)||[]).forEach(t=>{t.resolve()}),r.Ec.delete(e)}function cp(r,e,t){const o=fi(r);let d=o.Tc[o.currentUser.toKey()];if(d){const _=d.get(e);_&&(t?_.reject(t):_.resolve(),d=d.remove(e)),o.Tc[o.currentUser.toKey()]=d}}function Xd(r,e,t=null){r.sharedClientState.removeLocalQueryTarget(e);for(const o of r._c.get(e))r.wc.delete(o),t&&r.dc.Pc(o,t);r._c.delete(e),r.isPrimaryClient&&r.Ic.Is(e).forEach(o=>{r.Ic.containsKey(o)||$g(r,o)})}function $g(r,e){r.mc.delete(e.path.canonicalString());const t=r.gc.get(e);null!==t&&(Xh(r.remoteStore,t),r.gc=r.gc.remove(e),r.yc.delete(t),af(r))}function up(r,e,t){for(const o of t)o instanceof dy?(r.Ic.addReference(o.key,e),dp(r,o)):o instanceof Dg?(wi("SyncEngine","Document no longer in limbo: "+o.key),r.Ic.removeReference(o.key,e),r.Ic.containsKey(o.key)||$g(r,o.key)):gr()}function dp(r,e){const t=e.key,o=t.path.canonicalString();r.gc.get(t)||r.mc.has(o)||(wi("SyncEngine","New document in limbo: "+t),r.mc.add(o),af(r))}function af(r){for(;r.mc.size>0&&r.gc.size<r.maxConcurrentLimboResolutions;){const e=r.mc.values().next().value;r.mc.delete(e);const t=new Ji(zs.fromString(e)),o=r.Ac.next();r.yc.set(o,new Tv(t)),r.gc=r.gc.insert(t,o),tp(r.remoteStore,new lc(ht(Tc(t.path)),o,"TargetPurposeLimboResolution",Ee.ct))}}function $u(r,e,t){return hp.apply(this,arguments)}function hp(){return hp=(0,c.Z)(function*(r,e,t){const o=fi(r),d=[],_=[],T=[];var J;o.wc.isEmpty()||(o.wc.forEach((J,ye)=>{T.push(o.Rc(ye,e,t).then(Oe=>{if((Oe||t)&&o.isPrimaryClient&&o.sharedClientState.updateQueryState(ye.targetId,null!=Oe&&Oe.fromCache?"not-current":"current"),Oe){d.push(Oe);const gt=Ud.Li(ye.targetId,Oe);_.push(gt)}}))}),yield Promise.all(T),o.dc.nu(d),yield(J=(0,c.Z)(function*(ye,Oe){const gt=fi(ye);try{yield gt.persistence.runTransaction("notifyLocalViewChanges","readwrite",cn=>Bn.forEach(Oe,Wn=>Bn.forEach(Wn.Fi,vi=>gt.persistence.referenceDelegate.addReference(cn,Wn.targetId,vi)).next(()=>Bn.forEach(Wn.Bi,vi=>gt.persistence.referenceDelegate.removeReference(cn,Wn.targetId,vi)))))}catch(cn){if(!ba(cn))throw cn;wi("LocalStore","Failed to update sequence numbers: "+cn)}for(const cn of Oe){const Wn=cn.targetId;if(!cn.fromCache){const vi=gt.Ji.get(Wn),ts=vi.withLastLimboFreeSnapshotVersion(vi.snapshotVersion);gt.Ji=gt.Ji.insert(Wn,ts)}}}),function(ye,Oe){return J.apply(this,arguments)})(o.localStore,_))}),hp.apply(this,arguments)}function gy(r,e){return fp.apply(this,arguments)}function fp(){return fp=(0,c.Z)(function*(r,e){const t=fi(r);if(!t.currentUser.isEqual(e)){wi("SyncEngine","User change. New user:",e.toKey());const o=yield Hd(t.localStore,e);t.currentUser=e,(d=t).Ec.forEach(T=>{T.forEach(J=>{J.reject(new Ri(Zn.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),d.Ec.clear(),t.sharedClientState.handleUserChange(e,o.removedBatchIds,o.addedBatchIds),yield $u(t,o.er)}var d}),fp.apply(this,arguments)}function my(r,e){const t=fi(r),o=t.yc.get(e);if(o&&o.fc)return mo().add(o.key);{let d=mo();const _=t._c.get(e);if(!_)return d;for(const T of _){const J=t.wc.get(T);d=d.unionWith(J.view.nc)}return d}}function Vg(r,e){return Bc.apply(this,arguments)}function Bc(){return Bc=(0,c.Z)(function*(r,e){const t=fi(r),o=yield jh(t.localStore,e.query,!0),d=e.view.hc(o);return t.isPrimaryClient&&up(t,e.targetId,d.cc),d}),Bc.apply(this,arguments)}function Pv(r,e){return Ug.apply(this,arguments)}function Ug(){return Ug=(0,c.Z)(function*(r,e){const t=fi(r);return jm(t.localStore,e).then(o=>$u(t,o))}),Ug.apply(this,arguments)}function zg(r,e,t,o){return jg.apply(this,arguments)}function jg(){return jg=(0,c.Z)(function*(r,e,t,o){const d=fi(r),_=yield function(T,J){const ye=fi(T),Oe=fi(ye.mutationQueue);return ye.persistence.runTransaction("Lookup mutation documents","readonly",gt=>Oe.Sn(gt,J).next(cn=>cn?ye.localDocuments.getDocuments(gt,cn):Bn.resolve(null)))}(d.localStore,e);var J;null!==_?("pending"===t?yield fd(d.remoteStore):"acknowledged"===t||"rejected"===t?(cp(d,e,o||null),Bg(d,e),J=e,fi(fi(d.localStore).mutationQueue).Cn(J)):gr(),yield $u(d,_)):wi("SyncEngine","Cannot apply mutation batch with id: "+e)}),jg.apply(this,arguments)}function Hg(){return Hg=(0,c.Z)(function*(r,e){const t=fi(r);if(Jd(t),Gg(t),!0===e&&!0!==t.vc){const o=t.sharedClientState.getAllActiveQueryTargets(),d=yield Ov(t,o.toArray());t.vc=!0,yield sp(t.remoteStore,!0);for(const _ of d)tp(t.remoteStore,_)}else if(!1===e&&!1!==t.vc){const o=[];let d=Promise.resolve();t._c.forEach((_,T)=>{t.sharedClientState.isLocalQueryTarget(T)?o.push(T):d=d.then(()=>(Xd(t,T),Gd(t.localStore,T,!0))),Xh(t.remoteStore,T)}),yield d,yield Ov(t,o),function(_){const T=fi(_);T.yc.forEach((J,ye)=>{Xh(T.remoteStore,ye)}),T.Ic.Ts(),T.yc=new Map,T.gc=new Br(Ji.comparator)}(t),t.vc=!1,yield sp(t.remoteStore,!1)}}),Hg.apply(this,arguments)}function Ov(r,e,t){return pp.apply(this,arguments)}function pp(){return pp=(0,c.Z)(function*(r,e,t){const o=fi(r),d=[],_=[];for(const T of e){let J;const ye=o._c.get(T);if(ye&&0!==ye.length){J=yield ld(o.localStore,ht(ye[0]));for(const Oe of ye){const gt=o.wc.get(Oe),cn=yield Vg(o,gt);cn.snapshot&&_.push(cn.snapshot)}}else{const Oe=yield lg(o.localStore,T);J=yield ld(o.localStore,Oe),yield hy(o,yy(Oe),T,!1,J.resumeToken)}d.push(J)}return o.dc.nu(_),d}),pp.apply(this,arguments)}function yy(r){return Ic(r.path,r.collectionGroup,r.orderBy,r.filters,r.limit,"F",r.startAt,r.endAt)}function gp(r){const e=fi(r);return fi(fi(e.localStore).persistence).$i()}function lf(r,e,t,o){return Qd.apply(this,arguments)}function Qd(){return Qd=(0,c.Z)(function*(r,e,t,o){const d=fi(r);if(d.vc)return void wi("SyncEngine","Ignoring unexpected query state notification.");const _=d._c.get(e);if(_&&_.length>0)switch(t){case"current":case"not-current":{const T=yield jm(d.localStore,Bl(_[0])),J=Qu.createSynthesizedRemoteEventForCurrentChange(e,"current"===t,ma.EMPTY_BYTE_STRING);yield $u(d,T,J);break}case"rejected":yield Gd(d.localStore,e,!0),Xd(d,e,o);break;default:gr()}}),Qd.apply(this,arguments)}function m0(r,e,t){return Wg.apply(this,arguments)}function Wg(){return Wg=(0,c.Z)(function*(r,e,t){const o=Jd(r);if(o.vc){for(const d of e){if(o._c.has(d)){wi("SyncEngine","Adding an already active target "+d);continue}const _=yield lg(o.localStore,d),T=yield ld(o.localStore,_);yield hy(o,yy(_),T.targetId,!1,T.resumeToken),tp(o.remoteStore,T)}for(const d of t)o._c.has(d)&&(yield Gd(o.localStore,d,!1).then(()=>{Xh(o.remoteStore,d),Xd(o,d)}).catch(Ca))}}),Wg.apply(this,arguments)}function Jd(r){const e=fi(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=Rg.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=my.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=kg.bind(null,e),e.dc.nu=Cg.bind(null,e.eventManager),e.dc.Pc=Sv.bind(null,e.eventManager),e}function Gg(r){const e=fi(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=xv.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Mv.bind(null,e),e}class cf{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,c.Z)(function*(){t.serializer=Yd(e.databaseInfo.databaseId),t.sharedClientState=t.createSharedClientState(e),t.persistence=t.createPersistence(e),yield t.persistence.start(),t.localStore=t.createLocalStore(e),t.gcScheduler=t.createGarbageCollectionScheduler(e,t.localStore),t.indexBackfillerScheduler=t.createIndexBackfillerScheduler(e,t.localStore)})()}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return jd(this.persistence,new zh,e.initialUser,this.serializer)}createPersistence(e){return new ig(rg.zs,this.serializer)}createSharedClientState(e){return new Ym}terminate(){var e=this;return(0,c.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class Kg extends cf{constructor(e,t,o){super(),this.Vc=e,this.cacheSizeBytes=t,this.forceOwnership=o,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,o=this;return(0,c.Z)(function*(){yield t().call(o,e),yield o.Vc.initialize(o,e),yield Gg(o.Vc.syncEngine),yield fd(o.Vc.remoteStore),yield o.persistence.Ii(()=>(o.gcScheduler&&!o.gcScheduler.started&&o.gcScheduler.start(),o.indexBackfillerScheduler&&!o.indexBackfillerScheduler.started&&o.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(e){return jd(this.persistence,new zh,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,t){return new ku(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}createIndexBackfillerScheduler(e,t){const o=new te(t,this.persistence);return new L(e.asyncQueue,o)}createPersistence(e){const t=ad(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),o=void 0!==this.cacheSizeBytes?Rl.withCacheSize(this.cacheSizeBytes):Rl.DEFAULT;return new sg(this.synchronizeTabs,t,e.clientId,o,e.asyncQueue,Zm(),qh(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new Ym}}class eh extends Kg{constructor(e,t){super(e,t,!1),this.Vc=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,o=this;return(0,c.Z)(function*(){yield t().call(o,e);const d=o.Vc.syncEngine;o.sharedClientState instanceof Gm&&(o.sharedClientState.syncEngine={jr:zg.bind(null,d),zr:lf.bind(null,d),Wr:m0.bind(null,d),$i:gp.bind(null,d),Qr:Pv.bind(null,d)},yield o.sharedClientState.start()),yield o.persistence.Ii(function(){var _=(0,c.Z)(function*(T){yield function Rv(r,e){return Hg.apply(this,arguments)}(o.Vc.syncEngine,T),o.gcScheduler&&(T&&!o.gcScheduler.started?o.gcScheduler.start():T||o.gcScheduler.stop()),o.indexBackfillerScheduler&&(T&&!o.indexBackfillerScheduler.started?o.indexBackfillerScheduler.start():T||o.indexBackfillerScheduler.stop())});return function(T){return _.apply(this,arguments)}}())})()}createSharedClientState(e){const t=Zm();if(!Gm.D(t))throw new Ri(Zn.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const o=ad(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Gm(t,e.asyncQueue,o,e.clientId,e.initialUser)}}class th{initialize(e,t){var o=this;return(0,c.Z)(function*(){o.localStore||(o.localStore=e.localStore,o.sharedClientState=e.sharedClientState,o.datastore=o.createDatastore(t),o.remoteStore=o.createRemoteStore(t),o.eventManager=o.createEventManager(t),o.syncEngine=o.createSyncEngine(t,!e.synchronizeTabs),o.sharedClientState.onlineStateHandler=d=>py(o.syncEngine,d,1),o.remoteStore.remoteSyncer.handleCredentialChange=gy.bind(null,o.syncEngine),yield sp(o.remoteStore,o.syncEngine.isPrimaryClient))})()}createEventManager(e){return new ay}createDatastore(e){const t=Yd(e.databaseInfo.databaseId),o=new _v(e.databaseInfo);return new fg(e.authCredentials,e.appCheckCredentials,o,t)}createRemoteStore(e){return t=this.localStore,o=this.datastore,d=e.asyncQueue,_=J=>py(this.syncEngine,J,0),T=Km.D()?new Km:new Kh,new Jf(t,o,d,_,T);var t,o,d,_,T}createSyncEngine(e,t){return function(o,d,_,T,J,ye,Oe){const gt=new wc(o,d,_,T,J,ye);return Oe&&(gt.vc=!0),gt}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,c.Z)(function*(t){const o=fi(t);wi("RemoteStore","RemoteStore shutting down."),o.vu.add(5),yield dd(o),o.Pu.shutdown(),o.bu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function qg(r,e=10240){let t=0;return{read:()=>(0,c.Z)(function*(){if(t<r.byteLength){const o={value:r.slice(t,t+e),done:!1};return t+=e,o}return{done:!0}})(),cancel:()=>(0,c.Z)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class uf{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):Ts("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class Nv{constructor(e,t){this.Cc=e,this.serializer=t,this.metadata=new ao,this.buffer=new Uint8Array,this.xc=new TextDecoder("utf-8"),this.Nc().then(o=>{o&&o.Qu()?this.metadata.resolve(o.Gu.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==o?void 0:o.Gu)}`))},o=>this.metadata.reject(o))}close(){return this.Cc.cancel()}getMetadata(){var e=this;return(0,c.Z)(function*(){return e.metadata.promise})()}bc(){var e=this;return(0,c.Z)(function*(){return yield e.getMetadata(),e.Nc()})()}Nc(){var e=this;return(0,c.Z)(function*(){const t=yield e.kc();if(null===t)return null;const o=e.xc.decode(t),d=Number(o);isNaN(d)&&e.Mc(`length string (${o}) is not valid number`);const _=yield e.$c(d);return new ly(JSON.parse(_),t.length+d)})()}Oc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}kc(){var e=this;return(0,c.Z)(function*(){for(;e.Oc()<0&&!(yield e.Fc()););if(0===e.buffer.length)return null;const t=e.Oc();t<0&&e.Mc("Reached the end of bundle when a length string is expected.");const o=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),o})()}$c(e){var t=this;return(0,c.Z)(function*(){for(;t.buffer.length<e;)(yield t.Fc())&&t.Mc("Reached the end of bundle when more is expected.");const o=t.xc.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),o})()}Mc(e){throw this.Cc.cancel(),new Error(`Invalid bundle format: ${e}`)}Fc(){var e=this;return(0,c.Z)(function*(){const t=yield e.Cc.read();if(!t.done){const o=new Uint8Array(e.buffer.length+t.value.length);o.set(e.buffer),o.set(t.value,e.buffer.length),e.buffer=o}return t.done})()}}class Lv{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,c.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new Ri(Zn.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const o=yield(d=(0,c.Z)(function*(_,T){const J=fi(_),ye=Kc(J.serializer)+"/documents",Oe={documents:T.map(vi=>gl(J.serializer,vi))},gt=yield J.vo("BatchGetDocuments",ye,Oe,T.length),cn=new Map;gt.forEach(vi=>{const cr=function zp(r,e){return"found"in e?function(t,o){zr(!!o.found);const d=ll(t,o.found.name),_=pl(o.found.updateTime),T=o.found.createTime?pl(o.found.createTime):Zr.min(),J=new Ht({mapValue:{fields:o.found.fields}});return xi.newFoundDocument(d,_,T,J)}(r,e):"missing"in e?function(t,o){zr(!!o.missing),zr(!!o.readTime);const d=ll(t,o.missing),_=pl(o.readTime);return xi.newNoDocument(d,_)}(r,e):gr()}(J.serializer,vi);cn.set(cr.key.toString(),cr)});const Wn=[];return T.forEach(vi=>{const cr=cn.get(vi.toString());zr(!!cr),Wn.push(cr)}),Wn}),function(_,T){return d.apply(this,arguments)})(t.datastore,e);var d;return o.forEach(d=>t.recordVersion(d)),o})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(o){this.lastWriteError=o}this.writtenDocs.add(e.toString())}delete(e){this.write(new Hc(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,c.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var o;e.mutations.forEach(o=>{t.delete(o.key.toString())}),t.forEach((o,d)=>{const _=Ji.fromPath(d);e.mutations.push(new Iu(_,e.precondition(_)))}),yield(o=(0,c.Z)(function*(d,_){const T=fi(d),J=Kc(T.serializer)+"/documents",ye={writes:_.map(Oe=>ed(T.serializer,Oe))};yield T.Io("Commit",J,ye)}),function(d,_){return o.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw gr();t=Zr.min()}const o=this.readVersions.get(e.key.toString());if(o){if(!t.isEqual(o))throw new Ri(Zn.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(Zr.min())?Ya.exists(!1):Ya.updateTime(t):Ya.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Zr.min()))throw new Ri(Zn.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Ya.updateTime(t)}return Ya.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class df{constructor(e,t,o,d,_){this.asyncQueue=e,this.datastore=t,this.options=o,this.updateFunction=d,this.deferred=_,this.Bc=o.maxAttempts,this.qo=new Zh(this.asyncQueue,"transaction_retry")}run(){this.Bc-=1,this.Lc()}Lc(){var e=this;this.qo.No((0,c.Z)(function*(){const t=new Lv(e.datastore),o=e.qc(t);o&&o.then(d=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(d)}).catch(_=>{e.Uc(_)}))}).catch(d=>{e.Uc(d)})}))}qc(e){try{const t=this.updateFunction(e);return!mt(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Uc(e){this.Bc>0&&this.Kc(e)?(this.Bc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Lc(),Promise.resolve()))):this.deferred.reject(e)}Kc(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!Zu(t)}return!1}}class Fv{constructor(e,t,o,d){var _=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=o,this.databaseInfo=d,this.user=Yr.UNAUTHENTICATED,this.clientId=jl.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(o,function(){var T=(0,c.Z)(function*(J){wi("FirestoreClient","Received user=",J.uid),yield _.authCredentialListener(J),_.user=J});return function(J){return T.apply(this,arguments)}}()),this.appCheckCredentials.start(o,T=>(wi("FirestoreClient","Received new app check token=",T),this.appCheckCredentialListener(T,this.user)))}getConfiguration(){var e=this;return(0,c.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Ri(Zn.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new ao;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,c.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(o){const d=Zd(o,"Failed to shutdown persistence");t.reject(d)}})),t.promise}}function Zg(r,e){return Xg.apply(this,arguments)}function Xg(){return Xg=(0,c.Z)(function*(r,e){r.asyncQueue.verifyOperationInProgress(),wi("FirestoreClient","Initializing OfflineComponentProvider");const t=yield r.getConfiguration();yield e.initialize(t);let o=t.initialUser;r.setCredentialChangeListener(function(){var d=(0,c.Z)(function*(_){o.isEqual(_)||(yield Hd(e.localStore,_),o=_)});return function(_){return d.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=e}),Xg.apply(this,arguments)}function Qg(r,e){return Jg.apply(this,arguments)}function Jg(){return Jg=(0,c.Z)(function*(r,e){r.asyncQueue.verifyOperationInProgress();const t=yield em(r);wi("FirestoreClient","Initializing OnlineComponentProvider");const o=yield r.getConfiguration();yield e.initialize(t,o),r.setCredentialChangeListener(d=>oy(e.remoteStore,d)),r.setAppCheckTokenChangeListener((d,_)=>oy(e.remoteStore,_)),r._onlineComponents=e}),Jg.apply(this,arguments)}function vy(r){return"FirebaseError"===r.name?r.code===Zn.FAILED_PRECONDITION||r.code===Zn.UNIMPLEMENTED:!(typeof DOMException<"u"&&r instanceof DOMException)||22===r.code||20===r.code||11===r.code}function em(r){return tm.apply(this,arguments)}function tm(){return tm=(0,c.Z)(function*(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){wi("FirestoreClient","Using user provided OfflineComponentProvider");try{yield Zg(r,r._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!vy(t))throw t;fa("Error using user provided cache. Falling back to memory cache: "+t),yield Zg(r,new cf)}}else wi("FirestoreClient","Using default OfflineComponentProvider"),yield Zg(r,new cf);return r._offlineComponents}),tm.apply(this,arguments)}function mp(r){return yp.apply(this,arguments)}function yp(){return yp=(0,c.Z)(function*(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(wi("FirestoreClient","Using user provided OnlineComponentProvider"),yield Qg(r,r._uninitializedComponentsProvider._online)):(wi("FirestoreClient","Using default OnlineComponentProvider"),yield Qg(r,new th))),r._onlineComponents}),yp.apply(this,arguments)}function vp(r){return em(r).then(e=>e.persistence)}function _p(r){return em(r).then(e=>e.localStore)}function bp(r){return mp(r).then(e=>e.remoteStore)}function nm(r){return mp(r).then(e=>e.syncEngine)}function nh(r){return im.apply(this,arguments)}function im(){return im=(0,c.Z)(function*(r){const e=yield mp(r),t=e.eventManager;return t.onListen=Dv.bind(null,e.syncEngine),t.onUnlisten=fy.bind(null,e.syncEngine),t}),im.apply(this,arguments)}function rm(r,e,t={}){const o=new ao;return r.asyncQueue.enqueueAndForget((0,c.Z)(function*(){return function(d,_,T,J,ye){const Oe=new uf({next:cn=>{_.enqueueAndForget(()=>nf(d,gt));const Wn=cn.docs.has(T);!Wn&&cn.fromCache?ye.reject(new Ri(Zn.UNAVAILABLE,"Failed to get document because the client is offline.")):Wn&&cn.fromCache&&J&&"server"===J.source?ye.reject(new Ri(Zn.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):ye.resolve(cn)},error:cn=>ye.reject(cn)}),gt=new Tg(Tc(T.path),Oe,{includeMetadataChanges:!0,Ku:!0});return ef(d,gt)}(yield nh(r),r.asyncQueue,e,t,o)})),o.promise}function wy(r,e,t={}){const o=new ao;return r.asyncQueue.enqueueAndForget((0,c.Z)(function*(){return function(d,_,T,J,ye){const Oe=new uf({next:cn=>{_.enqueueAndForget(()=>nf(d,gt)),cn.fromCache&&"server"===J.source?ye.reject(new Ri(Zn.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):ye.resolve(cn)},error:cn=>ye.reject(cn)}),gt=new Tg(T,Oe,{includeMetadataChanges:!0,Ku:!0});return ef(d,gt)}(yield nh(r),r.asyncQueue,e,t,o)})),o.promise}function Sy(r){const e={};return void 0!==r.timeoutSeconds&&(e.timeoutSeconds=r.timeoutSeconds),e}const Cy=new Map;function hf(r,e,t){if(!t)throw new Ri(Zn.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function Iy(r,e,t,o){if(!0===e&&!0===o)throw new Ri(Zn.INVALID_ARGUMENT,`${r} and ${t} cannot be used together.`)}function $c(r){if(!Ji.isDocumentKey(r))throw new Ri(Zn.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function ih(r){if(Ji.isDocumentKey(r))throw new Ri(Zn.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function Ul(r){if(void 0===r)return"undefined";if(null===r)return"null";if("string"==typeof r)return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if("number"==typeof r||"boolean"==typeof r)return""+r;if("object"==typeof r){if(r instanceof Array)return"an array";{const e=(t=r).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof r?"a function":gr()}function $o(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new Ri(Zn.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Ul(r);throw new Ri(Zn.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return r}function ff(r,e){if(e<=0)throw new Ri(Zn.INVALID_ARGUMENT,`Function ${r}() requires a positive number, but it was: ${e}.`)}class Ec{constructor(e){var t,o;if(void 0===e.host){if(void 0!==e.ssl)throw new Ri(Zn.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Ri(Zn.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Iy("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=Sy(null!==(o=e.experimentalLongPollingOptions)&&void 0!==o?o:{}),function(d){if(void 0!==d.timeoutSeconds){if(isNaN(d.timeoutSeconds))throw new Ri(Zn.INVALID_ARGUMENT,`invalid long polling timeout: ${d.timeoutSeconds} (must not be NaN)`);if(d.timeoutSeconds<5)throw new Ri(Zn.INVALID_ARGUMENT,`invalid long polling timeout: ${d.timeoutSeconds} (minimum allowed value is 5)`);if(d.timeoutSeconds>30)throw new Ri(Zn.INVALID_ARGUMENT,`invalid long polling timeout: ${d.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class gd{constructor(e,t,o,d){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=o,this._app=d,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Ec({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Ri(Zn.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Ri(Zn.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Ec(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new Al;switch(t.type){case"firstParty":return new Sa(t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new Ri(Zn.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=Cy.get(e);t&&(wi("ComponentProvider","Removing Datastore"),Cy.delete(e),t.terminate())}(this),Promise.resolve()}}function md(r,e,t,o={}){var d;const _=(r=$o(r,gd))._getSettings();if("firestore.googleapis.com"!==_.host&&_.host!==e&&fa("Host has been set in both settings() and useEmulator(), emulator host will be used"),r._setSettings(Object.assign(Object.assign({},_),{host:`${e}:${t}`,ssl:!1})),o.mockUserToken){let T,J;if("string"==typeof o.mockUserToken)T=o.mockUserToken,J=Yr.MOCK_USER;else{T=(0,dt.Sg)(o.mockUserToken,null===(d=r._app)||void 0===d?void 0:d.options.projectId);const ye=o.mockUserToken.sub||o.mockUserToken.user_id;if(!ye)throw new Ri(Zn.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");J=new Yr(ye)}r._authCredentials=new Tl(new Kl(T,J))}}class za{constructor(e,t,o){this.converter=t,this._key=o,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new cc(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new za(this.firestore,e,this._key)}}class Cl{constructor(e,t,o){this.converter=t,this._query=o,this.type="query",this.firestore=e}withConverter(e){return new Cl(this.firestore,e,this._query)}}class cc extends Cl{constructor(e,t,o){super(e,t,Tc(o)),this._path=o,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new za(this.firestore,null,new Ji(e))}withConverter(e){return new cc(this.firestore,e,this._path)}}function rh(r,e,...t){if(r=(0,dt.m9)(r),hf("collection","path",e),r instanceof gd){const o=zs.fromString(e,...t);return ih(o),new cc(r,null,o)}{if(!(r instanceof za||r instanceof cc))throw new Ri(Zn.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=r._path.child(zs.fromString(e,...t));return ih(o),new cc(r.firestore,null,o)}}function sh(r,e){if(r=$o(r,gd),hf("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Ri(Zn.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Cl(r,null,(t=e,new Ga(zs.emptyPath(),t)));var t}function yd(r,e,...t){if(r=(0,dt.m9)(r),1===arguments.length&&(e=jl.A()),hf("doc","path",e),r instanceof gd){const o=zs.fromString(e,...t);return $c(o),new za(r,null,new Ji(o))}{if(!(r instanceof za||r instanceof cc))throw new Ri(Zn.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=r._path.child(zs.fromString(e,...t));return $c(o),new za(r.firestore,r instanceof cc?r.converter:null,new Ji(o))}}function oh(r,e){return r=(0,dt.m9)(r),e=(0,dt.m9)(e),(r instanceof za||r instanceof cc)&&(e instanceof za||e instanceof cc)&&r.firestore===e.firestore&&r.path===e.path&&r.converter===e.converter}function Vu(r,e){return r=(0,dt.m9)(r),e=(0,dt.m9)(e),r instanceof Cl&&e instanceof Cl&&r.firestore===e.firestore&&ir(r._query,e._query)&&r.converter===e.converter}class Ty{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new Zh(this,"async_queue_retry"),this.Xc=()=>{const t=qh();t&&wi("AsyncQueue","Visibility state changed to "+t.visibilityState),this.qo.Mo()};const e=qh();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const t=qh();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const t=new ao;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}ea(){var e=this;return(0,c.Z)(function*(){if(0!==e.Qc.length){try{yield e.Qc[0](),e.Qc.shift(),e.qo.reset()}catch(t){if(!ba(t))throw t;wi("AsyncQueue","Operation failed with retryable error: "+t)}e.Qc.length>0&&e.qo.No(()=>e.ea())}})()}ta(e){const t=this.Gc.then(()=>(this.Hc=!0,e().catch(o=>{throw this.Wc=o,this.Hc=!1,Ts("INTERNAL UNHANDLED ERROR: ",function(_){let T=_.message||"";return _.stack&&(T=_.stack.includes(_.message)?_.stack:_.message+"\n"+_.stack),T}(o)),o}).then(o=>(this.Hc=!1,o))));return this.Gc=t,t}enqueueAfterDelay(e,t,o){this.Zc(),this.Yc.indexOf(e)>-1&&(t=0);const d=ap.createAndSchedule(this,e,t,o,_=>this.na(_));return this.zc.push(d),d}Zc(){this.Wc&&gr()}verifyOperationInProgress(){}sa(){var e=this;return(0,c.Z)(function*(){let t;do{t=e.Gc,yield t}while(t!==e.Gc)})()}ia(e){for(const t of this.zc)if(t.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((t,o)=>t.targetTimeMs-o.targetTimeMs);for(const t of this.zc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const t=this.zc.indexOf(e);this.zc.splice(t,1)}}function Ep(r){return function(e,t){if("object"!=typeof e||null===e)return!1;const o=e;for(const d of["next","error","complete"])if(d in o&&"function"==typeof o[d])return!0;return!1}(r)}class Dy{constructor(){this._progressObserver={},this._taskCompletionResolver=new ao,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,o){this._progressObserver={next:e,error:t,complete:o}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}const Ay=-1;class qa extends gd{constructor(e,t,o,d){super(e,t,o,d),this.type="firestore",this._queue=new Ty,this._persistenceKey=(null==d?void 0:d.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||sm(this),this._firestoreClient.terminate()}}function xy(r,e){const t="object"==typeof r?r:(0,y.getApp)(),o="string"==typeof r?r:e||"(default)",d=(0,y._getProvider)(t,"firestore").getImmediate({identifier:o});if(!d._initialized){const _=(0,dt.P0)("firestore");_&&md(d,..._)}return d}function Il(r){return r._firestoreClient||sm(r),r._firestoreClient.verifyNotTerminated(),r._firestoreClient}function sm(r){var e,t,o;const d=r._freezeSettings(),_=(J=(null===(e=r._app)||void 0===e?void 0:e.options.appId)||"",new iu(r._databaseId,J,r._persistenceKey,(Oe=d).host,Oe.ssl,Oe.experimentalForceLongPolling,Oe.experimentalAutoDetectLongPolling,Sy(Oe.experimentalLongPollingOptions),Oe.useFetchStreams));var J,Oe;r._firestoreClient=new Fv(r._authCredentials,r._appCheckCredentials,r._queue,_),null!==(t=d.cache)&&void 0!==t&&t._offlineComponentProvider&&null!==(o=d.cache)&&void 0!==o&&o._onlineComponentProvider&&(r._firestoreClient._uninitializedComponentsProvider={_offlineKind:d.cache.kind,_offline:d.cache._offlineComponentProvider,_online:d.cache._onlineComponentProvider})}function om(r,e){My(r=$o(r,qa));const t=Il(r);if(t._uninitializedComponentsProvider)throw new Ri(Zn.FAILED_PRECONDITION,"SDK cache is already specified.");fa("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const o=r._freezeSettings(),d=new th;return jv(t,d,new Kg(d,o.cacheSizeBytes,null==e?void 0:e.forceOwnership))}function zv(r){My(r=$o(r,qa));const e=Il(r);if(e._uninitializedComponentsProvider)throw new Ri(Zn.FAILED_PRECONDITION,"SDK cache is already specified.");fa("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const t=r._freezeSettings(),o=new th;return jv(e,o,new eh(o,t.cacheSizeBytes))}function jv(r,e,t){const o=new ao;return r.asyncQueue.enqueue((0,c.Z)(function*(){try{yield Zg(r,t),yield Qg(r,e),o.resolve()}catch(d){const _=d;if(!vy(_))throw _;fa("Error enabling indexeddb cache. Falling back to memory cache: "+_),o.reject(_)}})).then(()=>o.promise)}function _0(r){if(r._initialized&&!r._terminated)throw new Ri(Zn.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new ao;return r._queue.enqueueAndForgetEvenWhileRestricted((0,c.Z)(function*(){try{yield(t=(0,c.Z)(function*(o){if(!Ha.D())return Promise.resolve();const d=o+"main";yield Ha.delete(d)}),function(o){return t.apply(this,arguments)})(ad(r._databaseId,r._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}function Hv(r){return function(e){const t=new ao;return e.asyncQueue.enqueueAndForget((0,c.Z)(function*(){return function Qc(r,e){return sf.apply(this,arguments)}(yield nm(e),t)})),t.promise}(Il(r=$o(r,qa)))}function Wv(r){return function Bv(r){return r.asyncQueue.enqueue((0,c.Z)(function*(){const e=yield vp(r),t=yield bp(r);return e.setNetworkEnabled(!0),function(o){const d=fi(o);return d.vu.delete(0),Fu(d)}(t)}))}(Il(r=$o(r,qa)))}function b0(r){return function $v(r){return r.asyncQueue.enqueue((0,c.Z)(function*(){const e=yield vp(r),t=yield bp(r);return e.setNetworkEnabled(!1),(o=(0,c.Z)(function*(d){const _=fi(d);_.vu.add(0),yield dd(_),_.bu.set("Offline")}),function(d){return o.apply(this,arguments)})(t);var o}))}(Il(r=$o(r,qa)))}function E0(r,e){const t=Il(r=$o(r,qa)),o=new Dy;return function Ey(r,e,t,o){const d=function(_,T){let J;return J="string"==typeof _?Pf().encode(_):_,ye=function(ye,Oe){if(ye instanceof Uint8Array)return qg(ye,void 0);if(ye instanceof ArrayBuffer)return qg(new Uint8Array(ye),void 0);if(ye instanceof ReadableStream)return ye.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(J),new Nv(ye,T);var ye}(t,Yd(e));r.asyncQueue.enqueueAndForget((0,c.Z)(function*(){!function kv(r,e,t){const o=fi(r);var d;(d=(0,c.Z)(function*(_,T,J){try{const ye=yield T.getMetadata();if(yield function(Wn,vi){const cr=fi(Wn),ts=pl(vi.createTime);return cr.persistence.runTransaction("hasNewerBundle","readonly",ds=>cr.qs.getBundleMetadata(ds,vi.id)).then(ds=>!!ds&&ds.createTime.compareTo(ts)>=0)}(_.localStore,ye))return yield T.close(),J._completeWith({taskState:"Success",documentsLoaded:(Wn=ye).totalDocuments,bytesLoaded:Wn.totalBytes,totalDocuments:Wn.totalDocuments,totalBytes:Wn.totalBytes}),Promise.resolve(new Set);J._updateProgress(uy(ye));const Oe=new Cv(ye,_.localStore,T.serializer);let gt=yield T.bc();for(;gt;){const Wn=yield Oe.zu(gt);Wn&&J._updateProgress(Wn),gt=yield T.bc()}const cn=yield Oe.complete();return yield $u(_,cn.Ju,void 0),yield function(Wn,vi){const cr=fi(Wn);return cr.persistence.runTransaction("Save bundle","readwrite",ts=>cr.qs.saveBundleMetadata(ts,vi))}(_.localStore,ye),J._completeWith(cn.progress),Promise.resolve(cn.Hu)}catch(ye){return fa("SyncEngine",`Loading bundle failed with ${ye}`),J._failWith(ye),Promise.resolve(new Set)}var Wn}),function(_,T,J){return d.apply(this,arguments)})(o,e,t).then(d=>{o.sharedClientState.notifyBundleLoaded(d)})}(yield nm(r),d,o)}))}(t,r._databaseId,e,o),o}function Gv(r,e){return function v0(r,e){return r.asyncQueue.enqueue((0,c.Z)(function*(){return function(t,o){const d=fi(t);return d.persistence.runTransaction("Get named query","readonly",_=>d.qs.getNamedQuery(_,o))}(yield _p(r),e)}))}(Il(r=$o(r,qa)),e).then(t=>t?new Cl(r,null,t.query):null)}function My(r){if(r._initialized||r._terminated)throw new Ri(Zn.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Mc{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Mc(ma.fromBase64String(e))}catch(t){throw new Ri(Zn.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Mc(ma.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Jc{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Ri(Zn.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new qs(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Uu{constructor(e){this._methodName=e}}class zu{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Ri(Zn.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Ri(Zn.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return As(this._lat,e._lat)||As(this._long,e._long)}}const Py=/^__.*__$/;class Yv{constructor(e,t,o){this.data=e,this.fieldMask=t,this.fieldTransforms=o}toMutation(e,t){return null!==this.fieldMask?new Ac(e,this.data,this.fieldMask,t,this.fieldTransforms):new jc(e,this.data,t,this.fieldTransforms)}}class ah{constructor(e,t,o){this.data=e,this.fieldMask=t,this.fieldTransforms=o}toMutation(e,t){return new Ac(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function Ry(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw gr()}}class Sp{constructor(e,t,o,d,_,T){this.settings=e,this.databaseId=t,this.serializer=o,this.ignoreUndefinedProperties=d,void 0===_&&this.ua(),this.fieldTransforms=_||[],this.fieldMask=T||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new Sp(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var t;const o=null===(t=this.path)||void 0===t?void 0:t.child(e),d=this.aa({path:o,la:!1});return d.fa(e),d}da(e){var t;const o=null===(t=this.path)||void 0===t?void 0:t.child(e),d=this.aa({path:o,la:!1});return d.ua(),d}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return yf(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if(Ry(this.ca)&&Py.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class Kv{constructor(e,t,o){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=o||Yd(e)}ya(e,t,o,d=!1){return new Sp({ca:e,methodName:t,ga:o,path:qs.emptyPath(),la:!1,ma:d},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function vd(r){const e=r._freezeSettings(),t=Yd(r._databaseId);return new Kv(r._databaseId,!!e.ignoreUndefinedProperties,t)}function lh(r,e,t,o,d,_={}){const T=r.ya(_.merge||_.mergeFields?2:0,e,t,d);Ip("Data must be an object, but it was:",T,o);const J=dm(o,T);let ye,Oe;if(_.merge)ye=new bo(T.fieldMask),Oe=T.fieldTransforms;else if(_.mergeFields){const gt=[];for(const cn of _.mergeFields){const Wn=mf(e,cn,t);if(!T.contains(Wn))throw new Ri(Zn.INVALID_ARGUMENT,`Field '${Wn}' is specified in your field mask but missing from your input data.`);Dp(gt,Wn)||gt.push(Wn)}ye=new bo(gt),Oe=T.fieldTransforms.filter(cn=>ye.covers(cn.field))}else ye=null,Oe=T.fieldTransforms;return new Yv(new Ht(J),ye,Oe)}class ju extends Uu{_toFieldTransform(e){if(2!==e.ca)throw e._a(1===e.ca?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof ju}}function gf(r,e,t){return new Sp({ca:3,ga:e.settings.ga,methodName:r._methodName,la:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class Oy extends Uu{_toFieldTransform(e){return new Gu(e.path,new al)}isEqual(e){return e instanceof Oy}}class qv extends Uu{constructor(e,t){super(e),this.pa=t}_toFieldTransform(e){const t=gf(this,e,!0),o=this.pa.map(_=>_d(_,t)),d=new hc(o);return new Gu(e.path,d)}isEqual(e){return this===e}}class Zv extends Uu{constructor(e,t){super(e),this.pa=t}_toFieldTransform(e){const t=gf(this,e,!0),o=this.pa.map(_=>_d(_,t)),d=new Oc(o);return new Gu(e.path,d)}isEqual(e){return this===e}}class cm extends Uu{constructor(e,t){super(e),this.Ia=t}_toFieldTransform(e){const t=new $l(e.serializer,Df(e.serializer,this.Ia));return new Gu(e.path,t)}isEqual(e){return this===e}}function um(r,e,t,o){const d=r.ya(1,e,t);Ip("Data must be an object, but it was:",d,o);const _=[],T=Ht.empty();ls(o,(ye,Oe)=>{const gt=Tp(e,ye,t);Oe=(0,dt.m9)(Oe);const cn=d.da(gt);if(Oe instanceof ju)_.push(gt);else{const Wn=_d(Oe,cn);null!=Wn&&(_.push(gt),T.set(gt,Wn))}});const J=new bo(_);return new ah(T,J,d.fieldTransforms)}function Cp(r,e,t,o,d,_){const T=r.ya(1,e,t),J=[mf(e,o,t)],ye=[d];if(_.length%2!=0)throw new Ri(Zn.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let Wn=0;Wn<_.length;Wn+=2)J.push(mf(e,_[Wn])),ye.push(_[Wn+1]);const Oe=[],gt=Ht.empty();for(let Wn=J.length-1;Wn>=0;--Wn)if(!Dp(Oe,J[Wn])){const vi=J[Wn];let cr=ye[Wn];cr=(0,dt.m9)(cr);const ts=T.da(vi);if(cr instanceof ju)Oe.push(vi);else{const ds=_d(cr,ts);null!=ds&&(Oe.push(vi),gt.set(vi,ds))}}const cn=new bo(Oe);return new ah(gt,cn,T.fieldTransforms)}function ky(r,e,t,o=!1){return _d(t,r.ya(o?4:3,e))}function _d(r,e){if(hm(r=(0,dt.m9)(r)))return Ip("Unsupported field value:",e,r),dm(r,e);if(r instanceof Uu)return function(t,o){if(!Ry(o.ca))throw o._a(`${t._methodName}() can only be used with update() and set()`);if(!o.path)throw o._a(`${t._methodName}() is not currently supported inside arrays`);const d=t._toFieldTransform(o);d&&o.fieldTransforms.push(d)}(r,e),null;if(void 0===r&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.la&&4!==e.ca)throw e._a("Nested arrays are not supported");return function(t,o){const d=[];let _=0;for(const T of t){let J=_d(T,o.wa(_));null==J&&(J={nullValue:"NULL_VALUE"}),d.push(J),_++}return{arrayValue:{values:d}}}(r,e)}return function(t,o){if(null===(t=(0,dt.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return Df(o.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const d=Ko.fromDate(t);return{timestampValue:Gc(o.serializer,d)}}if(t instanceof Ko){const d=new Ko(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Gc(o.serializer,d)}}if(t instanceof zu)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Mc)return{bytesValue:Rd(o.serializer,t._byteString)};if(t instanceof za){const d=o.databaseId,_=t.firestore._databaseId;if(!_.isEqual(d))throw o._a(`Document reference is for database ${_.projectId}/${_.database} but should be for database ${d.projectId}/${d.database}`);return{referenceValue:Od(t.firestore._databaseId||o.databaseId,t._key.path)}}throw o._a(`Unsupported field value: ${Ul(t)}`)}(r,e)}function dm(r,e){const t={};return Ns(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ls(r,(o,d)=>{const _=_d(d,e.ha(o));null!=_&&(t[o]=_)}),{mapValue:{fields:t}}}function hm(r){return!("object"!=typeof r||null===r||r instanceof Array||r instanceof Date||r instanceof Ko||r instanceof zu||r instanceof Mc||r instanceof za||r instanceof Uu)}function Ip(r,e,t){if(!hm(t)||"object"!=typeof(o=t)||null===o||Object.getPrototypeOf(o)!==Object.prototype&&null!==Object.getPrototypeOf(o)){const o=Ul(t);throw e._a("an object"===o?r+" a custom object":r+" "+o)}var o}function mf(r,e,t){if((e=(0,dt.m9)(e))instanceof Jc)return e._internalPath;if("string"==typeof e)return Tp(r,e);throw yf("Field path arguments must be of type string or ",r,!1,void 0,t)}const Xv=new RegExp("[~\\*/\\[\\]]");function Tp(r,e,t){if(e.search(Xv)>=0)throw yf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,t);try{return new Jc(...e.split("."))._internalPath}catch{throw yf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,t)}}function yf(r,e,t,o,d){const _=o&&!o.isEmpty(),T=void 0!==d;let J=`Function ${e}() called with invalid data`;t&&(J+=" (via `toFirestore()`)"),J+=". ";let ye="";return(_||T)&&(ye+=" (found",_&&(ye+=` in field ${o}`),T&&(ye+=` in document ${d}`),ye+=")"),new Ri(Zn.INVALID_ARGUMENT,J+r+ye)}function Dp(r,e){return r.some(t=>t.isEqual(e))}class bd{constructor(e,t,o,d,_){this._firestore=e,this._userDataWriter=t,this._key=o,this._document=d,this._converter=_}get id(){return this._key.path.lastSegment()}get ref(){return new za(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Qv(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(wd("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class Qv extends bd{data(){return super.data()}}function wd(r,e){return"string"==typeof e?Tp(r,e):e instanceof Jc?e._internalPath:e._delegate._internalPath}function vf(r){if("L"===r.limitType&&0===r.explicitOrderBy.length)throw new Ri(Zn.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class _f{}class ch extends _f{}function Jv(r,e,...t){let o=[];e instanceof _f&&o.push(e),o=o.concat(t),function(d){const _=d.filter(J=>J instanceof vu).length,T=d.filter(J=>J instanceof bf).length;if(_>1||_>0&&T>0)throw new Ri(Zn.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(o);for(const d of o)r=d._apply(r);return r}class bf extends ch{constructor(e,t,o){super(),this._field=e,this._op=t,this._value=o,this.type="where"}static _create(e,t,o){return new bf(e,t,o)}_apply(e){const t=this._parse(e);return vm(e._query,t),new Cl(e.firestore,e.converter,Rn(e._query,t))}_parse(e){const t=vd(e.firestore);return function(d,_,T,J,ye,Oe,gt){let cn;if(ye.isKeyField()){if("array-contains"===Oe||"array-contains-any"===Oe)throw new Ri(Zn.INVALID_ARGUMENT,`Invalid Query. You can't perform '${Oe}' queries on documentId().`);if("in"===Oe||"not-in"===Oe){Vy(gt,Oe);const Wn=[];for(const vi of gt)Wn.push(ym(J,d,vi));cn={arrayValue:{values:Wn}}}else cn=ym(J,d,gt)}else"in"!==Oe&&"not-in"!==Oe&&"array-contains-any"!==Oe||Vy(gt,Oe),cn=ky(T,"where",gt,"in"===Oe||"not-in"===Oe);return gi.create(ye,Oe,cn)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}function e_(r,e,t){const o=e,d=wd("where",r);return bf._create(d,o,t)}class vu extends _f{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new vu(e,t)}_parse(e){const t=this._queryConstraints.map(o=>o._parse(e)).filter(o=>o.getFilters().length>0);return 1===t.length?t[0]:ci.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(o,d){let _=o;const T=d.getFlattenedFilters();for(const J of T)vm(_,J),_=Rn(_,J)}(e._query,t),new Cl(e.firestore,e.converter,Rn(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class Ap extends ch{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Ap(e,t)}_apply(e){const t=function(o,d,_){if(null!==o.startAt)throw new Ri(Zn.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==o.endAt)throw new Ri(Zn.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const T=new Pi(d,_);return function(J,ye){if(null===S(J)){const Oe=M(J);null!==Oe&&_m(0,Oe,ye.field)}}(o,T),T}(e._query,this._field,this._direction);return new Cl(e.firestore,e.converter,function(o,d){const _=o.explicitOrderBy.concat([d]);return new Ga(o.path,o.collectionGroup,_,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(e._query,t))}}function t_(r,e="asc"){const t=e,o=wd("orderBy",r);return Ap._create(o,t)}class xp extends ch{constructor(e,t,o){super(),this.type=e,this._limit=t,this._limitType=o}static _create(e,t,o){return new xp(e,t,o)}_apply(e){return new Cl(e.firestore,e.converter,si(e._query,this._limit,this._limitType))}}function Ly(r){return ff("limit",r),xp._create("limit",r,"F")}function pm(r){return ff("limitToLast",r),xp._create("limitToLast",r,"L")}class wf extends ch{constructor(e,t,o){super(),this.type=e,this._docOrFields=t,this._inclusive=o}static _create(e,t,o){return new wf(e,t,o)}_apply(e){const t=mm(e,this.type,this._docOrFields,this._inclusive);return new Cl(e.firestore,e.converter,(d=t,new Ga((o=e._query).path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,d,o.endAt)));var o,d}}function gm(...r){return wf._create("startAt",r,!0)}function Fy(...r){return wf._create("startAfter",r,!1)}class Mp extends ch{constructor(e,t,o){super(),this.type=e,this._docOrFields=t,this._inclusive=o}static _create(e,t,o){return new Mp(e,t,o)}_apply(e){const t=mm(e,this.type,this._docOrFields,this._inclusive);return new Cl(e.firestore,e.converter,(d=t,new Ga((o=e._query).path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,o.startAt,d)));var o,d}}function By(...r){return Mp._create("endBefore",r,!1)}function $y(...r){return Mp._create("endAt",r,!0)}function mm(r,e,t,o){if(t[0]=(0,dt.m9)(t[0]),t[0]instanceof bd)return function(d,_,T,J,ye){if(!J)throw new Ri(Zn.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${T}().`);const Oe=[];for(const gt of Ne(d))if(gt.field.isKeyField())Oe.push(at(_,J.key));else{const cn=J.data.field(gt.field);if(sl(cn))throw new Ri(Zn.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+gt.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===cn){const Wn=gt.field.canonicalString();throw new Ri(Zn.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${Wn}' (used as the orderBy) does not exist.`)}Oe.push(cn)}return new Si(Oe,ye)}(r._query,r.firestore._databaseId,e,t[0]._document,o);{const d=vd(r.firestore);return function(_,T,J,ye,Oe,gt){const cn=_.explicitOrderBy;if(Oe.length>cn.length)throw new Ri(Zn.INVALID_ARGUMENT,`Too many arguments provided to ${ye}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const Wn=[];for(let vi=0;vi<Oe.length;vi++){const cr=Oe[vi];if(cn[vi].field.isKeyField()){if("string"!=typeof cr)throw new Ri(Zn.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${ye}(), but got a ${typeof cr}`);if(!Q(_)&&-1!==cr.indexOf("/"))throw new Ri(Zn.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${ye}() must be a plain document ID, but '${cr}' contains a slash.`);const ts=_.path.child(zs.fromString(cr));if(!Ji.isDocumentKey(ts))throw new Ri(Zn.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${ye}() must result in a valid document path, but '${ts}' is not because it contains an odd number of segments.`);const ds=new Ji(ts);Wn.push(at(T,ds))}else{const ts=ky(J,ye,cr);Wn.push(ts)}}return new Si(Wn,gt)}(r._query,r.firestore._databaseId,d,e,t,o)}}function ym(r,e,t){if("string"==typeof(t=(0,dt.m9)(t))){if(""===t)throw new Ri(Zn.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Q(e)&&-1!==t.indexOf("/"))throw new Ri(Zn.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const o=e.path.child(zs.fromString(t));if(!Ji.isDocumentKey(o))throw new Ri(Zn.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${o}' is not because it has an odd number of segments (${o.length}).`);return at(r,new Ji(o))}if(t instanceof za)return at(r,t._key);throw new Ri(Zn.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Ul(t)}.`)}function Vy(r,e){if(!Array.isArray(r)||0===r.length)throw new Ri(Zn.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function vm(r,e){if(e.isInequality()){const o=M(r),d=e.field;if(null!==o&&!o.isEqual(d))throw new Ri(Zn.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${o.toString()}' and '${d.toString()}'`);const _=S(r);null!==_&&_m(0,d,_)}const t=function(o,d){for(const _ of o)for(const T of _.getFlattenedFilters())if(d.indexOf(T.op)>=0)return T.op;return null}(r.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new Ri(Zn.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function _m(r,e,t){if(!t.isEqual(e))throw new Ri(Zn.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class Ef{convertValue(e,t="none"){switch(Wl(e)){case 0:return null;case 1:return e.booleanValue;case 2:return qo(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Ta(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw gr()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const o={};return ls(e,(d,_)=>{o[d]=this.convertValue(_,t)}),o}convertGeoPoint(e){return new zu(qo(e.latitude),qo(e.longitude))}convertArray(e,t){return(e.values||[]).map(o=>this.convertValue(o,t))}convertServerTimestamp(e,t){switch(t){case"previous":const o=_l(e);return null==o?null:this.convertValue(o,t);case"estimate":return this.convertTimestamp(Fl(e));default:return null}}convertTimestamp(e){const t=Va(e);return new Ko(t.seconds,t.nanos)}convertDocumentKey(e,t){const o=zs.fromString(e);zr(Fc(o));const d=new Hl(o.get(1),o.get(3)),_=new Ji(o.popFirst(5));return d.isEqual(t)||Ts(`Document ${_} contains a document reference within a different database (${d.projectId}/${d.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),_}}function Sf(r,e,t){let o;return o=r?t&&(t.merge||t.mergeFields)?r.toFirestore(e,t):r.toFirestore(e):e,o}class Uy extends Ef{constructor(e){super(),this.firestore=e}convertBytes(e){return new Mc(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new za(this.firestore,null,t)}}class Hu{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class eu extends bd{constructor(e,t,o,d,_,T){super(e,t,o,d,T),this._firestore=e,this._firestoreImpl=e,this.metadata=_}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Pc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const o=this._document.data.field(wd("DocumentSnapshot.get",e));if(null!==o)return this._userDataWriter.convertValue(o,t.serverTimestamps)}}}class Pc extends eu{data(e={}){return super.data(e)}}class Ed{constructor(e,t,o,d){this._firestore=e,this._userDataWriter=t,this._snapshot=d,this.metadata=new Hu(d.hasPendingWrites,d.fromCache),this.query=o}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(o=>{e.call(t,new Pc(this._firestore,this._userDataWriter,o.key,o,new Hu(this._snapshot.mutatedKeys.has(o.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Ri(Zn.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(o,d){if(o._snapshot.oldDocs.isEmpty()){let _=0;return o._snapshot.docChanges.map(T=>({type:"added",doc:new Pc(o._firestore,o._userDataWriter,T.doc.key,T.doc,new Hu(o._snapshot.mutatedKeys.has(T.doc.key),o._snapshot.fromCache),o.query.converter),oldIndex:-1,newIndex:_++}))}{let _=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(T=>d||3!==T.type).map(T=>{const J=new Pc(o._firestore,o._userDataWriter,T.doc.key,T.doc,new Hu(o._snapshot.mutatedKeys.has(T.doc.key),o._snapshot.fromCache),o.query.converter);let ye=-1,Oe=-1;return 0!==T.type&&(ye=_.indexOf(T.doc.key),_=_.delete(T.doc.key)),1!==T.type&&(_=_.add(T.doc),Oe=_.indexOf(T.doc.key)),{type:o_(T.type),doc:J,oldIndex:ye,newIndex:Oe}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function o_(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return gr()}}function bm(r,e){return r instanceof eu&&e instanceof eu?r._firestore===e._firestore&&r._key.isEqual(e._key)&&(null===r._document?null===e._document:r._document.isEqual(e._document))&&r._converter===e._converter:r instanceof Ed&&e instanceof Ed&&r._firestore===e._firestore&&Vu(r.query,e.query)&&r.metadata.isEqual(e.metadata)&&r._snapshot.isEqual(e._snapshot)}function Sd(r){r=$o(r,za);const e=$o(r.firestore,qa);return rm(Il(e),r._key).then(t=>Rp(e,r,t))}class tu extends Ef{constructor(e){super(),this.firestore=e}convertBytes(e){return new Mc(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new za(this.firestore,null,t)}}function a_(r){r=$o(r,za);const e=$o(r.firestore,qa),t=Il(e),o=new tu(e);return function Vv(r,e){const t=new ao;return r.asyncQueue.enqueueAndForget((0,c.Z)(function*(){return(o=(0,c.Z)(function*(d,_,T){try{const J=yield function(ye,Oe){const gt=fi(ye);return gt.persistence.runTransaction("read document","readonly",cn=>gt.localDocuments.getDocument(cn,Oe))}(d,_);J.isFoundDocument()?T.resolve(J):J.isNoDocument()?T.resolve(null):T.reject(new Ri(Zn.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(J){const ye=Zd(J,`Failed to get document '${_} from cache`);T.reject(ye)}}),function(d,_,T){return o.apply(this,arguments)})(yield _p(r),e,t);var o})),t.promise}(t,r._key).then(d=>new eu(e,o,r._key,d,new Hu(null!==d&&d.hasLocalMutations,!0),r.converter))}function wm(r){r=$o(r,za);const e=$o(r.firestore,qa);return rm(Il(e),r._key,{source:"server"}).then(t=>Rp(e,r,t))}function S0(r){r=$o(r,Cl);const e=$o(r.firestore,qa),t=Il(e),o=new tu(e);return vf(r._query),wy(t,r._query).then(d=>new Ed(e,o,r,d))}function C0(r){r=$o(r,Cl);const e=$o(r.firestore,qa),t=Il(e),o=new tu(e);return function by(r,e){const t=new ao;return r.asyncQueue.enqueueAndForget((0,c.Z)(function*(){return(o=(0,c.Z)(function*(d,_,T){try{const J=yield jh(d,_,!0),ye=new Ag(_,J.ir),Oe=ye.sc(J.documents),gt=ye.applyChanges(Oe,!1);T.resolve(gt.snapshot)}catch(J){const ye=Zd(J,`Failed to execute query '${_} against cache`);T.reject(ye)}}),function(d,_,T){return o.apply(this,arguments)})(yield _p(r),e,t);var o})),t.promise}(t,r._query).then(d=>new Ed(e,o,r,d))}function l_(r){r=$o(r,Cl);const e=$o(r.firestore,qa),t=Il(e),o=new tu(e);return wy(t,r._query,{source:"server"}).then(d=>new Ed(e,o,r,d))}function c_(r,e,t){r=$o(r,za);const o=$o(r.firestore,qa),d=Sf(r.converter,e,t);return uh(o,[lh(vd(o),"setDoc",r._key,d,null!==r.converter,t).toMutation(r._key,Ya.none())])}function jy(r,e,t,...o){r=$o(r,za);const d=$o(r.firestore,qa),_=vd(d);let T;return T="string"==typeof(e=(0,dt.m9)(e))||e instanceof Jc?Cp(_,"updateDoc",r._key,e,t,o):um(_,"updateDoc",r._key,e),uh(d,[T.toMutation(r._key,Ya.exists(!0))])}function u_(r){return uh($o(r.firestore,qa),[new Hc(r._key,Ya.none())])}function zl(r,e){const t=$o(r.firestore,qa),o=yd(r),d=Sf(r.converter,e);return uh(t,[lh(vd(r.firestore),"addDoc",o._key,d,null!==r.converter,{}).toMutation(o._key,Ya.exists(!1))]).then(()=>o)}function Hy(r,...e){var t,o,d;r=(0,dt.m9)(r);let _={includeMetadataChanges:!1},T=0;"object"!=typeof e[T]||Ep(e[T])||(_=e[T],T++);const J={includeMetadataChanges:_.includeMetadataChanges};if(Ep(e[T])){const cn=e[T];e[T]=null===(t=cn.next)||void 0===t?void 0:t.bind(cn),e[T+1]=null===(o=cn.error)||void 0===o?void 0:o.bind(cn),e[T+2]=null===(d=cn.complete)||void 0===d?void 0:d.bind(cn)}let ye,Oe,gt;if(r instanceof za)Oe=$o(r.firestore,qa),gt=Tc(r._key.path),ye={next:cn=>{e[T]&&e[T](Rp(Oe,r,cn))},error:e[T+1],complete:e[T+2]};else{const cn=$o(r,Cl);Oe=$o(cn.firestore,qa),gt=cn._query;const Wn=new tu(Oe);ye={next:vi=>{e[T]&&e[T](new Ed(Oe,Wn,cn,vi))},error:e[T+1],complete:e[T+2]},vf(r._query)}return function(cn,Wn,vi,cr){const ts=new uf(cr),ds=new Tg(Wn,ts,vi);return cn.asyncQueue.enqueueAndForget((0,c.Z)(function*(){return ef(yield nh(cn),ds)})),()=>{ts.Dc(),cn.asyncQueue.enqueueAndForget((0,c.Z)(function*(){return nf(yield nh(cn),ds)}))}}(Il(Oe),gt,J,ye)}function d_(r,e){return function y0(r,e){const t=new uf(e);return r.asyncQueue.enqueueAndForget((0,c.Z)(function*(){return o=yield nh(r),d=t,fi(o).ku.add(d),void d.next();var o,d})),()=>{t.Dc(),r.asyncQueue.enqueueAndForget((0,c.Z)(function*(){return o=yield nh(r),d=t,void fi(o).ku.delete(d);var o,d}))}}(Il(r=$o(r,qa)),Ep(e)?e:{next:e})}function uh(r,e){return function(t,o){const d=new ao;return t.asyncQueue.enqueueAndForget((0,c.Z)(function*(){return function Av(r,e,t){return Pg.apply(this,arguments)}(yield nm(t),o,d)})),d.promise}(Il(r),e)}function Rp(r,e,t){const o=t.docs.get(e._key),d=new tu(r);return new eu(r,d,e._key,o,new Hu(t.hasPendingWrites,t.fromCache),e.converter)}const m_={maxAttempts:5};class Vc{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=vd(e)}set(e,t,o){this._verifyNotCommitted();const d=Yl(e,this._firestore),_=Sf(d.converter,t,o),T=lh(this._dataReader,"WriteBatch.set",d._key,_,null!==d.converter,o);return this._mutations.push(T.toMutation(d._key,Ya.none())),this}update(e,t,o,...d){this._verifyNotCommitted();const _=Yl(e,this._firestore);let T;return T="string"==typeof(t=(0,dt.m9)(t))||t instanceof Jc?Cp(this._dataReader,"WriteBatch.update",_._key,t,o,d):um(this._dataReader,"WriteBatch.update",_._key,t),this._mutations.push(T.toMutation(_._key,Ya.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Yl(e,this._firestore);return this._mutations=this._mutations.concat(new Hc(t._key,Ya.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Ri(Zn.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Yl(r,e){if((r=(0,dt.m9)(r)).firestore!==e)throw new Ri(Zn.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return r}class Uc extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=vd(e)}get(e){const t=Yl(e,this._firestore),o=new Uy(this._firestore);return this._transaction.lookup([t._key]).then(d=>{if(!d||1!==d.length)return gr();const _=d[0];if(_.isFoundDocument())return new bd(this._firestore,o,_.key,_,t.converter);if(_.isNoDocument())return new bd(this._firestore,o,t._key,null,t.converter);throw gr()})}set(e,t,o){const d=Yl(e,this._firestore),_=Sf(d.converter,t,o),T=lh(this._dataReader,"Transaction.set",d._key,_,null!==d.converter,o);return this._transaction.set(d._key,T),this}update(e,t,o,...d){const _=Yl(e,this._firestore);let T;return T="string"==typeof(t=(0,dt.m9)(t))||t instanceof Jc?Cp(this._dataReader,"Transaction.update",_._key,t,o,d):um(this._dataReader,"Transaction.update",_._key,t),this._transaction.update(_._key,T),this}delete(e){const t=Yl(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Yl(e,this._firestore),o=new tu(this._firestore);return super.get(e).then(d=>new eu(this._firestore,o,t._key,d._document,new Hu(!1,!1),t.converter))}}function Ky(r,e,t){r=$o(r,qa);const o=Object.assign(Object.assign({},m_),t);return function(d){if(d.maxAttempts<1)throw new Ri(Zn.INVALID_ARGUMENT,"Max attempts must be at least 1")}(o),function(d,_,T){const J=new ao;return d.asyncQueue.enqueueAndForget((0,c.Z)(function*(){const ye=yield function _y(r){return mp(r).then(e=>e.datastore)}(d);new df(d.asyncQueue,ye,T,_,J).run()})),J.promise}(Il(r),d=>e(new Uc(r,d)),o)}function qy(){return new ju("deleteField")}function y_(){return new Oy("serverTimestamp")}function v_(...r){return new qv("arrayUnion",r)}function __(...r){return new Zv("arrayRemove",r)}function b_(r){return new cm("increment",r)}!function(r,e=!0){Is=y.SDK_VERSION,(0,y._registerComponent)(new De.wA("firestore",(t,{instanceIdentifier:o,options:d})=>{const _=t.getProvider("app").getImmediate(),T=new qa(new ql(t.getProvider("auth-internal")),new Nl(t.getProvider("app-check-internal")),function(J,ye){if(!Object.prototype.hasOwnProperty.apply(J.options,["projectId"]))throw new Ri(Zn.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Hl(J.options.projectId,ye)}(_,o),_);return d=Object.assign({useFetchStreams:e},d),T._setSettings(d),T},"PUBLIC").setMultipleInstances(!0)),(0,y.registerVersion)(Os,"3.12.0",r),(0,y.registerVersion)(Os,"3.12.0","esm2017")}()},2090:(Ii,ln,Y)=>{"use strict";Y.d(ln,{$s:()=>mi,BH:()=>Jt,DV:()=>Ni,Dv:()=>Ir,G6:()=>ft,GJ:()=>Xn,L:()=>Ke,LL:()=>Gt,P0:()=>It,Pz:()=>zt,Sg:()=>Yt,UG:()=>Vt,UI:()=>fr,US:()=>Ye,Wj:()=>tr,Wl:()=>On,Yr:()=>Ot,ZB:()=>Xe,ZR:()=>xn,aH:()=>bt,b$:()=>dn,cI:()=>Nt,dS:()=>is,eu:()=>Et,g5:()=>De,gK:()=>jr,gQ:()=>Xr,h$:()=>$e,hl:()=>Je,hu:()=>y,jU:()=>Tt,lb:()=>Hi,m9:()=>sr,ne:()=>Bi,p$:()=>Re,pd:()=>ps,q4:()=>on,r3:()=>Ai,ru:()=>tn,tV:()=>Ue,uI:()=>se,ug:()=>nr,vZ:()=>Ui,w1:()=>et,w9:()=>Vi,xO:()=>Ar,xb:()=>rr,z$:()=>tt,zI:()=>vn,zd:()=>Li});const c={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},y=function(Pt,B){if(!Pt)throw De(B)},De=function(Pt){return new Error("Firebase Database ("+c.SDK_VERSION+") INTERNAL ASSERT FAILED: "+Pt)},ze=function(Pt){const B=[];let x=0;for(let A=0;A<Pt.length;A++){let O=Pt.charCodeAt(A);O<128?B[x++]=O:O<2048?(B[x++]=O>>6|192,B[x++]=63&O|128):55296==(64512&O)&&A+1<Pt.length&&56320==(64512&Pt.charCodeAt(A+1))?(O=65536+((1023&O)<<10)+(1023&Pt.charCodeAt(++A)),B[x++]=O>>18|240,B[x++]=O>>12&63|128,B[x++]=O>>6&63|128,B[x++]=63&O|128):(B[x++]=O>>12|224,B[x++]=O>>6&63|128,B[x++]=63&O|128)}return B},Ye={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(Pt,B){if(!Array.isArray(Pt))throw Error("encodeByteArray takes an array as a parameter");this.init_();const x=B?this.byteToCharMapWebSafe_:this.byteToCharMap_,A=[];for(let O=0;O<Pt.length;O+=3){const ne=Pt[O],ce=O+1<Pt.length,me=ce?Pt[O+1]:0,Ve=O+2<Pt.length,Be=Ve?Pt[O+2]:0;let fn=(15&me)<<2|Be>>6,Wt=63&Be;Ve||(Wt=64,ce||(fn=64)),A.push(x[ne>>2],x[(3&ne)<<4|me>>4],x[fn],x[Wt])}return A.join("")},encodeString(Pt,B){return this.HAS_NATIVE_SUPPORT&&!B?btoa(Pt):this.encodeByteArray(ze(Pt),B)},decodeString(Pt,B){return this.HAS_NATIVE_SUPPORT&&!B?atob(Pt):function(Pt){const B=[];let x=0,A=0;for(;x<Pt.length;){const O=Pt[x++];if(O<128)B[A++]=String.fromCharCode(O);else if(O>191&&O<224){const ne=Pt[x++];B[A++]=String.fromCharCode((31&O)<<6|63&ne)}else if(O>239&&O<365){const Ve=((7&O)<<18|(63&Pt[x++])<<12|(63&Pt[x++])<<6|63&Pt[x++])-65536;B[A++]=String.fromCharCode(55296+(Ve>>10)),B[A++]=String.fromCharCode(56320+(1023&Ve))}else{const ne=Pt[x++],ce=Pt[x++];B[A++]=String.fromCharCode((15&O)<<12|(63&ne)<<6|63&ce)}}return B.join("")}(this.decodeStringToByteArray(Pt,B))},decodeStringToByteArray(Pt,B){this.init_();const x=B?this.charToByteMapWebSafe_:this.charToByteMap_,A=[];for(let O=0;O<Pt.length;){const ne=x[Pt.charAt(O++)],me=O<Pt.length?x[Pt.charAt(O)]:0;++O;const Be=O<Pt.length?x[Pt.charAt(O)]:64;++O;const Lt=O<Pt.length?x[Pt.charAt(O)]:64;if(++O,null==ne||null==me||null==Be||null==Lt)throw new be;A.push(ne<<2|me>>4),64!==Be&&(A.push(me<<4&240|Be>>2),64!==Lt&&A.push(Be<<6&192|Lt))}return A},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let Pt=0;Pt<this.ENCODED_VALS.length;Pt++)this.byteToCharMap_[Pt]=this.ENCODED_VALS.charAt(Pt),this.charToByteMap_[this.byteToCharMap_[Pt]]=Pt,this.byteToCharMapWebSafe_[Pt]=this.ENCODED_VALS_WEBSAFE.charAt(Pt),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[Pt]]=Pt,Pt>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(Pt)]=Pt,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(Pt)]=Pt)}}};class be extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const $e=function(Pt){const B=ze(Pt);return Ye.encodeByteArray(B,!0)},Ke=function(Pt){return $e(Pt).replace(/\./g,"")},Ue=function(Pt){try{return Ye.decodeString(Pt,!0)}catch(B){console.error("base64Decode failed: ",B)}return null};function Re(Pt){return Xe(void 0,Pt)}function Xe(Pt,B){if(!(B instanceof Object))return B;switch(B.constructor){case Date:return new Date(B.getTime());case Object:void 0===Pt&&(Pt={});break;case Array:Pt=[];break;default:return B}for(const x in B)!B.hasOwnProperty(x)||!Le(x)||(Pt[x]=Xe(Pt[x],B[x]));return Pt}function Le(Pt){return"__proto__"!==Pt}const Ze=()=>{try{return function Qe(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const Pt=process.env.__FIREBASE_DEFAULTS__;return Pt?JSON.parse(Pt):void 0})()||(()=>{if(typeof document>"u")return;let Pt;try{Pt=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const B=Pt&&Ue(Pt[1]);return B&&JSON.parse(B)})()}catch(Pt){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${Pt}`)}},on=Pt=>{var B,x;return null===(x=null===(B=Ze())||void 0===B?void 0:B.emulatorHosts)||void 0===x?void 0:x[Pt]},It=Pt=>{const B=on(Pt);if(!B)return;const x=B.lastIndexOf(":");if(x<=0||x+1===B.length)throw new Error(`Invalid host ${B} with no separate hostname and port!`);const A=parseInt(B.substring(x+1),10);return"["===B[0]?[B.substring(1,x-1),A]:[B.substring(0,x),A]},bt=()=>{var Pt;return null===(Pt=Ze())||void 0===Pt?void 0:Pt.config},zt=Pt=>{var B;return null===(B=Ze())||void 0===B?void 0:B[`_${Pt}`]};class Jt{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((B,x)=>{this.resolve=B,this.reject=x})}wrapCallback(B){return(x,A)=>{x?this.reject(x):this.resolve(A),"function"==typeof B&&(this.promise.catch(()=>{}),1===B.length?B(x):B(x,A))}}}function Yt(Pt,B){if(Pt.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const A=B||"demo-project",O=Pt.iat||0,ne=Pt.sub||Pt.user_id;if(!ne)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const ce=Object.assign({iss:`https://securetoken.google.com/${A}`,aud:A,iat:O,exp:O+3600,auth_time:O,sub:ne,user_id:ne,firebase:{sign_in_provider:"custom",identities:{}}},Pt);return[Ke(JSON.stringify({alg:"none",type:"JWT"})),Ke(JSON.stringify(ce)),""].join(".")}function tt(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function se(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(tt())}function Vt(){var Pt;const B=null===(Pt=Ze())||void 0===Pt?void 0:Pt.forceEnvironment;if("node"===B)return!0;if("browser"===B)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function Tt(){return"object"==typeof self&&self.self===self}function tn(){const Pt="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof Pt&&void 0!==Pt.id}function dn(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function et(){const Pt=tt();return Pt.indexOf("MSIE ")>=0||Pt.indexOf("Trident/")>=0}function Ot(){return!0===c.NODE_CLIENT||!0===c.NODE_ADMIN}function ft(){return!Vt()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Je(){try{return"object"==typeof indexedDB}catch{return!1}}function Et(){return new Promise((Pt,B)=>{try{let x=!0;const A="validate-browser-context-for-indexeddb-analytics-module",O=self.indexedDB.open(A);O.onsuccess=()=>{O.result.close(),x||self.indexedDB.deleteDatabase(A),Pt(!0)},O.onupgradeneeded=()=>{x=!1},O.onerror=()=>{var ne;B((null===(ne=O.error)||void 0===ne?void 0:ne.message)||"")}}catch(x){B(x)}})}function vn(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class xn extends Error{constructor(B,x,A){super(x),this.code=B,this.customData=A,this.name="FirebaseError",Object.setPrototypeOf(this,xn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Gt.prototype.create)}}class Gt{constructor(B,x,A){this.service=B,this.serviceName=x,this.errors=A}create(B,...x){const A=x[0]||{},O=`${this.service}/${B}`,ne=this.errors[B],ce=ne?function li(Pt,B){return Pt.replace(Dn,(x,A)=>{const O=B[A];return null!=O?String(O):`<${A}?>`})}(ne,A):"Error";return new xn(O,`${this.serviceName}: ${ce} (${O}).`,A)}}const Dn=/\{\$([^}]+)}/g;function Nt(Pt){return JSON.parse(Pt)}function On(Pt){return JSON.stringify(Pt)}const Vn=function(Pt){let B={},x={},A={},O="";try{const ne=Pt.split(".");B=Nt(Ue(ne[0])||""),x=Nt(Ue(ne[1])||""),O=ne[2],A=x.d||{},delete x.d}catch{}return{header:B,claims:x,data:A,signature:O}},Vi=function(Pt){const x=Vn(Pt).claims;return!!x&&"object"==typeof x&&x.hasOwnProperty("iat")},Xn=function(Pt){const B=Vn(Pt).claims;return"object"==typeof B&&!0===B.admin};function Ai(Pt,B){return Object.prototype.hasOwnProperty.call(Pt,B)}function Ni(Pt,B){if(Object.prototype.hasOwnProperty.call(Pt,B))return Pt[B]}function rr(Pt){for(const B in Pt)if(Object.prototype.hasOwnProperty.call(Pt,B))return!1;return!0}function fr(Pt,B,x){const A={};for(const O in Pt)Object.prototype.hasOwnProperty.call(Pt,O)&&(A[O]=B.call(x,Pt[O],O,Pt));return A}function Ui(Pt,B){if(Pt===B)return!0;const x=Object.keys(Pt),A=Object.keys(B);for(const O of x){if(!A.includes(O))return!1;const ne=Pt[O],ce=B[O];if(ii(ne)&&ii(ce)){if(!Ui(ne,ce))return!1}else if(ne!==ce)return!1}for(const O of A)if(!x.includes(O))return!1;return!0}function ii(Pt){return null!==Pt&&"object"==typeof Pt}function Ar(Pt){const B=[];for(const[x,A]of Object.entries(Pt))Array.isArray(A)?A.forEach(O=>{B.push(encodeURIComponent(x)+"="+encodeURIComponent(O))}):B.push(encodeURIComponent(x)+"="+encodeURIComponent(A));return B.length?"&"+B.join("&"):""}function Li(Pt){const B={};return Pt.replace(/^\?/,"").split("&").forEach(A=>{if(A){const[O,ne]=A.split("=");B[decodeURIComponent(O)]=decodeURIComponent(ne)}}),B}function ps(Pt){const B=Pt.indexOf("?");if(!B)return"";const x=Pt.indexOf("#",B);return Pt.substring(B,x>0?x:void 0)}class Xr{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let B=1;B<this.blockSize;++B)this.pad_[B]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(B,x){x||(x=0);const A=this.W_;if("string"==typeof B)for(let Lt=0;Lt<16;Lt++)A[Lt]=B.charCodeAt(x)<<24|B.charCodeAt(x+1)<<16|B.charCodeAt(x+2)<<8|B.charCodeAt(x+3),x+=4;else for(let Lt=0;Lt<16;Lt++)A[Lt]=B[x]<<24|B[x+1]<<16|B[x+2]<<8|B[x+3],x+=4;for(let Lt=16;Lt<80;Lt++){const fn=A[Lt-3]^A[Lt-8]^A[Lt-14]^A[Lt-16];A[Lt]=4294967295&(fn<<1|fn>>>31)}let Be,jt,O=this.chain_[0],ne=this.chain_[1],ce=this.chain_[2],me=this.chain_[3],Ve=this.chain_[4];for(let Lt=0;Lt<80;Lt++){Lt<40?Lt<20?(Be=me^ne&(ce^me),jt=1518500249):(Be=ne^ce^me,jt=1859775393):Lt<60?(Be=ne&ce|me&(ne|ce),jt=2400959708):(Be=ne^ce^me,jt=3395469782);const fn=(O<<5|O>>>27)+Be+Ve+jt+A[Lt]&4294967295;Ve=me,me=ce,ce=4294967295&(ne<<30|ne>>>2),ne=O,O=fn}this.chain_[0]=this.chain_[0]+O&4294967295,this.chain_[1]=this.chain_[1]+ne&4294967295,this.chain_[2]=this.chain_[2]+ce&4294967295,this.chain_[3]=this.chain_[3]+me&4294967295,this.chain_[4]=this.chain_[4]+Ve&4294967295}update(B,x){if(null==B)return;void 0===x&&(x=B.length);const A=x-this.blockSize;let O=0;const ne=this.buf_;let ce=this.inbuf_;for(;O<x;){if(0===ce)for(;O<=A;)this.compress_(B,O),O+=this.blockSize;if("string"==typeof B){for(;O<x;)if(ne[ce]=B.charCodeAt(O),++ce,++O,ce===this.blockSize){this.compress_(ne),ce=0;break}}else for(;O<x;)if(ne[ce]=B[O],++ce,++O,ce===this.blockSize){this.compress_(ne),ce=0;break}}this.inbuf_=ce,this.total_+=x}digest(){const B=[];let x=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let O=this.blockSize-1;O>=56;O--)this.buf_[O]=255&x,x/=256;this.compress_(this.buf_);let A=0;for(let O=0;O<5;O++)for(let ne=24;ne>=0;ne-=8)B[A]=this.chain_[O]>>ne&255,++A;return B}}function Bi(Pt,B){const x=new Mi(Pt,B);return x.subscribe.bind(x)}class Mi{constructor(B,x){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=x,this.task.then(()=>{B(this)}).catch(A=>{this.error(A)})}next(B){this.forEachObserver(x=>{x.next(B)})}error(B){this.forEachObserver(x=>{x.error(B)}),this.close(B)}complete(){this.forEachObserver(B=>{B.complete()}),this.close()}subscribe(B,x,A){let O;if(void 0===B&&void 0===x&&void 0===A)throw new Error("Missing Observer.");O=function Qr(Pt,B){if("object"!=typeof Pt||null===Pt)return!1;for(const x of B)if(x in Pt&&"function"==typeof Pt[x])return!0;return!1}(B,["next","error","complete"])?B:{next:B,error:x,complete:A},void 0===O.next&&(O.next=Jr),void 0===O.error&&(O.error=Jr),void 0===O.complete&&(O.complete=Jr);const ne=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?O.error(this.finalError):O.complete()}catch{}}),this.observers.push(O),ne}unsubscribeOne(B){void 0===this.observers||void 0===this.observers[B]||(delete this.observers[B],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(B){if(!this.finalized)for(let x=0;x<this.observers.length;x++)this.sendOne(x,B)}sendOne(B,x){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[B])try{x(this.observers[B])}catch(A){typeof console<"u"&&console.error&&console.error(A)}})}close(B){this.finalized||(this.finalized=!0,void 0!==B&&(this.finalError=B),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Jr(){}const Ir=function(Pt,B,x,A){let O;if(A<B?O="at least "+B:A>x&&(O=0===x?"none":"no more than "+x),O)throw new Error(Pt+" failed: Was called with "+A+(1===A?" argument.":" arguments.")+" Expects "+O+".")};function jr(Pt,B){return`${Pt} failed: ${B} argument `}function tr(Pt,B,x,A){if((!A||x)&&"function"!=typeof x)throw new Error(jr(Pt,B)+"must be a valid function.")}function Hi(Pt,B,x,A){if((!A||x)&&("object"!=typeof x||null===x))throw new Error(jr(Pt,B)+"must be a valid context object.")}const is=function(Pt){const B=[];let x=0;for(let A=0;A<Pt.length;A++){let O=Pt.charCodeAt(A);if(O>=55296&&O<=56319){const ne=O-55296;A++,y(A<Pt.length,"Surrogate pair missing trail surrogate."),O=65536+(ne<<10)+(Pt.charCodeAt(A)-56320)}O<128?B[x++]=O:O<2048?(B[x++]=O>>6|192,B[x++]=63&O|128):O<65536?(B[x++]=O>>12|224,B[x++]=O>>6&63|128,B[x++]=63&O|128):(B[x++]=O>>18|240,B[x++]=O>>12&63|128,B[x++]=O>>6&63|128,B[x++]=63&O|128)}return B},nr=function(Pt){let B=0;for(let x=0;x<Pt.length;x++){const A=Pt.charCodeAt(x);A<128?B++:A<2048?B+=2:A>=55296&&A<=56319?(B+=4,x++):B+=3}return B},Ge=1e3,Mt=2,_n=144e5,Gn=.5;function mi(Pt,B=Ge,x=Mt){const A=B*Math.pow(x,Pt),O=Math.round(Gn*A*(Math.random()-.5)*2);return Math.min(_n,A+O)}function sr(Pt){return Pt&&Pt._delegate?Pt._delegate:Pt}},8490:(Ii,ln,Y)=>{"use strict";Y.d(ln,{V1:()=>Ue});var Re,c=Y(8261),y=(Re=function(Xe,Le){return(Re=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Qe,At){Qe.__proto__=At}||function(Qe,At){for(var an in At)Object.prototype.hasOwnProperty.call(At,an)&&(Qe[an]=At[an])})(Xe,Le)},function(Xe,Le){function Qe(){this.constructor=Xe}Re(Xe,Le),Xe.prototype=null===Le?Object.create(Le):(Qe.prototype=Le.prototype,new Qe)}),Ke=function(Re){function Xe(){var Le=null!==Re&&Re.apply(this,arguments)||this;return Le.DestinationType={DATA_URL:0,FILE_URI:1,NATIVE_URI:2},Le.EncodingType={JPEG:0,PNG:1},Le.MediaType={PICTURE:0,VIDEO:1,ALLMEDIA:2},Le.PictureSourceType={PHOTOLIBRARY:0,CAMERA:1,SAVEDPHOTOALBUM:2},Le.PopoverArrowDirection={ARROW_UP:1,ARROW_DOWN:2,ARROW_LEFT:4,ARROW_RIGHT:8,ARROW_ANY:15},Le.Direction={BACK:0,FRONT:1},Le}return y(Xe,Re),Xe.prototype.getPicture=function(Le){return(0,c.DM)(this,"getPicture",{callbackOrder:"reverse"},arguments)},Xe.prototype.cleanup=function(){return(0,c.DM)(this,"cleanup",{platforms:["iOS"]},arguments)},Xe.pluginName="Camera",Xe.plugin="cordova-plugin-camera",Xe.pluginRef="navigator.camera",Xe.repo="https://github.com/apache/cordova-plugin-camera",Xe.platforms=["Android","Browser","iOS","Windows"],Xe}(c.KY),Ue=new Ke},8261:(Ii,ln,Y)=>{"use strict";Y.d(ln,{KY:()=>Yt,DM:()=>tt,J2:()=>tn,Iq:()=>dn});var y=Y(9751),De=Y(4968),ze={error:"cordova_not_available"},dt={error:"plugin_not_installed"};function Ye(ct){if(typeof window<"u"&&window.angular){var wt=window.document,Ot=window.angular.element(wt.querySelector("[ng-app]")||wt.body).injector();if(Ot)return Ot.get("$q")(function(Je,Et){ct(Je,Et)});console.warn("Angular 1 was detected but $q couldn't be retrieved. This is usually when the app is not bootstrapped on the html or body tag. Falling back to native promises which won't trigger an automatic digest when promises resolve.")}return function(){if(Promise)return new Promise(function(Je,Et){ct(Je,Et)});console.error("No Promise support or polyfill found. To enable Ionic Native support, please add the es6-promise polyfill before this script, or run with a library like Angular or on a recent browser.")}()}function Re(ct,et,wt){var Ot,ft,Je;return"string"==typeof ct?Ot=ct:(Ot=ct.constructor.getPluginRef(),wt=ct.constructor.getPluginName(),Je=ct.constructor.getPluginInstallName()),!(!(ft=an(Ot))||et&&typeof ft[et]>"u")||(typeof window>"u"||!window.cordova?(function on(ct,et){typeof process>"u"&&console.warn(et?"Native: tried calling "+ct+"."+et+", but Cordova is not available. Make sure to include cordova.js or run in a device/simulator":"Native: tried accessing the "+ct+" plugin but Cordova is not available. Make sure to include cordova.js or run in a device/simulator")}(wt,et),ze):(function Ze(ct,et,wt){console.warn(wt?"Native: tried calling "+ct+"."+wt+", but the "+ct+" plugin is not installed.":"Native: tried accessing the "+ct+" plugin but it's not installed."),et&&console.warn("Install the "+ct+" plugin: 'ionic cordova plugin add "+et+"'")}(wt,Je,et),dt))}function Qe(ct,et,wt,Ot,ft,Je){void 0===Ot&&(Ot={}),wt=function Le(ct,et,wt,Ot){if(void 0===et&&(et={}),et.sync)return ct;if("reverse"===et.callbackOrder)ct.unshift(Ot),ct.unshift(wt);else if("node"===et.callbackStyle)ct.push(function(vn,qt){vn?Ot(vn):wt(qt)});else if("object"===et.callbackStyle&&et.successName&&et.errorName){var ft={};ft[et.successName]=wt,ft[et.errorName]=Ot,ct.push(ft)}else if(typeof et.successIndex<"u"||typeof et.errorIndex<"u"){var Je=function(){et.successIndex>ct.length?ct[et.successIndex]=wt:ct.splice(et.successIndex,0,wt)},Et=function(){et.errorIndex>ct.length?ct[et.errorIndex]=Ot:ct.splice(et.errorIndex,0,Ot)};et.successIndex>et.errorIndex?(Et(),Je()):(Je(),Et())}else ct.push(wt),ct.push(Ot);return ct}(wt,Ot,ft,Je);var Et=Re(ct,et);if(!0===Et){var vn=an(ct.constructor.getPluginRef());return vn[et].apply(vn,wt)}return Et}function an(ct){return typeof window<"u"?nt(window,ct):null}function nt(ct,et){for(var wt=et.split("."),Ot=ct,ft=0;ft<wt.length;ft++){if(!Ot)return null;Ot=Ot[wt[ft]]}return Ot}var It=function(ct,et,wt){return void 0===wt&&(wt={}),function(){for(var Ot=[],ft=0;ft<arguments.length;ft++)Ot[ft]=arguments[ft];return wt.sync?Qe(ct,et,Ot,wt):wt.observable?function Ke(ct,et,wt,Ot){return void 0===Ot&&(Ot={}),new y.y(function(ft){var Je;return Je=Ot.destruct?Qe(ct,et,wt,Ot,function(){for(var Et=[],vn=0;vn<arguments.length;vn++)Et[vn]=arguments[vn];return ft.next(Et)},function(){for(var Et=[],vn=0;vn<arguments.length;vn++)Et[vn]=arguments[vn];return ft.error(Et)}):Qe(ct,et,wt,Ot,ft.next.bind(ft),ft.error.bind(ft)),Je&&Je.error&&(ft.error(Je.error),ft.complete()),function(){try{if(Ot.clearFunction)return Ot.clearWithArgs?Qe(ct,Ot.clearFunction,wt,Ot,ft.next.bind(ft),ft.error.bind(ft)):Qe(ct,Ot.clearFunction,[])}catch(Et){console.warn("Unable to clear the previous observable watch for",ct.constructor.getPluginName(),et),console.warn(Et)}}})}(ct,et,Ot,wt):wt.eventObservable&&wt.event?function Ue(ct,et){return et=typeof window<"u"&&et?nt(window,et):et||(typeof window<"u"?window:{}),(0,De.R)(et,ct)}(wt.event,wt.element):wt.otherPromise?function $e(ct,et,wt,Ot){return void 0===Ot&&(Ot={}),Ye(function(ft,Je){var Et=Qe(ct,et,wt,Ot);Et?Et.error?Je(Et.error):Et.then&&Et.then(ft).catch(Je):Je({error:"unexpected_error"})})}(ct,et,Ot,wt):function be(ct,et,wt,Ot){void 0===Ot&&(Ot={});var ft,Je,Et=Ye(function(vn,qt){ft=Ot.destruct?Qe(ct,et,wt,Ot,function(){for(var xn=[],Gt=0;Gt<arguments.length;Gt++)xn[Gt]=arguments[Gt];return vn(xn)},function(){for(var xn=[],Gt=0;Gt<arguments.length;Gt++)xn[Gt]=arguments[Gt];return qt(xn)}):Qe(ct,et,wt,Ot,vn,qt),Je=qt});return ft&&ft.error&&(Et.catch(function(){}),"function"==typeof Je&&Je(ft.error)),Et}(ct,et,Ot,wt)}},Yt=function(){function ct(){}return ct.installed=function(){return!0===Re(this.pluginRef)},ct.getPlugin=function(){return typeof window<"u"?function zt(ct,et){for(var wt=et.split("."),Ot=ct,ft=0;ft<wt.length;ft++){if(!Ot)return null;Ot=Ot[wt[ft]]}return Ot}(window,this.pluginRef):null},ct.getPluginName=function(){return this.pluginName},ct.getPluginRef=function(){return this.pluginRef},ct.getPluginInstallName=function(){return this.plugin},ct.getSupportedPlatforms=function(){return this.platforms},ct.pluginName="",ct.pluginRef="",ct.plugin="",ct.repo="",ct.platforms=[],ct.install="",ct}();function tt(ct,et,wt,Ot){return It(ct,et,wt).apply(this,Ot)}function tn(ct,et){return!0===Re(ct,et)?an(ct.constructor.getPluginRef())[et]:null}function dn(ct,et,wt){!0===Re(ct,et)&&(an(ct.constructor.getPluginRef())[et]=wt)}!function c(){if(typeof process>"u"){var ct=typeof window<"u"?window:{},wt=Date.now(),Ot=!1;ct.document.addEventListener("deviceready",function(){console.log("Ionic Native: deviceready event fired after "+(Date.now()-wt)+" ms"),Ot=!0}),setTimeout(function(){!Ot&&ct.cordova&&console.warn("Ionic Native: deviceready did not fire within 5000ms. This can happen when plugins are in an inconsistent state. Try removing plugins from plugins/ and reinstalling them.")},5e3)}}()},9613:(Ii,ln,Y)=>{"use strict";Y.d(ln,{c:()=>an});var c=Y(3577),y=Y(3457);let De;const dt=nt=>nt.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Ye=nt=>(void 0===De&&(De=void 0===nt.style.animationName&&void 0!==nt.style.webkitAnimationName?"-webkit-":""),De),be=(nt,Ze,on)=>{const It=Ze.startsWith("animation")?Ye(nt):"";nt.style.setProperty(It+Ze,on)},$e=(nt,Ze)=>{const on=Ze.startsWith("animation")?Ye(nt):"";nt.style.removeProperty(on+Ze)},Re=[],At=(nt=[],Ze)=>{if(void 0!==Ze){const on=Array.isArray(Ze)?Ze:[Ze];return[...nt,...on]}return nt},an=nt=>{let Ze,on,It,bt,zt,Jt,Tt,Je,Et,vn,qt,Dn,Nt,Yt=[],tt=[],se=[],Vt=!1,tn={},dn=[],ct=[],et={},wt=0,Ot=!1,ft=!1,xn=!0,Gt=!1,li=!0,On=!1;const Vn=nt,Ti=[],Di=[],Vi=[],Xn=[],Ai=[],Ni=[],rr=[],fr=[],Ui=[],ii=[],kr="function"==typeof AnimationEffect||void 0!==y.w&&"function"==typeof y.w.AnimationEffect,Ar="function"==typeof Element&&"function"==typeof Element.prototype.animate&&kr,ps=()=>ii,Qr=(Me,he)=>((null!=he&&he.oneTimeCallback?Di:Ti).push({c:Me,o:he}),Nt),Ir=()=>{if(Ar)ii.forEach(Me=>{Me.cancel()}),ii.length=0;else{const Me=Vi.slice();(0,c.r)(()=>{Me.forEach(he=>{$e(he,"animation-name"),$e(he,"animation-duration"),$e(he,"animation-timing-function"),$e(he,"animation-iteration-count"),$e(he,"animation-delay"),$e(he,"animation-play-state"),$e(he,"animation-fill-mode"),$e(he,"animation-direction")})})}},jr=()=>{Ai.forEach(Me=>{null!=Me&&Me.parentNode&&Me.parentNode.removeChild(Me)}),Ai.length=0},pr=()=>void 0!==zt?zt:Tt?Tt.getFill():"both",sr=()=>void 0!==Et?Et:void 0!==Jt?Jt:Tt?Tt.getDirection():"normal",Pt=()=>Ot?"linear":void 0!==It?It:Tt?Tt.getEasing():"linear",B=()=>ft?0:void 0!==vn?vn:void 0!==on?on:Tt?Tt.getDuration():0,x=()=>void 0!==bt?bt:Tt?Tt.getIterations():1,A=()=>void 0!==qt?qt:void 0!==Ze?Ze:Tt?Tt.getDelay():0,hn=()=>{0!==wt&&(wt--,0===wt&&((()=>{$s(),fr.forEach(Kt=>Kt()),Ui.forEach(Kt=>Kt());const Me=xn?1:0,he=dn,Ae=ct,St=et;Vi.forEach(Kt=>{const mn=Kt.classList;he.forEach(Mn=>mn.add(Mn)),Ae.forEach(Mn=>mn.remove(Mn));for(const Mn in St)St.hasOwnProperty(Mn)&&be(Kt,Mn,St[Mn])}),Ti.forEach(Kt=>Kt.c(Me,Nt)),Di.forEach(Kt=>Kt.c(Me,Nt)),Di.length=0,li=!0,xn&&(Gt=!0),xn=!0})(),Tt&&Tt.animationFinish()))},Yn=(Me=!0)=>{jr();const he=(nt=>(nt.forEach(Ze=>{for(const on in Ze)if(Ze.hasOwnProperty(on)){const It=Ze[on];if("easing"===on)Ze["animation-timing-function"]=It,delete Ze[on];else{const bt=dt(on);bt!==on&&(Ze[bt]=It,delete Ze[on])}}}),nt))(Yt);Vi.forEach(Ae=>{if(he.length>0){const St=((nt=[])=>nt.map(Ze=>{const on=Ze.offset,It=[];for(const bt in Ze)Ze.hasOwnProperty(bt)&&"offset"!==bt&&It.push(`${bt}: ${Ze[bt]};`);return`${100*on}% { ${It.join(" ")} }`}).join(" "))(he);Dn=void 0!==nt?nt:(nt=>{let Ze=Re.indexOf(nt);return Ze<0&&(Ze=Re.push(nt)-1),`ion-animation-${Ze}`})(St);const Kt=((nt,Ze,on)=>{var It;const bt=(nt=>{const Ze=void 0!==nt.getRootNode?nt.getRootNode():nt;return Ze.head||Ze})(on),zt=Ye(on),Jt=bt.querySelector("#"+nt);if(Jt)return Jt;const Yt=(null!==(It=on.ownerDocument)&&void 0!==It?It:document).createElement("style");return Yt.id=nt,Yt.textContent=`@${zt}keyframes ${nt} { ${Ze} } @${zt}keyframes ${nt}-alt { ${Ze} }`,bt.appendChild(Yt),Yt})(Dn,St,Ae);Ai.push(Kt),be(Ae,"animation-duration",`${B()}ms`),be(Ae,"animation-timing-function",Pt()),be(Ae,"animation-delay",`${A()}ms`),be(Ae,"animation-fill-mode",pr()),be(Ae,"animation-direction",sr());const mn=x()===1/0?"infinite":x().toString();be(Ae,"animation-iteration-count",mn),be(Ae,"animation-play-state","paused"),Me&&be(Ae,"animation-name",`${Kt.id}-alt`),(0,c.r)(()=>{be(Ae,"animation-name",Kt.id||null)})}})},ti=(Me=!0)=>{(()=>{Ni.forEach(St=>St()),rr.forEach(St=>St());const Me=tt,he=se,Ae=tn;Vi.forEach(St=>{const Kt=St.classList;Me.forEach(mn=>Kt.add(mn)),he.forEach(mn=>Kt.remove(mn));for(const mn in Ae)Ae.hasOwnProperty(mn)&&be(St,mn,Ae[mn])})})(),Yt.length>0&&(Ar?(Vi.forEach(Me=>{const he=Me.animate(Yt,{id:Vn,delay:A(),duration:B(),easing:Pt(),iterations:x(),fill:pr(),direction:sr()});he.pause(),ii.push(he)}),ii.length>0&&(ii[0].onfinish=()=>{hn()})):Yn(Me)),Vt=!0},$i=Me=>{if(Me=Math.min(Math.max(Me,0),.9999),Ar)ii.forEach(he=>{he.currentTime=he.effect.getComputedTiming().delay+B()*Me,he.pause()});else{const he=`-${B()*Me}ms`;Vi.forEach(Ae=>{Yt.length>0&&(be(Ae,"animation-delay",he),be(Ae,"animation-play-state","paused"))})}},Sr=Me=>{ii.forEach(he=>{he.effect.updateTiming({delay:A(),duration:B(),easing:Pt(),iterations:x(),fill:pr(),direction:sr()})}),void 0!==Me&&$i(Me)},yr=(Me=!0,he)=>{(0,c.r)(()=>{Vi.forEach(Ae=>{be(Ae,"animation-name",Dn||null),be(Ae,"animation-duration",`${B()}ms`),be(Ae,"animation-timing-function",Pt()),be(Ae,"animation-delay",void 0!==he?`-${he*B()}ms`:`${A()}ms`),be(Ae,"animation-fill-mode",pr()||null),be(Ae,"animation-direction",sr()||null);const St=x()===1/0?"infinite":x().toString();be(Ae,"animation-iteration-count",St),Me&&be(Ae,"animation-name",`${Dn}-alt`),(0,c.r)(()=>{be(Ae,"animation-name",Dn||null)})})})},Ki=(Me=!1,he=!0,Ae)=>(Me&&Xn.forEach(St=>{St.update(Me,he,Ae)}),Ar?Sr(Ae):yr(he,Ae),Nt),Hr=()=>{Vt&&(Ar?ii.forEach(Me=>{Me.pause()}):Vi.forEach(Me=>{be(Me,"animation-play-state","paused")}),On=!0)},rs=()=>{Je=void 0,hn()},$s=()=>{Je&&clearTimeout(Je)},Zs=Me=>new Promise(he=>{null!=Me&&Me.sync&&(ft=!0,Qr(()=>ft=!1,{oneTimeCallback:!0})),Vt||ti(),Gt&&(Ar?($i(0),Sr()):yr(),Gt=!1),li&&(wt=Xn.length+1,li=!1),Qr(()=>he(),{oneTimeCallback:!0}),Xn.forEach(Ae=>{Ae.play()}),Ar?(ii.forEach(Me=>{Me.play()}),(0===Yt.length||0===Vi.length)&&hn()):(()=>{if($s(),(0,c.r)(()=>{Vi.forEach(Me=>{Yt.length>0&&be(Me,"animation-play-state","running")})}),0===Yt.length||0===Vi.length)hn();else{const Me=A()||0,he=B()||0,Ae=x()||1;isFinite(Ae)&&(Je=setTimeout(rs,Me+he*Ae+100)),((nt,Ze)=>{let on;const It={passive:!0},zt=Jt=>{nt===Jt.target&&(on&&on(),$s(),(0,c.r)(()=>{Vi.forEach(Me=>{$e(Me,"animation-duration"),$e(Me,"animation-delay"),$e(Me,"animation-play-state")}),(0,c.r)(hn)}))};nt&&(nt.addEventListener("webkitAnimationEnd",zt,It),nt.addEventListener("animationend",zt,It),on=()=>{nt.removeEventListener("webkitAnimationEnd",zt,It),nt.removeEventListener("animationend",zt,It)})})(Vi[0])}})(),On=!1}),fe=(Me,he)=>{const Ae=Yt[0];return void 0===Ae||void 0!==Ae.offset&&0!==Ae.offset?Yt=[{offset:0,[Me]:he},...Yt]:Ae[Me]=he,Nt};return Nt={parentAnimation:Tt,elements:Vi,childAnimations:Xn,id:Vn,animationFinish:hn,from:fe,to:(Me,he)=>{const Ae=Yt[Yt.length-1];return void 0===Ae||void 0!==Ae.offset&&1!==Ae.offset?Yt=[...Yt,{offset:1,[Me]:he}]:Ae[Me]=he,Nt},fromTo:(Me,he,Ae)=>fe(Me,he).to(Me,Ae),parent:Me=>(Tt=Me,Nt),play:Zs,pause:()=>(Xn.forEach(Me=>{Me.pause()}),Hr(),Nt),stop:()=>{Xn.forEach(Me=>{Me.stop()}),Vt&&(Ir(),Vt=!1),Ot=!1,ft=!1,li=!0,Et=void 0,vn=void 0,qt=void 0,wt=0,Gt=!1,xn=!0,On=!1},destroy:Me=>(Xn.forEach(he=>{he.destroy(Me)}),(Me=>{Ir(),Me&&jr()})(Me),Vi.length=0,Xn.length=0,Yt.length=0,Ti.length=0,Di.length=0,Vt=!1,li=!0,Nt),keyframes:Me=>{const he=Yt!==Me;return Yt=Me,he&&(Me=>{Ar?ps().forEach(he=>{if(he.effect.setKeyframes)he.effect.setKeyframes(Me);else{const Ae=new KeyframeEffect(he.effect.target,Me,he.effect.getTiming());he.effect=Ae}}):Yn()})(Yt),Nt},addAnimation:Me=>{if(null!=Me)if(Array.isArray(Me))for(const he of Me)he.parent(Nt),Xn.push(he);else Me.parent(Nt),Xn.push(Me);return Nt},addElement:Me=>{if(null!=Me)if(1===Me.nodeType)Vi.push(Me);else if(Me.length>=0)for(let he=0;he<Me.length;he++)Vi.push(Me[he]);else console.error("Invalid addElement value");return Nt},update:Ki,fill:Me=>(zt=Me,Ki(!0),Nt),direction:Me=>(Jt=Me,Ki(!0),Nt),iterations:Me=>(bt=Me,Ki(!0),Nt),duration:Me=>(!Ar&&0===Me&&(Me=1),on=Me,Ki(!0),Nt),easing:Me=>(It=Me,Ki(!0),Nt),delay:Me=>(Ze=Me,Ki(!0),Nt),getWebAnimations:ps,getKeyframes:()=>Yt,getFill:pr,getDirection:sr,getDelay:A,getIterations:x,getEasing:Pt,getDuration:B,afterAddRead:Me=>(fr.push(Me),Nt),afterAddWrite:Me=>(Ui.push(Me),Nt),afterClearStyles:(Me=[])=>{for(const he of Me)et[he]="";return Nt},afterStyles:(Me={})=>(et=Me,Nt),afterRemoveClass:Me=>(ct=At(ct,Me),Nt),afterAddClass:Me=>(dn=At(dn,Me),Nt),beforeAddRead:Me=>(Ni.push(Me),Nt),beforeAddWrite:Me=>(rr.push(Me),Nt),beforeClearStyles:(Me=[])=>{for(const he of Me)tn[he]="";return Nt},beforeStyles:(Me={})=>(tn=Me,Nt),beforeRemoveClass:Me=>(se=At(se,Me),Nt),beforeAddClass:Me=>(tt=At(tt,Me),Nt),onFinish:Qr,isRunning:()=>0!==wt&&!On,progressStart:(Me=!1,he)=>(Xn.forEach(Ae=>{Ae.progressStart(Me,he)}),Hr(),Ot=Me,Vt||ti(),Ki(!1,!0,he),Nt),progressStep:Me=>(Xn.forEach(he=>{he.progressStep(Me)}),$i(Me),Nt),progressEnd:(Me,he,Ae)=>(Ot=!1,Xn.forEach(St=>{St.progressEnd(Me,he,Ae)}),void 0!==Ae&&(vn=Ae),Gt=!1,xn=!0,0===Me?(Et="reverse"===sr()?"normal":"reverse","reverse"===Et&&(xn=!1),Ar?(Ki(),$i(1-he)):(qt=(1-he)*B()*-1,Ki(!1,!1))):1===Me&&(Ar?(Ki(),$i(he)):(qt=he*B()*-1,Ki(!1,!1))),void 0!==Me&&(Qr(()=>{vn=void 0,Et=void 0,qt=void 0},{oneTimeCallback:!0}),Tt||Zs()),Nt)}}},3982:(Ii,ln,Y)=>{"use strict";Y.d(ln,{E:()=>Ue,a:()=>c,s:()=>$e});const c=Re=>{try{if(Re instanceof be)return Re.value;if(!ze()||"string"!=typeof Re||""===Re)return Re;if(Re.includes("onload="))return"";const Xe=document.createDocumentFragment(),Le=document.createElement("div");Xe.appendChild(Le),Le.innerHTML=Re,Ye.forEach(nt=>{const Ze=Xe.querySelectorAll(nt);for(let on=Ze.length-1;on>=0;on--){const It=Ze[on];It.parentNode?It.parentNode.removeChild(It):Xe.removeChild(It);const bt=De(It);for(let zt=0;zt<bt.length;zt++)y(bt[zt])}});const Qe=De(Xe);for(let nt=0;nt<Qe.length;nt++)y(Qe[nt]);const At=document.createElement("div");At.appendChild(Xe);const an=At.querySelector("div");return null!==an?an.innerHTML:At.innerHTML}catch(Xe){return console.error(Xe),""}},y=Re=>{if(Re.nodeType&&1!==Re.nodeType)return;if(typeof NamedNodeMap<"u"&&!(Re.attributes instanceof NamedNodeMap))return void Re.remove();for(let Le=Re.attributes.length-1;Le>=0;Le--){const Qe=Re.attributes.item(Le),At=Qe.name;if(!dt.includes(At.toLowerCase())){Re.removeAttribute(At);continue}const an=Qe.value,nt=Re[At];(null!=an&&an.toLowerCase().includes("javascript:")||null!=nt&&nt.toLowerCase().includes("javascript:"))&&Re.removeAttribute(At)}const Xe=De(Re);for(let Le=0;Le<Xe.length;Le++)y(Xe[Le])},De=Re=>null!=Re.children?Re.children:Re.childNodes,ze=()=>{var Re;const Xe=window,Le=null===(Re=null==Xe?void 0:Xe.Ionic)||void 0===Re?void 0:Re.config;return!Le||(Le.get?Le.get("sanitizerEnabled",!0):!0===Le.sanitizerEnabled||void 0===Le.sanitizerEnabled)},dt=["class","id","href","src","name","slot"],Ye=["script","style","iframe","meta","link","object","embed"];class be{constructor(Xe){this.value=Xe}}const $e=Re=>{const Xe=window,Le=Xe.Ionic;if(!Le||!Le.config||"Object"===Le.config.constructor.name)return Xe.Ionic=Xe.Ionic||{},Xe.Ionic.config=Object.assign(Object.assign({},Xe.Ionic.config),Re),Xe.Ionic.config},Ue=!1},6782:(Ii,ln,Y)=>{"use strict";Y.d(ln,{C:()=>dt,a:()=>De,d:()=>ze});var c=Y(5861),y=Y(3577);const De=function(){var Ye=(0,c.Z)(function*(be,$e,Ke,Ue,Re,Xe){var Le;if(be)return be.attachViewToDom($e,Ke,Re,Ue);if(!(Xe||"string"==typeof Ke||Ke instanceof HTMLElement))throw new Error("framework delegate is missing");const Qe="string"==typeof Ke?null===(Le=$e.ownerDocument)||void 0===Le?void 0:Le.createElement(Ke):Ke;return Ue&&Ue.forEach(At=>Qe.classList.add(At)),Re&&Object.assign(Qe,Re),$e.appendChild(Qe),yield new Promise(At=>(0,y.c)(Qe,At)),Qe});return function($e,Ke,Ue,Re,Xe,Le){return Ye.apply(this,arguments)}}(),ze=(Ye,be)=>{if(be){if(Ye)return Ye.removeViewFromDom(be.parentElement,be);be.remove()}return Promise.resolve()},dt=()=>{let Ye,be;return{attachViewToDom:function(){var Ue=(0,c.Z)(function*(Re,Xe,Le={},Qe=[]){var At,an;if(Ye=Re,Xe){const Ze="string"==typeof Xe?null===(At=Ye.ownerDocument)||void 0===At?void 0:At.createElement(Xe):Xe;Qe.forEach(on=>Ze.classList.add(on)),Object.assign(Ze,Le),Ye.appendChild(Ze),yield new Promise(on=>(0,y.c)(Ze,on))}else if(Ye.children.length>0&&("ION-MODAL"===Ye.tagName||"ION-POPOVER"===Ye.tagName)&&!Ye.children[0].classList.contains("ion-delegate-host")){const on=null===(an=Ye.ownerDocument)||void 0===an?void 0:an.createElement("div");on.classList.add("ion-delegate-host"),Qe.forEach(It=>on.classList.add(It)),on.append(...Ye.children),Ye.appendChild(on)}const nt=document.querySelector("ion-app")||document.body;return be=document.createComment("ionic teleport"),Ye.parentNode.insertBefore(be,Ye),nt.appendChild(Ye),Ye});return function(Xe,Le){return Ue.apply(this,arguments)}}(),removeViewFromDom:()=>(Ye&&be&&(be.parentNode.insertBefore(Ye,be),be.remove()),Promise.resolve())}}},4349:(Ii,ln,Y)=>{"use strict";Y.d(ln,{G:()=>dt});class y{constructor(be,$e,Ke,Ue,Re){this.id=$e,this.name=Ke,this.disableScroll=Re,this.priority=1e6*Ue+$e,this.ctrl=be}canStart(){return!!this.ctrl&&this.ctrl.canStart(this.name)}start(){return!!this.ctrl&&this.ctrl.start(this.name,this.id,this.priority)}capture(){if(!this.ctrl)return!1;const be=this.ctrl.capture(this.name,this.id,this.priority);return be&&this.disableScroll&&this.ctrl.disableScroll(this.id),be}release(){this.ctrl&&(this.ctrl.release(this.id),this.disableScroll&&this.ctrl.enableScroll(this.id))}destroy(){this.release(),this.ctrl=void 0}}class De{constructor(be,$e,Ke,Ue){this.id=$e,this.disable=Ke,this.disableScroll=Ue,this.ctrl=be}block(){if(this.ctrl){if(this.disable)for(const be of this.disable)this.ctrl.disableGesture(be,this.id);this.disableScroll&&this.ctrl.disableScroll(this.id)}}unblock(){if(this.ctrl){if(this.disable)for(const be of this.disable)this.ctrl.enableGesture(be,this.id);this.disableScroll&&this.ctrl.enableScroll(this.id)}}destroy(){this.unblock(),this.ctrl=void 0}}const ze="backdrop-no-scroll",dt=new class c{constructor(){this.gestureId=0,this.requestedStart=new Map,this.disabledGestures=new Map,this.disabledScroll=new Set}createGesture(be){var $e;return new y(this,this.newID(),be.name,null!==($e=be.priority)&&void 0!==$e?$e:0,!!be.disableScroll)}createBlocker(be={}){return new De(this,this.newID(),be.disable,!!be.disableScroll)}start(be,$e,Ke){return this.canStart(be)?(this.requestedStart.set($e,Ke),!0):(this.requestedStart.delete($e),!1)}capture(be,$e,Ke){if(!this.start(be,$e,Ke))return!1;const Ue=this.requestedStart;let Re=-1e4;if(Ue.forEach(Xe=>{Re=Math.max(Re,Xe)}),Re===Ke){this.capturedId=$e,Ue.clear();const Xe=new CustomEvent("ionGestureCaptured",{detail:{gestureName:be}});return document.dispatchEvent(Xe),!0}return Ue.delete($e),!1}release(be){this.requestedStart.delete(be),this.capturedId===be&&(this.capturedId=void 0)}disableGesture(be,$e){let Ke=this.disabledGestures.get(be);void 0===Ke&&(Ke=new Set,this.disabledGestures.set(be,Ke)),Ke.add($e)}enableGesture(be,$e){const Ke=this.disabledGestures.get(be);void 0!==Ke&&Ke.delete($e)}disableScroll(be){this.disabledScroll.add(be),1===this.disabledScroll.size&&document.body.classList.add(ze)}enableScroll(be){this.disabledScroll.delete(be),0===this.disabledScroll.size&&document.body.classList.remove(ze)}canStart(be){return!(void 0!==this.capturedId||this.isDisabled(be))}isCaptured(){return void 0!==this.capturedId}isScrollDisabled(){return this.disabledScroll.size>0}isDisabled(be){const $e=this.disabledGestures.get(be);return!!($e&&$e.size>0)}newID(){return this.gestureId++,this.gestureId}}},7593:(Ii,ln,Y)=>{"use strict";Y.r(ln),Y.d(ln,{MENU_BACK_BUTTON_PRIORITY:()=>dt,OVERLAY_BACK_BUTTON_PRIORITY:()=>ze,blockHardwareBackButton:()=>y,startHardwareBackButton:()=>De});var c=Y(5861);const y=()=>{document.addEventListener("backbutton",()=>{})},De=()=>{const Ye=document;let be=!1;Ye.addEventListener("backbutton",()=>{if(be)return;let $e=0,Ke=[];const Ue=new CustomEvent("ionBackButton",{bubbles:!1,detail:{register(Le,Qe){Ke.push({priority:Le,handler:Qe,id:$e++})}}});Ye.dispatchEvent(Ue);const Re=function(){var Le=(0,c.Z)(function*(Qe){try{if(null!=Qe&&Qe.handler){const At=Qe.handler(Xe);null!=At&&(yield At)}}catch(At){console.error(At)}});return function(At){return Le.apply(this,arguments)}}(),Xe=()=>{if(Ke.length>0){let Le={priority:Number.MIN_SAFE_INTEGER,handler:()=>{},id:-1};Ke.forEach(Qe=>{Qe.priority>=Le.priority&&(Le=Qe)}),be=!0,Ke=Ke.filter(Qe=>Qe.id!==Le.id),Re(Le).then(()=>be=!1)}};Xe()})},ze=100,dt=99},3577:(Ii,ln,Y)=>{"use strict";Y.d(ln,{a:()=>$e,b:()=>Ke,c:()=>De,d:()=>an,e:()=>At,f:()=>Qe,g:()=>Ue,h:()=>Le,i:()=>be,j:()=>zt,k:()=>dt,l:()=>nt,m:()=>ze,n:()=>Xe,o:()=>Ze,p:()=>It,q:()=>bt,r:()=>Re,s:()=>Yt,t:()=>c,u:()=>Jt,v:()=>on});const c=(tt,se=0)=>new Promise(Vt=>{y(tt,se,Vt)}),y=(tt,se=0,Vt)=>{let Tt,tn;const dn={passive:!0},et=()=>{Tt&&Tt()},wt=Ot=>{(void 0===Ot||tt===Ot.target)&&(et(),Vt(Ot))};return tt&&(tt.addEventListener("webkitTransitionEnd",wt,dn),tt.addEventListener("transitionend",wt,dn),tn=setTimeout(wt,se+500),Tt=()=>{tn&&(clearTimeout(tn),tn=void 0),tt.removeEventListener("webkitTransitionEnd",wt,dn),tt.removeEventListener("transitionend",wt,dn)}),et},De=(tt,se)=>{tt.componentOnReady?tt.componentOnReady().then(Vt=>se(Vt)):Re(()=>se(tt))},ze=tt=>void 0!==tt.componentOnReady,dt=(tt,se=[])=>{const Vt={};return se.forEach(Tt=>{tt.hasAttribute(Tt)&&(null!==tt.getAttribute(Tt)&&(Vt[Tt]=tt.getAttribute(Tt)),tt.removeAttribute(Tt))}),Vt},Ye=["role","aria-activedescendant","aria-atomic","aria-autocomplete","aria-braillelabel","aria-brailleroledescription","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colindextext","aria-colspan","aria-controls","aria-current","aria-describedby","aria-description","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowindextext","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext"],be=(tt,se)=>{let Vt=Ye;return se&&se.length>0&&(Vt=Vt.filter(Tt=>!se.includes(Tt))),dt(tt,Vt)},$e=(tt,se,Vt,Tt)=>{var tn;if(typeof window<"u"){const dn=window,ct=null===(tn=null==dn?void 0:dn.Ionic)||void 0===tn?void 0:tn.config;if(ct){const et=ct.get("_ael");if(et)return et(tt,se,Vt,Tt);if(ct._ael)return ct._ael(tt,se,Vt,Tt)}}return tt.addEventListener(se,Vt,Tt)},Ke=(tt,se,Vt,Tt)=>{var tn;if(typeof window<"u"){const dn=window,ct=null===(tn=null==dn?void 0:dn.Ionic)||void 0===tn?void 0:tn.config;if(ct){const et=ct.get("_rel");if(et)return et(tt,se,Vt,Tt);if(ct._rel)return ct._rel(tt,se,Vt,Tt)}}return tt.removeEventListener(se,Vt,Tt)},Ue=(tt,se=tt)=>tt.shadowRoot||se,Re=tt=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(tt):"function"==typeof requestAnimationFrame?requestAnimationFrame(tt):setTimeout(tt),Xe=tt=>!!tt.shadowRoot&&!!tt.attachShadow,Le=tt=>{const se=tt.closest("ion-item");return se?se.querySelector("ion-label"):null},Qe=tt=>{if(tt.focus(),tt.classList.contains("ion-focusable")){const se=tt.closest("ion-app");se&&se.setFocus([tt])}},At=(tt,se)=>{let Vt;const Tt=tt.getAttribute("aria-labelledby"),tn=tt.id;let dn=null!==Tt&&""!==Tt.trim()?Tt:se+"-lbl",ct=null!==Tt&&""!==Tt.trim()?document.getElementById(Tt):Le(tt);return ct?(null===Tt&&(ct.id=dn),Vt=ct.textContent,ct.setAttribute("aria-hidden","true")):""!==tn.trim()&&(ct=document.querySelector(`label[for="${tn}"]`),ct&&(""!==ct.id?dn=ct.id:ct.id=dn=`${tn}-lbl`,Vt=ct.textContent)),{label:ct,labelId:dn,labelText:Vt}},an=(tt,se,Vt,Tt,tn)=>{if(tt||Xe(se)){let dn=se.querySelector("input.aux-input");dn||(dn=se.ownerDocument.createElement("input"),dn.type="hidden",dn.classList.add("aux-input"),se.appendChild(dn)),dn.disabled=tn,dn.name=Vt,dn.value=Tt||""}},nt=(tt,se,Vt)=>Math.max(tt,Math.min(se,Vt)),Ze=(tt,se)=>{if(!tt){const Vt="ASSERT: "+se;throw console.error(Vt),new Error(Vt)}},on=tt=>tt.timeStamp||Date.now(),It=tt=>{if(tt){const se=tt.changedTouches;if(se&&se.length>0){const Vt=se[0];return{x:Vt.clientX,y:Vt.clientY}}if(void 0!==tt.pageX)return{x:tt.pageX,y:tt.pageY}}return{x:0,y:0}},bt=tt=>{const se="rtl"===document.dir;switch(tt){case"start":return se;case"end":return!se;default:throw new Error(`"${tt}" is not a valid value for [side]. Use "start" or "end" instead.`)}},zt=(tt,se)=>{const Vt=tt._original||tt;return{_original:tt,emit:Jt(Vt.emit.bind(Vt),se)}},Jt=(tt,se=0)=>{let Vt;return(...Tt)=>{clearTimeout(Vt),Vt=setTimeout(tt,se,...Tt)}},Yt=(tt,se)=>{if(null!=tt||(tt={}),null!=se||(se={}),tt===se)return!0;const Vt=Object.keys(tt);if(Vt.length!==Object.keys(se).length)return!1;for(const Tt of Vt)if(!(Tt in se)||tt[Tt]!==se[Tt])return!1;return!0}},3457:(Ii,ln,Y)=>{"use strict";Y.d(ln,{w:()=>c});const c=typeof window<"u"?window:void 0},1898:(Ii,ln,Y)=>{"use strict";Y.r(ln),Y.d(ln,{GESTURE_CONTROLLER:()=>c.G,createGesture:()=>Ke});var c=Y(4349);const y=(Le,Qe,At,an)=>{const nt=De(Le)?{capture:!!an.capture,passive:!!an.passive}:!!an.capture;let Ze,on;return Le.__zone_symbol__addEventListener?(Ze="__zone_symbol__addEventListener",on="__zone_symbol__removeEventListener"):(Ze="addEventListener",on="removeEventListener"),Le[Ze](Qe,At,nt),()=>{Le[on](Qe,At,nt)}},De=Le=>{if(void 0===ze)try{const Qe=Object.defineProperty({},"passive",{get:()=>{ze=!0}});Le.addEventListener("optsTest",()=>{},Qe)}catch{ze=!1}return!!ze};let ze;const be=Le=>Le instanceof Document?Le:Le.ownerDocument,Ke=Le=>{let Qe=!1,At=!1,an=!0,nt=!1;const Ze=Object.assign({disableScroll:!1,direction:"x",gesturePriority:0,passive:!0,maxAngle:40,threshold:10},Le),on=Ze.canStart,It=Ze.onWillStart,bt=Ze.onStart,zt=Ze.onEnd,Jt=Ze.notCaptured,Yt=Ze.onMove,tt=Ze.threshold,se=Ze.passive,Vt=Ze.blurOnStart,Tt={type:"pan",startX:0,startY:0,startTime:0,currentX:0,currentY:0,velocityX:0,velocityY:0,deltaX:0,deltaY:0,currentTime:0,event:void 0,data:void 0},tn=((Le,Qe,At)=>{const an=At*(Math.PI/180),nt="x"===Le,Ze=Math.cos(an),on=Qe*Qe;let It=0,bt=0,zt=!1,Jt=0;return{start(Yt,tt){It=Yt,bt=tt,Jt=0,zt=!0},detect(Yt,tt){if(!zt)return!1;const se=Yt-It,Vt=tt-bt,Tt=se*se+Vt*Vt;if(Tt<on)return!1;const tn=Math.sqrt(Tt),dn=(nt?se:Vt)/tn;return Jt=dn>Ze?1:dn<-Ze?-1:0,zt=!1,!0},isGesture:()=>0!==Jt,getDirection:()=>Jt}})(Ze.direction,Ze.threshold,Ze.maxAngle),dn=c.G.createGesture({name:Le.gestureName,priority:Le.gesturePriority,disableScroll:Le.disableScroll}),wt=()=>{Qe&&(nt=!1,Yt&&Yt(Tt))},Ot=()=>!!dn.capture()&&(Qe=!0,an=!1,Tt.startX=Tt.currentX,Tt.startY=Tt.currentY,Tt.startTime=Tt.currentTime,It?It(Tt).then(Je):Je(),!0),Je=()=>{Vt&&(()=>{if(typeof document<"u"){const Gt=document.activeElement;null!=Gt&&Gt.blur&&Gt.blur()}})(),bt&&bt(Tt),an=!0},Et=()=>{Qe=!1,At=!1,nt=!1,an=!0,dn.release()},vn=Gt=>{const li=Qe,Dn=an;if(Et(),Dn){if(Ue(Tt,Gt),li)return void(zt&&zt(Tt));Jt&&Jt(Tt)}},qt=((Le,Qe,At,an,nt)=>{let Ze,on,It,bt,zt,Jt,Yt,tt=0;const se=ft=>{tt=Date.now()+2e3,Qe(ft)&&(!on&&At&&(on=y(Le,"touchmove",At,nt)),It||(It=y(ft.target,"touchend",Tt,nt)),bt||(bt=y(ft.target,"touchcancel",Tt,nt)))},Vt=ft=>{tt>Date.now()||Qe(ft)&&(!Jt&&At&&(Jt=y(be(Le),"mousemove",At,nt)),Yt||(Yt=y(be(Le),"mouseup",tn,nt)))},Tt=ft=>{dn(),an&&an(ft)},tn=ft=>{ct(),an&&an(ft)},dn=()=>{on&&on(),It&&It(),bt&&bt(),on=It=bt=void 0},ct=()=>{Jt&&Jt(),Yt&&Yt(),Jt=Yt=void 0},et=()=>{dn(),ct()},wt=(ft=!0)=>{ft?(Ze||(Ze=y(Le,"touchstart",se,nt)),zt||(zt=y(Le,"mousedown",Vt,nt))):(Ze&&Ze(),zt&&zt(),Ze=zt=void 0,et())};return{enable:wt,stop:et,destroy:()=>{wt(!1),an=At=Qe=void 0}}})(Ze.el,Gt=>{const li=Xe(Gt);return!(At||!an||(Re(Gt,Tt),Tt.startX=Tt.currentX,Tt.startY=Tt.currentY,Tt.startTime=Tt.currentTime=li,Tt.velocityX=Tt.velocityY=Tt.deltaX=Tt.deltaY=0,Tt.event=Gt,on&&!1===on(Tt))||(dn.release(),!dn.start()))&&(At=!0,0===tt?Ot():(tn.start(Tt.startX,Tt.startY),!0))},Gt=>{Qe?!nt&&an&&(nt=!0,Ue(Tt,Gt),requestAnimationFrame(wt)):(Ue(Tt,Gt),tn.detect(Tt.currentX,Tt.currentY)&&(!tn.isGesture()||!Ot())&&xn())},vn,{capture:!1,passive:se}),xn=()=>{Et(),qt.stop(),Jt&&Jt(Tt)};return{enable(Gt=!0){Gt||(Qe&&vn(void 0),Et()),qt.enable(Gt)},destroy(){dn.destroy(),qt.destroy()}}},Ue=(Le,Qe)=>{if(!Qe)return;const At=Le.currentX,an=Le.currentY,nt=Le.currentTime;Re(Qe,Le);const Ze=Le.currentX,on=Le.currentY,bt=(Le.currentTime=Xe(Qe))-nt;if(bt>0&&bt<100){const Jt=(on-an)/bt;Le.velocityX=(Ze-At)/bt*.7+.3*Le.velocityX,Le.velocityY=.7*Jt+.3*Le.velocityY}Le.deltaX=Ze-Le.startX,Le.deltaY=on-Le.startY,Le.event=Qe},Re=(Le,Qe)=>{let At=0,an=0;if(Le){const nt=Le.changedTouches;if(nt&&nt.length>0){const Ze=nt[0];At=Ze.clientX,an=Ze.clientY}else void 0!==Le.pageX&&(At=Le.pageX,an=Le.pageY)}Qe.currentX=At,Qe.currentY=an},Xe=Le=>Le.timeStamp||Date.now()},4083:(Ii,ln,Y)=>{"use strict";Y.d(ln,{B:()=>Re,H:()=>et,a:()=>Wi,b:()=>Ve,c:()=>Gt,d:()=>On,e:()=>Zs,f:()=>Nt,g:()=>li,h:()=>dn,i:()=>mi,j:()=>Xe,p:()=>Hr,r:()=>Ut,w:()=>ho});var c=Y(5861);let De,ze,dt,Ye=!1,be=!1,$e=!1,Ke=!1,Ue=!1;const Re={isDev:!1,isBrowser:!0,isServer:!1,isTesting:!1},Xe=fe=>{const Ce=new URL(fe,wr.$resourcesUrl$);return Ce.origin!==yr.location.origin?Ce.href:Ce.pathname},on="s-id",It="sty-id",Jt="http://www.w3.org/1999/xlink",Yt={},Tt=fe=>"object"==(fe=typeof fe)||"function"===fe;function tn(fe){var Ce,He,Me;return null!==(Me=null===(He=null===(Ce=fe.head)||void 0===Ce?void 0:Ce.querySelector('meta[name="csp-nonce"]'))||void 0===He?void 0:He.getAttribute("content"))&&void 0!==Me?Me:void 0}const dn=(fe,Ce,...He)=>{let Me=null,he=null,Ae=null,St=!1,Kt=!1;const mn=[],Mn=bi=>{for(let Cr=0;Cr<bi.length;Cr++)Me=bi[Cr],Array.isArray(Me)?Mn(Me):null!=Me&&"boolean"!=typeof Me&&((St="function"!=typeof fe&&!Tt(Me))&&(Me=String(Me)),St&&Kt?mn[mn.length-1].$text$+=Me:mn.push(St?ct(null,Me):Me),Kt=St)};if(Mn(He),Ce){Ce.key&&(he=Ce.key),Ce.name&&(Ae=Ce.name);{const bi=Ce.className||Ce.class;bi&&(Ce.class="object"!=typeof bi?bi:Object.keys(bi).filter(Cr=>bi[Cr]).join(" "))}}if("function"==typeof fe)return fe(null===Ce?{}:Ce,mn,Ot);const yi=ct(fe,null);return yi.$attrs$=Ce,mn.length>0&&(yi.$children$=mn),yi.$key$=he,yi.$name$=Ae,yi},ct=(fe,Ce)=>({$flags$:0,$tag$:fe,$text$:Ce,$elm$:null,$children$:null,$attrs$:null,$key$:null,$name$:null}),et={},Ot={forEach:(fe,Ce)=>fe.map(ft).forEach(Ce),map:(fe,Ce)=>fe.map(ft).map(Ce).map(Je)},ft=fe=>({vattrs:fe.$attrs$,vchildren:fe.$children$,vkey:fe.$key$,vname:fe.$name$,vtag:fe.$tag$,vtext:fe.$text$}),Je=fe=>{if("function"==typeof fe.vtag){const He=Object.assign({},fe.vattrs);return fe.vkey&&(He.key=fe.vkey),fe.vname&&(He.name=fe.vname),dn(fe.vtag,He,...fe.vchildren||[])}const Ce=ct(fe.vtag,fe.vtext);return Ce.$attrs$=fe.vattrs,Ce.$children$=fe.vchildren,Ce.$key$=fe.vkey,Ce.$name$=fe.vname,Ce},vn=(fe,Ce,He,Me,he,Ae,St)=>{let Kt,mn,Mn,yi;if(1===Ae.nodeType){for(Kt=Ae.getAttribute("c-id"),Kt&&(mn=Kt.split("."),(mn[0]===St||"0"===mn[0])&&(Mn={$flags$:0,$hostId$:mn[0],$nodeId$:mn[1],$depth$:mn[2],$index$:mn[3],$tag$:Ae.tagName.toLowerCase(),$elm$:Ae,$attrs$:null,$children$:null,$key$:null,$name$:null,$text$:null},Ce.push(Mn),Ae.removeAttribute("c-id"),fe.$children$||(fe.$children$=[]),fe.$children$[Mn.$index$]=Mn,fe=Mn,Me&&"0"===Mn.$depth$&&(Me[Mn.$index$]=Mn.$elm$))),yi=Ae.childNodes.length-1;yi>=0;yi--)vn(fe,Ce,He,Me,he,Ae.childNodes[yi],St);if(Ae.shadowRoot)for(yi=Ae.shadowRoot.childNodes.length-1;yi>=0;yi--)vn(fe,Ce,He,Me,he,Ae.shadowRoot.childNodes[yi],St)}else if(8===Ae.nodeType)mn=Ae.nodeValue.split("."),(mn[1]===St||"0"===mn[1])&&(Kt=mn[0],Mn={$flags$:0,$hostId$:mn[1],$nodeId$:mn[2],$depth$:mn[3],$index$:mn[4],$elm$:Ae,$attrs$:null,$children$:null,$key$:null,$name$:null,$tag$:null,$text$:null},"t"===Kt?(Mn.$elm$=Ae.nextSibling,Mn.$elm$&&3===Mn.$elm$.nodeType&&(Mn.$text$=Mn.$elm$.textContent,Ce.push(Mn),Ae.remove(),fe.$children$||(fe.$children$=[]),fe.$children$[Mn.$index$]=Mn,Me&&"0"===Mn.$depth$&&(Me[Mn.$index$]=Mn.$elm$))):Mn.$hostId$===St&&("s"===Kt?(Mn.$tag$="slot",Ae["s-sn"]=mn[5]?Mn.$name$=mn[5]:"",Ae["s-sr"]=!0,Me&&(Mn.$elm$=Ki.createElement(Mn.$tag$),Mn.$name$&&Mn.$elm$.setAttribute("name",Mn.$name$),Ae.parentNode.insertBefore(Mn.$elm$,Ae),Ae.remove(),"0"===Mn.$depth$&&(Me[Mn.$index$]=Mn.$elm$)),He.push(Mn),fe.$children$||(fe.$children$=[]),fe.$children$[Mn.$index$]=Mn):"r"===Kt&&(Me?Ae.remove():(he["s-cr"]=Ae,Ae["s-cn"]=!0))));else if(fe&&"style"===fe.$tag$){const bi=ct(null,Ae.textContent);bi.$elm$=Ae,bi.$index$="0",fe.$children$=[bi]}},qt=(fe,Ce)=>{if(1===fe.nodeType){let He=0;for(;He<fe.childNodes.length;He++)qt(fe.childNodes[He],Ce);if(fe.shadowRoot)for(He=0;He<fe.shadowRoot.childNodes.length;He++)qt(fe.shadowRoot.childNodes[He],Ce)}else if(8===fe.nodeType){const He=fe.nodeValue.split(".");"o"===He[0]&&(Ce.set(He[1]+"."+He[2],fe),fe.nodeValue="",fe["s-en"]=He[3])}},Gt=fe=>Sr.push(fe),li=fe=>In(fe).$modeName$,Nt=fe=>In(fe).$hostElement$,On=(fe,Ce,He)=>{const Me=Nt(fe);return{emit:he=>Vn(Me,Ce,{bubbles:!!(4&He),composed:!!(2&He),cancelable:!!(1&He),detail:he})}},Vn=(fe,Ce,He)=>{const Me=wr.ce(Ce,He);return fe.dispatchEvent(Me),Me},Ti=new WeakMap,Di=(fe,Ce,He)=>{let Me=$i.get(fe);ur&&He?(Me=Me||new CSSStyleSheet,"string"==typeof Me?Me=Ce:Me.replaceSync(Ce)):Me=Ce,$i.set(fe,Me)},Vi=(fe,Ce,He,Me)=>{var he;let Ae=Ai(Ce,He);const St=$i.get(Ae);if(fe=11===fe.nodeType?fe:Ki,St)if("string"==typeof St){let mn,Kt=Ti.get(fe=fe.head||fe);if(Kt||Ti.set(fe,Kt=new Set),!Kt.has(Ae)){if(fe.host&&(mn=fe.querySelector(`[${It}="${Ae}"]`)))mn.innerHTML=St;else{mn=Ki.createElement("style"),mn.innerHTML=St;const Mn=null!==(he=wr.$nonce$)&&void 0!==he?he:tn(Ki);null!=Mn&&mn.setAttribute("nonce",Mn),fe.insertBefore(mn,fe.querySelector("link"))}Kt&&Kt.add(Ae)}}else fe.adoptedStyleSheets.includes(St)||(fe.adoptedStyleSheets=[...fe.adoptedStyleSheets,St]);return Ae},Ai=(fe,Ce)=>"sc-"+(Ce&&32&fe.$flags$?fe.$tagName$+"-"+Ce:fe.$tagName$),Ni=fe=>fe.replace(/\/\*!@([^\/]+)\*\/[^\{]+\{/g,"$1{"),rr=(fe,Ce,He,Me,he,Ae)=>{if(He!==Me){let St=hn(fe,Ce),Kt=Ce.toLowerCase();if("class"===Ce){const mn=fe.classList,Mn=Ui(He),yi=Ui(Me);mn.remove(...Mn.filter(bi=>bi&&!yi.includes(bi))),mn.add(...yi.filter(bi=>bi&&!Mn.includes(bi)))}else if("style"===Ce){for(const mn in He)(!Me||null==Me[mn])&&(mn.includes("-")?fe.style.removeProperty(mn):fe.style[mn]="");for(const mn in Me)(!He||Me[mn]!==He[mn])&&(mn.includes("-")?fe.style.setProperty(mn,Me[mn]):fe.style[mn]=Me[mn])}else if("key"!==Ce)if("ref"===Ce)Me&&Me(fe);else if(St||"o"!==Ce[0]||"n"!==Ce[1]){const mn=Tt(Me);if((St||mn&&null!==Me)&&!he)try{if(fe.tagName.includes("-"))fe[Ce]=Me;else{const yi=null==Me?"":Me;"list"===Ce?St=!1:(null==He||fe[Ce]!=yi)&&(fe[Ce]=yi)}}catch{}let Mn=!1;Kt!==(Kt=Kt.replace(/^xlink\:?/,""))&&(Ce=Kt,Mn=!0),null==Me||!1===Me?(!1!==Me||""===fe.getAttribute(Ce))&&(Mn?fe.removeAttributeNS(Jt,Ce):fe.removeAttribute(Ce)):(!St||4&Ae||he)&&!mn&&(Me=!0===Me?"":Me,Mn?fe.setAttributeNS(Jt,Ce,Me):fe.setAttribute(Ce,Me))}else Ce="-"===Ce[2]?Ce.slice(3):hn(yr,Kt)?Kt.slice(2):Kt[2]+Ce.slice(3),He&&wr.rel(fe,Ce,He,!1),Me&&wr.ael(fe,Ce,Me,!1)}},fr=/\s/,Ui=fe=>fe?fe.split(fr):[],ii=(fe,Ce,He,Me)=>{const he=11===Ce.$elm$.nodeType&&Ce.$elm$.host?Ce.$elm$.host:Ce.$elm$,Ae=fe&&fe.$attrs$||Yt,St=Ce.$attrs$||Yt;for(Me in Ae)Me in St||rr(he,Me,Ae[Me],void 0,He,Ce.$flags$);for(Me in St)rr(he,Me,Ae[Me],St[Me],He,Ce.$flags$)},kr=(fe,Ce,He,Me)=>{const he=Ce.$children$[He];let St,Kt,mn,Ae=0;if(Ye||($e=!0,"slot"===he.$tag$&&(De&&Me.classList.add(De+"-s"),he.$flags$|=he.$children$?2:1)),null!==he.$text$)St=he.$elm$=Ki.createTextNode(he.$text$);else if(1&he.$flags$)St=he.$elm$=Ki.createTextNode("");else{if(Ke||(Ke="svg"===he.$tag$),St=he.$elm$=Ki.createElementNS(Ke?"http://www.w3.org/2000/svg":"http://www.w3.org/1999/xhtml",2&he.$flags$?"slot-fb":he.$tag$),Ke&&"foreignObject"===he.$tag$&&(Ke=!1),ii(null,he,Ke),(fe=>null!=fe)(De)&&St["s-si"]!==De&&St.classList.add(St["s-si"]=De),he.$children$)for(Ae=0;Ae<he.$children$.length;++Ae)Kt=kr(fe,he,Ae,St),Kt&&St.appendChild(Kt);"svg"===he.$tag$?Ke=!1:"foreignObject"===St.tagName&&(Ke=!0)}return St["s-hn"]=dt,3&he.$flags$&&(St["s-sr"]=!0,St["s-cr"]=ze,St["s-sn"]=he.$name$||"",mn=fe&&fe.$children$&&fe.$children$[He],mn&&mn.$tag$===he.$tag$&&fe.$elm$&&Ar(fe.$elm$,!1)),St},Ar=(fe,Ce)=>{wr.$flags$|=1;const He=fe.childNodes;for(let Me=He.length-1;Me>=0;Me--){const he=He[Me];he["s-hn"]!==dt&&he["s-ol"]&&(Zi(he).insertBefore(he,Mi(he)),he["s-ol"].remove(),he["s-ol"]=void 0,$e=!0),Ce&&Ar(he,Ce)}wr.$flags$&=-2},Li=(fe,Ce,He,Me,he,Ae)=>{let Kt,St=fe["s-cr"]&&fe["s-cr"].parentNode||fe;for(St.shadowRoot&&St.tagName===dt&&(St=St.shadowRoot);he<=Ae;++he)Me[he]&&(Kt=kr(null,He,he,fe),Kt&&(Me[he].$elm$=Kt,St.insertBefore(Kt,Mi(Ce))))},ps=(fe,Ce,He)=>{for(let Me=Ce;Me<=He;++Me){const he=fe[Me];if(he){const Ae=he.$elm$;tr(he),Ae&&(be=!0,Ae["s-ol"]?Ae["s-ol"].remove():Ar(Ae,!0),Ae.remove())}}},Bi=(fe,Ce)=>fe.$tag$===Ce.$tag$&&("slot"===fe.$tag$?fe.$name$===Ce.$name$:fe.$key$===Ce.$key$),Mi=fe=>fe&&fe["s-ol"]||fe,Zi=fe=>(fe["s-ol"]?fe["s-ol"]:fe).parentNode,Qr=(fe,Ce)=>{const He=Ce.$elm$=fe.$elm$,Me=fe.$children$,he=Ce.$children$,Ae=Ce.$tag$,St=Ce.$text$;let Kt;null===St?(Ke="svg"===Ae||"foreignObject"!==Ae&&Ke,"slot"===Ae||ii(fe,Ce,Ke),null!==Me&&null!==he?((fe,Ce,He,Me)=>{let Xs,Ks,he=0,Ae=0,St=0,Kt=0,mn=Ce.length-1,Mn=Ce[0],yi=Ce[mn],bi=Me.length-1,Cr=Me[0],$r=Me[bi];for(;he<=mn&&Ae<=bi;)if(null==Mn)Mn=Ce[++he];else if(null==yi)yi=Ce[--mn];else if(null==Cr)Cr=Me[++Ae];else if(null==$r)$r=Me[--bi];else if(Bi(Mn,Cr))Qr(Mn,Cr),Mn=Ce[++he],Cr=Me[++Ae];else if(Bi(yi,$r))Qr(yi,$r),yi=Ce[--mn],$r=Me[--bi];else if(Bi(Mn,$r))("slot"===Mn.$tag$||"slot"===$r.$tag$)&&Ar(Mn.$elm$.parentNode,!1),Qr(Mn,$r),fe.insertBefore(Mn.$elm$,yi.$elm$.nextSibling),Mn=Ce[++he],$r=Me[--bi];else if(Bi(yi,Cr))("slot"===Mn.$tag$||"slot"===$r.$tag$)&&Ar(yi.$elm$.parentNode,!1),Qr(yi,Cr),fe.insertBefore(yi.$elm$,Mn.$elm$),yi=Ce[--mn],Cr=Me[++Ae];else{for(St=-1,Kt=he;Kt<=mn;++Kt)if(Ce[Kt]&&null!==Ce[Kt].$key$&&Ce[Kt].$key$===Cr.$key$){St=Kt;break}St>=0?(Ks=Ce[St],Ks.$tag$!==Cr.$tag$?Xs=kr(Ce&&Ce[Ae],He,St,fe):(Qr(Ks,Cr),Ce[St]=void 0,Xs=Ks.$elm$),Cr=Me[++Ae]):(Xs=kr(Ce&&Ce[Ae],He,Ae,fe),Cr=Me[++Ae]),Xs&&Zi(Mn.$elm$).insertBefore(Xs,Mi(Mn.$elm$))}he>mn?Li(fe,null==Me[bi+1]?null:Me[bi+1].$elm$,He,Me,Ae,bi):Ae>bi&&ps(Ce,he,mn)})(He,Me,Ce,he):null!==he?(null!==fe.$text$&&(He.textContent=""),Li(He,null,Ce,he,0,he.length-1)):null!==Me&&ps(Me,0,Me.length-1),Ke&&"svg"===Ae&&(Ke=!1)):(Kt=He["s-cr"])?Kt.parentNode.textContent=St:fe.$text$!==St&&(He.data=St)},Jr=fe=>{const Ce=fe.childNodes;let He,Me,he,Ae,St,Kt;for(Me=0,he=Ce.length;Me<he;Me++)if(He=Ce[Me],1===He.nodeType){if(He["s-sr"])for(St=He["s-sn"],He.hidden=!1,Ae=0;Ae<he;Ae++)if(Kt=Ce[Ae].nodeType,Ce[Ae]["s-hn"]!==He["s-hn"]||""!==St){if(1===Kt&&St===Ce[Ae].getAttribute("slot")){He.hidden=!0;break}}else if(1===Kt||3===Kt&&""!==Ce[Ae].textContent.trim()){He.hidden=!0;break}Jr(He)}},Ir=[],jr=fe=>{let Ce,He,Me,he,Ae,St,Kt=0;const mn=fe.childNodes,Mn=mn.length;for(;Kt<Mn;Kt++){if(Ce=mn[Kt],Ce["s-sr"]&&(He=Ce["s-cr"])&&He.parentNode)for(Me=He.parentNode.childNodes,he=Ce["s-sn"],St=Me.length-1;St>=0;St--)He=Me[St],!He["s-cn"]&&!He["s-nr"]&&He["s-hn"]!==Ce["s-hn"]&&(ns(He,he)?(Ae=Ir.find(yi=>yi.$nodeToRelocate$===He),be=!0,He["s-sn"]=He["s-sn"]||he,Ae?Ae.$slotRefNode$=Ce:Ir.push({$slotRefNode$:Ce,$nodeToRelocate$:He}),He["s-sr"]&&Ir.map(yi=>{ns(yi.$nodeToRelocate$,He["s-sn"])&&(Ae=Ir.find(bi=>bi.$nodeToRelocate$===He),Ae&&!yi.$slotRefNode$&&(yi.$slotRefNode$=Ae.$slotRefNode$))})):Ir.some(yi=>yi.$nodeToRelocate$===He)||Ir.push({$nodeToRelocate$:He}));1===Ce.nodeType&&jr(Ce)}},ns=(fe,Ce)=>1===fe.nodeType?null===fe.getAttribute("slot")&&""===Ce||fe.getAttribute("slot")===Ce:fe["s-sn"]===Ce||""===Ce,tr=fe=>{fe.$attrs$&&fe.$attrs$.ref&&fe.$attrs$.ref(null),fe.$children$&&fe.$children$.map(tr)},is=(fe,Ce)=>{Ce&&!fe.$onRenderResolve$&&Ce["s-p"]&&Ce["s-p"].push(new Promise(He=>fe.$onRenderResolve$=He))},nr=(fe,Ce)=>{if(fe.$flags$|=16,!(4&fe.$flags$))return is(fe,fe.$ancestorComponent$),ho(()=>zn(fe,Ce));fe.$flags$|=512},zn=(fe,Ce)=>{const Me=fe.$lazyInstance$;let he;return Ce&&(fe.$flags$|=256,fe.$queuedListeners$&&(fe.$queuedListeners$.map(([Ae,St])=>pr(Me,Ae,St)),fe.$queuedListeners$=null),he=pr(Me,"componentWillLoad")),he=Ge(he,()=>pr(Me,"componentWillRender")),Ge(he,()=>Mt(fe,Me,Ce))},Ge=(fe,Ce)=>fe instanceof Promise?fe.then(Ce):Ce(),Mt=function(){var fe=(0,c.Z)(function*(Ce,He,Me){const he=Ce.$hostElement$,St=he["s-rc"];Me&&(fe=>{const Ce=fe.$cmpMeta$,He=fe.$hostElement$,Me=Ce.$flags$,Ae=Vi(He.shadowRoot?He.shadowRoot:He.getRootNode(),Ce,fe.$modeName$);10&Me&&(He["s-sc"]=Ae,He.classList.add(Ae+"-h"),2&Me&&He.classList.add(Ae+"-s"))})(Ce);_n(Ce,He),St&&(St.map(mn=>mn()),he["s-rc"]=void 0);{const mn=he["s-p"],Mn=()=>Gn(Ce);0===mn.length?Mn():(Promise.all(mn).then(Mn),Ce.$flags$|=4,mn.length=0)}});return function(He,Me,he){return fe.apply(this,arguments)}}(),_n=(fe,Ce,He)=>{try{Ce=Ce.render&&Ce.render(),fe.$flags$&=-17,fe.$flags$|=2,((fe,Ce)=>{const He=fe.$hostElement$,Me=fe.$cmpMeta$,he=fe.$vnode$||ct(null,null),Ae=(fe=>fe&&fe.$tag$===et)(Ce)?Ce:dn(null,null,Ce);if(dt=He.tagName,Me.$attrsToReflect$&&(Ae.$attrs$=Ae.$attrs$||{},Me.$attrsToReflect$.map(([St,Kt])=>Ae.$attrs$[Kt]=He[St])),Ae.$tag$=null,Ae.$flags$|=4,fe.$vnode$=Ae,Ae.$elm$=he.$elm$=He.shadowRoot||He,De=He["s-sc"],ze=He["s-cr"],Ye=0!=(1&Me.$flags$),be=!1,Qr(he,Ae),wr.$flags$|=1,$e){jr(Ae.$elm$);let St,Kt,mn,Mn,yi,bi,Cr=0;for(;Cr<Ir.length;Cr++)St=Ir[Cr],Kt=St.$nodeToRelocate$,Kt["s-ol"]||(mn=Ki.createTextNode(""),mn["s-nr"]=Kt,Kt.parentNode.insertBefore(Kt["s-ol"]=mn,Kt));for(Cr=0;Cr<Ir.length;Cr++)if(St=Ir[Cr],Kt=St.$nodeToRelocate$,St.$slotRefNode$){for(Mn=St.$slotRefNode$.parentNode,yi=St.$slotRefNode$.nextSibling,mn=Kt["s-ol"];mn=mn.previousSibling;)if(bi=mn["s-nr"],bi&&bi["s-sn"]===Kt["s-sn"]&&Mn===bi.parentNode&&(bi=bi.nextSibling,!bi||!bi["s-nr"])){yi=bi;break}(!yi&&Mn!==Kt.parentNode||Kt.nextSibling!==yi)&&Kt!==yi&&(!Kt["s-hn"]&&Kt["s-ol"]&&(Kt["s-hn"]=Kt["s-ol"].parentNode.nodeName),Mn.insertBefore(Kt,yi))}else 1===Kt.nodeType&&(Kt.hidden=!0)}be&&Jr(Ae.$elm$),wr.$flags$&=-2,Ir.length=0})(fe,Ce)}catch(Me){Yn(Me,fe.$hostElement$)}return null},Gn=fe=>{const He=fe.$hostElement$,he=fe.$lazyInstance$,Ae=fe.$ancestorComponent$;pr(he,"componentDidRender"),64&fe.$flags$?pr(he,"componentDidUpdate"):(fe.$flags$|=64,sr(He),pr(he,"componentDidLoad"),fe.$onReadyResolve$(He),Ae||Dr()),fe.$onInstanceResolve$(He),fe.$onRenderResolve$&&(fe.$onRenderResolve$(),fe.$onRenderResolve$=void 0),512&fe.$flags$&&Eo(()=>nr(fe,!1)),fe.$flags$&=-517},mi=fe=>{{const Ce=In(fe),He=Ce.$hostElement$.isConnected;return He&&2==(18&Ce.$flags$)&&nr(Ce,!1),He}},Dr=fe=>{sr(Ki.documentElement),Eo(()=>Vn(yr,"appload",{detail:{namespace:"ionic"}}))},pr=(fe,Ce,He)=>{if(fe&&fe[Ce])try{return fe[Ce](He)}catch(Me){Yn(Me)}},sr=fe=>fe.classList.add("hydrated"),x=(fe,Ce,He)=>{if(Ce.$members$){fe.watchers&&(Ce.$watchers$=fe.watchers);const Me=Object.entries(Ce.$members$),he=fe.prototype;if(Me.map(([Ae,[St]])=>{31&St||2&He&&32&St?Object.defineProperty(he,Ae,{get(){return((fe,Ce)=>In(this).$instanceValues$.get(Ce))(0,Ae)},set(Kt){((fe,Ce,He,Me)=>{const he=In(fe),Ae=he.$hostElement$,St=he.$instanceValues$.get(Ce),Kt=he.$flags$,mn=he.$lazyInstance$;He=((fe,Ce)=>null==fe||Tt(fe)?fe:4&Ce?"false"!==fe&&(""===fe||!!fe):2&Ce?parseFloat(fe):1&Ce?String(fe):fe)(He,Me.$members$[Ce][0]);const Mn=Number.isNaN(St)&&Number.isNaN(He);if((!(8&Kt)||void 0===St)&&He!==St&&!Mn&&(he.$instanceValues$.set(Ce,He),mn)){if(Me.$watchers$&&128&Kt){const bi=Me.$watchers$[Ce];bi&&bi.map(Cr=>{try{mn[Cr](He,St,Ce)}catch($r){Yn($r,Ae)}})}2==(18&Kt)&&nr(he,!1)}})(this,Ae,Kt,Ce)},configurable:!0,enumerable:!0}):1&He&&64&St&&Object.defineProperty(he,Ae,{value(...Kt){const mn=In(this);return mn.$onInstancePromise$.then(()=>mn.$lazyInstance$[Ae](...Kt))}})}),1&He){const Ae=new Map;he.attributeChangedCallback=function(St,Kt,mn){wr.jmp(()=>{const Mn=Ae.get(St);if(this.hasOwnProperty(Mn))mn=this[Mn],delete this[Mn];else if(he.hasOwnProperty(Mn)&&"number"==typeof this[Mn]&&this[Mn]==mn)return;this[Mn]=(null!==mn||"boolean"!=typeof this[Mn])&&mn})},fe.observedAttributes=Me.filter(([St,Kt])=>15&Kt[0]).map(([St,Kt])=>{const mn=Kt[1]||St;return Ae.set(mn,St),512&Kt[0]&&Ce.$attrsToReflect$.push([St,mn]),mn})}}return fe},A=function(){var fe=(0,c.Z)(function*(Ce,He,Me,he,Ae){if(!(32&He.$flags$)){He.$flags$|=32;{if((Ae=ti(Me)).then){const Mn=()=>{};Ae=yield Ae,Mn()}Ae.isProxied||(Me.$watchers$=Ae.watchers,x(Ae,Me,2),Ae.isProxied=!0);const mn=()=>{};He.$flags$|=8;try{new Ae(He)}catch(Mn){Yn(Mn)}He.$flags$&=-9,He.$flags$|=128,mn(),O(He.$lazyInstance$)}if(Ae.style){let mn=Ae.style;"string"!=typeof mn&&(mn=mn[He.$modeName$=(fe=>Sr.map(Ce=>Ce(fe)).find(Ce=>!!Ce))(Ce)]);const Mn=Ai(Me,He.$modeName$);if(!$i.has(Mn)){const yi=()=>{};Di(Mn,mn,!!(1&Me.$flags$)),yi()}}}const St=He.$ancestorComponent$,Kt=()=>nr(He,!0);St&&St["s-rc"]?St["s-rc"].push(Kt):Kt()});return function(He,Me,he,Ae,St){return fe.apply(this,arguments)}}(),O=fe=>{pr(fe,"connectedCallback")},ce=fe=>{const Ce=fe["s-cr"]=Ki.createComment("");Ce["s-cn"]=!0,fe.insertBefore(Ce,fe.firstChild)},Ve=(fe,Ce={})=>{var He;const he=[],Ae=Ce.exclude||[],St=yr.customElements,Kt=Ki.head,mn=Kt.querySelector("meta[charset]"),Mn=Ki.createElement("style"),yi=[],bi=Ki.querySelectorAll(`[${It}]`);let Cr,$r=!0,Xs=0;for(Object.assign(wr,Ce),wr.$resourcesUrl$=new URL(Ce.resourcesUrl||"./",Ki.baseURI).href,wr.$flags$|=2;Xs<bi.length;Xs++)Di(bi[Xs].getAttribute(It),Ni(bi[Xs].innerHTML),!0);fe.map(Ks=>{Ks[1].map(vs=>{const hr={$flags$:vs[0],$tagName$:vs[1],$members$:vs[2],$listeners$:vs[3]};hr.$members$=vs[2],hr.$listeners$=vs[3],hr.$attrsToReflect$=[],hr.$watchers$={};const ri=hr.$tagName$,vr=class extends HTMLElement{constructor(_r){super(_r),rn(_r=this,hr),1&hr.$flags$&&_r.attachShadow({mode:"open",delegatesFocus:!!(16&hr.$flags$)})}connectedCallback(){Cr&&(clearTimeout(Cr),Cr=null),$r?yi.push(this):wr.jmp(()=>(fe=>{if(!(1&wr.$flags$)){const Ce=In(fe),He=Ce.$cmpMeta$,Me=()=>{};if(1&Ce.$flags$)Be(fe,Ce,He.$listeners$),O(Ce.$lazyInstance$);else{let he;if(Ce.$flags$|=1,he=fe.getAttribute(on),he){if(1&He.$flags$){const Ae=Vi(fe.shadowRoot,He,fe.getAttribute("s-mode"));fe.classList.remove(Ae+"-h",Ae+"-s")}((fe,Ce,He,Me)=>{const Ae=fe.shadowRoot,St=[],mn=Ae?[]:null,Mn=Me.$vnode$=ct(Ce,null);wr.$orgLocNodes$||qt(Ki.body,wr.$orgLocNodes$=new Map),fe[on]=He,fe.removeAttribute(on),vn(Mn,St,[],mn,fe,fe,He),St.map(yi=>{const bi=yi.$hostId$+"."+yi.$nodeId$,Cr=wr.$orgLocNodes$.get(bi),$r=yi.$elm$;Cr&&mr&&""===Cr["s-en"]&&Cr.parentNode.insertBefore($r,Cr.nextSibling),Ae||($r["s-hn"]=Ce,Cr&&($r["s-ol"]=Cr,$r["s-ol"]["s-nr"]=$r)),wr.$orgLocNodes$.delete(bi)}),Ae&&mn.map(yi=>{yi&&Ae.appendChild(yi)})})(fe,He.$tagName$,he,Ce)}he||12&He.$flags$&&ce(fe);{let Ae=fe;for(;Ae=Ae.parentNode||Ae.host;)if(1===Ae.nodeType&&Ae.hasAttribute("s-id")&&Ae["s-p"]||Ae["s-p"]){is(Ce,Ce.$ancestorComponent$=Ae);break}}He.$members$&&Object.entries(He.$members$).map(([Ae,[St]])=>{if(31&St&&fe.hasOwnProperty(Ae)){const Kt=fe[Ae];delete fe[Ae],fe[Ae]=Kt}}),A(fe,Ce,He)}Me()}})(this))}disconnectedCallback(){wr.jmp(()=>(fe=>{if(!(1&wr.$flags$)){const Ce=In(this),He=Ce.$lazyInstance$;Ce.$rmListeners$&&(Ce.$rmListeners$.map(Me=>Me()),Ce.$rmListeners$=void 0),pr(He,"disconnectedCallback")}})())}componentOnReady(){return In(this).$onReadyPromise$}};hr.$lazyBundleId$=Ks[0],!Ae.includes(ri)&&!St.get(ri)&&(he.push(ri),St.define(ri,x(vr,hr,1)))})});{Mn.innerHTML=he+"{visibility:hidden}.hydrated{visibility:inherit}",Mn.setAttribute("data-styles","");const Ks=null!==(He=wr.$nonce$)&&void 0!==He?He:tn(Ki);null!=Ks&&Mn.setAttribute("nonce",Ks),Kt.insertBefore(Mn,mn?mn.nextSibling:Kt.firstChild)}$r=!1,yi.length?yi.map(Ks=>Ks.connectedCallback()):wr.jmp(()=>Cr=setTimeout(Dr,30))},Be=(fe,Ce,He,Me)=>{He&&He.map(([he,Ae,St])=>{const Kt=Lt(fe,he),mn=jt(Ce,St),Mn=fn(he);wr.ael(Kt,Ae,mn,Mn),(Ce.$rmListeners$=Ce.$rmListeners$||[]).push(()=>wr.rel(Kt,Ae,mn,Mn))})},jt=(fe,Ce)=>He=>{try{256&fe.$flags$?fe.$lazyInstance$[Ce](He):(fe.$queuedListeners$=fe.$queuedListeners$||[]).push([Ce,He])}catch(Me){Yn(Me)}},Lt=(fe,Ce)=>4&Ce?Ki:8&Ce?yr:16&Ce?Ki.body:fe,fn=fe=>0!=(2&fe),en=new WeakMap,In=fe=>en.get(fe),Ut=(fe,Ce)=>en.set(Ce.$lazyInstance$=fe,Ce),rn=(fe,Ce)=>{const He={$flags$:0,$hostElement$:fe,$cmpMeta$:Ce,$instanceValues$:new Map};return He.$onInstancePromise$=new Promise(Me=>He.$onInstanceResolve$=Me),He.$onReadyPromise$=new Promise(Me=>He.$onReadyResolve$=Me),fe["s-p"]=[],fe["s-rc"]=[],Be(fe,He,Ce.$listeners$),en.set(fe,He)},hn=(fe,Ce)=>Ce in fe,Yn=(fe,Ce)=>(0,console.error)(fe,Ce),Kn=new Map,ti=(fe,Ce,He)=>{const Me=fe.$tagName$.replace(/-/g,"_"),he=fe.$lazyBundleId$,Ae=Kn.get(he);return Ae?Ae[Me]:Y(863)(`./${he}.entry.js`).then(St=>(Kn.set(he,St),St[Me]),Yn)},$i=new Map,Sr=[],yr=typeof window<"u"?window:{},Ki=yr.document||{head:{}},wr={$flags$:0,$resourcesUrl$:"",jmp:fe=>fe(),raf:fe=>requestAnimationFrame(fe),ael:(fe,Ce,He,Me)=>fe.addEventListener(Ce,He,Me),rel:(fe,Ce,He,Me)=>fe.removeEventListener(Ce,He,Me),ce:(fe,Ce)=>new CustomEvent(fe,Ce)},Wi=fe=>{Object.assign(wr,fe)},mr=!0,Hr=fe=>Promise.resolve(fe),ur=(()=>{try{return new CSSStyleSheet,"function"==typeof(new CSSStyleSheet).replaceSync}catch{}return!1})(),rs=[],$s=[],ws=(fe,Ce)=>He=>{fe.push(He),Ue||(Ue=!0,Ce&&4&wr.$flags$?Eo(uo):wr.raf(uo))},Es=fe=>{for(let Ce=0;Ce<fe.length;Ce++)try{fe[Ce](performance.now())}catch(He){Yn(He)}fe.length=0},uo=()=>{Es(rs),Es($s),(Ue=rs.length>0)&&wr.raf(uo)},Eo=fe=>Hr().then(fe),Zs=ws(rs,!1),ho=ws($s,!0)},8126:(Ii,ln,Y)=>{"use strict";Y.d(ln,{m:()=>Re});var c=Y(5861),y=Y(7593),De=Y(3577),ze=Y(5273),dt=Y(9613);const Ye=Xe=>(0,dt.c)().duration(Xe?400:300),be=Xe=>{let Le,Qe;const At=Xe.width+8,an=(0,dt.c)(),nt=(0,dt.c)();Xe.isEndSide?(Le=At+"px",Qe="0px"):(Le=-At+"px",Qe="0px"),an.addElement(Xe.menuInnerEl).fromTo("transform",`translateX(${Le})`,`translateX(${Qe})`);const on="ios"===(0,ze.b)(Xe),It=on?.2:.25;return nt.addElement(Xe.backdropEl).fromTo("opacity",.01,It),Ye(on).addAnimation([an,nt])},$e=Xe=>{let Le,Qe;const At=(0,ze.b)(Xe),an=Xe.width;Xe.isEndSide?(Le=-an+"px",Qe=an+"px"):(Le=an+"px",Qe=-an+"px");const nt=(0,dt.c)().addElement(Xe.menuInnerEl).fromTo("transform",`translateX(${Qe})`,"translateX(0px)"),Ze=(0,dt.c)().addElement(Xe.contentEl).fromTo("transform","translateX(0px)",`translateX(${Le})`),on=(0,dt.c)().addElement(Xe.backdropEl).fromTo("opacity",.01,.32);return Ye("ios"===At).addAnimation([nt,Ze,on])},Ke=Xe=>{const Le=(0,ze.b)(Xe),Qe=Xe.width*(Xe.isEndSide?-1:1)+"px",At=(0,dt.c)().addElement(Xe.contentEl).fromTo("transform","translateX(0px)",`translateX(${Qe})`);return Ye("ios"===Le).addAnimation(At)},Re=(()=>{const Xe=new Map,Le=[],Qe=function(){var Je=(0,c.Z)(function*(Et){const vn=yield bt(Et);return!!vn&&vn.open()});return function(vn){return Je.apply(this,arguments)}}(),At=function(){var Je=(0,c.Z)(function*(Et){const vn=yield void 0!==Et?bt(Et):zt();return void 0!==vn&&vn.close()});return function(vn){return Je.apply(this,arguments)}}(),an=function(){var Je=(0,c.Z)(function*(Et){const vn=yield bt(Et);return!!vn&&vn.toggle()});return function(vn){return Je.apply(this,arguments)}}(),nt=function(){var Je=(0,c.Z)(function*(Et,vn){const qt=yield bt(vn);return qt&&(qt.disabled=!Et),qt});return function(vn,qt){return Je.apply(this,arguments)}}(),Ze=function(){var Je=(0,c.Z)(function*(Et,vn){const qt=yield bt(vn);return qt&&(qt.swipeGesture=Et),qt});return function(vn,qt){return Je.apply(this,arguments)}}(),on=function(){var Je=(0,c.Z)(function*(Et){if(null!=Et){const vn=yield bt(Et);return void 0!==vn&&vn.isOpen()}return void 0!==(yield zt())});return function(vn){return Je.apply(this,arguments)}}(),It=function(){var Je=(0,c.Z)(function*(Et){const vn=yield bt(Et);return!!vn&&!vn.disabled});return function(vn){return Je.apply(this,arguments)}}(),bt=function(){var Je=(0,c.Z)(function*(Et){return yield ft(),"start"===Et||"end"===Et?Ot(xn=>xn.side===Et&&!xn.disabled)||Ot(xn=>xn.side===Et):null!=Et?Ot(qt=>qt.menuId===Et):Ot(qt=>!qt.disabled)||(Le.length>0?Le[0].el:void 0)});return function(vn){return Je.apply(this,arguments)}}(),zt=function(){var Je=(0,c.Z)(function*(){return yield ft(),ct()});return function(){return Je.apply(this,arguments)}}(),Jt=function(){var Je=(0,c.Z)(function*(){return yield ft(),et()});return function(){return Je.apply(this,arguments)}}(),Yt=function(){var Je=(0,c.Z)(function*(){return yield ft(),wt()});return function(){return Je.apply(this,arguments)}}(),tt=(Je,Et)=>{Xe.set(Je,Et)},Tt=Je=>{const Et=Je.side;Le.filter(vn=>vn.side===Et&&vn!==Je).forEach(vn=>vn.disabled=!0)},tn=function(){var Je=(0,c.Z)(function*(Et,vn,qt){if(wt())return!1;if(vn){const xn=yield zt();xn&&Et.el!==xn&&(yield xn.setOpen(!1,!1))}return Et._setOpen(vn,qt)});return function(vn,qt,xn){return Je.apply(this,arguments)}}(),ct=()=>Ot(Je=>Je._isOpen),et=()=>Le.map(Je=>Je.el),wt=()=>Le.some(Je=>Je.isAnimating),Ot=Je=>{const Et=Le.find(Je);if(void 0!==Et)return Et.el},ft=()=>Promise.all(Array.from(document.querySelectorAll("ion-menu")).map(Je=>new Promise(Et=>(0,De.c)(Je,Et))));return tt("reveal",Ke),tt("push",$e),tt("overlay",be),typeof document<"u"&&document.addEventListener("ionBackButton",Je=>{const Et=ct();Et&&Je.detail.register(y.MENU_BACK_BUTTON_PRIORITY,()=>Et.close())}),{registerAnimation:tt,get:bt,getMenus:Jt,getOpen:zt,isEnabled:It,swipeGesture:Ze,isAnimating:Yt,isOpen:on,enable:nt,toggle:an,close:At,open:Qe,_getOpenSync:ct,_createAnimation:(Je,Et)=>{const vn=Xe.get(Je);if(!vn)throw new Error("animation not registered");return vn(Et)},_register:Je=>{Le.indexOf(Je)<0&&(Je.disabled||Tt(Je),Le.push(Je))},_unregister:Je=>{const Et=Le.indexOf(Je);Et>-1&&Le.splice(Et,1)},_setOpen:tn,_setActiveMenu:Tt}})()},1178:(Ii,ln,Y)=>{"use strict";Y.d(ln,{a:()=>y,b:()=>De,p:()=>c});const c=(ze,...dt)=>console.warn(`[Ionic Warning]: ${ze}`,...dt),y=(ze,...dt)=>console.error(`[Ionic Error]: ${ze}`,...dt),De=(ze,...dt)=>console.error(`<${ze.tagName.toLowerCase()}> must be used inside ${dt.join(" or ")}.`)},9866:(Ii,ln,Y)=>{"use strict";Y.d(ln,{L:()=>ze,a:()=>dt,b:()=>Ye,c:()=>be,d:()=>$e,e:()=>Yt,g:()=>Vt,l:()=>Jt,s:()=>tt,t:()=>Re});var c=Y(5861),y=Y(4083),De=Y(3577);const ze="ionViewWillEnter",dt="ionViewDidEnter",Ye="ionViewWillLeave",be="ionViewDidLeave",$e="ionViewWillUnload",Re=Tt=>new Promise((tn,dn)=>{(0,y.w)(()=>{Xe(Tt),Le(Tt).then(ct=>{ct.animation&&ct.animation.destroy(),Qe(Tt),tn(ct)},ct=>{Qe(Tt),dn(ct)})})}),Xe=Tt=>{const tn=Tt.enteringEl,dn=Tt.leavingEl;se(tn,dn,Tt.direction),Tt.showGoBack?tn.classList.add("can-go-back"):tn.classList.remove("can-go-back"),tt(tn,!1),tn.style.setProperty("pointer-events","none"),dn&&(tt(dn,!1),dn.style.setProperty("pointer-events","none"))},Le=function(){var Tt=(0,c.Z)(function*(tn){const dn=yield At(tn);return dn&&y.B.isBrowser?an(dn,tn):nt(tn)});return function(dn){return Tt.apply(this,arguments)}}(),Qe=Tt=>{const tn=Tt.enteringEl,dn=Tt.leavingEl;tn.classList.remove("ion-page-invisible"),tn.style.removeProperty("pointer-events"),void 0!==dn&&(dn.classList.remove("ion-page-invisible"),dn.style.removeProperty("pointer-events"))},At=function(){var Tt=(0,c.Z)(function*(tn){return tn.leavingEl&&tn.animated&&0!==tn.duration?tn.animationBuilder?tn.animationBuilder:"ios"===tn.mode?(yield Promise.resolve().then(Y.bind(Y,3551))).iosTransitionAnimation:(yield Promise.resolve().then(Y.bind(Y,1138))).mdTransitionAnimation:void 0});return function(dn){return Tt.apply(this,arguments)}}(),an=function(){var Tt=(0,c.Z)(function*(tn,dn){yield Ze(dn,!0);const ct=tn(dn.baseEl,dn);bt(dn.enteringEl,dn.leavingEl);const et=yield It(ct,dn);return dn.progressCallback&&dn.progressCallback(void 0),et&&zt(dn.enteringEl,dn.leavingEl),{hasCompleted:et,animation:ct}});return function(dn,ct){return Tt.apply(this,arguments)}}(),nt=function(){var Tt=(0,c.Z)(function*(tn){const dn=tn.enteringEl,ct=tn.leavingEl;return yield Ze(tn,!1),bt(dn,ct),zt(dn,ct),{hasCompleted:!0}});return function(dn){return Tt.apply(this,arguments)}}(),Ze=function(){var Tt=(0,c.Z)(function*(tn,dn){(void 0!==tn.deepWait?tn.deepWait:dn)&&(yield Promise.all([Yt(tn.enteringEl),Yt(tn.leavingEl)])),yield on(tn.viewIsReady,tn.enteringEl)});return function(dn,ct){return Tt.apply(this,arguments)}}(),on=function(){var Tt=(0,c.Z)(function*(tn,dn){tn&&(yield tn(dn))});return function(dn,ct){return Tt.apply(this,arguments)}}(),It=(Tt,tn)=>{const dn=tn.progressCallback,ct=new Promise(et=>{Tt.onFinish(wt=>et(1===wt))});return dn?(Tt.progressStart(!0),dn(Tt)):Tt.play(),ct},bt=(Tt,tn)=>{Jt(tn,Ye),Jt(Tt,ze)},zt=(Tt,tn)=>{Jt(Tt,dt),Jt(tn,be)},Jt=(Tt,tn)=>{if(Tt){const dn=new CustomEvent(tn,{bubbles:!1,cancelable:!1});Tt.dispatchEvent(dn)}},Yt=function(){var Tt=(0,c.Z)(function*(tn){const dn=tn;if(dn){if(null!=dn.componentOnReady){if(null!=(yield dn.componentOnReady()))return}else if(null!=dn.__registerHost)return void(yield new Promise(et=>(0,De.r)(et)));yield Promise.all(Array.from(dn.children).map(Yt))}});return function(dn){return Tt.apply(this,arguments)}}(),tt=(Tt,tn)=>{tn?(Tt.setAttribute("aria-hidden","true"),Tt.classList.add("ion-page-hidden")):(Tt.hidden=!1,Tt.removeAttribute("aria-hidden"),Tt.classList.remove("ion-page-hidden"))},se=(Tt,tn,dn)=>{void 0!==Tt&&(Tt.style.zIndex="back"===dn?"99":"101"),void 0!==tn&&(tn.style.zIndex="100")},Vt=Tt=>Tt.classList.contains("ion-page")?Tt:Tt.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")||Tt},4464:(Ii,ln,Y)=>{"use strict";Y.d(ln,{AK:()=>dt.g,Cl:()=>Ue.a,EQ:()=>$e.b,F8:()=>$e.d,Fy:()=>Ue.m,G0:()=>Ue.l,Jd:()=>$e.c,L$:()=>Qe,Mn:()=>Ue.t,hh:()=>Ye.c,kx:()=>$e.L,n$:()=>dt.a,oq:()=>Ue.c,qc:()=>be.s,re:()=>$e.a}),Y(9613),Y(3551),Y(1138),Y(1898);var dt=Y(5273),Ye=Y(3577),be=Y(3982),$e=Y(9866),Ue=(Y(8126),Y(2583));Y(3457),Y(4349),Y(4083);const Qe=At=>{const{swiper:an,extendParams:nt}=At,Ze={effect:void 0,direction:"horizontal",initialSlide:0,loop:!1,parallax:!1,slidesPerView:1,spaceBetween:0,speed:300,slidesPerColumn:1,slidesPerColumnFill:"column",slidesPerGroup:1,centeredSlides:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,touchEventsTarget:"container",freeMode:!1,freeModeMomentum:!0,freeModeMomentumRatio:1,freeModeMomentumBounce:!0,freeModeMomentumBounceRatio:1,freeModeMomentumVelocityRatio:1,freeModeSticky:!1,freeModeMinimumVelocity:.02,autoHeight:!1,setWrapperSize:!1,zoom:{maxRatio:3,minRatio:1,toggle:!1},touchRatio:1,touchAngle:45,simulateTouch:!0,touchStartPreventDefault:!1,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,threshold:0,touchMoveStopPropagation:!0,touchReleaseOnEdges:!1,iOSEdgeSwipeDetection:!1,iOSEdgeSwipeThreshold:20,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,watchSlidesVisibility:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,loopAdditionalSlides:0,noSwiping:!0,runCallbacksOnInit:!0,coverflowEffect:{rotate:50,stretch:0,depth:100,modifier:1,slideShadows:!0},flipEffect:{slideShadows:!0,limitRotation:!0},cubeEffect:{slideShadows:!0,shadow:!0,shadowOffset:20,shadowScale:.94},fadeEffect:{crossFade:!1},a11y:{prevSlideMessage:"Previous slide",nextSlideMessage:"Next slide",firstSlideMessage:"This is the first slide",lastSlideMessage:"This is the last slide"}};an.pagination&&(Ze.pagination={type:"bullets",clickable:!1,hideOnClick:!1}),an.scrollbar&&(Ze.scrollbar={hide:!0}),nt(Ze)}},5273:(Ii,ln,Y)=>{"use strict";Y.d(ln,{a:()=>Re,b:()=>wt,c:()=>De,g:()=>Ue,i:()=>Ot});var c=Y(4083);class y{constructor(){this.m=new Map}reset(Je){this.m=new Map(Object.entries(Je))}get(Je,Et){const vn=this.m.get(Je);return void 0!==vn?vn:Et}getBoolean(Je,Et=!1){const vn=this.m.get(Je);return void 0===vn?Et:"string"==typeof vn?"true"===vn:!!vn}getNumber(Je,Et){const vn=parseFloat(this.m.get(Je));return isNaN(vn)?void 0!==Et?Et:NaN:vn}set(Je,Et){this.m.set(Je,Et)}}const De=new y,Ke="ionic-persist-config",Ue=ft=>Xe(ft),Re=(ft,Je)=>("string"==typeof ft&&(Je=ft,ft=void 0),Ue(ft).includes(Je)),Xe=(ft=window)=>{if(typeof ft>"u")return[];ft.Ionic=ft.Ionic||{};let Je=ft.Ionic.platforms;return null==Je&&(Je=ft.Ionic.platforms=Le(ft),Je.forEach(Et=>ft.document.documentElement.classList.add(`plt-${Et}`))),Je},Le=ft=>{const Je=De.get("platform");return Object.keys(ct).filter(Et=>{const vn=null==Je?void 0:Je[Et];return"function"==typeof vn?vn(ft):ct[Et](ft)})},At=ft=>!!(tn(ft,/iPad/i)||tn(ft,/Macintosh/i)&&zt(ft)),Ze=ft=>tn(ft,/android|sink/i),zt=ft=>dn(ft,"(any-pointer:coarse)"),Yt=ft=>tt(ft)||se(ft),tt=ft=>!!(ft.cordova||ft.phonegap||ft.PhoneGap),se=ft=>{const Je=ft.Capacitor;return!(null==Je||!Je.isNative)},tn=(ft,Je)=>Je.test(ft.navigator.userAgent),dn=(ft,Je)=>{var Et;return null===(Et=ft.matchMedia)||void 0===Et?void 0:Et.call(ft,Je).matches},ct={ipad:At,iphone:ft=>tn(ft,/iPhone/i),ios:ft=>tn(ft,/iPhone|iPod/i)||At(ft),android:Ze,phablet:ft=>{const Je=ft.innerWidth,Et=ft.innerHeight,vn=Math.min(Je,Et),qt=Math.max(Je,Et);return vn>390&&vn<520&&qt>620&&qt<800},tablet:ft=>{const Je=ft.innerWidth,Et=ft.innerHeight,vn=Math.min(Je,Et),qt=Math.max(Je,Et);return At(ft)||(ft=>Ze(ft)&&!tn(ft,/mobile/i))(ft)||vn>460&&vn<820&&qt>780&&qt<1400},cordova:tt,capacitor:se,electron:ft=>tn(ft,/electron/i),pwa:ft=>{var Je;return!!(null!==(Je=ft.matchMedia)&&void 0!==Je&&Je.call(ft,"(display-mode: standalone)").matches||ft.navigator.standalone)},mobile:zt,mobileweb:ft=>zt(ft)&&!Yt(ft),desktop:ft=>!zt(ft),hybrid:Yt};let et;const wt=ft=>ft&&(0,c.g)(ft)||et,Ot=(ft={})=>{if(typeof window>"u")return;const Je=window.document,Et=window,vn=Et.Ionic=Et.Ionic||{},qt={};ft._ael&&(qt.ael=ft._ael),ft._rel&&(qt.rel=ft._rel),ft._ce&&(qt.ce=ft._ce),(0,c.a)(qt);const xn=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},(ft=>{try{const Je=ft.sessionStorage.getItem(Ke);return null!==Je?JSON.parse(Je):{}}catch{return{}}})(Et)),{persistConfig:!1}),vn.config),(ft=>{const Je={};return ft.location.search.slice(1).split("&").map(Et=>Et.split("=")).map(([Et,vn])=>[decodeURIComponent(Et),decodeURIComponent(vn)]).filter(([Et])=>((ft,Je)=>ft.substr(0,Je.length)===Je)(Et,"ionic:")).map(([Et,vn])=>[Et.slice(6),vn]).forEach(([Et,vn])=>{Je[Et]=vn}),Je})(Et)),ft);De.reset(xn),De.getBoolean("persistConfig")&&((ft,Je)=>{try{ft.sessionStorage.setItem(Ke,JSON.stringify(Je))}catch{return}})(Et,xn),Xe(Et),vn.config=De,vn.mode=et=De.get("mode",Je.documentElement.getAttribute("mode")||(Re(Et,"ios")?"ios":"md")),De.set("mode",et),Je.documentElement.setAttribute("mode",et),Je.documentElement.classList.add(et),De.getBoolean("_testing")&&De.set("animated",!1);const Gt=Dn=>{var Nt;return null===(Nt=Dn.tagName)||void 0===Nt?void 0:Nt.startsWith("ION-")},li=Dn=>["ios","md"].includes(Dn);(0,c.c)(Dn=>{for(;Dn;){const Nt=Dn.mode||Dn.getAttribute("mode");if(Nt){if(li(Nt))return Nt;Gt(Dn)&&console.warn('Invalid ionic mode: "'+Nt+'", expected: "ios" or "md"')}Dn=Dn.parentElement}return et})}},3551:(Ii,ln,Y)=>{"use strict";Y.r(ln),Y.d(ln,{iosTransitionAnimation:()=>Le,shadow:()=>be});var c=Y(9613),y=Y(9866);Y(3457),Y(4083);const Ye=Qe=>document.querySelector(`${Qe}.ion-cloned-element`),be=Qe=>Qe.shadowRoot||Qe,$e=Qe=>{const At="ION-TABS"===Qe.tagName?Qe:Qe.querySelector("ion-tabs"),an="ion-content ion-header:not(.header-collapse-condense-inactive) ion-title.title-large";if(null!=At){const nt=At.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");return null!=nt?nt.querySelector(an):null}return Qe.querySelector(an)},Ke=(Qe,At)=>{const an="ION-TABS"===Qe.tagName?Qe:Qe.querySelector("ion-tabs");let nt=[];if(null!=an){const Ze=an.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");null!=Ze&&(nt=Ze.querySelectorAll("ion-buttons"))}else nt=Qe.querySelectorAll("ion-buttons");for(const Ze of nt){const on=Ze.closest("ion-header"),It=on&&!on.classList.contains("header-collapse-condense-inactive"),bt=Ze.querySelector("ion-back-button"),zt=Ze.classList.contains("buttons-collapse");if(null!==bt&&("start"===Ze.slot||""===Ze.slot)&&(zt&&It&&At||!zt))return bt}return null},Re=(Qe,At,an,nt,Ze,on)=>{const It=At?`calc(100% - ${on.right+4}px)`:on.left-4+"px",bt=At?"7px":"-7px",zt=At?"-4px":"4px",Jt=At?"-4px":"4px",Yt=At?"right":"left",tt=At?"left":"right",Tt=an?[{offset:0,opacity:1,transform:`translate3d(${zt}, ${on.top-46}px, 0) scale(1)`},{offset:.6,opacity:0},{offset:1,opacity:0,transform:`translate3d(${bt}, ${Ze.top-40}px, 0) scale(2.1)`}]:[{offset:0,opacity:0,transform:`translate3d(${bt}, ${Ze.top-40}px, 0) scale(2.1)`},{offset:1,opacity:1,transform:`translate3d(${zt}, ${on.top-46}px, 0) scale(1)`}],ct=an?[{offset:0,opacity:1,transform:`translate3d(${Jt}, ${on.top-46}px, 0) scale(1)`},{offset:.2,opacity:0,transform:`translate3d(${Jt}, ${on.top-41}px, 0) scale(0.6)`},{offset:1,opacity:0,transform:`translate3d(${Jt}, ${on.top-41}px, 0) scale(0.6)`}]:[{offset:0,opacity:0,transform:`translate3d(${Jt}, ${on.top-41}px, 0) scale(0.6)`},{offset:1,opacity:1,transform:`translate3d(${Jt}, ${on.top-46}px, 0) scale(1)`}],et=(0,c.c)(),wt=(0,c.c)(),Ot=Ye("ion-back-button"),ft=be(Ot).querySelector(".button-text"),Je=be(Ot).querySelector("ion-icon");Ot.text=nt.text,Ot.mode=nt.mode,Ot.icon=nt.icon,Ot.color=nt.color,Ot.disabled=nt.disabled,Ot.style.setProperty("display","block"),Ot.style.setProperty("position","fixed"),wt.addElement(Je),et.addElement(ft),et.beforeStyles({"transform-origin":`${Yt} center`}).beforeAddWrite(()=>{nt.style.setProperty("display","none"),Ot.style.setProperty(Yt,It)}).afterAddWrite(()=>{nt.style.setProperty("display",""),Ot.style.setProperty("display","none"),Ot.style.removeProperty(Yt)}).keyframes(Tt),wt.beforeStyles({"transform-origin":`${tt} center`}).keyframes(ct),Qe.addAnimation([et,wt])},Xe=(Qe,At,an,nt,Ze,on)=>{const It=At?`calc(100% - ${Ze.right}px)`:`${Ze.left}px`,bt=At?"-18px":"18px",zt=At?"right":"left",tt=an?[{offset:0,opacity:0,transform:`translate3d(${bt}, ${on.top-4}px, 0) scale(0.49)`},{offset:.1,opacity:0},{offset:1,opacity:1,transform:`translate3d(0, ${Ze.top-2}px, 0) scale(1)`}]:[{offset:0,opacity:.99,transform:`translate3d(0, ${Ze.top-2}px, 0) scale(1)`},{offset:.6,opacity:0},{offset:1,opacity:0,transform:`translate3d(${bt}, ${on.top-4}px, 0) scale(0.5)`}],se=Ye("ion-title"),Vt=(0,c.c)();se.innerText=nt.innerText,se.size=nt.size,se.color=nt.color,Vt.addElement(se),Vt.beforeStyles({"transform-origin":`${zt} center`,height:"46px",display:"",position:"relative",[zt]:It}).beforeAddWrite(()=>{nt.style.setProperty("display","none")}).afterAddWrite(()=>{nt.style.setProperty("display",""),se.style.setProperty("display","none")}).keyframes(tt),Qe.addAnimation(Vt)},Le=(Qe,At)=>{var an;try{const nt="cubic-bezier(0.32,0.72,0,1)",Ze="opacity",on="transform",It="0%",zt="rtl"===Qe.ownerDocument.dir,Jt=zt?"-99.5%":"99.5%",Yt=zt?"33%":"-33%",tt=At.enteringEl,se=At.leavingEl,Vt="back"===At.direction,Tt=tt.querySelector(":scope > ion-content"),tn=tt.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *"),dn=tt.querySelectorAll(":scope > ion-header > ion-toolbar"),ct=(0,c.c)(),et=(0,c.c)();if(ct.addElement(tt).duration((null!==(an=At.duration)&&void 0!==an?an:0)||540).easing(At.easing||nt).fill("both").beforeRemoveClass("ion-page-invisible"),se&&null!=Qe){const Je=(0,c.c)();Je.addElement(Qe),ct.addAnimation(Je)}if(Tt||0!==dn.length||0!==tn.length?(et.addElement(Tt),et.addElement(tn)):et.addElement(tt.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),ct.addAnimation(et),Vt?et.beforeClearStyles([Ze]).fromTo("transform",`translateX(${Yt})`,`translateX(${It})`).fromTo(Ze,.8,1):et.beforeClearStyles([Ze]).fromTo("transform",`translateX(${Jt})`,`translateX(${It})`),Tt){const Je=be(Tt).querySelector(".transition-effect");if(Je){const Et=Je.querySelector(".transition-cover"),vn=Je.querySelector(".transition-shadow"),qt=(0,c.c)(),xn=(0,c.c)(),Gt=(0,c.c)();qt.addElement(Je).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),xn.addElement(Et).beforeClearStyles([Ze]).fromTo(Ze,0,.1),Gt.addElement(vn).beforeClearStyles([Ze]).fromTo(Ze,.03,.7),qt.addAnimation([xn,Gt]),et.addAnimation([qt])}}const wt=tt.querySelector("ion-header.header-collapse-condense"),{forward:Ot,backward:ft}=((Qe,At,an,nt,Ze)=>{const on=Ke(nt,an),It=$e(Ze),bt=$e(nt),zt=Ke(Ze,an),Jt=null!==on&&null!==It&&!an,Yt=null!==bt&&null!==zt&&an;if(Jt){const tt=It.getBoundingClientRect(),se=on.getBoundingClientRect();Xe(Qe,At,an,It,tt,se),Re(Qe,At,an,on,tt,se)}else if(Yt){const tt=bt.getBoundingClientRect(),se=zt.getBoundingClientRect();Xe(Qe,At,an,bt,tt,se),Re(Qe,At,an,zt,tt,se)}return{forward:Jt,backward:Yt}})(ct,zt,Vt,tt,se);if(dn.forEach(Je=>{const Et=(0,c.c)();Et.addElement(Je),ct.addAnimation(Et);const vn=(0,c.c)();vn.addElement(Je.querySelector("ion-title"));const qt=(0,c.c)(),xn=Array.from(Je.querySelectorAll("ion-buttons,[menuToggle]")),Gt=Je.closest("ion-header"),li=null==Gt?void 0:Gt.classList.contains("header-collapse-condense-inactive");let Dn;Dn=xn.filter(Vt?Di=>{const Vi=Di.classList.contains("buttons-collapse");return Vi&&!li||!Vi}:Di=>!Di.classList.contains("buttons-collapse")),qt.addElement(Dn);const Nt=(0,c.c)();Nt.addElement(Je.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])"));const On=(0,c.c)();On.addElement(be(Je).querySelector(".toolbar-background"));const Vn=(0,c.c)(),Ti=Je.querySelector("ion-back-button");if(Ti&&Vn.addElement(Ti),Et.addAnimation([vn,qt,Nt,On,Vn]),qt.fromTo(Ze,.01,1),Nt.fromTo(Ze,.01,1),Vt)li||vn.fromTo("transform",`translateX(${Yt})`,`translateX(${It})`).fromTo(Ze,.01,1),Nt.fromTo("transform",`translateX(${Yt})`,`translateX(${It})`),Vn.fromTo(Ze,.01,1);else if(wt||vn.fromTo("transform",`translateX(${Jt})`,`translateX(${It})`).fromTo(Ze,.01,1),Nt.fromTo("transform",`translateX(${Jt})`,`translateX(${It})`),On.beforeClearStyles([Ze,"transform"]),(null==Gt?void 0:Gt.translucent)?On.fromTo("transform",zt?"translateX(-100%)":"translateX(100%)","translateX(0px)"):On.fromTo(Ze,.01,"var(--opacity)"),Ot||Vn.fromTo(Ze,.01,1),Ti&&!Ot){const Vi=(0,c.c)();Vi.addElement(be(Ti).querySelector(".button-text")).fromTo("transform",zt?"translateX(-100px)":"translateX(100px)","translateX(0px)"),Et.addAnimation(Vi)}}),se){const Je=(0,c.c)(),Et=se.querySelector(":scope > ion-content"),vn=se.querySelectorAll(":scope > ion-header > ion-toolbar"),qt=se.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *");if(Et||0!==vn.length||0!==qt.length?(Je.addElement(Et),Je.addElement(qt)):Je.addElement(se.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),ct.addAnimation(Je),Vt){Je.beforeClearStyles([Ze]).fromTo("transform",`translateX(${It})`,zt?"translateX(-100%)":"translateX(100%)");const xn=(0,y.g)(se);ct.afterAddWrite(()=>{"normal"===ct.getDirection()&&xn.style.setProperty("display","none")})}else Je.fromTo("transform",`translateX(${It})`,`translateX(${Yt})`).fromTo(Ze,1,.8);if(Et){const xn=be(Et).querySelector(".transition-effect");if(xn){const Gt=xn.querySelector(".transition-cover"),li=xn.querySelector(".transition-shadow"),Dn=(0,c.c)(),Nt=(0,c.c)(),On=(0,c.c)();Dn.addElement(xn).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),Nt.addElement(Gt).beforeClearStyles([Ze]).fromTo(Ze,.1,0),On.addElement(li).beforeClearStyles([Ze]).fromTo(Ze,.7,.03),Dn.addAnimation([Nt,On]),Je.addAnimation([Dn])}}vn.forEach(xn=>{const Gt=(0,c.c)();Gt.addElement(xn);const li=(0,c.c)();li.addElement(xn.querySelector("ion-title"));const Dn=(0,c.c)(),Nt=xn.querySelectorAll("ion-buttons,[menuToggle]"),On=xn.closest("ion-header"),Vn=null==On?void 0:On.classList.contains("header-collapse-condense-inactive"),Ti=Array.from(Nt).filter(rr=>{const fr=rr.classList.contains("buttons-collapse");return fr&&!Vn||!fr});Dn.addElement(Ti);const Di=(0,c.c)(),Vi=xn.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])");Vi.length>0&&Di.addElement(Vi);const Xn=(0,c.c)();Xn.addElement(be(xn).querySelector(".toolbar-background"));const Ai=(0,c.c)(),Ni=xn.querySelector("ion-back-button");if(Ni&&Ai.addElement(Ni),Gt.addAnimation([li,Dn,Di,Ai,Xn]),ct.addAnimation(Gt),Ai.fromTo(Ze,.99,0),Dn.fromTo(Ze,.99,0),Di.fromTo(Ze,.99,0),Vt){if(Vn||li.fromTo("transform",`translateX(${It})`,zt?"translateX(-100%)":"translateX(100%)").fromTo(Ze,.99,0),Di.fromTo("transform",`translateX(${It})`,zt?"translateX(-100%)":"translateX(100%)"),Xn.beforeClearStyles([Ze,"transform"]),(null==On?void 0:On.translucent)?Xn.fromTo("transform","translateX(0px)",zt?"translateX(-100%)":"translateX(100%)"):Xn.fromTo(Ze,"var(--opacity)",0),Ni&&!ft){const fr=(0,c.c)();fr.addElement(be(Ni).querySelector(".button-text")).fromTo("transform",`translateX(${It})`,`translateX(${(zt?-124:124)+"px"})`),Gt.addAnimation(fr)}}else Vn||li.fromTo("transform",`translateX(${It})`,`translateX(${Yt})`).fromTo(Ze,.99,0).afterClearStyles([on,Ze]),Di.fromTo("transform",`translateX(${It})`,`translateX(${Yt})`).afterClearStyles([on,Ze]),Ai.afterClearStyles([Ze]),li.afterClearStyles([Ze]),Dn.afterClearStyles([Ze])})}return ct}catch(nt){throw nt}}},1138:(Ii,ln,Y)=>{"use strict";Y.r(ln),Y.d(ln,{mdTransitionAnimation:()=>dt});var c=Y(9613),y=Y(9866);Y(3457),Y(4083);const dt=(Ye,be)=>{var $e,Ke,Ue;const Le="back"===be.direction,At=be.leavingEl,an=(0,y.g)(be.enteringEl),nt=an.querySelector("ion-toolbar"),Ze=(0,c.c)();if(Ze.addElement(an).fill("both").beforeRemoveClass("ion-page-invisible"),Le?Ze.duration((null!==($e=be.duration)&&void 0!==$e?$e:0)||200).easing("cubic-bezier(0.47,0,0.745,0.715)"):Ze.duration((null!==(Ke=be.duration)&&void 0!==Ke?Ke:0)||280).easing("cubic-bezier(0.36,0.66,0.04,1)").fromTo("transform","translateY(40px)","translateY(0px)").fromTo("opacity",.01,1),nt){const on=(0,c.c)();on.addElement(nt),Ze.addAnimation(on)}if(At&&Le){Ze.duration((null!==(Ue=be.duration)&&void 0!==Ue?Ue:0)||200).easing("cubic-bezier(0.47,0,0.745,0.715)");const on=(0,c.c)();on.addElement((0,y.g)(At)).onFinish(It=>{1===It&&on.elements.length>0&&on.elements[0].style.setProperty("display","none")}).fromTo("transform","translateY(0px)","translateY(40px)").fromTo("opacity",1,0),Ze.addAnimation(on)}return Ze}},2583:(Ii,ln,Y)=>{"use strict";Y.d(ln,{B:()=>qt,G:()=>xn,a:()=>Ue,b:()=>Re,c:()=>At,d:()=>Gt,e:()=>li,f:()=>tn,g:()=>ct,h:()=>Ot,i:()=>Je,j:()=>nt,k:()=>$e,l:()=>Xe,m:()=>Le,n:()=>It,o:()=>Vt,s:()=>vn,t:()=>an});var c=Y(5861),y=Y(5273),De=Y(6782),ze=Y(7593),dt=Y(3577),Ye=Y(1178);let be=0;const $e=new WeakMap,Ke=Dn=>({create:Nt=>Ze(Dn,Nt),dismiss:(Nt,On,Vn)=>tt(document,Nt,On,Dn,Vn),getTop:()=>(0,c.Z)(function*(){return Vt(document,Dn)})()}),Ue=Ke("ion-alert"),Re=Ke("ion-action-sheet"),Xe=Ke("ion-loading"),Le=Ke("ion-modal"),At=Ke("ion-popover"),an=Ke("ion-toast"),nt=Dn=>{typeof document<"u"&&Yt(document);const Nt=be++;Dn.overlayIndex=Nt,Dn.hasAttribute("id")||(Dn.id=`ion-overlay-${Nt}`)},Ze=(Dn,Nt)=>typeof window<"u"&&typeof window.customElements<"u"?window.customElements.whenDefined(Dn).then(()=>{const On=document.createElement(Dn);return On.classList.add("overlay-hidden"),Object.assign(On,Object.assign(Object.assign({},Nt),{hasController:!0})),et(document).appendChild(On),new Promise(Vn=>(0,dt.c)(On,Vn))}):Promise.resolve(),on='[tabindex]:not([tabindex^="-"]):not([hidden]):not([disabled]), input:not([type=hidden]):not([tabindex^="-"]):not([hidden]):not([disabled]), textarea:not([tabindex^="-"]):not([hidden]):not([disabled]), button:not([tabindex^="-"]):not([hidden]):not([disabled]), select:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable[disabled="false"]:not([tabindex^="-"]):not([hidden])',It=(Dn,Nt)=>{let On=Dn.querySelector(on);const Vn=null==On?void 0:On.shadowRoot;Vn&&(On=Vn.querySelector(on)||On),On?(0,dt.f)(On):Nt.focus()},zt=(Dn,Nt)=>{const On=Array.from(Dn.querySelectorAll(on));let Vn=On.length>0?On[On.length-1]:null;const Ti=null==Vn?void 0:Vn.shadowRoot;Ti&&(Vn=Ti.querySelector(on)||Vn),Vn?Vn.focus():Nt.focus()},Yt=Dn=>{0===be&&(be=1,Dn.addEventListener("focus",Nt=>{((Dn,Nt)=>{const On=Vt(Nt,"ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker,ion-popover"),Vn=Dn.target;On&&Vn&&!On.classList.contains("ion-disable-focus-trap")&&(On.shadowRoot?(()=>{if(On.contains(Vn))On.lastFocus=Vn;else{const Vi=On.lastFocus;It(On,On),Vi===Nt.activeElement&&zt(On,On),On.lastFocus=Nt.activeElement}})():(()=>{if(On===Vn)On.lastFocus=void 0;else{const Vi=(0,dt.g)(On);if(!Vi.contains(Vn))return;const Xn=Vi.querySelector(".ion-overlay-wrapper");if(!Xn)return;if(Xn.contains(Vn))On.lastFocus=Vn;else{const Ai=On.lastFocus;It(Xn,On),Ai===Nt.activeElement&&zt(Xn,On),On.lastFocus=Nt.activeElement}}})())})(Nt,Dn)},!0),Dn.addEventListener("ionBackButton",Nt=>{const On=Vt(Dn);null!=On&&On.backdropDismiss&&Nt.detail.register(ze.OVERLAY_BACK_BUTTON_PRIORITY,()=>On.dismiss(void 0,qt))}),Dn.addEventListener("keydown",Nt=>{if("Escape"===Nt.key){const On=Vt(Dn);null!=On&&On.backdropDismiss&&On.dismiss(void 0,qt)}}))},tt=(Dn,Nt,On,Vn,Ti)=>{const Di=Vt(Dn,Vn,Ti);return Di?Di.dismiss(Nt,On):Promise.reject("overlay does not exist")},Vt=(Dn,Nt,On)=>{const Vn=((Dn,Nt)=>(void 0===Nt&&(Nt="ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker,ion-popover,ion-toast"),Array.from(Dn.querySelectorAll(Nt)).filter(On=>On.overlayIndex>0)))(Dn,Nt).filter(Ti=>!(Dn=>Dn.classList.contains("overlay-hidden"))(Ti));return void 0===On?Vn[Vn.length-1]:Vn.find(Ti=>Ti.id===On)},Tt=(Dn=!1)=>{const On=et(document).querySelector("ion-router-outlet, ion-nav, #ion-view-container-root");On&&(Dn?On.setAttribute("aria-hidden","true"):On.removeAttribute("aria-hidden"))},tn=function(){var Dn=(0,c.Z)(function*(Nt,On,Vn,Ti,Di){var Vi,Xn;if(Nt.presented)return;Tt(!0),Nt.presented=!0,Nt.willPresent.emit(),null===(Vi=Nt.willPresentShorthand)||void 0===Vi||Vi.emit();const Ai=(0,y.b)(Nt),Ni=Nt.enterAnimation?Nt.enterAnimation:y.c.get(On,"ios"===Ai?Vn:Ti);(yield wt(Nt,Ni,Nt.el,Di))&&(Nt.didPresent.emit(),null===(Xn=Nt.didPresentShorthand)||void 0===Xn||Xn.emit()),"ION-TOAST"!==Nt.el.tagName&&dn(Nt.el),Nt.keyboardClose&&(null===document.activeElement||!Nt.el.contains(document.activeElement))&&Nt.el.focus()});return function(On,Vn,Ti,Di,Vi){return Dn.apply(this,arguments)}}(),dn=function(){var Dn=(0,c.Z)(function*(Nt){let On=document.activeElement;if(!On)return;const Vn=null==On?void 0:On.shadowRoot;Vn&&(On=Vn.querySelector(on)||On),yield Nt.onDidDismiss(),On.focus()});return function(On){return Dn.apply(this,arguments)}}(),ct=function(){var Dn=(0,c.Z)(function*(Nt,On,Vn,Ti,Di,Vi,Xn){var Ai,Ni;if(!Nt.presented)return!1;Tt(!1),Nt.presented=!1;try{Nt.el.style.setProperty("pointer-events","none"),Nt.willDismiss.emit({data:On,role:Vn}),null===(Ai=Nt.willDismissShorthand)||void 0===Ai||Ai.emit({data:On,role:Vn});const rr=(0,y.b)(Nt),fr=Nt.leaveAnimation?Nt.leaveAnimation:y.c.get(Ti,"ios"===rr?Di:Vi);Vn!==xn&&(yield wt(Nt,fr,Nt.el,Xn)),Nt.didDismiss.emit({data:On,role:Vn}),null===(Ni=Nt.didDismissShorthand)||void 0===Ni||Ni.emit({data:On,role:Vn}),$e.delete(Nt),Nt.el.classList.add("overlay-hidden"),Nt.el.style.removeProperty("pointer-events"),void 0!==Nt.el.lastFocus&&(Nt.el.lastFocus=void 0)}catch(rr){console.error(rr)}return Nt.el.remove(),!0});return function(On,Vn,Ti,Di,Vi,Xn,Ai){return Dn.apply(this,arguments)}}(),et=Dn=>Dn.querySelector("ion-app")||Dn.body,wt=function(){var Dn=(0,c.Z)(function*(Nt,On,Vn,Ti){Vn.classList.remove("overlay-hidden");const Vi=On(Nt.el,Ti);(!Nt.animated||!y.c.getBoolean("animated",!0))&&Vi.duration(0),Nt.keyboardClose&&Vi.beforeAddWrite(()=>{const Ai=Vn.ownerDocument.activeElement;null!=Ai&&Ai.matches("input,ion-input, ion-textarea")&&Ai.blur()});const Xn=$e.get(Nt)||[];return $e.set(Nt,[...Xn,Vi]),yield Vi.play(),!0});return function(On,Vn,Ti,Di){return Dn.apply(this,arguments)}}(),Ot=(Dn,Nt)=>{let On;const Vn=new Promise(Ti=>On=Ti);return ft(Dn,Nt,Ti=>{On(Ti.detail)}),Vn},ft=(Dn,Nt,On)=>{const Vn=Ti=>{(0,dt.b)(Dn,Nt,Vn),On(Ti)};(0,dt.a)(Dn,Nt,Vn)},Je=Dn=>"cancel"===Dn||Dn===qt,Et=Dn=>Dn(),vn=(Dn,Nt)=>{if("function"==typeof Dn)return y.c.get("_zoneGate",Et)(()=>{try{return Dn(Nt)}catch(Vn){throw Vn}})},qt="backdrop",xn="gesture",Gt=Dn=>{let On,Nt=!1;const Vn=(0,De.C)(),Ti=(Xn=!1)=>{if(On&&!Xn)return{delegate:On,inline:Nt};const{el:Ai,hasController:Ni,delegate:rr}=Dn;return Nt=null!==Ai.parentNode&&!Ni,On=Nt?rr||Vn:rr,{inline:Nt,delegate:On}};return{attachViewToDom:function(){var Xn=(0,c.Z)(function*(Ai){const{delegate:Ni}=Ti(!0);if(Ni)return yield Ni.attachViewToDom(Dn.el,Ai);const{hasController:rr}=Dn;if(rr&&void 0!==Ai)throw new Error("framework delegate is missing");return null});return function(Ni){return Xn.apply(this,arguments)}}(),removeViewFromDom:()=>{const{delegate:Xn}=Ti();Xn&&void 0!==Dn.el&&Xn.removeViewFromDom(Dn.el.parentElement,Dn.el)}}},li=()=>{let Dn;const Nt=()=>{Dn&&(Dn(),Dn=void 0)};return{addClickListener:(Vn,Ti)=>{Nt();const Di=void 0!==Ti?document.getElementById(Ti):null;Di?Dn=((Xn,Ai)=>{const Ni=()=>{Ai.present()};return Xn.addEventListener("click",Ni),()=>{Xn.removeEventListener("click",Ni)}})(Di,Vn):(0,Ye.p)(`A trigger element with the ID "${Ti}" was not found in the DOM. The trigger element must be in the DOM when the "trigger" property is set on an overlay component.`,Vn)},removeClickListener:Nt}}},7622:(Ii,ln,Y)=>{"use strict";Y.d(ln,{e:()=>Ye});var c=Y(5861),y=Y(9260);let De=(()=>{class be{}return be.email=$e=>{if(!($e.endsWith("@admin.com")||$e.endsWith("@invitado.com")||$e.endsWith("@usuario.com")||$e.endsWith("@anonimo.com")||$e.endsWith("@tester.com")))throw new Error("Mal formato de datos.");return $e},be})();var ze=Y(2223),dt=Y(3385);let Ye=(()=>{class be{constructor(Ke){var Ue=this;this.angularFireAuth=Ke,this.myUsuario="valor inicial",this.signIn=function(){var Re=(0,c.Z)(function*(Xe,Le){return yield Ue.angularFireAuth.signInWithEmailAndPassword(De.email(Xe),Le).then(Qe=>Qe).catch(Qe=>{throw"auth/user-disabled"===Qe.code?new Error("El usuario ha sido deshabilitado."):"auth/user-not-found"===Qe.code?new Error("No existe un usuario con estos datos."):new Error("Datos incorrectos.")})});return function(Xe,Le){return Re.apply(this,arguments)}}(),this.signUp=function(){var Re=(0,c.Z)(function*(Xe,Le){return yield Ue.angularFireAuth.createUserWithEmailAndPassword(De.email(Xe),Le).then(Qe=>Qe).catch(Qe=>{throw"auth/operation-not-allowed"===Qe.code?new Error("Lo siento, hubo un error interno. Vuelva a intentarlo mas tarde."):"auth/email-already-in-use"===Qe.code?new Error("El mail ingresado, ya pertenece a un usuario existente."):new Error("Mal formato de datos.")})});return function(Xe,Le){return Re.apply(this,arguments)}}(),this.signOut=(0,c.Z)(function*(){yield Ue.angularFireAuth.signOut()}),this.signUpWithGoogle=(0,c.Z)(function*(){const Re=new y.Z.auth.GoogleAuthProvider;return Re.addScope("profile"),Re.addScope("email"),yield Ue.signUpWithProvider(Re)}),this.signUpWithProvider=function(){var Re=(0,c.Z)(function*(Xe){return yield Ue.angularFireAuth.signInWithPopup(Xe).then(Le=>Le).catch(()=>{throw new Error("Operaci\xf3n cancelada.")})});return function(Xe){return Re.apply(this,arguments)}}(),this.userData=Ke.authState}login(Ke,Ue){return this.myUsuario=this.formatNombre(Ke),this.angularFireAuth.signInWithEmailAndPassword(Ke,Ue)}formatNombre(Ke){if(""!=Ke&&null!=Ke){const Ue=Ke.substring(0,Ke.indexOf("@"));return Ue.charAt(0).toUpperCase()+Ue.slice(1)}return""}obtenerUsuario(){return this.angularFireAuth.currentUser}getUser(){return"123456"}}return be.\u0275fac=function(Ke){return new(Ke||be)(ze.LFG(dt.zQ))},be.\u0275prov=ze.Yz7({token:be,factory:be.\u0275fac,providedIn:"root"}),be})()},6021:(Ii,ln,Y)=>{"use strict";var c=Y(6550),y=Y(2223),De=Y(5559),ze=Y(2673),dt=Y(9460),Ye=Y(3977),be=Y(8209);function Re(oe,a,P,X){return oe.params.createElements&&Object.keys(X).forEach(de=>{if(!P[de]&&!0===P.auto){let xe=(0,be.e)(oe.el,`.${X[de]}`)[0];xe||(xe=(0,be.c)("div",X[de]),xe.className=X[de],oe.el.append(xe)),P[de]=xe,a[de]=xe}}),P}function Le(oe){return void 0===oe&&(oe=""),`.${oe.trim().replace(/([\.:!+\/])/g,"\\$1").replace(/ /g,".")}`}function se(oe){const a=this,{params:P,slidesEl:X}=a;P.loop&&a.loopDestroy();const de=xe=>{if("string"==typeof xe){const je=document.createElement("div");je.innerHTML=xe,X.append(je.children[0]),je.innerHTML=""}else X.append(xe)};if("object"==typeof oe&&"length"in oe)for(let xe=0;xe<oe.length;xe+=1)oe[xe]&&de(oe[xe]);else de(oe);a.recalcSlides(),P.loop&&a.loopCreate(),(!P.observer||a.isElement)&&a.update()}function Vt(oe){const a=this,{params:P,activeIndex:X,slidesEl:de}=a;P.loop&&a.loopDestroy();let xe=X+1;const je=at=>{if("string"==typeof at){const lt=document.createElement("div");lt.innerHTML=at,de.prepend(lt.children[0]),lt.innerHTML=""}else de.prepend(at)};if("object"==typeof oe&&"length"in oe){for(let at=0;at<oe.length;at+=1)oe[at]&&je(oe[at]);xe=X+oe.length}else je(oe);a.recalcSlides(),P.loop&&a.loopCreate(),(!P.observer||a.isElement)&&a.update(),a.slideTo(xe,0,!1)}function Tt(oe,a){const P=this,{params:X,activeIndex:de,slidesEl:xe}=P;let je=de;X.loop&&(je-=P.loopedSlides,P.loopDestroy(),P.recalcSlides());const at=P.slides.length;if(oe<=0)return void P.prependSlide(a);if(oe>=at)return void P.appendSlide(a);let lt=je>oe?je+1:je;const yt=[];for(let vt=at-1;vt>=oe;vt-=1){const pt=P.slides[vt];pt.remove(),yt.unshift(pt)}if("object"==typeof a&&"length"in a){for(let vt=0;vt<a.length;vt+=1)a[vt]&&xe.append(a[vt]);lt=je>oe?je+a.length:je}else xe.append(a);for(let vt=0;vt<yt.length;vt+=1)xe.append(yt[vt]);P.recalcSlides(),X.loop&&P.loopCreate(),(!X.observer||P.isElement)&&P.update(),P.slideTo(X.loop?lt+P.loopedSlides:lt,0,!1)}function tn(oe){const a=this,{params:P,activeIndex:X}=a;let de=X;P.loop&&(de-=a.loopedSlides,a.loopDestroy());let je,xe=de;if("object"==typeof oe&&"length"in oe){for(let at=0;at<oe.length;at+=1)je=oe[at],a.slides[je]&&a.slides[je].remove(),je<xe&&(xe-=1);xe=Math.max(xe,0)}else je=oe,a.slides[je]&&a.slides[je].remove(),je<xe&&(xe-=1),xe=Math.max(xe,0);a.recalcSlides(),P.loop&&a.loopCreate(),(!P.observer||a.isElement)&&a.update(),a.slideTo(P.loop?xe+a.loopedSlides:xe,0,!1)}function dn(){const oe=this,a=[];for(let P=0;P<oe.slides.length;P+=1)a.push(P);oe.removeSlide(a)}function et(oe){const{effect:a,swiper:P,on:X,setTranslate:de,setTransition:xe,overwriteParams:je,perspective:at,recreateShadows:lt,getEffectParams:yt}=oe;let vt;X("beforeInit",()=>{if(P.params.effect!==a)return;P.classNames.push(`${P.params.containerModifierClass}${a}`),at&&at()&&P.classNames.push(`${P.params.containerModifierClass}3d`);const pt=je?je():{};Object.assign(P.params,pt),Object.assign(P.originalParams,pt)}),X("setTranslate",()=>{P.params.effect===a&&de()}),X("setTransition",(pt,Ct)=>{P.params.effect===a&&xe(Ct)}),X("transitionEnd",()=>{if(P.params.effect===a&&lt){if(!yt||!yt().slideShadows)return;P.slides.forEach(pt=>{pt.querySelectorAll(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").forEach(Ct=>Ct.remove())}),lt()}}),X("virtualUpdate",()=>{P.params.effect===a&&(P.slides.length||(vt=!0),requestAnimationFrame(()=>{vt&&P.slides&&P.slides.length&&(de(),vt=!1)}))})}function wt(oe,a){const P=(0,be.l)(a);return P!==a&&(P.style.backfaceVisibility="hidden",P.style["-webkit-backface-visibility"]="hidden"),P}function Ot(oe){let{swiper:a,duration:P,transformElements:X,allSlides:de}=oe;const{activeIndex:xe}=a;if(a.params.virtualTranslate&&0!==P){let lt,at=!1;lt=de?X:X.filter(yt=>{const vt=yt.classList.contains("swiper-slide-transform")?(at=>at.parentElement?at.parentElement:a.slides.filter(yt=>yt.shadowRoot&&yt.shadowRoot===at.parentNode)[0])(yt):yt;return a.getSlideIndex(vt)===xe}),lt.forEach(yt=>{(0,be.j)(yt,()=>{if(at||!a||a.destroyed)return;at=!0,a.animating=!1;const vt=new window.CustomEvent("transitionend",{bubbles:!0,cancelable:!0});a.wrapperEl.dispatchEvent(vt)})})}}function Et(oe,a,P){const X=`swiper-slide-shadow${P?`-${P}`:""}${oe?` swiper-slide-shadow-${oe}`:""}`,de=(0,be.l)(a);let xe=de.querySelector(`.${X.split(" ").join(".")}`);return xe||(xe=(0,be.c)("div",X.split(" ")),de.append(xe)),xe}dt.S.use([function $e(oe){let xe,{swiper:a,extendParams:P,on:X,emit:de}=oe;P({virtual:{enabled:!1,slides:[],cache:!0,renderSlide:null,renderExternal:null,renderExternalUpdate:!0,addSlidesBefore:0,addSlidesAfter:0}});const je=(0,Ye.g)();a.virtual={cache:{},from:void 0,to:void 0,slides:[],offset:0,slidesGrid:[]};const at=je.createElement("div");function lt(pn,Xt){const Zt=a.params.virtual;if(Zt.cache&&a.virtual.cache[Xt])return a.virtual.cache[Xt];let Cn;return Zt.renderSlide?(Cn=Zt.renderSlide.call(a,pn,Xt),"string"==typeof Cn&&(at.innerHTML=Cn,Cn=at.children[0])):Cn=a.isElement?(0,be.c)("swiper-slide"):(0,be.c)("div",a.params.slideClass),Cn.setAttribute("data-swiper-slide-index",Xt),Zt.renderSlide||(Cn.innerHTML=pn),Zt.cache&&(a.virtual.cache[Xt]=Cn),Cn}function yt(pn){const{slidesPerView:Xt,slidesPerGroup:Zt,centeredSlides:Cn,loop:Qt}=a.params,{addSlidesBefore:Ht,addSlidesAfter:$n}=a.params.virtual,{from:xi,to:Si,slides:lr,slidesGrid:Qi,offset:Pi}=a.virtual;a.params.cssMode||a.updateActiveIndex();const br=a.activeIndex||0;let xr,gi,ci;xr=a.rtlTranslate?"right":a.isHorizontal()?"left":"top",Cn?(gi=Math.floor(Xt/2)+Zt+$n,ci=Math.floor(Xt/2)+Zt+Ht):(gi=Xt+(Zt-1)+$n,ci=(Qt?Xt:Zt)+Ht);let bn=br-ci,Qn=br+gi;Qt||(bn=Math.max(bn,0),Qn=Math.min(Qn,lr.length-1));let Jn=(a.slidesGrid[bn]||0)-(a.slidesGrid[0]||0);function Hn(){a.updateSlides(),a.updateProgress(),a.updateSlidesClasses(),de("virtualUpdate")}if(Qt&&br>=ci?(bn-=ci,Cn||(Jn+=a.slidesGrid[0])):Qt&&br<ci&&(bn=-ci,Cn&&(Jn+=a.slidesGrid[0])),Object.assign(a.virtual,{from:bn,to:Qn,offset:Jn,slidesGrid:a.slidesGrid,slidesBefore:ci,slidesAfter:gi}),xi===bn&&Si===Qn&&!pn)return a.slidesGrid!==Qi&&Jn!==Pi&&a.slides.forEach(Ss=>{Ss.style[xr]=Jn-Math.abs(a.cssOverflowAdjustment())+"px"}),a.updateProgress(),void de("virtualUpdate");if(a.params.virtual.renderExternal)return a.params.virtual.renderExternal.call(a,{offset:Jn,from:bn,to:Qn,slides:function(){const Ls=[];for(let Ja=bn;Ja<=Qn;Ja+=1)Ls.push(lr[Ja]);return Ls}()}),void(a.params.virtual.renderExternalUpdate?Hn():de("virtualUpdate"));const Un=[],ei=[],es=Ss=>{let Ls=Ss;return Ss<0?Ls=lr.length+Ss:Ls>=lr.length&&(Ls-=lr.length),Ls};if(pn)a.slides.filter(Ss=>Ss.matches(`.${a.params.slideClass}, swiper-slide`)).forEach(Ss=>{Ss.remove()});else for(let Ss=xi;Ss<=Si;Ss+=1)if(Ss<bn||Ss>Qn){const Ls=es(Ss);a.slides.filter(Ja=>Ja.matches(`.${a.params.slideClass}[data-swiper-slide-index="${Ls}"], swiper-slide[data-swiper-slide-index="${Ls}"]`)).forEach(Ja=>{Ja.remove()})}const ua=Qt?2*lr.length:lr.length;for(let Ss=Qt?-lr.length:0;Ss<ua;Ss+=1)if(Ss>=bn&&Ss<=Qn){const Ls=es(Ss);typeof Si>"u"||pn?ei.push(Ls):(Ss>Si&&ei.push(Ls),Ss<xi&&Un.push(Ls))}if(ei.forEach(Ss=>{a.slidesEl.append(lt(lr[Ss],Ss))}),Qt)for(let Ss=Un.length-1;Ss>=0;Ss-=1){const Ls=Un[Ss];a.slidesEl.prepend(lt(lr[Ls],Ls))}else Un.sort((Ss,Ls)=>Ls-Ss),Un.forEach(Ss=>{a.slidesEl.prepend(lt(lr[Ss],Ss))});(0,be.e)(a.slidesEl,".swiper-slide, swiper-slide").forEach(Ss=>{Ss.style[xr]=Jn-Math.abs(a.cssOverflowAdjustment())+"px"}),Hn()}X("beforeInit",()=>{if(!a.params.virtual.enabled)return;let pn;if(typeof a.passedParams.virtual.slides>"u"){const Xt=[...a.slidesEl.children].filter(Zt=>Zt.matches(`.${a.params.slideClass}, swiper-slide`));Xt&&Xt.length&&(a.virtual.slides=[...Xt],pn=!0,Xt.forEach((Zt,Cn)=>{Zt.setAttribute("data-swiper-slide-index",Cn),a.virtual.cache[Cn]=Zt,Zt.remove()}))}pn||(a.virtual.slides=a.params.virtual.slides),a.classNames.push(`${a.params.containerModifierClass}virtual`),a.params.watchSlidesProgress=!0,a.originalParams.watchSlidesProgress=!0,yt()}),X("setTranslate",()=>{a.params.virtual.enabled&&(a.params.cssMode&&!a._immediateVirtual?(clearTimeout(xe),xe=setTimeout(()=>{yt()},100)):yt())}),X("init update resize",()=>{a.params.virtual.enabled&&a.params.cssMode&&(0,be.s)(a.wrapperEl,"--swiper-virtual-size",`${a.virtualSize}px`)}),Object.assign(a.virtual,{appendSlide:function vt(pn){if("object"==typeof pn&&"length"in pn)for(let Xt=0;Xt<pn.length;Xt+=1)pn[Xt]&&a.virtual.slides.push(pn[Xt]);else a.virtual.slides.push(pn);yt(!0)},prependSlide:function pt(pn){const Xt=a.activeIndex;let Zt=Xt+1,Cn=1;if(Array.isArray(pn)){for(let Qt=0;Qt<pn.length;Qt+=1)pn[Qt]&&a.virtual.slides.unshift(pn[Qt]);Zt=Xt+pn.length,Cn=pn.length}else a.virtual.slides.unshift(pn);if(a.params.virtual.cache){const Qt=a.virtual.cache,Ht={};Object.keys(Qt).forEach($n=>{const xi=Qt[$n],Si=xi.getAttribute("data-swiper-slide-index");Si&&xi.setAttribute("data-swiper-slide-index",parseInt(Si,10)+Cn),Ht[parseInt($n,10)+Cn]=xi}),a.virtual.cache=Ht}yt(!0),a.slideTo(Zt,0)},removeSlide:function Ct(pn){if(typeof pn>"u"||null===pn)return;let Xt=a.activeIndex;if(Array.isArray(pn))for(let Zt=pn.length-1;Zt>=0;Zt-=1)a.params.virtual.cache&&(delete a.virtual.cache[pn[Zt]],Object.keys(a.virtual.cache).forEach(Cn=>{Cn>pn&&(a.virtual.cache[Cn-1]=a.virtual.cache[Cn],a.virtual.cache[Cn-1].setAttribute("data-swiper-slide-index",Cn-1),delete a.virtual.cache[Cn])})),a.virtual.slides.splice(pn[Zt],1),pn[Zt]<Xt&&(Xt-=1),Xt=Math.max(Xt,0);else a.params.virtual.cache&&(delete a.virtual.cache[pn],Object.keys(a.virtual.cache).forEach(Zt=>{Zt>pn&&(a.virtual.cache[Zt-1]=a.virtual.cache[Zt],a.virtual.cache[Zt-1].setAttribute("data-swiper-slide-index",Zt-1),delete a.virtual.cache[Zt])})),a.virtual.slides.splice(pn,1),pn<Xt&&(Xt-=1),Xt=Math.max(Xt,0);yt(!0),a.slideTo(Xt,0)},removeAllSlides:function sn(){a.virtual.slides=[],a.params.virtual.cache&&(a.virtual.cache={}),yt(!0),a.slideTo(0,0)},update:yt})},function Ke(oe){let{swiper:a,extendParams:P,on:X,emit:de}=oe;const xe=(0,Ye.g)(),je=(0,Ye.a)();function at(vt){if(!a.enabled)return;const{rtlTranslate:pt}=a;let Ct=vt;Ct.originalEvent&&(Ct=Ct.originalEvent);const sn=Ct.keyCode||Ct.charCode,pn=a.params.keyboard.pageUpDown,Xt=pn&&33===sn,Zt=pn&&34===sn,Cn=37===sn,Qt=39===sn,Ht=38===sn,$n=40===sn;if(!a.allowSlideNext&&(a.isHorizontal()&&Qt||a.isVertical()&&$n||Zt)||!a.allowSlidePrev&&(a.isHorizontal()&&Cn||a.isVertical()&&Ht||Xt))return!1;if(!(Ct.shiftKey||Ct.altKey||Ct.ctrlKey||Ct.metaKey||xe.activeElement&&xe.activeElement.nodeName&&("input"===xe.activeElement.nodeName.toLowerCase()||"textarea"===xe.activeElement.nodeName.toLowerCase()))){if(a.params.keyboard.onlyInViewport&&(Xt||Zt||Cn||Qt||Ht||$n)){let xi=!1;if((0,be.a)(a.el,`.${a.params.slideClass}, swiper-slide`).length>0&&0===(0,be.a)(a.el,`.${a.params.slideActiveClass}`).length)return;const Si=a.el,lr=Si.clientWidth,Qi=Si.clientHeight,Pi=je.innerWidth,br=je.innerHeight,xr=(0,be.b)(Si);pt&&(xr.left-=Si.scrollLeft);const gi=[[xr.left,xr.top],[xr.left+lr,xr.top],[xr.left,xr.top+Qi],[xr.left+lr,xr.top+Qi]];for(let ci=0;ci<gi.length;ci+=1){const bn=gi[ci];if(bn[0]>=0&&bn[0]<=Pi&&bn[1]>=0&&bn[1]<=br){if(0===bn[0]&&0===bn[1])continue;xi=!0}}if(!xi)return}a.isHorizontal()?((Xt||Zt||Cn||Qt)&&(Ct.preventDefault?Ct.preventDefault():Ct.returnValue=!1),((Zt||Qt)&&!pt||(Xt||Cn)&&pt)&&a.slideNext(),((Xt||Cn)&&!pt||(Zt||Qt)&&pt)&&a.slidePrev()):((Xt||Zt||Ht||$n)&&(Ct.preventDefault?Ct.preventDefault():Ct.returnValue=!1),(Zt||$n)&&a.slideNext(),(Xt||Ht)&&a.slidePrev()),de("keyPress",sn)}}function lt(){a.keyboard.enabled||(xe.addEventListener("keydown",at),a.keyboard.enabled=!0)}function yt(){a.keyboard.enabled&&(xe.removeEventListener("keydown",at),a.keyboard.enabled=!1)}a.keyboard={enabled:!1},P({keyboard:{enabled:!1,onlyInViewport:!0,pageUpDown:!0}}),X("init",()=>{a.params.keyboard.enabled&&lt()}),X("destroy",()=>{a.keyboard.enabled&&yt()}),Object.assign(a.keyboard,{enable:lt,disable:yt})},function Ue(oe){let{swiper:a,extendParams:P,on:X,emit:de}=oe;const xe=(0,Ye.a)();P({mousewheel:{enabled:!1,releaseOnEdges:!1,invert:!1,forceToAxis:!1,sensitivity:1,eventsTarget:"container",thresholdDelta:null,thresholdTime:null,noMousewheelClass:"swiper-no-mousewheel"}}),a.mousewheel={enabled:!1};let je,lt,at=(0,be.d)();const yt=[];function pt(){a.enabled&&(a.mouseEntered=!0)}function Ct(){a.enabled&&(a.mouseEntered=!1)}function sn(Ht){return!(a.params.mousewheel.thresholdDelta&&Ht.delta<a.params.mousewheel.thresholdDelta||a.params.mousewheel.thresholdTime&&(0,be.d)()-at<a.params.mousewheel.thresholdTime)&&(Ht.delta>=6&&(0,be.d)()-at<60||(Ht.direction<0?(!a.isEnd||a.params.loop)&&!a.animating&&(a.slideNext(),de("scroll",Ht.raw)):(!a.isBeginning||a.params.loop)&&!a.animating&&(a.slidePrev(),de("scroll",Ht.raw)),at=(new xe.Date).getTime(),!1))}function Xt(Ht){let $n=Ht,xi=!0;if(!a.enabled||Ht.target.closest(`.${a.params.mousewheel.noMousewheelClass}`))return;const Si=a.params.mousewheel;a.params.cssMode&&$n.preventDefault();let lr=a.el;"container"!==a.params.mousewheel.eventsTarget&&(lr=document.querySelector(a.params.mousewheel.eventsTarget));const Qi=lr&&lr.contains($n.target);if(!a.mouseEntered&&!Qi&&!Si.releaseOnEdges)return!0;$n.originalEvent&&($n=$n.originalEvent);let Pi=0;const br=a.rtlTranslate?-1:1,xr=function vt(Ht){let lr=0,Qi=0,Pi=0,br=0;return"detail"in Ht&&(Qi=Ht.detail),"wheelDelta"in Ht&&(Qi=-Ht.wheelDelta/120),"wheelDeltaY"in Ht&&(Qi=-Ht.wheelDeltaY/120),"wheelDeltaX"in Ht&&(lr=-Ht.wheelDeltaX/120),"axis"in Ht&&Ht.axis===Ht.HORIZONTAL_AXIS&&(lr=Qi,Qi=0),Pi=10*lr,br=10*Qi,"deltaY"in Ht&&(br=Ht.deltaY),"deltaX"in Ht&&(Pi=Ht.deltaX),Ht.shiftKey&&!Pi&&(Pi=br,br=0),(Pi||br)&&Ht.deltaMode&&(1===Ht.deltaMode?(Pi*=40,br*=40):(Pi*=800,br*=800)),Pi&&!lr&&(lr=Pi<1?-1:1),br&&!Qi&&(Qi=br<1?-1:1),{spinX:lr,spinY:Qi,pixelX:Pi,pixelY:br}}($n);if(Si.forceToAxis)if(a.isHorizontal()){if(!(Math.abs(xr.pixelX)>Math.abs(xr.pixelY)))return!0;Pi=-xr.pixelX*br}else{if(!(Math.abs(xr.pixelY)>Math.abs(xr.pixelX)))return!0;Pi=-xr.pixelY}else Pi=Math.abs(xr.pixelX)>Math.abs(xr.pixelY)?-xr.pixelX*br:-xr.pixelY;if(0===Pi)return!0;Si.invert&&(Pi=-Pi);let gi=a.getTranslate()+Pi*Si.sensitivity;if(gi>=a.minTranslate()&&(gi=a.minTranslate()),gi<=a.maxTranslate()&&(gi=a.maxTranslate()),xi=!!a.params.loop||!(gi===a.minTranslate()||gi===a.maxTranslate()),xi&&a.params.nested&&$n.stopPropagation(),a.params.freeMode&&a.params.freeMode.enabled){const ci={time:(0,be.d)(),delta:Math.abs(Pi),direction:Math.sign(Pi)},bn=lt&&ci.time<lt.time+500&&ci.delta<=lt.delta&&ci.direction===lt.direction;if(!bn){lt=void 0;let Qn=a.getTranslate()+Pi*Si.sensitivity;const Jn=a.isBeginning,Hn=a.isEnd;if(Qn>=a.minTranslate()&&(Qn=a.minTranslate()),Qn<=a.maxTranslate()&&(Qn=a.maxTranslate()),a.setTransition(0),a.setTranslate(Qn),a.updateProgress(),a.updateActiveIndex(),a.updateSlidesClasses(),(!Jn&&a.isBeginning||!Hn&&a.isEnd)&&a.updateSlidesClasses(),a.params.loop&&a.loopFix({direction:ci.direction<0?"next":"prev",byMousewheel:!0}),a.params.freeMode.sticky){clearTimeout(je),je=void 0,yt.length>=15&&yt.shift();const Un=yt.length?yt[yt.length-1]:void 0,ei=yt[0];if(yt.push(ci),Un&&(ci.delta>Un.delta||ci.direction!==Un.direction))yt.splice(0);else if(yt.length>=15&&ci.time-ei.time<500&&ei.delta-ci.delta>=1&&ci.delta<=6){const es=Pi>0?.8:.2;lt=ci,yt.splice(0),je=(0,be.n)(()=>{a.slideToClosest(a.params.speed,!0,void 0,es)},0)}je||(je=(0,be.n)(()=>{lt=ci,yt.splice(0),a.slideToClosest(a.params.speed,!0,void 0,.5)},500))}if(bn||de("scroll",$n),a.params.autoplay&&a.params.autoplayDisableOnInteraction&&a.autoplay.stop(),Si.releaseOnEdges&&(Qn===a.minTranslate()||Qn===a.maxTranslate()))return!0}}else{const ci={time:(0,be.d)(),delta:Math.abs(Pi),direction:Math.sign(Pi),raw:Ht};yt.length>=2&&yt.shift();const bn=yt.length?yt[yt.length-1]:void 0;if(yt.push(ci),bn?(ci.direction!==bn.direction||ci.delta>bn.delta||ci.time>bn.time+150)&&sn(ci):sn(ci),function pn(Ht){const $n=a.params.mousewheel;if(Ht.direction<0){if(a.isEnd&&!a.params.loop&&$n.releaseOnEdges)return!0}else if(a.isBeginning&&!a.params.loop&&$n.releaseOnEdges)return!0;return!1}(ci))return!0}return $n.preventDefault?$n.preventDefault():$n.returnValue=!1,!1}function Zt(Ht){let $n=a.el;"container"!==a.params.mousewheel.eventsTarget&&($n=document.querySelector(a.params.mousewheel.eventsTarget)),$n[Ht]("mouseenter",pt),$n[Ht]("mouseleave",Ct),$n[Ht]("wheel",Xt)}function Cn(){return a.params.cssMode?(a.wrapperEl.removeEventListener("wheel",Xt),!0):!a.mousewheel.enabled&&(Zt("addEventListener"),a.mousewheel.enabled=!0,!0)}function Qt(){return a.params.cssMode?(a.wrapperEl.addEventListener(event,Xt),!0):!!a.mousewheel.enabled&&(Zt("removeEventListener"),a.mousewheel.enabled=!1,!0)}X("init",()=>{!a.params.mousewheel.enabled&&a.params.cssMode&&Qt(),a.params.mousewheel.enabled&&Cn()}),X("destroy",()=>{a.params.cssMode&&Cn(),a.mousewheel.enabled&&Qt()}),Object.assign(a.mousewheel,{enable:Cn,disable:Qt})},function Xe(oe){let{swiper:a,extendParams:P,on:X,emit:de}=oe;P({navigation:{nextEl:null,prevEl:null,hideOnClick:!1,disabledClass:"swiper-button-disabled",hiddenClass:"swiper-button-hidden",lockClass:"swiper-button-lock",navigationDisabledClass:"swiper-navigation-disabled"}}),a.navigation={nextEl:null,prevEl:null};const xe=Xt=>(Array.isArray(Xt)?Xt:[Xt]).filter(Zt=>!!Zt);function je(Xt){let Zt;return Xt&&"string"==typeof Xt&&a.isElement&&(Zt=a.el.querySelector(Xt),Zt)?Zt:(Xt&&("string"==typeof Xt&&(Zt=[...document.querySelectorAll(Xt)]),a.params.uniqueNavElements&&"string"==typeof Xt&&Zt.length>1&&1===a.el.querySelectorAll(Xt).length&&(Zt=a.el.querySelector(Xt))),Xt&&!Zt?Xt:Zt)}function at(Xt,Zt){const Cn=a.params.navigation;(Xt=xe(Xt)).forEach(Qt=>{Qt&&(Qt.classList[Zt?"add":"remove"](...Cn.disabledClass.split(" ")),"BUTTON"===Qt.tagName&&(Qt.disabled=Zt),a.params.watchOverflow&&a.enabled&&Qt.classList[a.isLocked?"add":"remove"](Cn.lockClass))})}function lt(){const{nextEl:Xt,prevEl:Zt}=a.navigation;if(a.params.loop)return at(Zt,!1),void at(Xt,!1);at(Zt,a.isBeginning&&!a.params.rewind),at(Xt,a.isEnd&&!a.params.rewind)}function yt(Xt){Xt.preventDefault(),(!a.isBeginning||a.params.loop||a.params.rewind)&&(a.slidePrev(),de("navigationPrev"))}function vt(Xt){Xt.preventDefault(),(!a.isEnd||a.params.loop||a.params.rewind)&&(a.slideNext(),de("navigationNext"))}function pt(){const Xt=a.params.navigation;if(a.params.navigation=Re(a,a.originalParams.navigation,a.params.navigation,{nextEl:"swiper-button-next",prevEl:"swiper-button-prev"}),!Xt.nextEl&&!Xt.prevEl)return;let Zt=je(Xt.nextEl),Cn=je(Xt.prevEl);Object.assign(a.navigation,{nextEl:Zt,prevEl:Cn}),Zt=xe(Zt),Cn=xe(Cn);const Qt=(Ht,$n)=>{Ht&&Ht.addEventListener("click","next"===$n?vt:yt),!a.enabled&&Ht&&Ht.classList.add(...Xt.lockClass.split(" "))};Zt.forEach(Ht=>Qt(Ht,"next")),Cn.forEach(Ht=>Qt(Ht,"prev"))}function Ct(){let{nextEl:Xt,prevEl:Zt}=a.navigation;Xt=xe(Xt),Zt=xe(Zt);const Cn=(Qt,Ht)=>{Qt.removeEventListener("click","next"===Ht?vt:yt),Qt.classList.remove(...a.params.navigation.disabledClass.split(" "))};Xt.forEach(Qt=>Cn(Qt,"next")),Zt.forEach(Qt=>Cn(Qt,"prev"))}X("init",()=>{!1===a.params.navigation.enabled?pn():(pt(),lt())}),X("toEdge fromEdge lock unlock",()=>{lt()}),X("destroy",()=>{Ct()}),X("enable disable",()=>{let{nextEl:Xt,prevEl:Zt}=a.navigation;Xt=xe(Xt),Zt=xe(Zt),a.enabled?lt():[...Xt,...Zt].filter(Cn=>!!Cn).forEach(Cn=>Cn.classList.add(a.params.navigation.lockClass))}),X("click",(Xt,Zt)=>{let{nextEl:Cn,prevEl:Qt}=a.navigation;Cn=xe(Cn),Qt=xe(Qt);const Ht=Zt.target;if(a.params.navigation.hideOnClick&&!Qt.includes(Ht)&&!Cn.includes(Ht)){if(a.pagination&&a.params.pagination&&a.params.pagination.clickable&&(a.pagination.el===Ht||a.pagination.el.contains(Ht)))return;let $n;Cn.length?$n=Cn[0].classList.contains(a.params.navigation.hiddenClass):Qt.length&&($n=Qt[0].classList.contains(a.params.navigation.hiddenClass)),de(!0===$n?"navigationShow":"navigationHide"),[...Cn,...Qt].filter(xi=>!!xi).forEach(xi=>xi.classList.toggle(a.params.navigation.hiddenClass))}});const pn=()=>{a.el.classList.add(...a.params.navigation.navigationDisabledClass.split(" ")),Ct()};Object.assign(a.navigation,{enable:()=>{a.el.classList.remove(...a.params.navigation.navigationDisabledClass.split(" ")),pt(),lt()},disable:pn,update:lt,init:pt,destroy:Ct})},function Qe(oe){let{swiper:a,extendParams:P,on:X,emit:de}=oe;const xe="swiper-pagination";P({pagination:{el:null,bulletElement:"span",clickable:!1,hideOnClick:!1,renderBullet:null,renderProgressbar:null,renderFraction:null,renderCustom:null,progressbarOpposite:!1,type:"bullets",dynamicBullets:!1,dynamicMainBullets:1,formatFractionCurrent:Qt=>Qt,formatFractionTotal:Qt=>Qt,bulletClass:`${xe}-bullet`,bulletActiveClass:`${xe}-bullet-active`,modifierClass:`${xe}-`,currentClass:`${xe}-current`,totalClass:`${xe}-total`,hiddenClass:`${xe}-hidden`,progressbarFillClass:`${xe}-progressbar-fill`,progressbarOppositeClass:`${xe}-progressbar-opposite`,clickableClass:`${xe}-clickable`,lockClass:`${xe}-lock`,horizontalClass:`${xe}-horizontal`,verticalClass:`${xe}-vertical`,paginationDisabledClass:`${xe}-disabled`}}),a.pagination={el:null,bullets:[]};let je,at=0;const lt=Qt=>(Array.isArray(Qt)?Qt:[Qt]).filter(Ht=>!!Ht);function yt(){return!a.params.pagination.el||!a.pagination.el||Array.isArray(a.pagination.el)&&0===a.pagination.el.length}function vt(Qt,Ht){const{bulletActiveClass:$n}=a.params.pagination;Qt&&(Qt=Qt[("prev"===Ht?"previous":"next")+"ElementSibling"])&&(Qt.classList.add(`${$n}-${Ht}`),(Qt=Qt[("prev"===Ht?"previous":"next")+"ElementSibling"])&&Qt.classList.add(`${$n}-${Ht}-${Ht}`))}function pt(Qt){const Ht=Qt.target.closest(Le(a.params.pagination.bulletClass));if(!Ht)return;Qt.preventDefault();const $n=(0,be.g)(Ht)*a.params.slidesPerGroup;if(a.params.loop){if(a.realIndex===$n)return;a.slideToLoop($n)}else a.slideTo($n)}function Ct(){const Qt=a.rtl,Ht=a.params.pagination;if(yt())return;let xi,Si,$n=a.pagination.el;$n=lt($n);const Qi=a.params.loop?Math.ceil((a.virtual&&a.params.virtual.enabled?a.virtual.slides.length:a.slides.length)/a.params.slidesPerGroup):a.snapGrid.length;if(a.params.loop?(Si=a.previousRealIndex||0,xi=a.params.slidesPerGroup>1?Math.floor(a.realIndex/a.params.slidesPerGroup):a.realIndex):typeof a.snapIndex<"u"?(xi=a.snapIndex,Si=a.previousSnapIndex):(Si=a.previousIndex||0,xi=a.activeIndex||0),"bullets"===Ht.type&&a.pagination.bullets&&a.pagination.bullets.length>0){const Pi=a.pagination.bullets;let br,xr,gi;if(Ht.dynamicBullets&&(je=(0,be.f)(Pi[0],a.isHorizontal()?"width":"height",!0),$n.forEach(ci=>{ci.style[a.isHorizontal()?"width":"height"]=je*(Ht.dynamicMainBullets+4)+"px"}),Ht.dynamicMainBullets>1&&void 0!==Si&&(at+=xi-(Si||0),at>Ht.dynamicMainBullets-1?at=Ht.dynamicMainBullets-1:at<0&&(at=0)),br=Math.max(xi-at,0),xr=br+(Math.min(Pi.length,Ht.dynamicMainBullets)-1),gi=(xr+br)/2),Pi.forEach(ci=>{const bn=[...["","-next","-next-next","-prev","-prev-prev","-main"].map(Qn=>`${Ht.bulletActiveClass}${Qn}`)].map(Qn=>"string"==typeof Qn&&Qn.includes(" ")?Qn.split(" "):Qn).flat();ci.classList.remove(...bn)}),$n.length>1)Pi.forEach(ci=>{const bn=(0,be.g)(ci);bn===xi?ci.classList.add(...Ht.bulletActiveClass.split(" ")):a.isElement&&ci.setAttribute("part","bullet"),Ht.dynamicBullets&&(bn>=br&&bn<=xr&&ci.classList.add(...`${Ht.bulletActiveClass}-main`.split(" ")),bn===br&&vt(ci,"prev"),bn===xr&&vt(ci,"next"))});else{const ci=Pi[xi];if(ci&&ci.classList.add(...Ht.bulletActiveClass.split(" ")),a.isElement&&Pi.forEach((bn,Qn)=>{bn.setAttribute("part",Qn===xi?"bullet-active":"bullet")}),Ht.dynamicBullets){const bn=Pi[br],Qn=Pi[xr];for(let Jn=br;Jn<=xr;Jn+=1)Pi[Jn]&&Pi[Jn].classList.add(...`${Ht.bulletActiveClass}-main`.split(" "));vt(bn,"prev"),vt(Qn,"next")}}if(Ht.dynamicBullets){const ci=Math.min(Pi.length,Ht.dynamicMainBullets+4),bn=(je*ci-je)/2-gi*je,Qn=Qt?"right":"left";Pi.forEach(Jn=>{Jn.style[a.isHorizontal()?Qn:"top"]=`${bn}px`})}}$n.forEach((Pi,br)=>{if("fraction"===Ht.type&&(Pi.querySelectorAll(Le(Ht.currentClass)).forEach(xr=>{xr.textContent=Ht.formatFractionCurrent(xi+1)}),Pi.querySelectorAll(Le(Ht.totalClass)).forEach(xr=>{xr.textContent=Ht.formatFractionTotal(Qi)})),"progressbar"===Ht.type){let xr;xr=Ht.progressbarOpposite?a.isHorizontal()?"vertical":"horizontal":a.isHorizontal()?"horizontal":"vertical";const gi=(xi+1)/Qi;let ci=1,bn=1;"horizontal"===xr?ci=gi:bn=gi,Pi.querySelectorAll(Le(Ht.progressbarFillClass)).forEach(Qn=>{Qn.style.transform=`translate3d(0,0,0) scaleX(${ci}) scaleY(${bn})`,Qn.style.transitionDuration=`${a.params.speed}ms`})}"custom"===Ht.type&&Ht.renderCustom?(Pi.innerHTML=Ht.renderCustom(a,xi+1,Qi),0===br&&de("paginationRender",Pi)):(0===br&&de("paginationRender",Pi),de("paginationUpdate",Pi)),a.params.watchOverflow&&a.enabled&&Pi.classList[a.isLocked?"add":"remove"](Ht.lockClass)})}function sn(){const Qt=a.params.pagination;if(yt())return;const Ht=a.virtual&&a.params.virtual.enabled?a.virtual.slides.length:a.grid&&a.params.grid.rows>1?a.slides.length/Math.ceil(a.params.grid.rows):a.slides.length;let $n=a.pagination.el;$n=lt($n);let xi="";if("bullets"===Qt.type){let Si=a.params.loop?Math.ceil(Ht/a.params.slidesPerGroup):a.snapGrid.length;a.params.freeMode&&a.params.freeMode.enabled&&Si>Ht&&(Si=Ht);for(let lr=0;lr<Si;lr+=1)xi+=Qt.renderBullet?Qt.renderBullet.call(a,lr,Qt.bulletClass):`<${Qt.bulletElement} ${a.isElement?'part="bullet"':""} class="${Qt.bulletClass}"></${Qt.bulletElement}>`}"fraction"===Qt.type&&(xi=Qt.renderFraction?Qt.renderFraction.call(a,Qt.currentClass,Qt.totalClass):`<span class="${Qt.currentClass}"></span> / <span class="${Qt.totalClass}"></span>`),"progressbar"===Qt.type&&(xi=Qt.renderProgressbar?Qt.renderProgressbar.call(a,Qt.progressbarFillClass):`<span class="${Qt.progressbarFillClass}"></span>`),a.pagination.bullets=[],$n.forEach(Si=>{"custom"!==Qt.type&&(Si.innerHTML=xi||""),"bullets"===Qt.type&&a.pagination.bullets.push(...Si.querySelectorAll(Le(Qt.bulletClass)))}),"custom"!==Qt.type&&de("paginationRender",$n[0])}function pn(){a.params.pagination=Re(a,a.originalParams.pagination,a.params.pagination,{el:"swiper-pagination"});const Qt=a.params.pagination;if(!Qt.el)return;let Ht;"string"==typeof Qt.el&&a.isElement&&(Ht=a.el.querySelector(Qt.el)),!Ht&&"string"==typeof Qt.el&&(Ht=[...document.querySelectorAll(Qt.el)]),Ht||(Ht=Qt.el),Ht&&0!==Ht.length&&(a.params.uniqueNavElements&&"string"==typeof Qt.el&&Array.isArray(Ht)&&Ht.length>1&&(Ht=[...a.el.querySelectorAll(Qt.el)],Ht.length>1&&(Ht=Ht.filter($n=>(0,be.a)($n,".swiper")[0]===a.el)[0])),Array.isArray(Ht)&&1===Ht.length&&(Ht=Ht[0]),Object.assign(a.pagination,{el:Ht}),Ht=lt(Ht),Ht.forEach($n=>{"bullets"===Qt.type&&Qt.clickable&&$n.classList.add(...(Qt.clickableClass||"").split(" ")),$n.classList.add(Qt.modifierClass+Qt.type),$n.classList.add(a.isHorizontal()?Qt.horizontalClass:Qt.verticalClass),"bullets"===Qt.type&&Qt.dynamicBullets&&($n.classList.add(`${Qt.modifierClass}${Qt.type}-dynamic`),at=0,Qt.dynamicMainBullets<1&&(Qt.dynamicMainBullets=1)),"progressbar"===Qt.type&&Qt.progressbarOpposite&&$n.classList.add(Qt.progressbarOppositeClass),Qt.clickable&&$n.addEventListener("click",pt),a.enabled||$n.classList.add(Qt.lockClass)}))}function Xt(){const Qt=a.params.pagination;if(yt())return;let Ht=a.pagination.el;Ht&&(Ht=lt(Ht),Ht.forEach($n=>{$n.classList.remove(Qt.hiddenClass),$n.classList.remove(Qt.modifierClass+Qt.type),$n.classList.remove(a.isHorizontal()?Qt.horizontalClass:Qt.verticalClass),Qt.clickable&&($n.classList.remove(...(Qt.clickableClass||"").split(" ")),$n.removeEventListener("click",pt))})),a.pagination.bullets&&a.pagination.bullets.forEach($n=>$n.classList.remove(...Qt.bulletActiveClass.split(" ")))}X("changeDirection",()=>{if(!a.pagination||!a.pagination.el)return;const Qt=a.params.pagination;let{el:Ht}=a.pagination;Ht=lt(Ht),Ht.forEach($n=>{$n.classList.remove(Qt.horizontalClass,Qt.verticalClass),$n.classList.add(a.isHorizontal()?Qt.horizontalClass:Qt.verticalClass)})}),X("init",()=>{!1===a.params.pagination.enabled?Cn():(pn(),sn(),Ct())}),X("activeIndexChange",()=>{typeof a.snapIndex>"u"&&Ct()}),X("snapIndexChange",()=>{Ct()}),X("snapGridLengthChange",()=>{sn(),Ct()}),X("destroy",()=>{Xt()}),X("enable disable",()=>{let{el:Qt}=a.pagination;Qt&&(Qt=lt(Qt),Qt.forEach(Ht=>Ht.classList[a.enabled?"remove":"add"](a.params.pagination.lockClass)))}),X("lock unlock",()=>{Ct()}),X("click",(Qt,Ht)=>{const $n=Ht.target,xi=lt(a.pagination.el);if(a.params.pagination.el&&a.params.pagination.hideOnClick&&xi&&xi.length>0&&!$n.classList.contains(a.params.pagination.bulletClass)){if(a.navigation&&(a.navigation.nextEl&&$n===a.navigation.nextEl||a.navigation.prevEl&&$n===a.navigation.prevEl))return;const Si=xi[0].classList.contains(a.params.pagination.hiddenClass);de(!0===Si?"paginationShow":"paginationHide"),xi.forEach(lr=>lr.classList.toggle(a.params.pagination.hiddenClass))}});const Cn=()=>{a.el.classList.add(a.params.pagination.paginationDisabledClass);let{el:Qt}=a.pagination;Qt&&(Qt=lt(Qt),Qt.forEach(Ht=>Ht.classList.add(a.params.pagination.paginationDisabledClass))),Xt()};Object.assign(a.pagination,{enable:()=>{a.el.classList.remove(a.params.pagination.paginationDisabledClass);let{el:Qt}=a.pagination;Qt&&(Qt=lt(Qt),Qt.forEach(Ht=>Ht.classList.remove(a.params.pagination.paginationDisabledClass))),pn(),sn(),Ct()},disable:Cn,render:sn,update:Ct,init:pn,destroy:Xt})},function At(oe){let{swiper:a,extendParams:P,on:X,emit:de}=oe;const xe=(0,Ye.g)();let yt,vt,pt,Ct,je=!1,at=null,lt=null;function sn(){if(!a.params.scrollbar.el||!a.scrollbar.el)return;const{scrollbar:gi,rtlTranslate:ci}=a,{dragEl:bn,el:Qn}=gi,Jn=a.params.scrollbar;let Un=vt,ei=(pt-vt)*(a.params.loop?a.progressLoop:a.progress);ci?(ei=-ei,ei>0?(Un=vt-ei,ei=0):-ei+vt>pt&&(Un=pt+ei)):ei<0?(Un=vt+ei,ei=0):ei+vt>pt&&(Un=pt-ei),a.isHorizontal()?(bn.style.transform=`translate3d(${ei}px, 0, 0)`,bn.style.width=`${Un}px`):(bn.style.transform=`translate3d(0px, ${ei}px, 0)`,bn.style.height=`${Un}px`),Jn.hide&&(clearTimeout(at),Qn.style.opacity=1,at=setTimeout(()=>{Qn.style.opacity=0,Qn.style.transitionDuration="400ms"},1e3))}function Xt(){if(!a.params.scrollbar.el||!a.scrollbar.el)return;const{scrollbar:gi}=a,{dragEl:ci,el:bn}=gi;ci.style.width="",ci.style.height="",pt=a.isHorizontal()?bn.offsetWidth:bn.offsetHeight,Ct=a.size/(a.virtualSize+a.params.slidesOffsetBefore-(a.params.centeredSlides?a.snapGrid[0]:0)),vt="auto"===a.params.scrollbar.dragSize?pt*Ct:parseInt(a.params.scrollbar.dragSize,10),a.isHorizontal()?ci.style.width=`${vt}px`:ci.style.height=`${vt}px`,bn.style.display=Ct>=1?"none":"",a.params.scrollbar.hide&&(bn.style.opacity=0),a.params.watchOverflow&&a.enabled&&gi.el.classList[a.isLocked?"add":"remove"](a.params.scrollbar.lockClass)}function Zt(gi){return a.isHorizontal()?gi.clientX:gi.clientY}function Cn(gi){const{scrollbar:ci,rtlTranslate:bn}=a,{el:Qn}=ci;let Jn;Jn=(Zt(gi)-(0,be.b)(Qn)[a.isHorizontal()?"left":"top"]-(null!==yt?yt:vt/2))/(pt-vt),Jn=Math.max(Math.min(Jn,1),0),bn&&(Jn=1-Jn);const Hn=a.minTranslate()+(a.maxTranslate()-a.minTranslate())*Jn;a.updateProgress(Hn),a.setTranslate(Hn),a.updateActiveIndex(),a.updateSlidesClasses()}function Qt(gi){const ci=a.params.scrollbar,{scrollbar:bn,wrapperEl:Qn}=a,{el:Jn,dragEl:Hn}=bn;je=!0,yt=gi.target===Hn?Zt(gi)-gi.target.getBoundingClientRect()[a.isHorizontal()?"left":"top"]:null,gi.preventDefault(),gi.stopPropagation(),Qn.style.transitionDuration="100ms",Hn.style.transitionDuration="100ms",Cn(gi),clearTimeout(lt),Jn.style.transitionDuration="0ms",ci.hide&&(Jn.style.opacity=1),a.params.cssMode&&(a.wrapperEl.style["scroll-snap-type"]="none"),de("scrollbarDragStart",gi)}function Ht(gi){const{scrollbar:ci,wrapperEl:bn}=a,{el:Qn,dragEl:Jn}=ci;je&&(gi.preventDefault?gi.preventDefault():gi.returnValue=!1,Cn(gi),bn.style.transitionDuration="0ms",Qn.style.transitionDuration="0ms",Jn.style.transitionDuration="0ms",de("scrollbarDragMove",gi))}function $n(gi){const ci=a.params.scrollbar,{scrollbar:bn,wrapperEl:Qn}=a,{el:Jn}=bn;je&&(je=!1,a.params.cssMode&&(a.wrapperEl.style["scroll-snap-type"]="",Qn.style.transitionDuration=""),ci.hide&&(clearTimeout(lt),lt=(0,be.n)(()=>{Jn.style.opacity=0,Jn.style.transitionDuration="400ms"},1e3)),de("scrollbarDragEnd",gi),ci.snapOnRelease&&a.slideToClosest())}function xi(gi){const{scrollbar:ci,params:bn}=a,Qn=ci.el;if(!Qn)return;const Hn=!!bn.passiveListeners&&{passive:!1,capture:!1},Un=!!bn.passiveListeners&&{passive:!0,capture:!1};if(!Qn)return;const ei="on"===gi?"addEventListener":"removeEventListener";Qn[ei]("pointerdown",Qt,Hn),xe[ei]("pointermove",Ht,Hn),xe[ei]("pointerup",$n,Un)}function Qi(){const{scrollbar:gi,el:ci}=a;a.params.scrollbar=Re(a,a.originalParams.scrollbar,a.params.scrollbar,{el:"swiper-scrollbar"});const bn=a.params.scrollbar;if(!bn.el)return;let Qn,Jn;if("string"==typeof bn.el&&a.isElement&&(Qn=a.el.querySelector(bn.el)),Qn||"string"!=typeof bn.el)Qn||(Qn=bn.el);else if(Qn=xe.querySelectorAll(bn.el),!Qn.length)return;a.params.uniqueNavElements&&"string"==typeof bn.el&&Qn.length>1&&1===ci.querySelectorAll(bn.el).length&&(Qn=ci.querySelector(bn.el)),Qn.length>0&&(Qn=Qn[0]),Qn.classList.add(a.isHorizontal()?bn.horizontalClass:bn.verticalClass),Qn&&(Jn=Qn.querySelector(Le(a.params.scrollbar.dragClass)),Jn||(Jn=(0,be.c)("div",a.params.scrollbar.dragClass),Qn.append(Jn))),Object.assign(gi,{el:Qn,dragEl:Jn}),bn.draggable&&function Si(){!a.params.scrollbar.el||!a.scrollbar.el||xi("on")}(),Qn&&Qn.classList[a.enabled?"remove":"add"](...(0,be.h)(a.params.scrollbar.lockClass))}function Pi(){const gi=a.params.scrollbar,ci=a.scrollbar.el;ci&&ci.classList.remove(...(0,be.h)(a.isHorizontal()?gi.horizontalClass:gi.verticalClass)),function lr(){!a.params.scrollbar.el||!a.scrollbar.el||xi("off")}()}P({scrollbar:{el:null,dragSize:"auto",hide:!1,draggable:!1,snapOnRelease:!0,lockClass:"swiper-scrollbar-lock",dragClass:"swiper-scrollbar-drag",scrollbarDisabledClass:"swiper-scrollbar-disabled",horizontalClass:"swiper-scrollbar-horizontal",verticalClass:"swiper-scrollbar-vertical"}}),a.scrollbar={el:null,dragEl:null},X("init",()=>{!1===a.params.scrollbar.enabled?xr():(Qi(),Xt(),sn())}),X("update resize observerUpdate lock unlock",()=>{Xt()}),X("setTranslate",()=>{sn()}),X("setTransition",(gi,ci)=>{!function pn(gi){!a.params.scrollbar.el||!a.scrollbar.el||(a.scrollbar.dragEl.style.transitionDuration=`${gi}ms`)}(ci)}),X("enable disable",()=>{const{el:gi}=a.scrollbar;gi&&gi.classList[a.enabled?"remove":"add"](...(0,be.h)(a.params.scrollbar.lockClass))}),X("destroy",()=>{Pi()});const xr=()=>{a.el.classList.add(...(0,be.h)(a.params.scrollbar.scrollbarDisabledClass)),a.scrollbar.el&&a.scrollbar.el.classList.add(...(0,be.h)(a.params.scrollbar.scrollbarDisabledClass)),Pi()};Object.assign(a.scrollbar,{enable:()=>{a.el.classList.remove(...(0,be.h)(a.params.scrollbar.scrollbarDisabledClass)),a.scrollbar.el&&a.scrollbar.el.classList.remove(...(0,be.h)(a.params.scrollbar.scrollbarDisabledClass)),Qi(),Xt(),sn()},disable:xr,updateSize:Xt,setTranslate:sn,init:Qi,destroy:Pi})},function an(oe){let{swiper:a,extendParams:P,on:X}=oe;P({parallax:{enabled:!1}});const de="[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y], [data-swiper-parallax-opacity], [data-swiper-parallax-scale]",xe=(lt,yt)=>{const{rtl:vt}=a,pt=vt?-1:1,Ct=lt.getAttribute("data-swiper-parallax")||"0";let sn=lt.getAttribute("data-swiper-parallax-x"),pn=lt.getAttribute("data-swiper-parallax-y");const Xt=lt.getAttribute("data-swiper-parallax-scale"),Zt=lt.getAttribute("data-swiper-parallax-opacity"),Cn=lt.getAttribute("data-swiper-parallax-rotate");if(sn||pn?(sn=sn||"0",pn=pn||"0"):a.isHorizontal()?(sn=Ct,pn="0"):(pn=Ct,sn="0"),sn=sn.indexOf("%")>=0?parseInt(sn,10)*yt*pt+"%":sn*yt*pt+"px",pn=pn.indexOf("%")>=0?parseInt(pn,10)*yt+"%":pn*yt+"px",typeof Zt<"u"&&null!==Zt){const Ht=Zt-(Zt-1)*(1-Math.abs(yt));lt.style.opacity=Ht}let Qt=`translate3d(${sn}, ${pn}, 0px)`;typeof Xt<"u"&&null!==Xt&&(Qt+=` scale(${Xt-(Xt-1)*(1-Math.abs(yt))})`),Cn&&typeof Cn<"u"&&null!==Cn&&(Qt+=` rotate(${Cn*yt*-1}deg)`),lt.style.transform=Qt},je=()=>{const{el:lt,slides:yt,progress:vt,snapGrid:pt}=a,sn=(0,be.e)(lt,de);a.isElement&&sn.push(...(0,be.e)(a.hostEl,de)),sn.forEach(pn=>{xe(pn,vt)}),yt.forEach((pn,Xt)=>{let Zt=pn.progress;a.params.slidesPerGroup>1&&"auto"!==a.params.slidesPerView&&(Zt+=Math.ceil(Xt/2)-vt*(pt.length-1)),Zt=Math.min(Math.max(Zt,-1),1),pn.querySelectorAll(`${de}, [data-swiper-parallax-rotate]`).forEach(Cn=>{xe(Cn,Zt)})})};X("beforeInit",()=>{a.params.parallax.enabled&&(a.params.watchSlidesProgress=!0,a.originalParams.watchSlidesProgress=!0)}),X("init",()=>{a.params.parallax.enabled&&je()}),X("setTranslate",()=>{a.params.parallax.enabled&&je()}),X("setTransition",(lt,yt)=>{a.params.parallax.enabled&&function(lt){void 0===lt&&(lt=a.params.speed);const{el:yt,hostEl:vt}=a,pt=[...yt.querySelectorAll(de)];a.isElement&&pt.push(...vt.querySelectorAll(de)),pt.forEach(Ct=>{let sn=parseInt(Ct.getAttribute("data-swiper-parallax-duration"),10)||lt;0===lt&&(sn=0),Ct.style.transitionDuration=`${sn}ms`})}(yt)})},function nt(oe){let{swiper:a,extendParams:P,on:X,emit:de}=oe;const xe=(0,Ye.a)();P({zoom:{enabled:!1,maxRatio:3,minRatio:1,toggle:!0,containerClass:"swiper-zoom-container",zoomedSlideClass:"swiper-slide-zoomed"}}),a.zoom={enabled:!1};let lt,yt,je=1,at=!1;const vt=[],pt={originX:0,originY:0,slideEl:void 0,slideWidth:void 0,slideHeight:void 0,imageEl:void 0,imageWrapEl:void 0,maxRatio:3},Ct={isTouched:void 0,isMoved:void 0,currentX:void 0,currentY:void 0,minX:void 0,minY:void 0,maxX:void 0,maxY:void 0,width:void 0,height:void 0,startX:void 0,startY:void 0,touchesStart:{},touchesCurrent:{}},sn={x:void 0,y:void 0,prevPositionX:void 0,prevPositionY:void 0,prevTime:void 0};let pn=1;function Xt(){return vt.length<2?1:Math.sqrt((vt[1].pageX-vt[0].pageX)**2+(vt[1].pageY-vt[0].pageY)**2)}function Qt(Hn){const Un=function Cn(){return a.isElement?"swiper-slide":`.${a.params.slideClass}`}();return!!(Hn.target.matches(Un)||a.slides.filter(ei=>ei.contains(Hn.target)).length>0)}function $n(Hn){if("mouse"===Hn.pointerType&&vt.splice(0,vt.length),!Qt(Hn))return;const Un=a.params.zoom;if(lt=!1,yt=!1,vt.push(Hn),!(vt.length<2)){if(lt=!0,pt.scaleStart=Xt(),!pt.slideEl){pt.slideEl=Hn.target.closest(`.${a.params.slideClass}, swiper-slide`),pt.slideEl||(pt.slideEl=a.slides[a.activeIndex]);let ei=pt.slideEl.querySelector(`.${Un.containerClass}`);if(ei&&(ei=ei.querySelectorAll("picture, img, svg, canvas, .swiper-zoom-target")[0]),pt.imageEl=ei,pt.imageWrapEl=ei?(0,be.a)(pt.imageEl,`.${Un.containerClass}`)[0]:void 0,!pt.imageWrapEl)return void(pt.imageEl=void 0);pt.maxRatio=pt.imageWrapEl.getAttribute("data-swiper-zoom")||Un.maxRatio}if(pt.imageEl){const[ei,es]=function Zt(){if(vt.length<2)return{x:null,y:null};const Hn=pt.imageEl.getBoundingClientRect();return[(vt[0].pageX+(vt[1].pageX-vt[0].pageX)/2-Hn.x-xe.scrollX)/je,(vt[0].pageY+(vt[1].pageY-vt[0].pageY)/2-Hn.y-xe.scrollY)/je]}();pt.originX=ei,pt.originY=es,pt.imageEl.style.transitionDuration="0ms"}at=!0}}function xi(Hn){if(!Qt(Hn))return;const Un=a.params.zoom,ei=a.zoom,es=vt.findIndex(ro=>ro.pointerId===Hn.pointerId);es>=0&&(vt[es]=Hn),!(vt.length<2)&&(yt=!0,pt.scaleMove=Xt(),pt.imageEl&&(ei.scale=pt.scaleMove/pt.scaleStart*je,ei.scale>pt.maxRatio&&(ei.scale=pt.maxRatio-1+(ei.scale-pt.maxRatio+1)**.5),ei.scale<Un.minRatio&&(ei.scale=Un.minRatio+1-(Un.minRatio-ei.scale+1)**.5),pt.imageEl.style.transform=`translate3d(0,0,0) scale(${ei.scale})`))}function Si(Hn){if(!Qt(Hn)||"mouse"===Hn.pointerType&&"pointerout"===Hn.type)return;const Un=a.params.zoom,ei=a.zoom,es=vt.findIndex(ro=>ro.pointerId===Hn.pointerId);es>=0&&vt.splice(es,1),lt&&yt&&(lt=!1,yt=!1,pt.imageEl&&(ei.scale=Math.max(Math.min(ei.scale,pt.maxRatio),Un.minRatio),pt.imageEl.style.transitionDuration=`${a.params.speed}ms`,pt.imageEl.style.transform=`translate3d(0,0,0) scale(${ei.scale})`,je=ei.scale,at=!1,ei.scale>1&&pt.slideEl?pt.slideEl.classList.add(`${Un.zoomedSlideClass}`):ei.scale<=1&&pt.slideEl&&pt.slideEl.classList.remove(`${Un.zoomedSlideClass}`),1===ei.scale&&(pt.originX=0,pt.originY=0,pt.slideEl=void 0)))}function Qi(Hn){if(!Qt(Hn)||!function Ht(Hn){const Un=`.${a.params.zoom.containerClass}`;return!!(Hn.target.matches(Un)||[...a.hostEl.querySelectorAll(Un)].filter(ei=>ei.contains(Hn.target)).length>0)}(Hn))return;const Un=a.zoom;if(!pt.imageEl||!Ct.isTouched||!pt.slideEl)return;Ct.isMoved||(Ct.width=pt.imageEl.offsetWidth,Ct.height=pt.imageEl.offsetHeight,Ct.startX=(0,be.i)(pt.imageWrapEl,"x")||0,Ct.startY=(0,be.i)(pt.imageWrapEl,"y")||0,pt.slideWidth=pt.slideEl.offsetWidth,pt.slideHeight=pt.slideEl.offsetHeight,pt.imageWrapEl.style.transitionDuration="0ms");const ei=Ct.width*Un.scale,es=Ct.height*Un.scale;if(ei<pt.slideWidth&&es<pt.slideHeight)return;if(Ct.minX=Math.min(pt.slideWidth/2-ei/2,0),Ct.maxX=-Ct.minX,Ct.minY=Math.min(pt.slideHeight/2-es/2,0),Ct.maxY=-Ct.minY,Ct.touchesCurrent.x=vt.length>0?vt[0].pageX:Hn.pageX,Ct.touchesCurrent.y=vt.length>0?vt[0].pageY:Hn.pageY,Math.max(Math.abs(Ct.touchesCurrent.x-Ct.touchesStart.x),Math.abs(Ct.touchesCurrent.y-Ct.touchesStart.y))>5&&(a.allowClick=!1),!Ct.isMoved&&!at){if(a.isHorizontal()&&(Math.floor(Ct.minX)===Math.floor(Ct.startX)&&Ct.touchesCurrent.x<Ct.touchesStart.x||Math.floor(Ct.maxX)===Math.floor(Ct.startX)&&Ct.touchesCurrent.x>Ct.touchesStart.x))return void(Ct.isTouched=!1);if(!a.isHorizontal()&&(Math.floor(Ct.minY)===Math.floor(Ct.startY)&&Ct.touchesCurrent.y<Ct.touchesStart.y||Math.floor(Ct.maxY)===Math.floor(Ct.startY)&&Ct.touchesCurrent.y>Ct.touchesStart.y))return void(Ct.isTouched=!1)}Hn.cancelable&&Hn.preventDefault(),Hn.stopPropagation(),Ct.isMoved=!0;const ua=(Un.scale-je)/(pt.maxRatio-a.params.zoom.minRatio),{originX:Ss,originY:Ls}=pt;Ct.currentX=Ct.touchesCurrent.x-Ct.touchesStart.x+Ct.startX+ua*(Ct.width-2*Ss),Ct.currentY=Ct.touchesCurrent.y-Ct.touchesStart.y+Ct.startY+ua*(Ct.height-2*Ls),Ct.currentX<Ct.minX&&(Ct.currentX=Ct.minX+1-(Ct.minX-Ct.currentX+1)**.8),Ct.currentX>Ct.maxX&&(Ct.currentX=Ct.maxX-1+(Ct.currentX-Ct.maxX+1)**.8),Ct.currentY<Ct.minY&&(Ct.currentY=Ct.minY+1-(Ct.minY-Ct.currentY+1)**.8),Ct.currentY>Ct.maxY&&(Ct.currentY=Ct.maxY-1+(Ct.currentY-Ct.maxY+1)**.8),sn.prevPositionX||(sn.prevPositionX=Ct.touchesCurrent.x),sn.prevPositionY||(sn.prevPositionY=Ct.touchesCurrent.y),sn.prevTime||(sn.prevTime=Date.now()),sn.x=(Ct.touchesCurrent.x-sn.prevPositionX)/(Date.now()-sn.prevTime)/2,sn.y=(Ct.touchesCurrent.y-sn.prevPositionY)/(Date.now()-sn.prevTime)/2,Math.abs(Ct.touchesCurrent.x-sn.prevPositionX)<2&&(sn.x=0),Math.abs(Ct.touchesCurrent.y-sn.prevPositionY)<2&&(sn.y=0),sn.prevPositionX=Ct.touchesCurrent.x,sn.prevPositionY=Ct.touchesCurrent.y,sn.prevTime=Date.now(),pt.imageWrapEl.style.transform=`translate3d(${Ct.currentX}px, ${Ct.currentY}px,0)`}function br(){const Hn=a.zoom;pt.slideEl&&a.activeIndex!==a.slides.indexOf(pt.slideEl)&&(pt.imageEl&&(pt.imageEl.style.transform="translate3d(0,0,0) scale(1)"),pt.imageWrapEl&&(pt.imageWrapEl.style.transform="translate3d(0,0,0)"),pt.slideEl.classList.remove(`${a.params.zoom.zoomedSlideClass}`),Hn.scale=1,je=1,pt.slideEl=void 0,pt.imageEl=void 0,pt.imageWrapEl=void 0,pt.originX=0,pt.originY=0)}function xr(Hn){const Un=a.zoom,ei=a.params.zoom;if(!pt.slideEl){Hn&&Hn.target&&(pt.slideEl=Hn.target.closest(`.${a.params.slideClass}, swiper-slide`)),pt.slideEl||(pt.slideEl=a.params.virtual&&a.params.virtual.enabled&&a.virtual?(0,be.e)(a.slidesEl,`.${a.params.slideActiveClass}`)[0]:a.slides[a.activeIndex]);let Ic=pt.slideEl.querySelector(`.${ei.containerClass}`);Ic&&(Ic=Ic.querySelectorAll("picture, img, svg, canvas, .swiper-zoom-target")[0]),pt.imageEl=Ic,pt.imageWrapEl=Ic?(0,be.a)(pt.imageEl,`.${ei.containerClass}`)[0]:void 0}if(!pt.imageEl||!pt.imageWrapEl)return;let es,ro,ua,Ss,Ls,Ja,Ql,pa,bl,ol,tc,nc,wl,Pl,Cc,uc,mc,yc;a.params.cssMode&&(a.wrapperEl.style.overflow="hidden",a.wrapperEl.style.touchAction="none"),pt.slideEl.classList.add(`${ei.zoomedSlideClass}`),typeof Ct.touchesStart.x>"u"&&Hn?(es=Hn.pageX,ro=Hn.pageY):(es=Ct.touchesStart.x,ro=Ct.touchesStart.y);const Ga="number"==typeof Hn?Hn:null;1===je&&Ga&&(es=void 0,ro=void 0),Un.scale=Ga||pt.imageWrapEl.getAttribute("data-swiper-zoom")||ei.maxRatio,je=Ga||pt.imageWrapEl.getAttribute("data-swiper-zoom")||ei.maxRatio,!Hn||1===je&&Ga?(Ql=0,pa=0):(mc=pt.slideEl.offsetWidth,yc=pt.slideEl.offsetHeight,ua=(0,be.b)(pt.slideEl).left+xe.scrollX,Ss=(0,be.b)(pt.slideEl).top+xe.scrollY,Ls=ua+mc/2-es,Ja=Ss+yc/2-ro,bl=pt.imageEl.offsetWidth,ol=pt.imageEl.offsetHeight,tc=bl*Un.scale,nc=ol*Un.scale,wl=Math.min(mc/2-tc/2,0),Pl=Math.min(yc/2-nc/2,0),Cc=-wl,uc=-Pl,Ql=Ls*Un.scale,pa=Ja*Un.scale,Ql<wl&&(Ql=wl),Ql>Cc&&(Ql=Cc),pa<Pl&&(pa=Pl),pa>uc&&(pa=uc)),Ga&&1===Un.scale&&(pt.originX=0,pt.originY=0),pt.imageWrapEl.style.transitionDuration="300ms",pt.imageWrapEl.style.transform=`translate3d(${Ql}px, ${pa}px,0)`,pt.imageEl.style.transitionDuration="300ms",pt.imageEl.style.transform=`translate3d(0,0,0) scale(${Un.scale})`}function gi(){const Hn=a.zoom,Un=a.params.zoom;if(!pt.slideEl){pt.slideEl=a.params.virtual&&a.params.virtual.enabled&&a.virtual?(0,be.e)(a.slidesEl,`.${a.params.slideActiveClass}`)[0]:a.slides[a.activeIndex];let ei=pt.slideEl.querySelector(`.${Un.containerClass}`);ei&&(ei=ei.querySelectorAll("picture, img, svg, canvas, .swiper-zoom-target")[0]),pt.imageEl=ei,pt.imageWrapEl=ei?(0,be.a)(pt.imageEl,`.${Un.containerClass}`)[0]:void 0}!pt.imageEl||!pt.imageWrapEl||(a.params.cssMode&&(a.wrapperEl.style.overflow="",a.wrapperEl.style.touchAction=""),Hn.scale=1,je=1,pt.imageWrapEl.style.transitionDuration="300ms",pt.imageWrapEl.style.transform="translate3d(0,0,0)",pt.imageEl.style.transitionDuration="300ms",pt.imageEl.style.transform="translate3d(0,0,0) scale(1)",pt.slideEl.classList.remove(`${Un.zoomedSlideClass}`),pt.slideEl=void 0,pt.originX=0,pt.originY=0)}function ci(Hn){const Un=a.zoom;Un.scale&&1!==Un.scale?gi():xr(Hn)}function bn(){return{passiveListener:!!a.params.passiveListeners&&{passive:!0,capture:!1},activeListenerWithCapture:!a.params.passiveListeners||{passive:!1,capture:!0}}}function Qn(){const Hn=a.zoom;if(Hn.enabled)return;Hn.enabled=!0;const{passiveListener:Un,activeListenerWithCapture:ei}=bn();a.wrapperEl.addEventListener("pointerdown",$n,Un),a.wrapperEl.addEventListener("pointermove",xi,ei),["pointerup","pointercancel","pointerout"].forEach(es=>{a.wrapperEl.addEventListener(es,Si,Un)}),a.wrapperEl.addEventListener("pointermove",Qi,ei)}function Jn(){const Hn=a.zoom;if(!Hn.enabled)return;Hn.enabled=!1;const{passiveListener:Un,activeListenerWithCapture:ei}=bn();a.wrapperEl.removeEventListener("pointerdown",$n,Un),a.wrapperEl.removeEventListener("pointermove",xi,ei),["pointerup","pointercancel","pointerout"].forEach(es=>{a.wrapperEl.removeEventListener(es,Si,Un)}),a.wrapperEl.removeEventListener("pointermove",Qi,ei)}Object.defineProperty(a.zoom,"scale",{get:()=>pn,set(Hn){pn!==Hn&&de("zoomChange",Hn,pt.imageEl,pt.slideEl),pn=Hn}}),X("init",()=>{a.params.zoom.enabled&&Qn()}),X("destroy",()=>{Jn()}),X("touchStart",(Hn,Un)=>{a.zoom.enabled&&function lr(Hn){if(!pt.imageEl||Ct.isTouched)return;a.device.android&&Hn.cancelable&&Hn.preventDefault(),Ct.isTouched=!0;const ei=vt.length>0?vt[0]:Hn;Ct.touchesStart.x=ei.pageX,Ct.touchesStart.y=ei.pageY}(Un)}),X("touchEnd",(Hn,Un)=>{a.zoom.enabled&&function Pi(){const Hn=a.zoom;if(!pt.imageEl)return;if(!Ct.isTouched||!Ct.isMoved)return Ct.isTouched=!1,void(Ct.isMoved=!1);Ct.isTouched=!1,Ct.isMoved=!1;let Un=300,ei=300;const ro=Ct.currentX+sn.x*Un,Ss=Ct.currentY+sn.y*ei;0!==sn.x&&(Un=Math.abs((ro-Ct.currentX)/sn.x)),0!==sn.y&&(ei=Math.abs((Ss-Ct.currentY)/sn.y));const Ls=Math.max(Un,ei);Ct.currentX=ro,Ct.currentY=Ss;const Ql=Ct.height*Hn.scale;Ct.minX=Math.min(pt.slideWidth/2-Ct.width*Hn.scale/2,0),Ct.maxX=-Ct.minX,Ct.minY=Math.min(pt.slideHeight/2-Ql/2,0),Ct.maxY=-Ct.minY,Ct.currentX=Math.max(Math.min(Ct.currentX,Ct.maxX),Ct.minX),Ct.currentY=Math.max(Math.min(Ct.currentY,Ct.maxY),Ct.minY),pt.imageWrapEl.style.transitionDuration=`${Ls}ms`,pt.imageWrapEl.style.transform=`translate3d(${Ct.currentX}px, ${Ct.currentY}px,0)`}()}),X("doubleTap",(Hn,Un)=>{!a.animating&&a.params.zoom.enabled&&a.zoom.enabled&&a.params.zoom.toggle&&ci(Un)}),X("transitionEnd",()=>{a.zoom.enabled&&a.params.zoom.enabled&&br()}),X("slideChange",()=>{a.zoom.enabled&&a.params.zoom.enabled&&a.params.cssMode&&br()}),Object.assign(a.zoom,{enable:Qn,disable:Jn,in:xr,out:gi,toggle:ci})},function Ze(oe){let{swiper:a,extendParams:P,on:X}=oe;function de(yt,vt){const pt=function(){let Xt,Zt,Cn;return(Qt,Ht)=>{for(Zt=-1,Xt=Qt.length;Xt-Zt>1;)Cn=Xt+Zt>>1,Qt[Cn]<=Ht?Zt=Cn:Xt=Cn;return Xt}}();let Ct,sn;return this.x=yt,this.y=vt,this.lastIndex=yt.length-1,this.interpolate=function(Xt){return Xt?(sn=pt(this.x,Xt),Ct=sn-1,(Xt-this.x[Ct])*(this.y[sn]-this.y[Ct])/(this.x[sn]-this.x[Ct])+this.y[Ct]):0},this}function lt(){a.controller.control&&a.controller.spline&&(a.controller.spline=void 0,delete a.controller.spline)}P({controller:{control:void 0,inverse:!1,by:"slide"}}),a.controller={control:void 0},X("beforeInit",()=>{if(typeof window<"u"&&("string"==typeof a.params.controller.control||a.params.controller.control instanceof HTMLElement)){const yt=document.querySelector(a.params.controller.control);if(yt&&yt.swiper)a.controller.control=yt.swiper;else if(yt){const vt=pt=>{a.controller.control=pt.detail[0],a.update(),yt.removeEventListener("init",vt)};yt.addEventListener("init",vt)}}else a.controller.control=a.params.controller.control}),X("update",()=>{lt()}),X("resize",()=>{lt()}),X("observerUpdate",()=>{lt()}),X("setTranslate",(yt,vt,pt)=>{!a.controller.control||a.controller.control.destroyed||a.controller.setTranslate(vt,pt)}),X("setTransition",(yt,vt,pt)=>{!a.controller.control||a.controller.control.destroyed||a.controller.setTransition(vt,pt)}),Object.assign(a.controller,{setTranslate:function je(yt,vt){const pt=a.controller.control;let Ct,sn;const pn=a.constructor;function Xt(Zt){if(Zt.destroyed)return;const Cn=a.rtlTranslate?-a.translate:a.translate;"slide"===a.params.controller.by&&(function xe(yt){a.controller.spline=a.params.loop?new de(a.slidesGrid,yt.slidesGrid):new de(a.snapGrid,yt.snapGrid)}(Zt),sn=-a.controller.spline.interpolate(-Cn)),(!sn||"container"===a.params.controller.by)&&(Ct=(Zt.maxTranslate()-Zt.minTranslate())/(a.maxTranslate()-a.minTranslate()),(Number.isNaN(Ct)||!Number.isFinite(Ct))&&(Ct=1),sn=(Cn-a.minTranslate())*Ct+Zt.minTranslate()),a.params.controller.inverse&&(sn=Zt.maxTranslate()-sn),Zt.updateProgress(sn),Zt.setTranslate(sn,a),Zt.updateActiveIndex(),Zt.updateSlidesClasses()}if(Array.isArray(pt))for(let Zt=0;Zt<pt.length;Zt+=1)pt[Zt]!==vt&&pt[Zt]instanceof pn&&Xt(pt[Zt]);else pt instanceof pn&&vt!==pt&&Xt(pt)},setTransition:function at(yt,vt){const pt=a.constructor,Ct=a.controller.control;let sn;function pn(Xt){Xt.destroyed||(Xt.setTransition(yt,a),0!==yt&&(Xt.transitionStart(),Xt.params.autoHeight&&(0,be.n)(()=>{Xt.updateAutoHeight()}),(0,be.j)(Xt.wrapperEl,()=>{Ct&&Xt.transitionEnd()})))}if(Array.isArray(Ct))for(sn=0;sn<Ct.length;sn+=1)Ct[sn]!==vt&&Ct[sn]instanceof pt&&pn(Ct[sn]);else Ct instanceof pt&&vt!==Ct&&pn(Ct)}})},function on(oe){let{swiper:a,extendParams:P,on:X}=oe;P({a11y:{enabled:!0,notificationClass:"swiper-notification",prevSlideMessage:"Previous slide",nextSlideMessage:"Next slide",firstSlideMessage:"This is the first slide",lastSlideMessage:"This is the last slide",paginationBulletMessage:"Go to slide {{index}}",slideLabelMessage:"{{index}} / {{slidesLength}}",containerMessage:null,containerRoleDescriptionMessage:null,itemRoleDescriptionMessage:null,slideRole:"group",id:null}}),a.a11y={clicked:!1};let de=null;function xe(bn){const Qn=de;0!==Qn.length&&(Qn.innerHTML="",Qn.innerHTML=bn)}const je=bn=>(Array.isArray(bn)?bn:[bn]).filter(Qn=>!!Qn);function lt(bn){(bn=je(bn)).forEach(Qn=>{Qn.setAttribute("tabIndex","0")})}function yt(bn){(bn=je(bn)).forEach(Qn=>{Qn.setAttribute("tabIndex","-1")})}function vt(bn,Qn){(bn=je(bn)).forEach(Jn=>{Jn.setAttribute("role",Qn)})}function pt(bn,Qn){(bn=je(bn)).forEach(Jn=>{Jn.setAttribute("aria-roledescription",Qn)})}function sn(bn,Qn){(bn=je(bn)).forEach(Jn=>{Jn.setAttribute("aria-label",Qn)})}function Zt(bn){(bn=je(bn)).forEach(Qn=>{Qn.setAttribute("aria-disabled",!0)})}function Cn(bn){(bn=je(bn)).forEach(Qn=>{Qn.setAttribute("aria-disabled",!1)})}function Qt(bn){if(13!==bn.keyCode&&32!==bn.keyCode)return;const Qn=a.params.a11y,Jn=bn.target;a.pagination&&a.pagination.el&&(Jn===a.pagination.el||a.pagination.el.contains(bn.target))&&!bn.target.matches(Le(a.params.pagination.bulletClass))||(a.navigation&&a.navigation.nextEl&&Jn===a.navigation.nextEl&&(a.isEnd&&!a.params.loop||a.slideNext(),xe(a.isEnd?Qn.lastSlideMessage:Qn.nextSlideMessage)),a.navigation&&a.navigation.prevEl&&Jn===a.navigation.prevEl&&(a.isBeginning&&!a.params.loop||a.slidePrev(),xe(a.isBeginning?Qn.firstSlideMessage:Qn.prevSlideMessage)),a.pagination&&Jn.matches(Le(a.params.pagination.bulletClass))&&Jn.click())}function $n(){return a.pagination&&a.pagination.bullets&&a.pagination.bullets.length}function xi(){return $n()&&a.params.pagination.clickable}const lr=(bn,Qn,Jn)=>{lt(bn),"BUTTON"!==bn.tagName&&(vt(bn,"button"),bn.addEventListener("keydown",Qt)),sn(bn,Jn),function Ct(bn,Qn){(bn=je(bn)).forEach(Jn=>{Jn.setAttribute("aria-controls",Qn)})}(bn,Qn)},Qi=()=>{a.a11y.clicked=!0},Pi=()=>{requestAnimationFrame(()=>{requestAnimationFrame(()=>{a.destroyed||(a.a11y.clicked=!1)})})},br=bn=>{if(a.a11y.clicked)return;const Qn=bn.target.closest(`.${a.params.slideClass}, swiper-slide`);if(!Qn||!a.slides.includes(Qn))return;const Jn=a.slides.indexOf(Qn)===a.activeIndex,Hn=a.params.watchSlidesProgress&&a.visibleSlides&&a.visibleSlides.includes(Qn);Jn||Hn||bn.sourceCapabilities&&bn.sourceCapabilities.firesTouchEvents||(a.isHorizontal()?a.el.scrollLeft=0:a.el.scrollTop=0,a.slideTo(a.slides.indexOf(Qn),0))},xr=()=>{const bn=a.params.a11y;bn.itemRoleDescriptionMessage&&pt(a.slides,bn.itemRoleDescriptionMessage),bn.slideRole&&vt(a.slides,bn.slideRole);const Qn=a.slides.length;bn.slideLabelMessage&&a.slides.forEach((Jn,Hn)=>{const Un=a.params.loop?parseInt(Jn.getAttribute("data-swiper-slide-index"),10):Hn;sn(Jn,bn.slideLabelMessage.replace(/\{\{index\}\}/,Un+1).replace(/\{\{slidesLength\}\}/,Qn))})};X("beforeInit",()=>{de=(0,be.c)("span",a.params.a11y.notificationClass),de.setAttribute("aria-live","assertive"),de.setAttribute("aria-atomic","true")}),X("afterInit",()=>{a.params.a11y.enabled&&(()=>{const bn=a.params.a11y;a.el.append(de);const Qn=a.el;bn.containerRoleDescriptionMessage&&pt(Qn,bn.containerRoleDescriptionMessage),bn.containerMessage&&sn(Qn,bn.containerMessage);const Jn=a.wrapperEl,Hn=bn.id||Jn.getAttribute("id")||`swiper-wrapper-${function at(bn){return void 0===bn&&(bn=16),"x".repeat(bn).replace(/x/g,()=>Math.round(16*Math.random()).toString(16))}(16)}`,Un=a.params.autoplay&&a.params.autoplay.enabled?"off":"polite";(function pn(bn,Qn){(bn=je(bn)).forEach(Jn=>{Jn.setAttribute("id",Qn)})})(Jn,Hn),function Xt(bn,Qn){(bn=je(bn)).forEach(Jn=>{Jn.setAttribute("aria-live",Qn)})}(Jn,Un),xr();let{nextEl:ei,prevEl:es}=a.navigation?a.navigation:{};ei=je(ei),es=je(es),ei&&ei.forEach(ro=>lr(ro,Hn,bn.nextSlideMessage)),es&&es.forEach(ro=>lr(ro,Hn,bn.prevSlideMessage)),xi()&&(Array.isArray(a.pagination.el)?a.pagination.el:[a.pagination.el]).forEach(ua=>{ua.addEventListener("keydown",Qt)}),a.el.addEventListener("focus",br,!0),a.el.addEventListener("pointerdown",Qi,!0),a.el.addEventListener("pointerup",Pi,!0)})()}),X("slidesLengthChange snapGridLengthChange slidesGridLengthChange",()=>{a.params.a11y.enabled&&xr()}),X("fromEdge toEdge afterInit lock unlock",()=>{a.params.a11y.enabled&&function Ht(){if(a.params.loop||a.params.rewind||!a.navigation)return;const{nextEl:bn,prevEl:Qn}=a.navigation;Qn&&(a.isBeginning?(Zt(Qn),yt(Qn)):(Cn(Qn),lt(Qn))),bn&&(a.isEnd?(Zt(bn),yt(bn)):(Cn(bn),lt(bn)))}()}),X("paginationUpdate",()=>{a.params.a11y.enabled&&function Si(){const bn=a.params.a11y;$n()&&a.pagination.bullets.forEach(Qn=>{a.params.pagination.clickable&&(lt(Qn),a.params.pagination.renderBullet||(vt(Qn,"button"),sn(Qn,bn.paginationBulletMessage.replace(/\{\{index\}\}/,(0,be.g)(Qn)+1)))),Qn.matches(Le(a.params.pagination.bulletActiveClass))?Qn.setAttribute("aria-current","true"):Qn.removeAttribute("aria-current")})}()}),X("destroy",()=>{a.params.a11y.enabled&&function ci(){de&&de.remove();let{nextEl:bn,prevEl:Qn}=a.navigation?a.navigation:{};bn=je(bn),Qn=je(Qn),bn&&bn.forEach(Jn=>Jn.removeEventListener("keydown",Qt)),Qn&&Qn.forEach(Jn=>Jn.removeEventListener("keydown",Qt)),xi()&&(Array.isArray(a.pagination.el)?a.pagination.el:[a.pagination.el]).forEach(Hn=>{Hn.removeEventListener("keydown",Qt)}),a.el.removeEventListener("focus",br,!0),a.el.removeEventListener("pointerdown",Qi,!0),a.el.removeEventListener("pointerup",Pi,!0)}()})},function It(oe){let{swiper:a,extendParams:P,on:X}=oe;P({history:{enabled:!1,root:"",replaceState:!1,key:"slides",keepQuery:!1}});let de=!1,xe={};const je=sn=>sn.toString().replace(/\s+/g,"-").replace(/[^\w-]+/g,"").replace(/--+/g,"-").replace(/^-+/,"").replace(/-+$/,""),at=sn=>{const pn=(0,Ye.a)();let Xt;Xt=sn?new URL(sn):pn.location;const Zt=Xt.pathname.slice(1).split("/").filter($n=>""!==$n),Cn=Zt.length;return{key:Zt[Cn-2],value:Zt[Cn-1]}},lt=(sn,pn)=>{const Xt=(0,Ye.a)();if(!de||!a.params.history.enabled)return;let Zt;Zt=a.params.url?new URL(a.params.url):Xt.location;let Qt=je(a.slides[pn].getAttribute("data-history"));if(a.params.history.root.length>0){let $n=a.params.history.root;"/"===$n[$n.length-1]&&($n=$n.slice(0,$n.length-1)),Qt=`${$n}/${sn?`${sn}/`:""}${Qt}`}else Zt.pathname.includes(sn)||(Qt=`${sn?`${sn}/`:""}${Qt}`);a.params.history.keepQuery&&(Qt+=Zt.search);const Ht=Xt.history.state;Ht&&Ht.value===Qt||(a.params.history.replaceState?Xt.history.replaceState({value:Qt},null,Qt):Xt.history.pushState({value:Qt},null,Qt))},yt=(sn,pn,Xt)=>{if(pn)for(let Zt=0,Cn=a.slides.length;Zt<Cn;Zt+=1){const Qt=a.slides[Zt];if(je(Qt.getAttribute("data-history"))===pn){const $n=a.getSlideIndex(Qt);a.slideTo($n,sn,Xt)}}else a.slideTo(0,sn,Xt)},vt=()=>{xe=at(a.params.url),yt(a.params.speed,xe.value,!1)};X("init",()=>{a.params.history.enabled&&(()=>{const sn=(0,Ye.a)();if(a.params.history){if(!sn.history||!sn.history.pushState)return a.params.history.enabled=!1,void(a.params.hashNavigation.enabled=!0);if(de=!0,xe=at(a.params.url),!xe.key&&!xe.value)return void(a.params.history.replaceState||sn.addEventListener("popstate",vt));yt(0,xe.value,a.params.runCallbacksOnInit),a.params.history.replaceState||sn.addEventListener("popstate",vt)}})()}),X("destroy",()=>{a.params.history.enabled&&(()=>{const sn=(0,Ye.a)();a.params.history.replaceState||sn.removeEventListener("popstate",vt)})()}),X("transitionEnd _freeModeNoMomentumRelease",()=>{de&&lt(a.params.history.key,a.activeIndex)}),X("slideChange",()=>{de&&a.params.cssMode&&lt(a.params.history.key,a.activeIndex)})},function bt(oe){let{swiper:a,extendParams:P,emit:X,on:de}=oe,xe=!1;const je=(0,Ye.g)(),at=(0,Ye.a)();P({hashNavigation:{enabled:!1,replaceState:!1,watchState:!1,getSlideIndex(Ct,sn){if(a.virtual&&a.params.virtual.enabled){const pn=a.slides.filter(Zt=>Zt.getAttribute("data-hash")===sn)[0];return pn?parseInt(pn.getAttribute("data-swiper-slide-index"),10):0}return a.getSlideIndex((0,be.e)(a.slidesEl,`.${a.params.slideClass}[data-hash="${sn}"], swiper-slide[data-hash="${sn}"]`)[0])}}});const lt=()=>{X("hashChange");const Ct=je.location.hash.replace("#",""),sn=a.virtual&&a.params.virtual.enabled?a.slidesEl.querySelector(`[data-swiper-slide-index="${a.activeIndex}"]`):a.slides[a.activeIndex];if(Ct!==(sn?sn.getAttribute("data-hash"):"")){const Xt=a.params.hashNavigation.getSlideIndex(a,Ct);if(typeof Xt>"u"||Number.isNaN(Xt))return;a.slideTo(Xt)}},yt=()=>{if(!xe||!a.params.hashNavigation.enabled)return;const Ct=a.virtual&&a.params.virtual.enabled?a.slidesEl.querySelector(`[data-swiper-slide-index="${a.activeIndex}"]`):a.slides[a.activeIndex],sn=Ct?Ct.getAttribute("data-hash")||Ct.getAttribute("data-history"):"";a.params.hashNavigation.replaceState&&at.history&&at.history.replaceState?(at.history.replaceState(null,null,`#${sn}`||""),X("hashSet")):(je.location.hash=sn||"",X("hashSet"))};de("init",()=>{a.params.hashNavigation.enabled&&(()=>{if(!a.params.hashNavigation.enabled||a.params.history&&a.params.history.enabled)return;xe=!0;const Ct=je.location.hash.replace("#","");if(Ct){const pn=a.params.hashNavigation.getSlideIndex(a,Ct);a.slideTo(pn||0,0,a.params.runCallbacksOnInit,!0)}a.params.hashNavigation.watchState&&at.addEventListener("hashchange",lt)})()}),de("destroy",()=>{a.params.hashNavigation.enabled&&a.params.hashNavigation.watchState&&at.removeEventListener("hashchange",lt)}),de("transitionEnd _freeModeNoMomentumRelease",()=>{xe&&yt()}),de("slideChange",()=>{xe&&a.params.cssMode&&yt()})},function zt(oe){let{swiper:a,extendParams:P,on:X,emit:de,params:xe}=oe;a.autoplay={running:!1,paused:!1,timeLeft:0},P({autoplay:{enabled:!1,delay:3e3,waitForTransition:!0,disableOnInteraction:!1,stopOnLastSlide:!1,reverseDirection:!1,pauseOnMouseEnter:!1}});let je,at,vt,Ct,sn,pn,Xt,Zt,Cn,Qt,lt=xe&&xe.autoplay?xe.autoplay.delay:3e3,yt=xe&&xe.autoplay?xe.autoplay.delay:3e3,pt=(new Date).getTime();function Ht(Un){!a||a.destroyed||!a.wrapperEl||Un.target===a.wrapperEl&&(a.wrapperEl.removeEventListener("transitionend",Ht),!Qt&&br())}const $n=()=>{if(a.destroyed||!a.autoplay.running)return;a.autoplay.paused?Ct=!0:Ct&&(yt=vt,Ct=!1);const Un=a.autoplay.paused?vt:pt+yt-(new Date).getTime();a.autoplay.timeLeft=Un,de("autoplayTimeLeft",Un,Un/lt),at=requestAnimationFrame(()=>{$n()})},Si=Un=>{if(a.destroyed||!a.autoplay.running)return;cancelAnimationFrame(at),$n();let ei=typeof Un>"u"?a.params.autoplay.delay:Un;lt=a.params.autoplay.delay,yt=a.params.autoplay.delay;const es=(()=>{let Un;return Un=a.virtual&&a.params.virtual.enabled?a.slides.filter(es=>es.classList.contains("swiper-slide-active"))[0]:a.slides[a.activeIndex],Un?parseInt(Un.getAttribute("data-swiper-autoplay"),10):void 0})();!Number.isNaN(es)&&es>0&&typeof Un>"u"&&(ei=es,lt=es,yt=es),vt=ei;const ro=a.params.speed,ua=()=>{!a||a.destroyed||(a.params.autoplay.reverseDirection?!a.isBeginning||a.params.loop||a.params.rewind?(a.slidePrev(ro,!0,!0),de("autoplay")):a.params.autoplay.stopOnLastSlide||(a.slideTo(a.slides.length-1,ro,!0,!0),de("autoplay")):!a.isEnd||a.params.loop||a.params.rewind?(a.slideNext(ro,!0,!0),de("autoplay")):a.params.autoplay.stopOnLastSlide||(a.slideTo(0,ro,!0,!0),de("autoplay")),a.params.cssMode&&(pt=(new Date).getTime(),requestAnimationFrame(()=>{Si()})))};return ei>0?(clearTimeout(je),je=setTimeout(()=>{ua()},ei)):requestAnimationFrame(()=>{ua()}),ei},lr=()=>{pt=(new Date).getTime(),a.autoplay.running=!0,Si(),de("autoplayStart")},Qi=()=>{a.autoplay.running=!1,clearTimeout(je),cancelAnimationFrame(at),de("autoplayStop")},Pi=(Un,ei)=>{if(a.destroyed||!a.autoplay.running)return;clearTimeout(je),Un||(Cn=!0);const es=()=>{de("autoplayPause"),a.params.autoplay.waitForTransition?a.wrapperEl.addEventListener("transitionend",Ht):br()};if(a.autoplay.paused=!0,ei)return Zt&&(vt=a.params.autoplay.delay),Zt=!1,void es();vt=(vt||a.params.autoplay.delay)-((new Date).getTime()-pt),(!(a.isEnd&&vt<0)||a.params.loop)&&(vt<0&&(vt=0),es())},br=()=>{a.isEnd&&vt<0&&!a.params.loop||a.destroyed||!a.autoplay.running||(pt=(new Date).getTime(),Cn?(Cn=!1,Si(vt)):Si(),a.autoplay.paused=!1,de("autoplayResume"))},xr=()=>{if(a.destroyed||!a.autoplay.running)return;const Un=(0,Ye.g)();"hidden"===Un.visibilityState&&(Cn=!0,Pi(!0)),"visible"===Un.visibilityState&&br()},gi=Un=>{"mouse"===Un.pointerType&&(Cn=!0,Qt=!0,!a.animating&&!a.autoplay.paused&&Pi(!0))},ci=Un=>{"mouse"===Un.pointerType&&(Qt=!1,a.autoplay.paused&&br())};X("init",()=>{a.params.autoplay.enabled&&(a.params.autoplay.pauseOnMouseEnter&&(a.el.addEventListener("pointerenter",gi),a.el.addEventListener("pointerleave",ci)),(0,Ye.g)().addEventListener("visibilitychange",xr),lr())}),X("destroy",()=>{a.el.removeEventListener("pointerenter",gi),a.el.removeEventListener("pointerleave",ci),(0,Ye.g)().removeEventListener("visibilitychange",xr),a.autoplay.running&&Qi()}),X("_freeModeStaticRelease",()=>{(pn||Cn)&&br()}),X("_freeModeNoMomentumRelease",()=>{a.params.autoplay.disableOnInteraction?Qi():Pi(!0,!0)}),X("beforeTransitionStart",(Un,ei,es)=>{a.destroyed||!a.autoplay.running||(es||!a.params.autoplay.disableOnInteraction?Pi(!0,!0):Qi())}),X("sliderFirstMove",()=>{if(!a.destroyed&&a.autoplay.running){if(a.params.autoplay.disableOnInteraction)return void Qi();sn=!0,pn=!1,Cn=!1,Xt=setTimeout(()=>{Cn=!0,pn=!0,Pi(!0)},200)}}),X("touchEnd",()=>{if(!a.destroyed&&a.autoplay.running&&sn){if(clearTimeout(Xt),clearTimeout(je),a.params.autoplay.disableOnInteraction)return pn=!1,void(sn=!1);pn&&a.params.cssMode&&br(),pn=!1,sn=!1}}),X("slideChange",()=>{a.destroyed||!a.autoplay.running||(Zt=!0)}),Object.assign(a.autoplay,{start:lr,stop:Qi,pause:Pi,resume:br})},function Jt(oe){let{swiper:a,extendParams:P,on:X}=oe;P({thumbs:{swiper:null,multipleActiveThumbs:!0,autoScrollOffset:0,slideThumbActiveClass:"swiper-slide-thumb-active",thumbsContainerClass:"swiper-thumbs"}});let de=!1,xe=!1;function je(){const yt=a.thumbs.swiper;if(!yt||yt.destroyed)return;const vt=yt.clickedIndex,pt=yt.clickedSlide;if(pt&&pt.classList.contains(a.params.thumbs.slideThumbActiveClass)||typeof vt>"u"||null===vt)return;let Ct;Ct=yt.params.loop?parseInt(yt.clickedSlide.getAttribute("data-swiper-slide-index"),10):vt,a.params.loop?a.slideToLoop(Ct):a.slideTo(Ct)}function at(){const{thumbs:yt}=a.params;if(de)return!1;de=!0;const vt=a.constructor;if(yt.swiper instanceof vt)a.thumbs.swiper=yt.swiper,Object.assign(a.thumbs.swiper.originalParams,{watchSlidesProgress:!0,slideToClickedSlide:!1}),Object.assign(a.thumbs.swiper.params,{watchSlidesProgress:!0,slideToClickedSlide:!1}),a.thumbs.swiper.update();else if((0,be.k)(yt.swiper)){const pt=Object.assign({},yt.swiper);Object.assign(pt,{watchSlidesProgress:!0,slideToClickedSlide:!1}),a.thumbs.swiper=new vt(pt),xe=!0}return a.thumbs.swiper.el.classList.add(a.params.thumbs.thumbsContainerClass),a.thumbs.swiper.on("tap",je),!0}function lt(yt){const vt=a.thumbs.swiper;if(!vt||vt.destroyed)return;const pt="auto"===vt.params.slidesPerView?vt.slidesPerViewDynamic():vt.params.slidesPerView;let Ct=1;const sn=a.params.thumbs.slideThumbActiveClass;if(a.params.slidesPerView>1&&!a.params.centeredSlides&&(Ct=a.params.slidesPerView),a.params.thumbs.multipleActiveThumbs||(Ct=1),Ct=Math.floor(Ct),vt.slides.forEach(Zt=>Zt.classList.remove(sn)),vt.params.loop||vt.params.virtual&&vt.params.virtual.enabled)for(let Zt=0;Zt<Ct;Zt+=1)(0,be.e)(vt.slidesEl,`[data-swiper-slide-index="${a.realIndex+Zt}"]`).forEach(Cn=>{Cn.classList.add(sn)});else for(let Zt=0;Zt<Ct;Zt+=1)vt.slides[a.realIndex+Zt]&&vt.slides[a.realIndex+Zt].classList.add(sn);const pn=a.params.thumbs.autoScrollOffset,Xt=pn&&!vt.params.loop;if(a.realIndex!==vt.realIndex||Xt){const Zt=vt.activeIndex;let Cn,Qt;if(vt.params.loop){const Ht=vt.slides.filter($n=>$n.getAttribute("data-swiper-slide-index")===`${a.realIndex}`)[0];Cn=vt.slides.indexOf(Ht),Qt=a.activeIndex>a.previousIndex?"next":"prev"}else Cn=a.realIndex,Qt=Cn>a.previousIndex?"next":"prev";Xt&&(Cn+="next"===Qt?pn:-1*pn),vt.visibleSlidesIndexes&&vt.visibleSlidesIndexes.indexOf(Cn)<0&&(vt.params.centeredSlides&&(Cn=Cn>Zt?Cn-Math.floor(pt/2)+1:Cn+Math.floor(pt/2)-1),vt.slideTo(Cn,yt?0:void 0))}}a.thumbs={swiper:null},X("beforeInit",()=>{const{thumbs:yt}=a.params;if(yt&&yt.swiper)if("string"==typeof yt.swiper||yt.swiper instanceof HTMLElement){const vt=(0,Ye.g)(),pt=()=>{const sn="string"==typeof yt.swiper?vt.querySelector(yt.swiper):yt.swiper;if(sn&&sn.swiper)yt.swiper=sn.swiper,at(),lt(!0);else if(sn){const pn=Xt=>{yt.swiper=Xt.detail[0],sn.removeEventListener("init",pn),at(),lt(!0),yt.swiper.update(),a.update()};sn.addEventListener("init",pn)}return sn},Ct=()=>{a.destroyed||pt()||requestAnimationFrame(Ct)};requestAnimationFrame(Ct)}else at(),lt(!0)}),X("slideChange update resize observerUpdate",()=>{lt()}),X("setTransition",(yt,vt)=>{const pt=a.thumbs.swiper;!pt||pt.destroyed||pt.setTransition(vt)}),X("beforeDestroy",()=>{const yt=a.thumbs.swiper;!yt||yt.destroyed||xe&&yt.destroy()}),Object.assign(a.thumbs,{init:at,update:lt})},function Yt(oe){let{swiper:a,extendParams:P,emit:X,once:de}=oe;P({freeMode:{enabled:!1,momentum:!0,momentumRatio:1,momentumBounce:!0,momentumBounceRatio:1,momentumVelocityRatio:1,sticky:!1,minimumVelocity:.02}}),Object.assign(a,{freeMode:{onTouchStart:function xe(){if(a.params.cssMode)return;const lt=a.getTranslate();a.setTranslate(lt),a.setTransition(0),a.touchEventsData.velocities.length=0,a.freeMode.onTouchEnd({currentPos:a.rtl?a.translate:-a.translate})},onTouchMove:function je(){if(a.params.cssMode)return;const{touchEventsData:lt,touches:yt}=a;0===lt.velocities.length&&lt.velocities.push({position:yt[a.isHorizontal()?"startX":"startY"],time:lt.touchStartTime}),lt.velocities.push({position:yt[a.isHorizontal()?"currentX":"currentY"],time:(0,be.d)()})},onTouchEnd:function at(lt){let{currentPos:yt}=lt;if(a.params.cssMode)return;const{params:vt,wrapperEl:pt,rtlTranslate:Ct,snapGrid:sn,touchEventsData:pn}=a,Zt=(0,be.d)()-pn.touchStartTime;if(yt<-a.minTranslate())a.slideTo(a.activeIndex);else if(yt>-a.maxTranslate())a.slideTo(a.slides.length<sn.length?sn.length-1:a.slides.length-1);else{if(vt.freeMode.momentum){if(pn.velocities.length>1){const Qi=pn.velocities.pop(),Pi=pn.velocities.pop(),xr=Qi.time-Pi.time;a.velocity=(Qi.position-Pi.position)/xr,a.velocity/=2,Math.abs(a.velocity)<vt.freeMode.minimumVelocity&&(a.velocity=0),(xr>150||(0,be.d)()-Qi.time>300)&&(a.velocity=0)}else a.velocity=0;a.velocity*=vt.freeMode.momentumVelocityRatio,pn.velocities.length=0;let Cn=1e3*vt.freeMode.momentumRatio,Ht=a.translate+a.velocity*Cn;Ct&&(Ht=-Ht);let xi,$n=!1;const Si=20*Math.abs(a.velocity)*vt.freeMode.momentumBounceRatio;let lr;if(Ht<a.maxTranslate())vt.freeMode.momentumBounce?(Ht+a.maxTranslate()<-Si&&(Ht=a.maxTranslate()-Si),xi=a.maxTranslate(),$n=!0,pn.allowMomentumBounce=!0):Ht=a.maxTranslate(),vt.loop&&vt.centeredSlides&&(lr=!0);else if(Ht>a.minTranslate())vt.freeMode.momentumBounce?(Ht-a.minTranslate()>Si&&(Ht=a.minTranslate()+Si),xi=a.minTranslate(),$n=!0,pn.allowMomentumBounce=!0):Ht=a.minTranslate(),vt.loop&&vt.centeredSlides&&(lr=!0);else if(vt.freeMode.sticky){let Qi;for(let Pi=0;Pi<sn.length;Pi+=1)if(sn[Pi]>-Ht){Qi=Pi;break}Ht=Math.abs(sn[Qi]-Ht)<Math.abs(sn[Qi-1]-Ht)||"next"===a.swipeDirection?sn[Qi]:sn[Qi-1],Ht=-Ht}if(lr&&de("transitionEnd",()=>{a.loopFix()}),0!==a.velocity){if(Cn=Ct?Math.abs((-Ht-a.translate)/a.velocity):Math.abs((Ht-a.translate)/a.velocity),vt.freeMode.sticky){const Qi=Math.abs((Ct?-Ht:Ht)-a.translate),Pi=a.slidesSizesGrid[a.activeIndex];Cn=Qi<Pi?vt.speed:Qi<2*Pi?1.5*vt.speed:2.5*vt.speed}}else if(vt.freeMode.sticky)return void a.slideToClosest();vt.freeMode.momentumBounce&&$n?(a.updateProgress(xi),a.setTransition(Cn),a.setTranslate(Ht),a.transitionStart(!0,a.swipeDirection),a.animating=!0,(0,be.j)(pt,()=>{!a||a.destroyed||!pn.allowMomentumBounce||(X("momentumBounce"),a.setTransition(vt.speed),setTimeout(()=>{a.setTranslate(xi),(0,be.j)(pt,()=>{!a||a.destroyed||a.transitionEnd()})},0))})):a.velocity?(X("_freeModeNoMomentumRelease"),a.updateProgress(Ht),a.setTransition(Cn),a.setTranslate(Ht),a.transitionStart(!0,a.swipeDirection),a.animating||(a.animating=!0,(0,be.j)(pt,()=>{!a||a.destroyed||a.transitionEnd()}))):a.updateProgress(Ht),a.updateActiveIndex(),a.updateSlidesClasses()}else{if(vt.freeMode.sticky)return void a.slideToClosest();vt.freeMode&&X("_freeModeNoMomentumRelease")}(!vt.freeMode.momentum||Zt>=vt.longSwipesMs)&&(X("_freeModeStaticRelease"),a.updateProgress(),a.updateActiveIndex(),a.updateSlidesClasses())}}}})},function tt(oe){let de,xe,je,at,{swiper:a,extendParams:P,on:X}=oe;P({grid:{rows:1,fill:"column"}});const lt=()=>{let Xt=a.params.spaceBetween;return"string"==typeof Xt&&Xt.indexOf("%")>=0?Xt=parseFloat(Xt.replace("%",""))/100*a.size:"string"==typeof Xt&&(Xt=parseFloat(Xt)),Xt};X("init",()=>{at=a.params.grid&&a.params.grid.rows>1}),X("update",()=>{const{params:Xt,el:Zt}=a,Cn=Xt.grid&&Xt.grid.rows>1;at&&!Cn?(Zt.classList.remove(`${Xt.containerModifierClass}grid`,`${Xt.containerModifierClass}grid-column`),je=1,a.emitContainerClasses()):!at&&Cn&&(Zt.classList.add(`${Xt.containerModifierClass}grid`),"column"===Xt.grid.fill&&Zt.classList.add(`${Xt.containerModifierClass}grid-column`),a.emitContainerClasses()),at=Cn}),a.grid={initSlides:Xt=>{const{slidesPerView:Zt}=a.params,{rows:Cn,fill:Qt}=a.params.grid,Ht=a.virtual&&a.params.virtual.enabled?a.virtual.slides.length:Xt.length;je=Math.floor(Ht/Cn),de=Math.floor(Ht/Cn)===Ht/Cn?Ht:Math.ceil(Ht/Cn)*Cn,"auto"!==Zt&&"row"===Qt&&(de=Math.max(de,Zt*Cn)),xe=de/Cn},unsetSlides:()=>{a.slides&&a.slides.forEach(Xt=>{Xt.swiperSlideGridSet&&(Xt.style.height="",Xt.style[a.getDirectionLabel("margin-top")]="")})},updateSlide:(Xt,Zt,Cn)=>{const{slidesPerGroup:Qt}=a.params,Ht=lt(),{rows:$n,fill:xi}=a.params.grid,Si=a.virtual&&a.params.virtual.enabled?a.virtual.slides.length:Cn.length;let lr,Qi,Pi;if("row"===xi&&Qt>1){const br=Math.floor(Xt/(Qt*$n)),xr=Xt-$n*Qt*br,gi=0===br?Qt:Math.min(Math.ceil((Si-br*$n*Qt)/$n),Qt);Pi=Math.floor(xr/gi),Qi=xr-Pi*gi+br*Qt,lr=Qi+Pi*de/$n,Zt.style.order=lr}else"column"===xi?(Qi=Math.floor(Xt/$n),Pi=Xt-Qi*$n,(Qi>je||Qi===je&&Pi===$n-1)&&(Pi+=1,Pi>=$n&&(Pi=0,Qi+=1))):(Pi=Math.floor(Xt/xe),Qi=Xt-Pi*xe);Zt.row=Pi,Zt.column=Qi,Zt.style.height=`calc((100% - ${($n-1)*Ht}px) / ${$n})`,Zt.style[a.getDirectionLabel("margin-top")]=0!==Pi?Ht&&`${Ht}px`:"",Zt.swiperSlideGridSet=!0},updateWrapperSize:(Xt,Zt)=>{const{centeredSlides:Cn,roundLengths:Qt}=a.params,Ht=lt(),{rows:$n}=a.params.grid;if(a.virtualSize=(Xt+Ht)*de,a.virtualSize=Math.ceil(a.virtualSize/$n)-Ht,a.params.cssMode||(a.wrapperEl.style[a.getDirectionLabel("width")]=`${a.virtualSize+Ht}px`),Cn){const xi=[];for(let Si=0;Si<Zt.length;Si+=1){let lr=Zt[Si];Qt&&(lr=Math.floor(lr)),Zt[Si]<a.virtualSize+Zt[0]&&xi.push(lr)}Zt.splice(0,Zt.length),Zt.push(...xi)}}}},function ct(oe){let{swiper:a}=oe;Object.assign(a,{appendSlide:se.bind(a),prependSlide:Vt.bind(a),addSlide:Tt.bind(a),removeSlide:tn.bind(a),removeAllSlides:dn.bind(a)})},function ft(oe){let{swiper:a,extendParams:P,on:X}=oe;P({fadeEffect:{crossFade:!1}}),et({effect:"fade",swiper:a,on:X,setTranslate:()=>{const{slides:je}=a;for(let lt=0;lt<je.length;lt+=1){const yt=a.slides[lt];let pt=-yt.swiperSlideOffset;a.params.virtualTranslate||(pt-=a.translate);let Ct=0;a.isHorizontal()||(Ct=pt,pt=0);const sn=a.params.fadeEffect.crossFade?Math.max(1-Math.abs(yt.progress),0):1+Math.min(Math.max(yt.progress,-1),0),pn=wt(0,yt);pn.style.opacity=sn,pn.style.transform=`translate3d(${pt}px, ${Ct}px, 0px)`}},setTransition:je=>{const at=a.slides.map(lt=>(0,be.l)(lt));at.forEach(lt=>{lt.style.transitionDuration=`${je}ms`}),Ot({swiper:a,duration:je,transformElements:at,allSlides:!0})},overwriteParams:()=>({slidesPerView:1,slidesPerGroup:1,watchSlidesProgress:!0,spaceBetween:0,virtualTranslate:!a.params.cssMode})})},function Je(oe){let{swiper:a,extendParams:P,on:X}=oe;P({cubeEffect:{slideShadows:!0,shadow:!0,shadowOffset:20,shadowScale:.94}});const de=(lt,yt,vt)=>{let pt=lt.querySelector(vt?".swiper-slide-shadow-left":".swiper-slide-shadow-top"),Ct=lt.querySelector(vt?".swiper-slide-shadow-right":".swiper-slide-shadow-bottom");pt||(pt=(0,be.c)("div",("swiper-slide-shadow-cube swiper-slide-shadow-"+(vt?"left":"top")).split(" ")),lt.append(pt)),Ct||(Ct=(0,be.c)("div",("swiper-slide-shadow-cube swiper-slide-shadow-"+(vt?"right":"bottom")).split(" ")),lt.append(Ct)),pt&&(pt.style.opacity=Math.max(-yt,0)),Ct&&(Ct.style.opacity=Math.max(yt,0))};et({effect:"cube",swiper:a,on:X,setTranslate:()=>{const{el:lt,wrapperEl:yt,slides:vt,width:pt,height:Ct,rtlTranslate:sn,size:pn,browser:Xt}=a,Zt=a.params.cubeEffect,Cn=a.isHorizontal(),Qt=a.virtual&&a.params.virtual.enabled;let $n,Ht=0;Zt.shadow&&(Cn?($n=a.wrapperEl.querySelector(".swiper-cube-shadow"),$n||($n=(0,be.c)("div","swiper-cube-shadow"),a.wrapperEl.append($n)),$n.style.height=`${pt}px`):($n=lt.querySelector(".swiper-cube-shadow"),$n||($n=(0,be.c)("div","swiper-cube-shadow"),lt.append($n))));for(let Si=0;Si<vt.length;Si+=1){const lr=vt[Si];let Qi=Si;Qt&&(Qi=parseInt(lr.getAttribute("data-swiper-slide-index"),10));let Pi=90*Qi,br=Math.floor(Pi/360);sn&&(Pi=-Pi,br=Math.floor(-Pi/360));const xr=Math.max(Math.min(lr.progress,1),-1);let gi=0,ci=0,bn=0;Qi%4==0?(gi=4*-br*pn,bn=0):(Qi-1)%4==0?(gi=0,bn=4*-br*pn):(Qi-2)%4==0?(gi=pn+4*br*pn,bn=pn):(Qi-3)%4==0&&(gi=-pn,bn=3*pn+4*pn*br),sn&&(gi=-gi),Cn||(ci=gi,gi=0);const Qn=`rotateX(${Cn?0:-Pi}deg) rotateY(${Cn?Pi:0}deg) translate3d(${gi}px, ${ci}px, ${bn}px)`;xr<=1&&xr>-1&&(Ht=90*Qi+90*xr,sn&&(Ht=90*-Qi-90*xr),a.browser&&a.browser.isSafari&&Math.abs(Ht)/90%2==1&&(Ht+=.001)),lr.style.transform=Qn,Zt.slideShadows&&de(lr,xr,Cn)}if(yt.style.transformOrigin=`50% 50% -${pn/2}px`,yt.style["-webkit-transform-origin"]=`50% 50% -${pn/2}px`,Zt.shadow)if(Cn)$n.style.transform=`translate3d(0px, ${pt/2+Zt.shadowOffset}px, ${-pt/2}px) rotateX(89.99deg) rotateZ(0deg) scale(${Zt.shadowScale})`;else{const Si=Math.abs(Ht)-90*Math.floor(Math.abs(Ht)/90),lr=1.5-(Math.sin(2*Si*Math.PI/360)/2+Math.cos(2*Si*Math.PI/360)/2),Pi=Zt.shadowScale/lr;$n.style.transform=`scale3d(${Zt.shadowScale}, 1, ${Pi}) translate3d(0px, ${Ct/2+Zt.shadowOffset}px, ${-Ct/2/Pi}px) rotateX(-89.99deg)`}const xi=(Xt.isSafari||Xt.isWebView)&&Xt.needPerspectiveFix?-pn/2:0;yt.style.transform=`translate3d(0px,0,${xi}px) rotateX(${a.isHorizontal()?0:Ht}deg) rotateY(${a.isHorizontal()?-Ht:0}deg)`,yt.style.setProperty("--swiper-cube-translate-z",`${xi}px`)},setTransition:lt=>{const{el:yt,slides:vt}=a;if(vt.forEach(pt=>{pt.style.transitionDuration=`${lt}ms`,pt.querySelectorAll(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").forEach(Ct=>{Ct.style.transitionDuration=`${lt}ms`})}),a.params.cubeEffect.shadow&&!a.isHorizontal()){const pt=yt.querySelector(".swiper-cube-shadow");pt&&(pt.style.transitionDuration=`${lt}ms`)}},recreateShadows:()=>{const lt=a.isHorizontal();a.slides.forEach(yt=>{const vt=Math.max(Math.min(yt.progress,1),-1);de(yt,vt,lt)})},getEffectParams:()=>a.params.cubeEffect,perspective:()=>!0,overwriteParams:()=>({slidesPerView:1,slidesPerGroup:1,watchSlidesProgress:!0,resistanceRatio:0,spaceBetween:0,centeredSlides:!1,virtualTranslate:!0})})},function vn(oe){let{swiper:a,extendParams:P,on:X}=oe;P({flipEffect:{slideShadows:!0,limitRotation:!0}});const de=(lt,yt)=>{let vt=a.isHorizontal()?lt.querySelector(".swiper-slide-shadow-left"):lt.querySelector(".swiper-slide-shadow-top"),pt=a.isHorizontal()?lt.querySelector(".swiper-slide-shadow-right"):lt.querySelector(".swiper-slide-shadow-bottom");vt||(vt=Et("flip",lt,a.isHorizontal()?"left":"top")),pt||(pt=Et("flip",lt,a.isHorizontal()?"right":"bottom")),vt&&(vt.style.opacity=Math.max(-yt,0)),pt&&(pt.style.opacity=Math.max(yt,0))};et({effect:"flip",swiper:a,on:X,setTranslate:()=>{const{slides:lt,rtlTranslate:yt}=a,vt=a.params.flipEffect;for(let pt=0;pt<lt.length;pt+=1){const Ct=lt[pt];let sn=Ct.progress;a.params.flipEffect.limitRotation&&(sn=Math.max(Math.min(Ct.progress,1),-1));const pn=Ct.swiperSlideOffset;let Zt=-180*sn,Cn=0,Qt=a.params.cssMode?-pn-a.translate:-pn,Ht=0;a.isHorizontal()?yt&&(Zt=-Zt):(Ht=Qt,Qt=0,Cn=-Zt,Zt=0),a.browser&&a.browser.isSafari&&(Math.abs(Zt)/90%2==1&&(Zt+=.001),Math.abs(Cn)/90%2==1&&(Cn+=.001)),Ct.style.zIndex=-Math.abs(Math.round(sn))+lt.length,vt.slideShadows&&de(Ct,sn);const $n=`translate3d(${Qt}px, ${Ht}px, 0px) rotateX(${Cn}deg) rotateY(${Zt}deg)`;wt(0,Ct).style.transform=$n}},setTransition:lt=>{const yt=a.slides.map(vt=>(0,be.l)(vt));yt.forEach(vt=>{vt.style.transitionDuration=`${lt}ms`,vt.querySelectorAll(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").forEach(pt=>{pt.style.transitionDuration=`${lt}ms`})}),Ot({swiper:a,duration:lt,transformElements:yt})},recreateShadows:()=>{a.slides.forEach(lt=>{let yt=lt.progress;a.params.flipEffect.limitRotation&&(yt=Math.max(Math.min(lt.progress,1),-1)),de(lt,yt)})},getEffectParams:()=>a.params.flipEffect,perspective:()=>!0,overwriteParams:()=>({slidesPerView:1,slidesPerGroup:1,watchSlidesProgress:!0,spaceBetween:0,virtualTranslate:!a.params.cssMode})})},function qt(oe){let{swiper:a,extendParams:P,on:X}=oe;P({coverflowEffect:{rotate:50,stretch:0,depth:100,scale:1,modifier:1,slideShadows:!0}}),et({effect:"coverflow",swiper:a,on:X,setTranslate:()=>{const{width:je,height:at,slides:lt,slidesSizesGrid:yt}=a,vt=a.params.coverflowEffect,pt=a.isHorizontal(),Ct=a.translate,sn=pt?je/2-Ct:at/2-Ct,pn=pt?vt.rotate:-vt.rotate,Xt=vt.depth;for(let Zt=0,Cn=lt.length;Zt<Cn;Zt+=1){const Qt=lt[Zt],Ht=yt[Zt],xi=(sn-Qt.swiperSlideOffset-Ht/2)/Ht,Si="function"==typeof vt.modifier?vt.modifier(xi):xi*vt.modifier;let lr=pt?pn*Si:0,Qi=pt?0:pn*Si,Pi=-Xt*Math.abs(Si),br=vt.stretch;"string"==typeof br&&-1!==br.indexOf("%")&&(br=parseFloat(vt.stretch)/100*Ht);let xr=pt?0:br*Si,gi=pt?br*Si:0,ci=1-(1-vt.scale)*Math.abs(Si);Math.abs(gi)<.001&&(gi=0),Math.abs(xr)<.001&&(xr=0),Math.abs(Pi)<.001&&(Pi=0),Math.abs(lr)<.001&&(lr=0),Math.abs(Qi)<.001&&(Qi=0),Math.abs(ci)<.001&&(ci=0),a.browser&&a.browser.isSafari&&(Math.abs(lr)/90%2==1&&(lr+=.001),Math.abs(Qi)/90%2==1&&(Qi+=.001));const bn=`translate3d(${gi}px,${xr}px,${Pi}px)  rotateX(${Qi}deg) rotateY(${lr}deg) scale(${ci})`;if(wt(0,Qt).style.transform=bn,Qt.style.zIndex=1-Math.abs(Math.round(Si)),vt.slideShadows){let Jn=Qt.querySelector(pt?".swiper-slide-shadow-left":".swiper-slide-shadow-top"),Hn=Qt.querySelector(pt?".swiper-slide-shadow-right":".swiper-slide-shadow-bottom");Jn||(Jn=Et("coverflow",Qt,pt?"left":"top")),Hn||(Hn=Et("coverflow",Qt,pt?"right":"bottom")),Jn&&(Jn.style.opacity=Si>0?Si:0),Hn&&(Hn.style.opacity=-Si>0?-Si:0)}}},setTransition:je=>{a.slides.map(lt=>(0,be.l)(lt)).forEach(lt=>{lt.style.transitionDuration=`${je}ms`,lt.querySelectorAll(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").forEach(yt=>{yt.style.transitionDuration=`${je}ms`})})},perspective:()=>!0,overwriteParams:()=>({watchSlidesProgress:!0})})},function xn(oe){let{swiper:a,extendParams:P,on:X}=oe;P({creativeEffect:{limitProgress:1,shadowPerProgress:!1,progressMultiplier:1,perspective:!0,prev:{translate:[0,0,0],rotate:[0,0,0],opacity:1,scale:1},next:{translate:[0,0,0],rotate:[0,0,0],opacity:1,scale:1}}});const de=at=>"string"==typeof at?at:`${at}px`;et({effect:"creative",swiper:a,on:X,setTranslate:()=>{const{slides:at,wrapperEl:lt,slidesSizesGrid:yt}=a,vt=a.params.creativeEffect,{progressMultiplier:pt}=vt,Ct=a.params.centeredSlides;Ct&&(lt.style.transform=`translateX(calc(50% - ${yt[0]/2-a.params.slidesOffsetBefore||0}px))`);for(let sn=0;sn<at.length;sn+=1){const pn=at[sn],Xt=pn.progress,Zt=Math.min(Math.max(pn.progress,-vt.limitProgress),vt.limitProgress);let Cn=Zt;Ct||(Cn=Math.min(Math.max(pn.originalProgress,-vt.limitProgress),vt.limitProgress));const Qt=pn.swiperSlideOffset,Ht=[a.params.cssMode?-Qt-a.translate:-Qt,0,0],$n=[0,0,0];let xi=!1;a.isHorizontal()||(Ht[1]=Ht[0],Ht[0]=0);let Si={translate:[0,0,0],rotate:[0,0,0],scale:1,opacity:1};Zt<0?(Si=vt.next,xi=!0):Zt>0&&(Si=vt.prev,xi=!0),Ht.forEach((ci,bn)=>{Ht[bn]=`calc(${ci}px + (${de(Si.translate[bn])} * ${Math.abs(Zt*pt)}))`}),$n.forEach((ci,bn)=>{let Qn=Si.rotate[bn]*Math.abs(Zt*pt);a.browser&&a.browser.isSafari&&Math.abs(Qn)/90%2==1&&(Qn+=.001),$n[bn]=Qn}),pn.style.zIndex=-Math.abs(Math.round(Xt))+at.length;const lr=Ht.join(", "),br=Cn<0?1+(1-Si.opacity)*Cn*pt:1-(1-Si.opacity)*Cn*pt,xr=`translate3d(${lr}) rotateX(${$n[0]}deg) rotateY(${$n[1]}deg) rotateZ(${$n[2]}deg) ${Cn<0?`scale(${1+(1-Si.scale)*Cn*pt})`:`scale(${1-(1-Si.scale)*Cn*pt})`}`;if(xi&&Si.shadow||!xi){let ci=pn.querySelector(".swiper-slide-shadow");!ci&&Si.shadow&&(ci=Et("creative",pn)),ci&&(ci.style.opacity=Math.min(Math.max(Math.abs(vt.shadowPerProgress?Zt*(1/vt.limitProgress):Zt),0),1))}const gi=wt(0,pn);gi.style.transform=xr,gi.style.opacity=br,Si.origin&&(gi.style.transformOrigin=Si.origin)}},setTransition:at=>{const lt=a.slides.map(yt=>(0,be.l)(yt));lt.forEach(yt=>{yt.style.transitionDuration=`${at}ms`,yt.querySelectorAll(".swiper-slide-shadow").forEach(vt=>{vt.style.transitionDuration=`${at}ms`})}),Ot({swiper:a,duration:at,transformElements:lt,allSlides:!0})},perspective:()=>a.params.creativeEffect.perspective,overwriteParams:()=>({watchSlidesProgress:!0,virtualTranslate:!a.params.cssMode})})},function Gt(oe){let{swiper:a,extendParams:P,on:X}=oe;P({cardsEffect:{slideShadows:!0,rotate:!0,perSlideRotate:2,perSlideOffset:8}}),et({effect:"cards",swiper:a,on:X,setTranslate:()=>{const{slides:je,activeIndex:at,rtlTranslate:lt}=a,yt=a.params.cardsEffect,{startTranslate:vt,isTouched:pt}=a.touchEventsData,Ct=lt?-a.translate:a.translate;for(let sn=0;sn<je.length;sn+=1){const pn=je[sn],Xt=pn.progress,Zt=Math.min(Math.max(Xt,-4),4);let Cn=pn.swiperSlideOffset;a.params.centeredSlides&&!a.params.cssMode&&(a.wrapperEl.style.transform=`translateX(${a.minTranslate()}px)`),a.params.centeredSlides&&a.params.cssMode&&(Cn-=je[0].swiperSlideOffset);let Qt=a.params.cssMode?-Cn-a.translate:-Cn,Ht=0;const $n=-100*Math.abs(Zt);let xi=1,Si=-yt.perSlideRotate*Zt,lr=yt.perSlideOffset-.75*Math.abs(Zt);const Qi=a.virtual&&a.params.virtual.enabled?a.virtual.from+sn:sn;if((Qi===at||Qi===at-1)&&Zt>0&&Zt<1&&(pt||a.params.cssMode)&&Ct<vt||(Qi===at||Qi===at+1)&&Zt<0&&Zt>-1&&(pt||a.params.cssMode)&&Ct>vt){const bn=(1-Math.abs((Math.abs(Zt)-.5)/.5))**.5;Si+=-28*Zt*bn,xi+=-.5*bn,lr+=96*bn,Ht=-25*bn*Math.abs(Zt)+"%"}if(Qt=Zt<0?`calc(${Qt}px ${lt?"-":"+"} (${lr*Math.abs(Zt)}%))`:Zt>0?`calc(${Qt}px ${lt?"-":"+"} (-${lr*Math.abs(Zt)}%))`:`${Qt}px`,!a.isHorizontal()){const bn=Ht;Ht=Qt,Qt=bn}const gi=`\n        translate3d(${Qt}, ${Ht}, ${$n}px)\n        rotateZ(${yt.rotate?lt?-Si:Si:0}deg)\n        scale(${Zt<0?""+(1+(1-xi)*Zt):""+(1-(1-xi)*Zt)})\n      `;if(yt.slideShadows){let bn=pn.querySelector(".swiper-slide-shadow");bn||(bn=Et("cards",pn)),bn&&(bn.style.opacity=Math.min(Math.max((Math.abs(Zt)-.5)/.5,0),1))}pn.style.zIndex=-Math.abs(Math.round(Xt))+je.length,wt(0,pn).style.transform=gi}},setTransition:je=>{const at=a.slides.map(lt=>(0,be.l)(lt));at.forEach(lt=>{lt.style.transitionDuration=`${je}ms`,lt.querySelectorAll(".swiper-slide-shadow").forEach(yt=>{yt.style.transitionDuration=`${je}ms`})}),Ot({swiper:a,duration:je,transformElements:at})},perspective:()=>!0,overwriteParams:()=>({watchSlidesProgress:!0,virtualTranslate:!a.params.cssMode})})}]);var Dn=Y(2357),Nt=Y(3856);const On=":host{--swiper-theme-color:#007aff}:host{position:relative;display:block;margin-left:auto;margin-right:auto;z-index:1}.swiper{width:100%;height:100%;margin-left:auto;margin-right:auto;position:relative;overflow:hidden;list-style:none;padding:0;z-index:1;display:block}.swiper-vertical>.swiper-wrapper{flex-direction:column}.swiper-wrapper{position:relative;width:100%;height:100%;z-index:1;display:flex;transition-property:transform;transition-timing-function:var(--swiper-wrapper-transition-timing-function,initial);box-sizing:content-box}.swiper-android ::slotted(swiper-slide),.swiper-ios ::slotted(swiper-slide),.swiper-wrapper{transform:translate3d(0px,0,0)}.swiper-horizontal{touch-action:pan-y}.swiper-vertical{touch-action:pan-x}::slotted(swiper-slide){flex-shrink:0;width:100%;height:100%;position:relative;transition-property:transform;display:block}::slotted(.swiper-slide-invisible-blank){visibility:hidden}.swiper-autoheight,.swiper-autoheight ::slotted(swiper-slide){height:auto}.swiper-autoheight .swiper-wrapper{align-items:flex-start;transition-property:transform,height}.swiper-backface-hidden ::slotted(swiper-slide){transform:translateZ(0);-webkit-backface-visibility:hidden;backface-visibility:hidden}.swiper-3d.swiper-css-mode .swiper-wrapper{perspective:1200px}.swiper-3d .swiper-wrapper{transform-style:preserve-3d}.swiper-3d{perspective:1200px}.swiper-3d .swiper-cube-shadow,.swiper-3d ::slotted(swiper-slide){transform-style:preserve-3d}.swiper-css-mode>.swiper-wrapper{overflow:auto;scrollbar-width:none;-ms-overflow-style:none}.swiper-css-mode>.swiper-wrapper::-webkit-scrollbar{display:none}.swiper-css-mode ::slotted(swiper-slide){scroll-snap-align:start start}.swiper-css-mode.swiper-horizontal>.swiper-wrapper{scroll-snap-type:x mandatory}.swiper-css-mode.swiper-vertical>.swiper-wrapper{scroll-snap-type:y mandatory}.swiper-css-mode.swiper-free-mode>.swiper-wrapper{scroll-snap-type:none}.swiper-css-mode.swiper-free-mode ::slotted(swiper-slide){scroll-snap-align:none}.swiper-css-mode.swiper-centered>.swiper-wrapper::before{content:'';flex-shrink:0;order:9999}.swiper-css-mode.swiper-centered ::slotted(swiper-slide){scroll-snap-align:center center;scroll-snap-stop:always}.swiper-css-mode.swiper-centered.swiper-horizontal ::slotted(swiper-slide):first-child{margin-inline-start:var(--swiper-centered-offset-before)}.swiper-css-mode.swiper-centered.swiper-horizontal>.swiper-wrapper::before{height:100%;min-height:1px;width:var(--swiper-centered-offset-after)}.swiper-css-mode.swiper-centered.swiper-vertical ::slotted(swiper-slide):first-child{margin-block-start:var(--swiper-centered-offset-before)}.swiper-css-mode.swiper-centered.swiper-vertical>.swiper-wrapper::before{width:100%;min-width:1px;height:var(--swiper-centered-offset-after)}.swiper-virtual ::slotted(swiper-slide){-webkit-backface-visibility:hidden;transform:translateZ(0)}.swiper-virtual.swiper-css-mode .swiper-wrapper::after{content:'';position:absolute;left:0;top:0;pointer-events:none}.swiper-virtual.swiper-css-mode.swiper-horizontal .swiper-wrapper::after{height:1px;width:var(--swiper-virtual-size)}.swiper-virtual.swiper-css-mode.swiper-vertical .swiper-wrapper::after{width:1px;height:var(--swiper-virtual-size)}:host{--swiper-navigation-size:44px}.swiper-button-next,.swiper-button-prev{position:absolute;top:var(--swiper-navigation-top-offset,50%);width:calc(var(--swiper-navigation-size)/ 44 * 27);height:var(--swiper-navigation-size);margin-top:calc(0px - (var(--swiper-navigation-size)/ 2));z-index:10;cursor:pointer;display:flex;align-items:center;justify-content:center;color:var(--swiper-navigation-color,var(--swiper-theme-color))}.swiper-button-next.swiper-button-disabled,.swiper-button-prev.swiper-button-disabled{opacity:.35;cursor:auto;pointer-events:none}.swiper-button-next.swiper-button-hidden,.swiper-button-prev.swiper-button-hidden{opacity:0;cursor:auto;pointer-events:none}.swiper-navigation-disabled .swiper-button-next,.swiper-navigation-disabled .swiper-button-prev{display:none!important}.swiper-button-next svg,.swiper-button-prev svg{width:100%;height:100%;object-fit:contain;transform-origin:center}.swiper-rtl .swiper-button-next svg,.swiper-rtl .swiper-button-prev svg{transform:rotate(180deg)}.swiper-button-prev,.swiper-rtl .swiper-button-next{left:var(--swiper-navigation-sides-offset,10px);right:auto}.swiper-button-next,.swiper-rtl .swiper-button-prev{right:var(--swiper-navigation-sides-offset,10px);left:auto}.swiper-button-lock{display:none}.swiper-pagination{position:absolute;text-align:center;transition:.3s opacity;transform:translate3d(0,0,0);z-index:10}.swiper-pagination.swiper-pagination-hidden{opacity:0}.swiper-pagination-disabled>.swiper-pagination,.swiper-pagination.swiper-pagination-disabled{display:none!important}.swiper-horizontal>.swiper-pagination-bullets,.swiper-pagination-bullets.swiper-pagination-horizontal,.swiper-pagination-custom,.swiper-pagination-fraction{bottom:var(--swiper-pagination-bottom,8px);top:var(--swiper-pagination-top,auto);left:0;width:100%}.swiper-pagination-bullets-dynamic{overflow:hidden;font-size:0}.swiper-pagination-bullets-dynamic .swiper-pagination-bullet{transform:scale(.33);position:relative}.swiper-pagination-bullets-dynamic .swiper-pagination-bullet-active{transform:scale(1)}.swiper-pagination-bullets-dynamic .swiper-pagination-bullet-active-main{transform:scale(1)}.swiper-pagination-bullets-dynamic .swiper-pagination-bullet-active-prev{transform:scale(.66)}.swiper-pagination-bullets-dynamic .swiper-pagination-bullet-active-prev-prev{transform:scale(.33)}.swiper-pagination-bullets-dynamic .swiper-pagination-bullet-active-next{transform:scale(.66)}.swiper-pagination-bullets-dynamic .swiper-pagination-bullet-active-next-next{transform:scale(.33)}.swiper-pagination-bullet{width:var(--swiper-pagination-bullet-width,var(--swiper-pagination-bullet-size,8px));height:var(--swiper-pagination-bullet-height,var(--swiper-pagination-bullet-size,8px));display:inline-block;border-radius:var(--swiper-pagination-bullet-border-radius,50%);background:var(--swiper-pagination-bullet-inactive-color,#000);opacity:var(--swiper-pagination-bullet-inactive-opacity, .2)}button.swiper-pagination-bullet{border:none;margin:0;padding:0;box-shadow:none;-webkit-appearance:none;appearance:none}.swiper-pagination-clickable .swiper-pagination-bullet{cursor:pointer}.swiper-pagination-bullet:only-child{display:none!important}.swiper-pagination-bullet-active{opacity:var(--swiper-pagination-bullet-opacity, 1);background:var(--swiper-pagination-color,var(--swiper-theme-color))}.swiper-pagination-vertical.swiper-pagination-bullets,.swiper-vertical>.swiper-pagination-bullets{right:var(--swiper-pagination-right,8px);left:var(--swiper-pagination-left,auto);top:50%;transform:translate3d(0px,-50%,0)}.swiper-pagination-vertical.swiper-pagination-bullets .swiper-pagination-bullet,.swiper-vertical>.swiper-pagination-bullets .swiper-pagination-bullet{margin:var(--swiper-pagination-bullet-vertical-gap,6px) 0;display:block}.swiper-pagination-vertical.swiper-pagination-bullets.swiper-pagination-bullets-dynamic,.swiper-vertical>.swiper-pagination-bullets.swiper-pagination-bullets-dynamic{top:50%;transform:translateY(-50%);width:8px}.swiper-pagination-vertical.swiper-pagination-bullets.swiper-pagination-bullets-dynamic .swiper-pagination-bullet,.swiper-vertical>.swiper-pagination-bullets.swiper-pagination-bullets-dynamic .swiper-pagination-bullet{display:inline-block;transition:.2s transform,.2s top}.swiper-horizontal>.swiper-pagination-bullets .swiper-pagination-bullet,.swiper-pagination-horizontal.swiper-pagination-bullets .swiper-pagination-bullet{margin:0 var(--swiper-pagination-bullet-horizontal-gap,4px)}.swiper-horizontal>.swiper-pagination-bullets.swiper-pagination-bullets-dynamic,.swiper-pagination-horizontal.swiper-pagination-bullets.swiper-pagination-bullets-dynamic{left:50%;transform:translateX(-50%);white-space:nowrap}.swiper-horizontal>.swiper-pagination-bullets.swiper-pagination-bullets-dynamic .swiper-pagination-bullet,.swiper-pagination-horizontal.swiper-pagination-bullets.swiper-pagination-bullets-dynamic .swiper-pagination-bullet{transition:.2s transform,.2s left}.swiper-horizontal.swiper-rtl>.swiper-pagination-bullets-dynamic .swiper-pagination-bullet{transition:.2s transform,.2s right}.swiper-pagination-fraction{color:var(--swiper-pagination-fraction-color,inherit)}.swiper-pagination-progressbar{background:var(--swiper-pagination-progressbar-bg-color,rgba(0,0,0,.25));position:absolute}.swiper-pagination-progressbar .swiper-pagination-progressbar-fill{background:var(--swiper-pagination-color,var(--swiper-theme-color));position:absolute;left:0;top:0;width:100%;height:100%;transform:scale(0);transform-origin:left top}.swiper-rtl .swiper-pagination-progressbar .swiper-pagination-progressbar-fill{transform-origin:right top}.swiper-horizontal>.swiper-pagination-progressbar,.swiper-pagination-progressbar.swiper-pagination-horizontal,.swiper-pagination-progressbar.swiper-pagination-vertical.swiper-pagination-progressbar-opposite,.swiper-vertical>.swiper-pagination-progressbar.swiper-pagination-progressbar-opposite{width:100%;height:var(--swiper-pagination-progressbar-size,4px);left:0;top:0}.swiper-horizontal>.swiper-pagination-progressbar.swiper-pagination-progressbar-opposite,.swiper-pagination-progressbar.swiper-pagination-horizontal.swiper-pagination-progressbar-opposite,.swiper-pagination-progressbar.swiper-pagination-vertical,.swiper-vertical>.swiper-pagination-progressbar{width:var(--swiper-pagination-progressbar-size,4px);height:100%;left:0;top:0}.swiper-pagination-lock{display:none}.swiper-scrollbar{border-radius:var(--swiper-scrollbar-border-radius,10px);position:relative;touch-action:none;background:var(--swiper-scrollbar-bg-color,rgba(0,0,0,.1))}.swiper-scrollbar-disabled>.swiper-scrollbar,.swiper-scrollbar.swiper-scrollbar-disabled{display:none!important}.swiper-horizontal>.swiper-scrollbar,.swiper-scrollbar.swiper-scrollbar-horizontal{position:absolute;left:var(--swiper-scrollbar-sides-offset,1%);bottom:var(--swiper-scrollbar-bottom,4px);top:var(--swiper-scrollbar-top,auto);z-index:50;height:var(--swiper-scrollbar-size,4px);width:calc(100% - 2 * var(--swiper-scrollbar-sides-offset,1%))}.swiper-scrollbar.swiper-scrollbar-vertical,.swiper-vertical>.swiper-scrollbar{position:absolute;left:var(--swiper-scrollbar-left,auto);right:var(--swiper-scrollbar-right,4px);top:var(--swiper-scrollbar-sides-offset,1%);z-index:50;width:var(--swiper-scrollbar-size,4px);height:calc(100% - 2 * var(--swiper-scrollbar-sides-offset,1%))}.swiper-scrollbar-drag{height:100%;width:100%;position:relative;background:var(--swiper-scrollbar-drag-bg-color,rgba(0,0,0,.5));border-radius:var(--swiper-scrollbar-border-radius,10px);left:0;top:0}.swiper-scrollbar-cursor-drag{cursor:move}.swiper-scrollbar-lock{display:none}::slotted(.swiper-slide-zoomed){cursor:move;touch-action:none}.swiper .swiper-notification{position:absolute;left:0;top:0;pointer-events:none;opacity:0;z-index:-1000}.swiper-free-mode>.swiper-wrapper{transition-timing-function:ease-out;margin:0 auto}.swiper-grid>.swiper-wrapper{flex-wrap:wrap}.swiper-grid-column>.swiper-wrapper{flex-wrap:wrap;flex-direction:column}.swiper-fade.swiper-free-mode ::slotted(swiper-slide){transition-timing-function:ease-out}.swiper-fade ::slotted(swiper-slide){pointer-events:none;transition-property:opacity}.swiper-fade ::slotted(swiper-slide) ::slotted(swiper-slide){pointer-events:none}.swiper-fade ::slotted(.swiper-slide-active){pointer-events:auto}.swiper-fade ::slotted(.swiper-slide-active) ::slotted(.swiper-slide-active){pointer-events:auto}.swiper-cube{overflow:visible}.swiper-cube ::slotted(swiper-slide){pointer-events:none;-webkit-backface-visibility:hidden;backface-visibility:hidden;z-index:1;visibility:hidden;transform-origin:0 0;width:100%;height:100%}.swiper-cube ::slotted(swiper-slide) ::slotted(swiper-slide){pointer-events:none}.swiper-cube.swiper-rtl ::slotted(swiper-slide){transform-origin:100% 0}.swiper-cube ::slotted(.swiper-slide-active),.swiper-cube ::slotted(.swiper-slide-active) ::slotted(.swiper-slide-active){pointer-events:auto}.swiper-cube ::slotted(.swiper-slide-active),.swiper-cube ::slotted(.swiper-slide-next),.swiper-cube ::slotted(.swiper-slide-prev){pointer-events:auto;visibility:visible}.swiper-cube .swiper-cube-shadow{position:absolute;left:0;bottom:0px;width:100%;height:100%;opacity:.6;z-index:0}.swiper-cube .swiper-cube-shadow:before{content:'';background:#000;position:absolute;left:0;top:0;bottom:0;right:0;filter:blur(50px)}.swiper-cube ::slotted(.swiper-slide-next)+::slotted(swiper-slide){pointer-events:auto;visibility:visible}.swiper-flip{overflow:visible}.swiper-flip ::slotted(swiper-slide){pointer-events:none;-webkit-backface-visibility:hidden;backface-visibility:hidden;z-index:1}.swiper-flip ::slotted(swiper-slide) ::slotted(swiper-slide){pointer-events:none}.swiper-flip ::slotted(.swiper-slide-active),.swiper-flip ::slotted(.swiper-slide-active) ::slotted(.swiper-slide-active){pointer-events:auto}.swiper-creative ::slotted(swiper-slide){-webkit-backface-visibility:hidden;backface-visibility:hidden;overflow:hidden;transition-property:transform,opacity,height}.swiper-cards{overflow:visible}.swiper-cards ::slotted(swiper-slide){transform-origin:center bottom;-webkit-backface-visibility:hidden;backface-visibility:hidden;overflow:hidden}",Di=typeof window>"u"||typeof HTMLElement>"u"?class Ti{}:HTMLElement,Vi='<svg width="11" height="20" viewBox="0 0 11 20" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M0.38296 20.0762C0.111788 19.805 0.111788 19.3654 0.38296 19.0942L9.19758 10.2796L0.38296 1.46497C0.111788 1.19379 0.111788 0.754138 0.38296 0.482966C0.654131 0.211794 1.09379 0.211794 1.36496 0.482966L10.4341 9.55214C10.8359 9.9539 10.8359 10.6053 10.4341 11.007L1.36496 20.0762C1.09379 20.3474 0.654131 20.3474 0.38296 20.0762Z" fill="currentColor"/></svg>\n    ',Xn=(oe,a)=>{if(typeof CSSStyleSheet<"u"&&oe.adoptedStyleSheets){const P=new CSSStyleSheet;P.replaceSync(a),oe.adoptedStyleSheets=[P]}else{const P=document.createElement("style");P.rel="stylesheet",P.textContent=a,oe.appendChild(P)}};class Ai extends Di{constructor(){super(),this.attachShadow({mode:"open"})}static get nextButtonSvg(){return Vi}static get prevButtonSvg(){return Vi.replace("/></svg>",' transform-origin="center" transform="rotate(180)"/></svg>')}cssStyles(){return[On,...this.injectStyles&&Array.isArray(this.injectStyles)?this.injectStyles:[]].join("\n")}cssLinks(){return this.injectStylesUrls||[]}calcSlideSlots(){const a=this.slideSlots||0,P=[...this.querySelectorAll("[slot^=slide-]")].map(X=>parseInt(X.getAttribute("slot").split("slide-")[1],10));if(this.slideSlots=P.length?Math.max(...P)+1:0,this.rendered)if(this.slideSlots>a)for(let X=a;X<this.slideSlots;X+=1){const de=document.createElement("swiper-slide");de.setAttribute("part",`slide slide-${X+1}`);const xe=document.createElement("slot");xe.setAttribute("name",`slide-${X+1}`),de.appendChild(xe),this.shadowRoot.querySelector(".swiper-wrapper").appendChild(de)}else if(this.slideSlots<a){const X=this.swiper.slides;for(let de=X.length-1;de>=0;de-=1)de>this.slideSlots&&X[de].remove()}}render(){if(this.rendered)return;this.calcSlideSlots();let a=this.cssStyles();this.slideSlots>0&&(a=a.replace(/::slotted\(([a-z-0-9.]*)\)/g,"$1")),a.length&&Xn(this.shadowRoot,a),this.cssLinks().forEach(X=>{if(this.shadowRoot.querySelector(`link[href="${X}"]`))return;const xe=document.createElement("link");xe.rel="stylesheet",xe.href=X,this.shadowRoot.appendChild(xe)});const P=document.createElement("div");P.classList.add("swiper"),P.part="container",P.innerHTML=`\n      <slot name="container-start"></slot>\n      <div class="swiper-wrapper" part="wrapper">\n        <slot></slot>\n        ${Array.from({length:this.slideSlots}).map((X,de)=>`\n        <swiper-slide part="slide slide-${de}">\n          <slot name="slide-${de}"></slot>\n        </swiper-slide>\n        `).join("")}\n      </div>\n      <slot name="container-end"></slot>\n      ${(0,Dn.n)(this.passedParams)?`\n        <div part="button-prev" class="swiper-button-prev">${this.constructor.prevButtonSvg}</div>\n        <div part="button-next" class="swiper-button-next">${this.constructor.nextButtonSvg}</div>\n      `:""}\n      ${(0,Dn.a)(this.passedParams)?'\n        <div part="pagination" class="swiper-pagination"></div>\n      ':""}\n      ${(0,Dn.b)(this.passedParams)?'\n        <div part="scrollbar" class="swiper-scrollbar"></div>\n      ':""}\n    `,this.shadowRoot.appendChild(P),this.rendered=!0}initialize(){var a=this;if(this.initialized)return;this.initialized=!0;const{params:P,passedParams:X}=(0,Nt.g)(this);this.swiperParams=P,this.passedParams=X,delete this.swiperParams.init,this.render(),this.swiper=new dt.S(this.shadowRoot.querySelector(".swiper"),{...P.virtual?{}:{observer:!0,observeSlideChildren:this.slideSlots>0},...P,touchEventsTarget:"container",onAny:function(de){"observerUpdate"===de&&a.calcSlideSlots();const xe=P.eventsPrefix?`${P.eventsPrefix}${de.toLowerCase()}`:de.toLowerCase();for(var je=arguments.length,at=new Array(je>1?je-1:0),lt=1;lt<je;lt++)at[lt-1]=arguments[lt];const yt=new CustomEvent(xe,{detail:at,bubbles:"hashChange"!==de,cancelable:!0});a.dispatchEvent(yt)}})}connectedCallback(){this.initialized&&this.nested&&this.closest("swiper-slide")&&this.closest("swiper-slide").swiperLoopMoveDOM||!1===this.init||"false"===this.getAttribute("init")||this.initialize()}disconnectedCallback(){this.nested&&this.closest("swiper-slide")&&this.closest("swiper-slide").swiperLoopMoveDOM||(this.swiper&&this.swiper.destroy&&this.swiper.destroy(),this.initialized=!1)}updateSwiperOnPropChange(a,P){const{params:X,passedParams:de}=(0,Nt.g)(this,a,P);this.passedParams=de,this.swiperParams=X,(!this.swiper||this.swiper.params[a]!==P)&&(0,Dn.u)({swiper:this.swiper,passedParams:this.passedParams,changedParams:[(0,Dn.c)(a)],..."navigation"===a&&de[a]?{prevEl:".swiper-button-prev",nextEl:".swiper-button-next"}:{},..."pagination"===a&&de[a]?{paginationEl:".swiper-pagination"}:{},..."scrollbar"===a&&de[a]?{scrollbarEl:".swiper-scrollbar"}:{}})}attributeChangedCallback(a,P,X){this.initialized&&("true"===P&&null===X&&(X=!1),this.updateSwiperOnPropChange(a,X))}static get observedAttributes(){return Dn.p.filter(P=>P.includes("_")).map(P=>P.replace(/[A-Z]/g,X=>`-${X}`).replace("_","").toLowerCase())}}Dn.p.forEach(oe=>{"init"!==oe&&(oe=oe.replace("_",""),Object.defineProperty(Ai.prototype,oe,{configurable:!0,get(){return(this.passedParams||{})[oe]},set(a){this.passedParams||(this.passedParams={}),this.passedParams[oe]=a,this.initialized&&this.updateSwiperOnPropChange(oe,a)}}))});typeof window<"u"&&(window.SwiperElementRegisterParams=oe=>{Dn.p.push(...oe)});var fr=Y(655),Ui=Y(8261),ii=function(oe){function a(){return null!==oe&&oe.apply(this,arguments)||this}return(0,fr.ZT)(a,oe),a.prototype.show=function(){return(0,Ui.DM)(this,"show",{sync:!0},arguments)},a.prototype.hide=function(){return(0,Ui.DM)(this,"hide",{sync:!0},arguments)},a.pluginName="SplashScreen",a.plugin="cordova-plugin-splashscreen",a.pluginRef="navigator.splashscreen",a.repo="https://github.com/apache/cordova-plugin-splashscreen",a.platforms=["Amazon Fire OS","Android","iOS","Windows"],a.decorators=[{type:y.GSi}],a}(Ui.KY),kr=function(oe){function a(){return null!==oe&&oe.apply(this,arguments)||this}return(0,fr.ZT)(a,oe),a.prototype.overlaysWebView=function(P){return(0,Ui.DM)(this,"overlaysWebView",{sync:!0},arguments)},a.prototype.styleDefault=function(){return(0,Ui.DM)(this,"styleDefault",{sync:!0},arguments)},a.prototype.styleLightContent=function(){return(0,Ui.DM)(this,"styleLightContent",{sync:!0},arguments)},a.prototype.styleBlackTranslucent=function(){return(0,Ui.DM)(this,"styleBlackTranslucent",{sync:!0},arguments)},a.prototype.styleBlackOpaque=function(){return(0,Ui.DM)(this,"styleBlackOpaque",{sync:!0},arguments)},a.prototype.backgroundColorByName=function(P){return(0,Ui.DM)(this,"backgroundColorByName",{sync:!0},arguments)},a.prototype.backgroundColorByHexString=function(P){return(0,Ui.DM)(this,"backgroundColorByHexString",{sync:!0},arguments)},a.prototype.hide=function(){return(0,Ui.DM)(this,"hide",{sync:!0},arguments)},a.prototype.show=function(){return(0,Ui.DM)(this,"show",{sync:!0},arguments)},Object.defineProperty(a.prototype,"isVisible",{get:function(){return(0,Ui.J2)(this,"isVisible")},set:function(P){(0,Ui.Iq)(this,"isVisible",P)},enumerable:!1,configurable:!0}),a.pluginName="StatusBar",a.plugin="cordova-plugin-statusbar",a.pluginRef="StatusBar",a.repo="https://github.com/apache/cordova-plugin-statusbar",a.platforms=["Android","iOS","Windows"],a.decorators=[{type:y.GSi}],a}(Ui.KY);typeof window>"u"||(window.customElements.get("swiper-container")||window.customElements.define("swiper-container",Ai),window.customElements.get("swiper-slide")||window.customElements.define("swiper-slide",class Ni extends Di{constructor(){super(),this.attachShadow({mode:"open"})}render(){const a=this.lazy||""===this.getAttribute("lazy")||"true"===this.getAttribute("lazy");if(Xn(this.shadowRoot,"::slotted(.swiper-slide-shadow),::slotted(.swiper-slide-shadow-bottom),::slotted(.swiper-slide-shadow-left),::slotted(.swiper-slide-shadow-right),::slotted(.swiper-slide-shadow-top){position:absolute;left:0;top:0;width:100%;height:100%;pointer-events:none;z-index:10}::slotted(.swiper-slide-shadow){background:rgba(0,0,0,.15)}::slotted(.swiper-slide-shadow-left){background-image:linear-gradient(to left,rgba(0,0,0,.5),rgba(0,0,0,0))}::slotted(.swiper-slide-shadow-right){background-image:linear-gradient(to right,rgba(0,0,0,.5),rgba(0,0,0,0))}::slotted(.swiper-slide-shadow-top){background-image:linear-gradient(to top,rgba(0,0,0,.5),rgba(0,0,0,0))}::slotted(.swiper-slide-shadow-bottom){background-image:linear-gradient(to bottom,rgba(0,0,0,.5),rgba(0,0,0,0))}.swiper-lazy-preloader{animation:swiper-preloader-spin 1s infinite linear;width:42px;height:42px;position:absolute;left:50%;top:50%;margin-left:-21px;margin-top:-21px;z-index:10;transform-origin:50%;box-sizing:border-box;border:4px solid var(--swiper-preloader-color,var(--swiper-theme-color));border-radius:50%;border-top-color:transparent}@keyframes swiper-preloader-spin{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}::slotted(.swiper-slide-shadow-cube.swiper-slide-shadow-bottom),::slotted(.swiper-slide-shadow-cube.swiper-slide-shadow-left),::slotted(.swiper-slide-shadow-cube.swiper-slide-shadow-right),::slotted(.swiper-slide-shadow-cube.swiper-slide-shadow-top){z-index:0;-webkit-backface-visibility:hidden;backface-visibility:hidden}::slotted(.swiper-slide-shadow-flip.swiper-slide-shadow-bottom),::slotted(.swiper-slide-shadow-flip.swiper-slide-shadow-left),::slotted(.swiper-slide-shadow-flip.swiper-slide-shadow-right),::slotted(.swiper-slide-shadow-flip.swiper-slide-shadow-top){z-index:0;-webkit-backface-visibility:hidden;backface-visibility:hidden}::slotted(.swiper-zoom-container){width:100%;height:100%;display:flex;justify-content:center;align-items:center;text-align:center}::slotted(.swiper-zoom-container)>canvas,::slotted(.swiper-zoom-container)>img,::slotted(.swiper-zoom-container)>svg{max-width:100%;max-height:100%;object-fit:contain}"),this.shadowRoot.appendChild(document.createElement("slot")),a){const P=document.createElement("div");P.classList.add("swiper-lazy-preloader"),P.part.add("preloader"),this.shadowRoot.appendChild(P)}}initialize(){this.render()}connectedCallback(){this.initialize()}}));let Ar=(()=>{class oe{constructor(P,X,de,xe){this.platform=P,this.splashScreen=X,this.statusBar=de,this.navCtrl=xe,this.initializeApp()}ngOnInit(){setTimeout(()=>{this.navCtrl.navigateRoot("/login")},3e3)}initializeApp(){this.platform.ready().then(()=>{this.statusBar.styleDefault(),this.splashScreen.hide()})}}return oe.\u0275fac=function(P){return new(P||oe)(y.Y36(ze.t4),y.Y36(ii),y.Y36(kr),y.Y36(ze.SH))},oe.\u0275cmp=y.Xpm({type:oe,selectors:[["app-root"]],decls:2,vars:0,consts:[["id","main-content"]],template:function(P,X){1&P&&(y.TgZ(0,"ion-app"),y._UZ(1,"ion-router-outlet",0),y.qZA())},dependencies:[ze.dr,ze.jP],styles:['@charset "UTF-8";ion-menu[_ngcontent-%COMP%]   ion-content[_ngcontent-%COMP%]{--background: var(--ion-item-background, var(--ion-background-color, #fff))}ion-menu.md[_ngcontent-%COMP%]   ion-content[_ngcontent-%COMP%]{--padding-start: 8px;--padding-end: 8px;--padding-top: 20px;--padding-bottom: 20px}ion-menu.md[_ngcontent-%COMP%]   ion-list[_ngcontent-%COMP%]{padding:20px 0}ion-menu.md[_ngcontent-%COMP%]   ion-note[_ngcontent-%COMP%]{margin-bottom:30px}ion-menu.md[_ngcontent-%COMP%]   ion-list-header[_ngcontent-%COMP%], ion-menu.md[_ngcontent-%COMP%]   ion-note[_ngcontent-%COMP%]{padding-left:10px}ion-menu.md[_ngcontent-%COMP%]   ion-list#inbox-list[_ngcontent-%COMP%]{border-bottom:1px solid var(--ion-color-step-150, #d7d8da)}ion-menu.md[_ngcontent-%COMP%]   ion-list#inbox-list[_ngcontent-%COMP%]   ion-list-header[_ngcontent-%COMP%]{font-size:22px;font-weight:600;min-height:20px}ion-menu.md[_ngcontent-%COMP%]   ion-list#labels-list[_ngcontent-%COMP%]   ion-list-header[_ngcontent-%COMP%]{font-size:16px;margin-bottom:18px;color:#757575;min-height:26px}ion-menu.md[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]{--padding-start: 10px;--padding-end: 10px;border-radius:4px}ion-menu.md[_ngcontent-%COMP%]   ion-item.selected[_ngcontent-%COMP%]{--background: rgba(var(--ion-color-primary-rgb), .14)}ion-menu.md[_ngcontent-%COMP%]   ion-item.selected[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{color:var(--ion-color-primary)}ion-menu.md[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{color:#616e7e}ion-menu.md[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{font-weight:500}ion-menu.ios[_ngcontent-%COMP%]   ion-content[_ngcontent-%COMP%]{--padding-bottom: 20px}ion-menu.ios[_ngcontent-%COMP%]   ion-list[_ngcontent-%COMP%]{padding:20px 0 0}ion-menu.ios[_ngcontent-%COMP%]   ion-note[_ngcontent-%COMP%]{line-height:24px;margin-bottom:20px}ion-menu.ios[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]{--padding-start: 16px;--padding-end: 16px;--min-height: 50px}ion-menu.ios[_ngcontent-%COMP%]   ion-item.selected[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{color:var(--ion-color-primary)}ion-menu.ios[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:24px;color:#73849a}ion-menu.ios[_ngcontent-%COMP%]   ion-list#labels-list[_ngcontent-%COMP%]   ion-list-header[_ngcontent-%COMP%]{margin-bottom:8px}ion-menu.ios[_ngcontent-%COMP%]   ion-list-header[_ngcontent-%COMP%], ion-menu.ios[_ngcontent-%COMP%]   ion-note[_ngcontent-%COMP%]{padding-left:16px;padding-right:16px}ion-menu.ios[_ngcontent-%COMP%]   ion-note[_ngcontent-%COMP%]{margin-bottom:8px}ion-note[_ngcontent-%COMP%]{display:inline-block;font-size:16px;color:var(--ion-color-medium-shade)}ion-item.selected[_ngcontent-%COMP%]{--color: var(--ion-color-primary)}.custom-splash[_ngcontent-%COMP%]{background-color:#007bff;display:flex;justify-content:center;align-items:center;opacity:0;animation:_ngcontent-%COMP%_fadeIn 1s ease-in-out forwards}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}.scale-up-center[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_scale-up-center .4s cubic-bezier(.39,.575,.565,1) both}@keyframes _ngcontent-%COMP%_scale-up-center{0%{transform:scale(.5)}to{transform:scale(1)}}']}),oe})();var Li=Y(4208);const Xr=[{path:"",component:(()=>{class oe{constructor(P){this.router=P}ngOnInit(){this.hide(2e3)}hide(P=500){setTimeout(()=>{this.router.navigate(["login"])},P)}}return oe.\u0275fac=function(P){return new(P||oe)(y.Y36(De.F0))},oe.\u0275cmp=y.Xpm({type:oe,selectors:[["app-splash-screen"]],decls:11,vars:0,consts:[["fullscreen","true"],[1,"centered-component"],[1,"ion-justify-content-center"],["src","../../assets/icon.png","alt","logo",1,"icon","scale-in-center"]],template:function(P,X){1&P&&(y.TgZ(0,"ion-content",0)(1,"div",1)(2,"div")(3,"ion-row",2)(4,"h1"),y._uU(5,"Begue Alejandro"),y.qZA()(),y.TgZ(6,"ion-row",2),y._UZ(7,"img",3),y.qZA(),y.TgZ(8,"ion-row",2)(9,"h1"),y._uU(10,"4\xb0B"),y.qZA()()()()())},dependencies:[ze.W2,ze.Nd],styles:['ion-content[_ngcontent-%COMP%]{--background: rgb(51, 202, 115)}h3[_ngcontent-%COMP%]{font-family:"Noto Serif",serif;font-weight:700}.icon[_ngcontent-%COMP%]{width:40%}.focus-in-expand[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_focus-in-expand .8s cubic-bezier(.25,.46,.45,.94) both}@keyframes _ngcontent-%COMP%_focus-in-expand{0%{letter-spacing:-.5em;filter:blur(12px);opacity:0}to{filter:blur(0px);opacity:1}}.centered-component[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:100vh}.scale-in-center[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_scale-in-center .5s cubic-bezier(.25,.46,.45,.94) both}@keyframes _ngcontent-%COMP%_scale-in-center{0%{transform:scale(0);opacity:1}to{transform:scale(1);opacity:1}}']}),oe})()},{path:"folder/:id",loadChildren:()=>Y.e(1910).then(Y.bind(Y,1910)).then(oe=>oe.FolderPageModule)},{path:"admin",loadChildren:()=>Y.e(3015).then(Y.bind(Y,3015)).then(oe=>oe.AdminPageModule)},{path:"home",loadChildren:()=>Y.e(4851).then(Y.bind(Y,4851)).then(oe=>oe.HomePageModule)},{path:"login",loadChildren:()=>Y.e(1821).then(Y.bind(Y,1821)).then(oe=>oe.LoginPageModule)},{path:"register",loadChildren:()=>Y.e(7826).then(Y.bind(Y,7826)).then(oe=>oe.RegisterPageModule)},{path:"feas",loadChildren:()=>Promise.all([Y.e(8592),Y.e(6015)]).then(Y.bind(Y,6015)).then(oe=>oe.FeasPageModule)},{path:"lindas",loadChildren:()=>Promise.all([Y.e(8592),Y.e(14)]).then(Y.bind(Y,14)).then(oe=>oe.LindasPageModule)},{path:"lista-feas",loadChildren:()=>Promise.all([Y.e(8592),Y.e(2516)]).then(Y.bind(Y,2516)).then(oe=>oe.ListaFeasPageModule)},{path:"lista-lindas",loadChildren:()=>Promise.all([Y.e(8592),Y.e(5172)]).then(Y.bind(Y,5172)).then(oe=>oe.ListaLindasPageModule)},{path:"mis-fotos",loadChildren:()=>Y.e(3562).then(Y.bind(Y,3562)).then(oe=>oe.MisFotosPageModule)},{path:"splash",loadChildren:()=>Y.e(2068).then(Y.bind(Y,2068)).then(oe=>oe.SplashPageModule)},{path:"tabs",loadChildren:()=>Y.e(5652).then(Y.bind(Y,174)).then(oe=>oe.TabsPageModule)},{path:"camara/:type",loadChildren:()=>Promise.all([Y.e(5720),Y.e(8592),Y.e(7455)]).then(Y.bind(Y,7455)).then(oe=>oe.CamaraPageModule)},{path:"tu-clase",loadChildren:()=>Promise.all([Y.e(8592),Y.e(3275)]).then(Y.bind(Y,3275)).then(oe=>oe.TuClasePageModule)},{path:"ver-imagen-modal-page",loadChildren:()=>Promise.all([Y.e(8592),Y.e(3300)]).then(Y.bind(Y,3300)).then(oe=>oe.VerImagenModalPagePageModule)},{path:"listado-fotos",loadChildren:()=>Y.e(7351).then(Y.bind(Y,7351)).then(oe=>oe.ListadoFotosPageModule)},{path:"tu-pagina",loadChildren:()=>Promise.all([Y.e(8592),Y.e(2632)]).then(Y.bind(Y,2632)).then(oe=>oe.TuPaginaPageModule)}];let Bi=(()=>{class oe{}return oe.\u0275fac=function(P){return new(P||oe)},oe.\u0275mod=y.oAB({type:oe}),oe.\u0275inj=y.cJS({imports:[De.Bz.forRoot(Xr,{preloadingStrategy:De.wm}),De.Bz]}),oe})();const Mi_firebase={projectId:"reelevamientovisual2023",appId:"1:576178312697:web:4ff5e464f71303b41ad928",storageBucket:"reelevamientovisual2023.appspot.com",apiKey:"AIzaSyAvHCXlpbH63heUpkmTKTPxkyaOi1XuoLE",authDomain:"reelevamientovisual2023.firebaseapp.com",messagingSenderId:"576178312697"};var Zi=Y(2011),Qr=Y(3385),Jr=Y(5197),Ir=Y(9646),jr=Y(515),ns=Y(4755),tr=Y(5363),Hi=Y(3900),is=Y(4004),nr=Y(3151),zn=Y(3324),Ge=Y(5132),Mt=Y(9260),_n=Y(9300),Gn=Y(9751),mi=Y(8421),Dr=Y(7579),pr=Y(4482),sr=Y(5403);var B=Y(5577),x=Y(1884),A=Y(8675),O=Y(1520),ne=Y(3692);Y(259);const wr="firebase_screen_id",mr="outlet",rs="screen_class",$s="screen_name";let Eo=Math.floor(Math.random()*(Math.pow(2,32)-1))-Math.pow(2,31);const Zs={},ho=oe=>{const a=[oe[rs],oe[mr]].join("#");if(Zs.hasOwnProperty(a))return Zs[a];{const P=Eo++;return Zs[a]=P,P}},yi=new y.OlP("angularfire2.analytics.analyticsCollectionEnabled"),bi=new y.OlP("angularfire2.analytics.appVersion"),Cr=new y.OlP("angularfire2.analytics.appName"),$r=new y.OlP("angularfire2.analytics.debugMode"),Xs=new y.OlP("angularfire2.analytics.config"),_r="dataLayer";let Do=(()=>{class oe{constructor(P,X,de,xe,je,at,lt,yt,vt){if(this.analyticsInitialized=new Promise(()=>{}),(0,ns.NF)(lt)){window[_r]=window[_r]||[];const Ct=(...Xt)=>"config"===Xt[0]&&"firebase"===Xt[2].origin&&(this.measurementId=Xt[1],!0),sn=Xt=>{window.gtag=(...Zt)=>{Xt&&Xt(...Zt),"event"===Zt[0]&&Zt[2].send_to===this.measurementId&&(xe&&(Zt[2].app_name=xe),de&&(Zt[2].app_version=de)),je&&typeof console<"u"&&console.info(...Zt),function(...Cn){window[_r].push(arguments)}(...Zt)}};window[_r].some(Ct)?(this.analyticsInitialized=Promise.resolve(),sn()):this.analyticsInitialized=new Promise(Xt=>{sn((...Zt)=>{Ct(...Zt)&&Xt()})}),at&&this.updateConfig(at),je&&this.updateConfig({debug_mode:1})}else this.analyticsInitialized=Promise.resolve();const pt=(0,Ir.of)(void 0).pipe((0,tr.Q)(vt.outsideAngular),(0,Hi.w)(Ge.Gb),(0,Hi.w)(Ct=>Ct?yt.runOutsideAngular(()=>Y.e(3814).then(Y.bind(Y,3814))):jr.E),(0,is.U)(()=>(0,Zi.cc)("analytics","AngularFireAnalytics",P.name,()=>{const Ct=P.analytics();return!1===X&&Ct.setAnalyticsCollectionEnabled(!1),Ct},[P,X,at,je])),(0,nr.d)({bufferSize:1,refCount:!1}));return(0,Zi.pX)(this,pt,yt)}updateConfig(P){return(0,fr.mG)(this,void 0,void 0,function*(){yield this.analyticsInitialized,window.gtag("config",this.measurementId,Object.assign(Object.assign({},P),{update:!0}))})}}return oe.\u0275fac=function(P){return new(P||oe)(y.LFG(Zi.Ot),y.LFG(yi,8),y.LFG(bi,8),y.LFG(Cr,8),y.LFG($r,8),y.LFG(Xs,8),y.LFG(y.Lbi),y.LFG(y.R0b),y.LFG(zn.HU))},oe.\u0275prov=y.Yz7({token:oe,factory:oe.\u0275fac,providedIn:"any"}),oe})(),js=(()=>{class oe{constructor(P,X,de,xe){if(this.disposables=[],Mt.Z.registerVersion("angularfire",zn.q4.full,"compat-user-tracking"),(0,ns.PM)(X))this.initialized=Promise.resolve();else{let je;this.initialized=xe.runOutsideAngular(()=>new Promise(at=>je=at)),this.disposables=[de.authState.subscribe(at=>{P.setUserId(null==at?void 0:at.uid),je()}),de.credential.subscribe(at=>{if(at){const lt=at.user.isAnonymous?"anonymous":at.additionalUserInfo.providerId;at.additionalUserInfo.isNewUser&&P.logEvent("sign_up",{method:lt}),P.logEvent("login",{method:lt})}})]}}ngOnDestroy(){this.disposables.forEach(P=>P.unsubscribe())}}return oe.\u0275fac=function(P){return new(P||oe)(y.LFG(Do),y.LFG(y.Lbi),y.LFG(Qr.zQ),y.LFG(y.R0b))},oe.\u0275prov=y.Yz7({token:oe,factory:oe.\u0275fac}),oe})(),Vr=(()=>{class oe{constructor(P,X,de,xe,je,at){if(Mt.Z.registerVersion("angularfire",zn.q4.full,"compat-screen-tracking"),!X||!P)return this;je.runOutsideAngular(()=>{this.disposable=((oe,a,P)=>oe.events.pipe((0,_n.h)(de=>de instanceof De.jw)).pipe((0,Hi.w)(de=>{var xe;const at=(null===(xe=oe.parseUrl(oe.url.replace(/(?:\().+(?:\))/g,sn=>sn.replace("://",":///"))).root.children[de.snapshot.outlet])||void 0===xe?void 0:xe.toString())||"",lt=oe.routerState.root.children.map(sn=>sn).find(sn=>sn.outlet===de.snapshot.outlet);if(!lt)return(0,Ir.of)(null);let yt=lt;for(;yt.firstChild;)yt=yt.firstChild;const vt=yt.pathFromRoot.map(sn=>{var pn;return null===(pn=sn.routeConfig)||void 0===pn?void 0:pn.path}).filter(sn=>sn).join("/")||"/",pt={[$s]:vt,page_path:`/${at}`,firebase_event_origin:"auto",firebase_screen:vt,[mr]:de.snapshot.outlet};a&&(pt.page_title=a.getTitle());let Ct=lt.component;if(Ct){if(Ct===De.fw){let sn=de.snapshot;for(;sn.firstChild;)sn=sn.firstChild;Ct=sn.component}}else Ct=de.snapshot.component;if("string"==typeof Ct)return(0,Ir.of)(Object.assign(Object.assign({},pt),{[rs]:Ct}));if(Ct){const sn=P.resolveComponentFactory(Ct);return(0,Ir.of)(Object.assign(Object.assign({},pt),{[rs]:sn.selector}))}return(0,Ir.of)(null)}),(0,_n.h)(de=>!!de),(0,is.U)(de=>Object.assign({firebase_screen_class:de[rs],[wr]:ho(de)},de)),function Pt(oe,a,P,X){return(0,pr.e)((de,xe)=>{let je;a&&"function"!=typeof a?({duration:P,element:je,connector:X}=a):je=a;const at=new Map,lt=pn=>{at.forEach(pn),pn(xe)},yt=pn=>lt(Xt=>Xt.error(pn));let vt=0,pt=!1;const Ct=new sr.Q(xe,pn=>{try{const Xt=oe(pn);let Zt=at.get(Xt);if(!Zt){at.set(Xt,Zt=X?X():new Dr.x);const Cn=function sn(pn,Xt){const Zt=new Gn.y(Cn=>{vt++;const Qt=Xt.subscribe(Cn);return()=>{Qt.unsubscribe(),0==--vt&&pt&&Ct.unsubscribe()}});return Zt.key=pn,Zt}(Xt,Zt);if(xe.next(Cn),P){const Qt=(0,sr.x)(Zt,()=>{Zt.complete(),null==Qt||Qt.unsubscribe()},void 0,void 0,()=>at.delete(Xt));Ct.add((0,mi.Xf)(P(Cn)).subscribe(Qt))}}Zt.next(je?je(pn):pn)}catch(Xt){yt(Xt)}},()=>lt(pn=>pn.complete()),yt,()=>at.clear(),()=>(pt=!0,0===vt));de.subscribe(Ct)})}(de=>de[mr]),(0,B.z)(de=>de.pipe((0,x.x)((xe,je)=>JSON.stringify(xe)===JSON.stringify(je)),(0,A.O)(void 0),(0,O.G)(),(0,is.U)(([xe,je])=>xe?Object.assign({firebase_previous_class:xe[rs],firebase_previous_screen:xe[$s],firebase_previous_id:xe[wr]},je):je)))))(X,de,xe).pipe((0,Hi.w)(lt=>(0,fr.mG)(this,void 0,void 0,function*(){return at&&(yield at.initialized),yield P.logEvent("screen_view",lt)}))).subscribe()})}ngOnDestroy(){this.disposable&&this.disposable.unsubscribe()}}return oe.\u0275fac=function(P){return new(P||oe)(y.LFG(Do),y.LFG(De.F0,8),y.LFG(c.Dx,8),y.LFG(y._Vd),y.LFG(y.R0b),y.LFG(js,8))},oe.\u0275prov=y.Yz7({token:oe,factory:oe.\u0275fac}),oe})(),Mr=(()=>{class oe{constructor(P,X,de){Mt.Z.registerVersion("angularfire",zn.q4.full,"analytics-compat"),P.app.then(()=>{})}}return oe.\u0275fac=function(P){return new(P||oe)(y.LFG(Do),y.LFG(Vr,8),y.LFG(js,8))},oe.\u0275mod=y.oAB({type:oe}),oe.\u0275inj=y.cJS({providers:[Do]}),oe})();var Cs=Y(1085),Nr=Y(377);class Ao{}class Gs{}const as="*";function vo(oe,a=null){return{type:2,steps:oe,options:a}}function ea(oe){return{type:6,styles:oe,offset:null}}function ms(oe){Promise.resolve().then(oe)}class no{constructor(a=0,P=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=a+P}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(a=>a()),this._onDoneFns=[])}onStart(a){this._originalOnStartFns.push(a),this._onStartFns.push(a)}onDone(a){this._originalOnDoneFns.push(a),this._onDoneFns.push(a)}onDestroy(a){this._onDestroyFns.push(a)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){ms(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(a=>a()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(a=>a()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(a){this._position=this.totalTime?a*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(a){const P="start"==a?this._onStartFns:this._onDoneFns;P.forEach(X=>X()),P.length=0}}class No{constructor(a){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=a;let P=0,X=0,de=0;const xe=this.players.length;0==xe?ms(()=>this._onFinish()):this.players.forEach(je=>{je.onDone(()=>{++P==xe&&this._onFinish()}),je.onDestroy(()=>{++X==xe&&this._onDestroy()}),je.onStart(()=>{++de==xe&&this._onStart()})}),this.totalTime=this.players.reduce((je,at)=>Math.max(je,at.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(a=>a()),this._onDoneFns=[])}init(){this.players.forEach(a=>a.init())}onStart(a){this._onStartFns.push(a)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(a=>a()),this._onStartFns=[])}onDone(a){this._onDoneFns.push(a)}onDestroy(a){this._onDestroyFns.push(a)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(a=>a.play())}pause(){this.players.forEach(a=>a.pause())}restart(){this.players.forEach(a=>a.restart())}finish(){this._onFinish(),this.players.forEach(a=>a.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(a=>a.destroy()),this._onDestroyFns.forEach(a=>a()),this._onDestroyFns=[])}reset(){this.players.forEach(a=>a.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(a){const P=a*this.totalTime;this.players.forEach(X=>{const de=X.totalTime?Math.min(1,P/X.totalTime):1;X.setPosition(de)})}getPosition(){const a=this.players.reduce((P,X)=>null===P||X.totalTime>P.totalTime?X:P,null);return null!=a?a.getPosition():0}beforeDestroy(){this.players.forEach(a=>{a.beforeDestroy&&a.beforeDestroy()})}triggerCallback(a){const P="start"==a?this._onStartFns:this._onDoneFns;P.forEach(X=>X()),P.length=0}}const ta="!";function fo(oe){return new y.vHH(3e3,!1)}function V(oe){switch(oe.length){case 0:return new no;case 1:return oe[0];default:return new No(oe)}}function Ie(oe,a,P,X,de=new Map,xe=new Map){const je=[],at=[];let lt=-1,yt=null;if(X.forEach(vt=>{const pt=vt.get("offset"),Ct=pt==lt,sn=Ct&&yt||new Map;vt.forEach((pn,Xt)=>{let Zt=Xt,Cn=pn;if("offset"!==Xt)switch(Zt=a.normalizePropertyName(Zt,je),Cn){case ta:Cn=de.get(Xt);break;case as:Cn=xe.get(Xt);break;default:Cn=a.normalizeStyleValue(Xt,Zt,Cn,je)}sn.set(Zt,Cn)}),Ct||at.push(sn),yt=sn,lt=pt}),je.length)throw function da(oe){return new y.vHH(3502,!1)}();return at}function Rt(oe,a,P,X){switch(a){case"start":oe.onStart(()=>X(P&&gn(P,"start",oe)));break;case"done":oe.onDone(()=>X(P&&gn(P,"done",oe)));break;case"destroy":oe.onDestroy(()=>X(P&&gn(P,"destroy",oe)))}}function gn(oe,a,P){const X=P.totalTime,xe=Nn(oe.element,oe.triggerName,oe.fromState,oe.toState,a||oe.phaseName,null==X?oe.totalTime:X,!!P.disabled),je=oe._data;return null!=je&&(xe._data=je),xe}function Nn(oe,a,P,X,de="",xe=0,je){return{element:oe,triggerName:a,fromState:P,toState:X,phaseName:de,totalTime:xe,disabled:!!je}}function qn(oe,a,P){let X=oe.get(a);return X||oe.set(a,X=P),X}function Ur(oe){const a=oe.indexOf(":");return[oe.substring(1,a),oe.slice(a+1)]}const Wr=(()=>typeof document>"u"?null:document.documentElement)();function qr(oe){const a=oe.parentNode||oe.host||null;return a===Wr?null:a}let Pr=null,Us=!1;function hs(oe,a){for(;a;){if(a===oe)return!0;a=qr(a)}return!1}function lo(oe,a,P){if(P)return Array.from(oe.querySelectorAll(a));const X=oe.querySelector(a);return X?[X]:[]}let va=(()=>{class oe{validateStyleProperty(P){return function Ro(oe){Pr||(Pr=function Io(){return typeof document<"u"?document.body:null}()||{},Us=!!Pr.style&&"WebkitAppearance"in Pr.style);let a=!0;return Pr.style&&!function ss(oe){return"ebkit"==oe.substring(1,6)}(oe)&&(a=oe in Pr.style,!a&&Us&&(a="Webkit"+oe.charAt(0).toUpperCase()+oe.slice(1)in Pr.style)),a}(P)}matchesElement(P,X){return!1}containsElement(P,X){return hs(P,X)}getParentElement(P){return qr(P)}query(P,X,de){return lo(P,X,de)}computeStyle(P,X,de){return de||""}animate(P,X,de,xe,je,at=[],lt){return new no(de,xe)}}return oe.\u0275fac=function(P){return new(P||oe)},oe.\u0275prov=y.Yz7({token:oe,factory:oe.\u0275fac}),oe})(),Go=(()=>{class oe{}return oe.NOOP=new va,oe})();const ja=1e3,Za="ng-enter",Ea="ng-leave",Xa="ng-trigger",so=".ng-trigger",na="ng-animating",nl=".ng-animating";function Bo(oe){if("number"==typeof oe)return oe;const a=oe.match(/^(-?[\.\d]+)(m?s)/);return!a||a.length<2?0:ul(parseFloat(a[1]),a[2])}function ul(oe,a){return"s"===a?oe*ja:oe}function k(oe,a,P){return oe.hasOwnProperty("duration")?oe:function ie(oe,a,P){let de,xe=0,je="";if("string"==typeof oe){const at=oe.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===at)return a.push(fo()),{duration:0,delay:0,easing:""};de=ul(parseFloat(at[1]),at[2]);const lt=at[3];null!=lt&&(xe=ul(parseFloat(lt),at[4]));const yt=at[5];yt&&(je=yt)}else de=oe;if(!P){let at=!1,lt=a.length;de<0&&(a.push(function jo(){return new y.vHH(3100,!1)}()),at=!0),xe<0&&(a.push(function Lo(){return new y.vHH(3101,!1)}()),at=!0),at&&a.splice(lt,0,fo())}return{duration:de,delay:xe,easing:je}}(oe,a,P)}function pe(oe,a={}){return Object.keys(oe).forEach(P=>{a[P]=oe[P]}),a}function Fe(oe){const a=new Map;return Object.keys(oe).forEach(P=>{a.set(P,oe[P])}),a}function nn(oe,a=new Map,P){if(P)for(let[X,de]of P)a.set(X,de);for(let[X,de]of oe)a.set(X,de);return a}function yn(oe,a,P){a.forEach((X,de)=>{const xe=ve(de);P&&!P.has(de)&&P.set(de,oe.style[xe]),oe.style[xe]=X})}function Pn(oe,a){a.forEach((P,X)=>{const de=ve(X);oe.style[de]=""})}function ui(oe){return Array.isArray(oe)?1==oe.length?oe[0]:vo(oe):oe}const Lr=new RegExp("{{\\s*(.+?)\\s*}}","g");function Rr(oe){let a=[];if("string"==typeof oe){let P;for(;P=Lr.exec(oe);)a.push(P[1]);Lr.lastIndex=0}return a}function Qs(oe,a,P){const X=oe.toString(),de=X.replace(Lr,(xe,je)=>{let at=a[je];return null==at&&(P.push(function Aa(oe){return new y.vHH(3003,!1)}()),at=""),at.toString()});return de==X?oe:de}function oo(oe){const a=[];let P=oe.next();for(;!P.done;)a.push(P.value),P=oe.next();return a}const ee=/-+([a-z0-9])/g;function ve(oe){return oe.replace(ee,(...a)=>a[1].toUpperCase())}function Fn(oe,a,P){switch(a.type){case 7:return oe.visitTrigger(a,P);case 0:return oe.visitState(a,P);case 1:return oe.visitTransition(a,P);case 2:return oe.visitSequence(a,P);case 3:return oe.visitGroup(a,P);case 4:return oe.visitAnimate(a,P);case 5:return oe.visitKeyframes(a,P);case 6:return oe.visitStyle(a,P);case 8:return oe.visitReference(a,P);case 9:return oe.visitAnimateChild(a,P);case 10:return oe.visitAnimateRef(a,P);case 11:return oe.visitQuery(a,P);case 12:return oe.visitStagger(a,P);default:throw function aa(oe){return new y.vHH(3004,!1)}()}}function ai(oe,a){return window.getComputedStyle(oe)[a]}const eo="*";function Yo(oe,a){const P=[];return"string"==typeof oe?oe.split(/\s*,\s*/).forEach(X=>function wi(oe,a,P){if(":"==oe[0]){const lt=function Ts(oe,a){switch(oe){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(P,X)=>parseFloat(X)>parseFloat(P);case":decrement":return(P,X)=>parseFloat(X)<parseFloat(P);default:return a.push(function Fo(oe){return new y.vHH(3016,!1)}()),"* => *"}}(oe,P);if("function"==typeof lt)return void a.push(lt);oe=lt}const X=oe.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==X||X.length<4)return P.push(function Bs(oe){return new y.vHH(3015,!1)}()),a;const de=X[1],xe=X[2],je=X[3];a.push(gr(de,je));"<"==xe[0]&&!(de==eo&&je==eo)&&a.push(gr(je,de))}(X,P,a)):P.push(oe),P}const fa=new Set(["true","1"]),_a=new Set(["false","0"]);function gr(oe,a){const P=fa.has(oe)||_a.has(oe),X=fa.has(a)||_a.has(a);return(de,xe)=>{let je=oe==eo||oe==de,at=a==eo||a==xe;return!je&&P&&"boolean"==typeof de&&(je=de?fa.has(oe):_a.has(oe)),!at&&X&&"boolean"==typeof xe&&(at=xe?fa.has(a):_a.has(a)),je&&at}}const Ci=new RegExp("s*:selfs*,?","g");function fi(oe,a,P,X){return new Ri(oe).build(a,P,X)}class Ri{constructor(a){this._driver=a}build(a,P,X){const de=new Al(P);return this._resetContextStyleTimingState(de),Fn(this,ui(a),de)}_resetContextStyleTimingState(a){a.currentQuerySelector="",a.collectedStyles=new Map,a.collectedStyles.set("",new Map),a.currentTime=0}visitTrigger(a,P){let X=P.queryCount=0,de=P.depCount=0;const xe=[],je=[];return"@"==a.name.charAt(0)&&P.errors.push(function F(){return new y.vHH(3006,!1)}()),a.definitions.forEach(at=>{if(this._resetContextStyleTimingState(P),0==at.type){const lt=at,yt=lt.name;yt.toString().split(/\s*,\s*/).forEach(vt=>{lt.name=vt,xe.push(this.visitState(lt,P))}),lt.name=yt}else if(1==at.type){const lt=this.visitTransition(at,P);X+=lt.queryCount,de+=lt.depCount,je.push(lt)}else P.errors.push(function Se(){return new y.vHH(3007,!1)}())}),{type:7,name:a.name,states:xe,transitions:je,queryCount:X,depCount:de,options:null}}visitState(a,P){const X=this.visitStyle(a.styles,P),de=a.options&&a.options.params||null;if(X.containsDynamicStyles){const xe=new Set,je=de||{};X.styles.forEach(at=>{at instanceof Map&&at.forEach(lt=>{Rr(lt).forEach(yt=>{je.hasOwnProperty(yt)||xe.add(yt)})})}),xe.size&&(oo(xe.values()),P.errors.push(function $(oe,a){return new y.vHH(3008,!1)}()))}return{type:0,name:a.name,style:X,options:de?{params:de}:null}}visitTransition(a,P){P.queryCount=0,P.depCount=0;const X=Fn(this,ui(a.animation),P);return{type:1,matchers:Yo(a.expr,P.errors),animation:X,queryCount:P.queryCount,depCount:P.depCount,options:il(a.options)}}visitSequence(a,P){return{type:2,steps:a.steps.map(X=>Fn(this,X,P)),options:il(a.options)}}visitGroup(a,P){const X=P.currentTime;let de=0;const xe=a.steps.map(je=>{P.currentTime=X;const at=Fn(this,je,P);return de=Math.max(de,P.currentTime),at});return P.currentTime=de,{type:3,steps:xe,options:il(a.options)}}visitAnimate(a,P){const X=function ql(oe,a){if(oe.hasOwnProperty("duration"))return oe;if("number"==typeof oe)return Sa(k(oe,a).duration,0,"");const P=oe;if(P.split(/\s+/).some(xe=>"{"==xe.charAt(0)&&"{"==xe.charAt(1))){const xe=Sa(0,0,"");return xe.dynamic=!0,xe.strValue=P,xe}const de=k(P,a);return Sa(de.duration,de.delay,de.easing)}(a.timings,P.errors);P.currentAnimateTimings=X;let de,xe=a.styles?a.styles:ea({});if(5==xe.type)de=this.visitKeyframes(xe,P);else{let je=a.styles,at=!1;if(!je){at=!0;const yt={};X.easing&&(yt.easing=X.easing),je=ea(yt)}P.currentTime+=X.duration+X.delay;const lt=this.visitStyle(je,P);lt.isEmptyStep=at,de=lt}return P.currentAnimateTimings=null,{type:4,timings:X,style:de,options:null}}visitStyle(a,P){const X=this._makeStyleAst(a,P);return this._validateStyleAst(X,P),X}_makeStyleAst(a,P){const X=[],de=Array.isArray(a.styles)?a.styles:[a.styles];for(let at of de)"string"==typeof at?at===as?X.push(at):P.errors.push(new y.vHH(3002,!1)):X.push(Fe(at));let xe=!1,je=null;return X.forEach(at=>{if(at instanceof Map&&(at.has("easing")&&(je=at.get("easing"),at.delete("easing")),!xe))for(let lt of at.values())if(lt.toString().indexOf("{{")>=0){xe=!0;break}}),{type:6,styles:X,easing:je,offset:a.offset,containsDynamicStyles:xe,options:null}}_validateStyleAst(a,P){const X=P.currentAnimateTimings;let de=P.currentTime,xe=P.currentTime;X&&xe>0&&(xe-=X.duration+X.delay),a.styles.forEach(je=>{"string"!=typeof je&&je.forEach((at,lt)=>{const yt=P.collectedStyles.get(P.currentQuerySelector),vt=yt.get(lt);let pt=!0;vt&&(xe!=de&&xe>=vt.startTime&&de<=vt.endTime&&(P.errors.push(function oi(oe,a,P,X,de){return new y.vHH(3010,!1)}()),pt=!1),xe=vt.startTime),pt&&yt.set(lt,{startTime:xe,endTime:de}),P.options&&function Fi(oe,a,P){const X=a.params||{},de=Rr(oe);de.length&&de.forEach(xe=>{X.hasOwnProperty(xe)||P.push(function bs(oe){return new y.vHH(3001,!1)}())})}(at,P.options,P.errors)})})}visitKeyframes(a,P){const X={type:5,styles:[],options:null};if(!P.currentAnimateTimings)return P.errors.push(function Yi(){return new y.vHH(3011,!1)}()),X;let xe=0;const je=[];let at=!1,lt=!1,yt=0;const vt=a.steps.map(Cn=>{const Qt=this._makeStyleAst(Cn,P);let Ht=null!=Qt.offset?Qt.offset:function Tl(oe){if("string"==typeof oe)return null;let a=null;if(Array.isArray(oe))oe.forEach(P=>{if(P instanceof Map&&P.has("offset")){const X=P;a=parseFloat(X.get("offset")),X.delete("offset")}});else if(oe instanceof Map&&oe.has("offset")){const P=oe;a=parseFloat(P.get("offset")),P.delete("offset")}return a}(Qt.styles),$n=0;return null!=Ht&&(xe++,$n=Qt.offset=Ht),lt=lt||$n<0||$n>1,at=at||$n<yt,yt=$n,je.push($n),Qt});lt&&P.errors.push(function Tr(){return new y.vHH(3012,!1)}()),at&&P.errors.push(function cs(){return new y.vHH(3200,!1)}());const pt=a.steps.length;let Ct=0;xe>0&&xe<pt?P.errors.push(function Ms(){return new y.vHH(3202,!1)}()):0==xe&&(Ct=1/(pt-1));const sn=pt-1,pn=P.currentTime,Xt=P.currentAnimateTimings,Zt=Xt.duration;return vt.forEach((Cn,Qt)=>{const Ht=Ct>0?Qt==sn?1:Ct*Qt:je[Qt],$n=Ht*Zt;P.currentTime=pn+Xt.delay+$n,Xt.duration=$n,this._validateStyleAst(Cn,P),Cn.offset=Ht,X.styles.push(Cn)}),X}visitReference(a,P){return{type:8,animation:Fn(this,ui(a.animation),P),options:il(a.options)}}visitAnimateChild(a,P){return P.depCount++,{type:9,options:il(a.options)}}visitAnimateRef(a,P){return{type:10,animation:this.visitReference(a.animation,P),options:il(a.options)}}visitQuery(a,P){const X=P.currentQuerySelector,de=a.options||{};P.queryCount++,P.currentQuery=a;const[xe,je]=function ao(oe){const a=!!oe.split(/\s*,\s*/).find(P=>":self"==P);return a&&(oe=oe.replace(Ci,"")),oe=oe.replace(/@\*/g,so).replace(/@\w+/g,P=>so+"-"+P.slice(1)).replace(/:animating/g,nl),[oe,a]}(a.selector);P.currentQuerySelector=X.length?X+" "+xe:xe,qn(P.collectedStyles,P.currentQuerySelector,new Map);const at=Fn(this,ui(a.animation),P);return P.currentQuery=null,P.currentQuerySelector=X,{type:11,selector:xe,limit:de.limit||0,optional:!!de.optional,includeSelf:je,animation:at,originalSelector:a.selector,options:il(a.options)}}visitStagger(a,P){P.currentQuery||P.errors.push(function gs(){return new y.vHH(3013,!1)}());const X="full"===a.timings?{duration:0,delay:0,easing:"full"}:k(a.timings,P.errors,!0);return{type:12,animation:Fn(this,ui(a.animation),P),timings:X,options:null}}}class Al{constructor(a){this.errors=a,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function il(oe){return oe?(oe=pe(oe)).params&&(oe.params=function Kl(oe){return oe?pe(oe):null}(oe.params)):oe={},oe}function Sa(oe,a,P){return{duration:oe,delay:a,easing:P}}function ml(oe,a,P,X,de,xe,je=null,at=!1){return{type:1,element:oe,keyframes:a,preStyleProps:P,postStyleProps:X,duration:de,delay:xe,totalTime:de+xe,easing:je,subTimeline:at}}class Nl{constructor(){this._map=new Map}get(a){return this._map.get(a)||[]}append(a,P){let X=this._map.get(a);X||this._map.set(a,X=[]),X.push(...P)}has(a){return this._map.has(a)}clear(){this._map.clear()}}const jl=new RegExp(":enter","g"),Ba=new RegExp(":leave","g");function oc(oe,a,P,X,de,xe=new Map,je=new Map,at,lt,yt=[]){return(new Ko).buildKeyframes(oe,a,P,X,de,xe,je,at,lt,yt)}class Ko{buildKeyframes(a,P,X,de,xe,je,at,lt,yt,vt=[]){yt=yt||new Nl;const pt=new rl(a,P,yt,de,xe,vt,[]);pt.options=lt;const Ct=lt.delay?Bo(lt.delay):0;pt.currentTimeline.delayNextStep(Ct),pt.currentTimeline.setStyles([je],null,pt.errors,lt),Fn(this,X,pt);const sn=pt.timelines.filter(pn=>pn.containsAnimation());if(sn.length&&at.size){let pn;for(let Xt=sn.length-1;Xt>=0;Xt--){const Zt=sn[Xt];if(Zt.element===P){pn=Zt;break}}pn&&!pn.allowOnlyTimelineStyles()&&pn.setStyles([at],null,pt.errors,lt)}return sn.length?sn.map(pn=>pn.buildKeyframes()):[ml(P,[],[],[],0,Ct,"",!1)]}visitTrigger(a,P){}visitState(a,P){}visitTransition(a,P){}visitAnimateChild(a,P){const X=P.subInstructions.get(P.element);if(X){const de=P.createSubContext(a.options),xe=P.currentTimeline.currentTime,je=this._visitSubInstructions(X,de,de.options);xe!=je&&P.transformIntoNewTimeline(je)}P.previousNode=a}visitAnimateRef(a,P){const X=P.createSubContext(a.options);X.transformIntoNewTimeline(),this._applyAnimationRefDelays([a.options,a.animation.options],P,X),this.visitReference(a.animation,X),P.transformIntoNewTimeline(X.currentTimeline.currentTime),P.previousNode=a}_applyAnimationRefDelays(a,P,X){for(const xe of a){const je=null==xe?void 0:xe.delay;if(je){var de;const at="number"==typeof je?je:Bo(Qs(je,null!==(de=null==xe?void 0:xe.params)&&void 0!==de?de:{},P.errors));X.delayNextStep(at)}}}_visitSubInstructions(a,P,X){let xe=P.currentTimeline.currentTime;const je=null!=X.duration?Bo(X.duration):null,at=null!=X.delay?Bo(X.delay):null;return 0!==je&&a.forEach(lt=>{const yt=P.appendInstructionToTimeline(lt,je,at);xe=Math.max(xe,yt.duration+yt.delay)}),xe}visitReference(a,P){P.updateOptions(a.options,!0),Fn(this,a.animation,P),P.previousNode=a}visitSequence(a,P){const X=P.subContextCount;let de=P;const xe=a.options;if(xe&&(xe.params||xe.delay)&&(de=P.createSubContext(xe),de.transformIntoNewTimeline(),null!=xe.delay)){6==de.previousNode.type&&(de.currentTimeline.snapshotCurrentStyles(),de.previousNode=Zr);const je=Bo(xe.delay);de.delayNextStep(je)}a.steps.length&&(a.steps.forEach(je=>Fn(this,je,de)),de.currentTimeline.applyStylesToKeyframe(),de.subContextCount>X&&de.transformIntoNewTimeline()),P.previousNode=a}visitGroup(a,P){const X=[];let de=P.currentTimeline.currentTime;const xe=a.options&&a.options.delay?Bo(a.options.delay):0;a.steps.forEach(je=>{const at=P.createSubContext(a.options);xe&&at.delayNextStep(xe),Fn(this,je,at),de=Math.max(de,at.currentTimeline.currentTime),X.push(at.currentTimeline)}),X.forEach(je=>P.currentTimeline.mergeTimelineCollectedStyles(je)),P.transformIntoNewTimeline(de),P.previousNode=a}_visitTiming(a,P){if(a.dynamic){const X=a.strValue;return k(P.params?Qs(X,P.params,P.errors):X,P.errors)}return{duration:a.duration,delay:a.delay,easing:a.easing}}visitAnimate(a,P){const X=P.currentAnimateTimings=this._visitTiming(a.timings,P),de=P.currentTimeline;X.delay&&(P.incrementTime(X.delay),de.snapshotCurrentStyles());const xe=a.style;5==xe.type?this.visitKeyframes(xe,P):(P.incrementTime(X.duration),this.visitStyle(xe,P),de.applyStylesToKeyframe()),P.currentAnimateTimings=null,P.previousNode=a}visitStyle(a,P){const X=P.currentTimeline,de=P.currentAnimateTimings;!de&&X.hasCurrentStyleProperties()&&X.forwardFrame();const xe=de&&de.easing||a.easing;a.isEmptyStep?X.applyEmptyStep(xe):X.setStyles(a.styles,xe,P.errors,P.options),P.previousNode=a}visitKeyframes(a,P){const X=P.currentAnimateTimings,de=P.currentTimeline.duration,xe=X.duration,at=P.createSubContext().currentTimeline;at.easing=X.easing,a.styles.forEach(lt=>{at.forwardTime((lt.offset||0)*xe),at.setStyles(lt.styles,lt.easing,P.errors,P.options),at.applyStylesToKeyframe()}),P.currentTimeline.mergeTimelineCollectedStyles(at),P.transformIntoNewTimeline(de+xe),P.previousNode=a}visitQuery(a,P){const X=P.currentTimeline.currentTime,de=a.options||{},xe=de.delay?Bo(de.delay):0;xe&&(6===P.previousNode.type||0==X&&P.currentTimeline.hasCurrentStyleProperties())&&(P.currentTimeline.snapshotCurrentStyles(),P.previousNode=Zr);let je=X;const at=P.invokeQuery(a.selector,a.originalSelector,a.limit,a.includeSelf,!!de.optional,P.errors);P.currentQueryTotal=at.length;let lt=null;at.forEach((yt,vt)=>{P.currentQueryIndex=vt;const pt=P.createSubContext(a.options,yt);xe&&pt.delayNextStep(xe),yt===P.element&&(lt=pt.currentTimeline),Fn(this,a.animation,pt),pt.currentTimeline.applyStylesToKeyframe(),je=Math.max(je,pt.currentTimeline.currentTime)}),P.currentQueryIndex=0,P.currentQueryTotal=0,P.transformIntoNewTimeline(je),lt&&(P.currentTimeline.mergeTimelineCollectedStyles(lt),P.currentTimeline.snapshotCurrentStyles()),P.previousNode=a}visitStagger(a,P){const X=P.parentContext,de=P.currentTimeline,xe=a.timings,je=Math.abs(xe.duration),at=je*(P.currentQueryTotal-1);let lt=je*P.currentQueryIndex;switch(xe.duration<0?"reverse":xe.easing){case"reverse":lt=at-lt;break;case"full":lt=X.currentStaggerTime}const vt=P.currentTimeline;lt&&vt.delayNextStep(lt);const pt=vt.currentTime;Fn(this,a.animation,P),P.previousNode=a,X.currentStaggerTime=de.currentTime-pt+(de.startTime-X.currentTimeline.startTime)}}const Zr={};class rl{constructor(a,P,X,de,xe,je,at,lt){this._driver=a,this.element=P,this.subInstructions=X,this._enterClassName=de,this._leaveClassName=xe,this.errors=je,this.timelines=at,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Zr,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=lt||new zs(this._driver,P,0),at.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(a,P){if(!a)return;const X=a;let de=this.options;null!=X.duration&&(de.duration=Bo(X.duration)),null!=X.delay&&(de.delay=Bo(X.delay));const xe=X.params;if(xe){let je=de.params;je||(je=this.options.params={}),Object.keys(xe).forEach(at=>{(!P||!je.hasOwnProperty(at))&&(je[at]=Qs(xe[at],je,this.errors))})}}_copyOptions(){const a={};if(this.options){const P=this.options.params;if(P){const X=a.params={};Object.keys(P).forEach(de=>{X[de]=P[de]})}}return a}createSubContext(a=null,P,X){const de=P||this.element,xe=new rl(this._driver,de,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(de,X||0));return xe.previousNode=this.previousNode,xe.currentAnimateTimings=this.currentAnimateTimings,xe.options=this._copyOptions(),xe.updateOptions(a),xe.currentQueryIndex=this.currentQueryIndex,xe.currentQueryTotal=this.currentQueryTotal,xe.parentContext=this,this.subContextCount++,xe}transformIntoNewTimeline(a){return this.previousNode=Zr,this.currentTimeline=this.currentTimeline.fork(this.element,a),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(a,P,X){const de={duration:null!=P?P:a.duration,delay:this.currentTimeline.currentTime+(null!=X?X:0)+a.delay,easing:""},xe=new xl(this._driver,a.element,a.keyframes,a.preStyleProps,a.postStyleProps,de,a.stretchStartingKeyframe);return this.timelines.push(xe),de}incrementTime(a){this.currentTimeline.forwardTime(this.currentTimeline.duration+a)}delayNextStep(a){a>0&&this.currentTimeline.delayNextStep(a)}invokeQuery(a,P,X,de,xe,je){let at=[];if(de&&at.push(this.element),a.length>0){a=(a=a.replace(jl,"."+this._enterClassName)).replace(Ba,"."+this._leaveClassName);let yt=this._driver.query(this.element,a,1!=X);0!==X&&(yt=X<0?yt.slice(yt.length+X,yt.length):yt.slice(0,X)),at.push(...yt)}return!xe&&0==at.length&&je.push(function wa(oe){return new y.vHH(3014,!1)}()),at}}class zs{constructor(a,P,X,de){this._driver=a,this.element=P,this.startTime=X,this._elementTimelineStylesLookup=de,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(P),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(P,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(a){const P=1===this._keyframes.size&&this._pendingStyles.size;this.duration||P?(this.forwardTime(this.currentTime+a),P&&this.snapshotCurrentStyles()):this.startTime+=a}fork(a,P){return this.applyStylesToKeyframe(),new zs(this._driver,a,P||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(a){this.applyStylesToKeyframe(),this.duration=a,this._loadKeyframe()}_updateStyle(a,P){this._localTimelineStyles.set(a,P),this._globalTimelineStyles.set(a,P),this._styleSummary.set(a,{time:this.currentTime,value:P})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(a){a&&this._previousKeyframe.set("easing",a);for(let[P,X]of this._globalTimelineStyles)this._backFill.set(P,X||as),this._currentKeyframe.set(P,as);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(a,P,X,de){P&&this._previousKeyframe.set("easing",P);const xe=de&&de.params||{},je=function Ji(oe,a){const P=new Map;let X;return oe.forEach(de=>{if("*"===de){X=X||a.keys();for(let xe of X)P.set(xe,as)}else nn(de,P)}),P}(a,this._globalTimelineStyles);for(let[lt,yt]of je){const vt=Qs(yt,xe,X);var at;this._pendingStyles.set(lt,vt),this._localTimelineStyles.has(lt)||this._backFill.set(lt,null!==(at=this._globalTimelineStyles.get(lt))&&void 0!==at?at:as),this._updateStyle(lt,vt)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((a,P)=>{this._currentKeyframe.set(P,a)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((a,P)=>{this._currentKeyframe.has(P)||this._currentKeyframe.set(P,a)}))}snapshotCurrentStyles(){for(let[a,P]of this._localTimelineStyles)this._pendingStyles.set(a,P),this._updateStyle(a,P)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const a=[];for(let P in this._currentKeyframe)a.push(P);return a}mergeTimelineCollectedStyles(a){a._styleSummary.forEach((P,X)=>{const de=this._styleSummary.get(X);(!de||P.time>de.time)&&this._updateStyle(X,P.value)})}buildKeyframes(){this.applyStylesToKeyframe();const a=new Set,P=new Set,X=1===this._keyframes.size&&0===this.duration;let de=[];this._keyframes.forEach((at,lt)=>{const yt=nn(at,new Map,this._backFill);yt.forEach((vt,pt)=>{vt===ta?a.add(pt):vt===as&&P.add(pt)}),X||yt.set("offset",lt/this.duration),de.push(yt)});const xe=a.size?oo(a.values()):[],je=P.size?oo(P.values()):[];if(X){const at=de[0],lt=new Map(at);at.set("offset",0),lt.set("offset",1),de=[at,lt]}return ml(this.element,de,xe,je,this.duration,this.startTime,this.easing,!1)}}class xl extends zs{constructor(a,P,X,de,xe,je,at=!1){super(a,P,je.delay),this.keyframes=X,this.preStyleProps=de,this.postStyleProps=xe,this._stretchStartingKeyframe=at,this.timings={duration:je.duration,delay:je.delay,easing:je.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let a=this.keyframes,{delay:P,duration:X,easing:de}=this.timings;if(this._stretchStartingKeyframe&&P){const xe=[],je=X+P,at=P/je,lt=nn(a[0]);lt.set("offset",0),xe.push(lt);const yt=nn(a[0]);yt.set("offset",qs(at)),xe.push(yt);const vt=a.length-1;for(let pt=1;pt<=vt;pt++){let Ct=nn(a[pt]);const sn=Ct.get("offset");Ct.set("offset",qs((P+sn*X)/je)),xe.push(Ct)}X=je,P=0,de="",a=xe}return ml(this.element,a,this.preStyleProps,this.postStyleProps,X,P,de,!0)}}function qs(oe,a=3){const P=Math.pow(10,a-1);return Math.round(oe*P)/P}class La{}const Zl=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class _t extends La{normalizePropertyName(a,P){return ve(a)}normalizeStyleValue(a,P,X,de){let xe="";const je=X.toString().trim();if(Zl.has(P)&&0!==X&&"0"!==X)if("number"==typeof X)xe="px";else{const at=X.match(/^[+-]?[\d\.]+([a-z]*)$/);at&&0==at[1].length&&de.push(function Ho(oe,a){return new y.vHH(3005,!1)}())}return je+xe}}function Tn(oe,a,P,X,de,xe,je,at,lt,yt,vt,pt,Ct){return{type:0,element:oe,triggerName:a,isRemovalTransition:de,fromState:P,fromStyles:xe,toState:X,toStyles:je,timelines:at,queriedElements:lt,preStyleProps:yt,postStyleProps:vt,totalTime:pt,errors:Ct}}const An={};class er{constructor(a,P,X){this._triggerName=a,this.ast=P,this._stateStyles=X}match(a,P,X,de){return function Rs(oe,a,P,X,de){return oe.some(xe=>xe(a,P,X,de))}(this.ast.matchers,a,P,X,de)}buildStyles(a,P,X){let de=this._stateStyles.get("*");return void 0!==a&&(de=this._stateStyles.get(null==a?void 0:a.toString())||de),de?de.buildStyles(P,X):new Map}build(a,P,X,de,xe,je,at,lt,yt,vt){var pt;const Ct=[],sn=this.ast.options&&this.ast.options.params||An,Xt=this.buildStyles(X,at&&at.params||An,Ct),Zt=lt&&lt.params||An,Cn=this.buildStyles(de,Zt,Ct),Qt=new Set,Ht=new Map,$n=new Map,xi="void"===de,Si={params:Ys(Zt,sn),delay:null===(pt=this.ast.options)||void 0===pt?void 0:pt.delay},lr=vt?[]:oc(a,P,this.ast.animation,xe,je,Xt,Cn,Si,yt,Ct);let Qi=0;if(lr.forEach(br=>{Qi=Math.max(br.duration+br.delay,Qi)}),Ct.length)return Tn(P,this._triggerName,X,de,xi,Xt,Cn,[],[],Ht,$n,Qi,Ct);lr.forEach(br=>{const xr=br.element,gi=qn(Ht,xr,new Set);br.preStyleProps.forEach(bn=>gi.add(bn));const ci=qn($n,xr,new Set);br.postStyleProps.forEach(bn=>ci.add(bn)),xr!==P&&Qt.add(xr)});const Pi=oo(Qt.values());return Tn(P,this._triggerName,X,de,xi,Xt,Cn,lr,Pi,Ht,$n,Qi)}}function Ys(oe,a){const P=pe(a);for(const X in oe)oe.hasOwnProperty(X)&&null!=oe[X]&&(P[X]=oe[X]);return P}class Ws{constructor(a,P,X){this.styles=a,this.defaultParams=P,this.normalizer=X}buildStyles(a,P){const X=new Map,de=pe(this.defaultParams);return Object.keys(a).forEach(xe=>{const je=a[xe];null!==je&&(de[xe]=je)}),this.styles.styles.forEach(xe=>{"string"!=typeof xe&&xe.forEach((je,at)=>{je&&(je=Qs(je,de,P));const lt=this.normalizer.normalizePropertyName(at,P);je=this.normalizer.normalizeStyleValue(at,lt,je,P),X.set(at,je)})}),X}}class Ca{constructor(a,P,X){this.name=a,this.ast=P,this._normalizer=X,this.transitionFactories=[],this.states=new Map,P.states.forEach(de=>{this.states.set(de.name,new Ws(de.style,de.options&&de.options.params||{},X))}),Bn(this.states,"true","1"),Bn(this.states,"false","0"),P.transitions.forEach(de=>{this.transitionFactories.push(new er(a,de,this.states))}),this.fallbackTransition=function $a(oe,a,P){return new er(oe,{type:1,animation:{type:2,steps:[],options:null},matchers:[(je,at)=>!0],options:null,queryCount:0,depCount:0},a)}(a,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(a,P,X,de){return this.transitionFactories.find(je=>je.match(a,P,X,de))||null}matchStyles(a,P,X){return this.fallbackTransition.buildStyles(a,P,X)}}function Bn(oe,a,P){oe.has(a)?oe.has(P)||oe.set(P,oe.get(a)):oe.has(P)&&oe.set(a,oe.get(P))}const vl=new Nl;class Ha{constructor(a,P,X){this.bodyNode=a,this._driver=P,this._normalizer=X,this._animations=new Map,this._playersById=new Map,this.players=[]}register(a,P){const X=[],xe=fi(this._driver,P,X,[]);if(X.length)throw function ys(oe){return new y.vHH(3503,!1)}();this._animations.set(a,xe)}_buildPlayer(a,P,X){const de=a.element,xe=Ie(0,this._normalizer,0,a.keyframes,P,X);return this._driver.animate(de,xe,a.duration,a.delay,a.easing,[],!0)}create(a,P,X={}){const de=[],xe=this._animations.get(a);let je;const at=new Map;if(xe?(je=oc(this._driver,P,xe,Za,Ea,new Map,new Map,X,vl,de),je.forEach(vt=>{const pt=qn(at,vt.element,new Map);vt.postStyleProps.forEach(Ct=>pt.set(Ct,null))})):(de.push(function ya(){return new y.vHH(3300,!1)}()),je=[]),de.length)throw function Uo(oe){return new y.vHH(3504,!1)}();at.forEach((vt,pt)=>{vt.forEach((Ct,sn)=>{vt.set(sn,this._driver.computeStyle(pt,sn,as))})});const yt=V(je.map(vt=>{const pt=at.get(vt.element);return this._buildPlayer(vt,new Map,pt)}));return this._playersById.set(a,yt),yt.onDestroy(()=>this.destroy(a)),this.players.push(yt),yt}destroy(a){const P=this._getPlayer(a);P.destroy(),this._playersById.delete(a);const X=this.players.indexOf(P);X>=0&&this.players.splice(X,1)}_getPlayer(a){const P=this._playersById.get(a);if(!P)throw function Na(oe){return new y.vHH(3301,!1)}();return P}listen(a,P,X,de){const xe=Nn(P,"","","");return Rt(this._getPlayer(a),X,xe,de),()=>{}}command(a,P,X,de){if("register"==X)return void this.register(a,de[0]);if("create"==X)return void this.create(a,P,de[0]||{});const xe=this._getPlayer(a);switch(X){case"play":xe.play();break;case"pause":xe.pause();break;case"reset":xe.reset();break;case"restart":xe.restart();break;case"finish":xe.finish();break;case"init":xe.init();break;case"setPosition":xe.setPosition(parseFloat(de[0]));break;case"destroy":this.destroy(a)}}}const Jl="ng-animate-queued",ba="ng-animate-disabled",Z=[],L={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},te={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Ee="__ng_removed";class mt{get params(){return this.options.params}constructor(a,P=""){this.namespaceId=P;const X=a&&a.hasOwnProperty("value");if(this.value=function ca(oe){return null!=oe?oe:null}(X?a.value:a),X){const xe=pe(a);delete xe.value,this.options=xe}else this.options={};this.options.params||(this.options.params={})}absorbOptions(a){const P=a.params;if(P){const X=this.options.params;Object.keys(P).forEach(de=>{null==X[de]&&(X[de]=P[de])})}}}const st="void",En=new mt(st);class ni{constructor(a,P,X){this.id=a,this.hostElement=P,this._engine=X,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+a,D(P,this._hostClassName)}listen(a,P,X,de){if(!this._triggers.has(P))throw function Ps(oe,a){return new y.vHH(3302,!1)}();if(null==X||0==X.length)throw function ha(oe){return new y.vHH(3303,!1)}();if(!function m(oe){return"start"==oe||"done"==oe}(X))throw function tl(oe,a){return new y.vHH(3400,!1)}();const xe=qn(this._elementListeners,a,[]),je={name:P,phase:X,callback:de};xe.push(je);const at=qn(this._engine.statesByElement,a,new Map);return at.has(P)||(D(a,Xa),D(a,Xa+"-"+P),at.set(P,En)),()=>{this._engine.afterFlush(()=>{const lt=xe.indexOf(je);lt>=0&&xe.splice(lt,1),this._triggers.has(P)||at.delete(P)})}}register(a,P){return!this._triggers.has(a)&&(this._triggers.set(a,P),!0)}_getTrigger(a){const P=this._triggers.get(a);if(!P)throw function Pe(oe){return new y.vHH(3401,!1)}();return P}trigger(a,P,X,de=!0){const xe=this._getTrigger(P),je=new fs(this.id,P,a);let at=this._engine.statesByElement.get(a);at||(D(a,Xa),D(a,Xa+"-"+P),this._engine.statesByElement.set(a,at=new Map));let lt=at.get(P);const yt=new mt(X,this.id);if(!(X&&X.hasOwnProperty("value"))&&lt&&yt.absorbOptions(lt.options),at.set(P,yt),lt||(lt=En),yt.value!==st&&lt.value===yt.value){if(!function ke(oe,a){const P=Object.keys(oe),X=Object.keys(a);if(P.length!=X.length)return!1;for(let de=0;de<P.length;de++){const xe=P[de];if(!a.hasOwnProperty(xe)||oe[xe]!==a[xe])return!1}return!0}(lt.params,yt.params)){const Xt=[],Zt=xe.matchStyles(lt.value,lt.params,Xt),Cn=xe.matchStyles(yt.value,yt.params,Xt);Xt.length?this._engine.reportError(Xt):this._engine.afterFlush(()=>{Pn(a,Zt),yn(a,Cn)})}return}const Ct=qn(this._engine.playersByElement,a,[]);Ct.forEach(Xt=>{Xt.namespaceId==this.id&&Xt.triggerName==P&&Xt.queued&&Xt.destroy()});let sn=xe.matchTransition(lt.value,yt.value,a,yt.params),pn=!1;if(!sn){if(!de)return;sn=xe.fallbackTransition,pn=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:a,triggerName:P,transition:sn,fromState:lt,toState:yt,player:je,isFallbackTransition:pn}),pn||(D(a,Jl),je.onStart(()=>{R(a,Jl)})),je.onDone(()=>{let Xt=this.players.indexOf(je);Xt>=0&&this.players.splice(Xt,1);const Zt=this._engine.playersByElement.get(a);if(Zt){let Cn=Zt.indexOf(je);Cn>=0&&Zt.splice(Cn,1)}}),this.players.push(je),Ct.push(je),je}deregister(a){this._triggers.delete(a),this._engine.statesByElement.forEach(P=>P.delete(a)),this._elementListeners.forEach((P,X)=>{this._elementListeners.set(X,P.filter(de=>de.name!=a))})}clearElementCache(a){this._engine.statesByElement.delete(a),this._elementListeners.delete(a);const P=this._engine.playersByElement.get(a);P&&(P.forEach(X=>X.destroy()),this._engine.playersByElement.delete(a))}_signalRemovalForInnerTriggers(a,P){const X=this._engine.driver.query(a,so,!0);X.forEach(de=>{if(de[Ee])return;const xe=this._engine.fetchNamespacesByElement(de);xe.size?xe.forEach(je=>je.triggerLeaveAnimation(de,P,!1,!0)):this.clearElementCache(de)}),this._engine.afterFlushAnimationsDone(()=>X.forEach(de=>this.clearElementCache(de)))}triggerLeaveAnimation(a,P,X,de){const xe=this._engine.statesByElement.get(a),je=new Map;if(xe){const at=[];if(xe.forEach((lt,yt)=>{if(je.set(yt,lt.value),this._triggers.has(yt)){const vt=this.trigger(a,yt,st,de);vt&&at.push(vt)}}),at.length)return this._engine.markElementAsRemoved(this.id,a,!0,P,je),X&&V(at).onDone(()=>this._engine.processLeaveNode(a)),!0}return!1}prepareLeaveAnimationListeners(a){const P=this._elementListeners.get(a),X=this._engine.statesByElement.get(a);if(P&&X){const de=new Set;P.forEach(xe=>{const je=xe.name;if(de.has(je))return;de.add(je);const lt=this._triggers.get(je).fallbackTransition,yt=X.get(je)||En,vt=new mt(st),pt=new fs(this.id,je,a);this._engine.totalQueuedPlayers++,this._queue.push({element:a,triggerName:je,transition:lt,fromState:yt,toState:vt,player:pt,isFallbackTransition:!0})})}}removeNode(a,P){const X=this._engine;if(a.childElementCount&&this._signalRemovalForInnerTriggers(a,P),this.triggerLeaveAnimation(a,P,!0))return;let de=!1;if(X.totalAnimations){const xe=X.players.length?X.playersByQueriedElement.get(a):[];if(xe&&xe.length)de=!0;else{let je=a;for(;je=je.parentNode;)if(X.statesByElement.get(je)){de=!0;break}}}if(this.prepareLeaveAnimationListeners(a),de)X.markElementAsRemoved(this.id,a,!1,P);else{const xe=a[Ee];(!xe||xe===L)&&(X.afterFlush(()=>this.clearElementCache(a)),X.destroyInnerAnimations(a),X._onRemovalComplete(a,P))}}insertNode(a,P){D(a,this._hostClassName)}drainQueuedTransitions(a){const P=[];return this._queue.forEach(X=>{const de=X.player;if(de.destroyed)return;const xe=X.element,je=this._elementListeners.get(xe);je&&je.forEach(at=>{if(at.name==X.triggerName){const lt=Nn(xe,X.triggerName,X.fromState.value,X.toState.value);lt._data=a,Rt(X.player,at.phase,lt,at.callback)}}),de.markedForDestroy?this._engine.afterFlush(()=>{de.destroy()}):P.push(X)}),this._queue=[],P.sort((X,de)=>{const xe=X.transition.ast.depCount,je=de.transition.ast.depCount;return 0==xe||0==je?xe-je:this._engine.driver.containsElement(X.element,de.element)?1:-1})}destroy(a){this.players.forEach(P=>P.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,a)}elementContainsData(a){let P=!1;return this._elementListeners.has(a)&&(P=!0),P=!!this._queue.find(X=>X.element===a)||P,P}}class dr{_onRemovalComplete(a,P){this.onRemovalComplete(a,P)}constructor(a,P,X){this.bodyNode=a,this.driver=P,this._normalizer=X,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(de,xe)=>{}}get queuedPlayers(){const a=[];return this._namespaceList.forEach(P=>{P.players.forEach(X=>{X.queued&&a.push(X)})}),a}createNamespace(a,P){const X=new ni(a,P,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,P)?this._balanceNamespaceList(X,P):(this.newHostElements.set(P,X),this.collectEnterElement(P)),this._namespaceLookup[a]=X}_balanceNamespaceList(a,P){const X=this._namespaceList,de=this.namespacesByHostElement;if(X.length-1>=0){let je=!1,at=this.driver.getParentElement(P);for(;at;){const lt=de.get(at);if(lt){const yt=X.indexOf(lt);X.splice(yt+1,0,a),je=!0;break}at=this.driver.getParentElement(at)}je||X.unshift(a)}else X.push(a);return de.set(P,a),a}register(a,P){let X=this._namespaceLookup[a];return X||(X=this.createNamespace(a,P)),X}registerTrigger(a,P,X){let de=this._namespaceLookup[a];de&&de.register(P,X)&&this.totalAnimations++}destroy(a,P){if(!a)return;const X=this._fetchNamespace(a);this.afterFlush(()=>{this.namespacesByHostElement.delete(X.hostElement),delete this._namespaceLookup[a];const de=this._namespaceList.indexOf(X);de>=0&&this._namespaceList.splice(de,1)}),this.afterFlushAnimationsDone(()=>X.destroy(P))}_fetchNamespace(a){return this._namespaceLookup[a]}fetchNamespacesByElement(a){const P=new Set,X=this.statesByElement.get(a);if(X)for(let de of X.values())if(de.namespaceId){const xe=this._fetchNamespace(de.namespaceId);xe&&P.add(xe)}return P}trigger(a,P,X,de){if(E(P)){const xe=this._fetchNamespace(a);if(xe)return xe.trigger(P,X,de),!0}return!1}insertNode(a,P,X,de){if(!E(P))return;const xe=P[Ee];if(xe&&xe.setForRemoval){xe.setForRemoval=!1,xe.setForMove=!0;const je=this.collectedLeaveElements.indexOf(P);je>=0&&this.collectedLeaveElements.splice(je,1)}if(a){const je=this._fetchNamespace(a);je&&je.insertNode(P,X)}de&&this.collectEnterElement(P)}collectEnterElement(a){this.collectedEnterElements.push(a)}markElementAsDisabled(a,P){P?this.disabledNodes.has(a)||(this.disabledNodes.add(a),D(a,ba)):this.disabledNodes.has(a)&&(this.disabledNodes.delete(a),R(a,ba))}removeNode(a,P,X,de){if(E(P)){const xe=a?this._fetchNamespace(a):null;if(xe?xe.removeNode(P,de):this.markElementAsRemoved(a,P,!1,de),X){const je=this.namespacesByHostElement.get(P);je&&je.id!==a&&je.removeNode(P,de)}}else this._onRemovalComplete(P,de)}markElementAsRemoved(a,P,X,de,xe){this.collectedLeaveElements.push(P),P[Ee]={namespaceId:a,setForRemoval:de,hasAnimation:X,removedBeforeQueried:!1,previousTriggersValues:xe}}listen(a,P,X,de,xe){return E(P)?this._fetchNamespace(a).listen(P,X,de,xe):()=>{}}_buildInstruction(a,P,X,de,xe){return a.transition.build(this.driver,a.element,a.fromState.value,a.toState.value,X,de,a.fromState.options,a.toState.options,P,xe)}destroyInnerAnimations(a){let P=this.driver.query(a,so,!0);P.forEach(X=>this.destroyActiveAnimationsForElement(X)),0!=this.playersByQueriedElement.size&&(P=this.driver.query(a,nl,!0),P.forEach(X=>this.finishActiveQueriedAnimationOnElement(X)))}destroyActiveAnimationsForElement(a){const P=this.playersByElement.get(a);P&&P.forEach(X=>{X.queued?X.markedForDestroy=!0:X.destroy()})}finishActiveQueriedAnimationOnElement(a){const P=this.playersByQueriedElement.get(a);P&&P.forEach(X=>X.finish())}whenRenderingDone(){return new Promise(a=>{if(this.players.length)return V(this.players).onDone(()=>a());a()})}processLeaveNode(a){var P;const X=a[Ee];if(X&&X.setForRemoval){if(a[Ee]=L,X.namespaceId){this.destroyInnerAnimations(a);const de=this._fetchNamespace(X.namespaceId);de&&de.clearElementCache(a)}this._onRemovalComplete(a,X.setForRemoval)}null!==(P=a.classList)&&void 0!==P&&P.contains(ba)&&this.markElementAsDisabled(a,!1),this.driver.query(a,".ng-animate-disabled",!0).forEach(de=>{this.markElementAsDisabled(de,!1)})}flush(a=-1){let P=[];if(this.newHostElements.size&&(this.newHostElements.forEach((X,de)=>this._balanceNamespaceList(X,de)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let X=0;X<this.collectedEnterElements.length;X++)D(this.collectedEnterElements[X],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const X=[];try{P=this._flushAnimations(X,a)}finally{for(let de=0;de<X.length;de++)X[de]()}}else for(let X=0;X<this.collectedLeaveElements.length;X++)this.processLeaveNode(this.collectedLeaveElements[X]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(X=>X()),this._flushFns=[],this._whenQuietFns.length){const X=this._whenQuietFns;this._whenQuietFns=[],P.length?V(P).onDone(()=>{X.forEach(de=>de())}):X.forEach(de=>de())}}reportError(a){throw function _e(oe){return new y.vHH(3402,!1)}()}_flushAnimations(a,P){const X=new Nl,de=[],xe=new Map,je=[],at=new Map,lt=new Map,yt=new Map,vt=new Set;this.disabledNodes.forEach(Jn=>{vt.add(Jn);const Hn=this.driver.query(Jn,".ng-animate-queued",!0);for(let Un=0;Un<Hn.length;Un++)vt.add(Hn[Un])});const pt=this.bodyNode,Ct=Array.from(this.statesByElement.keys()),sn=b(Ct,this.collectedEnterElements),pn=new Map;let Xt=0;sn.forEach((Jn,Hn)=>{const Un=Za+Xt++;pn.set(Hn,Un),Jn.forEach(ei=>D(ei,Un))});const Zt=[],Cn=new Set,Qt=new Set;for(let Jn=0;Jn<this.collectedLeaveElements.length;Jn++){const Hn=this.collectedLeaveElements[Jn],Un=Hn[Ee];Un&&Un.setForRemoval&&(Zt.push(Hn),Cn.add(Hn),Un.hasAnimation?this.driver.query(Hn,".ng-star-inserted",!0).forEach(ei=>Cn.add(ei)):Qt.add(Hn))}const Ht=new Map,$n=b(Ct,Array.from(Cn));$n.forEach((Jn,Hn)=>{const Un=Ea+Xt++;Ht.set(Hn,Un),Jn.forEach(ei=>D(ei,Un))}),a.push(()=>{sn.forEach((Jn,Hn)=>{const Un=pn.get(Hn);Jn.forEach(ei=>R(ei,Un))}),$n.forEach((Jn,Hn)=>{const Un=Ht.get(Hn);Jn.forEach(ei=>R(ei,Un))}),Zt.forEach(Jn=>{this.processLeaveNode(Jn)})});const xi=[],Si=[];for(let Jn=this._namespaceList.length-1;Jn>=0;Jn--)this._namespaceList[Jn].drainQueuedTransitions(P).forEach(Un=>{const ei=Un.player,es=Un.element;if(xi.push(ei),this.collectedEnterElements.length){const pa=es[Ee];if(pa&&pa.setForMove){if(pa.previousTriggersValues&&pa.previousTriggersValues.has(Un.triggerName)){const bl=pa.previousTriggersValues.get(Un.triggerName),ol=this.statesByElement.get(Un.element);if(ol&&ol.has(Un.triggerName)){const tc=ol.get(Un.triggerName);tc.value=bl,ol.set(Un.triggerName,tc)}}return void ei.destroy()}}const ro=!pt||!this.driver.containsElement(pt,es),ua=Ht.get(es),Ss=pn.get(es),Ls=this._buildInstruction(Un,X,Ss,ua,ro);if(Ls.errors&&Ls.errors.length)return void Si.push(Ls);if(ro)return ei.onStart(()=>Pn(es,Ls.fromStyles)),ei.onDestroy(()=>yn(es,Ls.toStyles)),void de.push(ei);if(Un.isFallbackTransition)return ei.onStart(()=>Pn(es,Ls.fromStyles)),ei.onDestroy(()=>yn(es,Ls.toStyles)),void de.push(ei);const Ja=[];Ls.timelines.forEach(pa=>{pa.stretchStartingKeyframe=!0,this.disabledNodes.has(pa.element)||Ja.push(pa)}),Ls.timelines=Ja,X.append(es,Ls.timelines),je.push({instruction:Ls,player:ei,element:es}),Ls.queriedElements.forEach(pa=>qn(at,pa,[]).push(ei)),Ls.preStyleProps.forEach((pa,bl)=>{if(pa.size){let ol=lt.get(bl);ol||lt.set(bl,ol=new Set),pa.forEach((tc,nc)=>ol.add(nc))}}),Ls.postStyleProps.forEach((pa,bl)=>{let ol=yt.get(bl);ol||yt.set(bl,ol=new Set),pa.forEach((tc,nc)=>ol.add(nc))})});if(Si.length){const Jn=[];Si.forEach(Hn=>{Jn.push(function U(oe,a){return new y.vHH(3505,!1)}())}),xi.forEach(Hn=>Hn.destroy()),this.reportError(Jn)}const lr=new Map,Qi=new Map;je.forEach(Jn=>{const Hn=Jn.element;X.has(Hn)&&(Qi.set(Hn,Hn),this._beforeAnimationBuild(Jn.player.namespaceId,Jn.instruction,lr))}),de.forEach(Jn=>{const Hn=Jn.element;this._getPreviousPlayers(Hn,!1,Jn.namespaceId,Jn.triggerName,null).forEach(ei=>{qn(lr,Hn,[]).push(ei),ei.destroy()})});const Pi=Zt.filter(Jn=>rt(Jn,lt,yt)),br=new Map;g(br,this.driver,Qt,yt,as).forEach(Jn=>{rt(Jn,lt,yt)&&Pi.push(Jn)});const gi=new Map;sn.forEach((Jn,Hn)=>{g(gi,this.driver,new Set(Jn),lt,ta)}),Pi.forEach(Jn=>{var Hn,Un;const ei=br.get(Jn),es=gi.get(Jn);br.set(Jn,new Map([...Array.from(null!==(Hn=null==ei?void 0:ei.entries())&&void 0!==Hn?Hn:[]),...Array.from(null!==(Un=null==es?void 0:es.entries())&&void 0!==Un?Un:[])]))});const ci=[],bn=[],Qn={};je.forEach(Jn=>{const{element:Hn,player:Un,instruction:ei}=Jn;if(X.has(Hn)){if(vt.has(Hn))return Un.onDestroy(()=>yn(Hn,ei.toStyles)),Un.disabled=!0,Un.overrideTotalTime(ei.totalTime),void de.push(Un);let es=Qn;if(Qi.size>1){let ua=Hn;const Ss=[];for(;ua=ua.parentNode;){const Ls=Qi.get(ua);if(Ls){es=Ls;break}Ss.push(ua)}Ss.forEach(Ls=>Qi.set(Ls,es))}const ro=this._buildAnimation(Un.namespaceId,ei,lr,xe,gi,br);if(Un.setRealPlayer(ro),es===Qn)ci.push(Un);else{const ua=this.playersByElement.get(es);ua&&ua.length&&(Un.parentPlayer=V(ua)),de.push(Un)}}else Pn(Hn,ei.fromStyles),Un.onDestroy(()=>yn(Hn,ei.toStyles)),bn.push(Un),vt.has(Hn)&&de.push(Un)}),bn.forEach(Jn=>{const Hn=xe.get(Jn.element);if(Hn&&Hn.length){const Un=V(Hn);Jn.setRealPlayer(Un)}}),de.forEach(Jn=>{Jn.parentPlayer?Jn.syncPlayerEvents(Jn.parentPlayer):Jn.destroy()});for(let Jn=0;Jn<Zt.length;Jn++){const Hn=Zt[Jn],Un=Hn[Ee];if(R(Hn,Ea),Un&&Un.hasAnimation)continue;let ei=[];if(at.size){let ro=at.get(Hn);ro&&ro.length&&ei.push(...ro);let ua=this.driver.query(Hn,nl,!0);for(let Ss=0;Ss<ua.length;Ss++){let Ls=at.get(ua[Ss]);Ls&&Ls.length&&ei.push(...Ls)}}const es=ei.filter(ro=>!ro.destroyed);es.length?j(this,Hn,es):this.processLeaveNode(Hn)}return Zt.length=0,ci.forEach(Jn=>{this.players.push(Jn),Jn.onDone(()=>{Jn.destroy();const Hn=this.players.indexOf(Jn);this.players.splice(Hn,1)}),Jn.play()}),ci}elementContainsData(a,P){let X=!1;const de=P[Ee];return de&&de.setForRemoval&&(X=!0),this.playersByElement.has(P)&&(X=!0),this.playersByQueriedElement.has(P)&&(X=!0),this.statesByElement.has(P)&&(X=!0),this._fetchNamespace(a).elementContainsData(P)||X}afterFlush(a){this._flushFns.push(a)}afterFlushAnimationsDone(a){this._whenQuietFns.push(a)}_getPreviousPlayers(a,P,X,de,xe){let je=[];if(P){const at=this.playersByQueriedElement.get(a);at&&(je=at)}else{const at=this.playersByElement.get(a);if(at){const lt=!xe||xe==st;at.forEach(yt=>{yt.queued||!lt&&yt.triggerName!=de||je.push(yt)})}}return(X||de)&&(je=je.filter(at=>!(X&&X!=at.namespaceId||de&&de!=at.triggerName))),je}_beforeAnimationBuild(a,P,X){const xe=P.element,je=P.isRemovalTransition?void 0:a,at=P.isRemovalTransition?void 0:P.triggerName;for(const lt of P.timelines){const yt=lt.element,vt=yt!==xe,pt=qn(X,yt,[]);this._getPreviousPlayers(yt,vt,je,at,P.toState).forEach(sn=>{const pn=sn.getRealPlayer();pn.beforeDestroy&&pn.beforeDestroy(),sn.destroy(),pt.push(sn)})}Pn(xe,P.fromStyles)}_buildAnimation(a,P,X,de,xe,je){const at=P.triggerName,lt=P.element,yt=[],vt=new Set,pt=new Set,Ct=P.timelines.map(pn=>{const Xt=pn.element;vt.add(Xt);const Zt=Xt[Ee];if(Zt&&Zt.removedBeforeQueried)return new no(pn.duration,pn.delay);const Cn=Xt!==lt,Qt=function q(oe){const a=[];return ue(oe,a),a}((X.get(Xt)||Z).map(lr=>lr.getRealPlayer())).filter(lr=>!!lr.element&&lr.element===Xt),Ht=xe.get(Xt),$n=je.get(Xt),xi=Ie(0,this._normalizer,0,pn.keyframes,Ht,$n),Si=this._buildPlayer(pn,xi,Qt);if(pn.subTimeline&&de&&pt.add(Xt),Cn){const lr=new fs(a,at,Xt);lr.setRealPlayer(Si),yt.push(lr)}return Si});yt.forEach(pn=>{qn(this.playersByQueriedElement,pn.element,[]).push(pn),pn.onDone(()=>function Fr(oe,a,P){let X=oe.get(a);if(X){if(X.length){const de=X.indexOf(P);X.splice(de,1)}0==X.length&&oe.delete(a)}return X}(this.playersByQueriedElement,pn.element,pn))}),vt.forEach(pn=>D(pn,na));const sn=V(Ct);return sn.onDestroy(()=>{vt.forEach(pn=>R(pn,na)),yn(lt,P.toStyles)}),pt.forEach(pn=>{qn(de,pn,[]).push(sn)}),sn}_buildPlayer(a,P,X){return P.length>0?this.driver.animate(a.element,P,a.duration,a.delay,a.easing,X):new no(a.duration,a.delay)}}class fs{constructor(a,P,X){this.namespaceId=a,this.triggerName=P,this.element=X,this._player=new no,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(a){this._containsRealPlayer||(this._player=a,this._queuedCallbacks.forEach((P,X)=>{P.forEach(de=>Rt(a,X,void 0,de))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(a.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(a){this.totalTime=a}syncPlayerEvents(a){const P=this._player;P.triggerCallback&&a.onStart(()=>P.triggerCallback("start")),a.onDone(()=>this.finish()),a.onDestroy(()=>this.destroy())}_queueEvent(a,P){qn(this._queuedCallbacks,a,[]).push(P)}onDone(a){this.queued&&this._queueEvent("done",a),this._player.onDone(a)}onStart(a){this.queued&&this._queueEvent("start",a),this._player.onStart(a)}onDestroy(a){this.queued&&this._queueEvent("destroy",a),this._player.onDestroy(a)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(a){this.queued||this._player.setPosition(a)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(a){const P=this._player;P.triggerCallback&&P.triggerCallback(a)}}function E(oe){return oe&&1===oe.nodeType}function u(oe,a){const P=oe.style.display;return oe.style.display=null!=a?a:"none",P}function g(oe,a,P,X,de){const xe=[];P.forEach(lt=>xe.push(u(lt)));const je=[];X.forEach((lt,yt)=>{const vt=new Map;lt.forEach(pt=>{const Ct=a.computeStyle(yt,pt,de);vt.set(pt,Ct),(!Ct||0==Ct.length)&&(yt[Ee]=te,je.push(yt))}),oe.set(yt,vt)});let at=0;return P.forEach(lt=>u(lt,xe[at++])),je}function b(oe,a){const P=new Map;if(oe.forEach(at=>P.set(at,[])),0==a.length)return P;const X=1,de=new Set(a),xe=new Map;function je(at){if(!at)return X;let lt=xe.get(at);if(lt)return lt;const yt=at.parentNode;return lt=P.has(yt)?yt:de.has(yt)?X:je(yt),xe.set(at,lt),lt}return a.forEach(at=>{const lt=je(at);lt!==X&&P.get(lt).push(at)}),P}function D(oe,a){var P;null===(P=oe.classList)||void 0===P||P.add(a)}function R(oe,a){var P;null===(P=oe.classList)||void 0===P||P.remove(a)}function j(oe,a,P){V(P).onDone(()=>oe.processLeaveNode(a))}function ue(oe,a){for(let P=0;P<oe.length;P++){const X=oe[P];X instanceof No?ue(X.players,a):a.push(X)}}function rt(oe,a,P){const X=P.get(oe);if(!X)return!1;let de=a.get(oe);return de?X.forEach(xe=>de.add(xe)):a.set(oe,X),P.delete(oe),!0}class kt{constructor(a,P,X){this.bodyNode=a,this._driver=P,this._normalizer=X,this._triggerCache={},this.onRemovalComplete=(de,xe)=>{},this._transitionEngine=new dr(a,P,X),this._timelineEngine=new Ha(a,P,X),this._transitionEngine.onRemovalComplete=(de,xe)=>this.onRemovalComplete(de,xe)}registerTrigger(a,P,X,de,xe){const je=a+"-"+de;let at=this._triggerCache[je];if(!at){const lt=[],vt=fi(this._driver,xe,lt,[]);if(lt.length)throw function Hs(oe,a){return new y.vHH(3404,!1)}();at=function ks(oe,a,P){return new Ca(oe,a,P)}(de,vt,this._normalizer),this._triggerCache[je]=at}this._transitionEngine.registerTrigger(P,de,at)}register(a,P){this._transitionEngine.register(a,P)}destroy(a,P){this._transitionEngine.destroy(a,P)}onInsert(a,P,X,de){this._transitionEngine.insertNode(a,P,X,de)}onRemove(a,P,X,de){this._transitionEngine.removeNode(a,P,de||!1,X)}disableAnimations(a,P){this._transitionEngine.markElementAsDisabled(a,P)}process(a,P,X,de){if("@"==X.charAt(0)){const[xe,je]=Ur(X);this._timelineEngine.command(xe,P,je,de)}else this._transitionEngine.trigger(a,P,X,de)}listen(a,P,X,de,xe){if("@"==X.charAt(0)){const[je,at]=Ur(X);return this._timelineEngine.listen(je,P,at,xe)}return this._transitionEngine.listen(a,P,X,de,xe)}flush(a=-1){this._transitionEngine.flush(a)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let Sn=(()=>{class oe{constructor(P,X,de){this._element=P,this._startStyles=X,this._endStyles=de,this._state=0;let xe=oe.initialStylesByElement.get(P);xe||oe.initialStylesByElement.set(P,xe=new Map),this._initialStyles=xe}start(){this._state<1&&(this._startStyles&&yn(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(yn(this._element,this._initialStyles),this._endStyles&&(yn(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(oe.initialStylesByElement.delete(this._element),this._startStyles&&(Pn(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Pn(this._element,this._endStyles),this._endStyles=null),yn(this._element,this._initialStyles),this._state=3)}}return oe.initialStylesByElement=new WeakMap,oe})();function kn(oe){let a=null;return oe.forEach((P,X)=>{(function jn(oe){return"display"===oe||"position"===oe})(X)&&(a=a||new Map,a.set(X,P))}),a}class Ei{constructor(a,P,X,de){this.element=a,this.keyframes=P,this.options=X,this._specialStyles=de,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=X.duration,this._delay=X.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(a=>a()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const a=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,a,this.options),this._finalKeyframe=a.length?a[a.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(a){const P=[];return a.forEach(X=>{P.push(Object.fromEntries(X))}),P}_triggerWebAnimation(a,P,X){return a.animate(this._convertKeyframesToObject(P),X)}onStart(a){this._originalOnStartFns.push(a),this._onStartFns.push(a)}onDone(a){this._originalOnDoneFns.push(a),this._onDoneFns.push(a)}onDestroy(a){this._onDestroyFns.push(a)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(a=>a()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(a=>a()),this._onDestroyFns=[])}setPosition(a){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=a*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const a=new Map;this.hasStarted()&&this._finalKeyframe.forEach((X,de)=>{"offset"!==de&&a.set(de,this._finished?X:ai(this.element,de))}),this.currentSnapshot=a}triggerCallback(a){const P="start"===a?this._onStartFns:this._onDoneFns;P.forEach(X=>X()),P.length=0}}class di{validateStyleProperty(a){return!0}validateAnimatableStyleProperty(a){return!0}matchesElement(a,P){return!1}containsElement(a,P){return hs(a,P)}getParentElement(a){return qr(a)}query(a,P,X){return lo(a,P,X)}computeStyle(a,P,X){return window.getComputedStyle(a)[P]}animate(a,P,X,de,xe,je=[]){const lt={duration:X,delay:de,fill:0==de?"both":"forwards"};xe&&(lt.easing=xe);const yt=new Map,vt=je.filter(sn=>sn instanceof Ei);(function We(oe,a){return 0===oe||0===a})(X,de)&&vt.forEach(sn=>{sn.currentSnapshot.forEach((pn,Xt)=>yt.set(Xt,pn))});let pt=function it(oe){return oe.length?oe[0]instanceof Map?oe:oe.map(a=>Fe(a)):[]}(P).map(sn=>nn(sn));pt=function Ft(oe,a,P){if(P.size&&a.length){let X=a[0],de=[];if(P.forEach((xe,je)=>{X.has(je)||de.push(je),X.set(je,xe)}),de.length)for(let xe=1;xe<a.length;xe++){let je=a[xe];de.forEach(at=>je.set(at,ai(oe,at)))}}return a}(a,pt,yt);const Ct=function Bt(oe,a){let P=null,X=null;return Array.isArray(a)&&a.length?(P=kn(a[0]),a.length>1&&(X=kn(a[a.length-1]))):a instanceof Map&&(P=kn(a)),P||X?new Sn(oe,P,X):null}(a,pt);return new Ei(a,pt,lt,Ct)}}let Gi=(()=>{class oe extends Ao{constructor(P,X){super(),this._nextAnimationId=0,this._renderer=P.createRenderer(X.body,{id:"0",encapsulation:y.ifc.None,styles:[],data:{animation:[]}})}build(P){const X=this._nextAnimationId.toString();this._nextAnimationId++;const de=Array.isArray(P)?vo(P):P;return zi(this._renderer,null,X,"register",[de]),new qi(X,this._renderer)}}return oe.\u0275fac=function(P){return new(P||oe)(y.LFG(y.FYo),y.LFG(ns.K0))},oe.\u0275prov=y.Yz7({token:oe,factory:oe.\u0275fac}),oe})();class qi extends Gs{constructor(a,P){super(),this._id=a,this._renderer=P}create(a,P){return new Oi(this._id,a,P||{},this._renderer)}}class Oi{constructor(a,P,X,de){this.id=a,this.element=P,this._renderer=de,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",X)}_listen(a,P){return this._renderer.listen(this.element,`@@${this.id}:${a}`,P)}_command(a,...P){return zi(this._renderer,this.element,this.id,a,P)}onDone(a){this._listen("done",a)}onStart(a){this._listen("start",a)}onDestroy(a){this._listen("destroy",a)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(a){this._command("setPosition",a)}getPosition(){var a,P;return null!==(a=null===(P=this._renderer.engine.players[+this.id])||void 0===P?void 0:P.getPosition())&&void 0!==a?a:0}}function zi(oe,a,P,X,de){return oe.setProperty(a,`@@${P}:${X}`,de)}const Er="@.disabled";let ls=(()=>{class oe{constructor(P,X,de){this.delegate=P,this.engine=X,this._zone=de,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),X.onRemovalComplete=(xe,je)=>{const at=null==je?void 0:je.parentNode(xe);at&&je.removeChild(at,xe)}}createRenderer(P,X){const xe=this.delegate.createRenderer(P,X);if(!(P&&X&&X.data&&X.data.animation)){let vt=this._rendererCache.get(xe);return vt||(vt=new Ns("",xe,this.engine,()=>this._rendererCache.delete(xe)),this._rendererCache.set(xe,vt)),vt}const je=X.id,at=X.id+"-"+this._currentId;this._currentId++,this.engine.register(at,P);const lt=vt=>{Array.isArray(vt)?vt.forEach(lt):this.engine.registerTrigger(je,at,P,vt.name,vt)};return X.data.animation.forEach(lt),new Br(this,at,xe,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(P,X,de){P>=0&&P<this._microtaskId?this._zone.run(()=>X(de)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(xe=>{const[je,at]=xe;je(at)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([X,de]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return oe.\u0275fac=function(P){return new(P||oe)(y.LFG(y.FYo),y.LFG(kt),y.LFG(y.R0b))},oe.\u0275prov=y.Yz7({token:oe,factory:oe.\u0275fac}),oe})();class Ns{constructor(a,P,X,de){this.namespaceId=a,this.delegate=P,this.engine=X,this._onDestroy=de,this.destroyNode=this.delegate.destroyNode?xe=>P.destroyNode(xe):null}get data(){return this.delegate.data}destroy(){var a;this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy(),null===(a=this._onDestroy)||void 0===a||a.call(this)}createElement(a,P){return this.delegate.createElement(a,P)}createComment(a){return this.delegate.createComment(a)}createText(a){return this.delegate.createText(a)}appendChild(a,P){this.delegate.appendChild(a,P),this.engine.onInsert(this.namespaceId,P,a,!1)}insertBefore(a,P,X,de=!0){this.delegate.insertBefore(a,P,X),this.engine.onInsert(this.namespaceId,P,a,de)}removeChild(a,P,X){this.engine.onRemove(this.namespaceId,P,this.delegate,X)}selectRootElement(a,P){return this.delegate.selectRootElement(a,P)}parentNode(a){return this.delegate.parentNode(a)}nextSibling(a){return this.delegate.nextSibling(a)}setAttribute(a,P,X,de){this.delegate.setAttribute(a,P,X,de)}removeAttribute(a,P,X){this.delegate.removeAttribute(a,P,X)}addClass(a,P){this.delegate.addClass(a,P)}removeClass(a,P){this.delegate.removeClass(a,P)}setStyle(a,P,X,de){this.delegate.setStyle(a,P,X,de)}removeStyle(a,P,X){this.delegate.removeStyle(a,P,X)}setProperty(a,P,X){"@"==P.charAt(0)&&P==Er?this.disableAnimations(a,!!X):this.delegate.setProperty(a,P,X)}setValue(a,P){this.delegate.setValue(a,P)}listen(a,P,X){return this.delegate.listen(a,P,X)}disableAnimations(a,P){this.engine.disableAnimations(a,P)}}class Br extends Ns{constructor(a,P,X,de,xe){super(P,X,de,xe),this.factory=a,this.namespaceId=P}setProperty(a,P,X){"@"==P.charAt(0)?"."==P.charAt(1)&&P==Er?this.disableAnimations(a,X=void 0===X||!!X):this.engine.process(this.namespaceId,a,P.slice(1),X):this.delegate.setProperty(a,P,X)}listen(a,P,X){if("@"==P.charAt(0)){const de=function co(oe){switch(oe){case"body":return document.body;case"document":return document;case"window":return window;default:return oe}}(a);let xe=P.slice(1),je="";return"@"!=xe.charAt(0)&&([xe,je]=function Oo(oe){const a=oe.indexOf(".");return[oe.substring(0,a),oe.slice(a+1)]}(xe)),this.engine.listen(this.namespaceId,de,xe,je,at=>{this.factory.scheduleListenerCallback(at._data||-1,X,at)})}return this.delegate.listen(a,P,X)}}const bo=[{provide:Ao,useClass:Gi},{provide:La,useFactory:function _o(){return new _t}},{provide:kt,useClass:(()=>{class oe extends kt{constructor(P,X,de,xe){super(P.body,X,de)}ngOnDestroy(){this.flush()}}return oe.\u0275fac=function(P){return new(P||oe)(y.LFG(ns.K0),y.LFG(Go),y.LFG(La),y.LFG(y.z2F))},oe.\u0275prov=y.Yz7({token:oe,factory:oe.\u0275fac}),oe})()},{provide:y.FYo,useFactory:function sa(oe,a,P){return new ls(oe,a,P)},deps:[c.se,kt,y.R0b]}],Wa=[{provide:Go,useFactory:()=>new di},{provide:y.QbO,useValue:"BrowserAnimations"},...bo],Qa=[{provide:Go,useClass:va},{provide:y.QbO,useValue:"NoopAnimations"},...bo];let ma=(()=>{class oe{static withConfig(P){return{ngModule:oe,providers:P.disableAnimations?Qa:Wa}}}return oe.\u0275fac=function(P){return new(P||oe)},oe.\u0275mod=y.oAB({type:oe}),oe.\u0275inj=y.cJS({providers:Wa,imports:[c.b2]}),oe})();var Ta=Y(89),sl=Y(7246);let _l=(()=>{class oe{constructor(P){this.objFirebase=P}TraerUsuarios(){return this.usuariosFirebase=this.objFirebase.collection("usuarios"),this.usuariosFirebase.valueChanges()}}return oe.\u0275fac=function(P){return new(P||oe)(y.LFG(Cs.ST))},oe.\u0275prov=y.Yz7({token:oe,factory:oe.\u0275fac}),oe})();var Fl=Y(2110),iu=Y(5030),Hl=Y(7622),ec=Y(8490);let ru=(()=>{class oe{constructor(P){this.camera=P,console.log("Hello CamaraProvider Provider")}SacarFoto(){this.camera.getPicture({quality:70,destinationType:this.camera.DestinationType.FILE_URI,encodingType:this.camera.EncodingType.JPEG,mediaType:this.camera.MediaType.PICTURE}).then(X=>{this.miFoto="data:image/jpeg;base64,"+X},X=>{})}}return oe.\u0275fac=function(P){return new(P||oe)(y.LFG(ec.V1))},oe.\u0275prov=y.Yz7({token:oe,factory:oe.\u0275fac}),oe})(),Wl=(()=>{class oe{}return oe.\u0275fac=function(P){return new(P||oe)},oe.\u0275mod=y.oAB({type:oe,bootstrap:[Ar]}),oe.\u0275inj=y.cJS({providers:[kr,ii,ru,Fl.O,_l,Hl.e,Cs.yb,{provide:De.wN,useClass:ze.r4}],imports:[c.b2,Li.vQ,ze.Pc.forRoot(),Bi,iu.u5,Zi.hO.initializeApp(Mi_firebase),Qr.ww,Jr.JS,Mr,Cs.yb,ma,Nr.TE,iu.UX,(0,ne.hX)(()=>(0,ne.ZF)(Mi_firebase)),(0,sl.AR)(()=>(0,sl.v0)()),(0,Ta.Cm)(()=>(0,Ta.ad)())]}),oe})();(0,y.G48)(),c.q6().bootstrapModule(Wl).catch(oe=>console.log(oe))},2110:(Ii,ln,Y)=>{"use strict";Y.d(ln,{O:()=>dt});var c=Y(5861),y=Y(9260),De=Y(2223),ze=Y(1085);let dt=(()=>{class Ye{constructor($e){this.objFirebase=$e,this.usuario=JSON.parse(sessionStorage.getItem("usuario"))}TraerFotosFeas(){return this.fotosFirebase=this.objFirebase.collection("feas"),this.fotosFirebase.valueChanges()}TraerFotosLindas(){return this.fotosFirebase=this.objFirebase.collection("lindas"),this.fotosFirebase.valueChanges()}GuardarData($e,Ke){var Ue=this;return(0,c.Z)(function*(){let Re=Ue.objFirebase.createId(),Xe={id:Re,nombre:$e.nombre,path:$e.path,usuario:$e.usuario,positivo:0,negativo:0};Ue.objFirebase.collection(Ke).doc(Re).set(Xe).then(Le=>{console.log(Le)}).catch(Le=>{console.log(Le)})})()}TraerUrl($e){let Ke;return y.Z.storage().ref().child($e).getDownloadURL().then(Ue=>{Ke=Ue,console.log(Ue)}).catch(Ue=>{console.log(Ue)}),Ke}VotarNegativo($e,Ke){console.log($e),$e.negativo++,this.objFirebase.collection(Ke).doc($e.id).update($e).then(Ue=>{console.log(Ue)})}VotarPositivo($e,Ke){$e.positivo++,console.log($e),this.objFirebase.collection(Ke).doc($e.id).update($e).then(Ue=>{console.log(Ue)})}}return Ye.\u0275fac=function($e){return new($e||Ye)(De.LFG(ze.ST))},Ye.\u0275prov=De.Yz7({token:Ye,factory:Ye.\u0275fac}),Ye})()},1135:(Ii,ln,Y)=>{"use strict";Y.d(ln,{X:()=>y});var c=Y(7579);class y extends c.x{constructor(ze){super(),this._value=ze}get value(){return this.getValue()}_subscribe(ze){const dt=super._subscribe(ze);return!dt.closed&&ze.next(this._value),dt}getValue(){const{hasError:ze,thrownError:dt,_value:Ye}=this;if(ze)throw dt;return this._throwIfClosed(),Ye}next(ze){super.next(this._value=ze)}}},9751:(Ii,ln,Y)=>{"use strict";Y.d(ln,{y:()=>$e});var c=Y(930),y=Y(727),De=Y(8822),ze=Y(9635),dt=Y(2416),Ye=Y(576),be=Y(2806);let $e=(()=>{class Xe{constructor(Qe){Qe&&(this._subscribe=Qe)}lift(Qe){const At=new Xe;return At.source=this,At.operator=Qe,At}subscribe(Qe,At,an){const nt=function Re(Xe){return Xe&&Xe instanceof c.Lv||function Ue(Xe){return Xe&&(0,Ye.m)(Xe.next)&&(0,Ye.m)(Xe.error)&&(0,Ye.m)(Xe.complete)}(Xe)&&(0,y.Nn)(Xe)}(Qe)?Qe:new c.Hp(Qe,At,an);return(0,be.x)(()=>{const{operator:Ze,source:on}=this;nt.add(Ze?Ze.call(nt,on):on?this._subscribe(nt):this._trySubscribe(nt))}),nt}_trySubscribe(Qe){try{return this._subscribe(Qe)}catch(At){Qe.error(At)}}forEach(Qe,At){return new(At=Ke(At))((an,nt)=>{const Ze=new c.Hp({next:on=>{try{Qe(on)}catch(It){nt(It),Ze.unsubscribe()}},error:nt,complete:an});this.subscribe(Ze)})}_subscribe(Qe){var At;return null===(At=this.source)||void 0===At?void 0:At.subscribe(Qe)}[De.L](){return this}pipe(...Qe){return(0,ze.U)(Qe)(this)}toPromise(Qe){return new(Qe=Ke(Qe))((At,an)=>{let nt;this.subscribe(Ze=>nt=Ze,Ze=>an(Ze),()=>At(nt))})}}return Xe.create=Le=>new Xe(Le),Xe})();function Ke(Xe){var Le;return null!==(Le=null!=Xe?Xe:dt.config.Promise)&&void 0!==Le?Le:Promise}},7579:(Ii,ln,Y)=>{"use strict";Y.d(ln,{x:()=>be});var c=Y(9751),y=Y(727);const ze=(0,Y(3888).d)(Ke=>function(){Ke(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var dt=Y(8737),Ye=Y(2806);let be=(()=>{class Ke extends c.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(Re){const Xe=new $e(this,this);return Xe.operator=Re,Xe}_throwIfClosed(){if(this.closed)throw new ze}next(Re){(0,Ye.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const Xe of this.currentObservers)Xe.next(Re)}})}error(Re){(0,Ye.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=Re;const{observers:Xe}=this;for(;Xe.length;)Xe.shift().error(Re)}})}complete(){(0,Ye.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:Re}=this;for(;Re.length;)Re.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var Re;return(null===(Re=this.observers)||void 0===Re?void 0:Re.length)>0}_trySubscribe(Re){return this._throwIfClosed(),super._trySubscribe(Re)}_subscribe(Re){return this._throwIfClosed(),this._checkFinalizedStatuses(Re),this._innerSubscribe(Re)}_innerSubscribe(Re){const{hasError:Xe,isStopped:Le,observers:Qe}=this;return Xe||Le?y.Lc:(this.currentObservers=null,Qe.push(Re),new y.w0(()=>{this.currentObservers=null,(0,dt.P)(Qe,Re)}))}_checkFinalizedStatuses(Re){const{hasError:Xe,thrownError:Le,isStopped:Qe}=this;Xe?Re.error(Le):Qe&&Re.complete()}asObservable(){const Re=new c.y;return Re.source=this,Re}}return Ke.create=(Ue,Re)=>new $e(Ue,Re),Ke})();class $e extends be{constructor(Ue,Re){super(),this.destination=Ue,this.source=Re}next(Ue){var Re,Xe;null===(Xe=null===(Re=this.destination)||void 0===Re?void 0:Re.next)||void 0===Xe||Xe.call(Re,Ue)}error(Ue){var Re,Xe;null===(Xe=null===(Re=this.destination)||void 0===Re?void 0:Re.error)||void 0===Xe||Xe.call(Re,Ue)}complete(){var Ue,Re;null===(Re=null===(Ue=this.destination)||void 0===Ue?void 0:Ue.complete)||void 0===Re||Re.call(Ue)}_subscribe(Ue){var Re,Xe;return null!==(Xe=null===(Re=this.source)||void 0===Re?void 0:Re.subscribe(Ue))&&void 0!==Xe?Xe:y.Lc}}},930:(Ii,ln,Y)=>{"use strict";Y.d(ln,{Hp:()=>an,Lv:()=>Xe});var c=Y(576),y=Y(727),De=Y(2416),ze=Y(7849),dt=Y(5032);const Ye=Ke("C",void 0,void 0);function Ke(bt,zt,Jt){return{kind:bt,value:zt,error:Jt}}var Ue=Y(3410),Re=Y(2806);class Xe extends y.w0{constructor(zt){super(),this.isStopped=!1,zt?(this.destination=zt,(0,y.Nn)(zt)&&zt.add(this)):this.destination=It}static create(zt,Jt,Yt){return new an(zt,Jt,Yt)}next(zt){this.isStopped?on(function $e(bt){return Ke("N",bt,void 0)}(zt),this):this._next(zt)}error(zt){this.isStopped?on(function be(bt){return Ke("E",void 0,bt)}(zt),this):(this.isStopped=!0,this._error(zt))}complete(){this.isStopped?on(Ye,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(zt){this.destination.next(zt)}_error(zt){try{this.destination.error(zt)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Le=Function.prototype.bind;function Qe(bt,zt){return Le.call(bt,zt)}class At{constructor(zt){this.partialObserver=zt}next(zt){const{partialObserver:Jt}=this;if(Jt.next)try{Jt.next(zt)}catch(Yt){nt(Yt)}}error(zt){const{partialObserver:Jt}=this;if(Jt.error)try{Jt.error(zt)}catch(Yt){nt(Yt)}else nt(zt)}complete(){const{partialObserver:zt}=this;if(zt.complete)try{zt.complete()}catch(Jt){nt(Jt)}}}class an extends Xe{constructor(zt,Jt,Yt){let tt;if(super(),(0,c.m)(zt)||!zt)tt={next:null!=zt?zt:void 0,error:null!=Jt?Jt:void 0,complete:null!=Yt?Yt:void 0};else{let se;this&&De.config.useDeprecatedNextContext?(se=Object.create(zt),se.unsubscribe=()=>this.unsubscribe(),tt={next:zt.next&&Qe(zt.next,se),error:zt.error&&Qe(zt.error,se),complete:zt.complete&&Qe(zt.complete,se)}):tt=zt}this.destination=new At(tt)}}function nt(bt){De.config.useDeprecatedSynchronousErrorHandling?(0,Re.O)(bt):(0,ze.h)(bt)}function on(bt,zt){const{onStoppedNotification:Jt}=De.config;Jt&&Ue.z.setTimeout(()=>Jt(bt,zt))}const It={closed:!0,next:dt.Z,error:function Ze(bt){throw bt},complete:dt.Z}},727:(Ii,ln,Y)=>{"use strict";Y.d(ln,{Lc:()=>Ye,w0:()=>dt,Nn:()=>be});var c=Y(576);const De=(0,Y(3888).d)(Ke=>function(Re){Ke(this),this.message=Re?`${Re.length} errors occurred during unsubscription:\n${Re.map((Xe,Le)=>`${Le+1}) ${Xe.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=Re});var ze=Y(8737);class dt{constructor(Ue){this.initialTeardown=Ue,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let Ue;if(!this.closed){this.closed=!0;const{_parentage:Re}=this;if(Re)if(this._parentage=null,Array.isArray(Re))for(const Qe of Re)Qe.remove(this);else Re.remove(this);const{initialTeardown:Xe}=this;if((0,c.m)(Xe))try{Xe()}catch(Qe){Ue=Qe instanceof De?Qe.errors:[Qe]}const{_finalizers:Le}=this;if(Le){this._finalizers=null;for(const Qe of Le)try{$e(Qe)}catch(At){Ue=null!=Ue?Ue:[],At instanceof De?Ue=[...Ue,...At.errors]:Ue.push(At)}}if(Ue)throw new De(Ue)}}add(Ue){var Re;if(Ue&&Ue!==this)if(this.closed)$e(Ue);else{if(Ue instanceof dt){if(Ue.closed||Ue._hasParent(this))return;Ue._addParent(this)}(this._finalizers=null!==(Re=this._finalizers)&&void 0!==Re?Re:[]).push(Ue)}}_hasParent(Ue){const{_parentage:Re}=this;return Re===Ue||Array.isArray(Re)&&Re.includes(Ue)}_addParent(Ue){const{_parentage:Re}=this;this._parentage=Array.isArray(Re)?(Re.push(Ue),Re):Re?[Re,Ue]:Ue}_removeParent(Ue){const{_parentage:Re}=this;Re===Ue?this._parentage=null:Array.isArray(Re)&&(0,ze.P)(Re,Ue)}remove(Ue){const{_finalizers:Re}=this;Re&&(0,ze.P)(Re,Ue),Ue instanceof dt&&Ue._removeParent(this)}}dt.EMPTY=(()=>{const Ke=new dt;return Ke.closed=!0,Ke})();const Ye=dt.EMPTY;function be(Ke){return Ke instanceof dt||Ke&&"closed"in Ke&&(0,c.m)(Ke.remove)&&(0,c.m)(Ke.add)&&(0,c.m)(Ke.unsubscribe)}function $e(Ke){(0,c.m)(Ke)?Ke():Ke.unsubscribe()}},2416:(Ii,ln,Y)=>{"use strict";Y.d(ln,{config:()=>c});const c={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},7272:(Ii,ln,Y)=>{"use strict";Y.d(ln,{z:()=>dt});var c=Y(8189),De=Y(7669),ze=Y(8996);function dt(...Ye){return function y(){return(0,c.J)(1)}()((0,ze.D)(Ye,(0,De.yG)(Ye)))}},515:(Ii,ln,Y)=>{"use strict";Y.d(ln,{E:()=>y});const y=new(Y(9751).y)(dt=>dt.complete())},8996:(Ii,ln,Y)=>{"use strict";Y.d(ln,{D:()=>zt});var c=Y(8421),y=Y(5363),De=Y(9468),Ye=Y(9751),$e=Y(2202),Ke=Y(576),Ue=Y(9672);function Xe(Jt,Yt){if(!Jt)throw new Error("Iterable cannot be null");return new Ye.y(tt=>{(0,Ue.f)(tt,Yt,()=>{const se=Jt[Symbol.asyncIterator]();(0,Ue.f)(tt,Yt,()=>{se.next().then(Vt=>{Vt.done?tt.complete():tt.next(Vt.value)})},0,!0)})})}var Le=Y(3670),Qe=Y(8239),At=Y(1144),an=Y(6495),nt=Y(2206),Ze=Y(4532),on=Y(3260);function zt(Jt,Yt){return Yt?function bt(Jt,Yt){if(null!=Jt){if((0,Le.c)(Jt))return function ze(Jt,Yt){return(0,c.Xf)(Jt).pipe((0,De.R)(Yt),(0,y.Q)(Yt))}(Jt,Yt);if((0,At.z)(Jt))return function be(Jt,Yt){return new Ye.y(tt=>{let se=0;return Yt.schedule(function(){se===Jt.length?tt.complete():(tt.next(Jt[se++]),tt.closed||this.schedule())})})}(Jt,Yt);if((0,Qe.t)(Jt))return function dt(Jt,Yt){return(0,c.Xf)(Jt).pipe((0,De.R)(Yt),(0,y.Q)(Yt))}(Jt,Yt);if((0,nt.D)(Jt))return Xe(Jt,Yt);if((0,an.T)(Jt))return function Re(Jt,Yt){return new Ye.y(tt=>{let se;return(0,Ue.f)(tt,Yt,()=>{se=Jt[$e.h](),(0,Ue.f)(tt,Yt,()=>{let Vt,Tt;try{({value:Vt,done:Tt}=se.next())}catch(tn){return void tt.error(tn)}Tt?tt.complete():tt.next(Vt)},0,!0)}),()=>(0,Ke.m)(null==se?void 0:se.return)&&se.return()})}(Jt,Yt);if((0,on.L)(Jt))return function It(Jt,Yt){return Xe((0,on.Q)(Jt),Yt)}(Jt,Yt)}throw(0,Ze.z)(Jt)}(Jt,Yt):(0,c.Xf)(Jt)}},4968:(Ii,ln,Y)=>{"use strict";Y.d(ln,{R:()=>Ue});var c=Y(8421),y=Y(9751),De=Y(5577),ze=Y(1144),dt=Y(576),Ye=Y(3268);const be=["addListener","removeListener"],$e=["addEventListener","removeEventListener"],Ke=["on","off"];function Ue(At,an,nt,Ze){if((0,dt.m)(nt)&&(Ze=nt,nt=void 0),Ze)return Ue(At,an,nt).pipe((0,Ye.Z)(Ze));const[on,It]=function Qe(At){return(0,dt.m)(At.addEventListener)&&(0,dt.m)(At.removeEventListener)}(At)?$e.map(bt=>zt=>At[bt](an,zt,nt)):function Xe(At){return(0,dt.m)(At.addListener)&&(0,dt.m)(At.removeListener)}(At)?be.map(Re(At,an)):function Le(At){return(0,dt.m)(At.on)&&(0,dt.m)(At.off)}(At)?Ke.map(Re(At,an)):[];if(!on&&(0,ze.z)(At))return(0,De.z)(bt=>Ue(bt,an,nt))((0,c.Xf)(At));if(!on)throw new TypeError("Invalid event target");return new y.y(bt=>{const zt=(...Jt)=>bt.next(1<Jt.length?Jt:Jt[0]);return on(zt),()=>It(zt)})}function Re(At,an){return nt=>Ze=>At[nt](an,Ze)}},8421:(Ii,ln,Y)=>{"use strict";Y.d(ln,{Xf:()=>Le});var c=Y(655),y=Y(1144),De=Y(8239),ze=Y(9751),dt=Y(3670),Ye=Y(2206),be=Y(4532),$e=Y(6495),Ke=Y(3260),Ue=Y(576),Re=Y(7849),Xe=Y(8822);function Le(bt){if(bt instanceof ze.y)return bt;if(null!=bt){if((0,dt.c)(bt))return function Qe(bt){return new ze.y(zt=>{const Jt=bt[Xe.L]();if((0,Ue.m)(Jt.subscribe))return Jt.subscribe(zt);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(bt);if((0,y.z)(bt))return function At(bt){return new ze.y(zt=>{for(let Jt=0;Jt<bt.length&&!zt.closed;Jt++)zt.next(bt[Jt]);zt.complete()})}(bt);if((0,De.t)(bt))return function an(bt){return new ze.y(zt=>{bt.then(Jt=>{zt.closed||(zt.next(Jt),zt.complete())},Jt=>zt.error(Jt)).then(null,Re.h)})}(bt);if((0,Ye.D)(bt))return Ze(bt);if((0,$e.T)(bt))return function nt(bt){return new ze.y(zt=>{for(const Jt of bt)if(zt.next(Jt),zt.closed)return;zt.complete()})}(bt);if((0,Ke.L)(bt))return function on(bt){return Ze((0,Ke.Q)(bt))}(bt)}throw(0,be.z)(bt)}function Ze(bt){return new ze.y(zt=>{(function It(bt,zt){var Jt,Yt,tt,se;return(0,c.mG)(this,void 0,void 0,function*(){try{for(Jt=(0,c.KL)(bt);!(Yt=yield Jt.next()).done;)if(zt.next(Yt.value),zt.closed)return}catch(Vt){tt={error:Vt}}finally{try{Yt&&!Yt.done&&(se=Jt.return)&&(yield se.call(Jt))}finally{if(tt)throw tt.error}}zt.complete()})})(bt,zt).catch(Jt=>zt.error(Jt))})}},6451:(Ii,ln,Y)=>{"use strict";Y.d(ln,{T:()=>Ye});var c=Y(8189),y=Y(8421),De=Y(515),ze=Y(7669),dt=Y(8996);function Ye(...be){const $e=(0,ze.yG)(be),Ke=(0,ze._6)(be,1/0),Ue=be;return Ue.length?1===Ue.length?(0,y.Xf)(Ue[0]):(0,c.J)(Ke)((0,dt.D)(Ue,$e)):De.E}},9646:(Ii,ln,Y)=>{"use strict";Y.d(ln,{of:()=>De});var c=Y(7669),y=Y(8996);function De(...ze){const dt=(0,c.yG)(ze);return(0,y.D)(ze,dt)}},5403:(Ii,ln,Y)=>{"use strict";Y.d(ln,{Q:()=>De,x:()=>y});var c=Y(930);function y(ze,dt,Ye,be,$e){return new De(ze,dt,Ye,be,$e)}class De extends c.Lv{constructor(dt,Ye,be,$e,Ke,Ue){super(dt),this.onFinalize=Ke,this.shouldUnsubscribe=Ue,this._next=Ye?function(Re){try{Ye(Re)}catch(Xe){dt.error(Xe)}}:super._next,this._error=$e?function(Re){try{$e(Re)}catch(Xe){dt.error(Xe)}finally{this.unsubscribe()}}:super._error,this._complete=be?function(){try{be()}catch(Re){dt.error(Re)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var dt;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:Ye}=this;super.unsubscribe(),!Ye&&(null===(dt=this.onFinalize)||void 0===dt||dt.call(this))}}}},6590:(Ii,ln,Y)=>{"use strict";Y.d(ln,{d:()=>De});var c=Y(4482),y=Y(5403);function De(ze){return(0,c.e)((dt,Ye)=>{let be=!1;dt.subscribe((0,y.x)(Ye,$e=>{be=!0,Ye.next($e)},()=>{be||Ye.next(ze),Ye.complete()}))})}},1884:(Ii,ln,Y)=>{"use strict";Y.d(ln,{x:()=>ze});var c=Y(4671),y=Y(4482),De=Y(5403);function ze(Ye,be=c.y){return Ye=null!=Ye?Ye:dt,(0,y.e)(($e,Ke)=>{let Ue,Re=!0;$e.subscribe((0,De.x)(Ke,Xe=>{const Le=be(Xe);(Re||!Ye(Ue,Le))&&(Re=!1,Ue=Le,Ke.next(Xe))}))})}function dt(Ye,be){return Ye===be}},9300:(Ii,ln,Y)=>{"use strict";Y.d(ln,{h:()=>De});var c=Y(4482),y=Y(5403);function De(ze,dt){return(0,c.e)((Ye,be)=>{let $e=0;Ye.subscribe((0,y.x)(be,Ke=>ze.call(dt,Ke,$e++)&&be.next(Ke)))})}},8746:(Ii,ln,Y)=>{"use strict";Y.d(ln,{x:()=>y});var c=Y(4482);function y(De){return(0,c.e)((ze,dt)=>{try{ze.subscribe(dt)}finally{dt.add(De)}})}},590:(Ii,ln,Y)=>{"use strict";Y.d(ln,{P:()=>be});var c=Y(6805),y=Y(9300),De=Y(5698),ze=Y(6590),dt=Y(8068),Ye=Y(4671);function be($e,Ke){const Ue=arguments.length>=2;return Re=>Re.pipe($e?(0,y.h)((Xe,Le)=>$e(Xe,Le,Re)):Ye.y,(0,De.q)(1),Ue?(0,ze.d)(Ke):(0,dt.T)(()=>new c.K))}},4004:(Ii,ln,Y)=>{"use strict";Y.d(ln,{U:()=>De});var c=Y(4482),y=Y(5403);function De(ze,dt){return(0,c.e)((Ye,be)=>{let $e=0;Ye.subscribe((0,y.x)(be,Ke=>{be.next(ze.call(dt,Ke,$e++))}))})}},8189:(Ii,ln,Y)=>{"use strict";Y.d(ln,{J:()=>De});var c=Y(5577),y=Y(4671);function De(ze=1/0){return(0,c.z)(y.y,ze)}},5577:(Ii,ln,Y)=>{"use strict";Y.d(ln,{z:()=>$e});var c=Y(4004),y=Y(8421),De=Y(4482),ze=Y(9672),dt=Y(5403),be=Y(576);function $e(Ke,Ue,Re=1/0){return(0,be.m)(Ue)?$e((Xe,Le)=>(0,c.U)((Qe,At)=>Ue(Xe,Qe,Le,At))((0,y.Xf)(Ke(Xe,Le))),Re):("number"==typeof Ue&&(Re=Ue),(0,De.e)((Xe,Le)=>function Ye(Ke,Ue,Re,Xe,Le,Qe,At,an){const nt=[];let Ze=0,on=0,It=!1;const bt=()=>{It&&!nt.length&&!Ze&&Ue.complete()},zt=Yt=>Ze<Xe?Jt(Yt):nt.push(Yt),Jt=Yt=>{Qe&&Ue.next(Yt),Ze++;let tt=!1;(0,y.Xf)(Re(Yt,on++)).subscribe((0,dt.x)(Ue,se=>{null==Le||Le(se),Qe?zt(se):Ue.next(se)},()=>{tt=!0},void 0,()=>{if(tt)try{for(Ze--;nt.length&&Ze<Xe;){const se=nt.shift();At?(0,ze.f)(Ue,At,()=>Jt(se)):Jt(se)}bt()}catch(se){Ue.error(se)}}))};return Ke.subscribe((0,dt.x)(Ue,zt,()=>{It=!0,bt()})),()=>{null==an||an()}}(Xe,Le,Ke,Re)))}},5363:(Ii,ln,Y)=>{"use strict";Y.d(ln,{Q:()=>ze});var c=Y(9672),y=Y(4482),De=Y(5403);function ze(dt,Ye=0){return(0,y.e)((be,$e)=>{be.subscribe((0,De.x)($e,Ke=>(0,c.f)($e,dt,()=>$e.next(Ke),Ye),()=>(0,c.f)($e,dt,()=>$e.complete(),Ye),Ke=>(0,c.f)($e,dt,()=>$e.error(Ke),Ye)))})}},1520:(Ii,ln,Y)=>{"use strict";Y.d(ln,{G:()=>De});var c=Y(4482),y=Y(5403);function De(){return(0,c.e)((ze,dt)=>{let Ye,be=!1;ze.subscribe((0,y.x)(dt,$e=>{const Ke=Ye;Ye=$e,be&&dt.next([Ke,$e]),be=!0}))})}},5026:(Ii,ln,Y)=>{"use strict";Y.d(ln,{R:()=>ze});var c=Y(4482),y=Y(5403);function ze(dt,Ye){return(0,c.e)(function De(dt,Ye,be,$e,Ke){return(Ue,Re)=>{let Xe=be,Le=Ye,Qe=0;Ue.subscribe((0,y.x)(Re,At=>{const an=Qe++;Le=Xe?dt(Le,At,an):(Xe=!0,At),$e&&Re.next(Le)},Ke&&(()=>{Xe&&Re.next(Le),Re.complete()})))}}(dt,Ye,arguments.length>=2,!0))}},3099:(Ii,ln,Y)=>{"use strict";Y.d(ln,{B:()=>dt});var c=Y(8421),y=Y(7579),De=Y(930),ze=Y(4482);function dt(be={}){const{connector:$e=(()=>new y.x),resetOnError:Ke=!0,resetOnComplete:Ue=!0,resetOnRefCountZero:Re=!0}=be;return Xe=>{let Le,Qe,At,an=0,nt=!1,Ze=!1;const on=()=>{null==Qe||Qe.unsubscribe(),Qe=void 0},It=()=>{on(),Le=At=void 0,nt=Ze=!1},bt=()=>{const zt=Le;It(),null==zt||zt.unsubscribe()};return(0,ze.e)((zt,Jt)=>{an++,!Ze&&!nt&&on();const Yt=At=null!=At?At:$e();Jt.add(()=>{an--,0===an&&!Ze&&!nt&&(Qe=Ye(bt,Re))}),Yt.subscribe(Jt),!Le&&an>0&&(Le=new De.Hp({next:tt=>Yt.next(tt),error:tt=>{Ze=!0,on(),Qe=Ye(It,Ke,tt),Yt.error(tt)},complete:()=>{nt=!0,on(),Qe=Ye(It,Ue),Yt.complete()}}),(0,c.Xf)(zt).subscribe(Le))})(Xe)}}function Ye(be,$e,...Ke){if(!0===$e)return void be();if(!1===$e)return;const Ue=new De.Hp({next:()=>{Ue.unsubscribe(),be()}});return(0,c.Xf)($e(...Ke)).subscribe(Ue)}},3151:(Ii,ln,Y)=>{"use strict";Y.d(ln,{d:()=>dt});var c=Y(7579),y=Y(6063);class De extends c.x{constructor(be=1/0,$e=1/0,Ke=y.l){super(),this._bufferSize=be,this._windowTime=$e,this._timestampProvider=Ke,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=$e===1/0,this._bufferSize=Math.max(1,be),this._windowTime=Math.max(1,$e)}next(be){const{isStopped:$e,_buffer:Ke,_infiniteTimeWindow:Ue,_timestampProvider:Re,_windowTime:Xe}=this;$e||(Ke.push(be),!Ue&&Ke.push(Re.now()+Xe)),this._trimBuffer(),super.next(be)}_subscribe(be){this._throwIfClosed(),this._trimBuffer();const $e=this._innerSubscribe(be),{_infiniteTimeWindow:Ke,_buffer:Ue}=this,Re=Ue.slice();for(let Xe=0;Xe<Re.length&&!be.closed;Xe+=Ke?1:2)be.next(Re[Xe]);return this._checkFinalizedStatuses(be),$e}_trimBuffer(){const{_bufferSize:be,_timestampProvider:$e,_buffer:Ke,_infiniteTimeWindow:Ue}=this,Re=(Ue?1:2)*be;if(be<1/0&&Re<Ke.length&&Ke.splice(0,Ke.length-Re),!Ue){const Xe=$e.now();let Le=0;for(let Qe=1;Qe<Ke.length&&Ke[Qe]<=Xe;Qe+=2)Le=Qe;Le&&Ke.splice(0,Le+1)}}}var ze=Y(3099);function dt(Ye,be,$e){let Ke,Ue=!1;return Ye&&"object"==typeof Ye?({bufferSize:Ke=1/0,windowTime:be=1/0,refCount:Ue=!1,scheduler:$e}=Ye):Ke=null!=Ye?Ye:1/0,(0,ze.B)({connector:()=>new De(Ke,be,$e),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:Ue})}},8675:(Ii,ln,Y)=>{"use strict";Y.d(ln,{O:()=>ze});var c=Y(7272),y=Y(7669),De=Y(4482);function ze(...dt){const Ye=(0,y.yG)(dt);return(0,De.e)((be,$e)=>{(Ye?(0,c.z)(dt,be,Ye):(0,c.z)(dt,be)).subscribe($e)})}},9468:(Ii,ln,Y)=>{"use strict";Y.d(ln,{R:()=>y});var c=Y(4482);function y(De,ze=0){return(0,c.e)((dt,Ye)=>{Ye.add(De.schedule(()=>dt.subscribe(Ye),ze))})}},3900:(Ii,ln,Y)=>{"use strict";Y.d(ln,{w:()=>ze});var c=Y(8421),y=Y(4482),De=Y(5403);function ze(dt,Ye){return(0,y.e)((be,$e)=>{let Ke=null,Ue=0,Re=!1;const Xe=()=>Re&&!Ke&&$e.complete();be.subscribe((0,De.x)($e,Le=>{null==Ke||Ke.unsubscribe();let Qe=0;const At=Ue++;(0,c.Xf)(dt(Le,At)).subscribe(Ke=(0,De.x)($e,an=>$e.next(Ye?Ye(Le,an,At,Qe++):an),()=>{Ke=null,Xe()}))},()=>{Re=!0,Xe()}))})}},5698:(Ii,ln,Y)=>{"use strict";Y.d(ln,{q:()=>ze});var c=Y(515),y=Y(4482),De=Y(5403);function ze(dt){return dt<=0?()=>c.E:(0,y.e)((Ye,be)=>{let $e=0;Ye.subscribe((0,De.x)(be,Ke=>{++$e<=dt&&(be.next(Ke),dt<=$e&&be.complete())}))})}},8505:(Ii,ln,Y)=>{"use strict";Y.d(ln,{b:()=>dt});var c=Y(576),y=Y(4482),De=Y(5403),ze=Y(4671);function dt(Ye,be,$e){const Ke=(0,c.m)(Ye)||be||$e?{next:Ye,error:be,complete:$e}:Ye;return Ke?(0,y.e)((Ue,Re)=>{var Xe;null===(Xe=Ke.subscribe)||void 0===Xe||Xe.call(Ke);let Le=!0;Ue.subscribe((0,De.x)(Re,Qe=>{var At;null===(At=Ke.next)||void 0===At||At.call(Ke,Qe),Re.next(Qe)},()=>{var Qe;Le=!1,null===(Qe=Ke.complete)||void 0===Qe||Qe.call(Ke),Re.complete()},Qe=>{var At;Le=!1,null===(At=Ke.error)||void 0===At||At.call(Ke,Qe),Re.error(Qe)},()=>{var Qe,At;Le&&(null===(Qe=Ke.unsubscribe)||void 0===Qe||Qe.call(Ke)),null===(At=Ke.finalize)||void 0===At||At.call(Ke)}))}):ze.y}},8068:(Ii,ln,Y)=>{"use strict";Y.d(ln,{T:()=>ze});var c=Y(6805),y=Y(4482),De=Y(5403);function ze(Ye=dt){return(0,y.e)((be,$e)=>{let Ke=!1;be.subscribe((0,De.x)($e,Ue=>{Ke=!0,$e.next(Ue)},()=>Ke?$e.complete():$e.error(Ye())))})}function dt(){return new c.K}},4408:(Ii,ln,Y)=>{"use strict";Y.d(ln,{o:()=>dt});var c=Y(727);class y extends c.w0{constructor(be,$e){super()}schedule(be,$e=0){return this}}const De={setInterval(Ye,be,...$e){const{delegate:Ke}=De;return null!=Ke&&Ke.setInterval?Ke.setInterval(Ye,be,...$e):setInterval(Ye,be,...$e)},clearInterval(Ye){const{delegate:be}=De;return((null==be?void 0:be.clearInterval)||clearInterval)(Ye)},delegate:void 0};var ze=Y(8737);class dt extends y{constructor(be,$e){super(be,$e),this.scheduler=be,this.work=$e,this.pending=!1}schedule(be,$e=0){var Ke;if(this.closed)return this;this.state=be;const Ue=this.id,Re=this.scheduler;return null!=Ue&&(this.id=this.recycleAsyncId(Re,Ue,$e)),this.pending=!0,this.delay=$e,this.id=null!==(Ke=this.id)&&void 0!==Ke?Ke:this.requestAsyncId(Re,this.id,$e),this}requestAsyncId(be,$e,Ke=0){return De.setInterval(be.flush.bind(be,this),Ke)}recycleAsyncId(be,$e,Ke=0){if(null!=Ke&&this.delay===Ke&&!1===this.pending)return $e;null!=$e&&De.clearInterval($e)}execute(be,$e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const Ke=this._execute(be,$e);if(Ke)return Ke;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(be,$e){let Ue,Ke=!1;try{this.work(be)}catch(Re){Ke=!0,Ue=Re||new Error("Scheduled action threw falsy error")}if(Ke)return this.unsubscribe(),Ue}unsubscribe(){if(!this.closed){const{id:be,scheduler:$e}=this,{actions:Ke}=$e;this.work=this.state=this.scheduler=null,this.pending=!1,(0,ze.P)(Ke,this),null!=be&&(this.id=this.recycleAsyncId($e,be,null)),this.delay=null,super.unsubscribe()}}}},7565:(Ii,ln,Y)=>{"use strict";Y.d(ln,{v:()=>De});var c=Y(6063);class y{constructor(dt,Ye=y.now){this.schedulerActionCtor=dt,this.now=Ye}schedule(dt,Ye=0,be){return new this.schedulerActionCtor(this,dt).schedule(be,Ye)}}y.now=c.l.now;class De extends y{constructor(dt,Ye=y.now){super(dt,Ye),this.actions=[],this._active=!1}flush(dt){const{actions:Ye}=this;if(this._active)return void Ye.push(dt);let be;this._active=!0;do{if(be=dt.execute(dt.state,dt.delay))break}while(dt=Ye.shift());if(this._active=!1,be){for(;dt=Ye.shift();)dt.unsubscribe();throw be}}}},4986:(Ii,ln,Y)=>{"use strict";Y.d(ln,{z:()=>De});var c=Y(4408);const De=new(Y(7565).v)(c.o)},6063:(Ii,ln,Y)=>{"use strict";Y.d(ln,{l:()=>c});const c={now:()=>(c.delegate||Date).now(),delegate:void 0}},3410:(Ii,ln,Y)=>{"use strict";Y.d(ln,{z:()=>c});const c={setTimeout(y,De,...ze){const{delegate:dt}=c;return null!=dt&&dt.setTimeout?dt.setTimeout(y,De,...ze):setTimeout(y,De,...ze)},clearTimeout(y){const{delegate:De}=c;return((null==De?void 0:De.clearTimeout)||clearTimeout)(y)},delegate:void 0}},2202:(Ii,ln,Y)=>{"use strict";Y.d(ln,{h:()=>y});const y=function c(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(Ii,ln,Y)=>{"use strict";Y.d(ln,{L:()=>c});const c="function"==typeof Symbol&&Symbol.observable||"@@observable"},6805:(Ii,ln,Y)=>{"use strict";Y.d(ln,{K:()=>y});const y=(0,Y(3888).d)(De=>function(){De(this),this.name="EmptyError",this.message="no elements in sequence"})},7669:(Ii,ln,Y)=>{"use strict";Y.d(ln,{_6:()=>Ye,jO:()=>ze,yG:()=>dt});var c=Y(576);function De(be){return be[be.length-1]}function ze(be){return(0,c.m)(De(be))?be.pop():void 0}function dt(be){return function y(be){return be&&(0,c.m)(be.schedule)}(De(be))?be.pop():void 0}function Ye(be,$e){return"number"==typeof De(be)?be.pop():$e}},4742:(Ii,ln,Y)=>{"use strict";Y.d(ln,{D:()=>dt});const{isArray:c}=Array,{getPrototypeOf:y,prototype:De,keys:ze}=Object;function dt(be){if(1===be.length){const $e=be[0];if(c($e))return{args:$e,keys:null};if(function Ye(be){return be&&"object"==typeof be&&y(be)===De}($e)){const Ke=ze($e);return{args:Ke.map(Ue=>$e[Ue]),keys:Ke}}}return{args:be,keys:null}}},8737:(Ii,ln,Y)=>{"use strict";function c(y,De){if(y){const ze=y.indexOf(De);0<=ze&&y.splice(ze,1)}}Y.d(ln,{P:()=>c})},3888:(Ii,ln,Y)=>{"use strict";function c(y){const ze=y(dt=>{Error.call(dt),dt.stack=(new Error).stack});return ze.prototype=Object.create(Error.prototype),ze.prototype.constructor=ze,ze}Y.d(ln,{d:()=>c})},1810:(Ii,ln,Y)=>{"use strict";function c(y,De){return y.reduce((ze,dt,Ye)=>(ze[dt]=De[Ye],ze),{})}Y.d(ln,{n:()=>c})},2806:(Ii,ln,Y)=>{"use strict";Y.d(ln,{O:()=>ze,x:()=>De});var c=Y(2416);let y=null;function De(dt){if(c.config.useDeprecatedSynchronousErrorHandling){const Ye=!y;if(Ye&&(y={errorThrown:!1,error:null}),dt(),Ye){const{errorThrown:be,error:$e}=y;if(y=null,be)throw $e}}else dt()}function ze(dt){c.config.useDeprecatedSynchronousErrorHandling&&y&&(y.errorThrown=!0,y.error=dt)}},9672:(Ii,ln,Y)=>{"use strict";function c(y,De,ze,dt=0,Ye=!1){const be=De.schedule(function(){ze(),Ye?y.add(this.schedule(null,dt)):this.unsubscribe()},dt);if(y.add(be),!Ye)return be}Y.d(ln,{f:()=>c})},4671:(Ii,ln,Y)=>{"use strict";function c(y){return y}Y.d(ln,{y:()=>c})},1144:(Ii,ln,Y)=>{"use strict";Y.d(ln,{z:()=>c});const c=y=>y&&"number"==typeof y.length&&"function"!=typeof y},2206:(Ii,ln,Y)=>{"use strict";Y.d(ln,{D:()=>y});var c=Y(576);function y(De){return Symbol.asyncIterator&&(0,c.m)(null==De?void 0:De[Symbol.asyncIterator])}},576:(Ii,ln,Y)=>{"use strict";function c(y){return"function"==typeof y}Y.d(ln,{m:()=>c})},3670:(Ii,ln,Y)=>{"use strict";Y.d(ln,{c:()=>De});var c=Y(8822),y=Y(576);function De(ze){return(0,y.m)(ze[c.L])}},6495:(Ii,ln,Y)=>{"use strict";Y.d(ln,{T:()=>De});var c=Y(2202),y=Y(576);function De(ze){return(0,y.m)(null==ze?void 0:ze[c.h])}},8239:(Ii,ln,Y)=>{"use strict";Y.d(ln,{t:()=>y});var c=Y(576);function y(De){return(0,c.m)(null==De?void 0:De.then)}},3260:(Ii,ln,Y)=>{"use strict";Y.d(ln,{L:()=>ze,Q:()=>De});var c=Y(655),y=Y(576);function De(dt){return(0,c.FC)(this,arguments,function*(){const be=dt.getReader();try{for(;;){const{value:$e,done:Ke}=yield(0,c.qq)(be.read());if(Ke)return yield(0,c.qq)(void 0);yield yield(0,c.qq)($e)}}finally{be.releaseLock()}})}function ze(dt){return(0,y.m)(null==dt?void 0:dt.getReader)}},4482:(Ii,ln,Y)=>{"use strict";Y.d(ln,{A:()=>y,e:()=>De});var c=Y(576);function y(ze){return(0,c.m)(null==ze?void 0:ze.lift)}function De(ze){return dt=>{if(y(dt))return dt.lift(function(Ye){try{return ze(Ye,this)}catch(be){this.error(be)}});throw new TypeError("Unable to lift unknown Observable type")}}},3268:(Ii,ln,Y)=>{"use strict";Y.d(ln,{Z:()=>ze});var c=Y(4004);const{isArray:y}=Array;function ze(dt){return(0,c.U)(Ye=>function De(dt,Ye){return y(Ye)?dt(...Ye):dt(Ye)}(dt,Ye))}},5032:(Ii,ln,Y)=>{"use strict";function c(){}Y.d(ln,{Z:()=>c})},9635:(Ii,ln,Y)=>{"use strict";Y.d(ln,{U:()=>De,z:()=>y});var c=Y(4671);function y(...ze){return De(ze)}function De(ze){return 0===ze.length?c.y:1===ze.length?ze[0]:function(Ye){return ze.reduce((be,$e)=>$e(be),Ye)}}},7849:(Ii,ln,Y)=>{"use strict";Y.d(ln,{h:()=>De});var c=Y(2416),y=Y(3410);function De(ze){y.z.setTimeout(()=>{const{onUnhandledError:dt}=c.config;if(!dt)throw ze;dt(ze)})}},4532:(Ii,ln,Y)=>{"use strict";function c(y){return new TypeError(`You provided ${null!==y&&"object"==typeof y?"an invalid object":`'${y}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}Y.d(ln,{z:()=>c})},863:(Ii,ln,Y)=>{var c={"./ion-accordion_2.entry.js":[9654,8592,9654],"./ion-action-sheet.entry.js":[3648,8592,3648],"./ion-alert.entry.js":[1118,8592,1118],"./ion-app_8.entry.js":[53,8592,53],"./ion-avatar_3.entry.js":[4753,4753],"./ion-back-button.entry.js":[2073,8592,2073],"./ion-backdrop.entry.js":[8939,8939],"./ion-breadcrumb_2.entry.js":[7544,8592,7544],"./ion-button_2.entry.js":[5652,8372],"./ion-card_5.entry.js":[388,388],"./ion-checkbox.entry.js":[9922,8592,9922],"./ion-chip.entry.js":[657,657],"./ion-col_3.entry.js":[9824,9824],"./ion-datetime-button.entry.js":[9230,7879,9230],"./ion-datetime_3.entry.js":[4959,7879,8592,4959],"./ion-fab_3.entry.js":[5836,8592,5836],"./ion-img.entry.js":[1033,1033],"./ion-infinite-scroll_2.entry.js":[8034,8592,8034],"./ion-input.entry.js":[1217,8592,1217],"./ion-item-option_3.entry.js":[2933,8592,2933],"./ion-item_8.entry.js":[4711,8592,4711],"./ion-loading.entry.js":[9434,9434],"./ion-menu_3.entry.js":[8136,8592,8136],"./ion-modal.entry.js":[2349,8592,2349],"./ion-nav_2.entry.js":[5349,8592,5349],"./ion-picker-column-internal.entry.js":[7602,8592,7602],"./ion-picker-internal.entry.js":[9016,9016],"./ion-popover.entry.js":[3804,3804],"./ion-progress-bar.entry.js":[4174,4174],"./ion-radio_2.entry.js":[4432,8592,4432],"./ion-range.entry.js":[1709,8592,1709],"./ion-refresher_2.entry.js":[3326,8592,3326],"./ion-reorder_2.entry.js":[3583,8592,3583],"./ion-ripple-effect.entry.js":[9958,9958],"./ion-route_4.entry.js":[4330,4330],"./ion-searchbar.entry.js":[8628,8592,8628],"./ion-segment_2.entry.js":[9325,8592,9325],"./ion-select_3.entry.js":[2773,8592,2773],"./ion-spinner.entry.js":[4908,8592,4908],"./ion-split-pane.entry.js":[9536,9536],"./ion-tab-bar_2.entry.js":[438,8592,438],"./ion-tab_2.entry.js":[1536,1536],"./ion-text.entry.js":[4376,4376],"./ion-textarea.entry.js":[6560,8592,6560],"./ion-toast.entry.js":[6120,6120],"./ion-toggle.entry.js":[5168,8592,5168]};function y(De){if(!Y.o(c,De))return Promise.resolve().then(()=>{var Ye=new Error("Cannot find module '"+De+"'");throw Ye.code="MODULE_NOT_FOUND",Ye});var ze=c[De],dt=ze[0];return Promise.all(ze.slice(1).map(Y.e)).then(()=>Y(dt))}y.keys=()=>Object.keys(c),y.id=863,Ii.exports=y},655:(Ii,ln,Y)=>{"use strict";Y.d(ln,{FC:()=>zt,KL:()=>Yt,ZT:()=>y,_T:()=>ze,gn:()=>dt,mG:()=>Xe,qq:()=>bt});var c=function(et,wt){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Ot,ft){Ot.__proto__=ft}||function(Ot,ft){for(var Je in ft)Object.prototype.hasOwnProperty.call(ft,Je)&&(Ot[Je]=ft[Je])})(et,wt)};function y(et,wt){if("function"!=typeof wt&&null!==wt)throw new TypeError("Class extends value "+String(wt)+" is not a constructor or null");function Ot(){this.constructor=et}c(et,wt),et.prototype=null===wt?Object.create(wt):(Ot.prototype=wt.prototype,new Ot)}function ze(et,wt){var Ot={};for(var ft in et)Object.prototype.hasOwnProperty.call(et,ft)&&wt.indexOf(ft)<0&&(Ot[ft]=et[ft]);if(null!=et&&"function"==typeof Object.getOwnPropertySymbols){var Je=0;for(ft=Object.getOwnPropertySymbols(et);Je<ft.length;Je++)wt.indexOf(ft[Je])<0&&Object.prototype.propertyIsEnumerable.call(et,ft[Je])&&(Ot[ft[Je]]=et[ft[Je]])}return Ot}function dt(et,wt,Ot,ft){var vn,Je=arguments.length,Et=Je<3?wt:null===ft?ft=Object.getOwnPropertyDescriptor(wt,Ot):ft;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Et=Reflect.decorate(et,wt,Ot,ft);else for(var qt=et.length-1;qt>=0;qt--)(vn=et[qt])&&(Et=(Je<3?vn(Et):Je>3?vn(wt,Ot,Et):vn(wt,Ot))||Et);return Je>3&&Et&&Object.defineProperty(wt,Ot,Et),Et}function Xe(et,wt,Ot,ft){return new(Ot||(Ot=Promise))(function(Et,vn){function qt(li){try{Gt(ft.next(li))}catch(Dn){vn(Dn)}}function xn(li){try{Gt(ft.throw(li))}catch(Dn){vn(Dn)}}function Gt(li){li.done?Et(li.value):function Je(Et){return Et instanceof Ot?Et:new Ot(function(vn){vn(Et)})}(li.value).then(qt,xn)}Gt((ft=ft.apply(et,wt||[])).next())})}function bt(et){return this instanceof bt?(this.v=et,this):new bt(et)}function zt(et,wt,Ot){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Je,ft=Ot.apply(et,wt||[]),Et=[];return Je={},vn("next"),vn("throw"),vn("return"),Je[Symbol.asyncIterator]=function(){return this},Je;function vn(Nt){ft[Nt]&&(Je[Nt]=function(On){return new Promise(function(Vn,Ti){Et.push([Nt,On,Vn,Ti])>1||qt(Nt,On)})})}function qt(Nt,On){try{!function xn(Nt){Nt.value instanceof bt?Promise.resolve(Nt.value.v).then(Gt,li):Dn(Et[0][2],Nt)}(ft[Nt](On))}catch(Vn){Dn(Et[0][3],Vn)}}function Gt(Nt){qt("next",Nt)}function li(Nt){qt("throw",Nt)}function Dn(Nt,On){Nt(On),Et.shift(),Et.length&&qt(Et[0][0],Et[0][1])}}function Yt(et){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ot,wt=et[Symbol.asyncIterator];return wt?wt.call(et):(et=function an(et){var wt="function"==typeof Symbol&&Symbol.iterator,Ot=wt&&et[wt],ft=0;if(Ot)return Ot.call(et);if(et&&"number"==typeof et.length)return{next:function(){return et&&ft>=et.length&&(et=void 0),{value:et&&et[ft++],done:!et}}};throw new TypeError(wt?"Object is not iterable.":"Symbol.iterator is not defined.")}(et),Ot={},ft("next"),ft("throw"),ft("return"),Ot[Symbol.asyncIterator]=function(){return this},Ot);function ft(Et){Ot[Et]=et[Et]&&function(vn){return new Promise(function(qt,xn){!function Je(Et,vn,qt,xn){Promise.resolve(xn).then(function(Gt){Et({value:Gt,done:qt})},vn)}(qt,xn,(vn=et[Et](vn)).done,vn.value)})}}}},4755:(Ii,ln,Y)=>{"use strict";Y.d(ln,{Do:()=>on,EM:()=>jo,HT:()=>ze,JF:()=>Ho,K0:()=>Ye,Mx:()=>Hr,NF:()=>no,O5:()=>fe,PM:()=>No,S$:()=>an,V_:()=>Ke,Ye:()=>It,b0:()=>Ze,bD:()=>_s,ez:()=>Mo,q:()=>De,sg:()=>Eo,tP:()=>bi,w_:()=>dt});var c=Y(2223);let y=null;function De(){return y}function ze(ee){y||(y=ee)}class dt{}const Ye=new c.OlP("DocumentToken");let be=(()=>{class ee{historyGo(ae){throw new Error("Not implemented")}}return ee.\u0275fac=function(ae){return new(ae||ee)},ee.\u0275prov=c.Yz7({token:ee,factory:function(){return function $e(){return(0,c.LFG)(Ue)}()},providedIn:"platform"}),ee})();const Ke=new c.OlP("Location Initialized");let Ue=(()=>{class ee extends be{constructor(ae){super(),this._doc=ae,this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return De().getBaseHref(this._doc)}onPopState(ae){const We=De().getGlobalEventTarget(this._doc,"window");return We.addEventListener("popstate",ae,!1),()=>We.removeEventListener("popstate",ae)}onHashChange(ae){const We=De().getGlobalEventTarget(this._doc,"window");return We.addEventListener("hashchange",ae,!1),()=>We.removeEventListener("hashchange",ae)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(ae){this._location.pathname=ae}pushState(ae,We,Ft){Re()?this._history.pushState(ae,We,Ft):this._location.hash=Ft}replaceState(ae,We,Ft){Re()?this._history.replaceState(ae,We,Ft):this._location.hash=Ft}forward(){this._history.forward()}back(){this._history.back()}historyGo(ae=0){this._history.go(ae)}getState(){return this._history.state}}return ee.\u0275fac=function(ae){return new(ae||ee)(c.LFG(Ye))},ee.\u0275prov=c.Yz7({token:ee,factory:function(){return function Xe(){return new Ue((0,c.LFG)(Ye))}()},providedIn:"platform"}),ee})();function Re(){return!!window.history.pushState}function Le(ee,ve){if(0==ee.length)return ve;if(0==ve.length)return ee;let ae=0;return ee.endsWith("/")&&ae++,ve.startsWith("/")&&ae++,2==ae?ee+ve.substring(1):1==ae?ee+ve:ee+"/"+ve}function Qe(ee){const ve=ee.match(/#|\?|$/),ae=ve&&ve.index||ee.length;return ee.slice(0,ae-("/"===ee[ae-1]?1:0))+ee.slice(ae)}function At(ee){return ee&&"?"!==ee[0]?"?"+ee:ee}let an=(()=>{class ee{historyGo(ae){throw new Error("Not implemented")}}return ee.\u0275fac=function(ae){return new(ae||ee)},ee.\u0275prov=c.Yz7({token:ee,factory:function(){return(0,c.f3M)(Ze)},providedIn:"root"}),ee})();const nt=new c.OlP("appBaseHref");let Ze=(()=>{class ee extends an{constructor(ae,We){var Ft,Fn,ai;super(),this._platformLocation=ae,this._removeListenerFns=[],this._baseHref=null!==(Ft=null!==(Fn=null!=We?We:this._platformLocation.getBaseHrefFromDOM())&&void 0!==Fn?Fn:null===(ai=(0,c.f3M)(Ye).location)||void 0===ai?void 0:ai.origin)&&void 0!==Ft?Ft:""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(ae){this._removeListenerFns.push(this._platformLocation.onPopState(ae),this._platformLocation.onHashChange(ae))}getBaseHref(){return this._baseHref}prepareExternalUrl(ae){return Le(this._baseHref,ae)}path(ae=!1){const We=this._platformLocation.pathname+At(this._platformLocation.search),Ft=this._platformLocation.hash;return Ft&&ae?`${We}${Ft}`:We}pushState(ae,We,Ft,Fn){const ai=this.prepareExternalUrl(Ft+At(Fn));this._platformLocation.pushState(ae,We,ai)}replaceState(ae,We,Ft,Fn){const ai=this.prepareExternalUrl(Ft+At(Fn));this._platformLocation.replaceState(ae,We,ai)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(ae=0){var We,Ft;null===(We=(Ft=this._platformLocation).historyGo)||void 0===We||We.call(Ft,ae)}}return ee.\u0275fac=function(ae){return new(ae||ee)(c.LFG(be),c.LFG(nt,8))},ee.\u0275prov=c.Yz7({token:ee,factory:ee.\u0275fac,providedIn:"root"}),ee})(),on=(()=>{class ee extends an{constructor(ae,We){super(),this._platformLocation=ae,this._baseHref="",this._removeListenerFns=[],null!=We&&(this._baseHref=We)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(ae){this._removeListenerFns.push(this._platformLocation.onPopState(ae),this._platformLocation.onHashChange(ae))}getBaseHref(){return this._baseHref}path(ae=!1){let We=this._platformLocation.hash;return null==We&&(We="#"),We.length>0?We.substring(1):We}prepareExternalUrl(ae){const We=Le(this._baseHref,ae);return We.length>0?"#"+We:We}pushState(ae,We,Ft,Fn){let ai=this.prepareExternalUrl(Ft+At(Fn));0==ai.length&&(ai=this._platformLocation.pathname),this._platformLocation.pushState(ae,We,ai)}replaceState(ae,We,Ft,Fn){let ai=this.prepareExternalUrl(Ft+At(Fn));0==ai.length&&(ai=this._platformLocation.pathname),this._platformLocation.replaceState(ae,We,ai)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(ae=0){var We,Ft;null===(We=(Ft=this._platformLocation).historyGo)||void 0===We||We.call(Ft,ae)}}return ee.\u0275fac=function(ae){return new(ae||ee)(c.LFG(be),c.LFG(nt,8))},ee.\u0275prov=c.Yz7({token:ee,factory:ee.\u0275fac}),ee})(),It=(()=>{class ee{constructor(ae){this._subject=new c.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=ae;const We=this._locationStrategy.getBaseHref();this._basePath=function Yt(ee){if(new RegExp("^(https?:)?//").test(ee)){const[,ae]=ee.split(/\/\/[^\/]+/);return ae}return ee}(Qe(Jt(We))),this._locationStrategy.onPopState(Ft=>{this._subject.emit({url:this.path(!0),pop:!0,state:Ft.state,type:Ft.type})})}ngOnDestroy(){var ae;null===(ae=this._urlChangeSubscription)||void 0===ae||ae.unsubscribe(),this._urlChangeListeners=[]}path(ae=!1){return this.normalize(this._locationStrategy.path(ae))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(ae,We=""){return this.path()==this.normalize(ae+At(We))}normalize(ae){return ee.stripTrailingSlash(function zt(ee,ve){if(!ee||!ve.startsWith(ee))return ve;const ae=ve.substring(ee.length);return""===ae||["/",";","?","#"].includes(ae[0])?ae:ve}(this._basePath,Jt(ae)))}prepareExternalUrl(ae){return ae&&"/"!==ae[0]&&(ae="/"+ae),this._locationStrategy.prepareExternalUrl(ae)}go(ae,We="",Ft=null){this._locationStrategy.pushState(Ft,"",ae,We),this._notifyUrlChangeListeners(this.prepareExternalUrl(ae+At(We)),Ft)}replaceState(ae,We="",Ft=null){this._locationStrategy.replaceState(Ft,"",ae,We),this._notifyUrlChangeListeners(this.prepareExternalUrl(ae+At(We)),Ft)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(ae=0){var We,Ft;null===(We=(Ft=this._locationStrategy).historyGo)||void 0===We||We.call(Ft,ae)}onUrlChange(ae){return this._urlChangeListeners.push(ae),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(We=>{this._notifyUrlChangeListeners(We.url,We.state)})),()=>{const We=this._urlChangeListeners.indexOf(ae);var Ft;this._urlChangeListeners.splice(We,1),0===this._urlChangeListeners.length&&(null===(Ft=this._urlChangeSubscription)||void 0===Ft||Ft.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(ae="",We){this._urlChangeListeners.forEach(Ft=>Ft(ae,We))}subscribe(ae,We,Ft){return this._subject.subscribe({next:ae,error:We,complete:Ft})}}return ee.normalizeQueryParams=At,ee.joinWithSlash=Le,ee.stripTrailingSlash=Qe,ee.\u0275fac=function(ae){return new(ae||ee)(c.LFG(an))},ee.\u0275prov=c.Yz7({token:ee,factory:function(){return function bt(){return new It((0,c.LFG)(an))}()},providedIn:"root"}),ee})();function Jt(ee){return ee.replace(/\/index.html$/,"")}function Hr(ee,ve){ve=encodeURIComponent(ve);for(const ae of ee.split(";")){const We=ae.indexOf("="),[Ft,Fn]=-1==We?[ae,""]:[ae.slice(0,We),ae.slice(We+1)];if(Ft.trim()===ve)return decodeURIComponent(Fn)}return null}class uo{constructor(ve,ae,We,Ft){this.$implicit=ve,this.ngForOf=ae,this.index=We,this.count=Ft}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Eo=(()=>{class ee{set ngForOf(ae){this._ngForOf=ae,this._ngForOfDirty=!0}set ngForTrackBy(ae){this._trackByFn=ae}get ngForTrackBy(){return this._trackByFn}constructor(ae,We,Ft){this._viewContainer=ae,this._template=We,this._differs=Ft,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(ae){ae&&(this._template=ae)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const ae=this._ngForOf;!this._differ&&ae&&(this._differ=this._differs.find(ae).create(this.ngForTrackBy))}if(this._differ){const ae=this._differ.diff(this._ngForOf);ae&&this._applyChanges(ae)}}_applyChanges(ae){const We=this._viewContainer;ae.forEachOperation((Ft,Fn,ai)=>{if(null==Ft.previousIndex)We.createEmbeddedView(this._template,new uo(Ft.item,this._ngForOf,-1,-1),null===ai?void 0:ai);else if(null==ai)We.remove(null===Fn?void 0:Fn);else if(null!==Fn){const Gr=We.get(Fn);We.move(Gr,ai),Zs(Gr,Ft)}});for(let Ft=0,Fn=We.length;Ft<Fn;Ft++){const Gr=We.get(Ft).context;Gr.index=Ft,Gr.count=Fn,Gr.ngForOf=this._ngForOf}ae.forEachIdentityChange(Ft=>{Zs(We.get(Ft.currentIndex),Ft)})}static ngTemplateContextGuard(ae,We){return!0}}return ee.\u0275fac=function(ae){return new(ae||ee)(c.Y36(c.s_b),c.Y36(c.Rgc),c.Y36(c.ZZ4))},ee.\u0275dir=c.lG2({type:ee,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),ee})();function Zs(ee,ve){ee.context.$implicit=ve.item}let fe=(()=>{class ee{constructor(ae,We){this._viewContainer=ae,this._context=new Ce,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=We}set ngIf(ae){this._context.$implicit=this._context.ngIf=ae,this._updateView()}set ngIfThen(ae){He("ngIfThen",ae),this._thenTemplateRef=ae,this._thenViewRef=null,this._updateView()}set ngIfElse(ae){He("ngIfElse",ae),this._elseTemplateRef=ae,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(ae,We){return!0}}return ee.\u0275fac=function(ae){return new(ae||ee)(c.Y36(c.s_b),c.Y36(c.Rgc))},ee.\u0275dir=c.lG2({type:ee,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),ee})();class Ce{constructor(){this.$implicit=null,this.ngIf=null}}function He(ee,ve){if(ve&&!ve.createEmbeddedView)throw new Error(`${ee} must be a TemplateRef, but received '${(0,c.AaK)(ve)}'.`)}let bi=(()=>{class ee{constructor(ae){this._viewContainerRef=ae,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(ae){if(ae.ngTemplateOutlet||ae.ngTemplateOutletInjector){const We=this._viewContainerRef;if(this._viewRef&&We.remove(We.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:Ft,ngTemplateOutletContext:Fn,ngTemplateOutletInjector:ai}=this;this._viewRef=We.createEmbeddedView(Ft,Fn,ai?{injector:ai}:void 0)}else this._viewRef=null}else this._viewRef&&ae.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return ee.\u0275fac=function(ae){return new(ae||ee)(c.Y36(c.s_b))},ee.\u0275dir=c.lG2({type:ee,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[c.TTD]}),ee})(),Mo=(()=>{class ee{}return ee.\u0275fac=function(ae){return new(ae||ee)},ee.\u0275mod=c.oAB({type:ee}),ee.\u0275inj=c.cJS({}),ee})();const _s="browser",Pa="server";function no(ee){return ee===_s}function No(ee){return ee===Pa}let jo=(()=>{class ee{}return ee.\u0275prov=(0,c.Yz7)({token:ee,providedIn:"root",factory:()=>new Lo((0,c.LFG)(Ye),window)}),ee})();class Lo{constructor(ve,ae){this.document=ve,this.window=ae,this.offset=()=>[0,0]}setOffset(ve){this.offset=Array.isArray(ve)?()=>ve:ve}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(ve){this.supportsScrolling()&&this.window.scrollTo(ve[0],ve[1])}scrollToAnchor(ve){if(!this.supportsScrolling())return;const ae=function Aa(ee,ve){const ae=ee.getElementById(ve)||ee.getElementsByName(ve)[0];if(ae)return ae;if("function"==typeof ee.createTreeWalker&&ee.body&&"function"==typeof ee.body.attachShadow){const We=ee.createTreeWalker(ee.body,NodeFilter.SHOW_ELEMENT);let Ft=We.currentNode;for(;Ft;){const Fn=Ft.shadowRoot;if(Fn){const ai=Fn.getElementById(ve)||Fn.querySelector(`[name="${ve}"]`);if(ai)return ai}Ft=We.nextNode()}}return null}(this.document,ve);ae&&(this.scrollToElement(ae),ae.focus())}setHistoryScrollRestoration(ve){if(this.supportScrollRestoration()){const ae=this.window.history;ae&&ae.scrollRestoration&&(ae.scrollRestoration=ve)}}scrollToElement(ve){const ae=ve.getBoundingClientRect(),We=ae.left+this.window.pageXOffset,Ft=ae.top+this.window.pageYOffset,Fn=this.offset();this.window.scrollTo(We-Fn[0],Ft-Fn[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const ve=bs(this.window.history)||bs(Object.getPrototypeOf(this.window.history));return!(!ve||!ve.writable&&!ve.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function bs(ee){return Object.getOwnPropertyDescriptor(ee,"scrollRestoration")}class Ho{}},2223:(Ii,ln,Y)=>{"use strict";Y.d(ln,{$8M:()=>Xl,$WT:()=>yi,$Z:()=>ap,AFp:()=>Yf,AaK:()=>Ke,AsE:()=>cr,BQk:()=>fm,CHM:()=>Zn,CRH:()=>zb,D6c:()=>CI,EJc:()=>AC,EpF:()=>Ly,F$t:()=>vm,F4k:()=>wf,FYo:()=>qm,FiY:()=>Hn,G48:()=>QC,GSi:()=>Sg,Gf:()=>Vb,GfV:()=>qh,GkF:()=>Ny,Gpc:()=>Xe,HDt:()=>Gw,Hsn:()=>_m,JOm:()=>El,KtG:()=>Ri,LFG:()=>_n,LMc:()=>TI,LSH:()=>Ld,Lbi:()=>zm,Lck:()=>uS,MAs:()=>yf,MMx:()=>mb,NdJ:()=>gm,Ojb:()=>ig,OlP:()=>Da,Oqu:()=>Wn,P3R:()=>Fd,PXZ:()=>jC,Q6J:()=>Dp,QGY:()=>pm,QbO:()=>gv,Qsj:()=>sc,R0b:()=>pc,RDi:()=>Nf,Rgc:()=>Mm,SBq:()=>ud,Sil:()=>MC,Suo:()=>Ub,TTD:()=>Ea,TgZ:()=>wd,X6Q:()=>XC,XFs:()=>ii,Xpm:()=>Zs,Xts:()=>Rl,Y36:()=>bc,YKP:()=>pb,YNc:()=>dm,Yjl:()=>St,Yz7:()=>Nt,Z0I:()=>Di,ZZ4:()=>r0,_Bn:()=>fb,_UZ:()=>_f,_Vd:()=>Kh,_c5:()=>pI,_uU:()=>ye,aQg:()=>s0,c2e:()=>cw,cJS:()=>Vn,cg1:()=>w_,dDg:()=>$C,dqk:()=>Bi,eFA:()=>Sw,eJc:()=>V_,ekj:()=>Em,eoX:()=>_w,f3M:()=>mi,g9A:()=>Um,h0i:()=>Lp,hGG:()=>gI,hij:()=>vi,iGM:()=>$b,ifc:()=>ne,ip1:()=>lw,jDz:()=>yb,kL8:()=>$0,lG2:()=>Ae,lqb:()=>Nu,lri:()=>yw,n5z:()=>bo,oAB:()=>He,oxw:()=>ym,q4F:()=>Yd,qFp:()=>DI,qLn:()=>qd,qOj:()=>vp,qZA:()=>vf,rWj:()=>vw,s9C:()=>Pp,sBO:()=>JC,s_b:()=>rv,soG:()=>ov,tb:()=>X_,tp0:()=>ei,uIk:()=>gd,vHH:()=>Ze,vpe:()=>Wu,wAp:()=>to,xp6:()=>iy,ynx:()=>vu,z2F:()=>$p,zSh:()=>Uf,zs3:()=>_c});var Ye,c=Y(7579),y=Y(727),De=Y(9751),ze=Y(6451),dt=Y(3099);function be(n){for(let i in n)if(n[i]===be)return i;throw Error("Could not find renamed property on target object.")}function $e(n,i){for(const s in i)i.hasOwnProperty(s)&&!n.hasOwnProperty(s)&&(n[s]=i[s])}function Ke(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(Ke).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const i=n.toString();if(null==i)return""+i;const s=i.indexOf("\n");return-1===s?i:i.substring(0,s)}function Ue(n,i){return null==n||""===n?null===i?"":i:null==i||""===i?n:n+" "+i}const Re=be({__forward_ref__:be});function Xe(n){return n.__forward_ref__=Xe,n.toString=function(){return Ke(this())},n}function Le(n){return Qe(n)?n():n}function Qe(n){return"function"==typeof n&&n.hasOwnProperty(Re)&&n.__forward_ref__===Xe}function At(n){return n&&!!n.\u0275providers}const nt="https://g.co/ng/security#xss";class Ze extends Error{constructor(i,s){super(function on(n,i){return`NG0${Math.abs(n)}${i?": "+i:""}`}(i,s)),this.code=i}}function It(n){return"string"==typeof n?n:null==n?"":String(n)}function tt(n,i){throw new Ze(-201,!1)}function qt(n,i){null==n&&function xn(n,i,s,l){throw new Error(`ASSERTION ERROR: ${n}`+(null==l?"":` [Expected=> ${s} ${l} ${i} <=Actual]`))}(i,n,null,"!=")}function Nt(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Vn(n){return{providers:n.providers||[],imports:n.imports||[]}}function Ti(n){return Vi(n,Ni)||Vi(n,fr)}function Di(n){return null!==Ti(n)}function Vi(n,i){return n.hasOwnProperty(i)?n[i]:null}function Ai(n){return n&&(n.hasOwnProperty(rr)||n.hasOwnProperty(Ui))?n[rr]:null}const Ni=be({\u0275prov:be}),rr=be({\u0275inj:be}),fr=be({ngInjectableDef:be}),Ui=be({ngInjectorDef:be});var ii=(()=>((ii=ii||{})[ii.Default=0]="Default",ii[ii.Host=1]="Host",ii[ii.Self=2]="Self",ii[ii.SkipSelf=4]="SkipSelf",ii[ii.Optional=8]="Optional",ii))();let kr;function Li(n){const i=kr;return kr=n,i}function ps(n,i,s){const l=Ti(n);return l&&"root"==l.providedIn?void 0===l.value?l.value=l.factory():l.value:s&ii.Optional?null:void 0!==i?i:void tt(Ke(n))}const Bi=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Jr={},Ir="__NG_DI_FLAG__",jr="ngTempTokenPath",tr=/\n/gm,is="__source";let nr;function Ge(n){const i=nr;return nr=n,i}function Mt(n,i=ii.Default){if(void 0===nr)throw new Ze(-203,!1);return null===nr?ps(n,void 0,i):nr.get(n,i&ii.Optional?null:void 0,i)}function _n(n,i=ii.Default){return(function Ar(){return kr}()||Mt)(Le(n),i)}function mi(n,i=ii.Default){return _n(n,Dr(i))}function Dr(n){return typeof n>"u"||"number"==typeof n?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function pr(n){const i=[];for(let s=0;s<n.length;s++){const l=Le(n[s]);if(Array.isArray(l)){if(0===l.length)throw new Ze(900,!1);let p,w=ii.Default;for(let N=0;N<l.length;N++){const K=l[N],re=Pt(K);"number"==typeof re?-1===re?p=K.token:w|=re:p=K}i.push(_n(p,w))}else i.push(_n(l))}return i}function sr(n,i){return n[Ir]=i,n.prototype[Ir]=i,n}function Pt(n){return n[Ir]}function A(n){return{toString:n}.toString()}var O=(()=>((O=O||{})[O.OnPush=0]="OnPush",O[O.Default=1]="Default",O))(),ne=(()=>{return(n=ne||(ne={}))[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",ne;var n})();const ce={},me=[],Ve=be({\u0275cmp:be}),Be=be({\u0275dir:be}),jt=be({\u0275pipe:be}),Lt=be({\u0275mod:be}),fn=be({\u0275fac:be}),Wt=be({__NG_ELEMENT_ID__:be}),en=be({__NG_ENV_ID__:be});function In(n,i,s){let l=n.length;for(;;){const p=n.indexOf(i,s);if(-1===p)return p;if(0===p||n.charCodeAt(p-1)<=32){const w=i.length;if(p+w===l||n.charCodeAt(p+w)<=32)return p}s=p+1}}function Ut(n,i,s){let l=0;for(;l<s.length;){const p=s[l];if("number"==typeof p){if(0!==p)break;l++;const w=s[l++],N=s[l++],K=s[l++];n.setAttribute(i,N,K,w)}else{const w=p,N=s[++l];hn(w)?n.setProperty(i,w,N):n.setAttribute(i,w,N),l++}}return l}function rn(n){return 3===n||4===n||6===n}function hn(n){return 64===n.charCodeAt(0)}function Yn(n,i){if(null!==i&&0!==i.length)if(null===n||0===n.length)n=i.slice();else{let s=-1;for(let l=0;l<i.length;l++){const p=i[l];"number"==typeof p?s=p:0===s||Kn(n,s,p,null,-1===s||2===s?i[++l]:null)}}return n}function Kn(n,i,s,l,p){let w=0,N=n.length;if(-1===i)N=-1;else for(;w<n.length;){const K=n[w++];if("number"==typeof K){if(K===i){N=-1;break}if(K>i){N=w-1;break}}}for(;w<n.length;){const K=n[w];if("number"==typeof K)break;if(K===s){if(null===l)return void(null!==p&&(n[w+1]=p));if(l===n[w+1])return void(n[w+2]=p)}w++,null!==l&&w++,null!==p&&w++}-1!==N&&(n.splice(N,0,i),w=N+1),n.splice(w++,0,s),null!==l&&n.splice(w++,0,l),null!==p&&n.splice(w++,0,p)}const ti="ng-template";function $i(n,i,s){let l=0,p=!0;for(;l<n.length;){let w=n[l++];if("string"==typeof w&&p){const N=n[l++];if(s&&"class"===w&&-1!==In(N.toLowerCase(),i,0))return!0}else{if(1===w){for(;l<n.length&&"string"==typeof(w=n[l++]);)if(w.toLowerCase()===i)return!0;return!1}"number"==typeof w&&(p=!1)}}return!1}function Sr(n){return 4===n.type&&n.value!==ti}function yr(n,i,s){return i===(4!==n.type||s?n.value:ti)}function Ki(n,i,s){let l=4;const p=n.attrs||[],w=function ur(n){for(let i=0;i<n.length;i++)if(rn(n[i]))return i;return n.length}(p);let N=!1;for(let K=0;K<i.length;K++){const re=i[K];if("number"!=typeof re){if(!N)if(4&l){if(l=2|1&l,""!==re&&!yr(n,re,s)||""===re&&1===i.length){if(wr(l))return!1;N=!0}}else{const Te=8&l?re:i[++K];if(8&l&&null!==n.attrs){if(!$i(n.attrs,Te,s)){if(wr(l))return!1;N=!0}continue}const Dt=Wi(8&l?"class":re,p,Sr(n),s);if(-1===Dt){if(wr(l))return!1;N=!0;continue}if(""!==Te){let wn;wn=Dt>w?"":p[Dt+1].toLowerCase();const Ln=8&l?wn:null;if(Ln&&-1!==In(Ln,Te,0)||2&l&&Te!==wn){if(wr(l))return!1;N=!0}}}}else{if(!N&&!wr(l)&&!wr(re))return!1;if(N&&wr(re))continue;N=!1,l=re|1&l}}return wr(l)||N}function wr(n){return 0==(1&n)}function Wi(n,i,s,l){if(null===i)return-1;let p=0;if(l||!s){let w=!1;for(;p<i.length;){const N=i[p];if(N===n)return p;if(3===N||6===N)w=!0;else{if(1===N||2===N){let K=i[++p];for(;"string"==typeof K;)K=i[++p];continue}if(4===N)break;if(0===N){p+=4;continue}}p+=w?1:2}return-1}return function rs(n,i){let s=n.indexOf(4);if(s>-1)for(s++;s<n.length;){const l=n[s];if("number"==typeof l)return-1;if(l===i)return s;s++}return-1}(i,n)}function mr(n,i,s=!1){for(let l=0;l<i.length;l++)if(Ki(n,i[l],s))return!0;return!1}function $s(n,i){e:for(let s=0;s<i.length;s++){const l=i[s];if(n.length===l.length){for(let p=0;p<n.length;p++)if(n[p]!==l[p])continue e;return!0}}return!1}function ws(n,i){return n?":not("+i.trim()+")":i}function Es(n){let i=n[0],s=1,l=2,p="",w=!1;for(;s<n.length;){let N=n[s];if("string"==typeof N)if(2&l){const K=n[++s];p+="["+N+(K.length>0?'="'+K+'"':"")+"]"}else 8&l?p+="."+N:4&l&&(p+=" "+N);else""!==p&&!wr(N)&&(i+=ws(w,p),p=""),l=N,w=w||!wr(l);s++}return""!==p&&(i+=ws(w,p)),i}function Zs(n){return A(()=>{const i=Cr(n),s={...i,decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===O.OnPush,directiveDefs:null,pipeDefs:null,dependencies:i.standalone&&n.dependencies||null,getStandaloneInjector:null,data:n.data||{},encapsulation:n.encapsulation||ne.Emulated,styles:n.styles||me,_:null,schemas:n.schemas||null,tView:null,id:""};$r(s);const l=n.dependencies;return s.directiveDefs=Xs(l,!1),s.pipeDefs=Xs(l,!0),s.id=function vs(n){let i=0;const s=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,n.consts,n.vars,n.decls,n.encapsulation,n.standalone,Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery].join("|");for(const p of s)i=Math.imul(31,i)+p.charCodeAt(0)<<0;return i+=2147483648,"c"+i}(s),s})}function fe(n){return Kt(n)||mn(n)}function Ce(n){return null!==n}function He(n){return A(()=>({type:n.type,bootstrap:n.bootstrap||me,declarations:n.declarations||me,imports:n.imports||me,exports:n.exports||me,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function he(n,i){if(null==n)return ce;const s={};for(const l in n)if(n.hasOwnProperty(l)){let p=n[l],w=p;Array.isArray(p)&&(w=p[1],p=p[0]),s[p]=l,i&&(i[p]=w)}return s}function Ae(n){return A(()=>{const i=Cr(n);return $r(i),i})}function St(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,standalone:!0===n.standalone,onDestroy:n.type.prototype.ngOnDestroy||null}}function Kt(n){return n[Ve]||null}function mn(n){return n[Be]||null}function Mn(n){return n[jt]||null}function yi(n){const i=Kt(n)||mn(n)||Mn(n);return null!==i&&i.standalone}function bi(n,i){const s=n[Lt]||null;if(!s&&!0===i)throw new Error(`Type ${Ke(n)} does not have '\u0275mod' property.`);return s}function Cr(n){const i={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:i,exportAs:n.exportAs||null,standalone:!0===n.standalone,selectors:n.selectors||me,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:he(n.inputs,i),outputs:he(n.outputs)}}function $r(n){var i;null===(i=n.features)||void 0===i||i.forEach(s=>s(n))}function Xs(n,i){if(!n)return null;const s=i?Mn:fe;return()=>("function"==typeof n?n():n).map(l=>s(l)).filter(Ce)}const hr=0,ri=1,vr=2,_r=3,So=4,Do=5,js=6,Qo=7,Vr=8,Mr=9,Cs=10,Nr=11,Ao=12,Gs=13,as=14,Vs=15,zo=16,Jo=17,vo=18,ea=19,ia=20,ra=21,xo=22,Fa=23,Mo=24,_s=25,Co=1,ms=2,no=7,No=8,ta=9,fo=11;function Lo(n){return Array.isArray(n)&&"object"==typeof n[Co]}function bs(n){return Array.isArray(n)&&!0===n[Co]}function Aa(n){return 0!=(4&n.flags)}function aa(n){return n.componentOffset>-1}function Ho(n){return 1==(1&n.flags)}function F(n){return!!n.template}function Se(n){return 0!=(512&n[vr])}function ha(n,i){return n.hasOwnProperty(fn)?n[fn]:null}let I=null!==(Ye=Bi.WeakRef)&&void 0!==Ye?Ye:class U{constructor(i){this.ref=i}deref(){return this.ref}},Rt=0,gn=null,Nn=!1;function qn(n){const i=gn;return gn=n,i}class Ur{constructor(){this.id=Rt++,this.ref=function V(n){return new I(n)}(this),this.producers=new Map,this.consumers=new Map,this.trackingVersion=0,this.valueVersion=0}consumerPollProducersForChange(){for(const[i,s]of this.producers){const l=s.producerNode.deref();if(void 0!==l&&s.atTrackingVersion===this.trackingVersion){if(l.producerPollStatus(s.seenValueVersion))return!0}else this.producers.delete(i),null==l||l.consumers.delete(this.id)}return!1}producerMayHaveChanged(){const i=Nn;Nn=!0;try{for(const[s,l]of this.consumers){const p=l.consumerNode.deref();void 0!==p&&p.trackingVersion===l.atTrackingVersion?p.onConsumerDependencyMayHaveChanged():(this.consumers.delete(s),null==p||p.producers.delete(this.id))}}finally{Nn=i}}producerAccessed(){if(Nn)throw new Error("");if(null===gn)return;let i=gn.producers.get(this.id);void 0===i?(i={consumerNode:gn.ref,producerNode:this.ref,seenValueVersion:this.valueVersion,atTrackingVersion:gn.trackingVersion},gn.producers.set(this.id,i),this.consumers.set(gn.id,i)):(i.seenValueVersion=this.valueVersion,i.atTrackingVersion=gn.trackingVersion)}get hasProducers(){return this.producers.size>0}get producerUpdatesAllowed(){var i;return!1!==(null===(i=gn)||void 0===i?void 0:i.consumerAllowSignalWrites)}producerPollStatus(i){return this.valueVersion!==i||(this.onProducerUpdateValueVersion(),this.valueVersion!==i)}}let po=null;const Oa=()=>{};class cl extends Ur{constructor(i,s,l){super(),this.watch=i,this.schedule=s,this.dirty=!1,this.cleanupFn=Oa,this.registerOnCleanup=p=>{this.cleanupFn=p},this.consumerAllowSignalWrites=l}notify(){this.dirty||this.schedule(this),this.dirty=!0}onConsumerDependencyMayHaveChanged(){this.notify()}onProducerUpdateValueVersion(){}run(){if(this.dirty=!1,0!==this.trackingVersion&&!this.consumerPollProducersForChange())return;const i=qn(this);this.trackingVersion++;try{this.cleanupFn(),this.cleanupFn=Oa,this.watch(this.registerOnCleanup)}finally{qn(i)}}cleanup(){this.cleanupFn()}}class Za{constructor(i,s,l){this.previousValue=i,this.currentValue=s,this.firstChange=l}isFirstChange(){return this.firstChange}}function Ea(){return Xa}function Xa(n){return n.type.prototype.ngOnChanges&&(n.setInput=na),so}function so(){const n=Bo(this),i=null==n?void 0:n.current;if(i){const s=n.previous;if(s===ce)n.previous=i;else for(let l in i)s[l]=i[l];n.current=null,this.ngOnChanges(i)}}function na(n,i,s,l){const p=this.declaredInputs[s],w=Bo(n)||function ul(n,i){return n[nl]=i}(n,{previous:ce,current:null}),N=w.current||(w.current={}),K=w.previous,re=K[p];N[p]=new Za(re&&re.currentValue,i,K===ce),n[l]=i}Ea.ngInherit=!0;const nl="__ngSimpleChanges__";function Bo(n){return n[nl]||null}const pe=function(n,i,s){};function xt(n){for(;Array.isArray(n);)n=n[hr];return n}function yn(n,i){return xt(i[n])}function Pn(n,i){return xt(i[n.index])}function Fi(n,i){return n.data[i]}function Rr(n,i){const s=i[n];return Lo(s)?s:s[hr]}function oo(n){return 128==(128&n[vr])}function ve(n,i){return null==i?null:n[i]}function ae(n){n[Jo]=0}function We(n){1024&n[vr]||(n[vr]|=1024,Fn(n,1))}function Ft(n){1024&n[vr]&&(n[vr]&=-1025,Fn(n,-1))}function Fn(n,i){let s=n[_r];if(null===s)return;s[Do]+=i;let l=s;for(s=s[_r];null!==s&&(1===i&&1===l[Do]||-1===i&&0===l[Do]);)s[Do]+=i,l=s,s=s[_r]}const Xi={lFrame:_t(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function Yo(){return Xi.bindingsEnabled}function Ci(){return Xi.lFrame.lView}function fi(){return Xi.lFrame.tView}function Zn(n){return Xi.lFrame.contextLView=n,n[Vr]}function Ri(n){return Xi.lFrame.contextLView=null,n}function ao(){let n=Kl();for(;null!==n&&64===n.type;)n=n.parent;return n}function Kl(){return Xi.lFrame.currentTNode}function Tl(n,i){const s=Xi.lFrame;s.currentTNode=n,s.isParent=i}function ql(){return Xi.lFrame.isParent}function il(){Xi.lFrame.isParent=!1}function As(){return Xi.lFrame.bindingIndex++}function Ba(n){const i=Xi.lFrame,s=i.bindingIndex;return i.bindingIndex=i.bindingIndex+n,s}function Zr(n,i){const s=Xi.lFrame;s.bindingIndex=s.bindingRootIndex=n,zs(i)}function zs(n){Xi.lFrame.currentDirectiveIndex=n}function qs(){return Xi.lFrame.currentQueryIndex}function Ji(n){Xi.lFrame.currentQueryIndex=n}function Ll(n){const i=n[ri];return 2===i.type?i.declTNode:1===i.type?n[js]:null}function La(n,i,s){if(s&ii.SkipSelf){let p=i,w=n;for(;!(p=p.parent,null!==p||s&ii.Host||(p=Ll(w),null===p||(w=w[as],10&p.type))););if(null===p)return!1;i=p,n=w}const l=Xi.lFrame=Zl();return l.currentTNode=i,l.lView=n,!0}function yl(n){const i=Zl(),s=n[ri];Xi.lFrame=i,i.currentTNode=s.firstChild,i.lView=n,i.tView=s,i.contextLView=n,i.bindingIndex=s.bindingStartIndex,i.inI18n=!1}function Zl(){const n=Xi.lFrame,i=null===n?null:n.child;return null===i?_t(n):i}function _t(n){const i={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=i),i}function Tn(){const n=Xi.lFrame;return Xi.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const An=Tn;function er(){const n=Tn();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function Ys(){return Xi.lFrame.selectedIndex}function Ws(n){Xi.lFrame.selectedIndex=n}function ks(){const n=Xi.lFrame;return Fi(n.tView,n.selectedIndex)}let Jl=!0;function Ml(){return Jl}function ba(n){Jl=n}function Ia(n,i){for(let Te=i.directiveStart,qe=i.directiveEnd;Te<qe;Te++){const wn=n.data[Te].type.prototype,{ngAfterContentInit:Ln,ngAfterContentChecked:_i,ngAfterViewInit:ar,ngAfterViewChecked:Or,ngOnDestroy:os}=wn;var s,l,p,w,N,K,re;Ln&&(null!==(s=n.contentHooks)&&void 0!==s?s:n.contentHooks=[]).push(-Te,Ln),_i&&((null!==(l=n.contentHooks)&&void 0!==l?l:n.contentHooks=[]).push(Te,_i),(null!==(p=n.contentCheckHooks)&&void 0!==p?p:n.contentCheckHooks=[]).push(Te,_i)),ar&&(null!==(w=n.viewHooks)&&void 0!==w?w:n.viewHooks=[]).push(-Te,ar),Or&&((null!==(N=n.viewHooks)&&void 0!==N?N:n.viewHooks=[]).push(Te,Or),(null!==(K=n.viewCheckHooks)&&void 0!==K?K:n.viewCheckHooks=[]).push(Te,Or)),null!=os&&(null!==(re=n.destroyHooks)&&void 0!==re?re:n.destroyHooks=[]).push(Te,os)}}function W(n,i,s){te(n,i,3,s)}function Z(n,i,s,l){(3&n[vr])===s&&te(n,i,s,l)}function L(n,i){let s=n[vr];(3&s)===i&&(s&=4095,s+=1,n[vr]=s)}function te(n,i,s,l){const w=null!=l?l:-1,N=i.length-1;let K=0;for(let re=void 0!==l?65535&n[Jo]:0;re<N;re++)if("number"==typeof i[re+1]){if(K=i[re],null!=l&&K>=l)break}else i[re]<0&&(n[Jo]+=65536),(K<w||-1==w)&&(mt(n,s,i,re),n[Jo]=(4294901760&n[Jo])+re+2),re++}function Ee(n,i){pe(4,n,i);const s=qn(null);try{i.call(n)}finally{qn(s),pe(5,n,i)}}function mt(n,i,s,l){const p=s[l]<0,w=s[l+1],K=n[p?-s[l]:s[l]];p?n[vr]>>12<n[Jo]>>16&&(3&n[vr])===i&&(n[vr]+=4096,Ee(K,w)):Ee(K,w)}const st=-1;class En{constructor(i,s,l){this.factory=i,this.resolving=!1,this.canSeeViewProviders=s,this.injectImpl=l}}function g(n){return n!==st}function b(n){return 32767&n}function R(n,i){let s=function D(n){return n>>16}(n),l=i;for(;s>0;)l=l[as],s--;return l}let j=!0;function q(n){const i=j;return j=n,i}const ke=255,rt=5;let kt=0;const Bt={};function kn(n,i){const s=Ei(n,i);if(-1!==s)return s;const l=i[ri];l.firstCreatePass&&(n.injectorIndex=i.length,jn(l.data,n),jn(i,null),jn(l.blueprint,null));const p=di(n,i),w=n.injectorIndex;if(g(p)){const N=b(p),K=R(p,i),re=K[ri].data;for(let Te=0;Te<8;Te++)i[w+Te]=K[N+Te]|re[N+Te]}return i[w+8]=p,w}function jn(n,i){n.push(0,0,0,0,0,0,0,0,i)}function Ei(n,i){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===i[n.injectorIndex+8]?-1:n.injectorIndex}function di(n,i){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let s=0,l=null,p=i;for(;null!==p;){if(l=ma(p),null===l)return st;if(s++,p=p[as],-1!==l.injectorIndex)return l.injectorIndex|s<<16}return st}function Gi(n,i,s){!function Sn(n,i,s){let l;"string"==typeof s?l=s.charCodeAt(0)||0:s.hasOwnProperty(Wt)&&(l=s[Wt]),null==l&&(l=s[Wt]=kt++);const p=l&ke;i.data[n+(p>>rt)]|=1<<p}(n,i,s)}function Oi(n,i,s){if(s&ii.Optional||void 0!==n)return n;tt()}function zi(n,i,s,l){if(s&ii.Optional&&void 0===l&&(l=null),!(s&(ii.Self|ii.Host))){const p=n[Mr],w=Li(void 0);try{return p?p.get(i,l,s&ii.Optional):ps(i,l,s&ii.Optional)}finally{Li(w)}}return Oi(l,0,s)}function or(n,i,s,l=ii.Default,p){if(null!==n){if(2048&i[vr]){const N=function Qa(n,i,s,l,p){let w=n,N=i;for(;null!==w&&null!==N&&2048&N[vr]&&!(512&N[vr]);){const K=Er(w,N,s,l|ii.Self,Bt);if(K!==Bt)return K;let re=w.parent;if(!re){const Te=N[ia];if(Te){const qe=Te.get(s,Bt,l);if(qe!==Bt)return qe}re=ma(N),N=N[as]}w=re}return p}(n,i,s,l,Bt);if(N!==Bt)return N}const w=Er(n,i,s,l,Bt);if(w!==Bt)return w}return zi(i,s,l,p)}function Er(n,i,s,l,p){const w=function co(n){if("string"==typeof n)return n.charCodeAt(0)||0;const i=n.hasOwnProperty(Wt)?n[Wt]:void 0;return"number"==typeof i?i>=0?i&ke:sa:i}(s);if("function"==typeof w){if(!La(i,n,l))return l&ii.Host?Oi(p,0,l):zi(i,s,l,p);try{const N=w(l);if(null!=N||l&ii.Optional)return N;tt()}finally{An()}}else if("number"==typeof w){let N=null,K=Ei(n,i),re=st,Te=l&ii.Host?i[Vs][js]:null;for((-1===K||l&ii.SkipSelf)&&(re=-1===K?di(n,i):i[K+8],re!==st&&io(l,!1)?(N=i[ri],K=b(re),i=R(re,i)):K=-1);-1!==K;){const qe=i[ri];if(Oo(w,K,qe.data)){const Dt=ls(K,i,s,N,l,Te);if(Dt!==Bt)return Dt}re=i[K+8],re!==st&&io(l,i[ri].data[K+8]===Te)&&Oo(w,K,i)?(N=qe,K=b(re),i=R(re,i)):K=-1}}return p}function ls(n,i,s,l,p,w){const N=i[ri],K=N.data[n+8],qe=Ns(K,N,s,null==l?aa(K)&&j:l!=N&&0!=(3&K.type),p&ii.Host&&w===K);return null!==qe?Br(i,N,qe,K):Bt}function Ns(n,i,s,l,p){const w=n.providerIndexes,N=i.data,K=1048575&w,re=n.directiveStart,qe=w>>20,wn=p?K+qe:n.directiveEnd;for(let Ln=l?K:K+qe;Ln<wn;Ln++){const _i=N[Ln];if(Ln<re&&s===_i||Ln>=re&&_i.type===s)return Ln}if(p){const Ln=N[re];if(Ln&&F(Ln)&&Ln.type===s)return re}return null}function Br(n,i,s,l){let p=n[s];const w=i.data;if(function ni(n){return n instanceof En}(p)){const N=p;N.resolving&&function zt(n,i){const s=i?`. Dependency path: ${i.join(" > ")} > ${n}`:"";throw new Ze(-200,`Circular dependency in DI detected for ${n}${s}`)}(function bt(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():It(n)}(w[s]));const K=q(N.canSeeViewProviders);N.resolving=!0;const re=N.injectImpl?Li(N.injectImpl):null;La(n,l,ii.Default);try{p=n[s]=N.factory(void 0,w,n,l),i.firstCreatePass&&s>=l.directiveStart&&function gc(n,i,s){const{ngOnChanges:l,ngOnInit:p,ngDoCheck:w}=i.type.prototype;if(l){var N,K;const Dt=Xa(i);(null!==(N=s.preOrderHooks)&&void 0!==N?N:s.preOrderHooks=[]).push(n,Dt),(null!==(K=s.preOrderCheckHooks)&&void 0!==K?K:s.preOrderCheckHooks=[]).push(n,Dt)}var re,Te,qe;p&&(null!==(re=s.preOrderHooks)&&void 0!==re?re:s.preOrderHooks=[]).push(0-n,p),w&&((null!==(Te=s.preOrderHooks)&&void 0!==Te?Te:s.preOrderHooks=[]).push(n,w),(null!==(qe=s.preOrderCheckHooks)&&void 0!==qe?qe:s.preOrderCheckHooks=[]).push(n,w))}(s,w[s],i)}finally{null!==re&&Li(re),q(K),N.resolving=!1,An()}}return p}function Oo(n,i,s){return!!(s[i+(n>>rt)]&1<<n)}function io(n,i){return!(n&ii.Self||n&ii.Host&&i)}class _o{constructor(i,s){this._tNode=i,this._lView=s}get(i,s,l){return or(this._tNode,this._lView,i,Dr(l),s)}}function sa(){return new _o(ao(),Ci())}function bo(n){return A(()=>{const i=n.prototype.constructor,s=i[fn]||Wa(i),l=Object.prototype;let p=Object.getPrototypeOf(n.prototype).constructor;for(;p&&p!==l;){const w=p[fn]||Wa(p);if(w&&w!==s)return w;p=Object.getPrototypeOf(p)}return w=>new w})}function Wa(n){return Qe(n)?()=>{const i=Wa(Le(n));return i&&i()}:ha(n)}function ma(n){const i=n[ri],s=i.type;return 2===s?i.declTNode:1===s?n[js]:null}function Xl(n){return function qi(n,i){if("class"===i)return n.classes;if("style"===i)return n.styles;const s=n.attrs;if(s){const l=s.length;let p=0;for(;p<l;){const w=s[p];if(rn(w))break;if(0===w)p+=2;else if("number"==typeof w)for(p++;p<l&&"string"==typeof s[p];)p++;else{if(w===i)return s[p+1];p+=2}}}return null}(ao(),n)}const Va="__annotations__",qo="__parameters__",Ta="__prop__metadata__";function sl(n,i,s,l,p){return A(()=>{const w=_l(i);function N(...K){if(this instanceof N)return w.call(this,...K),this;const re=new N(...K);return function(qe){return p&&p(qe,...K),(qe.hasOwnProperty(Va)?qe[Va]:Object.defineProperty(qe,Va,{value:[]})[Va]).push(re),l&&l(qe),qe}}return s&&(N.prototype=Object.create(s.prototype)),N.prototype.ngMetadataName=n,N.annotationCls=N,N})}function _l(n){return function(...s){if(n){const l=n(...s);for(const p in l)this[p]=l[p]}}}function Fl(n,i,s){return A(()=>{const l=_l(i);function p(...w){if(this instanceof p)return l.apply(this,w),this;const N=new p(...w);return K.annotation=N,K;function K(re,Te,qe){const Dt=re.hasOwnProperty(qo)?re[qo]:Object.defineProperty(re,qo,{value:[]})[qo];for(;Dt.length<=qe;)Dt.push(null);return(Dt[qe]=Dt[qe]||[]).push(N),re}}return s&&(p.prototype=Object.create(s.prototype)),p.prototype.ngMetadataName=n,p.annotationCls=p,p})}const Hl=Fl("Attribute",n=>({attributeName:n,__NG_ELEMENT_ID__:()=>Xl(n)}));function je(n){const i=Bi.ng;if(i&&i.\u0275compilerFacade)return i.\u0275compilerFacade;throw new Error("JIT compiler unavailable")}const at=Function;function lt(n){return"function"==typeof n}function pt(n,i){n.forEach(s=>Array.isArray(s)?pt(s,i):i(s))}function Ct(n,i,s){i>=n.length?n.push(s):n.splice(i,0,s)}function sn(n,i){return i>=n.length-1?n.pop():n.splice(i,1)[0]}function pn(n,i){const s=[];for(let l=0;l<n;l++)s.push(i);return s}function Ht(n,i,s){let l=xi(n,i);return l>=0?n[1|l]=s:(l=~l,function Cn(n,i,s,l){let p=n.length;if(p==i)n.push(s,l);else if(1===p)n.push(l,n[0]),n[0]=s;else{for(p--,n.push(n[p-1],n[p]);p>i;)n[p]=n[p-2],p--;n[i]=s,n[i+1]=l}}(n,l,i,s)),l}function $n(n,i){const s=xi(n,i);if(s>=0)return n[1|s]}function xi(n,i){return function lr(n,i,s){let l=0,p=n.length>>s;for(;p!==l;){const w=l+(p-l>>1),N=n[w<<s];if(i===N)return w<<s;N>i?p=w:l=w+1}return~(p<<s)}(n,i,1)}const Qi=/^function\s+\S+\(\)\s*{[\s\S]+\.apply\(this,\s*(arguments|(?:[^()]+\(\[\],)?[^()]+\(arguments\).*)\)/,Pi=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{/,br=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{[\s\S]*constructor\s*\(/,xr=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{[\s\S]*constructor\s*\(\)\s*{[^}]*super\(\.\.\.arguments\)/;class ci{constructor(i){this._reflect=i||Bi.Reflect}factory(i){return(...s)=>new i(...s)}_zipTypesAndAnnotations(i,s){let l;l=pn(typeof i>"u"?s.length:i.length);for(let p=0;p<l.length;p++)l[p]=typeof i>"u"?[]:i[p]&&i[p]!=Object?[i[p]]:[],s&&null!=s[p]&&(l[p]=l[p].concat(s[p]));return l}_ownParameters(i,s){if(function gi(n){return Qi.test(n)||xr.test(n)||Pi.test(n)&&!br.test(n)}(i.toString()))return null;if(i.parameters&&i.parameters!==s.parameters)return i.parameters;const p=i.ctorParameters;if(p&&p!==s.ctorParameters){const K="function"==typeof p?p():p,re=K.map(qe=>qe&&qe.type),Te=K.map(qe=>qe&&bn(qe.decorators));return this._zipTypesAndAnnotations(re,Te)}const w=i.hasOwnProperty(qo)&&i[qo],N=this._reflect&&this._reflect.getOwnMetadata&&this._reflect.getOwnMetadata("design:paramtypes",i);return N||w?this._zipTypesAndAnnotations(N,w):pn(i.length)}parameters(i){if(!lt(i))return[];const s=Qn(i);let l=this._ownParameters(i,s);return!l&&s!==Object&&(l=this.parameters(s)),l||[]}_ownAnnotations(i,s){if(i.annotations&&i.annotations!==s.annotations){let l=i.annotations;return"function"==typeof l&&l.annotations&&(l=l.annotations),l}return i.decorators&&i.decorators!==s.decorators?bn(i.decorators):i.hasOwnProperty(Va)?i[Va]:null}annotations(i){if(!lt(i))return[];const s=Qn(i),l=this._ownAnnotations(i,s)||[];return(s!==Object?this.annotations(s):[]).concat(l)}_ownPropMetadata(i,s){if(i.propMetadata&&i.propMetadata!==s.propMetadata){let l=i.propMetadata;return"function"==typeof l&&l.propMetadata&&(l=l.propMetadata),l}if(i.propDecorators&&i.propDecorators!==s.propDecorators){const l=i.propDecorators,p={};return Object.keys(l).forEach(w=>{p[w]=bn(l[w])}),p}return i.hasOwnProperty(Ta)?i[Ta]:null}propMetadata(i){if(!lt(i))return{};const s=Qn(i),l={};if(s!==Object){const w=this.propMetadata(s);Object.keys(w).forEach(N=>{l[N]=w[N]})}const p=this._ownPropMetadata(i,s);return p&&Object.keys(p).forEach(w=>{const N=[];l.hasOwnProperty(w)&&N.push(...l[w]),N.push(...p[w]),l[w]=N}),l}ownPropMetadata(i){return lt(i)&&this._ownPropMetadata(i,Qn(i))||{}}hasLifecycleHook(i,s){return i instanceof at&&s in i.prototype}}function bn(n){return n?n.map(i=>new(0,i.type.annotationCls)(...i.args?i.args:[])):[]}function Qn(n){const i=n.prototype?Object.getPrototypeOf(n.prototype):null;return(i?i.constructor:null)||Object}const Jn=sr(Fl("Inject",n=>({token:n})),-1),Hn=sr(Fl("Optional"),8),Un=sr(Fl("Self"),2),ei=sr(Fl("SkipSelf"),4),es=sr(Fl("Host"),1);let ro=null;function Ss(n){return Ls(function ua(){return ro=ro||new ci}().parameters(n))}function Ls(n){return n.map(i=>function Ja(n){const i={token:null,attribute:null,host:!1,optional:!1,self:!1,skipSelf:!1};if(Array.isArray(n)&&n.length>0)for(let s=0;s<n.length;s++){const l=n[s];if(void 0===l)continue;const p=Object.getPrototypeOf(l);if(l instanceof Hn||"Optional"===p.ngMetadataName)i.optional=!0;else if(l instanceof ei||"SkipSelf"===p.ngMetadataName)i.skipSelf=!0;else if(l instanceof Un||"Self"===p.ngMetadataName)i.self=!0;else if(l instanceof es||"Host"===p.ngMetadataName)i.host=!0;else if(l instanceof Jn)i.token=l.token;else if(l instanceof Hl){if(void 0===l.attributeName)throw new Ze(204,!1);i.attribute=l.attributeName}else i.token=l}else i.token=void 0===n||Array.isArray(n)&&0===n.length?null:n;return i}(i))}var El=(()=>((El=El||{})[El.Important=1]="Important",El[El.DashCase=2]="DashCase",El))();const ic=/^>|^->|<!--|-->|--!>|<!-$/g,ou=/(<|>)/,rc="\u200b$1\u200b";const au=new Map;let mo=0;const Eu="__ngContext__";function al(n,i){Lo(i)?(n[Eu]=i[ea],function gh(n){au.set(n[ea],n)}(i)):n[Eu]=i}let Su;function Cu(n,i){return Su(n,i)}function Yu(n){const i=n[_r];return bs(i)?i[_r]:i}function Td(n){return Ac(n[Ao])}function jc(n){return Ac(n[So])}function Ac(n){for(;null!==n&&!bs(n);)n=n[So];return n}function lu(n,i,s,l,p){if(null!=l){let w,N=!1;bs(l)?w=l:Lo(l)&&(N=!0,l=l[hr]);const K=xt(l);0===n&&null!==s?null==p?Th(i,s,K):Wc(i,s,K,p||null,!0):1===n&&null!==s?Wc(i,s,K,p||null,!0):2===n?function Tu(n,i,s){const l=uu(n,i);l&&function Qu(n,i,s,l){n.removeChild(i,s,l)}(n,l,i,s)}(i,K,N):3===n&&i.destroyNode(K),null!=w&&function kc(n,i,s,l,p){const w=s[no];w!==xt(s)&&lu(i,n,l,w,p);for(let K=fo;K<s.length;K++){const re=s[K];Ju(re[ri],re,n,i,l,w)}}(i,n,w,s,p)}}function Hc(n,i){return n.createComment(function fh(n){return n.replace(ic,i=>i.replace(ou,rc))}(i))}function Iu(n,i,s){return n.createElement(i,s)}function oa(n,i){const s=n[ta],l=s.indexOf(i);Ft(i),s.splice(l,1)}function Zu(n,i){if(n.length<=fo)return;const s=fo+i,l=n[s];if(l){const p=l[zo];null!==p&&p!==n&&oa(p,l),i>0&&(n[s-1][So]=l[So]);const w=sn(n,fo+i);!function wh(n,i){Ju(n,i,i[Nr],2,null,null),i[hr]=null,i[js]=null}(l[ri],l);const N=w[vo];null!==N&&N.detachView(w[ri]),l[_r]=null,l[So]=null,l[vr]&=-129}return l}function Ch(n,i){if(!(256&i[vr])){var s,l;const p=i[Nr];null===(s=i[Fa])||void 0===s||s.destroy(),null===(l=i[Mo])||void 0===l||l.destroy(),p.destroyNode&&Ju(n,i,p,3,null,null),function Up(n){let i=n[Ao];if(!i)return Xu(n[ri],n);for(;i;){let s=null;if(Lo(i))s=i[Ao];else{const l=i[fo];l&&(s=l)}if(!s){for(;i&&!i[So]&&i!==n;)Lo(i)&&Xu(i[ri],i),i=i[_r];null===i&&(i=n),Lo(i)&&Xu(i[ri],i),s=i&&i[So]}i=s}}(i)}}function Xu(n,i){if(!(256&i[vr])){i[vr]&=-129,i[vr]|=256,function Pf(n,i){let s;if(null!=n&&null!=(s=n.destroyHooks))for(let l=0;l<s.length;l+=2){const p=i[s[l]];if(!(p instanceof En)){const w=s[l+1];if(Array.isArray(w))for(let N=0;N<w.length;N+=2){const K=p[w[N]],re=w[N+1];pe(4,K,re);try{re.call(K)}finally{pe(5,K,re)}}else{pe(4,p,w);try{w.call(p)}finally{pe(5,p,w)}}}}}(n,i),function Dd(n,i){const s=n.cleanup,l=i[Qo];if(null!==s)for(let w=0;w<s.length-1;w+=2)if("string"==typeof s[w]){const N=s[w+3];N>=0?l[N]():l[-N].unsubscribe(),w+=2}else s[w].call(l[s[w+1]]);null!==l&&(i[Qo]=null);const p=i[ra];if(null!==p){for(let w=0;w<p.length;w++)(0,p[w])();i[ra]=null}}(n,i),1===i[ri].type&&i[Nr].destroy();const s=i[zo];if(null!==s&&bs(i[_r])){s!==i[_r]&&oa(s,i);const l=i[vo];null!==l&&l.detachView(n)}!function Tf(n){au.delete(n[ea])}(i)}}function Ad(n,i,s){return function Ih(n,i,s){let l=i;for(;null!==l&&40&l.type;)l=(i=l).parent;if(null===l)return s[hr];{const{componentOffset:p}=l;if(p>-1){const{encapsulation:w}=n.data[l.directiveStart+p];if(w===ne.None||w===ne.Emulated)return null}return Pn(l,s)}}(n,i.parent,s)}function Wc(n,i,s,l,p){n.insertBefore(i,s,l,p)}function Th(n,i,s){n.appendChild(i,s)}function cu(n,i,s,l,p){null!==l?Wc(n,i,s,l,p):Th(n,i,s)}function uu(n,i){return n.parentNode(i)}function Dh(n,i,s){return Of(n,i,s)}let Md,td,fu,Of=function Ah(n,i,s){return 40&n.type?Pn(n,s):null};function Mh(n,i,s,l){const p=Ad(n,l,i),w=i[Nr],K=Dh(l.parent||i[js],l,i);if(null!=p)if(Array.isArray(s))for(let re=0;re<s.length;re++)cu(w,p,s[re],K,!1);else cu(w,p,s,K,!1);void 0!==Md&&Md(w,l,i,s,p)}function Pd(n,i){if(null!==i){const s=i.type;if(3&s)return Pn(i,n);if(4&s)return Ph(-1,n[i.index]);if(8&s){const l=i.child;if(null!==l)return Pd(n,l);{const p=n[i.index];return bs(p)?Ph(-1,p):xt(p)}}if(32&s)return Cu(i,n)()||xt(n[i.index]);{const l=kf(n,i);return null!==l?Array.isArray(l)?l[0]:Pd(Yu(n[Vs]),l):Pd(n,i.next)}}return null}function kf(n,i){return null!==i?n[Vs][js].projection[i.projection]:null}function Ph(n,i){const s=fo+n+1;if(s<i.length){const l=i[s],p=l[ri].firstChild;if(null!==p)return Pd(l,p)}return i[no]}function Rd(n,i,s,l,p,w,N){for(;null!=s;){const K=l[s.index],re=s.type;if(N&&0===i&&(K&&al(xt(K),l),s.flags|=2),32!=(32&s.flags))if(8&re)Rd(n,i,s.child,l,p,w,!1),lu(i,n,p,K,w);else if(32&re){const Te=Cu(s,l);let qe;for(;qe=Te();)lu(i,n,p,qe,w);lu(i,n,p,K,w)}else 16&re?Od(n,i,l,s,p,w):lu(i,n,p,K,w);s=N?s.projectionNext:s.next}}function Ju(n,i,s,l,p,w){Rd(s,l,n.firstChild,i,p,w,!1)}function Od(n,i,s,l,p,w){const N=s[Vs],re=N[js].projection[l.projection];if(Array.isArray(re))for(let Te=0;Te<re.length;Te++)lu(i,n,p,re[Te],w);else Rd(n,i,re,N[_r],p,w,!0)}function Yc(n,i,s){""===s?n.removeAttribute(i,"class"):n.setAttribute(i,"class",s)}function Rh(n,i,s){const{mergedAttrs:l,classes:p,styles:w}=s;null!==l&&Ut(n,i,l),null!==p&&Yc(n,i,p),null!==w&&function ll(n,i,s){n.setAttribute(i,"style",s)}(n,i,w)}function Nf(n){td=n}function kh(n){var i;return(null===(i=function nd(){if(void 0===fu&&(fu=null,Bi.trustedTypes))try{fu=Bi.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return fu}())||void 0===i?void 0:i.createScriptURL(n))||n}class Lf{constructor(i){this.changingThisBreaksApplicationSecurity=i}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${nt})`}}function Fc(n){return n instanceof Lf?n.changingThisBreaksApplicationSecurity:n}function lc(n,i){const s=function Lh(n){return n instanceof Lf&&n.getTypeName()||null}(n);if(null!=s&&s!==i){if("ResourceURL"===s&&"URL"===i)return!0;throw new Error(`Required a safe ${i}, got a ${s} (see ${nt})`)}return s===i}const h=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var Sl=(()=>((Sl=Sl||{})[Sl.NONE=0]="NONE",Sl[Sl.HTML=1]="HTML",Sl[Sl.STYLE=2]="STYLE",Sl[Sl.SCRIPT=3]="SCRIPT",Sl[Sl.URL=4]="URL",Sl[Sl.RESOURCE_URL=5]="RESOURCE_URL",Sl))();function Ld(n){const i=Bd();return i?i.sanitize(Sl.URL,n)||"":lc(n,"URL")?Fc(n):function f(n){return(n=String(n)).match(h)?n:"unsafe:"+n}(It(n))}function Lm(n){const i=Bd();if(i)return kh(i.sanitize(Sl.RESOURCE_URL,n)||"");if(lc(n,"ResourceURL"))return kh(Fc(n));throw new Ze(904,!1)}function Fd(n,i,s){return function Fm(n,i){return"src"===i&&("embed"===n||"frame"===n||"iframe"===n||"media"===n||"script"===n)||"href"===i&&("base"===n||"link"===n)?Lm:Ld}(i,s)(n)}function Bd(){const n=Ci();return n&&n[Cs].sanitizer}class Da{constructor(i,s){this._desc=i,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof s?this.__NG_ELEMENT_ID__=s:void 0!==s&&(this.\u0275prov=Nt({token:this,providedIn:s.providedIn||"root",factory:s.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const Rl=new Da("ENVIRONMENT_INITIALIZER"),Zp=new Da("INJECTOR",-1),$h=new Da("INJECTOR_DEF_TYPES");class Vh{get(i,s=Jr){if(s===Jr){const l=new Error(`NullInjectorError: No provider for ${Ke(i)}!`);throw l.name="NullInjectorError",l}return s}}function Ru(...n){return{\u0275providers:id(0,n),\u0275fromNgModule:!0}}function id(n,...i){const s=[],l=new Set;let p;return pt(i,w=>{const N=w;gu(N,s,[],l)&&(p||(p=[]),p.push(N))}),void 0!==p&&Qp(p,s),s}function Qp(n,i){for(let s=0;s<n.length;s++){const{providers:p}=n[s];Ou(p,w=>{i.push(w)})}}function gu(n,i,s,l){if(!(n=Le(n)))return!1;let p=null,w=Ai(n);const N=!w&&Kt(n);if(w||N){if(N&&!N.standalone)return!1;p=n}else{const re=n.ngModule;if(w=Ai(re),!w)return!1;p=re}const K=l.has(p);if(N){if(K)return!1;if(l.add(p),N.dependencies){const re="function"==typeof N.dependencies?N.dependencies():N.dependencies;for(const Te of re)gu(Te,i,s,l)}}else{if(!w)return!1;{if(null!=w.imports&&!K){let Te;l.add(p);try{pt(w.imports,qe=>{gu(qe,i,s,l)&&(Te||(Te=[]),Te.push(qe))})}finally{}void 0!==Te&&Qp(Te,i)}if(!K){const Te=ha(p)||(()=>new p);i.push({provide:p,useFactory:Te,deps:me},{provide:$h,useValue:p,multi:!0},{provide:Rl,useValue:()=>_n(p),multi:!0})}const re=w.providers;null==re||K||Ou(re,qe=>{i.push(qe)})}}return p!==n&&void 0!==n.providers}function Ou(n,i){for(let s of n)At(s)&&(s=s.\u0275providers),Array.isArray(s)?Ou(s,i):i(s)}const Bm=be({provide:String,useValue:be});function Zc(n){return null!==n&&"object"==typeof n&&Bm in n}function ku(n){return"function"==typeof n}const Uf=new Da("Set Injector scope."),zf={},jf={};let Hf;function Wf(){return void 0===Hf&&(Hf=new Vh),Hf}class Nu{}class eg extends Nu{get destroyed(){return this._destroyed}constructor(i,s,l,p){super(),this.parent=s,this.source=l,this.scopes=p,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,ng(i,N=>this.processProvider(N)),this.records.set(Zp,sd(void 0,this)),p.has("environment")&&this.records.set(Nu,sd(void 0,this));const w=this.records.get(Uf);null!=w&&"string"==typeof w.value&&this.scopes.add(w.value),this.injectorDefTypes=new Set(this.get($h.multi,me,ii.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const i of this._ngOnDestroyHooks)i.ngOnDestroy();for(const i of this._onDestroyHooks)i()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(i){return this.assertNotDestroyed(),this._onDestroyHooks.push(i),()=>this.removeOnDestroy(i)}runInContext(i){this.assertNotDestroyed();const s=Ge(this),l=Li(void 0);try{return i()}finally{Ge(s),Li(l)}}get(i,s=Jr,l=ii.Default){if(this.assertNotDestroyed(),i.hasOwnProperty(en))return i[en](this);l=Dr(l);const p=Ge(this),w=Li(void 0);try{if(!(l&ii.SkipSelf)){let K=this.records.get(i);if(void 0===K){const re=function pv(n){return"function"==typeof n||"object"==typeof n&&n instanceof Da}(i)&&Ti(i);K=re&&this.injectableDefInScope(re)?sd(Gf(i),zf):null,this.records.set(i,K)}if(null!=K)return this.hydrate(i,K)}return(l&ii.Self?Wf():this.parent).get(i,s=l&ii.Optional&&s===Jr?null:s)}catch(N){if("NullInjectorError"===N.name){if((N[jr]=N[jr]||[]).unshift(Ke(i)),p)throw N;return function B(n,i,s,l){const p=n[jr];throw i[is]&&p.unshift(i[is]),n.message=function x(n,i,s,l=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.slice(2):n;let p=Ke(i);if(Array.isArray(i))p=i.map(Ke).join(" -> ");else if("object"==typeof i){let w=[];for(let N in i)if(i.hasOwnProperty(N)){let K=i[N];w.push(N+":"+("string"==typeof K?JSON.stringify(K):Ke(K)))}p=`{${w.join(", ")}}`}return`${s}${l?"("+l+")":""}[${p}]: ${n.replace(tr,"\n  ")}`}("\n"+n.message,p,s,l),n.ngTokenPath=p,n[jr]=null,n}(N,i,"R3InjectorError",this.source)}throw N}finally{Li(w),Ge(p)}}resolveInjectorInitializers(){const i=Ge(this),s=Li(void 0);try{const l=this.get(Rl.multi,me,ii.Self);for(const p of l)p()}finally{Ge(i),Li(s)}}toString(){const i=[],s=this.records;for(const l of s.keys())i.push(Ke(l));return`R3Injector[${i.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Ze(205,!1)}processProvider(i){let s=ku(i=Le(i))?i:Le(i&&i.provide);const l=function Uh(n){return Zc(n)?sd(void 0,n.useValue):sd(tg(n),zf)}(i);if(ku(i)||!0!==i.multi)this.records.get(s);else{let p=this.records.get(s);p||(p=sd(void 0,zf,!0),p.factory=()=>pr(p.multi),this.records.set(s,p)),s=i,p.multi.push(i)}this.records.set(s,l)}hydrate(i,s){return s.value===zf&&(s.value=jf,s.value=s.factory()),"object"==typeof s.value&&s.value&&function Vm(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(s.value)&&this._ngOnDestroyHooks.add(s.value),s.value}injectableDefInScope(i){if(!i.providedIn)return!1;const s=Le(i.providedIn);return"string"==typeof s?"any"===s||this.scopes.has(s):this.injectorDefTypes.has(s)}removeOnDestroy(i){const s=this._onDestroyHooks.indexOf(i);-1!==s&&this._onDestroyHooks.splice(s,1)}}function Gf(n){const i=Ti(n),s=null!==i?i.factory:ha(n);if(null!==s)return s;if(n instanceof Da)throw new Ze(204,!1);if(n instanceof Function)return function rd(n){const i=n.length;if(i>0)throw pn(i,"?"),new Ze(204,!1);const s=function Xn(n){return n&&(n[Ni]||n[fr])||null}(n);return null!==s?()=>s.factory(n):()=>new n}(n);throw new Ze(204,!1)}function tg(n,i,s){let l;if(ku(n)){const p=Le(n);return ha(p)||Gf(p)}if(Zc(n))l=()=>Le(n.useValue);else if(function $m(n){return!(!n||!n.useFactory)}(n))l=()=>n.useFactory(...pr(n.deps||[]));else if(function Jp(n){return!(!n||!n.useExisting)}(n))l=()=>_n(Le(n.useExisting));else{const p=Le(n&&(n.useClass||n.provide));if(!function fv(n){return!!n.deps}(n))return ha(p)||Gf(p);l=()=>new p(...pr(n.deps))}return l}function sd(n,i,s=!1){return{factory:n,value:i,multi:s?[]:void 0}}function ng(n,i){for(const s of n)Array.isArray(s)?ng(s,i):s&&At(s)?ng(s.\u0275providers,i):i(s)}const Yf=new Da("AppId",{providedIn:"root",factory:()=>Gl}),Gl="ng",Um=new Da("Platform Initializer"),zm=new Da("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),gv=new Da("AnimationModuleType"),ig=new Da("CSP nonce",{providedIn:"root",factory:()=>{var n,i;return(null===(n=function hu(){return void 0!==td?td:typeof document<"u"?document:void 0}().body)||void 0===n||null===(i=n.querySelector("[ngCspNonce]"))||void 0===i?void 0:i.getAttribute("ngCspNonce"))||null}});let ld=(n,i)=>null;function jh(n,i){return ld(n,i)}class Gh{}class Yh{}class Ym{resolveComponentFactory(i){throw function hg(n){const i=Error(`No component factory found for ${Ke(n)}.`);return i.ngComponent=n,i}(i)}}let Kh=(()=>{class n{}return n.NULL=new Ym,n})();function Km(){return mu(ao(),Ci())}function mu(n,i){return new ud(Pn(n,i))}let ud=(()=>{class n{constructor(s){this.nativeElement=s}}return n.__NG_ELEMENT_ID__=Km,n})();function vv(n){return n instanceof ud?n.nativeElement:n}class qm{}let sc=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>function _v(){const n=Ci(),s=Rr(ao().index,n);return(Lo(s)?s:n)[Nr]}(),n})(),Zm=(()=>{class n{}return n.\u0275prov=Nt({token:n,providedIn:"root",factory:()=>null}),n})();class qh{constructor(i){this.full=i,this.major=i.split(".")[0],this.minor=i.split(".")[1],this.patch=i.split(".").slice(2).join(".")}}const Yd=new qh("16.0.0"),Zh={};function Kd(n){for(;n;){n[vr]|=64;const i=Yu(n);if(Se(n)&&!i)return n;n=i}return null}function fg(n){return n.ngOriginalError}class qd{constructor(){this._console=console}handleError(i){const s=this._findOriginalError(i);this._console.error("ERROR",i),s&&this._console.error("ORIGINAL ERROR",s)}_findOriginalError(i){let s=i&&fg(i);for(;s&&fg(s);)s=fg(s);return s||null}}const dd=new Da("",{providedIn:"root",factory:()=>!1});function Xc(n){return n instanceof Function?n():n}class Qh extends Ur{constructor(){super(...arguments),this.consumerAllowSignalWrites=!1,this._lView=null}set lView(i){this._lView=i}onConsumerDependencyMayHaveChanged(){Kd(this._lView)}onProducerUpdateValueVersion(){}get hasReadASignal(){return this.hasProducers}runInContext(i,s,l){const p=qn(this);this.trackingVersion++;try{i(s,l)}finally{qn(p)}}destroy(){this.trackingVersion++}}let hd=null;function vg(){var n;return null!==(n=hd)&&void 0!==n||(hd=new Qh),hd}function fd(n,i){var s;return null!==(s=n[i])&&void 0!==s?s:vg()}function ip(n,i){const s=vg();s.hasReadASignal&&(n[i]=hd,s.lView=n,hd=new Qh)}const To={};function iy(n){_g(fi(),Ci(),Ys()+n,!1)}function _g(n,i,s,l){if(!l)if(3==(3&i[vr])){const w=n.preOrderCheckHooks;null!==w&&W(i,w,s)}else{const w=n.preOrderHooks;null!==w&&Z(i,w,0,s)}Ws(s)}const rp={\u0275\u0275defineInjectable:Nt,\u0275\u0275defineInjector:Vn,\u0275\u0275inject:_n,\u0275\u0275invalidFactoryDep:function Gn(n){throw new Ze(202,!1)},resolveForwardRef:Le};const bg=be({provide:String,useValue:be});function ry(n){return void 0!==n.useClass}function sy(n){return void 0!==n.useFactory}const Sg=sl("Injectable",void 0,void 0,void 0,(n,i)=>function Ev(n,i){let s=null,l=null;n.hasOwnProperty(Ni)||Object.defineProperty(n,Ni,{get:()=>(null===s&&(s=je().compileInjectable(rp,`ng:///${n.name}/\u0275prov.js`,function oy(n,i){const s=i||{providedIn:null},l={name:n.name,type:n,typeArgumentCount:0,providedIn:s.providedIn};return(ry(s)||sy(s))&&void 0!==s.deps&&(l.deps=Ls(s.deps)),ry(s)?l.useClass=s.useClass:function wg(n){return bg in n}(s)?l.useValue=s.useValue:sy(s)?l.useFactory=s.useFactory:function Eg(n){return void 0!==n.useExisting}(s)&&(l.useExisting=s.useExisting),l}(n,i))),s)}),n.hasOwnProperty(fn)||Object.defineProperty(n,fn,{get:()=>{if(null===l){const p=je();l=p.compileFactory(rp,`ng:///${n.name}/\u0275fac.js`,{name:n.name,type:n,typeArgumentCount:0,deps:Ss(n),target:p.FactoryTarget.Injectable})}return l},configurable:!0})}(n,i));function sp(n,i=null,s=null,l){const p=op(n,i,s,l);return p.resolveInjectorInitializers(),p}function op(n,i=null,s=null,l,p=new Set){const w=[s||me,Ru(n)];return l=l||("object"==typeof n?void 0:Ke(n)),new eg(w,i||Wf(),l||null,p)}let _c=(()=>{class n{static create(s,l){if(Array.isArray(s))return sp({name:""},l,s,"");{var p;const w=null!==(p=s.name)&&void 0!==p?p:"";return sp({name:w},s.parent,s.providers,w)}}}return n.THROW_IF_NOT_FOUND=Jr,n.NULL=new Vh,n.\u0275prov=Nt({token:n,providedIn:"any",factory:()=>_n(Zp)}),n.__NG_ELEMENT_ID__=-1,n})();function bc(n,i=ii.Default){const s=Ci();return null===s?_n(n,i):or(ao(),s,Le(n),i)}function ap(){throw new Error("invalid")}function yu(n,i,s,l,p,w,N,K,re,Te,qe){const Dt=i.blueprint.slice();return Dt[hr]=p,Dt[vr]=140|l,(null!==Te||n&&2048&n[vr])&&(Dt[vr]|=2048),ae(Dt),Dt[_r]=Dt[as]=n,Dt[Vr]=s,Dt[Cs]=N||n&&n[Cs],Dt[Nr]=K||n&&n[Nr],Dt[Mr]=re||n&&n[Mr]||null,Dt[js]=w,Dt[ea]=function ph(){return mo++}(),Dt[xo]=qe,Dt[ia]=Te,Dt[Vs]=2==i.type?n[Vs]:Dt,Dt}function pd(n,i,s,l,p){let w=n.data[i];if(null===w)w=function Bu(n,i,s,l,p){const w=Kl(),N=ql(),re=n.data[i]=function dy(n,i,s,l,p,w){return{type:s,index:l,insertBeforeIndex:null,injectorIndex:i?i.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:p,attrs:w,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:i,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,N?w:w&&w.parent,s,i,l,p);return null===n.firstChild&&(n.firstChild=re),null!==w&&(N?null==w.child&&null!==re.parent&&(w.child=re):null===w.next&&(w.next=re,re.prev=w)),re}(n,i,s,l,p),function oc(){return Xi.lFrame.inI18n}()&&(w.flags|=32);else if(64&w.type){w.type=s,w.value=l,w.attrs=p;const N=function Al(){const n=Xi.lFrame,i=n.currentTNode;return n.isParent?i:i.parent}();w.injectorIndex=null===N?-1:N.injectorIndex}return Tl(w,!0),w}function Jh(n,i,s,l){if(0===s)return-1;const p=i.length;for(let w=0;w<s;w++)i.push(l),n.blueprint.push(l),n.data.push(null);return p}function ay(n,i,s,l,p){const w=fd(i,Fa),N=Ys(),K=2&l;try{if(Ws(-1),K&&i.length>_s&&_g(n,i,_s,!1),pe(K?2:0,p),K)w.runInContext(s,l,p);else{const Te=qn(null);try{s(l,p)}finally{qn(Te)}}}finally{K&&null===i[Fa]&&ip(i,Fa),Ws(N),pe(K?3:1,p)}}function ef(n,i,s){if(Aa(i)){const l=qn(null);try{const w=i.directiveEnd;for(let N=i.directiveStart;N<w;N++){const K=n.data[N];K.contentQueries&&K.contentQueries(1,s[N],N)}}finally{qn(l)}}}function tf(n,i,s){Yo()&&(function Pg(n,i,s,l){const p=s.directiveStart,w=s.directiveEnd;aa(s)&&function Fg(n,i,s){const l=Pn(i,n),N=dp(n,yu(n,lp(s),null,s.onPush?64:16,l,i,null,n[Cs].rendererFactory.createRenderer(l,s),null,null,null));n[i.index]=N}(i,s,n.data[p+s.componentOffset]),n.firstCreatePass||kn(s,i),al(l,i);const N=s.initialInputs;for(let K=p;K<w;K++){const re=n.data[K],Te=Br(i,n,K,s);al(Te,i),null!==N&&Bg(0,K-p,Te,re,0,N),F(re)&&(Rr(s.index,i)[Vr]=Br(i,n,K,s))}}(n,i,s,Pn(s,i)),64==(64&s.flags)&&Rg(n,i,s))}function nf(n,i,s=Pn){const l=i.localNames;if(null!==l){let p=i.index+1;for(let w=0;w<l.length;w+=2){const N=l[w+1],K=-1===N?s(i,n):n[N];n[p++]=K}}}function lp(n){const i=n.tView;return null===i||i.incompleteFirstPass?n.tView=Cg(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):i}function Cg(n,i,s,l,p,w,N,K,re,Te,qe){const Dt=_s+l,wn=Dt+p,Ln=function Sv(n,i){const s=[];for(let l=0;l<i;l++)s.push(l<n?null:To);return s}(Dt,wn),_i="function"==typeof Te?Te():Te;return Ln[ri]={type:n,blueprint:Ln,template:s,queries:null,viewQuery:K,declTNode:i,data:Ln.slice().fill(null,Dt),bindingStartIndex:Dt,expandoStartIndex:wn,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof w?w():w,pipeRegistry:"function"==typeof N?N():N,firstChild:null,schemas:re,consts:_i,incompleteFirstPass:!1,ssrId:qe}}let ly=n=>null;function Dg(n,i,s,l){for(let p in n)if(n.hasOwnProperty(p)){s=null===s?{}:s;const w=n[p];null===l?Ag(s,i,p,w):l.hasOwnProperty(p)&&Ag(s,i,l[p],w)}return s}function Ag(n,i,s,l){n.hasOwnProperty(s)?n[s].push(i,l):n[s]=[i,l]}function wc(n,i,s,l,p,w,N,K){const re=Pn(i,s);let qe,Te=i.inputs;!K&&null!=Te&&(qe=Te[l])?(Vg(n,s,qe,l,p),aa(i)&&function Dv(n,i){const s=Rr(i,n);16&s[vr]||(s[vr]|=64)}(s,i.index)):3&i.type&&(l=function Tv(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(l),p=null!=N?N(p,i.value||"",l):p,w.setProperty(re,l,p))}function rf(n,i,s,l){if(Yo()){const p=null===l?null:{"":-1},w=function py(n,i){const s=n.directiveRegistry;let l=null,p=null;if(s)for(let N=0;N<s.length;N++){const K=s[N];if(mr(i,K.selectors,!1))if(l||(l=[]),F(K))if(null!==K.findHostDirectiveDefs){const re=[];p=p||new Map,K.findHostDirectiveDefs(K,re,p),l.unshift(...re,K),kg(n,i,re.length)}else l.unshift(K),kg(n,i,0);else{var w;p=p||new Map,null===(w=K.findHostDirectiveDefs)||void 0===w||w.call(K,K,l,p),l.push(K)}}return null===l?null:[l,p]}(n,s);let N,K;null===w?N=K=null:[N,K]=w,null!==N&&fy(n,i,s,N,p,K),p&&function Ng(n,i,s){if(i){const l=n.localNames=[];for(let p=0;p<i.length;p+=2){const w=s[i[p+1]];if(null==w)throw new Ze(-301,!1);l.push(i[p],w)}}}(s,l,p)}s.mergedAttrs=Yn(s.mergedAttrs,s.attrs)}function fy(n,i,s,l,p,w){for(let Dt=0;Dt<l.length;Dt++)Gi(kn(s,i),n,l[Dt].type);!function Lg(n,i,s){n.flags|=1,n.directiveStart=i,n.directiveEnd=i+s,n.providerIndexes=i}(s,n.data.length,l.length);for(let Dt=0;Dt<l.length;Dt++){const wn=l[Dt];wn.providersResolver&&wn.providersResolver(wn)}let N=!1,K=!1,re=Jh(n,i,l.length,null);for(let Dt=0;Dt<l.length;Dt++){const wn=l[Dt];s.mergedAttrs=Yn(s.mergedAttrs,wn.hostAttrs),Mv(n,s,i,re,wn),xv(re,wn,p),null!==wn.contentQueries&&(s.flags|=4),(null!==wn.hostBindings||null!==wn.hostAttrs||0!==wn.hostVars)&&(s.flags|=64);const Ln=wn.type.prototype;var Te,qe;!N&&(Ln.ngOnChanges||Ln.ngOnInit||Ln.ngDoCheck)&&((null!==(Te=n.preOrderHooks)&&void 0!==Te?Te:n.preOrderHooks=[]).push(s.index),N=!0),K||!Ln.ngOnChanges&&!Ln.ngDoCheck||((null!==(qe=n.preOrderCheckHooks)&&void 0!==qe?qe:n.preOrderCheckHooks=[]).push(s.index),K=!0),re++}!function Iv(n,i,s){const p=i.directiveEnd,w=n.data,N=i.attrs,K=[];let re=null,Te=null;for(let qe=i.directiveStart;qe<p;qe++){const Dt=w[qe],wn=s?s.get(Dt):null,_i=wn?wn.outputs:null;re=Dg(Dt.inputs,qe,re,wn?wn.inputs:null),Te=Dg(Dt.outputs,qe,Te,_i);const ar=null===re||null===N||Sr(i)?null:Xd(re,qe,N);K.push(ar)}null!==re&&(re.hasOwnProperty("class")&&(i.flags|=8),re.hasOwnProperty("style")&&(i.flags|=16)),i.initialInputs=K,i.inputs=re,i.outputs=Te}(n,s,w)}function Rg(n,i,s){const l=s.directiveStart,p=s.directiveEnd,w=s.index,N=function rl(){return Xi.lFrame.currentDirectiveIndex}();try{Ws(w);for(let K=l;K<p;K++){const re=n.data[K],Te=i[K];zs(K),(null!==re.hostBindings||0!==re.hostVars||null!==re.hostAttrs)&&Og(re,Te)}}finally{Ws(-1),zs(N)}}function Og(n,i){null!==n.hostBindings&&n.hostBindings(1,i)}function kg(n,i,s){var l;i.componentOffset=s,(null!==(l=n.components)&&void 0!==l?l:n.components=[]).push(i.index)}function xv(n,i,s){if(s){if(i.exportAs)for(let l=0;l<i.exportAs.length;l++)s[i.exportAs[l]]=n;F(i)&&(s[""]=n)}}function Mv(n,i,s,l,p){n.data[l]=p;const w=p.factory||(p.factory=ha(p.type)),N=new En(w,F(p),bc);n.blueprint[l]=N,s[l]=N,function Mg(n,i,s,l,p){const w=p.hostBindings;if(w){let N=n.hostBindingOpCodes;null===N&&(N=n.hostBindingOpCodes=[]);const K=~i.index;(function Av(n){let i=n.length;for(;i>0;){const s=n[--i];if("number"==typeof s&&s<0)return s}return 0})(N)!=K&&N.push(K),N.push(s,l,w)}}(n,i,l,Jh(n,s,p.hostVars,To),p)}function Qc(n,i,s,l,p,w){const N=Pn(n,i);!function sf(n,i,s,l,p,w,N){if(null==w)n.removeAttribute(i,p,s);else{const K=null==N?It(w):N(w,l||"",p);n.setAttribute(i,p,K,s)}}(i[Nr],N,w,n.value,s,l,p)}function Bg(n,i,s,l,p,w){const N=w[i];if(null!==N)for(let K=0;K<N.length;)cp(l,s,N[K++],N[K++],N[K++])}function cp(n,i,s,l,p){const w=qn(null);try{null!==n.setInput?n.setInput(i,p,s,l):i[l]=p}finally{qn(w)}}function Xd(n,i,s){let l=null,p=0;for(;p<s.length;){const w=s[p];if(0!==w)if(5!==w){if("number"==typeof w)break;if(n.hasOwnProperty(w)){null===l&&(l=[]);const N=n[w];for(let K=0;K<N.length;K+=2)if(N[K]===i){l.push(w,N[K+1],s[p+1]);break}}p+=2}else p+=2;else p+=4}return l}function $g(n,i,s,l){return[n,!0,!1,i,null,0,l,s,null,null,null]}function up(n,i){const s=n.contentQueries;if(null!==s)for(let l=0;l<s.length;l+=2){const w=s[l+1];if(-1!==w){const N=n.data[w];Ji(s[l]),N.contentQueries(2,i[w],w)}}}function dp(n,i){return n[Ao]?n[Gs][So]=i:n[Ao]=i,n[Gs]=i,i}function af(n,i,s){Ji(0);const l=qn(null);try{i(n,s)}finally{qn(l)}}function hp(n){return n[Qo]||(n[Qo]=[])}function gy(n){return n.cleanup||(n.cleanup=[])}function my(n,i){const s=n[Mr],l=s?s.get(qd,null):null;l&&l.handleError(i)}function Vg(n,i,s,l,p){for(let w=0;w<s.length;){const N=s[w++],K=s[w++];cp(n.data[N],i[N],l,K,p)}}function Bc(n,i,s){const l=yn(i,n);!function bh(n,i,s){n.setValue(i,s)}(n[Nr],l,s)}function Pv(n,i){const s=Rr(i,n),l=s[ri];!function Ug(n,i){for(let s=i.length;s<n.blueprint.length;s++)i.push(n.blueprint[s])}(l,s);const p=s[hr];null!==p&&null===s[xo]&&(s[xo]=jh(p,s[Mr])),zg(l,s,s[Vr])}function zg(n,i,s){yl(i);try{const l=n.viewQuery;null!==l&&af(1,l,s);const p=n.template;null!==p&&ay(n,i,p,1,s),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&up(n,i),n.staticViewQueries&&af(2,n.viewQuery,s);const w=n.components;null!==w&&function jg(n,i){for(let s=0;s<i.length;s++)Pv(n,i[s])}(i,w)}catch(l){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),l}finally{i[vr]&=-5,er()}}let pp=(()=>{class n{constructor(){this.all=new Set,this.queue=new Map}create(s,l,p){const w=typeof Zone>"u"?null:Zone.current,N=new cl(s,Te=>{this.all.has(Te)&&this.queue.set(Te,w)},p);let K;this.all.add(N),N.notify();const re=()=>{var Te;N.cleanup(),null===(Te=K)||void 0===Te||Te(),this.all.delete(N),this.queue.delete(N)};return K=null==l?void 0:l.onDestroy(re),{destroy:re}}flush(){if(0!==this.queue.size)for(const[s,l]of this.queue)this.queue.delete(s),l?l.run(()=>s.run()):s.run()}get isQueueEmpty(){return 0===this.queue.size}}return n.\u0275prov=Nt({token:n,providedIn:"root",factory:()=>new n}),n})();function gp(n,i,s){let l=s?n.styles:null,p=s?n.classes:null,w=0;if(null!==i)for(let N=0;N<i.length;N++){const K=i[N];"number"==typeof K?w=K:1==w?p=Ue(p,K):2==w&&(l=Ue(l,K+": "+i[++N]+";"))}s?n.styles=l:n.stylesWithoutHost=l,s?n.classes=p:n.classesWithoutHost=p}function lf(n,i,s,l,p=!1){for(;null!==s;){const w=i[s.index];if(null!==w&&l.push(xt(w)),bs(w)){for(let K=fo;K<w.length;K++){const re=w[K],Te=re[ri].firstChild;null!==Te&&lf(re[ri],re,Te,l)}w[no]!==w[hr]&&l.push(w[no])}const N=s.type;if(8&N)lf(n,i,s.child,l);else if(32&N){const K=Cu(s,i);let re;for(;re=K();)l.push(re)}else if(16&N){const K=kf(i,s);if(Array.isArray(K))l.push(...K);else{const re=Yu(i[Vs]);lf(re[ri],re,K,l,!0)}}s=p?s.projectionNext:s.next}return l}function Qd(n,i,s,l=!0){const p=i[Cs].rendererFactory;p.begin&&p.begin();try{Jd(n,i,n.template,s)}catch(K){throw l&&my(i,K),K}finally{var N;p.end&&p.end(),null===(N=i[Cs].effectManager)||void 0===N||N.flush()}}function Jd(n,i,s,l){var p;const w=i[vr];if(256!=(256&w)){null===(p=i[Cs].effectManager)||void 0===p||p.flush(),yl(i);try{ae(i),function jl(n){return Xi.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==s&&ay(n,i,s,2,l);const K=3==(3&w);if(K){const qe=n.preOrderCheckHooks;null!==qe&&W(i,qe,null)}else{const qe=n.preOrderHooks;null!==qe&&Z(i,qe,0,null),L(i,0)}if(function kv(n){for(let i=Td(n);null!==i;i=jc(i)){if(!i[ms])continue;const s=i[ta];for(let l=0;l<s.length;l++){We(s[l])}}}(i),function Gg(n){for(let i=Td(n);null!==i;i=jc(i))for(let s=fo;s<i.length;s++){const l=i[s],p=l[ri];oo(l)&&Jd(p,l,p.template,l[Vr])}}(i),null!==n.contentQueries&&up(n,i),K){const qe=n.contentCheckHooks;null!==qe&&W(i,qe)}else{const qe=n.contentHooks;null!==qe&&Z(i,qe,1),L(i,1)}!function Zd(n,i){const s=n.hostBindingOpCodes;if(null===s)return;const l=fd(i,Mo);try{for(let p=0;p<s.length;p++){const w=s[p];if(w<0)Ws(~w);else{const N=w,K=s[++p],re=s[++p];Zr(K,N),l.runInContext(re,2,i[N])}}}finally{null===i[Mo]&&ip(i,Mo),Ws(-1)}}(n,i);const re=n.components;null!==re&&function Kg(n,i){for(let s=0;s<i.length;s++)cf(n,i[s])}(i,re);const Te=n.viewQuery;if(null!==Te&&af(2,Te,l),K){const qe=n.viewCheckHooks;null!==qe&&W(i,qe)}else{const qe=n.viewHooks;null!==qe&&Z(i,qe,2),L(i,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),i[vr]&=-73,Ft(i)}finally{er()}}}function cf(n,i){const s=Rr(i,n);if(oo(s)){const l=s[ri];80&s[vr]?Jd(l,s,l.template,s[Vr]):s[Do]>0&&Yg(s)}}function Yg(n){for(let l=Td(n);null!==l;l=jc(l))for(let p=fo;p<l.length;p++){const w=l[p];if(oo(w))if(1024&w[vr]){const N=w[ri];Jd(N,w,N.template,w[Vr])}else w[Do]>0&&Yg(w)}const s=n[ri].components;if(null!==s)for(let l=0;l<s.length;l++){const p=Rr(s[l],n);oo(p)&&p[Do]>0&&Yg(p)}}class eh{get rootNodes(){const i=this._lView,s=i[ri];return lf(s,i,s.firstChild,[])}constructor(i,s){this._lView=i,this._cdRefInjectingView=s,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Vr]}set context(i){this._lView[Vr]=i}get destroyed(){return 256==(256&this._lView[vr])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const i=this._lView[_r];if(bs(i)){const s=i[No],l=s?s.indexOf(this):-1;l>-1&&(Zu(i,l),sn(s,l))}this._attachedToViewContainer=!1}Ch(this._lView[ri],this._lView)}onDestroy(i){!function ai(n,i){if(256==(256&n[vr]))throw new Ze(911,!1);null===n[ra]&&(n[ra]=[]),n[ra].push(i)}(this._lView,i)}markForCheck(){Kd(this._cdRefInjectingView||this._lView)}detach(){this._lView[vr]&=-129}reattach(){this._lView[vr]|=128}detectChanges(){Qd(this._lView[ri],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Ze(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function ac(n,i){Ju(n,i,i[Nr],2,null,null)}(this._lView[ri],this._lView)}attachToAppRef(i){if(this._attachedToViewContainer)throw new Ze(902,!1);this._appRef=i}}class th extends eh{constructor(i){super(i),this._view=i}detectChanges(){const i=this._view;Qd(i[ri],i,i[Vr],!1)}checkNoChanges(){}get context(){return null}}class qg extends Kh{constructor(i){super(),this.ngModule=i}resolveComponentFactory(i){const s=Kt(i);return new df(s,this.ngModule)}}function uf(n){const i=[];for(let s in n)n.hasOwnProperty(s)&&i.push({propName:n[s],templateName:s});return i}class Lv{constructor(i,s){this.injector=i,this.parentInjector=s}get(i,s,l){l=Dr(l);const p=this.injector.get(i,Zh,l);return p!==Zh||s===Zh?p:this.parentInjector.get(i,s,l)}}class df extends Yh{get inputs(){return uf(this.componentDef.inputs)}get outputs(){return uf(this.componentDef.outputs)}constructor(i,s){super(),this.componentDef=i,this.ngModule=s,this.componentType=i.type,this.selector=function uo(n){return n.map(Es).join(",")}(i.selectors),this.ngContentSelectors=i.ngContentSelectors?i.ngContentSelectors:[],this.isBoundToModule=!!s}create(i,s,l,p){var w;let N=(p=p||this.ngModule)instanceof Nu?p:null===(w=p)||void 0===w?void 0:w.injector;N&&null!==this.componentDef.getStandaloneInjector&&(N=this.componentDef.getStandaloneInjector(N)||N);const K=N?new Lv(i,N):i,re=K.get(qm,null);if(null===re)throw new Ze(407,!1);const Dt={rendererFactory:re,sanitizer:K.get(Zm,null),effectManager:K.get(pp,null)},wn=re.createRenderer(null,this.componentDef),Ln=this.componentDef.selectors[0][0]||"div",_i=l?function Ig(n,i,s,l){const w=l.get(dd,!1)||s===ne.ShadowDom,N=n.selectRootElement(i,w);return function Tg(n){ly(n)}(N),N}(wn,l,this.componentDef.encapsulation,K):Iu(wn,Ln,function Nv(n){const i=n.toLowerCase();return"svg"===i?"svg":"math"===i?"math":null}(Ln)),ar=this.componentDef.onPush?576:528,Or=Cg(0,null,null,1,0,null,null,null,null,null,null),os=yu(null,Or,null,ar,null,null,Dt,wn,K,null,null);let ji,yo;yl(os);try{const Vo=this.componentDef;let Ma,zc=null;Vo.findHostDirectiveDefs?(Ma=[],zc=new Map,Vo.findHostDirectiveDefs(Vo,Ma,zc),Ma.push(Vo)):Ma=[Vo];const Kw=function Xg(n,i){const s=n[ri],l=_s;return n[l]=i,pd(s,l,2,"#host",null)}(os,_i),AI=function Qg(n,i,s,l,p,w,N){const K=p[ri];!function Jg(n,i,s,l){for(const p of n)i.mergedAttrs=Yn(i.mergedAttrs,p.hostAttrs);null!==i.mergedAttrs&&(gp(i,i.mergedAttrs,!0),null!==s&&Rh(l,s,i))}(l,n,i,N);let re=null;null!==i&&(re=jh(i,p[Mr]));const Te=w.rendererFactory.createRenderer(i,s),qe=yu(p,lp(s),null,s.onPush?64:16,p[n.index],n,w,Te,null,null,re);return K.firstCreatePass&&kg(K,n,l.length-1),dp(p,qe),p[n.index]=qe}(Kw,_i,Vo,Ma,os,Dt,wn);yo=Fi(Or,_s),_i&&function em(n,i,s,l){if(l)Ut(n,s,["ng-version",Yd.full]);else{const{attrs:p,classes:w}=function Eo(n){const i=[],s=[];let l=1,p=2;for(;l<n.length;){let w=n[l];if("string"==typeof w)2===p?""!==w&&i.push(w,n[++l]):8===p&&s.push(w);else{if(!wr(p))break;p=w}l++}return{attrs:i,classes:s}}(i.selectors[0]);p&&Ut(n,s,p),w&&w.length>0&&Yc(n,s,w.join(" "))}}(wn,Vo,_i,l),void 0!==s&&function tm(n,i,s){const l=n.projection=[];for(let p=0;p<i.length;p++){const w=s[p];l.push(null!=w?Array.from(w):null)}}(yo,this.ngContentSelectors,s),ji=function vy(n,i,s,l,p,w){const N=ao(),K=p[ri],re=Pn(N,p);fy(K,p,N,s,null,l);for(let qe=0;qe<s.length;qe++)al(Br(p,K,N.directiveStart+qe,N),p);Rg(K,p,N),re&&al(re,p);const Te=Br(p,K,N.directiveStart+N.componentOffset,N);if(n[Vr]=p[Vr]=Te,null!==w)for(const qe of w)qe(Te,i);return ef(K,N,n),Te}(AI,Vo,Ma,zc,os,[mp]),zg(Or,os,null)}finally{er()}return new Fv(this.componentType,ji,mu(yo,os),os,yo)}}class Fv extends Gh{constructor(i,s,l,p,w){super(),this.location=l,this._rootLView=p,this._tNode=w,this.previousInputValues=null,this.instance=s,this.hostView=this.changeDetectorRef=new th(p),this.componentType=i}setInput(i,s){const l=this._tNode.inputs;let p;if(null!==l&&(p=l[i])){var w;if(null!==(w=this.previousInputValues)&&void 0!==w||(this.previousInputValues=new Map),this.previousInputValues.has(i)&&Object.is(this.previousInputValues.get(i),s))return;const N=this._rootLView;Vg(N[ri],N,p,i,s),this.previousInputValues.set(i,s),Kd(Rr(this._tNode.index,N))}}get injector(){return new _o(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(i){this.hostView.onDestroy(i)}}function mp(){const n=ao();Ia(Ci()[ri],n)}function vp(n){let i=function yp(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),s=!0;const l=[n];for(;i;){let p;if(F(n))p=i.\u0275cmp||i.\u0275dir;else{if(i.\u0275cmp)throw new Ze(903,!1);p=i.\u0275dir}if(p){if(s){l.push(p);const N=n;N.inputs=bp(n.inputs),N.declaredInputs=bp(n.declaredInputs),N.outputs=bp(n.outputs);const K=p.hostBindings;K&&nh(n,K);const re=p.viewQuery,Te=p.contentQueries;if(re&&nm(n,re),Te&&_y(n,Te),$e(n.inputs,p.inputs),$e(n.declaredInputs,p.declaredInputs),$e(n.outputs,p.outputs),F(p)&&p.data.animation){const qe=n.data;qe.animation=(qe.animation||[]).concat(p.data.animation)}}const w=p.features;if(w)for(let N=0;N<w.length;N++){const K=w[N];K&&K.ngInherit&&K(n),K===vp&&(s=!1)}}i=Object.getPrototypeOf(i)}!function _p(n){let i=0,s=null;for(let l=n.length-1;l>=0;l--){const p=n[l];p.hostVars=i+=p.hostVars,p.hostAttrs=Yn(p.hostAttrs,s=Yn(s,p.hostAttrs))}}(l)}function bp(n){return n===ce?{}:n===me?[]:n}function nm(n,i){const s=n.viewQuery;n.viewQuery=s?(l,p)=>{i(l,p),s(l,p)}:i}function _y(n,i){const s=n.contentQueries;n.contentQueries=s?(l,p,w)=>{i(l,p,w),s(l,p,w)}:i}function nh(n,i){const s=n.hostBindings;n.hostBindings=s?(l,p)=>{i(l,p),s(l,p)}:i}function wp(n){return!!hf(n)&&(Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n)}function hf(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function Ul(n,i,s){return!Object.is(n[i],s)&&(n[i]=s,!0)}function gd(n,i,s,l){const p=Ci();return Ul(p,As(),i)&&(fi(),Qc(ks(),p,n,i,s,l)),gd}function za(n,i,s,l){return Ul(n,As(),s)?i+It(s)+l:To}function Cl(n,i,s,l,p,w){const K=function $o(n,i,s,l){const p=Ul(n,i,s);return Ul(n,i+1,l)||p}(n,function xa(){return Xi.lFrame.bindingIndex}(),s,p);return Ba(2),K?i+It(s)+l+It(p)+w:To}function dm(n,i,s,l,p,w,N,K){const re=Ci(),Te=fi(),qe=n+_s,Dt=Te.firstCreatePass?function _d(n,i,s,l,p,w,N,K,re){const Te=i.consts,qe=pd(i,n,4,N||null,ve(Te,K));rf(i,s,qe,ve(Te,re)),Ia(i,qe);const Dt=qe.tView=Cg(2,qe,l,p,w,i.directiveRegistry,i.pipeRegistry,null,i.schemas,Te,null);return null!==i.queries&&(i.queries.template(i,qe),Dt.queries=i.queries.embeddedTView(qe)),qe}(qe,Te,re,i,s,l,p,w,N):Te.data[qe];Tl(Dt,!1);const wn=hm(Te,re,Dt,n);Ml()&&Mh(Te,re,wn,Dt),al(wn,re),dp(re,re[qe]=$g(wn,re,wn,Dt)),Ho(Dt)&&tf(Te,re,Dt),null!=N&&nf(re,Dt,K)}let hm=function Ip(n,i,s,l){return ba(!0),i[Nr].createComment("")};function yf(n){return function Lr(n,i){return n[i]}(function Sa(){return Xi.lFrame.contextLView}(),_s+n)}function Dp(n,i,s){const l=Ci();return Ul(l,As(),i)&&wc(fi(),ks(),l,n,i,l[Nr],s,!1),Dp}function bd(n,i,s,l,p){const N=p?"class":"style";Vg(n,s,i.inputs[N],N,l)}function wd(n,i,s,l){const p=Ci(),w=fi(),N=_s+n,K=p[Nr],re=w.firstCreatePass?function Qv(n,i,s,l,p,w){const N=i.consts,re=pd(i,n,2,l,ve(N,p));return rf(i,s,re,ve(N,w)),null!==re.attrs&&gp(re,re.attrs,!1),null!==re.mergedAttrs&&gp(re,re.mergedAttrs,!0),null!==i.queries&&i.queries.elementStart(i,re),re}(N,w,p,i,s,l):w.data[N],Te=ch(w,p,re,K,i,n);p[N]=Te;const qe=Ho(re);return Tl(re,!0),Rh(K,Te,re),32!=(32&re.flags)&&Ml()&&Mh(w,p,Te,re),0===function Is(){return Xi.lFrame.elementDepthCount}()&&al(Te,p),function Js(){Xi.lFrame.elementDepthCount++}(),qe&&(tf(w,p,re),ef(w,re,p)),null!==l&&nf(p,re),wd}function vf(){let n=ao();ql()?il():(n=n.parent,Tl(n,!1));const i=n;(function Ts(n){return Xi.skipHydrationRootTNode===n})(i)&&function zr(){Xi.skipHydrationRootTNode=null}(),function eo(){Xi.lFrame.elementDepthCount--}();const s=fi();return s.firstCreatePass&&(Ia(s,n),Aa(n)&&s.queries.elementEnd(n)),null!=i.classesWithoutHost&&function ca(n){return 0!=(8&n.flags)}(i)&&bd(s,i,Ci(),i.classesWithoutHost,!0),null!=i.stylesWithoutHost&&function E(n){return 0!=(16&n.flags)}(i)&&bd(s,i,Ci(),i.stylesWithoutHost,!1),vf}function _f(n,i,s,l){return wd(n,i,s,l),vf(),_f}let ch=(n,i,s,l,p,w)=>(ba(!0),Iu(l,p,function Ha(){return Xi.lFrame.currentNamespace}()));function vu(n,i,s){const l=Ci(),p=fi(),w=n+_s,N=p.firstCreatePass?function e_(n,i,s,l,p){const w=i.consts,N=ve(w,l),K=pd(i,n,8,"ng-container",N);return null!==N&&gp(K,N,!0),rf(i,s,K,ve(w,p)),null!==i.queries&&i.queries.elementStart(i,K),K}(w,p,l,i,s):p.data[w];Tl(N,!0);const K=Ap(p,l,N,n);return l[w]=K,Ml()&&Mh(p,l,K,N),al(K,l),Ho(N)&&(tf(p,l,N),ef(p,N,l)),null!=s&&nf(l,N),vu}function fm(){let n=ao();const i=fi();return ql()?il():(n=n.parent,Tl(n,!1)),i.firstCreatePass&&(Ia(i,n),Aa(n)&&i.queries.elementEnd(n)),fm}function Ny(n,i,s){return vu(n,i,s),fm(),Ny}let Ap=(n,i,s,l)=>(ba(!0),Hc(i[Nr],""));function Ly(){return Ci()}function pm(n){return!!n&&"function"==typeof n.then}function wf(n){return!!n&&"function"==typeof n.subscribe}function gm(n,i,s,l){const p=Ci(),w=fi(),N=ao();return function By(n,i,s,l,p,w,N){const K=Ho(l),Te=n.firstCreatePass&&gy(n),qe=i[Vr],Dt=hp(i);let wn=!0;if(3&l.type||N){const ar=Pn(l,i),Or=N?N(ar):ar,os=Dt.length,ji=N?Vo=>N(xt(Vo[l.index])):l.index;let yo=null;if(!N&&K&&(yo=function Mp(n,i,s,l){const p=n.cleanup;if(null!=p)for(let w=0;w<p.length-1;w+=2){const N=p[w];if(N===s&&p[w+1]===l){const K=i[Qo],re=p[w+2];return K.length>re?K[re]:null}"string"==typeof N&&(w+=2)}return null}(n,i,p,l.index)),null!==yo)(yo.__ngLastListenerFn__||yo).__ngNextListenerFn__=w,yo.__ngLastListenerFn__=w,wn=!1;else{w=mm(l,i,qe,w,!1);const Vo=s.listen(Or,p,w);Dt.push(w,Vo),Te&&Te.push(p,ji,os,os+1)}}else w=mm(l,i,qe,w,!1);const Ln=l.outputs;let _i;if(wn&&null!==Ln&&(_i=Ln[p])){const ar=_i.length;if(ar)for(let Or=0;Or<ar;Or+=2){const Ma=i[_i[Or]][_i[Or+1]].subscribe(w),zc=Dt.length;Dt.push(w,Ma),Te&&Te.push(p,l.index,zc,-(zc+1))}}}(w,p,p[Nr],N,n,i,l),gm}function $y(n,i,s,l){try{return pe(6,i,s),!1!==s(l)}catch(p){return my(n,p),!1}finally{pe(7,i,s)}}function mm(n,i,s,l,p){return function w(N){if(N===Function)return l;Kd(n.componentOffset>-1?Rr(n.index,i):i);let re=$y(i,s,l,N),Te=w.__ngNextListenerFn__;for(;Te;)re=$y(i,s,Te,N)&&re,Te=Te.__ngNextListenerFn__;return p&&!1===re&&(N.preventDefault(),N.returnValue=!1),re}}function ym(n=1){return function xs(n){return(Xi.lFrame.contextLView=function Rs(n,i){for(;n>0;)i=i[as],n--;return i}(n,Xi.lFrame.contextLView))[Vr]}(n)}function Vy(n,i){let s=null;const l=function Hr(n){const i=n.attrs;if(null!=i){const s=i.indexOf(5);if(!(1&s))return i[s+1]}return null}(n);for(let p=0;p<i.length;p++){const w=i[p];if("*"!==w){if(null===l?mr(n,w,!0):$s(l,w))return p}else s=p}return s}function vm(n){const i=Ci()[Vs][js];if(!i.projection){const l=i.projection=pn(n?n.length:1,null),p=l.slice();let w=i.child;for(;null!==w;){const N=n?Vy(w,n):0;null!==N&&(p[N]?p[N].projectionNext=w:l[N]=w,p[N]=w),w=w.next}}}function _m(n,i=0,s){const l=Ci(),p=fi(),w=pd(p,_s+n,16,null,s||null);null===w.projection&&(w.projection=i),il(),(!l[xo]||function wi(){return null!==Xi.skipHydrationRootTNode}())&&32!=(32&w.flags)&&function pl(n,i,s){Od(i[Nr],0,i,s,Ad(n,s,i),Dh(s.parent||i[js],s,i))}(p,l,w)}function Pp(n,i,s){return Ef(n,"",i,"",s),Pp}function Ef(n,i,s,l,p){const w=Ci(),N=za(w,i,s,l);return N!==To&&wc(fi(),ks(),w,n,N,w[Nr],p,!1),Ef}function eu(n,i){return n<<17|i<<2}function Pc(n){return n>>17&32767}function bm(n){return 2|n}function Sd(n){return(131068&n)>>2}function tu(n,i){return-131069&n|i<<2}function wm(n){return 1|n}function jy(n,i,s,l,p){const w=n[s+1],N=null===i;let K=l?Pc(w):Sd(w),re=!1;for(;0!==K&&(!1===re||N);){const qe=n[K+1];u_(n[K],i)&&(re=!0,n[K+1]=l?wm(qe):bm(qe)),K=l?Pc(qe):Sd(qe)}re&&(n[s+1]=l?bm(w):wm(w))}function u_(n,i){return null===n||null==i||(Array.isArray(n)?n[1]:n)===i||!(!Array.isArray(n)||"string"!=typeof i)&&xi(n,i)>=0}function Em(n,i){return function Yl(n,i,s,l){const p=Ci(),w=fi(),N=Ba(2);w.firstUpdatePass&&function qy(n,i,s,l){const p=n.data;if(null===p[s+1]){const w=p[Ys()],N=function Ky(n,i){return i>=n.expandoStartIndex}(n,s);(function J(n,i){return 0!=(n.flags&(i?8:16))})(w,l)&&null===i&&!N&&(i=!1),i=function y_(n,i,s,l){const p=function xl(n){const i=Xi.lFrame.currentDirectiveIndex;return-1===i?null:n[i]}(n);let w=l?i.residualClasses:i.residualStyles;if(null===p)0===(l?i.classBindings:i.styleBindings)&&(s=Op(s=Zy(null,n,i,s,l),i.attrs,l),w=null);else{const N=i.directiveStylingLast;if(-1===N||n[N]!==p)if(s=Zy(p,n,i,s,l),null===w){let re=function v_(n,i,s){const l=s?i.classBindings:i.styleBindings;if(0!==Sd(l))return n[Pc(l)]}(n,i,l);void 0!==re&&Array.isArray(re)&&(re=Zy(null,n,i,re[1],l),re=Op(re,i.attrs,l),function __(n,i,s,l){n[Pc(s?i.classBindings:i.styleBindings)]=l}(n,i,l,re))}else w=function b_(n,i,s){let l;const p=i.directiveEnd;for(let w=1+i.directiveStylingLast;w<p;w++)l=Op(l,n[w].hostAttrs,s);return Op(l,i.attrs,s)}(n,i,l)}return void 0!==w&&(l?i.residualClasses=w:i.residualStyles=w),s}(p,w,i,l),function l_(n,i,s,l,p,w){let N=w?i.classBindings:i.styleBindings,K=Pc(N),re=Sd(N);n[l]=s;let qe,Te=!1;if(Array.isArray(s)?(qe=s[1],(null===qe||xi(s,qe)>0)&&(Te=!0)):qe=s,p)if(0!==re){const wn=Pc(n[K+1]);n[l+1]=eu(wn,K),0!==wn&&(n[wn+1]=tu(n[wn+1],l)),n[K+1]=function o_(n,i){return 131071&n|i<<17}(n[K+1],l)}else n[l+1]=eu(K,0),0!==K&&(n[K+1]=tu(n[K+1],l)),K=l;else n[l+1]=eu(re,0),0===K?K=l:n[re+1]=tu(n[re+1],l),re=l;Te&&(n[l+1]=bm(n[l+1])),jy(n,qe,l,!0),jy(n,qe,l,!1),function c_(n,i,s,l,p){const w=p?n.residualClasses:n.residualStyles;null!=w&&"string"==typeof i&&xi(w,i)>=0&&(s[l+1]=wm(s[l+1]))}(i,qe,n,l,w),N=eu(K,re),w?i.classBindings=N:i.styleBindings=N}(p,w,i,s,N,l)}}(w,n,N,l),i!==To&&Ul(p,N,i)&&function o(n,i,s,l,p,w,N,K){if(!(3&i.type))return;const re=n.data,Te=re[K+1],qe=function a_(n){return 1==(1&n)}(Te)?d(re,i,s,p,Sd(Te),N):void 0;_(qe)||(_(w)||function Ed(n){return 2==(2&n)}(Te)&&(w=d(re,null,s,p,K,N)),function gl(n,i,s,l,p){if(i)p?n.addClass(s,l):n.removeClass(s,l);else{let w=-1===l.indexOf("-")?void 0:El.DashCase;null==p?n.removeStyle(s,l,w):("string"==typeof p&&p.endsWith("!important")&&(p=p.slice(0,-10),w|=El.Important),n.setStyle(s,l,p,w))}}(l,N,yn(Ys(),s),p,w))}(w,w.data[Ys()],p,p[Nr],n,p[N+1]=function T(n,i){return null==n||""===n||("string"==typeof i?n+=i:"object"==typeof n&&(n=Ke(Fc(n)))),n}(i,s),l,N)}(n,i,null,!0),Em}function Zy(n,i,s,l,p){let w=null;const N=s.directiveEnd;let K=s.directiveStylingLast;for(-1===K?K=s.directiveStart:K++;K<N&&(w=i[K],l=Op(l,w.hostAttrs,p),w!==n);)K++;return null!==n&&(s.directiveStylingLast=K),l}function Op(n,i,s){const l=s?1:2;let p=-1;if(null!==i)for(let w=0;w<i.length;w++){const N=i[w];"number"==typeof N?p=N:p===l&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),Ht(n,N,!!s||i[++w]))}return void 0===n?null:n}function d(n,i,s,l,p,w){const N=null===i;let K;for(;p>0;){const re=n[p],Te=Array.isArray(re),qe=Te?re[1]:re,Dt=null===qe;let wn=s[p+1];wn===To&&(wn=Dt?me:void 0);let Ln=Dt?$n(wn,l):qe===l?wn:void 0;if(Te&&!_(Ln)&&(Ln=$n(re,l)),_(Ln)&&(K=Ln,N))return K;const _i=n[p+1];p=N?Pc(_i):Sd(_i)}if(null!==i){let re=w?i.residualClasses:i.residualStyles;null!=re&&(K=$n(re,l))}return K}function _(n){return void 0!==n}function ye(n,i=""){const s=Ci(),l=fi(),p=n+_s,w=l.firstCreatePass?pd(l,p,1,i,null):l.data[p],N=Oe(l,s,w,i,n);s[p]=N,Ml()&&Mh(l,s,N,w),Tl(w,!1)}let Oe=(n,i,s,l,p)=>(ba(!0),function qu(n,i){return n.createText(i)}(i[Nr],l));function Wn(n){return vi("",n,""),Wn}function vi(n,i,s){const l=Ci(),p=za(l,n,i,s);return p!==To&&Bc(l,Ys(),p),vi}function cr(n,i,s,l,p){const w=Ci(),N=Cl(w,n,i,s,l,p);return N!==To&&Bc(w,Ys(),N),cr}const Cf=void 0;var dE=["en",[["a","p"],["AM","PM"],Cf],[["AM","PM"],Cf,Cf],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Cf,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Cf,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Cf,"{1} 'at' {0}",Cf],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function uE(n){const s=Math.floor(Math.abs(n)),l=n.toString().replace(/^[^.]*\.?/,"").length;return 1===s&&0===l?1:5}];let kp={};function w_(n){const i=function hE(n){return n.toLowerCase().replace(/_/g,"-")}(n);let s=V0(i);if(s)return s;const l=i.split("-")[0];if(s=V0(l),s)return s;if("en"===l)return dE;throw new Ze(701,!1)}function $0(n){return w_(n)[to.PluralCase]}function V0(n){return n in kp||(kp[n]=Bi.ng&&Bi.ng.common&&Bi.ng.common.locales&&Bi.ng.common.locales[n]),kp[n]}var to=(()=>((to=to||{})[to.LocaleId=0]="LocaleId",to[to.DayPeriodsFormat=1]="DayPeriodsFormat",to[to.DayPeriodsStandalone=2]="DayPeriodsStandalone",to[to.DaysFormat=3]="DaysFormat",to[to.DaysStandalone=4]="DaysStandalone",to[to.MonthsFormat=5]="MonthsFormat",to[to.MonthsStandalone=6]="MonthsStandalone",to[to.Eras=7]="Eras",to[to.FirstDayOfWeek=8]="FirstDayOfWeek",to[to.WeekendRange=9]="WeekendRange",to[to.DateFormat=10]="DateFormat",to[to.TimeFormat=11]="TimeFormat",to[to.DateTimeFormat=12]="DateTimeFormat",to[to.NumberSymbols=13]="NumberSymbols",to[to.NumberFormats=14]="NumberFormats",to[to.CurrencyCode=15]="CurrencyCode",to[to.CurrencySymbol=16]="CurrencySymbol",to[to.CurrencyName=17]="CurrencyName",to[to.Currencies=18]="Currencies",to[to.Directionality=19]="Directionality",to[to.PluralCase=20]="PluralCase",to[to.ExtraData=21]="ExtraData",to))();const Np="en-US";let U0=Np;function C_(n,i,s,l,p){if(n=Le(n),Array.isArray(n))for(let w=0;w<n.length;w++)C_(n[w],i,s,l,p);else{const w=fi(),N=Ci();let K=ku(n)?n:Le(n.provide),re=tg(n);const Te=ao(),qe=1048575&Te.providerIndexes,Dt=Te.directiveStart,wn=Te.providerIndexes>>20;if(ku(n)||!n.multi){const Ln=new En(re,p,bc),_i=T_(K,i,p?qe:qe+wn,Dt);-1===_i?(Gi(kn(Te,N),w,K),I_(w,n,i.length),i.push(K),Te.directiveStart++,Te.directiveEnd++,p&&(Te.providerIndexes+=1048576),s.push(Ln),N.push(Ln)):(s[_i]=Ln,N[_i]=Ln)}else{const Ln=T_(K,i,qe+wn,Dt),_i=T_(K,i,qe,qe+wn),Or=_i>=0&&s[_i];if(p&&!Or||!p&&!(Ln>=0&&s[Ln])){Gi(kn(Te,N),w,K);const os=function cS(n,i,s,l,p){const w=new En(n,s,bc);return w.multi=[],w.index=i,w.componentProviders=0,hb(w,p,l&&!s),w}(p?lS:aS,s.length,p,l,re);!p&&Or&&(s[_i].providerFactory=os),I_(w,n,i.length,0),i.push(K),Te.directiveStart++,Te.directiveEnd++,p&&(Te.providerIndexes+=1048576),s.push(os),N.push(os)}else I_(w,n,Ln>-1?Ln:_i,hb(s[p?_i:Ln],re,!p&&l));!p&&l&&Or&&s[_i].componentProviders++}}}function I_(n,i,s,l){const p=ku(i),w=function hv(n){return!!n.useClass}(i);if(p||w){const re=(w?Le(i.useClass):i).prototype.ngOnDestroy;if(re){const Te=n.destroyHooks||(n.destroyHooks=[]);if(!p&&i.multi){const qe=Te.indexOf(s);-1===qe?Te.push(s,[l,re]):Te[qe+1].push(l,re)}else Te.push(s,re)}}}function hb(n,i,s){return s&&n.componentProviders++,n.multi.push(i)-1}function T_(n,i,s,l){for(let p=s;p<l;p++)if(i[p]===n)return p;return-1}function aS(n,i,s,l){return D_(this.multi,[])}function lS(n,i,s,l){const p=this.multi;let w;if(this.providerFactory){const N=this.providerFactory.componentProviders,K=Br(s,s[ri],this.providerFactory.index,l);w=K.slice(0,N),D_(p,w);for(let re=N;re<K.length;re++)w.push(K[re])}else w=[],D_(p,w);return w}function D_(n,i){for(let s=0;s<n.length;s++)i.push((0,n[s])());return i}function fb(n,i=[]){return s=>{s.providersResolver=(l,p)=>function oS(n,i,s){const l=fi();if(l.firstCreatePass){const p=F(n);C_(s,l.data,l.blueprint,p,!0),C_(i,l.data,l.blueprint,p,!1)}}(l,p?p(n):n,i)}}class Lp{}class pb{}function uS(n,i){return new A_(n,null!=i?i:null,[])}class A_ extends Lp{constructor(i,s,l){super(),this._parent=s,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new qg(this);const p=bi(i);this._bootstrapComponents=Xc(p.bootstrap),this._r3Injector=op(i,s,[{provide:Lp,useValue:this},{provide:Kh,useValue:this.componentFactoryResolver},...l],Ke(i),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(i)}get injector(){return this._r3Injector}destroy(){const i=this._r3Injector;!i.destroyed&&i.destroy(),this.destroyCbs.forEach(s=>s()),this.destroyCbs=null}onDestroy(i){this.destroyCbs.push(i)}}class x_ extends pb{constructor(i){super(),this.moduleType=i}create(i){return new A_(this.moduleType,i,[])}}class gb extends Lp{constructor(i){super(),this.componentFactoryResolver=new qg(this),this.instance=null;const s=new eg([...i.providers,{provide:Lp,useValue:this},{provide:Kh,useValue:this.componentFactoryResolver}],i.parent||Wf(),i.debugName,new Set(["environment"]));this.injector=s,i.runEnvironmentInitializers&&s.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(i){this.injector.onDestroy(i)}}function mb(n,i,s=null){return new gb({providers:n,parent:i,debugName:s,runEnvironmentInitializers:!0}).injector}let hS=(()=>{class n{constructor(s){this._injector=s,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(s){if(!s.standalone)return null;if(!this.cachedInjectors.has(s.id)){const l=id(0,s.type),p=l.length>0?mb([l],this._injector,`Standalone[${s.type.name}]`):null;this.cachedInjectors.set(s.id,p)}return this.cachedInjectors.get(s.id)}ngOnDestroy(){try{for(const s of this.cachedInjectors.values())null!==s&&s.destroy()}finally{this.cachedInjectors.clear()}}}return n.\u0275prov=Nt({token:n,providedIn:"environment",factory:()=>new n(_n(Nu))}),n})();function yb(n){n.getStandaloneInjector=i=>i.get(hS).getOrCreateStandaloneInjector(n)}function P_(n){return i=>{setTimeout(n,void 0,i)}}const Wu=class BS extends c.x{constructor(i=!1){super(),this.__isAsync=i}emit(i){super.next(i)}subscribe(i,s,l){let p=i,w=s||(()=>null),N=l;if(i&&"object"==typeof i){var K,re,Te;const Dt=i;p=null===(K=Dt.next)||void 0===K?void 0:K.bind(Dt),w=null===(re=Dt.error)||void 0===re?void 0:re.bind(Dt),N=null===(Te=Dt.complete)||void 0===Te?void 0:Te.bind(Dt)}this.__isAsync&&(w=P_(w),p&&(p=P_(p)),N&&(N=P_(N)));const qe=super.subscribe({next:p,error:w,complete:N});return i instanceof y.w0&&i.add(qe),qe}};function $S(){return this._results[Symbol.iterator]()}class R_{get changes(){return this._changes||(this._changes=new Wu)}constructor(i=!1){this._emitDistinctChangesOnly=i,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const s=R_.prototype;s[Symbol.iterator]||(s[Symbol.iterator]=$S)}get(i){return this._results[i]}map(i){return this._results.map(i)}filter(i){return this._results.filter(i)}find(i){return this._results.find(i)}reduce(i,s){return this._results.reduce(i,s)}forEach(i){this._results.forEach(i)}some(i){return this._results.some(i)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(i,s){const l=this;l.dirty=!1;const p=function vt(n){return n.flat(Number.POSITIVE_INFINITY)}(i);(this._changesDetected=!function yt(n,i,s){if(n.length!==i.length)return!1;for(let l=0;l<n.length;l++){let p=n[l],w=i[l];if(s&&(p=s(p),w=s(w)),w!==p)return!1}return!0}(l._results,p,s))&&(l._results=p,l.length=p.length,l.last=p[this.length-1],l.first=p[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let Mm=(()=>{class n{}return n.__NG_ELEMENT_ID__=zS,n})();const VS=Mm,US=class extends VS{constructor(i,s,l){super(),this._declarationLView=i,this._declarationTContainer=s,this.elementRef=l}get ssrId(){var i;return(null===(i=this._declarationTContainer.tView)||void 0===i?void 0:i.ssrId)||null}createEmbeddedView(i,s){return this.createEmbeddedViewImpl(i,s,null)}createEmbeddedViewImpl(i,s,l){const p=this._declarationTContainer.tView,w=yu(this._declarationLView,p,i,16,null,p.declTNode,null,null,null,s||null,l||null);w[zo]=this._declarationLView[this._declarationTContainer.index];const K=this._declarationLView[vo];return null!==K&&(w[vo]=K.createEmbeddedView(p)),zg(p,w,i),new eh(w)}};function zS(){return iv(ao(),Ci())}function iv(n,i){return 4&n.type?new US(i,n,mu(n,i)):null}let rv=(()=>{class n{}return n.__NG_ELEMENT_ID__=qS,n})();function qS(){return kb(ao(),Ci())}const ZS=rv,Rb=class extends ZS{constructor(i,s,l){super(),this._lContainer=i,this._hostTNode=s,this._hostLView=l}get element(){return mu(this._hostTNode,this._hostLView)}get injector(){return new _o(this._hostTNode,this._hostLView)}get parentInjector(){const i=di(this._hostTNode,this._hostLView);if(g(i)){const s=R(i,this._hostLView),l=b(i);return new _o(s[ri].data[l+8],s)}return new _o(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(i){const s=Ob(this._lContainer);return null!==s&&s[i]||null}get length(){return this._lContainer.length-fo}createEmbeddedView(i,s,l){let p,w;"number"==typeof l?p=l:null!=l&&(p=l.index,w=l.injector);const K=i.createEmbeddedViewImpl(s||{},w,null);return this.insertImpl(K,p,!1),K}createComponent(i,s,l,p,w){var N,re;const Te=i&&!lt(i);let qe;if(Te)qe=s;else{const os=s||{};qe=os.index,l=os.injector,p=os.projectableNodes,w=os.environmentInjector||os.ngModuleRef}const Dt=Te?i:new df(Kt(i)),wn=l||this.parentInjector;if(!w&&null==Dt.ngModule){const ji=(Te?wn:this.parentInjector).get(Nu,null);ji&&(w=ji)}const Ln=Kt(null!==(N=Dt.componentType)&&void 0!==N?N:{}),_i=(null==Ln?void 0:Ln.id,null),ar=null!==(re=null==_i?void 0:_i.firstChild)&&void 0!==re?re:null,Or=Dt.create(wn,p,ar,w);return this.insertImpl(Or.hostView,qe,!!_i),Or}insert(i,s){return this.insertImpl(i,s,!1)}insertImpl(i,s,l){const p=i._lView,w=p[ri];if(function ee(n){return bs(n[_r])}(p)){const re=this.indexOf(i);if(-1!==re)this.detach(re);else{const Te=p[_r],qe=new Rb(Te,Te[js],Te[_r]);qe.detach(qe.indexOf(i))}}const N=this._adjustIndex(s),K=this._lContainer;if(function Sh(n,i,s,l){const p=fo+l,w=s.length;l>0&&(s[p-1][So]=i),l<w-fo?(i[So]=s[p],Ct(s,fo+l,i)):(s.push(i),i[So]=null),i[_r]=s;const N=i[zo];null!==N&&s!==N&&function fl(n,i){const s=n[ta];i[Vs]!==i[_r][_r][Vs]&&(n[ms]=!0),null===s?n[ta]=[i]:s.push(i)}(N,i);const K=i[vo];null!==K&&K.insertView(n),i[vr]|=128}(w,p,K,N),!l){const re=Ph(N,K),Te=p[Nr],qe=uu(Te,K[no]);null!==qe&&function Eh(n,i,s,l,p,w){l[hr]=p,l[js]=i,Ju(n,l,s,1,p,w)}(w,K[js],Te,p,qe,re)}return i.attachToViewContainerRef(),Ct(k_(K),N,i),i}move(i,s){return this.insert(i,s)}indexOf(i){const s=Ob(this._lContainer);return null!==s?s.indexOf(i):-1}remove(i){const s=this._adjustIndex(i,-1),l=Zu(this._lContainer,s);l&&(sn(k_(this._lContainer),s),Ch(l[ri],l))}detach(i){const s=this._adjustIndex(i,-1),l=Zu(this._lContainer,s);return l&&null!=sn(k_(this._lContainer),s)?new eh(l):null}_adjustIndex(i,s=0){return null==i?this.length+s:i}};function Ob(n){return n[No]}function k_(n){return n[No]||(n[No]=[])}function kb(n,i){let s;const l=i[n.index];return bs(l)?s=l:(s=$g(l,i,null,n),i[n.index]=s,dp(i,s)),Nb(s,i,n,l),new Rb(s,n,i)}let Nb=function Lb(n,i,s,l){if(n[no])return;let p;p=8&s.type?xt(l):function XS(n,i){const s=n[Nr],l=s.createComment(""),p=Pn(i,n);return Wc(s,uu(s,p),l,function Rf(n,i){return n.nextSibling(i)}(s,p),!1),l}(i,s),n[no]=p};class N_{constructor(i){this.queryList=i,this.matches=null}clone(){return new N_(this.queryList)}setDirty(){this.queryList.setDirty()}}class L_{constructor(i=[]){this.queries=i}createEmbeddedView(i){const s=i.queries;if(null!==s){const l=null!==i.contentQueries?i.contentQueries[0]:s.length,p=[];for(let w=0;w<l;w++){const N=s.getByIndex(w);p.push(this.queries[N.indexInDeclarationView].clone())}return new L_(p)}return null}insertView(i){this.dirtyQueriesWithMatches(i)}detachView(i){this.dirtyQueriesWithMatches(i)}dirtyQueriesWithMatches(i){for(let s=0;s<this.queries.length;s++)null!==Wb(i,s).matches&&this.queries[s].setDirty()}}class Fb{constructor(i,s,l=null){this.predicate=i,this.flags=s,this.read=l}}class F_{constructor(i=[]){this.queries=i}elementStart(i,s){for(let l=0;l<this.queries.length;l++)this.queries[l].elementStart(i,s)}elementEnd(i){for(let s=0;s<this.queries.length;s++)this.queries[s].elementEnd(i)}embeddedTView(i){let s=null;for(let l=0;l<this.length;l++){const p=null!==s?s.length:0,w=this.getByIndex(l).embeddedTView(i,p);w&&(w.indexInDeclarationView=l,null!==s?s.push(w):s=[w])}return null!==s?new F_(s):null}template(i,s){for(let l=0;l<this.queries.length;l++)this.queries[l].template(i,s)}getByIndex(i){return this.queries[i]}get length(){return this.queries.length}track(i){this.queries.push(i)}}class B_{constructor(i,s=-1){this.metadata=i,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=s}elementStart(i,s){this.isApplyingToNode(s)&&this.matchTNode(i,s)}elementEnd(i){this._declarationNodeIndex===i.index&&(this._appliesToNextNode=!1)}template(i,s){this.elementStart(i,s)}embeddedTView(i,s){return this.isApplyingToNode(i)?(this.crossesNgTemplate=!0,this.addMatch(-i.index,s),new B_(this.metadata)):null}isApplyingToNode(i){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const s=this._declarationNodeIndex;let l=i.parent;for(;null!==l&&8&l.type&&l.index!==s;)l=l.parent;return s===(null!==l?l.index:-1)}return this._appliesToNextNode}matchTNode(i,s){const l=this.metadata.predicate;if(Array.isArray(l))for(let p=0;p<l.length;p++){const w=l[p];this.matchTNodeWithReadOption(i,s,eC(s,w)),this.matchTNodeWithReadOption(i,s,Ns(s,i,w,!1,!1))}else l===Mm?4&s.type&&this.matchTNodeWithReadOption(i,s,-1):this.matchTNodeWithReadOption(i,s,Ns(s,i,l,!1,!1))}matchTNodeWithReadOption(i,s,l){if(null!==l){const p=this.metadata.read;if(null!==p)if(p===ud||p===rv||p===Mm&&4&s.type)this.addMatch(s.index,-2);else{const w=Ns(s,i,p,!1,!1);null!==w&&this.addMatch(s.index,w)}else this.addMatch(s.index,l)}}addMatch(i,s){null===this.matches?this.matches=[i,s]:this.matches.push(i,s)}}function eC(n,i){const s=n.localNames;if(null!==s)for(let l=0;l<s.length;l+=2)if(s[l]===i)return s[l+1];return null}function nC(n,i,s,l){return-1===s?function tC(n,i){return 11&n.type?mu(n,i):4&n.type?iv(n,i):null}(i,n):-2===s?function iC(n,i,s){return s===ud?mu(i,n):s===Mm?iv(i,n):s===rv?kb(i,n):void 0}(n,i,l):Br(n,n[ri],s,i)}function Bb(n,i,s,l){const p=i[vo].queries[l];if(null===p.matches){const w=n.data,N=s.matches,K=[];for(let re=0;re<N.length;re+=2){const Te=N[re];K.push(Te<0?null:nC(i,w[Te],N[re+1],s.metadata.read))}p.matches=K}return p.matches}function $_(n,i,s,l){const p=n.queries.getByIndex(s),w=p.matches;if(null!==w){const N=Bb(n,i,p,s);for(let K=0;K<w.length;K+=2){const re=w[K];if(re>0)l.push(N[K/2]);else{const Te=w[K+1],qe=i[-re];for(let Dt=fo;Dt<qe.length;Dt++){const wn=qe[Dt];wn[zo]===wn[_r]&&$_(wn[ri],wn,Te,l)}if(null!==qe[ta]){const Dt=qe[ta];for(let wn=0;wn<Dt.length;wn++){const Ln=Dt[wn];$_(Ln[ri],Ln,Te,l)}}}}}return l}function $b(n){const i=Ci(),s=fi(),l=qs();Ji(l+1);const p=Wb(s,l);if(n.dirty&&function Qs(n){return 4==(4&n[vr])}(i)===(2==(2&p.metadata.flags))){if(null===p.matches)n.reset([]);else{const w=p.crossesNgTemplate?$_(s,i,l,[]):Bb(s,i,p,l);n.reset(w,vv),n.notifyOnChanges()}return!0}return!1}function Vb(n,i,s){const l=fi();l.firstCreatePass&&(Hb(l,new Fb(n,i,s),-1),2==(2&i)&&(l.staticViewQueries=!0)),jb(l,Ci(),i)}function Ub(n,i,s,l){const p=fi();if(p.firstCreatePass){const w=ao();Hb(p,new Fb(i,s,l),w.index),function sC(n,i){const s=n.contentQueries||(n.contentQueries=[]);i!==(s.length?s[s.length-1]:-1)&&s.push(n.queries.length-1,i)}(p,n),2==(2&s)&&(p.staticContentQueries=!0)}jb(p,Ci(),s)}function zb(){return function rC(n,i){return n[vo].queries[i].queryList}(Ci(),qs())}function jb(n,i,s){const l=new R_(4==(4&s));(function uy(n,i,s,l){const p=hp(i);p.push(s),n.firstCreatePass&&gy(n).push(l,p.length-1)})(n,i,l,l.destroy),null===i[vo]&&(i[vo]=new L_),i[vo].queries.push(new N_(l))}function Hb(n,i,s){null===n.queries&&(n.queries=new F_),n.queries.track(new B_(i,s))}function Wb(n,i){return n.queries.getByIndex(i)}function V_(n){return!!bi(n)}const lw=new Da("Application Initializer");let W_=(()=>{class n{constructor(){var s;this.initialized=!1,this.done=!1,this.donePromise=new Promise((l,p)=>{this.resolve=l,this.reject=p}),this.appInits=null!==(s=mi(lw,{optional:!0}))&&void 0!==s?s:[]}runInitializers(){if(this.initialized)return;const s=[];for(const p of this.appInits){const w=p();if(pm(w))s.push(w);else if(wf(w)){const N=new Promise((K,re)=>{w.subscribe({complete:K,error:re})});s.push(N)}}const l=()=>{this.done=!0,this.resolve()};Promise.all(s).then(()=>{l()}).catch(p=>{this.reject(p)}),0===s.length&&l(),this.initialized=!0}}return n.\u0275fac=function(s){return new(s||n)},n.\u0275prov=Nt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),cw=(()=>{class n{log(s){console.log(s)}warn(s){console.warn(s)}}return n.\u0275fac=function(s){return new(s||n)},n.\u0275prov=Nt({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const ov=new Da("LocaleId",{providedIn:"root",factory:()=>mi(ov,ii.Optional|ii.SkipSelf)||function DC(){return typeof $localize<"u"&&$localize.locale||Np}()}),AC=new Da("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class xC{constructor(i,s){this.ngModuleFactory=i,this.componentFactories=s}}let MC=(()=>{class n{compileModuleSync(s){return new x_(s)}compileModuleAsync(s){return Promise.resolve(this.compileModuleSync(s))}compileModuleAndAllComponentsSync(s){const l=this.compileModuleSync(s),w=Xc(bi(s).declarations).reduce((N,K)=>{const re=Kt(K);return re&&N.push(new df(re)),N},[]);return new xC(l,w)}compileModuleAndAllComponentsAsync(s){return Promise.resolve(this.compileModuleAndAllComponentsSync(s))}clearCache(){}clearCacheFor(s){}getModuleId(s){}}return n.\u0275fac=function(s){return new(s||n)},n.\u0275prov=Nt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const OC=(()=>Promise.resolve(0))();function G_(n){typeof Zone>"u"?OC.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}function hw(...n){}class pc{constructor({enableLongStackTrace:i=!1,shouldCoalesceEventChangeDetection:s=!1,shouldCoalesceRunChangeDetection:l=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Wu(!1),this.onMicrotaskEmpty=new Wu(!1),this.onStable=new Wu(!1),this.onError=new Wu(!1),typeof Zone>"u")throw new Ze(908,!1);Zone.assertZonePatched();const p=this;p._nesting=0,p._outer=p._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(p._inner=p._inner.fork(new Zone.TaskTrackingZoneSpec)),i&&Zone.longStackTraceZoneSpec&&(p._inner=p._inner.fork(Zone.longStackTraceZoneSpec)),p.shouldCoalesceEventChangeDetection=!l&&s,p.shouldCoalesceRunChangeDetection=l,p.lastRequestAnimationFrameId=-1,p.nativeRequestAnimationFrame=function kC(){let n=Bi.requestAnimationFrame,i=Bi.cancelAnimationFrame;if(typeof Zone<"u"&&n&&i){const s=n[Zone.__symbol__("OriginalDelegate")];s&&(n=s);const l=i[Zone.__symbol__("OriginalDelegate")];l&&(i=l)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:i}}().nativeRequestAnimationFrame,function FC(n){const i=()=>{!function LC(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(Bi,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,K_(n),n.isCheckStableRunning=!0,Y_(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),K_(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(s,l,p,w,N,K)=>{try{return fw(n),s.invokeTask(p,w,N,K)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===w.type||n.shouldCoalesceRunChangeDetection)&&i(),pw(n)}},onInvoke:(s,l,p,w,N,K,re)=>{try{return fw(n),s.invoke(p,w,N,K,re)}finally{n.shouldCoalesceRunChangeDetection&&i(),pw(n)}},onHasTask:(s,l,p,w)=>{s.hasTask(p,w),l===p&&("microTask"==w.change?(n._hasPendingMicrotasks=w.microTask,K_(n),Y_(n)):"macroTask"==w.change&&(n.hasPendingMacrotasks=w.macroTask))},onHandleError:(s,l,p,w)=>(s.handleError(p,w),n.runOutsideAngular(()=>n.onError.emit(w)),!1)})}(p)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!pc.isInAngularZone())throw new Ze(909,!1)}static assertNotInAngularZone(){if(pc.isInAngularZone())throw new Ze(909,!1)}run(i,s,l){return this._inner.run(i,s,l)}runTask(i,s,l,p){const w=this._inner,N=w.scheduleEventTask("NgZoneEvent: "+p,i,NC,hw,hw);try{return w.runTask(N,s,l)}finally{w.cancelTask(N)}}runGuarded(i,s,l){return this._inner.runGuarded(i,s,l)}runOutsideAngular(i){return this._outer.run(i)}}const NC={};function Y_(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function K_(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function fw(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function pw(n){n._nesting--,Y_(n)}class BC{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Wu,this.onMicrotaskEmpty=new Wu,this.onStable=new Wu,this.onError=new Wu}run(i,s,l){return i.apply(s,l)}runGuarded(i,s,l){return i.apply(s,l)}runOutsideAngular(i){return i()}runTask(i,s,l,p){return i.apply(s,l)}}const gw=new Da("",{providedIn:"root",factory:mw});function mw(){const n=mi(pc);let i=!0;const s=new De.y(p=>{i=n.isStable&&!n.hasPendingMacrotasks&&!n.hasPendingMicrotasks,n.runOutsideAngular(()=>{p.next(i),p.complete()})}),l=new De.y(p=>{let w;n.runOutsideAngular(()=>{w=n.onStable.subscribe(()=>{pc.assertNotInAngularZone(),G_(()=>{!i&&!n.hasPendingMacrotasks&&!n.hasPendingMicrotasks&&(i=!0,p.next(!0))})})});const N=n.onUnstable.subscribe(()=>{pc.assertInAngularZone(),i&&(i=!1,n.runOutsideAngular(()=>{p.next(!1)}))});return()=>{w.unsubscribe(),N.unsubscribe()}});return(0,ze.T)(s,l.pipe((0,dt.B)()))}const yw=new Da(""),vw=new Da("");let q_,$C=(()=>{class n{constructor(s,l,p){this._ngZone=s,this.registry=l,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,q_||(function VC(n){q_=n}(p),p.addToWindow(l)),this._watchAngularEvents(),s.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{pc.assertNotInAngularZone(),G_(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())G_(()=>{for(;0!==this._callbacks.length;){let s=this._callbacks.pop();clearTimeout(s.timeoutId),s.doneCb(this._didWork)}this._didWork=!1});else{let s=this.getPendingTasks();this._callbacks=this._callbacks.filter(l=>!l.updateCb||!l.updateCb(s)||(clearTimeout(l.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(s=>({source:s.source,creationLocation:s.creationLocation,data:s.data})):[]}addCallback(s,l,p){let w=-1;l&&l>0&&(w=setTimeout(()=>{this._callbacks=this._callbacks.filter(N=>N.timeoutId!==w),s(this._didWork,this.getPendingTasks())},l)),this._callbacks.push({doneCb:s,timeoutId:w,updateCb:p})}whenStable(s,l,p){if(p&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(s,l,p),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(s){this.registry.registerApplication(s,this)}unregisterApplication(s){this.registry.unregisterApplication(s)}findProviders(s,l,p){return[]}}return n.\u0275fac=function(s){return new(s||n)(_n(pc),_n(_w),_n(vw))},n.\u0275prov=Nt({token:n,factory:n.\u0275fac}),n})(),_w=(()=>{class n{constructor(){this._applications=new Map}registerApplication(s,l){this._applications.set(s,l)}unregisterApplication(s){this._applications.delete(s)}unregisterAllApplications(){this._applications.clear()}getTestability(s){return this._applications.get(s)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(s,l=!0){var p,w;return null!==(p=null===(w=q_)||void 0===w?void 0:w.findTestabilityInTree(this,s,l))&&void 0!==p?p:null}}return n.\u0275fac=function(s){return new(s||n)},n.\u0275prov=Nt({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})(),hh=null;const bw=new Da("AllowMultipleToken"),Z_=new Da("PlatformDestroyListeners"),X_=new Da("appBootstrapListener");class jC{constructor(i,s){this.name=i,this.token=s}}function Sw(n,i,s=[]){const l=`Platform: ${i}`,p=new Da(l);return(w=[])=>{let N=Q_();if(!N||N.injector.get(bw,!1)){const K=[...s,...w,{provide:p,useValue:!0}];n?n(K):function HC(n){if(hh&&!hh.get(bw,!1))throw new Ze(400,!1);(function ww(){!function hs(n){po=n}(()=>{throw new Ze(600,!1)})})(),hh=n;const i=n.get(Iw);(function Ew(n){const i=n.get(Um,null);null==i||i.forEach(s=>s())})(n)}(function Cw(n=[],i){return _c.create({name:i,providers:[{provide:Uf,useValue:"platform"},{provide:Z_,useValue:new Set([()=>hh=null])},...n]})}(K,l))}return function GC(n){const i=Q_();if(!i)throw new Ze(401,!1);return i}()}}function Q_(){var n,i;return null!==(n=null===(i=hh)||void 0===i?void 0:i.get(Iw))&&void 0!==n?n:null}let Iw=(()=>{class n{constructor(s){this._injector=s,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(s,l){const p=function YC(n="zone.js",i){return"noop"===n?new BC:"zone.js"===n?new pc(i):n}(null==l?void 0:l.ngZone,function Tw(n){var i,s;return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:null!==(i=null==n?void 0:n.eventCoalescing)&&void 0!==i&&i,shouldCoalesceRunChangeDetection:null!==(s=null==n?void 0:n.runCoalescing)&&void 0!==s&&s}}({eventCoalescing:null==l?void 0:l.ngZoneEventCoalescing,runCoalescing:null==l?void 0:l.ngZoneRunCoalescing}));return p.run(()=>{const w=function dS(n,i,s){return new A_(n,i,s)}(s.moduleType,this.injector,function Pw(n){return[{provide:pc,useFactory:n},{provide:Rl,multi:!0,useFactory:()=>{const i=mi(qC,{optional:!0});return()=>i.initialize()}},{provide:Mw,useFactory:KC},{provide:gw,useFactory:mw}]}(()=>p)),N=w.injector.get(qd,null);return p.runOutsideAngular(()=>{const K=p.onError.subscribe({next:re=>{N.handleError(re)}});w.onDestroy(()=>{av(this._modules,w),K.unsubscribe()})}),function Dw(n,i,s){try{const l=s();return pm(l)?l.catch(p=>{throw i.runOutsideAngular(()=>n.handleError(p)),p}):l}catch(l){throw i.runOutsideAngular(()=>n.handleError(l)),l}}(N,p,()=>{const K=w.injector.get(W_);return K.runInitializers(),K.donePromise.then(()=>(function z0(n){qt(n,"Expected localeId to be defined"),"string"==typeof n&&(U0=n.toLowerCase().replace(/_/g,"-"))}(w.injector.get(ov,Np)||Np),this._moduleDoBootstrap(w),w))})})}bootstrapModule(s,l=[]){const p=Aw({},l);return function UC(n,i,s){const l=new x_(s);return Promise.resolve(l)}(0,0,s).then(w=>this.bootstrapModuleFactory(w,p))}_moduleDoBootstrap(s){const l=s.injector.get($p);if(s._bootstrapComponents.length>0)s._bootstrapComponents.forEach(p=>l.bootstrap(p));else{if(!s.instance.ngDoBootstrap)throw new Ze(-403,!1);s.instance.ngDoBootstrap(l)}this._modules.push(s)}onDestroy(s){this._destroyListeners.push(s)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Ze(404,!1);this._modules.slice().forEach(l=>l.destroy()),this._destroyListeners.forEach(l=>l());const s=this._injector.get(Z_,null);s&&(s.forEach(l=>l()),s.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(s){return new(s||n)(_n(_c))},n.\u0275prov=Nt({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();function Aw(n,i){return Array.isArray(i)?i.reduce(Aw,n):{...n,...i}}let $p=(()=>{class n{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=mi(Mw),this.componentTypes=[],this.components=[],this.isStable=mi(gw),this._injector=mi(Nu)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(s,l){const p=s instanceof Yh;if(!this._injector.get(W_).done)throw!p&&yi(s),new Ze(405,!1);let N;N=p?s:this._injector.get(Kh).resolveComponentFactory(s),this.componentTypes.push(N.componentType);const K=function zC(n){return n.isBoundToModule}(N)?void 0:this._injector.get(Lp),Te=N.create(_c.NULL,[],l||N.selector,K),qe=Te.location.nativeElement,Dt=Te.injector.get(yw,null);return null==Dt||Dt.registerApplication(qe),Te.onDestroy(()=>{this.detachView(Te.hostView),av(this.components,Te),null==Dt||Dt.unregisterApplication(qe)}),this._loadComponent(Te),Te}tick(){if(this._runningTick)throw new Ze(101,!1);try{this._runningTick=!0;for(let s of this._views)s.detectChanges()}catch(s){this.internalErrorHandler(s)}finally{this._runningTick=!1}}attachView(s){const l=s;this._views.push(l),l.attachToAppRef(this)}detachView(s){const l=s;av(this._views,l),l.detachFromAppRef()}_loadComponent(s){this.attachView(s.hostView),this.tick(),this.components.push(s);const l=this._injector.get(X_,[]);l.push(...this._bootstrapListeners),l.forEach(p=>p(s))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(s=>s()),this._views.slice().forEach(s=>s.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(s){return this._destroyListeners.push(s),()=>av(this._destroyListeners,s)}destroy(){if(this._destroyed)throw new Ze(406,!1);const s=this._injector;s.destroy&&!s.destroyed&&s.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return n.\u0275fac=function(s){return new(s||n)},n.\u0275prov=Nt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function av(n,i){const s=n.indexOf(i);s>-1&&n.splice(s,1)}const Mw=new Da("",{providedIn:"root",factory:()=>mi(qd).handleError.bind(void 0)});function KC(){const n=mi(pc),i=mi(qd);return s=>n.runOutsideAngular(()=>i.handleError(s))}let qC=(()=>{class n{constructor(){this.zone=mi(pc),this.applicationRef=mi($p)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){var s;null===(s=this._onMicrotaskEmptySubscription)||void 0===s||s.unsubscribe()}}return n.\u0275fac=function(s){return new(s||n)},n.\u0275prov=Nt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function XC(){return!1}function QC(){}let JC=(()=>{class n{}return n.__NG_ELEMENT_ID__=eI,n})();function eI(n){return function tI(n,i,s){if(aa(n)&&!s){const l=Rr(n.index,i);return new eh(l,l)}return 47&n.type?new eh(i[Vs],i):null}(ao(),Ci(),16==(16&n))}class Nw{constructor(){}supports(i){return wp(i)}create(i){return new aI(i)}}const oI=(n,i)=>i;class aI{constructor(i){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=i||oI}forEachItem(i){let s;for(s=this._itHead;null!==s;s=s._next)i(s)}forEachOperation(i){let s=this._itHead,l=this._removalsHead,p=0,w=null;for(;s||l;){const N=!l||s&&s.currentIndex<Fw(l,p,w)?s:l,K=Fw(N,p,w),re=N.currentIndex;if(N===l)p--,l=l._nextRemoved;else if(s=s._next,null==N.previousIndex)p++;else{w||(w=[]);const Te=K-p,qe=re-p;if(Te!=qe){for(let wn=0;wn<Te;wn++){const Ln=wn<w.length?w[wn]:w[wn]=0,_i=Ln+wn;qe<=_i&&_i<Te&&(w[wn]=Ln+1)}w[N.previousIndex]=qe-Te}}K!==re&&i(N,K,re)}}forEachPreviousItem(i){let s;for(s=this._previousItHead;null!==s;s=s._nextPrevious)i(s)}forEachAddedItem(i){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)i(s)}forEachMovedItem(i){let s;for(s=this._movesHead;null!==s;s=s._nextMoved)i(s)}forEachRemovedItem(i){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)i(s)}forEachIdentityChange(i){let s;for(s=this._identityChangesHead;null!==s;s=s._nextIdentityChange)i(s)}diff(i){if(null==i&&(i=[]),!wp(i))throw new Ze(900,!1);return this.check(i)?this:null}onDestroy(){}check(i){this._reset();let p,w,N,s=this._itHead,l=!1;if(Array.isArray(i)){this.length=i.length;for(let K=0;K<this.length;K++)w=i[K],N=this._trackByFn(K,w),null!==s&&Object.is(s.trackById,N)?(l&&(s=this._verifyReinsertion(s,w,N,K)),Object.is(s.item,w)||this._addIdentityChange(s,w)):(s=this._mismatch(s,w,N,K),l=!0),s=s._next}else p=0,function Cy(n,i){if(Array.isArray(n))for(let s=0;s<n.length;s++)i(n[s]);else{const s=n[Symbol.iterator]();let l;for(;!(l=s.next()).done;)i(l.value)}}(i,K=>{N=this._trackByFn(p,K),null!==s&&Object.is(s.trackById,N)?(l&&(s=this._verifyReinsertion(s,K,N,p)),Object.is(s.item,K)||this._addIdentityChange(s,K)):(s=this._mismatch(s,K,N,p),l=!0),s=s._next,p++}),this.length=p;return this._truncate(s),this.collection=i,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let i;for(i=this._previousItHead=this._itHead;null!==i;i=i._next)i._nextPrevious=i._next;for(i=this._additionsHead;null!==i;i=i._nextAdded)i.previousIndex=i.currentIndex;for(this._additionsHead=this._additionsTail=null,i=this._movesHead;null!==i;i=i._nextMoved)i.previousIndex=i.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(i,s,l,p){let w;return null===i?w=this._itTail:(w=i._prev,this._remove(i)),null!==(i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null))?(Object.is(i.item,s)||this._addIdentityChange(i,s),this._reinsertAfter(i,w,p)):null!==(i=null===this._linkedRecords?null:this._linkedRecords.get(l,p))?(Object.is(i.item,s)||this._addIdentityChange(i,s),this._moveAfter(i,w,p)):i=this._addAfter(new lI(s,l),w,p),i}_verifyReinsertion(i,s,l,p){let w=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null);return null!==w?i=this._reinsertAfter(w,i._prev,p):i.currentIndex!=p&&(i.currentIndex=p,this._addToMoves(i,p)),i}_truncate(i){for(;null!==i;){const s=i._next;this._addToRemovals(this._unlink(i)),i=s}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(i,s,l){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(i);const p=i._prevRemoved,w=i._nextRemoved;return null===p?this._removalsHead=w:p._nextRemoved=w,null===w?this._removalsTail=p:w._prevRemoved=p,this._insertAfter(i,s,l),this._addToMoves(i,l),i}_moveAfter(i,s,l){return this._unlink(i),this._insertAfter(i,s,l),this._addToMoves(i,l),i}_addAfter(i,s,l){return this._insertAfter(i,s,l),this._additionsTail=null===this._additionsTail?this._additionsHead=i:this._additionsTail._nextAdded=i,i}_insertAfter(i,s,l){const p=null===s?this._itHead:s._next;return i._next=p,i._prev=s,null===p?this._itTail=i:p._prev=i,null===s?this._itHead=i:s._next=i,null===this._linkedRecords&&(this._linkedRecords=new Lw),this._linkedRecords.put(i),i.currentIndex=l,i}_remove(i){return this._addToRemovals(this._unlink(i))}_unlink(i){null!==this._linkedRecords&&this._linkedRecords.remove(i);const s=i._prev,l=i._next;return null===s?this._itHead=l:s._next=l,null===l?this._itTail=s:l._prev=s,i}_addToMoves(i,s){return i.previousIndex===s||(this._movesTail=null===this._movesTail?this._movesHead=i:this._movesTail._nextMoved=i),i}_addToRemovals(i){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Lw),this._unlinkedRecords.put(i),i.currentIndex=null,i._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=i,i._prevRemoved=null):(i._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=i),i}_addIdentityChange(i,s){return i.item=s,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=i:this._identityChangesTail._nextIdentityChange=i,i}}class lI{constructor(i,s){this.item=i,this.trackById=s,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class cI{constructor(){this._head=null,this._tail=null}add(i){null===this._head?(this._head=this._tail=i,i._nextDup=null,i._prevDup=null):(this._tail._nextDup=i,i._prevDup=this._tail,i._nextDup=null,this._tail=i)}get(i,s){let l;for(l=this._head;null!==l;l=l._nextDup)if((null===s||s<=l.currentIndex)&&Object.is(l.trackById,i))return l;return null}remove(i){const s=i._prevDup,l=i._nextDup;return null===s?this._head=l:s._nextDup=l,null===l?this._tail=s:l._prevDup=s,null===this._head}}class Lw{constructor(){this.map=new Map}put(i){const s=i.trackById;let l=this.map.get(s);l||(l=new cI,this.map.set(s,l)),l.add(i)}get(i,s){const p=this.map.get(i);return p?p.get(i,s):null}remove(i){const s=i.trackById;return this.map.get(s).remove(i)&&this.map.delete(s),i}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Fw(n,i,s){const l=n.previousIndex;if(null===l)return l;let p=0;return s&&l<s.length&&(p=s[l]),l+i+p}class Bw{constructor(){}supports(i){return i instanceof Map||hf(i)}create(){return new uI}}class uI{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(i){let s;for(s=this._mapHead;null!==s;s=s._next)i(s)}forEachPreviousItem(i){let s;for(s=this._previousMapHead;null!==s;s=s._nextPrevious)i(s)}forEachChangedItem(i){let s;for(s=this._changesHead;null!==s;s=s._nextChanged)i(s)}forEachAddedItem(i){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)i(s)}forEachRemovedItem(i){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)i(s)}diff(i){if(i){if(!(i instanceof Map||hf(i)))throw new Ze(900,!1)}else i=new Map;return this.check(i)?this:null}onDestroy(){}check(i){this._reset();let s=this._mapHead;if(this._appendAfter=null,this._forEach(i,(l,p)=>{if(s&&s.key===p)this._maybeAddToChanges(s,l),this._appendAfter=s,s=s._next;else{const w=this._getOrCreateRecordForKey(p,l);s=this._insertBeforeOrAppend(s,w)}}),s){s._prev&&(s._prev._next=null),this._removalsHead=s;for(let l=s;null!==l;l=l._nextRemoved)l===this._mapHead&&(this._mapHead=null),this._records.delete(l.key),l._nextRemoved=l._next,l.previousValue=l.currentValue,l.currentValue=null,l._prev=null,l._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(i,s){if(i){const l=i._prev;return s._next=i,s._prev=l,i._prev=s,l&&(l._next=s),i===this._mapHead&&(this._mapHead=s),this._appendAfter=i,i}return this._appendAfter?(this._appendAfter._next=s,s._prev=this._appendAfter):this._mapHead=s,this._appendAfter=s,null}_getOrCreateRecordForKey(i,s){if(this._records.has(i)){const p=this._records.get(i);this._maybeAddToChanges(p,s);const w=p._prev,N=p._next;return w&&(w._next=N),N&&(N._prev=w),p._next=null,p._prev=null,p}const l=new dI(i);return this._records.set(i,l),l.currentValue=s,this._addToAdditions(l),l}_reset(){if(this.isDirty){let i;for(this._previousMapHead=this._mapHead,i=this._previousMapHead;null!==i;i=i._next)i._nextPrevious=i._next;for(i=this._changesHead;null!==i;i=i._nextChanged)i.previousValue=i.currentValue;for(i=this._additionsHead;null!=i;i=i._nextAdded)i.previousValue=i.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(i,s){Object.is(s,i.currentValue)||(i.previousValue=i.currentValue,i.currentValue=s,this._addToChanges(i))}_addToAdditions(i){null===this._additionsHead?this._additionsHead=this._additionsTail=i:(this._additionsTail._nextAdded=i,this._additionsTail=i)}_addToChanges(i){null===this._changesHead?this._changesHead=this._changesTail=i:(this._changesTail._nextChanged=i,this._changesTail=i)}_forEach(i,s){i instanceof Map?i.forEach(s):Object.keys(i).forEach(l=>s(i[l],l))}}class dI{constructor(i){this.key=i,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function $w(){return new r0([new Nw])}let r0=(()=>{class n{constructor(s){this.factories=s}static create(s,l){if(null!=l){const p=l.factories.slice();s=s.concat(p)}return new n(s)}static extend(s){return{provide:n,useFactory:l=>n.create(s,l||$w()),deps:[[n,new ei,new Hn]]}}find(s){const l=this.factories.find(p=>p.supports(s));if(null!=l)return l;throw new Ze(901,!1)}}return n.\u0275prov=Nt({token:n,providedIn:"root",factory:$w}),n})();function Vw(){return new s0([new Bw])}let s0=(()=>{class n{constructor(s){this.factories=s}static create(s,l){if(l){const p=l.factories.slice();s=s.concat(p)}return new n(s)}static extend(s){return{provide:n,useFactory:l=>n.create(s,l||Vw()),deps:[[n,new ei,new Hn]]}}find(s){const l=this.factories.find(p=>p.supports(s));if(l)return l;throw new Ze(901,!1)}}return n.\u0275prov=Nt({token:n,providedIn:"root",factory:Vw}),n})();const pI=Sw(null,"core",[]);let gI=(()=>{class n{constructor(s){}}return n.\u0275fac=function(s){return new(s||n)(_n($p))},n.\u0275mod=He({type:n}),n.\u0275inj=Vn({}),n})(),Gw=(()=>{class n{get whenAllTasksComplete(){return 0===this.collection.size&&this.complete(),this.promise}constructor(){this.taskId=0,this.collection=new Set,this.ngZone=mi(pc),this.completed=!1,this.ngZone.runOutsideAngular(()=>{this.promise=new Promise(s=>{this.resolve=s})})}add(){if(this.completed)return-1;const s=this.taskId++;return this.collection.add(s),s}remove(s){this.completed||(this.collection.delete(s),0===this.collection.size&&this.complete())}ngOnDestroy(){this.complete(),this.collection.clear()}complete(){this.completed=!0,this.resolve()}}return n.\u0275fac=function(s){return new(s||n)},n.\u0275prov=Nt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function CI(n){return"boolean"==typeof n?n:null!=n&&"false"!==n}function TI(n,i){const s=Kt(n),l=i.elementInjector||Wf();return new df(s).create(l,i.projectableNodes,i.hostElement,i.environmentInjector)}function DI(n){const i=Kt(n);if(!i)return null;const s=new df(i);return{get selector(){return s.selector},get type(){return s.componentType},get inputs(){return s.inputs},get outputs(){return s.outputs},get ngContentSelectors(){return s.ngContentSelectors},get isStandalone(){return i.standalone}}}},5030:(Ii,ln,Y)=>{"use strict";Y.d(ln,{u5:()=>Pe,wO:()=>cs,JU:()=>At,a5:()=>ii,JJ:()=>ps,JL:()=>Xr,F:()=>He,On:()=>hr,UX:()=>_e,Q7:()=>ge,_Y:()=>ri});var c=Y(2223),y=Y(4755),De=Y(8996),ze=Y(9751),dt=Y(4742),Ye=Y(8421),be=Y(7669),$e=Y(5403),Ke=Y(3268),Ue=Y(1810),Xe=Y(4004);let Le=(()=>{class H{constructor(I,V){this._renderer=I,this._elementRef=V,this.onChange=Ie=>{},this.onTouched=()=>{}}setProperty(I,V){this._renderer.setProperty(this._elementRef.nativeElement,I,V)}registerOnTouched(I){this.onTouched=I}registerOnChange(I){this.onChange=I}setDisabledState(I){this.setProperty("disabled",I)}}return H.\u0275fac=function(I){return new(I||H)(c.Y36(c.Qsj),c.Y36(c.SBq))},H.\u0275dir=c.lG2({type:H}),H})(),Qe=(()=>{class H extends Le{}return H.\u0275fac=function(){let U;return function(V){return(U||(U=c.n5z(H)))(V||H)}}(),H.\u0275dir=c.lG2({type:H,features:[c.qOj]}),H})();const At=new c.OlP("NgValueAccessor"),Ze={provide:At,useExisting:(0,c.Gpc)(()=>bt),multi:!0},It=new c.OlP("CompositionEventMode");let bt=(()=>{class H extends Le{constructor(I,V,Ie){super(I,V),this._compositionMode=Ie,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function on(){const H=(0,y.q)()?(0,y.q)().getUserAgent():"";return/android (\d+)/.test(H.toLowerCase())}())}writeValue(I){this.setProperty("value",null==I?"":I)}_handleInput(I){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(I)}_compositionStart(){this._composing=!0}_compositionEnd(I){this._composing=!1,this._compositionMode&&this.onChange(I)}}return H.\u0275fac=function(I){return new(I||H)(c.Y36(c.Qsj),c.Y36(c.SBq),c.Y36(It,8))},H.\u0275dir=c.lG2({type:H,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(I,V){1&I&&c.NdJ("input",function(Rt){return V._handleInput(Rt.target.value)})("blur",function(){return V.onTouched()})("compositionstart",function(){return V._compositionStart()})("compositionend",function(Rt){return V._compositionEnd(Rt.target.value)})},features:[c._Bn([Ze]),c.qOj]}),H})();function zt(H){return null==H||("string"==typeof H||Array.isArray(H))&&0===H.length}const Yt=new c.OlP("NgValidators"),tt=new c.OlP("NgAsyncValidators");function dn(H){return zt(H.value)?{required:!0}:null}function Je(H){return null}function Et(H){return null!=H}function vn(H){return(0,c.QGY)(H)?(0,De.D)(H):H}function qt(H){let U={};return H.forEach(I=>{U=null!=I?{...U,...I}:U}),0===Object.keys(U).length?null:U}function xn(H,U){return U.map(I=>I(H))}function li(H){return H.map(U=>function Gt(H){return!H.validate}(U)?U:I=>U.validate(I))}function Nt(H){return null!=H?function Dn(H){if(!H)return null;const U=H.filter(Et);return 0==U.length?null:function(I){return qt(xn(I,U))}}(li(H)):null}function Vn(H){return null!=H?function On(H){if(!H)return null;const U=H.filter(Et);return 0==U.length?null:function(I){return function Re(...H){const U=(0,be.jO)(H),{args:I,keys:V}=(0,dt.D)(H),Ie=new ze.y(Rt=>{const{length:gn}=I;if(!gn)return void Rt.complete();const Nn=new Array(gn);let qn=gn,Ur=gn;for(let Wr=0;Wr<gn;Wr++){let qr=!1;(0,Ye.Xf)(I[Wr]).subscribe((0,$e.x)(Rt,ss=>{qr||(qr=!0,Ur--),Nn[Wr]=ss},()=>qn--,void 0,()=>{(!qn||!qr)&&(Ur||Rt.next(V?(0,Ue.n)(V,Nn):Nn),Rt.complete())}))}});return U?Ie.pipe((0,Ke.Z)(U)):Ie}(xn(I,U).map(vn)).pipe((0,Xe.U)(qt))}}(li(H)):null}function Ti(H,U){return null===H?[U]:Array.isArray(H)?[...H,U]:[H,U]}function Xn(H){return H?Array.isArray(H)?H:[H]:[]}function Ai(H,U){return Array.isArray(H)?H.includes(U):H===U}function Ni(H,U){const I=Xn(U);return Xn(H).forEach(Ie=>{Ai(I,Ie)||I.push(Ie)}),I}function rr(H,U){return Xn(U).filter(I=>!Ai(H,I))}class fr{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(U){this._rawValidators=U||[],this._composedValidatorFn=Nt(this._rawValidators)}_setAsyncValidators(U){this._rawAsyncValidators=U||[],this._composedAsyncValidatorFn=Vn(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(U){this._onDestroyCallbacks.push(U)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(U=>U()),this._onDestroyCallbacks=[]}reset(U=void 0){this.control&&this.control.reset(U)}hasError(U,I){return!!this.control&&this.control.hasError(U,I)}getError(U,I){return this.control?this.control.getError(U,I):null}}class Ui extends fr{get formDirective(){return null}get path(){return null}}class ii extends fr{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class kr{constructor(U){this._cd=U}get isTouched(){var U,I;return!(null===(U=this._cd)||void 0===U||null===(I=U.control)||void 0===I||!I.touched)}get isUntouched(){var U,I;return!(null===(U=this._cd)||void 0===U||null===(I=U.control)||void 0===I||!I.untouched)}get isPristine(){var U,I;return!(null===(U=this._cd)||void 0===U||null===(I=U.control)||void 0===I||!I.pristine)}get isDirty(){var U,I;return!(null===(U=this._cd)||void 0===U||null===(I=U.control)||void 0===I||!I.dirty)}get isValid(){var U,I;return!(null===(U=this._cd)||void 0===U||null===(I=U.control)||void 0===I||!I.valid)}get isInvalid(){var U,I;return!(null===(U=this._cd)||void 0===U||null===(I=U.control)||void 0===I||!I.invalid)}get isPending(){var U,I;return!(null===(U=this._cd)||void 0===U||null===(I=U.control)||void 0===I||!I.pending)}get isSubmitted(){var U;return!(null===(U=this._cd)||void 0===U||!U.submitted)}}let ps=(()=>{class H extends kr{constructor(I){super(I)}}return H.\u0275fac=function(I){return new(I||H)(c.Y36(ii,2))},H.\u0275dir=c.lG2({type:H,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(I,V){2&I&&c.ekj("ng-untouched",V.isUntouched)("ng-touched",V.isTouched)("ng-pristine",V.isPristine)("ng-dirty",V.isDirty)("ng-valid",V.isValid)("ng-invalid",V.isInvalid)("ng-pending",V.isPending)},features:[c.qOj]}),H})(),Xr=(()=>{class H extends kr{constructor(I){super(I)}}return H.\u0275fac=function(I){return new(I||H)(c.Y36(Ui,10))},H.\u0275dir=c.lG2({type:H,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(I,V){2&I&&c.ekj("ng-untouched",V.isUntouched)("ng-touched",V.isTouched)("ng-pristine",V.isPristine)("ng-dirty",V.isDirty)("ng-valid",V.isValid)("ng-invalid",V.isInvalid)("ng-pending",V.isPending)("ng-submitted",V.isSubmitted)},features:[c.qOj]}),H})();const mi="VALID",Dr="INVALID",pr="PENDING",sr="DISABLED";function Pt(H){return(O(H)?H.validators:H)||null}function x(H,U){return(O(U)?U.asyncValidators:H)||null}function O(H){return null!=H&&!Array.isArray(H)&&"object"==typeof H}class me{constructor(U,I){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(U),this._assignAsyncValidators(I)}get validator(){return this._composedValidatorFn}set validator(U){this._rawValidators=this._composedValidatorFn=U}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(U){this._rawAsyncValidators=this._composedAsyncValidatorFn=U}get parent(){return this._parent}get valid(){return this.status===mi}get invalid(){return this.status===Dr}get pending(){return this.status==pr}get disabled(){return this.status===sr}get enabled(){return this.status!==sr}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(U){this._assignValidators(U)}setAsyncValidators(U){this._assignAsyncValidators(U)}addValidators(U){this.setValidators(Ni(U,this._rawValidators))}addAsyncValidators(U){this.setAsyncValidators(Ni(U,this._rawAsyncValidators))}removeValidators(U){this.setValidators(rr(U,this._rawValidators))}removeAsyncValidators(U){this.setAsyncValidators(rr(U,this._rawAsyncValidators))}hasValidator(U){return Ai(this._rawValidators,U)}hasAsyncValidator(U){return Ai(this._rawAsyncValidators,U)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(U={}){this.touched=!0,this._parent&&!U.onlySelf&&this._parent.markAsTouched(U)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(U=>U.markAllAsTouched())}markAsUntouched(U={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(I=>{I.markAsUntouched({onlySelf:!0})}),this._parent&&!U.onlySelf&&this._parent._updateTouched(U)}markAsDirty(U={}){this.pristine=!1,this._parent&&!U.onlySelf&&this._parent.markAsDirty(U)}markAsPristine(U={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(I=>{I.markAsPristine({onlySelf:!0})}),this._parent&&!U.onlySelf&&this._parent._updatePristine(U)}markAsPending(U={}){this.status=pr,!1!==U.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!U.onlySelf&&this._parent.markAsPending(U)}disable(U={}){const I=this._parentMarkedDirty(U.onlySelf);this.status=sr,this.errors=null,this._forEachChild(V=>{V.disable({...U,onlySelf:!0})}),this._updateValue(),!1!==U.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...U,skipPristineCheck:I}),this._onDisabledChange.forEach(V=>V(!0))}enable(U={}){const I=this._parentMarkedDirty(U.onlySelf);this.status=mi,this._forEachChild(V=>{V.enable({...U,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:U.emitEvent}),this._updateAncestors({...U,skipPristineCheck:I}),this._onDisabledChange.forEach(V=>V(!1))}_updateAncestors(U){this._parent&&!U.onlySelf&&(this._parent.updateValueAndValidity(U),U.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(U){this._parent=U}getRawValue(){return this.value}updateValueAndValidity(U={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===mi||this.status===pr)&&this._runAsyncValidator(U.emitEvent)),!1!==U.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!U.onlySelf&&this._parent.updateValueAndValidity(U)}_updateTreeValidity(U={emitEvent:!0}){this._forEachChild(I=>I._updateTreeValidity(U)),this.updateValueAndValidity({onlySelf:!0,emitEvent:U.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?sr:mi}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(U){if(this.asyncValidator){this.status=pr,this._hasOwnPendingAsyncValidator=!0;const I=vn(this.asyncValidator(this));this._asyncValidationSubscription=I.subscribe(V=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(V,{emitEvent:U})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(U,I={}){this.errors=U,this._updateControlsErrors(!1!==I.emitEvent)}get(U){let I=U;return null==I||(Array.isArray(I)||(I=I.split(".")),0===I.length)?null:I.reduce((V,Ie)=>V&&V._find(Ie),this)}getError(U,I){const V=I?this.get(I):this;return V&&V.errors?V.errors[U]:null}hasError(U,I){return!!this.getError(U,I)}get root(){let U=this;for(;U._parent;)U=U._parent;return U}_updateControlsErrors(U){this.status=this._calculateStatus(),U&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(U)}_initObservables(){this.valueChanges=new c.vpe,this.statusChanges=new c.vpe}_calculateStatus(){return this._allControlsDisabled()?sr:this.errors?Dr:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(pr)?pr:this._anyControlsHaveStatus(Dr)?Dr:mi}_anyControlsHaveStatus(U){return this._anyControls(I=>I.status===U)}_anyControlsDirty(){return this._anyControls(U=>U.dirty)}_anyControlsTouched(){return this._anyControls(U=>U.touched)}_updatePristine(U={}){this.pristine=!this._anyControlsDirty(),this._parent&&!U.onlySelf&&this._parent._updatePristine(U)}_updateTouched(U={}){this.touched=this._anyControlsTouched(),this._parent&&!U.onlySelf&&this._parent._updateTouched(U)}_registerOnCollectionChange(U){this._onCollectionChange=U}_setUpdateStrategy(U){O(U)&&null!=U.updateOn&&(this._updateOn=U.updateOn)}_parentMarkedDirty(U){return!U&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(U){return null}_assignValidators(U){this._rawValidators=Array.isArray(U)?U.slice():U,this._composedValidatorFn=function B(H){return Array.isArray(H)?Nt(H):H||null}(this._rawValidators)}_assignAsyncValidators(U){this._rawAsyncValidators=Array.isArray(U)?U.slice():U,this._composedAsyncValidatorFn=function A(H){return Array.isArray(H)?Vn(H):H||null}(this._rawAsyncValidators)}}class Ve extends me{constructor(U,I,V){super(Pt(I),x(V,I)),this.controls=U,this._initObservables(),this._setUpdateStrategy(I),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(U,I){return this.controls[U]?this.controls[U]:(this.controls[U]=I,I.setParent(this),I._registerOnCollectionChange(this._onCollectionChange),I)}addControl(U,I,V={}){this.registerControl(U,I),this.updateValueAndValidity({emitEvent:V.emitEvent}),this._onCollectionChange()}removeControl(U,I={}){this.controls[U]&&this.controls[U]._registerOnCollectionChange(()=>{}),delete this.controls[U],this.updateValueAndValidity({emitEvent:I.emitEvent}),this._onCollectionChange()}setControl(U,I,V={}){this.controls[U]&&this.controls[U]._registerOnCollectionChange(()=>{}),delete this.controls[U],I&&this.registerControl(U,I),this.updateValueAndValidity({emitEvent:V.emitEvent}),this._onCollectionChange()}contains(U){return this.controls.hasOwnProperty(U)&&this.controls[U].enabled}setValue(U,I={}){(function ce(H,U,I){H._forEachChild((V,Ie)=>{if(void 0===I[Ie])throw new c.vHH(1002,"")})})(this,0,U),Object.keys(U).forEach(V=>{(function ne(H,U,I){const V=H.controls;if(!(U?Object.keys(V):V).length)throw new c.vHH(1e3,"");if(!V[I])throw new c.vHH(1001,"")})(this,!0,V),this.controls[V].setValue(U[V],{onlySelf:!0,emitEvent:I.emitEvent})}),this.updateValueAndValidity(I)}patchValue(U,I={}){null!=U&&(Object.keys(U).forEach(V=>{const Ie=this.controls[V];Ie&&Ie.patchValue(U[V],{onlySelf:!0,emitEvent:I.emitEvent})}),this.updateValueAndValidity(I))}reset(U={},I={}){this._forEachChild((V,Ie)=>{V.reset(U[Ie],{onlySelf:!0,emitEvent:I.emitEvent})}),this._updatePristine(I),this._updateTouched(I),this.updateValueAndValidity(I)}getRawValue(){return this._reduceChildren({},(U,I,V)=>(U[V]=I.getRawValue(),U))}_syncPendingControls(){let U=this._reduceChildren(!1,(I,V)=>!!V._syncPendingControls()||I);return U&&this.updateValueAndValidity({onlySelf:!0}),U}_forEachChild(U){Object.keys(this.controls).forEach(I=>{const V=this.controls[I];V&&U(V,I)})}_setUpControls(){this._forEachChild(U=>{U.setParent(this),U._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(U){for(const[I,V]of Object.entries(this.controls))if(this.contains(I)&&U(V))return!0;return!1}_reduceValue(){return this._reduceChildren({},(I,V,Ie)=>((V.enabled||this.disabled)&&(I[Ie]=V.value),I))}_reduceChildren(U,I){let V=U;return this._forEachChild((Ie,Rt)=>{V=I(V,Ie,Rt)}),V}_allControlsDisabled(){for(const U of Object.keys(this.controls))if(this.controls[U].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(U){return this.controls.hasOwnProperty(U)?this.controls[U]:null}}const Wt=new c.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>en}),en="always";function Ut(H,U,I=en){var V,Ie;Kn(H,U),U.valueAccessor.writeValue(H.value),(H.disabled||"always"===I)&&(null===(V=(Ie=U.valueAccessor).setDisabledState)||void 0===V||V.call(Ie,H.disabled)),function $i(H,U){U.valueAccessor.registerOnChange(I=>{H._pendingValue=I,H._pendingChange=!0,H._pendingDirty=!0,"change"===H.updateOn&&yr(H,U)})}(H,U),function Ki(H,U){const I=(V,Ie)=>{U.valueAccessor.writeValue(V),Ie&&U.viewToModelUpdate(V)};H.registerOnChange(I),U._registerOnDestroy(()=>{H._unregisterOnChange(I)})}(H,U),function Sr(H,U){U.valueAccessor.registerOnTouched(()=>{H._pendingTouched=!0,"blur"===H.updateOn&&H._pendingChange&&yr(H,U),"submit"!==H.updateOn&&H.markAsTouched()})}(H,U),function Yn(H,U){if(U.valueAccessor.setDisabledState){const I=V=>{U.valueAccessor.setDisabledState(V)};H.registerOnDisabledChange(I),U._registerOnDestroy(()=>{H._unregisterOnDisabledChange(I)})}}(H,U)}function hn(H,U){H.forEach(I=>{I.registerOnValidatorChange&&I.registerOnValidatorChange(U)})}function Kn(H,U){const I=function Di(H){return H._rawValidators}(H);null!==U.validator?H.setValidators(Ti(I,U.validator)):"function"==typeof I&&H.setValidators([I]);const V=function Vi(H){return H._rawAsyncValidators}(H);null!==U.asyncValidator?H.setAsyncValidators(Ti(V,U.asyncValidator)):"function"==typeof V&&H.setAsyncValidators([V]);const Ie=()=>H.updateValueAndValidity();hn(U._rawValidators,Ie),hn(U._rawAsyncValidators,Ie)}function yr(H,U){H._pendingDirty&&H.markAsDirty(),H.setValue(H._pendingValue,{emitModelToViewChange:!1}),U.viewToModelUpdate(H._pendingValue),H._pendingChange=!1}const fe={provide:Ui,useExisting:(0,c.Gpc)(()=>He)},Ce=(()=>Promise.resolve())();let He=(()=>{class H extends Ui{constructor(I,V,Ie){super(),this.callSetDisabledState=Ie,this.submitted=!1,this._directives=new Set,this.ngSubmit=new c.vpe,this.form=new Ve({},Nt(I),Vn(V))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(I){Ce.then(()=>{const V=this._findContainer(I.path);I.control=V.registerControl(I.name,I.control),Ut(I.control,I,this.callSetDisabledState),I.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(I)})}getControl(I){return this.form.get(I.path)}removeControl(I){Ce.then(()=>{const V=this._findContainer(I.path);V&&V.removeControl(I.name),this._directives.delete(I)})}addFormGroup(I){Ce.then(()=>{const V=this._findContainer(I.path),Ie=new Ve({});(function wr(H,U){Kn(H,U)})(Ie,I),V.registerControl(I.name,Ie),Ie.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(I){Ce.then(()=>{const V=this._findContainer(I.path);V&&V.removeControl(I.name)})}getFormGroup(I){return this.form.get(I.path)}updateModel(I,V){Ce.then(()=>{this.form.get(I.path).setValue(V)})}setValue(I){this.control.setValue(I)}onSubmit(I){var V;return this.submitted=!0,function uo(H,U){H._syncPendingControls(),U.forEach(I=>{const V=I.control;"submit"===V.updateOn&&V._pendingChange&&(I.viewToModelUpdate(V._pendingValue),V._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(I),"dialog"===(null==I||null===(V=I.target)||void 0===V?void 0:V.method)}onReset(){this.resetForm()}resetForm(I=void 0){this.form.reset(I),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(I){return I.pop(),I.length?this.form.get(I):this.form}}return H.\u0275fac=function(I){return new(I||H)(c.Y36(Yt,10),c.Y36(tt,10),c.Y36(Wt,8))},H.\u0275dir=c.lG2({type:H,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(I,V){1&I&&c.NdJ("submit",function(Rt){return V.onSubmit(Rt)})("reset",function(){return V.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[c._Bn([fe]),c.qOj]}),H})();function Me(H,U){const I=H.indexOf(U);I>-1&&H.splice(I,1)}function he(H){return"object"==typeof H&&null!==H&&2===Object.keys(H).length&&"value"in H&&"disabled"in H}const Ae=class extends me{constructor(U=null,I,V){super(Pt(I),x(V,I)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(U),this._setUpdateStrategy(I),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),O(I)&&(I.nonNullable||I.initialValueIsDefault)&&(this.defaultValue=he(U)?U.value:U)}setValue(U,I={}){this.value=this._pendingValue=U,this._onChange.length&&!1!==I.emitModelToViewChange&&this._onChange.forEach(V=>V(this.value,!1!==I.emitViewToModelChange)),this.updateValueAndValidity(I)}patchValue(U,I={}){this.setValue(U,I)}reset(U=this.defaultValue,I={}){this._applyFormState(U),this.markAsPristine(I),this.markAsUntouched(I),this.setValue(this.value,I),this._pendingChange=!1}_updateValue(){}_anyControls(U){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(U){this._onChange.push(U)}_unregisterOnChange(U){Me(this._onChange,U)}registerOnDisabledChange(U){this._onDisabledChange.push(U)}_unregisterOnDisabledChange(U){Me(this._onDisabledChange,U)}_forEachChild(U){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(U){he(U)?(this.value=this._pendingValue=U.value,U.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=U}},Ks={provide:ii,useExisting:(0,c.Gpc)(()=>hr)},vs=(()=>Promise.resolve())();let hr=(()=>{class H extends ii{constructor(I,V,Ie,Rt,gn,Nn){super(),this._changeDetectorRef=gn,this.callSetDisabledState=Nn,this.control=new Ae,this._registered=!1,this.name="",this.update=new c.vpe,this._parent=I,this._setValidators(V),this._setAsyncValidators(Ie),this.valueAccessor=function Eo(H,U){if(!U)return null;let I,V,Ie;return Array.isArray(U),U.forEach(Rt=>{Rt.constructor===bt?I=Rt:function Es(H){return Object.getPrototypeOf(H.constructor)===Qe}(Rt)?V=Rt:Ie=Rt}),Ie||V||I||null}(0,Rt)}ngOnChanges(I){if(this._checkForErrors(),!this._registered||"name"in I){if(this._registered&&(this._checkName(),this.formDirective)){const V=I.name.previousValue;this.formDirective.removeControl({name:V,path:this._getPath(V)})}this._setUpControl()}"isDisabled"in I&&this._updateDisabled(I),function ws(H,U){if(!H.hasOwnProperty("model"))return!1;const I=H.model;return!!I.isFirstChange()||!Object.is(U,I.currentValue)}(I,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(I){this.viewModel=I,this.update.emit(I)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Ut(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(I){vs.then(()=>{var V;this.control.setValue(I,{emitViewToModelChange:!1}),null===(V=this._changeDetectorRef)||void 0===V||V.markForCheck()})}_updateDisabled(I){const V=I.isDisabled.currentValue,Ie=0!==V&&(0,c.D6c)(V);vs.then(()=>{var Rt;Ie&&!this.control.disabled?this.control.disable():!Ie&&this.control.disabled&&this.control.enable(),null===(Rt=this._changeDetectorRef)||void 0===Rt||Rt.markForCheck()})}_getPath(I){return this._parent?function In(H,U){return[...U.path,H]}(I,this._parent):[I]}}return H.\u0275fac=function(I){return new(I||H)(c.Y36(Ui,9),c.Y36(Yt,10),c.Y36(tt,10),c.Y36(At,10),c.Y36(c.sBO,8),c.Y36(Wt,8))},H.\u0275dir=c.lG2({type:H,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[c._Bn([Ks]),c.qOj,c.TTD]}),H})(),ri=(()=>{class H{}return H.\u0275fac=function(I){return new(I||H)},H.\u0275dir=c.lG2({type:H,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),H})(),js=(()=>{class H{}return H.\u0275fac=function(I){return new(I||H)},H.\u0275mod=c.oAB({type:H}),H.\u0275inj=c.cJS({}),H})();const Nr=new c.OlP("NgModelWithFormControlWarning");let bs=(()=>{class H{constructor(){this._validator=Je}ngOnChanges(I){if(this.inputName in I){const V=this.normalizeInput(I[this.inputName].currentValue);this._enabled=this.enabled(V),this._validator=this._enabled?this.createValidator(V):Je,this._onChange&&this._onChange()}}validate(I){return this._validator(I)}registerOnValidatorChange(I){this._onChange=I}enabled(I){return null!=I}}return H.\u0275fac=function(I){return new(I||H)},H.\u0275dir=c.lG2({type:H,features:[c.TTD]}),H})();const Se={provide:Yt,useExisting:(0,c.Gpc)(()=>ge),multi:!0};let ge=(()=>{class H extends bs{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=c.D6c,this.createValidator=I=>dn}enabled(I){return I}}return H.\u0275fac=function(){let U;return function(V){return(U||(U=c.n5z(H)))(V||H)}}(),H.\u0275dir=c.lG2({type:H,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(I,V){2&I&&c.uIk("required",V._enabled?"":null)},inputs:{required:"required"},features:[c._Bn([Se]),c.qOj]}),H})();const Tr={provide:Yt,useExisting:(0,c.Gpc)(()=>cs),multi:!0};let cs=(()=>{class H extends bs{constructor(){super(...arguments),this.inputName="minlength",this.normalizeInput=I=>function jo(H){return"number"==typeof H?H:parseInt(H,10)}(I),this.createValidator=I=>function wt(H){return U=>zt(U.value)||!function Jt(H){return null!=H&&"number"==typeof H.length}(U.value)?null:U.value.length<H?{minlength:{requiredLength:H,actualLength:U.value.length}}:null}(I)}}return H.\u0275fac=function(){let U;return function(V){return(U||(U=c.n5z(H)))(V||H)}}(),H.\u0275dir=c.lG2({type:H,selectors:[["","minlength","","formControlName",""],["","minlength","","formControl",""],["","minlength","","ngModel",""]],hostVars:1,hostBindings:function(I,V){2&I&&c.uIk("minlength",V._enabled?V.minlength:null)},inputs:{minlength:"minlength"},features:[c._Bn([Tr]),c.qOj]}),H})(),Hs=(()=>{class H{}return H.\u0275fac=function(I){return new(I||H)},H.\u0275mod=c.oAB({type:H}),H.\u0275inj=c.cJS({imports:[js]}),H})(),Pe=(()=>{class H{static withConfig(I){var V;return{ngModule:H,providers:[{provide:Wt,useValue:null!==(V=I.callSetDisabledState)&&void 0!==V?V:en}]}}}return H.\u0275fac=function(I){return new(I||H)},H.\u0275mod=c.oAB({type:H}),H.\u0275inj=c.cJS({imports:[Hs]}),H})(),_e=(()=>{class H{static withConfig(I){var V,Ie;return{ngModule:H,providers:[{provide:Nr,useValue:null!==(V=I.warnOnNgModelWithFormControl)&&void 0!==V?V:"always"},{provide:Wt,useValue:null!==(Ie=I.callSetDisabledState)&&void 0!==Ie?Ie:en}]}}}return H.\u0275fac=function(I){return new(I||H)},H.\u0275mod=c.oAB({type:H}),H.\u0275inj=c.cJS({imports:[Hs]}),H})()},6550:(Ii,ln,Y)=>{"use strict";Y.d(ln,{Dx:()=>ii,b2:()=>Ai,q6:()=>Ti,se:()=>se});var c=Y(2223),y=Y(4755);class De extends y.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class ze extends De{static makeCurrent(){(0,y.HT)(new ze)}onAndCancel(x,A,O){return x.addEventListener(A,O),()=>{x.removeEventListener(A,O)}}dispatchEvent(x,A){x.dispatchEvent(A)}remove(x){x.parentNode&&x.parentNode.removeChild(x)}createElement(x,A){return(A=A||this.getDefaultDocument()).createElement(x)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(x){return x.nodeType===Node.ELEMENT_NODE}isShadowRoot(x){return x instanceof DocumentFragment}getGlobalEventTarget(x,A){return"window"===A?window:"document"===A?x:"body"===A?x.body:null}getBaseHref(x){const A=function Ye(){return dt=dt||document.querySelector("base"),dt?dt.getAttribute("href"):null}();return null==A?null:function $e(B){be=be||document.createElement("a"),be.setAttribute("href",B);const x=be.pathname;return"/"===x.charAt(0)?x:`/${x}`}(A)}resetBaseElement(){dt=null}getUserAgent(){return window.navigator.userAgent}getCookie(x){return(0,y.Mx)(document.cookie,x)}}let be,dt=null,Ue=(()=>{class B{build(){return new XMLHttpRequest}}return B.\u0275fac=function(A){return new(A||B)},B.\u0275prov=c.Yz7({token:B,factory:B.\u0275fac}),B})();const Re=new c.OlP("EventManagerPlugins");let Xe=(()=>{class B{constructor(A,O){this._zone=O,this._eventNameToPlugin=new Map,A.forEach(ne=>{ne.manager=this}),this._plugins=A.slice().reverse()}addEventListener(A,O,ne){return this._findPluginFor(O).addEventListener(A,O,ne)}getZone(){return this._zone}_findPluginFor(A){const O=this._eventNameToPlugin.get(A);if(O)return O;const ne=this._plugins;for(let ce=0;ce<ne.length;ce++){const me=ne[ce];if(me.supports(A))return this._eventNameToPlugin.set(A,me),me}throw new Error(`No event manager plugin found for event ${A}`)}}return B.\u0275fac=function(A){return new(A||B)(c.LFG(Re),c.LFG(c.R0b))},B.\u0275prov=c.Yz7({token:B,factory:B.\u0275fac}),B})();class Le{constructor(x){this._doc=x}}const Qe="ng-app-id";let At=(()=>{class B{constructor(A,O,ne,ce={}){this.doc=A,this.appId=O,this.nonce=ne,this.platformId=ce,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=(0,y.PM)(ce),this.resetHostNodes()}addStyles(A){for(const O of A)1===this.changeUsageCount(O,1)&&this.onStyleAdded(O)}removeStyles(A){for(const O of A)this.changeUsageCount(O,-1)<=0&&this.onStyleRemoved(O)}ngOnDestroy(){const A=this.styleNodesInDOM;A&&(A.forEach(O=>O.remove()),A.clear());for(const O of this.getAllStyles())this.onStyleRemoved(O);this.resetHostNodes()}addHost(A){this.hostNodes.add(A);for(const O of this.getAllStyles())this.addStyleToHost(A,O)}removeHost(A){this.hostNodes.delete(A)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(A){for(const O of this.hostNodes)this.addStyleToHost(O,A)}onStyleRemoved(A){var O,ne;const ce=this.styleRef;null===(O=ce.get(A))||void 0===O||null===(ne=O.elements)||void 0===ne||ne.forEach(me=>me.remove()),ce.delete(A)}collectServerRenderedStyles(){var A;const O=null===(A=this.doc.head)||void 0===A?void 0:A.querySelectorAll(`style[${Qe}="${this.appId}"]`);if(null!=O&&O.length){const ne=new Map;return O.forEach(ce=>{null!=ce.textContent&&ne.set(ce.textContent,ce)}),ne}return null}changeUsageCount(A,O){const ne=this.styleRef;if(ne.has(A)){const ce=ne.get(A);return ce.usage+=O,ce.usage}return ne.set(A,{usage:O,elements:[]}),O}getStyleElement(A,O){const ne=this.styleNodesInDOM,ce=null==ne?void 0:ne.get(O);if((null==ce?void 0:ce.parentNode)===A)return ne.delete(O),ce.removeAttribute(Qe),ce;{const me=this.doc.createElement("style");return this.nonce&&me.setAttribute("nonce",this.nonce),me.textContent=O,this.platformIsServer&&me.setAttribute(Qe,this.appId),me}}addStyleToHost(A,O){var ne;const ce=this.getStyleElement(A,O);A.appendChild(ce);const me=this.styleRef,Ve=null===(ne=me.get(O))||void 0===ne?void 0:ne.elements;Ve?Ve.push(ce):me.set(O,{elements:[ce],usage:1})}resetHostNodes(){const A=this.hostNodes;A.clear(),A.add(this.doc.head)}}return B.\u0275fac=function(A){return new(A||B)(c.LFG(y.K0),c.LFG(c.AFp),c.LFG(c.Ojb,8),c.LFG(c.Lbi))},B.\u0275prov=c.Yz7({token:B,factory:B.\u0275fac}),B})();const an={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},nt=/%COMP%/g,zt=new c.OlP("RemoveStylesOnCompDestory",{providedIn:"root",factory:()=>!1});function tt(B,x){return x.map(A=>A.replace(nt,B))}let se=(()=>{class B{constructor(A,O,ne,ce,me,Ve,Be,jt=null){this.eventManager=A,this.sharedStylesHost=O,this.appId=ne,this.removeStylesOnCompDestory=ce,this.doc=me,this.platformId=Ve,this.ngZone=Be,this.nonce=jt,this.rendererByCompId=new Map,this.platformIsServer=(0,y.PM)(Ve),this.defaultRenderer=new Vt(A,me,Be,this.platformIsServer)}createRenderer(A,O){if(!A||!O)return this.defaultRenderer;this.platformIsServer&&O.encapsulation===c.ifc.ShadowDom&&(O={...O,encapsulation:c.ifc.Emulated});const ne=this.getOrCreateRenderer(A,O);return ne instanceof wt?ne.applyToHost(A):ne instanceof et&&ne.applyStyles(),ne}getOrCreateRenderer(A,O){const ne=this.rendererByCompId;let ce=ne.get(O.id);if(!ce){const me=this.doc,Ve=this.ngZone,Be=this.eventManager,jt=this.sharedStylesHost,Lt=this.removeStylesOnCompDestory,fn=this.platformIsServer;switch(O.encapsulation){case c.ifc.Emulated:ce=new wt(Be,jt,O,this.appId,Lt,me,Ve,fn);break;case c.ifc.ShadowDom:return new ct(Be,jt,A,O,me,Ve,this.nonce,fn);default:ce=new et(Be,jt,O,Lt,me,Ve,fn)}ce.onDestroy=()=>ne.delete(O.id),ne.set(O.id,ce)}return ce}ngOnDestroy(){this.rendererByCompId.clear()}}return B.\u0275fac=function(A){return new(A||B)(c.LFG(Xe),c.LFG(At),c.LFG(c.AFp),c.LFG(zt),c.LFG(y.K0),c.LFG(c.Lbi),c.LFG(c.R0b),c.LFG(c.Ojb))},B.\u0275prov=c.Yz7({token:B,factory:B.\u0275fac}),B})();class Vt{constructor(x,A,O,ne){this.eventManager=x,this.doc=A,this.ngZone=O,this.platformIsServer=ne,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(x,A){return A?this.doc.createElementNS(an[A]||A,x):this.doc.createElement(x)}createComment(x){return this.doc.createComment(x)}createText(x){return this.doc.createTextNode(x)}appendChild(x,A){(dn(x)?x.content:x).appendChild(A)}insertBefore(x,A,O){x&&(dn(x)?x.content:x).insertBefore(A,O)}removeChild(x,A){x&&x.removeChild(A)}selectRootElement(x,A){let O="string"==typeof x?this.doc.querySelector(x):x;if(!O)throw new Error(`The selector "${x}" did not match any elements`);return A||(O.textContent=""),O}parentNode(x){return x.parentNode}nextSibling(x){return x.nextSibling}setAttribute(x,A,O,ne){if(ne){A=ne+":"+A;const ce=an[ne];ce?x.setAttributeNS(ce,A,O):x.setAttribute(A,O)}else x.setAttribute(A,O)}removeAttribute(x,A,O){if(O){const ne=an[O];ne?x.removeAttributeNS(ne,A):x.removeAttribute(`${O}:${A}`)}else x.removeAttribute(A)}addClass(x,A){x.classList.add(A)}removeClass(x,A){x.classList.remove(A)}setStyle(x,A,O,ne){ne&(c.JOm.DashCase|c.JOm.Important)?x.style.setProperty(A,O,ne&c.JOm.Important?"important":""):x.style[A]=O}removeStyle(x,A,O){O&c.JOm.DashCase?x.style.removeProperty(A):x.style[A]=""}setProperty(x,A,O){x[A]=O}setValue(x,A){x.nodeValue=A}listen(x,A,O){if("string"==typeof x&&!(x=(0,y.q)().getGlobalEventTarget(this.doc,x)))throw new Error(`Unsupported event target ${x} for event ${A}`);return this.eventManager.addEventListener(x,A,this.decoratePreventDefault(O))}decoratePreventDefault(x){return A=>{if("__ngUnwrap__"===A)return x;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>x(A)):x(A))&&(A.preventDefault(),A.returnValue=!1)}}}function dn(B){return"TEMPLATE"===B.tagName&&void 0!==B.content}class ct extends Vt{constructor(x,A,O,ne,ce,me,Ve,Be){super(x,ce,me,Be),this.sharedStylesHost=A,this.hostEl=O,this.shadowRoot=O.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const jt=tt(ne.id,ne.styles);for(const Lt of jt){const fn=document.createElement("style");Ve&&fn.setAttribute("nonce",Ve),fn.textContent=Lt,this.shadowRoot.appendChild(fn)}}nodeOrShadowRoot(x){return x===this.hostEl?this.shadowRoot:x}appendChild(x,A){return super.appendChild(this.nodeOrShadowRoot(x),A)}insertBefore(x,A,O){return super.insertBefore(this.nodeOrShadowRoot(x),A,O)}removeChild(x,A){return super.removeChild(this.nodeOrShadowRoot(x),A)}parentNode(x){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(x)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class et extends Vt{constructor(x,A,O,ne,ce,me,Ve,Be){super(x,ce,me,Ve),this.sharedStylesHost=A,this.removeStylesOnCompDestory=ne,this.rendererUsageCount=0,this.styles=Be?tt(Be,O.styles):O.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles),this.rendererUsageCount++}destroy(){var x;this.removeStylesOnCompDestory&&(this.sharedStylesHost.removeStyles(this.styles),this.rendererUsageCount--,0===this.rendererUsageCount)&&(null===(x=this.onDestroy)||void 0===x||x.call(this))}}class wt extends et{constructor(x,A,O,ne,ce,me,Ve,Be){const jt=ne+"-"+O.id;super(x,A,O,ce,me,Ve,Be,jt),this.contentAttr=function Jt(B){return"_ngcontent-%COMP%".replace(nt,B)}(jt),this.hostAttr=function Yt(B){return"_nghost-%COMP%".replace(nt,B)}(jt)}applyToHost(x){this.applyStyles(),this.setAttribute(x,this.hostAttr,"")}createElement(x,A){const O=super.createElement(x,A);return super.setAttribute(O,this.contentAttr,""),O}}let Ot=(()=>{class B extends Le{constructor(A){super(A)}supports(A){return!0}addEventListener(A,O,ne){return A.addEventListener(O,ne,!1),()=>this.removeEventListener(A,O,ne)}removeEventListener(A,O,ne){return A.removeEventListener(O,ne)}}return B.\u0275fac=function(A){return new(A||B)(c.LFG(y.K0))},B.\u0275prov=c.Yz7({token:B,factory:B.\u0275fac}),B})();const ft=["alt","control","meta","shift"],Je={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Et={alt:B=>B.altKey,control:B=>B.ctrlKey,meta:B=>B.metaKey,shift:B=>B.shiftKey};let vn=(()=>{class B extends Le{constructor(A){super(A)}supports(A){return null!=B.parseEventName(A)}addEventListener(A,O,ne){const ce=B.parseEventName(O),me=B.eventCallback(ce.fullKey,ne,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,y.q)().onAndCancel(A,ce.domEventName,me))}static parseEventName(A){const O=A.toLowerCase().split("."),ne=O.shift();if(0===O.length||"keydown"!==ne&&"keyup"!==ne)return null;const ce=B._normalizeKey(O.pop());let me="",Ve=O.indexOf("code");if(Ve>-1&&(O.splice(Ve,1),me="code."),ft.forEach(jt=>{const Lt=O.indexOf(jt);Lt>-1&&(O.splice(Lt,1),me+=jt+".")}),me+=ce,0!=O.length||0===ce.length)return null;const Be={};return Be.domEventName=ne,Be.fullKey=me,Be}static matchEventFullKeyCode(A,O){let ne=Je[A.key]||A.key,ce="";return O.indexOf("code.")>-1&&(ne=A.code,ce="code."),!(null==ne||!ne)&&(ne=ne.toLowerCase()," "===ne?ne="space":"."===ne&&(ne="dot"),ft.forEach(me=>{me!==ne&&(0,Et[me])(A)&&(ce+=me+".")}),ce+=ne,ce===O)}static eventCallback(A,O,ne){return ce=>{B.matchEventFullKeyCode(ce,A)&&ne.runGuarded(()=>O(ce))}}static _normalizeKey(A){return"esc"===A?"escape":A}}return B.\u0275fac=function(A){return new(A||B)(c.LFG(y.K0))},B.\u0275prov=c.Yz7({token:B,factory:B.\u0275fac}),B})();const Ti=(0,c.eFA)(c._c5,"browser",[{provide:c.Lbi,useValue:y.bD},{provide:c.g9A,useValue:function Dn(){ze.makeCurrent()},multi:!0},{provide:y.K0,useFactory:function On(){return(0,c.RDi)(document),document},deps:[]}]),Di=new c.OlP(""),Vi=[{provide:c.rWj,useClass:class Ke{addToWindow(x){c.dqk.getAngularTestability=(O,ne=!0)=>{const ce=x.findTestabilityInTree(O,ne);if(null==ce)throw new Error("Could not find testability for element.");return ce},c.dqk.getAllAngularTestabilities=()=>x.getAllTestabilities(),c.dqk.getAllAngularRootElements=()=>x.getAllRootElements(),c.dqk.frameworkStabilizers||(c.dqk.frameworkStabilizers=[]),c.dqk.frameworkStabilizers.push(O=>{const ne=c.dqk.getAllAngularTestabilities();let ce=ne.length,me=!1;const Ve=function(Be){me=me||Be,ce--,0==ce&&O(me)};ne.forEach(function(Be){Be.whenStable(Ve)})})}findTestabilityInTree(x,A,O){if(null==A)return null;const ne=x.getTestability(A);return null!=ne?ne:O?(0,y.q)().isShadowRoot(A)?this.findTestabilityInTree(x,A.host,!0):this.findTestabilityInTree(x,A.parentElement,!0):null}},deps:[]},{provide:c.lri,useClass:c.dDg,deps:[c.R0b,c.eoX,c.rWj]},{provide:c.dDg,useClass:c.dDg,deps:[c.R0b,c.eoX,c.rWj]}],Xn=[{provide:c.zSh,useValue:"root"},{provide:c.qLn,useFactory:function Nt(){return new c.qLn},deps:[]},{provide:Re,useClass:Ot,multi:!0,deps:[y.K0,c.R0b,c.Lbi]},{provide:Re,useClass:vn,multi:!0,deps:[y.K0]},se,At,Xe,{provide:c.FYo,useExisting:se},{provide:y.JF,useClass:Ue,deps:[]},[]];let Ai=(()=>{class B{constructor(A){}static withServerTransition(A){return{ngModule:B,providers:[{provide:c.AFp,useValue:A.appId}]}}}return B.\u0275fac=function(A){return new(A||B)(c.LFG(Di,12))},B.\u0275mod=c.oAB({type:B}),B.\u0275inj=c.cJS({providers:[...Xn,...Vi],imports:[y.ez,c.hGG]}),B})(),ii=(()=>{class B{constructor(A){this._doc=A}getTitle(){return this._doc.title}setTitle(A){this._doc.title=A||""}}return B.\u0275fac=function(A){return new(A||B)(c.LFG(y.K0))},B.\u0275prov=c.Yz7({token:B,factory:function(A){let O=null;return O=A?new A:function Ui(){return new ii((0,c.LFG)(y.K0))}(),O},providedIn:"root"}),B})();typeof window<"u"&&window},5559:(Ii,ln,Y)=>{"use strict";Y.d(ln,{gz:()=>Gs,jw:()=>hr,y6:()=>So,OD:()=>He,eC:()=>Xn,wm:()=>Tl,wN:()=>Yr,F0:()=>fi,rH:()=>Ri,Bz:()=>Rs,Hx:()=>Ge,fw:()=>Lo});var c=Y(2223),y=Y(9751),De=Y(576),dt=Y(8996),Ye=Y(9646),be=Y(1135),$e=Y(4742),Ke=Y(4671),Ue=Y(3268),Re=Y(7669),Xe=Y(1810),Le=Y(5403),Qe=Y(9672);function At(...W){const Z=(0,Re.yG)(W),L=(0,Re.jO)(W),{args:te,keys:Ee}=(0,$e.D)(W);if(0===te.length)return(0,dt.D)([],Z);const mt=new y.y(function an(W,Z,L=Ke.y){return te=>{nt(Z,()=>{const{length:Ee}=W,mt=new Array(Ee);let st=Ee,En=Ee;for(let ni=0;ni<Ee;ni++)nt(Z,()=>{const dr=(0,dt.D)(W[ni],Z);let fs=!1;dr.subscribe((0,Le.x)(te,Fr=>{mt[ni]=Fr,fs||(fs=!0,En--),En||te.next(L(mt.slice()))},()=>{--st||te.complete()}))},te)},te)}}(te,Z,Ee?st=>(0,Xe.n)(Ee,st):Ke.y));return L?mt.pipe((0,Ue.Z)(L)):mt}function nt(W,Z,L){W?(0,Qe.f)(L,W,Z):Z()}var Ze=Y(6805),on=Y(7272),It=Y(8421);function bt(W){return new y.y(Z=>{(0,It.Xf)(W()).subscribe(Z)})}var zt=Y(9635);function Jt(W,Z){const L=(0,De.m)(W)?W:()=>W,te=Ee=>Ee.error(L());return new y.y(Z?Ee=>Z.schedule(te,0,Ee):te)}var Yt=Y(515),tt=Y(727),se=Y(4482);function Vt(){return(0,se.e)((W,Z)=>{let L=null;W._refCount++;const te=(0,Le.x)(Z,void 0,void 0,void 0,()=>{if(!W||W._refCount<=0||0<--W._refCount)return void(L=null);const Ee=W._connection,mt=L;L=null,Ee&&(!mt||Ee===mt)&&Ee.unsubscribe(),Z.unsubscribe()});W.subscribe(te),te.closed||(L=W.connect())})}class Tt extends y.y{constructor(Z,L){super(),this.source=Z,this.subjectFactory=L,this._subject=null,this._refCount=0,this._connection=null,(0,se.A)(Z)&&(this.lift=Z.lift)}_subscribe(Z){return this.getSubject().subscribe(Z)}getSubject(){const Z=this._subject;return(!Z||Z.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:Z}=this;this._subject=this._connection=null,null==Z||Z.unsubscribe()}connect(){let Z=this._connection;if(!Z){Z=this._connection=new tt.w0;const L=this.getSubject();Z.add(this.source.subscribe((0,Le.x)(L,void 0,()=>{this._teardown(),L.complete()},te=>{this._teardown(),L.error(te)},()=>this._teardown()))),Z.closed&&(this._connection=null,Z=tt.w0.EMPTY)}return Z}refCount(){return Vt()(this)}}var tn=Y(7579),dn=Y(4755),ct=Y(4004),et=Y(3900),wt=Y(5698),Ot=Y(8675),ft=Y(9300),Je=Y(5577),Et=Y(590);function vn(W,Z){return(0,De.m)(Z)?(0,Je.z)(W,Z,1):(0,Je.z)(W,1)}var qt=Y(8505);function xn(W){return(0,se.e)((Z,L)=>{let mt,te=null,Ee=!1;te=Z.subscribe((0,Le.x)(L,void 0,void 0,st=>{mt=(0,It.Xf)(W(st,xn(W)(Z))),te?(te.unsubscribe(),te=null,mt.subscribe(L)):Ee=!0})),Ee&&(te.unsubscribe(),te=null,mt.subscribe(L))})}var Gt=Y(5026),li=Y(6590);function Dn(W){return W<=0?()=>Yt.E:(0,se.e)((Z,L)=>{let te=[];Z.subscribe((0,Le.x)(L,Ee=>{te.push(Ee),W<te.length&&te.shift()},()=>{for(const Ee of te)L.next(Ee);L.complete()},void 0,()=>{te=null}))})}var Nt=Y(8068),Ti=Y(8746),Di=Y(8189),Vi=Y(6550);const Xn="primary",Ai=Symbol("RouteTitle");class Ni{constructor(Z){this.params=Z||{}}has(Z){return Object.prototype.hasOwnProperty.call(this.params,Z)}get(Z){if(this.has(Z)){const L=this.params[Z];return Array.isArray(L)?L[0]:L}return null}getAll(Z){if(this.has(Z)){const L=this.params[Z];return Array.isArray(L)?L:[L]}return[]}get keys(){return Object.keys(this.params)}}function rr(W){return new Ni(W)}function fr(W,Z,L){const te=L.path.split("/");if(te.length>W.length||"full"===L.pathMatch&&(Z.hasChildren()||te.length<W.length))return null;const Ee={};for(let mt=0;mt<te.length;mt++){const st=te[mt],En=W[mt];if(st.startsWith(":"))Ee[st.substring(1)]=En;else if(st!==En.path)return null}return{consumed:W.slice(0,te.length),posParams:Ee}}function ii(W,Z){const L=W?Object.keys(W):void 0,te=Z?Object.keys(Z):void 0;if(!L||!te||L.length!=te.length)return!1;let Ee;for(let mt=0;mt<L.length;mt++)if(Ee=L[mt],!kr(W[Ee],Z[Ee]))return!1;return!0}function kr(W,Z){if(Array.isArray(W)&&Array.isArray(Z)){if(W.length!==Z.length)return!1;const L=[...W].sort(),te=[...Z].sort();return L.every((Ee,mt)=>te[mt]===Ee)}return W===Z}function Ar(W){return W.length>0?W[W.length-1]:null}function Li(W){return function ze(W){return!!W&&(W instanceof y.y||(0,De.m)(W.lift)&&(0,De.m)(W.subscribe))}(W)?W:(0,c.QGY)(W)?(0,dt.D)(Promise.resolve(W)):(0,Ye.of)(W)}const ps={exact:function Zi(W,Z,L){if(!nr(W.segments,Z.segments)||!jr(W.segments,Z.segments,L)||W.numberOfChildren!==Z.numberOfChildren)return!1;for(const te in Z.children)if(!W.children[te]||!Zi(W.children[te],Z.children[te],L))return!1;return!0},subset:Jr},Xr={exact:function Mi(W,Z){return ii(W,Z)},subset:function Qr(W,Z){return Object.keys(Z).length<=Object.keys(W).length&&Object.keys(Z).every(L=>kr(W[L],Z[L]))},ignored:()=>!0};function Bi(W,Z,L){return ps[L.paths](W.root,Z.root,L.matrixParams)&&Xr[L.queryParams](W.queryParams,Z.queryParams)&&!("exact"===L.fragment&&W.fragment!==Z.fragment)}function Jr(W,Z,L){return Ir(W,Z,Z.segments,L)}function Ir(W,Z,L,te){if(W.segments.length>L.length){const Ee=W.segments.slice(0,L.length);return!(!nr(Ee,L)||Z.hasChildren()||!jr(Ee,L,te))}if(W.segments.length===L.length){if(!nr(W.segments,L)||!jr(W.segments,L,te))return!1;for(const Ee in Z.children)if(!W.children[Ee]||!Jr(W.children[Ee],Z.children[Ee],te))return!1;return!0}{const Ee=L.slice(0,W.segments.length),mt=L.slice(W.segments.length);return!!(nr(W.segments,Ee)&&jr(W.segments,Ee,te)&&W.children[Xn])&&Ir(W.children[Xn],Z,mt,te)}}function jr(W,Z,L){return Z.every((te,Ee)=>Xr[L](W[Ee].parameters,te.parameters))}class ns{constructor(Z=new tr([],{}),L={},te=null){this.root=Z,this.queryParams=L,this.fragment=te}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=rr(this.queryParams)),this._queryParamMap}toString(){return _n.serialize(this)}}class tr{constructor(Z,L){this.segments=Z,this.children=L,this.parent=null,Object.values(L).forEach(te=>te.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Gn(this)}}class Hi{constructor(Z,L){this.path=Z,this.parameters=L}get parameterMap(){return this._parameterMap||(this._parameterMap=rr(this.parameters)),this._parameterMap}toString(){return A(this)}}function nr(W,Z){return W.length===Z.length&&W.every((L,te)=>L.path===Z[te].path)}let Ge=(()=>{class W{}return W.\u0275fac=function(L){return new(L||W)},W.\u0275prov=c.Yz7({token:W,factory:function(){return new Mt},providedIn:"root"}),W})();class Mt{parse(Z){const L=new en(Z);return new ns(L.parseRootSegment(),L.parseQueryParams(),L.parseFragment())}serialize(Z){const L=`/${mi(Z.root,!0)}`,te=function ne(W){const Z=Object.keys(W).map(L=>{const te=W[L];return Array.isArray(te)?te.map(Ee=>`${pr(L)}=${pr(Ee)}`).join("&"):`${pr(L)}=${pr(te)}`}).filter(L=>!!L);return Z.length?`?${Z.join("&")}`:""}(Z.queryParams);return`${L}${te}${"string"==typeof Z.fragment?`#${function sr(W){return encodeURI(W)}(Z.fragment)}`:""}`}}const _n=new Mt;function Gn(W){return W.segments.map(Z=>A(Z)).join("/")}function mi(W,Z){if(!W.hasChildren())return Gn(W);if(Z){const L=W.children[Xn]?mi(W.children[Xn],!1):"",te=[];return Object.entries(W.children).forEach(([Ee,mt])=>{Ee!==Xn&&te.push(`${Ee}:${mi(mt,!1)}`)}),te.length>0?`${L}(${te.join("//")})`:L}{const L=function zn(W,Z){let L=[];return Object.entries(W.children).forEach(([te,Ee])=>{te===Xn&&(L=L.concat(Z(Ee,te)))}),Object.entries(W.children).forEach(([te,Ee])=>{te!==Xn&&(L=L.concat(Z(Ee,te)))}),L}(W,(te,Ee)=>Ee===Xn?[mi(W.children[Xn],!1)]:[`${Ee}:${mi(te,!1)}`]);return 1===Object.keys(W.children).length&&null!=W.children[Xn]?`${Gn(W)}/${L[0]}`:`${Gn(W)}/(${L.join("//")})`}}function Dr(W){return encodeURIComponent(W).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function pr(W){return Dr(W).replace(/%3B/gi,";")}function Pt(W){return Dr(W).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function B(W){return decodeURIComponent(W)}function x(W){return B(W.replace(/\+/g,"%20"))}function A(W){return`${Pt(W.path)}${function O(W){return Object.keys(W).map(Z=>`;${Pt(Z)}=${Pt(W[Z])}`).join("")}(W.parameters)}`}const ce=/^[^\/()?;#]+/;function me(W){const Z=W.match(ce);return Z?Z[0]:""}const Ve=/^[^\/()?;=#]+/,jt=/^[^=?&#]+/,fn=/^[^&#]+/;class en{constructor(Z){this.url=Z,this.remaining=Z}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new tr([],{}):new tr([],this.parseChildren())}parseQueryParams(){const Z={};if(this.consumeOptional("?"))do{this.parseQueryParam(Z)}while(this.consumeOptional("&"));return Z}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const Z=[];for(this.peekStartsWith("(")||Z.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),Z.push(this.parseSegment());let L={};this.peekStartsWith("/(")&&(this.capture("/"),L=this.parseParens(!0));let te={};return this.peekStartsWith("(")&&(te=this.parseParens(!1)),(Z.length>0||Object.keys(L).length>0)&&(te[Xn]=new tr(Z,L)),te}parseSegment(){const Z=me(this.remaining);if(""===Z&&this.peekStartsWith(";"))throw new c.vHH(4009,!1);return this.capture(Z),new Hi(B(Z),this.parseMatrixParams())}parseMatrixParams(){const Z={};for(;this.consumeOptional(";");)this.parseParam(Z);return Z}parseParam(Z){const L=function Be(W){const Z=W.match(Ve);return Z?Z[0]:""}(this.remaining);if(!L)return;this.capture(L);let te="";if(this.consumeOptional("=")){const Ee=me(this.remaining);Ee&&(te=Ee,this.capture(te))}Z[B(L)]=B(te)}parseQueryParam(Z){const L=function Lt(W){const Z=W.match(jt);return Z?Z[0]:""}(this.remaining);if(!L)return;this.capture(L);let te="";if(this.consumeOptional("=")){const st=function Wt(W){const Z=W.match(fn);return Z?Z[0]:""}(this.remaining);st&&(te=st,this.capture(te))}const Ee=x(L),mt=x(te);if(Z.hasOwnProperty(Ee)){let st=Z[Ee];Array.isArray(st)||(st=[st],Z[Ee]=st),st.push(mt)}else Z[Ee]=mt}parseParens(Z){const L={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const te=me(this.remaining),Ee=this.remaining[te.length];if("/"!==Ee&&")"!==Ee&&";"!==Ee)throw new c.vHH(4010,!1);let mt;te.indexOf(":")>-1?(mt=te.slice(0,te.indexOf(":")),this.capture(mt),this.capture(":")):Z&&(mt=Xn);const st=this.parseChildren();L[mt]=1===Object.keys(st).length?st[Xn]:new tr([],st),this.consumeOptional("//")}return L}peekStartsWith(Z){return this.remaining.startsWith(Z)}consumeOptional(Z){return!!this.peekStartsWith(Z)&&(this.remaining=this.remaining.substring(Z.length),!0)}capture(Z){if(!this.consumeOptional(Z))throw new c.vHH(4011,!1)}}function In(W){return W.segments.length>0?new tr([],{[Xn]:W}):W}function Ut(W){const Z={};for(const te of Object.keys(W.children)){const mt=Ut(W.children[te]);if(te===Xn&&0===mt.segments.length&&mt.hasChildren())for(const[st,En]of Object.entries(mt.children))Z[st]=En;else(mt.segments.length>0||mt.hasChildren())&&(Z[te]=mt)}return function rn(W){if(1===W.numberOfChildren&&W.children[Xn]){const Z=W.children[Xn];return new tr(W.segments.concat(Z.segments),Z.children)}return W}(new tr(W.segments,Z))}function hn(W){return W instanceof ns}function Kn(W){var Z;let L;const mt=In(function te(st){const En={};for(const dr of st.children){const fs=te(dr);En[dr.outlet]=fs}const ni=new tr(st.url,En);return st===W&&(L=ni),ni}(W.root));return null!==(Z=L)&&void 0!==Z?Z:mt}function ti(W,Z,L,te){let Ee=W;for(;Ee.parent;)Ee=Ee.parent;if(0===Z.length)return yr(Ee,Ee,Ee,L,te);const mt=function Wi(W){if("string"==typeof W[0]&&1===W.length&&"/"===W[0])return new wr(!0,0,W);let Z=0,L=!1;const te=W.reduce((Ee,mt,st)=>{if("object"==typeof mt&&null!=mt){if(mt.outlets){const En={};return Object.entries(mt.outlets).forEach(([ni,dr])=>{En[ni]="string"==typeof dr?dr.split("/"):dr}),[...Ee,{outlets:En}]}if(mt.segmentPath)return[...Ee,mt.segmentPath]}return"string"!=typeof mt?[...Ee,mt]:0===st?(mt.split("/").forEach((En,ni)=>{0==ni&&"."===En||(0==ni&&""===En?L=!0:".."===En?Z++:""!=En&&Ee.push(En))}),Ee):[...Ee,mt]},[]);return new wr(L,Z,te)}(Z);if(mt.toRoot())return yr(Ee,Ee,new tr([],{}),L,te);const st=function Hr(W,Z,L){if(W.isAbsolute)return new mr(Z,!0,0);if(!L)return new mr(Z,!1,NaN);if(null===L.parent)return new mr(L,!0,0);const te=$i(W.commands[0])?0:1;return function ur(W,Z,L){let te=W,Ee=Z,mt=L;for(;mt>Ee;){if(mt-=Ee,te=te.parent,!te)throw new c.vHH(4005,!1);Ee=te.segments.length}return new mr(te,!1,Ee-mt)}(L,L.segments.length-1+te,W.numberOfDoubleDots)}(mt,Ee,W),En=st.processChildren?ws(st.segmentGroup,st.index,mt.commands):$s(st.segmentGroup,st.index,mt.commands);return yr(Ee,st.segmentGroup,En,L,te)}function $i(W){return"object"==typeof W&&null!=W&&!W.outlets&&!W.segmentPath}function Sr(W){return"object"==typeof W&&null!=W&&W.outlets}function yr(W,Z,L,te,Ee){let st,mt={};te&&Object.entries(te).forEach(([ni,dr])=>{mt[ni]=Array.isArray(dr)?dr.map(fs=>`${fs}`):`${dr}`}),st=W===Z?L:Ki(W,Z,L);const En=In(Ut(st));return new ns(En,mt,Ee)}function Ki(W,Z,L){const te={};return Object.entries(W.children).forEach(([Ee,mt])=>{te[Ee]=mt===Z?L:Ki(mt,Z,L)}),new tr(W.segments,te)}class wr{constructor(Z,L,te){if(this.isAbsolute=Z,this.numberOfDoubleDots=L,this.commands=te,Z&&te.length>0&&$i(te[0]))throw new c.vHH(4003,!1);const Ee=te.find(Sr);if(Ee&&Ee!==Ar(te))throw new c.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class mr{constructor(Z,L,te){this.segmentGroup=Z,this.processChildren=L,this.index=te}}function $s(W,Z,L){if(W||(W=new tr([],{})),0===W.segments.length&&W.hasChildren())return ws(W,Z,L);const te=function Es(W,Z,L){let te=0,Ee=Z;const mt={match:!1,pathIndex:0,commandIndex:0};for(;Ee<W.segments.length;){if(te>=L.length)return mt;const st=W.segments[Ee],En=L[te];if(Sr(En))break;const ni=`${En}`,dr=te<L.length-1?L[te+1]:null;if(Ee>0&&void 0===ni)break;if(ni&&dr&&"object"==typeof dr&&void 0===dr.outlets){if(!ho(ni,dr,st))return mt;te+=2}else{if(!ho(ni,{},st))return mt;te++}Ee++}return{match:!0,pathIndex:Ee,commandIndex:te}}(W,Z,L),Ee=L.slice(te.commandIndex);if(te.match&&te.pathIndex<W.segments.length){const mt=new tr(W.segments.slice(0,te.pathIndex),{});return mt.children[Xn]=new tr(W.segments.slice(te.pathIndex),W.children),ws(mt,0,Ee)}return te.match&&0===Ee.length?new tr(W.segments,{}):te.match&&!W.hasChildren()?uo(W,Z,L):te.match?ws(W,0,Ee):uo(W,Z,L)}function ws(W,Z,L){if(0===L.length)return new tr(W.segments,{});{const te=function rs(W){return Sr(W[0])?W[0].outlets:{[Xn]:W}}(L),Ee={};if(!te[Xn]&&W.children[Xn]&&1===W.numberOfChildren&&0===W.children[Xn].segments.length){const mt=ws(W.children[Xn],Z,L);return new tr(W.segments,mt.children)}return Object.entries(te).forEach(([mt,st])=>{"string"==typeof st&&(st=[st]),null!==st&&(Ee[mt]=$s(W.children[mt],Z,st))}),Object.entries(W.children).forEach(([mt,st])=>{void 0===te[mt]&&(Ee[mt]=st)}),new tr(W.segments,Ee)}}function uo(W,Z,L){const te=W.segments.slice(0,Z);let Ee=0;for(;Ee<L.length;){const mt=L[Ee];if(Sr(mt)){const ni=Eo(mt.outlets);return new tr(te,ni)}if(0===Ee&&$i(L[0])){te.push(new Hi(W.segments[Z].path,Zs(L[0]))),Ee++;continue}const st=Sr(mt)?mt.outlets[Xn]:`${mt}`,En=Ee<L.length-1?L[Ee+1]:null;st&&En&&$i(En)?(te.push(new Hi(st,Zs(En))),Ee+=2):(te.push(new Hi(st,{})),Ee++)}return new tr(te,{})}function Eo(W){const Z={};return Object.entries(W).forEach(([L,te])=>{"string"==typeof te&&(te=[te]),null!==te&&(Z[L]=uo(new tr([],{}),0,te))}),Z}function Zs(W){const Z={};return Object.entries(W).forEach(([L,te])=>Z[L]=`${te}`),Z}function ho(W,Z,L){return W==L.path&&ii(Z,L.parameters)}const fe="imperative";class Ce{constructor(Z,L){this.id=Z,this.url=L}}class He extends Ce{constructor(Z,L,te="imperative",Ee=null){super(Z,L),this.type=0,this.navigationTrigger=te,this.restoredState=Ee}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Me extends Ce{constructor(Z,L,te){super(Z,L),this.urlAfterRedirects=te,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class he extends Ce{constructor(Z,L,te,Ee){super(Z,L),this.reason=te,this.code=Ee,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Ae extends Ce{constructor(Z,L,te,Ee){super(Z,L),this.reason=te,this.code=Ee,this.type=16}}class St extends Ce{constructor(Z,L,te,Ee){super(Z,L),this.error=te,this.target=Ee,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Kt extends Ce{constructor(Z,L,te,Ee){super(Z,L),this.urlAfterRedirects=te,this.state=Ee,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class mn extends Ce{constructor(Z,L,te,Ee){super(Z,L),this.urlAfterRedirects=te,this.state=Ee,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Mn extends Ce{constructor(Z,L,te,Ee,mt){super(Z,L),this.urlAfterRedirects=te,this.state=Ee,this.shouldActivate=mt,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class yi extends Ce{constructor(Z,L,te,Ee){super(Z,L),this.urlAfterRedirects=te,this.state=Ee,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class bi extends Ce{constructor(Z,L,te,Ee){super(Z,L),this.urlAfterRedirects=te,this.state=Ee,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Cr{constructor(Z){this.route=Z,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class $r{constructor(Z){this.route=Z,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Xs{constructor(Z){this.snapshot=Z,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ks{constructor(Z){this.snapshot=Z,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class vs{constructor(Z){this.snapshot=Z,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class hr{constructor(Z){this.snapshot=Z,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ri{constructor(Z,L,te){this.routerEvent=Z,this.position=L,this.anchor=te,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class _r{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new So,this.attachRef=null}}let So=(()=>{class W{constructor(){this.contexts=new Map}onChildOutletCreated(L,te){const Ee=this.getOrCreateContext(L);Ee.outlet=te,this.contexts.set(L,Ee)}onChildOutletDestroyed(L){const te=this.getContext(L);te&&(te.outlet=null,te.attachRef=null)}onOutletDeactivated(){const L=this.contexts;return this.contexts=new Map,L}onOutletReAttached(L){this.contexts=L}getOrCreateContext(L){let te=this.getContext(L);return te||(te=new _r,this.contexts.set(L,te)),te}getContext(L){return this.contexts.get(L)||null}}return W.\u0275fac=function(L){return new(L||W)},W.\u0275prov=c.Yz7({token:W,factory:W.\u0275fac,providedIn:"root"}),W})();class Do{constructor(Z){this._root=Z}get root(){return this._root.value}parent(Z){const L=this.pathFromRoot(Z);return L.length>1?L[L.length-2]:null}children(Z){const L=js(Z,this._root);return L?L.children.map(te=>te.value):[]}firstChild(Z){const L=js(Z,this._root);return L&&L.children.length>0?L.children[0].value:null}siblings(Z){const L=Qo(Z,this._root);return L.length<2?[]:L[L.length-2].children.map(Ee=>Ee.value).filter(Ee=>Ee!==Z)}pathFromRoot(Z){return Qo(Z,this._root).map(L=>L.value)}}function js(W,Z){if(W===Z.value)return Z;for(const L of Z.children){const te=js(W,L);if(te)return te}return null}function Qo(W,Z){if(W===Z.value)return[Z];for(const L of Z.children){const te=Qo(W,L);if(te.length)return te.unshift(Z),te}return[]}class Vr{constructor(Z,L){this.value=Z,this.children=L}toString(){return`TreeNode(${this.value})`}}function Mr(W){const Z={};return W&&W.children.forEach(L=>Z[L.value.outlet]=L),Z}class Cs extends Do{constructor(Z,L){super(Z),this.snapshot=L,vo(this,Z)}toString(){return this.snapshot.toString()}}function Nr(W,Z){const L=function Ao(W,Z){const st=new zo([],{},{},"",{},Xn,Z,null,{});return new Jo("",new Vr(st,[]))}(0,Z),te=new be.X([new Hi("",{})]),Ee=new be.X({}),mt=new be.X({}),st=new be.X({}),En=new be.X(""),ni=new Gs(te,Ee,st,En,mt,Xn,Z,L.root);return ni.snapshot=L.root,new Cs(new Vr(ni,[]),L)}class Gs{constructor(Z,L,te,Ee,mt,st,En,ni){var dr,fs;this.urlSubject=Z,this.paramsSubject=L,this.queryParamsSubject=te,this.fragmentSubject=Ee,this.dataSubject=mt,this.outlet=st,this.component=En,this._futureSnapshot=ni,this.title=null!==(dr=null===(fs=this.dataSubject)||void 0===fs?void 0:fs.pipe((0,ct.U)(Fr=>Fr[Ai])))&&void 0!==dr?dr:(0,Ye.of)(void 0),this.url=Z,this.params=L,this.queryParams=te,this.fragment=Ee,this.data=mt}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,ct.U)(Z=>rr(Z)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,ct.U)(Z=>rr(Z)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function as(W,Z="emptyOnly"){const L=W.pathFromRoot;let te=0;if("always"!==Z)for(te=L.length-1;te>=1;){const Ee=L[te],mt=L[te-1];if(Ee.routeConfig&&""===Ee.routeConfig.path)te--;else{if(mt.component)break;te--}}return function Vs(W){return W.reduce((Z,L)=>{var te;return{params:{...Z.params,...L.params},data:{...Z.data,...L.data},resolve:{...L.data,...Z.resolve,...null===(te=L.routeConfig)||void 0===te?void 0:te.data,...L._resolvedData}}},{params:{},data:{},resolve:{}})}(L.slice(te))}class zo{get title(){var Z;return null===(Z=this.data)||void 0===Z?void 0:Z[Ai]}constructor(Z,L,te,Ee,mt,st,En,ni,dr){this.url=Z,this.params=L,this.queryParams=te,this.fragment=Ee,this.data=mt,this.outlet=st,this.component=En,this.routeConfig=ni,this._resolve=dr}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=rr(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=rr(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(te=>te.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Jo extends Do{constructor(Z,L){super(L),this.url=Z,vo(this,L)}toString(){return ea(this._root)}}function vo(W,Z){Z.value._routerState=W,Z.children.forEach(L=>vo(W,L))}function ea(W){const Z=W.children.length>0?` { ${W.children.map(ea).join(", ")} } `:"";return`${W.value}${Z}`}function ia(W){if(W.snapshot){const Z=W.snapshot,L=W._futureSnapshot;W.snapshot=L,ii(Z.queryParams,L.queryParams)||W.queryParamsSubject.next(L.queryParams),Z.fragment!==L.fragment&&W.fragmentSubject.next(L.fragment),ii(Z.params,L.params)||W.paramsSubject.next(L.params),function Ui(W,Z){if(W.length!==Z.length)return!1;for(let L=0;L<W.length;++L)if(!ii(W[L],Z[L]))return!1;return!0}(Z.url,L.url)||W.urlSubject.next(L.url),ii(Z.data,L.data)||W.dataSubject.next(L.data)}else W.snapshot=W._futureSnapshot,W.dataSubject.next(W._futureSnapshot.data)}function ra(W,Z){const L=ii(W.params,Z.params)&&function is(W,Z){return nr(W,Z)&&W.every((L,te)=>ii(L.parameters,Z[te].parameters))}(W.url,Z.url);return L&&!(!W.parent!=!Z.parent)&&(!W.parent||ra(W.parent,Z.parent))}let xo=(()=>{class W{constructor(){this.activated=null,this._activatedRoute=null,this.name=Xn,this.activateEvents=new c.vpe,this.deactivateEvents=new c.vpe,this.attachEvents=new c.vpe,this.detachEvents=new c.vpe,this.parentContexts=(0,c.f3M)(So),this.location=(0,c.f3M)(c.s_b),this.changeDetector=(0,c.f3M)(c.sBO),this.environmentInjector=(0,c.f3M)(c.lqb),this.inputBinder=(0,c.f3M)(Mo,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(L){if(L.name){const{firstChange:te,previousValue:Ee}=L.name;if(te)return;this.isTrackedInParentContexts(Ee)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(Ee)),this.initializeOutletWithName()}}ngOnDestroy(){var L;this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),null===(L=this.inputBinder)||void 0===L||L.unsubscribeFromRouteData(this)}isTrackedInParentContexts(L){var te;return(null===(te=this.parentContexts.getContext(L))||void 0===te?void 0:te.outlet)===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const L=this.parentContexts.getContext(this.name);null!=L&&L.route&&(L.attachRef?this.attach(L.attachRef,L.route):this.activateWith(L.route,L.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new c.vHH(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new c.vHH(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new c.vHH(4012,!1);this.location.detach();const L=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(L.instance),L}attach(L,te){var Ee;this.activated=L,this._activatedRoute=te,this.location.insert(L.hostView),null===(Ee=this.inputBinder)||void 0===Ee||Ee.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(L.instance)}deactivate(){if(this.activated){const L=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(L)}}activateWith(L,te){var Ee;if(this.isActivated)throw new c.vHH(4013,!1);this._activatedRoute=L;const mt=this.location,En=L.snapshot.component,ni=this.parentContexts.getOrCreateContext(this.name).children,dr=new Fa(L,ni,mt.injector);this.activated=mt.createComponent(En,{index:mt.length,injector:dr,environmentInjector:null!=te?te:this.environmentInjector}),this.changeDetector.markForCheck(),null===(Ee=this.inputBinder)||void 0===Ee||Ee.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}}return W.\u0275fac=function(L){return new(L||W)},W.\u0275dir=c.lG2({type:W,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[c.TTD]}),W})();class Fa{constructor(Z,L,te){this.route=Z,this.childContexts=L,this.parent=te}get(Z,L){return Z===Gs?this.route:Z===So?this.childContexts:this.parent.get(Z,L)}}const Mo=new c.OlP("");let _s=(()=>{class W{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(L){this.unsubscribeFromRouteData(L),this.subscribeToRouteData(L)}unsubscribeFromRouteData(L){var te;null===(te=this.outletDataSubscriptions.get(L))||void 0===te||te.unsubscribe(),this.outletDataSubscriptions.delete(L)}subscribeToRouteData(L){const{activatedRoute:te}=L,Ee=At([te.queryParams,te.params,te.data]).pipe((0,et.w)(([mt,st,En],ni)=>(En={...mt,...st,...En},0===ni?(0,Ye.of)(En):Promise.resolve(En)))).subscribe(mt=>{if(!L.isActivated||!L.activatedComponentRef||L.activatedRoute!==te||null===te.component)return void this.unsubscribeFromRouteData(L);const st=(0,c.qFp)(te.component);if(st)for(const{templateName:En}of st.inputs)L.activatedComponentRef.setInput(En,mt[En]);else this.unsubscribeFromRouteData(L)});this.outletDataSubscriptions.set(L,Ee)}}return W.\u0275fac=function(L){return new(L||W)},W.\u0275prov=c.Yz7({token:W,factory:W.\u0275fac}),W})();function Co(W,Z,L){if(L&&W.shouldReuseRoute(Z.value,L.value.snapshot)){const te=L.value;te._futureSnapshot=Z.value;const Ee=function ms(W,Z,L){return Z.children.map(te=>{for(const Ee of L.children)if(W.shouldReuseRoute(te.value,Ee.value.snapshot))return Co(W,te,Ee);return Co(W,te)})}(W,Z,L);return new Vr(te,Ee)}{if(W.shouldAttach(Z.value)){const mt=W.retrieve(Z.value);if(null!==mt){const st=mt.route;return st.value._futureSnapshot=Z.value,st.children=Z.children.map(En=>Co(W,En)),st}}const te=function no(W){return new Gs(new be.X(W.url),new be.X(W.params),new be.X(W.queryParams),new be.X(W.fragment),new be.X(W.data),W.outlet,W.component,W)}(Z.value),Ee=Z.children.map(mt=>Co(W,mt));return new Vr(te,Ee)}}const No="ngNavigationCancelingError";function ta(W,Z){const{redirectTo:L,navigationBehaviorOptions:te}=hn(Z)?{redirectTo:Z,navigationBehaviorOptions:void 0}:Z,Ee=Po(!1,0,Z);return Ee.url=L,Ee.navigationBehaviorOptions=te,Ee}function Po(W,Z,L){const te=new Error("NavigationCancelingError: "+(W||""));return te[No]=!0,te.cancellationCode=Z,L&&(te.url=L),te}function fo(W){return jo(W)&&hn(W.url)}function jo(W){return W&&W[No]}let Lo=(()=>{class W{}return W.\u0275fac=function(L){return new(L||W)},W.\u0275cmp=c.Xpm({type:W,selectors:[["ng-component"]],standalone:!0,features:[c.jDz],decls:1,vars:0,template:function(L,te){1&L&&c._UZ(0,"router-outlet")},dependencies:[xo],encapsulation:2}),W})();function oi(W){const Z=W.children&&W.children.map(oi),L=Z?{...W,children:Z}:{...W};return!L.component&&!L.loadComponent&&(Z||L.loadChildren)&&L.outlet&&L.outlet!==Xn&&(L.component=Lo),L}function Yi(W){return W.outlet||Xn}function cs(W){var Z;if(!W)return null;if(null!==(Z=W.routeConfig)&&void 0!==Z&&Z._injector)return W.routeConfig._injector;for(let L=W.parent;L;L=L.parent){const te=L.routeConfig;if(null!=te&&te._loadedInjector)return te._loadedInjector;if(null!=te&&te._injector)return te._injector}return null}class wa{constructor(Z,L,te,Ee,mt){this.routeReuseStrategy=Z,this.futureState=L,this.currState=te,this.forwardEvent=Ee,this.inputBindingEnabled=mt}activate(Z){const L=this.futureState._root,te=this.currState?this.currState._root:null;this.deactivateChildRoutes(L,te,Z),ia(this.futureState.root),this.activateChildRoutes(L,te,Z)}deactivateChildRoutes(Z,L,te){const Ee=Mr(L);Z.children.forEach(mt=>{const st=mt.value.outlet;this.deactivateRoutes(mt,Ee[st],te),delete Ee[st]}),Object.values(Ee).forEach(mt=>{this.deactivateRouteAndItsChildren(mt,te)})}deactivateRoutes(Z,L,te){const Ee=Z.value,mt=L?L.value:null;if(Ee===mt)if(Ee.component){const st=te.getContext(Ee.outlet);st&&this.deactivateChildRoutes(Z,L,st.children)}else this.deactivateChildRoutes(Z,L,te);else mt&&this.deactivateRouteAndItsChildren(L,te)}deactivateRouteAndItsChildren(Z,L){Z.value.component&&this.routeReuseStrategy.shouldDetach(Z.value.snapshot)?this.detachAndStoreRouteSubtree(Z,L):this.deactivateRouteAndOutlet(Z,L)}detachAndStoreRouteSubtree(Z,L){const te=L.getContext(Z.value.outlet),Ee=te&&Z.value.component?te.children:L,mt=Mr(Z);for(const st of Object.keys(mt))this.deactivateRouteAndItsChildren(mt[st],Ee);if(te&&te.outlet){const st=te.outlet.detach(),En=te.children.onOutletDeactivated();this.routeReuseStrategy.store(Z.value.snapshot,{componentRef:st,route:Z,contexts:En})}}deactivateRouteAndOutlet(Z,L){const te=L.getContext(Z.value.outlet),Ee=te&&Z.value.component?te.children:L,mt=Mr(Z);for(const st of Object.keys(mt))this.deactivateRouteAndItsChildren(mt[st],Ee);te&&(te.outlet&&(te.outlet.deactivate(),te.children.onOutletDeactivated()),te.attachRef=null,te.route=null)}activateChildRoutes(Z,L,te){const Ee=Mr(L);Z.children.forEach(mt=>{this.activateRoutes(mt,Ee[mt.value.outlet],te),this.forwardEvent(new hr(mt.value.snapshot))}),Z.children.length&&this.forwardEvent(new Ks(Z.value.snapshot))}activateRoutes(Z,L,te){const Ee=Z.value,mt=L?L.value:null;if(ia(Ee),Ee===mt)if(Ee.component){const st=te.getOrCreateContext(Ee.outlet);this.activateChildRoutes(Z,L,st.children)}else this.activateChildRoutes(Z,L,te);else if(Ee.component){const st=te.getOrCreateContext(Ee.outlet);if(this.routeReuseStrategy.shouldAttach(Ee.snapshot)){const En=this.routeReuseStrategy.retrieve(Ee.snapshot);this.routeReuseStrategy.store(Ee.snapshot,null),st.children.onOutletReAttached(En.contexts),st.attachRef=En.componentRef,st.route=En.route.value,st.outlet&&st.outlet.attach(En.componentRef,En.route.value),ia(En.route.value),this.activateChildRoutes(Z,null,st.children)}else{const En=cs(Ee.snapshot);st.attachRef=null,st.route=Ee,st.injector=En,st.outlet&&st.outlet.activateWith(Ee,st.injector),this.activateChildRoutes(Z,null,st.children)}}else this.activateChildRoutes(Z,null,te)}}class Bs{constructor(Z){this.path=Z,this.route=this.path[this.path.length-1]}}class Fo{constructor(Z,L){this.component=Z,this.route=L}}function Ra(W,Z,L){const te=W._root;return da(te,Z?Z._root:null,L,[te.value])}function Hs(W,Z){const L=Symbol(),te=Z.get(W,L);return te===L?"function"!=typeof W||(0,c.Z0I)(W)?Z.get(W):W:te}function da(W,Z,L,te,Ee={canDeactivateChecks:[],canActivateChecks:[]}){const mt=Mr(Z);return W.children.forEach(st=>{(function ys(W,Z,L,te,Ee={canDeactivateChecks:[],canActivateChecks:[]}){const mt=W.value,st=Z?Z.value:null,En=L?L.getContext(W.value.outlet):null;if(st&&mt.routeConfig===st.routeConfig){const ni=function ya(W,Z,L){if("function"==typeof L)return L(W,Z);switch(L){case"pathParamsChange":return!nr(W.url,Z.url);case"pathParamsOrQueryParamsChange":return!nr(W.url,Z.url)||!ii(W.queryParams,Z.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!ra(W,Z)||!ii(W.queryParams,Z.queryParams);default:return!ra(W,Z)}}(st,mt,mt.routeConfig.runGuardsAndResolvers);ni?Ee.canActivateChecks.push(new Bs(te)):(mt.data=st.data,mt._resolvedData=st._resolvedData),da(W,Z,mt.component?En?En.children:null:L,te,Ee),ni&&En&&En.outlet&&En.outlet.isActivated&&Ee.canDeactivateChecks.push(new Fo(En.outlet.component,st))}else st&&Uo(Z,En,Ee),Ee.canActivateChecks.push(new Bs(te)),da(W,null,mt.component?En?En.children:null:L,te,Ee)})(st,mt[st.value.outlet],L,te.concat([st.value]),Ee),delete mt[st.value.outlet]}),Object.entries(mt).forEach(([st,En])=>Uo(En,L.getContext(st),Ee)),Ee}function Uo(W,Z,L){const te=Mr(W),Ee=W.value;Object.entries(te).forEach(([mt,st])=>{Uo(st,Ee.component?Z?Z.children.getContext(mt):null:Z,L)}),L.canDeactivateChecks.push(new Fo(Ee.component&&Z&&Z.outlet&&Z.outlet.isActivated?Z.outlet.component:null,Ee))}function Na(W){return"function"==typeof W}function V(W){return W instanceof Ze.K||"EmptyError"===(null==W?void 0:W.name)}const Ie=Symbol("INITIAL_VALUE");function Rt(){return(0,et.w)(W=>At(W.map(Z=>Z.pipe((0,wt.q)(1),(0,Ot.O)(Ie)))).pipe((0,ct.U)(Z=>{for(const L of Z)if(!0!==L){if(L===Ie)return Ie;if(!1===L||L instanceof ns)return L}return!0}),(0,ft.h)(Z=>Z!==Ie),(0,wt.q)(1)))}function Ro(W){return(0,zt.z)((0,qt.b)(Z=>{if(hn(Z))throw ta(0,Z)}),(0,ct.U)(Z=>!0===Z))}class Io{constructor(Z){this.segmentGroup=Z||null}}class hs{constructor(Z){this.urlTree=Z}}function lo(W){return Jt(new Io(W))}function Wo(W){return Jt(new hs(W))}class ja{constructor(Z,L){this.urlSerializer=Z,this.urlTree=L}noMatchError(Z){return new c.vHH(4002,!1)}lineralizeSegments(Z,L){let te=[],Ee=L.root;for(;;){if(te=te.concat(Ee.segments),0===Ee.numberOfChildren)return(0,Ye.of)(te);if(Ee.numberOfChildren>1||!Ee.children[Xn])return Jt(new c.vHH(4e3,!1));Ee=Ee.children[Xn]}}applyRedirectCommands(Z,L,te){return this.applyRedirectCreateUrlTree(L,this.urlSerializer.parse(L),Z,te)}applyRedirectCreateUrlTree(Z,L,te,Ee){const mt=this.createSegmentGroup(Z,L.root,te,Ee);return new ns(mt,this.createQueryParams(L.queryParams,this.urlTree.queryParams),L.fragment)}createQueryParams(Z,L){const te={};return Object.entries(Z).forEach(([Ee,mt])=>{if("string"==typeof mt&&mt.startsWith(":")){const En=mt.substring(1);te[Ee]=L[En]}else te[Ee]=mt}),te}createSegmentGroup(Z,L,te,Ee){const mt=this.createSegments(Z,L.segments,te,Ee);let st={};return Object.entries(L.children).forEach(([En,ni])=>{st[En]=this.createSegmentGroup(Z,ni,te,Ee)}),new tr(mt,st)}createSegments(Z,L,te,Ee){return L.map(mt=>mt.path.startsWith(":")?this.findPosParam(Z,mt,Ee):this.findOrReturn(mt,te))}findPosParam(Z,L,te){const Ee=te[L.path.substring(1)];if(!Ee)throw new c.vHH(4001,!1);return Ee}findOrReturn(Z,L){let te=0;for(const Ee of L){if(Ee.path===Z.path)return L.splice(te),Ee;te++}return Z}}const Oa={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function cl(W,Z,L,te,Ee){const mt=Za(W,Z,L);return mt.matched?(te=function bs(W,Z){var L;return W.providers&&!W._injector&&(W._injector=(0,c.MMx)(W.providers,Z,`Route: ${W.path}`)),null!==(L=W._injector)&&void 0!==L?L:Z}(Z,te),function po(W,Z,L,te){const Ee=Z.canMatch;if(!Ee||0===Ee.length)return(0,Ye.of)(!0);const mt=Ee.map(st=>{const En=Hs(st,W);return Li(function H(W){return W&&Na(W.canMatch)}(En)?En.canMatch(Z,L):W.runInContext(()=>En(Z,L)))});return(0,Ye.of)(mt).pipe(Rt(),Ro())}(te,Z,L).pipe((0,ct.U)(st=>!0===st?mt:{...Oa}))):(0,Ye.of)(mt)}function Za(W,Z,L){var te,Ee;if(""===Z.path)return"full"===Z.pathMatch&&(W.hasChildren()||L.length>0)?{...Oa}:{matched:!0,consumedSegments:[],remainingSegments:L,parameters:{},positionalParamSegments:{}};const st=(Z.matcher||fr)(L,W,Z);if(!st)return{...Oa};const En={};Object.entries(null!==(te=st.posParams)&&void 0!==te?te:{}).forEach(([dr,fs])=>{En[dr]=fs.path});const ni=st.consumed.length>0?{...En,...st.consumed[st.consumed.length-1].parameters}:En;return{matched:!0,consumedSegments:st.consumed,remainingSegments:L.slice(st.consumed.length),parameters:ni,positionalParamSegments:null!==(Ee=st.posParams)&&void 0!==Ee?Ee:{}}}function Ea(W,Z,L,te){return L.length>0&&function na(W,Z,L){return L.some(te=>Bo(W,Z,te)&&Yi(te)!==Xn)}(W,L,te)?{segmentGroup:new tr(Z,so(te,new tr(L,W.children))),slicedSegments:[]}:0===L.length&&function nl(W,Z,L){return L.some(te=>Bo(W,Z,te))}(W,L,te)?{segmentGroup:new tr(W.segments,Xa(W,0,L,te,W.children)),slicedSegments:L}:{segmentGroup:new tr(W.segments,W.children),slicedSegments:L}}function Xa(W,Z,L,te,Ee){const mt={};for(const st of te)if(Bo(W,L,st)&&!Ee[Yi(st)]){const En=new tr([],{});mt[Yi(st)]=En}return{...Ee,...mt}}function so(W,Z){const L={};L[Xn]=Z;for(const te of W)if(""===te.path&&Yi(te)!==Xn){const Ee=new tr([],{});L[Yi(te)]=Ee}return L}function Bo(W,Z,L){return(!(W.hasChildren()||Z.length>0)||"full"!==L.pathMatch)&&""===L.path}class pe{constructor(Z,L,te,Ee,mt,st,En){this.injector=Z,this.configLoader=L,this.rootComponentType=te,this.config=Ee,this.urlTree=mt,this.paramsInheritanceStrategy=st,this.urlSerializer=En,this.allowRedirects=!0,this.applyRedirects=new ja(this.urlSerializer,this.urlTree)}noMatchError(Z){return new c.vHH(4002,!1)}recognize(){const Z=Ea(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,Z,Xn).pipe(xn(L=>{if(L instanceof hs)return this.allowRedirects=!1,this.urlTree=L.urlTree,this.match(L.urlTree);throw L instanceof Io?this.noMatchError(L):L}),(0,ct.U)(L=>{const te=new zo([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Xn,this.rootComponentType,null,{}),Ee=new Vr(te,L),mt=new Jo("",Ee),st=function Yn(W,Z,L=null,te=null){return ti(Kn(W),Z,L,te)}(te,[],this.urlTree.queryParams,this.urlTree.fragment);return st.queryParams=this.urlTree.queryParams,mt.url=this.urlSerializer.serialize(st),this.inheritParamsAndData(mt._root),{state:mt,tree:st}}))}match(Z){return this.processSegmentGroup(this.injector,this.config,Z.root,Xn).pipe(xn(te=>{throw te instanceof Io?this.noMatchError(te):te}))}inheritParamsAndData(Z){const L=Z.value,te=as(L,this.paramsInheritanceStrategy);L.params=Object.freeze(te.params),L.data=Object.freeze(te.data),Z.children.forEach(Ee=>this.inheritParamsAndData(Ee))}processSegmentGroup(Z,L,te,Ee){return 0===te.segments.length&&te.hasChildren()?this.processChildren(Z,L,te):this.processSegment(Z,L,te,te.segments,Ee,!0)}processChildren(Z,L,te){const Ee=[];for(const mt of Object.keys(te.children))"primary"===mt?Ee.unshift(mt):Ee.push(mt);return(0,dt.D)(Ee).pipe(vn(mt=>{const st=te.children[mt],En=function Tr(W,Z){const L=W.filter(te=>Yi(te)===Z);return L.push(...W.filter(te=>Yi(te)!==Z)),L}(L,mt);return this.processSegmentGroup(Z,En,st,mt)}),(0,Gt.R)((mt,st)=>(mt.push(...st),mt)),(0,li.d)(null),function On(W,Z){const L=arguments.length>=2;return te=>te.pipe(W?(0,ft.h)((Ee,mt)=>W(Ee,mt,te)):Ke.y,Dn(1),L?(0,li.d)(Z):(0,Nt.T)(()=>new Ze.K))}(),(0,Je.z)(mt=>{if(null===mt)return lo(te);const st=xt(mt);return function Fe(W){W.sort((Z,L)=>Z.value.outlet===Xn?-1:L.value.outlet===Xn?1:Z.value.outlet.localeCompare(L.value.outlet))}(st),(0,Ye.of)(st)}))}processSegment(Z,L,te,Ee,mt,st){return(0,dt.D)(L).pipe(vn(En=>{var ni;return this.processSegmentAgainstRoute(null!==(ni=En._injector)&&void 0!==ni?ni:Z,L,En,te,Ee,mt,st).pipe(xn(dr=>{if(dr instanceof Io)return(0,Ye.of)(null);throw dr}))}),(0,Et.P)(En=>!!En),xn(En=>{if(V(En))return function k(W,Z,L){return 0===Z.length&&!W.children[L]}(te,Ee,mt)?(0,Ye.of)([]):lo(te);throw En}))}processSegmentAgainstRoute(Z,L,te,Ee,mt,st,En){return function ul(W,Z,L,te){return!!(Yi(W)===te||te!==Xn&&Bo(Z,L,W))&&("**"===W.path||Za(Z,W,L).matched)}(te,Ee,mt,st)?void 0===te.redirectTo?this.matchSegmentAgainstRoute(Z,Ee,te,mt,st,En):En&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(Z,Ee,L,te,mt,st):lo(Ee):lo(Ee)}expandSegmentAgainstRouteUsingRedirect(Z,L,te,Ee,mt,st){return"**"===Ee.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(Z,te,Ee,st):this.expandRegularSegmentAgainstRouteUsingRedirect(Z,L,te,Ee,mt,st)}expandWildCardWithParamsAgainstRouteUsingRedirect(Z,L,te,Ee){const mt=this.applyRedirects.applyRedirectCommands([],te.redirectTo,{});return te.redirectTo.startsWith("/")?Wo(mt):this.applyRedirects.lineralizeSegments(te,mt).pipe((0,Je.z)(st=>{const En=new tr(st,{});return this.processSegment(Z,L,En,st,Ee,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(Z,L,te,Ee,mt,st){const{matched:En,consumedSegments:ni,remainingSegments:dr,positionalParamSegments:fs}=Za(L,Ee,mt);if(!En)return lo(L);const Fr=this.applyRedirects.applyRedirectCommands(ni,Ee.redirectTo,fs);return Ee.redirectTo.startsWith("/")?Wo(Fr):this.applyRedirects.lineralizeSegments(Ee,Fr).pipe((0,Je.z)(ca=>this.processSegment(Z,te,L,ca.concat(dr),st,!1)))}matchSegmentAgainstRoute(Z,L,te,Ee,mt,st){let En;if("**"===te.path){var ni,dr;const fs=Ee.length>0?Ar(Ee).parameters:{},Fr=new zo(Ee,fs,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,yn(te),Yi(te),null!==(ni=null!==(dr=te.component)&&void 0!==dr?dr:te._loadedComponent)&&void 0!==ni?ni:null,te,Pn(te));En=(0,Ye.of)({snapshot:Fr,consumedSegments:[],remainingSegments:[]}),L.children={}}else En=cl(L,te,Ee,Z).pipe((0,ct.U)(({matched:fs,consumedSegments:Fr,remainingSegments:ca,parameters:E})=>{var m,u;return fs?{snapshot:new zo(Fr,E,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,yn(te),Yi(te),null!==(m=null!==(u=te.component)&&void 0!==u?u:te._loadedComponent)&&void 0!==m?m:null,te,Pn(te)),consumedSegments:Fr,remainingSegments:ca}:null}));return En.pipe((0,et.w)(fs=>{var Fr;return null===fs?lo(L):(Z=null!==(Fr=te._injector)&&void 0!==Fr?Fr:Z,this.getChildConfig(Z,te,Ee).pipe((0,et.w)(({routes:ca})=>{var E;const m=null!==(E=te._loadedInjector)&&void 0!==E?E:Z,{snapshot:u,consumedSegments:g,remainingSegments:b}=fs,{segmentGroup:D,slicedSegments:R}=Ea(L,g,b,ca);if(0===R.length&&D.hasChildren())return this.processChildren(m,ca,D).pipe((0,ct.U)(q=>null===q?null:[new Vr(u,q)]));if(0===ca.length&&0===R.length)return(0,Ye.of)([new Vr(u,[])]);const j=Yi(te)===mt;return this.processSegment(m,ca,D,R,j?Xn:mt,!0).pipe((0,ct.U)(q=>[new Vr(u,q)]))})))}))}getChildConfig(Z,L,te){return L.children?(0,Ye.of)({routes:L.children,injector:Z}):L.loadChildren?void 0!==L._loadedRoutes?(0,Ye.of)({routes:L._loadedRoutes,injector:L._loadedInjector}):function Us(W,Z,L,te){const Ee=Z.canLoad;if(void 0===Ee||0===Ee.length)return(0,Ye.of)(!0);const mt=Ee.map(st=>{const En=Hs(st,W);return Li(function ha(W){return W&&Na(W.canLoad)}(En)?En.canLoad(Z,L):W.runInContext(()=>En(Z,L)))});return(0,Ye.of)(mt).pipe(Rt(),Ro())}(Z,L,te).pipe((0,Je.z)(Ee=>Ee?this.configLoader.loadChildren(Z,L).pipe((0,qt.b)(mt=>{L._loadedRoutes=mt.routes,L._loadedInjector=mt.injector})):function Go(W){return Jt(Po(!1,3))}())):(0,Ye.of)({routes:[],injector:Z})}}function it(W){const Z=W.value.routeConfig;return Z&&""===Z.path}function xt(W){const Z=[],L=new Set;for(const te of W){if(!it(te)){Z.push(te);continue}const Ee=Z.find(mt=>te.value.routeConfig===mt.value.routeConfig);void 0!==Ee?(Ee.children.push(...te.children),L.add(Ee)):Z.push(te)}for(const te of L){const Ee=xt(te.children);Z.push(new Vr(te.value,Ee))}return Z.filter(te=>!L.has(te))}function yn(W){return W.data||{}}function Pn(W){return W.resolve||{}}function ee(W){return"string"==typeof W.title||null===W.title}function ve(W){return(0,et.w)(Z=>{const L=W(Z);return L?(0,dt.D)(L).pipe((0,ct.U)(()=>Z)):(0,Ye.of)(Z)})}const ae=new c.OlP("ROUTES");let We=(()=>{class W{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,c.f3M)(c.Sil)}loadComponent(L){if(this.componentLoaders.get(L))return this.componentLoaders.get(L);if(L._loadedComponent)return(0,Ye.of)(L._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(L);const te=Li(L.loadComponent()).pipe((0,ct.U)(Fn),(0,qt.b)(mt=>{this.onLoadEndListener&&this.onLoadEndListener(L),L._loadedComponent=mt}),(0,Ti.x)(()=>{this.componentLoaders.delete(L)})),Ee=new Tt(te,()=>new tn.x).pipe(Vt());return this.componentLoaders.set(L,Ee),Ee}loadChildren(L,te){if(this.childrenLoaders.get(te))return this.childrenLoaders.get(te);if(te._loadedRoutes)return(0,Ye.of)({routes:te._loadedRoutes,injector:te._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(te);const mt=this.loadModuleFactoryOrRoutes(te.loadChildren).pipe((0,ct.U)(En=>{this.onLoadEndListener&&this.onLoadEndListener(te);let ni,dr;return Array.isArray(En)?dr=En:(ni=En.create(L).injector,dr=ni.get(ae,[],c.XFs.Self|c.XFs.Optional).flat()),{routes:dr.map(oi),injector:ni}}),(0,Ti.x)(()=>{this.childrenLoaders.delete(te)})),st=new Tt(mt,()=>new tn.x).pipe(Vt());return this.childrenLoaders.set(te,st),st}loadModuleFactoryOrRoutes(L){return Li(L()).pipe((0,ct.U)(Fn),(0,Je.z)(te=>te instanceof c.YKP||Array.isArray(te)?(0,Ye.of)(te):(0,dt.D)(this.compiler.compileModuleAsync(te))))}}return W.\u0275fac=function(L){return new(L||W)},W.\u0275prov=c.Yz7({token:W,factory:W.\u0275fac,providedIn:"root"}),W})();function Fn(W){return function Ft(W){return W&&"object"==typeof W&&"default"in W}(W)?W.default:W}let ai=(()=>{class W{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new tn.x,this.configLoader=(0,c.f3M)(We),this.environmentInjector=(0,c.f3M)(c.lqb),this.urlSerializer=(0,c.f3M)(Ge),this.rootContexts=(0,c.f3M)(So),this.inputBindingEnabled=null!==(0,c.f3M)(Mo,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,Ye.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=Ee=>this.events.next(new $r(Ee)),this.configLoader.onLoadStartListener=Ee=>this.events.next(new Cr(Ee))}complete(){var L;null===(L=this.transitions)||void 0===L||L.complete()}handleNavigationRequest(L){var te;const Ee=++this.navigationId;null===(te=this.transitions)||void 0===te||te.next({...this.transitions.value,...L,id:Ee})}setupNavigations(L){return this.transitions=new be.X({id:0,currentUrlTree:L.currentUrlTree,currentRawUrl:L.currentUrlTree,extractedUrl:L.urlHandlingStrategy.extract(L.currentUrlTree),urlAfterRedirects:L.urlHandlingStrategy.extract(L.currentUrlTree),rawUrl:L.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:fe,restoredState:null,currentSnapshot:L.routerState.snapshot,targetSnapshot:null,currentRouterState:L.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,ft.h)(te=>0!==te.id),(0,ct.U)(te=>({...te,extractedUrl:L.urlHandlingStrategy.extract(te.rawUrl)})),(0,et.w)(te=>{let Ee=!1,mt=!1;return(0,Ye.of)(te).pipe((0,qt.b)(st=>{this.currentNavigation={id:st.id,initialUrl:st.rawUrl,extractedUrl:st.extractedUrl,trigger:st.source,extras:st.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,et.w)(st=>{var En;const ni=L.browserUrlTree.toString(),dr=!L.navigated||st.extractedUrl.toString()!==ni||ni!==L.currentUrlTree.toString(),fs=null!==(En=st.extras.onSameUrlNavigation)&&void 0!==En?En:L.onSameUrlNavigation;if(!dr&&"reload"!==fs){const Fr="";return this.events.next(new Ae(st.id,L.serializeUrl(te.rawUrl),Fr,0)),L.rawUrlTree=st.rawUrl,st.resolve(null),Yt.E}if(L.urlHandlingStrategy.shouldProcessUrl(st.rawUrl))return Gr(st.source)&&(L.browserUrlTree=st.extractedUrl),(0,Ye.of)(st).pipe((0,et.w)(Fr=>{var ca,E;const m=null===(ca=this.transitions)||void 0===ca?void 0:ca.getValue();return this.events.next(new He(Fr.id,this.urlSerializer.serialize(Fr.extractedUrl),Fr.source,Fr.restoredState)),m!==(null===(E=this.transitions)||void 0===E?void 0:E.getValue())?Yt.E:Promise.resolve(Fr)}),function ui(W,Z,L,te,Ee,mt){return(0,Je.z)(st=>function ie(W,Z,L,te,Ee,mt,st="emptyOnly"){return new pe(W,Z,L,te,Ee,st,mt).recognize()}(W,Z,L,te,st.extractedUrl,Ee,mt).pipe((0,ct.U)(({state:En,tree:ni})=>({...st,targetSnapshot:En,urlAfterRedirects:ni}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,L.config,this.urlSerializer,L.paramsInheritanceStrategy),(0,qt.b)(Fr=>{if(te.targetSnapshot=Fr.targetSnapshot,te.urlAfterRedirects=Fr.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:Fr.urlAfterRedirects},"eager"===L.urlUpdateStrategy){if(!Fr.extras.skipLocationChange){const E=L.urlHandlingStrategy.merge(Fr.urlAfterRedirects,Fr.rawUrl);L.setBrowserUrl(E,Fr)}L.browserUrlTree=Fr.urlAfterRedirects}const ca=new Kt(Fr.id,this.urlSerializer.serialize(Fr.extractedUrl),this.urlSerializer.serialize(Fr.urlAfterRedirects),Fr.targetSnapshot);this.events.next(ca)}));if(dr&&L.urlHandlingStrategy.shouldProcessUrl(L.rawUrlTree)){const{id:Fr,extractedUrl:ca,source:E,restoredState:m,extras:u}=st,g=new He(Fr,this.urlSerializer.serialize(ca),E,m);this.events.next(g);const b=Nr(0,this.rootComponentType).snapshot;return te={...st,targetSnapshot:b,urlAfterRedirects:ca,extras:{...u,skipLocationChange:!1,replaceUrl:!1}},(0,Ye.of)(te)}{const Fr="";return this.events.next(new Ae(st.id,L.serializeUrl(te.extractedUrl),Fr,1)),L.rawUrlTree=st.rawUrl,st.resolve(null),Yt.E}}),(0,qt.b)(st=>{const En=new mn(st.id,this.urlSerializer.serialize(st.extractedUrl),this.urlSerializer.serialize(st.urlAfterRedirects),st.targetSnapshot);this.events.next(En)}),(0,ct.U)(st=>te={...st,guards:Ra(st.targetSnapshot,st.currentSnapshot,this.rootContexts)}),function gn(W,Z){return(0,Je.z)(L=>{const{targetSnapshot:te,currentSnapshot:Ee,guards:{canActivateChecks:mt,canDeactivateChecks:st}}=L;return 0===st.length&&0===mt.length?(0,Ye.of)({...L,guardsResult:!0}):function Nn(W,Z,L,te){return(0,dt.D)(W).pipe((0,Je.z)(Ee=>function Pr(W,Z,L,te,Ee){const mt=Z&&Z.routeConfig?Z.routeConfig.canDeactivate:null;if(!mt||0===mt.length)return(0,Ye.of)(!0);const st=mt.map(En=>{var ni;const dr=null!==(ni=cs(Z))&&void 0!==ni?ni:Ee,fs=Hs(En,dr);return Li(function _e(W){return W&&Na(W.canDeactivate)}(fs)?fs.canDeactivate(W,Z,L,te):dr.runInContext(()=>fs(W,Z,L,te))).pipe((0,Et.P)())});return(0,Ye.of)(st).pipe(Rt())}(Ee.component,Ee.route,L,Z,te)),(0,Et.P)(Ee=>!0!==Ee,!0))}(st,te,Ee,W).pipe((0,Je.z)(En=>En&&function Ps(W){return"boolean"==typeof W}(En)?function qn(W,Z,L,te){return(0,dt.D)(Z).pipe(vn(Ee=>(0,on.z)(function Wr(W,Z){return null!==W&&Z&&Z(new Xs(W)),(0,Ye.of)(!0)}(Ee.route.parent,te),function Ur(W,Z){return null!==W&&Z&&Z(new vs(W)),(0,Ye.of)(!0)}(Ee.route,te),function ss(W,Z,L){const te=Z[Z.length-1],mt=Z.slice(0,Z.length-1).reverse().map(st=>function la(W){const Z=W.routeConfig?W.routeConfig.canActivateChild:null;return Z&&0!==Z.length?{node:W,guards:Z}:null}(st)).filter(st=>null!==st).map(st=>bt(()=>{const En=st.guards.map(ni=>{var dr;const fs=null!==(dr=cs(st.node))&&void 0!==dr?dr:L,Fr=Hs(ni,fs);return Li(function Pe(W){return W&&Na(W.canActivateChild)}(Fr)?Fr.canActivateChild(te,W):fs.runInContext(()=>Fr(te,W))).pipe((0,Et.P)())});return(0,Ye.of)(En).pipe(Rt())}));return(0,Ye.of)(mt).pipe(Rt())}(W,Ee.path,L),function qr(W,Z,L){const te=Z.routeConfig?Z.routeConfig.canActivate:null;if(!te||0===te.length)return(0,Ye.of)(!0);const Ee=te.map(mt=>bt(()=>{var st;const En=null!==(st=cs(Z))&&void 0!==st?st:L,ni=Hs(mt,En);return Li(function tl(W){return W&&Na(W.canActivate)}(ni)?ni.canActivate(Z,W):En.runInContext(()=>ni(Z,W))).pipe((0,Et.P)())}));return(0,Ye.of)(Ee).pipe(Rt())}(W,Ee.route,L))),(0,Et.P)(Ee=>!0!==Ee,!0))}(te,mt,W,Z):(0,Ye.of)(En)),(0,ct.U)(En=>({...L,guardsResult:En})))})}(this.environmentInjector,st=>this.events.next(st)),(0,qt.b)(st=>{if(te.guardsResult=st.guardsResult,hn(st.guardsResult))throw ta(0,st.guardsResult);const En=new Mn(st.id,this.urlSerializer.serialize(st.extractedUrl),this.urlSerializer.serialize(st.urlAfterRedirects),st.targetSnapshot,!!st.guardsResult);this.events.next(En)}),(0,ft.h)(st=>!!st.guardsResult||(L.restoreHistory(st),this.cancelNavigationTransition(st,"",3),!1)),ve(st=>{if(st.guards.canActivateChecks.length)return(0,Ye.of)(st).pipe((0,qt.b)(En=>{const ni=new yi(En.id,this.urlSerializer.serialize(En.extractedUrl),this.urlSerializer.serialize(En.urlAfterRedirects),En.targetSnapshot);this.events.next(ni)}),(0,et.w)(En=>{let ni=!1;return(0,Ye.of)(En).pipe(function Fi(W,Z){return(0,Je.z)(L=>{const{targetSnapshot:te,guards:{canActivateChecks:Ee}}=L;if(!Ee.length)return(0,Ye.of)(L);let mt=0;return(0,dt.D)(Ee).pipe(vn(st=>function Lr(W,Z,L,te){const Ee=W.routeConfig,mt=W._resolve;return void 0!==(null==Ee?void 0:Ee.title)&&!ee(Ee)&&(mt[Ai]=Ee.title),function Rr(W,Z,L,te){const Ee=function Qs(W){return[...Object.keys(W),...Object.getOwnPropertySymbols(W)]}(W);if(0===Ee.length)return(0,Ye.of)({});const mt={};return(0,dt.D)(Ee).pipe((0,Je.z)(st=>function oo(W,Z,L,te){var Ee;const mt=null!==(Ee=cs(Z))&&void 0!==Ee?Ee:te,st=Hs(W,mt);return Li(st.resolve?st.resolve(Z,L):mt.runInContext(()=>st(Z,L)))}(W[st],Z,L,te).pipe((0,Et.P)(),(0,qt.b)(En=>{mt[st]=En}))),Dn(1),function Vn(W){return(0,ct.U)(()=>W)}(mt),xn(st=>V(st)?Yt.E:Jt(st)))}(mt,W,Z,te).pipe((0,ct.U)(st=>(W._resolvedData=st,W.data=as(W,L).resolve,Ee&&ee(Ee)&&(W.data[Ai]=Ee.title),null)))}(st.route,te,W,Z)),(0,qt.b)(()=>mt++),Dn(1),(0,Je.z)(st=>mt===Ee.length?(0,Ye.of)(L):Yt.E))})}(L.paramsInheritanceStrategy,this.environmentInjector),(0,qt.b)({next:()=>ni=!0,complete:()=>{ni||(L.restoreHistory(En),this.cancelNavigationTransition(En,"",2))}}))}),(0,qt.b)(En=>{const ni=new bi(En.id,this.urlSerializer.serialize(En.extractedUrl),this.urlSerializer.serialize(En.urlAfterRedirects),En.targetSnapshot);this.events.next(ni)}))}),ve(st=>{const En=ni=>{var dr;const fs=[];null!==(dr=ni.routeConfig)&&void 0!==dr&&dr.loadComponent&&!ni.routeConfig._loadedComponent&&fs.push(this.configLoader.loadComponent(ni.routeConfig).pipe((0,qt.b)(Fr=>{ni.component=Fr}),(0,ct.U)(()=>{})));for(const Fr of ni.children)fs.push(...En(Fr));return fs};return At(En(st.targetSnapshot.root)).pipe((0,li.d)(),(0,wt.q)(1))}),ve(()=>this.afterPreactivation()),(0,ct.U)(st=>{const En=function Pa(W,Z,L){const te=Co(W,Z._root,L?L._root:void 0);return new Cs(te,Z)}(L.routeReuseStrategy,st.targetSnapshot,st.currentRouterState);return te={...st,targetRouterState:En}}),(0,qt.b)(st=>{L.currentUrlTree=st.urlAfterRedirects,L.rawUrlTree=L.urlHandlingStrategy.merge(st.urlAfterRedirects,st.rawUrl),L.routerState=st.targetRouterState,"deferred"===L.urlUpdateStrategy&&(st.extras.skipLocationChange||L.setBrowserUrl(L.rawUrlTree,st),L.browserUrlTree=st.urlAfterRedirects)}),((W,Z,L,te)=>(0,ct.U)(Ee=>(new wa(Z,Ee.targetRouterState,Ee.currentRouterState,L,te).activate(W),Ee)))(this.rootContexts,L.routeReuseStrategy,st=>this.events.next(st),this.inputBindingEnabled),(0,wt.q)(1),(0,qt.b)({next:st=>{var En;Ee=!0,this.lastSuccessfulNavigation=this.currentNavigation,L.navigated=!0,this.events.next(new Me(st.id,this.urlSerializer.serialize(st.extractedUrl),this.urlSerializer.serialize(L.currentUrlTree))),null===(En=L.titleStrategy)||void 0===En||En.updateTitle(st.targetRouterState.snapshot),st.resolve(!0)},complete:()=>{Ee=!0}}),(0,Ti.x)(()=>{var st;Ee||mt||this.cancelNavigationTransition(te,"",1),(null===(st=this.currentNavigation)||void 0===st?void 0:st.id)===te.id&&(this.currentNavigation=null)}),xn(st=>{if(mt=!0,jo(st)){fo(st)||(L.navigated=!0,L.restoreHistory(te,!0));const ni=new he(te.id,this.urlSerializer.serialize(te.extractedUrl),st.message,st.cancellationCode);if(this.events.next(ni),fo(st)){const dr=L.urlHandlingStrategy.merge(st.url,L.rawUrlTree),fs={skipLocationChange:te.extras.skipLocationChange,replaceUrl:"eager"===L.urlUpdateStrategy||Gr(te.source)};L.scheduleNavigation(dr,fe,null,fs,{resolve:te.resolve,reject:te.reject,promise:te.promise})}else te.resolve(!1)}else{var En;L.restoreHistory(te,!0);const ni=new St(te.id,this.urlSerializer.serialize(te.extractedUrl),st,null!==(En=te.targetSnapshot)&&void 0!==En?En:void 0);this.events.next(ni);try{te.resolve(L.errorHandler(st))}catch(dr){te.reject(dr)}}return Yt.E}))}))}cancelNavigationTransition(L,te,Ee){const mt=new he(L.id,this.urlSerializer.serialize(L.extractedUrl),te,Ee);this.events.next(mt),L.resolve(!1)}}return W.\u0275fac=function(L){return new(L||W)},W.\u0275prov=c.Yz7({token:W,factory:W.\u0275fac,providedIn:"root"}),W})();function Gr(W){return W!==fe}let Xi=(()=>{class W{buildTitle(L){let te,Ee=L.root;for(;void 0!==Ee;){var mt;te=null!==(mt=this.getResolvedTitleForRoute(Ee))&&void 0!==mt?mt:te,Ee=Ee.children.find(st=>st.outlet===Xn)}return te}getResolvedTitleForRoute(L){return L.data[Ai]}}return W.\u0275fac=function(L){return new(L||W)},W.\u0275prov=c.Yz7({token:W,factory:function(){return(0,c.f3M)(Os)},providedIn:"root"}),W})(),Os=(()=>{class W extends Xi{constructor(L){super(),this.title=L}updateTitle(L){const te=this.buildTitle(L);void 0!==te&&this.title.setTitle(te)}}return W.\u0275fac=function(L){return new(L||W)(c.LFG(Vi.Dx))},W.\u0275prov=c.Yz7({token:W,factory:W.\u0275fac,providedIn:"root"}),W})(),Yr=(()=>{class W{}return W.\u0275fac=function(L){return new(L||W)},W.\u0275prov=c.Yz7({token:W,factory:function(){return(0,c.f3M)(Js)},providedIn:"root"}),W})();class Is{shouldDetach(Z){return!1}store(Z,L){}shouldAttach(Z){return!1}retrieve(Z){return null}shouldReuseRoute(Z,L){return Z.routeConfig===L.routeConfig}}let Js=(()=>{class W extends Is{}return W.\u0275fac=function(){let Z;return function(te){return(Z||(Z=c.n5z(W)))(te||W)}}(),W.\u0275prov=c.Yz7({token:W,factory:W.\u0275fac,providedIn:"root"}),W})();const eo=new c.OlP("",{providedIn:"root",factory:()=>({})});let Yo=(()=>{class W{}return W.\u0275fac=function(L){return new(L||W)},W.\u0275prov=c.Yz7({token:W,factory:function(){return(0,c.f3M)(wi)},providedIn:"root"}),W})(),wi=(()=>{class W{shouldProcessUrl(L){return!0}extract(L){return L}merge(L,te){return L}}return W.\u0275fac=function(L){return new(L||W)},W.\u0275prov=c.Yz7({token:W,factory:W.\u0275fac,providedIn:"root"}),W})();var Ts=(()=>((Ts=Ts||{})[Ts.COMPLETE=0]="COMPLETE",Ts[Ts.FAILED=1]="FAILED",Ts[Ts.REDIRECTING=2]="REDIRECTING",Ts))();function fa(W,Z){W.events.pipe((0,ft.h)(L=>L instanceof Me||L instanceof he||L instanceof St||L instanceof Ae),(0,ct.U)(L=>L instanceof Me||L instanceof Ae?Ts.COMPLETE:L instanceof he&&(0===L.code||1===L.code)?Ts.REDIRECTING:Ts.FAILED),(0,ft.h)(L=>L!==Ts.REDIRECTING),(0,wt.q)(1)).subscribe(()=>{Z()})}function _a(W){throw W}function gr(W,Z,L){return Z.parse("/")}const zr={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Ci={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let fi=(()=>{class W{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){var L;if("computed"===this.canceledNavigationResolution)return null===(L=this.location.getState())||void 0===L?void 0:L.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){var L,te;this.disposed=!1,this.currentPageId=0,this.console=(0,c.f3M)(c.c2e),this.isNgZoneEnabled=!1,this.options=(0,c.f3M)(eo,{optional:!0})||{},this.pendingTasks=(0,c.f3M)(c.HDt),this.errorHandler=this.options.errorHandler||_a,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||gr,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,c.f3M)(Yo),this.routeReuseStrategy=(0,c.f3M)(Yr),this.titleStrategy=(0,c.f3M)(Xi),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=null!==(L=null===(te=(0,c.f3M)(ae,{optional:!0}))||void 0===te?void 0:te.flat())&&void 0!==L?L:[],this.navigationTransitions=(0,c.f3M)(ai),this.urlSerializer=(0,c.f3M)(Ge),this.location=(0,c.f3M)(dn.Ye),this.componentInputBindingEnabled=!!(0,c.f3M)(Mo,{optional:!0}),this.isNgZoneEnabled=(0,c.f3M)(c.R0b)instanceof c.R0b&&c.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new ns,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=Nr(0,null),this.navigationTransitions.setupNavigations(this).subscribe(Ee=>{var mt;this.lastSuccessfulId=Ee.id,this.currentPageId=null!==(mt=this.browserPageId)&&void 0!==mt?mt:0},Ee=>{this.console.warn(`Unhandled Navigation Error: ${Ee}`)})}resetRootComponentType(L){this.routerState.root.component=L,this.navigationTransitions.rootComponentType=L}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const L=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),fe,L)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(L=>{const te="popstate"===L.type?"popstate":"hashchange";"popstate"===te&&setTimeout(()=>{this.navigateToSyncWithBrowser(L.url,te,L.state)},0)}))}navigateToSyncWithBrowser(L,te,Ee){const mt={replaceUrl:!0},st=null!=Ee&&Ee.navigationId?Ee:null;if(Ee){const ni={...Ee};delete ni.navigationId,delete ni.\u0275routerPageId,0!==Object.keys(ni).length&&(mt.state=ni)}const En=this.parseUrl(L);this.scheduleNavigation(En,te,st,mt)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(L){this.config=L.map(oi),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(L,te={}){const{relativeTo:Ee,queryParams:mt,fragment:st,queryParamsHandling:En,preserveFragment:ni}=te,dr=ni?this.currentUrlTree.fragment:st;let Fr,fs=null;switch(En){case"merge":fs={...this.currentUrlTree.queryParams,...mt};break;case"preserve":fs=this.currentUrlTree.queryParams;break;default:fs=mt||null}null!==fs&&(fs=this.removeEmptyProps(fs));try{Fr=Kn(Ee?Ee.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof L[0]||!L[0].startsWith("/"))&&(L=[]),Fr=this.currentUrlTree.root}return ti(Fr,L,fs,null!=dr?dr:null)}navigateByUrl(L,te={skipLocationChange:!1}){const Ee=hn(L)?L:this.parseUrl(L),mt=this.urlHandlingStrategy.merge(Ee,this.rawUrlTree);return this.scheduleNavigation(mt,fe,null,te)}navigate(L,te={skipLocationChange:!1}){return function Zn(W){for(let Z=0;Z<W.length;Z++)if(null==W[Z])throw new c.vHH(4008,!1)}(L),this.navigateByUrl(this.createUrlTree(L,te),te)}serializeUrl(L){return this.urlSerializer.serialize(L)}parseUrl(L){let te;try{te=this.urlSerializer.parse(L)}catch(Ee){te=this.malformedUriErrorHandler(Ee,this.urlSerializer,L)}return te}isActive(L,te){let Ee;if(Ee=!0===te?{...zr}:!1===te?{...Ci}:te,hn(L))return Bi(this.currentUrlTree,L,Ee);const mt=this.parseUrl(L);return Bi(this.currentUrlTree,mt,Ee)}removeEmptyProps(L){return Object.keys(L).reduce((te,Ee)=>{const mt=L[Ee];return null!=mt&&(te[Ee]=mt),te},{})}scheduleNavigation(L,te,Ee,mt,st){if(this.disposed)return Promise.resolve(!1);let En,ni,dr;st?(En=st.resolve,ni=st.reject,dr=st.promise):dr=new Promise((Fr,ca)=>{En=Fr,ni=ca});const fs=this.pendingTasks.add();return fa(this,()=>{Promise.resolve().then(()=>this.pendingTasks.remove(fs))}),this.navigationTransitions.handleNavigationRequest({source:te,restoredState:Ee,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:L,extras:mt,resolve:En,reject:ni,promise:dr,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),dr.catch(Fr=>Promise.reject(Fr))}setBrowserUrl(L,te){const Ee=this.urlSerializer.serialize(L);if(this.location.isCurrentPathEqualTo(Ee)||te.extras.replaceUrl){const En={...te.extras.state,...this.generateNgRouterState(te.id,this.browserPageId)};this.location.replaceState(Ee,"",En)}else{var mt;const st={...te.extras.state,...this.generateNgRouterState(te.id,(null!==(mt=this.browserPageId)&&void 0!==mt?mt:0)+1)};this.location.go(Ee,"",st)}}restoreHistory(L,te=!1){if("computed"===this.canceledNavigationResolution){var Ee,mt;const st=null!==(Ee=this.browserPageId)&&void 0!==Ee?Ee:this.currentPageId,En=this.currentPageId-st;0!==En?this.location.historyGo(En):this.currentUrlTree===(null===(mt=this.getCurrentNavigation())||void 0===mt?void 0:mt.finalUrl)&&0===En&&(this.resetState(L),this.browserUrlTree=L.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(te&&this.resetState(L),this.resetUrlToCurrentUrlTree())}resetState(L){this.routerState=L.currentRouterState,this.currentUrlTree=L.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,L.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(L,te){return"computed"===this.canceledNavigationResolution?{navigationId:L,\u0275routerPageId:te}:{navigationId:L}}}return W.\u0275fac=function(L){return new(L||W)},W.\u0275prov=c.Yz7({token:W,factory:W.\u0275fac,providedIn:"root"}),W})(),Ri=(()=>{class W{constructor(L,te,Ee,mt,st,En){var ni;this.router=L,this.route=te,this.tabIndexAttribute=Ee,this.renderer=mt,this.el=st,this.locationStrategy=En,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.href=null,this.commands=null,this.onChanges=new tn.x;const dr=null===(ni=st.nativeElement.tagName)||void 0===ni?void 0:ni.toLowerCase();this.isAnchorElement="a"===dr||"area"===dr,this.isAnchorElement?this.subscription=L.events.subscribe(fs=>{fs instanceof Me&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(L){this._preserveFragment=(0,c.D6c)(L)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(L){this._skipLocationChange=(0,c.D6c)(L)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(L){this._replaceUrl=(0,c.D6c)(L)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(L){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",L)}ngOnChanges(L){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(L){null!=L?(this.commands=Array.isArray(L)?L:[L],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(L,te,Ee,mt,st){return!!(null===this.urlTree||this.isAnchorElement&&(0!==L||te||Ee||mt||st||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){var L;null===(L=this.subscription)||void 0===L||L.unsubscribe()}updateHref(){var L;this.href=null!==this.urlTree&&this.locationStrategy?null===(L=this.locationStrategy)||void 0===L?void 0:L.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const te=null===this.href?null:(0,c.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",te)}applyAttributeValue(L,te){const Ee=this.renderer,mt=this.el.nativeElement;null!==te?Ee.setAttribute(mt,L,te):Ee.removeAttribute(mt,L)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return W.\u0275fac=function(L){return new(L||W)(c.Y36(fi),c.Y36(Gs),c.$8M("tabindex"),c.Y36(c.Qsj),c.Y36(c.SBq),c.Y36(dn.S$))},W.\u0275dir=c.lG2({type:W,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(L,te){1&L&&c.NdJ("click",function(mt){return te.onClick(mt.button,mt.ctrlKey,mt.shiftKey,mt.altKey,mt.metaKey)}),2&L&&c.uIk("target",te.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[c.TTD]}),W})();class Al{}let Tl=(()=>{class W{preload(L,te){return te().pipe(xn(()=>(0,Ye.of)(null)))}}return W.\u0275fac=function(L){return new(L||W)},W.\u0275prov=c.Yz7({token:W,factory:W.\u0275fac,providedIn:"root"}),W})(),il=(()=>{class W{constructor(L,te,Ee,mt,st){this.router=L,this.injector=Ee,this.preloadingStrategy=mt,this.loader=st}setUpPreloading(){this.subscription=this.router.events.pipe((0,ft.h)(L=>L instanceof Me),vn(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(L,te){const Ee=[];for(const ni of te){var mt,st;ni.providers&&!ni._injector&&(ni._injector=(0,c.MMx)(ni.providers,L,`Route: ${ni.path}`));const dr=null!==(mt=ni._injector)&&void 0!==mt?mt:L,fs=null!==(st=ni._loadedInjector)&&void 0!==st?st:dr;var En;(ni.loadChildren&&!ni._loadedRoutes&&void 0===ni.canLoad||ni.loadComponent&&!ni._loadedComponent)&&Ee.push(this.preloadConfig(dr,ni)),(ni.children||ni._loadedRoutes)&&Ee.push(this.processRoutes(fs,null!==(En=ni.children)&&void 0!==En?En:ni._loadedRoutes))}return(0,dt.D)(Ee).pipe((0,Di.J)())}preloadConfig(L,te){return this.preloadingStrategy.preload(te,()=>{let Ee;Ee=te.loadChildren&&void 0===te.canLoad?this.loader.loadChildren(L,te):(0,Ye.of)(null);const mt=Ee.pipe((0,Je.z)(st=>{var En;return null===st?(0,Ye.of)(void 0):(te._loadedRoutes=st.routes,te._loadedInjector=st.injector,this.processRoutes(null!==(En=st.injector)&&void 0!==En?En:L,st.routes))}));if(te.loadComponent&&!te._loadedComponent){const st=this.loader.loadComponent(te);return(0,dt.D)([mt,st]).pipe((0,Di.J)())}return mt})}}return W.\u0275fac=function(L){return new(L||W)(c.LFG(fi),c.LFG(c.Sil),c.LFG(c.lqb),c.LFG(Al),c.LFG(We))},W.\u0275prov=c.Yz7({token:W,factory:W.\u0275fac,providedIn:"root"}),W})();const Sa=new c.OlP("");let ml=(()=>{class W{constructor(L,te,Ee,mt,st={}){this.urlSerializer=L,this.transitions=te,this.viewportScroller=Ee,this.zone=mt,this.options=st,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},st.scrollPositionRestoration=st.scrollPositionRestoration||"disabled",st.anchorScrolling=st.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(L=>{L instanceof He?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=L.navigationTrigger,this.restoredId=L.restoredState?L.restoredState.navigationId:0):L instanceof Me?(this.lastId=L.id,this.scheduleScrollEvent(L,this.urlSerializer.parse(L.urlAfterRedirects).fragment)):L instanceof Ae&&0===L.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(L,this.urlSerializer.parse(L.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(L=>{L instanceof ri&&(L.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(L.position):L.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(L.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(L,te){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new ri(L,"popstate"===this.lastSource?this.store[this.restoredId]:null,te))})},0)})}ngOnDestroy(){var L,te;null===(L=this.routerEventsSubscription)||void 0===L||L.unsubscribe(),null===(te=this.scrollEventsSubscription)||void 0===te||te.unsubscribe()}}return W.\u0275fac=function(L){c.$Z()},W.\u0275prov=c.Yz7({token:W,factory:W.\u0275fac}),W})();function xa(W,Z){return{\u0275kind:W,\u0275providers:Z}}function Ko(){const W=(0,c.f3M)(c.zs3);return Z=>{var L,te;const Ee=W.get(c.z2F);if(Z!==Ee.components[0])return;const mt=W.get(fi),st=W.get(Zr);1===W.get(rl)&&mt.initialNavigation(),null===(L=W.get(Ji,null,c.XFs.Optional))||void 0===L||L.setUpPreloading(),null===(te=W.get(Sa,null,c.XFs.Optional))||void 0===te||te.init(),mt.resetRootComponentType(Ee.componentTypes[0]),st.closed||(st.next(),st.complete(),st.unsubscribe())}}const Zr=new c.OlP("",{factory:()=>new tn.x}),rl=new c.OlP("",{providedIn:"root",factory:()=>1}),Ji=new c.OlP("");function Ll(W){return xa(0,[{provide:Ji,useExisting:il},{provide:Al,useExisting:W}])}const An=new c.OlP("ROUTER_FORROOT_GUARD"),er=[dn.Ye,{provide:Ge,useClass:Mt},fi,So,{provide:Gs,useFactory:function go(W){return W.routerState.root},deps:[fi]},We,[]];function xs(){return new c.PXZ("Router",fi)}let Rs=(()=>{class W{constructor(L){}static forRoot(L,te){return{ngModule:W,providers:[er,[],{provide:ae,multi:!0,useValue:L},{provide:An,useFactory:Ca,deps:[[fi,new c.FiY,new c.tp0]]},{provide:eo,useValue:te||{}},null!=te&&te.useHash?{provide:dn.S$,useClass:dn.Do}:{provide:dn.S$,useClass:dn.b0},{provide:Sa,useFactory:()=>{const W=(0,c.f3M)(dn.EM),Z=(0,c.f3M)(c.R0b),L=(0,c.f3M)(eo),te=(0,c.f3M)(ai),Ee=(0,c.f3M)(Ge);return L.scrollOffset&&W.setOffset(L.scrollOffset),new ml(Ee,te,W,Z,L)}},null!=te&&te.preloadingStrategy?Ll(te.preloadingStrategy).\u0275providers:[],{provide:c.PXZ,multi:!0,useFactory:xs},null!=te&&te.initialNavigation?$a(te):[],null!=te&&te.bindToComponentInputs?xa(8,[_s,{provide:Mo,useExisting:_s}]).\u0275providers:[],[{provide:Bn,useFactory:Ko},{provide:c.tb,multi:!0,useExisting:Bn}]]}}static forChild(L){return{ngModule:W,providers:[{provide:ae,multi:!0,useValue:L}]}}}return W.\u0275fac=function(L){return new(L||W)(c.LFG(An,8))},W.\u0275mod=c.oAB({type:W}),W.\u0275inj=c.cJS({}),W})();function Ca(W){return"guarded"}function $a(W){return["disabled"===W.initialNavigation?xa(3,[{provide:c.ip1,multi:!0,useFactory:()=>{const Z=(0,c.f3M)(fi);return()=>{Z.setUpLocationChangeListener()}}},{provide:rl,useValue:2}]).\u0275providers:[],"enabledBlocking"===W.initialNavigation?xa(2,[{provide:rl,useValue:0},{provide:c.ip1,multi:!0,deps:[c.zs3],useFactory:Z=>{const L=Z.get(dn.V_,Promise.resolve());return()=>L.then(()=>new Promise(te=>{const Ee=Z.get(fi),mt=Z.get(Zr);fa(Ee,()=>{te(!0)}),Z.get(ai).afterPreactivation=()=>(te(!0),mt.closed?(0,Ye.of)(void 0):mt),Ee.initialNavigation()}))}}]).\u0275providers:[]]}const Bn=new c.OlP("")},579:(Ii,ln,Y)=>{"use strict";Y.d(ln,{EI:()=>Pt,Gb:()=>Mt,Iv:()=>pr,Kz:()=>x,Xd:()=>Hi,lT:()=>Gn,xP:()=>sr});var c=Y(5861),y=Y(6881),De=Y(1877),ze=Y(2090),dt=Y(4859);Y(4727);const be="analytics",$e="firebase_id",Ke="origin",Ue=6e4,Re="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Xe="https://www.googletagmanager.com/gtag/js",Le=new De.Yd("@firebase/analytics"),At=new ze.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function an(me){if(!me.startsWith(Xe)){const Ve=At.create("invalid-gtag-resource",{gtagURL:me});return Le.warn(Ve.message),""}return me}function nt(me){return Promise.all(me.map(Ve=>Ve.catch(Be=>Be)))}function zt(){return(zt=(0,c.Z)(function*(me,Ve,Be,jt,Lt,fn){const Wt=jt[Lt];try{if(Wt)yield Ve[Wt];else{const In=(yield nt(Be)).find(Ut=>Ut.measurementId===Lt);In&&(yield Ve[In.appId])}}catch(en){Le.error(en)}me("config",Lt,fn)})).apply(this,arguments)}function Yt(){return(Yt=(0,c.Z)(function*(me,Ve,Be,jt,Lt){try{let fn=[];if(Lt&&Lt.send_to){let Wt=Lt.send_to;Array.isArray(Wt)||(Wt=[Wt]);const en=yield nt(Be);for(const In of Wt){const Ut=en.find(hn=>hn.measurementId===In),rn=Ut&&Ve[Ut.appId];if(!rn){fn=[];break}fn.push(rn)}}0===fn.length&&(fn=Object.values(Ve)),yield Promise.all(fn),me("event",jt,Lt||{})}catch(fn){Le.error(fn)}})).apply(this,arguments)}const Tt=30,ct=new class dn{constructor(Ve={},Be=1e3){this.throttleMetadata=Ve,this.intervalMillis=Be}getThrottleMetadata(Ve){return this.throttleMetadata[Ve]}setThrottleMetadata(Ve,Be){this.throttleMetadata[Ve]=Be}deleteThrottleMetadata(Ve){delete this.throttleMetadata[Ve]}};function et(me){return new Headers({Accept:"application/json","x-goog-api-key":me})}function Ot(){return(Ot=(0,c.Z)(function*(me){var Ve;const{appId:Be,apiKey:jt}=me,Lt={method:"GET",headers:et(jt)},fn=Re.replace("{app-id}",Be),Wt=yield fetch(fn,Lt);if(200!==Wt.status&&304!==Wt.status){let en="";try{const In=yield Wt.json();null!==(Ve=In.error)&&void 0!==Ve&&Ve.message&&(en=In.error.message)}catch{}throw At.create("config-fetch-failed",{httpStatus:Wt.status,responseMessage:en})}return Wt.json()})).apply(this,arguments)}function Je(){return(Je=(0,c.Z)(function*(me,Ve=ct,Be){const{appId:jt,apiKey:Lt,measurementId:fn}=me.options;if(!jt)throw At.create("no-app-id");if(!Lt){if(fn)return{measurementId:fn,appId:jt};throw At.create("no-api-key")}const Wt=Ve.getThrottleMetadata(jt)||{backoffCount:0,throttleEndTimeMillis:Date.now()},en=new Gt;return setTimeout((0,c.Z)(function*(){en.abort()}),void 0!==Be?Be:Ue),Et({appId:jt,apiKey:Lt,measurementId:fn},Wt,en,Ve)})).apply(this,arguments)}function Et(me,Ve,Be){return vn.apply(this,arguments)}function vn(){return vn=(0,c.Z)(function*(me,{throttleEndTimeMillis:Ve,backoffCount:Be},jt,Lt=ct){var fn;const{appId:Wt,measurementId:en}=me;try{yield function qt(me,Ve){return new Promise((Be,jt)=>{const Lt=Math.max(Ve-Date.now(),0),fn=setTimeout(Be,Lt);me.addEventListener(()=>{clearTimeout(fn),jt(At.create("fetch-throttle",{throttleEndTimeMillis:Ve}))})})}(jt,Ve)}catch(In){if(en)return Le.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${en} provided in the "measurementId" field in the local Firebase config. [${null==In?void 0:In.message}]`),{appId:Wt,measurementId:en};throw In}try{const In=yield function wt(me){return Ot.apply(this,arguments)}(me);return Lt.deleteThrottleMetadata(Wt),In}catch(In){const Ut=In;if(!function xn(me){if(!(me instanceof ze.ZR&&me.customData))return!1;const Ve=Number(me.customData.httpStatus);return 429===Ve||500===Ve||503===Ve||504===Ve}(Ut)){if(Lt.deleteThrottleMetadata(Wt),en)return Le.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${en} provided in the "measurementId" field in the local Firebase config. [${null==Ut?void 0:Ut.message}]`),{appId:Wt,measurementId:en};throw In}const rn=503===Number(null===(fn=null==Ut?void 0:Ut.customData)||void 0===fn?void 0:fn.httpStatus)?(0,ze.$s)(Be,Lt.intervalMillis,Tt):(0,ze.$s)(Be,Lt.intervalMillis),hn={throttleEndTimeMillis:Date.now()+rn,backoffCount:Be+1};return Lt.setThrottleMetadata(Wt,hn),Le.debug(`Calling attemptFetch again in ${rn} millis`),Et(me,hn,jt,Lt)}}),vn.apply(this,arguments)}class Gt{constructor(){this.listeners=[]}addEventListener(Ve){this.listeners.push(Ve)}abort(){this.listeners.forEach(Ve=>Ve())}}let li,Ui;function Nt(){return(Nt=(0,c.Z)(function*(me,Ve,Be,jt,Lt){if(Lt&&Lt.global)me("event",Be,jt);else{const fn=yield Ve;me("event",Be,Object.assign(Object.assign({},jt),{send_to:fn}))}})).apply(this,arguments)}function Vn(){return(Vn=(0,c.Z)(function*(me,Ve,Be,jt){if(jt&&jt.global)return me("set",{screen_name:Be}),Promise.resolve();me("config",yield Ve,{update:!0,screen_name:Be})})).apply(this,arguments)}function Di(){return(Di=(0,c.Z)(function*(me,Ve,Be,jt){if(jt&&jt.global)return me("set",{user_id:Be}),Promise.resolve();me("config",yield Ve,{update:!0,user_id:Be})})).apply(this,arguments)}function Xn(){return(Xn=(0,c.Z)(function*(me,Ve,Be,jt){if(jt&&jt.global){const Lt={};for(const fn of Object.keys(Be))Lt[`user_properties.${fn}`]=Be[fn];return me("set",Lt),Promise.resolve()}me("config",yield Ve,{update:!0,user_properties:Be})})).apply(this,arguments)}function fr(){return(fr=(0,c.Z)(function*(me,Ve){const Be=yield me;window[`ga-disable-${Be}`]=!Ve})).apply(this,arguments)}function Li(){return(Li=(0,c.Z)(function*(){if(!(0,ze.hl)())return Le.warn(At.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,ze.eu)()}catch(me){return Le.warn(At.create("indexeddb-unavailable",{errorInfo:null==me?void 0:me.toString()}).message),!1}return!0})).apply(this,arguments)}function Xr(){return Xr=(0,c.Z)(function*(me,Ve,Be,jt,Lt,fn,Wt){var en;const In=function ft(me){return Je.apply(this,arguments)}(me);In.then(Kn=>{Be[Kn.measurementId]=Kn.appId,me.options.measurementId&&Kn.measurementId!==me.options.measurementId&&Le.warn(`The measurement ID in the local Firebase config (${me.options.measurementId}) does not match the measurement ID fetched from the server (${Kn.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Kn=>Le.error(Kn)),Ve.push(In);const Ut=function Ar(){return Li.apply(this,arguments)}().then(Kn=>{if(Kn)return jt.getId()}),[rn,hn]=yield Promise.all([In,Ut]);(function Vt(me){const Ve=window.document.getElementsByTagName("script");for(const Be of Object.values(Ve))if(Be.src&&Be.src.includes(Xe)&&Be.src.includes(me))return Be;return null})(fn)||function on(me,Ve){const Be=function Ze(me,Ve){let Be;return window.trustedTypes&&(Be=window.trustedTypes.createPolicy(me,Ve)),Be}("firebase-js-sdk-policy",{createScriptURL:an}),jt=document.createElement("script"),Lt=`${Xe}?l=${me}&id=${Ve}`;jt.src=Be?null==Be?void 0:Be.createScriptURL(Lt):Lt,jt.async=!0,document.head.appendChild(jt)}(fn,rn.measurementId),Ui&&(Lt("consent","default",Ui),function ii(me){Ui=me}(void 0)),Lt("js",new Date);const Yn=null!==(en=null==Wt?void 0:Wt.config)&&void 0!==en?en:{};return Yn[Ke]="firebase",Yn.update=!0,null!=hn&&(Yn[$e]=hn),Lt("config",rn.measurementId,Yn),li&&(Lt("set",li),function kr(me){li=me}(void 0)),rn.measurementId}),Xr.apply(this,arguments)}class Bi{constructor(Ve){this.app=Ve}_delete(){return delete Mi[this.app.options.appId],Promise.resolve()}}let Mi={},Zi=[];const Qr={};let jr,ns,Jr="dataLayer",Ir="gtag",tr=!1;function Hi(me){if(tr)throw At.create("already-initialized");me.dataLayerName&&(Jr=me.dataLayerName),me.gtagName&&(Ir=me.gtagName)}function nr(me,Ve,Be){!function is(){const me=[];if((0,ze.ru)()&&me.push("This is a browser extension environment."),(0,ze.zI)()||me.push("Cookies are not available."),me.length>0){const Ve=me.map((jt,Lt)=>`(${Lt+1}) ${jt}`).join(" "),Be=At.create("invalid-analytics-context",{errorInfo:Ve});Le.warn(Be.message)}}();const jt=me.options.appId;if(!jt)throw At.create("no-app-id");if(!me.options.apiKey){if(!me.options.measurementId)throw At.create("no-api-key");Le.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${me.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Mi[jt])throw At.create("already-exists",{id:jt});if(!tr){!function It(me){let Ve=[];Array.isArray(window[me])?Ve=window[me]:window[me]=Ve}(Jr);const{wrappedGtag:fn,gtagCore:Wt}=function se(me,Ve,Be,jt,Lt){let fn=function(...Wt){window[jt].push(arguments)};return window[Lt]&&"function"==typeof window[Lt]&&(fn=window[Lt]),window[Lt]=function tt(me,Ve,Be,jt){function fn(){return fn=(0,c.Z)(function*(Wt,...en){try{if("event"===Wt){const[In,Ut]=en;yield function Jt(me,Ve,Be,jt,Lt){return Yt.apply(this,arguments)}(me,Ve,Be,In,Ut)}else if("config"===Wt){const[In,Ut]=en;yield function bt(me,Ve,Be,jt,Lt,fn){return zt.apply(this,arguments)}(me,Ve,Be,jt,In,Ut)}else if("consent"===Wt){const[In]=en;me("consent","update",In)}else if("get"===Wt){const[In,Ut,rn]=en;me("get",In,Ut,rn)}else if("set"===Wt){const[In]=en;me("set",In)}else me(Wt,...en)}catch(In){Le.error(In)}}),fn.apply(this,arguments)}return function Lt(Wt){return fn.apply(this,arguments)}}(fn,me,Ve,Be),{gtagCore:fn,wrappedGtag:window[Lt]}}(Mi,Zi,Qr,Jr,Ir);ns=fn,jr=Wt,tr=!0}return Mi[jt]=function ps(me,Ve,Be,jt,Lt,fn,Wt){return Xr.apply(this,arguments)}(me,Zi,Qr,Ve,jr,Jr,Be),new Bi(me)}function Mt(){return _n.apply(this,arguments)}function _n(){return(_n=(0,c.Z)(function*(){if((0,ze.ru)()||!(0,ze.zI)()||!(0,ze.hl)())return!1;try{return yield(0,ze.eu)()}catch{return!1}})).apply(this,arguments)}function Gn(me,Ve,Be){me=(0,ze.m9)(me),function On(me,Ve,Be,jt){return Vn.apply(this,arguments)}(ns,Mi[me.app.options.appId],Ve,Be).catch(jt=>Le.error(jt))}function pr(me,Ve,Be){me=(0,ze.m9)(me),function Ti(me,Ve,Be,jt){return Di.apply(this,arguments)}(ns,Mi[me.app.options.appId],Ve,Be).catch(jt=>Le.error(jt))}function sr(me,Ve,Be){me=(0,ze.m9)(me),function Vi(me,Ve,Be,jt){return Xn.apply(this,arguments)}(ns,Mi[me.app.options.appId],Ve,Be).catch(jt=>Le.error(jt))}function Pt(me,Ve){me=(0,ze.m9)(me),function rr(me,Ve){return fr.apply(this,arguments)}(Mi[me.app.options.appId],Ve).catch(Be=>Le.error(Be))}function x(me,Ve,Be,jt){me=(0,ze.m9)(me),function Dn(me,Ve,Be,jt,Lt){return Nt.apply(this,arguments)}(ns,Mi[me.app.options.appId],Ve,Be,jt).catch(Lt=>Le.error(Lt))}const O="@firebase/analytics";!function ce(){(0,y._registerComponent)(new dt.wA(be,(Ve,{options:Be})=>nr(Ve.getProvider("app").getImmediate(),Ve.getProvider("installations-internal").getImmediate(),Be),"PUBLIC")),(0,y._registerComponent)(new dt.wA("analytics-internal",function me(Ve){try{const Be=Ve.getProvider(be).getImmediate();return{logEvent:(jt,Lt,fn)=>x(Be,jt,Lt,fn)}}catch(Be){throw At.create("interop-component-reg-failed",{reason:Be})}},"PRIVATE")),(0,y.registerVersion)(O,"0.10.0"),(0,y.registerVersion)(O,"0.10.0","esm2017")}()},3942:(Ii,ln,Y)=>{"use strict";Y.d(ln,{Z:()=>At});var c=Y(2090),y=Y(4859),De=Y(6881),ze=Y(1877);class dt{constructor(nt,Ze){this._delegate=nt,this.firebase=Ze,(0,De._addComponent)(nt,new y.wA("app-compat",()=>this,"PUBLIC")),this.container=nt.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(nt){this._delegate.automaticDataCollectionEnabled=nt}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(nt=>{this._delegate.checkDestroyed(),nt()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,De.deleteApp)(this._delegate)))}_getService(nt,Ze=De._DEFAULT_ENTRY_NAME){var on;this._delegate.checkDestroyed();const It=this._delegate.container.getProvider(nt);return!It.isInitialized()&&"EXPLICIT"===(null===(on=It.getComponent())||void 0===on?void 0:on.instantiationMode)&&It.initialize(),It.getImmediate({identifier:Ze})}_removeServiceInstance(nt,Ze=De._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(nt).clearInstance(Ze)}_addComponent(nt){(0,De._addComponent)(this._delegate,nt)}_addOrOverwriteComponent(nt){(0,De._addOrOverwriteComponent)(this._delegate,nt)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const be=new c.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),Ue=function Ke(){const an=function $e(an){const nt={},Ze={__esModule:!0,initializeApp:function bt(tt,se={}){const Vt=De.initializeApp(tt,se);if((0,c.r3)(nt,Vt.name))return nt[Vt.name];const Tt=new an(Vt,Ze);return nt[Vt.name]=Tt,Tt},app:It,registerVersion:De.registerVersion,setLogLevel:De.setLogLevel,onLog:De.onLog,apps:null,SDK_VERSION:De.SDK_VERSION,INTERNAL:{registerComponent:function Jt(tt){const se=tt.name,Vt=se.replace("-compat","");if(De._registerComponent(tt)&&"PUBLIC"===tt.type){const Tt=(tn=It())=>{if("function"!=typeof tn[Vt])throw be.create("invalid-app-argument",{appName:se});return tn[Vt]()};void 0!==tt.serviceProps&&(0,c.ZB)(Tt,tt.serviceProps),Ze[Vt]=Tt,an.prototype[Vt]=function(...tn){return this._getService.bind(this,se).apply(this,tt.multipleInstances?tn:[])}}return"PUBLIC"===tt.type?Ze[Vt]:null},removeApp:function on(tt){delete nt[tt]},useAsService:function Yt(tt,se){return"serverAuth"===se?null:se},modularAPIs:De}};function It(tt){if(!(0,c.r3)(nt,tt=tt||De._DEFAULT_ENTRY_NAME))throw be.create("no-app",{appName:tt});return nt[tt]}return Ze.default=Ze,Object.defineProperty(Ze,"apps",{get:function zt(){return Object.keys(nt).map(tt=>nt[tt])}}),It.App=an,Ze}(dt);return an.INTERNAL=Object.assign(Object.assign({},an.INTERNAL),{createFirebaseNamespace:Ke,extendNamespace:function nt(Ze){(0,c.ZB)(an,Ze)},createSubscribe:c.ne,ErrorFactory:c.LL,deepExtend:c.ZB}),an}(),Re=new ze.Yd("@firebase/app-compat");if((0,c.jU)()&&void 0!==self.firebase){Re.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const an=self.firebase.SDK_VERSION;an&&an.indexOf("LITE")>=0&&Re.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const At=Ue;!function Qe(an){(0,De.registerVersion)("@firebase/app-compat","0.2.10",an)}()},6881:(Ii,ln,Y)=>{"use strict";Y.r(ln),Y.d(ln,{FirebaseError:()=>ze.ZR,SDK_VERSION:()=>is,_DEFAULT_ENTRY_NAME:()=>Li,_addComponent:()=>Mi,_addOrOverwriteComponent:()=>Zi,_apps:()=>Xr,_clearComponents:()=>jr,_components:()=>Bi,_getProvider:()=>Jr,_registerComponent:()=>Qr,_removeServiceInstance:()=>Ir,deleteApp:()=>Mt,getApp:()=>zn,getApps:()=>Ge,initializeApp:()=>nr,onLog:()=>mi,registerVersion:()=>Gn,setLogLevel:()=>Dr});var c=Y(5861),y=Y(4859),De=Y(1877),ze=Y(2090);const dt=(Ut,rn)=>rn.some(hn=>Ut instanceof hn);let Ye,be;const Ue=new WeakMap,Re=new WeakMap,Xe=new WeakMap,Le=new WeakMap,Qe=new WeakMap;let nt={get(Ut,rn,hn){if(Ut instanceof IDBTransaction){if("done"===rn)return Re.get(Ut);if("objectStoreNames"===rn)return Ut.objectStoreNames||Xe.get(Ut);if("store"===rn)return hn.objectStoreNames[1]?void 0:hn.objectStore(hn.objectStoreNames[0])}return bt(Ut[rn])},set:(Ut,rn,hn)=>(Ut[rn]=hn,!0),has:(Ut,rn)=>Ut instanceof IDBTransaction&&("done"===rn||"store"===rn)||rn in Ut};function It(Ut){return"function"==typeof Ut?function on(Ut){return Ut!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Ke(){return be||(be=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(Ut)?function(...rn){return Ut.apply(zt(this),rn),bt(Ue.get(this))}:function(...rn){return bt(Ut.apply(zt(this),rn))}:function(rn,...hn){const Yn=Ut.call(zt(this),rn,...hn);return Xe.set(Yn,rn.sort?rn.sort():[rn]),bt(Yn)}}(Ut):(Ut instanceof IDBTransaction&&function an(Ut){if(Re.has(Ut))return;const rn=new Promise((hn,Yn)=>{const Kn=()=>{Ut.removeEventListener("complete",ti),Ut.removeEventListener("error",$i),Ut.removeEventListener("abort",$i)},ti=()=>{hn(),Kn()},$i=()=>{Yn(Ut.error||new DOMException("AbortError","AbortError")),Kn()};Ut.addEventListener("complete",ti),Ut.addEventListener("error",$i),Ut.addEventListener("abort",$i)});Re.set(Ut,rn)}(Ut),dt(Ut,function $e(){return Ye||(Ye=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(Ut,nt):Ut)}function bt(Ut){if(Ut instanceof IDBRequest)return function At(Ut){const rn=new Promise((hn,Yn)=>{const Kn=()=>{Ut.removeEventListener("success",ti),Ut.removeEventListener("error",$i)},ti=()=>{hn(bt(Ut.result)),Kn()},$i=()=>{Yn(Ut.error),Kn()};Ut.addEventListener("success",ti),Ut.addEventListener("error",$i)});return rn.then(hn=>{hn instanceof IDBCursor&&Ue.set(hn,Ut)}).catch(()=>{}),Qe.set(rn,Ut),rn}(Ut);if(Le.has(Ut))return Le.get(Ut);const rn=It(Ut);return rn!==Ut&&(Le.set(Ut,rn),Qe.set(rn,Ut)),rn}const zt=Ut=>Qe.get(Ut),tt=["get","getKey","getAll","getAllKeys","count"],se=["put","add","delete","clear"],Vt=new Map;function Tt(Ut,rn){if(!(Ut instanceof IDBDatabase)||rn in Ut||"string"!=typeof rn)return;if(Vt.get(rn))return Vt.get(rn);const hn=rn.replace(/FromIndex$/,""),Yn=rn!==hn,Kn=se.includes(hn);if(!(hn in(Yn?IDBIndex:IDBObjectStore).prototype)||!Kn&&!tt.includes(hn))return;const ti=function(){var $i=(0,c.Z)(function*(Sr,...yr){const Ki=this.transaction(Sr,Kn?"readwrite":"readonly");let wr=Ki.store;return Yn&&(wr=wr.index(yr.shift())),(yield Promise.all([wr[hn](...yr),Kn&&Ki.done]))[0]});return function(yr){return $i.apply(this,arguments)}}();return Vt.set(rn,ti),ti}!function Ze(Ut){nt=Ut(nt)}(Ut=>({...Ut,get:(rn,hn,Yn)=>Tt(rn,hn)||Ut.get(rn,hn,Yn),has:(rn,hn)=>!!Tt(rn,hn)||Ut.has(rn,hn)}));class tn{constructor(rn){this.container=rn}getPlatformInfoString(){return this.container.getProviders().map(hn=>{if(function dn(Ut){const rn=Ut.getComponent();return"VERSION"===(null==rn?void 0:rn.type)}(hn)){const Yn=hn.getImmediate();return`${Yn.library}/${Yn.version}`}return null}).filter(hn=>hn).join(" ")}}const ct="@firebase/app",wt=new De.Yd("@firebase/app"),Li="[DEFAULT]",ps={[ct]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Xr=new Map,Bi=new Map;function Mi(Ut,rn){try{Ut.container.addComponent(rn)}catch(hn){wt.debug(`Component ${rn.name} failed to register with FirebaseApp ${Ut.name}`,hn)}}function Zi(Ut,rn){Ut.container.addOrOverwriteComponent(rn)}function Qr(Ut){const rn=Ut.name;if(Bi.has(rn))return wt.debug(`There were multiple attempts to register component ${rn}.`),!1;Bi.set(rn,Ut);for(const hn of Xr.values())Mi(hn,Ut);return!0}function Jr(Ut,rn){const hn=Ut.container.getProvider("heartbeat").getImmediate({optional:!0});return hn&&hn.triggerHeartbeat(),Ut.container.getProvider(rn)}function Ir(Ut,rn,hn=Li){Jr(Ut,rn).clearInstance(hn)}function jr(){Bi.clear()}const tr=new ze.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Hi{constructor(rn,hn,Yn){this._isDeleted=!1,this._options=Object.assign({},rn),this._config=Object.assign({},hn),this._name=hn.name,this._automaticDataCollectionEnabled=hn.automaticDataCollectionEnabled,this._container=Yn,this.container.addComponent(new y.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(rn){this.checkDestroyed(),this._automaticDataCollectionEnabled=rn}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(rn){this._isDeleted=rn}checkDestroyed(){if(this.isDeleted)throw tr.create("app-deleted",{appName:this._name})}}const is="9.22.0";function nr(Ut,rn={}){let hn=Ut;"object"!=typeof rn&&(rn={name:rn});const Yn=Object.assign({name:Li,automaticDataCollectionEnabled:!1},rn),Kn=Yn.name;if("string"!=typeof Kn||!Kn)throw tr.create("bad-app-name",{appName:String(Kn)});if(hn||(hn=(0,ze.aH)()),!hn)throw tr.create("no-options");const ti=Xr.get(Kn);if(ti){if((0,ze.vZ)(hn,ti.options)&&(0,ze.vZ)(Yn,ti.config))return ti;throw tr.create("duplicate-app",{appName:Kn})}const $i=new y.H0(Kn);for(const yr of Bi.values())$i.addComponent(yr);const Sr=new Hi(hn,Yn,$i);return Xr.set(Kn,Sr),Sr}function zn(Ut=Li){const rn=Xr.get(Ut);if(!rn&&Ut===Li&&(0,ze.aH)())return nr();if(!rn)throw tr.create("no-app",{appName:Ut});return rn}function Ge(){return Array.from(Xr.values())}function Mt(Ut){return _n.apply(this,arguments)}function _n(){return(_n=(0,c.Z)(function*(Ut){const rn=Ut.name;Xr.has(rn)&&(Xr.delete(rn),yield Promise.all(Ut.container.getProviders().map(hn=>hn.delete())),Ut.isDeleted=!0)})).apply(this,arguments)}function Gn(Ut,rn,hn){var Yn;let Kn=null!==(Yn=ps[Ut])&&void 0!==Yn?Yn:Ut;hn&&(Kn+=`-${hn}`);const ti=Kn.match(/\s|\//),$i=rn.match(/\s|\//);if(ti||$i){const Sr=[`Unable to register library "${Kn}" with version "${rn}":`];return ti&&Sr.push(`library name "${Kn}" contains illegal characters (whitespace or "/")`),ti&&$i&&Sr.push("and"),$i&&Sr.push(`version name "${rn}" contains illegal characters (whitespace or "/")`),void wt.warn(Sr.join(" "))}Qr(new y.wA(`${Kn}-version`,()=>({library:Kn,version:rn}),"VERSION"))}function mi(Ut,rn){if(null!==Ut&&"function"!=typeof Ut)throw tr.create("invalid-log-argument");(0,De.Am)(Ut,rn)}function Dr(Ut){(0,De.Ub)(Ut)}const pr="firebase-heartbeat-database",sr=1,Pt="firebase-heartbeat-store";let B=null;function x(){return B||(B=function Jt(Ut,rn,{blocked:hn,upgrade:Yn,blocking:Kn,terminated:ti}={}){const $i=indexedDB.open(Ut,rn),Sr=bt($i);return Yn&&$i.addEventListener("upgradeneeded",yr=>{Yn(bt($i.result),yr.oldVersion,yr.newVersion,bt($i.transaction),yr)}),hn&&$i.addEventListener("blocked",yr=>hn(yr.oldVersion,yr.newVersion,yr)),Sr.then(yr=>{ti&&yr.addEventListener("close",()=>ti()),Kn&&yr.addEventListener("versionchange",Ki=>Kn(Ki.oldVersion,Ki.newVersion,Ki))}).catch(()=>{}),Sr}(pr,sr,{upgrade:(Ut,rn)=>{0===rn&&Ut.createObjectStore(Pt)}}).catch(Ut=>{throw tr.create("idb-open",{originalErrorMessage:Ut.message})})),B}function O(){return(O=(0,c.Z)(function*(Ut){try{return yield(yield x()).transaction(Pt).objectStore(Pt).get(me(Ut))}catch(rn){if(rn instanceof ze.ZR)wt.warn(rn.message);else{const hn=tr.create("idb-get",{originalErrorMessage:null==rn?void 0:rn.message});wt.warn(hn.message)}}})).apply(this,arguments)}function ne(Ut,rn){return ce.apply(this,arguments)}function ce(){return(ce=(0,c.Z)(function*(Ut,rn){try{const Yn=(yield x()).transaction(Pt,"readwrite");yield Yn.objectStore(Pt).put(rn,me(Ut)),yield Yn.done}catch(hn){if(hn instanceof ze.ZR)wt.warn(hn.message);else{const Yn=tr.create("idb-set",{originalErrorMessage:null==hn?void 0:hn.message});wt.warn(Yn.message)}}})).apply(this,arguments)}function me(Ut){return`${Ut.name}!${Ut.options.appId}`}class jt{constructor(rn){this.container=rn,this._heartbeatsCache=null;const hn=this.container.getProvider("app").getImmediate();this._storage=new Wt(hn),this._heartbeatsCachePromise=this._storage.read().then(Yn=>(this._heartbeatsCache=Yn,Yn))}triggerHeartbeat(){var rn=this;return(0,c.Z)(function*(){const Yn=rn.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Kn=Lt();if(null===rn._heartbeatsCache&&(rn._heartbeatsCache=yield rn._heartbeatsCachePromise),rn._heartbeatsCache.lastSentHeartbeatDate!==Kn&&!rn._heartbeatsCache.heartbeats.some(ti=>ti.date===Kn))return rn._heartbeatsCache.heartbeats.push({date:Kn,agent:Yn}),rn._heartbeatsCache.heartbeats=rn._heartbeatsCache.heartbeats.filter(ti=>{const $i=new Date(ti.date).valueOf();return Date.now()-$i<=2592e6}),rn._storage.overwrite(rn._heartbeatsCache)})()}getHeartbeatsHeader(){var rn=this;return(0,c.Z)(function*(){if(null===rn._heartbeatsCache&&(yield rn._heartbeatsCachePromise),null===rn._heartbeatsCache||0===rn._heartbeatsCache.heartbeats.length)return"";const hn=Lt(),{heartbeatsToSend:Yn,unsentEntries:Kn}=function fn(Ut,rn=1024){const hn=[];let Yn=Ut.slice();for(const Kn of Ut){const ti=hn.find($i=>$i.agent===Kn.agent);if(ti){if(ti.dates.push(Kn.date),en(hn)>rn){ti.dates.pop();break}}else if(hn.push({agent:Kn.agent,dates:[Kn.date]}),en(hn)>rn){hn.pop();break}Yn=Yn.slice(1)}return{heartbeatsToSend:hn,unsentEntries:Yn}}(rn._heartbeatsCache.heartbeats),ti=(0,ze.L)(JSON.stringify({version:2,heartbeats:Yn}));return rn._heartbeatsCache.lastSentHeartbeatDate=hn,Kn.length>0?(rn._heartbeatsCache.heartbeats=Kn,yield rn._storage.overwrite(rn._heartbeatsCache)):(rn._heartbeatsCache.heartbeats=[],rn._storage.overwrite(rn._heartbeatsCache)),ti})()}}function Lt(){return(new Date).toISOString().substring(0,10)}class Wt{constructor(rn){this.app=rn,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,c.Z)(function*(){return!!(0,ze.hl)()&&(0,ze.eu)().then(()=>!0).catch(()=>!1)})()}read(){var rn=this;return(0,c.Z)(function*(){return(yield rn._canUseIndexedDBPromise)&&(yield function A(Ut){return O.apply(this,arguments)}(rn.app))||{heartbeats:[]}})()}overwrite(rn){var hn=this;return(0,c.Z)(function*(){var Yn;if(yield hn._canUseIndexedDBPromise){const ti=yield hn.read();return ne(hn.app,{lastSentHeartbeatDate:null!==(Yn=rn.lastSentHeartbeatDate)&&void 0!==Yn?Yn:ti.lastSentHeartbeatDate,heartbeats:rn.heartbeats})}})()}add(rn){var hn=this;return(0,c.Z)(function*(){var Yn;if(yield hn._canUseIndexedDBPromise){const ti=yield hn.read();return ne(hn.app,{lastSentHeartbeatDate:null!==(Yn=rn.lastSentHeartbeatDate)&&void 0!==Yn?Yn:ti.lastSentHeartbeatDate,heartbeats:[...ti.heartbeats,...rn.heartbeats]})}})()}}function en(Ut){return(0,ze.L)(JSON.stringify({version:2,heartbeats:Ut})).length}!function In(Ut){Qr(new y.wA("platform-logger",rn=>new tn(rn),"PRIVATE")),Qr(new y.wA("heartbeat",rn=>new jt(rn),"PRIVATE")),Gn(ct,"0.9.10",Ut),Gn(ct,"0.9.10","esm2017"),Gn("fire-js","")}("")},4859:(Ii,ln,Y)=>{"use strict";Y.d(ln,{H0:()=>$e,wA:()=>De,zt:()=>dt});var c=Y(5861),y=Y(2090);class De{constructor(Ue,Re,Xe){this.name=Ue,this.instanceFactory=Re,this.type=Xe,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(Ue){return this.instantiationMode=Ue,this}setMultipleInstances(Ue){return this.multipleInstances=Ue,this}setServiceProps(Ue){return this.serviceProps=Ue,this}setInstanceCreatedCallback(Ue){return this.onInstanceCreated=Ue,this}}const ze="[DEFAULT]";class dt{constructor(Ue,Re){this.name=Ue,this.container=Re,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(Ue){const Re=this.normalizeInstanceIdentifier(Ue);if(!this.instancesDeferred.has(Re)){const Xe=new y.BH;if(this.instancesDeferred.set(Re,Xe),this.isInitialized(Re)||this.shouldAutoInitialize())try{const Le=this.getOrInitializeService({instanceIdentifier:Re});Le&&Xe.resolve(Le)}catch{}}return this.instancesDeferred.get(Re).promise}getImmediate(Ue){var Re;const Xe=this.normalizeInstanceIdentifier(null==Ue?void 0:Ue.identifier),Le=null!==(Re=null==Ue?void 0:Ue.optional)&&void 0!==Re&&Re;if(!this.isInitialized(Xe)&&!this.shouldAutoInitialize()){if(Le)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Xe})}catch(Qe){if(Le)return null;throw Qe}}getComponent(){return this.component}setComponent(Ue){if(Ue.name!==this.name)throw Error(`Mismatching Component ${Ue.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=Ue,this.shouldAutoInitialize()){if(function be(Ke){return"EAGER"===Ke.instantiationMode}(Ue))try{this.getOrInitializeService({instanceIdentifier:ze})}catch{}for(const[Re,Xe]of this.instancesDeferred.entries()){const Le=this.normalizeInstanceIdentifier(Re);try{const Qe=this.getOrInitializeService({instanceIdentifier:Le});Xe.resolve(Qe)}catch{}}}}clearInstance(Ue=ze){this.instancesDeferred.delete(Ue),this.instancesOptions.delete(Ue),this.instances.delete(Ue)}delete(){var Ue=this;return(0,c.Z)(function*(){const Re=Array.from(Ue.instances.values());yield Promise.all([...Re.filter(Xe=>"INTERNAL"in Xe).map(Xe=>Xe.INTERNAL.delete()),...Re.filter(Xe=>"_delete"in Xe).map(Xe=>Xe._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(Ue=ze){return this.instances.has(Ue)}getOptions(Ue=ze){return this.instancesOptions.get(Ue)||{}}initialize(Ue={}){const{options:Re={}}=Ue,Xe=this.normalizeInstanceIdentifier(Ue.instanceIdentifier);if(this.isInitialized(Xe))throw Error(`${this.name}(${Xe}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Le=this.getOrInitializeService({instanceIdentifier:Xe,options:Re});for(const[Qe,At]of this.instancesDeferred.entries())Xe===this.normalizeInstanceIdentifier(Qe)&&At.resolve(Le);return Le}onInit(Ue,Re){var Xe;const Le=this.normalizeInstanceIdentifier(Re),Qe=null!==(Xe=this.onInitCallbacks.get(Le))&&void 0!==Xe?Xe:new Set;Qe.add(Ue),this.onInitCallbacks.set(Le,Qe);const At=this.instances.get(Le);return At&&Ue(At,Le),()=>{Qe.delete(Ue)}}invokeOnInitCallbacks(Ue,Re){const Xe=this.onInitCallbacks.get(Re);if(Xe)for(const Le of Xe)try{Le(Ue,Re)}catch{}}getOrInitializeService({instanceIdentifier:Ue,options:Re={}}){let Xe=this.instances.get(Ue);if(!Xe&&this.component&&(Xe=this.component.instanceFactory(this.container,{instanceIdentifier:(Ke=Ue,Ke===ze?void 0:Ke),options:Re}),this.instances.set(Ue,Xe),this.instancesOptions.set(Ue,Re),this.invokeOnInitCallbacks(Xe,Ue),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,Ue,Xe)}catch{}var Ke;return Xe||null}normalizeInstanceIdentifier(Ue=ze){return this.component?this.component.multipleInstances?Ue:ze:Ue}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class $e{constructor(Ue){this.name=Ue,this.providers=new Map}addComponent(Ue){const Re=this.getProvider(Ue.name);if(Re.isComponentSet())throw new Error(`Component ${Ue.name} has already been registered with ${this.name}`);Re.setComponent(Ue)}addOrOverwriteComponent(Ue){this.getProvider(Ue.name).isComponentSet()&&this.providers.delete(Ue.name),this.addComponent(Ue)}getProvider(Ue){if(this.providers.has(Ue))return this.providers.get(Ue);const Re=new dt(Ue,this);return this.providers.set(Ue,Re),Re}getProviders(){return Array.from(this.providers.values())}}},4727:(Ii,ln,Y)=>{"use strict";var c=Y(5861),y=Y(6881),De=Y(4859),ze=Y(2090);const dt=(he,Ae)=>Ae.some(St=>he instanceof St);let Ye,be;const Ue=new WeakMap,Re=new WeakMap,Xe=new WeakMap,Le=new WeakMap,Qe=new WeakMap;let nt={get(he,Ae,St){if(he instanceof IDBTransaction){if("done"===Ae)return Re.get(he);if("objectStoreNames"===Ae)return he.objectStoreNames||Xe.get(he);if("store"===Ae)return St.objectStoreNames[1]?void 0:St.objectStore(St.objectStoreNames[0])}return bt(he[Ae])},set:(he,Ae,St)=>(he[Ae]=St,!0),has:(he,Ae)=>he instanceof IDBTransaction&&("done"===Ae||"store"===Ae)||Ae in he};function It(he){return"function"==typeof he?function on(he){return he!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Ke(){return be||(be=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(he)?function(...Ae){return he.apply(zt(this),Ae),bt(Ue.get(this))}:function(...Ae){return bt(he.apply(zt(this),Ae))}:function(Ae,...St){const Kt=he.call(zt(this),Ae,...St);return Xe.set(Kt,Ae.sort?Ae.sort():[Ae]),bt(Kt)}}(he):(he instanceof IDBTransaction&&function an(he){if(Re.has(he))return;const Ae=new Promise((St,Kt)=>{const mn=()=>{he.removeEventListener("complete",Mn),he.removeEventListener("error",yi),he.removeEventListener("abort",yi)},Mn=()=>{St(),mn()},yi=()=>{Kt(he.error||new DOMException("AbortError","AbortError")),mn()};he.addEventListener("complete",Mn),he.addEventListener("error",yi),he.addEventListener("abort",yi)});Re.set(he,Ae)}(he),dt(he,function $e(){return Ye||(Ye=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(he,nt):he)}function bt(he){if(he instanceof IDBRequest)return function At(he){const Ae=new Promise((St,Kt)=>{const mn=()=>{he.removeEventListener("success",Mn),he.removeEventListener("error",yi)},Mn=()=>{St(bt(he.result)),mn()},yi=()=>{Kt(he.error),mn()};he.addEventListener("success",Mn),he.addEventListener("error",yi)});return Ae.then(St=>{St instanceof IDBCursor&&Ue.set(St,he)}).catch(()=>{}),Qe.set(Ae,he),Ae}(he);if(Le.has(he))return Le.get(he);const Ae=It(he);return Ae!==he&&(Le.set(he,Ae),Qe.set(Ae,he)),Ae}const zt=he=>Qe.get(he),tt=["get","getKey","getAll","getAllKeys","count"],se=["put","add","delete","clear"],Vt=new Map;function Tt(he,Ae){if(!(he instanceof IDBDatabase)||Ae in he||"string"!=typeof Ae)return;if(Vt.get(Ae))return Vt.get(Ae);const St=Ae.replace(/FromIndex$/,""),Kt=Ae!==St,mn=se.includes(St);if(!(St in(Kt?IDBIndex:IDBObjectStore).prototype)||!mn&&!tt.includes(St))return;const Mn=function(){var yi=(0,c.Z)(function*(bi,...Cr){const $r=this.transaction(bi,mn?"readwrite":"readonly");let Xs=$r.store;return Kt&&(Xs=Xs.index(Cr.shift())),(yield Promise.all([Xs[St](...Cr),mn&&$r.done]))[0]});return function(Cr){return yi.apply(this,arguments)}}();return Vt.set(Ae,Mn),Mn}!function Ze(he){nt=he(nt)}(he=>({...he,get:(Ae,St,Kt)=>Tt(Ae,St)||he.get(Ae,St,Kt),has:(Ae,St)=>!!Tt(Ae,St)||he.has(Ae,St)}));const tn="@firebase/installations",dn="0.6.4",ct=1e4,et=`w:${dn}`,wt="FIS_v2",Ot="https://firebaseinstallations.googleapis.com/v1",ft=36e5,qt=new ze.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function xn(he){return he instanceof ze.ZR&&he.code.includes("request-failed")}function Gt({projectId:he}){return`${Ot}/projects/${he}/installations`}function li(he){return{token:he.token,requestStatus:2,expiresIn:Vi(he.expiresIn),creationTime:Date.now()}}function Dn(he,Ae){return Nt.apply(this,arguments)}function Nt(){return(Nt=(0,c.Z)(function*(he,Ae){const Kt=(yield Ae.json()).error;return qt.create("request-failed",{requestName:he,serverCode:Kt.code,serverMessage:Kt.message,serverStatus:Kt.status})})).apply(this,arguments)}function On({apiKey:he}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":he})}function Ti(he){return Di.apply(this,arguments)}function Di(){return(Di=(0,c.Z)(function*(he){const Ae=yield he();return Ae.status>=500&&Ae.status<600?he():Ae})).apply(this,arguments)}function Vi(he){return Number(he.replace("s","000"))}function Ni(){return(Ni=(0,c.Z)(function*({appConfig:he,heartbeatServiceProvider:Ae},{fid:St}){const Kt=Gt(he),mn=On(he),Mn=Ae.getImmediate({optional:!0});if(Mn){const $r=yield Mn.getHeartbeatsHeader();$r&&mn.append("x-firebase-client",$r)}const bi={method:"POST",headers:mn,body:JSON.stringify({fid:St,authVersion:wt,appId:he.appId,sdkVersion:et})},Cr=yield Ti(()=>fetch(Kt,bi));if(Cr.ok){const $r=yield Cr.json();return{fid:$r.fid||St,registrationStatus:2,refreshToken:$r.refreshToken,authToken:li($r.authToken)}}throw yield Dn("Create Installation",Cr)})).apply(this,arguments)}function rr(he){return new Promise(Ae=>{setTimeout(Ae,he)})}const Ui=/^[cdef][\w-]{21}$/,ii="";function kr(){try{const he=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(he),he[0]=112+he[0]%16;const St=function Ar(he){return function fr(he){return btoa(String.fromCharCode(...he)).replace(/\+/g,"-").replace(/\//g,"_")}(he).substr(0,22)}(he);return Ui.test(St)?St:ii}catch{return ii}}function Li(he){return`${he.appName}!${he.appId}`}const ps=new Map;function Xr(he,Ae){const St=Li(he);Zi(St,Ae),function Qr(he,Ae){const St=function Ir(){return!Jr&&"BroadcastChannel"in self&&(Jr=new BroadcastChannel("[Firebase] FID Change"),Jr.onmessage=he=>{Zi(he.data.key,he.data.fid)}),Jr}();St&&St.postMessage({key:he,fid:Ae}),function jr(){0===ps.size&&Jr&&(Jr.close(),Jr=null)}()}(St,Ae)}function Zi(he,Ae){const St=ps.get(he);if(St)for(const Kt of St)Kt(Ae)}let Jr=null;const ns="firebase-installations-database",tr=1,Hi="firebase-installations-store";let is=null;function nr(){return is||(is=function Jt(he,Ae,{blocked:St,upgrade:Kt,blocking:mn,terminated:Mn}={}){const yi=indexedDB.open(he,Ae),bi=bt(yi);return Kt&&yi.addEventListener("upgradeneeded",Cr=>{Kt(bt(yi.result),Cr.oldVersion,Cr.newVersion,bt(yi.transaction))}),St&&yi.addEventListener("blocked",()=>St()),bi.then(Cr=>{Mn&&Cr.addEventListener("close",()=>Mn()),mn&&Cr.addEventListener("versionchange",()=>mn())}).catch(()=>{}),bi}(ns,tr,{upgrade:(he,Ae)=>{0===Ae&&he.createObjectStore(Hi)}})),is}function zn(he,Ae){return Ge.apply(this,arguments)}function Ge(){return(Ge=(0,c.Z)(function*(he,Ae){const St=Li(he),mn=(yield nr()).transaction(Hi,"readwrite"),Mn=mn.objectStore(Hi),yi=yield Mn.get(St);return yield Mn.put(Ae,St),yield mn.done,(!yi||yi.fid!==Ae.fid)&&Xr(he,Ae.fid),Ae})).apply(this,arguments)}function Mt(he){return _n.apply(this,arguments)}function _n(){return(_n=(0,c.Z)(function*(he){const Ae=Li(he),Kt=(yield nr()).transaction(Hi,"readwrite");yield Kt.objectStore(Hi).delete(Ae),yield Kt.done})).apply(this,arguments)}function Gn(he,Ae){return mi.apply(this,arguments)}function mi(){return(mi=(0,c.Z)(function*(he,Ae){const St=Li(he),mn=(yield nr()).transaction(Hi,"readwrite"),Mn=mn.objectStore(Hi),yi=yield Mn.get(St),bi=Ae(yi);return void 0===bi?yield Mn.delete(St):yield Mn.put(bi,St),yield mn.done,bi&&(!yi||yi.fid!==bi.fid)&&Xr(he,bi.fid),bi})).apply(this,arguments)}function Dr(he){return pr.apply(this,arguments)}function pr(){return pr=(0,c.Z)(function*(he){let Ae;const St=yield Gn(he.appConfig,Kt=>{const mn=function sr(he){return ce(he||{fid:kr(),registrationStatus:0})}(Kt),Mn=function Pt(he,Ae){if(0===Ae.registrationStatus){if(!navigator.onLine)return{installationEntry:Ae,registrationPromise:Promise.reject(qt.create("app-offline"))};const St={fid:Ae.fid,registrationStatus:1,registrationTime:Date.now()},Kt=function B(he,Ae){return x.apply(this,arguments)}(he,St);return{installationEntry:St,registrationPromise:Kt}}return 1===Ae.registrationStatus?{installationEntry:Ae,registrationPromise:A(he)}:{installationEntry:Ae}}(he,mn);return Ae=Mn.registrationPromise,Mn.installationEntry});return St.fid===ii?{installationEntry:yield Ae}:{installationEntry:St,registrationPromise:Ae}}),pr.apply(this,arguments)}function x(){return x=(0,c.Z)(function*(he,Ae){try{const St=yield function Ai(he,Ae){return Ni.apply(this,arguments)}(he,Ae);return zn(he.appConfig,St)}catch(St){throw xn(St)&&409===St.customData.serverCode?yield Mt(he.appConfig):yield zn(he.appConfig,{fid:Ae.fid,registrationStatus:0}),St}}),x.apply(this,arguments)}function A(he){return O.apply(this,arguments)}function O(){return(O=(0,c.Z)(function*(he){let Ae=yield ne(he.appConfig);for(;1===Ae.registrationStatus;)yield rr(100),Ae=yield ne(he.appConfig);if(0===Ae.registrationStatus){const{installationEntry:St,registrationPromise:Kt}=yield Dr(he);return Kt||St}return Ae})).apply(this,arguments)}function ne(he){return Gn(he,Ae=>{if(!Ae)throw qt.create("installation-not-found");return ce(Ae)})}function ce(he){return function me(he){return 1===he.registrationStatus&&he.registrationTime+ct<Date.now()}(he)?{fid:he.fid,registrationStatus:0}:he}function Be(){return(Be=(0,c.Z)(function*({appConfig:he,heartbeatServiceProvider:Ae},St){const Kt=function jt(he,{fid:Ae}){return`${Gt(he)}/${Ae}/authTokens:generate`}(he,St),mn=function Vn(he,{refreshToken:Ae}){const St=On(he);return St.append("Authorization",function Xn(he){return`${wt} ${he}`}(Ae)),St}(he,St),Mn=Ae.getImmediate({optional:!0});if(Mn){const $r=yield Mn.getHeartbeatsHeader();$r&&mn.append("x-firebase-client",$r)}const bi={method:"POST",headers:mn,body:JSON.stringify({installation:{sdkVersion:et,appId:he.appId}})},Cr=yield Ti(()=>fetch(Kt,bi));if(Cr.ok)return li(yield Cr.json());throw yield Dn("Generate Auth Token",Cr)})).apply(this,arguments)}function Lt(he){return fn.apply(this,arguments)}function fn(){return fn=(0,c.Z)(function*(he,Ae=!1){let St;const Kt=yield Gn(he.appConfig,Mn=>{if(!hn(Mn))throw qt.create("not-registered");const yi=Mn.authToken;if(!Ae&&function Yn(he){return 2===he.requestStatus&&!function Kn(he){const Ae=Date.now();return Ae<he.creationTime||he.creationTime+he.expiresIn<Ae+ft}(he)}(yi))return Mn;if(1===yi.requestStatus)return St=function Wt(he,Ae){return en.apply(this,arguments)}(he,Ae),Mn;{if(!navigator.onLine)throw qt.create("app-offline");const bi=function ti(he){const Ae={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},he),{authToken:Ae})}(Mn);return St=function Ut(he,Ae){return rn.apply(this,arguments)}(he,bi),bi}});return St?yield St:Kt.authToken}),fn.apply(this,arguments)}function en(){return(en=(0,c.Z)(function*(he,Ae){let St=yield In(he.appConfig);for(;1===St.authToken.requestStatus;)yield rr(100),St=yield In(he.appConfig);const Kt=St.authToken;return 0===Kt.requestStatus?Lt(he,Ae):Kt})).apply(this,arguments)}function In(he){return Gn(he,Ae=>{if(!hn(Ae))throw qt.create("not-registered");return function $i(he){return 1===he.requestStatus&&he.requestTime+ct<Date.now()}(Ae.authToken)?Object.assign(Object.assign({},Ae),{authToken:{requestStatus:0}}):Ae})}function rn(){return rn=(0,c.Z)(function*(he,Ae){try{const St=yield function Ve(he,Ae){return Be.apply(this,arguments)}(he,Ae),Kt=Object.assign(Object.assign({},Ae),{authToken:St});return yield zn(he.appConfig,Kt),St}catch(St){if(!xn(St)||401!==St.customData.serverCode&&404!==St.customData.serverCode){const Kt=Object.assign(Object.assign({},Ae),{authToken:{requestStatus:0}});yield zn(he.appConfig,Kt)}else yield Mt(he.appConfig);throw St}}),rn.apply(this,arguments)}function hn(he){return void 0!==he&&2===he.registrationStatus}function yr(){return(yr=(0,c.Z)(function*(he){const Ae=he,{installationEntry:St,registrationPromise:Kt}=yield Dr(Ae);return Kt?Kt.catch(console.error):Lt(Ae).catch(console.error),St.fid})).apply(this,arguments)}function wr(){return wr=(0,c.Z)(function*(he,Ae=!1){const St=he;return yield function Wi(he){return mr.apply(this,arguments)}(St),(yield Lt(St,Ae)).token}),wr.apply(this,arguments)}function mr(){return(mr=(0,c.Z)(function*(he){const{registrationPromise:Ae}=yield Dr(he);Ae&&(yield Ae)})).apply(this,arguments)}function Zs(he){return qt.create("missing-app-config-values",{valueName:he})}const ho="installations",Ce=he=>{const Ae=he.getProvider("app").getImmediate(),St=function Eo(he){if(!he||!he.options)throw Zs("App Configuration");if(!he.name)throw Zs("App Name");const Ae=["projectId","apiKey","appId"];for(const St of Ae)if(!he.options[St])throw Zs(St);return{appName:he.name,projectId:he.options.projectId,apiKey:he.options.apiKey,appId:he.options.appId}}(Ae);return{app:Ae,appConfig:St,heartbeatServiceProvider:(0,y._getProvider)(Ae,"heartbeat"),_delete:()=>Promise.resolve()}},He=he=>{const Ae=he.getProvider("app").getImmediate(),St=(0,y._getProvider)(Ae,ho).getImmediate();return{getId:()=>function Sr(he){return yr.apply(this,arguments)}(St),getToken:mn=>function Ki(he){return wr.apply(this,arguments)}(St,mn)}};(function Me(){(0,y._registerComponent)(new De.wA(ho,Ce,"PUBLIC")),(0,y._registerComponent)(new De.wA("installations-internal",He,"PRIVATE"))})(),(0,y.registerVersion)(tn,dn),(0,y.registerVersion)(tn,dn,"esm2017")},1877:(Ii,ln,Y)=>{"use strict";Y.d(ln,{Am:()=>Ke,Ub:()=>$e,Yd:()=>be,in:()=>y});const c=[];var y=(()=>((y=y||{})[y.DEBUG=0]="DEBUG",y[y.VERBOSE=1]="VERBOSE",y[y.INFO=2]="INFO",y[y.WARN=3]="WARN",y[y.ERROR=4]="ERROR",y[y.SILENT=5]="SILENT",y))();const De={debug:y.DEBUG,verbose:y.VERBOSE,info:y.INFO,warn:y.WARN,error:y.ERROR,silent:y.SILENT},ze=y.INFO,dt={[y.DEBUG]:"log",[y.VERBOSE]:"log",[y.INFO]:"info",[y.WARN]:"warn",[y.ERROR]:"error"},Ye=(Ue,Re,...Xe)=>{if(Re<Ue.logLevel)return;const Le=(new Date).toISOString(),Qe=dt[Re];if(!Qe)throw new Error(`Attempted to log a message with an invalid logType (value: ${Re})`);console[Qe](`[${Le}]  ${Ue.name}:`,...Xe)};class be{constructor(Re){this.name=Re,this._logLevel=ze,this._logHandler=Ye,this._userLogHandler=null,c.push(this)}get logLevel(){return this._logLevel}set logLevel(Re){if(!(Re in y))throw new TypeError(`Invalid value "${Re}" assigned to \`logLevel\``);this._logLevel=Re}setLogLevel(Re){this._logLevel="string"==typeof Re?De[Re]:Re}get logHandler(){return this._logHandler}set logHandler(Re){if("function"!=typeof Re)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=Re}get userLogHandler(){return this._userLogHandler}set userLogHandler(Re){this._userLogHandler=Re}debug(...Re){this._userLogHandler&&this._userLogHandler(this,y.DEBUG,...Re),this._logHandler(this,y.DEBUG,...Re)}log(...Re){this._userLogHandler&&this._userLogHandler(this,y.VERBOSE,...Re),this._logHandler(this,y.VERBOSE,...Re)}info(...Re){this._userLogHandler&&this._userLogHandler(this,y.INFO,...Re),this._logHandler(this,y.INFO,...Re)}warn(...Re){this._userLogHandler&&this._userLogHandler(this,y.WARN,...Re),this._logHandler(this,y.WARN,...Re)}error(...Re){this._userLogHandler&&this._userLogHandler(this,y.ERROR,...Re),this._logHandler(this,y.ERROR,...Re)}}function $e(Ue){c.forEach(Re=>{Re.setLogLevel(Ue)})}function Ke(Ue,Re){for(const Xe of c){let Le=null;Re&&Re.level&&(Le=De[Re.level]),Xe.userLogHandler=null===Ue?null:(Qe,At,...an)=>{const nt=an.map(Ze=>{if(null==Ze)return null;if("string"==typeof Ze)return Ze;if("number"==typeof Ze||"boolean"==typeof Ze)return Ze.toString();if(Ze instanceof Error)return Ze.message;try{return JSON.stringify(Ze)}catch{return null}}).filter(Ze=>Ze).join(" ");At>=(null!=Le?Le:Qe.logLevel)&&Ue({level:y[At].toLowerCase(),message:nt,args:an,type:Qe.name})}}}},2673:(Ii,ln,Y)=>{"use strict";Y.d(ln,{Br:()=>Mo,dr:()=>Vn,oU:()=>Di,cs:()=>zo,YG:()=>rr,Sm:()=>fr,PM:()=>Ui,FN:()=>ii,Zi:()=>kr,tO:()=>Ar,Dq:()=>Li,hM:()=>Xr,wI:()=>Bi,W2:()=>Mi,IJ:()=>Jr,W4:()=>Ir,zq:()=>jr,jY:()=>tr,Gu:()=>Hi,gu:()=>is,Xz:()=>nr,pK:()=>Mt,Ie:()=>_n,Q$:()=>Pt,q_:()=>B,fG:()=>ne,jP:()=>Gs,Nd:()=>Kn,t9:()=>yr,n0:()=>Ki,PQ:()=>Wi,yq:()=>Hr,ZU:()=>ur,UN:()=>Vs,yW:()=>rs,Bs:()=>ws,wd:()=>Es,sr:()=>Zs,Pc:()=>Ho,r4:()=>Lo,HT:()=>_s,IN:()=>ms,SH:()=>Ae,X1:()=>Mn,t4:()=>He,QI:()=>ft,j9:()=>Je,yF:()=>No});var c=Y(5861),y=Y(2223),De=Y(5030),ze=Y(655),dt=Y(4968),Ye=Y(7579),be=Y(1135),$e=Y(5559),Ke=Y(4464),Ue=Y(9300),Re=Y(3900),Xe=Y(1884),Le=Y(4755),At=Y(4083);const nt=Y(5273).i,It=["*"],bt=["outlet"],zt=[[["","slot","top"]],"*"],Jt=["[slot=top]","*"],se=F=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(F):"function"==typeof requestAnimationFrame?requestAnimationFrame(F):setTimeout(F);let Vt=(()=>{class F{constructor($,ge){this.injector=$,this.el=ge,this.onChange=()=>{},this.onTouched=()=>{}}writeValue($){this.el.nativeElement.value=this.lastValue=$,Tt(this.el)}handleValueChange($,ge){$===this.el.nativeElement&&(ge!==this.lastValue&&(this.lastValue=ge,this.onChange(ge)),Tt(this.el))}_handleBlurEvent($){$===this.el.nativeElement&&(this.onTouched(),Tt(this.el))}registerOnChange($){this.onChange=$}registerOnTouched($){this.onTouched=$}setDisabledState($){this.el.nativeElement.disabled=$}ngOnDestroy(){this.statusChanges&&this.statusChanges.unsubscribe()}ngAfterViewInit(){let $;try{$=this.injector.get(De.a5)}catch{}if(!$)return;$.statusChanges&&(this.statusChanges=$.statusChanges.subscribe(()=>Tt(this.el)));const ge=$.control;ge&&["markAsTouched","markAllAsTouched","markAsUntouched","markAsDirty","markAsPristine"].forEach(oi=>{if(typeof ge[oi]<"u"){const Yi=ge[oi].bind(ge);ge[oi]=(...Tr)=>{Yi(...Tr),Tt(this.el)}}})}}return F.\u0275fac=function($){return new($||F)(y.Y36(y.zs3),y.Y36(y.SBq))},F.\u0275dir=y.lG2({type:F,hostBindings:function($,ge){1&$&&y.NdJ("ionBlur",function(oi){return ge._handleBlurEvent(oi.target)})}}),F})();const Tt=F=>{se(()=>{const Se=F.nativeElement,$=null!=Se.value&&Se.value.toString().length>0,ge=tn(Se);dn(Se,ge);const ut=Se.closest("ion-item");ut&&dn(ut,$?[...ge,"item-has-value"]:ge)})},tn=F=>{const Se=F.classList,$=[];for(let ge=0;ge<Se.length;ge++){const ut=Se.item(ge);null!==ut&&ct(ut,"ng-")&&$.push(`ion-${ut.substring(3)}`)}return $},dn=(F,Se)=>{const $=F.classList;$.remove("ion-valid","ion-invalid","ion-touched","ion-untouched","ion-dirty","ion-pristine"),$.add(...Se)},ct=(F,Se)=>F.substring(0,Se.length)===Se;let ft=(()=>{class F extends Vt{constructor($,ge){super($,ge)}_handleChangeEvent($){this.handleValueChange($,$.value)}}return F.\u0275fac=function($){return new($||F)(y.Y36(y.zs3),y.Y36(y.SBq))},F.\u0275dir=y.lG2({type:F,selectors:[["ion-range"],["ion-select"],["ion-radio-group"],["ion-segment"],["ion-datetime"]],hostBindings:function($,ge){1&$&&y.NdJ("ionChange",function(oi){return ge._handleChangeEvent(oi.target)})},features:[y._Bn([{provide:De.JU,useExisting:F,multi:!0}]),y.qOj]}),F})(),Je=(()=>{class F extends Vt{constructor($,ge){super($,ge)}_handleInputEvent($){this.handleValueChange($,$.value)}}return F.\u0275fac=function($){return new($||F)(y.Y36(y.zs3),y.Y36(y.SBq))},F.\u0275dir=y.lG2({type:F,selectors:[["ion-input",3,"type","number"],["ion-textarea"],["ion-searchbar"]],hostBindings:function($,ge){1&$&&y.NdJ("ionInput",function(oi){return ge._handleInputEvent(oi.target)})},features:[y._Bn([{provide:De.JU,useExisting:F,multi:!0}]),y.qOj]}),F})();const Et=(F,Se)=>{const $=F.prototype;Se.forEach(ge=>{Object.defineProperty($,ge,{get(){return this.el[ge]},set(ut){this.z.runOutsideAngular(()=>this.el[ge]=ut)}})})},vn=(F,Se)=>{const $=F.prototype;Se.forEach(ge=>{$[ge]=function(){const ut=arguments;return this.z.runOutsideAngular(()=>this.el[ge].apply(this.el,ut))}})},qt=(F,Se,$)=>{$.forEach(ge=>F[ge]=(0,dt.R)(Se,ge))};function Gt(F){return function($){const{defineCustomElementFn:ge,inputs:ut,methods:oi}=F;return void 0!==ge&&ge(),ut&&Et($,ut),oi&&vn($,oi),$}}let Vn=(()=>{let F=class{constructor($,ge,ut){this.z=ut,$.detach(),this.el=ge.nativeElement}};return F.\u0275fac=function($){return new($||F)(y.Y36(y.sBO),y.Y36(y.SBq),y.Y36(y.R0b))},F.\u0275cmp=y.Xpm({type:F,selectors:[["ion-app"]],ngContentSelectors:It,decls:1,vars:0,template:function($,ge){1&$&&(y.F$t(),y.Hsn(0))},encapsulation:2,changeDetection:0}),F=(0,ze.gn)([Gt({})],F),F})(),Di=(()=>{let F=class{constructor($,ge,ut){this.z=ut,$.detach(),this.el=ge.nativeElement}};return F.\u0275fac=function($){return new($||F)(y.Y36(y.sBO),y.Y36(y.SBq),y.Y36(y.R0b))},F.\u0275cmp=y.Xpm({type:F,selectors:[["ion-back-button"]],inputs:{color:"color",defaultHref:"defaultHref",disabled:"disabled",icon:"icon",mode:"mode",routerAnimation:"routerAnimation",text:"text",type:"type"},ngContentSelectors:It,decls:1,vars:0,template:function($,ge){1&$&&(y.F$t(),y.Hsn(0))},encapsulation:2,changeDetection:0}),F=(0,ze.gn)([Gt({inputs:["color","defaultHref","disabled","icon","mode","routerAnimation","text","type"]})],F),F})(),rr=(()=>{let F=class{constructor($,ge,ut){this.z=ut,$.detach(),this.el=ge.nativeElement,qt(this,this.el,["ionFocus","ionBlur"])}};return F.\u0275fac=function($){return new($||F)(y.Y36(y.sBO),y.Y36(y.SBq),y.Y36(y.R0b))},F.\u0275cmp=y.Xpm({type:F,selectors:[["ion-button"]],inputs:{buttonType:"buttonType",color:"color",disabled:"disabled",download:"download",expand:"expand",fill:"fill",form:"form",href:"href",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",shape:"shape",size:"size",strong:"strong",target:"target",type:"type"},ngContentSelectors:It,decls:1,vars:0,template:function($,ge){1&$&&(y.F$t(),y.Hsn(0))},encapsulation:2,changeDetection:0}),F=(0,ze.gn)([Gt({inputs:["buttonType","color","disabled","download","expand","fill","form","href","mode","rel","routerAnimation","routerDirection","shape","size","strong","target","type"]})],F),F})(),fr=(()=>{let F=class{constructor($,ge,ut){this.z=ut,$.detach(),this.el=ge.nativeElement}};return F.\u0275fac=function($){return new($||F)(y.Y36(y.sBO),y.Y36(y.SBq),y.Y36(y.R0b))},F.\u0275cmp=y.Xpm({type:F,selectors:[["ion-buttons"]],inputs:{collapse:"collapse"},ngContentSelectors:It,decls:1,vars:0,template:function($,ge){1&$&&(y.F$t(),y.Hsn(0))},encapsulation:2,changeDetection:0}),F=(0,ze.gn)([Gt({inputs:["collapse"]})],F),F})(),Ui=(()=>{let F=class{constructor($,ge,ut){this.z=ut,$.detach(),this.el=ge.nativeElement}};return F.\u0275fac=function($){return new($||F)(y.Y36(y.sBO),y.Y36(y.SBq),y.Y36(y.R0b))},F.\u0275cmp=y.Xpm({type:F,selectors:[["ion-card"]],inputs:{button:"button",color:"color",disabled:"disabled",download:"download",href:"href",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",target:"target",type:"type"},ngContentSelectors:It,decls:1,vars:0,template:function($,ge){1&$&&(y.F$t(),y.Hsn(0))},encapsulation:2,changeDetection:0}),F=(0,ze.gn)([Gt({inputs:["button","color","disabled","download","href","mode","rel","routerAnimation","routerDirection","target","type"]})],F),F})(),ii=(()=>{let F=class{constructor($,ge,ut){this.z=ut,$.detach(),this.el=ge.nativeElement}};return F.\u0275fac=function($){return new($||F)(y.Y36(y.sBO),y.Y36(y.SBq),y.Y36(y.R0b))},F.\u0275cmp=y.Xpm({type:F,selectors:[["ion-card-content"]],inputs:{mode:"mode"},ngContentSelectors:It,decls:1,vars:0,template:function($,ge){1&$&&(y.F$t(),y.Hsn(0))},encapsulation:2,changeDetection:0}),F=(0,ze.gn)([Gt({inputs:["mode"]})],F),F})(),kr=(()=>{let F=class{constructor($,ge,ut){this.z=ut,$.detach(),this.el=ge.nativeElement}};return F.\u0275fac=function($){return new($||F)(y.Y36(y.sBO),y.Y36(y.SBq),y.Y36(y.R0b))},F.\u0275cmp=y.Xpm({type:F,selectors:[["ion-card-header"]],inputs:{color:"color",mode:"mode",translucent:"translucent"},ngContentSelectors:It,decls:1,vars:0,template:function($,ge){1&$&&(y.F$t(),y.Hsn(0))},encapsulation:2,changeDetection:0}),F=(0,ze.gn)([Gt({inputs:["color","mode","translucent"]})],F),F})(),Ar=(()=>{let F=class{constructor($,ge,ut){this.z=ut,$.detach(),this.el=ge.nativeElement}};return F.\u0275fac=function($){return new($||F)(y.Y36(y.sBO),y.Y36(y.SBq),y.Y36(y.R0b))},F.\u0275cmp=y.Xpm({type:F,selectors:[["ion-card-subtitle"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:It,decls:1,vars:0,template:function($,ge){1&$&&(y.F$t(),y.Hsn(0))},encapsulation:2,changeDetection:0}),F=(0,ze.gn)([Gt({inputs:["color","mode"]})],F),F})(),Li=(()=>{let F=class{constructor($,ge,ut){this.z=ut,$.detach(),this.el=ge.nativeElement}};return F.\u0275fac=function($){return new($||F)(y.Y36(y.sBO),y.Y36(y.SBq),y.Y36(y.R0b))},F.\u0275cmp=y.Xpm({type:F,selectors:[["ion-card-title"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:It,decls:1,vars:0,template:function($,ge){1&$&&(y.F$t(),y.Hsn(0))},encapsulation:2,changeDetection:0}),F=(0,ze.gn)([Gt({inputs:["color","mode"]})],F),F})(),Xr=(()=>{let F=class{constructor($,ge,ut){this.z=ut,$.detach(),this.el=ge.nativeElement}};return F.\u0275fac=function($){return new($||F)(y.Y36(y.sBO),y.Y36(y.SBq),y.Y36(y.R0b))},F.\u0275cmp=y.Xpm({type:F,selectors:[["ion-chip"]],inputs:{color:"color",disabled:"disabled",mode:"mode",outline:"outline"},ngContentSelectors:It,decls:1,vars:0,template:function($,ge){1&$&&(y.F$t(),y.Hsn(0))},encapsulation:2,changeDetection:0}),F=(0,ze.gn)([Gt({inputs:["color","disabled","mode","outline"]})],F),F})(),Bi=(()=>{let F=class{constructor($,ge,ut){this.z=ut,$.detach(),this.el=ge.nativeElement}};return F.\u0275fac=function($){return new($||F)(y.Y36(y.sBO),y.Y36(y.SBq),y.Y36(y.R0b))},F.\u0275cmp=y.Xpm({type:F,selectors:[["ion-col"]],inputs:{offset:"offset",offsetLg:"offsetLg",offsetMd:"offsetMd",offsetSm:"offsetSm",offsetXl:"offsetXl",offsetXs:"offsetXs",pull:"pull",pullLg:"pullLg",pullMd:"pullMd",pullSm:"pullSm",pullXl:"pullXl",pullXs:"pullXs",push:"push",pushLg:"pushLg",pushMd:"pushMd",pushSm:"pushSm",pushXl:"pushXl",pushXs:"pushXs",size:"size",sizeLg:"sizeLg",sizeMd:"sizeMd",sizeSm:"sizeSm",sizeXl:"sizeXl",sizeXs:"sizeXs"},ngContentSelectors:It,decls:1,vars:0,template:function($,ge){1&$&&(y.F$t(),y.Hsn(0))},encapsulation:2,changeDetection:0}),F=(0,ze.gn)([Gt({inputs:["offset","offsetLg","offsetMd","offsetSm","offsetXl","offsetXs","pull","pullLg","pullMd","pullSm","pullXl","pullXs","push","pushLg","pushMd","pushSm","pushXl","pushXs","size","sizeLg","sizeMd","sizeSm","sizeXl","sizeXs"]})],F),F})(),Mi=(()=>{let F=class{constructor($,ge,ut){this.z=ut,$.detach(),this.el=ge.nativeElement,qt(this,this.el,["ionScrollStart","ionScroll","ionScrollEnd"])}};return F.\u0275fac=function($){return new($||F)(y.Y36(y.sBO),y.Y36(y.SBq),y.Y36(y.R0b))},F.\u0275cmp=y.Xpm({type:F,selectors:[["ion-content"]],inputs:{color:"color",forceOverscroll:"forceOverscroll",fullscreen:"fullscreen",scrollEvents:"scrollEvents",scrollX:"scrollX",scrollY:"scrollY"},ngContentSelectors:It,decls:1,vars:0,template:function($,ge){1&$&&(y.F$t(),y.Hsn(0))},encapsulation:2,changeDetection:0}),F=(0,ze.gn)([Gt({inputs:["color","forceOverscroll","fullscreen","scrollEvents","scrollX","scrollY"],methods:["getScrollElement","scrollToTop","scrollToBottom","scrollByPoint","scrollToPoint"]})],F),F})(),Jr=(()=>{let F=class{constructor($,ge,ut){this.z=ut,$.detach(),this.el=ge.nativeElement}};return F.\u0275fac=function($){return new($||F)(y.Y36(y.sBO),y.Y36(y.SBq),y.Y36(y.R0b))},F.\u0275cmp=y.Xpm({type:F,selectors:[["ion-fab"]],inputs:{activated:"activated",edge:"edge",horizontal:"horizontal",vertical:"vertical"},ngContentSelectors:It,decls:1,vars:0,template:function($,ge){1&$&&(y.F$t(),y.Hsn(0))},encapsulation:2,changeDetection:0}),F=(0,ze.gn)([Gt({inputs:["activated","edge","horizontal","vertical"],methods:["close"]})],F),F})(),Ir=(()=>{let F=class{constructor($,ge,ut){this.z=ut,$.detach(),this.el=ge.nativeElement,qt(this,this.el,["ionFocus","ionBlur"])}};return F.\u0275fac=function($){return new($||F)(y.Y36(y.sBO),y.Y36(y.SBq),y.Y36(y.R0b))},F.\u0275cmp=y.Xpm({type:F,selectors:[["ion-fab-button"]],inputs:{activated:"activated",closeIcon:"closeIcon",color:"color",disabled:"disabled",download:"download",href:"href",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",show:"show",size:"size",target:"target",translucent:"translucent",type:"type"},ngContentSelectors:It,decls:1,vars:0,template:function($,ge){1&$&&(y.F$t(),y.Hsn(0))},encapsulation:2,changeDetection:0}),F=(0,ze.gn)([Gt({inputs:["activated","closeIcon","color","disabled","download","href","mode","rel","routerAnimation","routerDirection","show","size","target","translucent","type"]})],F),F})(),jr=(()=>{let F=class{constructor($,ge,ut){this.z=ut,$.detach(),this.el=ge.nativeElement}};return F.\u0275fac=function($){return new($||F)(y.Y36(y.sBO),y.Y36(y.SBq),y.Y36(y.R0b))},F.\u0275cmp=y.Xpm({type:F,selectors:[["ion-fab-list"]],inputs:{activated:"activated",side:"side"},ngContentSelectors:It,decls:1,vars:0,template:function($,ge){1&$&&(y.F$t(),y.Hsn(0))},encapsulation:2,changeDetection:0}),F=(0,ze.gn)([Gt({inputs:["activated","side"]})],F),F})(),tr=(()=>{let F=class{constructor($,ge,ut){this.z=ut,$.detach(),this.el=ge.nativeElement}};return F.\u0275fac=function($){return new($||F)(y.Y36(y.sBO),y.Y36(y.SBq),y.Y36(y.R0b))},F.\u0275cmp=y.Xpm({type:F,selectors:[["ion-grid"]],inputs:{fixed:"fixed"},ngContentSelectors:It,decls:1,vars:0,template:function($,ge){1&$&&(y.F$t(),y.Hsn(0))},encapsulation:2,changeDetection:0}),F=(0,ze.gn)([Gt({inputs:["fixed"]})],F),F})(),Hi=(()=>{let F=class{constructor($,ge,ut){this.z=ut,$.detach(),this.el=ge.nativeElement}};return F.\u0275fac=function($){return new($||F)(y.Y36(y.sBO),y.Y36(y.SBq),y.Y36(y.R0b))},F.\u0275cmp=y.Xpm({type:F,selectors:[["ion-header"]],inputs:{collapse:"collapse",mode:"mode",translucent:"translucent"},ngContentSelectors:It,decls:1,vars:0,template:function($,ge){1&$&&(y.F$t(),y.Hsn(0))},encapsulation:2,changeDetection:0}),F=(0,ze.gn)([Gt({inputs:["collapse","mode","translucent"]})],F),F})(),is=(()=>{let F=class{constructor($,ge,ut){this.z=ut,$.detach(),this.el=ge.nativeElement}};return F.\u0275fac=function($){return new($||F)(y.Y36(y.sBO),y.Y36(y.SBq),y.Y36(y.R0b))},F.\u0275cmp=y.Xpm({type:F,selectors:[["ion-icon"]],inputs:{color:"color",flipRtl:"flipRtl",icon:"icon",ios:"ios",lazy:"lazy",md:"md",mode:"mode",name:"name",sanitize:"sanitize",size:"size",src:"src"},ngContentSelectors:It,decls:1,vars:0,template:function($,ge){1&$&&(y.F$t(),y.Hsn(0))},encapsulation:2,changeDetection:0}),F=(0,ze.gn)([Gt({inputs:["color","flipRtl","icon","ios","lazy","md","mode","name","sanitize","size","src"]})],F),F})(),nr=(()=>{let F=class{constructor($,ge,ut){this.z=ut,$.detach(),this.el=ge.nativeElement,qt(this,this.el,["ionImgWillLoad","ionImgDidLoad","ionError"])}};return F.\u0275fac=function($){return new($||F)(y.Y36(y.sBO),y.Y36(y.SBq),y.Y36(y.R0b))},F.\u0275cmp=y.Xpm({type:F,selectors:[["ion-img"]],inputs:{alt:"alt",src:"src"},ngContentSelectors:It,decls:1,vars:0,template:function($,ge){1&$&&(y.F$t(),y.Hsn(0))},encapsulation:2,changeDetection:0}),F=(0,ze.gn)([Gt({inputs:["alt","src"]})],F),F})(),Mt=(()=>{let F=class{constructor($,ge,ut){this.z=ut,$.detach(),this.el=ge.nativeElement,qt(this,this.el,["ionInput","ionChange","ionBlur","ionFocus"])}};return F.\u0275fac=function($){return new($||F)(y.Y36(y.sBO),y.Y36(y.SBq),y.Y36(y.R0b))},F.\u0275cmp=y.Xpm({type:F,selectors:[["ion-input"]],inputs:{accept:"accept",autocapitalize:"autocapitalize",autocomplete:"autocomplete",autocorrect:"autocorrect",autofocus:"autofocus",clearInput:"clearInput",clearOnEdit:"clearOnEdit",color:"color",counter:"counter",counterFormatter:"counterFormatter",debounce:"debounce",disabled:"disabled",enterkeyhint:"enterkeyhint",errorText:"errorText",fill:"fill",helperText:"helperText",inputmode:"inputmode",label:"label",labelPlacement:"labelPlacement",legacy:"legacy",max:"max",maxlength:"maxlength",min:"min",minlength:"minlength",mode:"mode",multiple:"multiple",name:"name",pattern:"pattern",placeholder:"placeholder",readonly:"readonly",required:"required",shape:"shape",size:"size",spellcheck:"spellcheck",step:"step",type:"type",value:"value"},ngContentSelectors:It,decls:1,vars:0,template:function($,ge){1&$&&(y.F$t(),y.Hsn(0))},encapsulation:2,changeDetection:0}),F=(0,ze.gn)([Gt({inputs:["accept","autocapitalize","autocomplete","autocorrect","autofocus","clearInput","clearOnEdit","color","counter","counterFormatter","debounce","disabled","enterkeyhint","errorText","fill","helperText","inputmode","label","labelPlacement","legacy","max","maxlength","min","minlength","mode","multiple","name","pattern","placeholder","readonly","required","shape","size","spellcheck","step","type","value"],methods:["setFocus","getInputElement"]})],F),F})(),_n=(()=>{let F=class{constructor($,ge,ut){this.z=ut,$.detach(),this.el=ge.nativeElement}};return F.\u0275fac=function($){return new($||F)(y.Y36(y.sBO),y.Y36(y.SBq),y.Y36(y.R0b))},F.\u0275cmp=y.Xpm({type:F,selectors:[["ion-item"]],inputs:{button:"button",color:"color",counter:"counter",counterFormatter:"counterFormatter",detail:"detail",detailIcon:"detailIcon",disabled:"disabled",download:"download",fill:"fill",href:"href",lines:"lines",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",shape:"shape",target:"target",type:"type"},ngContentSelectors:It,decls:1,vars:0,template:function($,ge){1&$&&(y.F$t(),y.Hsn(0))},encapsulation:2,changeDetection:0}),F=(0,ze.gn)([Gt({inputs:["button","color","counter","counterFormatter","detail","detailIcon","disabled","download","fill","href","lines","mode","rel","routerAnimation","routerDirection","shape","target","type"]})],F),F})(),Pt=(()=>{let F=class{constructor($,ge,ut){this.z=ut,$.detach(),this.el=ge.nativeElement}};return F.\u0275fac=function($){return new($||F)(y.Y36(y.sBO),y.Y36(y.SBq),y.Y36(y.R0b))},F.\u0275cmp=y.Xpm({type:F,selectors:[["ion-label"]],inputs:{color:"color",mode:"mode",position:"position"},ngContentSelectors:It,decls:1,vars:0,template:function($,ge){1&$&&(y.F$t(),y.Hsn(0))},encapsulation:2,changeDetection:0}),F=(0,ze.gn)([Gt({inputs:["color","mode","position"]})],F),F})(),B=(()=>{let F=class{constructor($,ge,ut){this.z=ut,$.detach(),this.el=ge.nativeElement}};return F.\u0275fac=function($){return new($||F)(y.Y36(y.sBO),y.Y36(y.SBq),y.Y36(y.R0b))},F.\u0275cmp=y.Xpm({type:F,selectors:[["ion-list"]],inputs:{inset:"inset",lines:"lines",mode:"mode"},ngContentSelectors:It,decls:1,vars:0,template:function($,ge){1&$&&(y.F$t(),y.Hsn(0))},encapsulation:2,changeDetection:0}),F=(0,ze.gn)([Gt({inputs:["inset","lines","mode"],methods:["closeSlidingItems"]})],F),F})(),ne=(()=>{let F=class{constructor($,ge,ut){this.z=ut,$.detach(),this.el=ge.nativeElement}};return F.\u0275fac=function($){return new($||F)(y.Y36(y.sBO),y.Y36(y.SBq),y.Y36(y.R0b))},F.\u0275cmp=y.Xpm({type:F,selectors:[["ion-menu-button"]],inputs:{autoHide:"autoHide",color:"color",disabled:"disabled",menu:"menu",mode:"mode",type:"type"},ngContentSelectors:It,decls:1,vars:0,template:function($,ge){1&$&&(y.F$t(),y.Hsn(0))},encapsulation:2,changeDetection:0}),F=(0,ze.gn)([Gt({inputs:["autoHide","color","disabled","menu","mode","type"]})],F),F})(),Kn=(()=>{let F=class{constructor($,ge,ut){this.z=ut,$.detach(),this.el=ge.nativeElement}};return F.\u0275fac=function($){return new($||F)(y.Y36(y.sBO),y.Y36(y.SBq),y.Y36(y.R0b))},F.\u0275cmp=y.Xpm({type:F,selectors:[["ion-row"]],ngContentSelectors:It,decls:1,vars:0,template:function($,ge){1&$&&(y.F$t(),y.Hsn(0))},encapsulation:2,changeDetection:0}),F=(0,ze.gn)([Gt({})],F),F})(),yr=(()=>{let F=class{constructor($,ge,ut){this.z=ut,$.detach(),this.el=ge.nativeElement,qt(this,this.el,["ionChange","ionCancel","ionDismiss","ionFocus","ionBlur"])}};return F.\u0275fac=function($){return new($||F)(y.Y36(y.sBO),y.Y36(y.SBq),y.Y36(y.R0b))},F.\u0275cmp=y.Xpm({type:F,selectors:[["ion-select"]],inputs:{cancelText:"cancelText",color:"color",compareWith:"compareWith",disabled:"disabled",fill:"fill",interface:"interface",interfaceOptions:"interfaceOptions",justify:"justify",label:"label",labelPlacement:"labelPlacement",legacy:"legacy",mode:"mode",multiple:"multiple",name:"name",okText:"okText",placeholder:"placeholder",selectedText:"selectedText",shape:"shape",value:"value"},ngContentSelectors:It,decls:1,vars:0,template:function($,ge){1&$&&(y.F$t(),y.Hsn(0))},encapsulation:2,changeDetection:0}),F=(0,ze.gn)([Gt({inputs:["cancelText","color","compareWith","disabled","fill","interface","interfaceOptions","justify","label","labelPlacement","legacy","mode","multiple","name","okText","placeholder","selectedText","shape","value"],methods:["open"]})],F),F})(),Ki=(()=>{let F=class{constructor($,ge,ut){this.z=ut,$.detach(),this.el=ge.nativeElement}};return F.\u0275fac=function($){return new($||F)(y.Y36(y.sBO),y.Y36(y.SBq),y.Y36(y.R0b))},F.\u0275cmp=y.Xpm({type:F,selectors:[["ion-select-option"]],inputs:{disabled:"disabled",value:"value"},ngContentSelectors:It,decls:1,vars:0,template:function($,ge){1&$&&(y.F$t(),y.Hsn(0))},encapsulation:2,changeDetection:0}),F=(0,ze.gn)([Gt({inputs:["disabled","value"]})],F),F})(),Wi=(()=>{let F=class{constructor($,ge,ut){this.z=ut,$.detach(),this.el=ge.nativeElement}};return F.\u0275fac=function($){return new($||F)(y.Y36(y.sBO),y.Y36(y.SBq),y.Y36(y.R0b))},F.\u0275cmp=y.Xpm({type:F,selectors:[["ion-spinner"]],inputs:{color:"color",duration:"duration",name:"name",paused:"paused"},ngContentSelectors:It,decls:1,vars:0,template:function($,ge){1&$&&(y.F$t(),y.Hsn(0))},encapsulation:2,changeDetection:0}),F=(0,ze.gn)([Gt({inputs:["color","duration","name","paused"]})],F),F})(),Hr=(()=>{let F=class{constructor($,ge,ut){this.z=ut,$.detach(),this.el=ge.nativeElement}};return F.\u0275fac=function($){return new($||F)(y.Y36(y.sBO),y.Y36(y.SBq),y.Y36(y.R0b))},F.\u0275cmp=y.Xpm({type:F,selectors:[["ion-tab-bar"]],inputs:{color:"color",mode:"mode",selectedTab:"selectedTab",translucent:"translucent"},ngContentSelectors:It,decls:1,vars:0,template:function($,ge){1&$&&(y.F$t(),y.Hsn(0))},encapsulation:2,changeDetection:0}),F=(0,ze.gn)([Gt({inputs:["color","mode","selectedTab","translucent"]})],F),F})(),ur=(()=>{let F=class{constructor($,ge,ut){this.z=ut,$.detach(),this.el=ge.nativeElement}};return F.\u0275fac=function($){return new($||F)(y.Y36(y.sBO),y.Y36(y.SBq),y.Y36(y.R0b))},F.\u0275cmp=y.Xpm({type:F,selectors:[["ion-tab-button"]],inputs:{disabled:"disabled",download:"download",href:"href",layout:"layout",mode:"mode",rel:"rel",selected:"selected",tab:"tab",target:"target"},ngContentSelectors:It,decls:1,vars:0,template:function($,ge){1&$&&(y.F$t(),y.Hsn(0))},encapsulation:2,changeDetection:0}),F=(0,ze.gn)([Gt({inputs:["disabled","download","href","layout","mode","rel","selected","tab","target"]})],F),F})(),rs=(()=>{let F=class{constructor($,ge,ut){this.z=ut,$.detach(),this.el=ge.nativeElement}};return F.\u0275fac=function($){return new($||F)(y.Y36(y.sBO),y.Y36(y.SBq),y.Y36(y.R0b))},F.\u0275cmp=y.Xpm({type:F,selectors:[["ion-text"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:It,decls:1,vars:0,template:function($,ge){1&$&&(y.F$t(),y.Hsn(0))},encapsulation:2,changeDetection:0}),F=(0,ze.gn)([Gt({inputs:["color","mode"]})],F),F})(),ws=(()=>{let F=class{constructor($,ge,ut){this.z=ut,$.detach(),this.el=ge.nativeElement}};return F.\u0275fac=function($){return new($||F)(y.Y36(y.sBO),y.Y36(y.SBq),y.Y36(y.R0b))},F.\u0275cmp=y.Xpm({type:F,selectors:[["ion-thumbnail"]],ngContentSelectors:It,decls:1,vars:0,template:function($,ge){1&$&&(y.F$t(),y.Hsn(0))},encapsulation:2,changeDetection:0}),F=(0,ze.gn)([Gt({})],F),F})(),Es=(()=>{let F=class{constructor($,ge,ut){this.z=ut,$.detach(),this.el=ge.nativeElement}};return F.\u0275fac=function($){return new($||F)(y.Y36(y.sBO),y.Y36(y.SBq),y.Y36(y.R0b))},F.\u0275cmp=y.Xpm({type:F,selectors:[["ion-title"]],inputs:{color:"color",size:"size"},ngContentSelectors:It,decls:1,vars:0,template:function($,ge){1&$&&(y.F$t(),y.Hsn(0))},encapsulation:2,changeDetection:0}),F=(0,ze.gn)([Gt({inputs:["color","size"]})],F),F})(),Zs=(()=>{let F=class{constructor($,ge,ut){this.z=ut,$.detach(),this.el=ge.nativeElement}};return F.\u0275fac=function($){return new($||F)(y.Y36(y.sBO),y.Y36(y.SBq),y.Y36(y.R0b))},F.\u0275cmp=y.Xpm({type:F,selectors:[["ion-toolbar"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:It,decls:1,vars:0,template:function($,ge){1&$&&(y.F$t(),y.Hsn(0))},encapsulation:2,changeDetection:0}),F=(0,ze.gn)([Gt({inputs:["color","mode"]})],F),F})(),ho=(()=>{class F{get($,ge){const ut=Ce();return ut?ut.get($,ge):null}getBoolean($,ge){const ut=Ce();return!!ut&&ut.getBoolean($,ge)}getNumber($,ge){const ut=Ce();return ut?ut.getNumber($,ge):0}}return F.\u0275fac=function($){return new($||F)},F.\u0275prov=y.Yz7({token:F,factory:F.\u0275fac,providedIn:"root"}),F})();const fe=new y.OlP("USERCONFIG"),Ce=()=>{if(typeof window<"u"){const F=window.Ionic;if(null!=F&&F.config)return F.config}return null};let He=(()=>{class F{constructor($,ge){this.doc=$,this.backButton=new Ye.x,this.keyboardDidShow=new Ye.x,this.keyboardDidHide=new Ye.x,this.pause=new Ye.x,this.resume=new Ye.x,this.resize=new Ye.x,ge.run(()=>{var ut;let oi;this.win=$.defaultView,this.backButton.subscribeWithPriority=function(Yi,Tr){return this.subscribe(cs=>cs.register(Yi,Ms=>ge.run(()=>Tr(Ms))))},he(this.pause,$,"pause"),he(this.resume,$,"resume"),he(this.backButton,$,"ionBackButton"),he(this.resize,this.win,"resize"),he(this.keyboardDidShow,this.win,"ionKeyboardDidShow"),he(this.keyboardDidHide,this.win,"ionKeyboardDidHide"),this._readyPromise=new Promise(Yi=>{oi=Yi}),null!==(ut=this.win)&&void 0!==ut&&ut.cordova?$.addEventListener("deviceready",()=>{oi("cordova")},{once:!0}):oi("dom")})}is($){return(0,Ke.n$)(this.win,$)}platforms(){return(0,Ke.AK)(this.win)}ready(){return this._readyPromise}get isRTL(){return"rtl"===this.doc.dir}getQueryParam($){return Me(this.win.location.href,$)}isLandscape(){return!this.isPortrait()}isPortrait(){var $,ge;return null===($=(ge=this.win).matchMedia)||void 0===$?void 0:$.call(ge,"(orientation: portrait)").matches}testUserAgent($){const ge=this.win.navigator;return!!(null!=ge&&ge.userAgent&&ge.userAgent.indexOf($)>=0)}url(){return this.win.location.href}width(){return this.win.innerWidth}height(){return this.win.innerHeight}}return F.\u0275fac=function($){return new($||F)(y.LFG(Le.K0),y.LFG(y.R0b))},F.\u0275prov=y.Yz7({token:F,factory:F.\u0275fac,providedIn:"root"}),F})();const Me=(F,Se)=>{Se=Se.replace(/[[\]\\]/g,"\\$&");const ge=new RegExp("[\\?&]"+Se+"=([^&#]*)").exec(F);return ge?decodeURIComponent(ge[1].replace(/\+/g," ")):null},he=(F,Se,$)=>{Se&&Se.addEventListener($,ge=>{F.next(null!=ge?ge.detail:void 0)})};let Ae=(()=>{class F{constructor($,ge,ut,oi){this.location=ge,this.serializer=ut,this.router=oi,this.direction=Kt,this.animated=mn,this.guessDirection="forward",this.lastNavId=-1,oi&&oi.events.subscribe(Yi=>{if(Yi instanceof $e.OD){const Tr=Yi.restoredState?Yi.restoredState.navigationId:Yi.id;this.guessDirection=Tr<this.lastNavId?"back":"forward",this.guessAnimation=Yi.restoredState?void 0:this.guessDirection,this.lastNavId="forward"===this.guessDirection?Yi.id:Tr}}),$.backButton.subscribeWithPriority(0,Yi=>{this.pop(),Yi()})}navigateForward($,ge={}){return this.setDirection("forward",ge.animated,ge.animationDirection,ge.animation),this.navigate($,ge)}navigateBack($,ge={}){return this.setDirection("back",ge.animated,ge.animationDirection,ge.animation),this.navigate($,ge)}navigateRoot($,ge={}){return this.setDirection("root",ge.animated,ge.animationDirection,ge.animation),this.navigate($,ge)}back($={animated:!0,animationDirection:"back"}){return this.setDirection("back",$.animated,$.animationDirection,$.animation),this.location.back()}pop(){var $=this;return(0,c.Z)(function*(){let ge=$.topOutlet;for(;ge&&!(yield ge.pop());)ge=ge.parentOutlet})()}setDirection($,ge,ut,oi){this.direction=$,this.animated=St($,ge,ut),this.animationBuilder=oi}setTopOutlet($){this.topOutlet=$}consumeTransition(){let ge,$="root";const ut=this.animationBuilder;return"auto"===this.direction?($=this.guessDirection,ge=this.guessAnimation):(ge=this.animated,$=this.direction),this.direction=Kt,this.animated=mn,this.animationBuilder=void 0,{direction:$,animation:ge,animationBuilder:ut}}navigate($,ge){if(Array.isArray($))return this.router.navigate($,ge);{const ut=this.serializer.parse($.toString());return void 0!==ge.queryParams&&(ut.queryParams={...ge.queryParams}),void 0!==ge.fragment&&(ut.fragment=ge.fragment),this.router.navigateByUrl(ut,ge)}}}return F.\u0275fac=function($){return new($||F)(y.LFG(He),y.LFG(Le.Ye),y.LFG($e.Hx),y.LFG($e.F0,8))},F.\u0275prov=y.Yz7({token:F,factory:F.\u0275fac,providedIn:"root"}),F})();const St=(F,Se,$)=>{if(!1!==Se){if(void 0!==$)return $;if("forward"===F||"back"===F)return F;if("root"===F&&!0===Se)return"forward"}},Kt="auto",mn=void 0;class Mn{constructor(Se={}){this.data=Se}get(Se){return this.data[Se]}}let yi=(()=>{class F{constructor(){this.zone=(0,y.f3M)(y.R0b),this.applicationRef=(0,y.f3M)(y.z2F)}create($,ge,ut){return new bi($,ge,this.applicationRef,this.zone,ut)}}return F.\u0275fac=function($){return new($||F)},F.\u0275prov=y.Yz7({token:F,factory:F.\u0275fac}),F})();class bi{constructor(Se,$,ge,ut,oi){this.environmentInjector=Se,this.injector=$,this.applicationRef=ge,this.zone=ut,this.elementReferenceKey=oi,this.elRefMap=new WeakMap,this.elEventsMap=new WeakMap}attachViewToDom(Se,$,ge,ut){return this.zone.run(()=>new Promise(oi=>{const Yi={...ge};void 0!==this.elementReferenceKey&&(Yi[this.elementReferenceKey]=Se),oi(Cr(this.zone,this.environmentInjector,this.injector,this.applicationRef,this.elRefMap,this.elEventsMap,Se,$,Yi,ut))}))}removeViewFromDom(Se,$){return this.zone.run(()=>new Promise(ge=>{const ut=this.elRefMap.get($);if(ut){ut.destroy(),this.elRefMap.delete($);const oi=this.elEventsMap.get($);oi&&(oi(),this.elEventsMap.delete($))}ge()}))}}const Cr=(F,Se,$,ge,ut,oi,Yi,Tr,cs,Ms)=>{const gs=y.zs3.create({providers:vs(cs),parent:$}),wa=(0,y.LMc)(Tr,{environmentInjector:Se,elementInjector:gs}),Bs=wa.instance,Fo=wa.location.nativeElement;if(cs&&Object.assign(Bs,cs),Ms)for(const la of Ms)Fo.classList.add(la);const Ra=Xs(F,Bs,Fo);return Yi.appendChild(Fo),ge.attachView(wa.hostView),ut.set(Fo,wa),oi.set(Fo,Ra),Fo},$r=[Ke.kx,Ke.re,Ke.EQ,Ke.Jd,Ke.F8],Xs=(F,Se,$)=>F.run(()=>{const ge=$r.filter(ut=>"function"==typeof Se[ut]).map(ut=>{const oi=Yi=>Se[ut](Yi.detail);return $.addEventListener(ut,oi),()=>$.removeEventListener(ut,oi)});return()=>ge.forEach(ut=>ut())}),Ks=new y.OlP("NavParamsToken"),vs=F=>[{provide:Ks,useValue:F},{provide:Mn,useFactory:hr,deps:[Ks]}],hr=F=>new Mn(F),vr=(F,Se)=>((F=F.filter($=>$.stackId!==Se.stackId)).push(Se),F),Do=(F,Se)=>{const $=F.createUrlTree(["."],{relativeTo:Se});return F.serializeUrl($)},Qo=(F,Se)=>{if(!F)return;const $=Vr(Se);for(let ge=0;ge<$.length;ge++){if(ge>=F.length)return $[ge];if($[ge]!==F[ge])return}},Vr=F=>F.split("/").map(Se=>Se.trim()).filter(Se=>""!==Se),Mr=F=>{F&&(F.ref.destroy(),F.unlistenEvents())};class Cs{constructor(Se,$,ge,ut,oi,Yi){this.containerEl=$,this.router=ge,this.navCtrl=ut,this.zone=oi,this.location=Yi,this.views=[],this.skipTransition=!1,this.nextId=0,this.tabsPrefix=void 0!==Se?Vr(Se):void 0}createView(Se,$){var ge;const ut=Do(this.router,$),oi=null==Se||null===(ge=Se.location)||void 0===ge?void 0:ge.nativeElement,Yi=Xs(this.zone,Se.instance,oi);return{id:this.nextId++,stackId:Qo(this.tabsPrefix,ut),unlistenEvents:Yi,element:oi,ref:Se,url:ut}}getExistingView(Se){const $=Do(this.router,Se),ge=this.views.find(ut=>ut.url===$);return ge&&ge.ref.changeDetectorRef.reattach(),ge}setActive(Se){var $,ge,ut;const oi=this.navCtrl.consumeTransition();let{direction:Yi,animation:Tr,animationBuilder:cs}=oi;const Ms=this.activeView,gs=((F,Se)=>!Se||F.stackId!==Se.stackId)(Se,Ms);gs&&(Yi="back",Tr=void 0);const wa=this.views.slice();let Bs;const Fo=this.router;Fo.getCurrentNavigation?Bs=Fo.getCurrentNavigation():null!==($=Fo.navigations)&&void 0!==$&&$.value&&(Bs=Fo.navigations.value),null!==(ge=Bs)&&void 0!==ge&&null!==(ut=ge.extras)&&void 0!==ut&&ut.replaceUrl&&this.views.length>0&&this.views.splice(-1,1);const Ra=this.views.includes(Se),la=this.insertView(Se,Yi);Ra||Se.ref.changeDetectorRef.detectChanges();const Hs=Se.animationBuilder;return void 0===cs&&"back"===Yi&&!gs&&void 0!==Hs&&(cs=Hs),Ms&&(Ms.animationBuilder=cs),this.zone.runOutsideAngular(()=>this.wait(()=>(Ms&&Ms.ref.changeDetectorRef.detach(),Se.ref.changeDetectorRef.reattach(),this.transition(Se,Ms,Tr,this.canGoBack(1),!1,cs).then(()=>Nr(Se,la,wa,this.location,this.zone)).then(()=>({enteringView:Se,direction:Yi,animation:Tr,tabSwitch:gs})))))}canGoBack(Se,$=this.getActiveStackId()){return this.getStack($).length>Se}pop(Se,$=this.getActiveStackId()){return this.zone.run(()=>{const ge=this.getStack($);if(ge.length<=Se)return Promise.resolve(!1);const ut=ge[ge.length-Se-1];let oi=ut.url;const Yi=ut.savedData;if(Yi){var Tr,cs;const gs=Yi.get("primary");null!=gs&&null!==(Tr=gs.route)&&void 0!==Tr&&null!==(cs=Tr._routerState)&&void 0!==cs&&cs.snapshot.url&&(oi=gs.route._routerState.snapshot.url)}const{animationBuilder:Ms}=this.navCtrl.consumeTransition();return this.navCtrl.navigateBack(oi,{...ut.savedExtras,animation:Ms}).then(()=>!0)})}startBackTransition(){const Se=this.activeView;if(Se){const $=this.getStack(Se.stackId),ge=$[$.length-2],ut=ge.animationBuilder;return this.wait(()=>this.transition(ge,Se,"back",this.canGoBack(2),!0,ut))}return Promise.resolve()}endBackTransition(Se){Se?(this.skipTransition=!0,this.pop(1)):this.activeView&&Ao(this.activeView,this.views,this.views,this.location,this.zone)}getLastUrl(Se){const $=this.getStack(Se);return $.length>0?$[$.length-1]:void 0}getRootUrl(Se){const $=this.getStack(Se);return $.length>0?$[0]:void 0}getActiveStackId(){return this.activeView?this.activeView.stackId:void 0}hasRunningTask(){return void 0!==this.runningTask}destroy(){this.containerEl=void 0,this.views.forEach(Mr),this.activeView=void 0,this.views=[]}getStack(Se){return this.views.filter($=>$.stackId===Se)}insertView(Se,$){return this.activeView=Se,this.views=((F,Se,$)=>"root"===$?vr(F,Se):"forward"===$?((F,Se)=>(F.indexOf(Se)>=0?F=F.filter(ge=>ge.stackId!==Se.stackId||ge.id<=Se.id):F.push(Se),F))(F,Se):((F,Se)=>F.indexOf(Se)>=0?F.filter(ge=>ge.stackId!==Se.stackId||ge.id<=Se.id):vr(F,Se))(F,Se))(this.views,Se,$),this.views.slice()}transition(Se,$,ge,ut,oi,Yi){if(this.skipTransition)return this.skipTransition=!1,Promise.resolve(!1);if($===Se)return Promise.resolve(!1);const Tr=Se?Se.element:void 0,cs=$?$.element:void 0,Ms=this.containerEl;return Tr&&Tr!==cs&&(Tr.classList.add("ion-page"),Tr.classList.add("ion-page-invisible"),Tr.parentElement!==Ms&&Ms.appendChild(Tr),Ms.commit)?Ms.commit(Tr,cs,{duration:void 0===ge?0:void 0,direction:ge,showGoBack:ut,progressAnimation:oi,animationBuilder:Yi}):Promise.resolve(!1)}wait(Se){var $=this;return(0,c.Z)(function*(){void 0!==$.runningTask&&(yield $.runningTask,$.runningTask=void 0);const ge=$.runningTask=Se();return ge.finally(()=>$.runningTask=void 0),ge})()}}const Nr=(F,Se,$,ge,ut)=>"function"==typeof requestAnimationFrame?new Promise(oi=>{requestAnimationFrame(()=>{Ao(F,Se,$,ge,ut),oi()})}):Promise.resolve(),Ao=(F,Se,$,ge,ut)=>{ut.run(()=>$.filter(oi=>!Se.includes(oi)).forEach(Mr)),Se.forEach(oi=>{const Tr=ge.path().split("?")[0].split("#")[0];if(oi!==F&&oi.url!==Tr){const cs=oi.element;cs.setAttribute("aria-hidden","true"),cs.classList.add("ion-page-hidden"),oi.ref.changeDetectorRef.detach()}})};let Gs=(()=>{class F{constructor($,ge,ut,oi,Yi,Tr,cs,Ms){this.parentOutlet=Ms,this.activated=null,this.activatedView=null,this._activatedRoute=null,this.proxyMap=new WeakMap,this.currentActivatedRoute$=new be.X(null),this.stackEvents=new y.vpe,this.activateEvents=new y.vpe,this.deactivateEvents=new y.vpe,this.parentContexts=(0,y.f3M)($e.y6),this.location=(0,y.f3M)(y.s_b),this.environmentInjector=(0,y.f3M)(y.lqb),this.config=(0,y.f3M)(ho),this.navCtrl=(0,y.f3M)(Ae),this.nativeEl=oi.nativeElement,this.name=$||$e.eC,this.tabsPrefix="true"===ge?Do(Yi,cs):void 0,this.stackCtrl=new Cs(this.tabsPrefix,this.nativeEl,Yi,this.navCtrl,Tr,ut),this.parentContexts.onChildOutletCreated(this.name,this)}set animation($){this.nativeEl.animation=$}set animated($){this.nativeEl.animated=$}set swipeGesture($){this._swipeGesture=$,this.nativeEl.swipeHandler=$?{canStart:()=>this.stackCtrl.canGoBack(1)&&!this.stackCtrl.hasRunningTask(),onStart:()=>this.stackCtrl.startBackTransition(),onEnd:ge=>this.stackCtrl.endBackTransition(ge)}:void 0}ngOnDestroy(){this.stackCtrl.destroy()}getContext(){return this.parentContexts.getContext(this.name)}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(!this.activated){const $=this.getContext();null!=$&&$.route&&this.activateWith($.route,$.injector)}new Promise($=>(0,Ke.hh)(this.nativeEl,$)).then(()=>{void 0===this._swipeGesture&&(this.swipeGesture=this.config.getBoolean("swipeBackEnabled","ios"===this.nativeEl.mode))})}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){throw new Error("incompatible reuse strategy")}attach($,ge){throw new Error("incompatible reuse strategy")}deactivate(){if(this.activated){if(this.activatedView){const ge=this.getContext();this.activatedView.savedData=new Map(ge.children.contexts);const ut=this.activatedView.savedData.get("primary");if(ut&&ge.route&&(ut.route={...ge.route}),this.activatedView.savedExtras={},ge.route){const oi=ge.route.snapshot;this.activatedView.savedExtras.queryParams=oi.queryParams,this.activatedView.savedExtras.fragment=oi.fragment}}const $=this.component;this.activatedView=null,this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit($)}}activateWith($,ge){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=$;let ut,oi=this.stackCtrl.getExistingView($);if(oi){ut=this.activated=oi.ref;const Tr=oi.savedData;Tr&&(this.getContext().children.contexts=Tr),this.updateActivatedRouteProxy(ut.instance,$)}else{var Yi;const Tr=$._futureSnapshot,cs=this.parentContexts.getOrCreateContext(this.name).children,Ms=new be.X(null),gs=this.createActivatedRouteProxy(Ms,$),wa=new as(gs,cs,this.location.injector),Bs=null!==(Yi=Tr.routeConfig.component)&&void 0!==Yi?Yi:Tr.component;ut=this.activated=this.location.createComponent(Bs,{index:this.location.length,injector:wa,environmentInjector:null!=ge?ge:this.environmentInjector}),Ms.next(ut.instance),oi=this.stackCtrl.createView(this.activated,$),this.proxyMap.set(ut.instance,gs),this.currentActivatedRoute$.next({component:ut.instance,activatedRoute:$})}this.activatedView=oi,this.navCtrl.setTopOutlet(this),this.stackCtrl.setActive(oi).then(Tr=>{this.activateEvents.emit(ut.instance),this.stackEvents.emit(Tr)})}canGoBack($=1,ge){return this.stackCtrl.canGoBack($,ge)}pop($=1,ge){return this.stackCtrl.pop($,ge)}getLastUrl($){const ge=this.stackCtrl.getLastUrl($);return ge?ge.url:void 0}getLastRouteView($){return this.stackCtrl.getLastUrl($)}getRootView($){return this.stackCtrl.getRootUrl($)}getActiveStackId(){return this.stackCtrl.getActiveStackId()}createActivatedRouteProxy($,ge){const ut=new $e.gz;return ut._futureSnapshot=ge._futureSnapshot,ut._routerState=ge._routerState,ut.snapshot=ge.snapshot,ut.outlet=ge.outlet,ut.component=ge.component,ut._paramMap=this.proxyObservable($,"paramMap"),ut._queryParamMap=this.proxyObservable($,"queryParamMap"),ut.url=this.proxyObservable($,"url"),ut.params=this.proxyObservable($,"params"),ut.queryParams=this.proxyObservable($,"queryParams"),ut.fragment=this.proxyObservable($,"fragment"),ut.data=this.proxyObservable($,"data"),ut}proxyObservable($,ge){return $.pipe((0,Ue.h)(ut=>!!ut),(0,Re.w)(ut=>this.currentActivatedRoute$.pipe((0,Ue.h)(oi=>null!==oi&&oi.component===ut),(0,Re.w)(oi=>oi&&oi.activatedRoute[ge]),(0,Xe.x)())))}updateActivatedRouteProxy($,ge){const ut=this.proxyMap.get($);if(!ut)throw new Error("Could not find activated route proxy for view");ut._futureSnapshot=ge._futureSnapshot,ut._routerState=ge._routerState,ut.snapshot=ge.snapshot,ut.outlet=ge.outlet,ut.component=ge.component,this.currentActivatedRoute$.next({component:$,activatedRoute:ge})}}return F.\u0275fac=function($){return new($||F)(y.$8M("name"),y.$8M("tabs"),y.Y36(Le.Ye),y.Y36(y.SBq),y.Y36($e.F0),y.Y36(y.R0b),y.Y36($e.gz),y.Y36(F,12))},F.\u0275dir=y.lG2({type:F,selectors:[["ion-router-outlet"]],inputs:{animated:"animated",animation:"animation",mode:"mode",swipeGesture:"swipeGesture"},outputs:{stackEvents:"stackEvents",activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),F})();class as{constructor(Se,$,ge){this.route=Se,this.childContexts=$,this.parent=ge}get(Se,$){return Se===$e.gz?this.route:Se===$e.y6?this.childContexts:this.parent.get(Se,$)}}let Vs=(()=>{class F{constructor($){this.navCtrl=$,this.ionTabsWillChange=new y.vpe,this.ionTabsDidChange=new y.vpe}onPageSelected($){const ge=$.enteringView.stackId;$.tabSwitch&&void 0!==ge&&(this.ionTabsWillChange.emit({tab:ge}),this.tabBar&&(this.tabBar.selectedTab=ge),this.ionTabsDidChange.emit({tab:ge}))}select($){const ge="string"==typeof $,ut=ge?$:$.detail.tab,oi=this.outlet.getActiveStackId()===ut,Yi=`${this.outlet.tabsPrefix}/${ut}`;if(ge||$.stopPropagation(),oi){const Tr=this.outlet.getActiveStackId(),cs=this.outlet.getLastRouteView(Tr);if((null==cs?void 0:cs.url)===Yi)return;const Ms=this.outlet.getRootView(ut);return this.navCtrl.navigateRoot(Yi,{...Ms&&Yi===Ms.url&&Ms.savedExtras,animated:!0,animationDirection:"back"})}{const Tr=this.outlet.getLastRouteView(ut);return this.navCtrl.navigateRoot((null==Tr?void 0:Tr.url)||Yi,{...null==Tr?void 0:Tr.savedExtras,animated:!0,animationDirection:"back"})}}getSelected(){return this.outlet.getActiveStackId()}}return F.\u0275fac=function($){return new($||F)(y.Y36(Ae))},F.\u0275cmp=y.Xpm({type:F,selectors:[["ion-tabs"]],contentQueries:function($,ge,ut){if(1&$&&y.Suo(ut,Hr,5),2&$){let oi;y.iGM(oi=y.CRH())&&(ge.tabBar=oi.first)}},viewQuery:function($,ge){if(1&$&&y.Gf(bt,5,Gs),2&$){let ut;y.iGM(ut=y.CRH())&&(ge.outlet=ut.first)}},hostBindings:function($,ge){1&$&&y.NdJ("ionTabButtonClick",function(oi){return ge.select(oi)})},outputs:{ionTabsWillChange:"ionTabsWillChange",ionTabsDidChange:"ionTabsDidChange"},ngContentSelectors:Jt,decls:5,vars:0,consts:[[1,"tabs-inner"],["tabs","true",3,"stackEvents"],["outlet",""]],template:function($,ge){1&$&&(y.F$t(zt),y.Hsn(0),y.TgZ(1,"div",0)(2,"ion-router-outlet",1,2),y.NdJ("stackEvents",function(oi){return ge.onPageSelected(oi)}),y.qZA()(),y.Hsn(4,1))},dependencies:[Gs],styles:["[_nghost-%COMP%]{display:flex;position:absolute;inset:0;flex-direction:column;width:100%;height:100%;contain:layout size style;z-index:$z-index-page-container}.tabs-inner[_ngcontent-%COMP%]{position:relative;flex:1;contain:layout size style}"]}),F})(),zo=(()=>{class F{constructor($,ge,ut){this.routerOutlet=$,this.navCtrl=ge,this.config=ut}onClick($){var ge;const ut=this.defaultHref||this.config.get("backButtonDefaultHref");null!==(ge=this.routerOutlet)&&void 0!==ge&&ge.canGoBack()?(this.navCtrl.setDirection("back",void 0,void 0,this.routerAnimation),this.routerOutlet.pop(),$.preventDefault()):null!=ut&&(this.navCtrl.navigateBack(ut,{animation:this.routerAnimation}),$.preventDefault())}}return F.\u0275fac=function($){return new($||F)(y.Y36(Gs,8),y.Y36(Ae),y.Y36(ho))},F.\u0275dir=y.lG2({type:F,selectors:[["ion-back-button"]],hostBindings:function($,ge){1&$&&y.NdJ("click",function(oi){return ge.onClick(oi)})},inputs:{defaultHref:"defaultHref",routerAnimation:"routerAnimation"}}),F})();class xo{constructor(Se){this.ctrl=Se}create(Se){return this.ctrl.create(Se||{})}dismiss(Se,$,ge){return this.ctrl.dismiss(Se,$,ge)}getTop(){return this.ctrl.getTop()}}let Mo=(()=>{class F extends xo{constructor(){super(Ke.Cl)}}return F.\u0275fac=function($){return new($||F)},F.\u0275prov=y.Yz7({token:F,factory:F.\u0275fac,providedIn:"root"}),F})(),_s=(()=>{class F extends xo{constructor(){super(Ke.G0)}}return F.\u0275fac=function($){return new($||F)},F.\u0275prov=y.Yz7({token:F,factory:F.\u0275fac,providedIn:"root"}),F})(),ms=(()=>{class F extends xo{constructor(){super(Ke.Fy),this.angularDelegate=(0,y.f3M)(yi),this.injector=(0,y.f3M)(y.zs3),this.environmentInjector=(0,y.f3M)(y.lqb)}create($){return super.create({...$,delegate:this.angularDelegate.create(this.environmentInjector,this.injector,"modal")})}}return F.\u0275fac=function($){return new($||F)},F.\u0275prov=y.Yz7({token:F,factory:F.\u0275fac}),F})(),no=(()=>{class F extends xo{constructor(){super(Ke.oq),this.angularDelegate=(0,y.f3M)(yi),this.injector=(0,y.f3M)(y.zs3),this.environmentInjector=(0,y.f3M)(y.lqb)}create($){return super.create({...$,delegate:this.angularDelegate.create(this.environmentInjector,this.injector,"popover")})}}return F.\u0275fac=function($){return new($||F)},F.\u0275prov=y.Yz7({token:F,factory:F.\u0275fac}),F})(),No=(()=>{class F extends xo{constructor(){super(Ke.Mn)}}return F.\u0275fac=function($){return new($||F)},F.\u0275prov=y.Yz7({token:F,factory:F.\u0275fac,providedIn:"root"}),F})();class Lo{shouldDetach(Se){return!1}shouldAttach(Se){return!1}store(Se,$){}retrieve(Se){return null}shouldReuseRoute(Se,$){if(Se.routeConfig!==$.routeConfig)return!1;const ge=Se.params,ut=$.params,oi=Object.keys(ge),Yi=Object.keys(ut);if(oi.length!==Yi.length)return!1;for(const Tr of oi)if(ut[Tr]!==ge[Tr])return!1;return!0}}const bs=(F,Se,$)=>()=>{if(Se.defaultView&&typeof window<"u"){(0,Ke.qc)({...F,_zoneGate:oi=>$.run(oi)});const ut="__zone_symbol__addEventListener"in Se.body?"__zone_symbol__addEventListener":"addEventListener";return function Qe(){var F=[];if(typeof window<"u"){var Se=window;(!Se.customElements||Se.Element&&(!Se.Element.prototype.closest||!Se.Element.prototype.matches||!Se.Element.prototype.remove||!Se.Element.prototype.getRootNode))&&F.push(Y.e(6748).then(Y.t.bind(Y,723,23))),("function"!=typeof Object.assign||!Object.entries||!Array.prototype.find||!Array.prototype.includes||!String.prototype.startsWith||!String.prototype.endsWith||Se.NodeList&&!Se.NodeList.prototype.forEach||!Se.fetch||!function(){try{var ge=new URL("b","http://a");return ge.pathname="c%20d","http://a/c%20d"===ge.href&&ge.searchParams}catch{return!1}}()||typeof WeakMap>"u")&&F.push(Y.e(2214).then(Y.t.bind(Y,4144,23)))}return Promise.all(F)}().then(()=>((F,Se)=>typeof window>"u"?Promise.resolve():(0,At.p)().then(()=>(nt(),(0,At.b)(JSON.parse('[["ion-menu_3",[[33,"ion-menu-button",{"color":[513],"disabled":[4],"menu":[1],"autoHide":[4,"auto-hide"],"type":[1],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]],[33,"ion-menu",{"contentId":[513,"content-id"],"menuId":[513,"menu-id"],"type":[1025],"disabled":[1028],"side":[513],"swipeGesture":[4,"swipe-gesture"],"maxEdgeStart":[2,"max-edge-start"],"isPaneVisible":[32],"isEndSide":[32],"isOpen":[64],"isActive":[64],"open":[64],"close":[64],"toggle":[64],"setOpen":[64]},[[16,"ionSplitPaneVisible","onSplitPaneChanged"],[2,"click","onBackdropClick"],[0,"keydown","onKeydown"]]],[1,"ion-menu-toggle",{"menu":[1],"autoHide":[4,"auto-hide"],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]]]],["ion-fab_3",[[33,"ion-fab-button",{"color":[513],"activated":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1],"show":[4],"translucent":[4],"type":[1],"size":[1],"closeIcon":[1,"close-icon"]}],[1,"ion-fab",{"horizontal":[1],"vertical":[1],"edge":[4],"activated":[1028],"close":[64],"toggle":[64]}],[1,"ion-fab-list",{"activated":[4],"side":[1]}]]],["ion-refresher_2",[[0,"ion-refresher-content",{"pullingIcon":[1025,"pulling-icon"],"pullingText":[1,"pulling-text"],"refreshingSpinner":[1025,"refreshing-spinner"],"refreshingText":[1,"refreshing-text"]}],[32,"ion-refresher",{"pullMin":[2,"pull-min"],"pullMax":[2,"pull-max"],"closeDuration":[1,"close-duration"],"snapbackDuration":[1,"snapback-duration"],"pullFactor":[2,"pull-factor"],"disabled":[4],"nativeRefresher":[32],"state":[32],"complete":[64],"cancel":[64],"getProgress":[64]}]]],["ion-back-button",[[33,"ion-back-button",{"color":[513],"defaultHref":[1025,"default-href"],"disabled":[516],"icon":[1],"text":[1],"type":[1],"routerAnimation":[16]}]]],["ion-toast",[[33,"ion-toast",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"color":[513],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"duration":[2],"header":[1],"layout":[1],"message":[1],"keyboardClose":[4,"keyboard-close"],"position":[1],"buttons":[16],"translucent":[4],"animated":[4],"icon":[1],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"revealContentToScreenReader":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-card_5",[[33,"ion-card",{"color":[513],"button":[4],"type":[1],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}],[32,"ion-card-content"],[33,"ion-card-header",{"color":[513],"translucent":[4]}],[33,"ion-card-subtitle",{"color":[513]}],[33,"ion-card-title",{"color":[513]}]]],["ion-item-option_3",[[33,"ion-item-option",{"color":[513],"disabled":[4],"download":[1],"expandable":[4],"href":[1],"rel":[1],"target":[1],"type":[1]}],[32,"ion-item-options",{"side":[1],"fireSwipeEvent":[64]}],[0,"ion-item-sliding",{"disabled":[4],"state":[32],"getOpenAmount":[64],"getSlidingRatio":[64],"open":[64],"close":[64],"closeOpened":[64]}]]],["ion-accordion_2",[[49,"ion-accordion",{"value":[1],"disabled":[4],"readonly":[4],"toggleIcon":[1,"toggle-icon"],"toggleIconSlot":[1,"toggle-icon-slot"],"state":[32],"isNext":[32],"isPrevious":[32]}],[33,"ion-accordion-group",{"animated":[4],"multiple":[4],"value":[1025],"disabled":[4],"readonly":[4],"expand":[1],"requestAccordionToggle":[64],"getAccordions":[64]},[[0,"keydown","onKeydown"]]]]],["ion-infinite-scroll_2",[[32,"ion-infinite-scroll-content",{"loadingSpinner":[1025,"loading-spinner"],"loadingText":[1,"loading-text"]}],[0,"ion-infinite-scroll",{"threshold":[1],"disabled":[4],"position":[1],"isLoading":[32],"complete":[64]}]]],["ion-reorder_2",[[33,"ion-reorder",null,[[2,"click","onClick"]]],[0,"ion-reorder-group",{"disabled":[4],"state":[32],"complete":[64]}]]],["ion-segment_2",[[33,"ion-segment-button",{"disabled":[1028],"layout":[1],"type":[1],"value":[1],"checked":[32],"setFocus":[64]}],[33,"ion-segment",{"color":[513],"disabled":[4],"scrollable":[4],"swipeGesture":[4,"swipe-gesture"],"value":[1025],"selectOnFocus":[4,"select-on-focus"],"activated":[32]},[[0,"keydown","onKeyDown"]]]]],["ion-tab-bar_2",[[33,"ion-tab-button",{"disabled":[4],"download":[1],"href":[1],"rel":[1],"layout":[1025],"selected":[1028],"tab":[1],"target":[1]},[[8,"ionTabBarChanged","onTabBarChanged"]]],[33,"ion-tab-bar",{"color":[513],"selectedTab":[1,"selected-tab"],"translucent":[4],"keyboardVisible":[32]}]]],["ion-chip",[[1,"ion-chip",{"color":[513],"outline":[4],"disabled":[4]}]]],["ion-datetime-button",[[33,"ion-datetime-button",{"color":[513],"disabled":[516],"datetime":[1],"datetimePresentation":[32],"dateText":[32],"timeText":[32],"datetimeActive":[32],"selectedButton":[32]}]]],["ion-input",[[34,"ion-input",{"color":[513],"accept":[1],"autocapitalize":[1],"autocomplete":[1],"autocorrect":[1],"autofocus":[4],"clearInput":[4,"clear-input"],"clearOnEdit":[4,"clear-on-edit"],"counter":[4],"counterFormatter":[16],"debounce":[2],"disabled":[4],"enterkeyhint":[1],"errorText":[1,"error-text"],"fill":[1],"inputmode":[1],"helperText":[1,"helper-text"],"label":[1],"labelPlacement":[1,"label-placement"],"legacy":[4],"max":[8],"maxlength":[2],"min":[8],"minlength":[2],"multiple":[4],"name":[1],"pattern":[1],"placeholder":[1],"readonly":[4],"required":[4],"shape":[1],"spellcheck":[4],"step":[1],"size":[2],"type":[1],"value":[1032],"hasFocus":[32],"setFocus":[64],"getInputElement":[64]}]]],["ion-searchbar",[[34,"ion-searchbar",{"color":[513],"animated":[4],"autocomplete":[1],"autocorrect":[1],"cancelButtonIcon":[1,"cancel-button-icon"],"cancelButtonText":[1,"cancel-button-text"],"clearIcon":[1,"clear-icon"],"debounce":[2],"disabled":[4],"inputmode":[1],"enterkeyhint":[1],"placeholder":[1],"searchIcon":[1,"search-icon"],"showCancelButton":[1,"show-cancel-button"],"showClearButton":[1,"show-clear-button"],"spellcheck":[4],"type":[1],"value":[1025],"focused":[32],"noAnimate":[32],"setFocus":[64],"getInputElement":[64]}]]],["ion-toggle",[[33,"ion-toggle",{"color":[513],"name":[1],"checked":[1028],"disabled":[4],"value":[1],"enableOnOffLabels":[4,"enable-on-off-labels"],"labelPlacement":[1,"label-placement"],"legacy":[4],"justify":[1],"activated":[32]}]]],["ion-nav_2",[[1,"ion-nav",{"delegate":[16],"swipeGesture":[1028,"swipe-gesture"],"animated":[4],"animation":[16],"rootParams":[16],"root":[1],"push":[64],"insert":[64],"insertPages":[64],"pop":[64],"popTo":[64],"popToRoot":[64],"removeIndex":[64],"setRoot":[64],"setPages":[64],"setRouteId":[64],"getRouteId":[64],"getActive":[64],"getByIndex":[64],"canGoBack":[64],"getPrevious":[64]}],[0,"ion-nav-link",{"component":[1],"componentProps":[16],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}]]],["ion-textarea",[[34,"ion-textarea",{"color":[513],"autocapitalize":[1],"autofocus":[4],"clearOnEdit":[4,"clear-on-edit"],"debounce":[2],"disabled":[4],"fill":[1],"inputmode":[1],"enterkeyhint":[1],"maxlength":[2],"minlength":[2],"name":[1],"placeholder":[1],"readonly":[4],"required":[4],"spellcheck":[4],"cols":[2],"rows":[2],"wrap":[1],"autoGrow":[516,"auto-grow"],"value":[1025],"counter":[4],"counterFormatter":[16],"errorText":[1,"error-text"],"helperText":[1,"helper-text"],"label":[1],"labelPlacement":[1,"label-placement"],"legacy":[4],"shape":[1],"hasFocus":[32],"setFocus":[64],"getInputElement":[64]}]]],["ion-backdrop",[[33,"ion-backdrop",{"visible":[4],"tappable":[4],"stopPropagation":[4,"stop-propagation"]},[[2,"click","onMouseDown"]]]]],["ion-loading",[[34,"ion-loading",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"message":[1],"cssClass":[1,"css-class"],"duration":[2],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"spinner":[1025],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-breadcrumb_2",[[33,"ion-breadcrumb",{"collapsed":[4],"last":[4],"showCollapsedIndicator":[4,"show-collapsed-indicator"],"color":[1],"active":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"separator":[4],"target":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}],[33,"ion-breadcrumbs",{"color":[513],"maxItems":[2,"max-items"],"itemsBeforeCollapse":[2,"items-before-collapse"],"itemsAfterCollapse":[2,"items-after-collapse"],"collapsed":[32],"activeChanged":[32]},[[0,"collapsedClick","onCollapsedClick"]]]]],["ion-modal",[[33,"ion-modal",{"hasController":[4,"has-controller"],"overlayIndex":[2,"overlay-index"],"delegate":[16],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"breakpoints":[16],"initialBreakpoint":[2,"initial-breakpoint"],"backdropBreakpoint":[2,"backdrop-breakpoint"],"handle":[4],"handleBehavior":[1,"handle-behavior"],"component":[1],"componentProps":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"animated":[4],"presentingElement":[16],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"keepContentsMounted":[4,"keep-contents-mounted"],"canDismiss":[4,"can-dismiss"],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"setCurrentBreakpoint":[64],"getCurrentBreakpoint":[64]}]]],["ion-route_4",[[0,"ion-route",{"url":[1],"component":[1],"componentProps":[16],"beforeLeave":[16],"beforeEnter":[16]}],[0,"ion-route-redirect",{"from":[1],"to":[1]}],[0,"ion-router",{"root":[1],"useHash":[4,"use-hash"],"canTransition":[64],"push":[64],"back":[64],"printDebug":[64],"navChanged":[64]},[[8,"popstate","onPopState"],[4,"ionBackButton","onBackButton"]]],[1,"ion-router-link",{"color":[513],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}]]],["ion-avatar_3",[[33,"ion-avatar"],[33,"ion-badge",{"color":[513]}],[1,"ion-thumbnail"]]],["ion-col_3",[[1,"ion-col",{"offset":[1],"offsetXs":[1,"offset-xs"],"offsetSm":[1,"offset-sm"],"offsetMd":[1,"offset-md"],"offsetLg":[1,"offset-lg"],"offsetXl":[1,"offset-xl"],"pull":[1],"pullXs":[1,"pull-xs"],"pullSm":[1,"pull-sm"],"pullMd":[1,"pull-md"],"pullLg":[1,"pull-lg"],"pullXl":[1,"pull-xl"],"push":[1],"pushXs":[1,"push-xs"],"pushSm":[1,"push-sm"],"pushMd":[1,"push-md"],"pushLg":[1,"push-lg"],"pushXl":[1,"push-xl"],"size":[1],"sizeXs":[1,"size-xs"],"sizeSm":[1,"size-sm"],"sizeMd":[1,"size-md"],"sizeLg":[1,"size-lg"],"sizeXl":[1,"size-xl"]},[[9,"resize","onResize"]]],[1,"ion-grid",{"fixed":[4]}],[1,"ion-row"]]],["ion-tab_2",[[1,"ion-tab",{"active":[1028],"delegate":[16],"tab":[1],"component":[1],"setActive":[64]}],[1,"ion-tabs",{"useRouter":[1028,"use-router"],"selectedTab":[32],"select":[64],"getTab":[64],"getSelected":[64],"setRouteId":[64],"getRouteId":[64]}]]],["ion-img",[[1,"ion-img",{"alt":[1],"src":[1],"loadSrc":[32],"loadError":[32]}]]],["ion-progress-bar",[[33,"ion-progress-bar",{"type":[1],"reversed":[4],"value":[2],"buffer":[2],"color":[513]}]]],["ion-range",[[33,"ion-range",{"color":[513],"debounce":[2],"name":[1],"dualKnobs":[4,"dual-knobs"],"min":[2],"max":[2],"pin":[4],"pinFormatter":[16],"snaps":[4],"step":[2],"ticks":[4],"activeBarStart":[1026,"active-bar-start"],"disabled":[4],"value":[1026],"labelPlacement":[1,"label-placement"],"legacy":[4],"ratioA":[32],"ratioB":[32],"pressedKnob":[32]}]]],["ion-split-pane",[[33,"ion-split-pane",{"contentId":[513,"content-id"],"disabled":[4],"when":[8],"visible":[32]}]]],["ion-text",[[1,"ion-text",{"color":[513]}]]],["ion-item_8",[[33,"ion-item-divider",{"color":[513],"sticky":[4]}],[32,"ion-item-group"],[1,"ion-skeleton-text",{"animated":[4]}],[32,"ion-list",{"lines":[1],"inset":[4],"closeSlidingItems":[64]}],[33,"ion-list-header",{"color":[513],"lines":[1]}],[49,"ion-item",{"color":[513],"button":[4],"detail":[4],"detailIcon":[1,"detail-icon"],"disabled":[4],"download":[1],"fill":[1],"shape":[1],"href":[1],"rel":[1],"lines":[1],"counter":[4],"routerAnimation":[16],"routerDirection":[1,"router-direction"],"target":[1],"type":[1],"counterFormatter":[16],"multipleInputs":[32],"focusable":[32],"counterString":[32]},[[0,"ionInput","handleIonInput"],[0,"ionColor","labelColorChanged"],[0,"ionStyle","itemStyle"]]],[34,"ion-label",{"color":[513],"position":[1],"noAnimate":[32]}],[33,"ion-note",{"color":[513]}]]],["ion-select_3",[[33,"ion-select",{"cancelText":[1,"cancel-text"],"color":[513],"compareWith":[1,"compare-with"],"disabled":[4],"fill":[1],"interface":[1],"interfaceOptions":[8,"interface-options"],"justify":[1],"label":[1],"labelPlacement":[1,"label-placement"],"legacy":[4],"multiple":[4],"name":[1],"okText":[1,"ok-text"],"placeholder":[1],"selectedText":[1,"selected-text"],"shape":[1],"value":[1032],"isExpanded":[32],"open":[64]}],[1,"ion-select-option",{"disabled":[4],"value":[8]}],[34,"ion-select-popover",{"header":[1],"subHeader":[1,"sub-header"],"message":[1],"multiple":[4],"options":[16]}]]],["ion-picker-internal",[[33,"ion-picker-internal",{"exitInputMode":[64]},[[1,"touchstart","preventTouchStartPropagation"]]]]],["ion-datetime_3",[[33,"ion-datetime",{"color":[1],"name":[1],"disabled":[4],"readonly":[4],"isDateEnabled":[16],"min":[1025],"max":[1025],"presentation":[1],"cancelText":[1,"cancel-text"],"doneText":[1,"done-text"],"clearText":[1,"clear-text"],"yearValues":[8,"year-values"],"monthValues":[8,"month-values"],"dayValues":[8,"day-values"],"hourValues":[8,"hour-values"],"minuteValues":[8,"minute-values"],"locale":[1],"firstDayOfWeek":[2,"first-day-of-week"],"titleSelectedDatesFormatter":[16],"multiple":[4],"highlightedDates":[16],"value":[1025],"showDefaultTitle":[4,"show-default-title"],"showDefaultButtons":[4,"show-default-buttons"],"showClearButton":[4,"show-clear-button"],"showDefaultTimeLabel":[4,"show-default-time-label"],"hourCycle":[1,"hour-cycle"],"size":[1],"preferWheel":[4,"prefer-wheel"],"showMonthAndYear":[32],"activeParts":[32],"workingParts":[32],"isPresented":[32],"isTimePopoverOpen":[32],"confirm":[64],"reset":[64],"cancel":[64]}],[34,"ion-picker",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"columns":[16],"cssClass":[1,"css-class"],"duration":[2],"showBackdrop":[4,"show-backdrop"],"backdropDismiss":[4,"backdrop-dismiss"],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"getColumn":[64]}],[32,"ion-picker-column",{"col":[16]}]]],["ion-radio_2",[[33,"ion-radio",{"color":[513],"name":[1],"disabled":[4],"value":[8],"labelPlacement":[1,"label-placement"],"legacy":[4],"justify":[1],"checked":[32],"buttonTabindex":[32],"setFocus":[64],"setButtonTabindex":[64]}],[0,"ion-radio-group",{"allowEmptySelection":[4,"allow-empty-selection"],"name":[1],"value":[1032]},[[4,"keydown","onKeydown"]]]]],["ion-ripple-effect",[[1,"ion-ripple-effect",{"type":[1],"addRipple":[64]}]]],["ion-button_2",[[33,"ion-button",{"color":[513],"buttonType":[1025,"button-type"],"disabled":[516],"expand":[513],"fill":[1537],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"download":[1],"href":[1],"rel":[1],"shape":[513],"size":[513],"strong":[4],"target":[1],"type":[1],"form":[1]}],[1,"ion-icon",{"mode":[1025],"color":[1],"ios":[1],"md":[1],"flipRtl":[4,"flip-rtl"],"name":[513],"src":[1],"icon":[8],"size":[1],"lazy":[4],"sanitize":[4],"svgContent":[32],"isVisible":[32]}]]],["ion-action-sheet",[[34,"ion-action-sheet",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"header":[1],"subHeader":[1,"sub-header"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-alert",[[34,"ion-alert",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"header":[1],"subHeader":[1,"sub-header"],"message":[1],"buttons":[16],"inputs":[1040],"backdropDismiss":[4,"backdrop-dismiss"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},[[4,"keydown","onKeydown"]]]]],["ion-app_8",[[0,"ion-app",{"setFocus":[64]}],[1,"ion-content",{"color":[513],"fullscreen":[4],"forceOverscroll":[1028,"force-overscroll"],"scrollX":[4,"scroll-x"],"scrollY":[4,"scroll-y"],"scrollEvents":[4,"scroll-events"],"getScrollElement":[64],"getBackgroundElement":[64],"scrollToTop":[64],"scrollToBottom":[64],"scrollByPoint":[64],"scrollToPoint":[64]},[[8,"appload","onAppLoad"],[9,"resize","onResize"]]],[36,"ion-footer",{"collapse":[1],"translucent":[4],"keyboardVisible":[32]}],[36,"ion-header",{"collapse":[1],"translucent":[4]}],[1,"ion-router-outlet",{"mode":[1025],"delegate":[16],"animated":[4],"animation":[16],"swipeHandler":[16],"commit":[64],"setRouteId":[64],"getRouteId":[64]}],[33,"ion-title",{"color":[513],"size":[1]}],[33,"ion-toolbar",{"color":[513]},[[0,"ionStyle","childrenStyle"]]],[34,"ion-buttons",{"collapse":[4]}]]],["ion-picker-column-internal",[[33,"ion-picker-column-internal",{"items":[16],"value":[1032],"color":[513],"numericInput":[4,"numeric-input"],"isActive":[32],"scrollActiveItemIntoView":[64],"setValue":[64]}]]],["ion-popover",[[33,"ion-popover",{"hasController":[4,"has-controller"],"delegate":[16],"overlayIndex":[2,"overlay-index"],"enterAnimation":[16],"leaveAnimation":[16],"component":[1],"componentProps":[16],"keyboardClose":[4,"keyboard-close"],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"event":[8],"showBackdrop":[4,"show-backdrop"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"triggerAction":[1,"trigger-action"],"trigger":[1],"size":[1],"dismissOnSelect":[4,"dismiss-on-select"],"reference":[1],"side":[1],"alignment":[1025],"arrow":[4],"isOpen":[4,"is-open"],"keyboardEvents":[4,"keyboard-events"],"keepContentsMounted":[4,"keep-contents-mounted"],"presented":[32],"presentFromTrigger":[64],"present":[64],"dismiss":[64],"getParentPopover":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-checkbox",[[33,"ion-checkbox",{"color":[513],"name":[1],"checked":[1028],"indeterminate":[1028],"disabled":[4],"value":[8],"labelPlacement":[1,"label-placement"],"justify":[1],"legacy":[4]}]]],["ion-spinner",[[1,"ion-spinner",{"color":[513],"duration":[2],"name":[1],"paused":[4]}]]]]'),Se))))(0,{exclude:["ion-tabs","ion-tab"],syncQueue:!0,raf:se,jmp:oi=>$.runOutsideAngular(oi),ael(oi,Yi,Tr,cs){oi[ut](Yi,Tr,cs)},rel(oi,Yi,Tr,cs){oi.removeEventListener(Yi,Tr,cs)}}))}};let Ho=(()=>{class F{static forRoot($){return{ngModule:F,providers:[{provide:fe,useValue:$},{provide:y.ip1,useFactory:bs,multi:!0,deps:[fe,Le.K0,y.R0b]}]}}}return F.\u0275fac=function($){return new($||F)},F.\u0275mod=y.oAB({type:F}),F.\u0275inj=y.cJS({providers:[yi,ms,no],imports:[Le.ez]}),F})()},3192:(Ii,ln,Y)=>{"use strict";Y.d(ln,{kL:()=>fo,zX:()=>ca});var c=Y(1086);class y{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(m,u,g,b){const R=u.duration;u.listeners[b].forEach(j=>j({chart:m,initial:u.initial,numSteps:R,currentStep:Math.min(g-u.start,R)}))}_refresh(){this._request||(this._running=!0,this._request=c.r.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(m=Date.now()){let u=0;this._charts.forEach((g,b)=>{if(!g.running||!g.items.length)return;const D=g.items;let q,R=D.length-1,j=!1;for(;R>=0;--R)q=D[R],q._active?(q._total>g.duration&&(g.duration=q._total),q.tick(m),j=!0):(D[R]=D[D.length-1],D.pop());j&&(b.draw(),this._notify(b,g,m,"progress")),D.length||(g.running=!1,this._notify(b,g,m,"complete"),g.initial=!1),u+=D.length}),this._lastDate=m,0===u&&(this._running=!1)}_getAnims(m){const u=this._charts;let g=u.get(m);return g||(g={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},u.set(m,g)),g}listen(m,u,g){this._getAnims(m).listeners[u].push(g)}add(m,u){!u||!u.length||this._getAnims(m).items.push(...u)}has(m){return this._getAnims(m).items.length>0}start(m){const u=this._charts.get(m);u&&(u.running=!0,u.start=Date.now(),u.duration=u.items.reduce((g,b)=>Math.max(g,b._duration),0),this._refresh())}running(m){if(!this._running)return!1;const u=this._charts.get(m);return!(!u||!u.running||!u.items.length)}stop(m){const u=this._charts.get(m);if(!u||!u.items.length)return;const g=u.items;let b=g.length-1;for(;b>=0;--b)g[b].cancel();u.items=[],this._notify(m,u,Date.now(),"complete")}remove(m){return this._charts.delete(m)}}var De=new y;const ze="transparent",dt={boolean:(E,m,u)=>u>.5?m:E,color(E,m,u){const g=(0,c.c)(E||ze),b=g.valid&&(0,c.c)(m||ze);return b&&b.valid?b.mix(g,u).hexString():m},number:(E,m,u)=>E+(m-E)*u};class Ye{constructor(m,u,g,b){const D=u[g];b=(0,c.a)([m.to,b,D,m.from]);const R=(0,c.a)([m.from,D,b]);this._active=!0,this._fn=m.fn||dt[m.type||typeof R],this._easing=c.e[m.easing]||c.e.linear,this._start=Math.floor(Date.now()+(m.delay||0)),this._duration=this._total=Math.floor(m.duration),this._loop=!!m.loop,this._target=u,this._prop=g,this._from=R,this._to=b,this._promises=void 0}active(){return this._active}update(m,u,g){if(this._active){this._notify(!1);const b=this._target[this._prop],D=g-this._start,R=this._duration-D;this._start=g,this._duration=Math.floor(Math.max(R,m.duration)),this._total+=D,this._loop=!!m.loop,this._to=(0,c.a)([m.to,u,b,m.from]),this._from=(0,c.a)([m.from,b,u])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(m){const u=m-this._start,g=this._duration,b=this._prop,D=this._from,R=this._loop,j=this._to;let q;if(this._active=D!==j&&(R||u<g),!this._active)return this._target[b]=j,void this._notify(!0);u<0?this._target[b]=D:(q=u/g%2,q=R&&q>1?2-q:q,q=this._easing(Math.min(1,Math.max(0,q))),this._target[b]=this._fn(D,j,q))}wait(){const m=this._promises||(this._promises=[]);return new Promise((u,g)=>{m.push({res:u,rej:g})})}_notify(m){const u=m?"res":"rej",g=this._promises||[];for(let b=0;b<g.length;b++)g[b][u]()}}class be{constructor(m,u){this._chart=m,this._properties=new Map,this.configure(u)}configure(m){if(!(0,c.i)(m))return;const u=Object.keys(c.d.animation),g=this._properties;Object.getOwnPropertyNames(m).forEach(b=>{const D=m[b];if(!(0,c.i)(D))return;const R={};for(const j of u)R[j]=D[j];((0,c.b)(D.properties)&&D.properties||[b]).forEach(j=>{(j===b||!g.has(j))&&g.set(j,R)})})}_animateOptions(m,u){const g=u.options,b=function Ke(E,m){if(!m)return;let u=E.options;if(u)return u.$shared&&(E.options=u=Object.assign({},u,{$shared:!1,$animations:{}})),u;E.options=m}(m,g);if(!b)return[];const D=this._createAnimations(b,g);return g.$shared&&function $e(E,m){const u=[],g=Object.keys(m);for(let b=0;b<g.length;b++){const D=E[g[b]];D&&D.active()&&u.push(D.wait())}return Promise.all(u)}(m.options.$animations,g).then(()=>{m.options=g},()=>{}),D}_createAnimations(m,u){const g=this._properties,b=[],D=m.$animations||(m.$animations={}),R=Object.keys(u),j=Date.now();let q;for(q=R.length-1;q>=0;--q){const ue=R[q];if("$"===ue.charAt(0))continue;if("options"===ue){b.push(...this._animateOptions(m,u));continue}const ke=u[ue];let rt=D[ue];const kt=g.get(ue);if(rt){if(kt&&rt.active()){rt.update(kt,ke,j);continue}rt.cancel()}kt&&kt.duration?(D[ue]=rt=new Ye(kt,m,ue,ke),b.push(rt)):m[ue]=ke}return b}update(m,u){if(0===this._properties.size)return void Object.assign(m,u);const g=this._createAnimations(m,u);return g.length?(De.add(this._chart,g),!0):void 0}}function Ue(E,m){const u=E&&E.options||{},g=u.reverse,b=void 0===u.min?m:0,D=void 0===u.max?m:0;return{start:g?D:b,end:g?b:D}}function Le(E,m){const u=[],g=E._getSortedDatasetMetas(m);let b,D;for(b=0,D=g.length;b<D;++b)u.push(g[b].index);return u}function Qe(E,m,u,g={}){const b=E.keys,D="single"===g.mode;let R,j,q,ue;if(null!==m){for(R=0,j=b.length;R<j;++R){if(q=+b[R],q===u){if(g.all)continue;break}ue=E.values[q],(0,c.g)(ue)&&(D||0===m||(0,c.s)(m)===(0,c.s)(ue))&&(m+=ue)}return m}}function an(E,m){const u=E&&E.options.stacked;return u||void 0===u&&void 0!==m.stack}function on(E,m,u){const g=E[m]||(E[m]={});return g[u]||(g[u]={})}function It(E,m,u,g){for(const b of m.getMatchingVisibleMetas(g).reverse()){const D=E[b.index];if(u&&D>0||!u&&D<0)return b.index}return null}function bt(E,m){const{chart:u,_cachedMeta:g}=E,b=u._stacks||(u._stacks={}),{iScale:D,vScale:R,index:j}=g,q=D.axis,ue=R.axis,ke=function nt(E,m,u){return`${E.id}.${m.id}.${u.stack||u.type}`}(D,R,g),rt=m.length;let kt;for(let Bt=0;Bt<rt;++Bt){const Sn=m[Bt],{[q]:kn,[ue]:jn}=Sn;kt=(Sn._stacks||(Sn._stacks={}))[ue]=on(b,ke,kn),kt[j]=jn,kt._top=It(kt,R,!0,g.type),kt._bottom=It(kt,R,!1,g.type),(kt._visualValues||(kt._visualValues={}))[j]=jn}}function zt(E,m){const u=E.scales;return Object.keys(u).filter(g=>u[g].axis===m).shift()}function tt(E,m){const u=E.controller.index,g=E.vScale&&E.vScale.axis;if(g){m=m||E._parsed;for(const b of m){const D=b._stacks;if(!D||void 0===D[g]||void 0===D[g][u])return;delete D[g][u],void 0!==D[g]._visualValues&&void 0!==D[g]._visualValues[u]&&delete D[g]._visualValues[u]}}}const se=E=>"reset"===E||"none"===E,Vt=(E,m)=>m?E:Object.assign({},E);let tn=(()=>{class E{constructor(u,g){this.chart=u,this._ctx=u.ctx,this.index=g,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const u=this._cachedMeta;this.configure(),this.linkScales(),u._stacked=an(u.vScale,u),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(u){this.index!==u&&tt(this._cachedMeta),this.index=u}linkScales(){const u=this.chart,g=this._cachedMeta,b=this.getDataset(),D=(kt,Bt,Sn,kn)=>"x"===kt?Bt:"r"===kt?kn:Sn,R=g.xAxisID=(0,c.v)(b.xAxisID,zt(u,"x")),j=g.yAxisID=(0,c.v)(b.yAxisID,zt(u,"y")),q=g.rAxisID=(0,c.v)(b.rAxisID,zt(u,"r")),ue=g.indexAxis,ke=g.iAxisID=D(ue,R,j,q),rt=g.vAxisID=D(ue,j,R,q);g.xScale=this.getScaleForId(R),g.yScale=this.getScaleForId(j),g.rScale=this.getScaleForId(q),g.iScale=this.getScaleForId(ke),g.vScale=this.getScaleForId(rt)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(u){return this.chart.scales[u]}_getOtherScale(u){const g=this._cachedMeta;return u===g.iScale?g.vScale:g.iScale}reset(){this._update("reset")}_destroy(){const u=this._cachedMeta;this._data&&(0,c.u)(this._data,this),u._stacked&&tt(u)}_dataCheck(){const u=this.getDataset(),g=u.data||(u.data=[]),b=this._data;if((0,c.i)(g))this._data=function At(E){const m=Object.keys(E),u=new Array(m.length);let g,b,D;for(g=0,b=m.length;g<b;++g)D=m[g],u[g]={x:D,y:E[D]};return u}(g);else if(b!==g){if(b){(0,c.u)(b,this);const D=this._cachedMeta;tt(D),D._parsed=[]}g&&Object.isExtensible(g)&&(0,c.l)(g,this),this._syncList=[],this._data=g}}addElements(){const u=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(u.dataset=new this.datasetElementType)}buildOrUpdateElements(u){const g=this._cachedMeta,b=this.getDataset();let D=!1;this._dataCheck();const R=g._stacked;g._stacked=an(g.vScale,g),g.stack!==b.stack&&(D=!0,tt(g),g.stack=b.stack),this._resyncElements(u),(D||R!==g._stacked)&&bt(this,g._parsed)}configure(){const u=this.chart.config,g=u.datasetScopeKeys(this._type),b=u.getOptionScopes(this.getDataset(),g,!0);this.options=u.createResolver(b,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(u,g){const{_cachedMeta:b,_data:D}=this,{iScale:R,_stacked:j}=b,q=R.axis;let rt,kt,Bt,ue=0===u&&g===D.length||b._sorted,ke=u>0&&b._parsed[u-1];if(!1===this._parsing)b._parsed=D,b._sorted=!0,Bt=D;else{Bt=(0,c.b)(D[u])?this.parseArrayData(b,D,u,g):(0,c.i)(D[u])?this.parseObjectData(b,D,u,g):this.parsePrimitiveData(b,D,u,g);const Sn=()=>null===kt[q]||ke&&kt[q]<ke[q];for(rt=0;rt<g;++rt)b._parsed[rt+u]=kt=Bt[rt],ue&&(Sn()&&(ue=!1),ke=kt);b._sorted=ue}j&&bt(this,Bt)}parsePrimitiveData(u,g,b,D){const{iScale:R,vScale:j}=u,q=R.axis,ue=j.axis,ke=R.getLabels(),rt=R===j,kt=new Array(D);let Bt,Sn,kn;for(Bt=0,Sn=D;Bt<Sn;++Bt)kn=Bt+b,kt[Bt]={[q]:rt||R.parse(ke[kn],kn),[ue]:j.parse(g[kn],kn)};return kt}parseArrayData(u,g,b,D){const{xScale:R,yScale:j}=u,q=new Array(D);let ue,ke,rt,kt;for(ue=0,ke=D;ue<ke;++ue)rt=ue+b,kt=g[rt],q[ue]={x:R.parse(kt[0],rt),y:j.parse(kt[1],rt)};return q}parseObjectData(u,g,b,D){const{xScale:R,yScale:j}=u,{xAxisKey:q="x",yAxisKey:ue="y"}=this._parsing,ke=new Array(D);let rt,kt,Bt,Sn;for(rt=0,kt=D;rt<kt;++rt)Bt=rt+b,Sn=g[Bt],ke[rt]={x:R.parse((0,c.f)(Sn,q),Bt),y:j.parse((0,c.f)(Sn,ue),Bt)};return ke}getParsed(u){return this._cachedMeta._parsed[u]}getDataElement(u){return this._cachedMeta.data[u]}applyStack(u,g,b){const R=this._cachedMeta,j=g[u.axis];return Qe({keys:Le(this.chart,!0),values:g._stacks[u.axis]._visualValues},j,R.index,{mode:b})}updateRangeFromParsed(u,g,b,D){const R=b[g.axis];let j=null===R?NaN:R;const q=D&&b._stacks[g.axis];D&&q&&(D.values=q,j=Qe(D,R,this._cachedMeta.index)),u.min=Math.min(u.min,j),u.max=Math.max(u.max,j)}getMinMax(u,g){const b=this._cachedMeta,D=b._parsed,R=b._sorted&&u===b.iScale,j=D.length,q=this._getOtherScale(u),ue=((E,m,u)=>E&&!m.hidden&&m._stacked&&{keys:Le(this.chart,!0),values:null})(g,b),ke={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:rt,max:kt}=function Ze(E){const{min:m,max:u,minDefined:g,maxDefined:b}=E.getUserBounds();return{min:g?m:Number.NEGATIVE_INFINITY,max:b?u:Number.POSITIVE_INFINITY}}(q);let Bt,Sn;function kn(){Sn=D[Bt];const jn=Sn[q.axis];return!(0,c.g)(Sn[u.axis])||rt>jn||kt<jn}for(Bt=0;Bt<j&&(kn()||(this.updateRangeFromParsed(ke,u,Sn,ue),!R));++Bt);if(R)for(Bt=j-1;Bt>=0;--Bt)if(!kn()){this.updateRangeFromParsed(ke,u,Sn,ue);break}return ke}getAllParsedValues(u){const g=this._cachedMeta._parsed,b=[];let D,R,j;for(D=0,R=g.length;D<R;++D)j=g[D][u.axis],(0,c.g)(j)&&b.push(j);return b}getMaxOverflow(){return!1}getLabelAndValue(u){const g=this._cachedMeta,b=g.iScale,D=g.vScale,R=this.getParsed(u);return{label:b?""+b.getLabelForValue(R[b.axis]):"",value:D?""+D.getLabelForValue(R[D.axis]):""}}_update(u){const g=this._cachedMeta;this.update(u||"default"),g._clip=function Xe(E){let m,u,g,b;return(0,c.i)(E)?(m=E.top,u=E.right,g=E.bottom,b=E.left):m=u=g=b=E,{top:m,right:u,bottom:g,left:b,disabled:!1===E}}((0,c.v)(this.options.clip,function Re(E,m,u){if(!1===u)return!1;const g=Ue(E,u),b=Ue(m,u);return{top:b.end,right:g.end,bottom:b.start,left:g.start}}(g.xScale,g.yScale,this.getMaxOverflow())))}update(u){}draw(){const u=this._ctx,b=this._cachedMeta,D=b.data||[],R=this.chart.chartArea,j=[],q=this._drawStart||0,ue=this._drawCount||D.length-q,ke=this.options.drawActiveElementsOnTop;let rt;for(b.dataset&&b.dataset.draw(u,R,q,ue),rt=q;rt<q+ue;++rt){const kt=D[rt];kt.hidden||(kt.active&&ke?j.push(kt):kt.draw(u,R))}for(rt=0;rt<j.length;++rt)j[rt].draw(u,R)}getStyle(u,g){const b=g?"active":"default";return void 0===u&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(b):this.resolveDataElementOptions(u||0,b)}getContext(u,g,b){const D=this.getDataset();let R;if(u>=0&&u<this._cachedMeta.data.length){const j=this._cachedMeta.data[u];R=j.$context||(j.$context=function Yt(E,m,u){return(0,c.j)(E,{active:!1,dataIndex:m,parsed:void 0,raw:void 0,element:u,index:m,mode:"default",type:"data"})}(this.getContext(),u,j)),R.parsed=this.getParsed(u),R.raw=D.data[u],R.index=R.dataIndex=u}else R=this.$context||(this.$context=function Jt(E,m){return(0,c.j)(E,{active:!1,dataset:void 0,datasetIndex:m,index:m,mode:"default",type:"dataset"})}(this.chart.getContext(),this.index)),R.dataset=D,R.index=R.datasetIndex=this.index;return R.active=!!g,R.mode=b,R}resolveDatasetElementOptions(u){return this._resolveElementOptions(this.datasetElementType.id,u)}resolveDataElementOptions(u,g){return this._resolveElementOptions(this.dataElementType.id,g,u)}_resolveElementOptions(u,g="default",b){const D="active"===g,R=this._cachedDataOpts,j=u+"-"+g,q=R[j],ue=this.enableOptionSharing&&(0,c.h)(b);if(q)return Vt(q,ue);const ke=this.chart.config,rt=ke.datasetElementScopeKeys(this._type,u),kt=D?[`${u}Hover`,"hover",u,""]:[u,""],Bt=ke.getOptionScopes(this.getDataset(),rt),Sn=Object.keys(c.d.elements[u]),jn=ke.resolveNamedOptions(Bt,Sn,()=>this.getContext(b,D,g),kt);return jn.$shared&&(jn.$shared=ue,R[j]=Object.freeze(Vt(jn,ue))),jn}_resolveAnimations(u,g,b){const D=this.chart,R=this._cachedDataOpts,j=`animation-${g}`,q=R[j];if(q)return q;let ue;if(!1!==D.options.animation){const rt=this.chart.config,kt=rt.datasetAnimationScopeKeys(this._type,g),Bt=rt.getOptionScopes(this.getDataset(),kt);ue=rt.createResolver(Bt,this.getContext(u,b,g))}const ke=new be(D,ue&&ue.animations);return ue&&ue._cacheable&&(R[j]=Object.freeze(ke)),ke}getSharedOptions(u){if(u.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},u))}includeOptions(u,g){return!g||se(u)||this.chart._animationsDisabled}_getSharedOptions(u,g){const b=this.resolveDataElementOptions(u,g),D=this._sharedOptions,R=this.getSharedOptions(b),j=this.includeOptions(g,R)||R!==D;return this.updateSharedOptions(R,g,b),{sharedOptions:R,includeOptions:j}}updateElement(u,g,b,D){se(D)?Object.assign(u,b):this._resolveAnimations(g,D).update(u,b)}updateSharedOptions(u,g,b){u&&!se(g)&&this._resolveAnimations(void 0,g).update(u,b)}_setStyle(u,g,b,D){u.active=D;const R=this.getStyle(g,D);this._resolveAnimations(g,b,D).update(u,{options:!D&&this.getSharedOptions(R)||R})}removeHoverStyle(u,g,b){this._setStyle(u,b,"active",!1)}setHoverStyle(u,g,b){this._setStyle(u,b,"active",!0)}_removeDatasetHoverStyle(){const u=this._cachedMeta.dataset;u&&this._setStyle(u,void 0,"active",!1)}_setDatasetHoverStyle(){const u=this._cachedMeta.dataset;u&&this._setStyle(u,void 0,"active",!0)}_resyncElements(u){const g=this._data,b=this._cachedMeta.data;for(const[q,ue,ke]of this._syncList)this[q](ue,ke);this._syncList=[];const D=b.length,R=g.length,j=Math.min(R,D);j&&this.parse(0,j),R>D?this._insertElements(D,R-D,u):R<D&&this._removeElements(R,D-R)}_insertElements(u,g,b=!0){const D=this._cachedMeta,R=D.data,j=u+g;let q;const ue=ke=>{for(ke.length+=g,q=ke.length-1;q>=j;q--)ke[q]=ke[q-g]};for(ue(R),q=u;q<j;++q)R[q]=new this.dataElementType;this._parsing&&ue(D._parsed),this.parse(u,g),b&&this.updateElements(R,u,g,"reset")}updateElements(u,g,b,D){}_removeElements(u,g){const b=this._cachedMeta;if(this._parsing){const D=b._parsed.splice(u,g);b._stacked&&tt(b,D)}b.data.splice(u,g)}_sync(u){if(this._parsing)this._syncList.push(u);else{const[g,b,D]=u;this[g](b,D)}this.chart._dataChanges.push([this.index,...u])}_onDataPush(){const u=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-u,u])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(u,g){g&&this._sync(["_removeElements",u,g]);const b=arguments.length-2;b&&this._sync(["_insertElements",u,b])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}return E.defaults={},E.datasetElementType=null,E.dataElementType=null,E})();function ct(E){const m=E.iScale,u=function dn(E,m){if(!E._cache.$bar){const u=E.getMatchingVisibleMetas(m);let g=[];for(let b=0,D=u.length;b<D;b++)g=g.concat(u[b].controller.getAllParsedValues(E));E._cache.$bar=(0,c._)(g.sort((b,D)=>b-D))}return E._cache.$bar}(m,E.type);let b,D,R,j,g=m._length;const q=()=>{32767===R||-32768===R||((0,c.h)(j)&&(g=Math.min(g,Math.abs(R-j)||g)),j=R)};for(b=0,D=u.length;b<D;++b)R=m.getPixelForValue(u[b]),q();for(j=void 0,b=0,D=m.ticks.length;b<D;++b)R=m.getPixelForTick(b),q();return g}function ft(E,m,u,g){return(0,c.b)(E)?function Ot(E,m,u,g){const b=u.parse(E[0],g),D=u.parse(E[1],g),R=Math.min(b,D),j=Math.max(b,D);let q=R,ue=j;Math.abs(R)>Math.abs(j)&&(q=j,ue=R),m[u.axis]=ue,m._custom={barStart:q,barEnd:ue,start:b,end:D,min:R,max:j}}(E,m,u,g):m[u.axis]=u.parse(E,g),m}function Je(E,m,u,g){const b=E.iScale,D=E.vScale,R=b.getLabels(),j=b===D,q=[];let ue,ke,rt,kt;for(ue=u,ke=u+g;ue<ke;++ue)kt=m[ue],rt={},rt[b.axis]=j||b.parse(R[ue],ue),q.push(ft(kt,rt,D,ue));return q}function Et(E){return E&&void 0!==E.barStart&&void 0!==E.barEnd}function xn(E,m,u,g){let b=m.borderSkipped;const D={};if(!b)return void(E.borderSkipped=D);if(!0===b)return void(E.borderSkipped={top:!0,right:!0,bottom:!0,left:!0});const{start:R,end:j,reverse:q,top:ue,bottom:ke}=function qt(E){let m,u,g,b,D;return E.horizontal?(m=E.base>E.x,u="left",g="right"):(m=E.base<E.y,u="bottom",g="top"),m?(b="end",D="start"):(b="start",D="end"),{start:u,end:g,reverse:m,top:b,bottom:D}}(E);"middle"===b&&u&&(E.enableBorderRadius=!0,(u._top||0)===g?b=ue:(u._bottom||0)===g?b=ke:(D[Gt(ke,R,j,q)]=!0,b=ue)),D[Gt(b,R,j,q)]=!0,E.borderSkipped=D}function Gt(E,m,u,g){return g?(E=function li(E,m,u){return E===m?u:E===u?m:E}(E,m,u),E=Dn(E,u,m)):E=Dn(E,m,u),E}function Dn(E,m,u){return"start"===E?m:"end"===E?u:E}function Nt(E,{inflateAmount:m},u){E.inflateAmount="auto"===m?1===u?.33:0:m}let On=(()=>{class E extends tn{parsePrimitiveData(u,g,b,D){return Je(u,g,b,D)}parseArrayData(u,g,b,D){return Je(u,g,b,D)}parseObjectData(u,g,b,D){const{iScale:R,vScale:j}=u,{xAxisKey:q="x",yAxisKey:ue="y"}=this._parsing,ke="x"===R.axis?q:ue,rt="x"===j.axis?q:ue,kt=[];let Bt,Sn,kn,jn;for(Bt=b,Sn=b+D;Bt<Sn;++Bt)jn=g[Bt],kn={},kn[R.axis]=R.parse((0,c.f)(jn,ke),Bt),kt.push(ft((0,c.f)(jn,rt),kn,j,Bt));return kt}updateRangeFromParsed(u,g,b,D){super.updateRangeFromParsed(u,g,b,D);const R=b._custom;R&&g===this._cachedMeta.vScale&&(u.min=Math.min(u.min,R.min),u.max=Math.max(u.max,R.max))}getMaxOverflow(){return 0}getLabelAndValue(u){const g=this._cachedMeta,{iScale:b,vScale:D}=g,R=this.getParsed(u),j=R._custom,q=Et(j)?"["+j.start+", "+j.end+"]":""+D.getLabelForValue(R[D.axis]);return{label:""+b.getLabelForValue(R[b.axis]),value:q}}initialize(){this.enableOptionSharing=!0,super.initialize(),this._cachedMeta.stack=this.getDataset().stack}update(u){const g=this._cachedMeta;this.updateElements(g.data,0,g.data.length,u)}updateElements(u,g,b,D){const R="reset"===D,{index:j,_cachedMeta:{vScale:q}}=this,ue=q.getBasePixel(),ke=q.isHorizontal(),rt=this._getRuler(),{sharedOptions:kt,includeOptions:Bt}=this._getSharedOptions(g,D);for(let Sn=g;Sn<g+b;Sn++){const kn=this.getParsed(Sn),jn=R||(0,c.k)(kn[q.axis])?{base:ue,head:ue}:this._calculateBarValuePixels(Sn),Ei=this._calculateBarIndexPixels(Sn,rt),di=(kn._stacks||{})[q.axis],Gi={horizontal:ke,base:jn.base,enableBorderRadius:!di||Et(kn._custom)||j===di._top||j===di._bottom,x:ke?jn.head:Ei.center,y:ke?Ei.center:jn.head,height:ke?Ei.size:Math.abs(jn.size),width:ke?Math.abs(jn.size):Ei.size};Bt&&(Gi.options=kt||this.resolveDataElementOptions(Sn,u[Sn].active?"active":D));const qi=Gi.options||u[Sn].options;xn(Gi,qi,di,j),Nt(Gi,qi,rt.ratio),this.updateElement(u[Sn],Sn,Gi,D)}}_getStacks(u,g){const{iScale:b}=this._cachedMeta,D=b.getMatchingVisibleMetas(this._type).filter(ue=>ue.controller.options.grouped),R=b.options.stacked,j=[],q=ue=>{const ke=ue.controller.getParsed(g),rt=ke&&ke[ue.vScale.axis];if((0,c.k)(rt)||isNaN(rt))return!0};for(const ue of D)if((void 0===g||!q(ue))&&((!1===R||-1===j.indexOf(ue.stack)||void 0===R&&void 0===ue.stack)&&j.push(ue.stack),ue.index===u))break;return j.length||j.push(void 0),j}_getStackCount(u){return this._getStacks(void 0,u).length}_getStackIndex(u,g,b){const D=this._getStacks(u,b),R=void 0!==g?D.indexOf(g):-1;return-1===R?D.length-1:R}_getRuler(){const u=this.options,g=this._cachedMeta,b=g.iScale,D=[];let R,j;for(R=0,j=g.data.length;R<j;++R)D.push(b.getPixelForValue(this.getParsed(R)[b.axis],R));const q=u.barThickness;return{min:q||ct(g),pixels:D,start:b._startPixel,end:b._endPixel,stackCount:this._getStackCount(),scale:b,grouped:u.grouped,ratio:q?1:u.categoryPercentage*u.barPercentage}}_calculateBarValuePixels(u){const{_cachedMeta:{vScale:g,_stacked:b,index:D},options:{base:R,minBarLength:j}}=this,q=R||0,ue=this.getParsed(u),ke=ue._custom,rt=Et(ke);let kn,jn,kt=ue[g.axis],Bt=0,Sn=b?this.applyStack(g,ue,b):kt;Sn!==kt&&(Bt=Sn-kt,Sn=kt),rt&&(kt=ke.barStart,Sn=ke.barEnd-ke.barStart,0!==kt&&(0,c.s)(kt)!==(0,c.s)(ke.barEnd)&&(Bt=0),Bt+=kt);const Ei=(0,c.k)(R)||rt?Bt:R;let di=g.getPixelForValue(Ei);if(kn=this.chart.getDataVisibility(u)?g.getPixelForValue(Bt+Sn):di,jn=kn-di,Math.abs(jn)<j){jn=function vn(E,m,u){return 0!==E?(0,c.s)(E):(m.isHorizontal()?1:-1)*(m.min>=u?1:-1)}(jn,g,q)*j,kt===q&&(di-=jn/2);const Gi=g.getPixelForDecimal(0),qi=g.getPixelForDecimal(1),Oi=Math.min(Gi,qi),zi=Math.max(Gi,qi);di=Math.max(Math.min(di,zi),Oi),kn=di+jn,b&&!rt&&(ue._stacks[g.axis]._visualValues[D]=g.getValueForPixel(kn)-g.getValueForPixel(di))}if(di===g.getPixelForValue(q)){const Gi=(0,c.s)(jn)*g.getLineWidthForValue(q)/2;di+=Gi,jn-=Gi}return{size:jn,base:di,head:kn,center:kn+jn/2}}_calculateBarIndexPixels(u,g){const b=g.scale,D=this.options,R=D.skipNull,j=(0,c.v)(D.maxBarThickness,1/0);let q,ue;if(g.grouped){const ke=R?this._getStackCount(u):g.stackCount,rt="flex"===D.barThickness?function wt(E,m,u,g){const b=m.pixels,D=b[E];let R=E>0?b[E-1]:null,j=E<b.length-1?b[E+1]:null;const q=u.categoryPercentage;null===R&&(R=D-(null===j?m.end-m.start:j-D)),null===j&&(j=D+D-R);const ue=D-(D-Math.min(R,j))/2*q;return{chunk:Math.abs(j-R)/2*q/g,ratio:u.barPercentage,start:ue}}(u,g,D,ke):function et(E,m,u,g){const b=u.barThickness;let D,R;return(0,c.k)(b)?(D=m.min*u.categoryPercentage,R=u.barPercentage):(D=b*g,R=1),{chunk:D/g,ratio:R,start:m.pixels[E]-D/2}}(u,g,D,ke),kt=this._getStackIndex(this.index,this._cachedMeta.stack,R?u:void 0);q=rt.start+rt.chunk*kt+rt.chunk/2,ue=Math.min(j,rt.chunk*rt.ratio)}else q=b.getPixelForValue(this.getParsed(u)[b.axis],u),ue=Math.min(j,g.min*g.ratio);return{base:q-ue/2,head:q+ue/2,center:q,size:ue}}draw(){const u=this._cachedMeta,g=u.vScale,b=u.data,D=b.length;let R=0;for(;R<D;++R)null!==this.getParsed(R)[g.axis]&&b[R].draw(this._ctx)}}return E.id="bar",E.defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}},E.overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}},E})(),Vn=(()=>{class E extends tn{initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(u,g,b,D){const R=super.parsePrimitiveData(u,g,b,D);for(let j=0;j<R.length;j++)R[j]._custom=this.resolveDataElementOptions(j+b).radius;return R}parseArrayData(u,g,b,D){const R=super.parseArrayData(u,g,b,D);for(let j=0;j<R.length;j++)R[j]._custom=(0,c.v)(g[b+j][2],this.resolveDataElementOptions(j+b).radius);return R}parseObjectData(u,g,b,D){const R=super.parseObjectData(u,g,b,D);for(let j=0;j<R.length;j++){const q=g[b+j];R[j]._custom=(0,c.v)(q&&q.r&&+q.r,this.resolveDataElementOptions(j+b).radius)}return R}getMaxOverflow(){const u=this._cachedMeta.data;let g=0;for(let b=u.length-1;b>=0;--b)g=Math.max(g,u[b].size(this.resolveDataElementOptions(b))/2);return g>0&&g}getLabelAndValue(u){const g=this._cachedMeta,b=this.chart.data.labels||[],{xScale:D,yScale:R}=g,j=this.getParsed(u),q=D.getLabelForValue(j.x),ue=R.getLabelForValue(j.y),ke=j._custom;return{label:b[u]||"",value:"("+q+", "+ue+(ke?", "+ke:"")+")"}}update(u){const g=this._cachedMeta.data;this.updateElements(g,0,g.length,u)}updateElements(u,g,b,D){const R="reset"===D,{iScale:j,vScale:q}=this._cachedMeta,{sharedOptions:ue,includeOptions:ke}=this._getSharedOptions(g,D),rt=j.axis,kt=q.axis;for(let Bt=g;Bt<g+b;Bt++){const Sn=u[Bt],kn=!R&&this.getParsed(Bt),jn={},Ei=jn[rt]=R?j.getPixelForDecimal(.5):j.getPixelForValue(kn[rt]),di=jn[kt]=R?q.getBasePixel():q.getPixelForValue(kn[kt]);jn.skip=isNaN(Ei)||isNaN(di),ke&&(jn.options=ue||this.resolveDataElementOptions(Bt,Sn.active?"active":D),R&&(jn.options.radius=0)),this.updateElement(Sn,Bt,jn,D)}}resolveDataElementOptions(u,g){const b=this.getParsed(u);let D=super.resolveDataElementOptions(u,g);D.$shared&&(D=Object.assign({},D,{$shared:!1}));const R=D.radius;return"active"!==g&&(D.radius=0),D.radius+=(0,c.v)(b&&b._custom,R),D}}return E.id="bubble",E.defaults={datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}},E.overrides={scales:{x:{type:"linear"},y:{type:"linear"}}},E})(),Di=(()=>{class E extends tn{constructor(u,g){super(u,g),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(u,g){const b=this.getDataset().data,D=this._cachedMeta;if(!1===this._parsing)D._parsed=b;else{let j,q,R=ue=>+b[ue];if((0,c.i)(b[u])){const{key:ue="value"}=this._parsing;R=ke=>+(0,c.f)(b[ke],ue)}for(j=u,q=u+g;j<q;++j)D._parsed[j]=R(j)}}_getRotation(){return(0,c.t)(this.options.rotation-90)}_getCircumference(){return(0,c.t)(this.options.circumference)}_getRotationExtents(){let u=c.T,g=-c.T;for(let b=0;b<this.chart.data.datasets.length;++b)if(this.chart.isDatasetVisible(b)&&this.chart.getDatasetMeta(b).type===this._type){const D=this.chart.getDatasetMeta(b).controller,R=D._getRotation(),j=D._getCircumference();u=Math.min(u,R),g=Math.max(g,R+j)}return{rotation:u,circumference:g-u}}update(u){const g=this.chart,{chartArea:b}=g,D=this._cachedMeta,R=D.data,j=this.getMaxBorderWidth()+this.getMaxOffset(R)+this.options.spacing,q=Math.max((Math.min(b.width,b.height)-j)/2,0),ue=Math.min((0,c.m)(this.options.cutout,q),1),ke=this._getRingWeight(this.index),{circumference:rt,rotation:kt}=this._getRotationExtents(),{ratioX:Bt,ratioY:Sn,offsetX:kn,offsetY:jn}=function Ti(E,m,u){let g=1,b=1,D=0,R=0;if(m<c.T){const j=E,q=j+m,ue=Math.cos(j),ke=Math.sin(j),rt=Math.cos(q),kt=Math.sin(q),Bt=(Gi,qi,Oi)=>(0,c.p)(Gi,j,q,!0)?1:Math.max(qi,qi*u,Oi,Oi*u),Sn=(Gi,qi,Oi)=>(0,c.p)(Gi,j,q,!0)?-1:Math.min(qi,qi*u,Oi,Oi*u),kn=Bt(0,ue,rt),jn=Bt(c.H,ke,kt),Ei=Sn(c.P,ue,rt),di=Sn(c.P+c.H,ke,kt);g=(kn-Ei)/2,b=(jn-di)/2,D=-(kn+Ei)/2,R=-(jn+di)/2}return{ratioX:g,ratioY:b,offsetX:D,offsetY:R}}(kt,rt,ue),Gi=Math.max(Math.min((b.width-j)/Bt,(b.height-j)/Sn)/2,0),qi=(0,c.n)(this.options.radius,Gi),zi=(qi-Math.max(qi*ue,0))/this._getVisibleDatasetWeightTotal();this.offsetX=kn*qi,this.offsetY=jn*qi,D.total=this.calculateTotal(),this.outerRadius=qi-zi*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-zi*ke,0),this.updateElements(R,0,R.length,u)}_circumference(u,g){const b=this.options,D=this._cachedMeta,R=this._getCircumference();return g&&b.animation.animateRotate||!this.chart.getDataVisibility(u)||null===D._parsed[u]||D.data[u].hidden?0:this.calculateCircumference(D._parsed[u]*R/c.T)}updateElements(u,g,b,D){const R="reset"===D,j=this.chart,q=j.chartArea,rt=(q.left+q.right)/2,kt=(q.top+q.bottom)/2,Bt=R&&j.options.animation.animateScale,Sn=Bt?0:this.innerRadius,kn=Bt?0:this.outerRadius,{sharedOptions:jn,includeOptions:Ei}=this._getSharedOptions(g,D);let Gi,di=this._getRotation();for(Gi=0;Gi<g;++Gi)di+=this._circumference(Gi,R);for(Gi=g;Gi<g+b;++Gi){const qi=this._circumference(Gi,R),Oi=u[Gi],zi={x:rt+this.offsetX,y:kt+this.offsetY,startAngle:di,endAngle:di+qi,circumference:qi,outerRadius:kn,innerRadius:Sn};Ei&&(zi.options=jn||this.resolveDataElementOptions(Gi,Oi.active?"active":D)),di+=qi,this.updateElement(Oi,Gi,zi,D)}}calculateTotal(){const u=this._cachedMeta,g=u.data;let D,b=0;for(D=0;D<g.length;D++){const R=u._parsed[D];null!==R&&!isNaN(R)&&this.chart.getDataVisibility(D)&&!g[D].hidden&&(b+=Math.abs(R))}return b}calculateCircumference(u){const g=this._cachedMeta.total;return g>0&&!isNaN(u)?c.T*(Math.abs(u)/g):0}getLabelAndValue(u){const b=this.chart,D=b.data.labels||[],R=(0,c.o)(this._cachedMeta._parsed[u],b.options.locale);return{label:D[u]||"",value:R}}getMaxBorderWidth(u){let g=0;const b=this.chart;let D,R,j,q,ue;if(!u)for(D=0,R=b.data.datasets.length;D<R;++D)if(b.isDatasetVisible(D)){j=b.getDatasetMeta(D),u=j.data,q=j.controller;break}if(!u)return 0;for(D=0,R=u.length;D<R;++D)ue=q.resolveDataElementOptions(D),"inner"!==ue.borderAlign&&(g=Math.max(g,ue.borderWidth||0,ue.hoverBorderWidth||0));return g}getMaxOffset(u){let g=0;for(let b=0,D=u.length;b<D;++b){const R=this.resolveDataElementOptions(b);g=Math.max(g,R.offset||0,R.hoverOffset||0)}return g}_getRingWeightOffset(u){let g=0;for(let b=0;b<u;++b)this.chart.isDatasetVisible(b)&&(g+=this._getRingWeight(b));return g}_getRingWeight(u){return Math.max((0,c.v)(this.chart.data.datasets[u].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}return E.id="doughnut",E.defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"},E.descriptors={_scriptable:m=>"spacing"!==m,_indexable:m=>"spacing"!==m&&!m.startsWith("borderDash")&&!m.startsWith("hoverBorderDash")},E.overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(m){const u=m.data;if(u.labels.length&&u.datasets.length){const{labels:{pointStyle:g,color:b}}=m.legend.options;return u.labels.map((D,R)=>{const q=m.getDatasetMeta(0).controller.getStyle(R);return{text:D,fillStyle:q.backgroundColor,strokeStyle:q.borderColor,fontColor:b,lineWidth:q.borderWidth,pointStyle:g,hidden:!m.getDataVisibility(R),index:R}})}return[]}},onClick(m,u,g){g.chart.toggleDataVisibility(u.index),g.chart.update()}}}},E})(),Vi=(()=>{class E extends tn{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(u){const g=this._cachedMeta,{dataset:b,data:D=[],_dataset:R}=g,j=this.chart._animationsDisabled;let{start:q,count:ue}=(0,c.q)(g,D,j);this._drawStart=q,this._drawCount=ue,(0,c.w)(g)&&(q=0,ue=D.length),b._chart=this.chart,b._datasetIndex=this.index,b._decimated=!!R._decimated,b.points=D;const ke=this.resolveDatasetElementOptions(u);this.options.showLine||(ke.borderWidth=0),ke.segment=this.options.segment,this.updateElement(b,void 0,{animated:!j,options:ke},u),this.updateElements(D,q,ue,u)}updateElements(u,g,b,D){const R="reset"===D,{iScale:j,vScale:q,_stacked:ue,_dataset:ke}=this._cachedMeta,{sharedOptions:rt,includeOptions:kt}=this._getSharedOptions(g,D),Bt=j.axis,Sn=q.axis,{spanGaps:kn,segment:jn}=this.options,Ei=(0,c.x)(kn)?kn:Number.POSITIVE_INFINITY,di=this.chart._animationsDisabled||R||"none"===D,Gi=g+b,qi=u.length;let Oi=g>0&&this.getParsed(g-1);for(let zi=0;zi<qi;++zi){const or=u[zi],Er=di?or:{};if(zi<g||zi>=Gi){Er.skip=!0;continue}const ls=this.getParsed(zi),Ns=(0,c.k)(ls[Sn]),Br=Er[Bt]=j.getPixelForValue(ls[Bt],zi),co=Er[Sn]=R||Ns?q.getBasePixel():q.getPixelForValue(ue?this.applyStack(q,ls,ue):ls[Sn],zi);Er.skip=isNaN(Br)||isNaN(co)||Ns,Er.stop=zi>0&&Math.abs(ls[Bt]-Oi[Bt])>Ei,jn&&(Er.parsed=ls,Er.raw=ke.data[zi]),kt&&(Er.options=rt||this.resolveDataElementOptions(zi,or.active?"active":D)),di||this.updateElement(or,zi,Er,D),Oi=ls}}getMaxOverflow(){const u=this._cachedMeta,g=u.dataset,b=g.options&&g.options.borderWidth||0,D=u.data||[];if(!D.length)return b;const R=D[0].size(this.resolveDataElementOptions(0)),j=D[D.length-1].size(this.resolveDataElementOptions(D.length-1));return Math.max(b,R,j)/2}draw(){const u=this._cachedMeta;u.dataset.updateControlPoints(this.chart.chartArea,u.iScale.axis),super.draw()}}return E.id="line",E.defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1},E.overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}},E})(),Xn=(()=>{class E extends tn{constructor(u,g){super(u,g),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(u){const b=this.chart,D=b.data.labels||[],R=(0,c.o)(this._cachedMeta._parsed[u].r,b.options.locale);return{label:D[u]||"",value:R}}parseObjectData(u,g,b,D){return c.y.bind(this)(u,g,b,D)}update(u){const g=this._cachedMeta.data;this._updateRadius(),this.updateElements(g,0,g.length,u)}getMinMax(){const g={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return this._cachedMeta.data.forEach((b,D)=>{const R=this.getParsed(D).r;!isNaN(R)&&this.chart.getDataVisibility(D)&&(R<g.min&&(g.min=R),R>g.max&&(g.max=R))}),g}_updateRadius(){const u=this.chart,g=u.chartArea,b=u.options,D=Math.min(g.right-g.left,g.bottom-g.top),R=Math.max(D/2,0),q=(R-Math.max(b.cutoutPercentage?R/100*b.cutoutPercentage:1,0))/u.getVisibleDatasetCount();this.outerRadius=R-q*this.index,this.innerRadius=this.outerRadius-q}updateElements(u,g,b,D){const R="reset"===D,j=this.chart,ue=j.options.animation,ke=this._cachedMeta.rScale,rt=ke.xCenter,kt=ke.yCenter,Bt=ke.getIndexAngle(0)-.5*c.P;let kn,Sn=Bt;const jn=360/this.countVisibleElements();for(kn=0;kn<g;++kn)Sn+=this._computeAngle(kn,D,jn);for(kn=g;kn<g+b;kn++){const Ei=u[kn];let di=Sn,Gi=Sn+this._computeAngle(kn,D,jn),qi=j.getDataVisibility(kn)?ke.getDistanceFromCenterForValue(this.getParsed(kn).r):0;Sn=Gi,R&&(ue.animateScale&&(qi=0),ue.animateRotate&&(di=Gi=Bt));const Oi={x:rt,y:kt,innerRadius:0,outerRadius:qi,startAngle:di,endAngle:Gi,options:this.resolveDataElementOptions(kn,Ei.active?"active":D)};this.updateElement(Ei,kn,Oi,D)}}countVisibleElements(){let g=0;return this._cachedMeta.data.forEach((b,D)=>{!isNaN(this.getParsed(D).r)&&this.chart.getDataVisibility(D)&&g++}),g}_computeAngle(u,g,b){return this.chart.getDataVisibility(u)?(0,c.t)(this.resolveDataElementOptions(u,g).angle||b):0}}return E.id="polarArea",E.defaults={dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0},E.overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(m){const u=m.data;if(u.labels.length&&u.datasets.length){const{labels:{pointStyle:g,color:b}}=m.legend.options;return u.labels.map((D,R)=>{const q=m.getDatasetMeta(0).controller.getStyle(R);return{text:D,fillStyle:q.backgroundColor,strokeStyle:q.borderColor,fontColor:b,lineWidth:q.borderWidth,pointStyle:g,hidden:!m.getDataVisibility(R),index:R}})}return[]}},onClick(m,u,g){g.chart.toggleDataVisibility(u.index),g.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}},E})();var fr=Object.freeze({__proto__:null,BarController:On,BubbleController:Vn,DoughnutController:Di,LineController:Vi,PieController:(()=>{class E extends Di{}return E.id="pie",E.defaults={cutout:0,rotation:0,circumference:360,radius:"100%"},E})(),PolarAreaController:Xn,RadarController:(()=>{class E extends tn{getLabelAndValue(u){const g=this._cachedMeta.vScale,b=this.getParsed(u);return{label:g.getLabels()[u],value:""+g.getLabelForValue(b[g.axis])}}parseObjectData(u,g,b,D){return c.y.bind(this)(u,g,b,D)}update(u){const g=this._cachedMeta,b=g.dataset,D=g.data||[],R=g.iScale.getLabels();if(b.points=D,"resize"!==u){const j=this.resolveDatasetElementOptions(u);this.options.showLine||(j.borderWidth=0),this.updateElement(b,void 0,{_loop:!0,_fullLoop:R.length===D.length,options:j},u)}this.updateElements(D,0,D.length,u)}updateElements(u,g,b,D){const R=this._cachedMeta.rScale,j="reset"===D;for(let q=g;q<g+b;q++){const ue=u[q],ke=this.resolveDataElementOptions(q,ue.active?"active":D),rt=R.getPointPositionForValue(q,this.getParsed(q).r),kt=j?R.xCenter:rt.x,Bt=j?R.yCenter:rt.y,Sn={x:kt,y:Bt,angle:rt.angle,skip:isNaN(kt)||isNaN(Bt),options:ke};this.updateElement(ue,q,Sn,D)}}}return E.id="radar",E.defaults={datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}},E.overrides={aspectRatio:1,scales:{r:{type:"radialLinear"}}},E})(),ScatterController:(()=>{class E extends tn{getLabelAndValue(u){const g=this._cachedMeta,b=this.chart.data.labels||[],{xScale:D,yScale:R}=g,j=this.getParsed(u),q=D.getLabelForValue(j.x),ue=R.getLabelForValue(j.y);return{label:b[u]||"",value:"("+q+", "+ue+")"}}update(u){const g=this._cachedMeta,{data:b=[]}=g,D=this.chart._animationsDisabled;let{start:R,count:j}=(0,c.q)(g,b,D);if(this._drawStart=R,this._drawCount=j,(0,c.w)(g)&&(R=0,j=b.length),this.options.showLine){this.datasetElementType||this.addElements();const{dataset:q,_dataset:ue}=g;q._chart=this.chart,q._datasetIndex=this.index,q._decimated=!!ue._decimated,q.points=b;const ke=this.resolveDatasetElementOptions(u);ke.segment=this.options.segment,this.updateElement(q,void 0,{animated:!D,options:ke},u)}else this.datasetElementType&&(delete g.dataset,this.datasetElementType=!1);this.updateElements(b,R,j,u)}addElements(){const{showLine:u}=this.options;!this.datasetElementType&&u&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(u,g,b,D){const R="reset"===D,{iScale:j,vScale:q,_stacked:ue,_dataset:ke}=this._cachedMeta,rt=this.resolveDataElementOptions(g,D),kt=this.getSharedOptions(rt),Bt=this.includeOptions(D,kt),Sn=j.axis,kn=q.axis,{spanGaps:jn,segment:Ei}=this.options,di=(0,c.x)(jn)?jn:Number.POSITIVE_INFINITY,Gi=this.chart._animationsDisabled||R||"none"===D;let qi=g>0&&this.getParsed(g-1);for(let Oi=g;Oi<g+b;++Oi){const zi=u[Oi],or=this.getParsed(Oi),Er=Gi?zi:{},ls=(0,c.k)(or[kn]),Ns=Er[Sn]=j.getPixelForValue(or[Sn],Oi),Br=Er[kn]=R||ls?q.getBasePixel():q.getPixelForValue(ue?this.applyStack(q,or,ue):or[kn],Oi);Er.skip=isNaN(Ns)||isNaN(Br)||ls,Er.stop=Oi>0&&Math.abs(or[Sn]-qi[Sn])>di,Ei&&(Er.parsed=or,Er.raw=ke.data[Oi]),Bt&&(Er.options=kt||this.resolveDataElementOptions(Oi,zi.active?"active":D)),Gi||this.updateElement(zi,Oi,Er,D),qi=or}this.updateSharedOptions(kt,D,rt)}getMaxOverflow(){const u=this._cachedMeta,g=u.data||[];if(!this.options.showLine){let q=0;for(let ue=g.length-1;ue>=0;--ue)q=Math.max(q,g[ue].size(this.resolveDataElementOptions(ue))/2);return q>0&&q}const b=u.dataset,D=b.options&&b.options.borderWidth||0;if(!g.length)return D;const R=g[0].size(this.resolveDataElementOptions(0)),j=g[g.length-1].size(this.resolveDataElementOptions(g.length-1));return Math.max(D,R,j)/2}}return E.id="scatter",E.defaults={datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1},E.overrides={interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}},E})()});function Ui(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class ii{static override(m){Object.assign(ii.prototype,m)}constructor(m){this.options=void 0,this.options=m||{}}init(){}formats(){return Ui()}parse(){return Ui()}format(){return Ui()}add(){return Ui()}diff(){return Ui()}startOf(){return Ui()}endOf(){return Ui()}}var kr__date=ii;function Ar(E,m,u,g){const{controller:b,data:D,_sorted:R}=E,j=b._cachedMeta.iScale;if(j&&m===j.axis&&"r"!==m&&R&&D.length){const q=j._reversePixels?c.A:c.B;if(!g)return q(D,m,u);if(b._sharedOptions){const ue=D[0],ke="function"==typeof ue.getRange&&ue.getRange(m);if(ke){const rt=q(D,m,u-ke),kt=q(D,m,u+ke);return{lo:rt.lo,hi:kt.hi}}}}return{lo:0,hi:D.length-1}}function Li(E,m,u,g,b){const D=E.getSortedVisibleDatasetMetas(),R=u[m];for(let j=0,q=D.length;j<q;++j){const{index:ue,data:ke}=D[j],{lo:rt,hi:kt}=Ar(D[j],m,R,b);for(let Bt=rt;Bt<=kt;++Bt){const Sn=ke[Bt];Sn.skip||g(Sn,ue,Bt)}}}function Xr(E,m,u,g,b){const D=[];return!b&&!E.isPointInArea(m)||Li(E,u,m,function(j,q,ue){!b&&!(0,c.C)(j,E.chartArea,0)||j.inRange(m.x,m.y,g)&&D.push({element:j,datasetIndex:q,index:ue})},!0),D}function Zi(E,m,u,g,b,D){return D||E.isPointInArea(m)?"r"!==u||g?function Mi(E,m,u,g,b,D){let R=[];const j=function ps(E){const m=-1!==E.indexOf("x"),u=-1!==E.indexOf("y");return function(g,b){const D=m?Math.abs(g.x-b.x):0,R=u?Math.abs(g.y-b.y):0;return Math.sqrt(Math.pow(D,2)+Math.pow(R,2))}}(u);let q=Number.POSITIVE_INFINITY;return Li(E,u,m,function ue(ke,rt,kt){const Bt=ke.inRange(m.x,m.y,b);if(g&&!Bt)return;const Sn=ke.getCenterPoint(b);if(!D&&!E.isPointInArea(Sn)&&!Bt)return;const jn=j(m,Sn);jn<q?(R=[{element:ke,datasetIndex:rt,index:kt}],q=jn):jn===q&&R.push({element:ke,datasetIndex:rt,index:kt})}),R}(E,m,u,g,b,D):function Bi(E,m,u,g){let b=[];return Li(E,u,m,function D(R,j,q){const{startAngle:ue,endAngle:ke}=R.getProps(["startAngle","endAngle"],g),{angle:rt}=(0,c.D)(R,{x:m.x,y:m.y});(0,c.p)(rt,ue,ke)&&b.push({element:R,datasetIndex:j,index:q})}),b}(E,m,u,b):[]}function Qr(E,m,u,g,b){const D=[],R="x"===u?"inXRange":"inYRange";let j=!1;return Li(E,u,m,(q,ue,ke)=>{q[R](m[u],b)&&(D.push({element:q,datasetIndex:ue,index:ke}),j=j||q.inRange(m.x,m.y,b))}),g&&!j?[]:D}var Jr={evaluateInteractionItems:Li,modes:{index(E,m,u,g){const b=(0,c.z)(m,E),D=u.axis||"x",R=u.includeInvisible||!1,j=u.intersect?Xr(E,b,D,g,R):Zi(E,b,D,!1,g,R),q=[];return j.length?(E.getSortedVisibleDatasetMetas().forEach(ue=>{const ke=j[0].index,rt=ue.data[ke];rt&&!rt.skip&&q.push({element:rt,datasetIndex:ue.index,index:ke})}),q):[]},dataset(E,m,u,g){const b=(0,c.z)(m,E),D=u.axis||"xy",R=u.includeInvisible||!1;let j=u.intersect?Xr(E,b,D,g,R):Zi(E,b,D,!1,g,R);if(j.length>0){const q=j[0].datasetIndex,ue=E.getDatasetMeta(q).data;j=[];for(let ke=0;ke<ue.length;++ke)j.push({element:ue[ke],datasetIndex:q,index:ke})}return j},point:(E,m,u,g)=>Xr(E,(0,c.z)(m,E),u.axis||"xy",g,u.includeInvisible||!1),nearest:(E,m,u,g)=>Zi(E,(0,c.z)(m,E),u.axis||"xy",u.intersect,g,u.includeInvisible||!1),x:(E,m,u,g)=>Qr(E,(0,c.z)(m,E),"x",u.intersect,g),y:(E,m,u,g)=>Qr(E,(0,c.z)(m,E),"y",u.intersect,g)}};const Ir=["left","top","right","bottom"];function jr(E,m){return E.filter(u=>u.pos===m)}function ns(E,m){return E.filter(u=>-1===Ir.indexOf(u.pos)&&u.box.axis===m)}function tr(E,m){return E.sort((u,g)=>{const b=m?g:u,D=m?u:g;return b.weight===D.weight?b.index-D.index:b.weight-D.weight})}function Ge(E,m,u,g){return Math.max(E[u],m[u])+Math.max(E[g],m[g])}function Mt(E,m){E.top=Math.max(E.top,m.top),E.left=Math.max(E.left,m.left),E.bottom=Math.max(E.bottom,m.bottom),E.right=Math.max(E.right,m.right)}function _n(E,m,u,g){const{pos:b,box:D}=u,R=E.maxPadding;if(!(0,c.i)(b)){u.size&&(E[b]-=u.size);const rt=g[u.stack]||{size:0,count:1};rt.size=Math.max(rt.size,u.horizontal?D.height:D.width),u.size=rt.size/rt.count,E[b]+=u.size}D.getPadding&&Mt(R,D.getPadding());const j=Math.max(0,m.outerWidth-Ge(R,E,"left","right")),q=Math.max(0,m.outerHeight-Ge(R,E,"top","bottom")),ue=j!==E.w,ke=q!==E.h;return E.w=j,E.h=q,u.horizontal?{same:ue,other:ke}:{same:ke,other:ue}}function mi(E,m){const u=m.maxPadding;return function g(b){const D={left:0,top:0,right:0,bottom:0};return b.forEach(R=>{D[R]=Math.max(m[R],u[R])}),D}(E?["left","right"]:["top","bottom"])}function Dr(E,m,u,g){const b=[];let D,R,j,q,ue,ke;for(D=0,R=E.length,ue=0;D<R;++D){j=E[D],q=j.box,q.update(j.width||m.w,j.height||m.h,mi(j.horizontal,m));const{same:rt,other:kt}=_n(m,u,j,g);ue|=rt&&b.length,ke=ke||kt,q.fullSize||b.push(j)}return ue&&Dr(b,m,u,g)||ke}function pr(E,m,u,g,b){E.top=u,E.left=m,E.right=m+g,E.bottom=u+b,E.width=g,E.height=b}function sr(E,m,u,g){const b=u.padding;let{x:D,y:R}=m;for(const j of E){const q=j.box,ue=g[j.stack]||{count:1,placed:0,weight:1},ke=j.stackWeight/ue.weight||1;if(j.horizontal){const rt=m.w*ke,kt=ue.size||q.height;(0,c.h)(ue.start)&&(R=ue.start),q.fullSize?pr(q,b.left,R,u.outerWidth-b.right-b.left,kt):pr(q,m.left+ue.placed,R,rt,kt),ue.start=R,ue.placed+=rt,R=q.bottom}else{const rt=m.h*ke,kt=ue.size||q.width;(0,c.h)(ue.start)&&(D=ue.start),q.fullSize?pr(q,D,b.top,kt,u.outerHeight-b.bottom-b.top):pr(q,D,m.top+ue.placed,kt,rt),ue.start=D,ue.placed+=rt,D=q.right}}m.x=D,m.y=R}var Pt={addBox(E,m){E.boxes||(E.boxes=[]),m.fullSize=m.fullSize||!1,m.position=m.position||"top",m.weight=m.weight||0,m._layers=m._layers||function(){return[{z:0,draw(u){m.draw(u)}}]},E.boxes.push(m)},removeBox(E,m){const u=E.boxes?E.boxes.indexOf(m):-1;-1!==u&&E.boxes.splice(u,1)},configure(E,m,u){m.fullSize=u.fullSize,m.position=u.position,m.weight=u.weight},update(E,m,u,g){if(!E)return;const b=(0,c.E)(E.options.layout.padding),D=Math.max(m-b.width,0),R=Math.max(u-b.height,0),j=function zn(E){const m=function Hi(E){const m=[];let u,g,b,D,R,j;for(u=0,g=(E||[]).length;u<g;++u)b=E[u],({position:D,options:{stack:R,stackWeight:j=1}}=b),m.push({index:u,box:b,pos:D,horizontal:b.isHorizontal(),weight:b.weight,stack:R&&D+R,stackWeight:j});return m}(E),u=tr(m.filter(ue=>ue.box.fullSize),!0),g=tr(jr(m,"left"),!0),b=tr(jr(m,"right")),D=tr(jr(m,"top"),!0),R=tr(jr(m,"bottom")),j=ns(m,"x"),q=ns(m,"y");return{fullSize:u,leftAndTop:g.concat(D),rightAndBottom:b.concat(q).concat(R).concat(j),chartArea:jr(m,"chartArea"),vertical:g.concat(b).concat(q),horizontal:D.concat(R).concat(j)}}(E.boxes),q=j.vertical,ue=j.horizontal;(0,c.F)(E.boxes,kn=>{"function"==typeof kn.beforeLayout&&kn.beforeLayout()});const ke=q.reduce((kn,jn)=>jn.box.options&&!1===jn.box.options.display?kn:kn+1,0)||1,rt=Object.freeze({outerWidth:m,outerHeight:u,padding:b,availableWidth:D,availableHeight:R,vBoxMaxWidth:D/2/ke,hBoxMaxHeight:R/2}),kt=Object.assign({},b);Mt(kt,(0,c.E)(g));const Bt=Object.assign({maxPadding:kt,w:D,h:R,x:b.left,y:b.top},b),Sn=function nr(E,m){const u=function is(E){const m={};for(const u of E){const{stack:g,pos:b,stackWeight:D}=u;if(!g||!Ir.includes(b))continue;const R=m[g]||(m[g]={count:0,placed:0,weight:0,size:0});R.count++,R.weight+=D}return m}(E),{vBoxMaxWidth:g,hBoxMaxHeight:b}=m;let D,R,j;for(D=0,R=E.length;D<R;++D){j=E[D];const{fullSize:q}=j.box,ue=u[j.stack],ke=ue&&j.stackWeight/ue.weight;j.horizontal?(j.width=ke?ke*g:q&&m.availableWidth,j.height=b):(j.width=g,j.height=ke?ke*b:q&&m.availableHeight)}return u}(q.concat(ue),rt);Dr(j.fullSize,Bt,rt,Sn),Dr(q,Bt,rt,Sn),Dr(ue,Bt,rt,Sn)&&Dr(q,Bt,rt,Sn),function Gn(E){const m=E.maxPadding;function u(g){const b=Math.max(m[g]-E[g],0);return E[g]+=b,b}E.y+=u("top"),E.x+=u("left"),u("right"),u("bottom")}(Bt),sr(j.leftAndTop,Bt,rt,Sn),Bt.x+=Bt.w,Bt.y+=Bt.h,sr(j.rightAndBottom,Bt,rt,Sn),E.chartArea={left:Bt.left,top:Bt.top,right:Bt.left+Bt.w,bottom:Bt.top+Bt.h,height:Bt.h,width:Bt.w},(0,c.F)(j.chartArea,kn=>{const jn=kn.box;Object.assign(jn,E.chartArea),jn.update(Bt.w,Bt.h,{left:0,top:0,right:0,bottom:0})})}};class B{acquireContext(m,u){}releaseContext(m){return!1}addEventListener(m,u,g){}removeEventListener(m,u,g){}getDevicePixelRatio(){return 1}getMaximumSize(m,u,g,b){return u=Math.max(0,u||m.width),g=g||m.height,{width:u,height:Math.max(0,b?Math.floor(u/b):g)}}isAttached(m){return!0}updateConfig(m){}}class x extends B{acquireContext(m){return m&&m.getContext&&m.getContext("2d")||null}updateConfig(m){m.options.animation=!1}}const A="$chartjs",O={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},ne=E=>null===E||""===E,me=!!c.K&&{passive:!0};function Be(E,m,u){E.canvas.removeEventListener(m,u,me)}function Lt(E,m){for(const u of E)if(u===m||u.contains(m))return!0}function fn(E,m,u){const g=E.canvas,b=new MutationObserver(D=>{let R=!1;for(const j of D)R=R||Lt(j.addedNodes,g),R=R&&!Lt(j.removedNodes,g);R&&u()});return b.observe(document,{childList:!0,subtree:!0}),b}function Wt(E,m,u){const g=E.canvas,b=new MutationObserver(D=>{let R=!1;for(const j of D)R=R||Lt(j.removedNodes,g),R=R&&!Lt(j.addedNodes,g);R&&u()});return b.observe(document,{childList:!0,subtree:!0}),b}const en=new Map;let In=0;function Ut(){const E=window.devicePixelRatio;E!==In&&(In=E,en.forEach((m,u)=>{u.currentDevicePixelRatio!==E&&m()}))}function Yn(E,m,u){const g=E.canvas,b=g&&(0,c.I)(g);if(!b)return;const D=(0,c.L)((j,q)=>{const ue=b.clientWidth;u(j,q),ue<b.clientWidth&&u()},window),R=new ResizeObserver(j=>{const q=j[0],ue=q.contentRect.width,ke=q.contentRect.height;0===ue&&0===ke||D(ue,ke)});return R.observe(b),function rn(E,m){en.size||window.addEventListener("resize",Ut),en.set(E,m)}(E,D),R}function Kn(E,m,u){u&&u.disconnect(),"resize"===m&&function hn(E){en.delete(E),en.size||window.removeEventListener("resize",Ut)}(E)}function ti(E,m,u){const g=E.canvas,b=(0,c.L)(D=>{null!==E.ctx&&u(function jt(E,m){const u=O[E.type]||E.type,{x:g,y:b}=(0,c.z)(E,m);return{type:u,chart:m,native:E,x:void 0!==g?g:null,y:void 0!==b?b:null}}(D,E))},E);return function Ve(E,m,u){E.addEventListener(m,u,me)}(g,m,b),b}class $i extends B{acquireContext(m,u){const g=m&&m.getContext&&m.getContext("2d");return g&&g.canvas===m?(function ce(E,m){const u=E.style,g=E.getAttribute("height"),b=E.getAttribute("width");if(E[A]={initial:{height:g,width:b,style:{display:u.display,height:u.height,width:u.width}}},u.display=u.display||"block",u.boxSizing=u.boxSizing||"border-box",ne(b)){const D=(0,c.J)(E,"width");void 0!==D&&(E.width=D)}if(ne(g))if(""===E.style.height)E.height=E.width/(m||2);else{const D=(0,c.J)(E,"height");void 0!==D&&(E.height=D)}}(m,u),g):null}releaseContext(m){const u=m.canvas;if(!u[A])return!1;const g=u[A].initial;["height","width"].forEach(D=>{const R=g[D];(0,c.k)(R)?u.removeAttribute(D):u.setAttribute(D,R)});const b=g.style||{};return Object.keys(b).forEach(D=>{u.style[D]=b[D]}),u.width=u.width,delete u[A],!0}addEventListener(m,u,g){this.removeEventListener(m,u),(m.$proxies||(m.$proxies={}))[u]=({attach:fn,detach:Wt,resize:Yn}[u]||ti)(m,u,g)}removeEventListener(m,u){const g=m.$proxies||(m.$proxies={}),b=g[u];b&&(({attach:Kn,detach:Kn,resize:Kn}[u]||Be)(m,u,b),g[u]=void 0)}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(m,u,g,b){return(0,c.G)(m,u,g,b)}isAttached(m){const u=(0,c.I)(m);return!(!u||!u.isConnected)}}class yr{constructor(){this.x=void 0,this.y=void 0,this.active=!1,this.options=void 0,this.$animations=void 0}tooltipPosition(m){const{x:u,y:g}=this.getProps(["x","y"],m);return{x:u,y:g}}hasValue(){return(0,c.x)(this.x)&&(0,c.x)(this.y)}getProps(m,u){const g=this.$animations;if(!u||!g)return this;const b={};return m.forEach(D=>{b[D]=g[D]&&g[D].active()?g[D]._to:this[D]}),b}}function ur(E,m,u,g,b){const D=(0,c.v)(g,0),R=Math.min((0,c.v)(b,E.length),E.length);let q,ue,ke,j=0;for(u=Math.ceil(u),b&&(q=b-g,u=q/Math.floor(q/u)),ke=D;ke<0;)j++,ke=Math.round(D+j*u);for(ue=Math.max(D,0);ue<R;ue++)ue===ke&&(m.push(E[ue]),j++,ke=Math.round(D+j*u))}yr.defaults={},yr.defaultRoutes=void 0;const ws=(E,m,u)=>"top"===m||"left"===m?E[m]+u:E[m]-u,Es=(E,m)=>Math.min(m||E,E);function uo(E,m){const u=[],g=E.length/m,b=E.length;let D=0;for(;D<b;D+=g)u.push(E[Math.floor(D)]);return u}function Eo(E,m,u){const g=E.ticks.length,b=Math.min(m,g-1),D=E._startPixel,R=E._endPixel,j=1e-6;let ue,q=E.getPixelForTick(b);if(!(u&&(ue=1===g?Math.max(q-D,R-q):0===m?(E.getPixelForTick(1)-q)/2:(q-E.getPixelForTick(b-1))/2,q+=b<m?ue:-ue,q<D-j||q>R+j)))return q}function ho(E){return E.drawTicks?E.tickLength:0}function fe(E,m){if(!E.display)return 0;const u=(0,c.a0)(E.font,m),g=(0,c.E)(E.padding);return((0,c.b)(E.text)?E.text.length:1)*u.lineHeight+g.height}function Me(E,m,u){let g=(0,c.a1)(E);return(u&&"right"!==m||!u&&"right"===m)&&(g=(E=>"left"===E?"right":"right"===E?"left":E)(g)),g}class Ae extends yr{constructor(m){super(),this.id=m.id,this.type=m.type,this.options=void 0,this.ctx=m.ctx,this.chart=m.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(m){this.options=m.setContext(this.getContext()),this.axis=m.axis,this._userMin=this.parse(m.min),this._userMax=this.parse(m.max),this._suggestedMin=this.parse(m.suggestedMin),this._suggestedMax=this.parse(m.suggestedMax)}parse(m,u){return m}getUserBounds(){let{_userMin:m,_userMax:u,_suggestedMin:g,_suggestedMax:b}=this;return m=(0,c.O)(m,Number.POSITIVE_INFINITY),u=(0,c.O)(u,Number.NEGATIVE_INFINITY),g=(0,c.O)(g,Number.POSITIVE_INFINITY),b=(0,c.O)(b,Number.NEGATIVE_INFINITY),{min:(0,c.O)(m,g),max:(0,c.O)(u,b),minDefined:(0,c.g)(m),maxDefined:(0,c.g)(u)}}getMinMax(m){let R,{min:u,max:g,minDefined:b,maxDefined:D}=this.getUserBounds();if(b&&D)return{min:u,max:g};const j=this.getMatchingVisibleMetas();for(let q=0,ue=j.length;q<ue;++q)R=j[q].controller.getMinMax(this,m),b||(u=Math.min(u,R.min)),D||(g=Math.max(g,R.max));return u=D&&u>g?g:u,g=b&&u>g?u:g,{min:(0,c.O)(u,(0,c.O)(g,u)),max:(0,c.O)(g,(0,c.O)(u,g))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const m=this.chart.data;return this.options.labels||(this.isHorizontal()?m.xLabels:m.yLabels)||m.labels||[]}getLabelItems(m=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(m))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){(0,c.Q)(this.options.beforeUpdate,[this])}update(m,u,g){const{beginAtZero:b,grace:D,ticks:R}=this.options,j=R.sampleSize;this.beforeUpdate(),this.maxWidth=m,this.maxHeight=u,this._margins=g=Object.assign({left:0,right:0,top:0,bottom:0},g),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+g.left+g.right:this.height+g.top+g.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=(0,c.R)(this,D,b),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const q=j<this.ticks.length;this._convertTicksToLabels(q?uo(this.ticks,j):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),R.display&&(R.autoSkip||"auto"===R.source)&&(this.ticks=function Ki(E,m){const u=E.options.ticks,g=function wr(E){const m=E.options.offset,u=E._tickSize();return Math.floor(Math.min(E._length/u+(m?0:1),E._maxLength/u))}(E),b=Math.min(u.maxTicksLimit||g,g),D=u.major.enabled?function mr(E){const m=[];let u,g;for(u=0,g=E.length;u<g;u++)E[u].major&&m.push(u);return m}(m):[],R=D.length,j=D[0],q=D[R-1],ue=[];if(R>b)return function Hr(E,m,u,g){let R,b=0,D=u[0];for(g=Math.ceil(g),R=0;R<E.length;R++)R===D&&(m.push(E[R]),b++,D=u[b*g])}(m,ue,D,R/b),ue;const ke=function Wi(E,m,u){const g=function rs(E){const m=E.length;let u,g;if(m<2)return!1;for(g=E[0],u=1;u<m;++u)if(E[u]-E[u-1]!==g)return!1;return g}(E),b=m.length/u;if(!g)return Math.max(b,1);const D=(0,c.N)(g);for(let R=0,j=D.length-1;R<j;R++){const q=D[R];if(q>b)return q}return Math.max(b,1)}(D,m,b);if(R>0){let rt,kt;const Bt=R>1?Math.round((q-j)/(R-1)):null;for(ur(m,ue,ke,(0,c.k)(Bt)?0:j-Bt,j),rt=0,kt=R-1;rt<kt;rt++)ur(m,ue,ke,D[rt],D[rt+1]);return ur(m,ue,ke,q,(0,c.k)(Bt)?m.length:q+Bt),ue}return ur(m,ue,ke),ue}(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),q&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let u,g,m=this.options.reverse;this.isHorizontal()?(u=this.left,g=this.right):(u=this.top,g=this.bottom,m=!m),this._startPixel=u,this._endPixel=g,this._reversePixels=m,this._length=g-u,this._alignToPixels=this.options.alignToPixels}afterUpdate(){(0,c.Q)(this.options.afterUpdate,[this])}beforeSetDimensions(){(0,c.Q)(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){(0,c.Q)(this.options.afterSetDimensions,[this])}_callHooks(m){this.chart.notifyPlugins(m,this.getContext()),(0,c.Q)(this.options[m],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){(0,c.Q)(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(m){const u=this.options.ticks;let g,b,D;for(g=0,b=m.length;g<b;g++)D=m[g],D.label=(0,c.Q)(u.callback,[D.value,g,m],this)}afterTickToLabelConversion(){(0,c.Q)(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){(0,c.Q)(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const m=this.options,u=m.ticks,g=Es(this.ticks.length,m.ticks.maxTicksLimit),b=u.minRotation||0,D=u.maxRotation;let j,q,ue,R=b;if(!this._isVisible()||!u.display||b>=D||g<=1||!this.isHorizontal())return void(this.labelRotation=b);const ke=this._getLabelSizes(),rt=ke.widest.width,kt=ke.highest.height,Bt=(0,c.S)(this.chart.width-rt,0,this.maxWidth);j=m.offset?this.maxWidth/g:Bt/(g-1),rt+6>j&&(j=Bt/(g-(m.offset?.5:1)),q=this.maxHeight-ho(m.grid)-u.padding-fe(m.title,this.chart.options.font),ue=Math.sqrt(rt*rt+kt*kt),R=(0,c.U)(Math.min(Math.asin((0,c.S)((ke.highest.height+6)/j,-1,1)),Math.asin((0,c.S)(q/ue,-1,1))-Math.asin((0,c.S)(kt/ue,-1,1)))),R=Math.max(b,Math.min(D,R))),this.labelRotation=R}afterCalculateLabelRotation(){(0,c.Q)(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){(0,c.Q)(this.options.beforeFit,[this])}fit(){const m={width:0,height:0},{chart:u,options:{ticks:g,title:b,grid:D}}=this,R=this._isVisible(),j=this.isHorizontal();if(R){const q=fe(b,u.options.font);if(j?(m.width=this.maxWidth,m.height=ho(D)+q):(m.height=this.maxHeight,m.width=ho(D)+q),g.display&&this.ticks.length){const{first:ue,last:ke,widest:rt,highest:kt}=this._getLabelSizes(),Bt=2*g.padding,Sn=(0,c.t)(this.labelRotation),kn=Math.cos(Sn),jn=Math.sin(Sn);j?m.height=Math.min(this.maxHeight,m.height+(g.mirror?0:jn*rt.width+kn*kt.height)+Bt):m.width=Math.min(this.maxWidth,m.width+(g.mirror?0:kn*rt.width+jn*kt.height)+Bt),this._calculatePadding(ue,ke,jn,kn)}}this._handleMargins(),j?(this.width=this._length=u.width-this._margins.left-this._margins.right,this.height=m.height):(this.width=m.width,this.height=this._length=u.height-this._margins.top-this._margins.bottom)}_calculatePadding(m,u,g,b){const{ticks:{align:D,padding:R},position:j}=this.options,q=0!==this.labelRotation,ue="top"!==j&&"x"===this.axis;if(this.isHorizontal()){const ke=this.getPixelForTick(0)-this.left,rt=this.right-this.getPixelForTick(this.ticks.length-1);let kt=0,Bt=0;q?ue?(kt=b*m.width,Bt=g*u.height):(kt=g*m.height,Bt=b*u.width):"start"===D?Bt=u.width:"end"===D?kt=m.width:"inner"!==D&&(kt=m.width/2,Bt=u.width/2),this.paddingLeft=Math.max((kt-ke+R)*this.width/(this.width-ke),0),this.paddingRight=Math.max((Bt-rt+R)*this.width/(this.width-rt),0)}else{let ke=u.height/2,rt=m.height/2;"start"===D?(ke=0,rt=m.height):"end"===D&&(ke=u.height,rt=0),this.paddingTop=ke+R,this.paddingBottom=rt+R}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){(0,c.Q)(this.options.afterFit,[this])}isHorizontal(){const{axis:m,position:u}=this.options;return"top"===u||"bottom"===u||"x"===m}isFullSize(){return this.options.fullSize}_convertTicksToLabels(m){let u,g;for(this.beforeTickToLabelConversion(),this.generateTickLabels(m),u=0,g=m.length;u<g;u++)(0,c.k)(m[u].label)&&(m.splice(u,1),g--,u--);this.afterTickToLabelConversion()}_getLabelSizes(){let m=this._labelSizes;if(!m){const u=this.options.ticks.sampleSize;let g=this.ticks;u<g.length&&(g=uo(g,u)),this._labelSizes=m=this._computeLabelSizes(g,g.length,this.options.ticks.maxTicksLimit)}return m}_computeLabelSizes(m,u,g){const{ctx:b,_longestTextCache:D}=this,R=[],j=[],q=Math.floor(u/Es(u,g));let rt,kt,Bt,Sn,kn,jn,Ei,di,Gi,qi,Oi,ue=0,ke=0;for(rt=0;rt<u;rt+=q){if(Sn=m[rt].label,kn=this._resolveTickFontOptions(rt),b.font=jn=kn.string,Ei=D[jn]=D[jn]||{data:{},gc:[]},di=kn.lineHeight,Gi=qi=0,(0,c.k)(Sn)||(0,c.b)(Sn)){if((0,c.b)(Sn))for(kt=0,Bt=Sn.length;kt<Bt;++kt)Oi=Sn[kt],!(0,c.k)(Oi)&&!(0,c.b)(Oi)&&(Gi=(0,c.V)(b,Ei.data,Ei.gc,Gi,Oi),qi+=di)}else Gi=(0,c.V)(b,Ei.data,Ei.gc,Gi,Sn),qi=di;R.push(Gi),j.push(qi),ue=Math.max(Gi,ue),ke=Math.max(qi,ke)}!function Zs(E,m){(0,c.F)(E,u=>{const g=u.gc,b=g.length/2;let D;if(b>m){for(D=0;D<b;++D)delete u.data[g[D]];g.splice(0,b)}})}(D,u);const zi=R.indexOf(ue),or=j.indexOf(ke),Er=ls=>({width:R[ls]||0,height:j[ls]||0});return{first:Er(0),last:Er(u-1),widest:Er(zi),highest:Er(or),widths:R,heights:j}}getLabelForValue(m){return m}getPixelForValue(m,u){return NaN}getValueForPixel(m){}getPixelForTick(m){const u=this.ticks;return m<0||m>u.length-1?null:this.getPixelForValue(u[m].value)}getPixelForDecimal(m){this._reversePixels&&(m=1-m);const u=this._startPixel+m*this._length;return(0,c.W)(this._alignToPixels?(0,c.X)(this.chart,u,0):u)}getDecimalForPixel(m){const u=(m-this._startPixel)/this._length;return this._reversePixels?1-u:u}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:m,max:u}=this;return m<0&&u<0?u:m>0&&u>0?m:0}getContext(m){const u=this.ticks||[];if(m>=0&&m<u.length){const g=u[m];return g.$context||(g.$context=function He(E,m,u){return(0,c.j)(E,{tick:u,index:m,type:"tick"})}(this.getContext(),m,g))}return this.$context||(this.$context=function Ce(E,m){return(0,c.j)(E,{scale:m,type:"scale"})}(this.chart.getContext(),this))}_tickSize(){const m=this.options.ticks,u=(0,c.t)(this.labelRotation),g=Math.abs(Math.cos(u)),b=Math.abs(Math.sin(u)),D=this._getLabelSizes(),R=m.autoSkipPadding||0,j=D?D.widest.width+R:0,q=D?D.highest.height+R:0;return this.isHorizontal()?q*g>j*b?j/g:q/b:q*b<j*g?q/g:j/b}_isVisible(){const m=this.options.display;return"auto"!==m?!!m:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(m){const u=this.axis,g=this.chart,b=this.options,{grid:D,position:R,border:j}=b,q=D.offset,ue=this.isHorizontal(),rt=this.ticks.length+(q?1:0),kt=ho(D),Bt=[],Sn=j.setContext(this.getContext()),kn=Sn.display?Sn.width:0,jn=kn/2,Ei=function(sa){return(0,c.X)(g,sa,kn)};let di,Gi,qi,Oi,zi,or,Er,ls,Ns,Br,co,Oo;if("top"===R)di=Ei(this.bottom),or=this.bottom-kt,ls=di-jn,Br=Ei(m.top)+jn,Oo=m.bottom;else if("bottom"===R)di=Ei(this.top),Br=m.top,Oo=Ei(m.bottom)-jn,or=di+jn,ls=this.top+kt;else if("left"===R)di=Ei(this.right),zi=this.right-kt,Er=di-jn,Ns=Ei(m.left)+jn,co=m.right;else if("right"===R)di=Ei(this.left),Ns=m.left,co=Ei(m.right)-jn,zi=di+jn,Er=this.left+kt;else if("x"===u){if("center"===R)di=Ei((m.top+m.bottom)/2+.5);else if((0,c.i)(R)){const sa=Object.keys(R)[0];di=Ei(this.chart.scales[sa].getPixelForValue(R[sa]))}Br=m.top,Oo=m.bottom,or=di+jn,ls=or+kt}else if("y"===u){if("center"===R)di=Ei((m.left+m.right)/2);else if((0,c.i)(R)){const sa=Object.keys(R)[0];di=Ei(this.chart.scales[sa].getPixelForValue(R[sa]))}zi=di-jn,Er=zi-kt,Ns=m.left,co=m.right}const io=(0,c.v)(b.ticks.maxTicksLimit,rt),_o=Math.max(1,Math.ceil(rt/io));for(Gi=0;Gi<rt;Gi+=_o){const sa=this.getContext(Gi),bo=D.setContext(sa),Wa=j.setContext(sa),Qa=bo.lineWidth,ma=bo.color,Xl=Wa.dash||[],Va=Wa.dashOffset,qo=bo.tickWidth,Ta=bo.tickColor,sl=bo.tickBorderDash||[],_l=bo.tickBorderDashOffset;qi=Eo(this,Gi,q),void 0!==qi&&(Oi=(0,c.X)(g,qi,Qa),ue?zi=Er=Ns=co=Oi:or=ls=Br=Oo=Oi,Bt.push({tx1:zi,ty1:or,tx2:Er,ty2:ls,x1:Ns,y1:Br,x2:co,y2:Oo,width:Qa,color:ma,borderDash:Xl,borderDashOffset:Va,tickWidth:qo,tickColor:Ta,tickBorderDash:sl,tickBorderDashOffset:_l}))}return this._ticksLength=rt,this._borderValue=di,Bt}_computeLabelItems(m){const u=this.axis,g=this.options,{position:b,ticks:D}=g,R=this.isHorizontal(),j=this.ticks,{align:q,crossAlign:ue,padding:ke,mirror:rt}=D,kt=ho(g.grid),Bt=kt+ke,Sn=rt?-ke:Bt,kn=-(0,c.t)(this.labelRotation),jn=[];let Ei,di,Gi,qi,Oi,zi,or,Er,ls,Ns,Br,co,Oo="middle";if("top"===b)zi=this.bottom-Sn,or=this._getXAxisLabelAlignment();else if("bottom"===b)zi=this.top+Sn,or=this._getXAxisLabelAlignment();else if("left"===b){const _o=this._getYAxisLabelAlignment(kt);or=_o.textAlign,Oi=_o.x}else if("right"===b){const _o=this._getYAxisLabelAlignment(kt);or=_o.textAlign,Oi=_o.x}else if("x"===u){if("center"===b)zi=(m.top+m.bottom)/2+Bt;else if((0,c.i)(b)){const _o=Object.keys(b)[0];zi=this.chart.scales[_o].getPixelForValue(b[_o])+Bt}or=this._getXAxisLabelAlignment()}else if("y"===u){if("center"===b)Oi=(m.left+m.right)/2-Bt;else if((0,c.i)(b)){const _o=Object.keys(b)[0];Oi=this.chart.scales[_o].getPixelForValue(b[_o])}or=this._getYAxisLabelAlignment(kt).textAlign}"y"===u&&("start"===q?Oo="top":"end"===q&&(Oo="bottom"));const io=this._getLabelSizes();for(Ei=0,di=j.length;Ei<di;++Ei){Gi=j[Ei],qi=Gi.label;const _o=D.setContext(this.getContext(Ei));Er=this.getPixelForTick(Ei)+D.labelOffset,ls=this._resolveTickFontOptions(Ei),Ns=ls.lineHeight,Br=(0,c.b)(qi)?qi.length:1;const sa=Br/2,bo=_o.color,Wa=_o.textStrokeColor,Qa=_o.textStrokeWidth;let Xl,ma=or;if(R?(Oi=Er,"inner"===or&&(ma=Ei===di-1?this.options.reverse?"left":"right":0===Ei?this.options.reverse?"right":"left":"center"),co="top"===b?"near"===ue||0!==kn?-Br*Ns+Ns/2:"center"===ue?-io.highest.height/2-sa*Ns+Ns:Ns/2-io.highest.height:"near"===ue||0!==kn?Ns/2:"center"===ue?io.highest.height/2-sa*Ns:io.highest.height-Br*Ns,rt&&(co*=-1),0!==kn&&!_o.showLabelBackdrop&&(Oi+=Ns/2*Math.sin(kn))):(zi=Er,co=(1-Br)*Ns/2),_o.showLabelBackdrop){const Va=(0,c.E)(_o.backdropPadding),qo=io.heights[Ei],Ta=io.widths[Ei];let sl=co-Va.top,_l=0-Va.left;switch(Oo){case"middle":sl-=qo/2;break;case"bottom":sl-=qo}switch(or){case"center":_l-=Ta/2;break;case"right":_l-=Ta}Xl={left:_l,top:sl,width:Ta+Va.width,height:qo+Va.height,color:_o.backdropColor}}jn.push({label:qi,font:ls,textOffset:co,options:{rotation:kn,color:bo,strokeColor:Wa,strokeWidth:Qa,textAlign:ma,textBaseline:Oo,translation:[Oi,zi],backdrop:Xl}})}return jn}_getXAxisLabelAlignment(){const{position:m,ticks:u}=this.options;if(-(0,c.t)(this.labelRotation))return"top"===m?"left":"right";let b="center";return"start"===u.align?b="left":"end"===u.align?b="right":"inner"===u.align&&(b="inner"),b}_getYAxisLabelAlignment(m){const{position:u,ticks:{crossAlign:g,mirror:b,padding:D}}=this.options,j=m+D,q=this._getLabelSizes().widest.width;let ue,ke;return"left"===u?b?(ke=this.right+D,"near"===g?ue="left":"center"===g?(ue="center",ke+=q/2):(ue="right",ke+=q)):(ke=this.right-j,"near"===g?ue="right":"center"===g?(ue="center",ke-=q/2):(ue="left",ke=this.left)):"right"===u?b?(ke=this.left+D,"near"===g?ue="right":"center"===g?(ue="center",ke-=q/2):(ue="left",ke-=q)):(ke=this.left+j,"near"===g?ue="left":"center"===g?(ue="center",ke+=q/2):(ue="right",ke=this.right)):ue="right",{textAlign:ue,x:ke}}_computeLabelArea(){if(this.options.ticks.mirror)return;const m=this.chart,u=this.options.position;return"left"===u||"right"===u?{top:0,left:this.left,bottom:m.height,right:this.right}:"top"===u||"bottom"===u?{top:this.top,left:0,bottom:this.bottom,right:m.width}:void 0}drawBackground(){const{ctx:m,options:{backgroundColor:u},left:g,top:b,width:D,height:R}=this;u&&(m.save(),m.fillStyle=u,m.fillRect(g,b,D,R),m.restore())}getLineWidthForValue(m){const u=this.options.grid;if(!this._isVisible()||!u.display)return 0;const b=this.ticks.findIndex(D=>D.value===m);return b>=0?u.setContext(this.getContext(b)).lineWidth:0}drawGrid(m){const u=this.options.grid,g=this.ctx,b=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(m));let D,R;const j=(q,ue,ke)=>{!ke.width||!ke.color||(g.save(),g.lineWidth=ke.width,g.strokeStyle=ke.color,g.setLineDash(ke.borderDash||[]),g.lineDashOffset=ke.borderDashOffset,g.beginPath(),g.moveTo(q.x,q.y),g.lineTo(ue.x,ue.y),g.stroke(),g.restore())};if(u.display)for(D=0,R=b.length;D<R;++D){const q=b[D];u.drawOnChartArea&&j({x:q.x1,y:q.y1},{x:q.x2,y:q.y2},q),u.drawTicks&&j({x:q.tx1,y:q.ty1},{x:q.tx2,y:q.ty2},{color:q.tickColor,width:q.tickWidth,borderDash:q.tickBorderDash,borderDashOffset:q.tickBorderDashOffset})}}drawBorder(){const{chart:m,ctx:u,options:{border:g,grid:b}}=this,D=g.setContext(this.getContext()),R=g.display?D.width:0;if(!R)return;const j=b.setContext(this.getContext(0)).lineWidth,q=this._borderValue;let ue,ke,rt,kt;this.isHorizontal()?(ue=(0,c.X)(m,this.left,R)-R/2,ke=(0,c.X)(m,this.right,j)+j/2,rt=kt=q):(rt=(0,c.X)(m,this.top,R)-R/2,kt=(0,c.X)(m,this.bottom,j)+j/2,ue=ke=q),u.save(),u.lineWidth=D.width,u.strokeStyle=D.color,u.beginPath(),u.moveTo(ue,rt),u.lineTo(ke,kt),u.stroke(),u.restore()}drawLabels(m){if(!this.options.ticks.display)return;const g=this.ctx,b=this._computeLabelArea();b&&(0,c.Y)(g,b);const D=this.getLabelItems(m);for(const R of D)(0,c.Z)(g,R.label,0,R.textOffset,R.font,R.options);b&&(0,c.$)(g)}drawTitle(){const{ctx:m,options:{position:u,title:g,reverse:b}}=this;if(!g.display)return;const D=(0,c.a0)(g.font),R=(0,c.E)(g.padding),j=g.align;let q=D.lineHeight/2;"bottom"===u||"center"===u||(0,c.i)(u)?(q+=R.bottom,(0,c.b)(g.text)&&(q+=D.lineHeight*(g.text.length-1))):q+=R.top;const{titleX:ue,titleY:ke,maxWidth:rt,rotation:kt}=function he(E,m,u,g){const{top:b,left:D,bottom:R,right:j,chart:q}=E,{chartArea:ue,scales:ke}=q;let kt,Bt,Sn,rt=0;const kn=R-b,jn=j-D;if(E.isHorizontal()){if(Bt=(0,c.a2)(g,D,j),(0,c.i)(u)){const Ei=Object.keys(u)[0];Sn=ke[Ei].getPixelForValue(u[Ei])+kn-m}else Sn="center"===u?(ue.bottom+ue.top)/2+kn-m:ws(E,u,m);kt=j-D}else{if((0,c.i)(u)){const Ei=Object.keys(u)[0];Bt=ke[Ei].getPixelForValue(u[Ei])-jn+m}else Bt="center"===u?(ue.left+ue.right)/2-jn+m:ws(E,u,m);Sn=(0,c.a2)(g,R,b),rt="left"===u?-c.H:c.H}return{titleX:Bt,titleY:Sn,maxWidth:kt,rotation:rt}}(this,q,u,j);(0,c.Z)(m,g.text,0,0,D,{color:g.color,maxWidth:rt,rotation:kt,textAlign:Me(j,u,b),textBaseline:"middle",translation:[ue,ke]})}draw(m){this._isVisible()&&(this.drawBackground(),this.drawGrid(m),this.drawBorder(),this.drawTitle(),this.drawLabels(m))}_layers(){const m=this.options,u=m.ticks&&m.ticks.z||0,g=(0,c.v)(m.grid&&m.grid.z,-1),b=(0,c.v)(m.border&&m.border.z,0);return this._isVisible()&&this.draw===Ae.prototype.draw?[{z:g,draw:D=>{this.drawBackground(),this.drawGrid(D),this.drawTitle()}},{z:b,draw:()=>{this.drawBorder()}},{z:u,draw:D=>{this.drawLabels(D)}}]:[{z:u,draw:D=>{this.draw(D)}}]}getMatchingVisibleMetas(m){const u=this.chart.getSortedVisibleDatasetMetas(),g=this.axis+"AxisID",b=[];let D,R;for(D=0,R=u.length;D<R;++D){const j=u[D];j[g]===this.id&&(!m||j.type===m)&&b.push(j)}return b}_resolveTickFontOptions(m){const u=this.options.ticks.setContext(this.getContext(m));return(0,c.a0)(u.font)}_maxDigits(){const m=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/m}}class St{constructor(m,u,g){this.type=m,this.scope=u,this.override=g,this.items=Object.create(null)}isForType(m){return Object.prototype.isPrototypeOf.call(this.type.prototype,m.prototype)}register(m){const u=Object.getPrototypeOf(m);let g;(function Mn(E){return"id"in E&&"defaults"in E})(u)&&(g=this.register(u));const b=this.items,D=m.id,R=this.scope+"."+D;if(!D)throw new Error("class does not have id: "+m);return D in b||(b[D]=m,function Kt(E,m,u){const g=(0,c.a4)(Object.create(null),[u?c.d.get(u):{},c.d.get(m),E.defaults]);c.d.set(m,g),E.defaultRoutes&&function mn(E,m){Object.keys(m).forEach(u=>{const g=u.split("."),b=g.pop(),D=[E].concat(g).join("."),R=m[u].split("."),j=R.pop(),q=R.join(".");c.d.route(D,b,q,j)})}(m,E.defaultRoutes),E.descriptors&&c.d.describe(m,E.descriptors)}(m,R,g),this.override&&c.d.override(m.id,m.overrides)),R}get(m){return this.items[m]}unregister(m){const u=this.items,g=m.id,b=this.scope;g in u&&delete u[g],b&&g in c.d[b]&&(delete c.d[b][g],this.override&&delete c.a3[g])}}class yi{constructor(){this.controllers=new St(tn,"datasets",!0),this.elements=new St(yr,"elements"),this.plugins=new St(Object,"plugins"),this.scales=new St(Ae,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...m){this._each("register",m)}remove(...m){this._each("unregister",m)}addControllers(...m){this._each("register",m,this.controllers)}addElements(...m){this._each("register",m,this.elements)}addPlugins(...m){this._each("register",m,this.plugins)}addScales(...m){this._each("register",m,this.scales)}getController(m){return this._get(m,this.controllers,"controller")}getElement(m){return this._get(m,this.elements,"element")}getPlugin(m){return this._get(m,this.plugins,"plugin")}getScale(m){return this._get(m,this.scales,"scale")}removeControllers(...m){this._each("unregister",m,this.controllers)}removeElements(...m){this._each("unregister",m,this.elements)}removePlugins(...m){this._each("unregister",m,this.plugins)}removeScales(...m){this._each("unregister",m,this.scales)}_each(m,u,g){[...u].forEach(b=>{const D=g||this._getRegistryForType(b);g||D.isForType(b)||D===this.plugins&&b.id?this._exec(m,D,b):(0,c.F)(b,R=>{const j=g||this._getRegistryForType(R);this._exec(m,j,R)})})}_exec(m,u,g){const b=(0,c.a5)(m);(0,c.Q)(g["before"+b],[],g),u[m](g),(0,c.Q)(g["after"+b],[],g)}_getRegistryForType(m){for(let u=0;u<this._typedRegistries.length;u++){const g=this._typedRegistries[u];if(g.isForType(m))return g}return this.plugins}_get(m,u,g){const b=u.get(m);if(void 0===b)throw new Error('"'+m+'" is not a registered '+g+".");return b}}var bi=new yi;class Cr{constructor(){this._init=[]}notify(m,u,g,b){"beforeInit"===u&&(this._init=this._createDescriptors(m,!0),this._notify(this._init,m,"install"));const D=b?this._descriptors(m).filter(b):this._descriptors(m),R=this._notify(D,m,u,g);return"afterDestroy"===u&&(this._notify(D,m,"stop"),this._notify(this._init,m,"uninstall")),R}_notify(m,u,g,b){b=b||{};for(const D of m){const R=D.plugin;if(!1===(0,c.Q)(R[g],[u,b,D.options],R)&&b.cancelable)return!1}return!0}invalidate(){(0,c.k)(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(m){if(this._cache)return this._cache;const u=this._cache=this._createDescriptors(m);return this._notifyStateChanges(m),u}_createDescriptors(m,u){const g=m&&m.config,b=(0,c.v)(g.options&&g.options.plugins,{}),D=function $r(E){const m={},u=[],g=Object.keys(bi.plugins.items);for(let D=0;D<g.length;D++)u.push(bi.getPlugin(g[D]));const b=E.plugins||[];for(let D=0;D<b.length;D++){const R=b[D];-1===u.indexOf(R)&&(u.push(R),m[R.id]=!0)}return{plugins:u,localIds:m}}(g);return!1!==b||u?function Ks(E,{plugins:m,localIds:u},g,b){const D=[],R=E.getContext();for(const j of m){const q=j.id,ue=Xs(g[q],b);null!==ue&&D.push({plugin:j,options:vs(E.config,{plugin:j,local:u[q]},ue,R)})}return D}(m,D,b,u):[]}_notifyStateChanges(m){const u=this._oldCache||[],g=this._cache,b=(D,R)=>D.filter(j=>!R.some(q=>j.plugin.id===q.plugin.id));this._notify(b(u,g),m,"stop"),this._notify(b(g,u),m,"start")}}function Xs(E,m){return m||!1!==E?!0===E?{}:E:null}function vs(E,{plugin:m,local:u},g,b){const D=E.pluginScopeKeys(m),R=E.getOptionScopes(g,D);return u&&m.defaults&&R.push(m.defaults),E.createResolver(R,b,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function hr(E,m){return((m.datasets||{})[E]||{}).indexAxis||m.indexAxis||(c.d.datasets[E]||{}).indexAxis||"x"}function _r(E){if("x"===E||"y"===E||"r"===E)return E}function So(E){return"top"===E||"bottom"===E?"x":"left"===E||"right"===E?"y":void 0}function Do(E,...m){if(_r(E))return E;for(const u of m){const g=u.axis||So(u.position)||E.length>1&&_r(E[0].toLowerCase());if(g)return g}throw new Error(`Cannot determine type of '${E}' axis. Please provide 'axis' or 'position' option.`)}function js(E,m,u){if(u[m+"AxisID"]===E)return{axis:m}}function Mr(E){const m=E.options||(E.options={});m.plugins=(0,c.v)(m.plugins,{}),m.scales=function Vr(E,m){const u=c.a3[E.type]||{scales:{}},g=m.scales||{},b=hr(E.type,m),D=Object.create(null);return Object.keys(g).forEach(R=>{const j=g[R];if(!(0,c.i)(j))return console.error(`Invalid scale configuration for scale: ${R}`);if(j._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${R}`);const q=Do(R,j,function Qo(E,m){if(m.data&&m.data.datasets){const u=m.data.datasets.filter(g=>g.xAxisID===E||g.yAxisID===E);if(u.length)return js(E,"x",u[0])||js(E,"y",u[0])}return{}}(R,E),c.d.scales[j.type]),ue=function vr(E,m){return E===m?"_index_":"_value_"}(q,b),ke=u.scales||{};D[R]=(0,c.ab)(Object.create(null),[{axis:q},j,ke[q],ke[ue]])}),E.data.datasets.forEach(R=>{const j=R.type||E.type,q=R.indexAxis||hr(j,m),ke=(c.a3[j]||{}).scales||{};Object.keys(ke).forEach(rt=>{const kt=function ri(E,m){let u=E;return"_index_"===E?u=m:"_value_"===E&&(u="x"===m?"y":"x"),u}(rt,q),Bt=R[kt+"AxisID"]||kt;D[Bt]=D[Bt]||Object.create(null),(0,c.ab)(D[Bt],[{axis:kt},g[Bt],ke[rt]])})}),Object.keys(D).forEach(R=>{const j=D[R];(0,c.ab)(j,[c.d.scales[j.type],c.d.scale])}),D}(E,m)}function Cs(E){return(E=E||{}).datasets=E.datasets||[],E.labels=E.labels||[],E}const Ao=new Map,Gs=new Set;function as(E,m){let u=Ao.get(E);return u||(u=m(),Ao.set(E,u),Gs.add(u)),u}const Vs=(E,m,u)=>{const g=(0,c.f)(m,u);void 0!==g&&E.add(g)};class zo{constructor(m){this._config=function Nr(E){return(E=E||{}).data=Cs(E.data),Mr(E),E}(m),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(m){this._config.type=m}get data(){return this._config.data}set data(m){this._config.data=Cs(m)}get options(){return this._config.options}set options(m){this._config.options=m}get plugins(){return this._config.plugins}update(){const m=this._config;this.clearCache(),Mr(m)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(m){return as(m,()=>[[`datasets.${m}`,""]])}datasetAnimationScopeKeys(m,u){return as(`${m}.transition.${u}`,()=>[[`datasets.${m}.transitions.${u}`,`transitions.${u}`],[`datasets.${m}`,""]])}datasetElementScopeKeys(m,u){return as(`${m}-${u}`,()=>[[`datasets.${m}.elements.${u}`,`datasets.${m}`,`elements.${u}`,""]])}pluginScopeKeys(m){const u=m.id;return as(`${this.type}-plugin-${u}`,()=>[[`plugins.${u}`,...m.additionalOptionScopes||[]]])}_cachedScopes(m,u){const g=this._scopeCache;let b=g.get(m);return(!b||u)&&(b=new Map,g.set(m,b)),b}getOptionScopes(m,u,g){const{options:b,type:D}=this,R=this._cachedScopes(m,g),j=R.get(u);if(j)return j;const q=new Set;u.forEach(ke=>{m&&(q.add(m),ke.forEach(rt=>Vs(q,m,rt))),ke.forEach(rt=>Vs(q,b,rt)),ke.forEach(rt=>Vs(q,c.a3[D]||{},rt)),ke.forEach(rt=>Vs(q,c.d,rt)),ke.forEach(rt=>Vs(q,c.a6,rt))});const ue=Array.from(q);return 0===ue.length&&ue.push(Object.create(null)),Gs.has(u)&&R.set(u,ue),ue}chartOptionScopes(){const{options:m,type:u}=this;return[m,c.a3[u]||{},c.d.datasets[u]||{},{type:u},c.d,c.a6]}resolveNamedOptions(m,u,g,b=[""]){const D={$shared:!0},{resolver:R,subPrefixes:j}=Jo(this._resolverCache,m,b);let q=R;if(function ea(E,m){const{isScriptable:u,isIndexable:g}=(0,c.aa)(E);for(const b of m){const D=u(b),R=g(b),j=(R||D)&&E[b];if(D&&((0,c.a7)(j)||vo(j))||R&&(0,c.b)(j))return!0}return!1}(R,u)){D.$shared=!1,g=(0,c.a7)(g)?g():g;const ue=this.createResolver(m,g,j);q=(0,c.a8)(R,g,ue)}for(const ue of u)D[ue]=q[ue];return D}createResolver(m,u,g=[""],b){const{resolver:D}=Jo(this._resolverCache,m,g);return(0,c.i)(u)?(0,c.a8)(D,u,void 0,b):D}}function Jo(E,m,u){let g=E.get(m);g||(g=new Map,E.set(m,g));const b=u.join();let D=g.get(b);return D||(D={resolver:(0,c.a9)(m,u),subPrefixes:u.filter(j=>!j.toLowerCase().includes("hover"))},g.set(b,D)),D}const vo=E=>(0,c.i)(E)&&Object.getOwnPropertyNames(E).reduce((m,u)=>m||(0,c.a7)(E[u]),!1),ra=["top","bottom","left","right","chartArea"];function xo(E,m){return"top"===E||"bottom"===E||-1===ra.indexOf(E)&&"x"===m}function Fa(E,m){return function(u,g){return u[E]===g[E]?u[m]-g[m]:u[E]-g[E]}}function Mo(E){const m=E.chart,u=m.options.animation;m.notifyPlugins("afterRender"),(0,c.Q)(u&&u.onComplete,[E],m)}function _s(E){const m=E.chart,u=m.options.animation;(0,c.Q)(u&&u.onProgress,[E],m)}function Pa(E){return(0,c.M)()&&"string"==typeof E?E=document.getElementById(E):E&&E.length&&(E=E[0]),E&&E.canvas&&(E=E.canvas),E}const Co={},ms=E=>{const m=Pa(E);return Object.values(Co).filter(u=>u.canvas===m).pop()};function no(E,m,u){const g=Object.keys(E);for(const b of g){const D=+b;if(D>=m){const R=E[b];delete E[b],(u>0||D>m)&&(E[D+u]=R)}}}function ta(E,m,u){return E.options.clip?E[u]:m[u]}let fo=(()=>{class E{static register(...u){bi.add(...u),jo()}static unregister(...u){bi.remove(...u),jo()}constructor(u,g){const b=this.config=new zo(g),D=Pa(u),R=ms(D);if(R)throw new Error("Canvas is already in use. Chart with ID '"+R.id+"' must be destroyed before the canvas with ID '"+R.canvas.id+"' can be reused.");const j=b.createResolver(b.chartOptionScopes(),this.getContext());this.platform=new(b.platform||function Sr(E){return!(0,c.M)()||typeof OffscreenCanvas<"u"&&E instanceof OffscreenCanvas?x:$i}(D)),this.platform.updateConfig(b);const q=this.platform.acquireContext(D,j.aspectRatio),ue=q&&q.canvas,ke=ue&&ue.height,rt=ue&&ue.width;this.id=(0,c.ac)(),this.ctx=q,this.canvas=ue,this.width=rt,this.height=ke,this._options=j,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new Cr,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=(0,c.ad)(kt=>this.update(kt),j.resizeDelay||0),this._dataChanges=[],Co[this.id]=this,q&&ue?(De.listen(this,"complete",Mo),De.listen(this,"progress",_s),this._initialize(),this.attached&&this.update()):console.error("Failed to create chart: can't acquire context from the given item")}get aspectRatio(){const{options:{aspectRatio:u,maintainAspectRatio:g},width:b,height:D,_aspectRatio:R}=this;return(0,c.k)(u)?g&&R?R:D?b/D:null:u}get data(){return this.config.data}set data(u){this.config.data=u}get options(){return this._options}set options(u){this.config.options=u}get registry(){return bi}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():(0,c.ae)(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return(0,c.af)(this.canvas,this.ctx),this}stop(){return De.stop(this),this}resize(u,g){De.running(this)?this._resizeBeforeDraw={width:u,height:g}:this._resize(u,g)}_resize(u,g){const b=this.options,j=this.platform.getMaximumSize(this.canvas,u,g,b.maintainAspectRatio&&this.aspectRatio),q=b.devicePixelRatio||this.platform.getDevicePixelRatio(),ue=this.width?"resize":"attach";this.width=j.width,this.height=j.height,this._aspectRatio=this.aspectRatio,(0,c.ae)(this,q,!0)&&(this.notifyPlugins("resize",{size:j}),(0,c.Q)(b.onResize,[this,j],this),this.attached&&this._doResize(ue)&&this.render())}ensureScalesHaveIDs(){(0,c.F)(this.options.scales||{},(b,D)=>{b.id=D})}buildOrUpdateScales(){const u=this.options,g=u.scales,b=this.scales,D=Object.keys(b).reduce((j,q)=>(j[q]=!1,j),{});let R=[];g&&(R=R.concat(Object.keys(g).map(j=>{const q=g[j],ue=Do(j,q),ke="r"===ue,rt="x"===ue;return{options:q,dposition:ke?"chartArea":rt?"bottom":"left",dtype:ke?"radialLinear":rt?"category":"linear"}}))),(0,c.F)(R,j=>{const q=j.options,ue=q.id,ke=Do(ue,q),rt=(0,c.v)(q.type,j.dtype);(void 0===q.position||xo(q.position,ke)!==xo(j.dposition))&&(q.position=j.dposition),D[ue]=!0;let kt=null;ue in b&&b[ue].type===rt?kt=b[ue]:(kt=new(bi.getScale(rt))({id:ue,type:rt,ctx:this.ctx,chart:this}),b[kt.id]=kt),kt.init(q,u)}),(0,c.F)(D,(j,q)=>{j||delete b[q]}),(0,c.F)(b,j=>{Pt.configure(this,j,j.options),Pt.addBox(this,j)})}_updateMetasets(){const u=this._metasets,g=this.data.datasets.length,b=u.length;if(u.sort((D,R)=>D.index-R.index),b>g){for(let D=g;D<b;++D)this._destroyDatasetMeta(D);u.splice(g,b-g)}this._sortedMetasets=u.slice(0).sort(Fa("order","index"))}_removeUnreferencedMetasets(){const{_metasets:u,data:{datasets:g}}=this;u.length>g.length&&delete this._stacks,u.forEach((b,D)=>{0===g.filter(R=>R===b._dataset).length&&this._destroyDatasetMeta(D)})}buildOrUpdateControllers(){const u=[],g=this.data.datasets;let b,D;for(this._removeUnreferencedMetasets(),b=0,D=g.length;b<D;b++){const R=g[b];let j=this.getDatasetMeta(b);const q=R.type||this.config.type;if(j.type&&j.type!==q&&(this._destroyDatasetMeta(b),j=this.getDatasetMeta(b)),j.type=q,j.indexAxis=R.indexAxis||hr(q,this.options),j.order=R.order||0,j.index=b,j.label=""+R.label,j.visible=this.isDatasetVisible(b),j.controller)j.controller.updateIndex(b),j.controller.linkScales();else{const ue=bi.getController(q),{datasetElementType:ke,dataElementType:rt}=c.d.datasets[q];Object.assign(ue,{dataElementType:bi.getElement(rt),datasetElementType:ke&&bi.getElement(ke)}),j.controller=new ue(this,b),u.push(j.controller)}}return this._updateMetasets(),u}_resetElements(){(0,c.F)(this.data.datasets,(u,g)=>{this.getDatasetMeta(g).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(u){const g=this.config;g.update();const b=this._options=g.createResolver(g.chartOptionScopes(),this.getContext()),D=this._animationsDisabled=!b.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),!1===this.notifyPlugins("beforeUpdate",{mode:u,cancelable:!0}))return;const R=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let j=0;for(let ke=0,rt=this.data.datasets.length;ke<rt;ke++){const{controller:kt}=this.getDatasetMeta(ke),Bt=!D&&-1===R.indexOf(kt);kt.buildOrUpdateElements(Bt),j=Math.max(+kt.getMaxOverflow(),j)}j=this._minPadding=b.layout.autoPadding?j:0,this._updateLayout(j),D||(0,c.F)(R,ke=>{ke.reset()}),this._updateDatasets(u),this.notifyPlugins("afterUpdate",{mode:u}),this._layers.sort(Fa("z","_idx"));const{_active:q,_lastEvent:ue}=this;ue?this._eventHandler(ue,!0):q.length&&this._updateHoverStyles(q,q,!0),this.render()}_updateScales(){(0,c.F)(this.scales,u=>{Pt.removeBox(this,u)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const u=this.options,g=new Set(Object.keys(this._listeners)),b=new Set(u.events);(!(0,c.ag)(g,b)||!!this._responsiveListeners!==u.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:u}=this,g=this._getUniformDataChanges()||[];for(const{method:b,start:D,count:R}of g)no(u,D,"_removeElements"===b?-R:R)}_getUniformDataChanges(){const u=this._dataChanges;if(!u||!u.length)return;this._dataChanges=[];const g=this.data.datasets.length,b=R=>new Set(u.filter(j=>j[0]===R).map((j,q)=>q+","+j.splice(1).join(","))),D=b(0);for(let R=1;R<g;R++)if(!(0,c.ag)(D,b(R)))return;return Array.from(D).map(R=>R.split(",")).map(R=>({method:R[1],start:+R[2],count:+R[3]}))}_updateLayout(u){if(!1===this.notifyPlugins("beforeLayout",{cancelable:!0}))return;Pt.update(this,this.width,this.height,u);const g=this.chartArea,b=g.width<=0||g.height<=0;this._layers=[],(0,c.F)(this.boxes,D=>{b&&"chartArea"===D.position||(D.configure&&D.configure(),this._layers.push(...D._layers()))},this),this._layers.forEach((D,R)=>{D._idx=R}),this.notifyPlugins("afterLayout")}_updateDatasets(u){if(!1!==this.notifyPlugins("beforeDatasetsUpdate",{mode:u,cancelable:!0})){for(let g=0,b=this.data.datasets.length;g<b;++g)this.getDatasetMeta(g).controller.configure();for(let g=0,b=this.data.datasets.length;g<b;++g)this._updateDataset(g,(0,c.a7)(u)?u({datasetIndex:g}):u);this.notifyPlugins("afterDatasetsUpdate",{mode:u})}}_updateDataset(u,g){const b=this.getDatasetMeta(u),D={meta:b,index:u,mode:g,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetUpdate",D)&&(b.controller._update(g),D.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",D))}render(){!1!==this.notifyPlugins("beforeRender",{cancelable:!0})&&(De.has(this)?this.attached&&!De.running(this)&&De.start(this):(this.draw(),Mo({chart:this})))}draw(){let u;if(this._resizeBeforeDraw){const{width:b,height:D}=this._resizeBeforeDraw;this._resize(b,D),this._resizeBeforeDraw=null}if(this.clear(),this.width<=0||this.height<=0||!1===this.notifyPlugins("beforeDraw",{cancelable:!0}))return;const g=this._layers;for(u=0;u<g.length&&g[u].z<=0;++u)g[u].draw(this.chartArea);for(this._drawDatasets();u<g.length;++u)g[u].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(u){const g=this._sortedMetasets,b=[];let D,R;for(D=0,R=g.length;D<R;++D){const j=g[D];(!u||j.visible)&&b.push(j)}return b}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(!1===this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0}))return;const u=this.getSortedVisibleDatasetMetas();for(let g=u.length-1;g>=0;--g)this._drawDataset(u[g]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(u){const g=this.ctx,b=u._clip,D=!b.disabled,R=function Po(E,m){const{xScale:u,yScale:g}=E;return u&&g?{left:ta(u,m,"left"),right:ta(u,m,"right"),top:ta(g,m,"top"),bottom:ta(g,m,"bottom")}:m}(u,this.chartArea),j={meta:u,index:u.index,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetDraw",j)&&(D&&(0,c.Y)(g,{left:!1===b.left?0:R.left-b.left,right:!1===b.right?this.width:R.right+b.right,top:!1===b.top?0:R.top-b.top,bottom:!1===b.bottom?this.height:R.bottom+b.bottom}),u.controller.draw(),D&&(0,c.$)(g),j.cancelable=!1,this.notifyPlugins("afterDatasetDraw",j))}isPointInArea(u){return(0,c.C)(u,this.chartArea,this._minPadding)}getElementsAtEventForMode(u,g,b,D){const R=Jr.modes[g];return"function"==typeof R?R(this,u,b,D):[]}getDatasetMeta(u){const g=this.data.datasets[u],b=this._metasets;let D=b.filter(R=>R&&R._dataset===g).pop();return D||(D={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:g&&g.order||0,index:u,_dataset:g,_parsed:[],_sorted:!1},b.push(D)),D}getContext(){return this.$context||(this.$context=(0,c.j)(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(u){const g=this.data.datasets[u];if(!g)return!1;const b=this.getDatasetMeta(u);return"boolean"==typeof b.hidden?!b.hidden:!g.hidden}setDatasetVisibility(u,g){this.getDatasetMeta(u).hidden=!g}toggleDataVisibility(u){this._hiddenIndices[u]=!this._hiddenIndices[u]}getDataVisibility(u){return!this._hiddenIndices[u]}_updateVisibility(u,g,b){const D=b?"show":"hide",R=this.getDatasetMeta(u),j=R.controller._resolveAnimations(void 0,D);(0,c.h)(g)?(R.data[g].hidden=!b,this.update()):(this.setDatasetVisibility(u,b),j.update(R,{visible:b}),this.update(q=>q.datasetIndex===u?D:void 0))}hide(u,g){this._updateVisibility(u,g,!1)}show(u,g){this._updateVisibility(u,g,!0)}_destroyDatasetMeta(u){const g=this._metasets[u];g&&g.controller&&g.controller._destroy(),delete this._metasets[u]}_stop(){let u,g;for(this.stop(),De.remove(this),u=0,g=this.data.datasets.length;u<g;++u)this._destroyDatasetMeta(u)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:u,ctx:g}=this;this._stop(),this.config.clearCache(),u&&(this.unbindEvents(),(0,c.af)(u,g),this.platform.releaseContext(g),this.canvas=null,this.ctx=null),delete Co[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...u){return this.canvas.toDataURL(...u)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const u=this._listeners,g=this.platform,b=(R,j)=>{g.addEventListener(this,R,j),u[R]=j},D=(R,j,q)=>{R.offsetX=j,R.offsetY=q,this._eventHandler(R)};(0,c.F)(this.options.events,R=>b(R,D))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const u=this._responsiveListeners,g=this.platform,b=(ue,ke)=>{g.addEventListener(this,ue,ke),u[ue]=ke},D=(ue,ke)=>{u[ue]&&(g.removeEventListener(this,ue,ke),delete u[ue])},R=(ue,ke)=>{this.canvas&&this.resize(ue,ke)};let j;const q=()=>{D("attach",q),this.attached=!0,this.resize(),b("resize",R),b("detach",j)};j=()=>{this.attached=!1,D("resize",R),this._stop(),this._resize(0,0),b("attach",q)},g.isAttached(this.canvas)?q():j()}unbindEvents(){(0,c.F)(this._listeners,(u,g)=>{this.platform.removeEventListener(this,g,u)}),this._listeners={},(0,c.F)(this._responsiveListeners,(u,g)=>{this.platform.removeEventListener(this,g,u)}),this._responsiveListeners=void 0}updateHoverStyle(u,g,b){const D=b?"set":"remove";let R,j,q,ue;for("dataset"===g&&(R=this.getDatasetMeta(u[0].datasetIndex),R.controller["_"+D+"DatasetHoverStyle"]()),q=0,ue=u.length;q<ue;++q){j=u[q];const ke=j&&this.getDatasetMeta(j.datasetIndex).controller;ke&&ke[D+"HoverStyle"](j.element,j.datasetIndex,j.index)}}getActiveElements(){return this._active||[]}setActiveElements(u){const g=this._active||[],b=u.map(({datasetIndex:R,index:j})=>{const q=this.getDatasetMeta(R);if(!q)throw new Error("No dataset found at index "+R);return{datasetIndex:R,element:q.data[j],index:j}});!(0,c.ah)(b,g)&&(this._active=b,this._lastEvent=null,this._updateHoverStyles(b,g))}notifyPlugins(u,g,b){return this._plugins.notify(this,u,g,b)}isPluginEnabled(u){return 1===this._plugins._cache.filter(g=>g.plugin.id===u).length}_updateHoverStyles(u,g,b){const D=this.options.hover,R=(ue,ke)=>ue.filter(rt=>!ke.some(kt=>rt.datasetIndex===kt.datasetIndex&&rt.index===kt.index)),j=R(g,u),q=b?u:R(u,g);j.length&&this.updateHoverStyle(j,D.mode,!1),q.length&&D.mode&&this.updateHoverStyle(q,D.mode,!0)}_eventHandler(u,g){const b={event:u,replay:g,cancelable:!0,inChartArea:this.isPointInArea(u)},D=j=>(j.options.events||this.options.events).includes(u.native.type);if(!1===this.notifyPlugins("beforeEvent",b,D))return;const R=this._handleEvent(u,g,b.inChartArea);return b.cancelable=!1,this.notifyPlugins("afterEvent",b,D),(R||b.changed)&&this.render(),this}_handleEvent(u,g,b){const{_active:D=[],options:R}=this,q=this._getActiveElements(u,D,b,g),ue=(0,c.ai)(u),ke=function No(E,m,u,g){return u&&"mouseout"!==E.type?g?m:E:null}(u,this._lastEvent,b,ue);b&&(this._lastEvent=null,(0,c.Q)(R.onHover,[u,q,this],this),ue&&(0,c.Q)(R.onClick,[u,q,this],this));const rt=!(0,c.ah)(q,D);return(rt||g)&&(this._active=q,this._updateHoverStyles(q,D,g)),this._lastEvent=ke,rt}_getActiveElements(u,g,b,D){if("mouseout"===u.type)return[];if(!b)return g;const R=this.options.hover;return this.getElementsAtEventForMode(u,R.mode,R,D)}}return E.defaults=c.d,E.instances=Co,E.overrides=c.a3,E.registry=bi,E.version="4.4.0",E.getChart=ms,E})();function jo(){return(0,c.F)(fo.instances,E=>E._plugins.invalidate())}function aa(E,m,u,g){return{x:u+E*Math.cos(m),y:g+E*Math.sin(m)}}function Ho(E,m,u,g,b,D){const{x:R,y:j,startAngle:q,pixelMargin:ue,innerRadius:ke}=m,rt=Math.max(m.outerRadius+g+u-ue,0),kt=ke>0?ke+g+u+ue:0;let Bt=0;const Sn=b-q;if(g){const bo=((ke>0?ke-g:0)+(rt>0?rt-g:0))/2;Bt=(Sn-(0!==bo?Sn*bo/(bo+g):Sn))/2}const jn=(Sn-Math.max(.001,Sn*rt-u/c.P)/rt)/2,Ei=q+jn+Bt,di=b-jn-Bt,{outerStart:Gi,outerEnd:qi,innerStart:Oi,innerEnd:zi}=function Aa(E,m,u,g){const b=function bs(E){return(0,c.ak)(E,["outerStart","outerEnd","innerStart","innerEnd"])}(E.options.borderRadius),D=(u-m)/2,R=Math.min(D,g*m/2),j=q=>{const ue=(u-Math.min(D,q))*g/2;return(0,c.S)(q,0,Math.min(D,ue))};return{outerStart:j(b.outerStart),outerEnd:j(b.outerEnd),innerStart:(0,c.S)(b.innerStart,0,R),innerEnd:(0,c.S)(b.innerEnd,0,R)}}(m,kt,rt,di-Ei),or=rt-Gi,Er=rt-qi,ls=Ei+Gi/or,Ns=di-qi/Er,Br=kt+Oi,co=kt+zi,Oo=Ei+Oi/Br,io=di-zi/co;if(E.beginPath(),D){const _o=(ls+Ns)/2;if(E.arc(R,j,rt,ls,_o),E.arc(R,j,rt,_o,Ns),qi>0){const Qa=aa(Er,Ns,R,j);E.arc(Qa.x,Qa.y,qi,Ns,di+c.H)}const sa=aa(co,di,R,j);if(E.lineTo(sa.x,sa.y),zi>0){const Qa=aa(co,io,R,j);E.arc(Qa.x,Qa.y,zi,di+c.H,io+Math.PI)}const bo=(di-zi/kt+(Ei+Oi/kt))/2;if(E.arc(R,j,kt,di-zi/kt,bo,!0),E.arc(R,j,kt,bo,Ei+Oi/kt,!0),Oi>0){const Qa=aa(Br,Oo,R,j);E.arc(Qa.x,Qa.y,Oi,Oo+Math.PI,Ei-c.H)}const Wa=aa(or,Ei,R,j);if(E.lineTo(Wa.x,Wa.y),Gi>0){const Qa=aa(or,ls,R,j);E.arc(Qa.x,Qa.y,Gi,Ei-c.H,ls)}}else{E.moveTo(R,j);const _o=Math.cos(ls)*rt+R,sa=Math.sin(ls)*rt+j;E.lineTo(_o,sa);const bo=Math.cos(Ns)*rt+R,Wa=Math.sin(Ns)*rt+j;E.lineTo(bo,Wa)}E.closePath()}class $ extends yr{constructor(m){super(),this.circumference=void 0,this.endAngle=void 0,this.fullCircles=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=void 0,this.startAngle=void 0,this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,m&&Object.assign(this,m)}inRange(m,u,g){const b=this.getProps(["x","y"],g),{angle:D,distance:R}=(0,c.D)(b,{x:m,y:u}),{startAngle:j,endAngle:q,innerRadius:ue,outerRadius:ke,circumference:rt}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],g),kt=(this.options.spacing+this.options.borderWidth)/2,Sn=(0,c.v)(rt,q-j)>=c.T||(0,c.p)(D,j,q),kn=(0,c.aj)(R,ue+kt,ke+kt);return Sn&&kn}getCenterPoint(m){const{x:u,y:g,startAngle:b,endAngle:D,innerRadius:R,outerRadius:j}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],m),{offset:q,spacing:ue}=this.options,ke=(b+D)/2,rt=(R+j+ue+q)/2;return{x:u+Math.cos(ke)*rt,y:g+Math.sin(ke)*rt}}tooltipPosition(m){return this.getCenterPoint(m)}draw(m){const{options:u,circumference:g}=this,b=(u.offset||0)/4,D=(u.spacing||0)/2,R=u.circular;if(this.pixelMargin="inner"===u.borderAlign?.33:0,this.fullCircles=g>c.T?Math.floor(g/c.T):0,0===g||this.innerRadius<0||this.outerRadius<0)return;m.save();const j=(this.startAngle+this.endAngle)/2;m.translate(Math.cos(j)*b,Math.sin(j)*b);const ue=b*(1-Math.sin(Math.min(c.P,g||0)));m.fillStyle=u.backgroundColor,m.strokeStyle=u.borderColor,function F(E,m,u,g,b){const{fullCircles:D,startAngle:R,circumference:j}=m;let q=m.endAngle;if(D){Ho(E,m,u,g,q,b);for(let ue=0;ue<D;++ue)E.fill();isNaN(j)||(q=R+(j%c.T||c.T))}Ho(E,m,u,g,q,b),E.fill()}(m,this,ue,D,R),function Se(E,m,u,g,b){const{fullCircles:D,startAngle:R,circumference:j,options:q}=m,{borderWidth:ue,borderJoinStyle:ke,borderDash:rt,borderDashOffset:kt}=q,Bt="inner"===q.borderAlign;if(!ue)return;E.setLineDash(rt||[]),E.lineDashOffset=kt,Bt?(E.lineWidth=2*ue,E.lineJoin=ke||"round"):(E.lineWidth=ue,E.lineJoin=ke||"bevel");let Sn=m.endAngle;if(D){Ho(E,m,u,g,Sn,b);for(let kn=0;kn<D;++kn)E.stroke();isNaN(j)||(Sn=R+(j%c.T||c.T))}Bt&&function Lo(E,m,u){const{startAngle:g,pixelMargin:b,x:D,y:R,outerRadius:j,innerRadius:q}=m;let ue=b/j;E.beginPath(),E.arc(D,R,j,g-ue,u+ue),q>b?(ue=b/q,E.arc(D,R,q,u+ue,g-ue,!0)):E.arc(D,R,b,u+c.H,g-c.H),E.closePath(),E.clip()}(E,m,Sn),D||(Ho(E,m,u,g,Sn,b),E.stroke())}(m,this,ue,D,R),m.restore()}}function ge(E,m,u=m){E.lineCap=(0,c.v)(u.borderCapStyle,m.borderCapStyle),E.setLineDash((0,c.v)(u.borderDash,m.borderDash)),E.lineDashOffset=(0,c.v)(u.borderDashOffset,m.borderDashOffset),E.lineJoin=(0,c.v)(u.borderJoinStyle,m.borderJoinStyle),E.lineWidth=(0,c.v)(u.borderWidth,m.borderWidth),E.strokeStyle=(0,c.v)(u.borderColor,m.borderColor)}function ut(E,m,u){E.lineTo(u.x,u.y)}function Yi(E,m,u={}){const g=E.length,{start:b=0,end:D=g-1}=u,{start:R,end:j}=m,q=Math.max(b,R),ue=Math.min(D,j);return{count:g,start:q,loop:m.loop,ilen:ue<q&&!(b<R&&D<R||b>j&&D>j)?g+ue-q:ue-q}}function Tr(E,m,u,g){const{points:b,options:D}=m,{count:R,start:j,loop:q,ilen:ue}=Yi(b,u,g),ke=function oi(E){return E.stepped?c.ar:E.tension||"monotone"===E.cubicInterpolationMode?c.as:ut}(D);let Bt,Sn,kn,{move:rt=!0,reverse:kt}=g||{};for(Bt=0;Bt<=ue;++Bt)Sn=b[(j+(kt?ue-Bt:Bt))%R],!Sn.skip&&(rt?(E.moveTo(Sn.x,Sn.y),rt=!1):ke(E,kn,Sn,kt,D.stepped),kn=Sn);return q&&(Sn=b[(j+(kt?ue:0))%R],ke(E,kn,Sn,kt,D.stepped)),!!q}function cs(E,m,u,g){const b=m.points,{count:D,start:R,ilen:j}=Yi(b,u,g),{move:q=!0,reverse:ue}=g||{};let kt,Bt,Sn,kn,jn,Ei,ke=0,rt=0;const di=qi=>(R+(ue?j-qi:qi))%D,Gi=()=>{kn!==jn&&(E.lineTo(ke,jn),E.lineTo(ke,kn),E.lineTo(ke,Ei))};for(q&&(Bt=b[di(0)],E.moveTo(Bt.x,Bt.y)),kt=0;kt<=j;++kt){if(Bt=b[di(kt)],Bt.skip)continue;const qi=Bt.x,Oi=Bt.y,zi=0|qi;zi===Sn?(Oi<kn?kn=Oi:Oi>jn&&(jn=Oi),ke=(rt*ke+qi)/++rt):(Gi(),E.lineTo(qi,Oi),Sn=zi,rt=0,kn=jn=Oi),Ei=Oi}Gi()}function Ms(E){const m=E.options;return E._decimated||E._loop||m.tension||"monotone"===m.cubicInterpolationMode||m.stepped||m.borderDash&&m.borderDash.length?Tr:cs}$.id="arc",$.defaults={borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0},$.defaultRoutes={backgroundColor:"backgroundColor"},$.descriptors={_scriptable:!0,_indexable:E=>"borderDash"!==E};const Fo="function"==typeof Path2D;let la=(()=>{class E extends yr{constructor(u){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,u&&Object.assign(this,u)}updateControlPoints(u,g){const b=this.options;!b.tension&&"monotone"!==b.cubicInterpolationMode||b.stepped||this._pointsUpdated||((0,c.al)(this._points,b,u,b.spanGaps?this._loop:this._fullLoop,g),this._pointsUpdated=!0)}set points(u){this._points=u,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=(0,c.am)(this,this.options.segment))}first(){const u=this.segments;return u.length&&this.points[u[0].start]}last(){const u=this.segments,b=u.length;return b&&this.points[u[b-1].end]}interpolate(u,g){const b=this.options,D=u[g],R=this.points,j=(0,c.an)(this,{property:g,start:D,end:D});if(!j.length)return;const q=[],ue=function gs(E){return E.stepped?c.ao:E.tension||"monotone"===E.cubicInterpolationMode?c.ap:c.aq}(b);let ke,rt;for(ke=0,rt=j.length;ke<rt;++ke){const{start:kt,end:Bt}=j[ke],Sn=R[kt],kn=R[Bt];if(Sn===kn){q.push(Sn);continue}const Ei=ue(Sn,kn,Math.abs((D-Sn[g])/(kn[g]-Sn[g])),b.stepped);Ei[g]=u[g],q.push(Ei)}return 1===q.length?q[0]:q}pathSegment(u,g,b){return Ms(this)(u,this,g,b)}path(u,g,b){const D=this.segments,R=Ms(this);let j=this._loop;g=g||0,b=b||this.points.length-g;for(const q of D)j&=R(u,this,q,{start:g,end:g+b-1});return!!j}draw(u,g,b,D){(this.points||[]).length&&(this.options||{}).borderWidth&&(u.save(),function Ra(E,m,u,g){Fo&&!m.options.segment?function wa(E,m,u,g){let b=m._path;b||(b=m._path=new Path2D,m.path(b,u,g)&&b.closePath()),ge(E,m.options),E.stroke(b)}(E,m,u,g):function Bs(E,m,u,g){const{segments:b,options:D}=m,R=Ms(m);for(const j of b)ge(E,D,j.style),E.beginPath(),R(E,m,j,{start:u,end:u+g-1})&&E.closePath(),E.stroke()}(E,m,u,g)}(u,this,b,D),u.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}return E.id="line",E.defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0},E.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"},E.descriptors={_scriptable:!0,_indexable:m=>"borderDash"!==m&&"fill"!==m},E})();function Hs(E,m,u,g){const b=E.options,{[u]:D}=E.getProps([u],g);return Math.abs(m-D)<b.radius+b.hitRadius}let da=(()=>{class E extends yr{constructor(u){super(),this.parsed=void 0,this.skip=void 0,this.stop=void 0,this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,u&&Object.assign(this,u)}inRange(u,g,b){const D=this.options,{x:R,y:j}=this.getProps(["x","y"],b);return Math.pow(u-R,2)+Math.pow(g-j,2)<Math.pow(D.hitRadius+D.radius,2)}inXRange(u,g){return Hs(this,u,"x",g)}inYRange(u,g){return Hs(this,u,"y",g)}getCenterPoint(u){const{x:g,y:b}=this.getProps(["x","y"],u);return{x:g,y:b}}size(u){let g=(u=u||this.options||{}).radius||0;return g=Math.max(g,g&&u.hoverRadius||0),2*(g+(g&&u.borderWidth||0))}draw(u,g){const b=this.options;this.skip||b.radius<.1||!(0,c.C)(this,g,this.size(b)/2)||(u.strokeStyle=b.borderColor,u.lineWidth=b.borderWidth,u.fillStyle=b.backgroundColor,(0,c.at)(u,b,this.x,this.y))}getRange(){const u=this.options||{};return u.radius+u.hitRadius}}return E.id="point",E.defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0},E.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"},E})();function ys(E,m){const{x:u,y:g,base:b,width:D,height:R}=E.getProps(["x","y","base","width","height"],m);let j,q,ue,ke,rt;return E.horizontal?(rt=R/2,j=Math.min(u,b),q=Math.max(u,b),ue=g-rt,ke=g+rt):(rt=D/2,j=u-rt,q=u+rt,ue=Math.min(g,b),ke=Math.max(g,b)),{left:j,top:ue,right:q,bottom:ke}}function ya(E,m,u,g){return E?0:(0,c.S)(m,u,g)}function ha(E,m,u,g){const b=null===m,D=null===u,j=E&&!(b&&D)&&ys(E,g);return j&&(b||(0,c.aj)(m,j.left,j.right))&&(D||(0,c.aj)(u,j.top,j.bottom))}function Pe(E,m){E.rect(m.x,m.y,m.w,m.h)}function _e(E,m,u={}){const g=E.x!==u.x?-m:0,b=E.y!==u.y?-m:0;return{x:E.x+g,y:E.y+b,w:E.w+((E.x+E.w!==u.x+u.w?m:0)-g),h:E.h+((E.y+E.h!==u.y+u.h?m:0)-b),radius:E.radius}}class H extends yr{constructor(m){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,m&&Object.assign(this,m)}draw(m){const{inflateAmount:u,options:{borderColor:g,backgroundColor:b}}=this,{inner:D,outer:R}=function Ps(E){const m=ys(E),u=m.right-m.left,g=m.bottom-m.top,b=function Uo(E,m,u){const b=E.borderSkipped,D=(0,c.av)(E.options.borderWidth);return{t:ya(b.top,D.top,0,u),r:ya(b.right,D.right,0,m),b:ya(b.bottom,D.bottom,0,u),l:ya(b.left,D.left,0,m)}}(E,u/2,g/2),D=function Na(E,m,u){const{enableBorderRadius:g}=E.getProps(["enableBorderRadius"]),b=E.options.borderRadius,D=(0,c.aw)(b),R=Math.min(m,u),j=E.borderSkipped,q=g||(0,c.i)(b);return{topLeft:ya(!q||j.top||j.left,D.topLeft,0,R),topRight:ya(!q||j.top||j.right,D.topRight,0,R),bottomLeft:ya(!q||j.bottom||j.left,D.bottomLeft,0,R),bottomRight:ya(!q||j.bottom||j.right,D.bottomRight,0,R)}}(E,u/2,g/2);return{outer:{x:m.left,y:m.top,w:u,h:g,radius:D},inner:{x:m.left+b.l,y:m.top+b.t,w:u-b.l-b.r,h:g-b.t-b.b,radius:{topLeft:Math.max(0,D.topLeft-Math.max(b.t,b.l)),topRight:Math.max(0,D.topRight-Math.max(b.t,b.r)),bottomLeft:Math.max(0,D.bottomLeft-Math.max(b.b,b.l)),bottomRight:Math.max(0,D.bottomRight-Math.max(b.b,b.r))}}}}(this),j=function tl(E){return E.topLeft||E.topRight||E.bottomLeft||E.bottomRight}(R.radius)?c.au:Pe;m.save(),(R.w!==D.w||R.h!==D.h)&&(m.beginPath(),j(m,_e(R,u,D)),m.clip(),j(m,_e(D,-u,R)),m.fillStyle=g,m.fill("evenodd")),m.beginPath(),j(m,_e(D,u)),m.fillStyle=b,m.fill(),m.restore()}inRange(m,u,g){return ha(this,m,u,g)}inXRange(m,u){return ha(this,m,null,u)}inYRange(m,u){return ha(this,null,m,u)}getCenterPoint(m){const{x:u,y:g,base:b,horizontal:D}=this.getProps(["x","y","base","horizontal"],m);return{x:D?(u+b)/2:u,y:D?g:(g+b)/2}}getRange(m){return"x"===m?this.width/2:this.height/2}}H.id="bar",H.defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0},H.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};var U=Object.freeze({__proto__:null,ArcElement:$,BarElement:H,LineElement:la,PointElement:da});const I=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],V=I.map(E=>E.replace("rgb(","rgba(").replace(")",", 0.5)"));function Ie(E){return I[E%I.length]}function Rt(E){return V[E%V.length]}function Wr(E){let m;for(m in E)if(E[m].borderColor||E[m].backgroundColor)return!0;return!1}var ss={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(E,m,u){if(!u.enabled)return;const{data:{datasets:g},options:b}=E.config,{elements:D}=b;if(!u.forceOverride&&(Wr(g)||function qr(E){return E&&(E.borderColor||E.backgroundColor)}(b)||D&&Wr(D)))return;const R=function Ur(E){let m=0;return(u,g)=>{const b=E.getDatasetMeta(g).controller;b instanceof Di?m=function Nn(E,m){return E.backgroundColor=E.data.map(()=>Ie(m++)),m}(u,m):b instanceof Xn?m=function qn(E,m){return E.backgroundColor=E.data.map(()=>Rt(m++)),m}(u,m):b&&(m=function gn(E,m){return E.borderColor=Ie(m),E.backgroundColor=Rt(m),++m}(u,m))}}(E);g.forEach(R)}};function Ro(E){if(E._decimated){const m=E._data;delete E._decimated,delete E._data,Object.defineProperty(E,"data",{configurable:!0,enumerable:!0,writable:!0,value:m})}}function po(E){E.data.datasets.forEach(m=>{Ro(m)})}var hs={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(E,m,u)=>{if(!u.enabled)return void po(E);const g=E.width;E.data.datasets.forEach((b,D)=>{const{_data:R,indexAxis:j}=b,q=E.getDatasetMeta(D),ue=R||b.data;if("y"===(0,c.a)([j,E.options.indexAxis])||!q.controller.supportsDecimation)return;const ke=E.scales[q.xAxisID];if("linear"!==ke.type&&"time"!==ke.type||E.options.parsing)return;let Sn,{start:rt,count:kt}=function Io(E,m){const u=m.length;let b,g=0;const{iScale:D}=E,{min:R,max:j,minDefined:q,maxDefined:ue}=D.getUserBounds();return q&&(g=(0,c.S)((0,c.B)(m,D.axis,R).lo,0,u-1)),b=ue?(0,c.S)((0,c.B)(m,D.axis,j).hi+1,g,u)-g:u-g,{start:g,count:b}}(q,ue);if(kt<=(u.threshold||4*g))Ro(b);else{switch((0,c.k)(R)&&(b._data=ue,delete b.data,Object.defineProperty(b,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(kn){this._data=kn}})),u.algorithm){case"lttb":Sn=function Pr(E,m,u,g,b){const D=b.samples||g;if(D>=u)return E.slice(m,m+u);const R=[],j=(u-2)/(D-2);let q=0;const ue=m+u-1;let rt,kt,Bt,Sn,kn,ke=m;for(R[q++]=E[ke],rt=0;rt<D-2;rt++){let di,jn=0,Ei=0;const Gi=Math.floor((rt+1)*j)+1+m,qi=Math.min(Math.floor((rt+2)*j)+1,u)+m,Oi=qi-Gi;for(di=Gi;di<qi;di++)jn+=E[di].x,Ei+=E[di].y;jn/=Oi,Ei/=Oi;const zi=Math.floor(rt*j)+1+m,or=Math.min(Math.floor((rt+1)*j)+1,u)+m,{x:Er,y:ls}=E[ke];for(Bt=Sn=-1,di=zi;di<or;di++)Sn=.5*Math.abs((Er-jn)*(E[di].y-ls)-(Er-E[di].x)*(Ei-ls)),Sn>Bt&&(Bt=Sn,kt=E[di],kn=di);R[q++]=kt,ke=kn}return R[q++]=E[ue],R}(ue,rt,kt,g,u);break;case"min-max":Sn=function Us(E,m,u,g){let R,j,q,ue,ke,rt,kt,Bt,Sn,kn,b=0,D=0;const jn=[],di=E[m].x,qi=E[m+u-1].x-di;for(R=m;R<m+u;++R){j=E[R],q=(j.x-di)/qi*g,ue=j.y;const Oi=0|q;if(Oi===ke)ue<Sn?(Sn=ue,rt=R):ue>kn&&(kn=ue,kt=R),b=(D*b+j.x)/++D;else{const zi=R-1;if(!(0,c.k)(rt)&&!(0,c.k)(kt)){const or=Math.min(rt,kt),Er=Math.max(rt,kt);or!==Bt&&or!==zi&&jn.push({...E[or],x:b}),Er!==Bt&&Er!==zi&&jn.push({...E[Er],x:b})}R>0&&zi!==Bt&&jn.push(E[zi]),jn.push(j),ke=Oi,D=0,Sn=kn=ue,rt=kt=Bt=R}}return jn}(ue,rt,kt,g);break;default:throw new Error(`Unsupported decimation algorithm '${u.algorithm}'`)}b._decimated=Sn}})},destroy(E){po(E)}};function Wo(E,m,u,g){if(g)return;let b=m[E],D=u[E];return"angle"===E&&(b=(0,c.ay)(b),D=(0,c.ay)(D)),{property:E,start:b,end:D}}function Go(E,m,u){for(;m>E;m--){const g=u[m];if(!isNaN(g.x)&&!isNaN(g.y))break}return m}function ja(E,m,u,g){return E&&m?g(E[u],m[u]):E?E[u]:m?m[u]:0}function Oa(E,m){let u=[],g=!1;return(0,c.b)(E)?(g=!0,u=E):u=function va(E,m){const{x:u=null,y:g=null}=E||{},b=m.points,D=[];return m.segments.forEach(({start:R,end:j})=>{j=Go(R,j,b);const q=b[R],ue=b[j];null!==g?(D.push({x:q.x,y:g}),D.push({x:ue.x,y:g})):null!==u&&(D.push({x:u,y:q.y}),D.push({x:u,y:ue.y}))}),D}(E,m),u.length?new la({points:u,options:{tension:0},_loop:g,_fullLoop:g}):null}function cl(E){return E&&!1!==E.fill}function Za(E,m,u){let b=E[m].fill;const D=[m];let R;if(!u)return b;for(;!1!==b&&-1===D.indexOf(b);){if(!(0,c.g)(b))return b;if(R=E[b],!R)return!1;if(R.visible)return b;D.push(b),b=R.fill}return!1}function Ea(E,m,u){const g=function nl(E){const m=E.options,u=m.fill;let g=(0,c.v)(u&&u.target,u);return void 0===g&&(g=!!m.backgroundColor),!1!==g&&null!==g&&(!0===g?"origin":g)}(E);if((0,c.i)(g))return!isNaN(g.value)&&g;let b=parseFloat(g);return(0,c.g)(b)&&Math.floor(b)===b?function Xa(E,m,u,g){return("-"===E||"+"===E)&&(u=m+u),!(u===m||u<0||u>=g)&&u}(g[0],m,b,u):["origin","start","end","stack","shape"].indexOf(g)>=0&&g}function k(E,m,u){const g=[];for(let b=0;b<u.length;b++){const D=u[b],{first:R,last:j,point:q}=ie(D,m,"x");if(!(!q||R&&j))if(R)g.unshift(q);else if(E.push(q),!j)break}E.push(...g)}function ie(E,m,u){const g=E.interpolate(m,u);if(!g)return{};const b=g[u],D=E.segments,R=E.points;let j=!1,q=!1;for(let ue=0;ue<D.length;ue++){const ke=D[ue],rt=R[ke.start][u],kt=R[ke.end][u];if((0,c.aj)(b,rt,kt)){j=b===rt,q=b===kt;break}}return{first:j,last:q,point:g}}class pe{constructor(m){this.x=m.x,this.y=m.y,this.radius=m.radius}pathSegment(m,u,g){const{x:b,y:D,radius:R}=this;return m.arc(b,D,R,(u=u||{start:0,end:c.T}).end,u.start,!0),!g.bounds}interpolate(m){const{x:u,y:g,radius:b}=this,D=m.angle;return{x:u+Math.cos(D)*b,y:g+Math.sin(D)*b,angle:D}}}function Pn(E,m,u){const g=function Fe(E){const{chart:m,fill:u,line:g}=E;if((0,c.g)(u))return function it(E,m){const u=E.getDatasetMeta(m);return u&&E.isDatasetVisible(m)?u.dataset:null}(m,u);if("stack"===u)return function Bo(E){const{scale:m,index:u,line:g}=E,b=[],D=g.segments,R=g.points,j=function ul(E,m){const u=[],g=E.getMatchingVisibleMetas("line");for(let b=0;b<g.length;b++){const D=g[b];if(D.index===m)break;D.hidden||u.unshift(D.dataset)}return u}(m,u);j.push(Oa({x:null,y:m.bottom},g));for(let q=0;q<D.length;q++){const ue=D[q];for(let ke=ue.start;ke<=ue.end;ke++)k(b,R[ke],j)}return new la({points:b,options:{}})}(E);if("shape"===u)return!0;const b=function xt(E){return(E.scale||{}).getPointPositionForValue?function yn(E){const{scale:m,fill:u}=E,g=m.options,b=m.getLabels().length,D=g.reverse?m.max:m.min,R=function na(E,m,u){let g;return g="start"===E?u:"end"===E?m.options.reverse?m.min:m.max:(0,c.i)(E)?E.value:m.getBaseValue(),g}(u,m,D),j=[];if(g.grid.circular){const q=m.getPointPositionForValue(0,D);return new pe({x:q.x,y:q.y,radius:m.getDistanceFromCenterForValue(R)})}for(let q=0;q<b;++q)j.push(m.getPointPositionForValue(q,R));return j}(E):function nn(E){const{scale:m={},fill:u}=E,g=function so(E,m){let u=null;return"start"===E?u=m.bottom:"end"===E?u=m.top:(0,c.i)(E)?u=m.getPixelForValue(E.value):m.getBasePixel&&(u=m.getBasePixel()),u}(u,m);if((0,c.g)(g)){const b=m.isHorizontal();return{x:b?g:null,y:b?null:g}}return null}(E)}(E);return b instanceof pe?b:Oa(b,g)}(m),{line:b,scale:D,axis:R}=m,j=b.options,q=j.fill,ue=j.backgroundColor,{above:ke=ue,below:rt=ue}=q||{};g&&b.points.length&&((0,c.Y)(E,u),function ui(E,m){const{line:u,target:g,above:b,below:D,area:R,scale:j}=m,q=u._loop?"angle":m.axis;E.save(),"x"===q&&D!==b&&(Fi(E,g,R.top),Lr(E,{line:u,target:g,color:b,scale:j,property:q}),E.restore(),E.save(),Fi(E,g,R.bottom)),Lr(E,{line:u,target:g,color:D,scale:j,property:q}),E.restore()}(E,{line:b,target:g,above:ke,below:rt,area:u,scale:D,axis:R}),(0,c.$)(E))}function Fi(E,m,u){const{segments:g,points:b}=m;let D=!0,R=!1;E.beginPath();for(const j of g){const{start:q,end:ue}=j,ke=b[q],rt=b[Go(q,ue,b)];D?(E.moveTo(ke.x,ke.y),D=!1):(E.lineTo(ke.x,u),E.lineTo(ke.x,ke.y)),R=!!m.pathSegment(E,j,{move:R}),R?E.closePath():E.lineTo(rt.x,u)}E.lineTo(m.first().x,u),E.closePath(),E.clip()}function Lr(E,m){const{line:u,target:g,property:b,color:D,scale:R}=m,j=function lo(E,m,u){const g=E.segments,b=E.points,D=m.points,R=[];for(const j of g){let{start:q,end:ue}=j;ue=Go(q,ue,b);const ke=Wo(u,b[q],b[ue],j.loop);if(!m.segments){R.push({source:j,target:ke,start:b[q],end:b[ue]});continue}const rt=(0,c.an)(m,ke);for(const kt of rt){const Bt=Wo(u,D[kt.start],D[kt.end],kt.loop),Sn=(0,c.ax)(j,b,Bt);for(const kn of Sn)R.push({source:kn,target:kt,start:{[u]:ja(ke,Bt,"start",Math.max)},end:{[u]:ja(ke,Bt,"end",Math.min)}})}}return R}(u,g,b);for(const{source:q,target:ue,start:ke,end:rt}of j){const{style:{backgroundColor:kt=D}={}}=q,Bt=!0!==g;E.save(),E.fillStyle=kt,Rr(E,R,Bt&&Wo(b,ke,rt)),E.beginPath();const Sn=!!u.pathSegment(E,q);let kn;if(Bt){Sn?E.closePath():Qs(E,g,rt,b);const jn=!!g.pathSegment(E,ue,{move:Sn,reverse:!0});kn=Sn&&jn,kn||Qs(E,g,ke,b)}E.closePath(),E.fill(kn?"evenodd":"nonzero"),E.restore()}}function Rr(E,m,u){const{top:g,bottom:b}=m.chart.chartArea,{property:D,start:R,end:j}=u||{};"x"===D&&(E.beginPath(),E.rect(R,g,j-R,b-g),E.clip())}function Qs(E,m,u,g){const b=m.interpolate(u,g);b&&E.lineTo(b.x,b.y)}var oo={id:"filler",afterDatasetsUpdate(E,m,u){const g=(E.data.datasets||[]).length,b=[];let D,R,j,q;for(R=0;R<g;++R)D=E.getDatasetMeta(R),j=D.dataset,q=null,j&&j.options&&j instanceof la&&(q={visible:E.isDatasetVisible(R),index:R,fill:Ea(j,R,g),chart:E,axis:D.controller.options.indexAxis,scale:D.vScale,line:j}),D.$filler=q,b.push(q);for(R=0;R<g;++R)q=b[R],q&&!1!==q.fill&&(q.fill=Za(b,R,u.propagate))},beforeDraw(E,m,u){const g="beforeDraw"===u.drawTime,b=E.getSortedVisibleDatasetMetas(),D=E.chartArea;for(let R=b.length-1;R>=0;--R){const j=b[R].$filler;j&&(j.line.updateControlPoints(D,j.axis),g&&j.fill&&Pn(E.ctx,j,D))}},beforeDatasetsDraw(E,m,u){if("beforeDatasetsDraw"!==u.drawTime)return;const g=E.getSortedVisibleDatasetMetas();for(let b=g.length-1;b>=0;--b){const D=g[b].$filler;cl(D)&&Pn(E.ctx,D,E.chartArea)}},beforeDatasetDraw(E,m,u){const g=m.meta.$filler;!cl(g)||"beforeDatasetDraw"!==u.drawTime||Pn(E.ctx,g,E.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const ee=(E,m)=>{let{boxHeight:u=m,boxWidth:g=m}=E;return E.usePointStyle&&(u=Math.min(u,m),g=E.pointStyleWidth||Math.min(g,m)),{boxWidth:g,boxHeight:u,itemHeight:Math.max(m,u)}};class ae extends yr{constructor(m){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=m.chart,this.options=m.options,this.ctx=m.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(m,u,g){this.maxWidth=m,this.maxHeight=u,this._margins=g,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const m=this.options.labels||{};let u=(0,c.Q)(m.generateLabels,[this.chart],this)||[];m.filter&&(u=u.filter(g=>m.filter(g,this.chart.data))),m.sort&&(u=u.sort((g,b)=>m.sort(g,b,this.chart.data))),this.options.reverse&&u.reverse(),this.legendItems=u}fit(){const{options:m,ctx:u}=this;if(!m.display)return void(this.width=this.height=0);const g=m.labels,b=(0,c.a0)(g.font),D=b.size,R=this._computeTitleHeight(),{boxWidth:j,itemHeight:q}=ee(g,D);let ue,ke;u.font=b.string,this.isHorizontal()?(ue=this.maxWidth,ke=this._fitRows(R,D,j,q)+10):(ke=this.maxHeight,ue=this._fitCols(R,b,j,q)+10),this.width=Math.min(ue,m.maxWidth||this.maxWidth),this.height=Math.min(ke,m.maxHeight||this.maxHeight)}_fitRows(m,u,g,b){const{ctx:D,maxWidth:R,options:{labels:{padding:j}}}=this,q=this.legendHitBoxes=[],ue=this.lineWidths=[0],ke=b+j;let rt=m;D.textAlign="left",D.textBaseline="middle";let kt=-1,Bt=-ke;return this.legendItems.forEach((Sn,kn)=>{const jn=g+u/2+D.measureText(Sn.text).width;(0===kn||ue[ue.length-1]+jn+2*j>R)&&(rt+=ke,ue[ue.length-(kn>0?0:1)]=0,Bt+=ke,kt++),q[kn]={left:0,top:Bt,row:kt,width:jn,height:b},ue[ue.length-1]+=jn+j}),rt}_fitCols(m,u,g,b){const{ctx:D,maxHeight:R,options:{labels:{padding:j}}}=this,q=this.legendHitBoxes=[],ue=this.columnSizes=[],ke=R-m;let rt=j,kt=0,Bt=0,Sn=0,kn=0;return this.legendItems.forEach((jn,Ei)=>{const{itemWidth:di,itemHeight:Gi}=function We(E,m,u,g,b){const D=function Ft(E,m,u,g){let b=E.text;return b&&"string"!=typeof b&&(b=b.reduce((D,R)=>D.length>R.length?D:R)),m+u.size/2+g.measureText(b).width}(g,E,m,u),R=function Fn(E,m,u){let g=E;return"string"!=typeof m.text&&(g=ai(m,u)),g}(b,g,m.lineHeight);return{itemWidth:D,itemHeight:R}}(g,u,D,jn,b);Ei>0&&Bt+Gi+2*j>ke&&(rt+=kt+j,ue.push({width:kt,height:Bt}),Sn+=kt+j,kn++,kt=Bt=0),q[Ei]={left:Sn,top:Bt,col:kn,width:di,height:Gi},kt=Math.max(kt,di),Bt+=Gi+j}),rt+=kt,ue.push({width:kt,height:Bt}),rt}adjustHitBoxes(){if(!this.options.display)return;const m=this._computeTitleHeight(),{legendHitBoxes:u,options:{align:g,labels:{padding:b},rtl:D}}=this,R=(0,c.az)(D,this.left,this.width);if(this.isHorizontal()){let j=0,q=(0,c.a2)(g,this.left+b,this.right-this.lineWidths[j]);for(const ue of u)j!==ue.row&&(j=ue.row,q=(0,c.a2)(g,this.left+b,this.right-this.lineWidths[j])),ue.top+=this.top+m+b,ue.left=R.leftForLtr(R.x(q),ue.width),q+=ue.width+b}else{let j=0,q=(0,c.a2)(g,this.top+m+b,this.bottom-this.columnSizes[j].height);for(const ue of u)ue.col!==j&&(j=ue.col,q=(0,c.a2)(g,this.top+m+b,this.bottom-this.columnSizes[j].height)),ue.top=q,ue.left+=this.left+b,ue.left=R.leftForLtr(R.x(ue.left),ue.width),q+=ue.height+b}}isHorizontal(){return"top"===this.options.position||"bottom"===this.options.position}draw(){if(this.options.display){const m=this.ctx;(0,c.Y)(m,this),this._draw(),(0,c.$)(m)}}_draw(){const{options:m,columnSizes:u,lineWidths:g,ctx:b}=this,{align:D,labels:R}=m,j=c.d.color,q=(0,c.az)(m.rtl,this.left,this.width),ue=(0,c.a0)(R.font),{padding:ke}=R,rt=ue.size,kt=rt/2;let Bt;this.drawTitle(),b.textAlign=q.textAlign("left"),b.textBaseline="middle",b.lineWidth=.5,b.font=ue.string;const{boxWidth:Sn,boxHeight:kn,itemHeight:jn}=ee(R,rt),Gi=this.isHorizontal(),qi=this._computeTitleHeight();Bt=Gi?{x:(0,c.a2)(D,this.left+ke,this.right-g[0]),y:this.top+ke+qi,line:0}:{x:this.left+ke,y:(0,c.a2)(D,this.top+qi+ke,this.bottom-u[0].height),line:0},(0,c.aA)(this.ctx,m.textDirection);const Oi=jn+ke;this.legendItems.forEach((zi,or)=>{b.strokeStyle=zi.fontColor,b.fillStyle=zi.fontColor;const Er=b.measureText(zi.text).width,ls=q.textAlign(zi.textAlign||(zi.textAlign=R.textAlign)),Ns=Sn+kt+Er;let Br=Bt.x,co=Bt.y;q.setWidth(this.width),Gi?or>0&&Br+Ns+ke>this.right&&(co=Bt.y+=Oi,Bt.line++,Br=Bt.x=(0,c.a2)(D,this.left+ke,this.right-g[Bt.line])):or>0&&co+Oi>this.bottom&&(Br=Bt.x=Br+u[Bt.line].width+ke,Bt.line++,co=Bt.y=(0,c.a2)(D,this.top+qi+ke,this.bottom-u[Bt.line].height)),function(zi,or,Er){if(isNaN(Sn)||Sn<=0||isNaN(kn)||kn<0)return;b.save();const ls=(0,c.v)(Er.lineWidth,1);if(b.fillStyle=(0,c.v)(Er.fillStyle,j),b.lineCap=(0,c.v)(Er.lineCap,"butt"),b.lineDashOffset=(0,c.v)(Er.lineDashOffset,0),b.lineJoin=(0,c.v)(Er.lineJoin,"miter"),b.lineWidth=ls,b.strokeStyle=(0,c.v)(Er.strokeStyle,j),b.setLineDash((0,c.v)(Er.lineDash,[])),R.usePointStyle){const Ns={radius:kn*Math.SQRT2/2,pointStyle:Er.pointStyle,rotation:Er.rotation,borderWidth:ls},Br=q.xPlus(zi,Sn/2);(0,c.aD)(b,Ns,Br,or+kt,R.pointStyleWidth&&Sn)}else{const Ns=or+Math.max((rt-kn)/2,0),Br=q.leftForLtr(zi,Sn),co=(0,c.aw)(Er.borderRadius);b.beginPath(),Object.values(co).some(Oo=>0!==Oo)?(0,c.au)(b,{x:Br,y:Ns,w:Sn,h:kn,radius:co}):b.rect(Br,Ns,Sn,kn),b.fill(),0!==ls&&b.stroke()}b.restore()}(q.x(Br),co,zi),Br=(0,c.aB)(ls,Br+Sn+kt,Gi?Br+Ns:this.right,m.rtl),function(zi,or,Er){(0,c.Z)(b,Er.text,zi,or+jn/2,ue,{strikethrough:Er.hidden,textAlign:q.textAlign(Er.textAlign)})}(q.x(Br),co,zi),Gi?Bt.x+=Ns+ke:Bt.y+="string"!=typeof zi.text?ai(zi,ue.lineHeight)+ke:Oi}),(0,c.aC)(this.ctx,m.textDirection)}drawTitle(){const m=this.options,u=m.title,g=(0,c.a0)(u.font),b=(0,c.E)(u.padding);if(!u.display)return;const D=(0,c.az)(m.rtl,this.left,this.width),R=this.ctx,j=u.position,ue=b.top+g.size/2;let ke,rt=this.left,kt=this.width;if(this.isHorizontal())kt=Math.max(...this.lineWidths),ke=this.top+ue,rt=(0,c.a2)(m.align,rt,this.right-kt);else{const Sn=this.columnSizes.reduce((kn,jn)=>Math.max(kn,jn.height),0);ke=ue+(0,c.a2)(m.align,this.top,this.bottom-Sn-m.labels.padding-this._computeTitleHeight())}const Bt=(0,c.a2)(j,rt,rt+kt);R.textAlign=D.textAlign((0,c.a1)(j)),R.textBaseline="middle",R.strokeStyle=u.color,R.fillStyle=u.color,R.font=g.string,(0,c.Z)(R,u.text,Bt,ke,g)}_computeTitleHeight(){const m=this.options.title,u=(0,c.a0)(m.font),g=(0,c.E)(m.padding);return m.display?u.lineHeight+g.height:0}_getLegendItemAt(m,u){let g,b,D;if((0,c.aj)(m,this.left,this.right)&&(0,c.aj)(u,this.top,this.bottom))for(D=this.legendHitBoxes,g=0;g<D.length;++g)if(b=D[g],(0,c.aj)(m,b.left,b.left+b.width)&&(0,c.aj)(u,b.top,b.top+b.height))return this.legendItems[g];return null}handleEvent(m){const u=this.options;if(!function Gr(E,m){return!(("mousemove"!==E&&"mouseout"!==E||!m.onHover&&!m.onLeave)&&(!m.onClick||"click"!==E&&"mouseup"!==E))}(m.type,u))return;const g=this._getLegendItemAt(m.x,m.y);if("mousemove"===m.type||"mouseout"===m.type){const b=this._hoveredItem,D=((E,m)=>null!==E&&null!==m&&E.datasetIndex===m.datasetIndex&&E.index===m.index)(b,g);b&&!D&&(0,c.Q)(u.onLeave,[m,b,this],this),this._hoveredItem=g,g&&!D&&(0,c.Q)(u.onHover,[m,g,this],this)}else g&&(0,c.Q)(u.onClick,[m,g,this],this)}}function ai(E,m){return m*(E.text?E.text.length:0)}var Xi={id:"legend",_element:ae,start(E,m,u){const g=E.legend=new ae({ctx:E.ctx,options:u,chart:E});Pt.configure(E,g,u),Pt.addBox(E,g)},stop(E){Pt.removeBox(E,E.legend),delete E.legend},beforeUpdate(E,m,u){const g=E.legend;Pt.configure(E,g,u),g.options=u},afterUpdate(E){const m=E.legend;m.buildLabels(),m.adjustHitBoxes()},afterEvent(E,m){m.replay||E.legend.handleEvent(m.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(E,m,u){const g=m.datasetIndex,b=u.chart;b.isDatasetVisible(g)?(b.hide(g),m.hidden=!0):(b.show(g),m.hidden=!1)},onHover:null,onLeave:null,labels:{color:E=>E.chart.options.color,boxWidth:40,padding:10,generateLabels(E){const m=E.data.datasets,{labels:{usePointStyle:u,pointStyle:g,textAlign:b,color:D,useBorderRadius:R,borderRadius:j}}=E.legend.options;return E._getSortedDatasetMetas().map(q=>{const ue=q.controller.getStyle(u?0:void 0),ke=(0,c.E)(ue.borderWidth);return{text:m[q.index].label,fillStyle:ue.backgroundColor,fontColor:D,hidden:!q.visible,lineCap:ue.borderCapStyle,lineDash:ue.borderDash,lineDashOffset:ue.borderDashOffset,lineJoin:ue.borderJoinStyle,lineWidth:(ke.width+ke.height)/4,strokeStyle:ue.borderColor,pointStyle:g||ue.pointStyle,rotation:ue.rotation,textAlign:b||ue.textAlign,borderRadius:R&&(j||ue.borderRadius),datasetIndex:q.index}},this)}},title:{color:E=>E.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:E=>!E.startsWith("on"),labels:{_scriptable:E=>!["generateLabels","filter","sort"].includes(E)}}};class Os extends yr{constructor(m){super(),this.chart=m.chart,this.options=m.options,this.ctx=m.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(m,u){const g=this.options;if(this.left=0,this.top=0,!g.display)return void(this.width=this.height=this.right=this.bottom=0);this.width=this.right=m,this.height=this.bottom=u;const b=(0,c.b)(g.text)?g.text.length:1;this._padding=(0,c.E)(g.padding);const D=b*(0,c.a0)(g.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=D:this.width=D}isHorizontal(){const m=this.options.position;return"top"===m||"bottom"===m}_drawArgs(m){const{top:u,left:g,bottom:b,right:D,options:R}=this,j=R.align;let ue,ke,rt,q=0;return this.isHorizontal()?(ke=(0,c.a2)(j,g,D),rt=u+m,ue=D-g):("left"===R.position?(ke=g+m,rt=(0,c.a2)(j,b,u),q=-.5*c.P):(ke=D-m,rt=(0,c.a2)(j,u,b),q=.5*c.P),ue=b-u),{titleX:ke,titleY:rt,maxWidth:ue,rotation:q}}draw(){const m=this.ctx,u=this.options;if(!u.display)return;const g=(0,c.a0)(u.font),D=g.lineHeight/2+this._padding.top,{titleX:R,titleY:j,maxWidth:q,rotation:ue}=this._drawArgs(D);(0,c.Z)(m,u.text,0,0,g,{color:u.color,maxWidth:q,rotation:ue,textAlign:(0,c.a1)(u.align),textBaseline:"middle",translation:[R,j]})}}var Is={id:"title",_element:Os,start(E,m,u){!function Yr(E,m){const u=new Os({ctx:E.ctx,options:m,chart:E});Pt.configure(E,u,m),Pt.addBox(E,u),E.titleBlock=u}(E,u)},stop(E){Pt.removeBox(E,E.titleBlock),delete E.titleBlock},beforeUpdate(E,m,u){const g=E.titleBlock;Pt.configure(E,g,u),g.options=u},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Js=new WeakMap;var eo={id:"subtitle",start(E,m,u){const g=new Os({ctx:E.ctx,options:u,chart:E});Pt.configure(E,g,u),Pt.addBox(E,g),Js.set(E,g)},stop(E){Pt.removeBox(E,Js.get(E)),Js.delete(E)},beforeUpdate(E,m,u){const g=Js.get(E);Pt.configure(E,g,u),g.options=u},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Yo={average(E){if(!E.length)return!1;let m,u,g=0,b=0,D=0;for(m=0,u=E.length;m<u;++m){const R=E[m].element;if(R&&R.hasValue()){const j=R.tooltipPosition();g+=j.x,b+=j.y,++D}}return{x:g/D,y:b/D}},nearest(E,m){if(!E.length)return!1;let D,R,j,u=m.x,g=m.y,b=Number.POSITIVE_INFINITY;for(D=0,R=E.length;D<R;++D){const q=E[D].element;if(q&&q.hasValue()){const ue=q.getCenterPoint(),ke=(0,c.aE)(m,ue);ke<b&&(b=ke,j=q)}}if(j){const q=j.tooltipPosition();u=q.x,g=q.y}return{x:u,y:g}}};function wi(E,m){return m&&((0,c.b)(m)?Array.prototype.push.apply(E,m):E.push(m)),E}function Ts(E){return("string"==typeof E||E instanceof String)&&E.indexOf("\n")>-1?E.split("\n"):E}function fa(E,m){const{element:u,datasetIndex:g,index:b}=m,D=E.getDatasetMeta(g).controller,{label:R,value:j}=D.getLabelAndValue(b);return{chart:E,label:R,parsed:D.getParsed(b),raw:E.data.datasets[g].data[b],formattedValue:j,dataset:D.getDataset(),dataIndex:b,datasetIndex:g,element:u}}function _a(E,m){const u=E.chart.ctx,{body:g,footer:b,title:D}=E,{boxWidth:R,boxHeight:j}=m,q=(0,c.a0)(m.bodyFont),ue=(0,c.a0)(m.titleFont),ke=(0,c.a0)(m.footerFont),rt=D.length,kt=b.length,Bt=g.length,Sn=(0,c.E)(m.padding);let kn=Sn.height,jn=0,Ei=g.reduce((qi,Oi)=>qi+Oi.before.length+Oi.lines.length+Oi.after.length,0);Ei+=E.beforeBody.length+E.afterBody.length,rt&&(kn+=rt*ue.lineHeight+(rt-1)*m.titleSpacing+m.titleMarginBottom),Ei&&(kn+=Bt*(m.displayColors?Math.max(j,q.lineHeight):q.lineHeight)+(Ei-Bt)*q.lineHeight+(Ei-1)*m.bodySpacing),kt&&(kn+=m.footerMarginTop+kt*ke.lineHeight+(kt-1)*m.footerSpacing);let di=0;const Gi=function(qi){jn=Math.max(jn,u.measureText(qi).width+di)};return u.save(),u.font=ue.string,(0,c.F)(E.title,Gi),u.font=q.string,(0,c.F)(E.beforeBody.concat(E.afterBody),Gi),di=m.displayColors?R+2+m.boxPadding:0,(0,c.F)(g,qi=>{(0,c.F)(qi.before,Gi),(0,c.F)(qi.lines,Gi),(0,c.F)(qi.after,Gi)}),di=0,u.font=ke.string,(0,c.F)(E.footer,Gi),u.restore(),jn+=Sn.width,{width:jn,height:kn}}function Ci(E,m,u,g){const{x:b,width:D}=u,{width:R,chartArea:{left:j,right:q}}=E;let ue="center";return"center"===g?ue=b<=(j+q)/2?"left":"right":b<=D/2?ue="left":b>=R-D/2&&(ue="right"),function zr(E,m,u,g){const{x:b,width:D}=g,R=u.caretSize+u.caretPadding;if("left"===E&&b+D+R>m.width||"right"===E&&b-D-R<0)return!0}(ue,E,m,u)&&(ue="center"),ue}function fi(E,m,u){const g=u.yAlign||m.yAlign||function gr(E,m){const{y:u,height:g}=m;return u<g/2?"top":u>E.height-g/2?"bottom":"center"}(E,u);return{xAlign:u.xAlign||m.xAlign||Ci(E,m,u,g),yAlign:g}}function ao(E,m,u,g){const{caretSize:b,caretPadding:D,cornerRadius:R}=E,{xAlign:j,yAlign:q}=u,ue=b+D,{topLeft:ke,topRight:rt,bottomLeft:kt,bottomRight:Bt}=(0,c.aw)(R);let Sn=function Zn(E,m){let{x:u,width:g}=E;return"right"===m?u-=g:"center"===m&&(u-=g/2),u}(m,j);const kn=function Ri(E,m,u){let{y:g,height:b}=E;return"top"===m?g+=u:g-="bottom"===m?b+u:b/2,g}(m,q,ue);return"center"===q?"left"===j?Sn+=ue:"right"===j&&(Sn-=ue):"left"===j?Sn-=Math.max(ke,kt)+b:"right"===j&&(Sn+=Math.max(rt,Bt)+b),{x:(0,c.S)(Sn,0,g.width-m.width),y:(0,c.S)(kn,0,g.height-m.height)}}function Kl(E,m,u){const g=(0,c.E)(u.padding);return"center"===m?E.x+E.width/2:"right"===m?E.x+E.width-g.right:E.x+g.left}function Al(E){return wi([],Ts(E))}function ql(E,m){const u=m&&m.dataset&&m.dataset.tooltip&&m.dataset.tooltip.callbacks;return u?E.override(u):E}const il={beforeTitle:c.aF,title(E){if(E.length>0){const m=E[0],u=m.chart.data.labels,g=u?u.length:0;if(this&&this.options&&"dataset"===this.options.mode)return m.dataset.label||"";if(m.label)return m.label;if(g>0&&m.dataIndex<g)return u[m.dataIndex]}return""},afterTitle:c.aF,beforeBody:c.aF,beforeLabel:c.aF,label(E){if(this&&this.options&&"dataset"===this.options.mode)return E.label+": "+E.formattedValue||E.formattedValue;let m=E.dataset.label||"";m&&(m+=": ");const u=E.formattedValue;return(0,c.k)(u)||(m+=u),m},labelColor(E){const u=E.chart.getDatasetMeta(E.datasetIndex).controller.getStyle(E.dataIndex);return{borderColor:u.borderColor,backgroundColor:u.backgroundColor,borderWidth:u.borderWidth,borderDash:u.borderDash,borderDashOffset:u.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(E){const u=E.chart.getDatasetMeta(E.datasetIndex).controller.getStyle(E.dataIndex);return{pointStyle:u.pointStyle,rotation:u.rotation}},afterLabel:c.aF,afterBody:c.aF,beforeFooter:c.aF,footer:c.aF,afterFooter:c.aF};function Sa(E,m,u,g){const b=E[m].call(u,g);return typeof b>"u"?il[m].call(u,g):b}let ml=(()=>{class E extends yr{constructor(u){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=u.chart,this.options=u.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(u){this.options=u,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const u=this._cachedAnimations;if(u)return u;const g=this.chart,b=this.options.setContext(this.getContext()),D=b.enabled&&g.options.animation&&b.animations,R=new be(this.chart,D);return D._cacheable&&(this._cachedAnimations=Object.freeze(R)),R}getContext(){return this.$context||(this.$context=function Tl(E,m,u){return(0,c.j)(E,{tooltip:m,tooltipItems:u,type:"tooltip"})}(this.chart.getContext(),this,this._tooltipItems))}getTitle(u,g){const{callbacks:b}=g,D=Sa(b,"beforeTitle",this,u),R=Sa(b,"title",this,u),j=Sa(b,"afterTitle",this,u);let q=[];return q=wi(q,Ts(D)),q=wi(q,Ts(R)),q=wi(q,Ts(j)),q}getBeforeBody(u,g){return Al(Sa(g.callbacks,"beforeBody",this,u))}getBody(u,g){const{callbacks:b}=g,D=[];return(0,c.F)(u,R=>{const j={before:[],lines:[],after:[]},q=ql(b,R);wi(j.before,Ts(Sa(q,"beforeLabel",this,R))),wi(j.lines,Sa(q,"label",this,R)),wi(j.after,Ts(Sa(q,"afterLabel",this,R))),D.push(j)}),D}getAfterBody(u,g){return Al(Sa(g.callbacks,"afterBody",this,u))}getFooter(u,g){const{callbacks:b}=g,D=Sa(b,"beforeFooter",this,u),R=Sa(b,"footer",this,u),j=Sa(b,"afterFooter",this,u);let q=[];return q=wi(q,Ts(D)),q=wi(q,Ts(R)),q=wi(q,Ts(j)),q}_createItems(u){const g=this._active,b=this.chart.data,D=[],R=[],j=[];let ue,ke,q=[];for(ue=0,ke=g.length;ue<ke;++ue)q.push(fa(this.chart,g[ue]));return u.filter&&(q=q.filter((rt,kt,Bt)=>u.filter(rt,kt,Bt,b))),u.itemSort&&(q=q.sort((rt,kt)=>u.itemSort(rt,kt,b))),(0,c.F)(q,rt=>{const kt=ql(u.callbacks,rt);D.push(Sa(kt,"labelColor",this,rt)),R.push(Sa(kt,"labelPointStyle",this,rt)),j.push(Sa(kt,"labelTextColor",this,rt))}),this.labelColors=D,this.labelPointStyles=R,this.labelTextColors=j,this.dataPoints=q,q}update(u,g){const b=this.options.setContext(this.getContext()),D=this._active;let R,j=[];if(D.length){const q=Yo[b.position].call(this,D,this._eventPosition);j=this._createItems(b),this.title=this.getTitle(j,b),this.beforeBody=this.getBeforeBody(j,b),this.body=this.getBody(j,b),this.afterBody=this.getAfterBody(j,b),this.footer=this.getFooter(j,b);const ue=this._size=_a(this,b),ke=Object.assign({},q,ue),rt=fi(this.chart,b,ke),kt=ao(b,ke,rt,this.chart);this.xAlign=rt.xAlign,this.yAlign=rt.yAlign,R={opacity:1,x:kt.x,y:kt.y,width:ue.width,height:ue.height,caretX:q.x,caretY:q.y}}else 0!==this.opacity&&(R={opacity:0});this._tooltipItems=j,this.$context=void 0,R&&this._resolveAnimations().update(this,R),u&&b.external&&b.external.call(this,{chart:this.chart,tooltip:this,replay:g})}drawCaret(u,g,b,D){const R=this.getCaretPosition(u,b,D);g.lineTo(R.x1,R.y1),g.lineTo(R.x2,R.y2),g.lineTo(R.x3,R.y3)}getCaretPosition(u,g,b){const{xAlign:D,yAlign:R}=this,{caretSize:j,cornerRadius:q}=b,{topLeft:ue,topRight:ke,bottomLeft:rt,bottomRight:kt}=(0,c.aw)(q),{x:Bt,y:Sn}=u,{width:kn,height:jn}=g;let Ei,di,Gi,qi,Oi,zi;return"center"===R?(Oi=Sn+jn/2,"left"===D?(Ei=Bt,di=Ei-j,qi=Oi+j,zi=Oi-j):(Ei=Bt+kn,di=Ei+j,qi=Oi-j,zi=Oi+j),Gi=Ei):(di="left"===D?Bt+Math.max(ue,rt)+j:"right"===D?Bt+kn-Math.max(ke,kt)-j:this.caretX,"top"===R?(qi=Sn,Oi=qi-j,Ei=di-j,Gi=di+j):(qi=Sn+jn,Oi=qi+j,Ei=di+j,Gi=di-j),zi=qi),{x1:Ei,x2:di,x3:Gi,y1:qi,y2:Oi,y3:zi}}drawTitle(u,g,b){const D=this.title,R=D.length;let j,q,ue;if(R){const ke=(0,c.az)(b.rtl,this.x,this.width);for(u.x=Kl(this,b.titleAlign,b),g.textAlign=ke.textAlign(b.titleAlign),g.textBaseline="middle",j=(0,c.a0)(b.titleFont),q=b.titleSpacing,g.fillStyle=b.titleColor,g.font=j.string,ue=0;ue<R;++ue)g.fillText(D[ue],ke.x(u.x),u.y+j.lineHeight/2),u.y+=j.lineHeight+q,ue+1===R&&(u.y+=b.titleMarginBottom-q)}}_drawColorBox(u,g,b,D,R){const j=this.labelColors[b],q=this.labelPointStyles[b],{boxHeight:ue,boxWidth:ke}=R,rt=(0,c.a0)(R.bodyFont),kt=Kl(this,"left",R),Bt=D.x(kt),kn=g.y+(ue<rt.lineHeight?(rt.lineHeight-ue)/2:0);if(R.usePointStyle){const jn={radius:Math.min(ke,ue)/2,pointStyle:q.pointStyle,rotation:q.rotation,borderWidth:1},Ei=D.leftForLtr(Bt,ke)+ke/2,di=kn+ue/2;u.strokeStyle=R.multiKeyBackground,u.fillStyle=R.multiKeyBackground,(0,c.at)(u,jn,Ei,di),u.strokeStyle=j.borderColor,u.fillStyle=j.backgroundColor,(0,c.at)(u,jn,Ei,di)}else{u.lineWidth=(0,c.i)(j.borderWidth)?Math.max(...Object.values(j.borderWidth)):j.borderWidth||1,u.strokeStyle=j.borderColor,u.setLineDash(j.borderDash||[]),u.lineDashOffset=j.borderDashOffset||0;const jn=D.leftForLtr(Bt,ke),Ei=D.leftForLtr(D.xPlus(Bt,1),ke-2),di=(0,c.aw)(j.borderRadius);Object.values(di).some(Gi=>0!==Gi)?(u.beginPath(),u.fillStyle=R.multiKeyBackground,(0,c.au)(u,{x:jn,y:kn,w:ke,h:ue,radius:di}),u.fill(),u.stroke(),u.fillStyle=j.backgroundColor,u.beginPath(),(0,c.au)(u,{x:Ei,y:kn+1,w:ke-2,h:ue-2,radius:di}),u.fill()):(u.fillStyle=R.multiKeyBackground,u.fillRect(jn,kn,ke,ue),u.strokeRect(jn,kn,ke,ue),u.fillStyle=j.backgroundColor,u.fillRect(Ei,kn+1,ke-2,ue-2))}u.fillStyle=this.labelTextColors[b]}drawBody(u,g,b){const{body:D}=this,{bodySpacing:R,bodyAlign:j,displayColors:q,boxHeight:ue,boxWidth:ke,boxPadding:rt}=b,kt=(0,c.a0)(b.bodyFont);let Bt=kt.lineHeight,Sn=0;const kn=(0,c.az)(b.rtl,this.x,this.width),jn=function(ls){g.fillText(ls,kn.x(u.x+Sn),u.y+Bt/2),u.y+=Bt+R},Ei=kn.textAlign(j);let di,Gi,qi,Oi,zi,or,Er;for(g.textAlign=j,g.textBaseline="middle",g.font=kt.string,u.x=Kl(this,Ei,b),g.fillStyle=b.bodyColor,(0,c.F)(this.beforeBody,jn),Sn=q&&"right"!==Ei?"center"===j?ke/2+rt:ke+2+rt:0,Oi=0,or=D.length;Oi<or;++Oi){for(di=D[Oi],Gi=this.labelTextColors[Oi],g.fillStyle=Gi,(0,c.F)(di.before,jn),qi=di.lines,q&&qi.length&&(this._drawColorBox(g,u,Oi,kn,b),Bt=Math.max(kt.lineHeight,ue)),zi=0,Er=qi.length;zi<Er;++zi)jn(qi[zi]),Bt=kt.lineHeight;(0,c.F)(di.after,jn)}Sn=0,Bt=kt.lineHeight,(0,c.F)(this.afterBody,jn),u.y-=R}drawFooter(u,g,b){const D=this.footer,R=D.length;let j,q;if(R){const ue=(0,c.az)(b.rtl,this.x,this.width);for(u.x=Kl(this,b.footerAlign,b),u.y+=b.footerMarginTop,g.textAlign=ue.textAlign(b.footerAlign),g.textBaseline="middle",j=(0,c.a0)(b.footerFont),g.fillStyle=b.footerColor,g.font=j.string,q=0;q<R;++q)g.fillText(D[q],ue.x(u.x),u.y+j.lineHeight/2),u.y+=j.lineHeight+b.footerSpacing}}drawBackground(u,g,b,D){const{xAlign:R,yAlign:j}=this,{x:q,y:ue}=u,{width:ke,height:rt}=b,{topLeft:kt,topRight:Bt,bottomLeft:Sn,bottomRight:kn}=(0,c.aw)(D.cornerRadius);g.fillStyle=D.backgroundColor,g.strokeStyle=D.borderColor,g.lineWidth=D.borderWidth,g.beginPath(),g.moveTo(q+kt,ue),"top"===j&&this.drawCaret(u,g,b,D),g.lineTo(q+ke-Bt,ue),g.quadraticCurveTo(q+ke,ue,q+ke,ue+Bt),"center"===j&&"right"===R&&this.drawCaret(u,g,b,D),g.lineTo(q+ke,ue+rt-kn),g.quadraticCurveTo(q+ke,ue+rt,q+ke-kn,ue+rt),"bottom"===j&&this.drawCaret(u,g,b,D),g.lineTo(q+Sn,ue+rt),g.quadraticCurveTo(q,ue+rt,q,ue+rt-Sn),"center"===j&&"left"===R&&this.drawCaret(u,g,b,D),g.lineTo(q,ue+kt),g.quadraticCurveTo(q,ue,q+kt,ue),g.closePath(),g.fill(),D.borderWidth>0&&g.stroke()}_updateAnimationTarget(u){const g=this.chart,b=this.$animations,D=b&&b.x,R=b&&b.y;if(D||R){const j=Yo[u.position].call(this,this._active,this._eventPosition);if(!j)return;const q=this._size=_a(this,u),ue=Object.assign({},j,this._size),ke=fi(g,u,ue),rt=ao(u,ue,ke,g);(D._to!==rt.x||R._to!==rt.y)&&(this.xAlign=ke.xAlign,this.yAlign=ke.yAlign,this.width=q.width,this.height=q.height,this.caretX=j.x,this.caretY=j.y,this._resolveAnimations().update(this,rt))}}_willRender(){return!!this.opacity}draw(u){const g=this.options.setContext(this.getContext());let b=this.opacity;if(!b)return;this._updateAnimationTarget(g);const D={width:this.width,height:this.height},R={x:this.x,y:this.y};b=Math.abs(b)<.001?0:b;const j=(0,c.E)(g.padding);g.enabled&&(this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length)&&(u.save(),u.globalAlpha=b,this.drawBackground(R,u,D,g),(0,c.aA)(u,g.textDirection),R.y+=j.top,this.drawTitle(R,u,g),this.drawBody(R,u,g),this.drawFooter(R,u,g),(0,c.aC)(u,g.textDirection),u.restore())}getActiveElements(){return this._active||[]}setActiveElements(u,g){const b=this._active,D=u.map(({datasetIndex:q,index:ue})=>{const ke=this.chart.getDatasetMeta(q);if(!ke)throw new Error("Cannot find a dataset at index "+q);return{datasetIndex:q,element:ke.data[ue],index:ue}}),R=!(0,c.ah)(b,D),j=this._positionChanged(D,g);(R||j)&&(this._active=D,this._eventPosition=g,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(u,g,b=!0){if(g&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const D=this.options,R=this._active||[],j=this._getActiveElements(u,R,g,b),q=this._positionChanged(j,u),ue=g||!(0,c.ah)(j,R)||q;return ue&&(this._active=j,(D.enabled||D.external)&&(this._eventPosition={x:u.x,y:u.y},this.update(!0,g))),ue}_getActiveElements(u,g,b,D){const R=this.options;if("mouseout"===u.type)return[];if(!D)return g;const j=this.chart.getElementsAtEventForMode(u,R.mode,R,b);return R.reverse&&j.reverse(),j}_positionChanged(u,g){const{caretX:b,caretY:D,options:R}=this,j=Yo[R.position].call(this,u,g);return!1!==j&&(b!==j.x||D!==j.y)}}return E.positioners=Yo,E})();var go=Object.freeze({__proto__:null,Colors:ss,Decimation:hs,Filler:oo,Legend:Xi,SubTitle:eo,Title:Is,Tooltip:{id:"tooltip",_element:ml,positioners:Yo,afterInit(E,m,u){u&&(E.tooltip=new ml({chart:E,options:u}))},beforeUpdate(E,m,u){E.tooltip&&E.tooltip.initialize(u)},reset(E,m,u){E.tooltip&&E.tooltip.initialize(u)},afterDraw(E){const m=E.tooltip;if(m&&m._willRender()){const u={tooltip:m};if(!1===E.notifyPlugins("beforeTooltipDraw",{...u,cancelable:!0}))return;m.draw(E.ctx),E.notifyPlugins("afterTooltipDraw",u)}},afterEvent(E,m){E.tooltip&&E.tooltip.handleEvent(m.event,m.replay,m.inChartArea)&&(m.changed=!0)},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(E,m)=>m.bodyFont.size,boxWidth:(E,m)=>m.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:il},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:E=>"filter"!==E&&"itemSort"!==E&&"external"!==E,_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]}});function Ba(E){const m=this.getLabels();return E>=0&&E<m.length?m[E]:E}let oc=(()=>{class E extends Ae{constructor(u){super(u),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(u){const g=this._addedLabels;if(g.length){const b=this.getLabels();for(const{index:D,label:R}of g)b[D]===R&&b.splice(D,1);this._addedLabels=[]}super.init(u)}parse(u,g){if((0,c.k)(u))return null;const b=this.getLabels();return((E,m)=>null===E?null:(0,c.S)(Math.round(E),0,m))(g=isFinite(g)&&b[g]===u?g:function jl(E,m,u,g){const b=E.indexOf(m);return-1===b?((E,m,u,g)=>("string"==typeof m?(u=E.push(m)-1,g.unshift({index:u,label:m})):isNaN(m)&&(u=null),u))(E,m,u,g):b!==E.lastIndexOf(m)?u:b}(b,u,(0,c.v)(g,u),this._addedLabels),b.length-1)}determineDataLimits(){const{minDefined:u,maxDefined:g}=this.getUserBounds();let{min:b,max:D}=this.getMinMax(!0);"ticks"===this.options.bounds&&(u||(b=0),g||(D=this.getLabels().length-1)),this.min=b,this.max=D}buildTicks(){const u=this.min,g=this.max,b=this.options.offset,D=[];let R=this.getLabels();R=0===u&&g===R.length-1?R:R.slice(u,g+1),this._valueRange=Math.max(R.length-(b?0:1),1),this._startValue=this.min-(b?.5:0);for(let j=u;j<=g;j++)D.push({value:j});return D}getLabelForValue(u){return Ba.call(this,u)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(u){return"number"!=typeof u&&(u=this.parse(u)),null===u?NaN:this.getPixelForDecimal((u-this._startValue)/this._valueRange)}getPixelForTick(u){const g=this.ticks;return u<0||u>g.length-1?null:this.getPixelForValue(g[u].value)}getValueForPixel(u){return Math.round(this._startValue+this.getDecimalForPixel(u)*this._valueRange)}getBasePixel(){return this.bottom}}return E.id="category",E.defaults={ticks:{callback:Ba}},E})();function Zr(E,m,{horizontal:u,minRotation:g}){const b=(0,c.t)(g),D=(u?Math.sin(b):Math.cos(b))||.001;return Math.min(m/D,.75*m*(""+E).length)}class rl extends Ae{constructor(m){super(m),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(m,u){return(0,c.k)(m)||("number"==typeof m||m instanceof Number)&&!isFinite(+m)?null:+m}handleTickRangeOptions(){const{beginAtZero:m}=this.options,{minDefined:u,maxDefined:g}=this.getUserBounds();let{min:b,max:D}=this;const R=q=>b=u?b:q,j=q=>D=g?D:q;if(m){const q=(0,c.s)(b),ue=(0,c.s)(D);q<0&&ue<0?j(0):q>0&&ue>0&&R(0)}if(b===D){let q=0===D?1:Math.abs(.05*D);j(D+q),m||R(b-q)}this.min=b,this.max=D}getTickLimit(){const m=this.options.ticks;let b,{maxTicksLimit:u,stepSize:g}=m;return g?(b=Math.ceil(this.max/g)-Math.floor(this.min/g)+1,b>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${g} would result generating up to ${b} ticks. Limiting to 1000.`),b=1e3)):(b=this.computeTickLimit(),u=u||11),u&&(b=Math.min(u,b)),b}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const m=this.options,u=m.ticks;let g=this.getTickLimit();g=Math.max(2,g);const R=function Ko(E,m){const u=[],{bounds:b,step:D,min:R,max:j,precision:q,count:ue,maxTicks:ke,maxDigits:rt,includeBounds:kt}=E,Bt=D||1,Sn=ke-1,{min:kn,max:jn}=m,Ei=!(0,c.k)(R),di=!(0,c.k)(j),Gi=!(0,c.k)(ue),qi=(jn-kn)/(rt+1);let zi,or,Er,ls,Oi=(0,c.aH)((jn-kn)/Sn/Bt)*Bt;if(Oi<1e-14&&!Ei&&!di)return[{value:kn},{value:jn}];ls=Math.ceil(jn/Oi)-Math.floor(kn/Oi),ls>Sn&&(Oi=(0,c.aH)(ls*Oi/Sn/Bt)*Bt),(0,c.k)(q)||(zi=Math.pow(10,q),Oi=Math.ceil(Oi*zi)/zi),"ticks"===b?(or=Math.floor(kn/Oi)*Oi,Er=Math.ceil(jn/Oi)*Oi):(or=kn,Er=jn),Ei&&di&&D&&(0,c.aI)((j-R)/D,Oi/1e3)?(ls=Math.round(Math.min((j-R)/Oi,ke)),Oi=(j-R)/ls,or=R,Er=j):Gi?(or=Ei?R:or,Er=di?j:Er,ls=ue-1,Oi=(Er-or)/ls):(ls=(Er-or)/Oi,ls=(0,c.aJ)(ls,Math.round(ls),Oi/1e3)?Math.round(ls):Math.ceil(ls));const Ns=Math.max((0,c.aK)(Oi),(0,c.aK)(or));zi=Math.pow(10,(0,c.k)(q)?Ns:q),or=Math.round(or*zi)/zi,Er=Math.round(Er*zi)/zi;let Br=0;for(Ei&&(kt&&or!==R?(u.push({value:R}),or<R&&Br++,(0,c.aJ)(Math.round((or+Br*Oi)*zi)/zi,R,Zr(R,qi,E))&&Br++):or<R&&Br++);Br<ls;++Br){const co=Math.round((or+Br*Oi)*zi)/zi;if(di&&co>j)break;u.push({value:co})}return di&&kt&&Er!==j?u.length&&(0,c.aJ)(u[u.length-1].value,j,Zr(j,qi,E))?u[u.length-1].value=j:u.push({value:j}):(!di||Er===j)&&u.push({value:Er}),u}({maxTicks:g,bounds:m.bounds,min:m.min,max:m.max,precision:u.precision,step:u.stepSize,count:u.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:u.minRotation||0,includeBounds:!1!==u.includeBounds},this._range||this);return"ticks"===m.bounds&&(0,c.aG)(R,this,"value"),m.reverse?(R.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),R}configure(){const m=this.ticks;let u=this.min,g=this.max;if(super.configure(),this.options.offset&&m.length){const b=(g-u)/Math.max(m.length-1,1)/2;u-=b,g+=b}this._startValue=u,this._endValue=g,this._valueRange=g-u}getLabelForValue(m){return(0,c.o)(m,this.chart.options.locale,this.options.ticks.format)}}class zs extends rl{determineDataLimits(){const{min:m,max:u}=this.getMinMax(!0);this.min=(0,c.g)(m)?m:0,this.max=(0,c.g)(u)?u:1,this.handleTickRangeOptions()}computeTickLimit(){const m=this.isHorizontal(),u=m?this.width:this.height,g=(0,c.t)(this.options.ticks.minRotation),b=(m?Math.sin(g):Math.cos(g))||.001,D=this._resolveTickFontOptions(0);return Math.ceil(u/Math.min(40,D.lineHeight/b))}getPixelForValue(m){return null===m?NaN:this.getPixelForDecimal((m-this._startValue)/this._valueRange)}getValueForPixel(m){return this._startValue+this.getDecimalForPixel(m)*this._valueRange}}zs.id="linear",zs.defaults={ticks:{callback:c.aL.formatters.numeric}};const xl=E=>Math.floor((0,c.aM)(E)),qs=(E,m)=>Math.pow(10,xl(E)+m);function Ji(E){return E/Math.pow(10,xl(E))==1}function Ll(E,m,u){const g=Math.pow(10,u),b=Math.floor(E/g);return Math.ceil(m/g)-b}class Zl extends Ae{constructor(m){super(m),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(m,u){const g=rl.prototype.parse.apply(this,[m,u]);if(0!==g)return(0,c.g)(g)&&g>0?g:null;this._zero=!0}determineDataLimits(){const{min:m,max:u}=this.getMinMax(!0);this.min=(0,c.g)(m)?Math.max(0,m):null,this.max=(0,c.g)(u)?Math.max(0,u):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!(0,c.g)(this._userMin)&&(this.min=m===qs(this.min,0)?qs(this.min,-1):qs(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:m,maxDefined:u}=this.getUserBounds();let g=this.min,b=this.max;const D=j=>g=m?g:j,R=j=>b=u?b:j;g===b&&(g<=0?(D(1),R(10)):(D(qs(g,-1)),R(qs(b,1)))),g<=0&&D(qs(b,-1)),b<=0&&R(qs(g,1)),this.min=g,this.max=b}buildTicks(){const m=this.options,g=function yl(E,{min:m,max:u}){m=(0,c.O)(E.min,m);const g=[],b=xl(m);let D=function La(E,m){let g=xl(m-E);for(;Ll(E,m,g)>10;)g++;for(;Ll(E,m,g)<10;)g--;return Math.min(g,xl(E))}(m,u),R=D<0?Math.pow(10,Math.abs(D)):1;const j=Math.pow(10,D),q=b>D?Math.pow(10,b):0,ue=Math.round((m-q)*R)/R,ke=Math.floor((m-q)/j/10)*j*10;let rt=Math.floor((ue-ke)/Math.pow(10,D)),kt=(0,c.O)(E.min,Math.round((q+ke+rt*Math.pow(10,D))*R)/R);for(;kt<u;)g.push({value:kt,major:Ji(kt),significand:rt}),rt>=10?rt=rt<15?15:20:rt++,rt>=20&&(D++,rt=2,R=D>=0?1:R),kt=Math.round((q+ke+rt*Math.pow(10,D))*R)/R;const Bt=(0,c.O)(E.max,kt);return g.push({value:Bt,major:Ji(Bt),significand:rt}),g}({min:this._userMin,max:this._userMax},this);return"ticks"===m.bounds&&(0,c.aG)(g,this,"value"),m.reverse?(g.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),g}getLabelForValue(m){return void 0===m?"0":(0,c.o)(m,this.chart.options.locale,this.options.ticks.format)}configure(){const m=this.min;super.configure(),this._startValue=(0,c.aM)(m),this._valueRange=(0,c.aM)(this.max)-(0,c.aM)(m)}getPixelForValue(m){return(void 0===m||0===m)&&(m=this.min),null===m||isNaN(m)?NaN:this.getPixelForDecimal(m===this.min?0:((0,c.aM)(m)-this._startValue)/this._valueRange)}getValueForPixel(m){const u=this.getDecimalForPixel(m);return Math.pow(10,this._startValue+u*this._valueRange)}}function _t(E){const m=E.ticks;if(m.display&&E.display){const u=(0,c.E)(m.backdropPadding);return(0,c.v)(m.font&&m.font.size,c.d.font.size)+u.height}return 0}function Tn(E,m,u){return u=(0,c.b)(u)?u:[u],{w:(0,c.aN)(E,m.string,u),h:u.length*m.lineHeight}}function An(E,m,u,g,b){return E===g||E===b?{start:m-u/2,end:m+u/2}:E<g||E>b?{start:m-u,end:m}:{start:m,end:m+u}}function xs(E,m,u,g,b){const D=Math.abs(Math.sin(u)),R=Math.abs(Math.cos(u));let j=0,q=0;g.start<m.l?(j=(m.l-g.start)/D,E.l=Math.min(E.l,m.l-j)):g.end>m.r&&(j=(g.end-m.r)/D,E.r=Math.max(E.r,m.r+j)),b.start<m.t?(q=(m.t-b.start)/R,E.t=Math.min(E.t,m.t-q)):b.end>m.b&&(q=(b.end-m.b)/R,E.b=Math.max(E.b,m.b+q))}function Rs(E,m,u){const g=E.drawingArea,{extra:b,additionalAngle:D,padding:R,size:j}=u,q=E.getPointPosition(m,g+b+R,D),ue=Math.round((0,c.U)((0,c.ay)(q.angle+c.H))),ke=function $a(E,m,u){return 90===u||270===u?E-=m/2:(u>270||u<90)&&(E-=m),E}(q.y,j.h,ue),rt=function ks(E){return 0===E||180===E?"center":E<180?"left":"right"}(ue),kt=function Ca(E,m,u){return"right"===u?E-=m:"center"===u&&(E-=m/2),E}(q.x,j.w,rt);return{visible:!0,x:q.x,y:ke,textAlign:rt,left:kt,top:ke,right:kt+j.w,bottom:ke+j.h}}function Ys(E,m){if(!m)return!0;const{left:u,top:g,right:b,bottom:D}=E;return!((0,c.C)({x:u,y:g},m)||(0,c.C)({x:u,y:D},m)||(0,c.C)({x:b,y:g},m)||(0,c.C)({x:b,y:D},m))}function Bn(E,m,u){const{left:g,top:b,right:D,bottom:R}=u,{backdropColor:j}=m;if(!(0,c.k)(j)){const q=(0,c.aw)(m.borderRadius),ue=(0,c.E)(m.backdropPadding);E.fillStyle=j;const ke=g-ue.left,rt=b-ue.top,kt=D-g+ue.width,Bt=R-b+ue.height;Object.values(q).some(Sn=>0!==Sn)?(E.beginPath(),(0,c.au)(E,{x:ke,y:rt,w:kt,h:Bt,radius:q}),E.fill()):E.fillRect(ke,rt,kt,Bt)}}function Ha(E,m,u,g){const{ctx:b}=E;if(u)b.arc(E.xCenter,E.yCenter,m,0,c.T);else{let D=E.getPointPosition(0,m);b.moveTo(D.x,D.y);for(let R=1;R<g;R++)D=E.getPointPosition(R,m),b.lineTo(D.x,D.y)}}Zl.id="logarithmic",Zl.defaults={ticks:{callback:c.aL.formatters.logarithmic,major:{enabled:!0}}};class ba extends rl{constructor(m){super(m),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const m=this._padding=(0,c.E)(_t(this.options)/2),u=this.width=this.maxWidth-m.width,g=this.height=this.maxHeight-m.height;this.xCenter=Math.floor(this.left+u/2+m.left),this.yCenter=Math.floor(this.top+g/2+m.top),this.drawingArea=Math.floor(Math.min(u,g)/2)}determineDataLimits(){const{min:m,max:u}=this.getMinMax(!1);this.min=(0,c.g)(m)&&!isNaN(m)?m:0,this.max=(0,c.g)(u)&&!isNaN(u)?u:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/_t(this.options))}generateTickLabels(m){rl.prototype.generateTickLabels.call(this,m),this._pointLabels=this.getLabels().map((u,g)=>{const b=(0,c.Q)(this.options.pointLabels.callback,[u,g],this);return b||0===b?b:""}).filter((u,g)=>this.chart.getDataVisibility(g))}fit(){const m=this.options;m.display&&m.pointLabels.display?function er(E){const m={l:E.left+E._padding.left,r:E.right-E._padding.right,t:E.top+E._padding.top,b:E.bottom-E._padding.bottom},u=Object.assign({},m),g=[],b=[],D=E._pointLabels.length,R=E.options.pointLabels,j=R.centerPointLabels?c.P/D:0;for(let q=0;q<D;q++){const ue=R.setContext(E.getPointLabelContext(q));b[q]=ue.padding;const ke=E.getPointPosition(q,E.drawingArea+b[q],j),rt=(0,c.a0)(ue.font),kt=Tn(E.ctx,rt,E._pointLabels[q]);g[q]=kt;const Bt=(0,c.ay)(E.getIndexAngle(q)+j),Sn=Math.round((0,c.U)(Bt));xs(u,m,Bt,An(Sn,ke.x,kt.w,0,180),An(Sn,ke.y,kt.h,90,270))}E.setCenterPoint(m.l-u.l,u.r-m.r,m.t-u.t,u.b-m.b),E._pointLabelItems=function Ws(E,m,u){const g=[],b=E._pointLabels.length,D=E.options,{centerPointLabels:R,display:j}=D.pointLabels,q={extra:_t(D)/2,additionalAngle:R?c.P/b:0};let ue;for(let ke=0;ke<b;ke++){q.padding=u[ke],q.size=m[ke];const rt=Rs(E,ke,q);g.push(rt),"auto"===j&&(rt.visible=Ys(rt,ue),rt.visible&&(ue=rt))}return g}(E,g,b)}(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(m,u,g,b){this.xCenter+=Math.floor((m-u)/2),this.yCenter+=Math.floor((g-b)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(m,u,g,b))}getIndexAngle(m){return(0,c.ay)(m*(c.T/(this._pointLabels.length||1))+(0,c.t)(this.options.startAngle||0))}getDistanceFromCenterForValue(m){if((0,c.k)(m))return NaN;const u=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-m)*u:(m-this.min)*u}getValueForDistanceFromCenter(m){if((0,c.k)(m))return NaN;const u=m/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-u:this.min+u}getPointLabelContext(m){const u=this._pointLabels||[];if(m>=0&&m<u.length){const g=u[m];return function Ml(E,m,u){return(0,c.j)(E,{label:u,index:m,type:"pointLabel"})}(this.getContext(),m,g)}}getPointPosition(m,u,g=0){const b=this.getIndexAngle(m)-c.H+g;return{x:Math.cos(b)*u+this.xCenter,y:Math.sin(b)*u+this.yCenter,angle:b}}getPointPositionForValue(m,u){return this.getPointPosition(m,this.getDistanceFromCenterForValue(u))}getBasePosition(m){return this.getPointPositionForValue(m||0,this.getBaseValue())}getPointLabelPosition(m){const{left:u,top:g,right:b,bottom:D}=this._pointLabelItems[m];return{left:u,top:g,right:b,bottom:D}}drawBackground(){const{backgroundColor:m,grid:{circular:u}}=this.options;if(m){const g=this.ctx;g.save(),g.beginPath(),Ha(this,this.getDistanceFromCenterForValue(this._endValue),u,this._pointLabels.length),g.closePath(),g.fillStyle=m,g.fill(),g.restore()}}drawGrid(){const m=this.ctx,u=this.options,{angleLines:g,grid:b,border:D}=u,R=this._pointLabels.length;let j,q,ue;if(u.pointLabels.display&&function vl(E,m){const{ctx:u,options:{pointLabels:g}}=E;for(let b=m-1;b>=0;b--){const D=E._pointLabelItems[b];if(!D.visible)continue;const R=g.setContext(E.getPointLabelContext(b));Bn(u,R,D);const j=(0,c.a0)(R.font),{x:q,y:ue,textAlign:ke}=D;(0,c.Z)(u,E._pointLabels[b],q,ue+j.lineHeight/2,j,{color:R.color,textAlign:ke,textBaseline:"middle"})}}(this,R),b.display&&this.ticks.forEach((ke,rt)=>{if(0!==rt){q=this.getDistanceFromCenterForValue(ke.value);const kt=this.getContext(rt),Bt=b.setContext(kt),Sn=D.setContext(kt);!function Jl(E,m,u,g,b){const D=E.ctx,R=m.circular,{color:j,lineWidth:q}=m;!R&&!g||!j||!q||u<0||(D.save(),D.strokeStyle=j,D.lineWidth=q,D.setLineDash(b.dash),D.lineDashOffset=b.dashOffset,D.beginPath(),Ha(E,u,R,g),D.closePath(),D.stroke(),D.restore())}(this,Bt,q,R,Sn)}}),g.display){for(m.save(),j=R-1;j>=0;j--){const ke=g.setContext(this.getPointLabelContext(j)),{color:rt,lineWidth:kt}=ke;!kt||!rt||(m.lineWidth=kt,m.strokeStyle=rt,m.setLineDash(ke.borderDash),m.lineDashOffset=ke.borderDashOffset,q=this.getDistanceFromCenterForValue(u.ticks.reverse?this.min:this.max),ue=this.getPointPosition(j,q),m.beginPath(),m.moveTo(this.xCenter,this.yCenter),m.lineTo(ue.x,ue.y),m.stroke())}m.restore()}}drawBorder(){}drawLabels(){const m=this.ctx,u=this.options,g=u.ticks;if(!g.display)return;const b=this.getIndexAngle(0);let D,R;m.save(),m.translate(this.xCenter,this.yCenter),m.rotate(b),m.textAlign="center",m.textBaseline="middle",this.ticks.forEach((j,q)=>{if(0===q&&!u.reverse)return;const ue=g.setContext(this.getContext(q)),ke=(0,c.a0)(ue.font);if(D=this.getDistanceFromCenterForValue(this.ticks[q].value),ue.showLabelBackdrop){m.font=ke.string,R=m.measureText(j.label).width,m.fillStyle=ue.backdropColor;const rt=(0,c.E)(ue.backdropPadding);m.fillRect(-R/2-rt.left,-D-ke.size/2-rt.top,R+rt.width,ke.size+rt.height)}(0,c.Z)(m,j.label,0,-D,ke,{color:ue.color,strokeColor:ue.textStrokeColor,strokeWidth:ue.textStrokeWidth})}),m.restore()}drawTitle(){}}ba.id="radialLinear",ba.defaults={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:c.aL.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback:E=>E,padding:5,centerPointLabels:!1}},ba.defaultRoutes={"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"},ba.descriptors={angleLines:{_fallback:"grid"}};const gc={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Ia=Object.keys(gc);function W(E,m){return E-m}function Z(E,m){if((0,c.k)(m))return null;const u=E._adapter,{parser:g,round:b,isoWeekday:D}=E._parseOpts;let R=m;return"function"==typeof g&&(R=g(R)),(0,c.g)(R)||(R="string"==typeof g?u.parse(R,g):u.parse(R)),null===R?null:(b&&(R="week"!==b||!(0,c.x)(D)&&!0!==D?u.startOf(R,b):u.startOf(R,"isoWeek",D)),+R)}function L(E,m,u,g){const b=Ia.length;for(let D=Ia.indexOf(E);D<b-1;++D){const R=gc[Ia[D]];if(R.common&&Math.ceil((u-m)/((R.steps?R.steps:Number.MAX_SAFE_INTEGER)*R.size))<=g)return Ia[D]}return Ia[b-1]}function mt(E,m,u){if(u){if(u.length){const{lo:g,hi:b}=(0,c.aP)(u,m);E[u[g]>=m?u[g]:u[b]]=!0}}else E[m]=!0}function En(E,m,u){const g=[],b={},D=m.length;let R,j;for(R=0;R<D;++R)j=m[R],b[j]=R,g.push({value:j,major:!1});return 0!==D&&u?function st(E,m,u,g){const b=E._adapter,D=+b.startOf(m[0].value,g),R=m[m.length-1].value;let j,q;for(j=D;j<=R;j=+b.add(j,1,g))q=u[j],q>=0&&(m[q].major=!0);return m}(E,g,b,u):g}let ni=(()=>{class E extends Ae{constructor(u){super(u),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(u,g={}){const b=u.time||(u.time={}),D=this._adapter=new kr__date(u.adapters.date);D.init(g),(0,c.ab)(b.displayFormats,D.formats()),this._parseOpts={parser:b.parser,round:b.round,isoWeekday:b.isoWeekday},super.init(u),this._normalized=g.normalized}parse(u,g){return void 0===u?null:Z(this,u)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const u=this.options,g=this._adapter,b=u.time.unit||"day";let{min:D,max:R,minDefined:j,maxDefined:q}=this.getUserBounds();function ue(ke){!j&&!isNaN(ke.min)&&(D=Math.min(D,ke.min)),!q&&!isNaN(ke.max)&&(R=Math.max(R,ke.max))}(!j||!q)&&(ue(this._getLabelBounds()),("ticks"!==u.bounds||"labels"!==u.ticks.source)&&ue(this.getMinMax(!1))),D=(0,c.g)(D)&&!isNaN(D)?D:+g.startOf(Date.now(),b),R=(0,c.g)(R)&&!isNaN(R)?R:+g.endOf(Date.now(),b)+1,this.min=Math.min(D,R-1),this.max=Math.max(D+1,R)}_getLabelBounds(){const u=this.getLabelTimestamps();let g=Number.POSITIVE_INFINITY,b=Number.NEGATIVE_INFINITY;return u.length&&(g=u[0],b=u[u.length-1]),{min:g,max:b}}buildTicks(){const u=this.options,g=u.time,b=u.ticks,D="labels"===b.source?this.getLabelTimestamps():this._generate();"ticks"===u.bounds&&D.length&&(this.min=this._userMin||D[0],this.max=this._userMax||D[D.length-1]);const R=this.min,q=(0,c.aO)(D,R,this.max);return this._unit=g.unit||(b.autoSkip?L(g.minUnit,this.min,this.max,this._getLabelCapacity(R)):function te(E,m,u,g,b){for(let D=Ia.length-1;D>=Ia.indexOf(u);D--){const R=Ia[D];if(gc[R].common&&E._adapter.diff(b,g,R)>=m-1)return R}return Ia[u?Ia.indexOf(u):0]}(this,q.length,g.minUnit,this.min,this.max)),this._majorUnit=b.major.enabled&&"year"!==this._unit?function Ee(E){for(let m=Ia.indexOf(E)+1,u=Ia.length;m<u;++m)if(gc[Ia[m]].common)return Ia[m]}(this._unit):void 0,this.initOffsets(D),u.reverse&&q.reverse(),En(this,q,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(u=>+u.value))}initOffsets(u=[]){let D,R,g=0,b=0;this.options.offset&&u.length&&(D=this.getDecimalForValue(u[0]),g=1===u.length?1-D:(this.getDecimalForValue(u[1])-D)/2,R=this.getDecimalForValue(u[u.length-1]),b=1===u.length?R:(R-this.getDecimalForValue(u[u.length-2]))/2);const j=u.length<3?.5:.25;g=(0,c.S)(g,0,j),b=(0,c.S)(b,0,j),this._offsets={start:g,end:b,factor:1/(g+1+b)}}_generate(){const u=this._adapter,g=this.min,b=this.max,D=this.options,R=D.time,j=R.unit||L(R.minUnit,g,b,this._getLabelCapacity(g)),q=(0,c.v)(D.ticks.stepSize,1),ue="week"===j&&R.isoWeekday,ke=(0,c.x)(ue)||!0===ue,rt={};let Bt,Sn,kt=g;if(ke&&(kt=+u.startOf(kt,"isoWeek",ue)),kt=+u.startOf(kt,ke?"day":j),u.diff(b,g,j)>1e5*q)throw new Error(g+" and "+b+" are too far apart with stepSize of "+q+" "+j);const kn="data"===D.ticks.source&&this.getDataTimestamps();for(Bt=kt,Sn=0;Bt<b;Bt=+u.add(Bt,q,j),Sn++)mt(rt,Bt,kn);return(Bt===b||"ticks"===D.bounds||1===Sn)&&mt(rt,Bt,kn),Object.keys(rt).sort(W).map(jn=>+jn)}getLabelForValue(u){const b=this.options.time;return this._adapter.format(u,b.tooltipFormat?b.tooltipFormat:b.displayFormats.datetime)}format(u,g){return this._adapter.format(u,g||this.options.time.displayFormats[this._unit])}_tickFormatFunction(u,g,b,D){const R=this.options,j=R.ticks.callback;if(j)return(0,c.Q)(j,[u,g,b],this);const q=R.time.displayFormats,ue=this._unit,ke=this._majorUnit,kt=ke&&q[ke],Bt=b[g];return this._adapter.format(u,D||(ke&&kt&&Bt&&Bt.major?kt:ue&&q[ue]))}generateTickLabels(u){let g,b,D;for(g=0,b=u.length;g<b;++g)D=u[g],D.label=this._tickFormatFunction(D.value,g,u)}getDecimalForValue(u){return null===u?NaN:(u-this.min)/(this.max-this.min)}getPixelForValue(u){const g=this._offsets,b=this.getDecimalForValue(u);return this.getPixelForDecimal((g.start+b)*g.factor)}getValueForPixel(u){const g=this._offsets,b=this.getDecimalForPixel(u)/g.factor-g.end;return this.min+b*(this.max-this.min)}_getLabelSize(u){const g=this.options.ticks,b=this.ctx.measureText(u).width,D=(0,c.t)(this.isHorizontal()?g.maxRotation:g.minRotation),R=Math.cos(D),j=Math.sin(D),q=this._resolveTickFontOptions(0).size;return{w:b*R+q*j,h:b*j+q*R}}_getLabelCapacity(u){const g=this.options.time,b=g.displayFormats,D=b[g.unit]||b.millisecond,R=this._tickFormatFunction(u,0,En(this,[u],this._majorUnit),D),j=this._getLabelSize(R),q=Math.floor(this.isHorizontal()?this.width/j.w:this.height/j.h)-1;return q>0?q:1}getDataTimestamps(){let g,b,u=this._cache.data||[];if(u.length)return u;const D=this.getMatchingVisibleMetas();if(this._normalized&&D.length)return this._cache.data=D[0].controller.getAllParsedValues(this);for(g=0,b=D.length;g<b;++g)u=u.concat(D[g].controller.getAllParsedValues(this));return this._cache.data=this.normalize(u)}getLabelTimestamps(){const u=this._cache.labels||[];let g,b;if(u.length)return u;const D=this.getLabels();for(g=0,b=D.length;g<b;++g)u.push(Z(this,D[g]));return this._cache.labels=this._normalized?u:this.normalize(u)}normalize(u){return(0,c._)(u.sort(W))}}return E.id="time",E.defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}},E})();function dr(E,m,u){let D,R,j,q,g=0,b=E.length-1;u?(m>=E[g].pos&&m<=E[b].pos&&({lo:g,hi:b}=(0,c.B)(E,"pos",m)),({pos:D,time:j}=E[g]),({pos:R,time:q}=E[b])):(m>=E[g].time&&m<=E[b].time&&({lo:g,hi:b}=(0,c.B)(E,"time",m)),({time:D,pos:j}=E[g]),({time:R,pos:q}=E[b]));const ue=R-D;return ue?j+(q-j)*(m-D)/ue:j}class fs extends ni{constructor(m){super(m),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const m=this._getTimestampsForTable(),u=this._table=this.buildLookupTable(m);this._minPos=dr(u,this.min),this._tableRange=dr(u,this.max)-this._minPos,super.initOffsets(m)}buildLookupTable(m){const{min:u,max:g}=this,b=[],D=[];let R,j,q,ue,ke;for(R=0,j=m.length;R<j;++R)ue=m[R],ue>=u&&ue<=g&&b.push(ue);if(b.length<2)return[{time:u,pos:0},{time:g,pos:1}];for(R=0,j=b.length;R<j;++R)ke=b[R+1],q=b[R-1],ue=b[R],Math.round((ke+q)/2)!==ue&&D.push({time:ue,pos:R/(j-1)});return D}_generate(){const m=this.min,u=this.max;let g=super.getDataTimestamps();return(!g.includes(m)||!g.length)&&g.splice(0,0,m),(!g.includes(u)||1===g.length)&&g.push(u),g.sort((b,D)=>b-D)}_getTimestampsForTable(){let m=this._cache.all||[];if(m.length)return m;const u=this.getDataTimestamps(),g=this.getLabelTimestamps();return m=u.length&&g.length?this.normalize(u.concat(g)):u.length?u:g,m=this._cache.all=m,m}getDecimalForValue(m){return(dr(this._table,m)-this._minPos)/this._tableRange}getValueForPixel(m){const u=this._offsets,g=this.getDecimalForPixel(m)/u.factor-u.end;return dr(this._table,g*this._tableRange+this._minPos,!0)}}fs.id="timeseries",fs.defaults=ni.defaults;const ca=[fr,U,go,Object.freeze({__proto__:null,CategoryScale:oc,LinearScale:zs,LogarithmicScale:Zl,RadialLinearScale:ba,TimeScale:ni,TimeSeriesScale:fs})]},1086:(Ii,ln,Y)=>{"use strict";function c(k){return k+.5|0}Y.d(ln,{$:()=>Vs,A:()=>Sr,B:()=>$i,C:()=>Gs,D:()=>Wt,E:()=>No,F:()=>Li,G:()=>Wr,H:()=>sr,I:()=>_e,J:()=>Pr,K:()=>ss,L:()=>rs,M:()=>Pe,N:()=>ce,O:()=>fr,P:()=>_n,Q:()=>Ar,R:()=>fo,S:()=>hn,T:()=>Gn,U:()=>Lt,V:()=>Qo,W:()=>Yn,X:()=>Mr,Y:()=>as,Z:()=>ra,_:()=>mr,a:()=>Po,a0:()=>ta,a1:()=>ws,a2:()=>Es,a3:()=>hr,a4:()=>Zi,a5:()=>is,a6:()=>ri,a7:()=>zn,a8:()=>bs,a9:()=>Lo,aA:()=>Wo,aB:()=>uo,aC:()=>va,aD:()=>Ao,aE:()=>en,aF:()=>Di,aG:()=>Be,aH:()=>ne,aI:()=>Ve,aJ:()=>O,aK:()=>fn,aL:()=>Ks,aM:()=>x,aN:()=>Vr,aO:()=>yr,aP:()=>ti,aa:()=>Aa,ab:()=>Qr,ac:()=>Vi,ad:()=>$s,ae:()=>qr,af:()=>Cs,ag:()=>Ge,ah:()=>ps,ai:()=>Mt,aj:()=>Kn,ak:()=>Co,al:()=>tl,am:()=>so,an:()=>Za,ao:()=>Ro,ap:()=>po,aq:()=>Us,ar:()=>zo,as:()=>Jo,at:()=>Nr,au:()=>xo,av:()=>ms,aw:()=>no,ax:()=>cl,ay:()=>Ut,az:()=>lo,b:()=>Ai,c:()=>he,d:()=>Do,e:()=>He,f:()=>Hi,g:()=>rr,h:()=>nr,i:()=>Ni,j:()=>jo,k:()=>Xn,l:()=>wr,m:()=>ii,n:()=>kr,o:()=>Cr,p:()=>rn,q:()=>Eo,r:()=>ur,s:()=>A,t:()=>jt,u:()=>Wi,v:()=>Ui,w:()=>Zs,x:()=>me,y:()=>Ra,z:()=>Nn});const y=(k,ie,pe)=>Math.max(Math.min(k,pe),ie);function De(k){return y(c(2.55*k),0,255)}function dt(k){return y(c(255*k),0,255)}function Ye(k){return y(c(k/2.55)/100,0,1)}function be(k){return y(c(100*k),0,100)}const $e={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},Ke=[..."0123456789ABCDEF"],Ue=k=>Ke[15&k],Re=k=>Ke[(240&k)>>4]+Ke[15&k],Xe=k=>(240&k)>>4==(15&k);const nt=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function Ze(k,ie,pe){const Fe=ie*Math.min(pe,1-pe),it=(xt,nn=(xt+k/30)%12)=>pe-Fe*Math.max(Math.min(nn-3,9-nn,1),-1);return[it(0),it(8),it(4)]}function on(k,ie,pe){const Fe=(it,xt=(it+k/60)%6)=>pe-pe*ie*Math.max(Math.min(xt,4-xt,1),0);return[Fe(5),Fe(3),Fe(1)]}function It(k,ie,pe){const Fe=Ze(k,1,.5);let it;for(ie+pe>1&&(it=1/(ie+pe),ie*=it,pe*=it),it=0;it<3;it++)Fe[it]*=1-ie-pe,Fe[it]+=ie;return Fe}function zt(k){const pe=k.r/255,Fe=k.g/255,it=k.b/255,xt=Math.max(pe,Fe,it),nn=Math.min(pe,Fe,it),yn=(xt+nn)/2;let Pn,ui,Fi;return xt!==nn&&(Fi=xt-nn,ui=yn>.5?Fi/(2-xt-nn):Fi/(xt+nn),Pn=function bt(k,ie,pe,Fe,it){return k===it?(ie-pe)/Fe+(ie<pe?6:0):ie===it?(pe-k)/Fe+2:(k-ie)/Fe+4}(pe,Fe,it,Fi,xt),Pn=60*Pn+.5),[0|Pn,ui||0,yn]}function Jt(k,ie,pe,Fe){return(Array.isArray(ie)?k(ie[0],ie[1],ie[2]):k(ie,pe,Fe)).map(dt)}function Yt(k,ie,pe){return Jt(Ze,k,ie,pe)}function Vt(k){return(k%360+360)%360}const ct={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},et={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};let Ot;const Je=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/,qt=k=>k<=.0031308?12.92*k:1.055*Math.pow(k,1/2.4)-.055,xn=k=>k<=.04045?k/12.92:Math.pow((k+.055)/1.055,2.4);function li(k,ie,pe){if(k){let Fe=zt(k);Fe[ie]=Math.max(0,Math.min(Fe[ie]+Fe[ie]*pe,0===ie?360:1)),Fe=Yt(Fe),k.r=Fe[0],k.g=Fe[1],k.b=Fe[2]}}function Dn(k,ie){return k&&Object.assign(ie||{},k)}function Nt(k){var ie={r:0,g:0,b:0,a:255};return Array.isArray(k)?k.length>=3&&(ie={r:k[0],g:k[1],b:k[2],a:255},k.length>3&&(ie.a=dt(k[3]))):(ie=Dn(k,{r:0,g:0,b:0,a:1})).a=dt(ie.a),ie}function On(k){return"r"===k.charAt(0)?function Et(k){const ie=Je.exec(k);let Fe,it,xt,pe=255;if(ie){if(ie[7]!==Fe){const nn=+ie[7];pe=ie[8]?De(nn):y(255*nn,0,255)}return Fe=+ie[1],it=+ie[3],xt=+ie[5],Fe=255&(ie[2]?De(Fe):y(Fe,0,255)),it=255&(ie[4]?De(it):y(it,0,255)),xt=255&(ie[6]?De(xt):y(xt,0,255)),{r:Fe,g:it,b:xt,a:pe}}}(k):function Tt(k){const ie=nt.exec(k);let Fe,pe=255;if(!ie)return;ie[5]!==Fe&&(pe=ie[6]?De(+ie[5]):dt(+ie[5]));const it=Vt(+ie[2]),xt=+ie[3]/100,nn=+ie[4]/100;return Fe="hwb"===ie[1]?function tt(k,ie,pe){return Jt(It,k,ie,pe)}(it,xt,nn):"hsv"===ie[1]?function se(k,ie,pe){return Jt(on,k,ie,pe)}(it,xt,nn):Yt(it,xt,nn),{r:Fe[0],g:Fe[1],b:Fe[2],a:pe}}(k)}class Vn{constructor(ie){if(ie instanceof Vn)return ie;const pe=typeof ie;let Fe;"object"===pe?Fe=Nt(ie):"string"===pe&&(Fe=function Qe(k){var pe,ie=k.length;return"#"===k[0]&&(4===ie||5===ie?pe={r:255&17*$e[k[1]],g:255&17*$e[k[2]],b:255&17*$e[k[3]],a:5===ie?17*$e[k[4]]:255}:(7===ie||9===ie)&&(pe={r:$e[k[1]]<<4|$e[k[2]],g:$e[k[3]]<<4|$e[k[4]],b:$e[k[5]]<<4|$e[k[6]],a:9===ie?$e[k[7]]<<4|$e[k[8]]:255})),pe}(ie)||function ft(k){Ot||(Ot=function wt(){const k={},ie=Object.keys(et),pe=Object.keys(ct);let Fe,it,xt,nn,yn;for(Fe=0;Fe<ie.length;Fe++){for(nn=yn=ie[Fe],it=0;it<pe.length;it++)xt=pe[it],yn=yn.replace(xt,ct[xt]);xt=parseInt(et[nn],16),k[yn]=[xt>>16&255,xt>>8&255,255&xt]}return k}(),Ot.transparent=[0,0,0,0]);const ie=Ot[k.toLowerCase()];return ie&&{r:ie[0],g:ie[1],b:ie[2],a:4===ie.length?ie[3]:255}}(ie)||On(ie)),this._rgb=Fe,this._valid=!!Fe}get valid(){return this._valid}get rgb(){var ie=Dn(this._rgb);return ie&&(ie.a=Ye(ie.a)),ie}set rgb(ie){this._rgb=Nt(ie)}rgbString(){return this._valid?function vn(k){return k&&(k.a<255?`rgba(${k.r}, ${k.g}, ${k.b}, ${Ye(k.a)})`:`rgb(${k.r}, ${k.g}, ${k.b})`)}(this._rgb):void 0}hexString(){return this._valid?function an(k){var ie=(k=>Xe(k.r)&&Xe(k.g)&&Xe(k.b)&&Xe(k.a))(k)?Ue:Re;return k?"#"+ie(k.r)+ie(k.g)+ie(k.b)+((k,ie)=>k<255?ie(k):"")(k.a,ie):void 0}(this._rgb):void 0}hslString(){return this._valid?function dn(k){if(!k)return;const ie=zt(k),pe=ie[0],Fe=be(ie[1]),it=be(ie[2]);return k.a<255?`hsla(${pe}, ${Fe}%, ${it}%, ${Ye(k.a)})`:`hsl(${pe}, ${Fe}%, ${it}%)`}(this._rgb):void 0}mix(ie,pe){if(ie){const Fe=this.rgb,it=ie.rgb;let xt;const nn=pe===xt?.5:pe,yn=2*nn-1,Pn=Fe.a-it.a,ui=((yn*Pn==-1?yn:(yn+Pn)/(1+yn*Pn))+1)/2;xt=1-ui,Fe.r=255&ui*Fe.r+xt*it.r+.5,Fe.g=255&ui*Fe.g+xt*it.g+.5,Fe.b=255&ui*Fe.b+xt*it.b+.5,Fe.a=nn*Fe.a+(1-nn)*it.a,this.rgb=Fe}return this}interpolate(ie,pe){return ie&&(this._rgb=function Gt(k,ie,pe){const Fe=xn(Ye(k.r)),it=xn(Ye(k.g)),xt=xn(Ye(k.b));return{r:dt(qt(Fe+pe*(xn(Ye(ie.r))-Fe))),g:dt(qt(it+pe*(xn(Ye(ie.g))-it))),b:dt(qt(xt+pe*(xn(Ye(ie.b))-xt))),a:k.a+pe*(ie.a-k.a)}}(this._rgb,ie._rgb,pe)),this}clone(){return new Vn(this.rgb)}alpha(ie){return this._rgb.a=dt(ie),this}clearer(ie){return this._rgb.a*=1-ie,this}greyscale(){const ie=this._rgb,pe=c(.3*ie.r+.59*ie.g+.11*ie.b);return ie.r=ie.g=ie.b=pe,this}opaquer(ie){return this._rgb.a*=1+ie,this}negate(){const ie=this._rgb;return ie.r=255-ie.r,ie.g=255-ie.g,ie.b=255-ie.b,this}lighten(ie){return li(this._rgb,2,ie),this}darken(ie){return li(this._rgb,2,-ie),this}saturate(ie){return li(this._rgb,1,ie),this}desaturate(ie){return li(this._rgb,1,-ie),this}rotate(ie){return function tn(k,ie){var pe=zt(k);pe[0]=Vt(pe[0]+ie),pe=Yt(pe),k.r=pe[0],k.g=pe[1],k.b=pe[2]}(this._rgb,ie),this}}function Di(){}const Vi=(()=>{let k=0;return()=>k++})();function Xn(k){return null===k||typeof k>"u"}function Ai(k){if(Array.isArray&&Array.isArray(k))return!0;const ie=Object.prototype.toString.call(k);return"[object"===ie.slice(0,7)&&"Array]"===ie.slice(-6)}function Ni(k){return null!==k&&"[object Object]"===Object.prototype.toString.call(k)}function rr(k){return("number"==typeof k||k instanceof Number)&&isFinite(+k)}function fr(k,ie){return rr(k)?k:ie}function Ui(k,ie){return typeof k>"u"?ie:k}const ii=(k,ie)=>"string"==typeof k&&k.endsWith("%")?parseFloat(k)/100:+k/ie,kr=(k,ie)=>"string"==typeof k&&k.endsWith("%")?parseFloat(k)/100*ie:+k;function Ar(k,ie,pe){if(k&&"function"==typeof k.call)return k.apply(pe,ie)}function Li(k,ie,pe,Fe){let it,xt,nn;if(Ai(k))if(xt=k.length,Fe)for(it=xt-1;it>=0;it--)ie.call(pe,k[it],it);else for(it=0;it<xt;it++)ie.call(pe,k[it],it);else if(Ni(k))for(nn=Object.keys(k),xt=nn.length,it=0;it<xt;it++)ie.call(pe,k[nn[it]],nn[it])}function ps(k,ie){let pe,Fe,it,xt;if(!k||!ie||k.length!==ie.length)return!1;for(pe=0,Fe=k.length;pe<Fe;++pe)if(it=k[pe],xt=ie[pe],it.datasetIndex!==xt.datasetIndex||it.index!==xt.index)return!1;return!0}function Xr(k){if(Ai(k))return k.map(Xr);if(Ni(k)){const ie=Object.create(null),pe=Object.keys(k),Fe=pe.length;let it=0;for(;it<Fe;++it)ie[pe[it]]=Xr(k[pe[it]]);return ie}return k}function Bi(k){return-1===["__proto__","prototype","constructor"].indexOf(k)}function Mi(k,ie,pe,Fe){if(!Bi(k))return;const it=ie[k],xt=pe[k];Ni(it)&&Ni(xt)?Zi(it,xt,Fe):ie[k]=Xr(xt)}function Zi(k,ie,pe){const Fe=Ai(ie)?ie:[ie],it=Fe.length;if(!Ni(k))return k;const xt=(pe=pe||{}).merger||Mi;let nn;for(let yn=0;yn<it;++yn){if(nn=Fe[yn],!Ni(nn))continue;const Pn=Object.keys(nn);for(let ui=0,Fi=Pn.length;ui<Fi;++ui)xt(Pn[ui],k,nn,pe)}return k}function Qr(k,ie){return Zi(k,ie,{merger:Jr})}function Jr(k,ie,pe){if(!Bi(k))return;const Fe=ie[k],it=pe[k];Ni(Fe)&&Ni(it)?Qr(Fe,it):Object.prototype.hasOwnProperty.call(ie,k)||(ie[k]=Xr(it))}const jr={"":k=>k,x:k=>k.x,y:k=>k.y};function Hi(k,ie){return(jr[ie]||(jr[ie]=function tr(k){const ie=function ns(k){const ie=k.split("."),pe=[];let Fe="";for(const it of ie)Fe+=it,Fe.endsWith("\\")?Fe=Fe.slice(0,-1)+".":(pe.push(Fe),Fe="");return pe}(k);return pe=>{for(const Fe of ie){if(""===Fe)break;pe=pe&&pe[Fe]}return pe}}(ie)))(k)}function is(k){return k.charAt(0).toUpperCase()+k.slice(1)}const nr=k=>typeof k<"u",zn=k=>"function"==typeof k,Ge=(k,ie)=>{if(k.size!==ie.size)return!1;for(const pe of k)if(!ie.has(pe))return!1;return!0};function Mt(k){return"mouseup"===k.type||"click"===k.type||"contextmenu"===k.type}const _n=Math.PI,Gn=2*_n,mi=Gn+_n,Dr=Number.POSITIVE_INFINITY,pr=_n/180,sr=_n/2,Pt=_n/4,B=2*_n/3,x=Math.log10,A=Math.sign;function O(k,ie,pe){return Math.abs(k-ie)<pe}function ne(k){const ie=Math.round(k);k=O(k,ie,k/1e3)?ie:k;const pe=Math.pow(10,Math.floor(x(k))),Fe=k/pe;return(Fe<=1?1:Fe<=2?2:Fe<=5?5:10)*pe}function ce(k){const ie=[],pe=Math.sqrt(k);let Fe;for(Fe=1;Fe<pe;Fe++)k%Fe==0&&(ie.push(Fe),ie.push(k/Fe));return pe===(0|pe)&&ie.push(pe),ie.sort((it,xt)=>it-xt).pop(),ie}function me(k){return!isNaN(parseFloat(k))&&isFinite(k)}function Ve(k,ie){const pe=Math.round(k);return pe-ie<=k&&pe+ie>=k}function Be(k,ie,pe){let Fe,it,xt;for(Fe=0,it=k.length;Fe<it;Fe++)xt=k[Fe][pe],isNaN(xt)||(ie.min=Math.min(ie.min,xt),ie.max=Math.max(ie.max,xt))}function jt(k){return k*(_n/180)}function Lt(k){return k*(180/_n)}function fn(k){if(!rr(k))return;let ie=1,pe=0;for(;Math.round(k*ie)/ie!==k;)ie*=10,pe++;return pe}function Wt(k,ie){const pe=ie.x-k.x,Fe=ie.y-k.y,it=Math.sqrt(pe*pe+Fe*Fe);let xt=Math.atan2(Fe,pe);return xt<-.5*_n&&(xt+=Gn),{angle:xt,distance:it}}function en(k,ie){return Math.sqrt(Math.pow(ie.x-k.x,2)+Math.pow(ie.y-k.y,2))}function In(k,ie){return(k-ie+mi)%Gn-_n}function Ut(k){return(k%Gn+Gn)%Gn}function rn(k,ie,pe,Fe){const it=Ut(k),xt=Ut(ie),nn=Ut(pe),yn=Ut(xt-it),Pn=Ut(nn-it),ui=Ut(it-xt),Fi=Ut(it-nn);return it===xt||it===nn||Fe&&xt===nn||yn>Pn&&ui<Fi}function hn(k,ie,pe){return Math.max(ie,Math.min(pe,k))}function Yn(k){return hn(k,-32768,32767)}function Kn(k,ie,pe,Fe=1e-6){return k>=Math.min(ie,pe)-Fe&&k<=Math.max(ie,pe)+Fe}function ti(k,ie,pe){pe=pe||(nn=>k[nn]<ie);let xt,Fe=k.length-1,it=0;for(;Fe-it>1;)xt=it+Fe>>1,pe(xt)?it=xt:Fe=xt;return{lo:it,hi:Fe}}const $i=(k,ie,pe,Fe)=>ti(k,pe,Fe?it=>{const xt=k[it][ie];return xt<pe||xt===pe&&k[it+1][ie]===pe}:it=>k[it][ie]<pe),Sr=(k,ie,pe)=>ti(k,pe,Fe=>k[Fe][ie]>=pe);function yr(k,ie,pe){let Fe=0,it=k.length;for(;Fe<it&&k[Fe]<ie;)Fe++;for(;it>Fe&&k[it-1]>pe;)it--;return Fe>0||it<k.length?k.slice(Fe,it):k}const Ki=["push","pop","shift","splice","unshift"];function wr(k,ie){k._chartjs?k._chartjs.listeners.push(ie):(Object.defineProperty(k,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[ie]}}),Ki.forEach(pe=>{const Fe="_onData"+is(pe),it=k[pe];Object.defineProperty(k,pe,{configurable:!0,enumerable:!1,value(...xt){const nn=it.apply(this,xt);return k._chartjs.listeners.forEach(yn=>{"function"==typeof yn[Fe]&&yn[Fe](...xt)}),nn}})}))}function Wi(k,ie){const pe=k._chartjs;if(!pe)return;const Fe=pe.listeners,it=Fe.indexOf(ie);-1!==it&&Fe.splice(it,1),!(Fe.length>0)&&(Ki.forEach(xt=>{delete k[xt]}),delete k._chartjs)}function mr(k){const ie=new Set(k);return ie.size===k.length?k:Array.from(ie)}const ur=typeof window>"u"?function(k){return k()}:window.requestAnimationFrame;function rs(k,ie){let pe=[],Fe=!1;return function(...it){pe=it,Fe||(Fe=!0,ur.call(window,()=>{Fe=!1,k.apply(ie,pe)}))}}function $s(k,ie){let pe;return function(...Fe){return ie?(clearTimeout(pe),pe=setTimeout(k,ie,Fe)):k.apply(this,Fe),ie}}const ws=k=>"start"===k?"left":"end"===k?"right":"center",Es=(k,ie,pe)=>"start"===k?ie:"end"===k?pe:(ie+pe)/2,uo=(k,ie,pe,Fe)=>k===(Fe?"left":"right")?pe:"center"===k?(ie+pe)/2:ie;function Eo(k,ie,pe){const Fe=ie.length;let it=0,xt=Fe;if(k._sorted){const{iScale:nn,_parsed:yn}=k,Pn=nn.axis,{min:ui,max:Fi,minDefined:Lr,maxDefined:Rr}=nn.getUserBounds();Lr&&(it=hn(Math.min($i(yn,Pn,ui).lo,pe?Fe:$i(ie,Pn,nn.getPixelForValue(ui)).lo),0,Fe-1)),xt=Rr?hn(Math.max($i(yn,nn.axis,Fi,!0).hi+1,pe?0:$i(ie,Pn,nn.getPixelForValue(Fi),!0).hi+1),it,Fe)-it:Fe-it}return{start:it,count:xt}}function Zs(k){const{xScale:ie,yScale:pe,_scaleRanges:Fe}=k,it={xmin:ie.min,xmax:ie.max,ymin:pe.min,ymax:pe.max};if(!Fe)return k._scaleRanges=it,!0;const xt=Fe.xmin!==ie.min||Fe.xmax!==ie.max||Fe.ymin!==pe.min||Fe.ymax!==pe.max;return Object.assign(Fe,it),xt}const ho=k=>0===k||1===k,fe=(k,ie,pe)=>-Math.pow(2,10*(k-=1))*Math.sin((k-ie)*Gn/pe),Ce=(k,ie,pe)=>Math.pow(2,-10*k)*Math.sin((k-ie)*Gn/pe)+1,He={linear:k=>k,easeInQuad:k=>k*k,easeOutQuad:k=>-k*(k-2),easeInOutQuad:k=>(k/=.5)<1?.5*k*k:-.5*(--k*(k-2)-1),easeInCubic:k=>k*k*k,easeOutCubic:k=>(k-=1)*k*k+1,easeInOutCubic:k=>(k/=.5)<1?.5*k*k*k:.5*((k-=2)*k*k+2),easeInQuart:k=>k*k*k*k,easeOutQuart:k=>-((k-=1)*k*k*k-1),easeInOutQuart:k=>(k/=.5)<1?.5*k*k*k*k:-.5*((k-=2)*k*k*k-2),easeInQuint:k=>k*k*k*k*k,easeOutQuint:k=>(k-=1)*k*k*k*k+1,easeInOutQuint:k=>(k/=.5)<1?.5*k*k*k*k*k:.5*((k-=2)*k*k*k*k+2),easeInSine:k=>1-Math.cos(k*sr),easeOutSine:k=>Math.sin(k*sr),easeInOutSine:k=>-.5*(Math.cos(_n*k)-1),easeInExpo:k=>0===k?0:Math.pow(2,10*(k-1)),easeOutExpo:k=>1===k?1:1-Math.pow(2,-10*k),easeInOutExpo:k=>ho(k)?k:k<.5?.5*Math.pow(2,10*(2*k-1)):.5*(2-Math.pow(2,-10*(2*k-1))),easeInCirc:k=>k>=1?k:-(Math.sqrt(1-k*k)-1),easeOutCirc:k=>Math.sqrt(1-(k-=1)*k),easeInOutCirc:k=>(k/=.5)<1?-.5*(Math.sqrt(1-k*k)-1):.5*(Math.sqrt(1-(k-=2)*k)+1),easeInElastic:k=>ho(k)?k:fe(k,.075,.3),easeOutElastic:k=>ho(k)?k:Ce(k,.075,.3),easeInOutElastic:k=>ho(k)?k:k<.5?.5*fe(2*k,.1125,.45):.5+.5*Ce(2*k-1,.1125,.45),easeInBack:k=>k*k*(2.70158*k-1.70158),easeOutBack:k=>(k-=1)*k*(2.70158*k+1.70158)+1,easeInOutBack(k){let ie=1.70158;return(k/=.5)<1?k*k*((1+(ie*=1.525))*k-ie)*.5:.5*((k-=2)*k*((1+(ie*=1.525))*k+ie)+2)},easeInBounce:k=>1-He.easeOutBounce(1-k),easeOutBounce:k=>k<1/2.75?7.5625*k*k:k<2/2.75?7.5625*(k-=1.5/2.75)*k+.75:k<2.5/2.75?7.5625*(k-=2.25/2.75)*k+.9375:7.5625*(k-=2.625/2.75)*k+.984375,easeInOutBounce:k=>k<.5?.5*He.easeInBounce(2*k):.5*He.easeOutBounce(2*k-1)+.5};function Me(k){if(k&&"object"==typeof k){const ie=k.toString();return"[object CanvasPattern]"===ie||"[object CanvasGradient]"===ie}return!1}function he(k){return Me(k)?k:new Vn(k)}function Ae(k){return Me(k)?k:new Vn(k).saturate(.5).darken(.1).hexString()}const St=["x","y","borderWidth","radius","tension"],Kt=["color","borderColor","backgroundColor"],yi=new Map;function Cr(k,ie,pe){return function bi(k,ie){ie=ie||{};const pe=k+JSON.stringify(ie);let Fe=yi.get(pe);return Fe||(Fe=new Intl.NumberFormat(k,ie),yi.set(pe,Fe)),Fe}(ie,pe).format(k)}const $r={values:k=>Ai(k)?k:""+k,numeric(k,ie,pe){if(0===k)return"0";const Fe=this.chart.options.locale;let it,xt=k;if(pe.length>1){const ui=Math.max(Math.abs(pe[0].value),Math.abs(pe[pe.length-1].value));(ui<1e-4||ui>1e15)&&(it="scientific"),xt=function Xs(k,ie){let pe=ie.length>3?ie[2].value-ie[1].value:ie[1].value-ie[0].value;return Math.abs(pe)>=1&&k!==Math.floor(k)&&(pe=k-Math.floor(k)),pe}(k,pe)}const nn=x(Math.abs(xt)),yn=isNaN(nn)?1:Math.max(Math.min(-1*Math.floor(nn),20),0),Pn={notation:it,minimumFractionDigits:yn,maximumFractionDigits:yn};return Object.assign(Pn,this.options.ticks.format),Cr(k,Fe,Pn)},logarithmic(k,ie,pe){if(0===k)return"0";const Fe=pe[ie].significand||k/Math.pow(10,Math.floor(x(k)));return[1,2,3,5,10,15].includes(Fe)||ie>.8*pe.length?$r.numeric.call(this,k,ie,pe):""}};var Ks={formatters:$r};const hr=Object.create(null),ri=Object.create(null);function vr(k,ie){if(!ie)return k;const pe=ie.split(".");for(let Fe=0,it=pe.length;Fe<it;++Fe){const xt=pe[Fe];k=k[xt]||(k[xt]=Object.create(null))}return k}function _r(k,ie,pe){return"string"==typeof ie?Zi(vr(k,ie),pe):Zi(vr(k,""),ie)}class So{constructor(ie,pe){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=Fe=>Fe.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(Fe,it)=>Ae(it.backgroundColor),this.hoverBorderColor=(Fe,it)=>Ae(it.borderColor),this.hoverColor=(Fe,it)=>Ae(it.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(ie),this.apply(pe)}set(ie,pe){return _r(this,ie,pe)}get(ie){return vr(this,ie)}describe(ie,pe){return _r(ri,ie,pe)}override(ie,pe){return _r(hr,ie,pe)}route(ie,pe,Fe,it){const xt=vr(this,ie),nn=vr(this,Fe),yn="_"+pe;Object.defineProperties(xt,{[yn]:{value:xt[pe],writable:!0},[pe]:{enumerable:!0,get(){const Pn=this[yn],ui=nn[it];return Ni(Pn)?Object.assign({},ui,Pn):Ui(Pn,ui)},set(Pn){this[yn]=Pn}}})}apply(ie){ie.forEach(pe=>pe(this))}}var Do=new So({_scriptable:k=>!k.startsWith("on"),_indexable:k=>"events"!==k,hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[function mn(k){k.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),k.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:ie=>"onProgress"!==ie&&"onComplete"!==ie&&"fn"!==ie}),k.set("animations",{colors:{type:"color",properties:Kt},numbers:{type:"number",properties:St}}),k.describe("animations",{_fallback:"animation"}),k.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:ie=>0|ie}}}})},function Mn(k){k.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})},function vs(k){k.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(ie,pe)=>pe.lineWidth,tickColor:(ie,pe)=>pe.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:Ks.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),k.route("scale.ticks","color","","color"),k.route("scale.grid","color","","borderColor"),k.route("scale.border","color","","borderColor"),k.route("scale.title","color","","color"),k.describe("scale",{_fallback:!1,_scriptable:ie=>!ie.startsWith("before")&&!ie.startsWith("after")&&"callback"!==ie&&"parser"!==ie,_indexable:ie=>"borderDash"!==ie&&"tickBorderDash"!==ie&&"dash"!==ie}),k.describe("scales",{_fallback:"scale"}),k.describe("scale.ticks",{_scriptable:ie=>"backdropPadding"!==ie&&"callback"!==ie,_indexable:ie=>"backdropPadding"!==ie})}]);function Qo(k,ie,pe,Fe,it){let xt=ie[it];return xt||(xt=ie[it]=k.measureText(it).width,pe.push(it)),xt>Fe&&(Fe=xt),Fe}function Vr(k,ie,pe,Fe){let it=(Fe=Fe||{}).data=Fe.data||{},xt=Fe.garbageCollect=Fe.garbageCollect||[];Fe.font!==ie&&(it=Fe.data={},xt=Fe.garbageCollect=[],Fe.font=ie),k.save(),k.font=ie;let nn=0;const yn=pe.length;let Pn,ui,Fi,Lr,Rr;for(Pn=0;Pn<yn;Pn++)if(Lr=pe[Pn],null==Lr||Ai(Lr)){if(Ai(Lr))for(ui=0,Fi=Lr.length;ui<Fi;ui++)Rr=Lr[ui],null!=Rr&&!Ai(Rr)&&(nn=Qo(k,it,xt,nn,Rr))}else nn=Qo(k,it,xt,nn,Lr);k.restore();const Qs=xt.length/2;if(Qs>pe.length){for(Pn=0;Pn<Qs;Pn++)delete it[xt[Pn]];xt.splice(0,Qs)}return nn}function Mr(k,ie,pe){const Fe=k.currentDevicePixelRatio,it=0!==pe?Math.max(pe/2,.5):0;return Math.round((ie-it)*Fe)/Fe+it}function Cs(k,ie){(ie=ie||k.getContext("2d")).save(),ie.resetTransform(),ie.clearRect(0,0,k.width,k.height),ie.restore()}function Nr(k,ie,pe,Fe){Ao(k,ie,pe,Fe,null)}function Ao(k,ie,pe,Fe,it){let xt,nn,yn,Pn,ui,Fi,Lr,Rr;const Qs=ie.pointStyle,oo=ie.rotation,ee=ie.radius;let ve=(oo||0)*pr;if(Qs&&"object"==typeof Qs&&(xt=Qs.toString(),"[object HTMLImageElement]"===xt||"[object HTMLCanvasElement]"===xt))return k.save(),k.translate(pe,Fe),k.rotate(ve),k.drawImage(Qs,-Qs.width/2,-Qs.height/2,Qs.width,Qs.height),void k.restore();if(!(isNaN(ee)||ee<=0)){switch(k.beginPath(),Qs){default:it?k.ellipse(pe,Fe,it/2,ee,0,0,Gn):k.arc(pe,Fe,ee,0,Gn),k.closePath();break;case"triangle":Fi=it?it/2:ee,k.moveTo(pe+Math.sin(ve)*Fi,Fe-Math.cos(ve)*ee),ve+=B,k.lineTo(pe+Math.sin(ve)*Fi,Fe-Math.cos(ve)*ee),ve+=B,k.lineTo(pe+Math.sin(ve)*Fi,Fe-Math.cos(ve)*ee),k.closePath();break;case"rectRounded":ui=.516*ee,Pn=ee-ui,nn=Math.cos(ve+Pt)*Pn,Lr=Math.cos(ve+Pt)*(it?it/2-ui:Pn),yn=Math.sin(ve+Pt)*Pn,Rr=Math.sin(ve+Pt)*(it?it/2-ui:Pn),k.arc(pe-Lr,Fe-yn,ui,ve-_n,ve-sr),k.arc(pe+Rr,Fe-nn,ui,ve-sr,ve),k.arc(pe+Lr,Fe+yn,ui,ve,ve+sr),k.arc(pe-Rr,Fe+nn,ui,ve+sr,ve+_n),k.closePath();break;case"rect":if(!oo){Pn=Math.SQRT1_2*ee,Fi=it?it/2:Pn,k.rect(pe-Fi,Fe-Pn,2*Fi,2*Pn);break}ve+=Pt;case"rectRot":Lr=Math.cos(ve)*(it?it/2:ee),nn=Math.cos(ve)*ee,yn=Math.sin(ve)*ee,Rr=Math.sin(ve)*(it?it/2:ee),k.moveTo(pe-Lr,Fe-yn),k.lineTo(pe+Rr,Fe-nn),k.lineTo(pe+Lr,Fe+yn),k.lineTo(pe-Rr,Fe+nn),k.closePath();break;case"crossRot":ve+=Pt;case"cross":Lr=Math.cos(ve)*(it?it/2:ee),nn=Math.cos(ve)*ee,yn=Math.sin(ve)*ee,Rr=Math.sin(ve)*(it?it/2:ee),k.moveTo(pe-Lr,Fe-yn),k.lineTo(pe+Lr,Fe+yn),k.moveTo(pe+Rr,Fe-nn),k.lineTo(pe-Rr,Fe+nn);break;case"star":Lr=Math.cos(ve)*(it?it/2:ee),nn=Math.cos(ve)*ee,yn=Math.sin(ve)*ee,Rr=Math.sin(ve)*(it?it/2:ee),k.moveTo(pe-Lr,Fe-yn),k.lineTo(pe+Lr,Fe+yn),k.moveTo(pe+Rr,Fe-nn),k.lineTo(pe-Rr,Fe+nn),ve+=Pt,Lr=Math.cos(ve)*(it?it/2:ee),nn=Math.cos(ve)*ee,yn=Math.sin(ve)*ee,Rr=Math.sin(ve)*(it?it/2:ee),k.moveTo(pe-Lr,Fe-yn),k.lineTo(pe+Lr,Fe+yn),k.moveTo(pe+Rr,Fe-nn),k.lineTo(pe-Rr,Fe+nn);break;case"line":nn=it?it/2:Math.cos(ve)*ee,yn=Math.sin(ve)*ee,k.moveTo(pe-nn,Fe-yn),k.lineTo(pe+nn,Fe+yn);break;case"dash":k.moveTo(pe,Fe),k.lineTo(pe+Math.cos(ve)*(it?it/2:ee),Fe+Math.sin(ve)*ee);break;case!1:k.closePath()}k.fill(),ie.borderWidth>0&&k.stroke()}}function Gs(k,ie,pe){return pe=pe||.5,!ie||k&&k.x>ie.left-pe&&k.x<ie.right+pe&&k.y>ie.top-pe&&k.y<ie.bottom+pe}function as(k,ie){k.save(),k.beginPath(),k.rect(ie.left,ie.top,ie.right-ie.left,ie.bottom-ie.top),k.clip()}function Vs(k){k.restore()}function zo(k,ie,pe,Fe,it){if(!ie)return k.lineTo(pe.x,pe.y);if("middle"===it){const xt=(ie.x+pe.x)/2;k.lineTo(xt,ie.y),k.lineTo(xt,pe.y)}else"after"===it!=!!Fe?k.lineTo(ie.x,pe.y):k.lineTo(pe.x,ie.y);k.lineTo(pe.x,pe.y)}function Jo(k,ie,pe,Fe){if(!ie)return k.lineTo(pe.x,pe.y);k.bezierCurveTo(Fe?ie.cp1x:ie.cp2x,Fe?ie.cp1y:ie.cp2y,Fe?pe.cp2x:pe.cp1x,Fe?pe.cp2y:pe.cp1y,pe.x,pe.y)}function ea(k,ie,pe,Fe,it){if(it.strikethrough||it.underline){const xt=k.measureText(Fe),nn=ie-xt.actualBoundingBoxLeft,yn=ie+xt.actualBoundingBoxRight,ui=pe+xt.actualBoundingBoxDescent,Fi=it.strikethrough?(pe-xt.actualBoundingBoxAscent+ui)/2:ui;k.strokeStyle=k.fillStyle,k.beginPath(),k.lineWidth=it.decorationWidth||2,k.moveTo(nn,Fi),k.lineTo(yn,Fi),k.stroke()}}function ia(k,ie){const pe=k.fillStyle;k.fillStyle=ie.color,k.fillRect(ie.left,ie.top,ie.width,ie.height),k.fillStyle=pe}function ra(k,ie,pe,Fe,it,xt={}){const nn=Ai(ie)?ie:[ie],yn=xt.strokeWidth>0&&""!==xt.strokeColor;let Pn,ui;for(k.save(),k.font=it.string,function vo(k,ie){ie.translation&&k.translate(ie.translation[0],ie.translation[1]),Xn(ie.rotation)||k.rotate(ie.rotation),ie.color&&(k.fillStyle=ie.color),ie.textAlign&&(k.textAlign=ie.textAlign),ie.textBaseline&&(k.textBaseline=ie.textBaseline)}(k,xt),Pn=0;Pn<nn.length;++Pn)ui=nn[Pn],xt.backdrop&&ia(k,xt.backdrop),yn&&(xt.strokeColor&&(k.strokeStyle=xt.strokeColor),Xn(xt.strokeWidth)||(k.lineWidth=xt.strokeWidth),k.strokeText(ui,pe,Fe,xt.maxWidth)),k.fillText(ui,pe,Fe,xt.maxWidth),ea(k,pe,Fe,ui,xt),Fe+=Number(it.lineHeight);k.restore()}function xo(k,ie){const{x:pe,y:Fe,w:it,h:xt,radius:nn}=ie;k.arc(pe+nn.topLeft,Fe+nn.topLeft,nn.topLeft,1.5*_n,_n,!0),k.lineTo(pe,Fe+xt-nn.bottomLeft),k.arc(pe+nn.bottomLeft,Fe+xt-nn.bottomLeft,nn.bottomLeft,_n,sr,!0),k.lineTo(pe+it-nn.bottomRight,Fe+xt),k.arc(pe+it-nn.bottomRight,Fe+xt-nn.bottomRight,nn.bottomRight,sr,0,!0),k.lineTo(pe+it,Fe+nn.topRight),k.arc(pe+it-nn.topRight,Fe+nn.topRight,nn.topRight,0,-sr,!0),k.lineTo(pe+nn.topLeft,Fe)}const Fa=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,Mo=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function _s(k,ie){const pe=(""+k).match(Fa);if(!pe||"normal"===pe[1])return 1.2*ie;switch(k=+pe[2],pe[3]){case"px":return k;case"%":k/=100}return ie*k}const Pa=k=>+k||0;function Co(k,ie){const pe={},Fe=Ni(ie),it=Fe?Object.keys(ie):ie,xt=Ni(k)?Fe?nn=>Ui(k[nn],k[ie[nn]]):nn=>k[nn]:()=>k;for(const nn of it)pe[nn]=Pa(xt(nn));return pe}function ms(k){return Co(k,{top:"y",right:"x",bottom:"y",left:"x"})}function no(k){return Co(k,["topLeft","topRight","bottomLeft","bottomRight"])}function No(k){const ie=ms(k);return ie.width=ie.left+ie.right,ie.height=ie.top+ie.bottom,ie}function ta(k,ie){let pe=Ui((k=k||{}).size,(ie=ie||Do.font).size);"string"==typeof pe&&(pe=parseInt(pe,10));let Fe=Ui(k.style,ie.style);Fe&&!(""+Fe).match(Mo)&&(console.warn('Invalid font style specified: "'+Fe+'"'),Fe=void 0);const it={family:Ui(k.family,ie.family),lineHeight:_s(Ui(k.lineHeight,ie.lineHeight),pe),size:pe,style:Fe,weight:Ui(k.weight,ie.weight),string:""};return it.string=function js(k){return!k||Xn(k.size)||Xn(k.family)?null:(k.style?k.style+" ":"")+(k.weight?k.weight+" ":"")+k.size+"px "+k.family}(it),it}function Po(k,ie,pe,Fe){let xt,nn,yn,it=!0;for(xt=0,nn=k.length;xt<nn;++xt)if(yn=k[xt],void 0!==yn&&(void 0!==ie&&"function"==typeof yn&&(yn=yn(ie),it=!1),void 0!==pe&&Ai(yn)&&(yn=yn[pe%yn.length],it=!1),void 0!==yn))return Fe&&!it&&(Fe.cacheable=!1),yn}function fo(k,ie,pe){const{min:Fe,max:it}=k,xt=kr(ie,(it-Fe)/2),nn=(yn,Pn)=>pe&&0===yn?0:yn+Pn;return{min:nn(Fe,-Math.abs(xt)),max:nn(it,xt)}}function jo(k,ie){return Object.assign(Object.create(k),ie)}function Lo(k,ie=[""],pe,Fe,it=(()=>k[0])){const xt=pe||k;typeof Fe>"u"&&(Fe=wa("_fallback",k));const nn={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:k,_rootScopes:xt,_fallback:Fe,_getTarget:it,override:yn=>Lo([yn,...k],ie,xt,Fe)};return new Proxy(nn,{deleteProperty:(yn,Pn)=>(delete yn[Pn],delete yn._keys,delete k[0][Pn],!0),get:(yn,Pn)=>F(yn,Pn,()=>function gs(k,ie,pe,Fe){let it;for(const xt of ie)if(it=wa(aa(xt,k),pe),typeof it<"u")return Ho(k,it)?Tr(pe,Fe,k,it):it}(Pn,ie,k,yn)),getOwnPropertyDescriptor:(yn,Pn)=>Reflect.getOwnPropertyDescriptor(yn._scopes[0],Pn),getPrototypeOf:()=>Reflect.getPrototypeOf(k[0]),has:(yn,Pn)=>Bs(yn).includes(Pn),ownKeys:yn=>Bs(yn),set(yn,Pn,ui){const Fi=yn._storage||(yn._storage=it());return yn[Pn]=Fi[Pn]=ui,delete yn._keys,!0}})}function bs(k,ie,pe,Fe){const it={_cacheable:!1,_proxy:k,_context:ie,_subProxy:pe,_stack:new Set,_descriptors:Aa(k,Fe),setContext:xt=>bs(k,xt,pe,Fe),override:xt=>bs(k.override(xt),ie,pe,Fe)};return new Proxy(it,{deleteProperty:(xt,nn)=>(delete xt[nn],delete k[nn],!0),get:(xt,nn,yn)=>F(xt,nn,()=>function Se(k,ie,pe){const{_proxy:Fe,_context:it,_subProxy:xt,_descriptors:nn}=k;let yn=Fe[ie];return zn(yn)&&nn.isScriptable(ie)&&(yn=function $(k,ie,pe,Fe){const{_proxy:it,_context:xt,_subProxy:nn,_stack:yn}=pe;if(yn.has(k))throw new Error("Recursion detected: "+Array.from(yn).join("->")+"->"+k);yn.add(k);let Pn=ie(xt,nn||Fe);return yn.delete(k),Ho(k,Pn)&&(Pn=Tr(it._scopes,it,k,Pn)),Pn}(ie,yn,k,pe)),Ai(yn)&&yn.length&&(yn=function ge(k,ie,pe,Fe){const{_proxy:it,_context:xt,_subProxy:nn,_descriptors:yn}=pe;if(typeof xt.index<"u"&&Fe(k))return ie[xt.index%ie.length];if(Ni(ie[0])){const Pn=ie,ui=it._scopes.filter(Fi=>Fi!==Pn);ie=[];for(const Fi of Pn){const Lr=Tr(ui,it,k,Fi);ie.push(bs(Lr,xt,nn&&nn[k],yn))}}return ie}(ie,yn,k,nn.isIndexable)),Ho(ie,yn)&&(yn=bs(yn,it,xt&&xt[ie],nn)),yn}(xt,nn,yn)),getOwnPropertyDescriptor:(xt,nn)=>xt._descriptors.allKeys?Reflect.has(k,nn)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(k,nn),getPrototypeOf:()=>Reflect.getPrototypeOf(k),has:(xt,nn)=>Reflect.has(k,nn),ownKeys:()=>Reflect.ownKeys(k),set:(xt,nn,yn)=>(k[nn]=yn,delete xt[nn],!0)})}function Aa(k,ie={scriptable:!0,indexable:!0}){const{_scriptable:pe=ie.scriptable,_indexable:Fe=ie.indexable,_allKeys:it=ie.allKeys}=k;return{allKeys:it,scriptable:pe,indexable:Fe,isScriptable:zn(pe)?pe:()=>pe,isIndexable:zn(Fe)?Fe:()=>Fe}}const aa=(k,ie)=>k?k+is(ie):ie,Ho=(k,ie)=>Ni(ie)&&"adapters"!==k&&(null===Object.getPrototypeOf(ie)||ie.constructor===Object);function F(k,ie,pe){if(Object.prototype.hasOwnProperty.call(k,ie))return k[ie];const Fe=pe();return k[ie]=Fe,Fe}function ut(k,ie,pe){return zn(k)?k(ie,pe):k}const oi=(k,ie)=>!0===k?ie:"string"==typeof k?Hi(ie,k):void 0;function Yi(k,ie,pe,Fe,it){for(const xt of ie){const nn=oi(pe,xt);if(nn){k.add(nn);const yn=ut(nn._fallback,pe,it);if(typeof yn<"u"&&yn!==pe&&yn!==Fe)return yn}else if(!1===nn&&typeof Fe<"u"&&pe!==Fe)return null}return!1}function Tr(k,ie,pe,Fe){const it=ie._rootScopes,xt=ut(ie._fallback,pe,Fe),nn=[...k,...it],yn=new Set;yn.add(Fe);let Pn=cs(yn,nn,pe,xt||pe,Fe);return!(null===Pn||typeof xt<"u"&&xt!==pe&&(Pn=cs(yn,nn,xt,Pn,Fe),null===Pn))&&Lo(Array.from(yn),[""],it,xt,()=>function Ms(k,ie,pe){const Fe=k._getTarget();ie in Fe||(Fe[ie]={});const it=Fe[ie];return Ai(it)&&Ni(pe)?pe:it||{}}(ie,pe,Fe))}function cs(k,ie,pe,Fe,it){for(;pe;)pe=Yi(k,ie,pe,Fe,it);return pe}function wa(k,ie){for(const pe of ie){if(!pe)continue;const Fe=pe[k];if(typeof Fe<"u")return Fe}}function Bs(k){let ie=k._keys;return ie||(ie=k._keys=function Fo(k){const ie=new Set;for(const pe of k)for(const Fe of Object.keys(pe).filter(it=>!it.startsWith("_")))ie.add(Fe);return Array.from(ie)}(k._scopes)),ie}function Ra(k,ie,pe,Fe){const{iScale:it}=k,{key:xt="r"}=this._parsing,nn=new Array(Fe);let yn,Pn,ui,Fi;for(yn=0,Pn=Fe;yn<Pn;++yn)ui=yn+pe,Fi=ie[ui],nn[yn]={r:it.parse(Hi(Fi,xt),ui)};return nn}const la=Number.EPSILON||1e-14,Hs=(k,ie)=>ie<k.length&&!k[ie].skip&&k[ie],da=k=>"x"===k?"y":"x";function ys(k,ie,pe,Fe){const it=k.skip?ie:k,xt=ie,nn=pe.skip?ie:pe,yn=en(xt,it),Pn=en(nn,xt);let ui=yn/(yn+Pn),Fi=Pn/(yn+Pn);ui=isNaN(ui)?0:ui,Fi=isNaN(Fi)?0:Fi;const Lr=Fe*ui,Rr=Fe*Fi;return{previous:{x:xt.x-Lr*(nn.x-it.x),y:xt.y-Lr*(nn.y-it.y)},next:{x:xt.x+Rr*(nn.x-it.x),y:xt.y+Rr*(nn.y-it.y)}}}function Ps(k,ie,pe){return Math.max(Math.min(k,pe),ie)}function tl(k,ie,pe,Fe,it){let xt,nn,yn,Pn;if(ie.spanGaps&&(k=k.filter(ui=>!ui.skip)),"monotone"===ie.cubicInterpolationMode)!function Na(k,ie="x"){const pe=da(ie),Fe=k.length,it=Array(Fe).fill(0),xt=Array(Fe);let nn,yn,Pn,ui=Hs(k,0);for(nn=0;nn<Fe;++nn)if(yn=Pn,Pn=ui,ui=Hs(k,nn+1),Pn){if(ui){const Fi=ui[ie]-Pn[ie];it[nn]=0!==Fi?(ui[pe]-Pn[pe])/Fi:0}xt[nn]=yn?ui?A(it[nn-1])!==A(it[nn])?0:(it[nn-1]+it[nn])/2:it[nn-1]:it[nn]}(function ya(k,ie,pe){const Fe=k.length;let it,xt,nn,yn,Pn,ui=Hs(k,0);for(let Fi=0;Fi<Fe-1;++Fi)if(Pn=ui,ui=Hs(k,Fi+1),Pn&&ui){if(O(ie[Fi],0,la)){pe[Fi]=pe[Fi+1]=0;continue}it=pe[Fi]/ie[Fi],xt=pe[Fi+1]/ie[Fi],yn=Math.pow(it,2)+Math.pow(xt,2),!(yn<=9)&&(nn=3/Math.sqrt(yn),pe[Fi]=it*nn*ie[Fi],pe[Fi+1]=xt*nn*ie[Fi])}})(k,it,xt),function Uo(k,ie,pe="x"){const Fe=da(pe),it=k.length;let xt,nn,yn,Pn=Hs(k,0);for(let ui=0;ui<it;++ui){if(nn=yn,yn=Pn,Pn=Hs(k,ui+1),!yn)continue;const Fi=yn[pe],Lr=yn[Fe];nn&&(xt=(Fi-nn[pe])/3,yn[`cp1${pe}`]=Fi-xt,yn[`cp1${Fe}`]=Lr-xt*ie[ui]),Pn&&(xt=(Pn[pe]-Fi)/3,yn[`cp2${pe}`]=Fi+xt,yn[`cp2${Fe}`]=Lr+xt*ie[ui])}}(k,xt,ie)}(k,it);else{let ui=Fe?k[k.length-1]:k[0];for(xt=0,nn=k.length;xt<nn;++xt)yn=k[xt],Pn=ys(ui,yn,k[Math.min(xt+1,nn-(Fe?0:1))%nn],ie.tension),yn.cp1x=Pn.previous.x,yn.cp1y=Pn.previous.y,yn.cp2x=Pn.next.x,yn.cp2y=Pn.next.y,ui=yn}ie.capBezierPoints&&function ha(k,ie){let pe,Fe,it,xt,nn,yn=Gs(k[0],ie);for(pe=0,Fe=k.length;pe<Fe;++pe)nn=xt,xt=yn,yn=pe<Fe-1&&Gs(k[pe+1],ie),xt&&(it=k[pe],nn&&(it.cp1x=Ps(it.cp1x,ie.left,ie.right),it.cp1y=Ps(it.cp1y,ie.top,ie.bottom)),yn&&(it.cp2x=Ps(it.cp2x,ie.left,ie.right),it.cp2y=Ps(it.cp2y,ie.top,ie.bottom)))}(k,pe)}function Pe(){return typeof window<"u"&&typeof document<"u"}function _e(k){let ie=k.parentNode;return ie&&"[object ShadowRoot]"===ie.toString()&&(ie=ie.host),ie}function H(k,ie,pe){let Fe;return"string"==typeof k?(Fe=parseInt(k,10),-1!==k.indexOf("%")&&(Fe=Fe/100*ie.parentNode[pe])):Fe=k,Fe}const U=k=>k.ownerDocument.defaultView.getComputedStyle(k,null),V=["top","right","bottom","left"];function Ie(k,ie,pe){const Fe={};pe=pe?"-"+pe:"";for(let it=0;it<4;it++){const xt=V[it];Fe[xt]=parseFloat(k[ie+"-"+xt+pe])||0}return Fe.width=Fe.left+Fe.right,Fe.height=Fe.top+Fe.bottom,Fe}const Rt=(k,ie,pe)=>(k>0||ie>0)&&(!pe||!pe.shadowRoot);function Nn(k,ie){if("native"in k)return k;const{canvas:pe,currentDevicePixelRatio:Fe}=ie,it=U(pe),xt="border-box"===it.boxSizing,nn=Ie(it,"padding"),yn=Ie(it,"border","width"),{x:Pn,y:ui,box:Fi}=function gn(k,ie){const pe=k.touches,Fe=pe&&pe.length?pe[0]:k,{offsetX:it,offsetY:xt}=Fe;let yn,Pn,nn=!1;if(Rt(it,xt,k.target))yn=it,Pn=xt;else{const ui=ie.getBoundingClientRect();yn=Fe.clientX-ui.left,Pn=Fe.clientY-ui.top,nn=!0}return{x:yn,y:Pn,box:nn}}(k,pe),Lr=nn.left+(Fi&&yn.left),Rr=nn.top+(Fi&&yn.top);let{width:Qs,height:oo}=ie;return xt&&(Qs-=nn.width+yn.width,oo-=nn.height+yn.height),{x:Math.round((Pn-Lr)/Qs*pe.width/Fe),y:Math.round((ui-Rr)/oo*pe.height/Fe)}}const Ur=k=>Math.round(10*k)/10;function Wr(k,ie,pe,Fe){const it=U(k),xt=Ie(it,"margin"),nn=H(it.maxWidth,k,"clientWidth")||Dr,yn=H(it.maxHeight,k,"clientHeight")||Dr,Pn=function qn(k,ie,pe){let Fe,it;if(void 0===ie||void 0===pe){const xt=_e(k);if(xt){const nn=xt.getBoundingClientRect(),yn=U(xt),Pn=Ie(yn,"border","width"),ui=Ie(yn,"padding");ie=nn.width-ui.width-Pn.width,pe=nn.height-ui.height-Pn.height,Fe=H(yn.maxWidth,xt,"clientWidth"),it=H(yn.maxHeight,xt,"clientHeight")}else ie=k.clientWidth,pe=k.clientHeight}return{width:ie,height:pe,maxWidth:Fe||Dr,maxHeight:it||Dr}}(k,ie,pe);let{width:ui,height:Fi}=Pn;if("content-box"===it.boxSizing){const Rr=Ie(it,"border","width"),Qs=Ie(it,"padding");ui-=Qs.width+Rr.width,Fi-=Qs.height+Rr.height}return ui=Math.max(0,ui-xt.width),Fi=Math.max(0,Fe?ui/Fe:Fi-xt.height),ui=Ur(Math.min(ui,nn,Pn.maxWidth)),Fi=Ur(Math.min(Fi,yn,Pn.maxHeight)),ui&&!Fi&&(Fi=Ur(ui/2)),(void 0!==ie||void 0!==pe)&&Fe&&Pn.height&&Fi>Pn.height&&(Fi=Pn.height,ui=Ur(Math.floor(Fi*Fe))),{width:ui,height:Fi}}function qr(k,ie,pe){const Fe=ie||1,it=Math.floor(k.height*Fe),xt=Math.floor(k.width*Fe);k.height=Math.floor(k.height),k.width=Math.floor(k.width);const nn=k.canvas;return nn.style&&(pe||!nn.style.height&&!nn.style.width)&&(nn.style.height=`${k.height}px`,nn.style.width=`${k.width}px`),(k.currentDevicePixelRatio!==Fe||nn.height!==it||nn.width!==xt)&&(k.currentDevicePixelRatio=Fe,nn.height=it,nn.width=xt,k.ctx.setTransform(Fe,0,0,Fe,0,0),!0)}const ss=function(){let k=!1;try{const ie={get passive(){return k=!0,!1}};window.addEventListener("test",null,ie),window.removeEventListener("test",null,ie)}catch{}return k}();function Pr(k,ie){const pe=function I(k,ie){return U(k).getPropertyValue(ie)}(k,ie),Fe=pe&&pe.match(/^(\d+)(\.\d+)?px$/);return Fe?+Fe[1]:void 0}function Us(k,ie,pe,Fe){return{x:k.x+pe*(ie.x-k.x),y:k.y+pe*(ie.y-k.y)}}function Ro(k,ie,pe,Fe){return{x:k.x+pe*(ie.x-k.x),y:"middle"===Fe?pe<.5?k.y:ie.y:"after"===Fe?pe<1?k.y:ie.y:pe>0?ie.y:k.y}}function po(k,ie,pe,Fe){const it={x:k.cp2x,y:k.cp2y},xt={x:ie.cp1x,y:ie.cp1y},nn=Us(k,it,pe),yn=Us(it,xt,pe),Pn=Us(xt,ie,pe),ui=Us(nn,yn,pe),Fi=Us(yn,Pn,pe);return Us(ui,Fi,pe)}const Io=function(k,ie){return{x:pe=>k+k+ie-pe,setWidth(pe){ie=pe},textAlign:pe=>"center"===pe?pe:"right"===pe?"left":"right",xPlus:(pe,Fe)=>pe-Fe,leftForLtr:(pe,Fe)=>pe-Fe}},hs=function(){return{x:k=>k,setWidth(k){},textAlign:k=>k,xPlus:(k,ie)=>k+ie,leftForLtr:(k,ie)=>k}};function lo(k,ie,pe){return k?Io(ie,pe):hs()}function Wo(k,ie){let pe,Fe;("ltr"===ie||"rtl"===ie)&&(pe=k.canvas.style,Fe=[pe.getPropertyValue("direction"),pe.getPropertyPriority("direction")],pe.setProperty("direction",ie,"important"),k.prevTextDirection=Fe)}function va(k,ie){void 0!==ie&&(delete k.prevTextDirection,k.canvas.style.setProperty("direction",ie[0],ie[1]))}function Go(k){return"angle"===k?{between:rn,compare:In,normalize:Ut}:{between:Kn,compare:(ie,pe)=>ie-pe,normalize:ie=>ie}}function ja({start:k,end:ie,count:pe,loop:Fe,style:it}){return{start:k%pe,end:ie%pe,loop:Fe&&(ie-k+1)%pe==0,style:it}}function cl(k,ie,pe){if(!pe)return[k];const{property:Fe,start:it,end:xt}=pe,nn=ie.length,{compare:yn,between:Pn,normalize:ui}=Go(Fe),{start:Fi,end:Lr,loop:Rr,style:Qs}=function Oa(k,ie,pe){const{property:Fe,start:it,end:xt}=pe,{between:nn,normalize:yn}=Go(Fe),Pn=ie.length;let Rr,Qs,{start:ui,end:Fi,loop:Lr}=k;if(Lr){for(ui+=Pn,Fi+=Pn,Rr=0,Qs=Pn;Rr<Qs&&nn(yn(ie[ui%Pn][Fe]),it,xt);++Rr)ui--,Fi--;ui%=Pn,Fi%=Pn}return Fi<ui&&(Fi+=Pn),{start:ui,end:Fi,loop:Lr,style:k.style}}(k,ie,pe),oo=[];let ae,We,Ft,ee=!1,ve=null;for(let Os=Fi,Yr=Fi;Os<=Lr;++Os)We=ie[Os%nn],!We.skip&&(ae=ui(We[Fe]),ae!==Ft&&(ee=Pn(ae,it,xt),null===ve&&(ee||Pn(it,Ft,ae)&&0!==yn(it,Ft))&&(ve=0===yn(ae,it)?Os:Yr),null!==ve&&(!ee||0===yn(xt,ae)||Pn(xt,Ft,ae))&&(oo.push(ja({start:ve,end:Os,loop:Rr,count:nn,style:Qs})),ve=null),Yr=Os,Ft=ae));return null!==ve&&oo.push(ja({start:ve,end:Lr,loop:Rr,count:nn,style:Qs})),oo}function Za(k,ie){const pe=[],Fe=k.segments;for(let it=0;it<Fe.length;it++){const xt=cl(Fe[it],k.points,ie);xt.length&&pe.push(...xt)}return pe}function so(k,ie){const pe=k.points,Fe=k.options.spanGaps,it=pe.length;if(!it)return[];const xt=!!k._loop,{start:nn,end:yn}=function Ea(k,ie,pe,Fe){let it=0,xt=ie-1;if(pe&&!Fe)for(;it<ie&&!k[it].skip;)it++;for(;it<ie&&k[it].skip;)it++;for(it%=ie,pe&&(xt+=it);xt>it&&k[xt%ie].skip;)xt--;return xt%=ie,{start:it,end:xt}}(pe,it,xt,Fe);return na(k,!0===Fe?[{start:nn,end:yn,loop:xt}]:function Xa(k,ie,pe,Fe){const it=k.length,xt=[];let Pn,nn=ie,yn=k[ie];for(Pn=ie+1;Pn<=pe;++Pn){const ui=k[Pn%it];ui.skip||ui.stop?yn.skip||(xt.push({start:ie%it,end:(Pn-1)%it,loop:Fe=!1}),ie=nn=ui.stop?Pn:null):(nn=Pn,yn.skip&&(ie=Pn)),yn=ui}return null!==nn&&xt.push({start:ie%it,end:nn%it,loop:Fe}),xt}(pe,nn,yn<nn?yn+it:yn,!!k._fullLoop&&0===nn&&yn===it-1),pe,ie)}function na(k,ie,pe,Fe){return Fe&&Fe.setContext&&pe?function nl(k,ie,pe,Fe){const it=k._chart.getContext(),xt=Bo(k.options),{_datasetIndex:nn,options:{spanGaps:yn}}=k,Pn=pe.length,ui=[];let Fi=xt,Lr=ie[0].start,Rr=Lr;function Qs(oo,ee,ve,ae){const We=yn?-1:1;if(oo!==ee){for(oo+=Pn;pe[oo%Pn].skip;)oo-=We;for(;pe[ee%Pn].skip;)ee+=We;oo%Pn!=ee%Pn&&(ui.push({start:oo%Pn,end:ee%Pn,loop:ve,style:ae}),Fi=ae,Lr=ee%Pn)}}for(const oo of ie){Lr=yn?Lr:oo.start;let ve,ee=pe[Lr%Pn];for(Rr=Lr+1;Rr<=oo.end;Rr++){const ae=pe[Rr%Pn];ve=Bo(Fe.setContext(jo(it,{type:"segment",p0:ee,p1:ae,p0DataIndex:(Rr-1)%Pn,p1DataIndex:Rr%Pn,datasetIndex:nn}))),ul(ve,Fi)&&Qs(Lr,Rr-1,oo.loop,Fi),ee=ae,Fi=ve}Lr<Rr-1&&Qs(Lr,Rr-1,oo.loop,Fi)}return ui}(k,ie,pe,Fe):ie}function Bo(k){return{backgroundColor:k.backgroundColor,borderCapStyle:k.borderCapStyle,borderDash:k.borderDash,borderDashOffset:k.borderDashOffset,borderJoinStyle:k.borderJoinStyle,borderWidth:k.borderWidth,borderColor:k.borderColor}}function ul(k,ie){if(!ie)return!1;const pe=[],Fe=function(it,xt){return Me(xt)?(pe.includes(xt)||pe.push(xt),pe.indexOf(xt)):xt};return JSON.stringify(k,Fe)!==JSON.stringify(ie,Fe)}},5132:(Ii,ln,Y)=>{"use strict";Y.d(ln,{Gb:()=>c.Gb});var c=Y(579)},259:(Ii,ln,Y)=>{"use strict";Y.d(ln,{C6:()=>c.getApps,KN:()=>c.registerVersion,Mq:()=>c.getApp,ZF:()=>c.initializeApp});var c=Y(6881);(0,c.registerVersion)("firebase","9.22.0","app")},9260:(Ii,ln,Y)=>{"use strict";Y.d(ln,{Z:()=>c.Z});var c=Y(3942);c.Z.registerVersion("firebase","9.22.0","app-compat")},9568:(Ii,ln,Y)=>{"use strict";Y.r(ln);var c=Y(5861),y=Y(3942),De=Y(1389),ze=Y(2090),be=(Y(6881),Y(1877),Y(4859));function $e(){return window}function Re(){return Re=(0,c.Z)(function*(x,A,O){var ne;const{BuildInfo:ce}=$e();(0,De.as)(A.sessionId,"AuthEvent did not contain a session ID");const me=yield function Ze(x){return on.apply(this,arguments)}(A.sessionId),Ve={};return(0,De.at)()?Ve.ibi=ce.packageName:(0,De.au)()?Ve.apn=ce.packageName:(0,De.av)(x,"operation-not-supported-in-this-environment"),ce.displayName&&(Ve.appDisplayName=ce.displayName),Ve.sessionId=me,(0,De.aw)(x,O,A.type,void 0,null!==(ne=A.eventId)&&void 0!==ne?ne:void 0,Ve)}),Re.apply(this,arguments)}function Le(){return(Le=(0,c.Z)(function*(x){const{BuildInfo:A}=$e(),O={};(0,De.at)()?O.iosBundleId=A.packageName:(0,De.au)()?O.androidPackageName=A.packageName:(0,De.av)(x,"operation-not-supported-in-this-environment"),yield(0,De.ax)(x,O)})).apply(this,arguments)}function an(){return(an=(0,c.Z)(function*(x,A,O){const{cordova:ne}=$e();let ce=()=>{};try{yield new Promise((me,Ve)=>{let Be=null;function jt(){var Wt;me();const en=null===(Wt=ne.plugins.browsertab)||void 0===Wt?void 0:Wt.close;"function"==typeof en&&en(),"function"==typeof(null==O?void 0:O.close)&&O.close()}function Lt(){Be||(Be=window.setTimeout(()=>{Ve((0,De.az)(x,"redirect-cancelled-by-user"))},2e3))}function fn(){"visible"===(null==document?void 0:document.visibilityState)&&Lt()}A.addPassiveListener(jt),document.addEventListener("resume",Lt,!1),(0,De.au)()&&document.addEventListener("visibilitychange",fn,!1),ce=()=>{A.removePassiveListener(jt),document.removeEventListener("resume",Lt,!1),document.removeEventListener("visibilitychange",fn,!1),Be&&window.clearTimeout(Be)}})}finally{ce()}})).apply(this,arguments)}function on(){return(on=(0,c.Z)(function*(x){const A=function It(x){if((0,De.as)(/[0-9a-zA-Z]+/.test(x),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(x);const A=new ArrayBuffer(x.length),O=new Uint8Array(A);for(let ne=0;ne<x.length;ne++)O[ne]=x.charCodeAt(ne);return O}(x),O=yield crypto.subtle.digest("SHA-256",A);return Array.from(new Uint8Array(O)).map(ce=>ce.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}class zt extends De.aB{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(A=>{this.resolveInialized=A})}addPassiveListener(A){this.passiveListeners.add(A)}removePassiveListener(A){this.passiveListeners.delete(A)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(A){return this.resolveInialized(),this.passiveListeners.forEach(O=>O(A)),super.onEvent(A)}initialized(){var A=this;return(0,c.Z)(function*(){yield A.initPromise})()}}function tt(x){return se.apply(this,arguments)}function se(){return(se=(0,c.Z)(function*(x){const A=yield tn()._get(dn(x));return A&&(yield tn()._remove(dn(x))),A})).apply(this,arguments)}function Tt(){const x=[];for(let O=0;O<20;O++){const ne=Math.floor(62*Math.random());x.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(ne))}return x.join("")}function tn(){return(0,De.aC)(De.b)}function dn(x){return(0,De.aD)("authEvent",x.config.apiKey,x.name)}function wt(x){if(null==x||!x.includes("?"))return{};const[A,...O]=x.split("?");return(0,ze.zd)(O.join("?"))}const Je=class ft{constructor(){this._redirectPersistence=De.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=De.aE,this._overrideRedirectResult=De.aF}_initialize(A){var O=this;return(0,c.Z)(function*(){const ne=A._key();let ce=O.eventManagers.get(ne);return ce||(ce=new zt(A),O.eventManagers.set(ne,ce),O.attachCallbackListeners(A,ce)),ce})()}_openPopup(A){(0,De.av)(A,"operation-not-supported-in-this-environment")}_openRedirect(A,O,ne,ce){var me=this;return(0,c.Z)(function*(){!function nt(x){var A,O,ne,ce,me,Ve,Be,jt,Lt,fn;const Wt=$e();(0,De.aA)("function"==typeof(null===(A=null==Wt?void 0:Wt.universalLinks)||void 0===A?void 0:A.subscribe),x,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,De.aA)(typeof(null===(O=null==Wt?void 0:Wt.BuildInfo)||void 0===O?void 0:O.packageName)<"u",x,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,De.aA)("function"==typeof(null===(me=null===(ce=null===(ne=null==Wt?void 0:Wt.cordova)||void 0===ne?void 0:ne.plugins)||void 0===ce?void 0:ce.browsertab)||void 0===me?void 0:me.openUrl),x,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,De.aA)("function"==typeof(null===(jt=null===(Be=null===(Ve=null==Wt?void 0:Wt.cordova)||void 0===Ve?void 0:Ve.plugins)||void 0===Be?void 0:Be.browsertab)||void 0===jt?void 0:jt.isAvailable),x,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,De.aA)("function"==typeof(null===(fn=null===(Lt=null==Wt?void 0:Wt.cordova)||void 0===Lt?void 0:Lt.InAppBrowser)||void 0===fn?void 0:fn.open),x,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(A);const Ve=yield me._initialize(A);yield Ve.initialized(),Ve.resetRedirect(),(0,De.aG)(),yield me._originValidation(A);const Be=function Jt(x,A,O=null){return{type:A,eventId:O,urlResponse:null,sessionId:Tt(),postBody:null,tenantId:x.tenantId,error:(0,De.az)(x,"no-auth-event")}}(A,ne,ce);yield function Yt(x,A){return tn()._set(dn(x),A)}(A,Be);const jt=yield function Ue(x,A,O){return Re.apply(this,arguments)}(A,Be,O),Lt=yield function Qe(x){const{cordova:A}=$e();return new Promise(O=>{A.plugins.browsertab.isAvailable(ne=>{let ce=null;ne?A.plugins.browsertab.openUrl(x):ce=A.InAppBrowser.open(x,(0,De.ay)()?"_blank":"_system","location=yes"),O(ce)})})}(jt);return function At(x,A,O){return an.apply(this,arguments)}(A,Ve,Lt)})()}_isIframeWebStorageSupported(A,O){throw new Error("Method not implemented.")}_originValidation(A){const O=A._key();return this.originValidationPromises[O]||(this.originValidationPromises[O]=function Xe(x){return Le.apply(this,arguments)}(A)),this.originValidationPromises[O]}attachCallbackListeners(A,O){const{universalLinks:ne,handleOpenURL:ce,BuildInfo:me}=$e(),Ve=setTimeout((0,c.Z)(function*(){yield tt(A),O.onEvent(Et())}),500),Be=function(){var fn=(0,c.Z)(function*(Wt){clearTimeout(Ve);const en=yield tt(A);let In=null;en&&null!=Wt&&Wt.url&&(In=function Vt(x,A){var O,ne;const ce=function et(x){const A=wt(x),O=A.link?decodeURIComponent(A.link):void 0,ne=wt(O).link,ce=A.deep_link_id?decodeURIComponent(A.deep_link_id):void 0;return wt(ce).link||ce||ne||O||x}(A);if(ce.includes("/__/auth/callback")){const me=wt(ce),Ve=me.firebaseError?function ct(x){try{return JSON.parse(x)}catch{return null}}(decodeURIComponent(me.firebaseError)):null,Be=null===(ne=null===(O=null==Ve?void 0:Ve.code)||void 0===O?void 0:O.split("auth/"))||void 0===ne?void 0:ne[1],jt=Be?(0,De.az)(Be):null;return jt?{type:x.type,eventId:x.eventId,tenantId:x.tenantId,error:jt,urlResponse:null,sessionId:null,postBody:null}:{type:x.type,eventId:x.eventId,tenantId:x.tenantId,sessionId:x.sessionId,urlResponse:ce,postBody:null}}return null}(en,Wt.url)),O.onEvent(In||Et())});return function(en){return fn.apply(this,arguments)}}();typeof ne<"u"&&"function"==typeof ne.subscribe&&ne.subscribe(null,Be);const jt=ce,Lt=`${me.packageName.toLowerCase()}://`;$e().handleOpenURL=function(){var fn=(0,c.Z)(function*(Wt){if(Wt.toLowerCase().startsWith(Lt)&&Be({url:Wt}),"function"==typeof jt)try{jt(Wt)}catch(en){console.error(en)}});return function(Wt){return fn.apply(this,arguments)}}()}};function Et(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,De.az)("no-auth-event")}}function li(){var x;return(null===(x=null==self?void 0:self.location)||void 0===x?void 0:x.protocol)||null}function Nt(x=(0,ze.z$)()){return!("file:"!==li()&&"ionic:"!==li()&&"capacitor:"!==li()||!x.toLowerCase().match(/iphone|ipad|ipod|android/))}function Vi(){try{const x=self.localStorage,A=De.aL();if(x)return x.setItem(A,"1"),x.removeItem(A),!function Di(x=(0,ze.z$)()){return function Vn(){return(0,ze.w1)()&&11===(null==document?void 0:document.documentMode)}()||function Ti(x=(0,ze.z$)()){return/Edge\/\d+/.test(x)}(x)}()||(0,ze.hl)()}catch{return Xn()&&(0,ze.hl)()}return!1}function Xn(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Ai(){return(function Dn(){return"http:"===li()||"https:"===li()}()||(0,ze.ru)()||Nt())&&!function On(){return(0,ze.b$)()||(0,ze.UG)()}()&&Vi()&&!Xn()}function Ni(){return Nt()&&typeof document<"u"}function fr(){return(fr=(0,c.Z)(function*(){return!!Ni()&&new Promise(x=>{const A=setTimeout(()=>{x(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(A),x(!0)})})})).apply(this,arguments)}const ii={LOCAL:"local",NONE:"none",SESSION:"session"},kr=De.aA,Ar="persistence";function ps(x){return Xr.apply(this,arguments)}function Xr(){return(Xr=(0,c.Z)(function*(x){yield x._initializationPromise;const A=Mi(),O=De.aD(Ar,x.config.apiKey,x.name);A&&A.setItem(O,x._getPersistence())})).apply(this,arguments)}function Mi(){var x;try{return(null===(x=function Ui(){return typeof window<"u"?window:null}())||void 0===x?void 0:x.sessionStorage)||null}catch{return null}}const Zi=De.aA;class Qr{constructor(){this.browserResolver=De.aC(De.k),this.cordovaResolver=De.aC(Je),this.underlyingResolver=null,this._redirectPersistence=De.a,this._completeRedirectFn=De.aE,this._overrideRedirectResult=De.aF}_initialize(A){var O=this;return(0,c.Z)(function*(){return yield O.selectUnderlyingResolver(),O.assertedUnderlyingResolver._initialize(A)})()}_openPopup(A,O,ne,ce){var me=this;return(0,c.Z)(function*(){return yield me.selectUnderlyingResolver(),me.assertedUnderlyingResolver._openPopup(A,O,ne,ce)})()}_openRedirect(A,O,ne,ce){var me=this;return(0,c.Z)(function*(){return yield me.selectUnderlyingResolver(),me.assertedUnderlyingResolver._openRedirect(A,O,ne,ce)})()}_isIframeWebStorageSupported(A,O){this.assertedUnderlyingResolver._isIframeWebStorageSupported(A,O)}_originValidation(A){return this.assertedUnderlyingResolver._originValidation(A)}get _shouldInitProactively(){return Ni()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Zi(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var A=this;return(0,c.Z)(function*(){if(A.underlyingResolver)return;const O=yield function rr(){return fr.apply(this,arguments)}();A.underlyingResolver=O?A.cordovaResolver:A.browserResolver})()}}function Jr(x){return x.unwrap()}function jr(x){return tr(x)}function tr(x){const{_tokenResponse:A}=x instanceof ze.ZR?x.customData:x;if(!A)return null;if(!(x instanceof ze.ZR)&&"temporaryProof"in A&&"phoneNumber"in A)return De.P.credentialFromResult(x);const O=A.providerId;if(!O||O===De.p.PASSWORD)return null;let ne;switch(O){case De.p.GOOGLE:ne=De.V;break;case De.p.FACEBOOK:ne=De.U;break;case De.p.GITHUB:ne=De.W;break;case De.p.TWITTER:ne=De.Z;break;default:const{oauthIdToken:ce,oauthAccessToken:me,oauthTokenSecret:Ve,pendingToken:Be,nonce:jt}=A;return me||Ve||ce||Be?Be?O.startsWith("saml.")?De.aO._create(O,Be):De.L._fromParams({providerId:O,signInMethod:O,pendingToken:Be,idToken:ce,accessToken:me}):new De.X(O).credential({idToken:ce,accessToken:me,rawNonce:jt}):null}return x instanceof ze.ZR?ne.credentialFromError(x):ne.credentialFromResult(x)}function Hi(x,A){return A.catch(O=>{throw O instanceof ze.ZR&&function ns(x,A){var O;const ne=null===(O=A.customData)||void 0===O?void 0:O._tokenResponse;if("auth/multi-factor-auth-required"===(null==A?void 0:A.code))A.resolver=new zn(x,De.aq(x,A));else if(ne){const ce=tr(A),me=A;ce&&(me.credential=ce,me.tenantId=ne.tenantId||void 0,me.email=ne.email||void 0,me.phoneNumber=ne.phoneNumber||void 0)}}(x,O),O}).then(O=>{const ce=O.user;return{operationType:O.operationType,credential:jr(O),additionalUserInfo:De.ao(O),user:Ge.getOrCreate(ce)}})}function is(x,A){return nr.apply(this,arguments)}function nr(){return(nr=(0,c.Z)(function*(x,A){const O=yield A;return{verificationId:O.verificationId,confirm:ne=>Hi(x,O.confirm(ne))}})).apply(this,arguments)}class zn{constructor(A,O){this.resolver=O,this.auth=function Ir(x){return x.wrapped()}(A)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(A){return Hi(Jr(this.auth),this.resolver.resolveSignIn(A))}}class Ge{constructor(A){this._delegate=A,this.multiFactor=De.ar(A)}static getOrCreate(A){return Ge.USER_MAP.has(A)||Ge.USER_MAP.set(A,new Ge(A)),Ge.USER_MAP.get(A)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(A){return this._delegate.getIdTokenResult(A)}getIdToken(A){return this._delegate.getIdToken(A)}linkAndRetrieveDataWithCredential(A){return this.linkWithCredential(A)}linkWithCredential(A){var O=this;return(0,c.Z)(function*(){return Hi(O.auth,De.a0(O._delegate,A))})()}linkWithPhoneNumber(A,O){var ne=this;return(0,c.Z)(function*(){return is(ne.auth,De.l(ne._delegate,A,O))})()}linkWithPopup(A){var O=this;return(0,c.Z)(function*(){return Hi(O.auth,De.d(O._delegate,A,Qr))})()}linkWithRedirect(A){var O=this;return(0,c.Z)(function*(){return yield ps(De.aH(O.auth)),De.g(O._delegate,A,Qr)})()}reauthenticateAndRetrieveDataWithCredential(A){return this.reauthenticateWithCredential(A)}reauthenticateWithCredential(A){var O=this;return(0,c.Z)(function*(){return Hi(O.auth,De.a1(O._delegate,A))})()}reauthenticateWithPhoneNumber(A,O){return is(this.auth,De.r(this._delegate,A,O))}reauthenticateWithPopup(A){return Hi(this.auth,De.e(this._delegate,A,Qr))}reauthenticateWithRedirect(A){var O=this;return(0,c.Z)(function*(){return yield ps(De.aH(O.auth)),De.h(O._delegate,A,Qr)})()}sendEmailVerification(A){return De.ae(this._delegate,A)}unlink(A){var O=this;return(0,c.Z)(function*(){return yield De.an(O._delegate,A),O})()}updateEmail(A){return De.aj(this._delegate,A)}updatePassword(A){return De.ak(this._delegate,A)}updatePhoneNumber(A){return De.u(this._delegate,A)}updateProfile(A){return De.ai(this._delegate,A)}verifyBeforeUpdateEmail(A,O){return De.af(this._delegate,A,O)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Ge.USER_MAP=new WeakMap;const Mt=De.aA;let _n=(()=>{class x{constructor(O,ne){if(this.app=O,ne.isInitialized())return this._delegate=ne.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:ce}=O.options;Mt(ce,"invalid-api-key",{appName:O.name}),Mt(ce,"invalid-api-key",{appName:O.name});const me=typeof window<"u"?Qr:void 0;this._delegate=ne.initialize({options:{persistence:mi(ce,O.name),popupRedirectResolver:me}}),this._delegate._updateErrorMap(De.D),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Ge.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(O){this._delegate.languageCode=O}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(O){this._delegate.tenantId=O}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(O,ne){De.I(this._delegate,O,ne)}applyActionCode(O){return De.a5(this._delegate,O)}checkActionCode(O){return De.a6(this._delegate,O)}confirmPasswordReset(O,ne){return De.a4(this._delegate,O,ne)}createUserWithEmailAndPassword(O,ne){var ce=this;return(0,c.Z)(function*(){return Hi(ce._delegate,De.a8(ce._delegate,O,ne))})()}fetchProvidersForEmail(O){return this.fetchSignInMethodsForEmail(O)}fetchSignInMethodsForEmail(O){return De.ad(this._delegate,O)}isSignInWithEmailLink(O){return De.ab(this._delegate,O)}getRedirectResult(){var O=this;return(0,c.Z)(function*(){Mt(Ai(),O._delegate,"operation-not-supported-in-this-environment");const ne=yield De.j(O._delegate,Qr);return ne?Hi(O._delegate,Promise.resolve(ne)):{credential:null,user:null}})()}addFrameworkForLogging(O){!function vn(x,A){(0,De.aH)(x)._logFramework(A)}(this._delegate,O)}onAuthStateChanged(O,ne,ce){const{next:me,error:Ve,complete:Be}=Gn(O,ne,ce);return this._delegate.onAuthStateChanged(me,Ve,Be)}onIdTokenChanged(O,ne,ce){const{next:me,error:Ve,complete:Be}=Gn(O,ne,ce);return this._delegate.onIdTokenChanged(me,Ve,Be)}sendSignInLinkToEmail(O,ne){return De.aa(this._delegate,O,ne)}sendPasswordResetEmail(O,ne){return De.a3(this._delegate,O,ne||void 0)}setPersistence(O){var ne=this;return(0,c.Z)(function*(){let ce;switch(function Li(x,A){kr(Object.values(ii).includes(A),x,"invalid-persistence-type"),(0,ze.b$)()?kr(A!==ii.SESSION,x,"unsupported-persistence-type"):(0,ze.UG)()?kr(A===ii.NONE,x,"unsupported-persistence-type"):Xn()?kr(A===ii.NONE||A===ii.LOCAL&&(0,ze.hl)(),x,"unsupported-persistence-type"):kr(A===ii.NONE||Vi(),x,"unsupported-persistence-type")}(ne._delegate,O),O){case ii.SESSION:ce=De.a;break;case ii.LOCAL:ce=(yield De.aC(De.i)._isAvailable())?De.i:De.b;break;case ii.NONE:ce=De.N;break;default:return De.av("argument-error",{appName:ne._delegate.name})}return ne._delegate.setPersistence(ce)})()}signInAndRetrieveDataWithCredential(O){return this.signInWithCredential(O)}signInAnonymously(){return Hi(this._delegate,De._(this._delegate))}signInWithCredential(O){return Hi(this._delegate,De.$(this._delegate,O))}signInWithCustomToken(O){return Hi(this._delegate,De.a2(this._delegate,O))}signInWithEmailAndPassword(O,ne){return Hi(this._delegate,De.a9(this._delegate,O,ne))}signInWithEmailLink(O,ne){return Hi(this._delegate,De.ac(this._delegate,O,ne))}signInWithPhoneNumber(O,ne){return is(this._delegate,De.s(this._delegate,O,ne))}signInWithPopup(O){var ne=this;return(0,c.Z)(function*(){return Mt(Ai(),ne._delegate,"operation-not-supported-in-this-environment"),Hi(ne._delegate,De.c(ne._delegate,O,Qr))})()}signInWithRedirect(O){var ne=this;return(0,c.Z)(function*(){return Mt(Ai(),ne._delegate,"operation-not-supported-in-this-environment"),yield ps(ne._delegate),De.f(ne._delegate,O,Qr)})()}updateCurrentUser(O){return this._delegate.updateCurrentUser(O)}verifyPasswordResetCode(O){return De.a7(this._delegate,O)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return x.Persistence=ii,x})();function Gn(x,A,O){let ne=x;"function"!=typeof x&&({next:ne,error:A,complete:O}=x);const ce=ne;return{next:Ve=>ce(Ve&&Ge.getOrCreate(Ve)),error:A,complete:O}}function mi(x,A){const O=function Bi(x,A){const O=Mi();if(!O)return[];const ne=De.aD(Ar,x,A);switch(O.getItem(ne)){case ii.NONE:return[De.N];case ii.LOCAL:return[De.i,De.a];case ii.SESSION:return[De.a];default:return[]}}(x,A);if(typeof self<"u"&&!O.includes(De.i)&&O.push(De.i),typeof window<"u")for(const ne of[De.b,De.a])O.includes(ne)||O.push(ne);return O.includes(De.N)||O.push(De.N),O}class Dr{constructor(){this.providerId="phone",this._delegate=new De.P(Jr(y.Z.auth()))}static credential(A,O){return De.P.credential(A,O)}verifyPhoneNumber(A,O){return this._delegate.verifyPhoneNumber(A,O)}unwrap(){return this._delegate}}Dr.PHONE_SIGN_IN_METHOD=De.P.PHONE_SIGN_IN_METHOD,Dr.PROVIDER_ID=De.P.PROVIDER_ID;const pr=De.aA;class sr{constructor(A,O,ne=y.Z.app()){var ce;pr(null===(ce=ne.options)||void 0===ce?void 0:ce.apiKey,"invalid-api-key",{appName:ne.name}),this._delegate=new De.R(A,O,ne.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function B(x){x.INTERNAL.registerComponent(new be.wA("auth-compat",A=>{const O=A.getProvider("app-compat").getImmediate(),ne=A.getProvider("auth");return new _n(O,ne)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:De.A.EMAIL_SIGNIN,PASSWORD_RESET:De.A.PASSWORD_RESET,RECOVER_EMAIL:De.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:De.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:De.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:De.A.VERIFY_EMAIL}},EmailAuthProvider:De.Q,FacebookAuthProvider:De.U,GithubAuthProvider:De.W,GoogleAuthProvider:De.V,OAuthProvider:De.X,SAMLAuthProvider:De.Y,PhoneAuthProvider:Dr,PhoneMultiFactorGenerator:De.m,RecaptchaVerifier:sr,TwitterAuthProvider:De.Z,Auth:_n,AuthCredential:De.J,Error:ze.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),x.registerVersion("@firebase/auth-compat","0.4.2")}(y.Z)},4208:(Ii,ln,Y)=>{"use strict";Y.d(ln,{jh:()=>rl,vQ:()=>Zl});var c=Y(2223),y=Y(3192),De=Y(1086),ze=Y(1135),dt=Y(1884);const Ke=function $e(_t,Tn){return _t===Tn||_t!=_t&&Tn!=Tn},Re=function Ue(_t,Tn){for(var An=_t.length;An--;)if(Ke(_t[An][0],Tn))return An;return-1};var Le=Array.prototype.splice;function zt(_t){var Tn=-1,An=null==_t?0:_t.length;for(this.clear();++Tn<An;){var er=_t[Tn];this.set(er[0],er[1])}}zt.prototype.clear=function Ye(){this.__data__=[],this.size=0},zt.prototype.delete=function Qe(_t){var Tn=this.__data__,An=Re(Tn,_t);return!(An<0||(An==Tn.length-1?Tn.pop():Le.call(Tn,An,1),--this.size,0))},zt.prototype.get=function an(_t){var Tn=this.__data__,An=Re(Tn,_t);return An<0?void 0:Tn[An][1]},zt.prototype.has=function Ze(_t){return Re(this.__data__,_t)>-1},zt.prototype.set=function It(_t,Tn){var An=this.__data__,er=Re(An,_t);return er<0?(++this.size,An.push([_t,Tn])):An[er][1]=Tn,this};const Jt=zt,wt="object"==typeof global&&global&&global.Object===Object&&global;var Ot="object"==typeof self&&self&&self.Object===Object&&self;const Je=wt||Ot||Function("return this")();var Et=Je.Symbol,qt=Object.prototype,xn=qt.hasOwnProperty,Gt=qt.toString,li=Et?Et.toStringTag:void 0;var Vn=Object.prototype.toString;var Ai=Et?Et.toStringTag:void 0;const rr=function Ni(_t){return null==_t?void 0===_t?"[object Undefined]":"[object Null]":Ai&&Ai in Object(_t)?function Dn(_t){var Tn=xn.call(_t,li),An=_t[li];try{_t[li]=void 0;var er=!0}catch{}var xs=Gt.call(_t);return er&&(Tn?_t[li]=An:delete _t[li]),xs}(_t):function Ti(_t){return Vn.call(_t)}(_t)},Ui=function fr(_t){var Tn=typeof _t;return null!=_t&&("object"==Tn||"function"==Tn)},Xr=function ps(_t){if(!Ui(_t))return!1;var Tn=rr(_t);return"[object Function]"==Tn||"[object GeneratorFunction]"==Tn||"[object AsyncFunction]"==Tn||"[object Proxy]"==Tn};var _t,Bi=Je["__core-js_shared__"],Zi=(_t=/[^.]+$/.exec(Bi&&Bi.keys&&Bi.keys.IE_PROTO||""))?"Symbol(src)_1."+_t:"";var jr=Function.prototype.toString;var is=/^\[object .+?Constructor\]$/,_n=RegExp("^"+Function.prototype.toString.call(Object.prototype.hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");const mi=function Gn(_t){return!(!Ui(_t)||function Qr(_t){return!!Zi&&Zi in _t}(_t))&&(Xr(_t)?_n:is).test(function ns(_t){if(null!=_t){try{return jr.call(_t)}catch{}try{return _t+""}catch{}}return""}(_t))},Pt=function sr(_t,Tn){var An=function Dr(_t,Tn){return null==_t?void 0:_t[Tn]}(_t,Tn);return mi(An)?An:void 0},x=Pt(Je,"Map"),O=Pt(Object,"create");var Lt=Object.prototype.hasOwnProperty;var In=Object.prototype.hasOwnProperty;function ti(_t){var Tn=-1,An=null==_t?0:_t.length;for(this.clear();++Tn<An;){var er=_t[Tn];this.set(er[0],er[1])}}ti.prototype.clear=function ne(){this.__data__=O?O(null):{},this.size=0},ti.prototype.delete=function me(_t){var Tn=this.has(_t)&&delete this.__data__[_t];return this.size-=Tn?1:0,Tn},ti.prototype.get=function fn(_t){var Tn=this.__data__;if(O){var An=Tn[_t];return"__lodash_hash_undefined__"===An?void 0:An}return Lt.call(Tn,_t)?Tn[_t]:void 0},ti.prototype.has=function Ut(_t){var Tn=this.__data__;return O?void 0!==Tn[_t]:In.call(Tn,_t)},ti.prototype.set=function Yn(_t,Tn){var An=this.__data__;return this.size+=this.has(_t)?0:1,An[_t]=O&&void 0===Tn?"__lodash_hash_undefined__":Tn,this};const $i=ti,mr=function Wi(_t,Tn){var An=_t.__data__;return function Ki(_t){var Tn=typeof _t;return"string"==Tn||"number"==Tn||"symbol"==Tn||"boolean"==Tn?"__proto__"!==_t:null===_t}(Tn)?An["string"==typeof Tn?"string":"hash"]:An.map};function Zs(_t){var Tn=-1,An=null==_t?0:_t.length;for(this.clear();++Tn<An;){var er=_t[Tn];this.set(er[0],er[1])}}Zs.prototype.clear=function Sr(){this.size=0,this.__data__={hash:new $i,map:new(x||Jt),string:new $i}},Zs.prototype.delete=function Hr(_t){var Tn=mr(this,_t).delete(_t);return this.size-=Tn?1:0,Tn},Zs.prototype.get=function rs(_t){return mr(this,_t).get(_t)},Zs.prototype.has=function ws(_t){return mr(this,_t).has(_t)},Zs.prototype.set=function uo(_t,Tn){var An=mr(this,_t),er=An.size;return An.set(_t,Tn),this.size+=An.size==er?0:1,this};const ho=Zs;function Me(_t){var Tn=this.__data__=new Jt(_t);this.size=Tn.size}Me.prototype.clear=function Yt(){this.__data__=new Jt,this.size=0},Me.prototype.delete=function se(_t){var Tn=this.__data__,An=Tn.delete(_t);return this.size=Tn.size,An},Me.prototype.get=function Tt(_t){return this.__data__.get(_t)},Me.prototype.has=function dn(_t){return this.__data__.has(_t)},Me.prototype.set=function Ce(_t,Tn){var An=this.__data__;if(An instanceof Jt){var er=An.__data__;if(!x||er.length<199)return er.push([_t,Tn]),this.size=++An.size,this;An=this.__data__=new ho(er)}return An.set(_t,Tn),this.size=An.size,this};const he=Me;var Ae=function(){try{var _t=Pt(Object,"defineProperty");return _t({},"",{}),_t}catch{}}();const St=Ae,mn=function Kt(_t,Tn,An){"__proto__"==Tn&&St?St(_t,Tn,{configurable:!0,enumerable:!0,value:An,writable:!0}):_t[Tn]=An},yi=function Mn(_t,Tn,An){(void 0!==An&&!Ke(_t[Tn],An)||void 0===An&&!(Tn in _t))&&mn(_t,Tn,An)};var $r=function bi(_t){return function(Tn,An,er){for(var xs=-1,Rs=Object(Tn),Ys=er(Tn),Ws=Ys.length;Ws--;){var ks=Ys[_t?Ws:++xs];if(!1===An(Rs[ks],ks,Rs))break}return Tn}}();const Xs=$r;var Ks="object"==typeof exports&&exports&&!exports.nodeType&&exports,vs=Ks&&"object"==typeof module&&module&&!module.nodeType&&module,ri=vs&&vs.exports===Ks?Je.Buffer:void 0,vr=ri?ri.allocUnsafe:void 0;const js=Je.Uint8Array,Cs=function Mr(_t,Tn){var An=Tn?function Qo(_t){var Tn=new _t.constructor(_t.byteLength);return new js(Tn).set(new js(_t)),Tn}(_t.buffer):_t.buffer;return new _t.constructor(An,_t.byteOffset,_t.length)};var Gs=Object.create,as=function(){function _t(){}return function(Tn){if(!Ui(Tn))return{};if(Gs)return Gs(Tn);_t.prototype=Tn;var An=new _t;return _t.prototype=void 0,An}}();const Vs=as;var vo=function zo(_t,Tn){return function(An){return _t(Tn(An))}}(Object.getPrototypeOf,Object);const ea=vo;var ia=Object.prototype;const xo=function ra(_t){var Tn=_t&&_t.constructor;return _t===("function"==typeof Tn&&Tn.prototype||ia)},Pa=function _s(_t){return null!=_t&&"object"==typeof _t},no=function ms(_t){return Pa(_t)&&"[object Arguments]"==rr(_t)};var No=Object.prototype,ta=No.hasOwnProperty,Po=No.propertyIsEnumerable,fo=no(function(){return arguments}())?no:function(_t){return Pa(_t)&&ta.call(_t,"callee")&&!Po.call(_t,"callee")};const jo=fo,bs=Array.isArray,Ho=function aa(_t){return"number"==typeof _t&&_t>-1&&_t%1==0&&_t<=9007199254740991},Se=function F(_t){return null!=_t&&Ho(_t.length)&&!Xr(_t)};var Yi="object"==typeof exports&&exports&&!exports.nodeType&&exports,Tr=Yi&&"object"==typeof module&&module&&!module.nodeType&&module,Ms=Tr&&Tr.exports===Yi?Je.Buffer:void 0;const Bs=(Ms?Ms.isBuffer:void 0)||function ut(){return!1};var Hs=Function.prototype.toString,da=Object.prototype.hasOwnProperty,ys=Hs.call(Object);var hs={};hs["[object Float32Array]"]=hs["[object Float64Array]"]=hs["[object Int8Array]"]=hs["[object Int16Array]"]=hs["[object Int32Array]"]=hs["[object Uint8Array]"]=hs["[object Uint8ClampedArray]"]=hs["[object Uint16Array]"]=hs["[object Uint32Array]"]=!0,hs["[object Arguments]"]=hs["[object Array]"]=hs["[object ArrayBuffer]"]=hs["[object Boolean]"]=hs["[object DataView]"]=hs["[object Date]"]=hs["[object Error]"]=hs["[object Function]"]=hs["[object Map]"]=hs["[object Number]"]=hs["[object Object]"]=hs["[object RegExp]"]=hs["[object Set]"]=hs["[object String]"]=hs["[object WeakMap]"]=!1;var ja="object"==typeof exports&&exports&&!exports.nodeType&&exports,Oa=ja&&"object"==typeof module&&module&&!module.nodeType&&module,Za=Oa&&Oa.exports===ja&&wt.process,Ea=function(){try{return Oa&&Oa.require&&Oa.require("util").types||Za&&Za.binding&&Za.binding("util")}catch{}}(),so=Ea&&Ea.isTypedArray;const nl=so?function va(_t){return function(Tn){return _t(Tn)}}(so):function lo(_t){return Pa(_t)&&Ho(_t.length)&&!!hs[rr(_t)]},ul=function Bo(_t,Tn){if(("constructor"!==Tn||"function"!=typeof _t[Tn])&&"__proto__"!=Tn)return _t[Tn]};var ie=Object.prototype.hasOwnProperty;const Fe=function pe(_t,Tn,An){var er=_t[Tn];(!ie.call(_t,Tn)||!Ke(er,An)||void 0===An&&!(Tn in _t))&&mn(_t,Tn,An)};var ui=/^(?:0|[1-9]\d*)$/;const Lr=function Fi(_t,Tn){var An=typeof _t;return!!(Tn=null==Tn?9007199254740991:Tn)&&("number"==An||"symbol"!=An&&ui.test(_t))&&_t>-1&&_t%1==0&&_t<Tn};var Qs=Object.prototype.hasOwnProperty;const ee=function oo(_t,Tn){var An=bs(_t),er=!An&&jo(_t),xs=!An&&!er&&Bs(_t),Rs=!An&&!er&&!xs&&nl(_t),Ys=An||er||xs||Rs,Ws=Ys?function nn(_t,Tn){for(var An=-1,er=Array(_t);++An<_t;)er[An]=Tn(An);return er}(_t.length,String):[],ks=Ws.length;for(var Ca in _t)(Tn||Qs.call(_t,Ca))&&(!Ys||!("length"==Ca||xs&&("offset"==Ca||"parent"==Ca)||Rs&&("buffer"==Ca||"byteLength"==Ca||"byteOffset"==Ca)||Lr(Ca,ks)))&&Ws.push(Ca);return Ws};var Ft=Object.prototype.hasOwnProperty;const ai=function Fn(_t){if(!Ui(_t))return function ve(_t){var Tn=[];if(null!=_t)for(var An in Object(_t))Tn.push(An);return Tn}(_t);var Tn=xo(_t),An=[];for(var er in _t)"constructor"==er&&(Tn||!Ft.call(_t,er))||An.push(er);return An},Xi=function Gr(_t){return Se(_t)?ee(_t,!0):ai(_t)},Yr=function Os(_t){return function it(_t,Tn,An,er){var xs=!An;An||(An={});for(var Rs=-1,Ys=Tn.length;++Rs<Ys;){var Ws=Tn[Rs],ks=er?er(An[Ws],_t[Ws],Ws,An,_t):void 0;void 0===ks&&(ks=_t[Ws]),xs?mn(An,Ws,ks):Fe(An,Ws,ks)}return An}(_t,Xi(_t))},Js=function Is(_t,Tn,An,er,xs,Rs,Ys){var Ws=ul(_t,An),ks=ul(Tn,An),Ca=Ys.get(ks);if(Ca)yi(_t,An,Ca);else{var $a=Rs?Rs(Ws,ks,An+"",_t,Tn,Ys):void 0,Bn=void 0===$a;if(Bn){var vl=bs(ks),Ha=!vl&&Bs(ks),Jl=!vl&&!Ha&&nl(ks);$a=ks,vl||Ha||Jl?bs(Ws)?$a=Ws:function $(_t){return Pa(_t)&&Se(_t)}(Ws)?$a=function Nr(_t,Tn){var An=-1,er=_t.length;for(Tn||(Tn=Array(er));++An<er;)Tn[An]=_t[An];return Tn}(Ws):Ha?(Bn=!1,$a=function _r(_t,Tn){if(Tn)return _t.slice();var An=_t.length,er=vr?vr(An):new _t.constructor(An);return _t.copy(er),er}(ks,!0)):Jl?(Bn=!1,$a=Cs(ks,!0)):$a=[]:function ya(_t){if(!Pa(_t)||"[object Object]"!=rr(_t))return!1;var Tn=ea(_t);if(null===Tn)return!0;var An=da.call(Tn,"constructor")&&Tn.constructor;return"function"==typeof An&&An instanceof An&&Hs.call(An)==ys}(ks)||jo(ks)?($a=Ws,jo(Ws)?$a=Yr(Ws):(!Ui(Ws)||Xr(Ws))&&($a=function Fa(_t){return"function"!=typeof _t.constructor||xo(_t)?{}:Vs(ea(_t))}(ks))):Bn=!1}Bn&&(Ys.set(ks,$a),xs($a,ks,er,Rs,Ys),Ys.delete(ks)),yi(_t,An,$a)}},Yo=function eo(_t,Tn,An,er,xs){_t!==Tn&&Xs(Tn,function(Rs,Ys){if(xs||(xs=new he),Ui(Rs))Js(_t,Tn,Ys,An,eo,er,xs);else{var Ws=er?er(ul(_t,Ys),Rs,Ys+"",_t,Tn,xs):void 0;void 0===Ws&&(Ws=Rs),yi(_t,Ys,Ws)}},Xi)},Ts=function wi(_t){return _t};var gr=Math.max;const Zn=function fi(_t){return function(){return _t}};var Ri=St?function(_t,Tn){return St(_t,"toString",{configurable:!0,enumerable:!1,value:Zn(Tn),writable:!0})}:Ts,Tl=Date.now,Sa=function ql(_t){var Tn=0,An=0;return function(){var er=Tl(),xs=16-(er-An);if(An=er,xs>0){if(++Tn>=800)return arguments[0]}else Tn=0;return _t.apply(void 0,arguments)}}(Ri);const ml=Sa,go=function Nl(_t,Tn){return ml(function zr(_t,Tn,An){return Tn=gr(void 0===Tn?_t.length-1:Tn,0),function(){for(var er=arguments,xs=-1,Rs=gr(er.length-Tn,0),Ys=Array(Rs);++xs<Rs;)Ys[xs]=er[Tn+xs];xs=-1;for(var Ws=Array(Tn+1);++xs<Tn;)Ws[xs]=er[xs];return Ws[Tn]=An(Ys),function fa(_t,Tn,An){switch(An.length){case 0:return _t.call(Tn);case 1:return _t.call(Tn,An[0]);case 2:return _t.call(Tn,An[0],An[1]);case 3:return _t.call(Tn,An[0],An[1],An[2])}return _t.apply(Tn,An)}(_t,this,Ws)}}(_t,Tn,Ts),_t+"")};var oc=function As(_t){return go(function(Tn,An){var er=-1,xs=An.length,Rs=xs>1?An[xs-1]:void 0,Ys=xs>2?An[2]:void 0;for(Rs=_t.length>3&&"function"==typeof Rs?(xs--,Rs):void 0,Ys&&function xa(_t,Tn,An){if(!Ui(An))return!1;var er=typeof Tn;return!!("number"==er?Se(An)&&Lr(Tn,An.length):"string"==er&&Tn in An)&&Ke(An[Tn],_t)}(An[0],An[1],Ys)&&(Rs=xs<3?void 0:Rs,xs=1),Tn=Object(Tn);++er<xs;){var Ws=An[er];Ws&&_t(Tn,Ws,er,Rs)}return Tn})}(function(_t,Tn,An){Yo(_t,Tn,An)});const Ko=oc;let Zr=(()=>{class _t{constructor(){this.colorschemesOptions=new ze.X(void 0)}setColorschemesOptions(An){this.pColorschemesOptions=An,this.colorschemesOptions.next(An)}getColorschemesOptions(){return this.pColorschemesOptions}}return _t.\u0275fac=function(An){return new(An||_t)},_t.\u0275prov=c.Yz7({token:_t,factory:_t.\u0275fac,providedIn:"root"}),_t})(),rl=(()=>{class _t{constructor(An,er,xs){this.zone=er,this.themeService=xs,this.type="bar",this.plugins=[],this.chartClick=new c.vpe,this.chartHover=new c.vpe,this.subs=[],this.themeOverrides={},this.ctx=An.nativeElement.getContext("2d"),this.subs.push(this.themeService.colorschemesOptions.pipe((0,dt.x)()).subscribe(Rs=>this.themeChanged(Rs)))}ngOnChanges(An){const er=["type"],xs=Object.getOwnPropertyNames(An);if(xs.some(Rs=>er.includes(Rs))||xs.every(Rs=>An[Rs].isFirstChange()))this.render();else{const Rs=this.getChartConfiguration();this.chart&&(Object.assign(this.chart.config.data,Rs.data),this.chart.config.plugins&&Object.assign(this.chart.config.plugins,Rs.plugins),this.chart.config.options&&Object.assign(this.chart.config.options,Rs.options)),this.update()}}ngOnDestroy(){this.chart&&(this.chart.destroy(),this.chart=void 0),this.subs.forEach(An=>An.unsubscribe())}render(){return this.chart&&this.chart.destroy(),this.zone.runOutsideAngular(()=>this.chart=new y.kL(this.ctx,this.getChartConfiguration()))}update(An){this.chart&&this.zone.runOutsideAngular(()=>{var er;return null===(er=this.chart)||void 0===er?void 0:er.update(An)})}hideDataset(An,er){this.chart&&(this.chart.getDatasetMeta(An).hidden=er,this.update())}isDatasetHidden(An){var er,xs;return null===(er=this.chart)||void 0===er||null===(xs=er.getDatasetMeta(An))||void 0===xs?void 0:xs.hidden}toBase64Image(){var An;return null===(An=this.chart)||void 0===An?void 0:An.toBase64Image()}themeChanged(An){this.themeOverrides=An,this.chart&&(this.chart.config.options&&Object.assign(this.chart.config.options,this.getChartOptions()),this.update())}getChartOptions(){return Ko({onHover:(An,er)=>{var xs;!this.chartHover.observed&&(null===(xs=this.chartHover.observers)||void 0===xs||!xs.length)||this.zone.run(()=>this.chartHover.emit({event:An,active:er}))},onClick:(An,er)=>{var xs;!this.chartClick.observed&&(null===(xs=this.chartClick.observers)||void 0===xs||!xs.length)||this.zone.run(()=>this.chartClick.emit({event:An,active:er}))}},this.themeOverrides,this.options,{plugins:{legend:{display:this.legend}}})}getChartConfiguration(){return{type:this.type,data:this.getChartData(),options:this.getChartOptions(),plugins:this.plugins}}getChartData(){return this.data?this.data:{labels:this.labels||[],datasets:this.datasets||[]}}}return _t.\u0275fac=function(An){return new(An||_t)(c.Y36(c.SBq),c.Y36(c.R0b),c.Y36(Zr))},_t.\u0275dir=c.lG2({type:_t,selectors:[["canvas","baseChart",""]],inputs:{type:"type",legend:"legend",data:"data",options:"options",plugins:"plugins",labels:"labels",datasets:"datasets"},outputs:{chartClick:"chartClick",chartHover:"chartHover"},exportAs:["base-chart"],features:[c.TTD]}),_t})();const zs=[[255,99,132],[54,162,235],[255,206,86],[231,233,237],[75,192,192],[151,187,205],[220,220,220],[247,70,74],[70,191,189],[253,180,92],[148,159,177],[77,83,96]],xl={plugins:{colors:{enabled:!1}},datasets:{line:{backgroundColor:_t=>qs(La(_t.datasetIndex),.4),borderColor:_t=>qs(La(_t.datasetIndex),1),pointBackgroundColor:_t=>qs(La(_t.datasetIndex),1),pointBorderColor:"#fff"},bar:{backgroundColor:_t=>qs(La(_t.datasetIndex),.6),borderColor:_t=>qs(La(_t.datasetIndex),1)},get radar(){return this.line},doughnut:{backgroundColor:_t=>qs(La(_t.dataIndex),.6),borderColor:"#fff"},get pie(){return this.doughnut},polarArea:{backgroundColor:_t=>qs(La(_t.dataIndex),.6),borderColor:_t=>qs(La(_t.dataIndex),1)},get bubble(){return this.doughnut},get scatter(){return this.doughnut},get area(){return this.polarArea}}};function qs(_t,Tn){return"rgba("+_t.concat(Tn).join(",")+")"}function Ji(_t,Tn){return Math.floor(Math.random()*(Tn-_t+1))+_t}function La(_t=0){return zs[_t]||function Ll(){return[Ji(0,255),Ji(0,255),Ji(0,255)]}()}let yl=(()=>{class _t{constructor(){this.generateColors=!0}}return _t.\u0275fac=function(An){return new(An||_t)},_t.\u0275prov=c.Yz7({token:_t,factory:_t.\u0275fac,providedIn:"root"}),_t})();y.kL.register(...y.zX);let Zl=(()=>{class _t{constructor(An){null!=An&&An.plugins&&y.kL.register(...An.plugins);const er=Ko(null!=An&&An.generateColors?xl:{},(null==An?void 0:An.defaults)||{});De.d.set(er)}static forRoot(An){return{ngModule:_t,providers:[{provide:yl,useValue:An}]}}}return _t.\u0275fac=function(An){return new(An||_t)(c.LFG(yl,8))},_t.\u0275mod=c.oAB({type:_t}),_t.\u0275inj=c.cJS({}),_t})()},3856:(Ii,ln,Y)=>{"use strict";Y.d(ln,{g:()=>dt});var c=Y(2357),y=Y(9460);const De=Ye=>{if(parseFloat(Ye)===Number(Ye))return Number(Ye);if("true"===Ye||""===Ye)return!0;if("false"===Ye)return!1;if("null"===Ye)return null;if("undefined"!==Ye){if("string"==typeof Ye&&Ye.includes("{")&&Ye.includes("}")&&Ye.includes('"')){let be;try{be=JSON.parse(Ye)}catch{be=Ye}return be}return Ye}},ze=["a11y","autoplay","controller","cards-effect","coverflow-effect","creative-effect","cube-effect","fade-effect","flip-effect","free-mode","grid","hash-navigation","history","keyboard","mousewheel","navigation","pagination","parallax","scrollbar","thumbs","virtual","zoom"];function dt(Ye,be,$e){const Ke={},Ue={};(0,c.e)(Ke,y.d);const Re=[...c.p,"on"],Xe=Re.map(Qe=>Qe.replace(/_/,""));Re.forEach(Qe=>{Qe=Qe.replace("_",""),typeof Ye[Qe]<"u"&&(Ue[Qe]=Ye[Qe])});const Le=[...Ye.attributes];return"string"==typeof be&&typeof $e<"u"&&Le.push({name:be,value:(0,c.i)($e)?{...$e}:$e}),Le.forEach(Qe=>{const At=ze.filter(an=>0===Qe.name.indexOf(`${an}-`))[0];if(At){const an=(0,c.c)(At),nt=(0,c.c)(Qe.name.split(`${At}-`)[1]);typeof Ue[an]>"u"&&(Ue[an]={}),!0===Ue[an]&&(Ue[an]={enabled:!0}),Ue[an][nt]=De(Qe.value)}else{const an=(0,c.c)(Qe.name);if(!Xe.includes(an))return;const nt=De(Qe.value);Ue[an]&&ze.includes(Qe.name)&&!(0,c.i)(nt)?(Ue[an].constructor!==Object&&(Ue[an]={}),Ue[an].enabled=!!nt):Ue[an]=nt}}),(0,c.e)(Ke,Ue),Ke.navigation?Ke.navigation={prevEl:".swiper-button-prev",nextEl:".swiper-button-next",...!0!==Ke.navigation?Ke.navigation:{}}:!1===Ke.navigation&&delete Ke.navigation,Ke.scrollbar?Ke.scrollbar={el:".swiper-scrollbar",...!0!==Ke.scrollbar?Ke.scrollbar:{}}:!1===Ke.scrollbar&&delete Ke.scrollbar,Ke.pagination?Ke.pagination={el:".swiper-pagination",...!0!==Ke.pagination?Ke.pagination:{}}:!1===Ke.pagination&&delete Ke.pagination,{params:Ke,passedParams:Ue}}},3977:(Ii,ln,Y)=>{"use strict";function c(be){return null!==be&&"object"==typeof be&&"constructor"in be&&be.constructor===Object}function y(be,$e){void 0===be&&(be={}),void 0===$e&&($e={}),Object.keys($e).forEach(Ke=>{typeof be[Ke]>"u"?be[Ke]=$e[Ke]:c($e[Ke])&&c(be[Ke])&&Object.keys($e[Ke]).length>0&&y(be[Ke],$e[Ke])})}Y.d(ln,{a:()=>Ye,g:()=>ze});const De={body:{},addEventListener(){},removeEventListener(){},activeElement:{blur(){},nodeName:""},querySelector:()=>null,querySelectorAll:()=>[],getElementById:()=>null,createEvent:()=>({initEvent(){}}),createElement:()=>({children:[],childNodes:[],style:{},setAttribute(){},getElementsByTagName:()=>[]}),createElementNS:()=>({}),importNode:()=>null,location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function ze(){const be=typeof document<"u"?document:{};return y(be,De),be}const dt={document:De,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState(){},pushState(){},go(){},back(){}},CustomEvent:function(){return this},addEventListener(){},removeEventListener(){},getComputedStyle:()=>({getPropertyValue:()=>""}),Image(){},Date(){},screen:{},setTimeout(){},clearTimeout(){},matchMedia:()=>({}),requestAnimationFrame:be=>typeof setTimeout>"u"?(be(),null):setTimeout(be,0),cancelAnimationFrame(be){typeof setTimeout>"u"||clearTimeout(be)}};function Ye(){const be=typeof window<"u"?window:{};return y(be,dt),be}},9460:(Ii,ln,Y)=>{"use strict";Y.d(ln,{S:()=>Pt,d:()=>mi});var c=Y(3977),y=Y(8209);let De,Ye,Ke;function dt(){return De||(De=function ze(){const B=(0,c.a)(),x=(0,c.g)();return{smoothScroll:x.documentElement&&x.documentElement.style&&"scrollBehavior"in x.documentElement.style,touch:!!("ontouchstart"in B||B.DocumentTouch&&x instanceof B.DocumentTouch)}}()),De}const zt=(B,x)=>{if(!B||B.destroyed||!B.params)return;const O=x.closest(B.isElement?"swiper-slide":`.${B.params.slideClass}`);if(O){let ne=O.querySelector(`.${B.params.lazyPreloaderClass}`);!ne&&B.isElement&&(O.shadowRoot?ne=O.shadowRoot.querySelector(`.${B.params.lazyPreloaderClass}`):requestAnimationFrame(()=>{O.shadowRoot&&(ne=O.shadowRoot.querySelector(`.${B.params.lazyPreloaderClass}`),ne&&ne.remove())})),ne&&ne.remove()}},Jt=(B,x)=>{if(!B.slides[x])return;const A=B.slides[x].querySelector('[loading="lazy"]');A&&A.removeAttribute("loading")},Yt=B=>{if(!B||B.destroyed||!B.params)return;let x=B.params.lazyPreloadPrevNext;const A=B.slides.length;if(!A||!x||x<0)return;x=Math.min(x,A);const O="auto"===B.params.slidesPerView?B.slidesPerViewDynamic():Math.ceil(B.params.slidesPerView),ne=B.activeIndex;if(B.params.grid&&B.params.grid.rows>1){const me=ne,Ve=[me-x];return Ve.push(...Array.from({length:x}).map((Be,jt)=>me+O+jt)),void B.slides.forEach((Be,jt)=>{Ve.includes(Be.column)&&Jt(B,jt)})}const ce=ne+O-1;if(B.params.rewind||B.params.loop)for(let me=ne-x;me<=ce+x;me+=1){const Ve=(me%A+A)%A;(Ve<ne||Ve>ce)&&Jt(B,Ve)}else for(let me=Math.max(ne-x,0);me<=Math.min(ce+x,A-1);me+=1)me!==ne&&(me>ce||me<ne)&&Jt(B,me)};function Je(B){let{swiper:x,runCallbacks:A,direction:O,step:ne}=B;const{activeIndex:ce,previousIndex:me}=x;let Ve=O;if(Ve||(Ve=ce>me?"next":ce<me?"prev":"reset"),x.emit(`transition${ne}`),A&&ce!==me){if("reset"===Ve)return void x.emit(`slideResetTransition${ne}`);x.emit(`slideChangeTransition${ne}`),x.emit("next"===Ve?`slideNextTransition${ne}`:`slidePrevTransition${ne}`)}}function ii(B,x,A){const O=(0,c.a)(),{params:ne}=B,ce=ne.edgeSwipeDetection,me=ne.edgeSwipeThreshold;return!ce||!(A<=me||A>=O.innerWidth-me)||"prevent"===ce&&(x.preventDefault(),!0)}function kr(B){const x=this,A=(0,c.g)();let O=B;O.originalEvent&&(O=O.originalEvent);const ne=x.touchEventsData;if("pointerdown"===O.type){if(null!==ne.pointerId&&ne.pointerId!==O.pointerId)return;ne.pointerId=O.pointerId}else"touchstart"===O.type&&1===O.targetTouches.length&&(ne.touchId=O.targetTouches[0].identifier);if("touchstart"===O.type)return void ii(x,O,O.targetTouches[0].pageX);const{params:ce,touches:me,enabled:Ve}=x;if(!Ve||!ce.simulateTouch&&"mouse"===O.pointerType||x.animating&&ce.preventInteractionOnTransition)return;!x.animating&&ce.cssMode&&ce.loop&&x.loopFix();let Be=O.target;if("wrapper"===ce.touchEventsTarget&&!x.wrapperEl.contains(Be)||"which"in O&&3===O.which||"button"in O&&O.button>0||ne.isTouched&&ne.isMoved)return;const jt=!!ce.noSwipingClass&&""!==ce.noSwipingClass,Lt=O.composedPath?O.composedPath():O.path;jt&&O.target&&O.target.shadowRoot&&Lt&&(Be=Lt[0]);const fn=ce.noSwipingSelector?ce.noSwipingSelector:`.${ce.noSwipingClass}`;if(ce.noSwiping&&(O.target&&O.target.shadowRoot?function Ui(B,x){return void 0===x&&(x=this),function A(O){if(!O||O===(0,c.g)()||O===(0,c.a)())return null;O.assignedSlot&&(O=O.assignedSlot);const ne=O.closest(B);return ne||O.getRootNode?ne||A(O.getRootNode().host):null}(x)}(fn,Be):Be.closest(fn)))return void(x.allowClick=!0);if(ce.swipeHandler&&!Be.closest(ce.swipeHandler))return;me.currentX=O.pageX,me.currentY=O.pageY;const en=me.currentX,In=me.currentY;if(!ii(x,O,en))return;Object.assign(ne,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),me.startX=en,me.startY=In,ne.touchStartTime=(0,y.d)(),x.allowClick=!0,x.updateSize(),x.swipeDirection=void 0,ce.threshold>0&&(ne.allowThresholdMove=!1);let Ut=!0;Be.matches(ne.focusableElements)&&(Ut=!1,"SELECT"===Be.nodeName&&(ne.isTouched=!1)),A.activeElement&&A.activeElement.matches(ne.focusableElements)&&A.activeElement!==Be&&A.activeElement.blur(),(ce.touchStartForcePreventDefault||Ut&&x.allowTouchMove&&ce.touchStartPreventDefault)&&!Be.isContentEditable&&O.preventDefault(),ce.freeMode&&ce.freeMode.enabled&&x.freeMode&&x.animating&&!ce.cssMode&&x.freeMode.onTouchStart(),x.emit("touchStart",O)}function Ar(B){const x=(0,c.g)(),A=this,O=A.touchEventsData,{params:ne,touches:ce,rtlTranslate:me,enabled:Ve}=A;if(!Ve||!ne.simulateTouch&&"mouse"===B.pointerType)return;let jt,Be=B;if(Be.originalEvent&&(Be=Be.originalEvent),"pointermove"===Be.type&&(null!==O.touchId||Be.pointerId!==O.pointerId))return;if("touchmove"===Be.type){if(jt=[...Be.changedTouches].filter(Sr=>Sr.identifier===O.touchId)[0],!jt||jt.identifier!==O.touchId)return}else jt=Be;if(!O.isTouched)return void(O.startMoving&&O.isScrolling&&A.emit("touchMoveOpposite",Be));const Lt=jt.pageX,fn=jt.pageY;if(Be.preventedByNestedSwiper)return ce.startX=Lt,void(ce.startY=fn);if(!A.allowTouchMove)return Be.target.matches(O.focusableElements)||(A.allowClick=!1),void(O.isTouched&&(Object.assign(ce,{startX:Lt,startY:fn,currentX:Lt,currentY:fn}),O.touchStartTime=(0,y.d)()));if(ne.touchReleaseOnEdges&&!ne.loop)if(A.isVertical()){if(fn<ce.startY&&A.translate<=A.maxTranslate()||fn>ce.startY&&A.translate>=A.minTranslate())return O.isTouched=!1,void(O.isMoved=!1)}else if(Lt<ce.startX&&A.translate<=A.maxTranslate()||Lt>ce.startX&&A.translate>=A.minTranslate())return;if(x.activeElement&&Be.target===x.activeElement&&Be.target.matches(O.focusableElements))return O.isMoved=!0,void(A.allowClick=!1);O.allowTouchCallbacks&&A.emit("touchMove",Be),ce.previousX=ce.currentX,ce.previousY=ce.currentY,ce.currentX=Lt,ce.currentY=fn;const Wt=ce.currentX-ce.startX,en=ce.currentY-ce.startY;if(A.params.threshold&&Math.sqrt(Wt**2+en**2)<A.params.threshold)return;if(typeof O.isScrolling>"u"){let Sr;A.isHorizontal()&&ce.currentY===ce.startY||A.isVertical()&&ce.currentX===ce.startX?O.isScrolling=!1:Wt*Wt+en*en>=25&&(Sr=180*Math.atan2(Math.abs(en),Math.abs(Wt))/Math.PI,O.isScrolling=A.isHorizontal()?Sr>ne.touchAngle:90-Sr>ne.touchAngle)}if(O.isScrolling&&A.emit("touchMoveOpposite",Be),typeof O.startMoving>"u"&&(ce.currentX!==ce.startX||ce.currentY!==ce.startY)&&(O.startMoving=!0),O.isScrolling)return void(O.isTouched=!1);if(!O.startMoving)return;A.allowClick=!1,!ne.cssMode&&Be.cancelable&&Be.preventDefault(),ne.touchMoveStopPropagation&&!ne.nested&&Be.stopPropagation();let In=A.isHorizontal()?Wt:en,Ut=A.isHorizontal()?ce.currentX-ce.previousX:ce.currentY-ce.previousY;ne.oneWayMovement&&(In=Math.abs(In)*(me?1:-1),Ut=Math.abs(Ut)*(me?1:-1)),ce.diff=In,In*=ne.touchRatio,me&&(In=-In,Ut=-Ut);const rn=A.touchesDirection;A.swipeDirection=In>0?"prev":"next",A.touchesDirection=Ut>0?"prev":"next";const hn=A.params.loop&&!ne.cssMode,Yn="next"===A.touchesDirection&&A.allowSlideNext||"prev"===A.touchesDirection&&A.allowSlidePrev;if(!O.isMoved){if(hn&&Yn&&A.loopFix({direction:A.swipeDirection}),O.startTranslate=A.getTranslate(),A.setTransition(0),A.animating){const Sr=new window.CustomEvent("transitionend",{bubbles:!0,cancelable:!0});A.wrapperEl.dispatchEvent(Sr)}O.allowMomentumBounce=!1,ne.grabCursor&&(!0===A.allowSlideNext||!0===A.allowSlidePrev)&&A.setGrabCursor(!0),A.emit("sliderFirstMove",Be)}if((new Date).getTime(),O.isMoved&&O.allowThresholdMove&&rn!==A.touchesDirection&&hn&&Yn&&Math.abs(In)>=1)return Object.assign(ce,{startX:Lt,startY:fn,currentX:Lt,currentY:fn,startTranslate:O.currentTranslate}),O.loopSwapReset=!0,void(O.startTranslate=O.currentTranslate);A.emit("sliderMove",Be),O.isMoved=!0,O.currentTranslate=In+O.startTranslate;let ti=!0,$i=ne.resistanceRatio;if(ne.touchReleaseOnEdges&&($i=0),In>0?(hn&&Yn&&O.allowThresholdMove&&O.currentTranslate>(ne.centeredSlides?A.minTranslate()-A.slidesSizesGrid[A.activeIndex+1]:A.minTranslate())&&A.loopFix({direction:"prev",setTranslate:!0,activeSlideIndex:0}),O.currentTranslate>A.minTranslate()&&(ti=!1,ne.resistance&&(O.currentTranslate=A.minTranslate()-1+(-A.minTranslate()+O.startTranslate+In)**$i))):In<0&&(hn&&Yn&&O.allowThresholdMove&&O.currentTranslate<(ne.centeredSlides?A.maxTranslate()+A.slidesSizesGrid[A.slidesSizesGrid.length-1]:A.maxTranslate())&&A.loopFix({direction:"next",setTranslate:!0,activeSlideIndex:A.slides.length-("auto"===ne.slidesPerView?A.slidesPerViewDynamic():Math.ceil(parseFloat(ne.slidesPerView,10)))}),O.currentTranslate<A.maxTranslate()&&(ti=!1,ne.resistance&&(O.currentTranslate=A.maxTranslate()+1-(A.maxTranslate()-O.startTranslate-In)**$i))),ti&&(Be.preventedByNestedSwiper=!0),!A.allowSlideNext&&"next"===A.swipeDirection&&O.currentTranslate<O.startTranslate&&(O.currentTranslate=O.startTranslate),!A.allowSlidePrev&&"prev"===A.swipeDirection&&O.currentTranslate>O.startTranslate&&(O.currentTranslate=O.startTranslate),!A.allowSlidePrev&&!A.allowSlideNext&&(O.currentTranslate=O.startTranslate),ne.threshold>0){if(!(Math.abs(In)>ne.threshold||O.allowThresholdMove))return void(O.currentTranslate=O.startTranslate);if(!O.allowThresholdMove)return O.allowThresholdMove=!0,ce.startX=ce.currentX,ce.startY=ce.currentY,O.currentTranslate=O.startTranslate,void(ce.diff=A.isHorizontal()?ce.currentX-ce.startX:ce.currentY-ce.startY)}!ne.followFinger||ne.cssMode||((ne.freeMode&&ne.freeMode.enabled&&A.freeMode||ne.watchSlidesProgress)&&(A.updateActiveIndex(),A.updateSlidesClasses()),ne.freeMode&&ne.freeMode.enabled&&A.freeMode&&A.freeMode.onTouchMove(),A.updateProgress(O.currentTranslate),A.setTranslate(O.currentTranslate))}function Li(B){const x=this,A=x.touchEventsData;let ne,O=B;if(O.originalEvent&&(O=O.originalEvent),"touchend"===O.type||"touchcancel"===O.type){if(ne=[...O.changedTouches].filter(ti=>ti.identifier===A.touchId)[0],!ne||ne.identifier!==A.touchId)return}else{if(null!==A.touchId||O.pointerId!==A.pointerId)return;ne=O}if(["pointercancel","pointerout","pointerleave","contextmenu"].includes(O.type)&&(!["pointercancel","contextmenu"].includes(O.type)||!x.browser.isSafari&&!x.browser.isWebView))return;A.pointerId=null,A.touchId=null;const{params:me,touches:Ve,rtlTranslate:Be,slidesGrid:jt,enabled:Lt}=x;if(!Lt||!me.simulateTouch&&"mouse"===O.pointerType)return;if(A.allowTouchCallbacks&&x.emit("touchEnd",O),A.allowTouchCallbacks=!1,!A.isTouched)return A.isMoved&&me.grabCursor&&x.setGrabCursor(!1),A.isMoved=!1,void(A.startMoving=!1);me.grabCursor&&A.isMoved&&A.isTouched&&(!0===x.allowSlideNext||!0===x.allowSlidePrev)&&x.setGrabCursor(!1);const fn=(0,y.d)(),Wt=fn-A.touchStartTime;if(x.allowClick){const ti=O.path||O.composedPath&&O.composedPath();x.updateClickedSlide(ti&&ti[0]||O.target,ti),x.emit("tap click",O),Wt<300&&fn-A.lastClickTime<300&&x.emit("doubleTap doubleClick",O)}if(A.lastClickTime=(0,y.d)(),(0,y.n)(()=>{x.destroyed||(x.allowClick=!0)}),!A.isTouched||!A.isMoved||!x.swipeDirection||0===Ve.diff&&!A.loopSwapReset||A.currentTranslate===A.startTranslate&&!A.loopSwapReset)return A.isTouched=!1,A.isMoved=!1,void(A.startMoving=!1);let en;if(A.isTouched=!1,A.isMoved=!1,A.startMoving=!1,en=me.followFinger?Be?x.translate:-x.translate:-A.currentTranslate,me.cssMode)return;if(me.freeMode&&me.freeMode.enabled)return void x.freeMode.onTouchEnd({currentPos:en});let In=0,Ut=x.slidesSizesGrid[0];for(let ti=0;ti<jt.length;ti+=ti<me.slidesPerGroupSkip?1:me.slidesPerGroup){const $i=ti<me.slidesPerGroupSkip-1?1:me.slidesPerGroup;typeof jt[ti+$i]<"u"?en>=jt[ti]&&en<jt[ti+$i]&&(In=ti,Ut=jt[ti+$i]-jt[ti]):en>=jt[ti]&&(In=ti,Ut=jt[jt.length-1]-jt[jt.length-2])}let rn=null,hn=null;me.rewind&&(x.isBeginning?hn=me.virtual&&me.virtual.enabled&&x.virtual?x.virtual.slides.length-1:x.slides.length-1:x.isEnd&&(rn=0));const Yn=(en-jt[In])/Ut,Kn=In<me.slidesPerGroupSkip-1?1:me.slidesPerGroup;if(Wt>me.longSwipesMs){if(!me.longSwipes)return void x.slideTo(x.activeIndex);"next"===x.swipeDirection&&x.slideTo(Yn>=me.longSwipesRatio?me.rewind&&x.isEnd?rn:In+Kn:In),"prev"===x.swipeDirection&&(Yn>1-me.longSwipesRatio?x.slideTo(In+Kn):null!==hn&&Yn<0&&Math.abs(Yn)>me.longSwipesRatio?x.slideTo(hn):x.slideTo(In))}else{if(!me.shortSwipes)return void x.slideTo(x.activeIndex);!x.navigation||O.target!==x.navigation.nextEl&&O.target!==x.navigation.prevEl?("next"===x.swipeDirection&&x.slideTo(null!==rn?rn:In+Kn),"prev"===x.swipeDirection&&x.slideTo(null!==hn?hn:In)):x.slideTo(O.target===x.navigation.nextEl?In+Kn:In)}}function ps(){const B=this,{params:x,el:A}=B;if(A&&0===A.offsetWidth)return;x.breakpoints&&B.setBreakpoint();const{allowSlideNext:O,allowSlidePrev:ne,snapGrid:ce}=B,me=B.virtual&&B.params.virtual.enabled;B.allowSlideNext=!0,B.allowSlidePrev=!0,B.updateSize(),B.updateSlides(),B.updateSlidesClasses(),!("auto"===x.slidesPerView||x.slidesPerView>1)||!B.isEnd||B.isBeginning||B.params.centeredSlides||me&&x.loop?B.params.loop&&!me?B.slideToLoop(B.realIndex,0,!1,!0):B.slideTo(B.activeIndex,0,!1,!0):B.slideTo(B.slides.length-1,0,!1,!0),B.autoplay&&B.autoplay.running&&B.autoplay.paused&&(clearTimeout(B.autoplay.resizeTimeout),B.autoplay.resizeTimeout=setTimeout(()=>{B.autoplay&&B.autoplay.running&&B.autoplay.paused&&B.autoplay.resume()},500)),B.allowSlidePrev=ne,B.allowSlideNext=O,B.params.watchOverflow&&ce!==B.snapGrid&&B.checkOverflow()}function Xr(B){const x=this;x.enabled&&(x.allowClick||(x.params.preventClicks&&B.preventDefault(),x.params.preventClicksPropagation&&x.animating&&(B.stopPropagation(),B.stopImmediatePropagation())))}function Bi(){const B=this,{wrapperEl:x,rtlTranslate:A,enabled:O}=B;if(!O)return;let ne;B.previousTranslate=B.translate,B.translate=B.isHorizontal()?-x.scrollLeft:-x.scrollTop,0===B.translate&&(B.translate=0),B.updateActiveIndex(),B.updateSlidesClasses();const ce=B.maxTranslate()-B.minTranslate();ne=0===ce?0:(B.translate-B.minTranslate())/ce,ne!==B.progress&&B.updateProgress(A?-B.translate:B.translate),B.emit("setTranslate",B.translate,!1)}function Mi(B){const x=this;zt(x,B.target),!x.params.cssMode&&("auto"===x.params.slidesPerView||x.params.autoHeight)&&x.update()}function Zi(){const B=this;B.documentTouchHandlerProceeded||(B.documentTouchHandlerProceeded=!0,B.params.touchReleaseOnEdges&&(B.el.style.touchAction="auto"))}const Qr=(B,x)=>{const A=(0,c.g)(),{params:O,el:ne,wrapperEl:ce,device:me}=B,Ve=!!O.nested,Be="on"===x?"addEventListener":"removeEventListener",jt=x;A[Be]("touchstart",B.onDocumentTouchStart,{passive:!1,capture:Ve}),ne[Be]("touchstart",B.onTouchStart,{passive:!1}),ne[Be]("pointerdown",B.onTouchStart,{passive:!1}),A[Be]("touchmove",B.onTouchMove,{passive:!1,capture:Ve}),A[Be]("pointermove",B.onTouchMove,{passive:!1,capture:Ve}),A[Be]("touchend",B.onTouchEnd,{passive:!0}),A[Be]("pointerup",B.onTouchEnd,{passive:!0}),A[Be]("pointercancel",B.onTouchEnd,{passive:!0}),A[Be]("touchcancel",B.onTouchEnd,{passive:!0}),A[Be]("pointerout",B.onTouchEnd,{passive:!0}),A[Be]("pointerleave",B.onTouchEnd,{passive:!0}),A[Be]("contextmenu",B.onTouchEnd,{passive:!0}),(O.preventClicks||O.preventClicksPropagation)&&ne[Be]("click",B.onClick,!0),O.cssMode&&ce[Be]("scroll",B.onScroll),B[jt](O.updateOnWindowResize?me.ios||me.android?"resize orientationchange observerUpdate":"resize observerUpdate":"observerUpdate",ps,!0),ne[Be]("load",B.onLoad,{capture:!0})},ns=(B,x)=>B.grid&&x.grid&&x.grid.rows>1;var mi={init:!0,direction:"horizontal",oneWayMovement:!1,touchEventsTarget:"wrapper",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,resizeObserver:!0,nested:!1,createElements:!1,eventsPrefix:"swiper",enabled:!0,focusableElements:"input, select, option, textarea, button, video, label",width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsBase:"window",spaceBetween:0,slidesPerView:1,slidesPerGroup:1,slidesPerGroupSkip:0,slidesPerGroupAuto:!1,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:5,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,loop:!1,loopAddBlankSlides:!0,loopAdditionalSlides:0,loopPreventsSliding:!0,rewind:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,maxBackfaceHiddenSlides:10,containerModifierClass:"swiper-",slideClass:"swiper-slide",slideBlankClass:"swiper-slide-blank",slideActiveClass:"swiper-slide-active",slideVisibleClass:"swiper-slide-visible",slideFullyVisibleClass:"swiper-slide-fully-visible",slideNextClass:"swiper-slide-next",slidePrevClass:"swiper-slide-prev",wrapperClass:"swiper-wrapper",lazyPreloaderClass:"swiper-lazy-preloader",lazyPreloadPrevNext:0,runCallbacksOnInit:!0,_emitClasses:!1};function Dr(B,x){return function(O){void 0===O&&(O={});const ne=Object.keys(O)[0],ce=O[ne];"object"==typeof ce&&null!==ce?(!0===B[ne]&&(B[ne]={enabled:!0}),"navigation"===ne&&B[ne]&&B[ne].enabled&&!B[ne].prevEl&&!B[ne].nextEl&&(B[ne].auto=!0),["pagination","scrollbar"].indexOf(ne)>=0&&B[ne]&&B[ne].enabled&&!B[ne].el&&(B[ne].auto=!0),ne in B&&"enabled"in ce?("object"==typeof B[ne]&&!("enabled"in B[ne])&&(B[ne].enabled=!0),B[ne]||(B[ne]={enabled:!1}),(0,y.t)(x,O)):(0,y.t)(x,O)):(0,y.t)(x,O)}}const pr={eventsEmitter:{on(B,x,A){const O=this;if(!O.eventsListeners||O.destroyed||"function"!=typeof x)return O;const ne=A?"unshift":"push";return B.split(" ").forEach(ce=>{O.eventsListeners[ce]||(O.eventsListeners[ce]=[]),O.eventsListeners[ce][ne](x)}),O},once(B,x,A){const O=this;if(!O.eventsListeners||O.destroyed||"function"!=typeof x)return O;function ne(){O.off(B,ne),ne.__emitterProxy&&delete ne.__emitterProxy;for(var ce=arguments.length,me=new Array(ce),Ve=0;Ve<ce;Ve++)me[Ve]=arguments[Ve];x.apply(O,me)}return ne.__emitterProxy=x,O.on(B,ne,A)},onAny(B,x){const A=this;if(!A.eventsListeners||A.destroyed||"function"!=typeof B)return A;const O=x?"unshift":"push";return A.eventsAnyListeners.indexOf(B)<0&&A.eventsAnyListeners[O](B),A},offAny(B){const x=this;if(!x.eventsListeners||x.destroyed||!x.eventsAnyListeners)return x;const A=x.eventsAnyListeners.indexOf(B);return A>=0&&x.eventsAnyListeners.splice(A,1),x},off(B,x){const A=this;return!A.eventsListeners||A.destroyed||!A.eventsListeners||B.split(" ").forEach(O=>{typeof x>"u"?A.eventsListeners[O]=[]:A.eventsListeners[O]&&A.eventsListeners[O].forEach((ne,ce)=>{(ne===x||ne.__emitterProxy&&ne.__emitterProxy===x)&&A.eventsListeners[O].splice(ce,1)})}),A},emit(){const B=this;if(!B.eventsListeners||B.destroyed||!B.eventsListeners)return B;let x,A,O;for(var ne=arguments.length,ce=new Array(ne),me=0;me<ne;me++)ce[me]=arguments[me];return"string"==typeof ce[0]||Array.isArray(ce[0])?(x=ce[0],A=ce.slice(1,ce.length),O=B):(x=ce[0].events,A=ce[0].data,O=ce[0].context||B),A.unshift(O),(Array.isArray(x)?x:x.split(" ")).forEach(Be=>{B.eventsAnyListeners&&B.eventsAnyListeners.length&&B.eventsAnyListeners.forEach(jt=>{jt.apply(O,[Be,...A])}),B.eventsListeners&&B.eventsListeners[Be]&&B.eventsListeners[Be].forEach(jt=>{jt.apply(O,A)})}),B}},update:{updateSize:function At(){const B=this;let x,A;const O=B.el;x=typeof B.params.width<"u"&&null!==B.params.width?B.params.width:O.clientWidth,A=typeof B.params.height<"u"&&null!==B.params.height?B.params.height:O.clientHeight,!(0===x&&B.isHorizontal()||0===A&&B.isVertical())&&(x=x-parseInt((0,y.m)(O,"padding-left")||0,10)-parseInt((0,y.m)(O,"padding-right")||0,10),A=A-parseInt((0,y.m)(O,"padding-top")||0,10)-parseInt((0,y.m)(O,"padding-bottom")||0,10),Number.isNaN(x)&&(x=0),Number.isNaN(A)&&(A=0),Object.assign(B,{width:x,height:A,size:B.isHorizontal()?x:A}))},updateSlides:function an(){const B=this;function x(Wi,mr){return parseFloat(Wi.getPropertyValue(B.getDirectionLabel(mr))||0)}const A=B.params,{wrapperEl:O,slidesEl:ne,size:ce,rtlTranslate:me,wrongRTL:Ve}=B,Be=B.virtual&&A.virtual.enabled,jt=Be?B.virtual.slides.length:B.slides.length,Lt=(0,y.e)(ne,`.${B.params.slideClass}, swiper-slide`),fn=Be?B.virtual.slides.length:Lt.length;let Wt=[];const en=[],In=[];let Ut=A.slidesOffsetBefore;"function"==typeof Ut&&(Ut=A.slidesOffsetBefore.call(B));let rn=A.slidesOffsetAfter;"function"==typeof rn&&(rn=A.slidesOffsetAfter.call(B));const hn=B.snapGrid.length,Yn=B.slidesGrid.length;let Kn=A.spaceBetween,ti=-Ut,$i=0,Sr=0;if(typeof ce>"u")return;"string"==typeof Kn&&Kn.indexOf("%")>=0?Kn=parseFloat(Kn.replace("%",""))/100*ce:"string"==typeof Kn&&(Kn=parseFloat(Kn)),B.virtualSize=-Kn,Lt.forEach(Wi=>{me?Wi.style.marginLeft="":Wi.style.marginRight="",Wi.style.marginBottom="",Wi.style.marginTop=""}),A.centeredSlides&&A.cssMode&&((0,y.s)(O,"--swiper-centered-offset-before",""),(0,y.s)(O,"--swiper-centered-offset-after",""));const yr=A.grid&&A.grid.rows>1&&B.grid;let Ki;yr?B.grid.initSlides(Lt):B.grid&&B.grid.unsetSlides();const wr="auto"===A.slidesPerView&&A.breakpoints&&Object.keys(A.breakpoints).filter(Wi=>typeof A.breakpoints[Wi].slidesPerView<"u").length>0;for(let Wi=0;Wi<fn;Wi+=1){let mr;if(Ki=0,Lt[Wi]&&(mr=Lt[Wi]),yr&&B.grid.updateSlide(Wi,mr,Lt),!Lt[Wi]||"none"!==(0,y.m)(mr,"display")){if("auto"===A.slidesPerView){wr&&(Lt[Wi].style[B.getDirectionLabel("width")]="");const Hr=getComputedStyle(mr),ur=mr.style.transform,rs=mr.style.webkitTransform;if(ur&&(mr.style.transform="none"),rs&&(mr.style.webkitTransform="none"),A.roundLengths)Ki=B.isHorizontal()?(0,y.f)(mr,"width",!0):(0,y.f)(mr,"height",!0);else{const $s=x(Hr,"width"),ws=x(Hr,"padding-left"),Es=x(Hr,"padding-right"),uo=x(Hr,"margin-left"),Eo=x(Hr,"margin-right"),Zs=Hr.getPropertyValue("box-sizing");if(Zs&&"border-box"===Zs)Ki=$s+uo+Eo;else{const{clientWidth:ho,offsetWidth:fe}=mr;Ki=$s+ws+Es+uo+Eo+(fe-ho)}}ur&&(mr.style.transform=ur),rs&&(mr.style.webkitTransform=rs),A.roundLengths&&(Ki=Math.floor(Ki))}else Ki=(ce-(A.slidesPerView-1)*Kn)/A.slidesPerView,A.roundLengths&&(Ki=Math.floor(Ki)),Lt[Wi]&&(Lt[Wi].style[B.getDirectionLabel("width")]=`${Ki}px`);Lt[Wi]&&(Lt[Wi].swiperSlideSize=Ki),In.push(Ki),A.centeredSlides?(ti=ti+Ki/2+$i/2+Kn,0===$i&&0!==Wi&&(ti=ti-ce/2-Kn),0===Wi&&(ti=ti-ce/2-Kn),Math.abs(ti)<.001&&(ti=0),A.roundLengths&&(ti=Math.floor(ti)),Sr%A.slidesPerGroup==0&&Wt.push(ti),en.push(ti)):(A.roundLengths&&(ti=Math.floor(ti)),(Sr-Math.min(B.params.slidesPerGroupSkip,Sr))%B.params.slidesPerGroup==0&&Wt.push(ti),en.push(ti),ti=ti+Ki+Kn),B.virtualSize+=Ki+Kn,$i=Ki,Sr+=1}}if(B.virtualSize=Math.max(B.virtualSize,ce)+rn,me&&Ve&&("slide"===A.effect||"coverflow"===A.effect)&&(O.style.width=`${B.virtualSize+Kn}px`),A.setWrapperSize&&(O.style[B.getDirectionLabel("width")]=`${B.virtualSize+Kn}px`),yr&&B.grid.updateWrapperSize(Ki,Wt),!A.centeredSlides){const Wi=[];for(let mr=0;mr<Wt.length;mr+=1){let Hr=Wt[mr];A.roundLengths&&(Hr=Math.floor(Hr)),Wt[mr]<=B.virtualSize-ce&&Wi.push(Hr)}Wt=Wi,Math.floor(B.virtualSize-ce)-Math.floor(Wt[Wt.length-1])>1&&Wt.push(B.virtualSize-ce)}if(Be&&A.loop){const Wi=In[0]+Kn;if(A.slidesPerGroup>1){const mr=Math.ceil((B.virtual.slidesBefore+B.virtual.slidesAfter)/A.slidesPerGroup),Hr=Wi*A.slidesPerGroup;for(let ur=0;ur<mr;ur+=1)Wt.push(Wt[Wt.length-1]+Hr)}for(let mr=0;mr<B.virtual.slidesBefore+B.virtual.slidesAfter;mr+=1)1===A.slidesPerGroup&&Wt.push(Wt[Wt.length-1]+Wi),en.push(en[en.length-1]+Wi),B.virtualSize+=Wi}if(0===Wt.length&&(Wt=[0]),0!==Kn){const Wi=B.isHorizontal()&&me?"marginLeft":B.getDirectionLabel("marginRight");Lt.filter((mr,Hr)=>!(A.cssMode&&!A.loop)||Hr!==Lt.length-1).forEach(mr=>{mr.style[Wi]=`${Kn}px`})}if(A.centeredSlides&&A.centeredSlidesBounds){let Wi=0;In.forEach(Hr=>{Wi+=Hr+(Kn||0)}),Wi-=Kn;const mr=Wi-ce;Wt=Wt.map(Hr=>Hr<=0?-Ut:Hr>mr?mr+rn:Hr)}if(A.centerInsufficientSlides){let Wi=0;if(In.forEach(mr=>{Wi+=mr+(Kn||0)}),Wi-=Kn,Wi<ce){const mr=(ce-Wi)/2;Wt.forEach((Hr,ur)=>{Wt[ur]=Hr-mr}),en.forEach((Hr,ur)=>{en[ur]=Hr+mr})}}if(Object.assign(B,{slides:Lt,snapGrid:Wt,slidesGrid:en,slidesSizesGrid:In}),A.centeredSlides&&A.cssMode&&!A.centeredSlidesBounds){(0,y.s)(O,"--swiper-centered-offset-before",-Wt[0]+"px"),(0,y.s)(O,"--swiper-centered-offset-after",B.size/2-In[In.length-1]/2+"px");const Wi=-B.snapGrid[0],mr=-B.slidesGrid[0];B.snapGrid=B.snapGrid.map(Hr=>Hr+Wi),B.slidesGrid=B.slidesGrid.map(Hr=>Hr+mr)}if(fn!==jt&&B.emit("slidesLengthChange"),Wt.length!==hn&&(B.params.watchOverflow&&B.checkOverflow(),B.emit("snapGridLengthChange")),en.length!==Yn&&B.emit("slidesGridLengthChange"),A.watchSlidesProgress&&B.updateSlidesOffset(),!(Be||A.cssMode||"slide"!==A.effect&&"fade"!==A.effect)){const Wi=`${A.containerModifierClass}backface-hidden`,mr=B.el.classList.contains(Wi);fn<=A.maxBackfaceHiddenSlides?mr||B.el.classList.add(Wi):mr&&B.el.classList.remove(Wi)}},updateAutoHeight:function nt(B){const x=this,A=[],O=x.virtual&&x.params.virtual.enabled;let ce,ne=0;"number"==typeof B?x.setTransition(B):!0===B&&x.setTransition(x.params.speed);const me=Ve=>O?x.slides[x.getSlideIndexByData(Ve)]:x.slides[Ve];if("auto"!==x.params.slidesPerView&&x.params.slidesPerView>1)if(x.params.centeredSlides)(x.visibleSlides||[]).forEach(Ve=>{A.push(Ve)});else for(ce=0;ce<Math.ceil(x.params.slidesPerView);ce+=1){const Ve=x.activeIndex+ce;if(Ve>x.slides.length&&!O)break;A.push(me(Ve))}else A.push(me(x.activeIndex));for(ce=0;ce<A.length;ce+=1)if(typeof A[ce]<"u"){const Ve=A[ce].offsetHeight;ne=Ve>ne?Ve:ne}(ne||0===ne)&&(x.wrapperEl.style.height=`${ne}px`)},updateSlidesOffset:function Ze(){const B=this,x=B.slides,A=B.isElement?B.isHorizontal()?B.wrapperEl.offsetLeft:B.wrapperEl.offsetTop:0;for(let O=0;O<x.length;O+=1)x[O].swiperSlideOffset=(B.isHorizontal()?x[O].offsetLeft:x[O].offsetTop)-A-B.cssOverflowAdjustment()},updateSlidesProgress:function on(B){void 0===B&&(B=this&&this.translate||0);const x=this,A=x.params,{slides:O,rtlTranslate:ne,snapGrid:ce}=x;if(0===O.length)return;typeof O[0].swiperSlideOffset>"u"&&x.updateSlidesOffset();let me=-B;ne&&(me=B),O.forEach(Be=>{Be.classList.remove(A.slideVisibleClass,A.slideFullyVisibleClass)}),x.visibleSlidesIndexes=[],x.visibleSlides=[];let Ve=A.spaceBetween;"string"==typeof Ve&&Ve.indexOf("%")>=0?Ve=parseFloat(Ve.replace("%",""))/100*x.size:"string"==typeof Ve&&(Ve=parseFloat(Ve));for(let Be=0;Be<O.length;Be+=1){const jt=O[Be];let Lt=jt.swiperSlideOffset;A.cssMode&&A.centeredSlides&&(Lt-=O[0].swiperSlideOffset);const fn=(me+(A.centeredSlides?x.minTranslate():0)-Lt)/(jt.swiperSlideSize+Ve),Wt=(me-ce[0]+(A.centeredSlides?x.minTranslate():0)-Lt)/(jt.swiperSlideSize+Ve),en=-(me-Lt),In=en+x.slidesSizesGrid[Be],Ut=en>=0&&en<=x.size-x.slidesSizesGrid[Be];(en>=0&&en<x.size-1||In>1&&In<=x.size||en<=0&&In>=x.size)&&(x.visibleSlides.push(jt),x.visibleSlidesIndexes.push(Be),O[Be].classList.add(A.slideVisibleClass)),Ut&&O[Be].classList.add(A.slideFullyVisibleClass),jt.progress=ne?-fn:fn,jt.originalProgress=ne?-Wt:Wt}},updateProgress:function It(B){const x=this;typeof B>"u"&&(B=x&&x.translate&&x.translate*(x.rtlTranslate?-1:1)||0);const A=x.params,O=x.maxTranslate()-x.minTranslate();let{progress:ne,isBeginning:ce,isEnd:me,progressLoop:Ve}=x;const Be=ce,jt=me;if(0===O)ne=0,ce=!0,me=!0;else{ne=(B-x.minTranslate())/O;const Lt=Math.abs(B-x.minTranslate())<1,fn=Math.abs(B-x.maxTranslate())<1;ce=Lt||ne<=0,me=fn||ne>=1,Lt&&(ne=0),fn&&(ne=1)}if(A.loop){const Lt=x.getSlideIndexByData(0),fn=x.getSlideIndexByData(x.slides.length-1),Wt=x.slidesGrid[Lt],en=x.slidesGrid[fn],In=x.slidesGrid[x.slidesGrid.length-1],Ut=Math.abs(B);Ve=Ut>=Wt?(Ut-Wt)/In:(Ut+In-en)/In,Ve>1&&(Ve-=1)}Object.assign(x,{progress:ne,progressLoop:Ve,isBeginning:ce,isEnd:me}),(A.watchSlidesProgress||A.centeredSlides&&A.autoHeight)&&x.updateSlidesProgress(B),ce&&!Be&&x.emit("reachBeginning toEdge"),me&&!jt&&x.emit("reachEnd toEdge"),(Be&&!ce||jt&&!me)&&x.emit("fromEdge"),x.emit("progress",ne)},updateSlidesClasses:function bt(){const B=this,{slides:x,params:A,slidesEl:O,activeIndex:ne}=B,ce=B.virtual&&A.virtual.enabled,me=B.grid&&A.grid&&A.grid.rows>1,Ve=fn=>(0,y.e)(O,`.${A.slideClass}${fn}, swiper-slide${fn}`)[0];let Be,jt,Lt;if(x.forEach(fn=>{fn.classList.remove(A.slideActiveClass,A.slideNextClass,A.slidePrevClass)}),ce)if(A.loop){let fn=ne-B.virtual.slidesBefore;fn<0&&(fn=B.virtual.slides.length+fn),fn>=B.virtual.slides.length&&(fn-=B.virtual.slides.length),Be=Ve(`[data-swiper-slide-index="${fn}"]`)}else Be=Ve(`[data-swiper-slide-index="${ne}"]`);else me?(Be=x.filter(fn=>fn.column===ne)[0],Lt=x.filter(fn=>fn.column===ne+1)[0],jt=x.filter(fn=>fn.column===ne-1)[0]):Be=x[ne];Be&&(Be.classList.add(A.slideActiveClass),me?(Lt&&Lt.classList.add(A.slideNextClass),jt&&jt.classList.add(A.slidePrevClass)):(Lt=(0,y.o)(Be,`.${A.slideClass}, swiper-slide`)[0],A.loop&&!Lt&&(Lt=x[0]),Lt&&Lt.classList.add(A.slideNextClass),jt=(0,y.p)(Be,`.${A.slideClass}, swiper-slide`)[0],A.loop&&0===!jt&&(jt=x[x.length-1]),jt&&jt.classList.add(A.slidePrevClass))),B.emitSlidesClasses()},updateActiveIndex:function se(B){const x=this,A=x.rtlTranslate?x.translate:-x.translate,{snapGrid:O,params:ne,activeIndex:ce,realIndex:me,snapIndex:Ve}=x;let jt,Be=B;const Lt=en=>{let In=en-x.virtual.slidesBefore;return In<0&&(In=x.virtual.slides.length+In),In>=x.virtual.slides.length&&(In-=x.virtual.slides.length),In};if(typeof Be>"u"&&(Be=function tt(B){const{slidesGrid:x,params:A}=B,O=B.rtlTranslate?B.translate:-B.translate;let ne;for(let ce=0;ce<x.length;ce+=1)typeof x[ce+1]<"u"?O>=x[ce]&&O<x[ce+1]-(x[ce+1]-x[ce])/2?ne=ce:O>=x[ce]&&O<x[ce+1]&&(ne=ce+1):O>=x[ce]&&(ne=ce);return A.normalizeSlideIndex&&(ne<0||typeof ne>"u")&&(ne=0),ne}(x)),O.indexOf(A)>=0)jt=O.indexOf(A);else{const en=Math.min(ne.slidesPerGroupSkip,Be);jt=en+Math.floor((Be-en)/ne.slidesPerGroup)}if(jt>=O.length&&(jt=O.length-1),Be===ce&&!x.params.loop)return void(jt!==Ve&&(x.snapIndex=jt,x.emit("snapIndexChange")));if(Be===ce&&x.params.loop&&x.virtual&&x.params.virtual.enabled)return void(x.realIndex=Lt(Be));const fn=x.grid&&ne.grid&&ne.grid.rows>1;let Wt;if(x.virtual&&ne.virtual.enabled&&ne.loop)Wt=Lt(Be);else if(fn){const en=x.slides.filter(Ut=>Ut.column===Be)[0];let In=parseInt(en.getAttribute("data-swiper-slide-index"),10);Number.isNaN(In)&&(In=Math.max(x.slides.indexOf(en),0)),Wt=Math.floor(In/ne.grid.rows)}else if(x.slides[Be]){const en=x.slides[Be].getAttribute("data-swiper-slide-index");Wt=en?parseInt(en,10):Be}else Wt=Be;Object.assign(x,{previousSnapIndex:Ve,snapIndex:jt,previousRealIndex:me,realIndex:Wt,previousIndex:ce,activeIndex:Be}),x.initialized&&Yt(x),x.emit("activeIndexChange"),x.emit("snapIndexChange"),(x.initialized||x.params.runCallbacksOnInit)&&(me!==Wt&&x.emit("realIndexChange"),x.emit("slideChange"))},updateClickedSlide:function Vt(B,x){const A=this,O=A.params;let ne=B.closest(`.${O.slideClass}, swiper-slide`);!ne&&A.isElement&&x&&x.length>1&&x.includes(B)&&[...x.slice(x.indexOf(B)+1,x.length)].forEach(Ve=>{!ne&&Ve.matches&&Ve.matches(`.${O.slideClass}, swiper-slide`)&&(ne=Ve)});let me,ce=!1;if(ne)for(let Ve=0;Ve<A.slides.length;Ve+=1)if(A.slides[Ve]===ne){ce=!0,me=Ve;break}if(!ne||!ce)return A.clickedSlide=void 0,void(A.clickedIndex=void 0);A.clickedSlide=ne,A.clickedIndex=A.virtual&&A.params.virtual.enabled?parseInt(ne.getAttribute("data-swiper-slide-index"),10):me,O.slideToClickedSlide&&void 0!==A.clickedIndex&&A.clickedIndex!==A.activeIndex&&A.slideToClickedSlide()}},translate:{getTranslate:function tn(B){void 0===B&&(B=this.isHorizontal()?"x":"y");const{params:A,rtlTranslate:O,translate:ne,wrapperEl:ce}=this;if(A.virtualTranslate)return O?-ne:ne;if(A.cssMode)return ne;let me=(0,y.i)(ce,B);return me+=this.cssOverflowAdjustment(),O&&(me=-me),me||0},setTranslate:function dn(B,x){const A=this,{rtlTranslate:O,params:ne,wrapperEl:ce,progress:me}=A;let Lt,Ve=0,Be=0;A.isHorizontal()?Ve=O?-B:B:Be=B,ne.roundLengths&&(Ve=Math.floor(Ve),Be=Math.floor(Be)),A.previousTranslate=A.translate,A.translate=A.isHorizontal()?Ve:Be,ne.cssMode?ce[A.isHorizontal()?"scrollLeft":"scrollTop"]=A.isHorizontal()?-Ve:-Be:ne.virtualTranslate||(A.isHorizontal()?Ve-=A.cssOverflowAdjustment():Be-=A.cssOverflowAdjustment(),ce.style.transform=`translate3d(${Ve}px, ${Be}px, 0px)`);const fn=A.maxTranslate()-A.minTranslate();Lt=0===fn?0:(B-A.minTranslate())/fn,Lt!==me&&A.updateProgress(B),A.emit("setTranslate",A.translate,x)},minTranslate:function ct(){return-this.snapGrid[0]},maxTranslate:function et(){return-this.snapGrid[this.snapGrid.length-1]},translateTo:function wt(B,x,A,O,ne){void 0===B&&(B=0),void 0===x&&(x=this.params.speed),void 0===A&&(A=!0),void 0===O&&(O=!0);const ce=this,{params:me,wrapperEl:Ve}=ce;if(ce.animating&&me.preventInteractionOnTransition)return!1;const Be=ce.minTranslate(),jt=ce.maxTranslate();let Lt;if(Lt=O&&B>Be?Be:O&&B<jt?jt:B,ce.updateProgress(Lt),me.cssMode){const fn=ce.isHorizontal();if(0===x)Ve[fn?"scrollLeft":"scrollTop"]=-Lt;else{if(!ce.support.smoothScroll)return(0,y.q)({swiper:ce,targetPosition:-Lt,side:fn?"left":"top"}),!0;Ve.scrollTo({[fn?"left":"top"]:-Lt,behavior:"smooth"})}return!0}return 0===x?(ce.setTransition(0),ce.setTranslate(Lt),A&&(ce.emit("beforeTransitionStart",x,ne),ce.emit("transitionEnd"))):(ce.setTransition(x),ce.setTranslate(Lt),A&&(ce.emit("beforeTransitionStart",x,ne),ce.emit("transitionStart")),ce.animating||(ce.animating=!0,ce.onTranslateToWrapperTransitionEnd||(ce.onTranslateToWrapperTransitionEnd=function(Wt){!ce||ce.destroyed||Wt.target===this&&(ce.wrapperEl.removeEventListener("transitionend",ce.onTranslateToWrapperTransitionEnd),ce.onTranslateToWrapperTransitionEnd=null,delete ce.onTranslateToWrapperTransitionEnd,A&&ce.emit("transitionEnd"))}),ce.wrapperEl.addEventListener("transitionend",ce.onTranslateToWrapperTransitionEnd))),!0}},transition:{setTransition:function ft(B,x){const A=this;A.params.cssMode||(A.wrapperEl.style.transitionDuration=`${B}ms`,A.wrapperEl.style.transitionDelay=0===B?"0ms":""),A.emit("setTransition",B,x)},transitionStart:function Et(B,x){void 0===B&&(B=!0);const A=this,{params:O}=A;O.cssMode||(O.autoHeight&&A.updateAutoHeight(),Je({swiper:A,runCallbacks:B,direction:x,step:"Start"}))},transitionEnd:function vn(B,x){void 0===B&&(B=!0);const A=this,{params:O}=A;A.animating=!1,!O.cssMode&&(A.setTransition(0),Je({swiper:A,runCallbacks:B,direction:x,step:"End"}))}},slide:{slideTo:function xn(B,x,A,O,ne){void 0===B&&(B=0),void 0===x&&(x=this.params.speed),void 0===A&&(A=!0),"string"==typeof B&&(B=parseInt(B,10));const ce=this;let me=B;me<0&&(me=0);const{params:Ve,snapGrid:Be,slidesGrid:jt,previousIndex:Lt,activeIndex:fn,rtlTranslate:Wt,wrapperEl:en,enabled:In}=ce;if(ce.animating&&Ve.preventInteractionOnTransition||!In&&!O&&!ne)return!1;const Ut=Math.min(ce.params.slidesPerGroupSkip,me);let rn=Ut+Math.floor((me-Ut)/ce.params.slidesPerGroup);rn>=Be.length&&(rn=Be.length-1);const hn=-Be[rn];if(Ve.normalizeSlideIndex)for(let Kn=0;Kn<jt.length;Kn+=1){const ti=-Math.floor(100*hn),$i=Math.floor(100*jt[Kn]),Sr=Math.floor(100*jt[Kn+1]);typeof jt[Kn+1]<"u"?ti>=$i&&ti<Sr-(Sr-$i)/2?me=Kn:ti>=$i&&ti<Sr&&(me=Kn+1):ti>=$i&&(me=Kn)}if(ce.initialized&&me!==fn&&(!ce.allowSlideNext&&(Wt?hn>ce.translate&&hn>ce.minTranslate():hn<ce.translate&&hn<ce.minTranslate())||!ce.allowSlidePrev&&hn>ce.translate&&hn>ce.maxTranslate()&&(fn||0)!==me))return!1;let Yn;if(me!==(Lt||0)&&A&&ce.emit("beforeSlideChangeStart"),ce.updateProgress(hn),Yn=me>fn?"next":me<fn?"prev":"reset",Wt&&-hn===ce.translate||!Wt&&hn===ce.translate)return ce.updateActiveIndex(me),Ve.autoHeight&&ce.updateAutoHeight(),ce.updateSlidesClasses(),"slide"!==Ve.effect&&ce.setTranslate(hn),"reset"!==Yn&&(ce.transitionStart(A,Yn),ce.transitionEnd(A,Yn)),!1;if(Ve.cssMode){const Kn=ce.isHorizontal(),ti=Wt?hn:-hn;if(0===x){const $i=ce.virtual&&ce.params.virtual.enabled;$i&&(ce.wrapperEl.style.scrollSnapType="none",ce._immediateVirtual=!0),$i&&!ce._cssModeVirtualInitialSet&&ce.params.initialSlide>0?(ce._cssModeVirtualInitialSet=!0,requestAnimationFrame(()=>{en[Kn?"scrollLeft":"scrollTop"]=ti})):en[Kn?"scrollLeft":"scrollTop"]=ti,$i&&requestAnimationFrame(()=>{ce.wrapperEl.style.scrollSnapType="",ce._immediateVirtual=!1})}else{if(!ce.support.smoothScroll)return(0,y.q)({swiper:ce,targetPosition:ti,side:Kn?"left":"top"}),!0;en.scrollTo({[Kn?"left":"top"]:ti,behavior:"smooth"})}return!0}return ce.setTransition(x),ce.setTranslate(hn),ce.updateActiveIndex(me),ce.updateSlidesClasses(),ce.emit("beforeTransitionStart",x,O),ce.transitionStart(A,Yn),0===x?ce.transitionEnd(A,Yn):ce.animating||(ce.animating=!0,ce.onSlideToWrapperTransitionEnd||(ce.onSlideToWrapperTransitionEnd=function(ti){!ce||ce.destroyed||ti.target===this&&(ce.wrapperEl.removeEventListener("transitionend",ce.onSlideToWrapperTransitionEnd),ce.onSlideToWrapperTransitionEnd=null,delete ce.onSlideToWrapperTransitionEnd,ce.transitionEnd(A,Yn))}),ce.wrapperEl.addEventListener("transitionend",ce.onSlideToWrapperTransitionEnd)),!0},slideToLoop:function Gt(B,x,A,O){void 0===B&&(B=0),void 0===x&&(x=this.params.speed),void 0===A&&(A=!0),"string"==typeof B&&(B=parseInt(B,10));const ne=this,ce=ne.grid&&ne.params.grid&&ne.params.grid.rows>1;let me=B;if(ne.params.loop)if(ne.virtual&&ne.params.virtual.enabled)me+=ne.virtual.slidesBefore;else{let Ve;if(ce){const Wt=me*ne.params.grid.rows;Ve=ne.slides.filter(en=>1*en.getAttribute("data-swiper-slide-index")===Wt)[0].column}else Ve=ne.getSlideIndexByData(me);const Be=ce?Math.ceil(ne.slides.length/ne.params.grid.rows):ne.slides.length,{centeredSlides:jt}=ne.params;let Lt=ne.params.slidesPerView;"auto"===Lt?Lt=ne.slidesPerViewDynamic():(Lt=Math.ceil(parseFloat(ne.params.slidesPerView,10)),jt&&Lt%2==0&&(Lt+=1));let fn=Be-Ve<Lt;if(jt&&(fn=fn||Ve<Math.ceil(Lt/2)),fn){const Wt=jt?Ve<ne.activeIndex?"prev":"next":Ve-ne.activeIndex-1<ne.params.slidesPerView?"next":"prev";ne.loopFix({direction:Wt,slideTo:!0,activeSlideIndex:"next"===Wt?Ve+1:Ve-Be+1,slideRealIndex:"next"===Wt?ne.realIndex:void 0})}if(ce){const Wt=me*ne.params.grid.rows;me=ne.slides.filter(en=>1*en.getAttribute("data-swiper-slide-index")===Wt)[0].column}else me=ne.getSlideIndexByData(me)}return requestAnimationFrame(()=>{ne.slideTo(me,x,A,O)}),ne},slideNext:function li(B,x,A){void 0===B&&(B=this.params.speed),void 0===x&&(x=!0);const O=this,{enabled:ne,params:ce,animating:me}=O;if(!ne)return O;let Ve=ce.slidesPerGroup;"auto"===ce.slidesPerView&&1===ce.slidesPerGroup&&ce.slidesPerGroupAuto&&(Ve=Math.max(O.slidesPerViewDynamic("current",!0),1));const Be=O.activeIndex<ce.slidesPerGroupSkip?1:Ve;if(ce.loop){if(me&&(!O.virtual||!ce.virtual.enabled)&&ce.loopPreventsSliding)return!1;if(O.loopFix({direction:"next"}),O._clientLeft=O.wrapperEl.clientLeft,O.activeIndex===O.slides.length-1&&ce.cssMode)return requestAnimationFrame(()=>{O.slideTo(O.activeIndex+Be,B,x,A)}),!0}return O.slideTo(ce.rewind&&O.isEnd?0:O.activeIndex+Be,B,x,A)},slidePrev:function Dn(B,x,A){void 0===B&&(B=this.params.speed),void 0===x&&(x=!0);const O=this,{params:ne,snapGrid:ce,slidesGrid:me,rtlTranslate:Ve,enabled:Be,animating:jt}=O;if(!Be)return O;if(ne.loop){if(jt&&(!O.virtual||!ne.virtual.enabled)&&ne.loopPreventsSliding)return!1;O.loopFix({direction:"prev"}),O._clientLeft=O.wrapperEl.clientLeft}function Wt(hn){return hn<0?-Math.floor(Math.abs(hn)):Math.floor(hn)}const en=Wt(Ve?O.translate:-O.translate),In=ce.map(hn=>Wt(hn));let Ut=ce[In.indexOf(en)-1];if(typeof Ut>"u"&&ne.cssMode){let hn;ce.forEach((Yn,Kn)=>{en>=Yn&&(hn=Kn)}),typeof hn<"u"&&(Ut=ce[hn>0?hn-1:hn])}let rn=0;return typeof Ut<"u"&&(rn=me.indexOf(Ut),rn<0&&(rn=O.activeIndex-1),"auto"===ne.slidesPerView&&1===ne.slidesPerGroup&&ne.slidesPerGroupAuto&&(rn=rn-O.slidesPerViewDynamic("previous",!0)+1,rn=Math.max(rn,0))),ne.rewind&&O.isBeginning?O.slideTo(O.params.virtual&&O.params.virtual.enabled&&O.virtual?O.virtual.slides.length-1:O.slides.length-1,B,x,A):ne.loop&&0===O.activeIndex&&ne.cssMode?(requestAnimationFrame(()=>{O.slideTo(rn,B,x,A)}),!0):O.slideTo(rn,B,x,A)},slideReset:function Nt(B,x,A){return void 0===B&&(B=this.params.speed),void 0===x&&(x=!0),this.slideTo(this.activeIndex,B,x,A)},slideToClosest:function On(B,x,A,O){void 0===B&&(B=this.params.speed),void 0===x&&(x=!0),void 0===O&&(O=.5);const ne=this;let ce=ne.activeIndex;const me=Math.min(ne.params.slidesPerGroupSkip,ce),Ve=me+Math.floor((ce-me)/ne.params.slidesPerGroup),Be=ne.rtlTranslate?ne.translate:-ne.translate;if(Be>=ne.snapGrid[Ve]){const jt=ne.snapGrid[Ve];Be-jt>(ne.snapGrid[Ve+1]-jt)*O&&(ce+=ne.params.slidesPerGroup)}else{const jt=ne.snapGrid[Ve-1];Be-jt<=(ne.snapGrid[Ve]-jt)*O&&(ce-=ne.params.slidesPerGroup)}return ce=Math.max(ce,0),ce=Math.min(ce,ne.slidesGrid.length-1),ne.slideTo(ce,B,x,A)},slideToClickedSlide:function Vn(){const B=this,{params:x,slidesEl:A}=B,O="auto"===x.slidesPerView?B.slidesPerViewDynamic():x.slidesPerView;let ce,ne=B.clickedIndex;const me=B.isElement?"swiper-slide":`.${x.slideClass}`;if(x.loop){if(B.animating)return;ce=parseInt(B.clickedSlide.getAttribute("data-swiper-slide-index"),10),x.centeredSlides?ne<B.loopedSlides-O/2||ne>B.slides.length-B.loopedSlides+O/2?(B.loopFix(),ne=B.getSlideIndex((0,y.e)(A,`${me}[data-swiper-slide-index="${ce}"]`)[0]),(0,y.n)(()=>{B.slideTo(ne)})):B.slideTo(ne):ne>B.slides.length-O?(B.loopFix(),ne=B.getSlideIndex((0,y.e)(A,`${me}[data-swiper-slide-index="${ce}"]`)[0]),(0,y.n)(()=>{B.slideTo(ne)})):B.slideTo(ne)}else B.slideTo(ne)}},loop:{loopCreate:function Di(B){const x=this,{params:A,slidesEl:O}=x;if(!A.loop||x.virtual&&x.params.virtual.enabled)return;const ne=()=>{(0,y.e)(O,`.${A.slideClass}, swiper-slide`).forEach((fn,Wt)=>{fn.setAttribute("data-swiper-slide-index",Wt)})},ce=x.grid&&A.grid&&A.grid.rows>1,me=A.slidesPerGroup*(ce?A.grid.rows:1),Be=ce&&x.slides.length%A.grid.rows!=0,jt=Lt=>{for(let fn=0;fn<Lt;fn+=1){const Wt=x.isElement?(0,y.c)("swiper-slide",[A.slideBlankClass]):(0,y.c)("div",[A.slideClass,A.slideBlankClass]);x.slidesEl.append(Wt)}};x.slides.length%me!=0?(A.loopAddBlankSlides?(jt(me-x.slides.length%me),x.recalcSlides(),x.updateSlides()):(0,y.r)("Swiper Loop Warning: The number of slides is not even to slidesPerGroup, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)"),ne()):Be?(A.loopAddBlankSlides?(jt(A.grid.rows-x.slides.length%A.grid.rows),x.recalcSlides(),x.updateSlides()):(0,y.r)("Swiper Loop Warning: The number of slides is not even to grid.rows, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)"),ne()):ne(),x.loopFix({slideRealIndex:B,direction:A.centeredSlides?void 0:"next"})},loopFix:function Vi(B){let{slideRealIndex:x,slideTo:A=!0,direction:O,setTranslate:ne,activeSlideIndex:ce,byController:me,byMousewheel:Ve}=void 0===B?{}:B;const Be=this;if(!Be.params.loop)return;Be.emit("beforeLoopFix");const{slides:jt,allowSlidePrev:Lt,allowSlideNext:fn,slidesEl:Wt,params:en}=Be,{centeredSlides:In}=en;if(Be.allowSlidePrev=!0,Be.allowSlideNext=!0,Be.virtual&&en.virtual.enabled)return A&&(en.centeredSlides||0!==Be.snapIndex?en.centeredSlides&&Be.snapIndex<en.slidesPerView?Be.slideTo(Be.virtual.slides.length+Be.snapIndex,0,!1,!0):Be.snapIndex===Be.snapGrid.length-1&&Be.slideTo(Be.virtual.slidesBefore,0,!1,!0):Be.slideTo(Be.virtual.slides.length,0,!1,!0)),Be.allowSlidePrev=Lt,Be.allowSlideNext=fn,void Be.emit("loopFix");let Ut=en.slidesPerView;"auto"===Ut?Ut=Be.slidesPerViewDynamic():(Ut=Math.ceil(parseFloat(en.slidesPerView,10)),In&&Ut%2==0&&(Ut+=1));const rn=en.slidesPerGroupAuto?Ut:en.slidesPerGroup;let hn=rn;hn%rn!=0&&(hn+=rn-hn%rn),hn+=en.loopAdditionalSlides,Be.loopedSlides=hn;const Yn=Be.grid&&en.grid&&en.grid.rows>1;jt.length<Ut+hn?(0,y.r)("Swiper Loop Warning: The number of slides is not enough for loop mode, it will be disabled and not function properly. You need to add more slides (or make duplicates) or lower the values of slidesPerView and slidesPerGroup parameters"):Yn&&"row"===en.grid.fill&&(0,y.r)("Swiper Loop Warning: Loop mode is not compatible with grid.fill = `row`");const Kn=[],ti=[];let $i=Be.activeIndex;typeof ce>"u"?ce=Be.getSlideIndex(jt.filter(ur=>ur.classList.contains(en.slideActiveClass))[0]):$i=ce;const Sr="next"===O||!O,yr="prev"===O||!O;let Ki=0,wr=0;const Wi=Yn?Math.ceil(jt.length/en.grid.rows):jt.length,Hr=(Yn?jt[ce].column:ce)+(In&&typeof ne>"u"?-Ut/2+.5:0);if(Hr<hn){Ki=Math.max(hn-Hr,rn);for(let ur=0;ur<hn-Hr;ur+=1){const rs=ur-Math.floor(ur/Wi)*Wi;if(Yn){const $s=Wi-rs-1;for(let ws=jt.length-1;ws>=0;ws-=1)jt[ws].column===$s&&Kn.push(ws)}else Kn.push(Wi-rs-1)}}else if(Hr+Ut>Wi-hn){wr=Math.max(Hr-(Wi-2*hn),rn);for(let ur=0;ur<wr;ur+=1){const rs=ur-Math.floor(ur/Wi)*Wi;Yn?jt.forEach(($s,ws)=>{$s.column===rs&&ti.push(ws)}):ti.push(rs)}}if(Be.__preventObserver__=!0,requestAnimationFrame(()=>{Be.__preventObserver__=!1}),yr&&Kn.forEach(ur=>{jt[ur].swiperLoopMoveDOM=!0,Wt.prepend(jt[ur]),jt[ur].swiperLoopMoveDOM=!1}),Sr&&ti.forEach(ur=>{jt[ur].swiperLoopMoveDOM=!0,Wt.append(jt[ur]),jt[ur].swiperLoopMoveDOM=!1}),Be.recalcSlides(),"auto"===en.slidesPerView?Be.updateSlides():Yn&&(Kn.length>0&&yr||ti.length>0&&Sr)&&Be.slides.forEach((ur,rs)=>{Be.grid.updateSlide(rs,ur,Be.slides)}),en.watchSlidesProgress&&Be.updateSlidesOffset(),A)if(Kn.length>0&&yr)if(typeof x>"u"){const $s=Be.slidesGrid[$i+Ki]-Be.slidesGrid[$i];Ve?Be.setTranslate(Be.translate-$s):(Be.slideTo($i+Ki,0,!1,!0),ne&&(Be.touchEventsData.startTranslate=Be.touchEventsData.startTranslate-$s,Be.touchEventsData.currentTranslate=Be.touchEventsData.currentTranslate-$s))}else ne&&(Be.slideTo(Be.activeIndex+(Yn?Kn.length/en.grid.rows:Kn.length),0,!1,!0),Be.touchEventsData.currentTranslate=Be.translate);else if(ti.length>0&&Sr)if(typeof x>"u"){const $s=Be.slidesGrid[$i-wr]-Be.slidesGrid[$i];Ve?Be.setTranslate(Be.translate-$s):(Be.slideTo($i-wr,0,!1,!0),ne&&(Be.touchEventsData.startTranslate=Be.touchEventsData.startTranslate-$s,Be.touchEventsData.currentTranslate=Be.touchEventsData.currentTranslate-$s))}else Be.slideTo(Be.activeIndex-(Yn?ti.length/en.grid.rows:ti.length),0,!1,!0);if(Be.allowSlidePrev=Lt,Be.allowSlideNext=fn,Be.controller&&Be.controller.control&&!me){const ur={slideRealIndex:x,direction:O,setTranslate:ne,activeSlideIndex:ce,byController:!0};Array.isArray(Be.controller.control)?Be.controller.control.forEach(rs=>{!rs.destroyed&&rs.params.loop&&rs.loopFix({...ur,slideTo:rs.params.slidesPerView===en.slidesPerView&&A})}):Be.controller.control instanceof Be.constructor&&Be.controller.control.params.loop&&Be.controller.control.loopFix({...ur,slideTo:Be.controller.control.params.slidesPerView===en.slidesPerView&&A})}Be.emit("loopFix")},loopDestroy:function Xn(){const B=this,{params:x,slidesEl:A}=B;if(!x.loop||B.virtual&&B.params.virtual.enabled)return;B.recalcSlides();const O=[];B.slides.forEach(ne=>{const ce=typeof ne.swiperSlideIndex>"u"?1*ne.getAttribute("data-swiper-slide-index"):ne.swiperSlideIndex;O[ce]=ne}),B.slides.forEach(ne=>{ne.removeAttribute("data-swiper-slide-index")}),O.forEach(ne=>{A.append(ne)}),B.recalcSlides(),B.slideTo(B.realIndex,0)}},grabCursor:{setGrabCursor:function Ni(B){const x=this;if(!x.params.simulateTouch||x.params.watchOverflow&&x.isLocked||x.params.cssMode)return;const A="container"===x.params.touchEventsTarget?x.el:x.wrapperEl;x.isElement&&(x.__preventObserver__=!0),A.style.cursor="move",A.style.cursor=B?"grabbing":"grab",x.isElement&&requestAnimationFrame(()=>{x.__preventObserver__=!1})},unsetGrabCursor:function rr(){const B=this;B.params.watchOverflow&&B.isLocked||B.params.cssMode||(B.isElement&&(B.__preventObserver__=!0),B["container"===B.params.touchEventsTarget?"el":"wrapperEl"].style.cursor="",B.isElement&&requestAnimationFrame(()=>{B.__preventObserver__=!1}))}},events:{attachEvents:function Jr(){const B=this,{params:x}=B;B.onTouchStart=kr.bind(B),B.onTouchMove=Ar.bind(B),B.onTouchEnd=Li.bind(B),B.onDocumentTouchStart=Zi.bind(B),x.cssMode&&(B.onScroll=Bi.bind(B)),B.onClick=Xr.bind(B),B.onLoad=Mi.bind(B),Qr(B,"on")},detachEvents:function Ir(){Qr(this,"off")}},breakpoints:{setBreakpoint:function tr(){const B=this,{realIndex:x,initialized:A,params:O,el:ne}=B,ce=O.breakpoints;if(!ce||ce&&0===Object.keys(ce).length)return;const me=B.getBreakpoint(ce,B.params.breakpointsBase,B.el);if(!me||B.currentBreakpoint===me)return;const Be=(me in ce?ce[me]:void 0)||B.originalParams,jt=ns(B,O),Lt=ns(B,Be),fn=O.enabled;jt&&!Lt?(ne.classList.remove(`${O.containerModifierClass}grid`,`${O.containerModifierClass}grid-column`),B.emitContainerClasses()):!jt&&Lt&&(ne.classList.add(`${O.containerModifierClass}grid`),(Be.grid.fill&&"column"===Be.grid.fill||!Be.grid.fill&&"column"===O.grid.fill)&&ne.classList.add(`${O.containerModifierClass}grid-column`),B.emitContainerClasses()),["navigation","pagination","scrollbar"].forEach(hn=>{if(typeof Be[hn]>"u")return;const Yn=O[hn]&&O[hn].enabled,Kn=Be[hn]&&Be[hn].enabled;Yn&&!Kn&&B[hn].disable(),!Yn&&Kn&&B[hn].enable()});const Wt=Be.direction&&Be.direction!==O.direction,en=O.loop&&(Be.slidesPerView!==O.slidesPerView||Wt),In=O.loop;Wt&&A&&B.changeDirection(),(0,y.t)(B.params,Be);const Ut=B.params.enabled,rn=B.params.loop;Object.assign(B,{allowTouchMove:B.params.allowTouchMove,allowSlideNext:B.params.allowSlideNext,allowSlidePrev:B.params.allowSlidePrev}),fn&&!Ut?B.disable():!fn&&Ut&&B.enable(),B.currentBreakpoint=me,B.emit("_beforeBreakpoint",Be),A&&(en?(B.loopDestroy(),B.loopCreate(x),B.updateSlides()):!In&&rn?(B.loopCreate(x),B.updateSlides()):In&&!rn&&B.loopDestroy()),B.emit("breakpoint",Be)},getBreakpoint:function Hi(B,x,A){if(void 0===x&&(x="window"),!B||"container"===x&&!A)return;let O=!1;const ne=(0,c.a)(),ce="window"===x?ne.innerHeight:A.clientHeight,me=Object.keys(B).map(Ve=>{if("string"==typeof Ve&&0===Ve.indexOf("@")){const Be=parseFloat(Ve.substr(1));return{value:ce*Be,point:Ve}}return{value:Ve,point:Ve}});me.sort((Ve,Be)=>parseInt(Ve.value,10)-parseInt(Be.value,10));for(let Ve=0;Ve<me.length;Ve+=1){const{point:Be,value:jt}=me[Ve];"window"===x?ne.matchMedia(`(min-width: ${jt}px)`).matches&&(O=Be):jt<=A.clientWidth&&(O=Be)}return O||"max"}},checkOverflow:{checkOverflow:function _n(){const B=this,{isLocked:x,params:A}=B,{slidesOffsetBefore:O}=A;if(O){const ne=B.slides.length-1;B.isLocked=B.size>B.slidesGrid[ne]+B.slidesSizesGrid[ne]+2*O}else B.isLocked=1===B.snapGrid.length;!0===A.allowSlideNext&&(B.allowSlideNext=!B.isLocked),!0===A.allowSlidePrev&&(B.allowSlidePrev=!B.isLocked),x&&x!==B.isLocked&&(B.isEnd=!1),x!==B.isLocked&&B.emit(B.isLocked?"lock":"unlock")}},classes:{addClasses:function zn(){const B=this,{classNames:x,params:A,rtl:O,el:ne,device:ce}=B,me=function nr(B,x){const A=[];return B.forEach(O=>{"object"==typeof O?Object.keys(O).forEach(ne=>{O[ne]&&A.push(x+ne)}):"string"==typeof O&&A.push(x+O)}),A}(["initialized",A.direction,{"free-mode":B.params.freeMode&&A.freeMode.enabled},{autoheight:A.autoHeight},{rtl:O},{grid:A.grid&&A.grid.rows>1},{"grid-column":A.grid&&A.grid.rows>1&&"column"===A.grid.fill},{android:ce.android},{ios:ce.ios},{"css-mode":A.cssMode},{centered:A.cssMode&&A.centeredSlides},{"watch-progress":A.watchSlidesProgress}],A.containerModifierClass);x.push(...me),ne.classList.add(...x),B.emitContainerClasses()},removeClasses:function Ge(){const{el:x,classNames:A}=this;x.classList.remove(...A),this.emitContainerClasses()}}},sr={};class Pt{constructor(){let x,A;for(var O=arguments.length,ne=new Array(O),ce=0;ce<O;ce++)ne[ce]=arguments[ce];1===ne.length&&ne[0].constructor&&"Object"===Object.prototype.toString.call(ne[0]).slice(8,-1)?A=ne[0]:[x,A]=ne,A||(A={}),A=(0,y.t)({},A),x&&!A.el&&(A.el=x);const me=(0,c.g)();if(A.el&&"string"==typeof A.el&&me.querySelectorAll(A.el).length>1){const Lt=[];return me.querySelectorAll(A.el).forEach(fn=>{const Wt=(0,y.t)({},A,{el:fn});Lt.push(new Pt(Wt))}),Lt}const Ve=this;Ve.__swiper__=!0,Ve.support=dt(),Ve.device=function $e(B){return void 0===B&&(B={}),Ye||(Ye=function be(B){let{userAgent:x}=void 0===B?{}:B;const A=dt(),O=(0,c.a)(),ne=O.navigator.platform,ce=x||O.navigator.userAgent,me={ios:!1,android:!1},Ve=O.screen.width,Be=O.screen.height,jt=ce.match(/(Android);?[\s\/]+([\d.]+)?/);let Lt=ce.match(/(iPad).*OS\s([\d_]+)/);const fn=ce.match(/(iPod)(.*OS\s([\d_]+))?/),Wt=!Lt&&ce.match(/(iPhone\sOS|iOS)\s([\d_]+)/),en="Win32"===ne;let In="MacIntel"===ne;return!Lt&&In&&A.touch&&["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"].indexOf(`${Ve}x${Be}`)>=0&&(Lt=ce.match(/(Version)\/([\d.]+)/),Lt||(Lt=[0,1,"13_0_0"]),In=!1),jt&&!en&&(me.os="android",me.android=!0),(Lt||Wt||fn)&&(me.os="ios",me.ios=!0),me}(B)),Ye}({userAgent:A.userAgent}),Ve.browser=function Re(){return Ke||(Ke=function Ue(){const B=(0,c.a)();let x=!1;function A(){const O=B.navigator.userAgent.toLowerCase();return O.indexOf("safari")>=0&&O.indexOf("chrome")<0&&O.indexOf("android")<0}if(A()){const O=String(B.navigator.userAgent);if(O.includes("Version/")){const[ne,ce]=O.split("Version/")[1].split(" ")[0].split(".").map(me=>Number(me));x=ne<16||16===ne&&ce<2}}return{isSafari:x||A(),needPerspectiveFix:x,isWebView:/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(B.navigator.userAgent)}}()),Ke}(),Ve.eventsListeners={},Ve.eventsAnyListeners=[],Ve.modules=[...Ve.__modules__],A.modules&&Array.isArray(A.modules)&&Ve.modules.push(...A.modules);const Be={};Ve.modules.forEach(Lt=>{Lt({params:A,swiper:Ve,extendParams:Dr(A,Be),on:Ve.on.bind(Ve),once:Ve.once.bind(Ve),off:Ve.off.bind(Ve),emit:Ve.emit.bind(Ve)})});const jt=(0,y.t)({},mi,Be);return Ve.params=(0,y.t)({},jt,sr,A),Ve.originalParams=(0,y.t)({},Ve.params),Ve.passedParams=(0,y.t)({},A),Ve.params&&Ve.params.on&&Object.keys(Ve.params.on).forEach(Lt=>{Ve.on(Lt,Ve.params.on[Lt])}),Ve.params&&Ve.params.onAny&&Ve.onAny(Ve.params.onAny),Object.assign(Ve,{enabled:Ve.params.enabled,el:x,classNames:[],slides:[],slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal:()=>"horizontal"===Ve.params.direction,isVertical:()=>"vertical"===Ve.params.direction,activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,cssOverflowAdjustment(){return Math.trunc(this.translate/2**23)*2**23},allowSlideNext:Ve.params.allowSlideNext,allowSlidePrev:Ve.params.allowSlidePrev,touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,focusableElements:Ve.params.focusableElements,lastClickTime:0,clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,startMoving:void 0,pointerId:null,touchId:null},allowClick:!0,allowTouchMove:Ve.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),Ve.emit("_swiper"),Ve.params.init&&Ve.init(),Ve}getDirectionLabel(x){return this.isHorizontal()?x:{width:"height","margin-top":"margin-left","margin-bottom ":"margin-right","margin-left":"margin-top","margin-right":"margin-bottom","padding-left":"padding-top","padding-right":"padding-bottom",marginRight:"marginBottom"}[x]}getSlideIndex(x){const{slidesEl:A,params:O}=this,ne=(0,y.e)(A,`.${O.slideClass}, swiper-slide`),ce=(0,y.g)(ne[0]);return(0,y.g)(x)-ce}getSlideIndexByData(x){return this.getSlideIndex(this.slides.filter(A=>1*A.getAttribute("data-swiper-slide-index")===x)[0])}recalcSlides(){const{slidesEl:A,params:O}=this;this.slides=(0,y.e)(A,`.${O.slideClass}, swiper-slide`)}enable(){const x=this;x.enabled||(x.enabled=!0,x.params.grabCursor&&x.setGrabCursor(),x.emit("enable"))}disable(){const x=this;x.enabled&&(x.enabled=!1,x.params.grabCursor&&x.unsetGrabCursor(),x.emit("disable"))}setProgress(x,A){const O=this;x=Math.min(Math.max(x,0),1);const ne=O.minTranslate(),me=(O.maxTranslate()-ne)*x+ne;O.translateTo(me,typeof A>"u"?0:A),O.updateActiveIndex(),O.updateSlidesClasses()}emitContainerClasses(){const x=this;if(!x.params._emitClasses||!x.el)return;const A=x.el.className.split(" ").filter(O=>0===O.indexOf("swiper")||0===O.indexOf(x.params.containerModifierClass));x.emit("_containerClasses",A.join(" "))}getSlideClasses(x){const A=this;return A.destroyed?"":x.className.split(" ").filter(O=>0===O.indexOf("swiper-slide")||0===O.indexOf(A.params.slideClass)).join(" ")}emitSlidesClasses(){const x=this;if(!x.params._emitClasses||!x.el)return;const A=[];x.slides.forEach(O=>{const ne=x.getSlideClasses(O);A.push({slideEl:O,classNames:ne}),x.emit("_slideClass",O,ne)}),x.emit("_slideClasses",A)}slidesPerViewDynamic(x,A){void 0===x&&(x="current"),void 0===A&&(A=!1);const{params:ne,slides:ce,slidesGrid:me,slidesSizesGrid:Ve,size:Be,activeIndex:jt}=this;let Lt=1;if("number"==typeof ne.slidesPerView)return ne.slidesPerView;if(ne.centeredSlides){let Wt,fn=ce[jt]?ce[jt].swiperSlideSize:0;for(let en=jt+1;en<ce.length;en+=1)ce[en]&&!Wt&&(fn+=ce[en].swiperSlideSize,Lt+=1,fn>Be&&(Wt=!0));for(let en=jt-1;en>=0;en-=1)ce[en]&&!Wt&&(fn+=ce[en].swiperSlideSize,Lt+=1,fn>Be&&(Wt=!0))}else if("current"===x)for(let fn=jt+1;fn<ce.length;fn+=1)(A?me[fn]+Ve[fn]-me[jt]<Be:me[fn]-me[jt]<Be)&&(Lt+=1);else for(let fn=jt-1;fn>=0;fn-=1)me[jt]-me[fn]<Be&&(Lt+=1);return Lt}update(){const x=this;if(!x||x.destroyed)return;const{snapGrid:A,params:O}=x;function ne(){const Ve=Math.min(Math.max(x.rtlTranslate?-1*x.translate:x.translate,x.maxTranslate()),x.minTranslate());x.setTranslate(Ve),x.updateActiveIndex(),x.updateSlidesClasses()}let ce;O.breakpoints&&x.setBreakpoint(),[...x.el.querySelectorAll('[loading="lazy"]')].forEach(me=>{me.complete&&zt(x,me)}),x.updateSize(),x.updateSlides(),x.updateProgress(),x.updateSlidesClasses(),O.freeMode&&O.freeMode.enabled&&!O.cssMode?(ne(),O.autoHeight&&x.updateAutoHeight()):(ce=x.slideTo(("auto"===O.slidesPerView||O.slidesPerView>1)&&x.isEnd&&!O.centeredSlides?(x.virtual&&O.virtual.enabled?x.virtual.slides:x.slides).length-1:x.activeIndex,0,!1,!0),ce||ne()),O.watchOverflow&&A!==x.snapGrid&&x.checkOverflow(),x.emit("update")}changeDirection(x,A){void 0===A&&(A=!0);const O=this,ne=O.params.direction;return x||(x="horizontal"===ne?"vertical":"horizontal"),x===ne||"horizontal"!==x&&"vertical"!==x||(O.el.classList.remove(`${O.params.containerModifierClass}${ne}`),O.el.classList.add(`${O.params.containerModifierClass}${x}`),O.emitContainerClasses(),O.params.direction=x,O.slides.forEach(ce=>{"vertical"===x?ce.style.width="":ce.style.height=""}),O.emit("changeDirection"),A&&O.update()),O}changeLanguageDirection(x){const A=this;A.rtl&&"rtl"===x||!A.rtl&&"ltr"===x||(A.rtl="rtl"===x,A.rtlTranslate="horizontal"===A.params.direction&&A.rtl,A.rtl?(A.el.classList.add(`${A.params.containerModifierClass}rtl`),A.el.dir="rtl"):(A.el.classList.remove(`${A.params.containerModifierClass}rtl`),A.el.dir="ltr"),A.update())}mount(x){const A=this;if(A.mounted)return!0;let O=x||A.params.el;if("string"==typeof O&&(O=document.querySelector(O)),!O)return!1;O.swiper=A,O.parentNode&&O.parentNode.host&&"SWIPER-CONTAINER"===O.parentNode.host.nodeName&&(A.isElement=!0);const ne=()=>`.${(A.params.wrapperClass||"").trim().split(" ").join(".")}`;let me=O&&O.shadowRoot&&O.shadowRoot.querySelector?O.shadowRoot.querySelector(ne()):(0,y.e)(O,ne())[0];return!me&&A.params.createElements&&(me=(0,y.c)("div",A.params.wrapperClass),O.append(me),(0,y.e)(O,`.${A.params.slideClass}`).forEach(Ve=>{me.append(Ve)})),Object.assign(A,{el:O,wrapperEl:me,slidesEl:A.isElement&&!O.parentNode.host.slideSlots?O.parentNode.host:me,hostEl:A.isElement?O.parentNode.host:O,mounted:!0,rtl:"rtl"===O.dir.toLowerCase()||"rtl"===(0,y.m)(O,"direction"),rtlTranslate:"horizontal"===A.params.direction&&("rtl"===O.dir.toLowerCase()||"rtl"===(0,y.m)(O,"direction")),wrongRTL:"-webkit-box"===(0,y.m)(me,"display")}),!0}init(x){const A=this;if(A.initialized||!1===A.mount(x))return A;A.emit("beforeInit"),A.params.breakpoints&&A.setBreakpoint(),A.addClasses(),A.updateSize(),A.updateSlides(),A.params.watchOverflow&&A.checkOverflow(),A.params.grabCursor&&A.enabled&&A.setGrabCursor(),A.slideTo(A.params.loop&&A.virtual&&A.params.virtual.enabled?A.params.initialSlide+A.virtual.slidesBefore:A.params.initialSlide,0,A.params.runCallbacksOnInit,!1,!0),A.params.loop&&A.loopCreate(),A.attachEvents();const ne=[...A.el.querySelectorAll('[loading="lazy"]')];return A.isElement&&ne.push(...A.hostEl.querySelectorAll('[loading="lazy"]')),ne.forEach(ce=>{ce.complete?zt(A,ce):ce.addEventListener("load",me=>{zt(A,me.target)})}),Yt(A),A.initialized=!0,Yt(A),A.emit("init"),A.emit("afterInit"),A}destroy(x,A){void 0===x&&(x=!0),void 0===A&&(A=!0);const O=this,{params:ne,el:ce,wrapperEl:me,slides:Ve}=O;return typeof O.params>"u"||O.destroyed||(O.emit("beforeDestroy"),O.initialized=!1,O.detachEvents(),ne.loop&&O.loopDestroy(),A&&(O.removeClasses(),ce.removeAttribute("style"),me.removeAttribute("style"),Ve&&Ve.length&&Ve.forEach(Be=>{Be.classList.remove(ne.slideVisibleClass,ne.slideFullyVisibleClass,ne.slideActiveClass,ne.slideNextClass,ne.slidePrevClass),Be.removeAttribute("style"),Be.removeAttribute("data-swiper-slide-index")})),O.emit("destroy"),Object.keys(O.eventsListeners).forEach(Be=>{O.off(Be)}),!1!==x&&(O.el.swiper=null,(0,y.u)(O)),O.destroyed=!0),null}static extendDefaults(x){(0,y.t)(sr,x)}static get extendedDefaults(){return sr}static get defaults(){return mi}static installModule(x){Pt.prototype.__modules__||(Pt.prototype.__modules__=[]);const A=Pt.prototype.__modules__;"function"==typeof x&&A.indexOf(x)<0&&A.push(x)}static use(x){return Array.isArray(x)?(x.forEach(A=>Pt.installModule(A)),Pt):(Pt.installModule(x),Pt)}}Object.keys(pr).forEach(B=>{Object.keys(pr[B]).forEach(x=>{Pt.prototype[x]=pr[B][x]})}),Pt.use([function Xe(B){let{swiper:x,on:A,emit:O}=B;const ne=(0,c.a)();let ce=null,me=null;const Ve=()=>{!x||x.destroyed||!x.initialized||(O("beforeResize"),O("resize"))},Lt=()=>{!x||x.destroyed||!x.initialized||O("orientationchange")};A("init",()=>{x.params.resizeObserver&&typeof ne.ResizeObserver<"u"?!x||x.destroyed||!x.initialized||(ce=new ResizeObserver(fn=>{me=ne.requestAnimationFrame(()=>{const{width:Wt,height:en}=x;let In=Wt,Ut=en;fn.forEach(rn=>{let{contentBoxSize:hn,contentRect:Yn,target:Kn}=rn;Kn&&Kn!==x.el||(In=Yn?Yn.width:(hn[0]||hn).inlineSize,Ut=Yn?Yn.height:(hn[0]||hn).blockSize)}),(In!==Wt||Ut!==en)&&Ve()})}),ce.observe(x.el)):(ne.addEventListener("resize",Ve),ne.addEventListener("orientationchange",Lt))}),A("destroy",()=>{me&&ne.cancelAnimationFrame(me),ce&&ce.unobserve&&x.el&&(ce.unobserve(x.el),ce=null),ne.removeEventListener("resize",Ve),ne.removeEventListener("orientationchange",Lt)})},function Le(B){let{swiper:x,extendParams:A,on:O,emit:ne}=B;const ce=[],me=(0,c.a)(),Ve=function(Lt,fn){void 0===fn&&(fn={});const en=new(me.MutationObserver||me.WebkitMutationObserver)(In=>{if(x.__preventObserver__)return;if(1===In.length)return void ne("observerUpdate",In[0]);const Ut=function(){ne("observerUpdate",In[0])};me.requestAnimationFrame?me.requestAnimationFrame(Ut):me.setTimeout(Ut,0)});en.observe(Lt,{attributes:typeof fn.attributes>"u"||fn.attributes,childList:typeof fn.childList>"u"||fn.childList,characterData:typeof fn.characterData>"u"||fn.characterData}),ce.push(en)};A({observer:!1,observeParents:!1,observeSlideChildren:!1}),O("init",()=>{if(x.params.observer){if(x.params.observeParents){const Lt=(0,y.a)(x.hostEl);for(let fn=0;fn<Lt.length;fn+=1)Ve(Lt[fn])}Ve(x.hostEl,{childList:x.params.observeSlideChildren}),Ve(x.wrapperEl,{attributes:!1})}}),O("destroy",()=>{ce.forEach(Lt=>{Lt.disconnect()}),ce.splice(0,ce.length)})}])},2357:(Ii,ln,Y)=>{"use strict";Y.d(ln,{a:()=>dt,b:()=>Ye,c:()=>$e,e:()=>De,i:()=>y,n:()=>ze,p:()=>c,u:()=>Ue});const c=["eventsPrefix","injectStyles","injectStylesUrls","modules","init","_direction","oneWayMovement","touchEventsTarget","initialSlide","_speed","cssMode","updateOnWindowResize","resizeObserver","nested","focusableElements","_enabled","_width","_height","preventInteractionOnTransition","userAgent","url","_edgeSwipeDetection","_edgeSwipeThreshold","_freeMode","_autoHeight","setWrapperSize","virtualTranslate","_effect","breakpoints","breakpointsBase","_spaceBetween","_slidesPerView","maxBackfaceHiddenSlides","_grid","_slidesPerGroup","_slidesPerGroupSkip","_slidesPerGroupAuto","_centeredSlides","_centeredSlidesBounds","_slidesOffsetBefore","_slidesOffsetAfter","normalizeSlideIndex","_centerInsufficientSlides","_watchOverflow","roundLengths","touchRatio","touchAngle","simulateTouch","_shortSwipes","_longSwipes","longSwipesRatio","longSwipesMs","_followFinger","allowTouchMove","_threshold","touchMoveStopPropagation","touchStartPreventDefault","touchStartForcePreventDefault","touchReleaseOnEdges","uniqueNavElements","_resistance","_resistanceRatio","_watchSlidesProgress","_grabCursor","preventClicks","preventClicksPropagation","_slideToClickedSlide","_loop","loopAdditionalSlides","loopAddBlankSlides","loopPreventsSliding","_rewind","_allowSlidePrev","_allowSlideNext","_swipeHandler","_noSwiping","noSwipingClass","noSwipingSelector","passiveListeners","containerModifierClass","slideClass","slideActiveClass","slideVisibleClass","slideFullyVisibleClass","slideNextClass","slidePrevClass","slideBlankClass","wrapperClass","lazyPreloaderClass","lazyPreloadPrevNext","runCallbacksOnInit","observer","observeParents","observeSlideChildren","a11y","_autoplay","_controller","coverflowEffect","cubeEffect","fadeEffect","flipEffect","creativeEffect","cardsEffect","hashNavigation","history","keyboard","mousewheel","_navigation","_pagination","parallax","_scrollbar","_thumbs","virtual","zoom","control"];function y(Re){return"object"==typeof Re&&null!==Re&&Re.constructor&&"Object"===Object.prototype.toString.call(Re).slice(8,-1)&&!Re.__swiper__}function De(Re,Xe){const Le=["__proto__","constructor","prototype"];Object.keys(Xe).filter(Qe=>Le.indexOf(Qe)<0).forEach(Qe=>{typeof Re[Qe]>"u"?Re[Qe]=Xe[Qe]:y(Xe[Qe])&&y(Re[Qe])&&Object.keys(Xe[Qe]).length>0?Xe[Qe].__swiper__?Re[Qe]=Xe[Qe]:De(Re[Qe],Xe[Qe]):Re[Qe]=Xe[Qe]})}function ze(Re){return void 0===Re&&(Re={}),Re.navigation&&typeof Re.navigation.nextEl>"u"&&typeof Re.navigation.prevEl>"u"}function dt(Re){return void 0===Re&&(Re={}),Re.pagination&&typeof Re.pagination.el>"u"}function Ye(Re){return void 0===Re&&(Re={}),Re.scrollbar&&typeof Re.scrollbar.el>"u"}function $e(Re){return void 0===Re&&(Re=""),Re.replace(/-[a-z]/g,Xe=>Xe.toUpperCase().replace("-",""))}function Ue(Re){let{swiper:Xe,slides:Le,passedParams:Qe,changedParams:At,nextEl:an,prevEl:nt,scrollbarEl:Ze,paginationEl:on}=Re;const It=At.filter(Je=>"children"!==Je&&"direction"!==Je&&"wrapperClass"!==Je),{params:bt,pagination:zt,navigation:Jt,scrollbar:Yt,virtual:tt,thumbs:se}=Xe;let Vt,Tt,tn,dn,ct,et,wt,Ot;At.includes("thumbs")&&Qe.thumbs&&Qe.thumbs.swiper&&bt.thumbs&&!bt.thumbs.swiper&&(Vt=!0),At.includes("controller")&&Qe.controller&&Qe.controller.control&&bt.controller&&!bt.controller.control&&(Tt=!0),At.includes("pagination")&&Qe.pagination&&(Qe.pagination.el||on)&&(bt.pagination||!1===bt.pagination)&&zt&&!zt.el&&(tn=!0),At.includes("scrollbar")&&Qe.scrollbar&&(Qe.scrollbar.el||Ze)&&(bt.scrollbar||!1===bt.scrollbar)&&Yt&&!Yt.el&&(dn=!0),At.includes("navigation")&&Qe.navigation&&(Qe.navigation.prevEl||nt)&&(Qe.navigation.nextEl||an)&&(bt.navigation||!1===bt.navigation)&&Jt&&!Jt.prevEl&&!Jt.nextEl&&(ct=!0);const ft=Je=>{Xe[Je]&&(Xe[Je].destroy(),"navigation"===Je?(Xe.isElement&&(Xe[Je].prevEl.remove(),Xe[Je].nextEl.remove()),bt[Je].prevEl=void 0,bt[Je].nextEl=void 0,Xe[Je].prevEl=void 0,Xe[Je].nextEl=void 0):(Xe.isElement&&Xe[Je].el.remove(),bt[Je].el=void 0,Xe[Je].el=void 0))};At.includes("loop")&&Xe.isElement&&(bt.loop&&!Qe.loop?et=!0:!bt.loop&&Qe.loop?wt=!0:Ot=!0),It.forEach(Je=>{if(y(bt[Je])&&y(Qe[Je]))Object.assign(bt[Je],Qe[Je]),("navigation"===Je||"pagination"===Je||"scrollbar"===Je)&&"enabled"in Qe[Je]&&!Qe[Je].enabled&&ft(Je);else{const Et=Qe[Je];!0!==Et&&!1!==Et||"navigation"!==Je&&"pagination"!==Je&&"scrollbar"!==Je?bt[Je]=Qe[Je]:!1===Et&&ft(Je)}}),It.includes("controller")&&!Tt&&Xe.controller&&Xe.controller.control&&bt.controller&&bt.controller.control&&(Xe.controller.control=bt.controller.control),At.includes("children")&&Le&&tt&&bt.virtual.enabled?(tt.slides=Le,tt.update(!0)):At.includes("virtual")&&tt&&bt.virtual.enabled&&(Le&&(tt.slides=Le),tt.update(!0)),At.includes("children")&&Le&&bt.loop&&(Ot=!0),Vt&&se.init()&&se.update(!0),Tt&&(Xe.controller.control=bt.controller.control),tn&&(Xe.isElement&&(!on||"string"==typeof on)&&(on=document.createElement("div"),on.classList.add("swiper-pagination"),on.part.add("pagination"),Xe.el.appendChild(on)),on&&(bt.pagination.el=on),zt.init(),zt.render(),zt.update()),dn&&(Xe.isElement&&(!Ze||"string"==typeof Ze)&&(Ze=document.createElement("div"),Ze.classList.add("swiper-scrollbar"),Ze.part.add("scrollbar"),Xe.el.appendChild(Ze)),Ze&&(bt.scrollbar.el=Ze),Yt.init(),Yt.updateSize(),Yt.setTranslate()),ct&&(Xe.isElement&&((!an||"string"==typeof an)&&(an=document.createElement("div"),an.classList.add("swiper-button-next"),an.innerHTML=Xe.hostEl.constructor.nextButtonSvg,an.part.add("button-next"),Xe.el.appendChild(an)),(!nt||"string"==typeof nt)&&(nt=document.createElement("div"),nt.classList.add("swiper-button-prev"),nt.innerHTML=Xe.hostEl.constructor.prevButtonSvg,nt.part.add("button-prev"),Xe.el.appendChild(nt))),an&&(bt.navigation.nextEl=an),nt&&(bt.navigation.prevEl=nt),Jt.init(),Jt.update()),At.includes("allowSlideNext")&&(Xe.allowSlideNext=Qe.allowSlideNext),At.includes("allowSlidePrev")&&(Xe.allowSlidePrev=Qe.allowSlidePrev),At.includes("direction")&&Xe.changeDirection(Qe.direction,!1),(et||Ot)&&Xe.loopDestroy(),(wt||Ot)&&Xe.loopCreate(),Xe.update()}},8209:(Ii,ln,Y)=>{"use strict";Y.d(ln,{a:()=>zt,b:()=>nt,c:()=>an,d:()=>dt,e:()=>Qe,f:()=>Yt,g:()=>bt,h:()=>y,i:()=>be,j:()=>Jt,k:()=>$e,l:()=>Le,m:()=>It,n:()=>ze,o:()=>on,p:()=>Ze,q:()=>Xe,r:()=>At,s:()=>Re,t:()=>Ue,u:()=>De});var c=Y(3977);function y(tt){return void 0===tt&&(tt=""),tt.trim().split(" ").filter(se=>!!se.trim())}function De(tt){const se=tt;Object.keys(se).forEach(Vt=>{try{se[Vt]=null}catch{}try{delete se[Vt]}catch{}})}function ze(tt,se){return void 0===se&&(se=0),setTimeout(tt,se)}function dt(){return Date.now()}function be(tt,se){void 0===se&&(se="x");const Vt=(0,c.a)();let Tt,tn,dn;const ct=function Ye(tt){const se=(0,c.a)();let Vt;return se.getComputedStyle&&(Vt=se.getComputedStyle(tt,null)),!Vt&&tt.currentStyle&&(Vt=tt.currentStyle),Vt||(Vt=tt.style),Vt}(tt);return Vt.WebKitCSSMatrix?(tn=ct.transform||ct.webkitTransform,tn.split(",").length>6&&(tn=tn.split(", ").map(et=>et.replace(",",".")).join(", ")),dn=new Vt.WebKitCSSMatrix("none"===tn?"":tn)):(dn=ct.MozTransform||ct.OTransform||ct.MsTransform||ct.msTransform||ct.transform||ct.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),Tt=dn.toString().split(",")),"x"===se&&(tn=Vt.WebKitCSSMatrix?dn.m41:16===Tt.length?parseFloat(Tt[12]):parseFloat(Tt[4])),"y"===se&&(tn=Vt.WebKitCSSMatrix?dn.m42:16===Tt.length?parseFloat(Tt[13]):parseFloat(Tt[5])),tn||0}function $e(tt){return"object"==typeof tt&&null!==tt&&tt.constructor&&"Object"===Object.prototype.toString.call(tt).slice(8,-1)}function Ke(tt){return typeof window<"u"&&typeof window.HTMLElement<"u"?tt instanceof HTMLElement:tt&&(1===tt.nodeType||11===tt.nodeType)}function Ue(){const tt=Object(arguments.length<=0?void 0:arguments[0]),se=["__proto__","constructor","prototype"];for(let Vt=1;Vt<arguments.length;Vt+=1){const Tt=Vt<0||arguments.length<=Vt?void 0:arguments[Vt];if(null!=Tt&&!Ke(Tt)){const tn=Object.keys(Object(Tt)).filter(dn=>se.indexOf(dn)<0);for(let dn=0,ct=tn.length;dn<ct;dn+=1){const et=tn[dn],wt=Object.getOwnPropertyDescriptor(Tt,et);void 0!==wt&&wt.enumerable&&($e(tt[et])&&$e(Tt[et])?Tt[et].__swiper__?tt[et]=Tt[et]:Ue(tt[et],Tt[et]):!$e(tt[et])&&$e(Tt[et])?(tt[et]={},Tt[et].__swiper__?tt[et]=Tt[et]:Ue(tt[et],Tt[et])):tt[et]=Tt[et])}}}return tt}function Re(tt,se,Vt){tt.style.setProperty(se,Vt)}function Xe(tt){let{swiper:se,targetPosition:Vt,side:Tt}=tt;const tn=(0,c.a)(),dn=-se.translate;let et,ct=null;const wt=se.params.speed;se.wrapperEl.style.scrollSnapType="none",tn.cancelAnimationFrame(se.cssModeFrameID);const Ot=Vt>dn?"next":"prev",ft=(Et,vn)=>"next"===Ot&&Et>=vn||"prev"===Ot&&Et<=vn,Je=()=>{et=(new Date).getTime(),null===ct&&(ct=et);const Et=Math.max(Math.min((et-ct)/wt,1),0),vn=.5-Math.cos(Et*Math.PI)/2;let qt=dn+vn*(Vt-dn);if(ft(qt,Vt)&&(qt=Vt),se.wrapperEl.scrollTo({[Tt]:qt}),ft(qt,Vt))return se.wrapperEl.style.overflow="hidden",se.wrapperEl.style.scrollSnapType="",setTimeout(()=>{se.wrapperEl.style.overflow="",se.wrapperEl.scrollTo({[Tt]:qt})}),void tn.cancelAnimationFrame(se.cssModeFrameID);se.cssModeFrameID=tn.requestAnimationFrame(Je)};Je()}function Le(tt){return tt.querySelector(".swiper-slide-transform")||tt.shadowRoot&&tt.shadowRoot.querySelector(".swiper-slide-transform")||tt}function Qe(tt,se){return void 0===se&&(se=""),[...tt.children].filter(Vt=>Vt.matches(se))}function At(tt){try{return void console.warn(tt)}catch{}}function an(tt,se){void 0===se&&(se=[]);const Vt=document.createElement(tt);return Vt.classList.add(...Array.isArray(se)?se:y(se)),Vt}function nt(tt){const se=(0,c.a)(),Vt=(0,c.g)(),Tt=tt.getBoundingClientRect(),tn=Vt.body;return{top:Tt.top+(tt===se?se.scrollY:tt.scrollTop)-(tt.clientTop||tn.clientTop||0),left:Tt.left+(tt===se?se.scrollX:tt.scrollLeft)-(tt.clientLeft||tn.clientLeft||0)}}function Ze(tt,se){const Vt=[];for(;tt.previousElementSibling;){const Tt=tt.previousElementSibling;se?Tt.matches(se)&&Vt.push(Tt):Vt.push(Tt),tt=Tt}return Vt}function on(tt,se){const Vt=[];for(;tt.nextElementSibling;){const Tt=tt.nextElementSibling;se?Tt.matches(se)&&Vt.push(Tt):Vt.push(Tt),tt=Tt}return Vt}function It(tt,se){return(0,c.a)().getComputedStyle(tt,null).getPropertyValue(se)}function bt(tt){let Vt,se=tt;if(se){for(Vt=0;null!==(se=se.previousSibling);)1===se.nodeType&&(Vt+=1);return Vt}}function zt(tt,se){const Vt=[];let Tt=tt.parentElement;for(;Tt;)se?Tt.matches(se)&&Vt.push(Tt):Vt.push(Tt),Tt=Tt.parentElement;return Vt}function Jt(tt,se){se&&tt.addEventListener("transitionend",function Vt(Tt){Tt.target===tt&&(se.call(tt,Tt),tt.removeEventListener("transitionend",Vt))})}function Yt(tt,se,Vt){const Tt=(0,c.a)();return Vt?tt["width"===se?"offsetWidth":"offsetHeight"]+parseFloat(Tt.getComputedStyle(tt,null).getPropertyValue("width"===se?"margin-right":"margin-top"))+parseFloat(Tt.getComputedStyle(tt,null).getPropertyValue("width"===se?"margin-left":"margin-bottom")):tt.offsetWidth}},5861:(Ii,ln,Y)=>{"use strict";function c(De,ze,dt,Ye,be,$e,Ke){try{var Ue=De[$e](Ke),Re=Ue.value}catch(Xe){return void dt(Xe)}Ue.done?ze(Re):Promise.resolve(Re).then(Ye,be)}function y(De){return function(){var ze=this,dt=arguments;return new Promise(function(Ye,be){var $e=De.apply(ze,dt);function Ke(Re){c($e,Ye,be,Ke,Ue,"next",Re)}function Ue(Re){c($e,Ye,be,Ke,Ue,"throw",Re)}Ke(void 0)})}}Y.d(ln,{Z:()=>y})}},Ii=>{Ii(Ii.s=6021)}]);