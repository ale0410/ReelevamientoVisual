(self.webpackChunkapp=self.webpackChunkapp||[]).push([[179],{2313:(er,Nt,H)=>{"use strict";H.d(Nt,{nm:()=>Ri});var d=H(3324),Xe=(H(2223),H(3692),H(259),H(5861)),Ke=H(6881),Se=H(4859),Re=H(2090),Qe=H(1877);const Be=new Map,Me={activated:!1,tokenObservers:[]},ot={initialized:!1,enabled:!1};function Pe(ie){return Be.get(ie)||Object.assign({},Me)}function mt(){return ot}const Ut="https://content-firebaseappcheck.googleapis.com/v1",Lt="exchangeDebugToken",Rt={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class Ct{constructor(pe,ke,_e,re,ye){if(this.operation=pe,this.retryPolicy=ke,this.getWaitDuration=_e,this.lowerBound=re,this.upperBound=ye,this.pending=null,this.nextErrorWaitInterval=re,re>ye)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(pe){var ke=this;return(0,Xe.Z)(function*(){ke.stop();try{ke.pending=new Re.BH,yield function Tt(ie){return new Promise(pe=>{setTimeout(pe,ie)})}(ke.getNextRun(pe)),ke.pending.resolve(),yield ke.pending.promise,ke.pending=new Re.BH,yield ke.operation(),ke.pending.resolve(),yield ke.pending.promise,ke.process(!0).catch(()=>{})}catch(_e){ke.retryPolicy(_e)?ke.process(!1).catch(()=>{}):ke.stop()}})()}getNextRun(pe){if(pe)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const ke=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),ke}}}const vt=new Re.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function Ae(){return(Ae=(0,Xe.Z)(function*({url:ie,body:pe},ke){const _e={"Content-Type":"application/json"},re=ke.getImmediate({optional:!0});if(re){const Hn=yield re.getHeartbeatsHeader();Hn&&(_e["X-Firebase-Client"]=Hn)}const ye={method:"POST",body:JSON.stringify(pe),headers:_e};let st,It;try{st=yield fetch(ie,ye)}catch(Hn){throw vt.create("fetch-network-error",{originalErrorMessage:null==Hn?void 0:Hn.message})}if(200!==st.status)throw vt.create("fetch-status-error",{httpStatus:st.status});try{It=yield st.json()}catch(Hn){throw vt.create("fetch-parse-error",{originalErrorMessage:null==Hn?void 0:Hn.message})}const Bt=It.ttl.match(/^([\d.]+)(s)$/);if(!Bt||!Bt[2]||isNaN(Number(Bt[1])))throw vt.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${It.ttl}`});const tn=1e3*Number(Bt[1]),Ln=Date.now();return{token:It.token,expireTimeMillis:Ln+tn,issuedAtTimeMillis:Ln}})).apply(this,arguments)}const tt="firebase-app-check-database",Ge=1,ft="firebase-app-check-store";let Pt=null;function _n(){return(_n=(0,Xe.Z)(function*(ie,pe){const _e=(yield function sn(){return Pt||(Pt=new Promise((ie,pe)=>{try{const ke=indexedDB.open(tt,Ge);ke.onsuccess=_e=>{ie(_e.target.result)},ke.onerror=_e=>{var re;pe(vt.create("storage-open",{originalErrorMessage:null===(re=_e.target.error)||void 0===re?void 0:re.message}))},ke.onupgradeneeded=_e=>{0===_e.oldVersion&&_e.target.result.createObjectStore(ft,{keyPath:"compositeKey"})}}catch(ke){pe(vt.create("storage-open",{originalErrorMessage:null==ke?void 0:ke.message}))}}),Pt)}()).transaction(ft,"readwrite"),ye=_e.objectStore(ft).put({compositeKey:ie,value:pe});return new Promise((st,It)=>{ye.onsuccess=Bt=>{st()},_e.onerror=Bt=>{var tn;It(vt.create("storage-set",{originalErrorMessage:null===(tn=Bt.target.error)||void 0===tn?void 0:tn.message}))}})})).apply(this,arguments)}const hn=new Qe.Yd("@firebase/app-check");function Pr(ie,pe){return(0,Re.hl)()?function Oe(ie,pe){return function fn(ie,pe){return _n.apply(this,arguments)}(function lr(ie){return`${ie.options.appId}-${ie.name}`}(ie),pe)}(ie,pe).catch(ke=>{hn.warn(`Failed to write token to IndexedDB. Error: ${ke}`)}):Promise.resolve()}function Qr(){return(Qr=(0,Xe.Z)(function*(){const ie=mt();if(ie.enabled&&ie.token)return ie.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const $r={error:"UNKNOWN_ERROR"};function ui(ie){return Re.US.encodeString(JSON.stringify(ie),!1)}function nr(ie){return Zn.apply(this,arguments)}function Zn(){return(Zn=(0,Xe.Z)(function*(ie,pe=!1){const ke=ie.app;!function Gt(ie){if(!Pe(ie).activated)throw vt.create("use-before-activation",{appName:ie.name})}(ke);const _e=Pe(ke);let ye,re=_e.token;if(re&&!pr(re)&&(_e.token=void 0,re=void 0),!re){const Bt=yield _e.cachedTokenPromise;Bt&&(pr(Bt)?re=Bt:yield Pr(ke,void 0))}if(!pe&&re&&pr(re))return{token:re.token};let It,st=!1;if(function On(){return mt().enabled}()){_e.exchangeTokenPromise||(_e.exchangeTokenPromise=function Qt(ie,pe){return Ae.apply(this,arguments)}(function _t(ie,pe){const{projectId:ke,appId:_e,apiKey:re}=ie.options;return{url:`${Ut}/projects/${ke}/apps/${_e}:${Lt}?key=${re}`,body:{debug_token:pe}}}(ke,yield function Gr(){return Qr.apply(this,arguments)}()),ie.heartbeatServiceProvider).finally(()=>{_e.exchangeTokenPromise=void 0}),st=!0);const Bt=yield _e.exchangeTokenPromise;return yield Pr(ke,Bt),_e.token=Bt,{token:Bt.token}}try{_e.exchangeTokenPromise||(_e.exchangeTokenPromise=_e.provider.getToken().finally(()=>{_e.exchangeTokenPromise=void 0}),st=!0),re=yield Pe(ke).exchangeTokenPromise}catch(Bt){"appCheck/throttled"===Bt.code?hn.warn(Bt.message):hn.error(Bt),ye=Bt}return re?ye?It=pr(re)?{token:re.token,internalError:ye}:yi(ye):(It={token:re.token},_e.token=re,yield Pr(ke,re)):It=yi(ye),st&&function Er(ie,pe){const ke=Pe(ie).tokenObservers;for(const _e of ke)try{"EXTERNAL"===_e.type&&null!=pe.error?_e.error(pe.error):_e.next(pe)}catch{}}(ke,It),It})).apply(this,arguments)}function ni(ie,pe){const ke=Pe(ie),_e=ke.tokenObservers.filter(re=>re.next!==pe);0===_e.length&&ke.tokenRefresher&&ke.tokenRefresher.isRunning()&&ke.tokenRefresher.stop(),ke.tokenObservers=_e}function ri(ie){const{app:pe}=ie,ke=Pe(pe);let _e=ke.tokenRefresher;_e||(_e=function oi(ie){const{app:pe}=ie;return new Ct((0,Xe.Z)(function*(){let _e;if(_e=Pe(pe).token?yield nr(ie,!0):yield nr(ie),_e.error)throw _e.error;if(_e.internalError)throw _e.internalError}),()=>!0,()=>{const ke=Pe(pe);if(ke.token){let _e=ke.token.issuedAtTimeMillis+.5*(ke.token.expireTimeMillis-ke.token.issuedAtTimeMillis)+3e5;return _e=Math.min(_e,ke.token.expireTimeMillis-3e5),Math.max(0,_e-Date.now())}return 0},Rt.RETRIAL_MIN_WAIT,Rt.RETRIAL_MAX_WAIT)}(ie),ke.tokenRefresher=_e),!_e.isRunning()&&ke.isTokenAutoRefreshEnabled&&_e.start()}function pr(ie){return ie.expireTimeMillis-Date.now()>0}function yi(ie){return{token:ui($r),error:ie}}class Ar{constructor(pe,ke){this.app=pe,this.heartbeatServiceProvider=ke}_delete(){const{tokenObservers:pe}=Pe(this.app);for(const ke of pe)ni(this.app,ke.next);return Promise.resolve()}}const Qn="app-check-internal";!function gr(){(0,Ke._registerComponent)(new Se.wA("app-check",ie=>function An(ie,pe){return new Ar(ie,pe)}(ie.getProvider("app").getImmediate(),ie.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((ie,pe,ke)=>{ie.getProvider(Qn).initialize()})),(0,Ke._registerComponent)(new Se.wA(Qn,ie=>function xe(ie){return{getToken:pe=>nr(ie,pe),addTokenListener:pe=>function di(ie,pe,ke,_e){const{app:re}=ie,ye=Pe(re);if(ye.tokenObservers=[...ye.tokenObservers,{next:ke,error:_e,type:pe}],ye.token&&pr(ye.token)){const It=ye.token;Promise.resolve().then(()=>{ke({token:It.token}),ri(ie)}).catch(()=>{})}ye.cachedTokenPromise.then(()=>ri(ie))}(ie,"INTERNAL",pe),removeTokenListener:pe=>ni(ie.app,pe)}}(ie.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Ke.registerVersion)("@firebase/app-check","0.7.0")}();class Ri{constructor(){return(0,d.vb)("app-check")}}typeof window<"u"&&window},3692:(er,Nt,H)=>{"use strict";H.d(Nt,{Ot:()=>Fe,ZF:()=>He,hX:()=>Pe,z6:()=>Xe});var d=H(259),v=H(2223),ve=H(3324);class Fe{constructor(Ct){return Ct}}class Xe{constructor(){return(0,d.C6)()}}const Re=new v.OlP("angularfire2._apps"),Qe={provide:Fe,useFactory:function Se(ht){return ht&&1===ht.length?ht[0]:new Fe((0,d.Mq)())},deps:[[new v.FiY,Re]]},Be={provide:Xe,deps:[[new v.FiY,Re]]};function Me(ht){return(Ct,Tt)=>{const Dt=Ct.runOutsideAngular(()=>ht(Tt));return new Fe(Dt)}}let ot=(()=>{class ht{constructor(Tt){(0,d.KN)("angularfire",ve.q4.full,"core"),(0,d.KN)("angularfire",ve.q4.full,"app"),(0,d.KN)("angular",v.q4F.full,Tt.toString())}}return ht.\u0275fac=function(Tt){return new(Tt||ht)(v.LFG(v.Lbi))},ht.\u0275mod=v.oAB({type:ht}),ht.\u0275inj=v.cJS({providers:[Qe,Be]}),ht})();function Pe(ht,...Ct){return{ngModule:ot,providers:[{provide:Re,useFactory:Me(ht),multi:!0,deps:[v.R0b,v.zs3,ve.HU,...Ct]}]}}const He=(0,ve.u3)(d.ZF,!0)},7246:(er,Nt,H)=>{"use strict";H.d(Nt,{dh:()=>Pe,v0:()=>_t,AR:()=>ht});var d=H(3324),v=H(2223),ve=H(3692),Fe=H(259),Xe=H(2313),Ke=H(1389);H(2090),H(6881),H(1877),H(4859);class ot{constructor(Wt){return Wt}}class Pe{constructor(){return(0,d.vb)("auth")}}const mt=new v.OlP("angularfire2.auth-instances");function He(gt){return(Wt,In)=>{const Wn=Wt.runOutsideAngular(()=>gt(In));return new ot(Wn)}}const $e={provide:Pe,deps:[[new v.FiY,mt]]},Lt={provide:ot,useFactory:function Ut(gt,Wt){const In=(0,d.JM)("auth",gt,Wt);return In&&new ot(In)},deps:[[new v.FiY,mt],ve.Ot]};let Rt=(()=>{class gt{constructor(){(0,Fe.KN)("angularfire",d.q4.full,"auth")}}return gt.\u0275fac=function(In){return new(In||gt)},gt.\u0275mod=v.oAB({type:gt}),gt.\u0275inj=v.cJS({providers:[Lt,$e]}),gt})();function ht(gt,...Wt){return{ngModule:Rt,providers:[{provide:mt,useFactory:He(gt),multi:!0,deps:[v.R0b,v.zs3,d.HU,ve.z6,[new v.FiY,Xe.nm],...Wt]}]}}const _t=(0,d.u3)(Ke.o,!0)},3385:(er,Nt,H)=>{"use strict";H.d(Nt,{zQ:()=>kt,ww:()=>Qt,rT:()=>vt,f7:()=>Gt,L6:()=>Tt,_Q:()=>Dt,lh:()=>it,Qv:()=>Ct,nw:()=>St});var d=H(2223),v=H(7579),ve=H(9646),Fe=H(9751),Xe=H(8996),Ke=H(6451),Se=H(5363),Re=H(3900),Qe=H(4004),Be=H(3151),Me=H(590),ot=H(576);function Pe(Ae,Je){return(0,ot.m)(Je)?(0,Re.w)(()=>Ae,Je):(0,Re.w)(()=>Ae)}var ct=H(9468),mt=H(9300),Ut=H(3324),He=H(2011),$e=H(4755),Lt=H(2313),Rt=H(9260);const Ct=new d.OlP("angularfire2.auth.use-emulator"),Tt=new d.OlP("angularfire2.auth.settings"),Dt=new d.OlP("angularfire2.auth.tenant-id"),vt=new d.OlP("angularfire2.auth.langugage-code"),it=new d.OlP("angularfire2.auth.use-device-language"),Gt=new d.OlP("angularfire.auth.persistence"),St=(Ae,Je,ut,_t,tt,Ge,ft,jt)=>(0,He.cc)(`${Ae.name}.auth`,"AngularFireAuth",Ae.name,()=>{const Pt=Je.runOutsideAngular(()=>Ae.auth());if(ut&&Pt.useEmulator(...ut),_t&&(Pt.tenantId=_t),Pt.languageCode=tt,Ge&&Pt.useDeviceLanguage(),ft)for(const[sn,ln]of Object.entries(ft))Pt.settings[sn]=ln;return jt&&Pt.setPersistence(jt),Pt},[ut,_t,tt,Ge,ft,jt]);let kt=(()=>{class Ae{constructor(ut,_t,tt,Ge,ft,jt,Pt,sn,ln,Oe,rn,wt){const fn=new v.x,_n=(0,ve.of)(void 0).pipe((0,Se.Q)(ft.outsideAngular),(0,Re.w)(()=>Ge.runOutsideAngular(()=>Promise.resolve().then(H.bind(H,9568)))),(0,Qe.U)(()=>(0,He.on)(ut,Ge,_t)),(0,Qe.U)(tr=>St(tr,Ge,jt,sn,ln,Oe,Pt,rn)),(0,Be.d)({bufferSize:1,refCount:!1}));if((0,$e.PM)(tt))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,ve.of)(null);else{_n.pipe((0,Me.P)()).subscribe();const ur=_n.pipe((0,Re.w)(Xn=>Xn.getRedirectResult().then(cn=>cn,()=>null)),Ut.iC,(0,Be.d)({bufferSize:1,refCount:!1})),lr=_n.pipe((0,Re.w)(Xn=>new Fe.y(cn=>({unsubscribe:Ge.runOutsideAngular(()=>Xn.onAuthStateChanged(Pr=>cn.next(Pr),Pr=>cn.error(Pr),()=>cn.complete()))})))),hn=_n.pipe((0,Re.w)(Xn=>new Fe.y(cn=>({unsubscribe:Ge.runOutsideAngular(()=>Xn.onIdTokenChanged(Pr=>cn.next(Pr),Pr=>cn.error(Pr),()=>cn.complete()))}))));this.authState=ur.pipe(Pe(lr),(0,ct.R)(ft.outsideAngular),(0,Se.Q)(ft.insideAngular)),this.user=ur.pipe(Pe(hn),(0,ct.R)(ft.outsideAngular),(0,Se.Q)(ft.insideAngular)),this.idToken=this.user.pipe((0,Re.w)(Xn=>Xn?(0,Xe.D)(Xn.getIdToken()):(0,ve.of)(null))),this.idTokenResult=this.user.pipe((0,Re.w)(Xn=>Xn?(0,Xe.D)(Xn.getIdTokenResult()):(0,ve.of)(null))),this.credential=(0,Ke.T)(ur,fn,this.authState.pipe((0,mt.h)(Xn=>!Xn))).pipe((0,Qe.U)(Xn=>null!=Xn&&Xn.user?Xn:null),(0,ct.R)(ft.outsideAngular),(0,Se.Q)(ft.insideAngular))}return(0,He.pX)(this,_n,Ge,{spy:{apply:(tr,ur,lr)=>{(tr.startsWith("signIn")||tr.startsWith("createUser"))&&lr.then(hn=>fn.next(hn))}}})}}return Ae.\u0275fac=function(ut){return new(ut||Ae)(d.LFG(He.Dh),d.LFG(He.xv,8),d.LFG(d.Lbi),d.LFG(d.R0b),d.LFG(Ut.HU),d.LFG(Ct,8),d.LFG(Tt,8),d.LFG(Dt,8),d.LFG(vt,8),d.LFG(it,8),d.LFG(Gt,8),d.LFG(Lt.nm,8))},Ae.\u0275prov=d.Yz7({token:Ae,factory:Ae.\u0275fac,providedIn:"any"}),Ae})(),Qt=(()=>{class Ae{constructor(){Rt.Z.registerVersion("angularfire",Ut.q4.full,"auth-compat")}}return Ae.\u0275fac=function(ut){return new(ut||Ae)},Ae.\u0275mod=d.oAB({type:Ae}),Ae.\u0275inj=d.cJS({providers:[kt]}),Ae})()},1085:(er,Nt,H)=>{"use strict";H.d(Nt,{ST:()=>yi,yb:()=>Ar});var d=H(2223),v=H(4986),ve=H(9751),Fe=H(8996),Xe=H(9646),Ke=H(3324),Se=H(8675),Re=H(1520),Qe=H(4004),Be=H(5026),Me=H(1884),ot=H(9300),Pe=H(2011),ct=H(4755),Ut=(H(9568),H(3942)),He=H(2810),$e=H(2090),Lt=H(4859);function Ct(An,xe){if(void 0===xe)return{merge:!1};if(void 0!==xe.mergeFields&&void 0!==xe.merge)throw new He.WA("invalid-argument",`Invalid options passed to function ${An}(): You cannot specify both "merge" and "mergeFields".`);return xe}function Tt(){if(typeof Uint8Array>"u")throw new He.WA("unimplemented","Uint8Arrays are not available in this environment.")}function Dt(){if(!(0,He.Me)())throw new He.WA("unimplemented","Blobs are unavailable in Firestore in this environment.")}class vt{constructor(xe){this._delegate=xe}static fromBase64String(xe){return Dt(),new vt(He.Jj.fromBase64String(xe))}static fromUint8Array(xe){return Tt(),new vt(He.Jj.fromUint8Array(xe))}toBase64(){return Dt(),this._delegate.toBase64()}toUint8Array(){return Tt(),this._delegate.toUint8Array()}isEqual(xe){return this._delegate.isEqual(xe._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function it(An){return function Gt(An,xe){if("object"!=typeof An||null===An)return!1;const gt=An;for(const Wt of xe)if(Wt in gt&&"function"==typeof gt[Wt])return!0;return!1}(An,["next","error","complete"])}class St{enableIndexedDbPersistence(xe,gt){return(0,He.ST)(xe._delegate,{forceOwnership:gt})}enableMultiTabIndexedDbPersistence(xe){return(0,He.fH)(xe._delegate)}clearIndexedDbPersistence(xe){return(0,He.Fc)(xe._delegate)}}class kt{constructor(xe,gt,Wt){this._delegate=gt,this._persistenceProvider=Wt,this.INTERNAL={delete:()=>this.terminate()},xe instanceof He.l7||(this._appCompat=xe)}get _databaseId(){return this._delegate._databaseId}settings(xe){const gt=this._delegate._getSettings();!xe.merge&&gt.host!==xe.host&&(0,He.yq)("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),xe.merge&&delete(xe=Object.assign(Object.assign({},gt),xe)).merge,this._delegate._setSettings(xe)}useEmulator(xe,gt,Wt={}){(0,He.at)(this._delegate,xe,gt,Wt)}enableNetwork(){return(0,He.Ix)(this._delegate)}disableNetwork(){return(0,He.TF)(this._delegate)}enablePersistence(xe){let gt=!1,Wt=!1;return xe&&(gt=!!xe.synchronizeTabs,Wt=!!xe.experimentalForceOwningTab,(0,He.Wi)("synchronizeTabs",gt,"experimentalForceOwningTab",Wt)),gt?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,Wt)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return(0,He.Mx)(this._delegate)}onSnapshotsInSync(xe){return(0,He.sc)(this._delegate,xe)}get app(){if(!this._appCompat)throw new He.WA("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(xe){try{return new wt(this,(0,He.hJ)(this._delegate,xe))}catch(gt){throw Ge(gt,"collection()","Firestore.collection()")}}doc(xe){try{return new tt(this,(0,He.JU)(this._delegate,xe))}catch(gt){throw Ge(gt,"doc()","Firestore.doc()")}}collectionGroup(xe){try{return new ln(this,(0,He.B$)(this._delegate,xe))}catch(gt){throw Ge(gt,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(xe){return(0,He.i3)(this._delegate,gt=>xe(new Je(this,gt)))}batch(){return(0,He.qY)(this._delegate),new ut(new He.PU(this._delegate,xe=>(0,He.GL)(this._delegate,xe)))}loadBundle(xe){return(0,He.Pb)(this._delegate,xe)}namedQuery(xe){return(0,He.L$)(this._delegate,xe).then(gt=>gt?new ln(this,gt):null)}}class Qt extends He.u7{constructor(xe){super(),this.firestore=xe}convertBytes(xe){return new vt(new He.Jj(xe))}convertReference(xe){const gt=this.convertDocumentKey(xe,this.firestore._databaseId);return tt.forKey(gt,this.firestore,null)}}class Je{constructor(xe,gt){this._firestore=xe,this._delegate=gt,this._userDataWriter=new Qt(xe)}get(xe){const gt=fn(xe);return this._delegate.get(gt).then(Wt=>new Pt(this._firestore,new He.xU(this._firestore._delegate,this._userDataWriter,Wt._key,Wt._document,Wt.metadata,gt.converter)))}set(xe,gt,Wt){const In=fn(xe);return Wt?(Ct("Transaction.set",Wt),this._delegate.set(In,gt,Wt)):this._delegate.set(In,gt),this}update(xe,gt,Wt,...In){const Wn=fn(xe);return 2===arguments.length?this._delegate.update(Wn,gt):this._delegate.update(Wn,gt,Wt,...In),this}delete(xe){const gt=fn(xe);return this._delegate.delete(gt),this}}class ut{constructor(xe){this._delegate=xe}set(xe,gt,Wt){const In=fn(xe);return Wt?(Ct("WriteBatch.set",Wt),this._delegate.set(In,gt,Wt)):this._delegate.set(In,gt),this}update(xe,gt,Wt,...In){const Wn=fn(xe);return 2===arguments.length?this._delegate.update(Wn,gt):this._delegate.update(Wn,gt,Wt,...In),this}delete(xe){const gt=fn(xe);return this._delegate.delete(gt),this}commit(){return this._delegate.commit()}}class _t{constructor(xe,gt,Wt){this._firestore=xe,this._userDataWriter=gt,this._delegate=Wt}fromFirestore(xe,gt){const Wt=new He.$q(this._firestore._delegate,this._userDataWriter,xe._key,xe._document,xe.metadata,null);return this._delegate.fromFirestore(new sn(this._firestore,Wt),null!=gt?gt:{})}toFirestore(xe,gt){return gt?this._delegate.toFirestore(xe,gt):this._delegate.toFirestore(xe)}static getInstance(xe,gt){const Wt=_t.INSTANCES;let In=Wt.get(xe);In||(In=new WeakMap,Wt.set(xe,In));let Wn=In.get(gt);return Wn||(Wn=new _t(xe,new Qt(xe),gt),In.set(gt,Wn)),Wn}}_t.INSTANCES=new WeakMap;class tt{constructor(xe,gt){this.firestore=xe,this._delegate=gt,this._userDataWriter=new Qt(xe)}static forPath(xe,gt,Wt){if(xe.length%2!=0)throw new He.WA("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${xe.canonicalString()} has ${xe.length}`);return new tt(gt,new He.my(gt._delegate,Wt,new He.Ky(xe)))}static forKey(xe,gt,Wt){return new tt(gt,new He.my(gt._delegate,Wt,xe))}get id(){return this._delegate.id}get parent(){return new wt(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(xe){try{return new wt(this.firestore,(0,He.hJ)(this._delegate,xe))}catch(gt){throw Ge(gt,"collection()","DocumentReference.collection()")}}isEqual(xe){return(xe=(0,$e.m9)(xe))instanceof He.my&&(0,He.Eo)(this._delegate,xe)}set(xe,gt){gt=Ct("DocumentReference.set",gt);try{return gt?(0,He.pl)(this._delegate,xe,gt):(0,He.pl)(this._delegate,xe)}catch(Wt){throw Ge(Wt,"setDoc()","DocumentReference.set()")}}update(xe,gt,...Wt){try{return 1===arguments.length?(0,He.r7)(this._delegate,xe):(0,He.r7)(this._delegate,xe,gt,...Wt)}catch(In){throw Ge(In,"updateDoc()","DocumentReference.update()")}}delete(){return(0,He.oe)(this._delegate)}onSnapshot(...xe){const gt=ft(xe),Wt=jt(xe,In=>new Pt(this.firestore,new He.xU(this.firestore._delegate,this._userDataWriter,In._key,In._document,In.metadata,this._delegate.converter)));return(0,He.cf)(this._delegate,gt,Wt)}get(xe){let gt;return gt="cache"===(null==xe?void 0:xe.source)?(0,He.kl)(this._delegate):"server"===(null==xe?void 0:xe.source)?(0,He.Xk)(this._delegate):(0,He.QT)(this._delegate),gt.then(Wt=>new Pt(this.firestore,new He.xU(this.firestore._delegate,this._userDataWriter,Wt._key,Wt._document,Wt.metadata,this._delegate.converter)))}withConverter(xe){return new tt(this.firestore,this._delegate.withConverter(xe?_t.getInstance(this.firestore,xe):null))}}function Ge(An,xe,gt){return An.message=An.message.replace(xe,gt),An}function ft(An){for(const xe of An)if("object"==typeof xe&&!it(xe))return xe;return{}}function jt(An,xe){var gt,Wt;let In;return In=it(An[0])?An[0]:it(An[1])?An[1]:"function"==typeof An[0]?{next:An[0],error:An[1],complete:An[2]}:{next:An[1],error:An[2],complete:An[3]},{next:Wn=>{In.next&&In.next(xe(Wn))},error:null===(gt=In.error)||void 0===gt?void 0:gt.bind(In),complete:null===(Wt=In.complete)||void 0===Wt?void 0:Wt.bind(In)}}class Pt{constructor(xe,gt){this._firestore=xe,this._delegate=gt}get ref(){return new tt(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(xe){return this._delegate.data(xe)}get(xe,gt){return this._delegate.get(xe,gt)}isEqual(xe){return(0,He.qK)(this._delegate,xe._delegate)}}class sn extends Pt{data(xe){const gt=this._delegate.data(xe);return(0,He.K9)(void 0!==gt,"Document in a QueryDocumentSnapshot should exist"),gt}}class ln{constructor(xe,gt){this.firestore=xe,this._delegate=gt,this._userDataWriter=new Qt(xe)}where(xe,gt,Wt){try{return new ln(this.firestore,(0,He.IO)(this._delegate,(0,He.ar)(xe,gt,Wt)))}catch(In){throw Ge(In,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(xe,gt){try{return new ln(this.firestore,(0,He.IO)(this._delegate,(0,He.Xo)(xe,gt)))}catch(Wt){throw Ge(Wt,/(orderBy|where)\(\)/,"Query.$1()")}}limit(xe){try{return new ln(this.firestore,(0,He.IO)(this._delegate,(0,He.b9)(xe)))}catch(gt){throw Ge(gt,"limit()","Query.limit()")}}limitToLast(xe){try{return new ln(this.firestore,(0,He.IO)(this._delegate,(0,He.vh)(xe)))}catch(gt){throw Ge(gt,"limitToLast()","Query.limitToLast()")}}startAt(...xe){try{return new ln(this.firestore,(0,He.IO)(this._delegate,(0,He.e0)(...xe)))}catch(gt){throw Ge(gt,"startAt()","Query.startAt()")}}startAfter(...xe){try{return new ln(this.firestore,(0,He.IO)(this._delegate,(0,He.TQ)(...xe)))}catch(gt){throw Ge(gt,"startAfter()","Query.startAfter()")}}endBefore(...xe){try{return new ln(this.firestore,(0,He.IO)(this._delegate,(0,He.Lx)(...xe)))}catch(gt){throw Ge(gt,"endBefore()","Query.endBefore()")}}endAt(...xe){try{return new ln(this.firestore,(0,He.IO)(this._delegate,(0,He.Wu)(...xe)))}catch(gt){throw Ge(gt,"endAt()","Query.endAt()")}}isEqual(xe){return(0,He.iE)(this._delegate,xe._delegate)}get(xe){let gt;return gt="cache"===(null==xe?void 0:xe.source)?(0,He.UQ)(this._delegate):"server"===(null==xe?void 0:xe.source)?(0,He.zN)(this._delegate):(0,He.PL)(this._delegate),gt.then(Wt=>new rn(this.firestore,new He.W(this.firestore._delegate,this._userDataWriter,this._delegate,Wt._snapshot)))}onSnapshot(...xe){const gt=ft(xe),Wt=jt(xe,In=>new rn(this.firestore,new He.W(this.firestore._delegate,this._userDataWriter,this._delegate,In._snapshot)));return(0,He.cf)(this._delegate,gt,Wt)}withConverter(xe){return new ln(this.firestore,this._delegate.withConverter(xe?_t.getInstance(this.firestore,xe):null))}}class Oe{constructor(xe,gt){this._firestore=xe,this._delegate=gt}get type(){return this._delegate.type}get doc(){return new sn(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class rn{constructor(xe,gt){this._firestore=xe,this._delegate=gt}get query(){return new ln(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(xe=>new sn(this._firestore,xe))}docChanges(xe){return this._delegate.docChanges(xe).map(gt=>new Oe(this._firestore,gt))}forEach(xe,gt){this._delegate.forEach(Wt=>{xe.call(gt,new sn(this._firestore,Wt))})}isEqual(xe){return(0,He.qK)(this._delegate,xe._delegate)}}class wt extends ln{constructor(xe,gt){super(xe,gt),this.firestore=xe,this._delegate=gt}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const xe=this._delegate.parent;return xe?new tt(this.firestore,xe):null}doc(xe){try{return new tt(this.firestore,void 0===xe?(0,He.JU)(this._delegate):(0,He.JU)(this._delegate,xe))}catch(gt){throw Ge(gt,"doc()","CollectionReference.doc()")}}add(xe){return(0,He.ET)(this._delegate,xe).then(gt=>new tt(this.firestore,gt))}isEqual(xe){return(0,He.Eo)(this._delegate,xe._delegate)}withConverter(xe){return new wt(this.firestore,this._delegate.withConverter(xe?_t.getInstance(this.firestore,xe):null))}}function fn(An){return(0,He.Cf)(An,He.my)}class _n{constructor(...xe){this._delegate=new He.Lz(...xe)}static documentId(){return new _n(He.Xb.keyField().canonicalString())}isEqual(xe){return(xe=(0,$e.m9)(xe))instanceof He.Lz&&this._delegate._internalPath.isEqual(xe._internalPath)}}class tr{constructor(xe){this._delegate=xe}static serverTimestamp(){const xe=(0,He.Bt)();return xe._methodName="FieldValue.serverTimestamp",new tr(xe)}static delete(){const xe=(0,He.AK)();return xe._methodName="FieldValue.delete",new tr(xe)}static arrayUnion(...xe){const gt=(0,He.vr)(...xe);return gt._methodName="FieldValue.arrayUnion",new tr(gt)}static arrayRemove(...xe){const gt=(0,He.Ab)(...xe);return gt._methodName="FieldValue.arrayRemove",new tr(gt)}static increment(xe){const gt=(0,He.nP)(xe);return gt._methodName="FieldValue.increment",new tr(gt)}isEqual(xe){return this._delegate.isEqual(xe._delegate)}}const ur={Firestore:kt,GeoPoint:He.F8,Timestamp:He.EK,Blob:vt,Transaction:Je,WriteBatch:ut,DocumentReference:tt,DocumentSnapshot:Pt,Query:ln,QueryDocumentSnapshot:sn,QuerySnapshot:rn,CollectionReference:wt,FieldPath:_n,FieldValue:tr,setLogLevel:function Ae(An){(0,He.Ub)(An)},CACHE_SIZE_UNLIMITED:He.IX};!function hn(An){(function lr(An,xe){An.INTERNAL.registerComponent(new Lt.wA("firestore-compat",gt=>{const Wt=gt.getProvider("app-compat").getImmediate(),In=gt.getProvider("firestore").getImmediate();return xe(Wt,In)},"PUBLIC").setServiceProps(Object.assign({},ur)))})(An,(xe,gt)=>new kt(xe,gt,new St)),An.registerVersion("@firebase/firestore-compat","0.3.9")}(Ut.Z);var Xn=H(3385),cn=H(2313),Pr=H(9260);function Sr(An,xe){return function Wr(An,xe=v.z){return new ve.y(gt=>{let Wt;return null!=xe?xe.schedule(()=>{Wt=An.onSnapshot({includeMetadataChanges:!0},gt)}):Wt=An.onSnapshot({includeMetadataChanges:!0},gt),()=>{null!=Wt&&Wt()}})}(An,xe)}function Gr(An,xe){return Sr(An,xe).pipe((0,Qe.U)(gt=>({payload:gt,type:"query"})))}function Qr(An,xe){return Gr(An,xe).pipe((0,Se.O)(void 0),(0,Re.G)(),(0,Qe.U)(([gt,Wt])=>{const In=Wt.payload.docChanges(),Wn=In.map(Kr=>({type:Kr.type,payload:Kr}));return gt&&JSON.stringify(gt.payload.metadata)!==JSON.stringify(Wt.payload.metadata)&&Wt.payload.docs.forEach((Kr,Nr)=>{const Rr=In.find(Te=>Te.doc.ref.isEqual(Kr.ref)),yt=null==gt?void 0:gt.payload.docs.find(Te=>Te.ref.isEqual(Kr.ref));Rr&&JSON.stringify(Rr.doc.metadata)===JSON.stringify(Kr.metadata)||!Rr&&yt&&JSON.stringify(yt.metadata)===JSON.stringify(Kr.metadata)||Wn.push({type:"modified",payload:{oldIndex:Nr,newIndex:Nr,type:"modified",doc:Kr}})}),Wn}))}function br(An,xe,gt){return Qr(An,gt).pipe((0,Be.R)((Wt,In)=>function $r(An,xe,gt){return xe.forEach(Wt=>{gt.indexOf(Wt.type)>-1&&(An=function nr(An,xe){switch(xe.type){case"added":if(!An[xe.newIndex]||!An[xe.newIndex].doc.ref.isEqual(xe.doc.ref))return ui(An,xe.newIndex,0,xe);break;case"modified":if(null==An[xe.oldIndex]||An[xe.oldIndex].doc.ref.isEqual(xe.doc.ref)){if(xe.oldIndex!==xe.newIndex){const gt=An.slice();return gt.splice(xe.oldIndex,1),gt.splice(xe.newIndex,0,xe),gt}return ui(An,xe.newIndex,1,xe)}break;case"removed":if(An[xe.oldIndex]&&An[xe.oldIndex].doc.ref.isEqual(xe.doc.ref))return ui(An,xe.oldIndex,1)}return An}(An,Wt))}),An}(Wt,In.map(Wn=>Wn.payload),xe),[]),(0,Me.x)(),(0,Qe.U)(Wt=>Wt.map(In=>({type:In.type,payload:In}))))}function ui(An,xe,gt,...Wt){const In=An.slice();return In.splice(xe,gt,...Wt),In}function Zn(An){return(!An||0===An.length)&&(An=["added","removed","modified"]),An}class rr{constructor(xe,gt,Wt){this.ref=xe,this.query=gt,this.afs=Wt}stateChanges(xe){let gt=Qr(this.query,this.afs.schedulers.outsideAngular);return xe&&xe.length>0&&(gt=gt.pipe((0,Qe.U)(Wt=>Wt.filter(In=>xe.indexOf(In.type)>-1)))),gt.pipe((0,Se.O)(void 0),(0,Re.G)(),(0,ot.h)(([Wt,In])=>In.length>0||!Wt),(0,Qe.U)(([Wt,In])=>In),Ke.iC)}auditTrail(xe){return this.stateChanges(xe).pipe((0,Be.R)((gt,Wt)=>[...gt,...Wt],[]))}snapshotChanges(xe){const gt=Zn(xe);return br(this.query,gt,this.afs.schedulers.outsideAngular).pipe(Ke.iC)}valueChanges(xe={}){return Gr(this.query,this.afs.schedulers.outsideAngular).pipe((0,Qe.U)(gt=>gt.payload.docs.map(Wt=>xe.idField?Object.assign(Object.assign({},Wt.data()),{[xe.idField]:Wt.id}):Wt.data())),Ke.iC)}get(xe){return(0,Fe.D)(this.query.get(xe)).pipe(Ke.iC)}add(xe){return this.ref.add(xe)}doc(xe){return new Ei(this.ref.doc(xe),this.afs)}}class Ei{constructor(xe,gt){this.ref=xe,this.afs=gt}set(xe,gt){return this.ref.set(xe,gt)}update(xe){return this.ref.update(xe)}delete(){return this.ref.delete()}collection(xe,gt){const Wt=this.ref.collection(xe),{ref:In,query:Wn}=pr(Wt,gt);return new rr(In,Wn,this.afs)}snapshotChanges(){return function On(An,xe){return Sr(An,xe).pipe((0,Se.O)(void 0),(0,Re.G)(),(0,Qe.U)(([gt,Wt])=>Wt.exists?null!=gt&&gt.exists?{payload:Wt,type:"modified"}:{payload:Wt,type:"added"}:{payload:Wt,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(Ke.iC)}valueChanges(xe={}){return this.snapshotChanges().pipe((0,Qe.U)(({payload:gt})=>xe.idField?Object.assign(Object.assign({},gt.data()),{[xe.idField]:gt.id}):gt.data()))}get(xe){return(0,Fe.D)(this.ref.get(xe)).pipe(Ke.iC)}}class di{constructor(xe,gt){this.query=xe,this.afs=gt}stateChanges(xe){return xe&&0!==xe.length?Qr(this.query,this.afs.schedulers.outsideAngular).pipe((0,Qe.U)(gt=>gt.filter(Wt=>xe.indexOf(Wt.type)>-1)),(0,ot.h)(gt=>gt.length>0),Ke.iC):Qr(this.query,this.afs.schedulers.outsideAngular).pipe(Ke.iC)}auditTrail(xe){return this.stateChanges(xe).pipe((0,Be.R)((gt,Wt)=>[...gt,...Wt],[]))}snapshotChanges(xe){const gt=Zn(xe);return br(this.query,gt,this.afs.schedulers.outsideAngular).pipe(Ke.iC)}valueChanges(xe={}){return Gr(this.query,this.afs.schedulers.outsideAngular).pipe((0,Qe.U)(Wt=>Wt.payload.docs.map(In=>xe.idField?Object.assign({[xe.idField]:In.id},In.data()):In.data())),Ke.iC)}get(xe){return(0,Fe.D)(this.query.get(xe)).pipe(Ke.iC)}}const ni=new d.OlP("angularfire2.enableFirestorePersistence"),ri=new d.OlP("angularfire2.firestore.persistenceSettings"),oi=new d.OlP("angularfire2.firestore.settings"),Er=new d.OlP("angularfire2.firestore.use-emulator");function pr(An,xe=(gt=>gt)){return{query:xe(An),ref:An}}let yi=(()=>{class An{constructor(gt,Wt,In,Wn,Kr,Nr,Rr,yt,Te,se,ee,oe,qe,xt,rt,Vt,nn){this.schedulers=Rr;const Tn=(0,Pe.on)(gt,Nr,Wt),wn=Te;se&&(0,Xn.nw)(Tn,Nr,ee,qe,xt,rt,oe,Vt),[this.firestore,this.persistenceEnabled$]=(0,Pe.cc)(`${Tn.name}.firestore`,"AngularFirestore",Tn.name,()=>{const Gn=Nr.runOutsideAngular(()=>Tn.firestore());if(Wn&&Gn.settings(Wn),wn&&Gn.useEmulator(...wn),In&&!(0,ct.PM)(Kr)){const un=()=>{try{return(0,Fe.D)(Gn.enablePersistence(yt||void 0).then(()=>!0,()=>!1))}catch(bn){return typeof console<"u"&&console.warn(bn),(0,Xe.of)(!1)}};return[Gn,Nr.runOutsideAngular(un)]}return[Gn,(0,Xe.of)(!1)]},[Wn,wn,In])}collection(gt,Wt){let In;In="string"==typeof gt?this.firestore.collection(gt):gt;const{ref:Wn,query:Kr}=pr(In,Wt),Nr=this.schedulers.ngZone.run(()=>Wn);return new rr(Nr,Kr,this)}collectionGroup(gt,Wt){const In=Wt||(Kr=>Kr),Wn=this.firestore.collectionGroup(gt);return new di(In(Wn),this)}doc(gt){let Wt;Wt="string"==typeof gt?this.firestore.doc(gt):gt;const In=this.schedulers.ngZone.run(()=>Wt);return new Ei(In,this)}createId(){return this.firestore.collection("_").doc().id}}return An.\u0275fac=function(gt){return new(gt||An)(d.LFG(Pe.Dh),d.LFG(Pe.xv,8),d.LFG(ni,8),d.LFG(oi,8),d.LFG(d.Lbi),d.LFG(d.R0b),d.LFG(Ke.HU),d.LFG(ri,8),d.LFG(Er,8),d.LFG(Xn.zQ,8),d.LFG(Xn.Qv,8),d.LFG(Xn.L6,8),d.LFG(Xn._Q,8),d.LFG(Xn.rT,8),d.LFG(Xn.lh,8),d.LFG(Xn.f7,8),d.LFG(cn.nm,8))},An.\u0275prov=d.Yz7({token:An,factory:An.\u0275fac,providedIn:"any"}),An})(),Ar=(()=>{class An{constructor(){Pr.Z.registerVersion("angularfire",Ke.q4.full,"fst-compat")}static enablePersistence(gt){return{ngModule:An,providers:[{provide:ni,useValue:!0},{provide:ri,useValue:gt}]}}}return An.\u0275fac=function(gt){return new(gt||An)},An.\u0275mod=d.oAB({type:An}),An.\u0275inj=d.cJS({providers:[yi]}),An})()},377:(er,Nt,H)=>{"use strict";H.d(Nt,{Q1:()=>js,TE:()=>Fo});var d=H(9751),v=H(9646),ve=H(8996),Fe=H(4986),Xe=H(4482),Ke=H(5403),Re=H(4004),Qe=H(3900),Be=H(3324),Me=H(2223),ot=H(2011),Pe=H(3942),ct=H(5861),mt=H(6881),Ut=H(2090),He=H(4859);const $e="firebasestorage.googleapis.com",Lt="storageBucket";class Tt extends Ut.ZR{constructor(ae,$,L=0){super(vt(ae),`Firebase Storage: ${$} (${vt(ae)})`),this.status_=L,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Tt.prototype)}get status(){return this.status_}set status(ae){this.status_=ae}_codeEquals(ae){return vt(ae)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(ae){this.customData.serverResponse=ae,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}var Dt=(()=>((Dt=Dt||{}).UNKNOWN="unknown",Dt.OBJECT_NOT_FOUND="object-not-found",Dt.BUCKET_NOT_FOUND="bucket-not-found",Dt.PROJECT_NOT_FOUND="project-not-found",Dt.QUOTA_EXCEEDED="quota-exceeded",Dt.UNAUTHENTICATED="unauthenticated",Dt.UNAUTHORIZED="unauthorized",Dt.UNAUTHORIZED_APP="unauthorized-app",Dt.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",Dt.INVALID_CHECKSUM="invalid-checksum",Dt.CANCELED="canceled",Dt.INVALID_EVENT_NAME="invalid-event-name",Dt.INVALID_URL="invalid-url",Dt.INVALID_DEFAULT_BUCKET="invalid-default-bucket",Dt.NO_DEFAULT_BUCKET="no-default-bucket",Dt.CANNOT_SLICE_BLOB="cannot-slice-blob",Dt.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",Dt.NO_DOWNLOAD_URL="no-download-url",Dt.INVALID_ARGUMENT="invalid-argument",Dt.INVALID_ARGUMENT_COUNT="invalid-argument-count",Dt.APP_DELETED="app-deleted",Dt.INVALID_ROOT_OPERATION="invalid-root-operation",Dt.INVALID_FORMAT="invalid-format",Dt.INTERNAL_ERROR="internal-error",Dt.UNSUPPORTED_ENVIRONMENT="unsupported-environment",Dt))();function vt(be){return"storage/"+be}function it(){return new Tt(Dt.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function Je(){return new Tt(Dt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function ut(){return new Tt(Dt.CANCELED,"User canceled the upload/download.")}function ft(){return new Tt(Dt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function ln(be){return new Tt(Dt.INVALID_ARGUMENT,be)}function Oe(){return new Tt(Dt.APP_DELETED,"The Firebase app was deleted.")}function rn(be){return new Tt(Dt.INVALID_ROOT_OPERATION,"The operation '"+be+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function wt(be,ae){return new Tt(Dt.INVALID_FORMAT,"String does not match format '"+be+"': "+ae)}function fn(be){throw new Tt(Dt.INTERNAL_ERROR,"Internal error: "+be)}class _n{constructor(ae,$){this.bucket=ae,this.path_=$}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const ae=encodeURIComponent;return"/b/"+ae(this.bucket)+"/o/"+ae(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(ae,$){let L;try{L=_n.makeFromUrl(ae,$)}catch{return new _n(ae,"")}if(""===L.path)return L;throw function tt(be){return new Tt(Dt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+be+"'.")}(ae)}static makeFromUrl(ae,$){let L=null;const D="([A-Za-z0-9.\\-_]+)",dt=new RegExp("^gs://"+D+"(/(.*))?$","i");function Ht(Ti){Ti.path_=decodeURIComponent(Ti.path)}const zr=$.replace(/[.]/g,"\\."),Ss=[{regex:dt,indices:{bucket:1,path:3},postModify:function F(Ti){"/"===Ti.path.charAt(Ti.path.length-1)&&(Ti.path_=Ti.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${zr}/v[A-Za-z0-9_]+/b/${D}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:Ht},{regex:new RegExp(`^https?://${$===$e?"(?:storage.googleapis.com|storage.cloud.google.com)":$}/${D}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:Ht}];for(let Ti=0;Ti<Ss.length;Ti++){const Ns=Ss[Ti],fo=Ns.regex.exec(ae);if(fo){let Lo=fo[Ns.indices.path];Lo||(Lo=""),L=new _n(fo[Ns.indices.bucket],Lo),Ns.postModify(L);break}}if(null==L)throw function _t(be){return new Tt(Dt.INVALID_URL,"Invalid URL '"+be+"'.")}(ae);return L}}class tr{constructor(ae){this.promise_=Promise.reject(ae)}getPromise(){return this.promise_}cancel(ae=!1){}}function Pr(be){return"string"==typeof be||be instanceof String}function Wr(be){return Sr()&&be instanceof Blob}function Sr(){return typeof Blob<"u"&&!(0,Ut.UG)()}function On(be,ae,$,L){if(L<ae)throw ln(`Invalid value for '${be}'. Expected ${ae} or greater.`);if(L>$)throw ln(`Invalid value for '${be}'. Expected ${$} or less.`)}function Gr(be,ae,$){let L=ae;return null==$&&(L=`https://${ae}`),`${$}://${L}/v0${be}`}function Qr(be){const ae=encodeURIComponent;let $="?";for(const L in be)be.hasOwnProperty(L)&&($=$+(ae(L)+"=")+ae(be[L])+"&");return $=$.slice(0,-1),$}var br=(()=>((br=br||{})[br.NO_ERROR=0]="NO_ERROR",br[br.NETWORK_ERROR=1]="NETWORK_ERROR",br[br.ABORT=2]="ABORT",br))();function $r(be,ae){const $=be>=500&&be<600,D=-1!==[408,429].indexOf(be),F=-1!==ae.indexOf(be);return $||D||F}class ui{constructor(ae,$,L,D,F,fe,dt,Ot,Ht,Pn,zr,ii=!0){this.url_=ae,this.method_=$,this.headers_=L,this.body_=D,this.successCodes_=F,this.additionalRetryCodes_=fe,this.callback_=dt,this.errorCallback_=Ot,this.timeout_=Ht,this.progressCallback_=Pn,this.connectionFactory_=zr,this.retry=ii,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((Tr,hi)=>{this.resolve_=Tr,this.reject_=hi,this.start_()})}start_(){const $=(L,D)=>{const F=this.resolve_,fe=this.reject_,dt=D.connection;if(D.wasSuccessCode)try{const Ot=this.callback_(dt,dt.getResponse());!function hn(be){return void 0!==be}(Ot)?F():F(Ot)}catch(Ot){fe(Ot)}else if(null!==dt){const Ot=it();Ot.serverResponse=dt.getErrorText(),fe(this.errorCallback_?this.errorCallback_(dt,Ot):Ot)}else fe(D.canceled?this.appDelete_?Oe():ut():Je())};this.canceled_?$(0,new nr(!1,null,!0)):this.backoffId_=function ur(be,ae,$){let L=1,D=null,F=null,fe=!1,dt=0;function Ot(){return 2===dt}let Ht=!1;function Pn(...qi){Ht||(Ht=!0,ae.apply(null,qi))}function zr(qi){D=setTimeout(()=>{D=null,be(Tr,Ot())},qi)}function ii(){F&&clearTimeout(F)}function Tr(qi,...ao){if(Ht)return void ii();if(qi)return ii(),void Pn.call(null,qi,...ao);if(Ot()||fe)return ii(),void Pn.call(null,qi,...ao);let Ss;L<64&&(L*=2),1===dt?(dt=2,Ss=0):Ss=1e3*(L+Math.random()),zr(Ss)}let hi=!1;function _i(qi){hi||(hi=!0,ii(),!Ht&&(null!==D?(qi||(dt=2),clearTimeout(D),zr(0)):qi||(dt=1)))}return zr(0),F=setTimeout(()=>{fe=!0,_i(!0)},$),_i}((L,D)=>{if(D)return void L(!1,new nr(!1,null,!0));const F=this.connectionFactory_();this.pendingConnection_=F;const fe=dt=>{null!==this.progressCallback_&&this.progressCallback_(dt.loaded,dt.lengthComputable?dt.total:-1)};null!==this.progressCallback_&&F.addUploadProgressListener(fe),F.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&F.removeUploadProgressListener(fe),this.pendingConnection_=null;const dt=F.getErrorCode()===br.NO_ERROR,Ot=F.getStatus();if(!dt||$r(Ot,this.additionalRetryCodes_)&&this.retry){const Pn=F.getErrorCode()===br.ABORT;return void L(!1,new nr(!1,null,Pn))}const Ht=-1!==this.successCodes_.indexOf(Ot);L(!0,new nr(Ht,F))})},$,this.timeout_)}getPromise(){return this.promise_}cancel(ae){this.canceled_=!0,this.appDelete_=ae||!1,null!==this.backoffId_&&function lr(be){be(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class nr{constructor(ae,$,L){this.wasSuccessCode=ae,this.connection=$,this.canceled=!!L}}function oi(...be){const ae=function ri(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==ae){const $=new ae;for(let L=0;L<be.length;L++)$.append(be[L]);return $.getBlob()}if(Sr())return new Blob(be);throw new Tt(Dt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}const yi={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Ar{constructor(ae,$){this.data=ae,this.contentType=$||null}}function An(be,ae){switch(be){case yi.RAW:return new Ar(xe(ae));case yi.BASE64:case yi.BASE64URL:return new Ar(Wt(be,ae));case yi.DATA_URL:return new Ar(function Wn(be){const ae=new In(be);return ae.base64?Wt(yi.BASE64,ae.rest):function gt(be){let ae;try{ae=decodeURIComponent(be)}catch{throw wt(yi.DATA_URL,"Malformed data URL.")}return xe(ae)}(ae.rest)}(ae),function Kr(be){return new In(be).contentType}(ae))}throw it()}function xe(be){const ae=[];for(let $=0;$<be.length;$++){let L=be.charCodeAt($);L<=127?ae.push(L):L<=2047?ae.push(192|L>>6,128|63&L):55296==(64512&L)?$<be.length-1&&56320==(64512&be.charCodeAt($+1))?(L=65536|(1023&L)<<10|1023&be.charCodeAt(++$),ae.push(240|L>>18,128|L>>12&63,128|L>>6&63,128|63&L)):ae.push(239,191,189):56320==(64512&L)?ae.push(239,191,189):ae.push(224|L>>12,128|L>>6&63,128|63&L)}return new Uint8Array(ae)}function Wt(be,ae){switch(be){case yi.BASE64:{const D=-1!==ae.indexOf("-"),F=-1!==ae.indexOf("_");if(D||F)throw wt(be,"Invalid character '"+(D?"-":"_")+"' found: is it base64url encoded?");break}case yi.BASE64URL:{const D=-1!==ae.indexOf("+"),F=-1!==ae.indexOf("/");if(D||F)throw wt(be,"Invalid character '"+(D?"+":"/")+"' found: is it base64 encoded?");ae=ae.replace(/-/g,"+").replace(/_/g,"/");break}}let $;try{$=function pr(be){if(typeof atob>"u")throw function sn(be){return new Tt(Dt.UNSUPPORTED_ENVIRONMENT,`${be} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}("base-64");return atob(be)}(ae)}catch(D){throw D.message.includes("polyfill")?D:wt(be,"Invalid character found")}const L=new Uint8Array($.length);for(let D=0;D<$.length;D++)L[D]=$.charCodeAt(D);return L}class In{constructor(ae){this.base64=!1,this.contentType=null;const $=ae.match(/^data:([^,]+)?,/);if(null===$)throw wt(yi.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const L=$[1]||null;null!=L&&(this.base64=function Nr(be,ae){return be.length>=ae.length&&be.substring(be.length-ae.length)===ae}(L,";base64"),this.contentType=this.base64?L.substring(0,L.length-7):L),this.rest=ae.substring(ae.indexOf(",")+1)}}class Rr{constructor(ae,$){let L=0,D="";Wr(ae)?(this.data_=ae,L=ae.size,D=ae.type):ae instanceof ArrayBuffer?($?this.data_=new Uint8Array(ae):(this.data_=new Uint8Array(ae.byteLength),this.data_.set(new Uint8Array(ae))),L=this.data_.length):ae instanceof Uint8Array&&($?this.data_=ae:(this.data_=new Uint8Array(ae.length),this.data_.set(ae)),L=ae.length),this.size_=L,this.type_=D}size(){return this.size_}type(){return this.type_}slice(ae,$){if(Wr(this.data_)){const D=function Er(be,ae,$){return be.webkitSlice?be.webkitSlice(ae,$):be.mozSlice?be.mozSlice(ae,$):be.slice?be.slice(ae,$):null}(this.data_,ae,$);return null===D?null:new Rr(D)}{const L=new Uint8Array(this.data_.buffer,ae,$-ae);return new Rr(L,!0)}}static getBlob(...ae){if(Sr()){const $=ae.map(L=>L instanceof Rr?L.data_:L);return new Rr(oi.apply(null,$))}{const $=ae.map(fe=>Pr(fe)?An(yi.RAW,fe).data:fe.data_);let L=0;$.forEach(fe=>{L+=fe.byteLength});const D=new Uint8Array(L);let F=0;return $.forEach(fe=>{for(let dt=0;dt<fe.length;dt++)D[F++]=fe[dt]}),new Rr(D,!0)}}uploadData(){return this.data_}}function yt(be){let ae;try{ae=JSON.parse(be)}catch{return null}return function cn(be){return"object"==typeof be&&!Array.isArray(be)}(ae)?ae:null}function ee(be){const ae=be.lastIndexOf("/",be.length-2);return-1===ae?be:be.slice(ae+1)}function oe(be,ae){return ae}class qe{constructor(ae,$,L,D){this.server=ae,this.local=$||ae,this.writable=!!L,this.xform=D||oe}}let xt=null;function Vt(){if(xt)return xt;const be=[];be.push(new qe("bucket")),be.push(new qe("generation")),be.push(new qe("metageneration")),be.push(new qe("name","fullPath",!0));const $=new qe("name");$.xform=function ae(F,fe){return function rt(be){return!Pr(be)||be.length<2?be:ee(be)}(fe)},be.push($);const D=new qe("size");return D.xform=function L(F,fe){return void 0!==fe?Number(fe):fe},be.push(D),be.push(new qe("timeCreated")),be.push(new qe("updated")),be.push(new qe("md5Hash",null,!0)),be.push(new qe("cacheControl",null,!0)),be.push(new qe("contentDisposition",null,!0)),be.push(new qe("contentEncoding",null,!0)),be.push(new qe("contentLanguage",null,!0)),be.push(new qe("contentType",null,!0)),be.push(new qe("metadata","customMetadata",!0)),xt=be,xt}function wn(be,ae,$){const L=yt(ae);return null===L?null:function Tn(be,ae,$){const L={type:"file"},D=$.length;for(let F=0;F<D;F++){const fe=$[F];L[fe.local]=fe.xform(L,ae[fe.server])}return function nn(be,ae){Object.defineProperty(be,"ref",{get:function $(){const F=new _n(be.bucket,be.fullPath);return ae._makeStorageReference(F)}})}(L,be),L}(be,L,$)}function un(be,ae){const $={},L=ae.length;for(let D=0;D<L;D++){const F=ae[D];F.writable&&($[F.server]=be[F.local])}return JSON.stringify($)}const bn="prefixes",Nn="items";class mn{constructor(ae,$,L,D){this.url=ae,this.method=$,this.handler=L,this.timeout=D,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function Qn(be){if(!be)throw it()}function gr(be,ae){return function $(L,D){const F=wn(be,D,ae);return Qn(null!==F),F}}function Ri(be){return function ae($,L){let D;return D=401===$.getStatus()?$.getErrorText().includes("Firebase App Check token is invalid")?function Qt(){return new Tt(Dt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}():function kt(){return new Tt(Dt.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===$.getStatus()?function St(be){return new Tt(Dt.QUOTA_EXCEEDED,"Quota for bucket '"+be+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(be.bucket):403===$.getStatus()?function Ae(be){return new Tt(Dt.UNAUTHORIZED,"User does not have permission to access '"+be+"'.")}(be.path):L,D.status=$.getStatus(),D.serverResponse=L.serverResponse,D}}function Yr(be){const ae=Ri(be);return function $(L,D){let F=ae(L,D);return 404===L.getStatus()&&(F=function Gt(be){return new Tt(Dt.OBJECT_NOT_FOUND,"Object '"+be+"' does not exist.")}(be.path)),F.serverResponse=D.serverResponse,F}}function jr(be,ae,$){const D=Gr(ae.fullServerUrl(),be.host,be._protocol),fe=be.maxOperationRetryTime,dt=new mn(D,"GET",gr(be,$),fe);return dt.errorHandler=Yr(ae),dt}function ei(be,ae,$,L,D){const F={};F.prefix=ae.isRoot?"":ae.path+"/",$&&$.length>0&&(F.delimiter=$),L&&(F.pageToken=L),D&&(F.maxResults=D);const dt=Gr(ae.bucketOnlyServerUrl(),be.host,be._protocol),Ht=be.maxOperationRetryTime,Pn=new mn(dt,"GET",function Fr(be,ae){return function $(L,D){const F=function Kt(be,ae,$){const L=yt($);return null===L?null:function Ft(be,ae,$){const L={prefixes:[],items:[],nextPageToken:$.nextPageToken};if($[bn])for(const D of $[bn]){const F=D.replace(/\/$/,""),fe=be._makeStorageReference(new _n(ae,F));L.prefixes.push(fe)}if($[Nn])for(const D of $[Nn]){const F=be._makeStorageReference(new _n(ae,D.name));L.items.push(F)}return L}(be,ae,L)}(be,ae,D);return Qn(null!==F),F}}(be,ae.bucket),Ht);return Pn.urlParams=F,Pn.errorHandler=Ri(ae),Pn}function wo(be,ae,$){const L=Object.assign({},$);return L.fullPath=be.path,L.size=ae.size(),L.contentType||(L.contentType=function rs(be,ae){return be&&be.contentType||ae&&ae.type()||"application/octet-stream"}(null,ae)),L}class zi{constructor(ae,$,L,D){this.current=ae,this.total=$,this.finalized=!!L,this.metadata=D||null}}function qs(be,ae){let $=null;try{$=be.getResponseHeader("X-Goog-Upload-Status")}catch{Qn(!1)}return Qn(!!$&&-1!==(ae||["active"]).indexOf($)),$}const pe={STATE_CHANGED:"state_changed"},ke={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function _e(be){switch(be){case"running":case"pausing":case"canceling":return ke.RUNNING;case"paused":return ke.PAUSED;case"success":return ke.SUCCESS;case"canceled":return ke.CANCELED;default:return ke.ERROR}}class re{constructor(ae,$,L){if(function Xn(be){return"function"==typeof be}(ae)||null!=$||null!=L)this.next=ae,this.error=null!=$?$:void 0,this.complete=null!=L?L:void 0;else{const F=ae;this.next=F.next,this.error=F.error,this.complete=F.complete}}}function ye(be){return(...ae)=>{Promise.resolve().then(()=>be(...ae))}}let st=null;class It{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=br.NO_ERROR,this.sendPromise_=new Promise(ae=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=br.ABORT,ae()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=br.NETWORK_ERROR,ae()}),this.xhr_.addEventListener("load",()=>{ae()})})}send(ae,$,L,D){if(this.sent_)throw fn("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open($,ae,!0),void 0!==D)for(const F in D)D.hasOwnProperty(F)&&this.xhr_.setRequestHeader(F,D[F].toString());return void 0!==L?this.xhr_.send(L):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw fn("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw fn("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw fn("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw fn("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(ae){return this.xhr_.getResponseHeader(ae)}addUploadProgressListener(ae){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",ae)}removeUploadProgressListener(ae){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",ae)}}class Bt extends It{initXhr(){this.xhr_.responseType="text"}}function tn(){return st?st():new Bt}class ms{constructor(ae,$,L=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=ae,this._blob=$,this._metadata=L,this._mappings=Vt(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=D=>{if(this._request=void 0,this._chunkMultiplier=1,D._codeEquals(Dt.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const F=this.isExponentialBackoffExpired();if($r(D.status,[])){if(!F)return this.sleepTime=Math.max(2*this.sleepTime,1e3),this._needToFetchStatus=!0,void this.completeTransitions_();D=Je()}this._error=D,this._transition("error")}},this._metadataErrorHandler=D=>{this._request=void 0,D._codeEquals(Dt.CANCELED)?this.completeTransitions_():(this._error=D,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((D,F)=>{this._resolve=D,this._reject=F,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const ae=this._transferred;return $=>this._updateProgress(ae+$)}_shouldDoResumable(ae){return ae.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(ae){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([$,L])=>{switch(this._state){case"running":ae($,L);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((ae,$)=>{const L=function io(be,ae,$,L,D){const F=ae.bucketOnlyServerUrl(),fe=wo(ae,L,D),dt={name:fe.fullPath},Ot=Gr(F,be.host,be._protocol),Pn={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${L.size()}`,"X-Goog-Upload-Header-Content-Type":fe.contentType,"Content-Type":"application/json; charset=utf-8"},zr=un(fe,$),hi=new mn(Ot,"POST",function Tr(_i){let qi;qs(_i);try{qi=_i.getResponseHeader("X-Goog-Upload-URL")}catch{Qn(!1)}return Qn(Pr(qi)),qi},be.maxUploadRetryTime);return hi.urlParams=dt,hi.headers=Pn,hi.body=zr,hi.errorHandler=Ri(ae),hi}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),D=this._ref.storage._makeRequest(L,tn,ae,$);this._request=D,D.getPromise().then(F=>{this._request=void 0,this._uploadUrl=F,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const ae=this._uploadUrl;this._resolveToken(($,L)=>{const D=function Bs(be,ae,$,L){const Ot=new mn($,"POST",function F(Ht){const Pn=qs(Ht,["active","final"]);let zr=null;try{zr=Ht.getResponseHeader("X-Goog-Upload-Size-Received")}catch{Qn(!1)}zr||Qn(!1);const ii=Number(zr);return Qn(!isNaN(ii)),new zi(ii,L.size(),"final"===Pn)},be.maxUploadRetryTime);return Ot.headers={"X-Goog-Upload-Command":"query"},Ot.errorHandler=Ri(ae),Ot}(this._ref.storage,this._ref._location,ae,this._blob),F=this._ref.storage._makeRequest(D,tn,$,L);this._request=F,F.getPromise().then(fe=>{this._request=void 0,this._updateProgress(fe.current),this._needToFetchStatus=!1,fe.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const ae=262144*this._chunkMultiplier,$=new zi(this._transferred,this._blob.size()),L=this._uploadUrl;this._resolveToken((D,F)=>{let fe;try{fe=function ie(be,ae,$,L,D,F,fe,dt){const Ot=new zi(0,0);if(fe?(Ot.current=fe.current,Ot.total=fe.total):(Ot.current=0,Ot.total=L.size()),L.size()!==Ot.total)throw function jt(){return new Tt(Dt.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}();const Ht=Ot.total-Ot.current;let Pn=Ht;D>0&&(Pn=Math.min(Pn,D));const zr=Ot.current;let Tr="";Tr=0===Pn?"finalize":Ht===Pn?"upload, finalize":"upload";const hi={"X-Goog-Upload-Command":Tr,"X-Goog-Upload-Offset":`${Ot.current}`},_i=L.slice(zr,zr+Pn);if(null===_i)throw ft();const Ss=new mn($,"POST",function qi(Ti,Ns){const fo=qs(Ti,["active","final"]),Xo=Ot.current+Pn,Lo=L.size();let ya;return ya="final"===fo?gr(ae,F)(Ti,Ns):null,new zi(Xo,Lo,"final"===fo,ya)},ae.maxUploadRetryTime);return Ss.headers=hi,Ss.body=_i.uploadData(),Ss.progressCallback=dt||null,Ss.errorHandler=Ri(be),Ss}(this._ref._location,this._ref.storage,L,this._blob,ae,this._mappings,$,this._makeProgressCallback())}catch(Ot){return this._error=Ot,void this._transition("error")}const dt=this._ref.storage._makeRequest(fe,tn,D,F,!1);this._request=dt,dt.getPromise().then(Ot=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(Ot.current),Ot.finalized?(this._metadata=Ot.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier*2<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((ae,$)=>{const L=jr(this._ref.storage,this._ref._location,this._mappings),D=this._ref.storage._makeRequest(L,tn,ae,$);this._request=D,D.getPromise().then(F=>{this._request=void 0,this._metadata=F,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((ae,$)=>{const L=function as(be,ae,$,L,D){const F=ae.bucketOnlyServerUrl(),fe={"X-Goog-Upload-Protocol":"multipart"},Ot=function dt(){let Ss="";for(let Ti=0;Ti<2;Ti++)Ss+=Math.random().toString().slice(2);return Ss}();fe["Content-Type"]="multipart/related; boundary="+Ot;const Ht=wo(ae,L,D),Pn=un(Ht,$),Tr=Rr.getBlob("--"+Ot+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+Pn+"\r\n--"+Ot+"\r\nContent-Type: "+Ht.contentType+"\r\n\r\n",L,"\r\n--"+Ot+"--");if(null===Tr)throw ft();const hi={name:Ht.fullPath},_i=Gr(F,be.host,be._protocol),ao=be.maxUploadRetryTime,hs=new mn(_i,"POST",gr(be,$),ao);return hs.urlParams=hi,hs.headers=fe,hs.body=Tr.uploadData(),hs.errorHandler=Ri(ae),hs}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),D=this._ref.storage._makeRequest(L,tn,ae,$);this._request=D,D.getPromise().then(F=>{this._request=void 0,this._metadata=F,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(ae){const $=this._transferred;this._transferred=ae,this._transferred!==$&&this._notifyObservers()}_transition(ae){if(this._state!==ae)switch(ae){case"canceling":case"pausing":this._state=ae,void 0!==this._request?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const $="paused"===this._state;this._state=ae,$&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=ae,this._notifyObservers();break;case"canceled":this._error=ut(),this._state=ae,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const ae=_e(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:ae,metadata:this._metadata,task:this,ref:this._ref}}on(ae,$,L,D){const F=new re($||void 0,L||void 0,D||void 0);return this._addObserver(F),()=>{this._removeObserver(F)}}then(ae,$){return this._promise.then(ae,$)}catch(ae){return this.then(null,ae)}_addObserver(ae){this._observers.push(ae),this._notifyObserver(ae)}_removeObserver(ae){const $=this._observers.indexOf(ae);-1!==$&&this._observers.splice($,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach($=>{this._notifyObserver($)})}_finishPromise(){if(void 0!==this._resolve){let ae=!0;switch(_e(this._state)){case ke.SUCCESS:ye(this._resolve.bind(null,this.snapshot))();break;case ke.CANCELED:case ke.ERROR:ye(this._reject.bind(null,this._error))();break;default:ae=!1}ae&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(ae){switch(_e(this._state)){case ke.RUNNING:case ke.PAUSED:ae.next&&ye(ae.next.bind(ae,this.snapshot))();break;case ke.SUCCESS:ae.complete&&ye(ae.complete.bind(ae))();break;default:ae.error&&ye(ae.error.bind(ae,this._error))()}}resume(){const ae="paused"===this._state||"pausing"===this._state;return ae&&this._transition("running"),ae}pause(){const ae="running"===this._state;return ae&&this._transition("pausing"),ae}cancel(){const ae="running"===this._state||"pausing"===this._state;return ae&&this._transition("canceling"),ae}}class Qi{constructor(ae,$){this._service=ae,this._location=$ instanceof _n?$:_n.makeFromUrl($,ae.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(ae,$){return new Qi(ae,$)}get root(){const ae=new _n(this._location.bucket,"");return this._newRef(this._service,ae)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return ee(this._location.path)}get storage(){return this._service}get parent(){const ae=function Te(be){if(0===be.length)return null;const ae=be.lastIndexOf("/");return-1===ae?"":be.slice(0,ae)}(this._location.path);if(null===ae)return null;const $=new _n(this._location.bucket,ae);return new Qi(this._service,$)}_throwIfRoot(ae){if(""===this._location.path)throw rn(ae)}}function Io(be,ae,$){return us.apply(this,arguments)}function us(){return(us=(0,ct.Z)(function*(be,ae,$){const D=yield go(be,{pageToken:$});ae.prefixes.push(...D.prefixes),ae.items.push(...D.items),null!=D.nextPageToken&&(yield Io(be,ae,D.nextPageToken))})).apply(this,arguments)}function go(be,ae){null!=ae&&"number"==typeof ae.maxResults&&On("options.maxResults",1,1e3,ae.maxResults);const $=ae||{},L=ei(be.storage,be._location,"/",$.pageToken,$.maxResults);return be.storage.makeRequestWithTokens(L,tn)}function ys(be){be._throwIfRoot("getDownloadURL");const ae=function uo(be,ae,$){const D=Gr(ae.fullServerUrl(),be.host,be._protocol),fe=be.maxOperationRetryTime,dt=new mn(D,"GET",function Or(be,ae){return function $(L,D){const F=wn(be,D,ae);return Qn(null!==F),function Gn(be,ae,$,L){const D=yt(ae);if(null===D||!Pr(D.downloadTokens))return null;const F=D.downloadTokens;if(0===F.length)return null;const fe=encodeURIComponent;return F.split(",").map(Ht=>{const zr=be.fullPath;return Gr("/b/"+fe(be.bucket)+"/o/"+fe(zr),$,L)+Qr({alt:"media",token:Ht})})[0]}(F,D,be.host,be._protocol)}}(be,$),fe);return dt.errorHandler=Yr(ae),dt}(be.storage,be._location,Vt());return be.storage.makeRequestWithTokens(ae,tn).then($=>{if(null===$)throw function Pt(){return new Tt(Dt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}();return $})}function Js(be,ae){const $=function se(be,ae){const $=ae.split("/").filter(L=>L.length>0).join("/");return 0===be.length?$:be+"/"+$}(be._location.path,ae),L=new _n(be._location.bucket,$);return new Qi(be.storage,L)}function Vr(be,ae){if(be instanceof Vi){const $=be;if(null==$._bucket)throw function Ge(){return new Tt(Dt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+Lt+"' property when initializing the app?")}();const L=new Qi($,$._bucket);return null!=ae?Vr(L,ae):L}return void 0!==ae?Js(be,ae):be}function Di(be,ae){if(ae&&function ho(be){return/^[A-Za-z]+:\/\//.test(be)}(ae)){if(be instanceof Vi)return function Oi(be,ae){return new Qi(be,ae)}(be,ae);throw ln("To use ref(service, url), the first argument must be a Storage instance.")}return Vr(be,ae)}function pi(be,ae){const $=null==ae?void 0:ae[Lt];return null==$?null:_n.makeFromBucketSpec($,be)}class Vi{constructor(ae,$,L,D,F){this.app=ae,this._authProvider=$,this._appCheckProvider=L,this._url=D,this._firebaseVersion=F,this._bucket=null,this._host=$e,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=D?_n.makeFromBucketSpec(D,this._host):pi(this._host,this.app.options)}get host(){return this._host}set host(ae){this._host=ae,this._bucket=null!=this._url?_n.makeFromBucketSpec(this._url,ae):pi(ae,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(ae){On("time",0,Number.POSITIVE_INFINITY,ae),this._maxUploadRetryTime=ae}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(ae){On("time",0,Number.POSITIVE_INFINITY,ae),this._maxOperationRetryTime=ae}_getAuthToken(){var ae=this;return(0,ct.Z)(function*(){if(ae._overrideAuthToken)return ae._overrideAuthToken;const $=ae._authProvider.getImmediate({optional:!0});if($){const L=yield $.getToken();if(null!==L)return L.accessToken}return null})()}_getAppCheckToken(){var ae=this;return(0,ct.Z)(function*(){const $=ae._appCheckProvider.getImmediate({optional:!0});return $?(yield $.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(ae=>ae.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(ae){return new Qi(this,ae)}_makeRequest(ae,$,L,D,F=!0){if(this._deleted)return new tr(Oe());{const fe=function ni(be,ae,$,L,D,F,fe=!0){const dt=Qr(be.urlParams),Ot=be.url+dt,Ht=Object.assign({},be.headers);return function Ei(be,ae){ae&&(be["X-Firebase-GMPID"]=ae)}(Ht,ae),function Zn(be,ae){null!==ae&&ae.length>0&&(be.Authorization="Firebase "+ae)}(Ht,$),function rr(be,ae){be["X-Firebase-Storage-Version"]="webjs/"+(null!=ae?ae:"AppManager")}(Ht,F),function di(be,ae){null!==ae&&(be["X-Firebase-AppCheck"]=ae)}(Ht,L),new ui(Ot,be.method,Ht,be.body,be.successCodes,be.additionalRetryCodes,be.handler,be.errorHandler,be.timeout,be.progressCallback,D,fe)}(ae,this._appId,L,D,$,this._firebaseVersion,F);return this._requests.add(fe),fe.getPromise().then(()=>this._requests.delete(fe),()=>this._requests.delete(fe)),fe}}makeRequestWithTokens(ae,$){var L=this;return(0,ct.Z)(function*(){const[D,F]=yield Promise.all([L._getAuthToken(),L._getAppCheckToken()]);return L._makeRequest(ae,$,D,F).getPromise()})()}}const To="@firebase/storage";function Es(be,ae){return Di(be=(0,Ut.m9)(be),ae)}function So(be,{instanceIdentifier:ae}){const $=be.getProvider("app").getImmediate(),L=be.getProvider("auth-internal"),D=be.getProvider("app-check-internal");return new Vi($,L,D,ae,mt.SDK_VERSION)}!function xo(){(0,mt._registerComponent)(new He.wA("storage",So,"PUBLIC").setMultipleInstances(!0)),(0,mt.registerVersion)(To,"0.11.2",""),(0,mt.registerVersion)(To,"0.11.2","esm2017")}();class mo{constructor(ae,$,L){this._delegate=ae,this.task=$,this.ref=L}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class Zo{constructor(ae,$){this._delegate=ae,this._ref=$,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new mo(this._delegate.snapshot,this,this._ref)}then(ae,$){return this._delegate.then(L=>{if(ae)return ae(new mo(L,this,this._ref))},$)}on(ae,$,L,D){let F;return $&&(F="function"==typeof $?fe=>$(new mo(fe,this,this._ref)):{next:$.next?fe=>$.next(new mo(fe,this,this._ref)):void 0,complete:$.complete||void 0,error:$.error||void 0}),this._delegate.on(ae,F,L||void 0,D||void 0)}}class Us{constructor(ae,$){this._delegate=ae,this._service=$}get prefixes(){return this._delegate.prefixes.map(ae=>new gi(ae,this._service))}get items(){return this._delegate.items.map(ae=>new gi(ae,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class gi{constructor(ae,$){this._delegate=ae,this.storage=$}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(ae){const $=function ko(be,ae){return Js(be,ae)}(this._delegate,ae);return new gi($,this.storage)}get root(){return new gi(this._delegate.root,this.storage)}get parent(){const ae=this._delegate.parent;return null==ae?null:new gi(ae,this.storage)}put(ae,$){return this._throwIfRoot("put"),new Zo(function Os(be,ae,$){return function qr(be,ae,$){return be._throwIfRoot("uploadBytesResumable"),new ms(be,new Rr(ae),$)}(be=(0,Ut.m9)(be),ae,$)}(this._delegate,ae,$),this)}putString(ae,$=yi.RAW,L){this._throwIfRoot("putString");const D=An($,ae),F=Object.assign({},L);return null==F.contentType&&null!=D.contentType&&(F.contentType=D.contentType),new Zo(new ms(this._delegate,new Rr(D.data,!0),F),this)}listAll(){return function Do(be){return function Rs(be){const ae={prefixes:[],items:[]};return Io(be,ae).then(()=>ae)}(be=(0,Ut.m9)(be))}(this._delegate).then(ae=>new Us(ae,this.storage))}list(ae){return function ss(be,ae){return go(be=(0,Ut.m9)(be),ae)}(this._delegate,ae||void 0).then($=>new Us($,this.storage))}getMetadata(){return function so(be){return function Ki(be){be._throwIfRoot("getMetadata");const ae=jr(be.storage,be._location,Vt());return be.storage.makeRequestWithTokens(ae,tn)}(be=(0,Ut.m9)(be))}(this._delegate)}updateMetadata(ae){return function Wo(be,ae){return function Ds(be,ae){be._throwIfRoot("updateMetadata");const $=function ro(be,ae,$,L){const F=Gr(ae.fullServerUrl(),be.host,be._protocol),dt=un($,L),Ht=be.maxOperationRetryTime,Pn=new mn(F,"PATCH",gr(be,L),Ht);return Pn.headers={"Content-Type":"application/json; charset=utf-8"},Pn.body=dt,Pn.errorHandler=Yr(ae),Pn}(be.storage,be._location,ae,Vt());return be.storage.makeRequestWithTokens($,tn)}(be=(0,Ut.m9)(be),ae)}(this._delegate,ae)}getDownloadURL(){return function Ao(be){return ys(be=(0,Ut.m9)(be))}(this._delegate)}delete(){return this._throwIfRoot("delete"),function Oo(be){return function Zr(be){be._throwIfRoot("deleteObject");const ae=function cs(be,ae){const L=Gr(ae.fullServerUrl(),be.host,be._protocol),dt=new mn(L,"DELETE",function fe(Ot,Ht){},be.maxOperationRetryTime);return dt.successCodes=[200,204],dt.errorHandler=Yr(ae),dt}(be.storage,be._location);return be.storage.makeRequestWithTokens(ae,tn)}(be=(0,Ut.m9)(be))}(this._delegate)}_throwIfRoot(ae){if(""===this._delegate._location.path)throw rn(ae)}}class No{constructor(ae,$){this.app=ae,this._delegate=$}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(ae){if(ds(ae))throw ln("ref() expected a child path but got a URL, use refFromURL instead.");return new gi(Es(this._delegate,ae),this)}refFromURL(ae){if(!ds(ae))throw ln("refFromURL() expected a full URL but got a child path, use ref() instead.");try{_n.makeFromUrl(ae,this._delegate.host)}catch{throw ln("refFromUrl() expected a valid full URL but got an invalid one.")}return new gi(Es(this._delegate,ae),this)}setMaxUploadRetryTime(ae){this._delegate.maxUploadRetryTime=ae}setMaxOperationRetryTime(ae){this._delegate.maxOperationRetryTime=ae}useEmulator(ae,$,L={}){!function Yi(be,ae,$,L={}){!function Vs(be,ae,$,L={}){be.host=`${ae}:${$}`,be._protocol="http";const{mockUserToken:D}=L;D&&(be._overrideAuthToken="string"==typeof D?D:(0,Ut.Sg)(D,be.app.options.projectId))}(be,ae,$,L)}(this._delegate,ae,$,L)}}function ds(be){return/^[A-Za-z]+:\/\//.test(be)}function oo(be,{instanceIdentifier:ae}){const $=be.getProvider("app-compat").getImmediate(),L=be.getProvider("storage").getImmediate({identifier:ae});return new No($,L)}!function k(be){const ae={TaskState:ke,TaskEvent:pe,StringFormat:yi,Storage:No,Reference:gi};be.INTERNAL.registerComponent(new He.wA("storage-compat",oo,"PUBLIC").setServiceProps(ae).setMultipleInstances(!0)),be.registerVersion("@firebase/storage-compat","0.3.2")}(Pe.Z);var ue=H(2313),N=H(9260);function Ze(be){const ae=function de(be){return new d.y(ae=>{const $=fe=>ae.next(fe);$(be.snapshot);const F=be.on("state_changed",$);return be.then(fe=>{$(fe),ae.complete()},fe=>{$(be.snapshot),(fe=>{ae.error(fe)})(fe)}),function(){F()}}).pipe(function Se(be,ae=Fe.z){return(0,Xe.e)(($,L)=>{let D=null,F=null,fe=null;const dt=()=>{if(D){D.unsubscribe(),D=null;const Ht=F;F=null,L.next(Ht)}};function Ot(){const Ht=fe+be,Pn=ae.now();if(Pn<Ht)return D=this.schedule(void 0,Ht-Pn),void L.add(D);dt()}$.subscribe((0,Ke.x)(L,Ht=>{F=Ht,fe=ae.now(),D||(D=ae.schedule(Ot,be),L.add(D))},()=>{dt(),L.complete()},void 0,()=>{F=D=null}))})}(0))}(be);return{task:be,then:be.then.bind(be),catch:be.catch.bind(be),pause:be.pause.bind(be),cancel:be.cancel.bind(be),resume:be.resume.bind(be),snapshotChanges:()=>ae,percentageChanges:()=>ae.pipe((0,Re.U)($=>$.bytesTransferred/$.totalBytes*100))}}function Sn(be){return{getDownloadURL:()=>(0,v.of)(void 0).pipe(Be.fc,(0,Qe.w)(()=>be.getDownloadURL()),Be.iC),getMetadata:()=>(0,v.of)(void 0).pipe(Be.fc,(0,Qe.w)(()=>be.getMetadata()),Be.iC),delete:()=>(0,ve.D)(be.delete()),child:ae=>Sn(be.child(ae)),updateMetadata:ae=>(0,ve.D)(be.updateMetadata(ae)),put:(ae,$)=>Ze(be.put(ae,$)),putString:(ae,$,L)=>Ze(be.putString(ae,$,L)),list:ae=>(0,ve.D)(be.list(ae)),listAll:()=>(0,ve.D)(be.listAll())}}const xr=new Me.OlP("angularfire2.storageBucket"),Jr=new Me.OlP("angularfire2.storage.maxUploadRetryTime"),xi=new Me.OlP("angularfire2.storage.maxOperationRetryTime"),Si=new Me.OlP("angularfire2.storage.use-emulator");let js=(()=>{class be{constructor($,L,D,F,fe,dt,Ot,Ht,Pn,zr){const ii=(0,ot.on)($,fe,L);this.storage=(0,ot.cc)(`${ii.name}.storage.${D}`,"AngularFireStorage",ii.name,()=>{const Tr=fe.runOutsideAngular(()=>ii.storage(D||void 0)),hi=Pn;return hi&&Tr.useEmulator(...hi),Ot&&Tr.setMaxUploadRetryTime(Ot),Ht&&Tr.setMaxOperationRetryTime(Ht),Tr},[Ot,Ht])}ref($){return Sn(this.storage.ref($))}refFromURL($){return Sn(this.storage.refFromURL($))}upload($,L,D){return Sn(this.storage.ref($)).put(L,D)}}return be.\u0275fac=function($){return new($||be)(Me.LFG(ot.Dh),Me.LFG(ot.xv,8),Me.LFG(xr,8),Me.LFG(Me.Lbi),Me.LFG(Me.R0b),Me.LFG(Be.HU),Me.LFG(Jr,8),Me.LFG(xi,8),Me.LFG(Si,8),Me.LFG(ue.nm,8))},be.\u0275prov=Me.Yz7({token:be,factory:be.\u0275fac,providedIn:"any"}),be})(),eo=(()=>{class be{}return be.\u0275fac=function($){return new($||be)},be.\u0275mod=Me.oAB({type:be}),be.\u0275inj=Me.cJS({}),be})(),Fo=(()=>{class be{constructor(){N.Z.registerVersion("angularfire",Be.q4.full,"gcs-compat")}}return be.\u0275fac=function($){return new($||be)},be.\u0275mod=Me.oAB({type:be}),be.\u0275inj=Me.cJS({providers:[js],imports:[eo]}),be})()},2011:(er,Nt,H)=>{"use strict";H.d(Nt,{Dh:()=>Re,GT:()=>Ke,Ot:()=>Se,cc:()=>ct,hO:()=>Pe,on:()=>Be,pX:()=>Xe,xv:()=>Qe});var d=H(2223),v=H(9260),ve=H(3324);er=H.hmd(er);const Fe=["ngOnDestroy"],Xe=($e,Lt,Rt,ht={})=>new Proxy($e,{get:(Ct,Tt)=>Rt.runOutsideAngular(()=>{var Dt;if($e[Tt])return!(null===(Dt=null==ht?void 0:ht.spy)||void 0===Dt)&&Dt.get&&ht.spy.get(Tt,$e[Tt]),$e[Tt];if(Fe.indexOf(Tt)>-1)return()=>{};const vt=Lt.toPromise().then(it=>{const Gt=it&&it[Tt];return"function"==typeof Gt?Gt.bind(it):Gt&&Gt.then?Gt.then(St=>Rt.run(()=>St)):Rt.run(()=>Gt)});return new Proxy(()=>{},{get:(it,Gt)=>vt[Gt],apply:(it,Gt,St)=>vt.then(kt=>{var Qt;const Ae=kt&&kt(...St);return!(null===(Qt=null==ht?void 0:ht.spy)||void 0===Qt)&&Qt.apply&&ht.spy.apply(Tt,St,Ae),Ae})})})}),Ke=($e,Lt)=>{Lt.forEach(Rt=>{Object.getOwnPropertyNames(Rt.prototype||Rt).forEach(ht=>{Object.defineProperty($e.prototype,ht,Object.getOwnPropertyDescriptor(Rt.prototype||Rt,ht))})})};class Se{constructor(Lt){return Lt}}const Re=new d.OlP("angularfire2.app.options"),Qe=new d.OlP("angularfire2.app.name");function Be($e,Lt,Rt){const Ct="object"==typeof Rt&&Rt||{};Ct.name=Ct.name||"string"==typeof Rt&&Rt||"[DEFAULT]";const Dt=v.Z.apps.filter(vt=>vt&&vt.name===Ct.name)[0]||Lt.runOutsideAngular(()=>v.Z.initializeApp($e,Ct));try{JSON.stringify($e)!==JSON.stringify(Dt.options)&&Me("error",`${Dt.name} Firebase App already initialized with different options${er.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new Se(Dt)}const Me=($e,...Lt)=>{(0,d.X6Q)()&&typeof console<"u"&&console[$e](...Lt)},ot={provide:Se,useFactory:Be,deps:[Re,d.R0b,[new d.FiY,Qe]]};let Pe=(()=>{class $e{constructor(Rt){v.Z.registerVersion("angularfire",ve.q4.full,"core"),v.Z.registerVersion("angularfire",ve.q4.full,"app-compat"),v.Z.registerVersion("angular",d.q4F.full,Rt.toString())}static initializeApp(Rt,ht){return{ngModule:$e,providers:[{provide:Re,useValue:Rt},{provide:Qe,useValue:ht}]}}}return $e.\u0275fac=function(Rt){return new(Rt||$e)(d.LFG(d.Lbi))},$e.\u0275mod=d.oAB({type:$e}),$e.\u0275inj=d.cJS({providers:[ot]}),$e})();function ct($e,Lt,Rt,ht,Ct){const[,Tt,Dt]=globalThis.\u0275AngularfireInstanceCache.find(vt=>vt[0]===$e)||[];if(Tt)return function mt($e,Lt){try{return $e.toString()===Lt.toString()}catch{return $e===Lt}}(Ct,Dt)||(He("error",`${Lt} was already initialized on the ${Rt} Firebase App with different settings.${Ut?" You may need to reload as Firebase is not HMR aware.":""}`),He("warn",{is:Ct,was:Dt})),Tt;{const vt=ht();return globalThis.\u0275AngularfireInstanceCache.push([$e,vt,Ct]),vt}}const Ut=!!er.hot,He=($e,...Lt)=>{(0,d.X6Q)()&&typeof console<"u"&&console[$e](...Lt)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},89:(er,Nt,H)=>{"use strict";H.d(Nt,{gg:()=>St,ET:()=>ur,hJ:()=>cn,BS:()=>rn,JU:()=>Qr,PL:()=>ri,ad:()=>pr,Xo:()=>Kr,Cm:()=>jt,IO:()=>Nr,pl:()=>ee,ar:()=>wn});var d=H(3324),v=H(2223),ve=H(7246),Fe=H(3692),Xe=H(259),Ke=H(2313),Se=H(2810),Re=H(9751),Qe=H(4004),Be={includeMetadataChanges:!1};function Gt(un,bn){return void 0===bn&&(bn={}),function Dt(un){return function Me(un,bn){return void 0===bn&&(bn=Be),new Re.y(function(Nn){return{unsubscribe:(0,Se.cf)(un,bn,{next:Nn.next.bind(Nn),error:Nn.error.bind(Nn),complete:Nn.complete.bind(Nn)})}})}(un,{includeMetadataChanges:!0}).pipe((0,Qe.U)(function(bn){return bn.docs}))}(un).pipe((0,Qe.U)(function(Nn){return Nn.map(function(Ft){return function ct(un,bn){void 0===bn&&(bn={});var Nn=un.data();return!un.exists()||"object"!=typeof Nn||null===Nn||bn.idField&&(Nn[bn.idField]=un.id),Nn}(Ft,bn)})}))}class St{constructor(bn){return bn}}const kt="firestore",Je=new v.OlP("angularfire2.firestore-instances");function _t(un){return(bn,Nn)=>{const Ft=bn.runOutsideAngular(()=>un(Nn));return new St(Ft)}}const tt={provide:class Qt{constructor(){return(0,d.vb)(kt)}},deps:[[new v.FiY,Je]]},Ge={provide:St,useFactory:function ut(un,bn){const Nn=(0,d.JM)(kt,un,bn);return Nn&&new St(Nn)},deps:[[new v.FiY,Je],Fe.Ot]};let ft=(()=>{class un{constructor(){(0,Xe.KN)("angularfire",d.q4.full,"fst")}}return un.\u0275fac=function(Nn){return new(Nn||un)},un.\u0275mod=v.oAB({type:un}),un.\u0275inj=v.cJS({providers:[Ge,tt]}),un})();function jt(un,...bn){return{ngModule:ft,providers:[{provide:Je,useFactory:_t(un),multi:!0,deps:[v.R0b,v.zs3,d.HU,Fe.z6,[new v.FiY,ve.dh],[new v.FiY,Ke.nm],...bn]}]}}const rn=(0,d.u3)(Gt,!0),ur=(0,d.u3)(Se.ET,!0),cn=(0,d.u3)(Se.hJ,!0),Qr=(0,d.u3)(Se.JU,!0),ri=(0,d.u3)(Se.PL,!0),pr=(0,d.u3)(Se.ad,!0),Kr=(0,d.u3)(Se.Xo,!0),Nr=(0,d.u3)(Se.IO,!0),ee=(0,d.u3)(Se.pl,!0),wn=(0,d.u3)(Se.ar,!0)},3324:(er,Nt,H)=>{"use strict";H.d(Nt,{q4:()=>Us,iC:()=>be,fc:()=>eo,HU:()=>xi,vb:()=>Ze,JM:()=>de,nk:()=>N,u3:()=>L});var d=H(2223),v=H(259),ve=H(5861),Fe=H(6881),Xe=H(2090),Ke=H(4859),Se=H(1877);H(4727);const Qe="@firebase/remote-config",ct=new Xe.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class _t{constructor(F,fe,dt,Ot){this.client=F,this.storage=fe,this.storageCache=dt,this.logger=Ot}isCachedDataFresh(F,fe){if(!fe)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const dt=Date.now()-fe,Ot=dt<=F;return this.logger.debug(`Config fetch cache check. Cache age millis: ${dt}. Cache max age millis (minimumFetchIntervalMillis setting): ${F}. Is cache hit: ${Ot}.`),Ot}fetch(F){var fe=this;return(0,ve.Z)(function*(){const[dt,Ot]=yield Promise.all([fe.storage.getLastSuccessfulFetchTimestampMillis(),fe.storage.getLastSuccessfulFetchResponse()]);if(Ot&&fe.isCachedDataFresh(F.cacheMaxAgeMillis,dt))return Ot;F.eTag=Ot&&Ot.eTag;const Ht=yield fe.client.fetch(F),Pn=[fe.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===Ht.status&&Pn.push(fe.storage.setLastSuccessfulFetchResponse(Ht)),yield Promise.all(Pn),Ht})()}}function tt(D=navigator){return D.languages&&D.languages[0]||D.language}class Ge{constructor(F,fe,dt,Ot,Ht,Pn){this.firebaseInstallations=F,this.sdkVersion=fe,this.namespace=dt,this.projectId=Ot,this.apiKey=Ht,this.appId=Pn}fetch(F){var fe=this;return(0,ve.Z)(function*(){const[dt,Ot]=yield Promise.all([fe.firebaseInstallations.getId(),fe.firebaseInstallations.getToken()]),Pn=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${fe.projectId}/namespaces/${fe.namespace}:fetch?key=${fe.apiKey}`,zr={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":F.eTag||"*"},ii={sdk_version:fe.sdkVersion,app_instance_id:dt,app_instance_id_token:Ot,app_id:fe.appId,language_code:tt()},Tr={method:"POST",headers:zr,body:JSON.stringify(ii)},hi=fetch(Pn,Tr),_i=new Promise((Ns,fo)=>{F.signal.addEventListener(()=>{const Xo=new Error("The operation was aborted.");Xo.name="AbortError",fo(Xo)})});let qi;try{yield Promise.race([hi,_i]),qi=yield hi}catch(Ns){let fo="fetch-client-network";throw"AbortError"===(null==Ns?void 0:Ns.name)&&(fo="fetch-timeout"),ct.create(fo,{originalErrorMessage:null==Ns?void 0:Ns.message})}let ao=qi.status;const hs=qi.headers.get("ETag")||void 0;let Ss,Ti;if(200===qi.status){let Ns;try{Ns=yield qi.json()}catch(fo){throw ct.create("fetch-client-parse",{originalErrorMessage:null==fo?void 0:fo.message})}Ss=Ns.entries,Ti=Ns.state}if("INSTANCE_STATE_UNSPECIFIED"===Ti?ao=500:"NO_CHANGE"===Ti?ao=304:("NO_TEMPLATE"===Ti||"EMPTY_CONFIG"===Ti)&&(Ss={}),304!==ao&&200!==ao)throw ct.create("fetch-status",{httpStatus:ao});return{status:ao,eTag:hs,config:Ss}})()}}class Pt{constructor(F,fe){this.client=F,this.storage=fe}fetch(F){var fe=this;return(0,ve.Z)(function*(){const dt=(yield fe.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return fe.attemptFetch(F,dt)})()}attemptFetch(F,{throttleEndTimeMillis:fe,backoffCount:dt}){var Ot=this;return(0,ve.Z)(function*(){yield function ft(D,F){return new Promise((fe,dt)=>{const Ot=Math.max(F-Date.now(),0),Ht=setTimeout(fe,Ot);D.addEventListener(()=>{clearTimeout(Ht),dt(ct.create("fetch-throttle",{throttleEndTimeMillis:F}))})})}(F.signal,fe);try{const Ht=yield Ot.client.fetch(F);return yield Ot.storage.deleteThrottleMetadata(),Ht}catch(Ht){if(!function jt(D){if(!(D instanceof Xe.ZR&&D.customData))return!1;const F=Number(D.customData.httpStatus);return 429===F||500===F||503===F||504===F}(Ht))throw Ht;const Pn={throttleEndTimeMillis:Date.now()+(0,Xe.$s)(dt),backoffCount:dt+1};return yield Ot.storage.setThrottleMetadata(Pn),Ot.attemptFetch(F,Pn)}})()}}class Oe{constructor(F,fe,dt,Ot,Ht){this.app=F,this._client=fe,this._storageCache=dt,this._storage=Ot,this._logger=Ht,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function rn(D,F){const fe=D.target.error||void 0;return ct.create(F,{originalErrorMessage:fe&&(null==fe?void 0:fe.message)})}const wt="app_namespace_store";class ur{constructor(F,fe,dt,Ot=function tr(){return new Promise((D,F)=>{try{const fe=indexedDB.open("firebase_remote_config",1);fe.onerror=dt=>{F(rn(dt,"storage-open"))},fe.onsuccess=dt=>{D(dt.target.result)},fe.onupgradeneeded=dt=>{0===dt.oldVersion&&dt.target.result.createObjectStore(wt,{keyPath:"compositeKey"})}}catch(fe){F(ct.create("storage-open",{originalErrorMessage:null==fe?void 0:fe.message}))}})}()){this.appId=F,this.appName=fe,this.namespace=dt,this.openDbPromise=Ot}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(F){return this.set("last_fetch_status",F)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(F){return this.set("last_successful_fetch_timestamp_millis",F)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(F){return this.set("last_successful_fetch_response",F)}getActiveConfig(){return this.get("active_config")}setActiveConfig(F){return this.set("active_config",F)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(F){return this.set("active_config_etag",F)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(F){return this.set("throttle_metadata",F)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(F){var fe=this;return(0,ve.Z)(function*(){const dt=yield fe.openDbPromise;return new Promise((Ot,Ht)=>{const zr=dt.transaction([wt],"readonly").objectStore(wt),ii=fe.createCompositeKey(F);try{const Tr=zr.get(ii);Tr.onerror=hi=>{Ht(rn(hi,"storage-get"))},Tr.onsuccess=hi=>{const _i=hi.target.result;Ot(_i?_i.value:void 0)}}catch(Tr){Ht(ct.create("storage-get",{originalErrorMessage:null==Tr?void 0:Tr.message}))}})})()}set(F,fe){var dt=this;return(0,ve.Z)(function*(){const Ot=yield dt.openDbPromise;return new Promise((Ht,Pn)=>{const ii=Ot.transaction([wt],"readwrite").objectStore(wt),Tr=dt.createCompositeKey(F);try{const hi=ii.put({compositeKey:Tr,value:fe});hi.onerror=_i=>{Pn(rn(_i,"storage-set"))},hi.onsuccess=()=>{Ht()}}catch(hi){Pn(ct.create("storage-set",{originalErrorMessage:null==hi?void 0:hi.message}))}})})()}delete(F){var fe=this;return(0,ve.Z)(function*(){const dt=yield fe.openDbPromise;return new Promise((Ot,Ht)=>{const zr=dt.transaction([wt],"readwrite").objectStore(wt),ii=fe.createCompositeKey(F);try{const Tr=zr.delete(ii);Tr.onerror=hi=>{Ht(rn(hi,"storage-delete"))},Tr.onsuccess=()=>{Ot()}}catch(Tr){Ht(ct.create("storage-delete",{originalErrorMessage:null==Tr?void 0:Tr.message}))}})})()}createCompositeKey(F){return[this.appId,this.appName,this.namespace,F].join()}}class lr{constructor(F){this.storage=F}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var F=this;return(0,ve.Z)(function*(){const fe=F.storage.getLastFetchStatus(),dt=F.storage.getLastSuccessfulFetchTimestampMillis(),Ot=F.storage.getActiveConfig(),Ht=yield fe;Ht&&(F.lastFetchStatus=Ht);const Pn=yield dt;Pn&&(F.lastSuccessfulFetchTimestampMillis=Pn);const zr=yield Ot;zr&&(F.activeConfig=zr)})()}setLastFetchStatus(F){return this.lastFetchStatus=F,this.storage.setLastFetchStatus(F)}setLastSuccessfulFetchTimestampMillis(F){return this.lastSuccessfulFetchTimestampMillis=F,this.storage.setLastSuccessfulFetchTimestampMillis(F)}setActiveConfig(F){return this.activeConfig=F,this.storage.setActiveConfig(F)}}function Pr(){return Wr.apply(this,arguments)}function Wr(){return(Wr=(0,ve.Z)(function*(){if(!(0,Xe.hl)())return!1;try{return yield(0,Xe.eu)()}catch{return!1}})).apply(this,arguments)}!function hn(){(0,Fe._registerComponent)(new Ke.wA("remote-config",function D(F,{instanceIdentifier:fe}){const dt=F.getProvider("app").getImmediate(),Ot=F.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw ct.create("registration-window");if(!(0,Xe.hl)())throw ct.create("indexed-db-unavailable");const{projectId:Ht,apiKey:Pn,appId:zr}=dt.options;if(!Ht)throw ct.create("registration-project-id");if(!Pn)throw ct.create("registration-api-key");if(!zr)throw ct.create("registration-app-id");const ii=new ur(zr,dt.name,fe=fe||"firebase"),Tr=new lr(ii),hi=new Se.Yd(Qe);hi.logLevel=Se.in.ERROR;const _i=new Ge(Ot,Fe.SDK_VERSION,fe,Ht,Pn,zr),qi=new Pt(_i,ii),ao=new _t(qi,ii,Tr,hi),hs=new Oe(dt,ao,Tr,ii,hi);return function Dt(D){const F=(0,Xe.m9)(D);F._initializePromise||(F._initializePromise=F._storageCache.loadFromStorage().then(()=>{F._isInitializationComplete=!0}))}(hs),hs},"PUBLIC").setMultipleInstances(!0)),(0,Fe.registerVersion)(Qe,"0.4.4"),(0,Fe.registerVersion)(Qe,"0.4.4","esm2017")}();const Sr=(D,F)=>F.some(fe=>D instanceof fe);let On,Gr;const $r=new WeakMap,ui=new WeakMap,nr=new WeakMap,Zn=new WeakMap,rr=new WeakMap;let ni={get(D,F,fe){if(D instanceof IDBTransaction){if("done"===F)return ui.get(D);if("objectStoreNames"===F)return D.objectStoreNames||nr.get(D);if("store"===F)return fe.objectStoreNames[1]?void 0:fe.objectStore(fe.objectStoreNames[0])}return pr(D[F])},set:(D,F,fe)=>(D[F]=fe,!0),has:(D,F)=>D instanceof IDBTransaction&&("done"===F||"store"===F)||F in D};function Er(D){return"function"==typeof D?function oi(D){return D!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function br(){return Gr||(Gr=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(D)?function(...F){return D.apply(yi(this),F),pr($r.get(this))}:function(...F){return pr(D.apply(yi(this),F))}:function(F,...fe){const dt=D.call(yi(this),F,...fe);return nr.set(dt,F.sort?F.sort():[F]),pr(dt)}}(D):(D instanceof IDBTransaction&&function di(D){if(ui.has(D))return;const F=new Promise((fe,dt)=>{const Ot=()=>{D.removeEventListener("complete",Ht),D.removeEventListener("error",Pn),D.removeEventListener("abort",Pn)},Ht=()=>{fe(),Ot()},Pn=()=>{dt(D.error||new DOMException("AbortError","AbortError")),Ot()};D.addEventListener("complete",Ht),D.addEventListener("error",Pn),D.addEventListener("abort",Pn)});ui.set(D,F)}(D),Sr(D,function Qr(){return On||(On=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(D,ni):D)}function pr(D){if(D instanceof IDBRequest)return function Ei(D){const F=new Promise((fe,dt)=>{const Ot=()=>{D.removeEventListener("success",Ht),D.removeEventListener("error",Pn)},Ht=()=>{fe(pr(D.result)),Ot()},Pn=()=>{dt(D.error),Ot()};D.addEventListener("success",Ht),D.addEventListener("error",Pn)});return F.then(fe=>{fe instanceof IDBCursor&&$r.set(fe,D)}).catch(()=>{}),rr.set(F,D),F}(D);if(Zn.has(D))return Zn.get(D);const F=Er(D);return F!==D&&(Zn.set(D,F),rr.set(F,D)),F}const yi=D=>rr.get(D);function Ar(D,F,{blocked:fe,upgrade:dt,blocking:Ot,terminated:Ht}={}){const Pn=indexedDB.open(D,F),zr=pr(Pn);return dt&&Pn.addEventListener("upgradeneeded",ii=>{dt(pr(Pn.result),ii.oldVersion,ii.newVersion,pr(Pn.transaction))}),fe&&Pn.addEventListener("blocked",()=>fe()),zr.then(ii=>{Ht&&ii.addEventListener("close",()=>Ht()),Ot&&ii.addEventListener("versionchange",()=>Ot())}).catch(()=>{}),zr}function An(D,{blocked:F}={}){const fe=indexedDB.deleteDatabase(D);return F&&fe.addEventListener("blocked",()=>F()),pr(fe).then(()=>{})}const xe=["get","getKey","getAll","getAllKeys","count"],gt=["put","add","delete","clear"],Wt=new Map;function In(D,F){if(!(D instanceof IDBDatabase)||F in D||"string"!=typeof F)return;if(Wt.get(F))return Wt.get(F);const fe=F.replace(/FromIndex$/,""),dt=F!==fe,Ot=gt.includes(fe);if(!(fe in(dt?IDBIndex:IDBObjectStore).prototype)||!Ot&&!xe.includes(fe))return;const Ht=function(){var Pn=(0,ve.Z)(function*(zr,...ii){const Tr=this.transaction(zr,Ot?"readwrite":"readonly");let hi=Tr.store;return dt&&(hi=hi.index(ii.shift())),(yield Promise.all([hi[fe](...ii),Ot&&Tr.done]))[0]});return function(ii){return Pn.apply(this,arguments)}}();return Wt.set(F,Ht),Ht}!function ri(D){ni=D(ni)}(D=>({...D,get:(F,fe,dt)=>In(F,fe)||D.get(F,fe,dt),has:(F,fe)=>!!In(F,fe)||D.has(F,fe)}));const Wn="/firebase-messaging-sw.js",Kr="/firebase-cloud-messaging-push-scope",Nr="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Rr="https://fcmregistrations.googleapis.com/v1",yt="google.c.a.c_id",Te="google.c.a.c_l",se="google.c.a.ts";var qe=(()=>((qe=qe||{}).PUSH_RECEIVED="push-received",qe.NOTIFICATION_CLICKED="notification-clicked",qe))();function xt(D){const F=new Uint8Array(D);return btoa(String.fromCharCode(...F)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function rt(D){const fe=(D+"=".repeat((4-D.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),dt=atob(fe),Ot=new Uint8Array(dt.length);for(let Ht=0;Ht<dt.length;++Ht)Ot[Ht]=dt.charCodeAt(Ht);return Ot}const Vt="fcm_token_details_db",nn=5,Tn="fcm_token_object_Store";function Gn(){return Gn=(0,ve.Z)(function*(D){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(Ht=>Ht.name).includes(Vt))return null;let F=null;return(yield Ar(Vt,nn,{upgrade:(dt=(0,ve.Z)(function*(Ot,Ht,Pn,zr){var ii;if(Ht<2||!Ot.objectStoreNames.contains(Tn))return;const Tr=zr.objectStore(Tn),hi=yield Tr.index("fcmSenderId").get(D);if(yield Tr.clear(),hi)if(2===Ht){const _i=hi;if(!_i.auth||!_i.p256dh||!_i.endpoint)return;F={token:_i.fcmToken,createTime:null!==(ii=_i.createTime)&&void 0!==ii?ii:Date.now(),subscriptionOptions:{auth:_i.auth,p256dh:_i.p256dh,endpoint:_i.endpoint,swScope:_i.swScope,vapidKey:"string"==typeof _i.vapidKey?_i.vapidKey:xt(_i.vapidKey)}}}else if(3===Ht){const _i=hi;F={token:_i.fcmToken,createTime:_i.createTime,subscriptionOptions:{auth:xt(_i.auth),p256dh:xt(_i.p256dh),endpoint:_i.endpoint,swScope:_i.swScope,vapidKey:xt(_i.vapidKey)}}}else if(4===Ht){const _i=hi;F={token:_i.fcmToken,createTime:_i.createTime,subscriptionOptions:{auth:xt(_i.auth),p256dh:xt(_i.p256dh),endpoint:_i.endpoint,swScope:_i.swScope,vapidKey:xt(_i.vapidKey)}}}}),function(Ht,Pn,zr,ii){return dt.apply(this,arguments)})})).close(),yield An(Vt),yield An("fcm_vapid_details_db"),yield An("undefined"),function un(D){if(!D||!D.subscriptionOptions)return!1;const{subscriptionOptions:F}=D;return"number"==typeof D.createTime&&D.createTime>0&&"string"==typeof D.token&&D.token.length>0&&"string"==typeof F.auth&&F.auth.length>0&&"string"==typeof F.p256dh&&F.p256dh.length>0&&"string"==typeof F.endpoint&&F.endpoint.length>0&&"string"==typeof F.swScope&&F.swScope.length>0&&"string"==typeof F.vapidKey&&F.vapidKey.length>0}(F)?F:null;var dt}),Gn.apply(this,arguments)}const bn="firebase-messaging-database",Nn=1,Ft="firebase-messaging-store";let Kt=null;function mn(){return Kt||(Kt=Ar(bn,Nn,{upgrade:(D,F)=>{0===F&&D.createObjectStore(Ft)}})),Kt}function Qn(D){return gr.apply(this,arguments)}function gr(){return gr=(0,ve.Z)(function*(D){const F=jr(D),dt=yield(yield mn()).transaction(Ft).objectStore(Ft).get(F);if(dt)return dt;{const Ot=yield function wn(D){return Gn.apply(this,arguments)}(D.appConfig.senderId);if(Ot)return yield Fr(D,Ot),Ot}}),gr.apply(this,arguments)}function Fr(D,F){return Or.apply(this,arguments)}function Or(){return(Or=(0,ve.Z)(function*(D,F){const fe=jr(D),Ot=(yield mn()).transaction(Ft,"readwrite");return yield Ot.objectStore(Ft).put(F,fe),yield Ot.done,F})).apply(this,arguments)}function Yr(){return(Yr=(0,ve.Z)(function*(D){const F=jr(D),dt=(yield mn()).transaction(Ft,"readwrite");yield dt.objectStore(Ft).delete(F),yield dt.done})).apply(this,arguments)}function jr({appConfig:D}){return D.appId}const ns=new Xe.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function uo(D,F){return ro.apply(this,arguments)}function ro(){return(ro=(0,ve.Z)(function*(D,F){const fe=yield qs(D),dt=Bs(F),Ot={method:"POST",headers:fe,body:JSON.stringify(dt)};let Ht;try{Ht=yield(yield fetch(zi(D.appConfig),Ot)).json()}catch(Pn){throw ns.create("token-subscribe-failed",{errorInfo:null==Pn?void 0:Pn.toString()})}if(Ht.error)throw ns.create("token-subscribe-failed",{errorInfo:Ht.error.message});if(!Ht.token)throw ns.create("token-subscribe-no-token");return Ht.token})).apply(this,arguments)}function rs(){return(rs=(0,ve.Z)(function*(D,F){const fe=yield qs(D),dt=Bs(F.subscriptionOptions),Ot={method:"PATCH",headers:fe,body:JSON.stringify(dt)};let Ht;try{Ht=yield(yield fetch(`${zi(D.appConfig)}/${F.token}`,Ot)).json()}catch(Pn){throw ns.create("token-update-failed",{errorInfo:null==Pn?void 0:Pn.toString()})}if(Ht.error)throw ns.create("token-update-failed",{errorInfo:Ht.error.message});if(!Ht.token)throw ns.create("token-update-no-token");return Ht.token})).apply(this,arguments)}function wo(D,F){return as.apply(this,arguments)}function as(){return(as=(0,ve.Z)(function*(D,F){const dt={method:"DELETE",headers:yield qs(D)};try{const Ht=yield(yield fetch(`${zi(D.appConfig)}/${F}`,dt)).json();if(Ht.error)throw ns.create("token-unsubscribe-failed",{errorInfo:Ht.error.message})}catch(Ot){throw ns.create("token-unsubscribe-failed",{errorInfo:null==Ot?void 0:Ot.toString()})}})).apply(this,arguments)}function zi({projectId:D}){return`${Rr}/projects/${D}/registrations`}function qs(D){return io.apply(this,arguments)}function io(){return(io=(0,ve.Z)(function*({appConfig:D,installations:F}){const fe=yield F.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":D.apiKey,"x-goog-firebase-installations-auth":`FIS ${fe}`})})).apply(this,arguments)}function Bs({p256dh:D,auth:F,endpoint:fe,vapidKey:dt}){const Ot={web:{endpoint:fe,auth:F,p256dh:D}};return dt!==Nr&&(Ot.web.applicationPubKey=dt),Ot}const Zs=6048e5;function pe(){return pe=(0,ve.Z)(function*(D){const F=yield function Bt(D,F){return tn.apply(this,arguments)}(D.swRegistration,D.vapidKey),fe={vapidKey:D.vapidKey,swScope:D.swRegistration.scope,endpoint:F.endpoint,auth:xt(F.getKey("auth")),p256dh:xt(F.getKey("p256dh"))},dt=yield Qn(D.firebaseDependencies);if(dt){if(function Ln(D,F){return F.vapidKey===D.vapidKey&&F.endpoint===D.endpoint&&F.auth===D.auth&&F.p256dh===D.p256dh}(dt.subscriptionOptions,fe))return Date.now()>=dt.createTime+Zs?function re(D,F){return ye.apply(this,arguments)}(D,{token:dt.token,createTime:Date.now(),subscriptionOptions:fe}):dt.token;try{yield wo(D.firebaseDependencies,dt.token)}catch(Ot){console.warn(Ot)}return st(D.firebaseDependencies,fe)}return st(D.firebaseDependencies,fe)}),pe.apply(this,arguments)}function _e(){return _e=(0,ve.Z)(function*(D){const F=yield Qn(D.firebaseDependencies);F&&(yield wo(D.firebaseDependencies,F.token),yield function Ri(D){return Yr.apply(this,arguments)}(D.firebaseDependencies));const fe=yield D.swRegistration.pushManager.getSubscription();return!fe||fe.unsubscribe()}),_e.apply(this,arguments)}function ye(){return ye=(0,ve.Z)(function*(D,F){try{const fe=yield function cs(D,F){return rs.apply(this,arguments)}(D.firebaseDependencies,F),dt=Object.assign(Object.assign({},F),{token:fe,createTime:Date.now()});return yield Fr(D.firebaseDependencies,dt),fe}catch(fe){throw yield function ke(D){return _e.apply(this,arguments)}(D),fe}}),ye.apply(this,arguments)}function st(D,F){return It.apply(this,arguments)}function It(){return(It=(0,ve.Z)(function*(D,F){const dt={token:yield uo(D,F),createTime:Date.now(),subscriptionOptions:F};return yield Fr(D,dt),dt.token})).apply(this,arguments)}function tn(){return(tn=(0,ve.Z)(function*(D,F){return(yield D.pushManager.getSubscription())||D.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:rt(F)})})).apply(this,arguments)}function Hn(D){const F={from:D.from,collapseKey:D.collapse_key,messageId:D.fcmMessageId};return function Lr(D,F){if(!F.notification)return;D.notification={};const fe=F.notification.title;fe&&(D.notification.title=fe);const dt=F.notification.body;dt&&(D.notification.body=dt);const Ot=F.notification.image;Ot&&(D.notification.image=Ot);const Ht=F.notification.icon;Ht&&(D.notification.icon=Ht)}(F,D),function ai(D,F){F.data&&(D.data=F.data)}(F,D),function ms(D,F){var fe,dt,Ot,Ht,Pn;if(!(F.fcmOptions||null!==(fe=F.notification)&&void 0!==fe&&fe.click_action))return;D.fcmOptions={};const zr=null!==(Ot=null===(dt=F.fcmOptions)||void 0===dt?void 0:dt.link)&&void 0!==Ot?Ot:null===(Ht=F.notification)||void 0===Ht?void 0:Ht.click_action;zr&&(D.fcmOptions.link=zr);const ii=null===(Pn=F.fcmOptions)||void 0===Pn?void 0:Pn.analytics_label;ii&&(D.fcmOptions.analyticsLabel=ii)}(F,D),F}function $s(D,F){const fe=[];for(let dt=0;dt<D.length;dt++)fe.push(D.charAt(dt)),dt<F.length&&fe.push(F.charAt(dt));return fe.join("")}function ir(D){return ns.create("missing-app-config-values",{valueName:D})}$s("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),$s("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class qr{constructor(F,fe,dt){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const Ot=function Li(D){if(!D||!D.options)throw ir("App Configuration Object");if(!D.name)throw ir("App Name");const F=["projectId","apiKey","appId","messagingSenderId"],{options:fe}=D;for(const dt of F)if(!fe[dt])throw ir(dt);return{appName:D.name,projectId:fe.projectId,apiKey:fe.apiKey,appId:fe.appId,senderId:fe.messagingSenderId}}(F);this.firebaseDependencies={app:F,appConfig:Ot,installations:fe,analyticsProvider:dt}}_delete(){return Promise.resolve()}}function Rs(){return(Rs=(0,ve.Z)(function*(D){try{D.swRegistration=yield navigator.serviceWorker.register(Wn,{scope:Kr}),D.swRegistration.update().catch(()=>{})}catch(F){throw ns.create("failed-service-worker-registration",{browserErrorMessage:null==F?void 0:F.message})}})).apply(this,arguments)}function us(){return(us=(0,ve.Z)(function*(D,F){if(!F&&!D.swRegistration&&(yield function $i(D){return Rs.apply(this,arguments)}(D)),F||!D.swRegistration){if(!(F instanceof ServiceWorkerRegistration))throw ns.create("invalid-sw-registration");D.swRegistration=F}})).apply(this,arguments)}function Ki(){return(Ki=(0,ve.Z)(function*(D,F){F?D.vapidKey=F:D.vapidKey||(D.vapidKey=Nr)})).apply(this,arguments)}function ys(){return ys=(0,ve.Z)(function*(D,F){if(!navigator)throw ns.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw ns.create("permission-blocked");return yield function go(D,F){return Ki.apply(this,arguments)}(D,null==F?void 0:F.vapidKey),yield function Io(D,F){return us.apply(this,arguments)}(D,null==F?void 0:F.serviceWorkerRegistration),function ie(D){return pe.apply(this,arguments)}(D)}),ys.apply(this,arguments)}function Js(){return(Js=(0,ve.Z)(function*(D,F,fe){const dt=function ho(D){switch(D){case qe.NOTIFICATION_CLICKED:return"notification_open";case qe.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(F);(yield D.firebaseDependencies.analyticsProvider.get()).logEvent(dt,{message_id:fe[yt],message_name:fe[Te],message_time:fe[se],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Vr(){return Vr=(0,ve.Z)(function*(D,F){const fe=F.data;if(!fe.isFirebaseMessaging)return;D.onMessageHandler&&fe.messageType===qe.PUSH_RECEIVED&&("function"==typeof D.onMessageHandler?D.onMessageHandler(Hn(fe)):D.onMessageHandler.next(Hn(fe)));const dt=fe.data;(function Qi(D){return"object"==typeof D&&!!D&&yt in D})(dt)&&"1"===dt["google.c.a.e"]&&(yield function Zr(D,F,fe){return Js.apply(this,arguments)}(D,fe.messageType,dt))}),Vr.apply(this,arguments)}const Di="@firebase/messaging",Vs=D=>{const F=new qr(D.getProvider("app").getImmediate(),D.getProvider("installations-internal").getImmediate(),D.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",fe=>function Oi(D,F){return Vr.apply(this,arguments)}(F,fe)),F},Vi=D=>{const F=D.getProvider("messaging").getImmediate();return{getToken:dt=>function Ds(D,F){return ys.apply(this,arguments)}(F,dt)}};function Co(){return Xs.apply(this,arguments)}function Xs(){return(Xs=(0,ve.Z)(function*(){try{yield(0,Xe.eu)()}catch{return!1}return typeof window<"u"&&(0,Xe.hl)()&&(0,Xe.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function To(){(0,Fe._registerComponent)(new Ke.wA("messaging",Vs,"PUBLIC")),(0,Fe._registerComponent)(new Ke.wA("messaging-internal",Vi,"PRIVATE")),(0,Fe.registerVersion)(Di,"0.12.4"),(0,Fe.registerVersion)(Di,"0.12.4","esm2017")}();var Ao=H(5132),Oo=H(4408),ko=H(7565);const Yi=new class Ws extends ko.v{}(class Es extends Oo.o{constructor(F,fe){super(F,fe),this.scheduler=F,this.work=fe}schedule(F,fe=0){return fe>0?super.schedule(F,fe):(this.delay=fe,this.state=F,this.scheduler.flush(this),this)}execute(F,fe){return fe>0||this.closed?super.execute(F,fe):this._execute(F,fe)}requestAsyncId(F,fe,dt=0){return null!=dt&&dt>0||null==dt&&this.delay>0?super.requestAsyncId(F,fe,dt):(F.flush(this),0)}});var Bo=H(4986),So=H(9751),xo=H(8505),mo=H(5363),Zo=H(9468);const Us=new d.GfV("7.6.1"),gi="__angularfire_symbol__analyticsIsSupportedValue",No="__angularfire_symbol__analyticsIsSupported",ds="__angularfire_symbol__remoteConfigIsSupportedValue",$o="__angularfire_symbol__remoteConfigIsSupported",ks="__angularfire_symbol__messagingIsSupportedValue",Vo="__angularfire_symbol__messagingIsSupported";globalThis[No]||(globalThis[No]=(0,Ao.Gb)().then(D=>globalThis[gi]=D).catch(()=>globalThis[gi]=!1)),globalThis[Vo]||(globalThis[Vo]=Co().then(D=>globalThis[ks]=D).catch(()=>globalThis[ks]=!1)),globalThis[$o]||(globalThis[$o]=Pr().then(D=>globalThis[ds]=D).catch(()=>globalThis[ds]=!1));const N={async:()=>globalThis[No],sync:()=>{const D=globalThis[gi];if(void 0===D)throw new Error((D=>`The APP_INITIALIZER that is "making" isSupported() sync for the sake of convenient DI has not resolved in this\ncontext. Rather than injecting ${D} in the constructor, first ensure that ${D} is supported by calling\n\`await isSupported()\`, then retrieve the instance from the injector manually \`injector.get(${D})\`.`)("Analytics"));return D}};function de(D,F,fe){if(F){if(1===F.length)return F[0];const Ht=F.filter(Pn=>Pn.app===fe);if(1===Ht.length)return Ht[0]}return fe.container.getProvider(D).getImmediate({optional:!0})}const Ze=(D,F)=>{const fe=F?[F]:(0,v.C6)(),dt=[];return fe.forEach(Ot=>{Ot.container.getProvider(D).instances.forEach(Pn=>{dt.includes(Pn)||dt.push(Pn)})}),dt};function Sn(){}class xr{constructor(F,fe=Yi){this.zone=F,this.delegate=fe}now(){return this.delegate.now()}schedule(F,fe,dt){const Ot=this.zone;return this.delegate.schedule(function(Pn){Ot.runGuarded(()=>{F.apply(this,[Pn])})},fe,dt)}}class Jr{constructor(F){this.zone=F,this.task=null}call(F,fe){const dt=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Sn,{},Sn,Sn)),fe.pipe((0,xo.b)({next:dt,complete:dt,error:dt})).subscribe(F).add(dt)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let xi=(()=>{class D{constructor(fe){this.ngZone=fe,this.outsideAngular=fe.runOutsideAngular(()=>new xr(Zone.current)),this.insideAngular=fe.run(()=>new xr(Zone.current,Bo.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return D.\u0275fac=function(fe){return new(fe||D)(d.LFG(d.R0b))},D.\u0275prov=d.Yz7({token:D,factory:D.\u0275fac,providedIn:"root"}),D})();function Si(){const D=globalThis.\u0275AngularFireScheduler;if(!D)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return D}function ws(D){return Si().ngZone.run(()=>D())}function eo(D){return D.pipe((0,mo.Q)(Si().outsideAngular))}function be(D){return Si(),function ae(D){return function(fe){return(fe=fe.lift(new Jr(D.ngZone))).pipe((0,Zo.R)(D.outsideAngular),(0,mo.Q)(D.insideAngular))}}(Si())(D)}const $=(D,F)=>function(){const dt=arguments;return F&&setTimeout(()=>{"scheduled"===F.state&&F.invoke()},10),ws(()=>D.apply(void 0,dt))},L=(D,F)=>function(){let fe;const dt=arguments;for(let Ht=0;Ht<arguments.length;Ht++)"function"==typeof dt[Ht]&&(F&&(fe||(fe=ws(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Sn,{},Sn,Sn)))),dt[Ht]=$(dt[Ht],fe));const Ot=function js(D){return Si().ngZone.runOutsideAngular(()=>D())}(()=>D.apply(this,dt));if(!F){if(Ot instanceof So.y){const Ht=Si();return Ot.pipe((0,Zo.R)(Ht.outsideAngular),(0,mo.Q)(Ht.insideAngular))}return ws(()=>Ot)}return Ot instanceof So.y?Ot.pipe(be):Ot instanceof Promise?ws(()=>new Promise((Ht,Pn)=>Ot.then(zr=>ws(()=>Ht(zr)),zr=>ws(()=>Pn(zr))))):"function"==typeof Ot&&fe?function(){return setTimeout(()=>{fe&&"scheduled"===fe.state&&fe.invoke()},10),Ot.apply(this,arguments)}:ws(()=>Ot)}},1389:(er,Nt,H)=>{"use strict";H.d(Nt,{$:()=>Si,A:()=>Me,D:()=>ct,I:()=>Zs,J:()=>re,L:()=>Oi,N:()=>Nr,P:()=>T,Q:()=>ss,R:()=>et,U:()=>Es,V:()=>ko,W:()=>Ws,X:()=>Oo,Y:()=>So,Z:()=>xo,_:()=>No,a:()=>Cl,a0:()=>ws,a1:()=>Fo,a2:()=>L,a3:()=>Ht,a4:()=>zr,a5:()=>Tr,a6:()=>_i,a7:()=>ao,a8:()=>Ss,a9:()=>Ns,aA:()=>it,aB:()=>Dc,aC:()=>Wn,aD:()=>Rr,aE:()=>Sl,aF:()=>zs,aG:()=>xs,aH:()=>zi,aL:()=>ml,aO:()=>qo,aa:()=>fo,ab:()=>Lo,ac:()=>ya,ad:()=>Qo,ae:()=>Ts,af:()=>Fa,ai:()=>X,aj:()=>De,ak:()=>je,an:()=>oo,ao:()=>lo,aq:()=>fs,ar:()=>Hr,as:()=>St,at:()=>nn,au:()=>xt,av:()=>ht,aw:()=>du,ax:()=>Sc,ay:()=>Tn,az:()=>Ct,b:()=>Ha,c:()=>qt,d:()=>Fn,e:()=>Cn,f:()=>to,g:()=>fa,h:()=>Aa,i:()=>es,j:()=>Vl,k:()=>fu,l:()=>ki,m:()=>Yp,o:()=>Kc,p:()=>Re,r:()=>vo,s:()=>Mn,u:()=>m});var d=H(5861),v=H(2090),ve=H(6881),Fe=H(655),Xe=H(1877),Ke=H(4859);const Re={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},Me={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const ct=function ot(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend."}},mt=function Pe(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Ut=new v.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),$e=new Xe.Yd("@firebase/auth");function Rt(U,...C){$e.logLevel<=Xe.in.ERROR&&$e.error(`Auth (${ve.SDK_VERSION}): ${U}`,...C)}function ht(U,...C){throw vt(U,...C)}function Ct(U,...C){return vt(U,...C)}function Tt(U,C,A){const K=Object.assign(Object.assign({},mt()),{[C]:A});return new v.LL("auth","Firebase",K).create(C,{appName:U.name})}function Dt(U,C,A){if(!(C instanceof A))throw A.name!==C.constructor.name&&ht(U,"argument-error"),Tt(U,"argument-error",`Type of ${C.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function vt(U,...C){if("string"!=typeof U){const A=C[0],K=[...C.slice(1)];return K[0]&&(K[0].appName=U.name),U._errorFactory.create(A,...K)}return Ut.create(U,...C)}function it(U,C,...A){if(!U)throw vt(C,...A)}function Gt(U){const C="INTERNAL ASSERTION FAILED: "+U;throw Rt(C),new Error(C)}function St(U,C){U||Gt(C)}function kt(){var U;return typeof self<"u"&&(null===(U=self.location)||void 0===U?void 0:U.href)||""}function Qt(){return"http:"===Ae()||"https:"===Ae()}function Ae(){var U;return typeof self<"u"&&(null===(U=self.location)||void 0===U?void 0:U.protocol)||null}class _t{constructor(C,A){this.shortDelay=C,this.longDelay=A,St(A>C,"Short delay should be less than long delay!"),this.isMobile=(0,v.uI)()||(0,v.b$)()}get(){return function Je(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Qt()||(0,v.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function tt(U,C){St(U.emulator,"Emulator should always be set here");const{url:A}=U.emulator;return C?`${A}${C.startsWith("/")?C.slice(1):C}`:A}class Ge{static initialize(C,A,K){this.fetchImpl=C,A&&(this.headersImpl=A),K&&(this.responseImpl=K)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void Gt("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void Gt("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void Gt("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const ft={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},jt=new _t(3e4,6e4);function Pt(U,C){return U.tenantId&&!C.tenantId?Object.assign(Object.assign({},C),{tenantId:U.tenantId}):C}function sn(U,C,A,K){return ln.apply(this,arguments)}function ln(){return(ln=(0,d.Z)(function*(U,C,A,K,Ie={}){return Oe(U,Ie,(0,d.Z)(function*(){let We={},an={};K&&("GET"===C?an=K:We={body:JSON.stringify(K)});const xn=(0,v.xO)(Object.assign({key:U.config.apiKey},an)).slice(1),dr=yield U._getAdditionalHeaders();return dr["Content-Type"]="application/json",U.languageCode&&(dr["X-Firebase-Locale"]=U.languageCode),Ge.fetch()(_n(U,U.config.apiHost,A,xn),Object.assign({method:C,headers:dr,referrerPolicy:"no-referrer"},We))}))})).apply(this,arguments)}function Oe(U,C,A){return rn.apply(this,arguments)}function rn(){return(rn=(0,d.Z)(function*(U,C,A){U._canInitEmulator=!1;const K=Object.assign(Object.assign({},ft),C);try{const Ie=new tr(U),We=yield Promise.race([A(),Ie.promise]);Ie.clearNetworkTimeout();const an=yield We.json();if("needConfirmation"in an)throw ur(U,"account-exists-with-different-credential",an);if(We.ok&&!("errorMessage"in an))return an;{const xn=We.ok?an.errorMessage:an.error.message,[dr,ti]=xn.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===dr)throw ur(U,"credential-already-in-use",an);if("EMAIL_EXISTS"===dr)throw ur(U,"email-already-in-use",an);if("USER_DISABLED"===dr)throw ur(U,"user-disabled",an);const Mi=K[dr]||dr.toLowerCase().replace(/[_\s]+/g,"-");if(ti)throw Tt(U,Mi,ti);ht(U,Mi)}}catch(Ie){if(Ie instanceof v.ZR)throw Ie;ht(U,"network-request-failed",{message:String(Ie)})}})).apply(this,arguments)}function wt(U,C,A,K){return fn.apply(this,arguments)}function fn(){return(fn=(0,d.Z)(function*(U,C,A,K,Ie={}){const We=yield sn(U,C,A,K,Ie);return"mfaPendingCredential"in We&&ht(U,"multi-factor-auth-required",{_serverResponse:We}),We})).apply(this,arguments)}function _n(U,C,A,K){const Ie=`${C}${A}?${K}`;return U.config.emulator?tt(U.config,Ie):`${U.config.apiScheme}://${Ie}`}class tr{constructor(C){this.auth=C,this.timer=null,this.promise=new Promise((A,K)=>{this.timer=setTimeout(()=>K(Ct(this.auth,"network-request-failed")),jt.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function ur(U,C,A){const K={appName:U.name};A.email&&(K.email=A.email),A.phoneNumber&&(K.phoneNumber=A.phoneNumber);const Ie=Ct(U,C,K);return Ie.customData._tokenResponse=A,Ie}function hn(){return(hn=(0,d.Z)(function*(U,C){return sn(U,"POST","/v1/accounts:delete",C)})).apply(this,arguments)}function cn(){return(cn=(0,d.Z)(function*(U,C){return sn(U,"POST","/v1/accounts:update",C)})).apply(this,arguments)}function Wr(){return(Wr=(0,d.Z)(function*(U,C){return sn(U,"POST","/v1/accounts:lookup",C)})).apply(this,arguments)}function Sr(U){if(U)try{const C=new Date(Number(U));if(!isNaN(C.getTime()))return C.toUTCString()}catch{}}function Qr(){return(Qr=(0,d.Z)(function*(U,C=!1){const A=(0,v.m9)(U),K=yield A.getIdToken(C),Ie=$r(K);it(Ie&&Ie.exp&&Ie.auth_time&&Ie.iat,A.auth,"internal-error");const We="object"==typeof Ie.firebase?Ie.firebase:void 0,an=null==We?void 0:We.sign_in_provider;return{claims:Ie,token:K,authTime:Sr(br(Ie.auth_time)),issuedAtTime:Sr(br(Ie.iat)),expirationTime:Sr(br(Ie.exp)),signInProvider:an||null,signInSecondFactor:(null==We?void 0:We.sign_in_second_factor)||null}})).apply(this,arguments)}function br(U){return 1e3*Number(U)}function $r(U){const[C,A,K]=U.split(".");if(void 0===C||void 0===A||void 0===K)return Rt("JWT malformed, contained fewer than 3 sections"),null;try{const Ie=(0,v.tV)(A);return Ie?JSON.parse(Ie):(Rt("Failed to decode base64 JWT payload"),null)}catch(Ie){return Rt("Caught error parsing JWT payload as JSON",null==Ie?void 0:Ie.toString()),null}}function nr(U,C){return Zn.apply(this,arguments)}function Zn(){return(Zn=(0,d.Z)(function*(U,C,A=!1){if(A)return C;try{return yield C}catch(K){throw K instanceof v.ZR&&function rr({code:U}){return"auth/user-disabled"===U||"auth/user-token-expired"===U}(K)&&U.auth.currentUser===U&&(yield U.auth.signOut()),K}})).apply(this,arguments)}class Ei{constructor(C){this.user=C,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(C){var A;if(C){const K=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),K}{this.errorBackoff=3e4;const Ie=(null!==(A=this.user.stsTokenManager.expirationTime)&&void 0!==A?A:0)-Date.now()-3e5;return Math.max(0,Ie)}}schedule(C=!1){var A=this;if(!this.isRunning)return;const K=this.getInterval(C);this.timerId=setTimeout((0,d.Z)(function*(){yield A.iteration()}),K)}iteration(){var C=this;return(0,d.Z)(function*(){try{yield C.user.getIdToken(!0)}catch(A){return void("auth/network-request-failed"===(null==A?void 0:A.code)&&C.schedule(!0))}C.schedule()})()}}class di{constructor(C,A){this.createdAt=C,this.lastLoginAt=A,this._initializeTime()}_initializeTime(){this.lastSignInTime=Sr(this.lastLoginAt),this.creationTime=Sr(this.createdAt)}_copy(C){this.createdAt=C.createdAt,this.lastLoginAt=C.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function ni(U){return ri.apply(this,arguments)}function ri(){return ri=(0,d.Z)(function*(U){var C;const A=U.auth,K=yield U.getIdToken(),Ie=yield nr(U,function Pr(U,C){return Wr.apply(this,arguments)}(A,{idToken:K}));it(null==Ie?void 0:Ie.users.length,A,"internal-error");const We=Ie.users[0];U._notifyReloadListener(We);const an=null!==(C=We.providerUserInfo)&&void 0!==C&&C.length?function yi(U){return U.map(C=>{var{providerId:A}=C,K=(0,Fe._T)(C,["providerId"]);return{providerId:A,uid:K.rawId||"",displayName:K.displayName||null,email:K.email||null,phoneNumber:K.phoneNumber||null,photoURL:K.photoUrl||null}})}(We.providerUserInfo):[],xn=function pr(U,C){return[...U.filter(K=>!C.some(Ie=>Ie.providerId===K.providerId)),...C]}(U.providerData,an),Mi=!!U.isAnonymous&&!(U.email&&We.passwordHash||null!=xn&&xn.length),_s={uid:We.localId,displayName:We.displayName||null,photoURL:We.photoUrl||null,email:We.email||null,emailVerified:We.emailVerified||!1,phoneNumber:We.phoneNumber||null,tenantId:We.tenantId||null,providerData:xn,metadata:new di(We.createdAt,We.lastLoginAt),isAnonymous:Mi};Object.assign(U,_s)}),ri.apply(this,arguments)}function Er(){return(Er=(0,d.Z)(function*(U){const C=(0,v.m9)(U);yield ni(C),yield C.auth._persistUserIfCurrent(C),C.auth._notifyListenersIfCurrent(C)})).apply(this,arguments)}function An(){return(An=(0,d.Z)(function*(U,C){const A=yield Oe(U,{},(0,d.Z)(function*(){const K=(0,v.xO)({grant_type:"refresh_token",refresh_token:C}).slice(1),{tokenApiHost:Ie,apiKey:We}=U.config,an=_n(U,Ie,"/v1/token",`key=${We}`),xn=yield U._getAdditionalHeaders();return xn["Content-Type"]="application/x-www-form-urlencoded",Ge.fetch()(an,{method:"POST",headers:xn,body:K})}));return{accessToken:A.access_token,expiresIn:A.expires_in,refreshToken:A.refresh_token}})).apply(this,arguments)}class xe{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(C){it(C.idToken,"internal-error"),it(typeof C.idToken<"u","internal-error"),it(typeof C.refreshToken<"u","internal-error");const A="expiresIn"in C&&typeof C.expiresIn<"u"?Number(C.expiresIn):function ui(U){const C=$r(U);return it(C,"internal-error"),it(typeof C.exp<"u","internal-error"),it(typeof C.iat<"u","internal-error"),Number(C.exp)-Number(C.iat)}(C.idToken);this.updateTokensAndExpiration(C.idToken,C.refreshToken,A)}getToken(C,A=!1){var K=this;return(0,d.Z)(function*(){return it(!K.accessToken||K.refreshToken,C,"user-token-expired"),A||!K.accessToken||K.isExpired?K.refreshToken?(yield K.refresh(C,K.refreshToken),K.accessToken):null:K.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(C,A){var K=this;return(0,d.Z)(function*(){const{accessToken:Ie,refreshToken:We,expiresIn:an}=yield function Ar(U,C){return An.apply(this,arguments)}(C,A);K.updateTokensAndExpiration(Ie,We,Number(an))})()}updateTokensAndExpiration(C,A,K){this.refreshToken=A||null,this.accessToken=C||null,this.expirationTime=Date.now()+1e3*K}static fromJSON(C,A){const{refreshToken:K,accessToken:Ie,expirationTime:We}=A,an=new xe;return K&&(it("string"==typeof K,"internal-error",{appName:C}),an.refreshToken=K),Ie&&(it("string"==typeof Ie,"internal-error",{appName:C}),an.accessToken=Ie),We&&(it("number"==typeof We,"internal-error",{appName:C}),an.expirationTime=We),an}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(C){this.accessToken=C.accessToken,this.refreshToken=C.refreshToken,this.expirationTime=C.expirationTime}_clone(){return Object.assign(new xe,this.toJSON())}_performRefresh(){return Gt("not implemented")}}function gt(U,C){it("string"==typeof U||typeof U>"u","internal-error",{appName:C})}class Wt{constructor(C){var{uid:A,auth:K,stsTokenManager:Ie}=C,We=(0,Fe._T)(C,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Ei(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=A,this.auth=K,this.stsTokenManager=Ie,this.accessToken=Ie.accessToken,this.displayName=We.displayName||null,this.email=We.email||null,this.emailVerified=We.emailVerified||!1,this.phoneNumber=We.phoneNumber||null,this.photoURL=We.photoURL||null,this.isAnonymous=We.isAnonymous||!1,this.tenantId=We.tenantId||null,this.providerData=We.providerData?[...We.providerData]:[],this.metadata=new di(We.createdAt||void 0,We.lastLoginAt||void 0)}getIdToken(C){var A=this;return(0,d.Z)(function*(){const K=yield nr(A,A.stsTokenManager.getToken(A.auth,C));return it(K,A.auth,"internal-error"),A.accessToken!==K&&(A.accessToken=K,yield A.auth._persistUserIfCurrent(A),A.auth._notifyListenersIfCurrent(A)),K})()}getIdTokenResult(C){return function Gr(U){return Qr.apply(this,arguments)}(this,C)}reload(){return function oi(U){return Er.apply(this,arguments)}(this)}_assign(C){this!==C&&(it(this.uid===C.uid,this.auth,"internal-error"),this.displayName=C.displayName,this.photoURL=C.photoURL,this.email=C.email,this.emailVerified=C.emailVerified,this.phoneNumber=C.phoneNumber,this.isAnonymous=C.isAnonymous,this.tenantId=C.tenantId,this.providerData=C.providerData.map(A=>Object.assign({},A)),this.metadata._copy(C.metadata),this.stsTokenManager._assign(C.stsTokenManager))}_clone(C){const A=new Wt(Object.assign(Object.assign({},this),{auth:C,stsTokenManager:this.stsTokenManager._clone()}));return A.metadata._copy(this.metadata),A}_onReload(C){it(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=C,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(C){this.reloadListener?this.reloadListener(C):this.reloadUserInfo=C}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(C,A=!1){var K=this;return(0,d.Z)(function*(){let Ie=!1;C.idToken&&C.idToken!==K.stsTokenManager.accessToken&&(K.stsTokenManager.updateFromServerResponse(C),Ie=!0),A&&(yield ni(K)),yield K.auth._persistUserIfCurrent(K),Ie&&K.auth._notifyListenersIfCurrent(K)})()}delete(){var C=this;return(0,d.Z)(function*(){const A=yield C.getIdToken();return yield nr(C,function lr(U,C){return hn.apply(this,arguments)}(C.auth,{idToken:A})),C.stsTokenManager.clearRefreshToken(),C.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(C=>Object.assign({},C)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(C,A){var K,Ie,We,an,xn,dr,ti,Mi;const _s=null!==(K=A.displayName)&&void 0!==K?K:void 0,ll=null!==(Ie=A.email)&&void 0!==Ie?Ie:void 0,_l=null!==(We=A.phoneNumber)&&void 0!==We?We:void 0,_d=null!==(an=A.photoURL)&&void 0!==an?an:void 0,bl=null!==(xn=A.tenantId)&&void 0!==xn?xn:void 0,yu=null!==(dr=A._redirectEventId)&&void 0!==dr?dr:void 0,La=null!==(ti=A.createdAt)&&void 0!==ti?ti:void 0,Yc=null!==(Mi=A.lastLoginAt)&&void 0!==Mi?Mi:void 0,{uid:nc,emailVerified:cl,isAnonymous:Hl,providerData:bd,stsTokenManager:Ac}=A;it(nc&&Ac,C,"internal-error");const Nf=xe.fromJSON(this.name,Ac);it("string"==typeof nc,C,"internal-error"),gt(_s,C.name),gt(ll,C.name),it("boolean"==typeof cl,C,"internal-error"),it("boolean"==typeof Hl,C,"internal-error"),gt(_l,C.name),gt(_d,C.name),gt(bl,C.name),gt(yu,C.name),gt(La,C.name),gt(Yc,C.name);const vu=new Wt({uid:nc,auth:C,email:ll,emailVerified:cl,displayName:_s,isAnonymous:Hl,photoURL:_d,phoneNumber:_l,tenantId:bl,stsTokenManager:Nf,createdAt:La,lastLoginAt:Yc});return bd&&Array.isArray(bd)&&(vu.providerData=bd.map(Is=>Object.assign({},Is))),yu&&(vu._redirectEventId=yu),vu}static _fromIdTokenResponse(C,A,K=!1){return(0,d.Z)(function*(){const Ie=new xe;Ie.updateFromServerResponse(A);const We=new Wt({uid:A.localId,auth:C,stsTokenManager:Ie,isAnonymous:K});return yield ni(We),We})()}}const In=new Map;function Wn(U){St(U instanceof Function,"Expected a class definition");let C=In.get(U);return C?(St(C instanceof U,"Instance stored in cache mismatched with class"),C):(C=new U,In.set(U,C),C)}const Nr=(()=>{class U{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,d.Z)(function*(){return!0})()}_set(A,K){var Ie=this;return(0,d.Z)(function*(){Ie.storage[A]=K})()}_get(A){var K=this;return(0,d.Z)(function*(){const Ie=K.storage[A];return void 0===Ie?null:Ie})()}_remove(A){var K=this;return(0,d.Z)(function*(){delete K.storage[A]})()}_addListener(A,K){}_removeListener(A,K){}}return U.type="NONE",U})();function Rr(U,C,A){return`firebase:${U}:${C}:${A}`}class yt{constructor(C,A,K){this.persistence=C,this.auth=A,this.userKey=K;const{config:Ie,name:We}=this.auth;this.fullUserKey=Rr(this.userKey,Ie.apiKey,We),this.fullPersistenceKey=Rr("persistence",Ie.apiKey,We),this.boundEventHandler=A._onStorageEvent.bind(A),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(C){return this.persistence._set(this.fullUserKey,C.toJSON())}getCurrentUser(){var C=this;return(0,d.Z)(function*(){const A=yield C.persistence._get(C.fullUserKey);return A?Wt._fromJSON(C.auth,A):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(C){var A=this;return(0,d.Z)(function*(){if(A.persistence===C)return;const K=yield A.getCurrentUser();return yield A.removeCurrentUser(),A.persistence=C,K?A.setCurrentUser(K):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(C,A,K="authUser"){return(0,d.Z)(function*(){if(!A.length)return new yt(Wn(Nr),C,K);const Ie=(yield Promise.all(A.map(function(){var ti=(0,d.Z)(function*(Mi){if(yield Mi._isAvailable())return Mi});return function(Mi){return ti.apply(this,arguments)}}()))).filter(ti=>ti);let We=Ie[0]||Wn(Nr);const an=Rr(K,C.config.apiKey,C.name);let xn=null;for(const ti of A)try{const Mi=yield ti._get(an);if(Mi){const _s=Wt._fromJSON(C,Mi);ti!==We&&(xn=_s),We=ti;break}}catch{}const dr=Ie.filter(ti=>ti._shouldAllowMigration);return We._shouldAllowMigration&&dr.length?(We=dr[0],xn&&(yield We._set(an,xn.toJSON())),yield Promise.all(A.map(function(){var ti=(0,d.Z)(function*(Mi){if(Mi!==We)try{yield Mi._remove(an)}catch{}});return function(Mi){return ti.apply(this,arguments)}}())),new yt(We,C,K)):new yt(We,C,K)})()}}function Te(U){const C=U.toLowerCase();if(C.includes("opera/")||C.includes("opr/")||C.includes("opios/"))return"Opera";if(qe(C))return"IEMobile";if(C.includes("msie")||C.includes("trident/"))return"IE";if(C.includes("edge/"))return"Edge";if(se(C))return"Firefox";if(C.includes("silk/"))return"Silk";if(rt(C))return"Blackberry";if(Vt(C))return"Webos";if(ee(C))return"Safari";if((C.includes("chrome/")||oe(C))&&!C.includes("edge/"))return"Chrome";if(xt(C))return"Android";{const K=U.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==K?void 0:K.length))return K[1]}return"Other"}function se(U=(0,v.z$)()){return/firefox\//i.test(U)}function ee(U=(0,v.z$)()){const C=U.toLowerCase();return C.includes("safari/")&&!C.includes("chrome/")&&!C.includes("crios/")&&!C.includes("android")}function oe(U=(0,v.z$)()){return/crios\//i.test(U)}function qe(U=(0,v.z$)()){return/iemobile/i.test(U)}function xt(U=(0,v.z$)()){return/android/i.test(U)}function rt(U=(0,v.z$)()){return/blackberry/i.test(U)}function Vt(U=(0,v.z$)()){return/webos/i.test(U)}function nn(U=(0,v.z$)()){return/iphone|ipad|ipod/i.test(U)||/macintosh/i.test(U)&&/mobile/i.test(U)}function Tn(U=(0,v.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(U)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(U)}function un(U=(0,v.z$)()){return nn(U)||xt(U)||Vt(U)||rt(U)||/windows phone/i.test(U)||qe(U)}function Nn(U,C=[]){let A;switch(U){case"Browser":A=Te((0,v.z$)());break;case"Worker":A=`${Te((0,v.z$)())}-${U}`;break;default:A=U}const K=C.length?C.join(","):"FirebaseCore-web";return`${A}/JsCore/${ve.SDK_VERSION}/${K}`}function Kt(){return(Kt=(0,d.Z)(function*(U){return(yield sn(U,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function mn(U,C){return Qn.apply(this,arguments)}function Qn(){return(Qn=(0,d.Z)(function*(U,C){return sn(U,"GET","/v2/recaptchaConfig",Pt(U,C))})).apply(this,arguments)}function gr(U){return void 0!==U&&void 0!==U.getResponse}function Fr(U){return void 0!==U&&void 0!==U.enterprise}class Or{constructor(C){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===C.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=C.recaptchaKey.split("/")[3],this.emailPasswordEnabled=C.recaptchaEnforcementState.some(A=>"EMAIL_PASSWORD_PROVIDER"===A.provider&&"OFF"!==A.enforcementState)}}function Yr(U){return new Promise((C,A)=>{const K=document.createElement("script");K.setAttribute("src",U),K.onload=C,K.onerror=Ie=>{const We=Ct("internal-error");We.customData=Ie,A(We)},K.type="text/javascript",K.charset="UTF-8",function Ri(){var U,C;return null!==(C=null===(U=document.getElementsByTagName("head"))||void 0===U?void 0:U[0])&&void 0!==C?C:document}().appendChild(K)})}function jr(U){return`__${U}${Math.floor(1e6*Math.random())}`}class ro{constructor(C){this.type="recaptcha-enterprise",this.auth=zi(C)}verify(C="verify",A=!1){var K=this;return(0,d.Z)(function*(){function We(){return We=(0,d.Z)(function*(xn){if(!A){if(null==xn.tenantId&&null!=xn._agentRecaptchaConfig)return xn._agentRecaptchaConfig.siteKey;if(null!=xn.tenantId&&void 0!==xn._tenantRecaptchaConfigs[xn.tenantId])return xn._tenantRecaptchaConfigs[xn.tenantId].siteKey}return new Promise(function(){var dr=(0,d.Z)(function*(ti,Mi){mn(xn,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(_s=>{if(void 0!==_s.recaptchaKey){const ll=new Or(_s);return null==xn.tenantId?xn._agentRecaptchaConfig=ll:xn._tenantRecaptchaConfigs[xn.tenantId]=ll,ti(ll.siteKey)}Mi(new Error("recaptcha Enterprise site key undefined"))}).catch(_s=>{Mi(_s)})});return function(ti,Mi){return dr.apply(this,arguments)}}())}),We.apply(this,arguments)}function an(xn,dr,ti){const Mi=window.grecaptcha;Fr(Mi)?Mi.enterprise.ready(()=>{Mi.enterprise.execute(xn,{action:C}).then(_s=>{dr(_s)}).catch(()=>{dr("NO_RECAPTCHA")})}):ti(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((xn,dr)=>{(function Ie(xn){return We.apply(this,arguments)})(K.auth).then(ti=>{if(!A&&Fr(window.grecaptcha))an(ti,xn,dr);else{if(typeof window>"u")return void dr(new Error("RecaptchaVerifier is only supported in browser"));Yr("https://www.google.com/recaptcha/enterprise.js?render="+ti).then(()=>{an(ti,xn,dr)}).catch(Mi=>{dr(Mi)})}}).catch(ti=>{dr(ti)})})})()}}function cs(U,C,A){return rs.apply(this,arguments)}function rs(){return(rs=(0,d.Z)(function*(U,C,A,K=!1){const Ie=new ro(U);let We;try{We=yield Ie.verify(A)}catch{We=yield Ie.verify(A,!0)}const an=Object.assign({},C);return Object.assign(an,K?{captchaResp:We}:{captchaResponse:We}),Object.assign(an,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(an,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),an})).apply(this,arguments)}class wo{constructor(C){this.auth=C,this.queue=[]}pushCallback(C,A){const K=We=>new Promise((an,xn)=>{try{an(C(We))}catch(dr){xn(dr)}});K.onAbort=A,this.queue.push(K);const Ie=this.queue.length-1;return()=>{this.queue[Ie]=()=>Promise.resolve()}}runMiddleware(C){var A=this;return(0,d.Z)(function*(){if(A.auth.currentUser===C)return;const K=[];try{for(const Ie of A.queue)yield Ie(C),Ie.onAbort&&K.push(Ie.onAbort)}catch(Ie){K.reverse();for(const We of K)try{We()}catch{}throw A.auth._errorFactory.create("login-blocked",{originalMessage:null==Ie?void 0:Ie.message})}})()}}class as{constructor(C,A,K,Ie){this.app=C,this.heartbeatServiceProvider=A,this.appCheckServiceProvider=K,this.config=Ie,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new qs(this),this.idTokenSubscription=new qs(this),this.beforeStateQueue=new wo(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Ut,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=C.name,this.clientVersion=Ie.sdkClientVersion}_initializeWithPersistence(C,A){var K=this;return A&&(this._popupRedirectResolver=Wn(A)),this._initializationPromise=this.queue((0,d.Z)(function*(){var Ie,We;if(!K._deleted&&(K.persistenceManager=yield yt.create(K,C),!K._deleted)){if(null!==(Ie=K._popupRedirectResolver)&&void 0!==Ie&&Ie._shouldInitProactively)try{yield K._popupRedirectResolver._initialize(K)}catch{}yield K.initializeCurrentUser(A),K.lastNotifiedUid=(null===(We=K.currentUser)||void 0===We?void 0:We.uid)||null,!K._deleted&&(K._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var C=this;return(0,d.Z)(function*(){if(C._deleted)return;const A=yield C.assertedPersistence.getCurrentUser();if(C.currentUser||A){if(C.currentUser&&A&&C.currentUser.uid===A.uid)return C._currentUser._assign(A),void(yield C.currentUser.getIdToken());yield C._updateCurrentUser(A,!0)}})()}initializeCurrentUser(C){var A=this;return(0,d.Z)(function*(){var K;const Ie=yield A.assertedPersistence.getCurrentUser();let We=Ie,an=!1;if(C&&A.config.authDomain){yield A.getOrInitRedirectPersistenceManager();const xn=null===(K=A.redirectUser)||void 0===K?void 0:K._redirectEventId,dr=null==We?void 0:We._redirectEventId,ti=yield A.tryRedirectSignIn(C);(!xn||xn===dr)&&null!=ti&&ti.user&&(We=ti.user,an=!0)}if(!We)return A.directlySetCurrentUser(null);if(!We._redirectEventId){if(an)try{yield A.beforeStateQueue.runMiddleware(We)}catch(xn){We=Ie,A._popupRedirectResolver._overrideRedirectResult(A,()=>Promise.reject(xn))}return We?A.reloadAndSetCurrentUserOrClear(We):A.directlySetCurrentUser(null)}return it(A._popupRedirectResolver,A,"argument-error"),yield A.getOrInitRedirectPersistenceManager(),A.redirectUser&&A.redirectUser._redirectEventId===We._redirectEventId?A.directlySetCurrentUser(We):A.reloadAndSetCurrentUserOrClear(We)})()}tryRedirectSignIn(C){var A=this;return(0,d.Z)(function*(){let K=null;try{K=yield A._popupRedirectResolver._completeRedirectFn(A,C,!0)}catch{yield A._setRedirectUser(null)}return K})()}reloadAndSetCurrentUserOrClear(C){var A=this;return(0,d.Z)(function*(){try{yield ni(C)}catch(K){if("auth/network-request-failed"!==(null==K?void 0:K.code))return A.directlySetCurrentUser(null)}return A.directlySetCurrentUser(C)})()}useDeviceLanguage(){this.languageCode=function ut(){if(typeof navigator>"u")return null;const U=navigator;return U.languages&&U.languages[0]||U.language||null}()}_delete(){var C=this;return(0,d.Z)(function*(){C._deleted=!0})()}updateCurrentUser(C){var A=this;return(0,d.Z)(function*(){const K=C?(0,v.m9)(C):null;return K&&it(K.auth.config.apiKey===A.config.apiKey,A,"invalid-user-token"),A._updateCurrentUser(K&&K._clone(A))})()}_updateCurrentUser(C,A=!1){var K=this;return(0,d.Z)(function*(){if(!K._deleted)return C&&it(K.tenantId===C.tenantId,K,"tenant-id-mismatch"),A||(yield K.beforeStateQueue.runMiddleware(C)),K.queue((0,d.Z)(function*(){yield K.directlySetCurrentUser(C),K.notifyAuthListeners()}))})()}signOut(){var C=this;return(0,d.Z)(function*(){return yield C.beforeStateQueue.runMiddleware(null),(C.redirectPersistenceManager||C._popupRedirectResolver)&&(yield C._setRedirectUser(null)),C._updateCurrentUser(null,!0)})()}setPersistence(C){var A=this;return this.queue((0,d.Z)(function*(){yield A.assertedPersistence.setPersistence(Wn(C))}))}initializeRecaptchaConfig(){var C=this;return(0,d.Z)(function*(){const A=yield mn(C,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),K=new Or(A);null==C.tenantId?C._agentRecaptchaConfig=K:C._tenantRecaptchaConfigs[C.tenantId]=K,K.emailPasswordEnabled&&new ro(C).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(C){this._errorFactory=new v.LL("auth","Firebase",C())}onAuthStateChanged(C,A,K){return this.registerStateListener(this.authStateSubscription,C,A,K)}beforeAuthStateChanged(C,A){return this.beforeStateQueue.pushCallback(C,A)}onIdTokenChanged(C,A,K){return this.registerStateListener(this.idTokenSubscription,C,A,K)}toJSON(){var C;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(C=this._currentUser)||void 0===C?void 0:C.toJSON()}}_setRedirectUser(C,A){var K=this;return(0,d.Z)(function*(){const Ie=yield K.getOrInitRedirectPersistenceManager(A);return null===C?Ie.removeCurrentUser():Ie.setCurrentUser(C)})()}getOrInitRedirectPersistenceManager(C){var A=this;return(0,d.Z)(function*(){if(!A.redirectPersistenceManager){const K=C&&Wn(C)||A._popupRedirectResolver;it(K,A,"argument-error"),A.redirectPersistenceManager=yield yt.create(A,[Wn(K._redirectPersistence)],"redirectUser"),A.redirectUser=yield A.redirectPersistenceManager.getCurrentUser()}return A.redirectPersistenceManager})()}_redirectUserForId(C){var A=this;return(0,d.Z)(function*(){var K,Ie;return A._isInitialized&&(yield A.queue((0,d.Z)(function*(){}))),(null===(K=A._currentUser)||void 0===K?void 0:K._redirectEventId)===C?A._currentUser:(null===(Ie=A.redirectUser)||void 0===Ie?void 0:Ie._redirectEventId)===C?A.redirectUser:null})()}_persistUserIfCurrent(C){var A=this;return(0,d.Z)(function*(){if(C===A.currentUser)return A.queue((0,d.Z)(function*(){return A.directlySetCurrentUser(C)}))})()}_notifyListenersIfCurrent(C){C===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var C,A;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const K=null!==(A=null===(C=this.currentUser)||void 0===C?void 0:C.uid)&&void 0!==A?A:null;this.lastNotifiedUid!==K&&(this.lastNotifiedUid=K,this.authStateSubscription.next(this.currentUser))}registerStateListener(C,A,K,Ie){if(this._deleted)return()=>{};const We="function"==typeof A?A:A.next.bind(A),an=this._isInitialized?Promise.resolve():this._initializationPromise;return it(an,this,"internal-error"),an.then(()=>We(this.currentUser)),"function"==typeof A?C.addObserver(A,K,Ie):C.addObserver(A)}directlySetCurrentUser(C){var A=this;return(0,d.Z)(function*(){A.currentUser&&A.currentUser!==C&&A._currentUser._stopProactiveRefresh(),C&&A.isProactiveRefreshEnabled&&C._startProactiveRefresh(),A.currentUser=C,C?yield A.assertedPersistence.setCurrentUser(C):yield A.assertedPersistence.removeCurrentUser()})()}queue(C){return this.operations=this.operations.then(C,C),this.operations}get assertedPersistence(){return it(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(C){!C||this.frameworks.includes(C)||(this.frameworks.push(C),this.frameworks.sort(),this.clientVersion=Nn(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var C=this;return(0,d.Z)(function*(){var A;const K={"X-Client-Version":C.clientVersion};C.app.options.appId&&(K["X-Firebase-gmpid"]=C.app.options.appId);const Ie=yield null===(A=C.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===A?void 0:A.getHeartbeatsHeader();Ie&&(K["X-Firebase-Client"]=Ie);const We=yield C._getAppCheckToken();return We&&(K["X-Firebase-AppCheck"]=We),K})()}_getAppCheckToken(){var C=this;return(0,d.Z)(function*(){var A;const K=yield null===(A=C.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===A?void 0:A.getToken();return null!=K&&K.error&&function Lt(U,...C){$e.logLevel<=Xe.in.WARN&&$e.warn(`Auth (${ve.SDK_VERSION}): ${U}`,...C)}(`Error while retrieving App Check token: ${K.error}`),null==K?void 0:K.token})()}}function zi(U){return(0,v.m9)(U)}class qs{constructor(C){this.auth=C,this.observer=null,this.addObserver=(0,v.ne)(A=>this.observer=A)}get next(){return it(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Zs(U,C,A){const K=zi(U);it(K._canInitEmulator,K,"emulator-config-failed"),it(/^https?:\/\//.test(C),K,"invalid-emulator-scheme");const Ie=!(null==A||!A.disableWarnings),We=ie(C),{host:an,port:xn}=function pe(U){const C=ie(U),A=/(\/\/)?([^?#/]+)/.exec(U.substr(C.length));if(!A)return{host:"",port:null};const K=A[2].split("@").pop()||"",Ie=/^(\[[^\]]+\])(:|$)/.exec(K);if(Ie){const We=Ie[1];return{host:We,port:ke(K.substr(We.length+1))}}{const[We,an]=K.split(":");return{host:We,port:ke(an)}}}(C);K.config.emulator={url:`${We}//${an}${null===xn?"":`:${xn}`}/`},K.settings.appVerificationDisabledForTesting=!0,K.emulatorConfig=Object.freeze({host:an,port:xn,protocol:We.replace(":",""),options:Object.freeze({disableWarnings:Ie})}),Ie||function _e(){function U(){const C=document.createElement("p"),A=C.style;C.innerText="Running in emulator mode. Do not use with production credentials.",A.position="fixed",A.width="100%",A.backgroundColor="#ffffff",A.border=".1em solid #000000",A.color="#b50000",A.bottom="0px",A.left="0px",A.margin="0px",A.zIndex="10000",A.textAlign="center",C.classList.add("firebase-emulator-warning"),document.body.appendChild(C)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",U):U())}()}function ie(U){const C=U.indexOf(":");return C<0?"":U.substr(0,C+1)}function ke(U){if(!U)return null;const C=Number(U);return isNaN(C)?null:C}class re{constructor(C,A){this.providerId=C,this.signInMethod=A}toJSON(){return Gt("not implemented")}_getIdTokenResponse(C){return Gt("not implemented")}_linkToIdToken(C,A){return Gt("not implemented")}_getReauthenticationResolver(C){return Gt("not implemented")}}function ye(U,C){return st.apply(this,arguments)}function st(){return(st=(0,d.Z)(function*(U,C){return sn(U,"POST","/v1/accounts:resetPassword",Pt(U,C))})).apply(this,arguments)}function It(U,C){return Bt.apply(this,arguments)}function Bt(){return(Bt=(0,d.Z)(function*(U,C){return sn(U,"POST","/v1/accounts:update",C)})).apply(this,arguments)}function Ln(){return(Ln=(0,d.Z)(function*(U,C){return sn(U,"POST","/v1/accounts:update",Pt(U,C))})).apply(this,arguments)}function Hn(U,C){return Lr.apply(this,arguments)}function Lr(){return(Lr=(0,d.Z)(function*(U,C){return wt(U,"POST","/v1/accounts:signInWithPassword",Pt(U,C))})).apply(this,arguments)}function ai(U,C){return ms.apply(this,arguments)}function ms(){return(ms=(0,d.Z)(function*(U,C){return sn(U,"POST","/v1/accounts:sendOobCode",Pt(U,C))})).apply(this,arguments)}function $s(){return($s=(0,d.Z)(function*(U,C){return ai(U,C)})).apply(this,arguments)}function Li(U,C){return ir.apply(this,arguments)}function ir(){return(ir=(0,d.Z)(function*(U,C){return ai(U,C)})).apply(this,arguments)}function qr(U,C){return $i.apply(this,arguments)}function $i(){return($i=(0,d.Z)(function*(U,C){return ai(U,C)})).apply(this,arguments)}function Io(){return(Io=(0,d.Z)(function*(U,C){return ai(U,C)})).apply(this,arguments)}function go(){return(go=(0,d.Z)(function*(U,C){return wt(U,"POST","/v1/accounts:signInWithEmailLink",Pt(U,C))})).apply(this,arguments)}function Ds(){return(Ds=(0,d.Z)(function*(U,C){return wt(U,"POST","/v1/accounts:signInWithEmailLink",Pt(U,C))})).apply(this,arguments)}class ys extends re{constructor(C,A,K,Ie=null){super("password",K),this._email=C,this._password=A,this._tenantId=Ie}static _fromEmailAndPassword(C,A){return new ys(C,A,"password")}static _fromEmailAndCode(C,A,K=null){return new ys(C,A,"emailLink",K)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(C){const A="string"==typeof C?JSON.parse(C):C;if(null!=A&&A.email&&null!=A&&A.password){if("password"===A.signInMethod)return this._fromEmailAndPassword(A.email,A.password);if("emailLink"===A.signInMethod)return this._fromEmailAndCode(A.email,A.password,A.tenantId)}return null}_getIdTokenResponse(C){var A=this;return(0,d.Z)(function*(){var K;switch(A.signInMethod){case"password":const Ie={returnSecureToken:!0,email:A._email,password:A._password,clientType:"CLIENT_TYPE_WEB"};if(null!==(K=C._getRecaptchaConfig())&&void 0!==K&&K.emailPasswordEnabled){const We=yield cs(C,Ie,"signInWithPassword");return Hn(C,We)}return Hn(C,Ie).catch(function(){var We=(0,d.Z)(function*(an){if("auth/missing-recaptcha-token"===an.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const xn=yield cs(C,Ie,"signInWithPassword");return Hn(C,xn)}return Promise.reject(an)});return function(an){return We.apply(this,arguments)}}());case"emailLink":return function us(U,C){return go.apply(this,arguments)}(C,{email:A._email,oobCode:A._password});default:ht(C,"internal-error")}})()}_linkToIdToken(C,A){var K=this;return(0,d.Z)(function*(){switch(K.signInMethod){case"password":return It(C,{idToken:A,returnSecureToken:!0,email:K._email,password:K._password});case"emailLink":return function Ki(U,C){return Ds.apply(this,arguments)}(C,{idToken:A,email:K._email,oobCode:K._password});default:ht(C,"internal-error")}})()}_getReauthenticationResolver(C){return this._getIdTokenResponse(C)}}function Zr(U,C){return Js.apply(this,arguments)}function Js(){return(Js=(0,d.Z)(function*(U,C){return wt(U,"POST","/v1/accounts:signInWithIdp",Pt(U,C))})).apply(this,arguments)}class Oi extends re{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(C){const A=new Oi(C.providerId,C.signInMethod);return C.idToken||C.accessToken?(C.idToken&&(A.idToken=C.idToken),C.accessToken&&(A.accessToken=C.accessToken),C.nonce&&!C.pendingToken&&(A.nonce=C.nonce),C.pendingToken&&(A.pendingToken=C.pendingToken)):C.oauthToken&&C.oauthTokenSecret?(A.accessToken=C.oauthToken,A.secret=C.oauthTokenSecret):ht("argument-error"),A}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(C){const A="string"==typeof C?JSON.parse(C):C,{providerId:K,signInMethod:Ie}=A,We=(0,Fe._T)(A,["providerId","signInMethod"]);if(!K||!Ie)return null;const an=new Oi(K,Ie);return an.idToken=We.idToken||void 0,an.accessToken=We.accessToken||void 0,an.secret=We.secret,an.nonce=We.nonce,an.pendingToken=We.pendingToken||null,an}_getIdTokenResponse(C){return Zr(C,this.buildRequest())}_linkToIdToken(C,A){const K=this.buildRequest();return K.idToken=A,Zr(C,K)}_getReauthenticationResolver(C){const A=this.buildRequest();return A.autoCreate=!1,Zr(C,A)}buildRequest(){const C={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)C.pendingToken=this.pendingToken;else{const A={};this.idToken&&(A.id_token=this.idToken),this.accessToken&&(A.access_token=this.accessToken),this.secret&&(A.oauth_token_secret=this.secret),A.providerId=this.providerId,this.nonce&&!this.pendingToken&&(A.nonce=this.nonce),C.postBody=(0,v.xO)(A)}return C}}function Di(){return(Di=(0,d.Z)(function*(U,C){return sn(U,"POST","/v1/accounts:sendVerificationCode",Pt(U,C))})).apply(this,arguments)}function Vs(){return(Vs=(0,d.Z)(function*(U,C){return wt(U,"POST","/v1/accounts:signInWithPhoneNumber",Pt(U,C))})).apply(this,arguments)}function To(){return(To=(0,d.Z)(function*(U,C){const A=yield wt(U,"POST","/v1/accounts:signInWithPhoneNumber",Pt(U,C));if(A.temporaryProof)throw ur(U,"account-exists-with-different-credential",A);return A})).apply(this,arguments)}const Co={USER_NOT_FOUND:"user-not-found"};function Yo(){return(Yo=(0,d.Z)(function*(U,C){return wt(U,"POST","/v1/accounts:signInWithPhoneNumber",Pt(U,Object.assign(Object.assign({},C),{operation:"REAUTH"})),Co)})).apply(this,arguments)}class Ai extends re{constructor(C){super("phone","phone"),this.params=C}static _fromVerification(C,A){return new Ai({verificationId:C,verificationCode:A})}static _fromTokenResponse(C,A){return new Ai({phoneNumber:C,temporaryProof:A})}_getIdTokenResponse(C){return function pi(U,C){return Vs.apply(this,arguments)}(C,this._makeVerificationRequest())}_linkToIdToken(C,A){return function Vi(U,C){return To.apply(this,arguments)}(C,Object.assign({idToken:A},this._makeVerificationRequest()))}_getReauthenticationResolver(C){return function Xs(U,C){return Yo.apply(this,arguments)}(C,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:C,phoneNumber:A,verificationId:K,verificationCode:Ie}=this.params;return C&&A?{temporaryProof:C,phoneNumber:A}:{sessionInfo:K,code:Ie}}toJSON(){const C={providerId:this.providerId};return this.params.phoneNumber&&(C.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(C.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(C.verificationCode=this.params.verificationCode),this.params.verificationId&&(C.verificationId=this.params.verificationId),C}static fromJSON(C){"string"==typeof C&&(C=JSON.parse(C));const{verificationId:A,verificationCode:K,phoneNumber:Ie,temporaryProof:We}=C;return K||A||Ie||We?new Ai({verificationId:A,verificationCode:K,phoneNumber:Ie,temporaryProof:We}):null}}class so{constructor(C){var A,K,Ie,We,an,xn;const dr=(0,v.zd)((0,v.pd)(C)),ti=null!==(A=dr.apiKey)&&void 0!==A?A:null,Mi=null!==(K=dr.oobCode)&&void 0!==K?K:null,_s=function hr(U){switch(U){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(Ie=dr.mode)&&void 0!==Ie?Ie:null);it(ti&&Mi&&_s,"argument-error"),this.apiKey=ti,this.operation=_s,this.code=Mi,this.continueUrl=null!==(We=dr.continueUrl)&&void 0!==We?We:null,this.languageCode=null!==(an=dr.languageCode)&&void 0!==an?an:null,this.tenantId=null!==(xn=dr.tenantId)&&void 0!==xn?xn:null}static parseLink(C){const A=function Os(U){const C=(0,v.zd)((0,v.pd)(U)).link,A=C?(0,v.zd)((0,v.pd)(C)).deep_link_id:null,K=(0,v.zd)((0,v.pd)(U)).deep_link_id;return(K?(0,v.zd)((0,v.pd)(K)).link:null)||K||A||C||U}(C);try{return new so(A)}catch{return null}}}let ss=(()=>{class U{constructor(){this.providerId=U.PROVIDER_ID}static credential(A,K){return ys._fromEmailAndPassword(A,K)}static credentialWithLink(A,K){const Ie=so.parseLink(K);return it(Ie,"argument-error"),ys._fromEmailAndCode(A,Ie.code,Ie.tenantId)}}return U.PROVIDER_ID="password",U.EMAIL_PASSWORD_SIGN_IN_METHOD="password",U.EMAIL_LINK_SIGN_IN_METHOD="emailLink",U})();class Do{constructor(C){this.providerId=C,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(C){this.defaultLanguageCode=C}setCustomParameters(C){return this.customParameters=C,this}getCustomParameters(){return this.customParameters}}class Ao extends Do{constructor(){super(...arguments),this.scopes=[]}addScope(C){return this.scopes.includes(C)||this.scopes.push(C),this}getScopes(){return[...this.scopes]}}class Oo extends Ao{static credentialFromJSON(C){const A="string"==typeof C?JSON.parse(C):C;return it("providerId"in A&&"signInMethod"in A,"argument-error"),Oi._fromParams(A)}credential(C){return this._credential(Object.assign(Object.assign({},C),{nonce:C.rawNonce}))}_credential(C){return it(C.idToken||C.accessToken,"argument-error"),Oi._fromParams(Object.assign(Object.assign({},C),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(C){return Oo.oauthCredentialFromTaggedObject(C)}static credentialFromError(C){return Oo.oauthCredentialFromTaggedObject(C.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:C}){if(!C)return null;const{oauthIdToken:A,oauthAccessToken:K,oauthTokenSecret:Ie,pendingToken:We,nonce:an,providerId:xn}=C;if(!K&&!Ie&&!A&&!We||!xn)return null;try{return new Oo(xn)._credential({idToken:A,accessToken:K,nonce:an,pendingToken:We})}catch{return null}}}let Es=(()=>{class U extends Ao{constructor(){super("facebook.com")}static credential(A){return Oi._fromParams({providerId:U.PROVIDER_ID,signInMethod:U.FACEBOOK_SIGN_IN_METHOD,accessToken:A})}static credentialFromResult(A){return U.credentialFromTaggedObject(A)}static credentialFromError(A){return U.credentialFromTaggedObject(A.customData||{})}static credentialFromTaggedObject({_tokenResponse:A}){if(!A||!("oauthAccessToken"in A)||!A.oauthAccessToken)return null;try{return U.credential(A.oauthAccessToken)}catch{return null}}}return U.FACEBOOK_SIGN_IN_METHOD="facebook.com",U.PROVIDER_ID="facebook.com",U})(),ko=(()=>{class U extends Ao{constructor(){super("google.com"),this.addScope("profile")}static credential(A,K){return Oi._fromParams({providerId:U.PROVIDER_ID,signInMethod:U.GOOGLE_SIGN_IN_METHOD,idToken:A,accessToken:K})}static credentialFromResult(A){return U.credentialFromTaggedObject(A)}static credentialFromError(A){return U.credentialFromTaggedObject(A.customData||{})}static credentialFromTaggedObject({_tokenResponse:A}){if(!A)return null;const{oauthIdToken:K,oauthAccessToken:Ie}=A;if(!K&&!Ie)return null;try{return U.credential(K,Ie)}catch{return null}}}return U.GOOGLE_SIGN_IN_METHOD="google.com",U.PROVIDER_ID="google.com",U})(),Ws=(()=>{class U extends Ao{constructor(){super("github.com")}static credential(A){return Oi._fromParams({providerId:U.PROVIDER_ID,signInMethod:U.GITHUB_SIGN_IN_METHOD,accessToken:A})}static credentialFromResult(A){return U.credentialFromTaggedObject(A)}static credentialFromError(A){return U.credentialFromTaggedObject(A.customData||{})}static credentialFromTaggedObject({_tokenResponse:A}){if(!A||!("oauthAccessToken"in A)||!A.oauthAccessToken)return null;try{return U.credential(A.oauthAccessToken)}catch{return null}}}return U.GITHUB_SIGN_IN_METHOD="github.com",U.PROVIDER_ID="github.com",U})();class qo extends re{constructor(C,A){super(C,C),this.pendingToken=A}_getIdTokenResponse(C){return Zr(C,this.buildRequest())}_linkToIdToken(C,A){const K=this.buildRequest();return K.idToken=A,Zr(C,K)}_getReauthenticationResolver(C){const A=this.buildRequest();return A.autoCreate=!1,Zr(C,A)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(C){const A="string"==typeof C?JSON.parse(C):C,{providerId:K,signInMethod:Ie,pendingToken:We}=A;return K&&Ie&&We&&K===Ie?new qo(K,We):null}static _create(C,A){return new qo(C,A)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class So extends Do{constructor(C){it(C.startsWith("saml."),"argument-error"),super(C)}static credentialFromResult(C){return So.samlCredentialFromTaggedObject(C)}static credentialFromError(C){return So.samlCredentialFromTaggedObject(C.customData||{})}static credentialFromJSON(C){const A=qo.fromJSON(C);return it(A,"argument-error"),A}static samlCredentialFromTaggedObject({_tokenResponse:C}){if(!C)return null;const{pendingToken:A,providerId:K}=C;if(!A||!K)return null;try{return qo._create(K,A)}catch{return null}}}let xo=(()=>{class U extends Ao{constructor(){super("twitter.com")}static credential(A,K){return Oi._fromParams({providerId:U.PROVIDER_ID,signInMethod:U.TWITTER_SIGN_IN_METHOD,oauthToken:A,oauthTokenSecret:K})}static credentialFromResult(A){return U.credentialFromTaggedObject(A)}static credentialFromError(A){return U.credentialFromTaggedObject(A.customData||{})}static credentialFromTaggedObject({_tokenResponse:A}){if(!A)return null;const{oauthAccessToken:K,oauthTokenSecret:Ie}=A;if(!K||!Ie)return null;try{return U.credential(K,Ie)}catch{return null}}}return U.TWITTER_SIGN_IN_METHOD="twitter.com",U.PROVIDER_ID="twitter.com",U})();function mo(U,C){return Zo.apply(this,arguments)}function Zo(){return(Zo=(0,d.Z)(function*(U,C){return wt(U,"POST","/v1/accounts:signUp",Pt(U,C))})).apply(this,arguments)}class Us{constructor(C){this.user=C.user,this.providerId=C.providerId,this._tokenResponse=C._tokenResponse,this.operationType=C.operationType}static _fromIdTokenResponse(C,A,K,Ie=!1){return(0,d.Z)(function*(){const We=yield Wt._fromIdTokenResponse(C,K,Ie),an=gi(K);return new Us({user:We,providerId:an,_tokenResponse:K,operationType:A})})()}static _forOperation(C,A,K){return(0,d.Z)(function*(){yield C._updateTokensIfNecessary(K,!0);const Ie=gi(K);return new Us({user:C,providerId:Ie,_tokenResponse:K,operationType:A})})()}}function gi(U){return U.providerId?U.providerId:"phoneNumber"in U?"phone":null}function No(U){return ds.apply(this,arguments)}function ds(){return(ds=(0,d.Z)(function*(U){var C;const A=zi(U);if(yield A._initializationPromise,null!==(C=A.currentUser)&&void 0!==C&&C.isAnonymous)return new Us({user:A.currentUser,providerId:null,operationType:"signIn"});const K=yield mo(A,{returnSecureToken:!0}),Ie=yield Us._fromIdTokenResponse(A,"signIn",K,!0);return yield A._updateCurrentUser(Ie.user),Ie})).apply(this,arguments)}class $o extends v.ZR{constructor(C,A,K,Ie){var We;super(A.code,A.message),this.operationType=K,this.user=Ie,Object.setPrototypeOf(this,$o.prototype),this.customData={appName:C.name,tenantId:null!==(We=C.tenantId)&&void 0!==We?We:void 0,_serverResponse:A.customData._serverResponse,operationType:K}}static _fromErrorAndOperation(C,A,K,Ie){return new $o(C,A,K,Ie)}}function ks(U,C,A,K){return("reauthenticate"===C?A._getReauthenticationResolver(U):A._getIdTokenResponse(U)).catch(We=>{throw"auth/multi-factor-auth-required"===We.code?$o._fromErrorAndOperation(U,We,C,K):We})}function Vo(U){return new Set(U.map(({providerId:C})=>C).filter(C=>!!C))}function oo(U,C){return k.apply(this,arguments)}function k(){return k=(0,d.Z)(function*(U,C){const A=(0,v.m9)(U);yield de(!0,A,C);const{providerUserInfo:K}=yield function Xn(U,C){return cn.apply(this,arguments)}(A.auth,{idToken:yield A.getIdToken(),deleteProvider:[C]}),Ie=Vo(K||[]);return A.providerData=A.providerData.filter(We=>Ie.has(We.providerId)),Ie.has("phone")||(A.phoneNumber=null),yield A.auth._persistUserIfCurrent(A),A}),k.apply(this,arguments)}function ue(U,C){return N.apply(this,arguments)}function N(){return(N=(0,d.Z)(function*(U,C,A=!1){const K=yield nr(U,C._linkToIdToken(U.auth,yield U.getIdToken()),A);return Us._forOperation(U,"link",K)})).apply(this,arguments)}function de(U,C,A){return Ze.apply(this,arguments)}function Ze(){return(Ze=(0,d.Z)(function*(U,C,A){yield ni(C);const Ie=!1===U?"provider-already-linked":"no-such-provider";it(Vo(C.providerData).has(A)===U,C.auth,Ie)})).apply(this,arguments)}function Sn(U,C){return xr.apply(this,arguments)}function xr(){return(xr=(0,d.Z)(function*(U,C,A=!1){const{auth:K}=U,Ie="reauthenticate";try{const We=yield nr(U,ks(K,Ie,C,U),A);it(We.idToken,K,"internal-error");const an=$r(We.idToken);it(an,K,"internal-error");const{sub:xn}=an;return it(U.uid===xn,K,"user-mismatch"),Us._forOperation(U,Ie,We)}catch(We){throw"auth/user-not-found"===(null==We?void 0:We.code)&&ht(K,"user-mismatch"),We}})).apply(this,arguments)}function Jr(U,C){return xi.apply(this,arguments)}function xi(){return(xi=(0,d.Z)(function*(U,C,A=!1){const K="signIn",Ie=yield ks(U,K,C),We=yield Us._fromIdTokenResponse(U,K,Ie);return A||(yield U._updateCurrentUser(We.user)),We})).apply(this,arguments)}function Si(U,C){return js.apply(this,arguments)}function js(){return(js=(0,d.Z)(function*(U,C){return Jr(zi(U),C)})).apply(this,arguments)}function ws(U,C){return eo.apply(this,arguments)}function eo(){return(eo=(0,d.Z)(function*(U,C){const A=(0,v.m9)(U);return yield de(!1,A,C.providerId),ue(A,C)})).apply(this,arguments)}function Fo(U,C){return be.apply(this,arguments)}function be(){return(be=(0,d.Z)(function*(U,C){return Sn((0,v.m9)(U),C)})).apply(this,arguments)}function $(){return($=(0,d.Z)(function*(U,C){return wt(U,"POST","/v1/accounts:signInWithCustomToken",Pt(U,C))})).apply(this,arguments)}function L(U,C){return D.apply(this,arguments)}function D(){return D=(0,d.Z)(function*(U,C){const A=zi(U),K=yield function ae(U,C){return $.apply(this,arguments)}(A,{token:C,returnSecureToken:!0}),Ie=yield Us._fromIdTokenResponse(A,"signIn",K);return yield A._updateCurrentUser(Ie.user),Ie}),D.apply(this,arguments)}class F{constructor(C,A){this.factorId=C,this.uid=A.mfaEnrollmentId,this.enrollmentTime=new Date(A.enrolledAt).toUTCString(),this.displayName=A.displayName}static _fromServerResponse(C,A){return"phoneInfo"in A?fe._fromServerResponse(C,A):"totpInfo"in A?dt._fromServerResponse(C,A):ht(C,"internal-error")}}class fe extends F{constructor(C){super("phone",C),this.phoneNumber=C.phoneInfo}static _fromServerResponse(C,A){return new fe(A)}}class dt extends F{constructor(C){super("totp",C)}static _fromServerResponse(C,A){return new dt(A)}}function Ot(U,C,A){var K;it((null===(K=A.url)||void 0===K?void 0:K.length)>0,U,"invalid-continue-uri"),it(typeof A.dynamicLinkDomain>"u"||A.dynamicLinkDomain.length>0,U,"invalid-dynamic-link-domain"),C.continueUrl=A.url,C.dynamicLinkDomain=A.dynamicLinkDomain,C.canHandleCodeInApp=A.handleCodeInApp,A.iOS&&(it(A.iOS.bundleId.length>0,U,"missing-ios-bundle-id"),C.iOSBundleId=A.iOS.bundleId),A.android&&(it(A.android.packageName.length>0,U,"missing-android-pkg-name"),C.androidInstallApp=A.android.installApp,C.androidMinimumVersionCode=A.android.minimumVersion,C.androidPackageName=A.android.packageName)}function Ht(U,C,A){return Pn.apply(this,arguments)}function Pn(){return Pn=(0,d.Z)(function*(U,C,A){var K;const Ie=zi(U),We={requestType:"PASSWORD_RESET",email:C,clientType:"CLIENT_TYPE_WEB"};if(null!==(K=Ie._getRecaptchaConfig())&&void 0!==K&&K.emailPasswordEnabled){const an=yield cs(Ie,We,"getOobCode",!0);A&&Ot(Ie,an,A),yield Li(Ie,an)}else A&&Ot(Ie,We,A),yield Li(Ie,We).catch(function(){var an=(0,d.Z)(function*(xn){if("auth/missing-recaptcha-token"!==xn.code)return Promise.reject(xn);{console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const dr=yield cs(Ie,We,"getOobCode",!0);A&&Ot(Ie,dr,A),yield Li(Ie,dr)}});return function(xn){return an.apply(this,arguments)}}())}),Pn.apply(this,arguments)}function zr(U,C,A){return ii.apply(this,arguments)}function ii(){return(ii=(0,d.Z)(function*(U,C,A){yield ye((0,v.m9)(U),{oobCode:C,newPassword:A})})).apply(this,arguments)}function Tr(U,C){return hi.apply(this,arguments)}function hi(){return hi=(0,d.Z)(function*(U,C){yield function tn(U,C){return Ln.apply(this,arguments)}((0,v.m9)(U),{oobCode:C})}),hi.apply(this,arguments)}function _i(U,C){return qi.apply(this,arguments)}function qi(){return(qi=(0,d.Z)(function*(U,C){const A=(0,v.m9)(U),K=yield ye(A,{oobCode:C}),Ie=K.requestType;switch(it(Ie,A,"internal-error"),Ie){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":it(K.newEmail,A,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":it(K.mfaInfo,A,"internal-error");default:it(K.email,A,"internal-error")}let We=null;return K.mfaInfo&&(We=F._fromServerResponse(zi(A),K.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===K.requestType?K.newEmail:K.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===K.requestType?K.email:K.newEmail)||null,multiFactorInfo:We},operation:Ie}})).apply(this,arguments)}function ao(U,C){return hs.apply(this,arguments)}function hs(){return(hs=(0,d.Z)(function*(U,C){const{data:A}=yield _i((0,v.m9)(U),C);return A.email})).apply(this,arguments)}function Ss(U,C,A){return Ti.apply(this,arguments)}function Ti(){return Ti=(0,d.Z)(function*(U,C,A){var K;const Ie=zi(U),We={returnSecureToken:!0,email:C,password:A,clientType:"CLIENT_TYPE_WEB"};let an;if(null!==(K=Ie._getRecaptchaConfig())&&void 0!==K&&K.emailPasswordEnabled){const ti=yield cs(Ie,We,"signUpPassword");an=mo(Ie,ti)}else an=mo(Ie,We).catch(function(){var ti=(0,d.Z)(function*(Mi){if("auth/missing-recaptcha-token"===Mi.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const _s=yield cs(Ie,We,"signUpPassword");return mo(Ie,_s)}return Promise.reject(Mi)});return function(Mi){return ti.apply(this,arguments)}}());const xn=yield an.catch(ti=>Promise.reject(ti)),dr=yield Us._fromIdTokenResponse(Ie,"signIn",xn);return yield Ie._updateCurrentUser(dr.user),dr}),Ti.apply(this,arguments)}function Ns(U,C,A){return Si((0,v.m9)(U),ss.credential(C,A))}function fo(U,C,A){return Xo.apply(this,arguments)}function Xo(){return Xo=(0,d.Z)(function*(U,C,A){var K;const Ie=zi(U),We={requestType:"EMAIL_SIGNIN",email:C,clientType:"CLIENT_TYPE_WEB"};function an(xn,dr){it(dr.handleCodeInApp,Ie,"argument-error"),dr&&Ot(Ie,xn,dr)}if(null!==(K=Ie._getRecaptchaConfig())&&void 0!==K&&K.emailPasswordEnabled){const xn=yield cs(Ie,We,"getOobCode",!0);an(xn,A),yield qr(Ie,xn)}else an(We,A),yield qr(Ie,We).catch(function(){var xn=(0,d.Z)(function*(dr){if("auth/missing-recaptcha-token"!==dr.code)return Promise.reject(dr);{console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const ti=yield cs(Ie,We,"getOobCode",!0);an(ti,A),yield qr(Ie,ti)}});return function(dr){return xn.apply(this,arguments)}}())}),Xo.apply(this,arguments)}function Lo(U,C){const A=so.parseLink(C);return"EMAIL_SIGNIN"===(null==A?void 0:A.operation)}function ya(U,C,A){return oa.apply(this,arguments)}function oa(){return(oa=(0,d.Z)(function*(U,C,A){const K=(0,v.m9)(U),Ie=ss.credentialWithLink(C,A||kt());return it(Ie._tenantId===(K.tenantId||null),K,"tenant-id-mismatch"),Si(K,Ie)})).apply(this,arguments)}function ja(){return(ja=(0,d.Z)(function*(U,C){return sn(U,"POST","/v1/accounts:createAuthUri",Pt(U,C))})).apply(this,arguments)}function Qo(U,C){return za.apply(this,arguments)}function za(){return za=(0,d.Z)(function*(U,C){const K={identifier:C,continueUri:Qt()?kt():"http://localhost"},{signinMethods:Ie}=yield function Na(U,C){return ja.apply(this,arguments)}((0,v.m9)(U),K);return Ie||[]}),za.apply(this,arguments)}function Ts(U,C){return gl.apply(this,arguments)}function gl(){return gl=(0,d.Z)(function*(U,C){const A=(0,v.m9)(U),Ie={requestType:"VERIFY_EMAIL",idToken:yield U.getIdToken()};C&&Ot(A.auth,Ie,C);const{email:We}=yield function Qi(U,C){return $s.apply(this,arguments)}(A.auth,Ie);We!==U.email&&(yield U.reload())}),gl.apply(this,arguments)}function Fa(U,C,A){return zo.apply(this,arguments)}function zo(){return zo=(0,d.Z)(function*(U,C,A){const K=(0,v.m9)(U),We={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield U.getIdToken(),newEmail:C};A&&Ot(K.auth,We,A);const{email:an}=yield function Rs(U,C){return Io.apply(this,arguments)}(K.auth,We);an!==U.email&&(yield U.reload())}),zo.apply(this,arguments)}function M(){return(M=(0,d.Z)(function*(U,C){return sn(U,"POST","/v1/accounts:update",C)})).apply(this,arguments)}function X(U,C){return le.apply(this,arguments)}function le(){return le=(0,d.Z)(function*(U,{displayName:C,photoURL:A}){if(void 0===C&&void 0===A)return;const K=(0,v.m9)(U),We={idToken:yield K.getIdToken(),displayName:C,photoUrl:A,returnSecureToken:!0},an=yield nr(K,function sl(U,C){return M.apply(this,arguments)}(K.auth,We));K.displayName=an.displayName||null,K.photoURL=an.photoUrl||null;const xn=K.providerData.find(({providerId:dr})=>"password"===dr);xn&&(xn.displayName=K.displayName,xn.photoURL=K.photoURL),yield K._updateTokensIfNecessary(an)}),le.apply(this,arguments)}function De(U,C){return lt((0,v.m9)(U),C,null)}function je(U,C){return lt((0,v.m9)(U),null,C)}function lt(U,C,A){return At.apply(this,arguments)}function At(){return(At=(0,d.Z)(function*(U,C,A){const{auth:K}=U,We={idToken:yield U.getIdToken(),returnSecureToken:!0};C&&(We.email=C),A&&(We.password=A);const an=yield nr(U,It(K,We));yield U._updateTokensIfNecessary(an,!0)})).apply(this,arguments)}class on{constructor(C,A,K={}){this.isNewUser=C,this.providerId=A,this.profile=K}}class Bn extends on{constructor(C,A,K,Ie){super(C,A,K),this.username=Ie}}class sr extends on{constructor(C,A){super(C,"facebook.com",A)}}class vi extends Bn{constructor(C,A){super(C,"github.com",A,"string"==typeof(null==A?void 0:A.login)?null==A?void 0:A.login:null)}}class wr extends on{constructor(C,A){super(C,"google.com",A)}}class Fs extends Bn{constructor(C,A,K){super(C,"twitter.com",A,K)}}function lo(U){const{user:C,_tokenResponse:A}=U;return C.isAnonymous&&!A?{providerId:null,isNewUser:!1,profile:null}:function Yt(U){var C,A;if(!U)return null;const{providerId:K}=U,Ie=U.rawUserInfo?JSON.parse(U.rawUserInfo):{},We=U.isNewUser||"identitytoolkit#SignupNewUserResponse"===U.kind;if(!K&&null!=U&&U.idToken){const an=null===(A=null===(C=$r(U.idToken))||void 0===C?void 0:C.firebase)||void 0===A?void 0:A.sign_in_provider;if(an)return new on(We,"anonymous"!==an&&"custom"!==an?an:null)}if(!K)return null;switch(K){case"facebook.com":return new sr(We,Ie);case"github.com":return new vi(We,Ie);case"google.com":return new wr(We,Ie);case"twitter.com":return new Fs(We,Ie,U.screenName||null);case"custom":case"anonymous":return new on(We,null);default:return new on(We,K,Ie)}}(A)}class wi{constructor(C,A,K){this.type=C,this.credential=A,this.auth=K}static _fromIdtoken(C,A){return new wi("enroll",C,A)}static _fromMfaPendingCredential(C){return new wi("signin",C)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(C){var A,K;if(null!=C&&C.multiFactorSession){if(null!==(A=C.multiFactorSession)&&void 0!==A&&A.pendingCredential)return wi._fromMfaPendingCredential(C.multiFactorSession.pendingCredential);if(null!==(K=C.multiFactorSession)&&void 0!==K&&K.idToken)return wi._fromIdtoken(C.multiFactorSession.idToken)}return null}}class Ni{constructor(C,A,K){this.session=C,this.hints=A,this.signInResolver=K}static _fromError(C,A){const K=zi(C),Ie=A.customData._serverResponse,We=(Ie.mfaInfo||[]).map(xn=>F._fromServerResponse(K,xn));it(Ie.mfaPendingCredential,K,"internal-error");const an=wi._fromMfaPendingCredential(Ie.mfaPendingCredential);return new Ni(an,We,function(){var xn=(0,d.Z)(function*(dr){const ti=yield dr._process(K,an);delete Ie.mfaInfo,delete Ie.mfaPendingCredential;const Mi=Object.assign(Object.assign({},Ie),{idToken:ti.idToken,refreshToken:ti.refreshToken});switch(A.operationType){case"signIn":const _s=yield Us._fromIdTokenResponse(K,A.operationType,Mi);return yield K._updateCurrentUser(_s.user),_s;case"reauthenticate":return it(A.user,K,"internal-error"),Us._forOperation(A.user,A.operationType,Mi);default:ht(K,"internal-error")}});return function(dr){return xn.apply(this,arguments)}}())}resolveSignIn(C){var A=this;return(0,d.Z)(function*(){return A.signInResolver(C)})()}}function fs(U,C){var A;const K=(0,v.m9)(U),Ie=C;return it(C.customData.operationType,K,"argument-error"),it(null===(A=Ie.customData._serverResponse)||void 0===A?void 0:A.mfaPendingCredential,K,"argument-error"),Ni._fromError(K,Ie)}class Ji{constructor(C){this.user=C,this.enrolledFactors=[],C._onReload(A=>{A.mfaInfo&&(this.enrolledFactors=A.mfaInfo.map(K=>F._fromServerResponse(C.auth,K)))})}static _fromUser(C){return new Ji(C)}getSession(){var C=this;return(0,d.Z)(function*(){return wi._fromIdtoken(yield C.user.getIdToken(),C.user.auth)})()}enroll(C,A){var K=this;return(0,d.Z)(function*(){const Ie=C,We=yield K.getSession(),an=yield nr(K.user,Ie._process(K.user.auth,We,A));return yield K.user._updateTokensIfNecessary(an),K.user.reload()})()}unenroll(C){var A=this;return(0,d.Z)(function*(){const K="string"==typeof C?C:C.uid,Ie=yield A.user.getIdToken();try{const We=yield nr(A.user,function Go(U,C){return sn(U,"POST","/v2/accounts/mfaEnrollment:withdraw",Pt(U,C))}(A.user.auth,{idToken:Ie,mfaEnrollmentId:K}));A.enrolledFactors=A.enrolledFactors.filter(({uid:an})=>an!==K),yield A.user._updateTokensIfNecessary(We),yield A.user.reload()}catch(We){throw We}})()}}const _r=new WeakMap;function Hr(U){const C=(0,v.m9)(U);return _r.has(C)||_r.set(C,Ji._fromUser(C)),_r.get(C)}const Kn="__sak";class Un{constructor(C,A){this.storageRetriever=C,this.type=A}_isAvailable(){try{return this.storage?(this.storage.setItem(Kn,"1"),this.storage.removeItem(Kn),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(C,A){return this.storage.setItem(C,JSON.stringify(A)),Promise.resolve()}_get(C){const A=this.storage.getItem(C);return Promise.resolve(A?JSON.parse(A):null)}_remove(C){return this.storage.removeItem(C),Promise.resolve()}get storage(){return this.storageRetriever()}}const Ha=(()=>{class U extends Un{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(A,K)=>this.onStorageEvent(A,K),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Dn(){const U=(0,v.z$)();return ee(U)||nn(U)}()&&function bn(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=un(),this._shouldAllowMigration=!0}forAllChangedKeys(A){for(const K of Object.keys(this.listeners)){const Ie=this.storage.getItem(K),We=this.localCache[K];Ie!==We&&A(K,We,Ie)}}onStorageEvent(A,K=!1){if(!A.key)return void this.forAllChangedKeys((xn,dr,ti)=>{this.notifyListeners(xn,ti)});const Ie=A.key;if(K?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const xn=this.storage.getItem(Ie);if(A.newValue!==xn)null!==A.newValue?this.storage.setItem(Ie,A.newValue):this.storage.removeItem(Ie);else if(this.localCache[Ie]===A.newValue&&!K)return}const We=()=>{const xn=this.storage.getItem(Ie);!K&&this.localCache[Ie]===xn||this.notifyListeners(Ie,xn)},an=this.storage.getItem(Ie);!function Gn(){return(0,v.w1)()&&10===document.documentMode}()||an===A.newValue||A.newValue===A.oldValue?We():setTimeout(We,10)}notifyListeners(A,K){this.localCache[A]=K;const Ie=this.listeners[A];if(Ie)for(const We of Array.from(Ie))We(K&&JSON.parse(K))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((A,K,Ie)=>{this.onStorageEvent(new StorageEvent("storage",{key:A,oldValue:K,newValue:Ie}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(A,K){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[A]||(this.listeners[A]=new Set,this.localCache[A]=this.storage.getItem(A)),this.listeners[A].add(K)}_removeListener(A,K){this.listeners[A]&&(this.listeners[A].delete(K),0===this.listeners[A].size&&delete this.listeners[A]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(A,K){var Ie=()=>super._set,We=this;return(0,d.Z)(function*(){yield Ie().call(We,A,K),We.localCache[A]=JSON.stringify(K)})()}_get(A){var K=()=>super._get,Ie=this;return(0,d.Z)(function*(){const We=yield K().call(Ie,A);return Ie.localCache[A]=JSON.stringify(We),We})()}_remove(A){var K=()=>super._remove,Ie=this;return(0,d.Z)(function*(){yield K().call(Ie,A),delete Ie.localCache[A]})()}}return U.type="LOCAL",U})(),Cl=(()=>{class U extends Un{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(A,K){}_removeListener(A,K){}}return U.type="SESSION",U})();let ua=(()=>{class U{constructor(A){this.eventTarget=A,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(A){const K=this.receivers.find(We=>We.isListeningto(A));if(K)return K;const Ie=new U(A);return this.receivers.push(Ie),Ie}isListeningto(A){return this.eventTarget===A}handleEvent(A){var K=this;return(0,d.Z)(function*(){const Ie=A,{eventId:We,eventType:an,data:xn}=Ie.data,dr=K.handlersMap[an];if(null==dr||!dr.size)return;Ie.ports[0].postMessage({status:"ack",eventId:We,eventType:an});const ti=Array.from(dr).map(function(){var _s=(0,d.Z)(function*(ll){return ll(Ie.origin,xn)});return function(ll){return _s.apply(this,arguments)}}()),Mi=yield function Dl(U){return Promise.all(U.map(function(){var C=(0,d.Z)(function*(A){try{return{fulfilled:!0,value:yield A}}catch(K){return{fulfilled:!1,reason:K}}});return function(A){return C.apply(this,arguments)}}()))}(ti);Ie.ports[0].postMessage({status:"done",eventId:We,eventType:an,response:Mi})})()}_subscribe(A,K){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[A]||(this.handlersMap[A]=new Set),this.handlersMap[A].add(K)}_unsubscribe(A,K){this.handlersMap[A]&&K&&this.handlersMap[A].delete(K),(!K||0===this.handlersMap[A].size)&&delete this.handlersMap[A],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return U.receivers=[],U})();function ml(U="",C=10){let A="";for(let K=0;K<C;K++)A+=Math.floor(10*Math.random());return U+A}class Bc{constructor(C){this.target=C,this.handlers=new Set}removeMessageHandler(C){C.messageChannel&&(C.messageChannel.port1.removeEventListener("message",C.onMessage),C.messageChannel.port1.close()),this.handlers.delete(C)}_send(C,A,K=50){var Ie=this;return(0,d.Z)(function*(){const We=typeof MessageChannel<"u"?new MessageChannel:null;if(!We)throw new Error("connection_unavailable");let an,xn;return new Promise((dr,ti)=>{const Mi=ml("",20);We.port1.start();const _s=setTimeout(()=>{ti(new Error("unsupported_event"))},K);xn={messageChannel:We,onMessage(ll){const _l=ll;if(_l.data.eventId===Mi)switch(_l.data.status){case"ack":clearTimeout(_s),an=setTimeout(()=>{ti(new Error("timeout"))},3e3);break;case"done":clearTimeout(an),dr(_l.data.response);break;default:clearTimeout(_s),clearTimeout(an),ti(new Error("invalid_response"))}}},Ie.handlers.add(xn),We.port1.addEventListener("message",xn.onMessage),Ie.target.postMessage({eventType:C,eventId:Mi,data:A},[We.port2])}).finally(()=>{xn&&Ie.removeMessageHandler(xn)})})()}}function Ls(){return window}function Ll(){return typeof Ls().WorkerGlobalScope<"u"&&"function"==typeof Ls().importScripts}function da(){return(da=(0,d.Z)(function*(){if(null==navigator||!navigator.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Ii="firebaseLocalStorageDb",os="firebaseLocalStorage",ol="fbase_key";class ps{constructor(C){this.request=C}toPromise(){return new Promise((C,A)=>{this.request.addEventListener("success",()=>{C(this.request.result)}),this.request.addEventListener("error",()=>{A(this.request.error)})})}}function yr(U,C){return U.transaction([os],C?"readwrite":"readonly").objectStore(os)}function Da(){const U=indexedDB.open(Ii,1);return new Promise((C,A)=>{U.addEventListener("error",()=>{A(U.error)}),U.addEventListener("upgradeneeded",()=>{const K=U.result;try{K.createObjectStore(os,{keyPath:ol})}catch(Ie){A(Ie)}}),U.addEventListener("success",(0,d.Z)(function*(){const K=U.result;K.objectStoreNames.contains(os)?C(K):(K.close(),yield function yl(){const U=indexedDB.deleteDatabase(Ii);return new ps(U).toPromise()}(),C(yield Da()))}))})}function Sa(U,C,A){return Bl.apply(this,arguments)}function Bl(){return(Bl=(0,d.Z)(function*(U,C,A){const K=yr(U,!0).put({[ol]:C,value:A});return new ps(K).toPromise()})).apply(this,arguments)}function Jt(){return(Jt=(0,d.Z)(function*(U,C){const A=yr(U,!1).get(C),K=yield new ps(A).toPromise();return void 0===K?null:K.value})).apply(this,arguments)}function en(U,C){const A=yr(U,!0).delete(C);return new ps(A).toPromise()}const es=(()=>{class U{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var A=this;return(0,d.Z)(function*(){return A.db||(A.db=yield Da()),A.db})()}_withRetries(A){var K=this;return(0,d.Z)(function*(){let Ie=0;for(;;)try{const We=yield K._openDb();return yield A(We)}catch(We){if(Ie++>3)throw We;K.db&&(K.db.close(),K.db=void 0)}})()}initializeServiceWorkerMessaging(){var A=this;return(0,d.Z)(function*(){return Ll()?A.initializeReceiver():A.initializeSender()})()}initializeReceiver(){var A=this;return(0,d.Z)(function*(){A.receiver=ua._getInstance(function yo(){return Ll()?self:null}()),A.receiver._subscribe("keyChanged",function(){var K=(0,d.Z)(function*(Ie,We){return{keyProcessed:(yield A._poll()).includes(We.key)}});return function(Ie,We){return K.apply(this,arguments)}}()),A.receiver._subscribe("ping",function(){var K=(0,d.Z)(function*(Ie,We){return["keyChanged"]});return function(Ie,We){return K.apply(this,arguments)}}())})()}initializeSender(){var A=this;return(0,d.Z)(function*(){var K,Ie;if(A.activeServiceWorker=yield function Ui(){return da.apply(this,arguments)}(),!A.activeServiceWorker)return;A.sender=new Bc(A.activeServiceWorker);const We=yield A.sender._send("ping",{},800);We&&null!==(K=We[0])&&void 0!==K&&K.fulfilled&&null!==(Ie=We[0])&&void 0!==Ie&&Ie.value.includes("keyChanged")&&(A.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(A){var K=this;return(0,d.Z)(function*(){if(K.sender&&K.activeServiceWorker&&function Cc(){var U;return(null===(U=null==navigator?void 0:navigator.serviceWorker)||void 0===U?void 0:U.controller)||null}()===K.activeServiceWorker)try{yield K.sender._send("keyChanged",{key:A},K.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,d.Z)(function*(){try{if(!indexedDB)return!1;const A=yield Da();return yield Sa(A,Kn,"1"),yield en(A,Kn),!0}catch{}return!1})()}_withPendingWrite(A){var K=this;return(0,d.Z)(function*(){K.pendingWrites++;try{yield A()}finally{K.pendingWrites--}})()}_set(A,K){var Ie=this;return(0,d.Z)(function*(){return Ie._withPendingWrite((0,d.Z)(function*(){return yield Ie._withRetries(We=>Sa(We,A,K)),Ie.localCache[A]=K,Ie.notifyServiceWorker(A)}))})()}_get(A){var K=this;return(0,d.Z)(function*(){const Ie=yield K._withRetries(We=>function nt(U,C){return Jt.apply(this,arguments)}(We,A));return K.localCache[A]=Ie,Ie})()}_remove(A){var K=this;return(0,d.Z)(function*(){return K._withPendingWrite((0,d.Z)(function*(){return yield K._withRetries(Ie=>en(Ie,A)),delete K.localCache[A],K.notifyServiceWorker(A)}))})()}_poll(){var A=this;return(0,d.Z)(function*(){const K=yield A._withRetries(an=>{const xn=yr(an,!1).getAll();return new ps(xn).toPromise()});if(!K)return[];if(0!==A.pendingWrites)return[];const Ie=[],We=new Set;for(const{fbase_key:an,value:xn}of K)We.add(an),JSON.stringify(A.localCache[an])!==JSON.stringify(xn)&&(A.notifyListeners(an,xn),Ie.push(an));for(const an of Object.keys(A.localCache))A.localCache[an]&&!We.has(an)&&(A.notifyListeners(an,null),Ie.push(an));return Ie})()}notifyListeners(A,K){this.localCache[A]=K;const Ie=this.listeners[A];if(Ie)for(const We of Array.from(Ie))We(K)}startPolling(){var A=this;this.stopPolling(),this.pollTimer=setInterval((0,d.Z)(function*(){return A._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(A,K){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[A]||(this.listeners[A]=new Set,this._get(A)),this.listeners[A].add(K)}_removeListener(A,K){this.listeners[A]&&(this.listeners[A].delete(K),0===this.listeners[A].size&&delete this.listeners[A]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return U.type="LOCAL",U})(),Pa=1e12;class ha{constructor(C){this.auth=C,this.counter=Pa,this._widgets=new Map}render(C,A){const K=this.counter;return this._widgets.set(K,new hc(C,this.auth.name,A||{})),this.counter++,K}reset(C){var A;const K=C||Pa;null===(A=this._widgets.get(K))||void 0===A||A.delete(),this._widgets.delete(K)}getResponse(C){var A;return(null===(A=this._widgets.get(C||Pa))||void 0===A?void 0:A.getResponse())||""}execute(C){var A=this;return(0,d.Z)(function*(){var K;return null===(K=A._widgets.get(C||Pa))||void 0===K||K.execute(),""})()}}class hc{constructor(C,A,K){this.params=K,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const Ie="string"==typeof C?document.getElementById(C):C;it(Ie,"argument-error",{appName:A}),this.container=Ie,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function $l(U){const C=[],A="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let K=0;K<U;K++)C.push(A.charAt(Math.floor(62*Math.random())));return C.join("")}(50);const{callback:C,"expired-callback":A}=this.params;if(C)try{C(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,A)try{A()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const ea=jr("rcb"),fc=new _t(3e4,6e4);class V{constructor(){var C;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(C=Ls().grecaptcha)||void 0===C||!C.render)}load(C,A=""){return it(function G(U){return U.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(U)}(A),C,"argument-error"),this.shouldResolveImmediately(A)&&gr(Ls().grecaptcha)?Promise.resolve(Ls().grecaptcha):new Promise((K,Ie)=>{const We=Ls().setTimeout(()=>{Ie(Ct(C,"network-request-failed"))},fc.get());Ls()[ea]=()=>{Ls().clearTimeout(We),delete Ls()[ea];const xn=Ls().grecaptcha;if(!xn||!gr(xn))return void Ie(Ct(C,"internal-error"));const dr=xn.render;xn.render=(ti,Mi)=>{const _s=dr(ti,Mi);return this.counter++,_s},this.hostLanguage=A,K(xn)},Yr(`https://www.google.com/recaptcha/api.js??${(0,v.xO)({onload:ea,render:"explicit",hl:A})}`).catch(()=>{clearTimeout(We),Ie(Ct(C,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(C){var A;return!(null===(A=Ls().grecaptcha)||void 0===A||!A.render)&&(C===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class O{load(C){return(0,d.Z)(function*(){return new ha(C)})()}clearedOneInstance(){}}const Z="recaptcha",ge={theme:"light",type:"image"};class et{constructor(C,A=Object.assign({},ge),K){this.parameters=A,this.type=Z,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=zi(K),this.isInvisible="invisible"===this.parameters.size,it(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const Ie="string"==typeof C?document.getElementById(C):C;it(Ie,this.auth,"argument-error"),this.container=Ie,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new O:new V,this.validateStartingState()}verify(){var C=this;return(0,d.Z)(function*(){C.assertNotDestroyed();const A=yield C.render(),K=C.getAssertedRecaptcha();return K.getResponse(A)||new Promise(We=>{const an=xn=>{xn&&(C.tokenChangeListeners.delete(an),We(xn))};C.tokenChangeListeners.add(an),C.isInvisible&&K.execute(A)})})()}render(){try{this.assertNotDestroyed()}catch(C){return Promise.reject(C)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(C=>{throw this.renderPromise=null,C})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(C=>{this.container.removeChild(C)})}validateStartingState(){it(!this.parameters.sitekey,this.auth,"argument-error"),it(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),it(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(C){return A=>{if(this.tokenChangeListeners.forEach(K=>K(A)),"function"==typeof C)C(A);else if("string"==typeof C){const K=Ls()[C];"function"==typeof K&&K(A)}}}assertNotDestroyed(){it(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var C=this;return(0,d.Z)(function*(){if(yield C.init(),!C.widgetId){let A=C.container;if(!C.isInvisible){const K=document.createElement("div");A.appendChild(K),A=K}C.widgetId=C.getAssertedRecaptcha().render(A,C.parameters)}return C.widgetId})()}init(){var C=this;return(0,d.Z)(function*(){it(Qt()&&!Ll(),C.auth,"internal-error"),yield function ze(){let U=null;return new Promise(C=>{"complete"!==document.readyState?(U=()=>C(),window.addEventListener("load",U)):C()}).catch(C=>{throw U&&window.removeEventListener("load",U),C})}(),C.recaptcha=yield C._recaptchaLoader.load(C.auth,C.auth.languageCode||void 0);const A=yield function Ft(U){return Kt.apply(this,arguments)}(C.auth);it(A,C.auth,"internal-error"),C.parameters.sitekey=A})()}getAssertedRecaptcha(){return it(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Zt{constructor(C,A){this.verificationId=C,this.onConfirmation=A}confirm(C){const A=Ai._fromVerification(this.verificationId,C);return this.onConfirmation(A)}}function Mn(U,C,A){return kr.apply(this,arguments)}function kr(){return(kr=(0,d.Z)(function*(U,C,A){const K=zi(U),Ie=yield y(K,C,(0,v.m9)(A));return new Zt(Ie,We=>Si(K,We))})).apply(this,arguments)}function ki(U,C,A){return si.apply(this,arguments)}function si(){return(si=(0,d.Z)(function*(U,C,A){const K=(0,v.m9)(U);yield de(!1,K,"phone");const Ie=yield y(K.auth,C,(0,v.m9)(A));return new Zt(Ie,We=>ws(K,We))})).apply(this,arguments)}function vo(U,C,A){return I.apply(this,arguments)}function I(){return(I=(0,d.Z)(function*(U,C,A){const K=(0,v.m9)(U),Ie=yield y(K.auth,C,(0,v.m9)(A));return new Zt(Ie,We=>Fo(K,We))})).apply(this,arguments)}function y(U,C,A){return h.apply(this,arguments)}function h(){return h=(0,d.Z)(function*(U,C,A){var K;const Ie=yield A.verify();try{let We;if(it("string"==typeof Ie,U,"argument-error"),it(A.type===Z,U,"argument-error"),We="string"==typeof C?{phoneNumber:C}:C,"session"in We){const an=We.session;if("phoneNumber"in We)return it("enroll"===an.type,U,"internal-error"),(yield function As(U,C){return sn(U,"POST","/v2/accounts/mfaEnrollment:start",Pt(U,C))}(U,{idToken:an.credential,phoneEnrollmentInfo:{phoneNumber:We.phoneNumber,recaptchaToken:Ie}})).phoneSessionInfo.sessionInfo;{it("signin"===an.type,U,"internal-error");const xn=(null===(K=We.multiFactorHint)||void 0===K?void 0:K.uid)||We.multiFactorUid;return it(xn,U,"missing-multi-factor-info"),(yield function is(U,C){return sn(U,"POST","/v2/accounts/mfaSignIn:start",Pt(U,C))}(U,{mfaPendingCredential:an.credential,mfaEnrollmentId:xn,phoneSignInInfo:{recaptchaToken:Ie}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:an}=yield function Vr(U,C){return Di.apply(this,arguments)}(U,{phoneNumber:We.phoneNumber,recaptchaToken:Ie});return an}}finally{A._reset()}}),h.apply(this,arguments)}function m(U,C){return b.apply(this,arguments)}function b(){return(b=(0,d.Z)(function*(U,C){yield ue((0,v.m9)(U),C)})).apply(this,arguments)}let T=(()=>{class U{constructor(A){this.providerId=U.PROVIDER_ID,this.auth=zi(A)}verifyPhoneNumber(A,K){return y(this.auth,A,(0,v.m9)(K))}static credential(A,K){return Ai._fromVerification(A,K)}static credentialFromResult(A){return U.credentialFromTaggedObject(A)}static credentialFromError(A){return U.credentialFromTaggedObject(A.customData||{})}static credentialFromTaggedObject({_tokenResponse:A}){if(!A)return null;const{phoneNumber:K,temporaryProof:Ie}=A;return K&&Ie?Ai._fromTokenResponse(K,Ie):null}}return U.PROVIDER_ID="phone",U.PHONE_SIGN_IN_METHOD="phone",U})();function x(U,C){return C?Wn(C):(it(U._popupRedirectResolver,U,"argument-error"),U._popupRedirectResolver)}class B extends re{constructor(C){super("custom","custom"),this.params=C}_getIdTokenResponse(C){return Zr(C,this._buildIdpRequest())}_linkToIdToken(C,A){return Zr(C,this._buildIdpRequest(A))}_getReauthenticationResolver(C){return Zr(C,this._buildIdpRequest())}_buildIdpRequest(C){const A={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return C&&(A.idToken=C),A}}function W(U){return Jr(U.auth,new B(U),U.bypassAuthState)}function ne(U){const{auth:C,user:A}=U;return it(A,C,"internal-error"),Sn(A,new B(U),U.bypassAuthState)}function Ce(U){return Ue.apply(this,arguments)}function Ue(){return(Ue=(0,d.Z)(function*(U){const{auth:C,user:A}=U;return it(A,C,"internal-error"),ue(A,new B(U),U.bypassAuthState)})).apply(this,arguments)}class pt{constructor(C,A,K,Ie,We=!1){this.auth=C,this.resolver=K,this.user=Ie,this.bypassAuthState=We,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(A)?A:[A]}execute(){var C=this;return new Promise(function(){var A=(0,d.Z)(function*(K,Ie){C.pendingPromise={resolve:K,reject:Ie};try{C.eventManager=yield C.resolver._initialize(C.auth),yield C.onExecution(),C.eventManager.registerConsumer(C)}catch(We){C.reject(We)}});return function(K,Ie){return A.apply(this,arguments)}}())}onAuthEvent(C){var A=this;return(0,d.Z)(function*(){const{urlResponse:K,sessionId:Ie,postBody:We,tenantId:an,error:xn,type:dr}=C;if(xn)return void A.reject(xn);const ti={auth:A.auth,requestUri:K,sessionId:Ie,tenantId:an||void 0,postBody:We||void 0,user:A.user,bypassAuthState:A.bypassAuthState};try{A.resolve(yield A.getIdpTask(dr)(ti))}catch(Mi){A.reject(Mi)}})()}onError(C){this.reject(C)}getIdpTask(C){switch(C){case"signInViaPopup":case"signInViaRedirect":return W;case"linkViaPopup":case"linkViaRedirect":return Ce;case"reauthViaPopup":case"reauthViaRedirect":return ne;default:ht(this.auth,"internal-error")}}resolve(C){St(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(C),this.unregisterAndCleanUp()}reject(C){St(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(C),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Et=new _t(2e3,1e4);function qt(U,C,A){return dn.apply(this,arguments)}function dn(){return(dn=(0,d.Z)(function*(U,C,A){const K=zi(U);Dt(U,C,Do);const Ie=x(K,A);return new vr(K,"signInViaPopup",C,Ie).executeNotNull()})).apply(this,arguments)}function Cn(U,C,A){return Yn.apply(this,arguments)}function Yn(){return(Yn=(0,d.Z)(function*(U,C,A){const K=(0,v.m9)(U);Dt(K.auth,C,Do);const Ie=x(K.auth,A);return new vr(K.auth,"reauthViaPopup",C,Ie,K).executeNotNull()})).apply(this,arguments)}function Fn(U,C,A){return cr.apply(this,arguments)}function cr(){return(cr=(0,d.Z)(function*(U,C,A){const K=(0,v.m9)(U);Dt(K.auth,C,Do);const Ie=x(K.auth,A);return new vr(K.auth,"linkViaPopup",C,Ie,K).executeNotNull()})).apply(this,arguments)}let vr=(()=>{class U extends pt{constructor(A,K,Ie,We,an){super(A,K,We,an),this.provider=Ie,this.authWindow=null,this.pollId=null,U.currentPopupAction&&U.currentPopupAction.cancel(),U.currentPopupAction=this}executeNotNull(){var A=this;return(0,d.Z)(function*(){const K=yield A.execute();return it(K,A.auth,"internal-error"),K})()}onExecution(){var A=this;return(0,d.Z)(function*(){St(1===A.filter.length,"Popup operations only handle one event");const K=ml();A.authWindow=yield A.resolver._openPopup(A.auth,A.provider,A.filter[0],K),A.authWindow.associatedEvent=K,A.resolver._originValidation(A.auth).catch(Ie=>{A.reject(Ie)}),A.resolver._isIframeWebStorageSupported(A.auth,Ie=>{Ie||A.reject(Ct(A.auth,"web-storage-unsupported"))}),A.pollUserCancellation()})()}get eventId(){var A;return(null===(A=this.authWindow)||void 0===A?void 0:A.associatedEvent)||null}cancel(){this.reject(Ct(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,U.currentPopupAction=null}pollUserCancellation(){const A=()=>{var K,Ie;this.pollId=null!==(Ie=null===(K=this.authWindow)||void 0===K?void 0:K.window)&&void 0!==Ie&&Ie.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Ct(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(A,Et.get())};A()}}return U.currentPopupAction=null,U})();const Jn="pendingRedirect",or=new Map;class Mr extends pt{constructor(C,A,K=!1){super(C,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],A,void 0,K),this.eventId=null}execute(){var C=()=>super.execute,A=this;return(0,d.Z)(function*(){let K=or.get(A.auth._key());if(!K){try{const We=(yield function Br(U,C){return Ci.apply(this,arguments)}(A.resolver,A.auth))?yield C().call(A):null;K=()=>Promise.resolve(We)}catch(Ie){K=()=>Promise.reject(Ie)}or.set(A.auth._key(),K)}return A.bypassAuthState||or.set(A.auth._key(),()=>Promise.resolve(null)),K()})()}onAuthEvent(C){var A=()=>super.onAuthEvent,K=this;return(0,d.Z)(function*(){if("signInViaRedirect"===C.type)return A().call(K,C);if("unknown"!==C.type){if(C.eventId){const Ie=yield K.auth._redirectUserForId(C.eventId);if(Ie)return K.user=Ie,A().call(K,C);K.resolve(null)}}else K.resolve(null)})()}onExecution(){return(0,d.Z)(function*(){})()}cleanUp(){}}function Ci(){return(Ci=(0,d.Z)(function*(U,C){const A=Qs(C),K=gs(U);if(!(yield K._isAvailable()))return!1;const Ie="true"===(yield K._get(A));return yield K._remove(A),Ie})).apply(this,arguments)}function Zi(U,C){return Xr.apply(this,arguments)}function Xr(){return(Xr=(0,d.Z)(function*(U,C){return gs(U)._set(Qs(C),"true")})).apply(this,arguments)}function xs(){or.clear()}function zs(U,C){or.set(U._key(),C)}function gs(U){return Wn(U._redirectPersistence)}function Qs(U){return Rr(Jn,U.config.apiKey,U.name)}function to(U,C,A){return function Gs(U,C,A){return Ta.apply(this,arguments)}(U,C,A)}function Ta(){return(Ta=(0,d.Z)(function*(U,C,A){const K=zi(U);Dt(U,C,Do),yield K._initializationPromise;const Ie=x(K,A);return yield Zi(Ie,K),Ie._openRedirect(K,C,"signInViaRedirect")})).apply(this,arguments)}function Aa(U,C,A){return function Mo(U,C,A){return vl.apply(this,arguments)}(U,C,A)}function vl(){return(vl=(0,d.Z)(function*(U,C,A){const K=(0,v.m9)(U);Dt(K.auth,C,Do),yield K.auth._initializationPromise;const Ie=x(K.auth,A);yield Zi(Ie,K.auth);const We=yield pc(K);return Ie._openRedirect(K.auth,C,"reauthViaRedirect",We)})).apply(this,arguments)}function fa(U,C,A){return function co(U,C,A){return ia.apply(this,arguments)}(U,C,A)}function ia(){return(ia=(0,d.Z)(function*(U,C,A){const K=(0,v.m9)(U);Dt(K.auth,C,Do),yield K.auth._initializationPromise;const Ie=x(K.auth,A);yield de(!1,K,C.providerId),yield Zi(Ie,K.auth);const We=yield pc(K);return Ie._openRedirect(K.auth,C,"linkViaRedirect",We)})).apply(this,arguments)}function Vl(U,C){return Ra.apply(this,arguments)}function Ra(){return(Ra=(0,d.Z)(function*(U,C){return yield zi(U)._initializationPromise,Sl(U,C,!1)})).apply(this,arguments)}function Sl(U,C){return Af.apply(this,arguments)}function Af(){return(Af=(0,d.Z)(function*(U,C,A=!1){const K=zi(U),Ie=x(K,C),an=yield new Mr(K,Ie,A).execute();return an&&!A&&(delete an.user._redirectEventId,yield K._persistUserIfCurrent(an.user),yield K._setRedirectUser(null,C)),an})).apply(this,arguments)}function pc(U){return Ul.apply(this,arguments)}function Ul(){return(Ul=(0,d.Z)(function*(U){const C=ml(`${U.uid}:::`);return U._redirectEventId=C,yield U.auth._setRedirectUser(U),yield U.auth._persistUserIfCurrent(U),C})).apply(this,arguments)}class Dc{constructor(C){this.auth=C,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(C){this.consumers.add(C),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,C)&&(this.sendToConsumer(this.queuedRedirectEvent,C),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(C){this.consumers.delete(C)}onEvent(C){if(this.hasEventBeenHandled(C))return!1;let A=!1;return this.consumers.forEach(K=>{this.isEventForConsumer(C,K)&&(A=!0,this.sendToConsumer(C,K),this.saveEventToCache(C))}),this.hasHandledPotentialRedirect||!function $c(U){switch(U.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return zu(U);default:return!1}}(C)||(this.hasHandledPotentialRedirect=!0,A||(this.queuedRedirectEvent=C,A=!0)),A}sendToConsumer(C,A){var K;if(C.error&&!zu(C)){const Ie=(null===(K=C.error.code)||void 0===K?void 0:K.split("auth/")[1])||"internal-error";A.onError(Ct(this.auth,Ie))}else A.onAuthEvent(C)}isEventForConsumer(C,A){const K=null===A.eventId||!!C.eventId&&C.eventId===A.eventId;return A.filter.includes(C.type)&&K}hasEventBeenHandled(C){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(jl(C))}saveEventToCache(C){this.cachedEventUids.add(jl(C)),this.lastProcessedEventTime=Date.now()}}function jl(U){return[U.type,U.eventId,U.sessionId,U.tenantId].filter(C=>C).join("-")}function zu({type:U,error:C}){return"unknown"===U&&"auth/no-auth-event"===(null==C?void 0:C.code)}function Sc(U){return gc.apply(this,arguments)}function gc(){return(gc=(0,d.Z)(function*(U,C={}){return sn(U,"GET","/v1/projects",C)})).apply(this,arguments)}const yd=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,sa=/^https?/;function el(){return(el=(0,d.Z)(function*(U){if(U.config.emulator)return;const{authorizedDomains:C}=yield Sc(U);for(const A of C)try{if(Vc(A))return}catch{}ht(U,"unauthorized-domain")})).apply(this,arguments)}function Vc(U){const C=kt(),{protocol:A,hostname:K}=new URL(C);if(U.startsWith("chrome-extension://")){const an=new URL(U);return""===an.hostname&&""===K?"chrome-extension:"===A&&U.replace("chrome-extension://","")===C.replace("chrome-extension://",""):"chrome-extension:"===A&&an.hostname===K}if(!sa.test(A))return!1;if(yd.test(U))return K===U;const Ie=U.replace(/\./g,"\\.");return new RegExp("^(.+\\."+Ie+"|"+Ie+")$","i").test(K)}const al=new _t(3e4,6e4);function Uc(){const U=Ls().___jsl;if(null!=U&&U.H)for(const C of Object.keys(U.H))if(U.H[C].r=U.H[C].r||[],U.H[C].L=U.H[C].L||[],U.H[C].r=[...U.H[C].L],U.CP)for(let A=0;A<U.CP.length;A++)U.CP[A]=null}let Tl=null;const Hu=new _t(5e3,15e3),xf="__/auth/iframe",Mf="emulator/auth/iframe",Kp={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Uo=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function cu(U){const C=U.config;it(C.authDomain,U,"auth-domain-config-required");const A=C.emulator?tt(C,Mf):`https://${U.config.authDomain}/${xf}`,K={apiKey:C.apiKey,appName:U.name,v:ve.SDK_VERSION},Ie=Uo.get(U.config.apiHost);Ie&&(K.eid=Ie);const We=U._getFrameworks();return We.length&&(K.fw=We.join(",")),`${A}?${(0,v.xO)(K).slice(1)}`}function ec(){return ec=(0,d.Z)(function*(U){const C=yield function lu(U){return Tl=Tl||function Tc(U){return new Promise((C,A)=>{var K,Ie,We;function an(){Uc(),gapi.load("gapi.iframes",{callback:()=>{C(gapi.iframes.getContext())},ontimeout:()=>{Uc(),A(Ct(U,"network-request-failed"))},timeout:al.get()})}if(null!==(Ie=null===(K=Ls().gapi)||void 0===K?void 0:K.iframes)&&void 0!==Ie&&Ie.Iframe)C(gapi.iframes.getContext());else{if(null===(We=Ls().gapi)||void 0===We||!We.load){const xn=jr("iframefcb");return Ls()[xn]=()=>{gapi.load?an():A(Ct(U,"network-request-failed"))},Yr(`https://apis.google.com/js/api.js?onload=${xn}`).catch(dr=>A(dr))}an()}}).catch(C=>{throw Tl=null,C})}(U),Tl}(U),A=Ls().gapi;return it(A,U,"internal-error"),C.open({where:document.body,url:cu(U),messageHandlersFilter:A.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Kp,dontclear:!0},K=>new Promise(function(){var Ie=(0,d.Z)(function*(We,an){yield K.restyle({setHideOnLeave:!1});const xn=Ct(U,"network-request-failed"),dr=Ls().setTimeout(()=>{an(xn)},Hu.get());function ti(){Ls().clearTimeout(dr),We(K)}K.ping(ti).then(ti,()=>{an(xn)})});return function(We,an){return Ie.apply(this,arguments)}}()))}),ec.apply(this,arguments)}const fh={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Ks{constructor(C){this.window=C,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const tc="__/auth/handler",ph="emulator/auth/handler",Ga=encodeURIComponent("fac");function du(U,C,A,K,Ie,We){return jc.apply(this,arguments)}function jc(){return(jc=(0,d.Z)(function*(U,C,A,K,Ie,We){it(U.config.authDomain,U,"auth-domain-config-required"),it(U.config.apiKey,U,"invalid-api-key");const an={apiKey:U.config.apiKey,appName:U.name,authType:A,redirectUrl:K,v:ve.SDK_VERSION,eventId:Ie};if(C instanceof Do){C.setDefaultLanguage(U.languageCode),an.providerId=C.providerId||"",(0,v.xb)(C.getCustomParameters())||(an.customParameters=JSON.stringify(C.getCustomParameters()));for(const[Mi,_s]of Object.entries(We||{}))an[Mi]=_s}if(C instanceof Ao){const Mi=C.getScopes().filter(_s=>""!==_s);Mi.length>0&&(an.scopes=Mi.join(","))}U.tenantId&&(an.tid=U.tenantId);const xn=an;for(const Mi of Object.keys(xn))void 0===xn[Mi]&&delete xn[Mi];const dr=yield U._getAppCheckToken(),ti=dr?`#${Ga}=${encodeURIComponent(dr)}`:"";return`${function Gu({config:U}){return U.emulator?tt(U,ph):`https://${U.authDomain}/${tc}`}(U)}?${(0,v.xO)(xn).slice(1)}${ti}`})).apply(this,arguments)}const hu="webStorageSupport",fu=class nl{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Cl,this._completeRedirectFn=Sl,this._overrideRedirectResult=zs}_openPopup(C,A,K,Ie){var We=this;return(0,d.Z)(function*(){var an;St(null===(an=We.eventManagers[C._key()])||void 0===an?void 0:an.manager,"_initialize() not called before _openPopup()");const xn=yield du(C,A,K,kt(),Ie);return function Po(U,C,A,K=500,Ie=600){const We=Math.max((window.screen.availHeight-Ie)/2,0).toString(),an=Math.max((window.screen.availWidth-K)/2,0).toString();let xn="";const dr=Object.assign(Object.assign({},fh),{width:K.toString(),height:Ie.toString(),top:We,left:an}),ti=(0,v.z$)().toLowerCase();A&&(xn=oe(ti)?"_blank":A),se(ti)&&(C=C||"http://localhost",dr.scrollbars="yes");const Mi=Object.entries(dr).reduce((ll,[_l,_d])=>`${ll}${_l}=${_d},`,"");if(function wn(U=(0,v.z$)()){var C;return nn(U)&&!(null===(C=window.navigator)||void 0===C||!C.standalone)}(ti)&&"_self"!==xn)return function Al(U,C){const A=document.createElement("a");A.href=U,A.target=C;const K=document.createEvent("MouseEvent");K.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),A.dispatchEvent(K)}(C||"",xn),new Ks(null);const _s=window.open(C||"",xn,Mi);it(_s,U,"popup-blocked");try{_s.focus()}catch{}return new Ks(_s)}(C,xn,ml())})()}_openRedirect(C,A,K,Ie){var We=this;return(0,d.Z)(function*(){return yield We._originValidation(C),function aa(U){Ls().location.href=U}(yield du(C,A,K,kt(),Ie)),new Promise(()=>{})})()}_initialize(C){const A=C._key();if(this.eventManagers[A]){const{manager:Ie,promise:We}=this.eventManagers[A];return Ie?Promise.resolve(Ie):(St(We,"If manager is not set, promise should be"),We)}const K=this.initAndGetManager(C);return this.eventManagers[A]={promise:K},K.catch(()=>{delete this.eventManagers[A]}),K}initAndGetManager(C){var A=this;return(0,d.Z)(function*(){const K=yield function _o(U){return ec.apply(this,arguments)}(C),Ie=new Dc(C);return K.register("authEvent",We=>(it(null==We?void 0:We.authEvent,C,"invalid-auth-event"),{status:Ie.onEvent(We.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),A.eventManagers[C._key()]={manager:Ie},A.iframes[C._key()]=K,Ie})()}_isIframeWebStorageSupported(C,A){this.iframes[C._key()].send(hu,{type:hu},Ie=>{var We;const an=null===(We=null==Ie?void 0:Ie[0])||void 0===We?void 0:We[hu];void 0!==an&&A(!!an),ht(C,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(C){const A=C._key();return this.originValidationPromises[A]||(this.originValidationPromises[A]=function Jl(U){return el.apply(this,arguments)}(C)),this.originValidationPromises[A]}get _shouldInitProactively(){return un()||ee()||nn()}};class Rf{constructor(C){this.factorId=C}_process(C,A,K){switch(A.type){case"enroll":return this._finalizeEnroll(C,A.credential,K);case"signin":return this._finalizeSignIn(C,A.credential);default:return Gt("unexpected MultiFactorSessionType")}}}class Ku extends Rf{constructor(C){super("phone"),this.credential=C}static _fromCredential(C){return new Ku(C)}_finalizeEnroll(C,A,K){return function po(U,C){return sn(U,"POST","/v2/accounts/mfaEnrollment:finalize",Pt(U,C))}(C,{idToken:A,displayName:K,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(C,A){return function Gi(U,C){return sn(U,"POST","/v2/accounts/mfaSignIn:finalize",Pt(U,C))}(C,{mfaPendingCredential:A,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Yp=(()=>{class U{constructor(){}static assertion(A){return Ku._fromCredential(A)}}return U.FACTOR_ID="phone",U})();var gu="@firebase/auth";class vd{constructor(C){this.auth=C,this.internalListeners=new Map}getUid(){var C;return this.assertAuthConfigured(),(null===(C=this.auth.currentUser)||void 0===C?void 0:C.uid)||null}getToken(C){var A=this;return(0,d.Z)(function*(){return A.assertAuthConfigured(),yield A.auth._initializationPromise,A.auth.currentUser?{accessToken:yield A.auth.currentUser.getIdToken(C)}:null})()}addAuthTokenListener(C){if(this.assertAuthConfigured(),this.internalListeners.has(C))return;const A=this.auth.onIdTokenChanged(K=>{C((null==K?void 0:K.stsTokenManager.accessToken)||null)});this.internalListeners.set(C,A),this.updateProactiveRefresh()}removeAuthTokenListener(C){this.assertAuthConfigured();const A=this.internalListeners.get(C);A&&(this.internalListeners.delete(C),A(),this.updateProactiveRefresh())}assertAuthConfigured(){it(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const Gc=(0,v.Pz)("authIdTokenMaxAge")||300;let zl=null;const kf=U=>function(){var C=(0,d.Z)(function*(A){const K=A&&(yield A.getIdTokenResult()),Ie=K&&((new Date).getTime()-Date.parse(K.issuedAtTime))/1e3;if(Ie&&Ie>Gc)return;const We=null==K?void 0:K.token;zl!==We&&(zl=We,yield fetch(U,{method:We?"POST":"DELETE",headers:We?{Authorization:`Bearer ${We}`}:{}}))});return function(A){return C.apply(this,arguments)}}();function Kc(U=(0,ve.getApp)()){const C=(0,ve._getProvider)(U,"auth");if(C.isInitialized())return C.getImmediate();const A=function io(U,C){const A=(0,ve._getProvider)(U,"auth");if(A.isInitialized()){const Ie=A.getImmediate(),We=A.getOptions();if((0,v.vZ)(We,null!=C?C:{}))return Ie;ht(Ie,"already-initialized")}return A.initialize({options:C})}(U,{popupRedirectResolver:fu,persistence:[es,Ha,Cl]}),K=(0,v.Pz)("authTokenSyncURL");if(K){const We=kf(K);(function Ne(U,C,A){(0,v.m9)(U).beforeAuthStateChanged(C,A)})(A,We,()=>We(A.currentUser)),function J(U,C,A,K){(0,v.m9)(U).onIdTokenChanged(C,A,K)}(A,an=>We(an))}const Ie=(0,v.q4)("auth");return Ie&&Zs(A,`http://${Ie}`),A}!function Wc(U){(0,ve._registerComponent)(new Ke.wA("auth",(C,{options:A})=>{const K=C.getProvider("app").getImmediate(),Ie=C.getProvider("heartbeat"),We=C.getProvider("app-check-internal"),{apiKey:an,authDomain:xn}=K.options;it(an&&!an.includes(":"),"invalid-api-key",{appName:K.name});const dr={apiKey:an,authDomain:xn,clientPlatform:U,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Nn(U)},ti=new as(K,Ie,We,dr);return function Bs(U,C){const A=(null==C?void 0:C.persistence)||[],K=(Array.isArray(A)?A:[A]).map(Wn);null!=C&&C.errorMap&&U._updateErrorMap(C.errorMap),U._initializeWithPersistence(K,null==C?void 0:C.popupRedirectResolver)}(ti,A),ti},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((C,A,K)=>{C.getProvider("auth-internal").initialize()})),(0,ve._registerComponent)(new Ke.wA("auth-internal",C=>{const A=zi(C.getProvider("auth").getImmediate());return new vd(A)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,ve.registerVersion)(gu,"0.23.2",function mu(U){switch(U){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(U)),(0,ve.registerVersion)(gu,"0.23.2","esm2017")}("Browser")},2810:(er,Nt,H)=>{"use strict";H.d(Nt,{u7:()=>um,Jj:()=>Rn,IX:()=>py,my:()=>na,xU:()=>$u,Lz:()=>jn,WA:()=>qn,F8:()=>ts,$q:()=>Lc,W:()=>Df,EK:()=>yo,PU:()=>su,l7:()=>pc,Ky:()=>yr,Xb:()=>ps,Cf:()=>Ms,K9:()=>Kn,Me:()=>Aa,yq:()=>Go,Wi:()=>sm,ET:()=>il,Ab:()=>k_,vr:()=>O_,Fc:()=>p,hJ:()=>Lu,B$:()=>hd,at:()=>dd,oe:()=>D_,AK:()=>Xv,TF:()=>z,JU:()=>fd,ST:()=>u,fH:()=>s,Ix:()=>P,Wu:()=>Uv,Lx:()=>Vv,qY:()=>Ia,GL:()=>Hp,QT:()=>Sf,kl:()=>w_,Xk:()=>hv,PL:()=>I0,UQ:()=>C0,zN:()=>I_,ad:()=>gy,nP:()=>N_,b9:()=>Bv,vh:()=>sv,Pb:()=>we,L$:()=>Ve,cf:()=>Gv,sc:()=>S_,Xo:()=>m_,IO:()=>p_,iE:()=>pd,Eo:()=>bf,i3:()=>Zv,Bt:()=>R_,pl:()=>C_,Ub:()=>po,qK:()=>dv,TQ:()=>$v,e0:()=>ov,r7:()=>Wv,Mx:()=>E,ar:()=>g_});var Re,d=H(5861),v=H(6881),ve=H(4859),Fe=H(1877),Xe=H(2090),Ke=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Se={},Qe=Qe||{},Be=Ke||self;function Me(){}function ot(i){var e=typeof i;return"array"==(e="object"!=e?e:i?Array.isArray(i)?"array":e:"null")||"object"==e&&"number"==typeof i.length}function Pe(i){var e=typeof i;return"object"==e&&null!=i||"function"==e}var mt="closure_uid_"+(1e9*Math.random()>>>0),Ut=0;function He(i,e,t){return i.call.apply(i.bind,arguments)}function $e(i,e,t){if(!i)throw Error();if(2<arguments.length){var a=Array.prototype.slice.call(arguments,2);return function(){var f=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(f,a),i.apply(e,f)}}return function(){return i.apply(e,arguments)}}function Lt(i,e,t){return(Lt=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?He:$e).apply(null,arguments)}function Rt(i,e){var t=Array.prototype.slice.call(arguments,1);return function(){var a=t.slice();return a.push.apply(a,arguments),i.apply(this,a)}}function ht(i,e){function t(){}t.prototype=e.prototype,i.$=e.prototype,i.prototype=new t,i.prototype.constructor=i,i.ac=function(a,f,_){for(var S=Array(arguments.length-2),Y=2;Y<arguments.length;Y++)S[Y-2]=arguments[Y];return e.prototype[f].apply(a,S)}}function Ct(){this.s=this.s,this.o=this.o}Ct.prototype.s=!1,Ct.prototype.ra=function(){!this.s&&(this.s=!0,this.N(),0)&&function ct(i){Object.prototype.hasOwnProperty.call(i,mt)&&i[mt]||(i[mt]=++Ut)}(this)},Ct.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Dt=Array.prototype.indexOf?function(i,e){return Array.prototype.indexOf.call(i,e,void 0)}:function(i,e){if("string"==typeof i)return"string"!=typeof e||1!=e.length?-1:i.indexOf(e,0);for(let t=0;t<i.length;t++)if(t in i&&i[t]===e)return t;return-1};function vt(i){const e=i.length;if(0<e){const t=Array(e);for(let a=0;a<e;a++)t[a]=i[a];return t}return[]}function it(i,e){for(let t=1;t<arguments.length;t++){const a=arguments[t];if(ot(a)){const f=i.length||0,_=a.length||0;i.length=f+_;for(let S=0;S<_;S++)i[f+S]=a[S]}else i.push(a)}}function Gt(i,e){this.type=i,this.g=this.target=e,this.defaultPrevented=!1}Gt.prototype.h=function(){this.defaultPrevented=!0};var St=function(){if(!Be.addEventListener||!Object.defineProperty)return!1;var i=!1,e=Object.defineProperty({},"passive",{get:function(){i=!0}});try{Be.addEventListener("test",Me,e),Be.removeEventListener("test",Me,e)}catch{}return i}();function kt(i){return/^[\s\xa0]*$/.test(i)}var Qt=String.prototype.trim?function(i){return i.trim()}:function(i){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(i)[1]};function Ae(i,e){return i<e?-1:i>e?1:0}function Je(){var i=Be.navigator;return i&&(i=i.userAgent)?i:""}function ut(i){return-1!=Je().indexOf(i)}function _t(i){return _t[" "](i),i}function tt(i,e,t){return Object.prototype.hasOwnProperty.call(i,e)?i[e]:i[e]=t(e)}_t[" "]=Me;var rn,i,Ge=ut("Opera"),ft=ut("Trident")||ut("MSIE"),jt=ut("Edge"),Pt=jt||ft,sn=ut("Gecko")&&!(-1!=Je().toLowerCase().indexOf("webkit")&&!ut("Edge"))&&!(ut("Trident")||ut("MSIE"))&&!ut("Edge"),ln=-1!=Je().toLowerCase().indexOf("webkit")&&!ut("Edge");function Oe(){var i=Be.document;return i?i.documentMode:void 0}e:{var wt="",fn=(i=Je(),sn?/rv:([^\);]+)(\)|;)/.exec(i):jt?/Edge\/([\d\.]+)/.exec(i):ft?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(i):ln?/WebKit\/(\S+)/.exec(i):Ge?/(?:Version)[ \/]?(\S+)/.exec(i):void 0);if(fn&&(wt=fn?fn[1]:""),ft){var _n=Oe();if(null!=_n&&_n>parseFloat(wt)){rn=String(_n);break e}}rn=wt}var tr={},Xn=Be.document&&ft&&(Oe()||parseInt(rn,10))||void 0;function cn(i,e){if(Gt.call(this,i?i.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,i){var t=this.type=i.type,a=i.changedTouches&&i.changedTouches.length?i.changedTouches[0]:null;if(this.target=i.target||i.srcElement,this.g=e,e=i.relatedTarget){if(sn){e:{try{_t(e.nodeName);var f=!0;break e}catch{}f=!1}f||(e=null)}}else"mouseover"==t?e=i.fromElement:"mouseout"==t&&(e=i.toElement);this.relatedTarget=e,a?(this.clientX=void 0!==a.clientX?a.clientX:a.pageX,this.clientY=void 0!==a.clientY?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0):(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0),this.button=i.button,this.key=i.key||"",this.ctrlKey=i.ctrlKey,this.altKey=i.altKey,this.shiftKey=i.shiftKey,this.metaKey=i.metaKey,this.pointerId=i.pointerId||0,this.pointerType="string"==typeof i.pointerType?i.pointerType:Pr[i.pointerType]||"",this.state=i.state,this.i=i,i.defaultPrevented&&cn.$.h.call(this)}}ht(cn,Gt);var Pr={2:"touch",3:"pen",4:"mouse"};cn.prototype.h=function(){cn.$.h.call(this);var i=this.i;i.preventDefault?i.preventDefault():i.returnValue=!1};var Wr="closure_listenable_"+(1e6*Math.random()|0),Sr=0;function On(i,e,t,a,f){this.listener=i,this.proxy=null,this.src=e,this.type=t,this.capture=!!a,this.la=f,this.key=++Sr,this.fa=this.ia=!1}function Gr(i){i.fa=!0,i.listener=null,i.proxy=null,i.src=null,i.la=null}function Qr(i,e,t){for(const a in i)e.call(t,i[a],a,i)}function br(i){const e={};for(const t in i)e[t]=i[t];return e}const $r="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ui(i,e){let t,a;for(let f=1;f<arguments.length;f++){for(t in a=arguments[f],a)i[t]=a[t];for(let _=0;_<$r.length;_++)t=$r[_],Object.prototype.hasOwnProperty.call(a,t)&&(i[t]=a[t])}}function nr(i){this.src=i,this.g={},this.h=0}function Zn(i,e){var t=e.type;if(t in i.g){var _,a=i.g[t],f=Dt(a,e);(_=0<=f)&&Array.prototype.splice.call(a,f,1),_&&(Gr(e),0==i.g[t].length&&(delete i.g[t],i.h--))}}function rr(i,e,t,a){for(var f=0;f<i.length;++f){var _=i[f];if(!_.fa&&_.listener==e&&_.capture==!!t&&_.la==a)return f}return-1}nr.prototype.add=function(i,e,t,a,f){var _=i.toString();(i=this.g[_])||(i=this.g[_]=[],this.h++);var S=rr(i,e,a,f);return-1<S?(e=i[S],t||(e.ia=!1)):((e=new On(e,this.src,_,!!a,f)).ia=t,i.push(e)),e};var Ei="closure_lm_"+(1e6*Math.random()|0),di={};function ni(i,e,t,a,f){if(a&&a.once)return Er(i,e,t,a,f);if(Array.isArray(e)){for(var _=0;_<e.length;_++)ni(i,e[_],t,a,f);return null}return t=Wt(t),i&&i[Wr]?i.O(e,t,Pe(a)?!!a.capture:!!a,f):ri(i,e,t,!1,a,f)}function ri(i,e,t,a,f,_){if(!e)throw Error("Invalid event type");var S=Pe(f)?!!f.capture:!!f,Y=xe(i);if(Y||(i[Ei]=Y=new nr(i)),(t=Y.add(e,t,a,S,_)).proxy)return t;if(a=function oi(){const e=An;return function i(t){return e.call(i.src,i.listener,t)}}(),t.proxy=a,a.src=i,a.listener=t,i.addEventListener)St||(f=S),void 0===f&&(f=!1),i.addEventListener(e.toString(),a,f);else if(i.attachEvent)i.attachEvent(Ar(e.toString()),a);else{if(!i.addListener||!i.removeListener)throw Error("addEventListener and attachEvent are unavailable.");i.addListener(a)}return t}function Er(i,e,t,a,f){if(Array.isArray(e)){for(var _=0;_<e.length;_++)Er(i,e[_],t,a,f);return null}return t=Wt(t),i&&i[Wr]?i.P(e,t,Pe(a)?!!a.capture:!!a,f):ri(i,e,t,!0,a,f)}function pr(i,e,t,a,f){if(Array.isArray(e))for(var _=0;_<e.length;_++)pr(i,e[_],t,a,f);else a=Pe(a)?!!a.capture:!!a,t=Wt(t),i&&i[Wr]?(i=i.i,(e=String(e).toString())in i.g&&-1<(t=rr(_=i.g[e],t,a,f))&&(Gr(_[t]),Array.prototype.splice.call(_,t,1),0==_.length&&(delete i.g[e],i.h--))):i&&(i=xe(i))&&(e=i.g[e.toString()],i=-1,e&&(i=rr(e,t,a,f)),(t=-1<i?e[i]:null)&&yi(t))}function yi(i){if("number"!=typeof i&&i&&!i.fa){var e=i.src;if(e&&e[Wr])Zn(e.i,i);else{var t=i.type,a=i.proxy;e.removeEventListener?e.removeEventListener(t,a,i.capture):e.detachEvent?e.detachEvent(Ar(t),a):e.addListener&&e.removeListener&&e.removeListener(a),(t=xe(e))?(Zn(t,i),0==t.h&&(t.src=null,e[Ei]=null)):Gr(i)}}}function Ar(i){return i in di?di[i]:di[i]="on"+i}function An(i,e){if(i.fa)i=!0;else{e=new cn(e,this);var t=i.listener,a=i.la||i.src;i.ia&&yi(i),i=t.call(a,e)}return i}function xe(i){return(i=i[Ei])instanceof nr?i:null}var gt="__closure_events_fn_"+(1e9*Math.random()>>>0);function Wt(i){return"function"==typeof i?i:(i[gt]||(i[gt]=function(e){return i.handleEvent(e)}),i[gt])}function In(){Ct.call(this),this.i=new nr(this),this.S=this,this.J=null}function Wn(i,e){var t,a=i.J;if(a)for(t=[];a;a=a.J)t.push(a);if(i=i.S,a=e.type||e,"string"==typeof e)e=new Gt(e,i);else if(e instanceof Gt)e.target=e.target||i;else{var f=e;ui(e=new Gt(a,i),f)}if(f=!0,t)for(var _=t.length-1;0<=_;_--){var S=e.g=t[_];f=Kr(S,a,!0,e)&&f}if(f=Kr(S=e.g=i,a,!0,e)&&f,f=Kr(S,a,!1,e)&&f,t)for(_=0;_<t.length;_++)f=Kr(S=e.g=t[_],a,!1,e)&&f}function Kr(i,e,t,a){if(!(e=i.i.g[String(e)]))return!0;e=e.concat();for(var f=!0,_=0;_<e.length;++_){var S=e[_];if(S&&!S.fa&&S.capture==t){var Y=S.listener,ce=S.la||S.src;S.ia&&Zn(i.i,S),f=!1!==Y.call(ce,a)&&f}}return f&&!a.defaultPrevented}ht(In,Ct),In.prototype[Wr]=!0,In.prototype.removeEventListener=function(i,e,t,a){pr(this,i,e,t,a)},In.prototype.N=function(){if(In.$.N.call(this),this.i){var e,i=this.i;for(e in i.g){for(var t=i.g[e],a=0;a<t.length;a++)Gr(t[a]);delete i.g[e],i.h--}}this.J=null},In.prototype.O=function(i,e,t,a){return this.i.add(String(i),e,!1,t,a)},In.prototype.P=function(i,e,t,a){return this.i.add(String(i),e,!0,t,a)};var Nr=Be.JSON.stringify;function Rr(){var i=Vt;let e=null;return i.g&&(e=i.g,i.g=i.g.next,i.g||(i.h=null),e.next=null),e}var qe,Te=new class{constructor(i,e){this.i=i,this.j=e,this.h=0,this.g=null}get(){let i;return 0<this.h?(this.h--,i=this.g,this.g=i.next,i.next=null):i=this.i(),i}}(()=>new se,i=>i.reset());class se{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function ee(i){Be.setTimeout(()=>{throw i},0)}function oe(i,e){qe||function xt(){var i=Be.Promise.resolve(void 0);qe=function(){i.then(nn)}}(),rt||(qe(),rt=!0),Vt.add(i,e)}var rt=!1,Vt=new class yt{constructor(){this.h=this.g=null}add(e,t){const a=Te.get();a.set(e,t),this.h?this.h.next=a:this.g=a,this.h=a}};function nn(){for(var i;i=Rr();){try{i.h.call(i.g)}catch(t){ee(t)}var e=Te;e.j(i),100>e.h&&(e.h++,i.next=e.g,e.g=i)}rt=!1}function Tn(i,e){In.call(this),this.h=i||1,this.g=e||Be,this.j=Lt(this.qb,this),this.l=Date.now()}function wn(i){i.ga=!1,i.T&&(i.g.clearTimeout(i.T),i.T=null)}function Gn(i,e,t){if("function"==typeof i)t&&(i=Lt(i,t));else{if(!i||"function"!=typeof i.handleEvent)throw Error("Invalid listener argument");i=Lt(i.handleEvent,i)}return 2147483647<Number(e)?-1:Be.setTimeout(i,e||0)}function un(i){i.g=Gn(()=>{i.g=null,i.i&&(i.i=!1,un(i))},i.j);const e=i.h;i.h=null,i.m.apply(null,e)}ht(Tn,In),(Re=Tn.prototype).ga=!1,Re.T=null,Re.qb=function(){if(this.ga){var i=Date.now()-this.l;0<i&&i<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-i):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Wn(this,"tick"),this.ga&&(wn(this),this.start()))}},Re.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Re.N=function(){Tn.$.N.call(this),wn(this),delete this.g};class bn extends Ct{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:un(this)}N(){super.N(),this.g&&(Be.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Nn(i){Ct.call(this),this.h=i,this.g={}}ht(Nn,Ct);var Ft=[];function Kt(i,e,t,a){Array.isArray(t)||(t&&(Ft[0]=t.toString()),t=Ft);for(var f=0;f<t.length;f++){var _=ni(e,t[f],a||i.handleEvent,!1,i.h||i);if(!_)break;i.g[_.key]=_}}function mn(i){Qr(i.g,function(e,t){this.g.hasOwnProperty(t)&&yi(e)},i),i.g={}}function Qn(){this.g=!0}function Or(i,e,t,a){i.info(function(){return"XMLHTTP TEXT ("+e+"): "+function Yr(i,e){if(!i.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(i=0;i<t.length;i++)if(Array.isArray(t[i])){var a=t[i];if(!(2>a.length)){var f=a[1];if(Array.isArray(f)&&!(1>f.length)){var _=f[0];if("noop"!=_&&"stop"!=_&&"close"!=_)for(var S=1;S<f.length;S++)f[S]=""}}}return Nr(t)}catch{return e}}(i,t)+(a?" "+a:"")})}Nn.prototype.N=function(){Nn.$.N.call(this),mn(this)},Nn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Qn.prototype.Ea=function(){this.g=!1},Qn.prototype.info=function(){};var jr={},ei=null;function ns(){return ei=ei||new In}function uo(i){Gt.call(this,jr.Ta,i)}function ro(i){const e=ns();Wn(e,new uo(e))}function cs(i,e){Gt.call(this,jr.STAT_EVENT,i),this.stat=e}function rs(i){const e=ns();Wn(e,new cs(e,i))}function wo(i,e){Gt.call(this,jr.Ua,i),this.size=e}function as(i,e){if("function"!=typeof i)throw Error("Fn must not be null and must be a function");return Be.setTimeout(function(){i()},e)}jr.Ta="serverreachability",ht(uo,Gt),jr.STAT_EVENT="statevent",ht(cs,Gt),jr.Ua="timingevent",ht(wo,Gt);var zi={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},qs={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function io(){}function Zs(){}io.prototype.h=null;var _e,ie={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function pe(){Gt.call(this,"d")}function ke(){Gt.call(this,"c")}function re(){}function ye(i,e,t,a){this.l=i,this.j=e,this.m=t,this.W=a||1,this.U=new Nn(this),this.P=It,this.V=new Tn(i=Pt?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.aa=-1,this.J=!1,this.O=0,this.M=null,this.ca=this.K=this.ba=this.S=!1,this.h=new st}function st(){this.i=null,this.g="",this.h=!1}ht(pe,Gt),ht(ke,Gt),ht(re,io),re.prototype.g=function(){return new XMLHttpRequest},re.prototype.i=function(){return{}},_e=new re;var It=45e3,Bt={},tn={};function Ln(i,e,t){i.L=1,i.v=Vr(ys(e)),i.s=t,i.S=!0,Hn(i,null)}function Hn(i,e){i.G=Date.now(),Qi(i),i.A=ys(i.v);var t=i.A,a=i.W;Array.isArray(a)||(a=[String(a)]),Wo(t.i,"t",a),i.C=0,t=i.l.I,i.h=new st,i.g=Ns(i.l,t?e:null,!i.s),0<i.O&&(i.M=new bn(Lt(i.Pa,i,i.g),i.O)),Kt(i.U,i.g,"readystatechange",i.nb),e=i.I?br(i.I):{},i.s?(i.u||(i.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",i.g.ha(i.A,i.u,i.s,e)):(i.u="GET",i.g.ha(i.A,i.u,null,e)),ro(),function gr(i,e,t,a,f,_){i.info(function(){if(i.g)if(_)for(var S="",Y=_.split("&"),ce=0;ce<Y.length;ce++){var Ee=Y[ce].split("=");if(1<Ee.length){var Ye=Ee[0];Ee=Ee[1];var Mt=Ye.split("_");S=2<=Mt.length&&"type"==Mt[1]?S+(Ye+"=")+Ee+"&":S+(Ye+"=redacted&")}}else S=null;else S=_;return"XMLHTTP REQ ("+a+") [attempt "+f+"]: "+e+"\n"+t+"\n"+S})}(i.j,i.u,i.A,i.m,i.W,i.s)}function Lr(i){return!!i.g&&"GET"==i.u&&2!=i.L&&i.l.Ha}function ai(i,e,t){let f,a=!0;for(;!i.J&&i.C<t.length;){if(f=ms(i,t),f==tn){4==e&&(i.o=4,rs(14),a=!1),Or(i.j,i.m,null,"[Incomplete Response]");break}if(f==Bt){i.o=4,rs(15),Or(i.j,i.m,t,"[Invalid Chunk]"),a=!1;break}Or(i.j,i.m,f,null),$i(i,f)}Lr(i)&&f!=tn&&f!=Bt&&(i.h.g="",i.C=0),4!=e||0!=t.length||i.h.h||(i.o=1,rs(16),a=!1),i.i=i.i&&a,a?0<t.length&&!i.ca&&(i.ca=!0,(e=i.l).g==i&&e.ca&&!e.L&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+t.length),Tr(e),e.L=!0,rs(11))):(Or(i.j,i.m,t,"[Invalid Chunked Response]"),qr(i),ir(i))}function ms(i,e){var t=i.C,a=e.indexOf("\n",t);return-1==a?tn:(t=Number(e.substring(t,a)),isNaN(t)?Bt:(a+=1)+t>e.length?tn:(e=e.substr(a,t),i.C=a+t,e))}function Qi(i){i.Y=Date.now()+i.P,$s(i,i.P)}function $s(i,e){if(null!=i.B)throw Error("WatchDog timer not null");i.B=as(Lt(i.lb,i),e)}function Li(i){i.B&&(Be.clearTimeout(i.B),i.B=null)}function ir(i){0==i.l.H||i.J||qi(i.l,i)}function qr(i){Li(i);var e=i.M;e&&"function"==typeof e.ra&&e.ra(),i.M=null,wn(i.V),mn(i.U),i.g&&(e=i.g,i.g=null,e.abort(),e.ra())}function $i(i,e){try{var t=i.l;if(0!=t.H&&(t.g==i||Yi(t.h,i)))if(!i.K&&Yi(t.h,i)&&3==t.H){try{var a=t.Ja.g.parse(e)}catch{a=null}if(Array.isArray(a)&&3==a.length){var f=a;if(0==f[0]){e:if(!t.u){if(t.g){if(!(t.g.G+3e3<i.G))break e;_i(t),D(t)}ii(t),rs(18)}}else t.Fa=f[1],0<t.Fa-t.V&&37500>f[2]&&t.M&&0==t.A&&!t.v&&(t.v=as(Lt(t.ib,t),6e3));if(1>=Ws(t.h)&&t.na){try{t.na()}catch{}t.na=void 0}}else hs(t,11)}else if((i.K||t.g==i)&&_i(t),!kt(e))for(f=t.Ja.g.parse(e),e=0;e<f.length;e++){let Ee=f[e];if(t.V=Ee[0],Ee=Ee[1],2==t.H)if("c"==Ee[0]){t.J=Ee[1],t.oa=Ee[2];const Ye=Ee[3];null!=Ye&&(t.qa=Ye,t.j.info("VER="+t.qa));const Mt=Ee[4];null!=Mt&&(t.Ga=Mt,t.j.info("SVER="+t.Ga));const En=Ee[5];null!=En&&"number"==typeof En&&0<En&&(t.K=a=1.5*En,t.j.info("backChannelRequestTimeoutMs_="+a)),a=t;const Vn=i.g;if(Vn){const Dr=Vn.g?Vn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Dr){var _=a.h;_.g||-1==Dr.indexOf("spdy")&&-1==Dr.indexOf("quic")&&-1==Dr.indexOf("h2")||(_.j=_.l,_.g=new Set,_.h&&(qo(_,_.h),_.h=null))}if(a.F){const ci=Vn.g?Vn.g.getResponseHeader("X-HTTP-Session-Id"):null;ci&&(a.Da=ci,Oi(a.G,a.F,ci))}}t.H=3,t.l&&t.l.Ba(),t.ca&&(t.S=Date.now()-i.G,t.j.info("Handshake RTT: "+t.S+"ms"));var S=i;if((a=t).wa=Ti(a,a.I?a.oa:null,a.Y),S.K){Bo(a.h,S);var Y=S,ce=a.K;ce&&Y.setTimeout(ce),Y.B&&(Li(Y),Qi(Y)),a.g=S}else zr(a);0<t.i.length&&fe(t)}else"stop"!=Ee[0]&&"close"!=Ee[0]||hs(t,7);else 3==t.H&&("stop"==Ee[0]||"close"==Ee[0]?"stop"==Ee[0]?hs(t,7):L(t):"noop"!=Ee[0]&&t.l&&t.l.Aa(Ee),t.A=0)}ro()}catch{}}function us(i,e){if(i.forEach&&"function"==typeof i.forEach)i.forEach(e,void 0);else if(ot(i)||"string"==typeof i)Array.prototype.forEach.call(i,e,void 0);else for(var t=function Io(i){if(i.sa&&"function"==typeof i.sa)return i.sa();if(!i.Z||"function"!=typeof i.Z){if(typeof Map<"u"&&i instanceof Map)return Array.from(i.keys());if(!(typeof Set<"u"&&i instanceof Set)){if(ot(i)||"string"==typeof i){var e=[];i=i.length;for(var t=0;t<i;t++)e.push(t);return e}e=[],t=0;for(const a in i)e[t++]=a;return e}}}(i),a=function Rs(i){if(i.Z&&"function"==typeof i.Z)return i.Z();if(typeof Map<"u"&&i instanceof Map||typeof Set<"u"&&i instanceof Set)return Array.from(i.values());if("string"==typeof i)return i.split("");if(ot(i)){for(var e=[],t=i.length,a=0;a<t;a++)e.push(i[a]);return e}for(a in e=[],t=0,i)e[t++]=i[a];return e}(i),f=a.length,_=0;_<f;_++)e.call(void 0,a[_],t&&t[_],i)}(Re=ye.prototype).setTimeout=function(i){this.P=i},Re.nb=function(i){i=i.target;const e=this.M;e&&3==ws(i)?e.l():this.Pa(i)},Re.Pa=function(i){try{if(i==this.g)e:{const Ye=ws(this.g);var e=this.g.Ia();if(this.g.da(),!(3>Ye)&&(3!=Ye||Pt||this.g&&(this.h.h||this.g.ja()||eo(this.g)))){this.J||4!=Ye||7==e||ro(),Li(this);var t=this.g.da();this.aa=t;t:if(Lr(this)){var a=eo(this.g);i="";var f=a.length,_=4==ws(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){qr(this),ir(this);var S="";break t}this.h.i=new Be.TextDecoder}for(e=0;e<f;e++)this.h.h=!0,i+=this.h.i.decode(a[e],{stream:_&&e==f-1});a.splice(0,f),this.h.g+=i,this.C=0,S=this.h.g}else S=this.g.ja();if(this.i=200==t,function Fr(i,e,t,a,f,_,S){i.info(function(){return"XMLHTTP RESP ("+a+") [ attempt "+f+"]: "+e+"\n"+t+"\n"+_+" "+S})}(this.j,this.u,this.A,this.m,this.W,Ye,t),this.i){if(this.ba&&!this.K){t:{if(this.g){var Y,ce=this.g;if((Y=ce.g?ce.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!kt(Y)){var Ee=Y;break t}}Ee=null}if(!(t=Ee)){this.i=!1,this.o=3,rs(12),qr(this),ir(this);break e}Or(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,$i(this,t)}this.S?(ai(this,Ye,S),Pt&&this.i&&3==Ye&&(Kt(this.U,this.V,"tick",this.mb),this.V.start())):(Or(this.j,this.m,S,null),$i(this,S)),4==Ye&&qr(this),this.i&&!this.J&&(4==Ye?qi(this.l,this):(this.i=!1,Qi(this)))}else 400==t&&0<S.indexOf("Unknown SID")?(this.o=3,rs(12)):(this.o=0,rs(13)),qr(this),ir(this)}}}catch{}},Re.mb=function(){if(this.g){var i=ws(this.g),e=this.g.ja();this.C<e.length&&(Li(this),ai(this,i,e),this.i&&4!=i&&Qi(this))}},Re.cancel=function(){this.J=!0,qr(this)},Re.lb=function(){this.B=null;const i=Date.now();0<=i-this.Y?(function Ri(i,e){i.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(ro(),rs(17)),qr(this),this.o=2,ir(this)):$s(this,this.Y-i)};var go=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ds(i,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,i instanceof Ds){this.h=void 0!==e?e:i.h,Zr(this,i.j),this.s=i.s,this.g=i.g,Js(this,i.m),this.l=i.l,e=i.i;var t=new Ai;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),ho(this,t),this.o=i.o}else i&&(t=String(i).match(go))?(this.h=!!e,Zr(this,t[1]||"",!0),this.s=Di(t[2]||""),this.g=Di(t[3]||"",!0),Js(this,t[4]),this.l=Di(t[5]||"",!0),ho(this,t[6]||"",!0),this.o=Di(t[7]||"")):(this.h=!!e,this.i=new Ai(null,this.h))}function ys(i){return new Ds(i)}function Zr(i,e,t){i.j=t?Di(e,!0):e,i.j&&(i.j=i.j.replace(/:$/,""))}function Js(i,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);i.m=e}else i.m=null}function ho(i,e,t){e instanceof Ai?(i.i=e,function Do(i,e){e&&!i.j&&(hr(i),i.i=null,i.g.forEach(function(t,a){var f=a.toLowerCase();a!=f&&(Os(this,a),Wo(this,f,t))},i)),i.j=e}(i.i,i.h)):(t||(e=pi(e,Xs)),i.i=new Ai(e,i.h))}function Oi(i,e,t){i.i.set(e,t)}function Vr(i){return Oi(i,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),i}function Di(i,e){return i?e?decodeURI(i.replace(/%25/g,"%2525")):decodeURIComponent(i):""}function pi(i,e,t){return"string"==typeof i?(i=encodeURI(i).replace(e,Vs),t&&(i=i.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),i):null}function Vs(i){return"%"+((i=i.charCodeAt(0))>>4&15).toString(16)+(15&i).toString(16)}Ds.prototype.toString=function(){var i=[],e=this.j;e&&i.push(pi(e,Vi,!0),":");var t=this.g;return(t||"file"==e)&&(i.push("//"),(e=this.s)&&i.push(pi(e,Vi,!0),"@"),i.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&i.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&i.push("/"),i.push(pi(t,"/"==t.charAt(0)?Co:To,!0))),(t=this.i.toString())&&i.push("?",t),(t=this.o)&&i.push("#",pi(t,Yo)),i.join("")};var Vi=/[#\/\?@]/g,To=/[#\?:]/g,Co=/[#\?]/g,Xs=/[#\?@]/g,Yo=/#/g;function Ai(i,e){this.h=this.g=null,this.i=i||null,this.j=!!e}function hr(i){i.g||(i.g=new Map,i.h=0,i.i&&function Ki(i,e){if(i){i=i.split("&");for(var t=0;t<i.length;t++){var a=i[t].indexOf("="),f=null;if(0<=a){var _=i[t].substring(0,a);f=i[t].substring(a+1)}else _=i[t];e(_,f?decodeURIComponent(f.replace(/\+/g," ")):"")}}}(i.i,function(e,t){i.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function Os(i,e){hr(i),e=ss(i,e),i.g.has(e)&&(i.i=null,i.h-=i.g.get(e).length,i.g.delete(e))}function so(i,e){return hr(i),e=ss(i,e),i.g.has(e)}function Wo(i,e,t){Os(i,e),0<t.length&&(i.i=null,i.g.set(ss(i,e),vt(t)),i.h+=t.length)}function ss(i,e){return e=String(e),i.j&&(e=e.toLowerCase()),e}function Oo(i){this.l=i||Es,i=Be.PerformanceNavigationTiming?0<(i=Be.performance.getEntriesByType("navigation")).length&&("hq"==i[0].nextHopProtocol||"h2"==i[0].nextHopProtocol):!!(Be.g&&Be.g.Ka&&Be.g.Ka()&&Be.g.Ka().ec),this.j=i?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(Re=Ai.prototype).add=function(i,e){hr(this),this.i=null,i=ss(this,i);var t=this.g.get(i);return t||this.g.set(i,t=[]),t.push(e),this.h+=1,this},Re.forEach=function(i,e){hr(this),this.g.forEach(function(t,a){t.forEach(function(f){i.call(e,f,a,this)},this)},this)},Re.sa=function(){hr(this);const i=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let a=0;a<e.length;a++){const f=i[a];for(let _=0;_<f.length;_++)t.push(e[a])}return t},Re.Z=function(i){hr(this);let e=[];if("string"==typeof i)so(this,i)&&(e=e.concat(this.g.get(ss(this,i))));else{i=Array.from(this.g.values());for(let t=0;t<i.length;t++)e=e.concat(i[t])}return e},Re.set=function(i,e){return hr(this),this.i=null,so(this,i=ss(this,i))&&(this.h-=this.g.get(i).length),this.g.set(i,[e]),this.h+=1,this},Re.get=function(i,e){return i&&0<(i=this.Z(i)).length?String(i[0]):e},Re.toString=function(){if(this.i)return this.i;if(!this.g)return"";const i=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var a=e[t];const _=encodeURIComponent(String(a)),S=this.Z(a);for(a=0;a<S.length;a++){var f=_;""!==S[a]&&(f+="="+encodeURIComponent(String(S[a]))),i.push(f)}}return this.i=i.join("&")};var Es=10;function ko(i){return!!i.h||!!i.g&&i.g.size>=i.j}function Ws(i){return i.h?1:i.g?i.g.size:0}function Yi(i,e){return i.h?i.h==e:!!i.g&&i.g.has(e)}function qo(i,e){i.g?i.g.add(e):i.h=e}function Bo(i,e){i.h&&i.h==e?i.h=null:i.g&&i.g.has(e)&&i.g.delete(e)}function So(i){if(null!=i.h)return i.i.concat(i.h.F);if(null!=i.g&&0!==i.g.size){let e=i.i;for(const t of i.g.values())e=e.concat(t.F);return e}return vt(i.i)}function xo(){}function mo(){this.g=new xo}function Zo(i,e,t){const a=t||"";try{us(i,function(f,_){let S=f;Pe(f)&&(S=Nr(f)),e.push(a+_+"="+encodeURIComponent(S))})}catch(f){throw e.push(a+"type="+encodeURIComponent("_badmap")),f}}function gi(i,e,t,a,f){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,f(a)}catch{}}function No(i){this.l=i.fc||null,this.j=i.ob||!1}function ds(i,e){In.call(this),this.F=i,this.u=e,this.m=void 0,this.readyState=$o,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Oo.prototype.cancel=function(){if(this.i=So(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const i of this.g.values())i.cancel();this.g.clear()}},xo.prototype.stringify=function(i){return Be.JSON.stringify(i,void 0)},xo.prototype.parse=function(i){return Be.JSON.parse(i,void 0)},ht(No,io),No.prototype.g=function(){return new ds(this.l,this.j)},No.prototype.i=function(i){return function(){return i}}({}),ht(ds,In);var $o=0;function ks(i){i.j.read().then(i.Xa.bind(i)).catch(i.ka.bind(i))}function Vo(i){i.readyState=4,i.l=null,i.j=null,i.A=null,oo(i)}function oo(i){i.onreadystatechange&&i.onreadystatechange.call(i)}(Re=ds.prototype).open=function(i,e){if(this.readyState!=$o)throw this.abort(),Error("Error reopening a connection");this.C=i,this.B=e,this.readyState=1,oo(this)},Re.send=function(i){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};i&&(e.body=i),(this.F||Be).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},Re.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Vo(this)),this.readyState=$o},Re.$a=function(i){if(this.g&&(this.l=i,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=i.headers,this.readyState=2,oo(this)),this.g&&(this.readyState=3,oo(this),this.g)))if("arraybuffer"===this.responseType)i.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof Be.ReadableStream<"u"&&"body"in i){if(this.j=i.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;ks(this)}else i.text().then(this.Za.bind(this),this.ka.bind(this))},Re.Xa=function(i){if(this.g){if(this.u&&i.value)this.response.push(i.value);else if(!this.u){var e=i.value?i.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!i.done}))&&(this.response=this.responseText+=e)}i.done?Vo(this):oo(this),3==this.readyState&&ks(this)}},Re.Za=function(i){this.g&&(this.response=this.responseText=i,Vo(this))},Re.Ya=function(i){this.g&&(this.response=i,Vo(this))},Re.ka=function(){this.g&&Vo(this)},Re.setRequestHeader=function(i,e){this.v.append(i,e)},Re.getResponseHeader=function(i){return this.h&&this.h.get(i.toLowerCase())||""},Re.getAllResponseHeaders=function(){if(!this.h)return"";const i=[],e=this.h.entries();for(var t=e.next();!t.done;)i.push((t=t.value)[0]+": "+t[1]),t=e.next();return i.join("\r\n")},Object.defineProperty(ds.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(i){this.m=i?"include":"same-origin"}});var k=Be.JSON.parse;function ue(i){In.call(this),this.headers=new Map,this.u=i||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=N,this.L=this.M=!1}ht(ue,In);var N="",de=/^https?$/i,Ze=["POST","PUT"];function xr(i,e){i.h=!1,i.g&&(i.l=!0,i.g.abort(),i.l=!1),i.j=e,i.m=5,Jr(i),Si(i)}function Jr(i){i.F||(i.F=!0,Wn(i,"complete"),Wn(i,"error"))}function xi(i){if(i.h&&typeof Qe<"u"&&(!i.C[1]||4!=ws(i)||2!=i.da()))if(i.v&&4==ws(i))Gn(i.La,0,i);else if(Wn(i,"readystatechange"),4==ws(i)){i.h=!1;try{const Y=i.da();e:switch(Y){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var a;if(a=0===Y){var f=String(i.I).match(go)[1]||null;if(!f&&Be.self&&Be.self.location){var _=Be.self.location.protocol;f=_.substr(0,_.length-1)}a=!de.test(f?f.toLowerCase():"")}t=a}if(t)Wn(i,"complete"),Wn(i,"success");else{i.m=6;try{var S=2<ws(i)?i.g.statusText:""}catch{S=""}i.j=S+" ["+i.da()+"]",Jr(i)}}finally{Si(i)}}}function Si(i,e){if(i.g){js(i);const t=i.g,a=i.C[0]?Me:null;i.g=null,i.C=null,e||Wn(i,"ready");try{t.onreadystatechange=a}catch{}}}function js(i){i.g&&i.L&&(i.g.ontimeout=null),i.A&&(Be.clearTimeout(i.A),i.A=null)}function ws(i){return i.g?i.g.readyState:0}function eo(i){try{if(!i.g)return null;if("response"in i.g)return i.g.response;switch(i.K){case N:case"text":return i.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in i.g)return i.g.mozResponseArrayBuffer}return null}catch{return null}}function Fo(i){let e="";return Qr(i,function(t,a){e+=a,e+=":",e+=t,e+="\r\n"}),e}function be(i,e,t){e:{for(a in t){var a=!1;break e}a=!0}a||(t=Fo(t),"string"==typeof i?null!=t&&encodeURIComponent(String(t)):Oi(i,e,t))}function ae(i,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[i]||e}function $(i){this.Ga=0,this.i=[],this.j=new Qn,this.oa=this.wa=this.G=this.Y=this.g=this.Da=this.F=this.ma=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=ae("failFast",!1,i),this.M=this.v=this.u=this.m=this.l=null,this.aa=!0,this.ta=this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=ae("baseRetryDelayMs",5e3,i),this.hb=ae("retryDelaySeedMs",1e4,i),this.eb=ae("forwardChannelMaxRetries",2,i),this.xa=ae("forwardChannelRequestTimeoutMs",2e4,i),this.va=i&&i.xmlHttpFactory||void 0,this.Ha=i&&i.dc||!1,this.K=void 0,this.I=i&&i.supportsCrossDomainXhr||!1,this.J="",this.h=new Oo(i&&i.concurrentRequestLimit),this.Ja=new mo,this.P=i&&i.fastHandshake||!1,this.O=i&&i.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=i&&i.bc||!1,i&&i.Ea&&this.j.Ea(),i&&i.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&i&&i.detectBufferingProxy||!1,this.na=void 0,this.S=0,this.L=!1,this.pa=this.B=null}function L(i){if(F(i),3==i.H){var e=i.W++,t=ys(i.G);Oi(t,"SID",i.J),Oi(t,"RID",e),Oi(t,"TYPE","terminate"),Ht(i,t),(e=new ye(i,i.j,e,void 0)).L=2,e.v=Vr(ys(t)),t=!1,Be.navigator&&Be.navigator.sendBeacon&&(t=Be.navigator.sendBeacon(e.v.toString(),"")),!t&&Be.Image&&((new Image).src=e.v,t=!0),t||(e.g=Ns(e.l,null),e.g.ha(e.v)),e.G=Date.now(),Qi(e)}Ss(i)}function D(i){i.g&&(Tr(i),i.g.cancel(),i.g=null)}function F(i){D(i),i.u&&(Be.clearTimeout(i.u),i.u=null),_i(i),i.h.cancel(),i.m&&("number"==typeof i.m&&Be.clearTimeout(i.m),i.m=null)}function fe(i){ko(i.h)||i.m||(i.m=!0,oe(i.Na,i),i.C=0)}function Ot(i,e){var t;t=e?e.m:i.W++;const a=ys(i.G);Oi(a,"SID",i.J),Oi(a,"RID",t),Oi(a,"AID",i.V),Ht(i,a),i.o&&i.s&&be(a,i.o,i.s),t=new ye(i,i.j,t,i.C+1),null===i.o&&(t.I=i.s),e&&(i.i=e.F.concat(i.i)),e=Pn(i,t,1e3),t.setTimeout(Math.round(.5*i.xa)+Math.round(.5*i.xa*Math.random())),qo(i.h,t),Ln(t,a,e)}function Ht(i,e){i.ma&&Qr(i.ma,function(t,a){Oi(e,a,t)}),i.l&&us({},function(t,a){Oi(e,a,t)})}function Pn(i,e,t){t=Math.min(i.i.length,t);var a=i.l?Lt(i.l.Va,i.l,i):null;e:{var f=i.i;let _=-1;for(;;){const S=["count="+t];-1==_?0<t?(_=f[0].h,S.push("ofs="+_)):_=0:S.push("ofs="+_);let Y=!0;for(let ce=0;ce<t;ce++){let Ee=f[ce].h;const Ye=f[ce].g;if(Ee-=_,0>Ee)_=Math.max(0,f[ce].h-100),Y=!1;else try{Zo(Ye,S,"req"+Ee+"_")}catch{a&&a(Ye)}}if(Y){a=S.join("&");break e}}}return i=i.i.splice(0,t),e.F=i,a}function zr(i){i.g||i.u||(i.ba=1,oe(i.Ma,i),i.A=0)}function ii(i){return!(i.g||i.u||3<=i.A||(i.ba++,i.u=as(Lt(i.Ma,i),ao(i,i.A)),i.A++,0))}function Tr(i){null!=i.B&&(Be.clearTimeout(i.B),i.B=null)}function hi(i){i.g=new ye(i,i.j,"rpc",i.ba),null===i.o&&(i.g.I=i.s),i.g.O=0;var e=ys(i.wa);Oi(e,"RID","rpc"),Oi(e,"SID",i.J),Oi(e,"CI",i.M?"0":"1"),Oi(e,"AID",i.V),Oi(e,"TYPE","xmlhttp"),Ht(i,e),i.o&&i.s&&be(e,i.o,i.s),i.K&&i.g.setTimeout(i.K);var t=i.g;i=i.oa,t.L=1,t.v=Vr(ys(e)),t.s=null,t.S=!0,Hn(t,i)}function _i(i){null!=i.v&&(Be.clearTimeout(i.v),i.v=null)}function qi(i,e){var t=null;if(i.g==e){_i(i),Tr(i),i.g=null;var a=2}else{if(!Yi(i.h,e))return;t=e.F,Bo(i.h,e),a=1}if(0!=i.H)if(i.ta=e.aa,e.i)if(1==a){t=e.s?e.s.length:0,e=Date.now()-e.G;var f=i.C;Wn(a=ns(),new wo(a,t)),fe(i)}else zr(i);else if(3==(f=e.o)||0==f&&0<i.ta||!(1==a&&function dt(i,e){return!(Ws(i.h)>=i.h.j-(i.m?1:0)||(i.m?(i.i=e.F.concat(i.i),0):1==i.H||2==i.H||i.C>=(i.cb?0:i.eb)||(i.m=as(Lt(i.Na,i,e),ao(i,i.C)),i.C++,0)))}(i,e)||2==a&&ii(i)))switch(t&&0<t.length&&(e=i.h,e.i=e.i.concat(t)),f){case 1:hs(i,5);break;case 4:hs(i,10);break;case 3:hs(i,6);break;default:hs(i,2)}}function ao(i,e){let t=i.ab+Math.floor(Math.random()*i.hb);return i.l||(t*=2),t*e}function hs(i,e){if(i.j.info("Error code "+e),2==e){var t=null;i.l&&(t=null);var a=Lt(i.pb,i);t||(t=new Ds("//www.google.com/images/cleardot.gif"),Be.location&&"http"==Be.location.protocol||Zr(t,"https"),Vr(t)),function Us(i,e){const t=new Qn;if(Be.Image){const a=new Image;a.onload=Rt(gi,t,a,"TestLoadImage: loaded",!0,e),a.onerror=Rt(gi,t,a,"TestLoadImage: error",!1,e),a.onabort=Rt(gi,t,a,"TestLoadImage: abort",!1,e),a.ontimeout=Rt(gi,t,a,"TestLoadImage: timeout",!1,e),Be.setTimeout(function(){a.ontimeout&&a.ontimeout()},1e4),a.src=i}else e(!1)}(t.toString(),a)}else rs(2);i.H=0,i.l&&i.l.za(e),Ss(i),F(i)}function Ss(i){if(i.H=0,i.pa=[],i.l){const e=So(i.h);(0!=e.length||0!=i.i.length)&&(it(i.pa,e),it(i.pa,i.i),i.h.i.length=0,vt(i.i),i.i.length=0),i.l.ya()}}function Ti(i,e,t){var a=t instanceof Ds?ys(t):new Ds(t,void 0);if(""!=a.g)e&&(a.g=e+"."+a.g),Js(a,a.m);else{var f=Be.location;a=f.protocol,e=e?e+"."+f.hostname:f.hostname,f=+f.port;var _=new Ds(null,void 0);a&&Zr(_,a),e&&(_.g=e),f&&Js(_,f),t&&(_.l=t),a=_}return e=i.Da,(t=i.F)&&e&&Oi(a,t,e),Oi(a,"VER",i.qa),Ht(i,a),a}function Ns(i,e,t){if(e&&!i.I)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new ue(t&&i.Ha&&!i.va?new No({ob:!0}):i.va)).Oa(i.I),e}function fo(){}function Xo(){if(ft&&!(10<=Number(Xn)))throw Error("Environmental error: no available transport.")}function Lo(i,e){In.call(this),this.g=new $(e),this.l=i,this.h=e&&e.messageUrlParams||null,i=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(i?i["X-Client-Protocol"]="webchannel":i={"X-Client-Protocol":"webchannel"}),this.g.s=i,i=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(i?i["X-WebChannel-Content-Type"]=e.messageContentType:i={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(i?i["X-WebChannel-Client-Profile"]=e.Ca:i={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=i,(i=e&&e.cc)&&!kt(i)&&(this.g.o=i),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!kt(e)&&(this.g.F=e,null!==(i=this.h)&&e in i&&e in(i=this.h)&&delete i[e]),this.j=new Na(this)}function ya(i){pe.call(this);var e=i.__sm__;if(e){e:{for(const t in e){i=t;break e}i=void 0}(this.i=i)&&(i=this.i,e=null!==e&&i in e?e[i]:void 0),this.data=e}else this.data=i}function oa(){ke.call(this),this.status=1}function Na(i){this.g=i}function Qo(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function za(i,e,t){t||(t=0);var a=Array(16);if("string"==typeof e)for(var f=0;16>f;++f)a[f]=e.charCodeAt(t++)|e.charCodeAt(t++)<<8|e.charCodeAt(t++)<<16|e.charCodeAt(t++)<<24;else for(f=0;16>f;++f)a[f]=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;var _=i.g[3],S=(e=i.g[0])+(_^(t=i.g[1])&((f=i.g[2])^_))+a[0]+3614090360&4294967295;S=(t=(f=(_=(e=(t=(f=(_=(e=(t=(f=(_=(e=(t=(f=(_=(e=(t=(f=(_=(e=(t=(f=(_=(e=(t=(f=(_=(e=(t=(f=(_=(e=(t=(f=(_=(e=(t=(f=(_=(e=(t=(f=(_=(e=(t=(f=(_=(e=(t=(f=(_=(e=(t=(f=(_=(e=(t=(f=(_=(e=t+(S<<7&4294967295|S>>>25))+((S=_+(f^e&(t^f))+a[1]+3905402710&4294967295)<<12&4294967295|S>>>20))+((S=f+(t^_&(e^t))+a[2]+606105819&4294967295)<<17&4294967295|S>>>15))+((S=t+(e^f&(_^e))+a[3]+3250441966&4294967295)<<22&4294967295|S>>>10))+((S=e+(_^t&(f^_))+a[4]+4118548399&4294967295)<<7&4294967295|S>>>25))+((S=_+(f^e&(t^f))+a[5]+1200080426&4294967295)<<12&4294967295|S>>>20))+((S=f+(t^_&(e^t))+a[6]+2821735955&4294967295)<<17&4294967295|S>>>15))+((S=t+(e^f&(_^e))+a[7]+4249261313&4294967295)<<22&4294967295|S>>>10))+((S=e+(_^t&(f^_))+a[8]+1770035416&4294967295)<<7&4294967295|S>>>25))+((S=_+(f^e&(t^f))+a[9]+2336552879&4294967295)<<12&4294967295|S>>>20))+((S=f+(t^_&(e^t))+a[10]+4294925233&4294967295)<<17&4294967295|S>>>15))+((S=t+(e^f&(_^e))+a[11]+2304563134&4294967295)<<22&4294967295|S>>>10))+((S=e+(_^t&(f^_))+a[12]+1804603682&4294967295)<<7&4294967295|S>>>25))+((S=_+(f^e&(t^f))+a[13]+4254626195&4294967295)<<12&4294967295|S>>>20))+((S=f+(t^_&(e^t))+a[14]+2792965006&4294967295)<<17&4294967295|S>>>15))+((S=t+(e^f&(_^e))+a[15]+1236535329&4294967295)<<22&4294967295|S>>>10))+((S=e+(f^_&(t^f))+a[1]+4129170786&4294967295)<<5&4294967295|S>>>27))+((S=_+(t^f&(e^t))+a[6]+3225465664&4294967295)<<9&4294967295|S>>>23))+((S=f+(e^t&(_^e))+a[11]+643717713&4294967295)<<14&4294967295|S>>>18))+((S=t+(_^e&(f^_))+a[0]+3921069994&4294967295)<<20&4294967295|S>>>12))+((S=e+(f^_&(t^f))+a[5]+3593408605&4294967295)<<5&4294967295|S>>>27))+((S=_+(t^f&(e^t))+a[10]+38016083&4294967295)<<9&4294967295|S>>>23))+((S=f+(e^t&(_^e))+a[15]+3634488961&4294967295)<<14&4294967295|S>>>18))+((S=t+(_^e&(f^_))+a[4]+3889429448&4294967295)<<20&4294967295|S>>>12))+((S=e+(f^_&(t^f))+a[9]+568446438&4294967295)<<5&4294967295|S>>>27))+((S=_+(t^f&(e^t))+a[14]+3275163606&4294967295)<<9&4294967295|S>>>23))+((S=f+(e^t&(_^e))+a[3]+4107603335&4294967295)<<14&4294967295|S>>>18))+((S=t+(_^e&(f^_))+a[8]+1163531501&4294967295)<<20&4294967295|S>>>12))+((S=e+(f^_&(t^f))+a[13]+2850285829&4294967295)<<5&4294967295|S>>>27))+((S=_+(t^f&(e^t))+a[2]+4243563512&4294967295)<<9&4294967295|S>>>23))+((S=f+(e^t&(_^e))+a[7]+1735328473&4294967295)<<14&4294967295|S>>>18))+((S=t+(_^e&(f^_))+a[12]+2368359562&4294967295)<<20&4294967295|S>>>12))+((S=e+(t^f^_)+a[5]+4294588738&4294967295)<<4&4294967295|S>>>28))+((S=_+(e^t^f)+a[8]+2272392833&4294967295)<<11&4294967295|S>>>21))+((S=f+(_^e^t)+a[11]+1839030562&4294967295)<<16&4294967295|S>>>16))+((S=t+(f^_^e)+a[14]+4259657740&4294967295)<<23&4294967295|S>>>9))+((S=e+(t^f^_)+a[1]+2763975236&4294967295)<<4&4294967295|S>>>28))+((S=_+(e^t^f)+a[4]+1272893353&4294967295)<<11&4294967295|S>>>21))+((S=f+(_^e^t)+a[7]+4139469664&4294967295)<<16&4294967295|S>>>16))+((S=t+(f^_^e)+a[10]+3200236656&4294967295)<<23&4294967295|S>>>9))+((S=e+(t^f^_)+a[13]+681279174&4294967295)<<4&4294967295|S>>>28))+((S=_+(e^t^f)+a[0]+3936430074&4294967295)<<11&4294967295|S>>>21))+((S=f+(_^e^t)+a[3]+3572445317&4294967295)<<16&4294967295|S>>>16))+((S=t+(f^_^e)+a[6]+76029189&4294967295)<<23&4294967295|S>>>9))+((S=e+(t^f^_)+a[9]+3654602809&4294967295)<<4&4294967295|S>>>28))+((S=_+(e^t^f)+a[12]+3873151461&4294967295)<<11&4294967295|S>>>21))+((S=f+(_^e^t)+a[15]+530742520&4294967295)<<16&4294967295|S>>>16))+((S=t+(f^_^e)+a[2]+3299628645&4294967295)<<23&4294967295|S>>>9))+((S=e+(f^(t|~_))+a[0]+4096336452&4294967295)<<6&4294967295|S>>>26))+((S=_+(t^(e|~f))+a[7]+1126891415&4294967295)<<10&4294967295|S>>>22))+((S=f+(e^(_|~t))+a[14]+2878612391&4294967295)<<15&4294967295|S>>>17))+((S=t+(_^(f|~e))+a[5]+4237533241&4294967295)<<21&4294967295|S>>>11))+((S=e+(f^(t|~_))+a[12]+1700485571&4294967295)<<6&4294967295|S>>>26))+((S=_+(t^(e|~f))+a[3]+2399980690&4294967295)<<10&4294967295|S>>>22))+((S=f+(e^(_|~t))+a[10]+4293915773&4294967295)<<15&4294967295|S>>>17))+((S=t+(_^(f|~e))+a[1]+2240044497&4294967295)<<21&4294967295|S>>>11))+((S=e+(f^(t|~_))+a[8]+1873313359&4294967295)<<6&4294967295|S>>>26))+((S=_+(t^(e|~f))+a[15]+4264355552&4294967295)<<10&4294967295|S>>>22))+((S=f+(e^(_|~t))+a[6]+2734768916&4294967295)<<15&4294967295|S>>>17))+((S=t+(_^(f|~e))+a[13]+1309151649&4294967295)<<21&4294967295|S>>>11))+((_=(e=t+((S=e+(f^(t|~_))+a[4]+4149444226&4294967295)<<6&4294967295|S>>>26))+((S=_+(t^(e|~f))+a[11]+3174756917&4294967295)<<10&4294967295|S>>>22))^((f=_+((S=f+(e^(_|~t))+a[2]+718787259&4294967295)<<15&4294967295|S>>>17))|~e))+a[9]+3951481745&4294967295,i.g[0]=i.g[0]+e&4294967295,i.g[1]=i.g[1]+(f+(S<<21&4294967295|S>>>11))&4294967295,i.g[2]=i.g[2]+f&4294967295,i.g[3]=i.g[3]+_&4294967295}function Ts(i,e){this.h=e;for(var t=[],a=!0,f=i.length-1;0<=f;f--){var _=0|i[f];a&&_==e||(t[f]=_,a=!1)}this.g=t}(Re=ue.prototype).Oa=function(i){this.M=i},Re.ha=function(i,e,t,a){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+i);e=e?e.toUpperCase():"GET",this.I=i,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():_e.g(),this.C=function Bs(i){return i.h||(i.h=i.i())}(this.u?this.u:_e),this.g.onreadystatechange=Lt(this.La,this);try{this.G=!0,this.g.open(e,String(i),!0),this.G=!1}catch(_){return void xr(this,_)}if(i=t||"",t=new Map(this.headers),a)if(Object.getPrototypeOf(a)===Object.prototype)for(var f in a)t.set(f,a[f]);else{if("function"!=typeof a.keys||"function"!=typeof a.get)throw Error("Unknown input type for opt_headers: "+String(a));for(const _ of a.keys())t.set(_,a.get(_))}a=Array.from(t.keys()).find(_=>"content-type"==_.toLowerCase()),f=Be.FormData&&i instanceof Be.FormData,!(0<=Dt(Ze,e))||a||f||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[_,S]of t)this.g.setRequestHeader(_,S);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{js(this),0<this.B&&((this.L=function Sn(i){return ft&&function ur(){return tt(tr,9,function(){let i=0;const e=Qt(String(rn)).split("."),t=Qt("9").split("."),a=Math.max(e.length,t.length);for(let S=0;0==i&&S<a;S++){var f=e[S]||"",_=t[S]||"";do{if(f=/(\d*)(\D*)(.*)/.exec(f)||["","","",""],_=/(\d*)(\D*)(.*)/.exec(_)||["","","",""],0==f[0].length&&0==_[0].length)break;i=Ae(0==f[1].length?0:parseInt(f[1],10),0==_[1].length?0:parseInt(_[1],10))||Ae(0==f[2].length,0==_[2].length)||Ae(f[2],_[2]),f=f[3],_=_[3]}while(0==i)}return 0<=i})}()&&"number"==typeof i.timeout&&void 0!==i.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Lt(this.ua,this)):this.A=Gn(this.ua,this.B,this)),this.v=!0,this.g.send(i),this.v=!1}catch(_){xr(this,_)}},Re.ua=function(){typeof Qe<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Wn(this,"timeout"),this.abort(8))},Re.abort=function(i){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=i||7,Wn(this,"complete"),Wn(this,"abort"),Si(this))},Re.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Si(this,!0)),ue.$.N.call(this)},Re.La=function(){this.s||(this.G||this.v||this.l?xi(this):this.kb())},Re.kb=function(){xi(this)},Re.da=function(){try{return 2<ws(this)?this.g.status:-1}catch{return-1}},Re.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},Re.Wa=function(i){if(this.g){var e=this.g.responseText;return i&&0==e.indexOf(i)&&(e=e.substring(i.length)),k(e)}},Re.Ia=function(){return this.m},Re.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(Re=$.prototype).qa=8,Re.H=1,Re.Na=function(i){if(this.m)if(this.m=null,1==this.H){if(!i){this.W=Math.floor(1e5*Math.random()),i=this.W++;const f=new ye(this,this.j,i,void 0);let _=this.s;if(this.U&&(_?(_=br(_),ui(_,this.U)):_=this.U),null!==this.o||this.O||(f.I=_,_=null),this.P)e:{for(var e=0,t=0;t<this.i.length;t++){var a=this.i[t];if(void 0===(a="__data__"in a.g&&"string"==typeof(a=a.g.__data__)?a.length:void 0))break;if(4096<(e+=a)){e=t;break e}if(4096===e||t===this.i.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=Pn(this,f,e),Oi(t=ys(this.G),"RID",i),Oi(t,"CVER",22),this.F&&Oi(t,"X-HTTP-Session-Id",this.F),Ht(this,t),_&&(this.O?e="headers="+encodeURIComponent(String(Fo(_)))+"&"+e:this.o&&be(t,this.o,_)),qo(this.h,f),this.bb&&Oi(t,"TYPE","init"),this.P?(Oi(t,"$req",e),Oi(t,"SID","null"),f.ba=!0,Ln(f,t,null)):Ln(f,t,e),this.H=2}}else 3==this.H&&(i?Ot(this,i):0==this.i.length||ko(this.h)||Ot(this))},Re.Ma=function(){if(this.u=null,hi(this),this.ca&&!(this.L||null==this.g||0>=this.S)){var i=2*this.S;this.j.info("BP detection timer enabled: "+i),this.B=as(Lt(this.jb,this),i)}},Re.jb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.M=!1,this.L=!0,rs(10),D(this),hi(this))},Re.ib=function(){null!=this.v&&(this.v=null,D(this),ii(this),rs(19))},Re.pb=function(i){i?(this.j.info("Successfully pinged google.com"),rs(2)):(this.j.info("Failed to ping google.com"),rs(1))},(Re=fo.prototype).Ba=function(){},Re.Aa=function(){},Re.za=function(){},Re.ya=function(){},Re.Va=function(){},Xo.prototype.g=function(i,e){return new Lo(i,e)},ht(Lo,In),Lo.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.I=!0);var i=this.g,e=this.l,t=this.h||void 0;rs(0),i.Y=e,i.ma=t||{},i.M=i.aa,i.G=Ti(i,null,i.Y),fe(i)},Lo.prototype.close=function(){L(this.g)},Lo.prototype.u=function(i){var e=this.g;if("string"==typeof i){var t={};t.__data__=i,i=t}else this.v&&((t={}).__data__=Nr(i),i=t);e.i.push(new class{constructor(i,e){this.h=i,this.g=e}}(e.fb++,i)),3==e.H&&fe(e)},Lo.prototype.N=function(){this.g.l=null,delete this.j,L(this.g),delete this.g,Lo.$.N.call(this)},ht(ya,pe),ht(oa,ke),ht(Na,fo),Na.prototype.Ba=function(){Wn(this.g,"a")},Na.prototype.Aa=function(i){Wn(this.g,new ya(i))},Na.prototype.za=function(i){Wn(this.g,new oa)},Na.prototype.ya=function(){Wn(this.g,"b")},ht(Qo,function ja(){this.blockSize=-1}),Qo.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Qo.prototype.j=function(i,e){void 0===e&&(e=i.length);for(var t=e-this.blockSize,a=this.m,f=this.h,_=0;_<e;){if(0==f)for(;_<=t;)za(this,i,_),_+=this.blockSize;if("string"==typeof i){for(;_<e;)if(a[f++]=i.charCodeAt(_++),f==this.blockSize){za(this,a),f=0;break}}else for(;_<e;)if(a[f++]=i[_++],f==this.blockSize){za(this,a),f=0;break}}this.h=f,this.i+=e},Qo.prototype.l=function(){var i=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);i[0]=128;for(var e=1;e<i.length-8;++e)i[e]=0;var t=8*this.i;for(e=i.length-8;e<i.length;++e)i[e]=255&t,t/=256;for(this.j(i),i=Array(16),e=t=0;4>e;++e)for(var a=0;32>a;a+=8)i[t++]=this.g[e]>>>a&255;return i};var gl={};function Fa(i){return-128<=i&&128>i?tt(gl,i,function(e){return new Ts([0|e],0>e?-1:0)}):new Ts([0|i],0>i?-1:0)}function zo(i){if(isNaN(i)||!isFinite(i))return X;if(0>i)return At(zo(-i));for(var e=[],t=1,a=0;i>=t;a++)e[a]=i/t|0,t*=M;return new Ts(e,0)}var M=4294967296,X=Fa(0),le=Fa(1),De=Fa(16777216);function je(i){if(0!=i.h)return!1;for(var e=0;e<i.g.length;e++)if(0!=i.g[e])return!1;return!0}function lt(i){return-1==i.h}function At(i){for(var e=i.g.length,t=[],a=0;a<e;a++)t[a]=~i.g[a];return new Ts(t,~i.h).add(le)}function Yt(i,e){return i.add(At(e))}function on(i,e){for(;(65535&i[e])!=i[e];)i[e+1]+=i[e]>>>16,i[e]&=65535,e++}function Bn(i,e){this.g=i,this.h=e}function sr(i,e){if(je(e))throw Error("division by zero");if(je(i))return new Bn(X,X);if(lt(i))return e=sr(At(i),e),new Bn(At(e.g),At(e.h));if(lt(e))return e=sr(i,At(e)),new Bn(At(e.g),e.h);if(30<i.g.length){if(lt(i)||lt(e))throw Error("slowDivide_ only works with positive integers.");for(var t=le,a=e;0>=a.X(i);)t=vi(t),a=vi(a);var f=wr(t,1),_=wr(a,1);for(a=wr(a,2),t=wr(t,2);!je(a);){var S=_.add(a);0>=S.X(i)&&(f=f.add(t),_=S),a=wr(a,1),t=wr(t,1)}return e=Yt(i,f.R(e)),new Bn(f,e)}for(f=X;0<=i.X(e);){for(t=Math.max(1,Math.floor(i.ea()/e.ea())),a=48>=(a=Math.ceil(Math.log(t)/Math.LN2))?1:Math.pow(2,a-48),S=(_=zo(t)).R(e);lt(S)||0<S.X(i);)S=(_=zo(t-=a)).R(e);je(_)&&(_=le),f=f.add(_),i=Yt(i,S)}return new Bn(f,i)}function vi(i){for(var e=i.g.length+1,t=[],a=0;a<e;a++)t[a]=i.D(a)<<1|i.D(a-1)>>>31;return new Ts(t,i.h)}function wr(i,e){var t=e>>5;e%=32;for(var a=i.g.length-t,f=[],_=0;_<a;_++)f[_]=0<e?i.D(_+t)>>>e|i.D(_+t+1)<<32-e:i.D(_+t);return new Ts(f,i.h)}(Re=Ts.prototype).ea=function(){if(lt(this))return-At(this).ea();for(var i=0,e=1,t=0;t<this.g.length;t++){var a=this.D(t);i+=(0<=a?a:M+a)*e,e*=M}return i},Re.toString=function(i){if(2>(i=i||10)||36<i)throw Error("radix out of range: "+i);if(je(this))return"0";if(lt(this))return"-"+At(this).toString(i);for(var e=zo(Math.pow(i,6)),t=this,a="";;){var f=sr(t,e).g,_=((0<(t=Yt(t,f.R(e))).g.length?t.g[0]:t.h)>>>0).toString(i);if(je(t=f))return _+a;for(;6>_.length;)_="0"+_;a=_+a}},Re.D=function(i){return 0>i?0:i<this.g.length?this.g[i]:this.h},Re.X=function(i){return lt(i=Yt(this,i))?-1:je(i)?0:1},Re.abs=function(){return lt(this)?At(this):this},Re.add=function(i){for(var e=Math.max(this.g.length,i.g.length),t=[],a=0,f=0;f<=e;f++){var _=a+(65535&this.D(f))+(65535&i.D(f)),S=(_>>>16)+(this.D(f)>>>16)+(i.D(f)>>>16);a=S>>>16,t[f]=(S&=65535)<<16|(_&=65535)}return new Ts(t,-2147483648&t[t.length-1]?-1:0)},Re.R=function(i){if(je(this)||je(i))return X;if(lt(this))return lt(i)?At(this).R(At(i)):At(At(this).R(i));if(lt(i))return At(this.R(At(i)));if(0>this.X(De)&&0>i.X(De))return zo(this.ea()*i.ea());for(var e=this.g.length+i.g.length,t=[],a=0;a<2*e;a++)t[a]=0;for(a=0;a<this.g.length;a++)for(var f=0;f<i.g.length;f++){var _=this.D(a)>>>16,S=65535&this.D(a),Y=i.D(f)>>>16,ce=65535&i.D(f);t[2*a+2*f]+=S*ce,on(t,2*a+2*f),t[2*a+2*f+1]+=_*ce,on(t,2*a+2*f+1),t[2*a+2*f+1]+=S*Y,on(t,2*a+2*f+1),t[2*a+2*f+2]+=_*Y,on(t,2*a+2*f+2)}for(a=0;a<e;a++)t[a]=t[2*a+1]<<16|t[2*a];for(a=e;a<2*e;a++)t[a]=0;return new Ts(t,0)},Re.gb=function(i){return sr(this,i).h},Re.and=function(i){for(var e=Math.max(this.g.length,i.g.length),t=[],a=0;a<e;a++)t[a]=this.D(a)&i.D(a);return new Ts(t,this.h&i.h)},Re.or=function(i){for(var e=Math.max(this.g.length,i.g.length),t=[],a=0;a<e;a++)t[a]=this.D(a)|i.D(a);return new Ts(t,this.h|i.h)},Re.xor=function(i){for(var e=Math.max(this.g.length,i.g.length),t=[],a=0;a<e;a++)t[a]=this.D(a)^i.D(a);return new Ts(t,this.h^i.h)},Xo.prototype.createWebChannel=Xo.prototype.g,Lo.prototype.send=Lo.prototype.u,Lo.prototype.open=Lo.prototype.m,Lo.prototype.close=Lo.prototype.close,zi.NO_ERROR=0,zi.TIMEOUT=8,zi.HTTP_ERROR=6,qs.COMPLETE="complete",Zs.EventType=ie,ie.OPEN="a",ie.CLOSE="b",ie.ERROR="c",ie.MESSAGE="d",In.prototype.listen=In.prototype.O,ue.prototype.listenOnce=ue.prototype.P,ue.prototype.getLastError=ue.prototype.Sa,ue.prototype.getLastErrorCode=ue.prototype.Ia,ue.prototype.getStatus=ue.prototype.da,ue.prototype.getResponseJson=ue.prototype.Wa,ue.prototype.getResponseText=ue.prototype.ja,ue.prototype.send=ue.prototype.ha,ue.prototype.setWithCredentials=ue.prototype.Oa,Qo.prototype.digest=Qo.prototype.l,Qo.prototype.reset=Qo.prototype.reset,Qo.prototype.update=Qo.prototype.j,Ts.prototype.add=Ts.prototype.add,Ts.prototype.multiply=Ts.prototype.R,Ts.prototype.modulo=Ts.prototype.gb,Ts.prototype.compare=Ts.prototype.X,Ts.prototype.toNumber=Ts.prototype.ea,Ts.prototype.toString=Ts.prototype.toString,Ts.prototype.getBits=Ts.prototype.D,Ts.fromNumber=zo,Ts.fromString=function sl(i,e){if(0==i.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==i.charAt(0))return At(sl(i.substring(1),e));if(0<=i.indexOf("-"))throw Error('number format error: interior "-" character');for(var t=zo(Math.pow(e,8)),a=X,f=0;f<i.length;f+=8){var _=Math.min(8,i.length-f),S=parseInt(i.substring(f,f+_),e);8>_?(_=zo(Math.pow(e,_)),a=a.R(_).add(zo(S))):a=(a=a.R(t)).add(zo(S))}return a};var Fs=Se.createWebChannelTransport=function(){return new Xo},lo=Se.getStatEventTarget=function(){return ns()},q=Se.ErrorCode=zi,he=Se.EventType=qs,J=Se.Event=jr,Ne=Se.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},bt=Se.FetchXmlHttpFactory=No,vn=Se.WebChannel=Zs,kn=Se.XhrIo=ue,li=Se.Md5=Qo,mr=Se.Integer=Ts;const Wi="@firebase/firestore";class wi{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}wi.UNAUTHENTICATED=new wi(null),wi.GOOGLE_CREDENTIALS=new wi("google-credentials-uid"),wi.FIRST_PARTY=new wi("first-party-uid"),wi.MOCK_USER=new wi("mock-user");let Ni="9.22.0";const fs=new Fe.Yd("@firebase/firestore");function As(){return fs.logLevel}function po(i){fs.setLogLevel(i)}function $n(i,...e){if(fs.logLevel<=Fe.in.DEBUG){const t=e.map(Ji);fs.debug(`Firestore (${Ni}): ${i}`,...t)}}function Fi(i,...e){if(fs.logLevel<=Fe.in.ERROR){const t=e.map(Ji);fs.error(`Firestore (${Ni}): ${i}`,...t)}}function Go(i,...e){if(fs.logLevel<=Fe.in.WARN){const t=e.map(Ji);fs.warn(`Firestore (${Ni}): ${i}`,...t)}}function Ji(i){if("string"==typeof i)return i;try{return JSON.stringify(i)}catch{return i}}function _r(i="Unexpected state"){const e=`FIRESTORE (${Ni}) INTERNAL ASSERTION FAILED: `+i;throw Fi(e),new Error(e)}function Hr(i,e){i||_r()}function Kn(i,e){i||_r()}function Un(i,e){return i}const Dn={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class qn extends Xe.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class vs{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class Ma{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Ha{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(wi.UNAUTHENTICATED))}shutdown(){}}class Ea{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class Cl{constructor(e){this.t=e,this.currentUser=wi.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var a=this;let f=this.i;const _=Ee=>this.i!==f?(f=this.i,t(Ee)):Promise.resolve();let S=new vs;this.o=()=>{this.i++,this.currentUser=this.u(),S.resolve(),S=new vs,e.enqueueRetryable(()=>_(this.currentUser))};const Y=()=>{const Ee=S;e.enqueueRetryable((0,d.Z)(function*(){yield Ee.promise,yield _(a.currentUser)}))},ce=Ee=>{$n("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=Ee,this.auth.addAuthTokenListener(this.o),Y()};this.t.onInit(Ee=>ce(Ee)),setTimeout(()=>{if(!this.auth){const Ee=this.t.getImmediate({optional:!0});Ee?ce(Ee):($n("FirebaseAuthCredentialsProvider","Auth not yet detected"),S.resolve(),S=new vs)}},0),Y()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(a=>this.i!==e?($n("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(Hr("string"==typeof a.accessToken),new Ma(a.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Hr(null===e||"string"==typeof e),new wi(e)}}class Dl{constructor(e,t,a){this.h=e,this.l=t,this.m=a,this.type="FirstParty",this.user=wi.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class ua{constructor(e,t,a){this.h=e,this.l=t,this.m=a}getToken(){return Promise.resolve(new Dl(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(wi.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class ml{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Bc{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,t){const a=_=>{null!=_.error&&$n("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${_.error.message}`);const S=_.token!==this.T;return this.T=_.token,$n("FirebaseAppCheckTokenProvider",`Received ${S?"new":"existing"} token.`),S?t(_.token):Promise.resolve()};this.o=_=>{e.enqueueRetryable(()=>a(_))};const f=_=>{$n("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=_,this.appCheck.addTokenListener(this.o)};this.I.onInit(_=>f(_)),setTimeout(()=>{if(!this.appCheck){const _=this.I.getImmediate({optional:!0});_?f(_):$n("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Hr("string"==typeof t.token),this.T=t.token,new ml(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function aa(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(i);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let a=0;a<i;a++)t[a]=Math.floor(256*Math.random());return t}class Ll{static A(){const t=62*Math.floor(256/62);let a="";for(;a.length<20;){const f=aa(40);for(let _=0;_<f.length;++_)a.length<20&&f[_]<t&&(a+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(f[_]%62))}return a}}function Ui(i,e){return i<e?-1:i>e?1:0}function da(i,e,t){return i.length===e.length&&i.every((a,f)=>t(a,e[f]))}function Cc(i){return i+"\0"}class yo{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new qn(Dn.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new qn(Dn.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new qn(Dn.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new qn(Dn.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return yo.fromMillis(Date.now())}static fromDate(e){return yo.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),a=Math.floor(1e6*(e-1e3*t));return new yo(t,a)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ui(this.nanoseconds,e.nanoseconds):Ui(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Ii{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Ii(e)}static min(){return new Ii(new yo(0,0))}static max(){return new Ii(new yo(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Wa{constructor(e,t,a){void 0===t?t=0:t>e.length&&_r(),void 0===a?a=e.length-t:a>e.length-t&&_r(),this.segments=e,this.offset=t,this.len=a}get length(){return this.len}isEqual(e){return 0===Wa.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Wa?e.forEach(a=>{t.push(a)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,a=this.limit();t<a;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const a=Math.min(e.length,t.length);for(let f=0;f<a;f++){const _=e.get(f),S=t.get(f);if(_<S)return-1;if(_>S)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class os extends Wa{construct(e,t,a){return new os(e,t,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const a of e){if(a.indexOf("//")>=0)throw new qn(Dn.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);t.push(...a.split("/").filter(f=>f.length>0))}return new os(t)}static emptyPath(){return new os([])}}const ol=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ps extends Wa{construct(e,t,a){return new ps(e,t,a)}static isValidIdentifier(e){return ol.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ps.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new ps(["__name__"])}static fromServerFormat(e){const t=[];let a="",f=0;const _=()=>{if(0===a.length)throw new qn(Dn.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(a),a=""};let S=!1;for(;f<e.length;){const Y=e[f];if("\\"===Y){if(f+1===e.length)throw new qn(Dn.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const ce=e[f+1];if("\\"!==ce&&"."!==ce&&"`"!==ce)throw new qn(Dn.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);a+=ce,f+=2}else"`"===Y?(S=!S,f++):"."!==Y||S?(a+=Y,f++):(_(),f++)}if(_(),S)throw new qn(Dn.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ps(t)}static emptyPath(){return new ps([])}}class yr{constructor(e){this.path=e}static fromPath(e){return new yr(os.fromString(e))}static fromName(e){return new yr(os.fromString(e).popFirst(5))}static empty(){return new yr(os.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===os.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return os.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new yr(new os(e.slice()))}}class yl{constructor(e,t,a,f){this.indexId=e,this.collectionGroup=t,this.fields=a,this.indexState=f}}function Da(i){return i.fields.find(e=>2===e.kind)}function Sa(i){return i.fields.filter(e=>2!==e.kind)}yl.UNKNOWN_ID=-1;class nt{constructor(e,t){this.fieldPath=e,this.kind=t}}class en{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new en(0,Hi.min())}}function Ir(i,e){const t=i.toTimestamp().seconds,a=i.toTimestamp().nanoseconds+1,f=Ii.fromTimestamp(1e9===a?new yo(t+1,0):new yo(t,a));return new Hi(f,yr.empty(),e)}function Bi(i){return new Hi(i.readTime,i.key,-1)}class Hi{constructor(e,t,a){this.readTime=e,this.documentKey=t,this.largestBatchId=a}static min(){return new Hi(Ii.min(),yr.empty(),-1)}static max(){return new Hi(Ii.max(),yr.empty(),-1)}}function es(i,e){let t=i.readTime.compareTo(e.readTime);return 0!==t?t:(t=yr.comparator(i.documentKey,e.documentKey),0!==t?t:Ui(i.largestBatchId,e.largestBatchId))}const is="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Gi{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Jo(i){return va.apply(this,arguments)}function va(){return va=(0,d.Z)(function*(i){if(i.code!==Dn.FAILED_PRECONDITION||i.message!==is)throw i;$n("LocalStore","Unexpectedly lost primary lease")}),va.apply(this,arguments)}class yn{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&_r(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new yn((a,f)=>{this.nextCallback=_=>{this.wrapSuccess(e,_).next(a,f)},this.catchCallback=_=>{this.wrapFailure(t,_).next(a,f)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof yn?t:yn.resolve(t)}catch(t){return yn.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):yn.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):yn.reject(t)}static resolve(e){return new yn((t,a)=>{t(e)})}static reject(e){return new yn((t,a)=>{a(e)})}static waitFor(e){return new yn((t,a)=>{let f=0,_=0,S=!1;e.forEach(Y=>{++f,Y.next(()=>{++_,S&&_===f&&t()},ce=>a(ce))}),S=!0,_===f&&t()})}static or(e){let t=yn.resolve(!1);for(const a of e)t=t.next(f=>f?yn.resolve(f):a());return t}static forEach(e,t){const a=[];return e.forEach((f,_)=>{a.push(t.call(this,f,_))}),this.waitFor(a)}static mapArray(e,t){return new yn((a,f)=>{const _=e.length,S=new Array(_);let Y=0;for(let ce=0;ce<_;ce++){const Ee=ce;t(e[Ee]).next(Ye=>{S[Ee]=Ye,++Y,Y===_&&a(S)},Ye=>f(Ye))}})}static doWhile(e,t){return new yn((a,f)=>{const _=()=>{!0===e()?t().next(()=>{_()},f):a()};_()})}}class Pa{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.v=new vs,this.transaction.oncomplete=()=>{this.v.resolve()},this.transaction.onabort=()=>{t.error?this.v.reject(new $l(e,t.error)):this.v.resolve()},this.transaction.onerror=a=>{const f=G(a.target.error);this.v.reject(new $l(e,f))}}static open(e,t,a,f){try{return new Pa(t,e.transaction(f,a))}catch(_){throw new $l(t,_)}}get R(){return this.v.promise}abort(e){e&&this.v.reject(e),this.aborted||($n("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}P(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new fc(t)}}class ha{constructor(e,t,a){this.name=e,this.version=t,this.V=a,12.2===ha.S((0,Xe.z$)())&&Fi("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return $n("SimpleDb","Removing database:",e),Ko(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!(0,Xe.hl)())return!1;if(ha.C())return!0;const e=(0,Xe.z$)(),t=ha.S(e),a=0<t&&t<10,f=ha.N(e),_=0<f&&f<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||a||_)}static C(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.k)}static M(e,t){return e.store(t)}static S(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),a=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(a)}static N(e){const t=e.match(/Android ([\d.]+)/i),a=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(a)}$(e){var t=this;return(0,d.Z)(function*(){return t.db||($n("SimpleDb","Opening database:",t.name),t.db=yield new Promise((a,f)=>{const _=indexedDB.open(t.name,t.version);_.onsuccess=S=>{a(S.target.result)},_.onblocked=()=>{f(new $l(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},_.onerror=S=>{const Y=S.target.error;f("VersionError"===Y.name?new qn(Dn.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===Y.name?new qn(Dn.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+Y):new $l(e,Y))},_.onupgradeneeded=S=>{$n("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',S.oldVersion),t.V.O(S.target.result,_.transaction,S.oldVersion,t.version).next(()=>{$n("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.F&&(t.db.onversionchange=a=>t.F(a)),t.db})()}B(e){this.F=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,a,f){var _=this;return(0,d.Z)(function*(){const S="readonly"===t;let Y=0;for(;;){++Y;try{_.db=yield _.$(e);const ce=Pa.open(_.db,e,S?"readonly":"readwrite",a),Ee=f(ce).next(Ye=>(ce.P(),Ye)).catch(Ye=>(ce.abort(Ye),yn.reject(Ye))).toPromise();return Ee.catch(()=>{}),yield ce.R,Ee}catch(ce){const Ee=ce,Ye="FirebaseError"!==Ee.name&&Y<3;if($n("SimpleDb","Transaction failed with error:",Ee.message,"Retrying:",Ye),_.close(),!Ye)return Promise.reject(Ee)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class hc{constructor(e){this.L=e,this.q=!1,this.U=null}get isDone(){return this.q}get K(){return this.U}set cursor(e){this.L=e}done(){this.q=!0}G(e){this.U=e}delete(){return Ko(this.L.delete())}}class $l extends qn{constructor(e,t){super(Dn.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function ea(i){return"IndexedDbTransactionError"===i.name}class fc{constructor(e){this.store=e}put(e,t){let a;return void 0!==t?($n("SimpleDb","PUT",this.store.name,e,t),a=this.store.put(t,e)):($n("SimpleDb","PUT",this.store.name,"<auto-key>",e),a=this.store.put(e)),Ko(a)}add(e){return $n("SimpleDb","ADD",this.store.name,e,e),Ko(this.store.add(e))}get(e){return Ko(this.store.get(e)).next(t=>(void 0===t&&(t=null),$n("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return $n("SimpleDb","DELETE",this.store.name,e),Ko(this.store.delete(e))}count(){return $n("SimpleDb","COUNT",this.store.name),Ko(this.store.count())}j(e,t){const a=this.options(e,t);if(a.index||"function"!=typeof this.store.getAll){const f=this.cursor(a),_=[];return this.W(f,(S,Y)=>{_.push(Y)}).next(()=>_)}{const f=this.store.getAll(a.range);return new yn((_,S)=>{f.onerror=Y=>{S(Y.target.error)},f.onsuccess=Y=>{_(Y.target.result)}})}}H(e,t){const a=this.store.getAll(e,null===t?void 0:t);return new yn((f,_)=>{a.onerror=S=>{_(S.target.error)},a.onsuccess=S=>{f(S.target.result)}})}J(e,t){$n("SimpleDb","DELETE ALL",this.store.name);const a=this.options(e,t);a.Y=!1;const f=this.cursor(a);return this.W(f,(_,S,Y)=>Y.delete())}X(e,t){let a;t?a=e:(a={},t=e);const f=this.cursor(a);return this.W(f,t)}Z(e){const t=this.cursor({});return new yn((a,f)=>{t.onerror=_=>{const S=G(_.target.error);f(S)},t.onsuccess=_=>{const S=_.target.result;S?e(S.primaryKey,S.value).next(Y=>{Y?S.continue():a()}):a()}})}W(e,t){const a=[];return new yn((f,_)=>{e.onerror=S=>{_(S.target.error)},e.onsuccess=S=>{const Y=S.target.result;if(!Y)return void f();const ce=new hc(Y),Ee=t(Y.primaryKey,Y.value,ce);if(Ee instanceof yn){const Ye=Ee.catch(Mt=>(ce.done(),yn.reject(Mt)));a.push(Ye)}ce.isDone?f():null===ce.K?Y.continue():Y.continue(ce.K)}}).next(()=>yn.waitFor(a))}options(e,t){let a;return void 0!==e&&("string"==typeof e?a=e:t=e),{index:a,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const a=this.store.index(e.index);return e.Y?a.openKeyCursor(e.range,t):a.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Ko(i){return new yn((e,t)=>{i.onsuccess=a=>{e(a.target.result)},i.onerror=a=>{const f=G(a.target.error);t(f)}})}let V=!1;function G(i){const e=ha.S((0,Xe.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(i.message.indexOf(t)>=0){const a=new qn("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return V||(V=!0,setTimeout(()=>{throw a},0)),a}}return i}class O{constructor(e,t){this.asyncQueue=e,this.tt=t,this.task=null}start(){this.et(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}et(e){var t=this;$n("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,d.Z)(function*(){t.task=null;try{$n("IndexBackiller",`Documents written: ${yield t.tt.nt()}`)}catch(a){ea(a)?$n("IndexBackiller","Ignoring IndexedDB error during index backfill: ",a):yield Jo(a)}yield t.et(6e4)}))}}class Z{constructor(e,t){this.localStore=e,this.persistence=t}nt(e=50){var t=this;return(0,d.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",a=>t.st(a,e))})()}st(e,t){const a=new Set;let f=t,_=!0;return yn.doWhile(()=>!0===_&&f>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(S=>{if(null!==S&&!a.has(S))return $n("IndexBackiller",`Processing collection: ${S}`),this.it(e,S,f).next(Y=>{f-=Y,a.add(S)});_=!1})).next(()=>t-f)}it(e,t,a){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(f=>this.localStore.localDocuments.getNextDocuments(e,t,f,a).next(_=>{const S=_.changes;return this.localStore.indexManager.updateIndexEntries(e,S).next(()=>this.rt(f,_)).next(Y=>($n("IndexBackiller",`Updating offset: ${Y}`),this.localStore.indexManager.updateCollectionGroup(e,t,Y))).next(()=>S.size)}))}rt(e,t){let a=e;return t.changes.forEach((f,_)=>{const S=Bi(_);es(S,a)>0&&(a=S)}),new Hi(a.readTime,a.documentKey,Math.max(t.batchId,e.largestBatchId))}}let ge=(()=>{class i{constructor(t,a){this.previousValue=t,a&&(a.sequenceNumberHandler=f=>this.ot(f),this.ut=f=>a.writeSequenceNumber(f))}ot(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ut&&this.ut(t),t}}return i.ct=-1,i})();function et(i){return null==i}function ze(i){return 0===i&&1/i==-1/0}function Zt(i){return"number"==typeof i&&Number.isInteger(i)&&!ze(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}function Mn(i){let e="";for(let t=0;t<i.length;t++)e.length>0&&(e=ki(e)),e=kr(i.get(t),e);return ki(e)}function kr(i,e){let t=e;const a=i.length;for(let f=0;f<a;f++){const _=i.charAt(f);switch(_){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=_}}return t}function ki(i){return i+"\x01\x01"}function si(i){const e=i.length;if(Hr(e>=2),2===e)return Hr("\x01"===i.charAt(0)&&"\x01"===i.charAt(1)),os.emptyPath();const t=e-2,a=[];let f="";for(let _=0;_<e;){const S=i.indexOf("\x01",_);switch((S<0||S>t)&&_r(),i.charAt(S+1)){case"\x01":const Y=i.substring(_,S);let ce;0===f.length?ce=Y:(f+=Y,ce=f,f=""),a.push(ce);break;case"\x10":f+=i.substring(_,S),f+="\0";break;case"\x11":f+=i.substring(_,S+1);break;default:_r()}_=S+2}return new os(a)}const vo=["userId","batchId"];function I(i,e){return[i,Mn(e)]}function y(i,e,t){return[i,Mn(e),t]}const h={},m=["prefixPath","collectionGroup","readTime","documentId"],b=["prefixPath","collectionGroup","documentId"],T=["collectionGroup","readTime","prefixPath","documentId"],x=["canonicalId","targetId"],B=["targetId","path"],W=["path","targetId"],ne=["collectionId","parent"],Ce=["indexId","uid"],Ue=["uid","sequenceNumber"],pt=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],Et=["indexId","uid","orderedDocumentKey"],qt=["userId","collectionPath","documentId"],dn=["userId","collectionPath","largestBatchId"],Cn=["userId","collectionGroup","largestBatchId"],Yn=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Fn=[...Yn,"documentOverlays"],cr=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],vr=cr,Jn=[...vr,"indexConfiguration","indexState","indexEntries"];class or extends Gi{constructor(e,t){super(),this.ht=e,this.currentSequenceNumber=t}}function Mr(i,e){const t=Un(i);return ha.M(t.ht,e)}function Br(i){let e=0;for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e++;return e}function Ci(i,e){for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e(t,i[t])}function Zi(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}class Xr{constructor(e,t){this.comparator=e,this.root=t||zs.EMPTY}insert(e,t){return new Xr(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,zs.BLACK,null,null))}remove(e){return new Xr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,zs.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const a=this.comparator(e,t.key);if(0===a)return t.value;a<0?t=t.left:a>0&&(t=t.right)}return null}indexOf(e){let t=0,a=this.root;for(;!a.isEmpty();){const f=this.comparator(e,a.key);if(0===f)return t+a.left.size;f<0?a=a.left:(t+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,a)=>(e(t,a),!1))}toString(){const e=[];return this.inorderTraversal((t,a)=>(e.push(`${t}:${a}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new xs(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new xs(this.root,e,this.comparator,!1)}getReverseIterator(){return new xs(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new xs(this.root,e,this.comparator,!0)}}class xs{constructor(e,t,a,f){this.isReverse=f,this.nodeStack=[];let _=1;for(;!e.isEmpty();)if(_=t?a(e.key,t):1,t&&f&&(_*=-1),_<0)e=this.isReverse?e.left:e.right;else{if(0===_){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class zs{constructor(e,t,a,f,_){this.key=e,this.value=t,this.color=null!=a?a:zs.RED,this.left=null!=f?f:zs.EMPTY,this.right=null!=_?_:zs.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,a,f,_){return new zs(null!=e?e:this.key,null!=t?t:this.value,null!=a?a:this.color,null!=f?f:this.left,null!=_?_:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,a){let f=this;const _=a(e,f.key);return f=_<0?f.copy(null,null,null,f.left.insert(e,t,a),null):0===_?f.copy(null,t,null,null,null):f.copy(null,null,null,null,f.right.insert(e,t,a)),f.fixUp()}removeMin(){if(this.left.isEmpty())return zs.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let a,f=this;if(t(e,f.key)<0)f.left.isEmpty()||f.left.isRed()||f.left.left.isRed()||(f=f.moveRedLeft()),f=f.copy(null,null,null,f.left.remove(e,t),null);else{if(f.left.isRed()&&(f=f.rotateRight()),f.right.isEmpty()||f.right.isRed()||f.right.left.isRed()||(f=f.moveRedRight()),0===t(e,f.key)){if(f.right.isEmpty())return zs.EMPTY;a=f.right.min(),f=f.copy(a.key,a.value,null,null,f.right.removeMin())}f=f.copy(null,null,null,null,f.right.remove(e,t))}return f.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,zs.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,zs.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw _r();const e=this.left.check();if(e!==this.right.check())throw _r();return e+(this.isRed()?0:1)}}zs.EMPTY=null,zs.RED=!0,zs.BLACK=!1,zs.EMPTY=new class{constructor(){this.size=0}get key(){throw _r()}get value(){throw _r()}get color(){throw _r()}get left(){throw _r()}get right(){throw _r()}copy(i,e,t,a,f){return this}insert(i,e,t){return new zs(i,e)}remove(i,e){return this}isEmpty(){return!0}inorderTraversal(i){return!1}reverseTraversal(i){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class gs{constructor(e){this.comparator=e,this.data=new Xr(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,a)=>(e(t),!1))}forEachInRange(e,t){const a=this.data.getIteratorFrom(e[0]);for(;a.hasNext();){const f=a.getNext();if(this.comparator(f.key,e[1])>=0)return;t(f.key)}}forEachWhile(e,t){let a;for(a=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();a.hasNext();)if(!e(a.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Qs(this.data.getIterator())}getIteratorFrom(e){return new Qs(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(a=>{t=t.add(a)}),t}isEqual(e){if(!(e instanceof gs)||this.size!==e.size)return!1;const t=this.data.getIterator(),a=e.data.getIterator();for(;t.hasNext();){const f=t.getNext().key,_=a.getNext().key;if(0!==this.comparator(f,_))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new gs(this.comparator);return t.data=e,t}}class Qs{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function to(i){return i.hasNext()?i.getNext():void 0}class Gs{constructor(e){this.fields=e,e.sort(ps.comparator)}static empty(){return new Gs([])}unionWith(e){let t=new gs(ps.comparator);for(const a of this.fields)t=t.add(a);for(const a of e)t=t.add(a);return new Gs(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return da(this.fields,e.fields,(t,a)=>t.isEqual(a))}}class Ta extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}function Aa(){return typeof atob<"u"}class Mo{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(a){try{return atob(a)}catch(f){throw typeof DOMException<"u"&&f instanceof DOMException?new Ta("Invalid base64 string: "+f):f}}(e);return new Mo(t)}static fromUint8Array(e){const t=function(a){let f="";for(let _=0;_<a.length;++_)f+=String.fromCharCode(a[_]);return f}(e);return new Mo(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let a=0;a<e.length;a++)t[a]=e.charCodeAt(a);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ui(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Mo.EMPTY_BYTE_STRING=new Mo("");const vl=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function fa(i){if(Hr(!!i),"string"==typeof i){let e=0;const t=vl.exec(i);if(Hr(!!t),t[1]){let f=t[1];f=(f+"000000000").substr(0,9),e=Number(f)}const a=new Date(i);return{seconds:Math.floor(a.getTime()/1e3),nanos:e}}return{seconds:co(i.seconds),nanos:co(i.nanos)}}function co(i){return"number"==typeof i?i:"string"==typeof i?Number(i):0}function ia(i){return"string"==typeof i?Mo.fromBase64String(i):Mo.fromUint8Array(i)}function Vl(i){var e,t;return"server_timestamp"===(null===(t=((null===(e=null==i?void 0:i.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function Ra(i){const e=i.mapValue.fields.__previous_value__;return Vl(e)?Ra(e):e}function Sl(i){const e=fa(i.mapValue.fields.__local_write_time__.timestampValue);return new yo(e.seconds,e.nanos)}class Af{constructor(e,t,a,f,_,S,Y,ce,Ee){this.databaseId=e,this.appId=t,this.persistenceKey=a,this.host=f,this.ssl=_,this.forceLongPolling=S,this.autoDetectLongPolling=Y,this.longPollingOptions=ce,this.useFetchStreams=Ee}}class pc{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new pc("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof pc&&e.projectId===this.projectId&&e.database===this.database}}const Ul={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},ju={nullValue:"NULL_VALUE"};function Dc(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?Vl(i)?4:lu(i)?9007199254740991:10:_r()}function jl(i,e){if(i===e)return!0;const t=Dc(i);if(t!==Dc(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return Sl(i).isEqual(Sl(e));case 3:return function(a,f){if("string"==typeof a.timestampValue&&"string"==typeof f.timestampValue&&a.timestampValue.length===f.timestampValue.length)return a.timestampValue===f.timestampValue;const _=fa(a.timestampValue),S=fa(f.timestampValue);return _.seconds===S.seconds&&_.nanos===S.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return f=e,ia(i.bytesValue).isEqual(ia(f.bytesValue));case 7:return i.referenceValue===e.referenceValue;case 8:return function(a,f){return co(a.geoPointValue.latitude)===co(f.geoPointValue.latitude)&&co(a.geoPointValue.longitude)===co(f.geoPointValue.longitude)}(i,e);case 2:return function(a,f){if("integerValue"in a&&"integerValue"in f)return co(a.integerValue)===co(f.integerValue);if("doubleValue"in a&&"doubleValue"in f){const _=co(a.doubleValue),S=co(f.doubleValue);return _===S?ze(_)===ze(S):isNaN(_)&&isNaN(S)}return!1}(i,e);case 9:return da(i.arrayValue.values||[],e.arrayValue.values||[],jl);case 10:return function(a,f){const _=a.mapValue.fields||{},S=f.mapValue.fields||{};if(Br(_)!==Br(S))return!1;for(const Y in _)if(_.hasOwnProperty(Y)&&(void 0===S[Y]||!jl(_[Y],S[Y])))return!1;return!0}(i,e);default:return _r()}var f}function zu(i,e){return void 0!==(i.values||[]).find(t=>jl(t,e))}function $c(i,e){if(i===e)return 0;const t=Dc(i),a=Dc(e);if(t!==a)return Ui(t,a);switch(t){case 0:case 9007199254740991:return 0;case 1:return Ui(i.booleanValue,e.booleanValue);case 2:return function(f,_){const S=co(f.integerValue||f.doubleValue),Y=co(_.integerValue||_.doubleValue);return S<Y?-1:S>Y?1:S===Y?0:isNaN(S)?isNaN(Y)?0:-1:1}(i,e);case 3:return Sc(i.timestampValue,e.timestampValue);case 4:return Sc(Sl(i),Sl(e));case 5:return Ui(i.stringValue,e.stringValue);case 6:return function(f,_){const S=ia(f),Y=ia(_);return S.compareTo(Y)}(i.bytesValue,e.bytesValue);case 7:return function(f,_){const S=f.split("/"),Y=_.split("/");for(let ce=0;ce<S.length&&ce<Y.length;ce++){const Ee=Ui(S[ce],Y[ce]);if(0!==Ee)return Ee}return Ui(S.length,Y.length)}(i.referenceValue,e.referenceValue);case 8:return function(f,_){const S=Ui(co(f.latitude),co(_.latitude));return 0!==S?S:Ui(co(f.longitude),co(_.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return function(f,_){const S=f.values||[],Y=_.values||[];for(let ce=0;ce<S.length&&ce<Y.length;++ce){const Ee=$c(S[ce],Y[ce]);if(Ee)return Ee}return Ui(S.length,Y.length)}(i.arrayValue,e.arrayValue);case 10:return function(f,_){if(f===Ul.mapValue&&_===Ul.mapValue)return 0;if(f===Ul.mapValue)return 1;if(_===Ul.mapValue)return-1;const S=f.fields||{},Y=Object.keys(S),ce=_.fields||{},Ee=Object.keys(ce);Y.sort(),Ee.sort();for(let Ye=0;Ye<Y.length&&Ye<Ee.length;++Ye){const Mt=Ui(Y[Ye],Ee[Ye]);if(0!==Mt)return Mt;const En=$c(S[Y[Ye]],ce[Ee[Ye]]);if(0!==En)return En}return Ui(Y.length,Ee.length)}(i.mapValue,e.mapValue);default:throw _r()}}function Sc(i,e){if("string"==typeof i&&"string"==typeof e&&i.length===e.length)return Ui(i,e);const t=fa(i),a=fa(e),f=Ui(t.seconds,a.seconds);return 0!==f?f:Ui(t.nanos,a.nanos)}function gc(i){return yd(i)}function yd(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(a){const f=fa(a);return`time(${f.seconds},${f.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?ia(i.bytesValue).toBase64():"referenceValue"in i?yr.fromName(i.referenceValue).toString():"geoPointValue"in i?`geo(${(e=i.geoPointValue).latitude},${e.longitude})`:"arrayValue"in i?function(a){let f="[",_=!0;for(const S of a.values||[])_?_=!1:f+=",",f+=yd(S);return f+"]"}(i.arrayValue):"mapValue"in i?function(a){const f=Object.keys(a.fields||{}).sort();let _="{",S=!0;for(const Y of f)S?S=!1:_+=",",_+=`${Y}:${yd(a.fields[Y])}`;return _+"}"}(i.mapValue):_r();var e}function Jl(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function el(i){return!!i&&"integerValue"in i}function Vc(i){return!!i&&"arrayValue"in i}function al(i){return!!i&&"nullValue"in i}function Uc(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function Tc(i){return!!i&&"mapValue"in i}function Tl(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&"object"==typeof i.timestampValue)return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const e={mapValue:{fields:{}}};return Ci(i.mapValue.fields,(t,a)=>e.mapValue.fields[t]=Tl(a)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(i.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Tl(i.arrayValue.values[t]);return e}return Object.assign({},i)}function lu(i){return"__max__"===(((i.mapValue||{}).fields||{}).__type__||{}).stringValue}function Hu(i){return"nullValue"in i?ju:"booleanValue"in i?{booleanValue:!1}:"integerValue"in i||"doubleValue"in i?{doubleValue:NaN}:"timestampValue"in i?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in i?{stringValue:""}:"bytesValue"in i?{bytesValue:""}:"referenceValue"in i?Jl(pc.empty(),yr.empty()):"geoPointValue"in i?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in i?{arrayValue:{}}:"mapValue"in i?{mapValue:{}}:_r()}function xf(i){return"nullValue"in i?{booleanValue:!1}:"booleanValue"in i?{doubleValue:NaN}:"integerValue"in i||"doubleValue"in i?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in i?{stringValue:""}:"stringValue"in i?{bytesValue:""}:"bytesValue"in i?Jl(pc.empty(),yr.empty()):"referenceValue"in i?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in i?{arrayValue:{}}:"arrayValue"in i?{mapValue:{}}:"mapValue"in i?Ul:_r()}function Mf(i,e){const t=$c(i.value,e.value);return 0!==t?t:i.inclusive&&!e.inclusive?-1:!i.inclusive&&e.inclusive?1:0}function Kp(i,e){const t=$c(i.value,e.value);return 0!==t?t:i.inclusive&&!e.inclusive?1:!i.inclusive&&e.inclusive?-1:0}class Uo{constructor(e){this.value=e}static empty(){return new Uo({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let a=0;a<e.length-1;++a)if(t=(t.mapValue.fields||{})[e.get(a)],!Tc(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Tl(t)}setAll(e){let t=ps.emptyPath(),a={},f=[];e.forEach((S,Y)=>{if(!t.isImmediateParentOf(Y)){const ce=this.getFieldsMap(t);this.applyChanges(ce,a,f),a={},f=[],t=Y.popLast()}S?a[Y.lastSegment()]=Tl(S):f.push(Y.lastSegment())});const _=this.getFieldsMap(t);this.applyChanges(_,a,f)}delete(e){const t=this.field(e.popLast());Tc(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return jl(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let a=0;a<e.length;++a){let f=t.mapValue.fields[e.get(a)];Tc(f)&&f.mapValue.fields||(f={mapValue:{fields:{}}},t.mapValue.fields[e.get(a)]=f),t=f}return t.mapValue.fields}applyChanges(e,t,a){Ci(t,(f,_)=>e[f]=_);for(const f of a)delete e[f]}clone(){return new Uo(Tl(this.value))}}function cu(i){const e=[];return Ci(i.fields,(t,a)=>{const f=new ps([t]);if(Tc(a)){const _=cu(a.mapValue).fields;if(0===_.length)e.push(f);else for(const S of _)e.push(f.child(S))}else e.push(f)}),new Gs(e)}class _o{constructor(e,t,a,f,_,S,Y){this.key=e,this.documentType=t,this.version=a,this.readTime=f,this.createTime=_,this.data=S,this.documentState=Y}static newInvalidDocument(e){return new _o(e,0,Ii.min(),Ii.min(),Ii.min(),Uo.empty(),0)}static newFoundDocument(e,t,a,f){return new _o(e,1,t,Ii.min(),a,f,0)}static newNoDocument(e,t){return new _o(e,2,t,Ii.min(),Ii.min(),Uo.empty(),0)}static newUnknownDocument(e,t){return new _o(e,3,t,Ii.min(),Ii.min(),Uo.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ii.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Uo.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Uo.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ii.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof _o&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new _o(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class ec{constructor(e,t){this.position=e,this.inclusive=t}}function fh(i,e,t){let a=0;for(let f=0;f<i.position.length;f++){const _=e[f],S=i.position[f];if(a=_.field.isKeyField()?yr.comparator(yr.fromName(S.referenceValue),t.key):$c(S,t.data.field(_.field)),"desc"===_.dir&&(a*=-1),0!==a)break}return a}function uu(i,e){if(null===i)return null===e;if(null===e||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let t=0;t<i.position.length;t++)if(!jl(i.position[t],e.position[t]))return!1;return!0}class tl{constructor(e,t="asc"){this.field=e,this.dir=t}}function Wu(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}class Pf{}class Ks extends Pf{constructor(e,t,a){super(),this.field=e,this.op=t,this.value=a}static create(e,t,a){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,a):new nl(e,t,a):"array-contains"===t?new Yp(e,a):"in"===t?new pu(e,a):"not-in"===t?new zc(e,a):"array-contains-any"===t?new gh(e,a):new Ks(e,t,a)}static createKeyFieldInFilter(e,t,a){return"in"===t?new fu(e,a):new Rf(e,a)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison($c(t,this.value)):null!==t&&Dc(this.value)===Dc(t)&&this.matchesComparison($c(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return _r()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Po extends Pf{constructor(e,t){super(),this.filters=e,this.op=t,this.lt=null}static create(e,t){return new Po(e,t)}matches(e){return Al(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(t=>t.isInequality());return null!==e?e.field:null}ft(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function Al(i){return"and"===i.op}function tc(i){return"or"===i.op}function ph(i){return Ga(i)&&Al(i)}function Ga(i){for(const e of i.filters)if(e instanceof Po)return!1;return!0}function du(i){if(i instanceof Ks)return i.field.canonicalString()+i.op.toString()+gc(i.value);if(ph(i))return i.filters.map(e=>du(e)).join(",");{const e=i.filters.map(t=>du(t)).join(",");return`${i.op}(${e})`}}function jc(i,e){return i instanceof Ks?(t=i,(a=e)instanceof Ks&&t.op===a.op&&t.field.isEqual(a.field)&&jl(t.value,a.value)):i instanceof Po?function(t,a){return a instanceof Po&&t.op===a.op&&t.filters.length===a.filters.length&&t.filters.reduce((f,_,S)=>f&&jc(_,a.filters[S]),!0)}(i,e):void _r();var t,a}function Gu(i,e){const t=i.filters.concat(e);return Po.create(t,i.op)}function hu(i){return i instanceof Ks?`${(e=i).field.canonicalString()} ${e.op} ${gc(e.value)}`:i instanceof Po?function(e){return e.op.toString()+" {"+e.getFilters().map(hu).join(" ,")+"}"}(i):"Filter";var e}class nl extends Ks{constructor(e,t,a){super(e,t,a),this.key=yr.fromName(a.referenceValue)}matches(e){const t=yr.comparator(e.key,this.key);return this.matchesComparison(t)}}class fu extends Ks{constructor(e,t){super(e,"in",t),this.keys=Ku(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class Rf extends Ks{constructor(e,t){super(e,"not-in",t),this.keys=Ku(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function Ku(i,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(a=>yr.fromName(a.referenceValue))}class Yp extends Ks{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Vc(t)&&zu(t.arrayValue,this.value)}}class pu extends Ks{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&zu(this.value.arrayValue,t)}}class zc extends Ks{constructor(e,t){super(e,"not-in",t)}matches(e){if(zu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!zu(this.value.arrayValue,t)}}class gh extends Ks{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Vc(t)||!t.arrayValue.values)&&t.arrayValue.values.some(a=>zu(this.value.arrayValue,a))}}class Hc{constructor(e,t=null,a=[],f=[],_=null,S=null,Y=null){this.path=e,this.collectionGroup=t,this.orderBy=a,this.filters=f,this.limit=_,this.startAt=S,this.endAt=Y,this.dt=null}}function gu(i,e=null,t=[],a=[],f=null,_=null,S=null){return new Hc(i,e,t,a,f,_,S)}function mc(i){const e=Un(i);if(null===e.dt){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(a=>du(a)).join(","),t+="|ob:",t+=e.orderBy.map(a=>{return(f=a).field.canonicalString()+f.dir;var f}).join(","),et(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(a=>gc(a)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(a=>gc(a)).join(",")),e.dt=t}return e.dt}function vd(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<i.orderBy.length;t++)if(!Wu(i.orderBy[t],e.orderBy[t]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let t=0;t<i.filters.length;t++)if(!jc(i.filters[t],e.filters[t]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!uu(i.startAt,e.startAt)&&uu(i.endAt,e.endAt)}function mu(i){return yr.isDocumentKey(i.path)&&null===i.collectionGroup&&0===i.filters.length}function Wc(i,e){return i.filters.filter(t=>t instanceof Ks&&t.field.isEqual(e))}function Of(i,e,t){let a=ju,f=!0;for(const _ of Wc(i,e)){let S=ju,Y=!0;switch(_.op){case"<":case"<=":S=Hu(_.value);break;case"==":case"in":case">=":S=_.value;break;case">":S=_.value,Y=!1;break;case"!=":case"not-in":S=ju}Mf({value:a,inclusive:f},{value:S,inclusive:Y})<0&&(a=S,f=Y)}if(null!==t)for(let _=0;_<i.orderBy.length;++_)if(i.orderBy[_].field.isEqual(e)){const S=t.position[_];Mf({value:a,inclusive:f},{value:S,inclusive:t.inclusive})<0&&(a=S,f=t.inclusive);break}return{value:a,inclusive:f}}function Gc(i,e,t){let a=Ul,f=!0;for(const _ of Wc(i,e)){let S=Ul,Y=!0;switch(_.op){case">=":case">":S=xf(_.value),Y=!1;break;case"==":case"in":case"<=":S=_.value;break;case"<":S=_.value,Y=!1;break;case"!=":case"not-in":S=Ul}Kp({value:a,inclusive:f},{value:S,inclusive:Y})>0&&(a=S,f=Y)}if(null!==t)for(let _=0;_<i.orderBy.length;++_)if(i.orderBy[_].field.isEqual(e)){const S=t.position[_];Kp({value:a,inclusive:f},{value:S,inclusive:t.inclusive})>0&&(a=S,f=t.inclusive);break}return{value:a,inclusive:f}}class zl{constructor(e,t=null,a=[],f=[],_=null,S="F",Y=null,ce=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=a,this.filters=f,this.limit=_,this.limitType=S,this.startAt=Y,this.endAt=ce,this.wt=null,this._t=null}}function kf(i,e,t,a,f,_,S,Y){return new zl(i,e,t,a,f,_,S,Y)}function Kc(i){return new zl(i)}function U(i){return 0===i.filters.length&&null===i.limit&&null==i.startAt&&null==i.endAt&&(0===i.explicitOrderBy.length||1===i.explicitOrderBy.length&&i.explicitOrderBy[0].field.isKeyField())}function C(i){return i.explicitOrderBy.length>0?i.explicitOrderBy[0].field:null}function A(i){for(const e of i.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}function K(i){return null!==i.collectionGroup}function Ie(i){const e=Un(i);if(null===e.wt){e.wt=[];const t=A(e),a=C(e);if(null!==t&&null===a)t.isKeyField()||e.wt.push(new tl(t)),e.wt.push(new tl(ps.keyField(),"asc"));else{let f=!1;for(const _ of e.explicitOrderBy)e.wt.push(_),_.field.isKeyField()&&(f=!0);if(!f){const _=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new tl(ps.keyField(),_))}}}return e.wt}function We(i){const e=Un(i);if(!e._t)if("F"===e.limitType)e._t=gu(e.path,e.collectionGroup,Ie(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const _ of Ie(e))t.push(new tl(_.field,"desc"===_.dir?"asc":"desc"));const a=e.endAt?new ec(e.endAt.position,e.endAt.inclusive):null,f=e.startAt?new ec(e.startAt.position,e.startAt.inclusive):null;e._t=gu(e.path,e.collectionGroup,t,e.filters,e.limit,a,f)}return e._t}function an(i,e){e.getFirstInequalityField(),A(i);const t=i.filters.concat([e]);return new zl(i.path,i.collectionGroup,i.explicitOrderBy.slice(),t,i.limit,i.limitType,i.startAt,i.endAt)}function xn(i,e,t){return new zl(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,t,i.startAt,i.endAt)}function dr(i,e){return vd(We(i),We(e))&&i.limitType===e.limitType}function ti(i){return`${mc(We(i))}|lt:${i.limitType}`}function Mi(i){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(a=>hu(a)).join(", ")}]`),et(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(a=>{return`${(f=a).field.canonicalString()} (${f.dir})`;var f}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(a=>gc(a)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(a=>gc(a)).join(",")),`Target(${t})`}(We(i))}; limitType=${i.limitType})`}function _s(i,e){return e.isFoundDocument()&&function(t,a){const f=a.key.path;return null!==t.collectionGroup?a.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(f):yr.isDocumentKey(t.path)?t.path.isEqual(f):t.path.isImmediateParentOf(f)}(i,e)&&function(t,a){for(const f of Ie(t))if(!f.field.isKeyField()&&null===a.data.field(f.field))return!1;return!0}(i,e)&&function(t,a){for(const f of t.filters)if(!f.matches(a))return!1;return!0}(i,e)&&(a=e,!((t=i).startAt&&!function(f,_,S){const Y=fh(f,_,S);return f.inclusive?Y<=0:Y<0}(t.startAt,Ie(t),a)||t.endAt&&!function(f,_,S){const Y=fh(f,_,S);return f.inclusive?Y>=0:Y>0}(t.endAt,Ie(t),a)));var t,a}function ll(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function _l(i){return(e,t)=>{let a=!1;for(const f of Ie(i)){const _=_d(f,e,t);if(0!==_)return _;a=a||f.field.isKeyField()}return 0}}function _d(i,e,t){const a=i.field.isKeyField()?yr.comparator(e.key,t.key):function(f,_,S){const Y=_.data.field(f),ce=S.data.field(f);return null!==Y&&null!==ce?$c(Y,ce):_r()}(i.field,e,t);switch(i.dir){case"asc":return a;case"desc":return-1*a;default:return _r()}}class bl{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),a=this.inner[t];if(void 0!==a)for(const[f,_]of a)if(this.equalsFn(f,e))return _}has(e){return void 0!==this.get(e)}set(e,t){const a=this.mapKeyFn(e),f=this.inner[a];if(void 0===f)return this.inner[a]=[[e,t]],void this.innerSize++;for(let _=0;_<f.length;_++)if(this.equalsFn(f[_][0],e))return void(f[_]=[e,t]);f.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),a=this.inner[t];if(void 0===a)return!1;for(let f=0;f<a.length;f++)if(this.equalsFn(a[f][0],e))return 1===a.length?delete this.inner[t]:a.splice(f,1),this.innerSize--,!0;return!1}forEach(e){Ci(this.inner,(t,a)=>{for(const[f,_]of a)e(f,_)})}isEmpty(){return Zi(this.inner)}size(){return this.innerSize}}const yu=new Xr(yr.comparator);function La(){return yu}const Yc=new Xr(yr.comparator);function nc(...i){let e=Yc;for(const t of i)e=e.insert(t.key,t);return e}function cl(i){let e=Yc;return i.forEach((t,a)=>e=e.insert(t,a.overlayedDocument)),e}function Hl(){return Ac()}function bd(){return Ac()}function Ac(){return new bl(i=>i.toString(),(i,e)=>i.isEqual(e))}const Nf=new Xr(yr.comparator),vu=new gs(yr.comparator);function Is(...i){let e=vu;for(const t of i)e=e.add(t);return e}const pm=new gs(Ui);function Ff(){return pm}function mh(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ze(e)?"-0":e}}function qp(i){return{integerValue:""+i}}function El(i,e){return Zt(e)?qp(e):mh(i,e)}class Oa{constructor(){this._=void 0}}function xc(i,e,t){return i instanceof ta?function(a,f){const _={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return f&&Vl(f)&&(f=Ra(f)),f&&(_.fields.__previous_value__=f),{mapValue:_}}(t,e):i instanceof rc?Lf(i,e):i instanceof xl?Ay(i,e):function(a,f){const _=wl(a,f),S=gm(_)+gm(a.gt);return el(_)&&el(a.gt)?qp(S):mh(a.serializer,S)}(i,e)}function yh(i,e,t){return i instanceof rc?Lf(i,e):i instanceof xl?Ay(i,e):t}function wl(i,e){return i instanceof Yu?el(t=e)||(a=t)&&"doubleValue"in a?e:{integerValue:0}:null;var a,t}class ta extends Oa{}class rc extends Oa{constructor(e){super(),this.elements=e}}function Lf(i,e){const t=vh(e);for(const a of i.elements)t.some(f=>jl(f,a))||t.push(a);return{arrayValue:{values:t}}}class xl extends Oa{constructor(e){super(),this.elements=e}}function Ay(i,e){let t=vh(e);for(const a of i.elements)t=t.filter(f=>!jl(f,a));return{arrayValue:{values:t}}}class Yu extends Oa{constructor(e,t){super(),this.serializer=e,this.gt=t}}function gm(i){return co(i.integerValue||i.doubleValue)}function vh(i){return Vc(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}class _h{constructor(e,t){this.field=e,this.transform=t}}class xy{constructor(e,t){this.version=e,this.transformResults=t}}class pa{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new pa}static exists(e){return new pa(void 0,e)}static updateTime(e){return new pa(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Mc(i,e){return void 0!==i.updateTime?e.isFoundDocument()&&e.version.isEqual(i.updateTime):void 0===i.exists||i.exists===e.isFoundDocument()}class qc{}function Ed(i,e){if(!i.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return i.isNoDocument()?new _u(i.key,pa.none()):new Zc(i.key,i.data,pa.none());{const t=i.data,a=Uo.empty();let f=new gs(ps.comparator);for(let _ of e.fields)if(!f.has(_)){let S=t.field(_);null===S&&_.length>1&&(_=_.popLast(),S=t.field(_)),null===S?a.delete(_):a.set(_,S),f=f.add(_)}return new yc(i.key,a,new Gs(f.toArray()),pa.none())}}function qu(i,e,t){i instanceof Zc?function(a,f,_){const S=a.value.clone(),Y=Id(a.fieldTransforms,f,_.transformResults);S.setAll(Y),f.convertToFoundDocument(_.version,S).setHasCommittedMutations()}(i,e,t):i instanceof yc?function(a,f,_){if(!Mc(a.precondition,f))return void f.convertToUnknownDocument(_.version);const S=Id(a.fieldTransforms,f,_.transformResults),Y=f.data;Y.setAll(rl(a)),Y.setAll(S),f.convertToFoundDocument(_.version,Y).setHasCommittedMutations()}(i,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function wd(i,e,t,a){return i instanceof Zc?function(f,_,S,Y){if(!Mc(f.precondition,_))return S;const ce=f.value.clone(),Ee=Zp(f.fieldTransforms,Y,_);return ce.setAll(Ee),_.convertToFoundDocument(_.version,ce).setHasLocalMutations(),null}(i,e,t,a):i instanceof yc?function(f,_,S,Y){if(!Mc(f.precondition,_))return S;const ce=Zp(f.fieldTransforms,Y,_),Ee=_.data;return Ee.setAll(rl(f)),Ee.setAll(ce),_.convertToFoundDocument(_.version,Ee).setHasLocalMutations(),null===S?null:S.unionWith(f.fieldMask.fields).unionWith(f.fieldTransforms.map(Ye=>Ye.field))}(i,e,t,a):(S=t,Mc(i.precondition,_=e)?(_.convertToNoDocument(_.version).setHasLocalMutations(),null):S);var _,S}function ym(i,e){let t=null;for(const a of i.fieldTransforms){const f=e.data.field(a.field),_=wl(a.transform,f||null);null!=_&&(null===t&&(t=Uo.empty()),t.set(a.field,_))}return t||null}function bh(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&(a=e.fieldTransforms,!!(void 0===(t=i.fieldTransforms)&&void 0===a||t&&a&&da(t,a,(f,_)=>function mm(i,e){return i.field.isEqual(e.field)&&(a=e.transform,(t=i.transform)instanceof rc&&a instanceof rc||t instanceof xl&&a instanceof xl?da(t.elements,a.elements,jl):t instanceof Yu&&a instanceof Yu?jl(t.gt,a.gt):t instanceof ta&&a instanceof ta);var t,a}(f,_))))&&(0===i.type?i.value.isEqual(e.value):1!==i.type||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask));var t,a}class Zc extends qc{constructor(e,t,a,f=[]){super(),this.key=e,this.value=t,this.precondition=a,this.fieldTransforms=f,this.type=0}getFieldMask(){return null}}class yc extends qc{constructor(e,t,a,f,_=[]){super(),this.key=e,this.data=t,this.fieldMask=a,this.precondition=f,this.fieldTransforms=_,this.type=1}getFieldMask(){return this.fieldMask}}function rl(i){const e=new Map;return i.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const a=i.data.field(t);e.set(t,a)}}),e}function Id(i,e,t){const a=new Map;Hr(i.length===t.length);for(let f=0;f<t.length;f++){const _=i[f],S=_.transform,Y=e.data.field(_.field);a.set(_.field,yh(S,Y,t[f]))}return a}function Zp(i,e,t){const a=new Map;for(const f of i){const _=f.transform,S=t.data.field(f.field);a.set(f.field,xc(_,S,e))}return a}class _u extends qc{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Cd extends qc{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Bf{constructor(e,t,a,f){this.batchId=e,this.localWriteTime=t,this.baseMutations=a,this.mutations=f}applyToRemoteDocument(e,t){const a=t.mutationResults;for(let f=0;f<this.mutations.length;f++){const _=this.mutations[f];_.key.isEqual(e.key)&&qu(_,e,a[f])}}applyToLocalView(e,t){for(const a of this.baseMutations)a.key.isEqual(e.key)&&(t=wd(a,e,t,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(e.key)&&(t=wd(a,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const a=bd();return this.mutations.forEach(f=>{const _=e.get(f.key),S=_.overlayedDocument;let Y=this.applyToLocalView(S,_.mutatedFields);Y=t.has(f.key)?null:Y;const ce=Ed(S,Y);null!==ce&&a.set(f.key,ce),S.isValidDocument()||S.convertToNoDocument(Ii.min())}),a}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Is())}isEqual(e){return this.batchId===e.batchId&&da(this.mutations,e.mutations,(t,a)=>bh(t,a))&&da(this.baseMutations,e.baseMutations,(t,a)=>bh(t,a))}}class Xp{constructor(e,t,a,f){this.batch=e,this.commitVersion=t,this.mutationResults=a,this.docVersions=f}static from(e,t,a){Hr(e.mutations.length===a.length);let f=Nf;const _=e.mutations;for(let S=0;S<_.length;S++)f=f.insert(_[S].key,a[S].version);return new Xp(e,t,a,f)}}class Qp{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Py{constructor(e,t){this.count=e,this.unchangedNames=t}}var ka,bo;function $f(i){switch(i){default:return _r();case Dn.CANCELLED:case Dn.UNKNOWN:case Dn.DEADLINE_EXCEEDED:case Dn.RESOURCE_EXHAUSTED:case Dn.INTERNAL:case Dn.UNAVAILABLE:case Dn.UNAUTHENTICATED:return!1;case Dn.INVALID_ARGUMENT:case Dn.NOT_FOUND:case Dn.ALREADY_EXISTS:case Dn.PERMISSION_DENIED:case Dn.FAILED_PRECONDITION:case Dn.ABORTED:case Dn.OUT_OF_RANGE:case Dn.UNIMPLEMENTED:case Dn.DATA_LOSS:return!0}}function Jp(i){if(void 0===i)return Fi("GRPC error has no .code"),Dn.UNKNOWN;switch(i){case ka.OK:return Dn.OK;case ka.CANCELLED:return Dn.CANCELLED;case ka.UNKNOWN:return Dn.UNKNOWN;case ka.DEADLINE_EXCEEDED:return Dn.DEADLINE_EXCEEDED;case ka.RESOURCE_EXHAUSTED:return Dn.RESOURCE_EXHAUSTED;case ka.INTERNAL:return Dn.INTERNAL;case ka.UNAVAILABLE:return Dn.UNAVAILABLE;case ka.UNAUTHENTICATED:return Dn.UNAUTHENTICATED;case ka.INVALID_ARGUMENT:return Dn.INVALID_ARGUMENT;case ka.NOT_FOUND:return Dn.NOT_FOUND;case ka.ALREADY_EXISTS:return Dn.ALREADY_EXISTS;case ka.PERMISSION_DENIED:return Dn.PERMISSION_DENIED;case ka.FAILED_PRECONDITION:return Dn.FAILED_PRECONDITION;case ka.ABORTED:return Dn.ABORTED;case ka.OUT_OF_RANGE:return Dn.OUT_OF_RANGE;case ka.UNIMPLEMENTED:return Dn.UNIMPLEMENTED;case ka.DATA_LOSS:return Dn.DATA_LOSS;default:return _r()}}(bo=ka||(ka={}))[bo.OK=0]="OK",bo[bo.CANCELLED=1]="CANCELLED",bo[bo.UNKNOWN=2]="UNKNOWN",bo[bo.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",bo[bo.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",bo[bo.NOT_FOUND=5]="NOT_FOUND",bo[bo.ALREADY_EXISTS=6]="ALREADY_EXISTS",bo[bo.PERMISSION_DENIED=7]="PERMISSION_DENIED",bo[bo.UNAUTHENTICATED=16]="UNAUTHENTICATED",bo[bo.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",bo[bo.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",bo[bo.ABORTED=10]="ABORTED",bo[bo.OUT_OF_RANGE=11]="OUT_OF_RANGE",bo[bo.UNIMPLEMENTED=12]="UNIMPLEMENTED",bo[bo.INTERNAL=13]="INTERNAL",bo[bo.UNAVAILABLE=14]="UNAVAILABLE",bo[bo.DATA_LOSS=15]="DATA_LOSS";class Eh{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return Vf}static getOrCreateInstance(){return null===Vf&&(Vf=new Eh),Vf}onExistenceFilterMismatch(e){const t=Symbol();return this.onExistenceFilterMismatchCallbacks.set(t,e),()=>this.onExistenceFilterMismatchCallbacks.delete(t)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(t=>t(e))}}let Vf=null;function vm(){return new TextEncoder}const eg=new mr([4294967295,4294967295],0);function tg(i){const e=vm().encode(i),t=new li;return t.update(e),new Uint8Array(t.digest())}function bu(i){const e=new DataView(i.buffer),t=e.getUint32(0,!0),a=e.getUint32(4,!0),f=e.getUint32(8,!0),_=e.getUint32(12,!0);return[new mr([t,a],0),new mr([f,_],0)]}class Uf{constructor(e,t,a){if(this.bitmap=e,this.padding=t,this.hashCount=a,t<0||t>=8)throw new Dd(`Invalid padding: ${t}`);if(a<0)throw new Dd(`Invalid hash count: ${a}`);if(e.length>0&&0===this.hashCount)throw new Dd(`Invalid hash count: ${a}`);if(0===e.length&&0!==t)throw new Dd(`Invalid padding when bitmap length is 0: ${t}`);this.It=8*e.length-t,this.Tt=mr.fromNumber(this.It)}Et(e,t,a){let f=e.add(t.multiply(mr.fromNumber(a)));return 1===f.compare(eg)&&(f=new mr([f.getBits(0),f.getBits(1)],0)),f.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const t=tg(e),[a,f]=bu(t);for(let _=0;_<this.hashCount;_++){const S=this.Et(a,f,_);if(!this.At(S))return!1}return!0}static create(e,t,a){const f=e%8==0?0:8-e%8,_=new Uint8Array(Math.ceil(e/8)),S=new Uf(_,f,t);return a.forEach(Y=>S.insert(Y)),S}insert(e){if(0===this.It)return;const t=tg(e),[a,f]=bu(t);for(let _=0;_<this.hashCount;_++){const S=this.Et(a,f,_);this.Rt(S)}}Rt(e){const t=Math.floor(e/8);this.bitmap[t]|=1<<e%8}}class Dd extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class wh{constructor(e,t,a,f,_){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=a,this.documentUpdates=f,this.resolvedLimboDocuments=_}static createSynthesizedRemoteEventForCurrentChange(e,t,a){const f=new Map;return f.set(e,Ml.createSynthesizedTargetChangeForCurrentChange(e,t,a)),new wh(Ii.min(),f,new Xr(Ui),La(),Is())}}class Ml{constructor(e,t,a,f,_){this.resumeToken=e,this.current=t,this.addedDocuments=a,this.modifiedDocuments=f,this.removedDocuments=_}static createSynthesizedTargetChangeForCurrentChange(e,t,a){return new Ml(a,t,Is(),Is(),Is())}}class Zu{constructor(e,t,a,f){this.Pt=e,this.removedTargetIds=t,this.key=a,this.bt=f}}class jf{constructor(e,t){this.targetId=e,this.Vt=t}}class zf{constructor(e,t,a=Mo.EMPTY_BYTE_STRING,f=null){this.state=e,this.targetIds=t,this.resumeToken=a,this.cause=f}}class ng{constructor(){this.St=0,this.Dt=ig(),this.Ct=Mo.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=Is(),t=Is(),a=Is();return this.Dt.forEach((f,_)=>{switch(_){case 0:e=e.add(f);break;case 2:t=t.add(f);break;case 1:a=a.add(f);break;default:_r()}}),new Ml(this.Ct,this.xt,e,t,a)}Ft(){this.Nt=!1,this.Dt=ig()}Bt(e,t){this.Nt=!0,this.Dt=this.Dt.insert(e,t)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class rg{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=La(),this.zt=Hf(),this.Wt=new Xr(Ui)}Ht(e){for(const t of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(t,e.bt):this.Yt(t,e.key,e.bt);for(const t of e.removedTargetIds)this.Yt(t,e.key,e.bt)}Xt(e){this.forEachTarget(e,t=>{const a=this.Zt(t);switch(e.state){case 0:this.te(t)&&a.$t(e.resumeToken);break;case 1:a.Ut(),a.kt||a.Ft(),a.$t(e.resumeToken);break;case 2:a.Ut(),a.kt||this.removeTarget(t);break;case 3:this.te(t)&&(a.Kt(),a.$t(e.resumeToken));break;case 4:this.te(t)&&(this.ee(t),a.$t(e.resumeToken));break;default:_r()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Qt.forEach((a,f)=>{this.te(f)&&t(f)})}ne(e){var t;const a=e.targetId,f=e.Vt.count,_=this.se(a);if(_){const S=_.target;if(mu(S))if(0===f){const Y=new yr(S.path);this.Yt(a,Y,_o.newNoDocument(Y,Ii.min()))}else Hr(1===f);else{const Y=this.ie(a);if(Y!==f){const ce=this.re(e,Y);0!==ce&&(this.ee(a),this.Wt=this.Wt.insert(a,2===ce?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(t=Eh.instance)||void 0===t||t.notifyOnExistenceFilterMismatch(function(Ee,Ye,Mt){var En,Vn,Dr,ci,bi,Hs;const Ro={localCacheCount:Ye,existenceFilterCount:Mt.count},no=Mt.unchangedNames;return no&&(Ro.bloomFilter={applied:0===Ee,hashCount:null!==(En=null==no?void 0:no.hashCount)&&void 0!==En?En:0,bitmapLength:null!==(ci=null===(Dr=null===(Vn=null==no?void 0:no.bits)||void 0===Vn?void 0:Vn.bitmap)||void 0===Dr?void 0:Dr.length)&&void 0!==ci?ci:0,padding:null!==(Hs=null===(bi=null==no?void 0:no.bits)||void 0===bi?void 0:bi.padding)&&void 0!==Hs?Hs:0}),Ro}(ce,Y,e.Vt))}}}}re(e,t){const{unchangedNames:a,count:f}=e.Vt;if(!a||!a.bits)return 1;const{bits:{bitmap:_="",padding:S=0},hashCount:Y=0}=a;let ce,Ee;try{ce=ia(_).toUint8Array()}catch(Ye){if(Ye instanceof Ta)return Go("Decoding the base64 bloom filter in existence filter failed ("+Ye.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw Ye}try{Ee=new Uf(ce,S,Y)}catch(Ye){return Go(Ye instanceof Dd?"BloomFilter error: ":"Applying bloom filter failed: ",Ye),1}return 0===Ee.It?1:f!==t-this.oe(e.targetId,Ee)?2:0}oe(e,t){const a=this.Gt.getRemoteKeysForTarget(e);let f=0;return a.forEach(_=>{const S=this.Gt.ue(),Y=`projects/${S.projectId}/databases/${S.database}/documents/${_.path.canonicalString()}`;t.vt(Y)||(this.Yt(e,_,null),f++)}),f}ce(e){const t=new Map;this.Qt.forEach((_,S)=>{const Y=this.se(S);if(Y){if(_.current&&mu(Y.target)){const ce=new yr(Y.target.path);null!==this.jt.get(ce)||this.ae(S,ce)||this.Yt(S,ce,_o.newNoDocument(ce,e))}_.Mt&&(t.set(S,_.Ot()),_.Ft())}});let a=Is();this.zt.forEach((_,S)=>{let Y=!0;S.forEachWhile(ce=>{const Ee=this.se(ce);return!Ee||"TargetPurposeLimboResolution"===Ee.purpose||(Y=!1,!1)}),Y&&(a=a.add(_))}),this.jt.forEach((_,S)=>S.setReadTime(e));const f=new wh(e,t,this.Wt,this.jt,a);return this.jt=La(),this.zt=Hf(),this.Wt=new Xr(Ui),f}Jt(e,t){if(!this.te(e))return;const a=this.ae(e,t.key)?2:0;this.Zt(e).Bt(t.key,a),this.jt=this.jt.insert(t.key,t),this.zt=this.zt.insert(t.key,this.he(t.key).add(e))}Yt(e,t,a){if(!this.te(e))return;const f=this.Zt(e);this.ae(e,t)?f.Bt(t,1):f.Lt(t),this.zt=this.zt.insert(t,this.he(t).delete(e)),a&&(this.jt=this.jt.insert(t,a))}removeTarget(e){this.Qt.delete(e)}ie(e){const t=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let t=this.Qt.get(e);return t||(t=new ng,this.Qt.set(e,t)),t}he(e){let t=this.zt.get(e);return t||(t=new gs(Ui),this.zt=this.zt.insert(e,t)),t}te(e){const t=null!==this.se(e);return t||$n("WatchChangeAggregator","Detected inactive target",e),t}se(e){const t=this.Qt.get(e);return t&&t.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new ng),this.Gt.getRemoteKeysForTarget(e).forEach(t=>{this.Yt(e,t,null)})}ae(e,t){return this.Gt.getRemoteKeysForTarget(e).has(t)}}function Hf(){return new Xr(yr.comparator)}function ig(){return new Xr(yr.comparator)}const Wf={asc:"ASCENDING",desc:"DESCENDING"},Ih={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},sg={and:"AND",or:"OR"};class og{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Sd(i,e){return i.useProto3Json||et(e)?e:{value:e}}function Td(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Ch(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function Dh(i,e){return Td(i,e.toTimestamp())}function xa(i){return Hr(!!i),Ii.fromTimestamp(function(e){const t=fa(e);return new yo(t.seconds,t.nanos)}(i))}function Gf(i,e){return(t=i,new os(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function _m(i){const e=os.fromString(i);return Hr(Xc(e)),e}function Sh(i,e){return Gf(i.databaseId,e.path)}function Pc(i,e){const t=_m(e);if(t.get(1)!==i.databaseId.projectId)throw new qn(Dn.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+i.databaseId.projectId);if(t.get(3)!==i.databaseId.database)throw new qn(Dn.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+i.databaseId.database);return new yr(lg(t))}function Kf(i,e){return Gf(i.databaseId,e)}function ag(i){const e=_m(i);return 4===e.length?os.emptyPath():lg(e)}function Eu(i){return new os(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function lg(i){return Hr(i.length>4&&"documents"===i.get(4)),i.popFirst(5)}function Ad(i,e,t){return{name:Sh(i,e),fields:t.value.mapValue.fields}}function bm(i,e,t){const a=Pc(i,e.name),f=xa(e.updateTime),_=e.createTime?xa(e.createTime):Ii.min(),S=new Uo({mapValue:{fields:e.fields}}),Y=_o.newFoundDocument(a,f,_,S);return t&&Y.setHasCommittedMutations(),t?Y.setHasCommittedMutations():Y}function xd(i,e){let t;if(e instanceof Zc)t={update:Ad(i,e.key,e.value)};else if(e instanceof _u)t={delete:Sh(i,e.key)};else if(e instanceof yc)t={update:Ad(i,e.key,e.data),updateMask:Yf(e.fieldMask)};else{if(!(e instanceof Cd))return _r();t={verify:Sh(i,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(a=>function(f,_){const S=_.transform;if(S instanceof ta)return{fieldPath:_.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(S instanceof rc)return{fieldPath:_.field.canonicalString(),appendMissingElements:{values:S.elements}};if(S instanceof xl)return{fieldPath:_.field.canonicalString(),removeAllFromArray:{values:S.elements}};if(S instanceof Yu)return{fieldPath:_.field.canonicalString(),increment:S.gt};throw _r()}(0,a))),e.precondition.isNone||(t.currentDocument=void 0!==(f=e.precondition).updateTime?{updateTime:Dh(i,f.updateTime)}:void 0!==f.exists?{exists:f.exists}:_r()),t;var f}function Th(i,e){const t=e.currentDocument?void 0!==(f=e.currentDocument).updateTime?pa.updateTime(xa(f.updateTime)):void 0!==f.exists?pa.exists(f.exists):pa.none():pa.none(),a=e.updateTransforms?e.updateTransforms.map(f=>function(_,S){let Y=null;"setToServerValue"in S?(Hr("REQUEST_TIME"===S.setToServerValue),Y=new ta):"appendMissingElements"in S?Y=new rc(S.appendMissingElements.values||[]):"removeAllFromArray"in S?Y=new xl(S.removeAllFromArray.values||[]):"increment"in S?Y=new Yu(_,S.increment):_r();const ce=ps.fromServerFormat(S.fieldPath);return new _h(ce,Y)}(i,f)):[];var f;if(e.update){const f=Pc(i,e.update.name),_=new Uo({mapValue:{fields:e.update.fields}});if(e.updateMask){const S=new Gs((e.updateMask.fieldPaths||[]).map(Ee=>ps.fromServerFormat(Ee)));return new yc(f,_,S,t,a)}return new Zc(f,_,t,a)}if(e.delete){const f=Pc(i,e.delete);return new _u(f,t)}if(e.verify){const f=Pc(i,e.verify);return new Cd(f,t)}return _r()}function Md(i,e){return{documents:[Kf(i,e.path)]}}function Pd(i,e){const t={structuredQuery:{}},a=e.path;null!==e.collectionGroup?(t.parent=Kf(i,a),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=Kf(i,a.popLast()),t.structuredQuery.from=[{collectionId:a.lastSegment()}]);const f=function(ce){if(0!==ce.length)return wm(Po.create(ce,"and"))}(e.filters);f&&(t.structuredQuery.where=f);const _=function(ce){if(0!==ce.length)return ce.map(Ee=>{return{field:wu((Ye=Ee).field),direction:Rd(Ye.dir)};var Ye})}(e.orderBy);_&&(t.structuredQuery.orderBy=_);const S=Sd(i,e.limit);var Y,ce;return null!==S&&(t.structuredQuery.limit=S),e.startAt&&(t.structuredQuery.startAt={before:(Y=e.startAt).inclusive,values:Y.position}),e.endAt&&(t.structuredQuery.endAt={before:!(ce=e.endAt).inclusive,values:ce.position}),t}function vc(i){let e=ag(i.parent);const t=i.structuredQuery,a=t.from?t.from.length:0;let f=null;if(a>0){Hr(1===a);const Ye=t.from[0];Ye.allDescendants?f=Ye.collectionId:e=e.child(Ye.collectionId)}let _=[];t.where&&(_=function(Ye){const Mt=Il(Ye);return Mt instanceof Po&&ph(Mt)?Mt.getFilters():[Mt]}(t.where));let S=[];t.orderBy&&(S=t.orderBy.map(Ye=>{return new tl(Od((Mt=Ye).field),function(En){switch(En){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(Mt.direction));var Mt}));let Y=null;t.limit&&(Y=function(Ye){let Mt;return Mt="object"==typeof Ye?Ye.value:Ye,et(Mt)?null:Mt}(t.limit));let ce=null;var Ye;t.startAt&&(ce=new ec((Ye=t.startAt).values||[],!!Ye.before));let Ee=null;return t.endAt&&(Ee=function(Ye){return new ec(Ye.values||[],!Ye.before)}(t.endAt)),kf(e,f,S,_,Y,"F",ce,Ee)}function Il(i){return void 0!==i.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Od(e.unaryFilter.field);return Ks.create(t,"==",{doubleValue:NaN});case"IS_NULL":const a=Od(e.unaryFilter.field);return Ks.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const f=Od(e.unaryFilter.field);return Ks.create(f,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const _=Od(e.unaryFilter.field);return Ks.create(_,"!=",{nullValue:"NULL_VALUE"});default:return _r()}}(i):void 0!==i.fieldFilter?Ks.create(Od((e=i).fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return _r()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==i.compositeFilter?function(e){return Po.create(e.compositeFilter.filters.map(t=>Il(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return _r()}}(e.compositeFilter.op))}(i):_r();var e}function Rd(i){return Wf[i]}function Em(i){return Ih[i]}function ky(i){return sg[i]}function wu(i){return{fieldPath:i.canonicalString()}}function Od(i){return ps.fromServerFormat(i.fieldPath)}function wm(i){return i instanceof Ks?function(e){if("=="===e.op){if(Uc(e.value))return{unaryFilter:{field:wu(e.field),op:"IS_NAN"}};if(al(e.value))return{unaryFilter:{field:wu(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Uc(e.value))return{unaryFilter:{field:wu(e.field),op:"IS_NOT_NAN"}};if(al(e.value))return{unaryFilter:{field:wu(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:wu(e.field),op:Em(e.op),value:e.value}}}(i):i instanceof Po?function(e){const t=e.getFilters().map(a=>wm(a));return 1===t.length?t[0]:{compositeFilter:{op:ky(e.op),filters:t}}}(i):_r()}function Yf(i){const e=[];return i.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function Xc(i){return i.length>=4&&"projects"===i.get(0)&&"databases"===i.get(2)}class Wl{constructor(e,t,a,f,_=Ii.min(),S=Ii.min(),Y=Mo.EMPTY_BYTE_STRING,ce=null){this.target=e,this.targetId=t,this.purpose=a,this.sequenceNumber=f,this.snapshotVersion=_,this.lastLimboFreeSnapshotVersion=S,this.resumeToken=Y,this.expectedCount=ce}withSequenceNumber(e){return new Wl(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Wl(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Wl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Wl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class cg{constructor(e){this.fe=e}}function Im(i,e){const t=e.key,a={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:qf(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())a.document={name:Sh(f=i.fe,(_=e).key),fields:_.data.value.mapValue.fields,updateTime:Td(f,_.version.toTimestamp()),createTime:Td(f,_.createTime.toTimestamp())};else if(e.isNoDocument())a.noDocument={path:t.path.toArray(),readTime:Rc(e.version)};else{if(!e.isUnknownDocument())return _r();a.unknownDocument={path:t.path.toArray(),version:Rc(e.version)}}var f,_;return a}function qf(i){const e=i.toTimestamp();return[e.seconds,e.nanoseconds]}function Rc(i){const e=i.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function kd(i){const e=new yo(i.seconds,i.nanoseconds);return Ii.fromTimestamp(e)}function Qc(i,e){const t=(e.baseMutations||[]).map(_=>Th(i.fe,_));for(let _=0;_<e.mutations.length-1;++_)_+1<e.mutations.length&&void 0!==e.mutations[_+1].transform&&(e.mutations[_].updateTransforms=e.mutations[_+1].transform.fieldTransforms,e.mutations.splice(_+1,1),++_);const a=e.mutations.map(_=>Th(i.fe,_)),f=yo.fromMillis(e.localWriteTimeMs);return new Bf(e.batchId,f,t,a)}function Ah(i){const e=kd(i.readTime),t=void 0!==i.lastLimboFreeSnapshotVersion?kd(i.lastLimboFreeSnapshotVersion):Ii.min();let a;var f;return void 0!==i.query.documents?(Hr(1===(f=i.query).documents.length),a=We(Kc(ag(f.documents[0])))):a=We(vc(i.query)),new Wl(a,i.targetId,"TargetPurposeListen",i.lastListenSequenceNumber,e,t,Mo.fromBase64String(i.resumeToken))}function Cm(i,e){const t=Rc(e.snapshotVersion),a=Rc(e.lastLimboFreeSnapshotVersion);let f;f=mu(e.target)?Md(i.fe,e.target):Pd(i.fe,e.target);const _=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:mc(e.target),readTime:t,resumeToken:_,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:a,query:f}}function Zf(i){const e=vc({parent:i.parent,structuredQuery:i.structuredQuery});return"LAST"===i.limitType?xn(e,e.limit,"L"):e}function Xf(i,e){return new Qp(e.largestBatchId,Th(i.fe,e.overlayMutation))}function xh(i,e){const t=e.path.lastSegment();return[i,Mn(e.path.popLast()),t]}function Oc(i,e,t,a){return{indexId:i,uid:e.uid||"",sequenceNumber:t,readTime:Rc(a.readTime),documentKey:Mn(a.documentKey.path),largestBatchId:a.largestBatchId}}class Mh{getBundleMetadata(e,t){return ug(e).get(t).next(a=>{if(a)return{id:(f=a).bundleId,createTime:kd(f.createTime),version:f.version};var f})}saveBundleMetadata(e,t){return ug(e).put({bundleId:(a=t).id,createTime:Rc(xa(a.createTime)),version:a.version});var a}getNamedQuery(e,t){return Qf(e).get(t).next(a=>{if(a)return{name:(f=a).name,query:Zf(f.bundledQuery),readTime:kd(f.readTime)};var f})}saveNamedQuery(e,t){return Qf(e).put({name:(a=t).name,readTime:Rc(xa(a.readTime)),bundledQuery:a.bundledQuery});var a}}function ug(i){return Mr(i,"bundles")}function Qf(i){return Mr(i,"namedQueries")}class Ph{constructor(e,t){this.serializer=e,this.userId=t}static de(e,t){return new Ph(e,t.uid||"")}getOverlay(e,t){return Jf(e).get(xh(this.userId,t)).next(a=>a?Xf(this.serializer,a):null)}getOverlays(e,t){const a=Hl();return yn.forEach(t,f=>this.getOverlay(e,f).next(_=>{null!==_&&a.set(f,_)})).next(()=>a)}saveOverlays(e,t,a){const f=[];return a.forEach((_,S)=>{const Y=new Qp(t,S);f.push(this.we(e,Y))}),yn.waitFor(f)}removeOverlaysForBatchId(e,t,a){const f=new Set;t.forEach(S=>f.add(Mn(S.getCollectionPath())));const _=[];return f.forEach(S=>{const Y=IDBKeyRange.bound([this.userId,S,a],[this.userId,S,a+1],!1,!0);_.push(Jf(e).J("collectionPathOverlayIndex",Y))}),yn.waitFor(_)}getOverlaysForCollection(e,t,a){const f=Hl(),_=Mn(t),S=IDBKeyRange.bound([this.userId,_,a],[this.userId,_,Number.POSITIVE_INFINITY],!0);return Jf(e).j("collectionPathOverlayIndex",S).next(Y=>{for(const ce of Y){const Ee=Xf(this.serializer,ce);f.set(Ee.getKey(),Ee)}return f})}getOverlaysForCollectionGroup(e,t,a,f){const _=Hl();let S;const Y=IDBKeyRange.bound([this.userId,t,a],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Jf(e).X({index:"collectionGroupOverlayIndex",range:Y},(ce,Ee,Ye)=>{const Mt=Xf(this.serializer,Ee);_.size()<f||Mt.largestBatchId===S?(_.set(Mt.getKey(),Mt),S=Mt.largestBatchId):Ye.done()}).next(()=>_)}we(e,t){return Jf(e).put(function(a,f,_){const[S,Y,ce]=xh(f,_.mutation.key);return{userId:f,collectionPath:Y,documentId:ce,collectionGroup:_.mutation.key.getCollectionGroup(),largestBatchId:_.largestBatchId,overlayMutation:xd(a.fe,_.mutation)}}(this.serializer,this.userId,t))}}function Jf(i){return Mr(i,"documentOverlays")}class Xu{constructor(){}_e(e,t){this.me(e,t),t.ge()}me(e,t){if("nullValue"in e)this.ye(t,5);else if("booleanValue"in e)this.ye(t,10),t.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(t,15),t.pe(co(e.integerValue));else if("doubleValue"in e){const a=co(e.doubleValue);isNaN(a)?this.ye(t,13):(this.ye(t,15),ze(a)?t.pe(0):t.pe(a))}else if("timestampValue"in e){const a=e.timestampValue;this.ye(t,20),"string"==typeof a?t.Ie(a):(t.Ie(`${a.seconds||""}`),t.pe(a.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,t),this.Ee(t);else if("bytesValue"in e)this.ye(t,30),t.Ae(ia(e.bytesValue)),this.Ee(t);else if("referenceValue"in e)this.ve(e.referenceValue,t);else if("geoPointValue"in e){const a=e.geoPointValue;this.ye(t,45),t.pe(a.latitude||0),t.pe(a.longitude||0)}else"mapValue"in e?lu(e)?this.ye(t,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,t),this.Ee(t)):"arrayValue"in e?(this.Pe(e.arrayValue,t),this.Ee(t)):_r()}Te(e,t){this.ye(t,25),this.be(e,t)}be(e,t){t.Ie(e)}Re(e,t){const a=e.fields||{};this.ye(t,55);for(const f of Object.keys(a))this.Te(f,t),this.me(a[f],t)}Pe(e,t){const a=e.values||[];this.ye(t,50);for(const f of a)this.me(f,t)}ve(e,t){this.ye(t,37),yr.fromName(e).path.forEach(a=>{this.ye(t,60),this.be(a,t)})}ye(e,t){e.pe(t)}Ee(e){e.pe(2)}}function Cv(i){if(0===i)return 8;let e=0;return!(i>>4)&&(e+=4,i<<=4),!(i>>6)&&(e+=2,i<<=2),!(i>>7)&&(e+=1),e}function ep(i){const e=64-function(t){let a=0;for(let f=0;f<8;++f){const _=Cv(255&t[f]);if(a+=_,8!==_)break}return a}(i);return Math.ceil(e/8)}Xu.Ve=new Xu;class dg{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Se(e){const t=e[Symbol.iterator]();let a=t.next();for(;!a.done;)this.De(a.value),a=t.next();this.Ce()}xe(e){const t=e[Symbol.iterator]();let a=t.next();for(;!a.done;)this.Ne(a.value),a=t.next();this.ke()}Me(e){for(const t of e){const a=t.charCodeAt(0);if(a<128)this.De(a);else if(a<2048)this.De(960|a>>>6),this.De(128|63&a);else if(t<"\ud800"||"\udbff"<t)this.De(480|a>>>12),this.De(128|63&a>>>6),this.De(128|63&a);else{const f=t.codePointAt(0);this.De(240|f>>>18),this.De(128|63&f>>>12),this.De(128|63&f>>>6),this.De(128|63&f)}}this.Ce()}$e(e){for(const t of e){const a=t.charCodeAt(0);if(a<128)this.Ne(a);else if(a<2048)this.Ne(960|a>>>6),this.Ne(128|63&a);else if(t<"\ud800"||"\udbff"<t)this.Ne(480|a>>>12),this.Ne(128|63&a>>>6),this.Ne(128|63&a);else{const f=t.codePointAt(0);this.Ne(240|f>>>18),this.Ne(128|63&f>>>12),this.Ne(128|63&f>>>6),this.Ne(128|63&f)}}this.ke()}Oe(e){const t=this.Fe(e),a=ep(t);this.Be(1+a),this.buffer[this.position++]=255&a;for(let f=t.length-a;f<t.length;++f)this.buffer[this.position++]=255&t[f]}Le(e){const t=this.Fe(e),a=ep(t);this.Be(1+a),this.buffer[this.position++]=~(255&a);for(let f=t.length-a;f<t.length;++f)this.buffer[this.position++]=~(255&t[f])}qe(){this.Ue(255),this.Ue(255)}Ke(){this.Ge(255),this.Ge(255)}reset(){this.position=0}seed(e){this.Be(e.length),this.buffer.set(e,this.position),this.position+=e.length}Qe(){return this.buffer.slice(0,this.position)}Fe(e){const t=function(f){const _=new DataView(new ArrayBuffer(8));return _.setFloat64(0,f,!1),new Uint8Array(_.buffer)}(e),a=0!=(128&t[0]);t[0]^=a?255:128;for(let f=1;f<t.length;++f)t[f]^=a?255:0;return t}De(e){const t=255&e;0===t?(this.Ue(0),this.Ue(255)):255===t?(this.Ue(255),this.Ue(0)):this.Ue(t)}Ne(e){const t=255&e;0===t?(this.Ge(0),this.Ge(255)):255===t?(this.Ge(255),this.Ge(0)):this.Ge(e)}Ce(){this.Ue(0),this.Ue(1)}ke(){this.Ge(0),this.Ge(1)}Ue(e){this.Be(1),this.buffer[this.position++]=e}Ge(e){this.Be(1),this.buffer[this.position++]=~e}Be(e){const t=e+this.position;if(t<=this.buffer.length)return;let a=2*this.buffer.length;a<t&&(a=t);const f=new Uint8Array(a);f.set(this.buffer),this.buffer=f}}class Dv{constructor(e){this.je=e}Ae(e){this.je.Se(e)}Ie(e){this.je.Me(e)}pe(e){this.je.Oe(e)}ge(){this.je.qe()}}class Sv{constructor(e){this.je=e}Ae(e){this.je.xe(e)}Ie(e){this.je.$e(e)}pe(e){this.je.Le(e)}ge(){this.je.Ke()}}class Nd{constructor(){this.je=new dg,this.ze=new Dv(this.je),this.We=new Sv(this.je)}seed(e){this.je.seed(e)}He(e){return 0===e?this.ze:this.We}Qe(){return this.je.Qe()}reset(){this.je.reset()}}class Qu{constructor(e,t,a,f){this.indexId=e,this.documentKey=t,this.arrayValue=a,this.directionalValue=f}Je(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,a=new Uint8Array(t);return a.set(this.directionalValue,0),t!==e?a.set([0],this.directionalValue.length):++a[a.length-1],new Qu(this.indexId,this.documentKey,this.arrayValue,a)}}function Iu(i,e){let t=i.indexId-e.indexId;return 0!==t?t:(t=Dm(i.arrayValue,e.arrayValue),0!==t?t:(t=Dm(i.directionalValue,e.directionalValue),0!==t?t:yr.comparator(i.documentKey,e.documentKey)))}function Dm(i,e){for(let t=0;t<i.length&&t<e.length;++t){const a=i[t]-e[t];if(0!==a)return a}return i.length-e.length}class Sm{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ye=e.orderBy,this.Xe=[];for(const t of e.filters){const a=t;a.isInequality()?this.Ze=a:this.Xe.push(a)}}tn(e){Hr(e.collectionGroup===this.collectionId);const t=Da(e);if(void 0!==t&&!this.en(t))return!1;const a=Sa(e);let f=0,_=0;for(;f<a.length&&this.en(a[f]);++f);if(f===a.length)return!0;if(void 0!==this.Ze){const S=a[f];if(!this.nn(this.Ze,S)||!this.sn(this.Ye[_++],S))return!1;++f}for(;f<a.length;++f)if(_>=this.Ye.length||!this.sn(this.Ye[_++],a[f]))return!1;return!0}en(e){for(const t of this.Xe)if(this.nn(t,e))return!0;return!1}nn(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}sn(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function hg(i){var e,t;if(Hr(i instanceof Ks||i instanceof Po),i instanceof Ks){if(i instanceof pu){const f=(null===(t=null===(e=i.value.arrayValue)||void 0===e?void 0:e.values)||void 0===t?void 0:t.map(_=>Ks.create(i.field,"==",_)))||[];return Po.create(f,"or")}return i}const a=i.filters.map(f=>hg(f));return Po.create(a,i.op)}function tp(i){if(0===i.getFilters().length)return[];const e=ga(hg(i));return Hr(Tm(e)),fg(e)||Rh(e)?[e]:e.getFilters()}function fg(i){return i instanceof Ks}function Rh(i){return i instanceof Po&&ph(i)}function Tm(i){return fg(i)||Rh(i)||function(e){if(e instanceof Po&&tc(e)){for(const t of e.getFilters())if(!fg(t)&&!Rh(t))return!1;return!0}return!1}(i)}function ga(i){if(Hr(i instanceof Ks||i instanceof Po),i instanceof Ks)return i;if(1===i.filters.length)return ga(i.filters[0]);const e=i.filters.map(a=>ga(a));let t=Po.create(e,i.op);return t=Ju(t),Tm(t)?t:(Hr(t instanceof Po),Hr(Al(t)),Hr(t.filters.length>1),t.filters.reduce((a,f)=>Am(a,f)))}function Am(i,e){let t;return Hr(i instanceof Ks||i instanceof Po),Hr(e instanceof Ks||e instanceof Po),t=i instanceof Ks?e instanceof Ks?Po.create([i,e],"and"):np(i,e):e instanceof Ks?np(e,i):function(a,f){if(Hr(a.filters.length>0&&f.filters.length>0),Al(a)&&Al(f))return Gu(a,f.getFilters());const _=tc(a)?a:f,S=tc(a)?f:a,Y=_.filters.map(ce=>Am(ce,S));return Po.create(Y,"or")}(i,e),Ju(t)}function np(i,e){if(Al(e))return Gu(e,i.getFilters());{const t=e.filters.map(a=>Am(i,a));return Po.create(t,"or")}}function Ju(i){if(Hr(i instanceof Ks||i instanceof Po),i instanceof Ks)return i;const e=i.getFilters();if(1===e.length)return Ju(e[0]);if(Ga(i))return i;const t=e.map(f=>Ju(f)),a=[];return t.forEach(f=>{f instanceof Ks?a.push(f):f instanceof Po&&(f.op===i.op?a.push(...f.filters):a.push(f))}),1===a.length?a[0]:Po.create(a,i.op)}class xm{constructor(){this.rn=new Mm}addToCollectionParentIndex(e,t){return this.rn.add(t),yn.resolve()}getCollectionParents(e,t){return yn.resolve(this.rn.getEntries(t))}addFieldIndex(e,t){return yn.resolve()}deleteFieldIndex(e,t){return yn.resolve()}getDocumentsMatchingTarget(e,t){return yn.resolve(null)}getIndexType(e,t){return yn.resolve(0)}getFieldIndexes(e,t){return yn.resolve([])}getNextCollectionGroupToUpdate(e){return yn.resolve(null)}getMinOffset(e,t){return yn.resolve(Hi.min())}getMinOffsetFromCollectionGroup(e,t){return yn.resolve(Hi.min())}updateCollectionGroup(e,t,a){return yn.resolve()}updateIndexEntries(e,t){return yn.resolve()}}class Mm{constructor(){this.index={}}add(e){const t=e.lastSegment(),a=e.popLast(),f=this.index[t]||new gs(os.comparator),_=!f.has(a);return this.index[t]=f.add(a),_}has(e){const t=e.lastSegment(),a=e.popLast(),f=this.index[t];return f&&f.has(a)}getEntries(e){return(this.index[e]||new gs(os.comparator)).toArray()}}const pg=new Uint8Array(0);class Tv{constructor(e,t){this.user=e,this.databaseId=t,this.on=new Mm,this.un=new bl(a=>mc(a),(a,f)=>vd(a,f)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.on.has(t)){const a=t.lastSegment(),f=t.popLast();e.addOnCommittedListener(()=>{this.on.add(t)});const _={collectionId:a,parent:Mn(f)};return Fy(e).put(_)}return yn.resolve()}getCollectionParents(e,t){const a=[],f=IDBKeyRange.bound([t,""],[Cc(t),""],!1,!0);return Fy(e).j(f).next(_=>{for(const S of _){if(S.collectionId!==t)break;a.push(si(S.parent))}return a})}addFieldIndex(e,t){const a=Pm(e),f={indexId:(S=t).indexId,collectionGroup:S.collectionGroup,fields:S.fields.map(Y=>[Y.fieldPath.canonicalString(),Y.kind])};var S;delete f.indexId;const _=a.add(f);if(t.indexState){const S=gg(e);return _.next(Y=>{S.put(Oc(Y,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return _.next()}deleteFieldIndex(e,t){const a=Pm(e),f=gg(e),_=Oh(e);return a.delete(t.indexId).next(()=>f.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>_.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const a=Oh(e);let f=!0;const _=new Map;return yn.forEach(this.cn(t),S=>this.an(e,S).next(Y=>{f&&(f=!!Y),_.set(S,Y)})).next(()=>{if(f){let S=Is();const Y=[];return yn.forEach(_,(ce,Ee)=>{var Ye;$n("IndexedDbIndexManager",`Using index ${Ye=ce,`id=${Ye.indexId}|cg=${Ye.collectionGroup}|f=${Ye.fields.map(no=>`${no.fieldPath}:${no.kind}`).join(",")}`} to execute ${mc(t)}`);const Mt=function(no,Qa){const Ua=Da(Qa);if(void 0===Ua)return null;for(const ba of Wc(no,Ua.fieldPath))switch(ba.op){case"array-contains-any":return ba.value.arrayValue.values||[];case"array-contains":return[ba.value]}return null}(Ee,ce),En=function(no,Qa){const Ua=new Map;for(const ba of Sa(Qa))for(const uc of Wc(no,ba.fieldPath))switch(uc.op){case"==":case"in":Ua.set(ba.fieldPath.canonicalString(),uc.value);break;case"not-in":case"!=":return Ua.set(ba.fieldPath.canonicalString(),uc.value),Array.from(Ua.values())}return null}(Ee,ce),Vn=function(no,Qa){const Ua=[];let ba=!0;for(const uc of Sa(Qa)){const Tf=0===uc.kind?Of(no,uc.fieldPath,no.startAt):Gc(no,uc.fieldPath,no.startAt);Ua.push(Tf.value),ba&&(ba=Tf.inclusive)}return new ec(Ua,ba)}(Ee,ce),Dr=function(no,Qa){const Ua=[];let ba=!0;for(const uc of Sa(Qa)){const Tf=0===uc.kind?Gc(no,uc.fieldPath,no.endAt):Of(no,uc.fieldPath,no.endAt);Ua.push(Tf.value),ba&&(ba=Tf.inclusive)}return new ec(Ua,ba)}(Ee,ce),ci=this.hn(ce,Ee,Vn),bi=this.hn(ce,Ee,Dr),Hs=this.ln(ce,Ee,En),Ro=this.fn(ce.indexId,Mt,ci,Vn.inclusive,bi,Dr.inclusive,Hs);return yn.forEach(Ro,no=>a.H(no,t.limit).next(Qa=>{Qa.forEach(Ua=>{const ba=yr.fromSegments(Ua.documentKey);S.has(ba)||(S=S.add(ba),Y.push(ba))})}))}).next(()=>Y)}return yn.resolve(null)})}cn(e){let t=this.un.get(e);return t||(t=0===e.filters.length?[e]:tp(Po.create(e.filters,"and")).map(a=>gu(e.path,e.collectionGroup,e.orderBy,a.getFilters(),e.limit,e.startAt,e.endAt)),this.un.set(e,t),t)}fn(e,t,a,f,_,S,Y){const ce=(null!=t?t.length:1)*Math.max(a.length,_.length),Ee=ce/(null!=t?t.length:1),Ye=[];for(let Mt=0;Mt<ce;++Mt){const En=t?this.dn(t[Mt/Ee]):pg,Vn=this.wn(e,En,a[Mt%Ee],f),Dr=this._n(e,En,_[Mt%Ee],S),ci=Y.map(bi=>this.wn(e,En,bi,!0));Ye.push(...this.createRange(Vn,Dr,ci))}return Ye}wn(e,t,a,f){const _=new Qu(e,yr.empty(),t,a);return f?_:_.Je()}_n(e,t,a,f){const _=new Qu(e,yr.empty(),t,a);return f?_.Je():_}an(e,t){const a=new Sm(t),f=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,f).next(_=>{let S=null;for(const Y of _)a.tn(Y)&&(!S||Y.fields.length>S.fields.length)&&(S=Y);return S})}getIndexType(e,t){let a=2;const f=this.cn(t);return yn.forEach(f,_=>this.an(e,_).next(S=>{S?0!==a&&S.fields.length<function(Y){let ce=new gs(ps.comparator),Ee=!1;for(const Ye of Y.filters)for(const Mt of Ye.getFlattenedFilters())Mt.field.isKeyField()||("array-contains"===Mt.op||"array-contains-any"===Mt.op?Ee=!0:ce=ce.add(Mt.field));for(const Ye of Y.orderBy)Ye.field.isKeyField()||(ce=ce.add(Ye.field));return ce.size+(Ee?1:0)}(_)&&(a=1):a=0})).next(()=>null!==t.limit&&f.length>1&&2===a?1:a)}mn(e,t){const a=new Nd;for(const f of Sa(e)){const _=t.data.field(f.fieldPath);if(null==_)return null;const S=a.He(f.kind);Xu.Ve._e(_,S)}return a.Qe()}dn(e){const t=new Nd;return Xu.Ve._e(e,t.He(0)),t.Qe()}gn(e,t){const a=new Nd;return Xu.Ve._e(Jl(this.databaseId,t),a.He(function(f){const _=Sa(f);return 0===_.length?0:_[_.length-1].kind}(e))),a.Qe()}ln(e,t,a){if(null===a)return[];let f=[];f.push(new Nd);let _=0;for(const S of Sa(e)){const Y=a[_++];for(const ce of f)if(this.yn(t,S.fieldPath)&&Vc(Y))f=this.pn(f,S,Y);else{const Ee=ce.He(S.kind);Xu.Ve._e(Y,Ee)}}return this.In(f)}hn(e,t,a){return this.ln(e,t,a.position)}In(e){const t=[];for(let a=0;a<e.length;++a)t[a]=e[a].Qe();return t}pn(e,t,a){const f=[...e],_=[];for(const S of a.arrayValue.values||[])for(const Y of f){const ce=new Nd;ce.seed(Y.Qe()),Xu.Ve._e(S,ce.He(t.kind)),_.push(ce)}return _}yn(e,t){return!!e.filters.find(a=>a instanceof Ks&&a.field.isEqual(t)&&("in"===a.op||"not-in"===a.op))}getFieldIndexes(e,t){const a=Pm(e),f=gg(e);return(t?a.j("collectionGroupIndex",IDBKeyRange.bound(t,t)):a.j()).next(_=>{const S=[];return yn.forEach(_,Y=>f.get([Y.indexId,this.uid]).next(ce=>{S.push(function(Ee,Ye){const Mt=Ye?new en(Ye.sequenceNumber,new Hi(kd(Ye.readTime),new yr(si(Ye.documentKey)),Ye.largestBatchId)):en.empty(),En=Ee.fields.map(([Vn,Dr])=>new nt(ps.fromServerFormat(Vn),Dr));return new yl(Ee.indexId,Ee.collectionGroup,En,Mt)}(Y,ce))})).next(()=>S)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((a,f)=>{const _=a.indexState.sequenceNumber-f.indexState.sequenceNumber;return 0!==_?_:Ui(a.collectionGroup,f.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,a){const f=Pm(e),_=gg(e);return this.Tn(e).next(S=>f.j("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(Y=>yn.forEach(Y,ce=>_.put(Oc(ce.indexId,this.user,S,a)))))}updateIndexEntries(e,t){const a=new Map;return yn.forEach(t,(f,_)=>{const S=a.get(f.collectionGroup);return(S?yn.resolve(S):this.getFieldIndexes(e,f.collectionGroup)).next(Y=>(a.set(f.collectionGroup,Y),yn.forEach(Y,ce=>this.En(e,f,ce).next(Ee=>{const Ye=this.An(_,ce);return Ee.isEqual(Ye)?yn.resolve():this.vn(e,_,ce,Ee,Ye)}))))})}Rn(e,t,a,f){return Oh(e).put({indexId:f.indexId,uid:this.uid,arrayValue:f.arrayValue,directionalValue:f.directionalValue,orderedDocumentKey:this.gn(a,t.key),documentKey:t.key.path.toArray()})}Pn(e,t,a,f){return Oh(e).delete([f.indexId,this.uid,f.arrayValue,f.directionalValue,this.gn(a,t.key),t.key.path.toArray()])}En(e,t,a){const f=Oh(e);let _=new gs(Iu);return f.X({index:"documentKeyIndex",range:IDBKeyRange.only([a.indexId,this.uid,this.gn(a,t)])},(S,Y)=>{_=_.add(new Qu(a.indexId,t,Y.arrayValue,Y.directionalValue))}).next(()=>_)}An(e,t){let a=new gs(Iu);const f=this.mn(t,e);if(null==f)return a;const _=Da(t);if(null!=_){const S=e.data.field(_.fieldPath);if(Vc(S))for(const Y of S.arrayValue.values||[])a=a.add(new Qu(t.indexId,e.key,this.dn(Y),f))}else a=a.add(new Qu(t.indexId,e.key,pg,f));return a}vn(e,t,a,f,_){$n("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const S=[];return function(Y,ce,Ee,Ye,Mt){const En=Y.getIterator(),Vn=ce.getIterator();let Dr=to(En),ci=to(Vn);for(;Dr||ci;){let bi=!1,Hs=!1;if(Dr&&ci){const Ro=Ee(Dr,ci);Ro<0?Hs=!0:Ro>0&&(bi=!0)}else null!=Dr?Hs=!0:bi=!0;bi?(Ye(ci),ci=to(Vn)):Hs?(Mt(Dr),Dr=to(En)):(Dr=to(En),ci=to(Vn))}}(f,_,Iu,Y=>{S.push(this.Rn(e,t,a,Y))},Y=>{S.push(this.Pn(e,t,a,Y))}),yn.waitFor(S)}Tn(e){let t=1;return gg(e).X({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(a,f,_)=>{_.done(),t=f.sequenceNumber+1}).next(()=>t)}createRange(e,t,a){a=a.sort((S,Y)=>Iu(S,Y)).filter((S,Y,ce)=>!Y||0!==Iu(S,ce[Y-1]));const f=[];f.push(e);for(const S of a){const Y=Iu(S,e),ce=Iu(S,t);if(0===Y)f[0]=e.Je();else if(Y>0&&ce<0)f.push(S),f.push(S.Je());else if(ce>0)break}f.push(t);const _=[];for(let S=0;S<f.length;S+=2){if(this.bn(f[S],f[S+1]))return[];_.push(IDBKeyRange.bound([f[S].indexId,this.uid,f[S].arrayValue,f[S].directionalValue,pg,[]],[f[S+1].indexId,this.uid,f[S+1].arrayValue,f[S+1].directionalValue,pg,[]]))}return _}bn(e,t){return Iu(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(kh)}getMinOffset(e,t){return yn.mapArray(this.cn(t),a=>this.an(e,a).next(f=>f||_r())).next(kh)}}function Fy(i){return Mr(i,"collectionParents")}function Oh(i){return Mr(i,"indexEntries")}function Pm(i){return Mr(i,"indexConfiguration")}function gg(i){return Mr(i,"indexState")}function kh(i){Hr(0!==i.length);let e=i[0].indexState.offset,t=e.largestBatchId;for(let a=1;a<i.length;a++){const f=i[a].indexState.offset;es(f,e)<0&&(e=f),t<f.largestBatchId&&(t=f.largestBatchId)}return new Hi(e.readTime,e.documentKey,t)}const jo={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Ba{constructor(e,t,a){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=a}static withCacheSize(e){return new Ba(e,Ba.DEFAULT_COLLECTION_PERCENTILE,Ba.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function Rm(i,e,t){const a=i.store("mutations"),f=i.store("documentMutations"),_=[],S=IDBKeyRange.only(t.batchId);let Y=0;const ce=a.X({range:S},(Ye,Mt,En)=>(Y++,En.delete()));_.push(ce.next(()=>{Hr(1===Y)}));const Ee=[];for(const Ye of t.mutations){const Mt=y(e,Ye.key.path,t.batchId);_.push(f.delete(Mt)),Ee.push(Ye.key)}return yn.waitFor(_).next(()=>Ee)}function Nh(i){if(!i)return 0;let e;if(i.document)e=i.document;else if(i.unknownDocument)e=i.unknownDocument;else{if(!i.noDocument)throw _r();e=i.noDocument}return JSON.stringify(e).length}Ba.DEFAULT_COLLECTION_PERCENTILE=10,Ba.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ba.DEFAULT=new Ba(41943040,Ba.DEFAULT_COLLECTION_PERCENTILE,Ba.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ba.DISABLED=new Ba(-1,0,0);class Fh{constructor(e,t,a,f){this.userId=e,this.serializer=t,this.indexManager=a,this.referenceDelegate=f,this.Vn={}}static de(e,t,a,f){Hr(""!==e.uid);const _=e.isAuthenticated()?e.uid:"";return new Fh(_,t,a,f)}checkEmpty(e){let t=!0;const a=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Cu(e).X({index:"userMutationsIndex",range:a},(f,_,S)=>{t=!1,S.done()}).next(()=>t)}addMutationBatch(e,t,a,f){const _=ed(e),S=Cu(e);return S.add({}).next(Y=>{Hr("number"==typeof Y);const ce=new Bf(Y,t,a,f),Ee=function(En,Vn,Dr){const ci=Dr.baseMutations.map(Hs=>xd(En.fe,Hs)),bi=Dr.mutations.map(Hs=>xd(En.fe,Hs));return{userId:Vn,batchId:Dr.batchId,localWriteTimeMs:Dr.localWriteTime.toMillis(),baseMutations:ci,mutations:bi}}(this.serializer,this.userId,ce),Ye=[];let Mt=new gs((En,Vn)=>Ui(En.canonicalString(),Vn.canonicalString()));for(const En of f){const Vn=y(this.userId,En.key.path,Y);Mt=Mt.add(En.key.path.popLast()),Ye.push(S.put(Ee)),Ye.push(_.put(Vn,h))}return Mt.forEach(En=>{Ye.push(this.indexManager.addToCollectionParentIndex(e,En))}),e.addOnCommittedListener(()=>{this.Vn[Y]=ce.keys()}),yn.waitFor(Ye).next(()=>ce)})}lookupMutationBatch(e,t){return Cu(e).get(t).next(a=>a?(Hr(a.userId===this.userId),Qc(this.serializer,a)):null)}Sn(e,t){return this.Vn[t]?yn.resolve(this.Vn[t]):this.lookupMutationBatch(e,t).next(a=>{if(a){const f=a.keys();return this.Vn[t]=f,f}return null})}getNextMutationBatchAfterBatchId(e,t){const a=t+1,f=IDBKeyRange.lowerBound([this.userId,a]);let _=null;return Cu(e).X({index:"userMutationsIndex",range:f},(S,Y,ce)=>{Y.userId===this.userId&&(Hr(Y.batchId>=a),_=Qc(this.serializer,Y)),ce.done()}).next(()=>_)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let a=-1;return Cu(e).X({index:"userMutationsIndex",range:t,reverse:!0},(f,_,S)=>{a=_.batchId,S.done()}).next(()=>a)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Cu(e).j("userMutationsIndex",t).next(a=>a.map(f=>Qc(this.serializer,f)))}getAllMutationBatchesAffectingDocumentKey(e,t){const a=I(this.userId,t.path),f=IDBKeyRange.lowerBound(a),_=[];return ed(e).X({range:f},(S,Y,ce)=>{const[Ee,Ye,Mt]=S,En=si(Ye);if(Ee===this.userId&&t.path.isEqual(En))return Cu(e).get(Mt).next(Vn=>{if(!Vn)throw _r();Hr(Vn.userId===this.userId),_.push(Qc(this.serializer,Vn))});ce.done()}).next(()=>_)}getAllMutationBatchesAffectingDocumentKeys(e,t){let a=new gs(Ui);const f=[];return t.forEach(_=>{const S=I(this.userId,_.path),Y=IDBKeyRange.lowerBound(S),ce=ed(e).X({range:Y},(Ee,Ye,Mt)=>{const[En,Vn,Dr]=Ee,ci=si(Vn);En===this.userId&&_.path.isEqual(ci)?a=a.add(Dr):Mt.done()});f.push(ce)}),yn.waitFor(f).next(()=>this.Dn(e,a))}getAllMutationBatchesAffectingQuery(e,t){const a=t.path,f=a.length+1,_=I(this.userId,a),S=IDBKeyRange.lowerBound(_);let Y=new gs(Ui);return ed(e).X({range:S},(ce,Ee,Ye)=>{const[Mt,En,Vn]=ce,Dr=si(En);Mt===this.userId&&a.isPrefixOf(Dr)?Dr.length===f&&(Y=Y.add(Vn)):Ye.done()}).next(()=>this.Dn(e,Y))}Dn(e,t){const a=[],f=[];return t.forEach(_=>{f.push(Cu(e).get(_).next(S=>{if(null===S)throw _r();Hr(S.userId===this.userId),a.push(Qc(this.serializer,S))}))}),yn.waitFor(f).next(()=>a)}removeMutationBatch(e,t){return Rm(e.ht,this.userId,t).next(a=>(e.addOnCommittedListener(()=>{this.Cn(t.batchId)}),yn.forEach(a,f=>this.referenceDelegate.markPotentiallyOrphaned(e,f))))}Cn(e){delete this.Vn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return yn.resolve();const a=IDBKeyRange.lowerBound([this.userId]),f=[];return ed(e).X({range:a},(_,S,Y)=>{if(_[0]===this.userId){const ce=si(_[1]);f.push(ce)}else Y.done()}).next(()=>{Hr(0===f.length)})})}containsKey(e,t){return mg(e,this.userId,t)}xn(e){return rp(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function mg(i,e,t){const a=I(e,t.path),f=a[1],_=IDBKeyRange.lowerBound(a);let S=!1;return ed(i).X({range:_,Y:!0},(Y,ce,Ee)=>{const[Ye,Mt,En]=Y;Ye===e&&Mt===f&&(S=!0),Ee.done()}).next(()=>S)}function Cu(i){return Mr(i,"mutations")}function ed(i){return Mr(i,"documentMutations")}function rp(i){return Mr(i,"mutationQueues")}class Jc{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new Jc(0)}static Mn(){return new Jc(-1)}}class Om{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.$n(e).next(t=>{const a=new Jc(t.highestTargetId);return t.highestTargetId=a.next(),this.On(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.$n(e).next(t=>Ii.fromTimestamp(new yo(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.$n(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,a){return this.$n(e).next(f=>(f.highestListenSequenceNumber=t,a&&(f.lastRemoteSnapshotVersion=a.toTimestamp()),t>f.highestListenSequenceNumber&&(f.highestListenSequenceNumber=t),this.On(e,f)))}addTargetData(e,t){return this.Fn(e,t).next(()=>this.$n(e).next(a=>(a.targetCount+=1,this.Bn(t,a),this.On(e,a))))}updateTargetData(e,t){return this.Fn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>Du(e).delete(t.targetId)).next(()=>this.$n(e)).next(a=>(Hr(a.targetCount>0),a.targetCount-=1,this.On(e,a)))}removeTargets(e,t,a){let f=0;const _=[];return Du(e).X((S,Y)=>{const ce=Ah(Y);ce.sequenceNumber<=t&&null===a.get(ce.targetId)&&(f++,_.push(this.removeTargetData(e,ce)))}).next(()=>yn.waitFor(_)).next(()=>f)}forEachTarget(e,t){return Du(e).X((a,f)=>{const _=Ah(f);t(_)})}$n(e){return km(e).get("targetGlobalKey").next(t=>(Hr(null!==t),t))}On(e,t){return km(e).put("targetGlobalKey",t)}Fn(e,t){return Du(e).put(Cm(this.serializer,t))}Bn(e,t){let a=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,a=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,a=!0),a}getTargetCount(e){return this.$n(e).next(t=>t.targetCount)}getTargetData(e,t){const a=mc(t),f=IDBKeyRange.bound([a,Number.NEGATIVE_INFINITY],[a,Number.POSITIVE_INFINITY]);let _=null;return Du(e).X({range:f,index:"queryTargetsIndex"},(S,Y,ce)=>{const Ee=Ah(Y);vd(t,Ee.target)&&(_=Ee,ce.done())}).next(()=>_)}addMatchingKeys(e,t,a){const f=[],_=Pl(e);return t.forEach(S=>{const Y=Mn(S.path);f.push(_.put({targetId:a,path:Y})),f.push(this.referenceDelegate.addReference(e,a,S))}),yn.waitFor(f)}removeMatchingKeys(e,t,a){const f=Pl(e);return yn.forEach(t,_=>{const S=Mn(_.path);return yn.waitFor([f.delete([a,S]),this.referenceDelegate.removeReference(e,a,_)])})}removeMatchingKeysForTargetId(e,t){const a=Pl(e),f=IDBKeyRange.bound([t],[t+1],!1,!0);return a.delete(f)}getMatchingKeysForTargetId(e,t){const a=IDBKeyRange.bound([t],[t+1],!1,!0),f=Pl(e);let _=Is();return f.X({range:a,Y:!0},(S,Y,ce)=>{const Ee=si(S[1]),Ye=new yr(Ee);_=_.add(Ye)}).next(()=>_)}containsKey(e,t){const a=Mn(t.path),f=IDBKeyRange.bound([a],[Cc(a)],!1,!0);let _=0;return Pl(e).X({index:"documentTargetsIndex",Y:!0,range:f},([S,Y],ce,Ee)=>{0!==S&&(_++,Ee.done())}).next(()=>_>0)}le(e,t){return Du(e).get(t).next(a=>a?Ah(a):null)}}function Du(i){return Mr(i,"targets")}function km(i){return Mr(i,"targetGlobal")}function Pl(i){return Mr(i,"targetDocuments")}function ip([i,e],[t,a]){const f=Ui(i,t);return 0===f?Ui(e,a):f}class Ly{constructor(e){this.Ln=e,this.buffer=new gs(ip),this.qn=0}Un(){return++this.qn}Kn(e){const t=[e,this.Un()];if(this.buffer.size<this.Ln)this.buffer=this.buffer.add(t);else{const a=this.buffer.last();ip(t,a)<0&&(this.buffer=this.buffer.delete(a).add(t))}}get maxValue(){return this.buffer.last()[0]}}class Su{constructor(e,t,a){this.garbageCollector=e,this.asyncQueue=t,this.localStore=a,this.Gn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Qn(6e4)}stop(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}get started(){return null!==this.Gn}Qn(e){var t=this;$n("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,d.Z)(function*(){t.Gn=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(a){ea(a)?$n("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",a):yield Jo(a)}yield t.Qn(3e5)}))}}class By{constructor(e,t){this.jn=e,this.params=t}calculateTargetCount(e,t){return this.jn.zn(e).next(a=>Math.floor(t/100*a))}nthSequenceNumber(e,t){if(0===t)return yn.resolve(ge.ct);const a=new Ly(t);return this.jn.forEachTarget(e,f=>a.Kn(f.sequenceNumber)).next(()=>this.jn.Wn(e,f=>a.Kn(f))).next(()=>a.maxValue)}removeTargets(e,t,a){return this.jn.removeTargets(e,t,a)}removeOrphanedDocuments(e,t){return this.jn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?($n("LruGarbageCollector","Garbage collection skipped; disabled"),yn.resolve(jo)):this.getCacheSize(e).next(a=>a<this.params.cacheSizeCollectionThreshold?($n("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),jo):this.Hn(e,t))}getCacheSize(e){return this.jn.getCacheSize(e)}Hn(e,t){let a,f,_,S,Y,ce,Ee;const Ye=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(Mt=>(Mt>this.params.maximumSequenceNumbersToCollect?($n("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${Mt}`),f=this.params.maximumSequenceNumbersToCollect):f=Mt,S=Date.now(),this.nthSequenceNumber(e,f))).next(Mt=>(a=Mt,Y=Date.now(),this.removeTargets(e,a,t))).next(Mt=>(_=Mt,ce=Date.now(),this.removeOrphanedDocuments(e,a))).next(Mt=>(Ee=Date.now(),As()<=Fe.in.DEBUG&&$n("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${S-Ye}ms\n\tDetermined least recently used ${f} in `+(Y-S)+`ms\n\tRemoved ${_} targets in `+(ce-Y)+`ms\n\tRemoved ${Mt} documents in `+(Ee-ce)+`ms\nTotal Duration: ${Ee-Ye}ms`),yn.resolve({didRun:!0,sequenceNumbersCollected:f,targetsRemoved:_,documentsRemoved:Mt})))}}class Fd{constructor(e,t){this.db=e,this.garbageCollector=function sp(i,e){return new By(i,e)}(this,t)}zn(e){const t=this.Jn(e);return this.db.getTargetCache().getTargetCount(e).next(a=>t.next(f=>a+f))}Jn(e){let t=0;return this.Wn(e,a=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Wn(e,t){return this.Yn(e,(a,f)=>t(f))}addReference(e,t,a){return op(e,a)}removeReference(e,t,a){return op(e,a)}removeTargets(e,t,a){return this.db.getTargetCache().removeTargets(e,t,a)}markPotentiallyOrphaned(e,t){return op(e,t)}Xn(e,t){return function(a,f){let _=!1;return rp(a).Z(S=>mg(a,S,f).next(Y=>(Y&&(_=!0),yn.resolve(!Y)))).next(()=>_)}(e,t)}removeOrphanedDocuments(e,t){const a=this.db.getRemoteDocumentCache().newChangeBuffer(),f=[];let _=0;return this.Yn(e,(S,Y)=>{if(Y<=t){const ce=this.Xn(e,S).next(Ee=>{if(!Ee)return _++,a.getEntry(e,S).next(()=>(a.removeEntry(S,Ii.min()),Pl(e).delete([0,Mn(S.path)])))});f.push(ce)}}).next(()=>yn.waitFor(f)).next(()=>a.apply(e)).next(()=>_)}removeTarget(e,t){const a=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,a)}updateLimboDocument(e,t){return op(e,t)}Yn(e,t){const a=Pl(e);let f,_=ge.ct;return a.X({index:"documentTargetsIndex"},([S,Y],{path:ce,sequenceNumber:Ee})=>{0===S?(_!==ge.ct&&t(new yr(si(f)),_),_=Ee,f=ce):_=ge.ct}).next(()=>{_!==ge.ct&&t(new yr(si(f)),_)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function op(i,e){return Pl(i).put((a=i.currentSequenceNumber,{targetId:0,path:Mn(e.path),sequenceNumber:a}));var a}class ap{constructor(){this.changes=new bl(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,_o.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const a=this.changes.get(t);return void 0!==a?yn.resolve(a):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class yg{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,a){return Ld(e).put(a)}removeEntry(e,t,a){return Ld(e).delete(function(f,_){const S=f.path.toArray();return[S.slice(0,S.length-2),S[S.length-2],qf(_),S[S.length-1]]}(t,a))}updateMetadata(e,t){return this.getMetadata(e).next(a=>(a.byteSize+=t,this.Zn(e,a)))}getEntry(e,t){let a=_o.newInvalidDocument(t);return Ld(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(cp(t))},(f,_)=>{a=this.ts(t,_)}).next(()=>a)}es(e,t){let a={size:0,document:_o.newInvalidDocument(t)};return Ld(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(cp(t))},(f,_)=>{a={document:this.ts(t,_),size:Nh(_)}}).next(()=>a)}getEntries(e,t){let a=La();return this.ns(e,t,(f,_)=>{const S=this.ts(f,_);a=a.insert(f,S)}).next(()=>a)}ss(e,t){let a=La(),f=new Xr(yr.comparator);return this.ns(e,t,(_,S)=>{const Y=this.ts(_,S);a=a.insert(_,Y),f=f.insert(_,Nh(S))}).next(()=>({documents:a,rs:f}))}ns(e,t,a){if(t.isEmpty())return yn.resolve();let f=new gs(Bd);t.forEach(ce=>f=f.add(ce));const _=IDBKeyRange.bound(cp(f.first()),cp(f.last())),S=f.getIterator();let Y=S.getNext();return Ld(e).X({index:"documentKeyIndex",range:_},(ce,Ee,Ye)=>{const Mt=yr.fromSegments([...Ee.prefixPath,Ee.collectionGroup,Ee.documentId]);for(;Y&&Bd(Y,Mt)<0;)a(Y,null),Y=S.getNext();Y&&Y.isEqual(Mt)&&(a(Y,Ee),Y=S.hasNext()?S.getNext():null),Y?Ye.G(cp(Y)):Ye.done()}).next(()=>{for(;Y;)a(Y,null),Y=S.hasNext()?S.getNext():null})}getDocumentsMatchingQuery(e,t,a,f){const _=t.path,S=[_.popLast().toArray(),_.lastSegment(),qf(a.readTime),a.documentKey.path.isEmpty()?"":a.documentKey.path.lastSegment()],Y=[_.popLast().toArray(),_.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Ld(e).j(IDBKeyRange.bound(S,Y,!0)).next(ce=>{let Ee=La();for(const Ye of ce){const Mt=this.ts(yr.fromSegments(Ye.prefixPath.concat(Ye.collectionGroup,Ye.documentId)),Ye);Mt.isFoundDocument()&&(_s(t,Mt)||f.has(Mt.key))&&(Ee=Ee.insert(Mt.key,Mt))}return Ee})}getAllFromCollectionGroup(e,t,a,f){let _=La();const S=_g(t,a),Y=_g(t,Hi.max());return Ld(e).X({index:"collectionGroupIndex",range:IDBKeyRange.bound(S,Y,!0)},(ce,Ee,Ye)=>{const Mt=this.ts(yr.fromSegments(Ee.prefixPath.concat(Ee.collectionGroup,Ee.documentId)),Ee);_=_.insert(Mt.key,Mt),_.size===f&&Ye.done()}).next(()=>_)}newChangeBuffer(e){return new vg(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return lp(e).get("remoteDocumentGlobalKey").next(t=>(Hr(!!t),t))}Zn(e,t){return lp(e).put("remoteDocumentGlobalKey",t)}ts(e,t){if(t){const a=function Ny(i,e){let t;if(e.document)t=bm(i.fe,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const a=yr.fromSegments(e.noDocument.path),f=kd(e.noDocument.readTime);t=_o.newNoDocument(a,f),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return _r();{const a=yr.fromSegments(e.unknownDocument.path),f=kd(e.unknownDocument.version);t=_o.newUnknownDocument(a,f)}}return e.readTime&&t.setReadTime(function(a){const f=new yo(a[0],a[1]);return Ii.fromTimestamp(f)}(e.readTime)),t}(this.serializer,t);if(!a.isNoDocument()||!a.version.isEqual(Ii.min()))return a}return _o.newInvalidDocument(e)}}function kc(i){return new yg(i)}class vg extends ap{constructor(e,t){super(),this.os=e,this.trackRemovals=t,this.us=new bl(a=>a.toString(),(a,f)=>a.isEqual(f))}applyChanges(e){const t=[];let a=0,f=new gs((_,S)=>Ui(_.canonicalString(),S.canonicalString()));return this.changes.forEach((_,S)=>{const Y=this.us.get(_);if(t.push(this.os.removeEntry(e,_,Y.readTime)),S.isValidDocument()){const ce=Im(this.os.serializer,S);f=f.add(_.path.popLast());const Ee=Nh(ce);a+=Ee-Y.size,t.push(this.os.addEntry(e,_,ce))}else if(a-=Y.size,this.trackRemovals){const ce=Im(this.os.serializer,S.convertToNoDocument(Ii.min()));t.push(this.os.addEntry(e,_,ce))}}),f.forEach(_=>{t.push(this.os.indexManager.addToCollectionParentIndex(e,_))}),t.push(this.os.updateMetadata(e,a)),yn.waitFor(t)}getFromCache(e,t){return this.os.es(e,t).next(a=>(this.us.set(t,{size:a.size,readTime:a.document.readTime}),a.document))}getAllFromCache(e,t){return this.os.ss(e,t).next(({documents:a,rs:f})=>(f.forEach((_,S)=>{this.us.set(_,{size:S,readTime:a.get(_).readTime})}),a))}}function lp(i){return Mr(i,"remoteDocumentGlobal")}function Ld(i){return Mr(i,"remoteDocumentsV14")}function cp(i){const e=i.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function _g(i,e){const t=e.documentKey.path.toArray();return[i,qf(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function Bd(i,e){const t=i.path.toArray(),a=e.path.toArray();let f=0;for(let _=0;_<t.length-2&&_<a.length-2;++_)if(f=Ui(t[_],a[_]),f)return f;return f=Ui(t.length,a.length),f||(f=Ui(t[t.length-2],a[a.length-2]),f||Ui(t[t.length-1],a[a.length-1]))}class $y{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class Nm{constructor(e,t,a,f){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=a,this.indexManager=f}getDocument(e,t){let a=null;return this.documentOverlayCache.getOverlay(e,t).next(f=>(a=f,this.remoteDocumentCache.getEntry(e,t))).next(f=>(null!==a&&wd(a.mutation,f,Gs.empty(),yo.now()),f))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(a=>this.getLocalViewOfDocuments(e,a,Is()).next(()=>a))}getLocalViewOfDocuments(e,t,a=Is()){const f=Hl();return this.populateOverlays(e,f,t).next(()=>this.computeViews(e,t,f,a).next(_=>{let S=nc();return _.forEach((Y,ce)=>{S=S.insert(Y,ce.overlayedDocument)}),S}))}getOverlayedDocuments(e,t){const a=Hl();return this.populateOverlays(e,a,t).next(()=>this.computeViews(e,t,a,Is()))}populateOverlays(e,t,a){const f=[];return a.forEach(_=>{t.has(_)||f.push(_)}),this.documentOverlayCache.getOverlays(e,f).next(_=>{_.forEach((S,Y)=>{t.set(S,Y)})})}computeViews(e,t,a,f){let _=La();const S=Ac(),Y=Ac();return t.forEach((ce,Ee)=>{const Ye=a.get(Ee.key);f.has(Ee.key)&&(void 0===Ye||Ye.mutation instanceof yc)?_=_.insert(Ee.key,Ee):void 0!==Ye?(S.set(Ee.key,Ye.mutation.getFieldMask()),wd(Ye.mutation,Ee,Ye.mutation.getFieldMask(),yo.now())):S.set(Ee.key,Gs.empty())}),this.recalculateAndSaveOverlays(e,_).next(ce=>(ce.forEach((Ee,Ye)=>S.set(Ee,Ye)),t.forEach((Ee,Ye)=>{var Mt;return Y.set(Ee,new $y(Ye,null!==(Mt=S.get(Ee))&&void 0!==Mt?Mt:null))}),Y))}recalculateAndSaveOverlays(e,t){const a=Ac();let f=new Xr((S,Y)=>S-Y),_=Is();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(S=>{for(const Y of S)Y.keys().forEach(ce=>{const Ee=t.get(ce);if(null===Ee)return;let Ye=a.get(ce)||Gs.empty();Ye=Y.applyToLocalView(Ee,Ye),a.set(ce,Ye);const Mt=(f.get(Y.batchId)||Is()).add(ce);f=f.insert(Y.batchId,Mt)})}).next(()=>{const S=[],Y=f.getReverseIterator();for(;Y.hasNext();){const ce=Y.getNext(),Ee=ce.key,Ye=ce.value,Mt=bd();Ye.forEach(En=>{if(!_.has(En)){const Vn=Ed(t.get(En),a.get(En));null!==Vn&&Mt.set(En,Vn),_=_.add(En)}}),S.push(this.documentOverlayCache.saveOverlays(e,Ee,Mt))}return yn.waitFor(S)}).next(()=>a)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(a=>this.recalculateAndSaveOverlays(e,a))}getDocumentsMatchingQuery(e,t,a){return yr.isDocumentKey((f=t).path)&&null===f.collectionGroup&&0===f.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):K(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,a):this.getDocumentsMatchingCollectionQuery(e,t,a);var f}getNextDocuments(e,t,a,f){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,a,f).next(_=>{const S=f-_.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,a.largestBatchId,f-_.size):yn.resolve(Hl());let Y=-1,ce=_;return S.next(Ee=>yn.forEach(Ee,(Ye,Mt)=>(Y<Mt.largestBatchId&&(Y=Mt.largestBatchId),_.get(Ye)?yn.resolve():this.remoteDocumentCache.getEntry(e,Ye).next(En=>{ce=ce.insert(Ye,En)}))).next(()=>this.populateOverlays(e,Ee,_)).next(()=>this.computeViews(e,ce,Ee,Is())).next(Ye=>({batchId:Y,changes:cl(Ye)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new yr(t)).next(a=>{let f=nc();return a.isFoundDocument()&&(f=f.insert(a.key,a)),f})}getDocumentsMatchingCollectionGroupQuery(e,t,a){const f=t.collectionGroup;let _=nc();return this.indexManager.getCollectionParents(e,f).next(S=>yn.forEach(S,Y=>{const ce=(Ee=t,Ye=Y.child(f),new zl(Ye,null,Ee.explicitOrderBy.slice(),Ee.filters.slice(),Ee.limit,Ee.limitType,Ee.startAt,Ee.endAt));var Ee,Ye;return this.getDocumentsMatchingCollectionQuery(e,ce,a).next(Ee=>{Ee.forEach((Ye,Mt)=>{_=_.insert(Ye,Mt)})})}).next(()=>_))}getDocumentsMatchingCollectionQuery(e,t,a){let f;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,a.largestBatchId).next(_=>(f=_,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,a,f))).next(_=>{f.forEach((Y,ce)=>{const Ee=ce.getKey();null===_.get(Ee)&&(_=_.insert(Ee,_o.newInvalidDocument(Ee)))});let S=nc();return _.forEach((Y,ce)=>{const Ee=f.get(Y);void 0!==Ee&&wd(Ee.mutation,ce,Gs.empty(),yo.now()),_s(t,ce)&&(S=S.insert(Y,ce))}),S})}}class Vy{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,t){return yn.resolve(this.cs.get(t))}saveBundleMetadata(e,t){var a;return this.cs.set(t.id,{id:(a=t).id,version:a.version,createTime:xa(a.createTime)}),yn.resolve()}getNamedQuery(e,t){return yn.resolve(this.hs.get(t))}saveNamedQuery(e,t){return this.hs.set(t.name,{name:(a=t).name,query:Zf(a.bundledQuery),readTime:xa(a.readTime)}),yn.resolve();var a}}class bg{constructor(){this.overlays=new Xr(yr.comparator),this.ls=new Map}getOverlay(e,t){return yn.resolve(this.overlays.get(t))}getOverlays(e,t){const a=Hl();return yn.forEach(t,f=>this.getOverlay(e,f).next(_=>{null!==_&&a.set(f,_)})).next(()=>a)}saveOverlays(e,t,a){return a.forEach((f,_)=>{this.we(e,t,_)}),yn.resolve()}removeOverlaysForBatchId(e,t,a){const f=this.ls.get(a);return void 0!==f&&(f.forEach(_=>this.overlays=this.overlays.remove(_)),this.ls.delete(a)),yn.resolve()}getOverlaysForCollection(e,t,a){const f=Hl(),_=t.length+1,S=new yr(t.child("")),Y=this.overlays.getIteratorFrom(S);for(;Y.hasNext();){const ce=Y.getNext().value,Ee=ce.getKey();if(!t.isPrefixOf(Ee.path))break;Ee.path.length===_&&ce.largestBatchId>a&&f.set(ce.getKey(),ce)}return yn.resolve(f)}getOverlaysForCollectionGroup(e,t,a,f){let _=new Xr((Ee,Ye)=>Ee-Ye);const S=this.overlays.getIterator();for(;S.hasNext();){const Ee=S.getNext().value;if(Ee.getKey().getCollectionGroup()===t&&Ee.largestBatchId>a){let Ye=_.get(Ee.largestBatchId);null===Ye&&(Ye=Hl(),_=_.insert(Ee.largestBatchId,Ye)),Ye.set(Ee.getKey(),Ee)}}const Y=Hl(),ce=_.getIterator();for(;ce.hasNext()&&(ce.getNext().value.forEach((Ee,Ye)=>Y.set(Ee,Ye)),!(Y.size()>=f)););return yn.resolve(Y)}we(e,t,a){const f=this.overlays.get(a.key);if(null!==f){const S=this.ls.get(f.largestBatchId).delete(a.key);this.ls.set(f.largestBatchId,S)}this.overlays=this.overlays.insert(a.key,new Qp(t,a));let _=this.ls.get(t);void 0===_&&(_=Is(),this.ls.set(t,_)),this.ls.set(t,_.add(a.key))}}class up{constructor(){this.fs=new gs(Ya.ds),this.ws=new gs(Ya._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,t){const a=new Ya(e,t);this.fs=this.fs.add(a),this.ws=this.ws.add(a)}gs(e,t){e.forEach(a=>this.addReference(a,t))}removeReference(e,t){this.ys(new Ya(e,t))}ps(e,t){e.forEach(a=>this.removeReference(a,t))}Is(e){const t=new yr(new os([])),a=new Ya(t,e),f=new Ya(t,e+1),_=[];return this.ws.forEachInRange([a,f],S=>{this.ys(S),_.push(S.key)}),_}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const t=new yr(new os([])),a=new Ya(t,e),f=new Ya(t,e+1);let _=Is();return this.ws.forEachInRange([a,f],S=>{_=_.add(S.key)}),_}containsKey(e){const t=new Ya(e,0),a=this.fs.firstAfterOrEqual(t);return null!==a&&e.isEqual(a.key)}}class Ya{constructor(e,t){this.key=e,this.As=t}static ds(e,t){return yr.comparator(e.key,t.key)||Ui(e.As,t.As)}static _s(e,t){return Ui(e.As,t.As)||yr.comparator(e.key,t.key)}}class Fm{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.vs=1,this.Rs=new gs(Ya.ds)}checkEmpty(e){return yn.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,a,f){const _=this.vs;this.vs++;const S=new Bf(_,t,a,f);this.mutationQueue.push(S);for(const Y of f)this.Rs=this.Rs.add(new Ya(Y.key,_)),this.indexManager.addToCollectionParentIndex(e,Y.key.path.popLast());return yn.resolve(S)}lookupMutationBatch(e,t){return yn.resolve(this.Ps(t))}getNextMutationBatchAfterBatchId(e,t){const f=this.bs(t+1),_=f<0?0:f;return yn.resolve(this.mutationQueue.length>_?this.mutationQueue[_]:null)}getHighestUnacknowledgedBatchId(){return yn.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return yn.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const a=new Ya(t,0),f=new Ya(t,Number.POSITIVE_INFINITY),_=[];return this.Rs.forEachInRange([a,f],S=>{const Y=this.Ps(S.As);_.push(Y)}),yn.resolve(_)}getAllMutationBatchesAffectingDocumentKeys(e,t){let a=new gs(Ui);return t.forEach(f=>{const _=new Ya(f,0),S=new Ya(f,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([_,S],Y=>{a=a.add(Y.As)})}),yn.resolve(this.Vs(a))}getAllMutationBatchesAffectingQuery(e,t){const a=t.path,f=a.length+1;let _=a;yr.isDocumentKey(_)||(_=_.child(""));const S=new Ya(new yr(_),0);let Y=new gs(Ui);return this.Rs.forEachWhile(ce=>{const Ee=ce.key.path;return!!a.isPrefixOf(Ee)&&(Ee.length===f&&(Y=Y.add(ce.As)),!0)},S),yn.resolve(this.Vs(Y))}Vs(e){const t=[];return e.forEach(a=>{const f=this.Ps(a);null!==f&&t.push(f)}),t}removeMutationBatch(e,t){Hr(0===this.Ss(t.batchId,"removed")),this.mutationQueue.shift();let a=this.Rs;return yn.forEach(t.mutations,f=>{const _=new Ya(f.key,t.batchId);return a=a.delete(_),this.referenceDelegate.markPotentiallyOrphaned(e,f.key)}).next(()=>{this.Rs=a})}Cn(e){}containsKey(e,t){const a=new Ya(t,0),f=this.Rs.firstAfterOrEqual(a);return yn.resolve(t.isEqual(f&&f.key))}performConsistencyCheck(e){return yn.resolve()}Ss(e,t){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const t=this.bs(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class Lm{constructor(e){this.Ds=e,this.docs=new Xr(yr.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const a=t.key,f=this.docs.get(a),_=f?f.size:0,S=this.Ds(t);return this.docs=this.docs.insert(a,{document:t.mutableCopy(),size:S}),this.size+=S-_,this.indexManager.addToCollectionParentIndex(e,a.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const a=this.docs.get(t);return yn.resolve(a?a.document.mutableCopy():_o.newInvalidDocument(t))}getEntries(e,t){let a=La();return t.forEach(f=>{const _=this.docs.get(f);a=a.insert(f,_?_.document.mutableCopy():_o.newInvalidDocument(f))}),yn.resolve(a)}getDocumentsMatchingQuery(e,t,a,f){let _=La();const S=t.path,Y=new yr(S.child("")),ce=this.docs.getIteratorFrom(Y);for(;ce.hasNext();){const{key:Ee,value:{document:Ye}}=ce.getNext();if(!S.isPrefixOf(Ee.path))break;Ee.path.length>S.length+1||es(Bi(Ye),a)<=0||(f.has(Ye.key)||_s(t,Ye))&&(_=_.insert(Ye.key,Ye.mutableCopy()))}return yn.resolve(_)}getAllFromCollectionGroup(e,t,a,f){_r()}Cs(e,t){return yn.forEach(this.docs,a=>t(a))}newChangeBuffer(e){return new Av(this)}getSize(e){return yn.resolve(this.size)}}class Av extends ap{constructor(e){super(),this.os=e}applyChanges(e){const t=[];return this.changes.forEach((a,f)=>{f.isValidDocument()?t.push(this.os.addEntry(e,f)):this.os.removeEntry(a)}),yn.waitFor(t)}getFromCache(e,t){return this.os.getEntry(e,t)}getAllFromCache(e,t){return this.os.getEntries(e,t)}}class Uy{constructor(e){this.persistence=e,this.xs=new bl(t=>mc(t),vd),this.lastRemoteSnapshotVersion=Ii.min(),this.highestTargetId=0,this.Ns=0,this.ks=new up,this.targetCount=0,this.Ms=Jc.kn()}forEachTarget(e,t){return this.xs.forEach((a,f)=>t(f)),yn.resolve()}getLastRemoteSnapshotVersion(e){return yn.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return yn.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),yn.resolve(this.highestTargetId)}setTargetsMetadata(e,t,a){return a&&(this.lastRemoteSnapshotVersion=a),t>this.Ns&&(this.Ns=t),yn.resolve()}Fn(e){this.xs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ms=new Jc(t),this.highestTargetId=t),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,t){return this.Fn(t),this.targetCount+=1,yn.resolve()}updateTargetData(e,t){return this.Fn(t),yn.resolve()}removeTargetData(e,t){return this.xs.delete(t.target),this.ks.Is(t.targetId),this.targetCount-=1,yn.resolve()}removeTargets(e,t,a){let f=0;const _=[];return this.xs.forEach((S,Y)=>{Y.sequenceNumber<=t&&null===a.get(Y.targetId)&&(this.xs.delete(S),_.push(this.removeMatchingKeysForTargetId(e,Y.targetId)),f++)}),yn.waitFor(_).next(()=>f)}getTargetCount(e){return yn.resolve(this.targetCount)}getTargetData(e,t){const a=this.xs.get(t)||null;return yn.resolve(a)}addMatchingKeys(e,t,a){return this.ks.gs(t,a),yn.resolve()}removeMatchingKeys(e,t,a){this.ks.ps(t,a);const f=this.persistence.referenceDelegate,_=[];return f&&t.forEach(S=>{_.push(f.markPotentiallyOrphaned(e,S))}),yn.waitFor(_)}removeMatchingKeysForTargetId(e,t){return this.ks.Is(t),yn.resolve()}getMatchingKeysForTargetId(e,t){const a=this.ks.Es(t);return yn.resolve(a)}containsKey(e,t){return yn.resolve(this.ks.containsKey(t))}}class dp{constructor(e,t){this.$s={},this.overlays={},this.Os=new ge(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new Uy(this),this.indexManager=new xm,this.remoteDocumentCache=new Lm(a=>this.referenceDelegate.Ls(a)),this.serializer=new cg(t),this.qs=new Vy(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new bg,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let a=this.$s[e.toKey()];return a||(a=new Fm(t,this.referenceDelegate),this.$s[e.toKey()]=a),a}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,t,a){$n("MemoryPersistence","Starting transaction:",e);const f=new hp(this.Os.next());return this.referenceDelegate.Us(),a(f).next(_=>this.referenceDelegate.Ks(f).next(()=>_)).toPromise().then(_=>(f.raiseOnCommittedEvent(),_))}Gs(e,t){return yn.or(Object.values(this.$s).map(a=>()=>a.containsKey(e,t)))}}class hp extends Gi{constructor(e){super(),this.currentSequenceNumber=e}}class Eg{constructor(e){this.persistence=e,this.Qs=new up,this.js=null}static zs(e){return new Eg(e)}get Ws(){if(this.js)return this.js;throw _r()}addReference(e,t,a){return this.Qs.addReference(a,t),this.Ws.delete(a.toString()),yn.resolve()}removeReference(e,t,a){return this.Qs.removeReference(a,t),this.Ws.add(a.toString()),yn.resolve()}markPotentiallyOrphaned(e,t){return this.Ws.add(t.toString()),yn.resolve()}removeTarget(e,t){this.Qs.Is(t.targetId).forEach(f=>this.Ws.add(f.toString()));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(e,t.targetId).next(f=>{f.forEach(_=>this.Ws.add(_.toString()))}).next(()=>a.removeTargetData(e,t))}Us(){this.js=new Set}Ks(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return yn.forEach(this.Ws,a=>{const f=yr.fromPath(a);return this.Hs(e,f).next(_=>{_||t.removeEntry(f,Ii.min())})}).next(()=>(this.js=null,t.apply(e)))}updateLimboDocument(e,t){return this.Hs(e,t).next(a=>{a?this.Ws.delete(t.toString()):this.Ws.add(t.toString())})}Ls(e){return 0}Hs(e,t){return yn.or([()=>yn.resolve(this.Qs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Gs(e,t)])}}class jy{constructor(e){this.serializer=e}O(e,t,a,f){const _=new Pa("createOrUpgrade",t);var Y;a<1&&f>=1&&(e.createObjectStore("owner"),(Y=e).createObjectStore("mutationQueues",{keyPath:"userId"}),Y.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",vo,{unique:!0}),Y.createObjectStore("documentMutations"),zy(e),function(Y){Y.createObjectStore("remoteDocuments")}(e));let S=yn.resolve();return a<3&&f>=3&&(0!==a&&(function(Y){Y.deleteObjectStore("targetDocuments"),Y.deleteObjectStore("targets"),Y.deleteObjectStore("targetGlobal")}(e),zy(e)),S=S.next(()=>function(Y){const ce=Y.store("targetGlobal"),Ee={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Ii.min().toTimestamp(),targetCount:0};return ce.put("targetGlobalKey",Ee)}(_))),a<4&&f>=4&&(0!==a&&(S=S.next(()=>function(Y,ce){return ce.store("mutations").j().next(Ee=>{Y.deleteObjectStore("mutations"),Y.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",vo,{unique:!0});const Ye=ce.store("mutations"),Mt=Ee.map(En=>Ye.put(En));return yn.waitFor(Mt)})}(e,_))),S=S.next(()=>{!function(Y){Y.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),a<5&&f>=5&&(S=S.next(()=>this.Ys(_))),a<6&&f>=6&&(S=S.next(()=>(function(Y){Y.createObjectStore("remoteDocumentGlobal")}(e),this.Xs(_)))),a<7&&f>=7&&(S=S.next(()=>this.Zs(_))),a<8&&f>=8&&(S=S.next(()=>this.ti(e,_))),a<9&&f>=9&&(S=S.next(()=>{!function(Y){Y.objectStoreNames.contains("remoteDocumentChanges")&&Y.deleteObjectStore("remoteDocumentChanges")}(e)})),a<10&&f>=10&&(S=S.next(()=>this.ei(_))),a<11&&f>=11&&(S=S.next(()=>{(function(Y){Y.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(Y){Y.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),a<12&&f>=12&&(S=S.next(()=>{!function(Y){const ce=Y.createObjectStore("documentOverlays",{keyPath:qt});ce.createIndex("collectionPathOverlayIndex",dn,{unique:!1}),ce.createIndex("collectionGroupOverlayIndex",Cn,{unique:!1})}(e)})),a<13&&f>=13&&(S=S.next(()=>function(Y){const ce=Y.createObjectStore("remoteDocumentsV14",{keyPath:m});ce.createIndex("documentKeyIndex",b),ce.createIndex("collectionGroupIndex",T)}(e)).next(()=>this.ni(e,_)).next(()=>e.deleteObjectStore("remoteDocuments"))),a<14&&f>=14&&(S=S.next(()=>this.si(e,_))),a<15&&f>=15&&(S=S.next(()=>function(Y){Y.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),Y.createObjectStore("indexState",{keyPath:Ce}).createIndex("sequenceNumberIndex",Ue,{unique:!1}),Y.createObjectStore("indexEntries",{keyPath:pt}).createIndex("documentKeyIndex",Et,{unique:!1})}(e))),S}Xs(e){let t=0;return e.store("remoteDocuments").X((a,f)=>{t+=Nh(f)}).next(()=>{const a={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",a)})}Ys(e){const t=e.store("mutationQueues"),a=e.store("mutations");return t.j().next(f=>yn.forEach(f,_=>{const S=IDBKeyRange.bound([_.userId,-1],[_.userId,_.lastAcknowledgedBatchId]);return a.j("userMutationsIndex",S).next(Y=>yn.forEach(Y,ce=>{Hr(ce.userId===_.userId);const Ee=Qc(this.serializer,ce);return Rm(e,_.userId,Ee).next(()=>{})}))}))}Zs(e){const t=e.store("targetDocuments"),a=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(f=>{const _=[];return a.X((S,Y)=>{const ce=new os(S),Ee=[0,Mn(ce)];_.push(t.get(Ee).next(Ye=>Ye?yn.resolve():t.put({targetId:0,path:Mn(ce),sequenceNumber:f.highestListenSequenceNumber})))}).next(()=>yn.waitFor(_))})}ti(e,t){e.createObjectStore("collectionParents",{keyPath:ne});const a=t.store("collectionParents"),f=new Mm,_=S=>{if(f.add(S)){const Y=S.lastSegment(),ce=S.popLast();return a.put({collectionId:Y,parent:Mn(ce)})}};return t.store("remoteDocuments").X({Y:!0},(S,Y)=>{const ce=new os(S);return _(ce.popLast())}).next(()=>t.store("documentMutations").X({Y:!0},([S,Y,ce],Ee)=>{const Ye=si(Y);return _(Ye.popLast())}))}ei(e){const t=e.store("targets");return t.X((a,f)=>{const _=Ah(f),S=Cm(this.serializer,_);return t.put(S)})}ni(e,t){const a=t.store("remoteDocuments"),f=[];return a.X((_,S)=>{const Y=t.store("remoteDocumentsV14"),ce=(Ee=S,Ee.document?new yr(os.fromString(Ee.document.name).popFirst(5)):Ee.noDocument?yr.fromSegments(Ee.noDocument.path):Ee.unknownDocument?yr.fromSegments(Ee.unknownDocument.path):_r()).path.toArray();var Ee;const Ye={prefixPath:ce.slice(0,ce.length-2),collectionGroup:ce[ce.length-2],documentId:ce[ce.length-1],readTime:S.readTime||[0,0],unknownDocument:S.unknownDocument,noDocument:S.noDocument,document:S.document,hasCommittedMutations:!!S.hasCommittedMutations};f.push(Y.put(Ye))}).next(()=>yn.waitFor(f))}si(e,t){const a=t.store("mutations"),f=kc(this.serializer),_=new dp(Eg.zs,this.serializer.fe);return a.j().next(S=>{const Y=new Map;return S.forEach(ce=>{var Ee;let Ye=null!==(Ee=Y.get(ce.userId))&&void 0!==Ee?Ee:Is();Qc(this.serializer,ce).keys().forEach(Mt=>Ye=Ye.add(Mt)),Y.set(ce.userId,Ye)}),yn.forEach(Y,(ce,Ee)=>{const Ye=new wi(Ee),Mt=Ph.de(this.serializer,Ye),En=_.getIndexManager(Ye),Vn=Fh.de(Ye,this.serializer,En,_.referenceDelegate);return new Nm(f,Vn,Mt,En).recalculateAndSaveOverlaysForDocumentKeys(new or(t,ge.ct),ce).next()})})}}function zy(i){i.createObjectStore("targetDocuments",{keyPath:B}).createIndex("documentTargetsIndex",W,{unique:!0}),i.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",x,{unique:!0}),i.createObjectStore("targetGlobal")}const $d="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class wg{constructor(e,t,a,f,_,S,Y,ce,Ee,Ye,Mt=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=a,this.ii=_,this.window=S,this.document=Y,this.ri=Ee,this.oi=Ye,this.ui=Mt,this.Os=null,this.Fs=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.ai=null,this.hi=null,this.li=Number.NEGATIVE_INFINITY,this.fi=En=>Promise.resolve(),!wg.D())throw new qn(Dn.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Fd(this,f),this.di=t+"main",this.serializer=new cg(ce),this.wi=new ha(this.di,this.ui,new jy(this.serializer)),this.Bs=new Om(this.referenceDelegate,this.serializer),this.remoteDocumentCache=kc(this.serializer),this.qs=new Mh,this.window&&this.window.localStorage?this._i=this.window.localStorage:(this._i=null,!1===Ye&&Fi("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.mi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new qn(Dn.FAILED_PRECONDITION,$d);return this.gi(),this.yi(),this.pi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Bs.getHighestSequenceNumber(e))}).then(e=>{this.Os=new ge(e,this.ri)}).then(()=>{this.Fs=!0}).catch(e=>(this.wi&&this.wi.close(),Promise.reject(e)))}Ii(e){var t=this;return this.fi=function(){var a=(0,d.Z)(function*(f){if(t.started)return e(f)});return function(f){return a.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.wi.B(function(){var t=(0,d.Z)(function*(a){null===a.newVersion&&(yield e())});return function(a){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.ii.enqueueAndForget((0,d.Z)(function*(){t.started&&(yield t.mi())})))}mi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Vd(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Ti(e).next(t=>{t||(this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)))})}).next(()=>this.Ei(e)).next(t=>this.isPrimary&&!t?this.Ai(e).next(()=>!1):!!t&&this.vi(e).next(()=>!0))).catch(e=>{if(ea(e))return $n("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return $n("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.ii.enqueueRetryable(()=>this.fi(e)),this.isPrimary=e})}Ti(e){return eu(e).get("owner").next(t=>yn.resolve(this.Ri(t)))}Pi(e){return Vd(e).delete(this.clientId)}bi(){var e=this;return(0,d.Z)(function*(){if(e.isPrimary&&!e.Vi(e.li,18e5)){e.li=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",a=>{const f=Mr(a,"clientMetadata");return f.j().next(_=>{const S=e.Si(_,18e5),Y=_.filter(ce=>-1===S.indexOf(ce));return yn.forEach(Y,ce=>f.delete(ce.clientId)).next(()=>Y)})}).catch(()=>[]);if(e._i)for(const a of t)e._i.removeItem(e.Di(a.clientId))}})()}pi(){this.hi=this.ii.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.mi().then(()=>this.bi()).then(()=>this.pi()))}Ri(e){return!!e&&e.ownerId===this.clientId}Ei(e){return this.oi?yn.resolve(!0):eu(e).get("owner").next(t=>{if(null!==t&&this.Vi(t.leaseTimestampMs,5e3)&&!this.Ci(t.ownerId)){if(this.Ri(t)&&this.networkEnabled)return!0;if(!this.Ri(t)){if(!t.allowTabSynchronization)throw new qn(Dn.FAILED_PRECONDITION,$d);return!1}}return!(!this.networkEnabled||!this.inForeground)||Vd(e).j().next(a=>void 0===this.Si(a,5e3).find(f=>!(this.clientId===f.clientId||!(!this.networkEnabled&&f.networkEnabled||!this.inForeground&&f.inForeground&&this.networkEnabled===f.networkEnabled))))}).next(t=>(this.isPrimary!==t&&$n("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,d.Z)(function*(){e.Fs=!1,e.xi(),e.hi&&(e.hi.cancel(),e.hi=null),e.Ni(),e.ki(),yield e.wi.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const a=new or(t,ge.ct);return e.Ai(a).next(()=>e.Pi(a))}),e.wi.close(),e.Mi()})()}Si(e,t){return e.filter(a=>this.Vi(a.updateTimeMs,t)&&!this.Ci(a.clientId))}$i(){return this.runTransaction("getActiveClients","readonly",e=>Vd(e).j().next(t=>this.Si(t,18e5).map(a=>a.clientId)))}get started(){return this.Fs}getMutationQueue(e,t){return Fh.de(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new Tv(e,this.serializer.fe.databaseId)}getDocumentOverlayCache(e){return Ph.de(this.serializer,e)}getBundleCache(){return this.qs}runTransaction(e,t,a){$n("IndexedDbPersistence","Starting transaction:",e);const f="readonly"===t?"readonly":"readwrite",_=15===(S=this.ui)?Jn:14===S?vr:13===S?cr:12===S?Fn:11===S?Yn:void _r();var S;let Y;return this.wi.runTransaction(e,f,_,ce=>(Y=new or(ce,this.Os?this.Os.next():ge.ct),"readwrite-primary"===t?this.Ti(Y).next(Ee=>!!Ee||this.Ei(Y)).next(Ee=>{if(!Ee)throw Fi(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)),new qn(Dn.FAILED_PRECONDITION,is);return a(Y)}).next(Ee=>this.vi(Y).next(()=>Ee)):this.Oi(Y).next(()=>a(Y)))).then(ce=>(Y.raiseOnCommittedEvent(),ce))}Oi(e){return eu(e).get("owner").next(t=>{if(null!==t&&this.Vi(t.leaseTimestampMs,5e3)&&!this.Ci(t.ownerId)&&!this.Ri(t)&&!(this.oi||this.allowTabSynchronization&&t.allowTabSynchronization))throw new qn(Dn.FAILED_PRECONDITION,$d)})}vi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return eu(e).put("owner",t)}static D(){return ha.D()}Ai(e){const t=eu(e);return t.get("owner").next(a=>this.Ri(a)?($n("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):yn.resolve())}Vi(e,t){const a=Date.now();return!(e<a-t||e>a&&(Fi(`Detected an update time that is in the future: ${e} > ${a}`),1))}gi(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ai=()=>{this.ii.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.mi()))},this.document.addEventListener("visibilitychange",this.ai),this.inForeground="visible"===this.document.visibilityState)}Ni(){this.ai&&(this.document.removeEventListener("visibilitychange",this.ai),this.ai=null)}yi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ci=()=>{this.xi();const t=/(?:Version|Mobile)\/1[456]/;(0,Xe.G6)()&&(navigator.appVersion.match(t)||navigator.userAgent.match(t))&&this.ii.enterRestrictedMode(!0),this.ii.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ci))}ki(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}Ci(e){var t;try{const a=null!==(null===(t=this._i)||void 0===t?void 0:t.getItem(this.Di(e)));return $n("IndexedDbPersistence",`Client '${e}' ${a?"is":"is not"} zombied in LocalStorage`),a}catch(a){return Fi("IndexedDbPersistence","Failed to get zombied client id.",a),!1}}xi(){if(this._i)try{this._i.setItem(this.Di(this.clientId),String(Date.now()))}catch(e){Fi("Failed to set zombie client id.",e)}}Mi(){if(this._i)try{this._i.removeItem(this.Di(this.clientId))}catch{}}Di(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function eu(i){return Mr(i,"owner")}function Vd(i){return Mr(i,"clientMetadata")}function Au(i,e){let t=i.projectId;return i.isDefaultDatabase||(t+="."+i.database),"firestore/"+e+"/"+t+"/"}class Ud{constructor(e,t,a,f){this.targetId=e,this.fromCache=t,this.Fi=a,this.Bi=f}static Li(e,t){let a=Is(),f=Is();for(const _ of t.docChanges)switch(_.type){case 0:a=a.add(_.doc.key);break;case 1:f=f.add(_.doc.key)}return new Ud(e,t.fromCache,a,f)}}class Gl{constructor(){this.qi=!1}initialize(e,t){this.Ui=e,this.indexManager=t,this.qi=!0}getDocumentsMatchingQuery(e,t,a,f){return this.Ki(e,t).next(_=>_||this.Gi(e,t,f,a)).next(_=>_||this.Qi(e,t))}Ki(e,t){if(U(t))return yn.resolve(null);let a=We(t);return this.indexManager.getIndexType(e,a).next(f=>0===f?null:(null!==t.limit&&1===f&&(t=xn(t,null,"F"),a=We(t)),this.indexManager.getDocumentsMatchingTarget(e,a).next(_=>{const S=Is(..._);return this.Ui.getDocuments(e,S).next(Y=>this.indexManager.getMinOffset(e,a).next(ce=>{const Ee=this.ji(t,Y);return this.zi(t,Ee,S,ce.readTime)?this.Ki(e,xn(t,null,"F")):this.Wi(e,Ee,t,ce)}))})))}Gi(e,t,a,f){return U(t)||f.isEqual(Ii.min())?this.Qi(e,t):this.Ui.getDocuments(e,a).next(_=>{const S=this.ji(t,_);return this.zi(t,S,a,f)?this.Qi(e,t):(As()<=Fe.in.DEBUG&&$n("QueryEngine","Re-using previous result from %s to execute query: %s",f.toString(),Mi(t)),this.Wi(e,S,t,Ir(f,-1)))})}ji(e,t){let a=new gs(_l(e));return t.forEach((f,_)=>{_s(e,_)&&(a=a.add(_))}),a}zi(e,t,a,f){if(null===e.limit)return!1;if(a.size!==t.size)return!0;const _="F"===e.limitType?t.last():t.first();return!!_&&(_.hasPendingWrites||_.version.compareTo(f)>0)}Qi(e,t){return As()<=Fe.in.DEBUG&&$n("QueryEngine","Using full collection scan to execute query:",Mi(t)),this.Ui.getDocumentsMatchingQuery(e,t,Hi.min())}Wi(e,t,a,f){return this.Ui.getDocumentsMatchingQuery(e,a,f).next(_=>(t.forEach(S=>{_=_.insert(S.key,S)}),_))}}class Lh{constructor(e,t,a,f){this.persistence=e,this.Hi=t,this.serializer=f,this.Ji=new Xr(Ui),this.Yi=new bl(_=>mc(_),vd),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(a)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Nm(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ji))}}function Bh(i,e,t,a){return new Lh(i,e,t,a)}function $h(i,e){return Vh.apply(this,arguments)}function Vh(){return Vh=(0,d.Z)(function*(i,e){const t=Un(i);return yield t.persistence.runTransaction("Handle user change","readonly",a=>{let f;return t.mutationQueue.getAllMutationBatches(a).next(_=>(f=_,t.tr(e),t.mutationQueue.getAllMutationBatches(a))).next(_=>{const S=[],Y=[];let ce=Is();for(const Ee of f){S.push(Ee.batchId);for(const Ye of Ee.mutations)ce=ce.add(Ye.key)}for(const Ee of _){Y.push(Ee.batchId);for(const Ye of Ee.mutations)ce=ce.add(Ye.key)}return t.localDocuments.getDocuments(a,ce).next(Ee=>({er:Ee,removedBatchIds:S,addedBatchIds:Y}))})})}),Vh.apply(this,arguments)}function jh(i){const e=Un(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Bs.getLastRemoteSnapshotVersion(t))}function Ig(i,e,t){let a=Is(),f=Is();return t.forEach(_=>a=a.add(_)),e.getEntries(i,a).next(_=>{let S=La();return t.forEach((Y,ce)=>{const Ee=_.get(Y);ce.isFoundDocument()!==Ee.isFoundDocument()&&(f=f.add(Y)),ce.isNoDocument()&&ce.version.isEqual(Ii.min())?(e.removeEntry(Y,ce.readTime),S=S.insert(Y,ce)):!Ee.isValidDocument()||ce.version.compareTo(Ee.version)>0||0===ce.version.compareTo(Ee.version)&&Ee.hasPendingWrites?(e.addEntry(ce),S=S.insert(Y,ce)):$n("LocalStore","Ignoring outdated watch update for ",Y,". Current version:",Ee.version," Watch version:",ce.version)}),{nr:S,sr:f}})}function Bm(i,e){const t=Un(i);return t.persistence.runTransaction("Get next mutation batch","readonly",a=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(a,e)))}function jd(i,e){const t=Un(i);return t.persistence.runTransaction("Allocate target","readwrite",a=>{let f;return t.Bs.getTargetData(a,e).next(_=>_?(f=_,yn.resolve(f)):t.Bs.allocateTargetId(a).next(S=>(f=new Wl(e,S,"TargetPurposeListen",a.currentSequenceNumber),t.Bs.addTargetData(a,f).next(()=>f))))}).then(a=>{const f=t.Ji.get(a.targetId);return(null===f||a.snapshotVersion.compareTo(f.snapshotVersion)>0)&&(t.Ji=t.Ji.insert(a.targetId,a),t.Yi.set(e,a.targetId)),a})}function zh(i,e,t){return $m.apply(this,arguments)}function $m(){return $m=(0,d.Z)(function*(i,e,t){const a=Un(i),f=a.Ji.get(e),_=t?"readwrite":"readwrite-primary";try{t||(yield a.persistence.runTransaction("Release target",_,S=>a.persistence.referenceDelegate.removeTarget(S,f)))}catch(S){if(!ea(S))throw S;$n("LocalStore",`Failed to update sequence numbers for target ${e}: ${S}`)}a.Ji=a.Ji.remove(e),a.Yi.delete(f.target)}),$m.apply(this,arguments)}function fp(i,e,t){const a=Un(i);let f=Ii.min(),_=Is();return a.persistence.runTransaction("Execute query","readonly",S=>function(Y,ce,Ee){const Ye=Un(Y),Mt=Ye.Yi.get(Ee);return void 0!==Mt?yn.resolve(Ye.Ji.get(Mt)):Ye.Bs.getTargetData(ce,Ee)}(a,S,We(e)).next(Y=>{if(Y)return f=Y.lastLimboFreeSnapshotVersion,a.Bs.getMatchingKeysForTargetId(S,Y.targetId).next(ce=>{_=ce})}).next(()=>a.Hi.getDocumentsMatchingQuery(S,e,t?f:Ii.min(),t?_:Is())).next(Y=>(Cg(a,ll(e),Y),{documents:Y,ir:_})))}function pp(i,e){const t=Un(i),a=Un(t.Bs),f=t.Ji.get(e);return f?Promise.resolve(f.target):t.persistence.runTransaction("Get target data","readonly",_=>a.le(_,e).next(S=>S?S.target:null))}function zd(i,e){const t=Un(i),a=t.Xi.get(e)||Ii.min();return t.persistence.runTransaction("Get new document changes","readonly",f=>t.Zi.getAllFromCollectionGroup(f,e,Ir(a,-1),Number.MAX_SAFE_INTEGER)).then(f=>(Cg(t,e,f),f))}function Cg(i,e,t){let a=i.Xi.get(e)||Ii.min();t.forEach((f,_)=>{_.readTime.compareTo(a)>0&&(a=_.readTime)}),i.Xi.set(e,a)}function Um(){return Um=(0,d.Z)(function*(i,e,t,a){const f=Un(i);let _=Is(),S=La();for(const Ee of t){const Ye=e.rr(Ee.metadata.name);Ee.document&&(_=_.add(Ye));const Mt=e.ur(Ee);Mt.setReadTime(e.cr(Ee.metadata.readTime)),S=S.insert(Ye,Mt)}const Y=f.Zi.newChangeBuffer({trackRemovals:!0}),ce=yield jd(f,(Ee=a,We(Kc(os.fromString(`__bundle__/docs/${Ee}`)))));var Ee;return f.persistence.runTransaction("Apply bundle documents","readwrite",Ee=>Ig(Ee,Y,S).next(Ye=>(Y.apply(Ee),Ye)).next(Ye=>f.Bs.removeMatchingKeysForTargetId(Ee,ce.targetId).next(()=>f.Bs.addMatchingKeys(Ee,_,ce.targetId)).next(()=>f.localDocuments.getLocalViewOfDocuments(Ee,Ye.nr,Ye.sr)).next(()=>Ye.nr)))}),Um.apply(this,arguments)}function gp(i,e){return Hh.apply(this,arguments)}function Hh(){return Hh=(0,d.Z)(function*(i,e,t=Is()){const a=yield jd(i,We(Zf(e.bundledQuery))),f=Un(i);return f.persistence.runTransaction("Save named query","readwrite",_=>{const S=xa(e.readTime);if(a.snapshotVersion.compareTo(S)>=0)return f.qs.saveNamedQuery(_,e);const Y=a.withResumeToken(Mo.EMPTY_BYTE_STRING,S);return f.Ji=f.Ji.insert(Y.targetId,Y),f.Bs.updateTargetData(_,Y).next(()=>f.Bs.removeMatchingKeysForTargetId(_,a.targetId)).next(()=>f.Bs.addMatchingKeys(_,t,a.targetId)).next(()=>f.qs.saveNamedQuery(_,e))})}),Hh.apply(this,arguments)}function jm(i,e){return`firestore_clients_${i}_${e}`}function Dg(i,e,t){let a=`firestore_mutations_${i}_${t}`;return e.isAuthenticated()&&(a+=`_${e.uid}`),a}function Wh(i,e){return`firestore_targets_${i}_${e}`}class td{constructor(e,t,a,f){this.user=e,this.batchId=t,this.state=a,this.error=f}static ar(e,t,a){const f=JSON.parse(a);let _,S="object"==typeof f&&-1!==["pending","acknowledged","rejected"].indexOf(f.state)&&(void 0===f.error||"object"==typeof f.error);return S&&f.error&&(S="string"==typeof f.error.message&&"string"==typeof f.error.code,S&&(_=new qn(f.error.code,f.error.message))),S?new td(e,t,f.state,_):(Fi("SharedClientState",`Failed to parse mutation state for ID '${t}': ${a}`),null)}hr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Gh{constructor(e,t,a){this.targetId=e,this.state=t,this.error=a}static ar(e,t){const a=JSON.parse(t);let f,_="object"==typeof a&&-1!==["not-current","current","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return _&&a.error&&(_="string"==typeof a.error.message&&"string"==typeof a.error.code,_&&(f=new qn(a.error.code,a.error.message))),_?new Gh(e,a.state,f):(Fi("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}hr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Kh{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static ar(e,t){const a=JSON.parse(t);let f="object"==typeof a&&a.activeTargetIds instanceof Array,_=Ff();for(let S=0;f&&S<a.activeTargetIds.length;++S)f=Zt(a.activeTargetIds[S]),_=_.add(a.activeTargetIds[S]);return f?new Kh(e,_):(Fi("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class Sg{constructor(e,t){this.clientId=e,this.onlineState=t}static ar(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new Sg(t.clientId,t.onlineState):(Fi("SharedClientState",`Failed to parse online state: ${e}`),null)}}class mp{constructor(){this.activeTargetIds=Ff()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class zm{constructor(e,t,a,f,_){this.window=e,this.ii=t,this.persistenceKey=a,this.wr=f,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this._r=this.mr.bind(this),this.gr=new Xr(Ui),this.started=!1,this.yr=[];const S=a.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=_,this.pr=jm(this.persistenceKey,this.wr),this.Ir=`firestore_sequence_number_${this.persistenceKey}`,this.gr=this.gr.insert(this.wr,new mp),this.Tr=new RegExp(`^firestore_clients_${S}_([^_]*)$`),this.Er=new RegExp(`^firestore_mutations_${S}_(\\d+)(?:_(.*))?$`),this.Ar=new RegExp(`^firestore_targets_${S}_(\\d+)$`),this.vr=`firestore_online_state_${this.persistenceKey}`,this.Rr=function(Y){return`firestore_bundle_loaded_v2_${Y}`}(this.persistenceKey),this.window.addEventListener("storage",this._r)}static D(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,d.Z)(function*(){const t=yield e.syncEngine.$i();for(const f of t){if(f===e.wr)continue;const _=e.getItem(jm(e.persistenceKey,f));if(_){const S=Kh.ar(f,_);S&&(e.gr=e.gr.insert(S.clientId,S))}}e.Pr();const a=e.storage.getItem(e.vr);if(a){const f=e.br(a);f&&e.Vr(f)}for(const f of e.yr)e.mr(f);e.yr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.Ir,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Sr(this.gr)}isActiveQueryTarget(e){let t=!1;return this.gr.forEach((a,f)=>{f.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Dr(e,"pending")}updateMutationState(e,t,a){this.Dr(e,t,a),this.Cr(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const a=this.storage.getItem(Wh(this.persistenceKey,e));if(a){const f=Gh.ar(e,a);f&&(t=f.state)}}return this.Nr.lr(e),this.Pr(),t}removeLocalQueryTarget(e){this.Nr.dr(e),this.Pr()}isLocalQueryTarget(e){return this.Nr.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(Wh(this.persistenceKey,e))}updateQueryState(e,t,a){this.kr(e,t,a)}handleUserChange(e,t,a){t.forEach(f=>{this.Cr(f)}),this.currentUser=e,a.forEach(f=>{this.addPendingMutation(f)})}setOnlineState(e){this.Mr(e)}notifyBundleLoaded(e){this.$r(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this._r),this.removeItem(this.pr),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return $n("SharedClientState","READ",e,t),t}setItem(e,t){$n("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){$n("SharedClientState","REMOVE",e),this.storage.removeItem(e)}mr(e){var t=this;const a=e;if(a.storageArea===this.storage){if($n("SharedClientState","EVENT",a.key,a.newValue),a.key===this.pr)return void Fi("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.ii.enqueueRetryable((0,d.Z)(function*(){if(t.started){if(null!==a.key)if(t.Tr.test(a.key)){if(null==a.newValue){const f=t.Or(a.key);return t.Fr(f,null)}{const f=t.Br(a.key,a.newValue);if(f)return t.Fr(f.clientId,f)}}else if(t.Er.test(a.key)){if(null!==a.newValue){const f=t.Lr(a.key,a.newValue);if(f)return t.qr(f)}}else if(t.Ar.test(a.key)){if(null!==a.newValue){const f=t.Ur(a.key,a.newValue);if(f)return t.Kr(f)}}else if(a.key===t.vr){if(null!==a.newValue){const f=t.br(a.newValue);if(f)return t.Vr(f)}}else if(a.key===t.Ir){const f=function(_){let S=ge.ct;if(null!=_)try{const Y=JSON.parse(_);Hr("number"==typeof Y),S=Y}catch(Y){Fi("SharedClientState","Failed to read sequence number from WebStorage",Y)}return S}(a.newValue);f!==ge.ct&&t.sequenceNumberHandler(f)}else if(a.key===t.Rr){const f=t.Gr(a.newValue);yield Promise.all(f.map(_=>t.syncEngine.Qr(_)))}}else t.yr.push(a)}))}}get Nr(){return this.gr.get(this.wr)}Pr(){this.setItem(this.pr,this.Nr.hr())}Dr(e,t,a){const f=new td(this.currentUser,e,t,a),_=Dg(this.persistenceKey,this.currentUser,e);this.setItem(_,f.hr())}Cr(e){const t=Dg(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Mr(e){this.storage.setItem(this.vr,JSON.stringify({clientId:this.wr,onlineState:e}))}kr(e,t,a){const f=Wh(this.persistenceKey,e),_=new Gh(e,t,a);this.setItem(f,_.hr())}$r(e){const t=JSON.stringify(Array.from(e));this.setItem(this.Rr,t)}Or(e){const t=this.Tr.exec(e);return t?t[1]:null}Br(e,t){const a=this.Or(e);return Kh.ar(a,t)}Lr(e,t){const a=this.Er.exec(e),f=Number(a[1]);return td.ar(new wi(void 0!==a[2]?a[2]:null),f,t)}Ur(e,t){const a=this.Ar.exec(e),f=Number(a[1]);return Gh.ar(f,t)}br(e){return Sg.ar(e)}Gr(e){return JSON.parse(e)}qr(e){var t=this;return(0,d.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.jr(e.batchId,e.state,e.error);$n("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Kr(e){return this.syncEngine.zr(e.targetId,e.state,e.error)}Fr(e,t){const a=t?this.gr.insert(e,t):this.gr.remove(e),f=this.Sr(this.gr),_=this.Sr(a),S=[],Y=[];return _.forEach(ce=>{f.has(ce)||S.push(ce)}),f.forEach(ce=>{_.has(ce)||Y.push(ce)}),this.syncEngine.Wr(S,Y).then(()=>{this.gr=a})}Vr(e){this.gr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Sr(e){let t=Ff();return e.forEach((a,f)=>{t=t.unionWith(f.activeTargetIds)}),t}}class Hy{constructor(){this.Hr=new mp,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,a){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,t,a){this.Jr[e]=t}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new mp,Promise.resolve()}handleUserChange(e,t,a){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Yh{Yr(e){}shutdown(){}}class Hm{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){$n("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){$n("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let tu=null;function nd(){return null===tu?tu=268435456+Math.round(2147483648*Math.random()):tu++,"0x"+tu.toString(16)}const Wy={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Wm{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const ul="WebChannelConnection";class Gy extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.mo=(e.ssl?"https":"http")+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,t,a,f,_){const S=nd(),Y=this.To(e,t);$n("RestConnection",`Sending RPC '${e}' ${S}:`,Y,a);const ce={};return this.Eo(ce,f,_),this.Ao(e,Y,ce,a).then(Ee=>($n("RestConnection",`Received RPC '${e}' ${S}: `,Ee),Ee),Ee=>{throw Go("RestConnection",`RPC '${e}' ${S} failed with error: `,Ee,"url: ",Y,"request:",a),Ee})}vo(e,t,a,f,_,S){return this.Io(e,t,a,f,_)}Eo(e,t,a){e["X-Goog-Api-Client"]="gl-js/ fire/"+Ni,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((f,_)=>e[_]=f),a&&a.headers.forEach((f,_)=>e[_]=f)}To(e,t){return`${this.mo}/v1/${t}:${Wy[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,t,a,f){const _=nd();return new Promise((S,Y)=>{const ce=new kn;ce.setWithCredentials(!0),ce.listenOnce(he.COMPLETE,()=>{try{switch(ce.getLastErrorCode()){case q.NO_ERROR:const Ye=ce.getResponseJson();$n(ul,`XHR for RPC '${e}' ${_} received:`,JSON.stringify(Ye)),S(Ye);break;case q.TIMEOUT:$n(ul,`RPC '${e}' ${_} timed out`),Y(new qn(Dn.DEADLINE_EXCEEDED,"Request time out"));break;case q.HTTP_ERROR:const Mt=ce.getStatus();if($n(ul,`RPC '${e}' ${_} failed with status:`,Mt,"response text:",ce.getResponseText()),Mt>0){let En=ce.getResponseJson();Array.isArray(En)&&(En=En[0]);const Vn=null==En?void 0:En.error;if(Vn&&Vn.status&&Vn.message){const Dr=function(ci){const bi=ci.toLowerCase().replace(/_/g,"-");return Object.values(Dn).indexOf(bi)>=0?bi:Dn.UNKNOWN}(Vn.status);Y(new qn(Dr,Vn.message))}else Y(new qn(Dn.UNKNOWN,"Server responded with status "+ce.getStatus()))}else Y(new qn(Dn.UNAVAILABLE,"Connection failed."));break;default:_r()}}finally{$n(ul,`RPC '${e}' ${_} completed.`)}});const Ee=JSON.stringify(f);$n(ul,`RPC '${e}' ${_} sending request:`,f),ce.send(t,"POST",Ee,a,15)})}Ro(e,t,a){const f=nd(),_=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],S=Fs(),Y=lo(),ce={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},Ee=this.longPollingOptions.timeoutSeconds;void 0!==Ee&&(ce.longPollingTimeout=Math.round(1e3*Ee)),this.useFetchStreams&&(ce.xmlHttpFactory=new bt({})),this.Eo(ce.initMessageHeaders,t,a),ce.encodeInitMessageHeaders=!0;const Ye=_.join("");$n(ul,`Creating RPC '${e}' stream ${f}: ${Ye}`,ce);const Mt=S.createWebChannel(Ye,ce);let En=!1,Vn=!1;const Dr=new Wm({ro:bi=>{Vn?$n(ul,`Not sending because RPC '${e}' stream ${f} is closed:`,bi):(En||($n(ul,`Opening RPC '${e}' stream ${f} transport.`),Mt.open(),En=!0),$n(ul,`RPC '${e}' stream ${f} sending:`,bi),Mt.send(bi))},oo:()=>Mt.close()}),ci=(bi,Hs,Ro)=>{bi.listen(Hs,no=>{try{Ro(no)}catch(Qa){setTimeout(()=>{throw Qa},0)}})};return ci(Mt,vn.EventType.OPEN,()=>{Vn||$n(ul,`RPC '${e}' stream ${f} transport opened.`)}),ci(Mt,vn.EventType.CLOSE,()=>{Vn||(Vn=!0,$n(ul,`RPC '${e}' stream ${f} transport closed`),Dr.wo())}),ci(Mt,vn.EventType.ERROR,bi=>{Vn||(Vn=!0,Go(ul,`RPC '${e}' stream ${f} transport errored:`,bi),Dr.wo(new qn(Dn.UNAVAILABLE,"The operation could not be completed")))}),ci(Mt,vn.EventType.MESSAGE,bi=>{var Hs;if(!Vn){const Ro=bi.data[0];Hr(!!Ro);const Qa=Ro.error||(null===(Hs=Ro[0])||void 0===Hs?void 0:Hs.error);if(Qa){$n(ul,`RPC '${e}' stream ${f} received error:`,Qa);const Ua=Qa.status;let ba=function(Tf){const e_=ka[Tf];if(void 0!==e_)return Jp(e_)}(Ua),uc=Qa.message;void 0===ba&&(ba=Dn.INTERNAL,uc="Unknown error status: "+Ua+" with message "+Qa.message),Vn=!0,Dr.wo(new qn(ba,uc)),Mt.close()}else $n(ul,`RPC '${e}' stream ${f} received:`,Ro),Dr._o(Ro)}}),ci(Y,J.STAT_EVENT,bi=>{bi.stat===Ne.PROXY?$n(ul,`RPC '${e}' stream ${f} detected buffering proxy`):bi.stat===Ne.NOPROXY&&$n(ul,`RPC '${e}' stream ${f} detected no buffering proxy`)}),setTimeout(()=>{Dr.fo()},0),Dr}}function Gm(){return typeof window<"u"?window:null}function qh(){return typeof document<"u"?document:null}function Hd(i){return new og(i,!0)}class Zh{constructor(e,t,a=1e3,f=1.5,_=6e4){this.ii=e,this.timerId=t,this.Po=a,this.bo=f,this.Vo=_,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const t=Math.floor(this.So+this.ko()),a=Math.max(0,Date.now()-this.Co),f=Math.max(0,t-a);f>0&&$n("ExponentialBackoff",`Backing off for ${f} ms (base delay: ${this.So} ms, delay with jitter: ${t} ms, last attempt: ${a} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,f,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class Wd{constructor(e,t,a,f,_,S,Y,ce){this.ii=e,this.$o=a,this.Oo=f,this.connection=_,this.authCredentialsProvider=S,this.appCheckCredentialsProvider=Y,this.listener=ce,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new Zh(e,t)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}stop(){var e=this;return(0,d.Z)(function*(){e.Uo()&&(yield e.close(0))})()}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}zo(){var e=this;return(0,d.Z)(function*(){if(e.Ko())return e.close(0)})()}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}close(e,t){var a=this;return(0,d.Z)(function*(){a.Ho(),a.Jo(),a.qo.cancel(),a.Fo++,4!==e?a.qo.reset():t&&t.code===Dn.RESOURCE_EXHAUSTED?(Fi(t.toString()),Fi("Using maximum backoff delay to prevent overloading the backend."),a.qo.xo()):t&&t.code===Dn.UNAUTHENTICATED&&3!==a.state&&(a.authCredentialsProvider.invalidateToken(),a.appCheckCredentialsProvider.invalidateToken()),null!==a.stream&&(a.Yo(),a.stream.close(),a.stream=null),a.state=e,yield a.listener.ao(t)})()}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),t=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([a,f])=>{this.Fo===t&&this.Zo(a,f)},a=>{e(()=>{const f=new qn(Dn.UNKNOWN,"Fetching auth token failed: "+a.message);return this.tu(f)})})}Zo(e,t){const a=this.Xo(this.Fo);this.stream=this.eu(e,t),this.stream.uo(()=>{a(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(f=>{a(()=>this.tu(f))}),this.stream.onMessage(f=>{a(()=>this.onMessage(f))})}Go(){var e=this;this.state=5,this.qo.No((0,d.Z)(function*(){e.state=0,e.start()}))}tu(e){return $n("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return t=>{this.ii.enqueueAndForget(()=>this.Fo===e?t():($n("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Km extends Wd{constructor(e,t,a,f,_,S){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,a,f,S),this.serializer=_}eu(e,t){return this.connection.Ro("Listen",e,t)}onMessage(e){this.qo.reset();const t=function Iv(i,e){let t;if("targetChange"in e){const a="NO_CHANGE"===(ce=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===ce?1:"REMOVE"===ce?2:"CURRENT"===ce?3:"RESET"===ce?4:_r(),f=e.targetChange.targetIds||[],_=function(ce,Ee){return ce.useProto3Json?(Hr(void 0===Ee||"string"==typeof Ee),Mo.fromBase64String(Ee||"")):(Hr(void 0===Ee||Ee instanceof Uint8Array),Mo.fromUint8Array(Ee||new Uint8Array))}(i,e.targetChange.resumeToken),S=e.targetChange.cause,Y=S&&function(ce){const Ee=void 0===ce.code?Dn.UNKNOWN:Jp(ce.code);return new qn(Ee,ce.message||"")}(S);t=new zf(a,f,_,Y||null)}else if("documentChange"in e){const a=e.documentChange,f=Pc(i,a.document.name),_=xa(a.document.updateTime),S=a.document.createTime?xa(a.document.createTime):Ii.min(),Y=new Uo({mapValue:{fields:a.document.fields}}),ce=_o.newFoundDocument(f,_,S,Y);t=new Zu(a.targetIds||[],a.removedTargetIds||[],ce.key,ce)}else if("documentDelete"in e){const a=e.documentDelete,f=Pc(i,a.document),_=a.readTime?xa(a.readTime):Ii.min(),S=_o.newNoDocument(f,_);t=new Zu([],a.removedTargetIds||[],S.key,S)}else if("documentRemove"in e){const a=e.documentRemove,f=Pc(i,a.document);t=new Zu([],a.removedTargetIds||[],f,null)}else{if(!("filter"in e))return _r();{const a=e.filter,{count:f=0,unchangedNames:_}=a,S=new Py(f,_);t=new jf(a.targetId,S)}}var ce;return t}(this.serializer,e),a=function(f){if(!("targetChange"in f))return Ii.min();const _=f.targetChange;return _.targetIds&&_.targetIds.length?Ii.min():_.readTime?xa(_.readTime):Ii.min()}(e);return this.listener.nu(t,a)}su(e){const t={};t.database=Eu(this.serializer),t.addTarget=function(f,_){let S;const Y=_.target;if(S=mu(Y)?{documents:Md(f,Y)}:{query:Pd(f,Y)},S.targetId=_.targetId,_.resumeToken.approximateByteSize()>0){S.resumeToken=Ch(f,_.resumeToken);const ce=Sd(f,_.expectedCount);null!==ce&&(S.expectedCount=ce)}else if(_.snapshotVersion.compareTo(Ii.min())>0){S.readTime=Td(f,_.snapshotVersion.toTimestamp());const ce=Sd(f,_.expectedCount);null!==ce&&(S.expectedCount=ce)}return S}(this.serializer,e);const a=function Ka(i,e){const t=function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return _r()}}(e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);a&&(t.labels=a),this.Wo(t)}iu(e){const t={};t.database=Eu(this.serializer),t.removeTarget=e,this.Wo(t)}}class xv extends Wd{constructor(e,t,a,f,_,S){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,a,f,S),this.serializer=_,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,t){return this.connection.Ro("Write",e,t)}onMessage(e){if(Hr(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const t=function Oy(i,e){return i&&i.length>0?(Hr(void 0!==e),i.map(t=>function(a,f){let _=xa(a.updateTime?a.updateTime:f);return _.isEqual(Ii.min())&&(_=xa(f)),new xy(_,a.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),a=xa(e.commitTime);return this.listener.cu(a,t)}return Hr(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=Eu(this.serializer),this.Wo(e)}uu(e){const t={streamToken:this.lastStreamToken,writes:e.map(a=>xd(this.serializer,a))};this.Wo(t)}}class Tg extends class{}{constructor(e,t,a,f){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=a,this.serializer=f,this.lu=!1}fu(){if(this.lu)throw new qn(Dn.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,t,a){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,_])=>this.connection.Io(e,t,a,f,_)).catch(f=>{throw"FirebaseError"===f.name?(f.code===Dn.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new qn(Dn.UNKNOWN,f.toString())})}vo(e,t,a,f){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([_,S])=>this.connection.vo(e,t,a,_,S,f)).catch(_=>{throw"FirebaseError"===_.name?(_.code===Dn.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),_):new qn(Dn.UNKNOWN,_.toString())})}terminate(){this.lu=!0}}class Ym{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(Fi(t),this.mu=!1):$n("OnlineStateTracker",t)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class yp{constructor(e,t,a,f,_){var S=this;this.localStore=e,this.datastore=t,this.asyncQueue=a,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=_,this.Pu.Yr(Y=>{a.enqueueAndForget((0,d.Z)(function*(){var ce;la(S)&&($n("RemoteStore","Restarting streams for network reachability change."),yield(ce=(0,d.Z)(function*(Ee){const Ye=Un(Ee);Ye.vu.add(4),yield Kd(Ye),Ye.bu.set("Unknown"),Ye.vu.delete(4),yield Mu(Ye)}),function(Ee){return ce.apply(this,arguments)})(S))}))}),this.bu=new Ym(a,f)}}function Mu(i){return vp.apply(this,arguments)}function vp(){return vp=(0,d.Z)(function*(i){if(la(i))for(const e of i.Ru)yield e(!0)}),vp.apply(this,arguments)}function Kd(i){return Ag.apply(this,arguments)}function Ag(){return Ag=(0,d.Z)(function*(i){for(const e of i.Ru)yield e(!1)}),Ag.apply(this,arguments)}function _p(i,e){const t=Un(i);t.Au.has(e.targetId)||(t.Au.set(e.targetId,e),Yd(t)?Xh(t):Rl(t).Ko()&&bp(t,e))}function ic(i,e){const t=Un(i),a=Rl(t);t.Au.delete(e),a.Ko()&&Ep(t,e),0===t.Au.size&&(a.Ko()?a.jo():la(t)&&t.bu.set("Unknown"))}function bp(i,e){if(i.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ii.min())>0){const t=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Rl(i).su(e)}function Ep(i,e){i.Vu.qt(e),Rl(i).iu(e)}function Xh(i){i.Vu=new rg({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),le:e=>i.Au.get(e)||null,ue:()=>i.datastore.serializer.databaseId}),Rl(i).start(),i.bu.gu()}function Yd(i){return la(i)&&!Rl(i).Uo()&&i.Au.size>0}function la(i){return 0===Un(i).vu.size}function _c(i){i.Vu=void 0}function Mv(i){return Qh.apply(this,arguments)}function Qh(){return Qh=(0,d.Z)(function*(i){i.Au.forEach((e,t)=>{bp(i,e)})}),Qh.apply(this,arguments)}function Pv(i,e){return Pu.apply(this,arguments)}function Pu(){return Pu=(0,d.Z)(function*(i,e){_c(i),Yd(i)?(i.bu.Iu(e),Xh(i)):i.bu.set("Unknown")}),Pu.apply(this,arguments)}function xg(i,e,t){return qm.apply(this,arguments)}function qm(){return qm=(0,d.Z)(function*(i,e,t){if(i.bu.set("Online"),e instanceof zf&&2===e.state&&e.cause)try{yield(a=(0,d.Z)(function*(f,_){const S=_.cause;for(const Y of _.targetIds)f.Au.has(Y)&&(yield f.remoteSyncer.rejectListen(Y,S),f.Au.delete(Y),f.Vu.removeTarget(Y))}),function(f,_){return a.apply(this,arguments)})(i,e)}catch(a){$n("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),a),yield wp(i,a)}else if(e instanceof Zu?i.Vu.Ht(e):e instanceof jf?i.Vu.ne(e):i.Vu.Xt(e),!t.isEqual(Ii.min()))try{const a=yield jh(i.localStore);t.compareTo(a)>=0&&(yield function(f,_){const S=f.Vu.ce(_);return S.targetChanges.forEach((Y,ce)=>{if(Y.resumeToken.approximateByteSize()>0){const Ee=f.Au.get(ce);Ee&&f.Au.set(ce,Ee.withResumeToken(Y.resumeToken,_))}}),S.targetMismatches.forEach((Y,ce)=>{const Ee=f.Au.get(Y);if(!Ee)return;f.Au.set(Y,Ee.withResumeToken(Mo.EMPTY_BYTE_STRING,Ee.snapshotVersion)),Ep(f,Y);const Ye=new Wl(Ee.target,Y,ce,Ee.sequenceNumber);bp(f,Ye)}),f.remoteSyncer.applyRemoteEvent(S)}(i,t))}catch(a){$n("RemoteStore","Failed to raise snapshot:",a),yield wp(i,a)}var a}),qm.apply(this,arguments)}function wp(i,e,t){return rd.apply(this,arguments)}function rd(){return rd=(0,d.Z)(function*(i,e,t){if(!ea(e))throw e;i.vu.add(1),yield Kd(i),i.bu.set("Offline"),t||(t=()=>jh(i.localStore)),i.asyncQueue.enqueueRetryable((0,d.Z)(function*(){$n("RemoteStore","Retrying IndexedDB access"),yield t(),i.vu.delete(1),yield Mu(i)}))}),rd.apply(this,arguments)}function Ip(i,e){return e().catch(t=>wp(i,t,e))}function Ru(i){return Mg.apply(this,arguments)}function Mg(){return Mg=(0,d.Z)(function*(i){const e=Un(i),t=Kl(e);let a=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;bs(e);)try{const f=yield Bm(e.localStore,a);if(null===f){0===e.Eu.length&&t.jo();break}a=f.batchId,Cp(e,f)}catch(f){yield wp(e,f)}Pg(e)&&Zm(e)}),Mg.apply(this,arguments)}function bs(i){return la(i)&&i.Eu.length<10}function Cp(i,e){i.Eu.push(e);const t=Kl(i);t.Ko()&&t.ou&&t.uu(e.mutations)}function Pg(i){return la(i)&&!Kl(i).Uo()&&i.Eu.length>0}function Zm(i){Kl(i).start()}function Ky(i){return qd.apply(this,arguments)}function qd(){return qd=(0,d.Z)(function*(i){Kl(i).hu()}),qd.apply(this,arguments)}function Dp(i){return Zd.apply(this,arguments)}function Zd(){return Zd=(0,d.Z)(function*(i){const e=Kl(i);for(const t of i.Eu)e.uu(t.mutations)}),Zd.apply(this,arguments)}function Jh(i,e,t){return Sp.apply(this,arguments)}function Sp(){return Sp=(0,d.Z)(function*(i,e,t){const a=i.Eu.shift(),f=Xp.from(a,e,t);yield Ip(i,()=>i.remoteSyncer.applySuccessfulWrite(f)),yield Ru(i)}),Sp.apply(this,arguments)}function Tp(i,e){return bc.apply(this,arguments)}function bc(){return bc=(0,d.Z)(function*(i,e){var t;e&&Kl(i).ou&&(yield(t=(0,d.Z)(function*(a,f){if($f(_=f.code)&&_!==Dn.ABORTED){const S=a.Eu.shift();Kl(a).Qo(),yield Ip(a,()=>a.remoteSyncer.rejectFailedWrite(S.batchId,f)),yield Ru(a)}var _}),function(a,f){return t.apply(this,arguments)})(i,e)),Pg(i)&&Zm(i)}),bc.apply(this,arguments)}function Ap(i,e){return Xd.apply(this,arguments)}function Xd(){return Xd=(0,d.Z)(function*(i,e){const t=Un(i);t.asyncQueue.verifyOperationInProgress(),$n("RemoteStore","RemoteStore received new credentials");const a=la(t);t.vu.add(3),yield Kd(t),a&&t.bu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.vu.delete(3),yield Mu(t)}),Xd.apply(this,arguments)}function xp(i,e){return Ou.apply(this,arguments)}function Ou(){return Ou=(0,d.Z)(function*(i,e){const t=Un(i);e?(t.vu.delete(2),yield Mu(t)):e||(t.vu.add(2),yield Kd(t),t.bu.set("Unknown"))}),Ou.apply(this,arguments)}function Rl(i){return i.Su||(i.Su=function(e,t,a){const f=Un(e);return f.fu(),new Km(t,f.connection,f.authCredentials,f.appCheckCredentials,f.serializer,a)}(i.datastore,i.asyncQueue,{uo:Mv.bind(null,i),ao:Pv.bind(null,i),nu:xg.bind(null,i)}),i.Ru.push(function(){var e=(0,d.Z)(function*(t){t?(i.Su.Qo(),Yd(i)?Xh(i):i.bu.set("Unknown")):(yield i.Su.stop(),_c(i))});return function(t){return e.apply(this,arguments)}}())),i.Su}function Kl(i){return i.Du||(i.Du=function(e,t,a){const f=Un(e);return f.fu(),new xv(t,f.connection,f.authCredentials,f.appCheckCredentials,f.serializer,a)}(i.datastore,i.asyncQueue,{uo:Ky.bind(null,i),ao:Tp.bind(null,i),au:Dp.bind(null,i),cu:Jh.bind(null,i)}),i.Ru.push(function(){var e=(0,d.Z)(function*(t){t?(i.Du.Qo(),yield Ru(i)):(yield i.Du.stop(),i.Eu.length>0&&($n("RemoteStore",`Stopping write stream with ${i.Eu.length} pending writes`),i.Eu=[]))});return function(t){return e.apply(this,arguments)}}())),i.Du}class ef{constructor(e,t,a,f,_){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=a,this.op=f,this.removalCallback=_,this.deferred=new vs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(S=>{})}static createAndSchedule(e,t,a,f,_){const S=Date.now()+a,Y=new ef(e,t,S,f,_);return Y.start(a),Y}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new qn(Dn.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Yl(i,e){if(Fi("AsyncQueue",`${e}: ${i}`),ea(i))return new qn(Dn.UNAVAILABLE,`${e}: ${i}`);throw i}class qa{constructor(e){this.comparator=e?(t,a)=>e(t,a)||yr.comparator(t.key,a.key):(t,a)=>yr.comparator(t.key,a.key),this.keyedMap=nc(),this.sortedSet=new Xr(this.comparator)}static emptySet(e){return new qa(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,a)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof qa)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),a=e.sortedSet.getIterator();for(;t.hasNext();){const f=t.getNext().key,_=a.getNext().key;if(!f.isEqual(_))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const a=new qa;return a.comparator=this.comparator,a.keyedMap=e,a.sortedSet=t,a}}class ql{constructor(){this.Cu=new Xr(yr.comparator)}track(e){const t=e.doc.key,a=this.Cu.get(t);a?0!==e.type&&3===a.type?this.Cu=this.Cu.insert(t,e):3===e.type&&1!==a.type?this.Cu=this.Cu.insert(t,{type:a.type,doc:e.doc}):2===e.type&&2===a.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===a.type?this.Cu=this.Cu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===a.type?this.Cu=this.Cu.remove(t):1===e.type&&2===a.type?this.Cu=this.Cu.insert(t,{type:1,doc:a.doc}):0===e.type&&1===a.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):_r():this.Cu=this.Cu.insert(t,e)}xu(){const e=[];return this.Cu.inorderTraversal((t,a)=>{e.push(a)}),e}}class sc{constructor(e,t,a,f,_,S,Y,ce,Ee){this.query=e,this.docs=t,this.oldDocs=a,this.docChanges=f,this.mutatedKeys=_,this.fromCache=S,this.syncStateChanged=Y,this.excludesMetadataChanges=ce,this.hasCachedResults=Ee}static fromInitialDocuments(e,t,a,f,_){const S=[];return t.forEach(Y=>{S.push({type:0,doc:Y})}),new sc(e,t,qa.emptySet(t),S,a,f,!0,!1,_)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&dr(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,a=e.docChanges;if(t.length!==a.length)return!1;for(let f=0;f<t.length;f++)if(t[f].type!==a[f].type||!t[f].doc.isEqual(a[f].doc))return!1;return!0}}class tf{constructor(){this.Nu=void 0,this.listeners=[]}}class Mp{constructor(){this.queries=new bl(e=>ti(e),dr),this.onlineState="Unknown",this.ku=new Set}}function Qd(i,e){return nu.apply(this,arguments)}function nu(){return nu=(0,d.Z)(function*(i,e){const t=Un(i),a=e.query;let f=!1,_=t.queries.get(a);if(_||(f=!0,_=new tf),f)try{_.Nu=yield t.onListen(a)}catch(S){const Y=Yl(S,`Initialization of query '${Mi(e.query)}' failed`);return void e.onError(Y)}t.queries.set(a,_),_.listeners.push(e),e.Mu(t.onlineState),_.Nu&&e.$u(_.Nu)&&Rg(t)}),nu.apply(this,arguments)}function ku(i,e){return Pp.apply(this,arguments)}function Pp(){return Pp=(0,d.Z)(function*(i,e){const t=Un(i),a=e.query;let f=!1;const _=t.queries.get(a);if(_){const S=_.listeners.indexOf(e);S>=0&&(_.listeners.splice(S,1),f=0===_.listeners.length)}if(f)return t.queries.delete(a),t.onUnlisten(a)}),Pp.apply(this,arguments)}function nf(i,e){const t=Un(i);let a=!1;for(const f of e){const S=t.queries.get(f.query);if(S){for(const Y of S.listeners)Y.$u(f)&&(a=!0);S.Nu=f}}a&&Rg(t)}function Rv(i,e,t){const a=Un(i),f=a.queries.get(e);if(f)for(const _ of f.listeners)_.onError(t);a.queries.delete(e)}function Rg(i){i.ku.forEach(e=>{e.next()})}class Og{constructor(e,t,a){this.query=e,this.Ou=t,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=a||{}}$u(e){if(!this.options.includeMetadataChanges){const a=[];for(const f of e.docChanges)3!==f.type&&a.push(f);e=new sc(e.query,e.docs,e.oldDocs,a,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),t=!0):this.qu(e,this.onlineState)&&(this.Uu(e),t=!0),this.Bu=e,t}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let t=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),t=!0),t}qu(e,t){return!e.fromCache||(!this.options.Ku||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Lu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Uu(e){e=sc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class Ol{constructor(e,t){this.Gu=e,this.byteLength=t}Qu(){return"metadata"in this.Gu}}class kg{constructor(e){this.serializer=e}rr(e){return Pc(this.serializer,e)}ur(e){return e.metadata.exists?bm(this.serializer,e.document,!1):_o.newNoDocument(this.rr(e.metadata.name),this.cr(e.metadata.readTime))}cr(e){return xa(e)}}class Ov{constructor(e,t,a){this.ju=e,this.localStore=t,this.serializer=a,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=Yy(e)}zu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.Gu.namedQuery)this.queries.push(e.Gu.namedQuery);else if(e.Gu.documentMetadata){this.documents.push({metadata:e.Gu.documentMetadata}),e.Gu.documentMetadata.exists||++t;const a=os.fromString(e.Gu.documentMetadata.name);this.collectionGroups.add(a.get(a.length-2))}else e.Gu.document&&(this.documents[this.documents.length-1].document=e.Gu.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}Wu(e){const t=new Map,a=new kg(this.serializer);for(const f of e)if(f.metadata.queries){const _=a.rr(f.metadata.name);for(const S of f.metadata.queries){const Y=(t.get(S)||Is()).add(_);t.set(S,Y)}}return t}complete(){var e=this;return(0,d.Z)(function*(){const t=yield function Vm(i,e,t,a){return Um.apply(this,arguments)}(e.localStore,new kg(e.serializer),e.documents,e.ju.id),a=e.Wu(e.documents);for(const f of e.queries)yield gp(e.localStore,f,a.get(f.name));return e.progress.taskState="Success",{progress:e.progress,Hu:e.collectionGroups,Ju:t}})()}}function Yy(i){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:i.totalDocuments,totalBytes:i.totalBytes}}class qy{constructor(e){this.key=e}}class Xm{constructor(e){this.key=e}}class Qm{constructor(e,t){this.query=e,this.Yu=t,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=Is(),this.mutatedKeys=Is(),this.tc=_l(e),this.ec=new qa(this.tc)}get nc(){return this.Yu}sc(e,t){const a=t?t.ic:new ql,f=t?t.ec:this.ec;let _=t?t.mutatedKeys:this.mutatedKeys,S=f,Y=!1;const ce="F"===this.query.limitType&&f.size===this.query.limit?f.last():null,Ee="L"===this.query.limitType&&f.size===this.query.limit?f.first():null;if(e.inorderTraversal((Ye,Mt)=>{const En=f.get(Ye),Vn=_s(this.query,Mt)?Mt:null,Dr=!!En&&this.mutatedKeys.has(En.key),ci=!!Vn&&(Vn.hasLocalMutations||this.mutatedKeys.has(Vn.key)&&Vn.hasCommittedMutations);let bi=!1;En&&Vn?En.data.isEqual(Vn.data)?Dr!==ci&&(a.track({type:3,doc:Vn}),bi=!0):this.rc(En,Vn)||(a.track({type:2,doc:Vn}),bi=!0,(ce&&this.tc(Vn,ce)>0||Ee&&this.tc(Vn,Ee)<0)&&(Y=!0)):!En&&Vn?(a.track({type:0,doc:Vn}),bi=!0):En&&!Vn&&(a.track({type:1,doc:En}),bi=!0,(ce||Ee)&&(Y=!0)),bi&&(Vn?(S=S.add(Vn),_=ci?_.add(Ye):_.delete(Ye)):(S=S.delete(Ye),_=_.delete(Ye)))}),null!==this.query.limit)for(;S.size>this.query.limit;){const Ye="F"===this.query.limitType?S.last():S.first();S=S.delete(Ye.key),_=_.delete(Ye.key),a.track({type:1,doc:Ye})}return{ec:S,ic:a,zi:Y,mutatedKeys:_}}rc(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,a){const f=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const _=e.ic.xu();_.sort((Ee,Ye)=>function(Mt,En){const Vn=Dr=>{switch(Dr){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return _r()}};return Vn(Mt)-Vn(En)}(Ee.type,Ye.type)||this.tc(Ee.doc,Ye.doc)),this.oc(a);const S=t?this.uc():[],Y=0===this.Zu.size&&this.current?1:0,ce=Y!==this.Xu;return this.Xu=Y,0!==_.length||ce?{snapshot:new sc(this.query,e.ec,f,_,e.mutatedKeys,0===Y,ce,!1,!!a&&a.resumeToken.approximateByteSize()>0),cc:S}:{cc:S}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new ql,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(t=>this.Yu=this.Yu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Yu=this.Yu.delete(t)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=Is(),this.ec.forEach(a=>{this.ac(a.key)&&(this.Zu=this.Zu.add(a.key))});const t=[];return e.forEach(a=>{this.Zu.has(a)||t.push(new Xm(a))}),this.Zu.forEach(a=>{e.has(a)||t.push(new qy(a))}),t}hc(e){this.Yu=e.ir,this.Zu=Is();const t=this.sc(e.documents);return this.applyChanges(t,!0)}lc(){return sc.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class kv{constructor(e,t,a){this.query=e,this.targetId=t,this.view=a}}class Rp{constructor(e){this.key=e,this.fc=!1}}class Zl{constructor(e,t,a,f,_,S){this.localStore=e,this.remoteStore=t,this.eventManager=a,this.sharedClientState=f,this.currentUser=_,this.maxConcurrentLimboResolutions=S,this.dc={},this.wc=new bl(Y=>ti(Y),dr),this._c=new Map,this.mc=new Set,this.gc=new Xr(yr.comparator),this.yc=new Map,this.Ic=new up,this.Tc={},this.Ec=new Map,this.Ac=Jc.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}function Zy(i,e){return Ng.apply(this,arguments)}function Ng(){return Ng=(0,d.Z)(function*(i,e){const t=sd(i);let a,f;const _=t.wc.get(e);if(_)a=_.targetId,t.sharedClientState.addLocalQueryTarget(a),f=_.view.lc();else{const S=yield jd(t.localStore,We(e)),Y=t.sharedClientState.addLocalQueryTarget(S.targetId);a=S.targetId,f=yield rf(t,e,a,"current"===Y,S.resumeToken),t.isPrimaryClient&&_p(t.remoteStore,S)}return f}),Ng.apply(this,arguments)}function rf(i,e,t,a,f){return Nu.apply(this,arguments)}function Nu(){return Nu=(0,d.Z)(function*(i,e,t,a,f){i.Rc=(Mt,En,Vn)=>{return(Dr=(0,d.Z)(function*(ci,bi,Hs,Ro){let no=bi.view.sc(Hs);no.zi&&(no=yield fp(ci.localStore,bi.query,!1).then(({documents:ba})=>bi.view.sc(ba,no)));const Qa=Ro&&Ro.targetChanges.get(bi.targetId),Ua=bi.view.applyChanges(no,ci.isPrimaryClient,Qa);return Fp(ci,bi.targetId,Ua.cc),Ua.snapshot}),function(ci,bi,Hs,Ro){return Dr.apply(this,arguments)})(i,Mt,En,Vn);var Dr};const _=yield fp(i.localStore,e,!0),S=new Qm(e,_.ir),Y=S.sc(_.documents),ce=Ml.createSynthesizedTargetChangeForCurrentChange(t,a&&"Offline"!==i.onlineState,f),Ee=S.applyChanges(Y,i.isPrimaryClient,ce);Fp(i,t,Ee.cc);const Ye=new kv(e,t,S);return i.wc.set(e,Ye),i._c.has(t)?i._c.get(t).push(e):i._c.set(t,[e]),Ee.snapshot}),Nu.apply(this,arguments)}function Fg(i,e){return Op.apply(this,arguments)}function Op(){return Op=(0,d.Z)(function*(i,e){const t=Un(i),a=t.wc.get(e),f=t._c.get(a.targetId);if(f.length>1)return t._c.set(a.targetId,f.filter(_=>!dr(_,e))),void t.wc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(a.targetId),t.sharedClientState.isActiveQueryTarget(a.targetId)||(yield zh(t.localStore,a.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(a.targetId),ic(t.remoteStore,a.targetId),Jd(t,a.targetId)}).catch(Jo))):(Jd(t,a.targetId),yield zh(t.localStore,a.targetId,!0))}),Op.apply(this,arguments)}function sf(){return sf=(0,d.Z)(function*(i,e,t){const a=Zg(i);try{const f=yield function(_,S){const Y=Un(_),ce=yo.now(),Ee=S.reduce((En,Vn)=>En.add(Vn.key),Is());let Ye,Mt;return Y.persistence.runTransaction("Locally write mutations","readwrite",En=>{let Vn=La(),Dr=Is();return Y.Zi.getEntries(En,Ee).next(ci=>{Vn=ci,Vn.forEach((bi,Hs)=>{Hs.isValidDocument()||(Dr=Dr.add(bi))})}).next(()=>Y.localDocuments.getOverlayedDocuments(En,Vn)).next(ci=>{Ye=ci;const bi=[];for(const Hs of S){const Ro=ym(Hs,Ye.get(Hs.key).overlayedDocument);null!=Ro&&bi.push(new yc(Hs.key,Ro,cu(Ro.value.mapValue),pa.exists(!0)))}return Y.mutationQueue.addMutationBatch(En,ce,bi,S)}).next(ci=>{Mt=ci;const bi=ci.applyToLocalDocumentSet(Ye,Dr);return Y.documentOverlayCache.saveOverlays(En,ci.batchId,bi)})}).then(()=>({batchId:Mt.batchId,changes:cl(Ye)}))}(a.localStore,e);a.sharedClientState.addPendingMutation(f.batchId),function(_,S,Y){let ce=_.Tc[_.currentUser.toKey()];ce||(ce=new Xr(Ui)),ce=ce.insert(S,Y),_.Tc[_.currentUser.toKey()]=ce}(a,f.batchId,t),yield Ec(a,f.changes),yield Ru(a.remoteStore)}catch(f){const _=Yl(f,"Failed to persist write");t.reject(_)}}),sf.apply(this,arguments)}function kp(i,e){return Lg.apply(this,arguments)}function Lg(){return Lg=(0,d.Z)(function*(i,e){const t=Un(i);try{const a=yield function f_(i,e){const t=Un(i),a=e.snapshotVersion;let f=t.Ji;return t.persistence.runTransaction("Apply remote event","readwrite-primary",_=>{const S=t.Zi.newChangeBuffer({trackRemovals:!0});f=t.Ji;const Y=[];e.targetChanges.forEach((Ye,Mt)=>{const En=f.get(Mt);if(!En)return;Y.push(t.Bs.removeMatchingKeys(_,Ye.removedDocuments,Mt).next(()=>t.Bs.addMatchingKeys(_,Ye.addedDocuments,Mt)));let Vn=En.withSequenceNumber(_.currentSequenceNumber);var Dr,ci,bi;null!==e.targetMismatches.get(Mt)?Vn=Vn.withResumeToken(Mo.EMPTY_BYTE_STRING,Ii.min()).withLastLimboFreeSnapshotVersion(Ii.min()):Ye.resumeToken.approximateByteSize()>0&&(Vn=Vn.withResumeToken(Ye.resumeToken,a)),f=f.insert(Mt,Vn),ci=Vn,bi=Ye,(0===(Dr=En).resumeToken.approximateByteSize()||ci.snapshotVersion.toMicroseconds()-Dr.snapshotVersion.toMicroseconds()>=3e8||bi.addedDocuments.size+bi.modifiedDocuments.size+bi.removedDocuments.size>0)&&Y.push(t.Bs.updateTargetData(_,Vn))});let ce=La(),Ee=Is();if(e.documentUpdates.forEach(Ye=>{e.resolvedLimboDocuments.has(Ye)&&Y.push(t.persistence.referenceDelegate.updateLimboDocument(_,Ye))}),Y.push(Ig(_,S,e.documentUpdates).next(Ye=>{ce=Ye.nr,Ee=Ye.sr})),!a.isEqual(Ii.min())){const Ye=t.Bs.getLastRemoteSnapshotVersion(_).next(Mt=>t.Bs.setTargetsMetadata(_,_.currentSequenceNumber,a));Y.push(Ye)}return yn.waitFor(Y).next(()=>S.apply(_)).next(()=>t.localDocuments.getLocalViewOfDocuments(_,ce,Ee)).next(()=>ce)}).then(_=>(t.Ji=f,_))}(t.localStore,e);e.targetChanges.forEach((f,_)=>{const S=t.yc.get(_);S&&(Hr(f.addedDocuments.size+f.modifiedDocuments.size+f.removedDocuments.size<=1),f.addedDocuments.size>0?S.fc=!0:f.modifiedDocuments.size>0?Hr(S.fc):f.removedDocuments.size>0&&(Hr(S.fc),S.fc=!1))}),yield Ec(t,a,e)}catch(a){yield Jo(a)}}),Lg.apply(this,arguments)}function Jm(i,e,t){const a=Un(i);if(a.isPrimaryClient&&0===t||!a.isPrimaryClient&&1===t){const f=[];a.wc.forEach((_,S)=>{const Y=S.view.Mu(e);Y.snapshot&&f.push(Y.snapshot)}),function(_,S){const Y=Un(_);Y.onlineState=S;let ce=!1;Y.queries.forEach((Ee,Ye)=>{for(const Mt of Ye.listeners)Mt.Mu(S)&&(ce=!0)}),ce&&Rg(Y)}(a.eventManager,e),f.length&&a.dc.nu(f),a.onlineState=e,a.isPrimaryClient&&a.sharedClientState.setOnlineState(e)}}function Bg(i,e,t){return $g.apply(this,arguments)}function $g(){return $g=(0,d.Z)(function*(i,e,t){const a=Un(i);a.sharedClientState.updateQueryState(e,"rejected",t);const f=a.yc.get(e),_=f&&f.key;if(_){let S=new Xr(yr.comparator);S=S.insert(_,_o.newNoDocument(_,Ii.min()));const Y=Is().add(_),ce=new wh(Ii.min(),new Map,new Xr(Ui),S,Y);yield kp(a,ce),a.gc=a.gc.remove(_),a.yc.delete(e),lf(a)}else yield zh(a.localStore,e,!1).then(()=>Jd(a,e,t)).catch(Jo)}),$g.apply(this,arguments)}function Qy(i,e){return Vg.apply(this,arguments)}function Vg(){return Vg=(0,d.Z)(function*(i,e){const t=Un(i),a=e.batch.batchId;try{const f=yield function Uh(i,e){const t=Un(i);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",a=>{const f=e.batch.keys(),_=t.Zi.newChangeBuffer({trackRemovals:!0});return function(S,Y,ce,Ee){const Ye=ce.batch,Mt=Ye.keys();let En=yn.resolve();return Mt.forEach(Vn=>{En=En.next(()=>Ee.getEntry(Y,Vn)).next(Dr=>{const ci=ce.docVersions.get(Vn);Hr(null!==ci),Dr.version.compareTo(ci)<0&&(Ye.applyToRemoteDocument(Dr,ce),Dr.isValidDocument()&&(Dr.setReadTime(ce.commitVersion),Ee.addEntry(Dr)))})}),En.next(()=>S.mutationQueue.removeMutationBatch(Y,Ye))}(t,a,e,_).next(()=>_.apply(a)).next(()=>t.mutationQueue.performConsistencyCheck(a)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(a,f,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,function(S){let Y=Is();for(let ce=0;ce<S.mutationResults.length;++ce)S.mutationResults[ce].transformResults.length>0&&(Y=Y.add(S.batch.mutations[ce].key));return Y}(e))).next(()=>t.localDocuments.getDocuments(a,f))})}(t.localStore,e);Np(t,a,null),Ug(t,a),t.sharedClientState.updateMutationState(a,"acknowledged"),yield Ec(t,f)}catch(f){yield Jo(f)}}),Vg.apply(this,arguments)}function id(i,e,t){return af.apply(this,arguments)}function af(){return af=(0,d.Z)(function*(i,e,t){const a=Un(i);try{const f=yield function(_,S){const Y=Un(_);return Y.persistence.runTransaction("Reject batch","readwrite-primary",ce=>{let Ee;return Y.mutationQueue.lookupMutationBatch(ce,S).next(Ye=>(Hr(null!==Ye),Ee=Ye.keys(),Y.mutationQueue.removeMutationBatch(ce,Ye))).next(()=>Y.mutationQueue.performConsistencyCheck(ce)).next(()=>Y.documentOverlayCache.removeOverlaysForBatchId(ce,Ee,S)).next(()=>Y.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(ce,Ee)).next(()=>Y.localDocuments.getDocuments(ce,Ee))})}(a.localStore,e);Np(a,e,t),Ug(a,e),a.sharedClientState.updateMutationState(e,"rejected",t),yield Ec(a,f)}catch(f){yield Jo(f)}}),af.apply(this,arguments)}function Fu(){return Fu=(0,d.Z)(function*(i,e){const t=Un(i);la(t.remoteStore)||$n("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const a=yield function(_){const S=Un(_);return S.persistence.runTransaction("Get highest unacknowledged batch id","readonly",Y=>S.mutationQueue.getHighestUnacknowledgedBatchId(Y))}(t.localStore);if(-1===a)return void e.resolve();const f=t.Ec.get(a)||[];f.push(e),t.Ec.set(a,f)}catch(a){const f=Yl(a,"Initialization of waitForPendingWrites() operation failed");e.reject(f)}}),Fu.apply(this,arguments)}function Ug(i,e){(i.Ec.get(e)||[]).forEach(t=>{t.resolve()}),i.Ec.delete(e)}function Np(i,e,t){const a=Un(i);let f=a.Tc[a.currentUser.toKey()];if(f){const _=f.get(e);_&&(t?_.reject(t):_.resolve(),f=f.remove(e)),a.Tc[a.currentUser.toKey()]=f}}function Jd(i,e,t=null){i.sharedClientState.removeLocalQueryTarget(e);for(const a of i._c.get(e))i.wc.delete(a),t&&i.dc.Pc(a,t);i._c.delete(e),i.isPrimaryClient&&i.Ic.Is(e).forEach(a=>{i.Ic.containsKey(a)||jg(i,a)})}function jg(i,e){i.mc.delete(e.path.canonicalString());const t=i.gc.get(e);null!==t&&(ic(i.remoteStore,t),i.gc=i.gc.remove(e),i.yc.delete(t),lf(i))}function Fp(i,e,t){for(const a of t)a instanceof qy?(i.Ic.addReference(a.key,e),eh(i,a)):a instanceof Xm?($n("SyncEngine","Document no longer in limbo: "+a.key),i.Ic.removeReference(a.key,e),i.Ic.containsKey(a.key)||jg(i,a.key)):_r()}function eh(i,e){const t=e.key,a=t.path.canonicalString();i.gc.get(t)||i.mc.has(a)||($n("SyncEngine","New document in limbo: "+t),i.mc.add(a),lf(i))}function lf(i){for(;i.mc.size>0&&i.gc.size<i.maxConcurrentLimboResolutions;){const e=i.mc.values().next().value;i.mc.delete(e);const t=new yr(os.fromString(e)),a=i.Ac.next();i.yc.set(a,new Rp(t)),i.gc=i.gc.insert(t,a),_p(i.remoteStore,new Wl(We(Kc(t.path)),a,"TargetPurposeLimboResolution",ge.ct))}}function Ec(i,e,t){return th.apply(this,arguments)}function th(){return th=(0,d.Z)(function*(i,e,t){const a=Un(i),f=[],_=[],S=[];var Y;a.wc.isEmpty()||(a.wc.forEach((Y,ce)=>{S.push(a.Rc(ce,e,t).then(Ee=>{if((Ee||t)&&a.isPrimaryClient&&a.sharedClientState.updateQueryState(ce.targetId,null!=Ee&&Ee.fromCache?"not-current":"current"),Ee){f.push(Ee);const Ye=Ud.Li(ce.targetId,Ee);_.push(Ye)}}))}),yield Promise.all(S),a.dc.nu(f),yield(Y=(0,d.Z)(function*(ce,Ee){const Ye=Un(ce);try{yield Ye.persistence.runTransaction("notifyLocalViewChanges","readwrite",Mt=>yn.forEach(Ee,En=>yn.forEach(En.Fi,Vn=>Ye.persistence.referenceDelegate.addReference(Mt,En.targetId,Vn)).next(()=>yn.forEach(En.Bi,Vn=>Ye.persistence.referenceDelegate.removeReference(Mt,En.targetId,Vn)))))}catch(Mt){if(!ea(Mt))throw Mt;$n("LocalStore","Failed to update sequence numbers: "+Mt)}for(const Mt of Ee){const En=Mt.targetId;if(!Mt.fromCache){const Vn=Ye.Ji.get(En),ci=Vn.withLastLimboFreeSnapshotVersion(Vn.snapshotVersion);Ye.Ji=Ye.Ji.insert(En,ci)}}}),function(ce,Ee){return Y.apply(this,arguments)})(a.localStore,_))}),th.apply(this,arguments)}function cf(i,e){return Lp.apply(this,arguments)}function Lp(){return Lp=(0,d.Z)(function*(i,e){const t=Un(i);if(!t.currentUser.isEqual(e)){$n("SyncEngine","User change. New user:",e.toKey());const a=yield $h(t.localStore,e);t.currentUser=e,(f=t).Ec.forEach(S=>{S.forEach(Y=>{Y.reject(new qn(Dn.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),f.Ec.clear(),t.sharedClientState.handleUserChange(e,a.removedBatchIds,a.addedBatchIds),yield Ec(t,a.er)}var f}),Lp.apply(this,arguments)}function zg(i,e){const t=Un(i),a=t.yc.get(e);if(a&&a.fc)return Is().add(a.key);{let f=Is();const _=t._c.get(e);if(!_)return f;for(const S of _){const Y=t.wc.get(S);f=f.unionWith(Y.view.nc)}return f}}function Hg(i,e){return Nc.apply(this,arguments)}function Nc(){return Nc=(0,d.Z)(function*(i,e){const t=Un(i),a=yield fp(t.localStore,e.query,!0),f=e.view.hc(a);return t.isPrimaryClient&&Fp(t,e.targetId,f.cc),f}),Nc.apply(this,arguments)}function Wg(i,e){return ey.apply(this,arguments)}function ey(){return ey=(0,d.Z)(function*(i,e){const t=Un(i);return zd(t.localStore,e).then(a=>Ec(t,a))}),ey.apply(this,arguments)}function Gg(i,e,t,a){return Kg.apply(this,arguments)}function Kg(){return Kg=(0,d.Z)(function*(i,e,t,a){const f=Un(i),_=yield function(S,Y){const ce=Un(S),Ee=Un(ce.mutationQueue);return ce.persistence.runTransaction("Lookup mutation documents","readonly",Ye=>Ee.Sn(Ye,Y).next(Mt=>Mt?ce.localDocuments.getDocuments(Ye,Mt):yn.resolve(null)))}(f.localStore,e);var Y;null!==_?("pending"===t?yield Ru(f.remoteStore):"acknowledged"===t||"rejected"===t?(Np(f,e,a||null),Ug(f,e),Y=e,Un(Un(f.localStore).mutationQueue).Cn(Y)):_r(),yield Ec(f,_)):$n("SyncEngine","Cannot apply mutation batch with id: "+e)}),Kg.apply(this,arguments)}function uf(){return uf=(0,d.Z)(function*(i,e){const t=Un(i);if(sd(t),Zg(t),!0===e&&!0!==t.vc){const a=t.sharedClientState.getAllActiveQueryTargets(),f=yield ny(t,a.toArray());t.vc=!0,yield xp(t.remoteStore,!0);for(const _ of f)_p(t.remoteStore,_)}else if(!1===e&&!1!==t.vc){const a=[];let f=Promise.resolve();t._c.forEach((_,S)=>{t.sharedClientState.isLocalQueryTarget(S)?a.push(S):f=f.then(()=>(Jd(t,S),zh(t.localStore,S,!0))),ic(t.remoteStore,S)}),yield f,yield ny(t,a),function(_){const S=Un(_);S.yc.forEach((Y,ce)=>{ic(S.remoteStore,ce)}),S.Ic.Ts(),S.yc=new Map,S.gc=new Xr(yr.comparator)}(t),t.vc=!1,yield xp(t.remoteStore,!1)}}),uf.apply(this,arguments)}function ny(i,e,t){return Yg.apply(this,arguments)}function Yg(){return Yg=(0,d.Z)(function*(i,e,t){const a=Un(i),f=[],_=[];for(const S of e){let Y;const ce=a._c.get(S);if(ce&&0!==ce.length){Y=yield jd(a.localStore,We(ce[0]));for(const Ee of ce){const Ye=a.wc.get(Ee),Mt=yield Hg(a,Ye);Mt.snapshot&&_.push(Mt.snapshot)}}else{const Ee=yield pp(a.localStore,S);Y=yield jd(a.localStore,Ee),yield rf(a,ry(Ee),S,!1,Y.resumeToken)}f.push(Y)}return a.dc.nu(_),f}),Yg.apply(this,arguments)}function ry(i){return kf(i.path,i.collectionGroup,i.orderBy,i.filters,i.limit,"F",i.startAt,i.endAt)}function Bp(i){const e=Un(i);return Un(Un(e.localStore).persistence).$i()}function df(i,e,t,a){return nh.apply(this,arguments)}function nh(){return nh=(0,d.Z)(function*(i,e,t,a){const f=Un(i);if(f.vc)return void $n("SyncEngine","Ignoring unexpected query state notification.");const _=f._c.get(e);if(_&&_.length>0)switch(t){case"current":case"not-current":{const S=yield zd(f.localStore,ll(_[0])),Y=wh.createSynthesizedRemoteEventForCurrentChange(e,"current"===t,Mo.EMPTY_BYTE_STRING);yield Ec(f,S,Y);break}case"rejected":yield zh(f.localStore,e,!0),Jd(f,e,a);break;default:_r()}}),nh.apply(this,arguments)}function Nv(i,e,t){return qg.apply(this,arguments)}function qg(){return qg=(0,d.Z)(function*(i,e,t){const a=sd(i);if(a.vc){for(const f of e){if(a._c.has(f)){$n("SyncEngine","Adding an already active target "+f);continue}const _=yield pp(a.localStore,f),S=yield jd(a.localStore,_);yield rf(a,ry(_),S.targetId,!1,S.resumeToken),_p(a.remoteStore,S)}for(const f of t)a._c.has(f)&&(yield zh(a.localStore,f,!1).then(()=>{ic(a.remoteStore,f),Jd(a,f)}).catch(Jo))}}),qg.apply(this,arguments)}function sd(i){const e=Un(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=kp.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=zg.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Bg.bind(null,e),e.dc.nu=nf.bind(null,e.eventManager),e.dc.Pc=Rv.bind(null,e.eventManager),e}function Zg(i){const e=Un(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Qy.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=id.bind(null,e),e}class rh{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,d.Z)(function*(){t.serializer=Hd(e.databaseInfo.databaseId),t.sharedClientState=t.createSharedClientState(e),t.persistence=t.createPersistence(e),yield t.persistence.start(),t.localStore=t.createLocalStore(e),t.gcScheduler=t.createGarbageCollectionScheduler(e,t.localStore),t.indexBackfillerScheduler=t.createIndexBackfillerScheduler(e,t.localStore)})()}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return Bh(this.persistence,new Gl,e.initialUser,this.serializer)}createPersistence(e){return new dp(Eg.zs,this.serializer)}createSharedClientState(e){return new Hy}terminate(){var e=this;return(0,d.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class hf extends rh{constructor(e,t,a){super(),this.Vc=e,this.cacheSizeBytes=t,this.forceOwnership=a,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,a=this;return(0,d.Z)(function*(){yield t().call(a,e),yield a.Vc.initialize(a,e),yield Zg(a.Vc.syncEngine),yield Ru(a.Vc.remoteStore),yield a.persistence.Ii(()=>(a.gcScheduler&&!a.gcScheduler.started&&a.gcScheduler.start(),a.indexBackfillerScheduler&&!a.indexBackfillerScheduler.started&&a.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(e){return Bh(this.persistence,new Gl,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,t){return new Su(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}createIndexBackfillerScheduler(e,t){const a=new Z(t,this.persistence);return new O(e.asyncQueue,a)}createPersistence(e){const t=Au(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),a=void 0!==this.cacheSizeBytes?Ba.withCacheSize(this.cacheSizeBytes):Ba.DEFAULT;return new wg(this.synchronizeTabs,t,e.clientId,a,e.asyncQueue,Gm(),qh(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new Hy}}class ih extends hf{constructor(e,t){super(e,t,!1),this.Vc=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,a=this;return(0,d.Z)(function*(){yield t().call(a,e);const f=a.Vc.syncEngine;a.sharedClientState instanceof zm&&(a.sharedClientState.syncEngine={jr:Gg.bind(null,f),zr:df.bind(null,f),Wr:Nv.bind(null,f),$i:Bp.bind(null,f),Qr:Wg.bind(null,f)},yield a.sharedClientState.start()),yield a.persistence.Ii(function(){var _=(0,d.Z)(function*(S){yield function ty(i,e){return uf.apply(this,arguments)}(a.Vc.syncEngine,S),a.gcScheduler&&(S&&!a.gcScheduler.started?a.gcScheduler.start():S||a.gcScheduler.stop()),a.indexBackfillerScheduler&&(S&&!a.indexBackfillerScheduler.started?a.indexBackfillerScheduler.start():S||a.indexBackfillerScheduler.stop())});return function(S){return _.apply(this,arguments)}}())})()}createSharedClientState(e){const t=Gm();if(!zm.D(t))throw new qn(Dn.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const a=Au(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new zm(t,e.asyncQueue,a,e.clientId,e.initialUser)}}class sh{initialize(e,t){var a=this;return(0,d.Z)(function*(){a.localStore||(a.localStore=e.localStore,a.sharedClientState=e.sharedClientState,a.datastore=a.createDatastore(t),a.remoteStore=a.createRemoteStore(t),a.eventManager=a.createEventManager(t),a.syncEngine=a.createSyncEngine(t,!e.synchronizeTabs),a.sharedClientState.onlineStateHandler=f=>Jm(a.syncEngine,f,1),a.remoteStore.remoteSyncer.handleCredentialChange=cf.bind(null,a.syncEngine),yield xp(a.remoteStore,a.syncEngine.isPrimaryClient))})()}createEventManager(e){return new Mp}createDatastore(e){const t=Hd(e.databaseInfo.databaseId),a=new Gy(e.databaseInfo);return new Tg(e.authCredentials,e.appCheckCredentials,a,t)}createRemoteStore(e){return t=this.localStore,a=this.datastore,f=e.asyncQueue,_=Y=>Jm(this.syncEngine,Y,0),S=Hm.D()?new Hm:new Yh,new yp(t,a,f,_,S);var t,a,f,_,S}createSyncEngine(e,t){return function(a,f,_,S,Y,ce,Ee){const Ye=new Zl(a,f,_,S,Y,ce);return Ee&&(Ye.vc=!0),Ye}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,d.Z)(function*(t){const a=Un(t);$n("RemoteStore","RemoteStore shutting down."),a.vu.add(5),yield Kd(a),a.Pu.shutdown(),a.bu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function Qg(i,e=10240){let t=0;return{read:()=>(0,d.Z)(function*(){if(t<i.byteLength){const a={value:i.slice(t,t+e),done:!1};return t+=e,a}return{done:!0}})(),cancel:()=>(0,d.Z)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class ff{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):Fi("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class iy{constructor(e,t){this.Cc=e,this.serializer=t,this.metadata=new vs,this.buffer=new Uint8Array,this.xc=new TextDecoder("utf-8"),this.Nc().then(a=>{a&&a.Qu()?this.metadata.resolve(a.Gu.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==a?void 0:a.Gu)}`))},a=>this.metadata.reject(a))}close(){return this.Cc.cancel()}getMetadata(){var e=this;return(0,d.Z)(function*(){return e.metadata.promise})()}bc(){var e=this;return(0,d.Z)(function*(){return yield e.getMetadata(),e.Nc()})()}Nc(){var e=this;return(0,d.Z)(function*(){const t=yield e.kc();if(null===t)return null;const a=e.xc.decode(t),f=Number(a);isNaN(f)&&e.Mc(`length string (${a}) is not valid number`);const _=yield e.$c(f);return new Ol(JSON.parse(_),t.length+f)})()}Oc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}kc(){var e=this;return(0,d.Z)(function*(){for(;e.Oc()<0&&!(yield e.Fc()););if(0===e.buffer.length)return null;const t=e.Oc();t<0&&e.Mc("Reached the end of bundle when a length string is expected.");const a=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),a})()}$c(e){var t=this;return(0,d.Z)(function*(){for(;t.buffer.length<e;)(yield t.Fc())&&t.Mc("Reached the end of bundle when more is expected.");const a=t.xc.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),a})()}Mc(e){throw this.Cc.cancel(),new Error(`Invalid bundle format: ${e}`)}Fc(){var e=this;return(0,d.Z)(function*(){const t=yield e.Cc.read();if(!t.done){const a=new Uint8Array(e.buffer.length+t.value.length);a.set(e.buffer),a.set(t.value,e.buffer.length),e.buffer=a}return t.done})()}}class ev{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,d.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new qn(Dn.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const a=yield(f=(0,d.Z)(function*(_,S){const Y=Un(_),ce=Eu(Y.serializer)+"/documents",Ee={documents:S.map(Vn=>Sh(Y.serializer,Vn))},Ye=yield Y.vo("BatchGetDocuments",ce,Ee,S.length),Mt=new Map;Ye.forEach(Vn=>{const Dr=function Ry(i,e){return"found"in e?function(t,a){Hr(!!a.found);const f=Pc(t,a.found.name),_=xa(a.found.updateTime),S=a.found.createTime?xa(a.found.createTime):Ii.min(),Y=new Uo({mapValue:{fields:a.found.fields}});return _o.newFoundDocument(f,_,S,Y)}(i,e):"missing"in e?function(t,a){Hr(!!a.missing),Hr(!!a.readTime);const f=Pc(t,a.missing),_=xa(a.readTime);return _o.newNoDocument(f,_)}(i,e):_r()}(Y.serializer,Vn);Mt.set(Dr.key.toString(),Dr)});const En=[];return S.forEach(Vn=>{const Dr=Mt.get(Vn.toString());Hr(!!Dr),En.push(Dr)}),En}),function(_,S){return f.apply(this,arguments)})(t.datastore,e);var f;return a.forEach(f=>t.recordVersion(f)),a})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(a){this.lastWriteError=a}this.writtenDocs.add(e.toString())}delete(e){this.write(new _u(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,d.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var a;e.mutations.forEach(a=>{t.delete(a.key.toString())}),t.forEach((a,f)=>{const _=yr.fromPath(f);e.mutations.push(new Cd(_,e.precondition(_)))}),yield(a=(0,d.Z)(function*(f,_){const S=Un(f),Y=Eu(S.serializer)+"/documents",ce={writes:_.map(Ee=>xd(S.serializer,Ee))};yield S.Io("Commit",Y,ce)}),function(f,_){return a.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw _r();t=Ii.min()}const a=this.readVersions.get(e.key.toString());if(a){if(!t.isEqual(a))throw new qn(Dn.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(Ii.min())?pa.exists(!1):pa.updateTime(t):pa.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Ii.min()))throw new qn(Dn.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return pa.updateTime(t)}return pa.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class dl{constructor(e,t,a,f,_){this.asyncQueue=e,this.datastore=t,this.options=a,this.updateFunction=f,this.deferred=_,this.Bc=a.maxAttempts,this.qo=new Zh(this.asyncQueue,"transaction_retry")}run(){this.Bc-=1,this.Lc()}Lc(){var e=this;this.qo.No((0,d.Z)(function*(){const t=new ev(e.datastore),a=e.qc(t);a&&a.then(f=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(f)}).catch(_=>{e.Uc(_)}))}).catch(f=>{e.Uc(f)})}))}qc(e){try{const t=this.updateFunction(e);return!et(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Uc(e){this.Bc>0&&this.Kc(e)?(this.Bc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Lc(),Promise.resolve()))):this.deferred.reject(e)}Kc(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!$f(t)}return!1}}class Jg{constructor(e,t,a,f){var _=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=a,this.databaseInfo=f,this.user=wi.UNAUTHENTICATED,this.clientId=Ll.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(a,function(){var S=(0,d.Z)(function*(Y){$n("FirestoreClient","Received user=",Y.uid),yield _.authCredentialListener(Y),_.user=Y});return function(Y){return S.apply(this,arguments)}}()),this.appCheckCredentials.start(a,S=>($n("FirestoreClient","Received new app check token=",S),this.appCheckCredentialListener(S,this.user)))}getConfiguration(){var e=this;return(0,d.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new qn(Dn.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new vs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,d.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(a){const f=Yl(a,"Failed to shutdown persistence");t.reject(f)}})),t.promise}}function od(i,e){return pf.apply(this,arguments)}function pf(){return pf=(0,d.Z)(function*(i,e){i.asyncQueue.verifyOperationInProgress(),$n("FirestoreClient","Initializing OfflineComponentProvider");const t=yield i.getConfiguration();yield e.initialize(t);let a=t.initialUser;i.setCredentialChangeListener(function(){var f=(0,d.Z)(function*(_){a.isEqual(_)||(yield $h(e.localStore,_),a=_)});return function(_){return f.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>i.terminate()),i._offlineComponents=e}),pf.apply(this,arguments)}function em(i,e){return tm.apply(this,arguments)}function tm(){return tm=(0,d.Z)(function*(i,e){i.asyncQueue.verifyOperationInProgress();const t=yield nm(i);$n("FirestoreClient","Initializing OnlineComponentProvider");const a=yield i.getConfiguration();yield e.initialize(t,a),i.setCredentialChangeListener(f=>Ap(e.remoteStore,f)),i.setAppCheckTokenChangeListener((f,_)=>Ap(e.remoteStore,_)),i._onlineComponents=e}),tm.apply(this,arguments)}function $p(i){return"FirebaseError"===i.name?i.code===Dn.FAILED_PRECONDITION||i.code===Dn.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||22===i.code||20===i.code||11===i.code}function nm(i){return rm.apply(this,arguments)}function rm(){return rm=(0,d.Z)(function*(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){$n("FirestoreClient","Using user provided OfflineComponentProvider");try{yield od(i,i._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!$p(t))throw t;Go("Error using user provided cache. Falling back to memory cache: "+t),yield od(i,new rh)}}else $n("FirestoreClient","Using default OfflineComponentProvider"),yield od(i,new rh);return i._offlineComponents}),rm.apply(this,arguments)}function ad(i){return Vp.apply(this,arguments)}function Vp(){return Vp=(0,d.Z)(function*(i){return i._onlineComponents||(i._uninitializedComponentsProvider?($n("FirestoreClient","Using user provided OnlineComponentProvider"),yield em(i,i._uninitializedComponentsProvider._online)):($n("FirestoreClient","Using default OnlineComponentProvider"),yield em(i,new sh))),i._onlineComponents}),Vp.apply(this,arguments)}function gf(i){return nm(i).then(e=>e.persistence)}function mf(i){return nm(i).then(e=>e.localStore)}function yf(i){return ad(i).then(e=>e.remoteStore)}function kl(i){return ad(i).then(e=>e.syncEngine)}function oh(i){return im.apply(this,arguments)}function im(){return im=(0,d.Z)(function*(i){const e=yield ad(i),t=e.eventManager;return t.onListen=Zy.bind(null,e.syncEngine),t.onUnlisten=Fg.bind(null,e.syncEngine),t}),im.apply(this,arguments)}function ah(i,e,t={}){const a=new vs;return i.asyncQueue.enqueueAndForget((0,d.Z)(function*(){return function(f,_,S,Y,ce){const Ee=new ff({next:Mt=>{_.enqueueAndForget(()=>ku(f,Ye));const En=Mt.docs.has(S);!En&&Mt.fromCache?ce.reject(new qn(Dn.UNAVAILABLE,"Failed to get document because the client is offline.")):En&&Mt.fromCache&&Y&&"server"===Y.source?ce.reject(new qn(Dn.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):ce.resolve(Mt)},error:Mt=>ce.reject(Mt)}),Ye=new Og(Kc(S.path),Ee,{includeMetadataChanges:!0,Ku:!0});return Qd(f,Ye)}(yield oh(i),i.asyncQueue,e,t,a)})),a.promise}function ly(i,e,t={}){const a=new vs;return i.asyncQueue.enqueueAndForget((0,d.Z)(function*(){return function(f,_,S,Y,ce){const Ee=new ff({next:Mt=>{_.enqueueAndForget(()=>ku(f,Ye)),Mt.fromCache&&"server"===Y.source?ce.reject(new qn(Dn.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):ce.resolve(Mt)},error:Mt=>ce.reject(Mt)}),Ye=new Og(S,Ee,{includeMetadataChanges:!0,Ku:!0});return Qd(f,Ye)}(yield oh(i),i.asyncQueue,e,t,a)})),a.promise}function dy(i){const e={};return void 0!==i.timeoutSeconds&&(e.timeoutSeconds=i.timeoutSeconds),e}const hy=new Map;function vf(i,e,t){if(!t)throw new qn(Dn.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function sm(i,e,t,a){if(!0===e&&!0===a)throw new qn(Dn.INVALID_ARGUMENT,`${i} and ${t} cannot be used together.`)}function Nl(i){if(!yr.isDocumentKey(i))throw new qn(Dn.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function cd(i){if(yr.isDocumentKey(i))throw new qn(Dn.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function $a(i){if(void 0===i)return"undefined";if(null===i)return"null";if("string"==typeof i)return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if("number"==typeof i||"boolean"==typeof i)return""+i;if("object"==typeof i){if(i instanceof Array)return"an array";{const e=(t=i).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof i?"a function":_r()}function Ms(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new qn(Dn.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=$a(i);throw new qn(Dn.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return i}function _f(i,e){if(e<=0)throw new qn(Dn.INVALID_ARGUMENT,`Function ${i}() requires a positive number, but it was: ${e}.`)}class Xl{constructor(e){var t,a;if(void 0===e.host){if(void 0!==e.ssl)throw new qn(Dn.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new qn(Dn.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}sm("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=dy(null!==(a=e.experimentalLongPollingOptions)&&void 0!==a?a:{}),function(f){if(void 0!==f.timeoutSeconds){if(isNaN(f.timeoutSeconds))throw new qn(Dn.INVALID_ARGUMENT,`invalid long polling timeout: ${f.timeoutSeconds} (must not be NaN)`);if(f.timeoutSeconds<5)throw new qn(Dn.INVALID_ARGUMENT,`invalid long polling timeout: ${f.timeoutSeconds} (minimum allowed value is 5)`);if(f.timeoutSeconds>30)throw new qn(Dn.INVALID_ARGUMENT,`invalid long polling timeout: ${f.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class ud{constructor(e,t,a,f){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=a,this._app=f,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Xl({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new qn(Dn.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new qn(Dn.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Xl(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new Ha;switch(t.type){case"firstParty":return new ua(t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new qn(Dn.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=hy.get(e);t&&($n("ComponentProvider","Removing Datastore"),hy.delete(e),t.terminate())}(this),Promise.resolve()}}function dd(i,e,t,a={}){var f;const _=(i=Ms(i,ud))._getSettings();if("firestore.googleapis.com"!==_.host&&_.host!==e&&Go("Host has been set in both settings() and useEmulator(), emulator host will be used"),i._setSettings(Object.assign(Object.assign({},_),{host:`${e}:${t}`,ssl:!1})),a.mockUserToken){let S,Y;if("string"==typeof a.mockUserToken)S=a.mockUserToken,Y=wi.MOCK_USER;else{S=(0,Xe.Sg)(a.mockUserToken,null===(f=i._app)||void 0===f?void 0:f.options.projectId);const ce=a.mockUserToken.sub||a.mockUserToken.user_id;if(!ce)throw new qn(Dn.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");Y=new wi(ce)}i._authCredentials=new Ea(new Ma(S,Y))}}class na{constructor(e,t,a){this.converter=t,this._key=a,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new hl(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new na(this.firestore,e,this._key)}}class wa{constructor(e,t,a){this.converter=t,this._query=a,this.type="query",this.firestore=e}withConverter(e){return new wa(this.firestore,e,this._query)}}class hl extends wa{constructor(e,t,a){super(e,t,Kc(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new na(this.firestore,null,new yr(e))}withConverter(e){return new hl(this.firestore,e,this._path)}}function Lu(i,e,...t){if(i=(0,Xe.m9)(i),vf("collection","path",e),i instanceof ud){const a=os.fromString(e,...t);return cd(a),new hl(i,null,a)}{if(!(i instanceof na||i instanceof hl))throw new qn(Dn.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=i._path.child(os.fromString(e,...t));return cd(a),new hl(i.firestore,null,a)}}function hd(i,e){if(i=Ms(i,ud),vf("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new qn(Dn.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new wa(i,null,(t=e,new zl(os.emptyPath(),t)));var t}function fd(i,e,...t){if(i=(0,Xe.m9)(i),1===arguments.length&&(e=Ll.A()),vf("doc","path",e),i instanceof ud){const a=os.fromString(e,...t);return Nl(a),new na(i,null,new yr(a))}{if(!(i instanceof na||i instanceof hl))throw new qn(Dn.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=i._path.child(os.fromString(e,...t));return Nl(a),new na(i.firestore,i instanceof hl?i.converter:null,new yr(a))}}function bf(i,e){return i=(0,Xe.m9)(i),e=(0,Xe.m9)(e),(i instanceof na||i instanceof hl)&&(e instanceof na||e instanceof hl)&&i.firestore===e.firestore&&i.path===e.path&&i.converter===e.converter}function pd(i,e){return i=(0,Xe.m9)(i),e=(0,Xe.m9)(e),i instanceof wa&&e instanceof wa&&i.firestore===e.firestore&&dr(i._query,e._query)&&i.converter===e.converter}class rv{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new Zh(this,"async_queue_retry"),this.Xc=()=>{const t=qh();t&&$n("AsyncQueue","Visibility state changed to "+t.visibilityState),this.qo.Mo()};const e=qh();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const t=qh();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const t=new vs;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}ea(){var e=this;return(0,d.Z)(function*(){if(0!==e.Qc.length){try{yield e.Qc[0](),e.Qc.shift(),e.qo.reset()}catch(t){if(!ea(t))throw t;$n("AsyncQueue","Operation failed with retryable error: "+t)}e.Qc.length>0&&e.qo.No(()=>e.ea())}})()}ta(e){const t=this.Gc.then(()=>(this.Hc=!0,e().catch(a=>{throw this.Wc=a,this.Hc=!1,Fi("INTERNAL UNHANDLED ERROR: ",function(_){let S=_.message||"";return _.stack&&(S=_.stack.includes(_.message)?_.stack:_.message+"\n"+_.stack),S}(a)),a}).then(a=>(this.Hc=!1,a))));return this.Gc=t,t}enqueueAfterDelay(e,t,a){this.Zc(),this.Yc.indexOf(e)>-1&&(t=0);const f=ef.createAndSchedule(this,e,t,a,_=>this.na(_));return this.zc.push(f),f}Zc(){this.Wc&&_r()}verifyOperationInProgress(){}sa(){var e=this;return(0,d.Z)(function*(){let t;do{t=e.Gc,yield t}while(t!==e.Gc)})()}ia(e){for(const t of this.zc)if(t.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((t,a)=>t.targetTimeMs-a.targetTimeMs);for(const t of this.zc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const t=this.zc.indexOf(e);this.zc.splice(t,1)}}function Ef(i){return function(e,t){if("object"!=typeof e||null===e)return!1;const a=e;for(const f of["next","error","complete"])if(f in a&&"function"==typeof a[f])return!0;return!1}(i)}class fy{constructor(){this._progressObserver={},this._taskCompletionResolver=new vs,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,a){this._progressObserver={next:e,error:t,complete:a}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}const py=-1;class ra extends ud{constructor(e,t,a,f){super(e,t,a,f),this.type="firestore",this._queue=new rv,this._persistenceKey=(null==f?void 0:f.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||om(this),this._firestoreClient.terminate()}}function gy(i,e){const t="object"==typeof i?i:(0,v.getApp)(),a="string"==typeof i?i:e||"(default)",f=(0,v._getProvider)(t,"firestore").getImmediate({identifier:a});if(!f._initialized){const _=(0,Xe.P0)("firestore");_&&dd(f,..._)}return f}function Ia(i){return i._firestoreClient||om(i),i._firestoreClient.verifyNotTerminated(),i._firestoreClient}function om(i){var e,t,a;const f=i._freezeSettings(),_=(Y=(null===(e=i._app)||void 0===e?void 0:e.options.appId)||"",new Af(i._databaseId,Y,i._persistenceKey,(Ee=f).host,Ee.ssl,Ee.experimentalForceLongPolling,Ee.experimentalAutoDetectLongPolling,dy(Ee.experimentalLongPollingOptions),Ee.useFetchStreams));var Y,Ee;i._firestoreClient=new Jg(i._authCredentials,i._appCheckCredentials,i._queue,_),null!==(t=f.cache)&&void 0!==t&&t._offlineComponentProvider&&null!==(a=f.cache)&&void 0!==a&&a._onlineComponentProvider&&(i._firestoreClient._uninitializedComponentsProvider={_offlineKind:f.cache.kind,_offline:f.cache._offlineComponentProvider,_online:f.cache._onlineComponentProvider})}function u(i,e){$t(i=Ms(i,ra));const t=Ia(i);if(t._uninitializedComponentsProvider)throw new qn(Dn.FAILED_PRECONDITION,"SDK cache is already specified.");Go("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const a=i._freezeSettings(),f=new sh;return l(t,f,new hf(f,a.cacheSizeBytes,null==e?void 0:e.forceOwnership))}function s(i){$t(i=Ms(i,ra));const e=Ia(i);if(e._uninitializedComponentsProvider)throw new qn(Dn.FAILED_PRECONDITION,"SDK cache is already specified.");Go("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const t=i._freezeSettings(),a=new sh;return l(e,a,new ih(a,t.cacheSizeBytes))}function l(i,e,t){const a=new vs;return i.asyncQueue.enqueue((0,d.Z)(function*(){try{yield od(i,t),yield em(i,e),a.resolve()}catch(f){const _=f;if(!$p(_))throw _;Go("Error enabling indexeddb cache. Falling back to memory cache: "+_),a.reject(_)}})).then(()=>a.promise)}function p(i){if(i._initialized&&!i._terminated)throw new qn(Dn.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new vs;return i._queue.enqueueAndForgetEvenWhileRestricted((0,d.Z)(function*(){try{yield(t=(0,d.Z)(function*(a){if(!ha.D())return Promise.resolve();const f=a+"main";yield ha.delete(f)}),function(a){return t.apply(this,arguments)})(Au(i._databaseId,i._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}function E(i){return function(e){const t=new vs;return e.asyncQueue.enqueueAndForget((0,d.Z)(function*(){return function oc(i,e){return Fu.apply(this,arguments)}(yield kl(e),t)})),t.promise}(Ia(i=Ms(i,ra)))}function P(i){return function sy(i){return i.asyncQueue.enqueue((0,d.Z)(function*(){const e=yield gf(i),t=yield yf(i);return e.setNetworkEnabled(!0),function(a){const f=Un(a);return f.vu.delete(0),Mu(f)}(t)}))}(Ia(i=Ms(i,ra)))}function z(i){return function tv(i){return i.asyncQueue.enqueue((0,d.Z)(function*(){const e=yield gf(i),t=yield yf(i);return e.setNetworkEnabled(!1),(a=(0,d.Z)(function*(f){const _=Un(f);_.vu.add(0),yield Kd(_),_.bu.set("Offline")}),function(f){return a.apply(this,arguments)})(t);var a}))}(Ia(i=Ms(i,ra)))}function we(i,e){const t=Ia(i=Ms(i,ra)),a=new fy;return function uy(i,e,t,a){const f=function(_,S){let Y;return Y="string"==typeof _?vm().encode(_):_,ce=function(ce,Ee){if(ce instanceof Uint8Array)return Qg(ce,void 0);if(ce instanceof ArrayBuffer)return Qg(new Uint8Array(ce),void 0);if(ce instanceof ReadableStream)return ce.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(Y),new iy(ce,S);var ce}(t,Hd(e));i.asyncQueue.enqueueAndForget((0,d.Z)(function*(){!function Jy(i,e,t){const a=Un(i);var f;(f=(0,d.Z)(function*(_,S,Y){try{const ce=yield S.getMetadata();if(yield function(En,Vn){const Dr=Un(En),ci=xa(Vn.createTime);return Dr.persistence.runTransaction("hasNewerBundle","readonly",bi=>Dr.qs.getBundleMetadata(bi,Vn.id)).then(bi=>!!bi&&bi.createTime.compareTo(ci)>=0)}(_.localStore,ce))return yield S.close(),Y._completeWith({taskState:"Success",documentsLoaded:(En=ce).totalDocuments,bytesLoaded:En.totalBytes,totalDocuments:En.totalDocuments,totalBytes:En.totalBytes}),Promise.resolve(new Set);Y._updateProgress(Yy(ce));const Ee=new Ov(ce,_.localStore,S.serializer);let Ye=yield S.bc();for(;Ye;){const En=yield Ee.zu(Ye);En&&Y._updateProgress(En),Ye=yield S.bc()}const Mt=yield Ee.complete();return yield Ec(_,Mt.Ju,void 0),yield function(En,Vn){const Dr=Un(En);return Dr.persistence.runTransaction("Save bundle","readwrite",ci=>Dr.qs.saveBundleMetadata(ci,Vn))}(_.localStore,ce),Y._completeWith(Mt.progress),Promise.resolve(Mt.Hu)}catch(ce){return Go("SyncEngine",`Loading bundle failed with ${ce}`),Y._failWith(ce),Promise.resolve(new Set)}var En}),function(_,S,Y){return f.apply(this,arguments)})(a,e,t).then(f=>{a.sharedClientState.notifyBundleLoaded(f)})}(yield kl(i),f,a)}))}(t,i._databaseId,e,a),a}function Ve(i,e){return function nv(i,e){return i.asyncQueue.enqueue((0,d.Z)(function*(){return function(t,a){const f=Un(t);return f.persistence.runTransaction("Get named query","readonly",_=>f.qs.getNamedQuery(_,a))}(yield mf(i),e)}))}(Ia(i=Ms(i,ra)),e).then(t=>t?new wa(i,null,t.query):null)}function $t(i){if(i._initialized||i._terminated)throw new qn(Dn.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Rn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Rn(Mo.fromBase64String(e))}catch(t){throw new qn(Dn.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Rn(Mo.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class jn{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new qn(Dn.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ps(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class fi{constructor(e){this._methodName=e}}class ts{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new qn(Dn.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new qn(Dn.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ui(this._lat,e._lat)||Ui(this._long,e._long)}}const Eo=/^__.*__$/;class Ca{constructor(e,t,a){this.data=e,this.fieldMask=t,this.fieldTransforms=a}toMutation(e,t){return null!==this.fieldMask?new yc(e,this.data,this.fieldMask,t,this.fieldTransforms):new Zc(e,this.data,t,this.fieldTransforms)}}class ca{constructor(e,t,a){this.data=e,this.fieldMask=t,this.fieldTransforms=a}toMutation(e,t){return new yc(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function Bu(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw _r()}}class wc{constructor(e,t,a,f,_,S){this.settings=e,this.databaseId=t,this.serializer=a,this.ignoreUndefinedProperties=f,void 0===_&&this.ua(),this.fieldTransforms=_||[],this.fieldMask=S||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new wc(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var t;const a=null===(t=this.path)||void 0===t?void 0:t.child(e),f=this.aa({path:a,la:!1});return f.fa(e),f}da(e){var t;const a=null===(t=this.path)||void 0===t?void 0:t.child(e),f=this.aa({path:a,la:!1});return f.ua(),f}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return Cf(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if(Bu(this.ca)&&Eo.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class Fl{constructor(e,t,a){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=a||Hd(e)}ya(e,t,a,f=!1){return new wc({ca:e,methodName:t,ga:a,path:ps.emptyPath(),la:!1,ma:f},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Za(i){const e=i._freezeSettings(),t=Hd(i._databaseId);return new Fl(i._databaseId,!!e.ignoreUndefinedProperties,t)}function ru(i,e,t,a,f,_={}){const S=i.ya(_.merge||_.mergeFields?2:0,e,t,f);fl("Data must be an object, but it was:",S,a);const Y=ma(a,S);let ce,Ee;if(_.merge)ce=new Gs(S.fieldMask),Ee=S.fieldTransforms;else if(_.mergeFields){const Ye=[];for(const Mt of _.mergeFields){const En=lc(e,Mt,t);if(!S.contains(En))throw new qn(Dn.INVALID_ARGUMENT,`Field '${En}' is specified in your field mask but missing from your input data.`);Va(Ye,En)||Ye.push(En)}ce=new Gs(Ye),Ee=S.fieldTransforms.filter(Mt=>ce.covers(Mt.field))}else ce=null,Ee=S.fieldTransforms;return new Ca(new Uo(Y),ce,Ee)}class Xa extends fi{_toFieldTransform(e){if(2!==e.ca)throw e._a(1===e.ca?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Xa}}function iu(i,e,t){return new wc({ca:3,ga:e.settings.ga,methodName:i._methodName,la:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class lh extends fi{_toFieldTransform(e){return new _h(e.path,new ta)}isEqual(e){return e instanceof lh}}class wf extends fi{constructor(e,t){super(e),this.pa=t}_toFieldTransform(e){const t=iu(this,e,!0),a=this.pa.map(_=>Ps(_,t)),f=new rc(a);return new _h(e.path,f)}isEqual(e){return this===e}}class ch extends fi{constructor(e,t){super(e),this.pa=t}_toFieldTransform(e){const t=iu(this,e,!0),a=this.pa.map(_=>Ps(_,t)),f=new xl(a);return new _h(e.path,f)}isEqual(e){return this===e}}class jp extends fi{constructor(e,t){super(e),this.Ia=t}_toFieldTransform(e){const t=new Yu(e.serializer,El(e.serializer,this.Ia));return new _h(e.path,t)}isEqual(e){return this===e}}function Pi(i,e,t,a){const f=i.ya(1,e,t);fl("Data must be an object, but it was:",f,a);const _=[],S=Uo.empty();Ci(a,(ce,Ee)=>{const Ye=If(e,ce,t);Ee=(0,Xe.m9)(Ee);const Mt=f.da(Ye);if(Ee instanceof Xa)_.push(Ye);else{const En=Ps(Ee,Mt);null!=En&&(_.push(Ye),S.set(Ye,En))}});const Y=new Gs(_);return new ca(S,Y,f.fieldTransforms)}function ji(i,e,t,a,f,_){const S=i.ya(1,e,t),Y=[lc(e,a,t)],ce=[f];if(_.length%2!=0)throw new qn(Dn.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let En=0;En<_.length;En+=2)Y.push(lc(e,_[En])),ce.push(_[En+1]);const Ee=[],Ye=Uo.empty();for(let En=Y.length-1;En>=0;--En)if(!Va(Ee,Y[En])){const Vn=Y[En];let Dr=ce[En];Dr=(0,Xe.m9)(Dr);const ci=S.da(Vn);if(Dr instanceof Xa)Ee.push(Vn);else{const bi=Ps(Dr,ci);null!=bi&&(Ee.push(Vn),Ye.set(Vn,bi))}}const Mt=new Gs(Ee);return new ca(Ye,Mt,S.fieldTransforms)}function Xi(i,e,t,a=!1){return Ps(t,i.ya(a?4:3,e))}function Ps(i,e){if(ac(i=(0,Xe.m9)(i)))return fl("Unsupported field value:",e,i),ma(i,e);if(i instanceof fi)return function(t,a){if(!Bu(a.ca))throw a._a(`${t._methodName}() can only be used with update() and set()`);if(!a.path)throw a._a(`${t._methodName}() is not currently supported inside arrays`);const f=t._toFieldTransform(a);f&&a.fieldTransforms.push(f)}(i,e),null;if(void 0===i&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.la&&4!==e.ca)throw e._a("Nested arrays are not supported");return function(t,a){const f=[];let _=0;for(const S of t){let Y=Ps(S,a.wa(_));null==Y&&(Y={nullValue:"NULL_VALUE"}),f.push(Y),_++}return{arrayValue:{values:f}}}(i,e)}return function(t,a){if(null===(t=(0,Xe.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return El(a.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const f=yo.fromDate(t);return{timestampValue:Td(a.serializer,f)}}if(t instanceof yo){const f=new yo(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Td(a.serializer,f)}}if(t instanceof ts)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Rn)return{bytesValue:Ch(a.serializer,t._byteString)};if(t instanceof na){const f=a.databaseId,_=t.firestore._databaseId;if(!_.isEqual(f))throw a._a(`Document reference is for database ${_.projectId}/${_.database} but should be for database ${f.projectId}/${f.database}`);return{referenceValue:Gf(t.firestore._databaseId||a.databaseId,t._key.path)}}throw a._a(`Unsupported field value: ${$a(t)}`)}(i,e)}function ma(i,e){const t={};return Zi(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ci(i,(a,f)=>{const _=Ps(f,e.ha(a));null!=_&&(t[a]=_)}),{mapValue:{fields:t}}}function ac(i){return!("object"!=typeof i||null===i||i instanceof Array||i instanceof Date||i instanceof yo||i instanceof ts||i instanceof Rn||i instanceof na||i instanceof fi)}function fl(i,e,t){if(!ac(t)||"object"!=typeof(a=t)||null===a||Object.getPrototypeOf(a)!==Object.prototype&&null!==Object.getPrototypeOf(a)){const a=$a(t);throw e._a("an object"===a?i+" a custom object":i+" "+a)}var a}function lc(i,e,t){if((e=(0,Xe.m9)(e))instanceof jn)return e._internalPath;if("string"==typeof e)return If(i,e);throw Cf("Field path arguments must be of type string or ",i,!1,void 0,t)}const _a=new RegExp("[~\\*/\\[\\]]");function If(i,e,t){if(e.search(_a)>=0)throw Cf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,t);try{return new jn(...e.split("."))._internalPath}catch{throw Cf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,t)}}function Cf(i,e,t,a,f){const _=a&&!a.isEmpty(),S=void 0!==f;let Y=`Function ${e}() called with invalid data`;t&&(Y+=" (via `toFirestore()`)"),Y+=". ";let ce="";return(_||S)&&(ce+=" (found",_&&(ce+=` in field ${a}`),S&&(ce+=` in document ${f}`),ce+=")"),new qn(Dn.INVALID_ARGUMENT,Y+i+ce)}function Va(i,e){return i.some(t=>t.isEqual(e))}class Ql{constructor(e,t,a,f,_){this._firestore=e,this._userDataWriter=t,this._key=a,this._document=f,this._converter=_}get id(){return this._key.path.lastSegment()}get ref(){return new na(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new cc(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Fc("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class cc extends Ql{data(){return super.data()}}function Fc(i,e){return"string"==typeof e?If(i,e):e instanceof jn?e._internalPath:e._delegate._internalPath}function gd(i){if("L"===i.limitType&&0===i.explicitOrderBy.length)throw new qn(Dn.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class am{}class zp extends am{}function p_(i,e,...t){let a=[];e instanceof am&&a.push(e),a=a.concat(t),function(f){const _=f.filter(Y=>Y instanceof uh).length,S=f.filter(Y=>Y instanceof lm).length;if(_>1||_>0&&S>0)throw new qn(Dn.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(a);for(const f of a)i=f._apply(i);return i}class lm extends zp{constructor(e,t,a){super(),this._field=e,this._op=t,this._value=a,this.type="where"}static _create(e,t,a){return new lm(e,t,a)}_apply(e){const t=this._parse(e);return cv(e._query,t),new wa(e.firestore,e.converter,an(e._query,t))}_parse(e){const t=Za(e.firestore);return function(f,_,S,Y,ce,Ee,Ye){let Mt;if(ce.isKeyField()){if("array-contains"===Ee||"array-contains-any"===Ee)throw new qn(Dn.INVALID_ARGUMENT,`Invalid Query. You can't perform '${Ee}' queries on documentId().`);if("in"===Ee||"not-in"===Ee){jv(Ye,Ee);const En=[];for(const Vn of Ye)En.push(lv(Y,f,Vn));Mt={arrayValue:{values:En}}}else Mt=lv(Y,f,Ye)}else"in"!==Ee&&"not-in"!==Ee&&"array-contains-any"!==Ee||jv(Ye,Ee),Mt=Xi(S,"where",Ye,"in"===Ee||"not-in"===Ee);return Ks.create(ce,Ee,Mt)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}function g_(i,e,t){const a=e,f=Fc("where",i);return lm._create(f,a,t)}class uh extends am{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new uh(e,t)}_parse(e){const t=this._queryConstraints.map(a=>a._parse(e)).filter(a=>a.getFilters().length>0);return 1===t.length?t[0]:Po.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(a,f){let _=a;const S=f.getFlattenedFilters();for(const Y of S)cv(_,Y),_=an(_,Y)}(e._query,t),new wa(e.firestore,e.converter,an(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class my extends zp{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new my(e,t)}_apply(e){const t=function(a,f,_){if(null!==a.startAt)throw new qn(Dn.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==a.endAt)throw new qn(Dn.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const S=new tl(f,_);return function(Y,ce){if(null===C(Y)){const Ee=A(Y);null!==Ee&&uv(0,Ee,ce.field)}}(a,S),S}(e._query,this._field,this._direction);return new wa(e.firestore,e.converter,function(a,f){const _=a.explicitOrderBy.concat([f]);return new zl(a.path,a.collectionGroup,_,a.filters.slice(),a.limit,a.limitType,a.startAt,a.endAt)}(e._query,t))}}function m_(i,e="asc"){const t=e,a=Fc("orderBy",i);return my._create(a,t)}class yy extends zp{constructor(e,t,a){super(),this.type=e,this._limit=t,this._limitType=a}static _create(e,t,a){return new yy(e,t,a)}_apply(e){return new wa(e.firestore,e.converter,xn(e._query,this._limit,this._limitType))}}function Bv(i){return _f("limit",i),yy._create("limit",i,"F")}function sv(i){return _f("limitToLast",i),yy._create("limitToLast",i,"L")}class cm extends zp{constructor(e,t,a){super(),this.type=e,this._docOrFields=t,this._inclusive=a}static _create(e,t,a){return new cm(e,t,a)}_apply(e){const t=av(e,this.type,this._docOrFields,this._inclusive);return new wa(e.firestore,e.converter,(f=t,new zl((a=e._query).path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),a.limit,a.limitType,f,a.endAt)));var a,f}}function ov(...i){return cm._create("startAt",i,!0)}function $v(...i){return cm._create("startAfter",i,!1)}class vy extends zp{constructor(e,t,a){super(),this.type=e,this._docOrFields=t,this._inclusive=a}static _create(e,t,a){return new vy(e,t,a)}_apply(e){const t=av(e,this.type,this._docOrFields,this._inclusive);return new wa(e.firestore,e.converter,(f=t,new zl((a=e._query).path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),a.limit,a.limitType,a.startAt,f)));var a,f}}function Vv(...i){return vy._create("endBefore",i,!1)}function Uv(...i){return vy._create("endAt",i,!0)}function av(i,e,t,a){if(t[0]=(0,Xe.m9)(t[0]),t[0]instanceof Ql)return function(f,_,S,Y,ce){if(!Y)throw new qn(Dn.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${S}().`);const Ee=[];for(const Ye of Ie(f))if(Ye.field.isKeyField())Ee.push(Jl(_,Y.key));else{const Mt=Y.data.field(Ye.field);if(Vl(Mt))throw new qn(Dn.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+Ye.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===Mt){const En=Ye.field.canonicalString();throw new qn(Dn.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${En}' (used as the orderBy) does not exist.`)}Ee.push(Mt)}return new ec(Ee,ce)}(i._query,i.firestore._databaseId,e,t[0]._document,a);{const f=Za(i.firestore);return function(_,S,Y,ce,Ee,Ye){const Mt=_.explicitOrderBy;if(Ee.length>Mt.length)throw new qn(Dn.INVALID_ARGUMENT,`Too many arguments provided to ${ce}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const En=[];for(let Vn=0;Vn<Ee.length;Vn++){const Dr=Ee[Vn];if(Mt[Vn].field.isKeyField()){if("string"!=typeof Dr)throw new qn(Dn.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${ce}(), but got a ${typeof Dr}`);if(!K(_)&&-1!==Dr.indexOf("/"))throw new qn(Dn.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${ce}() must be a plain document ID, but '${Dr}' contains a slash.`);const ci=_.path.child(os.fromString(Dr));if(!yr.isDocumentKey(ci))throw new qn(Dn.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${ce}() must result in a valid document path, but '${ci}' is not because it contains an odd number of segments.`);const bi=new yr(ci);En.push(Jl(S,bi))}else{const ci=Xi(Y,ce,Dr);En.push(ci)}}return new ec(En,Ye)}(i._query,i.firestore._databaseId,f,e,t,a)}}function lv(i,e,t){if("string"==typeof(t=(0,Xe.m9)(t))){if(""===t)throw new qn(Dn.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!K(e)&&-1!==t.indexOf("/"))throw new qn(Dn.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const a=e.path.child(os.fromString(t));if(!yr.isDocumentKey(a))throw new qn(Dn.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${a}' is not because it has an odd number of segments (${a.length}).`);return Jl(i,new yr(a))}if(t instanceof na)return Jl(i,t._key);throw new qn(Dn.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${$a(t)}.`)}function jv(i,e){if(!Array.isArray(i)||0===i.length)throw new qn(Dn.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function cv(i,e){if(e.isInequality()){const a=A(i),f=e.field;if(null!==a&&!a.isEqual(f))throw new qn(Dn.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${a.toString()}' and '${f.toString()}'`);const _=C(i);null!==_&&uv(0,f,_)}const t=function(a,f){for(const _ of a)for(const S of _.getFlattenedFilters())if(f.indexOf(S.op)>=0)return S.op;return null}(i.filters,function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new qn(Dn.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function uv(i,e,t){if(!t.isEqual(e))throw new qn(Dn.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class um{convertValue(e,t="none"){switch(Dc(e)){case 0:return null;case 1:return e.booleanValue;case 2:return co(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(ia(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw _r()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const a={};return Ci(e,(f,_)=>{a[f]=this.convertValue(_,t)}),a}convertGeoPoint(e){return new ts(co(e.latitude),co(e.longitude))}convertArray(e,t){return(e.values||[]).map(a=>this.convertValue(a,t))}convertServerTimestamp(e,t){switch(t){case"previous":const a=Ra(e);return null==a?null:this.convertValue(a,t);case"estimate":return this.convertTimestamp(Sl(e));default:return null}}convertTimestamp(e){const t=fa(e);return new yo(t.seconds,t.nanos)}convertDocumentKey(e,t){const a=os.fromString(e);Hr(Xc(a));const f=new pc(a.get(1),a.get(3)),_=new yr(a.popFirst(5));return f.isEqual(t)||Fi(`Document ${_} contains a document reference within a different database (${f.projectId}/${f.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),_}}function dm(i,e,t){let a;return a=i?t&&(t.merge||t.mergeFields)?i.toFirestore(e,t):i.toFirestore(e):e,a}class zv extends um{constructor(e){super(),this.firestore=e}convertBytes(e){return new Rn(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new na(this.firestore,null,t)}}class dh{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class $u extends Ql{constructor(e,t,a,f,_,S){super(e,t,a,f,S),this._firestore=e,this._firestoreImpl=e,this.metadata=_}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Lc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const a=this._document.data.field(Fc("DocumentSnapshot.get",e));if(null!==a)return this._userDataWriter.convertValue(a,t.serverTimestamps)}}}class Lc extends $u{data(e={}){return super.data(e)}}class Df{constructor(e,t,a,f){this._firestore=e,this._userDataWriter=t,this._snapshot=f,this.metadata=new dh(f.hasPendingWrites,f.fromCache),this.query=a}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(a=>{e.call(t,new Lc(this._firestore,this._userDataWriter,a.key,a,new dh(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new qn(Dn.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(a,f){if(a._snapshot.oldDocs.isEmpty()){let _=0;return a._snapshot.docChanges.map(S=>({type:"added",doc:new Lc(a._firestore,a._userDataWriter,S.doc.key,S.doc,new dh(a._snapshot.mutatedKeys.has(S.doc.key),a._snapshot.fromCache),a.query.converter),oldIndex:-1,newIndex:_++}))}{let _=a._snapshot.oldDocs;return a._snapshot.docChanges.filter(S=>f||3!==S.type).map(S=>{const Y=new Lc(a._firestore,a._userDataWriter,S.doc.key,S.doc,new dh(a._snapshot.mutatedKeys.has(S.doc.key),a._snapshot.fromCache),a.query.converter);let ce=-1,Ee=-1;return 0!==S.type&&(ce=_.indexOf(S.doc.key),_=_.delete(S.doc.key)),1!==S.type&&(_=_.add(S.doc),Ee=_.indexOf(S.doc.key)),{type:E_(S.type),doc:Y,oldIndex:ce,newIndex:Ee}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function E_(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return _r()}}function dv(i,e){return i instanceof $u&&e instanceof $u?i._firestore===e._firestore&&i._key.isEqual(e._key)&&(null===i._document?null===e._document:i._document.isEqual(e._document))&&i._converter===e._converter:i instanceof Df&&e instanceof Df&&i._firestore===e._firestore&&pd(i.query,e.query)&&i.metadata.isEqual(e.metadata)&&i._snapshot.isEqual(e._snapshot)}function Sf(i){i=Ms(i,na);const e=Ms(i.firestore,ra);return ah(Ia(e),i._key).then(t=>by(e,i,t))}class Vu extends um{constructor(e){super(),this.firestore=e}convertBytes(e){return new Rn(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new na(this.firestore,null,t)}}function w_(i){i=Ms(i,na);const e=Ms(i.firestore,ra),t=Ia(e),a=new Vu(e);return function oy(i,e){const t=new vs;return i.asyncQueue.enqueueAndForget((0,d.Z)(function*(){return(a=(0,d.Z)(function*(f,_,S){try{const Y=yield function(ce,Ee){const Ye=Un(ce);return Ye.persistence.runTransaction("read document","readonly",Mt=>Ye.localDocuments.getDocument(Mt,Ee))}(f,_);Y.isFoundDocument()?S.resolve(Y):Y.isNoDocument()?S.resolve(null):S.reject(new qn(Dn.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(Y){const ce=Yl(Y,`Failed to get document '${_} from cache`);S.reject(ce)}}),function(f,_,S){return a.apply(this,arguments)})(yield mf(i),e,t);var a})),t.promise}(t,i._key).then(f=>new $u(e,a,i._key,f,new dh(null!==f&&f.hasLocalMutations,!0),i.converter))}function hv(i){i=Ms(i,na);const e=Ms(i.firestore,ra);return ah(Ia(e),i._key,{source:"server"}).then(t=>by(e,i,t))}function I0(i){i=Ms(i,wa);const e=Ms(i.firestore,ra),t=Ia(e),a=new Vu(e);return gd(i._query),ly(t,i._query).then(f=>new Df(e,a,i,f))}function C0(i){i=Ms(i,wa);const e=Ms(i.firestore,ra),t=Ia(e),a=new Vu(e);return function ay(i,e){const t=new vs;return i.asyncQueue.enqueueAndForget((0,d.Z)(function*(){return(a=(0,d.Z)(function*(f,_,S){try{const Y=yield fp(f,_,!0),ce=new Qm(_,Y.ir),Ee=ce.sc(Y.documents),Ye=ce.applyChanges(Ee,!1);S.resolve(Ye.snapshot)}catch(Y){const ce=Yl(Y,`Failed to execute query '${_} against cache`);S.reject(ce)}}),function(f,_,S){return a.apply(this,arguments)})(yield mf(i),e,t);var a})),t.promise}(t,i._query).then(f=>new Df(e,a,i,f))}function I_(i){i=Ms(i,wa);const e=Ms(i.firestore,ra),t=Ia(e),a=new Vu(e);return ly(t,i._query,{source:"server"}).then(f=>new Df(e,a,i,f))}function C_(i,e,t){i=Ms(i,na);const a=Ms(i.firestore,ra),f=dm(i.converter,e,t);return Hp(a,[ru(Za(a),"setDoc",i._key,f,null!==i.converter,t).toMutation(i._key,pa.none())])}function Wv(i,e,t,...a){i=Ms(i,na);const f=Ms(i.firestore,ra),_=Za(f);let S;return S="string"==typeof(e=(0,Xe.m9)(e))||e instanceof jn?ji(_,"updateDoc",i._key,e,t,a):Pi(_,"updateDoc",i._key,e),Hp(f,[S.toMutation(i._key,pa.exists(!0))])}function D_(i){return Hp(Ms(i.firestore,ra),[new _u(i._key,pa.none())])}function il(i,e){const t=Ms(i.firestore,ra),a=fd(i),f=dm(i.converter,e);return Hp(t,[ru(Za(i.firestore),"addDoc",a._key,f,null!==i.converter,{}).toMutation(a._key,pa.exists(!1))]).then(()=>a)}function Gv(i,...e){var t,a,f;i=(0,Xe.m9)(i);let _={includeMetadataChanges:!1},S=0;"object"!=typeof e[S]||Ef(e[S])||(_=e[S],S++);const Y={includeMetadataChanges:_.includeMetadataChanges};if(Ef(e[S])){const Mt=e[S];e[S]=null===(t=Mt.next)||void 0===t?void 0:t.bind(Mt),e[S+1]=null===(a=Mt.error)||void 0===a?void 0:a.bind(Mt),e[S+2]=null===(f=Mt.complete)||void 0===f?void 0:f.bind(Mt)}let ce,Ee,Ye;if(i instanceof na)Ee=Ms(i.firestore,ra),Ye=Kc(i._key.path),ce={next:Mt=>{e[S]&&e[S](by(Ee,i,Mt))},error:e[S+1],complete:e[S+2]};else{const Mt=Ms(i,wa);Ee=Ms(Mt.firestore,ra),Ye=Mt._query;const En=new Vu(Ee);ce={next:Vn=>{e[S]&&e[S](new Df(Ee,En,Mt,Vn))},error:e[S+1],complete:e[S+2]},gd(i._query)}return function(Mt,En,Vn,Dr){const ci=new ff(Dr),bi=new Og(En,ci,Vn);return Mt.asyncQueue.enqueueAndForget((0,d.Z)(function*(){return Qd(yield oh(Mt),bi)})),()=>{ci.Dc(),Mt.asyncQueue.enqueueAndForget((0,d.Z)(function*(){return ku(yield oh(Mt),bi)}))}}(Ia(Ee),Ye,Y,ce)}function S_(i,e){return function cy(i,e){const t=new ff(e);return i.asyncQueue.enqueueAndForget((0,d.Z)(function*(){return a=yield oh(i),f=t,Un(a).ku.add(f),void f.next();var a,f})),()=>{t.Dc(),i.asyncQueue.enqueueAndForget((0,d.Z)(function*(){return a=yield oh(i),f=t,void Un(a).ku.delete(f);var a,f}))}}(Ia(i=Ms(i,ra)),Ef(e)?e:{next:e})}function Hp(i,e){return function(t,a){const f=new vs;return t.asyncQueue.enqueueAndForget((0,d.Z)(function*(){return function Xy(i,e,t){return sf.apply(this,arguments)}(yield kl(t),a,f)})),f.promise}(Ia(i),e)}function by(i,e,t){const a=t.docs.get(e._key),f=new Vu(i);return new $u(i,f,e._key,a,new dh(t.hasPendingWrites,t.fromCache),e.converter)}const P_={maxAttempts:5};class su{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Za(e)}set(e,t,a){this._verifyNotCommitted();const f=pl(e,this._firestore),_=dm(f.converter,t,a),S=ru(this._dataReader,"WriteBatch.set",f._key,_,null!==f.converter,a);return this._mutations.push(S.toMutation(f._key,pa.none())),this}update(e,t,a,...f){this._verifyNotCommitted();const _=pl(e,this._firestore);let S;return S="string"==typeof(t=(0,Xe.m9)(t))||t instanceof jn?ji(this._dataReader,"WriteBatch.update",_._key,t,a,f):Pi(this._dataReader,"WriteBatch.update",_._key,t),this._mutations.push(S.toMutation(_._key,pa.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=pl(e,this._firestore);return this._mutations=this._mutations.concat(new _u(t._key,pa.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new qn(Dn.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function pl(i,e){if((i=(0,Xe.m9)(i)).firestore!==e)throw new qn(Dn.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return i}class ou extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=Za(e)}get(e){const t=pl(e,this._firestore),a=new zv(this._firestore);return this._transaction.lookup([t._key]).then(f=>{if(!f||1!==f.length)return _r();const _=f[0];if(_.isFoundDocument())return new Ql(this._firestore,a,_.key,_,t.converter);if(_.isNoDocument())return new Ql(this._firestore,a,t._key,null,t.converter);throw _r()})}set(e,t,a){const f=pl(e,this._firestore),_=dm(f.converter,t,a),S=ru(this._dataReader,"Transaction.set",f._key,_,null!==f.converter,a);return this._transaction.set(f._key,S),this}update(e,t,a,...f){const _=pl(e,this._firestore);let S;return S="string"==typeof(t=(0,Xe.m9)(t))||t instanceof jn?ji(this._dataReader,"Transaction.update",_._key,t,a,f):Pi(this._dataReader,"Transaction.update",_._key,t),this._transaction.update(_._key,S),this}delete(e){const t=pl(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=pl(e,this._firestore),a=new Vu(this._firestore);return super.get(e).then(f=>new $u(this._firestore,a,t._key,f._document,new dh(!1,!1),t.converter))}}function Zv(i,e,t){i=Ms(i,ra);const a=Object.assign(Object.assign({},P_),t);return function(f){if(f.maxAttempts<1)throw new qn(Dn.INVALID_ARGUMENT,"Max attempts must be at least 1")}(a),function(f,_,S){const Y=new vs;return f.asyncQueue.enqueueAndForget((0,d.Z)(function*(){const ce=yield function ld(i){return ad(i).then(e=>e.datastore)}(f);new dl(f.asyncQueue,ce,S,_,Y).run()})),Y.promise}(Ia(i),f=>e(new ou(i,f)),a)}function Xv(){return new Xa("deleteField")}function R_(){return new lh("serverTimestamp")}function O_(...i){return new wf("arrayUnion",i)}function k_(...i){return new ch("arrayRemove",i)}function N_(i){return new jp("increment",i)}!function(i,e=!0){Ni=v.SDK_VERSION,(0,v._registerComponent)(new ve.wA("firestore",(t,{instanceIdentifier:a,options:f})=>{const _=t.getProvider("app").getImmediate(),S=new ra(new Cl(t.getProvider("auth-internal")),new Bc(t.getProvider("app-check-internal")),function(Y,ce){if(!Object.prototype.hasOwnProperty.apply(Y.options,["projectId"]))throw new qn(Dn.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new pc(Y.options.projectId,ce)}(_,a),_);return f=Object.assign({useFetchStreams:e},f),S._setSettings(f),S},"PUBLIC").setMultipleInstances(!0)),(0,v.registerVersion)(Wi,"3.12.0",i),(0,v.registerVersion)(Wi,"3.12.0","esm2017")}()},2090:(er,Nt,H)=>{"use strict";H.d(Nt,{$s:()=>Wn,BH:()=>Tt,DV:()=>cn,Dv:()=>ni,G6:()=>tt,GJ:()=>hn,L:()=>Qe,LL:()=>ln,P0:()=>Rt,Pz:()=>Ct,Sg:()=>Dt,UG:()=>Gt,UI:()=>Wr,US:()=>Ke,Wj:()=>Er,Wl:()=>fn,Yr:()=>_t,ZB:()=>ot,ZR:()=>sn,aH:()=>ht,b$:()=>Qt,cI:()=>wt,dS:()=>yi,eu:()=>ft,g5:()=>ve,gK:()=>ri,gQ:()=>ui,h$:()=>Re,hl:()=>Ge,hu:()=>v,jU:()=>St,lb:()=>pr,m9:()=>Rr,ne:()=>nr,p$:()=>Me,pd:()=>$r,q4:()=>Lt,r3:()=>Xn,ru:()=>kt,tV:()=>Be,uI:()=>it,ug:()=>Ar,vZ:()=>Sr,w1:()=>Je,w9:()=>lr,xO:()=>Qr,xb:()=>Pr,z$:()=>vt,zI:()=>jt,zd:()=>br});const d={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},v=function(yt,Te){if(!yt)throw ve(Te)},ve=function(yt){return new Error("Firebase Database ("+d.SDK_VERSION+") INTERNAL ASSERT FAILED: "+yt)},Fe=function(yt){const Te=[];let se=0;for(let ee=0;ee<yt.length;ee++){let oe=yt.charCodeAt(ee);oe<128?Te[se++]=oe:oe<2048?(Te[se++]=oe>>6|192,Te[se++]=63&oe|128):55296==(64512&oe)&&ee+1<yt.length&&56320==(64512&yt.charCodeAt(ee+1))?(oe=65536+((1023&oe)<<10)+(1023&yt.charCodeAt(++ee)),Te[se++]=oe>>18|240,Te[se++]=oe>>12&63|128,Te[se++]=oe>>6&63|128,Te[se++]=63&oe|128):(Te[se++]=oe>>12|224,Te[se++]=oe>>6&63|128,Te[se++]=63&oe|128)}return Te},Ke={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(yt,Te){if(!Array.isArray(yt))throw Error("encodeByteArray takes an array as a parameter");this.init_();const se=Te?this.byteToCharMapWebSafe_:this.byteToCharMap_,ee=[];for(let oe=0;oe<yt.length;oe+=3){const qe=yt[oe],xt=oe+1<yt.length,rt=xt?yt[oe+1]:0,Vt=oe+2<yt.length,nn=Vt?yt[oe+2]:0;let Gn=(15&rt)<<2|nn>>6,un=63&nn;Vt||(un=64,xt||(Gn=64)),ee.push(se[qe>>2],se[(3&qe)<<4|rt>>4],se[Gn],se[un])}return ee.join("")},encodeString(yt,Te){return this.HAS_NATIVE_SUPPORT&&!Te?btoa(yt):this.encodeByteArray(Fe(yt),Te)},decodeString(yt,Te){return this.HAS_NATIVE_SUPPORT&&!Te?atob(yt):function(yt){const Te=[];let se=0,ee=0;for(;se<yt.length;){const oe=yt[se++];if(oe<128)Te[ee++]=String.fromCharCode(oe);else if(oe>191&&oe<224){const qe=yt[se++];Te[ee++]=String.fromCharCode((31&oe)<<6|63&qe)}else if(oe>239&&oe<365){const Vt=((7&oe)<<18|(63&yt[se++])<<12|(63&yt[se++])<<6|63&yt[se++])-65536;Te[ee++]=String.fromCharCode(55296+(Vt>>10)),Te[ee++]=String.fromCharCode(56320+(1023&Vt))}else{const qe=yt[se++],xt=yt[se++];Te[ee++]=String.fromCharCode((15&oe)<<12|(63&qe)<<6|63&xt)}}return Te.join("")}(this.decodeStringToByteArray(yt,Te))},decodeStringToByteArray(yt,Te){this.init_();const se=Te?this.charToByteMapWebSafe_:this.charToByteMap_,ee=[];for(let oe=0;oe<yt.length;){const qe=se[yt.charAt(oe++)],rt=oe<yt.length?se[yt.charAt(oe)]:0;++oe;const nn=oe<yt.length?se[yt.charAt(oe)]:64;++oe;const wn=oe<yt.length?se[yt.charAt(oe)]:64;if(++oe,null==qe||null==rt||null==nn||null==wn)throw new Se;ee.push(qe<<2|rt>>4),64!==nn&&(ee.push(rt<<4&240|nn>>2),64!==wn&&ee.push(nn<<6&192|wn))}return ee},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let yt=0;yt<this.ENCODED_VALS.length;yt++)this.byteToCharMap_[yt]=this.ENCODED_VALS.charAt(yt),this.charToByteMap_[this.byteToCharMap_[yt]]=yt,this.byteToCharMapWebSafe_[yt]=this.ENCODED_VALS_WEBSAFE.charAt(yt),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[yt]]=yt,yt>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(yt)]=yt,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(yt)]=yt)}}};class Se extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Re=function(yt){const Te=Fe(yt);return Ke.encodeByteArray(Te,!0)},Qe=function(yt){return Re(yt).replace(/\./g,"")},Be=function(yt){try{return Ke.decodeString(yt,!0)}catch(Te){console.error("base64Decode failed: ",Te)}return null};function Me(yt){return ot(void 0,yt)}function ot(yt,Te){if(!(Te instanceof Object))return Te;switch(Te.constructor){case Date:return new Date(Te.getTime());case Object:void 0===yt&&(yt={});break;case Array:yt=[];break;default:return Te}for(const se in Te)!Te.hasOwnProperty(se)||!Pe(se)||(yt[se]=ot(yt[se],Te[se]));return yt}function Pe(yt){return"__proto__"!==yt}const $e=()=>{try{return function ct(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const yt=process.env.__FIREBASE_DEFAULTS__;return yt?JSON.parse(yt):void 0})()||(()=>{if(typeof document>"u")return;let yt;try{yt=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const Te=yt&&Be(yt[1]);return Te&&JSON.parse(Te)})()}catch(yt){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${yt}`)}},Lt=yt=>{var Te,se;return null===(se=null===(Te=$e())||void 0===Te?void 0:Te.emulatorHosts)||void 0===se?void 0:se[yt]},Rt=yt=>{const Te=Lt(yt);if(!Te)return;const se=Te.lastIndexOf(":");if(se<=0||se+1===Te.length)throw new Error(`Invalid host ${Te} with no separate hostname and port!`);const ee=parseInt(Te.substring(se+1),10);return"["===Te[0]?[Te.substring(1,se-1),ee]:[Te.substring(0,se),ee]},ht=()=>{var yt;return null===(yt=$e())||void 0===yt?void 0:yt.config},Ct=yt=>{var Te;return null===(Te=$e())||void 0===Te?void 0:Te[`_${yt}`]};class Tt{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((Te,se)=>{this.resolve=Te,this.reject=se})}wrapCallback(Te){return(se,ee)=>{se?this.reject(se):this.resolve(ee),"function"==typeof Te&&(this.promise.catch(()=>{}),1===Te.length?Te(se):Te(se,ee))}}}function Dt(yt,Te){if(yt.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const ee=Te||"demo-project",oe=yt.iat||0,qe=yt.sub||yt.user_id;if(!qe)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const xt=Object.assign({iss:`https://securetoken.google.com/${ee}`,aud:ee,iat:oe,exp:oe+3600,auth_time:oe,sub:qe,user_id:qe,firebase:{sign_in_provider:"custom",identities:{}}},yt);return[Qe(JSON.stringify({alg:"none",type:"JWT"})),Qe(JSON.stringify(xt)),""].join(".")}function vt(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function it(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(vt())}function Gt(){var yt;const Te=null===(yt=$e())||void 0===yt?void 0:yt.forceEnvironment;if("node"===Te)return!0;if("browser"===Te)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function St(){return"object"==typeof self&&self.self===self}function kt(){const yt="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof yt&&void 0!==yt.id}function Qt(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Je(){const yt=vt();return yt.indexOf("MSIE ")>=0||yt.indexOf("Trident/")>=0}function _t(){return!0===d.NODE_CLIENT||!0===d.NODE_ADMIN}function tt(){return!Gt()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Ge(){try{return"object"==typeof indexedDB}catch{return!1}}function ft(){return new Promise((yt,Te)=>{try{let se=!0;const ee="validate-browser-context-for-indexeddb-analytics-module",oe=self.indexedDB.open(ee);oe.onsuccess=()=>{oe.result.close(),se||self.indexedDB.deleteDatabase(ee),yt(!0)},oe.onupgradeneeded=()=>{se=!1},oe.onerror=()=>{var qe;Te((null===(qe=oe.error)||void 0===qe?void 0:qe.message)||"")}}catch(se){Te(se)}})}function jt(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class sn extends Error{constructor(Te,se,ee){super(se),this.code=Te,this.customData=ee,this.name="FirebaseError",Object.setPrototypeOf(this,sn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ln.prototype.create)}}class ln{constructor(Te,se,ee){this.service=Te,this.serviceName=se,this.errors=ee}create(Te,...se){const ee=se[0]||{},oe=`${this.service}/${Te}`,qe=this.errors[Te],xt=qe?function Oe(yt,Te){return yt.replace(rn,(se,ee)=>{const oe=Te[ee];return null!=oe?String(oe):`<${ee}?>`})}(qe,ee):"Error";return new sn(oe,`${this.serviceName}: ${xt} (${oe}).`,ee)}}const rn=/\{\$([^}]+)}/g;function wt(yt){return JSON.parse(yt)}function fn(yt){return JSON.stringify(yt)}const _n=function(yt){let Te={},se={},ee={},oe="";try{const qe=yt.split(".");Te=wt(Be(qe[0])||""),se=wt(Be(qe[1])||""),oe=qe[2],ee=se.d||{},delete se.d}catch{}return{header:Te,claims:se,data:ee,signature:oe}},lr=function(yt){const se=_n(yt).claims;return!!se&&"object"==typeof se&&se.hasOwnProperty("iat")},hn=function(yt){const Te=_n(yt).claims;return"object"==typeof Te&&!0===Te.admin};function Xn(yt,Te){return Object.prototype.hasOwnProperty.call(yt,Te)}function cn(yt,Te){if(Object.prototype.hasOwnProperty.call(yt,Te))return yt[Te]}function Pr(yt){for(const Te in yt)if(Object.prototype.hasOwnProperty.call(yt,Te))return!1;return!0}function Wr(yt,Te,se){const ee={};for(const oe in yt)Object.prototype.hasOwnProperty.call(yt,oe)&&(ee[oe]=Te.call(se,yt[oe],oe,yt));return ee}function Sr(yt,Te){if(yt===Te)return!0;const se=Object.keys(yt),ee=Object.keys(Te);for(const oe of se){if(!ee.includes(oe))return!1;const qe=yt[oe],xt=Te[oe];if(On(qe)&&On(xt)){if(!Sr(qe,xt))return!1}else if(qe!==xt)return!1}for(const oe of ee)if(!se.includes(oe))return!1;return!0}function On(yt){return null!==yt&&"object"==typeof yt}function Qr(yt){const Te=[];for(const[se,ee]of Object.entries(yt))Array.isArray(ee)?ee.forEach(oe=>{Te.push(encodeURIComponent(se)+"="+encodeURIComponent(oe))}):Te.push(encodeURIComponent(se)+"="+encodeURIComponent(ee));return Te.length?"&"+Te.join("&"):""}function br(yt){const Te={};return yt.replace(/^\?/,"").split("&").forEach(ee=>{if(ee){const[oe,qe]=ee.split("=");Te[decodeURIComponent(oe)]=decodeURIComponent(qe)}}),Te}function $r(yt){const Te=yt.indexOf("?");if(!Te)return"";const se=yt.indexOf("#",Te);return yt.substring(Te,se>0?se:void 0)}class ui{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let Te=1;Te<this.blockSize;++Te)this.pad_[Te]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(Te,se){se||(se=0);const ee=this.W_;if("string"==typeof Te)for(let wn=0;wn<16;wn++)ee[wn]=Te.charCodeAt(se)<<24|Te.charCodeAt(se+1)<<16|Te.charCodeAt(se+2)<<8|Te.charCodeAt(se+3),se+=4;else for(let wn=0;wn<16;wn++)ee[wn]=Te[se]<<24|Te[se+1]<<16|Te[se+2]<<8|Te[se+3],se+=4;for(let wn=16;wn<80;wn++){const Gn=ee[wn-3]^ee[wn-8]^ee[wn-14]^ee[wn-16];ee[wn]=4294967295&(Gn<<1|Gn>>>31)}let nn,Tn,oe=this.chain_[0],qe=this.chain_[1],xt=this.chain_[2],rt=this.chain_[3],Vt=this.chain_[4];for(let wn=0;wn<80;wn++){wn<40?wn<20?(nn=rt^qe&(xt^rt),Tn=1518500249):(nn=qe^xt^rt,Tn=1859775393):wn<60?(nn=qe&xt|rt&(qe|xt),Tn=2400959708):(nn=qe^xt^rt,Tn=3395469782);const Gn=(oe<<5|oe>>>27)+nn+Vt+Tn+ee[wn]&4294967295;Vt=rt,rt=xt,xt=4294967295&(qe<<30|qe>>>2),qe=oe,oe=Gn}this.chain_[0]=this.chain_[0]+oe&4294967295,this.chain_[1]=this.chain_[1]+qe&4294967295,this.chain_[2]=this.chain_[2]+xt&4294967295,this.chain_[3]=this.chain_[3]+rt&4294967295,this.chain_[4]=this.chain_[4]+Vt&4294967295}update(Te,se){if(null==Te)return;void 0===se&&(se=Te.length);const ee=se-this.blockSize;let oe=0;const qe=this.buf_;let xt=this.inbuf_;for(;oe<se;){if(0===xt)for(;oe<=ee;)this.compress_(Te,oe),oe+=this.blockSize;if("string"==typeof Te){for(;oe<se;)if(qe[xt]=Te.charCodeAt(oe),++xt,++oe,xt===this.blockSize){this.compress_(qe),xt=0;break}}else for(;oe<se;)if(qe[xt]=Te[oe],++xt,++oe,xt===this.blockSize){this.compress_(qe),xt=0;break}}this.inbuf_=xt,this.total_+=se}digest(){const Te=[];let se=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let oe=this.blockSize-1;oe>=56;oe--)this.buf_[oe]=255&se,se/=256;this.compress_(this.buf_);let ee=0;for(let oe=0;oe<5;oe++)for(let qe=24;qe>=0;qe-=8)Te[ee]=this.chain_[oe]>>qe&255,++ee;return Te}}function nr(yt,Te){const se=new Zn(yt,Te);return se.subscribe.bind(se)}class Zn{constructor(Te,se){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=se,this.task.then(()=>{Te(this)}).catch(ee=>{this.error(ee)})}next(Te){this.forEachObserver(se=>{se.next(Te)})}error(Te){this.forEachObserver(se=>{se.error(Te)}),this.close(Te)}complete(){this.forEachObserver(Te=>{Te.complete()}),this.close()}subscribe(Te,se,ee){let oe;if(void 0===Te&&void 0===se&&void 0===ee)throw new Error("Missing Observer.");oe=function Ei(yt,Te){if("object"!=typeof yt||null===yt)return!1;for(const se of Te)if(se in yt&&"function"==typeof yt[se])return!0;return!1}(Te,["next","error","complete"])?Te:{next:Te,error:se,complete:ee},void 0===oe.next&&(oe.next=di),void 0===oe.error&&(oe.error=di),void 0===oe.complete&&(oe.complete=di);const qe=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?oe.error(this.finalError):oe.complete()}catch{}}),this.observers.push(oe),qe}unsubscribeOne(Te){void 0===this.observers||void 0===this.observers[Te]||(delete this.observers[Te],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(Te){if(!this.finalized)for(let se=0;se<this.observers.length;se++)this.sendOne(se,Te)}sendOne(Te,se){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[Te])try{se(this.observers[Te])}catch(ee){typeof console<"u"&&console.error&&console.error(ee)}})}close(Te){this.finalized||(this.finalized=!0,void 0!==Te&&(this.finalError=Te),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function di(){}const ni=function(yt,Te,se,ee){let oe;if(ee<Te?oe="at least "+Te:ee>se&&(oe=0===se?"none":"no more than "+se),oe)throw new Error(yt+" failed: Was called with "+ee+(1===ee?" argument.":" arguments.")+" Expects "+oe+".")};function ri(yt,Te){return`${yt} failed: ${Te} argument `}function Er(yt,Te,se,ee){if((!ee||se)&&"function"!=typeof se)throw new Error(ri(yt,Te)+"must be a valid function.")}function pr(yt,Te,se,ee){if((!ee||se)&&("object"!=typeof se||null===se))throw new Error(ri(yt,Te)+"must be a valid context object.")}const yi=function(yt){const Te=[];let se=0;for(let ee=0;ee<yt.length;ee++){let oe=yt.charCodeAt(ee);if(oe>=55296&&oe<=56319){const qe=oe-55296;ee++,v(ee<yt.length,"Surrogate pair missing trail surrogate."),oe=65536+(qe<<10)+(yt.charCodeAt(ee)-56320)}oe<128?Te[se++]=oe:oe<2048?(Te[se++]=oe>>6|192,Te[se++]=63&oe|128):oe<65536?(Te[se++]=oe>>12|224,Te[se++]=oe>>6&63|128,Te[se++]=63&oe|128):(Te[se++]=oe>>18|240,Te[se++]=oe>>12&63|128,Te[se++]=oe>>6&63|128,Te[se++]=63&oe|128)}return Te},Ar=function(yt){let Te=0;for(let se=0;se<yt.length;se++){const ee=yt.charCodeAt(se);ee<128?Te++:ee<2048?Te+=2:ee>=55296&&ee<=56319?(Te+=4,se++):Te+=3}return Te},xe=1e3,gt=2,Wt=144e5,In=.5;function Wn(yt,Te=xe,se=gt){const ee=Te*Math.pow(se,yt),oe=Math.round(In*ee*(Math.random()-.5)*2);return Math.min(Wt,ee+oe)}function Rr(yt){return yt&&yt._delegate?yt._delegate:yt}},8490:(er,Nt,H)=>{"use strict";H.d(Nt,{V1:()=>Be});var Me,d=H(8261),v=(Me=function(ot,Pe){return(Me=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(ct,mt){ct.__proto__=mt}||function(ct,mt){for(var Ut in mt)Object.prototype.hasOwnProperty.call(mt,Ut)&&(ct[Ut]=mt[Ut])})(ot,Pe)},function(ot,Pe){function ct(){this.constructor=ot}Me(ot,Pe),ot.prototype=null===Pe?Object.create(Pe):(ct.prototype=Pe.prototype,new ct)}),Qe=function(Me){function ot(){var Pe=null!==Me&&Me.apply(this,arguments)||this;return Pe.DestinationType={DATA_URL:0,FILE_URI:1,NATIVE_URI:2},Pe.EncodingType={JPEG:0,PNG:1},Pe.MediaType={PICTURE:0,VIDEO:1,ALLMEDIA:2},Pe.PictureSourceType={PHOTOLIBRARY:0,CAMERA:1,SAVEDPHOTOALBUM:2},Pe.PopoverArrowDirection={ARROW_UP:1,ARROW_DOWN:2,ARROW_LEFT:4,ARROW_RIGHT:8,ARROW_ANY:15},Pe.Direction={BACK:0,FRONT:1},Pe}return v(ot,Me),ot.prototype.getPicture=function(Pe){return(0,d.DM)(this,"getPicture",{callbackOrder:"reverse"},arguments)},ot.prototype.cleanup=function(){return(0,d.DM)(this,"cleanup",{platforms:["iOS"]},arguments)},ot.pluginName="Camera",ot.plugin="cordova-plugin-camera",ot.pluginRef="navigator.camera",ot.repo="https://github.com/apache/cordova-plugin-camera",ot.platforms=["Android","Browser","iOS","Windows"],ot}(d.KY),Be=new Qe},8261:(er,Nt,H)=>{"use strict";H.d(Nt,{KY:()=>Dt,DM:()=>vt,J2:()=>kt,Iq:()=>Qt});var v=H(9751),ve=H(4968),Fe={error:"cordova_not_available"},Xe={error:"plugin_not_installed"};function Ke(Ae){if(typeof window<"u"&&window.angular){var ut=window.document,_t=window.angular.element(ut.querySelector("[ng-app]")||ut.body).injector();if(_t)return _t.get("$q")(function(Ge,ft){Ae(Ge,ft)});console.warn("Angular 1 was detected but $q couldn't be retrieved. This is usually when the app is not bootstrapped on the html or body tag. Falling back to native promises which won't trigger an automatic digest when promises resolve.")}return function(){if(Promise)return new Promise(function(Ge,ft){Ae(Ge,ft)});console.error("No Promise support or polyfill found. To enable Ionic Native support, please add the es6-promise polyfill before this script, or run with a library like Angular or on a recent browser.")}()}function Me(Ae,Je,ut){var _t,tt,Ge;return"string"==typeof Ae?_t=Ae:(_t=Ae.constructor.getPluginRef(),ut=Ae.constructor.getPluginName(),Ge=Ae.constructor.getPluginInstallName()),!(!(tt=Ut(_t))||Je&&typeof tt[Je]>"u")||(typeof window>"u"||!window.cordova?(function Lt(Ae,Je){typeof process>"u"&&console.warn(Je?"Native: tried calling "+Ae+"."+Je+", but Cordova is not available. Make sure to include cordova.js or run in a device/simulator":"Native: tried accessing the "+Ae+" plugin but Cordova is not available. Make sure to include cordova.js or run in a device/simulator")}(ut,Je),Fe):(function $e(Ae,Je,ut){console.warn(ut?"Native: tried calling "+Ae+"."+ut+", but the "+Ae+" plugin is not installed.":"Native: tried accessing the "+Ae+" plugin but it's not installed."),Je&&console.warn("Install the "+Ae+" plugin: 'ionic cordova plugin add "+Je+"'")}(ut,Ge,Je),Xe))}function ct(Ae,Je,ut,_t,tt,Ge){void 0===_t&&(_t={}),ut=function Pe(Ae,Je,ut,_t){if(void 0===Je&&(Je={}),Je.sync)return Ae;if("reverse"===Je.callbackOrder)Ae.unshift(_t),Ae.unshift(ut);else if("node"===Je.callbackStyle)Ae.push(function(jt,Pt){jt?_t(jt):ut(Pt)});else if("object"===Je.callbackStyle&&Je.successName&&Je.errorName){var tt={};tt[Je.successName]=ut,tt[Je.errorName]=_t,Ae.push(tt)}else if(typeof Je.successIndex<"u"||typeof Je.errorIndex<"u"){var Ge=function(){Je.successIndex>Ae.length?Ae[Je.successIndex]=ut:Ae.splice(Je.successIndex,0,ut)},ft=function(){Je.errorIndex>Ae.length?Ae[Je.errorIndex]=_t:Ae.splice(Je.errorIndex,0,_t)};Je.successIndex>Je.errorIndex?(ft(),Ge()):(Ge(),ft())}else Ae.push(ut),Ae.push(_t);return Ae}(ut,_t,tt,Ge);var ft=Me(Ae,Je);if(!0===ft){var jt=Ut(Ae.constructor.getPluginRef());return jt[Je].apply(jt,ut)}return ft}function Ut(Ae){return typeof window<"u"?He(window,Ae):null}function He(Ae,Je){for(var ut=Je.split("."),_t=Ae,tt=0;tt<ut.length;tt++){if(!_t)return null;_t=_t[ut[tt]]}return _t}var Rt=function(Ae,Je,ut){return void 0===ut&&(ut={}),function(){for(var _t=[],tt=0;tt<arguments.length;tt++)_t[tt]=arguments[tt];return ut.sync?ct(Ae,Je,_t,ut):ut.observable?function Qe(Ae,Je,ut,_t){return void 0===_t&&(_t={}),new v.y(function(tt){var Ge;return Ge=_t.destruct?ct(Ae,Je,ut,_t,function(){for(var ft=[],jt=0;jt<arguments.length;jt++)ft[jt]=arguments[jt];return tt.next(ft)},function(){for(var ft=[],jt=0;jt<arguments.length;jt++)ft[jt]=arguments[jt];return tt.error(ft)}):ct(Ae,Je,ut,_t,tt.next.bind(tt),tt.error.bind(tt)),Ge&&Ge.error&&(tt.error(Ge.error),tt.complete()),function(){try{if(_t.clearFunction)return _t.clearWithArgs?ct(Ae,_t.clearFunction,ut,_t,tt.next.bind(tt),tt.error.bind(tt)):ct(Ae,_t.clearFunction,[])}catch(ft){console.warn("Unable to clear the previous observable watch for",Ae.constructor.getPluginName(),Je),console.warn(ft)}}})}(Ae,Je,_t,ut):ut.eventObservable&&ut.event?function Be(Ae,Je){return Je=typeof window<"u"&&Je?He(window,Je):Je||(typeof window<"u"?window:{}),(0,ve.R)(Je,Ae)}(ut.event,ut.element):ut.otherPromise?function Re(Ae,Je,ut,_t){return void 0===_t&&(_t={}),Ke(function(tt,Ge){var ft=ct(Ae,Je,ut,_t);ft?ft.error?Ge(ft.error):ft.then&&ft.then(tt).catch(Ge):Ge({error:"unexpected_error"})})}(Ae,Je,_t,ut):function Se(Ae,Je,ut,_t){void 0===_t&&(_t={});var tt,Ge,ft=Ke(function(jt,Pt){tt=_t.destruct?ct(Ae,Je,ut,_t,function(){for(var sn=[],ln=0;ln<arguments.length;ln++)sn[ln]=arguments[ln];return jt(sn)},function(){for(var sn=[],ln=0;ln<arguments.length;ln++)sn[ln]=arguments[ln];return Pt(sn)}):ct(Ae,Je,ut,_t,jt,Pt),Ge=Pt});return tt&&tt.error&&(ft.catch(function(){}),"function"==typeof Ge&&Ge(tt.error)),ft}(Ae,Je,_t,ut)}},Dt=function(){function Ae(){}return Ae.installed=function(){return!0===Me(this.pluginRef)},Ae.getPlugin=function(){return typeof window<"u"?function Ct(Ae,Je){for(var ut=Je.split("."),_t=Ae,tt=0;tt<ut.length;tt++){if(!_t)return null;_t=_t[ut[tt]]}return _t}(window,this.pluginRef):null},Ae.getPluginName=function(){return this.pluginName},Ae.getPluginRef=function(){return this.pluginRef},Ae.getPluginInstallName=function(){return this.plugin},Ae.getSupportedPlatforms=function(){return this.platforms},Ae.pluginName="",Ae.pluginRef="",Ae.plugin="",Ae.repo="",Ae.platforms=[],Ae.install="",Ae}();function vt(Ae,Je,ut,_t){return Rt(Ae,Je,ut).apply(this,_t)}function kt(Ae,Je){return!0===Me(Ae,Je)?Ut(Ae.constructor.getPluginRef())[Je]:null}function Qt(Ae,Je,ut){!0===Me(Ae,Je)&&(Ut(Ae.constructor.getPluginRef())[Je]=ut)}!function d(){if(typeof process>"u"){var Ae=typeof window<"u"?window:{},ut=Date.now(),_t=!1;Ae.document.addEventListener("deviceready",function(){console.log("Ionic Native: deviceready event fired after "+(Date.now()-ut)+" ms"),_t=!0}),setTimeout(function(){!_t&&Ae.cordova&&console.warn("Ionic Native: deviceready did not fire within 5000ms. This can happen when plugins are in an inconsistent state. Try removing plugins from plugins/ and reinstalling them.")},5e3)}}()},9613:(er,Nt,H)=>{"use strict";H.d(Nt,{c:()=>Ut});var d=H(3577),v=H(3457);let ve;const Xe=He=>He.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Ke=He=>(void 0===ve&&(ve=void 0===He.style.animationName&&void 0!==He.style.webkitAnimationName?"-webkit-":""),ve),Se=(He,$e,Lt)=>{const Rt=$e.startsWith("animation")?Ke(He):"";He.style.setProperty(Rt+$e,Lt)},Re=(He,$e)=>{const Lt=$e.startsWith("animation")?Ke(He):"";He.style.removeProperty(Lt+$e)},Me=[],mt=(He=[],$e)=>{if(void 0!==$e){const Lt=Array.isArray($e)?$e:[$e];return[...He,...Lt]}return He},Ut=He=>{let $e,Lt,Rt,ht,Ct,Tt,St,Ge,ft,jt,Pt,rn,wt,Dt=[],vt=[],it=[],Gt=!1,kt={},Qt=[],Ae=[],Je={},ut=0,_t=!1,tt=!1,sn=!0,ln=!1,Oe=!0,fn=!1;const _n=He,tr=[],ur=[],lr=[],hn=[],Xn=[],cn=[],Pr=[],Wr=[],Sr=[],On=[],Gr="function"==typeof AnimationEffect||void 0!==v.w&&"function"==typeof v.w.AnimationEffect,Qr="function"==typeof Element&&"function"==typeof Element.prototype.animate&&Gr,$r=()=>On,Ei=(_e,re)=>((null!=re&&re.oneTimeCallback?ur:tr).push({c:_e,o:re}),wt),ni=()=>{if(Qr)On.forEach(_e=>{_e.cancel()}),On.length=0;else{const _e=lr.slice();(0,d.r)(()=>{_e.forEach(re=>{Re(re,"animation-name"),Re(re,"animation-duration"),Re(re,"animation-timing-function"),Re(re,"animation-iteration-count"),Re(re,"animation-delay"),Re(re,"animation-play-state"),Re(re,"animation-fill-mode"),Re(re,"animation-direction")})})}},ri=()=>{Xn.forEach(_e=>{null!=_e&&_e.parentNode&&_e.parentNode.removeChild(_e)}),Xn.length=0},Nr=()=>void 0!==Ct?Ct:St?St.getFill():"both",Rr=()=>void 0!==ft?ft:void 0!==Tt?Tt:St?St.getDirection():"normal",yt=()=>_t?"linear":void 0!==Rt?Rt:St?St.getEasing():"linear",Te=()=>tt?0:void 0!==jt?jt:void 0!==Lt?Lt:St?St.getDuration():0,se=()=>void 0!==ht?ht:St?St.getIterations():1,ee=()=>void 0!==Pt?Pt:void 0!==$e?$e:St?St.getDelay():0,mn=()=>{0!==ut&&(ut--,0===ut&&((()=>{wo(),Wr.forEach(It=>It()),Sr.forEach(It=>It());const _e=sn?1:0,re=Qt,ye=Ae,st=Je;lr.forEach(It=>{const Bt=It.classList;re.forEach(tn=>Bt.add(tn)),ye.forEach(tn=>Bt.remove(tn));for(const tn in st)st.hasOwnProperty(tn)&&Se(It,tn,st[tn])}),tr.forEach(It=>It.c(_e,wt)),ur.forEach(It=>It.c(_e,wt)),ur.length=0,Oe=!0,sn&&(ln=!0),sn=!0})(),St&&St.animationFinish()))},Qn=(_e=!0)=>{ri();const re=(He=>(He.forEach($e=>{for(const Lt in $e)if($e.hasOwnProperty(Lt)){const Rt=$e[Lt];if("easing"===Lt)$e["animation-timing-function"]=Rt,delete $e[Lt];else{const ht=Xe(Lt);ht!==Lt&&($e[ht]=Rt,delete $e[Lt])}}}),He))(Dt);lr.forEach(ye=>{if(re.length>0){const st=((He=[])=>He.map($e=>{const Lt=$e.offset,Rt=[];for(const ht in $e)$e.hasOwnProperty(ht)&&"offset"!==ht&&Rt.push(`${ht}: ${$e[ht]};`);return`${100*Lt}% { ${Rt.join(" ")} }`}).join(" "))(re);rn=void 0!==He?He:(He=>{let $e=Me.indexOf(He);return $e<0&&($e=Me.push(He)-1),`ion-animation-${$e}`})(st);const It=((He,$e,Lt)=>{var Rt;const ht=(He=>{const $e=void 0!==He.getRootNode?He.getRootNode():He;return $e.head||$e})(Lt),Ct=Ke(Lt),Tt=ht.querySelector("#"+He);if(Tt)return Tt;const Dt=(null!==(Rt=Lt.ownerDocument)&&void 0!==Rt?Rt:document).createElement("style");return Dt.id=He,Dt.textContent=`@${Ct}keyframes ${He} { ${$e} } @${Ct}keyframes ${He}-alt { ${$e} }`,ht.appendChild(Dt),Dt})(rn,st,ye);Xn.push(It),Se(ye,"animation-duration",`${Te()}ms`),Se(ye,"animation-timing-function",yt()),Se(ye,"animation-delay",`${ee()}ms`),Se(ye,"animation-fill-mode",Nr()),Se(ye,"animation-direction",Rr());const Bt=se()===1/0?"infinite":se().toString();Se(ye,"animation-iteration-count",Bt),Se(ye,"animation-play-state","paused"),_e&&Se(ye,"animation-name",`${It.id}-alt`),(0,d.r)(()=>{Se(ye,"animation-name",It.id||null)})}})},Fr=(_e=!0)=>{(()=>{cn.forEach(st=>st()),Pr.forEach(st=>st());const _e=vt,re=it,ye=kt;lr.forEach(st=>{const It=st.classList;_e.forEach(Bt=>It.add(Bt)),re.forEach(Bt=>It.remove(Bt));for(const Bt in ye)ye.hasOwnProperty(Bt)&&Se(st,Bt,ye[Bt])})})(),Dt.length>0&&(Qr?(lr.forEach(_e=>{const re=_e.animate(Dt,{id:_n,delay:ee(),duration:Te(),easing:yt(),iterations:se(),fill:Nr(),direction:Rr()});re.pause(),On.push(re)}),On.length>0&&(On[0].onfinish=()=>{mn()})):Qn(_e)),Gt=!0},Or=_e=>{if(_e=Math.min(Math.max(_e,0),.9999),Qr)On.forEach(re=>{re.currentTime=re.effect.getComputedTiming().delay+Te()*_e,re.pause()});else{const re=`-${Te()*_e}ms`;lr.forEach(ye=>{Dt.length>0&&(Se(ye,"animation-delay",re),Se(ye,"animation-play-state","paused"))})}},Ri=_e=>{On.forEach(re=>{re.effect.updateTiming({delay:ee(),duration:Te(),easing:yt(),iterations:se(),fill:Nr(),direction:Rr()})}),void 0!==_e&&Or(_e)},Yr=(_e=!0,re)=>{(0,d.r)(()=>{lr.forEach(ye=>{Se(ye,"animation-name",rn||null),Se(ye,"animation-duration",`${Te()}ms`),Se(ye,"animation-timing-function",yt()),Se(ye,"animation-delay",void 0!==re?`-${re*Te()}ms`:`${ee()}ms`),Se(ye,"animation-fill-mode",Nr()||null),Se(ye,"animation-direction",Rr()||null);const st=se()===1/0?"infinite":se().toString();Se(ye,"animation-iteration-count",st),_e&&Se(ye,"animation-name",`${rn}-alt`),(0,d.r)(()=>{Se(ye,"animation-name",rn||null)})})})},jr=(_e=!1,re=!0,ye)=>(_e&&hn.forEach(st=>{st.update(_e,re,ye)}),Qr?Ri(ye):Yr(re,ye),wt),ro=()=>{Gt&&(Qr?On.forEach(_e=>{_e.pause()}):lr.forEach(_e=>{Se(_e,"animation-play-state","paused")}),fn=!0)},rs=()=>{Ge=void 0,mn()},wo=()=>{Ge&&clearTimeout(Ge)},Bs=_e=>new Promise(re=>{null!=_e&&_e.sync&&(tt=!0,Ei(()=>tt=!1,{oneTimeCallback:!0})),Gt||Fr(),ln&&(Qr?(Or(0),Ri()):Yr(),ln=!1),Oe&&(ut=hn.length+1,Oe=!1),Ei(()=>re(),{oneTimeCallback:!0}),hn.forEach(ye=>{ye.play()}),Qr?(On.forEach(_e=>{_e.play()}),(0===Dt.length||0===lr.length)&&mn()):(()=>{if(wo(),(0,d.r)(()=>{lr.forEach(_e=>{Dt.length>0&&Se(_e,"animation-play-state","running")})}),0===Dt.length||0===lr.length)mn();else{const _e=ee()||0,re=Te()||0,ye=se()||1;isFinite(ye)&&(Ge=setTimeout(rs,_e+re*ye+100)),((He,$e)=>{let Lt;const Rt={passive:!0},Ct=Tt=>{He===Tt.target&&(Lt&&Lt(),wo(),(0,d.r)(()=>{lr.forEach(_e=>{Re(_e,"animation-duration"),Re(_e,"animation-delay"),Re(_e,"animation-play-state")}),(0,d.r)(mn)}))};He&&(He.addEventListener("webkitAnimationEnd",Ct,Rt),He.addEventListener("animationend",Ct,Rt),Lt=()=>{He.removeEventListener("webkitAnimationEnd",Ct,Rt),He.removeEventListener("animationend",Ct,Rt)})})(lr[0])}})(),fn=!1}),ie=(_e,re)=>{const ye=Dt[0];return void 0===ye||void 0!==ye.offset&&0!==ye.offset?Dt=[{offset:0,[_e]:re},...Dt]:ye[_e]=re,wt};return wt={parentAnimation:St,elements:lr,childAnimations:hn,id:_n,animationFinish:mn,from:ie,to:(_e,re)=>{const ye=Dt[Dt.length-1];return void 0===ye||void 0!==ye.offset&&1!==ye.offset?Dt=[...Dt,{offset:1,[_e]:re}]:ye[_e]=re,wt},fromTo:(_e,re,ye)=>ie(_e,re).to(_e,ye),parent:_e=>(St=_e,wt),play:Bs,pause:()=>(hn.forEach(_e=>{_e.pause()}),ro(),wt),stop:()=>{hn.forEach(_e=>{_e.stop()}),Gt&&(ni(),Gt=!1),_t=!1,tt=!1,Oe=!0,ft=void 0,jt=void 0,Pt=void 0,ut=0,ln=!1,sn=!0,fn=!1},destroy:_e=>(hn.forEach(re=>{re.destroy(_e)}),(_e=>{ni(),_e&&ri()})(_e),lr.length=0,hn.length=0,Dt.length=0,tr.length=0,ur.length=0,Gt=!1,Oe=!0,wt),keyframes:_e=>{const re=Dt!==_e;return Dt=_e,re&&(_e=>{Qr?$r().forEach(re=>{if(re.effect.setKeyframes)re.effect.setKeyframes(_e);else{const ye=new KeyframeEffect(re.effect.target,_e,re.effect.getTiming());re.effect=ye}}):Qn()})(Dt),wt},addAnimation:_e=>{if(null!=_e)if(Array.isArray(_e))for(const re of _e)re.parent(wt),hn.push(re);else _e.parent(wt),hn.push(_e);return wt},addElement:_e=>{if(null!=_e)if(1===_e.nodeType)lr.push(_e);else if(_e.length>=0)for(let re=0;re<_e.length;re++)lr.push(_e[re]);else console.error("Invalid addElement value");return wt},update:jr,fill:_e=>(Ct=_e,jr(!0),wt),direction:_e=>(Tt=_e,jr(!0),wt),iterations:_e=>(ht=_e,jr(!0),wt),duration:_e=>(!Qr&&0===_e&&(_e=1),Lt=_e,jr(!0),wt),easing:_e=>(Rt=_e,jr(!0),wt),delay:_e=>($e=_e,jr(!0),wt),getWebAnimations:$r,getKeyframes:()=>Dt,getFill:Nr,getDirection:Rr,getDelay:ee,getIterations:se,getEasing:yt,getDuration:Te,afterAddRead:_e=>(Wr.push(_e),wt),afterAddWrite:_e=>(Sr.push(_e),wt),afterClearStyles:(_e=[])=>{for(const re of _e)Je[re]="";return wt},afterStyles:(_e={})=>(Je=_e,wt),afterRemoveClass:_e=>(Ae=mt(Ae,_e),wt),afterAddClass:_e=>(Qt=mt(Qt,_e),wt),beforeAddRead:_e=>(cn.push(_e),wt),beforeAddWrite:_e=>(Pr.push(_e),wt),beforeClearStyles:(_e=[])=>{for(const re of _e)kt[re]="";return wt},beforeStyles:(_e={})=>(kt=_e,wt),beforeRemoveClass:_e=>(it=mt(it,_e),wt),beforeAddClass:_e=>(vt=mt(vt,_e),wt),onFinish:Ei,isRunning:()=>0!==ut&&!fn,progressStart:(_e=!1,re)=>(hn.forEach(ye=>{ye.progressStart(_e,re)}),ro(),_t=_e,Gt||Fr(),jr(!1,!0,re),wt),progressStep:_e=>(hn.forEach(re=>{re.progressStep(_e)}),Or(_e),wt),progressEnd:(_e,re,ye)=>(_t=!1,hn.forEach(st=>{st.progressEnd(_e,re,ye)}),void 0!==ye&&(jt=ye),ln=!1,sn=!0,0===_e?(ft="reverse"===Rr()?"normal":"reverse","reverse"===ft&&(sn=!1),Qr?(jr(),Or(1-re)):(Pt=(1-re)*Te()*-1,jr(!1,!1))):1===_e&&(Qr?(jr(),Or(re)):(Pt=re*Te()*-1,jr(!1,!1))),void 0!==_e&&(Ei(()=>{jt=void 0,ft=void 0,Pt=void 0},{oneTimeCallback:!0}),St||Bs()),wt)}}},3982:(er,Nt,H)=>{"use strict";H.d(Nt,{E:()=>Be,a:()=>d,s:()=>Re});const d=Me=>{try{if(Me instanceof Se)return Me.value;if(!Fe()||"string"!=typeof Me||""===Me)return Me;if(Me.includes("onload="))return"";const ot=document.createDocumentFragment(),Pe=document.createElement("div");ot.appendChild(Pe),Pe.innerHTML=Me,Ke.forEach(He=>{const $e=ot.querySelectorAll(He);for(let Lt=$e.length-1;Lt>=0;Lt--){const Rt=$e[Lt];Rt.parentNode?Rt.parentNode.removeChild(Rt):ot.removeChild(Rt);const ht=ve(Rt);for(let Ct=0;Ct<ht.length;Ct++)v(ht[Ct])}});const ct=ve(ot);for(let He=0;He<ct.length;He++)v(ct[He]);const mt=document.createElement("div");mt.appendChild(ot);const Ut=mt.querySelector("div");return null!==Ut?Ut.innerHTML:mt.innerHTML}catch(ot){return console.error(ot),""}},v=Me=>{if(Me.nodeType&&1!==Me.nodeType)return;if(typeof NamedNodeMap<"u"&&!(Me.attributes instanceof NamedNodeMap))return void Me.remove();for(let Pe=Me.attributes.length-1;Pe>=0;Pe--){const ct=Me.attributes.item(Pe),mt=ct.name;if(!Xe.includes(mt.toLowerCase())){Me.removeAttribute(mt);continue}const Ut=ct.value,He=Me[mt];(null!=Ut&&Ut.toLowerCase().includes("javascript:")||null!=He&&He.toLowerCase().includes("javascript:"))&&Me.removeAttribute(mt)}const ot=ve(Me);for(let Pe=0;Pe<ot.length;Pe++)v(ot[Pe])},ve=Me=>null!=Me.children?Me.children:Me.childNodes,Fe=()=>{var Me;const ot=window,Pe=null===(Me=null==ot?void 0:ot.Ionic)||void 0===Me?void 0:Me.config;return!Pe||(Pe.get?Pe.get("sanitizerEnabled",!0):!0===Pe.sanitizerEnabled||void 0===Pe.sanitizerEnabled)},Xe=["class","id","href","src","name","slot"],Ke=["script","style","iframe","meta","link","object","embed"];class Se{constructor(ot){this.value=ot}}const Re=Me=>{const ot=window,Pe=ot.Ionic;if(!Pe||!Pe.config||"Object"===Pe.config.constructor.name)return ot.Ionic=ot.Ionic||{},ot.Ionic.config=Object.assign(Object.assign({},ot.Ionic.config),Me),ot.Ionic.config},Be=!1},6782:(er,Nt,H)=>{"use strict";H.d(Nt,{C:()=>Xe,a:()=>ve,d:()=>Fe});var d=H(5861),v=H(3577);const ve=function(){var Ke=(0,d.Z)(function*(Se,Re,Qe,Be,Me,ot){var Pe;if(Se)return Se.attachViewToDom(Re,Qe,Me,Be);if(!(ot||"string"==typeof Qe||Qe instanceof HTMLElement))throw new Error("framework delegate is missing");const ct="string"==typeof Qe?null===(Pe=Re.ownerDocument)||void 0===Pe?void 0:Pe.createElement(Qe):Qe;return Be&&Be.forEach(mt=>ct.classList.add(mt)),Me&&Object.assign(ct,Me),Re.appendChild(ct),yield new Promise(mt=>(0,v.c)(ct,mt)),ct});return function(Re,Qe,Be,Me,ot,Pe){return Ke.apply(this,arguments)}}(),Fe=(Ke,Se)=>{if(Se){if(Ke)return Ke.removeViewFromDom(Se.parentElement,Se);Se.remove()}return Promise.resolve()},Xe=()=>{let Ke,Se;return{attachViewToDom:function(){var Be=(0,d.Z)(function*(Me,ot,Pe={},ct=[]){var mt,Ut;if(Ke=Me,ot){const $e="string"==typeof ot?null===(mt=Ke.ownerDocument)||void 0===mt?void 0:mt.createElement(ot):ot;ct.forEach(Lt=>$e.classList.add(Lt)),Object.assign($e,Pe),Ke.appendChild($e),yield new Promise(Lt=>(0,v.c)($e,Lt))}else if(Ke.children.length>0&&("ION-MODAL"===Ke.tagName||"ION-POPOVER"===Ke.tagName)&&!Ke.children[0].classList.contains("ion-delegate-host")){const Lt=null===(Ut=Ke.ownerDocument)||void 0===Ut?void 0:Ut.createElement("div");Lt.classList.add("ion-delegate-host"),ct.forEach(Rt=>Lt.classList.add(Rt)),Lt.append(...Ke.children),Ke.appendChild(Lt)}const He=document.querySelector("ion-app")||document.body;return Se=document.createComment("ionic teleport"),Ke.parentNode.insertBefore(Se,Ke),He.appendChild(Ke),Ke});return function(ot,Pe){return Be.apply(this,arguments)}}(),removeViewFromDom:()=>(Ke&&Se&&(Se.parentNode.insertBefore(Ke,Se),Se.remove()),Promise.resolve())}}},4349:(er,Nt,H)=>{"use strict";H.d(Nt,{G:()=>Xe});class v{constructor(Se,Re,Qe,Be,Me){this.id=Re,this.name=Qe,this.disableScroll=Me,this.priority=1e6*Be+Re,this.ctrl=Se}canStart(){return!!this.ctrl&&this.ctrl.canStart(this.name)}start(){return!!this.ctrl&&this.ctrl.start(this.name,this.id,this.priority)}capture(){if(!this.ctrl)return!1;const Se=this.ctrl.capture(this.name,this.id,this.priority);return Se&&this.disableScroll&&this.ctrl.disableScroll(this.id),Se}release(){this.ctrl&&(this.ctrl.release(this.id),this.disableScroll&&this.ctrl.enableScroll(this.id))}destroy(){this.release(),this.ctrl=void 0}}class ve{constructor(Se,Re,Qe,Be){this.id=Re,this.disable=Qe,this.disableScroll=Be,this.ctrl=Se}block(){if(this.ctrl){if(this.disable)for(const Se of this.disable)this.ctrl.disableGesture(Se,this.id);this.disableScroll&&this.ctrl.disableScroll(this.id)}}unblock(){if(this.ctrl){if(this.disable)for(const Se of this.disable)this.ctrl.enableGesture(Se,this.id);this.disableScroll&&this.ctrl.enableScroll(this.id)}}destroy(){this.unblock(),this.ctrl=void 0}}const Fe="backdrop-no-scroll",Xe=new class d{constructor(){this.gestureId=0,this.requestedStart=new Map,this.disabledGestures=new Map,this.disabledScroll=new Set}createGesture(Se){var Re;return new v(this,this.newID(),Se.name,null!==(Re=Se.priority)&&void 0!==Re?Re:0,!!Se.disableScroll)}createBlocker(Se={}){return new ve(this,this.newID(),Se.disable,!!Se.disableScroll)}start(Se,Re,Qe){return this.canStart(Se)?(this.requestedStart.set(Re,Qe),!0):(this.requestedStart.delete(Re),!1)}capture(Se,Re,Qe){if(!this.start(Se,Re,Qe))return!1;const Be=this.requestedStart;let Me=-1e4;if(Be.forEach(ot=>{Me=Math.max(Me,ot)}),Me===Qe){this.capturedId=Re,Be.clear();const ot=new CustomEvent("ionGestureCaptured",{detail:{gestureName:Se}});return document.dispatchEvent(ot),!0}return Be.delete(Re),!1}release(Se){this.requestedStart.delete(Se),this.capturedId===Se&&(this.capturedId=void 0)}disableGesture(Se,Re){let Qe=this.disabledGestures.get(Se);void 0===Qe&&(Qe=new Set,this.disabledGestures.set(Se,Qe)),Qe.add(Re)}enableGesture(Se,Re){const Qe=this.disabledGestures.get(Se);void 0!==Qe&&Qe.delete(Re)}disableScroll(Se){this.disabledScroll.add(Se),1===this.disabledScroll.size&&document.body.classList.add(Fe)}enableScroll(Se){this.disabledScroll.delete(Se),0===this.disabledScroll.size&&document.body.classList.remove(Fe)}canStart(Se){return!(void 0!==this.capturedId||this.isDisabled(Se))}isCaptured(){return void 0!==this.capturedId}isScrollDisabled(){return this.disabledScroll.size>0}isDisabled(Se){const Re=this.disabledGestures.get(Se);return!!(Re&&Re.size>0)}newID(){return this.gestureId++,this.gestureId}}},7593:(er,Nt,H)=>{"use strict";H.r(Nt),H.d(Nt,{MENU_BACK_BUTTON_PRIORITY:()=>Xe,OVERLAY_BACK_BUTTON_PRIORITY:()=>Fe,blockHardwareBackButton:()=>v,startHardwareBackButton:()=>ve});var d=H(5861);const v=()=>{document.addEventListener("backbutton",()=>{})},ve=()=>{const Ke=document;let Se=!1;Ke.addEventListener("backbutton",()=>{if(Se)return;let Re=0,Qe=[];const Be=new CustomEvent("ionBackButton",{bubbles:!1,detail:{register(Pe,ct){Qe.push({priority:Pe,handler:ct,id:Re++})}}});Ke.dispatchEvent(Be);const Me=function(){var Pe=(0,d.Z)(function*(ct){try{if(null!=ct&&ct.handler){const mt=ct.handler(ot);null!=mt&&(yield mt)}}catch(mt){console.error(mt)}});return function(mt){return Pe.apply(this,arguments)}}(),ot=()=>{if(Qe.length>0){let Pe={priority:Number.MIN_SAFE_INTEGER,handler:()=>{},id:-1};Qe.forEach(ct=>{ct.priority>=Pe.priority&&(Pe=ct)}),Se=!0,Qe=Qe.filter(ct=>ct.id!==Pe.id),Me(Pe).then(()=>Se=!1)}};ot()})},Fe=100,Xe=99},3577:(er,Nt,H)=>{"use strict";H.d(Nt,{a:()=>Re,b:()=>Qe,c:()=>ve,d:()=>Ut,e:()=>mt,f:()=>ct,g:()=>Be,h:()=>Pe,i:()=>Se,j:()=>Ct,k:()=>Xe,l:()=>He,m:()=>Fe,n:()=>ot,o:()=>$e,p:()=>Rt,q:()=>ht,r:()=>Me,s:()=>Dt,t:()=>d,u:()=>Tt,v:()=>Lt});const d=(vt,it=0)=>new Promise(Gt=>{v(vt,it,Gt)}),v=(vt,it=0,Gt)=>{let St,kt;const Qt={passive:!0},Je=()=>{St&&St()},ut=_t=>{(void 0===_t||vt===_t.target)&&(Je(),Gt(_t))};return vt&&(vt.addEventListener("webkitTransitionEnd",ut,Qt),vt.addEventListener("transitionend",ut,Qt),kt=setTimeout(ut,it+500),St=()=>{kt&&(clearTimeout(kt),kt=void 0),vt.removeEventListener("webkitTransitionEnd",ut,Qt),vt.removeEventListener("transitionend",ut,Qt)}),Je},ve=(vt,it)=>{vt.componentOnReady?vt.componentOnReady().then(Gt=>it(Gt)):Me(()=>it(vt))},Fe=vt=>void 0!==vt.componentOnReady,Xe=(vt,it=[])=>{const Gt={};return it.forEach(St=>{vt.hasAttribute(St)&&(null!==vt.getAttribute(St)&&(Gt[St]=vt.getAttribute(St)),vt.removeAttribute(St))}),Gt},Ke=["role","aria-activedescendant","aria-atomic","aria-autocomplete","aria-braillelabel","aria-brailleroledescription","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colindextext","aria-colspan","aria-controls","aria-current","aria-describedby","aria-description","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowindextext","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext"],Se=(vt,it)=>{let Gt=Ke;return it&&it.length>0&&(Gt=Gt.filter(St=>!it.includes(St))),Xe(vt,Gt)},Re=(vt,it,Gt,St)=>{var kt;if(typeof window<"u"){const Qt=window,Ae=null===(kt=null==Qt?void 0:Qt.Ionic)||void 0===kt?void 0:kt.config;if(Ae){const Je=Ae.get("_ael");if(Je)return Je(vt,it,Gt,St);if(Ae._ael)return Ae._ael(vt,it,Gt,St)}}return vt.addEventListener(it,Gt,St)},Qe=(vt,it,Gt,St)=>{var kt;if(typeof window<"u"){const Qt=window,Ae=null===(kt=null==Qt?void 0:Qt.Ionic)||void 0===kt?void 0:kt.config;if(Ae){const Je=Ae.get("_rel");if(Je)return Je(vt,it,Gt,St);if(Ae._rel)return Ae._rel(vt,it,Gt,St)}}return vt.removeEventListener(it,Gt,St)},Be=(vt,it=vt)=>vt.shadowRoot||it,Me=vt=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(vt):"function"==typeof requestAnimationFrame?requestAnimationFrame(vt):setTimeout(vt),ot=vt=>!!vt.shadowRoot&&!!vt.attachShadow,Pe=vt=>{const it=vt.closest("ion-item");return it?it.querySelector("ion-label"):null},ct=vt=>{if(vt.focus(),vt.classList.contains("ion-focusable")){const it=vt.closest("ion-app");it&&it.setFocus([vt])}},mt=(vt,it)=>{let Gt;const St=vt.getAttribute("aria-labelledby"),kt=vt.id;let Qt=null!==St&&""!==St.trim()?St:it+"-lbl",Ae=null!==St&&""!==St.trim()?document.getElementById(St):Pe(vt);return Ae?(null===St&&(Ae.id=Qt),Gt=Ae.textContent,Ae.setAttribute("aria-hidden","true")):""!==kt.trim()&&(Ae=document.querySelector(`label[for="${kt}"]`),Ae&&(""!==Ae.id?Qt=Ae.id:Ae.id=Qt=`${kt}-lbl`,Gt=Ae.textContent)),{label:Ae,labelId:Qt,labelText:Gt}},Ut=(vt,it,Gt,St,kt)=>{if(vt||ot(it)){let Qt=it.querySelector("input.aux-input");Qt||(Qt=it.ownerDocument.createElement("input"),Qt.type="hidden",Qt.classList.add("aux-input"),it.appendChild(Qt)),Qt.disabled=kt,Qt.name=Gt,Qt.value=St||""}},He=(vt,it,Gt)=>Math.max(vt,Math.min(it,Gt)),$e=(vt,it)=>{if(!vt){const Gt="ASSERT: "+it;throw console.error(Gt),new Error(Gt)}},Lt=vt=>vt.timeStamp||Date.now(),Rt=vt=>{if(vt){const it=vt.changedTouches;if(it&&it.length>0){const Gt=it[0];return{x:Gt.clientX,y:Gt.clientY}}if(void 0!==vt.pageX)return{x:vt.pageX,y:vt.pageY}}return{x:0,y:0}},ht=vt=>{const it="rtl"===document.dir;switch(vt){case"start":return it;case"end":return!it;default:throw new Error(`"${vt}" is not a valid value for [side]. Use "start" or "end" instead.`)}},Ct=(vt,it)=>{const Gt=vt._original||vt;return{_original:vt,emit:Tt(Gt.emit.bind(Gt),it)}},Tt=(vt,it=0)=>{let Gt;return(...St)=>{clearTimeout(Gt),Gt=setTimeout(vt,it,...St)}},Dt=(vt,it)=>{if(null!=vt||(vt={}),null!=it||(it={}),vt===it)return!0;const Gt=Object.keys(vt);if(Gt.length!==Object.keys(it).length)return!1;for(const St of Gt)if(!(St in it)||vt[St]!==it[St])return!1;return!0}},3457:(er,Nt,H)=>{"use strict";H.d(Nt,{w:()=>d});const d=typeof window<"u"?window:void 0},1898:(er,Nt,H)=>{"use strict";H.r(Nt),H.d(Nt,{GESTURE_CONTROLLER:()=>d.G,createGesture:()=>Qe});var d=H(4349);const v=(Pe,ct,mt,Ut)=>{const He=ve(Pe)?{capture:!!Ut.capture,passive:!!Ut.passive}:!!Ut.capture;let $e,Lt;return Pe.__zone_symbol__addEventListener?($e="__zone_symbol__addEventListener",Lt="__zone_symbol__removeEventListener"):($e="addEventListener",Lt="removeEventListener"),Pe[$e](ct,mt,He),()=>{Pe[Lt](ct,mt,He)}},ve=Pe=>{if(void 0===Fe)try{const ct=Object.defineProperty({},"passive",{get:()=>{Fe=!0}});Pe.addEventListener("optsTest",()=>{},ct)}catch{Fe=!1}return!!Fe};let Fe;const Se=Pe=>Pe instanceof Document?Pe:Pe.ownerDocument,Qe=Pe=>{let ct=!1,mt=!1,Ut=!0,He=!1;const $e=Object.assign({disableScroll:!1,direction:"x",gesturePriority:0,passive:!0,maxAngle:40,threshold:10},Pe),Lt=$e.canStart,Rt=$e.onWillStart,ht=$e.onStart,Ct=$e.onEnd,Tt=$e.notCaptured,Dt=$e.onMove,vt=$e.threshold,it=$e.passive,Gt=$e.blurOnStart,St={type:"pan",startX:0,startY:0,startTime:0,currentX:0,currentY:0,velocityX:0,velocityY:0,deltaX:0,deltaY:0,currentTime:0,event:void 0,data:void 0},kt=((Pe,ct,mt)=>{const Ut=mt*(Math.PI/180),He="x"===Pe,$e=Math.cos(Ut),Lt=ct*ct;let Rt=0,ht=0,Ct=!1,Tt=0;return{start(Dt,vt){Rt=Dt,ht=vt,Tt=0,Ct=!0},detect(Dt,vt){if(!Ct)return!1;const it=Dt-Rt,Gt=vt-ht,St=it*it+Gt*Gt;if(St<Lt)return!1;const kt=Math.sqrt(St),Qt=(He?it:Gt)/kt;return Tt=Qt>$e?1:Qt<-$e?-1:0,Ct=!1,!0},isGesture:()=>0!==Tt,getDirection:()=>Tt}})($e.direction,$e.threshold,$e.maxAngle),Qt=d.G.createGesture({name:Pe.gestureName,priority:Pe.gesturePriority,disableScroll:Pe.disableScroll}),ut=()=>{ct&&(He=!1,Dt&&Dt(St))},_t=()=>!!Qt.capture()&&(ct=!0,Ut=!1,St.startX=St.currentX,St.startY=St.currentY,St.startTime=St.currentTime,Rt?Rt(St).then(Ge):Ge(),!0),Ge=()=>{Gt&&(()=>{if(typeof document<"u"){const ln=document.activeElement;null!=ln&&ln.blur&&ln.blur()}})(),ht&&ht(St),Ut=!0},ft=()=>{ct=!1,mt=!1,He=!1,Ut=!0,Qt.release()},jt=ln=>{const Oe=ct,rn=Ut;if(ft(),rn){if(Be(St,ln),Oe)return void(Ct&&Ct(St));Tt&&Tt(St)}},Pt=((Pe,ct,mt,Ut,He)=>{let $e,Lt,Rt,ht,Ct,Tt,Dt,vt=0;const it=tt=>{vt=Date.now()+2e3,ct(tt)&&(!Lt&&mt&&(Lt=v(Pe,"touchmove",mt,He)),Rt||(Rt=v(tt.target,"touchend",St,He)),ht||(ht=v(tt.target,"touchcancel",St,He)))},Gt=tt=>{vt>Date.now()||ct(tt)&&(!Tt&&mt&&(Tt=v(Se(Pe),"mousemove",mt,He)),Dt||(Dt=v(Se(Pe),"mouseup",kt,He)))},St=tt=>{Qt(),Ut&&Ut(tt)},kt=tt=>{Ae(),Ut&&Ut(tt)},Qt=()=>{Lt&&Lt(),Rt&&Rt(),ht&&ht(),Lt=Rt=ht=void 0},Ae=()=>{Tt&&Tt(),Dt&&Dt(),Tt=Dt=void 0},Je=()=>{Qt(),Ae()},ut=(tt=!0)=>{tt?($e||($e=v(Pe,"touchstart",it,He)),Ct||(Ct=v(Pe,"mousedown",Gt,He))):($e&&$e(),Ct&&Ct(),$e=Ct=void 0,Je())};return{enable:ut,stop:Je,destroy:()=>{ut(!1),Ut=mt=ct=void 0}}})($e.el,ln=>{const Oe=ot(ln);return!(mt||!Ut||(Me(ln,St),St.startX=St.currentX,St.startY=St.currentY,St.startTime=St.currentTime=Oe,St.velocityX=St.velocityY=St.deltaX=St.deltaY=0,St.event=ln,Lt&&!1===Lt(St))||(Qt.release(),!Qt.start()))&&(mt=!0,0===vt?_t():(kt.start(St.startX,St.startY),!0))},ln=>{ct?!He&&Ut&&(He=!0,Be(St,ln),requestAnimationFrame(ut)):(Be(St,ln),kt.detect(St.currentX,St.currentY)&&(!kt.isGesture()||!_t())&&sn())},jt,{capture:!1,passive:it}),sn=()=>{ft(),Pt.stop(),Tt&&Tt(St)};return{enable(ln=!0){ln||(ct&&jt(void 0),ft()),Pt.enable(ln)},destroy(){Qt.destroy(),Pt.destroy()}}},Be=(Pe,ct)=>{if(!ct)return;const mt=Pe.currentX,Ut=Pe.currentY,He=Pe.currentTime;Me(ct,Pe);const $e=Pe.currentX,Lt=Pe.currentY,ht=(Pe.currentTime=ot(ct))-He;if(ht>0&&ht<100){const Tt=(Lt-Ut)/ht;Pe.velocityX=($e-mt)/ht*.7+.3*Pe.velocityX,Pe.velocityY=.7*Tt+.3*Pe.velocityY}Pe.deltaX=$e-Pe.startX,Pe.deltaY=Lt-Pe.startY,Pe.event=ct},Me=(Pe,ct)=>{let mt=0,Ut=0;if(Pe){const He=Pe.changedTouches;if(He&&He.length>0){const $e=He[0];mt=$e.clientX,Ut=$e.clientY}else void 0!==Pe.pageX&&(mt=Pe.pageX,Ut=Pe.pageY)}ct.currentX=mt,ct.currentY=Ut},ot=Pe=>Pe.timeStamp||Date.now()},4083:(er,Nt,H)=>{"use strict";H.d(Nt,{B:()=>Me,H:()=>Je,a:()=>ns,b:()=>Vt,c:()=>ln,d:()=>fn,e:()=>Bs,f:()=>wt,g:()=>Oe,h:()=>Qt,i:()=>Wn,j:()=>ot,p:()=>ro,r:()=>Ft,w:()=>Zs});var d=H(5861);let ve,Fe,Xe,Ke=!1,Se=!1,Re=!1,Qe=!1,Be=!1;const Me={isDev:!1,isBrowser:!0,isServer:!1,isTesting:!1},ot=ie=>{const pe=new URL(ie,ei.$resourcesUrl$);return pe.origin!==Yr.location.origin?pe.href:pe.pathname},Lt="s-id",Rt="sty-id",Tt="http://www.w3.org/1999/xlink",Dt={},St=ie=>"object"==(ie=typeof ie)||"function"===ie;function kt(ie){var pe,ke,_e;return null!==(_e=null===(ke=null===(pe=ie.head)||void 0===pe?void 0:pe.querySelector('meta[name="csp-nonce"]'))||void 0===ke?void 0:ke.getAttribute("content"))&&void 0!==_e?_e:void 0}const Qt=(ie,pe,...ke)=>{let _e=null,re=null,ye=null,st=!1,It=!1;const Bt=[],tn=Hn=>{for(let Lr=0;Lr<Hn.length;Lr++)_e=Hn[Lr],Array.isArray(_e)?tn(_e):null!=_e&&"boolean"!=typeof _e&&((st="function"!=typeof ie&&!St(_e))&&(_e=String(_e)),st&&It?Bt[Bt.length-1].$text$+=_e:Bt.push(st?Ae(null,_e):_e),It=st)};if(tn(ke),pe){pe.key&&(re=pe.key),pe.name&&(ye=pe.name);{const Hn=pe.className||pe.class;Hn&&(pe.class="object"!=typeof Hn?Hn:Object.keys(Hn).filter(Lr=>Hn[Lr]).join(" "))}}if("function"==typeof ie)return ie(null===pe?{}:pe,Bt,_t);const Ln=Ae(ie,null);return Ln.$attrs$=pe,Bt.length>0&&(Ln.$children$=Bt),Ln.$key$=re,Ln.$name$=ye,Ln},Ae=(ie,pe)=>({$flags$:0,$tag$:ie,$text$:pe,$elm$:null,$children$:null,$attrs$:null,$key$:null,$name$:null}),Je={},_t={forEach:(ie,pe)=>ie.map(tt).forEach(pe),map:(ie,pe)=>ie.map(tt).map(pe).map(Ge)},tt=ie=>({vattrs:ie.$attrs$,vchildren:ie.$children$,vkey:ie.$key$,vname:ie.$name$,vtag:ie.$tag$,vtext:ie.$text$}),Ge=ie=>{if("function"==typeof ie.vtag){const ke=Object.assign({},ie.vattrs);return ie.vkey&&(ke.key=ie.vkey),ie.vname&&(ke.name=ie.vname),Qt(ie.vtag,ke,...ie.vchildren||[])}const pe=Ae(ie.vtag,ie.vtext);return pe.$attrs$=ie.vattrs,pe.$children$=ie.vchildren,pe.$key$=ie.vkey,pe.$name$=ie.vname,pe},jt=(ie,pe,ke,_e,re,ye,st)=>{let It,Bt,tn,Ln;if(1===ye.nodeType){for(It=ye.getAttribute("c-id"),It&&(Bt=It.split("."),(Bt[0]===st||"0"===Bt[0])&&(tn={$flags$:0,$hostId$:Bt[0],$nodeId$:Bt[1],$depth$:Bt[2],$index$:Bt[3],$tag$:ye.tagName.toLowerCase(),$elm$:ye,$attrs$:null,$children$:null,$key$:null,$name$:null,$text$:null},pe.push(tn),ye.removeAttribute("c-id"),ie.$children$||(ie.$children$=[]),ie.$children$[tn.$index$]=tn,ie=tn,_e&&"0"===tn.$depth$&&(_e[tn.$index$]=tn.$elm$))),Ln=ye.childNodes.length-1;Ln>=0;Ln--)jt(ie,pe,ke,_e,re,ye.childNodes[Ln],st);if(ye.shadowRoot)for(Ln=ye.shadowRoot.childNodes.length-1;Ln>=0;Ln--)jt(ie,pe,ke,_e,re,ye.shadowRoot.childNodes[Ln],st)}else if(8===ye.nodeType)Bt=ye.nodeValue.split("."),(Bt[1]===st||"0"===Bt[1])&&(It=Bt[0],tn={$flags$:0,$hostId$:Bt[1],$nodeId$:Bt[2],$depth$:Bt[3],$index$:Bt[4],$elm$:ye,$attrs$:null,$children$:null,$key$:null,$name$:null,$tag$:null,$text$:null},"t"===It?(tn.$elm$=ye.nextSibling,tn.$elm$&&3===tn.$elm$.nodeType&&(tn.$text$=tn.$elm$.textContent,pe.push(tn),ye.remove(),ie.$children$||(ie.$children$=[]),ie.$children$[tn.$index$]=tn,_e&&"0"===tn.$depth$&&(_e[tn.$index$]=tn.$elm$))):tn.$hostId$===st&&("s"===It?(tn.$tag$="slot",ye["s-sn"]=Bt[5]?tn.$name$=Bt[5]:"",ye["s-sr"]=!0,_e&&(tn.$elm$=jr.createElement(tn.$tag$),tn.$name$&&tn.$elm$.setAttribute("name",tn.$name$),ye.parentNode.insertBefore(tn.$elm$,ye),ye.remove(),"0"===tn.$depth$&&(_e[tn.$index$]=tn.$elm$)),ke.push(tn),ie.$children$||(ie.$children$=[]),ie.$children$[tn.$index$]=tn):"r"===It&&(_e?ye.remove():(re["s-cr"]=ye,ye["s-cn"]=!0))));else if(ie&&"style"===ie.$tag$){const Hn=Ae(null,ye.textContent);Hn.$elm$=ye,Hn.$index$="0",ie.$children$=[Hn]}},Pt=(ie,pe)=>{if(1===ie.nodeType){let ke=0;for(;ke<ie.childNodes.length;ke++)Pt(ie.childNodes[ke],pe);if(ie.shadowRoot)for(ke=0;ke<ie.shadowRoot.childNodes.length;ke++)Pt(ie.shadowRoot.childNodes[ke],pe)}else if(8===ie.nodeType){const ke=ie.nodeValue.split(".");"o"===ke[0]&&(pe.set(ke[1]+"."+ke[2],ie),ie.nodeValue="",ie["s-en"]=ke[3])}},ln=ie=>Ri.push(ie),Oe=ie=>Nn(ie).$modeName$,wt=ie=>Nn(ie).$hostElement$,fn=(ie,pe,ke)=>{const _e=wt(ie);return{emit:re=>_n(_e,pe,{bubbles:!!(4&ke),composed:!!(2&ke),cancelable:!!(1&ke),detail:re})}},_n=(ie,pe,ke)=>{const _e=ei.ce(pe,ke);return ie.dispatchEvent(_e),_e},tr=new WeakMap,ur=(ie,pe,ke)=>{let _e=Or.get(ie);cs&&ke?(_e=_e||new CSSStyleSheet,"string"==typeof _e?_e=pe:_e.replaceSync(pe)):_e=pe,Or.set(ie,_e)},lr=(ie,pe,ke,_e)=>{var re;let ye=Xn(pe,ke);const st=Or.get(ye);if(ie=11===ie.nodeType?ie:jr,st)if("string"==typeof st){let Bt,It=tr.get(ie=ie.head||ie);if(It||tr.set(ie,It=new Set),!It.has(ye)){if(ie.host&&(Bt=ie.querySelector(`[${Rt}="${ye}"]`)))Bt.innerHTML=st;else{Bt=jr.createElement("style"),Bt.innerHTML=st;const tn=null!==(re=ei.$nonce$)&&void 0!==re?re:kt(jr);null!=tn&&Bt.setAttribute("nonce",tn),ie.insertBefore(Bt,ie.querySelector("link"))}It&&It.add(ye)}}else ie.adoptedStyleSheets.includes(st)||(ie.adoptedStyleSheets=[...ie.adoptedStyleSheets,st]);return ye},Xn=(ie,pe)=>"sc-"+(pe&&32&ie.$flags$?ie.$tagName$+"-"+pe:ie.$tagName$),cn=ie=>ie.replace(/\/\*!@([^\/]+)\*\/[^\{]+\{/g,"$1{"),Pr=(ie,pe,ke,_e,re,ye)=>{if(ke!==_e){let st=mn(ie,pe),It=pe.toLowerCase();if("class"===pe){const Bt=ie.classList,tn=Sr(ke),Ln=Sr(_e);Bt.remove(...tn.filter(Hn=>Hn&&!Ln.includes(Hn))),Bt.add(...Ln.filter(Hn=>Hn&&!tn.includes(Hn)))}else if("style"===pe){for(const Bt in ke)(!_e||null==_e[Bt])&&(Bt.includes("-")?ie.style.removeProperty(Bt):ie.style[Bt]="");for(const Bt in _e)(!ke||_e[Bt]!==ke[Bt])&&(Bt.includes("-")?ie.style.setProperty(Bt,_e[Bt]):ie.style[Bt]=_e[Bt])}else if("key"!==pe)if("ref"===pe)_e&&_e(ie);else if(st||"o"!==pe[0]||"n"!==pe[1]){const Bt=St(_e);if((st||Bt&&null!==_e)&&!re)try{if(ie.tagName.includes("-"))ie[pe]=_e;else{const Ln=null==_e?"":_e;"list"===pe?st=!1:(null==ke||ie[pe]!=Ln)&&(ie[pe]=Ln)}}catch{}let tn=!1;It!==(It=It.replace(/^xlink\:?/,""))&&(pe=It,tn=!0),null==_e||!1===_e?(!1!==_e||""===ie.getAttribute(pe))&&(tn?ie.removeAttributeNS(Tt,pe):ie.removeAttribute(pe)):(!st||4&ye||re)&&!Bt&&(_e=!0===_e?"":_e,tn?ie.setAttributeNS(Tt,pe,_e):ie.setAttribute(pe,_e))}else pe="-"===pe[2]?pe.slice(3):mn(Yr,It)?It.slice(2):It[2]+pe.slice(3),ke&&ei.rel(ie,pe,ke,!1),_e&&ei.ael(ie,pe,_e,!1)}},Wr=/\s/,Sr=ie=>ie?ie.split(Wr):[],On=(ie,pe,ke,_e)=>{const re=11===pe.$elm$.nodeType&&pe.$elm$.host?pe.$elm$.host:pe.$elm$,ye=ie&&ie.$attrs$||Dt,st=pe.$attrs$||Dt;for(_e in ye)_e in st||Pr(re,_e,ye[_e],void 0,ke,pe.$flags$);for(_e in st)Pr(re,_e,ye[_e],st[_e],ke,pe.$flags$)},Gr=(ie,pe,ke,_e)=>{const re=pe.$children$[ke];let st,It,Bt,ye=0;if(Ke||(Re=!0,"slot"===re.$tag$&&(ve&&_e.classList.add(ve+"-s"),re.$flags$|=re.$children$?2:1)),null!==re.$text$)st=re.$elm$=jr.createTextNode(re.$text$);else if(1&re.$flags$)st=re.$elm$=jr.createTextNode("");else{if(Qe||(Qe="svg"===re.$tag$),st=re.$elm$=jr.createElementNS(Qe?"http://www.w3.org/2000/svg":"http://www.w3.org/1999/xhtml",2&re.$flags$?"slot-fb":re.$tag$),Qe&&"foreignObject"===re.$tag$&&(Qe=!1),On(null,re,Qe),(ie=>null!=ie)(ve)&&st["s-si"]!==ve&&st.classList.add(st["s-si"]=ve),re.$children$)for(ye=0;ye<re.$children$.length;++ye)It=Gr(ie,re,ye,st),It&&st.appendChild(It);"svg"===re.$tag$?Qe=!1:"foreignObject"===st.tagName&&(Qe=!0)}return st["s-hn"]=Xe,3&re.$flags$&&(st["s-sr"]=!0,st["s-cr"]=Fe,st["s-sn"]=re.$name$||"",Bt=ie&&ie.$children$&&ie.$children$[ke],Bt&&Bt.$tag$===re.$tag$&&ie.$elm$&&Qr(ie.$elm$,!1)),st},Qr=(ie,pe)=>{ei.$flags$|=1;const ke=ie.childNodes;for(let _e=ke.length-1;_e>=0;_e--){const re=ke[_e];re["s-hn"]!==Xe&&re["s-ol"]&&(rr(re).insertBefore(re,Zn(re)),re["s-ol"].remove(),re["s-ol"]=void 0,Re=!0),pe&&Qr(re,pe)}ei.$flags$&=-2},br=(ie,pe,ke,_e,re,ye)=>{let It,st=ie["s-cr"]&&ie["s-cr"].parentNode||ie;for(st.shadowRoot&&st.tagName===Xe&&(st=st.shadowRoot);re<=ye;++re)_e[re]&&(It=Gr(null,ke,re,ie),It&&(_e[re].$elm$=It,st.insertBefore(It,Zn(pe))))},$r=(ie,pe,ke)=>{for(let _e=pe;_e<=ke;++_e){const re=ie[_e];if(re){const ye=re.$elm$;Er(re),ye&&(Se=!0,ye["s-ol"]?ye["s-ol"].remove():Qr(ye,!0),ye.remove())}}},nr=(ie,pe)=>ie.$tag$===pe.$tag$&&("slot"===ie.$tag$?ie.$name$===pe.$name$:ie.$key$===pe.$key$),Zn=ie=>ie&&ie["s-ol"]||ie,rr=ie=>(ie["s-ol"]?ie["s-ol"]:ie).parentNode,Ei=(ie,pe)=>{const ke=pe.$elm$=ie.$elm$,_e=ie.$children$,re=pe.$children$,ye=pe.$tag$,st=pe.$text$;let It;null===st?(Qe="svg"===ye||"foreignObject"!==ye&&Qe,"slot"===ye||On(ie,pe,Qe),null!==_e&&null!==re?((ie,pe,ke,_e)=>{let ms,Qi,re=0,ye=0,st=0,It=0,Bt=pe.length-1,tn=pe[0],Ln=pe[Bt],Hn=_e.length-1,Lr=_e[0],ai=_e[Hn];for(;re<=Bt&&ye<=Hn;)if(null==tn)tn=pe[++re];else if(null==Ln)Ln=pe[--Bt];else if(null==Lr)Lr=_e[++ye];else if(null==ai)ai=_e[--Hn];else if(nr(tn,Lr))Ei(tn,Lr),tn=pe[++re],Lr=_e[++ye];else if(nr(Ln,ai))Ei(Ln,ai),Ln=pe[--Bt],ai=_e[--Hn];else if(nr(tn,ai))("slot"===tn.$tag$||"slot"===ai.$tag$)&&Qr(tn.$elm$.parentNode,!1),Ei(tn,ai),ie.insertBefore(tn.$elm$,Ln.$elm$.nextSibling),tn=pe[++re],ai=_e[--Hn];else if(nr(Ln,Lr))("slot"===tn.$tag$||"slot"===ai.$tag$)&&Qr(Ln.$elm$.parentNode,!1),Ei(Ln,Lr),ie.insertBefore(Ln.$elm$,tn.$elm$),Ln=pe[--Bt],Lr=_e[++ye];else{for(st=-1,It=re;It<=Bt;++It)if(pe[It]&&null!==pe[It].$key$&&pe[It].$key$===Lr.$key$){st=It;break}st>=0?(Qi=pe[st],Qi.$tag$!==Lr.$tag$?ms=Gr(pe&&pe[ye],ke,st,ie):(Ei(Qi,Lr),pe[st]=void 0,ms=Qi.$elm$),Lr=_e[++ye]):(ms=Gr(pe&&pe[ye],ke,ye,ie),Lr=_e[++ye]),ms&&rr(tn.$elm$).insertBefore(ms,Zn(tn.$elm$))}re>Bt?br(ie,null==_e[Hn+1]?null:_e[Hn+1].$elm$,ke,_e,ye,Hn):ye>Hn&&$r(pe,re,Bt)})(ke,_e,pe,re):null!==re?(null!==ie.$text$&&(ke.textContent=""),br(ke,null,pe,re,0,re.length-1)):null!==_e&&$r(_e,0,_e.length-1),Qe&&"svg"===ye&&(Qe=!1)):(It=ke["s-cr"])?It.parentNode.textContent=st:ie.$text$!==st&&(ke.data=st)},di=ie=>{const pe=ie.childNodes;let ke,_e,re,ye,st,It;for(_e=0,re=pe.length;_e<re;_e++)if(ke=pe[_e],1===ke.nodeType){if(ke["s-sr"])for(st=ke["s-sn"],ke.hidden=!1,ye=0;ye<re;ye++)if(It=pe[ye].nodeType,pe[ye]["s-hn"]!==ke["s-hn"]||""!==st){if(1===It&&st===pe[ye].getAttribute("slot")){ke.hidden=!0;break}}else if(1===It||3===It&&""!==pe[ye].textContent.trim()){ke.hidden=!0;break}di(ke)}},ni=[],ri=ie=>{let pe,ke,_e,re,ye,st,It=0;const Bt=ie.childNodes,tn=Bt.length;for(;It<tn;It++){if(pe=Bt[It],pe["s-sr"]&&(ke=pe["s-cr"])&&ke.parentNode)for(_e=ke.parentNode.childNodes,re=pe["s-sn"],st=_e.length-1;st>=0;st--)ke=_e[st],!ke["s-cn"]&&!ke["s-nr"]&&ke["s-hn"]!==pe["s-hn"]&&(oi(ke,re)?(ye=ni.find(Ln=>Ln.$nodeToRelocate$===ke),Se=!0,ke["s-sn"]=ke["s-sn"]||re,ye?ye.$slotRefNode$=pe:ni.push({$slotRefNode$:pe,$nodeToRelocate$:ke}),ke["s-sr"]&&ni.map(Ln=>{oi(Ln.$nodeToRelocate$,ke["s-sn"])&&(ye=ni.find(Hn=>Hn.$nodeToRelocate$===ke),ye&&!Ln.$slotRefNode$&&(Ln.$slotRefNode$=ye.$slotRefNode$))})):ni.some(Ln=>Ln.$nodeToRelocate$===ke)||ni.push({$nodeToRelocate$:ke}));1===pe.nodeType&&ri(pe)}},oi=(ie,pe)=>1===ie.nodeType?null===ie.getAttribute("slot")&&""===pe||ie.getAttribute("slot")===pe:ie["s-sn"]===pe||""===pe,Er=ie=>{ie.$attrs$&&ie.$attrs$.ref&&ie.$attrs$.ref(null),ie.$children$&&ie.$children$.map(Er)},yi=(ie,pe)=>{pe&&!ie.$onRenderResolve$&&pe["s-p"]&&pe["s-p"].push(new Promise(ke=>ie.$onRenderResolve$=ke))},Ar=(ie,pe)=>{if(ie.$flags$|=16,!(4&ie.$flags$))return yi(ie,ie.$ancestorComponent$),Zs(()=>An(ie,pe));ie.$flags$|=512},An=(ie,pe)=>{const _e=ie.$lazyInstance$;let re;return pe&&(ie.$flags$|=256,ie.$queuedListeners$&&(ie.$queuedListeners$.map(([ye,st])=>Nr(_e,ye,st)),ie.$queuedListeners$=null),re=Nr(_e,"componentWillLoad")),re=xe(re,()=>Nr(_e,"componentWillRender")),xe(re,()=>gt(ie,_e,pe))},xe=(ie,pe)=>ie instanceof Promise?ie.then(pe):pe(),gt=function(){var ie=(0,d.Z)(function*(pe,ke,_e){const re=pe.$hostElement$,st=re["s-rc"];_e&&(ie=>{const pe=ie.$cmpMeta$,ke=ie.$hostElement$,_e=pe.$flags$,ye=lr(ke.shadowRoot?ke.shadowRoot:ke.getRootNode(),pe,ie.$modeName$);10&_e&&(ke["s-sc"]=ye,ke.classList.add(ye+"-h"),2&_e&&ke.classList.add(ye+"-s"))})(pe);Wt(pe,ke),st&&(st.map(Bt=>Bt()),re["s-rc"]=void 0);{const Bt=re["s-p"],tn=()=>In(pe);0===Bt.length?tn():(Promise.all(Bt).then(tn),pe.$flags$|=4,Bt.length=0)}});return function(ke,_e,re){return ie.apply(this,arguments)}}(),Wt=(ie,pe,ke)=>{try{pe=pe.render&&pe.render(),ie.$flags$&=-17,ie.$flags$|=2,((ie,pe)=>{const ke=ie.$hostElement$,_e=ie.$cmpMeta$,re=ie.$vnode$||Ae(null,null),ye=(ie=>ie&&ie.$tag$===Je)(pe)?pe:Qt(null,null,pe);if(Xe=ke.tagName,_e.$attrsToReflect$&&(ye.$attrs$=ye.$attrs$||{},_e.$attrsToReflect$.map(([st,It])=>ye.$attrs$[It]=ke[st])),ye.$tag$=null,ye.$flags$|=4,ie.$vnode$=ye,ye.$elm$=re.$elm$=ke.shadowRoot||ke,ve=ke["s-sc"],Fe=ke["s-cr"],Ke=0!=(1&_e.$flags$),Se=!1,Ei(re,ye),ei.$flags$|=1,Re){ri(ye.$elm$);let st,It,Bt,tn,Ln,Hn,Lr=0;for(;Lr<ni.length;Lr++)st=ni[Lr],It=st.$nodeToRelocate$,It["s-ol"]||(Bt=jr.createTextNode(""),Bt["s-nr"]=It,It.parentNode.insertBefore(It["s-ol"]=Bt,It));for(Lr=0;Lr<ni.length;Lr++)if(st=ni[Lr],It=st.$nodeToRelocate$,st.$slotRefNode$){for(tn=st.$slotRefNode$.parentNode,Ln=st.$slotRefNode$.nextSibling,Bt=It["s-ol"];Bt=Bt.previousSibling;)if(Hn=Bt["s-nr"],Hn&&Hn["s-sn"]===It["s-sn"]&&tn===Hn.parentNode&&(Hn=Hn.nextSibling,!Hn||!Hn["s-nr"])){Ln=Hn;break}(!Ln&&tn!==It.parentNode||It.nextSibling!==Ln)&&It!==Ln&&(!It["s-hn"]&&It["s-ol"]&&(It["s-hn"]=It["s-ol"].parentNode.nodeName),tn.insertBefore(It,Ln))}else 1===It.nodeType&&(It.hidden=!0)}Se&&di(ye.$elm$),ei.$flags$&=-2,ni.length=0})(ie,pe)}catch(_e){Qn(_e,ie.$hostElement$)}return null},In=ie=>{const ke=ie.$hostElement$,re=ie.$lazyInstance$,ye=ie.$ancestorComponent$;Nr(re,"componentDidRender"),64&ie.$flags$?Nr(re,"componentDidUpdate"):(ie.$flags$|=64,Rr(ke),Nr(re,"componentDidLoad"),ie.$onReadyResolve$(ke),ye||Kr()),ie.$onInstanceResolve$(ke),ie.$onRenderResolve$&&(ie.$onRenderResolve$(),ie.$onRenderResolve$=void 0),512&ie.$flags$&&io(()=>Ar(ie,!1)),ie.$flags$&=-517},Wn=ie=>{{const pe=Nn(ie),ke=pe.$hostElement$.isConnected;return ke&&2==(18&pe.$flags$)&&Ar(pe,!1),ke}},Kr=ie=>{Rr(jr.documentElement),io(()=>_n(Yr,"appload",{detail:{namespace:"ionic"}}))},Nr=(ie,pe,ke)=>{if(ie&&ie[pe])try{return ie[pe](ke)}catch(_e){Qn(_e)}},Rr=ie=>ie.classList.add("hydrated"),se=(ie,pe,ke)=>{if(pe.$members$){ie.watchers&&(pe.$watchers$=ie.watchers);const _e=Object.entries(pe.$members$),re=ie.prototype;if(_e.map(([ye,[st]])=>{31&st||2&ke&&32&st?Object.defineProperty(re,ye,{get(){return((ie,pe)=>Nn(this).$instanceValues$.get(pe))(0,ye)},set(It){((ie,pe,ke,_e)=>{const re=Nn(ie),ye=re.$hostElement$,st=re.$instanceValues$.get(pe),It=re.$flags$,Bt=re.$lazyInstance$;ke=((ie,pe)=>null==ie||St(ie)?ie:4&pe?"false"!==ie&&(""===ie||!!ie):2&pe?parseFloat(ie):1&pe?String(ie):ie)(ke,_e.$members$[pe][0]);const tn=Number.isNaN(st)&&Number.isNaN(ke);if((!(8&It)||void 0===st)&&ke!==st&&!tn&&(re.$instanceValues$.set(pe,ke),Bt)){if(_e.$watchers$&&128&It){const Hn=_e.$watchers$[pe];Hn&&Hn.map(Lr=>{try{Bt[Lr](ke,st,pe)}catch(ai){Qn(ai,ye)}})}2==(18&It)&&Ar(re,!1)}})(this,ye,It,pe)},configurable:!0,enumerable:!0}):1&ke&&64&st&&Object.defineProperty(re,ye,{value(...It){const Bt=Nn(this);return Bt.$onInstancePromise$.then(()=>Bt.$lazyInstance$[ye](...It))}})}),1&ke){const ye=new Map;re.attributeChangedCallback=function(st,It,Bt){ei.jmp(()=>{const tn=ye.get(st);if(this.hasOwnProperty(tn))Bt=this[tn],delete this[tn];else if(re.hasOwnProperty(tn)&&"number"==typeof this[tn]&&this[tn]==Bt)return;this[tn]=(null!==Bt||"boolean"!=typeof this[tn])&&Bt})},ie.observedAttributes=_e.filter(([st,It])=>15&It[0]).map(([st,It])=>{const Bt=It[1]||st;return ye.set(Bt,st),512&It[0]&&pe.$attrsToReflect$.push([st,Bt]),Bt})}}return ie},ee=function(){var ie=(0,d.Z)(function*(pe,ke,_e,re,ye){if(!(32&ke.$flags$)){ke.$flags$|=32;{if((ye=Fr(_e)).then){const tn=()=>{};ye=yield ye,tn()}ye.isProxied||(_e.$watchers$=ye.watchers,se(ye,_e,2),ye.isProxied=!0);const Bt=()=>{};ke.$flags$|=8;try{new ye(ke)}catch(tn){Qn(tn)}ke.$flags$&=-9,ke.$flags$|=128,Bt(),oe(ke.$lazyInstance$)}if(ye.style){let Bt=ye.style;"string"!=typeof Bt&&(Bt=Bt[ke.$modeName$=(ie=>Ri.map(pe=>pe(ie)).find(pe=>!!pe))(pe)]);const tn=Xn(_e,ke.$modeName$);if(!Or.has(tn)){const Ln=()=>{};ur(tn,Bt,!!(1&_e.$flags$)),Ln()}}}const st=ke.$ancestorComponent$,It=()=>Ar(ke,!0);st&&st["s-rc"]?st["s-rc"].push(It):It()});return function(ke,_e,re,ye,st){return ie.apply(this,arguments)}}(),oe=ie=>{Nr(ie,"connectedCallback")},xt=ie=>{const pe=ie["s-cr"]=jr.createComment("");pe["s-cn"]=!0,ie.insertBefore(pe,ie.firstChild)},Vt=(ie,pe={})=>{var ke;const re=[],ye=pe.exclude||[],st=Yr.customElements,It=jr.head,Bt=It.querySelector("meta[charset]"),tn=jr.createElement("style"),Ln=[],Hn=jr.querySelectorAll(`[${Rt}]`);let Lr,ai=!0,ms=0;for(Object.assign(ei,pe),ei.$resourcesUrl$=new URL(pe.resourcesUrl||"./",jr.baseURI).href,ei.$flags$|=2;ms<Hn.length;ms++)ur(Hn[ms].getAttribute(Rt),cn(Hn[ms].innerHTML),!0);ie.map(Qi=>{Qi[1].map($s=>{const Li={$flags$:$s[0],$tagName$:$s[1],$members$:$s[2],$listeners$:$s[3]};Li.$members$=$s[2],Li.$listeners$=$s[3],Li.$attrsToReflect$=[],Li.$watchers$={};const ir=Li.$tagName$,qr=class extends HTMLElement{constructor($i){super($i),Kt($i=this,Li),1&Li.$flags$&&$i.attachShadow({mode:"open",delegatesFocus:!!(16&Li.$flags$)})}connectedCallback(){Lr&&(clearTimeout(Lr),Lr=null),ai?Ln.push(this):ei.jmp(()=>(ie=>{if(!(1&ei.$flags$)){const pe=Nn(ie),ke=pe.$cmpMeta$,_e=()=>{};if(1&pe.$flags$)nn(ie,pe,ke.$listeners$),oe(pe.$lazyInstance$);else{let re;if(pe.$flags$|=1,re=ie.getAttribute(Lt),re){if(1&ke.$flags$){const ye=lr(ie.shadowRoot,ke,ie.getAttribute("s-mode"));ie.classList.remove(ye+"-h",ye+"-s")}((ie,pe,ke,_e)=>{const ye=ie.shadowRoot,st=[],Bt=ye?[]:null,tn=_e.$vnode$=Ae(pe,null);ei.$orgLocNodes$||Pt(jr.body,ei.$orgLocNodes$=new Map),ie[Lt]=ke,ie.removeAttribute(Lt),jt(tn,st,[],Bt,ie,ie,ke),st.map(Ln=>{const Hn=Ln.$hostId$+"."+Ln.$nodeId$,Lr=ei.$orgLocNodes$.get(Hn),ai=Ln.$elm$;Lr&&uo&&""===Lr["s-en"]&&Lr.parentNode.insertBefore(ai,Lr.nextSibling),ye||(ai["s-hn"]=pe,Lr&&(ai["s-ol"]=Lr,ai["s-ol"]["s-nr"]=ai)),ei.$orgLocNodes$.delete(Hn)}),ye&&Bt.map(Ln=>{Ln&&ye.appendChild(Ln)})})(ie,ke.$tagName$,re,pe)}re||12&ke.$flags$&&xt(ie);{let ye=ie;for(;ye=ye.parentNode||ye.host;)if(1===ye.nodeType&&ye.hasAttribute("s-id")&&ye["s-p"]||ye["s-p"]){yi(pe,pe.$ancestorComponent$=ye);break}}ke.$members$&&Object.entries(ke.$members$).map(([ye,[st]])=>{if(31&st&&ie.hasOwnProperty(ye)){const It=ie[ye];delete ie[ye],ie[ye]=It}}),ee(ie,pe,ke)}_e()}})(this))}disconnectedCallback(){ei.jmp(()=>(ie=>{if(!(1&ei.$flags$)){const pe=Nn(this),ke=pe.$lazyInstance$;pe.$rmListeners$&&(pe.$rmListeners$.map(_e=>_e()),pe.$rmListeners$=void 0),Nr(ke,"disconnectedCallback")}})())}componentOnReady(){return Nn(this).$onReadyPromise$}};Li.$lazyBundleId$=Qi[0],!ye.includes(ir)&&!st.get(ir)&&(re.push(ir),st.define(ir,se(qr,Li,1)))})});{tn.innerHTML=re+"{visibility:hidden}.hydrated{visibility:inherit}",tn.setAttribute("data-styles","");const Qi=null!==(ke=ei.$nonce$)&&void 0!==ke?ke:kt(jr);null!=Qi&&tn.setAttribute("nonce",Qi),It.insertBefore(tn,Bt?Bt.nextSibling:It.firstChild)}ai=!1,Ln.length?Ln.map(Qi=>Qi.connectedCallback()):ei.jmp(()=>Lr=setTimeout(Kr,30))},nn=(ie,pe,ke,_e)=>{ke&&ke.map(([re,ye,st])=>{const It=wn(ie,re),Bt=Tn(pe,st),tn=Gn(re);ei.ael(It,ye,Bt,tn),(pe.$rmListeners$=pe.$rmListeners$||[]).push(()=>ei.rel(It,ye,Bt,tn))})},Tn=(ie,pe)=>ke=>{try{256&ie.$flags$?ie.$lazyInstance$[pe](ke):(ie.$queuedListeners$=ie.$queuedListeners$||[]).push([pe,ke])}catch(_e){Qn(_e)}},wn=(ie,pe)=>4&pe?jr:8&pe?Yr:16&pe?jr.body:ie,Gn=ie=>0!=(2&ie),bn=new WeakMap,Nn=ie=>bn.get(ie),Ft=(ie,pe)=>bn.set(pe.$lazyInstance$=ie,pe),Kt=(ie,pe)=>{const ke={$flags$:0,$hostElement$:ie,$cmpMeta$:pe,$instanceValues$:new Map};return ke.$onInstancePromise$=new Promise(_e=>ke.$onInstanceResolve$=_e),ke.$onReadyPromise$=new Promise(_e=>ke.$onReadyResolve$=_e),ie["s-p"]=[],ie["s-rc"]=[],nn(ie,ke,pe.$listeners$),bn.set(ie,ke)},mn=(ie,pe)=>pe in ie,Qn=(ie,pe)=>(0,console.error)(ie,pe),gr=new Map,Fr=(ie,pe,ke)=>{const _e=ie.$tagName$.replace(/-/g,"_"),re=ie.$lazyBundleId$,ye=gr.get(re);return ye?ye[_e]:H(863)(`./${re}.entry.js`).then(st=>(gr.set(re,st),st[_e]),Qn)},Or=new Map,Ri=[],Yr=typeof window<"u"?window:{},jr=Yr.document||{head:{}},ei={$flags$:0,$resourcesUrl$:"",jmp:ie=>ie(),raf:ie=>requestAnimationFrame(ie),ael:(ie,pe,ke,_e)=>ie.addEventListener(pe,ke,_e),rel:(ie,pe,ke,_e)=>ie.removeEventListener(pe,ke,_e),ce:(ie,pe)=>new CustomEvent(ie,pe)},ns=ie=>{Object.assign(ei,ie)},uo=!0,ro=ie=>Promise.resolve(ie),cs=(()=>{try{return new CSSStyleSheet,"function"==typeof(new CSSStyleSheet).replaceSync}catch{}return!1})(),rs=[],wo=[],as=(ie,pe)=>ke=>{ie.push(ke),Be||(Be=!0,pe&&4&ei.$flags$?io(qs):ei.raf(qs))},zi=ie=>{for(let pe=0;pe<ie.length;pe++)try{ie[pe](performance.now())}catch(ke){Qn(ke)}ie.length=0},qs=()=>{zi(rs),zi(wo),(Be=rs.length>0)&&ei.raf(qs)},io=ie=>ro().then(ie),Bs=as(rs,!1),Zs=as(wo,!0)},8126:(er,Nt,H)=>{"use strict";H.d(Nt,{m:()=>Me});var d=H(5861),v=H(7593),ve=H(3577),Fe=H(5273),Xe=H(9613);const Ke=ot=>(0,Xe.c)().duration(ot?400:300),Se=ot=>{let Pe,ct;const mt=ot.width+8,Ut=(0,Xe.c)(),He=(0,Xe.c)();ot.isEndSide?(Pe=mt+"px",ct="0px"):(Pe=-mt+"px",ct="0px"),Ut.addElement(ot.menuInnerEl).fromTo("transform",`translateX(${Pe})`,`translateX(${ct})`);const Lt="ios"===(0,Fe.b)(ot),Rt=Lt?.2:.25;return He.addElement(ot.backdropEl).fromTo("opacity",.01,Rt),Ke(Lt).addAnimation([Ut,He])},Re=ot=>{let Pe,ct;const mt=(0,Fe.b)(ot),Ut=ot.width;ot.isEndSide?(Pe=-Ut+"px",ct=Ut+"px"):(Pe=Ut+"px",ct=-Ut+"px");const He=(0,Xe.c)().addElement(ot.menuInnerEl).fromTo("transform",`translateX(${ct})`,"translateX(0px)"),$e=(0,Xe.c)().addElement(ot.contentEl).fromTo("transform","translateX(0px)",`translateX(${Pe})`),Lt=(0,Xe.c)().addElement(ot.backdropEl).fromTo("opacity",.01,.32);return Ke("ios"===mt).addAnimation([He,$e,Lt])},Qe=ot=>{const Pe=(0,Fe.b)(ot),ct=ot.width*(ot.isEndSide?-1:1)+"px",mt=(0,Xe.c)().addElement(ot.contentEl).fromTo("transform","translateX(0px)",`translateX(${ct})`);return Ke("ios"===Pe).addAnimation(mt)},Me=(()=>{const ot=new Map,Pe=[],ct=function(){var Ge=(0,d.Z)(function*(ft){const jt=yield ht(ft);return!!jt&&jt.open()});return function(jt){return Ge.apply(this,arguments)}}(),mt=function(){var Ge=(0,d.Z)(function*(ft){const jt=yield void 0!==ft?ht(ft):Ct();return void 0!==jt&&jt.close()});return function(jt){return Ge.apply(this,arguments)}}(),Ut=function(){var Ge=(0,d.Z)(function*(ft){const jt=yield ht(ft);return!!jt&&jt.toggle()});return function(jt){return Ge.apply(this,arguments)}}(),He=function(){var Ge=(0,d.Z)(function*(ft,jt){const Pt=yield ht(jt);return Pt&&(Pt.disabled=!ft),Pt});return function(jt,Pt){return Ge.apply(this,arguments)}}(),$e=function(){var Ge=(0,d.Z)(function*(ft,jt){const Pt=yield ht(jt);return Pt&&(Pt.swipeGesture=ft),Pt});return function(jt,Pt){return Ge.apply(this,arguments)}}(),Lt=function(){var Ge=(0,d.Z)(function*(ft){if(null!=ft){const jt=yield ht(ft);return void 0!==jt&&jt.isOpen()}return void 0!==(yield Ct())});return function(jt){return Ge.apply(this,arguments)}}(),Rt=function(){var Ge=(0,d.Z)(function*(ft){const jt=yield ht(ft);return!!jt&&!jt.disabled});return function(jt){return Ge.apply(this,arguments)}}(),ht=function(){var Ge=(0,d.Z)(function*(ft){return yield tt(),"start"===ft||"end"===ft?_t(sn=>sn.side===ft&&!sn.disabled)||_t(sn=>sn.side===ft):null!=ft?_t(Pt=>Pt.menuId===ft):_t(Pt=>!Pt.disabled)||(Pe.length>0?Pe[0].el:void 0)});return function(jt){return Ge.apply(this,arguments)}}(),Ct=function(){var Ge=(0,d.Z)(function*(){return yield tt(),Ae()});return function(){return Ge.apply(this,arguments)}}(),Tt=function(){var Ge=(0,d.Z)(function*(){return yield tt(),Je()});return function(){return Ge.apply(this,arguments)}}(),Dt=function(){var Ge=(0,d.Z)(function*(){return yield tt(),ut()});return function(){return Ge.apply(this,arguments)}}(),vt=(Ge,ft)=>{ot.set(Ge,ft)},St=Ge=>{const ft=Ge.side;Pe.filter(jt=>jt.side===ft&&jt!==Ge).forEach(jt=>jt.disabled=!0)},kt=function(){var Ge=(0,d.Z)(function*(ft,jt,Pt){if(ut())return!1;if(jt){const sn=yield Ct();sn&&ft.el!==sn&&(yield sn.setOpen(!1,!1))}return ft._setOpen(jt,Pt)});return function(jt,Pt,sn){return Ge.apply(this,arguments)}}(),Ae=()=>_t(Ge=>Ge._isOpen),Je=()=>Pe.map(Ge=>Ge.el),ut=()=>Pe.some(Ge=>Ge.isAnimating),_t=Ge=>{const ft=Pe.find(Ge);if(void 0!==ft)return ft.el},tt=()=>Promise.all(Array.from(document.querySelectorAll("ion-menu")).map(Ge=>new Promise(ft=>(0,ve.c)(Ge,ft))));return vt("reveal",Qe),vt("push",Re),vt("overlay",Se),typeof document<"u"&&document.addEventListener("ionBackButton",Ge=>{const ft=Ae();ft&&Ge.detail.register(v.MENU_BACK_BUTTON_PRIORITY,()=>ft.close())}),{registerAnimation:vt,get:ht,getMenus:Tt,getOpen:Ct,isEnabled:Rt,swipeGesture:$e,isAnimating:Dt,isOpen:Lt,enable:He,toggle:Ut,close:mt,open:ct,_getOpenSync:Ae,_createAnimation:(Ge,ft)=>{const jt=ot.get(Ge);if(!jt)throw new Error("animation not registered");return jt(ft)},_register:Ge=>{Pe.indexOf(Ge)<0&&(Ge.disabled||St(Ge),Pe.push(Ge))},_unregister:Ge=>{const ft=Pe.indexOf(Ge);ft>-1&&Pe.splice(ft,1)},_setOpen:kt,_setActiveMenu:St}})()},1178:(er,Nt,H)=>{"use strict";H.d(Nt,{a:()=>v,b:()=>ve,p:()=>d});const d=(Fe,...Xe)=>console.warn(`[Ionic Warning]: ${Fe}`,...Xe),v=(Fe,...Xe)=>console.error(`[Ionic Error]: ${Fe}`,...Xe),ve=(Fe,...Xe)=>console.error(`<${Fe.tagName.toLowerCase()}> must be used inside ${Xe.join(" or ")}.`)},9866:(er,Nt,H)=>{"use strict";H.d(Nt,{L:()=>Fe,a:()=>Xe,b:()=>Ke,c:()=>Se,d:()=>Re,e:()=>Dt,g:()=>Gt,l:()=>Tt,s:()=>vt,t:()=>Me});var d=H(5861),v=H(4083),ve=H(3577);const Fe="ionViewWillEnter",Xe="ionViewDidEnter",Ke="ionViewWillLeave",Se="ionViewDidLeave",Re="ionViewWillUnload",Me=St=>new Promise((kt,Qt)=>{(0,v.w)(()=>{ot(St),Pe(St).then(Ae=>{Ae.animation&&Ae.animation.destroy(),ct(St),kt(Ae)},Ae=>{ct(St),Qt(Ae)})})}),ot=St=>{const kt=St.enteringEl,Qt=St.leavingEl;it(kt,Qt,St.direction),St.showGoBack?kt.classList.add("can-go-back"):kt.classList.remove("can-go-back"),vt(kt,!1),kt.style.setProperty("pointer-events","none"),Qt&&(vt(Qt,!1),Qt.style.setProperty("pointer-events","none"))},Pe=function(){var St=(0,d.Z)(function*(kt){const Qt=yield mt(kt);return Qt&&v.B.isBrowser?Ut(Qt,kt):He(kt)});return function(Qt){return St.apply(this,arguments)}}(),ct=St=>{const kt=St.enteringEl,Qt=St.leavingEl;kt.classList.remove("ion-page-invisible"),kt.style.removeProperty("pointer-events"),void 0!==Qt&&(Qt.classList.remove("ion-page-invisible"),Qt.style.removeProperty("pointer-events"))},mt=function(){var St=(0,d.Z)(function*(kt){return kt.leavingEl&&kt.animated&&0!==kt.duration?kt.animationBuilder?kt.animationBuilder:"ios"===kt.mode?(yield Promise.resolve().then(H.bind(H,3551))).iosTransitionAnimation:(yield Promise.resolve().then(H.bind(H,1138))).mdTransitionAnimation:void 0});return function(Qt){return St.apply(this,arguments)}}(),Ut=function(){var St=(0,d.Z)(function*(kt,Qt){yield $e(Qt,!0);const Ae=kt(Qt.baseEl,Qt);ht(Qt.enteringEl,Qt.leavingEl);const Je=yield Rt(Ae,Qt);return Qt.progressCallback&&Qt.progressCallback(void 0),Je&&Ct(Qt.enteringEl,Qt.leavingEl),{hasCompleted:Je,animation:Ae}});return function(Qt,Ae){return St.apply(this,arguments)}}(),He=function(){var St=(0,d.Z)(function*(kt){const Qt=kt.enteringEl,Ae=kt.leavingEl;return yield $e(kt,!1),ht(Qt,Ae),Ct(Qt,Ae),{hasCompleted:!0}});return function(Qt){return St.apply(this,arguments)}}(),$e=function(){var St=(0,d.Z)(function*(kt,Qt){(void 0!==kt.deepWait?kt.deepWait:Qt)&&(yield Promise.all([Dt(kt.enteringEl),Dt(kt.leavingEl)])),yield Lt(kt.viewIsReady,kt.enteringEl)});return function(Qt,Ae){return St.apply(this,arguments)}}(),Lt=function(){var St=(0,d.Z)(function*(kt,Qt){kt&&(yield kt(Qt))});return function(Qt,Ae){return St.apply(this,arguments)}}(),Rt=(St,kt)=>{const Qt=kt.progressCallback,Ae=new Promise(Je=>{St.onFinish(ut=>Je(1===ut))});return Qt?(St.progressStart(!0),Qt(St)):St.play(),Ae},ht=(St,kt)=>{Tt(kt,Ke),Tt(St,Fe)},Ct=(St,kt)=>{Tt(St,Xe),Tt(kt,Se)},Tt=(St,kt)=>{if(St){const Qt=new CustomEvent(kt,{bubbles:!1,cancelable:!1});St.dispatchEvent(Qt)}},Dt=function(){var St=(0,d.Z)(function*(kt){const Qt=kt;if(Qt){if(null!=Qt.componentOnReady){if(null!=(yield Qt.componentOnReady()))return}else if(null!=Qt.__registerHost)return void(yield new Promise(Je=>(0,ve.r)(Je)));yield Promise.all(Array.from(Qt.children).map(Dt))}});return function(Qt){return St.apply(this,arguments)}}(),vt=(St,kt)=>{kt?(St.setAttribute("aria-hidden","true"),St.classList.add("ion-page-hidden")):(St.hidden=!1,St.removeAttribute("aria-hidden"),St.classList.remove("ion-page-hidden"))},it=(St,kt,Qt)=>{void 0!==St&&(St.style.zIndex="back"===Qt?"99":"101"),void 0!==kt&&(kt.style.zIndex="100")},Gt=St=>St.classList.contains("ion-page")?St:St.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")||St},5273:(er,Nt,H)=>{"use strict";H.d(Nt,{a:()=>Me,b:()=>ut,c:()=>ve,g:()=>Be,i:()=>_t});var d=H(4083);class v{constructor(){this.m=new Map}reset(Ge){this.m=new Map(Object.entries(Ge))}get(Ge,ft){const jt=this.m.get(Ge);return void 0!==jt?jt:ft}getBoolean(Ge,ft=!1){const jt=this.m.get(Ge);return void 0===jt?ft:"string"==typeof jt?"true"===jt:!!jt}getNumber(Ge,ft){const jt=parseFloat(this.m.get(Ge));return isNaN(jt)?void 0!==ft?ft:NaN:jt}set(Ge,ft){this.m.set(Ge,ft)}}const ve=new v,Qe="ionic-persist-config",Be=tt=>ot(tt),Me=(tt,Ge)=>("string"==typeof tt&&(Ge=tt,tt=void 0),Be(tt).includes(Ge)),ot=(tt=window)=>{if(typeof tt>"u")return[];tt.Ionic=tt.Ionic||{};let Ge=tt.Ionic.platforms;return null==Ge&&(Ge=tt.Ionic.platforms=Pe(tt),Ge.forEach(ft=>tt.document.documentElement.classList.add(`plt-${ft}`))),Ge},Pe=tt=>{const Ge=ve.get("platform");return Object.keys(Ae).filter(ft=>{const jt=null==Ge?void 0:Ge[ft];return"function"==typeof jt?jt(tt):Ae[ft](tt)})},mt=tt=>!!(kt(tt,/iPad/i)||kt(tt,/Macintosh/i)&&Ct(tt)),$e=tt=>kt(tt,/android|sink/i),Ct=tt=>Qt(tt,"(any-pointer:coarse)"),Dt=tt=>vt(tt)||it(tt),vt=tt=>!!(tt.cordova||tt.phonegap||tt.PhoneGap),it=tt=>{const Ge=tt.Capacitor;return!(null==Ge||!Ge.isNative)},kt=(tt,Ge)=>Ge.test(tt.navigator.userAgent),Qt=(tt,Ge)=>{var ft;return null===(ft=tt.matchMedia)||void 0===ft?void 0:ft.call(tt,Ge).matches},Ae={ipad:mt,iphone:tt=>kt(tt,/iPhone/i),ios:tt=>kt(tt,/iPhone|iPod/i)||mt(tt),android:$e,phablet:tt=>{const Ge=tt.innerWidth,ft=tt.innerHeight,jt=Math.min(Ge,ft),Pt=Math.max(Ge,ft);return jt>390&&jt<520&&Pt>620&&Pt<800},tablet:tt=>{const Ge=tt.innerWidth,ft=tt.innerHeight,jt=Math.min(Ge,ft),Pt=Math.max(Ge,ft);return mt(tt)||(tt=>$e(tt)&&!kt(tt,/mobile/i))(tt)||jt>460&&jt<820&&Pt>780&&Pt<1400},cordova:vt,capacitor:it,electron:tt=>kt(tt,/electron/i),pwa:tt=>{var Ge;return!!(null!==(Ge=tt.matchMedia)&&void 0!==Ge&&Ge.call(tt,"(display-mode: standalone)").matches||tt.navigator.standalone)},mobile:Ct,mobileweb:tt=>Ct(tt)&&!Dt(tt),desktop:tt=>!Ct(tt),hybrid:Dt};let Je;const ut=tt=>tt&&(0,d.g)(tt)||Je,_t=(tt={})=>{if(typeof window>"u")return;const Ge=window.document,ft=window,jt=ft.Ionic=ft.Ionic||{},Pt={};tt._ael&&(Pt.ael=tt._ael),tt._rel&&(Pt.rel=tt._rel),tt._ce&&(Pt.ce=tt._ce),(0,d.a)(Pt);const sn=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},(tt=>{try{const Ge=tt.sessionStorage.getItem(Qe);return null!==Ge?JSON.parse(Ge):{}}catch{return{}}})(ft)),{persistConfig:!1}),jt.config),(tt=>{const Ge={};return tt.location.search.slice(1).split("&").map(ft=>ft.split("=")).map(([ft,jt])=>[decodeURIComponent(ft),decodeURIComponent(jt)]).filter(([ft])=>((tt,Ge)=>tt.substr(0,Ge.length)===Ge)(ft,"ionic:")).map(([ft,jt])=>[ft.slice(6),jt]).forEach(([ft,jt])=>{Ge[ft]=jt}),Ge})(ft)),tt);ve.reset(sn),ve.getBoolean("persistConfig")&&((tt,Ge)=>{try{tt.sessionStorage.setItem(Qe,JSON.stringify(Ge))}catch{return}})(ft,sn),ot(ft),jt.config=ve,jt.mode=Je=ve.get("mode",Ge.documentElement.getAttribute("mode")||(Me(ft,"ios")?"ios":"md")),ve.set("mode",Je),Ge.documentElement.setAttribute("mode",Je),Ge.documentElement.classList.add(Je),ve.getBoolean("_testing")&&ve.set("animated",!1);const ln=rn=>{var wt;return null===(wt=rn.tagName)||void 0===wt?void 0:wt.startsWith("ION-")},Oe=rn=>["ios","md"].includes(rn);(0,d.c)(rn=>{for(;rn;){const wt=rn.mode||rn.getAttribute("mode");if(wt){if(Oe(wt))return wt;ln(rn)&&console.warn('Invalid ionic mode: "'+wt+'", expected: "ios" or "md"')}rn=rn.parentElement}return Je})}},3551:(er,Nt,H)=>{"use strict";H.r(Nt),H.d(Nt,{iosTransitionAnimation:()=>Pe,shadow:()=>Se});var d=H(9613),v=H(9866);H(3457),H(4083);const Ke=ct=>document.querySelector(`${ct}.ion-cloned-element`),Se=ct=>ct.shadowRoot||ct,Re=ct=>{const mt="ION-TABS"===ct.tagName?ct:ct.querySelector("ion-tabs"),Ut="ion-content ion-header:not(.header-collapse-condense-inactive) ion-title.title-large";if(null!=mt){const He=mt.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");return null!=He?He.querySelector(Ut):null}return ct.querySelector(Ut)},Qe=(ct,mt)=>{const Ut="ION-TABS"===ct.tagName?ct:ct.querySelector("ion-tabs");let He=[];if(null!=Ut){const $e=Ut.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");null!=$e&&(He=$e.querySelectorAll("ion-buttons"))}else He=ct.querySelectorAll("ion-buttons");for(const $e of He){const Lt=$e.closest("ion-header"),Rt=Lt&&!Lt.classList.contains("header-collapse-condense-inactive"),ht=$e.querySelector("ion-back-button"),Ct=$e.classList.contains("buttons-collapse");if(null!==ht&&("start"===$e.slot||""===$e.slot)&&(Ct&&Rt&&mt||!Ct))return ht}return null},Me=(ct,mt,Ut,He,$e,Lt)=>{const Rt=mt?`calc(100% - ${Lt.right+4}px)`:Lt.left-4+"px",ht=mt?"7px":"-7px",Ct=mt?"-4px":"4px",Tt=mt?"-4px":"4px",Dt=mt?"right":"left",vt=mt?"left":"right",St=Ut?[{offset:0,opacity:1,transform:`translate3d(${Ct}, ${Lt.top-46}px, 0) scale(1)`},{offset:.6,opacity:0},{offset:1,opacity:0,transform:`translate3d(${ht}, ${$e.top-40}px, 0) scale(2.1)`}]:[{offset:0,opacity:0,transform:`translate3d(${ht}, ${$e.top-40}px, 0) scale(2.1)`},{offset:1,opacity:1,transform:`translate3d(${Ct}, ${Lt.top-46}px, 0) scale(1)`}],Ae=Ut?[{offset:0,opacity:1,transform:`translate3d(${Tt}, ${Lt.top-46}px, 0) scale(1)`},{offset:.2,opacity:0,transform:`translate3d(${Tt}, ${Lt.top-41}px, 0) scale(0.6)`},{offset:1,opacity:0,transform:`translate3d(${Tt}, ${Lt.top-41}px, 0) scale(0.6)`}]:[{offset:0,opacity:0,transform:`translate3d(${Tt}, ${Lt.top-41}px, 0) scale(0.6)`},{offset:1,opacity:1,transform:`translate3d(${Tt}, ${Lt.top-46}px, 0) scale(1)`}],Je=(0,d.c)(),ut=(0,d.c)(),_t=Ke("ion-back-button"),tt=Se(_t).querySelector(".button-text"),Ge=Se(_t).querySelector("ion-icon");_t.text=He.text,_t.mode=He.mode,_t.icon=He.icon,_t.color=He.color,_t.disabled=He.disabled,_t.style.setProperty("display","block"),_t.style.setProperty("position","fixed"),ut.addElement(Ge),Je.addElement(tt),Je.beforeStyles({"transform-origin":`${Dt} center`}).beforeAddWrite(()=>{He.style.setProperty("display","none"),_t.style.setProperty(Dt,Rt)}).afterAddWrite(()=>{He.style.setProperty("display",""),_t.style.setProperty("display","none"),_t.style.removeProperty(Dt)}).keyframes(St),ut.beforeStyles({"transform-origin":`${vt} center`}).keyframes(Ae),ct.addAnimation([Je,ut])},ot=(ct,mt,Ut,He,$e,Lt)=>{const Rt=mt?`calc(100% - ${$e.right}px)`:`${$e.left}px`,ht=mt?"-18px":"18px",Ct=mt?"right":"left",vt=Ut?[{offset:0,opacity:0,transform:`translate3d(${ht}, ${Lt.top-4}px, 0) scale(0.49)`},{offset:.1,opacity:0},{offset:1,opacity:1,transform:`translate3d(0, ${$e.top-2}px, 0) scale(1)`}]:[{offset:0,opacity:.99,transform:`translate3d(0, ${$e.top-2}px, 0) scale(1)`},{offset:.6,opacity:0},{offset:1,opacity:0,transform:`translate3d(${ht}, ${Lt.top-4}px, 0) scale(0.5)`}],it=Ke("ion-title"),Gt=(0,d.c)();it.innerText=He.innerText,it.size=He.size,it.color=He.color,Gt.addElement(it),Gt.beforeStyles({"transform-origin":`${Ct} center`,height:"46px",display:"",position:"relative",[Ct]:Rt}).beforeAddWrite(()=>{He.style.setProperty("display","none")}).afterAddWrite(()=>{He.style.setProperty("display",""),it.style.setProperty("display","none")}).keyframes(vt),ct.addAnimation(Gt)},Pe=(ct,mt)=>{var Ut;try{const He="cubic-bezier(0.32,0.72,0,1)",$e="opacity",Lt="transform",Rt="0%",Ct="rtl"===ct.ownerDocument.dir,Tt=Ct?"-99.5%":"99.5%",Dt=Ct?"33%":"-33%",vt=mt.enteringEl,it=mt.leavingEl,Gt="back"===mt.direction,St=vt.querySelector(":scope > ion-content"),kt=vt.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *"),Qt=vt.querySelectorAll(":scope > ion-header > ion-toolbar"),Ae=(0,d.c)(),Je=(0,d.c)();if(Ae.addElement(vt).duration((null!==(Ut=mt.duration)&&void 0!==Ut?Ut:0)||540).easing(mt.easing||He).fill("both").beforeRemoveClass("ion-page-invisible"),it&&null!=ct){const Ge=(0,d.c)();Ge.addElement(ct),Ae.addAnimation(Ge)}if(St||0!==Qt.length||0!==kt.length?(Je.addElement(St),Je.addElement(kt)):Je.addElement(vt.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),Ae.addAnimation(Je),Gt?Je.beforeClearStyles([$e]).fromTo("transform",`translateX(${Dt})`,`translateX(${Rt})`).fromTo($e,.8,1):Je.beforeClearStyles([$e]).fromTo("transform",`translateX(${Tt})`,`translateX(${Rt})`),St){const Ge=Se(St).querySelector(".transition-effect");if(Ge){const ft=Ge.querySelector(".transition-cover"),jt=Ge.querySelector(".transition-shadow"),Pt=(0,d.c)(),sn=(0,d.c)(),ln=(0,d.c)();Pt.addElement(Ge).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),sn.addElement(ft).beforeClearStyles([$e]).fromTo($e,0,.1),ln.addElement(jt).beforeClearStyles([$e]).fromTo($e,.03,.7),Pt.addAnimation([sn,ln]),Je.addAnimation([Pt])}}const ut=vt.querySelector("ion-header.header-collapse-condense"),{forward:_t,backward:tt}=((ct,mt,Ut,He,$e)=>{const Lt=Qe(He,Ut),Rt=Re($e),ht=Re(He),Ct=Qe($e,Ut),Tt=null!==Lt&&null!==Rt&&!Ut,Dt=null!==ht&&null!==Ct&&Ut;if(Tt){const vt=Rt.getBoundingClientRect(),it=Lt.getBoundingClientRect();ot(ct,mt,Ut,Rt,vt,it),Me(ct,mt,Ut,Lt,vt,it)}else if(Dt){const vt=ht.getBoundingClientRect(),it=Ct.getBoundingClientRect();ot(ct,mt,Ut,ht,vt,it),Me(ct,mt,Ut,Ct,vt,it)}return{forward:Tt,backward:Dt}})(Ae,Ct,Gt,vt,it);if(Qt.forEach(Ge=>{const ft=(0,d.c)();ft.addElement(Ge),Ae.addAnimation(ft);const jt=(0,d.c)();jt.addElement(Ge.querySelector("ion-title"));const Pt=(0,d.c)(),sn=Array.from(Ge.querySelectorAll("ion-buttons,[menuToggle]")),ln=Ge.closest("ion-header"),Oe=null==ln?void 0:ln.classList.contains("header-collapse-condense-inactive");let rn;rn=sn.filter(Gt?ur=>{const lr=ur.classList.contains("buttons-collapse");return lr&&!Oe||!lr}:ur=>!ur.classList.contains("buttons-collapse")),Pt.addElement(rn);const wt=(0,d.c)();wt.addElement(Ge.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])"));const fn=(0,d.c)();fn.addElement(Se(Ge).querySelector(".toolbar-background"));const _n=(0,d.c)(),tr=Ge.querySelector("ion-back-button");if(tr&&_n.addElement(tr),ft.addAnimation([jt,Pt,wt,fn,_n]),Pt.fromTo($e,.01,1),wt.fromTo($e,.01,1),Gt)Oe||jt.fromTo("transform",`translateX(${Dt})`,`translateX(${Rt})`).fromTo($e,.01,1),wt.fromTo("transform",`translateX(${Dt})`,`translateX(${Rt})`),_n.fromTo($e,.01,1);else if(ut||jt.fromTo("transform",`translateX(${Tt})`,`translateX(${Rt})`).fromTo($e,.01,1),wt.fromTo("transform",`translateX(${Tt})`,`translateX(${Rt})`),fn.beforeClearStyles([$e,"transform"]),(null==ln?void 0:ln.translucent)?fn.fromTo("transform",Ct?"translateX(-100%)":"translateX(100%)","translateX(0px)"):fn.fromTo($e,.01,"var(--opacity)"),_t||_n.fromTo($e,.01,1),tr&&!_t){const lr=(0,d.c)();lr.addElement(Se(tr).querySelector(".button-text")).fromTo("transform",Ct?"translateX(-100px)":"translateX(100px)","translateX(0px)"),ft.addAnimation(lr)}}),it){const Ge=(0,d.c)(),ft=it.querySelector(":scope > ion-content"),jt=it.querySelectorAll(":scope > ion-header > ion-toolbar"),Pt=it.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *");if(ft||0!==jt.length||0!==Pt.length?(Ge.addElement(ft),Ge.addElement(Pt)):Ge.addElement(it.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),Ae.addAnimation(Ge),Gt){Ge.beforeClearStyles([$e]).fromTo("transform",`translateX(${Rt})`,Ct?"translateX(-100%)":"translateX(100%)");const sn=(0,v.g)(it);Ae.afterAddWrite(()=>{"normal"===Ae.getDirection()&&sn.style.setProperty("display","none")})}else Ge.fromTo("transform",`translateX(${Rt})`,`translateX(${Dt})`).fromTo($e,1,.8);if(ft){const sn=Se(ft).querySelector(".transition-effect");if(sn){const ln=sn.querySelector(".transition-cover"),Oe=sn.querySelector(".transition-shadow"),rn=(0,d.c)(),wt=(0,d.c)(),fn=(0,d.c)();rn.addElement(sn).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),wt.addElement(ln).beforeClearStyles([$e]).fromTo($e,.1,0),fn.addElement(Oe).beforeClearStyles([$e]).fromTo($e,.7,.03),rn.addAnimation([wt,fn]),Ge.addAnimation([rn])}}jt.forEach(sn=>{const ln=(0,d.c)();ln.addElement(sn);const Oe=(0,d.c)();Oe.addElement(sn.querySelector("ion-title"));const rn=(0,d.c)(),wt=sn.querySelectorAll("ion-buttons,[menuToggle]"),fn=sn.closest("ion-header"),_n=null==fn?void 0:fn.classList.contains("header-collapse-condense-inactive"),tr=Array.from(wt).filter(Pr=>{const Wr=Pr.classList.contains("buttons-collapse");return Wr&&!_n||!Wr});rn.addElement(tr);const ur=(0,d.c)(),lr=sn.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])");lr.length>0&&ur.addElement(lr);const hn=(0,d.c)();hn.addElement(Se(sn).querySelector(".toolbar-background"));const Xn=(0,d.c)(),cn=sn.querySelector("ion-back-button");if(cn&&Xn.addElement(cn),ln.addAnimation([Oe,rn,ur,Xn,hn]),Ae.addAnimation(ln),Xn.fromTo($e,.99,0),rn.fromTo($e,.99,0),ur.fromTo($e,.99,0),Gt){if(_n||Oe.fromTo("transform",`translateX(${Rt})`,Ct?"translateX(-100%)":"translateX(100%)").fromTo($e,.99,0),ur.fromTo("transform",`translateX(${Rt})`,Ct?"translateX(-100%)":"translateX(100%)"),hn.beforeClearStyles([$e,"transform"]),(null==fn?void 0:fn.translucent)?hn.fromTo("transform","translateX(0px)",Ct?"translateX(-100%)":"translateX(100%)"):hn.fromTo($e,"var(--opacity)",0),cn&&!tt){const Wr=(0,d.c)();Wr.addElement(Se(cn).querySelector(".button-text")).fromTo("transform",`translateX(${Rt})`,`translateX(${(Ct?-124:124)+"px"})`),ln.addAnimation(Wr)}}else _n||Oe.fromTo("transform",`translateX(${Rt})`,`translateX(${Dt})`).fromTo($e,.99,0).afterClearStyles([Lt,$e]),ur.fromTo("transform",`translateX(${Rt})`,`translateX(${Dt})`).afterClearStyles([Lt,$e]),Xn.afterClearStyles([$e]),Oe.afterClearStyles([$e]),rn.afterClearStyles([$e])})}return Ae}catch(He){throw He}}},1138:(er,Nt,H)=>{"use strict";H.r(Nt),H.d(Nt,{mdTransitionAnimation:()=>Xe});var d=H(9613),v=H(9866);H(3457),H(4083);const Xe=(Ke,Se)=>{var Re,Qe,Be;const Pe="back"===Se.direction,mt=Se.leavingEl,Ut=(0,v.g)(Se.enteringEl),He=Ut.querySelector("ion-toolbar"),$e=(0,d.c)();if($e.addElement(Ut).fill("both").beforeRemoveClass("ion-page-invisible"),Pe?$e.duration((null!==(Re=Se.duration)&&void 0!==Re?Re:0)||200).easing("cubic-bezier(0.47,0,0.745,0.715)"):$e.duration((null!==(Qe=Se.duration)&&void 0!==Qe?Qe:0)||280).easing("cubic-bezier(0.36,0.66,0.04,1)").fromTo("transform","translateY(40px)","translateY(0px)").fromTo("opacity",.01,1),He){const Lt=(0,d.c)();Lt.addElement(He),$e.addAnimation(Lt)}if(mt&&Pe){$e.duration((null!==(Be=Se.duration)&&void 0!==Be?Be:0)||200).easing("cubic-bezier(0.47,0,0.745,0.715)");const Lt=(0,d.c)();Lt.addElement((0,v.g)(mt)).onFinish(Rt=>{1===Rt&&Lt.elements.length>0&&Lt.elements[0].style.setProperty("display","none")}).fromTo("transform","translateY(0px)","translateY(40px)").fromTo("opacity",1,0),$e.addAnimation(Lt)}return $e}},2583:(er,Nt,H)=>{"use strict";H.d(Nt,{B:()=>Pt,G:()=>sn,a:()=>Be,b:()=>Me,c:()=>mt,d:()=>ln,e:()=>Oe,f:()=>kt,g:()=>Ae,h:()=>_t,i:()=>Ge,j:()=>He,k:()=>Re,l:()=>ot,m:()=>Pe,n:()=>Rt,o:()=>Gt,s:()=>jt,t:()=>Ut});var d=H(5861),v=H(5273),ve=H(6782),Fe=H(7593),Xe=H(3577),Ke=H(1178);let Se=0;const Re=new WeakMap,Qe=rn=>({create:wt=>$e(rn,wt),dismiss:(wt,fn,_n)=>vt(document,wt,fn,rn,_n),getTop:()=>(0,d.Z)(function*(){return Gt(document,rn)})()}),Be=Qe("ion-alert"),Me=Qe("ion-action-sheet"),ot=Qe("ion-loading"),Pe=Qe("ion-modal"),mt=Qe("ion-popover"),Ut=Qe("ion-toast"),He=rn=>{typeof document<"u"&&Dt(document);const wt=Se++;rn.overlayIndex=wt,rn.hasAttribute("id")||(rn.id=`ion-overlay-${wt}`)},$e=(rn,wt)=>typeof window<"u"&&typeof window.customElements<"u"?window.customElements.whenDefined(rn).then(()=>{const fn=document.createElement(rn);return fn.classList.add("overlay-hidden"),Object.assign(fn,Object.assign(Object.assign({},wt),{hasController:!0})),Je(document).appendChild(fn),new Promise(_n=>(0,Xe.c)(fn,_n))}):Promise.resolve(),Lt='[tabindex]:not([tabindex^="-"]):not([hidden]):not([disabled]), input:not([type=hidden]):not([tabindex^="-"]):not([hidden]):not([disabled]), textarea:not([tabindex^="-"]):not([hidden]):not([disabled]), button:not([tabindex^="-"]):not([hidden]):not([disabled]), select:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable[disabled="false"]:not([tabindex^="-"]):not([hidden])',Rt=(rn,wt)=>{let fn=rn.querySelector(Lt);const _n=null==fn?void 0:fn.shadowRoot;_n&&(fn=_n.querySelector(Lt)||fn),fn?(0,Xe.f)(fn):wt.focus()},Ct=(rn,wt)=>{const fn=Array.from(rn.querySelectorAll(Lt));let _n=fn.length>0?fn[fn.length-1]:null;const tr=null==_n?void 0:_n.shadowRoot;tr&&(_n=tr.querySelector(Lt)||_n),_n?_n.focus():wt.focus()},Dt=rn=>{0===Se&&(Se=1,rn.addEventListener("focus",wt=>{((rn,wt)=>{const fn=Gt(wt,"ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker,ion-popover"),_n=rn.target;fn&&_n&&!fn.classList.contains("ion-disable-focus-trap")&&(fn.shadowRoot?(()=>{if(fn.contains(_n))fn.lastFocus=_n;else{const lr=fn.lastFocus;Rt(fn,fn),lr===wt.activeElement&&Ct(fn,fn),fn.lastFocus=wt.activeElement}})():(()=>{if(fn===_n)fn.lastFocus=void 0;else{const lr=(0,Xe.g)(fn);if(!lr.contains(_n))return;const hn=lr.querySelector(".ion-overlay-wrapper");if(!hn)return;if(hn.contains(_n))fn.lastFocus=_n;else{const Xn=fn.lastFocus;Rt(hn,fn),Xn===wt.activeElement&&Ct(hn,fn),fn.lastFocus=wt.activeElement}}})())})(wt,rn)},!0),rn.addEventListener("ionBackButton",wt=>{const fn=Gt(rn);null!=fn&&fn.backdropDismiss&&wt.detail.register(Fe.OVERLAY_BACK_BUTTON_PRIORITY,()=>fn.dismiss(void 0,Pt))}),rn.addEventListener("keydown",wt=>{if("Escape"===wt.key){const fn=Gt(rn);null!=fn&&fn.backdropDismiss&&fn.dismiss(void 0,Pt)}}))},vt=(rn,wt,fn,_n,tr)=>{const ur=Gt(rn,_n,tr);return ur?ur.dismiss(wt,fn):Promise.reject("overlay does not exist")},Gt=(rn,wt,fn)=>{const _n=((rn,wt)=>(void 0===wt&&(wt="ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker,ion-popover,ion-toast"),Array.from(rn.querySelectorAll(wt)).filter(fn=>fn.overlayIndex>0)))(rn,wt).filter(tr=>!(rn=>rn.classList.contains("overlay-hidden"))(tr));return void 0===fn?_n[_n.length-1]:_n.find(tr=>tr.id===fn)},St=(rn=!1)=>{const fn=Je(document).querySelector("ion-router-outlet, ion-nav, #ion-view-container-root");fn&&(rn?fn.setAttribute("aria-hidden","true"):fn.removeAttribute("aria-hidden"))},kt=function(){var rn=(0,d.Z)(function*(wt,fn,_n,tr,ur){var lr,hn;if(wt.presented)return;St(!0),wt.presented=!0,wt.willPresent.emit(),null===(lr=wt.willPresentShorthand)||void 0===lr||lr.emit();const Xn=(0,v.b)(wt),cn=wt.enterAnimation?wt.enterAnimation:v.c.get(fn,"ios"===Xn?_n:tr);(yield ut(wt,cn,wt.el,ur))&&(wt.didPresent.emit(),null===(hn=wt.didPresentShorthand)||void 0===hn||hn.emit()),"ION-TOAST"!==wt.el.tagName&&Qt(wt.el),wt.keyboardClose&&(null===document.activeElement||!wt.el.contains(document.activeElement))&&wt.el.focus()});return function(fn,_n,tr,ur,lr){return rn.apply(this,arguments)}}(),Qt=function(){var rn=(0,d.Z)(function*(wt){let fn=document.activeElement;if(!fn)return;const _n=null==fn?void 0:fn.shadowRoot;_n&&(fn=_n.querySelector(Lt)||fn),yield wt.onDidDismiss(),fn.focus()});return function(fn){return rn.apply(this,arguments)}}(),Ae=function(){var rn=(0,d.Z)(function*(wt,fn,_n,tr,ur,lr,hn){var Xn,cn;if(!wt.presented)return!1;St(!1),wt.presented=!1;try{wt.el.style.setProperty("pointer-events","none"),wt.willDismiss.emit({data:fn,role:_n}),null===(Xn=wt.willDismissShorthand)||void 0===Xn||Xn.emit({data:fn,role:_n});const Pr=(0,v.b)(wt),Wr=wt.leaveAnimation?wt.leaveAnimation:v.c.get(tr,"ios"===Pr?ur:lr);_n!==sn&&(yield ut(wt,Wr,wt.el,hn)),wt.didDismiss.emit({data:fn,role:_n}),null===(cn=wt.didDismissShorthand)||void 0===cn||cn.emit({data:fn,role:_n}),Re.delete(wt),wt.el.classList.add("overlay-hidden"),wt.el.style.removeProperty("pointer-events"),void 0!==wt.el.lastFocus&&(wt.el.lastFocus=void 0)}catch(Pr){console.error(Pr)}return wt.el.remove(),!0});return function(fn,_n,tr,ur,lr,hn,Xn){return rn.apply(this,arguments)}}(),Je=rn=>rn.querySelector("ion-app")||rn.body,ut=function(){var rn=(0,d.Z)(function*(wt,fn,_n,tr){_n.classList.remove("overlay-hidden");const lr=fn(wt.el,tr);(!wt.animated||!v.c.getBoolean("animated",!0))&&lr.duration(0),wt.keyboardClose&&lr.beforeAddWrite(()=>{const Xn=_n.ownerDocument.activeElement;null!=Xn&&Xn.matches("input,ion-input, ion-textarea")&&Xn.blur()});const hn=Re.get(wt)||[];return Re.set(wt,[...hn,lr]),yield lr.play(),!0});return function(fn,_n,tr,ur){return rn.apply(this,arguments)}}(),_t=(rn,wt)=>{let fn;const _n=new Promise(tr=>fn=tr);return tt(rn,wt,tr=>{fn(tr.detail)}),_n},tt=(rn,wt,fn)=>{const _n=tr=>{(0,Xe.b)(rn,wt,_n),fn(tr)};(0,Xe.a)(rn,wt,_n)},Ge=rn=>"cancel"===rn||rn===Pt,ft=rn=>rn(),jt=(rn,wt)=>{if("function"==typeof rn)return v.c.get("_zoneGate",ft)(()=>{try{return rn(wt)}catch(_n){throw _n}})},Pt="backdrop",sn="gesture",ln=rn=>{let fn,wt=!1;const _n=(0,ve.C)(),tr=(hn=!1)=>{if(fn&&!hn)return{delegate:fn,inline:wt};const{el:Xn,hasController:cn,delegate:Pr}=rn;return wt=null!==Xn.parentNode&&!cn,fn=wt?Pr||_n:Pr,{inline:wt,delegate:fn}};return{attachViewToDom:function(){var hn=(0,d.Z)(function*(Xn){const{delegate:cn}=tr(!0);if(cn)return yield cn.attachViewToDom(rn.el,Xn);const{hasController:Pr}=rn;if(Pr&&void 0!==Xn)throw new Error("framework delegate is missing");return null});return function(cn){return hn.apply(this,arguments)}}(),removeViewFromDom:()=>{const{delegate:hn}=tr();hn&&void 0!==rn.el&&hn.removeViewFromDom(rn.el.parentElement,rn.el)}}},Oe=()=>{let rn;const wt=()=>{rn&&(rn(),rn=void 0)};return{addClickListener:(_n,tr)=>{wt();const ur=void 0!==tr?document.getElementById(tr):null;ur?rn=((hn,Xn)=>{const cn=()=>{Xn.present()};return hn.addEventListener("click",cn),()=>{hn.removeEventListener("click",cn)}})(ur,_n):(0,Ke.p)(`A trigger element with the ID "${tr}" was not found in the DOM. The trigger element must be in the DOM when the "trigger" property is set on an overlay component.`,_n)},removeClickListener:wt}}},7622:(er,Nt,H)=>{"use strict";H.d(Nt,{e:()=>Ke});var d=H(5861),v=H(9260);let ve=(()=>{class Se{}return Se.email=Re=>{if(!(Re.endsWith("@admin.com")||Re.endsWith("@invitado.com")||Re.endsWith("@usuario.com")||Re.endsWith("@anonimo.com")||Re.endsWith("@tester.com")))throw new Error("Mal formato de datos.");return Re},Se})();var Fe=H(2223),Xe=H(3385);let Ke=(()=>{class Se{constructor(Qe){var Be=this;this.angularFireAuth=Qe,this.myUsuario="valor inicial",this.signIn=function(){var Me=(0,d.Z)(function*(ot,Pe){return yield Be.angularFireAuth.signInWithEmailAndPassword(ve.email(ot),Pe).then(ct=>ct).catch(ct=>{throw"auth/user-disabled"===ct.code?new Error("El usuario ha sido deshabilitado."):"auth/user-not-found"===ct.code?new Error("No existe un usuario con estos datos."):new Error("Datos incorrectos.")})});return function(ot,Pe){return Me.apply(this,arguments)}}(),this.signUp=function(){var Me=(0,d.Z)(function*(ot,Pe){return yield Be.angularFireAuth.createUserWithEmailAndPassword(ve.email(ot),Pe).then(ct=>ct).catch(ct=>{throw"auth/operation-not-allowed"===ct.code?new Error("Lo siento, hubo un error interno. Vuelva a intentarlo mas tarde."):"auth/email-already-in-use"===ct.code?new Error("El mail ingresado, ya pertenece a un usuario existente."):new Error("Mal formato de datos.")})});return function(ot,Pe){return Me.apply(this,arguments)}}(),this.signOut=(0,d.Z)(function*(){yield Be.angularFireAuth.signOut()}),this.signUpWithGoogle=(0,d.Z)(function*(){const Me=new v.Z.auth.GoogleAuthProvider;return Me.addScope("profile"),Me.addScope("email"),yield Be.signUpWithProvider(Me)}),this.signUpWithProvider=function(){var Me=(0,d.Z)(function*(ot){return yield Be.angularFireAuth.signInWithPopup(ot).then(Pe=>Pe).catch(()=>{throw new Error("Operaci\xf3n cancelada.")})});return function(ot){return Me.apply(this,arguments)}}(),this.userData=Qe.authState}login(Qe,Be){return this.myUsuario=this.formatNombre(Qe),this.angularFireAuth.signInWithEmailAndPassword(Qe,Be)}formatNombre(Qe){if(""!=Qe&&null!=Qe){const Be=Qe.substring(0,Qe.indexOf("@"));return Be.charAt(0).toUpperCase()+Be.slice(1)}return""}getUser(){return"123456"}}return Se.\u0275fac=function(Qe){return new(Qe||Se)(Fe.LFG(Xe.zQ))},Se.\u0275prov=Fe.Yz7({token:Se,factory:Se.\u0275fac,providedIn:"root"}),Se})()},8176:(er,Nt,H)=>{"use strict";var d=H(6550),v=H(2223),ve=H(5559),Fe=H(9972),Xe=H(89),Ke=H(655),Se=H(8261),Re=function(u){function s(){return null!==u&&u.apply(this,arguments)||this}return(0,Ke.ZT)(s,u),s.prototype.show=function(){return(0,Se.DM)(this,"show",{sync:!0},arguments)},s.prototype.hide=function(){return(0,Se.DM)(this,"hide",{sync:!0},arguments)},s.pluginName="SplashScreen",s.plugin="cordova-plugin-splashscreen",s.pluginRef="navigator.splashscreen",s.repo="https://github.com/apache/cordova-plugin-splashscreen",s.platforms=["Amazon Fire OS","Android","iOS","Windows"],s.decorators=[{type:v.GSi}],s}(Se.KY),Qe=function(u){function s(){return null!==u&&u.apply(this,arguments)||this}return(0,Ke.ZT)(s,u),s.prototype.overlaysWebView=function(l){return(0,Se.DM)(this,"overlaysWebView",{sync:!0},arguments)},s.prototype.styleDefault=function(){return(0,Se.DM)(this,"styleDefault",{sync:!0},arguments)},s.prototype.styleLightContent=function(){return(0,Se.DM)(this,"styleLightContent",{sync:!0},arguments)},s.prototype.styleBlackTranslucent=function(){return(0,Se.DM)(this,"styleBlackTranslucent",{sync:!0},arguments)},s.prototype.styleBlackOpaque=function(){return(0,Se.DM)(this,"styleBlackOpaque",{sync:!0},arguments)},s.prototype.backgroundColorByName=function(l){return(0,Se.DM)(this,"backgroundColorByName",{sync:!0},arguments)},s.prototype.backgroundColorByHexString=function(l){return(0,Se.DM)(this,"backgroundColorByHexString",{sync:!0},arguments)},s.prototype.hide=function(){return(0,Se.DM)(this,"hide",{sync:!0},arguments)},s.prototype.show=function(){return(0,Se.DM)(this,"show",{sync:!0},arguments)},Object.defineProperty(s.prototype,"isVisible",{get:function(){return(0,Se.J2)(this,"isVisible")},set:function(l){(0,Se.Iq)(this,"isVisible",l)},enumerable:!1,configurable:!0}),s.pluginName="StatusBar",s.plugin="cordova-plugin-statusbar",s.pluginRef="StatusBar",s.repo="https://github.com/apache/cordova-plugin-statusbar",s.platforms=["Android","iOS","Windows"],s.decorators=[{type:v.GSi}],s}(Se.KY),Be=H(4755);function Me(u,s){if(1&u&&(v.TgZ(0,"li",2),v._uU(1),v.qZA()),2&u){const l=s.$implicit;v.xp6(1),v.hij(" ",l.name," ")}}let ot=(()=>{class u{constructor(l,p,E){this.platform=l,this.splashScreen=p,this.statusBar=E,this.firestore=(0,v.f3M)(Xe.gg);const P=(0,Xe.hJ)(this.firestore,"items");this.items$=(0,Xe.BS)(P),this.initializeApp()}initializeApp(){this.platform.ready().then(()=>{this.statusBar.styleDefault(),this.splashScreen.hide()})}}return u.\u0275fac=function(l){return new(l||u)(v.Y36(Fe.t4),v.Y36(Re),v.Y36(Qe))},u.\u0275cmp=v.Xpm({type:u,selectors:[["app-root"]],decls:5,vars:3,consts:[["class","text",4,"ngFor","ngForOf"],["id","main-content"],[1,"text"]],template:function(l,p){1&l&&(v.TgZ(0,"ul"),v.YNc(1,Me,2,1,"li",0),v.ALo(2,"async"),v.qZA(),v.TgZ(3,"ion-app"),v._UZ(4,"ion-router-outlet",1),v.qZA()),2&l&&(v.xp6(1),v.Q6J("ngForOf",v.lcZ(2,1,p.items$)))},dependencies:[Be.sg,Fe.dr,Fe.jP,Be.Ov],styles:["ion-menu[_ngcontent-%COMP%]   ion-content[_ngcontent-%COMP%]{--background: var(--ion-item-background, var(--ion-background-color, #fff))}ion-menu.md[_ngcontent-%COMP%]   ion-content[_ngcontent-%COMP%]{--padding-start: 8px;--padding-end: 8px;--padding-top: 20px;--padding-bottom: 20px}ion-menu.md[_ngcontent-%COMP%]   ion-list[_ngcontent-%COMP%]{padding:20px 0}ion-menu.md[_ngcontent-%COMP%]   ion-note[_ngcontent-%COMP%]{margin-bottom:30px}ion-menu.md[_ngcontent-%COMP%]   ion-list-header[_ngcontent-%COMP%], ion-menu.md[_ngcontent-%COMP%]   ion-note[_ngcontent-%COMP%]{padding-left:10px}ion-menu.md[_ngcontent-%COMP%]   ion-list#inbox-list[_ngcontent-%COMP%]{border-bottom:1px solid var(--ion-color-step-150, #d7d8da)}ion-menu.md[_ngcontent-%COMP%]   ion-list#inbox-list[_ngcontent-%COMP%]   ion-list-header[_ngcontent-%COMP%]{font-size:22px;font-weight:600;min-height:20px}ion-menu.md[_ngcontent-%COMP%]   ion-list#labels-list[_ngcontent-%COMP%]   ion-list-header[_ngcontent-%COMP%]{font-size:16px;margin-bottom:18px;color:#757575;min-height:26px}ion-menu.md[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]{--padding-start: 10px;--padding-end: 10px;border-radius:4px}ion-menu.md[_ngcontent-%COMP%]   ion-item.selected[_ngcontent-%COMP%]{--background: rgba(var(--ion-color-primary-rgb), .14)}ion-menu.md[_ngcontent-%COMP%]   ion-item.selected[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{color:var(--ion-color-primary)}ion-menu.md[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{color:#616e7e}ion-menu.md[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{font-weight:500}ion-menu.ios[_ngcontent-%COMP%]   ion-content[_ngcontent-%COMP%]{--padding-bottom: 20px}ion-menu.ios[_ngcontent-%COMP%]   ion-list[_ngcontent-%COMP%]{padding:20px 0 0}ion-menu.ios[_ngcontent-%COMP%]   ion-note[_ngcontent-%COMP%]{line-height:24px;margin-bottom:20px}ion-menu.ios[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]{--padding-start: 16px;--padding-end: 16px;--min-height: 50px}ion-menu.ios[_ngcontent-%COMP%]   ion-item.selected[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{color:var(--ion-color-primary)}ion-menu.ios[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:24px;color:#73849a}ion-menu.ios[_ngcontent-%COMP%]   ion-list#labels-list[_ngcontent-%COMP%]   ion-list-header[_ngcontent-%COMP%]{margin-bottom:8px}ion-menu.ios[_ngcontent-%COMP%]   ion-list-header[_ngcontent-%COMP%], ion-menu.ios[_ngcontent-%COMP%]   ion-note[_ngcontent-%COMP%]{padding-left:16px;padding-right:16px}ion-menu.ios[_ngcontent-%COMP%]   ion-note[_ngcontent-%COMP%]{margin-bottom:8px}ion-note[_ngcontent-%COMP%]{display:inline-block;font-size:16px;color:var(--ion-color-medium-shade)}ion-item.selected[_ngcontent-%COMP%]{--color: var(--ion-color-primary)}"]}),u})();var Pe=H(4208);const ct=[{path:"",redirectTo:"login",pathMatch:"full"},{path:"folder/:id",loadChildren:()=>H.e(1910).then(H.bind(H,1910)).then(u=>u.FolderPageModule)},{path:"admin",loadChildren:()=>H.e(3015).then(H.bind(H,3015)).then(u=>u.AdminPageModule)},{path:"home",loadChildren:()=>H.e(4851).then(H.bind(H,4851)).then(u=>u.HomePageModule)},{path:"login",loadChildren:()=>H.e(1821).then(H.bind(H,1821)).then(u=>u.LoginPageModule)},{path:"register",loadChildren:()=>H.e(7826).then(H.bind(H,7826)).then(u=>u.RegisterPageModule)},{path:"feas",loadChildren:()=>Promise.all([H.e(8592),H.e(6015)]).then(H.bind(H,6015)).then(u=>u.FeasPageModule)},{path:"lindas",loadChildren:()=>Promise.all([H.e(8592),H.e(14)]).then(H.bind(H,14)).then(u=>u.LindasPageModule)},{path:"lista-feas",loadChildren:()=>Promise.all([H.e(8592),H.e(2516)]).then(H.bind(H,2516)).then(u=>u.ListaFeasPageModule)},{path:"lista-lindas",loadChildren:()=>Promise.all([H.e(8592),H.e(5172)]).then(H.bind(H,5172)).then(u=>u.ListaLindasPageModule)},{path:"mis-fotos",loadChildren:()=>H.e(3562).then(H.bind(H,3562)).then(u=>u.MisFotosPageModule)},{path:"splash",loadChildren:()=>H.e(2068).then(H.bind(H,2068)).then(u=>u.SplashPageModule)},{path:"tabs",loadChildren:()=>H.e(5652).then(H.bind(H,174)).then(u=>u.TabsPageModule)},{path:"camara/:type",loadChildren:()=>Promise.all([H.e(579),H.e(7455)]).then(H.bind(H,7455)).then(u=>u.CamaraPageModule)}];let mt=(()=>{class u{}return u.\u0275fac=function(l){return new(l||u)},u.\u0275mod=v.oAB({type:u}),u.\u0275inj=v.cJS({imports:[ve.Bz.forRoot(ct,{preloadingStrategy:ve.wm}),ve.Bz]}),u})();const Ut_firebase={projectId:"reelevamientovisual2023",appId:"1:576178312697:web:4ff5e464f71303b41ad928",storageBucket:"reelevamientovisual2023.appspot.com",apiKey:"AIzaSyAvHCXlpbH63heUpkmTKTPxkyaOi1XuoLE",authDomain:"reelevamientovisual2023.firebaseapp.com",messagingSenderId:"576178312697"};var He=H(2011),$e=H(3385),Lt=H(4986),Rt=H(9751),ht=H(9646),Ct=H(6451),Tt=H(4004),Dt=H(3099),vt=H(3900),it=H(5026),Gt=H(1884),St=H(4482),kt=H(5403),Qt=H(8421),Ae=H(4671),Je=H(5032),ut=H(7669),Ge=H(3324),jt=(H(9568),H(3942)),Pt=H(4859),sn=H(5861),ln=H(6881),Oe=H(2090),rn=H(1877);const wt="@firebase/database";let _n="";function tr(u){_n=u}class ur{constructor(s){this.domStorage_=s,this.prefix_="firebase:"}set(s,l){null==l?this.domStorage_.removeItem(this.prefixedName_(s)):this.domStorage_.setItem(this.prefixedName_(s),(0,Oe.Wl)(l))}get(s){const l=this.domStorage_.getItem(this.prefixedName_(s));return null==l?null:(0,Oe.cI)(l)}remove(s){this.domStorage_.removeItem(this.prefixedName_(s))}prefixedName_(s){return this.prefix_+s}toString(){return this.domStorage_.toString()}}class lr{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(s,l){null==l?delete this.cache_[s]:this.cache_[s]=l}get(s){return(0,Oe.r3)(this.cache_,s)?this.cache_[s]:null}remove(s){delete this.cache_[s]}}const hn=function(u){try{if(typeof window<"u"&&typeof window[u]<"u"){const s=window[u];return s.setItem("firebase:sentinel","cache"),s.removeItem("firebase:sentinel"),new ur(s)}}catch{}return new lr},Xn=hn("localStorage"),cn=hn("sessionStorage"),Pr=new rn.Yd("@firebase/database"),Wr=function(){let u=1;return function(){return u++}}(),Sr=function(u){const s=(0,Oe.dS)(u),l=new Oe.gQ;l.update(s);const p=l.digest();return Oe.US.encodeByteArray(p)},On=function(...u){let s="";for(let l=0;l<u.length;l++){const p=u[l];Array.isArray(p)||p&&"object"==typeof p&&"number"==typeof p.length?s+=On.apply(null,p):s+="object"==typeof p?(0,Oe.Wl)(p):p,s+=" "}return s};let Gr=null,Qr=!0;const br=function(u,s){(0,Oe.hu)(!s||!0===u||!1===u,"Can't turn on custom loggers persistently."),!0===u?(Pr.logLevel=rn.in.VERBOSE,Gr=Pr.log.bind(Pr),s&&cn.set("logging_enabled",!0)):"function"==typeof u?Gr=u:(Gr=null,cn.remove("logging_enabled"))},$r=function(...u){if(!0===Qr&&(Qr=!1,null===Gr&&!0===cn.get("logging_enabled")&&br(!0)),Gr){const s=On.apply(null,u);Gr(s)}},ui=function(u){return function(...s){$r(u,...s)}},nr=function(...u){const s="FIREBASE INTERNAL ERROR: "+On(...u);Pr.error(s)},Zn=function(...u){const s=`FIREBASE FATAL ERROR: ${On(...u)}`;throw Pr.error(s),new Error(s)},rr=function(...u){const s="FIREBASE WARNING: "+On(...u);Pr.warn(s)},di=function(u){return"number"==typeof u&&(u!=u||u===Number.POSITIVE_INFINITY||u===Number.NEGATIVE_INFINITY)},ri="[MIN_NAME]",oi="[MAX_NAME]",Er=function(u,s){if(u===s)return 0;if(u===ri||s===oi)return-1;if(s===ri||u===oi)return 1;{const l=yt(u),p=yt(s);return null!==l?null!==p?l-p==0?u.length-s.length:l-p:-1:null!==p?1:u<s?-1:1}},pr=function(u,s){return u===s?0:u<s?-1:1},yi=function(u,s){if(s&&u in s)return s[u];throw new Error("Missing required key ("+u+") in object: "+(0,Oe.Wl)(s))},Ar=function(u){if("object"!=typeof u||null===u)return(0,Oe.Wl)(u);const s=[];for(const p in u)s.push(p);s.sort();let l="{";for(let p=0;p<s.length;p++)0!==p&&(l+=","),l+=(0,Oe.Wl)(s[p]),l+=":",l+=Ar(u[s[p]]);return l+="}",l},An=function(u,s){const l=u.length;if(l<=s)return[u];const p=[];for(let E=0;E<l;E+=s)p.push(u.substring(E,E+s>l?l:E+s));return p};function xe(u,s){for(const l in u)u.hasOwnProperty(l)&&s(l,u[l])}const gt=function(u){(0,Oe.hu)(!di(u),"Invalid JSON number");const p=1023;let E,P,z,te,we;0===u?(P=0,z=0,E=1/u==-1/0?1:0):(E=u<0,(u=Math.abs(u))>=Math.pow(2,1-p)?(te=Math.min(Math.floor(Math.log(u)/Math.LN2),p),P=te+p,z=Math.round(u*Math.pow(2,52-te)-Math.pow(2,52))):(P=0,z=Math.round(u/Math.pow(2,-1074))));const Ve=[];for(we=52;we;we-=1)Ve.push(z%2?1:0),z=Math.floor(z/2);for(we=11;we;we-=1)Ve.push(P%2?1:0),P=Math.floor(P/2);Ve.push(E?1:0),Ve.reverse();const $t=Ve.join("");let Xt="";for(we=0;we<64;we+=8){let gn=parseInt($t.substr(we,8),2).toString(16);1===gn.length&&(gn="0"+gn),Xt+=gn}return Xt.toLowerCase()},Kr=new RegExp("^-?(0*)\\d{1,10}$"),yt=function(u){if(Kr.test(u)){const s=Number(u);if(s>=-2147483648&&s<=2147483647)return s}return null},Te=function(u){try{u()}catch(s){setTimeout(()=>{throw rr("Exception was thrown by user callback.",s.stack||""),s},Math.floor(0))}},ee=function(u,s){const l=setTimeout(u,s);return"number"==typeof l&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(l):"object"==typeof l&&l.unref&&l.unref(),l};class oe{constructor(s,l){this.appName_=s,this.appCheckProvider=l,this.appCheck=null==l?void 0:l.getImmediate({optional:!0}),this.appCheck||null==l||l.get().then(p=>this.appCheck=p)}getToken(s){return this.appCheck?this.appCheck.getToken(s):new Promise((l,p)=>{setTimeout(()=>{this.appCheck?this.getToken(s).then(l,p):l(null)},0)})}addTokenChangeListener(s){var l;null===(l=this.appCheckProvider)||void 0===l||l.get().then(p=>p.addTokenListener(s))}notifyForInvalidToken(){rr(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class qe{constructor(s,l,p){this.appName_=s,this.firebaseOptions_=l,this.authProvider_=p,this.auth_=null,this.auth_=p.getImmediate({optional:!0}),this.auth_||p.onInit(E=>this.auth_=E)}getToken(s){return this.auth_?this.auth_.getToken(s).catch(l=>l&&"auth/token-not-initialized"===l.code?($r("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(l)):new Promise((l,p)=>{setTimeout(()=>{this.auth_?this.getToken(s).then(l,p):l(null)},0)})}addTokenChangeListener(s){this.auth_?this.auth_.addAuthTokenListener(s):this.authProvider_.get().then(l=>l.addAuthTokenListener(s))}removeTokenChangeListener(s){this.authProvider_.get().then(l=>l.removeAuthTokenListener(s))}notifyForInvalidToken(){let s='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';s+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',rr(s)}}let xt=(()=>{class u{constructor(l){this.accessToken=l}getToken(l){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(l){l(this.accessToken)}removeTokenChangeListener(l){}notifyForInvalidToken(){}}return u.OWNER="owner",u})();const Gn=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Ft="websocket",Kt="long_polling";class mn{constructor(s,l,p,E,P=!1,z="",te=!1,we=!1){this.secure=l,this.namespace=p,this.webSocketOnly=E,this.nodeAdmin=P,this.persistenceKey=z,this.includeNamespaceInQueryParams=te,this.isUsingEmulator=we,this._host=s.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Xn.get("host:"+s)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(s){s!==this.internalHost&&(this.internalHost=s,this.isCacheableHost()&&Xn.set("host:"+this._host,this.internalHost))}toString(){let s=this.toURLString();return this.persistenceKey&&(s+="<"+this.persistenceKey+">"),s}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function gr(u,s,l){let p;if((0,Oe.hu)("string"==typeof s,"typeof type must == string"),(0,Oe.hu)("object"==typeof l,"typeof params must == object"),s===Ft)p=(u.secure?"wss://":"ws://")+u.internalHost+"/.ws?";else{if(s!==Kt)throw new Error("Unknown connection type: "+s);p=(u.secure?"https://":"http://")+u.internalHost+"/.lp?"}(function Qn(u){return u.host!==u.internalHost||u.isCustomHost()||u.includeNamespaceInQueryParams})(u)&&(l.ns=u.namespace);const E=[];return xe(l,(P,z)=>{E.push(P+"="+z)}),p+E.join("&")}class Fr{constructor(){this.counters_={}}incrementCounter(s,l=1){(0,Oe.r3)(this.counters_,s)||(this.counters_[s]=0),this.counters_[s]+=l}get(){return(0,Oe.p$)(this.counters_)}}const Or={},Ri={};function Yr(u){const s=u.toString();return Or[s]||(Or[s]=new Fr),Or[s]}class ei{constructor(s){this.onMessage_=s,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(s,l){this.closeAfterResponse=s,this.onClose=l,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(s,l){for(this.pendingResponses[s]=l;this.pendingResponses[this.currentResponseNum];){const p=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let E=0;E<p.length;++E)p[E]&&Te(()=>{this.onMessage_(p[E])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class ye{constructor(s,l,p,E,P,z,te){this.connId=s,this.repoInfo=l,this.applicationId=p,this.appCheckToken=E,this.authToken=P,this.transportSessionId=z,this.lastSessionId=te,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=ui(s),this.stats_=Yr(l),this.urlFn=we=>(this.appCheckToken&&(we.ac=this.appCheckToken),gr(l,Kt,we))}open(s,l){this.curSegmentNum=0,this.onDisconnect_=l,this.myPacketOrderer=new ei(s),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(u){if((0,Oe.Yr)()||"complete"===document.readyState)u();else{let s=!1;const l=function(){document.body?s||(s=!0,u()):setTimeout(l,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",l,!1),window.addEventListener("load",l,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&l()}),window.attachEvent("onload",l))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new st((...P)=>{const[z,te,we,Ve,$t]=P;if(this.incrementIncomingBytes_(P),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===z)this.id=te,this.password=we;else{if("close"!==z)throw new Error("Unrecognized command received: "+z);te?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(te,()=>{this.onClosed_()})):this.onClosed_()}},(...P)=>{const[z,te]=P;this.incrementIncomingBytes_(P),this.myPacketOrderer.handleResponse(z,te)},()=>{this.onClosed_()},this.urlFn);const p={start:"t"};p.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(p.cb=this.scriptTagHolder.uniqueCallbackIdentifier),p.v="5",this.transportSessionId&&(p.s=this.transportSessionId),this.lastSessionId&&(p.ls=this.lastSessionId),this.applicationId&&(p.p=this.applicationId),this.appCheckToken&&(p.ac=this.appCheckToken),typeof location<"u"&&location.hostname&&Gn.test(location.hostname)&&(p.r="f");const E=this.urlFn(p);this.log_("Connecting via long-poll to "+E),this.scriptTagHolder.addTag(E,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){ye.forceAllow_=!0}static forceDisallow(){ye.forceDisallow_=!0}static isAvailable(){return!((0,Oe.Yr)()||!ye.forceAllow_&&(ye.forceDisallow_||!(typeof document<"u")||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(s){const l=(0,Oe.Wl)(s);this.bytesSent+=l.length,this.stats_.incrementCounter("bytes_sent",l.length);const p=(0,Oe.h$)(l),E=An(p,1840);for(let P=0;P<E.length;P++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,E.length,E[P]),this.curSegmentNum++}addDisconnectPingFrame(s,l){if((0,Oe.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const p={dframe:"t"};p.id=s,p.pw=l,this.myDisconnFrame.src=this.urlFn(p),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(s){const l=(0,Oe.Wl)(s).length;this.bytesReceived+=l,this.stats_.incrementCounter("bytes_received",l)}}class st{constructor(s,l,p,E){if(this.onDisconnect=p,this.urlFn=E,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,Oe.Yr)())this.commandCB=s,this.onMessageCB=l;else{this.uniqueCallbackIdentifier=Wr(),window["pLPCommand"+this.uniqueCallbackIdentifier]=s,window["pRTLPCB"+this.uniqueCallbackIdentifier]=l,this.myIFrame=st.createIFrame_();let P="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(P='<script>document.domain="'+document.domain+'";<\/script>');const z="<html><body>"+P+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(z),this.myIFrame.doc.close()}catch(te){$r("frame writing exception"),te.stack&&$r(te.stack),$r(te)}}}static createIFrame_(){const s=document.createElement("iframe");if(s.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(s);try{s.contentWindow.document||$r("No IE domain setting required")}catch{const p=document.domain;s.src="javascript:void((function(){document.open();document.domain='"+p+"';document.close();})())"}return s.contentDocument?s.doc=s.contentDocument:s.contentWindow?s.doc=s.contentWindow.document:s.document&&(s.doc=s.document),s}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const s=this.onDisconnect;s&&(this.onDisconnect=null,s())}startLongPoll(s,l){for(this.myID=s,this.myPW=l,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const s={};s.id=this.myID,s.pw=this.myPW,s.ser=this.currentSerial;let l=this.urlFn(s),p="",E=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+p.length<=1870;){const z=this.pendingSegs.shift();p=p+"&seg"+E+"="+z.seg+"&ts"+E+"="+z.ts+"&d"+E+"="+z.d,E++}return l+=p,this.addLongPollTag_(l,this.currentSerial),!0}return!1}enqueueSegment(s,l,p){this.pendingSegs.push({seg:s,ts:l,d:p}),this.alive&&this.newRequest_()}addLongPollTag_(s,l){this.outstandingRequests.add(l);const p=()=>{this.outstandingRequests.delete(l),this.newRequest_()},E=setTimeout(p,Math.floor(25e3));this.addTag(s,()=>{clearTimeout(E),p()})}addTag(s,l){(0,Oe.Yr)()?this.doNodeLongPoll(s,l):setTimeout(()=>{try{if(!this.sendNewPolls)return;const p=this.myIFrame.doc.createElement("script");p.type="text/javascript",p.async=!0,p.src=s,p.onload=p.onreadystatechange=function(){const E=p.readyState;(!E||"loaded"===E||"complete"===E)&&(p.onload=p.onreadystatechange=null,p.parentNode&&p.parentNode.removeChild(p),l())},p.onerror=()=>{$r("Long-poll script failed to load: "+s),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(p)}catch{}},Math.floor(1))}}let tn=null;typeof MozWebSocket<"u"?tn=MozWebSocket:typeof WebSocket<"u"&&(tn=WebSocket);let Ln=(()=>{class u{constructor(l,p,E,P,z,te,we){this.connId=l,this.applicationId=E,this.appCheckToken=P,this.authToken=z,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=ui(this.connId),this.stats_=Yr(p),this.connURL=u.connectionURL_(p,te,we,P,E),this.nodeAdmin=p.nodeAdmin}static connectionURL_(l,p,E,P,z){const te={v:"5"};return!(0,Oe.Yr)()&&typeof location<"u"&&location.hostname&&Gn.test(location.hostname)&&(te.r="f"),p&&(te.s=p),E&&(te.ls=E),P&&(te.ac=P),z&&(te.p=z),gr(l,Ft,te)}open(l,p){this.onDisconnect=p,this.onMessage=l,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Xn.set("previous_websocket_failure",!0);try{let E;if((0,Oe.Yr)()){E={headers:{"User-Agent":`Firebase/5/${_n}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(E.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(E.headers["X-Firebase-AppCheck"]=this.appCheckToken);const z=process.env,te=0===this.connURL.indexOf("wss://")?z.HTTPS_PROXY||z.https_proxy:z.HTTP_PROXY||z.http_proxy;te&&(E.proxy={origin:te})}this.mySock=new tn(this.connURL,[],E)}catch(E){this.log_("Error instantiating WebSocket.");const P=E.message||E.data;return P&&this.log_(P),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=E=>{this.handleIncomingFrame(E)},this.mySock.onerror=E=>{this.log_("WebSocket error.  Closing connection.");const P=E.message||E.data;P&&this.log_(P),this.onClosed_()}}start(){}static forceDisallow(){u.forceDisallow_=!0}static isAvailable(){let l=!1;if(typeof navigator<"u"&&navigator.userAgent){const E=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);E&&E.length>1&&parseFloat(E[1])<4.4&&(l=!0)}return!l&&null!==tn&&!u.forceDisallow_}static previouslyFailed(){return Xn.isInMemoryStorage||!0===Xn.get("previous_websocket_failure")}markConnectionHealthy(){Xn.remove("previous_websocket_failure")}appendFrame_(l){if(this.frames.push(l),this.frames.length===this.totalFrames){const p=this.frames.join("");this.frames=null;const E=(0,Oe.cI)(p);this.onMessage(E)}}handleNewFrameCount_(l){this.totalFrames=l,this.frames=[]}extractFrameCount_(l){if((0,Oe.hu)(null===this.frames,"We already have a frame buffer"),l.length<=6){const p=Number(l);if(!isNaN(p))return this.handleNewFrameCount_(p),null}return this.handleNewFrameCount_(1),l}handleIncomingFrame(l){if(null===this.mySock)return;const p=l.data;if(this.bytesReceived+=p.length,this.stats_.incrementCounter("bytes_received",p.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(p);else{const E=this.extractFrameCount_(p);null!==E&&this.appendFrame_(E)}}send(l){this.resetKeepAlive();const p=(0,Oe.Wl)(l);this.bytesSent+=p.length,this.stats_.incrementCounter("bytes_sent",p.length);const E=An(p,16384);E.length>1&&this.sendString_(String(E.length));for(let P=0;P<E.length;P++)this.sendString_(E[P])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(l){try{this.mySock.send(l)}catch(p){this.log_("Exception thrown from WebSocket.send():",p.message||p.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return u.responsesRequiredToBeHealthy=2,u.healthyTimeout=3e4,u})(),Hn=(()=>{class u{constructor(l){this.initTransports_(l)}static get ALL_TRANSPORTS(){return[ye,Ln]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(l){const p=Ln&&Ln.isAvailable();let E=p&&!Ln.previouslyFailed();if(l.webSocketOnly&&(p||rr("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),E=!0),E)this.transports_=[Ln];else{const P=this.transports_=[];for(const z of u.ALL_TRANSPORTS)z&&z.isAvailable()&&P.push(z);u.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return u.globalTransportInitialized_=!1,u})();class Ds{constructor(s,l,p,E,P,z,te,we,Ve,$t){this.id=s,this.repoInfo_=l,this.applicationId_=p,this.appCheckToken_=E,this.authToken_=P,this.onMessage_=z,this.onReady_=te,this.onDisconnect_=we,this.onKill_=Ve,this.lastSessionId=$t,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=ui("c:"+this.id+":"),this.transportManager_=new Hn(l),this.log_("Connection created"),this.start_()}start_(){const s=this.transportManager_.initialTransport();this.conn_=new s(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=s.responsesRequiredToBeHealthy||0;const l=this.connReceiver_(this.conn_),p=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(l,p)},Math.floor(0));const E=s.healthyTimeout||0;E>0&&(this.healthyTimeout_=ee(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(E)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(s){return l=>{s===this.conn_?this.onConnectionLost_(l):s===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(s){return l=>{2!==this.state_&&(s===this.rx_?this.onPrimaryMessageReceived_(l):s===this.secondaryConn_?this.onSecondaryMessageReceived_(l):this.log_("message on old connection"))}}sendRequest(s){this.sendData_({t:"d",d:s})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(s){if("t"in s){const l=s.t;"a"===l?this.upgradeIfSecondaryHealthy_():"r"===l?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===l&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(s){const l=yi("t",s),p=yi("d",s);if("c"===l)this.onSecondaryControl_(p);else{if("d"!==l)throw new Error("Unknown protocol layer: "+l);this.pendingDataMessages.push(p)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(s){const l=yi("t",s),p=yi("d",s);"c"===l?this.onControl_(p):"d"===l&&this.onDataMessage_(p)}onDataMessage_(s){this.onPrimaryResponse_(),this.onMessage_(s)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(s){const l=yi("t",s);if("d"in s){const p=s.d;if("h"===l){const E=Object.assign({},p);this.repoInfo_.isUsingEmulator&&(E.h=this.repoInfo_.host),this.onHandshake_(E)}else if("n"===l){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let E=0;E<this.pendingDataMessages.length;++E)this.onDataMessage_(this.pendingDataMessages[E]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===l?this.onConnectionShutdown_(p):"r"===l?this.onReset_(p):"e"===l?nr("Server Error: "+p):"o"===l?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):nr("Unknown control packet command: "+l)}}onHandshake_(s){const l=s.ts,p=s.v,E=s.h;this.sessionId=s.s,this.repoInfo_.host=E,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,l),"5"!==p&&rr("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const s=this.transportManager_.upgradeTransport();s&&this.startUpgrade_(s)}startUpgrade_(s){this.secondaryConn_=new s(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=s.responsesRequiredToBeHealthy||0;const l=this.connReceiver_(this.secondaryConn_),p=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(l,p),ee(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(s){this.log_("Reset packet received.  New host: "+s),this.repoInfo_.host=s,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(s,l){this.log_("Realtime connection established."),this.conn_=s,this.state_=1,this.onReady_&&(this.onReady_(l,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):ee(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const s=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===s||this.rx_===s)&&this.close()}onConnectionLost_(s){this.conn_=null,s||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Xn.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(s){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(s),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(s){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(s)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class ys{put(s,l,p,E){}merge(s,l,p,E){}refreshAuthToken(s){}refreshAppCheckToken(s){}onDisconnectPut(s,l,p){}onDisconnectMerge(s,l,p){}onDisconnectCancel(s,l){}reportStats(s){}}class Zr{constructor(s){this.allowedEvents_=s,this.listeners_={},(0,Oe.hu)(Array.isArray(s)&&s.length>0,"Requires a non-empty array")}trigger(s,...l){if(Array.isArray(this.listeners_[s])){const p=[...this.listeners_[s]];for(let E=0;E<p.length;E++)p[E].callback.apply(p[E].context,l)}}on(s,l,p){this.validateEventType_(s),this.listeners_[s]=this.listeners_[s]||[],this.listeners_[s].push({callback:l,context:p});const E=this.getInitialEvent(s);E&&l.apply(p,E)}off(s,l,p){this.validateEventType_(s);const E=this.listeners_[s]||[];for(let P=0;P<E.length;P++)if(E[P].callback===l&&(!p||p===E[P].context))return void E.splice(P,1)}validateEventType_(s){(0,Oe.hu)(this.allowedEvents_.find(l=>l===s),"Unknown event: "+s)}}class Js extends Zr{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!(0,Oe.uI)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new Js}getInitialEvent(s){return(0,Oe.hu)("online"===s,"Unknown event type: "+s),[this.online_]}currentlyOnline(){return this.online_}}class Vr{constructor(s,l){if(void 0===l){this.pieces_=s.split("/");let p=0;for(let E=0;E<this.pieces_.length;E++)this.pieces_[E].length>0&&(this.pieces_[p]=this.pieces_[E],p++);this.pieces_.length=p,this.pieceNum_=0}else this.pieces_=s,this.pieceNum_=l}toString(){let s="";for(let l=this.pieceNum_;l<this.pieces_.length;l++)""!==this.pieces_[l]&&(s+="/"+this.pieces_[l]);return s||"/"}}function Di(){return new Vr("")}function pi(u){return u.pieceNum_>=u.pieces_.length?null:u.pieces_[u.pieceNum_]}function Vs(u){return u.pieces_.length-u.pieceNum_}function Vi(u){let s=u.pieceNum_;return s<u.pieces_.length&&s++,new Vr(u.pieces_,s)}function To(u){return u.pieceNum_<u.pieces_.length?u.pieces_[u.pieces_.length-1]:null}function Xs(u,s=0){return u.pieces_.slice(u.pieceNum_+s)}function Yo(u){if(u.pieceNum_>=u.pieces_.length)return null;const s=[];for(let l=u.pieceNum_;l<u.pieces_.length-1;l++)s.push(u.pieces_[l]);return new Vr(s,0)}function Ai(u,s){const l=[];for(let p=u.pieceNum_;p<u.pieces_.length;p++)l.push(u.pieces_[p]);if(s instanceof Vr)for(let p=s.pieceNum_;p<s.pieces_.length;p++)l.push(s.pieces_[p]);else{const p=s.split("/");for(let E=0;E<p.length;E++)p[E].length>0&&l.push(p[E])}return new Vr(l,0)}function hr(u){return u.pieceNum_>=u.pieces_.length}function Os(u,s){const l=pi(u),p=pi(s);if(null===l)return s;if(l===p)return Os(Vi(u),Vi(s));throw new Error("INTERNAL ERROR: innerPath ("+s+") is not within outerPath ("+u+")")}function so(u,s){const l=Xs(u,0),p=Xs(s,0);for(let E=0;E<l.length&&E<p.length;E++){const P=Er(l[E],p[E]);if(0!==P)return P}return l.length===p.length?0:l.length<p.length?-1:1}function Wo(u,s){if(Vs(u)!==Vs(s))return!1;for(let l=u.pieceNum_,p=s.pieceNum_;l<=u.pieces_.length;l++,p++)if(u.pieces_[l]!==s.pieces_[p])return!1;return!0}function ss(u,s){let l=u.pieceNum_,p=s.pieceNum_;if(Vs(u)>Vs(s))return!1;for(;l<u.pieces_.length;){if(u.pieces_[l]!==s.pieces_[p])return!1;++l,++p}return!0}class Do{constructor(s,l){this.errorPrefix_=l,this.parts_=Xs(s,0),this.byteLength_=Math.max(1,this.parts_.length);for(let p=0;p<this.parts_.length;p++)this.byteLength_+=(0,Oe.ug)(this.parts_[p]);Es(this)}}function Es(u){if(u.byteLength_>768)throw new Error(u.errorPrefix_+"has a key path longer than 768 bytes ("+u.byteLength_+").");if(u.parts_.length>32)throw new Error(u.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+ko(u))}function ko(u){return 0===u.parts_.length?"":"in property '"+u.parts_.join(".")+"'"}class Ws extends Zr{constructor(){let s,l;super(["visible"]),typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(l="visibilitychange",s="hidden"):typeof document.mozHidden<"u"?(l="mozvisibilitychange",s="mozHidden"):typeof document.msHidden<"u"?(l="msvisibilitychange",s="msHidden"):typeof document.webkitHidden<"u"&&(l="webkitvisibilitychange",s="webkitHidden")),this.visible_=!0,l&&document.addEventListener(l,()=>{const p=!document[s];p!==this.visible_&&(this.visible_=p,this.trigger("visible",p))},!1)}static getInstance(){return new Ws}getInitialEvent(s){return(0,Oe.hu)("visible"===s,"Unknown event type: "+s),[this.visible_]}}const Yi=1e3;let ds,Us=(()=>{class u extends ys{constructor(l,p,E,P,z,te,we,Ve){if(super(),this.repoInfo_=l,this.applicationId_=p,this.onDataUpdate_=E,this.onConnectStatus_=P,this.onServerInfoUpdate_=z,this.authTokenProvider_=te,this.appCheckTokenProvider_=we,this.authOverride_=Ve,this.id=u.nextPersistentConnectionId_++,this.log_=ui("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Yi,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,Ve&&!(0,Oe.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Ws.getInstance().on("visible",this.onVisible_,this),-1===l.host.indexOf("fblocal")&&Js.getInstance().on("online",this.onOnline_,this)}sendRequest(l,p,E){const P=++this.requestNumber_,z={r:P,a:l,b:p};this.log_((0,Oe.Wl)(z)),(0,Oe.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(z),E&&(this.requestCBHash_[P]=E)}get(l){this.initConnection_();const p=new Oe.BH,P={action:"g",request:{p:l._path.toString(),q:l._queryObject},onComplete:te=>{const we=te.d;"ok"===te.s?p.resolve(we):p.reject(we)}};return this.outstandingGets_.push(P),this.outstandingGetCount_++,this.connected_&&this.sendGet_(this.outstandingGets_.length-1),p.promise}listen(l,p,E,P){this.initConnection_();const z=l._queryIdentifier,te=l._path.toString();this.log_("Listen called for "+te+" "+z),this.listens.has(te)||this.listens.set(te,new Map),(0,Oe.hu)(l._queryParams.isDefault()||!l._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,Oe.hu)(!this.listens.get(te).has(z),"listen() called twice for same path/queryId.");const we={onComplete:P,hashFn:p,query:l,tag:E};this.listens.get(te).set(z,we),this.connected_&&this.sendListen_(we)}sendGet_(l){const p=this.outstandingGets_[l];this.sendRequest("g",p.request,E=>{delete this.outstandingGets_[l],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),p.onComplete&&p.onComplete(E)})}sendListen_(l){const p=l.query,E=p._path.toString(),P=p._queryIdentifier;this.log_("Listen on "+E+" for "+P);const z={p:E};l.tag&&(z.q=p._queryObject,z.t=l.tag),z.h=l.hashFn(),this.sendRequest("q",z,we=>{const Ve=we.d,$t=we.s;u.warnOnListenWarnings_(Ve,p),(this.listens.get(E)&&this.listens.get(E).get(P))===l&&(this.log_("listen response",we),"ok"!==$t&&this.removeListen_(E,P),l.onComplete&&l.onComplete($t,Ve))})}static warnOnListenWarnings_(l,p){if(l&&"object"==typeof l&&(0,Oe.r3)(l,"w")){const E=(0,Oe.DV)(l,"w");if(Array.isArray(E)&&~E.indexOf("no_index")){const P='".indexOn": "'+p._queryParams.getIndex().toString()+'"',z=p._path.toString();rr(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${P} at ${z} to your security rules for better performance.`)}}}refreshAuthToken(l){this.authToken_=l,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(l)}reduceReconnectDelayIfAdminCredential_(l){(l&&40===l.length||(0,Oe.GJ)(l))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(l){this.appCheckToken_=l,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const l=this.authToken_,p=(0,Oe.w9)(l)?"auth":"gauth",E={cred:l};null===this.authOverride_?E.noauth=!0:"object"==typeof this.authOverride_&&(E.authvar=this.authOverride_),this.sendRequest(p,E,P=>{const z=P.s,te=P.d||"error";this.authToken_===l&&("ok"===z?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(z,te))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},l=>{const p=l.s,E=l.d||"error";"ok"===p?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(p,E)})}unlisten(l,p){const E=l._path.toString(),P=l._queryIdentifier;this.log_("Unlisten called for "+E+" "+P),(0,Oe.hu)(l._queryParams.isDefault()||!l._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(E,P)&&this.connected_&&this.sendUnlisten_(E,P,l._queryObject,p)}sendUnlisten_(l,p,E,P){this.log_("Unlisten on "+l+" for "+p);const z={p:l};P&&(z.q=E,z.t=P),this.sendRequest("n",z)}onDisconnectPut(l,p,E){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",l,p,E):this.onDisconnectRequestQueue_.push({pathString:l,action:"o",data:p,onComplete:E})}onDisconnectMerge(l,p,E){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",l,p,E):this.onDisconnectRequestQueue_.push({pathString:l,action:"om",data:p,onComplete:E})}onDisconnectCancel(l,p){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",l,null,p):this.onDisconnectRequestQueue_.push({pathString:l,action:"oc",data:null,onComplete:p})}sendOnDisconnect_(l,p,E,P){const z={p,d:E};this.log_("onDisconnect "+l,z),this.sendRequest(l,z,te=>{P&&setTimeout(()=>{P(te.s,te.d)},Math.floor(0))})}put(l,p,E,P){this.putInternal("p",l,p,E,P)}merge(l,p,E,P){this.putInternal("m",l,p,E,P)}putInternal(l,p,E,P,z){this.initConnection_();const te={p,d:E};void 0!==z&&(te.h=z),this.outstandingPuts_.push({action:l,request:te,onComplete:P}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+p)}sendPut_(l){const p=this.outstandingPuts_[l].action,E=this.outstandingPuts_[l].request,P=this.outstandingPuts_[l].onComplete;this.outstandingPuts_[l].queued=this.connected_,this.sendRequest(p,E,z=>{this.log_(p+" response",z),delete this.outstandingPuts_[l],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),P&&P(z.s,z.d)})}reportStats(l){if(this.connected_){const p={c:l};this.log_("reportStats",p),this.sendRequest("s",p,E=>{"ok"!==E.s&&this.log_("reportStats","Error sending stats: "+E.d)})}}onDataMessage_(l){if("r"in l){this.log_("from server: "+(0,Oe.Wl)(l));const p=l.r,E=this.requestCBHash_[p];E&&(delete this.requestCBHash_[p],E(l.b))}else{if("error"in l)throw"A server-side error has occurred: "+l.error;"a"in l&&this.onDataPush_(l.a,l.b)}}onDataPush_(l,p){this.log_("handleServerMessage",l,p),"d"===l?this.onDataUpdate_(p.p,p.d,!1,p.t):"m"===l?this.onDataUpdate_(p.p,p.d,!0,p.t):"c"===l?this.onListenRevoked_(p.p,p.q):"ac"===l?this.onAuthRevoked_(p.s,p.d):"apc"===l?this.onAppCheckRevoked_(p.s,p.d):"sd"===l?this.onSecurityDebugPacket_(p):nr("Unrecognized action received from server: "+(0,Oe.Wl)(l)+"\nAre you using the latest client?")}onReady_(l,p){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(l),this.lastSessionId=p,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(l){(0,Oe.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(l))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(l){l&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Yi,this.realtime_||this.scheduleConnect_(0)),this.visible_=l}onOnline_(l){l?(this.log_("Browser went online."),this.reconnectDelay_=Yi,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=Yi),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const l=(new Date).getTime()-this.lastConnectionAttemptTime_;let p=Math.max(0,this.reconnectDelay_-l);p=Math.random()*p,this.log_("Trying to reconnect in "+p+"ms"),this.scheduleConnect_(p),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var l=this;return(0,sn.Z)(function*(){if(l.shouldReconnect_()){l.log_("Making a connection attempt"),l.lastConnectionAttemptTime_=(new Date).getTime(),l.lastConnectionEstablishedTime_=null;const p=l.onDataMessage_.bind(l),E=l.onReady_.bind(l),P=l.onRealtimeDisconnect_.bind(l),z=l.id+":"+u.nextConnectionId_++,te=l.lastSessionId;let we=!1,Ve=null;const $t=function(){Ve?Ve.close():(we=!0,P())};l.realtime_={close:$t,sendRequest:function(Rn){(0,Oe.hu)(Ve,"sendRequest call when we're not connected not allowed."),Ve.sendRequest(Rn)}};const gn=l.forceTokenRefresh_;l.forceTokenRefresh_=!1;try{const[Rn,jn]=yield Promise.all([l.authTokenProvider_.getToken(gn),l.appCheckTokenProvider_.getToken(gn)]);we?$r("getToken() completed but was canceled"):($r("getToken() completed. Creating connection."),l.authToken_=Rn&&Rn.accessToken,l.appCheckToken_=jn&&jn.token,Ve=new Ds(z,l.repoInfo_,l.applicationId_,l.appCheckToken_,l.authToken_,p,E,P,fr=>{rr(fr+" ("+l.repoInfo_.toString()+")"),l.interrupt("server_kill")},te))}catch(Rn){l.log_("Failed to get token: "+Rn),we||(l.repoInfo_.nodeAdmin&&rr(Rn),$t())}}})()}interrupt(l){$r("Interrupting connection for reason: "+l),this.interruptReasons_[l]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(l){$r("Resuming connection for reason: "+l),delete this.interruptReasons_[l],(0,Oe.xb)(this.interruptReasons_)&&(this.reconnectDelay_=Yi,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(l){const p=l-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:p})}cancelSentTransactions_(){for(let l=0;l<this.outstandingPuts_.length;l++){const p=this.outstandingPuts_[l];p&&"h"in p.request&&p.queued&&(p.onComplete&&p.onComplete("disconnect"),delete this.outstandingPuts_[l],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(l,p){let E;E=p?p.map(z=>Ar(z)).join("$"):"default";const P=this.removeListen_(l,E);P&&P.onComplete&&P.onComplete("permission_denied")}removeListen_(l,p){const E=new Vr(l).toString();let P;if(this.listens.has(E)){const z=this.listens.get(E);P=z.get(p),z.delete(p),0===z.size&&this.listens.delete(E)}else P=void 0;return P}onAuthRevoked_(l,p){$r("Auth token revoked: "+l+"/"+p),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===l||"permission_denied"===l)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(l,p){$r("App check token revoked: "+l+"/"+p),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===l||"permission_denied"===l)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(l){this.securityDebugCallback_?this.securityDebugCallback_(l):"msg"in l&&console.log("FIREBASE: "+l.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const l of this.listens.values())for(const p of l.values())this.sendListen_(p);for(let l=0;l<this.outstandingPuts_.length;l++)this.outstandingPuts_[l]&&this.sendPut_(l);for(;this.onDisconnectRequestQueue_.length;){const l=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(l.action,l.pathString,l.data,l.onComplete)}for(let l=0;l<this.outstandingGets_.length;l++)this.outstandingGets_[l]&&this.sendGet_(l)}sendConnectStats_(){const l={};let p="js";(0,Oe.Yr)()&&(p=this.repoInfo_.nodeAdmin?"admin_node":"node"),l["sdk."+p+"."+_n.replace(/\./g,"-")]=1,(0,Oe.uI)()?l["framework.cordova"]=1:(0,Oe.b$)()&&(l["framework.reactnative"]=1),this.reportStats(l)}shouldReconnect_(){const l=Js.getInstance().currentlyOnline();return(0,Oe.xb)(this.interruptReasons_)&&l}}return u.nextPersistentConnectionId_=0,u.nextConnectionId_=0,u})();class gi{constructor(s,l){this.name=s,this.node=l}static Wrap(s,l){return new gi(s,l)}}class No{getCompare(){return this.compare.bind(this)}indexedValueChanged(s,l){const p=new gi(ri,s),E=new gi(ri,l);return 0!==this.compare(p,E)}minPost(){return gi.MIN}}class $o extends No{static get __EMPTY_NODE(){return ds}static set __EMPTY_NODE(s){ds=s}compare(s,l){return Er(s.name,l.name)}isDefinedOn(s){throw(0,Oe.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(s,l){return!1}minPost(){return gi.MIN}maxPost(){return new gi(oi,ds)}makePost(s,l){return(0,Oe.hu)("string"==typeof s,"KeyIndex indexValue must always be a string."),new gi(s,ds)}toString(){return".key"}}const ks=new $o;class Vo{constructor(s,l,p,E,P=null){this.isReverse_=E,this.resultGenerator_=P,this.nodeStack_=[];let z=1;for(;!s.isEmpty();)if(z=l?p(s.key,l):1,E&&(z*=-1),z<0)s=this.isReverse_?s.left:s.right;else{if(0===z){this.nodeStack_.push(s);break}this.nodeStack_.push(s),s=this.isReverse_?s.right:s.left}}getNext(){if(0===this.nodeStack_.length)return null;let l,s=this.nodeStack_.pop();if(l=this.resultGenerator_?this.resultGenerator_(s.key,s.value):{key:s.key,value:s.value},this.isReverse_)for(s=s.left;!s.isEmpty();)this.nodeStack_.push(s),s=s.right;else for(s=s.right;!s.isEmpty();)this.nodeStack_.push(s),s=s.left;return l}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const s=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(s.key,s.value):{key:s.key,value:s.value}}}let Ze,oo=(()=>{class u{constructor(l,p,E,P,z){this.key=l,this.value=p,this.color=null!=E?E:u.RED,this.left=null!=P?P:ue.EMPTY_NODE,this.right=null!=z?z:ue.EMPTY_NODE}copy(l,p,E,P,z){return new u(null!=l?l:this.key,null!=p?p:this.value,null!=E?E:this.color,null!=P?P:this.left,null!=z?z:this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(l){return this.left.inorderTraversal(l)||!!l(this.key,this.value)||this.right.inorderTraversal(l)}reverseTraversal(l){return this.right.reverseTraversal(l)||l(this.key,this.value)||this.left.reverseTraversal(l)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(l,p,E){let P=this;const z=E(l,P.key);return P=z<0?P.copy(null,null,null,P.left.insert(l,p,E),null):0===z?P.copy(null,p,null,null,null):P.copy(null,null,null,null,P.right.insert(l,p,E)),P.fixUp_()}removeMin_(){if(this.left.isEmpty())return ue.EMPTY_NODE;let l=this;return!l.left.isRed_()&&!l.left.left.isRed_()&&(l=l.moveRedLeft_()),l=l.copy(null,null,null,l.left.removeMin_(),null),l.fixUp_()}remove(l,p){let E,P;if(E=this,p(l,E.key)<0)!E.left.isEmpty()&&!E.left.isRed_()&&!E.left.left.isRed_()&&(E=E.moveRedLeft_()),E=E.copy(null,null,null,E.left.remove(l,p),null);else{if(E.left.isRed_()&&(E=E.rotateRight_()),!E.right.isEmpty()&&!E.right.isRed_()&&!E.right.left.isRed_()&&(E=E.moveRedRight_()),0===p(l,E.key)){if(E.right.isEmpty())return ue.EMPTY_NODE;P=E.right.min_(),E=E.copy(P.key,P.value,null,null,E.right.removeMin_())}E=E.copy(null,null,null,null,E.right.remove(l,p))}return E.fixUp_()}isRed_(){return this.color}fixUp_(){let l=this;return l.right.isRed_()&&!l.left.isRed_()&&(l=l.rotateLeft_()),l.left.isRed_()&&l.left.left.isRed_()&&(l=l.rotateRight_()),l.left.isRed_()&&l.right.isRed_()&&(l=l.colorFlip_()),l}moveRedLeft_(){let l=this.colorFlip_();return l.right.left.isRed_()&&(l=l.copy(null,null,null,null,l.right.rotateRight_()),l=l.rotateLeft_(),l=l.colorFlip_()),l}moveRedRight_(){let l=this.colorFlip_();return l.left.left.isRed_()&&(l=l.rotateRight_(),l=l.colorFlip_()),l}rotateLeft_(){const l=this.copy(null,null,u.RED,null,this.right.left);return this.right.copy(null,null,this.color,l,null)}rotateRight_(){const l=this.copy(null,null,u.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,l)}colorFlip_(){const l=this.left.copy(null,null,!this.left.color,null,null),p=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,l,p)}checkMaxDepth_(){const l=this.check_();return Math.pow(2,l)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const l=this.left.check_();if(l!==this.right.check_())throw new Error("Black depths differ");return l+(this.isRed_()?0:1)}}return u.RED=!0,u.BLACK=!1,u})();class ue{constructor(s,l=ue.EMPTY_NODE){this.comparator_=s,this.root_=l}insert(s,l){return new ue(this.comparator_,this.root_.insert(s,l,this.comparator_).copy(null,null,oo.BLACK,null,null))}remove(s){return new ue(this.comparator_,this.root_.remove(s,this.comparator_).copy(null,null,oo.BLACK,null,null))}get(s){let l,p=this.root_;for(;!p.isEmpty();){if(l=this.comparator_(s,p.key),0===l)return p.value;l<0?p=p.left:l>0&&(p=p.right)}return null}getPredecessorKey(s){let l,p=this.root_,E=null;for(;!p.isEmpty();){if(l=this.comparator_(s,p.key),0===l){if(p.left.isEmpty())return E?E.key:null;for(p=p.left;!p.right.isEmpty();)p=p.right;return p.key}l<0?p=p.left:l>0&&(E=p,p=p.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(s){return this.root_.inorderTraversal(s)}reverseTraversal(s){return this.root_.reverseTraversal(s)}getIterator(s){return new Vo(this.root_,null,this.comparator_,!1,s)}getIteratorFrom(s,l){return new Vo(this.root_,s,this.comparator_,!1,l)}getReverseIteratorFrom(s,l){return new Vo(this.root_,s,this.comparator_,!0,l)}getReverseIterator(s){return new Vo(this.root_,null,this.comparator_,!0,s)}}function N(u,s){return Er(u.name,s.name)}function de(u,s){return Er(u,s)}ue.EMPTY_NODE=new class k{copy(s,l,p,E,P){return this}insert(s,l,p){return new oo(s,l,null)}remove(s,l){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(s){return!1}reverseTraversal(s){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const xr=function(u){return"number"==typeof u?"number:"+gt(u):"string:"+u},Jr=function(u){if(u.isLeafNode()){const s=u.val();(0,Oe.hu)("string"==typeof s||"number"==typeof s||"object"==typeof s&&(0,Oe.r3)(s,".sv"),"Priority must be a string or number.")}else(0,Oe.hu)(u===Ze||u.isEmpty(),"priority of unexpected type.");(0,Oe.hu)(u===Ze||u.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let xi,js,ws,Si=(()=>{class u{constructor(l,p=u.__childrenNodeConstructor.EMPTY_NODE){this.value_=l,this.priorityNode_=p,this.lazyHash_=null,(0,Oe.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),Jr(this.priorityNode_)}static set __childrenNodeConstructor(l){xi=l}static get __childrenNodeConstructor(){return xi}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(l){return new u(this.value_,l)}getImmediateChild(l){return".priority"===l?this.priorityNode_:u.__childrenNodeConstructor.EMPTY_NODE}getChild(l){return hr(l)?this:".priority"===pi(l)?this.priorityNode_:u.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(l,p){return null}updateImmediateChild(l,p){return".priority"===l?this.updatePriority(p):p.isEmpty()&&".priority"!==l?this:u.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(l,p).updatePriority(this.priorityNode_)}updateChild(l,p){const E=pi(l);return null===E?p:p.isEmpty()&&".priority"!==E?this:((0,Oe.hu)(".priority"!==E||1===Vs(l),".priority must be the last token in a path"),this.updateImmediateChild(E,u.__childrenNodeConstructor.EMPTY_NODE.updateChild(Vi(l),p)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(l,p){return!1}val(l){return l&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let l="";this.priorityNode_.isEmpty()||(l+="priority:"+xr(this.priorityNode_.val())+":");const p=typeof this.value_;l+=p+":",l+="number"===p?gt(this.value_):this.value_,this.lazyHash_=Sr(l)}return this.lazyHash_}getValue(){return this.value_}compareTo(l){return l===u.__childrenNodeConstructor.EMPTY_NODE?1:l instanceof u.__childrenNodeConstructor?-1:((0,Oe.hu)(l.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(l))}compareToLeafNode_(l){const p=typeof l.value_,E=typeof this.value_,P=u.VALUE_TYPE_ORDER.indexOf(p),z=u.VALUE_TYPE_ORDER.indexOf(E);return(0,Oe.hu)(P>=0,"Unknown leaf type: "+p),(0,Oe.hu)(z>=0,"Unknown leaf type: "+E),P===z?"object"===E?0:this.value_<l.value_?-1:this.value_===l.value_?0:1:z-P}withIndex(){return this}isIndexed(){return!0}equals(l){return l===this||!!l.isLeafNode()&&(this.value_===l.value_&&this.priorityNode_.equals(l.priorityNode_))}}return u.VALUE_TYPE_ORDER=["object","boolean","number","string"],u})();const ae=new class be extends No{compare(s,l){const p=s.node.getPriority(),E=l.node.getPriority(),P=p.compareTo(E);return 0===P?Er(s.name,l.name):P}isDefinedOn(s){return!s.getPriority().isEmpty()}indexedValueChanged(s,l){return!s.getPriority().equals(l.getPriority())}minPost(){return gi.MIN}maxPost(){return new gi(oi,new Si("[PRIORITY-POST]",ws))}makePost(s,l){const p=js(s);return new gi(l,new Si("[PRIORITY-POST]",p))}toString(){return".priority"}},$=Math.log(2);class L{constructor(s){this.count=parseInt(Math.log(s+1)/$,10),this.current_=this.count-1;const E=(P=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=s+1&E}nextBitIsOne(){const s=!(this.bits_&1<<this.current_);return this.current_--,s}}const D=function(u,s,l,p){u.sort(s);const E=function(we,Ve){const $t=Ve-we;let Xt,gn;if(0===$t)return null;if(1===$t)return Xt=u[we],gn=l?l(Xt):Xt,new oo(gn,Xt.node,oo.BLACK,null,null);{const Rn=parseInt($t/2,10)+we,jn=E(we,Rn),fr=E(Rn+1,Ve);return Xt=u[Rn],gn=l?l(Xt):Xt,new oo(gn,Xt.node,oo.BLACK,jn,fr)}},te=function(we){let Ve=null,$t=null,Xt=u.length;const gn=function(jn,fr){const fi=Xt-jn,ts=Xt;Xt-=jn;const Eo=E(fi+1,ts),Ca=u[fi],ca=l?l(Ca):Ca;Rn(new oo(ca,Ca.node,fr,null,Eo))},Rn=function(jn){Ve?(Ve.left=jn,Ve=jn):($t=jn,Ve=jn)};for(let jn=0;jn<we.count;++jn){const fr=we.nextBitIsOne(),fi=Math.pow(2,we.count-(jn+1));fr?gn(fi,oo.BLACK):(gn(fi,oo.BLACK),gn(fi,oo.RED))}return $t}(new L(u.length));return new ue(p||s,te)};let F;const fe={};class dt{constructor(s,l){this.indexes_=s,this.indexSet_=l}static get Default(){return(0,Oe.hu)(fe&&ae,"ChildrenNode.ts has not been loaded"),F=F||new dt({".priority":fe},{".priority":ae}),F}get(s){const l=(0,Oe.DV)(this.indexes_,s);if(!l)throw new Error("No index defined for "+s);return l instanceof ue?l:null}hasIndex(s){return(0,Oe.r3)(this.indexSet_,s.toString())}addIndex(s,l){(0,Oe.hu)(s!==ks,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const p=[];let E=!1;const P=l.getIterator(gi.Wrap);let te,z=P.getNext();for(;z;)E=E||s.isDefinedOn(z.node),p.push(z),z=P.getNext();te=E?D(p,s.getCompare()):fe;const we=s.toString(),Ve=Object.assign({},this.indexSet_);Ve[we]=s;const $t=Object.assign({},this.indexes_);return $t[we]=te,new dt($t,Ve)}addToIndexes(s,l){const p=(0,Oe.UI)(this.indexes_,(E,P)=>{const z=(0,Oe.DV)(this.indexSet_,P);if((0,Oe.hu)(z,"Missing index implementation for "+P),E===fe){if(z.isDefinedOn(s.node)){const te=[],we=l.getIterator(gi.Wrap);let Ve=we.getNext();for(;Ve;)Ve.name!==s.name&&te.push(Ve),Ve=we.getNext();return te.push(s),D(te,z.getCompare())}return fe}{const te=l.get(s.name);let we=E;return te&&(we=we.remove(new gi(s.name,te))),we.insert(s,s.node)}});return new dt(p,this.indexSet_)}removeFromIndexes(s,l){const p=(0,Oe.UI)(this.indexes_,E=>{if(E===fe)return E;{const P=l.get(s.name);return P?E.remove(new gi(s.name,P)):E}});return new dt(p,this.indexSet_)}}let Ot,Ht=(()=>{class u{constructor(l,p,E){this.children_=l,this.priorityNode_=p,this.indexMap_=E,this.lazyHash_=null,this.priorityNode_&&Jr(this.priorityNode_),this.children_.isEmpty()&&(0,Oe.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Ot||(Ot=new u(new ue(de),null,dt.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Ot}updatePriority(l){return this.children_.isEmpty()?this:new u(this.children_,l,this.indexMap_)}getImmediateChild(l){if(".priority"===l)return this.getPriority();{const p=this.children_.get(l);return null===p?Ot:p}}getChild(l){const p=pi(l);return null===p?this:this.getImmediateChild(p).getChild(Vi(l))}hasChild(l){return null!==this.children_.get(l)}updateImmediateChild(l,p){if((0,Oe.hu)(p,"We should always be passing snapshot nodes"),".priority"===l)return this.updatePriority(p);{const E=new gi(l,p);let P,z;p.isEmpty()?(P=this.children_.remove(l),z=this.indexMap_.removeFromIndexes(E,this.children_)):(P=this.children_.insert(l,p),z=this.indexMap_.addToIndexes(E,this.children_));const te=P.isEmpty()?Ot:this.priorityNode_;return new u(P,te,z)}}updateChild(l,p){const E=pi(l);if(null===E)return p;{(0,Oe.hu)(".priority"!==pi(l)||1===Vs(l),".priority must be the last token in a path");const P=this.getImmediateChild(E).updateChild(Vi(l),p);return this.updateImmediateChild(E,P)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(l){if(this.isEmpty())return null;const p={};let E=0,P=0,z=!0;if(this.forEachChild(ae,(te,we)=>{p[te]=we.val(l),E++,z&&u.INTEGER_REGEXP_.test(te)?P=Math.max(P,Number(te)):z=!1}),!l&&z&&P<2*E){const te=[];for(const we in p)te[we]=p[we];return te}return l&&!this.getPriority().isEmpty()&&(p[".priority"]=this.getPriority().val()),p}hash(){if(null===this.lazyHash_){let l="";this.getPriority().isEmpty()||(l+="priority:"+xr(this.getPriority().val())+":"),this.forEachChild(ae,(p,E)=>{const P=E.hash();""!==P&&(l+=":"+p+":"+P)}),this.lazyHash_=""===l?"":Sr(l)}return this.lazyHash_}getPredecessorChildName(l,p,E){const P=this.resolveIndex_(E);if(P){const z=P.getPredecessorKey(new gi(l,p));return z?z.name:null}return this.children_.getPredecessorKey(l)}getFirstChildName(l){const p=this.resolveIndex_(l);if(p){const E=p.minKey();return E&&E.name}return this.children_.minKey()}getFirstChild(l){const p=this.getFirstChildName(l);return p?new gi(p,this.children_.get(p)):null}getLastChildName(l){const p=this.resolveIndex_(l);if(p){const E=p.maxKey();return E&&E.name}return this.children_.maxKey()}getLastChild(l){const p=this.getLastChildName(l);return p?new gi(p,this.children_.get(p)):null}forEachChild(l,p){const E=this.resolveIndex_(l);return E?E.inorderTraversal(P=>p(P.name,P.node)):this.children_.inorderTraversal(p)}getIterator(l){return this.getIteratorFrom(l.minPost(),l)}getIteratorFrom(l,p){const E=this.resolveIndex_(p);if(E)return E.getIteratorFrom(l,P=>P);{const P=this.children_.getIteratorFrom(l.name,gi.Wrap);let z=P.peek();for(;null!=z&&p.compare(z,l)<0;)P.getNext(),z=P.peek();return P}}getReverseIterator(l){return this.getReverseIteratorFrom(l.maxPost(),l)}getReverseIteratorFrom(l,p){const E=this.resolveIndex_(p);if(E)return E.getReverseIteratorFrom(l,P=>P);{const P=this.children_.getReverseIteratorFrom(l.name,gi.Wrap);let z=P.peek();for(;null!=z&&p.compare(z,l)>0;)P.getNext(),z=P.peek();return P}}compareTo(l){return this.isEmpty()?l.isEmpty()?0:-1:l.isLeafNode()||l.isEmpty()?1:l===zr?-1:0}withIndex(l){if(l===ks||this.indexMap_.hasIndex(l))return this;{const p=this.indexMap_.addIndex(l,this.children_);return new u(this.children_,this.priorityNode_,p)}}isIndexed(l){return l===ks||this.indexMap_.hasIndex(l)}equals(l){if(l===this)return!0;if(l.isLeafNode())return!1;{const p=l;if(this.getPriority().equals(p.getPriority())){if(this.children_.count()===p.children_.count()){const E=this.getIterator(ae),P=p.getIterator(ae);let z=E.getNext(),te=P.getNext();for(;z&&te;){if(z.name!==te.name||!z.node.equals(te.node))return!1;z=E.getNext(),te=P.getNext()}return null===z&&null===te}return!1}return!1}}resolveIndex_(l){return l===ks?null:this.indexMap_.get(l.toString())}}return u.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,u})();const zr=new class Pn extends Ht{constructor(){super(new ue(de),Ht.EMPTY_NODE,dt.Default)}compareTo(s){return s===this?0:1}equals(s){return s===this}getPriority(){return this}getImmediateChild(s){return Ht.EMPTY_NODE}isEmpty(){return!1}};Object.defineProperties(gi,{MIN:{value:new gi(ri,Ht.EMPTY_NODE)},MAX:{value:new gi(oi,zr)}}),$o.__EMPTY_NODE=Ht.EMPTY_NODE,Si.__childrenNodeConstructor=Ht,function Sn(u){Ze=u}(zr),function Fo(u){ws=u}(zr);const ii=!0;function Tr(u,s=null){if(null===u)return Ht.EMPTY_NODE;if("object"==typeof u&&".priority"in u&&(s=u[".priority"]),(0,Oe.hu)(null===s||"string"==typeof s||"number"==typeof s||"object"==typeof s&&".sv"in s,"Invalid priority type found: "+typeof s),"object"==typeof u&&".value"in u&&null!==u[".value"]&&(u=u[".value"]),"object"!=typeof u||".sv"in u)return new Si(u,Tr(s));if(u instanceof Array||!ii){let l=Ht.EMPTY_NODE;return xe(u,(p,E)=>{if((0,Oe.r3)(u,p)&&"."!==p.substring(0,1)){const P=Tr(E);(P.isLeafNode()||!P.isEmpty())&&(l=l.updateImmediateChild(p,P))}}),l.updatePriority(Tr(s))}{const l=[];let p=!1;if(xe(u,(z,te)=>{if("."!==z.substring(0,1)){const we=Tr(te);we.isEmpty()||(p=p||!we.getPriority().isEmpty(),l.push(new gi(z,we)))}}),0===l.length)return Ht.EMPTY_NODE;const P=D(l,N,z=>z.name,de);if(p){const z=D(l,ae.getCompare());return new Ht(P,Tr(s),new dt({".priority":z},{".priority":ae}))}return new Ht(P,Tr(s),dt.Default)}}!function eo(u){js=u}(Tr);class hi extends No{constructor(s){super(),this.indexPath_=s,(0,Oe.hu)(!hr(s)&&".priority"!==pi(s),"Can't create PathIndex with empty path or .priority key")}extractChild(s){return s.getChild(this.indexPath_)}isDefinedOn(s){return!s.getChild(this.indexPath_).isEmpty()}compare(s,l){const p=this.extractChild(s.node),E=this.extractChild(l.node),P=p.compareTo(E);return 0===P?Er(s.name,l.name):P}makePost(s,l){const p=Tr(s),E=Ht.EMPTY_NODE.updateChild(this.indexPath_,p);return new gi(l,E)}maxPost(){const s=Ht.EMPTY_NODE.updateChild(this.indexPath_,zr);return new gi(oi,s)}toString(){return Xs(this.indexPath_,0).join("/")}}const qi=new class _i extends No{compare(s,l){const p=s.node.compareTo(l.node);return 0===p?Er(s.name,l.name):p}isDefinedOn(s){return!0}indexedValueChanged(s,l){return!s.equals(l)}minPost(){return gi.MIN}maxPost(){return gi.MAX}makePost(s,l){const p=Tr(s);return new gi(l,p)}toString(){return".value"}};function ao(u){return{type:"value",snapshotNode:u}}function hs(u,s){return{type:"child_added",snapshotNode:s,childName:u}}function Ss(u,s){return{type:"child_removed",snapshotNode:s,childName:u}}function Ti(u,s,l){return{type:"child_changed",snapshotNode:s,childName:u,oldSnap:l}}class fo{constructor(s){this.index_=s}updateChild(s,l,p,E,P,z){(0,Oe.hu)(s.isIndexed(this.index_),"A node must be indexed if only a child is updated");const te=s.getImmediateChild(l);return te.getChild(E).equals(p.getChild(E))&&te.isEmpty()===p.isEmpty()||(null!=z&&(p.isEmpty()?s.hasChild(l)?z.trackChildChange(Ss(l,te)):(0,Oe.hu)(s.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):te.isEmpty()?z.trackChildChange(hs(l,p)):z.trackChildChange(Ti(l,p,te))),s.isLeafNode()&&p.isEmpty())?s:s.updateImmediateChild(l,p).withIndex(this.index_)}updateFullNode(s,l,p){return null!=p&&(s.isLeafNode()||s.forEachChild(ae,(E,P)=>{l.hasChild(E)||p.trackChildChange(Ss(E,P))}),l.isLeafNode()||l.forEachChild(ae,(E,P)=>{if(s.hasChild(E)){const z=s.getImmediateChild(E);z.equals(P)||p.trackChildChange(Ti(E,P,z))}else p.trackChildChange(hs(E,P))})),l.withIndex(this.index_)}updatePriority(s,l){return s.isEmpty()?Ht.EMPTY_NODE:s.updatePriority(l)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class Xo{constructor(s){this.indexedFilter_=new fo(s.getIndex()),this.index_=s.getIndex(),this.startPost_=Xo.getStartPost_(s),this.endPost_=Xo.getEndPost_(s),this.startIsInclusive_=!s.startAfterSet_,this.endIsInclusive_=!s.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(s){const l=this.startIsInclusive_?this.index_.compare(this.getStartPost(),s)<=0:this.index_.compare(this.getStartPost(),s)<0,p=this.endIsInclusive_?this.index_.compare(s,this.getEndPost())<=0:this.index_.compare(s,this.getEndPost())<0;return l&&p}updateChild(s,l,p,E,P,z){return this.matches(new gi(l,p))||(p=Ht.EMPTY_NODE),this.indexedFilter_.updateChild(s,l,p,E,P,z)}updateFullNode(s,l,p){l.isLeafNode()&&(l=Ht.EMPTY_NODE);let E=l.withIndex(this.index_);E=E.updatePriority(Ht.EMPTY_NODE);const P=this;return l.forEachChild(ae,(z,te)=>{P.matches(new gi(z,te))||(E=E.updateImmediateChild(z,Ht.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(s,E,p)}updatePriority(s,l){return s}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(s){if(s.hasStart()){const l=s.getIndexStartName();return s.getIndex().makePost(s.getIndexStartValue(),l)}return s.getIndex().minPost()}static getEndPost_(s){if(s.hasEnd()){const l=s.getIndexEndName();return s.getIndex().makePost(s.getIndexEndValue(),l)}return s.getIndex().maxPost()}}class Lo{constructor(s){this.withinDirectionalStart=l=>this.reverse_?this.withinEndPost(l):this.withinStartPost(l),this.withinDirectionalEnd=l=>this.reverse_?this.withinStartPost(l):this.withinEndPost(l),this.withinStartPost=l=>{const p=this.index_.compare(this.rangedFilter_.getStartPost(),l);return this.startIsInclusive_?p<=0:p<0},this.withinEndPost=l=>{const p=this.index_.compare(l,this.rangedFilter_.getEndPost());return this.endIsInclusive_?p<=0:p<0},this.rangedFilter_=new Xo(s),this.index_=s.getIndex(),this.limit_=s.getLimit(),this.reverse_=!s.isViewFromLeft(),this.startIsInclusive_=!s.startAfterSet_,this.endIsInclusive_=!s.endBeforeSet_}updateChild(s,l,p,E,P,z){return this.rangedFilter_.matches(new gi(l,p))||(p=Ht.EMPTY_NODE),s.getImmediateChild(l).equals(p)?s:s.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(s,l,p,E,P,z):this.fullLimitUpdateChild_(s,l,p,P,z)}updateFullNode(s,l,p){let E;if(l.isLeafNode()||l.isEmpty())E=Ht.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<l.numChildren()&&l.isIndexed(this.index_)){let P;E=Ht.EMPTY_NODE.withIndex(this.index_),P=this.reverse_?l.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):l.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let z=0;for(;P.hasNext()&&z<this.limit_;){const te=P.getNext();if(this.withinDirectionalStart(te)){if(!this.withinDirectionalEnd(te))break;E=E.updateImmediateChild(te.name,te.node),z++}}}else{let P;E=l.withIndex(this.index_),E=E.updatePriority(Ht.EMPTY_NODE),P=this.reverse_?E.getReverseIterator(this.index_):E.getIterator(this.index_);let z=0;for(;P.hasNext();){const te=P.getNext();z<this.limit_&&this.withinDirectionalStart(te)&&this.withinDirectionalEnd(te)?z++:E=E.updateImmediateChild(te.name,Ht.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(s,E,p)}updatePriority(s,l){return s}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(s,l,p,E,P){let z;if(this.reverse_){const Xt=this.index_.getCompare();z=(gn,Rn)=>Xt(Rn,gn)}else z=this.index_.getCompare();const te=s;(0,Oe.hu)(te.numChildren()===this.limit_,"");const we=new gi(l,p),Ve=this.reverse_?te.getFirstChild(this.index_):te.getLastChild(this.index_),$t=this.rangedFilter_.matches(we);if(te.hasChild(l)){const Xt=te.getImmediateChild(l);let gn=E.getChildAfterChild(this.index_,Ve,this.reverse_);for(;null!=gn&&(gn.name===l||te.hasChild(gn.name));)gn=E.getChildAfterChild(this.index_,gn,this.reverse_);const Rn=null==gn?1:z(gn,we);if($t&&!p.isEmpty()&&Rn>=0)return null!=P&&P.trackChildChange(Ti(l,p,Xt)),te.updateImmediateChild(l,p);{null!=P&&P.trackChildChange(Ss(l,Xt));const fr=te.updateImmediateChild(l,Ht.EMPTY_NODE);return null!=gn&&this.rangedFilter_.matches(gn)?(null!=P&&P.trackChildChange(hs(gn.name,gn.node)),fr.updateImmediateChild(gn.name,gn.node)):fr}}return p.isEmpty()?s:$t&&z(Ve,we)>=0?(null!=P&&(P.trackChildChange(Ss(Ve.name,Ve.node)),P.trackChildChange(hs(l,p))),te.updateImmediateChild(l,p).updateImmediateChild(Ve.name,Ht.EMPTY_NODE)):s}}class ya{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=ae}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,Oe.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,Oe.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:ri}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,Oe.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,Oe.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:oi}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,Oe.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===ae}copy(){const s=new ya;return s.limitSet_=this.limitSet_,s.limit_=this.limit_,s.startSet_=this.startSet_,s.startAfterSet_=this.startAfterSet_,s.indexStartValue_=this.indexStartValue_,s.startNameSet_=this.startNameSet_,s.indexStartName_=this.indexStartName_,s.endSet_=this.endSet_,s.endBeforeSet_=this.endBeforeSet_,s.indexEndValue_=this.indexEndValue_,s.endNameSet_=this.endNameSet_,s.indexEndName_=this.indexEndName_,s.index_=this.index_,s.viewFrom_=this.viewFrom_,s}}function Qo(u,s,l){const p=u.copy();return p.startSet_=!0,void 0===s&&(s=null),p.indexStartValue_=s,null!=l?(p.startNameSet_=!0,p.indexStartName_=l):(p.startNameSet_=!1,p.indexStartName_=""),p}function Ts(u,s,l){const p=u.copy();return p.endSet_=!0,void 0===s&&(s=null),p.indexEndValue_=s,void 0!==l?(p.endNameSet_=!0,p.indexEndName_=l):(p.endNameSet_=!1,p.indexEndName_=""),p}function Fa(u,s){const l=u.copy();return l.index_=s,l}function zo(u){const s={};if(u.isDefault())return s;let l;if(u.index_===ae?l="$priority":u.index_===qi?l="$value":u.index_===ks?l="$key":((0,Oe.hu)(u.index_ instanceof hi,"Unrecognized index type!"),l=u.index_.toString()),s.orderBy=(0,Oe.Wl)(l),u.startSet_){const p=u.startAfterSet_?"startAfter":"startAt";s[p]=(0,Oe.Wl)(u.indexStartValue_),u.startNameSet_&&(s[p]+=","+(0,Oe.Wl)(u.indexStartName_))}if(u.endSet_){const p=u.endBeforeSet_?"endBefore":"endAt";s[p]=(0,Oe.Wl)(u.indexEndValue_),u.endNameSet_&&(s[p]+=","+(0,Oe.Wl)(u.indexEndName_))}return u.limitSet_&&(u.isViewFromLeft()?s.limitToFirst=u.limit_:s.limitToLast=u.limit_),s}function sl(u){const s={};if(u.startSet_&&(s.sp=u.indexStartValue_,u.startNameSet_&&(s.sn=u.indexStartName_),s.sin=!u.startAfterSet_),u.endSet_&&(s.ep=u.indexEndValue_,u.endNameSet_&&(s.en=u.indexEndName_),s.ein=!u.endBeforeSet_),u.limitSet_){s.l=u.limit_;let l=u.viewFrom_;""===l&&(l=u.isViewFromLeft()?"l":"r"),s.vf=l}return u.index_!==ae&&(s.i=u.index_.toString()),s}class M extends ys{constructor(s,l,p,E){super(),this.repoInfo_=s,this.onDataUpdate_=l,this.authTokenProvider_=p,this.appCheckTokenProvider_=E,this.log_=ui("p:rest:"),this.listens_={}}reportStats(s){throw new Error("Method not implemented.")}static getListenId_(s,l){return void 0!==l?"tag$"+l:((0,Oe.hu)(s._queryParams.isDefault(),"should have a tag if it's not a default query."),s._path.toString())}listen(s,l,p,E){const P=s._path.toString();this.log_("Listen called for "+P+" "+s._queryIdentifier);const z=M.getListenId_(s,p),te={};this.listens_[z]=te;const we=zo(s._queryParams);this.restRequest_(P+".json",we,(Ve,$t)=>{let Xt=$t;if(404===Ve&&(Xt=null,Ve=null),null===Ve&&this.onDataUpdate_(P,Xt,!1,p),(0,Oe.DV)(this.listens_,z)===te){let gn;gn=Ve?401===Ve?"permission_denied":"rest_error:"+Ve:"ok",E(gn,null)}})}unlisten(s,l){const p=M.getListenId_(s,l);delete this.listens_[p]}get(s){const l=zo(s._queryParams),p=s._path.toString(),E=new Oe.BH;return this.restRequest_(p+".json",l,(P,z)=>{let te=z;404===P&&(te=null,P=null),null===P?(this.onDataUpdate_(p,te,!1,null),E.resolve(te)):E.reject(new Error(te))}),E.promise}refreshAuthToken(s){}restRequest_(s,l={},p){return l.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([E,P])=>{E&&E.accessToken&&(l.auth=E.accessToken),P&&P.token&&(l.ac=P.token);const z=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+s+"?ns="+this.repoInfo_.namespace+(0,Oe.xO)(l);this.log_("Sending REST request for "+z);const te=new XMLHttpRequest;te.onreadystatechange=()=>{if(p&&4===te.readyState){this.log_("REST Response for "+z+" received. status:",te.status,"response:",te.responseText);let we=null;if(te.status>=200&&te.status<300){try{we=(0,Oe.cI)(te.responseText)}catch{rr("Failed to parse JSON response for "+z+": "+te.responseText)}p(null,we)}else 401!==te.status&&404!==te.status&&rr("Got unsuccessful REST response for "+z+" Status: "+te.status),p(te.status);p=null}},te.open("GET",z,!0),te.send()})}}class X{constructor(){this.rootNode_=Ht.EMPTY_NODE}getNode(s){return this.rootNode_.getChild(s)}updateSnapshot(s,l){this.rootNode_=this.rootNode_.updateChild(s,l)}}function le(){return{value:null,children:new Map}}function De(u,s,l){if(hr(s))u.value=l,u.children.clear();else if(null!==u.value)u.value=u.value.updateChild(s,l);else{const p=pi(s);u.children.has(p)||u.children.set(p,le()),De(u.children.get(p),s=Vi(s),l)}}function je(u,s){if(hr(s))return u.value=null,u.children.clear(),!0;if(null!==u.value){if(u.value.isLeafNode())return!1;{const l=u.value;return u.value=null,l.forEachChild(ae,(p,E)=>{De(u,new Vr(p),E)}),je(u,s)}}if(u.children.size>0){const l=pi(s);return s=Vi(s),u.children.has(l)&&je(u.children.get(l),s)&&u.children.delete(l),0===u.children.size}return!0}function lt(u,s,l){null!==u.value?l(s,u.value):function At(u,s){u.children.forEach((l,p)=>{s(p,l)})}(u,(p,E)=>{lt(E,new Vr(s.toString()+"/"+p),l)})}class Yt{constructor(s){this.collection_=s,this.last_=null}get(){const s=this.collection_.get(),l=Object.assign({},s);return this.last_&&xe(this.last_,(p,E)=>{l[p]=l[p]-E}),this.last_=s,l}}class vi{constructor(s,l){this.server_=l,this.statsToReport_={},this.statsListener_=new Yt(s);const p=1e4+2e4*Math.random();ee(this.reportStats_.bind(this),Math.floor(p))}reportStats_(){const s=this.statsListener_.get(),l={};let p=!1;xe(s,(E,P)=>{P>0&&(0,Oe.r3)(this.statsToReport_,E)&&(l[E]=P,p=!0)}),p&&this.server_.reportStats(l),ee(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var wr=(()=>((wr=wr||{})[wr.OVERWRITE=0]="OVERWRITE",wr[wr.MERGE=1]="MERGE",wr[wr.ACK_USER_WRITE=2]="ACK_USER_WRITE",wr[wr.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",wr))();function q(u){return{fromUser:!1,fromServer:!0,queryId:u,tagged:!0}}class he{constructor(s,l,p){this.path=s,this.affectedTree=l,this.revert=p,this.type=wr.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(s){if(hr(this.path)){if(null!=this.affectedTree.value)return(0,Oe.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const l=this.affectedTree.subtree(new Vr(s));return new he(Di(),l,this.revert)}}return(0,Oe.hu)(pi(this.path)===s,"operationForChild called for unrelated child."),new he(Vi(this.path),this.affectedTree,this.revert)}}class J{constructor(s,l){this.source=s,this.path=l,this.type=wr.LISTEN_COMPLETE}operationForChild(s){return hr(this.path)?new J(this.source,Di()):new J(this.source,Vi(this.path))}}class Ne{constructor(s,l,p){this.source=s,this.path=l,this.snap=p,this.type=wr.OVERWRITE}operationForChild(s){return hr(this.path)?new Ne(this.source,Di(),this.snap.getImmediateChild(s)):new Ne(this.source,Vi(this.path),this.snap)}}class bt{constructor(s,l,p){this.source=s,this.path=l,this.children=p,this.type=wr.MERGE}operationForChild(s){if(hr(this.path)){const l=this.children.subtree(new Vr(s));return l.isEmpty()?null:l.value?new Ne(this.source,Di(),l.value):new bt(this.source,Di(),l)}return(0,Oe.hu)(pi(this.path)===s,"Can't get a merge for a child not on the path of the operation"),new bt(this.source,Vi(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class vn{constructor(s,l,p){this.node_=s,this.fullyInitialized_=l,this.filtered_=p}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(s){if(hr(s))return this.isFullyInitialized()&&!this.filtered_;const l=pi(s);return this.isCompleteForChild(l)}isCompleteForChild(s){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(s)}getNode(){return this.node_}}class kn{constructor(s){this.query_=s,this.index_=this.query_._queryParams.getIndex()}}function mr(u,s,l,p,E,P){const z=p.filter(te=>te.type===l);z.sort((te,we)=>function wi(u,s,l){if(null==s.childName||null==l.childName)throw(0,Oe.g5)("Should only compare child_ events.");const p=new gi(s.childName,s.snapshotNode),E=new gi(l.childName,l.snapshotNode);return u.index_.compare(p,E)}(u,te,we)),z.forEach(te=>{const we=function Wi(u,s,l){return"value"===s.type||"child_removed"===s.type||(s.prevName=l.getPredecessorChildName(s.childName,s.snapshotNode,u.index_)),s}(u,te,P);E.forEach(Ve=>{Ve.respondsTo(te.type)&&s.push(Ve.createEvent(we,u.query_))})})}function Ni(u,s){return{eventCache:u,serverCache:s}}function fs(u,s,l,p){return Ni(new vn(s,l,p),u.serverCache)}function As(u,s,l,p){return Ni(u.eventCache,new vn(s,l,p))}function po(u){return u.eventCache.isFullyInitialized()?u.eventCache.getNode():null}function $n(u){return u.serverCache.isFullyInitialized()?u.serverCache.getNode():null}let Fi;class Ji{constructor(s,l=(()=>(Fi||(Fi=new ue(pr)),Fi))()){this.value=s,this.children=l}static fromObject(s){let l=new Ji(null);return xe(s,(p,E)=>{l=l.set(new Vr(p),E)}),l}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(s,l){if(null!=this.value&&l(this.value))return{path:Di(),value:this.value};if(hr(s))return null;{const p=pi(s),E=this.children.get(p);if(null!==E){const P=E.findRootMostMatchingPathAndValue(Vi(s),l);return null!=P?{path:Ai(new Vr(p),P.path),value:P.value}:null}return null}}findRootMostValueAndPath(s){return this.findRootMostMatchingPathAndValue(s,()=>!0)}subtree(s){if(hr(s))return this;{const l=pi(s),p=this.children.get(l);return null!==p?p.subtree(Vi(s)):new Ji(null)}}set(s,l){if(hr(s))return new Ji(l,this.children);{const p=pi(s),P=(this.children.get(p)||new Ji(null)).set(Vi(s),l),z=this.children.insert(p,P);return new Ji(this.value,z)}}remove(s){if(hr(s))return this.children.isEmpty()?new Ji(null):new Ji(null,this.children);{const l=pi(s),p=this.children.get(l);if(p){const E=p.remove(Vi(s));let P;return P=E.isEmpty()?this.children.remove(l):this.children.insert(l,E),null===this.value&&P.isEmpty()?new Ji(null):new Ji(this.value,P)}return this}}get(s){if(hr(s))return this.value;{const l=pi(s),p=this.children.get(l);return p?p.get(Vi(s)):null}}setTree(s,l){if(hr(s))return l;{const p=pi(s),P=(this.children.get(p)||new Ji(null)).setTree(Vi(s),l);let z;return z=P.isEmpty()?this.children.remove(p):this.children.insert(p,P),new Ji(this.value,z)}}fold(s){return this.fold_(Di(),s)}fold_(s,l){const p={};return this.children.inorderTraversal((E,P)=>{p[E]=P.fold_(Ai(s,E),l)}),l(s,this.value,p)}findOnPath(s,l){return this.findOnPath_(s,Di(),l)}findOnPath_(s,l,p){const E=!!this.value&&p(l,this.value);if(E)return E;if(hr(s))return null;{const P=pi(s),z=this.children.get(P);return z?z.findOnPath_(Vi(s),Ai(l,P),p):null}}foreachOnPath(s,l){return this.foreachOnPath_(s,Di(),l)}foreachOnPath_(s,l,p){if(hr(s))return this;{this.value&&p(l,this.value);const E=pi(s),P=this.children.get(E);return P?P.foreachOnPath_(Vi(s),Ai(l,E),p):new Ji(null)}}foreach(s){this.foreach_(Di(),s)}foreach_(s,l){this.children.inorderTraversal((p,E)=>{E.foreach_(Ai(s,p),l)}),this.value&&l(s,this.value)}foreachChild(s){this.children.inorderTraversal((l,p)=>{p.value&&s(l,p.value)})}}class _r{constructor(s){this.writeTree_=s}static empty(){return new _r(new Ji(null))}}function Hr(u,s,l){if(hr(s))return new _r(new Ji(l));{const p=u.writeTree_.findRootMostValueAndPath(s);if(null!=p){const E=p.path;let P=p.value;const z=Os(E,s);return P=P.updateChild(z,l),new _r(u.writeTree_.set(E,P))}{const E=new Ji(l),P=u.writeTree_.setTree(s,E);return new _r(P)}}}function Kn(u,s,l){let p=u;return xe(l,(E,P)=>{p=Hr(p,Ai(s,E),P)}),p}function Un(u,s){if(hr(s))return _r.empty();{const l=u.writeTree_.setTree(s,new Ji(null));return new _r(l)}}function Dn(u,s){return null!=qn(u,s)}function qn(u,s){const l=u.writeTree_.findRootMostValueAndPath(s);return null!=l?u.writeTree_.get(l.path).getChild(Os(l.path,s)):null}function vs(u){const s=[],l=u.writeTree_.value;return null!=l?l.isLeafNode()||l.forEachChild(ae,(p,E)=>{s.push(new gi(p,E))}):u.writeTree_.children.inorderTraversal((p,E)=>{null!=E.value&&s.push(new gi(p,E.value))}),s}function Ma(u,s){if(hr(s))return u;{const l=qn(u,s);return new _r(null!=l?new Ji(l):u.writeTree_.subtree(s))}}function Ha(u){return u.writeTree_.isEmpty()}function Ea(u,s){return Cl(Di(),u.writeTree_,s)}function Cl(u,s,l){if(null!=s.value)return l.updateChild(u,s.value);{let p=null;return s.children.inorderTraversal((E,P)=>{".priority"===E?((0,Oe.hu)(null!==P.value,"Priority writes must always be leaf nodes"),p=P.value):l=Cl(Ai(u,E),P,l)}),!l.getChild(u).isEmpty()&&null!==p&&(l=l.updateChild(Ai(u,".priority"),p)),l}}function Dl(u,s){return en(s,u)}function aa(u,s){if(u.snap)return ss(u.path,s);for(const l in u.children)if(u.children.hasOwnProperty(l)&&ss(Ai(u.path,l),s))return!0;return!1}function Ui(u){return u.visible}function da(u,s,l){let p=_r.empty();for(let E=0;E<u.length;++E){const P=u[E];if(s(P)){const z=P.path;let te;if(P.snap)ss(l,z)?(te=Os(l,z),p=Hr(p,te,P.snap)):ss(z,l)&&(te=Os(z,l),p=Hr(p,Di(),P.snap.getChild(te)));else{if(!P.children)throw(0,Oe.g5)("WriteRecord should have .snap or .children");if(ss(l,z))te=Os(l,z),p=Kn(p,te,P.children);else if(ss(z,l))if(te=Os(z,l),hr(te))p=Kn(p,Di(),P.children);else{const we=(0,Oe.DV)(P.children,pi(te));if(we){const Ve=we.getChild(Vi(te));p=Hr(p,Di(),Ve)}}}}}return p}function Cc(u,s,l,p,E){if(p||E){const P=Ma(u.visibleWrites,s);return!E&&Ha(P)?l:E||null!=l||Dn(P,Di())?Ea(da(u.allWrites,function(Ve){return(Ve.visible||E)&&(!p||!~p.indexOf(Ve.writeId))&&(ss(Ve.path,s)||ss(s,Ve.path))},s),l||Ht.EMPTY_NODE):null}{const P=qn(u.visibleWrites,s);if(null!=P)return P;{const z=Ma(u.visibleWrites,s);return Ha(z)?l:null!=l||Dn(z,Di())?Ea(z,l||Ht.EMPTY_NODE):null}}}function yr(u,s,l,p){return Cc(u.writeTree,u.treePath,s,l,p)}function yl(u,s){return function yo(u,s,l){let p=Ht.EMPTY_NODE;const E=qn(u.visibleWrites,s);if(E)return E.isLeafNode()||E.forEachChild(ae,(P,z)=>{p=p.updateImmediateChild(P,z)}),p;if(l){const P=Ma(u.visibleWrites,s);return l.forEachChild(ae,(z,te)=>{const we=Ea(Ma(P,new Vr(z)),te);p=p.updateImmediateChild(z,we)}),vs(P).forEach(z=>{p=p.updateImmediateChild(z.name,z.node)}),p}return vs(Ma(u.visibleWrites,s)).forEach(z=>{p=p.updateImmediateChild(z.name,z.node)}),p}(u.writeTree,u.treePath,s)}function Da(u,s,l,p){return function Ii(u,s,l,p,E){(0,Oe.hu)(p||E,"Either existingEventSnap or existingServerSnap must exist");const P=Ai(s,l);if(Dn(u.visibleWrites,P))return null;{const z=Ma(u.visibleWrites,P);return Ha(z)?E.getChild(l):Ea(z,E.getChild(l))}}(u.writeTree,u.treePath,s,l,p)}function Sa(u,s){return function os(u,s){return qn(u.visibleWrites,s)}(u.writeTree,Ai(u.treePath,s))}function nt(u,s,l){return function Wa(u,s,l,p){const E=Ai(s,l),P=qn(u.visibleWrites,E);return null!=P?P:p.isCompleteForChild(l)?Ea(Ma(u.visibleWrites,E),p.getNode().getImmediateChild(l)):null}(u.writeTree,u.treePath,s,l)}function Jt(u,s){return en(Ai(u.treePath,s),u.writeTree)}function en(u,s){return{treePath:u,writeTree:s}}class Ir{constructor(){this.changeMap=new Map}trackChildChange(s){const l=s.type,p=s.childName;(0,Oe.hu)("child_added"===l||"child_changed"===l||"child_removed"===l,"Only child changes supported for tracking"),(0,Oe.hu)(".priority"!==p,"Only non-priority child changes can be tracked.");const E=this.changeMap.get(p);if(E){const P=E.type;if("child_added"===l&&"child_removed"===P)this.changeMap.set(p,Ti(p,s.snapshotNode,E.snapshotNode));else if("child_removed"===l&&"child_added"===P)this.changeMap.delete(p);else if("child_removed"===l&&"child_changed"===P)this.changeMap.set(p,Ss(p,E.oldSnap));else if("child_changed"===l&&"child_added"===P)this.changeMap.set(p,hs(p,s.snapshotNode));else{if("child_changed"!==l||"child_changed"!==P)throw(0,Oe.g5)("Illegal combination of changes: "+s+" occurred after "+E);this.changeMap.set(p,Ti(p,s.snapshotNode,E.oldSnap))}}else this.changeMap.set(p,s)}getChanges(){return Array.from(this.changeMap.values())}}const Hi=new class Bi{getCompleteChild(s){return null}getChildAfterChild(s,l,p){return null}};class es{constructor(s,l,p=null){this.writes_=s,this.viewCache_=l,this.optCompleteServerCache_=p}getCompleteChild(s){const l=this.viewCache_.eventCache;if(l.isCompleteForChild(s))return l.getNode().getImmediateChild(s);{const p=null!=this.optCompleteServerCache_?new vn(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return nt(this.writes_,s,p)}}getChildAfterChild(s,l,p){const E=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:$n(this.viewCache_),P=function Bl(u,s,l,p,E,P){return function ol(u,s,l,p,E,P,z){let te;const we=Ma(u.visibleWrites,s),Ve=qn(we,Di());if(null!=Ve)te=Ve;else{if(null==l)return[];te=Ea(we,l)}if(te=te.withIndex(z),te.isEmpty()||te.isLeafNode())return[];{const $t=[],Xt=z.getCompare(),gn=P?te.getReverseIteratorFrom(p,z):te.getIteratorFrom(p,z);let Rn=gn.getNext();for(;Rn&&$t.length<E;)0!==Xt(Rn,p)&&$t.push(Rn),Rn=gn.getNext();return $t}}(u.writeTree,u.treePath,s,l,p,E,P)}(this.writes_,E,l,1,p,s);return 0===P.length?null:P[0]}}function yn(u,s,l,p,E,P){const z=s.eventCache;if(null!=Sa(p,l))return s;{let te,we;if(hr(l))if((0,Oe.hu)(s.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),s.serverCache.isFiltered()){const Ve=$n(s),Xt=yl(p,Ve instanceof Ht?Ve:Ht.EMPTY_NODE);te=u.filter.updateFullNode(s.eventCache.getNode(),Xt,P)}else{const Ve=yr(p,$n(s));te=u.filter.updateFullNode(s.eventCache.getNode(),Ve,P)}else{const Ve=pi(l);if(".priority"===Ve){(0,Oe.hu)(1===Vs(l),"Can't have a priority with additional path components");const $t=z.getNode();we=s.serverCache.getNode();const Xt=Da(p,l,$t,we);te=null!=Xt?u.filter.updatePriority($t,Xt):z.getNode()}else{const $t=Vi(l);let Xt;if(z.isCompleteForChild(Ve)){we=s.serverCache.getNode();const gn=Da(p,l,z.getNode(),we);Xt=null!=gn?z.getNode().getImmediateChild(Ve).updateChild($t,gn):z.getNode().getImmediateChild(Ve)}else Xt=nt(p,Ve,s.serverCache);te=null!=Xt?u.filter.updateChild(z.getNode(),Ve,Xt,$t,E,P):z.getNode()}}return fs(s,te,z.isFullyInitialized()||hr(l),u.filter.filtersNodes())}}function Pa(u,s,l,p,E,P,z,te){const we=s.serverCache;let Ve;const $t=z?u.filter:u.filter.getIndexedFilter();if(hr(l))Ve=$t.updateFullNode(we.getNode(),p,null);else if($t.filtersNodes()&&!we.isFiltered()){const Rn=we.getNode().updateChild(l,p);Ve=$t.updateFullNode(we.getNode(),Rn,null)}else{const Rn=pi(l);if(!we.isCompleteForPath(l)&&Vs(l)>1)return s;const jn=Vi(l),fi=we.getNode().getImmediateChild(Rn).updateChild(jn,p);Ve=".priority"===Rn?$t.updatePriority(we.getNode(),fi):$t.updateChild(we.getNode(),Rn,fi,jn,Hi,null)}const Xt=As(s,Ve,we.isFullyInitialized()||hr(l),$t.filtersNodes());return yn(u,Xt,l,E,new es(E,Xt,P),te)}function ha(u,s,l,p,E,P,z){const te=s.eventCache;let we,Ve;const $t=new es(E,s,P);if(hr(l))Ve=u.filter.updateFullNode(s.eventCache.getNode(),p,z),we=fs(s,Ve,!0,u.filter.filtersNodes());else{const Xt=pi(l);if(".priority"===Xt)Ve=u.filter.updatePriority(s.eventCache.getNode(),p),we=fs(s,Ve,te.isFullyInitialized(),te.isFiltered());else{const gn=Vi(l),Rn=te.getNode().getImmediateChild(Xt);let jn;if(hr(gn))jn=p;else{const fr=$t.getCompleteChild(Xt);jn=null!=fr?".priority"===To(gn)&&fr.getChild(Yo(gn)).isEmpty()?fr:fr.updateChild(gn,p):Ht.EMPTY_NODE}we=Rn.equals(jn)?s:fs(s,u.filter.updateChild(te.getNode(),Xt,jn,gn,$t,z),te.isFullyInitialized(),u.filter.filtersNodes())}}return we}function hc(u,s){return u.eventCache.isCompleteForChild(s)}function ea(u,s,l){return l.foreach((p,E)=>{s=s.updateChild(p,E)}),s}function fc(u,s,l,p,E,P,z,te){if(s.serverCache.getNode().isEmpty()&&!s.serverCache.isFullyInitialized())return s;let Ve,we=s;Ve=hr(l)?p:new Ji(null).setTree(l,p);const $t=s.serverCache.getNode();return Ve.children.inorderTraversal((Xt,gn)=>{if($t.hasChild(Xt)){const jn=ea(0,s.serverCache.getNode().getImmediateChild(Xt),gn);we=Pa(u,we,new Vr(Xt),jn,E,P,z,te)}}),Ve.children.inorderTraversal((Xt,gn)=>{const Rn=!s.serverCache.isCompleteForChild(Xt)&&null===gn.value;if(!$t.hasChild(Xt)&&!Rn){const fr=ea(0,s.serverCache.getNode().getImmediateChild(Xt),gn);we=Pa(u,we,new Vr(Xt),fr,E,P,z,te)}}),we}class O{constructor(s,l){this.query_=s,this.eventRegistrations_=[];const p=this.query_._queryParams,E=new fo(p.getIndex()),P=function oa(u){return u.loadsAllData()?new fo(u.getIndex()):u.hasLimit()?new Lo(u):new Xo(u)}(p);this.processor_=function is(u){return{filter:u}}(P);const z=l.serverCache,te=l.eventCache,we=E.updateFullNode(Ht.EMPTY_NODE,z.getNode(),null),Ve=P.updateFullNode(Ht.EMPTY_NODE,te.getNode(),null),$t=new vn(we,z.isFullyInitialized(),E.filtersNodes()),Xt=new vn(Ve,te.isFullyInitialized(),P.filtersNodes());this.viewCache_=Ni(Xt,$t),this.eventGenerator_=new kn(this.query_)}get query(){return this.query_}}function et(u,s){const l=$n(u.viewCache_);return l&&(u.query._queryParams.loadsAllData()||!hr(s)&&!l.getImmediateChild(pi(s)).isEmpty())?l.getChild(s):null}function ze(u){return 0===u.eventRegistrations_.length}function Mn(u,s,l){const p=[];if(l){(0,Oe.hu)(null==s,"A cancel should cancel all event registrations.");const E=u.query._path;u.eventRegistrations_.forEach(P=>{const z=P.createCancelEvent(l,E);z&&p.push(z)})}if(s){let E=[];for(let P=0;P<u.eventRegistrations_.length;++P){const z=u.eventRegistrations_[P];if(z.matches(s)){if(s.hasAnyCallback()){E=E.concat(u.eventRegistrations_.slice(P+1));break}}else E.push(z)}u.eventRegistrations_=E}else u.eventRegistrations_=[];return p}function kr(u,s,l,p){s.type===wr.MERGE&&null!==s.source.queryId&&((0,Oe.hu)($n(u.viewCache_),"We should always have a full cache before handling merges"),(0,Oe.hu)(po(u.viewCache_),"Missing event cache, even though we have a server cache"));const E=u.viewCache_,P=function Jo(u,s,l,p,E){const P=new Ir;let z,te;if(l.type===wr.OVERWRITE){const Ve=l;Ve.source.fromUser?z=ha(u,s,Ve.path,Ve.snap,p,E,P):((0,Oe.hu)(Ve.source.fromServer,"Unknown source."),te=Ve.source.tagged||s.serverCache.isFiltered()&&!hr(Ve.path),z=Pa(u,s,Ve.path,Ve.snap,p,E,te,P))}else if(l.type===wr.MERGE){const Ve=l;Ve.source.fromUser?z=function $l(u,s,l,p,E,P,z){let te=s;return p.foreach((we,Ve)=>{const $t=Ai(l,we);hc(s,pi($t))&&(te=ha(u,te,$t,Ve,E,P,z))}),p.foreach((we,Ve)=>{const $t=Ai(l,we);hc(s,pi($t))||(te=ha(u,te,$t,Ve,E,P,z))}),te}(u,s,Ve.path,Ve.children,p,E,P):((0,Oe.hu)(Ve.source.fromServer,"Unknown source."),te=Ve.source.tagged||s.serverCache.isFiltered(),z=fc(u,s,Ve.path,Ve.children,p,E,te,P))}else if(l.type===wr.ACK_USER_WRITE){const Ve=l;z=Ve.revert?function G(u,s,l,p,E,P){let z;if(null!=Sa(p,l))return s;{const te=new es(p,s,E),we=s.eventCache.getNode();let Ve;if(hr(l)||".priority"===pi(l)){let $t;if(s.serverCache.isFullyInitialized())$t=yr(p,$n(s));else{const Xt=s.serverCache.getNode();(0,Oe.hu)(Xt instanceof Ht,"serverChildren would be complete if leaf node"),$t=yl(p,Xt)}Ve=u.filter.updateFullNode(we,$t,P)}else{const $t=pi(l);let Xt=nt(p,$t,s.serverCache);null==Xt&&s.serverCache.isCompleteForChild($t)&&(Xt=we.getImmediateChild($t)),Ve=null!=Xt?u.filter.updateChild(we,$t,Xt,Vi(l),te,P):s.eventCache.getNode().hasChild($t)?u.filter.updateChild(we,$t,Ht.EMPTY_NODE,Vi(l),te,P):we,Ve.isEmpty()&&s.serverCache.isFullyInitialized()&&(z=yr(p,$n(s)),z.isLeafNode()&&(Ve=u.filter.updateFullNode(Ve,z,P)))}return z=s.serverCache.isFullyInitialized()||null!=Sa(p,Di()),fs(s,Ve,z,u.filter.filtersNodes())}}(u,s,Ve.path,p,E,P):function Ko(u,s,l,p,E,P,z){if(null!=Sa(E,l))return s;const te=s.serverCache.isFiltered(),we=s.serverCache;if(null!=p.value){if(hr(l)&&we.isFullyInitialized()||we.isCompleteForPath(l))return Pa(u,s,l,we.getNode().getChild(l),E,P,te,z);if(hr(l)){let Ve=new Ji(null);return we.getNode().forEachChild(ks,($t,Xt)=>{Ve=Ve.set(new Vr($t),Xt)}),fc(u,s,l,Ve,E,P,te,z)}return s}{let Ve=new Ji(null);return p.foreach(($t,Xt)=>{const gn=Ai(l,$t);we.isCompleteForPath(gn)&&(Ve=Ve.set($t,we.getNode().getChild(gn)))}),fc(u,s,l,Ve,E,P,te,z)}}(u,s,Ve.path,Ve.affectedTree,p,E,P)}else{if(l.type!==wr.LISTEN_COMPLETE)throw(0,Oe.g5)("Unknown operation type: "+l.type);z=function V(u,s,l,p,E){const P=s.serverCache;return yn(u,As(s,P.getNode(),P.isFullyInitialized()||hr(l),P.isFiltered()),l,p,Hi,E)}(u,s,l.path,p,P)}const we=P.getChanges();return function va(u,s,l){const p=s.eventCache;if(p.isFullyInitialized()){const E=p.getNode().isLeafNode()||p.getNode().isEmpty(),P=po(u);(l.length>0||!u.eventCache.isFullyInitialized()||E&&!p.getNode().equals(P)||!p.getNode().getPriority().equals(P.getPriority()))&&l.push(ao(po(s)))}}(s,z,we),{viewCache:z,changes:we}}(u.processor_,E,s,l,p);return function Gi(u,s){(0,Oe.hu)(s.eventCache.getNode().isIndexed(u.filter.getIndex()),"Event snap not indexed"),(0,Oe.hu)(s.serverCache.getNode().isIndexed(u.filter.getIndex()),"Server snap not indexed")}(u.processor_,P.viewCache),(0,Oe.hu)(P.viewCache.serverCache.isFullyInitialized()||!E.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),u.viewCache_=P.viewCache,si(u,P.changes,P.viewCache.eventCache.getNode(),null)}function si(u,s,l,p){return function li(u,s,l,p){const E=[],P=[];return s.forEach(z=>{"child_changed"===z.type&&u.index_.indexedValueChanged(z.oldSnap,z.snapshotNode)&&P.push(function Ns(u,s){return{type:"child_moved",snapshotNode:s,childName:u}}(z.childName,z.snapshotNode))}),mr(u,E,"child_removed",s,p,l),mr(u,E,"child_added",s,p,l),mr(u,E,"child_moved",P,p,l),mr(u,E,"child_changed",s,p,l),mr(u,E,"value",s,p,l),E}(u.eventGenerator_,s,l,p?[p]:u.eventRegistrations_)}let vo,qt;class I{constructor(){this.views=new Map}}function b(u,s,l,p){const E=s.source.queryId;if(null!==E){const P=u.views.get(E);return(0,Oe.hu)(null!=P,"SyncTree gave us an op for an invalid query."),kr(P,s,l,p)}{let P=[];for(const z of u.views.values())P=P.concat(kr(z,s,l,p));return P}}function T(u,s,l,p,E){const z=u.views.get(s._queryIdentifier);if(!z){let te=yr(l,E?p:null),we=!1;te?we=!0:p instanceof Ht?(te=yl(l,p),we=!1):(te=Ht.EMPTY_NODE,we=!1);const Ve=Ni(new vn(te,we,!1),new vn(p,E,!1));return new O(s,Ve)}return z}function W(u){const s=[];for(const l of u.views.values())l.query._queryParams.loadsAllData()||s.push(l);return s}function ne(u,s){let l=null;for(const p of u.views.values())l=l||et(p,s);return l}function Ce(u,s){return s._queryParams.loadsAllData()?Et(u):u.views.get(s._queryIdentifier)}function Ue(u,s){return null!=Ce(u,s)}function pt(u){return null!=Et(u)}function Et(u){for(const s of u.views.values())if(s.query._queryParams.loadsAllData())return s;return null}let Yn=1;class Fn{constructor(s){this.listenProvider_=s,this.syncPointTree_=new Ji(null),this.pendingWriteTree_=function ps(){return{visibleWrites:_r.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function cr(u,s,l,p,E){return function ua(u,s,l,p,E){(0,Oe.hu)(p>u.lastWriteId,"Stacking an older write on top of newer ones"),void 0===E&&(E=!0),u.allWrites.push({path:s,snap:l,writeId:p,visible:E}),E&&(u.visibleWrites=Hr(u.visibleWrites,s,l)),u.lastWriteId=p}(u.pendingWriteTree_,s,l,p,E),E?to(u,new Ne({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},s,l)):[]}function Jn(u,s,l=!1){const p=function Bc(u,s){for(let l=0;l<u.allWrites.length;l++){const p=u.allWrites[l];if(p.writeId===s)return p}return null}(u.pendingWriteTree_,s);if(function Ls(u,s){const l=u.allWrites.findIndex(te=>te.writeId===s);(0,Oe.hu)(l>=0,"removeWrite called with nonexistent writeId.");const p=u.allWrites[l];u.allWrites.splice(l,1);let E=p.visible,P=!1,z=u.allWrites.length-1;for(;E&&z>=0;){const te=u.allWrites[z];te.visible&&(z>=l&&aa(te,p.path)?E=!1:ss(p.path,te.path)&&(P=!0)),z--}return!!E&&(P?(function Ll(u){u.visibleWrites=da(u.allWrites,Ui,Di()),u.lastWriteId=u.allWrites.length>0?u.allWrites[u.allWrites.length-1].writeId:-1}(u),!0):(p.snap?u.visibleWrites=Un(u.visibleWrites,p.path):xe(p.children,we=>{u.visibleWrites=Un(u.visibleWrites,Ai(p.path,we))}),!0))}(u.pendingWriteTree_,s)){let P=new Ji(null);return null!=p.snap?P=P.set(Di(),!0):xe(p.children,z=>{P=P.set(new Vr(z),!0)}),to(u,new he(p.path,P,l))}return[]}function or(u,s,l){return to(u,new Ne({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},s,l))}function Zi(u,s,l,p,E=!1){const P=s._path,z=u.syncPointTree_.get(P);let te=[];if(z&&("default"===s._queryIdentifier||Ue(z,s))){const we=function B(u,s,l,p){const E=s._queryIdentifier,P=[];let z=[];const te=pt(u);if("default"===E)for(const[we,Ve]of u.views.entries())z=z.concat(Mn(Ve,l,p)),ze(Ve)&&(u.views.delete(we),Ve.query._queryParams.loadsAllData()||P.push(Ve.query));else{const we=u.views.get(E);we&&(z=z.concat(Mn(we,l,p)),ze(we)&&(u.views.delete(E),we.query._queryParams.loadsAllData()||P.push(we.query)))}return te&&!pt(u)&&P.push(new(function h(){return(0,Oe.hu)(vo,"Reference.ts has not been loaded"),vo}())(s._repo,s._path)),{removed:P,events:z}}(z,s,l,p);(function m(u){return 0===u.views.size})(z)&&(u.syncPointTree_=u.syncPointTree_.remove(P));const Ve=we.removed;if(te=we.events,!E){const $t=-1!==Ve.findIndex(gn=>gn._queryParams.loadsAllData()),Xt=u.syncPointTree_.findOnPath(P,(gn,Rn)=>pt(Rn));if($t&&!Xt){const gn=u.syncPointTree_.subtree(P);if(!gn.isEmpty()){const Rn=function Vl(u){return u.fold((s,l,p)=>{if(l&&pt(l))return[Et(l)];{let E=[];return l&&(E=W(l)),xe(p,(P,z)=>{E=E.concat(z)}),E}})}(gn);for(let jn=0;jn<Rn.length;++jn){const fr=Rn[jn],fi=fr.query,ts=Aa(u,fr);u.listenProvider_.startListening(Ra(fi),Mo(u,fi),ts.hashFn,ts.onComplete)}}}!Xt&&Ve.length>0&&!p&&($t?u.listenProvider_.stopListening(Ra(s),null):Ve.forEach(gn=>{const Rn=u.queryToTagMap.get(vl(gn));u.listenProvider_.stopListening(Ra(gn),Rn)}))}!function Sl(u,s){for(let l=0;l<s.length;++l){const p=s[l];if(!p._queryParams.loadsAllData()){const E=vl(p),P=u.queryToTagMap.get(E);u.queryToTagMap.delete(E),u.tagToQueryMap.delete(P)}}}(u,Ve)}return te}function Xr(u,s,l,p){const E=fa(u,p);if(null!=E){const P=co(E),z=P.path,te=P.queryId,we=Os(z,s);return ia(u,z,new Ne(q(te),we,l))}return[]}function zs(u,s,l,p=!1){const E=s._path;let P=null,z=!1;u.syncPointTree_.foreachOnPath(E,(gn,Rn)=>{const jn=Os(gn,E);P=P||ne(Rn,jn),z=z||pt(Rn)});let we,te=u.syncPointTree_.get(E);te?(z=z||pt(te),P=P||ne(te,Di())):(te=new I,u.syncPointTree_=u.syncPointTree_.set(E,te)),null!=P?we=!0:(we=!1,P=Ht.EMPTY_NODE,u.syncPointTree_.subtree(E).foreachChild((Rn,jn)=>{const fr=ne(jn,Di());fr&&(P=P.updateImmediateChild(Rn,fr))}));const Ve=Ue(te,s);if(!Ve&&!s._queryParams.loadsAllData()){const gn=vl(s);(0,Oe.hu)(!u.queryToTagMap.has(gn),"View does not exist, but we have a tag");const Rn=function Af(){return Yn++}();u.queryToTagMap.set(gn,Rn),u.tagToQueryMap.set(Rn,gn)}let Xt=function x(u,s,l,p,E,P){const z=T(u,s,p,E,P);return u.views.has(s._queryIdentifier)||u.views.set(s._queryIdentifier,z),function Zt(u,s){u.eventRegistrations_.push(s)}(z,l),function ki(u,s){const l=u.viewCache_.eventCache,p=[];return l.getNode().isLeafNode()||l.getNode().forEachChild(ae,(P,z)=>{p.push(hs(P,z))}),l.isFullyInitialized()&&p.push(ao(l.getNode())),si(u,p,l.getNode(),s)}(z,l)}(te,s,l,Dl(u.pendingWriteTree_,E),P,we);if(!Ve&&!z&&!p){const gn=Ce(te,s);Xt=Xt.concat(function pc(u,s,l){const p=s._path,E=Mo(u,s),P=Aa(u,l),z=u.listenProvider_.startListening(Ra(s),E,P.hashFn,P.onComplete),te=u.syncPointTree_.subtree(p);if(E)(0,Oe.hu)(!pt(te.value),"If we're adding a query, it shouldn't be shadowed");else{const we=te.fold((Ve,$t,Xt)=>{if(!hr(Ve)&&$t&&pt($t))return[Et($t).query];{let gn=[];return $t&&(gn=gn.concat(W($t).map(Rn=>Rn.query))),xe(Xt,(Rn,jn)=>{gn=gn.concat(jn)}),gn}});for(let Ve=0;Ve<we.length;++Ve){const $t=we[Ve];u.listenProvider_.stopListening(Ra($t),Mo(u,$t))}}return z}(u,s,gn))}return Xt}function gs(u,s,l){const E=u.pendingWriteTree_,P=u.syncPointTree_.findOnPath(s,(z,te)=>{const Ve=ne(te,Os(z,s));if(Ve)return Ve});return Cc(E,s,P,l,!0)}function to(u,s){return Gs(s,u.syncPointTree_,null,Dl(u.pendingWriteTree_,Di()))}function Gs(u,s,l,p){if(hr(u.path))return Ta(u,s,l,p);{const E=s.get(Di());null==l&&null!=E&&(l=ne(E,Di()));let P=[];const z=pi(u.path),te=u.operationForChild(z),we=s.children.get(z);if(we&&te){const Ve=l?l.getImmediateChild(z):null,$t=Jt(p,z);P=P.concat(Gs(te,we,Ve,$t))}return E&&(P=P.concat(b(E,u,p,l))),P}}function Ta(u,s,l,p){const E=s.get(Di());null==l&&null!=E&&(l=ne(E,Di()));let P=[];return s.children.inorderTraversal((z,te)=>{const we=l?l.getImmediateChild(z):null,Ve=Jt(p,z),$t=u.operationForChild(z);$t&&(P=P.concat(Ta($t,te,we,Ve)))}),E&&(P=P.concat(b(E,u,p,l))),P}function Aa(u,s){const l=s.query,p=Mo(u,l);return{hashFn:()=>(function Z(u){return u.viewCache_.serverCache.getNode()}(s)||Ht.EMPTY_NODE).hash(),onComplete:E=>{if("ok"===E)return p?function Ci(u,s,l){const p=fa(u,l);if(p){const E=co(p),P=E.path,z=E.queryId,te=Os(P,s);return ia(u,P,new J(q(z),te))}return[]}(u,l._path,p):function Br(u,s){return to(u,new J({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},s))}(u,l._path);{const P=function Wn(u,s){let l="Unknown Error";"too_big"===u?l="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===u?l="Client doesn't have permission to access the desired data.":"unavailable"===u&&(l="The service is unavailable");const p=new Error(u+" at "+s._path.toString()+": "+l);return p.code=u.toUpperCase(),p}(E,l);return Zi(u,l,null,P)}}}}function Mo(u,s){const l=vl(s);return u.queryToTagMap.get(l)}function vl(u){return u._path.toString()+"$"+u._queryIdentifier}function fa(u,s){return u.tagToQueryMap.get(s)}function co(u){const s=u.indexOf("$");return(0,Oe.hu)(-1!==s&&s<u.length-1,"Bad queryKey."),{queryId:u.substr(s+1),path:new Vr(u.substr(0,s))}}function ia(u,s,l){const p=u.syncPointTree_.get(s);return(0,Oe.hu)(p,"Missing sync point for query tag that we're tracking"),b(p,l,Dl(u.pendingWriteTree_,s),null)}function Ra(u){return u._queryParams.loadsAllData()&&!u._queryParams.isDefault()?new(function Cn(){return(0,Oe.hu)(qt,"Reference.ts has not been loaded"),qt}())(u._repo,u._path):u}class Ul{constructor(s){this.node_=s}getImmediateChild(s){const l=this.node_.getImmediateChild(s);return new Ul(l)}node(){return this.node_}}class ju{constructor(s,l){this.syncTree_=s,this.path_=l}getImmediateChild(s){const l=Ai(this.path_,s);return new ju(this.syncTree_,l)}node(){return gs(this.syncTree_,this.path_)}}const Dc=function(u){return(u=u||{}).timestamp=u.timestamp||(new Date).getTime(),u},jl=function(u,s,l){return u&&"object"==typeof u?((0,Oe.hu)(".sv"in u,"Unexpected leaf node or priority contents"),"string"==typeof u[".sv"]?zu(u[".sv"],s,l):"object"==typeof u[".sv"]?$c(u[".sv"],s):void(0,Oe.hu)(!1,"Unexpected server value: "+JSON.stringify(u,null,2))):u},zu=function(u,s,l){if("timestamp"===u)return l.timestamp;(0,Oe.hu)(!1,"Unexpected server value: "+u)},$c=function(u,s,l){u.hasOwnProperty("increment")||(0,Oe.hu)(!1,"Unexpected server value: "+JSON.stringify(u,null,2));const p=u.increment;"number"!=typeof p&&(0,Oe.hu)(!1,"Unexpected increment value: "+p);const E=s.node();if((0,Oe.hu)(null!==E&&typeof E<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!E.isLeafNode())return p;const z=E.getValue();return"number"!=typeof z?p:z+p},Sc=function(u,s,l,p){return yd(s,new ju(l,u),p)},gc=function(u,s,l){return yd(u,new Ul(s),l)};function yd(u,s,l){const p=u.getPriority().val(),E=jl(p,s.getImmediateChild(".priority"),l);let P;if(u.isLeafNode()){const z=u,te=jl(z.getValue(),s,l);return te!==z.getValue()||E!==z.getPriority().val()?new Si(te,Tr(E)):u}{const z=u;return P=z,E!==z.getPriority().val()&&(P=P.updatePriority(new Si(E))),z.forEachChild(ae,(te,we)=>{const Ve=yd(we,s.getImmediateChild(te),l);Ve!==we&&(P=P.updateImmediateChild(te,Ve))}),P}}class sa{constructor(s="",l=null,p={children:{},childCount:0}){this.name=s,this.parent=l,this.node=p}}function Jl(u,s){let l=s instanceof Vr?s:new Vr(s),p=u,E=pi(l);for(;null!==E;){const P=(0,Oe.DV)(p.node.children,E)||{children:{},childCount:0};p=new sa(E,p,P),l=Vi(l),E=pi(l)}return p}function el(u){return u.node.value}function Vc(u,s){u.node.value=s,xf(u)}function al(u){return u.node.childCount>0}function Tc(u,s){xe(u.node.children,(l,p)=>{s(new sa(l,u,p))})}function Tl(u,s,l,p){l&&!p&&s(u),Tc(u,E=>{Tl(E,s,!0,p)}),l&&p&&s(u)}function Hu(u){return new Vr(null===u.parent?u.name:Hu(u.parent)+"/"+u.name)}function xf(u){null!==u.parent&&function Mf(u,s,l){const p=function Uc(u){return void 0===el(u)&&!al(u)}(l),E=(0,Oe.r3)(u.node.children,s);p&&E?(delete u.node.children[s],u.node.childCount--,xf(u)):!p&&!E&&(u.node.children[s]=l.node,u.node.childCount++,xf(u))}(u.parent,u.name,u)}const Kp=/[\[\].#$\/\u0000-\u001F\u007F]/,Uo=/[\[\].#$\u0000-\u001F\u007F]/,cu=10485760,_o=function(u){return"string"==typeof u&&0!==u.length&&!Kp.test(u)},ec=function(u){return"string"==typeof u&&0!==u.length&&!Uo.test(u)},uu=function(u){return null===u||"string"==typeof u||"number"==typeof u&&!di(u)||u&&"object"==typeof u&&(0,Oe.r3)(u,".sv")},tl=function(u,s,l,p){p&&void 0===s||Wu((0,Oe.gK)(u,"value"),s,l)},Wu=function(u,s,l){const p=l instanceof Vr?new Do(l,u):l;if(void 0===s)throw new Error(u+"contains undefined "+ko(p));if("function"==typeof s)throw new Error(u+"contains a function "+ko(p)+" with contents = "+s.toString());if(di(s))throw new Error(u+"contains "+s.toString()+" "+ko(p));if("string"==typeof s&&s.length>cu/3&&(0,Oe.ug)(s)>cu)throw new Error(u+"contains a string greater than "+cu+" utf8 bytes "+ko(p)+" ('"+s.substring(0,50)+"...')");if(s&&"object"==typeof s){let E=!1,P=!1;if(xe(s,(z,te)=>{if(".value"===z)E=!0;else if(".priority"!==z&&".sv"!==z&&(P=!0,!_o(z)))throw new Error(u+" contains an invalid key ("+z+") "+ko(p)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function Ao(u,s){u.parts_.length>0&&(u.byteLength_+=1),u.parts_.push(s),u.byteLength_+=(0,Oe.ug)(s),Es(u)})(p,z),Wu(u,te,p),function Oo(u){const s=u.parts_.pop();u.byteLength_-=(0,Oe.ug)(s),u.parts_.length>0&&(u.byteLength_-=1)}(p)}),E&&P)throw new Error(u+' contains ".value" child '+ko(p)+" in addition to actual children.")}},Ks=function(u,s,l,p){if(p&&void 0===s)return;const E=(0,Oe.gK)(u,"values");if(!s||"object"!=typeof s||Array.isArray(s))throw new Error(E+" must be an object containing the children to replace.");const P=[];xe(s,(z,te)=>{const we=new Vr(z);if(Wu(E,te,Ai(l,we)),".priority"===To(we)&&!uu(te))throw new Error(E+"contains an invalid value for '"+we.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");P.push(we)}),function(u,s){let l,p;for(l=0;l<s.length;l++){p=s[l];const P=Xs(p);for(let z=0;z<P.length;z++)if((".priority"!==P[z]||z!==P.length-1)&&!_o(P[z]))throw new Error(u+"contains an invalid key ("+P[z]+") in path "+p.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}s.sort(so);let E=null;for(l=0;l<s.length;l++){if(p=s[l],null!==E&&ss(E,p))throw new Error(u+"contains a path "+E.toString()+" that is ancestor of another path "+p.toString());E=p}}(E,P)},Po=function(u,s,l){if(!l||void 0!==s){if(di(s))throw new Error((0,Oe.gK)(u,"priority")+"is "+s.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!uu(s))throw new Error((0,Oe.gK)(u,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},Al=function(u,s,l,p){if(!(p&&void 0===l||_o(l)))throw new Error((0,Oe.gK)(u,s)+'was an invalid key = "'+l+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},tc=function(u,s,l,p){if(!(p&&void 0===l||ec(l)))throw new Error((0,Oe.gK)(u,s)+'was an invalid path = "'+l+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},ph=function(u,s,l,p){l&&(l=l.replace(/^\/*\.info(\/|$)/,"/")),tc(u,s,l,p)},Ga=function(u,s){if(".info"===pi(s))throw new Error(u+" failed = Can't modify data under /.info/")},du=function(u,s){const l=s.path.toString();if("string"!=typeof s.repoInfo.host||0===s.repoInfo.host.length||!_o(s.repoInfo.namespace)&&"localhost"!==s.repoInfo.host.split(":")[0]||0!==l.length&&!function(u){return u&&(u=u.replace(/^\/*\.info(\/|$)/,"/")),ec(u)}(l))throw new Error((0,Oe.gK)(u,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class jc{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Gu(u,s){let l=null;for(let p=0;p<s.length;p++){const E=s[p],P=E.getPath();null!==l&&!Wo(P,l.path)&&(u.eventLists_.push(l),l=null),null===l&&(l={events:[],path:P}),l.events.push(E)}l&&u.eventLists_.push(l)}function hu(u,s,l){Gu(u,l),fu(u,p=>Wo(p,s))}function nl(u,s,l){Gu(u,l),fu(u,p=>ss(p,s)||ss(s,p))}function fu(u,s){u.recursionDepth_++;let l=!0;for(let p=0;p<u.eventLists_.length;p++){const E=u.eventLists_[p];E&&(s(E.path)?(Rf(u.eventLists_[p]),u.eventLists_[p]=null):l=!1)}l&&(u.eventLists_=[]),u.recursionDepth_--}function Rf(u){for(let s=0;s<u.events.length;s++){const l=u.events[s];if(null!==l){u.events[s]=null;const p=l.getEventRunner();Gr&&$r("event: "+l.toString()),Te(p)}}}const Ku="repo_interrupt",Yp=25;class pu{constructor(s,l,p,E){this.repoInfo_=s,this.forceRestClient_=l,this.authTokenProvider_=p,this.appCheckProvider_=E,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new jc,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=le(),this.transactionQueueTree_=new sa,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function gh(u){const l=u.infoData_.getNode(new Vr(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+l}function Hc(u){return Dc({timestamp:gh(u)})}function gu(u,s,l,p,E){u.dataUpdateCount++;const P=new Vr(s);l=u.interceptServerDataCallback_?u.interceptServerDataCallback_(s,l):l;let z=[];if(E)if(p){const we=(0,Oe.UI)(l,Ve=>Tr(Ve));z=function xs(u,s,l,p){const E=fa(u,p);if(E){const P=co(E),z=P.path,te=P.queryId,we=Os(z,s),Ve=Ji.fromObject(l);return ia(u,z,new bt(q(te),we,Ve))}return[]}(u.serverSyncTree_,P,we,E)}else{const we=Tr(l);z=Xr(u.serverSyncTree_,P,we,E)}else if(p){const we=(0,Oe.UI)(l,Ve=>Tr(Ve));z=function Mr(u,s,l){const p=Ji.fromObject(l);return to(u,new bt({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},s,p))}(u.serverSyncTree_,P,we)}else{const we=Tr(l);z=or(u.serverSyncTree_,P,we)}let te=P;z.length>0&&(te=_l(u,P)),nl(u.eventQueue_,te,z)}function mc(u,s){mu(u,"connected",s),!1===s&&function kf(u){xn(u,"onDisconnectEvents");const s=Hc(u),l=le();lt(u.onDisconnect_,Di(),(E,P)=>{const z=Sc(E,P,u.serverSyncTree_,s);De(l,E,z)});let p=[];lt(l,Di(),(E,P)=>{p=p.concat(or(u.serverSyncTree_,E,P));const z=nc(u,E);_l(u,z)}),u.onDisconnect_=le(),nl(u.eventQueue_,Di(),p)}(u)}function mu(u,s,l){const p=new Vr("/.info/"+s),E=Tr(l);u.infoData_.updateSnapshot(p,E);const P=or(u.infoSyncTree_,p,E);nl(u.eventQueue_,p,P)}function Wc(u){return u.nextWriteId_++}function Gc(u,s,l,p,E){xn(u,"set",{path:s.toString(),value:l,priority:p});const P=Hc(u),z=Tr(l,p),te=gs(u.serverSyncTree_,s),we=gc(z,te,P),Ve=Wc(u),$t=cr(u.serverSyncTree_,s,we,Ve,!0);Gu(u.eventQueue_,$t),u.server_.put(s.toString(),z.val(!0),(gn,Rn)=>{const jn="ok"===gn;jn||rr("set at "+s+" failed: "+gn);const fr=Jn(u.serverSyncTree_,Ve,!jn);nl(u.eventQueue_,s,fr),dr(0,E,gn,Rn)});const Xt=nc(u,s);_l(u,Xt),nl(u.eventQueue_,Xt,[])}function Kc(u,s,l){u.server_.onDisconnectCancel(s.toString(),(p,E)=>{"ok"===p&&je(u.onDisconnect_,s),dr(0,l,p,E)})}function U(u,s,l,p){const E=Tr(l);u.server_.onDisconnectPut(s.toString(),E.val(!0),(P,z)=>{"ok"===P&&De(u.onDisconnect_,s,E),dr(0,p,P,z)})}function Ie(u,s,l){let p;p=".info"===pi(s._path)?Zi(u.infoSyncTree_,s,l):Zi(u.serverSyncTree_,s,l),hu(u.eventQueue_,s._path,p)}function We(u){u.persistentConnection_&&u.persistentConnection_.interrupt(Ku)}function xn(u,...s){let l="";u.persistentConnection_&&(l=u.persistentConnection_.id+":"),$r(l,...s)}function dr(u,s,l,p){s&&Te(()=>{if("ok"===l)s(null);else{const E=(l||"error").toUpperCase();let P=E;p&&(P+=": "+p);const z=new Error(P);z.code=E,s(z)}})}function Mi(u,s,l){return gs(u.serverSyncTree_,s,l)||Ht.EMPTY_NODE}function _s(u,s=u.transactionQueueTree_){if(s||Yc(u,s),el(s)){const l=yu(u,s);(0,Oe.hu)(l.length>0,"Sending zero length transaction queue"),l.every(E=>0===E.status)&&function ll(u,s,l){const p=l.map(Ve=>Ve.currentWriteId),E=Mi(u,s,p);let P=E;const z=E.hash();for(let Ve=0;Ve<l.length;Ve++){const $t=l[Ve];(0,Oe.hu)(0===$t.status,"tryToSendTransactionQueue_: items in queue should all be run."),$t.status=1,$t.retryCount++;const Xt=Os(s,$t.path);P=P.updateChild(Xt,$t.currentOutputSnapshotRaw)}const te=P.val(!0),we=s;u.server_.put(we.toString(),te,Ve=>{xn(u,"transaction put response",{path:we.toString(),status:Ve});let $t=[];if("ok"===Ve){const Xt=[];for(let gn=0;gn<l.length;gn++)l[gn].status=2,$t=$t.concat(Jn(u.serverSyncTree_,l[gn].currentWriteId)),l[gn].onComplete&&Xt.push(()=>l[gn].onComplete(null,!0,l[gn].currentOutputSnapshotResolved)),l[gn].unwatcher();Yc(u,Jl(u.transactionQueueTree_,s)),_s(u,u.transactionQueueTree_),nl(u.eventQueue_,s,$t);for(let gn=0;gn<Xt.length;gn++)Te(Xt[gn])}else{if("datastale"===Ve)for(let Xt=0;Xt<l.length;Xt++)l[Xt].status=3===l[Xt].status?4:0;else{rr("transaction at "+we.toString()+" failed: "+Ve);for(let Xt=0;Xt<l.length;Xt++)l[Xt].status=4,l[Xt].abortReason=Ve}_l(u,s)}},z)}(u,Hu(s),l)}else al(s)&&Tc(s,l=>{_s(u,l)})}function _l(u,s){const l=bl(u,s),p=Hu(l);return function _d(u,s,l){if(0===s.length)return;const p=[];let E=[];const z=s.filter(te=>0===te.status).map(te=>te.currentWriteId);for(let te=0;te<s.length;te++){const we=s[te],Ve=Os(l,we.path);let Xt,$t=!1;if((0,Oe.hu)(null!==Ve,"rerunTransactionsUnderNode_: relativePath should not be null."),4===we.status)$t=!0,Xt=we.abortReason,E=E.concat(Jn(u.serverSyncTree_,we.currentWriteId,!0));else if(0===we.status)if(we.retryCount>=Yp)$t=!0,Xt="maxretry",E=E.concat(Jn(u.serverSyncTree_,we.currentWriteId,!0));else{const gn=Mi(u,we.path,z);we.currentInputSnapshot=gn;const Rn=s[te].update(gn.val());if(void 0!==Rn){Wu("transaction failed: Data returned ",Rn,we.path);let jn=Tr(Rn);"object"==typeof Rn&&null!=Rn&&(0,Oe.r3)(Rn,".priority")||(jn=jn.updatePriority(gn.getPriority()));const fi=we.currentWriteId,ts=Hc(u),Eo=gc(jn,gn,ts);we.currentOutputSnapshotRaw=jn,we.currentOutputSnapshotResolved=Eo,we.currentWriteId=Wc(u),z.splice(z.indexOf(fi),1),E=E.concat(cr(u.serverSyncTree_,we.path,Eo,we.currentWriteId,we.applyLocally)),E=E.concat(Jn(u.serverSyncTree_,fi,!0))}else $t=!0,Xt="nodata",E=E.concat(Jn(u.serverSyncTree_,we.currentWriteId,!0))}nl(u.eventQueue_,l,E),E=[],$t&&(s[te].status=2,setTimeout(s[te].unwatcher,Math.floor(0)),s[te].onComplete&&p.push("nodata"===Xt?()=>s[te].onComplete(null,!1,s[te].currentInputSnapshot):()=>s[te].onComplete(new Error(Xt),!1,null)))}Yc(u,u.transactionQueueTree_);for(let te=0;te<p.length;te++)Te(p[te]);_s(u,u.transactionQueueTree_)}(u,yu(u,l),p),p}function bl(u,s){let l,p=u.transactionQueueTree_;for(l=pi(s);null!==l&&void 0===el(p);)p=Jl(p,l),l=pi(s=Vi(s));return p}function yu(u,s){const l=[];return La(u,s,l),l.sort((p,E)=>p.order-E.order),l}function La(u,s,l){const p=el(s);if(p)for(let E=0;E<p.length;E++)l.push(p[E]);Tc(s,E=>{La(u,E,l)})}function Yc(u,s){const l=el(s);if(l){let p=0;for(let E=0;E<l.length;E++)2!==l[E].status&&(l[p]=l[E],p++);l.length=p,Vc(s,l.length>0?l:void 0)}Tc(s,p=>{Yc(u,p)})}function nc(u,s){const l=Hu(bl(u,s)),p=Jl(u.transactionQueueTree_,s);return function lu(u,s,l){let p=l?u:u.parent;for(;null!==p;){if(s(p))return!0;p=p.parent}}(p,E=>{cl(u,E)}),cl(u,p),Tl(p,E=>{cl(u,E)}),l}function cl(u,s){const l=el(s);if(l){const p=[];let E=[],P=-1;for(let z=0;z<l.length;z++)3===l[z].status||(1===l[z].status?((0,Oe.hu)(P===z-1,"All SENT items should be at beginning of queue."),P=z,l[z].status=3,l[z].abortReason="set"):((0,Oe.hu)(0===l[z].status,"Unexpected transaction status in abort"),l[z].unwatcher(),E=E.concat(Jn(u.serverSyncTree_,l[z].currentWriteId,!0)),l[z].onComplete&&p.push(l[z].onComplete.bind(null,new Error("set"),!1,null))));-1===P?Vc(s,void 0):l.length=P+1,nl(u.eventQueue_,Hu(s),E);for(let z=0;z<p.length;z++)Te(p[z])}}const Ac=function(u,s){const l=Nf(u),p=l.namespace;return"firebase.com"===l.domain&&Zn(l.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!p||"undefined"===p)&&"localhost"!==l.domain&&Zn("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),l.secure||typeof window<"u"&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&rr("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new mn(l.host,l.secure,p,"ws"===l.scheme||"wss"===l.scheme,s,"",p!==l.subdomain),path:new Vr(l.pathString)}},Nf=function(u){let s="",l="",p="",E="",P="",z=!0,te="https",we=443;if("string"==typeof u){let Ve=u.indexOf("//");Ve>=0&&(te=u.substring(0,Ve-1),u=u.substring(Ve+2));let $t=u.indexOf("/");-1===$t&&($t=u.length);let Xt=u.indexOf("?");-1===Xt&&(Xt=u.length),s=u.substring(0,Math.min($t,Xt)),$t<Xt&&(E=function Hl(u){let s="";const l=u.split("/");for(let p=0;p<l.length;p++)if(l[p].length>0){let E=l[p];try{E=decodeURIComponent(E.replace(/\+/g," "))}catch{}s+="/"+E}return s}(u.substring($t,Xt)));const gn=function bd(u){const s={};"?"===u.charAt(0)&&(u=u.substring(1));for(const l of u.split("&")){if(0===l.length)continue;const p=l.split("=");2===p.length?s[decodeURIComponent(p[0])]=decodeURIComponent(p[1]):rr(`Invalid query segment '${l}' in query '${u}'`)}return s}(u.substring(Math.min(u.length,Xt)));Ve=s.indexOf(":"),Ve>=0?(z="https"===te||"wss"===te,we=parseInt(s.substring(Ve+1),10)):Ve=s.length;const Rn=s.slice(0,Ve);if("localhost"===Rn.toLowerCase())l="localhost";else if(Rn.split(".").length<=2)l=Rn;else{const jn=s.indexOf(".");p=s.substring(0,jn).toLowerCase(),l=s.substring(jn+1),P=p}"ns"in gn&&(P=gn.ns)}return{host:s,port:we,domain:l,subdomain:p,secure:z,scheme:te,pathString:E,namespace:P}},vu="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",Is=function(){let u=0;const s=[];return function(l){const p=l===u;let E;u=l;const P=new Array(8);for(E=7;E>=0;E--)P[E]=vu.charAt(l%64),l=Math.floor(l/64);(0,Oe.hu)(0===l,"Cannot push at time == 0");let z=P.join("");if(p){for(E=11;E>=0&&63===s[E];E--)s[E]=0;s[E]++}else for(E=0;E<12;E++)s[E]=Math.floor(64*Math.random());for(E=0;E<12;E++)z+=vu.charAt(s[E]);return(0,Oe.hu)(20===z.length,"nextPushId: Length should be 20."),z}}();class pm{constructor(s,l,p,E){this.eventType=s,this.eventRegistration=l,this.snapshot=p,this.prevName=E}getPath(){const s=this.snapshot.ref;return"value"===this.eventType?s._path:s.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+(0,Oe.Wl)(this.snapshot.exportVal())}}class Ff{constructor(s,l,p){this.eventRegistration=s,this.error=l,this.path=p}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class mh{constructor(s,l){this.snapshotCallback=s,this.cancelCallback=l}onValue(s,l){this.snapshotCallback.call(null,s,l)}onCancel(s){return(0,Oe.hu)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,s)}get hasCancelCallback(){return!!this.cancelCallback}matches(s){return this.snapshotCallback===s.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===s.snapshotCallback.userCallback&&this.snapshotCallback.context===s.snapshotCallback.context}}class qp{constructor(s,l){this._repo=s,this._path=l}cancel(){const s=new Oe.BH;return Kc(this._repo,this._path,s.wrapCallback(()=>{})),s.promise}remove(){Ga("OnDisconnect.remove",this._path);const s=new Oe.BH;return U(this._repo,this._path,null,s.wrapCallback(()=>{})),s.promise}set(s){Ga("OnDisconnect.set",this._path),tl("OnDisconnect.set",s,this._path,!1);const l=new Oe.BH;return U(this._repo,this._path,s,l.wrapCallback(()=>{})),l.promise}setWithPriority(s,l){Ga("OnDisconnect.setWithPriority",this._path),tl("OnDisconnect.setWithPriority",s,this._path,!1),Po("OnDisconnect.setWithPriority",l,!1);const p=new Oe.BH;return function C(u,s,l,p,E){const P=Tr(l,p);u.server_.onDisconnectPut(s.toString(),P.val(!0),(z,te)=>{"ok"===z&&De(u.onDisconnect_,s,P),dr(0,E,z,te)})}(this._repo,this._path,s,l,p.wrapCallback(()=>{})),p.promise}update(s){Ga("OnDisconnect.update",this._path),Ks("OnDisconnect.update",s,this._path,!1);const l=new Oe.BH;return function A(u,s,l,p){if((0,Oe.xb)(l))return $r("onDisconnect().update() called with empty data.  Don't do anything."),void dr(0,p,"ok",void 0);u.server_.onDisconnectMerge(s.toString(),l,(E,P)=>{"ok"===E&&xe(l,(z,te)=>{const we=Tr(te);De(u.onDisconnect_,Ai(s,z),we)}),dr(0,p,E,P)})}(this._repo,this._path,s,l.wrapCallback(()=>{})),l.promise}}class El{constructor(s,l,p,E){this._repo=s,this._path=l,this._queryParams=p,this._orderByCalled=E}get key(){return hr(this._path)?null:To(this._path)}get ref(){return new wl(this._repo,this._path)}get _queryIdentifier(){const s=sl(this._queryParams),l=Ar(s);return"{}"===l?"default":l}get _queryObject(){return sl(this._queryParams)}isEqual(s){if(!((s=(0,Oe.m9)(s))instanceof El))return!1;const l=this._repo===s._repo,p=Wo(this._path,s._path);return l&&p&&this._queryIdentifier===s._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function Co(u){let s="";for(let l=u.pieceNum_;l<u.pieces_.length;l++)""!==u.pieces_[l]&&(s+="/"+encodeURIComponent(String(u.pieces_[l])));return s||"/"}(this._path)}}function Oa(u,s){if(!0===u._orderByCalled)throw new Error(s+": You can't combine multiple orderBy calls.")}function xc(u){let s=null,l=null;if(u.hasStart()&&(s=u.getIndexStartValue()),u.hasEnd()&&(l=u.getIndexEndValue()),u.getIndex()===ks){const p="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",E="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(u.hasStart()){if(u.getIndexStartName()!==ri)throw new Error(p);if("string"!=typeof s)throw new Error(E)}if(u.hasEnd()){if(u.getIndexEndName()!==oi)throw new Error(p);if("string"!=typeof l)throw new Error(E)}}else if(u.getIndex()===ae){if(null!=s&&!uu(s)||null!=l&&!uu(l))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,Oe.hu)(u.getIndex()instanceof hi||u.getIndex()===qi,"unknown index type."),null!=s&&"object"==typeof s||null!=l&&"object"==typeof l)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function yh(u){if(u.hasStart()&&u.hasEnd()&&u.hasLimit()&&!u.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class wl extends El{constructor(s,l){super(s,l,new ya,!1)}get parent(){const s=Yo(this._path);return null===s?null:new wl(this._repo,s)}get root(){let s=this;for(;null!==s.parent;)s=s.parent;return s}}class ta{constructor(s,l,p){this._node=s,this.ref=l,this._index=p}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(s){const l=new Vr(s),p=xl(this.ref,s);return new ta(this._node.getChild(l),p,ae)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(s){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(p,E)=>s(new ta(E,xl(this.ref,p),ae)))}hasChild(s){const l=new Vr(s);return!this._node.getChild(l).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function rc(u,s){return(u=(0,Oe.m9)(u))._checkNotDeleted("ref"),void 0!==s?xl(u._root,s):u._root}function Lf(u,s){(u=(0,Oe.m9)(u))._checkNotDeleted("refFromURL");const l=Ac(s,u._repo.repoInfo_.nodeAdmin);du("refFromURL",l);const p=l.repoInfo;return!u._repo.repoInfo_.isCustomHost()&&p.host!==u._repo.repoInfo_.host&&Zn("refFromURL: Host name does not match the current database: (found "+p.host+" but expected "+u._repo.repoInfo_.host+")"),rc(u,l.path.toString())}function xl(u,s){return null===pi((u=(0,Oe.m9)(u))._path)?ph("child","path",s,!1):tc("child","path",s,!1),new wl(u._repo,Ai(u._path,s))}function vh(u,s){u=(0,Oe.m9)(u),Ga("set",u._path),tl("set",s,u._path,!1);const l=new Oe.BH;return Gc(u._repo,u._path,s,null,l.wrapCallback(()=>{})),l.promise}function xy(u,s){Ks("update",s,u._path,!1);const l=new Oe.BH;return function zl(u,s,l,p){xn(u,"update",{path:s.toString(),value:l});let E=!0;const P=Hc(u),z={};if(xe(l,(te,we)=>{E=!1,z[te]=Sc(Ai(s,te),Tr(we),u.serverSyncTree_,P)}),E)$r("update() called with empty data.  Don't do anything."),dr(0,p,"ok",void 0);else{const te=Wc(u),we=function vr(u,s,l,p){!function ml(u,s,l,p){(0,Oe.hu)(p>u.lastWriteId,"Stacking an older merge on top of newer ones"),u.allWrites.push({path:s,children:l,writeId:p,visible:!0}),u.visibleWrites=Kn(u.visibleWrites,s,l),u.lastWriteId=p}(u.pendingWriteTree_,s,l,p);const E=Ji.fromObject(l);return to(u,new bt({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},s,E))}(u.serverSyncTree_,s,z,te);Gu(u.eventQueue_,we),u.server_.merge(s.toString(),l,(Ve,$t)=>{const Xt="ok"===Ve;Xt||rr("update at "+s+" failed: "+Ve);const gn=Jn(u.serverSyncTree_,te,!Xt),Rn=gn.length>0?_l(u,s):s;nl(u.eventQueue_,Rn,gn),dr(0,p,Ve,$t)}),xe(l,Ve=>{const $t=nc(u,Ai(s,Ve));_l(u,$t)}),nl(u.eventQueue_,s,[])}}(u._repo,u._path,s,l.wrapCallback(()=>{})),l.promise}function pa(u){u=(0,Oe.m9)(u);const s=new mh(()=>{}),l=new Mc(s);return function Of(u,s,l){const p=function Qs(u,s){const l=s._path;let p=null;u.syncPointTree_.foreachOnPath(l,(Ve,$t)=>{const Xt=Os(Ve,l);p=p||ne($t,Xt)});let E=u.syncPointTree_.get(l);E?p=p||ne(E,Di()):(E=new I,u.syncPointTree_=u.syncPointTree_.set(l,E));const P=null!=p,z=P?new vn(p,!0,!1):null;return function ge(u){return po(u.viewCache_)}(T(E,s,Dl(u.pendingWriteTree_,s._path),P?z.getNode():Ht.EMPTY_NODE,P))}(u.serverSyncTree_,s);return null!=p?Promise.resolve(p):u.server_.get(s).then(E=>{const P=Tr(E).withIndex(s._queryParams.getIndex());let z;if(zs(u.serverSyncTree_,s,l,!0),s._queryParams.loadsAllData())z=or(u.serverSyncTree_,s._path,P);else{const te=Mo(u.serverSyncTree_,s);z=Xr(u.serverSyncTree_,s._path,P,te)}return nl(u.eventQueue_,s._path,z),Zi(u.serverSyncTree_,s,l,null,!0),P},E=>(xn(u,"get for query "+(0,Oe.Wl)(s)+" failed: "+E),Promise.reject(new Error(E))))}(u._repo,u,l).then(p=>new ta(p,new wl(u._repo,u._path),u._queryParams.getIndex()))}class Mc{constructor(s){this.callbackContext=s}respondsTo(s){return"value"===s}createEvent(s,l){const p=l._queryParams.getIndex();return new pm("value",this,new ta(s.snapshotNode,new wl(l._repo,l._path),p))}getEventRunner(s){return"cancel"===s.getEventType()?()=>this.callbackContext.onCancel(s.error):()=>this.callbackContext.onValue(s.snapshot,null)}createCancelEvent(s,l){return this.callbackContext.hasCancelCallback?new Ff(this,s,l):null}matches(s){return s instanceof Mc&&(!s.callbackContext||!this.callbackContext||s.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class qc{constructor(s,l){this.eventType=s,this.callbackContext=l}respondsTo(s){let l="children_added"===s?"child_added":s;return l="children_removed"===l?"child_removed":l,this.eventType===l}createCancelEvent(s,l){return this.callbackContext.hasCancelCallback?new Ff(this,s,l):null}createEvent(s,l){(0,Oe.hu)(null!=s.childName,"Child events should have a childName.");const p=xl(new wl(l._repo,l._path),s.childName),E=l._queryParams.getIndex();return new pm(s.type,this,new ta(s.snapshotNode,p,E),s.prevName)}getEventRunner(s){return"cancel"===s.getEventType()?()=>this.callbackContext.onCancel(s.error):()=>this.callbackContext.onValue(s.snapshot,s.prevName)}matches(s){return s instanceof qc&&this.eventType===s.eventType&&(!this.callbackContext||!s.callbackContext||this.callbackContext.matches(s.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function Ed(u,s,l,p,E){let P;if("object"==typeof p&&(P=void 0,E=p),"function"==typeof p&&(P=p),E&&E.onlyOnce){const we=l,Ve=($t,Xt)=>{Ie(u._repo,u,te),we($t,Xt)};Ve.userCallback=l.userCallback,Ve.context=l.context,l=Ve}const z=new mh(l,P||void 0),te="value"===s?new Mc(z):new qc(s,z);return function K(u,s,l){let p;p=".info"===pi(s._path)?zs(u.infoSyncTree_,s,l):zs(u.serverSyncTree_,s,l),hu(u.eventQueue_,s._path,p)}(u._repo,u,te),()=>Ie(u._repo,u,te)}function qu(u,s,l,p){return Ed(u,"value",s,l,p)}function wd(u,s,l,p){return Ed(u,"child_added",s,l,p)}function ym(u,s,l,p){return Ed(u,"child_changed",s,l,p)}function bh(u,s,l,p){return Ed(u,"child_moved",s,l,p)}function Zc(u,s,l,p){return Ed(u,"child_removed",s,l,p)}function yc(u,s,l){let p=null;const E=l?new mh(l):null;"value"===s?p=new Mc(E):s&&(p=new qc(s,E)),Ie(u._repo,u,p)}class rl{}class Id extends rl{constructor(s,l){super(),this._value=s,this._key=l}_apply(s){tl("endAt",this._value,s._path,!0);const l=Ts(s._queryParams,this._value,this._key);if(yh(l),xc(l),s._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new El(s._repo,s._path,l,s._orderByCalled)}}class _u extends rl{constructor(s,l){super(),this._value=s,this._key=l}_apply(s){tl("endBefore",this._value,s._path,!1);const l=function gl(u,s,l){let p;return p=Ts(u,s,u.index_===ks||l?l:ri),p.endBeforeSet_=!0,p}(s._queryParams,this._value,this._key);if(yh(l),xc(l),s._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new El(s._repo,s._path,l,s._orderByCalled)}}class Bf extends rl{constructor(s,l){super(),this._value=s,this._key=l}_apply(s){tl("startAt",this._value,s._path,!0);const l=Qo(s._queryParams,this._value,this._key);if(yh(l),xc(l),s._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new El(s._repo,s._path,l,s._orderByCalled)}}class Qp extends rl{constructor(s,l){super(),this._value=s,this._key=l}_apply(s){tl("startAfter",this._value,s._path,!1);const l=function za(u,s,l){let p;return p=Qo(u,s,u.index_===ks||l?l:oi),p.startAfterSet_=!0,p}(s._queryParams,this._value,this._key);if(yh(l),xc(l),s._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new El(s._repo,s._path,l,s._orderByCalled)}}class Py extends rl{constructor(s){super(),this._limit=s}_apply(s){if(s._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new El(s._repo,s._path,function Na(u,s){const l=u.copy();return l.limitSet_=!0,l.limit_=s,l.viewFrom_="l",l}(s._queryParams,this._limit),s._orderByCalled)}}class bo extends rl{constructor(s){super(),this._limit=s}_apply(s){if(s._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new El(s._repo,s._path,function ja(u,s){const l=u.copy();return l.limitSet_=!0,l.limit_=s,l.viewFrom_="r",l}(s._queryParams,this._limit),s._orderByCalled)}}class Jp extends rl{constructor(s){super(),this._path=s}_apply(s){Oa(s,"orderByChild");const l=new Vr(this._path);if(hr(l))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const p=new hi(l),E=Fa(s._queryParams,p);return xc(E),new El(s._repo,s._path,E,!0)}}class Vf extends rl{_apply(s){Oa(s,"orderByKey");const l=Fa(s._queryParams,ks);return xc(l),new El(s._repo,s._path,l,!0)}}class eg extends rl{_apply(s){Oa(s,"orderByPriority");const l=Fa(s._queryParams,ae);return xc(l),new El(s._repo,s._path,l,!0)}}class bu extends rl{_apply(s){Oa(s,"orderByValue");const l=Fa(s._queryParams,qi);return xc(l),new El(s._repo,s._path,l,!0)}}class Dd extends rl{constructor(s,l){super(),this._value=s,this._key=l}_apply(s){if(tl("equalTo",this._value,s._path,!1),s._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(s._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new Id(this._value,this._key)._apply(new Bf(this._value,this._key)._apply(s))}}function Ml(u,...s){let l=(0,Oe.m9)(u);for(const p of s)l=p._apply(l);return l}(function y(u){(0,Oe.hu)(!vo,"__referenceConstructor has already been defined"),vo=u})(wl),function dn(u){(0,Oe.hu)(!qt,"__referenceConstructor has already been defined"),qt=u}(wl);const jf={};function rg(u,s,l,p,E){let P=p||u.options.databaseURL;void 0===P&&(u.options.projectId||Zn("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),$r("Using default host for project ",u.options.projectId),P=`${u.options.projectId}-default-rtdb.firebaseio.com`);let we,Ve,z=Ac(P,E),te=z.repoInfo;typeof process<"u"&&process.env&&(Ve=process.env.FIREBASE_DATABASE_EMULATOR_HOST),Ve?(we=!0,P=`http://${Ve}?ns=${te.namespace}`,z=Ac(P,E),te=z.repoInfo):we=!z.repoInfo.secure;const $t=E&&we?new xt(xt.OWNER):new qe(u.name,u.options,s);du("Invalid Firebase Database URL",z),hr(z.path)||Zn("Database URL must point to the root of a Firebase Database (not including a child path).");const Xt=function ig(u,s,l,p){let E=jf[s.name];E||(E={},jf[s.name]=E);let P=E[u.toURLString()];return P&&Zn("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),P=new pu(u,false,l,p),E[u.toURLString()]=P,P}(te,u,$t,new oe(u.name,l));return new Ih(Xt,u)}class Ih{constructor(s,l){this._repoInternal=s,this.app=l,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function zc(u,s,l){if(u.stats_=Yr(u.repoInfo_),u.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)u.server_=new M(u.repoInfo_,(p,E,P,z)=>{gu(u,p,E,P,z)},u.authTokenProvider_,u.appCheckProvider_),setTimeout(()=>mc(u,!0),0);else{if(typeof l<"u"&&null!==l){if("object"!=typeof l)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,Oe.Wl)(l)}catch(p){throw new Error("Invalid authOverride provided: "+p)}}u.persistentConnection_=new Us(u.repoInfo_,s,(p,E,P,z)=>{gu(u,p,E,P,z)},p=>{mc(u,p)},p=>{!function vd(u,s){xe(s,(l,p)=>{mu(u,l,p)})}(u,p)},u.authTokenProvider_,u.appCheckProvider_,l),u.server_=u.persistentConnection_}u.authTokenProvider_.addTokenChangeListener(p=>{u.server_.refreshAuthToken(p)}),u.appCheckProvider_.addTokenChangeListener(p=>{u.server_.refreshAppCheckToken(p.token)}),u.statsReporter_=function jr(u,s){const l=u.toString();return Ri[l]||(Ri[l]=s()),Ri[l]}(u.repoInfo_,()=>new vi(u.stats_,u.server_)),u.infoData_=new X,u.infoSyncTree_=new Fn({startListening:(p,E,P,z)=>{let te=[];const we=u.infoData_.getNode(p._path);return we.isEmpty()||(te=or(u.infoSyncTree_,p._path,we),setTimeout(()=>{z("ok")},0)),te},stopListening:()=>{}}),mu(u,"connected",!1),u.serverSyncTree_=new Fn({startListening:(p,E,P,z)=>(u.server_.listen(p,P,E,(te,we)=>{const Ve=z(te,we);nl(u.eventQueue_,p._path,Ve)}),[]),stopListening:(p,E)=>{u.server_.unlisten(p,E)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new wl(this._repo,Di())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function Hf(u,s){const l=jf[s];(!l||l[u.key]!==u)&&Zn(`Database ${s}(${u.repoInfo_}) has already been deleted.`),We(u),delete l[u.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(s){null===this._rootInternal&&Zn("Cannot call "+s+" on a deleted database.")}}function sg(){Hn.IS_TRANSPORT_INITIALIZED&&rr("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function og(){sg(),ye.forceDisallow()}function Sd(){sg(),Ln.forceDisallow(),ye.forceAllow()}function Gf(u,s){br(u,s)}const Sh={".sv":"timestamp"};class ag{constructor(s,l){this.committed=s,this.snapshot=l}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}Us.prototype.simpleListen=function(u,s){this.sendRequest("q",{p:u},s)},Us.prototype.echo=function(u,s){this.sendRequest("echo",{d:u},s)},function _m(u){tr(ln.SDK_VERSION),(0,ln._registerComponent)(new Pt.wA("database",(s,{instanceIdentifier:l})=>rg(s.getProvider("app").getImmediate(),s.getProvider("auth-internal"),s.getProvider("app-check-internal"),l),"PUBLIC").setMultipleInstances(!0)),(0,ln.registerVersion)(wt,"0.14.4",u),(0,ln.registerVersion)(wt,"0.14.4","esm2017")}();const Iv=new rn.Yd("@firebase/database-compat"),xd=function(u){Iv.warn("FIREBASE WARNING: "+u)};class Md{constructor(s){this._delegate=s}cancel(s){(0,Oe.Dv)("OnDisconnect.cancel",0,1,arguments.length),(0,Oe.Wj)("OnDisconnect.cancel","onComplete",s,!0);const l=this._delegate.cancel();return s&&l.then(()=>s(null),p=>s(p)),l}remove(s){(0,Oe.Dv)("OnDisconnect.remove",0,1,arguments.length),(0,Oe.Wj)("OnDisconnect.remove","onComplete",s,!0);const l=this._delegate.remove();return s&&l.then(()=>s(null),p=>s(p)),l}set(s,l){(0,Oe.Dv)("OnDisconnect.set",1,2,arguments.length),(0,Oe.Wj)("OnDisconnect.set","onComplete",l,!0);const p=this._delegate.set(s);return l&&p.then(()=>l(null),E=>l(E)),p}setWithPriority(s,l,p){(0,Oe.Dv)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,Oe.Wj)("OnDisconnect.setWithPriority","onComplete",p,!0);const E=this._delegate.setWithPriority(s,l);return p&&E.then(()=>p(null),P=>p(P)),E}update(s,l){if((0,Oe.Dv)("OnDisconnect.update",1,2,arguments.length),Array.isArray(s)){const E={};for(let P=0;P<s.length;++P)E[""+P]=s[P];s=E,xd("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,Oe.Wj)("OnDisconnect.update","onComplete",l,!0);const p=this._delegate.update(s);return l&&p.then(()=>l(null),E=>l(E)),p}}class Pd{constructor(s,l){this.committed=s,this.snapshot=l}toJSON(){return(0,Oe.Dv)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}class vc{constructor(s,l){this._database=s,this._delegate=l}val(){return(0,Oe.Dv)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return(0,Oe.Dv)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return(0,Oe.Dv)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return(0,Oe.Dv)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(s){return(0,Oe.Dv)("DataSnapshot.child",0,1,arguments.length),s=String(s),tc("DataSnapshot.child","path",s,!1),new vc(this._database,this._delegate.child(s))}hasChild(s){return(0,Oe.Dv)("DataSnapshot.hasChild",1,1,arguments.length),tc("DataSnapshot.hasChild","path",s,!1),this._delegate.hasChild(s)}getPriority(){return(0,Oe.Dv)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(s){return(0,Oe.Dv)("DataSnapshot.forEach",1,1,arguments.length),(0,Oe.Wj)("DataSnapshot.forEach","action",s,!1),this._delegate.forEach(l=>s(new vc(this._database,l)))}hasChildren(){return(0,Oe.Dv)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return(0,Oe.Dv)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return(0,Oe.Dv)("DataSnapshot.ref",0,0,arguments.length),new Il(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class Ka{constructor(s,l){this.database=s,this._delegate=l}on(s,l,p,E){var P;(0,Oe.Dv)("Query.on",2,4,arguments.length),(0,Oe.Wj)("Query.on","callback",l,!1);const z=Ka.getCancelAndContextArgs_("Query.on",p,E),te=(Ve,$t)=>{l.call(z.context,new vc(this.database,Ve),$t)};te.userCallback=l,te.context=z.context;const we=null===(P=z.cancel)||void 0===P?void 0:P.bind(z.context);switch(s){case"value":return qu(this._delegate,te,we),l;case"child_added":return wd(this._delegate,te,we),l;case"child_removed":return Zc(this._delegate,te,we),l;case"child_changed":return ym(this._delegate,te,we),l;case"child_moved":return bh(this._delegate,te,we),l;default:throw new Error((0,Oe.gK)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(s,l,p){if((0,Oe.Dv)("Query.off",0,3,arguments.length),function(u,s,l){if(void 0!==s)switch(s){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,Oe.gK)("Query.off","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}(0,s),(0,Oe.Wj)("Query.off","callback",l,!0),(0,Oe.lb)("Query.off","context",p,!0),l){const E=()=>{};E.userCallback=l,E.context=p,yc(this._delegate,s,E)}else yc(this._delegate,s)}get(){return pa(this._delegate).then(s=>new vc(this.database,s))}once(s,l,p,E){(0,Oe.Dv)("Query.once",1,4,arguments.length),(0,Oe.Wj)("Query.once","callback",l,!0);const P=Ka.getCancelAndContextArgs_("Query.once",p,E),z=new Oe.BH,te=(Ve,$t)=>{const Xt=new vc(this.database,Ve);l&&l.call(P.context,Xt,$t),z.resolve(Xt)};te.userCallback=l,te.context=P.context;const we=Ve=>{P.cancel&&P.cancel.call(P.context,Ve),z.reject(Ve)};switch(s){case"value":qu(this._delegate,te,we,{onlyOnce:!0});break;case"child_added":wd(this._delegate,te,we,{onlyOnce:!0});break;case"child_removed":Zc(this._delegate,te,we,{onlyOnce:!0});break;case"child_changed":ym(this._delegate,te,we,{onlyOnce:!0});break;case"child_moved":bh(this._delegate,te,we,{onlyOnce:!0});break;default:throw new Error((0,Oe.gK)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return z.promise}limitToFirst(s){return(0,Oe.Dv)("Query.limitToFirst",1,1,arguments.length),new Ka(this.database,Ml(this._delegate,function ka(u){if("number"!=typeof u||Math.floor(u)!==u||u<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new Py(u)}(s)))}limitToLast(s){return(0,Oe.Dv)("Query.limitToLast",1,1,arguments.length),new Ka(this.database,Ml(this._delegate,function $f(u){if("number"!=typeof u||Math.floor(u)!==u||u<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new bo(u)}(s)))}orderByChild(s){return(0,Oe.Dv)("Query.orderByChild",1,1,arguments.length),new Ka(this.database,Ml(this._delegate,function Eh(u){if("$key"===u)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===u)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===u)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return tc("orderByChild","path",u,!1),new Jp(u)}(s)))}orderByKey(){return(0,Oe.Dv)("Query.orderByKey",0,0,arguments.length),new Ka(this.database,Ml(this._delegate,function vm(){return new Vf}()))}orderByPriority(){return(0,Oe.Dv)("Query.orderByPriority",0,0,arguments.length),new Ka(this.database,Ml(this._delegate,function tg(){return new eg}()))}orderByValue(){return(0,Oe.Dv)("Query.orderByValue",0,0,arguments.length),new Ka(this.database,Ml(this._delegate,function Uf(){return new bu}()))}startAt(s=null,l){return(0,Oe.Dv)("Query.startAt",0,2,arguments.length),new Ka(this.database,Ml(this._delegate,function Xp(u=null,s){return Al("startAt","key",s,!0),new Bf(u,s)}(s,l)))}startAfter(s=null,l){return(0,Oe.Dv)("Query.startAfter",0,2,arguments.length),new Ka(this.database,Ml(this._delegate,function My(u,s){return Al("startAfter","key",s,!0),new Qp(u,s)}(s,l)))}endAt(s=null,l){return(0,Oe.Dv)("Query.endAt",0,2,arguments.length),new Ka(this.database,Ml(this._delegate,function Zp(u,s){return Al("endAt","key",s,!0),new Id(u,s)}(s,l)))}endBefore(s=null,l){return(0,Oe.Dv)("Query.endBefore",0,2,arguments.length),new Ka(this.database,Ml(this._delegate,function Cd(u,s){return Al("endBefore","key",s,!0),new _u(u,s)}(s,l)))}equalTo(s,l){return(0,Oe.Dv)("Query.equalTo",1,2,arguments.length),new Ka(this.database,Ml(this._delegate,function wh(u,s){return Al("equalTo","key",s,!0),new Dd(u,s)}(s,l)))}toString(){return(0,Oe.Dv)("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return(0,Oe.Dv)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(s){if((0,Oe.Dv)("Query.isEqual",1,1,arguments.length),!(s instanceof Ka))throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");return this._delegate.isEqual(s._delegate)}static getCancelAndContextArgs_(s,l,p){const E={cancel:void 0,context:void 0};if(l&&p)E.cancel=l,(0,Oe.Wj)(s,"cancel",E.cancel,!0),E.context=p,(0,Oe.lb)(s,"context",E.context,!0);else if(l)if("object"==typeof l&&null!==l)E.context=l;else{if("function"!=typeof l)throw new Error((0,Oe.gK)(s,"cancelOrContext")+" must either be a cancel callback or a context object.");E.cancel=l}return E}get ref(){return new Il(this.database,new wl(this._delegate._repo,this._delegate._path))}}class Il extends Ka{constructor(s,l){super(s,new El(l._repo,l._path,new ya,!1)),this.database=s,this._delegate=l}getKey(){return(0,Oe.Dv)("Reference.key",0,0,arguments.length),this._delegate.key}child(s){return(0,Oe.Dv)("Reference.child",1,1,arguments.length),"number"==typeof s&&(s=String(s)),new Il(this.database,xl(this._delegate,s))}getParent(){(0,Oe.Dv)("Reference.parent",0,0,arguments.length);const s=this._delegate.parent;return s?new Il(this.database,s):null}getRoot(){return(0,Oe.Dv)("Reference.root",0,0,arguments.length),new Il(this.database,this._delegate.root)}set(s,l){(0,Oe.Dv)("Reference.set",1,2,arguments.length),(0,Oe.Wj)("Reference.set","onComplete",l,!0);const p=vh(this._delegate,s);return l&&p.then(()=>l(null),E=>l(E)),p}update(s,l){if((0,Oe.Dv)("Reference.update",1,2,arguments.length),Array.isArray(s)){const E={};for(let P=0;P<s.length;++P)E[""+P]=s[P];s=E,xd("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Ga("Reference.update",this._delegate._path),(0,Oe.Wj)("Reference.update","onComplete",l,!0);const p=xy(this._delegate,s);return l&&p.then(()=>l(null),E=>l(E)),p}setWithPriority(s,l,p){(0,Oe.Dv)("Reference.setWithPriority",2,3,arguments.length),(0,Oe.Wj)("Reference.setWithPriority","onComplete",p,!0);const E=function mm(u,s,l){if(Ga("setWithPriority",u._path),tl("setWithPriority",s,u._path,!1),Po("setWithPriority",l,!1),".length"===u.key||".keys"===u.key)throw"setWithPriority failed: "+u.key+" is a read-only object.";const p=new Oe.BH;return Gc(u._repo,u._path,s,l,p.wrapCallback(()=>{})),p.promise}(this._delegate,s,l);return p&&E.then(()=>p(null),P=>p(P)),E}remove(s){(0,Oe.Dv)("Reference.remove",0,1,arguments.length),(0,Oe.Wj)("Reference.remove","onComplete",s,!0);const l=function gm(u){return Ga("remove",u._path),vh(u,null)}(this._delegate);return s&&l.then(()=>s(null),p=>s(p)),l}transaction(s,l,p){(0,Oe.Dv)("Reference.transaction",1,3,arguments.length),(0,Oe.Wj)("Reference.transaction","transactionUpdate",s,!1),(0,Oe.Wj)("Reference.transaction","onComplete",l,!0),function(u,s,l,p){if(void 0!==l&&"boolean"!=typeof l)throw new Error((0,Oe.gK)("Reference.transaction","applyLocally")+"must be a boolean.")}(0,0,p);const E=function Eu(u,s,l){var p;if(u=(0,Oe.m9)(u),Ga("Reference.transaction",u._path),".length"===u.key||".keys"===u.key)throw"Reference.transaction failed: "+u.key+" is a read-only object.";const E=null===(p=null==l?void 0:l.applyLocally)||void 0===p||p,P=new Oe.BH,te=qu(u,()=>{});return function ti(u,s,l,p,E,P){xn(u,"transaction on "+s);const z={path:s,update:l,onComplete:p,status:null,order:Wr(),applyLocally:P,retryCount:0,unwatcher:E,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},te=Mi(u,s,void 0);z.currentInputSnapshot=te;const we=z.update(te.val());if(void 0===we)z.unwatcher(),z.currentOutputSnapshotRaw=null,z.currentOutputSnapshotResolved=null,z.onComplete&&z.onComplete(null,!1,z.currentInputSnapshot);else{Wu("transaction failed: Data returned ",we,z.path),z.status=0;const Ve=Jl(u.transactionQueueTree_,s),$t=el(Ve)||[];let Xt;$t.push(z),Vc(Ve,$t),"object"==typeof we&&null!==we&&(0,Oe.r3)(we,".priority")?(Xt=(0,Oe.DV)(we,".priority"),(0,Oe.hu)(uu(Xt),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):Xt=(gs(u.serverSyncTree_,s)||Ht.EMPTY_NODE).getPriority().val();const gn=Hc(u),Rn=Tr(we,Xt),jn=gc(Rn,te,gn);z.currentOutputSnapshotRaw=Rn,z.currentOutputSnapshotResolved=jn,z.currentWriteId=Wc(u);const fr=cr(u.serverSyncTree_,s,jn,z.currentWriteId,z.applyLocally);nl(u.eventQueue_,s,fr),_s(u,u.transactionQueueTree_)}}(u._repo,u._path,s,(we,Ve,$t)=>{let Xt=null;we?P.reject(we):(Xt=new ta($t,new wl(u._repo,u._path),ae),P.resolve(new ag(Ve,Xt)))},te,E),P.promise}(this._delegate,s,{applyLocally:p}).then(P=>new Pd(P.committed,new vc(this.database,P.snapshot)));return l&&E.then(P=>l(null,P.committed,P.snapshot),P=>l(P,!1,null)),E}setPriority(s,l){(0,Oe.Dv)("Reference.setPriority",1,2,arguments.length),(0,Oe.Wj)("Reference.setPriority","onComplete",l,!0);const p=function _h(u,s){u=(0,Oe.m9)(u),Ga("setPriority",u._path),Po("setPriority",s,!1);const l=new Oe.BH;return Gc(u._repo,Ai(u._path,".priority"),s,null,l.wrapCallback(()=>{})),l.promise}(this._delegate,s);return l&&p.then(()=>l(null),E=>l(E)),p}push(s,l){(0,Oe.Dv)("Reference.push",0,2,arguments.length),(0,Oe.Wj)("Reference.push","onComplete",l,!0);const p=function Yu(u,s){u=(0,Oe.m9)(u),Ga("push",u._path),tl("push",s,u._path,!0);const l=gh(u._repo),p=Is(l),E=xl(u,p),P=xl(u,p);let z;return z=null!=s?vh(P,s).then(()=>P):Promise.resolve(P),E.then=z.then.bind(z),E.catch=z.then.bind(z,void 0),E}(this._delegate,s),E=p.then(z=>new Il(this.database,z));l&&E.then(()=>l(null),z=>l(z));const P=new Il(this.database,p);return P.then=E.then.bind(E),P.catch=E.catch.bind(E,void 0),P}onDisconnect(){return Ga("Reference.onDisconnect",this._delegate._path),new Md(new qp(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}class Rd{constructor(s,l){this._delegate=s,this.app=l,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets:og,forceLongPolling:Sd}}useEmulator(s,l,p={}){!function Ch(u,s,l,p={}){(u=(0,Oe.m9)(u))._checkNotDeleted("useEmulator"),u._instanceStarted&&Zn("Cannot call useEmulator() after instance has already been initialized.");const E=u._repoInternal;let P;if(E.repoInfo_.nodeAdmin)p.mockUserToken&&Zn('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),P=new xt(xt.OWNER);else if(p.mockUserToken){const z="string"==typeof p.mockUserToken?p.mockUserToken:(0,Oe.Sg)(p.mockUserToken,u.app.options.projectId);P=new xt(z)}!function ng(u,s,l,p){u.repoInfo_=new mn(`${s}:${l}`,!1,u.repoInfo_.namespace,u.repoInfo_.webSocketOnly,u.repoInfo_.nodeAdmin,u.repoInfo_.persistenceKey,u.repoInfo_.includeNamespaceInQueryParams,!0),p&&(u.authTokenProvider_=p)}(E,s,l,P)}(this._delegate,s,l,p)}ref(s){if((0,Oe.Dv)("database.ref",0,1,arguments.length),s instanceof Il){const l=Lf(this._delegate,s.toString());return new Il(this,l)}{const l=rc(this._delegate,s);return new Il(this,l)}}refFromURL(s){(0,Oe.Dv)("database.refFromURL",1,1,arguments.length);const p=Lf(this._delegate,s);return new Il(this,p)}goOffline(){return(0,Oe.Dv)("database.goOffline",0,0,arguments.length),function Dh(u){(u=(0,Oe.m9)(u))._checkNotDeleted("goOffline"),We(u._repo)}(this._delegate)}goOnline(){return(0,Oe.Dv)("database.goOnline",0,0,arguments.length),function xa(u){(u=(0,Oe.m9)(u))._checkNotDeleted("goOnline"),function an(u){u.persistentConnection_&&u.persistentConnection_.resume(Ku)}(u._repo)}(this._delegate)}}Rd.ServerValue={TIMESTAMP:function Pc(){return Sh}(),increment:u=>function Kf(u){return{".sv":{increment:u}}}(u)};var ky=Object.freeze({__proto__:null,initStandalone:function Em({app:u,url:s,version:l,customAuthImpl:p,namespace:E,nodeAdmin:P=!1}){tr(l);const z=new Pt.zt("auth-internal",new Pt.H0("database-standalone"));return z.setComponent(new Pt.wA("auth-internal",()=>p,"PRIVATE")),{instance:new Rd(rg(u,z,void 0,s,P),u),namespace:E}}});const wu=Rd.ServerValue;!function Od(u){u.INTERNAL.registerComponent(new Pt.wA("database-compat",(s,{instanceIdentifier:l})=>{const p=s.getProvider("app-compat").getImmediate(),E=s.getProvider("database").getImmediate({identifier:l});return new Rd(E,p)},"PUBLIC").setServiceProps({Reference:Il,Query:Ka,Database:Rd,DataSnapshot:vc,enableLogging:Gf,INTERNAL:ky,ServerValue:wu}).setMultipleInstances(!0)),u.registerVersion("@firebase/database-compat","0.3.4")}(jt.Z);var wm=H(2313),Yf=H(9260);function cg(u){return null==u}function Ny(u){return"function"==typeof u.set}function Im(u,s){return Ny(s)?s:u.ref(s)}function qf(u,s){if(function Xc(u){return"string"==typeof u}(u))return s.stringCase();if(Ny(u))return s.firebaseCase();if(function Wl(u){return"function"==typeof u.exportVal}(u))return s.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof u)}function Rc(u,s,l="on",p=Lt.z){return new Rt.y(E=>{let P=null;return P=u[l](s,(z,te)=>{p.schedule(()=>{E.next({snapshot:z,prevKey:te})}),"once"===l&&p.schedule(()=>E.complete())},z=>{p.schedule(()=>E.error(z))}),"on"===l?{unsubscribe(){null!=P&&u.off(s,P)}}:{unsubscribe(){}}}).pipe((0,Tt.U)(E=>{const{snapshot:P,prevKey:z}=E;let te=null;return P.exists()&&(te=P.key),{type:s,payload:P,prevKey:z,key:te}}),(0,Dt.B)())}function Qc(u,s){const l=u.length;for(let p=0;p<l;p++)if(u[p].payload.key===s)return p;return-1}function Cm(u,s){const{payload:l,prevKey:p,key:E}=s,P=Qc(u,E),z=function Ah(u,s){if(cg(s))return 0;{const l=Qc(u,s);return-1===l?u.length:l+1}}(u,p);switch(s.type){case"value":if(s.payload&&s.payload.exists()){let te=null;s.payload.forEach(we=>{const Ve={payload:we,type:"value",prevKey:te,key:we.key};return te=we.key,u=[...u,Ve],!1})}return u;case"child_added":if(P>-1){const te=u[P-1];(te&&te.key||null)!==p&&(u=u.filter(we=>we.payload.key!==l.key)).splice(z,0,s)}else{if(null==p)return[s,...u];(u=u.slice()).splice(z,0,s)}return u;case"child_removed":return u.filter(te=>te.payload.key!==l.key);case"child_changed":return u.map(te=>te.payload.key===E?s:te);case"child_moved":if(P>-1){const te=u.splice(P,1)[0];return(u=u.slice()).splice(z,0,te),u}return u;default:return u}}function Zf(u){return(cg(u)||0===u.length)&&(u=["child_added","child_removed","child_changed","child_moved"]),u}function Xf(u,s,l){return function kd(u,s,l){return Rc(u,"value","once",l).pipe((0,vt.w)(p=>{const E=[(0,ht.of)(p)];return s.forEach(P=>E.push(Rc(u,P,"on",l))),(0,Ct.T)(...E).pipe((0,it.R)(Cm,[]))}),(0,Gt.x)())}(u,s=Zf(s),l)}function xh(u,s,l){const p=(s=Zf(s)).map(E=>Rc(u,E,"on",l));return(0,Ct.T)(...p)}function Qf(u,s){return function(p,E){return qf(p,{stringCase:()=>u.child(p)[s](E),firebaseCase:()=>p[s](E),snapshotCase:()=>p.ref[s](E)})}}function Ph(u){return function(l){return l?qf(l,{stringCase:()=>u.child(l).remove(),firebaseCase:()=>l.remove(),snapshotCase:()=>l.ref.remove()}):u.remove()}}function Xu(u,s){return function(){return Rc(u,"value","on",s)}}const ep=new v.OlP("angularfire2.realtimeDatabaseURL"),dg=new v.OlP("angularfire2.database.use-emulator");let Dv=(()=>{class u{constructor(l,p,E,P,z,te,we,Ve,$t,Xt,gn,Rn,jn,fr,fi){this.schedulers=te;const ts=we,Eo=(0,He.on)(l,z,p);Ve&&(0,$e.nw)(Eo,z,$t,gn,Rn,jn,Xt,fr),this.database=(0,He.cc)(`${Eo.name}.database.${E}`,"AngularFireDatabase",Eo.name,()=>{const Ca=z.runOutsideAngular(()=>Eo.database(E||void 0));return ts&&Ca.useEmulator(...ts),Ca},[ts])}list(l,p){const E=this.schedulers.ngZone.runOutsideAngular(()=>Im(this.database,l));let P=E;return p&&(P=p(E)),function Jf(u,s){const l=s.schedulers.outsideAngular,p=s.schedulers.ngZone.run(()=>u.ref);return{query:u,update:Qf(p,"update"),set:Qf(p,"set"),push:E=>p.push(E),remove:Ph(p),snapshotChanges:E=>Xf(u,E,l).pipe(Ge.iC),stateChanges:E=>xh(u,E,l).pipe(Ge.iC),auditTrail:E=>function Oc(u,s,l){return function ug(u,s,l){return function Mh(u,s){return Rc(u,"value","on",s).pipe((0,Tt.U)(l=>{let p;return l.payload.forEach(E=>(p=E.key,!1)),{data:l,lastKeyToLoad:p}}))}(u,l).pipe(function _t(...u){const s=(0,ut.jO)(u);return(0,St.e)((l,p)=>{const E=u.length,P=new Array(E);let z=u.map(()=>!1),te=!1;for(let we=0;we<E;we++)(0,Qt.Xf)(u[we]).subscribe((0,kt.x)(p,Ve=>{P[we]=Ve,!te&&!z[we]&&(z[we]=!0,(te=z.every(Ae.y))&&(z=null))},Je.Z));l.subscribe((0,kt.x)(p,we=>{if(te){const Ve=[we,...P];p.next(s?s(...Ve):Ve)}}))})}(s),(0,Tt.U)(([E,P])=>{const z=E.lastKeyToLoad,te=P.map(we=>we.key);return{actions:P,lastKeyToLoad:z,loadedKeys:te}}),function tt(u){return(0,St.e)((s,l)=>{let p=!1,E=0;s.subscribe((0,kt.x)(l,P=>(p||(p=!u(P,E++)))&&l.next(P)))})}(E=>-1===E.loadedKeys.indexOf(E.lastKeyToLoad)),(0,Tt.U)(E=>E.actions))}(u,xh(u,s).pipe((0,it.R)((E,P)=>[...E,P],[])),l)}(u,E,l).pipe(Ge.iC),valueChanges:(E,P)=>Xf(u,E,l).pipe((0,Tt.U)(te=>te.map(we=>P&&P.idField?Object.assign(Object.assign({},we.payload.val()),{[P.idField]:we.key}):we.payload.val())),Ge.iC)}}(P,this)}object(l){return function Cv(u,s){return{query:u,snapshotChanges:()=>Xu(u,s.schedulers.outsideAngular)().pipe(Ge.iC),update:l=>u.ref.update(l),set:l=>u.ref.set(l),remove:()=>u.ref.remove(),valueChanges:()=>Xu(u,s.schedulers.outsideAngular)().pipe(Ge.iC,(0,Tt.U)(p=>p.payload.exists()?p.payload.val():null))}}(this.schedulers.ngZone.runOutsideAngular(()=>Im(this.database,l)),this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}}return u.\u0275fac=function(l){return new(l||u)(v.LFG(He.Dh),v.LFG(He.xv,8),v.LFG(ep,8),v.LFG(v.Lbi),v.LFG(v.R0b),v.LFG(Ge.HU),v.LFG(dg,8),v.LFG($e.zQ,8),v.LFG($e.Qv,8),v.LFG($e.L6,8),v.LFG($e._Q,8),v.LFG($e.rT,8),v.LFG($e.lh,8),v.LFG($e.f7,8),v.LFG(wm.nm,8))},u.\u0275prov=v.Yz7({token:u,factory:u.\u0275fac,providedIn:"any"}),u})(),Sv=(()=>{class u{constructor(){Yf.Z.registerVersion("angularfire",Ge.q4.full,"rtdb-compat")}}return u.\u0275fac=function(l){return new(l||u)},u.\u0275mod=v.oAB({type:u}),u.\u0275inj=v.cJS({providers:[Dv]}),u})();var Nd=H(515),Qu=H(5363),Iu=H(3151),Dm=H(5132),Sm=H(9300),hg=H(7579);var fg=H(5577),Rh=H(8675),Tm=H(1520),ga=H(3692);H(259);const rp="firebase_screen_id",Om="outlet",Pl="screen_class",ip="screen_name";let sp=Math.floor(Math.random()*(Math.pow(2,32)-1))-Math.pow(2,31);const Fd={},op=u=>{const s=[u[Pl],u[Om]].join("#");if(Fd.hasOwnProperty(s))return Fd[s];{const l=sp++;return Fd[s]=l,l}},Nm=new v.OlP("angularfire2.analytics.analyticsCollectionEnabled"),Vy=new v.OlP("angularfire2.analytics.appVersion"),bg=new v.OlP("angularfire2.analytics.appName"),up=new v.OlP("angularfire2.analytics.debugMode"),Ya=new v.OlP("angularfire2.analytics.config"),hp="dataLayer";let Tu=(()=>{class u{constructor(l,p,E,P,z,te,we,Ve,$t){if(this.analyticsInitialized=new Promise(()=>{}),(0,Be.NF)(we)){window[hp]=window[hp]||[];const gn=(...fr)=>"config"===fr[0]&&"firebase"===fr[2].origin&&(this.measurementId=fr[1],!0),Rn=fr=>{window.gtag=(...fi)=>{fr&&fr(...fi),"event"===fi[0]&&fi[2].send_to===this.measurementId&&(P&&(fi[2].app_name=P),E&&(fi[2].app_version=E)),z&&typeof console<"u"&&console.info(...fi),function(...ts){window[hp].push(arguments)}(...fi)}};window[hp].some(gn)?(this.analyticsInitialized=Promise.resolve(),Rn()):this.analyticsInitialized=new Promise(fr=>{Rn((...fi)=>{gn(...fi)&&fr()})}),te&&this.updateConfig(te),z&&this.updateConfig({debug_mode:1})}else this.analyticsInitialized=Promise.resolve();const Xt=(0,ht.of)(void 0).pipe((0,Qu.Q)($t.outsideAngular),(0,vt.w)(Dm.Gb),(0,vt.w)(gn=>gn?Ve.runOutsideAngular(()=>H.e(3814).then(H.bind(H,3814))):Nd.E),(0,Tt.U)(()=>(0,He.cc)("analytics","AngularFireAnalytics",l.name,()=>{const gn=l.analytics();return!1===p&&gn.setAnalyticsCollectionEnabled(!1),gn},[l,p,te,z])),(0,Iu.d)({bufferSize:1,refCount:!1}));return(0,He.pX)(this,Xt,Ve)}updateConfig(l){return(0,Ke.mG)(this,void 0,void 0,function*(){yield this.analyticsInitialized,window.gtag("config",this.measurementId,Object.assign(Object.assign({},l),{update:!0}))})}}return u.\u0275fac=function(l){return new(l||u)(v.LFG(He.Ot),v.LFG(Nm,8),v.LFG(Vy,8),v.LFG(bg,8),v.LFG(up,8),v.LFG(Ya,8),v.LFG(v.Lbi),v.LFG(v.R0b),v.LFG(Ge.HU))},u.\u0275prov=v.Yz7({token:u,factory:u.\u0275fac,providedIn:"any"}),u})(),jy=(()=>{class u{constructor(l,p,E,P){if(this.disposables=[],Yf.Z.registerVersion("angularfire",Ge.q4.full,"compat-user-tracking"),(0,Be.PM)(p))this.initialized=Promise.resolve();else{let z;this.initialized=P.runOutsideAngular(()=>new Promise(te=>z=te)),this.disposables=[E.authState.subscribe(te=>{l.setUserId(null==te?void 0:te.uid),z()}),E.credential.subscribe(te=>{if(te){const we=te.user.isAnonymous?"anonymous":te.additionalUserInfo.providerId;te.additionalUserInfo.isNewUser&&l.logEvent("sign_up",{method:we}),l.logEvent("login",{method:we})}})]}}ngOnDestroy(){this.disposables.forEach(l=>l.unsubscribe())}}return u.\u0275fac=function(l){return new(l||u)(v.LFG(Tu),v.LFG(v.Lbi),v.LFG($e.zQ),v.LFG(v.R0b))},u.\u0275prov=v.Yz7({token:u,factory:u.\u0275fac}),u})(),$d=(()=>{class u{constructor(l,p,E,P,z,te){if(Yf.Z.registerVersion("angularfire",Ge.q4.full,"compat-screen-tracking"),!p||!l)return this;z.runOutsideAngular(()=>{this.disposable=((u,s,l)=>u.events.pipe((0,Sm.h)(E=>E instanceof ve.jw)).pipe((0,vt.w)(E=>{var P;const te=(null===(P=u.parseUrl(u.url.replace(/(?:\().+(?:\))/g,Rn=>Rn.replace("://",":///"))).root.children[E.snapshot.outlet])||void 0===P?void 0:P.toString())||"",we=u.routerState.root.children.map(Rn=>Rn).find(Rn=>Rn.outlet===E.snapshot.outlet);if(!we)return(0,ht.of)(null);let Ve=we;for(;Ve.firstChild;)Ve=Ve.firstChild;const $t=Ve.pathFromRoot.map(Rn=>{var jn;return null===(jn=Rn.routeConfig)||void 0===jn?void 0:jn.path}).filter(Rn=>Rn).join("/")||"/",Xt={[ip]:$t,page_path:`/${te}`,firebase_event_origin:"auto",firebase_screen:$t,[Om]:E.snapshot.outlet};s&&(Xt.page_title=s.getTitle());let gn=we.component;if(gn){if(gn===ve.fw){let Rn=E.snapshot;for(;Rn.firstChild;)Rn=Rn.firstChild;gn=Rn.component}}else gn=E.snapshot.component;if("string"==typeof gn)return(0,ht.of)(Object.assign(Object.assign({},Xt),{[Pl]:gn}));if(gn){const Rn=l.resolveComponentFactory(gn);return(0,ht.of)(Object.assign(Object.assign({},Xt),{[Pl]:Rn.selector}))}return(0,ht.of)(null)}),(0,Sm.h)(E=>!!E),(0,Tt.U)(E=>Object.assign({firebase_screen_class:E[Pl],[rp]:op(E)},E)),function tp(u,s,l,p){return(0,St.e)((E,P)=>{let z;s&&"function"!=typeof s?({duration:l,element:z,connector:p}=s):z=s;const te=new Map,we=jn=>{te.forEach(jn),jn(P)},Ve=jn=>we(fr=>fr.error(jn));let $t=0,Xt=!1;const gn=new kt.Q(P,jn=>{try{const fr=u(jn);let fi=te.get(fr);if(!fi){te.set(fr,fi=p?p():new hg.x);const ts=function Rn(jn,fr){const fi=new Rt.y(ts=>{$t++;const Eo=fr.subscribe(ts);return()=>{Eo.unsubscribe(),0==--$t&&Xt&&gn.unsubscribe()}});return fi.key=jn,fi}(fr,fi);if(P.next(ts),l){const Eo=(0,kt.x)(fi,()=>{fi.complete(),null==Eo||Eo.unsubscribe()},void 0,void 0,()=>te.delete(fr));gn.add((0,Qt.Xf)(l(ts)).subscribe(Eo))}}fi.next(z?z(jn):jn)}catch(fr){Ve(fr)}},()=>we(jn=>jn.complete()),Ve,()=>te.clear(),()=>(Xt=!0,0===$t));E.subscribe(gn)})}(E=>E[Om]),(0,fg.z)(E=>E.pipe((0,Gt.x)((P,z)=>JSON.stringify(P)===JSON.stringify(z)),(0,Rh.O)(void 0),(0,Tm.G)(),(0,Tt.U)(([P,z])=>P?Object.assign({firebase_previous_class:P[Pl],firebase_previous_screen:P[ip],firebase_previous_id:P[rp]},z):z)))))(p,E,P).pipe((0,vt.w)(we=>(0,Ke.mG)(this,void 0,void 0,function*(){return te&&(yield te.initialized),yield l.logEvent("screen_view",we)}))).subscribe()})}ngOnDestroy(){this.disposable&&this.disposable.unsubscribe()}}return u.\u0275fac=function(l){return new(l||u)(v.LFG(Tu),v.LFG(ve.F0,8),v.LFG(d.Dx,8),v.LFG(v._Vd),v.LFG(v.R0b),v.LFG(jy,8))},u.\u0275prov=v.Yz7({token:u,factory:u.\u0275fac}),u})(),wg=(()=>{class u{constructor(l,p,E){Yf.Z.registerVersion("angularfire",Ge.q4.full,"analytics-compat"),l.app.then(()=>{})}}return u.\u0275fac=function(l){return new(l||u)(v.LFG(Tu),v.LFG($d,8),v.LFG(jy,8))},u.\u0275mod=v.oAB({type:u}),u.\u0275inj=v.cJS({providers:[Tu]}),u})();var eu=H(1085),Vd=H(377);class Au{}class Ud{}const Gl="*";function Vh(u,s=null){return{type:2,steps:u,options:s}}function Uh(u){return{type:6,styles:u,offset:null}}function pp(u){Promise.resolve().then(u)}class zd{constructor(s=0,l=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=s+l}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(s=>s()),this._onDoneFns=[])}onStart(s){this._originalOnStartFns.push(s),this._onStartFns.push(s)}onDone(s){this._originalOnDoneFns.push(s),this._onDoneFns.push(s)}onDestroy(s){this._onDestroyFns.push(s)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){pp(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(s=>s()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(s=>s()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(s){this._position=this.totalTime?s*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(s){const l="start"==s?this._onStartFns:this._onDoneFns;l.forEach(p=>p()),l.length=0}}class Cg{constructor(s){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=s;let l=0,p=0,E=0;const P=this.players.length;0==P?pp(()=>this._onFinish()):this.players.forEach(z=>{z.onDone(()=>{++l==P&&this._onFinish()}),z.onDestroy(()=>{++p==P&&this._onDestroy()}),z.onStart(()=>{++E==P&&this._onStart()})}),this.totalTime=this.players.reduce((z,te)=>Math.max(z,te.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(s=>s()),this._onDoneFns=[])}init(){this.players.forEach(s=>s.init())}onStart(s){this._onStartFns.push(s)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(s=>s()),this._onStartFns=[])}onDone(s){this._onDoneFns.push(s)}onDestroy(s){this._onDestroyFns.push(s)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(s=>s.play())}pause(){this.players.forEach(s=>s.pause())}restart(){this.players.forEach(s=>s.restart())}finish(){this._onFinish(),this.players.forEach(s=>s.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(s=>s.destroy()),this._onDestroyFns.forEach(s=>s()),this._onDestroyFns=[])}reset(){this.players.forEach(s=>s.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(s){const l=s*this.totalTime;this.players.forEach(p=>{const E=p.totalTime?Math.min(1,l/p.totalTime):1;p.setPosition(E)})}getPosition(){const s=this.players.reduce((l,p)=>null===l||p.totalTime>l.totalTime?p:l,null);return null!=s?s.getPosition():0}beforeDestroy(){this.players.forEach(s=>{s.beforeDestroy&&s.beforeDestroy()})}triggerCallback(s){const l="start"==s?this._onStartFns:this._onDoneFns;l.forEach(p=>p()),l.length=0}}const Vm="!";function gp(u){return new v.vHH(3e3,!1)}function ic(u){switch(u.length){case 0:return new zd;case 1:return u[0];default:return new Cg(u)}}function bp(u,s,l,p,E=new Map,P=new Map){const z=[],te=[];let we=-1,Ve=null;if(p.forEach($t=>{const Xt=$t.get("offset"),gn=Xt==we,Rn=gn&&Ve||new Map;$t.forEach((jn,fr)=>{let fi=fr,ts=jn;if("offset"!==fr)switch(fi=s.normalizePropertyName(fi,z),ts){case Vm:ts=E.get(fr);break;case Gl:ts=P.get(fr);break;default:ts=s.normalizeStyleValue(fr,fi,ts,z)}Rn.set(fi,ts)}),gn||te.push(Rn),Ve=Rn,we=Xt}),z.length)throw function Wd(u){return new v.vHH(3502,!1)}();return te}function Ep(u,s,l,p){switch(s){case"start":u.onStart(()=>p(l&&Xh(l,"start",u)));break;case"done":u.onDone(()=>p(l&&Xh(l,"done",u)));break;case"destroy":u.onDestroy(()=>p(l&&Xh(l,"destroy",u)))}}function Xh(u,s,l){const p=l.totalTime,P=Yd(u.element,u.triggerName,u.fromState,u.toState,s||u.phaseName,null==p?u.totalTime:p,!!l.disabled),z=u._data;return null!=z&&(P._data=z),P}function Yd(u,s,l,p,E="",P=0,z){return{element:u,triggerName:s,fromState:l,toState:p,phaseName:E,totalTime:P,disabled:!!z}}function la(u,s,l){let p=u.get(s);return p||u.set(s,p=l),p}function _c(u){const s=u.indexOf(":");return[u.substring(1,s),u.slice(s+1)]}const Mv=(()=>typeof document>"u"?null:document.documentElement)();function Qh(u){const s=u.parentNode||u.host||null;return s===Mv?null:s}let Pu=null,xg=!1;function Ip(u,s){for(;s;){if(s===u)return!0;s=Qh(s)}return!1}function Ru(u,s,l){if(l)return Array.from(u.querySelectorAll(s));const p=u.querySelector(s);return p?[p]:[]}let bs=(()=>{class u{validateStyleProperty(l){return function qm(u){Pu||(Pu=function rd(){return typeof document<"u"?document.body:null}()||{},xg=!!Pu.style&&"WebkitAppearance"in Pu.style);let s=!0;return Pu.style&&!function Pv(u){return"ebkit"==u.substring(1,6)}(u)&&(s=u in Pu.style,!s&&xg&&(s="Webkit"+u.charAt(0).toUpperCase()+u.slice(1)in Pu.style)),s}(l)}matchesElement(l,p){return!1}containsElement(l,p){return Ip(l,p)}getParentElement(l){return Qh(l)}query(l,p,E){return Ru(l,p,E)}computeStyle(l,p,E){return E||""}animate(l,p,E,P,z,te=[],we){return new zd(E,P)}}return u.\u0275fac=function(l){return new(l||u)},u.\u0275prov=v.Yz7({token:u,factory:u.\u0275fac}),u})(),Cp=(()=>{class u{}return u.NOOP=new bs,u})();const Pg=1e3,qd="ng-enter",Dp="ng-leave",Zd="ng-trigger",Jh=".ng-trigger",Sp="ng-animating",Tp=".ng-animating";function bc(u){if("number"==typeof u)return u;const s=u.match(/^(-?[\.\d]+)(m?s)/);return!s||s.length<2?0:Ap(parseFloat(s[1]),s[2])}function Ap(u,s){return"s"===s?u*Pg:u}function Xd(u,s,l){return u.hasOwnProperty("duration")?u:function xp(u,s,l){let E,P=0,z="";if("string"==typeof u){const te=u.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===te)return s.push(gp()),{duration:0,delay:0,easing:""};E=Ap(parseFloat(te[1]),te[2]);const we=te[3];null!=we&&(P=Ap(parseFloat(we),te[4]));const Ve=te[5];Ve&&(z=Ve)}else E=u;if(!l){let te=!1,we=s.length;E<0&&(s.push(function Hh(){return new v.vHH(3100,!1)}()),te=!0),P<0&&(s.push(function jm(){return new v.vHH(3101,!1)}()),te=!0),te&&s.splice(we,0,gp())}return{duration:E,delay:P,easing:z}}(u,s,l)}function Ou(u,s={}){return Object.keys(u).forEach(l=>{s[l]=u[l]}),s}function Rl(u){const s=new Map;return Object.keys(u).forEach(l=>{s.set(l,u[l])}),s}function Yl(u,s=new Map,l){if(l)for(let[p,E]of l)s.set(p,E);for(let[p,E]of u)s.set(p,E);return s}function qa(u,s,l){s.forEach((p,E)=>{const P=nf(E);l&&!l.has(E)&&l.set(E,u.style[P]),u.style[P]=p})}function ql(u,s){s.forEach((l,p)=>{const E=nf(p);u.style[E]=""})}function sc(u){return Array.isArray(u)?1==u.length?u[0]:Vh(u):u}const Mp=new RegExp("{{\\s*(.+?)\\s*}}","g");function Qd(u){let s=[];if("string"==typeof u){let l;for(;l=Mp.exec(u);)s.push(l[1]);Mp.lastIndex=0}return s}function nu(u,s,l){const p=u.toString(),E=p.replace(Mp,(P,z)=>{let te=s[z];return null==te&&(l.push(function Wh(u){return new v.vHH(3003,!1)}()),te=""),te.toString()});return E==p?u:E}function ku(u){const s=[];let l=u.next();for(;!l.done;)s.push(l.value),l=u.next();return s}const Pp=/-+([a-z0-9])/g;function nf(u){return u.replace(Pp,(...s)=>s[1].toUpperCase())}function Ol(u,s,l){switch(s.type){case 7:return u.visitTrigger(s,l);case 0:return u.visitState(s,l);case 1:return u.visitTransition(s,l);case 2:return u.visitSequence(s,l);case 3:return u.visitGroup(s,l);case 4:return u.visitAnimate(s,l);case 5:return u.visitKeyframes(s,l);case 6:return u.visitStyle(s,l);case 8:return u.visitReference(s,l);case 9:return u.visitAnimateChild(s,l);case 10:return u.visitAnimateRef(s,l);case 11:return u.visitQuery(s,l);case 12:return u.visitStagger(s,l);default:throw function td(u){return new v.vHH(3004,!1)}()}}function kg(u,s){return window.getComputedStyle(u)[s]}const Rp="*";function Zl(u,s){const l=[];return"string"==typeof u?u.split(/\s*,\s*/).forEach(p=>function Zy(u,s,l){if(":"==u[0]){const we=function Ng(u,s){switch(u){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(l,p)=>parseFloat(p)>parseFloat(l);case":decrement":return(l,p)=>parseFloat(p)<parseFloat(l);default:return s.push(function Gm(u){return new v.vHH(3016,!1)}()),"* => *"}}(u,l);if("function"==typeof we)return void s.push(we);u=we}const p=u.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==p||p.length<4)return l.push(function Gy(u){return new v.vHH(3015,!1)}()),s;const E=p[1],P=p[2],z=p[3];s.push(Fg(E,z));"<"==P[0]&&!(E==Rp&&z==Rp)&&s.push(Fg(z,E))}(p,l,s)):l.push(u),l}const rf=new Set(["true","1"]),Nu=new Set(["false","0"]);function Fg(u,s){const l=rf.has(u)||Nu.has(u),p=rf.has(s)||Nu.has(s);return(E,P)=>{let z=u==Rp||u==E,te=s==Rp||s==P;return!z&&l&&"boolean"==typeof E&&(z=E?rf.has(u):Nu.has(u)),!te&&p&&"boolean"==typeof P&&(te=P?rf.has(s):Nu.has(s)),z&&te}}const Xy=new RegExp("s*:selfs*,?","g");function sf(u,s,l,p){return new Lg(u).build(s,l,p)}class Lg{constructor(s){this._driver=s}build(s,l,p){const E=new $g(l);return this._resetContextStyleTimingState(E),Ol(this,sc(s),E)}_resetContextStyleTimingState(s){s.currentQuerySelector="",s.collectedStyles=new Map,s.collectedStyles.set("",new Map),s.currentTime=0}visitTrigger(s,l){let p=l.queryCount=0,E=l.depCount=0;const P=[],z=[];return"@"==s.name.charAt(0)&&l.errors.push(function Kh(){return new v.vHH(3006,!1)}()),s.definitions.forEach(te=>{if(this._resetContextStyleTimingState(l),0==te.type){const we=te,Ve=we.name;Ve.toString().split(/\s*,\s*/).forEach($t=>{we.name=$t,P.push(this.visitState(we,l))}),we.name=Ve}else if(1==te.type){const we=this.visitTransition(te,l);p+=we.queryCount,E+=we.depCount,z.push(we)}else l.errors.push(function Sg(){return new v.vHH(3007,!1)}())}),{type:7,name:s.name,states:P,transitions:z,queryCount:p,depCount:E,options:null}}visitState(s,l){const p=this.visitStyle(s.styles,l),E=s.options&&s.options.params||null;if(p.containsDynamicStyles){const P=new Set,z=E||{};p.styles.forEach(te=>{te instanceof Map&&te.forEach(we=>{Qd(we).forEach(Ve=>{z.hasOwnProperty(Ve)||P.add(Ve)})})}),P.size&&(ku(P.values()),l.errors.push(function mp(u,s){return new v.vHH(3008,!1)}()))}return{type:0,name:s.name,style:p,options:E?{params:E}:null}}visitTransition(s,l){l.queryCount=0,l.depCount=0;const p=Ol(this,sc(s.animation),l);return{type:1,matchers:Zl(s.expr,l.errors),animation:p,queryCount:l.queryCount,depCount:l.depCount,options:id(s.options)}}visitSequence(s,l){return{type:2,steps:s.steps.map(p=>Ol(this,p,l)),options:id(s.options)}}visitGroup(s,l){const p=l.currentTime;let E=0;const P=s.steps.map(z=>{l.currentTime=p;const te=Ol(this,z,l);return E=Math.max(E,l.currentTime),te});return l.currentTime=E,{type:3,steps:P,options:id(s.options)}}visitAnimate(s,l){const p=function Vg(u,s){if(u.hasOwnProperty("duration"))return u;if("number"==typeof u)return af(Xd(u,s).duration,0,"");const l=u;if(l.split(/\s+/).some(P=>"{"==P.charAt(0)&&"{"==P.charAt(1))){const P=af(0,0,"");return P.dynamic=!0,P.strValue=l,P}const E=Xd(l,s);return af(E.duration,E.delay,E.easing)}(s.timings,l.errors);l.currentAnimateTimings=p;let E,P=s.styles?s.styles:Uh({});if(5==P.type)E=this.visitKeyframes(P,l);else{let z=s.styles,te=!1;if(!z){te=!0;const Ve={};p.easing&&(Ve.easing=p.easing),z=Uh(Ve)}l.currentTime+=p.duration+p.delay;const we=this.visitStyle(z,l);we.isEmptyStep=te,E=we}return l.currentAnimateTimings=null,{type:4,timings:p,style:E,options:null}}visitStyle(s,l){const p=this._makeStyleAst(s,l);return this._validateStyleAst(p,l),p}_makeStyleAst(s,l){const p=[],E=Array.isArray(s.styles)?s.styles:[s.styles];for(let te of E)"string"==typeof te?te===Gl?p.push(te):l.errors.push(new v.vHH(3002,!1)):p.push(Rl(te));let P=!1,z=null;return p.forEach(te=>{if(te instanceof Map&&(te.has("easing")&&(z=te.get("easing"),te.delete("easing")),!P))for(let we of te.values())if(we.toString().indexOf("{{")>=0){P=!0;break}}),{type:6,styles:p,easing:z,offset:s.offset,containsDynamicStyles:P,options:null}}_validateStyleAst(s,l){const p=l.currentAnimateTimings;let E=l.currentTime,P=l.currentTime;p&&P>0&&(P-=p.duration+p.delay),s.styles.forEach(z=>{"string"!=typeof z&&z.forEach((te,we)=>{const Ve=l.collectedStyles.get(l.currentQuerySelector),$t=Ve.get(we);let Xt=!0;$t&&(P!=E&&P>=$t.startTime&&E<=$t.endTime&&(l.errors.push(function Yh(u,s,l,p,E){return new v.vHH(3010,!1)}()),Xt=!1),P=$t.startTime),Xt&&Ve.set(we,{startTime:P,endTime:E}),l.options&&function tf(u,s,l){const p=s.params||{},E=Qd(u);E.length&&E.forEach(P=>{p.hasOwnProperty(P)||l.push(function Dg(u){return new v.vHH(3001,!1)}())})}(te,l.options,l.errors)})})}visitKeyframes(s,l){const p={type:5,styles:[],options:null};if(!l.currentAnimateTimings)return l.errors.push(function Hm(){return new v.vHH(3011,!1)}()),p;let P=0;const z=[];let te=!1,we=!1,Ve=0;const $t=s.steps.map(ts=>{const Eo=this._makeStyleAst(ts,l);let Ca=null!=Eo.offset?Eo.offset:function Qy(u){if("string"==typeof u)return null;let s=null;if(Array.isArray(u))u.forEach(l=>{if(l instanceof Map&&l.has("offset")){const p=l;s=parseFloat(p.get("offset")),p.delete("offset")}});else if(u instanceof Map&&u.has("offset")){const l=u;s=parseFloat(l.get("offset")),l.delete("offset")}return s}(Eo.styles),ca=0;return null!=Ca&&(P++,ca=Eo.offset=Ca),we=we||ca<0||ca>1,te=te||ca<Ve,Ve=ca,z.push(ca),Eo});we&&l.errors.push(function tu(){return new v.vHH(3012,!1)}()),te&&l.errors.push(function nd(){return new v.vHH(3200,!1)}());const Xt=s.steps.length;let gn=0;P>0&&P<Xt?l.errors.push(function Wy(){return new v.vHH(3202,!1)}()):0==P&&(gn=1/(Xt-1));const Rn=Xt-1,jn=l.currentTime,fr=l.currentAnimateTimings,fi=fr.duration;return $t.forEach((ts,Eo)=>{const Ca=gn>0?Eo==Rn?1:gn*Eo:z[Eo],ca=Ca*fi;l.currentTime=jn+fr.delay+ca,fr.duration=ca,this._validateStyleAst(ts,l),ts.offset=Ca,p.styles.push(ts)}),p}visitReference(s,l){return{type:8,animation:Ol(this,sc(s.animation),l),options:id(s.options)}}visitAnimateChild(s,l){return l.depCount++,{type:9,options:id(s.options)}}visitAnimateRef(s,l){return{type:10,animation:this.visitReference(s.animation,l),options:id(s.options)}}visitQuery(s,l){const p=l.currentQuerySelector,E=s.options||{};l.queryCount++,l.currentQuery=s;const[P,z]=function Jm(u){const s=!!u.split(/\s*,\s*/).find(l=>":self"==l);return s&&(u=u.replace(Xy,"")),u=u.replace(/@\*/g,Jh).replace(/@\w+/g,l=>Jh+"-"+l.slice(1)).replace(/:animating/g,Tp),[u,s]}(s.selector);l.currentQuerySelector=p.length?p+" "+P:P,la(l.collectedStyles,l.currentQuerySelector,new Map);const te=Ol(this,sc(s.animation),l);return l.currentQuery=null,l.currentQuerySelector=p,{type:11,selector:P,limit:E.limit||0,optional:!!E.optional,includeSelf:z,animation:te,originalSelector:s.selector,options:id(s.options)}}visitStagger(s,l){l.currentQuery||l.errors.push(function Wm(){return new v.vHH(3013,!1)}());const p="full"===s.timings?{duration:0,delay:0,easing:"full"}:Xd(s.timings,l.errors,!0);return{type:12,animation:Ol(this,sc(s.animation),l),timings:p,options:null}}}class $g{constructor(s){this.errors=s,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function id(u){return u?(u=Ou(u)).params&&(u.params=function Bg(u){return u?Ou(u):null}(u.params)):u={},u}function af(u,s,l){return{duration:u,delay:s,easing:l}}function oc(u,s,l,p,E,P,z=null,te=!1){return{type:1,element:u,keyframes:s,preStyleProps:l,postStyleProps:p,duration:E,delay:P,totalTime:E+P,easing:z,subTimeline:te}}class Fu{constructor(){this._map=new Map}get(s){return this._map.get(s)||[]}append(s,l){let p=this._map.get(s);p||this._map.set(s,p=[]),p.push(...l)}has(s){return this._map.has(s)}clear(){this._map.clear()}}const Jd=new RegExp(":enter","g"),Fp=new RegExp(":leave","g");function eh(u,s,l,p,E,P=new Map,z=new Map,te,we,Ve=[]){return(new lf).buildKeyframes(u,s,l,p,E,P,z,te,we,Ve)}class lf{buildKeyframes(s,l,p,E,P,z,te,we,Ve,$t=[]){Ve=Ve||new Fu;const Xt=new th(s,l,Ve,E,P,$t,[]);Xt.options=we;const gn=we.delay?bc(we.delay):0;Xt.currentTimeline.delayNextStep(gn),Xt.currentTimeline.setStyles([z],null,Xt.errors,we),Ol(this,p,Xt);const Rn=Xt.timelines.filter(jn=>jn.containsAnimation());if(Rn.length&&te.size){let jn;for(let fr=Rn.length-1;fr>=0;fr--){const fi=Rn[fr];if(fi.element===l){jn=fi;break}}jn&&!jn.allowOnlyTimelineStyles()&&jn.setStyles([te],null,Xt.errors,we)}return Rn.length?Rn.map(jn=>jn.buildKeyframes()):[oc(l,[],[],[],0,gn,"",!1)]}visitTrigger(s,l){}visitState(s,l){}visitTransition(s,l){}visitAnimateChild(s,l){const p=l.subInstructions.get(l.element);if(p){const E=l.createSubContext(s.options),P=l.currentTimeline.currentTime,z=this._visitSubInstructions(p,E,E.options);P!=z&&l.transformIntoNewTimeline(z)}l.previousNode=s}visitAnimateRef(s,l){const p=l.createSubContext(s.options);p.transformIntoNewTimeline(),this._applyAnimationRefDelays([s.options,s.animation.options],l,p),this.visitReference(s.animation,p),l.transformIntoNewTimeline(p.currentTimeline.currentTime),l.previousNode=s}_applyAnimationRefDelays(s,l,p){for(const P of s){const z=null==P?void 0:P.delay;if(z){var E;const te="number"==typeof z?z:bc(nu(z,null!==(E=null==P?void 0:P.params)&&void 0!==E?E:{},l.errors));p.delayNextStep(te)}}}_visitSubInstructions(s,l,p){let P=l.currentTimeline.currentTime;const z=null!=p.duration?bc(p.duration):null,te=null!=p.delay?bc(p.delay):null;return 0!==z&&s.forEach(we=>{const Ve=l.appendInstructionToTimeline(we,z,te);P=Math.max(P,Ve.duration+Ve.delay)}),P}visitReference(s,l){l.updateOptions(s.options,!0),Ol(this,s.animation,l),l.previousNode=s}visitSequence(s,l){const p=l.subContextCount;let E=l;const P=s.options;if(P&&(P.params||P.delay)&&(E=l.createSubContext(P),E.transformIntoNewTimeline(),null!=P.delay)){6==E.previousNode.type&&(E.currentTimeline.snapshotCurrentStyles(),E.previousNode=Ec);const z=bc(P.delay);E.delayNextStep(z)}s.steps.length&&(s.steps.forEach(z=>Ol(this,z,E)),E.currentTimeline.applyStylesToKeyframe(),E.subContextCount>p&&E.transformIntoNewTimeline()),l.previousNode=s}visitGroup(s,l){const p=[];let E=l.currentTimeline.currentTime;const P=s.options&&s.options.delay?bc(s.options.delay):0;s.steps.forEach(z=>{const te=l.createSubContext(s.options);P&&te.delayNextStep(P),Ol(this,z,te),E=Math.max(E,te.currentTimeline.currentTime),p.push(te.currentTimeline)}),p.forEach(z=>l.currentTimeline.mergeTimelineCollectedStyles(z)),l.transformIntoNewTimeline(E),l.previousNode=s}_visitTiming(s,l){if(s.dynamic){const p=s.strValue;return Xd(l.params?nu(p,l.params,l.errors):p,l.errors)}return{duration:s.duration,delay:s.delay,easing:s.easing}}visitAnimate(s,l){const p=l.currentAnimateTimings=this._visitTiming(s.timings,l),E=l.currentTimeline;p.delay&&(l.incrementTime(p.delay),E.snapshotCurrentStyles());const P=s.style;5==P.type?this.visitKeyframes(P,l):(l.incrementTime(p.duration),this.visitStyle(P,l),E.applyStylesToKeyframe()),l.currentAnimateTimings=null,l.previousNode=s}visitStyle(s,l){const p=l.currentTimeline,E=l.currentAnimateTimings;!E&&p.hasCurrentStyleProperties()&&p.forwardFrame();const P=E&&E.easing||s.easing;s.isEmptyStep?p.applyEmptyStep(P):p.setStyles(s.styles,P,l.errors,l.options),l.previousNode=s}visitKeyframes(s,l){const p=l.currentAnimateTimings,E=l.currentTimeline.duration,P=p.duration,te=l.createSubContext().currentTimeline;te.easing=p.easing,s.styles.forEach(we=>{te.forwardTime((we.offset||0)*P),te.setStyles(we.styles,we.easing,l.errors,l.options),te.applyStylesToKeyframe()}),l.currentTimeline.mergeTimelineCollectedStyles(te),l.transformIntoNewTimeline(E+P),l.previousNode=s}visitQuery(s,l){const p=l.currentTimeline.currentTime,E=s.options||{},P=E.delay?bc(E.delay):0;P&&(6===l.previousNode.type||0==p&&l.currentTimeline.hasCurrentStyleProperties())&&(l.currentTimeline.snapshotCurrentStyles(),l.previousNode=Ec);let z=p;const te=l.invokeQuery(s.selector,s.originalSelector,s.limit,s.includeSelf,!!E.optional,l.errors);l.currentQueryTotal=te.length;let we=null;te.forEach((Ve,$t)=>{l.currentQueryIndex=$t;const Xt=l.createSubContext(s.options,Ve);P&&Xt.delayNextStep(P),Ve===l.element&&(we=Xt.currentTimeline),Ol(this,s.animation,Xt),Xt.currentTimeline.applyStylesToKeyframe(),z=Math.max(z,Xt.currentTimeline.currentTime)}),l.currentQueryIndex=0,l.currentQueryTotal=0,l.transformIntoNewTimeline(z),we&&(l.currentTimeline.mergeTimelineCollectedStyles(we),l.currentTimeline.snapshotCurrentStyles()),l.previousNode=s}visitStagger(s,l){const p=l.parentContext,E=l.currentTimeline,P=s.timings,z=Math.abs(P.duration),te=z*(l.currentQueryTotal-1);let we=z*l.currentQueryIndex;switch(P.duration<0?"reverse":P.easing){case"reverse":we=te-we;break;case"full":we=p.currentStaggerTime}const $t=l.currentTimeline;we&&$t.delayNextStep(we);const Xt=$t.currentTime;Ol(this,s.animation,l),l.previousNode=s,p.currentStaggerTime=E.currentTime-Xt+(E.startTime-p.currentTimeline.startTime)}}const Ec={};class th{constructor(s,l,p,E,P,z,te,we){this._driver=s,this.element=l,this.subInstructions=p,this._enterClassName=E,this._leaveClassName=P,this.errors=z,this.timelines=te,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Ec,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=we||new cf(this._driver,l,0),te.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(s,l){if(!s)return;const p=s;let E=this.options;null!=p.duration&&(E.duration=bc(p.duration)),null!=p.delay&&(E.delay=bc(p.delay));const P=p.params;if(P){let z=E.params;z||(z=this.options.params={}),Object.keys(P).forEach(te=>{(!l||!z.hasOwnProperty(te))&&(z[te]=nu(P[te],z,this.errors))})}}_copyOptions(){const s={};if(this.options){const l=this.options.params;if(l){const p=s.params={};Object.keys(l).forEach(E=>{p[E]=l[E]})}}return s}createSubContext(s=null,l,p){const E=l||this.element,P=new th(this._driver,E,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(E,p||0));return P.previousNode=this.previousNode,P.currentAnimateTimings=this.currentAnimateTimings,P.options=this._copyOptions(),P.updateOptions(s),P.currentQueryIndex=this.currentQueryIndex,P.currentQueryTotal=this.currentQueryTotal,P.parentContext=this,this.subContextCount++,P}transformIntoNewTimeline(s){return this.previousNode=Ec,this.currentTimeline=this.currentTimeline.fork(this.element,s),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(s,l,p){const E={duration:null!=l?l:s.duration,delay:this.currentTimeline.currentTime+(null!=p?p:0)+s.delay,easing:""},P=new Lp(this._driver,s.element,s.keyframes,s.preStyleProps,s.postStyleProps,E,s.stretchStartingKeyframe);return this.timelines.push(P),E}incrementTime(s){this.currentTimeline.forwardTime(this.currentTimeline.duration+s)}delayNextStep(s){s>0&&this.currentTimeline.delayNextStep(s)}invokeQuery(s,l,p,E,P,z){let te=[];if(E&&te.push(this.element),s.length>0){s=(s=s.replace(Jd,"."+this._enterClassName)).replace(Fp,"."+this._leaveClassName);let Ve=this._driver.query(this.element,s,1!=p);0!==p&&(Ve=p<0?Ve.slice(Ve.length+p,Ve.length):Ve.slice(0,p)),te.push(...Ve)}return!P&&0==te.length&&z.push(function ul(u){return new v.vHH(3014,!1)}()),te}}class cf{constructor(s,l,p,E){this._driver=s,this.element=l,this.startTime=p,this._elementTimelineStylesLookup=E,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(l),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(l,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(s){const l=1===this._keyframes.size&&this._pendingStyles.size;this.duration||l?(this.forwardTime(this.currentTime+s),l&&this.snapshotCurrentStyles()):this.startTime+=s}fork(s,l){return this.applyStylesToKeyframe(),new cf(this._driver,s,l||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(s){this.applyStylesToKeyframe(),this.duration=s,this._loadKeyframe()}_updateStyle(s,l){this._localTimelineStyles.set(s,l),this._globalTimelineStyles.set(s,l),this._styleSummary.set(s,{time:this.currentTime,value:l})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(s){s&&this._previousKeyframe.set("easing",s);for(let[l,p]of this._globalTimelineStyles)this._backFill.set(l,p||Gl),this._currentKeyframe.set(l,Gl);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(s,l,p,E){l&&this._previousKeyframe.set("easing",l);const P=E&&E.params||{},z=function Hg(u,s){const l=new Map;let p;return u.forEach(E=>{if("*"===E){p=p||s.keys();for(let P of p)l.set(P,Gl)}else Yl(E,l)}),l}(s,this._globalTimelineStyles);for(let[we,Ve]of z){const $t=nu(Ve,P,p);var te;this._pendingStyles.set(we,$t),this._localTimelineStyles.has(we)||this._backFill.set(we,null!==(te=this._globalTimelineStyles.get(we))&&void 0!==te?te:Gl),this._updateStyle(we,$t)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((s,l)=>{this._currentKeyframe.set(l,s)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((s,l)=>{this._currentKeyframe.has(l)||this._currentKeyframe.set(l,s)}))}snapshotCurrentStyles(){for(let[s,l]of this._localTimelineStyles)this._pendingStyles.set(s,l),this._updateStyle(s,l)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const s=[];for(let l in this._currentKeyframe)s.push(l);return s}mergeTimelineCollectedStyles(s){s._styleSummary.forEach((l,p)=>{const E=this._styleSummary.get(p);(!E||l.time>E.time)&&this._updateStyle(p,l.value)})}buildKeyframes(){this.applyStylesToKeyframe();const s=new Set,l=new Set,p=1===this._keyframes.size&&0===this.duration;let E=[];this._keyframes.forEach((te,we)=>{const Ve=Yl(te,new Map,this._backFill);Ve.forEach(($t,Xt)=>{$t===Vm?s.add(Xt):$t===Gl&&l.add(Xt)}),p||Ve.set("offset",we/this.duration),E.push(Ve)});const P=s.size?ku(s.values()):[],z=l.size?ku(l.values()):[];if(p){const te=E[0],we=new Map(te);te.set("offset",0),we.set("offset",1),E=[te,we]}return oc(this.element,E,P,z,this.duration,this.startTime,this.easing,!1)}}class Lp extends cf{constructor(s,l,p,E,P,z,te=!1){super(s,l,z.delay),this.keyframes=p,this.preStyleProps=E,this.postStyleProps=P,this._stretchStartingKeyframe=te,this.timings={duration:z.duration,delay:z.delay,easing:z.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let s=this.keyframes,{delay:l,duration:p,easing:E}=this.timings;if(this._stretchStartingKeyframe&&l){const P=[],z=p+l,te=l/z,we=Yl(s[0]);we.set("offset",0),P.push(we);const Ve=Yl(s[0]);Ve.set("offset",zg(te)),P.push(Ve);const $t=s.length-1;for(let Xt=1;Xt<=$t;Xt++){let gn=Yl(s[Xt]);const Rn=gn.get("offset");gn.set("offset",zg((l+Rn*p)/z)),P.push(gn)}p=z,l=0,E="",s=P}return oc(this.element,s,this.preStyleProps,this.postStyleProps,p,l,E,!0)}}function zg(u,s=3){const l=Math.pow(10,s-1);return Math.round(u*l)/l}class Wg{}const Gg=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class Kg extends Wg{normalizePropertyName(s,l){return nf(s)}normalizeStyleValue(s,l,p,E){let P="";const z=p.toString().trim();if(Gg.has(l)&&0!==p&&"0"!==p)if("number"==typeof p)P="px";else{const te=p.match(/^[+-]?[\d\.]+([a-z]*)$/);te&&0==te[1].length&&E.push(function Gh(u,s){return new v.vHH(3005,!1)}())}return z+P}}function ty(u,s,l,p,E,P,z,te,we,Ve,$t,Xt,gn){return{type:0,element:u,triggerName:s,isRemovalTransition:E,fromState:l,fromStyles:P,toState:p,toStyles:z,timelines:te,queriedElements:we,preStyleProps:Ve,postStyleProps:$t,totalTime:Xt,errors:gn}}const uf={};class ny{constructor(s,l,p){this._triggerName=s,this.ast=l,this._stateStyles=p}match(s,l,p,E){return function ry(u,s,l,p,E){return u.some(P=>P(s,l,p,E))}(this.ast.matchers,s,l,p,E)}buildStyles(s,l,p){let E=this._stateStyles.get("*");return void 0!==s&&(E=this._stateStyles.get(null==s?void 0:s.toString())||E),E?E.buildStyles(l,p):new Map}build(s,l,p,E,P,z,te,we,Ve,$t){var Xt;const gn=[],Rn=this.ast.options&&this.ast.options.params||uf,fr=this.buildStyles(p,te&&te.params||uf,gn),fi=we&&we.params||uf,ts=this.buildStyles(E,fi,gn),Eo=new Set,Ca=new Map,ca=new Map,Bu="void"===E,wc={params:Bp(fi,Rn),delay:null===(Xt=this.ast.options)||void 0===Xt?void 0:Xt.delay},Fl=$t?[]:eh(s,l,this.ast.animation,P,z,fr,ts,wc,Ve,gn);let Za=0;if(Fl.forEach(Xa=>{Za=Math.max(Xa.duration+Xa.delay,Za)}),gn.length)return ty(l,this._triggerName,p,E,Bu,fr,ts,[],[],Ca,ca,Za,gn);Fl.forEach(Xa=>{const iu=Xa.element,lh=la(Ca,iu,new Set);Xa.preStyleProps.forEach(ch=>lh.add(ch));const wf=la(ca,iu,new Set);Xa.postStyleProps.forEach(ch=>wf.add(ch)),iu!==l&&Eo.add(iu)});const ru=ku(Eo.values());return ty(l,this._triggerName,p,E,Bu,fr,ts,Fl,ru,Ca,ca,Za)}}function Bp(u,s){const l=Ou(s);for(const p in u)u.hasOwnProperty(p)&&null!=u[p]&&(l[p]=u[p]);return l}class df{constructor(s,l,p){this.styles=s,this.defaultParams=l,this.normalizer=p}buildStyles(s,l){const p=new Map,E=Ou(this.defaultParams);return Object.keys(s).forEach(P=>{const z=s[P];null!==z&&(E[P]=z)}),this.styles.styles.forEach(P=>{"string"!=typeof P&&P.forEach((z,te)=>{z&&(z=nu(z,E,l));const we=this.normalizer.normalizePropertyName(te,l);z=this.normalizer.normalizeStyleValue(te,we,z,l),p.set(te,z)})}),p}}class Nv{constructor(s,l,p){this.name=s,this.ast=l,this._normalizer=p,this.transitionFactories=[],this.states=new Map,l.states.forEach(E=>{this.states.set(E.name,new df(E.style,E.options&&E.options.params||{},p))}),sd(this.states,"true","1"),sd(this.states,"false","0"),l.transitions.forEach(E=>{this.transitionFactories.push(new ny(s,E,this.states))}),this.fallbackTransition=function qg(u,s,l){return new ny(u,{type:1,animation:{type:2,steps:[],options:null},matchers:[(z,te)=>!0],options:null,queryCount:0,depCount:0},s)}(s,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(s,l,p,E){return this.transitionFactories.find(z=>z.match(s,l,p,E))||null}matchStyles(s,l,p){return this.fallbackTransition.buildStyles(s,l,p)}}function sd(u,s,l){u.has(s)?u.has(l)||u.set(l,u.get(s)):u.has(l)&&u.set(s,u.get(l))}const Zg=new Fu;class Jy{constructor(s,l,p){this.bodyNode=s,this._driver=l,this._normalizer=p,this._animations=new Map,this._playersById=new Map,this.players=[]}register(s,l){const p=[],P=sf(this._driver,l,p,[]);if(p.length)throw function Km(u){return new v.vHH(3503,!1)}();this._animations.set(s,P)}_buildPlayer(s,l,p){const E=s.element,P=bp(0,this._normalizer,0,s.keyframes,l,p);return this._driver.animate(E,P,s.duration,s.delay,s.easing,[],!0)}create(s,l,p={}){const E=[],P=this._animations.get(s);let z;const te=new Map;if(P?(z=eh(this._driver,l,P,qd,Dp,new Map,new Map,p,Zg,E),z.forEach($t=>{const Xt=la(te,$t.element,new Map);$t.postStyleProps.forEach(gn=>Xt.set(gn,null))})):(E.push(function xv(){return new v.vHH(3300,!1)}()),z=[]),E.length)throw function Tg(u){return new v.vHH(3504,!1)}();te.forEach(($t,Xt)=>{$t.forEach((gn,Rn)=>{$t.set(Rn,this._driver.computeStyle(Xt,Rn,Gl))})});const Ve=ic(z.map($t=>{const Xt=te.get($t.element);return this._buildPlayer($t,new Map,Xt)}));return this._playersById.set(s,Ve),Ve.onDestroy(()=>this.destroy(s)),this.players.push(Ve),Ve}destroy(s){const l=this._getPlayer(s);l.destroy(),this._playersById.delete(s);const p=this.players.indexOf(l);p>=0&&this.players.splice(p,1)}_getPlayer(s){const l=this._playersById.get(s);if(!l)throw function Gd(u){return new v.vHH(3301,!1)}();return l}listen(s,l,p,E){const P=Yd(l,"","","");return Ep(this._getPlayer(s),p,P,E),()=>{}}command(s,l,p,E){if("register"==p)return void this.register(s,E[0]);if("create"==p)return void this.create(s,l,E[0]||{});const P=this._getPlayer(s);switch(p){case"play":P.play();break;case"pause":P.pause();break;case"reset":P.reset();break;case"restart":P.restart();break;case"finish":P.finish();break;case"init":P.init();break;case"setPosition":P.setPosition(parseFloat(E[0]));break;case"destroy":this.destroy(s)}}}const rh="ng-animate-queued",hf="ng-animate-disabled",ff=[],iy={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},ev={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},dl="__ng_removed";class Jg{get params(){return this.options.params}constructor(s,l=""){this.namespaceId=l;const p=s&&s.hasOwnProperty("value");if(this.value=function rm(u){return null!=u?u:null}(p?s.value:s),p){const P=Ou(s);delete P.value,this.options=P}else this.options={};this.options.params||(this.options.params={})}absorbOptions(s){const l=s.params;if(l){const p=this.options.params;Object.keys(l).forEach(E=>{null==p[E]&&(p[E]=l[E])})}}}const od="void",pf=new Jg(od);class em{constructor(s,l,p){this.id=s,this.hostElement=l,this._engine=p,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+s,kl(l,this._hostClassName)}listen(s,l,p,E){if(!this._triggers.has(l))throw function xu(u,s){return new v.vHH(3302,!1)}();if(null==p||0==p.length)throw function Ym(u){return new v.vHH(3303,!1)}();if(!function Vp(u){return"start"==u||"done"==u}(p))throw function yp(u,s){return new v.vHH(3400,!1)}();const P=la(this._elementListeners,s,[]),z={name:l,phase:p,callback:E};P.push(z);const te=la(this._engine.statesByElement,s,new Map);return te.has(l)||(kl(s,Zd),kl(s,Zd+"-"+l),te.set(l,pf)),()=>{this._engine.afterFlush(()=>{const we=P.indexOf(z);we>=0&&P.splice(we,1),this._triggers.has(l)||te.delete(l)})}}register(s,l){return!this._triggers.has(s)&&(this._triggers.set(s,l),!0)}_getTrigger(s){const l=this._triggers.get(s);if(!l)throw function Mu(u){return new v.vHH(3401,!1)}();return l}trigger(s,l,p,E=!0){const P=this._getTrigger(l),z=new $p(this.id,l,s);let te=this._engine.statesByElement.get(s);te||(kl(s,Zd),kl(s,Zd+"-"+l),this._engine.statesByElement.set(s,te=new Map));let we=te.get(l);const Ve=new Jg(p,this.id);if(!(p&&p.hasOwnProperty("value"))&&we&&Ve.absorbOptions(we.options),te.set(l,Ve),we||(we=pf),Ve.value!==od&&we.value===Ve.value){if(!function tv(u,s){const l=Object.keys(u),p=Object.keys(s);if(l.length!=p.length)return!1;for(let E=0;E<l.length;E++){const P=l[E];if(!s.hasOwnProperty(P)||u[P]!==s[P])return!1}return!0}(we.params,Ve.params)){const fr=[],fi=P.matchStyles(we.value,we.params,fr),ts=P.matchStyles(Ve.value,Ve.params,fr);fr.length?this._engine.reportError(fr):this._engine.afterFlush(()=>{ql(s,fi),qa(s,ts)})}return}const gn=la(this._engine.playersByElement,s,[]);gn.forEach(fr=>{fr.namespaceId==this.id&&fr.triggerName==l&&fr.queued&&fr.destroy()});let Rn=P.matchTransition(we.value,Ve.value,s,Ve.params),jn=!1;if(!Rn){if(!E)return;Rn=P.fallbackTransition,jn=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:s,triggerName:l,transition:Rn,fromState:we,toState:Ve,player:z,isFallbackTransition:jn}),jn||(kl(s,rh),z.onStart(()=>{ld(s,rh)})),z.onDone(()=>{let fr=this.players.indexOf(z);fr>=0&&this.players.splice(fr,1);const fi=this._engine.playersByElement.get(s);if(fi){let ts=fi.indexOf(z);ts>=0&&fi.splice(ts,1)}}),this.players.push(z),gn.push(z),z}deregister(s){this._triggers.delete(s),this._engine.statesByElement.forEach(l=>l.delete(s)),this._elementListeners.forEach((l,p)=>{this._elementListeners.set(p,l.filter(E=>E.name!=s))})}clearElementCache(s){this._engine.statesByElement.delete(s),this._elementListeners.delete(s);const l=this._engine.playersByElement.get(s);l&&(l.forEach(p=>p.destroy()),this._engine.playersByElement.delete(s))}_signalRemovalForInnerTriggers(s,l){const p=this._engine.driver.query(s,Jh,!0);p.forEach(E=>{if(E[dl])return;const P=this._engine.fetchNamespacesByElement(E);P.size?P.forEach(z=>z.triggerLeaveAnimation(E,l,!1,!0)):this.clearElementCache(E)}),this._engine.afterFlushAnimationsDone(()=>p.forEach(E=>this.clearElementCache(E)))}triggerLeaveAnimation(s,l,p,E){const P=this._engine.statesByElement.get(s),z=new Map;if(P){const te=[];if(P.forEach((we,Ve)=>{if(z.set(Ve,we.value),this._triggers.has(Ve)){const $t=this.trigger(s,Ve,od,E);$t&&te.push($t)}}),te.length)return this._engine.markElementAsRemoved(this.id,s,!0,l,z),p&&ic(te).onDone(()=>this._engine.processLeaveNode(s)),!0}return!1}prepareLeaveAnimationListeners(s){const l=this._elementListeners.get(s),p=this._engine.statesByElement.get(s);if(l&&p){const E=new Set;l.forEach(P=>{const z=P.name;if(E.has(z))return;E.add(z);const we=this._triggers.get(z).fallbackTransition,Ve=p.get(z)||pf,$t=new Jg(od),Xt=new $p(this.id,z,s);this._engine.totalQueuedPlayers++,this._queue.push({element:s,triggerName:z,transition:we,fromState:Ve,toState:$t,player:Xt,isFallbackTransition:!0})})}}removeNode(s,l){const p=this._engine;if(s.childElementCount&&this._signalRemovalForInnerTriggers(s,l),this.triggerLeaveAnimation(s,l,!0))return;let E=!1;if(p.totalAnimations){const P=p.players.length?p.playersByQueriedElement.get(s):[];if(P&&P.length)E=!0;else{let z=s;for(;z=z.parentNode;)if(p.statesByElement.get(z)){E=!0;break}}}if(this.prepareLeaveAnimationListeners(s),E)p.markElementAsRemoved(this.id,s,!1,l);else{const P=s[dl];(!P||P===iy)&&(p.afterFlush(()=>this.clearElementCache(s)),p.destroyInnerAnimations(s),p._onRemovalComplete(s,l))}}insertNode(s,l){kl(s,this._hostClassName)}drainQueuedTransitions(s){const l=[];return this._queue.forEach(p=>{const E=p.player;if(E.destroyed)return;const P=p.element,z=this._elementListeners.get(P);z&&z.forEach(te=>{if(te.name==p.triggerName){const we=Yd(P,p.triggerName,p.fromState.value,p.toState.value);we._data=s,Ep(p.player,te.phase,we,te.callback)}}),E.markedForDestroy?this._engine.afterFlush(()=>{E.destroy()}):l.push(p)}),this._queue=[],l.sort((p,E)=>{const P=p.transition.ast.depCount,z=E.transition.ast.depCount;return 0==P||0==z?P-z:this._engine.driver.containsElement(p.element,E.element)?1:-1})}destroy(s){this.players.forEach(l=>l.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,s)}elementContainsData(s){let l=!1;return this._elementListeners.has(s)&&(l=!0),l=!!this._queue.find(p=>p.element===s)||l,l}}class tm{_onRemovalComplete(s,l){this.onRemovalComplete(s,l)}constructor(s,l,p){this.bodyNode=s,this.driver=l,this._normalizer=p,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(E,P)=>{}}get queuedPlayers(){const s=[];return this._namespaceList.forEach(l=>{l.players.forEach(p=>{p.queued&&s.push(p)})}),s}createNamespace(s,l){const p=new em(s,l,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,l)?this._balanceNamespaceList(p,l):(this.newHostElements.set(l,p),this.collectEnterElement(l)),this._namespaceLookup[s]=p}_balanceNamespaceList(s,l){const p=this._namespaceList,E=this.namespacesByHostElement;if(p.length-1>=0){let z=!1,te=this.driver.getParentElement(l);for(;te;){const we=E.get(te);if(we){const Ve=p.indexOf(we);p.splice(Ve+1,0,s),z=!0;break}te=this.driver.getParentElement(te)}z||p.unshift(s)}else p.push(s);return E.set(l,s),s}register(s,l){let p=this._namespaceLookup[s];return p||(p=this.createNamespace(s,l)),p}registerTrigger(s,l,p){let E=this._namespaceLookup[s];E&&E.register(l,p)&&this.totalAnimations++}destroy(s,l){if(!s)return;const p=this._fetchNamespace(s);this.afterFlush(()=>{this.namespacesByHostElement.delete(p.hostElement),delete this._namespaceLookup[s];const E=this._namespaceList.indexOf(p);E>=0&&this._namespaceList.splice(E,1)}),this.afterFlushAnimationsDone(()=>p.destroy(l))}_fetchNamespace(s){return this._namespaceLookup[s]}fetchNamespacesByElement(s){const l=new Set,p=this.statesByElement.get(s);if(p)for(let E of p.values())if(E.namespaceId){const P=this._fetchNamespace(E.namespaceId);P&&l.add(P)}return l}trigger(s,l,p,E){if(ad(l)){const P=this._fetchNamespace(s);if(P)return P.trigger(l,p,E),!0}return!1}insertNode(s,l,p,E){if(!ad(l))return;const P=l[dl];if(P&&P.setForRemoval){P.setForRemoval=!1,P.setForMove=!0;const z=this.collectedLeaveElements.indexOf(l);z>=0&&this.collectedLeaveElements.splice(z,1)}if(s){const z=this._fetchNamespace(s);z&&z.insertNode(l,p)}E&&this.collectEnterElement(l)}collectEnterElement(s){this.collectedEnterElements.push(s)}markElementAsDisabled(s,l){l?this.disabledNodes.has(s)||(this.disabledNodes.add(s),kl(s,hf)):this.disabledNodes.has(s)&&(this.disabledNodes.delete(s),ld(s,hf))}removeNode(s,l,p,E){if(ad(l)){const P=s?this._fetchNamespace(s):null;if(P?P.removeNode(l,E):this.markElementAsRemoved(s,l,!1,E),p){const z=this.namespacesByHostElement.get(l);z&&z.id!==s&&z.removeNode(l,E)}}else this._onRemovalComplete(l,E)}markElementAsRemoved(s,l,p,E,P){this.collectedLeaveElements.push(l),l[dl]={namespaceId:s,setForRemoval:E,hasAnimation:p,removedBeforeQueried:!1,previousTriggersValues:P}}listen(s,l,p,E,P){return ad(l)?this._fetchNamespace(s).listen(l,p,E,P):()=>{}}_buildInstruction(s,l,p,E,P){return s.transition.build(this.driver,s.element,s.fromState.value,s.toState.value,p,E,s.fromState.options,s.toState.options,l,P)}destroyInnerAnimations(s){let l=this.driver.query(s,Jh,!0);l.forEach(p=>this.destroyActiveAnimationsForElement(p)),0!=this.playersByQueriedElement.size&&(l=this.driver.query(s,Tp,!0),l.forEach(p=>this.finishActiveQueriedAnimationOnElement(p)))}destroyActiveAnimationsForElement(s){const l=this.playersByElement.get(s);l&&l.forEach(p=>{p.queued?p.markedForDestroy=!0:p.destroy()})}finishActiveQueriedAnimationOnElement(s){const l=this.playersByQueriedElement.get(s);l&&l.forEach(p=>p.finish())}whenRenderingDone(){return new Promise(s=>{if(this.players.length)return ic(this.players).onDone(()=>s());s()})}processLeaveNode(s){var l;const p=s[dl];if(p&&p.setForRemoval){if(s[dl]=iy,p.namespaceId){this.destroyInnerAnimations(s);const E=this._fetchNamespace(p.namespaceId);E&&E.clearElementCache(s)}this._onRemovalComplete(s,p.setForRemoval)}null!==(l=s.classList)&&void 0!==l&&l.contains(hf)&&this.markElementAsDisabled(s,!1),this.driver.query(s,".ng-animate-disabled",!0).forEach(E=>{this.markElementAsDisabled(E,!1)})}flush(s=-1){let l=[];if(this.newHostElements.size&&(this.newHostElements.forEach((p,E)=>this._balanceNamespaceList(p,E)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let p=0;p<this.collectedEnterElements.length;p++)kl(this.collectedEnterElements[p],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const p=[];try{l=this._flushAnimations(p,s)}finally{for(let E=0;E<p.length;E++)p[E]()}}else for(let p=0;p<this.collectedLeaveElements.length;p++)this.processLeaveNode(this.collectedLeaveElements[p]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(p=>p()),this._flushFns=[],this._whenQuietFns.length){const p=this._whenQuietFns;this._whenQuietFns=[],l.length?ic(l).onDone(()=>{p.forEach(E=>E())}):p.forEach(E=>E())}}reportError(s){throw function vp(u){return new v.vHH(3402,!1)}()}_flushAnimations(s,l){const p=new Fu,E=[],P=new Map,z=[],te=new Map,we=new Map,Ve=new Map,$t=new Set;this.disabledNodes.forEach(Pi=>{$t.add(Pi);const ji=this.driver.query(Pi,".ng-animate-queued",!0);for(let Xi=0;Xi<ji.length;Xi++)$t.add(ji[Xi])});const Xt=this.bodyNode,gn=Array.from(this.statesByElement.keys()),Rn=yf(gn,this.collectedEnterElements),jn=new Map;let fr=0;Rn.forEach((Pi,ji)=>{const Xi=qd+fr++;jn.set(ji,Xi),Pi.forEach(Ps=>kl(Ps,Xi))});const fi=[],ts=new Set,Eo=new Set;for(let Pi=0;Pi<this.collectedLeaveElements.length;Pi++){const ji=this.collectedLeaveElements[Pi],Xi=ji[dl];Xi&&Xi.setForRemoval&&(fi.push(ji),ts.add(ji),Xi.hasAnimation?this.driver.query(ji,".ng-star-inserted",!0).forEach(Ps=>ts.add(Ps)):Eo.add(ji))}const Ca=new Map,ca=yf(gn,Array.from(ts));ca.forEach((Pi,ji)=>{const Xi=Dp+fr++;Ca.set(ji,Xi),Pi.forEach(Ps=>kl(Ps,Xi))}),s.push(()=>{Rn.forEach((Pi,ji)=>{const Xi=jn.get(ji);Pi.forEach(Ps=>ld(Ps,Xi))}),ca.forEach((Pi,ji)=>{const Xi=Ca.get(ji);Pi.forEach(Ps=>ld(Ps,Xi))}),fi.forEach(Pi=>{this.processLeaveNode(Pi)})});const Bu=[],wc=[];for(let Pi=this._namespaceList.length-1;Pi>=0;Pi--)this._namespaceList[Pi].drainQueuedTransitions(l).forEach(Xi=>{const Ps=Xi.player,ma=Xi.element;if(Bu.push(Ps),this.collectedEnterElements.length){const Va=ma[dl];if(Va&&Va.setForMove){if(Va.previousTriggersValues&&Va.previousTriggersValues.has(Xi.triggerName)){const Ql=Va.previousTriggersValues.get(Xi.triggerName),cc=this.statesByElement.get(Xi.element);if(cc&&cc.has(Xi.triggerName)){const Fc=cc.get(Xi.triggerName);Fc.value=Ql,cc.set(Xi.triggerName,Fc)}}return void Ps.destroy()}}const ac=!Xt||!this.driver.containsElement(Xt,ma),fl=Ca.get(ma),lc=jn.get(ma),_a=this._buildInstruction(Xi,p,lc,fl,ac);if(_a.errors&&_a.errors.length)return void wc.push(_a);if(ac)return Ps.onStart(()=>ql(ma,_a.fromStyles)),Ps.onDestroy(()=>qa(ma,_a.toStyles)),void E.push(Ps);if(Xi.isFallbackTransition)return Ps.onStart(()=>ql(ma,_a.fromStyles)),Ps.onDestroy(()=>qa(ma,_a.toStyles)),void E.push(Ps);const If=[];_a.timelines.forEach(Va=>{Va.stretchStartingKeyframe=!0,this.disabledNodes.has(Va.element)||If.push(Va)}),_a.timelines=If,p.append(ma,_a.timelines),z.push({instruction:_a,player:Ps,element:ma}),_a.queriedElements.forEach(Va=>la(te,Va,[]).push(Ps)),_a.preStyleProps.forEach((Va,Ql)=>{if(Va.size){let cc=we.get(Ql);cc||we.set(Ql,cc=new Set),Va.forEach((Fc,gd)=>cc.add(gd))}}),_a.postStyleProps.forEach((Va,Ql)=>{let cc=Ve.get(Ql);cc||Ve.set(Ql,cc=new Set),Va.forEach((Fc,gd)=>cc.add(gd))})});if(wc.length){const Pi=[];wc.forEach(ji=>{Pi.push(function Ag(u,s){return new v.vHH(3505,!1)}())}),Bu.forEach(ji=>ji.destroy()),this.reportError(Pi)}const Fl=new Map,Za=new Map;z.forEach(Pi=>{const ji=Pi.element;p.has(ji)&&(Za.set(ji,ji),this._beforeAnimationBuild(Pi.player.namespaceId,Pi.instruction,Fl))}),E.forEach(Pi=>{const ji=Pi.element;this._getPreviousPlayers(ji,!1,Pi.namespaceId,Pi.triggerName,null).forEach(Ps=>{la(Fl,ji,[]).push(Ps),Ps.destroy()})});const ru=fi.filter(Pi=>oy(Pi,we,Ve)),Xa=new Map;mf(Xa,this.driver,Eo,Ve,Gl).forEach(Pi=>{oy(Pi,we,Ve)&&ru.push(Pi)});const lh=new Map;Rn.forEach((Pi,ji)=>{mf(lh,this.driver,new Set(Pi),we,Vm)}),ru.forEach(Pi=>{var ji,Xi;const Ps=Xa.get(Pi),ma=lh.get(Pi);Xa.set(Pi,new Map([...Array.from(null!==(ji=null==Ps?void 0:Ps.entries())&&void 0!==ji?ji:[]),...Array.from(null!==(Xi=null==ma?void 0:ma.entries())&&void 0!==Xi?Xi:[])]))});const wf=[],ch=[],jp={};z.forEach(Pi=>{const{element:ji,player:Xi,instruction:Ps}=Pi;if(p.has(ji)){if($t.has(ji))return Xi.onDestroy(()=>qa(ji,Ps.toStyles)),Xi.disabled=!0,Xi.overrideTotalTime(Ps.totalTime),void E.push(Xi);let ma=jp;if(Za.size>1){let fl=ji;const lc=[];for(;fl=fl.parentNode;){const _a=Za.get(fl);if(_a){ma=_a;break}lc.push(fl)}lc.forEach(_a=>Za.set(_a,ma))}const ac=this._buildAnimation(Xi.namespaceId,Ps,Fl,P,lh,Xa);if(Xi.setRealPlayer(ac),ma===jp)wf.push(Xi);else{const fl=this.playersByElement.get(ma);fl&&fl.length&&(Xi.parentPlayer=ic(fl)),E.push(Xi)}}else ql(ji,Ps.fromStyles),Xi.onDestroy(()=>qa(ji,Ps.toStyles)),ch.push(Xi),$t.has(ji)&&E.push(Xi)}),ch.forEach(Pi=>{const ji=P.get(Pi.element);if(ji&&ji.length){const Xi=ic(ji);Pi.setRealPlayer(Xi)}}),E.forEach(Pi=>{Pi.parentPlayer?Pi.syncPlayerEvents(Pi.parentPlayer):Pi.destroy()});for(let Pi=0;Pi<fi.length;Pi++){const ji=fi[Pi],Xi=ji[dl];if(ld(ji,Dp),Xi&&Xi.hasAnimation)continue;let Ps=[];if(te.size){let ac=te.get(ji);ac&&ac.length&&Ps.push(...ac);let fl=this.driver.query(ji,Tp,!0);for(let lc=0;lc<fl.length;lc++){let _a=te.get(fl[lc]);_a&&_a.length&&Ps.push(..._a)}}const ma=Ps.filter(ac=>!ac.destroyed);ma.length?oh(this,ji,ma):this.processLeaveNode(ji)}return fi.length=0,wf.forEach(Pi=>{this.players.push(Pi),Pi.onDone(()=>{Pi.destroy();const ji=this.players.indexOf(Pi);this.players.splice(ji,1)}),Pi.play()}),wf}elementContainsData(s,l){let p=!1;const E=l[dl];return E&&E.setForRemoval&&(p=!0),this.playersByElement.has(l)&&(p=!0),this.playersByQueriedElement.has(l)&&(p=!0),this.statesByElement.has(l)&&(p=!0),this._fetchNamespace(s).elementContainsData(l)||p}afterFlush(s){this._flushFns.push(s)}afterFlushAnimationsDone(s){this._whenQuietFns.push(s)}_getPreviousPlayers(s,l,p,E,P){let z=[];if(l){const te=this.playersByQueriedElement.get(s);te&&(z=te)}else{const te=this.playersByElement.get(s);if(te){const we=!P||P==od;te.forEach(Ve=>{Ve.queued||!we&&Ve.triggerName!=E||z.push(Ve)})}}return(p||E)&&(z=z.filter(te=>!(p&&p!=te.namespaceId||E&&E!=te.triggerName))),z}_beforeAnimationBuild(s,l,p){const P=l.element,z=l.isRemovalTransition?void 0:s,te=l.isRemovalTransition?void 0:l.triggerName;for(const we of l.timelines){const Ve=we.element,$t=Ve!==P,Xt=la(p,Ve,[]);this._getPreviousPlayers(Ve,$t,z,te,l.toState).forEach(Rn=>{const jn=Rn.getRealPlayer();jn.beforeDestroy&&jn.beforeDestroy(),Rn.destroy(),Xt.push(Rn)})}ql(P,l.fromStyles)}_buildAnimation(s,l,p,E,P,z){const te=l.triggerName,we=l.element,Ve=[],$t=new Set,Xt=new Set,gn=l.timelines.map(jn=>{const fr=jn.element;$t.add(fr);const fi=fr[dl];if(fi&&fi.removedBeforeQueried)return new zd(jn.duration,jn.delay);const ts=fr!==we,Eo=function im(u){const s=[];return sy(u,s),s}((p.get(fr)||ff).map(Fl=>Fl.getRealPlayer())).filter(Fl=>!!Fl.element&&Fl.element===fr),Ca=P.get(fr),ca=z.get(fr),Bu=bp(0,this._normalizer,0,jn.keyframes,Ca,ca),wc=this._buildPlayer(jn,Bu,Eo);if(jn.subTimeline&&E&&Xt.add(fr),ts){const Fl=new $p(s,te,fr);Fl.setRealPlayer(wc),Ve.push(Fl)}return wc});Ve.forEach(jn=>{la(this.playersByQueriedElement,jn.element,[]).push(jn),jn.onDone(()=>function nm(u,s,l){let p=u.get(s);if(p){if(p.length){const E=p.indexOf(l);p.splice(E,1)}0==p.length&&u.delete(s)}return p}(this.playersByQueriedElement,jn.element,jn))}),$t.forEach(jn=>kl(jn,Sp));const Rn=ic(gn);return Rn.onDestroy(()=>{$t.forEach(jn=>ld(jn,Sp)),qa(we,l.toStyles)}),Xt.forEach(jn=>{la(E,jn,[]).push(Rn)}),Rn}_buildPlayer(s,l,p){return l.length>0?this.driver.animate(s.element,l,s.duration,s.delay,s.easing,p):new zd(s.duration,s.delay)}}class $p{constructor(s,l,p){this.namespaceId=s,this.triggerName=l,this.element=p,this._player=new zd,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(s){this._containsRealPlayer||(this._player=s,this._queuedCallbacks.forEach((l,p)=>{l.forEach(E=>Ep(s,p,void 0,E))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(s.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(s){this.totalTime=s}syncPlayerEvents(s){const l=this._player;l.triggerCallback&&s.onStart(()=>l.triggerCallback("start")),s.onDone(()=>this.finish()),s.onDestroy(()=>this.destroy())}_queueEvent(s,l){la(this._queuedCallbacks,s,[]).push(l)}onDone(s){this.queued&&this._queueEvent("done",s),this._player.onDone(s)}onStart(s){this.queued&&this._queueEvent("start",s),this._player.onStart(s)}onDestroy(s){this.queued&&this._queueEvent("destroy",s),this._player.onDestroy(s)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(s){this.queued||this._player.setPosition(s)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(s){const l=this._player;l.triggerCallback&&l.triggerCallback(s)}}function ad(u){return u&&1===u.nodeType}function gf(u,s){const l=u.style.display;return u.style.display=null!=s?s:"none",l}function mf(u,s,l,p,E){const P=[];l.forEach(we=>P.push(gf(we)));const z=[];p.forEach((we,Ve)=>{const $t=new Map;we.forEach(Xt=>{const gn=s.computeStyle(Ve,Xt,E);$t.set(Xt,gn),(!gn||0==gn.length)&&(Ve[dl]=ev,z.push(Ve))}),u.set(Ve,$t)});let te=0;return l.forEach(we=>gf(we,P[te++])),z}function yf(u,s){const l=new Map;if(u.forEach(te=>l.set(te,[])),0==s.length)return l;const p=1,E=new Set(s),P=new Map;function z(te){if(!te)return p;let we=P.get(te);if(we)return we;const Ve=te.parentNode;return we=l.has(Ve)?Ve:E.has(Ve)?p:z(Ve),P.set(te,we),we}return s.forEach(te=>{const we=z(te);we!==p&&l.get(we).push(te)}),l}function kl(u,s){var l;null===(l=u.classList)||void 0===l||l.add(s)}function ld(u,s){var l;null===(l=u.classList)||void 0===l||l.remove(s)}function oh(u,s,l){ic(l).onDone(()=>u.processLeaveNode(s))}function sy(u,s){for(let l=0;l<u.length;l++){const p=u[l];p instanceof Cg?sy(p.players,s):s.push(p)}}function oy(u,s,l){const p=l.get(u);if(!p)return!1;let E=s.get(u);return E?p.forEach(P=>E.add(P)):s.set(u,p),l.delete(u),!0}class ah{constructor(s,l,p){this.bodyNode=s,this._driver=l,this._normalizer=p,this._triggerCache={},this.onRemovalComplete=(E,P)=>{},this._transitionEngine=new tm(s,l,p),this._timelineEngine=new Jy(s,l,p),this._transitionEngine.onRemovalComplete=(E,P)=>this.onRemovalComplete(E,P)}registerTrigger(s,l,p,E,P){const z=s+"-"+E;let te=this._triggerCache[z];if(!te){const we=[],$t=sf(this._driver,P,we,[]);if(we.length)throw function Zh(u,s){return new v.vHH(3404,!1)}();te=function nh(u,s,l){return new Nv(u,s,l)}(E,$t,this._normalizer),this._triggerCache[z]=te}this._transitionEngine.registerTrigger(l,E,te)}register(s,l){this._transitionEngine.register(s,l)}destroy(s,l){this._transitionEngine.destroy(s,l)}onInsert(s,l,p,E){this._transitionEngine.insertNode(s,l,p,E)}onRemove(s,l,p,E){this._transitionEngine.removeNode(s,l,E||!1,p)}disableAnimations(s,l){this._transitionEngine.markElementAsDisabled(s,l)}process(s,l,p,E){if("@"==p.charAt(0)){const[P,z]=_c(p);this._timelineEngine.command(P,l,z,E)}else this._transitionEngine.trigger(s,l,p,E)}listen(s,l,p,E,P){if("@"==p.charAt(0)){const[z,te]=_c(p);return this._timelineEngine.listen(z,l,te,P)}return this._transitionEngine.listen(s,l,p,E,P)}flush(s=-1){this._transitionEngine.flush(s)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let ly=(()=>{class u{constructor(l,p,E){this._element=l,this._startStyles=p,this._endStyles=E,this._state=0;let P=u.initialStylesByElement.get(l);P||u.initialStylesByElement.set(l,P=new Map),this._initialStyles=P}start(){this._state<1&&(this._startStyles&&qa(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(qa(this._element,this._initialStyles),this._endStyles&&(qa(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(u.initialStylesByElement.delete(this._element),this._startStyles&&(ql(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(ql(this._element,this._endStyles),this._endStyles=null),qa(this._element,this._initialStyles),this._state=3)}}return u.initialStylesByElement=new WeakMap,u})();function cy(u){let s=null;return u.forEach((l,p)=>{(function uy(u){return"display"===u||"position"===u})(p)&&(s=s||new Map,s.set(p,l))}),s}class nv{constructor(s,l,p,E){this.element=s,this.keyframes=l,this.options=p,this._specialStyles=E,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=p.duration,this._delay=p.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(s=>s()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const s=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,s,this.options),this._finalKeyframe=s.length?s[s.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(s){const l=[];return s.forEach(p=>{l.push(Object.fromEntries(p))}),l}_triggerWebAnimation(s,l,p){return s.animate(this._convertKeyframesToObject(l),p)}onStart(s){this._originalOnStartFns.push(s),this._onStartFns.push(s)}onDone(s){this._originalOnDoneFns.push(s),this._onDoneFns.push(s)}onDestroy(s){this._onDestroyFns.push(s)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(s=>s()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(s=>s()),this._onDestroyFns=[])}setPosition(s){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=s*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const s=new Map;this.hasStarted()&&this._finalKeyframe.forEach((p,E)=>{"offset"!==E&&s.set(E,this._finished?p:kg(this.element,E))}),this.currentSnapshot=s}triggerCallback(s){const l="start"===s?this._onStartFns:this._onDoneFns;l.forEach(p=>p()),l.length=0}}class Up{validateStyleProperty(s){return!0}validateAnimatableStyleProperty(s){return!0}matchesElement(s,l){return!1}containsElement(s,l){return Ip(s,l)}getParentElement(s){return Qh(s)}query(s,l,p){return Ru(s,l,p)}computeStyle(s,l,p){return window.getComputedStyle(s)[l]}animate(s,l,p,E,P,z=[]){const we={duration:p,delay:E,fill:0==E?"both":"forwards"};P&&(we.easing=P);const Ve=new Map,$t=z.filter(Rn=>Rn instanceof nv);(function Rg(u,s){return 0===u||0===s})(p,E)&&$t.forEach(Rn=>{Rn.currentSnapshot.forEach((jn,fr)=>Ve.set(fr,jn))});let Xt=function Kl(u){return u.length?u[0]instanceof Map?u:u.map(s=>Rl(s)):[]}(l).map(Rn=>Yl(Rn));Xt=function Og(u,s,l){if(l.size&&s.length){let p=s[0],E=[];if(l.forEach((P,z)=>{p.has(z)||E.push(z),p.set(z,P)}),E.length)for(let P=1;P<s.length;P++){let z=s[P];E.forEach(te=>z.set(te,kg(u,te)))}}return s}(s,Xt,Ve);const gn=function ay(u,s){let l=null,p=null;return Array.isArray(s)&&s.length?(l=cy(s[0]),s.length>1&&(p=cy(s[s.length-1]))):s instanceof Map&&(l=cy(s)),l||p?new ly(u,l,p):null}(s,Xt);return new nv(s,Xt,we,gn)}}let dy=(()=>{class u extends Au{constructor(l,p){super(),this._nextAnimationId=0,this._renderer=l.createRenderer(p.body,{id:"0",encapsulation:v.ifc.None,styles:[],data:{animation:[]}})}build(l){const p=this._nextAnimationId.toString();this._nextAnimationId++;const E=Array.isArray(l)?Vh(l):l;return sm(this._renderer,null,p,"register",[E]),new hy(p,this._renderer)}}return u.\u0275fac=function(l){return new(l||u)(v.LFG(v.FYo),v.LFG(Be.K0))},u.\u0275prov=v.Yz7({token:u,factory:u.\u0275fac}),u})();class hy extends Ud{constructor(s,l){super(),this._id=s,this._renderer=l}create(s,l){return new vf(this._id,s,l||{},this._renderer)}}class vf{constructor(s,l,p,E){this.id=s,this.element=l,this._renderer=E,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",p)}_listen(s,l){return this._renderer.listen(this.element,`@@${this.id}:${s}`,l)}_command(s,...l){return sm(this._renderer,this.element,this.id,s,l)}onDone(s){this._listen("done",s)}onStart(s){this._listen("start",s)}onDestroy(s){this._listen("destroy",s)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(s){this._command("setPosition",s)}getPosition(){var s,l;return null!==(s=null===(l=this._renderer.engine.players[+this.id])||void 0===l?void 0:l.getPosition())&&void 0!==s?s:0}}function sm(u,s,l,p,E){return u.setProperty(s,`@@${l}:${p}`,E)}const cd="@.disabled";let $a=(()=>{class u{constructor(l,p,E){this.delegate=l,this.engine=p,this._zone=E,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),p.onRemovalComplete=(P,z)=>{const te=null==z?void 0:z.parentNode(P);te&&z.removeChild(te,P)}}createRenderer(l,p){const P=this.delegate.createRenderer(l,p);if(!(l&&p&&p.data&&p.data.animation)){let $t=this._rendererCache.get(P);return $t||($t=new Ms("",P,this.engine,()=>this._rendererCache.delete(P)),this._rendererCache.set(P,$t)),$t}const z=p.id,te=p.id+"-"+this._currentId;this._currentId++,this.engine.register(te,l);const we=$t=>{Array.isArray($t)?$t.forEach(we):this.engine.registerTrigger(z,te,l,$t.name,$t)};return p.data.animation.forEach(we),new _f(this,te,P,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(l,p,E){l>=0&&l<this._microtaskId?this._zone.run(()=>p(E)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(P=>{const[z,te]=P;z(te)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([p,E]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return u.\u0275fac=function(l){return new(l||u)(v.LFG(v.FYo),v.LFG(ah),v.LFG(v.R0b))},u.\u0275prov=v.Yz7({token:u,factory:u.\u0275fac}),u})();class Ms{constructor(s,l,p,E){this.namespaceId=s,this.delegate=l,this.engine=p,this._onDestroy=E,this.destroyNode=this.delegate.destroyNode?P=>l.destroyNode(P):null}get data(){return this.delegate.data}destroy(){var s;this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy(),null===(s=this._onDestroy)||void 0===s||s.call(this)}createElement(s,l){return this.delegate.createElement(s,l)}createComment(s){return this.delegate.createComment(s)}createText(s){return this.delegate.createText(s)}appendChild(s,l){this.delegate.appendChild(s,l),this.engine.onInsert(this.namespaceId,l,s,!1)}insertBefore(s,l,p,E=!0){this.delegate.insertBefore(s,l,p),this.engine.onInsert(this.namespaceId,l,s,E)}removeChild(s,l,p){this.engine.onRemove(this.namespaceId,l,this.delegate,p)}selectRootElement(s,l){return this.delegate.selectRootElement(s,l)}parentNode(s){return this.delegate.parentNode(s)}nextSibling(s){return this.delegate.nextSibling(s)}setAttribute(s,l,p,E){this.delegate.setAttribute(s,l,p,E)}removeAttribute(s,l,p){this.delegate.removeAttribute(s,l,p)}addClass(s,l){this.delegate.addClass(s,l)}removeClass(s,l){this.delegate.removeClass(s,l)}setStyle(s,l,p,E){this.delegate.setStyle(s,l,p,E)}removeStyle(s,l,p){this.delegate.removeStyle(s,l,p)}setProperty(s,l,p){"@"==l.charAt(0)&&l==cd?this.disableAnimations(s,!!p):this.delegate.setProperty(s,l,p)}setValue(s,l){this.delegate.setValue(s,l)}listen(s,l,p){return this.delegate.listen(s,l,p)}disableAnimations(s,l){this.engine.disableAnimations(s,l)}}class _f extends Ms{constructor(s,l,p,E,P){super(l,p,E,P),this.factory=s,this.namespaceId=l}setProperty(s,l,p){"@"==l.charAt(0)?"."==l.charAt(1)&&l==cd?this.disableAnimations(s,p=void 0===p||!!p):this.engine.process(this.namespaceId,s,l.slice(1),p):this.delegate.setProperty(s,l,p)}listen(s,l,p){if("@"==l.charAt(0)){const E=function Xl(u){switch(u){case"body":return document.body;case"document":return document;case"window":return window;default:return u}}(s);let P=l.slice(1),z="";return"@"!=P.charAt(0)&&([P,z]=function ud(u){const s=u.indexOf(".");return[u.substring(0,s),u.slice(s+1)]}(P)),this.engine.listen(this.namespaceId,E,P,z,te=>{this.factory.scheduleListenerCallback(te._data||-1,p,te)})}return this.delegate.listen(s,l,p)}}const hl=[{provide:Au,useClass:dy},{provide:Wg,useFactory:function na(){return new Kg}},{provide:ah,useClass:(()=>{class u extends ah{constructor(l,p,E,P){super(l.body,p,E)}ngOnDestroy(){this.flush()}}return u.\u0275fac=function(l){return new(l||u)(v.LFG(Be.K0),v.LFG(Cp),v.LFG(Wg),v.LFG(v.z2F))},u.\u0275prov=v.Yz7({token:u,factory:u.\u0275fac}),u})()},{provide:v.FYo,useFactory:function wa(u,s,l){return new $a(u,s,l)},deps:[d.se,ah,v.R0b]}],Lu=[{provide:Cp,useFactory:()=>new Up},{provide:v.QbO,useValue:"BrowserAnimations"},...hl],hd=[{provide:Cp,useClass:bs},{provide:v.QbO,useValue:"NoopAnimations"},...hl];let fd=(()=>{class u{static withConfig(l){return{ngModule:u,providers:l.disableAnimations?hd:Lu}}}return u.\u0275fac=function(l){return new(l||u)},u.\u0275mod=v.oAB({type:u}),u.\u0275inj=v.cJS({providers:Lu,imports:[d.b2]}),u})();var Ef=H(7246);let fy=(()=>{class u{constructor(l){this.objFirebase=l}TraerUsuarios(){return this.usuariosFirebase=this.objFirebase.collection("usuarios"),this.usuariosFirebase.valueChanges()}}return u.\u0275fac=function(l){return new(l||u)(v.LFG(eu.ST))},u.\u0275prov=v.Yz7({token:u,factory:u.\u0275fac}),u})();var py=H(2110),ra=H(5030),iv=H(7622),gy=H(8490);let Ia=(()=>{class u{constructor(l){this.camera=l,console.log("Hello CamaraProvider Provider")}SacarFoto(){this.camera.getPicture({quality:70,destinationType:this.camera.DestinationType.FILE_URI,encodingType:this.camera.EncodingType.JPEG,mediaType:this.camera.MediaType.PICTURE}).then(p=>{this.miFoto="data:image/jpeg;base64,"+p},p=>{})}}return u.\u0275fac=function(l){return new(l||u)(v.LFG(gy.V1))},u.\u0275prov=v.Yz7({token:u,factory:u.\u0275fac}),u})(),om=(()=>{class u{}return u.\u0275fac=function(l){return new(l||u)},u.\u0275mod=v.oAB({type:u,bootstrap:[ot]}),u.\u0275inj=v.cJS({providers:[Qe,Re,Ia,py.O,fy,iv.e,eu.yb,{provide:ve.wN,useClass:Fe.r4}],imports:[d.b2,Pe.vQ,Fe.Pc.forRoot(),mt,ra.u5,He.hO.initializeApp(Ut_firebase),$e.ww,Sv,wg,eu.yb,fd,Vd.TE,ra.UX,(0,ga.hX)(()=>(0,ga.ZF)(Ut_firebase)),(0,Ef.AR)(()=>(0,Ef.v0)()),(0,Xe.Cm)(()=>(0,Xe.ad)())]}),u})();(0,v.G48)(),d.q6().bootstrapModule(om).catch(u=>console.log(u))},2110:(er,Nt,H)=>{"use strict";H.d(Nt,{O:()=>Xe});var d=H(5861),v=H(9260),ve=H(2223),Fe=H(1085);let Xe=(()=>{class Ke{constructor(Re){this.objFirebase=Re,this.usuario=JSON.parse(sessionStorage.getItem("usuario"))}TraerFotosFeas(){return this.fotosFirebase=this.objFirebase.collection("feas"),this.fotosFirebase.valueChanges()}TraerFotosLindas(){return this.fotosFirebase=this.objFirebase.collection("lindas"),this.fotosFirebase.valueChanges()}GuardarData(Re,Qe){var Be=this;return(0,d.Z)(function*(){let Me=Be.objFirebase.createId(),ot={id:Me,nombre:Re.nombre,path:Re.path,usuario:Re.usuario,positivo:0,negativo:0};Be.objFirebase.collection(Qe).doc(Me).set(ot).then(Pe=>{console.log(Pe)}).catch(Pe=>{console.log(Pe)})})()}TraerUrl(Re){let Qe;return v.Z.storage().ref().child(Re).getDownloadURL().then(Be=>{Qe=Be,console.log(Be)}).catch(Be=>{console.log(Be)}),Qe}VotarNegativo(Re,Qe){console.log(Re),Re.negativo++,this.objFirebase.collection(Qe).doc(Re.id).update(Re).then(Be=>{console.log(Be)})}VotarPositivo(Re,Qe){Re.positivo++,console.log(Re),this.objFirebase.collection(Qe).doc(Re.id).update(Re).then(Be=>{console.log(Be)})}}return Ke.\u0275fac=function(Re){return new(Re||Ke)(ve.LFG(Fe.ST))},Ke.\u0275prov=ve.Yz7({token:Ke,factory:Ke.\u0275fac}),Ke})()},1135:(er,Nt,H)=>{"use strict";H.d(Nt,{X:()=>v});var d=H(7579);class v extends d.x{constructor(Fe){super(),this._value=Fe}get value(){return this.getValue()}_subscribe(Fe){const Xe=super._subscribe(Fe);return!Xe.closed&&Fe.next(this._value),Xe}getValue(){const{hasError:Fe,thrownError:Xe,_value:Ke}=this;if(Fe)throw Xe;return this._throwIfClosed(),Ke}next(Fe){super.next(this._value=Fe)}}},9751:(er,Nt,H)=>{"use strict";H.d(Nt,{y:()=>Re});var d=H(930),v=H(727),ve=H(8822),Fe=H(9635),Xe=H(2416),Ke=H(576),Se=H(2806);let Re=(()=>{class ot{constructor(ct){ct&&(this._subscribe=ct)}lift(ct){const mt=new ot;return mt.source=this,mt.operator=ct,mt}subscribe(ct,mt,Ut){const He=function Me(ot){return ot&&ot instanceof d.Lv||function Be(ot){return ot&&(0,Ke.m)(ot.next)&&(0,Ke.m)(ot.error)&&(0,Ke.m)(ot.complete)}(ot)&&(0,v.Nn)(ot)}(ct)?ct:new d.Hp(ct,mt,Ut);return(0,Se.x)(()=>{const{operator:$e,source:Lt}=this;He.add($e?$e.call(He,Lt):Lt?this._subscribe(He):this._trySubscribe(He))}),He}_trySubscribe(ct){try{return this._subscribe(ct)}catch(mt){ct.error(mt)}}forEach(ct,mt){return new(mt=Qe(mt))((Ut,He)=>{const $e=new d.Hp({next:Lt=>{try{ct(Lt)}catch(Rt){He(Rt),$e.unsubscribe()}},error:He,complete:Ut});this.subscribe($e)})}_subscribe(ct){var mt;return null===(mt=this.source)||void 0===mt?void 0:mt.subscribe(ct)}[ve.L](){return this}pipe(...ct){return(0,Fe.U)(ct)(this)}toPromise(ct){return new(ct=Qe(ct))((mt,Ut)=>{let He;this.subscribe($e=>He=$e,$e=>Ut($e),()=>mt(He))})}}return ot.create=Pe=>new ot(Pe),ot})();function Qe(ot){var Pe;return null!==(Pe=null!=ot?ot:Xe.config.Promise)&&void 0!==Pe?Pe:Promise}},7579:(er,Nt,H)=>{"use strict";H.d(Nt,{x:()=>Se});var d=H(9751),v=H(727);const Fe=(0,H(3888).d)(Qe=>function(){Qe(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Xe=H(8737),Ke=H(2806);let Se=(()=>{class Qe extends d.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(Me){const ot=new Re(this,this);return ot.operator=Me,ot}_throwIfClosed(){if(this.closed)throw new Fe}next(Me){(0,Ke.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const ot of this.currentObservers)ot.next(Me)}})}error(Me){(0,Ke.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=Me;const{observers:ot}=this;for(;ot.length;)ot.shift().error(Me)}})}complete(){(0,Ke.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:Me}=this;for(;Me.length;)Me.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var Me;return(null===(Me=this.observers)||void 0===Me?void 0:Me.length)>0}_trySubscribe(Me){return this._throwIfClosed(),super._trySubscribe(Me)}_subscribe(Me){return this._throwIfClosed(),this._checkFinalizedStatuses(Me),this._innerSubscribe(Me)}_innerSubscribe(Me){const{hasError:ot,isStopped:Pe,observers:ct}=this;return ot||Pe?v.Lc:(this.currentObservers=null,ct.push(Me),new v.w0(()=>{this.currentObservers=null,(0,Xe.P)(ct,Me)}))}_checkFinalizedStatuses(Me){const{hasError:ot,thrownError:Pe,isStopped:ct}=this;ot?Me.error(Pe):ct&&Me.complete()}asObservable(){const Me=new d.y;return Me.source=this,Me}}return Qe.create=(Be,Me)=>new Re(Be,Me),Qe})();class Re extends Se{constructor(Be,Me){super(),this.destination=Be,this.source=Me}next(Be){var Me,ot;null===(ot=null===(Me=this.destination)||void 0===Me?void 0:Me.next)||void 0===ot||ot.call(Me,Be)}error(Be){var Me,ot;null===(ot=null===(Me=this.destination)||void 0===Me?void 0:Me.error)||void 0===ot||ot.call(Me,Be)}complete(){var Be,Me;null===(Me=null===(Be=this.destination)||void 0===Be?void 0:Be.complete)||void 0===Me||Me.call(Be)}_subscribe(Be){var Me,ot;return null!==(ot=null===(Me=this.source)||void 0===Me?void 0:Me.subscribe(Be))&&void 0!==ot?ot:v.Lc}}},930:(er,Nt,H)=>{"use strict";H.d(Nt,{Hp:()=>Ut,Lv:()=>ot});var d=H(576),v=H(727),ve=H(2416),Fe=H(7849),Xe=H(5032);const Ke=Qe("C",void 0,void 0);function Qe(ht,Ct,Tt){return{kind:ht,value:Ct,error:Tt}}var Be=H(3410),Me=H(2806);class ot extends v.w0{constructor(Ct){super(),this.isStopped=!1,Ct?(this.destination=Ct,(0,v.Nn)(Ct)&&Ct.add(this)):this.destination=Rt}static create(Ct,Tt,Dt){return new Ut(Ct,Tt,Dt)}next(Ct){this.isStopped?Lt(function Re(ht){return Qe("N",ht,void 0)}(Ct),this):this._next(Ct)}error(Ct){this.isStopped?Lt(function Se(ht){return Qe("E",void 0,ht)}(Ct),this):(this.isStopped=!0,this._error(Ct))}complete(){this.isStopped?Lt(Ke,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Ct){this.destination.next(Ct)}_error(Ct){try{this.destination.error(Ct)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Pe=Function.prototype.bind;function ct(ht,Ct){return Pe.call(ht,Ct)}class mt{constructor(Ct){this.partialObserver=Ct}next(Ct){const{partialObserver:Tt}=this;if(Tt.next)try{Tt.next(Ct)}catch(Dt){He(Dt)}}error(Ct){const{partialObserver:Tt}=this;if(Tt.error)try{Tt.error(Ct)}catch(Dt){He(Dt)}else He(Ct)}complete(){const{partialObserver:Ct}=this;if(Ct.complete)try{Ct.complete()}catch(Tt){He(Tt)}}}class Ut extends ot{constructor(Ct,Tt,Dt){let vt;if(super(),(0,d.m)(Ct)||!Ct)vt={next:null!=Ct?Ct:void 0,error:null!=Tt?Tt:void 0,complete:null!=Dt?Dt:void 0};else{let it;this&&ve.config.useDeprecatedNextContext?(it=Object.create(Ct),it.unsubscribe=()=>this.unsubscribe(),vt={next:Ct.next&&ct(Ct.next,it),error:Ct.error&&ct(Ct.error,it),complete:Ct.complete&&ct(Ct.complete,it)}):vt=Ct}this.destination=new mt(vt)}}function He(ht){ve.config.useDeprecatedSynchronousErrorHandling?(0,Me.O)(ht):(0,Fe.h)(ht)}function Lt(ht,Ct){const{onStoppedNotification:Tt}=ve.config;Tt&&Be.z.setTimeout(()=>Tt(ht,Ct))}const Rt={closed:!0,next:Xe.Z,error:function $e(ht){throw ht},complete:Xe.Z}},727:(er,Nt,H)=>{"use strict";H.d(Nt,{Lc:()=>Ke,w0:()=>Xe,Nn:()=>Se});var d=H(576);const ve=(0,H(3888).d)(Qe=>function(Me){Qe(this),this.message=Me?`${Me.length} errors occurred during unsubscription:\n${Me.map((ot,Pe)=>`${Pe+1}) ${ot.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=Me});var Fe=H(8737);class Xe{constructor(Be){this.initialTeardown=Be,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let Be;if(!this.closed){this.closed=!0;const{_parentage:Me}=this;if(Me)if(this._parentage=null,Array.isArray(Me))for(const ct of Me)ct.remove(this);else Me.remove(this);const{initialTeardown:ot}=this;if((0,d.m)(ot))try{ot()}catch(ct){Be=ct instanceof ve?ct.errors:[ct]}const{_finalizers:Pe}=this;if(Pe){this._finalizers=null;for(const ct of Pe)try{Re(ct)}catch(mt){Be=null!=Be?Be:[],mt instanceof ve?Be=[...Be,...mt.errors]:Be.push(mt)}}if(Be)throw new ve(Be)}}add(Be){var Me;if(Be&&Be!==this)if(this.closed)Re(Be);else{if(Be instanceof Xe){if(Be.closed||Be._hasParent(this))return;Be._addParent(this)}(this._finalizers=null!==(Me=this._finalizers)&&void 0!==Me?Me:[]).push(Be)}}_hasParent(Be){const{_parentage:Me}=this;return Me===Be||Array.isArray(Me)&&Me.includes(Be)}_addParent(Be){const{_parentage:Me}=this;this._parentage=Array.isArray(Me)?(Me.push(Be),Me):Me?[Me,Be]:Be}_removeParent(Be){const{_parentage:Me}=this;Me===Be?this._parentage=null:Array.isArray(Me)&&(0,Fe.P)(Me,Be)}remove(Be){const{_finalizers:Me}=this;Me&&(0,Fe.P)(Me,Be),Be instanceof Xe&&Be._removeParent(this)}}Xe.EMPTY=(()=>{const Qe=new Xe;return Qe.closed=!0,Qe})();const Ke=Xe.EMPTY;function Se(Qe){return Qe instanceof Xe||Qe&&"closed"in Qe&&(0,d.m)(Qe.remove)&&(0,d.m)(Qe.add)&&(0,d.m)(Qe.unsubscribe)}function Re(Qe){(0,d.m)(Qe)?Qe():Qe.unsubscribe()}},2416:(er,Nt,H)=>{"use strict";H.d(Nt,{config:()=>d});const d={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},7272:(er,Nt,H)=>{"use strict";H.d(Nt,{z:()=>Xe});var d=H(8189),ve=H(7669),Fe=H(8996);function Xe(...Ke){return function v(){return(0,d.J)(1)}()((0,Fe.D)(Ke,(0,ve.yG)(Ke)))}},515:(er,Nt,H)=>{"use strict";H.d(Nt,{E:()=>v});const v=new(H(9751).y)(Xe=>Xe.complete())},8996:(er,Nt,H)=>{"use strict";H.d(Nt,{D:()=>Ct});var d=H(8421),v=H(5363),ve=H(9468),Ke=H(9751),Re=H(2202),Qe=H(576),Be=H(9672);function ot(Tt,Dt){if(!Tt)throw new Error("Iterable cannot be null");return new Ke.y(vt=>{(0,Be.f)(vt,Dt,()=>{const it=Tt[Symbol.asyncIterator]();(0,Be.f)(vt,Dt,()=>{it.next().then(Gt=>{Gt.done?vt.complete():vt.next(Gt.value)})},0,!0)})})}var Pe=H(3670),ct=H(8239),mt=H(1144),Ut=H(6495),He=H(2206),$e=H(4532),Lt=H(3260);function Ct(Tt,Dt){return Dt?function ht(Tt,Dt){if(null!=Tt){if((0,Pe.c)(Tt))return function Fe(Tt,Dt){return(0,d.Xf)(Tt).pipe((0,ve.R)(Dt),(0,v.Q)(Dt))}(Tt,Dt);if((0,mt.z)(Tt))return function Se(Tt,Dt){return new Ke.y(vt=>{let it=0;return Dt.schedule(function(){it===Tt.length?vt.complete():(vt.next(Tt[it++]),vt.closed||this.schedule())})})}(Tt,Dt);if((0,ct.t)(Tt))return function Xe(Tt,Dt){return(0,d.Xf)(Tt).pipe((0,ve.R)(Dt),(0,v.Q)(Dt))}(Tt,Dt);if((0,He.D)(Tt))return ot(Tt,Dt);if((0,Ut.T)(Tt))return function Me(Tt,Dt){return new Ke.y(vt=>{let it;return(0,Be.f)(vt,Dt,()=>{it=Tt[Re.h](),(0,Be.f)(vt,Dt,()=>{let Gt,St;try{({value:Gt,done:St}=it.next())}catch(kt){return void vt.error(kt)}St?vt.complete():vt.next(Gt)},0,!0)}),()=>(0,Qe.m)(null==it?void 0:it.return)&&it.return()})}(Tt,Dt);if((0,Lt.L)(Tt))return function Rt(Tt,Dt){return ot((0,Lt.Q)(Tt),Dt)}(Tt,Dt)}throw(0,$e.z)(Tt)}(Tt,Dt):(0,d.Xf)(Tt)}},4968:(er,Nt,H)=>{"use strict";H.d(Nt,{R:()=>Be});var d=H(8421),v=H(9751),ve=H(5577),Fe=H(1144),Xe=H(576),Ke=H(3268);const Se=["addListener","removeListener"],Re=["addEventListener","removeEventListener"],Qe=["on","off"];function Be(mt,Ut,He,$e){if((0,Xe.m)(He)&&($e=He,He=void 0),$e)return Be(mt,Ut,He).pipe((0,Ke.Z)($e));const[Lt,Rt]=function ct(mt){return(0,Xe.m)(mt.addEventListener)&&(0,Xe.m)(mt.removeEventListener)}(mt)?Re.map(ht=>Ct=>mt[ht](Ut,Ct,He)):function ot(mt){return(0,Xe.m)(mt.addListener)&&(0,Xe.m)(mt.removeListener)}(mt)?Se.map(Me(mt,Ut)):function Pe(mt){return(0,Xe.m)(mt.on)&&(0,Xe.m)(mt.off)}(mt)?Qe.map(Me(mt,Ut)):[];if(!Lt&&(0,Fe.z)(mt))return(0,ve.z)(ht=>Be(ht,Ut,He))((0,d.Xf)(mt));if(!Lt)throw new TypeError("Invalid event target");return new v.y(ht=>{const Ct=(...Tt)=>ht.next(1<Tt.length?Tt:Tt[0]);return Lt(Ct),()=>Rt(Ct)})}function Me(mt,Ut){return He=>$e=>mt[He](Ut,$e)}},8421:(er,Nt,H)=>{"use strict";H.d(Nt,{Xf:()=>Pe});var d=H(655),v=H(1144),ve=H(8239),Fe=H(9751),Xe=H(3670),Ke=H(2206),Se=H(4532),Re=H(6495),Qe=H(3260),Be=H(576),Me=H(7849),ot=H(8822);function Pe(ht){if(ht instanceof Fe.y)return ht;if(null!=ht){if((0,Xe.c)(ht))return function ct(ht){return new Fe.y(Ct=>{const Tt=ht[ot.L]();if((0,Be.m)(Tt.subscribe))return Tt.subscribe(Ct);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(ht);if((0,v.z)(ht))return function mt(ht){return new Fe.y(Ct=>{for(let Tt=0;Tt<ht.length&&!Ct.closed;Tt++)Ct.next(ht[Tt]);Ct.complete()})}(ht);if((0,ve.t)(ht))return function Ut(ht){return new Fe.y(Ct=>{ht.then(Tt=>{Ct.closed||(Ct.next(Tt),Ct.complete())},Tt=>Ct.error(Tt)).then(null,Me.h)})}(ht);if((0,Ke.D)(ht))return $e(ht);if((0,Re.T)(ht))return function He(ht){return new Fe.y(Ct=>{for(const Tt of ht)if(Ct.next(Tt),Ct.closed)return;Ct.complete()})}(ht);if((0,Qe.L)(ht))return function Lt(ht){return $e((0,Qe.Q)(ht))}(ht)}throw(0,Se.z)(ht)}function $e(ht){return new Fe.y(Ct=>{(function Rt(ht,Ct){var Tt,Dt,vt,it;return(0,d.mG)(this,void 0,void 0,function*(){try{for(Tt=(0,d.KL)(ht);!(Dt=yield Tt.next()).done;)if(Ct.next(Dt.value),Ct.closed)return}catch(Gt){vt={error:Gt}}finally{try{Dt&&!Dt.done&&(it=Tt.return)&&(yield it.call(Tt))}finally{if(vt)throw vt.error}}Ct.complete()})})(ht,Ct).catch(Tt=>Ct.error(Tt))})}},6451:(er,Nt,H)=>{"use strict";H.d(Nt,{T:()=>Ke});var d=H(8189),v=H(8421),ve=H(515),Fe=H(7669),Xe=H(8996);function Ke(...Se){const Re=(0,Fe.yG)(Se),Qe=(0,Fe._6)(Se,1/0),Be=Se;return Be.length?1===Be.length?(0,v.Xf)(Be[0]):(0,d.J)(Qe)((0,Xe.D)(Be,Re)):ve.E}},9646:(er,Nt,H)=>{"use strict";H.d(Nt,{of:()=>ve});var d=H(7669),v=H(8996);function ve(...Fe){const Xe=(0,d.yG)(Fe);return(0,v.D)(Fe,Xe)}},5403:(er,Nt,H)=>{"use strict";H.d(Nt,{Q:()=>ve,x:()=>v});var d=H(930);function v(Fe,Xe,Ke,Se,Re){return new ve(Fe,Xe,Ke,Se,Re)}class ve extends d.Lv{constructor(Xe,Ke,Se,Re,Qe,Be){super(Xe),this.onFinalize=Qe,this.shouldUnsubscribe=Be,this._next=Ke?function(Me){try{Ke(Me)}catch(ot){Xe.error(ot)}}:super._next,this._error=Re?function(Me){try{Re(Me)}catch(ot){Xe.error(ot)}finally{this.unsubscribe()}}:super._error,this._complete=Se?function(){try{Se()}catch(Me){Xe.error(Me)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var Xe;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:Ke}=this;super.unsubscribe(),!Ke&&(null===(Xe=this.onFinalize)||void 0===Xe||Xe.call(this))}}}},6590:(er,Nt,H)=>{"use strict";H.d(Nt,{d:()=>ve});var d=H(4482),v=H(5403);function ve(Fe){return(0,d.e)((Xe,Ke)=>{let Se=!1;Xe.subscribe((0,v.x)(Ke,Re=>{Se=!0,Ke.next(Re)},()=>{Se||Ke.next(Fe),Ke.complete()}))})}},1884:(er,Nt,H)=>{"use strict";H.d(Nt,{x:()=>Fe});var d=H(4671),v=H(4482),ve=H(5403);function Fe(Ke,Se=d.y){return Ke=null!=Ke?Ke:Xe,(0,v.e)((Re,Qe)=>{let Be,Me=!0;Re.subscribe((0,ve.x)(Qe,ot=>{const Pe=Se(ot);(Me||!Ke(Be,Pe))&&(Me=!1,Be=Pe,Qe.next(ot))}))})}function Xe(Ke,Se){return Ke===Se}},9300:(er,Nt,H)=>{"use strict";H.d(Nt,{h:()=>ve});var d=H(4482),v=H(5403);function ve(Fe,Xe){return(0,d.e)((Ke,Se)=>{let Re=0;Ke.subscribe((0,v.x)(Se,Qe=>Fe.call(Xe,Qe,Re++)&&Se.next(Qe)))})}},8746:(er,Nt,H)=>{"use strict";H.d(Nt,{x:()=>v});var d=H(4482);function v(ve){return(0,d.e)((Fe,Xe)=>{try{Fe.subscribe(Xe)}finally{Xe.add(ve)}})}},590:(er,Nt,H)=>{"use strict";H.d(Nt,{P:()=>Se});var d=H(6805),v=H(9300),ve=H(5698),Fe=H(6590),Xe=H(8068),Ke=H(4671);function Se(Re,Qe){const Be=arguments.length>=2;return Me=>Me.pipe(Re?(0,v.h)((ot,Pe)=>Re(ot,Pe,Me)):Ke.y,(0,ve.q)(1),Be?(0,Fe.d)(Qe):(0,Xe.T)(()=>new d.K))}},4004:(er,Nt,H)=>{"use strict";H.d(Nt,{U:()=>ve});var d=H(4482),v=H(5403);function ve(Fe,Xe){return(0,d.e)((Ke,Se)=>{let Re=0;Ke.subscribe((0,v.x)(Se,Qe=>{Se.next(Fe.call(Xe,Qe,Re++))}))})}},8189:(er,Nt,H)=>{"use strict";H.d(Nt,{J:()=>ve});var d=H(5577),v=H(4671);function ve(Fe=1/0){return(0,d.z)(v.y,Fe)}},5577:(er,Nt,H)=>{"use strict";H.d(Nt,{z:()=>Re});var d=H(4004),v=H(8421),ve=H(4482),Fe=H(9672),Xe=H(5403),Se=H(576);function Re(Qe,Be,Me=1/0){return(0,Se.m)(Be)?Re((ot,Pe)=>(0,d.U)((ct,mt)=>Be(ot,ct,Pe,mt))((0,v.Xf)(Qe(ot,Pe))),Me):("number"==typeof Be&&(Me=Be),(0,ve.e)((ot,Pe)=>function Ke(Qe,Be,Me,ot,Pe,ct,mt,Ut){const He=[];let $e=0,Lt=0,Rt=!1;const ht=()=>{Rt&&!He.length&&!$e&&Be.complete()},Ct=Dt=>$e<ot?Tt(Dt):He.push(Dt),Tt=Dt=>{ct&&Be.next(Dt),$e++;let vt=!1;(0,v.Xf)(Me(Dt,Lt++)).subscribe((0,Xe.x)(Be,it=>{null==Pe||Pe(it),ct?Ct(it):Be.next(it)},()=>{vt=!0},void 0,()=>{if(vt)try{for($e--;He.length&&$e<ot;){const it=He.shift();mt?(0,Fe.f)(Be,mt,()=>Tt(it)):Tt(it)}ht()}catch(it){Be.error(it)}}))};return Qe.subscribe((0,Xe.x)(Be,Ct,()=>{Rt=!0,ht()})),()=>{null==Ut||Ut()}}(ot,Pe,Qe,Me)))}},5363:(er,Nt,H)=>{"use strict";H.d(Nt,{Q:()=>Fe});var d=H(9672),v=H(4482),ve=H(5403);function Fe(Xe,Ke=0){return(0,v.e)((Se,Re)=>{Se.subscribe((0,ve.x)(Re,Qe=>(0,d.f)(Re,Xe,()=>Re.next(Qe),Ke),()=>(0,d.f)(Re,Xe,()=>Re.complete(),Ke),Qe=>(0,d.f)(Re,Xe,()=>Re.error(Qe),Ke)))})}},1520:(er,Nt,H)=>{"use strict";H.d(Nt,{G:()=>ve});var d=H(4482),v=H(5403);function ve(){return(0,d.e)((Fe,Xe)=>{let Ke,Se=!1;Fe.subscribe((0,v.x)(Xe,Re=>{const Qe=Ke;Ke=Re,Se&&Xe.next([Qe,Re]),Se=!0}))})}},5026:(er,Nt,H)=>{"use strict";H.d(Nt,{R:()=>Fe});var d=H(4482),v=H(5403);function Fe(Xe,Ke){return(0,d.e)(function ve(Xe,Ke,Se,Re,Qe){return(Be,Me)=>{let ot=Se,Pe=Ke,ct=0;Be.subscribe((0,v.x)(Me,mt=>{const Ut=ct++;Pe=ot?Xe(Pe,mt,Ut):(ot=!0,mt),Re&&Me.next(Pe)},Qe&&(()=>{ot&&Me.next(Pe),Me.complete()})))}}(Xe,Ke,arguments.length>=2,!0))}},3099:(er,Nt,H)=>{"use strict";H.d(Nt,{B:()=>Xe});var d=H(8421),v=H(7579),ve=H(930),Fe=H(4482);function Xe(Se={}){const{connector:Re=(()=>new v.x),resetOnError:Qe=!0,resetOnComplete:Be=!0,resetOnRefCountZero:Me=!0}=Se;return ot=>{let Pe,ct,mt,Ut=0,He=!1,$e=!1;const Lt=()=>{null==ct||ct.unsubscribe(),ct=void 0},Rt=()=>{Lt(),Pe=mt=void 0,He=$e=!1},ht=()=>{const Ct=Pe;Rt(),null==Ct||Ct.unsubscribe()};return(0,Fe.e)((Ct,Tt)=>{Ut++,!$e&&!He&&Lt();const Dt=mt=null!=mt?mt:Re();Tt.add(()=>{Ut--,0===Ut&&!$e&&!He&&(ct=Ke(ht,Me))}),Dt.subscribe(Tt),!Pe&&Ut>0&&(Pe=new ve.Hp({next:vt=>Dt.next(vt),error:vt=>{$e=!0,Lt(),ct=Ke(Rt,Qe,vt),Dt.error(vt)},complete:()=>{He=!0,Lt(),ct=Ke(Rt,Be),Dt.complete()}}),(0,d.Xf)(Ct).subscribe(Pe))})(ot)}}function Ke(Se,Re,...Qe){if(!0===Re)return void Se();if(!1===Re)return;const Be=new ve.Hp({next:()=>{Be.unsubscribe(),Se()}});return(0,d.Xf)(Re(...Qe)).subscribe(Be)}},3151:(er,Nt,H)=>{"use strict";H.d(Nt,{d:()=>Xe});var d=H(7579),v=H(6063);class ve extends d.x{constructor(Se=1/0,Re=1/0,Qe=v.l){super(),this._bufferSize=Se,this._windowTime=Re,this._timestampProvider=Qe,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=Re===1/0,this._bufferSize=Math.max(1,Se),this._windowTime=Math.max(1,Re)}next(Se){const{isStopped:Re,_buffer:Qe,_infiniteTimeWindow:Be,_timestampProvider:Me,_windowTime:ot}=this;Re||(Qe.push(Se),!Be&&Qe.push(Me.now()+ot)),this._trimBuffer(),super.next(Se)}_subscribe(Se){this._throwIfClosed(),this._trimBuffer();const Re=this._innerSubscribe(Se),{_infiniteTimeWindow:Qe,_buffer:Be}=this,Me=Be.slice();for(let ot=0;ot<Me.length&&!Se.closed;ot+=Qe?1:2)Se.next(Me[ot]);return this._checkFinalizedStatuses(Se),Re}_trimBuffer(){const{_bufferSize:Se,_timestampProvider:Re,_buffer:Qe,_infiniteTimeWindow:Be}=this,Me=(Be?1:2)*Se;if(Se<1/0&&Me<Qe.length&&Qe.splice(0,Qe.length-Me),!Be){const ot=Re.now();let Pe=0;for(let ct=1;ct<Qe.length&&Qe[ct]<=ot;ct+=2)Pe=ct;Pe&&Qe.splice(0,Pe+1)}}}var Fe=H(3099);function Xe(Ke,Se,Re){let Qe,Be=!1;return Ke&&"object"==typeof Ke?({bufferSize:Qe=1/0,windowTime:Se=1/0,refCount:Be=!1,scheduler:Re}=Ke):Qe=null!=Ke?Ke:1/0,(0,Fe.B)({connector:()=>new ve(Qe,Se,Re),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:Be})}},8675:(er,Nt,H)=>{"use strict";H.d(Nt,{O:()=>Fe});var d=H(7272),v=H(7669),ve=H(4482);function Fe(...Xe){const Ke=(0,v.yG)(Xe);return(0,ve.e)((Se,Re)=>{(Ke?(0,d.z)(Xe,Se,Ke):(0,d.z)(Xe,Se)).subscribe(Re)})}},9468:(er,Nt,H)=>{"use strict";H.d(Nt,{R:()=>v});var d=H(4482);function v(ve,Fe=0){return(0,d.e)((Xe,Ke)=>{Ke.add(ve.schedule(()=>Xe.subscribe(Ke),Fe))})}},3900:(er,Nt,H)=>{"use strict";H.d(Nt,{w:()=>Fe});var d=H(8421),v=H(4482),ve=H(5403);function Fe(Xe,Ke){return(0,v.e)((Se,Re)=>{let Qe=null,Be=0,Me=!1;const ot=()=>Me&&!Qe&&Re.complete();Se.subscribe((0,ve.x)(Re,Pe=>{null==Qe||Qe.unsubscribe();let ct=0;const mt=Be++;(0,d.Xf)(Xe(Pe,mt)).subscribe(Qe=(0,ve.x)(Re,Ut=>Re.next(Ke?Ke(Pe,Ut,mt,ct++):Ut),()=>{Qe=null,ot()}))},()=>{Me=!0,ot()}))})}},5698:(er,Nt,H)=>{"use strict";H.d(Nt,{q:()=>Fe});var d=H(515),v=H(4482),ve=H(5403);function Fe(Xe){return Xe<=0?()=>d.E:(0,v.e)((Ke,Se)=>{let Re=0;Ke.subscribe((0,ve.x)(Se,Qe=>{++Re<=Xe&&(Se.next(Qe),Xe<=Re&&Se.complete())}))})}},8505:(er,Nt,H)=>{"use strict";H.d(Nt,{b:()=>Xe});var d=H(576),v=H(4482),ve=H(5403),Fe=H(4671);function Xe(Ke,Se,Re){const Qe=(0,d.m)(Ke)||Se||Re?{next:Ke,error:Se,complete:Re}:Ke;return Qe?(0,v.e)((Be,Me)=>{var ot;null===(ot=Qe.subscribe)||void 0===ot||ot.call(Qe);let Pe=!0;Be.subscribe((0,ve.x)(Me,ct=>{var mt;null===(mt=Qe.next)||void 0===mt||mt.call(Qe,ct),Me.next(ct)},()=>{var ct;Pe=!1,null===(ct=Qe.complete)||void 0===ct||ct.call(Qe),Me.complete()},ct=>{var mt;Pe=!1,null===(mt=Qe.error)||void 0===mt||mt.call(Qe,ct),Me.error(ct)},()=>{var ct,mt;Pe&&(null===(ct=Qe.unsubscribe)||void 0===ct||ct.call(Qe)),null===(mt=Qe.finalize)||void 0===mt||mt.call(Qe)}))}):Fe.y}},8068:(er,Nt,H)=>{"use strict";H.d(Nt,{T:()=>Fe});var d=H(6805),v=H(4482),ve=H(5403);function Fe(Ke=Xe){return(0,v.e)((Se,Re)=>{let Qe=!1;Se.subscribe((0,ve.x)(Re,Be=>{Qe=!0,Re.next(Be)},()=>Qe?Re.complete():Re.error(Ke())))})}function Xe(){return new d.K}},4408:(er,Nt,H)=>{"use strict";H.d(Nt,{o:()=>Xe});var d=H(727);class v extends d.w0{constructor(Se,Re){super()}schedule(Se,Re=0){return this}}const ve={setInterval(Ke,Se,...Re){const{delegate:Qe}=ve;return null!=Qe&&Qe.setInterval?Qe.setInterval(Ke,Se,...Re):setInterval(Ke,Se,...Re)},clearInterval(Ke){const{delegate:Se}=ve;return((null==Se?void 0:Se.clearInterval)||clearInterval)(Ke)},delegate:void 0};var Fe=H(8737);class Xe extends v{constructor(Se,Re){super(Se,Re),this.scheduler=Se,this.work=Re,this.pending=!1}schedule(Se,Re=0){var Qe;if(this.closed)return this;this.state=Se;const Be=this.id,Me=this.scheduler;return null!=Be&&(this.id=this.recycleAsyncId(Me,Be,Re)),this.pending=!0,this.delay=Re,this.id=null!==(Qe=this.id)&&void 0!==Qe?Qe:this.requestAsyncId(Me,this.id,Re),this}requestAsyncId(Se,Re,Qe=0){return ve.setInterval(Se.flush.bind(Se,this),Qe)}recycleAsyncId(Se,Re,Qe=0){if(null!=Qe&&this.delay===Qe&&!1===this.pending)return Re;null!=Re&&ve.clearInterval(Re)}execute(Se,Re){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const Qe=this._execute(Se,Re);if(Qe)return Qe;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(Se,Re){let Be,Qe=!1;try{this.work(Se)}catch(Me){Qe=!0,Be=Me||new Error("Scheduled action threw falsy error")}if(Qe)return this.unsubscribe(),Be}unsubscribe(){if(!this.closed){const{id:Se,scheduler:Re}=this,{actions:Qe}=Re;this.work=this.state=this.scheduler=null,this.pending=!1,(0,Fe.P)(Qe,this),null!=Se&&(this.id=this.recycleAsyncId(Re,Se,null)),this.delay=null,super.unsubscribe()}}}},7565:(er,Nt,H)=>{"use strict";H.d(Nt,{v:()=>ve});var d=H(6063);class v{constructor(Xe,Ke=v.now){this.schedulerActionCtor=Xe,this.now=Ke}schedule(Xe,Ke=0,Se){return new this.schedulerActionCtor(this,Xe).schedule(Se,Ke)}}v.now=d.l.now;class ve extends v{constructor(Xe,Ke=v.now){super(Xe,Ke),this.actions=[],this._active=!1}flush(Xe){const{actions:Ke}=this;if(this._active)return void Ke.push(Xe);let Se;this._active=!0;do{if(Se=Xe.execute(Xe.state,Xe.delay))break}while(Xe=Ke.shift());if(this._active=!1,Se){for(;Xe=Ke.shift();)Xe.unsubscribe();throw Se}}}},4986:(er,Nt,H)=>{"use strict";H.d(Nt,{z:()=>ve});var d=H(4408);const ve=new(H(7565).v)(d.o)},6063:(er,Nt,H)=>{"use strict";H.d(Nt,{l:()=>d});const d={now:()=>(d.delegate||Date).now(),delegate:void 0}},3410:(er,Nt,H)=>{"use strict";H.d(Nt,{z:()=>d});const d={setTimeout(v,ve,...Fe){const{delegate:Xe}=d;return null!=Xe&&Xe.setTimeout?Xe.setTimeout(v,ve,...Fe):setTimeout(v,ve,...Fe)},clearTimeout(v){const{delegate:ve}=d;return((null==ve?void 0:ve.clearTimeout)||clearTimeout)(v)},delegate:void 0}},2202:(er,Nt,H)=>{"use strict";H.d(Nt,{h:()=>v});const v=function d(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(er,Nt,H)=>{"use strict";H.d(Nt,{L:()=>d});const d="function"==typeof Symbol&&Symbol.observable||"@@observable"},6805:(er,Nt,H)=>{"use strict";H.d(Nt,{K:()=>v});const v=(0,H(3888).d)(ve=>function(){ve(this),this.name="EmptyError",this.message="no elements in sequence"})},7669:(er,Nt,H)=>{"use strict";H.d(Nt,{_6:()=>Ke,jO:()=>Fe,yG:()=>Xe});var d=H(576);function ve(Se){return Se[Se.length-1]}function Fe(Se){return(0,d.m)(ve(Se))?Se.pop():void 0}function Xe(Se){return function v(Se){return Se&&(0,d.m)(Se.schedule)}(ve(Se))?Se.pop():void 0}function Ke(Se,Re){return"number"==typeof ve(Se)?Se.pop():Re}},4742:(er,Nt,H)=>{"use strict";H.d(Nt,{D:()=>Xe});const{isArray:d}=Array,{getPrototypeOf:v,prototype:ve,keys:Fe}=Object;function Xe(Se){if(1===Se.length){const Re=Se[0];if(d(Re))return{args:Re,keys:null};if(function Ke(Se){return Se&&"object"==typeof Se&&v(Se)===ve}(Re)){const Qe=Fe(Re);return{args:Qe.map(Be=>Re[Be]),keys:Qe}}}return{args:Se,keys:null}}},8737:(er,Nt,H)=>{"use strict";function d(v,ve){if(v){const Fe=v.indexOf(ve);0<=Fe&&v.splice(Fe,1)}}H.d(Nt,{P:()=>d})},3888:(er,Nt,H)=>{"use strict";function d(v){const Fe=v(Xe=>{Error.call(Xe),Xe.stack=(new Error).stack});return Fe.prototype=Object.create(Error.prototype),Fe.prototype.constructor=Fe,Fe}H.d(Nt,{d:()=>d})},1810:(er,Nt,H)=>{"use strict";function d(v,ve){return v.reduce((Fe,Xe,Ke)=>(Fe[Xe]=ve[Ke],Fe),{})}H.d(Nt,{n:()=>d})},2806:(er,Nt,H)=>{"use strict";H.d(Nt,{O:()=>Fe,x:()=>ve});var d=H(2416);let v=null;function ve(Xe){if(d.config.useDeprecatedSynchronousErrorHandling){const Ke=!v;if(Ke&&(v={errorThrown:!1,error:null}),Xe(),Ke){const{errorThrown:Se,error:Re}=v;if(v=null,Se)throw Re}}else Xe()}function Fe(Xe){d.config.useDeprecatedSynchronousErrorHandling&&v&&(v.errorThrown=!0,v.error=Xe)}},9672:(er,Nt,H)=>{"use strict";function d(v,ve,Fe,Xe=0,Ke=!1){const Se=ve.schedule(function(){Fe(),Ke?v.add(this.schedule(null,Xe)):this.unsubscribe()},Xe);if(v.add(Se),!Ke)return Se}H.d(Nt,{f:()=>d})},4671:(er,Nt,H)=>{"use strict";function d(v){return v}H.d(Nt,{y:()=>d})},1144:(er,Nt,H)=>{"use strict";H.d(Nt,{z:()=>d});const d=v=>v&&"number"==typeof v.length&&"function"!=typeof v},2206:(er,Nt,H)=>{"use strict";H.d(Nt,{D:()=>v});var d=H(576);function v(ve){return Symbol.asyncIterator&&(0,d.m)(null==ve?void 0:ve[Symbol.asyncIterator])}},576:(er,Nt,H)=>{"use strict";function d(v){return"function"==typeof v}H.d(Nt,{m:()=>d})},3670:(er,Nt,H)=>{"use strict";H.d(Nt,{c:()=>ve});var d=H(8822),v=H(576);function ve(Fe){return(0,v.m)(Fe[d.L])}},6495:(er,Nt,H)=>{"use strict";H.d(Nt,{T:()=>ve});var d=H(2202),v=H(576);function ve(Fe){return(0,v.m)(null==Fe?void 0:Fe[d.h])}},8239:(er,Nt,H)=>{"use strict";H.d(Nt,{t:()=>v});var d=H(576);function v(ve){return(0,d.m)(null==ve?void 0:ve.then)}},3260:(er,Nt,H)=>{"use strict";H.d(Nt,{L:()=>Fe,Q:()=>ve});var d=H(655),v=H(576);function ve(Xe){return(0,d.FC)(this,arguments,function*(){const Se=Xe.getReader();try{for(;;){const{value:Re,done:Qe}=yield(0,d.qq)(Se.read());if(Qe)return yield(0,d.qq)(void 0);yield yield(0,d.qq)(Re)}}finally{Se.releaseLock()}})}function Fe(Xe){return(0,v.m)(null==Xe?void 0:Xe.getReader)}},4482:(er,Nt,H)=>{"use strict";H.d(Nt,{A:()=>v,e:()=>ve});var d=H(576);function v(Fe){return(0,d.m)(null==Fe?void 0:Fe.lift)}function ve(Fe){return Xe=>{if(v(Xe))return Xe.lift(function(Ke){try{return Fe(Ke,this)}catch(Se){this.error(Se)}});throw new TypeError("Unable to lift unknown Observable type")}}},3268:(er,Nt,H)=>{"use strict";H.d(Nt,{Z:()=>Fe});var d=H(4004);const{isArray:v}=Array;function Fe(Xe){return(0,d.U)(Ke=>function ve(Xe,Ke){return v(Ke)?Xe(...Ke):Xe(Ke)}(Xe,Ke))}},5032:(er,Nt,H)=>{"use strict";function d(){}H.d(Nt,{Z:()=>d})},9635:(er,Nt,H)=>{"use strict";H.d(Nt,{U:()=>ve,z:()=>v});var d=H(4671);function v(...Fe){return ve(Fe)}function ve(Fe){return 0===Fe.length?d.y:1===Fe.length?Fe[0]:function(Ke){return Fe.reduce((Se,Re)=>Re(Se),Ke)}}},7849:(er,Nt,H)=>{"use strict";H.d(Nt,{h:()=>ve});var d=H(2416),v=H(3410);function ve(Fe){v.z.setTimeout(()=>{const{onUnhandledError:Xe}=d.config;if(!Xe)throw Fe;Xe(Fe)})}},4532:(er,Nt,H)=>{"use strict";function d(v){return new TypeError(`You provided ${null!==v&&"object"==typeof v?"an invalid object":`'${v}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}H.d(Nt,{z:()=>d})},863:(er,Nt,H)=>{var d={"./ion-accordion_2.entry.js":[9654,8592,9654],"./ion-action-sheet.entry.js":[3648,8592,3648],"./ion-alert.entry.js":[1118,8592,1118],"./ion-app_8.entry.js":[53,8592,53],"./ion-avatar_3.entry.js":[4753,4753],"./ion-back-button.entry.js":[2073,8592,2073],"./ion-backdrop.entry.js":[8939,8939],"./ion-breadcrumb_2.entry.js":[7544,8592,7544],"./ion-button_2.entry.js":[5652,8372],"./ion-card_5.entry.js":[388,388],"./ion-checkbox.entry.js":[9922,8592,9922],"./ion-chip.entry.js":[657,657],"./ion-col_3.entry.js":[9824,9824],"./ion-datetime-button.entry.js":[9230,7879,9230],"./ion-datetime_3.entry.js":[4959,7879,8592,4959],"./ion-fab_3.entry.js":[5836,8592,5836],"./ion-img.entry.js":[1033,1033],"./ion-infinite-scroll_2.entry.js":[8034,8592,8034],"./ion-input.entry.js":[1217,8592,1217],"./ion-item-option_3.entry.js":[2933,8592,2933],"./ion-item_8.entry.js":[4711,8592,4711],"./ion-loading.entry.js":[9434,9434],"./ion-menu_3.entry.js":[8136,8592,8136],"./ion-modal.entry.js":[2349,8592,2349],"./ion-nav_2.entry.js":[5349,8592,5349],"./ion-picker-column-internal.entry.js":[7602,8592,7602],"./ion-picker-internal.entry.js":[9016,9016],"./ion-popover.entry.js":[3804,3804],"./ion-progress-bar.entry.js":[4174,4174],"./ion-radio_2.entry.js":[4432,8592,4432],"./ion-range.entry.js":[1709,8592,1709],"./ion-refresher_2.entry.js":[3326,8592,3326],"./ion-reorder_2.entry.js":[3583,8592,3583],"./ion-ripple-effect.entry.js":[9958,9958],"./ion-route_4.entry.js":[4330,4330],"./ion-searchbar.entry.js":[8628,8592,8628],"./ion-segment_2.entry.js":[9325,8592,9325],"./ion-select_3.entry.js":[2773,8592,2773],"./ion-spinner.entry.js":[4908,8592,4908],"./ion-split-pane.entry.js":[9536,9536],"./ion-tab-bar_2.entry.js":[438,8592,438],"./ion-tab_2.entry.js":[1536,1536],"./ion-text.entry.js":[4376,4376],"./ion-textarea.entry.js":[6560,8592,6560],"./ion-toast.entry.js":[6120,6120],"./ion-toggle.entry.js":[5168,8592,5168]};function v(ve){if(!H.o(d,ve))return Promise.resolve().then(()=>{var Ke=new Error("Cannot find module '"+ve+"'");throw Ke.code="MODULE_NOT_FOUND",Ke});var Fe=d[ve],Xe=Fe[0];return Promise.all(Fe.slice(1).map(H.e)).then(()=>H(Xe))}v.keys=()=>Object.keys(d),v.id=863,er.exports=v},655:(er,Nt,H)=>{"use strict";H.d(Nt,{FC:()=>Ct,KL:()=>Dt,ZT:()=>v,_T:()=>Fe,gn:()=>Xe,mG:()=>ot,qq:()=>ht});var d=function(Je,ut){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(_t,tt){_t.__proto__=tt}||function(_t,tt){for(var Ge in tt)Object.prototype.hasOwnProperty.call(tt,Ge)&&(_t[Ge]=tt[Ge])})(Je,ut)};function v(Je,ut){if("function"!=typeof ut&&null!==ut)throw new TypeError("Class extends value "+String(ut)+" is not a constructor or null");function _t(){this.constructor=Je}d(Je,ut),Je.prototype=null===ut?Object.create(ut):(_t.prototype=ut.prototype,new _t)}function Fe(Je,ut){var _t={};for(var tt in Je)Object.prototype.hasOwnProperty.call(Je,tt)&&ut.indexOf(tt)<0&&(_t[tt]=Je[tt]);if(null!=Je&&"function"==typeof Object.getOwnPropertySymbols){var Ge=0;for(tt=Object.getOwnPropertySymbols(Je);Ge<tt.length;Ge++)ut.indexOf(tt[Ge])<0&&Object.prototype.propertyIsEnumerable.call(Je,tt[Ge])&&(_t[tt[Ge]]=Je[tt[Ge]])}return _t}function Xe(Je,ut,_t,tt){var jt,Ge=arguments.length,ft=Ge<3?ut:null===tt?tt=Object.getOwnPropertyDescriptor(ut,_t):tt;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)ft=Reflect.decorate(Je,ut,_t,tt);else for(var Pt=Je.length-1;Pt>=0;Pt--)(jt=Je[Pt])&&(ft=(Ge<3?jt(ft):Ge>3?jt(ut,_t,ft):jt(ut,_t))||ft);return Ge>3&&ft&&Object.defineProperty(ut,_t,ft),ft}function ot(Je,ut,_t,tt){return new(_t||(_t=Promise))(function(ft,jt){function Pt(Oe){try{ln(tt.next(Oe))}catch(rn){jt(rn)}}function sn(Oe){try{ln(tt.throw(Oe))}catch(rn){jt(rn)}}function ln(Oe){Oe.done?ft(Oe.value):function Ge(ft){return ft instanceof _t?ft:new _t(function(jt){jt(ft)})}(Oe.value).then(Pt,sn)}ln((tt=tt.apply(Je,ut||[])).next())})}function ht(Je){return this instanceof ht?(this.v=Je,this):new ht(Je)}function Ct(Je,ut,_t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ge,tt=_t.apply(Je,ut||[]),ft=[];return Ge={},jt("next"),jt("throw"),jt("return"),Ge[Symbol.asyncIterator]=function(){return this},Ge;function jt(wt){tt[wt]&&(Ge[wt]=function(fn){return new Promise(function(_n,tr){ft.push([wt,fn,_n,tr])>1||Pt(wt,fn)})})}function Pt(wt,fn){try{!function sn(wt){wt.value instanceof ht?Promise.resolve(wt.value.v).then(ln,Oe):rn(ft[0][2],wt)}(tt[wt](fn))}catch(_n){rn(ft[0][3],_n)}}function ln(wt){Pt("next",wt)}function Oe(wt){Pt("throw",wt)}function rn(wt,fn){wt(fn),ft.shift(),ft.length&&Pt(ft[0][0],ft[0][1])}}function Dt(Je){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var _t,ut=Je[Symbol.asyncIterator];return ut?ut.call(Je):(Je=function Ut(Je){var ut="function"==typeof Symbol&&Symbol.iterator,_t=ut&&Je[ut],tt=0;if(_t)return _t.call(Je);if(Je&&"number"==typeof Je.length)return{next:function(){return Je&&tt>=Je.length&&(Je=void 0),{value:Je&&Je[tt++],done:!Je}}};throw new TypeError(ut?"Object is not iterable.":"Symbol.iterator is not defined.")}(Je),_t={},tt("next"),tt("throw"),tt("return"),_t[Symbol.asyncIterator]=function(){return this},_t);function tt(ft){_t[ft]=Je[ft]&&function(jt){return new Promise(function(Pt,sn){!function Ge(ft,jt,Pt,sn){Promise.resolve(sn).then(function(ln){ft({value:ln,done:Pt})},jt)}(Pt,sn,(jt=Je[ft](jt)).done,jt.value)})}}}},4755:(er,Nt,H)=>{"use strict";H.d(Nt,{Do:()=>Lt,EM:()=>ko,HT:()=>Fe,JF:()=>So,K0:()=>Ke,Mx:()=>ro,NF:()=>ss,O5:()=>ie,Ov:()=>ir,PM:()=>Do,S$:()=>Ut,V_:()=>Qe,Ye:()=>Rt,b0:()=>$e,bD:()=>hr,ez:()=>Ai,q:()=>ve,sg:()=>io,tP:()=>Hn,w_:()=>Xe});var d=H(2223);let v=null;function ve(){return v}function Fe(q){v||(v=q)}class Xe{}const Ke=new d.OlP("DocumentToken");let Se=(()=>{class q{historyGo(J){throw new Error("Not implemented")}}return q.\u0275fac=function(J){return new(J||q)},q.\u0275prov=d.Yz7({token:q,factory:function(){return function Re(){return(0,d.LFG)(Be)}()},providedIn:"platform"}),q})();const Qe=new d.OlP("Location Initialized");let Be=(()=>{class q extends Se{constructor(J){super(),this._doc=J,this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return ve().getBaseHref(this._doc)}onPopState(J){const Ne=ve().getGlobalEventTarget(this._doc,"window");return Ne.addEventListener("popstate",J,!1),()=>Ne.removeEventListener("popstate",J)}onHashChange(J){const Ne=ve().getGlobalEventTarget(this._doc,"window");return Ne.addEventListener("hashchange",J,!1),()=>Ne.removeEventListener("hashchange",J)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(J){this._location.pathname=J}pushState(J,Ne,bt){Me()?this._history.pushState(J,Ne,bt):this._location.hash=bt}replaceState(J,Ne,bt){Me()?this._history.replaceState(J,Ne,bt):this._location.hash=bt}forward(){this._history.forward()}back(){this._history.back()}historyGo(J=0){this._history.go(J)}getState(){return this._history.state}}return q.\u0275fac=function(J){return new(J||q)(d.LFG(Ke))},q.\u0275prov=d.Yz7({token:q,factory:function(){return function ot(){return new Be((0,d.LFG)(Ke))}()},providedIn:"platform"}),q})();function Me(){return!!window.history.pushState}function Pe(q,he){if(0==q.length)return he;if(0==he.length)return q;let J=0;return q.endsWith("/")&&J++,he.startsWith("/")&&J++,2==J?q+he.substring(1):1==J?q+he:q+"/"+he}function ct(q){const he=q.match(/#|\?|$/),J=he&&he.index||q.length;return q.slice(0,J-("/"===q[J-1]?1:0))+q.slice(J)}function mt(q){return q&&"?"!==q[0]?"?"+q:q}let Ut=(()=>{class q{historyGo(J){throw new Error("Not implemented")}}return q.\u0275fac=function(J){return new(J||q)},q.\u0275prov=d.Yz7({token:q,factory:function(){return(0,d.f3M)($e)},providedIn:"root"}),q})();const He=new d.OlP("appBaseHref");let $e=(()=>{class q extends Ut{constructor(J,Ne){var bt,vn,kn;super(),this._platformLocation=J,this._removeListenerFns=[],this._baseHref=null!==(bt=null!==(vn=null!=Ne?Ne:this._platformLocation.getBaseHrefFromDOM())&&void 0!==vn?vn:null===(kn=(0,d.f3M)(Ke).location)||void 0===kn?void 0:kn.origin)&&void 0!==bt?bt:""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(J){this._removeListenerFns.push(this._platformLocation.onPopState(J),this._platformLocation.onHashChange(J))}getBaseHref(){return this._baseHref}prepareExternalUrl(J){return Pe(this._baseHref,J)}path(J=!1){const Ne=this._platformLocation.pathname+mt(this._platformLocation.search),bt=this._platformLocation.hash;return bt&&J?`${Ne}${bt}`:Ne}pushState(J,Ne,bt,vn){const kn=this.prepareExternalUrl(bt+mt(vn));this._platformLocation.pushState(J,Ne,kn)}replaceState(J,Ne,bt,vn){const kn=this.prepareExternalUrl(bt+mt(vn));this._platformLocation.replaceState(J,Ne,kn)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(J=0){var Ne,bt;null===(Ne=(bt=this._platformLocation).historyGo)||void 0===Ne||Ne.call(bt,J)}}return q.\u0275fac=function(J){return new(J||q)(d.LFG(Se),d.LFG(He,8))},q.\u0275prov=d.Yz7({token:q,factory:q.\u0275fac,providedIn:"root"}),q})(),Lt=(()=>{class q extends Ut{constructor(J,Ne){super(),this._platformLocation=J,this._baseHref="",this._removeListenerFns=[],null!=Ne&&(this._baseHref=Ne)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(J){this._removeListenerFns.push(this._platformLocation.onPopState(J),this._platformLocation.onHashChange(J))}getBaseHref(){return this._baseHref}path(J=!1){let Ne=this._platformLocation.hash;return null==Ne&&(Ne="#"),Ne.length>0?Ne.substring(1):Ne}prepareExternalUrl(J){const Ne=Pe(this._baseHref,J);return Ne.length>0?"#"+Ne:Ne}pushState(J,Ne,bt,vn){let kn=this.prepareExternalUrl(bt+mt(vn));0==kn.length&&(kn=this._platformLocation.pathname),this._platformLocation.pushState(J,Ne,kn)}replaceState(J,Ne,bt,vn){let kn=this.prepareExternalUrl(bt+mt(vn));0==kn.length&&(kn=this._platformLocation.pathname),this._platformLocation.replaceState(J,Ne,kn)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(J=0){var Ne,bt;null===(Ne=(bt=this._platformLocation).historyGo)||void 0===Ne||Ne.call(bt,J)}}return q.\u0275fac=function(J){return new(J||q)(d.LFG(Se),d.LFG(He,8))},q.\u0275prov=d.Yz7({token:q,factory:q.\u0275fac}),q})(),Rt=(()=>{class q{constructor(J){this._subject=new d.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=J;const Ne=this._locationStrategy.getBaseHref();this._basePath=function Dt(q){if(new RegExp("^(https?:)?//").test(q)){const[,J]=q.split(/\/\/[^\/]+/);return J}return q}(ct(Tt(Ne))),this._locationStrategy.onPopState(bt=>{this._subject.emit({url:this.path(!0),pop:!0,state:bt.state,type:bt.type})})}ngOnDestroy(){var J;null===(J=this._urlChangeSubscription)||void 0===J||J.unsubscribe(),this._urlChangeListeners=[]}path(J=!1){return this.normalize(this._locationStrategy.path(J))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(J,Ne=""){return this.path()==this.normalize(J+mt(Ne))}normalize(J){return q.stripTrailingSlash(function Ct(q,he){if(!q||!he.startsWith(q))return he;const J=he.substring(q.length);return""===J||["/",";","?","#"].includes(J[0])?J:he}(this._basePath,Tt(J)))}prepareExternalUrl(J){return J&&"/"!==J[0]&&(J="/"+J),this._locationStrategy.prepareExternalUrl(J)}go(J,Ne="",bt=null){this._locationStrategy.pushState(bt,"",J,Ne),this._notifyUrlChangeListeners(this.prepareExternalUrl(J+mt(Ne)),bt)}replaceState(J,Ne="",bt=null){this._locationStrategy.replaceState(bt,"",J,Ne),this._notifyUrlChangeListeners(this.prepareExternalUrl(J+mt(Ne)),bt)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(J=0){var Ne,bt;null===(Ne=(bt=this._locationStrategy).historyGo)||void 0===Ne||Ne.call(bt,J)}onUrlChange(J){return this._urlChangeListeners.push(J),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(Ne=>{this._notifyUrlChangeListeners(Ne.url,Ne.state)})),()=>{const Ne=this._urlChangeListeners.indexOf(J);var bt;this._urlChangeListeners.splice(Ne,1),0===this._urlChangeListeners.length&&(null===(bt=this._urlChangeSubscription)||void 0===bt||bt.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(J="",Ne){this._urlChangeListeners.forEach(bt=>bt(J,Ne))}subscribe(J,Ne,bt){return this._subject.subscribe({next:J,error:Ne,complete:bt})}}return q.normalizeQueryParams=mt,q.joinWithSlash=Pe,q.stripTrailingSlash=ct,q.\u0275fac=function(J){return new(J||q)(d.LFG(Ut))},q.\u0275prov=d.Yz7({token:q,factory:function(){return function ht(){return new Rt((0,d.LFG)(Ut))}()},providedIn:"root"}),q})();function Tt(q){return q.replace(/\/index.html$/,"")}function ro(q,he){he=encodeURIComponent(he);for(const J of q.split(";")){const Ne=J.indexOf("="),[bt,vn]=-1==Ne?[J,""]:[J.slice(0,Ne),J.slice(Ne+1)];if(bt.trim()===he)return decodeURIComponent(vn)}return null}class qs{constructor(he,J,Ne,bt){this.$implicit=he,this.ngForOf=J,this.index=Ne,this.count=bt}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let io=(()=>{class q{set ngForOf(J){this._ngForOf=J,this._ngForOfDirty=!0}set ngForTrackBy(J){this._trackByFn=J}get ngForTrackBy(){return this._trackByFn}constructor(J,Ne,bt){this._viewContainer=J,this._template=Ne,this._differs=bt,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(J){J&&(this._template=J)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const J=this._ngForOf;!this._differ&&J&&(this._differ=this._differs.find(J).create(this.ngForTrackBy))}if(this._differ){const J=this._differ.diff(this._ngForOf);J&&this._applyChanges(J)}}_applyChanges(J){const Ne=this._viewContainer;J.forEachOperation((bt,vn,kn)=>{if(null==bt.previousIndex)Ne.createEmbeddedView(this._template,new qs(bt.item,this._ngForOf,-1,-1),null===kn?void 0:kn);else if(null==kn)Ne.remove(null===vn?void 0:vn);else if(null!==vn){const li=Ne.get(vn);Ne.move(li,kn),Bs(li,bt)}});for(let bt=0,vn=Ne.length;bt<vn;bt++){const li=Ne.get(bt).context;li.index=bt,li.count=vn,li.ngForOf=this._ngForOf}J.forEachIdentityChange(bt=>{Bs(Ne.get(bt.currentIndex),bt)})}static ngTemplateContextGuard(J,Ne){return!0}}return q.\u0275fac=function(J){return new(J||q)(d.Y36(d.s_b),d.Y36(d.Rgc),d.Y36(d.ZZ4))},q.\u0275dir=d.lG2({type:q,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),q})();function Bs(q,he){q.context.$implicit=he.item}let ie=(()=>{class q{constructor(J,Ne){this._viewContainer=J,this._context=new pe,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=Ne}set ngIf(J){this._context.$implicit=this._context.ngIf=J,this._updateView()}set ngIfThen(J){ke("ngIfThen",J),this._thenTemplateRef=J,this._thenViewRef=null,this._updateView()}set ngIfElse(J){ke("ngIfElse",J),this._elseTemplateRef=J,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(J,Ne){return!0}}return q.\u0275fac=function(J){return new(J||q)(d.Y36(d.s_b),d.Y36(d.Rgc))},q.\u0275dir=d.lG2({type:q,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),q})();class pe{constructor(){this.$implicit=null,this.ngIf=null}}function ke(q,he){if(he&&!he.createEmbeddedView)throw new Error(`${q} must be a TemplateRef, but received '${(0,d.AaK)(he)}'.`)}let Hn=(()=>{class q{constructor(J){this._viewContainerRef=J,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(J){if(J.ngTemplateOutlet||J.ngTemplateOutletInjector){const Ne=this._viewContainerRef;if(this._viewRef&&Ne.remove(Ne.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:bt,ngTemplateOutletContext:vn,ngTemplateOutletInjector:kn}=this;this._viewRef=Ne.createEmbeddedView(bt,vn,kn?{injector:kn}:void 0)}else this._viewRef=null}else this._viewRef&&J.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return q.\u0275fac=function(J){return new(J||q)(d.Y36(d.s_b))},q.\u0275dir=d.lG2({type:q,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[d.TTD]}),q})();class ms{createSubscription(he,J){return he.subscribe({next:J,error:Ne=>{throw Ne}})}dispose(he){he.unsubscribe()}}class Qi{createSubscription(he,J){return he.then(J,Ne=>{throw Ne})}dispose(he){}}const $s=new Qi,Li=new ms;let ir=(()=>{class q{constructor(J){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=J}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(J){return this._obj?J!==this._obj?(this._dispose(),this.transform(J)):this._latestValue:(J&&this._subscribe(J),this._latestValue)}_subscribe(J){this._obj=J,this._strategy=this._selectStrategy(J),this._subscription=this._strategy.createSubscription(J,Ne=>this._updateLatestValue(J,Ne))}_selectStrategy(J){if((0,d.QGY)(J))return $s;if((0,d.F4k)(J))return Li;throw function ai(q,he){return new d.vHH(2100,!1)}()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(J,Ne){J===this._obj&&(this._latestValue=Ne,this._ref.markForCheck())}}return q.\u0275fac=function(J){return new(J||q)(d.Y36(d.sBO,16))},q.\u0275pipe=d.Yjl({name:"async",type:q,pure:!1,standalone:!0}),q})(),Ai=(()=>{class q{}return q.\u0275fac=function(J){return new(J||q)},q.\u0275mod=d.oAB({type:q}),q.\u0275inj=d.cJS({}),q})();const hr="browser",Os="server";function ss(q){return q===hr}function Do(q){return q===Os}let ko=(()=>{class q{}return q.\u0275prov=(0,d.Yz7)({token:q,providedIn:"root",factory:()=>new Ws((0,d.LFG)(Ke),window)}),q})();class Ws{constructor(he,J){this.document=he,this.window=J,this.offset=()=>[0,0]}setOffset(he){this.offset=Array.isArray(he)?()=>he:he}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(he){this.supportsScrolling()&&this.window.scrollTo(he[0],he[1])}scrollToAnchor(he){if(!this.supportsScrolling())return;const J=function qo(q,he){const J=q.getElementById(he)||q.getElementsByName(he)[0];if(J)return J;if("function"==typeof q.createTreeWalker&&q.body&&"function"==typeof q.body.attachShadow){const Ne=q.createTreeWalker(q.body,NodeFilter.SHOW_ELEMENT);let bt=Ne.currentNode;for(;bt;){const vn=bt.shadowRoot;if(vn){const kn=vn.getElementById(he)||vn.querySelector(`[name="${he}"]`);if(kn)return kn}bt=Ne.nextNode()}}return null}(this.document,he);J&&(this.scrollToElement(J),J.focus())}setHistoryScrollRestoration(he){if(this.supportScrollRestoration()){const J=this.window.history;J&&J.scrollRestoration&&(J.scrollRestoration=he)}}scrollToElement(he){const J=he.getBoundingClientRect(),Ne=J.left+this.window.pageXOffset,bt=J.top+this.window.pageYOffset,vn=this.offset();this.window.scrollTo(Ne-vn[0],bt-vn[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const he=Yi(this.window.history)||Yi(Object.getPrototypeOf(this.window.history));return!(!he||!he.writable&&!he.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function Yi(q){return Object.getOwnPropertyDescriptor(q,"scrollRestoration")}class So{}},2223:(er,Nt,H)=>{"use strict";H.d(Nt,{$8M:()=>vl,$WT:()=>Ln,$Z:()=>ef,AFp:()=>up,ALo:()=>xb,AaK:()=>Qe,CHM:()=>Dn,CRH:()=>Hb,D6c:()=>CD,EJc:()=>AC,EpF:()=>Bv,F$t:()=>cv,F4k:()=>cm,FYo:()=>Wm,FiY:()=>Ga,G48:()=>QC,GSi:()=>Xd,Gf:()=>jb,GfV:()=>qh,GkF:()=>Lv,Gpc:()=>ot,HDt:()=>YE,Hsn:()=>uv,JOm:()=>cl,KtG:()=>qn,LFG:()=>Wt,LMc:()=>SD,LSH:()=>Ju,Lbi:()=>Lm,Lck:()=>hI,MAs:()=>Cf,MMx:()=>mb,NdJ:()=>ov,Ojb:()=>dp,OlP:()=>jo,Oqu:()=>En,P3R:()=>Oh,PXZ:()=>zC,Q6J:()=>Va,QGY:()=>sv,QbO:()=>Uy,Qsj:()=>ul,R0b:()=>dc,RDi:()=>Oy,Rgc:()=>Ev,SBq:()=>nd,Sil:()=>MC,Suo:()=>zb,TTD:()=>Qo,TgZ:()=>Fc,X6Q:()=>XC,XFs:()=>On,Xpm:()=>Bs,Xts:()=>Ba,Y36:()=>Kl,YKP:()=>pb,YNc:()=>ma,Yjl:()=>st,Yz7:()=>wt,Z0I:()=>ur,ZZ4:()=>_0,_Bn:()=>fb,_UZ:()=>am,_Vd:()=>Yh,_c5:()=>pD,_uU:()=>ce,aQg:()=>b0,c2e:()=>dE,cJS:()=>_n,cg1:()=>F_,dDg:()=>$C,dqk:()=>nr,eFA:()=>DE,eJc:()=>t0,ekj:()=>fv,eoX:()=>EE,f3M:()=>Wn,g9A:()=>Fm,h0i:()=>Cy,hGG:()=>gD,hij:()=>Vn,iGM:()=>Ub,ifc:()=>qe,ip1:()=>uE,jDz:()=>yb,kL8:()=>$0,lG2:()=>ye,lcZ:()=>Mb,lqb:()=>kc,lri:()=>_E,n5z:()=>Gs,oAB:()=>ke,oxw:()=>lv,q4F:()=>Hd,qFp:()=>TD,qLn:()=>Gd,qOj:()=>gf,qZA:()=>gd,rWj:()=>bE,s9C:()=>_y,sBO:()=>JC,s_b:()=>o_,soG:()=>l_,tb:()=>f0,tp0:()=>jc,uIk:()=>ud,vHH:()=>$e,vpe:()=>hh,wAp:()=>ls,xp6:()=>Cp,z2F:()=>Ty,zSh:()=>sp,zs3:()=>Rl});var Ke,d=H(7579),v=H(727),ve=H(9751),Fe=H(6451),Xe=H(3099);function Se(n){for(let r in n)if(n[r]===Se)return r;throw Error("Could not find renamed property on target object.")}function Re(n,r){for(const o in r)r.hasOwnProperty(o)&&!n.hasOwnProperty(o)&&(n[o]=r[o])}function Qe(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(Qe).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const r=n.toString();if(null==r)return""+r;const o=r.indexOf("\n");return-1===o?r:r.substring(0,o)}function Be(n,r){return null==n||""===n?null===r?"":r:null==r||""===r?n:n+" "+r}const Me=Se({__forward_ref__:Se});function ot(n){return n.__forward_ref__=ot,n.toString=function(){return Qe(this())},n}function Pe(n){return ct(n)?n():n}function ct(n){return"function"==typeof n&&n.hasOwnProperty(Me)&&n.__forward_ref__===ot}function mt(n){return n&&!!n.\u0275providers}const He="https://g.co/ng/security#xss";class $e extends Error{constructor(r,o){super(function Lt(n,r){return`NG0${Math.abs(n)}${r?": "+r:""}`}(r,o)),this.code=r}}function Rt(n){return"string"==typeof n?n:null==n?"":String(n)}function vt(n,r){throw new $e(-201,!1)}function Pt(n,r){null==n&&function sn(n,r,o,c){throw new Error(`ASSERTION ERROR: ${n}`+(null==c?"":` [Expected=> ${o} ${c} ${r} <=Actual]`))}(r,n,null,"!=")}function wt(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function _n(n){return{providers:n.providers||[],imports:n.imports||[]}}function tr(n){return lr(n,cn)||lr(n,Wr)}function ur(n){return null!==tr(n)}function lr(n,r){return n.hasOwnProperty(r)?n[r]:null}function Xn(n){return n&&(n.hasOwnProperty(Pr)||n.hasOwnProperty(Sr))?n[Pr]:null}const cn=Se({\u0275prov:Se}),Pr=Se({\u0275inj:Se}),Wr=Se({ngInjectableDef:Se}),Sr=Se({ngInjectorDef:Se});var On=(()=>((On=On||{})[On.Default=0]="Default",On[On.Host=1]="Host",On[On.Self=2]="Self",On[On.SkipSelf=4]="SkipSelf",On[On.Optional=8]="Optional",On))();let Gr;function br(n){const r=Gr;return Gr=n,r}function $r(n,r,o){const c=tr(n);return c&&"root"==c.providedIn?void 0===c.value?c.value=c.factory():c.value:o&On.Optional?null:void 0!==r?r:void vt(Qe(n))}const nr=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),di={},ni="__NG_DI_FLAG__",ri="ngTempTokenPath",Er=/\n/gm,yi="__source";let Ar;function xe(n){const r=Ar;return Ar=n,r}function gt(n,r=On.Default){if(void 0===Ar)throw new $e(-203,!1);return null===Ar?$r(n,void 0,r):Ar.get(n,r&On.Optional?null:void 0,r)}function Wt(n,r=On.Default){return(function Qr(){return Gr}()||gt)(Pe(n),r)}function Wn(n,r=On.Default){return Wt(n,Kr(r))}function Kr(n){return typeof n>"u"||"number"==typeof n?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function Nr(n){const r=[];for(let o=0;o<n.length;o++){const c=Pe(n[o]);if(Array.isArray(c)){if(0===c.length)throw new $e(900,!1);let g,w=On.Default;for(let R=0;R<c.length;R++){const j=c[R],Q=yt(j);"number"==typeof Q?-1===Q?g=j.token:w|=Q:g=j}r.push(Wt(g,w))}else r.push(Wt(c))}return r}function Rr(n,r){return n[ni]=r,n.prototype[ni]=r,n}function yt(n){return n[ni]}function ee(n){return{toString:n}.toString()}var oe=(()=>((oe=oe||{})[oe.OnPush=0]="OnPush",oe[oe.Default=1]="Default",oe))(),qe=(()=>{return(n=qe||(qe={}))[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",qe;var n})();const xt={},rt=[],Vt=Se({\u0275cmp:Se}),nn=Se({\u0275dir:Se}),Tn=Se({\u0275pipe:Se}),wn=Se({\u0275mod:Se}),Gn=Se({\u0275fac:Se}),un=Se({__NG_ELEMENT_ID__:Se}),bn=Se({__NG_ENV_ID__:Se});function Nn(n,r,o){let c=n.length;for(;;){const g=n.indexOf(r,o);if(-1===g)return g;if(0===g||n.charCodeAt(g-1)<=32){const w=r.length;if(g+w===c||n.charCodeAt(g+w)<=32)return g}o=g+1}}function Ft(n,r,o){let c=0;for(;c<o.length;){const g=o[c];if("number"==typeof g){if(0!==g)break;c++;const w=o[c++],R=o[c++],j=o[c++];n.setAttribute(r,R,j,w)}else{const w=g,R=o[++c];mn(w)?n.setProperty(r,w,R):n.setAttribute(r,w,R),c++}}return c}function Kt(n){return 3===n||4===n||6===n}function mn(n){return 64===n.charCodeAt(0)}function Qn(n,r){if(null!==r&&0!==r.length)if(null===n||0===n.length)n=r.slice();else{let o=-1;for(let c=0;c<r.length;c++){const g=r[c];"number"==typeof g?o=g:0===o||gr(n,o,g,null,-1===o||2===o?r[++c]:null)}}return n}function gr(n,r,o,c,g){let w=0,R=n.length;if(-1===r)R=-1;else for(;w<n.length;){const j=n[w++];if("number"==typeof j){if(j===r){R=-1;break}if(j>r){R=w-1;break}}}for(;w<n.length;){const j=n[w];if("number"==typeof j)break;if(j===o){if(null===c)return void(null!==g&&(n[w+1]=g));if(c===n[w+1])return void(n[w+2]=g)}w++,null!==c&&w++,null!==g&&w++}-1!==R&&(n.splice(R,0,r),w=R+1),n.splice(w++,0,o),null!==c&&n.splice(w++,0,c),null!==g&&n.splice(w++,0,g)}const Fr="ng-template";function Or(n,r,o){let c=0,g=!0;for(;c<n.length;){let w=n[c++];if("string"==typeof w&&g){const R=n[c++];if(o&&"class"===w&&-1!==Nn(R.toLowerCase(),r,0))return!0}else{if(1===w){for(;c<n.length&&"string"==typeof(w=n[c++]);)if(w.toLowerCase()===r)return!0;return!1}"number"==typeof w&&(g=!1)}}return!1}function Ri(n){return 4===n.type&&n.value!==Fr}function Yr(n,r,o){return r===(4!==n.type||o?n.value:Fr)}function jr(n,r,o){let c=4;const g=n.attrs||[],w=function cs(n){for(let r=0;r<n.length;r++)if(Kt(n[r]))return r;return n.length}(g);let R=!1;for(let j=0;j<r.length;j++){const Q=r[j];if("number"!=typeof Q){if(!R)if(4&c){if(c=2|1&c,""!==Q&&!Yr(n,Q,o)||""===Q&&1===r.length){if(ei(c))return!1;R=!0}}else{const me=8&c?Q:r[++j];if(8&c&&null!==n.attrs){if(!Or(n.attrs,me,o)){if(ei(c))return!1;R=!0}continue}const at=ns(8&c?"class":Q,g,Ri(n),o);if(-1===at){if(ei(c))return!1;R=!0;continue}if(""!==me){let zt;zt=at>w?"":g[at+1].toLowerCase();const pn=8&c?zt:null;if(pn&&-1!==Nn(pn,me,0)||2&c&&me!==zt){if(ei(c))return!1;R=!0}}}}else{if(!R&&!ei(c)&&!ei(Q))return!1;if(R&&ei(Q))continue;R=!1,c=Q|1&c}}return ei(c)||R}function ei(n){return 0==(1&n)}function ns(n,r,o,c){if(null===r)return-1;let g=0;if(c||!o){let w=!1;for(;g<r.length;){const R=r[g];if(R===n)return g;if(3===R||6===R)w=!0;else{if(1===R||2===R){let j=r[++g];for(;"string"==typeof j;)j=r[++g];continue}if(4===R)break;if(0===R){g+=4;continue}}g+=w?1:2}return-1}return function rs(n,r){let o=n.indexOf(4);if(o>-1)for(o++;o<n.length;){const c=n[o];if("number"==typeof c)return-1;if(c===r)return o;o++}return-1}(r,n)}function uo(n,r,o=!1){for(let c=0;c<r.length;c++)if(jr(n,r[c],o))return!0;return!1}function wo(n,r){e:for(let o=0;o<r.length;o++){const c=r[o];if(n.length===c.length){for(let g=0;g<n.length;g++)if(n[g]!==c[g])continue e;return!0}}return!1}function as(n,r){return n?":not("+r.trim()+")":r}function zi(n){let r=n[0],o=1,c=2,g="",w=!1;for(;o<n.length;){let R=n[o];if("string"==typeof R)if(2&c){const j=n[++o];g+="["+R+(j.length>0?'="'+j+'"':"")+"]"}else 8&c?g+="."+R:4&c&&(g+=" "+R);else""!==g&&!ei(R)&&(r+=as(w,g),g=""),c=R,w=w||!ei(c);o++}return""!==g&&(r+=as(w,g)),r}function Bs(n){return ee(()=>{const r=Lr(n),o={...r,decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===oe.OnPush,directiveDefs:null,pipeDefs:null,dependencies:r.standalone&&n.dependencies||null,getStandaloneInjector:null,data:n.data||{},encapsulation:n.encapsulation||qe.Emulated,styles:n.styles||rt,_:null,schemas:n.schemas||null,tView:null,id:""};ai(o);const c=n.dependencies;return o.directiveDefs=ms(c,!1),o.pipeDefs=ms(c,!0),o.id=function $s(n){let r=0;const o=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,n.consts,n.vars,n.decls,n.encapsulation,n.standalone,Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery].join("|");for(const g of o)r=Math.imul(31,r)+g.charCodeAt(0)<<0;return r+=2147483648,"c"+r}(o),o})}function ie(n){return It(n)||Bt(n)}function pe(n){return null!==n}function ke(n){return ee(()=>({type:n.type,bootstrap:n.bootstrap||rt,declarations:n.declarations||rt,imports:n.imports||rt,exports:n.exports||rt,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function re(n,r){if(null==n)return xt;const o={};for(const c in n)if(n.hasOwnProperty(c)){let g=n[c],w=g;Array.isArray(g)&&(w=g[1],g=g[0]),o[g]=c,r&&(r[g]=w)}return o}function ye(n){return ee(()=>{const r=Lr(n);return ai(r),r})}function st(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,standalone:!0===n.standalone,onDestroy:n.type.prototype.ngOnDestroy||null}}function It(n){return n[Vt]||null}function Bt(n){return n[nn]||null}function tn(n){return n[Tn]||null}function Ln(n){const r=It(n)||Bt(n)||tn(n);return null!==r&&r.standalone}function Hn(n,r){const o=n[wn]||null;if(!o&&!0===r)throw new Error(`Type ${Qe(n)} does not have '\u0275mod' property.`);return o}function Lr(n){const r={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:r,exportAs:n.exportAs||null,standalone:!0===n.standalone,selectors:n.selectors||rt,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:re(n.inputs,r),outputs:re(n.outputs)}}function ai(n){var r;null===(r=n.features)||void 0===r||r.forEach(o=>o(n))}function ms(n,r){if(!n)return null;const o=r?tn:ie;return()=>("function"==typeof n?n():n).map(c=>o(c)).filter(pe)}const Li=0,ir=1,qr=2,$i=3,Rs=4,Io=5,us=6,go=7,Ki=8,Ds=9,ys=10,Zr=11,Js=12,ho=13,Oi=14,Vr=15,Di=16,pi=17,Vs=18,Vi=19,To=20,Co=21,Xs=22,Yo=23,Ai=24,hr=25,so=1,Wo=2,ss=7,Do=8,Ao=9,Es=11;function Ws(n){return Array.isArray(n)&&"object"==typeof n[so]}function Yi(n){return Array.isArray(n)&&!0===n[so]}function qo(n){return 0!=(4&n.flags)}function Bo(n){return n.componentOffset>-1}function So(n){return 1==(1&n.flags)}function xo(n){return!!n.template}function mo(n){return 0!=(512&n[qr])}function eo(n,r){return n.hasOwnProperty(Gn)?n[Gn]:null}let D=null!==(Ke=nr.WeakRef)&&void 0!==Ke?Ke:class L{constructor(r){this.ref=r}deref(){return this.ref}},dt=0,Ot=null,Ht=!1;function Pn(n){const r=Ot;return Ot=n,r}class zr{constructor(){this.id=dt++,this.ref=function F(n){return new D(n)}(this),this.producers=new Map,this.consumers=new Map,this.trackingVersion=0,this.valueVersion=0}consumerPollProducersForChange(){for(const[r,o]of this.producers){const c=o.producerNode.deref();if(void 0!==c&&o.atTrackingVersion===this.trackingVersion){if(c.producerPollStatus(o.seenValueVersion))return!0}else this.producers.delete(r),null==c||c.consumers.delete(this.id)}return!1}producerMayHaveChanged(){const r=Ht;Ht=!0;try{for(const[o,c]of this.consumers){const g=c.consumerNode.deref();void 0!==g&&g.trackingVersion===c.atTrackingVersion?g.onConsumerDependencyMayHaveChanged():(this.consumers.delete(o),null==g||g.producers.delete(this.id))}}finally{Ht=r}}producerAccessed(){if(Ht)throw new Error("");if(null===Ot)return;let r=Ot.producers.get(this.id);void 0===r?(r={consumerNode:Ot.ref,producerNode:this.ref,seenValueVersion:this.valueVersion,atTrackingVersion:Ot.trackingVersion},Ot.producers.set(this.id,r),this.consumers.set(Ot.id,r)):(r.seenValueVersion=this.valueVersion,r.atTrackingVersion=Ot.trackingVersion)}get hasProducers(){return this.producers.size>0}get producerUpdatesAllowed(){var r;return!1!==(null===(r=Ot)||void 0===r?void 0:r.consumerAllowSignalWrites)}producerPollStatus(r){return this.valueVersion!==r||(this.onProducerUpdateValueVersion(),this.valueVersion!==r)}}let hs=null;const oa=()=>{};class Na extends zr{constructor(r,o,c){super(),this.watch=r,this.schedule=o,this.dirty=!1,this.cleanupFn=oa,this.registerOnCleanup=g=>{this.cleanupFn=g},this.consumerAllowSignalWrites=c}notify(){this.dirty||this.schedule(this),this.dirty=!0}onConsumerDependencyMayHaveChanged(){this.notify()}onProducerUpdateValueVersion(){}run(){if(this.dirty=!1,0!==this.trackingVersion&&!this.consumerPollProducersForChange())return;const r=Pn(this);this.trackingVersion++;try{this.cleanupFn(),this.cleanupFn=oa,this.watch(this.registerOnCleanup)}finally{Pn(r)}}cleanup(){this.cleanupFn()}}class ja{constructor(r,o,c){this.previousValue=r,this.currentValue=o,this.firstChange=c}isFirstChange(){return this.firstChange}}function Qo(){return za}function za(n){return n.type.prototype.ngOnChanges&&(n.setInput=gl),Ts}function Ts(){const n=zo(this),r=null==n?void 0:n.current;if(r){const o=n.previous;if(o===xt)n.previous=r;else for(let c in r)o[c]=r[c];n.current=null,this.ngOnChanges(r)}}function gl(n,r,o,c){const g=this.declaredInputs[o],w=zo(n)||function sl(n,r){return n[Fa]=r}(n,{previous:xt,current:null}),R=w.current||(w.current={}),j=w.previous,Q=j[g];R[g]=new ja(Q&&Q.currentValue,r,j===xt),n[c]=r}Qo.ngInherit=!0;const Fa="__ngSimpleChanges__";function zo(n){return n[Fa]||null}const le=function(n,r,o){};function lt(n){for(;Array.isArray(n);)n=n[Li];return n}function Yt(n,r){return lt(r[n])}function on(n,r){return lt(r[n.index])}function sr(n,r){return n.data[r]}function vi(n,r){return n[r]}function wr(n,r){const o=r[n];return Ws(o)?o:o[Li]}function lo(n){return 128==(128&n[qr])}function he(n,r){return null==r?null:n[r]}function J(n){n[pi]=0}function Ne(n){1024&n[qr]||(n[qr]|=1024,vn(n,1))}function bt(n){1024&n[qr]&&(n[qr]&=-1025,vn(n,-1))}function vn(n,r){let o=n[$i];if(null===o)return;o[Io]+=r;let c=o;for(o=o[$i];null!==o&&(1===r&&1===c[Io]||-1===r&&0===c[Io]);)o[Io]+=r,c=o,o=o[$i]}const mr={lFrame:nt(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function po(){return mr.bindingsEnabled}function Kn(){return mr.lFrame.lView}function Un(){return mr.lFrame.tView}function Dn(n){return mr.lFrame.contextLView=n,n[Ki]}function qn(n){return mr.lFrame.contextLView=null,n}function vs(){let n=Ma();for(;null!==n&&64===n.type;)n=n.parent;return n}function Ma(){return mr.lFrame.currentTNode}function Ea(n,r){const o=mr.lFrame;o.currentTNode=n,o.isParent=r}function Cl(){return mr.lFrame.isParent}function Dl(){mr.lFrame.isParent=!1}function Ui(){return mr.lFrame.bindingIndex++}function Ii(n,r){const o=mr.lFrame;o.bindingIndex=o.bindingRootIndex=n,os(r)}function os(n){mr.lFrame.currentDirectiveIndex=n}function ps(){return mr.lFrame.currentQueryIndex}function yr(n){mr.lFrame.currentQueryIndex=n}function yl(n){const r=n[ir];return 2===r.type?r.declTNode:1===r.type?n[us]:null}function Da(n,r,o){if(o&On.SkipSelf){let g=r,w=n;for(;!(g=g.parent,null!==g||o&On.Host||(g=yl(w),null===g||(w=w[Oi],10&g.type))););if(null===g)return!1;r=g,n=w}const c=mr.lFrame=Bl();return c.currentTNode=r,c.lView=n,!0}function Sa(n){const r=Bl(),o=n[ir];mr.lFrame=r,r.currentTNode=o.firstChild,r.lView=n,r.tView=o,r.contextLView=n,r.bindingIndex=o.bindingStartIndex,r.inI18n=!1}function Bl(){const n=mr.lFrame,r=null===n?null:n.child;return null===r?nt(n):r}function nt(n){const r={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=r),r}function Jt(){const n=mr.lFrame;return mr.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const en=Jt;function Ir(){const n=Jt();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function es(){return mr.lFrame.selectedIndex}function is(n){mr.lFrame.selectedIndex=n}function Gi(){const n=mr.lFrame;return sr(n.tView,n.selectedIndex)}let hc=!0;function $l(){return hc}function ea(n){hc=n}function Ko(n,r){for(let me=r.directiveStart,Le=r.directiveEnd;me<Le;me++){const zt=n.data[me].type.prototype,{ngAfterContentInit:pn,ngAfterContentChecked:zn,ngAfterViewInit:Cr,ngAfterViewChecked:Ur,ngOnDestroy:mi}=zt;var o,c,g,w,R,j,Q;pn&&(null!==(o=n.contentHooks)&&void 0!==o?o:n.contentHooks=[]).push(-me,pn),zn&&((null!==(c=n.contentHooks)&&void 0!==c?c:n.contentHooks=[]).push(me,zn),(null!==(g=n.contentCheckHooks)&&void 0!==g?g:n.contentCheckHooks=[]).push(me,zn)),Cr&&(null!==(w=n.viewHooks)&&void 0!==w?w:n.viewHooks=[]).push(-me,Cr),Ur&&((null!==(R=n.viewHooks)&&void 0!==R?R:n.viewHooks=[]).push(me,Ur),(null!==(j=n.viewCheckHooks)&&void 0!==j?j:n.viewCheckHooks=[]).push(me,Ur)),null!=mi&&(null!==(Q=n.destroyHooks)&&void 0!==Q?Q:n.destroyHooks=[]).push(me,mi)}}function V(n,r,o){Z(n,r,3,o)}function G(n,r,o,c){(3&n[qr])===o&&Z(n,r,o,c)}function O(n,r){let o=n[qr];(3&o)===r&&(o&=4095,o+=1,n[qr]=o)}function Z(n,r,o,c){const w=null!=c?c:-1,R=r.length-1;let j=0;for(let Q=void 0!==c?65535&n[pi]:0;Q<R;Q++)if("number"==typeof r[Q+1]){if(j=r[Q],null!=c&&j>=c)break}else r[Q]<0&&(n[pi]+=65536),(j<w||-1==w)&&(et(n,o,r,Q),n[pi]=(4294901760&n[pi])+Q+2),Q++}function ge(n,r){le(4,n,r);const o=Pn(null);try{r.call(n)}finally{Pn(o),le(5,n,r)}}function et(n,r,o,c){const g=o[c]<0,w=o[c+1],j=n[g?-o[c]:o[c]];g?n[qr]>>12<n[pi]>>16&&(3&n[qr])===r&&(n[qr]+=4096,ge(j,w)):ge(j,w)}const ze=-1;class Zt{constructor(r,o,c){this.factory=r,this.resolving=!1,this.canSeeViewProviders=o,this.injectImpl=c}}function m(n){return n!==ze}function b(n){return 32767&n}function x(n,r){let o=function T(n){return n>>16}(n),c=r;for(;o>0;)c=c[Oi],o--;return c}let B=!0;function W(n){const r=B;return B=n,r}const Ce=255,Ue=5;let pt=0;const Et={};function dn(n,r){const o=Yn(n,r);if(-1!==o)return o;const c=r[ir];c.firstCreatePass&&(n.injectorIndex=r.length,Cn(c.data,n),Cn(r,null),Cn(c.blueprint,null));const g=Fn(n,r),w=n.injectorIndex;if(m(g)){const R=b(g),j=x(g,r),Q=j[ir].data;for(let me=0;me<8;me++)r[w+me]=j[R+me]|Q[R+me]}return r[w+8]=g,w}function Cn(n,r){n.push(0,0,0,0,0,0,0,0,r)}function Yn(n,r){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===r[n.injectorIndex+8]?-1:n.injectorIndex}function Fn(n,r){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let o=0,c=null,g=r;for(;null!==g;){if(c=Mo(g),null===c)return ze;if(o++,g=g[Oi],-1!==c.injectorIndex)return c.injectorIndex|o<<16}return ze}function cr(n,r,o){!function qt(n,r,o){let c;"string"==typeof o?c=o.charCodeAt(0)||0:o.hasOwnProperty(un)&&(c=o[un]),null==c&&(c=o[un]=pt++);const g=c&Ce;r.data[n+(g>>Ue)]|=1<<g}(n,r,o)}function Jn(n,r,o){if(o&On.Optional||void 0!==n)return n;vt()}function or(n,r,o,c){if(o&On.Optional&&void 0===c&&(c=null),!(o&(On.Self|On.Host))){const g=n[Ds],w=br(void 0);try{return g?g.get(r,c,o&On.Optional):$r(r,c,o&On.Optional)}finally{br(w)}}return Jn(c,0,o)}function Mr(n,r,o,c=On.Default,g){if(null!==n){if(2048&r[qr]){const R=function Aa(n,r,o,c,g){let w=n,R=r;for(;null!==w&&null!==R&&2048&R[qr]&&!(512&R[qr]);){const j=Br(w,R,o,c|On.Self,Et);if(j!==Et)return j;let Q=w.parent;if(!Q){const me=R[To];if(me){const Le=me.get(o,Et,c);if(Le!==Et)return Le}Q=Mo(R),R=R[Oi]}w=Q}return g}(n,r,o,c,Et);if(R!==Et)return R}const w=Br(n,r,o,c,Et);if(w!==Et)return w}return or(r,o,c,g)}function Br(n,r,o,c,g){const w=function xs(n){if("string"==typeof n)return n.charCodeAt(0)||0;const r=n.hasOwnProperty(un)?n[un]:void 0;return"number"==typeof r?r>=0?r&Ce:to:r}(o);if("function"==typeof w){if(!Da(r,n,c))return c&On.Host?Jn(g,0,c):or(r,o,c,g);try{const R=w(c);if(null!=R||c&On.Optional)return R;vt()}finally{en()}}else if("number"==typeof w){let R=null,j=Yn(n,r),Q=ze,me=c&On.Host?r[Vr][us]:null;for((-1===j||c&On.SkipSelf)&&(Q=-1===j?Fn(n,r):r[j+8],Q!==ze&&gs(c,!1)?(R=r[ir],j=b(Q),r=x(Q,r)):j=-1);-1!==j;){const Le=r[ir];if(zs(w,j,Le.data)){const at=Ci(j,r,o,R,c,me);if(at!==Et)return at}Q=r[j+8],Q!==ze&&gs(c,r[ir].data[j+8]===me)&&zs(w,j,r)?(R=Le,j=b(Q),r=x(Q,r)):j=-1}}return g}function Ci(n,r,o,c,g,w){const R=r[ir],j=R.data[n+8],Le=Zi(j,R,o,null==c?Bo(j)&&B:c!=R&&0!=(3&j.type),g&On.Host&&w===j);return null!==Le?Xr(r,R,Le,j):Et}function Zi(n,r,o,c,g){const w=n.providerIndexes,R=r.data,j=1048575&w,Q=n.directiveStart,Le=w>>20,zt=g?j+Le:n.directiveEnd;for(let pn=c?j:j+Le;pn<zt;pn++){const zn=R[pn];if(pn<Q&&o===zn||pn>=Q&&zn.type===o)return pn}if(g){const pn=R[Q];if(pn&&xo(pn)&&pn.type===o)return Q}return null}function Xr(n,r,o,c){let g=n[o];const w=r.data;if(function Mn(n){return n instanceof Zt}(g)){const R=g;R.resolving&&function Ct(n,r){const o=r?`. Dependency path: ${r.join(" > ")} > ${n}`:"";throw new $e(-200,`Circular dependency in DI detected for ${n}${o}`)}(function ht(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():Rt(n)}(w[o]));const j=W(R.canSeeViewProviders);R.resolving=!0;const Q=R.injectImpl?br(R.injectImpl):null;Da(n,c,On.Default);try{g=n[o]=R.factory(void 0,w,n,c),r.firstCreatePass&&o>=c.directiveStart&&function fc(n,r,o){const{ngOnChanges:c,ngOnInit:g,ngDoCheck:w}=r.type.prototype;if(c){var R,j;const at=za(r);(null!==(R=o.preOrderHooks)&&void 0!==R?R:o.preOrderHooks=[]).push(n,at),(null!==(j=o.preOrderCheckHooks)&&void 0!==j?j:o.preOrderCheckHooks=[]).push(n,at)}var Q,me,Le;g&&(null!==(Q=o.preOrderHooks)&&void 0!==Q?Q:o.preOrderHooks=[]).push(0-n,g),w&&((null!==(me=o.preOrderHooks)&&void 0!==me?me:o.preOrderHooks=[]).push(n,w),(null!==(Le=o.preOrderCheckHooks)&&void 0!==Le?Le:o.preOrderCheckHooks=[]).push(n,w))}(o,w[o],r)}finally{null!==Q&&br(Q),W(j),R.resolving=!1,en()}}return g}function zs(n,r,o){return!!(o[r+(n>>Ue)]&1<<n)}function gs(n,r){return!(n&On.Self||n&On.Host&&r)}class Qs{constructor(r,o){this._tNode=r,this._lView=o}get(r,o,c){return Mr(this._tNode,this._lView,r,Kr(c),o)}}function to(){return new Qs(vs(),Kn())}function Gs(n){return ee(()=>{const r=n.prototype.constructor,o=r[Gn]||Ta(r),c=Object.prototype;let g=Object.getPrototypeOf(n.prototype).constructor;for(;g&&g!==c;){const w=g[Gn]||Ta(g);if(w&&w!==o)return w;g=Object.getPrototypeOf(g)}return w=>new w})}function Ta(n){return ct(n)?()=>{const r=Ta(Pe(n));return r&&r()}:eo(n)}function Mo(n){const r=n[ir],o=r.type;return 2===o?r.declTNode:1===o?n[us]:null}function vl(n){return function vr(n,r){if("class"===r)return n.classes;if("style"===r)return n.styles;const o=n.attrs;if(o){const c=o.length;let g=0;for(;g<c;){const w=o[g];if(Kt(w))break;if(0===w)g+=2;else if("number"==typeof w)for(g++;g<c&&"string"==typeof o[g];)g++;else{if(w===r)return o[g+1];g+=2}}}return null}(vs(),n)}const fa="__annotations__",co="__parameters__",ia="__prop__metadata__";function Vl(n,r,o,c,g){return ee(()=>{const w=Ra(r);function R(...j){if(this instanceof R)return w.call(this,...j),this;const Q=new R(...j);return function(Le){return g&&g(Le,...j),(Le.hasOwnProperty(fa)?Le[fa]:Object.defineProperty(Le,fa,{value:[]})[fa]).push(Q),c&&c(Le),Le}}return o&&(R.prototype=Object.create(o.prototype)),R.prototype.ngMetadataName=n,R.annotationCls=R,R})}function Ra(n){return function(...o){if(n){const c=n(...o);for(const g in c)this[g]=c[g]}}}function Sl(n,r,o){return ee(()=>{const c=Ra(r);function g(...w){if(this instanceof g)return c.apply(this,w),this;const R=new g(...w);return j.annotation=R,j;function j(Q,me,Le){const at=Q.hasOwnProperty(co)?Q[co]:Object.defineProperty(Q,co,{value:[]})[co];for(;at.length<=Le;)at.push(null);return(at[Le]=at[Le]||[]).push(R),Q}}return o&&(g.prototype=Object.create(o.prototype)),g.prototype.ngMetadataName=n,g.annotationCls=g,g})}const pc=Sl("Attribute",n=>({attributeName:n,__NG_ELEMENT_ID__:()=>vl(n)}));function sa(n){const r=nr.ng;if(r&&r.\u0275compilerFacade)return r.\u0275compilerFacade;throw new Error("JIT compiler unavailable")}const Jl=Function;function el(n){return"function"==typeof n}function Uc(n,r){n.forEach(o=>Array.isArray(o)?Uc(o,r):r(o))}function Tc(n,r,o){r>=n.length?n.push(o):n.splice(r,0,o)}function Tl(n,r){return r>=n.length-1?n.pop():n.splice(r,1)[0]}function lu(n,r){const o=[];for(let c=0;c<n;c++)o.push(r);return o}function Uo(n,r,o){let c=_o(n,r);return c>=0?n[1|c]=o:(c=~c,function Mf(n,r,o,c){let g=n.length;if(g==r)n.push(o,c);else if(1===g)n.push(c,n[0]),n[0]=o;else{for(g--,n.push(n[g-1],n[g]);g>r;)n[g]=n[g-2],g--;n[r]=o,n[r+1]=c}}(n,c,r,o)),c}function cu(n,r){const o=_o(n,r);if(o>=0)return n[1|o]}function _o(n,r){return function fh(n,r,o){let c=0,g=n.length>>o;for(;g!==c;){const w=c+(g-c>>1),R=n[w<<o];if(r===R)return w<<o;R>r?g=w:c=w+1}return~(g<<o)}(n,r,1)}const uu=/^function\s+\S+\(\)\s*{[\s\S]+\.apply\(this,\s*(arguments|(?:[^()]+\(\[\],)?[^()]+\(arguments\).*)\)/,tl=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{/,Wu=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{[\s\S]*constructor\s*\(/,Pf=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{[\s\S]*constructor\s*\(\)\s*{[^}]*super\(\.\.\.arguments\)/;class Po{constructor(r){this._reflect=r||nr.Reflect}factory(r){return(...o)=>new r(...o)}_zipTypesAndAnnotations(r,o){let c;c=lu(typeof r>"u"?o.length:r.length);for(let g=0;g<c.length;g++)c[g]=typeof r>"u"?[]:r[g]&&r[g]!=Object?[r[g]]:[],o&&null!=o[g]&&(c[g]=c[g].concat(o[g]));return c}_ownParameters(r,o){if(function Ks(n){return uu.test(n)||Pf.test(n)||tl.test(n)&&!Wu.test(n)}(r.toString()))return null;if(r.parameters&&r.parameters!==o.parameters)return r.parameters;const g=r.ctorParameters;if(g&&g!==o.ctorParameters){const j="function"==typeof g?g():g,Q=j.map(Le=>Le&&Le.type),me=j.map(Le=>Le&&Al(Le.decorators));return this._zipTypesAndAnnotations(Q,me)}const w=r.hasOwnProperty(co)&&r[co],R=this._reflect&&this._reflect.getOwnMetadata&&this._reflect.getOwnMetadata("design:paramtypes",r);return R||w?this._zipTypesAndAnnotations(R,w):lu(r.length)}parameters(r){if(!el(r))return[];const o=tc(r);let c=this._ownParameters(r,o);return!c&&o!==Object&&(c=this.parameters(o)),c||[]}_ownAnnotations(r,o){if(r.annotations&&r.annotations!==o.annotations){let c=r.annotations;return"function"==typeof c&&c.annotations&&(c=c.annotations),c}return r.decorators&&r.decorators!==o.decorators?Al(r.decorators):r.hasOwnProperty(fa)?r[fa]:null}annotations(r){if(!el(r))return[];const o=tc(r),c=this._ownAnnotations(r,o)||[];return(o!==Object?this.annotations(o):[]).concat(c)}_ownPropMetadata(r,o){if(r.propMetadata&&r.propMetadata!==o.propMetadata){let c=r.propMetadata;return"function"==typeof c&&c.propMetadata&&(c=c.propMetadata),c}if(r.propDecorators&&r.propDecorators!==o.propDecorators){const c=r.propDecorators,g={};return Object.keys(c).forEach(w=>{g[w]=Al(c[w])}),g}return r.hasOwnProperty(ia)?r[ia]:null}propMetadata(r){if(!el(r))return{};const o=tc(r),c={};if(o!==Object){const w=this.propMetadata(o);Object.keys(w).forEach(R=>{c[R]=w[R]})}const g=this._ownPropMetadata(r,o);return g&&Object.keys(g).forEach(w=>{const R=[];c.hasOwnProperty(w)&&R.push(...c[w]),R.push(...g[w]),c[w]=R}),c}ownPropMetadata(r){return el(r)&&this._ownPropMetadata(r,tc(r))||{}}hasLifecycleHook(r,o){return r instanceof Jl&&o in r.prototype}}function Al(n){return n?n.map(r=>new(0,r.type.annotationCls)(...r.args?r.args:[])):[]}function tc(n){const r=n.prototype?Object.getPrototypeOf(n.prototype):null;return(r?r.constructor:null)||Object}const ph=Rr(Sl("Inject",n=>({token:n})),-1),Ga=Rr(Sl("Optional"),8),du=Rr(Sl("Self"),2),jc=Rr(Sl("SkipSelf"),4),Gu=Rr(Sl("Host"),1);let hu=null;function fu(n){return Rf(function nl(){return hu=hu||new Po}().parameters(n))}function Rf(n){return n.map(r=>function Ku(n){const r={token:null,attribute:null,host:!1,optional:!1,self:!1,skipSelf:!1};if(Array.isArray(n)&&n.length>0)for(let o=0;o<n.length;o++){const c=n[o];if(void 0===c)continue;const g=Object.getPrototypeOf(c);if(c instanceof Ga||"Optional"===g.ngMetadataName)r.optional=!0;else if(c instanceof jc||"SkipSelf"===g.ngMetadataName)r.skipSelf=!0;else if(c instanceof du||"Self"===g.ngMetadataName)r.self=!0;else if(c instanceof Gu||"Host"===g.ngMetadataName)r.host=!0;else if(c instanceof ph)r.token=c.token;else if(c instanceof pc){if(void 0===c.attributeName)throw new $e(204,!1);r.attribute=c.attributeName}else r.token=c}else r.token=void 0===n||Array.isArray(n)&&0===n.length?null:n;return r}(r))}var cl=(()=>((cl=cl||{})[cl.Important=1]="Important",cl[cl.DashCase=2]="DashCase",cl))();const Hl=/^>|^->|<!--|-->|--!>|<!-$/g,bd=/(<|>)/,Ac="\u200b$1\u200b";const vu=new Map;let Is=0;const wl="__ngContext__";function ta(n,r){Ws(r)?(n[wl]=r[Vi],function Ff(n){vu.set(n[Vi],n)}(r)):n[wl]=r}let Mc;function qc(n,r){return Mc(n,r)}function qu(n){const r=n[$i];return Yi(r)?r[$i]:r}function bh(n){return yc(n[Js])}function Zc(n){return yc(n[Rs])}function yc(n){for(;null!==n&&!Yi(n);)n=n[Rs];return n}function rl(n,r,o,c,g){if(null!=c){let w,R=!1;Yi(c)?w=c:Ws(c)&&(R=!0,c=c[Li]);const j=lt(c);0===n&&null!==o?null==g?Uf(r,o,j):bu(r,o,j,g||null,!0):1===n&&null!==o?bu(r,o,j,g||null,!0):2===n?function Sd(n,r,o){const c=Zu(n,r);c&&function wh(n,r,o,c){n.removeChild(r,o,c)}(n,c,r,o)}(r,j,R):3===n&&r.destroyNode(j),null!=w&&function _m(n,r,o,c,g){const w=o[ss];w!==lt(o)&&rl(r,n,c,w,g);for(let j=Es;j<o.length;j++){const Q=o[j];Dh(Q[ir],Q,n,r,c,w)}}(r,n,w,o,g)}}function _u(n,r){return n.createComment(function Nf(n){return n.replace(Hl,r=>r.replace(bd,Ac))}(r))}function Cd(n,r,o){return n.createElement(r,o)}function bo(n,r){const o=n[Ao],c=o.indexOf(r);bt(r),o.splice(c,1)}function $f(n,r){if(n.length<=Es)return;const o=Es+r,c=n[o];if(c){const g=c[Di];null!==g&&g!==n&&bo(g,c),r>0&&(n[o-1][Rs]=c[Rs]);const w=Tl(n,Es+r);!function Bf(n,r){Dh(n,r,r[Zr],2,null,null),r[Li]=null,r[us]=null}(c[ir],c);const R=w[Vs];null!==R&&R.detachView(w[ir]),c[$i]=null,c[Rs]=null,c[qr]&=-129}return c}function Jp(n,r){if(!(256&r[qr])){var o,c;const g=r[Zr];null===(o=r[Yo])||void 0===o||o.destroy(),null===(c=r[Ai])||void 0===c||c.destroy(),g.destroyNode&&Dh(n,r,g,3,null,null),function My(n){let r=n[Js];if(!r)return Eh(n[ir],n);for(;r;){let o=null;if(Ws(r))o=r[Js];else{const c=r[Es];c&&(o=c)}if(!o){for(;r&&!r[Rs]&&r!==n;)Ws(r)&&Eh(r[ir],r),r=r[$i];null===r&&(r=n),Ws(r)&&Eh(r[ir],r),o=r&&r[Rs]}r=o}}(r)}}function Eh(n,r){if(!(256&r[qr])){r[qr]&=-129,r[qr]|=256,function vm(n,r){let o;if(null!=n&&null!=(o=n.destroyHooks))for(let c=0;c<o.length;c+=2){const g=r[o[c]];if(!(g instanceof Zt)){const w=o[c+1];if(Array.isArray(w))for(let R=0;R<w.length;R+=2){const j=g[w[R]],Q=w[R+1];le(4,j,Q);try{Q.call(j)}finally{le(5,j,Q)}}else{le(4,g,w);try{w.call(g)}finally{le(5,g,w)}}}}}(n,r),function Vf(n,r){const o=n.cleanup,c=r[go];if(null!==o)for(let w=0;w<o.length-1;w+=2)if("string"==typeof o[w]){const R=o[w+3];R>=0?c[R]():c[-R].unsubscribe(),w+=2}else o[w].call(c[o[w+1]]);null!==c&&(r[go]=null);const g=r[Co];if(null!==g){for(let w=0;w<g.length;w++)(0,g[w])();r[Co]=null}}(n,r),1===r[ir].type&&r[Zr].destroy();const o=r[Di];if(null!==o&&Yi(r[$i])){o!==r[$i]&&bo(o,r);const c=r[Vs];null!==c&&c.detachView(n)}!function qp(n){vu.delete(n[Vi])}(r)}}function eg(n,r,o){return function tg(n,r,o){let c=r;for(;null!==c&&40&c.type;)c=(r=c).parent;if(null===c)return o[Li];{const{componentOffset:g}=c;if(g>-1){const{encapsulation:w}=n.data[c.directiveStart+g];if(w===qe.None||w===qe.Emulated)return null}return on(c,o)}}(n,r.parent,o)}function bu(n,r,o,c,g){n.insertBefore(r,o,c,g)}function Uf(n,r,o){n.appendChild(r,o)}function Dd(n,r,o,c,g){null!==c?bu(n,r,o,c,g):Uf(n,r,o)}function Zu(n,r){return n.parentNode(r)}function zf(n,r,o){return rg(n,r,o)}let Hf,Th,Pd,rg=function ng(n,r,o){return 40&n.type?on(n,o):null};function Wf(n,r,o,c){const g=eg(n,c,r),w=r[Zr],j=zf(c.parent||r[us],c,r);if(null!=g)if(Array.isArray(o))for(let Q=0;Q<o.length;Q++)Dd(w,g,o[Q],j,!1);else Dd(w,g,o,j,!1);void 0!==Hf&&Hf(w,c,r,o,g)}function Ih(n,r){if(null!==r){const o=r.type;if(3&o)return on(r,n);if(4&o)return og(-1,n[r.index]);if(8&o){const c=r.child;if(null!==c)return Ih(n,c);{const g=n[r.index];return Yi(g)?og(-1,g):lt(g)}}if(32&o)return qc(r,n)()||lt(n[r.index]);{const c=sg(n,r);return null!==c?Array.isArray(c)?c[0]:Ih(qu(n[Vr]),c):Ih(n,r.next)}}return null}function sg(n,r){return null!==r?n[Vr][us].projection[r.projection]:null}function og(n,r){const o=Es+n+1;if(o<r.length){const c=r[o],g=c[ir].firstChild;if(null!==g)return Ih(c,g)}return r[ss]}function Ch(n,r,o,c,g,w,R){for(;null!=o;){const j=c[o.index],Q=o.type;if(R&&0===r&&(j&&ta(lt(j),c),o.flags|=2),32!=(32&o.flags))if(8&Q)Ch(n,r,o.child,c,g,w,!1),rl(r,n,g,j,w);else if(32&Q){const me=qc(o,c);let Le;for(;Le=me();)rl(r,n,g,Le,w);rl(r,n,g,j,w)}else 16&Q?Gf(n,r,c,o,g,w):rl(r,n,g,j,w);o=R?o.projectionNext:o.next}}function Dh(n,r,o,c,g,w){Ch(o,c,n.firstChild,r,g,w,!1)}function Gf(n,r,o,c,g,w){const R=o[Vr],Q=R[us].projection[c.projection];if(Array.isArray(Q))for(let me=0;me<Q.length;me++)rl(r,n,g,Q[me],w);else Ch(n,r,Q,R[$i],g,w,!0)}function Kf(n,r,o){""===o?n.removeAttribute(r,"class"):n.setAttribute(r,"class",o)}function ag(n,r,o){const{mergedAttrs:c,classes:g,styles:w}=o;null!==c&&Ft(n,r,c),null!==g&&Kf(n,r,g),null!==w&&function Pc(n,r,o){n.setAttribute(r,"style",o)}(n,r,w)}function Oy(n){Th=n}function Rd(n){var r;return(null===(r=function vc(){if(void 0===Pd&&(Pd=null,nr.trustedTypes))try{Pd=nr.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Pd}())||void 0===r?void 0:r.createScriptURL(n))||n}class Em{constructor(r){this.changingThisBreaksApplicationSecurity=r}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${He})`}}function Xc(n){return n instanceof Em?n.changingThisBreaksApplicationSecurity:n}function Wl(n,r){const o=function cg(n){return n instanceof Em&&n.getTypeName()||null}(n);if(null!=o&&o!==r){if("ResourceURL"===o&&"URL"===r)return!0;throw new Error(`Required a safe ${r}, got a ${o} (see ${He})`)}return o===r}const Xf=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var ga=(()=>((ga=ga||{})[ga.NONE=0]="NONE",ga[ga.HTML=1]="HTML",ga[ga.STYLE=2]="STYLE",ga[ga.SCRIPT=3]="SCRIPT",ga[ga.URL=4]="URL",ga[ga.RESOURCE_URL=5]="RESOURCE_URL",ga))();function Ju(n){const r=kh();return r?r.sanitize(ga.URL,n)||"":Wl(n,"URL")?Xc(n):function xh(n){return(n=String(n)).match(Xf)?n:"unsafe:"+n}(Rt(n))}function xm(n){const r=kh();if(r)return Rd(r.sanitize(ga.RESOURCE_URL,n)||"");if(Wl(n,"ResourceURL"))return Rd(Xc(n));throw new $e(904,!1)}function Oh(n,r,o){return function Fy(n,r){return"src"===r&&("embed"===n||"frame"===n||"iframe"===n||"media"===n||"script"===n)||"href"===r&&("base"===n||"link"===n)?xm:Ju}(r,o)(n)}function kh(){const n=Kn();return n&&n[ys].sanitizer}class jo{constructor(r,o){this._desc=r,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof o?this.__NG_ELEMENT_ID__=o:void 0!==o&&(this.\u0275prov=wt({token:this,providedIn:o.providedIn||"root",factory:o.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const Ba=new jo("ENVIRONMENT_INITIALIZER"),Rm=new jo("INJECTOR",-1),Nh=new jo("INJECTOR_DEF_TYPES");class Fh{get(r,o=di){if(o===di){const c=new Error(`NullInjectorError: No provider for ${Qe(r)}!`);throw c.name="NullInjectorError",c}return o}}function Cu(...n){return{\u0275providers:ed(0,n),\u0275fromNgModule:!0}}function ed(n,...r){const o=[],c=new Set;let g;return Uc(r,w=>{const R=w;Jc(R,o,[],c)&&(g||(g=[]),g.push(R))}),void 0!==g&&rp(g,o),o}function rp(n,r){for(let o=0;o<n.length;o++){const{providers:g}=n[o];Du(g,w=>{r.push(w)})}}function Jc(n,r,o,c){if(!(n=Pe(n)))return!1;let g=null,w=Xn(n);const R=!w&&It(n);if(w||R){if(R&&!R.standalone)return!1;g=n}else{const Q=n.ngModule;if(w=Xn(Q),!w)return!1;g=Q}const j=c.has(g);if(R){if(j)return!1;if(c.add(g),R.dependencies){const Q="function"==typeof R.dependencies?R.dependencies():R.dependencies;for(const me of Q)Jc(me,r,o,c)}}else{if(!w)return!1;{if(null!=w.imports&&!j){let me;c.add(g);try{Uc(w.imports,Le=>{Jc(Le,r,o,c)&&(me||(me=[]),me.push(Le))})}finally{}void 0!==me&&rp(me,r)}if(!j){const me=eo(g)||(()=>new g);r.push({provide:g,useFactory:me,deps:rt},{provide:Nh,useValue:g,multi:!0},{provide:Ba,useValue:()=>Wt(g),multi:!0})}const Q=w.providers;null==Q||j||Du(Q,Le=>{r.push(Le)})}}return g!==n&&void 0!==n.providers}function Du(n,r){for(let o of n)mt(o)&&(o=o.\u0275providers),Array.isArray(o)?Du(o,r):r(o)}const km=Se({provide:String,useValue:Se});function Pl(n){return null!==n&&"object"==typeof n&&km in n}function Su(n){return"function"==typeof n}const sp=new jo("Set Injector scope."),Fd={},op={};let ap;function yg(){return void 0===ap&&(ap=new Fh),ap}class kc{}class vg extends kc{get destroyed(){return this._destroyed}constructor(r,o,c,g){super(),this.parent=o,this.source=c,this.scopes=g,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,bg(r,R=>this.processProvider(R)),this.records.set(Rm,Bd(void 0,this)),g.has("environment")&&this.records.set(kc,Bd(void 0,this));const w=this.records.get(sp);null!=w&&"string"==typeof w.value&&this.scopes.add(w.value),this.injectorDefTypes=new Set(this.get(Nh.multi,rt,On.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const r of this._ngOnDestroyHooks)r.ngOnDestroy();for(const r of this._onDestroyHooks)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(r){return this.assertNotDestroyed(),this._onDestroyHooks.push(r),()=>this.removeOnDestroy(r)}runInContext(r){this.assertNotDestroyed();const o=xe(this),c=br(void 0);try{return r()}finally{xe(o),br(c)}}get(r,o=di,c=On.Default){if(this.assertNotDestroyed(),r.hasOwnProperty(bn))return r[bn](this);c=Kr(c);const g=xe(this),w=br(void 0);try{if(!(c&On.SkipSelf)){let j=this.records.get(r);if(void 0===j){const Q=function Vy(n){return"function"==typeof n||"object"==typeof n&&n instanceof jo}(r)&&tr(r);j=Q&&this.injectableDefInScope(Q)?Bd(lp(r),Fd):null,this.records.set(r,j)}if(null!=j)return this.hydrate(r,j)}return(c&On.Self?yg():this.parent).get(r,o=c&On.Optional&&o===di?null:o)}catch(R){if("NullInjectorError"===R.name){if((R[ri]=R[ri]||[]).unshift(Qe(r)),g)throw R;return function Te(n,r,o,c){const g=n[ri];throw r[yi]&&g.unshift(r[yi]),n.message=function se(n,r,o,c=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.slice(2):n;let g=Qe(r);if(Array.isArray(r))g=r.map(Qe).join(" -> ");else if("object"==typeof r){let w=[];for(let R in r)if(r.hasOwnProperty(R)){let j=r[R];w.push(R+":"+("string"==typeof j?JSON.stringify(j):Qe(j)))}g=`{${w.join(", ")}}`}return`${o}${c?"("+c+")":""}[${g}]: ${n.replace(Er,"\n  ")}`}("\n"+n.message,g,o,c),n.ngTokenPath=g,n[ri]=null,n}(R,r,"R3InjectorError",this.source)}throw R}finally{br(w),xe(g)}}resolveInjectorInitializers(){const r=xe(this),o=br(void 0);try{const c=this.get(Ba.multi,rt,On.Self);for(const g of c)g()}finally{xe(r),br(o)}}toString(){const r=[],o=this.records;for(const c of o.keys())r.push(Qe(c));return`R3Injector[${r.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new $e(205,!1)}processProvider(r){let o=Su(r=Pe(r))?r:Pe(r&&r.provide);const c=function cp(n){return Pl(n)?Bd(void 0,n.useValue):Bd(_g(n),Fd)}(r);if(Su(r)||!0!==r.multi)this.records.get(o);else{let g=this.records.get(o);g||(g=Bd(void 0,Fd,!0),g.factory=()=>Nr(g.multi),this.records.set(o,g)),o=r,g.multi.push(r)}this.records.set(o,c)}hydrate(r,o){return o.value===Fd&&(o.value=op,o.value=o.factory()),"object"==typeof o.value&&o.value&&function Nm(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(o.value)&&this._ngOnDestroyHooks.add(o.value),o.value}injectableDefInScope(r){if(!r.providedIn)return!1;const o=Pe(r.providedIn);return"string"==typeof o?"any"===o||this.scopes.has(o):this.injectorDefTypes.has(o)}removeOnDestroy(r){const o=this._onDestroyHooks.indexOf(r);-1!==o&&this._onDestroyHooks.splice(o,1)}}function lp(n){const r=tr(n),o=null!==r?r.factory:eo(n);if(null!==o)return o;if(n instanceof jo)throw new $e(204,!1);if(n instanceof Function)return function Ld(n){const r=n.length;if(r>0)throw lu(r,"?"),new $e(204,!1);const o=function hn(n){return n&&(n[cn]||n[Wr])||null}(n);return null!==o?()=>o.factory(n):()=>new n}(n);throw new $e(204,!1)}function _g(n,r,o){let c;if(Su(n)){const g=Pe(n);return eo(g)||lp(g)}if(Pl(n))c=()=>Pe(n.useValue);else if(function Ly(n){return!(!n||!n.useFactory)}(n))c=()=>n.useFactory(...Nr(n.deps||[]));else if(function ip(n){return!(!n||!n.useExisting)}(n))c=()=>Wt(Pe(n.useExisting));else{const g=Pe(n&&(n.useClass||n.provide));if(!function $y(n){return!!n.deps}(n))return eo(g)||lp(g);c=()=>new g(...Nr(n.deps))}return c}function Bd(n,r,o=!1){return{factory:n,value:r,multi:o?[]:void 0}}function bg(n,r){for(const o of n)Array.isArray(o)?bg(o,r):o&&mt(o)?bg(o.\u0275providers,r):r(o)}const up=new jo("AppId",{providedIn:"root",factory:()=>Ya}),Ya="ng",Fm=new jo("Platform Initializer"),Lm=new jo("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Uy=new jo("AnimationModuleType"),dp=new jo("CSP nonce",{providedIn:"root",factory:()=>{var n,r;return(null===(n=function Md(){return void 0!==Th?Th:typeof document<"u"?document:void 0}().body)||void 0===n||null===(r=n.querySelector("[ngCspNonce]"))||void 0===r?void 0:r.getAttribute("ngCspNonce"))||null}});let jd=(n,r)=>null;function fp(n,r){return jd(n,r)}class Gh{}class Kh{}class Hy{resolveComponentFactory(r){throw function Sg(n){const r=Error(`No component factory found for ${Qe(n)}.`);return r.ngComponent=n,r}(r)}}let Yh=(()=>{class n{}return n.NULL=new Hy,n})();function Hm(){return tu(vs(),Kn())}function tu(n,r){return new nd(on(n,r))}let nd=(()=>{class n{constructor(o){this.nativeElement=o}}return n.__NG_ELEMENT_ID__=Hm,n})();function Wy(n){return n instanceof nd?n.nativeElement:n}class Wm{}let ul=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>function Gy(){const n=Kn(),o=wr(vs().index,n);return(Ws(o)?o:n)[Zr]}(),n})(),Gm=(()=>{class n{}return n.\u0275prov=wt({token:n,providedIn:"root",factory:()=>null}),n})();class qh{constructor(r){this.full=r,this.major=r.split(".")[0],this.minor=r.split(".")[1],this.patch=r.split(".").slice(2).join(".")}}const Hd=new qh("16.0.0"),Zh={};function Wd(n){for(;n;){n[qr]|=64;const r=qu(n);if(mo(n)&&!r)return n;n=r}return null}function Tg(n){return n.ngOriginalError}class Gd{constructor(){this._console=console}handleError(r){const o=this._findOriginalError(r);this._console.error("ERROR",r),o&&this._console.error("ORIGINAL ERROR",o)}_findOriginalError(r){let o=r&&Tg(r);for(;o&&Tg(o);)o=Tg(o);return o||null}}const Kd=new jo("",{providedIn:"root",factory:()=>!1});function _c(n){return n instanceof Function?n():n}class wp extends zr{constructor(){super(...arguments),this.consumerAllowSignalWrites=!1,this._lView=null}set lView(r){this._lView=r}onConsumerDependencyMayHaveChanged(){Wd(this._lView)}onProducerUpdateValueVersion(){}get hasReadASignal(){return this.hasProducers}runInContext(r,o,c){const g=Pn(this);this.trackingVersion++;try{r(o,c)}finally{Pn(g)}}destroy(){this.trackingVersion++}}let rd=null;function Ip(){var n;return null!==(n=rd)&&void 0!==n||(rd=new wp),rd}function Ru(n,r){var o;return null!==(o=n[r])&&void 0!==o?o:Ip()}function Mg(n,r){const o=Ip();o.hasReadASignal&&(n[r]=rd,o.lView=n,rd=new wp)}const bs={};function Cp(n){Pg(Un(),Kn(),es()+n,!1)}function Pg(n,r,o,c){if(!c)if(3==(3&r[qr])){const w=n.preOrderCheckHooks;null!==w&&V(r,w,o)}else{const w=n.preOrderHooks;null!==w&&G(r,w,0,o)}is(o)}const qd={\u0275\u0275defineInjectable:wt,\u0275\u0275defineInjector:_n,\u0275\u0275inject:Wt,\u0275\u0275invalidFactoryDep:function In(n){throw new $e(202,!1)},resolveForwardRef:Pe};const Zd=Se({provide:String,useValue:Se});function Jh(n){return void 0!==n.useClass}function Tp(n){return void 0!==n.useFactory}const Xd=Vl("Injectable",void 0,void 0,void 0,(n,r)=>function Dp(n,r){let o=null,c=null;n.hasOwnProperty(cn)||Object.defineProperty(n,cn,{get:()=>(null===o&&(o=sa().compileInjectable(qd,`ng:///${n.name}/\u0275prov.js`,function Ap(n,r){const o=r||{providedIn:null},c={name:n.name,type:n,typeArgumentCount:0,providedIn:o.providedIn};return(Jh(o)||Tp(o))&&void 0!==o.deps&&(c.deps=Rf(o.deps)),Jh(o)?c.useClass=o.useClass:function Sp(n){return Zd in n}(o)?c.useValue=o.useValue:Tp(o)?c.useFactory=o.useFactory:function bc(n){return void 0!==n.useExisting}(o)&&(c.useExisting=o.useExisting),c}(n,r))),o)}),n.hasOwnProperty(Gn)||Object.defineProperty(n,Gn,{get:()=>{if(null===c){const g=sa();c=g.compileFactory(qd,`ng:///${n.name}/\u0275fac.js`,{name:n.name,type:n,typeArgumentCount:0,deps:fu(n),target:g.FactoryTarget.Injectable})}return c},configurable:!0})}(n,r));function xp(n,r=null,o=null,c){const g=Ou(n,r,o,c);return g.resolveInjectorInitializers(),g}function Ou(n,r=null,o=null,c,g=new Set){const w=[o||rt,Cu(n)];return c=c||("object"==typeof n?void 0:Qe(n)),new vg(w,r||yg(),c||null,g)}let Rl=(()=>{class n{static create(o,c){if(Array.isArray(o))return xp({name:""},c,o,"");{var g;const w=null!==(g=o.name)&&void 0!==g?g:"";return xp({name:w},o.parent,o.providers,w)}}}return n.THROW_IF_NOT_FOUND=di,n.NULL=new Fh,n.\u0275prov=wt({token:n,providedIn:"any",factory:()=>Wt(Rm)}),n.__NG_ELEMENT_ID__=-1,n})();function Kl(n,r=On.Default){const o=Kn();return null===o?Wt(n,r):Mr(vs(),o,Pe(n),r)}function ef(){throw new Error("invalid")}function qa(n,r,o,c,g,w,R,j,Q,me,Le){const at=r.blueprint.slice();return at[Li]=g,at[qr]=140|c,(null!==me||n&&2048&n[qr])&&(at[qr]|=2048),J(at),at[$i]=at[Oi]=n,at[Ki]=o,at[ys]=R||n&&n[ys],at[Zr]=j||n&&n[Zr],at[Ds]=Q||n&&n[Ds]||null,at[us]=w,at[Vi]=function pm(){return Is++}(),at[Xs]=Le,at[To]=me,at[Vr]=2==r.type?n[Vr]:at,at}function ql(n,r,o,c,g){let w=n.data[r];if(null===w)w=function sc(n,r,o,c,g){const w=Ma(),R=Cl(),Q=n.data[r]=function qy(n,r,o,c,g,w){return{type:o,index:c,insertBeforeIndex:null,injectorIndex:r?r.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:g,attrs:w,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:r,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,R?w:w&&w.parent,o,r,c,g);return null===n.firstChild&&(n.firstChild=Q),null!==w&&(R?null==w.child&&null!==Q.parent&&(w.child=Q):null===w.next&&(w.next=Q,Q.prev=w)),Q}(n,r,o,c,g),function Cc(){return mr.lFrame.inI18n}()&&(w.flags|=32);else if(64&w.type){w.type=o,w.value=c,w.attrs=g;const R=function Ha(){const n=mr.lFrame,r=n.currentTNode;return n.isParent?r:r.parent}();w.injectorIndex=null===R?-1:R.injectorIndex}return Ea(w,!0),w}function tf(n,r,o,c){if(0===o)return-1;const g=r.length;for(let w=0;w<o;w++)r.push(c),n.blueprint.push(c),n.data.push(null);return g}function Mp(n,r,o,c,g){const w=Ru(r,Yo),R=es(),j=2&c;try{if(is(-1),j&&r.length>hr&&Pg(n,r,hr,!1),le(j?2:0,g),j)w.runInContext(o,c,g);else{const me=Pn(null);try{o(c,g)}finally{Pn(me)}}}finally{j&&null===r[Yo]&&Mg(r,Yo),is(R),le(j?3:1,g)}}function Qd(n,r,o){if(qo(r)){const c=Pn(null);try{const w=r.directiveEnd;for(let R=r.directiveStart;R<w;R++){const j=n.data[R];j.contentQueries&&j.contentQueries(1,o[R],R)}}finally{Pn(c)}}}function nu(n,r,o){po()&&(function sf(n,r,o,c){const g=o.directiveStart,w=o.directiveEnd;Bo(o)&&function af(n,r,o){const c=on(r,n),R=eh(n,qa(n,Pp(o),null,o.onPush?64:16,c,r,null,n[ys].rendererFactory.createRenderer(c,o),null,null,null));n[r.index]=R}(r,o,n.data[g+o.componentOffset]),n.firstCreatePass||dn(o,r),ta(c,r);const R=o.initialInputs;for(let j=g;j<w;j++){const Q=n.data[j],me=Xr(r,n,j,o);ta(me,r),null!==R&&Ug(0,j-g,me,Q,0,R),xo(Q)&&(wr(o.index,r)[Ki]=Xr(r,n,j,o))}}(n,r,o,on(o,r)),64==(64&o.flags)&&kp(n,r,o))}function ku(n,r,o=on){const c=r.localNames;if(null!==c){let g=r.index+1;for(let w=0;w<c.length;w+=2){const R=c[w+1],j=-1===R?o(r,n):n[R];n[g++]=j}}}function Pp(n){const r=n.tView;return null===r||r.incompleteFirstPass?n.tView=nf(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):r}function nf(n,r,o,c,g,w,R,j,Q,me,Le){const at=hr+c,zt=at+g,pn=function Rv(n,r){const o=[];for(let c=0;c<r;c++)o.push(c<n?null:bs);return o}(at,zt),zn="function"==typeof me?me():me;return pn[ir]={type:n,blueprint:pn,template:o,queries:null,viewQuery:j,declTNode:r,data:pn.slice().fill(null,at),bindingStartIndex:at,expandoStartIndex:zt,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof w?w():w,pipeRegistry:"function"==typeof R?R():R,firstChild:null,schemas:Q,consts:zn,incompleteFirstPass:!1,ssrId:Le}}let Ol=n=>null;function Xm(n,r,o,c){for(let g in n)if(n.hasOwnProperty(g)){o=null===o?{}:o;const w=n[g];null===c?Qm(o,r,g,w):c.hasOwnProperty(g)&&Qm(o,r,c[g],w)}return o}function Qm(n,r,o,c){n.hasOwnProperty(o)?n[o].push(r,c):n[o]=[r,c]}function Zl(n,r,o,c,g,w,R,j){const Q=on(r,o);let Le,me=r.inputs;!j&&null!=me&&(Le=me[c])?(Hg(n,o,Le,c,g),Bo(r)&&function Zy(n,r){const o=wr(r,n);16&o[qr]||(o[qr]|=64)}(o,r.index)):3&r.type&&(c=function Rp(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(c),g=null!=R?R(g,r.value||"",c):g,w.setProperty(Q,c,g))}function Nu(n,r,o,c){if(po()){const g=null===c?null:{"":-1},w=function Jm(n,r){const o=n.directiveRegistry;let c=null,g=null;if(o)for(let R=0;R<o.length;R++){const j=o[R];if(uo(r,j.selectors,!1))if(c||(c=[]),xo(j))if(null!==j.findHostDirectiveDefs){const Q=[];g=g||new Map,j.findHostDirectiveDefs(j,Q,g),c.unshift(...Q,j),Bg(n,r,Q.length)}else c.unshift(j),Bg(n,r,0);else{var w;g=g||new Map,null===(w=j.findHostDirectiveDefs)||void 0===w||w.call(j,j,c,g),c.push(j)}}return null===c?null:[c,g]}(n,o);let R,j;null===w?R=j=null:[R,j]=w,null!==R&&Fg(n,r,o,R,g,j),g&&function $g(n,r,o){if(r){const c=n.localNames=[];for(let g=0;g<r.length;g+=2){const w=o[r[g+1]];if(null==w)throw new $e(-301,!1);c.push(r[g],w)}}}(o,c,g)}o.mergedAttrs=Qn(o.mergedAttrs,o.attrs)}function Fg(n,r,o,c,g,w){for(let at=0;at<c.length;at++)cr(dn(o,r),n,c[at].type);!function Vg(n,r,o){n.flags|=1,n.directiveStart=r,n.directiveEnd=r+o,n.providerIndexes=r}(o,n.data.length,c.length);for(let at=0;at<c.length;at++){const zt=c[at];zt.providersResolver&&zt.providersResolver(zt)}let R=!1,j=!1,Q=tf(n,r,c.length,null);for(let at=0;at<c.length;at++){const zt=c[at];o.mergedAttrs=Qn(o.mergedAttrs,zt.hostAttrs),id(n,o,r,Q,zt),Qy(Q,zt,g),null!==zt.contentQueries&&(o.flags|=4),(null!==zt.hostBindings||null!==zt.hostAttrs||0!==zt.hostVars)&&(o.flags|=64);const pn=zt.type.prototype;var me,Le;!R&&(pn.ngOnChanges||pn.ngOnInit||pn.ngDoCheck)&&((null!==(me=n.preOrderHooks)&&void 0!==me?me:n.preOrderHooks=[]).push(o.index),R=!0),j||!pn.ngOnChanges&&!pn.ngDoCheck||((null!==(Le=n.preOrderCheckHooks)&&void 0!==Le?Le:n.preOrderCheckHooks=[]).push(o.index),j=!0),Q++}!function kv(n,r,o){const g=r.directiveEnd,w=n.data,R=r.attrs,j=[];let Q=null,me=null;for(let Le=r.directiveStart;Le<g;Le++){const at=w[Le],zt=o?o.get(at):null,zn=zt?zt.outputs:null;Q=Xm(at.inputs,Le,Q,zt?zt.inputs:null),me=Xm(at.outputs,Le,me,zn);const Cr=null===Q||null===R||Ri(r)?null:Jd(Q,Le,R);j.push(Cr)}null!==Q&&(Q.hasOwnProperty("class")&&(r.flags|=8),Q.hasOwnProperty("style")&&(r.flags|=16)),r.initialInputs=j,r.inputs=Q,r.outputs=me}(n,o,w)}function kp(n,r,o){const c=o.directiveStart,g=o.directiveEnd,w=o.index,R=function Wa(){return mr.lFrame.currentDirectiveIndex}();try{is(w);for(let j=c;j<g;j++){const Q=n.data[j],me=r[j];os(j),(null!==Q.hostBindings||0!==Q.hostVars||null!==Q.hostAttrs)&&Lg(Q,me)}}finally{is(-1),os(R)}}function Lg(n,r){null!==n.hostBindings&&n.hostBindings(1,r)}function Bg(n,r,o){var c;r.componentOffset=o,(null!==(c=n.components)&&void 0!==c?c:n.components=[]).push(r.index)}function Qy(n,r,o){if(o){if(r.exportAs)for(let c=0;c<r.exportAs.length;c++)o[r.exportAs[c]]=n;xo(r)&&(o[""]=n)}}function id(n,r,o,c,g){n.data[c]=g;const w=g.factory||(g.factory=eo(g.type)),R=new Zt(w,xo(g),Kl);n.blueprint[c]=R,o[c]=R,function Op(n,r,o,c,g){const w=g.hostBindings;if(w){let R=n.hostBindingOpCodes;null===R&&(R=n.hostBindingOpCodes=[]);const j=~r.index;(function Xy(n){let r=n.length;for(;r>0;){const o=n[--r];if("number"==typeof o&&o<0)return o}return 0})(R)!=j&&R.push(j),R.push(o,c,w)}}(n,r,c,tf(n,o,g.hostVars,bs),g)}function oc(n,r,o,c,g,w){const R=on(n,r);!function Fu(n,r,o,c,g,w,R){if(null==w)n.removeAttribute(r,g,o);else{const j=null==R?Rt(w):R(w,c||"",g);n.setAttribute(r,g,j,o)}}(r[Zr],R,w,n.value,o,c,g)}function Ug(n,r,o,c,g,w){const R=w[r];if(null!==R)for(let j=0;j<R.length;)Np(c,o,R[j++],R[j++],R[j++])}function Np(n,r,o,c,g){const w=Pn(null);try{null!==n.setInput?n.setInput(r,g,o,c):r[c]=g}finally{Pn(w)}}function Jd(n,r,o){let c=null,g=0;for(;g<o.length;){const w=o[g];if(0!==w)if(5!==w){if("number"==typeof w)break;if(n.hasOwnProperty(w)){null===c&&(c=[]);const R=n[w];for(let j=0;j<R.length;j+=2)if(R[j]===r){c.push(w,R[j+1],o[g+1]);break}}g+=2}else g+=2;else g+=4}return c}function jg(n,r,o,c){return[n,!0,!1,r,null,0,c,o,null,null,null]}function Fp(n,r){const o=n.contentQueries;if(null!==o)for(let c=0;c<o.length;c+=2){const w=o[c+1];if(-1!==w){const R=n.data[w];yr(o[c]),R.contentQueries(2,r[w],w)}}}function eh(n,r){return n[Js]?n[ho][Rs]=r:n[Js]=r,n[ho]=r,r}function lf(n,r,o){yr(0);const c=Pn(null);try{r(n,o)}finally{Pn(c)}}function th(n){return n[go]||(n[go]=[])}function cf(n){return n.cleanup||(n.cleanup=[])}function zg(n,r){const o=n[Ds],c=o?o.get(Gd,null):null;c&&c.handleError(r)}function Hg(n,r,o,c,g){for(let w=0;w<o.length;){const R=o[w++],j=o[w++];Np(n.data[R],r[R],c,j,g)}}function Wg(n,r){const o=wr(r,n),c=o[ir];!function ey(n,r){for(let o=r.length;o<n.blueprint.length;o++)r.push(n.blueprint[o])}(c,o);const g=o[Li];null!==g&&null===o[Xs]&&(o[Xs]=fp(g,o[Ds])),Gg(c,o,o[Ki])}function Gg(n,r,o){Sa(r);try{const c=n.viewQuery;null!==c&&lf(1,c,o);const g=n.template;null!==g&&Mp(n,r,g,1,o),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&Fp(n,r),n.staticViewQueries&&lf(2,n.viewQuery,o);const w=n.components;null!==w&&function Kg(n,r){for(let o=0;o<r.length;o++)Wg(n,r[o])}(r,w)}catch(c){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),c}finally{r[qr]&=-5,Ir()}}let Yg=(()=>{class n{constructor(){this.all=new Set,this.queue=new Map}create(o,c,g){const w=typeof Zone>"u"?null:Zone.current,R=new Na(o,me=>{this.all.has(me)&&this.queue.set(me,w)},g);let j;this.all.add(R),R.notify();const Q=()=>{var me;R.cleanup(),null===(me=j)||void 0===me||me(),this.all.delete(R),this.queue.delete(R)};return j=null==c?void 0:c.onDestroy(Q),{destroy:Q}}flush(){if(0!==this.queue.size)for(const[o,c]of this.queue)this.queue.delete(o),c?c.run(()=>o.run()):o.run()}get isQueueEmpty(){return 0===this.queue.size}}return n.\u0275prov=wt({token:n,providedIn:"root",factory:()=>new n}),n})();function Bp(n,r,o){let c=o?n.styles:null,g=o?n.classes:null,w=0;if(null!==r)for(let R=0;R<r.length;R++){const j=r[R];"number"==typeof j?w=j:1==w?g=Be(g,j):2==w&&(c=Be(c,j+": "+r[++R]+";"))}o?n.styles=c:n.stylesWithoutHost=c,o?n.classes=g:n.classesWithoutHost=g}function df(n,r,o,c,g=!1){for(;null!==o;){const w=r[o.index];if(null!==w&&c.push(lt(w)),Yi(w)){for(let j=Es;j<w.length;j++){const Q=w[j],me=Q[ir].firstChild;null!==me&&df(Q[ir],Q,me,c)}w[ss]!==w[Li]&&c.push(w[ss])}const R=o.type;if(8&R)df(n,r,o.child,c);else if(32&R){const j=qc(o,r);let Q;for(;Q=j();)c.push(Q)}else if(16&R){const j=sg(r,o);if(Array.isArray(j))c.push(...j);else{const Q=qu(r[Vr]);df(Q[ir],Q,j,c,!0)}}o=g?o.projectionNext:o.next}return c}function nh(n,r,o,c=!0){const g=r[ys].rendererFactory;g.begin&&g.begin();try{sd(n,r,n.template,o)}catch(j){throw c&&zg(r,j),j}finally{var R;g.end&&g.end(),null===(R=r[ys].effectManager)||void 0===R||R.flush()}}function sd(n,r,o,c){var g;const w=r[qr];if(256!=(256&w)){null===(g=r[ys].effectManager)||void 0===g||g.flush(),Sa(r);try{J(r),function Ll(n){return mr.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==o&&Mp(n,r,o,2,c);const j=3==(3&w);if(j){const Le=n.preOrderCheckHooks;null!==Le&&V(r,Le,null)}else{const Le=n.preOrderHooks;null!==Le&&G(r,Le,0,null),O(r,0)}if(function Jy(n){for(let r=bh(n);null!==r;r=Zc(r)){if(!r[Wo])continue;const o=r[Ao];for(let c=0;c<o.length;c++){Ne(o[c])}}}(r),function Zg(n){for(let r=bh(n);null!==r;r=Zc(r))for(let o=Es;o<r.length;o++){const c=r[o],g=c[ir];lo(c)&&sd(g,c,g.template,c[Ki])}}(r),null!==n.contentQueries&&Fp(n,r),j){const Le=n.contentCheckHooks;null!==Le&&V(r,Le)}else{const Le=n.contentHooks;null!==Le&&G(r,Le,1),O(r,1)}!function Yl(n,r){const o=n.hostBindingOpCodes;if(null===o)return;const c=Ru(r,Ai);try{for(let g=0;g<o.length;g++){const w=o[g];if(w<0)is(~w);else{const R=w,j=o[++g],Q=o[++g];Ii(j,R),c.runInContext(Q,2,r[R])}}}finally{null===r[Ai]&&Mg(r,Ai),is(-1)}}(n,r);const Q=n.components;null!==Q&&function hf(n,r){for(let o=0;o<r.length;o++)rh(n,r[o])}(r,Q);const me=n.viewQuery;if(null!==me&&lf(2,me,c),j){const Le=n.viewCheckHooks;null!==Le&&V(r,Le)}else{const Le=n.viewHooks;null!==Le&&G(r,Le,2),O(r,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),r[qr]&=-73,bt(r)}finally{Ir()}}}function rh(n,r){const o=wr(r,n);if(lo(o)){const c=o[ir];80&o[qr]?sd(c,o,c.template,o[Ki]):o[Io]>0&&Xg(o)}}function Xg(n){for(let c=bh(n);null!==c;c=Zc(c))for(let g=Es;g<c.length;g++){const w=c[g];if(lo(w))if(1024&w[qr]){const R=w[ir];sd(R,w,R.template,w[Ki])}else w[Io]>0&&Xg(w)}const o=n[ir].components;if(null!==o)for(let c=0;c<o.length;c++){const g=wr(o[c],n);lo(g)&&g[Io]>0&&Xg(g)}}class ih{get rootNodes(){const r=this._lView,o=r[ir];return df(o,r,o.firstChild,[])}constructor(r,o){this._lView=r,this._cdRefInjectingView=o,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Ki]}set context(r){this._lView[Ki]=r}get destroyed(){return 256==(256&this._lView[qr])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const r=this._lView[$i];if(Yi(r)){const o=r[Do],c=o?o.indexOf(this):-1;c>-1&&($f(r,c),Tl(o,c))}this._attachedToViewContainer=!1}Jp(this._lView[ir],this._lView)}onDestroy(r){!function kn(n,r){if(256==(256&n[qr]))throw new $e(911,!1);null===n[Co]&&(n[Co]=[]),n[Co].push(r)}(this._lView,r)}markForCheck(){Wd(this._cdRefInjectingView||this._lView)}detach(){this._lView[qr]&=-129}reattach(){this._lView[qr]|=128}detectChanges(){nh(this._lView[ir],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new $e(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Qp(n,r){Dh(n,r,r[Zr],2,null,null)}(this._lView[ir],this._lView)}attachToAppRef(r){if(this._attachedToViewContainer)throw new $e(902,!1);this._appRef=r}}class sh extends ih{constructor(r){super(r),this._view=r}detectChanges(){const r=this._view;nh(r[ir],r,r[Ki],!1)}checkNoChanges(){}get context(){return null}}class Qg extends Yh{constructor(r){super(),this.ngModule=r}resolveComponentFactory(r){const o=It(r);return new dl(o,this.ngModule)}}function ff(n){const r=[];for(let o in n)n.hasOwnProperty(o)&&r.push({propName:n[o],templateName:o});return r}class ev{constructor(r,o){this.injector=r,this.parentInjector=o}get(r,o,c){c=Kr(c);const g=this.injector.get(r,Zh,c);return g!==Zh||o===Zh?g:this.parentInjector.get(r,o,c)}}class dl extends Kh{get inputs(){return ff(this.componentDef.inputs)}get outputs(){return ff(this.componentDef.outputs)}constructor(r,o){super(),this.componentDef=r,this.ngModule=o,this.componentType=r.type,this.selector=function qs(n){return n.map(zi).join(",")}(r.selectors),this.ngContentSelectors=r.ngContentSelectors?r.ngContentSelectors:[],this.isBoundToModule=!!o}create(r,o,c,g){var w;let R=(g=g||this.ngModule)instanceof kc?g:null===(w=g)||void 0===w?void 0:w.injector;R&&null!==this.componentDef.getStandaloneInjector&&(R=this.componentDef.getStandaloneInjector(R)||R);const j=R?new ev(r,R):r,Q=j.get(Wm,null);if(null===Q)throw new $e(407,!1);const at={rendererFactory:Q,sanitizer:j.get(Gm,null),effectManager:j.get(Yg,null)},zt=Q.createRenderer(null,this.componentDef),pn=this.componentDef.selectors[0][0]||"div",zn=c?function Rg(n,r,o,c){const w=c.get(Kd,!1)||o===qe.ShadowDom,R=n.selectRootElement(r,w);return function Og(n){Ol(n)}(R),R}(zt,c,this.componentDef.encapsulation,j):Cd(zt,pn,function iy(n){const r=n.toLowerCase();return"svg"===r?"svg":"math"===r?"math":null}(pn)),Cr=this.componentDef.onPush?576:528,Ur=nf(0,null,null,1,0,null,null,null,null,null,null),mi=qa(null,Ur,null,Cr,null,null,at,zt,j,null,null);let ar,Cs;Sa(mi);try{const Ys=this.componentDef;let Ho,au=null;Ys.findHostDirectiveDefs?(Ho=[],au=new Map,Ys.findHostDirectiveDefs(Ys,Ho,au),Ho.push(Ys)):Ho=[Ys];const ZE=function pf(n,r){const o=n[ir],c=hr;return n[c]=r,ql(o,c,2,"#host",null)}(mi,zn),AD=function em(n,r,o,c,g,w,R){const j=g[ir];!function tm(n,r,o,c){for(const g of n)r.mergedAttrs=Qn(r.mergedAttrs,g.hostAttrs);null!==r.mergedAttrs&&(Bp(r,r.mergedAttrs,!0),null!==o&&ag(c,o,r))}(c,n,r,R);let Q=null;null!==r&&(Q=fp(r,g[Ds]));const me=w.rendererFactory.createRenderer(r,o),Le=qa(g,Pp(o),null,o.onPush?64:16,g[n.index],n,w,me,null,null,Q);return j.firstCreatePass&&Bg(j,n,c.length-1),eh(g,Le),g[n.index]=Le}(ZE,zn,Ys,Ho,mi,at,zt);Cs=sr(Ur,hr),zn&&function nm(n,r,o,c){if(c)Ft(n,o,["ng-version",Hd.full]);else{const{attrs:g,classes:w}=function io(n){const r=[],o=[];let c=1,g=2;for(;c<n.length;){let w=n[c];if("string"==typeof w)2===g?""!==w&&r.push(w,n[++c]):8===g&&o.push(w);else{if(!ei(g))break;g=w}c++}return{attrs:r,classes:o}}(r.selectors[0]);g&&Ft(n,o,g),w&&w.length>0&&Kf(n,o,w.join(" "))}}(zt,Ys,zn,c),void 0!==o&&function rm(n,r,o){const c=n.projection=[];for(let g=0;g<r.length;g++){const w=o[g];c.push(null!=w?Array.from(w):null)}}(Cs,this.ngContentSelectors,o),ar=function $p(n,r,o,c,g,w){const R=vs(),j=g[ir],Q=on(R,g);Fg(j,g,R,o,null,c);for(let Le=0;Le<o.length;Le++)ta(Xr(g,j,R.directiveStart+Le,R),g);kp(j,g,R),Q&&ta(Q,g);const me=Xr(g,j,R.directiveStart+R.componentOffset,R);if(n[Ki]=g[Ki]=me,null!==w)for(const Le of w)Le(me,r);return Qd(j,R,n),me}(AD,Ys,Ho,au,mi,[ad]),Gg(Ur,mi,null)}finally{Ir()}return new Jg(this.componentType,ar,tu(Cs,mi),mi,Cs)}}class Jg extends Gh{constructor(r,o,c,g,w){super(),this.location=c,this._rootLView=g,this._tNode=w,this.previousInputValues=null,this.instance=o,this.hostView=this.changeDetectorRef=new sh(g),this.componentType=r}setInput(r,o){const c=this._tNode.inputs;let g;if(null!==c&&(g=c[r])){var w;if(null!==(w=this.previousInputValues)&&void 0!==w||(this.previousInputValues=new Map),this.previousInputValues.has(r)&&Object.is(this.previousInputValues.get(r),o))return;const R=this._rootLView;Hg(R[ir],R,g,r,o),this.previousInputValues.set(r,o),Wd(wr(this._tNode.index,R))}}get injector(){return new Qs(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(r){this.hostView.onDestroy(r)}}function ad(){const n=vs();Ko(Kn()[ir],n)}function gf(n){let r=function Vp(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),o=!0;const c=[n];for(;r;){let g;if(xo(n))g=r.\u0275cmp||r.\u0275dir;else{if(r.\u0275cmp)throw new $e(903,!1);g=r.\u0275dir}if(g){if(o){c.push(g);const R=n;R.inputs=yf(n.inputs),R.declaredInputs=yf(n.declaredInputs),R.outputs=yf(n.outputs);const j=g.hostBindings;j&&oh(n,j);const Q=g.viewQuery,me=g.contentQueries;if(Q&&kl(n,Q),me&&ld(n,me),Re(n.inputs,g.inputs),Re(n.declaredInputs,g.declaredInputs),Re(n.outputs,g.outputs),xo(g)&&g.data.animation){const Le=n.data;Le.animation=(Le.animation||[]).concat(g.data.animation)}}const w=g.features;if(w)for(let R=0;R<w.length;R++){const j=w[R];j&&j.ngInherit&&j(n),j===gf&&(o=!1)}}r=Object.getPrototypeOf(r)}!function mf(n){let r=0,o=null;for(let c=n.length-1;c>=0;c--){const g=n[c];g.hostVars=r+=g.hostVars,g.hostAttrs=Qn(g.hostAttrs,o=Qn(o,g.hostAttrs))}}(c)}function yf(n){return n===xt?{}:n===rt?[]:n}function kl(n,r){const o=n.viewQuery;n.viewQuery=o?(c,g)=>{r(c,g),o(c,g)}:r}function ld(n,r){const o=n.contentQueries;n.contentQueries=o?(c,g,w)=>{r(c,g,w),o(c,g,w)}:r}function oh(n,r){const o=n.hostBindings;n.hostBindings=o?(c,g)=>{r(c,g),o(c,g)}:r}function Up(n){return!!vf(n)&&(Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n)}function vf(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function $a(n,r,o){return!Object.is(n[r],o)&&(n[r]=o,!0)}function ud(n,r,o,c){const g=Kn();return $a(g,Ui(),r)&&(Un(),oc(Gi(),g,n,r,o,c)),ud}function na(n,r,o,c){return $a(n,Ui(),o)?r+Rt(o)+c:bs}function ma(n,r,o,c,g,w,R,j){const Q=Kn(),me=Un(),Le=n+hr,at=me.firstCreatePass?function Ps(n,r,o,c,g,w,R,j,Q){const me=r.consts,Le=ql(r,n,4,R||null,he(me,j));Nu(r,o,Le,he(me,Q)),Ko(r,Le);const at=Le.tView=nf(2,Le,c,g,w,r.directiveRegistry,r.pipeRegistry,null,r.schemas,me,null);return null!==r.queries&&(r.queries.template(r,Le),at.queries=r.queries.embeddedTView(Le)),Le}(Le,me,Q,r,o,c,g,w,R):me.data[Le];Ea(at,!1);const zt=ac(me,Q,at,n);$l()&&Wf(me,Q,zt,at),ta(zt,Q),eh(Q,Q[Le]=jg(zt,Q,zt,at)),So(at)&&nu(me,Q,at),null!=R&&ku(Q,at,j)}let ac=function fl(n,r,o,c){return ea(!0),r[Zr].createComment("")};function Cf(n){return vi(function ua(){return mr.lFrame.contextLView}(),hr+n)}function Va(n,r,o){const c=Kn();return $a(c,Ui(),r)&&Zl(Un(),Gi(),c,n,r,c[Zr],o,!1),Va}function Ql(n,r,o,c,g){const R=g?"class":"style";Hg(n,o,r.inputs[R],R,c)}function Fc(n,r,o,c){const g=Kn(),w=Un(),R=hr+n,j=g[Zr],Q=w.firstCreatePass?function cc(n,r,o,c,g,w){const R=r.consts,Q=ql(r,n,2,c,he(R,g));return Nu(r,o,Q,he(R,w)),null!==Q.attrs&&Bp(Q,Q.attrs,!1),null!==Q.mergedAttrs&&Bp(Q,Q.mergedAttrs,!0),null!==r.queries&&r.queries.elementStart(r,Q),Q}(R,w,g,r,o,c):w.data[R],me=zp(w,g,Q,j,r,n);g[R]=me;const Le=So(Q);return Ea(Q,!0),ag(j,me,Q),32!=(32&Q.flags)&&$l()&&Wf(w,g,me,Q),0===function Ni(){return mr.lFrame.elementDepthCount}()&&ta(me,g),function fs(){mr.lFrame.elementDepthCount++}(),Le&&(nu(w,g,Q),Qd(w,Q,g)),null!==c&&ku(g,Q),Fc}function gd(){let n=vs();Cl()?Dl():(n=n.parent,Ea(n,!1));const r=n;(function Fi(n){return mr.skipHydrationRootTNode===n})(r)&&function Hr(){mr.skipHydrationRootTNode=null}(),function As(){mr.lFrame.elementDepthCount--}();const o=Un();return o.firstCreatePass&&(Ko(o,n),qo(n)&&o.queries.elementEnd(n)),null!=r.classesWithoutHost&&function vo(n){return 0!=(8&n.flags)}(r)&&Ql(o,r,Kn(),r.classesWithoutHost,!0),null!=r.stylesWithoutHost&&function I(n){return 0!=(16&n.flags)}(r)&&Ql(o,r,Kn(),r.stylesWithoutHost,!1),gd}function am(n,r,o,c){return Fc(n,r,o,c),gd(),am}let zp=(n,r,o,c,g,w)=>(ea(!0),Cd(c,g,function ha(){return mr.lFrame.currentNamespace}()));function uh(n,r,o){const c=Kn(),g=Un(),w=n+hr,R=g.firstCreatePass?function g_(n,r,o,c,g){const w=r.consts,R=he(w,c),j=ql(r,n,8,"ng-container",R);return null!==R&&Bp(j,R,!0),Nu(r,o,j,he(w,g)),null!==r.queries&&r.queries.elementStart(r,j),j}(w,g,c,r,o):g.data[w];Ea(R,!0);const j=my(g,c,R,n);return c[w]=j,$l()&&Wf(g,c,j,R),ta(j,c),So(R)&&(nu(g,c,R),Qd(g,R,c)),null!=o&&ku(c,R),uh}function Fv(){let n=vs();const r=Un();return Cl()?Dl():(n=n.parent,Ea(n,!1)),r.firstCreatePass&&(Ko(r,n),qo(n)&&r.queries.elementEnd(n)),Fv}function Lv(n,r,o){return uh(n,r,o),Fv(),Lv}let my=(n,r,o,c)=>(ea(!0),_u(r[Zr],""));function Bv(){return Kn()}function sv(n){return!!n&&"function"==typeof n.then}function cm(n){return!!n&&"function"==typeof n.subscribe}function ov(n,r,o,c){const g=Kn(),w=Un(),R=vs();return function Vv(n,r,o,c,g,w,R){const j=So(c),me=n.firstCreatePass&&cf(n),Le=r[Ki],at=th(r);let zt=!0;if(3&c.type||R){const Cr=on(c,r),Ur=R?R(Cr):Cr,mi=at.length,ar=R?Ys=>R(lt(Ys[c.index])):c.index;let Cs=null;if(!R&&j&&(Cs=function vy(n,r,o,c){const g=n.cleanup;if(null!=g)for(let w=0;w<g.length-1;w+=2){const R=g[w];if(R===o&&g[w+1]===c){const j=r[go],Q=g[w+2];return j.length>Q?j[Q]:null}"string"==typeof R&&(w+=2)}return null}(n,r,g,c.index)),null!==Cs)(Cs.__ngLastListenerFn__||Cs).__ngNextListenerFn__=w,Cs.__ngLastListenerFn__=w,zt=!1;else{w=av(c,r,Le,w,!1);const Ys=o.listen(Ur,g,w);at.push(w,Ys),me&&me.push(g,ar,mi,mi+1)}}else w=av(c,r,Le,w,!1);const pn=c.outputs;let zn;if(zt&&null!==pn&&(zn=pn[g])){const Cr=zn.length;if(Cr)for(let Ur=0;Ur<Cr;Ur+=2){const Ho=r[zn[Ur]][zn[Ur+1]].subscribe(w),au=at.length;at.push(w,Ho),me&&me.push(g,c.index,au,-(au+1))}}}(w,g,g[Zr],R,n,r,c),ov}function Uv(n,r,o,c){try{return le(6,r,o),!1!==o(c)}catch(g){return zg(n,g),!1}finally{le(7,r,o)}}function av(n,r,o,c,g){return function w(R){if(R===Function)return c;Wd(n.componentOffset>-1?wr(n.index,r):r);let Q=Uv(r,o,c,R),me=w.__ngNextListenerFn__;for(;me;)Q=Uv(r,o,me,R)&&Q,me=me.__ngNextListenerFn__;return g&&!1===Q&&(R.preventDefault(),R.returnValue=!1),Q}}function lv(n=1){return function Bi(n){return(mr.lFrame.contextLView=function Hi(n,r){for(;n>0;)r=r[Oi],n--;return r}(n,mr.lFrame.contextLView))[Ki]}(n)}function jv(n,r){let o=null;const c=function ro(n){const r=n.attrs;if(null!=r){const o=r.indexOf(5);if(!(1&o))return r[o+1]}return null}(n);for(let g=0;g<r.length;g++){const w=r[g];if("*"!==w){if(null===c?uo(n,w,!0):wo(c,w))return g}else o=g}return o}function cv(n){const r=Kn()[Vr][us];if(!r.projection){const c=r.projection=lu(n?n.length:1,null),g=c.slice();let w=r.child;for(;null!==w;){const R=n?jv(w,n):0;null!==R&&(g[R]?g[R].projectionNext=w:c[R]=w,g[R]=w),w=w.next}}}function uv(n,r=0,o){const c=Kn(),g=Un(),w=ql(g,hr+n,16,null,o||null);null===w.projection&&(w.projection=r),Dl(),(!c[Xs]||function $n(){return null!==mr.skipHydrationRootTNode}())&&32!=(32&w.flags)&&function xa(n,r,o){Gf(r[Zr],0,r,o,eg(n,o,r),zf(o.parent||r[us],o,r))}(g,c,w)}function _y(n,r,o){return um(n,"",r,"",o),_y}function um(n,r,o,c,g){const w=Kn(),R=na(w,r,o,c);return R!==bs&&Zl(Un(),Gi(),w,n,R,w[Zr],g,!1),um}function $u(n,r){return n<<17|r<<2}function Lc(n){return n>>17&32767}function dv(n){return 2|n}function Sf(n){return(131068&n)>>2}function Vu(n,r){return-131069&n|r<<2}function hv(n){return 1|n}function Wv(n,r,o,c,g){const w=n[o+1],R=null===r;let j=c?Lc(w):Sf(w),Q=!1;for(;0!==j&&(!1===Q||R);){const Le=n[j+1];D_(n[j],r)&&(Q=!0,n[j+1]=c?hv(Le):dv(Le)),j=c?Lc(Le):Sf(Le)}Q&&(n[o+1]=c?dv(w):hv(w))}function D_(n,r){return null===n||null==r||(Array.isArray(n)?n[1]:n)===r||!(!Array.isArray(n)||"string"!=typeof r)&&_o(n,r)>=0}function fv(n,r){return function pl(n,r,o,c){const g=Kn(),w=Un(),R=function da(n){const r=mr.lFrame,o=r.bindingIndex;return r.bindingIndex=r.bindingIndex+n,o}(2);w.firstUpdatePass&&function Xv(n,r,o,c){const g=n.data;if(null===g[o+1]){const w=g[es()],R=function Zv(n,r){return r>=n.expandoStartIndex}(n,o);(function Y(n,r){return 0!=(n.flags&(r?8:16))})(w,c)&&null===r&&!R&&(r=!1),r=function R_(n,r,o,c){const g=function ol(n){const r=mr.lFrame.currentDirectiveIndex;return-1===r?null:n[r]}(n);let w=c?r.residualClasses:r.residualStyles;if(null===g)0===(c?r.classBindings:r.styleBindings)&&(o=Ey(o=Qv(null,n,r,o,c),r.attrs,c),w=null);else{const R=r.directiveStylingLast;if(-1===R||n[R]!==g)if(o=Qv(g,n,r,o,c),null===w){let Q=function O_(n,r,o){const c=o?r.classBindings:r.styleBindings;if(0!==Sf(c))return n[Lc(c)]}(n,r,c);void 0!==Q&&Array.isArray(Q)&&(Q=Qv(null,n,r,Q[1],c),Q=Ey(Q,r.attrs,c),function k_(n,r,o,c){n[Lc(o?r.classBindings:r.styleBindings)]=c}(n,r,c,Q))}else w=function N_(n,r,o){let c;const g=r.directiveEnd;for(let w=1+r.directiveStylingLast;w<g;w++)c=Ey(c,n[w].hostAttrs,o);return Ey(c,r.attrs,o)}(n,r,c)}return void 0!==w&&(c?r.residualClasses=w:r.residualStyles=w),o}(g,w,r,c),function I_(n,r,o,c,g,w){let R=w?r.classBindings:r.styleBindings,j=Lc(R),Q=Sf(R);n[c]=o;let Le,me=!1;if(Array.isArray(o)?(Le=o[1],(null===Le||_o(o,Le)>0)&&(me=!0)):Le=o,g)if(0!==Q){const zt=Lc(n[j+1]);n[c+1]=$u(zt,j),0!==zt&&(n[zt+1]=Vu(n[zt+1],c)),n[j+1]=function E_(n,r){return 131071&n|r<<17}(n[j+1],c)}else n[c+1]=$u(j,0),0!==j&&(n[j+1]=Vu(n[j+1],c)),j=c;else n[c+1]=$u(Q,0),0===j?j=c:n[Q+1]=Vu(n[Q+1],c),Q=c;me&&(n[c+1]=dv(n[c+1])),Wv(n,Le,c,!0),Wv(n,Le,c,!1),function C_(n,r,o,c,g){const w=g?n.residualClasses:n.residualStyles;null!=w&&"string"==typeof r&&_o(w,r)>=0&&(o[c+1]=hv(o[c+1]))}(r,Le,n,c,w),R=$u(j,Q),w?r.classBindings=R:r.styleBindings=R}(g,w,r,o,R,c)}}(w,n,R,c),r!==bs&&$a(g,R,r)&&function a(n,r,o,c,g,w,R,j){if(!(3&r.type))return;const Q=n.data,me=Q[j+1],Le=function w_(n){return 1==(1&n)}(me)?f(Q,r,o,g,Sf(me),R):void 0;_(Le)||(_(w)||function Df(n){return 2==(2&n)}(me)&&(w=f(Q,null,o,g,j,R)),function Sh(n,r,o,c,g){if(r)g?n.addClass(o,c):n.removeClass(o,c);else{let w=-1===c.indexOf("-")?void 0:cl.DashCase;null==g?n.removeStyle(o,c,w):("string"==typeof g&&g.endsWith("!important")&&(g=g.slice(0,-10),w|=cl.Important),n.setStyle(o,c,g,w))}}(c,R,Yt(es(),o),g,w))}(w,w.data[es()],g,g[Zr],n,g[R+1]=function S(n,r){return null==n||""===n||("string"==typeof r?n+=r:"object"==typeof n&&(n=Qe(Xc(n)))),n}(r,o),c,R)}(n,r,null,!0),fv}function Qv(n,r,o,c,g){let w=null;const R=o.directiveEnd;let j=o.directiveStylingLast;for(-1===j?j=o.directiveStart:j++;j<R&&(w=r[j],c=Ey(c,w.hostAttrs,g),w!==n);)j++;return null!==n&&(o.directiveStylingLast=j),c}function Ey(n,r,o){const c=o?1:2;let g=-1;if(null!==r)for(let w=0;w<r.length;w++){const R=r[w];"number"==typeof R?g=R:g===c&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),Uo(n,R,!!o||r[++w]))}return void 0===n?null:n}function f(n,r,o,c,g,w){const R=null===r;let j;for(;g>0;){const Q=n[g],me=Array.isArray(Q),Le=me?Q[1]:Q,at=null===Le;let zt=o[g+1];zt===bs&&(zt=at?rt:void 0);let pn=at?cu(zt,c):Le===c?zt:void 0;if(me&&!_(pn)&&(pn=cu(Q,c)),_(pn)&&(j=pn,R))return j;const zn=n[g+1];g=R?Lc(zn):Sf(zn)}if(null!==r){let Q=w?r.residualClasses:r.residualStyles;null!=Q&&(j=cu(Q,c))}return j}function _(n){return void 0!==n}function ce(n,r=""){const o=Kn(),c=Un(),g=n+hr,w=c.firstCreatePass?ql(c,g,1,r,null):c.data[g],R=Ee(c,o,w,r,n);o[g]=R,$l()&&Wf(c,o,R,w),Ea(w,!1)}let Ee=(n,r,o,c,g)=>(ea(!0),function Id(n,r){return n.createText(r)}(r[Zr],c));function En(n){return Vn("",n,""),En}function Vn(n,r,o){const c=Kn(),g=na(c,n,r,o);return g!==bs&&function Nc(n,r,o){const c=Yt(r,n);!function Zp(n,r,o){n.setValue(r,o)}(n[Zr],c,o)}(c,es(),g),Vn}const hm=void 0;var fw=["en",[["a","p"],["AM","PM"],hm],[["AM","PM"],hm,hm],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],hm,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],hm,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",hm,"{1} 'at' {0}",hm],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function hw(n){const o=Math.floor(Math.abs(n)),c=n.toString().replace(/^[^.]*\.?/,"").length;return 1===o&&0===c?1:5}];let wy={};function F_(n){const r=function pw(n){return n.toLowerCase().replace(/_/g,"-")}(n);let o=V0(r);if(o)return o;const c=r.split("-")[0];if(o=V0(c),o)return o;if("en"===c)return fw;throw new $e(701,!1)}function $0(n){return F_(n)[ls.PluralCase]}function V0(n){return n in wy||(wy[n]=nr.ng&&nr.ng.common&&nr.ng.common.locales&&nr.ng.common.locales[n]),wy[n]}var ls=(()=>((ls=ls||{})[ls.LocaleId=0]="LocaleId",ls[ls.DayPeriodsFormat=1]="DayPeriodsFormat",ls[ls.DayPeriodsStandalone=2]="DayPeriodsStandalone",ls[ls.DaysFormat=3]="DaysFormat",ls[ls.DaysStandalone=4]="DaysStandalone",ls[ls.MonthsFormat=5]="MonthsFormat",ls[ls.MonthsStandalone=6]="MonthsStandalone",ls[ls.Eras=7]="Eras",ls[ls.FirstDayOfWeek=8]="FirstDayOfWeek",ls[ls.WeekendRange=9]="WeekendRange",ls[ls.DateFormat=10]="DateFormat",ls[ls.TimeFormat=11]="TimeFormat",ls[ls.DateTimeFormat=12]="DateTimeFormat",ls[ls.NumberSymbols=13]="NumberSymbols",ls[ls.NumberFormats=14]="NumberFormats",ls[ls.CurrencyCode=15]="CurrencyCode",ls[ls.CurrencySymbol=16]="CurrencySymbol",ls[ls.CurrencyName=17]="CurrencyName",ls[ls.Currencies=18]="Currencies",ls[ls.Directionality=19]="Directionality",ls[ls.PluralCase=20]="PluralCase",ls[ls.ExtraData=21]="ExtraData",ls))();const Iy="en-US";let U0=Iy;function $_(n,r,o,c,g){if(n=Pe(n),Array.isArray(n))for(let w=0;w<n.length;w++)$_(n[w],r,o,c,g);else{const w=Un(),R=Kn();let j=Su(n)?n:Pe(n.provide),Q=_g(n);const me=vs(),Le=1048575&me.providerIndexes,at=me.directiveStart,zt=me.providerIndexes>>20;if(Su(n)||!n.multi){const pn=new Zt(Q,g,Kl),zn=U_(j,r,g?Le:Le+zt,at);-1===zn?(cr(dn(me,R),w,j),V_(w,n,r.length),r.push(j),me.directiveStart++,me.directiveEnd++,g&&(me.providerIndexes+=1048576),o.push(pn),R.push(pn)):(o[zn]=pn,R[zn]=pn)}else{const pn=U_(j,r,Le+zt,at),zn=U_(j,r,Le,Le+zt),Ur=zn>=0&&o[zn];if(g&&!Ur||!g&&!(pn>=0&&o[pn])){cr(dn(me,R),w,j);const mi=function dI(n,r,o,c,g){const w=new Zt(n,o,Kl);return w.multi=[],w.index=r,w.componentProviders=0,hb(w,g,c&&!o),w}(g?uI:cI,o.length,g,c,Q);!g&&Ur&&(o[zn].providerFactory=mi),V_(w,n,r.length,0),r.push(j),me.directiveStart++,me.directiveEnd++,g&&(me.providerIndexes+=1048576),o.push(mi),R.push(mi)}else V_(w,n,pn>-1?pn:zn,hb(o[g?zn:pn],Q,!g&&c));!g&&c&&Ur&&o[zn].componentProviders++}}}function V_(n,r,o,c){const g=Su(r),w=function By(n){return!!n.useClass}(r);if(g||w){const Q=(w?Pe(r.useClass):r).prototype.ngOnDestroy;if(Q){const me=n.destroyHooks||(n.destroyHooks=[]);if(!g&&r.multi){const Le=me.indexOf(o);-1===Le?me.push(o,[c,Q]):me[Le+1].push(c,Q)}else me.push(o,Q)}}}function hb(n,r,o){return o&&n.componentProviders++,n.multi.push(r)-1}function U_(n,r,o,c){for(let g=o;g<c;g++)if(r[g]===n)return g;return-1}function cI(n,r,o,c){return j_(this.multi,[])}function uI(n,r,o,c){const g=this.multi;let w;if(this.providerFactory){const R=this.providerFactory.componentProviders,j=Xr(o,o[ir],this.providerFactory.index,c);w=j.slice(0,R),j_(g,w);for(let Q=R;Q<j.length;Q++)w.push(j[Q])}else w=[],j_(g,w);return w}function j_(n,r){for(let o=0;o<n.length;o++)r.push((0,n[o])());return r}function fb(n,r=[]){return o=>{o.providersResolver=(c,g)=>function lI(n,r,o){const c=Un();if(c.firstCreatePass){const g=xo(n);$_(o,c.data,c.blueprint,g,!0),$_(r,c.data,c.blueprint,g,!1)}}(c,g?g(n):n,r)}}class Cy{}class pb{}function hI(n,r){return new z_(n,null!=r?r:null,[])}class z_ extends Cy{constructor(r,o,c){super(),this._parent=o,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Qg(this);const g=Hn(r);this._bootstrapComponents=_c(g.bootstrap),this._r3Injector=Ou(r,o,[{provide:Cy,useValue:this},{provide:Yh,useValue:this.componentFactoryResolver},...c],Qe(r),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(r)}get injector(){return this._r3Injector}destroy(){const r=this._r3Injector;!r.destroyed&&r.destroy(),this.destroyCbs.forEach(o=>o()),this.destroyCbs=null}onDestroy(r){this.destroyCbs.push(r)}}class H_ extends pb{constructor(r){super(),this.moduleType=r}create(r){return new z_(this.moduleType,r,[])}}class gb extends Cy{constructor(r){super(),this.componentFactoryResolver=new Qg(this),this.instance=null;const o=new vg([...r.providers,{provide:Cy,useValue:this},{provide:Yh,useValue:this.componentFactoryResolver}],r.parent||yg(),r.debugName,new Set(["environment"]));this.injector=o,r.runEnvironmentInitializers&&o.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(r){this.injector.onDestroy(r)}}function mb(n,r,o=null){return new gb({providers:n,parent:r,debugName:o,runEnvironmentInitializers:!0}).injector}let pI=(()=>{class n{constructor(o){this._injector=o,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(o){if(!o.standalone)return null;if(!this.cachedInjectors.has(o.id)){const c=ed(0,o.type),g=c.length>0?mb([c],this._injector,`Standalone[${o.type.name}]`):null;this.cachedInjectors.set(o.id,g)}return this.cachedInjectors.get(o.id)}ngOnDestroy(){try{for(const o of this.cachedInjectors.values())null!==o&&o.destroy()}finally{this.cachedInjectors.clear()}}}return n.\u0275prov=wt({token:n,providedIn:"environment",factory:()=>new n(Wt(kc))}),n})();function yb(n){n.getStandaloneInjector=r=>r.get(pI).getOrCreateStandaloneInjector(n)}function Cb(n,r,o,c,g,w){const R=r+o;return $a(n,R,g)?function Nl(n,r,o){return n[r]=o}(n,R+1,w?c.call(w,g):c(g)):function _v(n,r){const o=n[r];return o===bs?void 0:o}(n,R+1)}function xb(n,r){const o=Un();let c;const g=n+hr;var w;o.firstCreatePass?(c=function OI(n,r){if(r)for(let o=r.length-1;o>=0;o--){const c=r[o];if(n===c.name)return c}}(r,o.pipeRegistry),o.data[g]=c,c.onDestroy&&(null!==(w=o.destroyHooks)&&void 0!==w?w:o.destroyHooks=[]).push(g,c.onDestroy)):c=o.data[g];const R=c.factory||(c.factory=eo(c.type)),j=br(Kl);try{const Q=W(!1),me=R();return W(Q),function If(n,r,o,c){o>=n.data.length&&(n.data[o]=null,n.blueprint[o]=null),r[o]=c}(o,Kn(),g,me),me}finally{br(j)}}function Mb(n,r,o){const c=n+hr,g=Kn(),w=vi(g,c);return function bv(n,r){return n[ir].data[r].pure}(g,c)?Cb(g,function Ls(){const n=mr.lFrame;let r=n.bindingRootIndex;return-1===r&&(r=n.bindingRootIndex=n.tView.bindingStartIndex),r}(),r,w.transform,o,w):w.transform(o)}function G_(n){return r=>{setTimeout(n,void 0,r)}}const hh=class BI extends d.x{constructor(r=!1){super(),this.__isAsync=r}emit(r){super.next(r)}subscribe(r,o,c){let g=r,w=o||(()=>null),R=c;if(r&&"object"==typeof r){var j,Q,me;const at=r;g=null===(j=at.next)||void 0===j?void 0:j.bind(at),w=null===(Q=at.error)||void 0===Q?void 0:Q.bind(at),R=null===(me=at.complete)||void 0===me?void 0:me.bind(at)}this.__isAsync&&(w=G_(w),g&&(g=G_(g)),R&&(R=G_(R)));const Le=super.subscribe({next:g,error:w,complete:R});return r instanceof v.w0&&r.add(Le),Le}};function $I(){return this._results[Symbol.iterator]()}class K_{get changes(){return this._changes||(this._changes=new hh)}constructor(r=!1){this._emitDistinctChangesOnly=r,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const o=K_.prototype;o[Symbol.iterator]||(o[Symbol.iterator]=$I)}get(r){return this._results[r]}map(r){return this._results.map(r)}filter(r){return this._results.filter(r)}find(r){return this._results.find(r)}reduce(r,o){return this._results.reduce(r,o)}forEach(r){this._results.forEach(r)}some(r){return this._results.some(r)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(r,o){const c=this;c.dirty=!1;const g=function al(n){return n.flat(Number.POSITIVE_INFINITY)}(r);(this._changesDetected=!function Vc(n,r,o){if(n.length!==r.length)return!1;for(let c=0;c<n.length;c++){let g=n[c],w=r[c];if(o&&(g=o(g),w=o(w)),w!==g)return!1}return!0}(c._results,g,o))&&(c._results=g,c.length=g.length,c.last=g[this.length-1],c.first=g[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let Ev=(()=>{class n{}return n.__NG_ELEMENT_ID__=jI,n})();const VI=Ev,UI=class extends VI{constructor(r,o,c){super(),this._declarationLView=r,this._declarationTContainer=o,this.elementRef=c}get ssrId(){var r;return(null===(r=this._declarationTContainer.tView)||void 0===r?void 0:r.ssrId)||null}createEmbeddedView(r,o){return this.createEmbeddedViewImpl(r,o,null)}createEmbeddedViewImpl(r,o,c){const g=this._declarationTContainer.tView,w=qa(this._declarationLView,g,r,16,null,g.declTNode,null,null,null,o||null,c||null);w[Di]=this._declarationLView[this._declarationTContainer.index];const j=this._declarationLView[Vs];return null!==j&&(w[Vs]=j.createEmbeddedView(g)),Gg(g,w,r),new ih(w)}};function jI(){return s_(vs(),Kn())}function s_(n,r){return 4&n.type?new UI(r,n,tu(n,r)):null}let o_=(()=>{class n{}return n.__NG_ELEMENT_ID__=qI,n})();function qI(){return Fb(vs(),Kn())}const ZI=o_,kb=class extends ZI{constructor(r,o,c){super(),this._lContainer=r,this._hostTNode=o,this._hostLView=c}get element(){return tu(this._hostTNode,this._hostLView)}get injector(){return new Qs(this._hostTNode,this._hostLView)}get parentInjector(){const r=Fn(this._hostTNode,this._hostLView);if(m(r)){const o=x(r,this._hostLView),c=b(r);return new Qs(o[ir].data[c+8],o)}return new Qs(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(r){const o=Nb(this._lContainer);return null!==o&&o[r]||null}get length(){return this._lContainer.length-Es}createEmbeddedView(r,o,c){let g,w;"number"==typeof c?g=c:null!=c&&(g=c.index,w=c.injector);const j=r.createEmbeddedViewImpl(o||{},w,null);return this.insertImpl(j,g,!1),j}createComponent(r,o,c,g,w){var R,Q;const me=r&&!el(r);let Le;if(me)Le=o;else{const mi=o||{};Le=mi.index,c=mi.injector,g=mi.projectableNodes,w=mi.environmentInjector||mi.ngModuleRef}const at=me?r:new dl(It(r)),zt=c||this.parentInjector;if(!w&&null==at.ngModule){const ar=(me?zt:this.parentInjector).get(kc,null);ar&&(w=ar)}const pn=It(null!==(R=at.componentType)&&void 0!==R?R:{}),zn=(null==pn?void 0:pn.id,null),Cr=null!==(Q=null==zn?void 0:zn.firstChild)&&void 0!==Q?Q:null,Ur=at.create(zt,g,Cr,w);return this.insertImpl(Ur.hostView,Le,!!zn),Ur}insert(r,o){return this.insertImpl(r,o,!1)}insertImpl(r,o,c){const g=r._lView,w=g[ir];if(function q(n){return Yi(n[$i])}(g)){const Q=this.indexOf(r);if(-1!==Q)this.detach(Q);else{const me=g[$i],Le=new kb(me,me[us],me[$i]);Le.detach(Le.indexOf(r))}}const R=this._adjustIndex(o),j=this._lContainer;if(function Py(n,r,o,c){const g=Es+c,w=o.length;c>0&&(o[g-1][Rs]=r),c<w-Es?(r[Rs]=o[g],Tc(o,Es+c,r)):(o.push(r),r[Rs]=null),r[$i]=o;const R=r[Di];null!==R&&o!==R&&function ka(n,r){const o=n[Ao];r[Vr]!==r[$i][$i][Vr]&&(n[Wo]=!0),null===o?n[Ao]=[r]:o.push(r)}(R,r);const j=r[Vs];null!==j&&j.insertView(n),r[qr]|=128}(w,g,j,R),!c){const Q=og(R,j),me=g[Zr],Le=Zu(me,j[ss]);null!==Le&&function Xp(n,r,o,c,g,w){c[Li]=g,c[us]=r,Dh(n,c,o,1,g,w)}(w,j[us],me,g,Le,Q)}return r.attachToViewContainerRef(),Tc(q_(j),R,r),r}move(r,o){return this.insert(r,o)}indexOf(r){const o=Nb(this._lContainer);return null!==o?o.indexOf(r):-1}remove(r){const o=this._adjustIndex(r,-1),c=$f(this._lContainer,o);c&&(Tl(q_(this._lContainer),o),Jp(c[ir],c))}detach(r){const o=this._adjustIndex(r,-1),c=$f(this._lContainer,o);return c&&null!=Tl(q_(this._lContainer),o)?new ih(c):null}_adjustIndex(r,o=0){return null==r?this.length+o:r}};function Nb(n){return n[Do]}function q_(n){return n[Do]||(n[Do]=[])}function Fb(n,r){let o;const c=r[n.index];return Yi(c)?o=c:(o=jg(c,r,null,n),r[n.index]=o,eh(r,o)),Lb(o,r,n,c),new kb(o,n,r)}let Lb=function Bb(n,r,o,c){if(n[ss])return;let g;g=8&o.type?lt(c):function XI(n,r){const o=n[Zr],c=o.createComment(""),g=on(r,n);return bu(o,Zu(o,g),c,function jf(n,r){return n.nextSibling(r)}(o,g),!1),c}(r,o),n[ss]=g};class Z_{constructor(r){this.queryList=r,this.matches=null}clone(){return new Z_(this.queryList)}setDirty(){this.queryList.setDirty()}}class X_{constructor(r=[]){this.queries=r}createEmbeddedView(r){const o=r.queries;if(null!==o){const c=null!==r.contentQueries?r.contentQueries[0]:o.length,g=[];for(let w=0;w<c;w++){const R=o.getByIndex(w);g.push(this.queries[R.indexInDeclarationView].clone())}return new X_(g)}return null}insertView(r){this.dirtyQueriesWithMatches(r)}detachView(r){this.dirtyQueriesWithMatches(r)}dirtyQueriesWithMatches(r){for(let o=0;o<this.queries.length;o++)null!==Kb(r,o).matches&&this.queries[o].setDirty()}}class $b{constructor(r,o,c=null){this.predicate=r,this.flags=o,this.read=c}}class Q_{constructor(r=[]){this.queries=r}elementStart(r,o){for(let c=0;c<this.queries.length;c++)this.queries[c].elementStart(r,o)}elementEnd(r){for(let o=0;o<this.queries.length;o++)this.queries[o].elementEnd(r)}embeddedTView(r){let o=null;for(let c=0;c<this.length;c++){const g=null!==o?o.length:0,w=this.getByIndex(c).embeddedTView(r,g);w&&(w.indexInDeclarationView=c,null!==o?o.push(w):o=[w])}return null!==o?new Q_(o):null}template(r,o){for(let c=0;c<this.queries.length;c++)this.queries[c].template(r,o)}getByIndex(r){return this.queries[r]}get length(){return this.queries.length}track(r){this.queries.push(r)}}class J_{constructor(r,o=-1){this.metadata=r,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=o}elementStart(r,o){this.isApplyingToNode(o)&&this.matchTNode(r,o)}elementEnd(r){this._declarationNodeIndex===r.index&&(this._appliesToNextNode=!1)}template(r,o){this.elementStart(r,o)}embeddedTView(r,o){return this.isApplyingToNode(r)?(this.crossesNgTemplate=!0,this.addMatch(-r.index,o),new J_(this.metadata)):null}isApplyingToNode(r){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const o=this._declarationNodeIndex;let c=r.parent;for(;null!==c&&8&c.type&&c.index!==o;)c=c.parent;return o===(null!==c?c.index:-1)}return this._appliesToNextNode}matchTNode(r,o){const c=this.metadata.predicate;if(Array.isArray(c))for(let g=0;g<c.length;g++){const w=c[g];this.matchTNodeWithReadOption(r,o,eC(o,w)),this.matchTNodeWithReadOption(r,o,Zi(o,r,w,!1,!1))}else c===Ev?4&o.type&&this.matchTNodeWithReadOption(r,o,-1):this.matchTNodeWithReadOption(r,o,Zi(o,r,c,!1,!1))}matchTNodeWithReadOption(r,o,c){if(null!==c){const g=this.metadata.read;if(null!==g)if(g===nd||g===o_||g===Ev&&4&o.type)this.addMatch(o.index,-2);else{const w=Zi(o,r,g,!1,!1);null!==w&&this.addMatch(o.index,w)}else this.addMatch(o.index,c)}}addMatch(r,o){null===this.matches?this.matches=[r,o]:this.matches.push(r,o)}}function eC(n,r){const o=n.localNames;if(null!==o)for(let c=0;c<o.length;c+=2)if(o[c]===r)return o[c+1];return null}function nC(n,r,o,c){return-1===o?function tC(n,r){return 11&n.type?tu(n,r):4&n.type?s_(n,r):null}(r,n):-2===o?function rC(n,r,o){return o===nd?tu(r,n):o===Ev?s_(r,n):o===o_?Fb(r,n):void 0}(n,r,c):Xr(n,n[ir],o,r)}function Vb(n,r,o,c){const g=r[Vs].queries[c];if(null===g.matches){const w=n.data,R=o.matches,j=[];for(let Q=0;Q<R.length;Q+=2){const me=R[Q];j.push(me<0?null:nC(r,w[me],R[Q+1],o.metadata.read))}g.matches=j}return g.matches}function e0(n,r,o,c){const g=n.queries.getByIndex(o),w=g.matches;if(null!==w){const R=Vb(n,r,g,o);for(let j=0;j<w.length;j+=2){const Q=w[j];if(Q>0)c.push(R[j/2]);else{const me=w[j+1],Le=r[-Q];for(let at=Es;at<Le.length;at++){const zt=Le[at];zt[Di]===zt[$i]&&e0(zt[ir],zt,me,c)}if(null!==Le[Ao]){const at=Le[Ao];for(let zt=0;zt<at.length;zt++){const pn=at[zt];e0(pn[ir],pn,me,c)}}}}}return c}function Ub(n){const r=Kn(),o=Un(),c=ps();yr(c+1);const g=Kb(o,c);if(n.dirty&&function Fs(n){return 4==(4&n[qr])}(r)===(2==(2&g.metadata.flags))){if(null===g.matches)n.reset([]);else{const w=g.crossesNgTemplate?e0(o,r,c,[]):Vb(o,r,g,c);n.reset(w,Wy),n.notifyOnChanges()}return!0}return!1}function jb(n,r,o){const c=Un();c.firstCreatePass&&(Gb(c,new $b(n,r,o),-1),2==(2&r)&&(c.staticViewQueries=!0)),Wb(c,Kn(),r)}function zb(n,r,o,c){const g=Un();if(g.firstCreatePass){const w=vs();Gb(g,new $b(r,o,c),w.index),function sC(n,r){const o=n.contentQueries||(n.contentQueries=[]);r!==(o.length?o[o.length-1]:-1)&&o.push(n.queries.length-1,r)}(g,n),2==(2&o)&&(g.staticContentQueries=!0)}Wb(g,Kn(),o)}function Hb(){return function iC(n,r){return n[Vs].queries[r].queryList}(Kn(),ps())}function Wb(n,r,o){const c=new K_(4==(4&o));(function Yy(n,r,o,c){const g=th(r);g.push(o),n.firstCreatePass&&cf(n).push(c,g.length-1)})(n,r,c,c.destroy),null===r[Vs]&&(r[Vs]=new X_),r[Vs].queries.push(new Z_(c))}function Gb(n,r,o){null===n.queries&&(n.queries=new Q_),n.queries.track(new J_(r,o))}function Kb(n,r){return n.queries.getByIndex(r)}function t0(n){return!!Hn(n)}const uE=new jo("Application Initializer");let a0=(()=>{class n{constructor(){var o;this.initialized=!1,this.done=!1,this.donePromise=new Promise((c,g)=>{this.resolve=c,this.reject=g}),this.appInits=null!==(o=Wn(uE,{optional:!0}))&&void 0!==o?o:[]}runInitializers(){if(this.initialized)return;const o=[];for(const g of this.appInits){const w=g();if(sv(w))o.push(w);else if(cm(w)){const R=new Promise((j,Q)=>{w.subscribe({complete:j,error:Q})});o.push(R)}}const c=()=>{this.done=!0,this.resolve()};Promise.all(o).then(()=>{c()}).catch(g=>{this.reject(g)}),0===o.length&&c(),this.initialized=!0}}return n.\u0275fac=function(o){return new(o||n)},n.\u0275prov=wt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),dE=(()=>{class n{log(o){console.log(o)}warn(o){console.warn(o)}}return n.\u0275fac=function(o){return new(o||n)},n.\u0275prov=wt({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const l_=new jo("LocaleId",{providedIn:"root",factory:()=>Wn(l_,On.Optional|On.SkipSelf)||function TC(){return typeof $localize<"u"&&$localize.locale||Iy}()}),AC=new jo("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class xC{constructor(r,o){this.ngModuleFactory=r,this.componentFactories=o}}let MC=(()=>{class n{compileModuleSync(o){return new H_(o)}compileModuleAsync(o){return Promise.resolve(this.compileModuleSync(o))}compileModuleAndAllComponentsSync(o){const c=this.compileModuleSync(o),w=_c(Hn(o).declarations).reduce((R,j)=>{const Q=It(j);return Q&&R.push(new dl(Q)),R},[]);return new xC(c,w)}compileModuleAndAllComponentsAsync(o){return Promise.resolve(this.compileModuleAndAllComponentsSync(o))}clearCache(){}clearCacheFor(o){}getModuleId(o){}}return n.\u0275fac=function(o){return new(o||n)},n.\u0275prov=wt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const OC=(()=>Promise.resolve(0))();function l0(n){typeof Zone>"u"?OC.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}function pE(...n){}class dc{constructor({enableLongStackTrace:r=!1,shouldCoalesceEventChangeDetection:o=!1,shouldCoalesceRunChangeDetection:c=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new hh(!1),this.onMicrotaskEmpty=new hh(!1),this.onStable=new hh(!1),this.onError=new hh(!1),typeof Zone>"u")throw new $e(908,!1);Zone.assertZonePatched();const g=this;g._nesting=0,g._outer=g._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(g._inner=g._inner.fork(new Zone.TaskTrackingZoneSpec)),r&&Zone.longStackTraceZoneSpec&&(g._inner=g._inner.fork(Zone.longStackTraceZoneSpec)),g.shouldCoalesceEventChangeDetection=!c&&o,g.shouldCoalesceRunChangeDetection=c,g.lastRequestAnimationFrameId=-1,g.nativeRequestAnimationFrame=function kC(){let n=nr.requestAnimationFrame,r=nr.cancelAnimationFrame;if(typeof Zone<"u"&&n&&r){const o=n[Zone.__symbol__("OriginalDelegate")];o&&(n=o);const c=r[Zone.__symbol__("OriginalDelegate")];c&&(r=c)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:r}}().nativeRequestAnimationFrame,function LC(n){const r=()=>{!function FC(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(nr,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,u0(n),n.isCheckStableRunning=!0,c0(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),u0(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(o,c,g,w,R,j)=>{try{return gE(n),o.invokeTask(g,w,R,j)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===w.type||n.shouldCoalesceRunChangeDetection)&&r(),mE(n)}},onInvoke:(o,c,g,w,R,j,Q)=>{try{return gE(n),o.invoke(g,w,R,j,Q)}finally{n.shouldCoalesceRunChangeDetection&&r(),mE(n)}},onHasTask:(o,c,g,w)=>{o.hasTask(g,w),c===g&&("microTask"==w.change?(n._hasPendingMicrotasks=w.microTask,u0(n),c0(n)):"macroTask"==w.change&&(n.hasPendingMacrotasks=w.macroTask))},onHandleError:(o,c,g,w)=>(o.handleError(g,w),n.runOutsideAngular(()=>n.onError.emit(w)),!1)})}(g)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!dc.isInAngularZone())throw new $e(909,!1)}static assertNotInAngularZone(){if(dc.isInAngularZone())throw new $e(909,!1)}run(r,o,c){return this._inner.run(r,o,c)}runTask(r,o,c,g){const w=this._inner,R=w.scheduleEventTask("NgZoneEvent: "+g,r,NC,pE,pE);try{return w.runTask(R,o,c)}finally{w.cancelTask(R)}}runGuarded(r,o,c){return this._inner.runGuarded(r,o,c)}runOutsideAngular(r){return this._outer.run(r)}}const NC={};function c0(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function u0(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function gE(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function mE(n){n._nesting--,c0(n)}class BC{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new hh,this.onMicrotaskEmpty=new hh,this.onStable=new hh,this.onError=new hh}run(r,o,c){return r.apply(o,c)}runGuarded(r,o,c){return r.apply(o,c)}runOutsideAngular(r){return r()}runTask(r,o,c,g){return r.apply(o,c)}}const yE=new jo("",{providedIn:"root",factory:vE});function vE(){const n=Wn(dc);let r=!0;const o=new ve.y(g=>{r=n.isStable&&!n.hasPendingMacrotasks&&!n.hasPendingMicrotasks,n.runOutsideAngular(()=>{g.next(r),g.complete()})}),c=new ve.y(g=>{let w;n.runOutsideAngular(()=>{w=n.onStable.subscribe(()=>{dc.assertNotInAngularZone(),l0(()=>{!r&&!n.hasPendingMacrotasks&&!n.hasPendingMicrotasks&&(r=!0,g.next(!0))})})});const R=n.onUnstable.subscribe(()=>{dc.assertInAngularZone(),r&&(r=!1,n.runOutsideAngular(()=>{g.next(!1)}))});return()=>{w.unsubscribe(),R.unsubscribe()}});return(0,Fe.T)(o,c.pipe((0,Xe.B)()))}const _E=new jo(""),bE=new jo("");let d0,$C=(()=>{class n{constructor(o,c,g){this._ngZone=o,this.registry=c,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,d0||(function VC(n){d0=n}(g),g.addToWindow(c)),this._watchAngularEvents(),o.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{dc.assertNotInAngularZone(),l0(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())l0(()=>{for(;0!==this._callbacks.length;){let o=this._callbacks.pop();clearTimeout(o.timeoutId),o.doneCb(this._didWork)}this._didWork=!1});else{let o=this.getPendingTasks();this._callbacks=this._callbacks.filter(c=>!c.updateCb||!c.updateCb(o)||(clearTimeout(c.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(o=>({source:o.source,creationLocation:o.creationLocation,data:o.data})):[]}addCallback(o,c,g){let w=-1;c&&c>0&&(w=setTimeout(()=>{this._callbacks=this._callbacks.filter(R=>R.timeoutId!==w),o(this._didWork,this.getPendingTasks())},c)),this._callbacks.push({doneCb:o,timeoutId:w,updateCb:g})}whenStable(o,c,g){if(g&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(o,c,g),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(o){this.registry.registerApplication(o,this)}unregisterApplication(o){this.registry.unregisterApplication(o)}findProviders(o,c,g){return[]}}return n.\u0275fac=function(o){return new(o||n)(Wt(dc),Wt(EE),Wt(bE))},n.\u0275prov=wt({token:n,factory:n.\u0275fac}),n})(),EE=(()=>{class n{constructor(){this._applications=new Map}registerApplication(o,c){this._applications.set(o,c)}unregisterApplication(o){this._applications.delete(o)}unregisterAllApplications(){this._applications.clear()}getTestability(o){return this._applications.get(o)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(o,c=!0){var g,w;return null!==(g=null===(w=d0)||void 0===w?void 0:w.findTestabilityInTree(this,o,c))&&void 0!==g?g:null}}return n.\u0275fac=function(o){return new(o||n)},n.\u0275prov=wt({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})(),Gp=null;const wE=new jo("AllowMultipleToken"),h0=new jo("PlatformDestroyListeners"),f0=new jo("appBootstrapListener");class zC{constructor(r,o){this.name=r,this.token=o}}function DE(n,r,o=[]){const c=`Platform: ${r}`,g=new jo(c);return(w=[])=>{let R=p0();if(!R||R.injector.get(wE,!1)){const j=[...o,...w,{provide:g,useValue:!0}];n?n(j):function HC(n){if(Gp&&!Gp.get(wE,!1))throw new $e(400,!1);(function IE(){!function Ti(n){hs=n}(()=>{throw new $e(600,!1)})})(),Gp=n;const r=n.get(TE);(function CE(n){const r=n.get(Fm,null);null==r||r.forEach(o=>o())})(n)}(function SE(n=[],r){return Rl.create({name:r,providers:[{provide:sp,useValue:"platform"},{provide:h0,useValue:new Set([()=>Gp=null])},...n]})}(j,c))}return function GC(n){const r=p0();if(!r)throw new $e(401,!1);return r}()}}function p0(){var n,r;return null!==(n=null===(r=Gp)||void 0===r?void 0:r.get(TE))&&void 0!==n?n:null}let TE=(()=>{class n{constructor(o){this._injector=o,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(o,c){const g=function KC(n="zone.js",r){return"noop"===n?new BC:"zone.js"===n?new dc(r):n}(null==c?void 0:c.ngZone,function AE(n){var r,o;return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:null!==(r=null==n?void 0:n.eventCoalescing)&&void 0!==r&&r,shouldCoalesceRunChangeDetection:null!==(o=null==n?void 0:n.runCoalescing)&&void 0!==o&&o}}({eventCoalescing:null==c?void 0:c.ngZoneEventCoalescing,runCoalescing:null==c?void 0:c.ngZoneRunCoalescing}));return g.run(()=>{const w=function fI(n,r,o){return new z_(n,r,o)}(o.moduleType,this.injector,function OE(n){return[{provide:dc,useFactory:n},{provide:Ba,multi:!0,useFactory:()=>{const r=Wn(qC,{optional:!0});return()=>r.initialize()}},{provide:RE,useFactory:YC},{provide:yE,useFactory:vE}]}(()=>g)),R=w.injector.get(Gd,null);return g.runOutsideAngular(()=>{const j=g.onError.subscribe({next:Q=>{R.handleError(Q)}});w.onDestroy(()=>{c_(this._modules,w),j.unsubscribe()})}),function xE(n,r,o){try{const c=o();return sv(c)?c.catch(g=>{throw r.runOutsideAngular(()=>n.handleError(g)),g}):c}catch(c){throw r.runOutsideAngular(()=>n.handleError(c)),c}}(R,g,()=>{const j=w.injector.get(a0);return j.runInitializers(),j.donePromise.then(()=>(function j0(n){Pt(n,"Expected localeId to be defined"),"string"==typeof n&&(U0=n.toLowerCase().replace(/_/g,"-"))}(w.injector.get(l_,Iy)||Iy),this._moduleDoBootstrap(w),w))})})}bootstrapModule(o,c=[]){const g=ME({},c);return function UC(n,r,o){const c=new H_(o);return Promise.resolve(c)}(0,0,o).then(w=>this.bootstrapModuleFactory(w,g))}_moduleDoBootstrap(o){const c=o.injector.get(Ty);if(o._bootstrapComponents.length>0)o._bootstrapComponents.forEach(g=>c.bootstrap(g));else{if(!o.instance.ngDoBootstrap)throw new $e(-403,!1);o.instance.ngDoBootstrap(c)}this._modules.push(o)}onDestroy(o){this._destroyListeners.push(o)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new $e(404,!1);this._modules.slice().forEach(c=>c.destroy()),this._destroyListeners.forEach(c=>c());const o=this._injector.get(h0,null);o&&(o.forEach(c=>c()),o.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(o){return new(o||n)(Wt(Rl))},n.\u0275prov=wt({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();function ME(n,r){return Array.isArray(r)?r.reduce(ME,n):{...n,...r}}let Ty=(()=>{class n{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=Wn(RE),this.componentTypes=[],this.components=[],this.isStable=Wn(yE),this._injector=Wn(kc)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(o,c){const g=o instanceof Kh;if(!this._injector.get(a0).done)throw!g&&Ln(o),new $e(405,!1);let R;R=g?o:this._injector.get(Yh).resolveComponentFactory(o),this.componentTypes.push(R.componentType);const j=function jC(n){return n.isBoundToModule}(R)?void 0:this._injector.get(Cy),me=R.create(Rl.NULL,[],c||R.selector,j),Le=me.location.nativeElement,at=me.injector.get(_E,null);return null==at||at.registerApplication(Le),me.onDestroy(()=>{this.detachView(me.hostView),c_(this.components,me),null==at||at.unregisterApplication(Le)}),this._loadComponent(me),me}tick(){if(this._runningTick)throw new $e(101,!1);try{this._runningTick=!0;for(let o of this._views)o.detectChanges()}catch(o){this.internalErrorHandler(o)}finally{this._runningTick=!1}}attachView(o){const c=o;this._views.push(c),c.attachToAppRef(this)}detachView(o){const c=o;c_(this._views,c),c.detachFromAppRef()}_loadComponent(o){this.attachView(o.hostView),this.tick(),this.components.push(o);const c=this._injector.get(f0,[]);c.push(...this._bootstrapListeners),c.forEach(g=>g(o))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(o=>o()),this._views.slice().forEach(o=>o.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(o){return this._destroyListeners.push(o),()=>c_(this._destroyListeners,o)}destroy(){if(this._destroyed)throw new $e(406,!1);const o=this._injector;o.destroy&&!o.destroyed&&o.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return n.\u0275fac=function(o){return new(o||n)},n.\u0275prov=wt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function c_(n,r){const o=n.indexOf(r);o>-1&&n.splice(o,1)}const RE=new jo("",{providedIn:"root",factory:()=>Wn(Gd).handleError.bind(void 0)});function YC(){const n=Wn(dc),r=Wn(Gd);return o=>n.runOutsideAngular(()=>r.handleError(o))}let qC=(()=>{class n{constructor(){this.zone=Wn(dc),this.applicationRef=Wn(Ty)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){var o;null===(o=this._onMicrotaskEmptySubscription)||void 0===o||o.unsubscribe()}}return n.\u0275fac=function(o){return new(o||n)},n.\u0275prov=wt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function XC(){return!1}function QC(){}let JC=(()=>{class n{}return n.__NG_ELEMENT_ID__=eD,n})();function eD(n){return function tD(n,r,o){if(Bo(n)&&!o){const c=wr(n.index,r);return new ih(c,c)}return 47&n.type?new ih(r[Vr],r):null}(vs(),Kn(),16==(16&n))}class LE{constructor(){}supports(r){return Up(r)}create(r){return new aD(r)}}const oD=(n,r)=>r;class aD{constructor(r){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=r||oD}forEachItem(r){let o;for(o=this._itHead;null!==o;o=o._next)r(o)}forEachOperation(r){let o=this._itHead,c=this._removalsHead,g=0,w=null;for(;o||c;){const R=!c||o&&o.currentIndex<$E(c,g,w)?o:c,j=$E(R,g,w),Q=R.currentIndex;if(R===c)g--,c=c._nextRemoved;else if(o=o._next,null==R.previousIndex)g++;else{w||(w=[]);const me=j-g,Le=Q-g;if(me!=Le){for(let zt=0;zt<me;zt++){const pn=zt<w.length?w[zt]:w[zt]=0,zn=pn+zt;Le<=zn&&zn<me&&(w[zt]=pn+1)}w[R.previousIndex]=Le-me}}j!==Q&&r(R,j,Q)}}forEachPreviousItem(r){let o;for(o=this._previousItHead;null!==o;o=o._nextPrevious)r(o)}forEachAddedItem(r){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)r(o)}forEachMovedItem(r){let o;for(o=this._movesHead;null!==o;o=o._nextMoved)r(o)}forEachRemovedItem(r){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)r(o)}forEachIdentityChange(r){let o;for(o=this._identityChangesHead;null!==o;o=o._nextIdentityChange)r(o)}diff(r){if(null==r&&(r=[]),!Up(r))throw new $e(900,!1);return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let g,w,R,o=this._itHead,c=!1;if(Array.isArray(r)){this.length=r.length;for(let j=0;j<this.length;j++)w=r[j],R=this._trackByFn(j,w),null!==o&&Object.is(o.trackById,R)?(c&&(o=this._verifyReinsertion(o,w,R,j)),Object.is(o.item,w)||this._addIdentityChange(o,w)):(o=this._mismatch(o,w,R,j),c=!0),o=o._next}else g=0,function hy(n,r){if(Array.isArray(n))for(let o=0;o<n.length;o++)r(n[o]);else{const o=n[Symbol.iterator]();let c;for(;!(c=o.next()).done;)r(c.value)}}(r,j=>{R=this._trackByFn(g,j),null!==o&&Object.is(o.trackById,R)?(c&&(o=this._verifyReinsertion(o,j,R,g)),Object.is(o.item,j)||this._addIdentityChange(o,j)):(o=this._mismatch(o,j,R,g),c=!0),o=o._next,g++}),this.length=g;return this._truncate(o),this.collection=r,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let r;for(r=this._previousItHead=this._itHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._additionsHead;null!==r;r=r._nextAdded)r.previousIndex=r.currentIndex;for(this._additionsHead=this._additionsTail=null,r=this._movesHead;null!==r;r=r._nextMoved)r.previousIndex=r.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(r,o,c,g){let w;return null===r?w=this._itTail:(w=r._prev,this._remove(r)),null!==(r=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null))?(Object.is(r.item,o)||this._addIdentityChange(r,o),this._reinsertAfter(r,w,g)):null!==(r=null===this._linkedRecords?null:this._linkedRecords.get(c,g))?(Object.is(r.item,o)||this._addIdentityChange(r,o),this._moveAfter(r,w,g)):r=this._addAfter(new lD(o,c),w,g),r}_verifyReinsertion(r,o,c,g){let w=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null);return null!==w?r=this._reinsertAfter(w,r._prev,g):r.currentIndex!=g&&(r.currentIndex=g,this._addToMoves(r,g)),r}_truncate(r){for(;null!==r;){const o=r._next;this._addToRemovals(this._unlink(r)),r=o}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(r,o,c){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(r);const g=r._prevRemoved,w=r._nextRemoved;return null===g?this._removalsHead=w:g._nextRemoved=w,null===w?this._removalsTail=g:w._prevRemoved=g,this._insertAfter(r,o,c),this._addToMoves(r,c),r}_moveAfter(r,o,c){return this._unlink(r),this._insertAfter(r,o,c),this._addToMoves(r,c),r}_addAfter(r,o,c){return this._insertAfter(r,o,c),this._additionsTail=null===this._additionsTail?this._additionsHead=r:this._additionsTail._nextAdded=r,r}_insertAfter(r,o,c){const g=null===o?this._itHead:o._next;return r._next=g,r._prev=o,null===g?this._itTail=r:g._prev=r,null===o?this._itHead=r:o._next=r,null===this._linkedRecords&&(this._linkedRecords=new BE),this._linkedRecords.put(r),r.currentIndex=c,r}_remove(r){return this._addToRemovals(this._unlink(r))}_unlink(r){null!==this._linkedRecords&&this._linkedRecords.remove(r);const o=r._prev,c=r._next;return null===o?this._itHead=c:o._next=c,null===c?this._itTail=o:c._prev=o,r}_addToMoves(r,o){return r.previousIndex===o||(this._movesTail=null===this._movesTail?this._movesHead=r:this._movesTail._nextMoved=r),r}_addToRemovals(r){return null===this._unlinkedRecords&&(this._unlinkedRecords=new BE),this._unlinkedRecords.put(r),r.currentIndex=null,r._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=r,r._prevRemoved=null):(r._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=r),r}_addIdentityChange(r,o){return r.item=o,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=r:this._identityChangesTail._nextIdentityChange=r,r}}class lD{constructor(r,o){this.item=r,this.trackById=o,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class cD{constructor(){this._head=null,this._tail=null}add(r){null===this._head?(this._head=this._tail=r,r._nextDup=null,r._prevDup=null):(this._tail._nextDup=r,r._prevDup=this._tail,r._nextDup=null,this._tail=r)}get(r,o){let c;for(c=this._head;null!==c;c=c._nextDup)if((null===o||o<=c.currentIndex)&&Object.is(c.trackById,r))return c;return null}remove(r){const o=r._prevDup,c=r._nextDup;return null===o?this._head=c:o._nextDup=c,null===c?this._tail=o:c._prevDup=o,null===this._head}}class BE{constructor(){this.map=new Map}put(r){const o=r.trackById;let c=this.map.get(o);c||(c=new cD,this.map.set(o,c)),c.add(r)}get(r,o){const g=this.map.get(r);return g?g.get(r,o):null}remove(r){const o=r.trackById;return this.map.get(o).remove(r)&&this.map.delete(o),r}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function $E(n,r,o){const c=n.previousIndex;if(null===c)return c;let g=0;return o&&c<o.length&&(g=o[c]),c+r+g}class VE{constructor(){}supports(r){return r instanceof Map||vf(r)}create(){return new uD}}class uD{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(r){let o;for(o=this._mapHead;null!==o;o=o._next)r(o)}forEachPreviousItem(r){let o;for(o=this._previousMapHead;null!==o;o=o._nextPrevious)r(o)}forEachChangedItem(r){let o;for(o=this._changesHead;null!==o;o=o._nextChanged)r(o)}forEachAddedItem(r){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)r(o)}forEachRemovedItem(r){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)r(o)}diff(r){if(r){if(!(r instanceof Map||vf(r)))throw new $e(900,!1)}else r=new Map;return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let o=this._mapHead;if(this._appendAfter=null,this._forEach(r,(c,g)=>{if(o&&o.key===g)this._maybeAddToChanges(o,c),this._appendAfter=o,o=o._next;else{const w=this._getOrCreateRecordForKey(g,c);o=this._insertBeforeOrAppend(o,w)}}),o){o._prev&&(o._prev._next=null),this._removalsHead=o;for(let c=o;null!==c;c=c._nextRemoved)c===this._mapHead&&(this._mapHead=null),this._records.delete(c.key),c._nextRemoved=c._next,c.previousValue=c.currentValue,c.currentValue=null,c._prev=null,c._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(r,o){if(r){const c=r._prev;return o._next=r,o._prev=c,r._prev=o,c&&(c._next=o),r===this._mapHead&&(this._mapHead=o),this._appendAfter=r,r}return this._appendAfter?(this._appendAfter._next=o,o._prev=this._appendAfter):this._mapHead=o,this._appendAfter=o,null}_getOrCreateRecordForKey(r,o){if(this._records.has(r)){const g=this._records.get(r);this._maybeAddToChanges(g,o);const w=g._prev,R=g._next;return w&&(w._next=R),R&&(R._prev=w),g._next=null,g._prev=null,g}const c=new dD(r);return this._records.set(r,c),c.currentValue=o,this._addToAdditions(c),c}_reset(){if(this.isDirty){let r;for(this._previousMapHead=this._mapHead,r=this._previousMapHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._changesHead;null!==r;r=r._nextChanged)r.previousValue=r.currentValue;for(r=this._additionsHead;null!=r;r=r._nextAdded)r.previousValue=r.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(r,o){Object.is(o,r.currentValue)||(r.previousValue=r.currentValue,r.currentValue=o,this._addToChanges(r))}_addToAdditions(r){null===this._additionsHead?this._additionsHead=this._additionsTail=r:(this._additionsTail._nextAdded=r,this._additionsTail=r)}_addToChanges(r){null===this._changesHead?this._changesHead=this._changesTail=r:(this._changesTail._nextChanged=r,this._changesTail=r)}_forEach(r,o){r instanceof Map?r.forEach(o):Object.keys(r).forEach(c=>o(r[c],c))}}class dD{constructor(r){this.key=r,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function UE(){return new _0([new LE])}let _0=(()=>{class n{constructor(o){this.factories=o}static create(o,c){if(null!=c){const g=c.factories.slice();o=o.concat(g)}return new n(o)}static extend(o){return{provide:n,useFactory:c=>n.create(o,c||UE()),deps:[[n,new jc,new Ga]]}}find(o){const c=this.factories.find(g=>g.supports(o));if(null!=c)return c;throw new $e(901,!1)}}return n.\u0275prov=wt({token:n,providedIn:"root",factory:UE}),n})();function jE(){return new b0([new VE])}let b0=(()=>{class n{constructor(o){this.factories=o}static create(o,c){if(c){const g=c.factories.slice();o=o.concat(g)}return new n(o)}static extend(o){return{provide:n,useFactory:c=>n.create(o,c||jE()),deps:[[n,new jc,new Ga]]}}find(o){const c=this.factories.find(g=>g.supports(o));if(c)return c;throw new $e(901,!1)}}return n.\u0275prov=wt({token:n,providedIn:"root",factory:jE}),n})();const pD=DE(null,"core",[]);let gD=(()=>{class n{constructor(o){}}return n.\u0275fac=function(o){return new(o||n)(Wt(Ty))},n.\u0275mod=ke({type:n}),n.\u0275inj=_n({}),n})(),YE=(()=>{class n{get whenAllTasksComplete(){return 0===this.collection.size&&this.complete(),this.promise}constructor(){this.taskId=0,this.collection=new Set,this.ngZone=Wn(dc),this.completed=!1,this.ngZone.runOutsideAngular(()=>{this.promise=new Promise(o=>{this.resolve=o})})}add(){if(this.completed)return-1;const o=this.taskId++;return this.collection.add(o),o}remove(o){this.completed||(this.collection.delete(o),0===this.collection.size&&this.complete())}ngOnDestroy(){this.complete(),this.collection.clear()}complete(){this.completed=!0,this.resolve()}}return n.\u0275fac=function(o){return new(o||n)},n.\u0275prov=wt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function CD(n){return"boolean"==typeof n?n:null!=n&&"false"!==n}function SD(n,r){const o=It(n),c=r.elementInjector||yg();return new dl(o).create(c,r.projectableNodes,r.hostElement,r.environmentInjector)}function TD(n){const r=It(n);if(!r)return null;const o=new dl(r);return{get selector(){return o.selector},get type(){return o.componentType},get inputs(){return o.inputs},get outputs(){return o.outputs},get ngContentSelectors(){return o.ngContentSelectors},get isStandalone(){return r.standalone}}}},5030:(er,Nt,H)=>{"use strict";H.d(Nt,{u5:()=>be,wO:()=>ks,JU:()=>mt,a5:()=>On,JJ:()=>$r,JL:()=>ui,F:()=>ke,On:()=>Li,UX:()=>ae,Q7:()=>Us,_Y:()=>ir});var d=H(2223),v=H(4755),ve=H(8996),Fe=H(9751),Xe=H(4742),Ke=H(8421),Se=H(7669),Re=H(5403),Qe=H(3268),Be=H(1810),ot=H(4004);let Pe=(()=>{class ${constructor(D,F){this._renderer=D,this._elementRef=F,this.onChange=fe=>{},this.onTouched=()=>{}}setProperty(D,F){this._renderer.setProperty(this._elementRef.nativeElement,D,F)}registerOnTouched(D){this.onTouched=D}registerOnChange(D){this.onChange=D}setDisabledState(D){this.setProperty("disabled",D)}}return $.\u0275fac=function(D){return new(D||$)(d.Y36(d.Qsj),d.Y36(d.SBq))},$.\u0275dir=d.lG2({type:$}),$})(),ct=(()=>{class $ extends Pe{}return $.\u0275fac=function(){let L;return function(F){return(L||(L=d.n5z($)))(F||$)}}(),$.\u0275dir=d.lG2({type:$,features:[d.qOj]}),$})();const mt=new d.OlP("NgValueAccessor"),$e={provide:mt,useExisting:(0,d.Gpc)(()=>ht),multi:!0},Rt=new d.OlP("CompositionEventMode");let ht=(()=>{class $ extends Pe{constructor(D,F,fe){super(D,F),this._compositionMode=fe,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Lt(){const $=(0,v.q)()?(0,v.q)().getUserAgent():"";return/android (\d+)/.test($.toLowerCase())}())}writeValue(D){this.setProperty("value",null==D?"":D)}_handleInput(D){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(D)}_compositionStart(){this._composing=!0}_compositionEnd(D){this._composing=!1,this._compositionMode&&this.onChange(D)}}return $.\u0275fac=function(D){return new(D||$)(d.Y36(d.Qsj),d.Y36(d.SBq),d.Y36(Rt,8))},$.\u0275dir=d.lG2({type:$,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(D,F){1&D&&d.NdJ("input",function(dt){return F._handleInput(dt.target.value)})("blur",function(){return F.onTouched()})("compositionstart",function(){return F._compositionStart()})("compositionend",function(dt){return F._compositionEnd(dt.target.value)})},features:[d._Bn([$e]),d.qOj]}),$})();function Ct($){return null==$||("string"==typeof $||Array.isArray($))&&0===$.length}const Dt=new d.OlP("NgValidators"),vt=new d.OlP("NgAsyncValidators");function Qt($){return Ct($.value)?{required:!0}:null}function Ge($){return null}function ft($){return null!=$}function jt($){return(0,d.QGY)($)?(0,ve.D)($):$}function Pt($){let L={};return $.forEach(D=>{L=null!=D?{...L,...D}:L}),0===Object.keys(L).length?null:L}function sn($,L){return L.map(D=>D($))}function Oe($){return $.map(L=>function ln($){return!$.validate}(L)?L:D=>L.validate(D))}function wt($){return null!=$?function rn($){if(!$)return null;const L=$.filter(ft);return 0==L.length?null:function(D){return Pt(sn(D,L))}}(Oe($)):null}function _n($){return null!=$?function fn($){if(!$)return null;const L=$.filter(ft);return 0==L.length?null:function(D){return function Me(...$){const L=(0,Se.jO)($),{args:D,keys:F}=(0,Xe.D)($),fe=new Fe.y(dt=>{const{length:Ot}=D;if(!Ot)return void dt.complete();const Ht=new Array(Ot);let Pn=Ot,zr=Ot;for(let ii=0;ii<Ot;ii++){let Tr=!1;(0,Ke.Xf)(D[ii]).subscribe((0,Re.x)(dt,hi=>{Tr||(Tr=!0,zr--),Ht[ii]=hi},()=>Pn--,void 0,()=>{(!Pn||!Tr)&&(zr||dt.next(F?(0,Be.n)(F,Ht):Ht),dt.complete())}))}});return L?fe.pipe((0,Qe.Z)(L)):fe}(sn(D,L).map(jt)).pipe((0,ot.U)(Pt))}}(Oe($)):null}function tr($,L){return null===$?[L]:Array.isArray($)?[...$,L]:[$,L]}function hn($){return $?Array.isArray($)?$:[$]:[]}function Xn($,L){return Array.isArray($)?$.includes(L):$===L}function cn($,L){const D=hn(L);return hn($).forEach(fe=>{Xn(D,fe)||D.push(fe)}),D}function Pr($,L){return hn(L).filter(D=>!Xn($,D))}class Wr{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(L){this._rawValidators=L||[],this._composedValidatorFn=wt(this._rawValidators)}_setAsyncValidators(L){this._rawAsyncValidators=L||[],this._composedAsyncValidatorFn=_n(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(L){this._onDestroyCallbacks.push(L)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(L=>L()),this._onDestroyCallbacks=[]}reset(L=void 0){this.control&&this.control.reset(L)}hasError(L,D){return!!this.control&&this.control.hasError(L,D)}getError(L,D){return this.control?this.control.getError(L,D):null}}class Sr extends Wr{get formDirective(){return null}get path(){return null}}class On extends Wr{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Gr{constructor(L){this._cd=L}get isTouched(){var L,D;return!(null===(L=this._cd)||void 0===L||null===(D=L.control)||void 0===D||!D.touched)}get isUntouched(){var L,D;return!(null===(L=this._cd)||void 0===L||null===(D=L.control)||void 0===D||!D.untouched)}get isPristine(){var L,D;return!(null===(L=this._cd)||void 0===L||null===(D=L.control)||void 0===D||!D.pristine)}get isDirty(){var L,D;return!(null===(L=this._cd)||void 0===L||null===(D=L.control)||void 0===D||!D.dirty)}get isValid(){var L,D;return!(null===(L=this._cd)||void 0===L||null===(D=L.control)||void 0===D||!D.valid)}get isInvalid(){var L,D;return!(null===(L=this._cd)||void 0===L||null===(D=L.control)||void 0===D||!D.invalid)}get isPending(){var L,D;return!(null===(L=this._cd)||void 0===L||null===(D=L.control)||void 0===D||!D.pending)}get isSubmitted(){var L;return!(null===(L=this._cd)||void 0===L||!L.submitted)}}let $r=(()=>{class $ extends Gr{constructor(D){super(D)}}return $.\u0275fac=function(D){return new(D||$)(d.Y36(On,2))},$.\u0275dir=d.lG2({type:$,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(D,F){2&D&&d.ekj("ng-untouched",F.isUntouched)("ng-touched",F.isTouched)("ng-pristine",F.isPristine)("ng-dirty",F.isDirty)("ng-valid",F.isValid)("ng-invalid",F.isInvalid)("ng-pending",F.isPending)},features:[d.qOj]}),$})(),ui=(()=>{class $ extends Gr{constructor(D){super(D)}}return $.\u0275fac=function(D){return new(D||$)(d.Y36(Sr,10))},$.\u0275dir=d.lG2({type:$,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(D,F){2&D&&d.ekj("ng-untouched",F.isUntouched)("ng-touched",F.isTouched)("ng-pristine",F.isPristine)("ng-dirty",F.isDirty)("ng-valid",F.isValid)("ng-invalid",F.isInvalid)("ng-pending",F.isPending)("ng-submitted",F.isSubmitted)},features:[d.qOj]}),$})();const Wn="VALID",Kr="INVALID",Nr="PENDING",Rr="DISABLED";function yt($){return(oe($)?$.validators:$)||null}function se($,L){return(oe(L)?L.asyncValidators:$)||null}function oe($){return null!=$&&!Array.isArray($)&&"object"==typeof $}class rt{constructor(L,D){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(L),this._assignAsyncValidators(D)}get validator(){return this._composedValidatorFn}set validator(L){this._rawValidators=this._composedValidatorFn=L}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(L){this._rawAsyncValidators=this._composedAsyncValidatorFn=L}get parent(){return this._parent}get valid(){return this.status===Wn}get invalid(){return this.status===Kr}get pending(){return this.status==Nr}get disabled(){return this.status===Rr}get enabled(){return this.status!==Rr}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(L){this._assignValidators(L)}setAsyncValidators(L){this._assignAsyncValidators(L)}addValidators(L){this.setValidators(cn(L,this._rawValidators))}addAsyncValidators(L){this.setAsyncValidators(cn(L,this._rawAsyncValidators))}removeValidators(L){this.setValidators(Pr(L,this._rawValidators))}removeAsyncValidators(L){this.setAsyncValidators(Pr(L,this._rawAsyncValidators))}hasValidator(L){return Xn(this._rawValidators,L)}hasAsyncValidator(L){return Xn(this._rawAsyncValidators,L)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(L={}){this.touched=!0,this._parent&&!L.onlySelf&&this._parent.markAsTouched(L)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(L=>L.markAllAsTouched())}markAsUntouched(L={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(D=>{D.markAsUntouched({onlySelf:!0})}),this._parent&&!L.onlySelf&&this._parent._updateTouched(L)}markAsDirty(L={}){this.pristine=!1,this._parent&&!L.onlySelf&&this._parent.markAsDirty(L)}markAsPristine(L={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(D=>{D.markAsPristine({onlySelf:!0})}),this._parent&&!L.onlySelf&&this._parent._updatePristine(L)}markAsPending(L={}){this.status=Nr,!1!==L.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!L.onlySelf&&this._parent.markAsPending(L)}disable(L={}){const D=this._parentMarkedDirty(L.onlySelf);this.status=Rr,this.errors=null,this._forEachChild(F=>{F.disable({...L,onlySelf:!0})}),this._updateValue(),!1!==L.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...L,skipPristineCheck:D}),this._onDisabledChange.forEach(F=>F(!0))}enable(L={}){const D=this._parentMarkedDirty(L.onlySelf);this.status=Wn,this._forEachChild(F=>{F.enable({...L,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:L.emitEvent}),this._updateAncestors({...L,skipPristineCheck:D}),this._onDisabledChange.forEach(F=>F(!1))}_updateAncestors(L){this._parent&&!L.onlySelf&&(this._parent.updateValueAndValidity(L),L.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(L){this._parent=L}getRawValue(){return this.value}updateValueAndValidity(L={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Wn||this.status===Nr)&&this._runAsyncValidator(L.emitEvent)),!1!==L.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!L.onlySelf&&this._parent.updateValueAndValidity(L)}_updateTreeValidity(L={emitEvent:!0}){this._forEachChild(D=>D._updateTreeValidity(L)),this.updateValueAndValidity({onlySelf:!0,emitEvent:L.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Rr:Wn}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(L){if(this.asyncValidator){this.status=Nr,this._hasOwnPendingAsyncValidator=!0;const D=jt(this.asyncValidator(this));this._asyncValidationSubscription=D.subscribe(F=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(F,{emitEvent:L})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(L,D={}){this.errors=L,this._updateControlsErrors(!1!==D.emitEvent)}get(L){let D=L;return null==D||(Array.isArray(D)||(D=D.split(".")),0===D.length)?null:D.reduce((F,fe)=>F&&F._find(fe),this)}getError(L,D){const F=D?this.get(D):this;return F&&F.errors?F.errors[L]:null}hasError(L,D){return!!this.getError(L,D)}get root(){let L=this;for(;L._parent;)L=L._parent;return L}_updateControlsErrors(L){this.status=this._calculateStatus(),L&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(L)}_initObservables(){this.valueChanges=new d.vpe,this.statusChanges=new d.vpe}_calculateStatus(){return this._allControlsDisabled()?Rr:this.errors?Kr:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Nr)?Nr:this._anyControlsHaveStatus(Kr)?Kr:Wn}_anyControlsHaveStatus(L){return this._anyControls(D=>D.status===L)}_anyControlsDirty(){return this._anyControls(L=>L.dirty)}_anyControlsTouched(){return this._anyControls(L=>L.touched)}_updatePristine(L={}){this.pristine=!this._anyControlsDirty(),this._parent&&!L.onlySelf&&this._parent._updatePristine(L)}_updateTouched(L={}){this.touched=this._anyControlsTouched(),this._parent&&!L.onlySelf&&this._parent._updateTouched(L)}_registerOnCollectionChange(L){this._onCollectionChange=L}_setUpdateStrategy(L){oe(L)&&null!=L.updateOn&&(this._updateOn=L.updateOn)}_parentMarkedDirty(L){return!L&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(L){return null}_assignValidators(L){this._rawValidators=Array.isArray(L)?L.slice():L,this._composedValidatorFn=function Te($){return Array.isArray($)?wt($):$||null}(this._rawValidators)}_assignAsyncValidators(L){this._rawAsyncValidators=Array.isArray(L)?L.slice():L,this._composedAsyncValidatorFn=function ee($){return Array.isArray($)?_n($):$||null}(this._rawAsyncValidators)}}class Vt extends rt{constructor(L,D,F){super(yt(D),se(F,D)),this.controls=L,this._initObservables(),this._setUpdateStrategy(D),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(L,D){return this.controls[L]?this.controls[L]:(this.controls[L]=D,D.setParent(this),D._registerOnCollectionChange(this._onCollectionChange),D)}addControl(L,D,F={}){this.registerControl(L,D),this.updateValueAndValidity({emitEvent:F.emitEvent}),this._onCollectionChange()}removeControl(L,D={}){this.controls[L]&&this.controls[L]._registerOnCollectionChange(()=>{}),delete this.controls[L],this.updateValueAndValidity({emitEvent:D.emitEvent}),this._onCollectionChange()}setControl(L,D,F={}){this.controls[L]&&this.controls[L]._registerOnCollectionChange(()=>{}),delete this.controls[L],D&&this.registerControl(L,D),this.updateValueAndValidity({emitEvent:F.emitEvent}),this._onCollectionChange()}contains(L){return this.controls.hasOwnProperty(L)&&this.controls[L].enabled}setValue(L,D={}){(function xt($,L,D){$._forEachChild((F,fe)=>{if(void 0===D[fe])throw new d.vHH(1002,"")})})(this,0,L),Object.keys(L).forEach(F=>{(function qe($,L,D){const F=$.controls;if(!(L?Object.keys(F):F).length)throw new d.vHH(1e3,"");if(!F[D])throw new d.vHH(1001,"")})(this,!0,F),this.controls[F].setValue(L[F],{onlySelf:!0,emitEvent:D.emitEvent})}),this.updateValueAndValidity(D)}patchValue(L,D={}){null!=L&&(Object.keys(L).forEach(F=>{const fe=this.controls[F];fe&&fe.patchValue(L[F],{onlySelf:!0,emitEvent:D.emitEvent})}),this.updateValueAndValidity(D))}reset(L={},D={}){this._forEachChild((F,fe)=>{F.reset(L[fe],{onlySelf:!0,emitEvent:D.emitEvent})}),this._updatePristine(D),this._updateTouched(D),this.updateValueAndValidity(D)}getRawValue(){return this._reduceChildren({},(L,D,F)=>(L[F]=D.getRawValue(),L))}_syncPendingControls(){let L=this._reduceChildren(!1,(D,F)=>!!F._syncPendingControls()||D);return L&&this.updateValueAndValidity({onlySelf:!0}),L}_forEachChild(L){Object.keys(this.controls).forEach(D=>{const F=this.controls[D];F&&L(F,D)})}_setUpControls(){this._forEachChild(L=>{L.setParent(this),L._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(L){for(const[D,F]of Object.entries(this.controls))if(this.contains(D)&&L(F))return!0;return!1}_reduceValue(){return this._reduceChildren({},(D,F,fe)=>((F.enabled||this.disabled)&&(D[fe]=F.value),D))}_reduceChildren(L,D){let F=L;return this._forEachChild((fe,dt)=>{F=D(F,fe,dt)}),F}_allControlsDisabled(){for(const L of Object.keys(this.controls))if(this.controls[L].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(L){return this.controls.hasOwnProperty(L)?this.controls[L]:null}}const un=new d.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>bn}),bn="always";function Ft($,L,D=bn){var F,fe;gr($,L),L.valueAccessor.writeValue($.value),($.disabled||"always"===D)&&(null===(F=(fe=L.valueAccessor).setDisabledState)||void 0===F||F.call(fe,$.disabled)),function Or($,L){L.valueAccessor.registerOnChange(D=>{$._pendingValue=D,$._pendingChange=!0,$._pendingDirty=!0,"change"===$.updateOn&&Yr($,L)})}($,L),function jr($,L){const D=(F,fe)=>{L.valueAccessor.writeValue(F),fe&&L.viewToModelUpdate(F)};$.registerOnChange(D),L._registerOnDestroy(()=>{$._unregisterOnChange(D)})}($,L),function Ri($,L){L.valueAccessor.registerOnTouched(()=>{$._pendingTouched=!0,"blur"===$.updateOn&&$._pendingChange&&Yr($,L),"submit"!==$.updateOn&&$.markAsTouched()})}($,L),function Qn($,L){if(L.valueAccessor.setDisabledState){const D=F=>{L.valueAccessor.setDisabledState(F)};$.registerOnDisabledChange(D),L._registerOnDestroy(()=>{$._unregisterOnDisabledChange(D)})}}($,L)}function mn($,L){$.forEach(D=>{D.registerOnValidatorChange&&D.registerOnValidatorChange(L)})}function gr($,L){const D=function ur($){return $._rawValidators}($);null!==L.validator?$.setValidators(tr(D,L.validator)):"function"==typeof D&&$.setValidators([D]);const F=function lr($){return $._rawAsyncValidators}($);null!==L.asyncValidator?$.setAsyncValidators(tr(F,L.asyncValidator)):"function"==typeof F&&$.setAsyncValidators([F]);const fe=()=>$.updateValueAndValidity();mn(L._rawValidators,fe),mn(L._rawAsyncValidators,fe)}function Yr($,L){$._pendingDirty&&$.markAsDirty(),$.setValue($._pendingValue,{emitModelToViewChange:!1}),L.viewToModelUpdate($._pendingValue),$._pendingChange=!1}const ie={provide:Sr,useExisting:(0,d.Gpc)(()=>ke)},pe=(()=>Promise.resolve())();let ke=(()=>{class $ extends Sr{constructor(D,F,fe){super(),this.callSetDisabledState=fe,this.submitted=!1,this._directives=new Set,this.ngSubmit=new d.vpe,this.form=new Vt({},wt(D),_n(F))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(D){pe.then(()=>{const F=this._findContainer(D.path);D.control=F.registerControl(D.name,D.control),Ft(D.control,D,this.callSetDisabledState),D.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(D)})}getControl(D){return this.form.get(D.path)}removeControl(D){pe.then(()=>{const F=this._findContainer(D.path);F&&F.removeControl(D.name),this._directives.delete(D)})}addFormGroup(D){pe.then(()=>{const F=this._findContainer(D.path),fe=new Vt({});(function ei($,L){gr($,L)})(fe,D),F.registerControl(D.name,fe),fe.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(D){pe.then(()=>{const F=this._findContainer(D.path);F&&F.removeControl(D.name)})}getFormGroup(D){return this.form.get(D.path)}updateModel(D,F){pe.then(()=>{this.form.get(D.path).setValue(F)})}setValue(D){this.control.setValue(D)}onSubmit(D){var F;return this.submitted=!0,function qs($,L){$._syncPendingControls(),L.forEach(D=>{const F=D.control;"submit"===F.updateOn&&F._pendingChange&&(D.viewToModelUpdate(F._pendingValue),F._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(D),"dialog"===(null==D||null===(F=D.target)||void 0===F?void 0:F.method)}onReset(){this.resetForm()}resetForm(D=void 0){this.form.reset(D),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(D){return D.pop(),D.length?this.form.get(D):this.form}}return $.\u0275fac=function(D){return new(D||$)(d.Y36(Dt,10),d.Y36(vt,10),d.Y36(un,8))},$.\u0275dir=d.lG2({type:$,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(D,F){1&D&&d.NdJ("submit",function(dt){return F.onSubmit(dt)})("reset",function(){return F.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[d._Bn([ie]),d.qOj]}),$})();function _e($,L){const D=$.indexOf(L);D>-1&&$.splice(D,1)}function re($){return"object"==typeof $&&null!==$&&2===Object.keys($).length&&"value"in $&&"disabled"in $}const ye=class extends rt{constructor(L=null,D,F){super(yt(D),se(F,D)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(L),this._setUpdateStrategy(D),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),oe(D)&&(D.nonNullable||D.initialValueIsDefault)&&(this.defaultValue=re(L)?L.value:L)}setValue(L,D={}){this.value=this._pendingValue=L,this._onChange.length&&!1!==D.emitModelToViewChange&&this._onChange.forEach(F=>F(this.value,!1!==D.emitViewToModelChange)),this.updateValueAndValidity(D)}patchValue(L,D={}){this.setValue(L,D)}reset(L=this.defaultValue,D={}){this._applyFormState(L),this.markAsPristine(D),this.markAsUntouched(D),this.setValue(this.value,D),this._pendingChange=!1}_updateValue(){}_anyControls(L){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(L){this._onChange.push(L)}_unregisterOnChange(L){_e(this._onChange,L)}registerOnDisabledChange(L){this._onDisabledChange.push(L)}_unregisterOnDisabledChange(L){_e(this._onDisabledChange,L)}_forEachChild(L){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(L){re(L)?(this.value=this._pendingValue=L.value,L.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=L}},Qi={provide:On,useExisting:(0,d.Gpc)(()=>Li)},$s=(()=>Promise.resolve())();let Li=(()=>{class $ extends On{constructor(D,F,fe,dt,Ot,Ht){super(),this._changeDetectorRef=Ot,this.callSetDisabledState=Ht,this.control=new ye,this._registered=!1,this.name="",this.update=new d.vpe,this._parent=D,this._setValidators(F),this._setAsyncValidators(fe),this.valueAccessor=function io($,L){if(!L)return null;let D,F,fe;return Array.isArray(L),L.forEach(dt=>{dt.constructor===ht?D=dt:function zi($){return Object.getPrototypeOf($.constructor)===ct}(dt)?F=dt:fe=dt}),fe||F||D||null}(0,dt)}ngOnChanges(D){if(this._checkForErrors(),!this._registered||"name"in D){if(this._registered&&(this._checkName(),this.formDirective)){const F=D.name.previousValue;this.formDirective.removeControl({name:F,path:this._getPath(F)})}this._setUpControl()}"isDisabled"in D&&this._updateDisabled(D),function as($,L){if(!$.hasOwnProperty("model"))return!1;const D=$.model;return!!D.isFirstChange()||!Object.is(L,D.currentValue)}(D,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(D){this.viewModel=D,this.update.emit(D)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Ft(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(D){$s.then(()=>{var F;this.control.setValue(D,{emitViewToModelChange:!1}),null===(F=this._changeDetectorRef)||void 0===F||F.markForCheck()})}_updateDisabled(D){const F=D.isDisabled.currentValue,fe=0!==F&&(0,d.D6c)(F);$s.then(()=>{var dt;fe&&!this.control.disabled?this.control.disable():!fe&&this.control.disabled&&this.control.enable(),null===(dt=this._changeDetectorRef)||void 0===dt||dt.markForCheck()})}_getPath(D){return this._parent?function Nn($,L){return[...L.path,$]}(D,this._parent):[D]}}return $.\u0275fac=function(D){return new(D||$)(d.Y36(Sr,9),d.Y36(Dt,10),d.Y36(vt,10),d.Y36(mt,10),d.Y36(d.sBO,8),d.Y36(un,8))},$.\u0275dir=d.lG2({type:$,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[d._Bn([Qi]),d.qOj,d.TTD]}),$})(),ir=(()=>{class ${}return $.\u0275fac=function(D){return new(D||$)},$.\u0275dir=d.lG2({type:$,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),$})(),us=(()=>{class ${}return $.\u0275fac=function(D){return new(D||$)},$.\u0275mod=d.oAB({type:$}),$.\u0275inj=d.cJS({}),$})();const Zr=new d.OlP("NgModelWithFormControlWarning");let Yi=(()=>{class ${constructor(){this._validator=Ge}ngOnChanges(D){if(this.inputName in D){const F=this.normalizeInput(D[this.inputName].currentValue);this._enabled=this.enabled(F),this._validator=this._enabled?this.createValidator(F):Ge,this._onChange&&this._onChange()}}validate(D){return this._validator(D)}registerOnValidatorChange(D){this._onChange=D}enabled(D){return null!=D}}return $.\u0275fac=function(D){return new(D||$)},$.\u0275dir=d.lG2({type:$,features:[d.TTD]}),$})();const mo={provide:Dt,useExisting:(0,d.Gpc)(()=>Us),multi:!0};let Us=(()=>{class $ extends Yi{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=d.D6c,this.createValidator=D=>Qt}enabled(D){return D}}return $.\u0275fac=function(){let L;return function(F){return(L||(L=d.n5z($)))(F||$)}}(),$.\u0275dir=d.lG2({type:$,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(D,F){2&D&&d.uIk("required",F._enabled?"":null)},inputs:{required:"required"},features:[d._Bn([mo]),d.qOj]}),$})();const $o={provide:Dt,useExisting:(0,d.Gpc)(()=>ks),multi:!0};let ks=(()=>{class $ extends Yi{constructor(){super(...arguments),this.inputName="minlength",this.normalizeInput=D=>function ko($){return"number"==typeof $?$:parseInt($,10)}(D),this.createValidator=D=>function ut($){return L=>Ct(L.value)||!function Tt($){return null!=$&&"number"==typeof $.length}(L.value)?null:L.value.length<$?{minlength:{requiredLength:$,actualLength:L.value.length}}:null}(D)}}return $.\u0275fac=function(){let L;return function(F){return(L||(L=d.n5z($)))(F||$)}}(),$.\u0275dir=d.lG2({type:$,selectors:[["","minlength","","formControlName",""],["","minlength","","formControl",""],["","minlength","","ngModel",""]],hostVars:1,hostBindings:function(D,F){2&D&&d.uIk("minlength",F._enabled?F.minlength:null)},inputs:{minlength:"minlength"},features:[d._Bn([$o]),d.qOj]}),$})(),Sn=(()=>{class ${}return $.\u0275fac=function(D){return new(D||$)},$.\u0275mod=d.oAB({type:$}),$.\u0275inj=d.cJS({imports:[us]}),$})(),be=(()=>{class ${static withConfig(D){var F;return{ngModule:$,providers:[{provide:un,useValue:null!==(F=D.callSetDisabledState)&&void 0!==F?F:bn}]}}}return $.\u0275fac=function(D){return new(D||$)},$.\u0275mod=d.oAB({type:$}),$.\u0275inj=d.cJS({imports:[Sn]}),$})(),ae=(()=>{class ${static withConfig(D){var F,fe;return{ngModule:$,providers:[{provide:Zr,useValue:null!==(F=D.warnOnNgModelWithFormControl)&&void 0!==F?F:"always"},{provide:un,useValue:null!==(fe=D.callSetDisabledState)&&void 0!==fe?fe:bn}]}}}return $.\u0275fac=function(D){return new(D||$)},$.\u0275mod=d.oAB({type:$}),$.\u0275inj=d.cJS({imports:[Sn]}),$})()},6550:(er,Nt,H)=>{"use strict";H.d(Nt,{Dx:()=>On,b2:()=>Xn,q6:()=>tr,se:()=>it});var d=H(2223),v=H(4755);class ve extends v.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Fe extends ve{static makeCurrent(){(0,v.HT)(new Fe)}onAndCancel(se,ee,oe){return se.addEventListener(ee,oe),()=>{se.removeEventListener(ee,oe)}}dispatchEvent(se,ee){se.dispatchEvent(ee)}remove(se){se.parentNode&&se.parentNode.removeChild(se)}createElement(se,ee){return(ee=ee||this.getDefaultDocument()).createElement(se)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(se){return se.nodeType===Node.ELEMENT_NODE}isShadowRoot(se){return se instanceof DocumentFragment}getGlobalEventTarget(se,ee){return"window"===ee?window:"document"===ee?se:"body"===ee?se.body:null}getBaseHref(se){const ee=function Ke(){return Xe=Xe||document.querySelector("base"),Xe?Xe.getAttribute("href"):null}();return null==ee?null:function Re(Te){Se=Se||document.createElement("a"),Se.setAttribute("href",Te);const se=Se.pathname;return"/"===se.charAt(0)?se:`/${se}`}(ee)}resetBaseElement(){Xe=null}getUserAgent(){return window.navigator.userAgent}getCookie(se){return(0,v.Mx)(document.cookie,se)}}let Se,Xe=null,Be=(()=>{class Te{build(){return new XMLHttpRequest}}return Te.\u0275fac=function(ee){return new(ee||Te)},Te.\u0275prov=d.Yz7({token:Te,factory:Te.\u0275fac}),Te})();const Me=new d.OlP("EventManagerPlugins");let ot=(()=>{class Te{constructor(ee,oe){this._zone=oe,this._eventNameToPlugin=new Map,ee.forEach(qe=>{qe.manager=this}),this._plugins=ee.slice().reverse()}addEventListener(ee,oe,qe){return this._findPluginFor(oe).addEventListener(ee,oe,qe)}getZone(){return this._zone}_findPluginFor(ee){const oe=this._eventNameToPlugin.get(ee);if(oe)return oe;const qe=this._plugins;for(let xt=0;xt<qe.length;xt++){const rt=qe[xt];if(rt.supports(ee))return this._eventNameToPlugin.set(ee,rt),rt}throw new Error(`No event manager plugin found for event ${ee}`)}}return Te.\u0275fac=function(ee){return new(ee||Te)(d.LFG(Me),d.LFG(d.R0b))},Te.\u0275prov=d.Yz7({token:Te,factory:Te.\u0275fac}),Te})();class Pe{constructor(se){this._doc=se}}const ct="ng-app-id";let mt=(()=>{class Te{constructor(ee,oe,qe,xt={}){this.doc=ee,this.appId=oe,this.nonce=qe,this.platformId=xt,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=(0,v.PM)(xt),this.resetHostNodes()}addStyles(ee){for(const oe of ee)1===this.changeUsageCount(oe,1)&&this.onStyleAdded(oe)}removeStyles(ee){for(const oe of ee)this.changeUsageCount(oe,-1)<=0&&this.onStyleRemoved(oe)}ngOnDestroy(){const ee=this.styleNodesInDOM;ee&&(ee.forEach(oe=>oe.remove()),ee.clear());for(const oe of this.getAllStyles())this.onStyleRemoved(oe);this.resetHostNodes()}addHost(ee){this.hostNodes.add(ee);for(const oe of this.getAllStyles())this.addStyleToHost(ee,oe)}removeHost(ee){this.hostNodes.delete(ee)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(ee){for(const oe of this.hostNodes)this.addStyleToHost(oe,ee)}onStyleRemoved(ee){var oe,qe;const xt=this.styleRef;null===(oe=xt.get(ee))||void 0===oe||null===(qe=oe.elements)||void 0===qe||qe.forEach(rt=>rt.remove()),xt.delete(ee)}collectServerRenderedStyles(){var ee;const oe=null===(ee=this.doc.head)||void 0===ee?void 0:ee.querySelectorAll(`style[${ct}="${this.appId}"]`);if(null!=oe&&oe.length){const qe=new Map;return oe.forEach(xt=>{null!=xt.textContent&&qe.set(xt.textContent,xt)}),qe}return null}changeUsageCount(ee,oe){const qe=this.styleRef;if(qe.has(ee)){const xt=qe.get(ee);return xt.usage+=oe,xt.usage}return qe.set(ee,{usage:oe,elements:[]}),oe}getStyleElement(ee,oe){const qe=this.styleNodesInDOM,xt=null==qe?void 0:qe.get(oe);if((null==xt?void 0:xt.parentNode)===ee)return qe.delete(oe),xt.removeAttribute(ct),xt;{const rt=this.doc.createElement("style");return this.nonce&&rt.setAttribute("nonce",this.nonce),rt.textContent=oe,this.platformIsServer&&rt.setAttribute(ct,this.appId),rt}}addStyleToHost(ee,oe){var qe;const xt=this.getStyleElement(ee,oe);ee.appendChild(xt);const rt=this.styleRef,Vt=null===(qe=rt.get(oe))||void 0===qe?void 0:qe.elements;Vt?Vt.push(xt):rt.set(oe,{elements:[xt],usage:1})}resetHostNodes(){const ee=this.hostNodes;ee.clear(),ee.add(this.doc.head)}}return Te.\u0275fac=function(ee){return new(ee||Te)(d.LFG(v.K0),d.LFG(d.AFp),d.LFG(d.Ojb,8),d.LFG(d.Lbi))},Te.\u0275prov=d.Yz7({token:Te,factory:Te.\u0275fac}),Te})();const Ut={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},He=/%COMP%/g,Ct=new d.OlP("RemoveStylesOnCompDestory",{providedIn:"root",factory:()=>!1});function vt(Te,se){return se.map(ee=>ee.replace(He,Te))}let it=(()=>{class Te{constructor(ee,oe,qe,xt,rt,Vt,nn,Tn=null){this.eventManager=ee,this.sharedStylesHost=oe,this.appId=qe,this.removeStylesOnCompDestory=xt,this.doc=rt,this.platformId=Vt,this.ngZone=nn,this.nonce=Tn,this.rendererByCompId=new Map,this.platformIsServer=(0,v.PM)(Vt),this.defaultRenderer=new Gt(ee,rt,nn,this.platformIsServer)}createRenderer(ee,oe){if(!ee||!oe)return this.defaultRenderer;this.platformIsServer&&oe.encapsulation===d.ifc.ShadowDom&&(oe={...oe,encapsulation:d.ifc.Emulated});const qe=this.getOrCreateRenderer(ee,oe);return qe instanceof ut?qe.applyToHost(ee):qe instanceof Je&&qe.applyStyles(),qe}getOrCreateRenderer(ee,oe){const qe=this.rendererByCompId;let xt=qe.get(oe.id);if(!xt){const rt=this.doc,Vt=this.ngZone,nn=this.eventManager,Tn=this.sharedStylesHost,wn=this.removeStylesOnCompDestory,Gn=this.platformIsServer;switch(oe.encapsulation){case d.ifc.Emulated:xt=new ut(nn,Tn,oe,this.appId,wn,rt,Vt,Gn);break;case d.ifc.ShadowDom:return new Ae(nn,Tn,ee,oe,rt,Vt,this.nonce,Gn);default:xt=new Je(nn,Tn,oe,wn,rt,Vt,Gn)}xt.onDestroy=()=>qe.delete(oe.id),qe.set(oe.id,xt)}return xt}ngOnDestroy(){this.rendererByCompId.clear()}}return Te.\u0275fac=function(ee){return new(ee||Te)(d.LFG(ot),d.LFG(mt),d.LFG(d.AFp),d.LFG(Ct),d.LFG(v.K0),d.LFG(d.Lbi),d.LFG(d.R0b),d.LFG(d.Ojb))},Te.\u0275prov=d.Yz7({token:Te,factory:Te.\u0275fac}),Te})();class Gt{constructor(se,ee,oe,qe){this.eventManager=se,this.doc=ee,this.ngZone=oe,this.platformIsServer=qe,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(se,ee){return ee?this.doc.createElementNS(Ut[ee]||ee,se):this.doc.createElement(se)}createComment(se){return this.doc.createComment(se)}createText(se){return this.doc.createTextNode(se)}appendChild(se,ee){(Qt(se)?se.content:se).appendChild(ee)}insertBefore(se,ee,oe){se&&(Qt(se)?se.content:se).insertBefore(ee,oe)}removeChild(se,ee){se&&se.removeChild(ee)}selectRootElement(se,ee){let oe="string"==typeof se?this.doc.querySelector(se):se;if(!oe)throw new Error(`The selector "${se}" did not match any elements`);return ee||(oe.textContent=""),oe}parentNode(se){return se.parentNode}nextSibling(se){return se.nextSibling}setAttribute(se,ee,oe,qe){if(qe){ee=qe+":"+ee;const xt=Ut[qe];xt?se.setAttributeNS(xt,ee,oe):se.setAttribute(ee,oe)}else se.setAttribute(ee,oe)}removeAttribute(se,ee,oe){if(oe){const qe=Ut[oe];qe?se.removeAttributeNS(qe,ee):se.removeAttribute(`${oe}:${ee}`)}else se.removeAttribute(ee)}addClass(se,ee){se.classList.add(ee)}removeClass(se,ee){se.classList.remove(ee)}setStyle(se,ee,oe,qe){qe&(d.JOm.DashCase|d.JOm.Important)?se.style.setProperty(ee,oe,qe&d.JOm.Important?"important":""):se.style[ee]=oe}removeStyle(se,ee,oe){oe&d.JOm.DashCase?se.style.removeProperty(ee):se.style[ee]=""}setProperty(se,ee,oe){se[ee]=oe}setValue(se,ee){se.nodeValue=ee}listen(se,ee,oe){if("string"==typeof se&&!(se=(0,v.q)().getGlobalEventTarget(this.doc,se)))throw new Error(`Unsupported event target ${se} for event ${ee}`);return this.eventManager.addEventListener(se,ee,this.decoratePreventDefault(oe))}decoratePreventDefault(se){return ee=>{if("__ngUnwrap__"===ee)return se;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>se(ee)):se(ee))&&(ee.preventDefault(),ee.returnValue=!1)}}}function Qt(Te){return"TEMPLATE"===Te.tagName&&void 0!==Te.content}class Ae extends Gt{constructor(se,ee,oe,qe,xt,rt,Vt,nn){super(se,xt,rt,nn),this.sharedStylesHost=ee,this.hostEl=oe,this.shadowRoot=oe.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const Tn=vt(qe.id,qe.styles);for(const wn of Tn){const Gn=document.createElement("style");Vt&&Gn.setAttribute("nonce",Vt),Gn.textContent=wn,this.shadowRoot.appendChild(Gn)}}nodeOrShadowRoot(se){return se===this.hostEl?this.shadowRoot:se}appendChild(se,ee){return super.appendChild(this.nodeOrShadowRoot(se),ee)}insertBefore(se,ee,oe){return super.insertBefore(this.nodeOrShadowRoot(se),ee,oe)}removeChild(se,ee){return super.removeChild(this.nodeOrShadowRoot(se),ee)}parentNode(se){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(se)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Je extends Gt{constructor(se,ee,oe,qe,xt,rt,Vt,nn){super(se,xt,rt,Vt),this.sharedStylesHost=ee,this.removeStylesOnCompDestory=qe,this.rendererUsageCount=0,this.styles=nn?vt(nn,oe.styles):oe.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles),this.rendererUsageCount++}destroy(){var se;this.removeStylesOnCompDestory&&(this.sharedStylesHost.removeStyles(this.styles),this.rendererUsageCount--,0===this.rendererUsageCount)&&(null===(se=this.onDestroy)||void 0===se||se.call(this))}}class ut extends Je{constructor(se,ee,oe,qe,xt,rt,Vt,nn){const Tn=qe+"-"+oe.id;super(se,ee,oe,xt,rt,Vt,nn,Tn),this.contentAttr=function Tt(Te){return"_ngcontent-%COMP%".replace(He,Te)}(Tn),this.hostAttr=function Dt(Te){return"_nghost-%COMP%".replace(He,Te)}(Tn)}applyToHost(se){this.applyStyles(),this.setAttribute(se,this.hostAttr,"")}createElement(se,ee){const oe=super.createElement(se,ee);return super.setAttribute(oe,this.contentAttr,""),oe}}let _t=(()=>{class Te extends Pe{constructor(ee){super(ee)}supports(ee){return!0}addEventListener(ee,oe,qe){return ee.addEventListener(oe,qe,!1),()=>this.removeEventListener(ee,oe,qe)}removeEventListener(ee,oe,qe){return ee.removeEventListener(oe,qe)}}return Te.\u0275fac=function(ee){return new(ee||Te)(d.LFG(v.K0))},Te.\u0275prov=d.Yz7({token:Te,factory:Te.\u0275fac}),Te})();const tt=["alt","control","meta","shift"],Ge={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},ft={alt:Te=>Te.altKey,control:Te=>Te.ctrlKey,meta:Te=>Te.metaKey,shift:Te=>Te.shiftKey};let jt=(()=>{class Te extends Pe{constructor(ee){super(ee)}supports(ee){return null!=Te.parseEventName(ee)}addEventListener(ee,oe,qe){const xt=Te.parseEventName(oe),rt=Te.eventCallback(xt.fullKey,qe,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,v.q)().onAndCancel(ee,xt.domEventName,rt))}static parseEventName(ee){const oe=ee.toLowerCase().split("."),qe=oe.shift();if(0===oe.length||"keydown"!==qe&&"keyup"!==qe)return null;const xt=Te._normalizeKey(oe.pop());let rt="",Vt=oe.indexOf("code");if(Vt>-1&&(oe.splice(Vt,1),rt="code."),tt.forEach(Tn=>{const wn=oe.indexOf(Tn);wn>-1&&(oe.splice(wn,1),rt+=Tn+".")}),rt+=xt,0!=oe.length||0===xt.length)return null;const nn={};return nn.domEventName=qe,nn.fullKey=rt,nn}static matchEventFullKeyCode(ee,oe){let qe=Ge[ee.key]||ee.key,xt="";return oe.indexOf("code.")>-1&&(qe=ee.code,xt="code."),!(null==qe||!qe)&&(qe=qe.toLowerCase()," "===qe?qe="space":"."===qe&&(qe="dot"),tt.forEach(rt=>{rt!==qe&&(0,ft[rt])(ee)&&(xt+=rt+".")}),xt+=qe,xt===oe)}static eventCallback(ee,oe,qe){return xt=>{Te.matchEventFullKeyCode(xt,ee)&&qe.runGuarded(()=>oe(xt))}}static _normalizeKey(ee){return"esc"===ee?"escape":ee}}return Te.\u0275fac=function(ee){return new(ee||Te)(d.LFG(v.K0))},Te.\u0275prov=d.Yz7({token:Te,factory:Te.\u0275fac}),Te})();const tr=(0,d.eFA)(d._c5,"browser",[{provide:d.Lbi,useValue:v.bD},{provide:d.g9A,useValue:function rn(){Fe.makeCurrent()},multi:!0},{provide:v.K0,useFactory:function fn(){return(0,d.RDi)(document),document},deps:[]}]),ur=new d.OlP(""),lr=[{provide:d.rWj,useClass:class Qe{addToWindow(se){d.dqk.getAngularTestability=(oe,qe=!0)=>{const xt=se.findTestabilityInTree(oe,qe);if(null==xt)throw new Error("Could not find testability for element.");return xt},d.dqk.getAllAngularTestabilities=()=>se.getAllTestabilities(),d.dqk.getAllAngularRootElements=()=>se.getAllRootElements(),d.dqk.frameworkStabilizers||(d.dqk.frameworkStabilizers=[]),d.dqk.frameworkStabilizers.push(oe=>{const qe=d.dqk.getAllAngularTestabilities();let xt=qe.length,rt=!1;const Vt=function(nn){rt=rt||nn,xt--,0==xt&&oe(rt)};qe.forEach(function(nn){nn.whenStable(Vt)})})}findTestabilityInTree(se,ee,oe){if(null==ee)return null;const qe=se.getTestability(ee);return null!=qe?qe:oe?(0,v.q)().isShadowRoot(ee)?this.findTestabilityInTree(se,ee.host,!0):this.findTestabilityInTree(se,ee.parentElement,!0):null}},deps:[]},{provide:d.lri,useClass:d.dDg,deps:[d.R0b,d.eoX,d.rWj]},{provide:d.dDg,useClass:d.dDg,deps:[d.R0b,d.eoX,d.rWj]}],hn=[{provide:d.zSh,useValue:"root"},{provide:d.qLn,useFactory:function wt(){return new d.qLn},deps:[]},{provide:Me,useClass:_t,multi:!0,deps:[v.K0,d.R0b,d.Lbi]},{provide:Me,useClass:jt,multi:!0,deps:[v.K0]},it,mt,ot,{provide:d.FYo,useExisting:it},{provide:v.JF,useClass:Be,deps:[]},[]];let Xn=(()=>{class Te{constructor(ee){}static withServerTransition(ee){return{ngModule:Te,providers:[{provide:d.AFp,useValue:ee.appId}]}}}return Te.\u0275fac=function(ee){return new(ee||Te)(d.LFG(ur,12))},Te.\u0275mod=d.oAB({type:Te}),Te.\u0275inj=d.cJS({providers:[...hn,...lr],imports:[v.ez,d.hGG]}),Te})(),On=(()=>{class Te{constructor(ee){this._doc=ee}getTitle(){return this._doc.title}setTitle(ee){this._doc.title=ee||""}}return Te.\u0275fac=function(ee){return new(ee||Te)(d.LFG(v.K0))},Te.\u0275prov=d.Yz7({token:Te,factory:function(ee){let oe=null;return oe=ee?new ee:function Sr(){return new On((0,d.LFG)(v.K0))}(),oe},providedIn:"root"}),Te})();typeof window<"u"&&window},5559:(er,Nt,H)=>{"use strict";H.d(Nt,{gz:()=>ho,jw:()=>Li,y6:()=>Rs,OD:()=>ke,eC:()=>hn,wm:()=>Ea,wN:()=>wi,F0:()=>Un,rH:()=>qn,Bz:()=>Hi,Hx:()=>xe,fw:()=>Ws});var d=H(2223),v=H(9751),ve=H(576),Xe=H(8996),Ke=H(9646),Se=H(1135),Re=H(4742),Qe=H(4671),Be=H(3268),Me=H(7669),ot=H(1810),Pe=H(5403),ct=H(9672);function mt(...V){const G=(0,Me.yG)(V),O=(0,Me.jO)(V),{args:Z,keys:ge}=(0,Re.D)(V);if(0===Z.length)return(0,Xe.D)([],G);const et=new v.y(function Ut(V,G,O=Qe.y){return Z=>{He(G,()=>{const{length:ge}=V,et=new Array(ge);let ze=ge,Zt=ge;for(let Mn=0;Mn<ge;Mn++)He(G,()=>{const kr=(0,Xe.D)(V[Mn],G);let ki=!1;kr.subscribe((0,Pe.x)(Z,si=>{et[Mn]=si,ki||(ki=!0,Zt--),Zt||Z.next(O(et.slice()))},()=>{--ze||Z.complete()}))},Z)},Z)}}(Z,G,ge?ze=>(0,ot.n)(ge,ze):Qe.y));return O?et.pipe((0,Be.Z)(O)):et}function He(V,G,O){V?(0,ct.f)(O,V,G):G()}var $e=H(6805),Lt=H(7272),Rt=H(8421);function ht(V){return new v.y(G=>{(0,Rt.Xf)(V()).subscribe(G)})}var Ct=H(9635);function Tt(V,G){const O=(0,ve.m)(V)?V:()=>V,Z=ge=>ge.error(O());return new v.y(G?ge=>G.schedule(Z,0,ge):Z)}var Dt=H(515),vt=H(727),it=H(4482);function Gt(){return(0,it.e)((V,G)=>{let O=null;V._refCount++;const Z=(0,Pe.x)(G,void 0,void 0,void 0,()=>{if(!V||V._refCount<=0||0<--V._refCount)return void(O=null);const ge=V._connection,et=O;O=null,ge&&(!et||ge===et)&&ge.unsubscribe(),G.unsubscribe()});V.subscribe(Z),Z.closed||(O=V.connect())})}class St extends v.y{constructor(G,O){super(),this.source=G,this.subjectFactory=O,this._subject=null,this._refCount=0,this._connection=null,(0,it.A)(G)&&(this.lift=G.lift)}_subscribe(G){return this.getSubject().subscribe(G)}getSubject(){const G=this._subject;return(!G||G.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:G}=this;this._subject=this._connection=null,null==G||G.unsubscribe()}connect(){let G=this._connection;if(!G){G=this._connection=new vt.w0;const O=this.getSubject();G.add(this.source.subscribe((0,Pe.x)(O,void 0,()=>{this._teardown(),O.complete()},Z=>{this._teardown(),O.error(Z)},()=>this._teardown()))),G.closed&&(this._connection=null,G=vt.w0.EMPTY)}return G}refCount(){return Gt()(this)}}var kt=H(7579),Qt=H(4755),Ae=H(4004),Je=H(3900),ut=H(5698),_t=H(8675),tt=H(9300),Ge=H(5577),ft=H(590);function jt(V,G){return(0,ve.m)(G)?(0,Ge.z)(V,G,1):(0,Ge.z)(V,1)}var Pt=H(8505);function sn(V){return(0,it.e)((G,O)=>{let et,Z=null,ge=!1;Z=G.subscribe((0,Pe.x)(O,void 0,void 0,ze=>{et=(0,Rt.Xf)(V(ze,sn(V)(G))),Z?(Z.unsubscribe(),Z=null,et.subscribe(O)):ge=!0})),ge&&(Z.unsubscribe(),Z=null,et.subscribe(O))})}var ln=H(5026),Oe=H(6590);function rn(V){return V<=0?()=>Dt.E:(0,it.e)((G,O)=>{let Z=[];G.subscribe((0,Pe.x)(O,ge=>{Z.push(ge),V<Z.length&&Z.shift()},()=>{for(const ge of Z)O.next(ge);O.complete()},void 0,()=>{Z=null}))})}var wt=H(8068),tr=H(8746),ur=H(8189),lr=H(6550);const hn="primary",Xn=Symbol("RouteTitle");class cn{constructor(G){this.params=G||{}}has(G){return Object.prototype.hasOwnProperty.call(this.params,G)}get(G){if(this.has(G)){const O=this.params[G];return Array.isArray(O)?O[0]:O}return null}getAll(G){if(this.has(G)){const O=this.params[G];return Array.isArray(O)?O:[O]}return[]}get keys(){return Object.keys(this.params)}}function Pr(V){return new cn(V)}function Wr(V,G,O){const Z=O.path.split("/");if(Z.length>V.length||"full"===O.pathMatch&&(G.hasChildren()||Z.length<V.length))return null;const ge={};for(let et=0;et<Z.length;et++){const ze=Z[et],Zt=V[et];if(ze.startsWith(":"))ge[ze.substring(1)]=Zt;else if(ze!==Zt.path)return null}return{consumed:V.slice(0,Z.length),posParams:ge}}function On(V,G){const O=V?Object.keys(V):void 0,Z=G?Object.keys(G):void 0;if(!O||!Z||O.length!=Z.length)return!1;let ge;for(let et=0;et<O.length;et++)if(ge=O[et],!Gr(V[ge],G[ge]))return!1;return!0}function Gr(V,G){if(Array.isArray(V)&&Array.isArray(G)){if(V.length!==G.length)return!1;const O=[...V].sort(),Z=[...G].sort();return O.every((ge,et)=>Z[et]===ge)}return V===G}function Qr(V){return V.length>0?V[V.length-1]:null}function br(V){return function Fe(V){return!!V&&(V instanceof v.y||(0,ve.m)(V.lift)&&(0,ve.m)(V.subscribe))}(V)?V:(0,d.QGY)(V)?(0,Xe.D)(Promise.resolve(V)):(0,Ke.of)(V)}const $r={exact:function rr(V,G,O){if(!Ar(V.segments,G.segments)||!ri(V.segments,G.segments,O)||V.numberOfChildren!==G.numberOfChildren)return!1;for(const Z in G.children)if(!V.children[Z]||!rr(V.children[Z],G.children[Z],O))return!1;return!0},subset:di},ui={exact:function Zn(V,G){return On(V,G)},subset:function Ei(V,G){return Object.keys(G).length<=Object.keys(V).length&&Object.keys(G).every(O=>Gr(V[O],G[O]))},ignored:()=>!0};function nr(V,G,O){return $r[O.paths](V.root,G.root,O.matrixParams)&&ui[O.queryParams](V.queryParams,G.queryParams)&&!("exact"===O.fragment&&V.fragment!==G.fragment)}function di(V,G,O){return ni(V,G,G.segments,O)}function ni(V,G,O,Z){if(V.segments.length>O.length){const ge=V.segments.slice(0,O.length);return!(!Ar(ge,O)||G.hasChildren()||!ri(ge,O,Z))}if(V.segments.length===O.length){if(!Ar(V.segments,O)||!ri(V.segments,O,Z))return!1;for(const ge in G.children)if(!V.children[ge]||!di(V.children[ge],G.children[ge],Z))return!1;return!0}{const ge=O.slice(0,V.segments.length),et=O.slice(V.segments.length);return!!(Ar(V.segments,ge)&&ri(V.segments,ge,Z)&&V.children[hn])&&ni(V.children[hn],G,et,Z)}}function ri(V,G,O){return G.every((Z,ge)=>ui[O](V[ge].parameters,Z.parameters))}class oi{constructor(G=new Er([],{}),O={},Z=null){this.root=G,this.queryParams=O,this.fragment=Z}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Pr(this.queryParams)),this._queryParamMap}toString(){return Wt.serialize(this)}}class Er{constructor(G,O){this.segments=G,this.children=O,this.parent=null,Object.values(O).forEach(Z=>Z.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return In(this)}}class pr{constructor(G,O){this.path=G,this.parameters=O}get parameterMap(){return this._parameterMap||(this._parameterMap=Pr(this.parameters)),this._parameterMap}toString(){return ee(this)}}function Ar(V,G){return V.length===G.length&&V.every((O,Z)=>O.path===G[Z].path)}let xe=(()=>{class V{}return V.\u0275fac=function(O){return new(O||V)},V.\u0275prov=d.Yz7({token:V,factory:function(){return new gt},providedIn:"root"}),V})();class gt{parse(G){const O=new bn(G);return new oi(O.parseRootSegment(),O.parseQueryParams(),O.parseFragment())}serialize(G){const O=`/${Wn(G.root,!0)}`,Z=function qe(V){const G=Object.keys(V).map(O=>{const Z=V[O];return Array.isArray(Z)?Z.map(ge=>`${Nr(O)}=${Nr(ge)}`).join("&"):`${Nr(O)}=${Nr(Z)}`}).filter(O=>!!O);return G.length?`?${G.join("&")}`:""}(G.queryParams);return`${O}${Z}${"string"==typeof G.fragment?`#${function Rr(V){return encodeURI(V)}(G.fragment)}`:""}`}}const Wt=new gt;function In(V){return V.segments.map(G=>ee(G)).join("/")}function Wn(V,G){if(!V.hasChildren())return In(V);if(G){const O=V.children[hn]?Wn(V.children[hn],!1):"",Z=[];return Object.entries(V.children).forEach(([ge,et])=>{ge!==hn&&Z.push(`${ge}:${Wn(et,!1)}`)}),Z.length>0?`${O}(${Z.join("//")})`:O}{const O=function An(V,G){let O=[];return Object.entries(V.children).forEach(([Z,ge])=>{Z===hn&&(O=O.concat(G(ge,Z)))}),Object.entries(V.children).forEach(([Z,ge])=>{Z!==hn&&(O=O.concat(G(ge,Z)))}),O}(V,(Z,ge)=>ge===hn?[Wn(V.children[hn],!1)]:[`${ge}:${Wn(Z,!1)}`]);return 1===Object.keys(V.children).length&&null!=V.children[hn]?`${In(V)}/${O[0]}`:`${In(V)}/(${O.join("//")})`}}function Kr(V){return encodeURIComponent(V).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Nr(V){return Kr(V).replace(/%3B/gi,";")}function yt(V){return Kr(V).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Te(V){return decodeURIComponent(V)}function se(V){return Te(V.replace(/\+/g,"%20"))}function ee(V){return`${yt(V.path)}${function oe(V){return Object.keys(V).map(G=>`;${yt(G)}=${yt(V[G])}`).join("")}(V.parameters)}`}const xt=/^[^\/()?;#]+/;function rt(V){const G=V.match(xt);return G?G[0]:""}const Vt=/^[^\/()?;=#]+/,Tn=/^[^=?&#]+/,Gn=/^[^&#]+/;class bn{constructor(G){this.url=G,this.remaining=G}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Er([],{}):new Er([],this.parseChildren())}parseQueryParams(){const G={};if(this.consumeOptional("?"))do{this.parseQueryParam(G)}while(this.consumeOptional("&"));return G}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const G=[];for(this.peekStartsWith("(")||G.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),G.push(this.parseSegment());let O={};this.peekStartsWith("/(")&&(this.capture("/"),O=this.parseParens(!0));let Z={};return this.peekStartsWith("(")&&(Z=this.parseParens(!1)),(G.length>0||Object.keys(O).length>0)&&(Z[hn]=new Er(G,O)),Z}parseSegment(){const G=rt(this.remaining);if(""===G&&this.peekStartsWith(";"))throw new d.vHH(4009,!1);return this.capture(G),new pr(Te(G),this.parseMatrixParams())}parseMatrixParams(){const G={};for(;this.consumeOptional(";");)this.parseParam(G);return G}parseParam(G){const O=function nn(V){const G=V.match(Vt);return G?G[0]:""}(this.remaining);if(!O)return;this.capture(O);let Z="";if(this.consumeOptional("=")){const ge=rt(this.remaining);ge&&(Z=ge,this.capture(Z))}G[Te(O)]=Te(Z)}parseQueryParam(G){const O=function wn(V){const G=V.match(Tn);return G?G[0]:""}(this.remaining);if(!O)return;this.capture(O);let Z="";if(this.consumeOptional("=")){const ze=function un(V){const G=V.match(Gn);return G?G[0]:""}(this.remaining);ze&&(Z=ze,this.capture(Z))}const ge=se(O),et=se(Z);if(G.hasOwnProperty(ge)){let ze=G[ge];Array.isArray(ze)||(ze=[ze],G[ge]=ze),ze.push(et)}else G[ge]=et}parseParens(G){const O={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const Z=rt(this.remaining),ge=this.remaining[Z.length];if("/"!==ge&&")"!==ge&&";"!==ge)throw new d.vHH(4010,!1);let et;Z.indexOf(":")>-1?(et=Z.slice(0,Z.indexOf(":")),this.capture(et),this.capture(":")):G&&(et=hn);const ze=this.parseChildren();O[et]=1===Object.keys(ze).length?ze[hn]:new Er([],ze),this.consumeOptional("//")}return O}peekStartsWith(G){return this.remaining.startsWith(G)}consumeOptional(G){return!!this.peekStartsWith(G)&&(this.remaining=this.remaining.substring(G.length),!0)}capture(G){if(!this.consumeOptional(G))throw new d.vHH(4011,!1)}}function Nn(V){return V.segments.length>0?new Er([],{[hn]:V}):V}function Ft(V){const G={};for(const Z of Object.keys(V.children)){const et=Ft(V.children[Z]);if(Z===hn&&0===et.segments.length&&et.hasChildren())for(const[ze,Zt]of Object.entries(et.children))G[ze]=Zt;else(et.segments.length>0||et.hasChildren())&&(G[Z]=et)}return function Kt(V){if(1===V.numberOfChildren&&V.children[hn]){const G=V.children[hn];return new Er(V.segments.concat(G.segments),G.children)}return V}(new Er(V.segments,G))}function mn(V){return V instanceof oi}function gr(V){var G;let O;const et=Nn(function Z(ze){const Zt={};for(const kr of ze.children){const ki=Z(kr);Zt[kr.outlet]=ki}const Mn=new Er(ze.url,Zt);return ze===V&&(O=Mn),Mn}(V.root));return null!==(G=O)&&void 0!==G?G:et}function Fr(V,G,O,Z){let ge=V;for(;ge.parent;)ge=ge.parent;if(0===G.length)return Yr(ge,ge,ge,O,Z);const et=function ns(V){if("string"==typeof V[0]&&1===V.length&&"/"===V[0])return new ei(!0,0,V);let G=0,O=!1;const Z=V.reduce((ge,et,ze)=>{if("object"==typeof et&&null!=et){if(et.outlets){const Zt={};return Object.entries(et.outlets).forEach(([Mn,kr])=>{Zt[Mn]="string"==typeof kr?kr.split("/"):kr}),[...ge,{outlets:Zt}]}if(et.segmentPath)return[...ge,et.segmentPath]}return"string"!=typeof et?[...ge,et]:0===ze?(et.split("/").forEach((Zt,Mn)=>{0==Mn&&"."===Zt||(0==Mn&&""===Zt?O=!0:".."===Zt?G++:""!=Zt&&ge.push(Zt))}),ge):[...ge,et]},[]);return new ei(O,G,Z)}(G);if(et.toRoot())return Yr(ge,ge,new Er([],{}),O,Z);const ze=function ro(V,G,O){if(V.isAbsolute)return new uo(G,!0,0);if(!O)return new uo(G,!1,NaN);if(null===O.parent)return new uo(O,!0,0);const Z=Or(V.commands[0])?0:1;return function cs(V,G,O){let Z=V,ge=G,et=O;for(;et>ge;){if(et-=ge,Z=Z.parent,!Z)throw new d.vHH(4005,!1);ge=Z.segments.length}return new uo(Z,!1,ge-et)}(O,O.segments.length-1+Z,V.numberOfDoubleDots)}(et,ge,V),Zt=ze.processChildren?as(ze.segmentGroup,ze.index,et.commands):wo(ze.segmentGroup,ze.index,et.commands);return Yr(ge,ze.segmentGroup,Zt,O,Z)}function Or(V){return"object"==typeof V&&null!=V&&!V.outlets&&!V.segmentPath}function Ri(V){return"object"==typeof V&&null!=V&&V.outlets}function Yr(V,G,O,Z,ge){let ze,et={};Z&&Object.entries(Z).forEach(([Mn,kr])=>{et[Mn]=Array.isArray(kr)?kr.map(ki=>`${ki}`):`${kr}`}),ze=V===G?O:jr(V,G,O);const Zt=Nn(Ft(ze));return new oi(Zt,et,ge)}function jr(V,G,O){const Z={};return Object.entries(V.children).forEach(([ge,et])=>{Z[ge]=et===G?O:jr(et,G,O)}),new Er(V.segments,Z)}class ei{constructor(G,O,Z){if(this.isAbsolute=G,this.numberOfDoubleDots=O,this.commands=Z,G&&Z.length>0&&Or(Z[0]))throw new d.vHH(4003,!1);const ge=Z.find(Ri);if(ge&&ge!==Qr(Z))throw new d.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class uo{constructor(G,O,Z){this.segmentGroup=G,this.processChildren=O,this.index=Z}}function wo(V,G,O){if(V||(V=new Er([],{})),0===V.segments.length&&V.hasChildren())return as(V,G,O);const Z=function zi(V,G,O){let Z=0,ge=G;const et={match:!1,pathIndex:0,commandIndex:0};for(;ge<V.segments.length;){if(Z>=O.length)return et;const ze=V.segments[ge],Zt=O[Z];if(Ri(Zt))break;const Mn=`${Zt}`,kr=Z<O.length-1?O[Z+1]:null;if(ge>0&&void 0===Mn)break;if(Mn&&kr&&"object"==typeof kr&&void 0===kr.outlets){if(!Zs(Mn,kr,ze))return et;Z+=2}else{if(!Zs(Mn,{},ze))return et;Z++}ge++}return{match:!0,pathIndex:ge,commandIndex:Z}}(V,G,O),ge=O.slice(Z.commandIndex);if(Z.match&&Z.pathIndex<V.segments.length){const et=new Er(V.segments.slice(0,Z.pathIndex),{});return et.children[hn]=new Er(V.segments.slice(Z.pathIndex),V.children),as(et,0,ge)}return Z.match&&0===ge.length?new Er(V.segments,{}):Z.match&&!V.hasChildren()?qs(V,G,O):Z.match?as(V,0,ge):qs(V,G,O)}function as(V,G,O){if(0===O.length)return new Er(V.segments,{});{const Z=function rs(V){return Ri(V[0])?V[0].outlets:{[hn]:V}}(O),ge={};if(!Z[hn]&&V.children[hn]&&1===V.numberOfChildren&&0===V.children[hn].segments.length){const et=as(V.children[hn],G,O);return new Er(V.segments,et.children)}return Object.entries(Z).forEach(([et,ze])=>{"string"==typeof ze&&(ze=[ze]),null!==ze&&(ge[et]=wo(V.children[et],G,ze))}),Object.entries(V.children).forEach(([et,ze])=>{void 0===Z[et]&&(ge[et]=ze)}),new Er(V.segments,ge)}}function qs(V,G,O){const Z=V.segments.slice(0,G);let ge=0;for(;ge<O.length;){const et=O[ge];if(Ri(et)){const Mn=io(et.outlets);return new Er(Z,Mn)}if(0===ge&&Or(O[0])){Z.push(new pr(V.segments[G].path,Bs(O[0]))),ge++;continue}const ze=Ri(et)?et.outlets[hn]:`${et}`,Zt=ge<O.length-1?O[ge+1]:null;ze&&Zt&&Or(Zt)?(Z.push(new pr(ze,Bs(Zt))),ge+=2):(Z.push(new pr(ze,{})),ge++)}return new Er(Z,{})}function io(V){const G={};return Object.entries(V).forEach(([O,Z])=>{"string"==typeof Z&&(Z=[Z]),null!==Z&&(G[O]=qs(new Er([],{}),0,Z))}),G}function Bs(V){const G={};return Object.entries(V).forEach(([O,Z])=>G[O]=`${Z}`),G}function Zs(V,G,O){return V==O.path&&On(G,O.parameters)}const ie="imperative";class pe{constructor(G,O){this.id=G,this.url=O}}class ke extends pe{constructor(G,O,Z="imperative",ge=null){super(G,O),this.type=0,this.navigationTrigger=Z,this.restoredState=ge}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class _e extends pe{constructor(G,O,Z){super(G,O),this.urlAfterRedirects=Z,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class re extends pe{constructor(G,O,Z,ge){super(G,O),this.reason=Z,this.code=ge,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class ye extends pe{constructor(G,O,Z,ge){super(G,O),this.reason=Z,this.code=ge,this.type=16}}class st extends pe{constructor(G,O,Z,ge){super(G,O),this.error=Z,this.target=ge,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class It extends pe{constructor(G,O,Z,ge){super(G,O),this.urlAfterRedirects=Z,this.state=ge,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Bt extends pe{constructor(G,O,Z,ge){super(G,O),this.urlAfterRedirects=Z,this.state=ge,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class tn extends pe{constructor(G,O,Z,ge,et){super(G,O),this.urlAfterRedirects=Z,this.state=ge,this.shouldActivate=et,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Ln extends pe{constructor(G,O,Z,ge){super(G,O),this.urlAfterRedirects=Z,this.state=ge,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Hn extends pe{constructor(G,O,Z,ge){super(G,O),this.urlAfterRedirects=Z,this.state=ge,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Lr{constructor(G){this.route=G,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class ai{constructor(G){this.route=G,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class ms{constructor(G){this.snapshot=G,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Qi{constructor(G){this.snapshot=G,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class $s{constructor(G){this.snapshot=G,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Li{constructor(G){this.snapshot=G,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ir{constructor(G,O,Z){this.routerEvent=G,this.position=O,this.anchor=Z,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class $i{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Rs,this.attachRef=null}}let Rs=(()=>{class V{constructor(){this.contexts=new Map}onChildOutletCreated(O,Z){const ge=this.getOrCreateContext(O);ge.outlet=Z,this.contexts.set(O,ge)}onChildOutletDestroyed(O){const Z=this.getContext(O);Z&&(Z.outlet=null,Z.attachRef=null)}onOutletDeactivated(){const O=this.contexts;return this.contexts=new Map,O}onOutletReAttached(O){this.contexts=O}getOrCreateContext(O){let Z=this.getContext(O);return Z||(Z=new $i,this.contexts.set(O,Z)),Z}getContext(O){return this.contexts.get(O)||null}}return V.\u0275fac=function(O){return new(O||V)},V.\u0275prov=d.Yz7({token:V,factory:V.\u0275fac,providedIn:"root"}),V})();class Io{constructor(G){this._root=G}get root(){return this._root.value}parent(G){const O=this.pathFromRoot(G);return O.length>1?O[O.length-2]:null}children(G){const O=us(G,this._root);return O?O.children.map(Z=>Z.value):[]}firstChild(G){const O=us(G,this._root);return O&&O.children.length>0?O.children[0].value:null}siblings(G){const O=go(G,this._root);return O.length<2?[]:O[O.length-2].children.map(ge=>ge.value).filter(ge=>ge!==G)}pathFromRoot(G){return go(G,this._root).map(O=>O.value)}}function us(V,G){if(V===G.value)return G;for(const O of G.children){const Z=us(V,O);if(Z)return Z}return null}function go(V,G){if(V===G.value)return[G];for(const O of G.children){const Z=go(V,O);if(Z.length)return Z.unshift(G),Z}return[]}class Ki{constructor(G,O){this.value=G,this.children=O}toString(){return`TreeNode(${this.value})`}}function Ds(V){const G={};return V&&V.children.forEach(O=>G[O.value.outlet]=O),G}class ys extends Io{constructor(G,O){super(G),this.snapshot=O,Vs(this,G)}toString(){return this.snapshot.toString()}}function Zr(V,G){const O=function Js(V,G){const ze=new Di([],{},{},"",{},hn,G,null,{});return new pi("",new Ki(ze,[]))}(0,G),Z=new Se.X([new pr("",{})]),ge=new Se.X({}),et=new Se.X({}),ze=new Se.X({}),Zt=new Se.X(""),Mn=new ho(Z,ge,ze,Zt,et,hn,G,O.root);return Mn.snapshot=O.root,new ys(new Ki(Mn,[]),O)}class ho{constructor(G,O,Z,ge,et,ze,Zt,Mn){var kr,ki;this.urlSubject=G,this.paramsSubject=O,this.queryParamsSubject=Z,this.fragmentSubject=ge,this.dataSubject=et,this.outlet=ze,this.component=Zt,this._futureSnapshot=Mn,this.title=null!==(kr=null===(ki=this.dataSubject)||void 0===ki?void 0:ki.pipe((0,Ae.U)(si=>si[Xn])))&&void 0!==kr?kr:(0,Ke.of)(void 0),this.url=G,this.params=O,this.queryParams=Z,this.fragment=ge,this.data=et}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Ae.U)(G=>Pr(G)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Ae.U)(G=>Pr(G)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Oi(V,G="emptyOnly"){const O=V.pathFromRoot;let Z=0;if("always"!==G)for(Z=O.length-1;Z>=1;){const ge=O[Z],et=O[Z-1];if(ge.routeConfig&&""===ge.routeConfig.path)Z--;else{if(et.component)break;Z--}}return function Vr(V){return V.reduce((G,O)=>{var Z;return{params:{...G.params,...O.params},data:{...G.data,...O.data},resolve:{...O.data,...G.resolve,...null===(Z=O.routeConfig)||void 0===Z?void 0:Z.data,...O._resolvedData}}},{params:{},data:{},resolve:{}})}(O.slice(Z))}class Di{get title(){var G;return null===(G=this.data)||void 0===G?void 0:G[Xn]}constructor(G,O,Z,ge,et,ze,Zt,Mn,kr){this.url=G,this.params=O,this.queryParams=Z,this.fragment=ge,this.data=et,this.outlet=ze,this.component=Zt,this.routeConfig=Mn,this._resolve=kr}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Pr(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Pr(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(Z=>Z.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class pi extends Io{constructor(G,O){super(O),this.url=G,Vs(this,O)}toString(){return Vi(this._root)}}function Vs(V,G){G.value._routerState=V,G.children.forEach(O=>Vs(V,O))}function Vi(V){const G=V.children.length>0?` { ${V.children.map(Vi).join(", ")} } `:"";return`${V.value}${G}`}function To(V){if(V.snapshot){const G=V.snapshot,O=V._futureSnapshot;V.snapshot=O,On(G.queryParams,O.queryParams)||V.queryParamsSubject.next(O.queryParams),G.fragment!==O.fragment&&V.fragmentSubject.next(O.fragment),On(G.params,O.params)||V.paramsSubject.next(O.params),function Sr(V,G){if(V.length!==G.length)return!1;for(let O=0;O<V.length;++O)if(!On(V[O],G[O]))return!1;return!0}(G.url,O.url)||V.urlSubject.next(O.url),On(G.data,O.data)||V.dataSubject.next(O.data)}else V.snapshot=V._futureSnapshot,V.dataSubject.next(V._futureSnapshot.data)}function Co(V,G){const O=On(V.params,G.params)&&function yi(V,G){return Ar(V,G)&&V.every((O,Z)=>On(O.parameters,G[Z].parameters))}(V.url,G.url);return O&&!(!V.parent!=!G.parent)&&(!V.parent||Co(V.parent,G.parent))}let Xs=(()=>{class V{constructor(){this.activated=null,this._activatedRoute=null,this.name=hn,this.activateEvents=new d.vpe,this.deactivateEvents=new d.vpe,this.attachEvents=new d.vpe,this.detachEvents=new d.vpe,this.parentContexts=(0,d.f3M)(Rs),this.location=(0,d.f3M)(d.s_b),this.changeDetector=(0,d.f3M)(d.sBO),this.environmentInjector=(0,d.f3M)(d.lqb),this.inputBinder=(0,d.f3M)(Ai,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(O){if(O.name){const{firstChange:Z,previousValue:ge}=O.name;if(Z)return;this.isTrackedInParentContexts(ge)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(ge)),this.initializeOutletWithName()}}ngOnDestroy(){var O;this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),null===(O=this.inputBinder)||void 0===O||O.unsubscribeFromRouteData(this)}isTrackedInParentContexts(O){var Z;return(null===(Z=this.parentContexts.getContext(O))||void 0===Z?void 0:Z.outlet)===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const O=this.parentContexts.getContext(this.name);null!=O&&O.route&&(O.attachRef?this.attach(O.attachRef,O.route):this.activateWith(O.route,O.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new d.vHH(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new d.vHH(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new d.vHH(4012,!1);this.location.detach();const O=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(O.instance),O}attach(O,Z){var ge;this.activated=O,this._activatedRoute=Z,this.location.insert(O.hostView),null===(ge=this.inputBinder)||void 0===ge||ge.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(O.instance)}deactivate(){if(this.activated){const O=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(O)}}activateWith(O,Z){var ge;if(this.isActivated)throw new d.vHH(4013,!1);this._activatedRoute=O;const et=this.location,Zt=O.snapshot.component,Mn=this.parentContexts.getOrCreateContext(this.name).children,kr=new Yo(O,Mn,et.injector);this.activated=et.createComponent(Zt,{index:et.length,injector:kr,environmentInjector:null!=Z?Z:this.environmentInjector}),this.changeDetector.markForCheck(),null===(ge=this.inputBinder)||void 0===ge||ge.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}}return V.\u0275fac=function(O){return new(O||V)},V.\u0275dir=d.lG2({type:V,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[d.TTD]}),V})();class Yo{constructor(G,O,Z){this.route=G,this.childContexts=O,this.parent=Z}get(G,O){return G===ho?this.route:G===Rs?this.childContexts:this.parent.get(G,O)}}const Ai=new d.OlP("");let hr=(()=>{class V{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(O){this.unsubscribeFromRouteData(O),this.subscribeToRouteData(O)}unsubscribeFromRouteData(O){var Z;null===(Z=this.outletDataSubscriptions.get(O))||void 0===Z||Z.unsubscribe(),this.outletDataSubscriptions.delete(O)}subscribeToRouteData(O){const{activatedRoute:Z}=O,ge=mt([Z.queryParams,Z.params,Z.data]).pipe((0,Je.w)(([et,ze,Zt],Mn)=>(Zt={...et,...ze,...Zt},0===Mn?(0,Ke.of)(Zt):Promise.resolve(Zt)))).subscribe(et=>{if(!O.isActivated||!O.activatedComponentRef||O.activatedRoute!==Z||null===Z.component)return void this.unsubscribeFromRouteData(O);const ze=(0,d.qFp)(Z.component);if(ze)for(const{templateName:Zt}of ze.inputs)O.activatedComponentRef.setInput(Zt,et[Zt]);else this.unsubscribeFromRouteData(O)});this.outletDataSubscriptions.set(O,ge)}}return V.\u0275fac=function(O){return new(O||V)},V.\u0275prov=d.Yz7({token:V,factory:V.\u0275fac}),V})();function so(V,G,O){if(O&&V.shouldReuseRoute(G.value,O.value.snapshot)){const Z=O.value;Z._futureSnapshot=G.value;const ge=function Wo(V,G,O){return G.children.map(Z=>{for(const ge of O.children)if(V.shouldReuseRoute(Z.value,ge.value.snapshot))return so(V,Z,ge);return so(V,Z)})}(V,G,O);return new Ki(Z,ge)}{if(V.shouldAttach(G.value)){const et=V.retrieve(G.value);if(null!==et){const ze=et.route;return ze.value._futureSnapshot=G.value,ze.children=G.children.map(Zt=>so(V,Zt)),ze}}const Z=function ss(V){return new ho(new Se.X(V.url),new Se.X(V.params),new Se.X(V.queryParams),new Se.X(V.fragment),new Se.X(V.data),V.outlet,V.component,V)}(G.value),ge=G.children.map(et=>so(V,et));return new Ki(Z,ge)}}const Do="ngNavigationCancelingError";function Ao(V,G){const{redirectTo:O,navigationBehaviorOptions:Z}=mn(G)?{redirectTo:G,navigationBehaviorOptions:void 0}:G,ge=Oo(!1,0,G);return ge.url=O,ge.navigationBehaviorOptions=Z,ge}function Oo(V,G,O){const Z=new Error("NavigationCancelingError: "+(V||""));return Z[Do]=!0,Z.cancellationCode=G,O&&(Z.url=O),Z}function Es(V){return ko(V)&&mn(V.url)}function ko(V){return V&&V[Do]}let Ws=(()=>{class V{}return V.\u0275fac=function(O){return new(O||V)},V.\u0275cmp=d.Xpm({type:V,selectors:[["ng-component"]],standalone:!0,features:[d.jDz],decls:1,vars:0,template:function(O,Z){1&O&&d._UZ(0,"router-outlet")},dependencies:[Xs],encapsulation:2}),V})();function No(V){const G=V.children&&V.children.map(No),O=G?{...V,children:G}:{...V};return!O.component&&!O.loadComponent&&(G||O.loadChildren)&&O.outlet&&O.outlet!==hn&&(O.component=Ws),O}function ds(V){return V.outlet||hn}function ks(V){var G;if(!V)return null;if(null!==(G=V.routeConfig)&&void 0!==G&&G._injector)return V.routeConfig._injector;for(let O=V.parent;O;O=O.parent){const Z=O.routeConfig;if(null!=Z&&Z._loadedInjector)return Z._loadedInjector;if(null!=Z&&Z._injector)return Z._injector}return null}class k{constructor(G,O,Z,ge,et){this.routeReuseStrategy=G,this.futureState=O,this.currState=Z,this.forwardEvent=ge,this.inputBindingEnabled=et}activate(G){const O=this.futureState._root,Z=this.currState?this.currState._root:null;this.deactivateChildRoutes(O,Z,G),To(this.futureState.root),this.activateChildRoutes(O,Z,G)}deactivateChildRoutes(G,O,Z){const ge=Ds(O);G.children.forEach(et=>{const ze=et.value.outlet;this.deactivateRoutes(et,ge[ze],Z),delete ge[ze]}),Object.values(ge).forEach(et=>{this.deactivateRouteAndItsChildren(et,Z)})}deactivateRoutes(G,O,Z){const ge=G.value,et=O?O.value:null;if(ge===et)if(ge.component){const ze=Z.getContext(ge.outlet);ze&&this.deactivateChildRoutes(G,O,ze.children)}else this.deactivateChildRoutes(G,O,Z);else et&&this.deactivateRouteAndItsChildren(O,Z)}deactivateRouteAndItsChildren(G,O){G.value.component&&this.routeReuseStrategy.shouldDetach(G.value.snapshot)?this.detachAndStoreRouteSubtree(G,O):this.deactivateRouteAndOutlet(G,O)}detachAndStoreRouteSubtree(G,O){const Z=O.getContext(G.value.outlet),ge=Z&&G.value.component?Z.children:O,et=Ds(G);for(const ze of Object.keys(et))this.deactivateRouteAndItsChildren(et[ze],ge);if(Z&&Z.outlet){const ze=Z.outlet.detach(),Zt=Z.children.onOutletDeactivated();this.routeReuseStrategy.store(G.value.snapshot,{componentRef:ze,route:G,contexts:Zt})}}deactivateRouteAndOutlet(G,O){const Z=O.getContext(G.value.outlet),ge=Z&&G.value.component?Z.children:O,et=Ds(G);for(const ze of Object.keys(et))this.deactivateRouteAndItsChildren(et[ze],ge);Z&&(Z.outlet&&(Z.outlet.deactivate(),Z.children.onOutletDeactivated()),Z.attachRef=null,Z.route=null)}activateChildRoutes(G,O,Z){const ge=Ds(O);G.children.forEach(et=>{this.activateRoutes(et,ge[et.value.outlet],Z),this.forwardEvent(new Li(et.value.snapshot))}),G.children.length&&this.forwardEvent(new Qi(G.value.snapshot))}activateRoutes(G,O,Z){const ge=G.value,et=O?O.value:null;if(To(ge),ge===et)if(ge.component){const ze=Z.getOrCreateContext(ge.outlet);this.activateChildRoutes(G,O,ze.children)}else this.activateChildRoutes(G,O,Z);else if(ge.component){const ze=Z.getOrCreateContext(ge.outlet);if(this.routeReuseStrategy.shouldAttach(ge.snapshot)){const Zt=this.routeReuseStrategy.retrieve(ge.snapshot);this.routeReuseStrategy.store(ge.snapshot,null),ze.children.onOutletReAttached(Zt.contexts),ze.attachRef=Zt.componentRef,ze.route=Zt.route.value,ze.outlet&&ze.outlet.attach(Zt.componentRef,Zt.route.value),To(Zt.route.value),this.activateChildRoutes(G,null,ze.children)}else{const Zt=ks(ge.snapshot);ze.attachRef=null,ze.route=ge,ze.injector=Zt,ze.outlet&&ze.outlet.activateWith(ge,ze.injector),this.activateChildRoutes(G,null,ze.children)}}else this.activateChildRoutes(G,null,Z)}}class ue{constructor(G){this.path=G,this.route=this.path[this.path.length-1]}}class N{constructor(G,O){this.component=G,this.route=O}}function de(V,G,O){const Z=V._root;return xr(Z,G?G._root:null,O,[Z.value])}function Sn(V,G){const O=Symbol(),Z=G.get(V,O);return Z===O?"function"!=typeof V||(0,d.Z0I)(V)?G.get(V):V:Z}function xr(V,G,O,Z,ge={canDeactivateChecks:[],canActivateChecks:[]}){const et=Ds(G);return V.children.forEach(ze=>{(function Jr(V,G,O,Z,ge={canDeactivateChecks:[],canActivateChecks:[]}){const et=V.value,ze=G?G.value:null,Zt=O?O.getContext(V.value.outlet):null;if(ze&&et.routeConfig===ze.routeConfig){const Mn=function xi(V,G,O){if("function"==typeof O)return O(V,G);switch(O){case"pathParamsChange":return!Ar(V.url,G.url);case"pathParamsOrQueryParamsChange":return!Ar(V.url,G.url)||!On(V.queryParams,G.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Co(V,G)||!On(V.queryParams,G.queryParams);default:return!Co(V,G)}}(ze,et,et.routeConfig.runGuardsAndResolvers);Mn?ge.canActivateChecks.push(new ue(Z)):(et.data=ze.data,et._resolvedData=ze._resolvedData),xr(V,G,et.component?Zt?Zt.children:null:O,Z,ge),Mn&&Zt&&Zt.outlet&&Zt.outlet.isActivated&&ge.canDeactivateChecks.push(new N(Zt.outlet.component,ze))}else ze&&Si(G,Zt,ge),ge.canActivateChecks.push(new ue(Z)),xr(V,null,et.component?Zt?Zt.children:null:O,Z,ge)})(ze,et[ze.value.outlet],O,Z.concat([ze.value]),ge),delete et[ze.value.outlet]}),Object.entries(et).forEach(([ze,Zt])=>Si(Zt,O.getContext(ze),ge)),ge}function Si(V,G,O){const Z=Ds(V),ge=V.value;Object.entries(Z).forEach(([et,ze])=>{Si(ze,ge.component?G?G.children.getContext(et):null:G,O)}),O.canDeactivateChecks.push(new N(ge.component&&G&&G.outlet&&G.outlet.isActivated?G.outlet.component:null,ge))}function js(V){return"function"==typeof V}function F(V){return V instanceof $e.K||"EmptyError"===(null==V?void 0:V.name)}const fe=Symbol("INITIAL_VALUE");function dt(){return(0,Je.w)(V=>mt(V.map(G=>G.pipe((0,ut.q)(1),(0,_t.O)(fe)))).pipe((0,Ae.U)(G=>{for(const O of G)if(!0!==O){if(O===fe)return fe;if(!1===O||O instanceof oi)return O}return!0}),(0,tt.h)(G=>G!==fe),(0,ut.q)(1)))}function ao(V){return(0,Ct.z)((0,Pt.b)(G=>{if(mn(G))throw Ao(0,G)}),(0,Ae.U)(G=>!0===G))}class Ss{constructor(G){this.segmentGroup=G||null}}class Ti{constructor(G){this.urlTree=G}}function Ns(V){return Tt(new Ss(V))}function fo(V){return Tt(new Ti(V))}class ya{constructor(G,O){this.urlSerializer=G,this.urlTree=O}noMatchError(G){return new d.vHH(4002,!1)}lineralizeSegments(G,O){let Z=[],ge=O.root;for(;;){if(Z=Z.concat(ge.segments),0===ge.numberOfChildren)return(0,Ke.of)(Z);if(ge.numberOfChildren>1||!ge.children[hn])return Tt(new d.vHH(4e3,!1));ge=ge.children[hn]}}applyRedirectCommands(G,O,Z){return this.applyRedirectCreateUrlTree(O,this.urlSerializer.parse(O),G,Z)}applyRedirectCreateUrlTree(G,O,Z,ge){const et=this.createSegmentGroup(G,O.root,Z,ge);return new oi(et,this.createQueryParams(O.queryParams,this.urlTree.queryParams),O.fragment)}createQueryParams(G,O){const Z={};return Object.entries(G).forEach(([ge,et])=>{if("string"==typeof et&&et.startsWith(":")){const Zt=et.substring(1);Z[ge]=O[Zt]}else Z[ge]=et}),Z}createSegmentGroup(G,O,Z,ge){const et=this.createSegments(G,O.segments,Z,ge);let ze={};return Object.entries(O.children).forEach(([Zt,Mn])=>{ze[Zt]=this.createSegmentGroup(G,Mn,Z,ge)}),new Er(et,ze)}createSegments(G,O,Z,ge){return O.map(et=>et.path.startsWith(":")?this.findPosParam(G,et,ge):this.findOrReturn(et,Z))}findPosParam(G,O,Z){const ge=Z[O.path.substring(1)];if(!ge)throw new d.vHH(4001,!1);return ge}findOrReturn(G,O){let Z=0;for(const ge of O){if(ge.path===G.path)return O.splice(Z),ge;Z++}return G}}const oa={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Na(V,G,O,Z,ge){const et=ja(V,G,O);return et.matched?(Z=function Yi(V,G){var O;return V.providers&&!V._injector&&(V._injector=(0,d.MMx)(V.providers,G,`Route: ${V.path}`)),null!==(O=V._injector)&&void 0!==O?O:G}(G,Z),function hs(V,G,O,Z){const ge=G.canMatch;if(!ge||0===ge.length)return(0,Ke.of)(!0);const et=ge.map(ze=>{const Zt=Sn(ze,V);return br(function $(V){return V&&js(V.canMatch)}(Zt)?Zt.canMatch(G,O):V.runInContext(()=>Zt(G,O)))});return(0,Ke.of)(et).pipe(dt(),ao())}(Z,G,O).pipe((0,Ae.U)(ze=>!0===ze?et:{...oa}))):(0,Ke.of)(et)}function ja(V,G,O){var Z,ge;if(""===G.path)return"full"===G.pathMatch&&(V.hasChildren()||O.length>0)?{...oa}:{matched:!0,consumedSegments:[],remainingSegments:O,parameters:{},positionalParamSegments:{}};const ze=(G.matcher||Wr)(O,V,G);if(!ze)return{...oa};const Zt={};Object.entries(null!==(Z=ze.posParams)&&void 0!==Z?Z:{}).forEach(([kr,ki])=>{Zt[kr]=ki.path});const Mn=ze.consumed.length>0?{...Zt,...ze.consumed[ze.consumed.length-1].parameters}:Zt;return{matched:!0,consumedSegments:ze.consumed,remainingSegments:O.slice(ze.consumed.length),parameters:Mn,positionalParamSegments:null!==(ge=ze.posParams)&&void 0!==ge?ge:{}}}function Qo(V,G,O,Z){return O.length>0&&function gl(V,G,O){return O.some(Z=>zo(V,G,Z)&&ds(Z)!==hn)}(V,O,Z)?{segmentGroup:new Er(G,Ts(Z,new Er(O,V.children))),slicedSegments:[]}:0===O.length&&function Fa(V,G,O){return O.some(Z=>zo(V,G,Z))}(V,O,Z)?{segmentGroup:new Er(V.segments,za(V,0,O,Z,V.children)),slicedSegments:O}:{segmentGroup:new Er(V.segments,V.children),slicedSegments:O}}function za(V,G,O,Z,ge){const et={};for(const ze of Z)if(zo(V,O,ze)&&!ge[ds(ze)]){const Zt=new Er([],{});et[ds(ze)]=Zt}return{...ge,...et}}function Ts(V,G){const O={};O[hn]=G;for(const Z of V)if(""===Z.path&&ds(Z)!==hn){const ge=new Er([],{});O[ds(Z)]=ge}return O}function zo(V,G,O){return(!(V.hasChildren()||G.length>0)||"full"!==O.pathMatch)&&""===O.path}class le{constructor(G,O,Z,ge,et,ze,Zt){this.injector=G,this.configLoader=O,this.rootComponentType=Z,this.config=ge,this.urlTree=et,this.paramsInheritanceStrategy=ze,this.urlSerializer=Zt,this.allowRedirects=!0,this.applyRedirects=new ya(this.urlSerializer,this.urlTree)}noMatchError(G){return new d.vHH(4002,!1)}recognize(){const G=Qo(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,G,hn).pipe(sn(O=>{if(O instanceof Ti)return this.allowRedirects=!1,this.urlTree=O.urlTree,this.match(O.urlTree);throw O instanceof Ss?this.noMatchError(O):O}),(0,Ae.U)(O=>{const Z=new Di([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},hn,this.rootComponentType,null,{}),ge=new Ki(Z,O),et=new pi("",ge),ze=function Qn(V,G,O=null,Z=null){return Fr(gr(V),G,O,Z)}(Z,[],this.urlTree.queryParams,this.urlTree.fragment);return ze.queryParams=this.urlTree.queryParams,et.url=this.urlSerializer.serialize(ze),this.inheritParamsAndData(et._root),{state:et,tree:ze}}))}match(G){return this.processSegmentGroup(this.injector,this.config,G.root,hn).pipe(sn(Z=>{throw Z instanceof Ss?this.noMatchError(Z):Z}))}inheritParamsAndData(G){const O=G.value,Z=Oi(O,this.paramsInheritanceStrategy);O.params=Object.freeze(Z.params),O.data=Object.freeze(Z.data),G.children.forEach(ge=>this.inheritParamsAndData(ge))}processSegmentGroup(G,O,Z,ge){return 0===Z.segments.length&&Z.hasChildren()?this.processChildren(G,O,Z):this.processSegment(G,O,Z,Z.segments,ge,!0)}processChildren(G,O,Z){const ge=[];for(const et of Object.keys(Z.children))"primary"===et?ge.unshift(et):ge.push(et);return(0,Xe.D)(ge).pipe(jt(et=>{const ze=Z.children[et],Zt=function $o(V,G){const O=V.filter(Z=>ds(Z)===G);return O.push(...V.filter(Z=>ds(Z)!==G)),O}(O,et);return this.processSegmentGroup(G,Zt,ze,et)}),(0,ln.R)((et,ze)=>(et.push(...ze),et)),(0,Oe.d)(null),function fn(V,G){const O=arguments.length>=2;return Z=>Z.pipe(V?(0,tt.h)((ge,et)=>V(ge,et,Z)):Qe.y,rn(1),O?(0,Oe.d)(G):(0,wt.T)(()=>new $e.K))}(),(0,Ge.z)(et=>{if(null===et)return Ns(Z);const ze=lt(et);return function De(V){V.sort((G,O)=>G.value.outlet===hn?-1:O.value.outlet===hn?1:G.value.outlet.localeCompare(O.value.outlet))}(ze),(0,Ke.of)(ze)}))}processSegment(G,O,Z,ge,et,ze){return(0,Xe.D)(O).pipe(jt(Zt=>{var Mn;return this.processSegmentAgainstRoute(null!==(Mn=Zt._injector)&&void 0!==Mn?Mn:G,O,Zt,Z,ge,et,ze).pipe(sn(kr=>{if(kr instanceof Ss)return(0,Ke.of)(null);throw kr}))}),(0,ft.P)(Zt=>!!Zt),sn(Zt=>{if(F(Zt))return function M(V,G,O){return 0===G.length&&!V.children[O]}(Z,ge,et)?(0,Ke.of)([]):Ns(Z);throw Zt}))}processSegmentAgainstRoute(G,O,Z,ge,et,ze,Zt){return function sl(V,G,O,Z){return!!(ds(V)===Z||Z!==hn&&zo(G,O,V))&&("**"===V.path||ja(G,V,O).matched)}(Z,ge,et,ze)?void 0===Z.redirectTo?this.matchSegmentAgainstRoute(G,ge,Z,et,ze,Zt):Zt&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(G,ge,O,Z,et,ze):Ns(ge):Ns(ge)}expandSegmentAgainstRouteUsingRedirect(G,O,Z,ge,et,ze){return"**"===ge.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(G,Z,ge,ze):this.expandRegularSegmentAgainstRouteUsingRedirect(G,O,Z,ge,et,ze)}expandWildCardWithParamsAgainstRouteUsingRedirect(G,O,Z,ge){const et=this.applyRedirects.applyRedirectCommands([],Z.redirectTo,{});return Z.redirectTo.startsWith("/")?fo(et):this.applyRedirects.lineralizeSegments(Z,et).pipe((0,Ge.z)(ze=>{const Zt=new Er(ze,{});return this.processSegment(G,O,Zt,ze,ge,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(G,O,Z,ge,et,ze){const{matched:Zt,consumedSegments:Mn,remainingSegments:kr,positionalParamSegments:ki}=ja(O,ge,et);if(!Zt)return Ns(O);const si=this.applyRedirects.applyRedirectCommands(Mn,ge.redirectTo,ki);return ge.redirectTo.startsWith("/")?fo(si):this.applyRedirects.lineralizeSegments(ge,si).pipe((0,Ge.z)(vo=>this.processSegment(G,Z,O,vo.concat(kr),ze,!1)))}matchSegmentAgainstRoute(G,O,Z,ge,et,ze){let Zt;if("**"===Z.path){var Mn,kr;const ki=ge.length>0?Qr(ge).parameters:{},si=new Di(ge,ki,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Yt(Z),ds(Z),null!==(Mn=null!==(kr=Z.component)&&void 0!==kr?kr:Z._loadedComponent)&&void 0!==Mn?Mn:null,Z,on(Z));Zt=(0,Ke.of)({snapshot:si,consumedSegments:[],remainingSegments:[]}),O.children={}}else Zt=Na(O,Z,ge,G).pipe((0,Ae.U)(({matched:ki,consumedSegments:si,remainingSegments:vo,parameters:I})=>{var y,h;return ki?{snapshot:new Di(si,I,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Yt(Z),ds(Z),null!==(y=null!==(h=Z.component)&&void 0!==h?h:Z._loadedComponent)&&void 0!==y?y:null,Z,on(Z)),consumedSegments:si,remainingSegments:vo}:null}));return Zt.pipe((0,Je.w)(ki=>{var si;return null===ki?Ns(O):(G=null!==(si=Z._injector)&&void 0!==si?si:G,this.getChildConfig(G,Z,ge).pipe((0,Je.w)(({routes:vo})=>{var I;const y=null!==(I=Z._loadedInjector)&&void 0!==I?I:G,{snapshot:h,consumedSegments:m,remainingSegments:b}=ki,{segmentGroup:T,slicedSegments:x}=Qo(O,m,b,vo);if(0===x.length&&T.hasChildren())return this.processChildren(y,vo,T).pipe((0,Ae.U)(W=>null===W?null:[new Ki(h,W)]));if(0===vo.length&&0===x.length)return(0,Ke.of)([new Ki(h,[])]);const B=ds(Z)===et;return this.processSegment(y,vo,T,x,B?hn:et,!0).pipe((0,Ae.U)(W=>[new Ki(h,W)]))})))}))}getChildConfig(G,O,Z){return O.children?(0,Ke.of)({routes:O.children,injector:G}):O.loadChildren?void 0!==O._loadedRoutes?(0,Ke.of)({routes:O._loadedRoutes,injector:O._loadedInjector}):function qi(V,G,O,Z){const ge=G.canLoad;if(void 0===ge||0===ge.length)return(0,Ke.of)(!0);const et=ge.map(ze=>{const Zt=Sn(ze,V);return br(function eo(V){return V&&js(V.canLoad)}(Zt)?Zt.canLoad(G,O):V.runInContext(()=>Zt(G,O)))});return(0,Ke.of)(et).pipe(dt(),ao())}(G,O,Z).pipe((0,Ge.z)(ge=>ge?this.configLoader.loadChildren(G,O).pipe((0,Pt.b)(et=>{O._loadedRoutes=et.routes,O._loadedInjector=et.injector})):function Lo(V){return Tt(Oo(!1,3))}())):(0,Ke.of)({routes:[],injector:G})}}function je(V){const G=V.value.routeConfig;return G&&""===G.path}function lt(V){const G=[],O=new Set;for(const Z of V){if(!je(Z)){G.push(Z);continue}const ge=G.find(et=>Z.value.routeConfig===et.value.routeConfig);void 0!==ge?(ge.children.push(...Z.children),O.add(ge)):G.push(Z)}for(const Z of O){const ge=lt(Z.children);G.push(new Ki(Z.value,ge))}return G.filter(Z=>!O.has(Z))}function Yt(V){return V.data||{}}function on(V){return V.resolve||{}}function q(V){return"string"==typeof V.title||null===V.title}function he(V){return(0,Je.w)(G=>{const O=V(G);return O?(0,Xe.D)(O).pipe((0,Ae.U)(()=>G)):(0,Ke.of)(G)})}const J=new d.OlP("ROUTES");let Ne=(()=>{class V{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,d.f3M)(d.Sil)}loadComponent(O){if(this.componentLoaders.get(O))return this.componentLoaders.get(O);if(O._loadedComponent)return(0,Ke.of)(O._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(O);const Z=br(O.loadComponent()).pipe((0,Ae.U)(vn),(0,Pt.b)(et=>{this.onLoadEndListener&&this.onLoadEndListener(O),O._loadedComponent=et}),(0,tr.x)(()=>{this.componentLoaders.delete(O)})),ge=new St(Z,()=>new kt.x).pipe(Gt());return this.componentLoaders.set(O,ge),ge}loadChildren(O,Z){if(this.childrenLoaders.get(Z))return this.childrenLoaders.get(Z);if(Z._loadedRoutes)return(0,Ke.of)({routes:Z._loadedRoutes,injector:Z._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(Z);const et=this.loadModuleFactoryOrRoutes(Z.loadChildren).pipe((0,Ae.U)(Zt=>{this.onLoadEndListener&&this.onLoadEndListener(Z);let Mn,kr;return Array.isArray(Zt)?kr=Zt:(Mn=Zt.create(O).injector,kr=Mn.get(J,[],d.XFs.Self|d.XFs.Optional).flat()),{routes:kr.map(No),injector:Mn}}),(0,tr.x)(()=>{this.childrenLoaders.delete(Z)})),ze=new St(et,()=>new kt.x).pipe(Gt());return this.childrenLoaders.set(Z,ze),ze}loadModuleFactoryOrRoutes(O){return br(O()).pipe((0,Ae.U)(vn),(0,Ge.z)(Z=>Z instanceof d.YKP||Array.isArray(Z)?(0,Ke.of)(Z):(0,Xe.D)(this.compiler.compileModuleAsync(Z))))}}return V.\u0275fac=function(O){return new(O||V)},V.\u0275prov=d.Yz7({token:V,factory:V.\u0275fac,providedIn:"root"}),V})();function vn(V){return function bt(V){return V&&"object"==typeof V&&"default"in V}(V)?V.default:V}let kn=(()=>{class V{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new kt.x,this.configLoader=(0,d.f3M)(Ne),this.environmentInjector=(0,d.f3M)(d.lqb),this.urlSerializer=(0,d.f3M)(xe),this.rootContexts=(0,d.f3M)(Rs),this.inputBindingEnabled=null!==(0,d.f3M)(Ai,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,Ke.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=ge=>this.events.next(new ai(ge)),this.configLoader.onLoadStartListener=ge=>this.events.next(new Lr(ge))}complete(){var O;null===(O=this.transitions)||void 0===O||O.complete()}handleNavigationRequest(O){var Z;const ge=++this.navigationId;null===(Z=this.transitions)||void 0===Z||Z.next({...this.transitions.value,...O,id:ge})}setupNavigations(O){return this.transitions=new Se.X({id:0,currentUrlTree:O.currentUrlTree,currentRawUrl:O.currentUrlTree,extractedUrl:O.urlHandlingStrategy.extract(O.currentUrlTree),urlAfterRedirects:O.urlHandlingStrategy.extract(O.currentUrlTree),rawUrl:O.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:ie,restoredState:null,currentSnapshot:O.routerState.snapshot,targetSnapshot:null,currentRouterState:O.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,tt.h)(Z=>0!==Z.id),(0,Ae.U)(Z=>({...Z,extractedUrl:O.urlHandlingStrategy.extract(Z.rawUrl)})),(0,Je.w)(Z=>{let ge=!1,et=!1;return(0,Ke.of)(Z).pipe((0,Pt.b)(ze=>{this.currentNavigation={id:ze.id,initialUrl:ze.rawUrl,extractedUrl:ze.extractedUrl,trigger:ze.source,extras:ze.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,Je.w)(ze=>{var Zt;const Mn=O.browserUrlTree.toString(),kr=!O.navigated||ze.extractedUrl.toString()!==Mn||Mn!==O.currentUrlTree.toString(),ki=null!==(Zt=ze.extras.onSameUrlNavigation)&&void 0!==Zt?Zt:O.onSameUrlNavigation;if(!kr&&"reload"!==ki){const si="";return this.events.next(new ye(ze.id,O.serializeUrl(Z.rawUrl),si,0)),O.rawUrlTree=ze.rawUrl,ze.resolve(null),Dt.E}if(O.urlHandlingStrategy.shouldProcessUrl(ze.rawUrl))return li(ze.source)&&(O.browserUrlTree=ze.extractedUrl),(0,Ke.of)(ze).pipe((0,Je.w)(si=>{var vo,I;const y=null===(vo=this.transitions)||void 0===vo?void 0:vo.getValue();return this.events.next(new ke(si.id,this.urlSerializer.serialize(si.extractedUrl),si.source,si.restoredState)),y!==(null===(I=this.transitions)||void 0===I?void 0:I.getValue())?Dt.E:Promise.resolve(si)}),function Bn(V,G,O,Z,ge,et){return(0,Ge.z)(ze=>function X(V,G,O,Z,ge,et,ze="emptyOnly"){return new le(V,G,O,Z,ge,ze,et).recognize()}(V,G,O,Z,ze.extractedUrl,ge,et).pipe((0,Ae.U)(({state:Zt,tree:Mn})=>({...ze,targetSnapshot:Zt,urlAfterRedirects:Mn}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,O.config,this.urlSerializer,O.paramsInheritanceStrategy),(0,Pt.b)(si=>{if(Z.targetSnapshot=si.targetSnapshot,Z.urlAfterRedirects=si.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:si.urlAfterRedirects},"eager"===O.urlUpdateStrategy){if(!si.extras.skipLocationChange){const I=O.urlHandlingStrategy.merge(si.urlAfterRedirects,si.rawUrl);O.setBrowserUrl(I,si)}O.browserUrlTree=si.urlAfterRedirects}const vo=new It(si.id,this.urlSerializer.serialize(si.extractedUrl),this.urlSerializer.serialize(si.urlAfterRedirects),si.targetSnapshot);this.events.next(vo)}));if(kr&&O.urlHandlingStrategy.shouldProcessUrl(O.rawUrlTree)){const{id:si,extractedUrl:vo,source:I,restoredState:y,extras:h}=ze,m=new ke(si,this.urlSerializer.serialize(vo),I,y);this.events.next(m);const b=Zr(0,this.rootComponentType).snapshot;return Z={...ze,targetSnapshot:b,urlAfterRedirects:vo,extras:{...h,skipLocationChange:!1,replaceUrl:!1}},(0,Ke.of)(Z)}{const si="";return this.events.next(new ye(ze.id,O.serializeUrl(Z.extractedUrl),si,1)),O.rawUrlTree=ze.rawUrl,ze.resolve(null),Dt.E}}),(0,Pt.b)(ze=>{const Zt=new Bt(ze.id,this.urlSerializer.serialize(ze.extractedUrl),this.urlSerializer.serialize(ze.urlAfterRedirects),ze.targetSnapshot);this.events.next(Zt)}),(0,Ae.U)(ze=>Z={...ze,guards:de(ze.targetSnapshot,ze.currentSnapshot,this.rootContexts)}),function Ot(V,G){return(0,Ge.z)(O=>{const{targetSnapshot:Z,currentSnapshot:ge,guards:{canActivateChecks:et,canDeactivateChecks:ze}}=O;return 0===ze.length&&0===et.length?(0,Ke.of)({...O,guardsResult:!0}):function Ht(V,G,O,Z){return(0,Xe.D)(V).pipe((0,Ge.z)(ge=>function _i(V,G,O,Z,ge){const et=G&&G.routeConfig?G.routeConfig.canDeactivate:null;if(!et||0===et.length)return(0,Ke.of)(!0);const ze=et.map(Zt=>{var Mn;const kr=null!==(Mn=ks(G))&&void 0!==Mn?Mn:ge,ki=Sn(Zt,kr);return br(function ae(V){return V&&js(V.canDeactivate)}(ki)?ki.canDeactivate(V,G,O,Z):kr.runInContext(()=>ki(V,G,O,Z))).pipe((0,ft.P)())});return(0,Ke.of)(ze).pipe(dt())}(ge.component,ge.route,O,G,Z)),(0,ft.P)(ge=>!0!==ge,!0))}(ze,Z,ge,V).pipe((0,Ge.z)(Zt=>Zt&&function ws(V){return"boolean"==typeof V}(Zt)?function Pn(V,G,O,Z){return(0,Xe.D)(G).pipe(jt(ge=>(0,Lt.z)(function ii(V,G){return null!==V&&G&&G(new ms(V)),(0,Ke.of)(!0)}(ge.route.parent,Z),function zr(V,G){return null!==V&&G&&G(new $s(V)),(0,Ke.of)(!0)}(ge.route,Z),function hi(V,G,O){const Z=G[G.length-1],et=G.slice(0,G.length-1).reverse().map(ze=>function Ze(V){const G=V.routeConfig?V.routeConfig.canActivateChild:null;return G&&0!==G.length?{node:V,guards:G}:null}(ze)).filter(ze=>null!==ze).map(ze=>ht(()=>{const Zt=ze.guards.map(Mn=>{var kr;const ki=null!==(kr=ks(ze.node))&&void 0!==kr?kr:O,si=Sn(Mn,ki);return br(function be(V){return V&&js(V.canActivateChild)}(si)?si.canActivateChild(Z,V):ki.runInContext(()=>si(Z,V))).pipe((0,ft.P)())});return(0,Ke.of)(Zt).pipe(dt())}));return(0,Ke.of)(et).pipe(dt())}(V,ge.path,O),function Tr(V,G,O){const Z=G.routeConfig?G.routeConfig.canActivate:null;if(!Z||0===Z.length)return(0,Ke.of)(!0);const ge=Z.map(et=>ht(()=>{var ze;const Zt=null!==(ze=ks(G))&&void 0!==ze?ze:O,Mn=Sn(et,Zt);return br(function Fo(V){return V&&js(V.canActivate)}(Mn)?Mn.canActivate(G,V):Zt.runInContext(()=>Mn(G,V))).pipe((0,ft.P)())}));return(0,Ke.of)(ge).pipe(dt())}(V,ge.route,O))),(0,ft.P)(ge=>!0!==ge,!0))}(Z,et,V,G):(0,Ke.of)(Zt)),(0,Ae.U)(Zt=>({...O,guardsResult:Zt})))})}(this.environmentInjector,ze=>this.events.next(ze)),(0,Pt.b)(ze=>{if(Z.guardsResult=ze.guardsResult,mn(ze.guardsResult))throw Ao(0,ze.guardsResult);const Zt=new tn(ze.id,this.urlSerializer.serialize(ze.extractedUrl),this.urlSerializer.serialize(ze.urlAfterRedirects),ze.targetSnapshot,!!ze.guardsResult);this.events.next(Zt)}),(0,tt.h)(ze=>!!ze.guardsResult||(O.restoreHistory(ze),this.cancelNavigationTransition(ze,"",3),!1)),he(ze=>{if(ze.guards.canActivateChecks.length)return(0,Ke.of)(ze).pipe((0,Pt.b)(Zt=>{const Mn=new Ln(Zt.id,this.urlSerializer.serialize(Zt.extractedUrl),this.urlSerializer.serialize(Zt.urlAfterRedirects),Zt.targetSnapshot);this.events.next(Mn)}),(0,Je.w)(Zt=>{let Mn=!1;return(0,Ke.of)(Zt).pipe(function sr(V,G){return(0,Ge.z)(O=>{const{targetSnapshot:Z,guards:{canActivateChecks:ge}}=O;if(!ge.length)return(0,Ke.of)(O);let et=0;return(0,Xe.D)(ge).pipe(jt(ze=>function vi(V,G,O,Z){const ge=V.routeConfig,et=V._resolve;return void 0!==(null==ge?void 0:ge.title)&&!q(ge)&&(et[Xn]=ge.title),function wr(V,G,O,Z){const ge=function Fs(V){return[...Object.keys(V),...Object.getOwnPropertySymbols(V)]}(V);if(0===ge.length)return(0,Ke.of)({});const et={};return(0,Xe.D)(ge).pipe((0,Ge.z)(ze=>function lo(V,G,O,Z){var ge;const et=null!==(ge=ks(G))&&void 0!==ge?ge:Z,ze=Sn(V,et);return br(ze.resolve?ze.resolve(G,O):et.runInContext(()=>ze(G,O)))}(V[ze],G,O,Z).pipe((0,ft.P)(),(0,Pt.b)(Zt=>{et[ze]=Zt}))),rn(1),function _n(V){return(0,Ae.U)(()=>V)}(et),sn(ze=>F(ze)?Dt.E:Tt(ze)))}(et,V,G,Z).pipe((0,Ae.U)(ze=>(V._resolvedData=ze,V.data=Oi(V,O).resolve,ge&&q(ge)&&(V.data[Xn]=ge.title),null)))}(ze.route,Z,V,G)),(0,Pt.b)(()=>et++),rn(1),(0,Ge.z)(ze=>et===ge.length?(0,Ke.of)(O):Dt.E))})}(O.paramsInheritanceStrategy,this.environmentInjector),(0,Pt.b)({next:()=>Mn=!0,complete:()=>{Mn||(O.restoreHistory(Zt),this.cancelNavigationTransition(Zt,"",2))}}))}),(0,Pt.b)(Zt=>{const Mn=new Hn(Zt.id,this.urlSerializer.serialize(Zt.extractedUrl),this.urlSerializer.serialize(Zt.urlAfterRedirects),Zt.targetSnapshot);this.events.next(Mn)}))}),he(ze=>{const Zt=Mn=>{var kr;const ki=[];null!==(kr=Mn.routeConfig)&&void 0!==kr&&kr.loadComponent&&!Mn.routeConfig._loadedComponent&&ki.push(this.configLoader.loadComponent(Mn.routeConfig).pipe((0,Pt.b)(si=>{Mn.component=si}),(0,Ae.U)(()=>{})));for(const si of Mn.children)ki.push(...Zt(si));return ki};return mt(Zt(ze.targetSnapshot.root)).pipe((0,Oe.d)(),(0,ut.q)(1))}),he(()=>this.afterPreactivation()),(0,Ae.U)(ze=>{const Zt=function Os(V,G,O){const Z=so(V,G._root,O?O._root:void 0);return new ys(Z,G)}(O.routeReuseStrategy,ze.targetSnapshot,ze.currentRouterState);return Z={...ze,targetRouterState:Zt}}),(0,Pt.b)(ze=>{O.currentUrlTree=ze.urlAfterRedirects,O.rawUrlTree=O.urlHandlingStrategy.merge(ze.urlAfterRedirects,ze.rawUrl),O.routerState=ze.targetRouterState,"deferred"===O.urlUpdateStrategy&&(ze.extras.skipLocationChange||O.setBrowserUrl(O.rawUrlTree,ze),O.browserUrlTree=ze.urlAfterRedirects)}),((V,G,O,Z)=>(0,Ae.U)(ge=>(new k(G,ge.targetRouterState,ge.currentRouterState,O,Z).activate(V),ge)))(this.rootContexts,O.routeReuseStrategy,ze=>this.events.next(ze),this.inputBindingEnabled),(0,ut.q)(1),(0,Pt.b)({next:ze=>{var Zt;ge=!0,this.lastSuccessfulNavigation=this.currentNavigation,O.navigated=!0,this.events.next(new _e(ze.id,this.urlSerializer.serialize(ze.extractedUrl),this.urlSerializer.serialize(O.currentUrlTree))),null===(Zt=O.titleStrategy)||void 0===Zt||Zt.updateTitle(ze.targetRouterState.snapshot),ze.resolve(!0)},complete:()=>{ge=!0}}),(0,tr.x)(()=>{var ze;ge||et||this.cancelNavigationTransition(Z,"",1),(null===(ze=this.currentNavigation)||void 0===ze?void 0:ze.id)===Z.id&&(this.currentNavigation=null)}),sn(ze=>{if(et=!0,ko(ze)){Es(ze)||(O.navigated=!0,O.restoreHistory(Z,!0));const Mn=new re(Z.id,this.urlSerializer.serialize(Z.extractedUrl),ze.message,ze.cancellationCode);if(this.events.next(Mn),Es(ze)){const kr=O.urlHandlingStrategy.merge(ze.url,O.rawUrlTree),ki={skipLocationChange:Z.extras.skipLocationChange,replaceUrl:"eager"===O.urlUpdateStrategy||li(Z.source)};O.scheduleNavigation(kr,ie,null,ki,{resolve:Z.resolve,reject:Z.reject,promise:Z.promise})}else Z.resolve(!1)}else{var Zt;O.restoreHistory(Z,!0);const Mn=new st(Z.id,this.urlSerializer.serialize(Z.extractedUrl),ze,null!==(Zt=Z.targetSnapshot)&&void 0!==Zt?Zt:void 0);this.events.next(Mn);try{Z.resolve(O.errorHandler(ze))}catch(kr){Z.reject(kr)}}return Dt.E}))}))}cancelNavigationTransition(O,Z,ge){const et=new re(O.id,this.urlSerializer.serialize(O.extractedUrl),Z,ge);this.events.next(et),O.resolve(!1)}}return V.\u0275fac=function(O){return new(O||V)},V.\u0275prov=d.Yz7({token:V,factory:V.\u0275fac,providedIn:"root"}),V})();function li(V){return V!==ie}let mr=(()=>{class V{buildTitle(O){let Z,ge=O.root;for(;void 0!==ge;){var et;Z=null!==(et=this.getResolvedTitleForRoute(ge))&&void 0!==et?et:Z,ge=ge.children.find(ze=>ze.outlet===hn)}return Z}getResolvedTitleForRoute(O){return O.data[Xn]}}return V.\u0275fac=function(O){return new(O||V)},V.\u0275prov=d.Yz7({token:V,factory:function(){return(0,d.f3M)(Wi)},providedIn:"root"}),V})(),Wi=(()=>{class V extends mr{constructor(O){super(),this.title=O}updateTitle(O){const Z=this.buildTitle(O);void 0!==Z&&this.title.setTitle(Z)}}return V.\u0275fac=function(O){return new(O||V)(d.LFG(lr.Dx))},V.\u0275prov=d.Yz7({token:V,factory:V.\u0275fac,providedIn:"root"}),V})(),wi=(()=>{class V{}return V.\u0275fac=function(O){return new(O||V)},V.\u0275prov=d.Yz7({token:V,factory:function(){return(0,d.f3M)(fs)},providedIn:"root"}),V})();class Ni{shouldDetach(G){return!1}store(G,O){}shouldAttach(G){return!1}retrieve(G){return null}shouldReuseRoute(G,O){return G.routeConfig===O.routeConfig}}let fs=(()=>{class V extends Ni{}return V.\u0275fac=function(){let G;return function(Z){return(G||(G=d.n5z(V)))(Z||V)}}(),V.\u0275prov=d.Yz7({token:V,factory:V.\u0275fac,providedIn:"root"}),V})();const As=new d.OlP("",{providedIn:"root",factory:()=>({})});let po=(()=>{class V{}return V.\u0275fac=function(O){return new(O||V)},V.\u0275prov=d.Yz7({token:V,factory:function(){return(0,d.f3M)($n)},providedIn:"root"}),V})(),$n=(()=>{class V{shouldProcessUrl(O){return!0}extract(O){return O}merge(O,Z){return O}}return V.\u0275fac=function(O){return new(O||V)},V.\u0275prov=d.Yz7({token:V,factory:V.\u0275fac,providedIn:"root"}),V})();var Fi=(()=>((Fi=Fi||{})[Fi.COMPLETE=0]="COMPLETE",Fi[Fi.FAILED=1]="FAILED",Fi[Fi.REDIRECTING=2]="REDIRECTING",Fi))();function Go(V,G){V.events.pipe((0,tt.h)(O=>O instanceof _e||O instanceof re||O instanceof st||O instanceof ye),(0,Ae.U)(O=>O instanceof _e||O instanceof ye?Fi.COMPLETE:O instanceof re&&(0===O.code||1===O.code)?Fi.REDIRECTING:Fi.FAILED),(0,tt.h)(O=>O!==Fi.REDIRECTING),(0,ut.q)(1)).subscribe(()=>{G()})}function Ji(V){throw V}function _r(V,G,O){return G.parse("/")}const Hr={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Kn={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Un=(()=>{class V{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){var O;if("computed"===this.canceledNavigationResolution)return null===(O=this.location.getState())||void 0===O?void 0:O.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){var O,Z;this.disposed=!1,this.currentPageId=0,this.console=(0,d.f3M)(d.c2e),this.isNgZoneEnabled=!1,this.options=(0,d.f3M)(As,{optional:!0})||{},this.pendingTasks=(0,d.f3M)(d.HDt),this.errorHandler=this.options.errorHandler||Ji,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||_r,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,d.f3M)(po),this.routeReuseStrategy=(0,d.f3M)(wi),this.titleStrategy=(0,d.f3M)(mr),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=null!==(O=null===(Z=(0,d.f3M)(J,{optional:!0}))||void 0===Z?void 0:Z.flat())&&void 0!==O?O:[],this.navigationTransitions=(0,d.f3M)(kn),this.urlSerializer=(0,d.f3M)(xe),this.location=(0,d.f3M)(Qt.Ye),this.componentInputBindingEnabled=!!(0,d.f3M)(Ai,{optional:!0}),this.isNgZoneEnabled=(0,d.f3M)(d.R0b)instanceof d.R0b&&d.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new oi,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=Zr(0,null),this.navigationTransitions.setupNavigations(this).subscribe(ge=>{var et;this.lastSuccessfulId=ge.id,this.currentPageId=null!==(et=this.browserPageId)&&void 0!==et?et:0},ge=>{this.console.warn(`Unhandled Navigation Error: ${ge}`)})}resetRootComponentType(O){this.routerState.root.component=O,this.navigationTransitions.rootComponentType=O}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const O=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),ie,O)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(O=>{const Z="popstate"===O.type?"popstate":"hashchange";"popstate"===Z&&setTimeout(()=>{this.navigateToSyncWithBrowser(O.url,Z,O.state)},0)}))}navigateToSyncWithBrowser(O,Z,ge){const et={replaceUrl:!0},ze=null!=ge&&ge.navigationId?ge:null;if(ge){const Mn={...ge};delete Mn.navigationId,delete Mn.\u0275routerPageId,0!==Object.keys(Mn).length&&(et.state=Mn)}const Zt=this.parseUrl(O);this.scheduleNavigation(Zt,Z,ze,et)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(O){this.config=O.map(No),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(O,Z={}){const{relativeTo:ge,queryParams:et,fragment:ze,queryParamsHandling:Zt,preserveFragment:Mn}=Z,kr=Mn?this.currentUrlTree.fragment:ze;let si,ki=null;switch(Zt){case"merge":ki={...this.currentUrlTree.queryParams,...et};break;case"preserve":ki=this.currentUrlTree.queryParams;break;default:ki=et||null}null!==ki&&(ki=this.removeEmptyProps(ki));try{si=gr(ge?ge.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof O[0]||!O[0].startsWith("/"))&&(O=[]),si=this.currentUrlTree.root}return Fr(si,O,ki,null!=kr?kr:null)}navigateByUrl(O,Z={skipLocationChange:!1}){const ge=mn(O)?O:this.parseUrl(O),et=this.urlHandlingStrategy.merge(ge,this.rawUrlTree);return this.scheduleNavigation(et,ie,null,Z)}navigate(O,Z={skipLocationChange:!1}){return function Dn(V){for(let G=0;G<V.length;G++)if(null==V[G])throw new d.vHH(4008,!1)}(O),this.navigateByUrl(this.createUrlTree(O,Z),Z)}serializeUrl(O){return this.urlSerializer.serialize(O)}parseUrl(O){let Z;try{Z=this.urlSerializer.parse(O)}catch(ge){Z=this.malformedUriErrorHandler(ge,this.urlSerializer,O)}return Z}isActive(O,Z){let ge;if(ge=!0===Z?{...Hr}:!1===Z?{...Kn}:Z,mn(O))return nr(this.currentUrlTree,O,ge);const et=this.parseUrl(O);return nr(this.currentUrlTree,et,ge)}removeEmptyProps(O){return Object.keys(O).reduce((Z,ge)=>{const et=O[ge];return null!=et&&(Z[ge]=et),Z},{})}scheduleNavigation(O,Z,ge,et,ze){if(this.disposed)return Promise.resolve(!1);let Zt,Mn,kr;ze?(Zt=ze.resolve,Mn=ze.reject,kr=ze.promise):kr=new Promise((si,vo)=>{Zt=si,Mn=vo});const ki=this.pendingTasks.add();return Go(this,()=>{Promise.resolve().then(()=>this.pendingTasks.remove(ki))}),this.navigationTransitions.handleNavigationRequest({source:Z,restoredState:ge,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:O,extras:et,resolve:Zt,reject:Mn,promise:kr,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),kr.catch(si=>Promise.reject(si))}setBrowserUrl(O,Z){const ge=this.urlSerializer.serialize(O);if(this.location.isCurrentPathEqualTo(ge)||Z.extras.replaceUrl){const Zt={...Z.extras.state,...this.generateNgRouterState(Z.id,this.browserPageId)};this.location.replaceState(ge,"",Zt)}else{var et;const ze={...Z.extras.state,...this.generateNgRouterState(Z.id,(null!==(et=this.browserPageId)&&void 0!==et?et:0)+1)};this.location.go(ge,"",ze)}}restoreHistory(O,Z=!1){if("computed"===this.canceledNavigationResolution){var ge,et;const ze=null!==(ge=this.browserPageId)&&void 0!==ge?ge:this.currentPageId,Zt=this.currentPageId-ze;0!==Zt?this.location.historyGo(Zt):this.currentUrlTree===(null===(et=this.getCurrentNavigation())||void 0===et?void 0:et.finalUrl)&&0===Zt&&(this.resetState(O),this.browserUrlTree=O.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(Z&&this.resetState(O),this.resetUrlToCurrentUrlTree())}resetState(O){this.routerState=O.currentRouterState,this.currentUrlTree=O.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,O.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(O,Z){return"computed"===this.canceledNavigationResolution?{navigationId:O,\u0275routerPageId:Z}:{navigationId:O}}}return V.\u0275fac=function(O){return new(O||V)},V.\u0275prov=d.Yz7({token:V,factory:V.\u0275fac,providedIn:"root"}),V})(),qn=(()=>{class V{constructor(O,Z,ge,et,ze,Zt){var Mn;this.router=O,this.route=Z,this.tabIndexAttribute=ge,this.renderer=et,this.el=ze,this.locationStrategy=Zt,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.href=null,this.commands=null,this.onChanges=new kt.x;const kr=null===(Mn=ze.nativeElement.tagName)||void 0===Mn?void 0:Mn.toLowerCase();this.isAnchorElement="a"===kr||"area"===kr,this.isAnchorElement?this.subscription=O.events.subscribe(ki=>{ki instanceof _e&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(O){this._preserveFragment=(0,d.D6c)(O)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(O){this._skipLocationChange=(0,d.D6c)(O)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(O){this._replaceUrl=(0,d.D6c)(O)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(O){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",O)}ngOnChanges(O){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(O){null!=O?(this.commands=Array.isArray(O)?O:[O],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(O,Z,ge,et,ze){return!!(null===this.urlTree||this.isAnchorElement&&(0!==O||Z||ge||et||ze||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){var O;null===(O=this.subscription)||void 0===O||O.unsubscribe()}updateHref(){var O;this.href=null!==this.urlTree&&this.locationStrategy?null===(O=this.locationStrategy)||void 0===O?void 0:O.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const Z=null===this.href?null:(0,d.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",Z)}applyAttributeValue(O,Z){const ge=this.renderer,et=this.el.nativeElement;null!==Z?ge.setAttribute(et,O,Z):ge.removeAttribute(et,O)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return V.\u0275fac=function(O){return new(O||V)(d.Y36(Un),d.Y36(ho),d.$8M("tabindex"),d.Y36(d.Qsj),d.Y36(d.SBq),d.Y36(Qt.S$))},V.\u0275dir=d.lG2({type:V,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(O,Z){1&O&&d.NdJ("click",function(et){return Z.onClick(et.button,et.ctrlKey,et.shiftKey,et.altKey,et.metaKey)}),2&O&&d.uIk("target",Z.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[d.TTD]}),V})();class Ha{}let Ea=(()=>{class V{preload(O,Z){return Z().pipe(sn(()=>(0,Ke.of)(null)))}}return V.\u0275fac=function(O){return new(O||V)},V.\u0275prov=d.Yz7({token:V,factory:V.\u0275fac,providedIn:"root"}),V})(),Dl=(()=>{class V{constructor(O,Z,ge,et,ze){this.router=O,this.injector=ge,this.preloadingStrategy=et,this.loader=ze}setUpPreloading(){this.subscription=this.router.events.pipe((0,tt.h)(O=>O instanceof _e),jt(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(O,Z){const ge=[];for(const Mn of Z){var et,ze;Mn.providers&&!Mn._injector&&(Mn._injector=(0,d.MMx)(Mn.providers,O,`Route: ${Mn.path}`));const kr=null!==(et=Mn._injector)&&void 0!==et?et:O,ki=null!==(ze=Mn._loadedInjector)&&void 0!==ze?ze:kr;var Zt;(Mn.loadChildren&&!Mn._loadedRoutes&&void 0===Mn.canLoad||Mn.loadComponent&&!Mn._loadedComponent)&&ge.push(this.preloadConfig(kr,Mn)),(Mn.children||Mn._loadedRoutes)&&ge.push(this.processRoutes(ki,null!==(Zt=Mn.children)&&void 0!==Zt?Zt:Mn._loadedRoutes))}return(0,Xe.D)(ge).pipe((0,ur.J)())}preloadConfig(O,Z){return this.preloadingStrategy.preload(Z,()=>{let ge;ge=Z.loadChildren&&void 0===Z.canLoad?this.loader.loadChildren(O,Z):(0,Ke.of)(null);const et=ge.pipe((0,Ge.z)(ze=>{var Zt;return null===ze?(0,Ke.of)(void 0):(Z._loadedRoutes=ze.routes,Z._loadedInjector=ze.injector,this.processRoutes(null!==(Zt=ze.injector)&&void 0!==Zt?Zt:O,ze.routes))}));if(Z.loadComponent&&!Z._loadedComponent){const ze=this.loader.loadComponent(Z);return(0,Xe.D)([et,ze]).pipe((0,ur.J)())}return et})}}return V.\u0275fac=function(O){return new(O||V)(d.LFG(Un),d.LFG(d.Sil),d.LFG(d.lqb),d.LFG(Ha),d.LFG(Ne))},V.\u0275prov=d.Yz7({token:V,factory:V.\u0275fac,providedIn:"root"}),V})();const ua=new d.OlP("");let ml=(()=>{class V{constructor(O,Z,ge,et,ze={}){this.urlSerializer=O,this.transitions=Z,this.viewportScroller=ge,this.zone=et,this.options=ze,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},ze.scrollPositionRestoration=ze.scrollPositionRestoration||"disabled",ze.anchorScrolling=ze.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(O=>{O instanceof ke?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=O.navigationTrigger,this.restoredId=O.restoredState?O.restoredState.navigationId:0):O instanceof _e?(this.lastId=O.id,this.scheduleScrollEvent(O,this.urlSerializer.parse(O.urlAfterRedirects).fragment)):O instanceof ye&&0===O.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(O,this.urlSerializer.parse(O.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(O=>{O instanceof ir&&(O.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(O.position):O.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(O.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(O,Z){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new ir(O,"popstate"===this.lastSource?this.store[this.restoredId]:null,Z))})},0)})}ngOnDestroy(){var O,Z;null===(O=this.routerEventsSubscription)||void 0===O||O.unsubscribe(),null===(Z=this.scrollEventsSubscription)||void 0===Z||Z.unsubscribe()}}return V.\u0275fac=function(O){d.$Z()},V.\u0275prov=d.Yz7({token:V,factory:V.\u0275fac}),V})();function aa(V,G){return{\u0275kind:V,\u0275providers:G}}function yo(){const V=(0,d.f3M)(d.zs3);return G=>{var O,Z;const ge=V.get(d.z2F);if(G!==ge.components[0])return;const et=V.get(Un),ze=V.get(Ii);1===V.get(Wa)&&et.initialNavigation(),null===(O=V.get(yr,null,d.XFs.Optional))||void 0===O||O.setUpPreloading(),null===(Z=V.get(ua,null,d.XFs.Optional))||void 0===Z||Z.init(),et.resetRootComponentType(ge.componentTypes[0]),ze.closed||(ze.next(),ze.complete(),ze.unsubscribe())}}const Ii=new d.OlP("",{factory:()=>new kt.x}),Wa=new d.OlP("",{providedIn:"root",factory:()=>1}),yr=new d.OlP("");function yl(V){return aa(0,[{provide:yr,useExisting:Dl},{provide:Ha,useExisting:V}])}const en=new d.OlP("ROUTER_FORROOT_GUARD"),Ir=[Qt.Ye,{provide:xe,useClass:gt},Un,Rs,{provide:ho,useFactory:function Ls(V){return V.routerState.root},deps:[Un]},Ne,[]];function Bi(){return new d.PXZ("Router",Un)}let Hi=(()=>{class V{constructor(O){}static forRoot(O,Z){return{ngModule:V,providers:[Ir,[],{provide:J,multi:!0,useValue:O},{provide:en,useFactory:Jo,deps:[[Un,new d.FiY,new d.tp0]]},{provide:As,useValue:Z||{}},null!=Z&&Z.useHash?{provide:Qt.S$,useClass:Qt.Do}:{provide:Qt.S$,useClass:Qt.b0},{provide:ua,useFactory:()=>{const V=(0,d.f3M)(Qt.EM),G=(0,d.f3M)(d.R0b),O=(0,d.f3M)(As),Z=(0,d.f3M)(kn),ge=(0,d.f3M)(xe);return O.scrollOffset&&V.setOffset(O.scrollOffset),new ml(ge,Z,V,G,O)}},null!=Z&&Z.preloadingStrategy?yl(Z.preloadingStrategy).\u0275providers:[],{provide:d.PXZ,multi:!0,useFactory:Bi},null!=Z&&Z.initialNavigation?va(Z):[],null!=Z&&Z.bindToComponentInputs?aa(8,[hr,{provide:Ai,useExisting:hr}]).\u0275providers:[],[{provide:yn,useFactory:yo},{provide:d.tb,multi:!0,useExisting:yn}]]}}static forChild(O){return{ngModule:V,providers:[{provide:J,multi:!0,useValue:O}]}}}return V.\u0275fac=function(O){return new(O||V)(d.LFG(en,8))},V.\u0275mod=d.oAB({type:V}),V.\u0275inj=d.cJS({}),V})();function Jo(V){return"guarded"}function va(V){return["disabled"===V.initialNavigation?aa(3,[{provide:d.ip1,multi:!0,useFactory:()=>{const G=(0,d.f3M)(Un);return()=>{G.setUpLocationChangeListener()}}},{provide:Wa,useValue:2}]).\u0275providers:[],"enabledBlocking"===V.initialNavigation?aa(2,[{provide:Wa,useValue:0},{provide:d.ip1,multi:!0,deps:[d.zs3],useFactory:G=>{const O=G.get(Qt.V_,Promise.resolve());return()=>O.then(()=>new Promise(Z=>{const ge=G.get(Un),et=G.get(Ii);Go(ge,()=>{Z(!0)}),G.get(kn).afterPreactivation=()=>(Z(!0),et.closed?(0,Ke.of)(void 0):et),ge.initialNavigation()}))}}]).\u0275providers:[]]}const yn=new d.OlP("")},579:(er,Nt,H)=>{"use strict";H.d(Nt,{EI:()=>yt,Gb:()=>gt,Iv:()=>Nr,Kz:()=>se,Xd:()=>pr,lT:()=>In,xP:()=>Rr});var d=H(5861),v=H(6881),ve=H(1877),Fe=H(2090),Xe=H(4859);H(4727);const Se="analytics",Re="firebase_id",Qe="origin",Be=6e4,Me="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",ot="https://www.googletagmanager.com/gtag/js",Pe=new ve.Yd("@firebase/analytics"),mt=new Fe.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function Ut(rt){if(!rt.startsWith(ot)){const Vt=mt.create("invalid-gtag-resource",{gtagURL:rt});return Pe.warn(Vt.message),""}return rt}function He(rt){return Promise.all(rt.map(Vt=>Vt.catch(nn=>nn)))}function Ct(){return(Ct=(0,d.Z)(function*(rt,Vt,nn,Tn,wn,Gn){const un=Tn[wn];try{if(un)yield Vt[un];else{const Nn=(yield He(nn)).find(Ft=>Ft.measurementId===wn);Nn&&(yield Vt[Nn.appId])}}catch(bn){Pe.error(bn)}rt("config",wn,Gn)})).apply(this,arguments)}function Dt(){return(Dt=(0,d.Z)(function*(rt,Vt,nn,Tn,wn){try{let Gn=[];if(wn&&wn.send_to){let un=wn.send_to;Array.isArray(un)||(un=[un]);const bn=yield He(nn);for(const Nn of un){const Ft=bn.find(mn=>mn.measurementId===Nn),Kt=Ft&&Vt[Ft.appId];if(!Kt){Gn=[];break}Gn.push(Kt)}}0===Gn.length&&(Gn=Object.values(Vt)),yield Promise.all(Gn),rt("event",Tn,wn||{})}catch(Gn){Pe.error(Gn)}})).apply(this,arguments)}const St=30,Ae=new class Qt{constructor(Vt={},nn=1e3){this.throttleMetadata=Vt,this.intervalMillis=nn}getThrottleMetadata(Vt){return this.throttleMetadata[Vt]}setThrottleMetadata(Vt,nn){this.throttleMetadata[Vt]=nn}deleteThrottleMetadata(Vt){delete this.throttleMetadata[Vt]}};function Je(rt){return new Headers({Accept:"application/json","x-goog-api-key":rt})}function _t(){return(_t=(0,d.Z)(function*(rt){var Vt;const{appId:nn,apiKey:Tn}=rt,wn={method:"GET",headers:Je(Tn)},Gn=Me.replace("{app-id}",nn),un=yield fetch(Gn,wn);if(200!==un.status&&304!==un.status){let bn="";try{const Nn=yield un.json();null!==(Vt=Nn.error)&&void 0!==Vt&&Vt.message&&(bn=Nn.error.message)}catch{}throw mt.create("config-fetch-failed",{httpStatus:un.status,responseMessage:bn})}return un.json()})).apply(this,arguments)}function Ge(){return(Ge=(0,d.Z)(function*(rt,Vt=Ae,nn){const{appId:Tn,apiKey:wn,measurementId:Gn}=rt.options;if(!Tn)throw mt.create("no-app-id");if(!wn){if(Gn)return{measurementId:Gn,appId:Tn};throw mt.create("no-api-key")}const un=Vt.getThrottleMetadata(Tn)||{backoffCount:0,throttleEndTimeMillis:Date.now()},bn=new ln;return setTimeout((0,d.Z)(function*(){bn.abort()}),void 0!==nn?nn:Be),ft({appId:Tn,apiKey:wn,measurementId:Gn},un,bn,Vt)})).apply(this,arguments)}function ft(rt,Vt,nn){return jt.apply(this,arguments)}function jt(){return jt=(0,d.Z)(function*(rt,{throttleEndTimeMillis:Vt,backoffCount:nn},Tn,wn=Ae){var Gn;const{appId:un,measurementId:bn}=rt;try{yield function Pt(rt,Vt){return new Promise((nn,Tn)=>{const wn=Math.max(Vt-Date.now(),0),Gn=setTimeout(nn,wn);rt.addEventListener(()=>{clearTimeout(Gn),Tn(mt.create("fetch-throttle",{throttleEndTimeMillis:Vt}))})})}(Tn,Vt)}catch(Nn){if(bn)return Pe.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${bn} provided in the "measurementId" field in the local Firebase config. [${null==Nn?void 0:Nn.message}]`),{appId:un,measurementId:bn};throw Nn}try{const Nn=yield function ut(rt){return _t.apply(this,arguments)}(rt);return wn.deleteThrottleMetadata(un),Nn}catch(Nn){const Ft=Nn;if(!function sn(rt){if(!(rt instanceof Fe.ZR&&rt.customData))return!1;const Vt=Number(rt.customData.httpStatus);return 429===Vt||500===Vt||503===Vt||504===Vt}(Ft)){if(wn.deleteThrottleMetadata(un),bn)return Pe.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${bn} provided in the "measurementId" field in the local Firebase config. [${null==Ft?void 0:Ft.message}]`),{appId:un,measurementId:bn};throw Nn}const Kt=503===Number(null===(Gn=null==Ft?void 0:Ft.customData)||void 0===Gn?void 0:Gn.httpStatus)?(0,Fe.$s)(nn,wn.intervalMillis,St):(0,Fe.$s)(nn,wn.intervalMillis),mn={throttleEndTimeMillis:Date.now()+Kt,backoffCount:nn+1};return wn.setThrottleMetadata(un,mn),Pe.debug(`Calling attemptFetch again in ${Kt} millis`),ft(rt,mn,Tn,wn)}}),jt.apply(this,arguments)}class ln{constructor(){this.listeners=[]}addEventListener(Vt){this.listeners.push(Vt)}abort(){this.listeners.forEach(Vt=>Vt())}}let Oe,Sr;function wt(){return(wt=(0,d.Z)(function*(rt,Vt,nn,Tn,wn){if(wn&&wn.global)rt("event",nn,Tn);else{const Gn=yield Vt;rt("event",nn,Object.assign(Object.assign({},Tn),{send_to:Gn}))}})).apply(this,arguments)}function _n(){return(_n=(0,d.Z)(function*(rt,Vt,nn,Tn){if(Tn&&Tn.global)return rt("set",{screen_name:nn}),Promise.resolve();rt("config",yield Vt,{update:!0,screen_name:nn})})).apply(this,arguments)}function ur(){return(ur=(0,d.Z)(function*(rt,Vt,nn,Tn){if(Tn&&Tn.global)return rt("set",{user_id:nn}),Promise.resolve();rt("config",yield Vt,{update:!0,user_id:nn})})).apply(this,arguments)}function hn(){return(hn=(0,d.Z)(function*(rt,Vt,nn,Tn){if(Tn&&Tn.global){const wn={};for(const Gn of Object.keys(nn))wn[`user_properties.${Gn}`]=nn[Gn];return rt("set",wn),Promise.resolve()}rt("config",yield Vt,{update:!0,user_properties:nn})})).apply(this,arguments)}function Wr(){return(Wr=(0,d.Z)(function*(rt,Vt){const nn=yield rt;window[`ga-disable-${nn}`]=!Vt})).apply(this,arguments)}function br(){return(br=(0,d.Z)(function*(){if(!(0,Fe.hl)())return Pe.warn(mt.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,Fe.eu)()}catch(rt){return Pe.warn(mt.create("indexeddb-unavailable",{errorInfo:null==rt?void 0:rt.toString()}).message),!1}return!0})).apply(this,arguments)}function ui(){return ui=(0,d.Z)(function*(rt,Vt,nn,Tn,wn,Gn,un){var bn;const Nn=function tt(rt){return Ge.apply(this,arguments)}(rt);Nn.then(gr=>{nn[gr.measurementId]=gr.appId,rt.options.measurementId&&gr.measurementId!==rt.options.measurementId&&Pe.warn(`The measurement ID in the local Firebase config (${rt.options.measurementId}) does not match the measurement ID fetched from the server (${gr.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(gr=>Pe.error(gr)),Vt.push(Nn);const Ft=function Qr(){return br.apply(this,arguments)}().then(gr=>{if(gr)return Tn.getId()}),[Kt,mn]=yield Promise.all([Nn,Ft]);(function Gt(rt){const Vt=window.document.getElementsByTagName("script");for(const nn of Object.values(Vt))if(nn.src&&nn.src.includes(ot)&&nn.src.includes(rt))return nn;return null})(Gn)||function Lt(rt,Vt){const nn=function $e(rt,Vt){let nn;return window.trustedTypes&&(nn=window.trustedTypes.createPolicy(rt,Vt)),nn}("firebase-js-sdk-policy",{createScriptURL:Ut}),Tn=document.createElement("script"),wn=`${ot}?l=${rt}&id=${Vt}`;Tn.src=nn?null==nn?void 0:nn.createScriptURL(wn):wn,Tn.async=!0,document.head.appendChild(Tn)}(Gn,Kt.measurementId),Sr&&(wn("consent","default",Sr),function On(rt){Sr=rt}(void 0)),wn("js",new Date);const Qn=null!==(bn=null==un?void 0:un.config)&&void 0!==bn?bn:{};return Qn[Qe]="firebase",Qn.update=!0,null!=mn&&(Qn[Re]=mn),wn("config",Kt.measurementId,Qn),Oe&&(wn("set",Oe),function Gr(rt){Oe=rt}(void 0)),Kt.measurementId}),ui.apply(this,arguments)}class nr{constructor(Vt){this.app=Vt}_delete(){return delete Zn[this.app.options.appId],Promise.resolve()}}let Zn={},rr=[];const Ei={};let ri,oi,di="dataLayer",ni="gtag",Er=!1;function pr(rt){if(Er)throw mt.create("already-initialized");rt.dataLayerName&&(di=rt.dataLayerName),rt.gtagName&&(ni=rt.gtagName)}function Ar(rt,Vt,nn){!function yi(){const rt=[];if((0,Fe.ru)()&&rt.push("This is a browser extension environment."),(0,Fe.zI)()||rt.push("Cookies are not available."),rt.length>0){const Vt=rt.map((Tn,wn)=>`(${wn+1}) ${Tn}`).join(" "),nn=mt.create("invalid-analytics-context",{errorInfo:Vt});Pe.warn(nn.message)}}();const Tn=rt.options.appId;if(!Tn)throw mt.create("no-app-id");if(!rt.options.apiKey){if(!rt.options.measurementId)throw mt.create("no-api-key");Pe.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${rt.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Zn[Tn])throw mt.create("already-exists",{id:Tn});if(!Er){!function Rt(rt){let Vt=[];Array.isArray(window[rt])?Vt=window[rt]:window[rt]=Vt}(di);const{wrappedGtag:Gn,gtagCore:un}=function it(rt,Vt,nn,Tn,wn){let Gn=function(...un){window[Tn].push(arguments)};return window[wn]&&"function"==typeof window[wn]&&(Gn=window[wn]),window[wn]=function vt(rt,Vt,nn,Tn){function Gn(){return Gn=(0,d.Z)(function*(un,...bn){try{if("event"===un){const[Nn,Ft]=bn;yield function Tt(rt,Vt,nn,Tn,wn){return Dt.apply(this,arguments)}(rt,Vt,nn,Nn,Ft)}else if("config"===un){const[Nn,Ft]=bn;yield function ht(rt,Vt,nn,Tn,wn,Gn){return Ct.apply(this,arguments)}(rt,Vt,nn,Tn,Nn,Ft)}else if("consent"===un){const[Nn]=bn;rt("consent","update",Nn)}else if("get"===un){const[Nn,Ft,Kt]=bn;rt("get",Nn,Ft,Kt)}else if("set"===un){const[Nn]=bn;rt("set",Nn)}else rt(un,...bn)}catch(Nn){Pe.error(Nn)}}),Gn.apply(this,arguments)}return function wn(un){return Gn.apply(this,arguments)}}(Gn,rt,Vt,nn),{gtagCore:Gn,wrappedGtag:window[wn]}}(Zn,rr,Ei,di,ni);oi=Gn,ri=un,Er=!0}return Zn[Tn]=function $r(rt,Vt,nn,Tn,wn,Gn,un){return ui.apply(this,arguments)}(rt,rr,Ei,Vt,ri,di,nn),new nr(rt)}function gt(){return Wt.apply(this,arguments)}function Wt(){return(Wt=(0,d.Z)(function*(){if((0,Fe.ru)()||!(0,Fe.zI)()||!(0,Fe.hl)())return!1;try{return yield(0,Fe.eu)()}catch{return!1}})).apply(this,arguments)}function In(rt,Vt,nn){rt=(0,Fe.m9)(rt),function fn(rt,Vt,nn,Tn){return _n.apply(this,arguments)}(oi,Zn[rt.app.options.appId],Vt,nn).catch(Tn=>Pe.error(Tn))}function Nr(rt,Vt,nn){rt=(0,Fe.m9)(rt),function tr(rt,Vt,nn,Tn){return ur.apply(this,arguments)}(oi,Zn[rt.app.options.appId],Vt,nn).catch(Tn=>Pe.error(Tn))}function Rr(rt,Vt,nn){rt=(0,Fe.m9)(rt),function lr(rt,Vt,nn,Tn){return hn.apply(this,arguments)}(oi,Zn[rt.app.options.appId],Vt,nn).catch(Tn=>Pe.error(Tn))}function yt(rt,Vt){rt=(0,Fe.m9)(rt),function Pr(rt,Vt){return Wr.apply(this,arguments)}(Zn[rt.app.options.appId],Vt).catch(nn=>Pe.error(nn))}function se(rt,Vt,nn,Tn){rt=(0,Fe.m9)(rt),function rn(rt,Vt,nn,Tn,wn){return wt.apply(this,arguments)}(oi,Zn[rt.app.options.appId],Vt,nn,Tn).catch(wn=>Pe.error(wn))}const oe="@firebase/analytics";!function xt(){(0,v._registerComponent)(new Xe.wA(Se,(Vt,{options:nn})=>Ar(Vt.getProvider("app").getImmediate(),Vt.getProvider("installations-internal").getImmediate(),nn),"PUBLIC")),(0,v._registerComponent)(new Xe.wA("analytics-internal",function rt(Vt){try{const nn=Vt.getProvider(Se).getImmediate();return{logEvent:(Tn,wn,Gn)=>se(nn,Tn,wn,Gn)}}catch(nn){throw mt.create("interop-component-reg-failed",{reason:nn})}},"PRIVATE")),(0,v.registerVersion)(oe,"0.10.0"),(0,v.registerVersion)(oe,"0.10.0","esm2017")}()},3942:(er,Nt,H)=>{"use strict";H.d(Nt,{Z:()=>mt});var d=H(2090),v=H(4859),ve=H(6881),Fe=H(1877);class Xe{constructor(He,$e){this._delegate=He,this.firebase=$e,(0,ve._addComponent)(He,new v.wA("app-compat",()=>this,"PUBLIC")),this.container=He.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(He){this._delegate.automaticDataCollectionEnabled=He}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(He=>{this._delegate.checkDestroyed(),He()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,ve.deleteApp)(this._delegate)))}_getService(He,$e=ve._DEFAULT_ENTRY_NAME){var Lt;this._delegate.checkDestroyed();const Rt=this._delegate.container.getProvider(He);return!Rt.isInitialized()&&"EXPLICIT"===(null===(Lt=Rt.getComponent())||void 0===Lt?void 0:Lt.instantiationMode)&&Rt.initialize(),Rt.getImmediate({identifier:$e})}_removeServiceInstance(He,$e=ve._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(He).clearInstance($e)}_addComponent(He){(0,ve._addComponent)(this._delegate,He)}_addOrOverwriteComponent(He){(0,ve._addOrOverwriteComponent)(this._delegate,He)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Se=new d.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),Be=function Qe(){const Ut=function Re(Ut){const He={},$e={__esModule:!0,initializeApp:function ht(vt,it={}){const Gt=ve.initializeApp(vt,it);if((0,d.r3)(He,Gt.name))return He[Gt.name];const St=new Ut(Gt,$e);return He[Gt.name]=St,St},app:Rt,registerVersion:ve.registerVersion,setLogLevel:ve.setLogLevel,onLog:ve.onLog,apps:null,SDK_VERSION:ve.SDK_VERSION,INTERNAL:{registerComponent:function Tt(vt){const it=vt.name,Gt=it.replace("-compat","");if(ve._registerComponent(vt)&&"PUBLIC"===vt.type){const St=(kt=Rt())=>{if("function"!=typeof kt[Gt])throw Se.create("invalid-app-argument",{appName:it});return kt[Gt]()};void 0!==vt.serviceProps&&(0,d.ZB)(St,vt.serviceProps),$e[Gt]=St,Ut.prototype[Gt]=function(...kt){return this._getService.bind(this,it).apply(this,vt.multipleInstances?kt:[])}}return"PUBLIC"===vt.type?$e[Gt]:null},removeApp:function Lt(vt){delete He[vt]},useAsService:function Dt(vt,it){return"serverAuth"===it?null:it},modularAPIs:ve}};function Rt(vt){if(!(0,d.r3)(He,vt=vt||ve._DEFAULT_ENTRY_NAME))throw Se.create("no-app",{appName:vt});return He[vt]}return $e.default=$e,Object.defineProperty($e,"apps",{get:function Ct(){return Object.keys(He).map(vt=>He[vt])}}),Rt.App=Ut,$e}(Xe);return Ut.INTERNAL=Object.assign(Object.assign({},Ut.INTERNAL),{createFirebaseNamespace:Qe,extendNamespace:function He($e){(0,d.ZB)(Ut,$e)},createSubscribe:d.ne,ErrorFactory:d.LL,deepExtend:d.ZB}),Ut}(),Me=new Fe.Yd("@firebase/app-compat");if((0,d.jU)()&&void 0!==self.firebase){Me.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Ut=self.firebase.SDK_VERSION;Ut&&Ut.indexOf("LITE")>=0&&Me.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const mt=Be;!function ct(Ut){(0,ve.registerVersion)("@firebase/app-compat","0.2.10",Ut)}()},6881:(er,Nt,H)=>{"use strict";H.r(Nt),H.d(Nt,{FirebaseError:()=>Fe.ZR,SDK_VERSION:()=>yi,_DEFAULT_ENTRY_NAME:()=>br,_addComponent:()=>Zn,_addOrOverwriteComponent:()=>rr,_apps:()=>ui,_clearComponents:()=>ri,_components:()=>nr,_getProvider:()=>di,_registerComponent:()=>Ei,_removeServiceInstance:()=>ni,deleteApp:()=>gt,getApp:()=>An,getApps:()=>xe,initializeApp:()=>Ar,onLog:()=>Wn,registerVersion:()=>In,setLogLevel:()=>Kr});var d=H(5861),v=H(4859),ve=H(1877),Fe=H(2090);const Xe=(Ft,Kt)=>Kt.some(mn=>Ft instanceof mn);let Ke,Se;const Be=new WeakMap,Me=new WeakMap,ot=new WeakMap,Pe=new WeakMap,ct=new WeakMap;let He={get(Ft,Kt,mn){if(Ft instanceof IDBTransaction){if("done"===Kt)return Me.get(Ft);if("objectStoreNames"===Kt)return Ft.objectStoreNames||ot.get(Ft);if("store"===Kt)return mn.objectStoreNames[1]?void 0:mn.objectStore(mn.objectStoreNames[0])}return ht(Ft[Kt])},set:(Ft,Kt,mn)=>(Ft[Kt]=mn,!0),has:(Ft,Kt)=>Ft instanceof IDBTransaction&&("done"===Kt||"store"===Kt)||Kt in Ft};function Rt(Ft){return"function"==typeof Ft?function Lt(Ft){return Ft!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Qe(){return Se||(Se=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(Ft)?function(...Kt){return Ft.apply(Ct(this),Kt),ht(Be.get(this))}:function(...Kt){return ht(Ft.apply(Ct(this),Kt))}:function(Kt,...mn){const Qn=Ft.call(Ct(this),Kt,...mn);return ot.set(Qn,Kt.sort?Kt.sort():[Kt]),ht(Qn)}}(Ft):(Ft instanceof IDBTransaction&&function Ut(Ft){if(Me.has(Ft))return;const Kt=new Promise((mn,Qn)=>{const gr=()=>{Ft.removeEventListener("complete",Fr),Ft.removeEventListener("error",Or),Ft.removeEventListener("abort",Or)},Fr=()=>{mn(),gr()},Or=()=>{Qn(Ft.error||new DOMException("AbortError","AbortError")),gr()};Ft.addEventListener("complete",Fr),Ft.addEventListener("error",Or),Ft.addEventListener("abort",Or)});Me.set(Ft,Kt)}(Ft),Xe(Ft,function Re(){return Ke||(Ke=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(Ft,He):Ft)}function ht(Ft){if(Ft instanceof IDBRequest)return function mt(Ft){const Kt=new Promise((mn,Qn)=>{const gr=()=>{Ft.removeEventListener("success",Fr),Ft.removeEventListener("error",Or)},Fr=()=>{mn(ht(Ft.result)),gr()},Or=()=>{Qn(Ft.error),gr()};Ft.addEventListener("success",Fr),Ft.addEventListener("error",Or)});return Kt.then(mn=>{mn instanceof IDBCursor&&Be.set(mn,Ft)}).catch(()=>{}),ct.set(Kt,Ft),Kt}(Ft);if(Pe.has(Ft))return Pe.get(Ft);const Kt=Rt(Ft);return Kt!==Ft&&(Pe.set(Ft,Kt),ct.set(Kt,Ft)),Kt}const Ct=Ft=>ct.get(Ft),vt=["get","getKey","getAll","getAllKeys","count"],it=["put","add","delete","clear"],Gt=new Map;function St(Ft,Kt){if(!(Ft instanceof IDBDatabase)||Kt in Ft||"string"!=typeof Kt)return;if(Gt.get(Kt))return Gt.get(Kt);const mn=Kt.replace(/FromIndex$/,""),Qn=Kt!==mn,gr=it.includes(mn);if(!(mn in(Qn?IDBIndex:IDBObjectStore).prototype)||!gr&&!vt.includes(mn))return;const Fr=function(){var Or=(0,d.Z)(function*(Ri,...Yr){const jr=this.transaction(Ri,gr?"readwrite":"readonly");let ei=jr.store;return Qn&&(ei=ei.index(Yr.shift())),(yield Promise.all([ei[mn](...Yr),gr&&jr.done]))[0]});return function(Yr){return Or.apply(this,arguments)}}();return Gt.set(Kt,Fr),Fr}!function $e(Ft){He=Ft(He)}(Ft=>({...Ft,get:(Kt,mn,Qn)=>St(Kt,mn)||Ft.get(Kt,mn,Qn),has:(Kt,mn)=>!!St(Kt,mn)||Ft.has(Kt,mn)}));class kt{constructor(Kt){this.container=Kt}getPlatformInfoString(){return this.container.getProviders().map(mn=>{if(function Qt(Ft){const Kt=Ft.getComponent();return"VERSION"===(null==Kt?void 0:Kt.type)}(mn)){const Qn=mn.getImmediate();return`${Qn.library}/${Qn.version}`}return null}).filter(mn=>mn).join(" ")}}const Ae="@firebase/app",ut=new ve.Yd("@firebase/app"),br="[DEFAULT]",$r={[Ae]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},ui=new Map,nr=new Map;function Zn(Ft,Kt){try{Ft.container.addComponent(Kt)}catch(mn){ut.debug(`Component ${Kt.name} failed to register with FirebaseApp ${Ft.name}`,mn)}}function rr(Ft,Kt){Ft.container.addOrOverwriteComponent(Kt)}function Ei(Ft){const Kt=Ft.name;if(nr.has(Kt))return ut.debug(`There were multiple attempts to register component ${Kt}.`),!1;nr.set(Kt,Ft);for(const mn of ui.values())Zn(mn,Ft);return!0}function di(Ft,Kt){const mn=Ft.container.getProvider("heartbeat").getImmediate({optional:!0});return mn&&mn.triggerHeartbeat(),Ft.container.getProvider(Kt)}function ni(Ft,Kt,mn=br){di(Ft,Kt).clearInstance(mn)}function ri(){nr.clear()}const Er=new Fe.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class pr{constructor(Kt,mn,Qn){this._isDeleted=!1,this._options=Object.assign({},Kt),this._config=Object.assign({},mn),this._name=mn.name,this._automaticDataCollectionEnabled=mn.automaticDataCollectionEnabled,this._container=Qn,this.container.addComponent(new v.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Kt){this.checkDestroyed(),this._automaticDataCollectionEnabled=Kt}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Kt){this._isDeleted=Kt}checkDestroyed(){if(this.isDeleted)throw Er.create("app-deleted",{appName:this._name})}}const yi="9.22.0";function Ar(Ft,Kt={}){let mn=Ft;"object"!=typeof Kt&&(Kt={name:Kt});const Qn=Object.assign({name:br,automaticDataCollectionEnabled:!1},Kt),gr=Qn.name;if("string"!=typeof gr||!gr)throw Er.create("bad-app-name",{appName:String(gr)});if(mn||(mn=(0,Fe.aH)()),!mn)throw Er.create("no-options");const Fr=ui.get(gr);if(Fr){if((0,Fe.vZ)(mn,Fr.options)&&(0,Fe.vZ)(Qn,Fr.config))return Fr;throw Er.create("duplicate-app",{appName:gr})}const Or=new v.H0(gr);for(const Yr of nr.values())Or.addComponent(Yr);const Ri=new pr(mn,Qn,Or);return ui.set(gr,Ri),Ri}function An(Ft=br){const Kt=ui.get(Ft);if(!Kt&&Ft===br&&(0,Fe.aH)())return Ar();if(!Kt)throw Er.create("no-app",{appName:Ft});return Kt}function xe(){return Array.from(ui.values())}function gt(Ft){return Wt.apply(this,arguments)}function Wt(){return(Wt=(0,d.Z)(function*(Ft){const Kt=Ft.name;ui.has(Kt)&&(ui.delete(Kt),yield Promise.all(Ft.container.getProviders().map(mn=>mn.delete())),Ft.isDeleted=!0)})).apply(this,arguments)}function In(Ft,Kt,mn){var Qn;let gr=null!==(Qn=$r[Ft])&&void 0!==Qn?Qn:Ft;mn&&(gr+=`-${mn}`);const Fr=gr.match(/\s|\//),Or=Kt.match(/\s|\//);if(Fr||Or){const Ri=[`Unable to register library "${gr}" with version "${Kt}":`];return Fr&&Ri.push(`library name "${gr}" contains illegal characters (whitespace or "/")`),Fr&&Or&&Ri.push("and"),Or&&Ri.push(`version name "${Kt}" contains illegal characters (whitespace or "/")`),void ut.warn(Ri.join(" "))}Ei(new v.wA(`${gr}-version`,()=>({library:gr,version:Kt}),"VERSION"))}function Wn(Ft,Kt){if(null!==Ft&&"function"!=typeof Ft)throw Er.create("invalid-log-argument");(0,ve.Am)(Ft,Kt)}function Kr(Ft){(0,ve.Ub)(Ft)}const Nr="firebase-heartbeat-database",Rr=1,yt="firebase-heartbeat-store";let Te=null;function se(){return Te||(Te=function Tt(Ft,Kt,{blocked:mn,upgrade:Qn,blocking:gr,terminated:Fr}={}){const Or=indexedDB.open(Ft,Kt),Ri=ht(Or);return Qn&&Or.addEventListener("upgradeneeded",Yr=>{Qn(ht(Or.result),Yr.oldVersion,Yr.newVersion,ht(Or.transaction),Yr)}),mn&&Or.addEventListener("blocked",Yr=>mn(Yr.oldVersion,Yr.newVersion,Yr)),Ri.then(Yr=>{Fr&&Yr.addEventListener("close",()=>Fr()),gr&&Yr.addEventListener("versionchange",jr=>gr(jr.oldVersion,jr.newVersion,jr))}).catch(()=>{}),Ri}(Nr,Rr,{upgrade:(Ft,Kt)=>{0===Kt&&Ft.createObjectStore(yt)}}).catch(Ft=>{throw Er.create("idb-open",{originalErrorMessage:Ft.message})})),Te}function oe(){return(oe=(0,d.Z)(function*(Ft){try{return yield(yield se()).transaction(yt).objectStore(yt).get(rt(Ft))}catch(Kt){if(Kt instanceof Fe.ZR)ut.warn(Kt.message);else{const mn=Er.create("idb-get",{originalErrorMessage:null==Kt?void 0:Kt.message});ut.warn(mn.message)}}})).apply(this,arguments)}function qe(Ft,Kt){return xt.apply(this,arguments)}function xt(){return(xt=(0,d.Z)(function*(Ft,Kt){try{const Qn=(yield se()).transaction(yt,"readwrite");yield Qn.objectStore(yt).put(Kt,rt(Ft)),yield Qn.done}catch(mn){if(mn instanceof Fe.ZR)ut.warn(mn.message);else{const Qn=Er.create("idb-set",{originalErrorMessage:null==mn?void 0:mn.message});ut.warn(Qn.message)}}})).apply(this,arguments)}function rt(Ft){return`${Ft.name}!${Ft.options.appId}`}class Tn{constructor(Kt){this.container=Kt,this._heartbeatsCache=null;const mn=this.container.getProvider("app").getImmediate();this._storage=new un(mn),this._heartbeatsCachePromise=this._storage.read().then(Qn=>(this._heartbeatsCache=Qn,Qn))}triggerHeartbeat(){var Kt=this;return(0,d.Z)(function*(){const Qn=Kt.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),gr=wn();if(null===Kt._heartbeatsCache&&(Kt._heartbeatsCache=yield Kt._heartbeatsCachePromise),Kt._heartbeatsCache.lastSentHeartbeatDate!==gr&&!Kt._heartbeatsCache.heartbeats.some(Fr=>Fr.date===gr))return Kt._heartbeatsCache.heartbeats.push({date:gr,agent:Qn}),Kt._heartbeatsCache.heartbeats=Kt._heartbeatsCache.heartbeats.filter(Fr=>{const Or=new Date(Fr.date).valueOf();return Date.now()-Or<=2592e6}),Kt._storage.overwrite(Kt._heartbeatsCache)})()}getHeartbeatsHeader(){var Kt=this;return(0,d.Z)(function*(){if(null===Kt._heartbeatsCache&&(yield Kt._heartbeatsCachePromise),null===Kt._heartbeatsCache||0===Kt._heartbeatsCache.heartbeats.length)return"";const mn=wn(),{heartbeatsToSend:Qn,unsentEntries:gr}=function Gn(Ft,Kt=1024){const mn=[];let Qn=Ft.slice();for(const gr of Ft){const Fr=mn.find(Or=>Or.agent===gr.agent);if(Fr){if(Fr.dates.push(gr.date),bn(mn)>Kt){Fr.dates.pop();break}}else if(mn.push({agent:gr.agent,dates:[gr.date]}),bn(mn)>Kt){mn.pop();break}Qn=Qn.slice(1)}return{heartbeatsToSend:mn,unsentEntries:Qn}}(Kt._heartbeatsCache.heartbeats),Fr=(0,Fe.L)(JSON.stringify({version:2,heartbeats:Qn}));return Kt._heartbeatsCache.lastSentHeartbeatDate=mn,gr.length>0?(Kt._heartbeatsCache.heartbeats=gr,yield Kt._storage.overwrite(Kt._heartbeatsCache)):(Kt._heartbeatsCache.heartbeats=[],Kt._storage.overwrite(Kt._heartbeatsCache)),Fr})()}}function wn(){return(new Date).toISOString().substring(0,10)}class un{constructor(Kt){this.app=Kt,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,d.Z)(function*(){return!!(0,Fe.hl)()&&(0,Fe.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Kt=this;return(0,d.Z)(function*(){return(yield Kt._canUseIndexedDBPromise)&&(yield function ee(Ft){return oe.apply(this,arguments)}(Kt.app))||{heartbeats:[]}})()}overwrite(Kt){var mn=this;return(0,d.Z)(function*(){var Qn;if(yield mn._canUseIndexedDBPromise){const Fr=yield mn.read();return qe(mn.app,{lastSentHeartbeatDate:null!==(Qn=Kt.lastSentHeartbeatDate)&&void 0!==Qn?Qn:Fr.lastSentHeartbeatDate,heartbeats:Kt.heartbeats})}})()}add(Kt){var mn=this;return(0,d.Z)(function*(){var Qn;if(yield mn._canUseIndexedDBPromise){const Fr=yield mn.read();return qe(mn.app,{lastSentHeartbeatDate:null!==(Qn=Kt.lastSentHeartbeatDate)&&void 0!==Qn?Qn:Fr.lastSentHeartbeatDate,heartbeats:[...Fr.heartbeats,...Kt.heartbeats]})}})()}}function bn(Ft){return(0,Fe.L)(JSON.stringify({version:2,heartbeats:Ft})).length}!function Nn(Ft){Ei(new v.wA("platform-logger",Kt=>new kt(Kt),"PRIVATE")),Ei(new v.wA("heartbeat",Kt=>new Tn(Kt),"PRIVATE")),In(Ae,"0.9.10",Ft),In(Ae,"0.9.10","esm2017"),In("fire-js","")}("")},4859:(er,Nt,H)=>{"use strict";H.d(Nt,{H0:()=>Re,wA:()=>ve,zt:()=>Xe});var d=H(5861),v=H(2090);class ve{constructor(Be,Me,ot){this.name=Be,this.instanceFactory=Me,this.type=ot,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(Be){return this.instantiationMode=Be,this}setMultipleInstances(Be){return this.multipleInstances=Be,this}setServiceProps(Be){return this.serviceProps=Be,this}setInstanceCreatedCallback(Be){return this.onInstanceCreated=Be,this}}const Fe="[DEFAULT]";class Xe{constructor(Be,Me){this.name=Be,this.container=Me,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(Be){const Me=this.normalizeInstanceIdentifier(Be);if(!this.instancesDeferred.has(Me)){const ot=new v.BH;if(this.instancesDeferred.set(Me,ot),this.isInitialized(Me)||this.shouldAutoInitialize())try{const Pe=this.getOrInitializeService({instanceIdentifier:Me});Pe&&ot.resolve(Pe)}catch{}}return this.instancesDeferred.get(Me).promise}getImmediate(Be){var Me;const ot=this.normalizeInstanceIdentifier(null==Be?void 0:Be.identifier),Pe=null!==(Me=null==Be?void 0:Be.optional)&&void 0!==Me&&Me;if(!this.isInitialized(ot)&&!this.shouldAutoInitialize()){if(Pe)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:ot})}catch(ct){if(Pe)return null;throw ct}}getComponent(){return this.component}setComponent(Be){if(Be.name!==this.name)throw Error(`Mismatching Component ${Be.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=Be,this.shouldAutoInitialize()){if(function Se(Qe){return"EAGER"===Qe.instantiationMode}(Be))try{this.getOrInitializeService({instanceIdentifier:Fe})}catch{}for(const[Me,ot]of this.instancesDeferred.entries()){const Pe=this.normalizeInstanceIdentifier(Me);try{const ct=this.getOrInitializeService({instanceIdentifier:Pe});ot.resolve(ct)}catch{}}}}clearInstance(Be=Fe){this.instancesDeferred.delete(Be),this.instancesOptions.delete(Be),this.instances.delete(Be)}delete(){var Be=this;return(0,d.Z)(function*(){const Me=Array.from(Be.instances.values());yield Promise.all([...Me.filter(ot=>"INTERNAL"in ot).map(ot=>ot.INTERNAL.delete()),...Me.filter(ot=>"_delete"in ot).map(ot=>ot._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(Be=Fe){return this.instances.has(Be)}getOptions(Be=Fe){return this.instancesOptions.get(Be)||{}}initialize(Be={}){const{options:Me={}}=Be,ot=this.normalizeInstanceIdentifier(Be.instanceIdentifier);if(this.isInitialized(ot))throw Error(`${this.name}(${ot}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Pe=this.getOrInitializeService({instanceIdentifier:ot,options:Me});for(const[ct,mt]of this.instancesDeferred.entries())ot===this.normalizeInstanceIdentifier(ct)&&mt.resolve(Pe);return Pe}onInit(Be,Me){var ot;const Pe=this.normalizeInstanceIdentifier(Me),ct=null!==(ot=this.onInitCallbacks.get(Pe))&&void 0!==ot?ot:new Set;ct.add(Be),this.onInitCallbacks.set(Pe,ct);const mt=this.instances.get(Pe);return mt&&Be(mt,Pe),()=>{ct.delete(Be)}}invokeOnInitCallbacks(Be,Me){const ot=this.onInitCallbacks.get(Me);if(ot)for(const Pe of ot)try{Pe(Be,Me)}catch{}}getOrInitializeService({instanceIdentifier:Be,options:Me={}}){let ot=this.instances.get(Be);if(!ot&&this.component&&(ot=this.component.instanceFactory(this.container,{instanceIdentifier:(Qe=Be,Qe===Fe?void 0:Qe),options:Me}),this.instances.set(Be,ot),this.instancesOptions.set(Be,Me),this.invokeOnInitCallbacks(ot,Be),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,Be,ot)}catch{}var Qe;return ot||null}normalizeInstanceIdentifier(Be=Fe){return this.component?this.component.multipleInstances?Be:Fe:Be}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Re{constructor(Be){this.name=Be,this.providers=new Map}addComponent(Be){const Me=this.getProvider(Be.name);if(Me.isComponentSet())throw new Error(`Component ${Be.name} has already been registered with ${this.name}`);Me.setComponent(Be)}addOrOverwriteComponent(Be){this.getProvider(Be.name).isComponentSet()&&this.providers.delete(Be.name),this.addComponent(Be)}getProvider(Be){if(this.providers.has(Be))return this.providers.get(Be);const Me=new Xe(Be,this);return this.providers.set(Be,Me),Me}getProviders(){return Array.from(this.providers.values())}}},4727:(er,Nt,H)=>{"use strict";var d=H(5861),v=H(6881),ve=H(4859),Fe=H(2090);const Xe=(re,ye)=>ye.some(st=>re instanceof st);let Ke,Se;const Be=new WeakMap,Me=new WeakMap,ot=new WeakMap,Pe=new WeakMap,ct=new WeakMap;let He={get(re,ye,st){if(re instanceof IDBTransaction){if("done"===ye)return Me.get(re);if("objectStoreNames"===ye)return re.objectStoreNames||ot.get(re);if("store"===ye)return st.objectStoreNames[1]?void 0:st.objectStore(st.objectStoreNames[0])}return ht(re[ye])},set:(re,ye,st)=>(re[ye]=st,!0),has:(re,ye)=>re instanceof IDBTransaction&&("done"===ye||"store"===ye)||ye in re};function Rt(re){return"function"==typeof re?function Lt(re){return re!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Qe(){return Se||(Se=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(re)?function(...ye){return re.apply(Ct(this),ye),ht(Be.get(this))}:function(...ye){return ht(re.apply(Ct(this),ye))}:function(ye,...st){const It=re.call(Ct(this),ye,...st);return ot.set(It,ye.sort?ye.sort():[ye]),ht(It)}}(re):(re instanceof IDBTransaction&&function Ut(re){if(Me.has(re))return;const ye=new Promise((st,It)=>{const Bt=()=>{re.removeEventListener("complete",tn),re.removeEventListener("error",Ln),re.removeEventListener("abort",Ln)},tn=()=>{st(),Bt()},Ln=()=>{It(re.error||new DOMException("AbortError","AbortError")),Bt()};re.addEventListener("complete",tn),re.addEventListener("error",Ln),re.addEventListener("abort",Ln)});Me.set(re,ye)}(re),Xe(re,function Re(){return Ke||(Ke=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(re,He):re)}function ht(re){if(re instanceof IDBRequest)return function mt(re){const ye=new Promise((st,It)=>{const Bt=()=>{re.removeEventListener("success",tn),re.removeEventListener("error",Ln)},tn=()=>{st(ht(re.result)),Bt()},Ln=()=>{It(re.error),Bt()};re.addEventListener("success",tn),re.addEventListener("error",Ln)});return ye.then(st=>{st instanceof IDBCursor&&Be.set(st,re)}).catch(()=>{}),ct.set(ye,re),ye}(re);if(Pe.has(re))return Pe.get(re);const ye=Rt(re);return ye!==re&&(Pe.set(re,ye),ct.set(ye,re)),ye}const Ct=re=>ct.get(re),vt=["get","getKey","getAll","getAllKeys","count"],it=["put","add","delete","clear"],Gt=new Map;function St(re,ye){if(!(re instanceof IDBDatabase)||ye in re||"string"!=typeof ye)return;if(Gt.get(ye))return Gt.get(ye);const st=ye.replace(/FromIndex$/,""),It=ye!==st,Bt=it.includes(st);if(!(st in(It?IDBIndex:IDBObjectStore).prototype)||!Bt&&!vt.includes(st))return;const tn=function(){var Ln=(0,d.Z)(function*(Hn,...Lr){const ai=this.transaction(Hn,Bt?"readwrite":"readonly");let ms=ai.store;return It&&(ms=ms.index(Lr.shift())),(yield Promise.all([ms[st](...Lr),Bt&&ai.done]))[0]});return function(Lr){return Ln.apply(this,arguments)}}();return Gt.set(ye,tn),tn}!function $e(re){He=re(He)}(re=>({...re,get:(ye,st,It)=>St(ye,st)||re.get(ye,st,It),has:(ye,st)=>!!St(ye,st)||re.has(ye,st)}));const kt="@firebase/installations",Qt="0.6.4",Ae=1e4,Je=`w:${Qt}`,ut="FIS_v2",_t="https://firebaseinstallations.googleapis.com/v1",tt=36e5,Pt=new Fe.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function sn(re){return re instanceof Fe.ZR&&re.code.includes("request-failed")}function ln({projectId:re}){return`${_t}/projects/${re}/installations`}function Oe(re){return{token:re.token,requestStatus:2,expiresIn:lr(re.expiresIn),creationTime:Date.now()}}function rn(re,ye){return wt.apply(this,arguments)}function wt(){return(wt=(0,d.Z)(function*(re,ye){const It=(yield ye.json()).error;return Pt.create("request-failed",{requestName:re,serverCode:It.code,serverMessage:It.message,serverStatus:It.status})})).apply(this,arguments)}function fn({apiKey:re}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":re})}function tr(re){return ur.apply(this,arguments)}function ur(){return(ur=(0,d.Z)(function*(re){const ye=yield re();return ye.status>=500&&ye.status<600?re():ye})).apply(this,arguments)}function lr(re){return Number(re.replace("s","000"))}function cn(){return(cn=(0,d.Z)(function*({appConfig:re,heartbeatServiceProvider:ye},{fid:st}){const It=ln(re),Bt=fn(re),tn=ye.getImmediate({optional:!0});if(tn){const ai=yield tn.getHeartbeatsHeader();ai&&Bt.append("x-firebase-client",ai)}const Hn={method:"POST",headers:Bt,body:JSON.stringify({fid:st,authVersion:ut,appId:re.appId,sdkVersion:Je})},Lr=yield tr(()=>fetch(It,Hn));if(Lr.ok){const ai=yield Lr.json();return{fid:ai.fid||st,registrationStatus:2,refreshToken:ai.refreshToken,authToken:Oe(ai.authToken)}}throw yield rn("Create Installation",Lr)})).apply(this,arguments)}function Pr(re){return new Promise(ye=>{setTimeout(ye,re)})}const Sr=/^[cdef][\w-]{21}$/,On="";function Gr(){try{const re=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(re),re[0]=112+re[0]%16;const st=function Qr(re){return function Wr(re){return btoa(String.fromCharCode(...re)).replace(/\+/g,"-").replace(/\//g,"_")}(re).substr(0,22)}(re);return Sr.test(st)?st:On}catch{return On}}function br(re){return`${re.appName}!${re.appId}`}const $r=new Map;function ui(re,ye){const st=br(re);rr(st,ye),function Ei(re,ye){const st=function ni(){return!di&&"BroadcastChannel"in self&&(di=new BroadcastChannel("[Firebase] FID Change"),di.onmessage=re=>{rr(re.data.key,re.data.fid)}),di}();st&&st.postMessage({key:re,fid:ye}),function ri(){0===$r.size&&di&&(di.close(),di=null)}()}(st,ye)}function rr(re,ye){const st=$r.get(re);if(st)for(const It of st)It(ye)}let di=null;const oi="firebase-installations-database",Er=1,pr="firebase-installations-store";let yi=null;function Ar(){return yi||(yi=function Tt(re,ye,{blocked:st,upgrade:It,blocking:Bt,terminated:tn}={}){const Ln=indexedDB.open(re,ye),Hn=ht(Ln);return It&&Ln.addEventListener("upgradeneeded",Lr=>{It(ht(Ln.result),Lr.oldVersion,Lr.newVersion,ht(Ln.transaction))}),st&&Ln.addEventListener("blocked",()=>st()),Hn.then(Lr=>{tn&&Lr.addEventListener("close",()=>tn()),Bt&&Lr.addEventListener("versionchange",()=>Bt())}).catch(()=>{}),Hn}(oi,Er,{upgrade:(re,ye)=>{0===ye&&re.createObjectStore(pr)}})),yi}function An(re,ye){return xe.apply(this,arguments)}function xe(){return(xe=(0,d.Z)(function*(re,ye){const st=br(re),Bt=(yield Ar()).transaction(pr,"readwrite"),tn=Bt.objectStore(pr),Ln=yield tn.get(st);return yield tn.put(ye,st),yield Bt.done,(!Ln||Ln.fid!==ye.fid)&&ui(re,ye.fid),ye})).apply(this,arguments)}function gt(re){return Wt.apply(this,arguments)}function Wt(){return(Wt=(0,d.Z)(function*(re){const ye=br(re),It=(yield Ar()).transaction(pr,"readwrite");yield It.objectStore(pr).delete(ye),yield It.done})).apply(this,arguments)}function In(re,ye){return Wn.apply(this,arguments)}function Wn(){return(Wn=(0,d.Z)(function*(re,ye){const st=br(re),Bt=(yield Ar()).transaction(pr,"readwrite"),tn=Bt.objectStore(pr),Ln=yield tn.get(st),Hn=ye(Ln);return void 0===Hn?yield tn.delete(st):yield tn.put(Hn,st),yield Bt.done,Hn&&(!Ln||Ln.fid!==Hn.fid)&&ui(re,Hn.fid),Hn})).apply(this,arguments)}function Kr(re){return Nr.apply(this,arguments)}function Nr(){return Nr=(0,d.Z)(function*(re){let ye;const st=yield In(re.appConfig,It=>{const Bt=function Rr(re){return xt(re||{fid:Gr(),registrationStatus:0})}(It),tn=function yt(re,ye){if(0===ye.registrationStatus){if(!navigator.onLine)return{installationEntry:ye,registrationPromise:Promise.reject(Pt.create("app-offline"))};const st={fid:ye.fid,registrationStatus:1,registrationTime:Date.now()},It=function Te(re,ye){return se.apply(this,arguments)}(re,st);return{installationEntry:st,registrationPromise:It}}return 1===ye.registrationStatus?{installationEntry:ye,registrationPromise:ee(re)}:{installationEntry:ye}}(re,Bt);return ye=tn.registrationPromise,tn.installationEntry});return st.fid===On?{installationEntry:yield ye}:{installationEntry:st,registrationPromise:ye}}),Nr.apply(this,arguments)}function se(){return se=(0,d.Z)(function*(re,ye){try{const st=yield function Xn(re,ye){return cn.apply(this,arguments)}(re,ye);return An(re.appConfig,st)}catch(st){throw sn(st)&&409===st.customData.serverCode?yield gt(re.appConfig):yield An(re.appConfig,{fid:ye.fid,registrationStatus:0}),st}}),se.apply(this,arguments)}function ee(re){return oe.apply(this,arguments)}function oe(){return(oe=(0,d.Z)(function*(re){let ye=yield qe(re.appConfig);for(;1===ye.registrationStatus;)yield Pr(100),ye=yield qe(re.appConfig);if(0===ye.registrationStatus){const{installationEntry:st,registrationPromise:It}=yield Kr(re);return It||st}return ye})).apply(this,arguments)}function qe(re){return In(re,ye=>{if(!ye)throw Pt.create("installation-not-found");return xt(ye)})}function xt(re){return function rt(re){return 1===re.registrationStatus&&re.registrationTime+Ae<Date.now()}(re)?{fid:re.fid,registrationStatus:0}:re}function nn(){return(nn=(0,d.Z)(function*({appConfig:re,heartbeatServiceProvider:ye},st){const It=function Tn(re,{fid:ye}){return`${ln(re)}/${ye}/authTokens:generate`}(re,st),Bt=function _n(re,{refreshToken:ye}){const st=fn(re);return st.append("Authorization",function hn(re){return`${ut} ${re}`}(ye)),st}(re,st),tn=ye.getImmediate({optional:!0});if(tn){const ai=yield tn.getHeartbeatsHeader();ai&&Bt.append("x-firebase-client",ai)}const Hn={method:"POST",headers:Bt,body:JSON.stringify({installation:{sdkVersion:Je,appId:re.appId}})},Lr=yield tr(()=>fetch(It,Hn));if(Lr.ok)return Oe(yield Lr.json());throw yield rn("Generate Auth Token",Lr)})).apply(this,arguments)}function wn(re){return Gn.apply(this,arguments)}function Gn(){return Gn=(0,d.Z)(function*(re,ye=!1){let st;const It=yield In(re.appConfig,tn=>{if(!mn(tn))throw Pt.create("not-registered");const Ln=tn.authToken;if(!ye&&function Qn(re){return 2===re.requestStatus&&!function gr(re){const ye=Date.now();return ye<re.creationTime||re.creationTime+re.expiresIn<ye+tt}(re)}(Ln))return tn;if(1===Ln.requestStatus)return st=function un(re,ye){return bn.apply(this,arguments)}(re,ye),tn;{if(!navigator.onLine)throw Pt.create("app-offline");const Hn=function Fr(re){const ye={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},re),{authToken:ye})}(tn);return st=function Ft(re,ye){return Kt.apply(this,arguments)}(re,Hn),Hn}});return st?yield st:It.authToken}),Gn.apply(this,arguments)}function bn(){return(bn=(0,d.Z)(function*(re,ye){let st=yield Nn(re.appConfig);for(;1===st.authToken.requestStatus;)yield Pr(100),st=yield Nn(re.appConfig);const It=st.authToken;return 0===It.requestStatus?wn(re,ye):It})).apply(this,arguments)}function Nn(re){return In(re,ye=>{if(!mn(ye))throw Pt.create("not-registered");return function Or(re){return 1===re.requestStatus&&re.requestTime+Ae<Date.now()}(ye.authToken)?Object.assign(Object.assign({},ye),{authToken:{requestStatus:0}}):ye})}function Kt(){return Kt=(0,d.Z)(function*(re,ye){try{const st=yield function Vt(re,ye){return nn.apply(this,arguments)}(re,ye),It=Object.assign(Object.assign({},ye),{authToken:st});return yield An(re.appConfig,It),st}catch(st){if(!sn(st)||401!==st.customData.serverCode&&404!==st.customData.serverCode){const It=Object.assign(Object.assign({},ye),{authToken:{requestStatus:0}});yield An(re.appConfig,It)}else yield gt(re.appConfig);throw st}}),Kt.apply(this,arguments)}function mn(re){return void 0!==re&&2===re.registrationStatus}function Yr(){return(Yr=(0,d.Z)(function*(re){const ye=re,{installationEntry:st,registrationPromise:It}=yield Kr(ye);return It?It.catch(console.error):wn(ye).catch(console.error),st.fid})).apply(this,arguments)}function ei(){return ei=(0,d.Z)(function*(re,ye=!1){const st=re;return yield function ns(re){return uo.apply(this,arguments)}(st),(yield wn(st,ye)).token}),ei.apply(this,arguments)}function uo(){return(uo=(0,d.Z)(function*(re){const{registrationPromise:ye}=yield Kr(re);ye&&(yield ye)})).apply(this,arguments)}function Bs(re){return Pt.create("missing-app-config-values",{valueName:re})}const Zs="installations",pe=re=>{const ye=re.getProvider("app").getImmediate(),st=function io(re){if(!re||!re.options)throw Bs("App Configuration");if(!re.name)throw Bs("App Name");const ye=["projectId","apiKey","appId"];for(const st of ye)if(!re.options[st])throw Bs(st);return{appName:re.name,projectId:re.options.projectId,apiKey:re.options.apiKey,appId:re.options.appId}}(ye);return{app:ye,appConfig:st,heartbeatServiceProvider:(0,v._getProvider)(ye,"heartbeat"),_delete:()=>Promise.resolve()}},ke=re=>{const ye=re.getProvider("app").getImmediate(),st=(0,v._getProvider)(ye,Zs).getImmediate();return{getId:()=>function Ri(re){return Yr.apply(this,arguments)}(st),getToken:Bt=>function jr(re){return ei.apply(this,arguments)}(st,Bt)}};(function _e(){(0,v._registerComponent)(new ve.wA(Zs,pe,"PUBLIC")),(0,v._registerComponent)(new ve.wA("installations-internal",ke,"PRIVATE"))})(),(0,v.registerVersion)(kt,Qt),(0,v.registerVersion)(kt,Qt,"esm2017")},1877:(er,Nt,H)=>{"use strict";H.d(Nt,{Am:()=>Qe,Ub:()=>Re,Yd:()=>Se,in:()=>v});const d=[];var v=(()=>((v=v||{})[v.DEBUG=0]="DEBUG",v[v.VERBOSE=1]="VERBOSE",v[v.INFO=2]="INFO",v[v.WARN=3]="WARN",v[v.ERROR=4]="ERROR",v[v.SILENT=5]="SILENT",v))();const ve={debug:v.DEBUG,verbose:v.VERBOSE,info:v.INFO,warn:v.WARN,error:v.ERROR,silent:v.SILENT},Fe=v.INFO,Xe={[v.DEBUG]:"log",[v.VERBOSE]:"log",[v.INFO]:"info",[v.WARN]:"warn",[v.ERROR]:"error"},Ke=(Be,Me,...ot)=>{if(Me<Be.logLevel)return;const Pe=(new Date).toISOString(),ct=Xe[Me];if(!ct)throw new Error(`Attempted to log a message with an invalid logType (value: ${Me})`);console[ct](`[${Pe}]  ${Be.name}:`,...ot)};class Se{constructor(Me){this.name=Me,this._logLevel=Fe,this._logHandler=Ke,this._userLogHandler=null,d.push(this)}get logLevel(){return this._logLevel}set logLevel(Me){if(!(Me in v))throw new TypeError(`Invalid value "${Me}" assigned to \`logLevel\``);this._logLevel=Me}setLogLevel(Me){this._logLevel="string"==typeof Me?ve[Me]:Me}get logHandler(){return this._logHandler}set logHandler(Me){if("function"!=typeof Me)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=Me}get userLogHandler(){return this._userLogHandler}set userLogHandler(Me){this._userLogHandler=Me}debug(...Me){this._userLogHandler&&this._userLogHandler(this,v.DEBUG,...Me),this._logHandler(this,v.DEBUG,...Me)}log(...Me){this._userLogHandler&&this._userLogHandler(this,v.VERBOSE,...Me),this._logHandler(this,v.VERBOSE,...Me)}info(...Me){this._userLogHandler&&this._userLogHandler(this,v.INFO,...Me),this._logHandler(this,v.INFO,...Me)}warn(...Me){this._userLogHandler&&this._userLogHandler(this,v.WARN,...Me),this._logHandler(this,v.WARN,...Me)}error(...Me){this._userLogHandler&&this._userLogHandler(this,v.ERROR,...Me),this._logHandler(this,v.ERROR,...Me)}}function Re(Be){d.forEach(Me=>{Me.setLogLevel(Be)})}function Qe(Be,Me){for(const ot of d){let Pe=null;Me&&Me.level&&(Pe=ve[Me.level]),ot.userLogHandler=null===Be?null:(ct,mt,...Ut)=>{const He=Ut.map($e=>{if(null==$e)return null;if("string"==typeof $e)return $e;if("number"==typeof $e||"boolean"==typeof $e)return $e.toString();if($e instanceof Error)return $e.message;try{return JSON.stringify($e)}catch{return null}}).filter($e=>$e).join(" ");mt>=(null!=Pe?Pe:ct.logLevel)&&Be({level:v[mt].toLowerCase(),message:He,args:Ut,type:ct.name})}}}},9972:(er,Nt,H)=>{"use strict";H.d(Nt,{Br:()=>Ws,dr:()=>Gr,oU:()=>br,cs:()=>so,YG:()=>rr,Sm:()=>Ei,PM:()=>di,FN:()=>ni,Zi:()=>ri,tO:()=>oi,Dq:()=>Er,hM:()=>yi,wI:()=>Ar,W2:()=>An,IJ:()=>Wt,W4:()=>In,zq:()=>Wn,jY:()=>Nr,Gu:()=>Rr,gu:()=>yt,Xz:()=>Te,pK:()=>oe,Ie:()=>qe,Q$:()=>wn,q_:()=>Gn,fG:()=>Ft,jP:()=>Ai,Nd:()=>rs,yq:()=>pe,ZU:()=>ke,UN:()=>Os,yW:()=>_e,wd:()=>st,sr:()=>tn,Pc:()=>oo,r4:()=>ds,HT:()=>Yi,SH:()=>$s,X1:()=>$i,t4:()=>ai,j9:()=>tr,yF:()=>mo});var d=H(5861),v=H(2223),ve=H(5030),Fe=H(655),Xe=H(4968),Ke=H(7579),Se=H(1135),Re=H(5559),Pe=(H(9613),H(3551),H(1138),H(1898),H(5273)),ct=H(3577),mt=H(3982),Ut=H(9866),$e=(H(8126),H(2583)),ht=(H(3457),H(4349),H(4083)),Tt=H(9300),Dt=H(3900),vt=H(1884),it=H(4755);const St=Pe.i,Ae=["*"],Je=["outlet"],ut=[[["","slot","top"]],"*"],_t=["[slot=top]","*"],ft=k=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(k):"function"==typeof requestAnimationFrame?requestAnimationFrame(k):setTimeout(k);let jt=(()=>{class k{constructor(N,de){this.injector=N,this.el=de,this.onChange=()=>{},this.onTouched=()=>{}}writeValue(N){this.el.nativeElement.value=this.lastValue=N,Pt(this.el)}handleValueChange(N,de){N===this.el.nativeElement&&(de!==this.lastValue&&(this.lastValue=de,this.onChange(de)),Pt(this.el))}_handleBlurEvent(N){N===this.el.nativeElement&&(this.onTouched(),Pt(this.el))}registerOnChange(N){this.onChange=N}registerOnTouched(N){this.onTouched=N}setDisabledState(N){this.el.nativeElement.disabled=N}ngOnDestroy(){this.statusChanges&&this.statusChanges.unsubscribe()}ngAfterViewInit(){let N;try{N=this.injector.get(ve.a5)}catch{}if(!N)return;N.statusChanges&&(this.statusChanges=N.statusChanges.subscribe(()=>Pt(this.el)));const de=N.control;de&&["markAsTouched","markAllAsTouched","markAsUntouched","markAsDirty","markAsPristine"].forEach(Sn=>{if(typeof de[Sn]<"u"){const xr=de[Sn].bind(de);de[Sn]=(...Jr)=>{xr(...Jr),Pt(this.el)}}})}}return k.\u0275fac=function(N){return new(N||k)(v.Y36(v.zs3),v.Y36(v.SBq))},k.\u0275dir=v.lG2({type:k,hostBindings:function(N,de){1&N&&v.NdJ("ionBlur",function(Sn){return de._handleBlurEvent(Sn.target)})}}),k})();const Pt=k=>{ft(()=>{const ue=k.nativeElement,N=null!=ue.value&&ue.value.toString().length>0,de=sn(ue);ln(ue,de);const Ze=ue.closest("ion-item");Ze&&ln(Ze,N?[...de,"item-has-value"]:de)})},sn=k=>{const ue=k.classList,N=[];for(let de=0;de<ue.length;de++){const Ze=ue.item(de);null!==Ze&&Oe(Ze,"ng-")&&N.push(`ion-${Ze.substring(3)}`)}return N},ln=(k,ue)=>{const N=k.classList;N.remove("ion-valid","ion-invalid","ion-touched","ion-untouched","ion-dirty","ion-pristine"),N.add(...ue)},Oe=(k,ue)=>k.substring(0,ue.length)===ue;let tr=(()=>{class k extends jt{constructor(N,de){super(N,de)}_handleInputEvent(N){this.handleValueChange(N,N.value)}}return k.\u0275fac=function(N){return new(N||k)(v.Y36(v.zs3),v.Y36(v.SBq))},k.\u0275dir=v.lG2({type:k,selectors:[["ion-input",3,"type","number"],["ion-textarea"],["ion-searchbar"]],hostBindings:function(N,de){1&N&&v.NdJ("ionInput",function(Sn){return de._handleInputEvent(Sn.target)})},features:[v._Bn([{provide:ve.JU,useExisting:k,multi:!0}]),v.qOj]}),k})();const ur=(k,ue)=>{const N=k.prototype;ue.forEach(de=>{Object.defineProperty(N,de,{get(){return this.el[de]},set(Ze){this.z.runOutsideAngular(()=>this.el[de]=Ze)}})})},lr=(k,ue)=>{const N=k.prototype;ue.forEach(de=>{N[de]=function(){const Ze=arguments;return this.z.runOutsideAngular(()=>this.el[de].apply(this.el,Ze))}})},hn=(k,ue,N)=>{N.forEach(de=>k[de]=(0,Xe.R)(ue,de))};function cn(k){return function(N){const{defineCustomElementFn:de,inputs:Ze,methods:Sn}=k;return void 0!==de&&de(),Ze&&ur(N,Ze),Sn&&lr(N,Sn),N}}let Gr=(()=>{let k=class{constructor(N,de,Ze){this.z=Ze,N.detach(),this.el=de.nativeElement}};return k.\u0275fac=function(N){return new(N||k)(v.Y36(v.sBO),v.Y36(v.SBq),v.Y36(v.R0b))},k.\u0275cmp=v.Xpm({type:k,selectors:[["ion-app"]],ngContentSelectors:Ae,decls:1,vars:0,template:function(N,de){1&N&&(v.F$t(),v.Hsn(0))},encapsulation:2,changeDetection:0}),k=(0,Fe.gn)([cn({})],k),k})(),br=(()=>{let k=class{constructor(N,de,Ze){this.z=Ze,N.detach(),this.el=de.nativeElement}};return k.\u0275fac=function(N){return new(N||k)(v.Y36(v.sBO),v.Y36(v.SBq),v.Y36(v.R0b))},k.\u0275cmp=v.Xpm({type:k,selectors:[["ion-back-button"]],inputs:{color:"color",defaultHref:"defaultHref",disabled:"disabled",icon:"icon",mode:"mode",routerAnimation:"routerAnimation",text:"text",type:"type"},ngContentSelectors:Ae,decls:1,vars:0,template:function(N,de){1&N&&(v.F$t(),v.Hsn(0))},encapsulation:2,changeDetection:0}),k=(0,Fe.gn)([cn({inputs:["color","defaultHref","disabled","icon","mode","routerAnimation","text","type"]})],k),k})(),rr=(()=>{let k=class{constructor(N,de,Ze){this.z=Ze,N.detach(),this.el=de.nativeElement,hn(this,this.el,["ionFocus","ionBlur"])}};return k.\u0275fac=function(N){return new(N||k)(v.Y36(v.sBO),v.Y36(v.SBq),v.Y36(v.R0b))},k.\u0275cmp=v.Xpm({type:k,selectors:[["ion-button"]],inputs:{buttonType:"buttonType",color:"color",disabled:"disabled",download:"download",expand:"expand",fill:"fill",form:"form",href:"href",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",shape:"shape",size:"size",strong:"strong",target:"target",type:"type"},ngContentSelectors:Ae,decls:1,vars:0,template:function(N,de){1&N&&(v.F$t(),v.Hsn(0))},encapsulation:2,changeDetection:0}),k=(0,Fe.gn)([cn({inputs:["buttonType","color","disabled","download","expand","fill","form","href","mode","rel","routerAnimation","routerDirection","shape","size","strong","target","type"]})],k),k})(),Ei=(()=>{let k=class{constructor(N,de,Ze){this.z=Ze,N.detach(),this.el=de.nativeElement}};return k.\u0275fac=function(N){return new(N||k)(v.Y36(v.sBO),v.Y36(v.SBq),v.Y36(v.R0b))},k.\u0275cmp=v.Xpm({type:k,selectors:[["ion-buttons"]],inputs:{collapse:"collapse"},ngContentSelectors:Ae,decls:1,vars:0,template:function(N,de){1&N&&(v.F$t(),v.Hsn(0))},encapsulation:2,changeDetection:0}),k=(0,Fe.gn)([cn({inputs:["collapse"]})],k),k})(),di=(()=>{let k=class{constructor(N,de,Ze){this.z=Ze,N.detach(),this.el=de.nativeElement}};return k.\u0275fac=function(N){return new(N||k)(v.Y36(v.sBO),v.Y36(v.SBq),v.Y36(v.R0b))},k.\u0275cmp=v.Xpm({type:k,selectors:[["ion-card"]],inputs:{button:"button",color:"color",disabled:"disabled",download:"download",href:"href",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",target:"target",type:"type"},ngContentSelectors:Ae,decls:1,vars:0,template:function(N,de){1&N&&(v.F$t(),v.Hsn(0))},encapsulation:2,changeDetection:0}),k=(0,Fe.gn)([cn({inputs:["button","color","disabled","download","href","mode","rel","routerAnimation","routerDirection","target","type"]})],k),k})(),ni=(()=>{let k=class{constructor(N,de,Ze){this.z=Ze,N.detach(),this.el=de.nativeElement}};return k.\u0275fac=function(N){return new(N||k)(v.Y36(v.sBO),v.Y36(v.SBq),v.Y36(v.R0b))},k.\u0275cmp=v.Xpm({type:k,selectors:[["ion-card-content"]],inputs:{mode:"mode"},ngContentSelectors:Ae,decls:1,vars:0,template:function(N,de){1&N&&(v.F$t(),v.Hsn(0))},encapsulation:2,changeDetection:0}),k=(0,Fe.gn)([cn({inputs:["mode"]})],k),k})(),ri=(()=>{let k=class{constructor(N,de,Ze){this.z=Ze,N.detach(),this.el=de.nativeElement}};return k.\u0275fac=function(N){return new(N||k)(v.Y36(v.sBO),v.Y36(v.SBq),v.Y36(v.R0b))},k.\u0275cmp=v.Xpm({type:k,selectors:[["ion-card-header"]],inputs:{color:"color",mode:"mode",translucent:"translucent"},ngContentSelectors:Ae,decls:1,vars:0,template:function(N,de){1&N&&(v.F$t(),v.Hsn(0))},encapsulation:2,changeDetection:0}),k=(0,Fe.gn)([cn({inputs:["color","mode","translucent"]})],k),k})(),oi=(()=>{let k=class{constructor(N,de,Ze){this.z=Ze,N.detach(),this.el=de.nativeElement}};return k.\u0275fac=function(N){return new(N||k)(v.Y36(v.sBO),v.Y36(v.SBq),v.Y36(v.R0b))},k.\u0275cmp=v.Xpm({type:k,selectors:[["ion-card-subtitle"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:Ae,decls:1,vars:0,template:function(N,de){1&N&&(v.F$t(),v.Hsn(0))},encapsulation:2,changeDetection:0}),k=(0,Fe.gn)([cn({inputs:["color","mode"]})],k),k})(),Er=(()=>{let k=class{constructor(N,de,Ze){this.z=Ze,N.detach(),this.el=de.nativeElement}};return k.\u0275fac=function(N){return new(N||k)(v.Y36(v.sBO),v.Y36(v.SBq),v.Y36(v.R0b))},k.\u0275cmp=v.Xpm({type:k,selectors:[["ion-card-title"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:Ae,decls:1,vars:0,template:function(N,de){1&N&&(v.F$t(),v.Hsn(0))},encapsulation:2,changeDetection:0}),k=(0,Fe.gn)([cn({inputs:["color","mode"]})],k),k})(),yi=(()=>{let k=class{constructor(N,de,Ze){this.z=Ze,N.detach(),this.el=de.nativeElement}};return k.\u0275fac=function(N){return new(N||k)(v.Y36(v.sBO),v.Y36(v.SBq),v.Y36(v.R0b))},k.\u0275cmp=v.Xpm({type:k,selectors:[["ion-chip"]],inputs:{color:"color",disabled:"disabled",mode:"mode",outline:"outline"},ngContentSelectors:Ae,decls:1,vars:0,template:function(N,de){1&N&&(v.F$t(),v.Hsn(0))},encapsulation:2,changeDetection:0}),k=(0,Fe.gn)([cn({inputs:["color","disabled","mode","outline"]})],k),k})(),Ar=(()=>{let k=class{constructor(N,de,Ze){this.z=Ze,N.detach(),this.el=de.nativeElement}};return k.\u0275fac=function(N){return new(N||k)(v.Y36(v.sBO),v.Y36(v.SBq),v.Y36(v.R0b))},k.\u0275cmp=v.Xpm({type:k,selectors:[["ion-col"]],inputs:{offset:"offset",offsetLg:"offsetLg",offsetMd:"offsetMd",offsetSm:"offsetSm",offsetXl:"offsetXl",offsetXs:"offsetXs",pull:"pull",pullLg:"pullLg",pullMd:"pullMd",pullSm:"pullSm",pullXl:"pullXl",pullXs:"pullXs",push:"push",pushLg:"pushLg",pushMd:"pushMd",pushSm:"pushSm",pushXl:"pushXl",pushXs:"pushXs",size:"size",sizeLg:"sizeLg",sizeMd:"sizeMd",sizeSm:"sizeSm",sizeXl:"sizeXl",sizeXs:"sizeXs"},ngContentSelectors:Ae,decls:1,vars:0,template:function(N,de){1&N&&(v.F$t(),v.Hsn(0))},encapsulation:2,changeDetection:0}),k=(0,Fe.gn)([cn({inputs:["offset","offsetLg","offsetMd","offsetSm","offsetXl","offsetXs","pull","pullLg","pullMd","pullSm","pullXl","pullXs","push","pushLg","pushMd","pushSm","pushXl","pushXs","size","sizeLg","sizeMd","sizeSm","sizeXl","sizeXs"]})],k),k})(),An=(()=>{let k=class{constructor(N,de,Ze){this.z=Ze,N.detach(),this.el=de.nativeElement,hn(this,this.el,["ionScrollStart","ionScroll","ionScrollEnd"])}};return k.\u0275fac=function(N){return new(N||k)(v.Y36(v.sBO),v.Y36(v.SBq),v.Y36(v.R0b))},k.\u0275cmp=v.Xpm({type:k,selectors:[["ion-content"]],inputs:{color:"color",forceOverscroll:"forceOverscroll",fullscreen:"fullscreen",scrollEvents:"scrollEvents",scrollX:"scrollX",scrollY:"scrollY"},ngContentSelectors:Ae,decls:1,vars:0,template:function(N,de){1&N&&(v.F$t(),v.Hsn(0))},encapsulation:2,changeDetection:0}),k=(0,Fe.gn)([cn({inputs:["color","forceOverscroll","fullscreen","scrollEvents","scrollX","scrollY"],methods:["getScrollElement","scrollToTop","scrollToBottom","scrollByPoint","scrollToPoint"]})],k),k})(),Wt=(()=>{let k=class{constructor(N,de,Ze){this.z=Ze,N.detach(),this.el=de.nativeElement}};return k.\u0275fac=function(N){return new(N||k)(v.Y36(v.sBO),v.Y36(v.SBq),v.Y36(v.R0b))},k.\u0275cmp=v.Xpm({type:k,selectors:[["ion-fab"]],inputs:{activated:"activated",edge:"edge",horizontal:"horizontal",vertical:"vertical"},ngContentSelectors:Ae,decls:1,vars:0,template:function(N,de){1&N&&(v.F$t(),v.Hsn(0))},encapsulation:2,changeDetection:0}),k=(0,Fe.gn)([cn({inputs:["activated","edge","horizontal","vertical"],methods:["close"]})],k),k})(),In=(()=>{let k=class{constructor(N,de,Ze){this.z=Ze,N.detach(),this.el=de.nativeElement,hn(this,this.el,["ionFocus","ionBlur"])}};return k.\u0275fac=function(N){return new(N||k)(v.Y36(v.sBO),v.Y36(v.SBq),v.Y36(v.R0b))},k.\u0275cmp=v.Xpm({type:k,selectors:[["ion-fab-button"]],inputs:{activated:"activated",closeIcon:"closeIcon",color:"color",disabled:"disabled",download:"download",href:"href",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",show:"show",size:"size",target:"target",translucent:"translucent",type:"type"},ngContentSelectors:Ae,decls:1,vars:0,template:function(N,de){1&N&&(v.F$t(),v.Hsn(0))},encapsulation:2,changeDetection:0}),k=(0,Fe.gn)([cn({inputs:["activated","closeIcon","color","disabled","download","href","mode","rel","routerAnimation","routerDirection","show","size","target","translucent","type"]})],k),k})(),Wn=(()=>{let k=class{constructor(N,de,Ze){this.z=Ze,N.detach(),this.el=de.nativeElement}};return k.\u0275fac=function(N){return new(N||k)(v.Y36(v.sBO),v.Y36(v.SBq),v.Y36(v.R0b))},k.\u0275cmp=v.Xpm({type:k,selectors:[["ion-fab-list"]],inputs:{activated:"activated",side:"side"},ngContentSelectors:Ae,decls:1,vars:0,template:function(N,de){1&N&&(v.F$t(),v.Hsn(0))},encapsulation:2,changeDetection:0}),k=(0,Fe.gn)([cn({inputs:["activated","side"]})],k),k})(),Nr=(()=>{let k=class{constructor(N,de,Ze){this.z=Ze,N.detach(),this.el=de.nativeElement}};return k.\u0275fac=function(N){return new(N||k)(v.Y36(v.sBO),v.Y36(v.SBq),v.Y36(v.R0b))},k.\u0275cmp=v.Xpm({type:k,selectors:[["ion-grid"]],inputs:{fixed:"fixed"},ngContentSelectors:Ae,decls:1,vars:0,template:function(N,de){1&N&&(v.F$t(),v.Hsn(0))},encapsulation:2,changeDetection:0}),k=(0,Fe.gn)([cn({inputs:["fixed"]})],k),k})(),Rr=(()=>{let k=class{constructor(N,de,Ze){this.z=Ze,N.detach(),this.el=de.nativeElement}};return k.\u0275fac=function(N){return new(N||k)(v.Y36(v.sBO),v.Y36(v.SBq),v.Y36(v.R0b))},k.\u0275cmp=v.Xpm({type:k,selectors:[["ion-header"]],inputs:{collapse:"collapse",mode:"mode",translucent:"translucent"},ngContentSelectors:Ae,decls:1,vars:0,template:function(N,de){1&N&&(v.F$t(),v.Hsn(0))},encapsulation:2,changeDetection:0}),k=(0,Fe.gn)([cn({inputs:["collapse","mode","translucent"]})],k),k})(),yt=(()=>{let k=class{constructor(N,de,Ze){this.z=Ze,N.detach(),this.el=de.nativeElement}};return k.\u0275fac=function(N){return new(N||k)(v.Y36(v.sBO),v.Y36(v.SBq),v.Y36(v.R0b))},k.\u0275cmp=v.Xpm({type:k,selectors:[["ion-icon"]],inputs:{color:"color",flipRtl:"flipRtl",icon:"icon",ios:"ios",lazy:"lazy",md:"md",mode:"mode",name:"name",sanitize:"sanitize",size:"size",src:"src"},ngContentSelectors:Ae,decls:1,vars:0,template:function(N,de){1&N&&(v.F$t(),v.Hsn(0))},encapsulation:2,changeDetection:0}),k=(0,Fe.gn)([cn({inputs:["color","flipRtl","icon","ios","lazy","md","mode","name","sanitize","size","src"]})],k),k})(),Te=(()=>{let k=class{constructor(N,de,Ze){this.z=Ze,N.detach(),this.el=de.nativeElement,hn(this,this.el,["ionImgWillLoad","ionImgDidLoad","ionError"])}};return k.\u0275fac=function(N){return new(N||k)(v.Y36(v.sBO),v.Y36(v.SBq),v.Y36(v.R0b))},k.\u0275cmp=v.Xpm({type:k,selectors:[["ion-img"]],inputs:{alt:"alt",src:"src"},ngContentSelectors:Ae,decls:1,vars:0,template:function(N,de){1&N&&(v.F$t(),v.Hsn(0))},encapsulation:2,changeDetection:0}),k=(0,Fe.gn)([cn({inputs:["alt","src"]})],k),k})(),oe=(()=>{let k=class{constructor(N,de,Ze){this.z=Ze,N.detach(),this.el=de.nativeElement,hn(this,this.el,["ionInput","ionChange","ionBlur","ionFocus"])}};return k.\u0275fac=function(N){return new(N||k)(v.Y36(v.sBO),v.Y36(v.SBq),v.Y36(v.R0b))},k.\u0275cmp=v.Xpm({type:k,selectors:[["ion-input"]],inputs:{accept:"accept",autocapitalize:"autocapitalize",autocomplete:"autocomplete",autocorrect:"autocorrect",autofocus:"autofocus",clearInput:"clearInput",clearOnEdit:"clearOnEdit",color:"color",counter:"counter",counterFormatter:"counterFormatter",debounce:"debounce",disabled:"disabled",enterkeyhint:"enterkeyhint",errorText:"errorText",fill:"fill",helperText:"helperText",inputmode:"inputmode",label:"label",labelPlacement:"labelPlacement",legacy:"legacy",max:"max",maxlength:"maxlength",min:"min",minlength:"minlength",mode:"mode",multiple:"multiple",name:"name",pattern:"pattern",placeholder:"placeholder",readonly:"readonly",required:"required",shape:"shape",size:"size",spellcheck:"spellcheck",step:"step",type:"type",value:"value"},ngContentSelectors:Ae,decls:1,vars:0,template:function(N,de){1&N&&(v.F$t(),v.Hsn(0))},encapsulation:2,changeDetection:0}),k=(0,Fe.gn)([cn({inputs:["accept","autocapitalize","autocomplete","autocorrect","autofocus","clearInput","clearOnEdit","color","counter","counterFormatter","debounce","disabled","enterkeyhint","errorText","fill","helperText","inputmode","label","labelPlacement","legacy","max","maxlength","min","minlength","mode","multiple","name","pattern","placeholder","readonly","required","shape","size","spellcheck","step","type","value"],methods:["setFocus","getInputElement"]})],k),k})(),qe=(()=>{let k=class{constructor(N,de,Ze){this.z=Ze,N.detach(),this.el=de.nativeElement}};return k.\u0275fac=function(N){return new(N||k)(v.Y36(v.sBO),v.Y36(v.SBq),v.Y36(v.R0b))},k.\u0275cmp=v.Xpm({type:k,selectors:[["ion-item"]],inputs:{button:"button",color:"color",counter:"counter",counterFormatter:"counterFormatter",detail:"detail",detailIcon:"detailIcon",disabled:"disabled",download:"download",fill:"fill",href:"href",lines:"lines",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",shape:"shape",target:"target",type:"type"},ngContentSelectors:Ae,decls:1,vars:0,template:function(N,de){1&N&&(v.F$t(),v.Hsn(0))},encapsulation:2,changeDetection:0}),k=(0,Fe.gn)([cn({inputs:["button","color","counter","counterFormatter","detail","detailIcon","disabled","download","fill","href","lines","mode","rel","routerAnimation","routerDirection","shape","target","type"]})],k),k})(),wn=(()=>{let k=class{constructor(N,de,Ze){this.z=Ze,N.detach(),this.el=de.nativeElement}};return k.\u0275fac=function(N){return new(N||k)(v.Y36(v.sBO),v.Y36(v.SBq),v.Y36(v.R0b))},k.\u0275cmp=v.Xpm({type:k,selectors:[["ion-label"]],inputs:{color:"color",mode:"mode",position:"position"},ngContentSelectors:Ae,decls:1,vars:0,template:function(N,de){1&N&&(v.F$t(),v.Hsn(0))},encapsulation:2,changeDetection:0}),k=(0,Fe.gn)([cn({inputs:["color","mode","position"]})],k),k})(),Gn=(()=>{let k=class{constructor(N,de,Ze){this.z=Ze,N.detach(),this.el=de.nativeElement}};return k.\u0275fac=function(N){return new(N||k)(v.Y36(v.sBO),v.Y36(v.SBq),v.Y36(v.R0b))},k.\u0275cmp=v.Xpm({type:k,selectors:[["ion-list"]],inputs:{inset:"inset",lines:"lines",mode:"mode"},ngContentSelectors:Ae,decls:1,vars:0,template:function(N,de){1&N&&(v.F$t(),v.Hsn(0))},encapsulation:2,changeDetection:0}),k=(0,Fe.gn)([cn({inputs:["inset","lines","mode"],methods:["closeSlidingItems"]})],k),k})(),Ft=(()=>{let k=class{constructor(N,de,Ze){this.z=Ze,N.detach(),this.el=de.nativeElement}};return k.\u0275fac=function(N){return new(N||k)(v.Y36(v.sBO),v.Y36(v.SBq),v.Y36(v.R0b))},k.\u0275cmp=v.Xpm({type:k,selectors:[["ion-menu-button"]],inputs:{autoHide:"autoHide",color:"color",disabled:"disabled",menu:"menu",mode:"mode",type:"type"},ngContentSelectors:Ae,decls:1,vars:0,template:function(N,de){1&N&&(v.F$t(),v.Hsn(0))},encapsulation:2,changeDetection:0}),k=(0,Fe.gn)([cn({inputs:["autoHide","color","disabled","menu","mode","type"]})],k),k})(),rs=(()=>{let k=class{constructor(N,de,Ze){this.z=Ze,N.detach(),this.el=de.nativeElement}};return k.\u0275fac=function(N){return new(N||k)(v.Y36(v.sBO),v.Y36(v.SBq),v.Y36(v.R0b))},k.\u0275cmp=v.Xpm({type:k,selectors:[["ion-row"]],ngContentSelectors:Ae,decls:1,vars:0,template:function(N,de){1&N&&(v.F$t(),v.Hsn(0))},encapsulation:2,changeDetection:0}),k=(0,Fe.gn)([cn({})],k),k})(),pe=(()=>{let k=class{constructor(N,de,Ze){this.z=Ze,N.detach(),this.el=de.nativeElement}};return k.\u0275fac=function(N){return new(N||k)(v.Y36(v.sBO),v.Y36(v.SBq),v.Y36(v.R0b))},k.\u0275cmp=v.Xpm({type:k,selectors:[["ion-tab-bar"]],inputs:{color:"color",mode:"mode",selectedTab:"selectedTab",translucent:"translucent"},ngContentSelectors:Ae,decls:1,vars:0,template:function(N,de){1&N&&(v.F$t(),v.Hsn(0))},encapsulation:2,changeDetection:0}),k=(0,Fe.gn)([cn({inputs:["color","mode","selectedTab","translucent"]})],k),k})(),ke=(()=>{let k=class{constructor(N,de,Ze){this.z=Ze,N.detach(),this.el=de.nativeElement}};return k.\u0275fac=function(N){return new(N||k)(v.Y36(v.sBO),v.Y36(v.SBq),v.Y36(v.R0b))},k.\u0275cmp=v.Xpm({type:k,selectors:[["ion-tab-button"]],inputs:{disabled:"disabled",download:"download",href:"href",layout:"layout",mode:"mode",rel:"rel",selected:"selected",tab:"tab",target:"target"},ngContentSelectors:Ae,decls:1,vars:0,template:function(N,de){1&N&&(v.F$t(),v.Hsn(0))},encapsulation:2,changeDetection:0}),k=(0,Fe.gn)([cn({inputs:["disabled","download","href","layout","mode","rel","selected","tab","target"]})],k),k})(),_e=(()=>{let k=class{constructor(N,de,Ze){this.z=Ze,N.detach(),this.el=de.nativeElement}};return k.\u0275fac=function(N){return new(N||k)(v.Y36(v.sBO),v.Y36(v.SBq),v.Y36(v.R0b))},k.\u0275cmp=v.Xpm({type:k,selectors:[["ion-text"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:Ae,decls:1,vars:0,template:function(N,de){1&N&&(v.F$t(),v.Hsn(0))},encapsulation:2,changeDetection:0}),k=(0,Fe.gn)([cn({inputs:["color","mode"]})],k),k})(),st=(()=>{let k=class{constructor(N,de,Ze){this.z=Ze,N.detach(),this.el=de.nativeElement}};return k.\u0275fac=function(N){return new(N||k)(v.Y36(v.sBO),v.Y36(v.SBq),v.Y36(v.R0b))},k.\u0275cmp=v.Xpm({type:k,selectors:[["ion-title"]],inputs:{color:"color",size:"size"},ngContentSelectors:Ae,decls:1,vars:0,template:function(N,de){1&N&&(v.F$t(),v.Hsn(0))},encapsulation:2,changeDetection:0}),k=(0,Fe.gn)([cn({inputs:["color","size"]})],k),k})(),tn=(()=>{let k=class{constructor(N,de,Ze){this.z=Ze,N.detach(),this.el=de.nativeElement}};return k.\u0275fac=function(N){return new(N||k)(v.Y36(v.sBO),v.Y36(v.SBq),v.Y36(v.R0b))},k.\u0275cmp=v.Xpm({type:k,selectors:[["ion-toolbar"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:Ae,decls:1,vars:0,template:function(N,de){1&N&&(v.F$t(),v.Hsn(0))},encapsulation:2,changeDetection:0}),k=(0,Fe.gn)([cn({inputs:["color","mode"]})],k),k})(),Ln=(()=>{class k{get(N,de){const Ze=Lr();return Ze?Ze.get(N,de):null}getBoolean(N,de){const Ze=Lr();return!!Ze&&Ze.getBoolean(N,de)}getNumber(N,de){const Ze=Lr();return Ze?Ze.getNumber(N,de):0}}return k.\u0275fac=function(N){return new(N||k)},k.\u0275prov=v.Yz7({token:k,factory:k.\u0275fac,providedIn:"root"}),k})();const Hn=new v.OlP("USERCONFIG"),Lr=()=>{if(typeof window<"u"){const k=window.Ionic;if(null!=k&&k.config)return k.config}return null};let ai=(()=>{class k{constructor(N,de){this.doc=N,this.backButton=new Ke.x,this.keyboardDidShow=new Ke.x,this.keyboardDidHide=new Ke.x,this.pause=new Ke.x,this.resume=new Ke.x,this.resize=new Ke.x,de.run(()=>{var Ze;let Sn;this.win=N.defaultView,this.backButton.subscribeWithPriority=function(xr,Jr){return this.subscribe(xi=>xi.register(xr,Si=>de.run(()=>Jr(Si))))},Qi(this.pause,N,"pause"),Qi(this.resume,N,"resume"),Qi(this.backButton,N,"ionBackButton"),Qi(this.resize,this.win,"resize"),Qi(this.keyboardDidShow,this.win,"ionKeyboardDidShow"),Qi(this.keyboardDidHide,this.win,"ionKeyboardDidHide"),this._readyPromise=new Promise(xr=>{Sn=xr}),null!==(Ze=this.win)&&void 0!==Ze&&Ze.cordova?N.addEventListener("deviceready",()=>{Sn("cordova")},{once:!0}):Sn("dom")})}is(N){return(0,Pe.a)(this.win,N)}platforms(){return(0,Pe.g)(this.win)}ready(){return this._readyPromise}get isRTL(){return"rtl"===this.doc.dir}getQueryParam(N){return ms(this.win.location.href,N)}isLandscape(){return!this.isPortrait()}isPortrait(){var N,de;return null===(N=(de=this.win).matchMedia)||void 0===N?void 0:N.call(de,"(orientation: portrait)").matches}testUserAgent(N){const de=this.win.navigator;return!!(null!=de&&de.userAgent&&de.userAgent.indexOf(N)>=0)}url(){return this.win.location.href}width(){return this.win.innerWidth}height(){return this.win.innerHeight}}return k.\u0275fac=function(N){return new(N||k)(v.LFG(it.K0),v.LFG(v.R0b))},k.\u0275prov=v.Yz7({token:k,factory:k.\u0275fac,providedIn:"root"}),k})();const ms=(k,ue)=>{ue=ue.replace(/[[\]\\]/g,"\\$&");const de=new RegExp("[\\?&]"+ue+"=([^&#]*)").exec(k);return de?decodeURIComponent(de[1].replace(/\+/g," ")):null},Qi=(k,ue,N)=>{ue&&ue.addEventListener(N,de=>{k.next(null!=de?de.detail:void 0)})};let $s=(()=>{class k{constructor(N,de,Ze,Sn){this.location=de,this.serializer=Ze,this.router=Sn,this.direction=ir,this.animated=qr,this.guessDirection="forward",this.lastNavId=-1,Sn&&Sn.events.subscribe(xr=>{if(xr instanceof Re.OD){const Jr=xr.restoredState?xr.restoredState.navigationId:xr.id;this.guessDirection=Jr<this.lastNavId?"back":"forward",this.guessAnimation=xr.restoredState?void 0:this.guessDirection,this.lastNavId="forward"===this.guessDirection?xr.id:Jr}}),N.backButton.subscribeWithPriority(0,xr=>{this.pop(),xr()})}navigateForward(N,de={}){return this.setDirection("forward",de.animated,de.animationDirection,de.animation),this.navigate(N,de)}navigateBack(N,de={}){return this.setDirection("back",de.animated,de.animationDirection,de.animation),this.navigate(N,de)}navigateRoot(N,de={}){return this.setDirection("root",de.animated,de.animationDirection,de.animation),this.navigate(N,de)}back(N={animated:!0,animationDirection:"back"}){return this.setDirection("back",N.animated,N.animationDirection,N.animation),this.location.back()}pop(){var N=this;return(0,d.Z)(function*(){let de=N.topOutlet;for(;de&&!(yield de.pop());)de=de.parentOutlet})()}setDirection(N,de,Ze,Sn){this.direction=N,this.animated=Li(N,de,Ze),this.animationBuilder=Sn}setTopOutlet(N){this.topOutlet=N}consumeTransition(){let de,N="root";const Ze=this.animationBuilder;return"auto"===this.direction?(N=this.guessDirection,de=this.guessAnimation):(de=this.animated,N=this.direction),this.direction=ir,this.animated=qr,this.animationBuilder=void 0,{direction:N,animation:de,animationBuilder:Ze}}navigate(N,de){if(Array.isArray(N))return this.router.navigate(N,de);{const Ze=this.serializer.parse(N.toString());return void 0!==de.queryParams&&(Ze.queryParams={...de.queryParams}),void 0!==de.fragment&&(Ze.fragment=de.fragment),this.router.navigateByUrl(Ze,de)}}}return k.\u0275fac=function(N){return new(N||k)(v.LFG(ai),v.LFG(it.Ye),v.LFG(Re.Hx),v.LFG(Re.F0,8))},k.\u0275prov=v.Yz7({token:k,factory:k.\u0275fac,providedIn:"root"}),k})();const Li=(k,ue,N)=>{if(!1!==ue){if(void 0!==N)return N;if("forward"===k||"back"===k)return k;if("root"===k&&!0===ue)return"forward"}},ir="auto",qr=void 0;class $i{constructor(ue={}){this.data=ue}get(ue){return this.data[ue]}}let Rs=(()=>{class k{constructor(){this.zone=(0,v.f3M)(v.R0b),this.applicationRef=(0,v.f3M)(v.z2F)}create(N,de,Ze){return new Io(N,de,this.applicationRef,this.zone,Ze)}}return k.\u0275fac=function(N){return new(N||k)},k.\u0275prov=v.Yz7({token:k,factory:k.\u0275fac}),k})();class Io{constructor(ue,N,de,Ze,Sn){this.environmentInjector=ue,this.injector=N,this.applicationRef=de,this.zone=Ze,this.elementReferenceKey=Sn,this.elRefMap=new WeakMap,this.elEventsMap=new WeakMap}attachViewToDom(ue,N,de,Ze){return this.zone.run(()=>new Promise(Sn=>{const xr={...de};void 0!==this.elementReferenceKey&&(xr[this.elementReferenceKey]=ue),Sn(us(this.zone,this.environmentInjector,this.injector,this.applicationRef,this.elRefMap,this.elEventsMap,ue,N,xr,Ze))}))}removeViewFromDom(ue,N){return this.zone.run(()=>new Promise(de=>{const Ze=this.elRefMap.get(N);if(Ze){Ze.destroy(),this.elRefMap.delete(N);const Sn=this.elEventsMap.get(N);Sn&&(Sn(),this.elEventsMap.delete(N))}de()}))}}const us=(k,ue,N,de,Ze,Sn,xr,Jr,xi,Si)=>{const js=v.zs3.create({providers:ys(xi),parent:N}),ws=(0,v.LMc)(Jr,{environmentInjector:ue,elementInjector:js}),eo=ws.instance,Fo=ws.location.nativeElement;if(xi&&Object.assign(eo,xi),Si)for(const ae of Si)Fo.classList.add(ae);const be=Ki(k,eo,Fo);return xr.appendChild(Fo),de.attachView(ws.hostView),Ze.set(Fo,ws),Sn.set(Fo,be),Fo},go=[Ut.L,Ut.a,Ut.b,Ut.c,Ut.d],Ki=(k,ue,N)=>k.run(()=>{const de=go.filter(Ze=>"function"==typeof ue[Ze]).map(Ze=>{const Sn=xr=>ue[Ze](xr.detail);return N.addEventListener(Ze,Sn),()=>N.removeEventListener(Ze,Sn)});return()=>de.forEach(Ze=>Ze())}),Ds=new v.OlP("NavParamsToken"),ys=k=>[{provide:Ds,useValue:k},{provide:$i,useFactory:Zr,deps:[Ds]}],Zr=k=>new $i(k),ho=(k,ue)=>((k=k.filter(N=>N.stackId!==ue.stackId)).push(ue),k),Di=(k,ue)=>{const N=k.createUrlTree(["."],{relativeTo:ue});return k.serializeUrl(N)},Vs=(k,ue)=>{if(!k)return;const N=Vi(ue);for(let de=0;de<N.length;de++){if(de>=k.length)return N[de];if(N[de]!==k[de])return}},Vi=k=>k.split("/").map(ue=>ue.trim()).filter(ue=>""!==ue),To=k=>{k&&(k.ref.destroy(),k.unlistenEvents())};class Co{constructor(ue,N,de,Ze,Sn,xr){this.containerEl=N,this.router=de,this.navCtrl=Ze,this.zone=Sn,this.location=xr,this.views=[],this.skipTransition=!1,this.nextId=0,this.tabsPrefix=void 0!==ue?Vi(ue):void 0}createView(ue,N){var de;const Ze=Di(this.router,N),Sn=null==ue||null===(de=ue.location)||void 0===de?void 0:de.nativeElement,xr=Ki(this.zone,ue.instance,Sn);return{id:this.nextId++,stackId:Vs(this.tabsPrefix,Ze),unlistenEvents:xr,element:Sn,ref:ue,url:Ze}}getExistingView(ue){const N=Di(this.router,ue),de=this.views.find(Ze=>Ze.url===N);return de&&de.ref.changeDetectorRef.reattach(),de}setActive(ue){var N,de,Ze;const Sn=this.navCtrl.consumeTransition();let{direction:xr,animation:Jr,animationBuilder:xi}=Sn;const Si=this.activeView,js=((k,ue)=>!ue||k.stackId!==ue.stackId)(ue,Si);js&&(xr="back",Jr=void 0);const ws=this.views.slice();let eo;const Fo=this.router;Fo.getCurrentNavigation?eo=Fo.getCurrentNavigation():null!==(N=Fo.navigations)&&void 0!==N&&N.value&&(eo=Fo.navigations.value),null!==(de=eo)&&void 0!==de&&null!==(Ze=de.extras)&&void 0!==Ze&&Ze.replaceUrl&&this.views.length>0&&this.views.splice(-1,1);const be=this.views.includes(ue),ae=this.insertView(ue,xr);be||ue.ref.changeDetectorRef.detectChanges();const $=ue.animationBuilder;return void 0===xi&&"back"===xr&&!js&&void 0!==$&&(xi=$),Si&&(Si.animationBuilder=xi),this.zone.runOutsideAngular(()=>this.wait(()=>(Si&&Si.ref.changeDetectorRef.detach(),ue.ref.changeDetectorRef.reattach(),this.transition(ue,Si,Jr,this.canGoBack(1),!1,xi).then(()=>Xs(ue,ae,ws,this.location,this.zone)).then(()=>({enteringView:ue,direction:xr,animation:Jr,tabSwitch:js})))))}canGoBack(ue,N=this.getActiveStackId()){return this.getStack(N).length>ue}pop(ue,N=this.getActiveStackId()){return this.zone.run(()=>{const de=this.getStack(N);if(de.length<=ue)return Promise.resolve(!1);const Ze=de[de.length-ue-1];let Sn=Ze.url;const xr=Ze.savedData;if(xr){var Jr,xi;const js=xr.get("primary");null!=js&&null!==(Jr=js.route)&&void 0!==Jr&&null!==(xi=Jr._routerState)&&void 0!==xi&&xi.snapshot.url&&(Sn=js.route._routerState.snapshot.url)}const{animationBuilder:Si}=this.navCtrl.consumeTransition();return this.navCtrl.navigateBack(Sn,{...Ze.savedExtras,animation:Si}).then(()=>!0)})}startBackTransition(){const ue=this.activeView;if(ue){const N=this.getStack(ue.stackId),de=N[N.length-2],Ze=de.animationBuilder;return this.wait(()=>this.transition(de,ue,"back",this.canGoBack(2),!0,Ze))}return Promise.resolve()}endBackTransition(ue){ue?(this.skipTransition=!0,this.pop(1)):this.activeView&&Yo(this.activeView,this.views,this.views,this.location,this.zone)}getLastUrl(ue){const N=this.getStack(ue);return N.length>0?N[N.length-1]:void 0}getRootUrl(ue){const N=this.getStack(ue);return N.length>0?N[0]:void 0}getActiveStackId(){return this.activeView?this.activeView.stackId:void 0}hasRunningTask(){return void 0!==this.runningTask}destroy(){this.containerEl=void 0,this.views.forEach(To),this.activeView=void 0,this.views=[]}getStack(ue){return this.views.filter(N=>N.stackId===ue)}insertView(ue,N){return this.activeView=ue,this.views=((k,ue,N)=>"root"===N?ho(k,ue):"forward"===N?((k,ue)=>(k.indexOf(ue)>=0?k=k.filter(de=>de.stackId!==ue.stackId||de.id<=ue.id):k.push(ue),k))(k,ue):((k,ue)=>k.indexOf(ue)>=0?k.filter(de=>de.stackId!==ue.stackId||de.id<=ue.id):ho(k,ue))(k,ue))(this.views,ue,N),this.views.slice()}transition(ue,N,de,Ze,Sn,xr){if(this.skipTransition)return this.skipTransition=!1,Promise.resolve(!1);if(N===ue)return Promise.resolve(!1);const Jr=ue?ue.element:void 0,xi=N?N.element:void 0,Si=this.containerEl;return Jr&&Jr!==xi&&(Jr.classList.add("ion-page"),Jr.classList.add("ion-page-invisible"),Jr.parentElement!==Si&&Si.appendChild(Jr),Si.commit)?Si.commit(Jr,xi,{duration:void 0===de?0:void 0,direction:de,showGoBack:Ze,progressAnimation:Sn,animationBuilder:xr}):Promise.resolve(!1)}wait(ue){var N=this;return(0,d.Z)(function*(){void 0!==N.runningTask&&(yield N.runningTask,N.runningTask=void 0);const de=N.runningTask=ue();return de.finally(()=>N.runningTask=void 0),de})()}}const Xs=(k,ue,N,de,Ze)=>"function"==typeof requestAnimationFrame?new Promise(Sn=>{requestAnimationFrame(()=>{Yo(k,ue,N,de,Ze),Sn()})}):Promise.resolve(),Yo=(k,ue,N,de,Ze)=>{Ze.run(()=>N.filter(Sn=>!ue.includes(Sn)).forEach(To)),ue.forEach(Sn=>{const Jr=de.path().split("?")[0].split("#")[0];if(Sn!==k&&Sn.url!==Jr){const xi=Sn.element;xi.setAttribute("aria-hidden","true"),xi.classList.add("ion-page-hidden"),Sn.ref.changeDetectorRef.detach()}})};let Ai=(()=>{class k{constructor(N,de,Ze,Sn,xr,Jr,xi,Si){this.parentOutlet=Si,this.activated=null,this.activatedView=null,this._activatedRoute=null,this.proxyMap=new WeakMap,this.currentActivatedRoute$=new Se.X(null),this.stackEvents=new v.vpe,this.activateEvents=new v.vpe,this.deactivateEvents=new v.vpe,this.parentContexts=(0,v.f3M)(Re.y6),this.location=(0,v.f3M)(v.s_b),this.environmentInjector=(0,v.f3M)(v.lqb),this.config=(0,v.f3M)(Ln),this.navCtrl=(0,v.f3M)($s),this.nativeEl=Sn.nativeElement,this.name=N||Re.eC,this.tabsPrefix="true"===de?Di(xr,xi):void 0,this.stackCtrl=new Co(this.tabsPrefix,this.nativeEl,xr,this.navCtrl,Jr,Ze),this.parentContexts.onChildOutletCreated(this.name,this)}set animation(N){this.nativeEl.animation=N}set animated(N){this.nativeEl.animated=N}set swipeGesture(N){this._swipeGesture=N,this.nativeEl.swipeHandler=N?{canStart:()=>this.stackCtrl.canGoBack(1)&&!this.stackCtrl.hasRunningTask(),onStart:()=>this.stackCtrl.startBackTransition(),onEnd:de=>this.stackCtrl.endBackTransition(de)}:void 0}ngOnDestroy(){this.stackCtrl.destroy()}getContext(){return this.parentContexts.getContext(this.name)}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(!this.activated){const N=this.getContext();null!=N&&N.route&&this.activateWith(N.route,N.injector)}new Promise(N=>(0,ct.c)(this.nativeEl,N)).then(()=>{void 0===this._swipeGesture&&(this.swipeGesture=this.config.getBoolean("swipeBackEnabled","ios"===this.nativeEl.mode))})}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){throw new Error("incompatible reuse strategy")}attach(N,de){throw new Error("incompatible reuse strategy")}deactivate(){if(this.activated){if(this.activatedView){const de=this.getContext();this.activatedView.savedData=new Map(de.children.contexts);const Ze=this.activatedView.savedData.get("primary");if(Ze&&de.route&&(Ze.route={...de.route}),this.activatedView.savedExtras={},de.route){const Sn=de.route.snapshot;this.activatedView.savedExtras.queryParams=Sn.queryParams,this.activatedView.savedExtras.fragment=Sn.fragment}}const N=this.component;this.activatedView=null,this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(N)}}activateWith(N,de){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=N;let Ze,Sn=this.stackCtrl.getExistingView(N);if(Sn){Ze=this.activated=Sn.ref;const Jr=Sn.savedData;Jr&&(this.getContext().children.contexts=Jr),this.updateActivatedRouteProxy(Ze.instance,N)}else{var xr;const Jr=N._futureSnapshot,xi=this.parentContexts.getOrCreateContext(this.name).children,Si=new Se.X(null),js=this.createActivatedRouteProxy(Si,N),ws=new hr(js,xi,this.location.injector),eo=null!==(xr=Jr.routeConfig.component)&&void 0!==xr?xr:Jr.component;Ze=this.activated=this.location.createComponent(eo,{index:this.location.length,injector:ws,environmentInjector:null!=de?de:this.environmentInjector}),Si.next(Ze.instance),Sn=this.stackCtrl.createView(this.activated,N),this.proxyMap.set(Ze.instance,js),this.currentActivatedRoute$.next({component:Ze.instance,activatedRoute:N})}this.activatedView=Sn,this.navCtrl.setTopOutlet(this),this.stackCtrl.setActive(Sn).then(Jr=>{this.activateEvents.emit(Ze.instance),this.stackEvents.emit(Jr)})}canGoBack(N=1,de){return this.stackCtrl.canGoBack(N,de)}pop(N=1,de){return this.stackCtrl.pop(N,de)}getLastUrl(N){const de=this.stackCtrl.getLastUrl(N);return de?de.url:void 0}getLastRouteView(N){return this.stackCtrl.getLastUrl(N)}getRootView(N){return this.stackCtrl.getRootUrl(N)}getActiveStackId(){return this.stackCtrl.getActiveStackId()}createActivatedRouteProxy(N,de){const Ze=new Re.gz;return Ze._futureSnapshot=de._futureSnapshot,Ze._routerState=de._routerState,Ze.snapshot=de.snapshot,Ze.outlet=de.outlet,Ze.component=de.component,Ze._paramMap=this.proxyObservable(N,"paramMap"),Ze._queryParamMap=this.proxyObservable(N,"queryParamMap"),Ze.url=this.proxyObservable(N,"url"),Ze.params=this.proxyObservable(N,"params"),Ze.queryParams=this.proxyObservable(N,"queryParams"),Ze.fragment=this.proxyObservable(N,"fragment"),Ze.data=this.proxyObservable(N,"data"),Ze}proxyObservable(N,de){return N.pipe((0,Tt.h)(Ze=>!!Ze),(0,Dt.w)(Ze=>this.currentActivatedRoute$.pipe((0,Tt.h)(Sn=>null!==Sn&&Sn.component===Ze),(0,Dt.w)(Sn=>Sn&&Sn.activatedRoute[de]),(0,vt.x)())))}updateActivatedRouteProxy(N,de){const Ze=this.proxyMap.get(N);if(!Ze)throw new Error("Could not find activated route proxy for view");Ze._futureSnapshot=de._futureSnapshot,Ze._routerState=de._routerState,Ze.snapshot=de.snapshot,Ze.outlet=de.outlet,Ze.component=de.component,this.currentActivatedRoute$.next({component:N,activatedRoute:de})}}return k.\u0275fac=function(N){return new(N||k)(v.$8M("name"),v.$8M("tabs"),v.Y36(it.Ye),v.Y36(v.SBq),v.Y36(Re.F0),v.Y36(v.R0b),v.Y36(Re.gz),v.Y36(k,12))},k.\u0275dir=v.lG2({type:k,selectors:[["ion-router-outlet"]],inputs:{animated:"animated",animation:"animation",mode:"mode",swipeGesture:"swipeGesture"},outputs:{stackEvents:"stackEvents",activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),k})();class hr{constructor(ue,N,de){this.route=ue,this.childContexts=N,this.parent=de}get(ue,N){return ue===Re.gz?this.route:ue===Re.y6?this.childContexts:this.parent.get(ue,N)}}let Os=(()=>{class k{constructor(N){this.navCtrl=N,this.ionTabsWillChange=new v.vpe,this.ionTabsDidChange=new v.vpe}onPageSelected(N){const de=N.enteringView.stackId;N.tabSwitch&&void 0!==de&&(this.ionTabsWillChange.emit({tab:de}),this.tabBar&&(this.tabBar.selectedTab=de),this.ionTabsDidChange.emit({tab:de}))}select(N){const de="string"==typeof N,Ze=de?N:N.detail.tab,Sn=this.outlet.getActiveStackId()===Ze,xr=`${this.outlet.tabsPrefix}/${Ze}`;if(de||N.stopPropagation(),Sn){const Jr=this.outlet.getActiveStackId(),xi=this.outlet.getLastRouteView(Jr);if((null==xi?void 0:xi.url)===xr)return;const Si=this.outlet.getRootView(Ze);return this.navCtrl.navigateRoot(xr,{...Si&&xr===Si.url&&Si.savedExtras,animated:!0,animationDirection:"back"})}{const Jr=this.outlet.getLastRouteView(Ze);return this.navCtrl.navigateRoot((null==Jr?void 0:Jr.url)||xr,{...null==Jr?void 0:Jr.savedExtras,animated:!0,animationDirection:"back"})}}getSelected(){return this.outlet.getActiveStackId()}}return k.\u0275fac=function(N){return new(N||k)(v.Y36($s))},k.\u0275cmp=v.Xpm({type:k,selectors:[["ion-tabs"]],contentQueries:function(N,de,Ze){if(1&N&&v.Suo(Ze,pe,5),2&N){let Sn;v.iGM(Sn=v.CRH())&&(de.tabBar=Sn.first)}},viewQuery:function(N,de){if(1&N&&v.Gf(Je,5,Ai),2&N){let Ze;v.iGM(Ze=v.CRH())&&(de.outlet=Ze.first)}},hostBindings:function(N,de){1&N&&v.NdJ("ionTabButtonClick",function(Sn){return de.select(Sn)})},outputs:{ionTabsWillChange:"ionTabsWillChange",ionTabsDidChange:"ionTabsDidChange"},ngContentSelectors:_t,decls:5,vars:0,consts:[[1,"tabs-inner"],["tabs","true",3,"stackEvents"],["outlet",""]],template:function(N,de){1&N&&(v.F$t(ut),v.Hsn(0),v.TgZ(1,"div",0)(2,"ion-router-outlet",1,2),v.NdJ("stackEvents",function(Sn){return de.onPageSelected(Sn)}),v.qZA()(),v.Hsn(4,1))},dependencies:[Ai],styles:["[_nghost-%COMP%]{display:flex;position:absolute;inset:0;flex-direction:column;width:100%;height:100%;contain:layout size style;z-index:$z-index-page-container}.tabs-inner[_ngcontent-%COMP%]{position:relative;flex:1;contain:layout size style}"]}),k})(),so=(()=>{class k{constructor(N,de,Ze){this.routerOutlet=N,this.navCtrl=de,this.config=Ze}onClick(N){var de;const Ze=this.defaultHref||this.config.get("backButtonDefaultHref");null!==(de=this.routerOutlet)&&void 0!==de&&de.canGoBack()?(this.navCtrl.setDirection("back",void 0,void 0,this.routerAnimation),this.routerOutlet.pop(),N.preventDefault()):null!=Ze&&(this.navCtrl.navigateBack(Ze,{animation:this.routerAnimation}),N.preventDefault())}}return k.\u0275fac=function(N){return new(N||k)(v.Y36(Ai,8),v.Y36($s),v.Y36(Ln))},k.\u0275dir=v.lG2({type:k,selectors:[["ion-back-button"]],hostBindings:function(N,de){1&N&&v.NdJ("click",function(Sn){return de.onClick(Sn)})},inputs:{defaultHref:"defaultHref",routerAnimation:"routerAnimation"}}),k})();class Es{constructor(ue){this.ctrl=ue}create(ue){return this.ctrl.create(ue||{})}dismiss(ue,N,de){return this.ctrl.dismiss(ue,N,de)}getTop(){return this.ctrl.getTop()}}let Ws=(()=>{class k extends Es{constructor(){super($e.a)}}return k.\u0275fac=function(N){return new(N||k)},k.\u0275prov=v.Yz7({token:k,factory:k.\u0275fac,providedIn:"root"}),k})(),Yi=(()=>{class k extends Es{constructor(){super($e.l)}}return k.\u0275fac=function(N){return new(N||k)},k.\u0275prov=v.Yz7({token:k,factory:k.\u0275fac,providedIn:"root"}),k})(),So=(()=>{class k extends Es{constructor(){super($e.m),this.angularDelegate=(0,v.f3M)(Rs),this.injector=(0,v.f3M)(v.zs3),this.environmentInjector=(0,v.f3M)(v.lqb)}create(N){return super.create({...N,delegate:this.angularDelegate.create(this.environmentInjector,this.injector,"modal")})}}return k.\u0275fac=function(N){return new(N||k)},k.\u0275prov=v.Yz7({token:k,factory:k.\u0275fac}),k})(),xo=(()=>{class k extends Es{constructor(){super($e.c),this.angularDelegate=(0,v.f3M)(Rs),this.injector=(0,v.f3M)(v.zs3),this.environmentInjector=(0,v.f3M)(v.lqb)}create(N){return super.create({...N,delegate:this.angularDelegate.create(this.environmentInjector,this.injector,"popover")})}}return k.\u0275fac=function(N){return new(N||k)},k.\u0275prov=v.Yz7({token:k,factory:k.\u0275fac}),k})(),mo=(()=>{class k extends Es{constructor(){super($e.t)}}return k.\u0275fac=function(N){return new(N||k)},k.\u0275prov=v.Yz7({token:k,factory:k.\u0275fac,providedIn:"root"}),k})();class ds{shouldDetach(ue){return!1}shouldAttach(ue){return!1}store(ue,N){}retrieve(ue){return null}shouldReuseRoute(ue,N){if(ue.routeConfig!==N.routeConfig)return!1;const de=ue.params,Ze=N.params,Sn=Object.keys(de),xr=Object.keys(Ze);if(Sn.length!==xr.length)return!1;for(const Jr of Sn)if(Ze[Jr]!==de[Jr])return!1;return!0}}const $o=(k,ue,N)=>()=>{if(ue.defaultView&&typeof window<"u"){(0,mt.s)({...k,_zoneGate:Sn=>N.run(Sn)});const Ze="__zone_symbol__addEventListener"in ue.body?"__zone_symbol__addEventListener":"addEventListener";return function Gt(){var k=[];if(typeof window<"u"){var ue=window;(!ue.customElements||ue.Element&&(!ue.Element.prototype.closest||!ue.Element.prototype.matches||!ue.Element.prototype.remove||!ue.Element.prototype.getRootNode))&&k.push(H.e(6748).then(H.t.bind(H,723,23))),("function"!=typeof Object.assign||!Object.entries||!Array.prototype.find||!Array.prototype.includes||!String.prototype.startsWith||!String.prototype.endsWith||ue.NodeList&&!ue.NodeList.prototype.forEach||!ue.fetch||!function(){try{var de=new URL("b","http://a");return de.pathname="c%20d","http://a/c%20d"===de.href&&de.searchParams}catch{return!1}}()||typeof WeakMap>"u")&&k.push(H.e(2214).then(H.t.bind(H,4144,23)))}return Promise.all(k)}().then(()=>((k,ue)=>typeof window>"u"?Promise.resolve():(0,ht.p)().then(()=>(St(),(0,ht.b)(JSON.parse('[["ion-menu_3",[[33,"ion-menu-button",{"color":[513],"disabled":[4],"menu":[1],"autoHide":[4,"auto-hide"],"type":[1],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]],[33,"ion-menu",{"contentId":[513,"content-id"],"menuId":[513,"menu-id"],"type":[1025],"disabled":[1028],"side":[513],"swipeGesture":[4,"swipe-gesture"],"maxEdgeStart":[2,"max-edge-start"],"isPaneVisible":[32],"isEndSide":[32],"isOpen":[64],"isActive":[64],"open":[64],"close":[64],"toggle":[64],"setOpen":[64]},[[16,"ionSplitPaneVisible","onSplitPaneChanged"],[2,"click","onBackdropClick"],[0,"keydown","onKeydown"]]],[1,"ion-menu-toggle",{"menu":[1],"autoHide":[4,"auto-hide"],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]]]],["ion-fab_3",[[33,"ion-fab-button",{"color":[513],"activated":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1],"show":[4],"translucent":[4],"type":[1],"size":[1],"closeIcon":[1,"close-icon"]}],[1,"ion-fab",{"horizontal":[1],"vertical":[1],"edge":[4],"activated":[1028],"close":[64],"toggle":[64]}],[1,"ion-fab-list",{"activated":[4],"side":[1]}]]],["ion-refresher_2",[[0,"ion-refresher-content",{"pullingIcon":[1025,"pulling-icon"],"pullingText":[1,"pulling-text"],"refreshingSpinner":[1025,"refreshing-spinner"],"refreshingText":[1,"refreshing-text"]}],[32,"ion-refresher",{"pullMin":[2,"pull-min"],"pullMax":[2,"pull-max"],"closeDuration":[1,"close-duration"],"snapbackDuration":[1,"snapback-duration"],"pullFactor":[2,"pull-factor"],"disabled":[4],"nativeRefresher":[32],"state":[32],"complete":[64],"cancel":[64],"getProgress":[64]}]]],["ion-back-button",[[33,"ion-back-button",{"color":[513],"defaultHref":[1025,"default-href"],"disabled":[516],"icon":[1],"text":[1],"type":[1],"routerAnimation":[16]}]]],["ion-toast",[[33,"ion-toast",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"color":[513],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"duration":[2],"header":[1],"layout":[1],"message":[1],"keyboardClose":[4,"keyboard-close"],"position":[1],"buttons":[16],"translucent":[4],"animated":[4],"icon":[1],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"revealContentToScreenReader":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-card_5",[[33,"ion-card",{"color":[513],"button":[4],"type":[1],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}],[32,"ion-card-content"],[33,"ion-card-header",{"color":[513],"translucent":[4]}],[33,"ion-card-subtitle",{"color":[513]}],[33,"ion-card-title",{"color":[513]}]]],["ion-item-option_3",[[33,"ion-item-option",{"color":[513],"disabled":[4],"download":[1],"expandable":[4],"href":[1],"rel":[1],"target":[1],"type":[1]}],[32,"ion-item-options",{"side":[1],"fireSwipeEvent":[64]}],[0,"ion-item-sliding",{"disabled":[4],"state":[32],"getOpenAmount":[64],"getSlidingRatio":[64],"open":[64],"close":[64],"closeOpened":[64]}]]],["ion-accordion_2",[[49,"ion-accordion",{"value":[1],"disabled":[4],"readonly":[4],"toggleIcon":[1,"toggle-icon"],"toggleIconSlot":[1,"toggle-icon-slot"],"state":[32],"isNext":[32],"isPrevious":[32]}],[33,"ion-accordion-group",{"animated":[4],"multiple":[4],"value":[1025],"disabled":[4],"readonly":[4],"expand":[1],"requestAccordionToggle":[64],"getAccordions":[64]},[[0,"keydown","onKeydown"]]]]],["ion-infinite-scroll_2",[[32,"ion-infinite-scroll-content",{"loadingSpinner":[1025,"loading-spinner"],"loadingText":[1,"loading-text"]}],[0,"ion-infinite-scroll",{"threshold":[1],"disabled":[4],"position":[1],"isLoading":[32],"complete":[64]}]]],["ion-reorder_2",[[33,"ion-reorder",null,[[2,"click","onClick"]]],[0,"ion-reorder-group",{"disabled":[4],"state":[32],"complete":[64]}]]],["ion-segment_2",[[33,"ion-segment-button",{"disabled":[1028],"layout":[1],"type":[1],"value":[1],"checked":[32],"setFocus":[64]}],[33,"ion-segment",{"color":[513],"disabled":[4],"scrollable":[4],"swipeGesture":[4,"swipe-gesture"],"value":[1025],"selectOnFocus":[4,"select-on-focus"],"activated":[32]},[[0,"keydown","onKeyDown"]]]]],["ion-tab-bar_2",[[33,"ion-tab-button",{"disabled":[4],"download":[1],"href":[1],"rel":[1],"layout":[1025],"selected":[1028],"tab":[1],"target":[1]},[[8,"ionTabBarChanged","onTabBarChanged"]]],[33,"ion-tab-bar",{"color":[513],"selectedTab":[1,"selected-tab"],"translucent":[4],"keyboardVisible":[32]}]]],["ion-chip",[[1,"ion-chip",{"color":[513],"outline":[4],"disabled":[4]}]]],["ion-datetime-button",[[33,"ion-datetime-button",{"color":[513],"disabled":[516],"datetime":[1],"datetimePresentation":[32],"dateText":[32],"timeText":[32],"datetimeActive":[32],"selectedButton":[32]}]]],["ion-input",[[34,"ion-input",{"color":[513],"accept":[1],"autocapitalize":[1],"autocomplete":[1],"autocorrect":[1],"autofocus":[4],"clearInput":[4,"clear-input"],"clearOnEdit":[4,"clear-on-edit"],"counter":[4],"counterFormatter":[16],"debounce":[2],"disabled":[4],"enterkeyhint":[1],"errorText":[1,"error-text"],"fill":[1],"inputmode":[1],"helperText":[1,"helper-text"],"label":[1],"labelPlacement":[1,"label-placement"],"legacy":[4],"max":[8],"maxlength":[2],"min":[8],"minlength":[2],"multiple":[4],"name":[1],"pattern":[1],"placeholder":[1],"readonly":[4],"required":[4],"shape":[1],"spellcheck":[4],"step":[1],"size":[2],"type":[1],"value":[1032],"hasFocus":[32],"setFocus":[64],"getInputElement":[64]}]]],["ion-searchbar",[[34,"ion-searchbar",{"color":[513],"animated":[4],"autocomplete":[1],"autocorrect":[1],"cancelButtonIcon":[1,"cancel-button-icon"],"cancelButtonText":[1,"cancel-button-text"],"clearIcon":[1,"clear-icon"],"debounce":[2],"disabled":[4],"inputmode":[1],"enterkeyhint":[1],"placeholder":[1],"searchIcon":[1,"search-icon"],"showCancelButton":[1,"show-cancel-button"],"showClearButton":[1,"show-clear-button"],"spellcheck":[4],"type":[1],"value":[1025],"focused":[32],"noAnimate":[32],"setFocus":[64],"getInputElement":[64]}]]],["ion-toggle",[[33,"ion-toggle",{"color":[513],"name":[1],"checked":[1028],"disabled":[4],"value":[1],"enableOnOffLabels":[4,"enable-on-off-labels"],"labelPlacement":[1,"label-placement"],"legacy":[4],"justify":[1],"activated":[32]}]]],["ion-nav_2",[[1,"ion-nav",{"delegate":[16],"swipeGesture":[1028,"swipe-gesture"],"animated":[4],"animation":[16],"rootParams":[16],"root":[1],"push":[64],"insert":[64],"insertPages":[64],"pop":[64],"popTo":[64],"popToRoot":[64],"removeIndex":[64],"setRoot":[64],"setPages":[64],"setRouteId":[64],"getRouteId":[64],"getActive":[64],"getByIndex":[64],"canGoBack":[64],"getPrevious":[64]}],[0,"ion-nav-link",{"component":[1],"componentProps":[16],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}]]],["ion-textarea",[[34,"ion-textarea",{"color":[513],"autocapitalize":[1],"autofocus":[4],"clearOnEdit":[4,"clear-on-edit"],"debounce":[2],"disabled":[4],"fill":[1],"inputmode":[1],"enterkeyhint":[1],"maxlength":[2],"minlength":[2],"name":[1],"placeholder":[1],"readonly":[4],"required":[4],"spellcheck":[4],"cols":[2],"rows":[2],"wrap":[1],"autoGrow":[516,"auto-grow"],"value":[1025],"counter":[4],"counterFormatter":[16],"errorText":[1,"error-text"],"helperText":[1,"helper-text"],"label":[1],"labelPlacement":[1,"label-placement"],"legacy":[4],"shape":[1],"hasFocus":[32],"setFocus":[64],"getInputElement":[64]}]]],["ion-backdrop",[[33,"ion-backdrop",{"visible":[4],"tappable":[4],"stopPropagation":[4,"stop-propagation"]},[[2,"click","onMouseDown"]]]]],["ion-loading",[[34,"ion-loading",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"message":[1],"cssClass":[1,"css-class"],"duration":[2],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"spinner":[1025],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-breadcrumb_2",[[33,"ion-breadcrumb",{"collapsed":[4],"last":[4],"showCollapsedIndicator":[4,"show-collapsed-indicator"],"color":[1],"active":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"separator":[4],"target":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}],[33,"ion-breadcrumbs",{"color":[513],"maxItems":[2,"max-items"],"itemsBeforeCollapse":[2,"items-before-collapse"],"itemsAfterCollapse":[2,"items-after-collapse"],"collapsed":[32],"activeChanged":[32]},[[0,"collapsedClick","onCollapsedClick"]]]]],["ion-modal",[[33,"ion-modal",{"hasController":[4,"has-controller"],"overlayIndex":[2,"overlay-index"],"delegate":[16],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"breakpoints":[16],"initialBreakpoint":[2,"initial-breakpoint"],"backdropBreakpoint":[2,"backdrop-breakpoint"],"handle":[4],"handleBehavior":[1,"handle-behavior"],"component":[1],"componentProps":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"animated":[4],"presentingElement":[16],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"keepContentsMounted":[4,"keep-contents-mounted"],"canDismiss":[4,"can-dismiss"],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"setCurrentBreakpoint":[64],"getCurrentBreakpoint":[64]}]]],["ion-route_4",[[0,"ion-route",{"url":[1],"component":[1],"componentProps":[16],"beforeLeave":[16],"beforeEnter":[16]}],[0,"ion-route-redirect",{"from":[1],"to":[1]}],[0,"ion-router",{"root":[1],"useHash":[4,"use-hash"],"canTransition":[64],"push":[64],"back":[64],"printDebug":[64],"navChanged":[64]},[[8,"popstate","onPopState"],[4,"ionBackButton","onBackButton"]]],[1,"ion-router-link",{"color":[513],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}]]],["ion-avatar_3",[[33,"ion-avatar"],[33,"ion-badge",{"color":[513]}],[1,"ion-thumbnail"]]],["ion-col_3",[[1,"ion-col",{"offset":[1],"offsetXs":[1,"offset-xs"],"offsetSm":[1,"offset-sm"],"offsetMd":[1,"offset-md"],"offsetLg":[1,"offset-lg"],"offsetXl":[1,"offset-xl"],"pull":[1],"pullXs":[1,"pull-xs"],"pullSm":[1,"pull-sm"],"pullMd":[1,"pull-md"],"pullLg":[1,"pull-lg"],"pullXl":[1,"pull-xl"],"push":[1],"pushXs":[1,"push-xs"],"pushSm":[1,"push-sm"],"pushMd":[1,"push-md"],"pushLg":[1,"push-lg"],"pushXl":[1,"push-xl"],"size":[1],"sizeXs":[1,"size-xs"],"sizeSm":[1,"size-sm"],"sizeMd":[1,"size-md"],"sizeLg":[1,"size-lg"],"sizeXl":[1,"size-xl"]},[[9,"resize","onResize"]]],[1,"ion-grid",{"fixed":[4]}],[1,"ion-row"]]],["ion-tab_2",[[1,"ion-tab",{"active":[1028],"delegate":[16],"tab":[1],"component":[1],"setActive":[64]}],[1,"ion-tabs",{"useRouter":[1028,"use-router"],"selectedTab":[32],"select":[64],"getTab":[64],"getSelected":[64],"setRouteId":[64],"getRouteId":[64]}]]],["ion-img",[[1,"ion-img",{"alt":[1],"src":[1],"loadSrc":[32],"loadError":[32]}]]],["ion-progress-bar",[[33,"ion-progress-bar",{"type":[1],"reversed":[4],"value":[2],"buffer":[2],"color":[513]}]]],["ion-range",[[33,"ion-range",{"color":[513],"debounce":[2],"name":[1],"dualKnobs":[4,"dual-knobs"],"min":[2],"max":[2],"pin":[4],"pinFormatter":[16],"snaps":[4],"step":[2],"ticks":[4],"activeBarStart":[1026,"active-bar-start"],"disabled":[4],"value":[1026],"labelPlacement":[1,"label-placement"],"legacy":[4],"ratioA":[32],"ratioB":[32],"pressedKnob":[32]}]]],["ion-split-pane",[[33,"ion-split-pane",{"contentId":[513,"content-id"],"disabled":[4],"when":[8],"visible":[32]}]]],["ion-text",[[1,"ion-text",{"color":[513]}]]],["ion-item_8",[[33,"ion-item-divider",{"color":[513],"sticky":[4]}],[32,"ion-item-group"],[1,"ion-skeleton-text",{"animated":[4]}],[32,"ion-list",{"lines":[1],"inset":[4],"closeSlidingItems":[64]}],[33,"ion-list-header",{"color":[513],"lines":[1]}],[49,"ion-item",{"color":[513],"button":[4],"detail":[4],"detailIcon":[1,"detail-icon"],"disabled":[4],"download":[1],"fill":[1],"shape":[1],"href":[1],"rel":[1],"lines":[1],"counter":[4],"routerAnimation":[16],"routerDirection":[1,"router-direction"],"target":[1],"type":[1],"counterFormatter":[16],"multipleInputs":[32],"focusable":[32],"counterString":[32]},[[0,"ionInput","handleIonInput"],[0,"ionColor","labelColorChanged"],[0,"ionStyle","itemStyle"]]],[34,"ion-label",{"color":[513],"position":[1],"noAnimate":[32]}],[33,"ion-note",{"color":[513]}]]],["ion-select_3",[[33,"ion-select",{"cancelText":[1,"cancel-text"],"color":[513],"compareWith":[1,"compare-with"],"disabled":[4],"fill":[1],"interface":[1],"interfaceOptions":[8,"interface-options"],"justify":[1],"label":[1],"labelPlacement":[1,"label-placement"],"legacy":[4],"multiple":[4],"name":[1],"okText":[1,"ok-text"],"placeholder":[1],"selectedText":[1,"selected-text"],"shape":[1],"value":[1032],"isExpanded":[32],"open":[64]}],[1,"ion-select-option",{"disabled":[4],"value":[8]}],[34,"ion-select-popover",{"header":[1],"subHeader":[1,"sub-header"],"message":[1],"multiple":[4],"options":[16]}]]],["ion-picker-internal",[[33,"ion-picker-internal",{"exitInputMode":[64]},[[1,"touchstart","preventTouchStartPropagation"]]]]],["ion-datetime_3",[[33,"ion-datetime",{"color":[1],"name":[1],"disabled":[4],"readonly":[4],"isDateEnabled":[16],"min":[1025],"max":[1025],"presentation":[1],"cancelText":[1,"cancel-text"],"doneText":[1,"done-text"],"clearText":[1,"clear-text"],"yearValues":[8,"year-values"],"monthValues":[8,"month-values"],"dayValues":[8,"day-values"],"hourValues":[8,"hour-values"],"minuteValues":[8,"minute-values"],"locale":[1],"firstDayOfWeek":[2,"first-day-of-week"],"titleSelectedDatesFormatter":[16],"multiple":[4],"highlightedDates":[16],"value":[1025],"showDefaultTitle":[4,"show-default-title"],"showDefaultButtons":[4,"show-default-buttons"],"showClearButton":[4,"show-clear-button"],"showDefaultTimeLabel":[4,"show-default-time-label"],"hourCycle":[1,"hour-cycle"],"size":[1],"preferWheel":[4,"prefer-wheel"],"showMonthAndYear":[32],"activeParts":[32],"workingParts":[32],"isPresented":[32],"isTimePopoverOpen":[32],"confirm":[64],"reset":[64],"cancel":[64]}],[34,"ion-picker",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"columns":[16],"cssClass":[1,"css-class"],"duration":[2],"showBackdrop":[4,"show-backdrop"],"backdropDismiss":[4,"backdrop-dismiss"],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"getColumn":[64]}],[32,"ion-picker-column",{"col":[16]}]]],["ion-radio_2",[[33,"ion-radio",{"color":[513],"name":[1],"disabled":[4],"value":[8],"labelPlacement":[1,"label-placement"],"legacy":[4],"justify":[1],"checked":[32],"buttonTabindex":[32],"setFocus":[64],"setButtonTabindex":[64]}],[0,"ion-radio-group",{"allowEmptySelection":[4,"allow-empty-selection"],"name":[1],"value":[1032]},[[4,"keydown","onKeydown"]]]]],["ion-ripple-effect",[[1,"ion-ripple-effect",{"type":[1],"addRipple":[64]}]]],["ion-button_2",[[33,"ion-button",{"color":[513],"buttonType":[1025,"button-type"],"disabled":[516],"expand":[513],"fill":[1537],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"download":[1],"href":[1],"rel":[1],"shape":[513],"size":[513],"strong":[4],"target":[1],"type":[1],"form":[1]}],[1,"ion-icon",{"mode":[1025],"color":[1],"ios":[1],"md":[1],"flipRtl":[4,"flip-rtl"],"name":[513],"src":[1],"icon":[8],"size":[1],"lazy":[4],"sanitize":[4],"svgContent":[32],"isVisible":[32]}]]],["ion-action-sheet",[[34,"ion-action-sheet",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"header":[1],"subHeader":[1,"sub-header"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-alert",[[34,"ion-alert",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"header":[1],"subHeader":[1,"sub-header"],"message":[1],"buttons":[16],"inputs":[1040],"backdropDismiss":[4,"backdrop-dismiss"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},[[4,"keydown","onKeydown"]]]]],["ion-app_8",[[0,"ion-app",{"setFocus":[64]}],[1,"ion-content",{"color":[513],"fullscreen":[4],"forceOverscroll":[1028,"force-overscroll"],"scrollX":[4,"scroll-x"],"scrollY":[4,"scroll-y"],"scrollEvents":[4,"scroll-events"],"getScrollElement":[64],"getBackgroundElement":[64],"scrollToTop":[64],"scrollToBottom":[64],"scrollByPoint":[64],"scrollToPoint":[64]},[[8,"appload","onAppLoad"],[9,"resize","onResize"]]],[36,"ion-footer",{"collapse":[1],"translucent":[4],"keyboardVisible":[32]}],[36,"ion-header",{"collapse":[1],"translucent":[4]}],[1,"ion-router-outlet",{"mode":[1025],"delegate":[16],"animated":[4],"animation":[16],"swipeHandler":[16],"commit":[64],"setRouteId":[64],"getRouteId":[64]}],[33,"ion-title",{"color":[513],"size":[1]}],[33,"ion-toolbar",{"color":[513]},[[0,"ionStyle","childrenStyle"]]],[34,"ion-buttons",{"collapse":[4]}]]],["ion-picker-column-internal",[[33,"ion-picker-column-internal",{"items":[16],"value":[1032],"color":[513],"numericInput":[4,"numeric-input"],"isActive":[32],"scrollActiveItemIntoView":[64],"setValue":[64]}]]],["ion-popover",[[33,"ion-popover",{"hasController":[4,"has-controller"],"delegate":[16],"overlayIndex":[2,"overlay-index"],"enterAnimation":[16],"leaveAnimation":[16],"component":[1],"componentProps":[16],"keyboardClose":[4,"keyboard-close"],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"event":[8],"showBackdrop":[4,"show-backdrop"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"triggerAction":[1,"trigger-action"],"trigger":[1],"size":[1],"dismissOnSelect":[4,"dismiss-on-select"],"reference":[1],"side":[1],"alignment":[1025],"arrow":[4],"isOpen":[4,"is-open"],"keyboardEvents":[4,"keyboard-events"],"keepContentsMounted":[4,"keep-contents-mounted"],"presented":[32],"presentFromTrigger":[64],"present":[64],"dismiss":[64],"getParentPopover":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-checkbox",[[33,"ion-checkbox",{"color":[513],"name":[1],"checked":[1028],"indeterminate":[1028],"disabled":[4],"value":[8],"labelPlacement":[1,"label-placement"],"justify":[1],"legacy":[4]}]]],["ion-spinner",[[1,"ion-spinner",{"color":[513],"duration":[2],"name":[1],"paused":[4]}]]]]'),ue))))(0,{exclude:["ion-tabs","ion-tab"],syncQueue:!0,raf:ft,jmp:Sn=>N.runOutsideAngular(Sn),ael(Sn,xr,Jr,xi){Sn[Ze](xr,Jr,xi)},rel(Sn,xr,Jr,xi){Sn.removeEventListener(xr,Jr,xi)}}))}};let oo=(()=>{class k{static forRoot(N){return{ngModule:k,providers:[{provide:Hn,useValue:N},{provide:v.ip1,useFactory:$o,multi:!0,deps:[Hn,it.K0,v.R0b]}]}}}return k.\u0275fac=function(N){return new(N||k)},k.\u0275mod=v.oAB({type:k}),k.\u0275inj=v.cJS({providers:[Rs,So,xo],imports:[it.ez]}),k})()},3192:(er,Nt,H)=>{"use strict";H.d(Nt,{kL:()=>Es,zX:()=>vo});var d=H(1086);class v{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(y,h,m,b){const x=h.duration;h.listeners[b].forEach(B=>B({chart:y,initial:h.initial,numSteps:x,currentStep:Math.min(m-h.start,x)}))}_refresh(){this._request||(this._running=!0,this._request=d.r.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(y=Date.now()){let h=0;this._charts.forEach((m,b)=>{if(!m.running||!m.items.length)return;const T=m.items;let W,x=T.length-1,B=!1;for(;x>=0;--x)W=T[x],W._active?(W._total>m.duration&&(m.duration=W._total),W.tick(y),B=!0):(T[x]=T[T.length-1],T.pop());B&&(b.draw(),this._notify(b,m,y,"progress")),T.length||(m.running=!1,this._notify(b,m,y,"complete"),m.initial=!1),h+=T.length}),this._lastDate=y,0===h&&(this._running=!1)}_getAnims(y){const h=this._charts;let m=h.get(y);return m||(m={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},h.set(y,m)),m}listen(y,h,m){this._getAnims(y).listeners[h].push(m)}add(y,h){!h||!h.length||this._getAnims(y).items.push(...h)}has(y){return this._getAnims(y).items.length>0}start(y){const h=this._charts.get(y);h&&(h.running=!0,h.start=Date.now(),h.duration=h.items.reduce((m,b)=>Math.max(m,b._duration),0),this._refresh())}running(y){if(!this._running)return!1;const h=this._charts.get(y);return!(!h||!h.running||!h.items.length)}stop(y){const h=this._charts.get(y);if(!h||!h.items.length)return;const m=h.items;let b=m.length-1;for(;b>=0;--b)m[b].cancel();h.items=[],this._notify(y,h,Date.now(),"complete")}remove(y){return this._charts.delete(y)}}var ve=new v;const Fe="transparent",Xe={boolean:(I,y,h)=>h>.5?y:I,color(I,y,h){const m=(0,d.c)(I||Fe),b=m.valid&&(0,d.c)(y||Fe);return b&&b.valid?b.mix(m,h).hexString():y},number:(I,y,h)=>I+(y-I)*h};class Ke{constructor(y,h,m,b){const T=h[m];b=(0,d.a)([y.to,b,T,y.from]);const x=(0,d.a)([y.from,T,b]);this._active=!0,this._fn=y.fn||Xe[y.type||typeof x],this._easing=d.e[y.easing]||d.e.linear,this._start=Math.floor(Date.now()+(y.delay||0)),this._duration=this._total=Math.floor(y.duration),this._loop=!!y.loop,this._target=h,this._prop=m,this._from=x,this._to=b,this._promises=void 0}active(){return this._active}update(y,h,m){if(this._active){this._notify(!1);const b=this._target[this._prop],T=m-this._start,x=this._duration-T;this._start=m,this._duration=Math.floor(Math.max(x,y.duration)),this._total+=T,this._loop=!!y.loop,this._to=(0,d.a)([y.to,h,b,y.from]),this._from=(0,d.a)([y.from,b,h])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(y){const h=y-this._start,m=this._duration,b=this._prop,T=this._from,x=this._loop,B=this._to;let W;if(this._active=T!==B&&(x||h<m),!this._active)return this._target[b]=B,void this._notify(!0);h<0?this._target[b]=T:(W=h/m%2,W=x&&W>1?2-W:W,W=this._easing(Math.min(1,Math.max(0,W))),this._target[b]=this._fn(T,B,W))}wait(){const y=this._promises||(this._promises=[]);return new Promise((h,m)=>{y.push({res:h,rej:m})})}_notify(y){const h=y?"res":"rej",m=this._promises||[];for(let b=0;b<m.length;b++)m[b][h]()}}class Se{constructor(y,h){this._chart=y,this._properties=new Map,this.configure(h)}configure(y){if(!(0,d.i)(y))return;const h=Object.keys(d.d.animation),m=this._properties;Object.getOwnPropertyNames(y).forEach(b=>{const T=y[b];if(!(0,d.i)(T))return;const x={};for(const B of h)x[B]=T[B];((0,d.b)(T.properties)&&T.properties||[b]).forEach(B=>{(B===b||!m.has(B))&&m.set(B,x)})})}_animateOptions(y,h){const m=h.options,b=function Qe(I,y){if(!y)return;let h=I.options;if(h)return h.$shared&&(I.options=h=Object.assign({},h,{$shared:!1,$animations:{}})),h;I.options=y}(y,m);if(!b)return[];const T=this._createAnimations(b,m);return m.$shared&&function Re(I,y){const h=[],m=Object.keys(y);for(let b=0;b<m.length;b++){const T=I[m[b]];T&&T.active()&&h.push(T.wait())}return Promise.all(h)}(y.options.$animations,m).then(()=>{y.options=m},()=>{}),T}_createAnimations(y,h){const m=this._properties,b=[],T=y.$animations||(y.$animations={}),x=Object.keys(h),B=Date.now();let W;for(W=x.length-1;W>=0;--W){const ne=x[W];if("$"===ne.charAt(0))continue;if("options"===ne){b.push(...this._animateOptions(y,h));continue}const Ce=h[ne];let Ue=T[ne];const pt=m.get(ne);if(Ue){if(pt&&Ue.active()){Ue.update(pt,Ce,B);continue}Ue.cancel()}pt&&pt.duration?(T[ne]=Ue=new Ke(pt,y,ne,Ce),b.push(Ue)):y[ne]=Ce}return b}update(y,h){if(0===this._properties.size)return void Object.assign(y,h);const m=this._createAnimations(y,h);return m.length?(ve.add(this._chart,m),!0):void 0}}function Be(I,y){const h=I&&I.options||{},m=h.reverse,b=void 0===h.min?y:0,T=void 0===h.max?y:0;return{start:m?T:b,end:m?b:T}}function Pe(I,y){const h=[],m=I._getSortedDatasetMetas(y);let b,T;for(b=0,T=m.length;b<T;++b)h.push(m[b].index);return h}function ct(I,y,h,m={}){const b=I.keys,T="single"===m.mode;let x,B,W,ne;if(null!==y){for(x=0,B=b.length;x<B;++x){if(W=+b[x],W===h){if(m.all)continue;break}ne=I.values[W],(0,d.g)(ne)&&(T||0===y||(0,d.s)(y)===(0,d.s)(ne))&&(y+=ne)}return y}}function Ut(I,y){const h=I&&I.options.stacked;return h||void 0===h&&void 0!==y.stack}function Lt(I,y,h){const m=I[y]||(I[y]={});return m[h]||(m[h]={})}function Rt(I,y,h,m){for(const b of y.getMatchingVisibleMetas(m).reverse()){const T=I[b.index];if(h&&T>0||!h&&T<0)return b.index}return null}function ht(I,y){const{chart:h,_cachedMeta:m}=I,b=h._stacks||(h._stacks={}),{iScale:T,vScale:x,index:B}=m,W=T.axis,ne=x.axis,Ce=function He(I,y,h){return`${I.id}.${y.id}.${h.stack||h.type}`}(T,x,m),Ue=y.length;let pt;for(let Et=0;Et<Ue;++Et){const qt=y[Et],{[W]:dn,[ne]:Cn}=qt;pt=(qt._stacks||(qt._stacks={}))[ne]=Lt(b,Ce,dn),pt[B]=Cn,pt._top=Rt(pt,x,!0,m.type),pt._bottom=Rt(pt,x,!1,m.type),(pt._visualValues||(pt._visualValues={}))[B]=Cn}}function Ct(I,y){const h=I.scales;return Object.keys(h).filter(m=>h[m].axis===y).shift()}function vt(I,y){const h=I.controller.index,m=I.vScale&&I.vScale.axis;if(m){y=y||I._parsed;for(const b of y){const T=b._stacks;if(!T||void 0===T[m]||void 0===T[m][h])return;delete T[m][h],void 0!==T[m]._visualValues&&void 0!==T[m]._visualValues[h]&&delete T[m]._visualValues[h]}}}const it=I=>"reset"===I||"none"===I,Gt=(I,y)=>y?I:Object.assign({},I);let kt=(()=>{class I{constructor(h,m){this.chart=h,this._ctx=h.ctx,this.index=m,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const h=this._cachedMeta;this.configure(),this.linkScales(),h._stacked=Ut(h.vScale,h),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(h){this.index!==h&&vt(this._cachedMeta),this.index=h}linkScales(){const h=this.chart,m=this._cachedMeta,b=this.getDataset(),T=(pt,Et,qt,dn)=>"x"===pt?Et:"r"===pt?dn:qt,x=m.xAxisID=(0,d.v)(b.xAxisID,Ct(h,"x")),B=m.yAxisID=(0,d.v)(b.yAxisID,Ct(h,"y")),W=m.rAxisID=(0,d.v)(b.rAxisID,Ct(h,"r")),ne=m.indexAxis,Ce=m.iAxisID=T(ne,x,B,W),Ue=m.vAxisID=T(ne,B,x,W);m.xScale=this.getScaleForId(x),m.yScale=this.getScaleForId(B),m.rScale=this.getScaleForId(W),m.iScale=this.getScaleForId(Ce),m.vScale=this.getScaleForId(Ue)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(h){return this.chart.scales[h]}_getOtherScale(h){const m=this._cachedMeta;return h===m.iScale?m.vScale:m.iScale}reset(){this._update("reset")}_destroy(){const h=this._cachedMeta;this._data&&(0,d.u)(this._data,this),h._stacked&&vt(h)}_dataCheck(){const h=this.getDataset(),m=h.data||(h.data=[]),b=this._data;if((0,d.i)(m))this._data=function mt(I){const y=Object.keys(I),h=new Array(y.length);let m,b,T;for(m=0,b=y.length;m<b;++m)T=y[m],h[m]={x:T,y:I[T]};return h}(m);else if(b!==m){if(b){(0,d.u)(b,this);const T=this._cachedMeta;vt(T),T._parsed=[]}m&&Object.isExtensible(m)&&(0,d.l)(m,this),this._syncList=[],this._data=m}}addElements(){const h=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(h.dataset=new this.datasetElementType)}buildOrUpdateElements(h){const m=this._cachedMeta,b=this.getDataset();let T=!1;this._dataCheck();const x=m._stacked;m._stacked=Ut(m.vScale,m),m.stack!==b.stack&&(T=!0,vt(m),m.stack=b.stack),this._resyncElements(h),(T||x!==m._stacked)&&ht(this,m._parsed)}configure(){const h=this.chart.config,m=h.datasetScopeKeys(this._type),b=h.getOptionScopes(this.getDataset(),m,!0);this.options=h.createResolver(b,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(h,m){const{_cachedMeta:b,_data:T}=this,{iScale:x,_stacked:B}=b,W=x.axis;let Ue,pt,Et,ne=0===h&&m===T.length||b._sorted,Ce=h>0&&b._parsed[h-1];if(!1===this._parsing)b._parsed=T,b._sorted=!0,Et=T;else{Et=(0,d.b)(T[h])?this.parseArrayData(b,T,h,m):(0,d.i)(T[h])?this.parseObjectData(b,T,h,m):this.parsePrimitiveData(b,T,h,m);const qt=()=>null===pt[W]||Ce&&pt[W]<Ce[W];for(Ue=0;Ue<m;++Ue)b._parsed[Ue+h]=pt=Et[Ue],ne&&(qt()&&(ne=!1),Ce=pt);b._sorted=ne}B&&ht(this,Et)}parsePrimitiveData(h,m,b,T){const{iScale:x,vScale:B}=h,W=x.axis,ne=B.axis,Ce=x.getLabels(),Ue=x===B,pt=new Array(T);let Et,qt,dn;for(Et=0,qt=T;Et<qt;++Et)dn=Et+b,pt[Et]={[W]:Ue||x.parse(Ce[dn],dn),[ne]:B.parse(m[dn],dn)};return pt}parseArrayData(h,m,b,T){const{xScale:x,yScale:B}=h,W=new Array(T);let ne,Ce,Ue,pt;for(ne=0,Ce=T;ne<Ce;++ne)Ue=ne+b,pt=m[Ue],W[ne]={x:x.parse(pt[0],Ue),y:B.parse(pt[1],Ue)};return W}parseObjectData(h,m,b,T){const{xScale:x,yScale:B}=h,{xAxisKey:W="x",yAxisKey:ne="y"}=this._parsing,Ce=new Array(T);let Ue,pt,Et,qt;for(Ue=0,pt=T;Ue<pt;++Ue)Et=Ue+b,qt=m[Et],Ce[Ue]={x:x.parse((0,d.f)(qt,W),Et),y:B.parse((0,d.f)(qt,ne),Et)};return Ce}getParsed(h){return this._cachedMeta._parsed[h]}getDataElement(h){return this._cachedMeta.data[h]}applyStack(h,m,b){const x=this._cachedMeta,B=m[h.axis];return ct({keys:Pe(this.chart,!0),values:m._stacks[h.axis]._visualValues},B,x.index,{mode:b})}updateRangeFromParsed(h,m,b,T){const x=b[m.axis];let B=null===x?NaN:x;const W=T&&b._stacks[m.axis];T&&W&&(T.values=W,B=ct(T,x,this._cachedMeta.index)),h.min=Math.min(h.min,B),h.max=Math.max(h.max,B)}getMinMax(h,m){const b=this._cachedMeta,T=b._parsed,x=b._sorted&&h===b.iScale,B=T.length,W=this._getOtherScale(h),ne=((I,y,h)=>I&&!y.hidden&&y._stacked&&{keys:Pe(this.chart,!0),values:null})(m,b),Ce={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:Ue,max:pt}=function $e(I){const{min:y,max:h,minDefined:m,maxDefined:b}=I.getUserBounds();return{min:m?y:Number.NEGATIVE_INFINITY,max:b?h:Number.POSITIVE_INFINITY}}(W);let Et,qt;function dn(){qt=T[Et];const Cn=qt[W.axis];return!(0,d.g)(qt[h.axis])||Ue>Cn||pt<Cn}for(Et=0;Et<B&&(dn()||(this.updateRangeFromParsed(Ce,h,qt,ne),!x));++Et);if(x)for(Et=B-1;Et>=0;--Et)if(!dn()){this.updateRangeFromParsed(Ce,h,qt,ne);break}return Ce}getAllParsedValues(h){const m=this._cachedMeta._parsed,b=[];let T,x,B;for(T=0,x=m.length;T<x;++T)B=m[T][h.axis],(0,d.g)(B)&&b.push(B);return b}getMaxOverflow(){return!1}getLabelAndValue(h){const m=this._cachedMeta,b=m.iScale,T=m.vScale,x=this.getParsed(h);return{label:b?""+b.getLabelForValue(x[b.axis]):"",value:T?""+T.getLabelForValue(x[T.axis]):""}}_update(h){const m=this._cachedMeta;this.update(h||"default"),m._clip=function ot(I){let y,h,m,b;return(0,d.i)(I)?(y=I.top,h=I.right,m=I.bottom,b=I.left):y=h=m=b=I,{top:y,right:h,bottom:m,left:b,disabled:!1===I}}((0,d.v)(this.options.clip,function Me(I,y,h){if(!1===h)return!1;const m=Be(I,h),b=Be(y,h);return{top:b.end,right:m.end,bottom:b.start,left:m.start}}(m.xScale,m.yScale,this.getMaxOverflow())))}update(h){}draw(){const h=this._ctx,b=this._cachedMeta,T=b.data||[],x=this.chart.chartArea,B=[],W=this._drawStart||0,ne=this._drawCount||T.length-W,Ce=this.options.drawActiveElementsOnTop;let Ue;for(b.dataset&&b.dataset.draw(h,x,W,ne),Ue=W;Ue<W+ne;++Ue){const pt=T[Ue];pt.hidden||(pt.active&&Ce?B.push(pt):pt.draw(h,x))}for(Ue=0;Ue<B.length;++Ue)B[Ue].draw(h,x)}getStyle(h,m){const b=m?"active":"default";return void 0===h&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(b):this.resolveDataElementOptions(h||0,b)}getContext(h,m,b){const T=this.getDataset();let x;if(h>=0&&h<this._cachedMeta.data.length){const B=this._cachedMeta.data[h];x=B.$context||(B.$context=function Dt(I,y,h){return(0,d.j)(I,{active:!1,dataIndex:y,parsed:void 0,raw:void 0,element:h,index:y,mode:"default",type:"data"})}(this.getContext(),h,B)),x.parsed=this.getParsed(h),x.raw=T.data[h],x.index=x.dataIndex=h}else x=this.$context||(this.$context=function Tt(I,y){return(0,d.j)(I,{active:!1,dataset:void 0,datasetIndex:y,index:y,mode:"default",type:"dataset"})}(this.chart.getContext(),this.index)),x.dataset=T,x.index=x.datasetIndex=this.index;return x.active=!!m,x.mode=b,x}resolveDatasetElementOptions(h){return this._resolveElementOptions(this.datasetElementType.id,h)}resolveDataElementOptions(h,m){return this._resolveElementOptions(this.dataElementType.id,m,h)}_resolveElementOptions(h,m="default",b){const T="active"===m,x=this._cachedDataOpts,B=h+"-"+m,W=x[B],ne=this.enableOptionSharing&&(0,d.h)(b);if(W)return Gt(W,ne);const Ce=this.chart.config,Ue=Ce.datasetElementScopeKeys(this._type,h),pt=T?[`${h}Hover`,"hover",h,""]:[h,""],Et=Ce.getOptionScopes(this.getDataset(),Ue),qt=Object.keys(d.d.elements[h]),Cn=Ce.resolveNamedOptions(Et,qt,()=>this.getContext(b,T,m),pt);return Cn.$shared&&(Cn.$shared=ne,x[B]=Object.freeze(Gt(Cn,ne))),Cn}_resolveAnimations(h,m,b){const T=this.chart,x=this._cachedDataOpts,B=`animation-${m}`,W=x[B];if(W)return W;let ne;if(!1!==T.options.animation){const Ue=this.chart.config,pt=Ue.datasetAnimationScopeKeys(this._type,m),Et=Ue.getOptionScopes(this.getDataset(),pt);ne=Ue.createResolver(Et,this.getContext(h,b,m))}const Ce=new Se(T,ne&&ne.animations);return ne&&ne._cacheable&&(x[B]=Object.freeze(Ce)),Ce}getSharedOptions(h){if(h.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},h))}includeOptions(h,m){return!m||it(h)||this.chart._animationsDisabled}_getSharedOptions(h,m){const b=this.resolveDataElementOptions(h,m),T=this._sharedOptions,x=this.getSharedOptions(b),B=this.includeOptions(m,x)||x!==T;return this.updateSharedOptions(x,m,b),{sharedOptions:x,includeOptions:B}}updateElement(h,m,b,T){it(T)?Object.assign(h,b):this._resolveAnimations(m,T).update(h,b)}updateSharedOptions(h,m,b){h&&!it(m)&&this._resolveAnimations(void 0,m).update(h,b)}_setStyle(h,m,b,T){h.active=T;const x=this.getStyle(m,T);this._resolveAnimations(m,b,T).update(h,{options:!T&&this.getSharedOptions(x)||x})}removeHoverStyle(h,m,b){this._setStyle(h,b,"active",!1)}setHoverStyle(h,m,b){this._setStyle(h,b,"active",!0)}_removeDatasetHoverStyle(){const h=this._cachedMeta.dataset;h&&this._setStyle(h,void 0,"active",!1)}_setDatasetHoverStyle(){const h=this._cachedMeta.dataset;h&&this._setStyle(h,void 0,"active",!0)}_resyncElements(h){const m=this._data,b=this._cachedMeta.data;for(const[W,ne,Ce]of this._syncList)this[W](ne,Ce);this._syncList=[];const T=b.length,x=m.length,B=Math.min(x,T);B&&this.parse(0,B),x>T?this._insertElements(T,x-T,h):x<T&&this._removeElements(x,T-x)}_insertElements(h,m,b=!0){const T=this._cachedMeta,x=T.data,B=h+m;let W;const ne=Ce=>{for(Ce.length+=m,W=Ce.length-1;W>=B;W--)Ce[W]=Ce[W-m]};for(ne(x),W=h;W<B;++W)x[W]=new this.dataElementType;this._parsing&&ne(T._parsed),this.parse(h,m),b&&this.updateElements(x,h,m,"reset")}updateElements(h,m,b,T){}_removeElements(h,m){const b=this._cachedMeta;if(this._parsing){const T=b._parsed.splice(h,m);b._stacked&&vt(b,T)}b.data.splice(h,m)}_sync(h){if(this._parsing)this._syncList.push(h);else{const[m,b,T]=h;this[m](b,T)}this.chart._dataChanges.push([this.index,...h])}_onDataPush(){const h=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-h,h])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(h,m){m&&this._sync(["_removeElements",h,m]);const b=arguments.length-2;b&&this._sync(["_insertElements",h,b])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}return I.defaults={},I.datasetElementType=null,I.dataElementType=null,I})();function Ae(I){const y=I.iScale,h=function Qt(I,y){if(!I._cache.$bar){const h=I.getMatchingVisibleMetas(y);let m=[];for(let b=0,T=h.length;b<T;b++)m=m.concat(h[b].controller.getAllParsedValues(I));I._cache.$bar=(0,d._)(m.sort((b,T)=>b-T))}return I._cache.$bar}(y,I.type);let b,T,x,B,m=y._length;const W=()=>{32767===x||-32768===x||((0,d.h)(B)&&(m=Math.min(m,Math.abs(x-B)||m)),B=x)};for(b=0,T=h.length;b<T;++b)x=y.getPixelForValue(h[b]),W();for(B=void 0,b=0,T=y.ticks.length;b<T;++b)x=y.getPixelForTick(b),W();return m}function tt(I,y,h,m){return(0,d.b)(I)?function _t(I,y,h,m){const b=h.parse(I[0],m),T=h.parse(I[1],m),x=Math.min(b,T),B=Math.max(b,T);let W=x,ne=B;Math.abs(x)>Math.abs(B)&&(W=B,ne=x),y[h.axis]=ne,y._custom={barStart:W,barEnd:ne,start:b,end:T,min:x,max:B}}(I,y,h,m):y[h.axis]=h.parse(I,m),y}function Ge(I,y,h,m){const b=I.iScale,T=I.vScale,x=b.getLabels(),B=b===T,W=[];let ne,Ce,Ue,pt;for(ne=h,Ce=h+m;ne<Ce;++ne)pt=y[ne],Ue={},Ue[b.axis]=B||b.parse(x[ne],ne),W.push(tt(pt,Ue,T,ne));return W}function ft(I){return I&&void 0!==I.barStart&&void 0!==I.barEnd}function sn(I,y,h,m){let b=y.borderSkipped;const T={};if(!b)return void(I.borderSkipped=T);if(!0===b)return void(I.borderSkipped={top:!0,right:!0,bottom:!0,left:!0});const{start:x,end:B,reverse:W,top:ne,bottom:Ce}=function Pt(I){let y,h,m,b,T;return I.horizontal?(y=I.base>I.x,h="left",m="right"):(y=I.base<I.y,h="bottom",m="top"),y?(b="end",T="start"):(b="start",T="end"),{start:h,end:m,reverse:y,top:b,bottom:T}}(I);"middle"===b&&h&&(I.enableBorderRadius=!0,(h._top||0)===m?b=ne:(h._bottom||0)===m?b=Ce:(T[ln(Ce,x,B,W)]=!0,b=ne)),T[ln(b,x,B,W)]=!0,I.borderSkipped=T}function ln(I,y,h,m){return m?(I=function Oe(I,y,h){return I===y?h:I===h?y:I}(I,y,h),I=rn(I,h,y)):I=rn(I,y,h),I}function rn(I,y,h){return"start"===I?y:"end"===I?h:I}function wt(I,{inflateAmount:y},h){I.inflateAmount="auto"===y?1===h?.33:0:y}let fn=(()=>{class I extends kt{parsePrimitiveData(h,m,b,T){return Ge(h,m,b,T)}parseArrayData(h,m,b,T){return Ge(h,m,b,T)}parseObjectData(h,m,b,T){const{iScale:x,vScale:B}=h,{xAxisKey:W="x",yAxisKey:ne="y"}=this._parsing,Ce="x"===x.axis?W:ne,Ue="x"===B.axis?W:ne,pt=[];let Et,qt,dn,Cn;for(Et=b,qt=b+T;Et<qt;++Et)Cn=m[Et],dn={},dn[x.axis]=x.parse((0,d.f)(Cn,Ce),Et),pt.push(tt((0,d.f)(Cn,Ue),dn,B,Et));return pt}updateRangeFromParsed(h,m,b,T){super.updateRangeFromParsed(h,m,b,T);const x=b._custom;x&&m===this._cachedMeta.vScale&&(h.min=Math.min(h.min,x.min),h.max=Math.max(h.max,x.max))}getMaxOverflow(){return 0}getLabelAndValue(h){const m=this._cachedMeta,{iScale:b,vScale:T}=m,x=this.getParsed(h),B=x._custom,W=ft(B)?"["+B.start+", "+B.end+"]":""+T.getLabelForValue(x[T.axis]);return{label:""+b.getLabelForValue(x[b.axis]),value:W}}initialize(){this.enableOptionSharing=!0,super.initialize(),this._cachedMeta.stack=this.getDataset().stack}update(h){const m=this._cachedMeta;this.updateElements(m.data,0,m.data.length,h)}updateElements(h,m,b,T){const x="reset"===T,{index:B,_cachedMeta:{vScale:W}}=this,ne=W.getBasePixel(),Ce=W.isHorizontal(),Ue=this._getRuler(),{sharedOptions:pt,includeOptions:Et}=this._getSharedOptions(m,T);for(let qt=m;qt<m+b;qt++){const dn=this.getParsed(qt),Cn=x||(0,d.k)(dn[W.axis])?{base:ne,head:ne}:this._calculateBarValuePixels(qt),Yn=this._calculateBarIndexPixels(qt,Ue),Fn=(dn._stacks||{})[W.axis],cr={horizontal:Ce,base:Cn.base,enableBorderRadius:!Fn||ft(dn._custom)||B===Fn._top||B===Fn._bottom,x:Ce?Cn.head:Yn.center,y:Ce?Yn.center:Cn.head,height:Ce?Yn.size:Math.abs(Cn.size),width:Ce?Math.abs(Cn.size):Yn.size};Et&&(cr.options=pt||this.resolveDataElementOptions(qt,h[qt].active?"active":T));const vr=cr.options||h[qt].options;sn(cr,vr,Fn,B),wt(cr,vr,Ue.ratio),this.updateElement(h[qt],qt,cr,T)}}_getStacks(h,m){const{iScale:b}=this._cachedMeta,T=b.getMatchingVisibleMetas(this._type).filter(ne=>ne.controller.options.grouped),x=b.options.stacked,B=[],W=ne=>{const Ce=ne.controller.getParsed(m),Ue=Ce&&Ce[ne.vScale.axis];if((0,d.k)(Ue)||isNaN(Ue))return!0};for(const ne of T)if((void 0===m||!W(ne))&&((!1===x||-1===B.indexOf(ne.stack)||void 0===x&&void 0===ne.stack)&&B.push(ne.stack),ne.index===h))break;return B.length||B.push(void 0),B}_getStackCount(h){return this._getStacks(void 0,h).length}_getStackIndex(h,m,b){const T=this._getStacks(h,b),x=void 0!==m?T.indexOf(m):-1;return-1===x?T.length-1:x}_getRuler(){const h=this.options,m=this._cachedMeta,b=m.iScale,T=[];let x,B;for(x=0,B=m.data.length;x<B;++x)T.push(b.getPixelForValue(this.getParsed(x)[b.axis],x));const W=h.barThickness;return{min:W||Ae(m),pixels:T,start:b._startPixel,end:b._endPixel,stackCount:this._getStackCount(),scale:b,grouped:h.grouped,ratio:W?1:h.categoryPercentage*h.barPercentage}}_calculateBarValuePixels(h){const{_cachedMeta:{vScale:m,_stacked:b,index:T},options:{base:x,minBarLength:B}}=this,W=x||0,ne=this.getParsed(h),Ce=ne._custom,Ue=ft(Ce);let dn,Cn,pt=ne[m.axis],Et=0,qt=b?this.applyStack(m,ne,b):pt;qt!==pt&&(Et=qt-pt,qt=pt),Ue&&(pt=Ce.barStart,qt=Ce.barEnd-Ce.barStart,0!==pt&&(0,d.s)(pt)!==(0,d.s)(Ce.barEnd)&&(Et=0),Et+=pt);const Yn=(0,d.k)(x)||Ue?Et:x;let Fn=m.getPixelForValue(Yn);if(dn=this.chart.getDataVisibility(h)?m.getPixelForValue(Et+qt):Fn,Cn=dn-Fn,Math.abs(Cn)<B){Cn=function jt(I,y,h){return 0!==I?(0,d.s)(I):(y.isHorizontal()?1:-1)*(y.min>=h?1:-1)}(Cn,m,W)*B,pt===W&&(Fn-=Cn/2);const cr=m.getPixelForDecimal(0),vr=m.getPixelForDecimal(1),Jn=Math.min(cr,vr),or=Math.max(cr,vr);Fn=Math.max(Math.min(Fn,or),Jn),dn=Fn+Cn,b&&!Ue&&(ne._stacks[m.axis]._visualValues[T]=m.getValueForPixel(dn)-m.getValueForPixel(Fn))}if(Fn===m.getPixelForValue(W)){const cr=(0,d.s)(Cn)*m.getLineWidthForValue(W)/2;Fn+=cr,Cn-=cr}return{size:Cn,base:Fn,head:dn,center:dn+Cn/2}}_calculateBarIndexPixels(h,m){const b=m.scale,T=this.options,x=T.skipNull,B=(0,d.v)(T.maxBarThickness,1/0);let W,ne;if(m.grouped){const Ce=x?this._getStackCount(h):m.stackCount,Ue="flex"===T.barThickness?function ut(I,y,h,m){const b=y.pixels,T=b[I];let x=I>0?b[I-1]:null,B=I<b.length-1?b[I+1]:null;const W=h.categoryPercentage;null===x&&(x=T-(null===B?y.end-y.start:B-T)),null===B&&(B=T+T-x);const ne=T-(T-Math.min(x,B))/2*W;return{chunk:Math.abs(B-x)/2*W/m,ratio:h.barPercentage,start:ne}}(h,m,T,Ce):function Je(I,y,h,m){const b=h.barThickness;let T,x;return(0,d.k)(b)?(T=y.min*h.categoryPercentage,x=h.barPercentage):(T=b*m,x=1),{chunk:T/m,ratio:x,start:y.pixels[I]-T/2}}(h,m,T,Ce),pt=this._getStackIndex(this.index,this._cachedMeta.stack,x?h:void 0);W=Ue.start+Ue.chunk*pt+Ue.chunk/2,ne=Math.min(B,Ue.chunk*Ue.ratio)}else W=b.getPixelForValue(this.getParsed(h)[b.axis],h),ne=Math.min(B,m.min*m.ratio);return{base:W-ne/2,head:W+ne/2,center:W,size:ne}}draw(){const h=this._cachedMeta,m=h.vScale,b=h.data,T=b.length;let x=0;for(;x<T;++x)null!==this.getParsed(x)[m.axis]&&b[x].draw(this._ctx)}}return I.id="bar",I.defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}},I.overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}},I})(),_n=(()=>{class I extends kt{initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(h,m,b,T){const x=super.parsePrimitiveData(h,m,b,T);for(let B=0;B<x.length;B++)x[B]._custom=this.resolveDataElementOptions(B+b).radius;return x}parseArrayData(h,m,b,T){const x=super.parseArrayData(h,m,b,T);for(let B=0;B<x.length;B++)x[B]._custom=(0,d.v)(m[b+B][2],this.resolveDataElementOptions(B+b).radius);return x}parseObjectData(h,m,b,T){const x=super.parseObjectData(h,m,b,T);for(let B=0;B<x.length;B++){const W=m[b+B];x[B]._custom=(0,d.v)(W&&W.r&&+W.r,this.resolveDataElementOptions(B+b).radius)}return x}getMaxOverflow(){const h=this._cachedMeta.data;let m=0;for(let b=h.length-1;b>=0;--b)m=Math.max(m,h[b].size(this.resolveDataElementOptions(b))/2);return m>0&&m}getLabelAndValue(h){const m=this._cachedMeta,b=this.chart.data.labels||[],{xScale:T,yScale:x}=m,B=this.getParsed(h),W=T.getLabelForValue(B.x),ne=x.getLabelForValue(B.y),Ce=B._custom;return{label:b[h]||"",value:"("+W+", "+ne+(Ce?", "+Ce:"")+")"}}update(h){const m=this._cachedMeta.data;this.updateElements(m,0,m.length,h)}updateElements(h,m,b,T){const x="reset"===T,{iScale:B,vScale:W}=this._cachedMeta,{sharedOptions:ne,includeOptions:Ce}=this._getSharedOptions(m,T),Ue=B.axis,pt=W.axis;for(let Et=m;Et<m+b;Et++){const qt=h[Et],dn=!x&&this.getParsed(Et),Cn={},Yn=Cn[Ue]=x?B.getPixelForDecimal(.5):B.getPixelForValue(dn[Ue]),Fn=Cn[pt]=x?W.getBasePixel():W.getPixelForValue(dn[pt]);Cn.skip=isNaN(Yn)||isNaN(Fn),Ce&&(Cn.options=ne||this.resolveDataElementOptions(Et,qt.active?"active":T),x&&(Cn.options.radius=0)),this.updateElement(qt,Et,Cn,T)}}resolveDataElementOptions(h,m){const b=this.getParsed(h);let T=super.resolveDataElementOptions(h,m);T.$shared&&(T=Object.assign({},T,{$shared:!1}));const x=T.radius;return"active"!==m&&(T.radius=0),T.radius+=(0,d.v)(b&&b._custom,x),T}}return I.id="bubble",I.defaults={datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}},I.overrides={scales:{x:{type:"linear"},y:{type:"linear"}}},I})(),ur=(()=>{class I extends kt{constructor(h,m){super(h,m),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(h,m){const b=this.getDataset().data,T=this._cachedMeta;if(!1===this._parsing)T._parsed=b;else{let B,W,x=ne=>+b[ne];if((0,d.i)(b[h])){const{key:ne="value"}=this._parsing;x=Ce=>+(0,d.f)(b[Ce],ne)}for(B=h,W=h+m;B<W;++B)T._parsed[B]=x(B)}}_getRotation(){return(0,d.t)(this.options.rotation-90)}_getCircumference(){return(0,d.t)(this.options.circumference)}_getRotationExtents(){let h=d.T,m=-d.T;for(let b=0;b<this.chart.data.datasets.length;++b)if(this.chart.isDatasetVisible(b)&&this.chart.getDatasetMeta(b).type===this._type){const T=this.chart.getDatasetMeta(b).controller,x=T._getRotation(),B=T._getCircumference();h=Math.min(h,x),m=Math.max(m,x+B)}return{rotation:h,circumference:m-h}}update(h){const m=this.chart,{chartArea:b}=m,T=this._cachedMeta,x=T.data,B=this.getMaxBorderWidth()+this.getMaxOffset(x)+this.options.spacing,W=Math.max((Math.min(b.width,b.height)-B)/2,0),ne=Math.min((0,d.m)(this.options.cutout,W),1),Ce=this._getRingWeight(this.index),{circumference:Ue,rotation:pt}=this._getRotationExtents(),{ratioX:Et,ratioY:qt,offsetX:dn,offsetY:Cn}=function tr(I,y,h){let m=1,b=1,T=0,x=0;if(y<d.T){const B=I,W=B+y,ne=Math.cos(B),Ce=Math.sin(B),Ue=Math.cos(W),pt=Math.sin(W),Et=(cr,vr,Jn)=>(0,d.p)(cr,B,W,!0)?1:Math.max(vr,vr*h,Jn,Jn*h),qt=(cr,vr,Jn)=>(0,d.p)(cr,B,W,!0)?-1:Math.min(vr,vr*h,Jn,Jn*h),dn=Et(0,ne,Ue),Cn=Et(d.H,Ce,pt),Yn=qt(d.P,ne,Ue),Fn=qt(d.P+d.H,Ce,pt);m=(dn-Yn)/2,b=(Cn-Fn)/2,T=-(dn+Yn)/2,x=-(Cn+Fn)/2}return{ratioX:m,ratioY:b,offsetX:T,offsetY:x}}(pt,Ue,ne),cr=Math.max(Math.min((b.width-B)/Et,(b.height-B)/qt)/2,0),vr=(0,d.n)(this.options.radius,cr),or=(vr-Math.max(vr*ne,0))/this._getVisibleDatasetWeightTotal();this.offsetX=dn*vr,this.offsetY=Cn*vr,T.total=this.calculateTotal(),this.outerRadius=vr-or*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-or*Ce,0),this.updateElements(x,0,x.length,h)}_circumference(h,m){const b=this.options,T=this._cachedMeta,x=this._getCircumference();return m&&b.animation.animateRotate||!this.chart.getDataVisibility(h)||null===T._parsed[h]||T.data[h].hidden?0:this.calculateCircumference(T._parsed[h]*x/d.T)}updateElements(h,m,b,T){const x="reset"===T,B=this.chart,W=B.chartArea,Ue=(W.left+W.right)/2,pt=(W.top+W.bottom)/2,Et=x&&B.options.animation.animateScale,qt=Et?0:this.innerRadius,dn=Et?0:this.outerRadius,{sharedOptions:Cn,includeOptions:Yn}=this._getSharedOptions(m,T);let cr,Fn=this._getRotation();for(cr=0;cr<m;++cr)Fn+=this._circumference(cr,x);for(cr=m;cr<m+b;++cr){const vr=this._circumference(cr,x),Jn=h[cr],or={x:Ue+this.offsetX,y:pt+this.offsetY,startAngle:Fn,endAngle:Fn+vr,circumference:vr,outerRadius:dn,innerRadius:qt};Yn&&(or.options=Cn||this.resolveDataElementOptions(cr,Jn.active?"active":T)),Fn+=vr,this.updateElement(Jn,cr,or,T)}}calculateTotal(){const h=this._cachedMeta,m=h.data;let T,b=0;for(T=0;T<m.length;T++){const x=h._parsed[T];null!==x&&!isNaN(x)&&this.chart.getDataVisibility(T)&&!m[T].hidden&&(b+=Math.abs(x))}return b}calculateCircumference(h){const m=this._cachedMeta.total;return m>0&&!isNaN(h)?d.T*(Math.abs(h)/m):0}getLabelAndValue(h){const b=this.chart,T=b.data.labels||[],x=(0,d.o)(this._cachedMeta._parsed[h],b.options.locale);return{label:T[h]||"",value:x}}getMaxBorderWidth(h){let m=0;const b=this.chart;let T,x,B,W,ne;if(!h)for(T=0,x=b.data.datasets.length;T<x;++T)if(b.isDatasetVisible(T)){B=b.getDatasetMeta(T),h=B.data,W=B.controller;break}if(!h)return 0;for(T=0,x=h.length;T<x;++T)ne=W.resolveDataElementOptions(T),"inner"!==ne.borderAlign&&(m=Math.max(m,ne.borderWidth||0,ne.hoverBorderWidth||0));return m}getMaxOffset(h){let m=0;for(let b=0,T=h.length;b<T;++b){const x=this.resolveDataElementOptions(b);m=Math.max(m,x.offset||0,x.hoverOffset||0)}return m}_getRingWeightOffset(h){let m=0;for(let b=0;b<h;++b)this.chart.isDatasetVisible(b)&&(m+=this._getRingWeight(b));return m}_getRingWeight(h){return Math.max((0,d.v)(this.chart.data.datasets[h].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}return I.id="doughnut",I.defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"},I.descriptors={_scriptable:y=>"spacing"!==y,_indexable:y=>"spacing"!==y&&!y.startsWith("borderDash")&&!y.startsWith("hoverBorderDash")},I.overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(y){const h=y.data;if(h.labels.length&&h.datasets.length){const{labels:{pointStyle:m,color:b}}=y.legend.options;return h.labels.map((T,x)=>{const W=y.getDatasetMeta(0).controller.getStyle(x);return{text:T,fillStyle:W.backgroundColor,strokeStyle:W.borderColor,fontColor:b,lineWidth:W.borderWidth,pointStyle:m,hidden:!y.getDataVisibility(x),index:x}})}return[]}},onClick(y,h,m){m.chart.toggleDataVisibility(h.index),m.chart.update()}}}},I})(),lr=(()=>{class I extends kt{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(h){const m=this._cachedMeta,{dataset:b,data:T=[],_dataset:x}=m,B=this.chart._animationsDisabled;let{start:W,count:ne}=(0,d.q)(m,T,B);this._drawStart=W,this._drawCount=ne,(0,d.w)(m)&&(W=0,ne=T.length),b._chart=this.chart,b._datasetIndex=this.index,b._decimated=!!x._decimated,b.points=T;const Ce=this.resolveDatasetElementOptions(h);this.options.showLine||(Ce.borderWidth=0),Ce.segment=this.options.segment,this.updateElement(b,void 0,{animated:!B,options:Ce},h),this.updateElements(T,W,ne,h)}updateElements(h,m,b,T){const x="reset"===T,{iScale:B,vScale:W,_stacked:ne,_dataset:Ce}=this._cachedMeta,{sharedOptions:Ue,includeOptions:pt}=this._getSharedOptions(m,T),Et=B.axis,qt=W.axis,{spanGaps:dn,segment:Cn}=this.options,Yn=(0,d.x)(dn)?dn:Number.POSITIVE_INFINITY,Fn=this.chart._animationsDisabled||x||"none"===T,cr=m+b,vr=h.length;let Jn=m>0&&this.getParsed(m-1);for(let or=0;or<vr;++or){const Mr=h[or],Br=Fn?Mr:{};if(or<m||or>=cr){Br.skip=!0;continue}const Ci=this.getParsed(or),Zi=(0,d.k)(Ci[qt]),Xr=Br[Et]=B.getPixelForValue(Ci[Et],or),xs=Br[qt]=x||Zi?W.getBasePixel():W.getPixelForValue(ne?this.applyStack(W,Ci,ne):Ci[qt],or);Br.skip=isNaN(Xr)||isNaN(xs)||Zi,Br.stop=or>0&&Math.abs(Ci[Et]-Jn[Et])>Yn,Cn&&(Br.parsed=Ci,Br.raw=Ce.data[or]),pt&&(Br.options=Ue||this.resolveDataElementOptions(or,Mr.active?"active":T)),Fn||this.updateElement(Mr,or,Br,T),Jn=Ci}}getMaxOverflow(){const h=this._cachedMeta,m=h.dataset,b=m.options&&m.options.borderWidth||0,T=h.data||[];if(!T.length)return b;const x=T[0].size(this.resolveDataElementOptions(0)),B=T[T.length-1].size(this.resolveDataElementOptions(T.length-1));return Math.max(b,x,B)/2}draw(){const h=this._cachedMeta;h.dataset.updateControlPoints(this.chart.chartArea,h.iScale.axis),super.draw()}}return I.id="line",I.defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1},I.overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}},I})(),hn=(()=>{class I extends kt{constructor(h,m){super(h,m),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(h){const b=this.chart,T=b.data.labels||[],x=(0,d.o)(this._cachedMeta._parsed[h].r,b.options.locale);return{label:T[h]||"",value:x}}parseObjectData(h,m,b,T){return d.y.bind(this)(h,m,b,T)}update(h){const m=this._cachedMeta.data;this._updateRadius(),this.updateElements(m,0,m.length,h)}getMinMax(){const m={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return this._cachedMeta.data.forEach((b,T)=>{const x=this.getParsed(T).r;!isNaN(x)&&this.chart.getDataVisibility(T)&&(x<m.min&&(m.min=x),x>m.max&&(m.max=x))}),m}_updateRadius(){const h=this.chart,m=h.chartArea,b=h.options,T=Math.min(m.right-m.left,m.bottom-m.top),x=Math.max(T/2,0),W=(x-Math.max(b.cutoutPercentage?x/100*b.cutoutPercentage:1,0))/h.getVisibleDatasetCount();this.outerRadius=x-W*this.index,this.innerRadius=this.outerRadius-W}updateElements(h,m,b,T){const x="reset"===T,B=this.chart,ne=B.options.animation,Ce=this._cachedMeta.rScale,Ue=Ce.xCenter,pt=Ce.yCenter,Et=Ce.getIndexAngle(0)-.5*d.P;let dn,qt=Et;const Cn=360/this.countVisibleElements();for(dn=0;dn<m;++dn)qt+=this._computeAngle(dn,T,Cn);for(dn=m;dn<m+b;dn++){const Yn=h[dn];let Fn=qt,cr=qt+this._computeAngle(dn,T,Cn),vr=B.getDataVisibility(dn)?Ce.getDistanceFromCenterForValue(this.getParsed(dn).r):0;qt=cr,x&&(ne.animateScale&&(vr=0),ne.animateRotate&&(Fn=cr=Et));const Jn={x:Ue,y:pt,innerRadius:0,outerRadius:vr,startAngle:Fn,endAngle:cr,options:this.resolveDataElementOptions(dn,Yn.active?"active":T)};this.updateElement(Yn,dn,Jn,T)}}countVisibleElements(){let m=0;return this._cachedMeta.data.forEach((b,T)=>{!isNaN(this.getParsed(T).r)&&this.chart.getDataVisibility(T)&&m++}),m}_computeAngle(h,m,b){return this.chart.getDataVisibility(h)?(0,d.t)(this.resolveDataElementOptions(h,m).angle||b):0}}return I.id="polarArea",I.defaults={dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0},I.overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(y){const h=y.data;if(h.labels.length&&h.datasets.length){const{labels:{pointStyle:m,color:b}}=y.legend.options;return h.labels.map((T,x)=>{const W=y.getDatasetMeta(0).controller.getStyle(x);return{text:T,fillStyle:W.backgroundColor,strokeStyle:W.borderColor,fontColor:b,lineWidth:W.borderWidth,pointStyle:m,hidden:!y.getDataVisibility(x),index:x}})}return[]}},onClick(y,h,m){m.chart.toggleDataVisibility(h.index),m.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}},I})();var Wr=Object.freeze({__proto__:null,BarController:fn,BubbleController:_n,DoughnutController:ur,LineController:lr,PieController:(()=>{class I extends ur{}return I.id="pie",I.defaults={cutout:0,rotation:0,circumference:360,radius:"100%"},I})(),PolarAreaController:hn,RadarController:(()=>{class I extends kt{getLabelAndValue(h){const m=this._cachedMeta.vScale,b=this.getParsed(h);return{label:m.getLabels()[h],value:""+m.getLabelForValue(b[m.axis])}}parseObjectData(h,m,b,T){return d.y.bind(this)(h,m,b,T)}update(h){const m=this._cachedMeta,b=m.dataset,T=m.data||[],x=m.iScale.getLabels();if(b.points=T,"resize"!==h){const B=this.resolveDatasetElementOptions(h);this.options.showLine||(B.borderWidth=0),this.updateElement(b,void 0,{_loop:!0,_fullLoop:x.length===T.length,options:B},h)}this.updateElements(T,0,T.length,h)}updateElements(h,m,b,T){const x=this._cachedMeta.rScale,B="reset"===T;for(let W=m;W<m+b;W++){const ne=h[W],Ce=this.resolveDataElementOptions(W,ne.active?"active":T),Ue=x.getPointPositionForValue(W,this.getParsed(W).r),pt=B?x.xCenter:Ue.x,Et=B?x.yCenter:Ue.y,qt={x:pt,y:Et,angle:Ue.angle,skip:isNaN(pt)||isNaN(Et),options:Ce};this.updateElement(ne,W,qt,T)}}}return I.id="radar",I.defaults={datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}},I.overrides={aspectRatio:1,scales:{r:{type:"radialLinear"}}},I})(),ScatterController:(()=>{class I extends kt{getLabelAndValue(h){const m=this._cachedMeta,b=this.chart.data.labels||[],{xScale:T,yScale:x}=m,B=this.getParsed(h),W=T.getLabelForValue(B.x),ne=x.getLabelForValue(B.y);return{label:b[h]||"",value:"("+W+", "+ne+")"}}update(h){const m=this._cachedMeta,{data:b=[]}=m,T=this.chart._animationsDisabled;let{start:x,count:B}=(0,d.q)(m,b,T);if(this._drawStart=x,this._drawCount=B,(0,d.w)(m)&&(x=0,B=b.length),this.options.showLine){this.datasetElementType||this.addElements();const{dataset:W,_dataset:ne}=m;W._chart=this.chart,W._datasetIndex=this.index,W._decimated=!!ne._decimated,W.points=b;const Ce=this.resolveDatasetElementOptions(h);Ce.segment=this.options.segment,this.updateElement(W,void 0,{animated:!T,options:Ce},h)}else this.datasetElementType&&(delete m.dataset,this.datasetElementType=!1);this.updateElements(b,x,B,h)}addElements(){const{showLine:h}=this.options;!this.datasetElementType&&h&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(h,m,b,T){const x="reset"===T,{iScale:B,vScale:W,_stacked:ne,_dataset:Ce}=this._cachedMeta,Ue=this.resolveDataElementOptions(m,T),pt=this.getSharedOptions(Ue),Et=this.includeOptions(T,pt),qt=B.axis,dn=W.axis,{spanGaps:Cn,segment:Yn}=this.options,Fn=(0,d.x)(Cn)?Cn:Number.POSITIVE_INFINITY,cr=this.chart._animationsDisabled||x||"none"===T;let vr=m>0&&this.getParsed(m-1);for(let Jn=m;Jn<m+b;++Jn){const or=h[Jn],Mr=this.getParsed(Jn),Br=cr?or:{},Ci=(0,d.k)(Mr[dn]),Zi=Br[qt]=B.getPixelForValue(Mr[qt],Jn),Xr=Br[dn]=x||Ci?W.getBasePixel():W.getPixelForValue(ne?this.applyStack(W,Mr,ne):Mr[dn],Jn);Br.skip=isNaN(Zi)||isNaN(Xr)||Ci,Br.stop=Jn>0&&Math.abs(Mr[qt]-vr[qt])>Fn,Yn&&(Br.parsed=Mr,Br.raw=Ce.data[Jn]),Et&&(Br.options=pt||this.resolveDataElementOptions(Jn,or.active?"active":T)),cr||this.updateElement(or,Jn,Br,T),vr=Mr}this.updateSharedOptions(pt,T,Ue)}getMaxOverflow(){const h=this._cachedMeta,m=h.data||[];if(!this.options.showLine){let W=0;for(let ne=m.length-1;ne>=0;--ne)W=Math.max(W,m[ne].size(this.resolveDataElementOptions(ne))/2);return W>0&&W}const b=h.dataset,T=b.options&&b.options.borderWidth||0;if(!m.length)return T;const x=m[0].size(this.resolveDataElementOptions(0)),B=m[m.length-1].size(this.resolveDataElementOptions(m.length-1));return Math.max(T,x,B)/2}}return I.id="scatter",I.defaults={datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1},I.overrides={interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}},I})()});function Sr(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class On{static override(y){Object.assign(On.prototype,y)}constructor(y){this.options=void 0,this.options=y||{}}init(){}formats(){return Sr()}parse(){return Sr()}format(){return Sr()}add(){return Sr()}diff(){return Sr()}startOf(){return Sr()}endOf(){return Sr()}}var Gr__date=On;function Qr(I,y,h,m){const{controller:b,data:T,_sorted:x}=I,B=b._cachedMeta.iScale;if(B&&y===B.axis&&"r"!==y&&x&&T.length){const W=B._reversePixels?d.A:d.B;if(!m)return W(T,y,h);if(b._sharedOptions){const ne=T[0],Ce="function"==typeof ne.getRange&&ne.getRange(y);if(Ce){const Ue=W(T,y,h-Ce),pt=W(T,y,h+Ce);return{lo:Ue.lo,hi:pt.hi}}}}return{lo:0,hi:T.length-1}}function br(I,y,h,m,b){const T=I.getSortedVisibleDatasetMetas(),x=h[y];for(let B=0,W=T.length;B<W;++B){const{index:ne,data:Ce}=T[B],{lo:Ue,hi:pt}=Qr(T[B],y,x,b);for(let Et=Ue;Et<=pt;++Et){const qt=Ce[Et];qt.skip||m(qt,ne,Et)}}}function ui(I,y,h,m,b){const T=[];return!b&&!I.isPointInArea(y)||br(I,h,y,function(B,W,ne){!b&&!(0,d.C)(B,I.chartArea,0)||B.inRange(y.x,y.y,m)&&T.push({element:B,datasetIndex:W,index:ne})},!0),T}function rr(I,y,h,m,b,T){return T||I.isPointInArea(y)?"r"!==h||m?function Zn(I,y,h,m,b,T){let x=[];const B=function $r(I){const y=-1!==I.indexOf("x"),h=-1!==I.indexOf("y");return function(m,b){const T=y?Math.abs(m.x-b.x):0,x=h?Math.abs(m.y-b.y):0;return Math.sqrt(Math.pow(T,2)+Math.pow(x,2))}}(h);let W=Number.POSITIVE_INFINITY;return br(I,h,y,function ne(Ce,Ue,pt){const Et=Ce.inRange(y.x,y.y,b);if(m&&!Et)return;const qt=Ce.getCenterPoint(b);if(!T&&!I.isPointInArea(qt)&&!Et)return;const Cn=B(y,qt);Cn<W?(x=[{element:Ce,datasetIndex:Ue,index:pt}],W=Cn):Cn===W&&x.push({element:Ce,datasetIndex:Ue,index:pt})}),x}(I,y,h,m,b,T):function nr(I,y,h,m){let b=[];return br(I,h,y,function T(x,B,W){const{startAngle:ne,endAngle:Ce}=x.getProps(["startAngle","endAngle"],m),{angle:Ue}=(0,d.D)(x,{x:y.x,y:y.y});(0,d.p)(Ue,ne,Ce)&&b.push({element:x,datasetIndex:B,index:W})}),b}(I,y,h,b):[]}function Ei(I,y,h,m,b){const T=[],x="x"===h?"inXRange":"inYRange";let B=!1;return br(I,h,y,(W,ne,Ce)=>{W[x](y[h],b)&&(T.push({element:W,datasetIndex:ne,index:Ce}),B=B||W.inRange(y.x,y.y,b))}),m&&!B?[]:T}var di={evaluateInteractionItems:br,modes:{index(I,y,h,m){const b=(0,d.z)(y,I),T=h.axis||"x",x=h.includeInvisible||!1,B=h.intersect?ui(I,b,T,m,x):rr(I,b,T,!1,m,x),W=[];return B.length?(I.getSortedVisibleDatasetMetas().forEach(ne=>{const Ce=B[0].index,Ue=ne.data[Ce];Ue&&!Ue.skip&&W.push({element:Ue,datasetIndex:ne.index,index:Ce})}),W):[]},dataset(I,y,h,m){const b=(0,d.z)(y,I),T=h.axis||"xy",x=h.includeInvisible||!1;let B=h.intersect?ui(I,b,T,m,x):rr(I,b,T,!1,m,x);if(B.length>0){const W=B[0].datasetIndex,ne=I.getDatasetMeta(W).data;B=[];for(let Ce=0;Ce<ne.length;++Ce)B.push({element:ne[Ce],datasetIndex:W,index:Ce})}return B},point:(I,y,h,m)=>ui(I,(0,d.z)(y,I),h.axis||"xy",m,h.includeInvisible||!1),nearest:(I,y,h,m)=>rr(I,(0,d.z)(y,I),h.axis||"xy",h.intersect,m,h.includeInvisible||!1),x:(I,y,h,m)=>Ei(I,(0,d.z)(y,I),"x",h.intersect,m),y:(I,y,h,m)=>Ei(I,(0,d.z)(y,I),"y",h.intersect,m)}};const ni=["left","top","right","bottom"];function ri(I,y){return I.filter(h=>h.pos===y)}function oi(I,y){return I.filter(h=>-1===ni.indexOf(h.pos)&&h.box.axis===y)}function Er(I,y){return I.sort((h,m)=>{const b=y?m:h,T=y?h:m;return b.weight===T.weight?b.index-T.index:b.weight-T.weight})}function xe(I,y,h,m){return Math.max(I[h],y[h])+Math.max(I[m],y[m])}function gt(I,y){I.top=Math.max(I.top,y.top),I.left=Math.max(I.left,y.left),I.bottom=Math.max(I.bottom,y.bottom),I.right=Math.max(I.right,y.right)}function Wt(I,y,h,m){const{pos:b,box:T}=h,x=I.maxPadding;if(!(0,d.i)(b)){h.size&&(I[b]-=h.size);const Ue=m[h.stack]||{size:0,count:1};Ue.size=Math.max(Ue.size,h.horizontal?T.height:T.width),h.size=Ue.size/Ue.count,I[b]+=h.size}T.getPadding&&gt(x,T.getPadding());const B=Math.max(0,y.outerWidth-xe(x,I,"left","right")),W=Math.max(0,y.outerHeight-xe(x,I,"top","bottom")),ne=B!==I.w,Ce=W!==I.h;return I.w=B,I.h=W,h.horizontal?{same:ne,other:Ce}:{same:Ce,other:ne}}function Wn(I,y){const h=y.maxPadding;return function m(b){const T={left:0,top:0,right:0,bottom:0};return b.forEach(x=>{T[x]=Math.max(y[x],h[x])}),T}(I?["left","right"]:["top","bottom"])}function Kr(I,y,h,m){const b=[];let T,x,B,W,ne,Ce;for(T=0,x=I.length,ne=0;T<x;++T){B=I[T],W=B.box,W.update(B.width||y.w,B.height||y.h,Wn(B.horizontal,y));const{same:Ue,other:pt}=Wt(y,h,B,m);ne|=Ue&&b.length,Ce=Ce||pt,W.fullSize||b.push(B)}return ne&&Kr(b,y,h,m)||Ce}function Nr(I,y,h,m,b){I.top=h,I.left=y,I.right=y+m,I.bottom=h+b,I.width=m,I.height=b}function Rr(I,y,h,m){const b=h.padding;let{x:T,y:x}=y;for(const B of I){const W=B.box,ne=m[B.stack]||{count:1,placed:0,weight:1},Ce=B.stackWeight/ne.weight||1;if(B.horizontal){const Ue=y.w*Ce,pt=ne.size||W.height;(0,d.h)(ne.start)&&(x=ne.start),W.fullSize?Nr(W,b.left,x,h.outerWidth-b.right-b.left,pt):Nr(W,y.left+ne.placed,x,Ue,pt),ne.start=x,ne.placed+=Ue,x=W.bottom}else{const Ue=y.h*Ce,pt=ne.size||W.width;(0,d.h)(ne.start)&&(T=ne.start),W.fullSize?Nr(W,T,b.top,pt,h.outerHeight-b.bottom-b.top):Nr(W,T,y.top+ne.placed,pt,Ue),ne.start=T,ne.placed+=Ue,T=W.right}}y.x=T,y.y=x}var yt={addBox(I,y){I.boxes||(I.boxes=[]),y.fullSize=y.fullSize||!1,y.position=y.position||"top",y.weight=y.weight||0,y._layers=y._layers||function(){return[{z:0,draw(h){y.draw(h)}}]},I.boxes.push(y)},removeBox(I,y){const h=I.boxes?I.boxes.indexOf(y):-1;-1!==h&&I.boxes.splice(h,1)},configure(I,y,h){y.fullSize=h.fullSize,y.position=h.position,y.weight=h.weight},update(I,y,h,m){if(!I)return;const b=(0,d.E)(I.options.layout.padding),T=Math.max(y-b.width,0),x=Math.max(h-b.height,0),B=function An(I){const y=function pr(I){const y=[];let h,m,b,T,x,B;for(h=0,m=(I||[]).length;h<m;++h)b=I[h],({position:T,options:{stack:x,stackWeight:B=1}}=b),y.push({index:h,box:b,pos:T,horizontal:b.isHorizontal(),weight:b.weight,stack:x&&T+x,stackWeight:B});return y}(I),h=Er(y.filter(ne=>ne.box.fullSize),!0),m=Er(ri(y,"left"),!0),b=Er(ri(y,"right")),T=Er(ri(y,"top"),!0),x=Er(ri(y,"bottom")),B=oi(y,"x"),W=oi(y,"y");return{fullSize:h,leftAndTop:m.concat(T),rightAndBottom:b.concat(W).concat(x).concat(B),chartArea:ri(y,"chartArea"),vertical:m.concat(b).concat(W),horizontal:T.concat(x).concat(B)}}(I.boxes),W=B.vertical,ne=B.horizontal;(0,d.F)(I.boxes,dn=>{"function"==typeof dn.beforeLayout&&dn.beforeLayout()});const Ce=W.reduce((dn,Cn)=>Cn.box.options&&!1===Cn.box.options.display?dn:dn+1,0)||1,Ue=Object.freeze({outerWidth:y,outerHeight:h,padding:b,availableWidth:T,availableHeight:x,vBoxMaxWidth:T/2/Ce,hBoxMaxHeight:x/2}),pt=Object.assign({},b);gt(pt,(0,d.E)(m));const Et=Object.assign({maxPadding:pt,w:T,h:x,x:b.left,y:b.top},b),qt=function Ar(I,y){const h=function yi(I){const y={};for(const h of I){const{stack:m,pos:b,stackWeight:T}=h;if(!m||!ni.includes(b))continue;const x=y[m]||(y[m]={count:0,placed:0,weight:0,size:0});x.count++,x.weight+=T}return y}(I),{vBoxMaxWidth:m,hBoxMaxHeight:b}=y;let T,x,B;for(T=0,x=I.length;T<x;++T){B=I[T];const{fullSize:W}=B.box,ne=h[B.stack],Ce=ne&&B.stackWeight/ne.weight;B.horizontal?(B.width=Ce?Ce*m:W&&y.availableWidth,B.height=b):(B.width=m,B.height=Ce?Ce*b:W&&y.availableHeight)}return h}(W.concat(ne),Ue);Kr(B.fullSize,Et,Ue,qt),Kr(W,Et,Ue,qt),Kr(ne,Et,Ue,qt)&&Kr(W,Et,Ue,qt),function In(I){const y=I.maxPadding;function h(m){const b=Math.max(y[m]-I[m],0);return I[m]+=b,b}I.y+=h("top"),I.x+=h("left"),h("right"),h("bottom")}(Et),Rr(B.leftAndTop,Et,Ue,qt),Et.x+=Et.w,Et.y+=Et.h,Rr(B.rightAndBottom,Et,Ue,qt),I.chartArea={left:Et.left,top:Et.top,right:Et.left+Et.w,bottom:Et.top+Et.h,height:Et.h,width:Et.w},(0,d.F)(B.chartArea,dn=>{const Cn=dn.box;Object.assign(Cn,I.chartArea),Cn.update(Et.w,Et.h,{left:0,top:0,right:0,bottom:0})})}};class Te{acquireContext(y,h){}releaseContext(y){return!1}addEventListener(y,h,m){}removeEventListener(y,h,m){}getDevicePixelRatio(){return 1}getMaximumSize(y,h,m,b){return h=Math.max(0,h||y.width),m=m||y.height,{width:h,height:Math.max(0,b?Math.floor(h/b):m)}}isAttached(y){return!0}updateConfig(y){}}class se extends Te{acquireContext(y){return y&&y.getContext&&y.getContext("2d")||null}updateConfig(y){y.options.animation=!1}}const ee="$chartjs",oe={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},qe=I=>null===I||""===I,rt=!!d.K&&{passive:!0};function nn(I,y,h){I.canvas.removeEventListener(y,h,rt)}function wn(I,y){for(const h of I)if(h===y||h.contains(y))return!0}function Gn(I,y,h){const m=I.canvas,b=new MutationObserver(T=>{let x=!1;for(const B of T)x=x||wn(B.addedNodes,m),x=x&&!wn(B.removedNodes,m);x&&h()});return b.observe(document,{childList:!0,subtree:!0}),b}function un(I,y,h){const m=I.canvas,b=new MutationObserver(T=>{let x=!1;for(const B of T)x=x||wn(B.removedNodes,m),x=x&&!wn(B.addedNodes,m);x&&h()});return b.observe(document,{childList:!0,subtree:!0}),b}const bn=new Map;let Nn=0;function Ft(){const I=window.devicePixelRatio;I!==Nn&&(Nn=I,bn.forEach((y,h)=>{h.currentDevicePixelRatio!==I&&y()}))}function Qn(I,y,h){const m=I.canvas,b=m&&(0,d.I)(m);if(!b)return;const T=(0,d.L)((B,W)=>{const ne=b.clientWidth;h(B,W),ne<b.clientWidth&&h()},window),x=new ResizeObserver(B=>{const W=B[0],ne=W.contentRect.width,Ce=W.contentRect.height;0===ne&&0===Ce||T(ne,Ce)});return x.observe(b),function Kt(I,y){bn.size||window.addEventListener("resize",Ft),bn.set(I,y)}(I,T),x}function gr(I,y,h){h&&h.disconnect(),"resize"===y&&function mn(I){bn.delete(I),bn.size||window.removeEventListener("resize",Ft)}(I)}function Fr(I,y,h){const m=I.canvas,b=(0,d.L)(T=>{null!==I.ctx&&h(function Tn(I,y){const h=oe[I.type]||I.type,{x:m,y:b}=(0,d.z)(I,y);return{type:h,chart:y,native:I,x:void 0!==m?m:null,y:void 0!==b?b:null}}(T,I))},I);return function Vt(I,y,h){I.addEventListener(y,h,rt)}(m,y,b),b}class Or extends Te{acquireContext(y,h){const m=y&&y.getContext&&y.getContext("2d");return m&&m.canvas===y?(function xt(I,y){const h=I.style,m=I.getAttribute("height"),b=I.getAttribute("width");if(I[ee]={initial:{height:m,width:b,style:{display:h.display,height:h.height,width:h.width}}},h.display=h.display||"block",h.boxSizing=h.boxSizing||"border-box",qe(b)){const T=(0,d.J)(I,"width");void 0!==T&&(I.width=T)}if(qe(m))if(""===I.style.height)I.height=I.width/(y||2);else{const T=(0,d.J)(I,"height");void 0!==T&&(I.height=T)}}(y,h),m):null}releaseContext(y){const h=y.canvas;if(!h[ee])return!1;const m=h[ee].initial;["height","width"].forEach(T=>{const x=m[T];(0,d.k)(x)?h.removeAttribute(T):h.setAttribute(T,x)});const b=m.style||{};return Object.keys(b).forEach(T=>{h.style[T]=b[T]}),h.width=h.width,delete h[ee],!0}addEventListener(y,h,m){this.removeEventListener(y,h),(y.$proxies||(y.$proxies={}))[h]=({attach:Gn,detach:un,resize:Qn}[h]||Fr)(y,h,m)}removeEventListener(y,h){const m=y.$proxies||(y.$proxies={}),b=m[h];b&&(({attach:gr,detach:gr,resize:gr}[h]||nn)(y,h,b),m[h]=void 0)}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(y,h,m,b){return(0,d.G)(y,h,m,b)}isAttached(y){const h=(0,d.I)(y);return!(!h||!h.isConnected)}}class Yr{constructor(){this.x=void 0,this.y=void 0,this.active=!1,this.options=void 0,this.$animations=void 0}tooltipPosition(y){const{x:h,y:m}=this.getProps(["x","y"],y);return{x:h,y:m}}hasValue(){return(0,d.x)(this.x)&&(0,d.x)(this.y)}getProps(y,h){const m=this.$animations;if(!h||!m)return this;const b={};return y.forEach(T=>{b[T]=m[T]&&m[T].active()?m[T]._to:this[T]}),b}}function cs(I,y,h,m,b){const T=(0,d.v)(m,0),x=Math.min((0,d.v)(b,I.length),I.length);let W,ne,Ce,B=0;for(h=Math.ceil(h),b&&(W=b-m,h=W/Math.floor(W/h)),Ce=T;Ce<0;)B++,Ce=Math.round(T+B*h);for(ne=Math.max(T,0);ne<x;ne++)ne===Ce&&(y.push(I[ne]),B++,Ce=Math.round(T+B*h))}Yr.defaults={},Yr.defaultRoutes=void 0;const as=(I,y,h)=>"top"===y||"left"===y?I[y]+h:I[y]-h,zi=(I,y)=>Math.min(y||I,I);function qs(I,y){const h=[],m=I.length/y,b=I.length;let T=0;for(;T<b;T+=m)h.push(I[Math.floor(T)]);return h}function io(I,y,h){const m=I.ticks.length,b=Math.min(y,m-1),T=I._startPixel,x=I._endPixel,B=1e-6;let ne,W=I.getPixelForTick(b);if(!(h&&(ne=1===m?Math.max(W-T,x-W):0===y?(I.getPixelForTick(1)-W)/2:(W-I.getPixelForTick(b-1))/2,W+=b<y?ne:-ne,W<T-B||W>x+B)))return W}function Zs(I){return I.drawTicks?I.tickLength:0}function ie(I,y){if(!I.display)return 0;const h=(0,d.a0)(I.font,y),m=(0,d.E)(I.padding);return((0,d.b)(I.text)?I.text.length:1)*h.lineHeight+m.height}function _e(I,y,h){let m=(0,d.a1)(I);return(h&&"right"!==y||!h&&"right"===y)&&(m=(I=>"left"===I?"right":"right"===I?"left":I)(m)),m}class ye extends Yr{constructor(y){super(),this.id=y.id,this.type=y.type,this.options=void 0,this.ctx=y.ctx,this.chart=y.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(y){this.options=y.setContext(this.getContext()),this.axis=y.axis,this._userMin=this.parse(y.min),this._userMax=this.parse(y.max),this._suggestedMin=this.parse(y.suggestedMin),this._suggestedMax=this.parse(y.suggestedMax)}parse(y,h){return y}getUserBounds(){let{_userMin:y,_userMax:h,_suggestedMin:m,_suggestedMax:b}=this;return y=(0,d.O)(y,Number.POSITIVE_INFINITY),h=(0,d.O)(h,Number.NEGATIVE_INFINITY),m=(0,d.O)(m,Number.POSITIVE_INFINITY),b=(0,d.O)(b,Number.NEGATIVE_INFINITY),{min:(0,d.O)(y,m),max:(0,d.O)(h,b),minDefined:(0,d.g)(y),maxDefined:(0,d.g)(h)}}getMinMax(y){let x,{min:h,max:m,minDefined:b,maxDefined:T}=this.getUserBounds();if(b&&T)return{min:h,max:m};const B=this.getMatchingVisibleMetas();for(let W=0,ne=B.length;W<ne;++W)x=B[W].controller.getMinMax(this,y),b||(h=Math.min(h,x.min)),T||(m=Math.max(m,x.max));return h=T&&h>m?m:h,m=b&&h>m?h:m,{min:(0,d.O)(h,(0,d.O)(m,h)),max:(0,d.O)(m,(0,d.O)(h,m))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const y=this.chart.data;return this.options.labels||(this.isHorizontal()?y.xLabels:y.yLabels)||y.labels||[]}getLabelItems(y=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(y))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){(0,d.Q)(this.options.beforeUpdate,[this])}update(y,h,m){const{beginAtZero:b,grace:T,ticks:x}=this.options,B=x.sampleSize;this.beforeUpdate(),this.maxWidth=y,this.maxHeight=h,this._margins=m=Object.assign({left:0,right:0,top:0,bottom:0},m),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+m.left+m.right:this.height+m.top+m.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=(0,d.R)(this,T,b),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const W=B<this.ticks.length;this._convertTicksToLabels(W?qs(this.ticks,B):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),x.display&&(x.autoSkip||"auto"===x.source)&&(this.ticks=function jr(I,y){const h=I.options.ticks,m=function ei(I){const y=I.options.offset,h=I._tickSize();return Math.floor(Math.min(I._length/h+(y?0:1),I._maxLength/h))}(I),b=Math.min(h.maxTicksLimit||m,m),T=h.major.enabled?function uo(I){const y=[];let h,m;for(h=0,m=I.length;h<m;h++)I[h].major&&y.push(h);return y}(y):[],x=T.length,B=T[0],W=T[x-1],ne=[];if(x>b)return function ro(I,y,h,m){let x,b=0,T=h[0];for(m=Math.ceil(m),x=0;x<I.length;x++)x===T&&(y.push(I[x]),b++,T=h[b*m])}(y,ne,T,x/b),ne;const Ce=function ns(I,y,h){const m=function rs(I){const y=I.length;let h,m;if(y<2)return!1;for(m=I[0],h=1;h<y;++h)if(I[h]-I[h-1]!==m)return!1;return m}(I),b=y.length/h;if(!m)return Math.max(b,1);const T=(0,d.N)(m);for(let x=0,B=T.length-1;x<B;x++){const W=T[x];if(W>b)return W}return Math.max(b,1)}(T,y,b);if(x>0){let Ue,pt;const Et=x>1?Math.round((W-B)/(x-1)):null;for(cs(y,ne,Ce,(0,d.k)(Et)?0:B-Et,B),Ue=0,pt=x-1;Ue<pt;Ue++)cs(y,ne,Ce,T[Ue],T[Ue+1]);return cs(y,ne,Ce,W,(0,d.k)(Et)?y.length:W+Et),ne}return cs(y,ne,Ce),ne}(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),W&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let h,m,y=this.options.reverse;this.isHorizontal()?(h=this.left,m=this.right):(h=this.top,m=this.bottom,y=!y),this._startPixel=h,this._endPixel=m,this._reversePixels=y,this._length=m-h,this._alignToPixels=this.options.alignToPixels}afterUpdate(){(0,d.Q)(this.options.afterUpdate,[this])}beforeSetDimensions(){(0,d.Q)(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){(0,d.Q)(this.options.afterSetDimensions,[this])}_callHooks(y){this.chart.notifyPlugins(y,this.getContext()),(0,d.Q)(this.options[y],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){(0,d.Q)(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(y){const h=this.options.ticks;let m,b,T;for(m=0,b=y.length;m<b;m++)T=y[m],T.label=(0,d.Q)(h.callback,[T.value,m,y],this)}afterTickToLabelConversion(){(0,d.Q)(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){(0,d.Q)(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const y=this.options,h=y.ticks,m=zi(this.ticks.length,y.ticks.maxTicksLimit),b=h.minRotation||0,T=h.maxRotation;let B,W,ne,x=b;if(!this._isVisible()||!h.display||b>=T||m<=1||!this.isHorizontal())return void(this.labelRotation=b);const Ce=this._getLabelSizes(),Ue=Ce.widest.width,pt=Ce.highest.height,Et=(0,d.S)(this.chart.width-Ue,0,this.maxWidth);B=y.offset?this.maxWidth/m:Et/(m-1),Ue+6>B&&(B=Et/(m-(y.offset?.5:1)),W=this.maxHeight-Zs(y.grid)-h.padding-ie(y.title,this.chart.options.font),ne=Math.sqrt(Ue*Ue+pt*pt),x=(0,d.U)(Math.min(Math.asin((0,d.S)((Ce.highest.height+6)/B,-1,1)),Math.asin((0,d.S)(W/ne,-1,1))-Math.asin((0,d.S)(pt/ne,-1,1)))),x=Math.max(b,Math.min(T,x))),this.labelRotation=x}afterCalculateLabelRotation(){(0,d.Q)(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){(0,d.Q)(this.options.beforeFit,[this])}fit(){const y={width:0,height:0},{chart:h,options:{ticks:m,title:b,grid:T}}=this,x=this._isVisible(),B=this.isHorizontal();if(x){const W=ie(b,h.options.font);if(B?(y.width=this.maxWidth,y.height=Zs(T)+W):(y.height=this.maxHeight,y.width=Zs(T)+W),m.display&&this.ticks.length){const{first:ne,last:Ce,widest:Ue,highest:pt}=this._getLabelSizes(),Et=2*m.padding,qt=(0,d.t)(this.labelRotation),dn=Math.cos(qt),Cn=Math.sin(qt);B?y.height=Math.min(this.maxHeight,y.height+(m.mirror?0:Cn*Ue.width+dn*pt.height)+Et):y.width=Math.min(this.maxWidth,y.width+(m.mirror?0:dn*Ue.width+Cn*pt.height)+Et),this._calculatePadding(ne,Ce,Cn,dn)}}this._handleMargins(),B?(this.width=this._length=h.width-this._margins.left-this._margins.right,this.height=y.height):(this.width=y.width,this.height=this._length=h.height-this._margins.top-this._margins.bottom)}_calculatePadding(y,h,m,b){const{ticks:{align:T,padding:x},position:B}=this.options,W=0!==this.labelRotation,ne="top"!==B&&"x"===this.axis;if(this.isHorizontal()){const Ce=this.getPixelForTick(0)-this.left,Ue=this.right-this.getPixelForTick(this.ticks.length-1);let pt=0,Et=0;W?ne?(pt=b*y.width,Et=m*h.height):(pt=m*y.height,Et=b*h.width):"start"===T?Et=h.width:"end"===T?pt=y.width:"inner"!==T&&(pt=y.width/2,Et=h.width/2),this.paddingLeft=Math.max((pt-Ce+x)*this.width/(this.width-Ce),0),this.paddingRight=Math.max((Et-Ue+x)*this.width/(this.width-Ue),0)}else{let Ce=h.height/2,Ue=y.height/2;"start"===T?(Ce=0,Ue=y.height):"end"===T&&(Ce=h.height,Ue=0),this.paddingTop=Ce+x,this.paddingBottom=Ue+x}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){(0,d.Q)(this.options.afterFit,[this])}isHorizontal(){const{axis:y,position:h}=this.options;return"top"===h||"bottom"===h||"x"===y}isFullSize(){return this.options.fullSize}_convertTicksToLabels(y){let h,m;for(this.beforeTickToLabelConversion(),this.generateTickLabels(y),h=0,m=y.length;h<m;h++)(0,d.k)(y[h].label)&&(y.splice(h,1),m--,h--);this.afterTickToLabelConversion()}_getLabelSizes(){let y=this._labelSizes;if(!y){const h=this.options.ticks.sampleSize;let m=this.ticks;h<m.length&&(m=qs(m,h)),this._labelSizes=y=this._computeLabelSizes(m,m.length,this.options.ticks.maxTicksLimit)}return y}_computeLabelSizes(y,h,m){const{ctx:b,_longestTextCache:T}=this,x=[],B=[],W=Math.floor(h/zi(h,m));let Ue,pt,Et,qt,dn,Cn,Yn,Fn,cr,vr,Jn,ne=0,Ce=0;for(Ue=0;Ue<h;Ue+=W){if(qt=y[Ue].label,dn=this._resolveTickFontOptions(Ue),b.font=Cn=dn.string,Yn=T[Cn]=T[Cn]||{data:{},gc:[]},Fn=dn.lineHeight,cr=vr=0,(0,d.k)(qt)||(0,d.b)(qt)){if((0,d.b)(qt))for(pt=0,Et=qt.length;pt<Et;++pt)Jn=qt[pt],!(0,d.k)(Jn)&&!(0,d.b)(Jn)&&(cr=(0,d.V)(b,Yn.data,Yn.gc,cr,Jn),vr+=Fn)}else cr=(0,d.V)(b,Yn.data,Yn.gc,cr,qt),vr=Fn;x.push(cr),B.push(vr),ne=Math.max(cr,ne),Ce=Math.max(vr,Ce)}!function Bs(I,y){(0,d.F)(I,h=>{const m=h.gc,b=m.length/2;let T;if(b>y){for(T=0;T<b;++T)delete h.data[m[T]];m.splice(0,b)}})}(T,h);const or=x.indexOf(ne),Mr=B.indexOf(Ce),Br=Ci=>({width:x[Ci]||0,height:B[Ci]||0});return{first:Br(0),last:Br(h-1),widest:Br(or),highest:Br(Mr),widths:x,heights:B}}getLabelForValue(y){return y}getPixelForValue(y,h){return NaN}getValueForPixel(y){}getPixelForTick(y){const h=this.ticks;return y<0||y>h.length-1?null:this.getPixelForValue(h[y].value)}getPixelForDecimal(y){this._reversePixels&&(y=1-y);const h=this._startPixel+y*this._length;return(0,d.W)(this._alignToPixels?(0,d.X)(this.chart,h,0):h)}getDecimalForPixel(y){const h=(y-this._startPixel)/this._length;return this._reversePixels?1-h:h}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:y,max:h}=this;return y<0&&h<0?h:y>0&&h>0?y:0}getContext(y){const h=this.ticks||[];if(y>=0&&y<h.length){const m=h[y];return m.$context||(m.$context=function ke(I,y,h){return(0,d.j)(I,{tick:h,index:y,type:"tick"})}(this.getContext(),y,m))}return this.$context||(this.$context=function pe(I,y){return(0,d.j)(I,{scale:y,type:"scale"})}(this.chart.getContext(),this))}_tickSize(){const y=this.options.ticks,h=(0,d.t)(this.labelRotation),m=Math.abs(Math.cos(h)),b=Math.abs(Math.sin(h)),T=this._getLabelSizes(),x=y.autoSkipPadding||0,B=T?T.widest.width+x:0,W=T?T.highest.height+x:0;return this.isHorizontal()?W*m>B*b?B/m:W/b:W*b<B*m?W/m:B/b}_isVisible(){const y=this.options.display;return"auto"!==y?!!y:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(y){const h=this.axis,m=this.chart,b=this.options,{grid:T,position:x,border:B}=b,W=T.offset,ne=this.isHorizontal(),Ue=this.ticks.length+(W?1:0),pt=Zs(T),Et=[],qt=B.setContext(this.getContext()),dn=qt.display?qt.width:0,Cn=dn/2,Yn=function(to){return(0,d.X)(m,to,dn)};let Fn,cr,vr,Jn,or,Mr,Br,Ci,Zi,Xr,xs,zs;if("top"===x)Fn=Yn(this.bottom),Mr=this.bottom-pt,Ci=Fn-Cn,Xr=Yn(y.top)+Cn,zs=y.bottom;else if("bottom"===x)Fn=Yn(this.top),Xr=y.top,zs=Yn(y.bottom)-Cn,Mr=Fn+Cn,Ci=this.top+pt;else if("left"===x)Fn=Yn(this.right),or=this.right-pt,Br=Fn-Cn,Zi=Yn(y.left)+Cn,xs=y.right;else if("right"===x)Fn=Yn(this.left),Zi=y.left,xs=Yn(y.right)-Cn,or=Fn+Cn,Br=this.left+pt;else if("x"===h){if("center"===x)Fn=Yn((y.top+y.bottom)/2+.5);else if((0,d.i)(x)){const to=Object.keys(x)[0];Fn=Yn(this.chart.scales[to].getPixelForValue(x[to]))}Xr=y.top,zs=y.bottom,Mr=Fn+Cn,Ci=Mr+pt}else if("y"===h){if("center"===x)Fn=Yn((y.left+y.right)/2);else if((0,d.i)(x)){const to=Object.keys(x)[0];Fn=Yn(this.chart.scales[to].getPixelForValue(x[to]))}or=Fn-Cn,Br=or-pt,Zi=y.left,xs=y.right}const gs=(0,d.v)(b.ticks.maxTicksLimit,Ue),Qs=Math.max(1,Math.ceil(Ue/gs));for(cr=0;cr<Ue;cr+=Qs){const to=this.getContext(cr),Gs=T.setContext(to),Ta=B.setContext(to),Aa=Gs.lineWidth,Mo=Gs.color,vl=Ta.dash||[],fa=Ta.dashOffset,co=Gs.tickWidth,ia=Gs.tickColor,Vl=Gs.tickBorderDash||[],Ra=Gs.tickBorderDashOffset;vr=io(this,cr,W),void 0!==vr&&(Jn=(0,d.X)(m,vr,Aa),ne?or=Br=Zi=xs=Jn:Mr=Ci=Xr=zs=Jn,Et.push({tx1:or,ty1:Mr,tx2:Br,ty2:Ci,x1:Zi,y1:Xr,x2:xs,y2:zs,width:Aa,color:Mo,borderDash:vl,borderDashOffset:fa,tickWidth:co,tickColor:ia,tickBorderDash:Vl,tickBorderDashOffset:Ra}))}return this._ticksLength=Ue,this._borderValue=Fn,Et}_computeLabelItems(y){const h=this.axis,m=this.options,{position:b,ticks:T}=m,x=this.isHorizontal(),B=this.ticks,{align:W,crossAlign:ne,padding:Ce,mirror:Ue}=T,pt=Zs(m.grid),Et=pt+Ce,qt=Ue?-Ce:Et,dn=-(0,d.t)(this.labelRotation),Cn=[];let Yn,Fn,cr,vr,Jn,or,Mr,Br,Ci,Zi,Xr,xs,zs="middle";if("top"===b)or=this.bottom-qt,Mr=this._getXAxisLabelAlignment();else if("bottom"===b)or=this.top+qt,Mr=this._getXAxisLabelAlignment();else if("left"===b){const Qs=this._getYAxisLabelAlignment(pt);Mr=Qs.textAlign,Jn=Qs.x}else if("right"===b){const Qs=this._getYAxisLabelAlignment(pt);Mr=Qs.textAlign,Jn=Qs.x}else if("x"===h){if("center"===b)or=(y.top+y.bottom)/2+Et;else if((0,d.i)(b)){const Qs=Object.keys(b)[0];or=this.chart.scales[Qs].getPixelForValue(b[Qs])+Et}Mr=this._getXAxisLabelAlignment()}else if("y"===h){if("center"===b)Jn=(y.left+y.right)/2-Et;else if((0,d.i)(b)){const Qs=Object.keys(b)[0];Jn=this.chart.scales[Qs].getPixelForValue(b[Qs])}Mr=this._getYAxisLabelAlignment(pt).textAlign}"y"===h&&("start"===W?zs="top":"end"===W&&(zs="bottom"));const gs=this._getLabelSizes();for(Yn=0,Fn=B.length;Yn<Fn;++Yn){cr=B[Yn],vr=cr.label;const Qs=T.setContext(this.getContext(Yn));Br=this.getPixelForTick(Yn)+T.labelOffset,Ci=this._resolveTickFontOptions(Yn),Zi=Ci.lineHeight,Xr=(0,d.b)(vr)?vr.length:1;const to=Xr/2,Gs=Qs.color,Ta=Qs.textStrokeColor,Aa=Qs.textStrokeWidth;let vl,Mo=Mr;if(x?(Jn=Br,"inner"===Mr&&(Mo=Yn===Fn-1?this.options.reverse?"left":"right":0===Yn?this.options.reverse?"right":"left":"center"),xs="top"===b?"near"===ne||0!==dn?-Xr*Zi+Zi/2:"center"===ne?-gs.highest.height/2-to*Zi+Zi:Zi/2-gs.highest.height:"near"===ne||0!==dn?Zi/2:"center"===ne?gs.highest.height/2-to*Zi:gs.highest.height-Xr*Zi,Ue&&(xs*=-1),0!==dn&&!Qs.showLabelBackdrop&&(Jn+=Zi/2*Math.sin(dn))):(or=Br,xs=(1-Xr)*Zi/2),Qs.showLabelBackdrop){const fa=(0,d.E)(Qs.backdropPadding),co=gs.heights[Yn],ia=gs.widths[Yn];let Vl=xs-fa.top,Ra=0-fa.left;switch(zs){case"middle":Vl-=co/2;break;case"bottom":Vl-=co}switch(Mr){case"center":Ra-=ia/2;break;case"right":Ra-=ia}vl={left:Ra,top:Vl,width:ia+fa.width,height:co+fa.height,color:Qs.backdropColor}}Cn.push({label:vr,font:Ci,textOffset:xs,options:{rotation:dn,color:Gs,strokeColor:Ta,strokeWidth:Aa,textAlign:Mo,textBaseline:zs,translation:[Jn,or],backdrop:vl}})}return Cn}_getXAxisLabelAlignment(){const{position:y,ticks:h}=this.options;if(-(0,d.t)(this.labelRotation))return"top"===y?"left":"right";let b="center";return"start"===h.align?b="left":"end"===h.align?b="right":"inner"===h.align&&(b="inner"),b}_getYAxisLabelAlignment(y){const{position:h,ticks:{crossAlign:m,mirror:b,padding:T}}=this.options,B=y+T,W=this._getLabelSizes().widest.width;let ne,Ce;return"left"===h?b?(Ce=this.right+T,"near"===m?ne="left":"center"===m?(ne="center",Ce+=W/2):(ne="right",Ce+=W)):(Ce=this.right-B,"near"===m?ne="right":"center"===m?(ne="center",Ce-=W/2):(ne="left",Ce=this.left)):"right"===h?b?(Ce=this.left+T,"near"===m?ne="right":"center"===m?(ne="center",Ce-=W/2):(ne="left",Ce-=W)):(Ce=this.left+B,"near"===m?ne="left":"center"===m?(ne="center",Ce+=W/2):(ne="right",Ce=this.right)):ne="right",{textAlign:ne,x:Ce}}_computeLabelArea(){if(this.options.ticks.mirror)return;const y=this.chart,h=this.options.position;return"left"===h||"right"===h?{top:0,left:this.left,bottom:y.height,right:this.right}:"top"===h||"bottom"===h?{top:this.top,left:0,bottom:this.bottom,right:y.width}:void 0}drawBackground(){const{ctx:y,options:{backgroundColor:h},left:m,top:b,width:T,height:x}=this;h&&(y.save(),y.fillStyle=h,y.fillRect(m,b,T,x),y.restore())}getLineWidthForValue(y){const h=this.options.grid;if(!this._isVisible()||!h.display)return 0;const b=this.ticks.findIndex(T=>T.value===y);return b>=0?h.setContext(this.getContext(b)).lineWidth:0}drawGrid(y){const h=this.options.grid,m=this.ctx,b=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(y));let T,x;const B=(W,ne,Ce)=>{!Ce.width||!Ce.color||(m.save(),m.lineWidth=Ce.width,m.strokeStyle=Ce.color,m.setLineDash(Ce.borderDash||[]),m.lineDashOffset=Ce.borderDashOffset,m.beginPath(),m.moveTo(W.x,W.y),m.lineTo(ne.x,ne.y),m.stroke(),m.restore())};if(h.display)for(T=0,x=b.length;T<x;++T){const W=b[T];h.drawOnChartArea&&B({x:W.x1,y:W.y1},{x:W.x2,y:W.y2},W),h.drawTicks&&B({x:W.tx1,y:W.ty1},{x:W.tx2,y:W.ty2},{color:W.tickColor,width:W.tickWidth,borderDash:W.tickBorderDash,borderDashOffset:W.tickBorderDashOffset})}}drawBorder(){const{chart:y,ctx:h,options:{border:m,grid:b}}=this,T=m.setContext(this.getContext()),x=m.display?T.width:0;if(!x)return;const B=b.setContext(this.getContext(0)).lineWidth,W=this._borderValue;let ne,Ce,Ue,pt;this.isHorizontal()?(ne=(0,d.X)(y,this.left,x)-x/2,Ce=(0,d.X)(y,this.right,B)+B/2,Ue=pt=W):(Ue=(0,d.X)(y,this.top,x)-x/2,pt=(0,d.X)(y,this.bottom,B)+B/2,ne=Ce=W),h.save(),h.lineWidth=T.width,h.strokeStyle=T.color,h.beginPath(),h.moveTo(ne,Ue),h.lineTo(Ce,pt),h.stroke(),h.restore()}drawLabels(y){if(!this.options.ticks.display)return;const m=this.ctx,b=this._computeLabelArea();b&&(0,d.Y)(m,b);const T=this.getLabelItems(y);for(const x of T)(0,d.Z)(m,x.label,0,x.textOffset,x.font,x.options);b&&(0,d.$)(m)}drawTitle(){const{ctx:y,options:{position:h,title:m,reverse:b}}=this;if(!m.display)return;const T=(0,d.a0)(m.font),x=(0,d.E)(m.padding),B=m.align;let W=T.lineHeight/2;"bottom"===h||"center"===h||(0,d.i)(h)?(W+=x.bottom,(0,d.b)(m.text)&&(W+=T.lineHeight*(m.text.length-1))):W+=x.top;const{titleX:ne,titleY:Ce,maxWidth:Ue,rotation:pt}=function re(I,y,h,m){const{top:b,left:T,bottom:x,right:B,chart:W}=I,{chartArea:ne,scales:Ce}=W;let pt,Et,qt,Ue=0;const dn=x-b,Cn=B-T;if(I.isHorizontal()){if(Et=(0,d.a2)(m,T,B),(0,d.i)(h)){const Yn=Object.keys(h)[0];qt=Ce[Yn].getPixelForValue(h[Yn])+dn-y}else qt="center"===h?(ne.bottom+ne.top)/2+dn-y:as(I,h,y);pt=B-T}else{if((0,d.i)(h)){const Yn=Object.keys(h)[0];Et=Ce[Yn].getPixelForValue(h[Yn])-Cn+y}else Et="center"===h?(ne.left+ne.right)/2-Cn+y:as(I,h,y);qt=(0,d.a2)(m,x,b),Ue="left"===h?-d.H:d.H}return{titleX:Et,titleY:qt,maxWidth:pt,rotation:Ue}}(this,W,h,B);(0,d.Z)(y,m.text,0,0,T,{color:m.color,maxWidth:Ue,rotation:pt,textAlign:_e(B,h,b),textBaseline:"middle",translation:[ne,Ce]})}draw(y){this._isVisible()&&(this.drawBackground(),this.drawGrid(y),this.drawBorder(),this.drawTitle(),this.drawLabels(y))}_layers(){const y=this.options,h=y.ticks&&y.ticks.z||0,m=(0,d.v)(y.grid&&y.grid.z,-1),b=(0,d.v)(y.border&&y.border.z,0);return this._isVisible()&&this.draw===ye.prototype.draw?[{z:m,draw:T=>{this.drawBackground(),this.drawGrid(T),this.drawTitle()}},{z:b,draw:()=>{this.drawBorder()}},{z:h,draw:T=>{this.drawLabels(T)}}]:[{z:h,draw:T=>{this.draw(T)}}]}getMatchingVisibleMetas(y){const h=this.chart.getSortedVisibleDatasetMetas(),m=this.axis+"AxisID",b=[];let T,x;for(T=0,x=h.length;T<x;++T){const B=h[T];B[m]===this.id&&(!y||B.type===y)&&b.push(B)}return b}_resolveTickFontOptions(y){const h=this.options.ticks.setContext(this.getContext(y));return(0,d.a0)(h.font)}_maxDigits(){const y=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/y}}class st{constructor(y,h,m){this.type=y,this.scope=h,this.override=m,this.items=Object.create(null)}isForType(y){return Object.prototype.isPrototypeOf.call(this.type.prototype,y.prototype)}register(y){const h=Object.getPrototypeOf(y);let m;(function tn(I){return"id"in I&&"defaults"in I})(h)&&(m=this.register(h));const b=this.items,T=y.id,x=this.scope+"."+T;if(!T)throw new Error("class does not have id: "+y);return T in b||(b[T]=y,function It(I,y,h){const m=(0,d.a4)(Object.create(null),[h?d.d.get(h):{},d.d.get(y),I.defaults]);d.d.set(y,m),I.defaultRoutes&&function Bt(I,y){Object.keys(y).forEach(h=>{const m=h.split("."),b=m.pop(),T=[I].concat(m).join("."),x=y[h].split("."),B=x.pop(),W=x.join(".");d.d.route(T,b,W,B)})}(y,I.defaultRoutes),I.descriptors&&d.d.describe(y,I.descriptors)}(y,x,m),this.override&&d.d.override(y.id,y.overrides)),x}get(y){return this.items[y]}unregister(y){const h=this.items,m=y.id,b=this.scope;m in h&&delete h[m],b&&m in d.d[b]&&(delete d.d[b][m],this.override&&delete d.a3[m])}}class Ln{constructor(){this.controllers=new st(kt,"datasets",!0),this.elements=new st(Yr,"elements"),this.plugins=new st(Object,"plugins"),this.scales=new st(ye,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...y){this._each("register",y)}remove(...y){this._each("unregister",y)}addControllers(...y){this._each("register",y,this.controllers)}addElements(...y){this._each("register",y,this.elements)}addPlugins(...y){this._each("register",y,this.plugins)}addScales(...y){this._each("register",y,this.scales)}getController(y){return this._get(y,this.controllers,"controller")}getElement(y){return this._get(y,this.elements,"element")}getPlugin(y){return this._get(y,this.plugins,"plugin")}getScale(y){return this._get(y,this.scales,"scale")}removeControllers(...y){this._each("unregister",y,this.controllers)}removeElements(...y){this._each("unregister",y,this.elements)}removePlugins(...y){this._each("unregister",y,this.plugins)}removeScales(...y){this._each("unregister",y,this.scales)}_each(y,h,m){[...h].forEach(b=>{const T=m||this._getRegistryForType(b);m||T.isForType(b)||T===this.plugins&&b.id?this._exec(y,T,b):(0,d.F)(b,x=>{const B=m||this._getRegistryForType(x);this._exec(y,B,x)})})}_exec(y,h,m){const b=(0,d.a5)(y);(0,d.Q)(m["before"+b],[],m),h[y](m),(0,d.Q)(m["after"+b],[],m)}_getRegistryForType(y){for(let h=0;h<this._typedRegistries.length;h++){const m=this._typedRegistries[h];if(m.isForType(y))return m}return this.plugins}_get(y,h,m){const b=h.get(y);if(void 0===b)throw new Error('"'+y+'" is not a registered '+m+".");return b}}var Hn=new Ln;class Lr{constructor(){this._init=[]}notify(y,h,m,b){"beforeInit"===h&&(this._init=this._createDescriptors(y,!0),this._notify(this._init,y,"install"));const T=b?this._descriptors(y).filter(b):this._descriptors(y),x=this._notify(T,y,h,m);return"afterDestroy"===h&&(this._notify(T,y,"stop"),this._notify(this._init,y,"uninstall")),x}_notify(y,h,m,b){b=b||{};for(const T of y){const x=T.plugin;if(!1===(0,d.Q)(x[m],[h,b,T.options],x)&&b.cancelable)return!1}return!0}invalidate(){(0,d.k)(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(y){if(this._cache)return this._cache;const h=this._cache=this._createDescriptors(y);return this._notifyStateChanges(y),h}_createDescriptors(y,h){const m=y&&y.config,b=(0,d.v)(m.options&&m.options.plugins,{}),T=function ai(I){const y={},h=[],m=Object.keys(Hn.plugins.items);for(let T=0;T<m.length;T++)h.push(Hn.getPlugin(m[T]));const b=I.plugins||[];for(let T=0;T<b.length;T++){const x=b[T];-1===h.indexOf(x)&&(h.push(x),y[x.id]=!0)}return{plugins:h,localIds:y}}(m);return!1!==b||h?function Qi(I,{plugins:y,localIds:h},m,b){const T=[],x=I.getContext();for(const B of y){const W=B.id,ne=ms(m[W],b);null!==ne&&T.push({plugin:B,options:$s(I.config,{plugin:B,local:h[W]},ne,x)})}return T}(y,T,b,h):[]}_notifyStateChanges(y){const h=this._oldCache||[],m=this._cache,b=(T,x)=>T.filter(B=>!x.some(W=>B.plugin.id===W.plugin.id));this._notify(b(h,m),y,"stop"),this._notify(b(m,h),y,"start")}}function ms(I,y){return y||!1!==I?!0===I?{}:I:null}function $s(I,{plugin:y,local:h},m,b){const T=I.pluginScopeKeys(y),x=I.getOptionScopes(m,T);return h&&y.defaults&&x.push(y.defaults),I.createResolver(x,b,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Li(I,y){return((y.datasets||{})[I]||{}).indexAxis||y.indexAxis||(d.d.datasets[I]||{}).indexAxis||"x"}function $i(I){if("x"===I||"y"===I||"r"===I)return I}function Rs(I){return"top"===I||"bottom"===I?"x":"left"===I||"right"===I?"y":void 0}function Io(I,...y){if($i(I))return I;for(const h of y){const m=h.axis||Rs(h.position)||I.length>1&&$i(I[0].toLowerCase());if(m)return m}throw new Error(`Cannot determine type of '${I}' axis. Please provide 'axis' or 'position' option.`)}function us(I,y,h){if(h[y+"AxisID"]===I)return{axis:y}}function Ds(I){const y=I.options||(I.options={});y.plugins=(0,d.v)(y.plugins,{}),y.scales=function Ki(I,y){const h=d.a3[I.type]||{scales:{}},m=y.scales||{},b=Li(I.type,y),T=Object.create(null);return Object.keys(m).forEach(x=>{const B=m[x];if(!(0,d.i)(B))return console.error(`Invalid scale configuration for scale: ${x}`);if(B._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${x}`);const W=Io(x,B,function go(I,y){if(y.data&&y.data.datasets){const h=y.data.datasets.filter(m=>m.xAxisID===I||m.yAxisID===I);if(h.length)return us(I,"x",h[0])||us(I,"y",h[0])}return{}}(x,I),d.d.scales[B.type]),ne=function qr(I,y){return I===y?"_index_":"_value_"}(W,b),Ce=h.scales||{};T[x]=(0,d.ab)(Object.create(null),[{axis:W},B,Ce[W],Ce[ne]])}),I.data.datasets.forEach(x=>{const B=x.type||I.type,W=x.indexAxis||Li(B,y),Ce=(d.a3[B]||{}).scales||{};Object.keys(Ce).forEach(Ue=>{const pt=function ir(I,y){let h=I;return"_index_"===I?h=y:"_value_"===I&&(h="x"===y?"y":"x"),h}(Ue,W),Et=x[pt+"AxisID"]||pt;T[Et]=T[Et]||Object.create(null),(0,d.ab)(T[Et],[{axis:pt},m[Et],Ce[Ue]])})}),Object.keys(T).forEach(x=>{const B=T[x];(0,d.ab)(B,[d.d.scales[B.type],d.d.scale])}),T}(I,y)}function ys(I){return(I=I||{}).datasets=I.datasets||[],I.labels=I.labels||[],I}const Js=new Map,ho=new Set;function Oi(I,y){let h=Js.get(I);return h||(h=y(),Js.set(I,h),ho.add(h)),h}const Vr=(I,y,h)=>{const m=(0,d.f)(y,h);void 0!==m&&I.add(m)};class Di{constructor(y){this._config=function Zr(I){return(I=I||{}).data=ys(I.data),Ds(I),I}(y),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(y){this._config.type=y}get data(){return this._config.data}set data(y){this._config.data=ys(y)}get options(){return this._config.options}set options(y){this._config.options=y}get plugins(){return this._config.plugins}update(){const y=this._config;this.clearCache(),Ds(y)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(y){return Oi(y,()=>[[`datasets.${y}`,""]])}datasetAnimationScopeKeys(y,h){return Oi(`${y}.transition.${h}`,()=>[[`datasets.${y}.transitions.${h}`,`transitions.${h}`],[`datasets.${y}`,""]])}datasetElementScopeKeys(y,h){return Oi(`${y}-${h}`,()=>[[`datasets.${y}.elements.${h}`,`datasets.${y}`,`elements.${h}`,""]])}pluginScopeKeys(y){const h=y.id;return Oi(`${this.type}-plugin-${h}`,()=>[[`plugins.${h}`,...y.additionalOptionScopes||[]]])}_cachedScopes(y,h){const m=this._scopeCache;let b=m.get(y);return(!b||h)&&(b=new Map,m.set(y,b)),b}getOptionScopes(y,h,m){const{options:b,type:T}=this,x=this._cachedScopes(y,m),B=x.get(h);if(B)return B;const W=new Set;h.forEach(Ce=>{y&&(W.add(y),Ce.forEach(Ue=>Vr(W,y,Ue))),Ce.forEach(Ue=>Vr(W,b,Ue)),Ce.forEach(Ue=>Vr(W,d.a3[T]||{},Ue)),Ce.forEach(Ue=>Vr(W,d.d,Ue)),Ce.forEach(Ue=>Vr(W,d.a6,Ue))});const ne=Array.from(W);return 0===ne.length&&ne.push(Object.create(null)),ho.has(h)&&x.set(h,ne),ne}chartOptionScopes(){const{options:y,type:h}=this;return[y,d.a3[h]||{},d.d.datasets[h]||{},{type:h},d.d,d.a6]}resolveNamedOptions(y,h,m,b=[""]){const T={$shared:!0},{resolver:x,subPrefixes:B}=pi(this._resolverCache,y,b);let W=x;if(function Vi(I,y){const{isScriptable:h,isIndexable:m}=(0,d.aa)(I);for(const b of y){const T=h(b),x=m(b),B=(x||T)&&I[b];if(T&&((0,d.a7)(B)||Vs(B))||x&&(0,d.b)(B))return!0}return!1}(x,h)){T.$shared=!1,m=(0,d.a7)(m)?m():m;const ne=this.createResolver(y,m,B);W=(0,d.a8)(x,m,ne)}for(const ne of h)T[ne]=W[ne];return T}createResolver(y,h,m=[""],b){const{resolver:T}=pi(this._resolverCache,y,m);return(0,d.i)(h)?(0,d.a8)(T,h,void 0,b):T}}function pi(I,y,h){let m=I.get(y);m||(m=new Map,I.set(y,m));const b=h.join();let T=m.get(b);return T||(T={resolver:(0,d.a9)(y,h),subPrefixes:h.filter(B=>!B.toLowerCase().includes("hover"))},m.set(b,T)),T}const Vs=I=>(0,d.i)(I)&&Object.getOwnPropertyNames(I).reduce((y,h)=>y||(0,d.a7)(I[h]),!1),Co=["top","bottom","left","right","chartArea"];function Xs(I,y){return"top"===I||"bottom"===I||-1===Co.indexOf(I)&&"x"===y}function Yo(I,y){return function(h,m){return h[I]===m[I]?h[y]-m[y]:h[I]-m[I]}}function Ai(I){const y=I.chart,h=y.options.animation;y.notifyPlugins("afterRender"),(0,d.Q)(h&&h.onComplete,[I],y)}function hr(I){const y=I.chart,h=y.options.animation;(0,d.Q)(h&&h.onProgress,[I],y)}function Os(I){return(0,d.M)()&&"string"==typeof I?I=document.getElementById(I):I&&I.length&&(I=I[0]),I&&I.canvas&&(I=I.canvas),I}const so={},Wo=I=>{const y=Os(I);return Object.values(so).filter(h=>h.canvas===y).pop()};function ss(I,y,h){const m=Object.keys(I);for(const b of m){const T=+b;if(T>=y){const x=I[b];delete I[b],(h>0||T>y)&&(I[T+h]=x)}}}function Ao(I,y,h){return I.options.clip?I[h]:y[h]}let Es=(()=>{class I{static register(...h){Hn.add(...h),ko()}static unregister(...h){Hn.remove(...h),ko()}constructor(h,m){const b=this.config=new Di(m),T=Os(h),x=Wo(T);if(x)throw new Error("Canvas is already in use. Chart with ID '"+x.id+"' must be destroyed before the canvas with ID '"+x.canvas.id+"' can be reused.");const B=b.createResolver(b.chartOptionScopes(),this.getContext());this.platform=new(b.platform||function Ri(I){return!(0,d.M)()||typeof OffscreenCanvas<"u"&&I instanceof OffscreenCanvas?se:Or}(T)),this.platform.updateConfig(b);const W=this.platform.acquireContext(T,B.aspectRatio),ne=W&&W.canvas,Ce=ne&&ne.height,Ue=ne&&ne.width;this.id=(0,d.ac)(),this.ctx=W,this.canvas=ne,this.width=Ue,this.height=Ce,this._options=B,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new Lr,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=(0,d.ad)(pt=>this.update(pt),B.resizeDelay||0),this._dataChanges=[],so[this.id]=this,W&&ne?(ve.listen(this,"complete",Ai),ve.listen(this,"progress",hr),this._initialize(),this.attached&&this.update()):console.error("Failed to create chart: can't acquire context from the given item")}get aspectRatio(){const{options:{aspectRatio:h,maintainAspectRatio:m},width:b,height:T,_aspectRatio:x}=this;return(0,d.k)(h)?m&&x?x:T?b/T:null:h}get data(){return this.config.data}set data(h){this.config.data=h}get options(){return this._options}set options(h){this.config.options=h}get registry(){return Hn}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():(0,d.ae)(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return(0,d.af)(this.canvas,this.ctx),this}stop(){return ve.stop(this),this}resize(h,m){ve.running(this)?this._resizeBeforeDraw={width:h,height:m}:this._resize(h,m)}_resize(h,m){const b=this.options,B=this.platform.getMaximumSize(this.canvas,h,m,b.maintainAspectRatio&&this.aspectRatio),W=b.devicePixelRatio||this.platform.getDevicePixelRatio(),ne=this.width?"resize":"attach";this.width=B.width,this.height=B.height,this._aspectRatio=this.aspectRatio,(0,d.ae)(this,W,!0)&&(this.notifyPlugins("resize",{size:B}),(0,d.Q)(b.onResize,[this,B],this),this.attached&&this._doResize(ne)&&this.render())}ensureScalesHaveIDs(){(0,d.F)(this.options.scales||{},(b,T)=>{b.id=T})}buildOrUpdateScales(){const h=this.options,m=h.scales,b=this.scales,T=Object.keys(b).reduce((B,W)=>(B[W]=!1,B),{});let x=[];m&&(x=x.concat(Object.keys(m).map(B=>{const W=m[B],ne=Io(B,W),Ce="r"===ne,Ue="x"===ne;return{options:W,dposition:Ce?"chartArea":Ue?"bottom":"left",dtype:Ce?"radialLinear":Ue?"category":"linear"}}))),(0,d.F)(x,B=>{const W=B.options,ne=W.id,Ce=Io(ne,W),Ue=(0,d.v)(W.type,B.dtype);(void 0===W.position||Xs(W.position,Ce)!==Xs(B.dposition))&&(W.position=B.dposition),T[ne]=!0;let pt=null;ne in b&&b[ne].type===Ue?pt=b[ne]:(pt=new(Hn.getScale(Ue))({id:ne,type:Ue,ctx:this.ctx,chart:this}),b[pt.id]=pt),pt.init(W,h)}),(0,d.F)(T,(B,W)=>{B||delete b[W]}),(0,d.F)(b,B=>{yt.configure(this,B,B.options),yt.addBox(this,B)})}_updateMetasets(){const h=this._metasets,m=this.data.datasets.length,b=h.length;if(h.sort((T,x)=>T.index-x.index),b>m){for(let T=m;T<b;++T)this._destroyDatasetMeta(T);h.splice(m,b-m)}this._sortedMetasets=h.slice(0).sort(Yo("order","index"))}_removeUnreferencedMetasets(){const{_metasets:h,data:{datasets:m}}=this;h.length>m.length&&delete this._stacks,h.forEach((b,T)=>{0===m.filter(x=>x===b._dataset).length&&this._destroyDatasetMeta(T)})}buildOrUpdateControllers(){const h=[],m=this.data.datasets;let b,T;for(this._removeUnreferencedMetasets(),b=0,T=m.length;b<T;b++){const x=m[b];let B=this.getDatasetMeta(b);const W=x.type||this.config.type;if(B.type&&B.type!==W&&(this._destroyDatasetMeta(b),B=this.getDatasetMeta(b)),B.type=W,B.indexAxis=x.indexAxis||Li(W,this.options),B.order=x.order||0,B.index=b,B.label=""+x.label,B.visible=this.isDatasetVisible(b),B.controller)B.controller.updateIndex(b),B.controller.linkScales();else{const ne=Hn.getController(W),{datasetElementType:Ce,dataElementType:Ue}=d.d.datasets[W];Object.assign(ne,{dataElementType:Hn.getElement(Ue),datasetElementType:Ce&&Hn.getElement(Ce)}),B.controller=new ne(this,b),h.push(B.controller)}}return this._updateMetasets(),h}_resetElements(){(0,d.F)(this.data.datasets,(h,m)=>{this.getDatasetMeta(m).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(h){const m=this.config;m.update();const b=this._options=m.createResolver(m.chartOptionScopes(),this.getContext()),T=this._animationsDisabled=!b.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),!1===this.notifyPlugins("beforeUpdate",{mode:h,cancelable:!0}))return;const x=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let B=0;for(let Ce=0,Ue=this.data.datasets.length;Ce<Ue;Ce++){const{controller:pt}=this.getDatasetMeta(Ce),Et=!T&&-1===x.indexOf(pt);pt.buildOrUpdateElements(Et),B=Math.max(+pt.getMaxOverflow(),B)}B=this._minPadding=b.layout.autoPadding?B:0,this._updateLayout(B),T||(0,d.F)(x,Ce=>{Ce.reset()}),this._updateDatasets(h),this.notifyPlugins("afterUpdate",{mode:h}),this._layers.sort(Yo("z","_idx"));const{_active:W,_lastEvent:ne}=this;ne?this._eventHandler(ne,!0):W.length&&this._updateHoverStyles(W,W,!0),this.render()}_updateScales(){(0,d.F)(this.scales,h=>{yt.removeBox(this,h)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const h=this.options,m=new Set(Object.keys(this._listeners)),b=new Set(h.events);(!(0,d.ag)(m,b)||!!this._responsiveListeners!==h.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:h}=this,m=this._getUniformDataChanges()||[];for(const{method:b,start:T,count:x}of m)ss(h,T,"_removeElements"===b?-x:x)}_getUniformDataChanges(){const h=this._dataChanges;if(!h||!h.length)return;this._dataChanges=[];const m=this.data.datasets.length,b=x=>new Set(h.filter(B=>B[0]===x).map((B,W)=>W+","+B.splice(1).join(","))),T=b(0);for(let x=1;x<m;x++)if(!(0,d.ag)(T,b(x)))return;return Array.from(T).map(x=>x.split(",")).map(x=>({method:x[1],start:+x[2],count:+x[3]}))}_updateLayout(h){if(!1===this.notifyPlugins("beforeLayout",{cancelable:!0}))return;yt.update(this,this.width,this.height,h);const m=this.chartArea,b=m.width<=0||m.height<=0;this._layers=[],(0,d.F)(this.boxes,T=>{b&&"chartArea"===T.position||(T.configure&&T.configure(),this._layers.push(...T._layers()))},this),this._layers.forEach((T,x)=>{T._idx=x}),this.notifyPlugins("afterLayout")}_updateDatasets(h){if(!1!==this.notifyPlugins("beforeDatasetsUpdate",{mode:h,cancelable:!0})){for(let m=0,b=this.data.datasets.length;m<b;++m)this.getDatasetMeta(m).controller.configure();for(let m=0,b=this.data.datasets.length;m<b;++m)this._updateDataset(m,(0,d.a7)(h)?h({datasetIndex:m}):h);this.notifyPlugins("afterDatasetsUpdate",{mode:h})}}_updateDataset(h,m){const b=this.getDatasetMeta(h),T={meta:b,index:h,mode:m,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetUpdate",T)&&(b.controller._update(m),T.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",T))}render(){!1!==this.notifyPlugins("beforeRender",{cancelable:!0})&&(ve.has(this)?this.attached&&!ve.running(this)&&ve.start(this):(this.draw(),Ai({chart:this})))}draw(){let h;if(this._resizeBeforeDraw){const{width:b,height:T}=this._resizeBeforeDraw;this._resize(b,T),this._resizeBeforeDraw=null}if(this.clear(),this.width<=0||this.height<=0||!1===this.notifyPlugins("beforeDraw",{cancelable:!0}))return;const m=this._layers;for(h=0;h<m.length&&m[h].z<=0;++h)m[h].draw(this.chartArea);for(this._drawDatasets();h<m.length;++h)m[h].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(h){const m=this._sortedMetasets,b=[];let T,x;for(T=0,x=m.length;T<x;++T){const B=m[T];(!h||B.visible)&&b.push(B)}return b}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(!1===this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0}))return;const h=this.getSortedVisibleDatasetMetas();for(let m=h.length-1;m>=0;--m)this._drawDataset(h[m]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(h){const m=this.ctx,b=h._clip,T=!b.disabled,x=function Oo(I,y){const{xScale:h,yScale:m}=I;return h&&m?{left:Ao(h,y,"left"),right:Ao(h,y,"right"),top:Ao(m,y,"top"),bottom:Ao(m,y,"bottom")}:y}(h,this.chartArea),B={meta:h,index:h.index,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetDraw",B)&&(T&&(0,d.Y)(m,{left:!1===b.left?0:x.left-b.left,right:!1===b.right?this.width:x.right+b.right,top:!1===b.top?0:x.top-b.top,bottom:!1===b.bottom?this.height:x.bottom+b.bottom}),h.controller.draw(),T&&(0,d.$)(m),B.cancelable=!1,this.notifyPlugins("afterDatasetDraw",B))}isPointInArea(h){return(0,d.C)(h,this.chartArea,this._minPadding)}getElementsAtEventForMode(h,m,b,T){const x=di.modes[m];return"function"==typeof x?x(this,h,b,T):[]}getDatasetMeta(h){const m=this.data.datasets[h],b=this._metasets;let T=b.filter(x=>x&&x._dataset===m).pop();return T||(T={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:m&&m.order||0,index:h,_dataset:m,_parsed:[],_sorted:!1},b.push(T)),T}getContext(){return this.$context||(this.$context=(0,d.j)(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(h){const m=this.data.datasets[h];if(!m)return!1;const b=this.getDatasetMeta(h);return"boolean"==typeof b.hidden?!b.hidden:!m.hidden}setDatasetVisibility(h,m){this.getDatasetMeta(h).hidden=!m}toggleDataVisibility(h){this._hiddenIndices[h]=!this._hiddenIndices[h]}getDataVisibility(h){return!this._hiddenIndices[h]}_updateVisibility(h,m,b){const T=b?"show":"hide",x=this.getDatasetMeta(h),B=x.controller._resolveAnimations(void 0,T);(0,d.h)(m)?(x.data[m].hidden=!b,this.update()):(this.setDatasetVisibility(h,b),B.update(x,{visible:b}),this.update(W=>W.datasetIndex===h?T:void 0))}hide(h,m){this._updateVisibility(h,m,!1)}show(h,m){this._updateVisibility(h,m,!0)}_destroyDatasetMeta(h){const m=this._metasets[h];m&&m.controller&&m.controller._destroy(),delete this._metasets[h]}_stop(){let h,m;for(this.stop(),ve.remove(this),h=0,m=this.data.datasets.length;h<m;++h)this._destroyDatasetMeta(h)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:h,ctx:m}=this;this._stop(),this.config.clearCache(),h&&(this.unbindEvents(),(0,d.af)(h,m),this.platform.releaseContext(m),this.canvas=null,this.ctx=null),delete so[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...h){return this.canvas.toDataURL(...h)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const h=this._listeners,m=this.platform,b=(x,B)=>{m.addEventListener(this,x,B),h[x]=B},T=(x,B,W)=>{x.offsetX=B,x.offsetY=W,this._eventHandler(x)};(0,d.F)(this.options.events,x=>b(x,T))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const h=this._responsiveListeners,m=this.platform,b=(ne,Ce)=>{m.addEventListener(this,ne,Ce),h[ne]=Ce},T=(ne,Ce)=>{h[ne]&&(m.removeEventListener(this,ne,Ce),delete h[ne])},x=(ne,Ce)=>{this.canvas&&this.resize(ne,Ce)};let B;const W=()=>{T("attach",W),this.attached=!0,this.resize(),b("resize",x),b("detach",B)};B=()=>{this.attached=!1,T("resize",x),this._stop(),this._resize(0,0),b("attach",W)},m.isAttached(this.canvas)?W():B()}unbindEvents(){(0,d.F)(this._listeners,(h,m)=>{this.platform.removeEventListener(this,m,h)}),this._listeners={},(0,d.F)(this._responsiveListeners,(h,m)=>{this.platform.removeEventListener(this,m,h)}),this._responsiveListeners=void 0}updateHoverStyle(h,m,b){const T=b?"set":"remove";let x,B,W,ne;for("dataset"===m&&(x=this.getDatasetMeta(h[0].datasetIndex),x.controller["_"+T+"DatasetHoverStyle"]()),W=0,ne=h.length;W<ne;++W){B=h[W];const Ce=B&&this.getDatasetMeta(B.datasetIndex).controller;Ce&&Ce[T+"HoverStyle"](B.element,B.datasetIndex,B.index)}}getActiveElements(){return this._active||[]}setActiveElements(h){const m=this._active||[],b=h.map(({datasetIndex:x,index:B})=>{const W=this.getDatasetMeta(x);if(!W)throw new Error("No dataset found at index "+x);return{datasetIndex:x,element:W.data[B],index:B}});!(0,d.ah)(b,m)&&(this._active=b,this._lastEvent=null,this._updateHoverStyles(b,m))}notifyPlugins(h,m,b){return this._plugins.notify(this,h,m,b)}isPluginEnabled(h){return 1===this._plugins._cache.filter(m=>m.plugin.id===h).length}_updateHoverStyles(h,m,b){const T=this.options.hover,x=(ne,Ce)=>ne.filter(Ue=>!Ce.some(pt=>Ue.datasetIndex===pt.datasetIndex&&Ue.index===pt.index)),B=x(m,h),W=b?h:x(h,m);B.length&&this.updateHoverStyle(B,T.mode,!1),W.length&&T.mode&&this.updateHoverStyle(W,T.mode,!0)}_eventHandler(h,m){const b={event:h,replay:m,cancelable:!0,inChartArea:this.isPointInArea(h)},T=B=>(B.options.events||this.options.events).includes(h.native.type);if(!1===this.notifyPlugins("beforeEvent",b,T))return;const x=this._handleEvent(h,m,b.inChartArea);return b.cancelable=!1,this.notifyPlugins("afterEvent",b,T),(x||b.changed)&&this.render(),this}_handleEvent(h,m,b){const{_active:T=[],options:x}=this,W=this._getActiveElements(h,T,b,m),ne=(0,d.ai)(h),Ce=function Do(I,y,h,m){return h&&"mouseout"!==I.type?m?y:I:null}(h,this._lastEvent,b,ne);b&&(this._lastEvent=null,(0,d.Q)(x.onHover,[h,W,this],this),ne&&(0,d.Q)(x.onClick,[h,W,this],this));const Ue=!(0,d.ah)(W,T);return(Ue||m)&&(this._active=W,this._updateHoverStyles(W,T,m)),this._lastEvent=Ce,Ue}_getActiveElements(h,m,b,T){if("mouseout"===h.type)return[];if(!b)return m;const x=this.options.hover;return this.getElementsAtEventForMode(h,x.mode,x,T)}}return I.defaults=d.d,I.instances=so,I.overrides=d.a3,I.registry=Hn,I.version="4.4.0",I.getChart=Wo,I})();function ko(){return(0,d.F)(Es.instances,I=>I._plugins.invalidate())}function Bo(I,y,h,m){return{x:h+I*Math.cos(y),y:m+I*Math.sin(y)}}function So(I,y,h,m,b,T){const{x,y:B,startAngle:W,pixelMargin:ne,innerRadius:Ce}=y,Ue=Math.max(y.outerRadius+m+h-ne,0),pt=Ce>0?Ce+m+h+ne:0;let Et=0;const qt=b-W;if(m){const Gs=((Ce>0?Ce-m:0)+(Ue>0?Ue-m:0))/2;Et=(qt-(0!==Gs?qt*Gs/(Gs+m):qt))/2}const Cn=(qt-Math.max(.001,qt*Ue-h/d.P)/Ue)/2,Yn=W+Cn+Et,Fn=b-Cn-Et,{outerStart:cr,outerEnd:vr,innerStart:Jn,innerEnd:or}=function qo(I,y,h,m){const b=function Yi(I){return(0,d.ak)(I,["outerStart","outerEnd","innerStart","innerEnd"])}(I.options.borderRadius),T=(h-y)/2,x=Math.min(T,m*y/2),B=W=>{const ne=(h-Math.min(T,W))*m/2;return(0,d.S)(W,0,Math.min(T,ne))};return{outerStart:B(b.outerStart),outerEnd:B(b.outerEnd),innerStart:(0,d.S)(b.innerStart,0,x),innerEnd:(0,d.S)(b.innerEnd,0,x)}}(y,pt,Ue,Fn-Yn),Mr=Ue-cr,Br=Ue-vr,Ci=Yn+cr/Mr,Zi=Fn-vr/Br,Xr=pt+Jn,xs=pt+or,zs=Yn+Jn/Xr,gs=Fn-or/xs;if(I.beginPath(),T){const Qs=(Ci+Zi)/2;if(I.arc(x,B,Ue,Ci,Qs),I.arc(x,B,Ue,Qs,Zi),vr>0){const Aa=Bo(Br,Zi,x,B);I.arc(Aa.x,Aa.y,vr,Zi,Fn+d.H)}const to=Bo(xs,Fn,x,B);if(I.lineTo(to.x,to.y),or>0){const Aa=Bo(xs,gs,x,B);I.arc(Aa.x,Aa.y,or,Fn+d.H,gs+Math.PI)}const Gs=(Fn-or/pt+(Yn+Jn/pt))/2;if(I.arc(x,B,pt,Fn-or/pt,Gs,!0),I.arc(x,B,pt,Gs,Yn+Jn/pt,!0),Jn>0){const Aa=Bo(Xr,zs,x,B);I.arc(Aa.x,Aa.y,Jn,zs+Math.PI,Yn-d.H)}const Ta=Bo(Mr,Yn,x,B);if(I.lineTo(Ta.x,Ta.y),cr>0){const Aa=Bo(Mr,Ci,x,B);I.arc(Aa.x,Aa.y,cr,Yn-d.H,Ci)}}else{I.moveTo(x,B);const Qs=Math.cos(Ci)*Ue+x,to=Math.sin(Ci)*Ue+B;I.lineTo(Qs,to);const Gs=Math.cos(Zi)*Ue+x,Ta=Math.sin(Zi)*Ue+B;I.lineTo(Gs,Ta)}I.closePath()}class Zo extends Yr{constructor(y){super(),this.circumference=void 0,this.endAngle=void 0,this.fullCircles=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=void 0,this.startAngle=void 0,this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,y&&Object.assign(this,y)}inRange(y,h,m){const b=this.getProps(["x","y"],m),{angle:T,distance:x}=(0,d.D)(b,{x:y,y:h}),{startAngle:B,endAngle:W,innerRadius:ne,outerRadius:Ce,circumference:Ue}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],m),pt=(this.options.spacing+this.options.borderWidth)/2,qt=(0,d.v)(Ue,W-B)>=d.T||(0,d.p)(T,B,W),dn=(0,d.aj)(x,ne+pt,Ce+pt);return qt&&dn}getCenterPoint(y){const{x:h,y:m,startAngle:b,endAngle:T,innerRadius:x,outerRadius:B}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],y),{offset:W,spacing:ne}=this.options,Ce=(b+T)/2,Ue=(x+B+ne+W)/2;return{x:h+Math.cos(Ce)*Ue,y:m+Math.sin(Ce)*Ue}}tooltipPosition(y){return this.getCenterPoint(y)}draw(y){const{options:h,circumference:m}=this,b=(h.offset||0)/4,T=(h.spacing||0)/2,x=h.circular;if(this.pixelMargin="inner"===h.borderAlign?.33:0,this.fullCircles=m>d.T?Math.floor(m/d.T):0,0===m||this.innerRadius<0||this.outerRadius<0)return;y.save();const B=(this.startAngle+this.endAngle)/2;y.translate(Math.cos(B)*b,Math.sin(B)*b);const ne=b*(1-Math.sin(Math.min(d.P,m||0)));y.fillStyle=h.backgroundColor,y.strokeStyle=h.borderColor,function xo(I,y,h,m,b){const{fullCircles:T,startAngle:x,circumference:B}=y;let W=y.endAngle;if(T){So(I,y,h,m,W,b);for(let ne=0;ne<T;++ne)I.fill();isNaN(B)||(W=x+(B%d.T||d.T))}So(I,y,h,m,W,b),I.fill()}(y,this,ne,T,x),function mo(I,y,h,m,b){const{fullCircles:T,startAngle:x,circumference:B,options:W}=y,{borderWidth:ne,borderJoinStyle:Ce,borderDash:Ue,borderDashOffset:pt}=W,Et="inner"===W.borderAlign;if(!ne)return;I.setLineDash(Ue||[]),I.lineDashOffset=pt,Et?(I.lineWidth=2*ne,I.lineJoin=Ce||"round"):(I.lineWidth=ne,I.lineJoin=Ce||"bevel");let qt=y.endAngle;if(T){So(I,y,h,m,qt,b);for(let dn=0;dn<T;++dn)I.stroke();isNaN(B)||(qt=x+(B%d.T||d.T))}Et&&function Ws(I,y,h){const{startAngle:m,pixelMargin:b,x:T,y:x,outerRadius:B,innerRadius:W}=y;let ne=b/B;I.beginPath(),I.arc(T,x,B,m-ne,h+ne),W>b?(ne=b/W,I.arc(T,x,W,h+ne,m-ne,!0)):I.arc(T,x,b,h+d.H,m-d.H),I.closePath(),I.clip()}(I,y,qt),T||(So(I,y,h,m,qt,b),I.stroke())}(y,this,ne,T,x),y.restore()}}function Us(I,y,h=y){I.lineCap=(0,d.v)(h.borderCapStyle,y.borderCapStyle),I.setLineDash((0,d.v)(h.borderDash,y.borderDash)),I.lineDashOffset=(0,d.v)(h.borderDashOffset,y.borderDashOffset),I.lineJoin=(0,d.v)(h.borderJoinStyle,y.borderJoinStyle),I.lineWidth=(0,d.v)(h.borderWidth,y.borderWidth),I.strokeStyle=(0,d.v)(h.borderColor,y.borderColor)}function gi(I,y,h){I.lineTo(h.x,h.y)}function ds(I,y,h={}){const m=I.length,{start:b=0,end:T=m-1}=h,{start:x,end:B}=y,W=Math.max(b,x),ne=Math.min(T,B);return{count:m,start:W,loop:y.loop,ilen:ne<W&&!(b<x&&T<x||b>B&&T>B)?m+ne-W:ne-W}}function $o(I,y,h,m){const{points:b,options:T}=y,{count:x,start:B,loop:W,ilen:ne}=ds(b,h,m),Ce=function No(I){return I.stepped?d.ar:I.tension||"monotone"===I.cubicInterpolationMode?d.as:gi}(T);let Et,qt,dn,{move:Ue=!0,reverse:pt}=m||{};for(Et=0;Et<=ne;++Et)qt=b[(B+(pt?ne-Et:Et))%x],!qt.skip&&(Ue?(I.moveTo(qt.x,qt.y),Ue=!1):Ce(I,dn,qt,pt,T.stepped),dn=qt);return W&&(qt=b[(B+(pt?ne:0))%x],Ce(I,dn,qt,pt,T.stepped)),!!W}function ks(I,y,h,m){const b=y.points,{count:T,start:x,ilen:B}=ds(b,h,m),{move:W=!0,reverse:ne}=m||{};let pt,Et,qt,dn,Cn,Yn,Ce=0,Ue=0;const Fn=vr=>(x+(ne?B-vr:vr))%T,cr=()=>{dn!==Cn&&(I.lineTo(Ce,Cn),I.lineTo(Ce,dn),I.lineTo(Ce,Yn))};for(W&&(Et=b[Fn(0)],I.moveTo(Et.x,Et.y)),pt=0;pt<=B;++pt){if(Et=b[Fn(pt)],Et.skip)continue;const vr=Et.x,Jn=Et.y,or=0|vr;or===qt?(Jn<dn?dn=Jn:Jn>Cn&&(Cn=Jn),Ce=(Ue*Ce+vr)/++Ue):(cr(),I.lineTo(vr,Jn),qt=or,Ue=0,dn=Cn=Jn),Yn=Jn}cr()}function Vo(I){const y=I.options;return I._decimated||I._loop||y.tension||"monotone"===y.cubicInterpolationMode||y.stepped||y.borderDash&&y.borderDash.length?$o:ks}Zo.id="arc",Zo.defaults={borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0},Zo.defaultRoutes={backgroundColor:"backgroundColor"},Zo.descriptors={_scriptable:!0,_indexable:I=>"borderDash"!==I};const N="function"==typeof Path2D;let Ze=(()=>{class I extends Yr{constructor(h){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,h&&Object.assign(this,h)}updateControlPoints(h,m){const b=this.options;!b.tension&&"monotone"!==b.cubicInterpolationMode||b.stepped||this._pointsUpdated||((0,d.al)(this._points,b,h,b.spanGaps?this._loop:this._fullLoop,m),this._pointsUpdated=!0)}set points(h){this._points=h,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=(0,d.am)(this,this.options.segment))}first(){const h=this.segments;return h.length&&this.points[h[0].start]}last(){const h=this.segments,b=h.length;return b&&this.points[h[b-1].end]}interpolate(h,m){const b=this.options,T=h[m],x=this.points,B=(0,d.an)(this,{property:m,start:T,end:T});if(!B.length)return;const W=[],ne=function oo(I){return I.stepped?d.ao:I.tension||"monotone"===I.cubicInterpolationMode?d.ap:d.aq}(b);let Ce,Ue;for(Ce=0,Ue=B.length;Ce<Ue;++Ce){const{start:pt,end:Et}=B[Ce],qt=x[pt],dn=x[Et];if(qt===dn){W.push(qt);continue}const Yn=ne(qt,dn,Math.abs((T-qt[m])/(dn[m]-qt[m])),b.stepped);Yn[m]=h[m],W.push(Yn)}return 1===W.length?W[0]:W}pathSegment(h,m,b){return Vo(this)(h,this,m,b)}path(h,m,b){const T=this.segments,x=Vo(this);let B=this._loop;m=m||0,b=b||this.points.length-m;for(const W of T)B&=x(h,this,W,{start:m,end:m+b-1});return!!B}draw(h,m,b,T){(this.points||[]).length&&(this.options||{}).borderWidth&&(h.save(),function de(I,y,h,m){N&&!y.options.segment?function k(I,y,h,m){let b=y._path;b||(b=y._path=new Path2D,y.path(b,h,m)&&b.closePath()),Us(I,y.options),I.stroke(b)}(I,y,h,m):function ue(I,y,h,m){const{segments:b,options:T}=y,x=Vo(y);for(const B of b)Us(I,T,B.style),I.beginPath(),x(I,y,B,{start:h,end:h+m-1})&&I.closePath(),I.stroke()}(I,y,h,m)}(h,this,b,T),h.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}return I.id="line",I.defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0},I.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"},I.descriptors={_scriptable:!0,_indexable:y=>"borderDash"!==y&&"fill"!==y},I})();function Sn(I,y,h,m){const b=I.options,{[h]:T}=I.getProps([h],m);return Math.abs(y-T)<b.radius+b.hitRadius}let xr=(()=>{class I extends Yr{constructor(h){super(),this.parsed=void 0,this.skip=void 0,this.stop=void 0,this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,h&&Object.assign(this,h)}inRange(h,m,b){const T=this.options,{x,y:B}=this.getProps(["x","y"],b);return Math.pow(h-x,2)+Math.pow(m-B,2)<Math.pow(T.hitRadius+T.radius,2)}inXRange(h,m){return Sn(this,h,"x",m)}inYRange(h,m){return Sn(this,h,"y",m)}getCenterPoint(h){const{x:m,y:b}=this.getProps(["x","y"],h);return{x:m,y:b}}size(h){let m=(h=h||this.options||{}).radius||0;return m=Math.max(m,m&&h.hoverRadius||0),2*(m+(m&&h.borderWidth||0))}draw(h,m){const b=this.options;this.skip||b.radius<.1||!(0,d.C)(this,m,this.size(b)/2)||(h.strokeStyle=b.borderColor,h.lineWidth=b.borderWidth,h.fillStyle=b.backgroundColor,(0,d.at)(h,b,this.x,this.y))}getRange(){const h=this.options||{};return h.radius+h.hitRadius}}return I.id="point",I.defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0},I.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"},I})();function Jr(I,y){const{x:h,y:m,base:b,width:T,height:x}=I.getProps(["x","y","base","width","height"],y);let B,W,ne,Ce,Ue;return I.horizontal?(Ue=x/2,B=Math.min(h,b),W=Math.max(h,b),ne=m-Ue,Ce=m+Ue):(Ue=T/2,B=h-Ue,W=h+Ue,ne=Math.min(m,b),Ce=Math.max(m,b)),{left:B,top:ne,right:W,bottom:Ce}}function xi(I,y,h,m){return I?0:(0,d.S)(y,h,m)}function eo(I,y,h,m){const b=null===y,T=null===h,B=I&&!(b&&T)&&Jr(I,m);return B&&(b||(0,d.aj)(y,B.left,B.right))&&(T||(0,d.aj)(h,B.top,B.bottom))}function be(I,y){I.rect(y.x,y.y,y.w,y.h)}function ae(I,y,h={}){const m=I.x!==h.x?-y:0,b=I.y!==h.y?-y:0;return{x:I.x+m,y:I.y+b,w:I.w+((I.x+I.w!==h.x+h.w?y:0)-m),h:I.h+((I.y+I.h!==h.y+h.h?y:0)-b),radius:I.radius}}class $ extends Yr{constructor(y){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,y&&Object.assign(this,y)}draw(y){const{inflateAmount:h,options:{borderColor:m,backgroundColor:b}}=this,{inner:T,outer:x}=function ws(I){const y=Jr(I),h=y.right-y.left,m=y.bottom-y.top,b=function Si(I,y,h){const b=I.borderSkipped,T=(0,d.av)(I.options.borderWidth);return{t:xi(b.top,T.top,0,h),r:xi(b.right,T.right,0,y),b:xi(b.bottom,T.bottom,0,h),l:xi(b.left,T.left,0,y)}}(I,h/2,m/2),T=function js(I,y,h){const{enableBorderRadius:m}=I.getProps(["enableBorderRadius"]),b=I.options.borderRadius,T=(0,d.aw)(b),x=Math.min(y,h),B=I.borderSkipped,W=m||(0,d.i)(b);return{topLeft:xi(!W||B.top||B.left,T.topLeft,0,x),topRight:xi(!W||B.top||B.right,T.topRight,0,x),bottomLeft:xi(!W||B.bottom||B.left,T.bottomLeft,0,x),bottomRight:xi(!W||B.bottom||B.right,T.bottomRight,0,x)}}(I,h/2,m/2);return{outer:{x:y.left,y:y.top,w:h,h:m,radius:T},inner:{x:y.left+b.l,y:y.top+b.t,w:h-b.l-b.r,h:m-b.t-b.b,radius:{topLeft:Math.max(0,T.topLeft-Math.max(b.t,b.l)),topRight:Math.max(0,T.topRight-Math.max(b.t,b.r)),bottomLeft:Math.max(0,T.bottomLeft-Math.max(b.b,b.l)),bottomRight:Math.max(0,T.bottomRight-Math.max(b.b,b.r))}}}}(this),B=function Fo(I){return I.topLeft||I.topRight||I.bottomLeft||I.bottomRight}(x.radius)?d.au:be;y.save(),(x.w!==T.w||x.h!==T.h)&&(y.beginPath(),B(y,ae(x,h,T)),y.clip(),B(y,ae(T,-h,x)),y.fillStyle=m,y.fill("evenodd")),y.beginPath(),B(y,ae(T,h)),y.fillStyle=b,y.fill(),y.restore()}inRange(y,h,m){return eo(this,y,h,m)}inXRange(y,h){return eo(this,y,null,h)}inYRange(y,h){return eo(this,null,y,h)}getCenterPoint(y){const{x:h,y:m,base:b,horizontal:T}=this.getProps(["x","y","base","horizontal"],y);return{x:T?(h+b)/2:h,y:T?m:(m+b)/2}}getRange(y){return"x"===y?this.width/2:this.height/2}}$.id="bar",$.defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0},$.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};var L=Object.freeze({__proto__:null,ArcElement:Zo,BarElement:$,LineElement:Ze,PointElement:xr});const D=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],F=D.map(I=>I.replace("rgb(","rgba(").replace(")",", 0.5)"));function fe(I){return D[I%D.length]}function dt(I){return F[I%F.length]}function ii(I){let y;for(y in I)if(I[y].borderColor||I[y].backgroundColor)return!0;return!1}var hi={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(I,y,h){if(!h.enabled)return;const{data:{datasets:m},options:b}=I.config,{elements:T}=b;if(!h.forceOverride&&(ii(m)||function Tr(I){return I&&(I.borderColor||I.backgroundColor)}(b)||T&&ii(T)))return;const x=function zr(I){let y=0;return(h,m)=>{const b=I.getDatasetMeta(m).controller;b instanceof ur?y=function Ht(I,y){return I.backgroundColor=I.data.map(()=>fe(y++)),y}(h,y):b instanceof hn?y=function Pn(I,y){return I.backgroundColor=I.data.map(()=>dt(y++)),y}(h,y):b&&(y=function Ot(I,y){return I.borderColor=fe(y),I.backgroundColor=dt(y),++y}(h,y))}}(I);m.forEach(x)}};function ao(I){if(I._decimated){const y=I._data;delete I._decimated,delete I._data,Object.defineProperty(I,"data",{configurable:!0,enumerable:!0,writable:!0,value:y})}}function hs(I){I.data.datasets.forEach(y=>{ao(y)})}var Ti={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(I,y,h)=>{if(!h.enabled)return void hs(I);const m=I.width;I.data.datasets.forEach((b,T)=>{const{_data:x,indexAxis:B}=b,W=I.getDatasetMeta(T),ne=x||b.data;if("y"===(0,d.a)([B,I.options.indexAxis])||!W.controller.supportsDecimation)return;const Ce=I.scales[W.xAxisID];if("linear"!==Ce.type&&"time"!==Ce.type||I.options.parsing)return;let qt,{start:Ue,count:pt}=function Ss(I,y){const h=y.length;let b,m=0;const{iScale:T}=I,{min:x,max:B,minDefined:W,maxDefined:ne}=T.getUserBounds();return W&&(m=(0,d.S)((0,d.B)(y,T.axis,x).lo,0,h-1)),b=ne?(0,d.S)((0,d.B)(y,T.axis,B).hi+1,m,h)-m:h-m,{start:m,count:b}}(W,ne);if(pt<=(h.threshold||4*m))ao(b);else{switch((0,d.k)(x)&&(b._data=ne,delete b.data,Object.defineProperty(b,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(dn){this._data=dn}})),h.algorithm){case"lttb":qt=function _i(I,y,h,m,b){const T=b.samples||m;if(T>=h)return I.slice(y,y+h);const x=[],B=(h-2)/(T-2);let W=0;const ne=y+h-1;let Ue,pt,Et,qt,dn,Ce=y;for(x[W++]=I[Ce],Ue=0;Ue<T-2;Ue++){let Fn,Cn=0,Yn=0;const cr=Math.floor((Ue+1)*B)+1+y,vr=Math.min(Math.floor((Ue+2)*B)+1,h)+y,Jn=vr-cr;for(Fn=cr;Fn<vr;Fn++)Cn+=I[Fn].x,Yn+=I[Fn].y;Cn/=Jn,Yn/=Jn;const or=Math.floor(Ue*B)+1+y,Mr=Math.min(Math.floor((Ue+1)*B)+1,h)+y,{x:Br,y:Ci}=I[Ce];for(Et=qt=-1,Fn=or;Fn<Mr;Fn++)qt=.5*Math.abs((Br-Cn)*(I[Fn].y-Ci)-(Br-I[Fn].x)*(Yn-Ci)),qt>Et&&(Et=qt,pt=I[Fn],dn=Fn);x[W++]=pt,Ce=dn}return x[W++]=I[ne],x}(ne,Ue,pt,m,h);break;case"min-max":qt=function qi(I,y,h,m){let x,B,W,ne,Ce,Ue,pt,Et,qt,dn,b=0,T=0;const Cn=[],Fn=I[y].x,vr=I[y+h-1].x-Fn;for(x=y;x<y+h;++x){B=I[x],W=(B.x-Fn)/vr*m,ne=B.y;const Jn=0|W;if(Jn===Ce)ne<qt?(qt=ne,Ue=x):ne>dn&&(dn=ne,pt=x),b=(T*b+B.x)/++T;else{const or=x-1;if(!(0,d.k)(Ue)&&!(0,d.k)(pt)){const Mr=Math.min(Ue,pt),Br=Math.max(Ue,pt);Mr!==Et&&Mr!==or&&Cn.push({...I[Mr],x:b}),Br!==Et&&Br!==or&&Cn.push({...I[Br],x:b})}x>0&&or!==Et&&Cn.push(I[or]),Cn.push(B),Ce=Jn,T=0,qt=dn=ne,Ue=pt=Et=x}}return Cn}(ne,Ue,pt,m);break;default:throw new Error(`Unsupported decimation algorithm '${h.algorithm}'`)}b._decimated=qt}})},destroy(I){hs(I)}};function fo(I,y,h,m){if(m)return;let b=y[I],T=h[I];return"angle"===I&&(b=(0,d.ay)(b),T=(0,d.ay)(T)),{property:I,start:b,end:T}}function Lo(I,y,h){for(;y>I;y--){const m=h[y];if(!isNaN(m.x)&&!isNaN(m.y))break}return y}function ya(I,y,h,m){return I&&y?m(I[h],y[h]):I?I[h]:y?y[h]:0}function oa(I,y){let h=[],m=!1;return(0,d.b)(I)?(m=!0,h=I):h=function Xo(I,y){const{x:h=null,y:m=null}=I||{},b=y.points,T=[];return y.segments.forEach(({start:x,end:B})=>{B=Lo(x,B,b);const W=b[x],ne=b[B];null!==m?(T.push({x:W.x,y:m}),T.push({x:ne.x,y:m})):null!==h&&(T.push({x:h,y:W.y}),T.push({x:h,y:ne.y}))}),T}(I,y),h.length?new Ze({points:h,options:{tension:0},_loop:m,_fullLoop:m}):null}function Na(I){return I&&!1!==I.fill}function ja(I,y,h){let b=I[y].fill;const T=[y];let x;if(!h)return b;for(;!1!==b&&-1===T.indexOf(b);){if(!(0,d.g)(b))return b;if(x=I[b],!x)return!1;if(x.visible)return b;T.push(b),b=x.fill}return!1}function Qo(I,y,h){const m=function Fa(I){const y=I.options,h=y.fill;let m=(0,d.v)(h&&h.target,h);return void 0===m&&(m=!!y.backgroundColor),!1!==m&&null!==m&&(!0===m?"origin":m)}(I);if((0,d.i)(m))return!isNaN(m.value)&&m;let b=parseFloat(m);return(0,d.g)(b)&&Math.floor(b)===b?function za(I,y,h,m){return("-"===I||"+"===I)&&(h=y+h),!(h===y||h<0||h>=m)&&h}(m[0],y,b,h):["origin","start","end","stack","shape"].indexOf(m)>=0&&m}function M(I,y,h){const m=[];for(let b=0;b<h.length;b++){const T=h[b],{first:x,last:B,point:W}=X(T,y,"x");if(!(!W||x&&B))if(x)m.unshift(W);else if(I.push(W),!B)break}I.push(...m)}function X(I,y,h){const m=I.interpolate(y,h);if(!m)return{};const b=m[h],T=I.segments,x=I.points;let B=!1,W=!1;for(let ne=0;ne<T.length;ne++){const Ce=T[ne],Ue=x[Ce.start][h],pt=x[Ce.end][h];if((0,d.aj)(b,Ue,pt)){B=b===Ue,W=b===pt;break}}return{first:B,last:W,point:m}}class le{constructor(y){this.x=y.x,this.y=y.y,this.radius=y.radius}pathSegment(y,h,m){const{x:b,y:T,radius:x}=this;return y.arc(b,T,x,(h=h||{start:0,end:d.T}).end,h.start,!0),!m.bounds}interpolate(y){const{x:h,y:m,radius:b}=this,T=y.angle;return{x:h+Math.cos(T)*b,y:m+Math.sin(T)*b,angle:T}}}function on(I,y,h){const m=function De(I){const{chart:y,fill:h,line:m}=I;if((0,d.g)(h))return function je(I,y){const h=I.getDatasetMeta(y);return h&&I.isDatasetVisible(y)?h.dataset:null}(y,h);if("stack"===h)return function zo(I){const{scale:y,index:h,line:m}=I,b=[],T=m.segments,x=m.points,B=function sl(I,y){const h=[],m=I.getMatchingVisibleMetas("line");for(let b=0;b<m.length;b++){const T=m[b];if(T.index===y)break;T.hidden||h.unshift(T.dataset)}return h}(y,h);B.push(oa({x:null,y:y.bottom},m));for(let W=0;W<T.length;W++){const ne=T[W];for(let Ce=ne.start;Ce<=ne.end;Ce++)M(b,x[Ce],B)}return new Ze({points:b,options:{}})}(I);if("shape"===h)return!0;const b=function lt(I){return(I.scale||{}).getPointPositionForValue?function Yt(I){const{scale:y,fill:h}=I,m=y.options,b=y.getLabels().length,T=m.reverse?y.max:y.min,x=function gl(I,y,h){let m;return m="start"===I?h:"end"===I?y.options.reverse?y.min:y.max:(0,d.i)(I)?I.value:y.getBaseValue(),m}(h,y,T),B=[];if(m.grid.circular){const W=y.getPointPositionForValue(0,T);return new le({x:W.x,y:W.y,radius:y.getDistanceFromCenterForValue(x)})}for(let W=0;W<b;++W)B.push(y.getPointPositionForValue(W,x));return B}(I):function At(I){const{scale:y={},fill:h}=I,m=function Ts(I,y){let h=null;return"start"===I?h=y.bottom:"end"===I?h=y.top:(0,d.i)(I)?h=y.getPixelForValue(I.value):y.getBasePixel&&(h=y.getBasePixel()),h}(h,y);if((0,d.g)(m)){const b=y.isHorizontal();return{x:b?m:null,y:b?null:m}}return null}(I)}(I);return b instanceof le?b:oa(b,m)}(y),{line:b,scale:T,axis:x}=y,B=b.options,W=B.fill,ne=B.backgroundColor,{above:Ce=ne,below:Ue=ne}=W||{};m&&b.points.length&&((0,d.Y)(I,h),function Bn(I,y){const{line:h,target:m,above:b,below:T,area:x,scale:B}=y,W=h._loop?"angle":y.axis;I.save(),"x"===W&&T!==b&&(sr(I,m,x.top),vi(I,{line:h,target:m,color:b,scale:B,property:W}),I.restore(),I.save(),sr(I,m,x.bottom)),vi(I,{line:h,target:m,color:T,scale:B,property:W}),I.restore()}(I,{line:b,target:m,above:Ce,below:Ue,area:h,scale:T,axis:x}),(0,d.$)(I))}function sr(I,y,h){const{segments:m,points:b}=y;let T=!0,x=!1;I.beginPath();for(const B of m){const{start:W,end:ne}=B,Ce=b[W],Ue=b[Lo(W,ne,b)];T?(I.moveTo(Ce.x,Ce.y),T=!1):(I.lineTo(Ce.x,h),I.lineTo(Ce.x,Ce.y)),x=!!y.pathSegment(I,B,{move:x}),x?I.closePath():I.lineTo(Ue.x,h)}I.lineTo(y.first().x,h),I.closePath(),I.clip()}function vi(I,y){const{line:h,target:m,property:b,color:T,scale:x}=y,B=function Ns(I,y,h){const m=I.segments,b=I.points,T=y.points,x=[];for(const B of m){let{start:W,end:ne}=B;ne=Lo(W,ne,b);const Ce=fo(h,b[W],b[ne],B.loop);if(!y.segments){x.push({source:B,target:Ce,start:b[W],end:b[ne]});continue}const Ue=(0,d.an)(y,Ce);for(const pt of Ue){const Et=fo(h,T[pt.start],T[pt.end],pt.loop),qt=(0,d.ax)(B,b,Et);for(const dn of qt)x.push({source:dn,target:pt,start:{[h]:ya(Ce,Et,"start",Math.max)},end:{[h]:ya(Ce,Et,"end",Math.min)}})}}return x}(h,m,b);for(const{source:W,target:ne,start:Ce,end:Ue}of B){const{style:{backgroundColor:pt=T}={}}=W,Et=!0!==m;I.save(),I.fillStyle=pt,wr(I,x,Et&&fo(b,Ce,Ue)),I.beginPath();const qt=!!h.pathSegment(I,W);let dn;if(Et){qt?I.closePath():Fs(I,m,Ue,b);const Cn=!!m.pathSegment(I,ne,{move:qt,reverse:!0});dn=qt&&Cn,dn||Fs(I,m,Ce,b)}I.closePath(),I.fill(dn?"evenodd":"nonzero"),I.restore()}}function wr(I,y,h){const{top:m,bottom:b}=y.chart.chartArea,{property:T,start:x,end:B}=h||{};"x"===T&&(I.beginPath(),I.rect(x,m,B-x,b-m),I.clip())}function Fs(I,y,h,m){const b=y.interpolate(h,m);b&&I.lineTo(b.x,b.y)}var lo={id:"filler",afterDatasetsUpdate(I,y,h){const m=(I.data.datasets||[]).length,b=[];let T,x,B,W;for(x=0;x<m;++x)T=I.getDatasetMeta(x),B=T.dataset,W=null,B&&B.options&&B instanceof Ze&&(W={visible:I.isDatasetVisible(x),index:x,fill:Qo(B,x,m),chart:I,axis:T.controller.options.indexAxis,scale:T.vScale,line:B}),T.$filler=W,b.push(W);for(x=0;x<m;++x)W=b[x],W&&!1!==W.fill&&(W.fill=ja(b,x,h.propagate))},beforeDraw(I,y,h){const m="beforeDraw"===h.drawTime,b=I.getSortedVisibleDatasetMetas(),T=I.chartArea;for(let x=b.length-1;x>=0;--x){const B=b[x].$filler;B&&(B.line.updateControlPoints(T,B.axis),m&&B.fill&&on(I.ctx,B,T))}},beforeDatasetsDraw(I,y,h){if("beforeDatasetsDraw"!==h.drawTime)return;const m=I.getSortedVisibleDatasetMetas();for(let b=m.length-1;b>=0;--b){const T=m[b].$filler;Na(T)&&on(I.ctx,T,I.chartArea)}},beforeDatasetDraw(I,y,h){const m=y.meta.$filler;!Na(m)||"beforeDatasetDraw"!==h.drawTime||on(I.ctx,m,I.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const q=(I,y)=>{let{boxHeight:h=y,boxWidth:m=y}=I;return I.usePointStyle&&(h=Math.min(h,y),m=I.pointStyleWidth||Math.min(m,y)),{boxWidth:m,boxHeight:h,itemHeight:Math.max(y,h)}};class J extends Yr{constructor(y){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=y.chart,this.options=y.options,this.ctx=y.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(y,h,m){this.maxWidth=y,this.maxHeight=h,this._margins=m,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const y=this.options.labels||{};let h=(0,d.Q)(y.generateLabels,[this.chart],this)||[];y.filter&&(h=h.filter(m=>y.filter(m,this.chart.data))),y.sort&&(h=h.sort((m,b)=>y.sort(m,b,this.chart.data))),this.options.reverse&&h.reverse(),this.legendItems=h}fit(){const{options:y,ctx:h}=this;if(!y.display)return void(this.width=this.height=0);const m=y.labels,b=(0,d.a0)(m.font),T=b.size,x=this._computeTitleHeight(),{boxWidth:B,itemHeight:W}=q(m,T);let ne,Ce;h.font=b.string,this.isHorizontal()?(ne=this.maxWidth,Ce=this._fitRows(x,T,B,W)+10):(Ce=this.maxHeight,ne=this._fitCols(x,b,B,W)+10),this.width=Math.min(ne,y.maxWidth||this.maxWidth),this.height=Math.min(Ce,y.maxHeight||this.maxHeight)}_fitRows(y,h,m,b){const{ctx:T,maxWidth:x,options:{labels:{padding:B}}}=this,W=this.legendHitBoxes=[],ne=this.lineWidths=[0],Ce=b+B;let Ue=y;T.textAlign="left",T.textBaseline="middle";let pt=-1,Et=-Ce;return this.legendItems.forEach((qt,dn)=>{const Cn=m+h/2+T.measureText(qt.text).width;(0===dn||ne[ne.length-1]+Cn+2*B>x)&&(Ue+=Ce,ne[ne.length-(dn>0?0:1)]=0,Et+=Ce,pt++),W[dn]={left:0,top:Et,row:pt,width:Cn,height:b},ne[ne.length-1]+=Cn+B}),Ue}_fitCols(y,h,m,b){const{ctx:T,maxHeight:x,options:{labels:{padding:B}}}=this,W=this.legendHitBoxes=[],ne=this.columnSizes=[],Ce=x-y;let Ue=B,pt=0,Et=0,qt=0,dn=0;return this.legendItems.forEach((Cn,Yn)=>{const{itemWidth:Fn,itemHeight:cr}=function Ne(I,y,h,m,b){const T=function bt(I,y,h,m){let b=I.text;return b&&"string"!=typeof b&&(b=b.reduce((T,x)=>T.length>x.length?T:x)),y+h.size/2+m.measureText(b).width}(m,I,y,h),x=function vn(I,y,h){let m=I;return"string"!=typeof y.text&&(m=kn(y,h)),m}(b,m,y.lineHeight);return{itemWidth:T,itemHeight:x}}(m,h,T,Cn,b);Yn>0&&Et+cr+2*B>Ce&&(Ue+=pt+B,ne.push({width:pt,height:Et}),qt+=pt+B,dn++,pt=Et=0),W[Yn]={left:qt,top:Et,col:dn,width:Fn,height:cr},pt=Math.max(pt,Fn),Et+=cr+B}),Ue+=pt,ne.push({width:pt,height:Et}),Ue}adjustHitBoxes(){if(!this.options.display)return;const y=this._computeTitleHeight(),{legendHitBoxes:h,options:{align:m,labels:{padding:b},rtl:T}}=this,x=(0,d.az)(T,this.left,this.width);if(this.isHorizontal()){let B=0,W=(0,d.a2)(m,this.left+b,this.right-this.lineWidths[B]);for(const ne of h)B!==ne.row&&(B=ne.row,W=(0,d.a2)(m,this.left+b,this.right-this.lineWidths[B])),ne.top+=this.top+y+b,ne.left=x.leftForLtr(x.x(W),ne.width),W+=ne.width+b}else{let B=0,W=(0,d.a2)(m,this.top+y+b,this.bottom-this.columnSizes[B].height);for(const ne of h)ne.col!==B&&(B=ne.col,W=(0,d.a2)(m,this.top+y+b,this.bottom-this.columnSizes[B].height)),ne.top=W,ne.left+=this.left+b,ne.left=x.leftForLtr(x.x(ne.left),ne.width),W+=ne.height+b}}isHorizontal(){return"top"===this.options.position||"bottom"===this.options.position}draw(){if(this.options.display){const y=this.ctx;(0,d.Y)(y,this),this._draw(),(0,d.$)(y)}}_draw(){const{options:y,columnSizes:h,lineWidths:m,ctx:b}=this,{align:T,labels:x}=y,B=d.d.color,W=(0,d.az)(y.rtl,this.left,this.width),ne=(0,d.a0)(x.font),{padding:Ce}=x,Ue=ne.size,pt=Ue/2;let Et;this.drawTitle(),b.textAlign=W.textAlign("left"),b.textBaseline="middle",b.lineWidth=.5,b.font=ne.string;const{boxWidth:qt,boxHeight:dn,itemHeight:Cn}=q(x,Ue),cr=this.isHorizontal(),vr=this._computeTitleHeight();Et=cr?{x:(0,d.a2)(T,this.left+Ce,this.right-m[0]),y:this.top+Ce+vr,line:0}:{x:this.left+Ce,y:(0,d.a2)(T,this.top+vr+Ce,this.bottom-h[0].height),line:0},(0,d.aA)(this.ctx,y.textDirection);const Jn=Cn+Ce;this.legendItems.forEach((or,Mr)=>{b.strokeStyle=or.fontColor,b.fillStyle=or.fontColor;const Br=b.measureText(or.text).width,Ci=W.textAlign(or.textAlign||(or.textAlign=x.textAlign)),Zi=qt+pt+Br;let Xr=Et.x,xs=Et.y;W.setWidth(this.width),cr?Mr>0&&Xr+Zi+Ce>this.right&&(xs=Et.y+=Jn,Et.line++,Xr=Et.x=(0,d.a2)(T,this.left+Ce,this.right-m[Et.line])):Mr>0&&xs+Jn>this.bottom&&(Xr=Et.x=Xr+h[Et.line].width+Ce,Et.line++,xs=Et.y=(0,d.a2)(T,this.top+vr+Ce,this.bottom-h[Et.line].height)),function(or,Mr,Br){if(isNaN(qt)||qt<=0||isNaN(dn)||dn<0)return;b.save();const Ci=(0,d.v)(Br.lineWidth,1);if(b.fillStyle=(0,d.v)(Br.fillStyle,B),b.lineCap=(0,d.v)(Br.lineCap,"butt"),b.lineDashOffset=(0,d.v)(Br.lineDashOffset,0),b.lineJoin=(0,d.v)(Br.lineJoin,"miter"),b.lineWidth=Ci,b.strokeStyle=(0,d.v)(Br.strokeStyle,B),b.setLineDash((0,d.v)(Br.lineDash,[])),x.usePointStyle){const Zi={radius:dn*Math.SQRT2/2,pointStyle:Br.pointStyle,rotation:Br.rotation,borderWidth:Ci},Xr=W.xPlus(or,qt/2);(0,d.aD)(b,Zi,Xr,Mr+pt,x.pointStyleWidth&&qt)}else{const Zi=Mr+Math.max((Ue-dn)/2,0),Xr=W.leftForLtr(or,qt),xs=(0,d.aw)(Br.borderRadius);b.beginPath(),Object.values(xs).some(zs=>0!==zs)?(0,d.au)(b,{x:Xr,y:Zi,w:qt,h:dn,radius:xs}):b.rect(Xr,Zi,qt,dn),b.fill(),0!==Ci&&b.stroke()}b.restore()}(W.x(Xr),xs,or),Xr=(0,d.aB)(Ci,Xr+qt+pt,cr?Xr+Zi:this.right,y.rtl),function(or,Mr,Br){(0,d.Z)(b,Br.text,or,Mr+Cn/2,ne,{strikethrough:Br.hidden,textAlign:W.textAlign(Br.textAlign)})}(W.x(Xr),xs,or),cr?Et.x+=Zi+Ce:Et.y+="string"!=typeof or.text?kn(or,ne.lineHeight)+Ce:Jn}),(0,d.aC)(this.ctx,y.textDirection)}drawTitle(){const y=this.options,h=y.title,m=(0,d.a0)(h.font),b=(0,d.E)(h.padding);if(!h.display)return;const T=(0,d.az)(y.rtl,this.left,this.width),x=this.ctx,B=h.position,ne=b.top+m.size/2;let Ce,Ue=this.left,pt=this.width;if(this.isHorizontal())pt=Math.max(...this.lineWidths),Ce=this.top+ne,Ue=(0,d.a2)(y.align,Ue,this.right-pt);else{const qt=this.columnSizes.reduce((dn,Cn)=>Math.max(dn,Cn.height),0);Ce=ne+(0,d.a2)(y.align,this.top,this.bottom-qt-y.labels.padding-this._computeTitleHeight())}const Et=(0,d.a2)(B,Ue,Ue+pt);x.textAlign=T.textAlign((0,d.a1)(B)),x.textBaseline="middle",x.strokeStyle=h.color,x.fillStyle=h.color,x.font=m.string,(0,d.Z)(x,h.text,Et,Ce,m)}_computeTitleHeight(){const y=this.options.title,h=(0,d.a0)(y.font),m=(0,d.E)(y.padding);return y.display?h.lineHeight+m.height:0}_getLegendItemAt(y,h){let m,b,T;if((0,d.aj)(y,this.left,this.right)&&(0,d.aj)(h,this.top,this.bottom))for(T=this.legendHitBoxes,m=0;m<T.length;++m)if(b=T[m],(0,d.aj)(y,b.left,b.left+b.width)&&(0,d.aj)(h,b.top,b.top+b.height))return this.legendItems[m];return null}handleEvent(y){const h=this.options;if(!function li(I,y){return!(("mousemove"!==I&&"mouseout"!==I||!y.onHover&&!y.onLeave)&&(!y.onClick||"click"!==I&&"mouseup"!==I))}(y.type,h))return;const m=this._getLegendItemAt(y.x,y.y);if("mousemove"===y.type||"mouseout"===y.type){const b=this._hoveredItem,T=((I,y)=>null!==I&&null!==y&&I.datasetIndex===y.datasetIndex&&I.index===y.index)(b,m);b&&!T&&(0,d.Q)(h.onLeave,[y,b,this],this),this._hoveredItem=m,m&&!T&&(0,d.Q)(h.onHover,[y,m,this],this)}else m&&(0,d.Q)(h.onClick,[y,m,this],this)}}function kn(I,y){return y*(I.text?I.text.length:0)}var mr={id:"legend",_element:J,start(I,y,h){const m=I.legend=new J({ctx:I.ctx,options:h,chart:I});yt.configure(I,m,h),yt.addBox(I,m)},stop(I){yt.removeBox(I,I.legend),delete I.legend},beforeUpdate(I,y,h){const m=I.legend;yt.configure(I,m,h),m.options=h},afterUpdate(I){const y=I.legend;y.buildLabels(),y.adjustHitBoxes()},afterEvent(I,y){y.replay||I.legend.handleEvent(y.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(I,y,h){const m=y.datasetIndex,b=h.chart;b.isDatasetVisible(m)?(b.hide(m),y.hidden=!0):(b.show(m),y.hidden=!1)},onHover:null,onLeave:null,labels:{color:I=>I.chart.options.color,boxWidth:40,padding:10,generateLabels(I){const y=I.data.datasets,{labels:{usePointStyle:h,pointStyle:m,textAlign:b,color:T,useBorderRadius:x,borderRadius:B}}=I.legend.options;return I._getSortedDatasetMetas().map(W=>{const ne=W.controller.getStyle(h?0:void 0),Ce=(0,d.E)(ne.borderWidth);return{text:y[W.index].label,fillStyle:ne.backgroundColor,fontColor:T,hidden:!W.visible,lineCap:ne.borderCapStyle,lineDash:ne.borderDash,lineDashOffset:ne.borderDashOffset,lineJoin:ne.borderJoinStyle,lineWidth:(Ce.width+Ce.height)/4,strokeStyle:ne.borderColor,pointStyle:m||ne.pointStyle,rotation:ne.rotation,textAlign:b||ne.textAlign,borderRadius:x&&(B||ne.borderRadius),datasetIndex:W.index}},this)}},title:{color:I=>I.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:I=>!I.startsWith("on"),labels:{_scriptable:I=>!["generateLabels","filter","sort"].includes(I)}}};class Wi extends Yr{constructor(y){super(),this.chart=y.chart,this.options=y.options,this.ctx=y.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(y,h){const m=this.options;if(this.left=0,this.top=0,!m.display)return void(this.width=this.height=this.right=this.bottom=0);this.width=this.right=y,this.height=this.bottom=h;const b=(0,d.b)(m.text)?m.text.length:1;this._padding=(0,d.E)(m.padding);const T=b*(0,d.a0)(m.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=T:this.width=T}isHorizontal(){const y=this.options.position;return"top"===y||"bottom"===y}_drawArgs(y){const{top:h,left:m,bottom:b,right:T,options:x}=this,B=x.align;let ne,Ce,Ue,W=0;return this.isHorizontal()?(Ce=(0,d.a2)(B,m,T),Ue=h+y,ne=T-m):("left"===x.position?(Ce=m+y,Ue=(0,d.a2)(B,b,h),W=-.5*d.P):(Ce=T-y,Ue=(0,d.a2)(B,h,b),W=.5*d.P),ne=b-h),{titleX:Ce,titleY:Ue,maxWidth:ne,rotation:W}}draw(){const y=this.ctx,h=this.options;if(!h.display)return;const m=(0,d.a0)(h.font),T=m.lineHeight/2+this._padding.top,{titleX:x,titleY:B,maxWidth:W,rotation:ne}=this._drawArgs(T);(0,d.Z)(y,h.text,0,0,m,{color:h.color,maxWidth:W,rotation:ne,textAlign:(0,d.a1)(h.align),textBaseline:"middle",translation:[x,B]})}}var Ni={id:"title",_element:Wi,start(I,y,h){!function wi(I,y){const h=new Wi({ctx:I.ctx,options:y,chart:I});yt.configure(I,h,y),yt.addBox(I,h),I.titleBlock=h}(I,h)},stop(I){yt.removeBox(I,I.titleBlock),delete I.titleBlock},beforeUpdate(I,y,h){const m=I.titleBlock;yt.configure(I,m,h),m.options=h},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const fs=new WeakMap;var As={id:"subtitle",start(I,y,h){const m=new Wi({ctx:I.ctx,options:h,chart:I});yt.configure(I,m,h),yt.addBox(I,m),fs.set(I,m)},stop(I){yt.removeBox(I,fs.get(I)),fs.delete(I)},beforeUpdate(I,y,h){const m=fs.get(I);yt.configure(I,m,h),m.options=h},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const po={average(I){if(!I.length)return!1;let y,h,m=0,b=0,T=0;for(y=0,h=I.length;y<h;++y){const x=I[y].element;if(x&&x.hasValue()){const B=x.tooltipPosition();m+=B.x,b+=B.y,++T}}return{x:m/T,y:b/T}},nearest(I,y){if(!I.length)return!1;let T,x,B,h=y.x,m=y.y,b=Number.POSITIVE_INFINITY;for(T=0,x=I.length;T<x;++T){const W=I[T].element;if(W&&W.hasValue()){const ne=W.getCenterPoint(),Ce=(0,d.aE)(y,ne);Ce<b&&(b=Ce,B=W)}}if(B){const W=B.tooltipPosition();h=W.x,m=W.y}return{x:h,y:m}}};function $n(I,y){return y&&((0,d.b)(y)?Array.prototype.push.apply(I,y):I.push(y)),I}function Fi(I){return("string"==typeof I||I instanceof String)&&I.indexOf("\n")>-1?I.split("\n"):I}function Go(I,y){const{element:h,datasetIndex:m,index:b}=y,T=I.getDatasetMeta(m).controller,{label:x,value:B}=T.getLabelAndValue(b);return{chart:I,label:x,parsed:T.getParsed(b),raw:I.data.datasets[m].data[b],formattedValue:B,dataset:T.getDataset(),dataIndex:b,datasetIndex:m,element:h}}function Ji(I,y){const h=I.chart.ctx,{body:m,footer:b,title:T}=I,{boxWidth:x,boxHeight:B}=y,W=(0,d.a0)(y.bodyFont),ne=(0,d.a0)(y.titleFont),Ce=(0,d.a0)(y.footerFont),Ue=T.length,pt=b.length,Et=m.length,qt=(0,d.E)(y.padding);let dn=qt.height,Cn=0,Yn=m.reduce((vr,Jn)=>vr+Jn.before.length+Jn.lines.length+Jn.after.length,0);Yn+=I.beforeBody.length+I.afterBody.length,Ue&&(dn+=Ue*ne.lineHeight+(Ue-1)*y.titleSpacing+y.titleMarginBottom),Yn&&(dn+=Et*(y.displayColors?Math.max(B,W.lineHeight):W.lineHeight)+(Yn-Et)*W.lineHeight+(Yn-1)*y.bodySpacing),pt&&(dn+=y.footerMarginTop+pt*Ce.lineHeight+(pt-1)*y.footerSpacing);let Fn=0;const cr=function(vr){Cn=Math.max(Cn,h.measureText(vr).width+Fn)};return h.save(),h.font=ne.string,(0,d.F)(I.title,cr),h.font=W.string,(0,d.F)(I.beforeBody.concat(I.afterBody),cr),Fn=y.displayColors?x+2+y.boxPadding:0,(0,d.F)(m,vr=>{(0,d.F)(vr.before,cr),(0,d.F)(vr.lines,cr),(0,d.F)(vr.after,cr)}),Fn=0,h.font=Ce.string,(0,d.F)(I.footer,cr),h.restore(),Cn+=qt.width,{width:Cn,height:dn}}function Kn(I,y,h,m){const{x:b,width:T}=h,{width:x,chartArea:{left:B,right:W}}=I;let ne="center";return"center"===m?ne=b<=(B+W)/2?"left":"right":b<=T/2?ne="left":b>=x-T/2&&(ne="right"),function Hr(I,y,h,m){const{x:b,width:T}=m,x=h.caretSize+h.caretPadding;if("left"===I&&b+T+x>y.width||"right"===I&&b-T-x<0)return!0}(ne,I,y,h)&&(ne="center"),ne}function Un(I,y,h){const m=h.yAlign||y.yAlign||function _r(I,y){const{y:h,height:m}=y;return h<m/2?"top":h>I.height-m/2?"bottom":"center"}(I,h);return{xAlign:h.xAlign||y.xAlign||Kn(I,y,h,m),yAlign:m}}function vs(I,y,h,m){const{caretSize:b,caretPadding:T,cornerRadius:x}=I,{xAlign:B,yAlign:W}=h,ne=b+T,{topLeft:Ce,topRight:Ue,bottomLeft:pt,bottomRight:Et}=(0,d.aw)(x);let qt=function Dn(I,y){let{x:h,width:m}=I;return"right"===y?h-=m:"center"===y&&(h-=m/2),h}(y,B);const dn=function qn(I,y,h){let{y:m,height:b}=I;return"top"===y?m+=h:m-="bottom"===y?b+h:b/2,m}(y,W,ne);return"center"===W?"left"===B?qt+=ne:"right"===B&&(qt-=ne):"left"===B?qt-=Math.max(Ce,pt)+b:"right"===B&&(qt+=Math.max(Ue,Et)+b),{x:(0,d.S)(qt,0,m.width-y.width),y:(0,d.S)(dn,0,m.height-y.height)}}function Ma(I,y,h){const m=(0,d.E)(h.padding);return"center"===y?I.x+I.width/2:"right"===y?I.x+I.width-m.right:I.x+m.left}function Ha(I){return $n([],Fi(I))}function Cl(I,y){const h=y&&y.dataset&&y.dataset.tooltip&&y.dataset.tooltip.callbacks;return h?I.override(h):I}const Dl={beforeTitle:d.aF,title(I){if(I.length>0){const y=I[0],h=y.chart.data.labels,m=h?h.length:0;if(this&&this.options&&"dataset"===this.options.mode)return y.dataset.label||"";if(y.label)return y.label;if(m>0&&y.dataIndex<m)return h[y.dataIndex]}return""},afterTitle:d.aF,beforeBody:d.aF,beforeLabel:d.aF,label(I){if(this&&this.options&&"dataset"===this.options.mode)return I.label+": "+I.formattedValue||I.formattedValue;let y=I.dataset.label||"";y&&(y+=": ");const h=I.formattedValue;return(0,d.k)(h)||(y+=h),y},labelColor(I){const h=I.chart.getDatasetMeta(I.datasetIndex).controller.getStyle(I.dataIndex);return{borderColor:h.borderColor,backgroundColor:h.backgroundColor,borderWidth:h.borderWidth,borderDash:h.borderDash,borderDashOffset:h.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(I){const h=I.chart.getDatasetMeta(I.datasetIndex).controller.getStyle(I.dataIndex);return{pointStyle:h.pointStyle,rotation:h.rotation}},afterLabel:d.aF,afterBody:d.aF,beforeFooter:d.aF,footer:d.aF,afterFooter:d.aF};function ua(I,y,h,m){const b=I[y].call(h,m);return typeof b>"u"?Dl[y].call(h,m):b}let ml=(()=>{class I extends Yr{constructor(h){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=h.chart,this.options=h.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(h){this.options=h,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const h=this._cachedAnimations;if(h)return h;const m=this.chart,b=this.options.setContext(this.getContext()),T=b.enabled&&m.options.animation&&b.animations,x=new Se(this.chart,T);return T._cacheable&&(this._cachedAnimations=Object.freeze(x)),x}getContext(){return this.$context||(this.$context=function Ea(I,y,h){return(0,d.j)(I,{tooltip:y,tooltipItems:h,type:"tooltip"})}(this.chart.getContext(),this,this._tooltipItems))}getTitle(h,m){const{callbacks:b}=m,T=ua(b,"beforeTitle",this,h),x=ua(b,"title",this,h),B=ua(b,"afterTitle",this,h);let W=[];return W=$n(W,Fi(T)),W=$n(W,Fi(x)),W=$n(W,Fi(B)),W}getBeforeBody(h,m){return Ha(ua(m.callbacks,"beforeBody",this,h))}getBody(h,m){const{callbacks:b}=m,T=[];return(0,d.F)(h,x=>{const B={before:[],lines:[],after:[]},W=Cl(b,x);$n(B.before,Fi(ua(W,"beforeLabel",this,x))),$n(B.lines,ua(W,"label",this,x)),$n(B.after,Fi(ua(W,"afterLabel",this,x))),T.push(B)}),T}getAfterBody(h,m){return Ha(ua(m.callbacks,"afterBody",this,h))}getFooter(h,m){const{callbacks:b}=m,T=ua(b,"beforeFooter",this,h),x=ua(b,"footer",this,h),B=ua(b,"afterFooter",this,h);let W=[];return W=$n(W,Fi(T)),W=$n(W,Fi(x)),W=$n(W,Fi(B)),W}_createItems(h){const m=this._active,b=this.chart.data,T=[],x=[],B=[];let ne,Ce,W=[];for(ne=0,Ce=m.length;ne<Ce;++ne)W.push(Go(this.chart,m[ne]));return h.filter&&(W=W.filter((Ue,pt,Et)=>h.filter(Ue,pt,Et,b))),h.itemSort&&(W=W.sort((Ue,pt)=>h.itemSort(Ue,pt,b))),(0,d.F)(W,Ue=>{const pt=Cl(h.callbacks,Ue);T.push(ua(pt,"labelColor",this,Ue)),x.push(ua(pt,"labelPointStyle",this,Ue)),B.push(ua(pt,"labelTextColor",this,Ue))}),this.labelColors=T,this.labelPointStyles=x,this.labelTextColors=B,this.dataPoints=W,W}update(h,m){const b=this.options.setContext(this.getContext()),T=this._active;let x,B=[];if(T.length){const W=po[b.position].call(this,T,this._eventPosition);B=this._createItems(b),this.title=this.getTitle(B,b),this.beforeBody=this.getBeforeBody(B,b),this.body=this.getBody(B,b),this.afterBody=this.getAfterBody(B,b),this.footer=this.getFooter(B,b);const ne=this._size=Ji(this,b),Ce=Object.assign({},W,ne),Ue=Un(this.chart,b,Ce),pt=vs(b,Ce,Ue,this.chart);this.xAlign=Ue.xAlign,this.yAlign=Ue.yAlign,x={opacity:1,x:pt.x,y:pt.y,width:ne.width,height:ne.height,caretX:W.x,caretY:W.y}}else 0!==this.opacity&&(x={opacity:0});this._tooltipItems=B,this.$context=void 0,x&&this._resolveAnimations().update(this,x),h&&b.external&&b.external.call(this,{chart:this.chart,tooltip:this,replay:m})}drawCaret(h,m,b,T){const x=this.getCaretPosition(h,b,T);m.lineTo(x.x1,x.y1),m.lineTo(x.x2,x.y2),m.lineTo(x.x3,x.y3)}getCaretPosition(h,m,b){const{xAlign:T,yAlign:x}=this,{caretSize:B,cornerRadius:W}=b,{topLeft:ne,topRight:Ce,bottomLeft:Ue,bottomRight:pt}=(0,d.aw)(W),{x:Et,y:qt}=h,{width:dn,height:Cn}=m;let Yn,Fn,cr,vr,Jn,or;return"center"===x?(Jn=qt+Cn/2,"left"===T?(Yn=Et,Fn=Yn-B,vr=Jn+B,or=Jn-B):(Yn=Et+dn,Fn=Yn+B,vr=Jn-B,or=Jn+B),cr=Yn):(Fn="left"===T?Et+Math.max(ne,Ue)+B:"right"===T?Et+dn-Math.max(Ce,pt)-B:this.caretX,"top"===x?(vr=qt,Jn=vr-B,Yn=Fn-B,cr=Fn+B):(vr=qt+Cn,Jn=vr+B,Yn=Fn+B,cr=Fn-B),or=vr),{x1:Yn,x2:Fn,x3:cr,y1:vr,y2:Jn,y3:or}}drawTitle(h,m,b){const T=this.title,x=T.length;let B,W,ne;if(x){const Ce=(0,d.az)(b.rtl,this.x,this.width);for(h.x=Ma(this,b.titleAlign,b),m.textAlign=Ce.textAlign(b.titleAlign),m.textBaseline="middle",B=(0,d.a0)(b.titleFont),W=b.titleSpacing,m.fillStyle=b.titleColor,m.font=B.string,ne=0;ne<x;++ne)m.fillText(T[ne],Ce.x(h.x),h.y+B.lineHeight/2),h.y+=B.lineHeight+W,ne+1===x&&(h.y+=b.titleMarginBottom-W)}}_drawColorBox(h,m,b,T,x){const B=this.labelColors[b],W=this.labelPointStyles[b],{boxHeight:ne,boxWidth:Ce}=x,Ue=(0,d.a0)(x.bodyFont),pt=Ma(this,"left",x),Et=T.x(pt),dn=m.y+(ne<Ue.lineHeight?(Ue.lineHeight-ne)/2:0);if(x.usePointStyle){const Cn={radius:Math.min(Ce,ne)/2,pointStyle:W.pointStyle,rotation:W.rotation,borderWidth:1},Yn=T.leftForLtr(Et,Ce)+Ce/2,Fn=dn+ne/2;h.strokeStyle=x.multiKeyBackground,h.fillStyle=x.multiKeyBackground,(0,d.at)(h,Cn,Yn,Fn),h.strokeStyle=B.borderColor,h.fillStyle=B.backgroundColor,(0,d.at)(h,Cn,Yn,Fn)}else{h.lineWidth=(0,d.i)(B.borderWidth)?Math.max(...Object.values(B.borderWidth)):B.borderWidth||1,h.strokeStyle=B.borderColor,h.setLineDash(B.borderDash||[]),h.lineDashOffset=B.borderDashOffset||0;const Cn=T.leftForLtr(Et,Ce),Yn=T.leftForLtr(T.xPlus(Et,1),Ce-2),Fn=(0,d.aw)(B.borderRadius);Object.values(Fn).some(cr=>0!==cr)?(h.beginPath(),h.fillStyle=x.multiKeyBackground,(0,d.au)(h,{x:Cn,y:dn,w:Ce,h:ne,radius:Fn}),h.fill(),h.stroke(),h.fillStyle=B.backgroundColor,h.beginPath(),(0,d.au)(h,{x:Yn,y:dn+1,w:Ce-2,h:ne-2,radius:Fn}),h.fill()):(h.fillStyle=x.multiKeyBackground,h.fillRect(Cn,dn,Ce,ne),h.strokeRect(Cn,dn,Ce,ne),h.fillStyle=B.backgroundColor,h.fillRect(Yn,dn+1,Ce-2,ne-2))}h.fillStyle=this.labelTextColors[b]}drawBody(h,m,b){const{body:T}=this,{bodySpacing:x,bodyAlign:B,displayColors:W,boxHeight:ne,boxWidth:Ce,boxPadding:Ue}=b,pt=(0,d.a0)(b.bodyFont);let Et=pt.lineHeight,qt=0;const dn=(0,d.az)(b.rtl,this.x,this.width),Cn=function(Ci){m.fillText(Ci,dn.x(h.x+qt),h.y+Et/2),h.y+=Et+x},Yn=dn.textAlign(B);let Fn,cr,vr,Jn,or,Mr,Br;for(m.textAlign=B,m.textBaseline="middle",m.font=pt.string,h.x=Ma(this,Yn,b),m.fillStyle=b.bodyColor,(0,d.F)(this.beforeBody,Cn),qt=W&&"right"!==Yn?"center"===B?Ce/2+Ue:Ce+2+Ue:0,Jn=0,Mr=T.length;Jn<Mr;++Jn){for(Fn=T[Jn],cr=this.labelTextColors[Jn],m.fillStyle=cr,(0,d.F)(Fn.before,Cn),vr=Fn.lines,W&&vr.length&&(this._drawColorBox(m,h,Jn,dn,b),Et=Math.max(pt.lineHeight,ne)),or=0,Br=vr.length;or<Br;++or)Cn(vr[or]),Et=pt.lineHeight;(0,d.F)(Fn.after,Cn)}qt=0,Et=pt.lineHeight,(0,d.F)(this.afterBody,Cn),h.y-=x}drawFooter(h,m,b){const T=this.footer,x=T.length;let B,W;if(x){const ne=(0,d.az)(b.rtl,this.x,this.width);for(h.x=Ma(this,b.footerAlign,b),h.y+=b.footerMarginTop,m.textAlign=ne.textAlign(b.footerAlign),m.textBaseline="middle",B=(0,d.a0)(b.footerFont),m.fillStyle=b.footerColor,m.font=B.string,W=0;W<x;++W)m.fillText(T[W],ne.x(h.x),h.y+B.lineHeight/2),h.y+=B.lineHeight+b.footerSpacing}}drawBackground(h,m,b,T){const{xAlign:x,yAlign:B}=this,{x:W,y:ne}=h,{width:Ce,height:Ue}=b,{topLeft:pt,topRight:Et,bottomLeft:qt,bottomRight:dn}=(0,d.aw)(T.cornerRadius);m.fillStyle=T.backgroundColor,m.strokeStyle=T.borderColor,m.lineWidth=T.borderWidth,m.beginPath(),m.moveTo(W+pt,ne),"top"===B&&this.drawCaret(h,m,b,T),m.lineTo(W+Ce-Et,ne),m.quadraticCurveTo(W+Ce,ne,W+Ce,ne+Et),"center"===B&&"right"===x&&this.drawCaret(h,m,b,T),m.lineTo(W+Ce,ne+Ue-dn),m.quadraticCurveTo(W+Ce,ne+Ue,W+Ce-dn,ne+Ue),"bottom"===B&&this.drawCaret(h,m,b,T),m.lineTo(W+qt,ne+Ue),m.quadraticCurveTo(W,ne+Ue,W,ne+Ue-qt),"center"===B&&"left"===x&&this.drawCaret(h,m,b,T),m.lineTo(W,ne+pt),m.quadraticCurveTo(W,ne,W+pt,ne),m.closePath(),m.fill(),T.borderWidth>0&&m.stroke()}_updateAnimationTarget(h){const m=this.chart,b=this.$animations,T=b&&b.x,x=b&&b.y;if(T||x){const B=po[h.position].call(this,this._active,this._eventPosition);if(!B)return;const W=this._size=Ji(this,h),ne=Object.assign({},B,this._size),Ce=Un(m,h,ne),Ue=vs(h,ne,Ce,m);(T._to!==Ue.x||x._to!==Ue.y)&&(this.xAlign=Ce.xAlign,this.yAlign=Ce.yAlign,this.width=W.width,this.height=W.height,this.caretX=B.x,this.caretY=B.y,this._resolveAnimations().update(this,Ue))}}_willRender(){return!!this.opacity}draw(h){const m=this.options.setContext(this.getContext());let b=this.opacity;if(!b)return;this._updateAnimationTarget(m);const T={width:this.width,height:this.height},x={x:this.x,y:this.y};b=Math.abs(b)<.001?0:b;const B=(0,d.E)(m.padding);m.enabled&&(this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length)&&(h.save(),h.globalAlpha=b,this.drawBackground(x,h,T,m),(0,d.aA)(h,m.textDirection),x.y+=B.top,this.drawTitle(x,h,m),this.drawBody(x,h,m),this.drawFooter(x,h,m),(0,d.aC)(h,m.textDirection),h.restore())}getActiveElements(){return this._active||[]}setActiveElements(h,m){const b=this._active,T=h.map(({datasetIndex:W,index:ne})=>{const Ce=this.chart.getDatasetMeta(W);if(!Ce)throw new Error("Cannot find a dataset at index "+W);return{datasetIndex:W,element:Ce.data[ne],index:ne}}),x=!(0,d.ah)(b,T),B=this._positionChanged(T,m);(x||B)&&(this._active=T,this._eventPosition=m,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(h,m,b=!0){if(m&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const T=this.options,x=this._active||[],B=this._getActiveElements(h,x,m,b),W=this._positionChanged(B,h),ne=m||!(0,d.ah)(B,x)||W;return ne&&(this._active=B,(T.enabled||T.external)&&(this._eventPosition={x:h.x,y:h.y},this.update(!0,m))),ne}_getActiveElements(h,m,b,T){const x=this.options;if("mouseout"===h.type)return[];if(!T)return m;const B=this.chart.getElementsAtEventForMode(h,x.mode,x,b);return x.reverse&&B.reverse(),B}_positionChanged(h,m){const{caretX:b,caretY:T,options:x}=this,B=po[x.position].call(this,h,m);return!1!==B&&(b!==B.x||T!==B.y)}}return I.positioners=po,I})();var Ls=Object.freeze({__proto__:null,Colors:hi,Decimation:Ti,Filler:lo,Legend:mr,SubTitle:As,Title:Ni,Tooltip:{id:"tooltip",_element:ml,positioners:po,afterInit(I,y,h){h&&(I.tooltip=new ml({chart:I,options:h}))},beforeUpdate(I,y,h){I.tooltip&&I.tooltip.initialize(h)},reset(I,y,h){I.tooltip&&I.tooltip.initialize(h)},afterDraw(I){const y=I.tooltip;if(y&&y._willRender()){const h={tooltip:y};if(!1===I.notifyPlugins("beforeTooltipDraw",{...h,cancelable:!0}))return;y.draw(I.ctx),I.notifyPlugins("afterTooltipDraw",h)}},afterEvent(I,y){I.tooltip&&I.tooltip.handleEvent(y.event,y.replay,y.inChartArea)&&(y.changed=!0)},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(I,y)=>y.bodyFont.size,boxWidth:(I,y)=>y.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:Dl},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:I=>"filter"!==I&&"itemSort"!==I&&"external"!==I,_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]}});function da(I){const y=this.getLabels();return I>=0&&I<y.length?y[I]:I}let Cc=(()=>{class I extends ye{constructor(h){super(h),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(h){const m=this._addedLabels;if(m.length){const b=this.getLabels();for(const{index:T,label:x}of m)b[T]===x&&b.splice(T,1);this._addedLabels=[]}super.init(h)}parse(h,m){if((0,d.k)(h))return null;const b=this.getLabels();return((I,y)=>null===I?null:(0,d.S)(Math.round(I),0,y))(m=isFinite(m)&&b[m]===h?m:function Ll(I,y,h,m){const b=I.indexOf(y);return-1===b?((I,y,h,m)=>("string"==typeof y?(h=I.push(y)-1,m.unshift({index:h,label:y})):isNaN(y)&&(h=null),h))(I,y,h,m):b!==I.lastIndexOf(y)?h:b}(b,h,(0,d.v)(m,h),this._addedLabels),b.length-1)}determineDataLimits(){const{minDefined:h,maxDefined:m}=this.getUserBounds();let{min:b,max:T}=this.getMinMax(!0);"ticks"===this.options.bounds&&(h||(b=0),m||(T=this.getLabels().length-1)),this.min=b,this.max=T}buildTicks(){const h=this.min,m=this.max,b=this.options.offset,T=[];let x=this.getLabels();x=0===h&&m===x.length-1?x:x.slice(h,m+1),this._valueRange=Math.max(x.length-(b?0:1),1),this._startValue=this.min-(b?.5:0);for(let B=h;B<=m;B++)T.push({value:B});return T}getLabelForValue(h){return da.call(this,h)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(h){return"number"!=typeof h&&(h=this.parse(h)),null===h?NaN:this.getPixelForDecimal((h-this._startValue)/this._valueRange)}getPixelForTick(h){const m=this.ticks;return h<0||h>m.length-1?null:this.getPixelForValue(m[h].value)}getValueForPixel(h){return Math.round(this._startValue+this.getDecimalForPixel(h)*this._valueRange)}getBasePixel(){return this.bottom}}return I.id="category",I.defaults={ticks:{callback:da}},I})();function Ii(I,y,{horizontal:h,minRotation:m}){const b=(0,d.t)(m),T=(h?Math.sin(b):Math.cos(b))||.001;return Math.min(y/T,.75*y*(""+I).length)}class Wa extends ye{constructor(y){super(y),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(y,h){return(0,d.k)(y)||("number"==typeof y||y instanceof Number)&&!isFinite(+y)?null:+y}handleTickRangeOptions(){const{beginAtZero:y}=this.options,{minDefined:h,maxDefined:m}=this.getUserBounds();let{min:b,max:T}=this;const x=W=>b=h?b:W,B=W=>T=m?T:W;if(y){const W=(0,d.s)(b),ne=(0,d.s)(T);W<0&&ne<0?B(0):W>0&&ne>0&&x(0)}if(b===T){let W=0===T?1:Math.abs(.05*T);B(T+W),y||x(b-W)}this.min=b,this.max=T}getTickLimit(){const y=this.options.ticks;let b,{maxTicksLimit:h,stepSize:m}=y;return m?(b=Math.ceil(this.max/m)-Math.floor(this.min/m)+1,b>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${m} would result generating up to ${b} ticks. Limiting to 1000.`),b=1e3)):(b=this.computeTickLimit(),h=h||11),h&&(b=Math.min(h,b)),b}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const y=this.options,h=y.ticks;let m=this.getTickLimit();m=Math.max(2,m);const x=function yo(I,y){const h=[],{bounds:b,step:T,min:x,max:B,precision:W,count:ne,maxTicks:Ce,maxDigits:Ue,includeBounds:pt}=I,Et=T||1,qt=Ce-1,{min:dn,max:Cn}=y,Yn=!(0,d.k)(x),Fn=!(0,d.k)(B),cr=!(0,d.k)(ne),vr=(Cn-dn)/(Ue+1);let or,Mr,Br,Ci,Jn=(0,d.aH)((Cn-dn)/qt/Et)*Et;if(Jn<1e-14&&!Yn&&!Fn)return[{value:dn},{value:Cn}];Ci=Math.ceil(Cn/Jn)-Math.floor(dn/Jn),Ci>qt&&(Jn=(0,d.aH)(Ci*Jn/qt/Et)*Et),(0,d.k)(W)||(or=Math.pow(10,W),Jn=Math.ceil(Jn*or)/or),"ticks"===b?(Mr=Math.floor(dn/Jn)*Jn,Br=Math.ceil(Cn/Jn)*Jn):(Mr=dn,Br=Cn),Yn&&Fn&&T&&(0,d.aI)((B-x)/T,Jn/1e3)?(Ci=Math.round(Math.min((B-x)/Jn,Ce)),Jn=(B-x)/Ci,Mr=x,Br=B):cr?(Mr=Yn?x:Mr,Br=Fn?B:Br,Ci=ne-1,Jn=(Br-Mr)/Ci):(Ci=(Br-Mr)/Jn,Ci=(0,d.aJ)(Ci,Math.round(Ci),Jn/1e3)?Math.round(Ci):Math.ceil(Ci));const Zi=Math.max((0,d.aK)(Jn),(0,d.aK)(Mr));or=Math.pow(10,(0,d.k)(W)?Zi:W),Mr=Math.round(Mr*or)/or,Br=Math.round(Br*or)/or;let Xr=0;for(Yn&&(pt&&Mr!==x?(h.push({value:x}),Mr<x&&Xr++,(0,d.aJ)(Math.round((Mr+Xr*Jn)*or)/or,x,Ii(x,vr,I))&&Xr++):Mr<x&&Xr++);Xr<Ci;++Xr){const xs=Math.round((Mr+Xr*Jn)*or)/or;if(Fn&&xs>B)break;h.push({value:xs})}return Fn&&pt&&Br!==B?h.length&&(0,d.aJ)(h[h.length-1].value,B,Ii(B,vr,I))?h[h.length-1].value=B:h.push({value:B}):(!Fn||Br===B)&&h.push({value:Br}),h}({maxTicks:m,bounds:y.bounds,min:y.min,max:y.max,precision:h.precision,step:h.stepSize,count:h.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:h.minRotation||0,includeBounds:!1!==h.includeBounds},this._range||this);return"ticks"===y.bounds&&(0,d.aG)(x,this,"value"),y.reverse?(x.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),x}configure(){const y=this.ticks;let h=this.min,m=this.max;if(super.configure(),this.options.offset&&y.length){const b=(m-h)/Math.max(y.length-1,1)/2;h-=b,m+=b}this._startValue=h,this._endValue=m,this._valueRange=m-h}getLabelForValue(y){return(0,d.o)(y,this.chart.options.locale,this.options.ticks.format)}}class os extends Wa{determineDataLimits(){const{min:y,max:h}=this.getMinMax(!0);this.min=(0,d.g)(y)?y:0,this.max=(0,d.g)(h)?h:1,this.handleTickRangeOptions()}computeTickLimit(){const y=this.isHorizontal(),h=y?this.width:this.height,m=(0,d.t)(this.options.ticks.minRotation),b=(y?Math.sin(m):Math.cos(m))||.001,T=this._resolveTickFontOptions(0);return Math.ceil(h/Math.min(40,T.lineHeight/b))}getPixelForValue(y){return null===y?NaN:this.getPixelForDecimal((y-this._startValue)/this._valueRange)}getValueForPixel(y){return this._startValue+this.getDecimalForPixel(y)*this._valueRange}}os.id="linear",os.defaults={ticks:{callback:d.aL.formatters.numeric}};const ol=I=>Math.floor((0,d.aM)(I)),ps=(I,y)=>Math.pow(10,ol(I)+y);function yr(I){return I/Math.pow(10,ol(I))==1}function yl(I,y,h){const m=Math.pow(10,h),b=Math.floor(I/m);return Math.ceil(y/m)-b}class Bl extends ye{constructor(y){super(y),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(y,h){const m=Wa.prototype.parse.apply(this,[y,h]);if(0!==m)return(0,d.g)(m)&&m>0?m:null;this._zero=!0}determineDataLimits(){const{min:y,max:h}=this.getMinMax(!0);this.min=(0,d.g)(y)?Math.max(0,y):null,this.max=(0,d.g)(h)?Math.max(0,h):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!(0,d.g)(this._userMin)&&(this.min=y===ps(this.min,0)?ps(this.min,-1):ps(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:y,maxDefined:h}=this.getUserBounds();let m=this.min,b=this.max;const T=B=>m=y?m:B,x=B=>b=h?b:B;m===b&&(m<=0?(T(1),x(10)):(T(ps(m,-1)),x(ps(b,1)))),m<=0&&T(ps(b,-1)),b<=0&&x(ps(m,1)),this.min=m,this.max=b}buildTicks(){const y=this.options,m=function Sa(I,{min:y,max:h}){y=(0,d.O)(I.min,y);const m=[],b=ol(y);let T=function Da(I,y){let m=ol(y-I);for(;yl(I,y,m)>10;)m++;for(;yl(I,y,m)<10;)m--;return Math.min(m,ol(I))}(y,h),x=T<0?Math.pow(10,Math.abs(T)):1;const B=Math.pow(10,T),W=b>T?Math.pow(10,b):0,ne=Math.round((y-W)*x)/x,Ce=Math.floor((y-W)/B/10)*B*10;let Ue=Math.floor((ne-Ce)/Math.pow(10,T)),pt=(0,d.O)(I.min,Math.round((W+Ce+Ue*Math.pow(10,T))*x)/x);for(;pt<h;)m.push({value:pt,major:yr(pt),significand:Ue}),Ue>=10?Ue=Ue<15?15:20:Ue++,Ue>=20&&(T++,Ue=2,x=T>=0?1:x),pt=Math.round((W+Ce+Ue*Math.pow(10,T))*x)/x;const Et=(0,d.O)(I.max,pt);return m.push({value:Et,major:yr(Et),significand:Ue}),m}({min:this._userMin,max:this._userMax},this);return"ticks"===y.bounds&&(0,d.aG)(m,this,"value"),y.reverse?(m.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),m}getLabelForValue(y){return void 0===y?"0":(0,d.o)(y,this.chart.options.locale,this.options.ticks.format)}configure(){const y=this.min;super.configure(),this._startValue=(0,d.aM)(y),this._valueRange=(0,d.aM)(this.max)-(0,d.aM)(y)}getPixelForValue(y){return(void 0===y||0===y)&&(y=this.min),null===y||isNaN(y)?NaN:this.getPixelForDecimal(y===this.min?0:((0,d.aM)(y)-this._startValue)/this._valueRange)}getValueForPixel(y){const h=this.getDecimalForPixel(y);return Math.pow(10,this._startValue+h*this._valueRange)}}function nt(I){const y=I.ticks;if(y.display&&I.display){const h=(0,d.E)(y.backdropPadding);return(0,d.v)(y.font&&y.font.size,d.d.font.size)+h.height}return 0}function Jt(I,y,h){return h=(0,d.b)(h)?h:[h],{w:(0,d.aN)(I,y.string,h),h:h.length*y.lineHeight}}function en(I,y,h,m,b){return I===m||I===b?{start:y-h/2,end:y+h/2}:I<m||I>b?{start:y-h,end:y}:{start:y,end:y+h}}function Bi(I,y,h,m,b){const T=Math.abs(Math.sin(h)),x=Math.abs(Math.cos(h));let B=0,W=0;m.start<y.l?(B=(y.l-m.start)/T,I.l=Math.min(I.l,y.l-B)):m.end>y.r&&(B=(m.end-y.r)/T,I.r=Math.max(I.r,y.r+B)),b.start<y.t?(W=(y.t-b.start)/x,I.t=Math.min(I.t,y.t-W)):b.end>y.b&&(W=(b.end-y.b)/x,I.b=Math.max(I.b,y.b+W))}function Hi(I,y,h){const m=I.drawingArea,{extra:b,additionalAngle:T,padding:x,size:B}=h,W=I.getPointPosition(y,m+b+x,T),ne=Math.round((0,d.U)((0,d.ay)(W.angle+d.H))),Ce=function va(I,y,h){return 90===h||270===h?I-=y/2:(h>270||h<90)&&(I-=y),I}(W.y,B.h,ne),Ue=function Gi(I){return 0===I||180===I?"center":I<180?"left":"right"}(ne),pt=function Jo(I,y,h){return"right"===h?I-=y:"center"===h&&(I-=y/2),I}(W.x,B.w,Ue);return{visible:!0,x:W.x,y:Ce,textAlign:Ue,left:pt,top:Ce,right:pt+B.w,bottom:Ce+B.h}}function es(I,y){if(!y)return!0;const{left:h,top:m,right:b,bottom:T}=I;return!((0,d.C)({x:h,y:m},y)||(0,d.C)({x:h,y:T},y)||(0,d.C)({x:b,y:m},y)||(0,d.C)({x:b,y:T},y))}function yn(I,y,h){const{left:m,top:b,right:T,bottom:x}=h,{backdropColor:B}=y;if(!(0,d.k)(B)){const W=(0,d.aw)(y.borderRadius),ne=(0,d.E)(y.backdropPadding);I.fillStyle=B;const Ce=m-ne.left,Ue=b-ne.top,pt=T-m+ne.width,Et=x-b+ne.height;Object.values(W).some(qt=>0!==qt)?(I.beginPath(),(0,d.au)(I,{x:Ce,y:Ue,w:pt,h:Et,radius:W}),I.fill()):I.fillRect(Ce,Ue,pt,Et)}}function ha(I,y,h,m){const{ctx:b}=I;if(h)b.arc(I.xCenter,I.yCenter,y,0,d.T);else{let T=I.getPointPosition(0,y);b.moveTo(T.x,T.y);for(let x=1;x<m;x++)T=I.getPointPosition(x,y),b.lineTo(T.x,T.y)}}Bl.id="logarithmic",Bl.defaults={ticks:{callback:d.aL.formatters.logarithmic,major:{enabled:!0}}};class ea extends Wa{constructor(y){super(y),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const y=this._padding=(0,d.E)(nt(this.options)/2),h=this.width=this.maxWidth-y.width,m=this.height=this.maxHeight-y.height;this.xCenter=Math.floor(this.left+h/2+y.left),this.yCenter=Math.floor(this.top+m/2+y.top),this.drawingArea=Math.floor(Math.min(h,m)/2)}determineDataLimits(){const{min:y,max:h}=this.getMinMax(!1);this.min=(0,d.g)(y)&&!isNaN(y)?y:0,this.max=(0,d.g)(h)&&!isNaN(h)?h:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/nt(this.options))}generateTickLabels(y){Wa.prototype.generateTickLabels.call(this,y),this._pointLabels=this.getLabels().map((h,m)=>{const b=(0,d.Q)(this.options.pointLabels.callback,[h,m],this);return b||0===b?b:""}).filter((h,m)=>this.chart.getDataVisibility(m))}fit(){const y=this.options;y.display&&y.pointLabels.display?function Ir(I){const y={l:I.left+I._padding.left,r:I.right-I._padding.right,t:I.top+I._padding.top,b:I.bottom-I._padding.bottom},h=Object.assign({},y),m=[],b=[],T=I._pointLabels.length,x=I.options.pointLabels,B=x.centerPointLabels?d.P/T:0;for(let W=0;W<T;W++){const ne=x.setContext(I.getPointLabelContext(W));b[W]=ne.padding;const Ce=I.getPointPosition(W,I.drawingArea+b[W],B),Ue=(0,d.a0)(ne.font),pt=Jt(I.ctx,Ue,I._pointLabels[W]);m[W]=pt;const Et=(0,d.ay)(I.getIndexAngle(W)+B),qt=Math.round((0,d.U)(Et));Bi(h,y,Et,en(qt,Ce.x,pt.w,0,180),en(qt,Ce.y,pt.h,90,270))}I.setCenterPoint(y.l-h.l,h.r-y.r,y.t-h.t,h.b-y.b),I._pointLabelItems=function is(I,y,h){const m=[],b=I._pointLabels.length,T=I.options,{centerPointLabels:x,display:B}=T.pointLabels,W={extra:nt(T)/2,additionalAngle:x?d.P/b:0};let ne;for(let Ce=0;Ce<b;Ce++){W.padding=h[Ce],W.size=y[Ce];const Ue=Hi(I,Ce,W);m.push(Ue),"auto"===B&&(Ue.visible=es(Ue,ne),Ue.visible&&(ne=Ue))}return m}(I,m,b)}(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(y,h,m,b){this.xCenter+=Math.floor((y-h)/2),this.yCenter+=Math.floor((m-b)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(y,h,m,b))}getIndexAngle(y){return(0,d.ay)(y*(d.T/(this._pointLabels.length||1))+(0,d.t)(this.options.startAngle||0))}getDistanceFromCenterForValue(y){if((0,d.k)(y))return NaN;const h=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-y)*h:(y-this.min)*h}getValueForDistanceFromCenter(y){if((0,d.k)(y))return NaN;const h=y/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-h:this.min+h}getPointLabelContext(y){const h=this._pointLabels||[];if(y>=0&&y<h.length){const m=h[y];return function $l(I,y,h){return(0,d.j)(I,{label:h,index:y,type:"pointLabel"})}(this.getContext(),y,m)}}getPointPosition(y,h,m=0){const b=this.getIndexAngle(y)-d.H+m;return{x:Math.cos(b)*h+this.xCenter,y:Math.sin(b)*h+this.yCenter,angle:b}}getPointPositionForValue(y,h){return this.getPointPosition(y,this.getDistanceFromCenterForValue(h))}getBasePosition(y){return this.getPointPositionForValue(y||0,this.getBaseValue())}getPointLabelPosition(y){const{left:h,top:m,right:b,bottom:T}=this._pointLabelItems[y];return{left:h,top:m,right:b,bottom:T}}drawBackground(){const{backgroundColor:y,grid:{circular:h}}=this.options;if(y){const m=this.ctx;m.save(),m.beginPath(),ha(this,this.getDistanceFromCenterForValue(this._endValue),h,this._pointLabels.length),m.closePath(),m.fillStyle=y,m.fill(),m.restore()}}drawGrid(){const y=this.ctx,h=this.options,{angleLines:m,grid:b,border:T}=h,x=this._pointLabels.length;let B,W,ne;if(h.pointLabels.display&&function Pa(I,y){const{ctx:h,options:{pointLabels:m}}=I;for(let b=y-1;b>=0;b--){const T=I._pointLabelItems[b];if(!T.visible)continue;const x=m.setContext(I.getPointLabelContext(b));yn(h,x,T);const B=(0,d.a0)(x.font),{x:W,y:ne,textAlign:Ce}=T;(0,d.Z)(h,I._pointLabels[b],W,ne+B.lineHeight/2,B,{color:x.color,textAlign:Ce,textBaseline:"middle"})}}(this,x),b.display&&this.ticks.forEach((Ce,Ue)=>{if(0!==Ue){W=this.getDistanceFromCenterForValue(Ce.value);const pt=this.getContext(Ue),Et=b.setContext(pt),qt=T.setContext(pt);!function hc(I,y,h,m,b){const T=I.ctx,x=y.circular,{color:B,lineWidth:W}=y;!x&&!m||!B||!W||h<0||(T.save(),T.strokeStyle=B,T.lineWidth=W,T.setLineDash(b.dash),T.lineDashOffset=b.dashOffset,T.beginPath(),ha(I,h,x,m),T.closePath(),T.stroke(),T.restore())}(this,Et,W,x,qt)}}),m.display){for(y.save(),B=x-1;B>=0;B--){const Ce=m.setContext(this.getPointLabelContext(B)),{color:Ue,lineWidth:pt}=Ce;!pt||!Ue||(y.lineWidth=pt,y.strokeStyle=Ue,y.setLineDash(Ce.borderDash),y.lineDashOffset=Ce.borderDashOffset,W=this.getDistanceFromCenterForValue(h.ticks.reverse?this.min:this.max),ne=this.getPointPosition(B,W),y.beginPath(),y.moveTo(this.xCenter,this.yCenter),y.lineTo(ne.x,ne.y),y.stroke())}y.restore()}}drawBorder(){}drawLabels(){const y=this.ctx,h=this.options,m=h.ticks;if(!m.display)return;const b=this.getIndexAngle(0);let T,x;y.save(),y.translate(this.xCenter,this.yCenter),y.rotate(b),y.textAlign="center",y.textBaseline="middle",this.ticks.forEach((B,W)=>{if(0===W&&!h.reverse)return;const ne=m.setContext(this.getContext(W)),Ce=(0,d.a0)(ne.font);if(T=this.getDistanceFromCenterForValue(this.ticks[W].value),ne.showLabelBackdrop){y.font=Ce.string,x=y.measureText(B.label).width,y.fillStyle=ne.backdropColor;const Ue=(0,d.E)(ne.backdropPadding);y.fillRect(-x/2-Ue.left,-T-Ce.size/2-Ue.top,x+Ue.width,Ce.size+Ue.height)}(0,d.Z)(y,B.label,0,-T,Ce,{color:ne.color,strokeColor:ne.textStrokeColor,strokeWidth:ne.textStrokeWidth})}),y.restore()}drawTitle(){}}ea.id="radialLinear",ea.defaults={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:d.aL.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback:I=>I,padding:5,centerPointLabels:!1}},ea.defaultRoutes={"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"},ea.descriptors={angleLines:{_fallback:"grid"}};const fc={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Ko=Object.keys(fc);function V(I,y){return I-y}function G(I,y){if((0,d.k)(y))return null;const h=I._adapter,{parser:m,round:b,isoWeekday:T}=I._parseOpts;let x=y;return"function"==typeof m&&(x=m(x)),(0,d.g)(x)||(x="string"==typeof m?h.parse(x,m):h.parse(x)),null===x?null:(b&&(x="week"!==b||!(0,d.x)(T)&&!0!==T?h.startOf(x,b):h.startOf(x,"isoWeek",T)),+x)}function O(I,y,h,m){const b=Ko.length;for(let T=Ko.indexOf(I);T<b-1;++T){const x=fc[Ko[T]];if(x.common&&Math.ceil((h-y)/((x.steps?x.steps:Number.MAX_SAFE_INTEGER)*x.size))<=m)return Ko[T]}return Ko[b-1]}function et(I,y,h){if(h){if(h.length){const{lo:m,hi:b}=(0,d.aP)(h,y);I[h[m]>=y?h[m]:h[b]]=!0}}else I[y]=!0}function Zt(I,y,h){const m=[],b={},T=y.length;let x,B;for(x=0;x<T;++x)B=y[x],b[B]=x,m.push({value:B,major:!1});return 0!==T&&h?function ze(I,y,h,m){const b=I._adapter,T=+b.startOf(y[0].value,m),x=y[y.length-1].value;let B,W;for(B=T;B<=x;B=+b.add(B,1,m))W=h[B],W>=0&&(y[W].major=!0);return y}(I,m,b,h):m}let Mn=(()=>{class I extends ye{constructor(h){super(h),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(h,m={}){const b=h.time||(h.time={}),T=this._adapter=new Gr__date(h.adapters.date);T.init(m),(0,d.ab)(b.displayFormats,T.formats()),this._parseOpts={parser:b.parser,round:b.round,isoWeekday:b.isoWeekday},super.init(h),this._normalized=m.normalized}parse(h,m){return void 0===h?null:G(this,h)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const h=this.options,m=this._adapter,b=h.time.unit||"day";let{min:T,max:x,minDefined:B,maxDefined:W}=this.getUserBounds();function ne(Ce){!B&&!isNaN(Ce.min)&&(T=Math.min(T,Ce.min)),!W&&!isNaN(Ce.max)&&(x=Math.max(x,Ce.max))}(!B||!W)&&(ne(this._getLabelBounds()),("ticks"!==h.bounds||"labels"!==h.ticks.source)&&ne(this.getMinMax(!1))),T=(0,d.g)(T)&&!isNaN(T)?T:+m.startOf(Date.now(),b),x=(0,d.g)(x)&&!isNaN(x)?x:+m.endOf(Date.now(),b)+1,this.min=Math.min(T,x-1),this.max=Math.max(T+1,x)}_getLabelBounds(){const h=this.getLabelTimestamps();let m=Number.POSITIVE_INFINITY,b=Number.NEGATIVE_INFINITY;return h.length&&(m=h[0],b=h[h.length-1]),{min:m,max:b}}buildTicks(){const h=this.options,m=h.time,b=h.ticks,T="labels"===b.source?this.getLabelTimestamps():this._generate();"ticks"===h.bounds&&T.length&&(this.min=this._userMin||T[0],this.max=this._userMax||T[T.length-1]);const x=this.min,W=(0,d.aO)(T,x,this.max);return this._unit=m.unit||(b.autoSkip?O(m.minUnit,this.min,this.max,this._getLabelCapacity(x)):function Z(I,y,h,m,b){for(let T=Ko.length-1;T>=Ko.indexOf(h);T--){const x=Ko[T];if(fc[x].common&&I._adapter.diff(b,m,x)>=y-1)return x}return Ko[h?Ko.indexOf(h):0]}(this,W.length,m.minUnit,this.min,this.max)),this._majorUnit=b.major.enabled&&"year"!==this._unit?function ge(I){for(let y=Ko.indexOf(I)+1,h=Ko.length;y<h;++y)if(fc[Ko[y]].common)return Ko[y]}(this._unit):void 0,this.initOffsets(T),h.reverse&&W.reverse(),Zt(this,W,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(h=>+h.value))}initOffsets(h=[]){let T,x,m=0,b=0;this.options.offset&&h.length&&(T=this.getDecimalForValue(h[0]),m=1===h.length?1-T:(this.getDecimalForValue(h[1])-T)/2,x=this.getDecimalForValue(h[h.length-1]),b=1===h.length?x:(x-this.getDecimalForValue(h[h.length-2]))/2);const B=h.length<3?.5:.25;m=(0,d.S)(m,0,B),b=(0,d.S)(b,0,B),this._offsets={start:m,end:b,factor:1/(m+1+b)}}_generate(){const h=this._adapter,m=this.min,b=this.max,T=this.options,x=T.time,B=x.unit||O(x.minUnit,m,b,this._getLabelCapacity(m)),W=(0,d.v)(T.ticks.stepSize,1),ne="week"===B&&x.isoWeekday,Ce=(0,d.x)(ne)||!0===ne,Ue={};let Et,qt,pt=m;if(Ce&&(pt=+h.startOf(pt,"isoWeek",ne)),pt=+h.startOf(pt,Ce?"day":B),h.diff(b,m,B)>1e5*W)throw new Error(m+" and "+b+" are too far apart with stepSize of "+W+" "+B);const dn="data"===T.ticks.source&&this.getDataTimestamps();for(Et=pt,qt=0;Et<b;Et=+h.add(Et,W,B),qt++)et(Ue,Et,dn);return(Et===b||"ticks"===T.bounds||1===qt)&&et(Ue,Et,dn),Object.keys(Ue).sort(V).map(Cn=>+Cn)}getLabelForValue(h){const b=this.options.time;return this._adapter.format(h,b.tooltipFormat?b.tooltipFormat:b.displayFormats.datetime)}format(h,m){return this._adapter.format(h,m||this.options.time.displayFormats[this._unit])}_tickFormatFunction(h,m,b,T){const x=this.options,B=x.ticks.callback;if(B)return(0,d.Q)(B,[h,m,b],this);const W=x.time.displayFormats,ne=this._unit,Ce=this._majorUnit,pt=Ce&&W[Ce],Et=b[m];return this._adapter.format(h,T||(Ce&&pt&&Et&&Et.major?pt:ne&&W[ne]))}generateTickLabels(h){let m,b,T;for(m=0,b=h.length;m<b;++m)T=h[m],T.label=this._tickFormatFunction(T.value,m,h)}getDecimalForValue(h){return null===h?NaN:(h-this.min)/(this.max-this.min)}getPixelForValue(h){const m=this._offsets,b=this.getDecimalForValue(h);return this.getPixelForDecimal((m.start+b)*m.factor)}getValueForPixel(h){const m=this._offsets,b=this.getDecimalForPixel(h)/m.factor-m.end;return this.min+b*(this.max-this.min)}_getLabelSize(h){const m=this.options.ticks,b=this.ctx.measureText(h).width,T=(0,d.t)(this.isHorizontal()?m.maxRotation:m.minRotation),x=Math.cos(T),B=Math.sin(T),W=this._resolveTickFontOptions(0).size;return{w:b*x+W*B,h:b*B+W*x}}_getLabelCapacity(h){const m=this.options.time,b=m.displayFormats,T=b[m.unit]||b.millisecond,x=this._tickFormatFunction(h,0,Zt(this,[h],this._majorUnit),T),B=this._getLabelSize(x),W=Math.floor(this.isHorizontal()?this.width/B.w:this.height/B.h)-1;return W>0?W:1}getDataTimestamps(){let m,b,h=this._cache.data||[];if(h.length)return h;const T=this.getMatchingVisibleMetas();if(this._normalized&&T.length)return this._cache.data=T[0].controller.getAllParsedValues(this);for(m=0,b=T.length;m<b;++m)h=h.concat(T[m].controller.getAllParsedValues(this));return this._cache.data=this.normalize(h)}getLabelTimestamps(){const h=this._cache.labels||[];let m,b;if(h.length)return h;const T=this.getLabels();for(m=0,b=T.length;m<b;++m)h.push(G(this,T[m]));return this._cache.labels=this._normalized?h:this.normalize(h)}normalize(h){return(0,d._)(h.sort(V))}}return I.id="time",I.defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}},I})();function kr(I,y,h){let T,x,B,W,m=0,b=I.length-1;h?(y>=I[m].pos&&y<=I[b].pos&&({lo:m,hi:b}=(0,d.B)(I,"pos",y)),({pos:T,time:B}=I[m]),({pos:x,time:W}=I[b])):(y>=I[m].time&&y<=I[b].time&&({lo:m,hi:b}=(0,d.B)(I,"time",y)),({time:T,pos:B}=I[m]),({time:x,pos:W}=I[b]));const ne=x-T;return ne?B+(W-B)*(y-T)/ne:B}class ki extends Mn{constructor(y){super(y),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const y=this._getTimestampsForTable(),h=this._table=this.buildLookupTable(y);this._minPos=kr(h,this.min),this._tableRange=kr(h,this.max)-this._minPos,super.initOffsets(y)}buildLookupTable(y){const{min:h,max:m}=this,b=[],T=[];let x,B,W,ne,Ce;for(x=0,B=y.length;x<B;++x)ne=y[x],ne>=h&&ne<=m&&b.push(ne);if(b.length<2)return[{time:h,pos:0},{time:m,pos:1}];for(x=0,B=b.length;x<B;++x)Ce=b[x+1],W=b[x-1],ne=b[x],Math.round((Ce+W)/2)!==ne&&T.push({time:ne,pos:x/(B-1)});return T}_generate(){const y=this.min,h=this.max;let m=super.getDataTimestamps();return(!m.includes(y)||!m.length)&&m.splice(0,0,y),(!m.includes(h)||1===m.length)&&m.push(h),m.sort((b,T)=>b-T)}_getTimestampsForTable(){let y=this._cache.all||[];if(y.length)return y;const h=this.getDataTimestamps(),m=this.getLabelTimestamps();return y=h.length&&m.length?this.normalize(h.concat(m)):h.length?h:m,y=this._cache.all=y,y}getDecimalForValue(y){return(kr(this._table,y)-this._minPos)/this._tableRange}getValueForPixel(y){const h=this._offsets,m=this.getDecimalForPixel(y)/h.factor-h.end;return kr(this._table,m*this._tableRange+this._minPos,!0)}}ki.id="timeseries",ki.defaults=Mn.defaults;const vo=[Wr,L,Ls,Object.freeze({__proto__:null,CategoryScale:Cc,LinearScale:os,LogarithmicScale:Bl,RadialLinearScale:ea,TimeScale:Mn,TimeSeriesScale:ki})]},1086:(er,Nt,H)=>{"use strict";function d(M){return M+.5|0}H.d(Nt,{$:()=>Vr,A:()=>Ri,B:()=>Or,C:()=>ho,D:()=>un,E:()=>Do,F:()=>br,G:()=>ii,H:()=>Rr,I:()=>ae,J:()=>_i,K:()=>hi,L:()=>rs,M:()=>be,N:()=>xt,O:()=>Wr,P:()=>Wt,Q:()=>Qr,R:()=>Es,S:()=>mn,T:()=>In,U:()=>wn,V:()=>go,W:()=>Qn,X:()=>Ds,Y:()=>Oi,Z:()=>Co,_:()=>uo,a:()=>Oo,a0:()=>Ao,a1:()=>as,a2:()=>zi,a3:()=>Li,a4:()=>rr,a5:()=>yi,a6:()=>ir,a7:()=>An,a8:()=>Yi,a9:()=>Ws,aA:()=>fo,aB:()=>qs,aC:()=>Xo,aD:()=>Js,aE:()=>bn,aF:()=>ur,aG:()=>nn,aH:()=>qe,aI:()=>Vt,aJ:()=>oe,aK:()=>Gn,aL:()=>Qi,aM:()=>se,aN:()=>Ki,aO:()=>Yr,aP:()=>Fr,aa:()=>qo,ab:()=>Ei,ac:()=>lr,ad:()=>wo,ae:()=>Tr,af:()=>ys,ag:()=>xe,ah:()=>$r,ai:()=>gt,aj:()=>gr,ak:()=>so,al:()=>Fo,am:()=>Ts,an:()=>ja,ao:()=>ao,ap:()=>hs,aq:()=>qi,ar:()=>Di,as:()=>pi,at:()=>Zr,au:()=>Xs,av:()=>Wo,aw:()=>ss,ax:()=>Na,ay:()=>Ft,az:()=>Ns,b:()=>Xn,c:()=>re,d:()=>Io,e:()=>ke,f:()=>pr,g:()=>Pr,h:()=>Ar,i:()=>cn,j:()=>ko,k:()=>hn,l:()=>ei,m:()=>On,n:()=>Gr,o:()=>Lr,p:()=>Kt,q:()=>io,r:()=>cs,s:()=>ee,t:()=>Tn,u:()=>ns,v:()=>Sr,w:()=>Bs,x:()=>rt,y:()=>de,z:()=>Ht});const v=(M,X,le)=>Math.max(Math.min(M,le),X);function ve(M){return v(d(2.55*M),0,255)}function Xe(M){return v(d(255*M),0,255)}function Ke(M){return v(d(M/2.55)/100,0,1)}function Se(M){return v(d(100*M),0,100)}const Re={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},Qe=[..."0123456789ABCDEF"],Be=M=>Qe[15&M],Me=M=>Qe[(240&M)>>4]+Qe[15&M],ot=M=>(240&M)>>4==(15&M);const He=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function $e(M,X,le){const De=X*Math.min(le,1-le),je=(lt,At=(lt+M/30)%12)=>le-De*Math.max(Math.min(At-3,9-At,1),-1);return[je(0),je(8),je(4)]}function Lt(M,X,le){const De=(je,lt=(je+M/60)%6)=>le-le*X*Math.max(Math.min(lt,4-lt,1),0);return[De(5),De(3),De(1)]}function Rt(M,X,le){const De=$e(M,1,.5);let je;for(X+le>1&&(je=1/(X+le),X*=je,le*=je),je=0;je<3;je++)De[je]*=1-X-le,De[je]+=X;return De}function Ct(M){const le=M.r/255,De=M.g/255,je=M.b/255,lt=Math.max(le,De,je),At=Math.min(le,De,je),Yt=(lt+At)/2;let on,Bn,sr;return lt!==At&&(sr=lt-At,Bn=Yt>.5?sr/(2-lt-At):sr/(lt+At),on=function ht(M,X,le,De,je){return M===je?(X-le)/De+(X<le?6:0):X===je?(le-M)/De+2:(M-X)/De+4}(le,De,je,sr,lt),on=60*on+.5),[0|on,Bn||0,Yt]}function Tt(M,X,le,De){return(Array.isArray(X)?M(X[0],X[1],X[2]):M(X,le,De)).map(Xe)}function Dt(M,X,le){return Tt($e,M,X,le)}function Gt(M){return(M%360+360)%360}const Ae={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},Je={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};let _t;const Ge=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/,Pt=M=>M<=.0031308?12.92*M:1.055*Math.pow(M,1/2.4)-.055,sn=M=>M<=.04045?M/12.92:Math.pow((M+.055)/1.055,2.4);function Oe(M,X,le){if(M){let De=Ct(M);De[X]=Math.max(0,Math.min(De[X]+De[X]*le,0===X?360:1)),De=Dt(De),M.r=De[0],M.g=De[1],M.b=De[2]}}function rn(M,X){return M&&Object.assign(X||{},M)}function wt(M){var X={r:0,g:0,b:0,a:255};return Array.isArray(M)?M.length>=3&&(X={r:M[0],g:M[1],b:M[2],a:255},M.length>3&&(X.a=Xe(M[3]))):(X=rn(M,{r:0,g:0,b:0,a:1})).a=Xe(X.a),X}function fn(M){return"r"===M.charAt(0)?function ft(M){const X=Ge.exec(M);let De,je,lt,le=255;if(X){if(X[7]!==De){const At=+X[7];le=X[8]?ve(At):v(255*At,0,255)}return De=+X[1],je=+X[3],lt=+X[5],De=255&(X[2]?ve(De):v(De,0,255)),je=255&(X[4]?ve(je):v(je,0,255)),lt=255&(X[6]?ve(lt):v(lt,0,255)),{r:De,g:je,b:lt,a:le}}}(M):function St(M){const X=He.exec(M);let De,le=255;if(!X)return;X[5]!==De&&(le=X[6]?ve(+X[5]):Xe(+X[5]));const je=Gt(+X[2]),lt=+X[3]/100,At=+X[4]/100;return De="hwb"===X[1]?function vt(M,X,le){return Tt(Rt,M,X,le)}(je,lt,At):"hsv"===X[1]?function it(M,X,le){return Tt(Lt,M,X,le)}(je,lt,At):Dt(je,lt,At),{r:De[0],g:De[1],b:De[2],a:le}}(M)}class _n{constructor(X){if(X instanceof _n)return X;const le=typeof X;let De;"object"===le?De=wt(X):"string"===le&&(De=function ct(M){var le,X=M.length;return"#"===M[0]&&(4===X||5===X?le={r:255&17*Re[M[1]],g:255&17*Re[M[2]],b:255&17*Re[M[3]],a:5===X?17*Re[M[4]]:255}:(7===X||9===X)&&(le={r:Re[M[1]]<<4|Re[M[2]],g:Re[M[3]]<<4|Re[M[4]],b:Re[M[5]]<<4|Re[M[6]],a:9===X?Re[M[7]]<<4|Re[M[8]]:255})),le}(X)||function tt(M){_t||(_t=function ut(){const M={},X=Object.keys(Je),le=Object.keys(Ae);let De,je,lt,At,Yt;for(De=0;De<X.length;De++){for(At=Yt=X[De],je=0;je<le.length;je++)lt=le[je],Yt=Yt.replace(lt,Ae[lt]);lt=parseInt(Je[At],16),M[Yt]=[lt>>16&255,lt>>8&255,255&lt]}return M}(),_t.transparent=[0,0,0,0]);const X=_t[M.toLowerCase()];return X&&{r:X[0],g:X[1],b:X[2],a:4===X.length?X[3]:255}}(X)||fn(X)),this._rgb=De,this._valid=!!De}get valid(){return this._valid}get rgb(){var X=rn(this._rgb);return X&&(X.a=Ke(X.a)),X}set rgb(X){this._rgb=wt(X)}rgbString(){return this._valid?function jt(M){return M&&(M.a<255?`rgba(${M.r}, ${M.g}, ${M.b}, ${Ke(M.a)})`:`rgb(${M.r}, ${M.g}, ${M.b})`)}(this._rgb):void 0}hexString(){return this._valid?function Ut(M){var X=(M=>ot(M.r)&&ot(M.g)&&ot(M.b)&&ot(M.a))(M)?Be:Me;return M?"#"+X(M.r)+X(M.g)+X(M.b)+((M,X)=>M<255?X(M):"")(M.a,X):void 0}(this._rgb):void 0}hslString(){return this._valid?function Qt(M){if(!M)return;const X=Ct(M),le=X[0],De=Se(X[1]),je=Se(X[2]);return M.a<255?`hsla(${le}, ${De}%, ${je}%, ${Ke(M.a)})`:`hsl(${le}, ${De}%, ${je}%)`}(this._rgb):void 0}mix(X,le){if(X){const De=this.rgb,je=X.rgb;let lt;const At=le===lt?.5:le,Yt=2*At-1,on=De.a-je.a,Bn=((Yt*on==-1?Yt:(Yt+on)/(1+Yt*on))+1)/2;lt=1-Bn,De.r=255&Bn*De.r+lt*je.r+.5,De.g=255&Bn*De.g+lt*je.g+.5,De.b=255&Bn*De.b+lt*je.b+.5,De.a=At*De.a+(1-At)*je.a,this.rgb=De}return this}interpolate(X,le){return X&&(this._rgb=function ln(M,X,le){const De=sn(Ke(M.r)),je=sn(Ke(M.g)),lt=sn(Ke(M.b));return{r:Xe(Pt(De+le*(sn(Ke(X.r))-De))),g:Xe(Pt(je+le*(sn(Ke(X.g))-je))),b:Xe(Pt(lt+le*(sn(Ke(X.b))-lt))),a:M.a+le*(X.a-M.a)}}(this._rgb,X._rgb,le)),this}clone(){return new _n(this.rgb)}alpha(X){return this._rgb.a=Xe(X),this}clearer(X){return this._rgb.a*=1-X,this}greyscale(){const X=this._rgb,le=d(.3*X.r+.59*X.g+.11*X.b);return X.r=X.g=X.b=le,this}opaquer(X){return this._rgb.a*=1+X,this}negate(){const X=this._rgb;return X.r=255-X.r,X.g=255-X.g,X.b=255-X.b,this}lighten(X){return Oe(this._rgb,2,X),this}darken(X){return Oe(this._rgb,2,-X),this}saturate(X){return Oe(this._rgb,1,X),this}desaturate(X){return Oe(this._rgb,1,-X),this}rotate(X){return function kt(M,X){var le=Ct(M);le[0]=Gt(le[0]+X),le=Dt(le),M.r=le[0],M.g=le[1],M.b=le[2]}(this._rgb,X),this}}function ur(){}const lr=(()=>{let M=0;return()=>M++})();function hn(M){return null===M||typeof M>"u"}function Xn(M){if(Array.isArray&&Array.isArray(M))return!0;const X=Object.prototype.toString.call(M);return"[object"===X.slice(0,7)&&"Array]"===X.slice(-6)}function cn(M){return null!==M&&"[object Object]"===Object.prototype.toString.call(M)}function Pr(M){return("number"==typeof M||M instanceof Number)&&isFinite(+M)}function Wr(M,X){return Pr(M)?M:X}function Sr(M,X){return typeof M>"u"?X:M}const On=(M,X)=>"string"==typeof M&&M.endsWith("%")?parseFloat(M)/100:+M/X,Gr=(M,X)=>"string"==typeof M&&M.endsWith("%")?parseFloat(M)/100*X:+M;function Qr(M,X,le){if(M&&"function"==typeof M.call)return M.apply(le,X)}function br(M,X,le,De){let je,lt,At;if(Xn(M))if(lt=M.length,De)for(je=lt-1;je>=0;je--)X.call(le,M[je],je);else for(je=0;je<lt;je++)X.call(le,M[je],je);else if(cn(M))for(At=Object.keys(M),lt=At.length,je=0;je<lt;je++)X.call(le,M[At[je]],At[je])}function $r(M,X){let le,De,je,lt;if(!M||!X||M.length!==X.length)return!1;for(le=0,De=M.length;le<De;++le)if(je=M[le],lt=X[le],je.datasetIndex!==lt.datasetIndex||je.index!==lt.index)return!1;return!0}function ui(M){if(Xn(M))return M.map(ui);if(cn(M)){const X=Object.create(null),le=Object.keys(M),De=le.length;let je=0;for(;je<De;++je)X[le[je]]=ui(M[le[je]]);return X}return M}function nr(M){return-1===["__proto__","prototype","constructor"].indexOf(M)}function Zn(M,X,le,De){if(!nr(M))return;const je=X[M],lt=le[M];cn(je)&&cn(lt)?rr(je,lt,De):X[M]=ui(lt)}function rr(M,X,le){const De=Xn(X)?X:[X],je=De.length;if(!cn(M))return M;const lt=(le=le||{}).merger||Zn;let At;for(let Yt=0;Yt<je;++Yt){if(At=De[Yt],!cn(At))continue;const on=Object.keys(At);for(let Bn=0,sr=on.length;Bn<sr;++Bn)lt(on[Bn],M,At,le)}return M}function Ei(M,X){return rr(M,X,{merger:di})}function di(M,X,le){if(!nr(M))return;const De=X[M],je=le[M];cn(De)&&cn(je)?Ei(De,je):Object.prototype.hasOwnProperty.call(X,M)||(X[M]=ui(je))}const ri={"":M=>M,x:M=>M.x,y:M=>M.y};function pr(M,X){return(ri[X]||(ri[X]=function Er(M){const X=function oi(M){const X=M.split("."),le=[];let De="";for(const je of X)De+=je,De.endsWith("\\")?De=De.slice(0,-1)+".":(le.push(De),De="");return le}(M);return le=>{for(const De of X){if(""===De)break;le=le&&le[De]}return le}}(X)))(M)}function yi(M){return M.charAt(0).toUpperCase()+M.slice(1)}const Ar=M=>typeof M<"u",An=M=>"function"==typeof M,xe=(M,X)=>{if(M.size!==X.size)return!1;for(const le of M)if(!X.has(le))return!1;return!0};function gt(M){return"mouseup"===M.type||"click"===M.type||"contextmenu"===M.type}const Wt=Math.PI,In=2*Wt,Wn=In+Wt,Kr=Number.POSITIVE_INFINITY,Nr=Wt/180,Rr=Wt/2,yt=Wt/4,Te=2*Wt/3,se=Math.log10,ee=Math.sign;function oe(M,X,le){return Math.abs(M-X)<le}function qe(M){const X=Math.round(M);M=oe(M,X,M/1e3)?X:M;const le=Math.pow(10,Math.floor(se(M))),De=M/le;return(De<=1?1:De<=2?2:De<=5?5:10)*le}function xt(M){const X=[],le=Math.sqrt(M);let De;for(De=1;De<le;De++)M%De==0&&(X.push(De),X.push(M/De));return le===(0|le)&&X.push(le),X.sort((je,lt)=>je-lt).pop(),X}function rt(M){return!isNaN(parseFloat(M))&&isFinite(M)}function Vt(M,X){const le=Math.round(M);return le-X<=M&&le+X>=M}function nn(M,X,le){let De,je,lt;for(De=0,je=M.length;De<je;De++)lt=M[De][le],isNaN(lt)||(X.min=Math.min(X.min,lt),X.max=Math.max(X.max,lt))}function Tn(M){return M*(Wt/180)}function wn(M){return M*(180/Wt)}function Gn(M){if(!Pr(M))return;let X=1,le=0;for(;Math.round(M*X)/X!==M;)X*=10,le++;return le}function un(M,X){const le=X.x-M.x,De=X.y-M.y,je=Math.sqrt(le*le+De*De);let lt=Math.atan2(De,le);return lt<-.5*Wt&&(lt+=In),{angle:lt,distance:je}}function bn(M,X){return Math.sqrt(Math.pow(X.x-M.x,2)+Math.pow(X.y-M.y,2))}function Nn(M,X){return(M-X+Wn)%In-Wt}function Ft(M){return(M%In+In)%In}function Kt(M,X,le,De){const je=Ft(M),lt=Ft(X),At=Ft(le),Yt=Ft(lt-je),on=Ft(At-je),Bn=Ft(je-lt),sr=Ft(je-At);return je===lt||je===At||De&&lt===At||Yt>on&&Bn<sr}function mn(M,X,le){return Math.max(X,Math.min(le,M))}function Qn(M){return mn(M,-32768,32767)}function gr(M,X,le,De=1e-6){return M>=Math.min(X,le)-De&&M<=Math.max(X,le)+De}function Fr(M,X,le){le=le||(At=>M[At]<X);let lt,De=M.length-1,je=0;for(;De-je>1;)lt=je+De>>1,le(lt)?je=lt:De=lt;return{lo:je,hi:De}}const Or=(M,X,le,De)=>Fr(M,le,De?je=>{const lt=M[je][X];return lt<le||lt===le&&M[je+1][X]===le}:je=>M[je][X]<le),Ri=(M,X,le)=>Fr(M,le,De=>M[De][X]>=le);function Yr(M,X,le){let De=0,je=M.length;for(;De<je&&M[De]<X;)De++;for(;je>De&&M[je-1]>le;)je--;return De>0||je<M.length?M.slice(De,je):M}const jr=["push","pop","shift","splice","unshift"];function ei(M,X){M._chartjs?M._chartjs.listeners.push(X):(Object.defineProperty(M,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[X]}}),jr.forEach(le=>{const De="_onData"+yi(le),je=M[le];Object.defineProperty(M,le,{configurable:!0,enumerable:!1,value(...lt){const At=je.apply(this,lt);return M._chartjs.listeners.forEach(Yt=>{"function"==typeof Yt[De]&&Yt[De](...lt)}),At}})}))}function ns(M,X){const le=M._chartjs;if(!le)return;const De=le.listeners,je=De.indexOf(X);-1!==je&&De.splice(je,1),!(De.length>0)&&(jr.forEach(lt=>{delete M[lt]}),delete M._chartjs)}function uo(M){const X=new Set(M);return X.size===M.length?M:Array.from(X)}const cs=typeof window>"u"?function(M){return M()}:window.requestAnimationFrame;function rs(M,X){let le=[],De=!1;return function(...je){le=je,De||(De=!0,cs.call(window,()=>{De=!1,M.apply(X,le)}))}}function wo(M,X){let le;return function(...De){return X?(clearTimeout(le),le=setTimeout(M,X,De)):M.apply(this,De),X}}const as=M=>"start"===M?"left":"end"===M?"right":"center",zi=(M,X,le)=>"start"===M?X:"end"===M?le:(X+le)/2,qs=(M,X,le,De)=>M===(De?"left":"right")?le:"center"===M?(X+le)/2:X;function io(M,X,le){const De=X.length;let je=0,lt=De;if(M._sorted){const{iScale:At,_parsed:Yt}=M,on=At.axis,{min:Bn,max:sr,minDefined:vi,maxDefined:wr}=At.getUserBounds();vi&&(je=mn(Math.min(Or(Yt,on,Bn).lo,le?De:Or(X,on,At.getPixelForValue(Bn)).lo),0,De-1)),lt=wr?mn(Math.max(Or(Yt,At.axis,sr,!0).hi+1,le?0:Or(X,on,At.getPixelForValue(sr),!0).hi+1),je,De)-je:De-je}return{start:je,count:lt}}function Bs(M){const{xScale:X,yScale:le,_scaleRanges:De}=M,je={xmin:X.min,xmax:X.max,ymin:le.min,ymax:le.max};if(!De)return M._scaleRanges=je,!0;const lt=De.xmin!==X.min||De.xmax!==X.max||De.ymin!==le.min||De.ymax!==le.max;return Object.assign(De,je),lt}const Zs=M=>0===M||1===M,ie=(M,X,le)=>-Math.pow(2,10*(M-=1))*Math.sin((M-X)*In/le),pe=(M,X,le)=>Math.pow(2,-10*M)*Math.sin((M-X)*In/le)+1,ke={linear:M=>M,easeInQuad:M=>M*M,easeOutQuad:M=>-M*(M-2),easeInOutQuad:M=>(M/=.5)<1?.5*M*M:-.5*(--M*(M-2)-1),easeInCubic:M=>M*M*M,easeOutCubic:M=>(M-=1)*M*M+1,easeInOutCubic:M=>(M/=.5)<1?.5*M*M*M:.5*((M-=2)*M*M+2),easeInQuart:M=>M*M*M*M,easeOutQuart:M=>-((M-=1)*M*M*M-1),easeInOutQuart:M=>(M/=.5)<1?.5*M*M*M*M:-.5*((M-=2)*M*M*M-2),easeInQuint:M=>M*M*M*M*M,easeOutQuint:M=>(M-=1)*M*M*M*M+1,easeInOutQuint:M=>(M/=.5)<1?.5*M*M*M*M*M:.5*((M-=2)*M*M*M*M+2),easeInSine:M=>1-Math.cos(M*Rr),easeOutSine:M=>Math.sin(M*Rr),easeInOutSine:M=>-.5*(Math.cos(Wt*M)-1),easeInExpo:M=>0===M?0:Math.pow(2,10*(M-1)),easeOutExpo:M=>1===M?1:1-Math.pow(2,-10*M),easeInOutExpo:M=>Zs(M)?M:M<.5?.5*Math.pow(2,10*(2*M-1)):.5*(2-Math.pow(2,-10*(2*M-1))),easeInCirc:M=>M>=1?M:-(Math.sqrt(1-M*M)-1),easeOutCirc:M=>Math.sqrt(1-(M-=1)*M),easeInOutCirc:M=>(M/=.5)<1?-.5*(Math.sqrt(1-M*M)-1):.5*(Math.sqrt(1-(M-=2)*M)+1),easeInElastic:M=>Zs(M)?M:ie(M,.075,.3),easeOutElastic:M=>Zs(M)?M:pe(M,.075,.3),easeInOutElastic:M=>Zs(M)?M:M<.5?.5*ie(2*M,.1125,.45):.5+.5*pe(2*M-1,.1125,.45),easeInBack:M=>M*M*(2.70158*M-1.70158),easeOutBack:M=>(M-=1)*M*(2.70158*M+1.70158)+1,easeInOutBack(M){let X=1.70158;return(M/=.5)<1?M*M*((1+(X*=1.525))*M-X)*.5:.5*((M-=2)*M*((1+(X*=1.525))*M+X)+2)},easeInBounce:M=>1-ke.easeOutBounce(1-M),easeOutBounce:M=>M<1/2.75?7.5625*M*M:M<2/2.75?7.5625*(M-=1.5/2.75)*M+.75:M<2.5/2.75?7.5625*(M-=2.25/2.75)*M+.9375:7.5625*(M-=2.625/2.75)*M+.984375,easeInOutBounce:M=>M<.5?.5*ke.easeInBounce(2*M):.5*ke.easeOutBounce(2*M-1)+.5};function _e(M){if(M&&"object"==typeof M){const X=M.toString();return"[object CanvasPattern]"===X||"[object CanvasGradient]"===X}return!1}function re(M){return _e(M)?M:new _n(M)}function ye(M){return _e(M)?M:new _n(M).saturate(.5).darken(.1).hexString()}const st=["x","y","borderWidth","radius","tension"],It=["color","borderColor","backgroundColor"],Ln=new Map;function Lr(M,X,le){return function Hn(M,X){X=X||{};const le=M+JSON.stringify(X);let De=Ln.get(le);return De||(De=new Intl.NumberFormat(M,X),Ln.set(le,De)),De}(X,le).format(M)}const ai={values:M=>Xn(M)?M:""+M,numeric(M,X,le){if(0===M)return"0";const De=this.chart.options.locale;let je,lt=M;if(le.length>1){const Bn=Math.max(Math.abs(le[0].value),Math.abs(le[le.length-1].value));(Bn<1e-4||Bn>1e15)&&(je="scientific"),lt=function ms(M,X){let le=X.length>3?X[2].value-X[1].value:X[1].value-X[0].value;return Math.abs(le)>=1&&M!==Math.floor(M)&&(le=M-Math.floor(M)),le}(M,le)}const At=se(Math.abs(lt)),Yt=isNaN(At)?1:Math.max(Math.min(-1*Math.floor(At),20),0),on={notation:je,minimumFractionDigits:Yt,maximumFractionDigits:Yt};return Object.assign(on,this.options.ticks.format),Lr(M,De,on)},logarithmic(M,X,le){if(0===M)return"0";const De=le[X].significand||M/Math.pow(10,Math.floor(se(M)));return[1,2,3,5,10,15].includes(De)||X>.8*le.length?ai.numeric.call(this,M,X,le):""}};var Qi={formatters:ai};const Li=Object.create(null),ir=Object.create(null);function qr(M,X){if(!X)return M;const le=X.split(".");for(let De=0,je=le.length;De<je;++De){const lt=le[De];M=M[lt]||(M[lt]=Object.create(null))}return M}function $i(M,X,le){return"string"==typeof X?rr(qr(M,X),le):rr(qr(M,""),X)}class Rs{constructor(X,le){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=De=>De.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(De,je)=>ye(je.backgroundColor),this.hoverBorderColor=(De,je)=>ye(je.borderColor),this.hoverColor=(De,je)=>ye(je.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(X),this.apply(le)}set(X,le){return $i(this,X,le)}get(X){return qr(this,X)}describe(X,le){return $i(ir,X,le)}override(X,le){return $i(Li,X,le)}route(X,le,De,je){const lt=qr(this,X),At=qr(this,De),Yt="_"+le;Object.defineProperties(lt,{[Yt]:{value:lt[le],writable:!0},[le]:{enumerable:!0,get(){const on=this[Yt],Bn=At[je];return cn(on)?Object.assign({},Bn,on):Sr(on,Bn)},set(on){this[Yt]=on}}})}apply(X){X.forEach(le=>le(this))}}var Io=new Rs({_scriptable:M=>!M.startsWith("on"),_indexable:M=>"events"!==M,hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[function Bt(M){M.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),M.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:X=>"onProgress"!==X&&"onComplete"!==X&&"fn"!==X}),M.set("animations",{colors:{type:"color",properties:It},numbers:{type:"number",properties:st}}),M.describe("animations",{_fallback:"animation"}),M.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:X=>0|X}}}})},function tn(M){M.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})},function $s(M){M.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(X,le)=>le.lineWidth,tickColor:(X,le)=>le.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:Qi.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),M.route("scale.ticks","color","","color"),M.route("scale.grid","color","","borderColor"),M.route("scale.border","color","","borderColor"),M.route("scale.title","color","","color"),M.describe("scale",{_fallback:!1,_scriptable:X=>!X.startsWith("before")&&!X.startsWith("after")&&"callback"!==X&&"parser"!==X,_indexable:X=>"borderDash"!==X&&"tickBorderDash"!==X&&"dash"!==X}),M.describe("scales",{_fallback:"scale"}),M.describe("scale.ticks",{_scriptable:X=>"backdropPadding"!==X&&"callback"!==X,_indexable:X=>"backdropPadding"!==X})}]);function go(M,X,le,De,je){let lt=X[je];return lt||(lt=X[je]=M.measureText(je).width,le.push(je)),lt>De&&(De=lt),De}function Ki(M,X,le,De){let je=(De=De||{}).data=De.data||{},lt=De.garbageCollect=De.garbageCollect||[];De.font!==X&&(je=De.data={},lt=De.garbageCollect=[],De.font=X),M.save(),M.font=X;let At=0;const Yt=le.length;let on,Bn,sr,vi,wr;for(on=0;on<Yt;on++)if(vi=le[on],null==vi||Xn(vi)){if(Xn(vi))for(Bn=0,sr=vi.length;Bn<sr;Bn++)wr=vi[Bn],null!=wr&&!Xn(wr)&&(At=go(M,je,lt,At,wr))}else At=go(M,je,lt,At,vi);M.restore();const Fs=lt.length/2;if(Fs>le.length){for(on=0;on<Fs;on++)delete je[lt[on]];lt.splice(0,Fs)}return At}function Ds(M,X,le){const De=M.currentDevicePixelRatio,je=0!==le?Math.max(le/2,.5):0;return Math.round((X-je)*De)/De+je}function ys(M,X){(X=X||M.getContext("2d")).save(),X.resetTransform(),X.clearRect(0,0,M.width,M.height),X.restore()}function Zr(M,X,le,De){Js(M,X,le,De,null)}function Js(M,X,le,De,je){let lt,At,Yt,on,Bn,sr,vi,wr;const Fs=X.pointStyle,lo=X.rotation,q=X.radius;let he=(lo||0)*Nr;if(Fs&&"object"==typeof Fs&&(lt=Fs.toString(),"[object HTMLImageElement]"===lt||"[object HTMLCanvasElement]"===lt))return M.save(),M.translate(le,De),M.rotate(he),M.drawImage(Fs,-Fs.width/2,-Fs.height/2,Fs.width,Fs.height),void M.restore();if(!(isNaN(q)||q<=0)){switch(M.beginPath(),Fs){default:je?M.ellipse(le,De,je/2,q,0,0,In):M.arc(le,De,q,0,In),M.closePath();break;case"triangle":sr=je?je/2:q,M.moveTo(le+Math.sin(he)*sr,De-Math.cos(he)*q),he+=Te,M.lineTo(le+Math.sin(he)*sr,De-Math.cos(he)*q),he+=Te,M.lineTo(le+Math.sin(he)*sr,De-Math.cos(he)*q),M.closePath();break;case"rectRounded":Bn=.516*q,on=q-Bn,At=Math.cos(he+yt)*on,vi=Math.cos(he+yt)*(je?je/2-Bn:on),Yt=Math.sin(he+yt)*on,wr=Math.sin(he+yt)*(je?je/2-Bn:on),M.arc(le-vi,De-Yt,Bn,he-Wt,he-Rr),M.arc(le+wr,De-At,Bn,he-Rr,he),M.arc(le+vi,De+Yt,Bn,he,he+Rr),M.arc(le-wr,De+At,Bn,he+Rr,he+Wt),M.closePath();break;case"rect":if(!lo){on=Math.SQRT1_2*q,sr=je?je/2:on,M.rect(le-sr,De-on,2*sr,2*on);break}he+=yt;case"rectRot":vi=Math.cos(he)*(je?je/2:q),At=Math.cos(he)*q,Yt=Math.sin(he)*q,wr=Math.sin(he)*(je?je/2:q),M.moveTo(le-vi,De-Yt),M.lineTo(le+wr,De-At),M.lineTo(le+vi,De+Yt),M.lineTo(le-wr,De+At),M.closePath();break;case"crossRot":he+=yt;case"cross":vi=Math.cos(he)*(je?je/2:q),At=Math.cos(he)*q,Yt=Math.sin(he)*q,wr=Math.sin(he)*(je?je/2:q),M.moveTo(le-vi,De-Yt),M.lineTo(le+vi,De+Yt),M.moveTo(le+wr,De-At),M.lineTo(le-wr,De+At);break;case"star":vi=Math.cos(he)*(je?je/2:q),At=Math.cos(he)*q,Yt=Math.sin(he)*q,wr=Math.sin(he)*(je?je/2:q),M.moveTo(le-vi,De-Yt),M.lineTo(le+vi,De+Yt),M.moveTo(le+wr,De-At),M.lineTo(le-wr,De+At),he+=yt,vi=Math.cos(he)*(je?je/2:q),At=Math.cos(he)*q,Yt=Math.sin(he)*q,wr=Math.sin(he)*(je?je/2:q),M.moveTo(le-vi,De-Yt),M.lineTo(le+vi,De+Yt),M.moveTo(le+wr,De-At),M.lineTo(le-wr,De+At);break;case"line":At=je?je/2:Math.cos(he)*q,Yt=Math.sin(he)*q,M.moveTo(le-At,De-Yt),M.lineTo(le+At,De+Yt);break;case"dash":M.moveTo(le,De),M.lineTo(le+Math.cos(he)*(je?je/2:q),De+Math.sin(he)*q);break;case!1:M.closePath()}M.fill(),X.borderWidth>0&&M.stroke()}}function ho(M,X,le){return le=le||.5,!X||M&&M.x>X.left-le&&M.x<X.right+le&&M.y>X.top-le&&M.y<X.bottom+le}function Oi(M,X){M.save(),M.beginPath(),M.rect(X.left,X.top,X.right-X.left,X.bottom-X.top),M.clip()}function Vr(M){M.restore()}function Di(M,X,le,De,je){if(!X)return M.lineTo(le.x,le.y);if("middle"===je){const lt=(X.x+le.x)/2;M.lineTo(lt,X.y),M.lineTo(lt,le.y)}else"after"===je!=!!De?M.lineTo(X.x,le.y):M.lineTo(le.x,X.y);M.lineTo(le.x,le.y)}function pi(M,X,le,De){if(!X)return M.lineTo(le.x,le.y);M.bezierCurveTo(De?X.cp1x:X.cp2x,De?X.cp1y:X.cp2y,De?le.cp2x:le.cp1x,De?le.cp2y:le.cp1y,le.x,le.y)}function Vi(M,X,le,De,je){if(je.strikethrough||je.underline){const lt=M.measureText(De),At=X-lt.actualBoundingBoxLeft,Yt=X+lt.actualBoundingBoxRight,Bn=le+lt.actualBoundingBoxDescent,sr=je.strikethrough?(le-lt.actualBoundingBoxAscent+Bn)/2:Bn;M.strokeStyle=M.fillStyle,M.beginPath(),M.lineWidth=je.decorationWidth||2,M.moveTo(At,sr),M.lineTo(Yt,sr),M.stroke()}}function To(M,X){const le=M.fillStyle;M.fillStyle=X.color,M.fillRect(X.left,X.top,X.width,X.height),M.fillStyle=le}function Co(M,X,le,De,je,lt={}){const At=Xn(X)?X:[X],Yt=lt.strokeWidth>0&&""!==lt.strokeColor;let on,Bn;for(M.save(),M.font=je.string,function Vs(M,X){X.translation&&M.translate(X.translation[0],X.translation[1]),hn(X.rotation)||M.rotate(X.rotation),X.color&&(M.fillStyle=X.color),X.textAlign&&(M.textAlign=X.textAlign),X.textBaseline&&(M.textBaseline=X.textBaseline)}(M,lt),on=0;on<At.length;++on)Bn=At[on],lt.backdrop&&To(M,lt.backdrop),Yt&&(lt.strokeColor&&(M.strokeStyle=lt.strokeColor),hn(lt.strokeWidth)||(M.lineWidth=lt.strokeWidth),M.strokeText(Bn,le,De,lt.maxWidth)),M.fillText(Bn,le,De,lt.maxWidth),Vi(M,le,De,Bn,lt),De+=Number(je.lineHeight);M.restore()}function Xs(M,X){const{x:le,y:De,w:je,h:lt,radius:At}=X;M.arc(le+At.topLeft,De+At.topLeft,At.topLeft,1.5*Wt,Wt,!0),M.lineTo(le,De+lt-At.bottomLeft),M.arc(le+At.bottomLeft,De+lt-At.bottomLeft,At.bottomLeft,Wt,Rr,!0),M.lineTo(le+je-At.bottomRight,De+lt),M.arc(le+je-At.bottomRight,De+lt-At.bottomRight,At.bottomRight,Rr,0,!0),M.lineTo(le+je,De+At.topRight),M.arc(le+je-At.topRight,De+At.topRight,At.topRight,0,-Rr,!0),M.lineTo(le+At.topLeft,De)}const Yo=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,Ai=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function hr(M,X){const le=(""+M).match(Yo);if(!le||"normal"===le[1])return 1.2*X;switch(M=+le[2],le[3]){case"px":return M;case"%":M/=100}return X*M}const Os=M=>+M||0;function so(M,X){const le={},De=cn(X),je=De?Object.keys(X):X,lt=cn(M)?De?At=>Sr(M[At],M[X[At]]):At=>M[At]:()=>M;for(const At of je)le[At]=Os(lt(At));return le}function Wo(M){return so(M,{top:"y",right:"x",bottom:"y",left:"x"})}function ss(M){return so(M,["topLeft","topRight","bottomLeft","bottomRight"])}function Do(M){const X=Wo(M);return X.width=X.left+X.right,X.height=X.top+X.bottom,X}function Ao(M,X){let le=Sr((M=M||{}).size,(X=X||Io.font).size);"string"==typeof le&&(le=parseInt(le,10));let De=Sr(M.style,X.style);De&&!(""+De).match(Ai)&&(console.warn('Invalid font style specified: "'+De+'"'),De=void 0);const je={family:Sr(M.family,X.family),lineHeight:hr(Sr(M.lineHeight,X.lineHeight),le),size:le,style:De,weight:Sr(M.weight,X.weight),string:""};return je.string=function us(M){return!M||hn(M.size)||hn(M.family)?null:(M.style?M.style+" ":"")+(M.weight?M.weight+" ":"")+M.size+"px "+M.family}(je),je}function Oo(M,X,le,De){let lt,At,Yt,je=!0;for(lt=0,At=M.length;lt<At;++lt)if(Yt=M[lt],void 0!==Yt&&(void 0!==X&&"function"==typeof Yt&&(Yt=Yt(X),je=!1),void 0!==le&&Xn(Yt)&&(Yt=Yt[le%Yt.length],je=!1),void 0!==Yt))return De&&!je&&(De.cacheable=!1),Yt}function Es(M,X,le){const{min:De,max:je}=M,lt=Gr(X,(je-De)/2),At=(Yt,on)=>le&&0===Yt?0:Yt+on;return{min:At(De,-Math.abs(lt)),max:At(je,lt)}}function ko(M,X){return Object.assign(Object.create(M),X)}function Ws(M,X=[""],le,De,je=(()=>M[0])){const lt=le||M;typeof De>"u"&&(De=k("_fallback",M));const At={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:M,_rootScopes:lt,_fallback:De,_getTarget:je,override:Yt=>Ws([Yt,...M],X,lt,De)};return new Proxy(At,{deleteProperty:(Yt,on)=>(delete Yt[on],delete Yt._keys,delete M[0][on],!0),get:(Yt,on)=>xo(Yt,on,()=>function oo(M,X,le,De){let je;for(const lt of X)if(je=k(Bo(lt,M),le),typeof je<"u")return So(M,je)?$o(le,De,M,je):je}(on,X,M,Yt)),getOwnPropertyDescriptor:(Yt,on)=>Reflect.getOwnPropertyDescriptor(Yt._scopes[0],on),getPrototypeOf:()=>Reflect.getPrototypeOf(M[0]),has:(Yt,on)=>ue(Yt).includes(on),ownKeys:Yt=>ue(Yt),set(Yt,on,Bn){const sr=Yt._storage||(Yt._storage=je());return Yt[on]=sr[on]=Bn,delete Yt._keys,!0}})}function Yi(M,X,le,De){const je={_cacheable:!1,_proxy:M,_context:X,_subProxy:le,_stack:new Set,_descriptors:qo(M,De),setContext:lt=>Yi(M,lt,le,De),override:lt=>Yi(M.override(lt),X,le,De)};return new Proxy(je,{deleteProperty:(lt,At)=>(delete lt[At],delete M[At],!0),get:(lt,At,Yt)=>xo(lt,At,()=>function mo(M,X,le){const{_proxy:De,_context:je,_subProxy:lt,_descriptors:At}=M;let Yt=De[X];return An(Yt)&&At.isScriptable(X)&&(Yt=function Zo(M,X,le,De){const{_proxy:je,_context:lt,_subProxy:At,_stack:Yt}=le;if(Yt.has(M))throw new Error("Recursion detected: "+Array.from(Yt).join("->")+"->"+M);Yt.add(M);let on=X(lt,At||De);return Yt.delete(M),So(M,on)&&(on=$o(je._scopes,je,M,on)),on}(X,Yt,M,le)),Xn(Yt)&&Yt.length&&(Yt=function Us(M,X,le,De){const{_proxy:je,_context:lt,_subProxy:At,_descriptors:Yt}=le;if(typeof lt.index<"u"&&De(M))return X[lt.index%X.length];if(cn(X[0])){const on=X,Bn=je._scopes.filter(sr=>sr!==on);X=[];for(const sr of on){const vi=$o(Bn,je,M,sr);X.push(Yi(vi,lt,At&&At[M],Yt))}}return X}(X,Yt,M,At.isIndexable)),So(X,Yt)&&(Yt=Yi(Yt,je,lt&&lt[X],At)),Yt}(lt,At,Yt)),getOwnPropertyDescriptor:(lt,At)=>lt._descriptors.allKeys?Reflect.has(M,At)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(M,At),getPrototypeOf:()=>Reflect.getPrototypeOf(M),has:(lt,At)=>Reflect.has(M,At),ownKeys:()=>Reflect.ownKeys(M),set:(lt,At,Yt)=>(M[At]=Yt,delete lt[At],!0)})}function qo(M,X={scriptable:!0,indexable:!0}){const{_scriptable:le=X.scriptable,_indexable:De=X.indexable,_allKeys:je=X.allKeys}=M;return{allKeys:je,scriptable:le,indexable:De,isScriptable:An(le)?le:()=>le,isIndexable:An(De)?De:()=>De}}const Bo=(M,X)=>M?M+yi(X):X,So=(M,X)=>cn(X)&&"adapters"!==M&&(null===Object.getPrototypeOf(X)||X.constructor===Object);function xo(M,X,le){if(Object.prototype.hasOwnProperty.call(M,X))return M[X];const De=le();return M[X]=De,De}function gi(M,X,le){return An(M)?M(X,le):M}const No=(M,X)=>!0===M?X:"string"==typeof M?pr(X,M):void 0;function ds(M,X,le,De,je){for(const lt of X){const At=No(le,lt);if(At){M.add(At);const Yt=gi(At._fallback,le,je);if(typeof Yt<"u"&&Yt!==le&&Yt!==De)return Yt}else if(!1===At&&typeof De<"u"&&le!==De)return null}return!1}function $o(M,X,le,De){const je=X._rootScopes,lt=gi(X._fallback,le,De),At=[...M,...je],Yt=new Set;Yt.add(De);let on=ks(Yt,At,le,lt||le,De);return!(null===on||typeof lt<"u"&&lt!==le&&(on=ks(Yt,At,lt,on,De),null===on))&&Ws(Array.from(Yt),[""],je,lt,()=>function Vo(M,X,le){const De=M._getTarget();X in De||(De[X]={});const je=De[X];return Xn(je)&&cn(le)?le:je||{}}(X,le,De))}function ks(M,X,le,De,je){for(;le;)le=ds(M,X,le,De,je);return le}function k(M,X){for(const le of X){if(!le)continue;const De=le[M];if(typeof De<"u")return De}}function ue(M){let X=M._keys;return X||(X=M._keys=function N(M){const X=new Set;for(const le of M)for(const De of Object.keys(le).filter(je=>!je.startsWith("_")))X.add(De);return Array.from(X)}(M._scopes)),X}function de(M,X,le,De){const{iScale:je}=M,{key:lt="r"}=this._parsing,At=new Array(De);let Yt,on,Bn,sr;for(Yt=0,on=De;Yt<on;++Yt)Bn=Yt+le,sr=X[Bn],At[Yt]={r:je.parse(pr(sr,lt),Bn)};return At}const Ze=Number.EPSILON||1e-14,Sn=(M,X)=>X<M.length&&!M[X].skip&&M[X],xr=M=>"x"===M?"y":"x";function Jr(M,X,le,De){const je=M.skip?X:M,lt=X,At=le.skip?X:le,Yt=bn(lt,je),on=bn(At,lt);let Bn=Yt/(Yt+on),sr=on/(Yt+on);Bn=isNaN(Bn)?0:Bn,sr=isNaN(sr)?0:sr;const vi=De*Bn,wr=De*sr;return{previous:{x:lt.x-vi*(At.x-je.x),y:lt.y-vi*(At.y-je.y)},next:{x:lt.x+wr*(At.x-je.x),y:lt.y+wr*(At.y-je.y)}}}function ws(M,X,le){return Math.max(Math.min(M,le),X)}function Fo(M,X,le,De,je){let lt,At,Yt,on;if(X.spanGaps&&(M=M.filter(Bn=>!Bn.skip)),"monotone"===X.cubicInterpolationMode)!function js(M,X="x"){const le=xr(X),De=M.length,je=Array(De).fill(0),lt=Array(De);let At,Yt,on,Bn=Sn(M,0);for(At=0;At<De;++At)if(Yt=on,on=Bn,Bn=Sn(M,At+1),on){if(Bn){const sr=Bn[X]-on[X];je[At]=0!==sr?(Bn[le]-on[le])/sr:0}lt[At]=Yt?Bn?ee(je[At-1])!==ee(je[At])?0:(je[At-1]+je[At])/2:je[At-1]:je[At]}(function xi(M,X,le){const De=M.length;let je,lt,At,Yt,on,Bn=Sn(M,0);for(let sr=0;sr<De-1;++sr)if(on=Bn,Bn=Sn(M,sr+1),on&&Bn){if(oe(X[sr],0,Ze)){le[sr]=le[sr+1]=0;continue}je=le[sr]/X[sr],lt=le[sr+1]/X[sr],Yt=Math.pow(je,2)+Math.pow(lt,2),!(Yt<=9)&&(At=3/Math.sqrt(Yt),le[sr]=je*At*X[sr],le[sr+1]=lt*At*X[sr])}})(M,je,lt),function Si(M,X,le="x"){const De=xr(le),je=M.length;let lt,At,Yt,on=Sn(M,0);for(let Bn=0;Bn<je;++Bn){if(At=Yt,Yt=on,on=Sn(M,Bn+1),!Yt)continue;const sr=Yt[le],vi=Yt[De];At&&(lt=(sr-At[le])/3,Yt[`cp1${le}`]=sr-lt,Yt[`cp1${De}`]=vi-lt*X[Bn]),on&&(lt=(on[le]-sr)/3,Yt[`cp2${le}`]=sr+lt,Yt[`cp2${De}`]=vi+lt*X[Bn])}}(M,lt,X)}(M,je);else{let Bn=De?M[M.length-1]:M[0];for(lt=0,At=M.length;lt<At;++lt)Yt=M[lt],on=Jr(Bn,Yt,M[Math.min(lt+1,At-(De?0:1))%At],X.tension),Yt.cp1x=on.previous.x,Yt.cp1y=on.previous.y,Yt.cp2x=on.next.x,Yt.cp2y=on.next.y,Bn=Yt}X.capBezierPoints&&function eo(M,X){let le,De,je,lt,At,Yt=ho(M[0],X);for(le=0,De=M.length;le<De;++le)At=lt,lt=Yt,Yt=le<De-1&&ho(M[le+1],X),lt&&(je=M[le],At&&(je.cp1x=ws(je.cp1x,X.left,X.right),je.cp1y=ws(je.cp1y,X.top,X.bottom)),Yt&&(je.cp2x=ws(je.cp2x,X.left,X.right),je.cp2y=ws(je.cp2y,X.top,X.bottom)))}(M,le)}function be(){return typeof window<"u"&&typeof document<"u"}function ae(M){let X=M.parentNode;return X&&"[object ShadowRoot]"===X.toString()&&(X=X.host),X}function $(M,X,le){let De;return"string"==typeof M?(De=parseInt(M,10),-1!==M.indexOf("%")&&(De=De/100*X.parentNode[le])):De=M,De}const L=M=>M.ownerDocument.defaultView.getComputedStyle(M,null),F=["top","right","bottom","left"];function fe(M,X,le){const De={};le=le?"-"+le:"";for(let je=0;je<4;je++){const lt=F[je];De[lt]=parseFloat(M[X+"-"+lt+le])||0}return De.width=De.left+De.right,De.height=De.top+De.bottom,De}const dt=(M,X,le)=>(M>0||X>0)&&(!le||!le.shadowRoot);function Ht(M,X){if("native"in M)return M;const{canvas:le,currentDevicePixelRatio:De}=X,je=L(le),lt="border-box"===je.boxSizing,At=fe(je,"padding"),Yt=fe(je,"border","width"),{x:on,y:Bn,box:sr}=function Ot(M,X){const le=M.touches,De=le&&le.length?le[0]:M,{offsetX:je,offsetY:lt}=De;let Yt,on,At=!1;if(dt(je,lt,M.target))Yt=je,on=lt;else{const Bn=X.getBoundingClientRect();Yt=De.clientX-Bn.left,on=De.clientY-Bn.top,At=!0}return{x:Yt,y:on,box:At}}(M,le),vi=At.left+(sr&&Yt.left),wr=At.top+(sr&&Yt.top);let{width:Fs,height:lo}=X;return lt&&(Fs-=At.width+Yt.width,lo-=At.height+Yt.height),{x:Math.round((on-vi)/Fs*le.width/De),y:Math.round((Bn-wr)/lo*le.height/De)}}const zr=M=>Math.round(10*M)/10;function ii(M,X,le,De){const je=L(M),lt=fe(je,"margin"),At=$(je.maxWidth,M,"clientWidth")||Kr,Yt=$(je.maxHeight,M,"clientHeight")||Kr,on=function Pn(M,X,le){let De,je;if(void 0===X||void 0===le){const lt=ae(M);if(lt){const At=lt.getBoundingClientRect(),Yt=L(lt),on=fe(Yt,"border","width"),Bn=fe(Yt,"padding");X=At.width-Bn.width-on.width,le=At.height-Bn.height-on.height,De=$(Yt.maxWidth,lt,"clientWidth"),je=$(Yt.maxHeight,lt,"clientHeight")}else X=M.clientWidth,le=M.clientHeight}return{width:X,height:le,maxWidth:De||Kr,maxHeight:je||Kr}}(M,X,le);let{width:Bn,height:sr}=on;if("content-box"===je.boxSizing){const wr=fe(je,"border","width"),Fs=fe(je,"padding");Bn-=Fs.width+wr.width,sr-=Fs.height+wr.height}return Bn=Math.max(0,Bn-lt.width),sr=Math.max(0,De?Bn/De:sr-lt.height),Bn=zr(Math.min(Bn,At,on.maxWidth)),sr=zr(Math.min(sr,Yt,on.maxHeight)),Bn&&!sr&&(sr=zr(Bn/2)),(void 0!==X||void 0!==le)&&De&&on.height&&sr>on.height&&(sr=on.height,Bn=zr(Math.floor(sr*De))),{width:Bn,height:sr}}function Tr(M,X,le){const De=X||1,je=Math.floor(M.height*De),lt=Math.floor(M.width*De);M.height=Math.floor(M.height),M.width=Math.floor(M.width);const At=M.canvas;return At.style&&(le||!At.style.height&&!At.style.width)&&(At.style.height=`${M.height}px`,At.style.width=`${M.width}px`),(M.currentDevicePixelRatio!==De||At.height!==je||At.width!==lt)&&(M.currentDevicePixelRatio=De,At.height=je,At.width=lt,M.ctx.setTransform(De,0,0,De,0,0),!0)}const hi=function(){let M=!1;try{const X={get passive(){return M=!0,!1}};window.addEventListener("test",null,X),window.removeEventListener("test",null,X)}catch{}return M}();function _i(M,X){const le=function D(M,X){return L(M).getPropertyValue(X)}(M,X),De=le&&le.match(/^(\d+)(\.\d+)?px$/);return De?+De[1]:void 0}function qi(M,X,le,De){return{x:M.x+le*(X.x-M.x),y:M.y+le*(X.y-M.y)}}function ao(M,X,le,De){return{x:M.x+le*(X.x-M.x),y:"middle"===De?le<.5?M.y:X.y:"after"===De?le<1?M.y:X.y:le>0?X.y:M.y}}function hs(M,X,le,De){const je={x:M.cp2x,y:M.cp2y},lt={x:X.cp1x,y:X.cp1y},At=qi(M,je,le),Yt=qi(je,lt,le),on=qi(lt,X,le),Bn=qi(At,Yt,le),sr=qi(Yt,on,le);return qi(Bn,sr,le)}const Ss=function(M,X){return{x:le=>M+M+X-le,setWidth(le){X=le},textAlign:le=>"center"===le?le:"right"===le?"left":"right",xPlus:(le,De)=>le-De,leftForLtr:(le,De)=>le-De}},Ti=function(){return{x:M=>M,setWidth(M){},textAlign:M=>M,xPlus:(M,X)=>M+X,leftForLtr:(M,X)=>M}};function Ns(M,X,le){return M?Ss(X,le):Ti()}function fo(M,X){let le,De;("ltr"===X||"rtl"===X)&&(le=M.canvas.style,De=[le.getPropertyValue("direction"),le.getPropertyPriority("direction")],le.setProperty("direction",X,"important"),M.prevTextDirection=De)}function Xo(M,X){void 0!==X&&(delete M.prevTextDirection,M.canvas.style.setProperty("direction",X[0],X[1]))}function Lo(M){return"angle"===M?{between:Kt,compare:Nn,normalize:Ft}:{between:gr,compare:(X,le)=>X-le,normalize:X=>X}}function ya({start:M,end:X,count:le,loop:De,style:je}){return{start:M%le,end:X%le,loop:De&&(X-M+1)%le==0,style:je}}function Na(M,X,le){if(!le)return[M];const{property:De,start:je,end:lt}=le,At=X.length,{compare:Yt,between:on,normalize:Bn}=Lo(De),{start:sr,end:vi,loop:wr,style:Fs}=function oa(M,X,le){const{property:De,start:je,end:lt}=le,{between:At,normalize:Yt}=Lo(De),on=X.length;let wr,Fs,{start:Bn,end:sr,loop:vi}=M;if(vi){for(Bn+=on,sr+=on,wr=0,Fs=on;wr<Fs&&At(Yt(X[Bn%on][De]),je,lt);++wr)Bn--,sr--;Bn%=on,sr%=on}return sr<Bn&&(sr+=on),{start:Bn,end:sr,loop:vi,style:M.style}}(M,X,le),lo=[];let J,Ne,bt,q=!1,he=null;for(let Wi=sr,wi=sr;Wi<=vi;++Wi)Ne=X[Wi%At],!Ne.skip&&(J=Bn(Ne[De]),J!==bt&&(q=on(J,je,lt),null===he&&(q||on(je,bt,J)&&0!==Yt(je,bt))&&(he=0===Yt(J,je)?Wi:wi),null!==he&&(!q||0===Yt(lt,J)||on(lt,bt,J))&&(lo.push(ya({start:he,end:Wi,loop:wr,count:At,style:Fs})),he=null),wi=Wi,bt=J));return null!==he&&lo.push(ya({start:he,end:vi,loop:wr,count:At,style:Fs})),lo}function ja(M,X){const le=[],De=M.segments;for(let je=0;je<De.length;je++){const lt=Na(De[je],M.points,X);lt.length&&le.push(...lt)}return le}function Ts(M,X){const le=M.points,De=M.options.spanGaps,je=le.length;if(!je)return[];const lt=!!M._loop,{start:At,end:Yt}=function Qo(M,X,le,De){let je=0,lt=X-1;if(le&&!De)for(;je<X&&!M[je].skip;)je++;for(;je<X&&M[je].skip;)je++;for(je%=X,le&&(lt+=je);lt>je&&M[lt%X].skip;)lt--;return lt%=X,{start:je,end:lt}}(le,je,lt,De);return gl(M,!0===De?[{start:At,end:Yt,loop:lt}]:function za(M,X,le,De){const je=M.length,lt=[];let on,At=X,Yt=M[X];for(on=X+1;on<=le;++on){const Bn=M[on%je];Bn.skip||Bn.stop?Yt.skip||(lt.push({start:X%je,end:(on-1)%je,loop:De=!1}),X=At=Bn.stop?on:null):(At=on,Yt.skip&&(X=on)),Yt=Bn}return null!==At&&lt.push({start:X%je,end:At%je,loop:De}),lt}(le,At,Yt<At?Yt+je:Yt,!!M._fullLoop&&0===At&&Yt===je-1),le,X)}function gl(M,X,le,De){return De&&De.setContext&&le?function Fa(M,X,le,De){const je=M._chart.getContext(),lt=zo(M.options),{_datasetIndex:At,options:{spanGaps:Yt}}=M,on=le.length,Bn=[];let sr=lt,vi=X[0].start,wr=vi;function Fs(lo,q,he,J){const Ne=Yt?-1:1;if(lo!==q){for(lo+=on;le[lo%on].skip;)lo-=Ne;for(;le[q%on].skip;)q+=Ne;lo%on!=q%on&&(Bn.push({start:lo%on,end:q%on,loop:he,style:J}),sr=J,vi=q%on)}}for(const lo of X){vi=Yt?vi:lo.start;let he,q=le[vi%on];for(wr=vi+1;wr<=lo.end;wr++){const J=le[wr%on];he=zo(De.setContext(ko(je,{type:"segment",p0:q,p1:J,p0DataIndex:(wr-1)%on,p1DataIndex:wr%on,datasetIndex:At}))),sl(he,sr)&&Fs(vi,wr-1,lo.loop,sr),q=J,sr=he}vi<wr-1&&Fs(vi,wr-1,lo.loop,sr)}return Bn}(M,X,le,De):X}function zo(M){return{backgroundColor:M.backgroundColor,borderCapStyle:M.borderCapStyle,borderDash:M.borderDash,borderDashOffset:M.borderDashOffset,borderJoinStyle:M.borderJoinStyle,borderWidth:M.borderWidth,borderColor:M.borderColor}}function sl(M,X){if(!X)return!1;const le=[],De=function(je,lt){return _e(lt)?(le.includes(lt)||le.push(lt),le.indexOf(lt)):lt};return JSON.stringify(M,De)!==JSON.stringify(X,De)}},5132:(er,Nt,H)=>{"use strict";H.d(Nt,{Gb:()=>d.Gb});var d=H(579)},259:(er,Nt,H)=>{"use strict";H.d(Nt,{C6:()=>d.getApps,KN:()=>d.registerVersion,Mq:()=>d.getApp,ZF:()=>d.initializeApp});var d=H(6881);(0,d.registerVersion)("firebase","9.22.0","app")},9260:(er,Nt,H)=>{"use strict";H.d(Nt,{Z:()=>d.Z});var d=H(3942);d.Z.registerVersion("firebase","9.22.0","app-compat")},9568:(er,Nt,H)=>{"use strict";H.r(Nt);var d=H(5861),v=H(3942),ve=H(1389),Fe=H(2090),Se=(H(6881),H(1877),H(4859));function Re(){return window}function Me(){return Me=(0,d.Z)(function*(se,ee,oe){var qe;const{BuildInfo:xt}=Re();(0,ve.as)(ee.sessionId,"AuthEvent did not contain a session ID");const rt=yield function $e(se){return Lt.apply(this,arguments)}(ee.sessionId),Vt={};return(0,ve.at)()?Vt.ibi=xt.packageName:(0,ve.au)()?Vt.apn=xt.packageName:(0,ve.av)(se,"operation-not-supported-in-this-environment"),xt.displayName&&(Vt.appDisplayName=xt.displayName),Vt.sessionId=rt,(0,ve.aw)(se,oe,ee.type,void 0,null!==(qe=ee.eventId)&&void 0!==qe?qe:void 0,Vt)}),Me.apply(this,arguments)}function Pe(){return(Pe=(0,d.Z)(function*(se){const{BuildInfo:ee}=Re(),oe={};(0,ve.at)()?oe.iosBundleId=ee.packageName:(0,ve.au)()?oe.androidPackageName=ee.packageName:(0,ve.av)(se,"operation-not-supported-in-this-environment"),yield(0,ve.ax)(se,oe)})).apply(this,arguments)}function Ut(){return(Ut=(0,d.Z)(function*(se,ee,oe){const{cordova:qe}=Re();let xt=()=>{};try{yield new Promise((rt,Vt)=>{let nn=null;function Tn(){var un;rt();const bn=null===(un=qe.plugins.browsertab)||void 0===un?void 0:un.close;"function"==typeof bn&&bn(),"function"==typeof(null==oe?void 0:oe.close)&&oe.close()}function wn(){nn||(nn=window.setTimeout(()=>{Vt((0,ve.az)(se,"redirect-cancelled-by-user"))},2e3))}function Gn(){"visible"===(null==document?void 0:document.visibilityState)&&wn()}ee.addPassiveListener(Tn),document.addEventListener("resume",wn,!1),(0,ve.au)()&&document.addEventListener("visibilitychange",Gn,!1),xt=()=>{ee.removePassiveListener(Tn),document.removeEventListener("resume",wn,!1),document.removeEventListener("visibilitychange",Gn,!1),nn&&window.clearTimeout(nn)}})}finally{xt()}})).apply(this,arguments)}function Lt(){return(Lt=(0,d.Z)(function*(se){const ee=function Rt(se){if((0,ve.as)(/[0-9a-zA-Z]+/.test(se),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(se);const ee=new ArrayBuffer(se.length),oe=new Uint8Array(ee);for(let qe=0;qe<se.length;qe++)oe[qe]=se.charCodeAt(qe);return oe}(se),oe=yield crypto.subtle.digest("SHA-256",ee);return Array.from(new Uint8Array(oe)).map(xt=>xt.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}class Ct extends ve.aB{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(ee=>{this.resolveInialized=ee})}addPassiveListener(ee){this.passiveListeners.add(ee)}removePassiveListener(ee){this.passiveListeners.delete(ee)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(ee){return this.resolveInialized(),this.passiveListeners.forEach(oe=>oe(ee)),super.onEvent(ee)}initialized(){var ee=this;return(0,d.Z)(function*(){yield ee.initPromise})()}}function vt(se){return it.apply(this,arguments)}function it(){return(it=(0,d.Z)(function*(se){const ee=yield kt()._get(Qt(se));return ee&&(yield kt()._remove(Qt(se))),ee})).apply(this,arguments)}function St(){const se=[];for(let oe=0;oe<20;oe++){const qe=Math.floor(62*Math.random());se.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(qe))}return se.join("")}function kt(){return(0,ve.aC)(ve.b)}function Qt(se){return(0,ve.aD)("authEvent",se.config.apiKey,se.name)}function ut(se){if(null==se||!se.includes("?"))return{};const[ee,...oe]=se.split("?");return(0,Fe.zd)(oe.join("?"))}const Ge=class tt{constructor(){this._redirectPersistence=ve.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=ve.aE,this._overrideRedirectResult=ve.aF}_initialize(ee){var oe=this;return(0,d.Z)(function*(){const qe=ee._key();let xt=oe.eventManagers.get(qe);return xt||(xt=new Ct(ee),oe.eventManagers.set(qe,xt),oe.attachCallbackListeners(ee,xt)),xt})()}_openPopup(ee){(0,ve.av)(ee,"operation-not-supported-in-this-environment")}_openRedirect(ee,oe,qe,xt){var rt=this;return(0,d.Z)(function*(){!function He(se){var ee,oe,qe,xt,rt,Vt,nn,Tn,wn,Gn;const un=Re();(0,ve.aA)("function"==typeof(null===(ee=null==un?void 0:un.universalLinks)||void 0===ee?void 0:ee.subscribe),se,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,ve.aA)(typeof(null===(oe=null==un?void 0:un.BuildInfo)||void 0===oe?void 0:oe.packageName)<"u",se,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,ve.aA)("function"==typeof(null===(rt=null===(xt=null===(qe=null==un?void 0:un.cordova)||void 0===qe?void 0:qe.plugins)||void 0===xt?void 0:xt.browsertab)||void 0===rt?void 0:rt.openUrl),se,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,ve.aA)("function"==typeof(null===(Tn=null===(nn=null===(Vt=null==un?void 0:un.cordova)||void 0===Vt?void 0:Vt.plugins)||void 0===nn?void 0:nn.browsertab)||void 0===Tn?void 0:Tn.isAvailable),se,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,ve.aA)("function"==typeof(null===(Gn=null===(wn=null==un?void 0:un.cordova)||void 0===wn?void 0:wn.InAppBrowser)||void 0===Gn?void 0:Gn.open),se,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(ee);const Vt=yield rt._initialize(ee);yield Vt.initialized(),Vt.resetRedirect(),(0,ve.aG)(),yield rt._originValidation(ee);const nn=function Tt(se,ee,oe=null){return{type:ee,eventId:oe,urlResponse:null,sessionId:St(),postBody:null,tenantId:se.tenantId,error:(0,ve.az)(se,"no-auth-event")}}(ee,qe,xt);yield function Dt(se,ee){return kt()._set(Qt(se),ee)}(ee,nn);const Tn=yield function Be(se,ee,oe){return Me.apply(this,arguments)}(ee,nn,oe),wn=yield function ct(se){const{cordova:ee}=Re();return new Promise(oe=>{ee.plugins.browsertab.isAvailable(qe=>{let xt=null;qe?ee.plugins.browsertab.openUrl(se):xt=ee.InAppBrowser.open(se,(0,ve.ay)()?"_blank":"_system","location=yes"),oe(xt)})})}(Tn);return function mt(se,ee,oe){return Ut.apply(this,arguments)}(ee,Vt,wn)})()}_isIframeWebStorageSupported(ee,oe){throw new Error("Method not implemented.")}_originValidation(ee){const oe=ee._key();return this.originValidationPromises[oe]||(this.originValidationPromises[oe]=function ot(se){return Pe.apply(this,arguments)}(ee)),this.originValidationPromises[oe]}attachCallbackListeners(ee,oe){const{universalLinks:qe,handleOpenURL:xt,BuildInfo:rt}=Re(),Vt=setTimeout((0,d.Z)(function*(){yield vt(ee),oe.onEvent(ft())}),500),nn=function(){var Gn=(0,d.Z)(function*(un){clearTimeout(Vt);const bn=yield vt(ee);let Nn=null;bn&&null!=un&&un.url&&(Nn=function Gt(se,ee){var oe,qe;const xt=function Je(se){const ee=ut(se),oe=ee.link?decodeURIComponent(ee.link):void 0,qe=ut(oe).link,xt=ee.deep_link_id?decodeURIComponent(ee.deep_link_id):void 0;return ut(xt).link||xt||qe||oe||se}(ee);if(xt.includes("/__/auth/callback")){const rt=ut(xt),Vt=rt.firebaseError?function Ae(se){try{return JSON.parse(se)}catch{return null}}(decodeURIComponent(rt.firebaseError)):null,nn=null===(qe=null===(oe=null==Vt?void 0:Vt.code)||void 0===oe?void 0:oe.split("auth/"))||void 0===qe?void 0:qe[1],Tn=nn?(0,ve.az)(nn):null;return Tn?{type:se.type,eventId:se.eventId,tenantId:se.tenantId,error:Tn,urlResponse:null,sessionId:null,postBody:null}:{type:se.type,eventId:se.eventId,tenantId:se.tenantId,sessionId:se.sessionId,urlResponse:xt,postBody:null}}return null}(bn,un.url)),oe.onEvent(Nn||ft())});return function(bn){return Gn.apply(this,arguments)}}();typeof qe<"u"&&"function"==typeof qe.subscribe&&qe.subscribe(null,nn);const Tn=xt,wn=`${rt.packageName.toLowerCase()}://`;Re().handleOpenURL=function(){var Gn=(0,d.Z)(function*(un){if(un.toLowerCase().startsWith(wn)&&nn({url:un}),"function"==typeof Tn)try{Tn(un)}catch(bn){console.error(bn)}});return function(un){return Gn.apply(this,arguments)}}()}};function ft(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,ve.az)("no-auth-event")}}function Oe(){var se;return(null===(se=null==self?void 0:self.location)||void 0===se?void 0:se.protocol)||null}function wt(se=(0,Fe.z$)()){return!("file:"!==Oe()&&"ionic:"!==Oe()&&"capacitor:"!==Oe()||!se.toLowerCase().match(/iphone|ipad|ipod|android/))}function lr(){try{const se=self.localStorage,ee=ve.aL();if(se)return se.setItem(ee,"1"),se.removeItem(ee),!function ur(se=(0,Fe.z$)()){return function _n(){return(0,Fe.w1)()&&11===(null==document?void 0:document.documentMode)}()||function tr(se=(0,Fe.z$)()){return/Edge\/\d+/.test(se)}(se)}()||(0,Fe.hl)()}catch{return hn()&&(0,Fe.hl)()}return!1}function hn(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Xn(){return(function rn(){return"http:"===Oe()||"https:"===Oe()}()||(0,Fe.ru)()||wt())&&!function fn(){return(0,Fe.b$)()||(0,Fe.UG)()}()&&lr()&&!hn()}function cn(){return wt()&&typeof document<"u"}function Wr(){return(Wr=(0,d.Z)(function*(){return!!cn()&&new Promise(se=>{const ee=setTimeout(()=>{se(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(ee),se(!0)})})})).apply(this,arguments)}const On={LOCAL:"local",NONE:"none",SESSION:"session"},Gr=ve.aA,Qr="persistence";function $r(se){return ui.apply(this,arguments)}function ui(){return(ui=(0,d.Z)(function*(se){yield se._initializationPromise;const ee=Zn(),oe=ve.aD(Qr,se.config.apiKey,se.name);ee&&ee.setItem(oe,se._getPersistence())})).apply(this,arguments)}function Zn(){var se;try{return(null===(se=function Sr(){return typeof window<"u"?window:null}())||void 0===se?void 0:se.sessionStorage)||null}catch{return null}}const rr=ve.aA;class Ei{constructor(){this.browserResolver=ve.aC(ve.k),this.cordovaResolver=ve.aC(Ge),this.underlyingResolver=null,this._redirectPersistence=ve.a,this._completeRedirectFn=ve.aE,this._overrideRedirectResult=ve.aF}_initialize(ee){var oe=this;return(0,d.Z)(function*(){return yield oe.selectUnderlyingResolver(),oe.assertedUnderlyingResolver._initialize(ee)})()}_openPopup(ee,oe,qe,xt){var rt=this;return(0,d.Z)(function*(){return yield rt.selectUnderlyingResolver(),rt.assertedUnderlyingResolver._openPopup(ee,oe,qe,xt)})()}_openRedirect(ee,oe,qe,xt){var rt=this;return(0,d.Z)(function*(){return yield rt.selectUnderlyingResolver(),rt.assertedUnderlyingResolver._openRedirect(ee,oe,qe,xt)})()}_isIframeWebStorageSupported(ee,oe){this.assertedUnderlyingResolver._isIframeWebStorageSupported(ee,oe)}_originValidation(ee){return this.assertedUnderlyingResolver._originValidation(ee)}get _shouldInitProactively(){return cn()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return rr(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var ee=this;return(0,d.Z)(function*(){if(ee.underlyingResolver)return;const oe=yield function Pr(){return Wr.apply(this,arguments)}();ee.underlyingResolver=oe?ee.cordovaResolver:ee.browserResolver})()}}function di(se){return se.unwrap()}function ri(se){return Er(se)}function Er(se){const{_tokenResponse:ee}=se instanceof Fe.ZR?se.customData:se;if(!ee)return null;if(!(se instanceof Fe.ZR)&&"temporaryProof"in ee&&"phoneNumber"in ee)return ve.P.credentialFromResult(se);const oe=ee.providerId;if(!oe||oe===ve.p.PASSWORD)return null;let qe;switch(oe){case ve.p.GOOGLE:qe=ve.V;break;case ve.p.FACEBOOK:qe=ve.U;break;case ve.p.GITHUB:qe=ve.W;break;case ve.p.TWITTER:qe=ve.Z;break;default:const{oauthIdToken:xt,oauthAccessToken:rt,oauthTokenSecret:Vt,pendingToken:nn,nonce:Tn}=ee;return rt||Vt||xt||nn?nn?oe.startsWith("saml.")?ve.aO._create(oe,nn):ve.L._fromParams({providerId:oe,signInMethod:oe,pendingToken:nn,idToken:xt,accessToken:rt}):new ve.X(oe).credential({idToken:xt,accessToken:rt,rawNonce:Tn}):null}return se instanceof Fe.ZR?qe.credentialFromError(se):qe.credentialFromResult(se)}function pr(se,ee){return ee.catch(oe=>{throw oe instanceof Fe.ZR&&function oi(se,ee){var oe;const qe=null===(oe=ee.customData)||void 0===oe?void 0:oe._tokenResponse;if("auth/multi-factor-auth-required"===(null==ee?void 0:ee.code))ee.resolver=new An(se,ve.aq(se,ee));else if(qe){const xt=Er(ee),rt=ee;xt&&(rt.credential=xt,rt.tenantId=qe.tenantId||void 0,rt.email=qe.email||void 0,rt.phoneNumber=qe.phoneNumber||void 0)}}(se,oe),oe}).then(oe=>{const xt=oe.user;return{operationType:oe.operationType,credential:ri(oe),additionalUserInfo:ve.ao(oe),user:xe.getOrCreate(xt)}})}function yi(se,ee){return Ar.apply(this,arguments)}function Ar(){return(Ar=(0,d.Z)(function*(se,ee){const oe=yield ee;return{verificationId:oe.verificationId,confirm:qe=>pr(se,oe.confirm(qe))}})).apply(this,arguments)}class An{constructor(ee,oe){this.resolver=oe,this.auth=function ni(se){return se.wrapped()}(ee)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(ee){return pr(di(this.auth),this.resolver.resolveSignIn(ee))}}class xe{constructor(ee){this._delegate=ee,this.multiFactor=ve.ar(ee)}static getOrCreate(ee){return xe.USER_MAP.has(ee)||xe.USER_MAP.set(ee,new xe(ee)),xe.USER_MAP.get(ee)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(ee){return this._delegate.getIdTokenResult(ee)}getIdToken(ee){return this._delegate.getIdToken(ee)}linkAndRetrieveDataWithCredential(ee){return this.linkWithCredential(ee)}linkWithCredential(ee){var oe=this;return(0,d.Z)(function*(){return pr(oe.auth,ve.a0(oe._delegate,ee))})()}linkWithPhoneNumber(ee,oe){var qe=this;return(0,d.Z)(function*(){return yi(qe.auth,ve.l(qe._delegate,ee,oe))})()}linkWithPopup(ee){var oe=this;return(0,d.Z)(function*(){return pr(oe.auth,ve.d(oe._delegate,ee,Ei))})()}linkWithRedirect(ee){var oe=this;return(0,d.Z)(function*(){return yield $r(ve.aH(oe.auth)),ve.g(oe._delegate,ee,Ei)})()}reauthenticateAndRetrieveDataWithCredential(ee){return this.reauthenticateWithCredential(ee)}reauthenticateWithCredential(ee){var oe=this;return(0,d.Z)(function*(){return pr(oe.auth,ve.a1(oe._delegate,ee))})()}reauthenticateWithPhoneNumber(ee,oe){return yi(this.auth,ve.r(this._delegate,ee,oe))}reauthenticateWithPopup(ee){return pr(this.auth,ve.e(this._delegate,ee,Ei))}reauthenticateWithRedirect(ee){var oe=this;return(0,d.Z)(function*(){return yield $r(ve.aH(oe.auth)),ve.h(oe._delegate,ee,Ei)})()}sendEmailVerification(ee){return ve.ae(this._delegate,ee)}unlink(ee){var oe=this;return(0,d.Z)(function*(){return yield ve.an(oe._delegate,ee),oe})()}updateEmail(ee){return ve.aj(this._delegate,ee)}updatePassword(ee){return ve.ak(this._delegate,ee)}updatePhoneNumber(ee){return ve.u(this._delegate,ee)}updateProfile(ee){return ve.ai(this._delegate,ee)}verifyBeforeUpdateEmail(ee,oe){return ve.af(this._delegate,ee,oe)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}xe.USER_MAP=new WeakMap;const gt=ve.aA;let Wt=(()=>{class se{constructor(oe,qe){if(this.app=oe,qe.isInitialized())return this._delegate=qe.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:xt}=oe.options;gt(xt,"invalid-api-key",{appName:oe.name}),gt(xt,"invalid-api-key",{appName:oe.name});const rt=typeof window<"u"?Ei:void 0;this._delegate=qe.initialize({options:{persistence:Wn(xt,oe.name),popupRedirectResolver:rt}}),this._delegate._updateErrorMap(ve.D),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?xe.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(oe){this._delegate.languageCode=oe}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(oe){this._delegate.tenantId=oe}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(oe,qe){ve.I(this._delegate,oe,qe)}applyActionCode(oe){return ve.a5(this._delegate,oe)}checkActionCode(oe){return ve.a6(this._delegate,oe)}confirmPasswordReset(oe,qe){return ve.a4(this._delegate,oe,qe)}createUserWithEmailAndPassword(oe,qe){var xt=this;return(0,d.Z)(function*(){return pr(xt._delegate,ve.a8(xt._delegate,oe,qe))})()}fetchProvidersForEmail(oe){return this.fetchSignInMethodsForEmail(oe)}fetchSignInMethodsForEmail(oe){return ve.ad(this._delegate,oe)}isSignInWithEmailLink(oe){return ve.ab(this._delegate,oe)}getRedirectResult(){var oe=this;return(0,d.Z)(function*(){gt(Xn(),oe._delegate,"operation-not-supported-in-this-environment");const qe=yield ve.j(oe._delegate,Ei);return qe?pr(oe._delegate,Promise.resolve(qe)):{credential:null,user:null}})()}addFrameworkForLogging(oe){!function jt(se,ee){(0,ve.aH)(se)._logFramework(ee)}(this._delegate,oe)}onAuthStateChanged(oe,qe,xt){const{next:rt,error:Vt,complete:nn}=In(oe,qe,xt);return this._delegate.onAuthStateChanged(rt,Vt,nn)}onIdTokenChanged(oe,qe,xt){const{next:rt,error:Vt,complete:nn}=In(oe,qe,xt);return this._delegate.onIdTokenChanged(rt,Vt,nn)}sendSignInLinkToEmail(oe,qe){return ve.aa(this._delegate,oe,qe)}sendPasswordResetEmail(oe,qe){return ve.a3(this._delegate,oe,qe||void 0)}setPersistence(oe){var qe=this;return(0,d.Z)(function*(){let xt;switch(function br(se,ee){Gr(Object.values(On).includes(ee),se,"invalid-persistence-type"),(0,Fe.b$)()?Gr(ee!==On.SESSION,se,"unsupported-persistence-type"):(0,Fe.UG)()?Gr(ee===On.NONE,se,"unsupported-persistence-type"):hn()?Gr(ee===On.NONE||ee===On.LOCAL&&(0,Fe.hl)(),se,"unsupported-persistence-type"):Gr(ee===On.NONE||lr(),se,"unsupported-persistence-type")}(qe._delegate,oe),oe){case On.SESSION:xt=ve.a;break;case On.LOCAL:xt=(yield ve.aC(ve.i)._isAvailable())?ve.i:ve.b;break;case On.NONE:xt=ve.N;break;default:return ve.av("argument-error",{appName:qe._delegate.name})}return qe._delegate.setPersistence(xt)})()}signInAndRetrieveDataWithCredential(oe){return this.signInWithCredential(oe)}signInAnonymously(){return pr(this._delegate,ve._(this._delegate))}signInWithCredential(oe){return pr(this._delegate,ve.$(this._delegate,oe))}signInWithCustomToken(oe){return pr(this._delegate,ve.a2(this._delegate,oe))}signInWithEmailAndPassword(oe,qe){return pr(this._delegate,ve.a9(this._delegate,oe,qe))}signInWithEmailLink(oe,qe){return pr(this._delegate,ve.ac(this._delegate,oe,qe))}signInWithPhoneNumber(oe,qe){return yi(this._delegate,ve.s(this._delegate,oe,qe))}signInWithPopup(oe){var qe=this;return(0,d.Z)(function*(){return gt(Xn(),qe._delegate,"operation-not-supported-in-this-environment"),pr(qe._delegate,ve.c(qe._delegate,oe,Ei))})()}signInWithRedirect(oe){var qe=this;return(0,d.Z)(function*(){return gt(Xn(),qe._delegate,"operation-not-supported-in-this-environment"),yield $r(qe._delegate),ve.f(qe._delegate,oe,Ei)})()}updateCurrentUser(oe){return this._delegate.updateCurrentUser(oe)}verifyPasswordResetCode(oe){return ve.a7(this._delegate,oe)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return se.Persistence=On,se})();function In(se,ee,oe){let qe=se;"function"!=typeof se&&({next:qe,error:ee,complete:oe}=se);const xt=qe;return{next:Vt=>xt(Vt&&xe.getOrCreate(Vt)),error:ee,complete:oe}}function Wn(se,ee){const oe=function nr(se,ee){const oe=Zn();if(!oe)return[];const qe=ve.aD(Qr,se,ee);switch(oe.getItem(qe)){case On.NONE:return[ve.N];case On.LOCAL:return[ve.i,ve.a];case On.SESSION:return[ve.a];default:return[]}}(se,ee);if(typeof self<"u"&&!oe.includes(ve.i)&&oe.push(ve.i),typeof window<"u")for(const qe of[ve.b,ve.a])oe.includes(qe)||oe.push(qe);return oe.includes(ve.N)||oe.push(ve.N),oe}class Kr{constructor(){this.providerId="phone",this._delegate=new ve.P(di(v.Z.auth()))}static credential(ee,oe){return ve.P.credential(ee,oe)}verifyPhoneNumber(ee,oe){return this._delegate.verifyPhoneNumber(ee,oe)}unwrap(){return this._delegate}}Kr.PHONE_SIGN_IN_METHOD=ve.P.PHONE_SIGN_IN_METHOD,Kr.PROVIDER_ID=ve.P.PROVIDER_ID;const Nr=ve.aA;class Rr{constructor(ee,oe,qe=v.Z.app()){var xt;Nr(null===(xt=qe.options)||void 0===xt?void 0:xt.apiKey,"invalid-api-key",{appName:qe.name}),this._delegate=new ve.R(ee,oe,qe.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function Te(se){se.INTERNAL.registerComponent(new Se.wA("auth-compat",ee=>{const oe=ee.getProvider("app-compat").getImmediate(),qe=ee.getProvider("auth");return new Wt(oe,qe)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:ve.A.EMAIL_SIGNIN,PASSWORD_RESET:ve.A.PASSWORD_RESET,RECOVER_EMAIL:ve.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:ve.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:ve.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:ve.A.VERIFY_EMAIL}},EmailAuthProvider:ve.Q,FacebookAuthProvider:ve.U,GithubAuthProvider:ve.W,GoogleAuthProvider:ve.V,OAuthProvider:ve.X,SAMLAuthProvider:ve.Y,PhoneAuthProvider:Kr,PhoneMultiFactorGenerator:ve.m,RecaptchaVerifier:Rr,TwitterAuthProvider:ve.Z,Auth:Wt,AuthCredential:ve.J,Error:Fe.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),se.registerVersion("@firebase/auth-compat","0.4.2")}(v.Z)},4208:(er,Nt,H)=>{"use strict";H.d(Nt,{jh:()=>Wa,vQ:()=>Bl});var d=H(2223),v=H(3192),ve=H(1086),Fe=H(1135),Xe=H(1884);const Qe=function Re(nt,Jt){return nt===Jt||nt!=nt&&Jt!=Jt},Me=function Be(nt,Jt){for(var en=nt.length;en--;)if(Qe(nt[en][0],Jt))return en;return-1};var Pe=Array.prototype.splice;function Ct(nt){var Jt=-1,en=null==nt?0:nt.length;for(this.clear();++Jt<en;){var Ir=nt[Jt];this.set(Ir[0],Ir[1])}}Ct.prototype.clear=function Ke(){this.__data__=[],this.size=0},Ct.prototype.delete=function ct(nt){var Jt=this.__data__,en=Me(Jt,nt);return!(en<0||(en==Jt.length-1?Jt.pop():Pe.call(Jt,en,1),--this.size,0))},Ct.prototype.get=function Ut(nt){var Jt=this.__data__,en=Me(Jt,nt);return en<0?void 0:Jt[en][1]},Ct.prototype.has=function $e(nt){return Me(this.__data__,nt)>-1},Ct.prototype.set=function Rt(nt,Jt){var en=this.__data__,Ir=Me(en,nt);return Ir<0?(++this.size,en.push([nt,Jt])):en[Ir][1]=Jt,this};const Tt=Ct,ut="object"==typeof global&&global&&global.Object===Object&&global;var _t="object"==typeof self&&self&&self.Object===Object&&self;const Ge=ut||_t||Function("return this")();var ft=Ge.Symbol,Pt=Object.prototype,sn=Pt.hasOwnProperty,ln=Pt.toString,Oe=ft?ft.toStringTag:void 0;var _n=Object.prototype.toString;var Xn=ft?ft.toStringTag:void 0;const Pr=function cn(nt){return null==nt?void 0===nt?"[object Undefined]":"[object Null]":Xn&&Xn in Object(nt)?function rn(nt){var Jt=sn.call(nt,Oe),en=nt[Oe];try{nt[Oe]=void 0;var Ir=!0}catch{}var Bi=ln.call(nt);return Ir&&(Jt?nt[Oe]=en:delete nt[Oe]),Bi}(nt):function tr(nt){return _n.call(nt)}(nt)},Sr=function Wr(nt){var Jt=typeof nt;return null!=nt&&("object"==Jt||"function"==Jt)},ui=function $r(nt){if(!Sr(nt))return!1;var Jt=Pr(nt);return"[object Function]"==Jt||"[object GeneratorFunction]"==Jt||"[object AsyncFunction]"==Jt||"[object Proxy]"==Jt};var nt,nr=Ge["__core-js_shared__"],rr=(nt=/[^.]+$/.exec(nr&&nr.keys&&nr.keys.IE_PROTO||""))?"Symbol(src)_1."+nt:"";var ri=Function.prototype.toString;var yi=/^\[object .+?Constructor\]$/,Wt=RegExp("^"+Function.prototype.toString.call(Object.prototype.hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");const Wn=function In(nt){return!(!Sr(nt)||function Ei(nt){return!!rr&&rr in nt}(nt))&&(ui(nt)?Wt:yi).test(function oi(nt){if(null!=nt){try{return ri.call(nt)}catch{}try{return nt+""}catch{}}return""}(nt))},yt=function Rr(nt,Jt){var en=function Kr(nt,Jt){return null==nt?void 0:nt[Jt]}(nt,Jt);return Wn(en)?en:void 0},se=yt(Ge,"Map"),oe=yt(Object,"create");var wn=Object.prototype.hasOwnProperty;var Nn=Object.prototype.hasOwnProperty;function Fr(nt){var Jt=-1,en=null==nt?0:nt.length;for(this.clear();++Jt<en;){var Ir=nt[Jt];this.set(Ir[0],Ir[1])}}Fr.prototype.clear=function qe(){this.__data__=oe?oe(null):{},this.size=0},Fr.prototype.delete=function rt(nt){var Jt=this.has(nt)&&delete this.__data__[nt];return this.size-=Jt?1:0,Jt},Fr.prototype.get=function Gn(nt){var Jt=this.__data__;if(oe){var en=Jt[nt];return"__lodash_hash_undefined__"===en?void 0:en}return wn.call(Jt,nt)?Jt[nt]:void 0},Fr.prototype.has=function Ft(nt){var Jt=this.__data__;return oe?void 0!==Jt[nt]:Nn.call(Jt,nt)},Fr.prototype.set=function Qn(nt,Jt){var en=this.__data__;return this.size+=this.has(nt)?0:1,en[nt]=oe&&void 0===Jt?"__lodash_hash_undefined__":Jt,this};const Or=Fr,uo=function ns(nt,Jt){var en=nt.__data__;return function jr(nt){var Jt=typeof nt;return"string"==Jt||"number"==Jt||"symbol"==Jt||"boolean"==Jt?"__proto__"!==nt:null===nt}(Jt)?en["string"==typeof Jt?"string":"hash"]:en.map};function Bs(nt){var Jt=-1,en=null==nt?0:nt.length;for(this.clear();++Jt<en;){var Ir=nt[Jt];this.set(Ir[0],Ir[1])}}Bs.prototype.clear=function Ri(){this.size=0,this.__data__={hash:new Or,map:new(se||Tt),string:new Or}},Bs.prototype.delete=function ro(nt){var Jt=uo(this,nt).delete(nt);return this.size-=Jt?1:0,Jt},Bs.prototype.get=function rs(nt){return uo(this,nt).get(nt)},Bs.prototype.has=function as(nt){return uo(this,nt).has(nt)},Bs.prototype.set=function qs(nt,Jt){var en=uo(this,nt),Ir=en.size;return en.set(nt,Jt),this.size+=en.size==Ir?0:1,this};const Zs=Bs;function _e(nt){var Jt=this.__data__=new Tt(nt);this.size=Jt.size}_e.prototype.clear=function Dt(){this.__data__=new Tt,this.size=0},_e.prototype.delete=function it(nt){var Jt=this.__data__,en=Jt.delete(nt);return this.size=Jt.size,en},_e.prototype.get=function St(nt){return this.__data__.get(nt)},_e.prototype.has=function Qt(nt){return this.__data__.has(nt)},_e.prototype.set=function pe(nt,Jt){var en=this.__data__;if(en instanceof Tt){var Ir=en.__data__;if(!se||Ir.length<199)return Ir.push([nt,Jt]),this.size=++en.size,this;en=this.__data__=new Zs(Ir)}return en.set(nt,Jt),this.size=en.size,this};const re=_e;var ye=function(){try{var nt=yt(Object,"defineProperty");return nt({},"",{}),nt}catch{}}();const st=ye,Bt=function It(nt,Jt,en){"__proto__"==Jt&&st?st(nt,Jt,{configurable:!0,enumerable:!0,value:en,writable:!0}):nt[Jt]=en},Ln=function tn(nt,Jt,en){(void 0!==en&&!Qe(nt[Jt],en)||void 0===en&&!(Jt in nt))&&Bt(nt,Jt,en)};var ai=function Hn(nt){return function(Jt,en,Ir){for(var Bi=-1,Hi=Object(Jt),es=Ir(Jt),is=es.length;is--;){var Gi=es[nt?is:++Bi];if(!1===en(Hi[Gi],Gi,Hi))break}return Jt}}();const ms=ai;var Qi="object"==typeof exports&&exports&&!exports.nodeType&&exports,$s=Qi&&"object"==typeof module&&module&&!module.nodeType&&module,ir=$s&&$s.exports===Qi?Ge.Buffer:void 0,qr=ir?ir.allocUnsafe:void 0;const us=Ge.Uint8Array,ys=function Ds(nt,Jt){var en=Jt?function go(nt){var Jt=new nt.constructor(nt.byteLength);return new us(Jt).set(new us(nt)),Jt}(nt.buffer):nt.buffer;return new nt.constructor(en,nt.byteOffset,nt.length)};var ho=Object.create,Oi=function(){function nt(){}return function(Jt){if(!Sr(Jt))return{};if(ho)return ho(Jt);nt.prototype=Jt;var en=new nt;return nt.prototype=void 0,en}}();const Vr=Oi;var Vs=function Di(nt,Jt){return function(en){return nt(Jt(en))}}(Object.getPrototypeOf,Object);const Vi=Vs;var To=Object.prototype;const Xs=function Co(nt){var Jt=nt&&nt.constructor;return nt===("function"==typeof Jt&&Jt.prototype||To)},Os=function hr(nt){return null!=nt&&"object"==typeof nt},ss=function Wo(nt){return Os(nt)&&"[object Arguments]"==Pr(nt)};var Do=Object.prototype,Ao=Do.hasOwnProperty,Oo=Do.propertyIsEnumerable,Es=ss(function(){return arguments}())?ss:function(nt){return Os(nt)&&Ao.call(nt,"callee")&&!Oo.call(nt,"callee")};const ko=Es,Yi=Array.isArray,So=function Bo(nt){return"number"==typeof nt&&nt>-1&&nt%1==0&&nt<=9007199254740991},mo=function xo(nt){return null!=nt&&So(nt.length)&&!ui(nt)};var ds="object"==typeof exports&&exports&&!exports.nodeType&&exports,$o=ds&&"object"==typeof module&&module&&!module.nodeType&&module,Vo=$o&&$o.exports===ds?Ge.Buffer:void 0;const ue=(Vo?Vo.isBuffer:void 0)||function gi(){return!1};var Sn=Function.prototype.toString,xr=Object.prototype.hasOwnProperty,Jr=Sn.call(Object);var Ti={};Ti["[object Float32Array]"]=Ti["[object Float64Array]"]=Ti["[object Int8Array]"]=Ti["[object Int16Array]"]=Ti["[object Int32Array]"]=Ti["[object Uint8Array]"]=Ti["[object Uint8ClampedArray]"]=Ti["[object Uint16Array]"]=Ti["[object Uint32Array]"]=!0,Ti["[object Arguments]"]=Ti["[object Array]"]=Ti["[object ArrayBuffer]"]=Ti["[object Boolean]"]=Ti["[object DataView]"]=Ti["[object Date]"]=Ti["[object Error]"]=Ti["[object Function]"]=Ti["[object Map]"]=Ti["[object Number]"]=Ti["[object Object]"]=Ti["[object RegExp]"]=Ti["[object Set]"]=Ti["[object String]"]=Ti["[object WeakMap]"]=!1;var ya="object"==typeof exports&&exports&&!exports.nodeType&&exports,oa=ya&&"object"==typeof module&&module&&!module.nodeType&&module,ja=oa&&oa.exports===ya&&ut.process,Qo=function(){try{return oa&&oa.require&&oa.require("util").types||ja&&ja.binding&&ja.binding("util")}catch{}}(),Ts=Qo&&Qo.isTypedArray;const Fa=Ts?function Xo(nt){return function(Jt){return nt(Jt)}}(Ts):function Ns(nt){return Os(nt)&&So(nt.length)&&!!Ti[Pr(nt)]},sl=function zo(nt,Jt){if(("constructor"!==Jt||"function"!=typeof nt[Jt])&&"__proto__"!=Jt)return nt[Jt]};var X=Object.prototype.hasOwnProperty;const De=function le(nt,Jt,en){var Ir=nt[Jt];(!X.call(nt,Jt)||!Qe(Ir,en)||void 0===en&&!(Jt in nt))&&Bt(nt,Jt,en)};var Bn=/^(?:0|[1-9]\d*)$/;const vi=function sr(nt,Jt){var en=typeof nt;return!!(Jt=null==Jt?9007199254740991:Jt)&&("number"==en||"symbol"!=en&&Bn.test(nt))&&nt>-1&&nt%1==0&&nt<Jt};var Fs=Object.prototype.hasOwnProperty;const q=function lo(nt,Jt){var en=Yi(nt),Ir=!en&&ko(nt),Bi=!en&&!Ir&&ue(nt),Hi=!en&&!Ir&&!Bi&&Fa(nt),es=en||Ir||Bi||Hi,is=es?function At(nt,Jt){for(var en=-1,Ir=Array(nt);++en<nt;)Ir[en]=Jt(en);return Ir}(nt.length,String):[],Gi=is.length;for(var Jo in nt)(Jt||Fs.call(nt,Jo))&&(!es||!("length"==Jo||Bi&&("offset"==Jo||"parent"==Jo)||Hi&&("buffer"==Jo||"byteLength"==Jo||"byteOffset"==Jo)||vi(Jo,Gi)))&&is.push(Jo);return is};var bt=Object.prototype.hasOwnProperty;const kn=function vn(nt){if(!Sr(nt))return function he(nt){var Jt=[];if(null!=nt)for(var en in Object(nt))Jt.push(en);return Jt}(nt);var Jt=Xs(nt),en=[];for(var Ir in nt)"constructor"==Ir&&(Jt||!bt.call(nt,Ir))||en.push(Ir);return en},mr=function li(nt){return mo(nt)?q(nt,!0):kn(nt)},wi=function Wi(nt){return function je(nt,Jt,en,Ir){var Bi=!en;en||(en={});for(var Hi=-1,es=Jt.length;++Hi<es;){var is=Jt[Hi],Gi=Ir?Ir(en[is],nt[is],is,en,nt):void 0;void 0===Gi&&(Gi=nt[is]),Bi?Bt(en,is,Gi):De(en,is,Gi)}return en}(nt,mr(nt))},fs=function Ni(nt,Jt,en,Ir,Bi,Hi,es){var is=sl(nt,en),Gi=sl(Jt,en),Jo=es.get(Gi);if(Jo)Ln(nt,en,Jo);else{var va=Hi?Hi(is,Gi,en+"",nt,Jt,es):void 0,yn=void 0===va;if(yn){var Pa=Yi(Gi),ha=!Pa&&ue(Gi),hc=!Pa&&!ha&&Fa(Gi);va=Gi,Pa||ha||hc?Yi(is)?va=is:function Zo(nt){return Os(nt)&&mo(nt)}(is)?va=function Zr(nt,Jt){var en=-1,Ir=nt.length;for(Jt||(Jt=Array(Ir));++en<Ir;)Jt[en]=nt[en];return Jt}(is):ha?(yn=!1,va=function $i(nt,Jt){if(Jt)return nt.slice();var en=nt.length,Ir=qr?qr(en):new nt.constructor(en);return nt.copy(Ir),Ir}(Gi,!0)):hc?(yn=!1,va=ys(Gi,!0)):va=[]:function xi(nt){if(!Os(nt)||"[object Object]"!=Pr(nt))return!1;var Jt=Vi(nt);if(null===Jt)return!0;var en=xr.call(Jt,"constructor")&&Jt.constructor;return"function"==typeof en&&en instanceof en&&Sn.call(en)==Jr}(Gi)||ko(Gi)?(va=is,ko(is)?va=wi(is):(!Sr(is)||ui(is))&&(va=function Yo(nt){return"function"!=typeof nt.constructor||Xs(nt)?{}:Vr(Vi(nt))}(Gi))):yn=!1}yn&&(es.set(Gi,va),Bi(va,Gi,Ir,Hi,es),es.delete(Gi)),Ln(nt,en,va)}},po=function As(nt,Jt,en,Ir,Bi){nt!==Jt&&ms(Jt,function(Hi,es){if(Bi||(Bi=new re),Sr(Hi))fs(nt,Jt,es,en,As,Ir,Bi);else{var is=Ir?Ir(sl(nt,es),Hi,es+"",nt,Jt,Bi):void 0;void 0===is&&(is=Hi),Ln(nt,es,is)}},mr)},Fi=function $n(nt){return nt};var _r=Math.max;const Dn=function Un(nt){return function(){return nt}};var qn=st?function(nt,Jt){return st(nt,"toString",{configurable:!0,enumerable:!1,value:Dn(Jt),writable:!0})}:Fi,Ea=Date.now,ua=function Cl(nt){var Jt=0,en=0;return function(){var Ir=Ea(),Bi=16-(Ir-en);if(en=Ir,Bi>0){if(++Jt>=800)return arguments[0]}else Jt=0;return nt.apply(void 0,arguments)}}(qn);const ml=ua,Ls=function Bc(nt,Jt){return ml(function Hr(nt,Jt,en){return Jt=_r(void 0===Jt?nt.length-1:Jt,0),function(){for(var Ir=arguments,Bi=-1,Hi=_r(Ir.length-Jt,0),es=Array(Hi);++Bi<Hi;)es[Bi]=Ir[Jt+Bi];Bi=-1;for(var is=Array(Jt+1);++Bi<Jt;)is[Bi]=Ir[Bi];return is[Jt]=en(es),function Go(nt,Jt,en){switch(en.length){case 0:return nt.call(Jt);case 1:return nt.call(Jt,en[0]);case 2:return nt.call(Jt,en[0],en[1]);case 3:return nt.call(Jt,en[0],en[1],en[2])}return nt.apply(Jt,en)}(nt,this,is)}}(nt,Jt,Fi),nt+"")};var Cc=function Ui(nt){return Ls(function(Jt,en){var Ir=-1,Bi=en.length,Hi=Bi>1?en[Bi-1]:void 0,es=Bi>2?en[2]:void 0;for(Hi=nt.length>3&&"function"==typeof Hi?(Bi--,Hi):void 0,es&&function aa(nt,Jt,en){if(!Sr(en))return!1;var Ir=typeof Jt;return!!("number"==Ir?mo(en)&&vi(Jt,en.length):"string"==Ir&&Jt in en)&&Qe(en[Jt],nt)}(en[0],en[1],es)&&(Hi=Bi<3?void 0:Hi,Bi=1),Jt=Object(Jt);++Ir<Bi;){var is=en[Ir];is&&nt(Jt,is,Ir,Hi)}return Jt})}(function(nt,Jt,en){po(nt,Jt,en)});const yo=Cc;let Ii=(()=>{class nt{constructor(){this.colorschemesOptions=new Fe.X(void 0)}setColorschemesOptions(en){this.pColorschemesOptions=en,this.colorschemesOptions.next(en)}getColorschemesOptions(){return this.pColorschemesOptions}}return nt.\u0275fac=function(en){return new(en||nt)},nt.\u0275prov=d.Yz7({token:nt,factory:nt.\u0275fac,providedIn:"root"}),nt})(),Wa=(()=>{class nt{constructor(en,Ir,Bi){this.zone=Ir,this.themeService=Bi,this.type="bar",this.plugins=[],this.chartClick=new d.vpe,this.chartHover=new d.vpe,this.subs=[],this.themeOverrides={},this.ctx=en.nativeElement.getContext("2d"),this.subs.push(this.themeService.colorschemesOptions.pipe((0,Xe.x)()).subscribe(Hi=>this.themeChanged(Hi)))}ngOnChanges(en){const Ir=["type"],Bi=Object.getOwnPropertyNames(en);if(Bi.some(Hi=>Ir.includes(Hi))||Bi.every(Hi=>en[Hi].isFirstChange()))this.render();else{const Hi=this.getChartConfiguration();this.chart&&(Object.assign(this.chart.config.data,Hi.data),this.chart.config.plugins&&Object.assign(this.chart.config.plugins,Hi.plugins),this.chart.config.options&&Object.assign(this.chart.config.options,Hi.options)),this.update()}}ngOnDestroy(){this.chart&&(this.chart.destroy(),this.chart=void 0),this.subs.forEach(en=>en.unsubscribe())}render(){return this.chart&&this.chart.destroy(),this.zone.runOutsideAngular(()=>this.chart=new v.kL(this.ctx,this.getChartConfiguration()))}update(en){this.chart&&this.zone.runOutsideAngular(()=>{var Ir;return null===(Ir=this.chart)||void 0===Ir?void 0:Ir.update(en)})}hideDataset(en,Ir){this.chart&&(this.chart.getDatasetMeta(en).hidden=Ir,this.update())}isDatasetHidden(en){var Ir,Bi;return null===(Ir=this.chart)||void 0===Ir||null===(Bi=Ir.getDatasetMeta(en))||void 0===Bi?void 0:Bi.hidden}toBase64Image(){var en;return null===(en=this.chart)||void 0===en?void 0:en.toBase64Image()}themeChanged(en){this.themeOverrides=en,this.chart&&(this.chart.config.options&&Object.assign(this.chart.config.options,this.getChartOptions()),this.update())}getChartOptions(){return yo({onHover:(en,Ir)=>{var Bi;!this.chartHover.observed&&(null===(Bi=this.chartHover.observers)||void 0===Bi||!Bi.length)||this.zone.run(()=>this.chartHover.emit({event:en,active:Ir}))},onClick:(en,Ir)=>{var Bi;!this.chartClick.observed&&(null===(Bi=this.chartClick.observers)||void 0===Bi||!Bi.length)||this.zone.run(()=>this.chartClick.emit({event:en,active:Ir}))}},this.themeOverrides,this.options,{plugins:{legend:{display:this.legend}}})}getChartConfiguration(){return{type:this.type,data:this.getChartData(),options:this.getChartOptions(),plugins:this.plugins}}getChartData(){return this.data?this.data:{labels:this.labels||[],datasets:this.datasets||[]}}}return nt.\u0275fac=function(en){return new(en||nt)(d.Y36(d.SBq),d.Y36(d.R0b),d.Y36(Ii))},nt.\u0275dir=d.lG2({type:nt,selectors:[["canvas","baseChart",""]],inputs:{type:"type",legend:"legend",data:"data",options:"options",plugins:"plugins",labels:"labels",datasets:"datasets"},outputs:{chartClick:"chartClick",chartHover:"chartHover"},exportAs:["base-chart"],features:[d.TTD]}),nt})();const os=[[255,99,132],[54,162,235],[255,206,86],[231,233,237],[75,192,192],[151,187,205],[220,220,220],[247,70,74],[70,191,189],[253,180,92],[148,159,177],[77,83,96]],ol={plugins:{colors:{enabled:!1}},datasets:{line:{backgroundColor:nt=>ps(Da(nt.datasetIndex),.4),borderColor:nt=>ps(Da(nt.datasetIndex),1),pointBackgroundColor:nt=>ps(Da(nt.datasetIndex),1),pointBorderColor:"#fff"},bar:{backgroundColor:nt=>ps(Da(nt.datasetIndex),.6),borderColor:nt=>ps(Da(nt.datasetIndex),1)},get radar(){return this.line},doughnut:{backgroundColor:nt=>ps(Da(nt.dataIndex),.6),borderColor:"#fff"},get pie(){return this.doughnut},polarArea:{backgroundColor:nt=>ps(Da(nt.dataIndex),.6),borderColor:nt=>ps(Da(nt.dataIndex),1)},get bubble(){return this.doughnut},get scatter(){return this.doughnut},get area(){return this.polarArea}}};function ps(nt,Jt){return"rgba("+nt.concat(Jt).join(",")+")"}function yr(nt,Jt){return Math.floor(Math.random()*(Jt-nt+1))+nt}function Da(nt=0){return os[nt]||function yl(){return[yr(0,255),yr(0,255),yr(0,255)]}()}let Sa=(()=>{class nt{constructor(){this.generateColors=!0}}return nt.\u0275fac=function(en){return new(en||nt)},nt.\u0275prov=d.Yz7({token:nt,factory:nt.\u0275fac,providedIn:"root"}),nt})();v.kL.register(...v.zX);let Bl=(()=>{class nt{constructor(en){null!=en&&en.plugins&&v.kL.register(...en.plugins);const Ir=yo(null!=en&&en.generateColors?ol:{},(null==en?void 0:en.defaults)||{});ve.d.set(Ir)}static forRoot(en){return{ngModule:nt,providers:[{provide:Sa,useValue:en}]}}}return nt.\u0275fac=function(en){return new(en||nt)(d.LFG(Sa,8))},nt.\u0275mod=d.oAB({type:nt}),nt.\u0275inj=d.cJS({}),nt})()},5861:(er,Nt,H)=>{"use strict";function d(ve,Fe,Xe,Ke,Se,Re,Qe){try{var Be=ve[Re](Qe),Me=Be.value}catch(ot){return void Xe(ot)}Be.done?Fe(Me):Promise.resolve(Me).then(Ke,Se)}function v(ve){return function(){var Fe=this,Xe=arguments;return new Promise(function(Ke,Se){var Re=ve.apply(Fe,Xe);function Qe(Me){d(Re,Ke,Se,Qe,Be,"next",Me)}function Be(Me){d(Re,Ke,Se,Qe,Be,"throw",Me)}Qe(void 0)})}}H.d(Nt,{Z:()=>v})}},er=>{er(er.s=8176)}]);