"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[3572],{3572:(B,u,n)=>{n.r(u),n.d(u,{Tab2PageModule:()=>J});var f=n(4755),S=n(5030),a=n(2673),g=n(5559),h=n(5861),C=n(4464);const T=(0,n(7423).fo)("Motion",{android:()=>n.e(2777).then(n.bind(n,2777)).then(r=>new r.MotionWeb),ios:()=>n.e(2777).then(n.bind(n,2777)).then(r=>new r.MotionWeb),web:()=>n.e(2777).then(n.bind(n,2777)).then(r=>new r.MotionWeb)});var t=n(2223),z=n(7622),E=n(7904),M=n(1618);const A=["swiper"];function Z(r,o){if(1&r&&(t.TgZ(0,"ion-item"),t._uU(1),t.qZA()),2&r){const e=o.$implicit;t.xp6(1),t.AsE(" ",e.name," - ",e.email," ")}}function k(r,o){if(1&r){const e=t.EpF();t.TgZ(0,"swiper-slide")(1,"ion-card",13),t._UZ(2,"img",14),t.TgZ(3,"ion-card-header")(4,"ion-card-title",15),t._uU(5),t.TgZ(6,"ion-card-subtitle",16),t._uU(7),t.qZA()(),t.TgZ(8,"ion-card-subtitle",16),t._uU(9),t.qZA()(),t.TgZ(10,"ion-card-content")(11,"p"),t._uU(12),t.qZA()(),t.YNc(13,Z,2,2,"ion-item",12),t.TgZ(14,"ion-chip",17),t.NdJ("click",function(){const l=t.CHM(e).$implicit,p=t.oxw();return t.KtG(p.votar(l))}),t._uU(15,"Votar"),t.qZA()()()}if(2&r){const e=o.$implicit,s=t.oxw();t.xp6(2),t.Q6J("src",e.image,t.LSH),t.xp6(3),t.hij(" ",e.name," "),t.xp6(2),t.Oqu(e.fecha),t.xp6(2),t.hij("Tipo: ",e.tipo,""),t.xp6(3),t.hij("Votos: ",null==e.votos?null:e.votos.length,""),t.xp6(1),t.Q6J("ngForOf",s.users),t.xp6(1),t.ekj("voted",e.votos)}}const O=[{path:"",component:(()=>{class r{constructor(e,s,i,l,p,w,c){this.router=e,this.loginService=s,this.firestoresService=i,this.loadingCtrl=l,this.ngZone=p,this.toastServiceService=w,this.navController=c,this.indiceFotoActual=0,this.swiperModules=[C.L$],this.items=[],this.uploading=!1,this.characters=[],this.characterStyle={top:"50%",left:"50%"},this.timer=0,this.characterSpeed=5,this.fotos=["../../assets/Ohiggins1636.jpg","../../assets/Ohiggins1800.jpg","../../assets/Ohiggins2200.jpg"]}ngOnInit(){this.loginService.obtenerUsuario().then(e=>{this.user=null==e?void 0:e.uid,console.log(this.user)}),this.select="Cosas Lindas",this.comenzar()}ionViewWillEnter(){this.getAllData()}logout(){this.loginService.signOut().then(()=>{this.router.navigate(["/login"])})}navegarCamara(e){this.navController.navigateForward("/camara/"+e)}getAllData(){var e=this;return(0,h.Z)(function*(){e.uploading=!0;const s=yield e.loadingCtrl.create({spinner:"lines",cssClass:"custom-loading"});yield s.present();try{e.items=yield e.firestoresService.getAllItems(),e.itemsAux=e.items.filter(i=>i.tipo==e.select),console.log(e.items)}catch(i){console.log("Error al obtener datos:",i)}finally{e.uploading=!1,yield s.dismiss()}})()}getAllDataUser(){var e=this;return(0,h.Z)(function*(){e.uploading=!0;const s=yield e.loadingCtrl.create({spinner:"lines",cssClass:"custom-loading"});yield s.present();try{e.items=yield e.firestoresService.getAllItems(),e.itemsUser=e.items.filter(i=>i.name==e.select),console.log(e.items)}catch(i){console.log("Error al obtener datos:",i)}finally{e.uploading=!1,yield s.dismiss()}})()}handleChange(e){this.select=e.target.value,this.getAllData()}handleChangeUser(e){this.select=e.target.value,this.getAllDataUser()}votar(e){var s=this;return(0,h.Z)(function*(){if(e.votos){const i=s.YaVoto(e);console.log(i),i>-1?e.votos.splice(i,1):e.votos.push(s.user)}else e.votos=[s.user];yield s.firestoresService.updateItem(e)})()}length(e){return e}lockSwipeToNext(){this.swiper.nativeElement.swiper.slideNext()}lockSwipeToPrev(){this.swiper.nativeElement.swiper.slidePrev()}slideTo(){this.swiper.nativeElement.swiper.slideTo(0)}comenzar(){var e=this;return(0,h.Z)(function*(){e.accelHandler=yield T.addListener("accel",function(){var s=(0,h.Z)(function*(i){e.y=i.acceleration.y,e.x=i.acceleration.x,e.y>1&&e.slideTo(),console.log(e.x),e.x>1&&e.lockSwipeToPrev(),e.x<-1&&e.lockSwipeToNext()});return function(i){return s.apply(this,arguments)}}())})()}YaVoto(e){return e.votos.findIndex(i=>i==this.user)}votePhoto(e){e.hasVoted?(e.votes--,e.hasVoted=!1):(e.votes++,e.hasVoted=!0)}formatFecha(e){return e.toLocaleDateString()}}return r.\u0275fac=function(e){return new(e||r)(t.Y36(g.F0),t.Y36(z.e),t.Y36(E.E),t.Y36(a.HT),t.Y36(t.R0b),t.Y36(M.L),t.Y36(a.SH))},r.\u0275cmp=t.Xpm({type:r,selectors:[["app-tab2"]],viewQuery:function(e,s){if(1&e&&t.Gf(A,5),2&e){let i;t.iGM(i=t.CRH())&&(s.swiper=i.first)}},decls:22,vars:3,consts:[[3,"translucent"],["slot","primary"],[3,"click"],["slot","icon-only","name","exit"],[3,"fullscreen"],["value","Cosas Lindas","interface","popover",3,"ionChange"],["value","Cosas Lindas"],["value","Cosas Feas"],["value","Fotos del usuario","interface","popover",3,"ionChange"],["value","Fotos usuario"],["slides-per-view","1","loop","true"],["swiper",""],[4,"ngFor","ngForOf"],[1,"custom-card"],["alt","Silhouette of mountains",3,"src"],[2,"color","#EFF3F5","display","flex","justify-content","space-between"],[2,"color","#C8CDD0"],[1,"custom-chip",3,"click"]],template:function(e,s){1&e&&(t.TgZ(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-buttons",1)(3,"ion-button",2),t.NdJ("click",function(){return s.logout()}),t._UZ(4,"ion-icon",3),t.qZA()(),t.TgZ(5,"ion-title"),t._uU(6," Cosas Lindas / Cosas Feas "),t.qZA()()(),t.TgZ(7,"ion-content",4)(8,"ion-list")(9,"ion-item")(10,"ion-select",5),t.NdJ("ionChange",function(l){return s.handleChange(l)}),t.TgZ(11,"ion-select-option",6),t._uU(12,"Cosas Lindas "),t.qZA(),t.TgZ(13,"ion-select-option",7),t._uU(14,"Cosas Feas "),t.qZA()()(),t.TgZ(15,"ion-item")(16,"ion-select",8),t.NdJ("ionChange",function(l){return s.handleChangeUser(l)}),t.TgZ(17,"ion-select-option",9),t._uU(18,"Fotos del usuario "),t.qZA()()()(),t.TgZ(19,"swiper-container",10,11),t.YNc(21,k,16,8,"swiper-slide",12),t.qZA()()),2&e&&(t.Q6J("translucent",!0),t.xp6(7),t.Q6J("fullscreen",!0),t.xp6(14),t.Q6J("ngForOf",s.itemsAux))},dependencies:[f.sg,a.YG,a.Sm,a.PM,a.FN,a.Zi,a.tO,a.Dq,a.hM,a.W2,a.Gu,a.gu,a.Ie,a.q_,a.t9,a.n0,a.wd,a.sr,a.QI],styles:['@charset "UTF-8";.character[_ngcontent-%COMP%]{position:absolute}@keyframes _ngcontent-%COMP%_moveCharacter{0%{transform:translate(0)}25%{transform:translate(100px)}50%{transform:translate(100px,100px)}75%{transform:translateY(100px)}to{transform:translate(0)}}.title[_ngcontent-%COMP%]{font-size:24px;font-family:Arial,sans-serif}.custom-card[_ngcontent-%COMP%]{margin-bottom:10px;background-color:#192229;border-radius:10px;box-shadow:9px 14px 13px -8px #3d3c3c}.card-item[_ngcontent-%COMP%]{align-items:center}.custom-chip[_ngcontent-%COMP%]{font-size:20px;padding:1.3rem;background-color:#20bd20}.voted[_ngcontent-%COMP%]{background-color:#6592f1}.voted[_ngcontent-%COMP%]   .photo.hasVoted[_ngcontent-%COMP%]{background-color:#add8e6}ion-content[_ngcontent-%COMP%]{--background: url(floor.08978e6a924b6e32.jpg)}ion-toolbar[_ngcontent-%COMP%]{--background: rgb(107, 9, 107);color:#f0f8ff}ion-header[_ngcontent-%COMP%]{background-color:gray}ion-select[_ngcontent-%COMP%]{background-color:#67f8f8d8}']}),r})()}];let L=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=t.oAB({type:r}),r.\u0275inj=t.cJS({imports:[g.Bz.forChild(O),g.Bz]}),r})();var F=n(581),U=n(9460),d=n(2357),m=n(3856);const j=":host{--swiper-theme-color:#007aff}:host{position:relative;display:block;margin-left:auto;margin-right:auto;z-index:1}.swiper{width:100%;height:100%;margin-left:auto;margin-right:auto;position:relative;overflow:hidden;list-style:none;padding:0;z-index:1;display:block}.swiper-vertical>.swiper-wrapper{flex-direction:column}.swiper-wrapper{position:relative;width:100%;height:100%;z-index:1;display:flex;transition-property:transform;transition-timing-function:var(--swiper-wrapper-transition-timing-function,initial);box-sizing:content-box}.swiper-android ::slotted(swiper-slide),.swiper-ios ::slotted(swiper-slide),.swiper-wrapper{transform:translate3d(0px,0,0)}.swiper-horizontal{touch-action:pan-y}.swiper-vertical{touch-action:pan-x}::slotted(swiper-slide){flex-shrink:0;width:100%;height:100%;position:relative;transition-property:transform;display:block}::slotted(.swiper-slide-invisible-blank){visibility:hidden}.swiper-autoheight,.swiper-autoheight ::slotted(swiper-slide){height:auto}.swiper-autoheight .swiper-wrapper{align-items:flex-start;transition-property:transform,height}.swiper-backface-hidden ::slotted(swiper-slide){transform:translateZ(0);-webkit-backface-visibility:hidden;backface-visibility:hidden}.swiper-3d.swiper-css-mode .swiper-wrapper{perspective:1200px}.swiper-3d .swiper-wrapper{transform-style:preserve-3d}.swiper-3d{perspective:1200px}.swiper-3d .swiper-cube-shadow,.swiper-3d ::slotted(swiper-slide){transform-style:preserve-3d}.swiper-css-mode>.swiper-wrapper{overflow:auto;scrollbar-width:none;-ms-overflow-style:none}.swiper-css-mode>.swiper-wrapper::-webkit-scrollbar{display:none}.swiper-css-mode ::slotted(swiper-slide){scroll-snap-align:start start}.swiper-css-mode.swiper-horizontal>.swiper-wrapper{scroll-snap-type:x mandatory}.swiper-css-mode.swiper-vertical>.swiper-wrapper{scroll-snap-type:y mandatory}.swiper-css-mode.swiper-free-mode>.swiper-wrapper{scroll-snap-type:none}.swiper-css-mode.swiper-free-mode ::slotted(swiper-slide){scroll-snap-align:none}.swiper-css-mode.swiper-centered>.swiper-wrapper::before{content:'';flex-shrink:0;order:9999}.swiper-css-mode.swiper-centered ::slotted(swiper-slide){scroll-snap-align:center center;scroll-snap-stop:always}.swiper-css-mode.swiper-centered.swiper-horizontal ::slotted(swiper-slide):first-child{margin-inline-start:var(--swiper-centered-offset-before)}.swiper-css-mode.swiper-centered.swiper-horizontal>.swiper-wrapper::before{height:100%;min-height:1px;width:var(--swiper-centered-offset-after)}.swiper-css-mode.swiper-centered.swiper-vertical ::slotted(swiper-slide):first-child{margin-block-start:var(--swiper-centered-offset-before)}.swiper-css-mode.swiper-centered.swiper-vertical>.swiper-wrapper::before{width:100%;min-width:1px;height:var(--swiper-centered-offset-after)}",v=typeof window>"u"||typeof HTMLElement>"u"?class R{}:HTMLElement,b='<svg width="11" height="20" viewBox="0 0 11 20" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M0.38296 20.0762C0.111788 19.805 0.111788 19.3654 0.38296 19.0942L9.19758 10.2796L0.38296 1.46497C0.111788 1.19379 0.111788 0.754138 0.38296 0.482966C0.654131 0.211794 1.09379 0.211794 1.36496 0.482966L10.4341 9.55214C10.8359 9.9539 10.8359 10.6053 10.4341 11.007L1.36496 20.0762C1.09379 20.3474 0.654131 20.3474 0.38296 20.0762Z" fill="currentColor"/></svg>\n    ',y=(r,o)=>{if(typeof CSSStyleSheet<"u"&&r.adoptedStyleSheets){const e=new CSSStyleSheet;e.replaceSync(o),r.adoptedStyleSheets=[e]}else{const e=document.createElement("style");e.rel="stylesheet",e.textContent=o,r.appendChild(e)}};class x extends v{constructor(){super(),this.attachShadow({mode:"open"})}static get nextButtonSvg(){return b}static get prevButtonSvg(){return b.replace("/></svg>",' transform-origin="center" transform="rotate(180)"/></svg>')}cssStyles(){return[j,...this.injectStyles&&Array.isArray(this.injectStyles)?this.injectStyles:[]].join("\n")}cssLinks(){return this.injectStylesUrls||[]}calcSlideSlots(){const o=this.slideSlots||0,e=[...this.querySelectorAll("[slot^=slide-]")].map(s=>parseInt(s.getAttribute("slot").split("slide-")[1],10));if(this.slideSlots=e.length?Math.max(...e)+1:0,this.rendered)if(this.slideSlots>o)for(let s=o;s<this.slideSlots;s+=1){const i=document.createElement("swiper-slide");i.setAttribute("part",`slide slide-${s+1}`);const l=document.createElement("slot");l.setAttribute("name",`slide-${s+1}`),i.appendChild(l),this.shadowRoot.querySelector(".swiper-wrapper").appendChild(i)}else if(this.slideSlots<o){const s=this.swiper.slides;for(let i=s.length-1;i>=0;i-=1)i>this.slideSlots&&s[i].remove()}}render(){if(this.rendered)return;this.calcSlideSlots();let o=this.cssStyles();this.slideSlots>0&&(o=o.replace(/::slotted\(([a-z-0-9.]*)\)/g,"$1")),o.length&&y(this.shadowRoot,o),this.cssLinks().forEach(s=>{if(this.shadowRoot.querySelector(`link[href="${s}"]`))return;const l=document.createElement("link");l.rel="stylesheet",l.href=s,this.shadowRoot.appendChild(l)});const e=document.createElement("div");e.classList.add("swiper"),e.part="container",e.innerHTML=`\n      <slot name="container-start"></slot>\n      <div class="swiper-wrapper" part="wrapper">\n        <slot></slot>\n        ${Array.from({length:this.slideSlots}).map((s,i)=>`\n        <swiper-slide part="slide slide-${i}">\n          <slot name="slide-${i}"></slot>\n        </swiper-slide>\n        `).join("")}\n      </div>\n      <slot name="container-end"></slot>\n      ${(0,d.n)(this.passedParams)?`\n        <div part="button-prev" class="swiper-button-prev">${this.constructor.prevButtonSvg}</div>\n        <div part="button-next" class="swiper-button-next">${this.constructor.nextButtonSvg}</div>\n      `:""}\n      ${(0,d.a)(this.passedParams)?'\n        <div part="pagination" class="swiper-pagination"></div>\n      ':""}\n      ${(0,d.b)(this.passedParams)?'\n        <div part="scrollbar" class="swiper-scrollbar"></div>\n      ':""}\n    `,this.shadowRoot.appendChild(e),this.rendered=!0}initialize(){var o=this;if(this.initialized)return;this.initialized=!0;const{params:e,passedParams:s}=(0,m.g)(this);this.swiperParams=e,this.passedParams=s,delete this.swiperParams.init,this.render(),this.swiper=new U.S(this.shadowRoot.querySelector(".swiper"),{...e.virtual?{}:{observer:!0,observeSlideChildren:this.slideSlots>0},...e,touchEventsTarget:"container",onAny:function(i){"observerUpdate"===i&&o.calcSlideSlots();const l=e.eventsPrefix?`${e.eventsPrefix}${i.toLowerCase()}`:i.toLowerCase();for(var p=arguments.length,w=new Array(p>1?p-1:0),c=1;c<p;c++)w[c-1]=arguments[c];const H=new CustomEvent(l,{detail:w,bubbles:"hashChange"!==i,cancelable:!0});o.dispatchEvent(H)}})}connectedCallback(){this.initialized&&this.nested&&this.closest("swiper-slide")&&this.closest("swiper-slide").swiperLoopMoveDOM||!1===this.init||"false"===this.getAttribute("init")||this.initialize()}disconnectedCallback(){this.nested&&this.closest("swiper-slide")&&this.closest("swiper-slide").swiperLoopMoveDOM||(this.swiper&&this.swiper.destroy&&this.swiper.destroy(),this.initialized=!1)}updateSwiperOnPropChange(o,e){const{params:s,passedParams:i}=(0,m.g)(this,o,e);this.passedParams=i,this.swiperParams=s,(!this.swiper||this.swiper.params[o]!==e)&&(0,d.u)({swiper:this.swiper,passedParams:this.passedParams,changedParams:[(0,d.c)(o)],..."navigation"===o&&i[o]?{prevEl:".swiper-button-prev",nextEl:".swiper-button-next"}:{},..."pagination"===o&&i[o]?{paginationEl:".swiper-pagination"}:{},..."scrollbar"===o&&i[o]?{scrollbarEl:".swiper-scrollbar"}:{}})}attributeChangedCallback(o,e,s){this.initialized&&("true"===e&&null===s&&(s=!1),this.updateSwiperOnPropChange(o,s))}static get observedAttributes(){return d.p.filter(e=>e.includes("_")).map(e=>e.replace(/[A-Z]/g,s=>`-${s}`).replace("_","").toLowerCase())}}d.p.forEach(r=>{"init"!==r&&(r=r.replace("_",""),Object.defineProperty(x.prototype,r,{configurable:!0,get(){return(this.passedParams||{})[r]},set(o){this.passedParams||(this.passedParams={}),this.passedParams[r]=o,this.initialized&&this.updateSwiperOnPropChange(r,o)}}))});typeof window<"u"&&(window.SwiperElementRegisterParams=r=>{d.p.push(...r)}),typeof window>"u"||(window.customElements.get("swiper-container")||window.customElements.define("swiper-container",x),window.customElements.get("swiper-slide")||window.customElements.define("swiper-slide",class Y extends v{constructor(){super(),this.attachShadow({mode:"open"})}render(){const o=this.lazy||""===this.getAttribute("lazy")||"true"===this.getAttribute("lazy");if(y(this.shadowRoot,"::slotted(.swiper-slide-shadow),::slotted(.swiper-slide-shadow-bottom),::slotted(.swiper-slide-shadow-left),::slotted(.swiper-slide-shadow-right),::slotted(.swiper-slide-shadow-top){position:absolute;left:0;top:0;width:100%;height:100%;pointer-events:none;z-index:10}::slotted(.swiper-slide-shadow){background:rgba(0,0,0,.15)}::slotted(.swiper-slide-shadow-left){background-image:linear-gradient(to left,rgba(0,0,0,.5),rgba(0,0,0,0))}::slotted(.swiper-slide-shadow-right){background-image:linear-gradient(to right,rgba(0,0,0,.5),rgba(0,0,0,0))}::slotted(.swiper-slide-shadow-top){background-image:linear-gradient(to top,rgba(0,0,0,.5),rgba(0,0,0,0))}::slotted(.swiper-slide-shadow-bottom){background-image:linear-gradient(to bottom,rgba(0,0,0,.5),rgba(0,0,0,0))}.swiper-lazy-preloader{animation:swiper-preloader-spin 1s infinite linear;width:42px;height:42px;position:absolute;left:50%;top:50%;margin-left:-21px;margin-top:-21px;z-index:10;transform-origin:50%;box-sizing:border-box;border:4px solid var(--swiper-preloader-color,var(--swiper-theme-color));border-radius:50%;border-top-color:transparent}@keyframes swiper-preloader-spin{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}::slotted(.swiper-slide-shadow-cube.swiper-slide-shadow-bottom),::slotted(.swiper-slide-shadow-cube.swiper-slide-shadow-left),::slotted(.swiper-slide-shadow-cube.swiper-slide-shadow-right),::slotted(.swiper-slide-shadow-cube.swiper-slide-shadow-top){z-index:0;-webkit-backface-visibility:hidden;backface-visibility:hidden}::slotted(.swiper-slide-shadow-flip.swiper-slide-shadow-bottom),::slotted(.swiper-slide-shadow-flip.swiper-slide-shadow-left),::slotted(.swiper-slide-shadow-flip.swiper-slide-shadow-right),::slotted(.swiper-slide-shadow-flip.swiper-slide-shadow-top){z-index:0;-webkit-backface-visibility:hidden;backface-visibility:hidden}::slotted(.swiper-zoom-container){width:100%;height:100%;display:flex;justify-content:center;align-items:center;text-align:center}::slotted(.swiper-zoom-container)>canvas,::slotted(.swiper-zoom-container)>img,::slotted(.swiper-zoom-container)>svg{max-width:100%;max-height:100%;object-fit:contain}"),this.shadowRoot.appendChild(document.createElement("slot")),o){const e=document.createElement("div");e.classList.add("swiper-lazy-preloader"),e.part.add("preloader"),this.shadowRoot.appendChild(e)}}initialize(){this.render()}connectedCallback(){this.initialize()}}));let J=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=t.oAB({type:r}),r.\u0275inj=t.cJS({imports:[f.ez,S.u5,a.Pc,F.e,L]}),r})()}}]);