(self.webpackChunkapp=self.webpackChunkapp||[]).push([[179],{2313:(Jn,Ft,z)=>{"use strict";z.d(Ft,{nm:()=>Fi});var d=z(3324),qe=(z(2223),z(3692),z(259),z(5861)),je=z(6881),Se=z(4859),Re=z(2090),Ze=z(1877);const Le=new Map,xe={activated:!1,tokenObservers:[]},it={initialized:!1,enabled:!1};function Me(re){return Le.get(re)||Object.assign({},xe)}function pt(){return it}const jt="https://content-firebaseappcheck.googleapis.com/v1",kt="exchangeDebugToken",Mt={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class It{constructor(pe,Oe,Ee,ne,ve){if(this.operation=pe,this.retryPolicy=Oe,this.getWaitDuration=Ee,this.lowerBound=ne,this.upperBound=ve,this.pending=null,this.nextErrorWaitInterval=ne,ne>ve)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(pe){var Oe=this;return(0,qe.Z)(function*(){Oe.stop();try{Oe.pending=new Re.BH,yield function St(re){return new Promise(pe=>{setTimeout(pe,re)})}(Oe.getNextRun(pe)),Oe.pending.resolve(),yield Oe.pending.promise,Oe.pending=new Re.BH,yield Oe.operation(),Oe.pending.resolve(),yield Oe.pending.promise,Oe.process(!0).catch(()=>{})}catch(Ee){Oe.retryPolicy(Ee)?Oe.process(!1).catch(()=>{}):Oe.stop()}})()}getNextRun(pe){if(pe)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const Oe=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),Oe}}}const gt=new Re.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function Te(){return(Te=(0,qe.Z)(function*({url:re,body:pe},Oe){const Ee={"Content-Type":"application/json"},ne=Oe.getImmediate({optional:!0});if(ne){const jn=yield ne.getHeartbeatsHeader();jn&&(Ee["X-Firebase-Client"]=jn)}const ve={method:"POST",body:JSON.stringify(pe),headers:Ee};let st,wt;try{st=yield fetch(re,ve)}catch(jn){throw gt.create("fetch-network-error",{originalErrorMessage:null==jn?void 0:jn.message})}if(200!==st.status)throw gt.create("fetch-status-error",{httpStatus:st.status});try{wt=yield st.json()}catch(jn){throw gt.create("fetch-parse-error",{originalErrorMessage:null==jn?void 0:jn.message})}const $t=wt.ttl.match(/^([\d.]+)(s)$/);if(!$t||!$t[2]||isNaN(Number($t[1])))throw gt.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${wt.ttl}`});const tn=1e3*Number($t[1]),Un=Date.now();return{token:wt.token,expireTimeMillis:Un+tn,issuedAtTimeMillis:Un}})).apply(this,arguments)}const et="firebase-app-check-database",tt=1,dt="firebase-app-check-store";let Ot=null;function gn(){return(gn=(0,qe.Z)(function*(re,pe){const Ee=(yield function en(){return Ot||(Ot=new Promise((re,pe)=>{try{const Oe=indexedDB.open(et,tt);Oe.onsuccess=Ee=>{re(Ee.target.result)},Oe.onerror=Ee=>{var ne;pe(gt.create("storage-open",{originalErrorMessage:null===(ne=Ee.target.error)||void 0===ne?void 0:ne.message}))},Oe.onupgradeneeded=Ee=>{0===Ee.oldVersion&&Ee.target.result.createObjectStore(dt,{keyPath:"compositeKey"})}}catch(Oe){pe(gt.create("storage-open",{originalErrorMessage:null==Oe?void 0:Oe.message}))}}),Ot)}()).transaction(dt,"readwrite"),ve=Ee.objectStore(dt).put({compositeKey:re,value:pe});return new Promise((st,wt)=>{ve.onsuccess=$t=>{st()},Ee.onerror=$t=>{var tn;wt(gt.create("storage-set",{originalErrorMessage:null===(tn=$t.target.error)||void 0===tn?void 0:tn.message}))}})})).apply(this,arguments)}const un=new Ze.Yd("@firebase/app-check");function Pr(re,pe){return(0,Re.hl)()?function On(re,pe){return function cn(re,pe){return gn.apply(this,arguments)}(function ur(re){return`${re.options.appId}-${re.name}`}(re),pe)}(re,pe).catch(Oe=>{un.warn(`Failed to write token to IndexedDB. Error: ${Oe}`)}):Promise.resolve()}function Wr(){return(Wr=(0,qe.Z)(function*(){const re=pt();if(re.enabled&&re.token)return re.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const Ai={error:"UNKNOWN_ERROR"};function bi(re){return Re.US.encodeString(JSON.stringify(re),!1)}function lr(re){return ir.apply(this,arguments)}function ir(){return(ir=(0,qe.Z)(function*(re,pe=!1){const Oe=re.app;!function Gt(re){if(!Me(re).activated)throw gt.create("use-before-activation",{appName:re.name})}(Oe);const Ee=Me(Oe);let ve,ne=Ee.token;if(ne&&!hr(ne)&&(Ee.token=void 0,ne=void 0),!ne){const $t=yield Ee.cachedTokenPromise;$t&&(hr($t)?ne=$t:yield Pr(Oe,void 0))}if(!pe&&ne&&hr(ne))return{token:ne.token};let wt,st=!1;if(function Pn(){return pt().enabled}()){Ee.exchangeTokenPromise||(Ee.exchangeTokenPromise=function qt(re,pe){return Te.apply(this,arguments)}(function yt(re,pe){const{projectId:Oe,appId:Ee,apiKey:ne}=re.options;return{url:`${jt}/projects/${Oe}/apps/${Ee}:${kt}?key=${ne}`,body:{debug_token:pe}}}(Oe,yield function oi(){return Wr.apply(this,arguments)}()),re.heartbeatServiceProvider).finally(()=>{Ee.exchangeTokenPromise=void 0}),st=!0);const $t=yield Ee.exchangeTokenPromise;return yield Pr(Oe,$t),Ee.token=$t,{token:$t.token}}try{Ee.exchangeTokenPromise||(Ee.exchangeTokenPromise=Ee.provider.getToken().finally(()=>{Ee.exchangeTokenPromise=void 0}),st=!0),ne=yield Me(Oe).exchangeTokenPromise}catch($t){"appCheck/throttled"===$t.code?un.warn($t.message):un.error($t),ve=$t}return ne?ve?wt=hr(ne)?{token:ne.token,internalError:ve}:Di(ve):(wt={token:ne.token},Ee.token=ne,yield Pr(Oe,ne)):wt=Di(ve),st&&function br(re,pe){const Oe=Me(re).tokenObservers;for(const Ee of Oe)try{"EXTERNAL"===Ee.type&&null!=pe.error?Ee.error(pe.error):Ee.next(pe)}catch{}}(Oe,wt),wt})).apply(this,arguments)}function ni(re,pe){const Oe=Me(re),Ee=Oe.tokenObservers.filter(ne=>ne.next!==pe);0===Ee.length&&Oe.tokenRefresher&&Oe.tokenRefresher.isRunning()&&Oe.tokenRefresher.stop(),Oe.tokenObservers=Ee}function di(re){const{app:pe}=re,Oe=Me(pe);let Ee=Oe.tokenRefresher;Ee||(Ee=function Ti(re){const{app:pe}=re;return new It((0,qe.Z)(function*(){let Ee;if(Ee=Me(pe).token?yield lr(re,!0):yield lr(re),Ee.error)throw Ee.error;if(Ee.internalError)throw Ee.internalError}),()=>!0,()=>{const Oe=Me(pe);if(Oe.token){let Ee=Oe.token.issuedAtTimeMillis+.5*(Oe.token.expireTimeMillis-Oe.token.issuedAtTimeMillis)+3e5;return Ee=Math.min(Ee,Oe.token.expireTimeMillis-3e5),Math.max(0,Ee-Date.now())}return 0},Mt.RETRIAL_MIN_WAIT,Mt.RETRIAL_MAX_WAIT)}(re),Oe.tokenRefresher=Ee),!Ee.isRunning()&&Oe.isTokenAutoRefreshEnabled&&Ee.start()}function hr(re){return re.expireTimeMillis-Date.now()>0}function Di(re){return{token:bi(Ai),error:re}}class Er{constructor(pe,Oe){this.app=pe,this.heartbeatServiceProvider=Oe}_delete(){const{tokenObservers:pe}=Me(this.app);for(const Oe of pe)ni(this.app,Oe.next);return Promise.resolve()}}const qn="app-check-internal";!function pr(){(0,je._registerComponent)(new Se.wA("app-check",re=>function Sn(re,pe){return new Er(re,pe)}(re.getProvider("app").getImmediate(),re.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((re,pe,Oe)=>{re.getProvider(qn).initialize()})),(0,je._registerComponent)(new Se.wA(qn,re=>function Ne(re){return{getToken:pe=>lr(re,pe),addTokenListener:pe=>function gi(re,pe,Oe,Ee){const{app:ne}=re,ve=Me(ne);if(ve.tokenObservers=[...ve.tokenObservers,{next:Oe,error:Ee,type:pe}],ve.token&&hr(ve.token)){const wt=ve.token;Promise.resolve().then(()=>{Oe({token:wt.token}),di(re)}).catch(()=>{})}ve.cachedTokenPromise.then(()=>di(re))}(re,"INTERNAL",pe),removeTokenListener:pe=>ni(re.app,pe)}}(re.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,je.registerVersion)("@firebase/app-check","0.7.0")}();class Fi{constructor(){return(0,d.vb)("app-check")}}typeof window<"u"&&window},3692:(Jn,Ft,z)=>{"use strict";z.d(Ft,{Ot:()=>ke,ZF:()=>We,hX:()=>Me,z6:()=>qe});var d=z(259),E=z(2223),be=z(3324);class ke{constructor(It){return It}}class qe{constructor(){return(0,d.C6)()}}const Re=new E.OlP("angularfire2._apps"),Ze={provide:ke,useFactory:function Se(ft){return ft&&1===ft.length?ft[0]:new ke((0,d.Mq)())},deps:[[new E.FiY,Re]]},Le={provide:qe,deps:[[new E.FiY,Re]]};function xe(ft){return(It,St)=>{const Ct=It.runOutsideAngular(()=>ft(St));return new ke(Ct)}}let it=(()=>{class ft{constructor(St){(0,d.KN)("angularfire",be.q4.full,"core"),(0,d.KN)("angularfire",be.q4.full,"app"),(0,d.KN)("angular",E.q4F.full,St.toString())}}return ft.\u0275fac=function(St){return new(St||ft)(E.LFG(E.Lbi))},ft.\u0275mod=E.oAB({type:ft}),ft.\u0275inj=E.cJS({providers:[Ze,Le]}),ft})();function Me(ft,...It){return{ngModule:it,providers:[{provide:Re,useFactory:xe(ft),multi:!0,deps:[E.R0b,E.zs3,be.HU,...It]}]}}const We=(0,be.u3)(d.ZF,!0)},7246:(Jn,Ft,z)=>{"use strict";z.d(Ft,{dh:()=>Me,v0:()=>yt,AR:()=>ft});var d=z(3324),E=z(2223),be=z(3692),ke=z(259),qe=z(2313),je=z(1389);z(2090),z(6881),z(1877),z(4859);class it{constructor(Wt){return Wt}}class Me{constructor(){return(0,d.vb)("auth")}}const pt=new E.OlP("angularfire2.auth-instances");function We(ht){return(Wt,wn)=>{const Hn=Wt.runOutsideAngular(()=>ht(wn));return new it(Hn)}}const Be={provide:Me,deps:[[new E.FiY,pt]]},kt={provide:it,useFactory:function jt(ht,Wt){const wn=(0,d.JM)("auth",ht,Wt);return wn&&new it(wn)},deps:[[new E.FiY,pt],be.Ot]};let Mt=(()=>{class ht{constructor(){(0,ke.KN)("angularfire",d.q4.full,"auth")}}return ht.\u0275fac=function(wn){return new(wn||ht)},ht.\u0275mod=E.oAB({type:ht}),ht.\u0275inj=E.cJS({providers:[kt,Be]}),ht})();function ft(ht,...Wt){return{ngModule:Mt,providers:[{provide:pt,useFactory:We(ht),multi:!0,deps:[E.R0b,E.zs3,d.HU,be.z6,[new E.FiY,qe.nm],...Wt]}]}}const yt=(0,d.u3)(je.o,!0)},3385:(Jn,Ft,z)=>{"use strict";z.d(Ft,{zQ:()=>Lt,ww:()=>qt,rT:()=>gt,f7:()=>Gt,L6:()=>St,_Q:()=>Ct,lh:()=>te,Qv:()=>It,nw:()=>Dt});var d=z(2223),E=z(7579),be=z(9646),ke=z(9751),qe=z(8996),je=z(6451),Se=z(5363),Re=z(3900),Ze=z(4004),Le=z(3151),xe=z(590),it=z(576);function Me(Te,Je){return(0,it.m)(Je)?(0,Re.w)(()=>Te,Je):(0,Re.w)(()=>Te)}var lt=z(9468),pt=z(9300),jt=z(3324),We=z(2011),Be=z(4755),kt=z(2313),Mt=z(9260);const It=new d.OlP("angularfire2.auth.use-emulator"),St=new d.OlP("angularfire2.auth.settings"),Ct=new d.OlP("angularfire2.auth.tenant-id"),gt=new d.OlP("angularfire2.auth.langugage-code"),te=new d.OlP("angularfire2.auth.use-device-language"),Gt=new d.OlP("angularfire.auth.persistence"),Dt=(Te,Je,ct,yt,et,tt,dt,Ut)=>(0,We.cc)(`${Te.name}.auth`,"AngularFireAuth",Te.name,()=>{const Ot=Je.runOutsideAngular(()=>Te.auth());if(ct&&Ot.useEmulator(...ct),yt&&(Ot.tenantId=yt),Ot.languageCode=et,tt&&Ot.useDeviceLanguage(),dt)for(const[en,rn]of Object.entries(dt))Ot.settings[en]=rn;return Ut&&Ot.setPersistence(Ut),Ot},[ct,yt,et,tt,dt,Ut]);let Lt=(()=>{class Te{constructor(ct,yt,et,tt,dt,Ut,Ot,en,rn,On,nn,_t){const cn=new E.x,gn=(0,be.of)(void 0).pipe((0,Se.Q)(dt.outsideAngular),(0,Re.w)(()=>tt.runOutsideAngular(()=>Promise.resolve().then(z.bind(z,9568)))),(0,Ze.U)(()=>(0,We.on)(ct,tt,yt)),(0,Ze.U)(Zn=>Dt(Zn,tt,Ut,en,rn,On,Ot,nn)),(0,Le.d)({bufferSize:1,refCount:!1}));if((0,Be.PM)(et))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,be.of)(null);else{gn.pipe((0,xe.P)()).subscribe();const tr=gn.pipe((0,Re.w)(rr=>rr.getRedirectResult().then(an=>an,()=>null)),jt.iC,(0,Le.d)({bufferSize:1,refCount:!1})),ur=gn.pipe((0,Re.w)(rr=>new ke.y(an=>({unsubscribe:tt.runOutsideAngular(()=>rr.onAuthStateChanged(Pr=>an.next(Pr),Pr=>an.error(Pr),()=>an.complete()))})))),un=gn.pipe((0,Re.w)(rr=>new ke.y(an=>({unsubscribe:tt.runOutsideAngular(()=>rr.onIdTokenChanged(Pr=>an.next(Pr),Pr=>an.error(Pr),()=>an.complete()))}))));this.authState=tr.pipe(Me(ur),(0,lt.R)(dt.outsideAngular),(0,Se.Q)(dt.insideAngular)),this.user=tr.pipe(Me(un),(0,lt.R)(dt.outsideAngular),(0,Se.Q)(dt.insideAngular)),this.idToken=this.user.pipe((0,Re.w)(rr=>rr?(0,qe.D)(rr.getIdToken()):(0,be.of)(null))),this.idTokenResult=this.user.pipe((0,Re.w)(rr=>rr?(0,qe.D)(rr.getIdTokenResult()):(0,be.of)(null))),this.credential=(0,je.T)(tr,cn,this.authState.pipe((0,pt.h)(rr=>!rr))).pipe((0,Ze.U)(rr=>null!=rr&&rr.user?rr:null),(0,lt.R)(dt.outsideAngular),(0,Se.Q)(dt.insideAngular))}return(0,We.pX)(this,gn,tt,{spy:{apply:(Zn,tr,ur)=>{(Zn.startsWith("signIn")||Zn.startsWith("createUser"))&&ur.then(un=>cn.next(un))}}})}}return Te.\u0275fac=function(ct){return new(ct||Te)(d.LFG(We.Dh),d.LFG(We.xv,8),d.LFG(d.Lbi),d.LFG(d.R0b),d.LFG(jt.HU),d.LFG(It,8),d.LFG(St,8),d.LFG(Ct,8),d.LFG(gt,8),d.LFG(te,8),d.LFG(Gt,8),d.LFG(kt.nm,8))},Te.\u0275prov=d.Yz7({token:Te,factory:Te.\u0275fac,providedIn:"any"}),Te})(),qt=(()=>{class Te{constructor(){Mt.Z.registerVersion("angularfire",jt.q4.full,"auth-compat")}}return Te.\u0275fac=function(ct){return new(ct||Te)},Te.\u0275mod=d.oAB({type:Te}),Te.\u0275inj=d.cJS({providers:[Lt]}),Te})()},5197:(Jn,Ft,z)=>{"use strict";z.d(Ft,{KQ:()=>_u,JS:()=>Lf});var d=z(2223),E=z(4986),be=z(9751),ke=z(9646),qe=z(6451),je=z(4004),Se=z(3099),Re=z(3900),Ze=z(5026),Le=z(1884),xe=z(4482),it=z(5403),Me=z(8421),lt=z(4671),pt=z(5032),jt=z(7669),kt=z(3324),Mt=z(2011),It=(z(9568),z(3942)),St=z(4859),Ct=z(5861),gt=z(6881),te=z(2090),Gt=z(1877);const Dt="@firebase/database";let qt="";function Te(v){qt=v}class Je{constructor(p){this.domStorage_=p,this.prefix_="firebase:"}set(p,g){null==g?this.domStorage_.removeItem(this.prefixedName_(p)):this.domStorage_.setItem(this.prefixedName_(p),(0,te.Wl)(g))}get(p){const g=this.domStorage_.getItem(this.prefixedName_(p));return null==g?null:(0,te.cI)(g)}remove(p){this.domStorage_.removeItem(this.prefixedName_(p))}prefixedName_(p){return this.prefix_+p}toString(){return this.domStorage_.toString()}}class ct{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(p,g){null==g?delete this.cache_[p]:this.cache_[p]=g}get(p){return(0,te.r3)(this.cache_,p)?this.cache_[p]:null}remove(p){delete this.cache_[p]}}const yt=function(v){try{if(typeof window<"u"&&typeof window[v]<"u"){const p=window[v];return p.setItem("firebase:sentinel","cache"),p.removeItem("firebase:sentinel"),new Je(p)}}catch{}return new ct},et=yt("localStorage"),tt=yt("sessionStorage"),dt=new Gt.Yd("@firebase/database"),Ut=function(){let v=1;return function(){return v++}}(),Ot=function(v){const p=(0,te.dS)(v),g=new te.gQ;g.update(p);const D=g.digest();return te.US.encodeByteArray(D)},en=function(...v){let p="";for(let g=0;g<v.length;g++){const D=v[g];Array.isArray(D)||D&&"object"==typeof D&&"number"==typeof D.length?p+=en.apply(null,D):p+="object"==typeof D?(0,te.Wl)(D):D,p+=" "}return p};let rn=null,On=!0;const nn=function(v,p){(0,te.hu)(!p||!0===v||!1===v,"Can't turn on custom loggers persistently."),!0===v?(dt.logLevel=Gt.in.VERBOSE,rn=dt.log.bind(dt),p&&tt.set("logging_enabled",!0)):"function"==typeof v?rn=v:(rn=null,tt.remove("logging_enabled"))},_t=function(...v){if(!0===On&&(On=!1,null===rn&&!0===tt.get("logging_enabled")&&nn(!0)),rn){const p=en.apply(null,v);rn(p)}},cn=function(v){return function(...p){_t(v,...p)}},gn=function(...v){const p="FIREBASE INTERNAL ERROR: "+en(...v);dt.error(p)},Zn=function(...v){const p=`FIREBASE FATAL ERROR: ${en(...v)}`;throw dt.error(p),new Error(p)},tr=function(...v){const p="FIREBASE WARNING: "+en(...v);dt.warn(p)},un=function(v){return"number"==typeof v&&(v!=v||v===Number.POSITIVE_INFINITY||v===Number.NEGATIVE_INFINITY)},an="[MIN_NAME]",Pr="[MAX_NAME]",Br=function(v,p){if(v===p)return 0;if(v===an||p===Pr)return-1;if(p===an||v===Pr)return 1;{const g=ni(v),D=ni(p);return null!==g?null!==D?g-D==0?v.length-p.length:g-D:-1:null!==D?1:v<p?-1:1}},Ar=function(v,p){return v===p?0:v<p?-1:1},Pn=function(v,p){if(p&&v in p)return p[v];throw new Error("Missing required key ("+v+") in object: "+(0,te.Wl)(p))},oi=function(v){if("object"!=typeof v||null===v)return(0,te.Wl)(v);const p=[];for(const D in v)p.push(D);p.sort();let g="{";for(let D=0;D<p.length;D++)0!==D&&(g+=","),g+=(0,te.Wl)(p[D]),g+=":",g+=oi(v[p[D]]);return g+="}",g},Wr=function(v,p){const g=v.length;if(g<=p)return[v];const D=[];for(let B=0;B<g;B+=p)D.push(v.substring(B,B+p>g?g:B+p));return D};function ar(v,p){for(const g in v)v.hasOwnProperty(g)&&p(g,v[g])}const Ai=function(v){(0,te.hu)(!un(v),"Invalid JSON number");const D=1023;let B,J,fe,Ve,bt;0===v?(J=0,fe=0,B=1/v==-1/0?1:0):(B=v<0,(v=Math.abs(v))>=Math.pow(2,1-D)?(Ve=Math.min(Math.floor(Math.log(v)/Math.LN2),D),J=Ve+D,fe=Math.round(v*Math.pow(2,52-Ve)-Math.pow(2,52))):(J=0,fe=Math.round(v/Math.pow(2,-1074))));const Rt=[];for(bt=52;bt;bt-=1)Rt.push(fe%2?1:0),fe=Math.floor(fe/2);for(bt=11;bt;bt-=1)Rt.push(J%2?1:0),J=Math.floor(J/2);Rt.push(B?1:0),Rt.reverse();const Fn=Rt.join("");let Ln="";for(bt=0;bt<64;bt+=8){let nr=parseInt(Fn.substr(bt,8),2).toString(16);1===nr.length&&(nr="0"+nr),Ln+=nr}return Ln.toLowerCase()},mr=new RegExp("^-?(0*)\\d{1,10}$"),ni=function(v){if(mr.test(v)){const p=Number(v);if(p>=-2147483648&&p<=2147483647)return p}return null},di=function(v){try{v()}catch(p){setTimeout(()=>{throw tr("Exception was thrown by user callback.",p.stack||""),p},Math.floor(0))}},br=function(v,p){const g=setTimeout(v,p);return"number"==typeof g&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(g):"object"==typeof g&&g.unref&&g.unref(),g};class hr{constructor(p,g){this.appName_=p,this.appCheckProvider=g,this.appCheck=null==g?void 0:g.getImmediate({optional:!0}),this.appCheck||null==g||g.get().then(D=>this.appCheck=D)}getToken(p){return this.appCheck?this.appCheck.getToken(p):new Promise((g,D)=>{setTimeout(()=>{this.appCheck?this.getToken(p).then(g,D):g(null)},0)})}addTokenChangeListener(p){var g;null===(g=this.appCheckProvider)||void 0===g||g.get().then(D=>D.addTokenListener(p))}notifyForInvalidToken(){tr(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class Di{constructor(p,g,D){this.appName_=p,this.firebaseOptions_=g,this.authProvider_=D,this.auth_=null,this.auth_=D.getImmediate({optional:!0}),this.auth_||D.onInit(B=>this.auth_=B)}getToken(p){return this.auth_?this.auth_.getToken(p).catch(g=>g&&"auth/token-not-initialized"===g.code?(_t("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(g)):new Promise((g,D)=>{setTimeout(()=>{this.auth_?this.getToken(p).then(g,D):g(null)},0)})}addTokenChangeListener(p){this.auth_?this.auth_.addAuthTokenListener(p):this.authProvider_.get().then(g=>g.addAuthTokenListener(p))}removeTokenChangeListener(p){this.authProvider_.get().then(g=>g.removeAuthTokenListener(p))}notifyForInvalidToken(){let p='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';p+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',tr(p)}}let Er=(()=>{class v{constructor(g){this.accessToken=g}getToken(g){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(g){g(this.accessToken)}removeTokenChangeListener(g){}notifyForInvalidToken(){}}return v.OWNER="owner",v})();const Hn=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,mt="websocket",Ae="long_polling";class ie{constructor(p,g,D,B,J=!1,fe="",Ve=!1,bt=!1){this.secure=g,this.namespace=D,this.webSocketOnly=B,this.nodeAdmin=J,this.persistenceKey=fe,this.includeNamespaceInQueryParams=Ve,this.isUsingEmulator=bt,this._host=p.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=et.get("host:"+p)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(p){p!==this.internalHost&&(this.internalHost=p,this.isCacheableHost()&&et.set("host:"+this._host,this.internalHost))}toString(){let p=this.toURLString();return this.persistenceKey&&(p+="<"+this.persistenceKey+">"),p}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function se(v,p,g){let D;if((0,te.hu)("string"==typeof p,"typeof type must == string"),(0,te.hu)("object"==typeof g,"typeof params must == object"),p===mt)D=(v.secure?"wss://":"ws://")+v.internalHost+"/.ws?";else{if(p!==Ae)throw new Error("Unknown connection type: "+p);D=(v.secure?"https://":"http://")+v.internalHost+"/.lp?"}(function ee(v){return v.host!==v.internalHost||v.isCustomHost()||v.includeNamespaceInQueryParams})(v)&&(g.ns=v.namespace);const B=[];return ar(g,(J,fe)=>{B.push(J+"="+fe)}),D+B.join("&")}class Ke{constructor(){this.counters_={}}incrementCounter(p,g=1){(0,te.r3)(this.counters_,p)||(this.counters_[p]=0),this.counters_[p]+=g}get(){return(0,te.p$)(this.counters_)}}const xt={},rt={};function Vt(v){const p=v.toString();return xt[p]||(xt[p]=new Ke),xt[p]}class Cn{constructor(p){this.onMessage_=p,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(p,g){this.closeAfterResponse=p,this.onClose=g,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(p,g){for(this.pendingResponses[p]=g;this.pendingResponses[this.currentResponseNum];){const D=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let B=0;B<D.length;++B)D[B]&&di(()=>{this.onMessage_(D[B])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class Os{constructor(p,g,D,B,J,fe,Ve){this.connId=p,this.repoInfo=g,this.applicationId=D,this.appCheckToken=B,this.authToken=J,this.transportSessionId=fe,this.lastSessionId=Ve,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=cn(p),this.stats_=Vt(g),this.urlFn=bt=>(this.appCheckToken&&(bt.ac=this.appCheckToken),se(g,Ae,bt))}open(p,g){this.curSegmentNum=0,this.onDisconnect_=g,this.myPacketOrderer=new Cn(p),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(v){if((0,te.Yr)()||"complete"===document.readyState)v();else{let p=!1;const g=function(){document.body?p||(p=!0,v()):setTimeout(g,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",g,!1),window.addEventListener("load",g,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&g()}),window.attachEvent("onload",g))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new to((...J)=>{const[fe,Ve,bt,Rt,Fn]=J;if(this.incrementIncomingBytes_(J),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===fe)this.id=Ve,this.password=bt;else{if("close"!==fe)throw new Error("Unrecognized command received: "+fe);Ve?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(Ve,()=>{this.onClosed_()})):this.onClosed_()}},(...J)=>{const[fe,Ve]=J;this.incrementIncomingBytes_(J),this.myPacketOrderer.handleResponse(fe,Ve)},()=>{this.onClosed_()},this.urlFn);const D={start:"t"};D.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(D.cb=this.scriptTagHolder.uniqueCallbackIdentifier),D.v="5",this.transportSessionId&&(D.s=this.transportSessionId),this.lastSessionId&&(D.ls=this.lastSessionId),this.applicationId&&(D.p=this.applicationId),this.appCheckToken&&(D.ac=this.appCheckToken),typeof location<"u"&&location.hostname&&Hn.test(location.hostname)&&(D.r="f");const B=this.urlFn(D);this.log_("Connecting via long-poll to "+B),this.scriptTagHolder.addTag(B,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Os.forceAllow_=!0}static forceDisallow(){Os.forceDisallow_=!0}static isAvailable(){return!((0,te.Yr)()||!Os.forceAllow_&&(Os.forceDisallow_||!(typeof document<"u")||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(p){const g=(0,te.Wl)(p);this.bytesSent+=g.length,this.stats_.incrementCounter("bytes_sent",g.length);const D=(0,te.h$)(g),B=Wr(D,1840);for(let J=0;J<B.length;J++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,B.length,B[J]),this.curSegmentNum++}addDisconnectPingFrame(p,g){if((0,te.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const D={dframe:"t"};D.id=p,D.pw=g,this.myDisconnFrame.src=this.urlFn(D),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(p){const g=(0,te.Wl)(p).length;this.bytesReceived+=g,this.stats_.incrementCounter("bytes_received",g)}}class to{constructor(p,g,D,B){if(this.onDisconnect=D,this.urlFn=B,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,te.Yr)())this.commandCB=p,this.onMessageCB=g;else{this.uniqueCallbackIdentifier=Ut(),window["pLPCommand"+this.uniqueCallbackIdentifier]=p,window["pRTLPCB"+this.uniqueCallbackIdentifier]=g,this.myIFrame=to.createIFrame_();let J="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(J='<script>document.domain="'+document.domain+'";<\/script>');const fe="<html><body>"+J+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(fe),this.myIFrame.doc.close()}catch(Ve){_t("frame writing exception"),Ve.stack&&_t(Ve.stack),_t(Ve)}}}static createIFrame_(){const p=document.createElement("iframe");if(p.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(p);try{p.contentWindow.document||_t("No IE domain setting required")}catch{const D=document.domain;p.src="javascript:void((function(){document.open();document.domain='"+D+"';document.close();})())"}return p.contentDocument?p.doc=p.contentDocument:p.contentWindow?p.doc=p.contentWindow.document:p.document&&(p.doc=p.document),p}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const p=this.onDisconnect;p&&(this.onDisconnect=null,p())}startLongPoll(p,g){for(this.myID=p,this.myPW=g,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const p={};p.id=this.myID,p.pw=this.myPW,p.ser=this.currentSerial;let g=this.urlFn(p),D="",B=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+D.length<=1870;){const fe=this.pendingSegs.shift();D=D+"&seg"+B+"="+fe.seg+"&ts"+B+"="+fe.ts+"&d"+B+"="+fe.d,B++}return g+=D,this.addLongPollTag_(g,this.currentSerial),!0}return!1}enqueueSegment(p,g,D){this.pendingSegs.push({seg:p,ts:g,d:D}),this.alive&&this.newRequest_()}addLongPollTag_(p,g){this.outstandingRequests.add(g);const D=()=>{this.outstandingRequests.delete(g),this.newRequest_()},B=setTimeout(D,Math.floor(25e3));this.addTag(p,()=>{clearTimeout(B),D()})}addTag(p,g){(0,te.Yr)()?this.doNodeLongPoll(p,g):setTimeout(()=>{try{if(!this.sendNewPolls)return;const D=this.myIFrame.doc.createElement("script");D.type="text/javascript",D.async=!0,D.src=p,D.onload=D.onreadystatechange=function(){const B=D.readyState;(!B||"loaded"===B||"complete"===B)&&(D.onload=D.onreadystatechange=null,D.parentNode&&D.parentNode.removeChild(D),g())},D.onerror=()=>{_t("Long-poll script failed to load: "+p),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(D)}catch{}},Math.floor(1))}}let Eo=null;typeof MozWebSocket<"u"?Eo=MozWebSocket:typeof WebSocket<"u"&&(Eo=WebSocket);let es=(()=>{class v{constructor(g,D,B,J,fe,Ve,bt){this.connId=g,this.applicationId=B,this.appCheckToken=J,this.authToken=fe,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=cn(this.connId),this.stats_=Vt(D),this.connURL=v.connectionURL_(D,Ve,bt,J,B),this.nodeAdmin=D.nodeAdmin}static connectionURL_(g,D,B,J,fe){const Ve={v:"5"};return!(0,te.Yr)()&&typeof location<"u"&&location.hostname&&Hn.test(location.hostname)&&(Ve.r="f"),D&&(Ve.s=D),B&&(Ve.ls=B),J&&(Ve.ac=J),fe&&(Ve.p=fe),se(g,mt,Ve)}open(g,D){this.onDisconnect=D,this.onMessage=g,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,et.set("previous_websocket_failure",!0);try{let B;if((0,te.Yr)()){B={headers:{"User-Agent":`Firebase/5/${qt}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(B.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(B.headers["X-Firebase-AppCheck"]=this.appCheckToken);const fe=process.env,Ve=0===this.connURL.indexOf("wss://")?fe.HTTPS_PROXY||fe.https_proxy:fe.HTTP_PROXY||fe.http_proxy;Ve&&(B.proxy={origin:Ve})}this.mySock=new Eo(this.connURL,[],B)}catch(B){this.log_("Error instantiating WebSocket.");const J=B.message||B.data;return J&&this.log_(J),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=B=>{this.handleIncomingFrame(B)},this.mySock.onerror=B=>{this.log_("WebSocket error.  Closing connection.");const J=B.message||B.data;J&&this.log_(J),this.onClosed_()}}start(){}static forceDisallow(){v.forceDisallow_=!0}static isAvailable(){let g=!1;if(typeof navigator<"u"&&navigator.userAgent){const B=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);B&&B.length>1&&parseFloat(B[1])<4.4&&(g=!0)}return!g&&null!==Eo&&!v.forceDisallow_}static previouslyFailed(){return et.isInMemoryStorage||!0===et.get("previous_websocket_failure")}markConnectionHealthy(){et.remove("previous_websocket_failure")}appendFrame_(g){if(this.frames.push(g),this.frames.length===this.totalFrames){const D=this.frames.join("");this.frames=null;const B=(0,te.cI)(D);this.onMessage(B)}}handleNewFrameCount_(g){this.totalFrames=g,this.frames=[]}extractFrameCount_(g){if((0,te.hu)(null===this.frames,"We already have a frame buffer"),g.length<=6){const D=Number(g);if(!isNaN(D))return this.handleNewFrameCount_(D),null}return this.handleNewFrameCount_(1),g}handleIncomingFrame(g){if(null===this.mySock)return;const D=g.data;if(this.bytesReceived+=D.length,this.stats_.incrementCounter("bytes_received",D.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(D);else{const B=this.extractFrameCount_(D);null!==B&&this.appendFrame_(B)}}send(g){this.resetKeepAlive();const D=(0,te.Wl)(g);this.bytesSent+=D.length,this.stats_.incrementCounter("bytes_sent",D.length);const B=Wr(D,16384);B.length>1&&this.sendString_(String(B.length));for(let J=0;J<B.length;J++)this.sendString_(B[J])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(g){try{this.mySock.send(g)}catch(D){this.log_("Exception thrown from WebSocket.send():",D.message||D.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return v.responsesRequiredToBeHealthy=2,v.healthyTimeout=3e4,v})(),Hi=(()=>{class v{constructor(g){this.initTransports_(g)}static get ALL_TRANSPORTS(){return[Os,es]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(g){const D=es&&es.isAvailable();let B=D&&!es.previouslyFailed();if(g.webSocketOnly&&(D||tr("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),B=!0),B)this.transports_=[es];else{const J=this.transports_=[];for(const fe of v.ALL_TRANSPORTS)fe&&fe.isAvailable()&&J.push(fe);v.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return v.globalTransportInitialized_=!1,v})();class Un{constructor(p,g,D,B,J,fe,Ve,bt,Rt,Fn){this.id=p,this.repoInfo_=g,this.applicationId_=D,this.appCheckToken_=B,this.authToken_=J,this.onMessage_=fe,this.onReady_=Ve,this.onDisconnect_=bt,this.onKill_=Rt,this.lastSessionId=Fn,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=cn("c:"+this.id+":"),this.transportManager_=new Hi(g),this.log_("Connection created"),this.start_()}start_(){const p=this.transportManager_.initialTransport();this.conn_=new p(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=p.responsesRequiredToBeHealthy||0;const g=this.connReceiver_(this.conn_),D=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(g,D)},Math.floor(0));const B=p.healthyTimeout||0;B>0&&(this.healthyTimeout_=br(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(B)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(p){return g=>{p===this.conn_?this.onConnectionLost_(g):p===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(p){return g=>{2!==this.state_&&(p===this.rx_?this.onPrimaryMessageReceived_(g):p===this.secondaryConn_?this.onSecondaryMessageReceived_(g):this.log_("message on old connection"))}}sendRequest(p){this.sendData_({t:"d",d:p})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(p){if("t"in p){const g=p.t;"a"===g?this.upgradeIfSecondaryHealthy_():"r"===g?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===g&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(p){const g=Pn("t",p),D=Pn("d",p);if("c"===g)this.onSecondaryControl_(D);else{if("d"!==g)throw new Error("Unknown protocol layer: "+g);this.pendingDataMessages.push(D)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(p){const g=Pn("t",p),D=Pn("d",p);"c"===g?this.onControl_(D):"d"===g&&this.onDataMessage_(D)}onDataMessage_(p){this.onPrimaryResponse_(),this.onMessage_(p)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(p){const g=Pn("t",p);if("d"in p){const D=p.d;if("h"===g){const B=Object.assign({},D);this.repoInfo_.isUsingEmulator&&(B.h=this.repoInfo_.host),this.onHandshake_(B)}else if("n"===g){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let B=0;B<this.pendingDataMessages.length;++B)this.onDataMessage_(this.pendingDataMessages[B]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===g?this.onConnectionShutdown_(D):"r"===g?this.onReset_(D):"e"===g?gn("Server Error: "+D):"o"===g?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):gn("Unknown control packet command: "+g)}}onHandshake_(p){const g=p.ts,D=p.v,B=p.h;this.sessionId=p.s,this.repoInfo_.host=B,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,g),"5"!==D&&tr("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const p=this.transportManager_.upgradeTransport();p&&this.startUpgrade_(p)}startUpgrade_(p){this.secondaryConn_=new p(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=p.responsesRequiredToBeHealthy||0;const g=this.connReceiver_(this.secondaryConn_),D=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(g,D),br(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(p){this.log_("Reset packet received.  New host: "+p),this.repoInfo_.host=p,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(p,g){this.log_("Realtime connection established."),this.conn_=p,this.state_=1,this.onReady_&&(this.onReady_(g,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):br(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const p=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===p||this.rx_===p)&&this.close()}onConnectionLost_(p){this.conn_=null,p||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(et.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(p){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(p),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(p){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(p)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class jn{put(p,g,D,B){}merge(p,g,D,B){}refreshAuthToken(p){}refreshAppCheckToken(p){}onDisconnectPut(p,g,D){}onDisconnectMerge(p,g,D){}onDisconnectCancel(p,g){}reportStats(p){}}class Nr{constructor(p){this.allowedEvents_=p,this.listeners_={},(0,te.hu)(Array.isArray(p)&&p.length>0,"Requires a non-empty array")}trigger(p,...g){if(Array.isArray(this.listeners_[p])){const D=[...this.listeners_[p]];for(let B=0;B<D.length;B++)D[B].callback.apply(D[B].context,g)}}on(p,g,D){this.validateEventType_(p),this.listeners_[p]=this.listeners_[p]||[],this.listeners_[p].push({callback:g,context:D});const B=this.getInitialEvent(p);B&&g.apply(D,B)}off(p,g,D){this.validateEventType_(p);const B=this.listeners_[p]||[];for(let J=0;J<B.length;J++)if(B[J].callback===g&&(!D||D===B[J].context))return void B.splice(J,1)}validateEventType_(p){(0,te.hu)(this.allowedEvents_.find(g=>g===p),"Unknown event: "+p)}}class Kr extends Nr{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!(0,te.uI)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new Kr}getInitialEvent(p){return(0,te.hu)("online"===p,"Unknown event type: "+p),[this.online_]}currentlyOnline(){return this.online_}}class Si{constructor(p,g){if(void 0===g){this.pieces_=p.split("/");let D=0;for(let B=0;B<this.pieces_.length;B++)this.pieces_[B].length>0&&(this.pieces_[D]=this.pieces_[B],D++);this.pieces_.length=D,this.pieceNum_=0}else this.pieces_=p,this.pieceNum_=g}toString(){let p="";for(let g=this.pieceNum_;g<this.pieces_.length;g++)""!==this.pieces_[g]&&(p+="/"+this.pieces_[g]);return p||"/"}}function Mr(){return new Si("")}function An(v){return v.pieceNum_>=v.pieces_.length?null:v.pieces_[v.pieceNum_]}function Fr(v){return v.pieces_.length-v.pieceNum_}function Lr(v){let p=v.pieceNum_;return p<v.pieces_.length&&p++,new Si(v.pieces_,p)}function Ds(v){return v.pieceNum_<v.pieces_.length?v.pieces_[v.pieces_.length-1]:null}function is(v,p=0){return v.pieces_.slice(v.pieceNum_+p)}function wo(v){if(v.pieceNum_>=v.pieces_.length)return null;const p=[];for(let g=v.pieceNum_;g<v.pieces_.length-1;g++)p.push(v.pieces_[g]);return new Si(p,0)}function Qr(v,p){const g=[];for(let D=v.pieceNum_;D<v.pieces_.length;D++)g.push(v.pieces_[D]);if(p instanceof Si)for(let D=p.pieceNum_;D<p.pieces_.length;D++)g.push(p.pieces_[D]);else{const D=p.split("/");for(let B=0;B<D.length;B++)D[B].length>0&&g.push(D[B])}return new Si(g,0)}function zr(v){return v.pieceNum_>=v.pieces_.length}function zi(v,p){const g=An(v),D=An(p);if(null===g)return p;if(g===D)return zi(Lr(v),Lr(p));throw new Error("INTERNAL ERROR: innerPath ("+p+") is not within outerPath ("+v+")")}function Yr(v,p){const g=is(v,0),D=is(p,0);for(let B=0;B<g.length&&B<D.length;B++){const J=Br(g[B],D[B]);if(0!==J)return J}return g.length===D.length?0:g.length<D.length?-1:1}function ao(v,p){if(Fr(v)!==Fr(p))return!1;for(let g=v.pieceNum_,D=p.pieceNum_;g<=v.pieces_.length;g++,D++)if(v.pieces_[g]!==p.pieces_[D])return!1;return!0}function ms(v,p){let g=v.pieceNum_,D=p.pieceNum_;if(Fr(v)>Fr(p))return!1;for(;g<v.pieces_.length;){if(v.pieces_[g]!==p.pieces_[D])return!1;++g,++D}return!0}class Ni{constructor(p,g){this.errorPrefix_=g,this.parts_=is(p,0),this.byteLength_=Math.max(1,this.parts_.length);for(let D=0;D<this.parts_.length;D++)this.byteLength_+=(0,te.ug)(this.parts_[D]);fo(this)}}function fo(v){if(v.byteLength_>768)throw new Error(v.errorPrefix_+"has a key path longer than 768 bytes ("+v.byteLength_+").");if(v.parts_.length>32)throw new Error(v.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+Qs(v))}function Qs(v){return 0===v.parts_.length?"":"in property '"+v.parts_.join(".")+"'"}class Io extends Nr{constructor(){let p,g;super(["visible"]),typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(g="visibilitychange",p="hidden"):typeof document.mozHidden<"u"?(g="mozvisibilitychange",p="mozHidden"):typeof document.msHidden<"u"?(g="msvisibilitychange",p="msHidden"):typeof document.webkitHidden<"u"&&(g="webkitvisibilitychange",p="webkitHidden")),this.visible_=!0,g&&document.addEventListener(g,()=>{const D=!document[p];D!==this.visible_&&(this.visible_=D,this.trigger("visible",D))},!1)}static getInstance(){return new Io}getInitialEvent(p){return(0,te.hu)("visible"===p,"Unknown event type: "+p),[this.visible_]}}const Co=1e3;let co,Es=(()=>{class v extends jn{constructor(g,D,B,J,fe,Ve,bt,Rt){if(super(),this.repoInfo_=g,this.applicationId_=D,this.onDataUpdate_=B,this.onConnectStatus_=J,this.onServerInfoUpdate_=fe,this.authTokenProvider_=Ve,this.appCheckTokenProvider_=bt,this.authOverride_=Rt,this.id=v.nextPersistentConnectionId_++,this.log_=cn("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Co,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,Rt&&!(0,te.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Io.getInstance().on("visible",this.onVisible_,this),-1===g.host.indexOf("fblocal")&&Kr.getInstance().on("online",this.onOnline_,this)}sendRequest(g,D,B){const J=++this.requestNumber_,fe={r:J,a:g,b:D};this.log_((0,te.Wl)(fe)),(0,te.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(fe),B&&(this.requestCBHash_[J]=B)}get(g){this.initConnection_();const D=new te.BH,J={action:"g",request:{p:g._path.toString(),q:g._queryObject},onComplete:Ve=>{const bt=Ve.d;"ok"===Ve.s?D.resolve(bt):D.reject(bt)}};return this.outstandingGets_.push(J),this.outstandingGetCount_++,this.connected_&&this.sendGet_(this.outstandingGets_.length-1),D.promise}listen(g,D,B,J){this.initConnection_();const fe=g._queryIdentifier,Ve=g._path.toString();this.log_("Listen called for "+Ve+" "+fe),this.listens.has(Ve)||this.listens.set(Ve,new Map),(0,te.hu)(g._queryParams.isDefault()||!g._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,te.hu)(!this.listens.get(Ve).has(fe),"listen() called twice for same path/queryId.");const bt={onComplete:J,hashFn:D,query:g,tag:B};this.listens.get(Ve).set(fe,bt),this.connected_&&this.sendListen_(bt)}sendGet_(g){const D=this.outstandingGets_[g];this.sendRequest("g",D.request,B=>{delete this.outstandingGets_[g],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),D.onComplete&&D.onComplete(B)})}sendListen_(g){const D=g.query,B=D._path.toString(),J=D._queryIdentifier;this.log_("Listen on "+B+" for "+J);const fe={p:B};g.tag&&(fe.q=D._queryObject,fe.t=g.tag),fe.h=g.hashFn(),this.sendRequest("q",fe,bt=>{const Rt=bt.d,Fn=bt.s;v.warnOnListenWarnings_(Rt,D),(this.listens.get(B)&&this.listens.get(B).get(J))===g&&(this.log_("listen response",bt),"ok"!==Fn&&this.removeListen_(B,J),g.onComplete&&g.onComplete(Fn,Rt))})}static warnOnListenWarnings_(g,D){if(g&&"object"==typeof g&&(0,te.r3)(g,"w")){const B=(0,te.DV)(g,"w");if(Array.isArray(B)&&~B.indexOf("no_index")){const J='".indexOn": "'+D._queryParams.getIndex().toString()+'"',fe=D._path.toString();tr(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${J} at ${fe} to your security rules for better performance.`)}}}refreshAuthToken(g){this.authToken_=g,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(g)}reduceReconnectDelayIfAdminCredential_(g){(g&&40===g.length||(0,te.GJ)(g))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(g){this.appCheckToken_=g,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const g=this.authToken_,D=(0,te.w9)(g)?"auth":"gauth",B={cred:g};null===this.authOverride_?B.noauth=!0:"object"==typeof this.authOverride_&&(B.authvar=this.authOverride_),this.sendRequest(D,B,J=>{const fe=J.s,Ve=J.d||"error";this.authToken_===g&&("ok"===fe?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(fe,Ve))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},g=>{const D=g.s,B=g.d||"error";"ok"===D?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(D,B)})}unlisten(g,D){const B=g._path.toString(),J=g._queryIdentifier;this.log_("Unlisten called for "+B+" "+J),(0,te.hu)(g._queryParams.isDefault()||!g._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(B,J)&&this.connected_&&this.sendUnlisten_(B,J,g._queryObject,D)}sendUnlisten_(g,D,B,J){this.log_("Unlisten on "+g+" for "+D);const fe={p:g};J&&(fe.q=B,fe.t=J),this.sendRequest("n",fe)}onDisconnectPut(g,D,B){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",g,D,B):this.onDisconnectRequestQueue_.push({pathString:g,action:"o",data:D,onComplete:B})}onDisconnectMerge(g,D,B){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",g,D,B):this.onDisconnectRequestQueue_.push({pathString:g,action:"om",data:D,onComplete:B})}onDisconnectCancel(g,D){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",g,null,D):this.onDisconnectRequestQueue_.push({pathString:g,action:"oc",data:null,onComplete:D})}sendOnDisconnect_(g,D,B,J){const fe={p:D,d:B};this.log_("onDisconnect "+g,fe),this.sendRequest(g,fe,Ve=>{J&&setTimeout(()=>{J(Ve.s,Ve.d)},Math.floor(0))})}put(g,D,B,J){this.putInternal("p",g,D,B,J)}merge(g,D,B,J){this.putInternal("m",g,D,B,J)}putInternal(g,D,B,J,fe){this.initConnection_();const Ve={p:D,d:B};void 0!==fe&&(Ve.h=fe),this.outstandingPuts_.push({action:g,request:Ve,onComplete:J}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+D)}sendPut_(g){const D=this.outstandingPuts_[g].action,B=this.outstandingPuts_[g].request,J=this.outstandingPuts_[g].onComplete;this.outstandingPuts_[g].queued=this.connected_,this.sendRequest(D,B,fe=>{this.log_(D+" response",fe),delete this.outstandingPuts_[g],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),J&&J(fe.s,fe.d)})}reportStats(g){if(this.connected_){const D={c:g};this.log_("reportStats",D),this.sendRequest("s",D,B=>{"ok"!==B.s&&this.log_("reportStats","Error sending stats: "+B.d)})}}onDataMessage_(g){if("r"in g){this.log_("from server: "+(0,te.Wl)(g));const D=g.r,B=this.requestCBHash_[D];B&&(delete this.requestCBHash_[D],B(g.b))}else{if("error"in g)throw"A server-side error has occurred: "+g.error;"a"in g&&this.onDataPush_(g.a,g.b)}}onDataPush_(g,D){this.log_("handleServerMessage",g,D),"d"===g?this.onDataUpdate_(D.p,D.d,!1,D.t):"m"===g?this.onDataUpdate_(D.p,D.d,!0,D.t):"c"===g?this.onListenRevoked_(D.p,D.q):"ac"===g?this.onAuthRevoked_(D.s,D.d):"apc"===g?this.onAppCheckRevoked_(D.s,D.d):"sd"===g?this.onSecurityDebugPacket_(D):gn("Unrecognized action received from server: "+(0,te.Wl)(g)+"\nAre you using the latest client?")}onReady_(g,D){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(g),this.lastSessionId=D,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(g){(0,te.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(g))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(g){g&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Co,this.realtime_||this.scheduleConnect_(0)),this.visible_=g}onOnline_(g){g?(this.log_("Browser went online."),this.reconnectDelay_=Co,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=Co),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const g=(new Date).getTime()-this.lastConnectionAttemptTime_;let D=Math.max(0,this.reconnectDelay_-g);D=Math.random()*D,this.log_("Trying to reconnect in "+D+"ms"),this.scheduleConnect_(D),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var g=this;return(0,Ct.Z)(function*(){if(g.shouldReconnect_()){g.log_("Making a connection attempt"),g.lastConnectionAttemptTime_=(new Date).getTime(),g.lastConnectionEstablishedTime_=null;const D=g.onDataMessage_.bind(g),B=g.onReady_.bind(g),J=g.onRealtimeDisconnect_.bind(g),fe=g.id+":"+v.nextConnectionId_++,Ve=g.lastSessionId;let bt=!1,Rt=null;const Fn=function(){Rt?Rt.close():(bt=!0,J())};g.realtime_={close:Fn,sendRequest:function(Ii){(0,te.hu)(Rt,"sendRequest call when we're not connected not allowed."),Rt.sendRequest(Ii)}};const nr=g.forceTokenRefresh_;g.forceTokenRefresh_=!1;try{const[Ii,Zi]=yield Promise.all([g.authTokenProvider_.getToken(nr),g.appCheckTokenProvider_.getToken(nr)]);bt?_t("getToken() completed but was canceled"):(_t("getToken() completed. Creating connection."),g.authToken_=Ii&&Ii.accessToken,g.appCheckToken_=Zi&&Zi.token,Rt=new Un(fe,g.repoInfo_,g.applicationId_,g.appCheckToken_,g.authToken_,D,B,J,_o=>{tr(_o+" ("+g.repoInfo_.toString()+")"),g.interrupt("server_kill")},Ve))}catch(Ii){g.log_("Failed to get token: "+Ii),bt||(g.repoInfo_.nodeAdmin&&tr(Ii),Fn())}}})()}interrupt(g){_t("Interrupting connection for reason: "+g),this.interruptReasons_[g]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(g){_t("Resuming connection for reason: "+g),delete this.interruptReasons_[g],(0,te.xb)(this.interruptReasons_)&&(this.reconnectDelay_=Co,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(g){const D=g-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:D})}cancelSentTransactions_(){for(let g=0;g<this.outstandingPuts_.length;g++){const D=this.outstandingPuts_[g];D&&"h"in D.request&&D.queued&&(D.onComplete&&D.onComplete("disconnect"),delete this.outstandingPuts_[g],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(g,D){let B;B=D?D.map(fe=>oi(fe)).join("$"):"default";const J=this.removeListen_(g,B);J&&J.onComplete&&J.onComplete("permission_denied")}removeListen_(g,D){const B=new Si(g).toString();let J;if(this.listens.has(B)){const fe=this.listens.get(B);J=fe.get(D),fe.delete(D),0===fe.size&&this.listens.delete(B)}else J=void 0;return J}onAuthRevoked_(g,D){_t("Auth token revoked: "+g+"/"+D),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===g||"permission_denied"===g)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(g,D){_t("App check token revoked: "+g+"/"+D),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===g||"permission_denied"===g)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(g){this.securityDebugCallback_?this.securityDebugCallback_(g):"msg"in g&&console.log("FIREBASE: "+g.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const g of this.listens.values())for(const D of g.values())this.sendListen_(D);for(let g=0;g<this.outstandingPuts_.length;g++)this.outstandingPuts_[g]&&this.sendPut_(g);for(;this.onDisconnectRequestQueue_.length;){const g=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(g.action,g.pathString,g.data,g.onComplete)}for(let g=0;g<this.outstandingGets_.length;g++)this.outstandingGets_[g]&&this.sendGet_(g)}sendConnectStats_(){const g={};let D="js";(0,te.Yr)()&&(D=this.repoInfo_.nodeAdmin?"admin_node":"node"),g["sdk."+D+"."+qt.replace(/\./g,"-")]=1,(0,te.uI)()?g["framework.cordova"]=1:(0,te.b$)()&&(g["framework.reactnative"]=1),this.reportStats(g)}shouldReconnect_(){const g=Kr.getInstance().currentlyOnline();return(0,te.xb)(this.interruptReasons_)&&g}}return v.nextPersistentConnectionId_=0,v.nextConnectionId_=0,v})();class Oi{constructor(p,g){this.name=p,this.node=g}static Wrap(p,g){return new Oi(p,g)}}class Ss{getCompare(){return this.compare.bind(this)}indexedValueChanged(p,g){const D=new Oi(an,p),B=new Oi(an,g);return 0!==this.compare(D,B)}minPost(){return Oi.MIN}}class qs extends Ss{static get __EMPTY_NODE(){return co}static set __EMPTY_NODE(p){co=p}compare(p,g){return Br(p.name,g.name)}isDefinedOn(p){throw(0,te.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(p,g){return!1}minPost(){return Oi.MIN}maxPost(){return new Oi(Pr,co)}makePost(p,g){return(0,te.hu)("string"==typeof p,"KeyIndex indexValue must always be a string."),new Oi(p,co)}toString(){return".key"}}const Ls=new qs;class vs{constructor(p,g,D,B,J=null){this.isReverse_=B,this.resultGenerator_=J,this.nodeStack_=[];let fe=1;for(;!p.isEmpty();)if(fe=g?D(p.key,g):1,B&&(fe*=-1),fe<0)p=this.isReverse_?p.left:p.right;else{if(0===fe){this.nodeStack_.push(p);break}this.nodeStack_.push(p),p=this.isReverse_?p.right:p.left}}getNext(){if(0===this.nodeStack_.length)return null;let g,p=this.nodeStack_.pop();if(g=this.resultGenerator_?this.resultGenerator_(p.key,p.value):{key:p.key,value:p.value},this.isReverse_)for(p=p.left;!p.isEmpty();)this.nodeStack_.push(p),p=p.right;else for(p=p.right;!p.isEmpty();)this.nodeStack_.push(p),p=p.left;return g}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const p=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(p.key,p.value):{key:p.key,value:p.value}}}let uo,Do=(()=>{class v{constructor(g,D,B,J,fe){this.key=g,this.value=D,this.color=null!=B?B:v.RED,this.left=null!=J?J:ki.EMPTY_NODE,this.right=null!=fe?fe:ki.EMPTY_NODE}copy(g,D,B,J,fe){return new v(null!=g?g:this.key,null!=D?D:this.value,null!=B?B:this.color,null!=J?J:this.left,null!=fe?fe:this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(g){return this.left.inorderTraversal(g)||!!g(this.key,this.value)||this.right.inorderTraversal(g)}reverseTraversal(g){return this.right.reverseTraversal(g)||g(this.key,this.value)||this.left.reverseTraversal(g)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(g,D,B){let J=this;const fe=B(g,J.key);return J=fe<0?J.copy(null,null,null,J.left.insert(g,D,B),null):0===fe?J.copy(null,D,null,null,null):J.copy(null,null,null,null,J.right.insert(g,D,B)),J.fixUp_()}removeMin_(){if(this.left.isEmpty())return ki.EMPTY_NODE;let g=this;return!g.left.isRed_()&&!g.left.left.isRed_()&&(g=g.moveRedLeft_()),g=g.copy(null,null,null,g.left.removeMin_(),null),g.fixUp_()}remove(g,D){let B,J;if(B=this,D(g,B.key)<0)!B.left.isEmpty()&&!B.left.isRed_()&&!B.left.left.isRed_()&&(B=B.moveRedLeft_()),B=B.copy(null,null,null,B.left.remove(g,D),null);else{if(B.left.isRed_()&&(B=B.rotateRight_()),!B.right.isEmpty()&&!B.right.isRed_()&&!B.right.left.isRed_()&&(B=B.moveRedRight_()),0===D(g,B.key)){if(B.right.isEmpty())return ki.EMPTY_NODE;J=B.right.min_(),B=B.copy(J.key,J.value,null,null,B.right.removeMin_())}B=B.copy(null,null,null,null,B.right.remove(g,D))}return B.fixUp_()}isRed_(){return this.color}fixUp_(){let g=this;return g.right.isRed_()&&!g.left.isRed_()&&(g=g.rotateLeft_()),g.left.isRed_()&&g.left.left.isRed_()&&(g=g.rotateRight_()),g.left.isRed_()&&g.right.isRed_()&&(g=g.colorFlip_()),g}moveRedLeft_(){let g=this.colorFlip_();return g.right.left.isRed_()&&(g=g.copy(null,null,null,null,g.right.rotateRight_()),g=g.rotateLeft_(),g=g.colorFlip_()),g}moveRedRight_(){let g=this.colorFlip_();return g.left.left.isRed_()&&(g=g.rotateRight_(),g=g.colorFlip_()),g}rotateLeft_(){const g=this.copy(null,null,v.RED,null,this.right.left);return this.right.copy(null,null,this.color,g,null)}rotateRight_(){const g=this.copy(null,null,v.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,g)}colorFlip_(){const g=this.left.copy(null,null,!this.left.color,null,null),D=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,g,D)}checkMaxDepth_(){const g=this.check_();return Math.pow(2,g)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const g=this.left.check_();if(g!==this.right.check_())throw new Error("Black depths differ");return g+(this.isRed_()?0:1)}}return v.RED=!0,v.BLACK=!1,v})();class ki{constructor(p,g=ki.EMPTY_NODE){this.comparator_=p,this.root_=g}insert(p,g){return new ki(this.comparator_,this.root_.insert(p,g,this.comparator_).copy(null,null,Do.BLACK,null,null))}remove(p){return new ki(this.comparator_,this.root_.remove(p,this.comparator_).copy(null,null,Do.BLACK,null,null))}get(p){let g,D=this.root_;for(;!D.isEmpty();){if(g=this.comparator_(p,D.key),0===g)return D.value;g<0?D=D.left:g>0&&(D=D.right)}return null}getPredecessorKey(p){let g,D=this.root_,B=null;for(;!D.isEmpty();){if(g=this.comparator_(p,D.key),0===g){if(D.left.isEmpty())return B?B.key:null;for(D=D.left;!D.right.isEmpty();)D=D.right;return D.key}g<0?D=D.left:g>0&&(B=D,D=D.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(p){return this.root_.inorderTraversal(p)}reverseTraversal(p){return this.root_.reverseTraversal(p)}getIterator(p){return new vs(this.root_,null,this.comparator_,!1,p)}getIteratorFrom(p,g){return new vs(this.root_,p,this.comparator_,!1,g)}getReverseIteratorFrom(p,g){return new vs(this.root_,p,this.comparator_,!0,g)}getReverseIterator(p){return new vs(this.root_,null,this.comparator_,!0,p)}}function Wo(v,p){return Br(v.name,p.name)}function No(v,p){return Br(v,p)}ki.EMPTY_NODE=new class ro{copy(p,g,D,B,J){return this}insert(p,g,D){return new Do(p,g,null)}remove(p,g){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(p){return!1}reverseTraversal(p){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const po=function(v){return"number"==typeof v?"number:"+Ai(v):"string:"+v},Go=function(v){if(v.isLeafNode()){const p=v.val();(0,te.hu)("string"==typeof p||"number"==typeof p||"object"==typeof p&&(0,te.r3)(p,".sv"),"Priority must be a string or number.")}else(0,te.hu)(v===uo||v.isEmpty(),"priority of unexpected type.");(0,te.hu)(v===uo||v.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let go,xo,us,Ts=(()=>{class v{constructor(g,D=v.__childrenNodeConstructor.EMPTY_NODE){this.value_=g,this.priorityNode_=D,this.lazyHash_=null,(0,te.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),Go(this.priorityNode_)}static set __childrenNodeConstructor(g){go=g}static get __childrenNodeConstructor(){return go}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(g){return new v(this.value_,g)}getImmediateChild(g){return".priority"===g?this.priorityNode_:v.__childrenNodeConstructor.EMPTY_NODE}getChild(g){return zr(g)?this:".priority"===An(g)?this.priorityNode_:v.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(g,D){return null}updateImmediateChild(g,D){return".priority"===g?this.updatePriority(D):D.isEmpty()&&".priority"!==g?this:v.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(g,D).updatePriority(this.priorityNode_)}updateChild(g,D){const B=An(g);return null===B?D:D.isEmpty()&&".priority"!==B?this:((0,te.hu)(".priority"!==B||1===Fr(g),".priority must be the last token in a path"),this.updateImmediateChild(B,v.__childrenNodeConstructor.EMPTY_NODE.updateChild(Lr(g),D)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(g,D){return!1}val(g){return g&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let g="";this.priorityNode_.isEmpty()||(g+="priority:"+po(this.priorityNode_.val())+":");const D=typeof this.value_;g+=D+":",g+="number"===D?Ai(this.value_):this.value_,this.lazyHash_=Ot(g)}return this.lazyHash_}getValue(){return this.value_}compareTo(g){return g===v.__childrenNodeConstructor.EMPTY_NODE?1:g instanceof v.__childrenNodeConstructor?-1:((0,te.hu)(g.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(g))}compareToLeafNode_(g){const D=typeof g.value_,B=typeof this.value_,J=v.VALUE_TYPE_ORDER.indexOf(D),fe=v.VALUE_TYPE_ORDER.indexOf(B);return(0,te.hu)(J>=0,"Unknown leaf type: "+D),(0,te.hu)(fe>=0,"Unknown leaf type: "+B),J===fe?"object"===B?0:this.value_<g.value_?-1:this.value_===g.value_?0:1:fe-J}withIndex(){return this}isIndexed(){return!0}equals(g){return g===this||!!g.isLeafNode()&&(this.value_===g.value_&&this.priorityNode_.equals(g.priorityNode_))}}return v.VALUE_TYPE_ORDER=["object","boolean","number","string"],v})();const $i=new class Bo extends Ss{compare(p,g){const D=p.node.getPriority(),B=g.node.getPriority(),J=D.compareTo(B);return 0===J?Br(p.name,g.name):J}isDefinedOn(p){return!p.getPriority().isEmpty()}indexedValueChanged(p,g){return!p.getPriority().equals(g.getPriority())}minPost(){return Oi.MIN}maxPost(){return new Oi(Pr,new Ts("[PRIORITY-POST]",us))}makePost(p,g){const D=xo(p);return new Oi(g,new Ts("[PRIORITY-POST]",D))}toString(){return".priority"}},O=Math.log(2);class he{constructor(p){this.count=parseInt(Math.log(p+1)/O,10),this.current_=this.count-1;const B=(J=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=p+1&B}nextBitIsOne(){const p=!(this.bits_&1<<this.current_);return this.current_--,p}}const N=function(v,p,g,D){v.sort(p);const B=function(bt,Rt){const Fn=Rt-bt;let Ln,nr;if(0===Fn)return null;if(1===Fn)return Ln=v[bt],nr=g?g(Ln):Ln,new Do(nr,Ln.node,Do.BLACK,null,null);{const Ii=parseInt(Fn/2,10)+bt,Zi=B(bt,Ii),_o=B(Ii+1,Rt);return Ln=v[Ii],nr=g?g(Ln):Ln,new Do(nr,Ln.node,Do.BLACK,Zi,_o)}},Ve=function(bt){let Rt=null,Fn=null,Ln=v.length;const nr=function(Zi,_o){const ga=Ln-Zi,il=Ln;Ln-=Zi;const Kl=B(ga+1,il),bu=v[ga],Fh=g?g(bu):bu;Ii(new Do(Fh,bu.node,_o,null,Kl))},Ii=function(Zi){Rt?(Rt.left=Zi,Rt=Zi):(Fn=Zi,Rt=Zi)};for(let Zi=0;Zi<bt.count;++Zi){const _o=bt.nextBitIsOne(),ga=Math.pow(2,bt.count-(Zi+1));_o?nr(ga,Do.BLACK):(nr(ga,Do.BLACK),nr(ga,Do.RED))}return Fn}(new he(v.length));return new ki(D||p,Ve)};let le;const Ge={};class _n{constructor(p,g){this.indexes_=p,this.indexSet_=g}static get Default(){return(0,te.hu)(Ge&&$i,"ChildrenNode.ts has not been loaded"),le=le||new _n({".priority":Ge},{".priority":$i}),le}get(p){const g=(0,te.DV)(this.indexes_,p);if(!g)throw new Error("No index defined for "+p);return g instanceof ki?g:null}hasIndex(p){return(0,te.r3)(this.indexSet_,p.toString())}addIndex(p,g){(0,te.hu)(p!==Ls,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const D=[];let B=!1;const J=g.getIterator(Oi.Wrap);let Ve,fe=J.getNext();for(;fe;)B=B||p.isDefinedOn(fe.node),D.push(fe),fe=J.getNext();Ve=B?N(D,p.getCompare()):Ge;const bt=p.toString(),Rt=Object.assign({},this.indexSet_);Rt[bt]=p;const Fn=Object.assign({},this.indexes_);return Fn[bt]=Ve,new _n(Fn,Rt)}addToIndexes(p,g){const D=(0,te.UI)(this.indexes_,(B,J)=>{const fe=(0,te.DV)(this.indexSet_,J);if((0,te.hu)(fe,"Missing index implementation for "+J),B===Ge){if(fe.isDefinedOn(p.node)){const Ve=[],bt=g.getIterator(Oi.Wrap);let Rt=bt.getNext();for(;Rt;)Rt.name!==p.name&&Ve.push(Rt),Rt=bt.getNext();return Ve.push(p),N(Ve,fe.getCompare())}return Ge}{const Ve=g.get(p.name);let bt=B;return Ve&&(bt=bt.remove(new Oi(p.name,Ve))),bt.insert(p,p.node)}});return new _n(D,this.indexSet_)}removeFromIndexes(p,g){const D=(0,te.UI)(this.indexes_,B=>{if(B===Ge)return B;{const J=g.get(p.name);return J?B.remove(new Oi(p.name,J)):B}});return new _n(D,this.indexSet_)}}let Sr,Gn=(()=>{class v{constructor(g,D,B){this.children_=g,this.priorityNode_=D,this.indexMap_=B,this.lazyHash_=null,this.priorityNode_&&Go(this.priorityNode_),this.children_.isEmpty()&&(0,te.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Sr||(Sr=new v(new ki(No),null,_n.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Sr}updatePriority(g){return this.children_.isEmpty()?this:new v(this.children_,g,this.indexMap_)}getImmediateChild(g){if(".priority"===g)return this.getPriority();{const D=this.children_.get(g);return null===D?Sr:D}}getChild(g){const D=An(g);return null===D?this:this.getImmediateChild(D).getChild(Lr(g))}hasChild(g){return null!==this.children_.get(g)}updateImmediateChild(g,D){if((0,te.hu)(D,"We should always be passing snapshot nodes"),".priority"===g)return this.updatePriority(D);{const B=new Oi(g,D);let J,fe;D.isEmpty()?(J=this.children_.remove(g),fe=this.indexMap_.removeFromIndexes(B,this.children_)):(J=this.children_.insert(g,D),fe=this.indexMap_.addToIndexes(B,this.children_));const Ve=J.isEmpty()?Sr:this.priorityNode_;return new v(J,Ve,fe)}}updateChild(g,D){const B=An(g);if(null===B)return D;{(0,te.hu)(".priority"!==An(g)||1===Fr(g),".priority must be the last token in a path");const J=this.getImmediateChild(B).updateChild(Lr(g),D);return this.updateImmediateChild(B,J)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(g){if(this.isEmpty())return null;const D={};let B=0,J=0,fe=!0;if(this.forEachChild($i,(Ve,bt)=>{D[Ve]=bt.val(g),B++,fe&&v.INTEGER_REGEXP_.test(Ve)?J=Math.max(J,Number(Ve)):fe=!1}),!g&&fe&&J<2*B){const Ve=[];for(const bt in D)Ve[bt]=D[bt];return Ve}return g&&!this.getPriority().isEmpty()&&(D[".priority"]=this.getPriority().val()),D}hash(){if(null===this.lazyHash_){let g="";this.getPriority().isEmpty()||(g+="priority:"+po(this.getPriority().val())+":"),this.forEachChild($i,(D,B)=>{const J=B.hash();""!==J&&(g+=":"+D+":"+J)}),this.lazyHash_=""===g?"":Ot(g)}return this.lazyHash_}getPredecessorChildName(g,D,B){const J=this.resolveIndex_(B);if(J){const fe=J.getPredecessorKey(new Oi(g,D));return fe?fe.name:null}return this.children_.getPredecessorKey(g)}getFirstChildName(g){const D=this.resolveIndex_(g);if(D){const B=D.minKey();return B&&B.name}return this.children_.minKey()}getFirstChild(g){const D=this.getFirstChildName(g);return D?new Oi(D,this.children_.get(D)):null}getLastChildName(g){const D=this.resolveIndex_(g);if(D){const B=D.maxKey();return B&&B.name}return this.children_.maxKey()}getLastChild(g){const D=this.getLastChildName(g);return D?new Oi(D,this.children_.get(D)):null}forEachChild(g,D){const B=this.resolveIndex_(g);return B?B.inorderTraversal(J=>D(J.name,J.node)):this.children_.inorderTraversal(D)}getIterator(g){return this.getIteratorFrom(g.minPost(),g)}getIteratorFrom(g,D){const B=this.resolveIndex_(D);if(B)return B.getIteratorFrom(g,J=>J);{const J=this.children_.getIteratorFrom(g.name,Oi.Wrap);let fe=J.peek();for(;null!=fe&&D.compare(fe,g)<0;)J.getNext(),fe=J.peek();return J}}getReverseIterator(g){return this.getReverseIteratorFrom(g.maxPost(),g)}getReverseIteratorFrom(g,D){const B=this.resolveIndex_(D);if(B)return B.getReverseIteratorFrom(g,J=>J);{const J=this.children_.getReverseIteratorFrom(g.name,Oi.Wrap);let fe=J.peek();for(;null!=fe&&D.compare(fe,g)>0;)J.getNext(),fe=J.peek();return J}}compareTo(g){return this.isEmpty()?g.isEmpty()?0:-1:g.isLeafNode()||g.isEmpty()?1:g===hi?-1:0}withIndex(g){if(g===Ls||this.indexMap_.hasIndex(g))return this;{const D=this.indexMap_.addIndex(g,this.children_);return new v(this.children_,this.priorityNode_,D)}}isIndexed(g){return g===Ls||this.indexMap_.hasIndex(g)}equals(g){if(g===this)return!0;if(g.isLeafNode())return!1;{const D=g;if(this.getPriority().equals(D.getPriority())){if(this.children_.count()===D.children_.count()){const B=this.getIterator($i),J=D.getIterator($i);let fe=B.getNext(),Ve=J.getNext();for(;fe&&Ve;){if(fe.name!==Ve.name||!fe.node.equals(Ve.node))return!1;fe=B.getNext(),Ve=J.getNext()}return null===fe&&null===Ve}return!1}return!1}}resolveIndex_(g){return g===Ls?null:this.indexMap_.get(g.toString())}}return v.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,v})();const hi=new class ai extends Gn{constructor(){super(new ki(No),Gn.EMPTY_NODE,_n.Default)}compareTo(p){return p===this?0:1}equals(p){return p===this}getPriority(){return this}getImmediateChild(p){return Gn.EMPTY_NODE}isEmpty(){return!1}};Object.defineProperties(Oi,{MIN:{value:new Oi(an,Gn.EMPTY_NODE)},MAX:{value:new Oi(Pr,hi)}}),qs.__EMPTY_NODE=Gn.EMPTY_NODE,Ts.__childrenNodeConstructor=Gn,function So(v){uo=v}(hi),function To(v){us=v}(hi);const ws=!0;function Pi(v,p=null){if(null===v)return Gn.EMPTY_NODE;if("object"==typeof v&&".priority"in v&&(p=v[".priority"]),(0,te.hu)(null===p||"string"==typeof p||"number"==typeof p||"object"==typeof p&&".sv"in p,"Invalid priority type found: "+typeof p),"object"==typeof v&&".value"in v&&null!==v[".value"]&&(v=v[".value"]),"object"!=typeof v||".sv"in v)return new Ts(v,Pi(p));if(v instanceof Array||!ws){let g=Gn.EMPTY_NODE;return ar(v,(D,B)=>{if((0,te.r3)(v,D)&&"."!==D.substring(0,1)){const J=Pi(B);(J.isLeafNode()||!J.isEmpty())&&(g=g.updateImmediateChild(D,J))}}),g.updatePriority(Pi(p))}{const g=[];let D=!1;if(ar(v,(fe,Ve)=>{if("."!==fe.substring(0,1)){const bt=Pi(Ve);bt.isEmpty()||(D=D||!bt.getPriority().isEmpty(),g.push(new Oi(fe,bt)))}}),0===g.length)return Gn.EMPTY_NODE;const J=N(g,Wo,fe=>fe.name,No);if(D){const fe=N(g,$i.getCompare());return new Gn(J,Pi(p),new _n({".priority":fe},{".priority":$i}))}return new Gn(J,Pi(p),_n.Default)}}!function Mo(v){xo=v}(Pi);class Bs extends Ss{constructor(p){super(),this.indexPath_=p,(0,te.hu)(!zr(p)&&".priority"!==An(p),"Can't create PathIndex with empty path or .priority key")}extractChild(p){return p.getChild(this.indexPath_)}isDefinedOn(p){return!p.getChild(this.indexPath_).isEmpty()}compare(p,g){const D=this.extractChild(p.node),B=this.extractChild(g.node),J=D.compareTo(B);return 0===J?Br(p.name,g.name):J}makePost(p,g){const D=Pi(p),B=Gn.EMPTY_NODE.updateChild(this.indexPath_,D);return new Oi(g,B)}maxPost(){const p=Gn.EMPTY_NODE.updateChild(this.indexPath_,hi);return new Oi(Pr,p)}toString(){return is(this.indexPath_,0).join("/")}}const _e=new class Po extends Ss{compare(p,g){const D=p.node.compareTo(g.node);return 0===D?Br(p.name,g.name):D}isDefinedOn(p){return!0}indexedValueChanged(p,g){return!p.equals(g)}minPost(){return Oi.MIN}maxPost(){return Oi.MAX}makePost(p,g){const D=Pi(p);return new Oi(g,D)}toString(){return".value"}};function ce(v){return{type:"value",snapshotNode:v}}function $(v,p){return{type:"child_added",snapshotNode:p,childName:v}}function F(v,p){return{type:"child_removed",snapshotNode:p,childName:v}}function S(v,p,g){return{type:"child_changed",snapshotNode:p,childName:v,oldSnap:g}}class ge{constructor(p){this.index_=p}updateChild(p,g,D,B,J,fe){(0,te.hu)(p.isIndexed(this.index_),"A node must be indexed if only a child is updated");const Ve=p.getImmediateChild(g);return Ve.getChild(B).equals(D.getChild(B))&&Ve.isEmpty()===D.isEmpty()||(null!=fe&&(D.isEmpty()?p.hasChild(g)?fe.trackChildChange(F(g,Ve)):(0,te.hu)(p.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):Ve.isEmpty()?fe.trackChildChange($(g,D)):fe.trackChildChange(S(g,D,Ve))),p.isLeafNode()&&D.isEmpty())?p:p.updateImmediateChild(g,D).withIndex(this.index_)}updateFullNode(p,g,D){return null!=D&&(p.isLeafNode()||p.forEachChild($i,(B,J)=>{g.hasChild(B)||D.trackChildChange(F(B,J))}),g.isLeafNode()||g.forEachChild($i,(B,J)=>{if(p.hasChild(B)){const fe=p.getImmediateChild(B);fe.equals(J)||D.trackChildChange(S(B,J,fe))}else D.trackChildChange($(B,J))})),g.withIndex(this.index_)}updatePriority(p,g){return p.isEmpty()?Gn.EMPTY_NODE:p.updatePriority(g)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class ut{constructor(p){this.indexedFilter_=new ge(p.getIndex()),this.index_=p.getIndex(),this.startPost_=ut.getStartPost_(p),this.endPost_=ut.getEndPost_(p),this.startIsInclusive_=!p.startAfterSet_,this.endIsInclusive_=!p.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(p){const g=this.startIsInclusive_?this.index_.compare(this.getStartPost(),p)<=0:this.index_.compare(this.getStartPost(),p)<0,D=this.endIsInclusive_?this.index_.compare(p,this.getEndPost())<=0:this.index_.compare(p,this.getEndPost())<0;return g&&D}updateChild(p,g,D,B,J,fe){return this.matches(new Oi(g,D))||(D=Gn.EMPTY_NODE),this.indexedFilter_.updateChild(p,g,D,B,J,fe)}updateFullNode(p,g,D){g.isLeafNode()&&(g=Gn.EMPTY_NODE);let B=g.withIndex(this.index_);B=B.updatePriority(Gn.EMPTY_NODE);const J=this;return g.forEachChild($i,(fe,Ve)=>{J.matches(new Oi(fe,Ve))||(B=B.updateImmediateChild(fe,Gn.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(p,B,D)}updatePriority(p,g){return p}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(p){if(p.hasStart()){const g=p.getIndexStartName();return p.getIndex().makePost(p.getIndexStartValue(),g)}return p.getIndex().minPost()}static getEndPost_(p){if(p.hasEnd()){const g=p.getIndexEndName();return p.getIndex().makePost(p.getIndexEndValue(),g)}return p.getIndex().maxPost()}}class Nt{constructor(p){this.withinDirectionalStart=g=>this.reverse_?this.withinEndPost(g):this.withinStartPost(g),this.withinDirectionalEnd=g=>this.reverse_?this.withinStartPost(g):this.withinEndPost(g),this.withinStartPost=g=>{const D=this.index_.compare(this.rangedFilter_.getStartPost(),g);return this.startIsInclusive_?D<=0:D<0},this.withinEndPost=g=>{const D=this.index_.compare(g,this.rangedFilter_.getEndPost());return this.endIsInclusive_?D<=0:D<0},this.rangedFilter_=new ut(p),this.index_=p.getIndex(),this.limit_=p.getLimit(),this.reverse_=!p.isViewFromLeft(),this.startIsInclusive_=!p.startAfterSet_,this.endIsInclusive_=!p.endBeforeSet_}updateChild(p,g,D,B,J,fe){return this.rangedFilter_.matches(new Oi(g,D))||(D=Gn.EMPTY_NODE),p.getImmediateChild(g).equals(D)?p:p.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(p,g,D,B,J,fe):this.fullLimitUpdateChild_(p,g,D,J,fe)}updateFullNode(p,g,D){let B;if(g.isLeafNode()||g.isEmpty())B=Gn.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<g.numChildren()&&g.isIndexed(this.index_)){let J;B=Gn.EMPTY_NODE.withIndex(this.index_),J=this.reverse_?g.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):g.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let fe=0;for(;J.hasNext()&&fe<this.limit_;){const Ve=J.getNext();if(this.withinDirectionalStart(Ve)){if(!this.withinDirectionalEnd(Ve))break;B=B.updateImmediateChild(Ve.name,Ve.node),fe++}}}else{let J;B=g.withIndex(this.index_),B=B.updatePriority(Gn.EMPTY_NODE),J=this.reverse_?B.getReverseIterator(this.index_):B.getIterator(this.index_);let fe=0;for(;J.hasNext();){const Ve=J.getNext();fe<this.limit_&&this.withinDirectionalStart(Ve)&&this.withinDirectionalEnd(Ve)?fe++:B=B.updateImmediateChild(Ve.name,Gn.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(p,B,D)}updatePriority(p,g){return p}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(p,g,D,B,J){let fe;if(this.reverse_){const Ln=this.index_.getCompare();fe=(nr,Ii)=>Ln(Ii,nr)}else fe=this.index_.getCompare();const Ve=p;(0,te.hu)(Ve.numChildren()===this.limit_,"");const bt=new Oi(g,D),Rt=this.reverse_?Ve.getFirstChild(this.index_):Ve.getLastChild(this.index_),Fn=this.rangedFilter_.matches(bt);if(Ve.hasChild(g)){const Ln=Ve.getImmediateChild(g);let nr=B.getChildAfterChild(this.index_,Rt,this.reverse_);for(;null!=nr&&(nr.name===g||Ve.hasChild(nr.name));)nr=B.getChildAfterChild(this.index_,nr,this.reverse_);const Ii=null==nr?1:fe(nr,bt);if(Fn&&!D.isEmpty()&&Ii>=0)return null!=J&&J.trackChildChange(S(g,D,Ln)),Ve.updateImmediateChild(g,D);{null!=J&&J.trackChildChange(F(g,Ln));const _o=Ve.updateImmediateChild(g,Gn.EMPTY_NODE);return null!=nr&&this.rangedFilter_.matches(nr)?(null!=J&&J.trackChildChange($(nr.name,nr.node)),_o.updateImmediateChild(nr.name,nr.node)):_o}}return D.isEmpty()?p:Fn&&fe(Rt,bt)>=0?(null!=J&&(J.trackChildChange(F(Rt.name,Rt.node)),J.trackChildChange($(g,D))),Ve.updateImmediateChild(g,D).updateImmediateChild(Rt.name,Gn.EMPTY_NODE)):p}}class dn{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=$i}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,te.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,te.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:an}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,te.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,te.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Pr}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,te.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===$i}copy(){const p=new dn;return p.limitSet_=this.limitSet_,p.limit_=this.limit_,p.startSet_=this.startSet_,p.startAfterSet_=this.startAfterSet_,p.indexStartValue_=this.indexStartValue_,p.startNameSet_=this.startNameSet_,p.indexStartName_=this.indexStartName_,p.endSet_=this.endSet_,p.endBeforeSet_=this.endBeforeSet_,p.indexEndValue_=this.indexEndValue_,p.endNameSet_=this.endNameSet_,p.indexEndName_=this.indexEndName_,p.index_=this.index_,p.viewFrom_=this.viewFrom_,p}}function mi(v,p,g){const D=v.copy();return D.startSet_=!0,void 0===p&&(p=null),D.indexStartValue_=p,null!=g?(D.startNameSet_=!0,D.indexStartName_=g):(D.startNameSet_=!1,D.indexStartName_=""),D}function ri(v,p,g){const D=v.copy();return D.endSet_=!0,void 0===p&&(p=null),D.indexEndValue_=p,void 0!==g?(D.endNameSet_=!0,D.indexEndName_=g):(D.endNameSet_=!1,D.indexEndName_=""),D}function Js(v,p){const g=v.copy();return g.index_=p,g}function As(v){const p={};if(v.isDefault())return p;let g;if(v.index_===$i?g="$priority":v.index_===_e?g="$value":v.index_===Ls?g="$key":((0,te.hu)(v.index_ instanceof Bs,"Unrecognized index type!"),g=v.index_.toString()),p.orderBy=(0,te.Wl)(g),v.startSet_){const D=v.startAfterSet_?"startAfter":"startAt";p[D]=(0,te.Wl)(v.indexStartValue_),v.startNameSet_&&(p[D]+=","+(0,te.Wl)(v.indexStartName_))}if(v.endSet_){const D=v.endBeforeSet_?"endBefore":"endAt";p[D]=(0,te.Wl)(v.indexEndValue_),v.endNameSet_&&(p[D]+=","+(0,te.Wl)(v.indexEndName_))}return v.limitSet_&&(v.isViewFromLeft()?p.limitToFirst=v.limit_:p.limitToLast=v.limit_),p}function xs(v){const p={};if(v.startSet_&&(p.sp=v.indexStartValue_,v.startNameSet_&&(p.sn=v.indexStartName_),p.sin=!v.startAfterSet_),v.endSet_&&(p.ep=v.indexEndValue_,v.endNameSet_&&(p.en=v.indexEndName_),p.ein=!v.endBeforeSet_),v.limitSet_){p.l=v.limit_;let g=v.viewFrom_;""===g&&(g=v.isViewFromLeft()?"l":"r"),p.vf=g}return v.index_!==$i&&(p.i=v.index_.toString()),p}class Ei extends jn{constructor(p,g,D,B){super(),this.repoInfo_=p,this.onDataUpdate_=g,this.authTokenProvider_=D,this.appCheckTokenProvider_=B,this.log_=cn("p:rest:"),this.listens_={}}reportStats(p){throw new Error("Method not implemented.")}static getListenId_(p,g){return void 0!==g?"tag$"+g:((0,te.hu)(p._queryParams.isDefault(),"should have a tag if it's not a default query."),p._path.toString())}listen(p,g,D,B){const J=p._path.toString();this.log_("Listen called for "+J+" "+p._queryIdentifier);const fe=Ei.getListenId_(p,D),Ve={};this.listens_[fe]=Ve;const bt=As(p._queryParams);this.restRequest_(J+".json",bt,(Rt,Fn)=>{let Ln=Fn;if(404===Rt&&(Ln=null,Rt=null),null===Rt&&this.onDataUpdate_(J,Ln,!1,D),(0,te.DV)(this.listens_,fe)===Ve){let nr;nr=Rt?401===Rt?"permission_denied":"rest_error:"+Rt:"ok",B(nr,null)}})}unlisten(p,g){const D=Ei.getListenId_(p,g);delete this.listens_[D]}get(p){const g=As(p._queryParams),D=p._path.toString(),B=new te.BH;return this.restRequest_(D+".json",g,(J,fe)=>{let Ve=fe;404===J&&(Ve=null,J=null),null===J?(this.onDataUpdate_(D,Ve,!1,null),B.resolve(Ve)):B.reject(new Error(Ve))}),B.promise}refreshAuthToken(p){}restRequest_(p,g={},D){return g.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([B,J])=>{B&&B.accessToken&&(g.auth=B.accessToken),J&&J.token&&(g.ac=J.token);const fe=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+p+"?ns="+this.repoInfo_.namespace+(0,te.xO)(g);this.log_("Sending REST request for "+fe);const Ve=new XMLHttpRequest;Ve.onreadystatechange=()=>{if(D&&4===Ve.readyState){this.log_("REST Response for "+fe+" received. status:",Ve.status,"response:",Ve.responseText);let bt=null;if(Ve.status>=200&&Ve.status<300){try{bt=(0,te.cI)(Ve.responseText)}catch{tr("Failed to parse JSON response for "+fe+": "+Ve.responseText)}D(null,bt)}else 401!==Ve.status&&404!==Ve.status&&tr("Got unsuccessful REST response for "+fe+" Status: "+Ve.status),D(Ve.status);D=null}},Ve.open("GET",fe,!0),Ve.send()})}}class Ms{constructor(){this.rootNode_=Gn.EMPTY_NODE}getNode(p){return this.rootNode_.getChild(p)}updateSnapshot(p,g){this.rootNode_=this.rootNode_.updateChild(p,g)}}function io(){return{value:null,children:new Map}}function Ko(v,p,g){if(zr(p))v.value=g,v.children.clear();else if(null!==v.value)v.value=v.value.updateChild(p,g);else{const D=An(p);v.children.has(D)||v.children.set(D,io()),Ko(v.children.get(D),p=Lr(p),g)}}function mo(v,p){if(zr(p))return v.value=null,v.children.clear(),!0;if(null!==v.value){if(v.value.isLeafNode())return!1;{const g=v.value;return v.value=null,g.forEachChild($i,(D,B)=>{Ko(v,new Si(D),B)}),mo(v,p)}}if(v.children.size>0){const g=An(p);return p=Lr(p),v.children.has(g)&&mo(v.children.get(g),p)&&v.children.delete(g),0===v.children.size}return!0}function oa(v,p,g){null!==v.value?g(p,v.value):function ta(v,p){v.children.forEach((g,D)=>{p(D,g)})}(v,(D,B)=>{oa(B,new Si(p.toString()+"/"+D),g)})}class Ta{constructor(p){this.collection_=p,this.last_=null}get(){const p=this.collection_.get(),g=Object.assign({},p);return this.last_&&ar(this.last_,(D,B)=>{g[D]=g[D]-B}),this.last_=p,g}}class Gs{constructor(p,g){this.server_=g,this.statsToReport_={},this.statsListener_=new Ta(p);const D=1e4+2e4*Math.random();br(this.reportStats_.bind(this),Math.floor(D))}reportStats_(){const p=this.statsListener_.get(),g={};let D=!1;ar(p,(B,J)=>{J>0&&(0,te.r3)(this.statsToReport_,B)&&(g[B]=J,D=!0)}),D&&this.server_.reportStats(g),br(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var Zs=(()=>((Zs=Zs||{})[Zs.OVERWRITE=0]="OVERWRITE",Zs[Zs.MERGE=1]="MERGE",Zs[Zs.ACK_USER_WRITE=2]="ACK_USER_WRITE",Zs[Zs.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",Zs))();function Ea(v){return{fromUser:!1,fromServer:!0,queryId:v,tagged:!0}}class M{constructor(p,g,D){this.path=p,this.affectedTree=g,this.revert=D,this.type=Zs.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(p){if(zr(this.path)){if(null!=this.affectedTree.value)return(0,te.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const g=this.affectedTree.subtree(new Si(p));return new M(Mr(),g,this.revert)}}return(0,te.hu)(An(this.path)===p,"operationForChild called for unrelated child."),new M(Lr(this.path),this.affectedTree,this.revert)}}class Z{constructor(p,g){this.source=p,this.path=g,this.type=Zs.LISTEN_COMPLETE}operationForChild(p){return zr(this.path)?new Z(this.source,Mr()):new Z(this.source,Lr(this.path))}}class oe{constructor(p,g,D){this.source=p,this.path=g,this.snap=D,this.type=Zs.OVERWRITE}operationForChild(p){return zr(this.path)?new oe(this.source,Mr(),this.snap.getImmediateChild(p)):new oe(this.source,Lr(this.path),this.snap)}}class De{constructor(p,g,D){this.source=p,this.path=g,this.children=D,this.type=Zs.MERGE}operationForChild(p){if(zr(this.path)){const g=this.children.subtree(new Si(p));return g.isEmpty()?null:g.value?new oe(this.source,Mr(),g.value):new De(this.source,Mr(),g)}return(0,te.hu)(An(this.path)===p,"Can't get a merge for a child not on the path of the operation"),new De(this.source,Lr(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class $e{constructor(p,g,D){this.node_=p,this.fullyInitialized_=g,this.filtered_=D}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(p){if(zr(p))return this.isFullyInitialized()&&!this.filtered_;const g=An(p);return this.isCompleteForChild(g)}isCompleteForChild(p){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(p)}getNode(){return this.node_}}class at{constructor(p){this.query_=p,this.index_=this.query_._queryParams.getIndex()}}function zt(v,p,g,D,B,J){const fe=D.filter(Ve=>Ve.type===g);fe.sort((Ve,bt)=>function Nn(v,p,g){if(null==p.childName||null==g.childName)throw(0,te.g5)("Should only compare child_ events.");const D=new Oi(p.childName,p.snapshotNode),B=new Oi(g.childName,g.snapshotNode);return v.index_.compare(D,B)}(v,Ve,bt)),fe.forEach(Ve=>{const bt=function sn(v,p,g){return"value"===p.type||"child_removed"===p.type||(p.prevName=g.getPredecessorChildName(p.childName,p.snapshotNode,v.index_)),p}(v,Ve,J);B.forEach(Rt=>{Rt.respondsTo(Ve.type)&&p.push(Rt.createEvent(bt,v.query_))})})}function or(v,p){return{eventCache:v,serverCache:p}}function Jr(v,p,g,D){return or(new $e(p,g,D),v.serverCache)}function qr(v,p,g,D){return or(v.eventCache,new $e(p,g,D))}function $s(v){return v.eventCache.isFullyInitialized()?v.eventCache.getNode():null}function Ps(v){return v.serverCache.isFullyInitialized()?v.serverCache.getNode():null}let Y;class Q{constructor(p,g=(()=>(Y||(Y=new ki(Ar)),Y))()){this.value=p,this.children=g}static fromObject(p){let g=new Q(null);return ar(p,(D,B)=>{g=g.set(new Si(D),B)}),g}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(p,g){if(null!=this.value&&g(this.value))return{path:Mr(),value:this.value};if(zr(p))return null;{const D=An(p),B=this.children.get(D);if(null!==B){const J=B.findRootMostMatchingPathAndValue(Lr(p),g);return null!=J?{path:Qr(new Si(D),J.path),value:J.value}:null}return null}}findRootMostValueAndPath(p){return this.findRootMostMatchingPathAndValue(p,()=>!0)}subtree(p){if(zr(p))return this;{const g=An(p),D=this.children.get(g);return null!==D?D.subtree(Lr(p)):new Q(null)}}set(p,g){if(zr(p))return new Q(g,this.children);{const D=An(p),J=(this.children.get(D)||new Q(null)).set(Lr(p),g),fe=this.children.insert(D,J);return new Q(this.value,fe)}}remove(p){if(zr(p))return this.children.isEmpty()?new Q(null):new Q(null,this.children);{const g=An(p),D=this.children.get(g);if(D){const B=D.remove(Lr(p));let J;return J=B.isEmpty()?this.children.remove(g):this.children.insert(g,B),null===this.value&&J.isEmpty()?new Q(null):new Q(this.value,J)}return this}}get(p){if(zr(p))return this.value;{const g=An(p),D=this.children.get(g);return D?D.get(Lr(p)):null}}setTree(p,g){if(zr(p))return g;{const D=An(p),J=(this.children.get(D)||new Q(null)).setTree(Lr(p),g);let fe;return fe=J.isEmpty()?this.children.remove(D):this.children.insert(D,J),new Q(this.value,fe)}}fold(p){return this.fold_(Mr(),p)}fold_(p,g){const D={};return this.children.inorderTraversal((B,J)=>{D[B]=J.fold_(Qr(p,B),g)}),g(p,this.value,D)}findOnPath(p,g){return this.findOnPath_(p,Mr(),g)}findOnPath_(p,g,D){const B=!!this.value&&D(g,this.value);if(B)return B;if(zr(p))return null;{const J=An(p),fe=this.children.get(J);return fe?fe.findOnPath_(Lr(p),Qr(g,J),D):null}}foreachOnPath(p,g){return this.foreachOnPath_(p,Mr(),g)}foreachOnPath_(p,g,D){if(zr(p))return this;{this.value&&D(g,this.value);const B=An(p),J=this.children.get(B);return J?J.foreachOnPath_(Lr(p),Qr(g,B),D):new Q(null)}}foreach(p){this.foreach_(Mr(),p)}foreach_(p,g){this.children.inorderTraversal((D,B)=>{B.foreach_(Qr(p,D),g)}),this.value&&g(p,this.value)}foreachChild(p){this.children.inorderTraversal((g,D)=>{D.value&&p(g,D.value)})}}class Pe{constructor(p){this.writeTree_=p}static empty(){return new Pe(new Q(null))}}function vt(v,p,g){if(zr(p))return new Pe(new Q(g));{const D=v.writeTree_.findRootMostValueAndPath(p);if(null!=D){const B=D.path;let J=D.value;const fe=zi(B,p);return J=J.updateChild(fe,g),new Pe(v.writeTree_.set(B,J))}{const B=new Q(g),J=v.writeTree_.setTree(p,B);return new Pe(J)}}}function mn(v,p,g){let D=v;return ar(g,(B,J)=>{D=vt(D,Qr(p,B),J)}),D}function Rn(v,p){if(zr(p))return Pe.empty();{const g=v.writeTree_.setTree(p,new Q(null));return new Pe(g)}}function ei(v,p){return null!=fr(v,p)}function fr(v,p){const g=v.writeTree_.findRootMostValueAndPath(p);return null!=g?v.writeTree_.get(g.path).getChild(zi(g.path,p)):null}function Gi(v){const p=[],g=v.writeTree_.value;return null!=g?g.isLeafNode()||g.forEachChild($i,(D,B)=>{p.push(new Oi(D,B))}):v.writeTree_.children.inorderTraversal((D,B)=>{null!=B.value&&p.push(new Oi(D,B.value))}),p}function ti(v,p){if(zr(p))return v;{const g=fr(v,p);return new Pe(null!=g?new Q(g):v.writeTree_.subtree(p))}}function Li(v){return v.writeTree_.isEmpty()}function ds(v,p){return Is(Mr(),v.writeTree_,p)}function Is(v,p,g){if(null!=p.value)return g.updateChild(v,p.value);{let D=null;return p.children.inorderTraversal((B,J)=>{".priority"===B?((0,te.hu)(null!==J.value,"Priority writes must always be leaf nodes"),D=J.value):g=Is(Qr(v,B),J,g)}),!g.getChild(v).isEmpty()&&null!==D&&(g=g.updateChild(Qr(v,".priority"),D)),g}}function yo(v,p){return Vi(p,v)}function Or(v,p){if(v.snap)return ms(v.path,p);for(const g in v.children)if(v.children.hasOwnProperty(g)&&ms(Qr(v.path,g),p))return!0;return!1}function Kn(v){return v.visible}function Bn(v,p,g){let D=Pe.empty();for(let B=0;B<v.length;++B){const J=v[B];if(p(J)){const fe=J.path;let Ve;if(J.snap)ms(g,fe)?(Ve=zi(g,fe),D=vt(D,Ve,J.snap)):ms(fe,g)&&(Ve=zi(fe,g),D=vt(D,Mr(),J.snap.getChild(Ve)));else{if(!J.children)throw(0,te.g5)("WriteRecord should have .snap or .children");if(ms(g,fe))Ve=zi(g,fe),D=mn(D,Ve,J.children);else if(ms(fe,g))if(Ve=zi(fe,g),zr(Ve))D=mn(D,Mr(),J.children);else{const bt=(0,te.DV)(J.children,An(Ve));if(bt){const Rt=bt.getChild(Lr(Ve));D=vt(D,Mr(),Rt)}}}}}return D}function Dn(v,p,g,D,B){if(D||B){const J=ti(v.visibleWrites,p);return!B&&Li(J)?g:B||null!=g||ei(J,Mr())?ds(Bn(v.allWrites,function(Rt){return(Rt.visible||B)&&(!D||!~D.indexOf(Rt.writeId))&&(ms(Rt.path,p)||ms(p,Rt.path))},p),g||Gn.EMPTY_NODE):null}{const J=fr(v.visibleWrites,p);if(null!=J)return J;{const fe=ti(v.visibleWrites,p);return Li(fe)?g:null!=g||ei(fe,Mr())?ds(fe,g||Gn.EMPTY_NODE):null}}}function al(v,p,g,D){return Dn(v.writeTree,v.treePath,p,g,D)}function Zo(v,p){return function Xn(v,p,g){let D=Gn.EMPTY_NODE;const B=fr(v.visibleWrites,p);if(B)return B.isLeafNode()||B.forEachChild($i,(J,fe)=>{D=D.updateImmediateChild(J,fe)}),D;if(g){const J=ti(v.visibleWrites,p);return g.forEachChild($i,(fe,Ve)=>{const bt=ds(ti(J,new Si(fe)),Ve);D=D.updateImmediateChild(fe,bt)}),Gi(J).forEach(fe=>{D=D.updateImmediateChild(fe.name,fe.node)}),D}return Gi(ti(v.visibleWrites,p)).forEach(fe=>{D=D.updateImmediateChild(fe.name,fe.node)}),D}(v.writeTree,v.treePath,p)}function Wa(v,p,g,D){return function Yi(v,p,g,D,B){(0,te.hu)(D||B,"Either existingEventSnap or existingServerSnap must exist");const J=Qr(p,g);if(ei(v.visibleWrites,J))return null;{const fe=ti(v.visibleWrites,J);return Li(fe)?B.getChild(g):ds(fe,B.getChild(g))}}(v.writeTree,v.treePath,p,g,D)}function yl(v,p){return function wa(v,p){return fr(v.visibleWrites,p)}(v.writeTree,Qr(v.treePath,p))}function Jo(v,p,g){return function Ja(v,p,g,D){const B=Qr(p,g),J=fr(v.visibleWrites,B);return null!=J?J:D.isCompleteForChild(g)?ds(ti(v.visibleWrites,B),D.getNode().getImmediateChild(g)):null}(v.writeTree,v.treePath,p,g)}function el(v,p){return Vi(Qr(v.treePath,p),v.writeTree)}function Vi(v,p){return{treePath:v,writeTree:p}}class sa{constructor(){this.changeMap=new Map}trackChildChange(p){const g=p.type,D=p.childName;(0,te.hu)("child_added"===g||"child_changed"===g||"child_removed"===g,"Only child changes supported for tracking"),(0,te.hu)(".priority"!==D,"Only non-priority child changes can be tracked.");const B=this.changeMap.get(D);if(B){const J=B.type;if("child_added"===g&&"child_removed"===J)this.changeMap.set(D,S(D,p.snapshotNode,B.snapshotNode));else if("child_removed"===g&&"child_added"===J)this.changeMap.delete(D);else if("child_removed"===g&&"child_changed"===J)this.changeMap.set(D,F(D,B.oldSnap));else if("child_changed"===g&&"child_added"===J)this.changeMap.set(D,$(D,p.snapshotNode));else{if("child_changed"!==g||"child_changed"!==J)throw(0,te.g5)("Illegal combination of changes: "+p+" occurred after "+B);this.changeMap.set(D,S(D,p.snapshotNode,B.oldSnap))}}else this.changeMap.set(D,p)}getChanges(){return Array.from(this.changeMap.values())}}const Ks=new class Ia{getCompleteChild(p){return null}getChildAfterChild(p,g,D){return null}};class yi{constructor(p,g,D=null){this.writes_=p,this.viewCache_=g,this.optCompleteServerCache_=D}getCompleteChild(p){const g=this.viewCache_.eventCache;if(g.isCompleteForChild(p))return g.getNode().getImmediateChild(p);{const D=null!=this.optCompleteServerCache_?new $e(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Jo(this.writes_,p,D)}}getChildAfterChild(p,g,D){const B=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:Ps(this.viewCache_),J=function bs(v,p,g,D,B,J){return function xa(v,p,g,D,B,J,fe){let Ve;const bt=ti(v.visibleWrites,p),Rt=fr(bt,Mr());if(null!=Rt)Ve=Rt;else{if(null==g)return[];Ve=ds(bt,g)}if(Ve=Ve.withIndex(fe),Ve.isEmpty()||Ve.isLeafNode())return[];{const Fn=[],Ln=fe.getCompare(),nr=J?Ve.getReverseIteratorFrom(D,fe):Ve.getIteratorFrom(D,fe);let Ii=nr.getNext();for(;Ii&&Fn.length<B;)0!==Ln(Ii,D)&&Fn.push(Ii),Ii=nr.getNext();return Fn}}(v.writeTree,v.treePath,p,g,D,B,J)}(this.writes_,B,g,1,D,p);return 0===J.length?null:J[0]}}function gr(v,p,g,D,B,J){const fe=p.eventCache;if(null!=yl(D,g))return p;{let Ve,bt;if(zr(g))if((0,te.hu)(p.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),p.serverCache.isFiltered()){const Rt=Ps(p),Ln=Zo(D,Rt instanceof Gn?Rt:Gn.EMPTY_NODE);Ve=v.filter.updateFullNode(p.eventCache.getNode(),Ln,J)}else{const Rt=al(D,Ps(p));Ve=v.filter.updateFullNode(p.eventCache.getNode(),Rt,J)}else{const Rt=An(g);if(".priority"===Rt){(0,te.hu)(1===Fr(g),"Can't have a priority with additional path components");const Fn=fe.getNode();bt=p.serverCache.getNode();const Ln=Wa(D,g,Fn,bt);Ve=null!=Ln?v.filter.updatePriority(Fn,Ln):fe.getNode()}else{const Fn=Lr(g);let Ln;if(fe.isCompleteForChild(Rt)){bt=p.serverCache.getNode();const nr=Wa(D,g,fe.getNode(),bt);Ln=null!=nr?fe.getNode().getImmediateChild(Rt).updateChild(Fn,nr):fe.getNode().getImmediateChild(Rt)}else Ln=Jo(D,Rt,p.serverCache);Ve=null!=Ln?v.filter.updateChild(fe.getNode(),Rt,Ln,Fn,B,J):fe.getNode()}}return Jr(p,Ve,fe.isFullyInitialized()||zr(g),v.filter.filtersNodes())}}function Ka(v,p,g,D,B,J,fe,Ve){const bt=p.serverCache;let Rt;const Fn=fe?v.filter:v.filter.getIndexedFilter();if(zr(g))Rt=Fn.updateFullNode(bt.getNode(),D,null);else if(Fn.filtersNodes()&&!bt.isFiltered()){const Ii=bt.getNode().updateChild(g,D);Rt=Fn.updateFullNode(bt.getNode(),Ii,null)}else{const Ii=An(g);if(!bt.isCompleteForPath(g)&&Fr(g)>1)return p;const Zi=Lr(g),ga=bt.getNode().getImmediateChild(Ii).updateChild(Zi,D);Rt=".priority"===Ii?Fn.updatePriority(bt.getNode(),ga):Fn.updateChild(bt.getNode(),Ii,ga,Zi,Ks,null)}const Ln=qr(p,Rt,bt.isFullyInitialized()||zr(g),Fn.filtersNodes());return gr(v,Ln,g,B,new yi(B,Ln,J),Ve)}function ha(v,p,g,D,B,J,fe){const Ve=p.eventCache;let bt,Rt;const Fn=new yi(B,p,J);if(zr(g))Rt=v.filter.updateFullNode(p.eventCache.getNode(),D,fe),bt=Jr(p,Rt,!0,v.filter.filtersNodes());else{const Ln=An(g);if(".priority"===Ln)Rt=v.filter.updatePriority(p.eventCache.getNode(),D),bt=Jr(p,Rt,Ve.isFullyInitialized(),Ve.isFiltered());else{const nr=Lr(g),Ii=Ve.getNode().getImmediateChild(Ln);let Zi;if(zr(nr))Zi=D;else{const _o=Fn.getCompleteChild(Ln);Zi=null!=_o?".priority"===Ds(nr)&&_o.getChild(wo(nr)).isEmpty()?_o:_o.updateChild(nr,D):Gn.EMPTY_NODE}bt=Ii.equals(Zi)?p:Jr(p,v.filter.updateChild(Ve.getNode(),Ln,Zi,nr,Fn,fe),Ve.isFullyInitialized(),v.filter.filtersNodes())}}return bt}function ya(v,p){return v.eventCache.isCompleteForChild(p)}function nt(v,p,g){return g.foreach((D,B)=>{p=p.updateChild(D,B)}),p}function Xt(v,p,g,D,B,J,fe,Ve){if(p.serverCache.getNode().isEmpty()&&!p.serverCache.isFullyInitialized())return p;let Rt,bt=p;Rt=zr(g)?D:new Q(null).setTree(g,D);const Fn=p.serverCache.getNode();return Rt.children.inorderTraversal((Ln,nr)=>{if(Fn.hasChild(Ln)){const Zi=nt(0,p.serverCache.getNode().getImmediateChild(Ln),nr);bt=Ka(v,bt,new Si(Ln),Zi,B,J,fe,Ve)}}),Rt.children.inorderTraversal((Ln,nr)=>{const Ii=!p.serverCache.isCompleteForChild(Ln)&&null===nr.value;if(!Fn.hasChild(Ln)&&!Ii){const _o=nt(0,p.serverCache.getNode().getImmediateChild(Ln),nr);bt=Ka(v,bt,new Si(Ln),_o,B,J,fe,Ve)}}),bt}class Wi{constructor(p,g){this.query_=p,this.eventRegistrations_=[];const D=this.query_._queryParams,B=new ge(D.getIndex()),J=function Mn(v){return v.loadsAllData()?new ge(v.getIndex()):v.hasLimit()?new Nt(v):new ut(v)}(D);this.processor_=function Fa(v){return{filter:v}}(J);const fe=g.serverCache,Ve=g.eventCache,bt=B.updateFullNode(Gn.EMPTY_NODE,fe.getNode(),null),Rt=J.updateFullNode(Gn.EMPTY_NODE,Ve.getNode(),null),Fn=new $e(bt,fe.isFullyInitialized(),B.filtersNodes()),Ln=new $e(Rt,Ve.isFullyInitialized(),J.filtersNodes());this.viewCache_=or(Ln,Fn),this.eventGenerator_=new at(this.query_)}get query(){return this.query_}}function qi(v,p){const g=Ps(v.viewCache_);return g&&(v.query._queryParams.loadsAllData()||!zr(p)&&!g.getImmediateChild(An(p)).isEmpty())?g.getChild(p):null}function Uo(v){return 0===v.eventRegistrations_.length}function pn(v,p,g){const D=[];if(g){(0,te.hu)(null==p,"A cancel should cancel all event registrations.");const B=v.query._path;v.eventRegistrations_.forEach(J=>{const fe=J.createCancelEvent(g,B);fe&&D.push(fe)})}if(p){let B=[];for(let J=0;J<v.eventRegistrations_.length;++J){const fe=v.eventRegistrations_[J];if(fe.matches(p)){if(p.hasAnyCallback()){B=B.concat(v.eventRegistrations_.slice(J+1));break}}else B.push(fe)}v.eventRegistrations_=B}else v.eventRegistrations_=[];return D}function La(v,p,g,D){p.type===Zs.MERGE&&null!==p.source.queryId&&((0,te.hu)(Ps(v.viewCache_),"We should always have a full cache before handling merges"),(0,te.hu)($s(v.viewCache_),"Missing event cache, even though we have a server cache"));const B=v.viewCache_,J=function Ga(v,p,g,D,B){const J=new sa;let fe,Ve;if(g.type===Zs.OVERWRITE){const Rt=g;Rt.source.fromUser?fe=ha(v,p,Rt.path,Rt.snap,D,B,J):((0,te.hu)(Rt.source.fromServer,"Unknown source."),Ve=Rt.source.tagged||p.serverCache.isFiltered()&&!zr(Rt.path),fe=Ka(v,p,Rt.path,Rt.snap,D,B,Ve,J))}else if(g.type===Zs.MERGE){const Rt=g;Rt.source.fromUser?fe=function hl(v,p,g,D,B,J,fe){let Ve=p;return D.foreach((bt,Rt)=>{const Fn=Qr(g,bt);ya(p,An(Fn))&&(Ve=ha(v,Ve,Fn,Rt,B,J,fe))}),D.foreach((bt,Rt)=>{const Fn=Qr(g,bt);ya(p,An(Fn))||(Ve=ha(v,Ve,Fn,Rt,B,J,fe))}),Ve}(v,p,Rt.path,Rt.children,D,B,J):((0,te.hu)(Rt.source.fromServer,"Unknown source."),Ve=Rt.source.tagged||p.serverCache.isFiltered(),fe=Xt(v,p,Rt.path,Rt.children,D,B,Ve,J))}else if(g.type===Zs.ACK_USER_WRITE){const Rt=g;fe=Rt.revert?function Ui(v,p,g,D,B,J){let fe;if(null!=yl(D,g))return p;{const Ve=new yi(D,p,B),bt=p.eventCache.getNode();let Rt;if(zr(g)||".priority"===An(g)){let Fn;if(p.serverCache.isFullyInitialized())Fn=al(D,Ps(p));else{const Ln=p.serverCache.getNode();(0,te.hu)(Ln instanceof Gn,"serverChildren would be complete if leaf node"),Fn=Zo(D,Ln)}Rt=v.filter.updateFullNode(bt,Fn,J)}else{const Fn=An(g);let Ln=Jo(D,Fn,p.serverCache);null==Ln&&p.serverCache.isCompleteForChild(Fn)&&(Ln=bt.getImmediateChild(Fn)),Rt=null!=Ln?v.filter.updateChild(bt,Fn,Ln,Lr(g),Ve,J):p.eventCache.getNode().hasChild(Fn)?v.filter.updateChild(bt,Fn,Gn.EMPTY_NODE,Lr(g),Ve,J):bt,Rt.isEmpty()&&p.serverCache.isFullyInitialized()&&(fe=al(D,Ps(p)),fe.isLeafNode()&&(Rt=v.filter.updateFullNode(Rt,fe,J)))}return fe=p.serverCache.isFullyInitialized()||null!=yl(D,Mr()),Jr(p,Rt,fe,v.filter.filtersNodes())}}(v,p,Rt.path,D,B,J):function Qt(v,p,g,D,B,J,fe){if(null!=yl(B,g))return p;const Ve=p.serverCache.isFiltered(),bt=p.serverCache;if(null!=D.value){if(zr(g)&&bt.isFullyInitialized()||bt.isCompleteForPath(g))return Ka(v,p,g,bt.getNode().getChild(g),B,J,Ve,fe);if(zr(g)){let Rt=new Q(null);return bt.getNode().forEachChild(Ls,(Fn,Ln)=>{Rt=Rt.set(new Si(Fn),Ln)}),Xt(v,p,g,Rt,B,J,Ve,fe)}return p}{let Rt=new Q(null);return D.foreach((Fn,Ln)=>{const nr=Qr(g,Fn);bt.isCompleteForPath(nr)&&(Rt=Rt.set(Fn,bt.getNode().getChild(nr)))}),Xt(v,p,g,Rt,B,J,Ve,fe)}}(v,p,Rt.path,Rt.affectedTree,D,B,J)}else{if(g.type!==Zs.LISTEN_COMPLETE)throw(0,te.g5)("Unknown operation type: "+g.type);fe=function yr(v,p,g,D,B){const J=p.serverCache;return gr(v,qr(p,J.getNode(),J.isFullyInitialized()||zr(g),J.isFiltered()),g,D,Ks,B)}(v,p,g.path,D,J)}const bt=J.getChanges();return function hs(v,p,g){const D=p.eventCache;if(D.isFullyInitialized()){const B=D.getNode().isLeafNode()||D.getNode().isEmpty(),J=$s(v);(g.length>0||!v.eventCache.isFullyInitialized()||B&&!D.getNode().equals(J)||!D.getNode().getPriority().equals(J.getPriority()))&&g.push(ce($s(p)))}}(p,fe,bt),{viewCache:fe,changes:bt}}(v.processor_,B,p,g,D);return function ss(v,p){(0,te.hu)(p.eventCache.getNode().isIndexed(v.filter.getIndex()),"Event snap not indexed"),(0,te.hu)(p.serverCache.getNode().isIndexed(v.filter.getIndex()),"Server snap not indexed")}(v.processor_,J.viewCache),(0,te.hu)(J.viewCache.serverCache.isFullyInitialized()||!B.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),v.viewCache_=J.viewCache,Cl(v,J.changes,J.viewCache.eventCache.getNode(),null)}function Cl(v,p,g,D){return function Tt(v,p,g,D){const B=[],J=[];return p.forEach(fe=>{"child_changed"===fe.type&&v.index_.indexedValueChanged(fe.oldSnap,fe.snapshotNode)&&J.push(function L(v,p){return{type:"child_moved",snapshotNode:p,childName:v}}(fe.childName,fe.snapshotNode))}),zt(v,B,"child_removed",p,D,g),zt(v,B,"child_added",p,D,g),zt(v,B,"child_moved",J,D,g),zt(v,B,"child_changed",p,D,g),zt(v,B,"value",p,D,g),B}(v.eventGenerator_,p,g,D?[D]:v.eventRegistrations_)}let Ya,Zr;class Xo{constructor(){this.views=new Map}}function H(v,p,g,D){const B=p.source.queryId;if(null!==B){const J=v.views.get(B);return(0,te.hu)(null!=J,"SyncTree gave us an op for an invalid query."),La(J,p,g,D)}{let J=[];for(const fe of v.views.values())J=J.concat(La(fe,p,g,D));return J}}function R(v,p,g,D,B){const fe=v.views.get(p._queryIdentifier);if(!fe){let Ve=al(g,B?D:null),bt=!1;Ve?bt=!0:D instanceof Gn?(Ve=Zo(g,D),bt=!1):(Ve=Gn.EMPTY_NODE,bt=!1);const Rt=or(new $e(Ve,bt,!1),new $e(D,B,!1));return new Wi(p,Rt)}return fe}function Xe(v){const p=[];for(const g of v.views.values())g.query._queryParams.loadsAllData()||p.push(g);return p}function Ue(v,p){let g=null;for(const D of v.views.values())g=g||qi(D,p);return g}function Yt(v,p){return p._queryParams.loadsAllData()?Mi(v):v.views.get(p._queryIdentifier)}function Tn(v,p){return null!=Yt(v,p)}function xr(v){return null!=Mi(v)}function Mi(v){for(const p of v.views.values())if(p.query._queryParams.loadsAllData())return p;return null}let l=1;class s{constructor(p){this.listenProvider_=p,this.syncPointTree_=new Q(null),this.pendingWriteTree_=function dl(){return{visibleWrites:Pe.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function c(v,p,g,D,B){return function Wn(v,p,g,D,B){(0,te.hu)(D>v.lastWriteId,"Stacking an older write on top of newer ones"),void 0===B&&(B=!0),v.allWrites.push({path:p,snap:g,writeId:D,visible:B}),B&&(v.visibleWrites=vt(v.visibleWrites,p,g)),v.lastWriteId=D}(v.pendingWriteTree_,p,g,D,B),B?Zt(v,new oe({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},p,g)):[]}function _(v,p,g=!1){const D=function Yo(v,p){for(let g=0;g<v.allWrites.length;g++){const D=v.allWrites[g];if(D.writeId===p)return D}return null}(v.pendingWriteTree_,p);if(function qo(v,p){const g=v.allWrites.findIndex(Ve=>Ve.writeId===p);(0,te.hu)(g>=0,"removeWrite called with nonexistent writeId.");const D=v.allWrites[g];v.allWrites.splice(g,1);let B=D.visible,J=!1,fe=v.allWrites.length-1;for(;B&&fe>=0;){const Ve=v.allWrites[fe];Ve.visible&&(fe>=g&&Or(Ve,D.path)?B=!1:ms(D.path,Ve.path)&&(J=!0)),fe--}return!!B&&(J?(function ii(v){v.visibleWrites=Bn(v.allWrites,Kn,Mr()),v.lastWriteId=v.allWrites.length>0?v.allWrites[v.allWrites.length-1].writeId:-1}(v),!0):(D.snap?v.visibleWrites=Rn(v.visibleWrites,D.path):ar(D.children,bt=>{v.visibleWrites=Rn(v.visibleWrites,Qr(D.path,bt))}),!0))}(v.pendingWriteTree_,p)){let J=new Q(null);return null!=D.snap?J=J.set(Mr(),!0):ar(D.children,fe=>{J=J.set(new Si(fe),!0)}),Zt(v,new M(D.path,J,g))}return[]}function I(v,p,g){return Zt(v,new oe({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},p,g))}function de(v,p,g,D,B=!1){const J=p._path,fe=v.syncPointTree_.get(J);let Ve=[];if(fe&&("default"===p._queryIdentifier||Tn(fe,p))){const bt=function me(v,p,g,D){const B=p._queryIdentifier,J=[];let fe=[];const Ve=xr(v);if("default"===B)for(const[bt,Rt]of v.views.entries())fe=fe.concat(pn(Rt,g,D)),Uo(Rt)&&(v.views.delete(bt),Rt.query._queryParams.loadsAllData()||J.push(Rt.query));else{const bt=v.views.get(B);bt&&(fe=fe.concat(pn(bt,g,D)),Uo(bt)&&(v.views.delete(B),bt.query._queryParams.loadsAllData()||J.push(bt.query)))}return Ve&&!xr(v)&&J.push(new(function jo(){return(0,te.hu)(Ya,"Reference.ts has not been loaded"),Ya}())(p._repo,p._path)),{removed:J,events:fe}}(fe,p,g,D);(function V(v){return 0===v.views.size})(fe)&&(v.syncPointTree_=v.syncPointTree_.remove(J));const Rt=bt.removed;if(Ve=bt.events,!B){const Fn=-1!==Rt.findIndex(nr=>nr._queryParams.loadsAllData()),Ln=v.syncPointTree_.findOnPath(J,(nr,Ii)=>xr(Ii));if(Fn&&!Ln){const nr=v.syncPointTree_.subtree(J);if(!nr.isEmpty()){const Ii=function fi(v){return v.fold((p,g,D)=>{if(g&&xr(g))return[Mi(g)];{let B=[];return g&&(B=Xe(g)),ar(D,(J,fe)=>{B=B.concat(fe)}),B}})}(nr);for(let Zi=0;Zi<Ii.length;++Zi){const _o=Ii[Zi],ga=_o.query,il=er(v,_o);v.listenProvider_.startListening(Ri(ga),Qn(v,ga),il.hashFn,il.onComplete)}}}!Ln&&Rt.length>0&&!D&&(Fn?v.listenProvider_.stopListening(Ri(p),null):Rt.forEach(nr=>{const Ii=v.queryToTagMap.get(Yn(nr));v.listenProvider_.stopListening(Ri(nr),Ii)}))}!function Vr(v,p){for(let g=0;g<p.length;++g){const D=p[g];if(!D._queryParams.loadsAllData()){const B=Yn(D),J=v.queryToTagMap.get(B);v.queryToTagMap.delete(B),v.tagToQueryMap.delete(J)}}}(v,Rt)}return Ve}function Ce(v,p,g,D){const B=sr(v,D);if(null!=B){const J=dr(B),fe=J.path,Ve=J.queryId,bt=zi(fe,p);return vr(v,fe,new oe(Ea(Ve),bt,g))}return[]}function Qe(v,p,g,D=!1){const B=p._path;let J=null,fe=!1;v.syncPointTree_.foreachOnPath(B,(nr,Ii)=>{const Zi=zi(nr,B);J=J||Ue(Ii,Zi),fe=fe||xr(Ii)});let bt,Ve=v.syncPointTree_.get(B);Ve?(fe=fe||xr(Ve),J=J||Ue(Ve,Mr())):(Ve=new Xo,v.syncPointTree_=v.syncPointTree_.set(B,Ve)),null!=J?bt=!0:(bt=!1,J=Gn.EMPTY_NODE,v.syncPointTree_.subtree(B).foreachChild((Ii,Zi)=>{const _o=Ue(Zi,Mr());_o&&(J=J.updateImmediateChild(Ii,_o))}));const Rt=Tn(Ve,p);if(!Rt&&!p._queryParams.loadsAllData()){const nr=Yn(p);(0,te.hu)(!v.queryToTagMap.has(nr),"View does not exist, but we have a tag");const Ii=function fs(){return l++}();v.queryToTagMap.set(nr,Ii),v.tagToQueryMap.set(Ii,nr)}let Ln=function q(v,p,g,D,B,J){const fe=R(v,p,D,B,J);return v.views.has(p._queryIdentifier)||v.views.set(p._queryIdentifier,fe),function aa(v,p){v.eventRegistrations_.push(p)}(fe,g),function fa(v,p){const g=v.viewCache_.eventCache,D=[];return g.getNode().isLeafNode()||g.getNode().forEachChild($i,(J,fe)=>{D.push($(J,fe))}),g.isFullyInitialized()&&D.push(ce(g.getNode())),Cl(v,D,g.getNode(),p)}(fe,g)}(Ve,p,g,yo(v.pendingWriteTree_,B),J,bt);if(!Rt&&!fe&&!D){const nr=Yt(Ve,p);Ln=Ln.concat(function Rs(v,p,g){const D=p._path,B=Qn(v,p),J=er(v,g),fe=v.listenProvider_.startListening(Ri(p),B,J.hashFn,J.onComplete),Ve=v.syncPointTree_.subtree(D);if(B)(0,te.hu)(!xr(Ve.value),"If we're adding a query, it shouldn't be shadowed");else{const bt=Ve.fold((Rt,Fn,Ln)=>{if(!zr(Rt)&&Fn&&xr(Fn))return[Mi(Fn).query];{let nr=[];return Fn&&(nr=nr.concat(Xe(Fn).map(Ii=>Ii.query))),ar(Ln,(Ii,Zi)=>{nr=nr.concat(Zi)}),nr}});for(let Rt=0;Rt<bt.length;++Rt){const Fn=bt[Rt];v.listenProvider_.stopListening(Ri(Fn),Qn(v,Fn))}}return fe}(v,p,nr))}return Ln}function Et(v,p,g){const B=v.pendingWriteTree_,J=v.syncPointTree_.findOnPath(p,(fe,Ve)=>{const Rt=Ue(Ve,zi(fe,p));if(Rt)return Rt});return Dn(B,p,J,g,!0)}function Zt(v,p){return In(p,v.syncPointTree_,null,yo(v.pendingWriteTree_,Mr()))}function In(v,p,g,D){if(zr(v.path))return En(v,p,g,D);{const B=p.get(Mr());null==g&&null!=B&&(g=Ue(B,Mr()));let J=[];const fe=An(v.path),Ve=v.operationForChild(fe),bt=p.children.get(fe);if(bt&&Ve){const Rt=g?g.getImmediateChild(fe):null,Fn=el(D,fe);J=J.concat(In(Ve,bt,Rt,Fn))}return B&&(J=J.concat(H(B,v,D,g))),J}}function En(v,p,g,D){const B=p.get(Mr());null==g&&null!=B&&(g=Ue(B,Mr()));let J=[];return p.children.inorderTraversal((fe,Ve)=>{const bt=g?g.getImmediateChild(fe):null,Rt=el(D,fe),Fn=v.operationForChild(fe);Fn&&(J=J.concat(En(Fn,Ve,bt,Rt)))}),B&&(J=J.concat(H(B,v,D,g))),J}function er(v,p){const g=p.query,D=Qn(v,g);return{hashFn:()=>(function Ji(v){return v.viewCache_.serverCache.getNode()}(p)||Gn.EMPTY_NODE).hash(),onComplete:B=>{if("ok"===B)return D?function K(v,p,g){const D=sr(v,g);if(D){const B=dr(D),J=B.path,fe=B.queryId,Ve=zi(J,p);return vr(v,J,new Z(Ea(fe),Ve))}return[]}(v,g._path,D):function k(v,p){return Zt(v,new Z({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},p))}(v,g._path);{const J=function ir(v,p){let g="Unknown Error";"too_big"===v?g="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===v?g="Client doesn't have permission to access the desired data.":"unavailable"===v&&(g="The service is unavailable");const D=new Error(v+" at "+p._path.toString()+": "+g);return D.code=v.toUpperCase(),D}(B,g);return de(v,g,null,J)}}}}function Qn(v,p){const g=Yn(p);return v.queryToTagMap.get(g)}function Yn(v){return v._path.toString()+"$"+v._queryIdentifier}function sr(v,p){return v.tagToQueryMap.get(p)}function dr(v){const p=v.indexOf("$");return(0,te.hu)(-1!==p&&p<v.length-1,"Bad queryKey."),{queryId:v.substr(p+1),path:new Si(v.substr(0,p))}}function vr(v,p,g){const D=v.syncPointTree_.get(p);return(0,te.hu)(D,"Missing sync point for query tag that we're tracking"),H(D,g,yo(v.pendingWriteTree_,p),null)}function Ri(v){return v._queryParams.loadsAllData()&&!v._queryParams.isDefault()?new(function m(){return(0,te.hu)(Zr,"Reference.ts has not been loaded"),Zr}())(v._repo,v._path):v}class os{constructor(p){this.node_=p}getImmediateChild(p){const g=this.node_.getImmediateChild(p);return new os(g)}node(){return this.node_}}class Vs{constructor(p,g){this.syncTree_=p,this.path_=g}getImmediateChild(p){const g=Qr(this.path_,p);return new Vs(this.syncTree_,g)}node(){return Et(this.syncTree_,this.path_)}}const wr=function(v){return(v=v||{}).timestamp=v.timestamp||(new Date).getTime(),v},Ir=function(v,p,g){return v&&"object"==typeof v?((0,te.hu)(".sv"in v,"Unexpected leaf node or priority contents"),"string"==typeof v[".sv"]?wi(v[".sv"],p,g):"object"==typeof v[".sv"]?Ki(v[".sv"],p):void(0,te.hu)(!1,"Unexpected server value: "+JSON.stringify(v,null,2))):v},wi=function(v,p,g){if("timestamp"===v)return g.timestamp;(0,te.hu)(!1,"Unexpected server value: "+v)},Ki=function(v,p,g){v.hasOwnProperty("increment")||(0,te.hu)(!1,"Unexpected server value: "+JSON.stringify(v,null,2));const D=v.increment;"number"!=typeof D&&(0,te.hu)(!1,"Unexpected increment value: "+D);const B=p.node();if((0,te.hu)(null!==B&&typeof B<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!B.isLeafNode())return D;const fe=B.getValue();return"number"!=typeof fe?D:fe+D},rs=function(v,p,g,D){return vo(p,new Vs(g,v),D)},la=function(v,p,g){return vo(v,new os(p),g)};function vo(v,p,g){const D=v.getPriority().val(),B=Ir(D,p.getImmediateChild(".priority"),g);let J;if(v.isLeafNode()){const fe=v,Ve=Ir(fe.getValue(),p,g);return Ve!==fe.getValue()||B!==fe.getPriority().val()?new Ts(Ve,Pi(B)):v}{const fe=v;return J=fe,B!==fe.getPriority().val()&&(J=J.updatePriority(new Ts(B))),fe.forEachChild($i,(Ve,bt)=>{const Rt=vo(bt,p.getImmediateChild(Ve),g);Rt!==bt&&(J=J.updateImmediateChild(Ve,Rt))}),J}}class Cs{constructor(p="",g=null,D={children:{},childCount:0}){this.name=p,this.parent=g,this.node=D}}function as(v,p){let g=p instanceof Si?p:new Si(p),D=v,B=An(g);for(;null!==B;){const J=(0,te.DV)(D.node.children,B)||{children:{},childCount:0};D=new Cs(B,D,J),g=Lr(g),B=An(g)}return D}function Ca(v){return v.node.value}function Ba(v,p){v.node.value=p,_l(v)}function $o(v){return v.node.childCount>0}function ra(v,p){ar(v.node.children,(g,D)=>{p(new Cs(g,v,D))})}function tl(v,p,g,D){g&&!D&&p(v),ra(v,B=>{tl(B,p,!0,D)}),g&&D&&p(v)}function vl(v){return new Si(null===v.parent?v.name:vl(v.parent)+"/"+v.name)}function _l(v){null!==v.parent&&function Nc(v,p,g){const D=function Ml(v){return void 0===Ca(v)&&!$o(v)}(g),B=(0,te.r3)(v.node.children,p);D&&B?(delete v.node.children[p],v.node.childCount--,_l(v)):!D&&!B&&(v.node.children[p]=g.node,v.node.childCount++,_l(v))}(v.parent,v.name,v)}const Xl=/[\[\].#$\/\u0000-\u001F\u007F]/,Ql=/[\[\].#$\u0000-\u001F\u007F]/,Ll=10485760,Fc=function(v){return"string"==typeof v&&0!==v.length&&!Xl.test(v)},ca=function(v){return"string"==typeof v&&0!==v.length&&!Ql.test(v)},fl=function(v){return null===v||"string"==typeof v||"number"==typeof v&&!un(v)||v&&"object"==typeof v&&(0,te.r3)(v,".sv")},ll=function(v,p,g,D){D&&void 0===p||za((0,te.gK)(v,"value"),p,g)},za=function(v,p,g){const D=g instanceof Si?new Ni(g,v):g;if(void 0===p)throw new Error(v+"contains undefined "+Qs(D));if("function"==typeof p)throw new Error(v+"contains a function "+Qs(D)+" with contents = "+p.toString());if(un(p))throw new Error(v+"contains "+p.toString()+" "+Qs(D));if("string"==typeof p&&p.length>Ll/3&&(0,te.ug)(p)>Ll)throw new Error(v+"contains a string greater than "+Ll+" utf8 bytes "+Qs(D)+" ('"+p.substring(0,50)+"...')");if(p&&"object"==typeof p){let B=!1,J=!1;if(ar(p,(fe,Ve)=>{if(".value"===fe)B=!0;else if(".priority"!==fe&&".sv"!==fe&&(J=!0,!Fc(fe)))throw new Error(v+" contains an invalid key ("+fe+") "+Qs(D)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function Qi(v,p){v.parts_.length>0&&(v.byteLength_+=1),v.parts_.push(p),v.byteLength_+=(0,te.ug)(p),fo(v)})(D,fe),za(v,Ve,D),function no(v){const p=v.parts_.pop();v.byteLength_-=(0,te.ug)(p),v.parts_.length>0&&(v.byteLength_-=1)}(D)}),B&&J)throw new Error(v+' contains ".value" child '+Qs(D)+" in addition to actual children.")}},vc=function(v,p,g,D){if(D&&void 0===p)return;const B=(0,te.gK)(v,"values");if(!p||"object"!=typeof p||Array.isArray(p))throw new Error(B+" must be an object containing the children to replace.");const J=[];ar(p,(fe,Ve)=>{const bt=new Si(fe);if(za(B,Ve,Qr(g,bt)),".priority"===Ds(bt)&&!fl(Ve))throw new Error(B+"contains an invalid value for '"+bt.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");J.push(bt)}),function(v,p){let g,D;for(g=0;g<p.length;g++){D=p[g];const J=is(D);for(let fe=0;fe<J.length;fe++)if((".priority"!==J[fe]||fe!==J.length-1)&&!Fc(J[fe]))throw new Error(v+"contains an invalid key ("+J[fe]+") in path "+D.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}p.sort(Yr);let B=null;for(g=0;g<p.length;g++){if(D=p[g],null!==B&&ms(B,D))throw new Error(v+"contains a path "+B.toString()+" that is ancestor of another path "+D.toString());B=D}}(B,J)},pl=function(v,p,g){if(!g||void 0!==p){if(un(p))throw new Error((0,te.gK)(v,"priority")+"is "+p.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!fl(p))throw new Error((0,te.gK)(v,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},Pl=function(v,p,g,D){if(!(D&&void 0===g||Fc(g)))throw new Error((0,te.gK)(v,p)+'was an invalid key = "'+g+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},Lc=function(v,p,g,D){if(!(D&&void 0===g||ca(g)))throw new Error((0,te.gK)(v,p)+'was an invalid path = "'+g+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},Df=function(v,p,g,D){g&&(g=g.replace(/^\/*\.info(\/|$)/,"/")),Lc(v,p,g,D)},gl=function(v,p){if(".info"===An(p))throw new Error(v+" failed = Can't modify data under /.info/")},md=function(v,p){const g=p.path.toString();if("string"!=typeof p.repoInfo.host||0===p.repoInfo.host.length||!Fc(p.repoInfo.namespace)&&"localhost"!==p.repoInfo.host.split(":")[0]||0!==g.length&&!function(v){return v&&(v=v.replace(/^\/*\.info(\/|$)/,"/")),ca(v)}(g))throw new Error((0,te.gK)(v,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class zo{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function tc(v,p){let g=null;for(let D=0;D<p.length;D++){const B=p[D],J=B.getPath();null!==g&&!ao(J,g.path)&&(v.eventLists_.push(g),g=null),null===g&&(g={events:[],path:J}),g.events.push(B)}g&&v.eventLists_.push(g)}function Fo(v,p,g){tc(v,g),iu(v,D=>ao(D,p))}function va(v,p,g){tc(v,g),iu(v,D=>ms(D,p)||ms(p,D))}function iu(v,p){v.recursionDepth_++;let g=!0;for(let D=0;D<v.eventLists_.length;D++){const B=v.eventLists_[D];B&&(p(B.path)?(yd(v.eventLists_[D]),v.eventLists_[D]=null):g=!1)}g&&(v.eventLists_=[]),v.recursionDepth_--}function yd(v){for(let p=0;p<v.events.length;p++){const g=v.events[p];if(null!==g){v.events[p]=null;const D=g.getEventRunner();rn&&_t("event: "+g.toString()),di(D)}}}const nc="repo_interrupt",uh=25;class vd{constructor(p,g,D,B){this.repoInfo_=p,this.forceRestClient_=g,this.authTokenProvider_=D,this.appCheckProvider_=B,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new zo,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=io(),this.transactionQueueTree_=new Cs,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function Vo(v){const g=v.infoData_.getNode(new Si(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+g}function bl(v){return wr({timestamp:Vo(v)})}function rc(v,p,g,D,B){v.dataUpdateCount++;const J=new Si(p);g=v.interceptServerDataCallback_?v.interceptServerDataCallback_(p,g):g;let fe=[];if(B)if(D){const bt=(0,te.UI)(g,Rt=>Pi(Rt));fe=function ze(v,p,g,D){const B=sr(v,D);if(B){const J=dr(B),fe=J.path,Ve=J.queryId,bt=zi(fe,p),Rt=Q.fromObject(g);return vr(v,fe,new De(Ea(Ve),bt,Rt))}return[]}(v.serverSyncTree_,J,bt,B)}else{const bt=Pi(g);fe=Ce(v.serverSyncTree_,J,bt,B)}else if(D){const bt=(0,te.UI)(g,Rt=>Pi(Rt));fe=function A(v,p,g){const D=Q.fromObject(g);return Zt(v,new De({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},p,D))}(v.serverSyncTree_,J,bt)}else{const bt=Pi(g);fe=I(v.serverSyncTree_,J,bt)}let Ve=J;fe.length>0&&(Ve=qa(v,J)),va(v.eventQueue_,Ve,fe)}function su(v,p){ic(v,"connected",p),!1===p&&function $c(v){ml(v,"onDisconnectEvents");const p=bl(v),g=io();oa(v.onDisconnect_,Mr(),(B,J)=>{const fe=rs(B,J,v.serverSyncTree_,p);Ko(g,B,fe)});let D=[];oa(g,Mr(),(B,J)=>{D=D.concat(I(v.serverSyncTree_,B,J));const fe=W(v,B);qa(v,fe)}),v.onDisconnect_=io(),va(v.eventQueue_,Mr(),D)}(v)}function ic(v,p,g){const D=new Si("/.info/"+p),B=Pi(g);v.infoData_.updateSnapshot(D,B);const J=I(v.infoSyncTree_,D,B);va(v.eventQueue_,D,J)}function Rl(v){return v.nextWriteId_++}function sc(v,p,g,D,B){ml(v,"set",{path:p.toString(),value:g,priority:D});const J=bl(v),fe=Pi(g,D),Ve=Et(v.serverSyncTree_,p),bt=la(fe,Ve,J),Rt=Rl(v),Fn=c(v.serverSyncTree_,p,bt,Rt,!0);tc(v.eventQueue_,Fn),v.server_.put(p.toString(),fe.val(!0),(nr,Ii)=>{const Zi="ok"===nr;Zi||tr("set at "+p+" failed: "+nr);const _o=_(v.serverSyncTree_,Rt,!Zi);va(v.eventQueue_,p,_o),Sl(0,B,nr,Ii)});const Ln=W(v,p);qa(v,Ln),va(v.eventQueue_,Ln,[])}function bd(v,p,g){v.server_.onDisconnectCancel(p.toString(),(D,B)=>{"ok"===D&&mo(v.onDisconnect_,p),Sl(0,g,D,B)})}function Vc(v,p,g,D){const B=Pi(g);v.server_.onDisconnectPut(p.toString(),B.val(!0),(J,fe)=>{"ok"===J&&Ko(v.onDisconnect_,p,B),Sl(0,D,J,fe)})}function ou(v,p,g){let D;D=".info"===An(p._path)?de(v.infoSyncTree_,p,g):de(v.serverSyncTree_,p,g),Fo(v.eventQueue_,p._path,D)}function au(v){v.persistentConnection_&&v.persistentConnection_.interrupt(nc)}function ml(v,...p){let g="";v.persistentConnection_&&(g=v.persistentConnection_.id+":"),_t(g,...p)}function Sl(v,p,g,D){p&&di(()=>{if("ok"===g)p(null);else{const B=(g||"error").toUpperCase();let J=B;D&&(J+=": "+D);const fe=new Error(J);fe.code=B,p(fe)}})}function bc(v,p,g){return Et(v.serverSyncTree_,p,g)||Gn.EMPTY_NODE}function jc(v,p=v.transactionQueueTree_){if(p||x(v,p),Ca(p)){const g=U(v,p);(0,te.hu)(g.length>0,"Sending zero length transaction queue"),g.every(B=>0===B.status)&&function zc(v,p,g){const D=g.map(Rt=>Rt.currentWriteId),B=bc(v,p,D);let J=B;const fe=B.hash();for(let Rt=0;Rt<g.length;Rt++){const Fn=g[Rt];(0,te.hu)(0===Fn.status,"tryToSendTransactionQueue_: items in queue should all be run."),Fn.status=1,Fn.retryCount++;const Ln=zi(p,Fn.path);J=J.updateChild(Ln,Fn.currentOutputSnapshotRaw)}const Ve=J.val(!0),bt=p;v.server_.put(bt.toString(),Ve,Rt=>{ml(v,"transaction put response",{path:bt.toString(),status:Rt});let Fn=[];if("ok"===Rt){const Ln=[];for(let nr=0;nr<g.length;nr++)g[nr].status=2,Fn=Fn.concat(_(v.serverSyncTree_,g[nr].currentWriteId)),g[nr].onComplete&&Ln.push(()=>g[nr].onComplete(null,!0,g[nr].currentOutputSnapshotResolved)),g[nr].unwatcher();x(v,as(v.transactionQueueTree_,p)),jc(v,v.transactionQueueTree_),va(v.eventQueue_,p,Fn);for(let nr=0;nr<Ln.length;nr++)di(Ln[nr])}else{if("datastale"===Rt)for(let Ln=0;Ln<g.length;Ln++)g[Ln].status=3===g[Ln].status?4:0;else{tr("transaction at "+bt.toString()+" failed: "+Rt);for(let Ln=0;Ln<g.length;Ln++)g[Ln].status=4,g[Ln].abortReason=Rt}qa(v,p)}},fe)}(v,vl(p),g)}else $o(p)&&ra(p,g=>{jc(v,g)})}function qa(v,p){const g=Hl(v,p),D=vl(g);return function Ed(v,p,g){if(0===p.length)return;const D=[];let B=[];const fe=p.filter(Ve=>0===Ve.status).map(Ve=>Ve.currentWriteId);for(let Ve=0;Ve<p.length;Ve++){const bt=p[Ve],Rt=zi(g,bt.path);let Ln,Fn=!1;if((0,te.hu)(null!==Rt,"rerunTransactionsUnderNode_: relativePath should not be null."),4===bt.status)Fn=!0,Ln=bt.abortReason,B=B.concat(_(v.serverSyncTree_,bt.currentWriteId,!0));else if(0===bt.status)if(bt.retryCount>=uh)Fn=!0,Ln="maxretry",B=B.concat(_(v.serverSyncTree_,bt.currentWriteId,!0));else{const nr=bc(v,bt.path,fe);bt.currentInputSnapshot=nr;const Ii=p[Ve].update(nr.val());if(void 0!==Ii){za("transaction failed: Data returned ",Ii,bt.path);let Zi=Pi(Ii);"object"==typeof Ii&&null!=Ii&&(0,te.r3)(Ii,".priority")||(Zi=Zi.updatePriority(nr.getPriority()));const ga=bt.currentWriteId,il=bl(v),Kl=la(Zi,nr,il);bt.currentOutputSnapshotRaw=Zi,bt.currentOutputSnapshotResolved=Kl,bt.currentWriteId=Rl(v),fe.splice(fe.indexOf(ga),1),B=B.concat(c(v.serverSyncTree_,bt.path,Kl,bt.currentWriteId,bt.applyLocally)),B=B.concat(_(v.serverSyncTree_,ga,!0))}else Fn=!0,Ln="nodata",B=B.concat(_(v.serverSyncTree_,bt.currentWriteId,!0))}va(v.eventQueue_,g,B),B=[],Fn&&(p[Ve].status=2,setTimeout(p[Ve].unwatcher,Math.floor(0)),p[Ve].onComplete&&D.push("nodata"===Ln?()=>p[Ve].onComplete(null,!1,p[Ve].currentInputSnapshot):()=>p[Ve].onComplete(new Error(Ln),!1,null)))}x(v,v.transactionQueueTree_);for(let Ve=0;Ve<D.length;Ve++)di(D[Ve]);jc(v,v.transactionQueueTree_)}(v,U(v,g),D),D}function Hl(v,p){let g,D=v.transactionQueueTree_;for(g=An(p);null!==g&&void 0===Ca(D);)D=as(D,g),g=An(p=Lr(p));return D}function U(v,p){const g=[];return C(v,p,g),g.sort((D,B)=>D.order-B.order),g}function C(v,p,g){const D=Ca(p);if(D)for(let B=0;B<D.length;B++)g.push(D[B]);ra(p,B=>{C(v,B,g)})}function x(v,p){const g=Ca(p);if(g){let D=0;for(let B=0;B<g.length;B++)2!==g[B].status&&(g[D]=g[B],D++);g.length=D,Ba(p,g.length>0?g:void 0)}ra(p,D=>{x(v,D)})}function W(v,p){const g=vl(Hl(v,p)),D=as(v.transactionQueueTree_,p);return function Zl(v,p,g){let D=g?v:v.parent;for(;null!==D;){if(p(D))return!0;D=D.parent}}(D,B=>{Ie(v,B)}),Ie(v,D),tl(D,B=>{Ie(v,B)}),g}function Ie(v,p){const g=Ca(p);if(g){const D=[];let B=[],J=-1;for(let fe=0;fe<g.length;fe++)3===g[fe].status||(1===g[fe].status?((0,te.hu)(J===fe-1,"All SENT items should be at beginning of queue."),J=fe,g[fe].status=3,g[fe].abortReason="set"):((0,te.hu)(0===g[fe].status,"Unexpected transaction status in abort"),g[fe].unwatcher(),B=B.concat(_(v.serverSyncTree_,g[fe].currentWriteId,!0)),g[fe].onComplete&&D.push(g[fe].onComplete.bind(null,new Error("set"),!1,null))));-1===J?Ba(p,void 0):g.length=J+1,va(v.eventQueue_,vl(p),B);for(let fe=0;fe<D.length;fe++)di(D[fe])}}const xn=function(v,p){const g=_r(v),D=g.namespace;return"firebase.com"===g.domain&&Zn(g.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!D||"undefined"===D)&&"localhost"!==g.domain&&Zn("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),g.secure||typeof window<"u"&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&tr("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new ie(g.host,g.secure,D,"ws"===g.scheme||"wss"===g.scheme,p,"",D!==g.subdomain),path:new Si(g.pathString)}},_r=function(v){let p="",g="",D="",B="",J="",fe=!0,Ve="https",bt=443;if("string"==typeof v){let Rt=v.indexOf("//");Rt>=0&&(Ve=v.substring(0,Rt-1),v=v.substring(Rt+2));let Fn=v.indexOf("/");-1===Fn&&(Fn=v.length);let Ln=v.indexOf("?");-1===Ln&&(Ln=v.length),p=v.substring(0,Math.min(Fn,Ln)),Fn<Ln&&(B=function He(v){let p="";const g=v.split("/");for(let D=0;D<g.length;D++)if(g[D].length>0){let B=g[D];try{B=decodeURIComponent(B.replace(/\+/g," "))}catch{}p+="/"+B}return p}(v.substring(Fn,Ln)));const nr=function on(v){const p={};"?"===v.charAt(0)&&(v=v.substring(1));for(const g of v.split("&")){if(0===g.length)continue;const D=g.split("=");2===D.length?p[decodeURIComponent(D[0])]=decodeURIComponent(D[1]):tr(`Invalid query segment '${g}' in query '${v}'`)}return p}(v.substring(Math.min(v.length,Ln)));Rt=p.indexOf(":"),Rt>=0?(fe="https"===Ve||"wss"===Ve,bt=parseInt(p.substring(Rt+1),10)):Rt=p.length;const Ii=p.slice(0,Rt);if("localhost"===Ii.toLowerCase())g="localhost";else if(Ii.split(".").length<=2)g=Ii;else{const Zi=p.indexOf(".");D=p.substring(0,Zi).toLowerCase(),g=p.substring(Zi+1),J=D}"ns"in nr&&(J=nr.ns)}return{host:p,port:bt,domain:g,subdomain:D,secure:fe,scheme:Ve,pathString:B,namespace:J}},si="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",ji=function(){let v=0;const p=[];return function(g){const D=g===v;let B;v=g;const J=new Array(8);for(B=7;B>=0;B--)J[B]=si.charAt(g%64),g=Math.floor(g/64);(0,te.hu)(0===g,"Cannot push at time == 0");let fe=J.join("");if(D){for(B=11;B>=0&&63===p[B];B--)p[B]=0;p[B]++}else for(B=0;B<12;B++)p[B]=Math.floor(64*Math.random());for(B=0;B<12;B++)fe+=si.charAt(p[B]);return(0,te.hu)(20===fe.length,"nextPushId: Length should be 20."),fe}}();class Ys{constructor(p,g,D,B){this.eventType=p,this.eventRegistration=g,this.snapshot=D,this.prevName=B}getPath(){const p=this.snapshot.ref;return"value"===this.eventType?p._path:p.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+(0,te.Wl)(this.snapshot.exportVal())}}class nl{constructor(p,g,D){this.eventRegistration=p,this.error=g,this.path=D}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class Ol{constructor(p,g){this.snapshotCallback=p,this.cancelCallback=g}onValue(p,g){this.snapshotCallback.call(null,p,g)}onCancel(p){return(0,te.hu)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,p)}get hasCancelCallback(){return!!this.cancelCallback}matches(p){return this.snapshotCallback===p.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===p.snapshotCallback.userCallback&&this.snapshotCallback.context===p.snapshotCallback.context}}class Hc{constructor(p,g){this._repo=p,this._path=g}cancel(){const p=new te.BH;return bd(this._repo,this._path,p.wrapCallback(()=>{})),p.promise}remove(){gl("OnDisconnect.remove",this._path);const p=new te.BH;return Vc(this._repo,this._path,null,p.wrapCallback(()=>{})),p.promise}set(p){gl("OnDisconnect.set",this._path),ll("OnDisconnect.set",p,this._path,!1);const g=new te.BH;return Vc(this._repo,this._path,p,g.wrapCallback(()=>{})),g.promise}setWithPriority(p,g){gl("OnDisconnect.setWithPriority",this._path),ll("OnDisconnect.setWithPriority",p,this._path,!1),pl("OnDisconnect.setWithPriority",g,!1);const D=new te.BH;return function dh(v,p,g,D,B){const J=Pi(g,D);v.server_.onDisconnectPut(p.toString(),J.val(!0),(fe,Ve)=>{"ok"===fe&&Ko(v.onDisconnect_,p,J),Sl(0,B,fe,Ve)})}(this._repo,this._path,p,g,D.wrapCallback(()=>{})),D.promise}update(p){gl("OnDisconnect.update",this._path),vc("OnDisconnect.update",p,this._path,!1);const g=new te.BH;return function _c(v,p,g,D){if((0,te.xb)(g))return _t("onDisconnect().update() called with empty data.  Don't do anything."),void Sl(0,D,"ok",void 0);v.server_.onDisconnectMerge(p.toString(),g,(B,J)=>{"ok"===B&&ar(g,(fe,Ve)=>{const bt=Pi(Ve);Ko(v.onDisconnect_,Qr(p,fe),bt)}),Sl(0,D,B,J)})}(this._repo,this._path,p,g.wrapCallback(()=>{})),g.promise}}class ia{constructor(p,g,D,B){this._repo=p,this._path=g,this._queryParams=D,this._orderByCalled=B}get key(){return zr(this._path)?null:Ds(this._path)}get ref(){return new Ma(this._repo,this._path)}get _queryIdentifier(){const p=xs(this._queryParams),g=oi(p);return"{}"===g?"default":g}get _queryObject(){return xs(this._queryParams)}isEqual(p){if(!((p=(0,te.m9)(p))instanceof ia))return!1;const g=this._repo===p._repo,D=ao(this._path,p._path);return g&&D&&this._queryIdentifier===p._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function Ao(v){let p="";for(let g=v.pieceNum_;g<v.pieces_.length;g++)""!==v.pieces_[g]&&(p+="/"+encodeURIComponent(String(v.pieces_[g])));return p||"/"}(this._path)}}function Wl(v,p){if(!0===v._orderByCalled)throw new Error(p+": You can't combine multiple orderBy calls.")}function ua(v){let p=null,g=null;if(v.hasStart()&&(p=v.getIndexStartValue()),v.hasEnd()&&(g=v.getIndexEndValue()),v.getIndex()===Ls){const D="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",B="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(v.hasStart()){if(v.getIndexStartName()!==an)throw new Error(D);if("string"!=typeof p)throw new Error(B)}if(v.hasEnd()){if(v.getIndexEndName()!==Pr)throw new Error(D);if("string"!=typeof g)throw new Error(B)}}else if(v.getIndex()===$i){if(null!=p&&!fl(p)||null!=g&&!fl(g))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,te.hu)(v.getIndex()instanceof Bs||v.getIndex()===_e,"unknown index type."),null!=p&&"object"==typeof p||null!=g&&"object"==typeof g)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function ac(v){if(v.hasStart()&&v.hasEnd()&&v.hasLimit()&&!v.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class Ma extends ia{constructor(p,g){super(p,g,new dn,!1)}get parent(){const p=wo(this._path);return null===p?null:new Ma(this._repo,p)}get root(){let p=this;for(;null!==p.parent;)p=p.parent;return p}}class $a{constructor(p,g,D){this._node=p,this.ref=g,this._index=D}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(p){const g=new Si(p),D=wl(this.ref,p);return new $a(this._node.getChild(g),D,$i)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(p){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(D,B)=>p(new $a(B,wl(this.ref,D),$i)))}hasChild(p){const g=new Si(p);return!this._node.getChild(g).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function El(v,p){return(v=(0,te.m9)(v))._checkNotDeleted("ref"),void 0!==p?wl(v._root,p):v._root}function Wc(v,p){(v=(0,te.m9)(v))._checkNotDeleted("refFromURL");const g=xn(p,v._repo.repoInfo_.nodeAdmin);md("refFromURL",g);const D=g.repoInfo;return!v._repo.repoInfo_.isCustomHost()&&D.host!==v._repo.repoInfo_.host&&Zn("refFromURL: Host name does not match the current database: (found "+D.host+" but expected "+v._repo.repoInfo_.host+")"),El(v,g.path.toString())}function wl(v,p){return null===An((v=(0,te.m9)(v))._path)?Df("child","path",p,!1):Lc("child","path",p,!1),new Ma(v._repo,Qr(v._path,p))}function fh(v,p){v=(0,te.m9)(v),gl("set",v._path),ll("set",p,v._path,!1);const g=new te.BH;return sc(v._repo,v._path,p,null,g.wrapCallback(()=>{})),g.promise}function Sf(v,p){vc("update",p,v._path,!1);const g=new te.BH;return function Fu(v,p,g,D){ml(v,"update",{path:p.toString(),value:g});let B=!0;const J=bl(v),fe={};if(ar(g,(Ve,bt)=>{B=!1,fe[Ve]=rs(Qr(p,Ve),Pi(bt),v.serverSyncTree_,J)}),B)_t("update() called with empty data.  Don't do anything."),Sl(0,D,"ok",void 0);else{const Ve=Rl(v),bt=function f(v,p,g,D){!function Bi(v,p,g,D){(0,te.hu)(D>v.lastWriteId,"Stacking an older merge on top of newer ones"),v.allWrites.push({path:p,children:g,writeId:D,visible:!0}),v.visibleWrites=mn(v.visibleWrites,p,g),v.lastWriteId=D}(v.pendingWriteTree_,p,g,D);const B=Q.fromObject(g);return Zt(v,new De({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},p,B))}(v.serverSyncTree_,p,fe,Ve);tc(v.eventQueue_,bt),v.server_.merge(p.toString(),g,(Rt,Fn)=>{const Ln="ok"===Rt;Ln||tr("update at "+p+" failed: "+Rt);const nr=_(v.serverSyncTree_,Ve,!Ln),Ii=nr.length>0?qa(v,p):p;va(v.eventQueue_,Ii,nr),Sl(0,D,Rt,Fn)}),ar(g,Rt=>{const Fn=W(v,Qr(p,Rt));qa(v,Fn)}),va(v.eventQueue_,p,[])}}(v._repo,v._path,p,g.wrapCallback(()=>{})),g.promise}function Tf(v){v=(0,te.m9)(v);const p=new Ol(()=>{}),g=new Pa(p);return function _d(v,p,g){const D=function At(v,p){const g=p._path;let D=null;v.syncPointTree_.foreachOnPath(g,(Rt,Fn)=>{const Ln=zi(Rt,g);D=D||Ue(Fn,Ln)});let B=v.syncPointTree_.get(g);B?D=D||Ue(B,Mr()):(B=new Xo,v.syncPointTree_=v.syncPointTree_.set(g,B));const J=null!=D,fe=J?new $e(D,!0,!1):null;return function ns(v){return $s(v.viewCache_)}(R(B,p,yo(v.pendingWriteTree_,p._path),J?fe.getNode():Gn.EMPTY_NODE,J))}(v.serverSyncTree_,p);return null!=D?Promise.resolve(D):v.server_.get(p).then(B=>{const J=Pi(B).withIndex(p._queryParams.getIndex());let fe;if(Qe(v.serverSyncTree_,p,g,!0),p._queryParams.loadsAllData())fe=I(v.serverSyncTree_,p._path,J);else{const Ve=Qn(v.serverSyncTree_,p);fe=Ce(v.serverSyncTree_,p._path,J,Ve)}return va(v.eventQueue_,p._path,fe),de(v.serverSyncTree_,p,g,null,!0),J},B=>(ml(v,"get for query "+(0,te.Wl)(p)+" failed: "+B),Promise.reject(new Error(B))))}(v._repo,v,g).then(D=>new $a(D,new Ma(v._repo,v._path),v._queryParams.getIndex()))}class Pa{constructor(p){this.callbackContext=p}respondsTo(p){return"value"===p}createEvent(p,g){const D=g._queryParams.getIndex();return new Ys("value",this,new $a(p.snapshotNode,new Ma(g._repo,g._path),D))}getEventRunner(p){return"cancel"===p.getEventType()?()=>this.callbackContext.onCancel(p.error):()=>this.callbackContext.onValue(p.snapshot,null)}createCancelEvent(p,g){return this.callbackContext.hasCancelCallback?new nl(this,p,g):null}matches(p){return p instanceof Pa&&(!p.callbackContext||!this.callbackContext||p.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class cu{constructor(p,g){this.eventType=p,this.callbackContext=g}respondsTo(p){let g="children_added"===p?"child_added":p;return g="children_removed"===g?"child_removed":g,this.eventType===g}createCancelEvent(p,g){return this.callbackContext.hasCancelCallback?new nl(this,p,g):null}createEvent(p,g){(0,te.hu)(null!=p.childName,"Child events should have a childName.");const D=wl(new Ma(g._repo,g._path),p.childName),B=g._queryParams.getIndex();return new Ys(p.type,this,new $a(p.snapshotNode,D,B),p.prevName)}getEventRunner(p){return"cancel"===p.getEventType()?()=>this.callbackContext.onCancel(p.error):()=>this.callbackContext.onValue(p.snapshot,p.prevName)}matches(p){return p instanceof cu&&this.eventType===p.eventType&&(!this.callbackContext||!p.callbackContext||this.callbackContext.matches(p.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function uu(v,p,g,D,B){let J;if("object"==typeof D&&(J=void 0,B=D),"function"==typeof D&&(J=D),B&&B.onlyOnce){const bt=g,Rt=(Fn,Ln)=>{ou(v._repo,v,Ve),bt(Fn,Ln)};Rt.userCallback=g.userCallback,Rt.context=g.context,g=Rt}const fe=new Ol(g,J||void 0),Ve="value"===p?new Pa(fe):new cu(p,fe);return function oc(v,p,g){let D;D=".info"===An(p._path)?Qe(v.infoSyncTree_,p,g):Qe(v.serverSyncTree_,p,g),Fo(v.eventQueue_,p._path,D)}(v._repo,v,Ve),()=>ou(v._repo,v,Ve)}function du(v,p,g,D){return uu(v,"value",p,g,D)}function Da(v,p,g,D){return uu(v,"child_added",p,g,D)}function kl(v,p,g,D){return uu(v,"child_changed",p,g,D)}function wd(v,p,g,D){return uu(v,"child_moved",p,g,D)}function lc(v,p,g,D){return uu(v,"child_removed",p,g,D)}function mh(v,p,g){let D=null;const B=g?new Ol(g):null;"value"===p?D=new Pa(B):p&&(D=new cu(p,B)),ou(v._repo,v,D)}class rl{}class yh extends rl{constructor(p,g){super(),this._value=p,this._key=g}_apply(p){ll("endAt",this._value,p._path,!0);const g=ri(p._queryParams,this._value,this._key);if(ac(g),ua(g),p._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new ia(p._repo,p._path,g,p._orderByCalled)}}class Lu extends rl{constructor(p,g){super(),this._value=p,this._key=g}_apply(p){ll("endBefore",this._value,p._path,!1);const g=function ts(v,p,g){let D;return D=ri(v,p,v.index_===Ls||g?g:an),D.endBeforeSet_=!0,D}(p._queryParams,this._value,this._key);if(ac(g),ua(g),p._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new ia(p._repo,p._path,g,p._orderByCalled)}}class xf extends rl{constructor(p,g){super(),this._value=p,this._key=g}_apply(p){ll("startAt",this._value,p._path,!0);const g=mi(p._queryParams,this._value,this._key);if(ac(g),ua(g),p._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new ia(p._repo,p._path,g,p._orderByCalled)}}class hu extends rl{constructor(p,g){super(),this._value=p,this._key=g}_apply(p){ll("startAfter",this._value,p._path,!1);const g=function vi(v,p,g){let D;return D=mi(v,p,v.index_===Ls||g?g:Pr),D.startAfterSet_=!0,D}(p._queryParams,this._value,this._key);if(ac(g),ua(g),p._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new ia(p._repo,p._path,g,p._orderByCalled)}}class Mf extends rl{constructor(p){super(),this._limit=p}_apply(p){if(p._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new ia(p._repo,p._path,function li(v,p){const g=v.copy();return g.limitSet_=!0,g.limit_=p,g.viewFrom_="l",g}(p._queryParams,this._limit),p._orderByCalled)}}class $u extends rl{constructor(p){super(),this._limit=p}_apply(p){if(p._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new ia(p._repo,p._path,function ci(v,p){const g=v.copy();return g.limitSet_=!0,g.limit_=p,g.viewFrom_="r",g}(p._queryParams,this._limit),p._orderByCalled)}}class Id extends rl{constructor(p){super(),this._path=p}_apply(p){Wl(p,"orderByChild");const g=new Si(this._path);if(zr(g))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const D=new Bs(g),B=Js(p._queryParams,D);return ua(B),new ia(p._repo,p._path,B,!0)}}class Gl extends rl{_apply(p){Wl(p,"orderByKey");const g=Js(p._queryParams,Ls);return ua(g),new ia(p._repo,p._path,g,!0)}}class Vu extends rl{_apply(p){Wl(p,"orderByPriority");const g=Js(p._queryParams,$i);return ua(g),new ia(p._repo,p._path,g,!0)}}class wc extends rl{_apply(p){Wl(p,"orderByValue");const g=Js(p._queryParams,_e);return ua(g),new ia(p._repo,p._path,g,!0)}}class bh extends rl{constructor(p,g){super(),this._value=p,this._key=g}_apply(p){if(ll("equalTo",this._value,p._path,!1),p._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(p._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new yh(this._value,this._key)._apply(new xf(this._value,this._key)._apply(p))}}function Tl(v,...p){let g=(0,te.m9)(v);for(const D of p)g=D._apply(g);return g}(function Dl(v){(0,te.hu)(!Ya,"__referenceConstructor has already been defined"),Ya=v})(Ma),function ko(v){(0,te.hu)(!Zr,"__referenceConstructor has already been defined"),Zr=v}(Ma);const wh={};function Uu(v,p,g,D,B){let J=D||v.options.databaseURL;void 0===J&&(v.options.projectId||Zn("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),_t("Using default host for project ",v.options.projectId),J=`${v.options.projectId}-default-rtdb.firebaseio.com`);let bt,Rt,fe=xn(J,B),Ve=fe.repoInfo;typeof process<"u"&&process.env&&(Rt=process.env.FIREBASE_DATABASE_EMULATOR_HOST),Rt?(bt=!0,J=`http://${Rt}?ns=${Ve.namespace}`,fe=xn(J,B),Ve=fe.repoInfo):bt=!fe.repoInfo.secure;const Fn=B&&bt?new Er(Er.OWNER):new Di(v.name,v.options,p);md("Invalid Firebase Database URL",fe),zr(fe.path)||Zn("Database URL must point to the root of a Firebase Database (not including a child path).");const Ln=function ju(v,p,g,D){let B=wh[p.name];B||(B={},wh[p.name]=B);let J=B[v.toURLString()];return J&&Zn("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),J=new vd(v,false,g,D),B[v.toURLString()]=J,J}(Ve,v,Fn,new hr(v.name,g));return new Pf(Ln,v)}class Pf{constructor(p,g){this._repoInternal=p,this.app=g,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function ho(v,p,g){if(v.stats_=Vt(v.repoInfo_),v.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)v.server_=new Ei(v.repoInfo_,(D,B,J,fe)=>{rc(v,D,B,J,fe)},v.authTokenProvider_,v.appCheckProvider_),setTimeout(()=>su(v,!0),0);else{if(typeof g<"u"&&null!==g){if("object"!=typeof g)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,te.Wl)(g)}catch(D){throw new Error("Invalid authOverride provided: "+D)}}v.persistentConnection_=new Es(v.repoInfo_,p,(D,B,J,fe)=>{rc(v,D,B,J,fe)},D=>{su(v,D)},D=>{!function Bc(v,p){ar(p,(g,D)=>{ic(v,g,D)})}(v,D)},v.authTokenProvider_,v.appCheckProvider_,g),v.server_=v.persistentConnection_}v.authTokenProvider_.addTokenChangeListener(D=>{v.server_.refreshAuthToken(D)}),v.appCheckProvider_.addTokenChangeListener(D=>{v.server_.refreshAppCheckToken(D.token)}),v.statsReporter_=function Jt(v,p){const g=v.toString();return rt[g]||(rt[g]=p()),rt[g]}(v.repoInfo_,()=>new Gs(v.stats_,v.server_)),v.infoData_=new Ms,v.infoSyncTree_=new s({startListening:(D,B,J,fe)=>{let Ve=[];const bt=v.infoData_.getNode(D._path);return bt.isEmpty()||(Ve=I(v.infoSyncTree_,D._path,bt),setTimeout(()=>{fe("ok")},0)),Ve},stopListening:()=>{}}),ic(v,"connected",!1),v.serverSyncTree_=new s({startListening:(D,B,J,fe)=>(v.server_.listen(D,J,B,(Ve,bt)=>{const Rt=fe(Ve,bt);va(v.eventQueue_,D._path,Rt)}),[]),stopListening:(D,B)=>{v.server_.unlisten(D,B)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Ma(this._repo,Mr())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function Ih(v,p){const g=wh[p];(!g||g[v.key]!==v)&&Zn(`Database ${p}(${v.repoInfo_}) has already been deleted.`),au(v),delete g[v.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(p){null===this._rootInternal&&Zn("Cannot call "+p+" on a deleted database.")}}function Dd(){Hi.IS_TRANSPORT_INITIALIZED&&tr("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function Ch(){Dd(),Os.forceDisallow()}function Ic(){Dd(),es.forceDisallow(),Os.forceAllow()}function qc(v,p){nn(v,p)}const Sh={".sv":"timestamp"};class Td{constructor(p,g){this.committed=p,this.snapshot=g}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}Es.prototype.simpleListen=function(v,p){this.sendRequest("q",{p:v},p)},Es.prototype.echo=function(v,p){this.sendRequest("echo",{d:v},p)},function Rf(v){Te(gt.SDK_VERSION),(0,gt._registerComponent)(new St.wA("database",(p,{instanceIdentifier:g})=>Uu(p.getProvider("app").getImmediate(),p.getProvider("auth-internal"),p.getProvider("app-check-internal"),g),"PUBLIC").setMultipleInstances(!0)),(0,gt.registerVersion)(Dt,"0.14.4",v),(0,gt.registerVersion)(Dt,"0.14.4","esm2017")}();const gu=new Gt.Yd("@firebase/database-compat"),Cc=function(v){gu.warn("FIREBASE WARNING: "+v)};class Oa{constructor(p){this._delegate=p}cancel(p){(0,te.Dv)("OnDisconnect.cancel",0,1,arguments.length),(0,te.Wj)("OnDisconnect.cancel","onComplete",p,!0);const g=this._delegate.cancel();return p&&g.then(()=>p(null),D=>p(D)),g}remove(p){(0,te.Dv)("OnDisconnect.remove",0,1,arguments.length),(0,te.Wj)("OnDisconnect.remove","onComplete",p,!0);const g=this._delegate.remove();return p&&g.then(()=>p(null),D=>p(D)),g}set(p,g){(0,te.Dv)("OnDisconnect.set",1,2,arguments.length),(0,te.Wj)("OnDisconnect.set","onComplete",g,!0);const D=this._delegate.set(p);return g&&D.then(()=>g(null),B=>g(B)),D}setWithPriority(p,g,D){(0,te.Dv)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,te.Wj)("OnDisconnect.setWithPriority","onComplete",D,!0);const B=this._delegate.setWithPriority(p,g);return D&&B.then(()=>D(null),J=>D(J)),B}update(p,g){if((0,te.Dv)("OnDisconnect.update",1,2,arguments.length),Array.isArray(p)){const B={};for(let J=0;J<p.length;++J)B[""+J]=p[J];p=B,Cc("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,te.Wj)("OnDisconnect.update","onComplete",g,!0);const D=this._delegate.update(p);return g&&D.then(()=>g(null),B=>g(B)),D}}class Md{constructor(p,g){this.committed=p,this.snapshot=g}toJSON(){return(0,te.Dv)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}class cc{constructor(p,g){this._database=p,this._delegate=g}val(){return(0,te.Dv)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return(0,te.Dv)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return(0,te.Dv)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return(0,te.Dv)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(p){return(0,te.Dv)("DataSnapshot.child",0,1,arguments.length),p=String(p),Lc("DataSnapshot.child","path",p,!1),new cc(this._database,this._delegate.child(p))}hasChild(p){return(0,te.Dv)("DataSnapshot.hasChild",1,1,arguments.length),Lc("DataSnapshot.hasChild","path",p,!1),this._delegate.hasChild(p)}getPriority(){return(0,te.Dv)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(p){return(0,te.Dv)("DataSnapshot.forEach",1,1,arguments.length),(0,te.Wj)("DataSnapshot.forEach","action",p,!1),this._delegate.forEach(g=>p(new cc(this._database,g)))}hasChildren(){return(0,te.Dv)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return(0,te.Dv)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return(0,te.Dv)("DataSnapshot.ref",0,0,arguments.length),new Sa(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class ka{constructor(p,g){this.database=p,this._delegate=g}on(p,g,D,B){var J;(0,te.Dv)("Query.on",2,4,arguments.length),(0,te.Wj)("Query.on","callback",g,!1);const fe=ka.getCancelAndContextArgs_("Query.on",D,B),Ve=(Rt,Fn)=>{g.call(fe.context,new cc(this.database,Rt),Fn)};Ve.userCallback=g,Ve.context=fe.context;const bt=null===(J=fe.cancel)||void 0===J?void 0:J.bind(fe.context);switch(p){case"value":return du(this._delegate,Ve,bt),g;case"child_added":return Da(this._delegate,Ve,bt),g;case"child_removed":return lc(this._delegate,Ve,bt),g;case"child_changed":return kl(this._delegate,Ve,bt),g;case"child_moved":return wd(this._delegate,Ve,bt),g;default:throw new Error((0,te.gK)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(p,g,D){if((0,te.Dv)("Query.off",0,3,arguments.length),function(v,p,g){if(void 0!==p)switch(p){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,te.gK)("Query.off","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}(0,p),(0,te.Wj)("Query.off","callback",g,!0),(0,te.lb)("Query.off","context",D,!0),g){const B=()=>{};B.userCallback=g,B.context=D,mh(this._delegate,p,B)}else mh(this._delegate,p)}get(){return Tf(this._delegate).then(p=>new cc(this.database,p))}once(p,g,D,B){(0,te.Dv)("Query.once",1,4,arguments.length),(0,te.Wj)("Query.once","callback",g,!0);const J=ka.getCancelAndContextArgs_("Query.once",D,B),fe=new te.BH,Ve=(Rt,Fn)=>{const Ln=new cc(this.database,Rt);g&&g.call(J.context,Ln,Fn),fe.resolve(Ln)};Ve.userCallback=g,Ve.context=J.context;const bt=Rt=>{J.cancel&&J.cancel.call(J.context,Rt),fe.reject(Rt)};switch(p){case"value":du(this._delegate,Ve,bt,{onlyOnce:!0});break;case"child_added":Da(this._delegate,Ve,bt,{onlyOnce:!0});break;case"child_removed":lc(this._delegate,Ve,bt,{onlyOnce:!0});break;case"child_changed":kl(this._delegate,Ve,bt,{onlyOnce:!0});break;case"child_moved":wd(this._delegate,Ve,bt,{onlyOnce:!0});break;default:throw new Error((0,te.gK)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return fe.promise}limitToFirst(p){return(0,te.Dv)("Query.limitToFirst",1,1,arguments.length),new ka(this.database,Tl(this._delegate,function Bu(v){if("number"!=typeof v||Math.floor(v)!==v||v<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new Mf(v)}(p)))}limitToLast(p){return(0,te.Dv)("Query.limitToLast",1,1,arguments.length),new ka(this.database,Tl(this._delegate,function Vp(v){if("number"!=typeof v||Math.floor(v)!==v||v<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new $u(v)}(p)))}orderByChild(p){return(0,te.Dv)("Query.orderByChild",1,1,arguments.length),new ka(this.database,Tl(this._delegate,function Ec(v){if("$key"===v)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===v)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===v)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return Lc("orderByChild","path",v,!1),new Id(v)}(p)))}orderByKey(){return(0,te.Dv)("Query.orderByKey",0,0,arguments.length),new ka(this.database,Tl(this._delegate,function Kc(){return new Gl}()))}orderByPriority(){return(0,te.Dv)("Query.orderByPriority",0,0,arguments.length),new ka(this.database,Tl(this._delegate,function _h(){return new Vu}()))}orderByValue(){return(0,te.Dv)("Query.orderByValue",0,0,arguments.length),new ka(this.database,Tl(this._delegate,function pu(){return new wc}()))}startAt(p=null,g){return(0,te.Dv)("Query.startAt",0,2,arguments.length),new ka(this.database,Tl(this._delegate,function pa(v=null,p){return Pl("startAt","key",p,!0),new xf(v,p)}(p,g)))}startAfter(p=null,g){return(0,te.Dv)("Query.startAfter",0,2,arguments.length),new ka(this.database,Tl(this._delegate,function fu(v,p){return Pl("startAfter","key",p,!0),new hu(v,p)}(p,g)))}endAt(p=null,g){return(0,te.Dv)("Query.endAt",0,2,arguments.length),new ka(this.database,Tl(this._delegate,function vh(v,p){return Pl("endAt","key",p,!0),new yh(v,p)}(p,g)))}endBefore(p=null,g){return(0,te.Dv)("Query.endBefore",0,2,arguments.length),new ka(this.database,Tl(this._delegate,function Af(v,p){return Pl("endBefore","key",p,!0),new Lu(v,p)}(p,g)))}equalTo(p,g){return(0,te.Dv)("Query.equalTo",1,2,arguments.length),new ka(this.database,Tl(this._delegate,function Eh(v,p){return Pl("equalTo","key",p,!0),new bh(v,p)}(p,g)))}toString(){return(0,te.Dv)("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return(0,te.Dv)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(p){if((0,te.Dv)("Query.isEqual",1,1,arguments.length),!(p instanceof ka))throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");return this._delegate.isEqual(p._delegate)}static getCancelAndContextArgs_(p,g,D){const B={cancel:void 0,context:void 0};if(g&&D)B.cancel=g,(0,te.Wj)(p,"cancel",B.cancel,!0),B.context=D,(0,te.lb)(p,"context",B.context,!0);else if(g)if("object"==typeof g&&null!==g)B.context=g;else{if("function"!=typeof g)throw new Error((0,te.gK)(p,"cancelOrContext")+" must either be a cancel callback or a context object.");B.cancel=g}return B}get ref(){return new Sa(this.database,new Ma(this._delegate._repo,this._delegate._path))}}class Sa extends ka{constructor(p,g){super(p,new ia(g._repo,g._path,new dn,!1)),this.database=p,this._delegate=g}getKey(){return(0,te.Dv)("Reference.key",0,0,arguments.length),this._delegate.key}child(p){return(0,te.Dv)("Reference.child",1,1,arguments.length),"number"==typeof p&&(p=String(p)),new Sa(this.database,wl(this._delegate,p))}getParent(){(0,te.Dv)("Reference.parent",0,0,arguments.length);const p=this._delegate.parent;return p?new Sa(this.database,p):null}getRoot(){return(0,te.Dv)("Reference.root",0,0,arguments.length),new Sa(this.database,this._delegate.root)}set(p,g){(0,te.Dv)("Reference.set",1,2,arguments.length),(0,te.Wj)("Reference.set","onComplete",g,!0);const D=fh(this._delegate,p);return g&&D.then(()=>g(null),B=>g(B)),D}update(p,g){if((0,te.Dv)("Reference.update",1,2,arguments.length),Array.isArray(p)){const B={};for(let J=0;J<p.length;++J)B[""+J]=p[J];p=B,Cc("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}gl("Reference.update",this._delegate._path),(0,te.Wj)("Reference.update","onComplete",g,!0);const D=Sf(this._delegate,p);return g&&D.then(()=>g(null),B=>g(B)),D}setWithPriority(p,g,D){(0,te.Dv)("Reference.setWithPriority",2,3,arguments.length),(0,te.Wj)("Reference.setWithPriority","onComplete",D,!0);const B=function gh(v,p,g){if(gl("setWithPriority",v._path),ll("setWithPriority",p,v._path,!1),pl("setWithPriority",g,!1),".length"===v.key||".keys"===v.key)throw"setWithPriority failed: "+v.key+" is a read-only object.";const D=new te.BH;return sc(v._repo,v._path,p,g,D.wrapCallback(()=>{})),D.promise}(this._delegate,p,g);return D&&B.then(()=>D(null),J=>D(J)),B}remove(p){(0,te.Dv)("Reference.remove",0,1,arguments.length),(0,te.Wj)("Reference.remove","onComplete",p,!0);const g=function Us(v){return gl("remove",v._path),fh(v,null)}(this._delegate);return p&&g.then(()=>p(null),D=>p(D)),g}transaction(p,g,D){(0,te.Dv)("Reference.transaction",1,3,arguments.length),(0,te.Wj)("Reference.transaction","transactionUpdate",p,!1),(0,te.Wj)("Reference.transaction","onComplete",g,!0),function(v,p,g,D){if(void 0!==g&&"boolean"!=typeof g)throw new Error((0,te.gK)("Reference.transaction","applyLocally")+"must be a boolean.")}(0,0,D);const B=function Ah(v,p,g){var D;if(v=(0,te.m9)(v),gl("Reference.transaction",v._path),".length"===v.key||".keys"===v.key)throw"Reference.transaction failed: "+v.key+" is a read-only object.";const B=null===(D=null==g?void 0:g.applyLocally)||void 0===D||D,J=new te.BH,Ve=du(v,()=>{});return function lu(v,p,g,D,B,J){ml(v,"transaction on "+p);const fe={path:p,update:g,onComplete:D,status:null,order:Ut(),applyLocally:J,retryCount:0,unwatcher:B,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},Ve=bc(v,p,void 0);fe.currentInputSnapshot=Ve;const bt=fe.update(Ve.val());if(void 0===bt)fe.unwatcher(),fe.currentOutputSnapshotRaw=null,fe.currentOutputSnapshotResolved=null,fe.onComplete&&fe.onComplete(null,!1,fe.currentInputSnapshot);else{za("transaction failed: Data returned ",bt,fe.path),fe.status=0;const Rt=as(v.transactionQueueTree_,p),Fn=Ca(Rt)||[];let Ln;Fn.push(fe),Ba(Rt,Fn),"object"==typeof bt&&null!==bt&&(0,te.r3)(bt,".priority")?(Ln=(0,te.DV)(bt,".priority"),(0,te.hu)(fl(Ln),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):Ln=(Et(v.serverSyncTree_,p)||Gn.EMPTY_NODE).getPriority().val();const nr=bl(v),Ii=Pi(bt,Ln),Zi=la(Ii,Ve,nr);fe.currentOutputSnapshotRaw=Ii,fe.currentOutputSnapshotResolved=Zi,fe.currentWriteId=Rl(v);const _o=c(v.serverSyncTree_,p,Zi,fe.currentWriteId,fe.applyLocally);va(v.eventQueue_,p,_o),jc(v,v.transactionQueueTree_)}}(v._repo,v._path,p,(bt,Rt,Fn)=>{let Ln=null;bt?J.reject(bt):(Ln=new $a(Fn,new Ma(v._repo,v._path),$i),J.resolve(new Td(Rt,Ln)))},Ve,B),J.promise}(this._delegate,p,{applyLocally:D}).then(J=>new Md(J.committed,new cc(this.database,J.snapshot)));return g&&B.then(J=>g(null,J.committed,J.snapshot),J=>g(J,!1,null)),B}setPriority(p,g){(0,te.Dv)("Reference.setPriority",1,2,arguments.length),(0,te.Wj)("Reference.setPriority","onComplete",g,!0);const D=function ph(v,p){v=(0,te.m9)(v),gl("setPriority",v._path),pl("setPriority",p,!1);const g=new te.BH;return sc(v._repo,Qr(v._path,".priority"),p,null,g.wrapCallback(()=>{})),g.promise}(this._delegate,p);return g&&D.then(()=>g(null),B=>g(B)),D}push(p,g){(0,te.Dv)("Reference.push",0,2,arguments.length),(0,te.Wj)("Reference.push","onComplete",g,!0);const D=function Gc(v,p){v=(0,te.m9)(v),gl("push",v._path),ll("push",p,v._path,!0);const g=Vo(v._repo),D=ji(g),B=wl(v,D),J=wl(v,D);let fe;return fe=null!=p?fh(J,p).then(()=>J):Promise.resolve(J),B.then=fe.then.bind(fe),B.catch=fe.then.bind(fe,void 0),B}(this._delegate,p),B=D.then(fe=>new Sa(this.database,fe));g&&B.then(()=>g(null),fe=>g(fe));const J=new Sa(this.database,D);return J.then=B.then.bind(B),J.catch=B.catch.bind(B,void 0),J}onDisconnect(){return gl("Reference.onDisconnect",this._delegate._path),new Oa(new Hc(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}class Dc{constructor(p,g){this._delegate=p,this.app=g,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets:Ch,forceLongPolling:Ic}}useEmulator(p,g,D={}){!function Yc(v,p,g,D={}){(v=(0,te.m9)(v))._checkNotDeleted("useEmulator"),v._instanceStarted&&Zn("Cannot call useEmulator() after instance has already been initialized.");const B=v._repoInternal;let J;if(B.repoInfo_.nodeAdmin)D.mockUserToken&&Zn('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),J=new Er(Er.OWNER);else if(D.mockUserToken){const fe="string"==typeof D.mockUserToken?D.mockUserToken:(0,te.Sg)(D.mockUserToken,v.app.options.projectId);J=new Er(fe)}!function Ro(v,p,g,D){v.repoInfo_=new ie(`${p}:${g}`,!1,v.repoInfo_.namespace,v.repoInfo_.webSocketOnly,v.repoInfo_.nodeAdmin,v.repoInfo_.persistenceKey,v.repoInfo_.includeNamespaceInQueryParams,!0),D&&(v.authTokenProvider_=D)}(B,p,g,J)}(this._delegate,p,g,D)}ref(p){if((0,te.Dv)("database.ref",0,1,arguments.length),p instanceof Sa){const g=Wc(this._delegate,p.toString());return new Sa(this,g)}{const g=El(this._delegate,p);return new Sa(this,g)}}refFromURL(p){(0,te.Dv)("database.refFromURL",1,1,arguments.length);const D=Wc(this._delegate,p);return new Sa(this,D)}goOffline(){return(0,te.Dv)("database.goOffline",0,0,arguments.length),function zu(v){(v=(0,te.m9)(v))._checkNotDeleted("goOffline"),au(v._repo)}(this._delegate)}goOnline(){return(0,te.Dv)("database.goOnline",0,0,arguments.length),function Sd(v){(v=(0,te.m9)(v))._checkNotDeleted("goOnline"),function Uc(v){v.persistentConnection_&&v.persistentConnection_.resume(nc)}(v._repo)}(this._delegate)}}Dc.ServerValue={TIMESTAMP:function Th(){return Sh}(),increment:v=>function Of(v){return{".sv":{increment:v}}}(v)};var Sc=Object.freeze({__proto__:null,initStandalone:function Ph({app:v,url:p,version:g,customAuthImpl:D,namespace:B,nodeAdmin:J=!1}){Te(g);const fe=new St.zt("auth-internal",new St.H0("database-standalone"));return fe.setComponent(new St.wA("auth-internal",()=>D,"PRIVATE")),{instance:new Dc(Uu(v,fe,void 0,p,J),v),namespace:B}}});const Pd=Dc.ServerValue;!function Zc(v){v.INTERNAL.registerComponent(new St.wA("database-compat",(p,{instanceIdentifier:g})=>{const D=p.getProvider("app-compat").getImmediate(),B=p.getProvider("database").getImmediate({identifier:g});return new Dc(B,D)},"PUBLIC").setServiceProps({Reference:Sa,Query:ka,Database:Dc,DataSnapshot:cc,enableLogging:qc,INTERNAL:Sc,ServerValue:Pd}).setMultipleInstances(!0)),v.registerVersion("@firebase/database-compat","0.3.4")}(It.Z);var uc=z(3385),jp=z(2313),Pm=z(9260);function Nf(v){return null==v}function Xc(v){return"function"==typeof v.set}function Qc(v,p){return Xc(p)?p:v.ref(p)}function Ku(v,p){if(function Wu(v){return"string"==typeof v}(v))return p.stringCase();if(Xc(v))return p.firebaseCase();if(function Gu(v){return"function"==typeof v.exportVal}(v))return p.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof v)}function mu(v,p,g="on",D=E.z){return new be.y(B=>{let J=null;return J=v[g](p,(fe,Ve)=>{D.schedule(()=>{B.next({snapshot:fe,prevKey:Ve})}),"once"===g&&D.schedule(()=>B.complete())},fe=>{D.schedule(()=>B.error(fe))}),"on"===g?{unsubscribe(){null!=J&&v.off(p,J)}}:{unsubscribe(){}}}).pipe((0,je.U)(B=>{const{snapshot:J,prevKey:fe}=B;let Ve=null;return J.exists()&&(Ve=J.key),{type:p,payload:J,prevKey:fe,key:Ve}}),(0,Se.B)())}function Oh(v,p){const g=v.length;for(let D=0;D<g;D++)if(v[D].payload.key===p)return D;return-1}function zp(v,p){const{payload:g,prevKey:D,key:B}=p,J=Oh(v,B),fe=function Ff(v,p){if(Nf(p))return 0;{const g=Oh(v,p);return-1===g?v.length:g+1}}(v,D);switch(p.type){case"value":if(p.payload&&p.payload.exists()){let Ve=null;p.payload.forEach(bt=>{const Rt={payload:bt,type:"value",prevKey:Ve,key:bt.key};return Ve=bt.key,v=[...v,Rt],!1})}return v;case"child_added":if(J>-1){const Ve=v[J-1];(Ve&&Ve.key||null)!==D&&(v=v.filter(bt=>bt.payload.key!==g.key)).splice(fe,0,p)}else{if(null==D)return[p,...v];(v=v.slice()).splice(fe,0,p)}return v;case"child_removed":return v.filter(Ve=>Ve.payload.key!==g.key);case"child_changed":return v.map(Ve=>Ve.payload.key===B?p:Ve);case"child_moved":if(J>-1){const Ve=v.splice(J,1)[0];return(v=v.slice()).splice(fe,0,Ve),v}return v;default:return v}}function dc(v){return(Nf(v)||0===v.length)&&(v=["child_added","child_removed","child_changed","child_moved"]),v}function Jc(v,p,g){return function Rh(v,p,g){return mu(v,"value","once",g).pipe((0,Re.w)(D=>{const B=[(0,ke.of)(D)];return p.forEach(J=>B.push(mu(v,J,"on",g))),(0,qe.T)(...B).pipe((0,Ze.R)(zp,[]))}),(0,Le.x)())}(v,p=dc(p),g)}function kh(v,p,g){const D=(p=dc(p)).map(B=>mu(v,B,"on",g));return(0,qe.T)(...D)}function Nh(v,p){return function(D,B){return Ku(D,{stringCase:()=>v.child(D)[p](B),firebaseCase:()=>D[p](B),snapshotCase:()=>D.ref[p](B)})}}function Rm(v){return function(g){return g?Ku(g,{stringCase:()=>v.child(g).remove(),firebaseCase:()=>g.remove(),snapshotCase:()=>g.ref.remove()}):v.remove()}}function Rd(v,p){return function(){return mu(v,"value","on",p)}}const vu=new d.OlP("angularfire2.realtimeDatabaseURL"),Tc=new d.OlP("angularfire2.database.use-emulator");let _u=(()=>{class v{constructor(g,D,B,J,fe,Ve,bt,Rt,Fn,Ln,nr,Ii,Zi,_o,ga){this.schedulers=Ve;const il=bt,Kl=(0,Mt.on)(g,fe,D);Rt&&(0,uc.nw)(Kl,fe,Fn,nr,Ii,Zi,Ln,_o),this.database=(0,Mt.cc)(`${Kl.name}.database.${B}`,"AngularFireDatabase",Kl.name,()=>{const bu=fe.runOutsideAngular(()=>Kl.database(B||void 0));return il&&bu.useEmulator(...il),bu},[il])}list(g,D){const B=this.schedulers.ngZone.runOutsideAngular(()=>Qc(this.database,g));let J=B;return D&&(J=D(B)),function Wp(v,p){const g=p.schedulers.outsideAngular,D=p.schedulers.ngZone.run(()=>v.ref);return{query:v,update:Nh(D,"update"),set:Nh(D,"set"),push:B=>D.push(B),remove:Rm(D),snapshotChanges:B=>Jc(v,B,g).pipe(kt.iC),stateChanges:B=>kh(v,B,g).pipe(kt.iC),auditTrail:B=>function Hp(v,p,g){return function Al(v,p,g){return function hc(v,p){return mu(v,"value","on",p).pipe((0,je.U)(g=>{let D;return g.payload.forEach(B=>(D=B.key,!1)),{data:g,lastKeyToLoad:D}}))}(v,g).pipe(function We(...v){const p=(0,jt.jO)(v);return(0,xe.e)((g,D)=>{const B=v.length,J=new Array(B);let fe=v.map(()=>!1),Ve=!1;for(let bt=0;bt<B;bt++)(0,Me.Xf)(v[bt]).subscribe((0,it.x)(D,Rt=>{J[bt]=Rt,!Ve&&!fe[bt]&&(fe[bt]=!0,(Ve=fe.every(lt.y))&&(fe=null))},pt.Z));g.subscribe((0,it.x)(D,bt=>{if(Ve){const Rt=[bt,...J];D.next(p?p(...Rt):Rt)}}))})}(p),(0,je.U)(([B,J])=>{const fe=B.lastKeyToLoad,Ve=J.map(bt=>bt.key);return{actions:J,lastKeyToLoad:fe,loadedKeys:Ve}}),function Be(v){return(0,xe.e)((p,g)=>{let D=!1,B=0;p.subscribe((0,it.x)(g,J=>(D||(D=!v(J,B++)))&&g.next(J)))})}(B=>-1===B.loadedKeys.indexOf(B.lastKeyToLoad)),(0,je.U)(B=>B.actions))}(v,kh(v,p).pipe((0,Ze.R)((B,J)=>[...B,J],[])),g)}(v,B,g).pipe(kt.iC),valueChanges:(B,J)=>Jc(v,B,g).pipe((0,je.U)(Ve=>Ve.map(bt=>J&&J.idField?Object.assign(Object.assign({},bt.payload.val()),{[J.idField]:bt.key}):bt.payload.val())),kt.iC)}}(J,this)}object(g){return function yu(v,p){return{query:v,snapshotChanges:()=>Rd(v,p.schedulers.outsideAngular)().pipe(kt.iC),update:g=>v.ref.update(g),set:g=>v.ref.set(g),remove:()=>v.ref.remove(),valueChanges:()=>Rd(v,p.schedulers.outsideAngular)().pipe(kt.iC,(0,je.U)(D=>D.payload.exists()?D.payload.val():null))}}(this.schedulers.ngZone.runOutsideAngular(()=>Qc(this.database,g)),this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}}return v.\u0275fac=function(g){return new(g||v)(d.LFG(Mt.Dh),d.LFG(Mt.xv,8),d.LFG(vu,8),d.LFG(d.Lbi),d.LFG(d.R0b),d.LFG(kt.HU),d.LFG(Tc,8),d.LFG(uc.zQ,8),d.LFG(uc.Qv,8),d.LFG(uc.L6,8),d.LFG(uc._Q,8),d.LFG(uc.rT,8),d.LFG(uc.lh,8),d.LFG(uc.f7,8),d.LFG(jp.nm,8))},v.\u0275prov=d.Yz7({token:v,factory:v.\u0275fac,providedIn:"any"}),v})(),Lf=(()=>{class v{constructor(){Pm.Z.registerVersion("angularfire",kt.q4.full,"rtdb-compat")}}return v.\u0275fac=function(g){return new(g||v)},v.\u0275mod=d.oAB({type:v}),v.\u0275inj=d.cJS({providers:[_u]}),v})()},1085:(Jn,Ft,z)=>{"use strict";z.d(Ft,{ST:()=>Di,yb:()=>Er});var d=z(2223),E=z(4986),be=z(9751),ke=z(8996),qe=z(9646),je=z(3324),Se=z(8675),Re=z(1520),Ze=z(4004),Le=z(5026),xe=z(1884),it=z(9300),Me=z(2011),lt=z(4755),jt=(z(9568),z(3942)),We=z(2810),Be=z(2090),kt=z(4859);function It(Sn,Ne){if(void 0===Ne)return{merge:!1};if(void 0!==Ne.mergeFields&&void 0!==Ne.merge)throw new We.WA("invalid-argument",`Invalid options passed to function ${Sn}(): You cannot specify both "merge" and "mergeFields".`);return Ne}function St(){if(typeof Uint8Array>"u")throw new We.WA("unimplemented","Uint8Arrays are not available in this environment.")}function Ct(){if(!(0,We.Me)())throw new We.WA("unimplemented","Blobs are unavailable in Firestore in this environment.")}class gt{constructor(Ne){this._delegate=Ne}static fromBase64String(Ne){return Ct(),new gt(We.Jj.fromBase64String(Ne))}static fromUint8Array(Ne){return St(),new gt(We.Jj.fromUint8Array(Ne))}toBase64(){return Ct(),this._delegate.toBase64()}toUint8Array(){return St(),this._delegate.toUint8Array()}isEqual(Ne){return this._delegate.isEqual(Ne._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function te(Sn){return function Gt(Sn,Ne){if("object"!=typeof Sn||null===Sn)return!1;const ht=Sn;for(const Wt of Ne)if(Wt in ht&&"function"==typeof ht[Wt])return!0;return!1}(Sn,["next","error","complete"])}class Dt{enableIndexedDbPersistence(Ne,ht){return(0,We.ST)(Ne._delegate,{forceOwnership:ht})}enableMultiTabIndexedDbPersistence(Ne){return(0,We.fH)(Ne._delegate)}clearIndexedDbPersistence(Ne){return(0,We.Fc)(Ne._delegate)}}class Lt{constructor(Ne,ht,Wt){this._delegate=ht,this._persistenceProvider=Wt,this.INTERNAL={delete:()=>this.terminate()},Ne instanceof We.l7||(this._appCompat=Ne)}get _databaseId(){return this._delegate._databaseId}settings(Ne){const ht=this._delegate._getSettings();!Ne.merge&&ht.host!==Ne.host&&(0,We.yq)("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),Ne.merge&&delete(Ne=Object.assign(Object.assign({},ht),Ne)).merge,this._delegate._setSettings(Ne)}useEmulator(Ne,ht,Wt={}){(0,We.at)(this._delegate,Ne,ht,Wt)}enableNetwork(){return(0,We.Ix)(this._delegate)}disableNetwork(){return(0,We.TF)(this._delegate)}enablePersistence(Ne){let ht=!1,Wt=!1;return Ne&&(ht=!!Ne.synchronizeTabs,Wt=!!Ne.experimentalForceOwningTab,(0,We.Wi)("synchronizeTabs",ht,"experimentalForceOwningTab",Wt)),ht?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,Wt)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return(0,We.Mx)(this._delegate)}onSnapshotsInSync(Ne){return(0,We.sc)(this._delegate,Ne)}get app(){if(!this._appCompat)throw new We.WA("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(Ne){try{return new _t(this,(0,We.hJ)(this._delegate,Ne))}catch(ht){throw tt(ht,"collection()","Firestore.collection()")}}doc(Ne){try{return new et(this,(0,We.JU)(this._delegate,Ne))}catch(ht){throw tt(ht,"doc()","Firestore.doc()")}}collectionGroup(Ne){try{return new rn(this,(0,We.B$)(this._delegate,Ne))}catch(ht){throw tt(ht,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(Ne){return(0,We.i3)(this._delegate,ht=>Ne(new Je(this,ht)))}batch(){return(0,We.qY)(this._delegate),new ct(new We.PU(this._delegate,Ne=>(0,We.GL)(this._delegate,Ne)))}loadBundle(Ne){return(0,We.Pb)(this._delegate,Ne)}namedQuery(Ne){return(0,We.L$)(this._delegate,Ne).then(ht=>ht?new rn(this,ht):null)}}class qt extends We.u7{constructor(Ne){super(),this.firestore=Ne}convertBytes(Ne){return new gt(new We.Jj(Ne))}convertReference(Ne){const ht=this.convertDocumentKey(Ne,this.firestore._databaseId);return et.forKey(ht,this.firestore,null)}}class Je{constructor(Ne,ht){this._firestore=Ne,this._delegate=ht,this._userDataWriter=new qt(Ne)}get(Ne){const ht=cn(Ne);return this._delegate.get(ht).then(Wt=>new Ot(this._firestore,new We.xU(this._firestore._delegate,this._userDataWriter,Wt._key,Wt._document,Wt.metadata,ht.converter)))}set(Ne,ht,Wt){const wn=cn(Ne);return Wt?(It("Transaction.set",Wt),this._delegate.set(wn,ht,Wt)):this._delegate.set(wn,ht),this}update(Ne,ht,Wt,...wn){const Hn=cn(Ne);return 2===arguments.length?this._delegate.update(Hn,ht):this._delegate.update(Hn,ht,Wt,...wn),this}delete(Ne){const ht=cn(Ne);return this._delegate.delete(ht),this}}class ct{constructor(Ne){this._delegate=Ne}set(Ne,ht,Wt){const wn=cn(Ne);return Wt?(It("WriteBatch.set",Wt),this._delegate.set(wn,ht,Wt)):this._delegate.set(wn,ht),this}update(Ne,ht,Wt,...wn){const Hn=cn(Ne);return 2===arguments.length?this._delegate.update(Hn,ht):this._delegate.update(Hn,ht,Wt,...wn),this}delete(Ne){const ht=cn(Ne);return this._delegate.delete(ht),this}commit(){return this._delegate.commit()}}class yt{constructor(Ne,ht,Wt){this._firestore=Ne,this._userDataWriter=ht,this._delegate=Wt}fromFirestore(Ne,ht){const Wt=new We.$q(this._firestore._delegate,this._userDataWriter,Ne._key,Ne._document,Ne.metadata,null);return this._delegate.fromFirestore(new en(this._firestore,Wt),null!=ht?ht:{})}toFirestore(Ne,ht){return ht?this._delegate.toFirestore(Ne,ht):this._delegate.toFirestore(Ne)}static getInstance(Ne,ht){const Wt=yt.INSTANCES;let wn=Wt.get(Ne);wn||(wn=new WeakMap,Wt.set(Ne,wn));let Hn=wn.get(ht);return Hn||(Hn=new yt(Ne,new qt(Ne),ht),wn.set(ht,Hn)),Hn}}yt.INSTANCES=new WeakMap;class et{constructor(Ne,ht){this.firestore=Ne,this._delegate=ht,this._userDataWriter=new qt(Ne)}static forPath(Ne,ht,Wt){if(Ne.length%2!=0)throw new We.WA("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${Ne.canonicalString()} has ${Ne.length}`);return new et(ht,new We.my(ht._delegate,Wt,new We.Ky(Ne)))}static forKey(Ne,ht,Wt){return new et(ht,new We.my(ht._delegate,Wt,Ne))}get id(){return this._delegate.id}get parent(){return new _t(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(Ne){try{return new _t(this.firestore,(0,We.hJ)(this._delegate,Ne))}catch(ht){throw tt(ht,"collection()","DocumentReference.collection()")}}isEqual(Ne){return(Ne=(0,Be.m9)(Ne))instanceof We.my&&(0,We.Eo)(this._delegate,Ne)}set(Ne,ht){ht=It("DocumentReference.set",ht);try{return ht?(0,We.pl)(this._delegate,Ne,ht):(0,We.pl)(this._delegate,Ne)}catch(Wt){throw tt(Wt,"setDoc()","DocumentReference.set()")}}update(Ne,ht,...Wt){try{return 1===arguments.length?(0,We.r7)(this._delegate,Ne):(0,We.r7)(this._delegate,Ne,ht,...Wt)}catch(wn){throw tt(wn,"updateDoc()","DocumentReference.update()")}}delete(){return(0,We.oe)(this._delegate)}onSnapshot(...Ne){const ht=dt(Ne),Wt=Ut(Ne,wn=>new Ot(this.firestore,new We.xU(this.firestore._delegate,this._userDataWriter,wn._key,wn._document,wn.metadata,this._delegate.converter)));return(0,We.cf)(this._delegate,ht,Wt)}get(Ne){let ht;return ht="cache"===(null==Ne?void 0:Ne.source)?(0,We.kl)(this._delegate):"server"===(null==Ne?void 0:Ne.source)?(0,We.Xk)(this._delegate):(0,We.QT)(this._delegate),ht.then(Wt=>new Ot(this.firestore,new We.xU(this.firestore._delegate,this._userDataWriter,Wt._key,Wt._document,Wt.metadata,this._delegate.converter)))}withConverter(Ne){return new et(this.firestore,this._delegate.withConverter(Ne?yt.getInstance(this.firestore,Ne):null))}}function tt(Sn,Ne,ht){return Sn.message=Sn.message.replace(Ne,ht),Sn}function dt(Sn){for(const Ne of Sn)if("object"==typeof Ne&&!te(Ne))return Ne;return{}}function Ut(Sn,Ne){var ht,Wt;let wn;return wn=te(Sn[0])?Sn[0]:te(Sn[1])?Sn[1]:"function"==typeof Sn[0]?{next:Sn[0],error:Sn[1],complete:Sn[2]}:{next:Sn[1],error:Sn[2],complete:Sn[3]},{next:Hn=>{wn.next&&wn.next(Ne(Hn))},error:null===(ht=wn.error)||void 0===ht?void 0:ht.bind(wn),complete:null===(Wt=wn.complete)||void 0===Wt?void 0:Wt.bind(wn)}}class Ot{constructor(Ne,ht){this._firestore=Ne,this._delegate=ht}get ref(){return new et(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(Ne){return this._delegate.data(Ne)}get(Ne,ht){return this._delegate.get(Ne,ht)}isEqual(Ne){return(0,We.qK)(this._delegate,Ne._delegate)}}class en extends Ot{data(Ne){const ht=this._delegate.data(Ne);return(0,We.K9)(void 0!==ht,"Document in a QueryDocumentSnapshot should exist"),ht}}class rn{constructor(Ne,ht){this.firestore=Ne,this._delegate=ht,this._userDataWriter=new qt(Ne)}where(Ne,ht,Wt){try{return new rn(this.firestore,(0,We.IO)(this._delegate,(0,We.ar)(Ne,ht,Wt)))}catch(wn){throw tt(wn,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(Ne,ht){try{return new rn(this.firestore,(0,We.IO)(this._delegate,(0,We.Xo)(Ne,ht)))}catch(Wt){throw tt(Wt,/(orderBy|where)\(\)/,"Query.$1()")}}limit(Ne){try{return new rn(this.firestore,(0,We.IO)(this._delegate,(0,We.b9)(Ne)))}catch(ht){throw tt(ht,"limit()","Query.limit()")}}limitToLast(Ne){try{return new rn(this.firestore,(0,We.IO)(this._delegate,(0,We.vh)(Ne)))}catch(ht){throw tt(ht,"limitToLast()","Query.limitToLast()")}}startAt(...Ne){try{return new rn(this.firestore,(0,We.IO)(this._delegate,(0,We.e0)(...Ne)))}catch(ht){throw tt(ht,"startAt()","Query.startAt()")}}startAfter(...Ne){try{return new rn(this.firestore,(0,We.IO)(this._delegate,(0,We.TQ)(...Ne)))}catch(ht){throw tt(ht,"startAfter()","Query.startAfter()")}}endBefore(...Ne){try{return new rn(this.firestore,(0,We.IO)(this._delegate,(0,We.Lx)(...Ne)))}catch(ht){throw tt(ht,"endBefore()","Query.endBefore()")}}endAt(...Ne){try{return new rn(this.firestore,(0,We.IO)(this._delegate,(0,We.Wu)(...Ne)))}catch(ht){throw tt(ht,"endAt()","Query.endAt()")}}isEqual(Ne){return(0,We.iE)(this._delegate,Ne._delegate)}get(Ne){let ht;return ht="cache"===(null==Ne?void 0:Ne.source)?(0,We.UQ)(this._delegate):"server"===(null==Ne?void 0:Ne.source)?(0,We.zN)(this._delegate):(0,We.PL)(this._delegate),ht.then(Wt=>new nn(this.firestore,new We.W(this.firestore._delegate,this._userDataWriter,this._delegate,Wt._snapshot)))}onSnapshot(...Ne){const ht=dt(Ne),Wt=Ut(Ne,wn=>new nn(this.firestore,new We.W(this.firestore._delegate,this._userDataWriter,this._delegate,wn._snapshot)));return(0,We.cf)(this._delegate,ht,Wt)}withConverter(Ne){return new rn(this.firestore,this._delegate.withConverter(Ne?yt.getInstance(this.firestore,Ne):null))}}class On{constructor(Ne,ht){this._firestore=Ne,this._delegate=ht}get type(){return this._delegate.type}get doc(){return new en(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class nn{constructor(Ne,ht){this._firestore=Ne,this._delegate=ht}get query(){return new rn(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(Ne=>new en(this._firestore,Ne))}docChanges(Ne){return this._delegate.docChanges(Ne).map(ht=>new On(this._firestore,ht))}forEach(Ne,ht){this._delegate.forEach(Wt=>{Ne.call(ht,new en(this._firestore,Wt))})}isEqual(Ne){return(0,We.qK)(this._delegate,Ne._delegate)}}class _t extends rn{constructor(Ne,ht){super(Ne,ht),this.firestore=Ne,this._delegate=ht}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const Ne=this._delegate.parent;return Ne?new et(this.firestore,Ne):null}doc(Ne){try{return new et(this.firestore,void 0===Ne?(0,We.JU)(this._delegate):(0,We.JU)(this._delegate,Ne))}catch(ht){throw tt(ht,"doc()","CollectionReference.doc()")}}add(Ne){return(0,We.ET)(this._delegate,Ne).then(ht=>new et(this.firestore,ht))}isEqual(Ne){return(0,We.Eo)(this._delegate,Ne._delegate)}withConverter(Ne){return new _t(this.firestore,this._delegate.withConverter(Ne?yt.getInstance(this.firestore,Ne):null))}}function cn(Sn){return(0,We.Cf)(Sn,We.my)}class gn{constructor(...Ne){this._delegate=new We.Lz(...Ne)}static documentId(){return new gn(We.Xb.keyField().canonicalString())}isEqual(Ne){return(Ne=(0,Be.m9)(Ne))instanceof We.Lz&&this._delegate._internalPath.isEqual(Ne._internalPath)}}class Zn{constructor(Ne){this._delegate=Ne}static serverTimestamp(){const Ne=(0,We.Bt)();return Ne._methodName="FieldValue.serverTimestamp",new Zn(Ne)}static delete(){const Ne=(0,We.AK)();return Ne._methodName="FieldValue.delete",new Zn(Ne)}static arrayUnion(...Ne){const ht=(0,We.vr)(...Ne);return ht._methodName="FieldValue.arrayUnion",new Zn(ht)}static arrayRemove(...Ne){const ht=(0,We.Ab)(...Ne);return ht._methodName="FieldValue.arrayRemove",new Zn(ht)}static increment(Ne){const ht=(0,We.nP)(Ne);return ht._methodName="FieldValue.increment",new Zn(ht)}isEqual(Ne){return this._delegate.isEqual(Ne._delegate)}}const tr={Firestore:Lt,GeoPoint:We.F8,Timestamp:We.EK,Blob:gt,Transaction:Je,WriteBatch:ct,DocumentReference:et,DocumentSnapshot:Ot,Query:rn,QueryDocumentSnapshot:en,QuerySnapshot:nn,CollectionReference:_t,FieldPath:gn,FieldValue:Zn,setLogLevel:function Te(Sn){(0,We.Ub)(Sn)},CACHE_SIZE_UNLIMITED:We.IX};!function un(Sn){(function ur(Sn,Ne){Sn.INTERNAL.registerComponent(new kt.wA("firestore-compat",ht=>{const Wt=ht.getProvider("app-compat").getImmediate(),wn=ht.getProvider("firestore").getImmediate();return Ne(Wt,wn)},"PUBLIC").setServiceProps(Object.assign({},tr)))})(Sn,(Ne,ht)=>new Lt(Ne,ht,new Dt)),Sn.registerVersion("@firebase/firestore-compat","0.3.9")}(jt.Z);var rr=z(3385),an=z(2313),Pr=z(9260);function Ar(Sn,Ne){return function Br(Sn,Ne=E.z){return new be.y(ht=>{let Wt;return null!=Ne?Ne.schedule(()=>{Wt=Sn.onSnapshot({includeMetadataChanges:!0},ht)}):Wt=Sn.onSnapshot({includeMetadataChanges:!0},ht),()=>{null!=Wt&&Wt()}})}(Sn,Ne)}function oi(Sn,Ne){return Ar(Sn,Ne).pipe((0,Ze.U)(ht=>({payload:ht,type:"query"})))}function Wr(Sn,Ne){return oi(Sn,Ne).pipe((0,Se.O)(void 0),(0,Re.G)(),(0,Ze.U)(([ht,Wt])=>{const wn=Wt.payload.docChanges(),Hn=wn.map(jr=>({type:jr.type,payload:jr}));return ht&&JSON.stringify(ht.payload.metadata)!==JSON.stringify(Wt.payload.metadata)&&Wt.payload.docs.forEach((jr,kr)=>{const Rr=wn.find(Ae=>Ae.doc.ref.isEqual(jr.ref)),mt=null==ht?void 0:ht.payload.docs.find(Ae=>Ae.ref.isEqual(jr.ref));Rr&&JSON.stringify(Rr.doc.metadata)===JSON.stringify(jr.metadata)||!Rr&&mt&&JSON.stringify(mt.metadata)===JSON.stringify(jr.metadata)||Hn.push({type:"modified",payload:{oldIndex:kr,newIndex:kr,type:"modified",doc:jr}})}),Hn}))}function ar(Sn,Ne,ht){return Wr(Sn,ht).pipe((0,Le.R)((Wt,wn)=>function Ai(Sn,Ne,ht){return Ne.forEach(Wt=>{ht.indexOf(Wt.type)>-1&&(Sn=function lr(Sn,Ne){switch(Ne.type){case"added":if(!Sn[Ne.newIndex]||!Sn[Ne.newIndex].doc.ref.isEqual(Ne.doc.ref))return bi(Sn,Ne.newIndex,0,Ne);break;case"modified":if(null==Sn[Ne.oldIndex]||Sn[Ne.oldIndex].doc.ref.isEqual(Ne.doc.ref)){if(Ne.oldIndex!==Ne.newIndex){const ht=Sn.slice();return ht.splice(Ne.oldIndex,1),ht.splice(Ne.newIndex,0,Ne),ht}return bi(Sn,Ne.newIndex,1,Ne)}break;case"removed":if(Sn[Ne.oldIndex]&&Sn[Ne.oldIndex].doc.ref.isEqual(Ne.doc.ref))return bi(Sn,Ne.oldIndex,1)}return Sn}(Sn,Wt))}),Sn}(Wt,wn.map(Hn=>Hn.payload),Ne),[]),(0,xe.x)(),(0,Ze.U)(Wt=>Wt.map(wn=>({type:wn.type,payload:wn}))))}function bi(Sn,Ne,ht,...Wt){const wn=Sn.slice();return wn.splice(Ne,ht,...Wt),wn}function ir(Sn){return(!Sn||0===Sn.length)&&(Sn=["added","removed","modified"]),Sn}class mr{constructor(Ne,ht,Wt){this.ref=Ne,this.query=ht,this.afs=Wt}stateChanges(Ne){let ht=Wr(this.query,this.afs.schedulers.outsideAngular);return Ne&&Ne.length>0&&(ht=ht.pipe((0,Ze.U)(Wt=>Wt.filter(wn=>Ne.indexOf(wn.type)>-1)))),ht.pipe((0,Se.O)(void 0),(0,Re.G)(),(0,it.h)(([Wt,wn])=>wn.length>0||!Wt),(0,Ze.U)(([Wt,wn])=>wn),je.iC)}auditTrail(Ne){return this.stateChanges(Ne).pipe((0,Le.R)((ht,Wt)=>[...ht,...Wt],[]))}snapshotChanges(Ne){const ht=ir(Ne);return ar(this.query,ht,this.afs.schedulers.outsideAngular).pipe(je.iC)}valueChanges(Ne={}){return oi(this.query,this.afs.schedulers.outsideAngular).pipe((0,Ze.U)(ht=>ht.payload.docs.map(Wt=>Ne.idField?Object.assign(Object.assign({},Wt.data()),{[Ne.idField]:Wt.id}):Wt.data())),je.iC)}get(Ne){return(0,ke.D)(this.query.get(Ne)).pipe(je.iC)}add(Ne){return this.ref.add(Ne)}doc(Ne){return new ui(this.ref.doc(Ne),this.afs)}}class ui{constructor(Ne,ht){this.ref=Ne,this.afs=ht}set(Ne,ht){return this.ref.set(Ne,ht)}update(Ne){return this.ref.update(Ne)}delete(){return this.ref.delete()}collection(Ne,ht){const Wt=this.ref.collection(Ne),{ref:wn,query:Hn}=hr(Wt,ht);return new mr(wn,Hn,this.afs)}snapshotChanges(){return function Pn(Sn,Ne){return Ar(Sn,Ne).pipe((0,Se.O)(void 0),(0,Re.G)(),(0,Ze.U)(([ht,Wt])=>Wt.exists?null!=ht&&ht.exists?{payload:Wt,type:"modified"}:{payload:Wt,type:"added"}:{payload:Wt,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(je.iC)}valueChanges(Ne={}){return this.snapshotChanges().pipe((0,Ze.U)(({payload:ht})=>Ne.idField?Object.assign(Object.assign({},ht.data()),{[Ne.idField]:ht.id}):ht.data()))}get(Ne){return(0,ke.D)(this.ref.get(Ne)).pipe(je.iC)}}class gi{constructor(Ne,ht){this.query=Ne,this.afs=ht}stateChanges(Ne){return Ne&&0!==Ne.length?Wr(this.query,this.afs.schedulers.outsideAngular).pipe((0,Ze.U)(ht=>ht.filter(Wt=>Ne.indexOf(Wt.type)>-1)),(0,it.h)(ht=>ht.length>0),je.iC):Wr(this.query,this.afs.schedulers.outsideAngular).pipe(je.iC)}auditTrail(Ne){return this.stateChanges(Ne).pipe((0,Le.R)((ht,Wt)=>[...ht,...Wt],[]))}snapshotChanges(Ne){const ht=ir(Ne);return ar(this.query,ht,this.afs.schedulers.outsideAngular).pipe(je.iC)}valueChanges(Ne={}){return oi(this.query,this.afs.schedulers.outsideAngular).pipe((0,Ze.U)(Wt=>Wt.payload.docs.map(wn=>Ne.idField?Object.assign({[Ne.idField]:wn.id},wn.data()):wn.data())),je.iC)}get(Ne){return(0,ke.D)(this.query.get(Ne)).pipe(je.iC)}}const ni=new d.OlP("angularfire2.enableFirestorePersistence"),di=new d.OlP("angularfire2.firestore.persistenceSettings"),Ti=new d.OlP("angularfire2.firestore.settings"),br=new d.OlP("angularfire2.firestore.use-emulator");function hr(Sn,Ne=(ht=>ht)){return{query:Ne(Sn),ref:Sn}}let Di=(()=>{class Sn{constructor(ht,Wt,wn,Hn,jr,kr,Rr,mt,Ae,ie,ee,se,Ke,xt,rt,Vt,Jt){this.schedulers=Rr;const Cn=(0,Me.on)(ht,kr,Wt),vn=Ae;ie&&(0,rr.nw)(Cn,kr,ee,Ke,xt,rt,se,Vt),[this.firestore,this.persistenceEnabled$]=(0,Me.cc)(`${Cn.name}.firestore`,"AngularFirestore",Cn.name,()=>{const $n=kr.runOutsideAngular(()=>Cn.firestore());if(Hn&&$n.settings(Hn),vn&&$n.useEmulator(...vn),wn&&!(0,lt.PM)(jr)){const ln=()=>{try{return(0,ke.D)($n.enablePersistence(mt||void 0).then(()=>!0,()=>!1))}catch(yn){return typeof console<"u"&&console.warn(yn),(0,qe.of)(!1)}};return[$n,kr.runOutsideAngular(ln)]}return[$n,(0,qe.of)(!1)]},[Hn,vn,wn])}collection(ht,Wt){let wn;wn="string"==typeof ht?this.firestore.collection(ht):ht;const{ref:Hn,query:jr}=hr(wn,Wt),kr=this.schedulers.ngZone.run(()=>Hn);return new mr(kr,jr,this)}collectionGroup(ht,Wt){const wn=Wt||(jr=>jr),Hn=this.firestore.collectionGroup(ht);return new gi(wn(Hn),this)}doc(ht){let Wt;Wt="string"==typeof ht?this.firestore.doc(ht):ht;const wn=this.schedulers.ngZone.run(()=>Wt);return new ui(wn,this)}createId(){return this.firestore.collection("_").doc().id}}return Sn.\u0275fac=function(ht){return new(ht||Sn)(d.LFG(Me.Dh),d.LFG(Me.xv,8),d.LFG(ni,8),d.LFG(Ti,8),d.LFG(d.Lbi),d.LFG(d.R0b),d.LFG(je.HU),d.LFG(di,8),d.LFG(br,8),d.LFG(rr.zQ,8),d.LFG(rr.Qv,8),d.LFG(rr.L6,8),d.LFG(rr._Q,8),d.LFG(rr.rT,8),d.LFG(rr.lh,8),d.LFG(rr.f7,8),d.LFG(an.nm,8))},Sn.\u0275prov=d.Yz7({token:Sn,factory:Sn.\u0275fac,providedIn:"any"}),Sn})(),Er=(()=>{class Sn{constructor(){Pr.Z.registerVersion("angularfire",je.q4.full,"fst-compat")}static enablePersistence(ht){return{ngModule:Sn,providers:[{provide:ni,useValue:!0},{provide:di,useValue:ht}]}}}return Sn.\u0275fac=function(ht){return new(ht||Sn)},Sn.\u0275mod=d.oAB({type:Sn}),Sn.\u0275inj=d.cJS({providers:[Di]}),Sn})()},377:(Jn,Ft,z)=>{"use strict";z.d(Ft,{Q1:()=>ws,TE:()=>Po});var d=z(9751),E=z(9646),be=z(8996),ke=z(4986),qe=z(4482),je=z(5403),Re=z(4004),Ze=z(3900),Le=z(3324),xe=z(2223),it=z(2011),Me=z(3942),lt=z(5861),pt=z(6881),jt=z(2090),We=z(4859);const Be="firebasestorage.googleapis.com",kt="storageBucket";class St extends jt.ZR{constructor(ce,$,F=0){super(gt(ce),`Firebase Storage: ${$} (${gt(ce)})`),this.status_=F,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,St.prototype)}get status(){return this.status_}set status(ce){this.status_=ce}_codeEquals(ce){return gt(ce)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(ce){this.customData.serverResponse=ce,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}var Ct=(()=>((Ct=Ct||{}).UNKNOWN="unknown",Ct.OBJECT_NOT_FOUND="object-not-found",Ct.BUCKET_NOT_FOUND="bucket-not-found",Ct.PROJECT_NOT_FOUND="project-not-found",Ct.QUOTA_EXCEEDED="quota-exceeded",Ct.UNAUTHENTICATED="unauthenticated",Ct.UNAUTHORIZED="unauthorized",Ct.UNAUTHORIZED_APP="unauthorized-app",Ct.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",Ct.INVALID_CHECKSUM="invalid-checksum",Ct.CANCELED="canceled",Ct.INVALID_EVENT_NAME="invalid-event-name",Ct.INVALID_URL="invalid-url",Ct.INVALID_DEFAULT_BUCKET="invalid-default-bucket",Ct.NO_DEFAULT_BUCKET="no-default-bucket",Ct.CANNOT_SLICE_BLOB="cannot-slice-blob",Ct.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",Ct.NO_DOWNLOAD_URL="no-download-url",Ct.INVALID_ARGUMENT="invalid-argument",Ct.INVALID_ARGUMENT_COUNT="invalid-argument-count",Ct.APP_DELETED="app-deleted",Ct.INVALID_ROOT_OPERATION="invalid-root-operation",Ct.INVALID_FORMAT="invalid-format",Ct.INTERNAL_ERROR="internal-error",Ct.UNSUPPORTED_ENVIRONMENT="unsupported-environment",Ct))();function gt(_e){return"storage/"+_e}function te(){return new St(Ct.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function Je(){return new St(Ct.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function ct(){return new St(Ct.CANCELED,"User canceled the upload/download.")}function dt(){return new St(Ct.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function rn(_e){return new St(Ct.INVALID_ARGUMENT,_e)}function On(){return new St(Ct.APP_DELETED,"The Firebase app was deleted.")}function nn(_e){return new St(Ct.INVALID_ROOT_OPERATION,"The operation '"+_e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function _t(_e,ce){return new St(Ct.INVALID_FORMAT,"String does not match format '"+_e+"': "+ce)}function cn(_e){throw new St(Ct.INTERNAL_ERROR,"Internal error: "+_e)}class gn{constructor(ce,$){this.bucket=ce,this.path_=$}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const ce=encodeURIComponent;return"/b/"+ce(this.bucket)+"/o/"+ce(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(ce,$){let F;try{F=gn.makeFromUrl(ce,$)}catch{return new gn(ce,"")}if(""===F.path)return F;throw function et(_e){return new St(Ct.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+_e+"'.")}(ce)}static makeFromUrl(ce,$){let F=null;const S="([A-Za-z0-9.\\-_]+)",ut=new RegExp("^gs://"+S+"(/(.*))?$","i");function dn(Ei){Ei.path_=decodeURIComponent(Ei.path)}const li=$.replace(/[.]/g,"\\."),xs=[{regex:ut,indices:{bucket:1,path:3},postModify:function L(Ei){"/"===Ei.path.charAt(Ei.path.length-1)&&(Ei.path_=Ei.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${li}/v[A-Za-z0-9_]+/b/${S}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:dn},{regex:new RegExp(`^https?://${$===Be?"(?:storage.googleapis.com|storage.cloud.google.com)":$}/${S}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:dn}];for(let Ei=0;Ei<xs.length;Ei++){const Ms=xs[Ei],io=Ms.regex.exec(ce);if(io){let mo=io[Ms.indices.path];mo||(mo=""),F=new gn(io[Ms.indices.bucket],mo),Ms.postModify(F);break}}if(null==F)throw function yt(_e){return new St(Ct.INVALID_URL,"Invalid URL '"+_e+"'.")}(ce);return F}}class Zn{constructor(ce){this.promise_=Promise.reject(ce)}getPromise(){return this.promise_}cancel(ce=!1){}}function Pr(_e){return"string"==typeof _e||_e instanceof String}function Br(_e){return Ar()&&_e instanceof Blob}function Ar(){return typeof Blob<"u"&&!(0,jt.UG)()}function Pn(_e,ce,$,F){if(F<ce)throw rn(`Invalid value for '${_e}'. Expected ${ce} or greater.`);if(F>$)throw rn(`Invalid value for '${_e}'. Expected ${$} or less.`)}function oi(_e,ce,$){let F=ce;return null==$&&(F=`https://${ce}`),`${$}://${F}/v0${_e}`}function Wr(_e){const ce=encodeURIComponent;let $="?";for(const F in _e)_e.hasOwnProperty(F)&&($=$+(ce(F)+"=")+ce(_e[F])+"&");return $=$.slice(0,-1),$}var ar=(()=>((ar=ar||{})[ar.NO_ERROR=0]="NO_ERROR",ar[ar.NETWORK_ERROR=1]="NETWORK_ERROR",ar[ar.ABORT=2]="ABORT",ar))();function Ai(_e,ce){const $=_e>=500&&_e<600,S=-1!==[408,429].indexOf(_e),L=-1!==ce.indexOf(_e);return $||S||L}class bi{constructor(ce,$,F,S,L,ge,ut,Nt,dn,Mn,li,ci=!0){this.url_=ce,this.method_=$,this.headers_=F,this.body_=S,this.successCodes_=L,this.additionalRetryCodes_=ge,this.callback_=ut,this.errorCallback_=Nt,this.timeout_=dn,this.progressCallback_=Mn,this.connectionFactory_=li,this.retry=ci,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((mi,vi)=>{this.resolve_=mi,this.reject_=vi,this.start_()})}start_(){const $=(F,S)=>{const L=this.resolve_,ge=this.reject_,ut=S.connection;if(S.wasSuccessCode)try{const Nt=this.callback_(ut,ut.getResponse());!function un(_e){return void 0!==_e}(Nt)?L():L(Nt)}catch(Nt){ge(Nt)}else if(null!==ut){const Nt=te();Nt.serverResponse=ut.getErrorText(),ge(this.errorCallback_?this.errorCallback_(ut,Nt):Nt)}else ge(S.canceled?this.appDelete_?On():ct():Je())};this.canceled_?$(0,new lr(!1,null,!0)):this.backoffId_=function tr(_e,ce,$){let F=1,S=null,L=null,ge=!1,ut=0;function Nt(){return 2===ut}let dn=!1;function Mn(...ts){dn||(dn=!0,ce.apply(null,ts))}function li(ts){S=setTimeout(()=>{S=null,_e(mi,Nt())},ts)}function ci(){L&&clearTimeout(L)}function mi(ts,...Js){if(dn)return void ci();if(ts)return ci(),void Mn.call(null,ts,...Js);if(Nt()||ge)return ci(),void Mn.call(null,ts,...Js);let xs;F<64&&(F*=2),1===ut?(ut=2,xs=0):xs=1e3*(F+Math.random()),li(xs)}let vi=!1;function ri(ts){vi||(vi=!0,ci(),!dn&&(null!==S?(ts||(ut=2),clearTimeout(S),li(0)):ts||(ut=1)))}return li(0),L=setTimeout(()=>{ge=!0,ri(!0)},$),ri}((F,S)=>{if(S)return void F(!1,new lr(!1,null,!0));const L=this.connectionFactory_();this.pendingConnection_=L;const ge=ut=>{null!==this.progressCallback_&&this.progressCallback_(ut.loaded,ut.lengthComputable?ut.total:-1)};null!==this.progressCallback_&&L.addUploadProgressListener(ge),L.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&L.removeUploadProgressListener(ge),this.pendingConnection_=null;const ut=L.getErrorCode()===ar.NO_ERROR,Nt=L.getStatus();if(!ut||Ai(Nt,this.additionalRetryCodes_)&&this.retry){const Mn=L.getErrorCode()===ar.ABORT;return void F(!1,new lr(!1,null,Mn))}const dn=-1!==this.successCodes_.indexOf(Nt);F(!0,new lr(dn,L))})},$,this.timeout_)}getPromise(){return this.promise_}cancel(ce){this.canceled_=!0,this.appDelete_=ce||!1,null!==this.backoffId_&&function ur(_e){_e(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class lr{constructor(ce,$,F){this.wasSuccessCode=ce,this.connection=$,this.canceled=!!F}}function Ti(..._e){const ce=function di(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==ce){const $=new ce;for(let F=0;F<_e.length;F++)$.append(_e[F]);return $.getBlob()}if(Ar())return new Blob(_e);throw new St(Ct.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}const Di={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Er{constructor(ce,$){this.data=ce,this.contentType=$||null}}function Sn(_e,ce){switch(_e){case Di.RAW:return new Er(Ne(ce));case Di.BASE64:case Di.BASE64URL:return new Er(Wt(_e,ce));case Di.DATA_URL:return new Er(function Hn(_e){const ce=new wn(_e);return ce.base64?Wt(Di.BASE64,ce.rest):function ht(_e){let ce;try{ce=decodeURIComponent(_e)}catch{throw _t(Di.DATA_URL,"Malformed data URL.")}return Ne(ce)}(ce.rest)}(ce),function jr(_e){return new wn(_e).contentType}(ce))}throw te()}function Ne(_e){const ce=[];for(let $=0;$<_e.length;$++){let F=_e.charCodeAt($);F<=127?ce.push(F):F<=2047?ce.push(192|F>>6,128|63&F):55296==(64512&F)?$<_e.length-1&&56320==(64512&_e.charCodeAt($+1))?(F=65536|(1023&F)<<10|1023&_e.charCodeAt(++$),ce.push(240|F>>18,128|F>>12&63,128|F>>6&63,128|63&F)):ce.push(239,191,189):56320==(64512&F)?ce.push(239,191,189):ce.push(224|F>>12,128|F>>6&63,128|63&F)}return new Uint8Array(ce)}function Wt(_e,ce){switch(_e){case Di.BASE64:{const S=-1!==ce.indexOf("-"),L=-1!==ce.indexOf("_");if(S||L)throw _t(_e,"Invalid character '"+(S?"-":"_")+"' found: is it base64url encoded?");break}case Di.BASE64URL:{const S=-1!==ce.indexOf("+"),L=-1!==ce.indexOf("/");if(S||L)throw _t(_e,"Invalid character '"+(S?"+":"/")+"' found: is it base64 encoded?");ce=ce.replace(/-/g,"+").replace(/_/g,"/");break}}let $;try{$=function hr(_e){if(typeof atob>"u")throw function en(_e){return new St(Ct.UNSUPPORTED_ENVIRONMENT,`${_e} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}("base-64");return atob(_e)}(ce)}catch(S){throw S.message.includes("polyfill")?S:_t(_e,"Invalid character found")}const F=new Uint8Array($.length);for(let S=0;S<$.length;S++)F[S]=$.charCodeAt(S);return F}class wn{constructor(ce){this.base64=!1,this.contentType=null;const $=ce.match(/^data:([^,]+)?,/);if(null===$)throw _t(Di.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const F=$[1]||null;null!=F&&(this.base64=function kr(_e,ce){return _e.length>=ce.length&&_e.substring(_e.length-ce.length)===ce}(F,";base64"),this.contentType=this.base64?F.substring(0,F.length-7):F),this.rest=ce.substring(ce.indexOf(",")+1)}}class Rr{constructor(ce,$){let F=0,S="";Br(ce)?(this.data_=ce,F=ce.size,S=ce.type):ce instanceof ArrayBuffer?($?this.data_=new Uint8Array(ce):(this.data_=new Uint8Array(ce.byteLength),this.data_.set(new Uint8Array(ce))),F=this.data_.length):ce instanceof Uint8Array&&($?this.data_=ce:(this.data_=new Uint8Array(ce.length),this.data_.set(ce)),F=ce.length),this.size_=F,this.type_=S}size(){return this.size_}type(){return this.type_}slice(ce,$){if(Br(this.data_)){const S=function br(_e,ce,$){return _e.webkitSlice?_e.webkitSlice(ce,$):_e.mozSlice?_e.mozSlice(ce,$):_e.slice?_e.slice(ce,$):null}(this.data_,ce,$);return null===S?null:new Rr(S)}{const F=new Uint8Array(this.data_.buffer,ce,$-ce);return new Rr(F,!0)}}static getBlob(...ce){if(Ar()){const $=ce.map(F=>F instanceof Rr?F.data_:F);return new Rr(Ti.apply(null,$))}{const $=ce.map(ge=>Pr(ge)?Sn(Di.RAW,ge).data:ge.data_);let F=0;$.forEach(ge=>{F+=ge.byteLength});const S=new Uint8Array(F);let L=0;return $.forEach(ge=>{for(let ut=0;ut<ge.length;ut++)S[L++]=ge[ut]}),new Rr(S,!0)}}uploadData(){return this.data_}}function mt(_e){let ce;try{ce=JSON.parse(_e)}catch{return null}return function an(_e){return"object"==typeof _e&&!Array.isArray(_e)}(ce)?ce:null}function ee(_e){const ce=_e.lastIndexOf("/",_e.length-2);return-1===ce?_e:_e.slice(ce+1)}function se(_e,ce){return ce}class Ke{constructor(ce,$,F,S){this.server=ce,this.local=$||ce,this.writable=!!F,this.xform=S||se}}let xt=null;function Vt(){if(xt)return xt;const _e=[];_e.push(new Ke("bucket")),_e.push(new Ke("generation")),_e.push(new Ke("metageneration")),_e.push(new Ke("name","fullPath",!0));const $=new Ke("name");$.xform=function ce(L,ge){return function rt(_e){return!Pr(_e)||_e.length<2?_e:ee(_e)}(ge)},_e.push($);const S=new Ke("size");return S.xform=function F(L,ge){return void 0!==ge?Number(ge):ge},_e.push(S),_e.push(new Ke("timeCreated")),_e.push(new Ke("updated")),_e.push(new Ke("md5Hash",null,!0)),_e.push(new Ke("cacheControl",null,!0)),_e.push(new Ke("contentDisposition",null,!0)),_e.push(new Ke("contentEncoding",null,!0)),_e.push(new Ke("contentLanguage",null,!0)),_e.push(new Ke("contentType",null,!0)),_e.push(new Ke("metadata","customMetadata",!0)),xt=_e,xt}function vn(_e,ce,$){const F=mt(ce);return null===F?null:function Cn(_e,ce,$){const F={type:"file"},S=$.length;for(let L=0;L<S;L++){const ge=$[L];F[ge.local]=ge.xform(F,ce[ge.server])}return function Jt(_e,ce){Object.defineProperty(_e,"ref",{get:function $(){const L=new gn(_e.bucket,_e.fullPath);return ce._makeStorageReference(L)}})}(F,_e),F}(_e,F,$)}function ln(_e,ce){const $={},F=ce.length;for(let S=0;S<F;S++){const L=ce[S];L.writable&&($[L.server]=_e[L.local])}return JSON.stringify($)}const yn="prefixes",kn="items";class fn{constructor(ce,$,F,S){this.url=ce,this.method=$,this.handler=F,this.timeout=S,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function qn(_e){if(!_e)throw te()}function pr(_e,ce){return function $(F,S){const L=vn(_e,S,ce);return qn(null!==L),L}}function Fi(_e){return function ce($,F){let S;return S=401===$.getStatus()?$.getErrorText().includes("Firebase App Check token is invalid")?function qt(){return new St(Ct.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}():function Lt(){return new St(Ct.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===$.getStatus()?function Dt(_e){return new St(Ct.QUOTA_EXCEEDED,"Quota for bucket '"+_e+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(_e.bucket):403===$.getStatus()?function Te(_e){return new St(Ct.UNAUTHORIZED,"User does not have permission to access '"+_e+"'.")}(_e.path):F,S.status=$.getStatus(),S.serverResponse=F.serverResponse,S}}function Xr(_e){const ce=Fi(_e);return function $(F,S){let L=ce(F,S);return 404===F.getStatus()&&(L=function Gt(_e){return new St(Ct.OBJECT_NOT_FOUND,"Object '"+_e+"' does not exist.")}(_e.path)),L.serverResponse=S.serverResponse,L}}function Ur(_e,ce,$){const S=oi(ce.fullServerUrl(),_e.host,_e._protocol),ge=_e.maxOperationRetryTime,ut=new fn(S,"GET",pr(_e,$),ge);return ut.errorHandler=Xr(ce),ut}function Gr(_e,ce,$,F,S){const L={};L.prefix=ce.isRoot?"":ce.path+"/",$&&$.length>0&&(L.delimiter=$),F&&(L.pageToken=F),S&&(L.maxResults=S);const ut=oi(ce.bucketOnlyServerUrl(),_e.host,_e._protocol),dn=_e.maxOperationRetryTime,Mn=new fn(ut,"GET",function Dr(_e,ce){return function $(F,S){const L=function Kt(_e,ce,$){const F=mt($);return null===F?null:function Bt(_e,ce,$){const F={prefixes:[],items:[],nextPageToken:$.nextPageToken};if($[yn])for(const S of $[yn]){const L=S.replace(/\/$/,""),ge=_e._makeStorageReference(new gn(ce,L));F.prefixes.push(ge)}if($[kn])for(const S of $[kn]){const L=_e._makeStorageReference(new gn(ce,S.name));F.items.push(L)}return F}(_e,ce,F)}(_e,ce,S);return qn(null!==L),L}}(_e,ce.bucket),dn);return Mn.urlParams=L,Mn.errorHandler=Fi(ce),Mn}function Eo(_e,ce,$){const F=Object.assign({},$);return F.fullPath=_e.path,F.size=ce.size(),F.contentType||(F.contentType=function cs(_e,ce){return _e&&_e.contentType||ce&&ce.type()||"application/octet-stream"}(null,ce)),F}class Hi{constructor(ce,$,F,S){this.current=ce,this.total=$,this.finalized=!!F,this.metadata=S||null}}function zs(_e,ce){let $=null;try{$=_e.getResponseHeader("X-Goog-Upload-Status")}catch{qn(!1)}return qn(!!$&&-1!==(ce||["active"]).indexOf($)),$}const pe={STATE_CHANGED:"state_changed"},Oe={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function Ee(_e){switch(_e){case"running":case"pausing":case"canceling":return Oe.RUNNING;case"paused":return Oe.PAUSED;case"success":return Oe.SUCCESS;case"canceled":return Oe.CANCELED;default:return Oe.ERROR}}class ne{constructor(ce,$,F){if(function rr(_e){return"function"==typeof _e}(ce)||null!=$||null!=F)this.next=ce,this.error=null!=$?$:void 0,this.complete=null!=F?F:void 0;else{const L=ce;this.next=L.next,this.error=L.error,this.complete=L.complete}}}function ve(_e){return(...ce)=>{Promise.resolve().then(()=>_e(...ce))}}let st=null;class wt{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=ar.NO_ERROR,this.sendPromise_=new Promise(ce=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=ar.ABORT,ce()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=ar.NETWORK_ERROR,ce()}),this.xhr_.addEventListener("load",()=>{ce()})})}send(ce,$,F,S){if(this.sent_)throw cn("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open($,ce,!0),void 0!==S)for(const L in S)S.hasOwnProperty(L)&&this.xhr_.setRequestHeader(L,S[L].toString());return void 0!==F?this.xhr_.send(F):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw cn("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw cn("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw cn("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw cn("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(ce){return this.xhr_.getResponseHeader(ce)}addUploadProgressListener(ce){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",ce)}removeUploadProgressListener(ce){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",ce)}}class $t extends wt{initXhr(){this.xhr_.responseType="text"}}function tn(){return st?st():new $t}class gs{constructor(ce,$,F=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=ce,this._blob=$,this._metadata=F,this._mappings=Vt(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=S=>{if(this._request=void 0,this._chunkMultiplier=1,S._codeEquals(Ct.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const L=this.isExponentialBackoffExpired();if(Ai(S.status,[])){if(!L)return this.sleepTime=Math.max(2*this.sleepTime,1e3),this._needToFetchStatus=!0,void this.completeTransitions_();S=Je()}this._error=S,this._transition("error")}},this._metadataErrorHandler=S=>{this._request=void 0,S._codeEquals(Ct.CANCELED)?this.completeTransitions_():(this._error=S,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((S,L)=>{this._resolve=S,this._reject=L,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const ce=this._transferred;return $=>this._updateProgress(ce+$)}_shouldDoResumable(ce){return ce.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(ce){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([$,F])=>{switch(this._state){case"running":ce($,F);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((ce,$)=>{const F=function ks(_e,ce,$,F,S){const L=ce.bucketOnlyServerUrl(),ge=Eo(ce,F,S),ut={name:ge.fullPath},Nt=oi(L,_e.host,_e._protocol),Mn={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${F.size()}`,"X-Goog-Upload-Header-Content-Type":ge.contentType,"Content-Type":"application/json; charset=utf-8"},li=ln(ge,$),vi=new fn(Nt,"POST",function mi(ri){let ts;zs(ri);try{ts=ri.getResponseHeader("X-Goog-Upload-URL")}catch{qn(!1)}return qn(Pr(ts)),ts},_e.maxUploadRetryTime);return vi.urlParams=ut,vi.headers=Mn,vi.body=li,vi.errorHandler=Fi(ce),vi}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),S=this._ref.storage._makeRequest(F,tn,ce,$);this._request=S,S.getPromise().then(L=>{this._request=void 0,this._uploadUrl=L,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const ce=this._uploadUrl;this._resolveToken(($,F)=>{const S=function Ns(_e,ce,$,F){const Nt=new fn($,"POST",function L(dn){const Mn=zs(dn,["active","final"]);let li=null;try{li=dn.getResponseHeader("X-Goog-Upload-Size-Received")}catch{qn(!1)}li||qn(!1);const ci=Number(li);return qn(!isNaN(ci)),new Hi(ci,F.size(),"final"===Mn)},_e.maxUploadRetryTime);return Nt.headers={"X-Goog-Upload-Command":"query"},Nt.errorHandler=Fi(ce),Nt}(this._ref.storage,this._ref._location,ce,this._blob),L=this._ref.storage._makeRequest(S,tn,$,F);this._request=L,L.getPromise().then(ge=>{this._request=void 0,this._updateProgress(ge.current),this._needToFetchStatus=!1,ge.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const ce=262144*this._chunkMultiplier,$=new Hi(this._transferred,this._blob.size()),F=this._uploadUrl;this._resolveToken((S,L)=>{let ge;try{ge=function re(_e,ce,$,F,S,L,ge,ut){const Nt=new Hi(0,0);if(ge?(Nt.current=ge.current,Nt.total=ge.total):(Nt.current=0,Nt.total=F.size()),F.size()!==Nt.total)throw function Ut(){return new St(Ct.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}();const dn=Nt.total-Nt.current;let Mn=dn;S>0&&(Mn=Math.min(Mn,S));const li=Nt.current;let mi="";mi=0===Mn?"finalize":dn===Mn?"upload, finalize":"upload";const vi={"X-Goog-Upload-Command":mi,"X-Goog-Upload-Offset":`${Nt.current}`},ri=F.slice(li,li+Mn);if(null===ri)throw dt();const xs=new fn($,"POST",function ts(Ei,Ms){const io=zs(Ei,["active","final"]),Ko=Nt.current+Mn,mo=F.size();let oa;return oa="final"===io?pr(ce,L)(Ei,Ms):null,new Hi(Ko,mo,"final"===io,oa)},ce.maxUploadRetryTime);return xs.headers=vi,xs.body=ri.uploadData(),xs.progressCallback=ut||null,xs.errorHandler=Fi(_e),xs}(this._ref._location,this._ref.storage,F,this._blob,ce,this._mappings,$,this._makeProgressCallback())}catch(Nt){return this._error=Nt,void this._transition("error")}const ut=this._ref.storage._makeRequest(ge,tn,S,L,!1);this._request=ut,ut.getPromise().then(Nt=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(Nt.current),Nt.finalized?(this._metadata=Nt.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier*2<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((ce,$)=>{const F=Ur(this._ref.storage,this._ref._location,this._mappings),S=this._ref.storage._makeRequest(F,tn,ce,$);this._request=S,S.getPromise().then(L=>{this._request=void 0,this._metadata=L,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((ce,$)=>{const F=function es(_e,ce,$,F,S){const L=ce.bucketOnlyServerUrl(),ge={"X-Goog-Upload-Protocol":"multipart"},Nt=function ut(){let xs="";for(let Ei=0;Ei<2;Ei++)xs+=Math.random().toString().slice(2);return xs}();ge["Content-Type"]="multipart/related; boundary="+Nt;const dn=Eo(ce,F,S),Mn=ln(dn,$),mi=Rr.getBlob("--"+Nt+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+Mn+"\r\n--"+Nt+"\r\nContent-Type: "+dn.contentType+"\r\n\r\n",F,"\r\n--"+Nt+"--");if(null===mi)throw dt();const vi={name:dn.fullPath},ri=oi(L,_e.host,_e._protocol),Js=_e.maxUploadRetryTime,As=new fn(ri,"POST",pr(_e,$),Js);return As.urlParams=vi,As.headers=ge,As.body=mi.uploadData(),As.errorHandler=Fi(ce),As}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),S=this._ref.storage._makeRequest(F,tn,ce,$);this._request=S,S.getPromise().then(L=>{this._request=void 0,this._metadata=L,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(ce){const $=this._transferred;this._transferred=ce,this._transferred!==$&&this._notifyObservers()}_transition(ce){if(this._state!==ce)switch(ce){case"canceling":case"pausing":this._state=ce,void 0!==this._request?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const $="paused"===this._state;this._state=ce,$&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=ce,this._notifyObservers();break;case"canceled":this._error=ct(),this._state=ce,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const ce=Ee(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:ce,metadata:this._metadata,task:this,ref:this._ref}}on(ce,$,F,S){const L=new ne($||void 0,F||void 0,S||void 0);return this._addObserver(L),()=>{this._removeObserver(L)}}then(ce,$){return this._promise.then(ce,$)}catch(ce){return this.then(null,ce)}_addObserver(ce){this._observers.push(ce),this._notifyObserver(ce)}_removeObserver(ce){const $=this._observers.indexOf(ce);-1!==$&&this._observers.splice($,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach($=>{this._notifyObserver($)})}_finishPromise(){if(void 0!==this._resolve){let ce=!0;switch(Ee(this._state)){case Oe.SUCCESS:ve(this._resolve.bind(null,this.snapshot))();break;case Oe.CANCELED:case Oe.ERROR:ve(this._reject.bind(null,this._error))();break;default:ce=!1}ce&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(ce){switch(Ee(this._state)){case Oe.RUNNING:case Oe.PAUSED:ce.next&&ve(ce.next.bind(ce,this.snapshot))();break;case Oe.SUCCESS:ce.complete&&ve(ce.complete.bind(ce))();break;default:ce.error&&ve(ce.error.bind(ce,this._error))()}}resume(){const ce="paused"===this._state||"pausing"===this._state;return ce&&this._transition("running"),ce}pause(){const ce="running"===this._state;return ce&&this._transition("pausing"),ce}cancel(){const ce="running"===this._state||"pausing"===this._state;return ce&&this._transition("canceling"),ce}}class Xi{constructor(ce,$){this._service=ce,this._location=$ instanceof gn?$:gn.makeFromUrl($,ce.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(ce,$){return new Xi(ce,$)}get root(){const ce=new gn(this._location.bucket,"");return this._newRef(this._service,ce)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return ee(this._location.path)}get storage(){return this._service}get parent(){const ce=function Ae(_e){if(0===_e.length)return null;const ce=_e.lastIndexOf("/");return-1===ce?"":_e.slice(0,ce)}(this._location.path);if(null===ce)return null;const $=new gn(this._location.bucket,ce);return new Xi(this._service,$)}_throwIfRoot(ce){if(""===this._location.path)throw nn(ce)}}function Ao(_e,ce,$){return is.apply(this,arguments)}function is(){return(is=(0,lt.Z)(function*(_e,ce,$){const S=yield wo(_e,{pageToken:$});ce.prefixes.push(...S.prefixes),ce.items.push(...S.items),null!=S.nextPageToken&&(yield Ao(_e,ce,S.nextPageToken))})).apply(this,arguments)}function wo(_e,ce){null!=ce&&"number"==typeof ce.maxResults&&Pn("options.maxResults",1,1e3,ce.maxResults);const $=ce||{},F=Gr(_e.storage,_e._location,"/",$.pageToken,$.maxResults);return _e.storage.makeRequestWithTokens(F,tn)}function zi(_e){_e._throwIfRoot("getDownloadURL");const ce=function Os(_e,ce,$){const S=oi(ce.fullServerUrl(),_e.host,_e._protocol),ge=_e.maxOperationRetryTime,ut=new fn(S,"GET",function $r(_e,ce){return function $(F,S){const L=vn(_e,S,ce);return qn(null!==L),function $n(_e,ce,$,F){const S=mt(ce);if(null===S||!Pr(S.downloadTokens))return null;const L=S.downloadTokens;if(0===L.length)return null;const ge=encodeURIComponent;return L.split(",").map(dn=>{const li=_e.fullPath;return oi("/b/"+ge(_e.bucket)+"/o/"+ge(li),$,F)+Wr({alt:"media",token:dn})})[0]}(L,S,_e.host,_e._protocol)}}(_e,$),ge);return ut.errorHandler=Xr(ce),ut}(_e.storage,_e._location,Vt());return _e.storage.makeRequestWithTokens(ce,tn).then($=>{if(null===$)throw function Ot(){return new St(Ct.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}();return $})}function ao(_e,ce){const $=function ie(_e,ce){const $=ce.split("/").filter(F=>F.length>0).join("/");return 0===_e.length?$:_e+"/"+$}(_e._location.path,ce),F=new gn(_e._location.bucket,$);return new Xi(_e.storage,F)}function Qi(_e,ce){if(_e instanceof Io){const $=_e;if(null==$._bucket)throw function tt(){return new St(Ct.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+kt+"' property when initializing the app?")}();const F=new Xi($,$._bucket);return null!=ce?Qi(F,ce):F}return void 0!==ce?ao(_e,ce):_e}function no(_e,ce){if(ce&&function ms(_e){return/^[A-Za-z]+:\/\//.test(_e)}(ce)){if(_e instanceof Io)return function Ni(_e,ce){return new Xi(_e,ce)}(_e,ce);throw rn("To use ref(service, url), the first argument must be a Storage instance.")}return Qi(_e,ce)}function fo(_e,ce){const $=null==ce?void 0:ce[kt];return null==$?null:gn.makeFromBucketSpec($,_e)}class Io{constructor(ce,$,F,S,L){this.app=ce,this._authProvider=$,this._appCheckProvider=F,this._url=S,this._firebaseVersion=L,this._bucket=null,this._host=Be,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=S?gn.makeFromBucketSpec(S,this._host):fo(this._host,this.app.options)}get host(){return this._host}set host(ce){this._host=ce,this._bucket=null!=this._url?gn.makeFromBucketSpec(this._url,ce):fo(ce,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(ce){Pn("time",0,Number.POSITIVE_INFINITY,ce),this._maxUploadRetryTime=ce}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(ce){Pn("time",0,Number.POSITIVE_INFINITY,ce),this._maxOperationRetryTime=ce}_getAuthToken(){var ce=this;return(0,lt.Z)(function*(){if(ce._overrideAuthToken)return ce._overrideAuthToken;const $=ce._authProvider.getImmediate({optional:!0});if($){const F=yield $.getToken();if(null!==F)return F.accessToken}return null})()}_getAppCheckToken(){var ce=this;return(0,lt.Z)(function*(){const $=ce._appCheckProvider.getImmediate({optional:!0});return $?(yield $.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(ce=>ce.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(ce){return new Xi(this,ce)}_makeRequest(ce,$,F,S,L=!0){if(this._deleted)return new Zn(On());{const ge=function ni(_e,ce,$,F,S,L,ge=!0){const ut=Wr(_e.urlParams),Nt=_e.url+ut,dn=Object.assign({},_e.headers);return function ui(_e,ce){ce&&(_e["X-Firebase-GMPID"]=ce)}(dn,ce),function ir(_e,ce){null!==ce&&ce.length>0&&(_e.Authorization="Firebase "+ce)}(dn,$),function mr(_e,ce){_e["X-Firebase-Storage-Version"]="webjs/"+(null!=ce?ce:"AppManager")}(dn,L),function gi(_e,ce){null!==ce&&(_e["X-Firebase-AppCheck"]=ce)}(dn,F),new bi(Nt,_e.method,dn,_e.body,_e.successCodes,_e.additionalRetryCodes,_e.handler,_e.errorHandler,_e.timeout,_e.progressCallback,S,ge)}(ce,this._appId,F,S,$,this._firebaseVersion,L);return this._requests.add(ge),ge.getPromise().then(()=>this._requests.delete(ge),()=>this._requests.delete(ge)),ge}}makeRequestWithTokens(ce,$){var F=this;return(0,lt.Z)(function*(){const[S,L]=yield Promise.all([F._getAuthToken(),F._getAppCheckToken()]);return F._makeRequest(ce,$,S,L).getPromise()})()}}const Co="@firebase/storage";function vs(_e,ce){return no(_e=(0,jt.m9)(_e),ce)}function uo(_e,{instanceIdentifier:ce}){const $=_e.getProvider("app").getImmediate(),F=_e.getProvider("auth-internal"),S=_e.getProvider("app-check-internal");return new Io($,F,S,ce,pt.SDK_VERSION)}!function So(){(0,pt._registerComponent)(new We.wA("storage",uo,"PUBLIC").setMultipleInstances(!0)),(0,pt.registerVersion)(Co,"0.11.2",""),(0,pt.registerVersion)(Co,"0.11.2","esm2017")}();class po{constructor(ce,$,F){this._delegate=ce,this.task=$,this.ref=F}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class Go{constructor(ce,$){this._delegate=ce,this._ref=$,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new po(this._delegate.snapshot,this,this._ref)}then(ce,$){return this._delegate.then(F=>{if(ce)return ce(new po(F,this,this._ref))},$)}on(ce,$,F,S){let L;return $&&(L="function"==typeof $?ge=>$(new po(ge,this,this._ref)):{next:$.next?ge=>$.next(new po(ge,this,this._ref)):void 0,complete:$.complete||void 0,error:$.error||void 0}),this._delegate.on(ce,L,F||void 0,S||void 0)}}class go{constructor(ce,$){this._delegate=ce,this._service=$}get prefixes(){return this._delegate.prefixes.map(ce=>new Ts(ce,this._service))}get items(){return this._delegate.items.map(ce=>new Ts(ce,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class Ts{constructor(ce,$){this._delegate=ce,this.storage=$}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(ce){const $=function Do(_e,ce){return ao(_e,ce)}(this._delegate,ce);return new Ts($,this.storage)}get root(){return new Ts(this._delegate.root,this.storage)}get parent(){const ce=this._delegate.parent;return null==ce?null:new Ts(ce,this.storage)}put(ce,$){return this._throwIfRoot("put"),new Go(function Ws(_e,ce,$){return function Fr(_e,ce,$){return _e._throwIfRoot("uploadBytesResumable"),new gs(_e,new Rr(ce),$)}(_e=(0,jt.m9)(_e),ce,$)}(this._delegate,ce,$),this)}putString(ce,$=Di.RAW,F){this._throwIfRoot("putString");const S=Sn($,ce),L=Object.assign({},F);return null==L.contentType&&null!=S.contentType&&(L.contentType=S.contentType),new Go(new gs(this._delegate,new Rr(S.data,!0),L),this)}listAll(){return function co(_e){return function Ds(_e){const ce={prefixes:[],items:[]};return Ao(_e,ce).then(()=>ce)}(_e=(0,jt.m9)(_e))}(this._delegate).then(ce=>new go(ce,this.storage))}list(ce){return function Ss(_e,ce){return wo(_e=(0,jt.m9)(_e),ce)}(this._delegate,ce||void 0).then($=>new go($,this.storage))}getMetadata(){return function Es(_e){return function Qr(_e){_e._throwIfRoot("getMetadata");const ce=Ur(_e.storage,_e._location,Vt());return _e.storage.makeRequestWithTokens(ce,tn)}(_e=(0,jt.m9)(_e))}(this._delegate)}updateMetadata(ce){return function Oi(_e,ce){return function zr(_e,ce){_e._throwIfRoot("updateMetadata");const $=function to(_e,ce,$,F){const L=oi(ce.fullServerUrl(),_e.host,_e._protocol),ut=ln($,F),dn=_e.maxOperationRetryTime,Mn=new fn(L,"PATCH",pr(_e,F),dn);return Mn.headers={"Content-Type":"application/json; charset=utf-8"},Mn.body=ut,Mn.errorHandler=Xr(ce),Mn}(_e.storage,_e._location,ce,Vt());return _e.storage.makeRequestWithTokens($,tn)}(_e=(0,jt.m9)(_e),ce)}(this._delegate,ce)}getDownloadURL(){return function qs(_e){return zi(_e=(0,jt.m9)(_e))}(this._delegate)}delete(){return this._throwIfRoot("delete"),function Ls(_e){return function Yr(_e){_e._throwIfRoot("deleteObject");const ce=function ps(_e,ce){const F=oi(ce.fullServerUrl(),_e.host,_e._protocol),ut=new fn(F,"DELETE",function ge(Nt,dn){},_e.maxOperationRetryTime);return ut.successCodes=[200,204],ut.errorHandler=Xr(ce),ut}(_e.storage,_e._location);return _e.storage.makeRequestWithTokens(ce,tn)}(_e=(0,jt.m9)(_e))}(this._delegate)}_throwIfRoot(ce){if(""===this._delegate._location.path)throw nn(ce)}}class xo{constructor(ce,$){this.app=ce,this._delegate=$}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(ce){if(us(ce))throw rn("ref() expected a child path but got a URL, use refFromURL instead.");return new Ts(vs(this._delegate,ce),this)}refFromURL(ce){if(!us(ce))throw rn("refFromURL() expected a full URL but got a child path, use ref() instead.");try{gn.makeFromUrl(ce,this._delegate.host)}catch{throw rn("refFromUrl() expected a valid full URL but got an invalid one.")}return new Ts(vs(this._delegate,ce),this)}setMaxUploadRetryTime(ce){this._delegate.maxUploadRetryTime=ce}setMaxOperationRetryTime(ce){this._delegate.maxOperationRetryTime=ce}useEmulator(ce,$,F={}){!function ki(_e,ce,$,F={}){!function Qs(_e,ce,$,F={}){_e.host=`${ce}:${$}`,_e._protocol="http";const{mockUserToken:S}=F;S&&(_e._overrideAuthToken="string"==typeof S?S:(0,jt.Sg)(S,_e.app.options.projectId))}(_e,ce,$,F)}(this._delegate,ce,$,F)}}function us(_e){return/^[A-Za-z]+:\/\//.test(_e)}function $i(_e,{instanceIdentifier:ce}){const $=_e.getProvider("app-compat").getImmediate(),F=_e.getProvider("storage").getImmediate({identifier:ce});return new xo($,F)}!function O(_e){const ce={TaskState:Oe,TaskEvent:pe,StringFormat:Di,Storage:xo,Reference:Ts};_e.INTERNAL.registerComponent(new We.wA("storage-compat",$i,"PUBLIC").setServiceProps(ce).setMultipleInstances(!0)),_e.registerVersion("@firebase/storage-compat","0.3.2")}(Me.Z);var he=z(2313),N=z(9260);function Ge(_e){const ce=function le(_e){return new d.y(ce=>{const $=ge=>ce.next(ge);$(_e.snapshot);const L=_e.on("state_changed",$);return _e.then(ge=>{$(ge),ce.complete()},ge=>{$(_e.snapshot),(ge=>{ce.error(ge)})(ge)}),function(){L()}}).pipe(function Se(_e,ce=ke.z){return(0,qe.e)(($,F)=>{let S=null,L=null,ge=null;const ut=()=>{if(S){S.unsubscribe(),S=null;const dn=L;L=null,F.next(dn)}};function Nt(){const dn=ge+_e,Mn=ce.now();if(Mn<dn)return S=this.schedule(void 0,dn-Mn),void F.add(S);ut()}$.subscribe((0,je.x)(F,dn=>{L=dn,ge=ce.now(),S||(S=ce.schedule(Nt,_e),F.add(S))},()=>{ut(),F.complete()},void 0,()=>{L=S=null}))})}(0))}(_e);return{task:_e,then:_e.then.bind(_e),catch:_e.catch.bind(_e),pause:_e.pause.bind(_e),cancel:_e.cancel.bind(_e),resume:_e.resume.bind(_e),snapshotChanges:()=>ce,percentageChanges:()=>ce.pipe((0,Re.U)($=>$.bytesTransferred/$.totalBytes*100))}}function _n(_e){return{getDownloadURL:()=>(0,E.of)(void 0).pipe(Le.fc,(0,Ze.w)(()=>_e.getDownloadURL()),Le.iC),getMetadata:()=>(0,E.of)(void 0).pipe(Le.fc,(0,Ze.w)(()=>_e.getMetadata()),Le.iC),delete:()=>(0,be.D)(_e.delete()),child:ce=>_n(_e.child(ce)),updateMetadata:ce=>(0,be.D)(_e.updateMetadata(ce)),put:(ce,$)=>Ge(_e.put(ce,$)),putString:(ce,$,F)=>Ge(_e.putString(ce,$,F)),list:ce=>(0,be.D)(_e.list(ce)),listAll:()=>(0,be.D)(_e.listAll())}}const Sr=new xe.OlP("angularfire2.storageBucket"),Gn=new xe.OlP("angularfire2.storage.maxUploadRetryTime"),ai=new xe.OlP("angularfire2.storage.maxOperationRetryTime"),hi=new xe.OlP("angularfire2.storage.use-emulator");let ws=(()=>{class _e{constructor($,F,S,L,ge,ut,Nt,dn,Mn,li){const ci=(0,it.on)($,ge,F);this.storage=(0,it.cc)(`${ci.name}.storage.${S}`,"AngularFireStorage",ci.name,()=>{const mi=ge.runOutsideAngular(()=>ci.storage(S||void 0)),vi=Mn;return vi&&mi.useEmulator(...vi),Nt&&mi.setMaxUploadRetryTime(Nt),dn&&mi.setMaxOperationRetryTime(dn),mi},[Nt,dn])}ref($){return _n(this.storage.ref($))}refFromURL($){return _n(this.storage.refFromURL($))}upload($,F,S){return _n(this.storage.ref($)).put(F,S)}}return _e.\u0275fac=function($){return new($||_e)(xe.LFG(it.Dh),xe.LFG(it.xv,8),xe.LFG(Sr,8),xe.LFG(xe.Lbi),xe.LFG(xe.R0b),xe.LFG(Le.HU),xe.LFG(Gn,8),xe.LFG(ai,8),xe.LFG(hi,8),xe.LFG(he.nm,8))},_e.\u0275prov=xe.Yz7({token:_e,factory:_e.\u0275fac,providedIn:"any"}),_e})(),Bs=(()=>{class _e{}return _e.\u0275fac=function($){return new($||_e)},_e.\u0275mod=xe.oAB({type:_e}),_e.\u0275inj=xe.cJS({}),_e})(),Po=(()=>{class _e{constructor(){N.Z.registerVersion("angularfire",Le.q4.full,"gcs-compat")}}return _e.\u0275fac=function($){return new($||_e)},_e.\u0275mod=xe.oAB({type:_e}),_e.\u0275inj=xe.cJS({providers:[ws],imports:[Bs]}),_e})()},2011:(Jn,Ft,z)=>{"use strict";z.d(Ft,{Dh:()=>Re,GT:()=>je,Ot:()=>Se,cc:()=>lt,hO:()=>Me,on:()=>Le,pX:()=>qe,xv:()=>Ze});var d=z(2223),E=z(9260),be=z(3324);Jn=z.hmd(Jn);const ke=["ngOnDestroy"],qe=(Be,kt,Mt,ft={})=>new Proxy(Be,{get:(It,St)=>Mt.runOutsideAngular(()=>{var Ct;if(Be[St])return!(null===(Ct=null==ft?void 0:ft.spy)||void 0===Ct)&&Ct.get&&ft.spy.get(St,Be[St]),Be[St];if(ke.indexOf(St)>-1)return()=>{};const gt=kt.toPromise().then(te=>{const Gt=te&&te[St];return"function"==typeof Gt?Gt.bind(te):Gt&&Gt.then?Gt.then(Dt=>Mt.run(()=>Dt)):Mt.run(()=>Gt)});return new Proxy(()=>{},{get:(te,Gt)=>gt[Gt],apply:(te,Gt,Dt)=>gt.then(Lt=>{var qt;const Te=Lt&&Lt(...Dt);return!(null===(qt=null==ft?void 0:ft.spy)||void 0===qt)&&qt.apply&&ft.spy.apply(St,Dt,Te),Te})})})}),je=(Be,kt)=>{kt.forEach(Mt=>{Object.getOwnPropertyNames(Mt.prototype||Mt).forEach(ft=>{Object.defineProperty(Be.prototype,ft,Object.getOwnPropertyDescriptor(Mt.prototype||Mt,ft))})})};class Se{constructor(kt){return kt}}const Re=new d.OlP("angularfire2.app.options"),Ze=new d.OlP("angularfire2.app.name");function Le(Be,kt,Mt){const It="object"==typeof Mt&&Mt||{};It.name=It.name||"string"==typeof Mt&&Mt||"[DEFAULT]";const Ct=E.Z.apps.filter(gt=>gt&&gt.name===It.name)[0]||kt.runOutsideAngular(()=>E.Z.initializeApp(Be,It));try{JSON.stringify(Be)!==JSON.stringify(Ct.options)&&xe("error",`${Ct.name} Firebase App already initialized with different options${Jn.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new Se(Ct)}const xe=(Be,...kt)=>{(0,d.X6Q)()&&typeof console<"u"&&console[Be](...kt)},it={provide:Se,useFactory:Le,deps:[Re,d.R0b,[new d.FiY,Ze]]};let Me=(()=>{class Be{constructor(Mt){E.Z.registerVersion("angularfire",be.q4.full,"core"),E.Z.registerVersion("angularfire",be.q4.full,"app-compat"),E.Z.registerVersion("angular",d.q4F.full,Mt.toString())}static initializeApp(Mt,ft){return{ngModule:Be,providers:[{provide:Re,useValue:Mt},{provide:Ze,useValue:ft}]}}}return Be.\u0275fac=function(Mt){return new(Mt||Be)(d.LFG(d.Lbi))},Be.\u0275mod=d.oAB({type:Be}),Be.\u0275inj=d.cJS({providers:[it]}),Be})();function lt(Be,kt,Mt,ft,It){const[,St,Ct]=globalThis.\u0275AngularfireInstanceCache.find(gt=>gt[0]===Be)||[];if(St)return function pt(Be,kt){try{return Be.toString()===kt.toString()}catch{return Be===kt}}(It,Ct)||(We("error",`${kt} was already initialized on the ${Mt} Firebase App with different settings.${jt?" You may need to reload as Firebase is not HMR aware.":""}`),We("warn",{is:It,was:Ct})),St;{const gt=ft();return globalThis.\u0275AngularfireInstanceCache.push([Be,gt,It]),gt}}const jt=!!Jn.hot,We=(Be,...kt)=>{(0,d.X6Q)()&&typeof console<"u"&&console[Be](...kt)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},89:(Jn,Ft,z)=>{"use strict";z.d(Ft,{gg:()=>Dt,hJ:()=>an,BS:()=>nn,JU:()=>Wr,PL:()=>di,ad:()=>hr,Xo:()=>jr,Cm:()=>Ut,IO:()=>kr,pl:()=>ee,ar:()=>vn});var d=z(3324),E=z(2223),be=z(7246),ke=z(3692),qe=z(259),je=z(2313),Se=z(2810),Re=z(9751),Ze=z(4004),Le={includeMetadataChanges:!1};function Gt(ln,yn){return void 0===yn&&(yn={}),function Ct(ln){return function xe(ln,yn){return void 0===yn&&(yn=Le),new Re.y(function(kn){return{unsubscribe:(0,Se.cf)(ln,yn,{next:kn.next.bind(kn),error:kn.error.bind(kn),complete:kn.complete.bind(kn)})}})}(ln,{includeMetadataChanges:!0}).pipe((0,Ze.U)(function(yn){return yn.docs}))}(ln).pipe((0,Ze.U)(function(kn){return kn.map(function(Bt){return function lt(ln,yn){void 0===yn&&(yn={});var kn=ln.data();return!ln.exists()||"object"!=typeof kn||null===kn||yn.idField&&(kn[yn.idField]=ln.id),kn}(Bt,yn)})}))}class Dt{constructor(yn){return yn}}const Lt="firestore",Je=new E.OlP("angularfire2.firestore-instances");function yt(ln){return(yn,kn)=>{const Bt=yn.runOutsideAngular(()=>ln(kn));return new Dt(Bt)}}const et={provide:class qt{constructor(){return(0,d.vb)(Lt)}},deps:[[new E.FiY,Je]]},tt={provide:Dt,useFactory:function ct(ln,yn){const kn=(0,d.JM)(Lt,ln,yn);return kn&&new Dt(kn)},deps:[[new E.FiY,Je],ke.Ot]};let dt=(()=>{class ln{constructor(){(0,qe.KN)("angularfire",d.q4.full,"fst")}}return ln.\u0275fac=function(kn){return new(kn||ln)},ln.\u0275mod=E.oAB({type:ln}),ln.\u0275inj=E.cJS({providers:[tt,et]}),ln})();function Ut(ln,...yn){return{ngModule:dt,providers:[{provide:Je,useFactory:yt(ln),multi:!0,deps:[E.R0b,E.zs3,d.HU,ke.z6,[new E.FiY,be.dh],[new E.FiY,je.nm],...yn]}]}}const nn=(0,d.u3)(Gt,!0),an=(0,d.u3)(Se.hJ,!0),Wr=(0,d.u3)(Se.JU,!0),di=(0,d.u3)(Se.PL,!0),hr=(0,d.u3)(Se.ad,!0),jr=(0,d.u3)(Se.Xo,!0),kr=(0,d.u3)(Se.IO,!0),ee=(0,d.u3)(Se.pl,!0),vn=(0,d.u3)(Se.ar,!0)},3324:(Jn,Ft,z)=>{"use strict";z.d(Ft,{q4:()=>go,iC:()=>_e,fc:()=>Bs,HU:()=>ai,vb:()=>Ge,JM:()=>le,nk:()=>N,u3:()=>F});var d=z(2223),E=z(259),be=z(5861),ke=z(6881),qe=z(2090),je=z(4859),Se=z(1877);z(4727);const Ze="@firebase/remote-config",lt=new qe.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class yt{constructor(L,ge,ut,Nt){this.client=L,this.storage=ge,this.storageCache=ut,this.logger=Nt}isCachedDataFresh(L,ge){if(!ge)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const ut=Date.now()-ge,Nt=ut<=L;return this.logger.debug(`Config fetch cache check. Cache age millis: ${ut}. Cache max age millis (minimumFetchIntervalMillis setting): ${L}. Is cache hit: ${Nt}.`),Nt}fetch(L){var ge=this;return(0,be.Z)(function*(){const[ut,Nt]=yield Promise.all([ge.storage.getLastSuccessfulFetchTimestampMillis(),ge.storage.getLastSuccessfulFetchResponse()]);if(Nt&&ge.isCachedDataFresh(L.cacheMaxAgeMillis,ut))return Nt;L.eTag=Nt&&Nt.eTag;const dn=yield ge.client.fetch(L),Mn=[ge.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===dn.status&&Mn.push(ge.storage.setLastSuccessfulFetchResponse(dn)),yield Promise.all(Mn),dn})()}}function et(S=navigator){return S.languages&&S.languages[0]||S.language}class tt{constructor(L,ge,ut,Nt,dn,Mn){this.firebaseInstallations=L,this.sdkVersion=ge,this.namespace=ut,this.projectId=Nt,this.apiKey=dn,this.appId=Mn}fetch(L){var ge=this;return(0,be.Z)(function*(){const[ut,Nt]=yield Promise.all([ge.firebaseInstallations.getId(),ge.firebaseInstallations.getToken()]),Mn=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${ge.projectId}/namespaces/${ge.namespace}:fetch?key=${ge.apiKey}`,li={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":L.eTag||"*"},ci={sdk_version:ge.sdkVersion,app_instance_id:ut,app_instance_id_token:Nt,app_id:ge.appId,language_code:et()},mi={method:"POST",headers:li,body:JSON.stringify(ci)},vi=fetch(Mn,mi),ri=new Promise((Ms,io)=>{L.signal.addEventListener(()=>{const Ko=new Error("The operation was aborted.");Ko.name="AbortError",io(Ko)})});let ts;try{yield Promise.race([vi,ri]),ts=yield vi}catch(Ms){let io="fetch-client-network";throw"AbortError"===(null==Ms?void 0:Ms.name)&&(io="fetch-timeout"),lt.create(io,{originalErrorMessage:null==Ms?void 0:Ms.message})}let Js=ts.status;const As=ts.headers.get("ETag")||void 0;let xs,Ei;if(200===ts.status){let Ms;try{Ms=yield ts.json()}catch(io){throw lt.create("fetch-client-parse",{originalErrorMessage:null==io?void 0:io.message})}xs=Ms.entries,Ei=Ms.state}if("INSTANCE_STATE_UNSPECIFIED"===Ei?Js=500:"NO_CHANGE"===Ei?Js=304:("NO_TEMPLATE"===Ei||"EMPTY_CONFIG"===Ei)&&(xs={}),304!==Js&&200!==Js)throw lt.create("fetch-status",{httpStatus:Js});return{status:Js,eTag:As,config:xs}})()}}class Ot{constructor(L,ge){this.client=L,this.storage=ge}fetch(L){var ge=this;return(0,be.Z)(function*(){const ut=(yield ge.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return ge.attemptFetch(L,ut)})()}attemptFetch(L,{throttleEndTimeMillis:ge,backoffCount:ut}){var Nt=this;return(0,be.Z)(function*(){yield function dt(S,L){return new Promise((ge,ut)=>{const Nt=Math.max(L-Date.now(),0),dn=setTimeout(ge,Nt);S.addEventListener(()=>{clearTimeout(dn),ut(lt.create("fetch-throttle",{throttleEndTimeMillis:L}))})})}(L.signal,ge);try{const dn=yield Nt.client.fetch(L);return yield Nt.storage.deleteThrottleMetadata(),dn}catch(dn){if(!function Ut(S){if(!(S instanceof qe.ZR&&S.customData))return!1;const L=Number(S.customData.httpStatus);return 429===L||500===L||503===L||504===L}(dn))throw dn;const Mn={throttleEndTimeMillis:Date.now()+(0,qe.$s)(ut),backoffCount:ut+1};return yield Nt.storage.setThrottleMetadata(Mn),Nt.attemptFetch(L,Mn)}})()}}class On{constructor(L,ge,ut,Nt,dn){this.app=L,this._client=ge,this._storageCache=ut,this._storage=Nt,this._logger=dn,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function nn(S,L){const ge=S.target.error||void 0;return lt.create(L,{originalErrorMessage:ge&&(null==ge?void 0:ge.message)})}const _t="app_namespace_store";class tr{constructor(L,ge,ut,Nt=function Zn(){return new Promise((S,L)=>{try{const ge=indexedDB.open("firebase_remote_config",1);ge.onerror=ut=>{L(nn(ut,"storage-open"))},ge.onsuccess=ut=>{S(ut.target.result)},ge.onupgradeneeded=ut=>{0===ut.oldVersion&&ut.target.result.createObjectStore(_t,{keyPath:"compositeKey"})}}catch(ge){L(lt.create("storage-open",{originalErrorMessage:null==ge?void 0:ge.message}))}})}()){this.appId=L,this.appName=ge,this.namespace=ut,this.openDbPromise=Nt}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(L){return this.set("last_fetch_status",L)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(L){return this.set("last_successful_fetch_timestamp_millis",L)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(L){return this.set("last_successful_fetch_response",L)}getActiveConfig(){return this.get("active_config")}setActiveConfig(L){return this.set("active_config",L)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(L){return this.set("active_config_etag",L)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(L){return this.set("throttle_metadata",L)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(L){var ge=this;return(0,be.Z)(function*(){const ut=yield ge.openDbPromise;return new Promise((Nt,dn)=>{const li=ut.transaction([_t],"readonly").objectStore(_t),ci=ge.createCompositeKey(L);try{const mi=li.get(ci);mi.onerror=vi=>{dn(nn(vi,"storage-get"))},mi.onsuccess=vi=>{const ri=vi.target.result;Nt(ri?ri.value:void 0)}}catch(mi){dn(lt.create("storage-get",{originalErrorMessage:null==mi?void 0:mi.message}))}})})()}set(L,ge){var ut=this;return(0,be.Z)(function*(){const Nt=yield ut.openDbPromise;return new Promise((dn,Mn)=>{const ci=Nt.transaction([_t],"readwrite").objectStore(_t),mi=ut.createCompositeKey(L);try{const vi=ci.put({compositeKey:mi,value:ge});vi.onerror=ri=>{Mn(nn(ri,"storage-set"))},vi.onsuccess=()=>{dn()}}catch(vi){Mn(lt.create("storage-set",{originalErrorMessage:null==vi?void 0:vi.message}))}})})()}delete(L){var ge=this;return(0,be.Z)(function*(){const ut=yield ge.openDbPromise;return new Promise((Nt,dn)=>{const li=ut.transaction([_t],"readwrite").objectStore(_t),ci=ge.createCompositeKey(L);try{const mi=li.delete(ci);mi.onerror=vi=>{dn(nn(vi,"storage-delete"))},mi.onsuccess=()=>{Nt()}}catch(mi){dn(lt.create("storage-delete",{originalErrorMessage:null==mi?void 0:mi.message}))}})})()}createCompositeKey(L){return[this.appId,this.appName,this.namespace,L].join()}}class ur{constructor(L){this.storage=L}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var L=this;return(0,be.Z)(function*(){const ge=L.storage.getLastFetchStatus(),ut=L.storage.getLastSuccessfulFetchTimestampMillis(),Nt=L.storage.getActiveConfig(),dn=yield ge;dn&&(L.lastFetchStatus=dn);const Mn=yield ut;Mn&&(L.lastSuccessfulFetchTimestampMillis=Mn);const li=yield Nt;li&&(L.activeConfig=li)})()}setLastFetchStatus(L){return this.lastFetchStatus=L,this.storage.setLastFetchStatus(L)}setLastSuccessfulFetchTimestampMillis(L){return this.lastSuccessfulFetchTimestampMillis=L,this.storage.setLastSuccessfulFetchTimestampMillis(L)}setActiveConfig(L){return this.activeConfig=L,this.storage.setActiveConfig(L)}}function Pr(){return Br.apply(this,arguments)}function Br(){return(Br=(0,be.Z)(function*(){if(!(0,qe.hl)())return!1;try{return yield(0,qe.eu)()}catch{return!1}})).apply(this,arguments)}!function un(){(0,ke._registerComponent)(new je.wA("remote-config",function S(L,{instanceIdentifier:ge}){const ut=L.getProvider("app").getImmediate(),Nt=L.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw lt.create("registration-window");if(!(0,qe.hl)())throw lt.create("indexed-db-unavailable");const{projectId:dn,apiKey:Mn,appId:li}=ut.options;if(!dn)throw lt.create("registration-project-id");if(!Mn)throw lt.create("registration-api-key");if(!li)throw lt.create("registration-app-id");const ci=new tr(li,ut.name,ge=ge||"firebase"),mi=new ur(ci),vi=new Se.Yd(Ze);vi.logLevel=Se.in.ERROR;const ri=new tt(Nt,ke.SDK_VERSION,ge,dn,Mn,li),ts=new Ot(ri,ci),Js=new yt(ts,ci,mi,vi),As=new On(ut,Js,mi,ci,vi);return function Ct(S){const L=(0,qe.m9)(S);L._initializePromise||(L._initializePromise=L._storageCache.loadFromStorage().then(()=>{L._isInitializationComplete=!0}))}(As),As},"PUBLIC").setMultipleInstances(!0)),(0,ke.registerVersion)(Ze,"0.4.4"),(0,ke.registerVersion)(Ze,"0.4.4","esm2017")}();const Ar=(S,L)=>L.some(ge=>S instanceof ge);let Pn,oi;const Ai=new WeakMap,bi=new WeakMap,lr=new WeakMap,ir=new WeakMap,mr=new WeakMap;let ni={get(S,L,ge){if(S instanceof IDBTransaction){if("done"===L)return bi.get(S);if("objectStoreNames"===L)return S.objectStoreNames||lr.get(S);if("store"===L)return ge.objectStoreNames[1]?void 0:ge.objectStore(ge.objectStoreNames[0])}return hr(S[L])},set:(S,L,ge)=>(S[L]=ge,!0),has:(S,L)=>S instanceof IDBTransaction&&("done"===L||"store"===L)||L in S};function br(S){return"function"==typeof S?function Ti(S){return S!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function ar(){return oi||(oi=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(S)?function(...L){return S.apply(Di(this),L),hr(Ai.get(this))}:function(...L){return hr(S.apply(Di(this),L))}:function(L,...ge){const ut=S.call(Di(this),L,...ge);return lr.set(ut,L.sort?L.sort():[L]),hr(ut)}}(S):(S instanceof IDBTransaction&&function gi(S){if(bi.has(S))return;const L=new Promise((ge,ut)=>{const Nt=()=>{S.removeEventListener("complete",dn),S.removeEventListener("error",Mn),S.removeEventListener("abort",Mn)},dn=()=>{ge(),Nt()},Mn=()=>{ut(S.error||new DOMException("AbortError","AbortError")),Nt()};S.addEventListener("complete",dn),S.addEventListener("error",Mn),S.addEventListener("abort",Mn)});bi.set(S,L)}(S),Ar(S,function Wr(){return Pn||(Pn=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(S,ni):S)}function hr(S){if(S instanceof IDBRequest)return function ui(S){const L=new Promise((ge,ut)=>{const Nt=()=>{S.removeEventListener("success",dn),S.removeEventListener("error",Mn)},dn=()=>{ge(hr(S.result)),Nt()},Mn=()=>{ut(S.error),Nt()};S.addEventListener("success",dn),S.addEventListener("error",Mn)});return L.then(ge=>{ge instanceof IDBCursor&&Ai.set(ge,S)}).catch(()=>{}),mr.set(L,S),L}(S);if(ir.has(S))return ir.get(S);const L=br(S);return L!==S&&(ir.set(S,L),mr.set(L,S)),L}const Di=S=>mr.get(S);function Er(S,L,{blocked:ge,upgrade:ut,blocking:Nt,terminated:dn}={}){const Mn=indexedDB.open(S,L),li=hr(Mn);return ut&&Mn.addEventListener("upgradeneeded",ci=>{ut(hr(Mn.result),ci.oldVersion,ci.newVersion,hr(Mn.transaction))}),ge&&Mn.addEventListener("blocked",()=>ge()),li.then(ci=>{dn&&ci.addEventListener("close",()=>dn()),Nt&&ci.addEventListener("versionchange",()=>Nt())}).catch(()=>{}),li}function Sn(S,{blocked:L}={}){const ge=indexedDB.deleteDatabase(S);return L&&ge.addEventListener("blocked",()=>L()),hr(ge).then(()=>{})}const Ne=["get","getKey","getAll","getAllKeys","count"],ht=["put","add","delete","clear"],Wt=new Map;function wn(S,L){if(!(S instanceof IDBDatabase)||L in S||"string"!=typeof L)return;if(Wt.get(L))return Wt.get(L);const ge=L.replace(/FromIndex$/,""),ut=L!==ge,Nt=ht.includes(ge);if(!(ge in(ut?IDBIndex:IDBObjectStore).prototype)||!Nt&&!Ne.includes(ge))return;const dn=function(){var Mn=(0,be.Z)(function*(li,...ci){const mi=this.transaction(li,Nt?"readwrite":"readonly");let vi=mi.store;return ut&&(vi=vi.index(ci.shift())),(yield Promise.all([vi[ge](...ci),Nt&&mi.done]))[0]});return function(ci){return Mn.apply(this,arguments)}}();return Wt.set(L,dn),dn}!function di(S){ni=S(ni)}(S=>({...S,get:(L,ge,ut)=>wn(L,ge)||S.get(L,ge,ut),has:(L,ge)=>!!wn(L,ge)||S.has(L,ge)}));const Hn="/firebase-messaging-sw.js",jr="/firebase-cloud-messaging-push-scope",kr="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Rr="https://fcmregistrations.googleapis.com/v1",mt="google.c.a.c_id",Ae="google.c.a.c_l",ie="google.c.a.ts";var Ke=(()=>((Ke=Ke||{}).PUSH_RECEIVED="push-received",Ke.NOTIFICATION_CLICKED="notification-clicked",Ke))();function xt(S){const L=new Uint8Array(S);return btoa(String.fromCharCode(...L)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function rt(S){const ge=(S+"=".repeat((4-S.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),ut=atob(ge),Nt=new Uint8Array(ut.length);for(let dn=0;dn<ut.length;++dn)Nt[dn]=ut.charCodeAt(dn);return Nt}const Vt="fcm_token_details_db",Jt=5,Cn="fcm_token_object_Store";function $n(){return $n=(0,be.Z)(function*(S){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(dn=>dn.name).includes(Vt))return null;let L=null;return(yield Er(Vt,Jt,{upgrade:(ut=(0,be.Z)(function*(Nt,dn,Mn,li){var ci;if(dn<2||!Nt.objectStoreNames.contains(Cn))return;const mi=li.objectStore(Cn),vi=yield mi.index("fcmSenderId").get(S);if(yield mi.clear(),vi)if(2===dn){const ri=vi;if(!ri.auth||!ri.p256dh||!ri.endpoint)return;L={token:ri.fcmToken,createTime:null!==(ci=ri.createTime)&&void 0!==ci?ci:Date.now(),subscriptionOptions:{auth:ri.auth,p256dh:ri.p256dh,endpoint:ri.endpoint,swScope:ri.swScope,vapidKey:"string"==typeof ri.vapidKey?ri.vapidKey:xt(ri.vapidKey)}}}else if(3===dn){const ri=vi;L={token:ri.fcmToken,createTime:ri.createTime,subscriptionOptions:{auth:xt(ri.auth),p256dh:xt(ri.p256dh),endpoint:ri.endpoint,swScope:ri.swScope,vapidKey:xt(ri.vapidKey)}}}else if(4===dn){const ri=vi;L={token:ri.fcmToken,createTime:ri.createTime,subscriptionOptions:{auth:xt(ri.auth),p256dh:xt(ri.p256dh),endpoint:ri.endpoint,swScope:ri.swScope,vapidKey:xt(ri.vapidKey)}}}}),function(dn,Mn,li,ci){return ut.apply(this,arguments)})})).close(),yield Sn(Vt),yield Sn("fcm_vapid_details_db"),yield Sn("undefined"),function ln(S){if(!S||!S.subscriptionOptions)return!1;const{subscriptionOptions:L}=S;return"number"==typeof S.createTime&&S.createTime>0&&"string"==typeof S.token&&S.token.length>0&&"string"==typeof L.auth&&L.auth.length>0&&"string"==typeof L.p256dh&&L.p256dh.length>0&&"string"==typeof L.endpoint&&L.endpoint.length>0&&"string"==typeof L.swScope&&L.swScope.length>0&&"string"==typeof L.vapidKey&&L.vapidKey.length>0}(L)?L:null;var ut}),$n.apply(this,arguments)}const yn="firebase-messaging-database",kn=1,Bt="firebase-messaging-store";let Kt=null;function fn(){return Kt||(Kt=Er(yn,kn,{upgrade:(S,L)=>{0===L&&S.createObjectStore(Bt)}})),Kt}function qn(S){return pr.apply(this,arguments)}function pr(){return pr=(0,be.Z)(function*(S){const L=Ur(S),ut=yield(yield fn()).transaction(Bt).objectStore(Bt).get(L);if(ut)return ut;{const Nt=yield function vn(S){return $n.apply(this,arguments)}(S.appConfig.senderId);if(Nt)return yield Dr(S,Nt),Nt}}),pr.apply(this,arguments)}function Dr(S,L){return $r.apply(this,arguments)}function $r(){return($r=(0,be.Z)(function*(S,L){const ge=Ur(S),Nt=(yield fn()).transaction(Bt,"readwrite");return yield Nt.objectStore(Bt).put(L,ge),yield Nt.done,L})).apply(this,arguments)}function Xr(){return(Xr=(0,be.Z)(function*(S){const L=Ur(S),ut=(yield fn()).transaction(Bt,"readwrite");yield ut.objectStore(Bt).delete(L),yield ut.done})).apply(this,arguments)}function Ur({appConfig:S}){return S.appId}const ls=new qe.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Os(S,L){return to.apply(this,arguments)}function to(){return(to=(0,be.Z)(function*(S,L){const ge=yield zs(S),ut=Ns(L),Nt={method:"POST",headers:ge,body:JSON.stringify(ut)};let dn;try{dn=yield(yield fetch(Hi(S.appConfig),Nt)).json()}catch(Mn){throw ls.create("token-subscribe-failed",{errorInfo:null==Mn?void 0:Mn.toString()})}if(dn.error)throw ls.create("token-subscribe-failed",{errorInfo:dn.error.message});if(!dn.token)throw ls.create("token-subscribe-no-token");return dn.token})).apply(this,arguments)}function cs(){return(cs=(0,be.Z)(function*(S,L){const ge=yield zs(S),ut=Ns(L.subscriptionOptions),Nt={method:"PATCH",headers:ge,body:JSON.stringify(ut)};let dn;try{dn=yield(yield fetch(`${Hi(S.appConfig)}/${L.token}`,Nt)).json()}catch(Mn){throw ls.create("token-update-failed",{errorInfo:null==Mn?void 0:Mn.toString()})}if(dn.error)throw ls.create("token-update-failed",{errorInfo:dn.error.message});if(!dn.token)throw ls.create("token-update-no-token");return dn.token})).apply(this,arguments)}function Eo(S,L){return es.apply(this,arguments)}function es(){return(es=(0,be.Z)(function*(S,L){const ut={method:"DELETE",headers:yield zs(S)};try{const dn=yield(yield fetch(`${Hi(S.appConfig)}/${L}`,ut)).json();if(dn.error)throw ls.create("token-unsubscribe-failed",{errorInfo:dn.error.message})}catch(Nt){throw ls.create("token-unsubscribe-failed",{errorInfo:null==Nt?void 0:Nt.toString()})}})).apply(this,arguments)}function Hi({projectId:S}){return`${Rr}/projects/${S}/registrations`}function zs(S){return ks.apply(this,arguments)}function ks(){return(ks=(0,be.Z)(function*({appConfig:S,installations:L}){const ge=yield L.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":S.apiKey,"x-goog-firebase-installations-auth":`FIS ${ge}`})})).apply(this,arguments)}function Ns({p256dh:S,auth:L,endpoint:ge,vapidKey:ut}){const Nt={web:{endpoint:ge,auth:L,p256dh:S}};return ut!==kr&&(Nt.web.applicationPubKey=ut),Nt}const Fs=6048e5;function pe(){return pe=(0,be.Z)(function*(S){const L=yield function $t(S,L){return tn.apply(this,arguments)}(S.swRegistration,S.vapidKey),ge={vapidKey:S.vapidKey,swScope:S.swRegistration.scope,endpoint:L.endpoint,auth:xt(L.getKey("auth")),p256dh:xt(L.getKey("p256dh"))},ut=yield qn(S.firebaseDependencies);if(ut){if(function Un(S,L){return L.vapidKey===S.vapidKey&&L.endpoint===S.endpoint&&L.auth===S.auth&&L.p256dh===S.p256dh}(ut.subscriptionOptions,ge))return Date.now()>=ut.createTime+Fs?function ne(S,L){return ve.apply(this,arguments)}(S,{token:ut.token,createTime:Date.now(),subscriptionOptions:ge}):ut.token;try{yield Eo(S.firebaseDependencies,ut.token)}catch(Nt){console.warn(Nt)}return st(S.firebaseDependencies,ge)}return st(S.firebaseDependencies,ge)}),pe.apply(this,arguments)}function Ee(){return Ee=(0,be.Z)(function*(S){const L=yield qn(S.firebaseDependencies);L&&(yield Eo(S.firebaseDependencies,L.token),yield function Fi(S){return Xr.apply(this,arguments)}(S.firebaseDependencies));const ge=yield S.swRegistration.pushManager.getSubscription();return!ge||ge.unsubscribe()}),Ee.apply(this,arguments)}function ve(){return ve=(0,be.Z)(function*(S,L){try{const ge=yield function ps(S,L){return cs.apply(this,arguments)}(S.firebaseDependencies,L),ut=Object.assign(Object.assign({},L),{token:ge,createTime:Date.now()});return yield Dr(S.firebaseDependencies,ut),ge}catch(ge){throw yield function Oe(S){return Ee.apply(this,arguments)}(S),ge}}),ve.apply(this,arguments)}function st(S,L){return wt.apply(this,arguments)}function wt(){return(wt=(0,be.Z)(function*(S,L){const ut={token:yield Os(S,L),createTime:Date.now(),subscriptionOptions:L};return yield Dr(S,ut),ut.token})).apply(this,arguments)}function tn(){return(tn=(0,be.Z)(function*(S,L){return(yield S.pushManager.getSubscription())||S.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:rt(L)})})).apply(this,arguments)}function jn(S){const L={from:S.from,collapseKey:S.collapse_key,messageId:S.fcmMessageId};return function Nr(S,L){if(!L.notification)return;S.notification={};const ge=L.notification.title;ge&&(S.notification.title=ge);const ut=L.notification.body;ut&&(S.notification.body=ut);const Nt=L.notification.image;Nt&&(S.notification.image=Nt);const dn=L.notification.icon;dn&&(S.notification.icon=dn)}(L,S),function Kr(S,L){L.data&&(S.data=L.data)}(L,S),function gs(S,L){var ge,ut,Nt,dn,Mn;if(!(L.fcmOptions||null!==(ge=L.notification)&&void 0!==ge&&ge.click_action))return;S.fcmOptions={};const li=null!==(Nt=null===(ut=L.fcmOptions)||void 0===ut?void 0:ut.link)&&void 0!==Nt?Nt:null===(dn=L.notification)||void 0===dn?void 0:dn.click_action;li&&(S.fcmOptions.link=li);const ci=null===(Mn=L.fcmOptions)||void 0===Mn?void 0:Mn.analytics_label;ci&&(S.fcmOptions.analyticsLabel=ci)}(L,S),L}function Si(S,L){const ge=[];for(let ut=0;ut<S.length;ut++)ge.push(S.charAt(ut)),ut<L.length&&ge.push(L.charAt(ut));return ge.join("")}function An(S){return ls.create("missing-app-config-values",{valueName:S})}Si("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Si("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Fr{constructor(L,ge,ut){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const Nt=function Mr(S){if(!S||!S.options)throw An("App Configuration Object");if(!S.name)throw An("App Name");const L=["projectId","apiKey","appId","messagingSenderId"],{options:ge}=S;for(const ut of L)if(!ge[ut])throw An(ut);return{appName:S.name,projectId:ge.projectId,apiKey:ge.apiKey,appId:ge.appId,senderId:ge.messagingSenderId}}(L);this.firebaseDependencies={app:L,appConfig:Nt,installations:ge,analyticsProvider:ut}}_delete(){return Promise.resolve()}}function Ds(){return(Ds=(0,be.Z)(function*(S){try{S.swRegistration=yield navigator.serviceWorker.register(Hn,{scope:jr}),S.swRegistration.update().catch(()=>{})}catch(L){throw ls.create("failed-service-worker-registration",{browserErrorMessage:null==L?void 0:L.message})}})).apply(this,arguments)}function is(){return(is=(0,be.Z)(function*(S,L){if(!L&&!S.swRegistration&&(yield function Lr(S){return Ds.apply(this,arguments)}(S)),L||!S.swRegistration){if(!(L instanceof ServiceWorkerRegistration))throw ls.create("invalid-sw-registration");S.swRegistration=L}})).apply(this,arguments)}function Qr(){return(Qr=(0,be.Z)(function*(S,L){L?S.vapidKey=L:S.vapidKey||(S.vapidKey=kr)})).apply(this,arguments)}function zi(){return zi=(0,be.Z)(function*(S,L){if(!navigator)throw ls.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw ls.create("permission-blocked");return yield function wo(S,L){return Qr.apply(this,arguments)}(S,null==L?void 0:L.vapidKey),yield function Ao(S,L){return is.apply(this,arguments)}(S,null==L?void 0:L.serviceWorkerRegistration),function re(S){return pe.apply(this,arguments)}(S)}),zi.apply(this,arguments)}function ao(){return(ao=(0,be.Z)(function*(S,L,ge){const ut=function ms(S){switch(S){case Ke.NOTIFICATION_CLICKED:return"notification_open";case Ke.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(L);(yield S.firebaseDependencies.analyticsProvider.get()).logEvent(ut,{message_id:ge[mt],message_name:ge[Ae],message_time:ge[ie],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Qi(){return Qi=(0,be.Z)(function*(S,L){const ge=L.data;if(!ge.isFirebaseMessaging)return;S.onMessageHandler&&ge.messageType===Ke.PUSH_RECEIVED&&("function"==typeof S.onMessageHandler?S.onMessageHandler(jn(ge)):S.onMessageHandler.next(jn(ge)));const ut=ge.data;(function Xi(S){return"object"==typeof S&&!!S&&mt in S})(ut)&&"1"===ut["google.c.a.e"]&&(yield function Yr(S,L,ge){return ao.apply(this,arguments)}(S,ge.messageType,ut))}),Qi.apply(this,arguments)}const no="@firebase/messaging",Qs=S=>{const L=new Fr(S.getProvider("app").getImmediate(),S.getProvider("installations-internal").getImmediate(),S.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",ge=>function Ni(S,L){return Qi.apply(this,arguments)}(L,ge)),L},Io=S=>{const L=S.getProvider("messaging").getImmediate();return{getToken:ut=>function zr(S,L){return zi.apply(this,arguments)}(L,ut)}};function Hs(){return lo.apply(this,arguments)}function lo(){return(lo=(0,be.Z)(function*(){try{yield(0,qe.eu)()}catch{return!1}return typeof window<"u"&&(0,qe.hl)()&&(0,qe.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Co(){(0,ke._registerComponent)(new je.wA("messaging",Qs,"PUBLIC")),(0,ke._registerComponent)(new je.wA("messaging-internal",Io,"PRIVATE")),(0,ke.registerVersion)(no,"0.12.4"),(0,ke.registerVersion)(no,"0.12.4","esm2017")}();var qs=z(5132),Ls=z(4408),Do=z(7565);const ki=new class ro extends Do.v{}(class vs extends Ls.o{constructor(L,ge){super(L,ge),this.scheduler=L,this.work=ge}schedule(L,ge=0){return ge>0?super.schedule(L,ge):(this.delay=ge,this.state=L,this.scheduler.flush(this),this)}execute(L,ge){return ge>0||this.closed?super.execute(L,ge):this._execute(L,ge)}requestAsyncId(L,ge,ut=0){return null!=ut&&ut>0||null==ut&&this.delay>0?super.requestAsyncId(L,ge,ut):(L.flush(this),0)}});var No=z(4986),uo=z(9751),So=z(8505),po=z(5363),Go=z(9468);const go=new d.GfV("7.6.1"),Ts="__angularfire_symbol__analyticsIsSupportedValue",xo="__angularfire_symbol__analyticsIsSupported",us="__angularfire_symbol__remoteConfigIsSupportedValue",Mo="__angularfire_symbol__remoteConfigIsSupported",To="__angularfire_symbol__messagingIsSupportedValue",Bo="__angularfire_symbol__messagingIsSupported";globalThis[xo]||(globalThis[xo]=(0,qs.Gb)().then(S=>globalThis[Ts]=S).catch(()=>globalThis[Ts]=!1)),globalThis[Bo]||(globalThis[Bo]=Hs().then(S=>globalThis[To]=S).catch(()=>globalThis[To]=!1)),globalThis[Mo]||(globalThis[Mo]=Pr().then(S=>globalThis[us]=S).catch(()=>globalThis[us]=!1));const N={async:()=>globalThis[xo],sync:()=>{const S=globalThis[Ts];if(void 0===S)throw new Error((S=>`The APP_INITIALIZER that is "making" isSupported() sync for the sake of convenient DI has not resolved in this\ncontext. Rather than injecting ${S} in the constructor, first ensure that ${S} is supported by calling\n\`await isSupported()\`, then retrieve the instance from the injector manually \`injector.get(${S})\`.`)("Analytics"));return S}};function le(S,L,ge){if(L){if(1===L.length)return L[0];const dn=L.filter(Mn=>Mn.app===ge);if(1===dn.length)return dn[0]}return ge.container.getProvider(S).getImmediate({optional:!0})}const Ge=(S,L)=>{const ge=L?[L]:(0,E.C6)(),ut=[];return ge.forEach(Nt=>{Nt.container.getProvider(S).instances.forEach(Mn=>{ut.includes(Mn)||ut.push(Mn)})}),ut};function _n(){}class Sr{constructor(L,ge=ki){this.zone=L,this.delegate=ge}now(){return this.delegate.now()}schedule(L,ge,ut){const Nt=this.zone;return this.delegate.schedule(function(Mn){Nt.runGuarded(()=>{L.apply(this,[Mn])})},ge,ut)}}class Gn{constructor(L){this.zone=L,this.task=null}call(L,ge){const ut=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",_n,{},_n,_n)),ge.pipe((0,So.b)({next:ut,complete:ut,error:ut})).subscribe(L).add(ut)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let ai=(()=>{class S{constructor(ge){this.ngZone=ge,this.outsideAngular=ge.runOutsideAngular(()=>new Sr(Zone.current)),this.insideAngular=ge.run(()=>new Sr(Zone.current,No.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return S.\u0275fac=function(ge){return new(ge||S)(d.LFG(d.R0b))},S.\u0275prov=d.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"}),S})();function hi(){const S=globalThis.\u0275AngularFireScheduler;if(!S)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return S}function Pi(S){return hi().ngZone.run(()=>S())}function Bs(S){return S.pipe((0,po.Q)(hi().outsideAngular))}function _e(S){return hi(),function ce(S){return function(ge){return(ge=ge.lift(new Gn(S.ngZone))).pipe((0,Go.R)(S.outsideAngular),(0,po.Q)(S.insideAngular))}}(hi())(S)}const $=(S,L)=>function(){const ut=arguments;return L&&setTimeout(()=>{"scheduled"===L.state&&L.invoke()},10),Pi(()=>S.apply(void 0,ut))},F=(S,L)=>function(){let ge;const ut=arguments;for(let dn=0;dn<arguments.length;dn++)"function"==typeof ut[dn]&&(L&&(ge||(ge=Pi(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",_n,{},_n,_n)))),ut[dn]=$(ut[dn],ge));const Nt=function ws(S){return hi().ngZone.runOutsideAngular(()=>S())}(()=>S.apply(this,ut));if(!L){if(Nt instanceof uo.y){const dn=hi();return Nt.pipe((0,Go.R)(dn.outsideAngular),(0,po.Q)(dn.insideAngular))}return Pi(()=>Nt)}return Nt instanceof uo.y?Nt.pipe(_e):Nt instanceof Promise?Pi(()=>new Promise((dn,Mn)=>Nt.then(li=>Pi(()=>dn(li)),li=>Pi(()=>Mn(li))))):"function"==typeof Nt&&ge?function(){return setTimeout(()=>{ge&&"scheduled"===ge.state&&ge.invoke()},10),Nt.apply(this,arguments)}:Pi(()=>Nt)}},1389:(Jn,Ft,z)=>{"use strict";z.d(Ft,{$:()=>hi,A:()=>xe,D:()=>lt,I:()=>Fs,J:()=>ne,L:()=>Ni,N:()=>kr,P:()=>_,Q:()=>Ss,R:()=>Xe,U:()=>vs,V:()=>Do,W:()=>ro,X:()=>Ls,Y:()=>uo,Z:()=>So,_:()=>xo,a:()=>dl,a0:()=>Pi,a1:()=>Po,a2:()=>F,a3:()=>dn,a4:()=>li,a5:()=>mi,a6:()=>ri,a7:()=>Js,a8:()=>xs,a9:()=>Ms,aA:()=>te,aB:()=>vl,aC:()=>Hn,aD:()=>Rr,aE:()=>$o,aF:()=>Rs,aG:()=>fs,aH:()=>Hi,aL:()=>Wa,aO:()=>Wo,aa:()=>io,ab:()=>mo,ac:()=>oa,ad:()=>na,ae:()=>Gs,af:()=>ba,ai:()=>Z,aj:()=>De,ak:()=>$e,an:()=>$i,ao:()=>Ps,aq:()=>ds,ar:()=>ii,as:()=>Dt,at:()=>Jt,au:()=>xt,av:()=>ft,aw:()=>ic,ax:()=>Ql,ay:()=>Cn,az:()=>It,b:()=>wa,c:()=>Et,d:()=>En,e:()=>Zt,f:()=>wr,g:()=>vo,h:()=>Ki,i:()=>Ji,j:()=>Ca,k:()=>$c,l:()=>Mi,m:()=>dh,o:()=>Hl,p:()=>Re,r:()=>ko,s:()=>Tn,u:()=>c});var d=z(5861),E=z(2090),be=z(6881),ke=z(655),qe=z(1877),je=z(4859);const Re={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},xe={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const lt=function it(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend."}},pt=function Me(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},jt=new E.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Be=new qe.Yd("@firebase/auth");function Mt(U,...C){Be.logLevel<=qe.in.ERROR&&Be.error(`Auth (${be.SDK_VERSION}): ${U}`,...C)}function ft(U,...C){throw gt(U,...C)}function It(U,...C){return gt(U,...C)}function St(U,C,x){const W=Object.assign(Object.assign({},pt()),{[C]:x});return new E.LL("auth","Firebase",W).create(C,{appName:U.name})}function Ct(U,C,x){if(!(C instanceof x))throw x.name!==C.constructor.name&&ft(U,"argument-error"),St(U,"argument-error",`Type of ${C.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function gt(U,...C){if("string"!=typeof U){const x=C[0],W=[...C.slice(1)];return W[0]&&(W[0].appName=U.name),U._errorFactory.create(x,...W)}return jt.create(U,...C)}function te(U,C,...x){if(!U)throw gt(C,...x)}function Gt(U){const C="INTERNAL ASSERTION FAILED: "+U;throw Mt(C),new Error(C)}function Dt(U,C){U||Gt(C)}function Lt(){var U;return typeof self<"u"&&(null===(U=self.location)||void 0===U?void 0:U.href)||""}function qt(){return"http:"===Te()||"https:"===Te()}function Te(){var U;return typeof self<"u"&&(null===(U=self.location)||void 0===U?void 0:U.protocol)||null}class yt{constructor(C,x){this.shortDelay=C,this.longDelay=x,Dt(x>C,"Short delay should be less than long delay!"),this.isMobile=(0,E.uI)()||(0,E.b$)()}get(){return function Je(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(qt()||(0,E.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function et(U,C){Dt(U.emulator,"Emulator should always be set here");const{url:x}=U.emulator;return C?`${x}${C.startsWith("/")?C.slice(1):C}`:x}class tt{static initialize(C,x,W){this.fetchImpl=C,x&&(this.headersImpl=x),W&&(this.responseImpl=W)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void Gt("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void Gt("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void Gt("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const dt={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Ut=new yt(3e4,6e4);function Ot(U,C){return U.tenantId&&!C.tenantId?Object.assign(Object.assign({},C),{tenantId:U.tenantId}):C}function en(U,C,x,W){return rn.apply(this,arguments)}function rn(){return(rn=(0,d.Z)(function*(U,C,x,W,Ie={}){return On(U,Ie,(0,d.Z)(function*(){let He={},on={};W&&("GET"===C?on=W:He={body:JSON.stringify(W)});const xn=(0,E.xO)(Object.assign({key:U.config.apiKey},on)).slice(1),_r=yield U._getAdditionalHeaders();return _r["Content-Type"]="application/json",U.languageCode&&(_r["X-Firebase-Locale"]=U.languageCode),tt.fetch()(gn(U,U.config.apiHost,x,xn),Object.assign({method:C,headers:_r,referrerPolicy:"no-referrer"},He))}))})).apply(this,arguments)}function On(U,C,x){return nn.apply(this,arguments)}function nn(){return(nn=(0,d.Z)(function*(U,C,x){U._canInitEmulator=!1;const W=Object.assign(Object.assign({},dt),C);try{const Ie=new Zn(U),He=yield Promise.race([x(),Ie.promise]);Ie.clearNetworkTimeout();const on=yield He.json();if("needConfirmation"in on)throw tr(U,"account-exists-with-different-credential",on);if(He.ok&&!("errorMessage"in on))return on;{const xn=He.ok?on.errorMessage:on.error.message,[_r,si]=xn.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===_r)throw tr(U,"credential-already-in-use",on);if("EMAIL_EXISTS"===_r)throw tr(U,"email-already-in-use",on);if("USER_DISABLED"===_r)throw tr(U,"user-disabled",on);const ji=W[_r]||_r.toLowerCase().replace(/[_\s]+/g,"-");if(si)throw St(U,ji,si);ft(U,ji)}}catch(Ie){if(Ie instanceof E.ZR)throw Ie;ft(U,"network-request-failed",{message:String(Ie)})}})).apply(this,arguments)}function _t(U,C,x,W){return cn.apply(this,arguments)}function cn(){return(cn=(0,d.Z)(function*(U,C,x,W,Ie={}){const He=yield en(U,C,x,W,Ie);return"mfaPendingCredential"in He&&ft(U,"multi-factor-auth-required",{_serverResponse:He}),He})).apply(this,arguments)}function gn(U,C,x,W){const Ie=`${C}${x}?${W}`;return U.config.emulator?et(U.config,Ie):`${U.config.apiScheme}://${Ie}`}class Zn{constructor(C){this.auth=C,this.timer=null,this.promise=new Promise((x,W)=>{this.timer=setTimeout(()=>W(It(this.auth,"network-request-failed")),Ut.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function tr(U,C,x){const W={appName:U.name};x.email&&(W.email=x.email),x.phoneNumber&&(W.phoneNumber=x.phoneNumber);const Ie=It(U,C,W);return Ie.customData._tokenResponse=x,Ie}function un(){return(un=(0,d.Z)(function*(U,C){return en(U,"POST","/v1/accounts:delete",C)})).apply(this,arguments)}function an(){return(an=(0,d.Z)(function*(U,C){return en(U,"POST","/v1/accounts:update",C)})).apply(this,arguments)}function Br(){return(Br=(0,d.Z)(function*(U,C){return en(U,"POST","/v1/accounts:lookup",C)})).apply(this,arguments)}function Ar(U){if(U)try{const C=new Date(Number(U));if(!isNaN(C.getTime()))return C.toUTCString()}catch{}}function Wr(){return(Wr=(0,d.Z)(function*(U,C=!1){const x=(0,E.m9)(U),W=yield x.getIdToken(C),Ie=Ai(W);te(Ie&&Ie.exp&&Ie.auth_time&&Ie.iat,x.auth,"internal-error");const He="object"==typeof Ie.firebase?Ie.firebase:void 0,on=null==He?void 0:He.sign_in_provider;return{claims:Ie,token:W,authTime:Ar(ar(Ie.auth_time)),issuedAtTime:Ar(ar(Ie.iat)),expirationTime:Ar(ar(Ie.exp)),signInProvider:on||null,signInSecondFactor:(null==He?void 0:He.sign_in_second_factor)||null}})).apply(this,arguments)}function ar(U){return 1e3*Number(U)}function Ai(U){const[C,x,W]=U.split(".");if(void 0===C||void 0===x||void 0===W)return Mt("JWT malformed, contained fewer than 3 sections"),null;try{const Ie=(0,E.tV)(x);return Ie?JSON.parse(Ie):(Mt("Failed to decode base64 JWT payload"),null)}catch(Ie){return Mt("Caught error parsing JWT payload as JSON",null==Ie?void 0:Ie.toString()),null}}function lr(U,C){return ir.apply(this,arguments)}function ir(){return(ir=(0,d.Z)(function*(U,C,x=!1){if(x)return C;try{return yield C}catch(W){throw W instanceof E.ZR&&function mr({code:U}){return"auth/user-disabled"===U||"auth/user-token-expired"===U}(W)&&U.auth.currentUser===U&&(yield U.auth.signOut()),W}})).apply(this,arguments)}class ui{constructor(C){this.user=C,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(C){var x;if(C){const W=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),W}{this.errorBackoff=3e4;const Ie=(null!==(x=this.user.stsTokenManager.expirationTime)&&void 0!==x?x:0)-Date.now()-3e5;return Math.max(0,Ie)}}schedule(C=!1){var x=this;if(!this.isRunning)return;const W=this.getInterval(C);this.timerId=setTimeout((0,d.Z)(function*(){yield x.iteration()}),W)}iteration(){var C=this;return(0,d.Z)(function*(){try{yield C.user.getIdToken(!0)}catch(x){return void("auth/network-request-failed"===(null==x?void 0:x.code)&&C.schedule(!0))}C.schedule()})()}}class gi{constructor(C,x){this.createdAt=C,this.lastLoginAt=x,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ar(this.lastLoginAt),this.creationTime=Ar(this.createdAt)}_copy(C){this.createdAt=C.createdAt,this.lastLoginAt=C.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function ni(U){return di.apply(this,arguments)}function di(){return di=(0,d.Z)(function*(U){var C;const x=U.auth,W=yield U.getIdToken(),Ie=yield lr(U,function Pr(U,C){return Br.apply(this,arguments)}(x,{idToken:W}));te(null==Ie?void 0:Ie.users.length,x,"internal-error");const He=Ie.users[0];U._notifyReloadListener(He);const on=null!==(C=He.providerUserInfo)&&void 0!==C&&C.length?function Di(U){return U.map(C=>{var{providerId:x}=C,W=(0,ke._T)(C,["providerId"]);return{providerId:x,uid:W.rawId||"",displayName:W.displayName||null,email:W.email||null,phoneNumber:W.phoneNumber||null,photoURL:W.photoUrl||null}})}(He.providerUserInfo):[],xn=function hr(U,C){return[...U.filter(W=>!C.some(Ie=>Ie.providerId===W.providerId)),...C]}(U.providerData,on),ji=!!U.isAnonymous&&!(U.email&&He.passwordHash||null!=xn&&xn.length),Ys={uid:He.localId,displayName:He.displayName||null,photoURL:He.photoUrl||null,email:He.email||null,emailVerified:He.emailVerified||!1,phoneNumber:He.phoneNumber||null,tenantId:He.tenantId||null,providerData:xn,metadata:new gi(He.createdAt,He.lastLoginAt),isAnonymous:ji};Object.assign(U,Ys)}),di.apply(this,arguments)}function br(){return(br=(0,d.Z)(function*(U){const C=(0,E.m9)(U);yield ni(C),yield C.auth._persistUserIfCurrent(C),C.auth._notifyListenersIfCurrent(C)})).apply(this,arguments)}function Sn(){return(Sn=(0,d.Z)(function*(U,C){const x=yield On(U,{},(0,d.Z)(function*(){const W=(0,E.xO)({grant_type:"refresh_token",refresh_token:C}).slice(1),{tokenApiHost:Ie,apiKey:He}=U.config,on=gn(U,Ie,"/v1/token",`key=${He}`),xn=yield U._getAdditionalHeaders();return xn["Content-Type"]="application/x-www-form-urlencoded",tt.fetch()(on,{method:"POST",headers:xn,body:W})}));return{accessToken:x.access_token,expiresIn:x.expires_in,refreshToken:x.refresh_token}})).apply(this,arguments)}class Ne{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(C){te(C.idToken,"internal-error"),te(typeof C.idToken<"u","internal-error"),te(typeof C.refreshToken<"u","internal-error");const x="expiresIn"in C&&typeof C.expiresIn<"u"?Number(C.expiresIn):function bi(U){const C=Ai(U);return te(C,"internal-error"),te(typeof C.exp<"u","internal-error"),te(typeof C.iat<"u","internal-error"),Number(C.exp)-Number(C.iat)}(C.idToken);this.updateTokensAndExpiration(C.idToken,C.refreshToken,x)}getToken(C,x=!1){var W=this;return(0,d.Z)(function*(){return te(!W.accessToken||W.refreshToken,C,"user-token-expired"),x||!W.accessToken||W.isExpired?W.refreshToken?(yield W.refresh(C,W.refreshToken),W.accessToken):null:W.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(C,x){var W=this;return(0,d.Z)(function*(){const{accessToken:Ie,refreshToken:He,expiresIn:on}=yield function Er(U,C){return Sn.apply(this,arguments)}(C,x);W.updateTokensAndExpiration(Ie,He,Number(on))})()}updateTokensAndExpiration(C,x,W){this.refreshToken=x||null,this.accessToken=C||null,this.expirationTime=Date.now()+1e3*W}static fromJSON(C,x){const{refreshToken:W,accessToken:Ie,expirationTime:He}=x,on=new Ne;return W&&(te("string"==typeof W,"internal-error",{appName:C}),on.refreshToken=W),Ie&&(te("string"==typeof Ie,"internal-error",{appName:C}),on.accessToken=Ie),He&&(te("number"==typeof He,"internal-error",{appName:C}),on.expirationTime=He),on}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(C){this.accessToken=C.accessToken,this.refreshToken=C.refreshToken,this.expirationTime=C.expirationTime}_clone(){return Object.assign(new Ne,this.toJSON())}_performRefresh(){return Gt("not implemented")}}function ht(U,C){te("string"==typeof U||typeof U>"u","internal-error",{appName:C})}class Wt{constructor(C){var{uid:x,auth:W,stsTokenManager:Ie}=C,He=(0,ke._T)(C,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ui(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=x,this.auth=W,this.stsTokenManager=Ie,this.accessToken=Ie.accessToken,this.displayName=He.displayName||null,this.email=He.email||null,this.emailVerified=He.emailVerified||!1,this.phoneNumber=He.phoneNumber||null,this.photoURL=He.photoURL||null,this.isAnonymous=He.isAnonymous||!1,this.tenantId=He.tenantId||null,this.providerData=He.providerData?[...He.providerData]:[],this.metadata=new gi(He.createdAt||void 0,He.lastLoginAt||void 0)}getIdToken(C){var x=this;return(0,d.Z)(function*(){const W=yield lr(x,x.stsTokenManager.getToken(x.auth,C));return te(W,x.auth,"internal-error"),x.accessToken!==W&&(x.accessToken=W,yield x.auth._persistUserIfCurrent(x),x.auth._notifyListenersIfCurrent(x)),W})()}getIdTokenResult(C){return function oi(U){return Wr.apply(this,arguments)}(this,C)}reload(){return function Ti(U){return br.apply(this,arguments)}(this)}_assign(C){this!==C&&(te(this.uid===C.uid,this.auth,"internal-error"),this.displayName=C.displayName,this.photoURL=C.photoURL,this.email=C.email,this.emailVerified=C.emailVerified,this.phoneNumber=C.phoneNumber,this.isAnonymous=C.isAnonymous,this.tenantId=C.tenantId,this.providerData=C.providerData.map(x=>Object.assign({},x)),this.metadata._copy(C.metadata),this.stsTokenManager._assign(C.stsTokenManager))}_clone(C){const x=new Wt(Object.assign(Object.assign({},this),{auth:C,stsTokenManager:this.stsTokenManager._clone()}));return x.metadata._copy(this.metadata),x}_onReload(C){te(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=C,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(C){this.reloadListener?this.reloadListener(C):this.reloadUserInfo=C}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(C,x=!1){var W=this;return(0,d.Z)(function*(){let Ie=!1;C.idToken&&C.idToken!==W.stsTokenManager.accessToken&&(W.stsTokenManager.updateFromServerResponse(C),Ie=!0),x&&(yield ni(W)),yield W.auth._persistUserIfCurrent(W),Ie&&W.auth._notifyListenersIfCurrent(W)})()}delete(){var C=this;return(0,d.Z)(function*(){const x=yield C.getIdToken();return yield lr(C,function ur(U,C){return un.apply(this,arguments)}(C.auth,{idToken:x})),C.stsTokenManager.clearRefreshToken(),C.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(C=>Object.assign({},C)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(C,x){var W,Ie,He,on,xn,_r,si,ji;const Ys=null!==(W=x.displayName)&&void 0!==W?W:void 0,nl=null!==(Ie=x.email)&&void 0!==Ie?Ie:void 0,Ol=null!==(He=x.phoneNumber)&&void 0!==He?He:void 0,Hc=null!==(on=x.photoURL)&&void 0!==on?on:void 0,ia=null!==(xn=x.tenantId)&&void 0!==xn?xn:void 0,Wl=null!==(_r=x._redirectEventId)&&void 0!==_r?_r:void 0,ua=null!==(si=x.createdAt)&&void 0!==si?si:void 0,ac=null!==(ji=x.lastLoginAt)&&void 0!==ji?ji:void 0,{uid:Ma,emailVerified:$a,isAnonymous:El,providerData:Wc,stsTokenManager:wl}=x;te(Ma&&wl,C,"internal-error");const hh=Ne.fromJSON(this.name,wl);te("string"==typeof Ma,C,"internal-error"),ht(Ys,C.name),ht(nl,C.name),te("boolean"==typeof $a,C,"internal-error"),te("boolean"==typeof El,C,"internal-error"),ht(Ol,C.name),ht(Hc,C.name),ht(ia,C.name),ht(Wl,C.name),ht(ua,C.name),ht(ac,C.name);const Gc=new Wt({uid:Ma,auth:C,email:nl,emailVerified:$a,displayName:Ys,isAnonymous:El,photoURL:Hc,phoneNumber:Ol,tenantId:ia,stsTokenManager:hh,createdAt:ua,lastLoginAt:ac});return Wc&&Array.isArray(Wc)&&(Gc.providerData=Wc.map(Us=>Object.assign({},Us))),Wl&&(Gc._redirectEventId=Wl),Gc}static _fromIdTokenResponse(C,x,W=!1){return(0,d.Z)(function*(){const Ie=new Ne;Ie.updateFromServerResponse(x);const He=new Wt({uid:x.localId,auth:C,stsTokenManager:Ie,isAnonymous:W});return yield ni(He),He})()}}const wn=new Map;function Hn(U){Dt(U instanceof Function,"Expected a class definition");let C=wn.get(U);return C?(Dt(C instanceof U,"Instance stored in cache mismatched with class"),C):(C=new U,wn.set(U,C),C)}const kr=(()=>{class U{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,d.Z)(function*(){return!0})()}_set(x,W){var Ie=this;return(0,d.Z)(function*(){Ie.storage[x]=W})()}_get(x){var W=this;return(0,d.Z)(function*(){const Ie=W.storage[x];return void 0===Ie?null:Ie})()}_remove(x){var W=this;return(0,d.Z)(function*(){delete W.storage[x]})()}_addListener(x,W){}_removeListener(x,W){}}return U.type="NONE",U})();function Rr(U,C,x){return`firebase:${U}:${C}:${x}`}class mt{constructor(C,x,W){this.persistence=C,this.auth=x,this.userKey=W;const{config:Ie,name:He}=this.auth;this.fullUserKey=Rr(this.userKey,Ie.apiKey,He),this.fullPersistenceKey=Rr("persistence",Ie.apiKey,He),this.boundEventHandler=x._onStorageEvent.bind(x),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(C){return this.persistence._set(this.fullUserKey,C.toJSON())}getCurrentUser(){var C=this;return(0,d.Z)(function*(){const x=yield C.persistence._get(C.fullUserKey);return x?Wt._fromJSON(C.auth,x):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(C){var x=this;return(0,d.Z)(function*(){if(x.persistence===C)return;const W=yield x.getCurrentUser();return yield x.removeCurrentUser(),x.persistence=C,W?x.setCurrentUser(W):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(C,x,W="authUser"){return(0,d.Z)(function*(){if(!x.length)return new mt(Hn(kr),C,W);const Ie=(yield Promise.all(x.map(function(){var si=(0,d.Z)(function*(ji){if(yield ji._isAvailable())return ji});return function(ji){return si.apply(this,arguments)}}()))).filter(si=>si);let He=Ie[0]||Hn(kr);const on=Rr(W,C.config.apiKey,C.name);let xn=null;for(const si of x)try{const ji=yield si._get(on);if(ji){const Ys=Wt._fromJSON(C,ji);si!==He&&(xn=Ys),He=si;break}}catch{}const _r=Ie.filter(si=>si._shouldAllowMigration);return He._shouldAllowMigration&&_r.length?(He=_r[0],xn&&(yield He._set(on,xn.toJSON())),yield Promise.all(x.map(function(){var si=(0,d.Z)(function*(ji){if(ji!==He)try{yield ji._remove(on)}catch{}});return function(ji){return si.apply(this,arguments)}}())),new mt(He,C,W)):new mt(He,C,W)})()}}function Ae(U){const C=U.toLowerCase();if(C.includes("opera/")||C.includes("opr/")||C.includes("opios/"))return"Opera";if(Ke(C))return"IEMobile";if(C.includes("msie")||C.includes("trident/"))return"IE";if(C.includes("edge/"))return"Edge";if(ie(C))return"Firefox";if(C.includes("silk/"))return"Silk";if(rt(C))return"Blackberry";if(Vt(C))return"Webos";if(ee(C))return"Safari";if((C.includes("chrome/")||se(C))&&!C.includes("edge/"))return"Chrome";if(xt(C))return"Android";{const W=U.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==W?void 0:W.length))return W[1]}return"Other"}function ie(U=(0,E.z$)()){return/firefox\//i.test(U)}function ee(U=(0,E.z$)()){const C=U.toLowerCase();return C.includes("safari/")&&!C.includes("chrome/")&&!C.includes("crios/")&&!C.includes("android")}function se(U=(0,E.z$)()){return/crios\//i.test(U)}function Ke(U=(0,E.z$)()){return/iemobile/i.test(U)}function xt(U=(0,E.z$)()){return/android/i.test(U)}function rt(U=(0,E.z$)()){return/blackberry/i.test(U)}function Vt(U=(0,E.z$)()){return/webos/i.test(U)}function Jt(U=(0,E.z$)()){return/iphone|ipad|ipod/i.test(U)||/macintosh/i.test(U)&&/mobile/i.test(U)}function Cn(U=(0,E.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(U)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(U)}function ln(U=(0,E.z$)()){return Jt(U)||xt(U)||Vt(U)||rt(U)||/windows phone/i.test(U)||Ke(U)}function kn(U,C=[]){let x;switch(U){case"Browser":x=Ae((0,E.z$)());break;case"Worker":x=`${Ae((0,E.z$)())}-${U}`;break;default:x=U}const W=C.length?C.join(","):"FirebaseCore-web";return`${x}/JsCore/${be.SDK_VERSION}/${W}`}function Kt(){return(Kt=(0,d.Z)(function*(U){return(yield en(U,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function fn(U,C){return qn.apply(this,arguments)}function qn(){return(qn=(0,d.Z)(function*(U,C){return en(U,"GET","/v2/recaptchaConfig",Ot(U,C))})).apply(this,arguments)}function pr(U){return void 0!==U&&void 0!==U.getResponse}function Dr(U){return void 0!==U&&void 0!==U.enterprise}class $r{constructor(C){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===C.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=C.recaptchaKey.split("/")[3],this.emailPasswordEnabled=C.recaptchaEnforcementState.some(x=>"EMAIL_PASSWORD_PROVIDER"===x.provider&&"OFF"!==x.enforcementState)}}function Xr(U){return new Promise((C,x)=>{const W=document.createElement("script");W.setAttribute("src",U),W.onload=C,W.onerror=Ie=>{const He=It("internal-error");He.customData=Ie,x(He)},W.type="text/javascript",W.charset="UTF-8",function Fi(){var U,C;return null!==(C=null===(U=document.getElementsByTagName("head"))||void 0===U?void 0:U[0])&&void 0!==C?C:document}().appendChild(W)})}function Ur(U){return`__${U}${Math.floor(1e6*Math.random())}`}class to{constructor(C){this.type="recaptcha-enterprise",this.auth=Hi(C)}verify(C="verify",x=!1){var W=this;return(0,d.Z)(function*(){function He(){return He=(0,d.Z)(function*(xn){if(!x){if(null==xn.tenantId&&null!=xn._agentRecaptchaConfig)return xn._agentRecaptchaConfig.siteKey;if(null!=xn.tenantId&&void 0!==xn._tenantRecaptchaConfigs[xn.tenantId])return xn._tenantRecaptchaConfigs[xn.tenantId].siteKey}return new Promise(function(){var _r=(0,d.Z)(function*(si,ji){fn(xn,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(Ys=>{if(void 0!==Ys.recaptchaKey){const nl=new $r(Ys);return null==xn.tenantId?xn._agentRecaptchaConfig=nl:xn._tenantRecaptchaConfigs[xn.tenantId]=nl,si(nl.siteKey)}ji(new Error("recaptcha Enterprise site key undefined"))}).catch(Ys=>{ji(Ys)})});return function(si,ji){return _r.apply(this,arguments)}}())}),He.apply(this,arguments)}function on(xn,_r,si){const ji=window.grecaptcha;Dr(ji)?ji.enterprise.ready(()=>{ji.enterprise.execute(xn,{action:C}).then(Ys=>{_r(Ys)}).catch(()=>{_r("NO_RECAPTCHA")})}):si(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((xn,_r)=>{(function Ie(xn){return He.apply(this,arguments)})(W.auth).then(si=>{if(!x&&Dr(window.grecaptcha))on(si,xn,_r);else{if(typeof window>"u")return void _r(new Error("RecaptchaVerifier is only supported in browser"));Xr("https://www.google.com/recaptcha/enterprise.js?render="+si).then(()=>{on(si,xn,_r)}).catch(ji=>{_r(ji)})}}).catch(si=>{_r(si)})})})()}}function ps(U,C,x){return cs.apply(this,arguments)}function cs(){return(cs=(0,d.Z)(function*(U,C,x,W=!1){const Ie=new to(U);let He;try{He=yield Ie.verify(x)}catch{He=yield Ie.verify(x,!0)}const on=Object.assign({},C);return Object.assign(on,W?{captchaResp:He}:{captchaResponse:He}),Object.assign(on,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(on,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),on})).apply(this,arguments)}class Eo{constructor(C){this.auth=C,this.queue=[]}pushCallback(C,x){const W=He=>new Promise((on,xn)=>{try{on(C(He))}catch(_r){xn(_r)}});W.onAbort=x,this.queue.push(W);const Ie=this.queue.length-1;return()=>{this.queue[Ie]=()=>Promise.resolve()}}runMiddleware(C){var x=this;return(0,d.Z)(function*(){if(x.auth.currentUser===C)return;const W=[];try{for(const Ie of x.queue)yield Ie(C),Ie.onAbort&&W.push(Ie.onAbort)}catch(Ie){W.reverse();for(const He of W)try{He()}catch{}throw x.auth._errorFactory.create("login-blocked",{originalMessage:null==Ie?void 0:Ie.message})}})()}}class es{constructor(C,x,W,Ie){this.app=C,this.heartbeatServiceProvider=x,this.appCheckServiceProvider=W,this.config=Ie,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new zs(this),this.idTokenSubscription=new zs(this),this.beforeStateQueue=new Eo(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=jt,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=C.name,this.clientVersion=Ie.sdkClientVersion}_initializeWithPersistence(C,x){var W=this;return x&&(this._popupRedirectResolver=Hn(x)),this._initializationPromise=this.queue((0,d.Z)(function*(){var Ie,He;if(!W._deleted&&(W.persistenceManager=yield mt.create(W,C),!W._deleted)){if(null!==(Ie=W._popupRedirectResolver)&&void 0!==Ie&&Ie._shouldInitProactively)try{yield W._popupRedirectResolver._initialize(W)}catch{}yield W.initializeCurrentUser(x),W.lastNotifiedUid=(null===(He=W.currentUser)||void 0===He?void 0:He.uid)||null,!W._deleted&&(W._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var C=this;return(0,d.Z)(function*(){if(C._deleted)return;const x=yield C.assertedPersistence.getCurrentUser();if(C.currentUser||x){if(C.currentUser&&x&&C.currentUser.uid===x.uid)return C._currentUser._assign(x),void(yield C.currentUser.getIdToken());yield C._updateCurrentUser(x,!0)}})()}initializeCurrentUser(C){var x=this;return(0,d.Z)(function*(){var W;const Ie=yield x.assertedPersistence.getCurrentUser();let He=Ie,on=!1;if(C&&x.config.authDomain){yield x.getOrInitRedirectPersistenceManager();const xn=null===(W=x.redirectUser)||void 0===W?void 0:W._redirectEventId,_r=null==He?void 0:He._redirectEventId,si=yield x.tryRedirectSignIn(C);(!xn||xn===_r)&&null!=si&&si.user&&(He=si.user,on=!0)}if(!He)return x.directlySetCurrentUser(null);if(!He._redirectEventId){if(on)try{yield x.beforeStateQueue.runMiddleware(He)}catch(xn){He=Ie,x._popupRedirectResolver._overrideRedirectResult(x,()=>Promise.reject(xn))}return He?x.reloadAndSetCurrentUserOrClear(He):x.directlySetCurrentUser(null)}return te(x._popupRedirectResolver,x,"argument-error"),yield x.getOrInitRedirectPersistenceManager(),x.redirectUser&&x.redirectUser._redirectEventId===He._redirectEventId?x.directlySetCurrentUser(He):x.reloadAndSetCurrentUserOrClear(He)})()}tryRedirectSignIn(C){var x=this;return(0,d.Z)(function*(){let W=null;try{W=yield x._popupRedirectResolver._completeRedirectFn(x,C,!0)}catch{yield x._setRedirectUser(null)}return W})()}reloadAndSetCurrentUserOrClear(C){var x=this;return(0,d.Z)(function*(){try{yield ni(C)}catch(W){if("auth/network-request-failed"!==(null==W?void 0:W.code))return x.directlySetCurrentUser(null)}return x.directlySetCurrentUser(C)})()}useDeviceLanguage(){this.languageCode=function ct(){if(typeof navigator>"u")return null;const U=navigator;return U.languages&&U.languages[0]||U.language||null}()}_delete(){var C=this;return(0,d.Z)(function*(){C._deleted=!0})()}updateCurrentUser(C){var x=this;return(0,d.Z)(function*(){const W=C?(0,E.m9)(C):null;return W&&te(W.auth.config.apiKey===x.config.apiKey,x,"invalid-user-token"),x._updateCurrentUser(W&&W._clone(x))})()}_updateCurrentUser(C,x=!1){var W=this;return(0,d.Z)(function*(){if(!W._deleted)return C&&te(W.tenantId===C.tenantId,W,"tenant-id-mismatch"),x||(yield W.beforeStateQueue.runMiddleware(C)),W.queue((0,d.Z)(function*(){yield W.directlySetCurrentUser(C),W.notifyAuthListeners()}))})()}signOut(){var C=this;return(0,d.Z)(function*(){return yield C.beforeStateQueue.runMiddleware(null),(C.redirectPersistenceManager||C._popupRedirectResolver)&&(yield C._setRedirectUser(null)),C._updateCurrentUser(null,!0)})()}setPersistence(C){var x=this;return this.queue((0,d.Z)(function*(){yield x.assertedPersistence.setPersistence(Hn(C))}))}initializeRecaptchaConfig(){var C=this;return(0,d.Z)(function*(){const x=yield fn(C,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),W=new $r(x);null==C.tenantId?C._agentRecaptchaConfig=W:C._tenantRecaptchaConfigs[C.tenantId]=W,W.emailPasswordEnabled&&new to(C).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(C){this._errorFactory=new E.LL("auth","Firebase",C())}onAuthStateChanged(C,x,W){return this.registerStateListener(this.authStateSubscription,C,x,W)}beforeAuthStateChanged(C,x){return this.beforeStateQueue.pushCallback(C,x)}onIdTokenChanged(C,x,W){return this.registerStateListener(this.idTokenSubscription,C,x,W)}toJSON(){var C;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(C=this._currentUser)||void 0===C?void 0:C.toJSON()}}_setRedirectUser(C,x){var W=this;return(0,d.Z)(function*(){const Ie=yield W.getOrInitRedirectPersistenceManager(x);return null===C?Ie.removeCurrentUser():Ie.setCurrentUser(C)})()}getOrInitRedirectPersistenceManager(C){var x=this;return(0,d.Z)(function*(){if(!x.redirectPersistenceManager){const W=C&&Hn(C)||x._popupRedirectResolver;te(W,x,"argument-error"),x.redirectPersistenceManager=yield mt.create(x,[Hn(W._redirectPersistence)],"redirectUser"),x.redirectUser=yield x.redirectPersistenceManager.getCurrentUser()}return x.redirectPersistenceManager})()}_redirectUserForId(C){var x=this;return(0,d.Z)(function*(){var W,Ie;return x._isInitialized&&(yield x.queue((0,d.Z)(function*(){}))),(null===(W=x._currentUser)||void 0===W?void 0:W._redirectEventId)===C?x._currentUser:(null===(Ie=x.redirectUser)||void 0===Ie?void 0:Ie._redirectEventId)===C?x.redirectUser:null})()}_persistUserIfCurrent(C){var x=this;return(0,d.Z)(function*(){if(C===x.currentUser)return x.queue((0,d.Z)(function*(){return x.directlySetCurrentUser(C)}))})()}_notifyListenersIfCurrent(C){C===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var C,x;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const W=null!==(x=null===(C=this.currentUser)||void 0===C?void 0:C.uid)&&void 0!==x?x:null;this.lastNotifiedUid!==W&&(this.lastNotifiedUid=W,this.authStateSubscription.next(this.currentUser))}registerStateListener(C,x,W,Ie){if(this._deleted)return()=>{};const He="function"==typeof x?x:x.next.bind(x),on=this._isInitialized?Promise.resolve():this._initializationPromise;return te(on,this,"internal-error"),on.then(()=>He(this.currentUser)),"function"==typeof x?C.addObserver(x,W,Ie):C.addObserver(x)}directlySetCurrentUser(C){var x=this;return(0,d.Z)(function*(){x.currentUser&&x.currentUser!==C&&x._currentUser._stopProactiveRefresh(),C&&x.isProactiveRefreshEnabled&&C._startProactiveRefresh(),x.currentUser=C,C?yield x.assertedPersistence.setCurrentUser(C):yield x.assertedPersistence.removeCurrentUser()})()}queue(C){return this.operations=this.operations.then(C,C),this.operations}get assertedPersistence(){return te(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(C){!C||this.frameworks.includes(C)||(this.frameworks.push(C),this.frameworks.sort(),this.clientVersion=kn(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var C=this;return(0,d.Z)(function*(){var x;const W={"X-Client-Version":C.clientVersion};C.app.options.appId&&(W["X-Firebase-gmpid"]=C.app.options.appId);const Ie=yield null===(x=C.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===x?void 0:x.getHeartbeatsHeader();Ie&&(W["X-Firebase-Client"]=Ie);const He=yield C._getAppCheckToken();return He&&(W["X-Firebase-AppCheck"]=He),W})()}_getAppCheckToken(){var C=this;return(0,d.Z)(function*(){var x;const W=yield null===(x=C.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===x?void 0:x.getToken();return null!=W&&W.error&&function kt(U,...C){Be.logLevel<=qe.in.WARN&&Be.warn(`Auth (${be.SDK_VERSION}): ${U}`,...C)}(`Error while retrieving App Check token: ${W.error}`),null==W?void 0:W.token})()}}function Hi(U){return(0,E.m9)(U)}class zs{constructor(C){this.auth=C,this.observer=null,this.addObserver=(0,E.ne)(x=>this.observer=x)}get next(){return te(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Fs(U,C,x){const W=Hi(U);te(W._canInitEmulator,W,"emulator-config-failed"),te(/^https?:\/\//.test(C),W,"invalid-emulator-scheme");const Ie=!(null==x||!x.disableWarnings),He=re(C),{host:on,port:xn}=function pe(U){const C=re(U),x=/(\/\/)?([^?#/]+)/.exec(U.substr(C.length));if(!x)return{host:"",port:null};const W=x[2].split("@").pop()||"",Ie=/^(\[[^\]]+\])(:|$)/.exec(W);if(Ie){const He=Ie[1];return{host:He,port:Oe(W.substr(He.length+1))}}{const[He,on]=W.split(":");return{host:He,port:Oe(on)}}}(C);W.config.emulator={url:`${He}//${on}${null===xn?"":`:${xn}`}/`},W.settings.appVerificationDisabledForTesting=!0,W.emulatorConfig=Object.freeze({host:on,port:xn,protocol:He.replace(":",""),options:Object.freeze({disableWarnings:Ie})}),Ie||function Ee(){function U(){const C=document.createElement("p"),x=C.style;C.innerText="Running in emulator mode. Do not use with production credentials.",x.position="fixed",x.width="100%",x.backgroundColor="#ffffff",x.border=".1em solid #000000",x.color="#b50000",x.bottom="0px",x.left="0px",x.margin="0px",x.zIndex="10000",x.textAlign="center",C.classList.add("firebase-emulator-warning"),document.body.appendChild(C)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",U):U())}()}function re(U){const C=U.indexOf(":");return C<0?"":U.substr(0,C+1)}function Oe(U){if(!U)return null;const C=Number(U);return isNaN(C)?null:C}class ne{constructor(C,x){this.providerId=C,this.signInMethod=x}toJSON(){return Gt("not implemented")}_getIdTokenResponse(C){return Gt("not implemented")}_linkToIdToken(C,x){return Gt("not implemented")}_getReauthenticationResolver(C){return Gt("not implemented")}}function ve(U,C){return st.apply(this,arguments)}function st(){return(st=(0,d.Z)(function*(U,C){return en(U,"POST","/v1/accounts:resetPassword",Ot(U,C))})).apply(this,arguments)}function wt(U,C){return $t.apply(this,arguments)}function $t(){return($t=(0,d.Z)(function*(U,C){return en(U,"POST","/v1/accounts:update",C)})).apply(this,arguments)}function Un(){return(Un=(0,d.Z)(function*(U,C){return en(U,"POST","/v1/accounts:update",Ot(U,C))})).apply(this,arguments)}function jn(U,C){return Nr.apply(this,arguments)}function Nr(){return(Nr=(0,d.Z)(function*(U,C){return _t(U,"POST","/v1/accounts:signInWithPassword",Ot(U,C))})).apply(this,arguments)}function Kr(U,C){return gs.apply(this,arguments)}function gs(){return(gs=(0,d.Z)(function*(U,C){return en(U,"POST","/v1/accounts:sendOobCode",Ot(U,C))})).apply(this,arguments)}function Si(){return(Si=(0,d.Z)(function*(U,C){return Kr(U,C)})).apply(this,arguments)}function Mr(U,C){return An.apply(this,arguments)}function An(){return(An=(0,d.Z)(function*(U,C){return Kr(U,C)})).apply(this,arguments)}function Fr(U,C){return Lr.apply(this,arguments)}function Lr(){return(Lr=(0,d.Z)(function*(U,C){return Kr(U,C)})).apply(this,arguments)}function Ao(){return(Ao=(0,d.Z)(function*(U,C){return Kr(U,C)})).apply(this,arguments)}function wo(){return(wo=(0,d.Z)(function*(U,C){return _t(U,"POST","/v1/accounts:signInWithEmailLink",Ot(U,C))})).apply(this,arguments)}function zr(){return(zr=(0,d.Z)(function*(U,C){return _t(U,"POST","/v1/accounts:signInWithEmailLink",Ot(U,C))})).apply(this,arguments)}class zi extends ne{constructor(C,x,W,Ie=null){super("password",W),this._email=C,this._password=x,this._tenantId=Ie}static _fromEmailAndPassword(C,x){return new zi(C,x,"password")}static _fromEmailAndCode(C,x,W=null){return new zi(C,x,"emailLink",W)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(C){const x="string"==typeof C?JSON.parse(C):C;if(null!=x&&x.email&&null!=x&&x.password){if("password"===x.signInMethod)return this._fromEmailAndPassword(x.email,x.password);if("emailLink"===x.signInMethod)return this._fromEmailAndCode(x.email,x.password,x.tenantId)}return null}_getIdTokenResponse(C){var x=this;return(0,d.Z)(function*(){var W;switch(x.signInMethod){case"password":const Ie={returnSecureToken:!0,email:x._email,password:x._password,clientType:"CLIENT_TYPE_WEB"};if(null!==(W=C._getRecaptchaConfig())&&void 0!==W&&W.emailPasswordEnabled){const He=yield ps(C,Ie,"signInWithPassword");return jn(C,He)}return jn(C,Ie).catch(function(){var He=(0,d.Z)(function*(on){if("auth/missing-recaptcha-token"===on.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const xn=yield ps(C,Ie,"signInWithPassword");return jn(C,xn)}return Promise.reject(on)});return function(on){return He.apply(this,arguments)}}());case"emailLink":return function is(U,C){return wo.apply(this,arguments)}(C,{email:x._email,oobCode:x._password});default:ft(C,"internal-error")}})()}_linkToIdToken(C,x){var W=this;return(0,d.Z)(function*(){switch(W.signInMethod){case"password":return wt(C,{idToken:x,returnSecureToken:!0,email:W._email,password:W._password});case"emailLink":return function Qr(U,C){return zr.apply(this,arguments)}(C,{idToken:x,email:W._email,oobCode:W._password});default:ft(C,"internal-error")}})()}_getReauthenticationResolver(C){return this._getIdTokenResponse(C)}}function Yr(U,C){return ao.apply(this,arguments)}function ao(){return(ao=(0,d.Z)(function*(U,C){return _t(U,"POST","/v1/accounts:signInWithIdp",Ot(U,C))})).apply(this,arguments)}class Ni extends ne{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(C){const x=new Ni(C.providerId,C.signInMethod);return C.idToken||C.accessToken?(C.idToken&&(x.idToken=C.idToken),C.accessToken&&(x.accessToken=C.accessToken),C.nonce&&!C.pendingToken&&(x.nonce=C.nonce),C.pendingToken&&(x.pendingToken=C.pendingToken)):C.oauthToken&&C.oauthTokenSecret?(x.accessToken=C.oauthToken,x.secret=C.oauthTokenSecret):ft("argument-error"),x}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(C){const x="string"==typeof C?JSON.parse(C):C,{providerId:W,signInMethod:Ie}=x,He=(0,ke._T)(x,["providerId","signInMethod"]);if(!W||!Ie)return null;const on=new Ni(W,Ie);return on.idToken=He.idToken||void 0,on.accessToken=He.accessToken||void 0,on.secret=He.secret,on.nonce=He.nonce,on.pendingToken=He.pendingToken||null,on}_getIdTokenResponse(C){return Yr(C,this.buildRequest())}_linkToIdToken(C,x){const W=this.buildRequest();return W.idToken=x,Yr(C,W)}_getReauthenticationResolver(C){const x=this.buildRequest();return x.autoCreate=!1,Yr(C,x)}buildRequest(){const C={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)C.pendingToken=this.pendingToken;else{const x={};this.idToken&&(x.id_token=this.idToken),this.accessToken&&(x.access_token=this.accessToken),this.secret&&(x.oauth_token_secret=this.secret),x.providerId=this.providerId,this.nonce&&!this.pendingToken&&(x.nonce=this.nonce),C.postBody=(0,E.xO)(x)}return C}}function no(){return(no=(0,d.Z)(function*(U,C){return en(U,"POST","/v1/accounts:sendVerificationCode",Ot(U,C))})).apply(this,arguments)}function Qs(){return(Qs=(0,d.Z)(function*(U,C){return _t(U,"POST","/v1/accounts:signInWithPhoneNumber",Ot(U,C))})).apply(this,arguments)}function Co(){return(Co=(0,d.Z)(function*(U,C){const x=yield _t(U,"POST","/v1/accounts:signInWithPhoneNumber",Ot(U,C));if(x.temporaryProof)throw tr(U,"account-exists-with-different-credential",x);return x})).apply(this,arguments)}const Hs={USER_NOT_FOUND:"user-not-found"};function Ho(){return(Ho=(0,d.Z)(function*(U,C){return _t(U,"POST","/v1/accounts:signInWithPhoneNumber",Ot(U,Object.assign(Object.assign({},C),{operation:"REAUTH"})),Hs)})).apply(this,arguments)}class ys extends ne{constructor(C){super("phone","phone"),this.params=C}static _fromVerification(C,x){return new ys({verificationId:C,verificationCode:x})}static _fromTokenResponse(C,x){return new ys({phoneNumber:C,temporaryProof:x})}_getIdTokenResponse(C){return function fo(U,C){return Qs.apply(this,arguments)}(C,this._makeVerificationRequest())}_linkToIdToken(C,x){return function Io(U,C){return Co.apply(this,arguments)}(C,Object.assign({idToken:x},this._makeVerificationRequest()))}_getReauthenticationResolver(C){return function lo(U,C){return Ho.apply(this,arguments)}(C,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:C,phoneNumber:x,verificationId:W,verificationCode:Ie}=this.params;return C&&x?{temporaryProof:C,phoneNumber:x}:{sessionInfo:W,code:Ie}}toJSON(){const C={providerId:this.providerId};return this.params.phoneNumber&&(C.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(C.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(C.verificationCode=this.params.verificationCode),this.params.verificationId&&(C.verificationId=this.params.verificationId),C}static fromJSON(C){"string"==typeof C&&(C=JSON.parse(C));const{verificationId:x,verificationCode:W,phoneNumber:Ie,temporaryProof:He}=C;return W||x||Ie||He?new ys({verificationId:x,verificationCode:W,phoneNumber:Ie,temporaryProof:He}):null}}class Es{constructor(C){var x,W,Ie,He,on,xn;const _r=(0,E.zd)((0,E.pd)(C)),si=null!==(x=_r.apiKey)&&void 0!==x?x:null,ji=null!==(W=_r.oobCode)&&void 0!==W?W:null,Ys=function xi(U){switch(U){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(Ie=_r.mode)&&void 0!==Ie?Ie:null);te(si&&ji&&Ys,"argument-error"),this.apiKey=si,this.operation=Ys,this.code=ji,this.continueUrl=null!==(He=_r.continueUrl)&&void 0!==He?He:null,this.languageCode=null!==(on=_r.languageCode)&&void 0!==on?on:null,this.tenantId=null!==(xn=_r.tenantId)&&void 0!==xn?xn:null}static parseLink(C){const x=function Ws(U){const C=(0,E.zd)((0,E.pd)(U)).link,x=C?(0,E.zd)((0,E.pd)(C)).deep_link_id:null,W=(0,E.zd)((0,E.pd)(U)).deep_link_id;return(W?(0,E.zd)((0,E.pd)(W)).link:null)||W||x||C||U}(C);try{return new Es(x)}catch{return null}}}let Ss=(()=>{class U{constructor(){this.providerId=U.PROVIDER_ID}static credential(x,W){return zi._fromEmailAndPassword(x,W)}static credentialWithLink(x,W){const Ie=Es.parseLink(W);return te(Ie,"argument-error"),zi._fromEmailAndCode(x,Ie.code,Ie.tenantId)}}return U.PROVIDER_ID="password",U.EMAIL_PASSWORD_SIGN_IN_METHOD="password",U.EMAIL_LINK_SIGN_IN_METHOD="emailLink",U})();class co{constructor(C){this.providerId=C,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(C){this.defaultLanguageCode=C}setCustomParameters(C){return this.customParameters=C,this}getCustomParameters(){return this.customParameters}}class qs extends co{constructor(){super(...arguments),this.scopes=[]}addScope(C){return this.scopes.includes(C)||this.scopes.push(C),this}getScopes(){return[...this.scopes]}}class Ls extends qs{static credentialFromJSON(C){const x="string"==typeof C?JSON.parse(C):C;return te("providerId"in x&&"signInMethod"in x,"argument-error"),Ni._fromParams(x)}credential(C){return this._credential(Object.assign(Object.assign({},C),{nonce:C.rawNonce}))}_credential(C){return te(C.idToken||C.accessToken,"argument-error"),Ni._fromParams(Object.assign(Object.assign({},C),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(C){return Ls.oauthCredentialFromTaggedObject(C)}static credentialFromError(C){return Ls.oauthCredentialFromTaggedObject(C.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:C}){if(!C)return null;const{oauthIdToken:x,oauthAccessToken:W,oauthTokenSecret:Ie,pendingToken:He,nonce:on,providerId:xn}=C;if(!W&&!Ie&&!x&&!He||!xn)return null;try{return new Ls(xn)._credential({idToken:x,accessToken:W,nonce:on,pendingToken:He})}catch{return null}}}let vs=(()=>{class U extends qs{constructor(){super("facebook.com")}static credential(x){return Ni._fromParams({providerId:U.PROVIDER_ID,signInMethod:U.FACEBOOK_SIGN_IN_METHOD,accessToken:x})}static credentialFromResult(x){return U.credentialFromTaggedObject(x)}static credentialFromError(x){return U.credentialFromTaggedObject(x.customData||{})}static credentialFromTaggedObject({_tokenResponse:x}){if(!x||!("oauthAccessToken"in x)||!x.oauthAccessToken)return null;try{return U.credential(x.oauthAccessToken)}catch{return null}}}return U.FACEBOOK_SIGN_IN_METHOD="facebook.com",U.PROVIDER_ID="facebook.com",U})(),Do=(()=>{class U extends qs{constructor(){super("google.com"),this.addScope("profile")}static credential(x,W){return Ni._fromParams({providerId:U.PROVIDER_ID,signInMethod:U.GOOGLE_SIGN_IN_METHOD,idToken:x,accessToken:W})}static credentialFromResult(x){return U.credentialFromTaggedObject(x)}static credentialFromError(x){return U.credentialFromTaggedObject(x.customData||{})}static credentialFromTaggedObject({_tokenResponse:x}){if(!x)return null;const{oauthIdToken:W,oauthAccessToken:Ie}=x;if(!W&&!Ie)return null;try{return U.credential(W,Ie)}catch{return null}}}return U.GOOGLE_SIGN_IN_METHOD="google.com",U.PROVIDER_ID="google.com",U})(),ro=(()=>{class U extends qs{constructor(){super("github.com")}static credential(x){return Ni._fromParams({providerId:U.PROVIDER_ID,signInMethod:U.GITHUB_SIGN_IN_METHOD,accessToken:x})}static credentialFromResult(x){return U.credentialFromTaggedObject(x)}static credentialFromError(x){return U.credentialFromTaggedObject(x.customData||{})}static credentialFromTaggedObject({_tokenResponse:x}){if(!x||!("oauthAccessToken"in x)||!x.oauthAccessToken)return null;try{return U.credential(x.oauthAccessToken)}catch{return null}}}return U.GITHUB_SIGN_IN_METHOD="github.com",U.PROVIDER_ID="github.com",U})();class Wo extends ne{constructor(C,x){super(C,C),this.pendingToken=x}_getIdTokenResponse(C){return Yr(C,this.buildRequest())}_linkToIdToken(C,x){const W=this.buildRequest();return W.idToken=x,Yr(C,W)}_getReauthenticationResolver(C){const x=this.buildRequest();return x.autoCreate=!1,Yr(C,x)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(C){const x="string"==typeof C?JSON.parse(C):C,{providerId:W,signInMethod:Ie,pendingToken:He}=x;return W&&Ie&&He&&W===Ie?new Wo(W,He):null}static _create(C,x){return new Wo(C,x)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class uo extends co{constructor(C){te(C.startsWith("saml."),"argument-error"),super(C)}static credentialFromResult(C){return uo.samlCredentialFromTaggedObject(C)}static credentialFromError(C){return uo.samlCredentialFromTaggedObject(C.customData||{})}static credentialFromJSON(C){const x=Wo.fromJSON(C);return te(x,"argument-error"),x}static samlCredentialFromTaggedObject({_tokenResponse:C}){if(!C)return null;const{pendingToken:x,providerId:W}=C;if(!x||!W)return null;try{return Wo._create(W,x)}catch{return null}}}let So=(()=>{class U extends qs{constructor(){super("twitter.com")}static credential(x,W){return Ni._fromParams({providerId:U.PROVIDER_ID,signInMethod:U.TWITTER_SIGN_IN_METHOD,oauthToken:x,oauthTokenSecret:W})}static credentialFromResult(x){return U.credentialFromTaggedObject(x)}static credentialFromError(x){return U.credentialFromTaggedObject(x.customData||{})}static credentialFromTaggedObject({_tokenResponse:x}){if(!x)return null;const{oauthAccessToken:W,oauthTokenSecret:Ie}=x;if(!W||!Ie)return null;try{return U.credential(W,Ie)}catch{return null}}}return U.TWITTER_SIGN_IN_METHOD="twitter.com",U.PROVIDER_ID="twitter.com",U})();function po(U,C){return Go.apply(this,arguments)}function Go(){return(Go=(0,d.Z)(function*(U,C){return _t(U,"POST","/v1/accounts:signUp",Ot(U,C))})).apply(this,arguments)}class go{constructor(C){this.user=C.user,this.providerId=C.providerId,this._tokenResponse=C._tokenResponse,this.operationType=C.operationType}static _fromIdTokenResponse(C,x,W,Ie=!1){return(0,d.Z)(function*(){const He=yield Wt._fromIdTokenResponse(C,W,Ie),on=Ts(W);return new go({user:He,providerId:on,_tokenResponse:W,operationType:x})})()}static _forOperation(C,x,W){return(0,d.Z)(function*(){yield C._updateTokensIfNecessary(W,!0);const Ie=Ts(W);return new go({user:C,providerId:Ie,_tokenResponse:W,operationType:x})})()}}function Ts(U){return U.providerId?U.providerId:"phoneNumber"in U?"phone":null}function xo(U){return us.apply(this,arguments)}function us(){return(us=(0,d.Z)(function*(U){var C;const x=Hi(U);if(yield x._initializationPromise,null!==(C=x.currentUser)&&void 0!==C&&C.isAnonymous)return new go({user:x.currentUser,providerId:null,operationType:"signIn"});const W=yield po(x,{returnSecureToken:!0}),Ie=yield go._fromIdTokenResponse(x,"signIn",W,!0);return yield x._updateCurrentUser(Ie.user),Ie})).apply(this,arguments)}class Mo extends E.ZR{constructor(C,x,W,Ie){var He;super(x.code,x.message),this.operationType=W,this.user=Ie,Object.setPrototypeOf(this,Mo.prototype),this.customData={appName:C.name,tenantId:null!==(He=C.tenantId)&&void 0!==He?He:void 0,_serverResponse:x.customData._serverResponse,operationType:W}}static _fromErrorAndOperation(C,x,W,Ie){return new Mo(C,x,W,Ie)}}function To(U,C,x,W){return("reauthenticate"===C?x._getReauthenticationResolver(U):x._getIdTokenResponse(U)).catch(He=>{throw"auth/multi-factor-auth-required"===He.code?Mo._fromErrorAndOperation(U,He,C,W):He})}function Bo(U){return new Set(U.map(({providerId:C})=>C).filter(C=>!!C))}function $i(U,C){return O.apply(this,arguments)}function O(){return O=(0,d.Z)(function*(U,C){const x=(0,E.m9)(U);yield le(!0,x,C);const{providerUserInfo:W}=yield function rr(U,C){return an.apply(this,arguments)}(x.auth,{idToken:yield x.getIdToken(),deleteProvider:[C]}),Ie=Bo(W||[]);return x.providerData=x.providerData.filter(He=>Ie.has(He.providerId)),Ie.has("phone")||(x.phoneNumber=null),yield x.auth._persistUserIfCurrent(x),x}),O.apply(this,arguments)}function he(U,C){return N.apply(this,arguments)}function N(){return(N=(0,d.Z)(function*(U,C,x=!1){const W=yield lr(U,C._linkToIdToken(U.auth,yield U.getIdToken()),x);return go._forOperation(U,"link",W)})).apply(this,arguments)}function le(U,C,x){return Ge.apply(this,arguments)}function Ge(){return(Ge=(0,d.Z)(function*(U,C,x){yield ni(C);const Ie=!1===U?"provider-already-linked":"no-such-provider";te(Bo(C.providerData).has(x)===U,C.auth,Ie)})).apply(this,arguments)}function _n(U,C){return Sr.apply(this,arguments)}function Sr(){return(Sr=(0,d.Z)(function*(U,C,x=!1){const{auth:W}=U,Ie="reauthenticate";try{const He=yield lr(U,To(W,Ie,C,U),x);te(He.idToken,W,"internal-error");const on=Ai(He.idToken);te(on,W,"internal-error");const{sub:xn}=on;return te(U.uid===xn,W,"user-mismatch"),go._forOperation(U,Ie,He)}catch(He){throw"auth/user-not-found"===(null==He?void 0:He.code)&&ft(W,"user-mismatch"),He}})).apply(this,arguments)}function Gn(U,C){return ai.apply(this,arguments)}function ai(){return(ai=(0,d.Z)(function*(U,C,x=!1){const W="signIn",Ie=yield To(U,W,C),He=yield go._fromIdTokenResponse(U,W,Ie);return x||(yield U._updateCurrentUser(He.user)),He})).apply(this,arguments)}function hi(U,C){return ws.apply(this,arguments)}function ws(){return(ws=(0,d.Z)(function*(U,C){return Gn(Hi(U),C)})).apply(this,arguments)}function Pi(U,C){return Bs.apply(this,arguments)}function Bs(){return(Bs=(0,d.Z)(function*(U,C){const x=(0,E.m9)(U);return yield le(!1,x,C.providerId),he(x,C)})).apply(this,arguments)}function Po(U,C){return _e.apply(this,arguments)}function _e(){return(_e=(0,d.Z)(function*(U,C){return _n((0,E.m9)(U),C)})).apply(this,arguments)}function $(){return($=(0,d.Z)(function*(U,C){return _t(U,"POST","/v1/accounts:signInWithCustomToken",Ot(U,C))})).apply(this,arguments)}function F(U,C){return S.apply(this,arguments)}function S(){return S=(0,d.Z)(function*(U,C){const x=Hi(U),W=yield function ce(U,C){return $.apply(this,arguments)}(x,{token:C,returnSecureToken:!0}),Ie=yield go._fromIdTokenResponse(x,"signIn",W);return yield x._updateCurrentUser(Ie.user),Ie}),S.apply(this,arguments)}class L{constructor(C,x){this.factorId=C,this.uid=x.mfaEnrollmentId,this.enrollmentTime=new Date(x.enrolledAt).toUTCString(),this.displayName=x.displayName}static _fromServerResponse(C,x){return"phoneInfo"in x?ge._fromServerResponse(C,x):"totpInfo"in x?ut._fromServerResponse(C,x):ft(C,"internal-error")}}class ge extends L{constructor(C){super("phone",C),this.phoneNumber=C.phoneInfo}static _fromServerResponse(C,x){return new ge(x)}}class ut extends L{constructor(C){super("totp",C)}static _fromServerResponse(C,x){return new ut(x)}}function Nt(U,C,x){var W;te((null===(W=x.url)||void 0===W?void 0:W.length)>0,U,"invalid-continue-uri"),te(typeof x.dynamicLinkDomain>"u"||x.dynamicLinkDomain.length>0,U,"invalid-dynamic-link-domain"),C.continueUrl=x.url,C.dynamicLinkDomain=x.dynamicLinkDomain,C.canHandleCodeInApp=x.handleCodeInApp,x.iOS&&(te(x.iOS.bundleId.length>0,U,"missing-ios-bundle-id"),C.iOSBundleId=x.iOS.bundleId),x.android&&(te(x.android.packageName.length>0,U,"missing-android-pkg-name"),C.androidInstallApp=x.android.installApp,C.androidMinimumVersionCode=x.android.minimumVersion,C.androidPackageName=x.android.packageName)}function dn(U,C,x){return Mn.apply(this,arguments)}function Mn(){return Mn=(0,d.Z)(function*(U,C,x){var W;const Ie=Hi(U),He={requestType:"PASSWORD_RESET",email:C,clientType:"CLIENT_TYPE_WEB"};if(null!==(W=Ie._getRecaptchaConfig())&&void 0!==W&&W.emailPasswordEnabled){const on=yield ps(Ie,He,"getOobCode",!0);x&&Nt(Ie,on,x),yield Mr(Ie,on)}else x&&Nt(Ie,He,x),yield Mr(Ie,He).catch(function(){var on=(0,d.Z)(function*(xn){if("auth/missing-recaptcha-token"!==xn.code)return Promise.reject(xn);{console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const _r=yield ps(Ie,He,"getOobCode",!0);x&&Nt(Ie,_r,x),yield Mr(Ie,_r)}});return function(xn){return on.apply(this,arguments)}}())}),Mn.apply(this,arguments)}function li(U,C,x){return ci.apply(this,arguments)}function ci(){return(ci=(0,d.Z)(function*(U,C,x){yield ve((0,E.m9)(U),{oobCode:C,newPassword:x})})).apply(this,arguments)}function mi(U,C){return vi.apply(this,arguments)}function vi(){return vi=(0,d.Z)(function*(U,C){yield function tn(U,C){return Un.apply(this,arguments)}((0,E.m9)(U),{oobCode:C})}),vi.apply(this,arguments)}function ri(U,C){return ts.apply(this,arguments)}function ts(){return(ts=(0,d.Z)(function*(U,C){const x=(0,E.m9)(U),W=yield ve(x,{oobCode:C}),Ie=W.requestType;switch(te(Ie,x,"internal-error"),Ie){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":te(W.newEmail,x,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":te(W.mfaInfo,x,"internal-error");default:te(W.email,x,"internal-error")}let He=null;return W.mfaInfo&&(He=L._fromServerResponse(Hi(x),W.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===W.requestType?W.newEmail:W.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===W.requestType?W.email:W.newEmail)||null,multiFactorInfo:He},operation:Ie}})).apply(this,arguments)}function Js(U,C){return As.apply(this,arguments)}function As(){return(As=(0,d.Z)(function*(U,C){const{data:x}=yield ri((0,E.m9)(U),C);return x.email})).apply(this,arguments)}function xs(U,C,x){return Ei.apply(this,arguments)}function Ei(){return Ei=(0,d.Z)(function*(U,C,x){var W;const Ie=Hi(U),He={returnSecureToken:!0,email:C,password:x,clientType:"CLIENT_TYPE_WEB"};let on;if(null!==(W=Ie._getRecaptchaConfig())&&void 0!==W&&W.emailPasswordEnabled){const si=yield ps(Ie,He,"signUpPassword");on=po(Ie,si)}else on=po(Ie,He).catch(function(){var si=(0,d.Z)(function*(ji){if("auth/missing-recaptcha-token"===ji.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const Ys=yield ps(Ie,He,"signUpPassword");return po(Ie,Ys)}return Promise.reject(ji)});return function(ji){return si.apply(this,arguments)}}());const xn=yield on.catch(si=>Promise.reject(si)),_r=yield go._fromIdTokenResponse(Ie,"signIn",xn);return yield Ie._updateCurrentUser(_r.user),_r}),Ei.apply(this,arguments)}function Ms(U,C,x){return hi((0,E.m9)(U),Ss.credential(C,x))}function io(U,C,x){return Ko.apply(this,arguments)}function Ko(){return Ko=(0,d.Z)(function*(U,C,x){var W;const Ie=Hi(U),He={requestType:"EMAIL_SIGNIN",email:C,clientType:"CLIENT_TYPE_WEB"};function on(xn,_r){te(_r.handleCodeInApp,Ie,"argument-error"),_r&&Nt(Ie,xn,_r)}if(null!==(W=Ie._getRecaptchaConfig())&&void 0!==W&&W.emailPasswordEnabled){const xn=yield ps(Ie,He,"getOobCode",!0);on(xn,x),yield Fr(Ie,xn)}else on(He,x),yield Fr(Ie,He).catch(function(){var xn=(0,d.Z)(function*(_r){if("auth/missing-recaptcha-token"!==_r.code)return Promise.reject(_r);{console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const si=yield ps(Ie,He,"getOobCode",!0);on(si,x),yield Fr(Ie,si)}});return function(_r){return xn.apply(this,arguments)}}())}),Ko.apply(this,arguments)}function mo(U,C){const x=Es.parseLink(C);return"EMAIL_SIGNIN"===(null==x?void 0:x.operation)}function oa(U,C,x){return ta.apply(this,arguments)}function ta(){return(ta=(0,d.Z)(function*(U,C,x){const W=(0,E.m9)(U),Ie=Ss.credentialWithLink(C,x||Lt());return te(Ie._tenantId===(W.tenantId||null),W,"tenant-id-mismatch"),hi(W,Ie)})).apply(this,arguments)}function Aa(){return(Aa=(0,d.Z)(function*(U,C){return en(U,"POST","/v1/accounts:createAuthUri",Ot(U,C))})).apply(this,arguments)}function na(U,C){return Na.apply(this,arguments)}function Na(){return Na=(0,d.Z)(function*(U,C){const W={identifier:C,continueUri:qt()?Lt():"http://localhost"},{signinMethods:Ie}=yield function Ta(U,C){return Aa.apply(this,arguments)}((0,E.m9)(U),W);return Ie||[]}),Na.apply(this,arguments)}function Gs(U,C){return Zs.apply(this,arguments)}function Zs(){return Zs=(0,d.Z)(function*(U,C){const x=(0,E.m9)(U),Ie={requestType:"VERIFY_EMAIL",idToken:yield U.getIdToken()};C&&Nt(x.auth,Ie,C);const{email:He}=yield function Xi(U,C){return Si.apply(this,arguments)}(x.auth,Ie);He!==U.email&&(yield U.reload())}),Zs.apply(this,arguments)}function ba(U,C,x){return Oo.apply(this,arguments)}function Oo(){return Oo=(0,d.Z)(function*(U,C,x){const W=(0,E.m9)(U),He={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield U.getIdToken(),newEmail:C};x&&Nt(W.auth,He,x);const{email:on}=yield function Ds(U,C){return Ao.apply(this,arguments)}(W.auth,He);on!==U.email&&(yield U.reload())}),Oo.apply(this,arguments)}function M(){return(M=(0,d.Z)(function*(U,C){return en(U,"POST","/v1/accounts:update",C)})).apply(this,arguments)}function Z(U,C){return oe.apply(this,arguments)}function oe(){return oe=(0,d.Z)(function*(U,{displayName:C,photoURL:x}){if(void 0===C&&void 0===x)return;const W=(0,E.m9)(U),He={idToken:yield W.getIdToken(),displayName:C,photoUrl:x,returnSecureToken:!0},on=yield lr(W,function Ea(U,C){return M.apply(this,arguments)}(W.auth,He));W.displayName=on.displayName||null,W.photoURL=on.photoUrl||null;const xn=W.providerData.find(({providerId:_r})=>"password"===_r);xn&&(xn.displayName=W.displayName,xn.photoURL=W.photoURL),yield W._updateTokensIfNecessary(on)}),oe.apply(this,arguments)}function De(U,C){return at((0,E.m9)(U),C,null)}function $e(U,C){return at((0,E.m9)(U),null,C)}function at(U,C,x){return Tt.apply(this,arguments)}function Tt(){return(Tt=(0,d.Z)(function*(U,C,x){const{auth:W}=U,He={idToken:yield U.getIdToken(),returnSecureToken:!0};C&&(He.email=C),x&&(He.password=x);const on=yield lr(U,wt(W,He));yield U._updateTokensIfNecessary(on,!0)})).apply(this,arguments)}class sn{constructor(C,x,W={}){this.isNewUser=C,this.providerId=x,this.profile=W}}class Nn extends sn{constructor(C,x,W,Ie){super(C,x,W),this.username=Ie}}class or extends sn{constructor(C,x){super(C,"facebook.com",x)}}class Jr extends Nn{constructor(C,x){super(C,"github.com",x,"string"==typeof(null==x?void 0:x.login)?null==x?void 0:x.login:null)}}class qr extends sn{constructor(C,x){super(C,"google.com",x)}}class $s extends Nn{constructor(C,x,W){super(C,"twitter.com",x,W)}}function Ps(U){const{user:C,_tokenResponse:x}=U;return C.isAnonymous&&!x?{providerId:null,isNewUser:!1,profile:null}:function zt(U){var C,x;if(!U)return null;const{providerId:W}=U,Ie=U.rawUserInfo?JSON.parse(U.rawUserInfo):{},He=U.isNewUser||"identitytoolkit#SignupNewUserResponse"===U.kind;if(!W&&null!=U&&U.idToken){const on=null===(x=null===(C=Ai(U.idToken))||void 0===C?void 0:C.firebase)||void 0===x?void 0:x.sign_in_provider;if(on)return new sn(He,"anonymous"!==on&&"custom"!==on?on:null)}if(!W)return null;switch(W){case"facebook.com":return new or(He,Ie);case"github.com":return new Jr(He,Ie);case"google.com":return new qr(He,Ie);case"twitter.com":return new $s(He,Ie,U.screenName||null);case"custom":case"anonymous":return new sn(He,null);default:return new sn(He,W,Ie)}}(x)}class ti{constructor(C,x,W){this.type=C,this.credential=x,this.auth=W}static _fromIdtoken(C,x){return new ti("enroll",C,x)}static _fromMfaPendingCredential(C){return new ti("signin",C)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(C){var x,W;if(null!=C&&C.multiFactorSession){if(null!==(x=C.multiFactorSession)&&void 0!==x&&x.pendingCredential)return ti._fromMfaPendingCredential(C.multiFactorSession.pendingCredential);if(null!==(W=C.multiFactorSession)&&void 0!==W&&W.idToken)return ti._fromIdtoken(C.multiFactorSession.idToken)}return null}}class Li{constructor(C,x,W){this.session=C,this.hints=x,this.signInResolver=W}static _fromError(C,x){const W=Hi(C),Ie=x.customData._serverResponse,He=(Ie.mfaInfo||[]).map(xn=>L._fromServerResponse(W,xn));te(Ie.mfaPendingCredential,W,"internal-error");const on=ti._fromMfaPendingCredential(Ie.mfaPendingCredential);return new Li(on,He,function(){var xn=(0,d.Z)(function*(_r){const si=yield _r._process(W,on);delete Ie.mfaInfo,delete Ie.mfaPendingCredential;const ji=Object.assign(Object.assign({},Ie),{idToken:si.idToken,refreshToken:si.refreshToken});switch(x.operationType){case"signIn":const Ys=yield go._fromIdTokenResponse(W,x.operationType,ji);return yield W._updateCurrentUser(Ys.user),Ys;case"reauthenticate":return te(x.user,W,"internal-error"),go._forOperation(x.user,x.operationType,ji);default:ft(W,"internal-error")}});return function(_r){return xn.apply(this,arguments)}}())}resolveSignIn(C){var x=this;return(0,d.Z)(function*(){return x.signInResolver(C)})()}}function ds(U,C){var x;const W=(0,E.m9)(U),Ie=C;return te(C.customData.operationType,W,"argument-error"),te(null===(x=Ie.customData._serverResponse)||void 0===x?void 0:x.mfaPendingCredential,W,"argument-error"),Li._fromError(W,Ie)}class qo{constructor(C){this.user=C,this.enrolledFactors=[],C._onReload(x=>{x.mfaInfo&&(this.enrolledFactors=x.mfaInfo.map(W=>L._fromServerResponse(C.auth,W)))})}static _fromUser(C){return new qo(C)}getSession(){var C=this;return(0,d.Z)(function*(){return ti._fromIdtoken(yield C.user.getIdToken(),C.user.auth)})()}enroll(C,x){var W=this;return(0,d.Z)(function*(){const Ie=C,He=yield W.getSession(),on=yield lr(W.user,Ie._process(W.user.auth,He,x));return yield W.user._updateTokensIfNecessary(on),W.user.reload()})()}unenroll(C){var x=this;return(0,d.Z)(function*(){const W="string"==typeof C?C:C.uid,Ie=yield x.user.getIdToken();try{const He=yield lr(x.user,function Yo(U,C){return en(U,"POST","/v2/accounts/mfaEnrollment:withdraw",Ot(U,C))}(x.user.auth,{idToken:Ie,mfaEnrollmentId:W}));x.enrolledFactors=x.enrolledFactors.filter(({uid:on})=>on!==W),yield x.user._updateTokensIfNecessary(He),yield x.user.reload()}catch(He){throw He}})()}}const Or=new WeakMap;function ii(U){const C=(0,E.m9)(U);return Or.has(C)||Or.set(C,qo._fromUser(C)),Or.get(C)}const Kn="__sak";class Bn{constructor(C,x){this.storageRetriever=C,this.type=x}_isAvailable(){try{return this.storage?(this.storage.setItem(Kn,"1"),this.storage.removeItem(Kn),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(C,x){return this.storage.setItem(C,JSON.stringify(x)),Promise.resolve()}_get(C){const x=this.storage.getItem(C);return Promise.resolve(x?JSON.parse(x):null)}_remove(C){return this.storage.removeItem(C),Promise.resolve()}get storage(){return this.storageRetriever()}}const wa=(()=>{class U extends Bn{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(x,W)=>this.onStorageEvent(x,W),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Dn(){const U=(0,E.z$)();return ee(U)||Jt(U)}()&&function yn(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=ln(),this._shouldAllowMigration=!0}forAllChangedKeys(x){for(const W of Object.keys(this.listeners)){const Ie=this.storage.getItem(W),He=this.localCache[W];Ie!==He&&x(W,He,Ie)}}onStorageEvent(x,W=!1){if(!x.key)return void this.forAllChangedKeys((xn,_r,si)=>{this.notifyListeners(xn,si)});const Ie=x.key;if(W?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const xn=this.storage.getItem(Ie);if(x.newValue!==xn)null!==x.newValue?this.storage.setItem(Ie,x.newValue):this.storage.removeItem(Ie);else if(this.localCache[Ie]===x.newValue&&!W)return}const He=()=>{const xn=this.storage.getItem(Ie);!W&&this.localCache[Ie]===xn||this.notifyListeners(Ie,xn)},on=this.storage.getItem(Ie);!function $n(){return(0,E.w1)()&&10===document.documentMode}()||on===x.newValue||x.newValue===x.oldValue?He():setTimeout(He,10)}notifyListeners(x,W){this.localCache[x]=W;const Ie=this.listeners[x];if(Ie)for(const He of Array.from(Ie))He(W&&JSON.parse(W))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((x,W,Ie)=>{this.onStorageEvent(new StorageEvent("storage",{key:x,oldValue:W,newValue:Ie}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(x,W){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[x]||(this.listeners[x]=new Set,this.localCache[x]=this.storage.getItem(x)),this.listeners[x].add(W)}_removeListener(x,W){this.listeners[x]&&(this.listeners[x].delete(W),0===this.listeners[x].size&&delete this.listeners[x]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(x,W){var Ie=()=>super._set,He=this;return(0,d.Z)(function*(){yield Ie().call(He,x,W),He.localCache[x]=JSON.stringify(W)})()}_get(x){var W=()=>super._get,Ie=this;return(0,d.Z)(function*(){const He=yield W().call(Ie,x);return Ie.localCache[x]=JSON.stringify(He),He})()}_remove(x){var W=()=>super._remove,Ie=this;return(0,d.Z)(function*(){yield W().call(Ie,x),delete Ie.localCache[x]})()}}return U.type="LOCAL",U})(),dl=(()=>{class U extends Bn{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(x,W){}_removeListener(x,W){}}return U.type="SESSION",U})();let Zo=(()=>{class U{constructor(x){this.eventTarget=x,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(x){const W=this.receivers.find(He=>He.isListeningto(x));if(W)return W;const Ie=new U(x);return this.receivers.push(Ie),Ie}isListeningto(x){return this.eventTarget===x}handleEvent(x){var W=this;return(0,d.Z)(function*(){const Ie=x,{eventId:He,eventType:on,data:xn}=Ie.data,_r=W.handlersMap[on];if(null==_r||!_r.size)return;Ie.ports[0].postMessage({status:"ack",eventId:He,eventType:on});const si=Array.from(_r).map(function(){var Ys=(0,d.Z)(function*(nl){return nl(Ie.origin,xn)});return function(nl){return Ys.apply(this,arguments)}}()),ji=yield function al(U){return Promise.all(U.map(function(){var C=(0,d.Z)(function*(x){try{return{fulfilled:!0,value:yield x}}catch(W){return{fulfilled:!1,reason:W}}});return function(x){return C.apply(this,arguments)}}()))}(si);Ie.ports[0].postMessage({status:"done",eventId:He,eventType:on,response:ji})})()}_subscribe(x,W){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[x]||(this.handlersMap[x]=new Set),this.handlersMap[x].add(W)}_unsubscribe(x,W){this.handlersMap[x]&&W&&this.handlersMap[x].delete(W),(!W||0===this.handlersMap[x].size)&&delete this.handlersMap[x],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return U.receivers=[],U})();function Wa(U="",C=10){let x="";for(let W=0;W<C;W++)x+=Math.floor(10*Math.random());return U+x}class yl{constructor(C){this.target=C,this.handlers=new Set}removeMessageHandler(C){C.messageChannel&&(C.messageChannel.port1.removeEventListener("message",C.onMessage),C.messageChannel.port1.close()),this.handlers.delete(C)}_send(C,x,W=50){var Ie=this;return(0,d.Z)(function*(){const He=typeof MessageChannel<"u"?new MessageChannel:null;if(!He)throw new Error("connection_unavailable");let on,xn;return new Promise((_r,si)=>{const ji=Wa("",20);He.port1.start();const Ys=setTimeout(()=>{si(new Error("unsupported_event"))},W);xn={messageChannel:He,onMessage(nl){const Ol=nl;if(Ol.data.eventId===ji)switch(Ol.data.status){case"ack":clearTimeout(Ys),on=setTimeout(()=>{si(new Error("timeout"))},3e3);break;case"done":clearTimeout(on),_r(Ol.data.response);break;default:clearTimeout(Ys),clearTimeout(on),si(new Error("invalid_response"))}}},Ie.handlers.add(xn),He.port1.addEventListener("message",xn.onMessage),Ie.target.postMessage({eventType:C,eventId:ji,data:x},[He.port2])}).finally(()=>{xn&&Ie.removeMessageHandler(xn)})})()}}function bs(){return window}function el(){return typeof bs().WorkerGlobalScope<"u"&&"function"==typeof bs().importScripts}function sa(){return(sa=(0,d.Z)(function*(){if(null==navigator||!navigator.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const yi="firebaseLocalStorageDb",ss="firebaseLocalStorage",Ga="fbase_key";class hs{constructor(C){this.request=C}toPromise(){return new Promise((C,x)=>{this.request.addEventListener("success",()=>{C(this.request.result)}),this.request.addEventListener("error",()=>{x(this.request.error)})})}}function gr(U,C){return U.transaction([ss],C?"readwrite":"readonly").objectStore(ss)}function ha(){const U=indexedDB.open(yi,1);return new Promise((C,x)=>{U.addEventListener("error",()=>{x(U.error)}),U.addEventListener("upgradeneeded",()=>{const W=U.result;try{W.createObjectStore(ss,{keyPath:Ga})}catch(Ie){x(Ie)}}),U.addEventListener("success",(0,d.Z)(function*(){const W=U.result;W.objectStoreNames.contains(ss)?C(W):(W.close(),yield function Ka(){const U=indexedDB.deleteDatabase(yi);return new hs(U).toPromise()}(),C(yield ha()))}))})}function ya(U,C,x){return hl.apply(this,arguments)}function hl(){return(hl=(0,d.Z)(function*(U,C,x){const W=gr(U,!0).put({[Ga]:C,value:x});return new hs(W).toPromise()})).apply(this,arguments)}function Xt(){return(Xt=(0,d.Z)(function*(U,C){const x=gr(U,!1).get(C),W=yield new hs(x).toPromise();return void 0===W?null:W.value})).apply(this,arguments)}function Qt(U,C){const x=gr(U,!0).delete(C);return new hs(x).toPromise()}const Ji=(()=>{class U{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var x=this;return(0,d.Z)(function*(){return x.db||(x.db=yield ha()),x.db})()}_withRetries(x){var W=this;return(0,d.Z)(function*(){let Ie=0;for(;;)try{const He=yield W._openDb();return yield x(He)}catch(He){if(Ie++>3)throw He;W.db&&(W.db.close(),W.db=void 0)}})()}initializeServiceWorkerMessaging(){var x=this;return(0,d.Z)(function*(){return el()?x.initializeReceiver():x.initializeSender()})()}initializeReceiver(){var x=this;return(0,d.Z)(function*(){x.receiver=Zo._getInstance(function Ks(){return el()?self:null}()),x.receiver._subscribe("keyChanged",function(){var W=(0,d.Z)(function*(Ie,He){return{keyProcessed:(yield x._poll()).includes(He.key)}});return function(Ie,He){return W.apply(this,arguments)}}()),x.receiver._subscribe("ping",function(){var W=(0,d.Z)(function*(Ie,He){return["keyChanged"]});return function(Ie,He){return W.apply(this,arguments)}}())})()}initializeSender(){var x=this;return(0,d.Z)(function*(){var W,Ie;if(x.activeServiceWorker=yield function Vi(){return sa.apply(this,arguments)}(),!x.activeServiceWorker)return;x.sender=new yl(x.activeServiceWorker);const He=yield x.sender._send("ping",{},800);He&&null!==(W=He[0])&&void 0!==W&&W.fulfilled&&null!==(Ie=He[0])&&void 0!==Ie&&Ie.value.includes("keyChanged")&&(x.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(x){var W=this;return(0,d.Z)(function*(){if(W.sender&&W.activeServiceWorker&&function Ia(){var U;return(null===(U=null==navigator?void 0:navigator.serviceWorker)||void 0===U?void 0:U.controller)||null}()===W.activeServiceWorker)try{yield W.sender._send("keyChanged",{key:x},W.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,d.Z)(function*(){try{if(!indexedDB)return!1;const x=yield ha();return yield ya(x,Kn,"1"),yield Qt(x,Kn),!0}catch{}return!1})()}_withPendingWrite(x){var W=this;return(0,d.Z)(function*(){W.pendingWrites++;try{yield x()}finally{W.pendingWrites--}})()}_set(x,W){var Ie=this;return(0,d.Z)(function*(){return Ie._withPendingWrite((0,d.Z)(function*(){return yield Ie._withRetries(He=>ya(He,x,W)),Ie.localCache[x]=W,Ie.notifyServiceWorker(x)}))})()}_get(x){var W=this;return(0,d.Z)(function*(){const Ie=yield W._withRetries(He=>function nt(U,C){return Xt.apply(this,arguments)}(He,x));return W.localCache[x]=Ie,Ie})()}_remove(x){var W=this;return(0,d.Z)(function*(){return W._withPendingWrite((0,d.Z)(function*(){return yield W._withRetries(Ie=>Qt(Ie,x)),delete W.localCache[x],W.notifyServiceWorker(x)}))})()}_poll(){var x=this;return(0,d.Z)(function*(){const W=yield x._withRetries(on=>{const xn=gr(on,!1).getAll();return new hs(xn).toPromise()});if(!W)return[];if(0!==x.pendingWrites)return[];const Ie=[],He=new Set;for(const{fbase_key:on,value:xn}of W)He.add(on),JSON.stringify(x.localCache[on])!==JSON.stringify(xn)&&(x.notifyListeners(on,xn),Ie.push(on));for(const on of Object.keys(x.localCache))x.localCache[on]&&!He.has(on)&&(x.notifyListeners(on,null),Ie.push(on));return Ie})()}notifyListeners(x,W){this.localCache[x]=W;const Ie=this.listeners[x];if(Ie)for(const He of Array.from(Ie))He(W)}startPolling(){var x=this;this.stopPolling(),this.pollTimer=setInterval((0,d.Z)(function*(){return x._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(x,W){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[x]||(this.listeners[x]=new Set,this._get(x)),this.listeners[x].add(W)}_removeListener(x,W){this.listeners[x]&&(this.listeners[x].delete(W),0===this.listeners[x].size&&delete this.listeners[x]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return U.type="LOCAL",U})(),La=1e12;class fa{constructor(C){this.auth=C,this.counter=La,this._widgets=new Map}render(C,x){const W=this.counter;return this._widgets.set(W,new Cl(C,this.auth.name,x||{})),this.counter++,W}reset(C){var x;const W=C||La;null===(x=this._widgets.get(W))||void 0===x||x.delete(),this._widgets.delete(W)}getResponse(C){var x;return(null===(x=this._widgets.get(C||La))||void 0===x?void 0:x.getResponse())||""}execute(C){var x=this;return(0,d.Z)(function*(){var W;return null===(W=x._widgets.get(C||La))||void 0===W||W.execute(),""})()}}class Cl{constructor(C,x,W){this.params=W,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const Ie="string"==typeof C?document.getElementById(C):C;te(Ie,"argument-error",{appName:x}),this.container=Ie,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Ya(U){const C=[],x="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let W=0;W<U;W++)C.push(x.charAt(Math.floor(62*Math.random())));return C.join("")}(50);const{callback:C,"expired-callback":x}=this.params;if(C)try{C(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,x)try{x()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Xo=Ur("rcb"),Dl=new yt(3e4,6e4);class V{constructor(){var C;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(C=bs().grecaptcha)||void 0===C||!C.render)}load(C,x=""){return te(function H(U){return U.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(U)}(x),C,"argument-error"),this.shouldResolveImmediately(x)&&pr(bs().grecaptcha)?Promise.resolve(bs().grecaptcha):new Promise((W,Ie)=>{const He=bs().setTimeout(()=>{Ie(It(C,"network-request-failed"))},Dl.get());bs()[Xo]=()=>{bs().clearTimeout(He),delete bs()[Xo];const xn=bs().grecaptcha;if(!xn||!pr(xn))return void Ie(It(C,"internal-error"));const _r=xn.render;xn.render=(si,ji)=>{const Ys=_r(si,ji);return this.counter++,Ys},this.hostLanguage=x,W(xn)},Xr(`https://www.google.com/recaptcha/api.js??${(0,E.xO)({onload:Xo,render:"explicit",hl:x})}`).catch(()=>{clearTimeout(He),Ie(It(C,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(C){var x;return!(null===(x=bs().grecaptcha)||void 0===x||!x.render)&&(C===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class R{load(C){return(0,d.Z)(function*(){return new fa(C)})()}clearedOneInstance(){}}const q="recaptcha",me={theme:"light",type:"image"};class Xe{constructor(C,x=Object.assign({},me),W){this.parameters=x,this.type=q,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Hi(W),this.isInvisible="invisible"===this.parameters.size,te(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const Ie="string"==typeof C?document.getElementById(C):C;te(Ie,this.auth,"argument-error"),this.container=Ie,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new R:new V,this.validateStartingState()}verify(){var C=this;return(0,d.Z)(function*(){C.assertNotDestroyed();const x=yield C.render(),W=C.getAssertedRecaptcha();return W.getResponse(x)||new Promise(He=>{const on=xn=>{xn&&(C.tokenChangeListeners.delete(on),He(xn))};C.tokenChangeListeners.add(on),C.isInvisible&&W.execute(x)})})()}render(){try{this.assertNotDestroyed()}catch(C){return Promise.reject(C)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(C=>{throw this.renderPromise=null,C})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(C=>{this.container.removeChild(C)})}validateStartingState(){te(!this.parameters.sitekey,this.auth,"argument-error"),te(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),te(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(C){return x=>{if(this.tokenChangeListeners.forEach(W=>W(x)),"function"==typeof C)C(x);else if("string"==typeof C){const W=bs()[C];"function"==typeof W&&W(x)}}}assertNotDestroyed(){te(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var C=this;return(0,d.Z)(function*(){if(yield C.init(),!C.widgetId){let x=C.container;if(!C.isInvisible){const W=document.createElement("div");x.appendChild(W),x=W}C.widgetId=C.getAssertedRecaptcha().render(x,C.parameters)}return C.widgetId})()}init(){var C=this;return(0,d.Z)(function*(){te(qt()&&!el(),C.auth,"internal-error"),yield function Ue(){let U=null;return new Promise(C=>{"complete"!==document.readyState?(U=()=>C(),window.addEventListener("load",U)):C()}).catch(C=>{throw U&&window.removeEventListener("load",U),C})}(),C.recaptcha=yield C._recaptchaLoader.load(C.auth,C.auth.languageCode||void 0);const x=yield function Bt(U){return Kt.apply(this,arguments)}(C.auth);te(x,C.auth,"internal-error"),C.parameters.sitekey=x})()}getAssertedRecaptcha(){return te(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Yt{constructor(C,x){this.verificationId=C,this.onConfirmation=x}confirm(C){const x=ys._fromVerification(this.verificationId,C);return this.onConfirmation(x)}}function Tn(U,C,x){return xr.apply(this,arguments)}function xr(){return(xr=(0,d.Z)(function*(U,C,x){const W=Hi(U),Ie=yield l(W,C,(0,E.m9)(x));return new Yt(Ie,He=>hi(W,He))})).apply(this,arguments)}function Mi(U,C,x){return Zr.apply(this,arguments)}function Zr(){return(Zr=(0,d.Z)(function*(U,C,x){const W=(0,E.m9)(U);yield le(!1,W,"phone");const Ie=yield l(W.auth,C,(0,E.m9)(x));return new Yt(Ie,He=>Pi(W,He))})).apply(this,arguments)}function ko(U,C,x){return m.apply(this,arguments)}function m(){return(m=(0,d.Z)(function*(U,C,x){const W=(0,E.m9)(U),Ie=yield l(W.auth,C,(0,E.m9)(x));return new Yt(Ie,He=>Po(W,He))})).apply(this,arguments)}function l(U,C,x){return s.apply(this,arguments)}function s(){return s=(0,d.Z)(function*(U,C,x){var W;const Ie=yield x.verify();try{let He;if(te("string"==typeof Ie,U,"argument-error"),te(x.type===q,U,"argument-error"),He="string"==typeof C?{phoneNumber:C}:C,"session"in He){const on=He.session;if("phoneNumber"in He)return te("enroll"===on.type,U,"internal-error"),(yield function Is(U,C){return en(U,"POST","/v2/accounts/mfaEnrollment:start",Ot(U,C))}(U,{idToken:on.credential,phoneEnrollmentInfo:{phoneNumber:He.phoneNumber,recaptchaToken:Ie}})).phoneSessionInfo.sessionInfo;{te("signin"===on.type,U,"internal-error");const xn=(null===(W=He.multiFactorHint)||void 0===W?void 0:W.uid)||He.multiFactorUid;return te(xn,U,"missing-multi-factor-info"),(yield function ns(U,C){return en(U,"POST","/v2/accounts/mfaSignIn:start",Ot(U,C))}(U,{mfaPendingCredential:on.credential,mfaEnrollmentId:xn,phoneSignInInfo:{recaptchaToken:Ie}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:on}=yield function Qi(U,C){return no.apply(this,arguments)}(U,{phoneNumber:He.phoneNumber,recaptchaToken:Ie});return on}}finally{x._reset()}}),s.apply(this,arguments)}function c(U,C){return f.apply(this,arguments)}function f(){return(f=(0,d.Z)(function*(U,C){yield he((0,E.m9)(U),C)})).apply(this,arguments)}let _=(()=>{class U{constructor(x){this.providerId=U.PROVIDER_ID,this.auth=Hi(x)}verifyPhoneNumber(x,W){return l(this.auth,x,(0,E.m9)(W))}static credential(x,W){return ys._fromVerification(x,W)}static credentialFromResult(x){return U.credentialFromTaggedObject(x)}static credentialFromError(x){return U.credentialFromTaggedObject(x.customData||{})}static credentialFromTaggedObject({_tokenResponse:x}){if(!x)return null;const{phoneNumber:W,temporaryProof:Ie}=x;return W&&Ie?ys._fromTokenResponse(W,Ie):null}}return U.PROVIDER_ID="phone",U.PHONE_SIGN_IN_METHOD="phone",U})();function I(U,C){return C?Hn(C):(te(U._popupRedirectResolver,U,"argument-error"),U._popupRedirectResolver)}class A extends ne{constructor(C){super("custom","custom"),this.params=C}_getIdTokenResponse(C){return Yr(C,this._buildIdpRequest())}_linkToIdToken(C,x){return Yr(C,this._buildIdpRequest(x))}_getReauthenticationResolver(C){return Yr(C,this._buildIdpRequest())}_buildIdpRequest(C){const x={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return C&&(x.idToken=C),x}}function k(U){return Gn(U.auth,new A(U),U.bypassAuthState)}function K(U){const{auth:C,user:x}=U;return te(x,C,"internal-error"),_n(x,new A(U),U.bypassAuthState)}function de(U){return Ce.apply(this,arguments)}function Ce(){return(Ce=(0,d.Z)(function*(U){const{auth:C,user:x}=U;return te(x,C,"internal-error"),he(x,new A(U),U.bypassAuthState)})).apply(this,arguments)}class ze{constructor(C,x,W,Ie,He=!1){this.auth=C,this.resolver=W,this.user=Ie,this.bypassAuthState=He,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(x)?x:[x]}execute(){var C=this;return new Promise(function(){var x=(0,d.Z)(function*(W,Ie){C.pendingPromise={resolve:W,reject:Ie};try{C.eventManager=yield C.resolver._initialize(C.auth),yield C.onExecution(),C.eventManager.registerConsumer(C)}catch(He){C.reject(He)}});return function(W,Ie){return x.apply(this,arguments)}}())}onAuthEvent(C){var x=this;return(0,d.Z)(function*(){const{urlResponse:W,sessionId:Ie,postBody:He,tenantId:on,error:xn,type:_r}=C;if(xn)return void x.reject(xn);const si={auth:x.auth,requestUri:W,sessionId:Ie,tenantId:on||void 0,postBody:He||void 0,user:x.user,bypassAuthState:x.bypassAuthState};try{x.resolve(yield x.getIdpTask(_r)(si))}catch(ji){x.reject(ji)}})()}onError(C){this.reject(C)}getIdpTask(C){switch(C){case"signInViaPopup":case"signInViaRedirect":return k;case"linkViaPopup":case"linkViaRedirect":return de;case"reauthViaPopup":case"reauthViaRedirect":return K;default:ft(this.auth,"internal-error")}}resolve(C){Dt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(C),this.unregisterAndCleanUp()}reject(C){Dt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(C),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Qe=new yt(2e3,1e4);function Et(U,C,x){return At.apply(this,arguments)}function At(){return(At=(0,d.Z)(function*(U,C,x){const W=Hi(U);Ct(U,C,co);const Ie=I(W,x);return new Qn(W,"signInViaPopup",C,Ie).executeNotNull()})).apply(this,arguments)}function Zt(U,C,x){return In.apply(this,arguments)}function In(){return(In=(0,d.Z)(function*(U,C,x){const W=(0,E.m9)(U);Ct(W.auth,C,co);const Ie=I(W.auth,x);return new Qn(W.auth,"reauthViaPopup",C,Ie,W).executeNotNull()})).apply(this,arguments)}function En(U,C,x){return er.apply(this,arguments)}function er(){return(er=(0,d.Z)(function*(U,C,x){const W=(0,E.m9)(U);Ct(W.auth,C,co);const Ie=I(W.auth,x);return new Qn(W.auth,"linkViaPopup",C,Ie,W).executeNotNull()})).apply(this,arguments)}let Qn=(()=>{class U extends ze{constructor(x,W,Ie,He,on){super(x,W,He,on),this.provider=Ie,this.authWindow=null,this.pollId=null,U.currentPopupAction&&U.currentPopupAction.cancel(),U.currentPopupAction=this}executeNotNull(){var x=this;return(0,d.Z)(function*(){const W=yield x.execute();return te(W,x.auth,"internal-error"),W})()}onExecution(){var x=this;return(0,d.Z)(function*(){Dt(1===x.filter.length,"Popup operations only handle one event");const W=Wa();x.authWindow=yield x.resolver._openPopup(x.auth,x.provider,x.filter[0],W),x.authWindow.associatedEvent=W,x.resolver._originValidation(x.auth).catch(Ie=>{x.reject(Ie)}),x.resolver._isIframeWebStorageSupported(x.auth,Ie=>{Ie||x.reject(It(x.auth,"web-storage-unsupported"))}),x.pollUserCancellation()})()}get eventId(){var x;return(null===(x=this.authWindow)||void 0===x?void 0:x.associatedEvent)||null}cancel(){this.reject(It(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,U.currentPopupAction=null}pollUserCancellation(){const x=()=>{var W,Ie;this.pollId=null!==(Ie=null===(W=this.authWindow)||void 0===W?void 0:W.window)&&void 0!==Ie&&Ie.closed?window.setTimeout(()=>{this.pollId=null,this.reject(It(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(x,Qe.get())};x()}}return U.currentPopupAction=null,U})();const Yn="pendingRedirect",sr=new Map;class dr extends ze{constructor(C,x,W=!1){super(C,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],x,void 0,W),this.eventId=null}execute(){var C=()=>super.execute,x=this;return(0,d.Z)(function*(){let W=sr.get(x.auth._key());if(!W){try{const He=(yield function vr(U,C){return fi.apply(this,arguments)}(x.resolver,x.auth))?yield C().call(x):null;W=()=>Promise.resolve(He)}catch(Ie){W=()=>Promise.reject(Ie)}sr.set(x.auth._key(),W)}return x.bypassAuthState||sr.set(x.auth._key(),()=>Promise.resolve(null)),W()})()}onAuthEvent(C){var x=()=>super.onAuthEvent,W=this;return(0,d.Z)(function*(){if("signInViaRedirect"===C.type)return x().call(W,C);if("unknown"!==C.type){if(C.eventId){const Ie=yield W.auth._redirectUserForId(C.eventId);if(Ie)return W.user=Ie,x().call(W,C);W.resolve(null)}}else W.resolve(null)})()}onExecution(){return(0,d.Z)(function*(){})()}cleanUp(){}}function fi(){return(fi=(0,d.Z)(function*(U,C){const x=Vs(C),W=os(U);if(!(yield W._isAvailable()))return!1;const Ie="true"===(yield W._get(x));return yield W._remove(x),Ie})).apply(this,arguments)}function Ri(U,C){return Vr.apply(this,arguments)}function Vr(){return(Vr=(0,d.Z)(function*(U,C){return os(U)._set(Vs(C),"true")})).apply(this,arguments)}function fs(){sr.clear()}function Rs(U,C){sr.set(U._key(),C)}function os(U){return Hn(U._redirectPersistence)}function Vs(U){return Rr(Yn,U.config.apiKey,U.name)}function wr(U,C,x){return function Ir(U,C,x){return wi.apply(this,arguments)}(U,C,x)}function wi(){return(wi=(0,d.Z)(function*(U,C,x){const W=Hi(U);Ct(U,C,co),yield W._initializationPromise;const Ie=I(W,x);return yield Ri(Ie,W),Ie._openRedirect(W,C,"signInViaRedirect")})).apply(this,arguments)}function Ki(U,C,x){return function rs(U,C,x){return la.apply(this,arguments)}(U,C,x)}function la(){return(la=(0,d.Z)(function*(U,C,x){const W=(0,E.m9)(U);Ct(W.auth,C,co),yield W.auth._initializationPromise;const Ie=I(W.auth,x);yield Ri(Ie,W.auth);const He=yield ra(W);return Ie._openRedirect(W.auth,C,"reauthViaRedirect",He)})).apply(this,arguments)}function vo(U,C,x){return function Cs(U,C,x){return as.apply(this,arguments)}(U,C,x)}function as(){return(as=(0,d.Z)(function*(U,C,x){const W=(0,E.m9)(U);Ct(W.auth,C,co),yield W.auth._initializationPromise;const Ie=I(W.auth,x);yield le(!1,W,C.providerId),yield Ri(Ie,W.auth);const He=yield ra(W);return Ie._openRedirect(W.auth,C,"linkViaRedirect",He)})).apply(this,arguments)}function Ca(U,C){return Ba.apply(this,arguments)}function Ba(){return(Ba=(0,d.Z)(function*(U,C){return yield Hi(U)._initializationPromise,$o(U,C,!1)})).apply(this,arguments)}function $o(U,C){return Ml.apply(this,arguments)}function Ml(){return(Ml=(0,d.Z)(function*(U,C,x=!1){const W=Hi(U),Ie=I(W,C),on=yield new dr(W,Ie,x).execute();return on&&!x&&(delete on.user._redirectEventId,yield W._persistUserIfCurrent(on.user),yield W._setRedirectUser(null,C)),on})).apply(this,arguments)}function ra(U){return tl.apply(this,arguments)}function tl(){return(tl=(0,d.Z)(function*(U){const C=Wa(`${U.uid}:::`);return U._redirectEventId=C,yield U.auth._setRedirectUser(U),yield U.auth._persistUserIfCurrent(U),C})).apply(this,arguments)}class vl{constructor(C){this.auth=C,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(C){this.consumers.add(C),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,C)&&(this.sendToConsumer(this.queuedRedirectEvent,C),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(C){this.consumers.delete(C)}onEvent(C){if(this.hasEventBeenHandled(C))return!1;let x=!1;return this.consumers.forEach(W=>{this.isEventForConsumer(C,W)&&(x=!0,this.sendToConsumer(C,W),this.saveEventToCache(C))}),this.hasHandledPotentialRedirect||!function Xl(U){switch(U.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Nc(U);default:return!1}}(C)||(this.hasHandledPotentialRedirect=!0,x||(this.queuedRedirectEvent=C,x=!0)),x}sendToConsumer(C,x){var W;if(C.error&&!Nc(C)){const Ie=(null===(W=C.error.code)||void 0===W?void 0:W.split("auth/")[1])||"internal-error";x.onError(It(this.auth,Ie))}else x.onAuthEvent(C)}isEventForConsumer(C,x){const W=null===x.eventId||!!C.eventId&&C.eventId===x.eventId;return x.filter.includes(C.type)&&W}hasEventBeenHandled(C){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(_l(C))}saveEventToCache(C){this.cachedEventUids.add(_l(C)),this.lastProcessedEventTime=Date.now()}}function _l(U){return[U.type,U.eventId,U.sessionId,U.tenantId].filter(C=>C).join("-")}function Nc({type:U,error:C}){return"unknown"===U&&"auth/no-auth-event"===(null==C?void 0:C.code)}function Ql(U){return Ll.apply(this,arguments)}function Ll(){return(Ll=(0,d.Z)(function*(U,C={}){return en(U,"GET","/v1/projects",C)})).apply(this,arguments)}const Fc=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,ca=/^https?/;function fl(){return(fl=(0,d.Z)(function*(U){if(U.config.emulator)return;const{authorizedDomains:C}=yield Ql(U);for(const x of C)try{if(ll(x))return}catch{}ft(U,"unauthorized-domain")})).apply(this,arguments)}function ll(U){const C=Lt(),{protocol:x,hostname:W}=new URL(C);if(U.startsWith("chrome-extension://")){const on=new URL(U);return""===on.hostname&&""===W?"chrome-extension:"===x&&U.replace("chrome-extension://","")===C.replace("chrome-extension://",""):"chrome-extension:"===x&&on.hostname===W}if(!ca.test(x))return!1;if(Fc.test(U))return W===U;const Ie=U.replace(/\./g,"\\.");return new RegExp("^(.+\\."+Ie+"|"+Ie+")$","i").test(W)}const za=new yt(3e4,6e4);function ec(){const U=bs().___jsl;if(null!=U&&U.H)for(const C of Object.keys(U.H))if(U.H[C].r=U.H[C].r||[],U.H[C].L=U.H[C].L||[],U.H[C].r=[...U.H[C].L],U.CP)for(let x=0;x<U.CP.length;x++)U.CP[x]=null}let pl=null;const Lc=new yt(5e3,15e3),Df="__/auth/iframe",gl="emulator/auth/iframe",md={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},zo=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function tc(U){const C=U.config;te(C.authDomain,U,"auth-domain-config-required");const x=C.emulator?et(C,gl):`https://${U.config.authDomain}/${Df}`,W={apiKey:C.apiKey,appName:U.name,v:be.SDK_VERSION},Ie=zo.get(U.config.apiHost);Ie&&(W.eid=Ie);const He=U._getFrameworks();return He.length&&(W.fw=He.join(",")),`${x}?${(0,E.xO)(W).slice(1)}`}function va(){return va=(0,d.Z)(function*(U){const C=yield function Pl(U){return pl=pl||function vc(U){return new Promise((C,x)=>{var W,Ie,He;function on(){ec(),gapi.load("gapi.iframes",{callback:()=>{C(gapi.iframes.getContext())},ontimeout:()=>{ec(),x(It(U,"network-request-failed"))},timeout:za.get()})}if(null!==(Ie=null===(W=bs().gapi)||void 0===W?void 0:W.iframes)&&void 0!==Ie&&Ie.Iframe)C(gapi.iframes.getContext());else{if(null===(He=bs().gapi)||void 0===He||!He.load){const xn=Ur("iframefcb");return bs()[xn]=()=>{gapi.load?on():x(It(U,"network-request-failed"))},Xr(`https://apis.google.com/js/api.js?onload=${xn}`).catch(_r=>x(_r))}on()}}).catch(C=>{throw pl=null,C})}(U),pl}(U),x=bs().gapi;return te(x,U,"internal-error"),C.open({where:document.body,url:tc(U),messageHandlersFilter:x.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:md,dontclear:!0},W=>new Promise(function(){var Ie=(0,d.Z)(function*(He,on){yield W.restyle({setHideOnLeave:!1});const xn=It(U,"network-request-failed"),_r=bs().setTimeout(()=>{on(xn)},Lc.get());function si(){bs().clearTimeout(_r),He(W)}W.ping(si).then(si,()=>{on(xn)})});return function(He,on){return Ie.apply(this,arguments)}}()))}),va.apply(this,arguments)}const iu={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class ho{constructor(C){this.window=C,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const rc="__/auth/handler",su="emulator/auth/handler",Bc=encodeURIComponent("fac");function ic(U,C,x,W,Ie,He){return Rl.apply(this,arguments)}function Rl(){return(Rl=(0,d.Z)(function*(U,C,x,W,Ie,He){te(U.config.authDomain,U,"auth-domain-config-required"),te(U.config.apiKey,U,"invalid-api-key");const on={apiKey:U.config.apiKey,appName:U.name,authType:x,redirectUrl:W,v:be.SDK_VERSION,eventId:Ie};if(C instanceof co){C.setDefaultLanguage(U.languageCode),on.providerId=C.providerId||"",(0,E.xb)(C.getCustomParameters())||(on.customParameters=JSON.stringify(C.getCustomParameters()));for(const[ji,Ys]of Object.entries(He||{}))on[ji]=Ys}if(C instanceof qs){const ji=C.getScopes().filter(Ys=>""!==Ys);ji.length>0&&(on.scopes=ji.join(","))}U.tenantId&&(on.tid=U.tenantId);const xn=on;for(const ji of Object.keys(xn))void 0===xn[ji]&&delete xn[ji];const _r=yield U._getAppCheckToken(),si=_r?`#${Bc}=${encodeURIComponent(_r)}`:"";return`${function _d({config:U}){return U.emulator?et(U,su):`https://${U.authDomain}/${rc}`}(U)}?${(0,E.xO)(xn).slice(1)}${si}`})).apply(this,arguments)}const sc="webStorageSupport",$c=class Fu{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=dl,this._completeRedirectFn=$o,this._overrideRedirectResult=Rs}_openPopup(C,x,W,Ie){var He=this;return(0,d.Z)(function*(){var on;Dt(null===(on=He.eventManagers[C._key()])||void 0===on?void 0:on.manager,"_initialize() not called before _openPopup()");const xn=yield ic(C,x,W,Lt(),Ie);return function Vo(U,C,x,W=500,Ie=600){const He=Math.max((window.screen.availHeight-Ie)/2,0).toString(),on=Math.max((window.screen.availWidth-W)/2,0).toString();let xn="";const _r=Object.assign(Object.assign({},iu),{width:W.toString(),height:Ie.toString(),top:He,left:on}),si=(0,E.z$)().toLowerCase();x&&(xn=se(si)?"_blank":x),ie(si)&&(C=C||"http://localhost",_r.scrollbars="yes");const ji=Object.entries(_r).reduce((nl,[Ol,Hc])=>`${nl}${Ol}=${Hc},`,"");if(function vn(U=(0,E.z$)()){var C;return Jt(U)&&!(null===(C=window.navigator)||void 0===C||!C.standalone)}(si)&&"_self"!==xn)return function bl(U,C){const x=document.createElement("a");x.href=U,x.target=C;const W=document.createEvent("MouseEvent");W.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),x.dispatchEvent(W)}(C||"",xn),new ho(null);const Ys=window.open(C||"",xn,ji);te(Ys,U,"popup-blocked");try{Ys.focus()}catch{}return new ho(Ys)}(C,xn,Wa())})()}_openRedirect(C,x,W,Ie){var He=this;return(0,d.Z)(function*(){return yield He._originValidation(C),function Jo(U){bs().location.href=U}(yield ic(C,x,W,Lt(),Ie)),new Promise(()=>{})})()}_initialize(C){const x=C._key();if(this.eventManagers[x]){const{manager:Ie,promise:He}=this.eventManagers[x];return Ie?Promise.resolve(Ie):(Dt(He,"If manager is not set, promise should be"),He)}const W=this.initAndGetManager(C);return this.eventManagers[x]={promise:W},W.catch(()=>{delete this.eventManagers[x]}),W}initAndGetManager(C){var x=this;return(0,d.Z)(function*(){const W=yield function Fo(U){return va.apply(this,arguments)}(C),Ie=new vl(C);return W.register("authEvent",He=>(te(null==He?void 0:He.authEvent,C,"invalid-auth-event"),{status:Ie.onEvent(He.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),x.eventManagers[C._key()]={manager:Ie},x.iframes[C._key()]=W,Ie})()}_isIframeWebStorageSupported(C,x){this.iframes[C._key()].send(sc,{type:sc},Ie=>{var He;const on=null===(He=null==Ie?void 0:Ie[0])||void 0===He?void 0:He[sc];void 0!==on&&x(!!on),ft(C,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(C){const x=C._key();return this.originValidationPromises[x]||(this.originValidationPromises[x]=function Jl(U){return fl.apply(this,arguments)}(C)),this.originValidationPromises[x]}get _shouldInitProactively(){return ln()||ee()||Jt()}};class bd{constructor(C){this.factorId=C}_process(C,x,W){switch(x.type){case"enroll":return this._finalizeEnroll(C,x.credential,W);case"signin":return this._finalizeSignIn(C,x.credential);default:return Gt("unexpected MultiFactorSessionType")}}}class Vc extends bd{constructor(C){super("phone"),this.credential=C}static _fromCredential(C){return new Vc(C)}_finalizeEnroll(C,x,W){return function yo(U,C){return en(U,"POST","/v2/accounts/mfaEnrollment:finalize",Ot(U,C))}(C,{idToken:x,displayName:W,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(C,x){return function qi(U,C){return en(U,"POST","/v2/accounts/mfaSignIn:finalize",Ot(U,C))}(C,{mfaPendingCredential:x,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let dh=(()=>{class U{constructor(){}static assertion(x){return Vc._fromCredential(x)}}return U.FACTOR_ID="phone",U})();var Uc="@firebase/auth";class Sl{constructor(C){this.auth=C,this.internalListeners=new Map}getUid(){var C;return this.assertAuthConfigured(),(null===(C=this.auth.currentUser)||void 0===C?void 0:C.uid)||null}getToken(C){var x=this;return(0,d.Z)(function*(){return x.assertAuthConfigured(),yield x.auth._initializationPromise,x.auth.currentUser?{accessToken:yield x.auth.currentUser.getIdToken(C)}:null})()}addAuthTokenListener(C){if(this.assertAuthConfigured(),this.internalListeners.has(C))return;const x=this.auth.onIdTokenChanged(W=>{C((null==W?void 0:W.stsTokenManager.accessToken)||null)});this.internalListeners.set(C,x),this.updateProactiveRefresh()}removeAuthTokenListener(C){this.assertAuthConfigured();const x=this.internalListeners.get(C);x&&(this.internalListeners.delete(C),x(),this.updateProactiveRefresh())}assertAuthConfigured(){te(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const zc=(0,E.Pz)("authIdTokenMaxAge")||300;let qa=null;const Ed=U=>function(){var C=(0,d.Z)(function*(x){const W=x&&(yield x.getIdTokenResult()),Ie=W&&((new Date).getTime()-Date.parse(W.issuedAtTime))/1e3;if(Ie&&Ie>zc)return;const He=null==W?void 0:W.token;qa!==He&&(qa=He,yield fetch(U,{method:He?"POST":"DELETE",headers:He?{Authorization:`Bearer ${He}`}:{}}))});return function(x){return C.apply(this,arguments)}}();function Hl(U=(0,be.getApp)()){const C=(0,be._getProvider)(U,"auth");if(C.isInitialized())return C.getImmediate();const x=function ks(U,C){const x=(0,be._getProvider)(U,"auth");if(x.isInitialized()){const Ie=x.getImmediate(),He=x.getOptions();if((0,E.vZ)(He,null!=C?C:{}))return Ie;ft(Ie,"already-initialized")}return x.initialize({options:C})}(U,{popupRedirectResolver:$c,persistence:[Ji,wa,dl]}),W=(0,E.Pz)("authTokenSyncURL");if(W){const He=Ed(W);(function Pe(U,C,x){(0,E.m9)(U).beforeAuthStateChanged(C,x)})(x,He,()=>He(x.currentUser)),function Q(U,C,x,W){(0,E.m9)(U).onIdTokenChanged(C,x,W)}(x,on=>He(on))}const Ie=(0,E.q4)("auth");return Ie&&Fs(x,`http://${Ie}`),x}!function bc(U){(0,be._registerComponent)(new je.wA("auth",(C,{options:x})=>{const W=C.getProvider("app").getImmediate(),Ie=C.getProvider("heartbeat"),He=C.getProvider("app-check-internal"),{apiKey:on,authDomain:xn}=W.options;te(on&&!on.includes(":"),"invalid-api-key",{appName:W.name});const _r={apiKey:on,authDomain:xn,clientPlatform:U,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:kn(U)},si=new es(W,Ie,He,_r);return function Ns(U,C){const x=(null==C?void 0:C.persistence)||[],W=(Array.isArray(x)?x:[x]).map(Hn);null!=C&&C.errorMap&&U._updateErrorMap(C.errorMap),U._initializeWithPersistence(W,null==C?void 0:C.popupRedirectResolver)}(si,x),si},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((C,x,W)=>{C.getProvider("auth-internal").initialize()})),(0,be._registerComponent)(new je.wA("auth-internal",C=>{const x=Hi(C.getProvider("auth").getImmediate());return new Sl(x)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,be.registerVersion)(Uc,"0.23.2",function lu(U){switch(U){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(U)),(0,be.registerVersion)(Uc,"0.23.2","esm2017")}("Browser")},2810:(Jn,Ft,z)=>{"use strict";z.d(Ft,{u7:()=>Ef,Jj:()=>Yl,IX:()=>Ty,my:()=>da,xU:()=>Rc,Lz:()=>Pc,WA:()=>Xn,F8:()=>Pu,$q:()=>ql,W:()=>fd,EK:()=>Ks,PU:()=>gc,l7:()=>ra,Ky:()=>gr,Xb:()=>hs,Cf:()=>so,K9:()=>Kn,Me:()=>Ki,yq:()=>Yo,Wi:()=>Cy,ET:()=>ol,Ab:()=>__,vr:()=>v_,Fc:()=>_0,hJ:()=>th,B$:()=>nh,at:()=>ad,oe:()=>u_,AK:()=>qy,TF:()=>b0,JU:()=>ld,ST:()=>om,fH:()=>jv,Ix:()=>Wv,Wu:()=>$y,Lx:()=>By,qY:()=>ja,GL:()=>ah,QT:()=>pd,kl:()=>a_,Xk:()=>bm,PL:()=>I0,UQ:()=>C0,zN:()=>l_,ad:()=>Ay,nP:()=>b_,b9:()=>Fy,vh:()=>fm,Pb:()=>w0,L$:()=>Gv,cf:()=>Hy,sc:()=>d_,Xo:()=>t_,IO:()=>Jv,iE:()=>xu,Eo:()=>rh,i3:()=>Yy,Bt:()=>y_,pl:()=>c_,Ub:()=>yo,qK:()=>_m,TQ:()=>Ly,e0:()=>pm,r7:()=>zy,Mx:()=>Hv,ar:()=>e_});var Re,d=z(5861),E=z(6881),be=z(4859),ke=z(1877),qe=z(2090),je=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Se={},Ze=Ze||{},Le=je||self;function xe(){}function it(i){var e=typeof i;return"array"==(e="object"!=e?e:i?Array.isArray(i)?"array":e:"null")||"object"==e&&"number"==typeof i.length}function Me(i){var e=typeof i;return"object"==e&&null!=i||"function"==e}var pt="closure_uid_"+(1e9*Math.random()>>>0),jt=0;function We(i,e,t){return i.call.apply(i.bind,arguments)}function Be(i,e,t){if(!i)throw Error();if(2<arguments.length){var a=Array.prototype.slice.call(arguments,2);return function(){var h=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(h,a),i.apply(e,h)}}return function(){return i.apply(e,arguments)}}function kt(i,e,t){return(kt=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?We:Be).apply(null,arguments)}function Mt(i,e){var t=Array.prototype.slice.call(arguments,1);return function(){var a=t.slice();return a.push.apply(a,arguments),i.apply(this,a)}}function ft(i,e){function t(){}t.prototype=e.prototype,i.$=e.prototype,i.prototype=new t,i.prototype.constructor=i,i.ac=function(a,h,b){for(var T=Array(arguments.length-2),G=2;G<arguments.length;G++)T[G-2]=arguments[G];return e.prototype[h].apply(a,T)}}function It(){this.s=this.s,this.o=this.o}It.prototype.s=!1,It.prototype.ra=function(){!this.s&&(this.s=!0,this.N(),0)&&function lt(i){Object.prototype.hasOwnProperty.call(i,pt)&&i[pt]||(i[pt]=++jt)}(this)},It.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Ct=Array.prototype.indexOf?function(i,e){return Array.prototype.indexOf.call(i,e,void 0)}:function(i,e){if("string"==typeof i)return"string"!=typeof e||1!=e.length?-1:i.indexOf(e,0);for(let t=0;t<i.length;t++)if(t in i&&i[t]===e)return t;return-1};function gt(i){const e=i.length;if(0<e){const t=Array(e);for(let a=0;a<e;a++)t[a]=i[a];return t}return[]}function te(i,e){for(let t=1;t<arguments.length;t++){const a=arguments[t];if(it(a)){const h=i.length||0,b=a.length||0;i.length=h+b;for(let T=0;T<b;T++)i[h+T]=a[T]}else i.push(a)}}function Gt(i,e){this.type=i,this.g=this.target=e,this.defaultPrevented=!1}Gt.prototype.h=function(){this.defaultPrevented=!0};var Dt=function(){if(!Le.addEventListener||!Object.defineProperty)return!1;var i=!1,e=Object.defineProperty({},"passive",{get:function(){i=!0}});try{Le.addEventListener("test",xe,e),Le.removeEventListener("test",xe,e)}catch{}return i}();function Lt(i){return/^[\s\xa0]*$/.test(i)}var qt=String.prototype.trim?function(i){return i.trim()}:function(i){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(i)[1]};function Te(i,e){return i<e?-1:i>e?1:0}function Je(){var i=Le.navigator;return i&&(i=i.userAgent)?i:""}function ct(i){return-1!=Je().indexOf(i)}function yt(i){return yt[" "](i),i}function et(i,e,t){return Object.prototype.hasOwnProperty.call(i,e)?i[e]:i[e]=t(e)}yt[" "]=xe;var nn,i,tt=ct("Opera"),dt=ct("Trident")||ct("MSIE"),Ut=ct("Edge"),Ot=Ut||dt,en=ct("Gecko")&&!(-1!=Je().toLowerCase().indexOf("webkit")&&!ct("Edge"))&&!(ct("Trident")||ct("MSIE"))&&!ct("Edge"),rn=-1!=Je().toLowerCase().indexOf("webkit")&&!ct("Edge");function On(){var i=Le.document;return i?i.documentMode:void 0}e:{var _t="",cn=(i=Je(),en?/rv:([^\);]+)(\)|;)/.exec(i):Ut?/Edge\/([\d\.]+)/.exec(i):dt?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(i):rn?/WebKit\/(\S+)/.exec(i):tt?/(?:Version)[ \/]?(\S+)/.exec(i):void 0);if(cn&&(_t=cn?cn[1]:""),dt){var gn=On();if(null!=gn&&gn>parseFloat(_t)){nn=String(gn);break e}}nn=_t}var Zn={},rr=Le.document&&dt&&(On()||parseInt(nn,10))||void 0;function an(i,e){if(Gt.call(this,i?i.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,i){var t=this.type=i.type,a=i.changedTouches&&i.changedTouches.length?i.changedTouches[0]:null;if(this.target=i.target||i.srcElement,this.g=e,e=i.relatedTarget){if(en){e:{try{yt(e.nodeName);var h=!0;break e}catch{}h=!1}h||(e=null)}}else"mouseover"==t?e=i.fromElement:"mouseout"==t&&(e=i.toElement);this.relatedTarget=e,a?(this.clientX=void 0!==a.clientX?a.clientX:a.pageX,this.clientY=void 0!==a.clientY?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0):(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0),this.button=i.button,this.key=i.key||"",this.ctrlKey=i.ctrlKey,this.altKey=i.altKey,this.shiftKey=i.shiftKey,this.metaKey=i.metaKey,this.pointerId=i.pointerId||0,this.pointerType="string"==typeof i.pointerType?i.pointerType:Pr[i.pointerType]||"",this.state=i.state,this.i=i,i.defaultPrevented&&an.$.h.call(this)}}ft(an,Gt);var Pr={2:"touch",3:"pen",4:"mouse"};an.prototype.h=function(){an.$.h.call(this);var i=this.i;i.preventDefault?i.preventDefault():i.returnValue=!1};var Br="closure_listenable_"+(1e6*Math.random()|0),Ar=0;function Pn(i,e,t,a,h){this.listener=i,this.proxy=null,this.src=e,this.type=t,this.capture=!!a,this.la=h,this.key=++Ar,this.fa=this.ia=!1}function oi(i){i.fa=!0,i.listener=null,i.proxy=null,i.src=null,i.la=null}function Wr(i,e,t){for(const a in i)e.call(t,i[a],a,i)}function ar(i){const e={};for(const t in i)e[t]=i[t];return e}const Ai="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function bi(i,e){let t,a;for(let h=1;h<arguments.length;h++){for(t in a=arguments[h],a)i[t]=a[t];for(let b=0;b<Ai.length;b++)t=Ai[b],Object.prototype.hasOwnProperty.call(a,t)&&(i[t]=a[t])}}function lr(i){this.src=i,this.g={},this.h=0}function ir(i,e){var t=e.type;if(t in i.g){var b,a=i.g[t],h=Ct(a,e);(b=0<=h)&&Array.prototype.splice.call(a,h,1),b&&(oi(e),0==i.g[t].length&&(delete i.g[t],i.h--))}}function mr(i,e,t,a){for(var h=0;h<i.length;++h){var b=i[h];if(!b.fa&&b.listener==e&&b.capture==!!t&&b.la==a)return h}return-1}lr.prototype.add=function(i,e,t,a,h){var b=i.toString();(i=this.g[b])||(i=this.g[b]=[],this.h++);var T=mr(i,e,a,h);return-1<T?(e=i[T],t||(e.ia=!1)):((e=new Pn(e,this.src,b,!!a,h)).ia=t,i.push(e)),e};var ui="closure_lm_"+(1e6*Math.random()|0),gi={};function ni(i,e,t,a,h){if(a&&a.once)return br(i,e,t,a,h);if(Array.isArray(e)){for(var b=0;b<e.length;b++)ni(i,e[b],t,a,h);return null}return t=Wt(t),i&&i[Br]?i.O(e,t,Me(a)?!!a.capture:!!a,h):di(i,e,t,!1,a,h)}function di(i,e,t,a,h,b){if(!e)throw Error("Invalid event type");var T=Me(h)?!!h.capture:!!h,G=Ne(i);if(G||(i[ui]=G=new lr(i)),(t=G.add(e,t,a,T,b)).proxy)return t;if(a=function Ti(){const e=Sn;return function i(t){return e.call(i.src,i.listener,t)}}(),t.proxy=a,a.src=i,a.listener=t,i.addEventListener)Dt||(h=T),void 0===h&&(h=!1),i.addEventListener(e.toString(),a,h);else if(i.attachEvent)i.attachEvent(Er(e.toString()),a);else{if(!i.addListener||!i.removeListener)throw Error("addEventListener and attachEvent are unavailable.");i.addListener(a)}return t}function br(i,e,t,a,h){if(Array.isArray(e)){for(var b=0;b<e.length;b++)br(i,e[b],t,a,h);return null}return t=Wt(t),i&&i[Br]?i.P(e,t,Me(a)?!!a.capture:!!a,h):di(i,e,t,!0,a,h)}function hr(i,e,t,a,h){if(Array.isArray(e))for(var b=0;b<e.length;b++)hr(i,e[b],t,a,h);else a=Me(a)?!!a.capture:!!a,t=Wt(t),i&&i[Br]?(i=i.i,(e=String(e).toString())in i.g&&-1<(t=mr(b=i.g[e],t,a,h))&&(oi(b[t]),Array.prototype.splice.call(b,t,1),0==b.length&&(delete i.g[e],i.h--))):i&&(i=Ne(i))&&(e=i.g[e.toString()],i=-1,e&&(i=mr(e,t,a,h)),(t=-1<i?e[i]:null)&&Di(t))}function Di(i){if("number"!=typeof i&&i&&!i.fa){var e=i.src;if(e&&e[Br])ir(e.i,i);else{var t=i.type,a=i.proxy;e.removeEventListener?e.removeEventListener(t,a,i.capture):e.detachEvent?e.detachEvent(Er(t),a):e.addListener&&e.removeListener&&e.removeListener(a),(t=Ne(e))?(ir(t,i),0==t.h&&(t.src=null,e[ui]=null)):oi(i)}}}function Er(i){return i in gi?gi[i]:gi[i]="on"+i}function Sn(i,e){if(i.fa)i=!0;else{e=new an(e,this);var t=i.listener,a=i.la||i.src;i.ia&&Di(i),i=t.call(a,e)}return i}function Ne(i){return(i=i[ui])instanceof lr?i:null}var ht="__closure_events_fn_"+(1e9*Math.random()>>>0);function Wt(i){return"function"==typeof i?i:(i[ht]||(i[ht]=function(e){return i.handleEvent(e)}),i[ht])}function wn(){It.call(this),this.i=new lr(this),this.S=this,this.J=null}function Hn(i,e){var t,a=i.J;if(a)for(t=[];a;a=a.J)t.push(a);if(i=i.S,a=e.type||e,"string"==typeof e)e=new Gt(e,i);else if(e instanceof Gt)e.target=e.target||i;else{var h=e;bi(e=new Gt(a,i),h)}if(h=!0,t)for(var b=t.length-1;0<=b;b--){var T=e.g=t[b];h=jr(T,a,!0,e)&&h}if(h=jr(T=e.g=i,a,!0,e)&&h,h=jr(T,a,!1,e)&&h,t)for(b=0;b<t.length;b++)h=jr(T=e.g=t[b],a,!1,e)&&h}function jr(i,e,t,a){if(!(e=i.i.g[String(e)]))return!0;e=e.concat();for(var h=!0,b=0;b<e.length;++b){var T=e[b];if(T&&!T.fa&&T.capture==t){var G=T.listener,ae=T.la||T.src;T.ia&&ir(i.i,T),h=!1!==G.call(ae,a)&&h}}return h&&!a.defaultPrevented}ft(wn,It),wn.prototype[Br]=!0,wn.prototype.removeEventListener=function(i,e,t,a){hr(this,i,e,t,a)},wn.prototype.N=function(){if(wn.$.N.call(this),this.i){var e,i=this.i;for(e in i.g){for(var t=i.g[e],a=0;a<t.length;a++)oi(t[a]);delete i.g[e],i.h--}}this.J=null},wn.prototype.O=function(i,e,t,a){return this.i.add(String(i),e,!1,t,a)},wn.prototype.P=function(i,e,t,a){return this.i.add(String(i),e,!0,t,a)};var kr=Le.JSON.stringify;function Rr(){var i=Vt;let e=null;return i.g&&(e=i.g,i.g=i.g.next,i.g||(i.h=null),e.next=null),e}var Ke,Ae=new class{constructor(i,e){this.i=i,this.j=e,this.h=0,this.g=null}get(){let i;return 0<this.h?(this.h--,i=this.g,this.g=i.next,i.next=null):i=this.i(),i}}(()=>new ie,i=>i.reset());class ie{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function ee(i){Le.setTimeout(()=>{throw i},0)}function se(i,e){Ke||function xt(){var i=Le.Promise.resolve(void 0);Ke=function(){i.then(Jt)}}(),rt||(Ke(),rt=!0),Vt.add(i,e)}var rt=!1,Vt=new class mt{constructor(){this.h=this.g=null}add(e,t){const a=Ae.get();a.set(e,t),this.h?this.h.next=a:this.g=a,this.h=a}};function Jt(){for(var i;i=Rr();){try{i.h.call(i.g)}catch(t){ee(t)}var e=Ae;e.j(i),100>e.h&&(e.h++,i.next=e.g,e.g=i)}rt=!1}function Cn(i,e){wn.call(this),this.h=i||1,this.g=e||Le,this.j=kt(this.qb,this),this.l=Date.now()}function vn(i){i.ga=!1,i.T&&(i.g.clearTimeout(i.T),i.T=null)}function $n(i,e,t){if("function"==typeof i)t&&(i=kt(i,t));else{if(!i||"function"!=typeof i.handleEvent)throw Error("Invalid listener argument");i=kt(i.handleEvent,i)}return 2147483647<Number(e)?-1:Le.setTimeout(i,e||0)}function ln(i){i.g=$n(()=>{i.g=null,i.i&&(i.i=!1,ln(i))},i.j);const e=i.h;i.h=null,i.m.apply(null,e)}ft(Cn,wn),(Re=Cn.prototype).ga=!1,Re.T=null,Re.qb=function(){if(this.ga){var i=Date.now()-this.l;0<i&&i<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-i):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Hn(this,"tick"),this.ga&&(vn(this),this.start()))}},Re.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Re.N=function(){Cn.$.N.call(this),vn(this),delete this.g};class yn extends It{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:ln(this)}N(){super.N(),this.g&&(Le.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function kn(i){It.call(this),this.h=i,this.g={}}ft(kn,It);var Bt=[];function Kt(i,e,t,a){Array.isArray(t)||(t&&(Bt[0]=t.toString()),t=Bt);for(var h=0;h<t.length;h++){var b=ni(e,t[h],a||i.handleEvent,!1,i.h||i);if(!b)break;i.g[b.key]=b}}function fn(i){Wr(i.g,function(e,t){this.g.hasOwnProperty(t)&&Di(e)},i),i.g={}}function qn(){this.g=!0}function $r(i,e,t,a){i.info(function(){return"XMLHTTP TEXT ("+e+"): "+function Xr(i,e){if(!i.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(i=0;i<t.length;i++)if(Array.isArray(t[i])){var a=t[i];if(!(2>a.length)){var h=a[1];if(Array.isArray(h)&&!(1>h.length)){var b=h[0];if("noop"!=b&&"stop"!=b&&"close"!=b)for(var T=1;T<h.length;T++)h[T]=""}}}return kr(t)}catch{return e}}(i,t)+(a?" "+a:"")})}kn.prototype.N=function(){kn.$.N.call(this),fn(this)},kn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},qn.prototype.Ea=function(){this.g=!1},qn.prototype.info=function(){};var Ur={},Gr=null;function ls(){return Gr=Gr||new wn}function Os(i){Gt.call(this,Ur.Ta,i)}function to(i){const e=ls();Hn(e,new Os(e))}function ps(i,e){Gt.call(this,Ur.STAT_EVENT,i),this.stat=e}function cs(i){const e=ls();Hn(e,new ps(e,i))}function Eo(i,e){Gt.call(this,Ur.Ua,i),this.size=e}function es(i,e){if("function"!=typeof i)throw Error("Fn must not be null and must be a function");return Le.setTimeout(function(){i()},e)}Ur.Ta="serverreachability",ft(Os,Gt),Ur.STAT_EVENT="statevent",ft(ps,Gt),Ur.Ua="timingevent",ft(Eo,Gt);var Hi={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},zs={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function ks(){}function Fs(){}ks.prototype.h=null;var Ee,re={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function pe(){Gt.call(this,"d")}function Oe(){Gt.call(this,"c")}function ne(){}function ve(i,e,t,a){this.l=i,this.j=e,this.m=t,this.W=a||1,this.U=new kn(this),this.P=wt,this.V=new Cn(i=Ot?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.aa=-1,this.J=!1,this.O=0,this.M=null,this.ca=this.K=this.ba=this.S=!1,this.h=new st}function st(){this.i=null,this.g="",this.h=!1}ft(pe,Gt),ft(Oe,Gt),ft(ne,ks),ne.prototype.g=function(){return new XMLHttpRequest},ne.prototype.i=function(){return{}},Ee=new ne;var wt=45e3,$t={},tn={};function Un(i,e,t){i.L=1,i.v=Qi(zi(e)),i.s=t,i.S=!0,jn(i,null)}function jn(i,e){i.G=Date.now(),Xi(i),i.A=zi(i.v);var t=i.A,a=i.W;Array.isArray(a)||(a=[String(a)]),Oi(t.i,"t",a),i.C=0,t=i.l.I,i.h=new st,i.g=Ms(i.l,t?e:null,!i.s),0<i.O&&(i.M=new yn(kt(i.Pa,i,i.g),i.O)),Kt(i.U,i.g,"readystatechange",i.nb),e=i.I?ar(i.I):{},i.s?(i.u||(i.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",i.g.ha(i.A,i.u,i.s,e)):(i.u="GET",i.g.ha(i.A,i.u,null,e)),to(),function pr(i,e,t,a,h,b){i.info(function(){if(i.g)if(b)for(var T="",G=b.split("&"),ae=0;ae<G.length;ae++){var we=G[ae].split("=");if(1<we.length){var Ye=we[0];we=we[1];var Pt=Ye.split("_");T=2<=Pt.length&&"type"==Pt[1]?T+(Ye+"=")+we+"&":T+(Ye+"=redacted&")}}else T=null;else T=b;return"XMLHTTP REQ ("+a+") [attempt "+h+"]: "+e+"\n"+t+"\n"+T})}(i.j,i.u,i.A,i.m,i.W,i.s)}function Nr(i){return!!i.g&&"GET"==i.u&&2!=i.L&&i.l.Ha}function Kr(i,e,t){let h,a=!0;for(;!i.J&&i.C<t.length;){if(h=gs(i,t),h==tn){4==e&&(i.o=4,cs(14),a=!1),$r(i.j,i.m,null,"[Incomplete Response]");break}if(h==$t){i.o=4,cs(15),$r(i.j,i.m,t,"[Invalid Chunk]"),a=!1;break}$r(i.j,i.m,h,null),Lr(i,h)}Nr(i)&&h!=tn&&h!=$t&&(i.h.g="",i.C=0),4!=e||0!=t.length||i.h.h||(i.o=1,cs(16),a=!1),i.i=i.i&&a,a?0<t.length&&!i.ca&&(i.ca=!0,(e=i.l).g==i&&e.ca&&!e.L&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+t.length),mi(e),e.L=!0,cs(11))):($r(i.j,i.m,t,"[Invalid Chunked Response]"),Fr(i),An(i))}function gs(i,e){var t=i.C,a=e.indexOf("\n",t);return-1==a?tn:(t=Number(e.substring(t,a)),isNaN(t)?$t:(a+=1)+t>e.length?tn:(e=e.substr(a,t),i.C=a+t,e))}function Xi(i){i.Y=Date.now()+i.P,Si(i,i.P)}function Si(i,e){if(null!=i.B)throw Error("WatchDog timer not null");i.B=es(kt(i.lb,i),e)}function Mr(i){i.B&&(Le.clearTimeout(i.B),i.B=null)}function An(i){0==i.l.H||i.J||ts(i.l,i)}function Fr(i){Mr(i);var e=i.M;e&&"function"==typeof e.ra&&e.ra(),i.M=null,vn(i.V),fn(i.U),i.g&&(e=i.g,i.g=null,e.abort(),e.ra())}function Lr(i,e){try{var t=i.l;if(0!=t.H&&(t.g==i||ki(t.h,i)))if(!i.K&&ki(t.h,i)&&3==t.H){try{var a=t.Ja.g.parse(e)}catch{a=null}if(Array.isArray(a)&&3==a.length){var h=a;if(0==h[0]){e:if(!t.u){if(t.g){if(!(t.g.G+3e3<i.G))break e;ri(t),S(t)}ci(t),cs(18)}}else t.Fa=h[1],0<t.Fa-t.V&&37500>h[2]&&t.M&&0==t.A&&!t.v&&(t.v=es(kt(t.ib,t),6e3));if(1>=ro(t.h)&&t.na){try{t.na()}catch{}t.na=void 0}}else As(t,11)}else if((i.K||t.g==i)&&ri(t),!Lt(e))for(h=t.Ja.g.parse(e),e=0;e<h.length;e++){let we=h[e];if(t.V=we[0],we=we[1],2==t.H)if("c"==we[0]){t.J=we[1],t.oa=we[2];const Ye=we[3];null!=Ye&&(t.qa=Ye,t.j.info("VER="+t.qa));const Pt=we[4];null!=Pt&&(t.Ga=Pt,t.j.info("SVER="+t.Ga));const bn=we[5];null!=bn&&"number"==typeof bn&&0<bn&&(t.K=a=1.5*bn,t.j.info("backChannelRequestTimeoutMs_="+a)),a=t;const Vn=i.g;if(Vn){const Tr=Vn.g?Vn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Tr){var b=a.h;b.g||-1==Tr.indexOf("spdy")&&-1==Tr.indexOf("quic")&&-1==Tr.indexOf("h2")||(b.j=b.l,b.g=new Set,b.h&&(Wo(b,b.h),b.h=null))}if(a.F){const pi=Vn.g?Vn.g.getResponseHeader("X-HTTP-Session-Id"):null;pi&&(a.Da=pi,Ni(a.G,a.F,pi))}}t.H=3,t.l&&t.l.Ba(),t.ca&&(t.S=Date.now()-i.G,t.j.info("Handshake RTT: "+t.S+"ms"));var T=i;if((a=t).wa=Ei(a,a.I?a.oa:null,a.Y),T.K){No(a.h,T);var G=T,ae=a.K;ae&&G.setTimeout(ae),G.B&&(Mr(G),Xi(G)),a.g=T}else li(a);0<t.i.length&&ge(t)}else"stop"!=we[0]&&"close"!=we[0]||As(t,7);else 3==t.H&&("stop"==we[0]||"close"==we[0]?"stop"==we[0]?As(t,7):F(t):"noop"!=we[0]&&t.l&&t.l.Aa(we),t.A=0)}to()}catch{}}function is(i,e){if(i.forEach&&"function"==typeof i.forEach)i.forEach(e,void 0);else if(it(i)||"string"==typeof i)Array.prototype.forEach.call(i,e,void 0);else for(var t=function Ao(i){if(i.sa&&"function"==typeof i.sa)return i.sa();if(!i.Z||"function"!=typeof i.Z){if(typeof Map<"u"&&i instanceof Map)return Array.from(i.keys());if(!(typeof Set<"u"&&i instanceof Set)){if(it(i)||"string"==typeof i){var e=[];i=i.length;for(var t=0;t<i;t++)e.push(t);return e}e=[],t=0;for(const a in i)e[t++]=a;return e}}}(i),a=function Ds(i){if(i.Z&&"function"==typeof i.Z)return i.Z();if(typeof Map<"u"&&i instanceof Map||typeof Set<"u"&&i instanceof Set)return Array.from(i.values());if("string"==typeof i)return i.split("");if(it(i)){for(var e=[],t=i.length,a=0;a<t;a++)e.push(i[a]);return e}for(a in e=[],t=0,i)e[t++]=i[a];return e}(i),h=a.length,b=0;b<h;b++)e.call(void 0,a[b],t&&t[b],i)}(Re=ve.prototype).setTimeout=function(i){this.P=i},Re.nb=function(i){i=i.target;const e=this.M;e&&3==Pi(i)?e.l():this.Pa(i)},Re.Pa=function(i){try{if(i==this.g)e:{const Ye=Pi(this.g);var e=this.g.Ia();if(this.g.da(),!(3>Ye)&&(3!=Ye||Ot||this.g&&(this.h.h||this.g.ja()||Bs(this.g)))){this.J||4!=Ye||7==e||to(),Mr(this);var t=this.g.da();this.aa=t;t:if(Nr(this)){var a=Bs(this.g);i="";var h=a.length,b=4==Pi(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Fr(this),An(this);var T="";break t}this.h.i=new Le.TextDecoder}for(e=0;e<h;e++)this.h.h=!0,i+=this.h.i.decode(a[e],{stream:b&&e==h-1});a.splice(0,h),this.h.g+=i,this.C=0,T=this.h.g}else T=this.g.ja();if(this.i=200==t,function Dr(i,e,t,a,h,b,T){i.info(function(){return"XMLHTTP RESP ("+a+") [ attempt "+h+"]: "+e+"\n"+t+"\n"+b+" "+T})}(this.j,this.u,this.A,this.m,this.W,Ye,t),this.i){if(this.ba&&!this.K){t:{if(this.g){var G,ae=this.g;if((G=ae.g?ae.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Lt(G)){var we=G;break t}}we=null}if(!(t=we)){this.i=!1,this.o=3,cs(12),Fr(this),An(this);break e}$r(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Lr(this,t)}this.S?(Kr(this,Ye,T),Ot&&this.i&&3==Ye&&(Kt(this.U,this.V,"tick",this.mb),this.V.start())):($r(this.j,this.m,T,null),Lr(this,T)),4==Ye&&Fr(this),this.i&&!this.J&&(4==Ye?ts(this.l,this):(this.i=!1,Xi(this)))}else 400==t&&0<T.indexOf("Unknown SID")?(this.o=3,cs(12)):(this.o=0,cs(13)),Fr(this),An(this)}}}catch{}},Re.mb=function(){if(this.g){var i=Pi(this.g),e=this.g.ja();this.C<e.length&&(Mr(this),Kr(this,i,e),this.i&&4!=i&&Xi(this))}},Re.cancel=function(){this.J=!0,Fr(this)},Re.lb=function(){this.B=null;const i=Date.now();0<=i-this.Y?(function Fi(i,e){i.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(to(),cs(17)),Fr(this),this.o=2,An(this)):Si(this,this.Y-i)};var wo=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function zr(i,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,i instanceof zr){this.h=void 0!==e?e:i.h,Yr(this,i.j),this.s=i.s,this.g=i.g,ao(this,i.m),this.l=i.l,e=i.i;var t=new ys;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),ms(this,t),this.o=i.o}else i&&(t=String(i).match(wo))?(this.h=!!e,Yr(this,t[1]||"",!0),this.s=no(t[2]||""),this.g=no(t[3]||"",!0),ao(this,t[4]),this.l=no(t[5]||"",!0),ms(this,t[6]||"",!0),this.o=no(t[7]||"")):(this.h=!!e,this.i=new ys(null,this.h))}function zi(i){return new zr(i)}function Yr(i,e,t){i.j=t?no(e,!0):e,i.j&&(i.j=i.j.replace(/:$/,""))}function ao(i,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);i.m=e}else i.m=null}function ms(i,e,t){e instanceof ys?(i.i=e,function co(i,e){e&&!i.j&&(xi(i),i.i=null,i.g.forEach(function(t,a){var h=a.toLowerCase();a!=h&&(Ws(this,a),Oi(this,h,t))},i)),i.j=e}(i.i,i.h)):(t||(e=fo(e,lo)),i.i=new ys(e,i.h))}function Ni(i,e,t){i.i.set(e,t)}function Qi(i){return Ni(i,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),i}function no(i,e){return i?e?decodeURI(i.replace(/%25/g,"%2525")):decodeURIComponent(i):""}function fo(i,e,t){return"string"==typeof i?(i=encodeURI(i).replace(e,Qs),t&&(i=i.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),i):null}function Qs(i){return"%"+((i=i.charCodeAt(0))>>4&15).toString(16)+(15&i).toString(16)}zr.prototype.toString=function(){var i=[],e=this.j;e&&i.push(fo(e,Io,!0),":");var t=this.g;return(t||"file"==e)&&(i.push("//"),(e=this.s)&&i.push(fo(e,Io,!0),"@"),i.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&i.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&i.push("/"),i.push(fo(t,"/"==t.charAt(0)?Hs:Co,!0))),(t=this.i.toString())&&i.push("?",t),(t=this.o)&&i.push("#",fo(t,Ho)),i.join("")};var Io=/[#\/\?@]/g,Co=/[#\?:]/g,Hs=/[#\?]/g,lo=/[#\?@]/g,Ho=/#/g;function ys(i,e){this.h=this.g=null,this.i=i||null,this.j=!!e}function xi(i){i.g||(i.g=new Map,i.h=0,i.i&&function Qr(i,e){if(i){i=i.split("&");for(var t=0;t<i.length;t++){var a=i[t].indexOf("="),h=null;if(0<=a){var b=i[t].substring(0,a);h=i[t].substring(a+1)}else b=i[t];e(b,h?decodeURIComponent(h.replace(/\+/g," ")):"")}}}(i.i,function(e,t){i.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function Ws(i,e){xi(i),e=Ss(i,e),i.g.has(e)&&(i.i=null,i.h-=i.g.get(e).length,i.g.delete(e))}function Es(i,e){return xi(i),e=Ss(i,e),i.g.has(e)}function Oi(i,e,t){Ws(i,e),0<t.length&&(i.i=null,i.g.set(Ss(i,e),gt(t)),i.h+=t.length)}function Ss(i,e){return e=String(e),i.j&&(e=e.toLowerCase()),e}function Ls(i){this.l=i||vs,i=Le.PerformanceNavigationTiming?0<(i=Le.performance.getEntriesByType("navigation")).length&&("hq"==i[0].nextHopProtocol||"h2"==i[0].nextHopProtocol):!!(Le.g&&Le.g.Ka&&Le.g.Ka()&&Le.g.Ka().ec),this.j=i?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(Re=ys.prototype).add=function(i,e){xi(this),this.i=null,i=Ss(this,i);var t=this.g.get(i);return t||this.g.set(i,t=[]),t.push(e),this.h+=1,this},Re.forEach=function(i,e){xi(this),this.g.forEach(function(t,a){t.forEach(function(h){i.call(e,h,a,this)},this)},this)},Re.sa=function(){xi(this);const i=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let a=0;a<e.length;a++){const h=i[a];for(let b=0;b<h.length;b++)t.push(e[a])}return t},Re.Z=function(i){xi(this);let e=[];if("string"==typeof i)Es(this,i)&&(e=e.concat(this.g.get(Ss(this,i))));else{i=Array.from(this.g.values());for(let t=0;t<i.length;t++)e=e.concat(i[t])}return e},Re.set=function(i,e){return xi(this),this.i=null,Es(this,i=Ss(this,i))&&(this.h-=this.g.get(i).length),this.g.set(i,[e]),this.h+=1,this},Re.get=function(i,e){return i&&0<(i=this.Z(i)).length?String(i[0]):e},Re.toString=function(){if(this.i)return this.i;if(!this.g)return"";const i=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var a=e[t];const b=encodeURIComponent(String(a)),T=this.Z(a);for(a=0;a<T.length;a++){var h=b;""!==T[a]&&(h+="="+encodeURIComponent(String(T[a]))),i.push(h)}}return this.i=i.join("&")};var vs=10;function Do(i){return!!i.h||!!i.g&&i.g.size>=i.j}function ro(i){return i.h?1:i.g?i.g.size:0}function ki(i,e){return i.h?i.h==e:!!i.g&&i.g.has(e)}function Wo(i,e){i.g?i.g.add(e):i.h=e}function No(i,e){i.h&&i.h==e?i.h=null:i.g&&i.g.has(e)&&i.g.delete(e)}function uo(i){if(null!=i.h)return i.i.concat(i.h.F);if(null!=i.g&&0!==i.g.size){let e=i.i;for(const t of i.g.values())e=e.concat(t.F);return e}return gt(i.i)}function So(){}function po(){this.g=new So}function Go(i,e,t){const a=t||"";try{is(i,function(h,b){let T=h;Me(h)&&(T=kr(h)),e.push(a+b+"="+encodeURIComponent(T))})}catch(h){throw e.push(a+"type="+encodeURIComponent("_badmap")),h}}function Ts(i,e,t,a,h){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,h(a)}catch{}}function xo(i){this.l=i.fc||null,this.j=i.ob||!1}function us(i,e){wn.call(this),this.F=i,this.u=e,this.m=void 0,this.readyState=Mo,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Ls.prototype.cancel=function(){if(this.i=uo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const i of this.g.values())i.cancel();this.g.clear()}},So.prototype.stringify=function(i){return Le.JSON.stringify(i,void 0)},So.prototype.parse=function(i){return Le.JSON.parse(i,void 0)},ft(xo,ks),xo.prototype.g=function(){return new us(this.l,this.j)},xo.prototype.i=function(i){return function(){return i}}({}),ft(us,wn);var Mo=0;function To(i){i.j.read().then(i.Xa.bind(i)).catch(i.ka.bind(i))}function Bo(i){i.readyState=4,i.l=null,i.j=null,i.A=null,$i(i)}function $i(i){i.onreadystatechange&&i.onreadystatechange.call(i)}(Re=us.prototype).open=function(i,e){if(this.readyState!=Mo)throw this.abort(),Error("Error reopening a connection");this.C=i,this.B=e,this.readyState=1,$i(this)},Re.send=function(i){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};i&&(e.body=i),(this.F||Le).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},Re.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Bo(this)),this.readyState=Mo},Re.$a=function(i){if(this.g&&(this.l=i,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=i.headers,this.readyState=2,$i(this)),this.g&&(this.readyState=3,$i(this),this.g)))if("arraybuffer"===this.responseType)i.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof Le.ReadableStream<"u"&&"body"in i){if(this.j=i.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;To(this)}else i.text().then(this.Za.bind(this),this.ka.bind(this))},Re.Xa=function(i){if(this.g){if(this.u&&i.value)this.response.push(i.value);else if(!this.u){var e=i.value?i.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!i.done}))&&(this.response=this.responseText+=e)}i.done?Bo(this):$i(this),3==this.readyState&&To(this)}},Re.Za=function(i){this.g&&(this.response=this.responseText=i,Bo(this))},Re.Ya=function(i){this.g&&(this.response=i,Bo(this))},Re.ka=function(){this.g&&Bo(this)},Re.setRequestHeader=function(i,e){this.v.append(i,e)},Re.getResponseHeader=function(i){return this.h&&this.h.get(i.toLowerCase())||""},Re.getAllResponseHeaders=function(){if(!this.h)return"";const i=[],e=this.h.entries();for(var t=e.next();!t.done;)i.push((t=t.value)[0]+": "+t[1]),t=e.next();return i.join("\r\n")},Object.defineProperty(us.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(i){this.m=i?"include":"same-origin"}});var O=Le.JSON.parse;function he(i){wn.call(this),this.headers=new Map,this.u=i||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=N,this.L=this.M=!1}ft(he,wn);var N="",le=/^https?$/i,Ge=["POST","PUT"];function Sr(i,e){i.h=!1,i.g&&(i.l=!0,i.g.abort(),i.l=!1),i.j=e,i.m=5,Gn(i),hi(i)}function Gn(i){i.F||(i.F=!0,Hn(i,"complete"),Hn(i,"error"))}function ai(i){if(i.h&&typeof Ze<"u"&&(!i.C[1]||4!=Pi(i)||2!=i.da()))if(i.v&&4==Pi(i))$n(i.La,0,i);else if(Hn(i,"readystatechange"),4==Pi(i)){i.h=!1;try{const G=i.da();e:switch(G){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var a;if(a=0===G){var h=String(i.I).match(wo)[1]||null;if(!h&&Le.self&&Le.self.location){var b=Le.self.location.protocol;h=b.substr(0,b.length-1)}a=!le.test(h?h.toLowerCase():"")}t=a}if(t)Hn(i,"complete"),Hn(i,"success");else{i.m=6;try{var T=2<Pi(i)?i.g.statusText:""}catch{T=""}i.j=T+" ["+i.da()+"]",Gn(i)}}finally{hi(i)}}}function hi(i,e){if(i.g){ws(i);const t=i.g,a=i.C[0]?xe:null;i.g=null,i.C=null,e||Hn(i,"ready");try{t.onreadystatechange=a}catch{}}}function ws(i){i.g&&i.L&&(i.g.ontimeout=null),i.A&&(Le.clearTimeout(i.A),i.A=null)}function Pi(i){return i.g?i.g.readyState:0}function Bs(i){try{if(!i.g)return null;if("response"in i.g)return i.g.response;switch(i.K){case N:case"text":return i.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in i.g)return i.g.mozResponseArrayBuffer}return null}catch{return null}}function Po(i){let e="";return Wr(i,function(t,a){e+=a,e+=":",e+=t,e+="\r\n"}),e}function _e(i,e,t){e:{for(a in t){var a=!1;break e}a=!0}a||(t=Po(t),"string"==typeof i?null!=t&&encodeURIComponent(String(t)):Ni(i,e,t))}function ce(i,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[i]||e}function $(i){this.Ga=0,this.i=[],this.j=new qn,this.oa=this.wa=this.G=this.Y=this.g=this.Da=this.F=this.ma=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=ce("failFast",!1,i),this.M=this.v=this.u=this.m=this.l=null,this.aa=!0,this.ta=this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=ce("baseRetryDelayMs",5e3,i),this.hb=ce("retryDelaySeedMs",1e4,i),this.eb=ce("forwardChannelMaxRetries",2,i),this.xa=ce("forwardChannelRequestTimeoutMs",2e4,i),this.va=i&&i.xmlHttpFactory||void 0,this.Ha=i&&i.dc||!1,this.K=void 0,this.I=i&&i.supportsCrossDomainXhr||!1,this.J="",this.h=new Ls(i&&i.concurrentRequestLimit),this.Ja=new po,this.P=i&&i.fastHandshake||!1,this.O=i&&i.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=i&&i.bc||!1,i&&i.Ea&&this.j.Ea(),i&&i.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&i&&i.detectBufferingProxy||!1,this.na=void 0,this.S=0,this.L=!1,this.pa=this.B=null}function F(i){if(L(i),3==i.H){var e=i.W++,t=zi(i.G);Ni(t,"SID",i.J),Ni(t,"RID",e),Ni(t,"TYPE","terminate"),dn(i,t),(e=new ve(i,i.j,e,void 0)).L=2,e.v=Qi(zi(t)),t=!1,Le.navigator&&Le.navigator.sendBeacon&&(t=Le.navigator.sendBeacon(e.v.toString(),"")),!t&&Le.Image&&((new Image).src=e.v,t=!0),t||(e.g=Ms(e.l,null),e.g.ha(e.v)),e.G=Date.now(),Xi(e)}xs(i)}function S(i){i.g&&(mi(i),i.g.cancel(),i.g=null)}function L(i){S(i),i.u&&(Le.clearTimeout(i.u),i.u=null),ri(i),i.h.cancel(),i.m&&("number"==typeof i.m&&Le.clearTimeout(i.m),i.m=null)}function ge(i){Do(i.h)||i.m||(i.m=!0,se(i.Na,i),i.C=0)}function Nt(i,e){var t;t=e?e.m:i.W++;const a=zi(i.G);Ni(a,"SID",i.J),Ni(a,"RID",t),Ni(a,"AID",i.V),dn(i,a),i.o&&i.s&&_e(a,i.o,i.s),t=new ve(i,i.j,t,i.C+1),null===i.o&&(t.I=i.s),e&&(i.i=e.F.concat(i.i)),e=Mn(i,t,1e3),t.setTimeout(Math.round(.5*i.xa)+Math.round(.5*i.xa*Math.random())),Wo(i.h,t),Un(t,a,e)}function dn(i,e){i.ma&&Wr(i.ma,function(t,a){Ni(e,a,t)}),i.l&&is({},function(t,a){Ni(e,a,t)})}function Mn(i,e,t){t=Math.min(i.i.length,t);var a=i.l?kt(i.l.Va,i.l,i):null;e:{var h=i.i;let b=-1;for(;;){const T=["count="+t];-1==b?0<t?(b=h[0].h,T.push("ofs="+b)):b=0:T.push("ofs="+b);let G=!0;for(let ae=0;ae<t;ae++){let we=h[ae].h;const Ye=h[ae].g;if(we-=b,0>we)b=Math.max(0,h[ae].h-100),G=!1;else try{Go(Ye,T,"req"+we+"_")}catch{a&&a(Ye)}}if(G){a=T.join("&");break e}}}return i=i.i.splice(0,t),e.F=i,a}function li(i){i.g||i.u||(i.ba=1,se(i.Ma,i),i.A=0)}function ci(i){return!(i.g||i.u||3<=i.A||(i.ba++,i.u=es(kt(i.Ma,i),Js(i,i.A)),i.A++,0))}function mi(i){null!=i.B&&(Le.clearTimeout(i.B),i.B=null)}function vi(i){i.g=new ve(i,i.j,"rpc",i.ba),null===i.o&&(i.g.I=i.s),i.g.O=0;var e=zi(i.wa);Ni(e,"RID","rpc"),Ni(e,"SID",i.J),Ni(e,"CI",i.M?"0":"1"),Ni(e,"AID",i.V),Ni(e,"TYPE","xmlhttp"),dn(i,e),i.o&&i.s&&_e(e,i.o,i.s),i.K&&i.g.setTimeout(i.K);var t=i.g;i=i.oa,t.L=1,t.v=Qi(zi(e)),t.s=null,t.S=!0,jn(t,i)}function ri(i){null!=i.v&&(Le.clearTimeout(i.v),i.v=null)}function ts(i,e){var t=null;if(i.g==e){ri(i),mi(i),i.g=null;var a=2}else{if(!ki(i.h,e))return;t=e.F,No(i.h,e),a=1}if(0!=i.H)if(i.ta=e.aa,e.i)if(1==a){t=e.s?e.s.length:0,e=Date.now()-e.G;var h=i.C;Hn(a=ls(),new Eo(a,t)),ge(i)}else li(i);else if(3==(h=e.o)||0==h&&0<i.ta||!(1==a&&function ut(i,e){return!(ro(i.h)>=i.h.j-(i.m?1:0)||(i.m?(i.i=e.F.concat(i.i),0):1==i.H||2==i.H||i.C>=(i.cb?0:i.eb)||(i.m=es(kt(i.Na,i,e),Js(i,i.C)),i.C++,0)))}(i,e)||2==a&&ci(i)))switch(t&&0<t.length&&(e=i.h,e.i=e.i.concat(t)),h){case 1:As(i,5);break;case 4:As(i,10);break;case 3:As(i,6);break;default:As(i,2)}}function Js(i,e){let t=i.ab+Math.floor(Math.random()*i.hb);return i.l||(t*=2),t*e}function As(i,e){if(i.j.info("Error code "+e),2==e){var t=null;i.l&&(t=null);var a=kt(i.pb,i);t||(t=new zr("//www.google.com/images/cleardot.gif"),Le.location&&"http"==Le.location.protocol||Yr(t,"https"),Qi(t)),function go(i,e){const t=new qn;if(Le.Image){const a=new Image;a.onload=Mt(Ts,t,a,"TestLoadImage: loaded",!0,e),a.onerror=Mt(Ts,t,a,"TestLoadImage: error",!1,e),a.onabort=Mt(Ts,t,a,"TestLoadImage: abort",!1,e),a.ontimeout=Mt(Ts,t,a,"TestLoadImage: timeout",!1,e),Le.setTimeout(function(){a.ontimeout&&a.ontimeout()},1e4),a.src=i}else e(!1)}(t.toString(),a)}else cs(2);i.H=0,i.l&&i.l.za(e),xs(i),L(i)}function xs(i){if(i.H=0,i.pa=[],i.l){const e=uo(i.h);(0!=e.length||0!=i.i.length)&&(te(i.pa,e),te(i.pa,i.i),i.h.i.length=0,gt(i.i),i.i.length=0),i.l.ya()}}function Ei(i,e,t){var a=t instanceof zr?zi(t):new zr(t,void 0);if(""!=a.g)e&&(a.g=e+"."+a.g),ao(a,a.m);else{var h=Le.location;a=h.protocol,e=e?e+"."+h.hostname:h.hostname,h=+h.port;var b=new zr(null,void 0);a&&Yr(b,a),e&&(b.g=e),h&&ao(b,h),t&&(b.l=t),a=b}return e=i.Da,(t=i.F)&&e&&Ni(a,t,e),Ni(a,"VER",i.qa),dn(i,a),a}function Ms(i,e,t){if(e&&!i.I)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new he(t&&i.Ha&&!i.va?new xo({ob:!0}):i.va)).Oa(i.I),e}function io(){}function Ko(){if(dt&&!(10<=Number(rr)))throw Error("Environmental error: no available transport.")}function mo(i,e){wn.call(this),this.g=new $(e),this.l=i,this.h=e&&e.messageUrlParams||null,i=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(i?i["X-Client-Protocol"]="webchannel":i={"X-Client-Protocol":"webchannel"}),this.g.s=i,i=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(i?i["X-WebChannel-Content-Type"]=e.messageContentType:i={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(i?i["X-WebChannel-Client-Profile"]=e.Ca:i={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=i,(i=e&&e.cc)&&!Lt(i)&&(this.g.o=i),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Lt(e)&&(this.g.F=e,null!==(i=this.h)&&e in i&&e in(i=this.h)&&delete i[e]),this.j=new Ta(this)}function oa(i){pe.call(this);var e=i.__sm__;if(e){e:{for(const t in e){i=t;break e}i=void 0}(this.i=i)&&(i=this.i,e=null!==e&&i in e?e[i]:void 0),this.data=e}else this.data=i}function ta(){Oe.call(this),this.status=1}function Ta(i){this.g=i}function na(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function Na(i,e,t){t||(t=0);var a=Array(16);if("string"==typeof e)for(var h=0;16>h;++h)a[h]=e.charCodeAt(t++)|e.charCodeAt(t++)<<8|e.charCodeAt(t++)<<16|e.charCodeAt(t++)<<24;else for(h=0;16>h;++h)a[h]=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;var b=i.g[3],T=(e=i.g[0])+(b^(t=i.g[1])&((h=i.g[2])^b))+a[0]+3614090360&4294967295;T=(t=(h=(b=(e=(t=(h=(b=(e=(t=(h=(b=(e=(t=(h=(b=(e=(t=(h=(b=(e=(t=(h=(b=(e=(t=(h=(b=(e=(t=(h=(b=(e=(t=(h=(b=(e=(t=(h=(b=(e=(t=(h=(b=(e=(t=(h=(b=(e=(t=(h=(b=(e=(t=(h=(b=(e=(t=(h=(b=(e=t+(T<<7&4294967295|T>>>25))+((T=b+(h^e&(t^h))+a[1]+3905402710&4294967295)<<12&4294967295|T>>>20))+((T=h+(t^b&(e^t))+a[2]+606105819&4294967295)<<17&4294967295|T>>>15))+((T=t+(e^h&(b^e))+a[3]+3250441966&4294967295)<<22&4294967295|T>>>10))+((T=e+(b^t&(h^b))+a[4]+4118548399&4294967295)<<7&4294967295|T>>>25))+((T=b+(h^e&(t^h))+a[5]+1200080426&4294967295)<<12&4294967295|T>>>20))+((T=h+(t^b&(e^t))+a[6]+2821735955&4294967295)<<17&4294967295|T>>>15))+((T=t+(e^h&(b^e))+a[7]+4249261313&4294967295)<<22&4294967295|T>>>10))+((T=e+(b^t&(h^b))+a[8]+1770035416&4294967295)<<7&4294967295|T>>>25))+((T=b+(h^e&(t^h))+a[9]+2336552879&4294967295)<<12&4294967295|T>>>20))+((T=h+(t^b&(e^t))+a[10]+4294925233&4294967295)<<17&4294967295|T>>>15))+((T=t+(e^h&(b^e))+a[11]+2304563134&4294967295)<<22&4294967295|T>>>10))+((T=e+(b^t&(h^b))+a[12]+1804603682&4294967295)<<7&4294967295|T>>>25))+((T=b+(h^e&(t^h))+a[13]+4254626195&4294967295)<<12&4294967295|T>>>20))+((T=h+(t^b&(e^t))+a[14]+2792965006&4294967295)<<17&4294967295|T>>>15))+((T=t+(e^h&(b^e))+a[15]+1236535329&4294967295)<<22&4294967295|T>>>10))+((T=e+(h^b&(t^h))+a[1]+4129170786&4294967295)<<5&4294967295|T>>>27))+((T=b+(t^h&(e^t))+a[6]+3225465664&4294967295)<<9&4294967295|T>>>23))+((T=h+(e^t&(b^e))+a[11]+643717713&4294967295)<<14&4294967295|T>>>18))+((T=t+(b^e&(h^b))+a[0]+3921069994&4294967295)<<20&4294967295|T>>>12))+((T=e+(h^b&(t^h))+a[5]+3593408605&4294967295)<<5&4294967295|T>>>27))+((T=b+(t^h&(e^t))+a[10]+38016083&4294967295)<<9&4294967295|T>>>23))+((T=h+(e^t&(b^e))+a[15]+3634488961&4294967295)<<14&4294967295|T>>>18))+((T=t+(b^e&(h^b))+a[4]+3889429448&4294967295)<<20&4294967295|T>>>12))+((T=e+(h^b&(t^h))+a[9]+568446438&4294967295)<<5&4294967295|T>>>27))+((T=b+(t^h&(e^t))+a[14]+3275163606&4294967295)<<9&4294967295|T>>>23))+((T=h+(e^t&(b^e))+a[3]+4107603335&4294967295)<<14&4294967295|T>>>18))+((T=t+(b^e&(h^b))+a[8]+1163531501&4294967295)<<20&4294967295|T>>>12))+((T=e+(h^b&(t^h))+a[13]+2850285829&4294967295)<<5&4294967295|T>>>27))+((T=b+(t^h&(e^t))+a[2]+4243563512&4294967295)<<9&4294967295|T>>>23))+((T=h+(e^t&(b^e))+a[7]+1735328473&4294967295)<<14&4294967295|T>>>18))+((T=t+(b^e&(h^b))+a[12]+2368359562&4294967295)<<20&4294967295|T>>>12))+((T=e+(t^h^b)+a[5]+4294588738&4294967295)<<4&4294967295|T>>>28))+((T=b+(e^t^h)+a[8]+2272392833&4294967295)<<11&4294967295|T>>>21))+((T=h+(b^e^t)+a[11]+1839030562&4294967295)<<16&4294967295|T>>>16))+((T=t+(h^b^e)+a[14]+4259657740&4294967295)<<23&4294967295|T>>>9))+((T=e+(t^h^b)+a[1]+2763975236&4294967295)<<4&4294967295|T>>>28))+((T=b+(e^t^h)+a[4]+1272893353&4294967295)<<11&4294967295|T>>>21))+((T=h+(b^e^t)+a[7]+4139469664&4294967295)<<16&4294967295|T>>>16))+((T=t+(h^b^e)+a[10]+3200236656&4294967295)<<23&4294967295|T>>>9))+((T=e+(t^h^b)+a[13]+681279174&4294967295)<<4&4294967295|T>>>28))+((T=b+(e^t^h)+a[0]+3936430074&4294967295)<<11&4294967295|T>>>21))+((T=h+(b^e^t)+a[3]+3572445317&4294967295)<<16&4294967295|T>>>16))+((T=t+(h^b^e)+a[6]+76029189&4294967295)<<23&4294967295|T>>>9))+((T=e+(t^h^b)+a[9]+3654602809&4294967295)<<4&4294967295|T>>>28))+((T=b+(e^t^h)+a[12]+3873151461&4294967295)<<11&4294967295|T>>>21))+((T=h+(b^e^t)+a[15]+530742520&4294967295)<<16&4294967295|T>>>16))+((T=t+(h^b^e)+a[2]+3299628645&4294967295)<<23&4294967295|T>>>9))+((T=e+(h^(t|~b))+a[0]+4096336452&4294967295)<<6&4294967295|T>>>26))+((T=b+(t^(e|~h))+a[7]+1126891415&4294967295)<<10&4294967295|T>>>22))+((T=h+(e^(b|~t))+a[14]+2878612391&4294967295)<<15&4294967295|T>>>17))+((T=t+(b^(h|~e))+a[5]+4237533241&4294967295)<<21&4294967295|T>>>11))+((T=e+(h^(t|~b))+a[12]+1700485571&4294967295)<<6&4294967295|T>>>26))+((T=b+(t^(e|~h))+a[3]+2399980690&4294967295)<<10&4294967295|T>>>22))+((T=h+(e^(b|~t))+a[10]+4293915773&4294967295)<<15&4294967295|T>>>17))+((T=t+(b^(h|~e))+a[1]+2240044497&4294967295)<<21&4294967295|T>>>11))+((T=e+(h^(t|~b))+a[8]+1873313359&4294967295)<<6&4294967295|T>>>26))+((T=b+(t^(e|~h))+a[15]+4264355552&4294967295)<<10&4294967295|T>>>22))+((T=h+(e^(b|~t))+a[6]+2734768916&4294967295)<<15&4294967295|T>>>17))+((T=t+(b^(h|~e))+a[13]+1309151649&4294967295)<<21&4294967295|T>>>11))+((b=(e=t+((T=e+(h^(t|~b))+a[4]+4149444226&4294967295)<<6&4294967295|T>>>26))+((T=b+(t^(e|~h))+a[11]+3174756917&4294967295)<<10&4294967295|T>>>22))^((h=b+((T=h+(e^(b|~t))+a[2]+718787259&4294967295)<<15&4294967295|T>>>17))|~e))+a[9]+3951481745&4294967295,i.g[0]=i.g[0]+e&4294967295,i.g[1]=i.g[1]+(h+(T<<21&4294967295|T>>>11))&4294967295,i.g[2]=i.g[2]+h&4294967295,i.g[3]=i.g[3]+b&4294967295}function Gs(i,e){this.h=e;for(var t=[],a=!0,h=i.length-1;0<=h;h--){var b=0|i[h];a&&b==e||(t[h]=b,a=!1)}this.g=t}(Re=he.prototype).Oa=function(i){this.M=i},Re.ha=function(i,e,t,a){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+i);e=e?e.toUpperCase():"GET",this.I=i,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Ee.g(),this.C=function Ns(i){return i.h||(i.h=i.i())}(this.u?this.u:Ee),this.g.onreadystatechange=kt(this.La,this);try{this.G=!0,this.g.open(e,String(i),!0),this.G=!1}catch(b){return void Sr(this,b)}if(i=t||"",t=new Map(this.headers),a)if(Object.getPrototypeOf(a)===Object.prototype)for(var h in a)t.set(h,a[h]);else{if("function"!=typeof a.keys||"function"!=typeof a.get)throw Error("Unknown input type for opt_headers: "+String(a));for(const b of a.keys())t.set(b,a.get(b))}a=Array.from(t.keys()).find(b=>"content-type"==b.toLowerCase()),h=Le.FormData&&i instanceof Le.FormData,!(0<=Ct(Ge,e))||a||h||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[b,T]of t)this.g.setRequestHeader(b,T);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{ws(this),0<this.B&&((this.L=function _n(i){return dt&&function tr(){return et(Zn,9,function(){let i=0;const e=qt(String(nn)).split("."),t=qt("9").split("."),a=Math.max(e.length,t.length);for(let T=0;0==i&&T<a;T++){var h=e[T]||"",b=t[T]||"";do{if(h=/(\d*)(\D*)(.*)/.exec(h)||["","","",""],b=/(\d*)(\D*)(.*)/.exec(b)||["","","",""],0==h[0].length&&0==b[0].length)break;i=Te(0==h[1].length?0:parseInt(h[1],10),0==b[1].length?0:parseInt(b[1],10))||Te(0==h[2].length,0==b[2].length)||Te(h[2],b[2]),h=h[3],b=b[3]}while(0==i)}return 0<=i})}()&&"number"==typeof i.timeout&&void 0!==i.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=kt(this.ua,this)):this.A=$n(this.ua,this.B,this)),this.v=!0,this.g.send(i),this.v=!1}catch(b){Sr(this,b)}},Re.ua=function(){typeof Ze<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Hn(this,"timeout"),this.abort(8))},Re.abort=function(i){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=i||7,Hn(this,"complete"),Hn(this,"abort"),hi(this))},Re.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),hi(this,!0)),he.$.N.call(this)},Re.La=function(){this.s||(this.G||this.v||this.l?ai(this):this.kb())},Re.kb=function(){ai(this)},Re.da=function(){try{return 2<Pi(this)?this.g.status:-1}catch{return-1}},Re.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},Re.Wa=function(i){if(this.g){var e=this.g.responseText;return i&&0==e.indexOf(i)&&(e=e.substring(i.length)),O(e)}},Re.Ia=function(){return this.m},Re.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(Re=$.prototype).qa=8,Re.H=1,Re.Na=function(i){if(this.m)if(this.m=null,1==this.H){if(!i){this.W=Math.floor(1e5*Math.random()),i=this.W++;const h=new ve(this,this.j,i,void 0);let b=this.s;if(this.U&&(b?(b=ar(b),bi(b,this.U)):b=this.U),null!==this.o||this.O||(h.I=b,b=null),this.P)e:{for(var e=0,t=0;t<this.i.length;t++){var a=this.i[t];if(void 0===(a="__data__"in a.g&&"string"==typeof(a=a.g.__data__)?a.length:void 0))break;if(4096<(e+=a)){e=t;break e}if(4096===e||t===this.i.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=Mn(this,h,e),Ni(t=zi(this.G),"RID",i),Ni(t,"CVER",22),this.F&&Ni(t,"X-HTTP-Session-Id",this.F),dn(this,t),b&&(this.O?e="headers="+encodeURIComponent(String(Po(b)))+"&"+e:this.o&&_e(t,this.o,b)),Wo(this.h,h),this.bb&&Ni(t,"TYPE","init"),this.P?(Ni(t,"$req",e),Ni(t,"SID","null"),h.ba=!0,Un(h,t,null)):Un(h,t,e),this.H=2}}else 3==this.H&&(i?Nt(this,i):0==this.i.length||Do(this.h)||Nt(this))},Re.Ma=function(){if(this.u=null,vi(this),this.ca&&!(this.L||null==this.g||0>=this.S)){var i=2*this.S;this.j.info("BP detection timer enabled: "+i),this.B=es(kt(this.jb,this),i)}},Re.jb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.M=!1,this.L=!0,cs(10),S(this),vi(this))},Re.ib=function(){null!=this.v&&(this.v=null,S(this),ci(this),cs(19))},Re.pb=function(i){i?(this.j.info("Successfully pinged google.com"),cs(2)):(this.j.info("Failed to ping google.com"),cs(1))},(Re=io.prototype).Ba=function(){},Re.Aa=function(){},Re.za=function(){},Re.ya=function(){},Re.Va=function(){},Ko.prototype.g=function(i,e){return new mo(i,e)},ft(mo,wn),mo.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.I=!0);var i=this.g,e=this.l,t=this.h||void 0;cs(0),i.Y=e,i.ma=t||{},i.M=i.aa,i.G=Ei(i,null,i.Y),ge(i)},mo.prototype.close=function(){F(this.g)},mo.prototype.u=function(i){var e=this.g;if("string"==typeof i){var t={};t.__data__=i,i=t}else this.v&&((t={}).__data__=kr(i),i=t);e.i.push(new class{constructor(i,e){this.h=i,this.g=e}}(e.fb++,i)),3==e.H&&ge(e)},mo.prototype.N=function(){this.g.l=null,delete this.j,F(this.g),delete this.g,mo.$.N.call(this)},ft(oa,pe),ft(ta,Oe),ft(Ta,io),Ta.prototype.Ba=function(){Hn(this.g,"a")},Ta.prototype.Aa=function(i){Hn(this.g,new oa(i))},Ta.prototype.za=function(i){Hn(this.g,new ta)},Ta.prototype.ya=function(){Hn(this.g,"b")},ft(na,function Aa(){this.blockSize=-1}),na.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},na.prototype.j=function(i,e){void 0===e&&(e=i.length);for(var t=e-this.blockSize,a=this.m,h=this.h,b=0;b<e;){if(0==h)for(;b<=t;)Na(this,i,b),b+=this.blockSize;if("string"==typeof i){for(;b<e;)if(a[h++]=i.charCodeAt(b++),h==this.blockSize){Na(this,a),h=0;break}}else for(;b<e;)if(a[h++]=i[b++],h==this.blockSize){Na(this,a),h=0;break}}this.h=h,this.i+=e},na.prototype.l=function(){var i=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);i[0]=128;for(var e=1;e<i.length-8;++e)i[e]=0;var t=8*this.i;for(e=i.length-8;e<i.length;++e)i[e]=255&t,t/=256;for(this.j(i),i=Array(16),e=t=0;4>e;++e)for(var a=0;32>a;a+=8)i[t++]=this.g[e]>>>a&255;return i};var Zs={};function ba(i){return-128<=i&&128>i?et(Zs,i,function(e){return new Gs([0|e],0>e?-1:0)}):new Gs([0|i],0>i?-1:0)}function Oo(i){if(isNaN(i)||!isFinite(i))return Z;if(0>i)return Tt(Oo(-i));for(var e=[],t=1,a=0;i>=t;a++)e[a]=i/t|0,t*=M;return new Gs(e,0)}var M=4294967296,Z=ba(0),oe=ba(1),De=ba(16777216);function $e(i){if(0!=i.h)return!1;for(var e=0;e<i.g.length;e++)if(0!=i.g[e])return!1;return!0}function at(i){return-1==i.h}function Tt(i){for(var e=i.g.length,t=[],a=0;a<e;a++)t[a]=~i.g[a];return new Gs(t,~i.h).add(oe)}function zt(i,e){return i.add(Tt(e))}function sn(i,e){for(;(65535&i[e])!=i[e];)i[e+1]+=i[e]>>>16,i[e]&=65535,e++}function Nn(i,e){this.g=i,this.h=e}function or(i,e){if($e(e))throw Error("division by zero");if($e(i))return new Nn(Z,Z);if(at(i))return e=or(Tt(i),e),new Nn(Tt(e.g),Tt(e.h));if(at(e))return e=or(i,Tt(e)),new Nn(Tt(e.g),e.h);if(30<i.g.length){if(at(i)||at(e))throw Error("slowDivide_ only works with positive integers.");for(var t=oe,a=e;0>=a.X(i);)t=Jr(t),a=Jr(a);var h=qr(t,1),b=qr(a,1);for(a=qr(a,2),t=qr(t,2);!$e(a);){var T=b.add(a);0>=T.X(i)&&(h=h.add(t),b=T),a=qr(a,1),t=qr(t,1)}return e=zt(i,h.R(e)),new Nn(h,e)}for(h=Z;0<=i.X(e);){for(t=Math.max(1,Math.floor(i.ea()/e.ea())),a=48>=(a=Math.ceil(Math.log(t)/Math.LN2))?1:Math.pow(2,a-48),T=(b=Oo(t)).R(e);at(T)||0<T.X(i);)T=(b=Oo(t-=a)).R(e);$e(b)&&(b=oe),h=h.add(b),i=zt(i,T)}return new Nn(h,i)}function Jr(i){for(var e=i.g.length+1,t=[],a=0;a<e;a++)t[a]=i.D(a)<<1|i.D(a-1)>>>31;return new Gs(t,i.h)}function qr(i,e){var t=e>>5;e%=32;for(var a=i.g.length-t,h=[],b=0;b<a;b++)h[b]=0<e?i.D(b+t)>>>e|i.D(b+t+1)<<32-e:i.D(b+t);return new Gs(h,i.h)}(Re=Gs.prototype).ea=function(){if(at(this))return-Tt(this).ea();for(var i=0,e=1,t=0;t<this.g.length;t++){var a=this.D(t);i+=(0<=a?a:M+a)*e,e*=M}return i},Re.toString=function(i){if(2>(i=i||10)||36<i)throw Error("radix out of range: "+i);if($e(this))return"0";if(at(this))return"-"+Tt(this).toString(i);for(var e=Oo(Math.pow(i,6)),t=this,a="";;){var h=or(t,e).g,b=((0<(t=zt(t,h.R(e))).g.length?t.g[0]:t.h)>>>0).toString(i);if($e(t=h))return b+a;for(;6>b.length;)b="0"+b;a=b+a}},Re.D=function(i){return 0>i?0:i<this.g.length?this.g[i]:this.h},Re.X=function(i){return at(i=zt(this,i))?-1:$e(i)?0:1},Re.abs=function(){return at(this)?Tt(this):this},Re.add=function(i){for(var e=Math.max(this.g.length,i.g.length),t=[],a=0,h=0;h<=e;h++){var b=a+(65535&this.D(h))+(65535&i.D(h)),T=(b>>>16)+(this.D(h)>>>16)+(i.D(h)>>>16);a=T>>>16,t[h]=(T&=65535)<<16|(b&=65535)}return new Gs(t,-2147483648&t[t.length-1]?-1:0)},Re.R=function(i){if($e(this)||$e(i))return Z;if(at(this))return at(i)?Tt(this).R(Tt(i)):Tt(Tt(this).R(i));if(at(i))return Tt(this.R(Tt(i)));if(0>this.X(De)&&0>i.X(De))return Oo(this.ea()*i.ea());for(var e=this.g.length+i.g.length,t=[],a=0;a<2*e;a++)t[a]=0;for(a=0;a<this.g.length;a++)for(var h=0;h<i.g.length;h++){var b=this.D(a)>>>16,T=65535&this.D(a),G=i.D(h)>>>16,ae=65535&i.D(h);t[2*a+2*h]+=T*ae,sn(t,2*a+2*h),t[2*a+2*h+1]+=b*ae,sn(t,2*a+2*h+1),t[2*a+2*h+1]+=T*G,sn(t,2*a+2*h+1),t[2*a+2*h+2]+=b*G,sn(t,2*a+2*h+2)}for(a=0;a<e;a++)t[a]=t[2*a+1]<<16|t[2*a];for(a=e;a<2*e;a++)t[a]=0;return new Gs(t,0)},Re.gb=function(i){return or(this,i).h},Re.and=function(i){for(var e=Math.max(this.g.length,i.g.length),t=[],a=0;a<e;a++)t[a]=this.D(a)&i.D(a);return new Gs(t,this.h&i.h)},Re.or=function(i){for(var e=Math.max(this.g.length,i.g.length),t=[],a=0;a<e;a++)t[a]=this.D(a)|i.D(a);return new Gs(t,this.h|i.h)},Re.xor=function(i){for(var e=Math.max(this.g.length,i.g.length),t=[],a=0;a<e;a++)t[a]=this.D(a)^i.D(a);return new Gs(t,this.h^i.h)},Ko.prototype.createWebChannel=Ko.prototype.g,mo.prototype.send=mo.prototype.u,mo.prototype.open=mo.prototype.m,mo.prototype.close=mo.prototype.close,Hi.NO_ERROR=0,Hi.TIMEOUT=8,Hi.HTTP_ERROR=6,zs.COMPLETE="complete",Fs.EventType=re,re.OPEN="a",re.CLOSE="b",re.ERROR="c",re.MESSAGE="d",wn.prototype.listen=wn.prototype.O,he.prototype.listenOnce=he.prototype.P,he.prototype.getLastError=he.prototype.Sa,he.prototype.getLastErrorCode=he.prototype.Ia,he.prototype.getStatus=he.prototype.da,he.prototype.getResponseJson=he.prototype.Wa,he.prototype.getResponseText=he.prototype.ja,he.prototype.send=he.prototype.ha,he.prototype.setWithCredentials=he.prototype.Oa,na.prototype.digest=na.prototype.l,na.prototype.reset=na.prototype.reset,na.prototype.update=na.prototype.j,Gs.prototype.add=Gs.prototype.add,Gs.prototype.multiply=Gs.prototype.R,Gs.prototype.modulo=Gs.prototype.gb,Gs.prototype.compare=Gs.prototype.X,Gs.prototype.toNumber=Gs.prototype.ea,Gs.prototype.toString=Gs.prototype.toString,Gs.prototype.getBits=Gs.prototype.D,Gs.fromNumber=Oo,Gs.fromString=function Ea(i,e){if(0==i.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==i.charAt(0))return Tt(Ea(i.substring(1),e));if(0<=i.indexOf("-"))throw Error('number format error: interior "-" character');for(var t=Oo(Math.pow(e,8)),a=Z,h=0;h<i.length;h+=8){var b=Math.min(8,i.length-h),T=parseInt(i.substring(h,h+b),e);8>b?(b=Oo(Math.pow(e,b)),a=a.R(b).add(Oo(T))):a=(a=a.R(t)).add(Oo(T))}return a};var $s=Se.createWebChannelTransport=function(){return new Ko},Ps=Se.getStatEventTarget=function(){return ls()},Y=Se.ErrorCode=Hi,ue=Se.EventType=zs,Q=Se.Event=Ur,Pe=Se.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},vt=Se.FetchXmlHttpFactory=xo,mn=Se.WebChannel=Fs,Rn=Se.XhrIo=he,ei=Se.Md5=na,fr=Se.Integer=Gs;const Gi="@firebase/firestore";class ti{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ti.UNAUTHENTICATED=new ti(null),ti.GOOGLE_CREDENTIALS=new ti("google-credentials-uid"),ti.FIRST_PARTY=new ti("first-party-uid"),ti.MOCK_USER=new ti("mock-user");let Li="9.22.0";const ds=new ke.Yd("@firebase/firestore");function Is(){return ds.logLevel}function yo(i){ds.setLogLevel(i)}function Wn(i,...e){if(ds.logLevel<=ke.in.DEBUG){const t=e.map(qo);ds.debug(`Firestore (${Li}): ${i}`,...t)}}function Bi(i,...e){if(ds.logLevel<=ke.in.ERROR){const t=e.map(qo);ds.error(`Firestore (${Li}): ${i}`,...t)}}function Yo(i,...e){if(ds.logLevel<=ke.in.WARN){const t=e.map(qo);ds.warn(`Firestore (${Li}): ${i}`,...t)}}function qo(i){if("string"==typeof i)return i;try{return JSON.stringify(i)}catch{return i}}function Or(i="Unexpected state"){const e=`FIRESTORE (${Li}) INTERNAL ASSERTION FAILED: `+i;throw Bi(e),new Error(e)}function ii(i,e){i||Or()}function Kn(i,e){i||Or()}function Bn(i,e){return i}const Dn={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Xn extends qe.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Yi{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class Ja{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class wa{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(ti.UNAUTHENTICATED))}shutdown(){}}class xa{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class dl{constructor(e){this.t=e,this.currentUser=ti.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var a=this;let h=this.i;const b=we=>this.i!==h?(h=this.i,t(we)):Promise.resolve();let T=new Yi;this.o=()=>{this.i++,this.currentUser=this.u(),T.resolve(),T=new Yi,e.enqueueRetryable(()=>b(this.currentUser))};const G=()=>{const we=T;e.enqueueRetryable((0,d.Z)(function*(){yield we.promise,yield b(a.currentUser)}))},ae=we=>{Wn("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=we,this.auth.addAuthTokenListener(this.o),G()};this.t.onInit(we=>ae(we)),setTimeout(()=>{if(!this.auth){const we=this.t.getImmediate({optional:!0});we?ae(we):(Wn("FirebaseAuthCredentialsProvider","Auth not yet detected"),T.resolve(),T=new Yi)}},0),G()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(a=>this.i!==e?(Wn("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(ii("string"==typeof a.accessToken),new Ja(a.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return ii(null===e||"string"==typeof e),new ti(e)}}class al{constructor(e,t,a){this.h=e,this.l=t,this.m=a,this.type="FirstParty",this.user=ti.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class Zo{constructor(e,t,a){this.h=e,this.l=t,this.m=a}getToken(){return Promise.resolve(new al(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(ti.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Wa{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class yl{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,t){const a=b=>{null!=b.error&&Wn("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${b.error.message}`);const T=b.token!==this.T;return this.T=b.token,Wn("FirebaseAppCheckTokenProvider",`Received ${T?"new":"existing"} token.`),T?t(b.token):Promise.resolve()};this.o=b=>{e.enqueueRetryable(()=>a(b))};const h=b=>{Wn("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=b,this.appCheck.addTokenListener(this.o)};this.I.onInit(b=>h(b)),setTimeout(()=>{if(!this.appCheck){const b=this.I.getImmediate({optional:!0});b?h(b):Wn("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(ii("string"==typeof t.token),this.T=t.token,new Wa(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Jo(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(i);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let a=0;a<i;a++)t[a]=Math.floor(256*Math.random());return t}class el{static A(){const t=62*Math.floor(256/62);let a="";for(;a.length<20;){const h=Jo(40);for(let b=0;b<h.length;++b)a.length<20&&h[b]<t&&(a+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(h[b]%62))}return a}}function Vi(i,e){return i<e?-1:i>e?1:0}function sa(i,e,t){return i.length===e.length&&i.every((a,h)=>t(a,e[h]))}function Ia(i){return i+"\0"}class Ks{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Xn(Dn.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Xn(Dn.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Xn(Dn.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Xn(Dn.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Ks.fromMillis(Date.now())}static fromDate(e){return Ks.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),a=Math.floor(1e6*(e-1e3*t));return new Ks(t,a)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Vi(this.nanoseconds,e.nanoseconds):Vi(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class yi{constructor(e){this.timestamp=e}static fromTimestamp(e){return new yi(e)}static min(){return new yi(new Ks(0,0))}static max(){return new yi(new Ks(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Fa{constructor(e,t,a){void 0===t?t=0:t>e.length&&Or(),void 0===a?a=e.length-t:a>e.length-t&&Or(),this.segments=e,this.offset=t,this.len=a}get length(){return this.len}isEqual(e){return 0===Fa.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Fa?e.forEach(a=>{t.push(a)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,a=this.limit();t<a;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const a=Math.min(e.length,t.length);for(let h=0;h<a;h++){const b=e.get(h),T=t.get(h);if(b<T)return-1;if(b>T)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class ss extends Fa{construct(e,t,a){return new ss(e,t,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const a of e){if(a.indexOf("//")>=0)throw new Xn(Dn.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);t.push(...a.split("/").filter(h=>h.length>0))}return new ss(t)}static emptyPath(){return new ss([])}}const Ga=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class hs extends Fa{construct(e,t,a){return new hs(e,t,a)}static isValidIdentifier(e){return Ga.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),hs.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new hs(["__name__"])}static fromServerFormat(e){const t=[];let a="",h=0;const b=()=>{if(0===a.length)throw new Xn(Dn.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(a),a=""};let T=!1;for(;h<e.length;){const G=e[h];if("\\"===G){if(h+1===e.length)throw new Xn(Dn.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const ae=e[h+1];if("\\"!==ae&&"."!==ae&&"`"!==ae)throw new Xn(Dn.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);a+=ae,h+=2}else"`"===G?(T=!T,h++):"."!==G||T?(a+=G,h++):(b(),h++)}if(b(),T)throw new Xn(Dn.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new hs(t)}static emptyPath(){return new hs([])}}class gr{constructor(e){this.path=e}static fromPath(e){return new gr(ss.fromString(e))}static fromName(e){return new gr(ss.fromString(e).popFirst(5))}static empty(){return new gr(ss.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===ss.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return ss.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new gr(new ss(e.slice()))}}class Ka{constructor(e,t,a,h){this.indexId=e,this.collectionGroup=t,this.fields=a,this.indexState=h}}function ha(i){return i.fields.find(e=>2===e.kind)}function ya(i){return i.fields.filter(e=>2!==e.kind)}Ka.UNKNOWN_ID=-1;class nt{constructor(e,t){this.fieldPath=e,this.kind=t}}class Qt{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new Qt(0,Wi.min())}}function yr(i,e){const t=i.toTimestamp().seconds,a=i.toTimestamp().nanoseconds+1,h=yi.fromTimestamp(1e9===a?new Ks(t+1,0):new Ks(t,a));return new Wi(h,gr.empty(),e)}function Ui(i){return new Wi(i.readTime,i.key,-1)}class Wi{constructor(e,t,a){this.readTime=e,this.documentKey=t,this.largestBatchId=a}static min(){return new Wi(yi.min(),gr.empty(),-1)}static max(){return new Wi(yi.max(),gr.empty(),-1)}}function Ji(i,e){let t=i.readTime.compareTo(e.readTime);return 0!==t?t:(t=gr.comparator(i.documentKey,e.documentKey),0!==t?t:Vi(i.largestBatchId,e.largestBatchId))}const ns="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class qi{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Uo(i){return aa.apply(this,arguments)}function aa(){return aa=(0,d.Z)(function*(i){if(i.code!==Dn.FAILED_PRECONDITION||i.message!==ns)throw i;Wn("LocalStore","Unexpectedly lost primary lease")}),aa.apply(this,arguments)}class pn{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Or(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new pn((a,h)=>{this.nextCallback=b=>{this.wrapSuccess(e,b).next(a,h)},this.catchCallback=b=>{this.wrapFailure(t,b).next(a,h)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof pn?t:pn.resolve(t)}catch(t){return pn.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):pn.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):pn.reject(t)}static resolve(e){return new pn((t,a)=>{t(e)})}static reject(e){return new pn((t,a)=>{a(e)})}static waitFor(e){return new pn((t,a)=>{let h=0,b=0,T=!1;e.forEach(G=>{++h,G.next(()=>{++b,T&&b===h&&t()},ae=>a(ae))}),T=!0,b===h&&t()})}static or(e){let t=pn.resolve(!1);for(const a of e)t=t.next(h=>h?pn.resolve(h):a());return t}static forEach(e,t){const a=[];return e.forEach((h,b)=>{a.push(t.call(this,h,b))}),this.waitFor(a)}static mapArray(e,t){return new pn((a,h)=>{const b=e.length,T=new Array(b);let G=0;for(let ae=0;ae<b;ae++){const we=ae;t(e[we]).next(Ye=>{T[we]=Ye,++G,G===b&&a(T)},Ye=>h(Ye))}})}static doWhile(e,t){return new pn((a,h)=>{const b=()=>{!0===e()?t().next(()=>{b()},h):a()};b()})}}class La{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.v=new Yi,this.transaction.oncomplete=()=>{this.v.resolve()},this.transaction.onabort=()=>{t.error?this.v.reject(new Ya(e,t.error)):this.v.resolve()},this.transaction.onerror=a=>{const h=H(a.target.error);this.v.reject(new Ya(e,h))}}static open(e,t,a,h){try{return new La(t,e.transaction(h,a))}catch(b){throw new Ya(t,b)}}get R(){return this.v.promise}abort(e){e&&this.v.reject(e),this.aborted||(Wn("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}P(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new Dl(t)}}class fa{constructor(e,t,a){this.name=e,this.version=t,this.V=a,12.2===fa.S((0,qe.z$)())&&Bi("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Wn("SimpleDb","Removing database:",e),jo(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!(0,qe.hl)())return!1;if(fa.C())return!0;const e=(0,qe.z$)(),t=fa.S(e),a=0<t&&t<10,h=fa.N(e),b=0<h&&h<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||a||b)}static C(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.k)}static M(e,t){return e.store(t)}static S(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),a=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(a)}static N(e){const t=e.match(/Android ([\d.]+)/i),a=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(a)}$(e){var t=this;return(0,d.Z)(function*(){return t.db||(Wn("SimpleDb","Opening database:",t.name),t.db=yield new Promise((a,h)=>{const b=indexedDB.open(t.name,t.version);b.onsuccess=T=>{a(T.target.result)},b.onblocked=()=>{h(new Ya(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},b.onerror=T=>{const G=T.target.error;h("VersionError"===G.name?new Xn(Dn.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===G.name?new Xn(Dn.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+G):new Ya(e,G))},b.onupgradeneeded=T=>{Wn("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',T.oldVersion),t.V.O(T.target.result,b.transaction,T.oldVersion,t.version).next(()=>{Wn("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.F&&(t.db.onversionchange=a=>t.F(a)),t.db})()}B(e){this.F=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,a,h){var b=this;return(0,d.Z)(function*(){const T="readonly"===t;let G=0;for(;;){++G;try{b.db=yield b.$(e);const ae=La.open(b.db,e,T?"readonly":"readwrite",a),we=h(ae).next(Ye=>(ae.P(),Ye)).catch(Ye=>(ae.abort(Ye),pn.reject(Ye))).toPromise();return we.catch(()=>{}),yield ae.R,we}catch(ae){const we=ae,Ye="FirebaseError"!==we.name&&G<3;if(Wn("SimpleDb","Transaction failed with error:",we.message,"Retrying:",Ye),b.close(),!Ye)return Promise.reject(we)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class Cl{constructor(e){this.L=e,this.q=!1,this.U=null}get isDone(){return this.q}get K(){return this.U}set cursor(e){this.L=e}done(){this.q=!0}G(e){this.U=e}delete(){return jo(this.L.delete())}}class Ya extends Xn{constructor(e,t){super(Dn.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function Xo(i){return"IndexedDbTransactionError"===i.name}class Dl{constructor(e){this.store=e}put(e,t){let a;return void 0!==t?(Wn("SimpleDb","PUT",this.store.name,e,t),a=this.store.put(t,e)):(Wn("SimpleDb","PUT",this.store.name,"<auto-key>",e),a=this.store.put(e)),jo(a)}add(e){return Wn("SimpleDb","ADD",this.store.name,e,e),jo(this.store.add(e))}get(e){return jo(this.store.get(e)).next(t=>(void 0===t&&(t=null),Wn("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return Wn("SimpleDb","DELETE",this.store.name,e),jo(this.store.delete(e))}count(){return Wn("SimpleDb","COUNT",this.store.name),jo(this.store.count())}j(e,t){const a=this.options(e,t);if(a.index||"function"!=typeof this.store.getAll){const h=this.cursor(a),b=[];return this.W(h,(T,G)=>{b.push(G)}).next(()=>b)}{const h=this.store.getAll(a.range);return new pn((b,T)=>{h.onerror=G=>{T(G.target.error)},h.onsuccess=G=>{b(G.target.result)}})}}H(e,t){const a=this.store.getAll(e,null===t?void 0:t);return new pn((h,b)=>{a.onerror=T=>{b(T.target.error)},a.onsuccess=T=>{h(T.target.result)}})}J(e,t){Wn("SimpleDb","DELETE ALL",this.store.name);const a=this.options(e,t);a.Y=!1;const h=this.cursor(a);return this.W(h,(b,T,G)=>G.delete())}X(e,t){let a;t?a=e:(a={},t=e);const h=this.cursor(a);return this.W(h,t)}Z(e){const t=this.cursor({});return new pn((a,h)=>{t.onerror=b=>{const T=H(b.target.error);h(T)},t.onsuccess=b=>{const T=b.target.result;T?e(T.primaryKey,T.value).next(G=>{G?T.continue():a()}):a()}})}W(e,t){const a=[];return new pn((h,b)=>{e.onerror=T=>{b(T.target.error)},e.onsuccess=T=>{const G=T.target.result;if(!G)return void h();const ae=new Cl(G),we=t(G.primaryKey,G.value,ae);if(we instanceof pn){const Ye=we.catch(Pt=>(ae.done(),pn.reject(Pt)));a.push(Ye)}ae.isDone?h():null===ae.K?G.continue():G.continue(ae.K)}}).next(()=>pn.waitFor(a))}options(e,t){let a;return void 0!==e&&("string"==typeof e?a=e:t=e),{index:a,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const a=this.store.index(e.index);return e.Y?a.openKeyCursor(e.range,t):a.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function jo(i){return new pn((e,t)=>{i.onsuccess=a=>{e(a.target.result)},i.onerror=a=>{const h=H(a.target.error);t(h)}})}let V=!1;function H(i){const e=fa.S((0,qe.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(i.message.indexOf(t)>=0){const a=new Xn("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return V||(V=!0,setTimeout(()=>{throw a},0)),a}}return i}class R{constructor(e,t){this.asyncQueue=e,this.tt=t,this.task=null}start(){this.et(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}et(e){var t=this;Wn("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,d.Z)(function*(){t.task=null;try{Wn("IndexBackiller",`Documents written: ${yield t.tt.nt()}`)}catch(a){Xo(a)?Wn("IndexBackiller","Ignoring IndexedDB error during index backfill: ",a):yield Uo(a)}yield t.et(6e4)}))}}class q{constructor(e,t){this.localStore=e,this.persistence=t}nt(e=50){var t=this;return(0,d.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",a=>t.st(a,e))})()}st(e,t){const a=new Set;let h=t,b=!0;return pn.doWhile(()=>!0===b&&h>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(T=>{if(null!==T&&!a.has(T))return Wn("IndexBackiller",`Processing collection: ${T}`),this.it(e,T,h).next(G=>{h-=G,a.add(T)});b=!1})).next(()=>t-h)}it(e,t,a){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(h=>this.localStore.localDocuments.getNextDocuments(e,t,h,a).next(b=>{const T=b.changes;return this.localStore.indexManager.updateIndexEntries(e,T).next(()=>this.rt(h,b)).next(G=>(Wn("IndexBackiller",`Updating offset: ${G}`),this.localStore.indexManager.updateCollectionGroup(e,t,G))).next(()=>T.size)}))}rt(e,t){let a=e;return t.changes.forEach((h,b)=>{const T=Ui(b);Ji(T,a)>0&&(a=T)}),new Wi(a.readTime,a.documentKey,Math.max(t.batchId,e.largestBatchId))}}let me=(()=>{class i{constructor(t,a){this.previousValue=t,a&&(a.sequenceNumberHandler=h=>this.ot(h),this.ut=h=>a.writeSequenceNumber(h))}ot(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ut&&this.ut(t),t}}return i.ct=-1,i})();function Xe(i){return null==i}function Ue(i){return 0===i&&1/i==-1/0}function Yt(i){return"number"==typeof i&&Number.isInteger(i)&&!Ue(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}function Tn(i){let e="";for(let t=0;t<i.length;t++)e.length>0&&(e=Mi(e)),e=xr(i.get(t),e);return Mi(e)}function xr(i,e){let t=e;const a=i.length;for(let h=0;h<a;h++){const b=i.charAt(h);switch(b){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=b}}return t}function Mi(i){return i+"\x01\x01"}function Zr(i){const e=i.length;if(ii(e>=2),2===e)return ii("\x01"===i.charAt(0)&&"\x01"===i.charAt(1)),ss.emptyPath();const t=e-2,a=[];let h="";for(let b=0;b<e;){const T=i.indexOf("\x01",b);switch((T<0||T>t)&&Or(),i.charAt(T+1)){case"\x01":const G=i.substring(b,T);let ae;0===h.length?ae=G:(h+=G,ae=h,h=""),a.push(ae);break;case"\x10":h+=i.substring(b,T),h+="\0";break;case"\x11":h+=i.substring(b,T+1);break;default:Or()}b=T+2}return new ss(a)}const ko=["userId","batchId"];function m(i,e){return[i,Tn(e)]}function l(i,e,t){return[i,Tn(e),t]}const s={},c=["prefixPath","collectionGroup","readTime","documentId"],f=["prefixPath","collectionGroup","documentId"],_=["collectionGroup","readTime","prefixPath","documentId"],I=["canonicalId","targetId"],A=["targetId","path"],k=["path","targetId"],K=["collectionId","parent"],de=["indexId","uid"],Ce=["uid","sequenceNumber"],ze=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],Qe=["indexId","uid","orderedDocumentKey"],Et=["userId","collectionPath","documentId"],At=["userId","collectionPath","largestBatchId"],Zt=["userId","collectionGroup","largestBatchId"],In=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],En=[...In,"documentOverlays"],er=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Qn=er,Yn=[...Qn,"indexConfiguration","indexState","indexEntries"];class sr extends qi{constructor(e,t){super(),this.ht=e,this.currentSequenceNumber=t}}function dr(i,e){const t=Bn(i);return fa.M(t.ht,e)}function vr(i){let e=0;for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e++;return e}function fi(i,e){for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e(t,i[t])}function Ri(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}class Vr{constructor(e,t){this.comparator=e,this.root=t||Rs.EMPTY}insert(e,t){return new Vr(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Rs.BLACK,null,null))}remove(e){return new Vr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Rs.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const a=this.comparator(e,t.key);if(0===a)return t.value;a<0?t=t.left:a>0&&(t=t.right)}return null}indexOf(e){let t=0,a=this.root;for(;!a.isEmpty();){const h=this.comparator(e,a.key);if(0===h)return t+a.left.size;h<0?a=a.left:(t+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,a)=>(e(t,a),!1))}toString(){const e=[];return this.inorderTraversal((t,a)=>(e.push(`${t}:${a}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new fs(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new fs(this.root,e,this.comparator,!1)}getReverseIterator(){return new fs(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new fs(this.root,e,this.comparator,!0)}}class fs{constructor(e,t,a,h){this.isReverse=h,this.nodeStack=[];let b=1;for(;!e.isEmpty();)if(b=t?a(e.key,t):1,t&&h&&(b*=-1),b<0)e=this.isReverse?e.left:e.right;else{if(0===b){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Rs{constructor(e,t,a,h,b){this.key=e,this.value=t,this.color=null!=a?a:Rs.RED,this.left=null!=h?h:Rs.EMPTY,this.right=null!=b?b:Rs.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,a,h,b){return new Rs(null!=e?e:this.key,null!=t?t:this.value,null!=a?a:this.color,null!=h?h:this.left,null!=b?b:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,a){let h=this;const b=a(e,h.key);return h=b<0?h.copy(null,null,null,h.left.insert(e,t,a),null):0===b?h.copy(null,t,null,null,null):h.copy(null,null,null,null,h.right.insert(e,t,a)),h.fixUp()}removeMin(){if(this.left.isEmpty())return Rs.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let a,h=this;if(t(e,h.key)<0)h.left.isEmpty()||h.left.isRed()||h.left.left.isRed()||(h=h.moveRedLeft()),h=h.copy(null,null,null,h.left.remove(e,t),null);else{if(h.left.isRed()&&(h=h.rotateRight()),h.right.isEmpty()||h.right.isRed()||h.right.left.isRed()||(h=h.moveRedRight()),0===t(e,h.key)){if(h.right.isEmpty())return Rs.EMPTY;a=h.right.min(),h=h.copy(a.key,a.value,null,null,h.right.removeMin())}h=h.copy(null,null,null,null,h.right.remove(e,t))}return h.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Rs.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Rs.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Or();const e=this.left.check();if(e!==this.right.check())throw Or();return e+(this.isRed()?0:1)}}Rs.EMPTY=null,Rs.RED=!0,Rs.BLACK=!1,Rs.EMPTY=new class{constructor(){this.size=0}get key(){throw Or()}get value(){throw Or()}get color(){throw Or()}get left(){throw Or()}get right(){throw Or()}copy(i,e,t,a,h){return this}insert(i,e,t){return new Rs(i,e)}remove(i,e){return this}isEmpty(){return!0}inorderTraversal(i){return!1}reverseTraversal(i){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class os{constructor(e){this.comparator=e,this.data=new Vr(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,a)=>(e(t),!1))}forEachInRange(e,t){const a=this.data.getIteratorFrom(e[0]);for(;a.hasNext();){const h=a.getNext();if(this.comparator(h.key,e[1])>=0)return;t(h.key)}}forEachWhile(e,t){let a;for(a=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();a.hasNext();)if(!e(a.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Vs(this.data.getIterator())}getIteratorFrom(e){return new Vs(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(a=>{t=t.add(a)}),t}isEqual(e){if(!(e instanceof os)||this.size!==e.size)return!1;const t=this.data.getIterator(),a=e.data.getIterator();for(;t.hasNext();){const h=t.getNext().key,b=a.getNext().key;if(0!==this.comparator(h,b))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new os(this.comparator);return t.data=e,t}}class Vs{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function wr(i){return i.hasNext()?i.getNext():void 0}class Ir{constructor(e){this.fields=e,e.sort(hs.comparator)}static empty(){return new Ir([])}unionWith(e){let t=new os(hs.comparator);for(const a of this.fields)t=t.add(a);for(const a of e)t=t.add(a);return new Ir(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return sa(this.fields,e.fields,(t,a)=>t.isEqual(a))}}class wi extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}function Ki(){return typeof atob<"u"}class rs{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(a){try{return atob(a)}catch(h){throw typeof DOMException<"u"&&h instanceof DOMException?new wi("Invalid base64 string: "+h):h}}(e);return new rs(t)}static fromUint8Array(e){const t=function(a){let h="";for(let b=0;b<a.length;++b)h+=String.fromCharCode(a[b]);return h}(e);return new rs(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let a=0;a<e.length;a++)t[a]=e.charCodeAt(a);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Vi(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}rs.EMPTY_BYTE_STRING=new rs("");const la=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function vo(i){if(ii(!!i),"string"==typeof i){let e=0;const t=la.exec(i);if(ii(!!t),t[1]){let h=t[1];h=(h+"000000000").substr(0,9),e=Number(h)}const a=new Date(i);return{seconds:Math.floor(a.getTime()/1e3),nanos:e}}return{seconds:Cs(i.seconds),nanos:Cs(i.nanos)}}function Cs(i){return"number"==typeof i?i:"string"==typeof i?Number(i):0}function as(i){return"string"==typeof i?rs.fromBase64String(i):rs.fromUint8Array(i)}function Ca(i){var e,t;return"server_timestamp"===(null===(t=((null===(e=null==i?void 0:i.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function Ba(i){const e=i.mapValue.fields.__previous_value__;return Ca(e)?Ba(e):e}function $o(i){const e=vo(i.mapValue.fields.__local_write_time__.timestampValue);return new Ks(e.seconds,e.nanos)}class Ml{constructor(e,t,a,h,b,T,G,ae,we){this.databaseId=e,this.appId=t,this.persistenceKey=a,this.host=h,this.ssl=b,this.forceLongPolling=T,this.autoDetectLongPolling=G,this.longPollingOptions=ae,this.useFetchStreams=we}}class ra{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new ra("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof ra&&e.projectId===this.projectId&&e.database===this.database}}const tl={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Zl={nullValue:"NULL_VALUE"};function vl(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?Ca(i)?4:Pl(i)?9007199254740991:10:Or()}function _l(i,e){if(i===e)return!0;const t=vl(i);if(t!==vl(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return $o(i).isEqual($o(e));case 3:return function(a,h){if("string"==typeof a.timestampValue&&"string"==typeof h.timestampValue&&a.timestampValue.length===h.timestampValue.length)return a.timestampValue===h.timestampValue;const b=vo(a.timestampValue),T=vo(h.timestampValue);return b.seconds===T.seconds&&b.nanos===T.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return h=e,as(i.bytesValue).isEqual(as(h.bytesValue));case 7:return i.referenceValue===e.referenceValue;case 8:return function(a,h){return Cs(a.geoPointValue.latitude)===Cs(h.geoPointValue.latitude)&&Cs(a.geoPointValue.longitude)===Cs(h.geoPointValue.longitude)}(i,e);case 2:return function(a,h){if("integerValue"in a&&"integerValue"in h)return Cs(a.integerValue)===Cs(h.integerValue);if("doubleValue"in a&&"doubleValue"in h){const b=Cs(a.doubleValue),T=Cs(h.doubleValue);return b===T?Ue(b)===Ue(T):isNaN(b)&&isNaN(T)}return!1}(i,e);case 9:return sa(i.arrayValue.values||[],e.arrayValue.values||[],_l);case 10:return function(a,h){const b=a.mapValue.fields||{},T=h.mapValue.fields||{};if(vr(b)!==vr(T))return!1;for(const G in b)if(b.hasOwnProperty(G)&&(void 0===T[G]||!_l(b[G],T[G])))return!1;return!0}(i,e);default:return Or()}var h}function Nc(i,e){return void 0!==(i.values||[]).find(t=>_l(t,e))}function Xl(i,e){if(i===e)return 0;const t=vl(i),a=vl(e);if(t!==a)return Vi(t,a);switch(t){case 0:case 9007199254740991:return 0;case 1:return Vi(i.booleanValue,e.booleanValue);case 2:return function(h,b){const T=Cs(h.integerValue||h.doubleValue),G=Cs(b.integerValue||b.doubleValue);return T<G?-1:T>G?1:T===G?0:isNaN(T)?isNaN(G)?0:-1:1}(i,e);case 3:return Ql(i.timestampValue,e.timestampValue);case 4:return Ql($o(i),$o(e));case 5:return Vi(i.stringValue,e.stringValue);case 6:return function(h,b){const T=as(h),G=as(b);return T.compareTo(G)}(i.bytesValue,e.bytesValue);case 7:return function(h,b){const T=h.split("/"),G=b.split("/");for(let ae=0;ae<T.length&&ae<G.length;ae++){const we=Vi(T[ae],G[ae]);if(0!==we)return we}return Vi(T.length,G.length)}(i.referenceValue,e.referenceValue);case 8:return function(h,b){const T=Vi(Cs(h.latitude),Cs(b.latitude));return 0!==T?T:Vi(Cs(h.longitude),Cs(b.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return function(h,b){const T=h.values||[],G=b.values||[];for(let ae=0;ae<T.length&&ae<G.length;++ae){const we=Xl(T[ae],G[ae]);if(we)return we}return Vi(T.length,G.length)}(i.arrayValue,e.arrayValue);case 10:return function(h,b){if(h===tl.mapValue&&b===tl.mapValue)return 0;if(h===tl.mapValue)return 1;if(b===tl.mapValue)return-1;const T=h.fields||{},G=Object.keys(T),ae=b.fields||{},we=Object.keys(ae);G.sort(),we.sort();for(let Ye=0;Ye<G.length&&Ye<we.length;++Ye){const Pt=Vi(G[Ye],we[Ye]);if(0!==Pt)return Pt;const bn=Xl(T[G[Ye]],ae[we[Ye]]);if(0!==bn)return bn}return Vi(G.length,we.length)}(i.mapValue,e.mapValue);default:throw Or()}}function Ql(i,e){if("string"==typeof i&&"string"==typeof e&&i.length===e.length)return Vi(i,e);const t=vo(i),a=vo(e),h=Vi(t.seconds,a.seconds);return 0!==h?h:Vi(t.nanos,a.nanos)}function Ll(i){return Fc(i)}function Fc(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(a){const h=vo(a);return`time(${h.seconds},${h.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?as(i.bytesValue).toBase64():"referenceValue"in i?gr.fromName(i.referenceValue).toString():"geoPointValue"in i?`geo(${(e=i.geoPointValue).latitude},${e.longitude})`:"arrayValue"in i?function(a){let h="[",b=!0;for(const T of a.values||[])b?b=!1:h+=",",h+=Fc(T);return h+"]"}(i.arrayValue):"mapValue"in i?function(a){const h=Object.keys(a.fields||{}).sort();let b="{",T=!0;for(const G of h)T?T=!1:b+=",",b+=`${G}:${Fc(a.fields[G])}`;return b+"}"}(i.mapValue):Or();var e}function Jl(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function fl(i){return!!i&&"integerValue"in i}function ll(i){return!!i&&"arrayValue"in i}function za(i){return!!i&&"nullValue"in i}function ec(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function vc(i){return!!i&&"mapValue"in i}function pl(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&"object"==typeof i.timestampValue)return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const e={mapValue:{fields:{}}};return fi(i.mapValue.fields,(t,a)=>e.mapValue.fields[t]=pl(a)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(i.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=pl(i.arrayValue.values[t]);return e}return Object.assign({},i)}function Pl(i){return"__max__"===(((i.mapValue||{}).fields||{}).__type__||{}).stringValue}function Lc(i){return"nullValue"in i?Zl:"booleanValue"in i?{booleanValue:!1}:"integerValue"in i||"doubleValue"in i?{doubleValue:NaN}:"timestampValue"in i?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in i?{stringValue:""}:"bytesValue"in i?{bytesValue:""}:"referenceValue"in i?Jl(ra.empty(),gr.empty()):"geoPointValue"in i?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in i?{arrayValue:{}}:"mapValue"in i?{mapValue:{}}:Or()}function Df(i){return"nullValue"in i?{booleanValue:!1}:"booleanValue"in i?{doubleValue:NaN}:"integerValue"in i||"doubleValue"in i?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in i?{stringValue:""}:"stringValue"in i?{bytesValue:""}:"bytesValue"in i?Jl(ra.empty(),gr.empty()):"referenceValue"in i?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in i?{arrayValue:{}}:"arrayValue"in i?{mapValue:{}}:"mapValue"in i?tl:Or()}function gl(i,e){const t=Xl(i.value,e.value);return 0!==t?t:i.inclusive&&!e.inclusive?-1:!i.inclusive&&e.inclusive?1:0}function md(i,e){const t=Xl(i.value,e.value);return 0!==t?t:i.inclusive&&!e.inclusive?1:!i.inclusive&&e.inclusive?-1:0}class zo{constructor(e){this.value=e}static empty(){return new zo({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let a=0;a<e.length-1;++a)if(t=(t.mapValue.fields||{})[e.get(a)],!vc(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=pl(t)}setAll(e){let t=hs.emptyPath(),a={},h=[];e.forEach((T,G)=>{if(!t.isImmediateParentOf(G)){const ae=this.getFieldsMap(t);this.applyChanges(ae,a,h),a={},h=[],t=G.popLast()}T?a[G.lastSegment()]=pl(T):h.push(G.lastSegment())});const b=this.getFieldsMap(t);this.applyChanges(b,a,h)}delete(e){const t=this.field(e.popLast());vc(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return _l(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let a=0;a<e.length;++a){let h=t.mapValue.fields[e.get(a)];vc(h)&&h.mapValue.fields||(h={mapValue:{fields:{}}},t.mapValue.fields[e.get(a)]=h),t=h}return t.mapValue.fields}applyChanges(e,t,a){fi(t,(h,b)=>e[h]=b);for(const h of a)delete e[h]}clone(){return new zo(pl(this.value))}}function tc(i){const e=[];return fi(i.fields,(t,a)=>{const h=new hs([t]);if(vc(a)){const b=tc(a.mapValue).fields;if(0===b.length)e.push(h);else for(const T of b)e.push(h.child(T))}else e.push(h)}),new Ir(e)}class Fo{constructor(e,t,a,h,b,T,G){this.key=e,this.documentType=t,this.version=a,this.readTime=h,this.createTime=b,this.data=T,this.documentState=G}static newInvalidDocument(e){return new Fo(e,0,yi.min(),yi.min(),yi.min(),zo.empty(),0)}static newFoundDocument(e,t,a,h){return new Fo(e,1,t,yi.min(),a,h,0)}static newNoDocument(e,t){return new Fo(e,2,t,yi.min(),yi.min(),zo.empty(),0)}static newUnknownDocument(e,t){return new Fo(e,3,t,yi.min(),yi.min(),zo.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(yi.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=zo.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=zo.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=yi.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Fo&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Fo(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class va{constructor(e,t){this.position=e,this.inclusive=t}}function iu(i,e,t){let a=0;for(let h=0;h<i.position.length;h++){const b=e[h],T=i.position[h];if(a=b.field.isKeyField()?gr.comparator(gr.fromName(T.referenceValue),t.key):Xl(T,t.data.field(b.field)),"desc"===b.dir&&(a*=-1),0!==a)break}return a}function yd(i,e){if(null===i)return null===e;if(null===e||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let t=0;t<i.position.length;t++)if(!_l(i.position[t],e.position[t]))return!1;return!0}class nc{constructor(e,t="asc"){this.field=e,this.dir=t}}function uh(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}class vd{}class ho extends vd{constructor(e,t,a){super(),this.field=e,this.op=t,this.value=a}static create(e,t,a){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,a):new Fu(e,t,a):"array-contains"===t?new dh(e,a):"in"===t?new _c(e,a):"not-in"===t?new oc(e,a):"array-contains-any"===t?new ou(e,a):new ho(e,t,a)}static createKeyFieldInFilter(e,t,a){return"in"===t?new $c(e,a):new bd(e,a)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Xl(t,this.value)):null!==t&&vl(this.value)===vl(t)&&this.matchesComparison(Xl(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Or()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Vo extends vd{constructor(e,t){super(),this.filters=e,this.op=t,this.lt=null}static create(e,t){return new Vo(e,t)}matches(e){return bl(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(t=>t.isInequality());return null!==e?e.field:null}ft(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function bl(i){return"and"===i.op}function rc(i){return"or"===i.op}function su(i){return Bc(i)&&bl(i)}function Bc(i){for(const e of i.filters)if(e instanceof Vo)return!1;return!0}function ic(i){if(i instanceof ho)return i.field.canonicalString()+i.op.toString()+Ll(i.value);if(su(i))return i.filters.map(e=>ic(e)).join(",");{const e=i.filters.map(t=>ic(t)).join(",");return`${i.op}(${e})`}}function Rl(i,e){return i instanceof ho?(t=i,(a=e)instanceof ho&&t.op===a.op&&t.field.isEqual(a.field)&&_l(t.value,a.value)):i instanceof Vo?function(t,a){return a instanceof Vo&&t.op===a.op&&t.filters.length===a.filters.length&&t.filters.reduce((h,b,T)=>h&&Rl(b,a.filters[T]),!0)}(i,e):void Or();var t,a}function _d(i,e){const t=i.filters.concat(e);return Vo.create(t,i.op)}function sc(i){return i instanceof ho?`${(e=i).field.canonicalString()} ${e.op} ${Ll(e.value)}`:i instanceof Vo?function(e){return e.op.toString()+" {"+e.getFilters().map(sc).join(" ,")+"}"}(i):"Filter";var e}class Fu extends ho{constructor(e,t,a){super(e,t,a),this.key=gr.fromName(a.referenceValue)}matches(e){const t=gr.comparator(e.key,this.key);return this.matchesComparison(t)}}class $c extends ho{constructor(e,t){super(e,"in",t),this.keys=Vc(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class bd extends ho{constructor(e,t){super(e,"not-in",t),this.keys=Vc(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function Vc(i,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(a=>gr.fromName(a.referenceValue))}class dh extends ho{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return ll(t)&&Nc(t.arrayValue,this.value)}}class _c extends ho{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Nc(this.value.arrayValue,t)}}class oc extends ho{constructor(e,t){super(e,"not-in",t)}matches(e){if(Nc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Nc(this.value.arrayValue,t)}}class ou extends ho{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!ll(t)||!t.arrayValue.values)&&t.arrayValue.values.some(a=>Nc(this.value.arrayValue,a))}}class au{constructor(e,t=null,a=[],h=[],b=null,T=null,G=null){this.path=e,this.collectionGroup=t,this.orderBy=a,this.filters=h,this.limit=b,this.startAt=T,this.endAt=G,this.dt=null}}function Uc(i,e=null,t=[],a=[],h=null,b=null,T=null){return new au(i,e,t,a,h,b,T)}function ml(i){const e=Bn(i);if(null===e.dt){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(a=>ic(a)).join(","),t+="|ob:",t+=e.orderBy.map(a=>{return(h=a).field.canonicalString()+h.dir;var h}).join(","),Xe(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(a=>Ll(a)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(a=>Ll(a)).join(",")),e.dt=t}return e.dt}function Sl(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<i.orderBy.length;t++)if(!uh(i.orderBy[t],e.orderBy[t]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let t=0;t<i.filters.length;t++)if(!Rl(i.filters[t],e.filters[t]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!yd(i.startAt,e.startAt)&&yd(i.endAt,e.endAt)}function lu(i){return gr.isDocumentKey(i.path)&&null===i.collectionGroup&&0===i.filters.length}function bc(i,e){return i.filters.filter(t=>t instanceof ho&&t.field.isEqual(e))}function jc(i,e,t){let a=Zl,h=!0;for(const b of bc(i,e)){let T=Zl,G=!0;switch(b.op){case"<":case"<=":T=Lc(b.value);break;case"==":case"in":case">=":T=b.value;break;case">":T=b.value,G=!1;break;case"!=":case"not-in":T=Zl}gl({value:a,inclusive:h},{value:T,inclusive:G})<0&&(a=T,h=G)}if(null!==t)for(let b=0;b<i.orderBy.length;++b)if(i.orderBy[b].field.isEqual(e)){const T=t.position[b];gl({value:a,inclusive:h},{value:T,inclusive:t.inclusive})<0&&(a=T,h=t.inclusive);break}return{value:a,inclusive:h}}function zc(i,e,t){let a=tl,h=!0;for(const b of bc(i,e)){let T=tl,G=!0;switch(b.op){case">=":case">":T=Df(b.value),G=!1;break;case"==":case"in":case"<=":T=b.value;break;case"<":T=b.value,G=!1;break;case"!=":case"not-in":T=tl}md({value:a,inclusive:h},{value:T,inclusive:G})>0&&(a=T,h=G)}if(null!==t)for(let b=0;b<i.orderBy.length;++b)if(i.orderBy[b].field.isEqual(e)){const T=t.position[b];md({value:a,inclusive:h},{value:T,inclusive:t.inclusive})>0&&(a=T,h=t.inclusive);break}return{value:a,inclusive:h}}class qa{constructor(e,t=null,a=[],h=[],b=null,T="F",G=null,ae=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=a,this.filters=h,this.limit=b,this.limitType=T,this.startAt=G,this.endAt=ae,this.wt=null,this._t=null}}function Ed(i,e,t,a,h,b,T,G){return new qa(i,e,t,a,h,b,T,G)}function Hl(i){return new qa(i)}function U(i){return 0===i.filters.length&&null===i.limit&&null==i.startAt&&null==i.endAt&&(0===i.explicitOrderBy.length||1===i.explicitOrderBy.length&&i.explicitOrderBy[0].field.isKeyField())}function C(i){return i.explicitOrderBy.length>0?i.explicitOrderBy[0].field:null}function x(i){for(const e of i.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}function W(i){return null!==i.collectionGroup}function Ie(i){const e=Bn(i);if(null===e.wt){e.wt=[];const t=x(e),a=C(e);if(null!==t&&null===a)t.isKeyField()||e.wt.push(new nc(t)),e.wt.push(new nc(hs.keyField(),"asc"));else{let h=!1;for(const b of e.explicitOrderBy)e.wt.push(b),b.field.isKeyField()&&(h=!0);if(!h){const b=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new nc(hs.keyField(),b))}}}return e.wt}function He(i){const e=Bn(i);if(!e._t)if("F"===e.limitType)e._t=Uc(e.path,e.collectionGroup,Ie(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const b of Ie(e))t.push(new nc(b.field,"desc"===b.dir?"asc":"desc"));const a=e.endAt?new va(e.endAt.position,e.endAt.inclusive):null,h=e.startAt?new va(e.startAt.position,e.startAt.inclusive):null;e._t=Uc(e.path,e.collectionGroup,t,e.filters,e.limit,a,h)}return e._t}function on(i,e){e.getFirstInequalityField(),x(i);const t=i.filters.concat([e]);return new qa(i.path,i.collectionGroup,i.explicitOrderBy.slice(),t,i.limit,i.limitType,i.startAt,i.endAt)}function xn(i,e,t){return new qa(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,t,i.startAt,i.endAt)}function _r(i,e){return Sl(He(i),He(e))&&i.limitType===e.limitType}function si(i){return`${ml(He(i))}|lt:${i.limitType}`}function ji(i){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(a=>sc(a)).join(", ")}]`),Xe(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(a=>{return`${(h=a).field.canonicalString()} (${h.dir})`;var h}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(a=>Ll(a)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(a=>Ll(a)).join(",")),`Target(${t})`}(He(i))}; limitType=${i.limitType})`}function Ys(i,e){return e.isFoundDocument()&&function(t,a){const h=a.key.path;return null!==t.collectionGroup?a.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(h):gr.isDocumentKey(t.path)?t.path.isEqual(h):t.path.isImmediateParentOf(h)}(i,e)&&function(t,a){for(const h of Ie(t))if(!h.field.isKeyField()&&null===a.data.field(h.field))return!1;return!0}(i,e)&&function(t,a){for(const h of t.filters)if(!h.matches(a))return!1;return!0}(i,e)&&(a=e,!((t=i).startAt&&!function(h,b,T){const G=iu(h,b,T);return h.inclusive?G<=0:G<0}(t.startAt,Ie(t),a)||t.endAt&&!function(h,b,T){const G=iu(h,b,T);return h.inclusive?G>=0:G>0}(t.endAt,Ie(t),a)));var t,a}function nl(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function Ol(i){return(e,t)=>{let a=!1;for(const h of Ie(i)){const b=Hc(h,e,t);if(0!==b)return b;a=a||h.field.isKeyField()}return 0}}function Hc(i,e,t){const a=i.field.isKeyField()?gr.comparator(e.key,t.key):function(h,b,T){const G=b.data.field(h),ae=T.data.field(h);return null!==G&&null!==ae?Xl(G,ae):Or()}(i.field,e,t);switch(i.dir){case"asc":return a;case"desc":return-1*a;default:return Or()}}class ia{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),a=this.inner[t];if(void 0!==a)for(const[h,b]of a)if(this.equalsFn(h,e))return b}has(e){return void 0!==this.get(e)}set(e,t){const a=this.mapKeyFn(e),h=this.inner[a];if(void 0===h)return this.inner[a]=[[e,t]],void this.innerSize++;for(let b=0;b<h.length;b++)if(this.equalsFn(h[b][0],e))return void(h[b]=[e,t]);h.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),a=this.inner[t];if(void 0===a)return!1;for(let h=0;h<a.length;h++)if(this.equalsFn(a[h][0],e))return 1===a.length?delete this.inner[t]:a.splice(h,1),this.innerSize--,!0;return!1}forEach(e){fi(this.inner,(t,a)=>{for(const[h,b]of a)e(h,b)})}isEmpty(){return Ri(this.inner)}size(){return this.innerSize}}const Wl=new Vr(gr.comparator);function ua(){return Wl}const ac=new Vr(gr.comparator);function Ma(...i){let e=ac;for(const t of i)e=e.insert(t.key,t);return e}function $a(i){let e=ac;return i.forEach((t,a)=>e=e.insert(t,a.overlayedDocument)),e}function El(){return wl()}function Wc(){return wl()}function wl(){return new ia(i=>i.toString(),(i,e)=>i.isEqual(e))}const hh=new Vr(gr.comparator),Gc=new os(gr.comparator);function Us(...i){let e=Gc;for(const t of i)e=e.add(t);return e}const fh=new os(Vi);function ph(){return fh}function gh(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ue(e)?"-0":e}}function Sf(i){return{integerValue:""+i}}function Tf(i,e){return Yt(e)?Sf(e):gh(i,e)}class Pa{constructor(){this._=void 0}}function cu(i,e,t){return i instanceof Da?function(a,h){const b={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return h&&Ca(h)&&(h=Ba(h)),h&&(b.fields.__previous_value__=h),{mapValue:b}}(t,e):i instanceof kl?wd(i,e):i instanceof lc?mh(i,e):function(a,h){const b=du(a,h),T=yh(b)+yh(a.gt);return fl(b)&&fl(a.gt)?Sf(T):gh(a.serializer,T)}(i,e)}function uu(i,e,t){return i instanceof kl?wd(i,e):i instanceof lc?mh(i,e):t}function du(i,e){return i instanceof rl?fl(t=e)||(a=t)&&"doubleValue"in a?e:{integerValue:0}:null;var a,t}class Da extends Pa{}class kl extends Pa{constructor(e){super(),this.elements=e}}function wd(i,e){const t=vh(e);for(const a of i.elements)t.some(h=>_l(h,a))||t.push(a);return{arrayValue:{values:t}}}class lc extends Pa{constructor(e){super(),this.elements=e}}function mh(i,e){let t=vh(e);for(const a of i.elements)t=t.filter(h=>!_l(h,a));return{arrayValue:{values:t}}}class rl extends Pa{constructor(e,t){super(),this.serializer=e,this.gt=t}}function yh(i){return Cs(i.integerValue||i.doubleValue)}function vh(i){return ll(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}class Lu{constructor(e,t){this.field=e,this.transform=t}}class xf{constructor(e,t){this.version=e,this.transformResults=t}}class pa{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new pa}static exists(e){return new pa(void 0,e)}static updateTime(e){return new pa(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function hu(i,e){return void 0!==i.updateTime?e.isFoundDocument()&&e.version.isEqual(i.updateTime):void 0===i.exists||i.exists===e.isFoundDocument()}class fu{}function Mf(i,e){if(!i.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return i.isNoDocument()?new wc(i.key,pa.none()):new Ec(i.key,i.data,pa.none());{const t=i.data,a=zo.empty();let h=new os(hs.comparator);for(let b of e.fields)if(!h.has(b)){let T=t.field(b);null===T&&b.length>1&&(b=b.popLast(),T=t.field(b)),null===T?a.delete(b):a.set(b,T),h=h.add(b)}return new Gl(i.key,a,new Ir(h.toArray()),pa.none())}}function Bu(i,e,t){i instanceof Ec?function(a,h,b){const T=a.value.clone(),G=Vu(a.fieldTransforms,h,b.transformResults);T.setAll(G),h.convertToFoundDocument(b.version,T).setHasCommittedMutations()}(i,e,t):i instanceof Gl?function(a,h,b){if(!hu(a.precondition,h))return void h.convertToUnknownDocument(b.version);const T=Vu(a.fieldTransforms,h,b.transformResults),G=h.data;G.setAll(Kc(a)),G.setAll(T),h.convertToFoundDocument(b.version,G).setHasCommittedMutations()}(i,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function $u(i,e,t,a){return i instanceof Ec?function(h,b,T,G){if(!hu(h.precondition,b))return T;const ae=h.value.clone(),we=_h(h.fieldTransforms,G,b);return ae.setAll(we),b.convertToFoundDocument(b.version,ae).setHasLocalMutations(),null}(i,e,t,a):i instanceof Gl?function(h,b,T,G){if(!hu(h.precondition,b))return T;const ae=_h(h.fieldTransforms,G,b),we=b.data;return we.setAll(Kc(h)),we.setAll(ae),b.convertToFoundDocument(b.version,we).setHasLocalMutations(),null===T?null:T.unionWith(h.fieldMask.fields).unionWith(h.fieldTransforms.map(Ye=>Ye.field))}(i,e,t,a):(T=t,hu(i.precondition,b=e)?(b.convertToNoDocument(b.version).setHasLocalMutations(),null):T);var b,T}function Vp(i,e){let t=null;for(const a of i.fieldTransforms){const h=e.data.field(a.field),b=du(a.transform,h||null);null!=b&&(null===t&&(t=zo.empty()),t.set(a.field,b))}return t||null}function Id(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&(a=e.fieldTransforms,!!(void 0===(t=i.fieldTransforms)&&void 0===a||t&&a&&sa(t,a,(h,b)=>function Af(i,e){return i.field.isEqual(e.field)&&(a=e.transform,(t=i.transform)instanceof kl&&a instanceof kl||t instanceof lc&&a instanceof lc?sa(t.elements,a.elements,_l):t instanceof rl&&a instanceof rl?_l(t.gt,a.gt):t instanceof Da&&a instanceof Da);var t,a}(h,b))))&&(0===i.type?i.value.isEqual(e.value):1!==i.type||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask));var t,a}class Ec extends fu{constructor(e,t,a,h=[]){super(),this.key=e,this.value=t,this.precondition=a,this.fieldTransforms=h,this.type=0}getFieldMask(){return null}}class Gl extends fu{constructor(e,t,a,h,b=[]){super(),this.key=e,this.data=t,this.fieldMask=a,this.precondition=h,this.fieldTransforms=b,this.type=1}getFieldMask(){return this.fieldMask}}function Kc(i){const e=new Map;return i.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const a=i.data.field(t);e.set(t,a)}}),e}function Vu(i,e,t){const a=new Map;ii(i.length===t.length);for(let h=0;h<t.length;h++){const b=i[h],T=b.transform,G=e.data.field(b.field);a.set(b.field,uu(T,G,t[h]))}return a}function _h(i,e,t){const a=new Map;for(const h of i){const b=h.transform,T=t.data.field(h.field);a.set(h.field,cu(b,T,e))}return a}class wc extends fu{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class pu extends fu{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class bh{constructor(e,t,a,h){this.batchId=e,this.localWriteTime=t,this.baseMutations=a,this.mutations=h}applyToRemoteDocument(e,t){const a=t.mutationResults;for(let h=0;h<this.mutations.length;h++){const b=this.mutations[h];b.key.isEqual(e.key)&&Bu(b,e,a[h])}}applyToLocalView(e,t){for(const a of this.baseMutations)a.key.isEqual(e.key)&&(t=$u(a,e,t,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(e.key)&&(t=$u(a,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const a=Wc();return this.mutations.forEach(h=>{const b=e.get(h.key),T=b.overlayedDocument;let G=this.applyToLocalView(T,b.mutatedFields);G=t.has(h.key)?null:G;const ae=Mf(T,G);null!==ae&&a.set(h.key,ae),T.isValidDocument()||T.convertToNoDocument(yi.min())}),a}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Us())}isEqual(e){return this.batchId===e.batchId&&sa(this.mutations,e.mutations,(t,a)=>Id(t,a))&&sa(this.baseMutations,e.baseMutations,(t,a)=>Id(t,a))}}class Eh{constructor(e,t,a,h){this.batch=e,this.commitVersion=t,this.mutationResults=a,this.docVersions=h}static from(e,t,a){ii(e.mutations.length===a.length);let h=hh;const b=e.mutations;for(let T=0;T<b.length;T++)h=h.insert(b[T].key,a[T].version);return new Eh(e,t,a,h)}}class Tl{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class wh{constructor(e,t){this.count=e,this.unchangedNames=t}}var Ra,Ro;function Uu(i){switch(i){default:return Or();case Dn.CANCELLED:case Dn.UNKNOWN:case Dn.DEADLINE_EXCEEDED:case Dn.RESOURCE_EXHAUSTED:case Dn.INTERNAL:case Dn.UNAVAILABLE:case Dn.UNAUTHENTICATED:return!1;case Dn.INVALID_ARGUMENT:case Dn.NOT_FOUND:case Dn.ALREADY_EXISTS:case Dn.PERMISSION_DENIED:case Dn.FAILED_PRECONDITION:case Dn.ABORTED:case Dn.OUT_OF_RANGE:case Dn.UNIMPLEMENTED:case Dn.DATA_LOSS:return!0}}function Ih(i){if(void 0===i)return Bi("GRPC error has no .code"),Dn.UNKNOWN;switch(i){case Ra.OK:return Dn.OK;case Ra.CANCELLED:return Dn.CANCELLED;case Ra.UNKNOWN:return Dn.UNKNOWN;case Ra.DEADLINE_EXCEEDED:return Dn.DEADLINE_EXCEEDED;case Ra.RESOURCE_EXHAUSTED:return Dn.RESOURCE_EXHAUSTED;case Ra.INTERNAL:return Dn.INTERNAL;case Ra.UNAVAILABLE:return Dn.UNAVAILABLE;case Ra.UNAUTHENTICATED:return Dn.UNAUTHENTICATED;case Ra.INVALID_ARGUMENT:return Dn.INVALID_ARGUMENT;case Ra.NOT_FOUND:return Dn.NOT_FOUND;case Ra.ALREADY_EXISTS:return Dn.ALREADY_EXISTS;case Ra.PERMISSION_DENIED:return Dn.PERMISSION_DENIED;case Ra.FAILED_PRECONDITION:return Dn.FAILED_PRECONDITION;case Ra.ABORTED:return Dn.ABORTED;case Ra.OUT_OF_RANGE:return Dn.OUT_OF_RANGE;case Ra.UNIMPLEMENTED:return Dn.UNIMPLEMENTED;case Ra.DATA_LOSS:return Dn.DATA_LOSS;default:return Or()}}(Ro=Ra||(Ra={}))[Ro.OK=0]="OK",Ro[Ro.CANCELLED=1]="CANCELLED",Ro[Ro.UNKNOWN=2]="UNKNOWN",Ro[Ro.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ro[Ro.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ro[Ro.NOT_FOUND=5]="NOT_FOUND",Ro[Ro.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ro[Ro.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ro[Ro.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ro[Ro.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ro[Ro.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ro[Ro.ABORTED=10]="ABORTED",Ro[Ro.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ro[Ro.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ro[Ro.INTERNAL=13]="INTERNAL",Ro[Ro.UNAVAILABLE=14]="UNAVAILABLE",Ro[Ro.DATA_LOSS=15]="DATA_LOSS";class ju{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return Cd}static getOrCreateInstance(){return null===Cd&&(Cd=new ju),Cd}onExistenceFilterMismatch(e){const t=Symbol();return this.onExistenceFilterMismatchCallbacks.set(t,e),()=>this.onExistenceFilterMismatchCallbacks.delete(t)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(t=>t(e))}}let Cd=null;function Pf(){return new TextEncoder}const Dd=new fr([4294967295,4294967295],0);function Ch(i){const e=Pf().encode(i),t=new ei;return t.update(e),new Uint8Array(t.digest())}function Ic(i){const e=new DataView(i.buffer),t=e.getUint32(0,!0),a=e.getUint32(4,!0),h=e.getUint32(8,!0),b=e.getUint32(12,!0);return[new fr([t,a],0),new fr([h,b],0)]}class Dh{constructor(e,t,a){if(this.bitmap=e,this.padding=t,this.hashCount=a,t<0||t>=8)throw new Yc(`Invalid padding: ${t}`);if(a<0)throw new Yc(`Invalid hash count: ${a}`);if(e.length>0&&0===this.hashCount)throw new Yc(`Invalid hash count: ${a}`);if(0===e.length&&0!==t)throw new Yc(`Invalid padding when bitmap length is 0: ${t}`);this.It=8*e.length-t,this.Tt=fr.fromNumber(this.It)}Et(e,t,a){let h=e.add(t.multiply(fr.fromNumber(a)));return 1===h.compare(Dd)&&(h=new fr([h.getBits(0),h.getBits(1)],0)),h.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const t=Ch(e),[a,h]=Ic(t);for(let b=0;b<this.hashCount;b++){const T=this.Et(a,h,b);if(!this.At(T))return!1}return!0}static create(e,t,a){const h=e%8==0?0:8-e%8,b=new Uint8Array(Math.ceil(e/8)),T=new Dh(b,h,t);return a.forEach(G=>T.insert(G)),T}insert(e){if(0===this.It)return;const t=Ch(e),[a,h]=Ic(t);for(let b=0;b<this.hashCount;b++){const T=this.Et(a,h,b);this.Rt(T)}}Rt(e){const t=Math.floor(e/8);this.bitmap[t]|=1<<e%8}}class Yc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class zu{constructor(e,t,a,h,b){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=a,this.documentUpdates=h,this.resolvedLimboDocuments=b}static createSynthesizedRemoteEventForCurrentChange(e,t,a){const h=new Map;return h.set(e,Sd.createSynthesizedTargetChangeForCurrentChange(e,t,a)),new zu(yi.min(),h,new Vr(Vi),ua(),Us())}}class Sd{constructor(e,t,a,h,b){this.resumeToken=e,this.current=t,this.addedDocuments=a,this.modifiedDocuments=h,this.removedDocuments=b}static createSynthesizedTargetChangeForCurrentChange(e,t,a){return new Sd(a,t,Us(),Us(),Us())}}class qc{constructor(e,t,a,h){this.Pt=e,this.removedTargetIds=t,this.key=a,this.bt=h}}class Rf{constructor(e,t){this.targetId=e,this.Vt=t}}class Sh{constructor(e,t,a=rs.EMPTY_BYTE_STRING,h=null){this.state=e,this.targetIds=t,this.resumeToken=a,this.cause=h}}class Th{constructor(){this.St=0,this.Dt=Ah(),this.Ct=rs.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=Us(),t=Us(),a=Us();return this.Dt.forEach((h,b)=>{switch(b){case 0:e=e.add(h);break;case 2:t=t.add(h);break;case 1:a=a.add(h);break;default:Or()}}),new Sd(this.Ct,this.xt,e,t,a)}Ft(){this.Nt=!1,this.Dt=Ah()}Bt(e,t){this.Nt=!0,this.Dt=this.Dt.insert(e,t)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class Of{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=ua(),this.zt=Td(),this.Wt=new Vr(Vi)}Ht(e){for(const t of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(t,e.bt):this.Yt(t,e.key,e.bt);for(const t of e.removedTargetIds)this.Yt(t,e.key,e.bt)}Xt(e){this.forEachTarget(e,t=>{const a=this.Zt(t);switch(e.state){case 0:this.te(t)&&a.$t(e.resumeToken);break;case 1:a.Ut(),a.kt||a.Ft(),a.$t(e.resumeToken);break;case 2:a.Ut(),a.kt||this.removeTarget(t);break;case 3:this.te(t)&&(a.Kt(),a.$t(e.resumeToken));break;case 4:this.te(t)&&(this.ee(t),a.$t(e.resumeToken));break;default:Or()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Qt.forEach((a,h)=>{this.te(h)&&t(h)})}ne(e){var t;const a=e.targetId,h=e.Vt.count,b=this.se(a);if(b){const T=b.target;if(lu(T))if(0===h){const G=new gr(T.path);this.Yt(a,G,Fo.newNoDocument(G,yi.min()))}else ii(1===h);else{const G=this.ie(a);if(G!==h){const ae=this.re(e,G);0!==ae&&(this.ee(a),this.Wt=this.Wt.insert(a,2===ae?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(t=ju.instance)||void 0===t||t.notifyOnExistenceFilterMismatch(function(we,Ye,Pt){var bn,Vn,Tr,pi,Ci,eo;const Lo={localCacheCount:Ye,existenceFilterCount:Pt.count},bo=Pt.unchangedNames;return bo&&(Lo.bloomFilter={applied:0===we,hashCount:null!==(bn=null==bo?void 0:bo.hashCount)&&void 0!==bn?bn:0,bitmapLength:null!==(pi=null===(Tr=null===(Vn=null==bo?void 0:bo.bits)||void 0===Vn?void 0:Vn.bitmap)||void 0===Tr?void 0:Tr.length)&&void 0!==pi?pi:0,padding:null!==(eo=null===(Ci=null==bo?void 0:bo.bits)||void 0===Ci?void 0:Ci.padding)&&void 0!==eo?eo:0}),Lo}(ae,G,e.Vt))}}}}re(e,t){const{unchangedNames:a,count:h}=e.Vt;if(!a||!a.bits)return 1;const{bits:{bitmap:b="",padding:T=0},hashCount:G=0}=a;let ae,we;try{ae=as(b).toUint8Array()}catch(Ye){if(Ye instanceof wi)return Yo("Decoding the base64 bloom filter in existence filter failed ("+Ye.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw Ye}try{we=new Dh(ae,T,G)}catch(Ye){return Yo(Ye instanceof Yc?"BloomFilter error: ":"Applying bloom filter failed: ",Ye),1}return 0===we.It?1:h!==t-this.oe(e.targetId,we)?2:0}oe(e,t){const a=this.Gt.getRemoteKeysForTarget(e);let h=0;return a.forEach(b=>{const T=this.Gt.ue(),G=`projects/${T.projectId}/databases/${T.database}/documents/${b.path.canonicalString()}`;t.vt(G)||(this.Yt(e,b,null),h++)}),h}ce(e){const t=new Map;this.Qt.forEach((b,T)=>{const G=this.se(T);if(G){if(b.current&&lu(G.target)){const ae=new gr(G.target.path);null!==this.jt.get(ae)||this.ae(T,ae)||this.Yt(T,ae,Fo.newNoDocument(ae,e))}b.Mt&&(t.set(T,b.Ot()),b.Ft())}});let a=Us();this.zt.forEach((b,T)=>{let G=!0;T.forEachWhile(ae=>{const we=this.se(ae);return!we||"TargetPurposeLimboResolution"===we.purpose||(G=!1,!1)}),G&&(a=a.add(b))}),this.jt.forEach((b,T)=>T.setReadTime(e));const h=new zu(e,t,this.Wt,this.jt,a);return this.jt=ua(),this.zt=Td(),this.Wt=new Vr(Vi),h}Jt(e,t){if(!this.te(e))return;const a=this.ae(e,t.key)?2:0;this.Zt(e).Bt(t.key,a),this.jt=this.jt.insert(t.key,t),this.zt=this.zt.insert(t.key,this.he(t.key).add(e))}Yt(e,t,a){if(!this.te(e))return;const h=this.Zt(e);this.ae(e,t)?h.Bt(t,1):h.Lt(t),this.zt=this.zt.insert(t,this.he(t).delete(e)),a&&(this.jt=this.jt.insert(t,a))}removeTarget(e){this.Qt.delete(e)}ie(e){const t=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let t=this.Qt.get(e);return t||(t=new Th,this.Qt.set(e,t)),t}he(e){let t=this.zt.get(e);return t||(t=new os(Vi),this.zt=this.zt.insert(e,t)),t}te(e){const t=null!==this.se(e);return t||Wn("WatchChangeAggregator","Detected inactive target",e),t}se(e){const t=this.Qt.get(e);return t&&t.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new Th),this.Gt.getRemoteKeysForTarget(e).forEach(t=>{this.Yt(e,t,null)})}ae(e,t){return this.Gt.getRemoteKeysForTarget(e).has(t)}}function Td(){return new Vr(gr.comparator)}function Ah(){return new Vr(gr.comparator)}const xh={asc:"ASCENDING",desc:"DESCENDING"},Ad={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},kf={and:"AND",or:"OR"};class Mh{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function gu(i,e){return i.useProto3Json||Xe(e)?e:{value:e}}function Cc(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function xd(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function Hu(i,e){return Cc(i,e.toTimestamp())}function Oa(i){return ii(!!i),yi.fromTimestamp(function(e){const t=vo(e);return new Ks(t.seconds,t.nanos)}(i))}function Md(i,e){return(t=i,new ss(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function cc(i){const e=ss.fromString(i);return ii(hc(e)),e}function ka(i,e){return Md(i.databaseId,e.path)}function Sa(i,e){const t=cc(e);if(t.get(1)!==i.databaseId.projectId)throw new Xn(Dn.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+i.databaseId.projectId);if(t.get(3)!==i.databaseId.database)throw new Xn(Dn.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+i.databaseId.database);return new gr(Pd(t))}function Dc(i,e){return Md(i.databaseId,e)}function Ph(i){const e=cc(i);return 4===e.length?ss.emptyPath():Pd(e)}function Sc(i){return new ss(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function Pd(i){return ii(i.length>4&&"documents"===i.get(4)),i.popFirst(5)}function Zc(i,e,t){return{name:ka(i,e),fields:t.value.mapValue.fields}}function uc(i,e,t){const a=Sa(i,e.name),h=Oa(e.updateTime),b=e.createTime?Oa(e.createTime):yi.min(),T=new zo({mapValue:{fields:e.fields}}),G=Fo.newFoundDocument(a,h,b,T);return t&&G.setHasCommittedMutations(),t?G.setHasCommittedMutations():G}function Wu(i,e){let t;if(e instanceof Ec)t={update:Zc(i,e.key,e.value)};else if(e instanceof wc)t={delete:ka(i,e.key)};else if(e instanceof Gl)t={update:Zc(i,e.key,e.data),updateMask:Hp(e.fieldMask)};else{if(!(e instanceof pu))return Or();t={verify:ka(i,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(a=>function(h,b){const T=b.transform;if(T instanceof Da)return{fieldPath:b.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(T instanceof kl)return{fieldPath:b.field.canonicalString(),appendMissingElements:{values:T.elements}};if(T instanceof lc)return{fieldPath:b.field.canonicalString(),removeAllFromArray:{values:T.elements}};if(T instanceof rl)return{fieldPath:b.field.canonicalString(),increment:T.gt};throw Or()}(0,a))),e.precondition.isNone||(t.currentDocument=void 0!==(h=e.precondition).updateTime?{updateTime:Hu(i,h.updateTime)}:void 0!==h.exists?{exists:h.exists}:Or()),t;var h}function Gu(i,e){const t=e.currentDocument?void 0!==(h=e.currentDocument).updateTime?pa.updateTime(Oa(h.updateTime)):void 0!==h.exists?pa.exists(h.exists):pa.none():pa.none(),a=e.updateTransforms?e.updateTransforms.map(h=>function(b,T){let G=null;"setToServerValue"in T?(ii("REQUEST_TIME"===T.setToServerValue),G=new Da):"appendMissingElements"in T?G=new kl(T.appendMissingElements.values||[]):"removeAllFromArray"in T?G=new lc(T.removeAllFromArray.values||[]):"increment"in T?G=new rl(b,T.increment):Or();const ae=hs.fromServerFormat(T.fieldPath);return new Lu(ae,G)}(i,h)):[];var h;if(e.update){const h=Sa(i,e.update.name),b=new zo({mapValue:{fields:e.update.fields}});if(e.updateMask){const T=new Ir((e.updateMask.fieldPaths||[]).map(we=>hs.fromServerFormat(we)));return new Gl(h,b,T,t,a)}return new Ec(h,b,t,a)}if(e.delete){const h=Sa(i,e.delete);return new wc(h,t)}if(e.verify){const h=Sa(i,e.verify);return new pu(h,t)}return Or()}function Xc(i,e){return{documents:[Dc(i,e.path)]}}function Qc(i,e){const t={structuredQuery:{}},a=e.path;null!==e.collectionGroup?(t.parent=Dc(i,a),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=Dc(i,a.popLast()),t.structuredQuery.from=[{collectionId:a.lastSegment()}]);const h=function(ae){if(0!==ae.length)return kh(Vo.create(ae,"and"))}(e.filters);h&&(t.structuredQuery.where=h);const b=function(ae){if(0!==ae.length)return ae.map(we=>{return{field:dc((Ye=we).field),direction:Oh(Ye.dir)};var Ye})}(e.orderBy);b&&(t.structuredQuery.orderBy=b);const T=gu(i,e.limit);var G,ae;return null!==T&&(t.structuredQuery.limit=T),e.startAt&&(t.structuredQuery.startAt={before:(G=e.startAt).inclusive,values:G.position}),e.endAt&&(t.structuredQuery.endAt={before:!(ae=e.endAt).inclusive,values:ae.position}),t}function Ku(i){let e=Ph(i.parent);const t=i.structuredQuery,a=t.from?t.from.length:0;let h=null;if(a>0){ii(1===a);const Ye=t.from[0];Ye.allDescendants?h=Ye.collectionId:e=e.child(Ye.collectionId)}let b=[];t.where&&(b=function(Ye){const Pt=Rh(Ye);return Pt instanceof Vo&&su(Pt)?Pt.getFilters():[Pt]}(t.where));let T=[];t.orderBy&&(T=t.orderBy.map(Ye=>{return new nc(Jc((Pt=Ye).field),function(bn){switch(bn){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(Pt.direction));var Pt}));let G=null;t.limit&&(G=function(Ye){let Pt;return Pt="object"==typeof Ye?Ye.value:Ye,Xe(Pt)?null:Pt}(t.limit));let ae=null;var Ye;t.startAt&&(ae=new va((Ye=t.startAt).values||[],!!Ye.before));let we=null;return t.endAt&&(we=function(Ye){return new va(Ye.values||[],!Ye.before)}(t.endAt)),Ed(e,h,T,b,G,"F",ae,we)}function Rh(i){return void 0!==i.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Jc(e.unaryFilter.field);return ho.create(t,"==",{doubleValue:NaN});case"IS_NULL":const a=Jc(e.unaryFilter.field);return ho.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const h=Jc(e.unaryFilter.field);return ho.create(h,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const b=Jc(e.unaryFilter.field);return ho.create(b,"!=",{nullValue:"NULL_VALUE"});default:return Or()}}(i):void 0!==i.fieldFilter?ho.create(Jc((e=i).fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Or()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==i.compositeFilter?function(e){return Vo.create(e.compositeFilter.filters.map(t=>Rh(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return Or()}}(e.compositeFilter.op))}(i):Or();var e}function Oh(i){return xh[i]}function Ff(i){return Ad[i]}function zp(i){return kf[i]}function dc(i){return{fieldPath:i.canonicalString()}}function Jc(i){return hs.fromServerFormat(i.fieldPath)}function kh(i){return i instanceof ho?function(e){if("=="===e.op){if(ec(e.value))return{unaryFilter:{field:dc(e.field),op:"IS_NAN"}};if(za(e.value))return{unaryFilter:{field:dc(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(ec(e.value))return{unaryFilter:{field:dc(e.field),op:"IS_NOT_NAN"}};if(za(e.value))return{unaryFilter:{field:dc(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:dc(e.field),op:Ff(e.op),value:e.value}}}(i):i instanceof Vo?function(e){const t=e.getFilters().map(a=>kh(a));return 1===t.length?t[0]:{compositeFilter:{op:zp(e.op),filters:t}}}(i):Or()}function Hp(i){const e=[];return i.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function hc(i){return i.length>=4&&"projects"===i.get(0)&&"databases"===i.get(2)}class Al{constructor(e,t,a,h,b=yi.min(),T=yi.min(),G=rs.EMPTY_BYTE_STRING,ae=null){this.target=e,this.targetId=t,this.purpose=a,this.sequenceNumber=h,this.snapshotVersion=b,this.lastLimboFreeSnapshotVersion=T,this.resumeToken=G,this.expectedCount=ae}withSequenceNumber(e){return new Al(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Al(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Al(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Al(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class Nh{constructor(e){this.fe=e}}function Wp(i,e){const t=e.key,a={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:Rd(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())a.document={name:ka(h=i.fe,(b=e).key),fields:b.data.value.mapValue.fields,updateTime:Cc(h,b.version.toTimestamp()),createTime:Cc(h,b.createTime.toTimestamp())};else if(e.isNoDocument())a.noDocument={path:t.path.toArray(),readTime:yu(e.version)};else{if(!e.isUnknownDocument())return Or();a.unknownDocument={path:t.path.toArray(),version:yu(e.version)}}var h,b;return a}function Rd(i){const e=i.toTimestamp();return[e.seconds,e.nanoseconds]}function yu(i){const e=i.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function vu(i){const e=new Ks(i.seconds,i.nanoseconds);return yi.fromTimestamp(e)}function Tc(i,e){const t=(e.baseMutations||[]).map(b=>Gu(i.fe,b));for(let b=0;b<e.mutations.length-1;++b)b+1<e.mutations.length&&void 0!==e.mutations[b+1].transform&&(e.mutations[b].updateTransforms=e.mutations[b+1].transform.fieldTransforms,e.mutations.splice(b+1,1),++b);const a=e.mutations.map(b=>Gu(i.fe,b)),h=Ks.fromMillis(e.localWriteTimeMs);return new bh(e.batchId,h,t,a)}function _u(i){const e=vu(i.readTime),t=void 0!==i.lastLimboFreeSnapshotVersion?vu(i.lastLimboFreeSnapshotVersion):yi.min();let a;var h;return void 0!==i.query.documents?(ii(1===(h=i.query).documents.length),a=He(Hl(Ph(h.documents[0])))):a=He(Ku(i.query)),new Al(a,i.targetId,"TargetPurposeListen",i.lastListenSequenceNumber,e,t,rs.fromBase64String(i.resumeToken))}function Lf(i,e){const t=yu(e.snapshotVersion),a=yu(e.lastLimboFreeSnapshotVersion);let h;h=lu(e.target)?Xc(i.fe,e.target):Qc(i.fe,e.target);const b=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:ml(e.target),readTime:t,resumeToken:b,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:a,query:h}}function v(i){const e=Ku({parent:i.parent,structuredQuery:i.structuredQuery});return"LAST"===i.limitType?xn(e,e.limit,"L"):e}function p(i,e){return new Tl(e.largestBatchId,Gu(i.fe,e.overlayMutation))}function g(i,e){const t=e.path.lastSegment();return[i,Tn(e.path.popLast()),t]}function D(i,e,t,a){return{indexId:i,uid:e.uid||"",sequenceNumber:t,readTime:yu(a.readTime),documentKey:Tn(a.documentKey.path),largestBatchId:a.largestBatchId}}class B{getBundleMetadata(e,t){return J(e).get(t).next(a=>{if(a)return{id:(h=a).bundleId,createTime:vu(h.createTime),version:h.version};var h})}saveBundleMetadata(e,t){return J(e).put({bundleId:(a=t).id,createTime:yu(Oa(a.createTime)),version:a.version});var a}getNamedQuery(e,t){return fe(e).get(t).next(a=>{if(a)return{name:(h=a).name,query:v(h.bundledQuery),readTime:vu(h.readTime)};var h})}saveNamedQuery(e,t){return fe(e).put({name:(a=t).name,readTime:yu(Oa(a.readTime)),bundledQuery:a.bundledQuery});var a}}function J(i){return dr(i,"bundles")}function fe(i){return dr(i,"namedQueries")}class Ve{constructor(e,t){this.serializer=e,this.userId=t}static de(e,t){return new Ve(e,t.uid||"")}getOverlay(e,t){return bt(e).get(g(this.userId,t)).next(a=>a?p(this.serializer,a):null)}getOverlays(e,t){const a=El();return pn.forEach(t,h=>this.getOverlay(e,h).next(b=>{null!==b&&a.set(h,b)})).next(()=>a)}saveOverlays(e,t,a){const h=[];return a.forEach((b,T)=>{const G=new Tl(t,T);h.push(this.we(e,G))}),pn.waitFor(h)}removeOverlaysForBatchId(e,t,a){const h=new Set;t.forEach(T=>h.add(Tn(T.getCollectionPath())));const b=[];return h.forEach(T=>{const G=IDBKeyRange.bound([this.userId,T,a],[this.userId,T,a+1],!1,!0);b.push(bt(e).J("collectionPathOverlayIndex",G))}),pn.waitFor(b)}getOverlaysForCollection(e,t,a){const h=El(),b=Tn(t),T=IDBKeyRange.bound([this.userId,b,a],[this.userId,b,Number.POSITIVE_INFINITY],!0);return bt(e).j("collectionPathOverlayIndex",T).next(G=>{for(const ae of G){const we=p(this.serializer,ae);h.set(we.getKey(),we)}return h})}getOverlaysForCollectionGroup(e,t,a,h){const b=El();let T;const G=IDBKeyRange.bound([this.userId,t,a],[this.userId,t,Number.POSITIVE_INFINITY],!0);return bt(e).X({index:"collectionGroupOverlayIndex",range:G},(ae,we,Ye)=>{const Pt=p(this.serializer,we);b.size()<h||Pt.largestBatchId===T?(b.set(Pt.getKey(),Pt),T=Pt.largestBatchId):Ye.done()}).next(()=>b)}we(e,t){return bt(e).put(function(a,h,b){const[T,G,ae]=g(h,b.mutation.key);return{userId:h,collectionPath:G,documentId:ae,collectionGroup:b.mutation.key.getCollectionGroup(),largestBatchId:b.largestBatchId,overlayMutation:Wu(a.fe,b.mutation)}}(this.serializer,this.userId,t))}}function bt(i){return dr(i,"documentOverlays")}class Rt{constructor(){}_e(e,t){this.me(e,t),t.ge()}me(e,t){if("nullValue"in e)this.ye(t,5);else if("booleanValue"in e)this.ye(t,10),t.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(t,15),t.pe(Cs(e.integerValue));else if("doubleValue"in e){const a=Cs(e.doubleValue);isNaN(a)?this.ye(t,13):(this.ye(t,15),Ue(a)?t.pe(0):t.pe(a))}else if("timestampValue"in e){const a=e.timestampValue;this.ye(t,20),"string"==typeof a?t.Ie(a):(t.Ie(`${a.seconds||""}`),t.pe(a.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,t),this.Ee(t);else if("bytesValue"in e)this.ye(t,30),t.Ae(as(e.bytesValue)),this.Ee(t);else if("referenceValue"in e)this.ve(e.referenceValue,t);else if("geoPointValue"in e){const a=e.geoPointValue;this.ye(t,45),t.pe(a.latitude||0),t.pe(a.longitude||0)}else"mapValue"in e?Pl(e)?this.ye(t,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,t),this.Ee(t)):"arrayValue"in e?(this.Pe(e.arrayValue,t),this.Ee(t)):Or()}Te(e,t){this.ye(t,25),this.be(e,t)}be(e,t){t.Ie(e)}Re(e,t){const a=e.fields||{};this.ye(t,55);for(const h of Object.keys(a))this.Te(h,t),this.me(a[h],t)}Pe(e,t){const a=e.values||[];this.ye(t,50);for(const h of a)this.me(h,t)}ve(e,t){this.ye(t,37),gr.fromName(e).path.forEach(a=>{this.ye(t,60),this.be(a,t)})}ye(e,t){e.pe(t)}Ee(e){e.pe(2)}}function Fn(i){if(0===i)return 8;let e=0;return!(i>>4)&&(e+=4,i<<=4),!(i>>6)&&(e+=2,i<<=2),!(i>>7)&&(e+=1),e}function Ln(i){const e=64-function(t){let a=0;for(let h=0;h<8;++h){const b=Fn(255&t[h]);if(a+=b,8!==b)break}return a}(i);return Math.ceil(e/8)}Rt.Ve=new Rt;class nr{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Se(e){const t=e[Symbol.iterator]();let a=t.next();for(;!a.done;)this.De(a.value),a=t.next();this.Ce()}xe(e){const t=e[Symbol.iterator]();let a=t.next();for(;!a.done;)this.Ne(a.value),a=t.next();this.ke()}Me(e){for(const t of e){const a=t.charCodeAt(0);if(a<128)this.De(a);else if(a<2048)this.De(960|a>>>6),this.De(128|63&a);else if(t<"\ud800"||"\udbff"<t)this.De(480|a>>>12),this.De(128|63&a>>>6),this.De(128|63&a);else{const h=t.codePointAt(0);this.De(240|h>>>18),this.De(128|63&h>>>12),this.De(128|63&h>>>6),this.De(128|63&h)}}this.Ce()}$e(e){for(const t of e){const a=t.charCodeAt(0);if(a<128)this.Ne(a);else if(a<2048)this.Ne(960|a>>>6),this.Ne(128|63&a);else if(t<"\ud800"||"\udbff"<t)this.Ne(480|a>>>12),this.Ne(128|63&a>>>6),this.Ne(128|63&a);else{const h=t.codePointAt(0);this.Ne(240|h>>>18),this.Ne(128|63&h>>>12),this.Ne(128|63&h>>>6),this.Ne(128|63&h)}}this.ke()}Oe(e){const t=this.Fe(e),a=Ln(t);this.Be(1+a),this.buffer[this.position++]=255&a;for(let h=t.length-a;h<t.length;++h)this.buffer[this.position++]=255&t[h]}Le(e){const t=this.Fe(e),a=Ln(t);this.Be(1+a),this.buffer[this.position++]=~(255&a);for(let h=t.length-a;h<t.length;++h)this.buffer[this.position++]=~(255&t[h])}qe(){this.Ue(255),this.Ue(255)}Ke(){this.Ge(255),this.Ge(255)}reset(){this.position=0}seed(e){this.Be(e.length),this.buffer.set(e,this.position),this.position+=e.length}Qe(){return this.buffer.slice(0,this.position)}Fe(e){const t=function(h){const b=new DataView(new ArrayBuffer(8));return b.setFloat64(0,h,!1),new Uint8Array(b.buffer)}(e),a=0!=(128&t[0]);t[0]^=a?255:128;for(let h=1;h<t.length;++h)t[h]^=a?255:0;return t}De(e){const t=255&e;0===t?(this.Ue(0),this.Ue(255)):255===t?(this.Ue(255),this.Ue(0)):this.Ue(t)}Ne(e){const t=255&e;0===t?(this.Ge(0),this.Ge(255)):255===t?(this.Ge(255),this.Ge(0)):this.Ge(e)}Ce(){this.Ue(0),this.Ue(1)}ke(){this.Ge(0),this.Ge(1)}Ue(e){this.Be(1),this.buffer[this.position++]=e}Ge(e){this.Be(1),this.buffer[this.position++]=~e}Be(e){const t=e+this.position;if(t<=this.buffer.length)return;let a=2*this.buffer.length;a<t&&(a=t);const h=new Uint8Array(a);h.set(this.buffer),this.buffer=h}}class Ii{constructor(e){this.je=e}Ae(e){this.je.Se(e)}Ie(e){this.je.Me(e)}pe(e){this.je.Oe(e)}ge(){this.je.qe()}}class Zi{constructor(e){this.je=e}Ae(e){this.je.xe(e)}Ie(e){this.je.$e(e)}pe(e){this.je.Le(e)}ge(){this.je.Ke()}}class _o{constructor(){this.je=new nr,this.ze=new Ii(this.je),this.We=new Zi(this.je)}seed(e){this.je.seed(e)}He(e){return 0===e?this.ze:this.We}Qe(){return this.je.Qe()}reset(){this.je.reset()}}class ga{constructor(e,t,a,h){this.indexId=e,this.documentKey=t,this.arrayValue=a,this.directionalValue=h}Je(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,a=new Uint8Array(t);return a.set(this.directionalValue,0),t!==e?a.set([0],this.directionalValue.length):++a[a.length-1],new ga(this.indexId,this.documentKey,this.arrayValue,a)}}function il(i,e){let t=i.indexId-e.indexId;return 0!==t?t:(t=Kl(i.arrayValue,e.arrayValue),0!==t?t:(t=Kl(i.directionalValue,e.directionalValue),0!==t?t:gr.comparator(i.documentKey,e.documentKey)))}function Kl(i,e){for(let t=0;t<i.length&&t<e.length;++t){const a=i[t]-e[t];if(0!==a)return a}return i.length-e.length}class bu{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ye=e.orderBy,this.Xe=[];for(const t of e.filters){const a=t;a.isInequality()?this.Ze=a:this.Xe.push(a)}}tn(e){ii(e.collectionGroup===this.collectionId);const t=ha(e);if(void 0!==t&&!this.en(t))return!1;const a=ya(e);let h=0,b=0;for(;h<a.length&&this.en(a[h]);++h);if(h===a.length)return!0;if(void 0!==this.Ze){const T=a[h];if(!this.nn(this.Ze,T)||!this.sn(this.Ye[b++],T))return!1;++h}for(;h<a.length;++h)if(b>=this.Ye.length||!this.sn(this.Ye[b++],a[h]))return!1;return!0}en(e){for(const t of this.Xe)if(this.nn(t,e))return!0;return!1}nn(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}sn(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function Fh(i){var e,t;if(ii(i instanceof ho||i instanceof Vo),i instanceof ho){if(i instanceof _c){const h=(null===(t=null===(e=i.value.arrayValue)||void 0===e?void 0:e.values)||void 0===t?void 0:t.map(b=>ho.create(i.field,"==",b)))||[];return Vo.create(h,"or")}return i}const a=i.filters.map(h=>Fh(h));return Vo.create(a,i.op)}function Bf(i){if(0===i.getFilters().length)return[];const e=Va(Fh(i));return ii(Om(e)),Gp(e)||Lh(e)?[e]:e.getFilters()}function Gp(i){return i instanceof ho}function Lh(i){return i instanceof Vo&&su(i)}function Om(i){return Gp(i)||Lh(i)||function(e){if(e instanceof Vo&&rc(e)){for(const t of e.getFilters())if(!Gp(t)&&!Lh(t))return!1;return!0}return!1}(i)}function Va(i){if(ii(i instanceof ho||i instanceof Vo),i instanceof ho)return i;if(1===i.filters.length)return Va(i.filters[0]);const e=i.filters.map(a=>Va(a));let t=Vo.create(e,i.op);return t=Od(t),Om(t)?t:(ii(t instanceof Vo),ii(bl(t)),ii(t.filters.length>1),t.filters.reduce((a,h)=>Kp(a,h)))}function Kp(i,e){let t;return ii(i instanceof ho||i instanceof Vo),ii(e instanceof ho||e instanceof Vo),t=i instanceof ho?e instanceof ho?Vo.create([i,e],"and"):km(i,e):e instanceof ho?km(e,i):function(a,h){if(ii(a.filters.length>0&&h.filters.length>0),bl(a)&&bl(h))return _d(a,h.getFilters());const b=rc(a)?a:h,T=rc(a)?h:a,G=b.filters.map(ae=>Kp(ae,T));return Vo.create(G,"or")}(i,e),Od(t)}function km(i,e){if(bl(e))return _d(e,i.getFilters());{const t=e.filters.map(a=>Kp(i,a));return Vo.create(t,"or")}}function Od(i){if(ii(i instanceof ho||i instanceof Vo),i instanceof ho)return i;const e=i.getFilters();if(1===e.length)return Od(e[0]);if(Bc(i))return i;const t=e.map(h=>Od(h)),a=[];return t.forEach(h=>{h instanceof ho?a.push(h):h instanceof Vo&&(h.op===i.op?a.push(...h.filters):a.push(h))}),1===a.length?a[0]:Vo.create(a,i.op)}class Nm{constructor(){this.rn=new Yp}addToCollectionParentIndex(e,t){return this.rn.add(t),pn.resolve()}getCollectionParents(e,t){return pn.resolve(this.rn.getEntries(t))}addFieldIndex(e,t){return pn.resolve()}deleteFieldIndex(e,t){return pn.resolve()}getDocumentsMatchingTarget(e,t){return pn.resolve(null)}getIndexType(e,t){return pn.resolve(0)}getFieldIndexes(e,t){return pn.resolve([])}getNextCollectionGroupToUpdate(e){return pn.resolve(null)}getMinOffset(e,t){return pn.resolve(Wi.min())}getMinOffsetFromCollectionGroup(e,t){return pn.resolve(Wi.min())}updateCollectionGroup(e,t,a){return pn.resolve()}updateIndexEntries(e,t){return pn.resolve()}}class Yp{constructor(){this.index={}}add(e){const t=e.lastSegment(),a=e.popLast(),h=this.index[t]||new os(ss.comparator),b=!h.has(a);return this.index[t]=h.add(a),b}has(e){const t=e.lastSegment(),a=e.popLast(),h=this.index[t];return h&&h.has(a)}getEntries(e){return(this.index[e]||new os(ss.comparator)).toArray()}}const $f=new Uint8Array(0);class dv{constructor(e,t){this.user=e,this.databaseId=t,this.on=new Yp,this.un=new ia(a=>ml(a),(a,h)=>Sl(a,h)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.on.has(t)){const a=t.lastSegment(),h=t.popLast();e.addOnCommittedListener(()=>{this.on.add(t)});const b={collectionId:a,parent:Tn(h)};return Fm(e).put(b)}return pn.resolve()}getCollectionParents(e,t){const a=[],h=IDBKeyRange.bound([t,""],[Ia(t),""],!1,!0);return Fm(e).j(h).next(b=>{for(const T of b){if(T.collectionId!==t)break;a.push(Zr(T.parent))}return a})}addFieldIndex(e,t){const a=qp(e),h={indexId:(T=t).indexId,collectionGroup:T.collectionGroup,fields:T.fields.map(G=>[G.fieldPath.canonicalString(),G.kind])};var T;delete h.indexId;const b=a.add(h);if(t.indexState){const T=Vf(e);return b.next(G=>{T.put(D(G,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return b.next()}deleteFieldIndex(e,t){const a=qp(e),h=Vf(e),b=kd(e);return a.delete(t.indexId).next(()=>h.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>b.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const a=kd(e);let h=!0;const b=new Map;return pn.forEach(this.cn(t),T=>this.an(e,T).next(G=>{h&&(h=!!G),b.set(T,G)})).next(()=>{if(h){let T=Us();const G=[];return pn.forEach(b,(ae,we)=>{var Ye;Wn("IndexedDbIndexManager",`Using index ${Ye=ae,`id=${Ye.indexId}|cg=${Ye.collectionGroup}|f=${Ye.fields.map(bo=>`${bo.fieldPath}:${bo.kind}`).join(",")}`} to execute ${ml(t)}`);const Pt=function(bo,Xa){const Ha=ha(Xa);if(void 0===Ha)return null;for(const _a of bc(bo,Ha.fieldPath))switch(_a.op){case"array-contains-any":return _a.value.arrayValue.values||[];case"array-contains":return[_a.value]}return null}(we,ae),bn=function(bo,Xa){const Ha=new Map;for(const _a of ya(Xa))for(const Nl of bc(bo,_a.fieldPath))switch(Nl.op){case"==":case"in":Ha.set(_a.fieldPath.canonicalString(),Nl.value);break;case"not-in":case"!=":return Ha.set(_a.fieldPath.canonicalString(),Nl.value),Array.from(Ha.values())}return null}(we,ae),Vn=function(bo,Xa){const Ha=[];let _a=!0;for(const Nl of ya(Xa)){const gd=0===Nl.kind?jc(bo,Nl.fieldPath,bo.startAt):zc(bo,Nl.fieldPath,bo.startAt);Ha.push(gd.value),_a&&(_a=gd.inclusive)}return new va(Ha,_a)}(we,ae),Tr=function(bo,Xa){const Ha=[];let _a=!0;for(const Nl of ya(Xa)){const gd=0===Nl.kind?zc(bo,Nl.fieldPath,bo.endAt):jc(bo,Nl.fieldPath,bo.endAt);Ha.push(gd.value),_a&&(_a=gd.inclusive)}return new va(Ha,_a)}(we,ae),pi=this.hn(ae,we,Vn),Ci=this.hn(ae,we,Tr),eo=this.ln(ae,we,bn),Lo=this.fn(ae.indexId,Pt,pi,Vn.inclusive,Ci,Tr.inclusive,eo);return pn.forEach(Lo,bo=>a.H(bo,t.limit).next(Xa=>{Xa.forEach(Ha=>{const _a=gr.fromSegments(Ha.documentKey);T.has(_a)||(T=T.add(_a),G.push(_a))})}))}).next(()=>G)}return pn.resolve(null)})}cn(e){let t=this.un.get(e);return t||(t=0===e.filters.length?[e]:Bf(Vo.create(e.filters,"and")).map(a=>Uc(e.path,e.collectionGroup,e.orderBy,a.getFilters(),e.limit,e.startAt,e.endAt)),this.un.set(e,t),t)}fn(e,t,a,h,b,T,G){const ae=(null!=t?t.length:1)*Math.max(a.length,b.length),we=ae/(null!=t?t.length:1),Ye=[];for(let Pt=0;Pt<ae;++Pt){const bn=t?this.dn(t[Pt/we]):$f,Vn=this.wn(e,bn,a[Pt%we],h),Tr=this._n(e,bn,b[Pt%we],T),pi=G.map(Ci=>this.wn(e,bn,Ci,!0));Ye.push(...this.createRange(Vn,Tr,pi))}return Ye}wn(e,t,a,h){const b=new ga(e,gr.empty(),t,a);return h?b:b.Je()}_n(e,t,a,h){const b=new ga(e,gr.empty(),t,a);return h?b.Je():b}an(e,t){const a=new bu(t),h=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,h).next(b=>{let T=null;for(const G of b)a.tn(G)&&(!T||G.fields.length>T.fields.length)&&(T=G);return T})}getIndexType(e,t){let a=2;const h=this.cn(t);return pn.forEach(h,b=>this.an(e,b).next(T=>{T?0!==a&&T.fields.length<function(G){let ae=new os(hs.comparator),we=!1;for(const Ye of G.filters)for(const Pt of Ye.getFlattenedFilters())Pt.field.isKeyField()||("array-contains"===Pt.op||"array-contains-any"===Pt.op?we=!0:ae=ae.add(Pt.field));for(const Ye of G.orderBy)Ye.field.isKeyField()||(ae=ae.add(Ye.field));return ae.size+(we?1:0)}(b)&&(a=1):a=0})).next(()=>null!==t.limit&&h.length>1&&2===a?1:a)}mn(e,t){const a=new _o;for(const h of ya(e)){const b=t.data.field(h.fieldPath);if(null==b)return null;const T=a.He(h.kind);Rt.Ve._e(b,T)}return a.Qe()}dn(e){const t=new _o;return Rt.Ve._e(e,t.He(0)),t.Qe()}gn(e,t){const a=new _o;return Rt.Ve._e(Jl(this.databaseId,t),a.He(function(h){const b=ya(h);return 0===b.length?0:b[b.length-1].kind}(e))),a.Qe()}ln(e,t,a){if(null===a)return[];let h=[];h.push(new _o);let b=0;for(const T of ya(e)){const G=a[b++];for(const ae of h)if(this.yn(t,T.fieldPath)&&ll(G))h=this.pn(h,T,G);else{const we=ae.He(T.kind);Rt.Ve._e(G,we)}}return this.In(h)}hn(e,t,a){return this.ln(e,t,a.position)}In(e){const t=[];for(let a=0;a<e.length;++a)t[a]=e[a].Qe();return t}pn(e,t,a){const h=[...e],b=[];for(const T of a.arrayValue.values||[])for(const G of h){const ae=new _o;ae.seed(G.Qe()),Rt.Ve._e(T,ae.He(t.kind)),b.push(ae)}return b}yn(e,t){return!!e.filters.find(a=>a instanceof ho&&a.field.isEqual(t)&&("in"===a.op||"not-in"===a.op))}getFieldIndexes(e,t){const a=qp(e),h=Vf(e);return(t?a.j("collectionGroupIndex",IDBKeyRange.bound(t,t)):a.j()).next(b=>{const T=[];return pn.forEach(b,G=>h.get([G.indexId,this.uid]).next(ae=>{T.push(function(we,Ye){const Pt=Ye?new Qt(Ye.sequenceNumber,new Wi(vu(Ye.readTime),new gr(Zr(Ye.documentKey)),Ye.largestBatchId)):Qt.empty(),bn=we.fields.map(([Vn,Tr])=>new nt(hs.fromServerFormat(Vn),Tr));return new Ka(we.indexId,we.collectionGroup,bn,Pt)}(G,ae))})).next(()=>T)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((a,h)=>{const b=a.indexState.sequenceNumber-h.indexState.sequenceNumber;return 0!==b?b:Vi(a.collectionGroup,h.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,a){const h=qp(e),b=Vf(e);return this.Tn(e).next(T=>h.j("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(G=>pn.forEach(G,ae=>b.put(D(ae.indexId,this.user,T,a)))))}updateIndexEntries(e,t){const a=new Map;return pn.forEach(t,(h,b)=>{const T=a.get(h.collectionGroup);return(T?pn.resolve(T):this.getFieldIndexes(e,h.collectionGroup)).next(G=>(a.set(h.collectionGroup,G),pn.forEach(G,ae=>this.En(e,h,ae).next(we=>{const Ye=this.An(b,ae);return we.isEqual(Ye)?pn.resolve():this.vn(e,b,ae,we,Ye)}))))})}Rn(e,t,a,h){return kd(e).put({indexId:h.indexId,uid:this.uid,arrayValue:h.arrayValue,directionalValue:h.directionalValue,orderedDocumentKey:this.gn(a,t.key),documentKey:t.key.path.toArray()})}Pn(e,t,a,h){return kd(e).delete([h.indexId,this.uid,h.arrayValue,h.directionalValue,this.gn(a,t.key),t.key.path.toArray()])}En(e,t,a){const h=kd(e);let b=new os(il);return h.X({index:"documentKeyIndex",range:IDBKeyRange.only([a.indexId,this.uid,this.gn(a,t)])},(T,G)=>{b=b.add(new ga(a.indexId,t,G.arrayValue,G.directionalValue))}).next(()=>b)}An(e,t){let a=new os(il);const h=this.mn(t,e);if(null==h)return a;const b=ha(t);if(null!=b){const T=e.data.field(b.fieldPath);if(ll(T))for(const G of T.arrayValue.values||[])a=a.add(new ga(t.indexId,e.key,this.dn(G),h))}else a=a.add(new ga(t.indexId,e.key,$f,h));return a}vn(e,t,a,h,b){Wn("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const T=[];return function(G,ae,we,Ye,Pt){const bn=G.getIterator(),Vn=ae.getIterator();let Tr=wr(bn),pi=wr(Vn);for(;Tr||pi;){let Ci=!1,eo=!1;if(Tr&&pi){const Lo=we(Tr,pi);Lo<0?eo=!0:Lo>0&&(Ci=!0)}else null!=Tr?eo=!0:Ci=!0;Ci?(Ye(pi),pi=wr(Vn)):eo?(Pt(Tr),Tr=wr(bn)):(Tr=wr(bn),pi=wr(Vn))}}(h,b,il,G=>{T.push(this.Rn(e,t,a,G))},G=>{T.push(this.Pn(e,t,a,G))}),pn.waitFor(T)}Tn(e){let t=1;return Vf(e).X({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(a,h,b)=>{b.done(),t=h.sequenceNumber+1}).next(()=>t)}createRange(e,t,a){a=a.sort((T,G)=>il(T,G)).filter((T,G,ae)=>!G||0!==il(T,ae[G-1]));const h=[];h.push(e);for(const T of a){const G=il(T,e),ae=il(T,t);if(0===G)h[0]=e.Je();else if(G>0&&ae<0)h.push(T),h.push(T.Je());else if(ae>0)break}h.push(t);const b=[];for(let T=0;T<h.length;T+=2){if(this.bn(h[T],h[T+1]))return[];b.push(IDBKeyRange.bound([h[T].indexId,this.uid,h[T].arrayValue,h[T].directionalValue,$f,[]],[h[T+1].indexId,this.uid,h[T+1].arrayValue,h[T+1].directionalValue,$f,[]]))}return b}bn(e,t){return il(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(Nd)}getMinOffset(e,t){return pn.mapArray(this.cn(t),a=>this.an(e,a).next(h=>h||Or())).next(Nd)}}function Fm(i){return dr(i,"collectionParents")}function kd(i){return dr(i,"indexEntries")}function qp(i){return dr(i,"indexConfiguration")}function Vf(i){return dr(i,"indexState")}function Nd(i){ii(0!==i.length);let e=i[0].indexState.offset,t=e.largestBatchId;for(let a=1;a<i.length;a++){const h=i[a].indexState.offset;Ji(h,e)<0&&(e=h),t<h.largestBatchId&&(t=h.largestBatchId)}return new Wi(e.readTime,e.documentKey,t)}const Qo={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Za{constructor(e,t,a){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=a}static withCacheSize(e){return new Za(e,Za.DEFAULT_COLLECTION_PERCENTILE,Za.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function Zp(i,e,t){const a=i.store("mutations"),h=i.store("documentMutations"),b=[],T=IDBKeyRange.only(t.batchId);let G=0;const ae=a.X({range:T},(Ye,Pt,bn)=>(G++,bn.delete()));b.push(ae.next(()=>{ii(1===G)}));const we=[];for(const Ye of t.mutations){const Pt=l(e,Ye.key.path,t.batchId);b.push(h.delete(Pt)),we.push(Ye.key)}return pn.waitFor(b).next(()=>we)}function Bh(i){if(!i)return 0;let e;if(i.document)e=i.document;else if(i.unknownDocument)e=i.unknownDocument;else{if(!i.noDocument)throw Or();e=i.noDocument}return JSON.stringify(e).length}Za.DEFAULT_COLLECTION_PERCENTILE=10,Za.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Za.DEFAULT=new Za(41943040,Za.DEFAULT_COLLECTION_PERCENTILE,Za.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Za.DISABLED=new Za(-1,0,0);class $h{constructor(e,t,a,h){this.userId=e,this.serializer=t,this.indexManager=a,this.referenceDelegate=h,this.Vn={}}static de(e,t,a,h){ii(""!==e.uid);const b=e.isAuthenticated()?e.uid:"";return new $h(b,t,a,h)}checkEmpty(e){let t=!0;const a=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Eu(e).X({index:"userMutationsIndex",range:a},(h,b,T)=>{t=!1,T.done()}).next(()=>t)}addMutationBatch(e,t,a,h){const b=Yu(e),T=Eu(e);return T.add({}).next(G=>{ii("number"==typeof G);const ae=new bh(G,t,a,h),we=function(bn,Vn,Tr){const pi=Tr.baseMutations.map(eo=>Wu(bn.fe,eo)),Ci=Tr.mutations.map(eo=>Wu(bn.fe,eo));return{userId:Vn,batchId:Tr.batchId,localWriteTimeMs:Tr.localWriteTime.toMillis(),baseMutations:pi,mutations:Ci}}(this.serializer,this.userId,ae),Ye=[];let Pt=new os((bn,Vn)=>Vi(bn.canonicalString(),Vn.canonicalString()));for(const bn of h){const Vn=l(this.userId,bn.key.path,G);Pt=Pt.add(bn.key.path.popLast()),Ye.push(T.put(we)),Ye.push(b.put(Vn,s))}return Pt.forEach(bn=>{Ye.push(this.indexManager.addToCollectionParentIndex(e,bn))}),e.addOnCommittedListener(()=>{this.Vn[G]=ae.keys()}),pn.waitFor(Ye).next(()=>ae)})}lookupMutationBatch(e,t){return Eu(e).get(t).next(a=>a?(ii(a.userId===this.userId),Tc(this.serializer,a)):null)}Sn(e,t){return this.Vn[t]?pn.resolve(this.Vn[t]):this.lookupMutationBatch(e,t).next(a=>{if(a){const h=a.keys();return this.Vn[t]=h,h}return null})}getNextMutationBatchAfterBatchId(e,t){const a=t+1,h=IDBKeyRange.lowerBound([this.userId,a]);let b=null;return Eu(e).X({index:"userMutationsIndex",range:h},(T,G,ae)=>{G.userId===this.userId&&(ii(G.batchId>=a),b=Tc(this.serializer,G)),ae.done()}).next(()=>b)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let a=-1;return Eu(e).X({index:"userMutationsIndex",range:t,reverse:!0},(h,b,T)=>{a=b.batchId,T.done()}).next(()=>a)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Eu(e).j("userMutationsIndex",t).next(a=>a.map(h=>Tc(this.serializer,h)))}getAllMutationBatchesAffectingDocumentKey(e,t){const a=m(this.userId,t.path),h=IDBKeyRange.lowerBound(a),b=[];return Yu(e).X({range:h},(T,G,ae)=>{const[we,Ye,Pt]=T,bn=Zr(Ye);if(we===this.userId&&t.path.isEqual(bn))return Eu(e).get(Pt).next(Vn=>{if(!Vn)throw Or();ii(Vn.userId===this.userId),b.push(Tc(this.serializer,Vn))});ae.done()}).next(()=>b)}getAllMutationBatchesAffectingDocumentKeys(e,t){let a=new os(Vi);const h=[];return t.forEach(b=>{const T=m(this.userId,b.path),G=IDBKeyRange.lowerBound(T),ae=Yu(e).X({range:G},(we,Ye,Pt)=>{const[bn,Vn,Tr]=we,pi=Zr(Vn);bn===this.userId&&b.path.isEqual(pi)?a=a.add(Tr):Pt.done()});h.push(ae)}),pn.waitFor(h).next(()=>this.Dn(e,a))}getAllMutationBatchesAffectingQuery(e,t){const a=t.path,h=a.length+1,b=m(this.userId,a),T=IDBKeyRange.lowerBound(b);let G=new os(Vi);return Yu(e).X({range:T},(ae,we,Ye)=>{const[Pt,bn,Vn]=ae,Tr=Zr(bn);Pt===this.userId&&a.isPrefixOf(Tr)?Tr.length===h&&(G=G.add(Vn)):Ye.done()}).next(()=>this.Dn(e,G))}Dn(e,t){const a=[],h=[];return t.forEach(b=>{h.push(Eu(e).get(b).next(T=>{if(null===T)throw Or();ii(T.userId===this.userId),a.push(Tc(this.serializer,T))}))}),pn.waitFor(h).next(()=>a)}removeMutationBatch(e,t){return Zp(e.ht,this.userId,t).next(a=>(e.addOnCommittedListener(()=>{this.Cn(t.batchId)}),pn.forEach(a,h=>this.referenceDelegate.markPotentiallyOrphaned(e,h))))}Cn(e){delete this.Vn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return pn.resolve();const a=IDBKeyRange.lowerBound([this.userId]),h=[];return Yu(e).X({range:a},(b,T,G)=>{if(b[0]===this.userId){const ae=Zr(b[1]);h.push(ae)}else G.done()}).next(()=>{ii(0===h.length)})})}containsKey(e,t){return Xp(e,this.userId,t)}xn(e){return Qp(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function Xp(i,e,t){const a=m(e,t.path),h=a[1],b=IDBKeyRange.lowerBound(a);let T=!1;return Yu(i).X({range:b,Y:!0},(G,ae,we)=>{const[Ye,Pt,bn]=G;Ye===e&&Pt===h&&(T=!0),we.done()}).next(()=>T)}function Eu(i){return dr(i,"mutations")}function Yu(i){return dr(i,"documentMutations")}function Qp(i){return dr(i,"mutationQueues")}class eu{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new eu(0)}static Mn(){return new eu(-1)}}class l0{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.$n(e).next(t=>{const a=new eu(t.highestTargetId);return t.highestTargetId=a.next(),this.On(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.$n(e).next(t=>yi.fromTimestamp(new Ks(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.$n(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,a){return this.$n(e).next(h=>(h.highestListenSequenceNumber=t,a&&(h.lastRemoteSnapshotVersion=a.toTimestamp()),t>h.highestListenSequenceNumber&&(h.highestListenSequenceNumber=t),this.On(e,h)))}addTargetData(e,t){return this.Fn(e,t).next(()=>this.$n(e).next(a=>(a.targetCount+=1,this.Bn(t,a),this.On(e,a))))}updateTargetData(e,t){return this.Fn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>wu(e).delete(t.targetId)).next(()=>this.$n(e)).next(a=>(ii(a.targetCount>0),a.targetCount-=1,this.On(e,a)))}removeTargets(e,t,a){let h=0;const b=[];return wu(e).X((T,G)=>{const ae=_u(G);ae.sequenceNumber<=t&&null===a.get(ae.targetId)&&(h++,b.push(this.removeTargetData(e,ae)))}).next(()=>pn.waitFor(b)).next(()=>h)}forEachTarget(e,t){return wu(e).X((a,h)=>{const b=_u(h);t(b)})}$n(e){return Lm(e).get("targetGlobalKey").next(t=>(ii(null!==t),t))}On(e,t){return Lm(e).put("targetGlobalKey",t)}Fn(e,t){return wu(e).put(Lf(this.serializer,t))}Bn(e,t){let a=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,a=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,a=!0),a}getTargetCount(e){return this.$n(e).next(t=>t.targetCount)}getTargetData(e,t){const a=ml(t),h=IDBKeyRange.bound([a,Number.NEGATIVE_INFINITY],[a,Number.POSITIVE_INFINITY]);let b=null;return wu(e).X({range:h,index:"queryTargetsIndex"},(T,G,ae)=>{const we=_u(G);Sl(t,we.target)&&(b=we,ae.done())}).next(()=>b)}addMatchingKeys(e,t,a){const h=[],b=Ac(e);return t.forEach(T=>{const G=Tn(T.path);h.push(b.put({targetId:a,path:G})),h.push(this.referenceDelegate.addReference(e,a,T))}),pn.waitFor(h)}removeMatchingKeys(e,t,a){const h=Ac(e);return pn.forEach(t,b=>{const T=Tn(b.path);return pn.waitFor([h.delete([a,T]),this.referenceDelegate.removeReference(e,a,b)])})}removeMatchingKeysForTargetId(e,t){const a=Ac(e),h=IDBKeyRange.bound([t],[t+1],!1,!0);return a.delete(h)}getMatchingKeysForTargetId(e,t){const a=IDBKeyRange.bound([t],[t+1],!1,!0),h=Ac(e);let b=Us();return h.X({range:a,Y:!0},(T,G,ae)=>{const we=Zr(T[1]),Ye=new gr(we);b=b.add(Ye)}).next(()=>b)}containsKey(e,t){const a=Tn(t.path),h=IDBKeyRange.bound([a],[Ia(a)],!1,!0);let b=0;return Ac(e).X({index:"documentTargetsIndex",Y:!0,range:h},([T,G],ae,we)=>{0!==T&&(b++,we.done())}).next(()=>b>0)}le(e,t){return wu(e).get(t).next(a=>a?_u(a):null)}}function wu(i){return dr(i,"targets")}function Lm(i){return dr(i,"targetGlobal")}function Ac(i){return dr(i,"targetDocuments")}function Jp([i,e],[t,a]){const h=Vi(i,t);return 0===h?Vi(e,a):h}class Bm{constructor(e){this.Ln=e,this.buffer=new os(Jp),this.qn=0}Un(){return++this.qn}Kn(e){const t=[e,this.Un()];if(this.buffer.size<this.Ln)this.buffer=this.buffer.add(t);else{const a=this.buffer.last();Jp(t,a)<0&&(this.buffer=this.buffer.delete(a).add(t))}}get maxValue(){return this.buffer.last()[0]}}class Iu{constructor(e,t,a){this.garbageCollector=e,this.asyncQueue=t,this.localStore=a,this.Gn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Qn(6e4)}stop(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}get started(){return null!==this.Gn}Qn(e){var t=this;Wn("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,d.Z)(function*(){t.Gn=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(a){Xo(a)?Wn("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",a):yield Uo(a)}yield t.Qn(3e5)}))}}class hv{constructor(e,t){this.jn=e,this.params=t}calculateTargetCount(e,t){return this.jn.zn(e).next(a=>Math.floor(t/100*a))}nthSequenceNumber(e,t){if(0===t)return pn.resolve(me.ct);const a=new Bm(t);return this.jn.forEachTarget(e,h=>a.Kn(h.sequenceNumber)).next(()=>this.jn.Wn(e,h=>a.Kn(h))).next(()=>a.maxValue)}removeTargets(e,t,a){return this.jn.removeTargets(e,t,a)}removeOrphanedDocuments(e,t){return this.jn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Wn("LruGarbageCollector","Garbage collection skipped; disabled"),pn.resolve(Qo)):this.getCacheSize(e).next(a=>a<this.params.cacheSizeCollectionThreshold?(Wn("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Qo):this.Hn(e,t))}getCacheSize(e){return this.jn.getCacheSize(e)}Hn(e,t){let a,h,b,T,G,ae,we;const Ye=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(Pt=>(Pt>this.params.maximumSequenceNumbersToCollect?(Wn("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${Pt}`),h=this.params.maximumSequenceNumbersToCollect):h=Pt,T=Date.now(),this.nthSequenceNumber(e,h))).next(Pt=>(a=Pt,G=Date.now(),this.removeTargets(e,a,t))).next(Pt=>(b=Pt,ae=Date.now(),this.removeOrphanedDocuments(e,a))).next(Pt=>(we=Date.now(),Is()<=ke.in.DEBUG&&Wn("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${T-Ye}ms\n\tDetermined least recently used ${h} in `+(G-T)+`ms\n\tRemoved ${b} targets in `+(ae-G)+`ms\n\tRemoved ${Pt} documents in `+(we-ae)+`ms\nTotal Duration: ${we-Ye}ms`),pn.resolve({didRun:!0,sequenceNumbersCollected:h,targetsRemoved:b,documentsRemoved:Pt})))}}class jf{constructor(e,t){this.db=e,this.garbageCollector=function Uf(i,e){return new hv(i,e)}(this,t)}zn(e){const t=this.Jn(e);return this.db.getTargetCache().getTargetCount(e).next(a=>t.next(h=>a+h))}Jn(e){let t=0;return this.Wn(e,a=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Wn(e,t){return this.Yn(e,(a,h)=>t(h))}addReference(e,t,a){return zf(e,a)}removeReference(e,t,a){return zf(e,a)}removeTargets(e,t,a){return this.db.getTargetCache().removeTargets(e,t,a)}markPotentiallyOrphaned(e,t){return zf(e,t)}Xn(e,t){return function(a,h){let b=!1;return Qp(a).Z(T=>Xp(a,T,h).next(G=>(G&&(b=!0),pn.resolve(!G)))).next(()=>b)}(e,t)}removeOrphanedDocuments(e,t){const a=this.db.getRemoteDocumentCache().newChangeBuffer(),h=[];let b=0;return this.Yn(e,(T,G)=>{if(G<=t){const ae=this.Xn(e,T).next(we=>{if(!we)return b++,a.getEntry(e,T).next(()=>(a.removeEntry(T,yi.min()),Ac(e).delete([0,Tn(T.path)])))});h.push(ae)}}).next(()=>pn.waitFor(h)).next(()=>a.apply(e)).next(()=>b)}removeTarget(e,t){const a=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,a)}updateLimboDocument(e,t){return zf(e,t)}Yn(e,t){const a=Ac(e);let h,b=me.ct;return a.X({index:"documentTargetsIndex"},([T,G],{path:ae,sequenceNumber:we})=>{0===T?(b!==me.ct&&t(new gr(Zr(h)),b),b=we,h=ae):b=me.ct}).next(()=>{b!==me.ct&&t(new gr(Zr(h)),b)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function zf(i,e){return Ac(i).put((a=i.currentSequenceNumber,{targetId:0,path:Tn(e.path),sequenceNumber:a}));var a}class Hf{constructor(){this.changes=new ia(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Fo.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const a=this.changes.get(t);return void 0!==a?pn.resolve(a):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Wf{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,a){return qu(e).put(a)}removeEntry(e,t,a){return qu(e).delete(function(h,b){const T=h.path.toArray();return[T.slice(0,T.length-2),T[T.length-2],Rd(b),T[T.length-1]]}(t,a))}updateMetadata(e,t){return this.getMetadata(e).next(a=>(a.byteSize+=t,this.Zn(e,a)))}getEntry(e,t){let a=Fo.newInvalidDocument(t);return qu(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(Vh(t))},(h,b)=>{a=this.ts(t,b)}).next(()=>a)}es(e,t){let a={size:0,document:Fo.newInvalidDocument(t)};return qu(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(Vh(t))},(h,b)=>{a={document:this.ts(t,b),size:Bh(b)}}).next(()=>a)}getEntries(e,t){let a=ua();return this.ns(e,t,(h,b)=>{const T=this.ts(h,b);a=a.insert(h,T)}).next(()=>a)}ss(e,t){let a=ua(),h=new Vr(gr.comparator);return this.ns(e,t,(b,T)=>{const G=this.ts(b,T);a=a.insert(b,G),h=h.insert(b,Bh(T))}).next(()=>({documents:a,rs:h}))}ns(e,t,a){if(t.isEmpty())return pn.resolve();let h=new os(Zu);t.forEach(ae=>h=h.add(ae));const b=IDBKeyRange.bound(Vh(h.first()),Vh(h.last())),T=h.getIterator();let G=T.getNext();return qu(e).X({index:"documentKeyIndex",range:b},(ae,we,Ye)=>{const Pt=gr.fromSegments([...we.prefixPath,we.collectionGroup,we.documentId]);for(;G&&Zu(G,Pt)<0;)a(G,null),G=T.getNext();G&&G.isEqual(Pt)&&(a(G,we),G=T.hasNext()?T.getNext():null),G?Ye.G(Vh(G)):Ye.done()}).next(()=>{for(;G;)a(G,null),G=T.hasNext()?T.getNext():null})}getDocumentsMatchingQuery(e,t,a,h){const b=t.path,T=[b.popLast().toArray(),b.lastSegment(),Rd(a.readTime),a.documentKey.path.isEmpty()?"":a.documentKey.path.lastSegment()],G=[b.popLast().toArray(),b.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return qu(e).j(IDBKeyRange.bound(T,G,!0)).next(ae=>{let we=ua();for(const Ye of ae){const Pt=this.ts(gr.fromSegments(Ye.prefixPath.concat(Ye.collectionGroup,Ye.documentId)),Ye);Pt.isFoundDocument()&&(Ys(t,Pt)||h.has(Pt.key))&&(we=we.insert(Pt.key,Pt))}return we})}getAllFromCollectionGroup(e,t,a,h){let b=ua();const T=tg(t,a),G=tg(t,Wi.max());return qu(e).X({index:"collectionGroupIndex",range:IDBKeyRange.bound(T,G,!0)},(ae,we,Ye)=>{const Pt=this.ts(gr.fromSegments(we.prefixPath.concat(we.collectionGroup,we.documentId)),we);b=b.insert(Pt.key,Pt),b.size===h&&Ye.done()}).next(()=>b)}newChangeBuffer(e){return new eg(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return Gf(e).get("remoteDocumentGlobalKey").next(t=>(ii(!!t),t))}Zn(e,t){return Gf(e).put("remoteDocumentGlobalKey",t)}ts(e,t){if(t){const a=function Rm(i,e){let t;if(e.document)t=uc(i.fe,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const a=gr.fromSegments(e.noDocument.path),h=vu(e.noDocument.readTime);t=Fo.newNoDocument(a,h),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return Or();{const a=gr.fromSegments(e.unknownDocument.path),h=vu(e.unknownDocument.version);t=Fo.newUnknownDocument(a,h)}}return e.readTime&&t.setReadTime(function(a){const h=new Ks(a[0],a[1]);return yi.fromTimestamp(h)}(e.readTime)),t}(this.serializer,t);if(!a.isNoDocument()||!a.version.isEqual(yi.min()))return a}return Fo.newInvalidDocument(e)}}function Cu(i){return new Wf(i)}class eg extends Hf{constructor(e,t){super(),this.os=e,this.trackRemovals=t,this.us=new ia(a=>a.toString(),(a,h)=>a.isEqual(h))}applyChanges(e){const t=[];let a=0,h=new os((b,T)=>Vi(b.canonicalString(),T.canonicalString()));return this.changes.forEach((b,T)=>{const G=this.us.get(b);if(t.push(this.os.removeEntry(e,b,G.readTime)),T.isValidDocument()){const ae=Wp(this.os.serializer,T);h=h.add(b.path.popLast());const we=Bh(ae);a+=we-G.size,t.push(this.os.addEntry(e,b,ae))}else if(a-=G.size,this.trackRemovals){const ae=Wp(this.os.serializer,T.convertToNoDocument(yi.min()));t.push(this.os.addEntry(e,b,ae))}}),h.forEach(b=>{t.push(this.os.indexManager.addToCollectionParentIndex(e,b))}),t.push(this.os.updateMetadata(e,a)),pn.waitFor(t)}getFromCache(e,t){return this.os.es(e,t).next(a=>(this.us.set(t,{size:a.size,readTime:a.document.readTime}),a.document))}getAllFromCache(e,t){return this.os.ss(e,t).next(({documents:a,rs:h})=>(h.forEach((b,T)=>{this.us.set(b,{size:T,readTime:a.get(b).readTime})}),a))}}function Gf(i){return dr(i,"remoteDocumentGlobal")}function qu(i){return dr(i,"remoteDocumentsV14")}function Vh(i){const e=i.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function tg(i,e){const t=e.documentKey.path.toArray();return[i,Rd(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function Zu(i,e){const t=i.path.toArray(),a=e.path.toArray();let h=0;for(let b=0;b<t.length-2&&b<a.length-2;++b)if(h=Vi(t[b],a[b]),h)return h;return h=Vi(t.length,a.length),h||(h=Vi(t[t.length-2],a[a.length-2]),h||Vi(t[t.length-1],a[a.length-1]))}class fv{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class $m{constructor(e,t,a,h){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=a,this.indexManager=h}getDocument(e,t){let a=null;return this.documentOverlayCache.getOverlay(e,t).next(h=>(a=h,this.remoteDocumentCache.getEntry(e,t))).next(h=>(null!==a&&$u(a.mutation,h,Ir.empty(),Ks.now()),h))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(a=>this.getLocalViewOfDocuments(e,a,Us()).next(()=>a))}getLocalViewOfDocuments(e,t,a=Us()){const h=El();return this.populateOverlays(e,h,t).next(()=>this.computeViews(e,t,h,a).next(b=>{let T=Ma();return b.forEach((G,ae)=>{T=T.insert(G,ae.overlayedDocument)}),T}))}getOverlayedDocuments(e,t){const a=El();return this.populateOverlays(e,a,t).next(()=>this.computeViews(e,t,a,Us()))}populateOverlays(e,t,a){const h=[];return a.forEach(b=>{t.has(b)||h.push(b)}),this.documentOverlayCache.getOverlays(e,h).next(b=>{b.forEach((T,G)=>{t.set(T,G)})})}computeViews(e,t,a,h){let b=ua();const T=wl(),G=wl();return t.forEach((ae,we)=>{const Ye=a.get(we.key);h.has(we.key)&&(void 0===Ye||Ye.mutation instanceof Gl)?b=b.insert(we.key,we):void 0!==Ye?(T.set(we.key,Ye.mutation.getFieldMask()),$u(Ye.mutation,we,Ye.mutation.getFieldMask(),Ks.now())):T.set(we.key,Ir.empty())}),this.recalculateAndSaveOverlays(e,b).next(ae=>(ae.forEach((we,Ye)=>T.set(we,Ye)),t.forEach((we,Ye)=>{var Pt;return G.set(we,new fv(Ye,null!==(Pt=T.get(we))&&void 0!==Pt?Pt:null))}),G))}recalculateAndSaveOverlays(e,t){const a=wl();let h=new Vr((T,G)=>T-G),b=Us();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(T=>{for(const G of T)G.keys().forEach(ae=>{const we=t.get(ae);if(null===we)return;let Ye=a.get(ae)||Ir.empty();Ye=G.applyToLocalView(we,Ye),a.set(ae,Ye);const Pt=(h.get(G.batchId)||Us()).add(ae);h=h.insert(G.batchId,Pt)})}).next(()=>{const T=[],G=h.getReverseIterator();for(;G.hasNext();){const ae=G.getNext(),we=ae.key,Ye=ae.value,Pt=Wc();Ye.forEach(bn=>{if(!b.has(bn)){const Vn=Mf(t.get(bn),a.get(bn));null!==Vn&&Pt.set(bn,Vn),b=b.add(bn)}}),T.push(this.documentOverlayCache.saveOverlays(e,we,Pt))}return pn.waitFor(T)}).next(()=>a)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(a=>this.recalculateAndSaveOverlays(e,a))}getDocumentsMatchingQuery(e,t,a){return gr.isDocumentKey((h=t).path)&&null===h.collectionGroup&&0===h.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):W(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,a):this.getDocumentsMatchingCollectionQuery(e,t,a);var h}getNextDocuments(e,t,a,h){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,a,h).next(b=>{const T=h-b.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,a.largestBatchId,h-b.size):pn.resolve(El());let G=-1,ae=b;return T.next(we=>pn.forEach(we,(Ye,Pt)=>(G<Pt.largestBatchId&&(G=Pt.largestBatchId),b.get(Ye)?pn.resolve():this.remoteDocumentCache.getEntry(e,Ye).next(bn=>{ae=ae.insert(Ye,bn)}))).next(()=>this.populateOverlays(e,we,b)).next(()=>this.computeViews(e,ae,we,Us())).next(Ye=>({batchId:G,changes:$a(Ye)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new gr(t)).next(a=>{let h=Ma();return a.isFoundDocument()&&(h=h.insert(a.key,a)),h})}getDocumentsMatchingCollectionGroupQuery(e,t,a){const h=t.collectionGroup;let b=Ma();return this.indexManager.getCollectionParents(e,h).next(T=>pn.forEach(T,G=>{const ae=(we=t,Ye=G.child(h),new qa(Ye,null,we.explicitOrderBy.slice(),we.filters.slice(),we.limit,we.limitType,we.startAt,we.endAt));var we,Ye;return this.getDocumentsMatchingCollectionQuery(e,ae,a).next(we=>{we.forEach((Ye,Pt)=>{b=b.insert(Ye,Pt)})})}).next(()=>b))}getDocumentsMatchingCollectionQuery(e,t,a){let h;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,a.largestBatchId).next(b=>(h=b,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,a,h))).next(b=>{h.forEach((G,ae)=>{const we=ae.getKey();null===b.get(we)&&(b=b.insert(we,Fo.newInvalidDocument(we)))});let T=Ma();return b.forEach((G,ae)=>{const we=h.get(G);void 0!==we&&$u(we.mutation,ae,Ir.empty(),Ks.now()),Ys(t,ae)&&(T=T.insert(G,ae))}),T})}}class pv{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,t){return pn.resolve(this.cs.get(t))}saveBundleMetadata(e,t){var a;return this.cs.set(t.id,{id:(a=t).id,version:a.version,createTime:Oa(a.createTime)}),pn.resolve()}getNamedQuery(e,t){return pn.resolve(this.hs.get(t))}saveNamedQuery(e,t){return this.hs.set(t.name,{name:(a=t).name,query:v(a.bundledQuery),readTime:Oa(a.readTime)}),pn.resolve();var a}}class ng{constructor(){this.overlays=new Vr(gr.comparator),this.ls=new Map}getOverlay(e,t){return pn.resolve(this.overlays.get(t))}getOverlays(e,t){const a=El();return pn.forEach(t,h=>this.getOverlay(e,h).next(b=>{null!==b&&a.set(h,b)})).next(()=>a)}saveOverlays(e,t,a){return a.forEach((h,b)=>{this.we(e,t,b)}),pn.resolve()}removeOverlaysForBatchId(e,t,a){const h=this.ls.get(a);return void 0!==h&&(h.forEach(b=>this.overlays=this.overlays.remove(b)),this.ls.delete(a)),pn.resolve()}getOverlaysForCollection(e,t,a){const h=El(),b=t.length+1,T=new gr(t.child("")),G=this.overlays.getIteratorFrom(T);for(;G.hasNext();){const ae=G.getNext().value,we=ae.getKey();if(!t.isPrefixOf(we.path))break;we.path.length===b&&ae.largestBatchId>a&&h.set(ae.getKey(),ae)}return pn.resolve(h)}getOverlaysForCollectionGroup(e,t,a,h){let b=new Vr((we,Ye)=>we-Ye);const T=this.overlays.getIterator();for(;T.hasNext();){const we=T.getNext().value;if(we.getKey().getCollectionGroup()===t&&we.largestBatchId>a){let Ye=b.get(we.largestBatchId);null===Ye&&(Ye=El(),b=b.insert(we.largestBatchId,Ye)),Ye.set(we.getKey(),we)}}const G=El(),ae=b.getIterator();for(;ae.hasNext()&&(ae.getNext().value.forEach((we,Ye)=>G.set(we,Ye)),!(G.size()>=h)););return pn.resolve(G)}we(e,t,a){const h=this.overlays.get(a.key);if(null!==h){const T=this.ls.get(h.largestBatchId).delete(a.key);this.ls.set(h.largestBatchId,T)}this.overlays=this.overlays.insert(a.key,new Tl(t,a));let b=this.ls.get(t);void 0===b&&(b=Us(),this.ls.set(t,b)),this.ls.set(t,b.add(a.key))}}class Kf{constructor(){this.fs=new os(cl.ds),this.ws=new os(cl._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,t){const a=new cl(e,t);this.fs=this.fs.add(a),this.ws=this.ws.add(a)}gs(e,t){e.forEach(a=>this.addReference(a,t))}removeReference(e,t){this.ys(new cl(e,t))}ps(e,t){e.forEach(a=>this.removeReference(a,t))}Is(e){const t=new gr(new ss([])),a=new cl(t,e),h=new cl(t,e+1),b=[];return this.ws.forEachInRange([a,h],T=>{this.ys(T),b.push(T.key)}),b}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const t=new gr(new ss([])),a=new cl(t,e),h=new cl(t,e+1);let b=Us();return this.ws.forEachInRange([a,h],T=>{b=b.add(T.key)}),b}containsKey(e){const t=new cl(e,0),a=this.fs.firstAfterOrEqual(t);return null!==a&&e.isEqual(a.key)}}class cl{constructor(e,t){this.key=e,this.As=t}static ds(e,t){return gr.comparator(e.key,t.key)||Vi(e.As,t.As)}static _s(e,t){return Vi(e.As,t.As)||gr.comparator(e.key,t.key)}}class Vm{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.vs=1,this.Rs=new os(cl.ds)}checkEmpty(e){return pn.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,a,h){const b=this.vs;this.vs++;const T=new bh(b,t,a,h);this.mutationQueue.push(T);for(const G of h)this.Rs=this.Rs.add(new cl(G.key,b)),this.indexManager.addToCollectionParentIndex(e,G.key.path.popLast());return pn.resolve(T)}lookupMutationBatch(e,t){return pn.resolve(this.Ps(t))}getNextMutationBatchAfterBatchId(e,t){const h=this.bs(t+1),b=h<0?0:h;return pn.resolve(this.mutationQueue.length>b?this.mutationQueue[b]:null)}getHighestUnacknowledgedBatchId(){return pn.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return pn.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const a=new cl(t,0),h=new cl(t,Number.POSITIVE_INFINITY),b=[];return this.Rs.forEachInRange([a,h],T=>{const G=this.Ps(T.As);b.push(G)}),pn.resolve(b)}getAllMutationBatchesAffectingDocumentKeys(e,t){let a=new os(Vi);return t.forEach(h=>{const b=new cl(h,0),T=new cl(h,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([b,T],G=>{a=a.add(G.As)})}),pn.resolve(this.Vs(a))}getAllMutationBatchesAffectingQuery(e,t){const a=t.path,h=a.length+1;let b=a;gr.isDocumentKey(b)||(b=b.child(""));const T=new cl(new gr(b),0);let G=new os(Vi);return this.Rs.forEachWhile(ae=>{const we=ae.key.path;return!!a.isPrefixOf(we)&&(we.length===h&&(G=G.add(ae.As)),!0)},T),pn.resolve(this.Vs(G))}Vs(e){const t=[];return e.forEach(a=>{const h=this.Ps(a);null!==h&&t.push(h)}),t}removeMutationBatch(e,t){ii(0===this.Ss(t.batchId,"removed")),this.mutationQueue.shift();let a=this.Rs;return pn.forEach(t.mutations,h=>{const b=new cl(h.key,t.batchId);return a=a.delete(b),this.referenceDelegate.markPotentiallyOrphaned(e,h.key)}).next(()=>{this.Rs=a})}Cn(e){}containsKey(e,t){const a=new cl(t,0),h=this.Rs.firstAfterOrEqual(a);return pn.resolve(t.isEqual(h&&h.key))}performConsistencyCheck(e){return pn.resolve()}Ss(e,t){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const t=this.bs(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class Um{constructor(e){this.Ds=e,this.docs=new Vr(gr.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const a=t.key,h=this.docs.get(a),b=h?h.size:0,T=this.Ds(t);return this.docs=this.docs.insert(a,{document:t.mutableCopy(),size:T}),this.size+=T-b,this.indexManager.addToCollectionParentIndex(e,a.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const a=this.docs.get(t);return pn.resolve(a?a.document.mutableCopy():Fo.newInvalidDocument(t))}getEntries(e,t){let a=ua();return t.forEach(h=>{const b=this.docs.get(h);a=a.insert(h,b?b.document.mutableCopy():Fo.newInvalidDocument(h))}),pn.resolve(a)}getDocumentsMatchingQuery(e,t,a,h){let b=ua();const T=t.path,G=new gr(T.child("")),ae=this.docs.getIteratorFrom(G);for(;ae.hasNext();){const{key:we,value:{document:Ye}}=ae.getNext();if(!T.isPrefixOf(we.path))break;we.path.length>T.length+1||Ji(Ui(Ye),a)<=0||(h.has(Ye.key)||Ys(t,Ye))&&(b=b.insert(Ye.key,Ye.mutableCopy()))}return pn.resolve(b)}getAllFromCollectionGroup(e,t,a,h){Or()}Cs(e,t){return pn.forEach(this.docs,a=>t(a))}newChangeBuffer(e){return new c0(this)}getSize(e){return pn.resolve(this.size)}}class c0 extends Hf{constructor(e){super(),this.os=e}applyChanges(e){const t=[];return this.changes.forEach((a,h)=>{h.isValidDocument()?t.push(this.os.addEntry(e,h)):this.os.removeEntry(a)}),pn.waitFor(t)}getFromCache(e,t){return this.os.getEntry(e,t)}getAllFromCache(e,t){return this.os.getEntries(e,t)}}class gv{constructor(e){this.persistence=e,this.xs=new ia(t=>ml(t),Sl),this.lastRemoteSnapshotVersion=yi.min(),this.highestTargetId=0,this.Ns=0,this.ks=new Kf,this.targetCount=0,this.Ms=eu.kn()}forEachTarget(e,t){return this.xs.forEach((a,h)=>t(h)),pn.resolve()}getLastRemoteSnapshotVersion(e){return pn.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return pn.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),pn.resolve(this.highestTargetId)}setTargetsMetadata(e,t,a){return a&&(this.lastRemoteSnapshotVersion=a),t>this.Ns&&(this.Ns=t),pn.resolve()}Fn(e){this.xs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ms=new eu(t),this.highestTargetId=t),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,t){return this.Fn(t),this.targetCount+=1,pn.resolve()}updateTargetData(e,t){return this.Fn(t),pn.resolve()}removeTargetData(e,t){return this.xs.delete(t.target),this.ks.Is(t.targetId),this.targetCount-=1,pn.resolve()}removeTargets(e,t,a){let h=0;const b=[];return this.xs.forEach((T,G)=>{G.sequenceNumber<=t&&null===a.get(G.targetId)&&(this.xs.delete(T),b.push(this.removeMatchingKeysForTargetId(e,G.targetId)),h++)}),pn.waitFor(b).next(()=>h)}getTargetCount(e){return pn.resolve(this.targetCount)}getTargetData(e,t){const a=this.xs.get(t)||null;return pn.resolve(a)}addMatchingKeys(e,t,a){return this.ks.gs(t,a),pn.resolve()}removeMatchingKeys(e,t,a){this.ks.ps(t,a);const h=this.persistence.referenceDelegate,b=[];return h&&t.forEach(T=>{b.push(h.markPotentiallyOrphaned(e,T))}),pn.waitFor(b)}removeMatchingKeysForTargetId(e,t){return this.ks.Is(t),pn.resolve()}getMatchingKeysForTargetId(e,t){const a=this.ks.Es(t);return pn.resolve(a)}containsKey(e,t){return pn.resolve(this.ks.containsKey(t))}}class rg{constructor(e,t){this.$s={},this.overlays={},this.Os=new me(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new gv(this),this.indexManager=new Nm,this.remoteDocumentCache=new Um(a=>this.referenceDelegate.Ls(a)),this.serializer=new Nh(t),this.qs=new pv(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new ng,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let a=this.$s[e.toKey()];return a||(a=new Vm(t,this.referenceDelegate),this.$s[e.toKey()]=a),a}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,t,a){Wn("MemoryPersistence","Starting transaction:",e);const h=new mv(this.Os.next());return this.referenceDelegate.Us(),a(h).next(b=>this.referenceDelegate.Ks(h).next(()=>b)).toPromise().then(b=>(h.raiseOnCommittedEvent(),b))}Gs(e,t){return pn.or(Object.values(this.$s).map(a=>()=>a.containsKey(e,t)))}}class mv extends qi{constructor(e){super(),this.currentSequenceNumber=e}}class ig{constructor(e){this.persistence=e,this.Qs=new Kf,this.js=null}static zs(e){return new ig(e)}get Ws(){if(this.js)return this.js;throw Or()}addReference(e,t,a){return this.Qs.addReference(a,t),this.Ws.delete(a.toString()),pn.resolve()}removeReference(e,t,a){return this.Qs.removeReference(a,t),this.Ws.add(a.toString()),pn.resolve()}markPotentiallyOrphaned(e,t){return this.Ws.add(t.toString()),pn.resolve()}removeTarget(e,t){this.Qs.Is(t.targetId).forEach(h=>this.Ws.add(h.toString()));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(e,t.targetId).next(h=>{h.forEach(b=>this.Ws.add(b.toString()))}).next(()=>a.removeTargetData(e,t))}Us(){this.js=new Set}Ks(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return pn.forEach(this.Ws,a=>{const h=gr.fromPath(a);return this.Hs(e,h).next(b=>{b||t.removeEntry(h,yi.min())})}).next(()=>(this.js=null,t.apply(e)))}updateLimboDocument(e,t){return this.Hs(e,t).next(a=>{a?this.Ws.delete(t.toString()):this.Ws.add(t.toString())})}Ls(e){return 0}Hs(e,t){return pn.or([()=>pn.resolve(this.Qs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Gs(e,t)])}}class u0{constructor(e){this.serializer=e}O(e,t,a,h){const b=new La("createOrUpgrade",t);var G;a<1&&h>=1&&(e.createObjectStore("owner"),(G=e).createObjectStore("mutationQueues",{keyPath:"userId"}),G.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",ko,{unique:!0}),G.createObjectStore("documentMutations"),yv(e),function(G){G.createObjectStore("remoteDocuments")}(e));let T=pn.resolve();return a<3&&h>=3&&(0!==a&&(function(G){G.deleteObjectStore("targetDocuments"),G.deleteObjectStore("targets"),G.deleteObjectStore("targetGlobal")}(e),yv(e)),T=T.next(()=>function(G){const ae=G.store("targetGlobal"),we={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:yi.min().toTimestamp(),targetCount:0};return ae.put("targetGlobalKey",we)}(b))),a<4&&h>=4&&(0!==a&&(T=T.next(()=>function(G,ae){return ae.store("mutations").j().next(we=>{G.deleteObjectStore("mutations"),G.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",ko,{unique:!0});const Ye=ae.store("mutations"),Pt=we.map(bn=>Ye.put(bn));return pn.waitFor(Pt)})}(e,b))),T=T.next(()=>{!function(G){G.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),a<5&&h>=5&&(T=T.next(()=>this.Ys(b))),a<6&&h>=6&&(T=T.next(()=>(function(G){G.createObjectStore("remoteDocumentGlobal")}(e),this.Xs(b)))),a<7&&h>=7&&(T=T.next(()=>this.Zs(b))),a<8&&h>=8&&(T=T.next(()=>this.ti(e,b))),a<9&&h>=9&&(T=T.next(()=>{!function(G){G.objectStoreNames.contains("remoteDocumentChanges")&&G.deleteObjectStore("remoteDocumentChanges")}(e)})),a<10&&h>=10&&(T=T.next(()=>this.ei(b))),a<11&&h>=11&&(T=T.next(()=>{(function(G){G.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(G){G.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),a<12&&h>=12&&(T=T.next(()=>{!function(G){const ae=G.createObjectStore("documentOverlays",{keyPath:Et});ae.createIndex("collectionPathOverlayIndex",At,{unique:!1}),ae.createIndex("collectionGroupOverlayIndex",Zt,{unique:!1})}(e)})),a<13&&h>=13&&(T=T.next(()=>function(G){const ae=G.createObjectStore("remoteDocumentsV14",{keyPath:c});ae.createIndex("documentKeyIndex",f),ae.createIndex("collectionGroupIndex",_)}(e)).next(()=>this.ni(e,b)).next(()=>e.deleteObjectStore("remoteDocuments"))),a<14&&h>=14&&(T=T.next(()=>this.si(e,b))),a<15&&h>=15&&(T=T.next(()=>function(G){G.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),G.createObjectStore("indexState",{keyPath:de}).createIndex("sequenceNumberIndex",Ce,{unique:!1}),G.createObjectStore("indexEntries",{keyPath:ze}).createIndex("documentKeyIndex",Qe,{unique:!1})}(e))),T}Xs(e){let t=0;return e.store("remoteDocuments").X((a,h)=>{t+=Bh(h)}).next(()=>{const a={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",a)})}Ys(e){const t=e.store("mutationQueues"),a=e.store("mutations");return t.j().next(h=>pn.forEach(h,b=>{const T=IDBKeyRange.bound([b.userId,-1],[b.userId,b.lastAcknowledgedBatchId]);return a.j("userMutationsIndex",T).next(G=>pn.forEach(G,ae=>{ii(ae.userId===b.userId);const we=Tc(this.serializer,ae);return Zp(e,b.userId,we).next(()=>{})}))}))}Zs(e){const t=e.store("targetDocuments"),a=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(h=>{const b=[];return a.X((T,G)=>{const ae=new ss(T),we=[0,Tn(ae)];b.push(t.get(we).next(Ye=>Ye?pn.resolve():t.put({targetId:0,path:Tn(ae),sequenceNumber:h.highestListenSequenceNumber})))}).next(()=>pn.waitFor(b))})}ti(e,t){e.createObjectStore("collectionParents",{keyPath:K});const a=t.store("collectionParents"),h=new Yp,b=T=>{if(h.add(T)){const G=T.lastSegment(),ae=T.popLast();return a.put({collectionId:G,parent:Tn(ae)})}};return t.store("remoteDocuments").X({Y:!0},(T,G)=>{const ae=new ss(T);return b(ae.popLast())}).next(()=>t.store("documentMutations").X({Y:!0},([T,G,ae],we)=>{const Ye=Zr(G);return b(Ye.popLast())}))}ei(e){const t=e.store("targets");return t.X((a,h)=>{const b=_u(h),T=Lf(this.serializer,b);return t.put(T)})}ni(e,t){const a=t.store("remoteDocuments"),h=[];return a.X((b,T)=>{const G=t.store("remoteDocumentsV14"),ae=(we=T,we.document?new gr(ss.fromString(we.document.name).popFirst(5)):we.noDocument?gr.fromSegments(we.noDocument.path):we.unknownDocument?gr.fromSegments(we.unknownDocument.path):Or()).path.toArray();var we;const Ye={prefixPath:ae.slice(0,ae.length-2),collectionGroup:ae[ae.length-2],documentId:ae[ae.length-1],readTime:T.readTime||[0,0],unknownDocument:T.unknownDocument,noDocument:T.noDocument,document:T.document,hasCommittedMutations:!!T.hasCommittedMutations};h.push(G.put(Ye))}).next(()=>pn.waitFor(h))}si(e,t){const a=t.store("mutations"),h=Cu(this.serializer),b=new rg(ig.zs,this.serializer.fe);return a.j().next(T=>{const G=new Map;return T.forEach(ae=>{var we;let Ye=null!==(we=G.get(ae.userId))&&void 0!==we?we:Us();Tc(this.serializer,ae).keys().forEach(Pt=>Ye=Ye.add(Pt)),G.set(ae.userId,Ye)}),pn.forEach(G,(ae,we)=>{const Ye=new ti(we),Pt=Ve.de(this.serializer,Ye),bn=b.getIndexManager(Ye),Vn=$h.de(Ye,this.serializer,bn,b.referenceDelegate);return new $m(h,Vn,Pt,bn).recalculateAndSaveOverlaysForDocumentKeys(new sr(t,me.ct),ae).next()})})}}function yv(i){i.createObjectStore("targetDocuments",{keyPath:A}).createIndex("documentTargetsIndex",k,{unique:!0}),i.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",I,{unique:!0}),i.createObjectStore("targetGlobal")}const Fd="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class sg{constructor(e,t,a,h,b,T,G,ae,we,Ye,Pt=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=a,this.ii=b,this.window=T,this.document=G,this.ri=we,this.oi=Ye,this.ui=Pt,this.Os=null,this.Fs=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.ai=null,this.hi=null,this.li=Number.NEGATIVE_INFINITY,this.fi=bn=>Promise.resolve(),!sg.D())throw new Xn(Dn.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new jf(this,h),this.di=t+"main",this.serializer=new Nh(ae),this.wi=new fa(this.di,this.ui,new u0(this.serializer)),this.Bs=new l0(this.referenceDelegate,this.serializer),this.remoteDocumentCache=Cu(this.serializer),this.qs=new B,this.window&&this.window.localStorage?this._i=this.window.localStorage:(this._i=null,!1===Ye&&Bi("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.mi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Xn(Dn.FAILED_PRECONDITION,Fd);return this.gi(),this.yi(),this.pi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Bs.getHighestSequenceNumber(e))}).then(e=>{this.Os=new me(e,this.ri)}).then(()=>{this.Fs=!0}).catch(e=>(this.wi&&this.wi.close(),Promise.reject(e)))}Ii(e){var t=this;return this.fi=function(){var a=(0,d.Z)(function*(h){if(t.started)return e(h)});return function(h){return a.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.wi.B(function(){var t=(0,d.Z)(function*(a){null===a.newVersion&&(yield e())});return function(a){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.ii.enqueueAndForget((0,d.Z)(function*(){t.started&&(yield t.mi())})))}mi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Ld(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Ti(e).next(t=>{t||(this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)))})}).next(()=>this.Ei(e)).next(t=>this.isPrimary&&!t?this.Ai(e).next(()=>!1):!!t&&this.vi(e).next(()=>!0))).catch(e=>{if(Xo(e))return Wn("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Wn("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.ii.enqueueRetryable(()=>this.fi(e)),this.isPrimary=e})}Ti(e){return Xu(e).get("owner").next(t=>pn.resolve(this.Ri(t)))}Pi(e){return Ld(e).delete(this.clientId)}bi(){var e=this;return(0,d.Z)(function*(){if(e.isPrimary&&!e.Vi(e.li,18e5)){e.li=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",a=>{const h=dr(a,"clientMetadata");return h.j().next(b=>{const T=e.Si(b,18e5),G=b.filter(ae=>-1===T.indexOf(ae));return pn.forEach(G,ae=>h.delete(ae.clientId)).next(()=>G)})}).catch(()=>[]);if(e._i)for(const a of t)e._i.removeItem(e.Di(a.clientId))}})()}pi(){this.hi=this.ii.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.mi().then(()=>this.bi()).then(()=>this.pi()))}Ri(e){return!!e&&e.ownerId===this.clientId}Ei(e){return this.oi?pn.resolve(!0):Xu(e).get("owner").next(t=>{if(null!==t&&this.Vi(t.leaseTimestampMs,5e3)&&!this.Ci(t.ownerId)){if(this.Ri(t)&&this.networkEnabled)return!0;if(!this.Ri(t)){if(!t.allowTabSynchronization)throw new Xn(Dn.FAILED_PRECONDITION,Fd);return!1}}return!(!this.networkEnabled||!this.inForeground)||Ld(e).j().next(a=>void 0===this.Si(a,5e3).find(h=>!(this.clientId===h.clientId||!(!this.networkEnabled&&h.networkEnabled||!this.inForeground&&h.inForeground&&this.networkEnabled===h.networkEnabled))))}).next(t=>(this.isPrimary!==t&&Wn("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,d.Z)(function*(){e.Fs=!1,e.xi(),e.hi&&(e.hi.cancel(),e.hi=null),e.Ni(),e.ki(),yield e.wi.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const a=new sr(t,me.ct);return e.Ai(a).next(()=>e.Pi(a))}),e.wi.close(),e.Mi()})()}Si(e,t){return e.filter(a=>this.Vi(a.updateTimeMs,t)&&!this.Ci(a.clientId))}$i(){return this.runTransaction("getActiveClients","readonly",e=>Ld(e).j().next(t=>this.Si(t,18e5).map(a=>a.clientId)))}get started(){return this.Fs}getMutationQueue(e,t){return $h.de(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new dv(e,this.serializer.fe.databaseId)}getDocumentOverlayCache(e){return Ve.de(this.serializer,e)}getBundleCache(){return this.qs}runTransaction(e,t,a){Wn("IndexedDbPersistence","Starting transaction:",e);const h="readonly"===t?"readonly":"readwrite",b=15===(T=this.ui)?Yn:14===T?Qn:13===T?er:12===T?En:11===T?In:void Or();var T;let G;return this.wi.runTransaction(e,h,b,ae=>(G=new sr(ae,this.Os?this.Os.next():me.ct),"readwrite-primary"===t?this.Ti(G).next(we=>!!we||this.Ei(G)).next(we=>{if(!we)throw Bi(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)),new Xn(Dn.FAILED_PRECONDITION,ns);return a(G)}).next(we=>this.vi(G).next(()=>we)):this.Oi(G).next(()=>a(G)))).then(ae=>(G.raiseOnCommittedEvent(),ae))}Oi(e){return Xu(e).get("owner").next(t=>{if(null!==t&&this.Vi(t.leaseTimestampMs,5e3)&&!this.Ci(t.ownerId)&&!this.Ri(t)&&!(this.oi||this.allowTabSynchronization&&t.allowTabSynchronization))throw new Xn(Dn.FAILED_PRECONDITION,Fd)})}vi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Xu(e).put("owner",t)}static D(){return fa.D()}Ai(e){const t=Xu(e);return t.get("owner").next(a=>this.Ri(a)?(Wn("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):pn.resolve())}Vi(e,t){const a=Date.now();return!(e<a-t||e>a&&(Bi(`Detected an update time that is in the future: ${e} > ${a}`),1))}gi(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ai=()=>{this.ii.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.mi()))},this.document.addEventListener("visibilitychange",this.ai),this.inForeground="visible"===this.document.visibilityState)}Ni(){this.ai&&(this.document.removeEventListener("visibilitychange",this.ai),this.ai=null)}yi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ci=()=>{this.xi();const t=/(?:Version|Mobile)\/1[456]/;(0,qe.G6)()&&(navigator.appVersion.match(t)||navigator.userAgent.match(t))&&this.ii.enterRestrictedMode(!0),this.ii.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ci))}ki(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}Ci(e){var t;try{const a=null!==(null===(t=this._i)||void 0===t?void 0:t.getItem(this.Di(e)));return Wn("IndexedDbPersistence",`Client '${e}' ${a?"is":"is not"} zombied in LocalStorage`),a}catch(a){return Bi("IndexedDbPersistence","Failed to get zombied client id.",a),!1}}xi(){if(this._i)try{this._i.setItem(this.Di(this.clientId),String(Date.now()))}catch(e){Bi("Failed to set zombie client id.",e)}}Mi(){if(this._i)try{this._i.removeItem(this.Di(this.clientId))}catch{}}Di(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Xu(i){return dr(i,"owner")}function Ld(i){return dr(i,"clientMetadata")}function Qu(i,e){let t=i.projectId;return i.isDefaultDatabase||(t+="."+i.database),"firestore/"+e+"/"+t+"/"}class Bd{constructor(e,t,a,h){this.targetId=e,this.fromCache=t,this.Fi=a,this.Bi=h}static Li(e,t){let a=Us(),h=Us();for(const b of t.docChanges)switch(b.type){case 0:a=a.add(b.doc.key);break;case 1:h=h.add(b.doc.key)}return new Bd(e,t.fromCache,a,h)}}class Uh{constructor(){this.qi=!1}initialize(e,t){this.Ui=e,this.indexManager=t,this.qi=!0}getDocumentsMatchingQuery(e,t,a,h){return this.Ki(e,t).next(b=>b||this.Gi(e,t,h,a)).next(b=>b||this.Qi(e,t))}Ki(e,t){if(U(t))return pn.resolve(null);let a=He(t);return this.indexManager.getIndexType(e,a).next(h=>0===h?null:(null!==t.limit&&1===h&&(t=xn(t,null,"F"),a=He(t)),this.indexManager.getDocumentsMatchingTarget(e,a).next(b=>{const T=Us(...b);return this.Ui.getDocuments(e,T).next(G=>this.indexManager.getMinOffset(e,a).next(ae=>{const we=this.ji(t,G);return this.zi(t,we,T,ae.readTime)?this.Ki(e,xn(t,null,"F")):this.Wi(e,we,t,ae)}))})))}Gi(e,t,a,h){return U(t)||h.isEqual(yi.min())?this.Qi(e,t):this.Ui.getDocuments(e,a).next(b=>{const T=this.ji(t,b);return this.zi(t,T,a,h)?this.Qi(e,t):(Is()<=ke.in.DEBUG&&Wn("QueryEngine","Re-using previous result from %s to execute query: %s",h.toString(),ji(t)),this.Wi(e,T,t,yr(h,-1)))})}ji(e,t){let a=new os(Ol(e));return t.forEach((h,b)=>{Ys(e,b)&&(a=a.add(b))}),a}zi(e,t,a,h){if(null===e.limit)return!1;if(a.size!==t.size)return!0;const b="F"===e.limitType?t.last():t.first();return!!b&&(b.hasPendingWrites||b.version.compareTo(h)>0)}Qi(e,t){return Is()<=ke.in.DEBUG&&Wn("QueryEngine","Using full collection scan to execute query:",ji(t)),this.Ui.getDocumentsMatchingQuery(e,t,Wi.min())}Wi(e,t,a,h){return this.Ui.getDocumentsMatchingQuery(e,a,h).next(b=>(t.forEach(T=>{b=b.insert(T.key,T)}),b))}}class $d{constructor(e,t,a,h){this.persistence=e,this.Hi=t,this.serializer=h,this.Ji=new Vr(Vi),this.Yi=new ia(b=>ml(b),Sl),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(a)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new $m(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ji))}}function Vd(i,e,t,a){return new $d(i,e,t,a)}function Ud(i,e){return qf.apply(this,arguments)}function qf(){return qf=(0,d.Z)(function*(i,e){const t=Bn(i);return yield t.persistence.runTransaction("Handle user change","readonly",a=>{let h;return t.mutationQueue.getAllMutationBatches(a).next(b=>(h=b,t.tr(e),t.mutationQueue.getAllMutationBatches(a))).next(b=>{const T=[],G=[];let ae=Us();for(const we of h){T.push(we.batchId);for(const Ye of we.mutations)ae=ae.add(Ye.key)}for(const we of b){G.push(we.batchId);for(const Ye of we.mutations)ae=ae.add(Ye.key)}return t.localDocuments.getDocuments(a,ae).next(we=>({er:we,removedBatchIds:T,addedBatchIds:G}))})})}),qf.apply(this,arguments)}function jd(i){const e=Bn(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Bs.getLastRemoteSnapshotVersion(t))}function Xf(i,e,t){let a=Us(),h=Us();return t.forEach(b=>a=a.add(b)),e.getEntries(i,a).next(b=>{let T=ua();return t.forEach((G,ae)=>{const we=b.get(G);ae.isFoundDocument()!==we.isFoundDocument()&&(h=h.add(G)),ae.isNoDocument()&&ae.version.isEqual(yi.min())?(e.removeEntry(G,ae.readTime),T=T.insert(G,ae)):!we.isValidDocument()||ae.version.compareTo(we.version)>0||0===ae.version.compareTo(we.version)&&we.hasPendingWrites?(e.addEntry(ae),T=T.insert(G,ae)):Wn("LocalStore","Ignoring outdated watch update for ",G,". Current version:",we.version," Watch version:",ae.version)}),{nr:T,sr:h}})}function og(i,e){const t=Bn(i);return t.persistence.runTransaction("Get next mutation batch","readonly",a=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(a,e)))}function Ju(i,e){const t=Bn(i);return t.persistence.runTransaction("Allocate target","readwrite",a=>{let h;return t.Bs.getTargetData(a,e).next(b=>b?(h=b,pn.resolve(h)):t.Bs.allocateTargetId(a).next(T=>(h=new Al(e,T,"TargetPurposeListen",a.currentSequenceNumber),t.Bs.addTargetData(a,h).next(()=>h))))}).then(a=>{const h=t.Ji.get(a.targetId);return(null===h||a.snapshotVersion.compareTo(h.snapshotVersion)>0)&&(t.Ji=t.Ji.insert(a.targetId,a),t.Yi.set(e,a.targetId)),a})}function zd(i,e,t){return ag.apply(this,arguments)}function ag(){return ag=(0,d.Z)(function*(i,e,t){const a=Bn(i),h=a.Ji.get(e),b=t?"readwrite":"readwrite-primary";try{t||(yield a.persistence.runTransaction("Release target",b,T=>a.persistence.referenceDelegate.removeTarget(T,h)))}catch(T){if(!Xo(T))throw T;Wn("LocalStore",`Failed to update sequence numbers for target ${e}: ${T}`)}a.Ji=a.Ji.remove(e),a.Yi.delete(h.target)}),ag.apply(this,arguments)}function jh(i,e,t){const a=Bn(i);let h=yi.min(),b=Us();return a.persistence.runTransaction("Execute query","readonly",T=>function(G,ae,we){const Ye=Bn(G),Pt=Ye.Yi.get(we);return void 0!==Pt?pn.resolve(Ye.Ji.get(Pt)):Ye.Bs.getTargetData(ae,we)}(a,T,He(e)).next(G=>{if(G)return h=G.lastLimboFreeSnapshotVersion,a.Bs.getMatchingKeysForTargetId(T,G.targetId).next(ae=>{b=ae})}).next(()=>a.Hi.getDocumentsMatchingQuery(T,e,t?h:yi.min(),t?b:Us())).next(G=>(zm(a,nl(e),G),{documents:G,ir:b})))}function lg(i,e){const t=Bn(i),a=Bn(t.Bs),h=t.Ji.get(e);return h?Promise.resolve(h.target):t.persistence.runTransaction("Get target data","readonly",b=>a.le(b,e).next(T=>T?T.target:null))}function jm(i,e){const t=Bn(i),a=t.Xi.get(e)||yi.min();return t.persistence.runTransaction("Get new document changes","readonly",h=>t.Zi.getAllFromCollectionGroup(h,e,yr(a,-1),Number.MAX_SAFE_INTEGER)).then(h=>(zm(t,e,h),h))}function zm(i,e,t){let a=i.Xi.get(e)||yi.min();t.forEach((h,b)=>{b.readTime.compareTo(a)>0&&(a=b.readTime)}),i.Xi.set(e,a)}function cg(){return cg=(0,d.Z)(function*(i,e,t,a){const h=Bn(i);let b=Us(),T=ua();for(const we of t){const Ye=e.rr(we.metadata.name);we.document&&(b=b.add(Ye));const Pt=e.ur(we);Pt.setReadTime(e.cr(we.metadata.readTime)),T=T.insert(Ye,Pt)}const G=h.Zi.newChangeBuffer({trackRemovals:!0}),ae=yield Ju(h,(we=a,He(Hl(ss.fromString(`__bundle__/docs/${we}`)))));var we;return h.persistence.runTransaction("Apply bundle documents","readwrite",we=>Xf(we,G,T).next(Ye=>(G.apply(we),Ye)).next(Ye=>h.Bs.removeMatchingKeysForTargetId(we,ae.targetId).next(()=>h.Bs.addMatchingKeys(we,b,ae.targetId)).next(()=>h.localDocuments.getLocalViewOfDocuments(we,Ye.nr,Ye.sr)).next(()=>Ye.nr)))}),cg.apply(this,arguments)}function ug(i,e){return zh.apply(this,arguments)}function zh(){return zh=(0,d.Z)(function*(i,e,t=Us()){const a=yield Ju(i,He(v(e.bundledQuery))),h=Bn(i);return h.persistence.runTransaction("Save named query","readwrite",b=>{const T=Oa(e.readTime);if(a.snapshotVersion.compareTo(T)>=0)return h.qs.saveNamedQuery(b,e);const G=a.withResumeToken(rs.EMPTY_BYTE_STRING,T);return h.Ji=h.Ji.insert(G.targetId,G),h.Bs.updateTargetData(b,G).next(()=>h.Bs.removeMatchingKeysForTargetId(b,a.targetId)).next(()=>h.Bs.addMatchingKeys(b,t,a.targetId)).next(()=>h.qs.saveNamedQuery(b,e))})}),zh.apply(this,arguments)}function Hm(i,e){return`firestore_clients_${i}_${e}`}function dg(i,e,t){let a=`firestore_mutations_${i}_${t}`;return e.isAuthenticated()&&(a+=`_${e.uid}`),a}function Hh(i,e){return`firestore_targets_${i}_${e}`}class ed{constructor(e,t,a,h){this.user=e,this.batchId=t,this.state=a,this.error=h}static ar(e,t,a){const h=JSON.parse(a);let b,T="object"==typeof h&&-1!==["pending","acknowledged","rejected"].indexOf(h.state)&&(void 0===h.error||"object"==typeof h.error);return T&&h.error&&(T="string"==typeof h.error.message&&"string"==typeof h.error.code,T&&(b=new Xn(h.error.code,h.error.message))),T?new ed(e,t,h.state,b):(Bi("SharedClientState",`Failed to parse mutation state for ID '${t}': ${a}`),null)}hr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Wh{constructor(e,t,a){this.targetId=e,this.state=t,this.error=a}static ar(e,t){const a=JSON.parse(t);let h,b="object"==typeof a&&-1!==["not-current","current","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return b&&a.error&&(b="string"==typeof a.error.message&&"string"==typeof a.error.code,b&&(h=new Xn(a.error.code,a.error.message))),b?new Wh(e,a.state,h):(Bi("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}hr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Gh{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static ar(e,t){const a=JSON.parse(t);let h="object"==typeof a&&a.activeTargetIds instanceof Array,b=ph();for(let T=0;h&&T<a.activeTargetIds.length;++T)h=Yt(a.activeTargetIds[T]),b=b.add(a.activeTargetIds[T]);return h?new Gh(e,b):(Bi("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class hg{constructor(e,t){this.clientId=e,this.onlineState=t}static ar(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new hg(t.clientId,t.onlineState):(Bi("SharedClientState",`Failed to parse online state: ${e}`),null)}}class Qf{constructor(){this.activeTargetIds=ph()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Wm{constructor(e,t,a,h,b){this.window=e,this.ii=t,this.persistenceKey=a,this.wr=h,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this._r=this.mr.bind(this),this.gr=new Vr(Vi),this.started=!1,this.yr=[];const T=a.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=b,this.pr=Hm(this.persistenceKey,this.wr),this.Ir=`firestore_sequence_number_${this.persistenceKey}`,this.gr=this.gr.insert(this.wr,new Qf),this.Tr=new RegExp(`^firestore_clients_${T}_([^_]*)$`),this.Er=new RegExp(`^firestore_mutations_${T}_(\\d+)(?:_(.*))?$`),this.Ar=new RegExp(`^firestore_targets_${T}_(\\d+)$`),this.vr=`firestore_online_state_${this.persistenceKey}`,this.Rr=function(G){return`firestore_bundle_loaded_v2_${G}`}(this.persistenceKey),this.window.addEventListener("storage",this._r)}static D(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,d.Z)(function*(){const t=yield e.syncEngine.$i();for(const h of t){if(h===e.wr)continue;const b=e.getItem(Hm(e.persistenceKey,h));if(b){const T=Gh.ar(h,b);T&&(e.gr=e.gr.insert(T.clientId,T))}}e.Pr();const a=e.storage.getItem(e.vr);if(a){const h=e.br(a);h&&e.Vr(h)}for(const h of e.yr)e.mr(h);e.yr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.Ir,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Sr(this.gr)}isActiveQueryTarget(e){let t=!1;return this.gr.forEach((a,h)=>{h.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Dr(e,"pending")}updateMutationState(e,t,a){this.Dr(e,t,a),this.Cr(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const a=this.storage.getItem(Hh(this.persistenceKey,e));if(a){const h=Wh.ar(e,a);h&&(t=h.state)}}return this.Nr.lr(e),this.Pr(),t}removeLocalQueryTarget(e){this.Nr.dr(e),this.Pr()}isLocalQueryTarget(e){return this.Nr.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(Hh(this.persistenceKey,e))}updateQueryState(e,t,a){this.kr(e,t,a)}handleUserChange(e,t,a){t.forEach(h=>{this.Cr(h)}),this.currentUser=e,a.forEach(h=>{this.addPendingMutation(h)})}setOnlineState(e){this.Mr(e)}notifyBundleLoaded(e){this.$r(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this._r),this.removeItem(this.pr),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Wn("SharedClientState","READ",e,t),t}setItem(e,t){Wn("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Wn("SharedClientState","REMOVE",e),this.storage.removeItem(e)}mr(e){var t=this;const a=e;if(a.storageArea===this.storage){if(Wn("SharedClientState","EVENT",a.key,a.newValue),a.key===this.pr)return void Bi("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.ii.enqueueRetryable((0,d.Z)(function*(){if(t.started){if(null!==a.key)if(t.Tr.test(a.key)){if(null==a.newValue){const h=t.Or(a.key);return t.Fr(h,null)}{const h=t.Br(a.key,a.newValue);if(h)return t.Fr(h.clientId,h)}}else if(t.Er.test(a.key)){if(null!==a.newValue){const h=t.Lr(a.key,a.newValue);if(h)return t.qr(h)}}else if(t.Ar.test(a.key)){if(null!==a.newValue){const h=t.Ur(a.key,a.newValue);if(h)return t.Kr(h)}}else if(a.key===t.vr){if(null!==a.newValue){const h=t.br(a.newValue);if(h)return t.Vr(h)}}else if(a.key===t.Ir){const h=function(b){let T=me.ct;if(null!=b)try{const G=JSON.parse(b);ii("number"==typeof G),T=G}catch(G){Bi("SharedClientState","Failed to read sequence number from WebStorage",G)}return T}(a.newValue);h!==me.ct&&t.sequenceNumberHandler(h)}else if(a.key===t.Rr){const h=t.Gr(a.newValue);yield Promise.all(h.map(b=>t.syncEngine.Qr(b)))}}else t.yr.push(a)}))}}get Nr(){return this.gr.get(this.wr)}Pr(){this.setItem(this.pr,this.Nr.hr())}Dr(e,t,a){const h=new ed(this.currentUser,e,t,a),b=dg(this.persistenceKey,this.currentUser,e);this.setItem(b,h.hr())}Cr(e){const t=dg(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Mr(e){this.storage.setItem(this.vr,JSON.stringify({clientId:this.wr,onlineState:e}))}kr(e,t,a){const h=Hh(this.persistenceKey,e),b=new Wh(e,t,a);this.setItem(h,b.hr())}$r(e){const t=JSON.stringify(Array.from(e));this.setItem(this.Rr,t)}Or(e){const t=this.Tr.exec(e);return t?t[1]:null}Br(e,t){const a=this.Or(e);return Gh.ar(a,t)}Lr(e,t){const a=this.Er.exec(e),h=Number(a[1]);return ed.ar(new ti(void 0!==a[2]?a[2]:null),h,t)}Ur(e,t){const a=this.Ar.exec(e),h=Number(a[1]);return Wh.ar(h,t)}br(e){return hg.ar(e)}Gr(e){return JSON.parse(e)}qr(e){var t=this;return(0,d.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.jr(e.batchId,e.state,e.error);Wn("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Kr(e){return this.syncEngine.zr(e.targetId,e.state,e.error)}Fr(e,t){const a=t?this.gr.insert(e,t):this.gr.remove(e),h=this.Sr(this.gr),b=this.Sr(a),T=[],G=[];return b.forEach(ae=>{h.has(ae)||T.push(ae)}),h.forEach(ae=>{b.has(ae)||G.push(ae)}),this.syncEngine.Wr(T,G).then(()=>{this.gr=a})}Vr(e){this.gr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Sr(e){let t=ph();return e.forEach((a,h)=>{t=t.unionWith(h.activeTargetIds)}),t}}class Gm{constructor(){this.Hr=new Qf,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,a){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,t,a){this.Jr[e]=t}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new Qf,Promise.resolve()}handleUserChange(e,t,a){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Kh{Yr(e){}shutdown(){}}class Km{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){Wn("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){Wn("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let tu=null;function td(){return null===tu?tu=268435456+Math.round(2147483648*Math.random()):tu++,"0x"+tu.toString(16)}const vv={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Ym{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const Il="WebChannelConnection";class _v extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.mo=(e.ssl?"https":"http")+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,t,a,h,b){const T=td(),G=this.To(e,t);Wn("RestConnection",`Sending RPC '${e}' ${T}:`,G,a);const ae={};return this.Eo(ae,h,b),this.Ao(e,G,ae,a).then(we=>(Wn("RestConnection",`Received RPC '${e}' ${T}: `,we),we),we=>{throw Yo("RestConnection",`RPC '${e}' ${T} failed with error: `,we,"url: ",G,"request:",a),we})}vo(e,t,a,h,b,T){return this.Io(e,t,a,h,b)}Eo(e,t,a){e["X-Goog-Api-Client"]="gl-js/ fire/"+Li,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((h,b)=>e[b]=h),a&&a.headers.forEach((h,b)=>e[b]=h)}To(e,t){return`${this.mo}/v1/${t}:${vv[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,t,a,h){const b=td();return new Promise((T,G)=>{const ae=new Rn;ae.setWithCredentials(!0),ae.listenOnce(ue.COMPLETE,()=>{try{switch(ae.getLastErrorCode()){case Y.NO_ERROR:const Ye=ae.getResponseJson();Wn(Il,`XHR for RPC '${e}' ${b} received:`,JSON.stringify(Ye)),T(Ye);break;case Y.TIMEOUT:Wn(Il,`RPC '${e}' ${b} timed out`),G(new Xn(Dn.DEADLINE_EXCEEDED,"Request time out"));break;case Y.HTTP_ERROR:const Pt=ae.getStatus();if(Wn(Il,`RPC '${e}' ${b} failed with status:`,Pt,"response text:",ae.getResponseText()),Pt>0){let bn=ae.getResponseJson();Array.isArray(bn)&&(bn=bn[0]);const Vn=null==bn?void 0:bn.error;if(Vn&&Vn.status&&Vn.message){const Tr=function(pi){const Ci=pi.toLowerCase().replace(/_/g,"-");return Object.values(Dn).indexOf(Ci)>=0?Ci:Dn.UNKNOWN}(Vn.status);G(new Xn(Tr,Vn.message))}else G(new Xn(Dn.UNKNOWN,"Server responded with status "+ae.getStatus()))}else G(new Xn(Dn.UNAVAILABLE,"Connection failed."));break;default:Or()}}finally{Wn(Il,`RPC '${e}' ${b} completed.`)}});const we=JSON.stringify(h);Wn(Il,`RPC '${e}' ${b} sending request:`,h),ae.send(t,"POST",we,a,15)})}Ro(e,t,a){const h=td(),b=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],T=$s(),G=Ps(),ae={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},we=this.longPollingOptions.timeoutSeconds;void 0!==we&&(ae.longPollingTimeout=Math.round(1e3*we)),this.useFetchStreams&&(ae.xmlHttpFactory=new vt({})),this.Eo(ae.initMessageHeaders,t,a),ae.encodeInitMessageHeaders=!0;const Ye=b.join("");Wn(Il,`Creating RPC '${e}' stream ${h}: ${Ye}`,ae);const Pt=T.createWebChannel(Ye,ae);let bn=!1,Vn=!1;const Tr=new Ym({ro:Ci=>{Vn?Wn(Il,`Not sending because RPC '${e}' stream ${h} is closed:`,Ci):(bn||(Wn(Il,`Opening RPC '${e}' stream ${h} transport.`),Pt.open(),bn=!0),Wn(Il,`RPC '${e}' stream ${h} sending:`,Ci),Pt.send(Ci))},oo:()=>Pt.close()}),pi=(Ci,eo,Lo)=>{Ci.listen(eo,bo=>{try{Lo(bo)}catch(Xa){setTimeout(()=>{throw Xa},0)}})};return pi(Pt,mn.EventType.OPEN,()=>{Vn||Wn(Il,`RPC '${e}' stream ${h} transport opened.`)}),pi(Pt,mn.EventType.CLOSE,()=>{Vn||(Vn=!0,Wn(Il,`RPC '${e}' stream ${h} transport closed`),Tr.wo())}),pi(Pt,mn.EventType.ERROR,Ci=>{Vn||(Vn=!0,Yo(Il,`RPC '${e}' stream ${h} transport errored:`,Ci),Tr.wo(new Xn(Dn.UNAVAILABLE,"The operation could not be completed")))}),pi(Pt,mn.EventType.MESSAGE,Ci=>{var eo;if(!Vn){const Lo=Ci.data[0];ii(!!Lo);const Xa=Lo.error||(null===(eo=Lo[0])||void 0===eo?void 0:eo.error);if(Xa){Wn(Il,`RPC '${e}' stream ${h} received error:`,Xa);const Ha=Xa.status;let _a=function(gd){const Qy=Ra[gd];if(void 0!==Qy)return Ih(Qy)}(Ha),Nl=Xa.message;void 0===_a&&(_a=Dn.INTERNAL,Nl="Unknown error status: "+Ha+" with message "+Xa.message),Vn=!0,Tr.wo(new Xn(_a,Nl)),Pt.close()}else Wn(Il,`RPC '${e}' stream ${h} received:`,Lo),Tr._o(Lo)}}),pi(G,Q.STAT_EVENT,Ci=>{Ci.stat===Pe.PROXY?Wn(Il,`RPC '${e}' stream ${h} detected buffering proxy`):Ci.stat===Pe.NOPROXY&&Wn(Il,`RPC '${e}' stream ${h} detected no buffering proxy`)}),setTimeout(()=>{Tr.fo()},0),Tr}}function qm(){return typeof window<"u"?window:null}function Yh(){return typeof document<"u"?document:null}function Hd(i){return new Mh(i,!0)}class qh{constructor(e,t,a=1e3,h=1.5,b=6e4){this.ii=e,this.timerId=t,this.Po=a,this.bo=h,this.Vo=b,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const t=Math.floor(this.So+this.ko()),a=Math.max(0,Date.now()-this.Co),h=Math.max(0,t-a);h>0&&Wn("ExponentialBackoff",`Backing off for ${h} ms (base delay: ${this.So} ms, delay with jitter: ${t} ms, last attempt: ${a} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,h,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class Wd{constructor(e,t,a,h,b,T,G,ae){this.ii=e,this.$o=a,this.Oo=h,this.connection=b,this.authCredentialsProvider=T,this.appCheckCredentialsProvider=G,this.listener=ae,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new qh(e,t)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}stop(){var e=this;return(0,d.Z)(function*(){e.Uo()&&(yield e.close(0))})()}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}zo(){var e=this;return(0,d.Z)(function*(){if(e.Ko())return e.close(0)})()}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}close(e,t){var a=this;return(0,d.Z)(function*(){a.Ho(),a.Jo(),a.qo.cancel(),a.Fo++,4!==e?a.qo.reset():t&&t.code===Dn.RESOURCE_EXHAUSTED?(Bi(t.toString()),Bi("Using maximum backoff delay to prevent overloading the backend."),a.qo.xo()):t&&t.code===Dn.UNAUTHENTICATED&&3!==a.state&&(a.authCredentialsProvider.invalidateToken(),a.appCheckCredentialsProvider.invalidateToken()),null!==a.stream&&(a.Yo(),a.stream.close(),a.stream=null),a.state=e,yield a.listener.ao(t)})()}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),t=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([a,h])=>{this.Fo===t&&this.Zo(a,h)},a=>{e(()=>{const h=new Xn(Dn.UNKNOWN,"Fetching auth token failed: "+a.message);return this.tu(h)})})}Zo(e,t){const a=this.Xo(this.Fo);this.stream=this.eu(e,t),this.stream.uo(()=>{a(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(h=>{a(()=>this.tu(h))}),this.stream.onMessage(h=>{a(()=>this.onMessage(h))})}Go(){var e=this;this.state=5,this.qo.No((0,d.Z)(function*(){e.state=0,e.start()}))}tu(e){return Wn("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return t=>{this.ii.enqueueAndForget(()=>this.Fo===e?t():(Wn("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Zm extends Wd{constructor(e,t,a,h,b,T){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,a,h,T),this.serializer=b}eu(e,t){return this.connection.Ro("Listen",e,t)}onMessage(e){this.qo.reset();const t=function Pm(i,e){let t;if("targetChange"in e){const a="NO_CHANGE"===(ae=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===ae?1:"REMOVE"===ae?2:"CURRENT"===ae?3:"RESET"===ae?4:Or(),h=e.targetChange.targetIds||[],b=function(ae,we){return ae.useProto3Json?(ii(void 0===we||"string"==typeof we),rs.fromBase64String(we||"")):(ii(void 0===we||we instanceof Uint8Array),rs.fromUint8Array(we||new Uint8Array))}(i,e.targetChange.resumeToken),T=e.targetChange.cause,G=T&&function(ae){const we=void 0===ae.code?Dn.UNKNOWN:Ih(ae.code);return new Xn(we,ae.message||"")}(T);t=new Sh(a,h,b,G||null)}else if("documentChange"in e){const a=e.documentChange,h=Sa(i,a.document.name),b=Oa(a.document.updateTime),T=a.document.createTime?Oa(a.document.createTime):yi.min(),G=new zo({mapValue:{fields:a.document.fields}}),ae=Fo.newFoundDocument(h,b,T,G);t=new qc(a.targetIds||[],a.removedTargetIds||[],ae.key,ae)}else if("documentDelete"in e){const a=e.documentDelete,h=Sa(i,a.document),b=a.readTime?Oa(a.readTime):yi.min(),T=Fo.newNoDocument(h,b);t=new qc([],a.removedTargetIds||[],T.key,T)}else if("documentRemove"in e){const a=e.documentRemove,h=Sa(i,a.document);t=new qc([],a.removedTargetIds||[],h,null)}else{if(!("filter"in e))return Or();{const a=e.filter,{count:h=0,unchangedNames:b}=a,T=new wh(h,b);t=new Rf(a.targetId,T)}}var ae;return t}(this.serializer,e),a=function(h){if(!("targetChange"in h))return yi.min();const b=h.targetChange;return b.targetIds&&b.targetIds.length?yi.min():b.readTime?Oa(b.readTime):yi.min()}(e);return this.listener.nu(t,a)}su(e){const t={};t.database=Sc(this.serializer),t.addTarget=function(h,b){let T;const G=b.target;if(T=lu(G)?{documents:Xc(h,G)}:{query:Qc(h,G)},T.targetId=b.targetId,b.resumeToken.approximateByteSize()>0){T.resumeToken=xd(h,b.resumeToken);const ae=gu(h,b.expectedCount);null!==ae&&(T.expectedCount=ae)}else if(b.snapshotVersion.compareTo(yi.min())>0){T.readTime=Cc(h,b.snapshotVersion.toTimestamp());const ae=gu(h,b.expectedCount);null!==ae&&(T.expectedCount=ae)}return T}(this.serializer,e);const a=function mu(i,e){const t=function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Or()}}(e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);a&&(t.labels=a),this.Wo(t)}iu(e){const t={};t.database=Sc(this.serializer),t.removeTarget=e,this.Wo(t)}}class f0 extends Wd{constructor(e,t,a,h,b,T){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,a,h,T),this.serializer=b,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,t){return this.connection.Ro("Write",e,t)}onMessage(e){if(ii(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const t=function Nf(i,e){return i&&i.length>0?(ii(void 0!==e),i.map(t=>function(a,h){let b=Oa(a.updateTime?a.updateTime:h);return b.isEqual(yi.min())&&(b=Oa(h)),new xf(b,a.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),a=Oa(e.commitTime);return this.listener.cu(a,t)}return ii(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=Sc(this.serializer),this.Wo(e)}uu(e){const t={streamToken:this.lastStreamToken,writes:e.map(a=>Wu(this.serializer,a))};this.Wo(t)}}class fg extends class{}{constructor(e,t,a,h){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=a,this.serializer=h,this.lu=!1}fu(){if(this.lu)throw new Xn(Dn.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,t,a){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,b])=>this.connection.Io(e,t,a,h,b)).catch(h=>{throw"FirebaseError"===h.name?(h.code===Dn.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new Xn(Dn.UNKNOWN,h.toString())})}vo(e,t,a,h){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([b,T])=>this.connection.vo(e,t,a,b,T,h)).catch(b=>{throw"FirebaseError"===b.name?(b.code===Dn.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),b):new Xn(Dn.UNKNOWN,b.toString())})}terminate(){this.lu=!0}}class Xm{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(Bi(t),this.mu=!1):Wn("OnlineStateTracker",t)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class Jf{constructor(e,t,a,h,b){var T=this;this.localStore=e,this.datastore=t,this.asyncQueue=a,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=b,this.Pu.Yr(G=>{a.enqueueAndForget((0,d.Z)(function*(){var ae;Bl(T)&&(Wn("RemoteStore","Restarting streams for network reachability change."),yield(ae=(0,d.Z)(function*(we){const Ye=Bn(we);Ye.vu.add(4),yield nd(Ye),Ye.bu.set("Unknown"),Ye.vu.delete(4),yield Su(Ye)}),function(we){return ae.apply(this,arguments)})(T))}))}),this.bu=new Xm(a,h)}}function Su(i){return ep.apply(this,arguments)}function ep(){return ep=(0,d.Z)(function*(i){if(Bl(i))for(const e of i.Ru)yield e(!0)}),ep.apply(this,arguments)}function nd(i){return pg.apply(this,arguments)}function pg(){return pg=(0,d.Z)(function*(i){for(const e of i.Ru)yield e(!1)}),pg.apply(this,arguments)}function tp(i,e){const t=Bn(i);t.Au.has(e.targetId)||(t.Au.set(e.targetId,e),np(t)?mg(t):$l(t).Ko()&&gg(t,e))}function Zh(i,e){const t=Bn(i),a=$l(t);t.Au.delete(e),a.Ko()&&Qm(t,e),0===t.Au.size&&(a.Ko()?a.jo():Bl(t)&&t.bu.set("Unknown"))}function gg(i,e){if(i.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(yi.min())>0){const t=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}$l(i).su(e)}function Qm(i,e){i.Vu.qt(e),$l(i).iu(e)}function mg(i){i.Vu=new Of({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),le:e=>i.Au.get(e)||null,ue:()=>i.datastore.serializer.databaseId}),$l(i).start(),i.bu.gu()}function np(i){return Bl(i)&&!$l(i).Uo()&&i.Au.size>0}function Bl(i){return 0===Bn(i).vu.size}function xc(i){i.Vu=void 0}function p0(i){return yg.apply(this,arguments)}function yg(){return yg=(0,d.Z)(function*(i){i.Au.forEach((e,t)=>{gg(i,e)})}),yg.apply(this,arguments)}function g0(i,e){return Jm.apply(this,arguments)}function Jm(){return Jm=(0,d.Z)(function*(i,e){xc(i),np(i)?(i.bu.Iu(e),mg(i)):i.bu.set("Unknown")}),Jm.apply(this,arguments)}function ey(i,e,t){return ty.apply(this,arguments)}function ty(){return ty=(0,d.Z)(function*(i,e,t){if(i.bu.set("Online"),e instanceof Sh&&2===e.state&&e.cause)try{yield(a=(0,d.Z)(function*(h,b){const T=b.cause;for(const G of b.targetIds)h.Au.has(G)&&(yield h.remoteSyncer.rejectListen(G,T),h.Au.delete(G),h.Vu.removeTarget(G))}),function(h,b){return a.apply(this,arguments)})(i,e)}catch(a){Wn("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),a),yield Xh(i,a)}else if(e instanceof qc?i.Vu.Ht(e):e instanceof Rf?i.Vu.ne(e):i.Vu.Xt(e),!t.isEqual(yi.min()))try{const a=yield jd(i.localStore);t.compareTo(a)>=0&&(yield function(h,b){const T=h.Vu.ce(b);return T.targetChanges.forEach((G,ae)=>{if(G.resumeToken.approximateByteSize()>0){const we=h.Au.get(ae);we&&h.Au.set(ae,we.withResumeToken(G.resumeToken,b))}}),T.targetMismatches.forEach((G,ae)=>{const we=h.Au.get(G);if(!we)return;h.Au.set(G,we.withResumeToken(rs.EMPTY_BYTE_STRING,we.snapshotVersion)),Qm(h,G);const Ye=new Al(we.target,G,ae,we.sequenceNumber);gg(h,Ye)}),h.remoteSyncer.applyRemoteEvent(T)}(i,t))}catch(a){Wn("RemoteStore","Failed to raise snapshot:",a),yield Xh(i,a)}var a}),ty.apply(this,arguments)}function Xh(i,e,t){return rd.apply(this,arguments)}function rd(){return rd=(0,d.Z)(function*(i,e,t){if(!Xo(e))throw e;i.vu.add(1),yield nd(i),i.bu.set("Offline"),t||(t=()=>jd(i.localStore)),i.asyncQueue.enqueueRetryable((0,d.Z)(function*(){Wn("RemoteStore","Retrying IndexedDB access"),yield t(),i.vu.delete(1),yield Su(i)}))}),rd.apply(this,arguments)}function vg(i,e){return e().catch(t=>Xh(i,t,e))}function id(i){return rp.apply(this,arguments)}function rp(){return rp=(0,d.Z)(function*(i){const e=Bn(i),t=Vl(e);let a=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;Xs(e);)try{const h=yield og(e.localStore,a);if(null===h){0===e.Eu.length&&t.jo();break}a=h.batchId,ny(e,h)}catch(h){yield Xh(e,h)}_g(e)&&bv(e)}),rp.apply(this,arguments)}function Xs(i){return Bl(i)&&i.Eu.length<10}function ny(i,e){i.Eu.push(e);const t=Vl(i);t.Ko()&&t.ou&&t.uu(e.mutations)}function _g(i){return Bl(i)&&!Vl(i).Uo()&&i.Eu.length>0}function bv(i){Vl(i).start()}function Ev(i){return ip.apply(this,arguments)}function ip(){return ip=(0,d.Z)(function*(i){Vl(i).hu()}),ip.apply(this,arguments)}function wv(i){return bg.apply(this,arguments)}function bg(){return bg=(0,d.Z)(function*(i){const e=Vl(i);for(const t of i.Eu)e.uu(t.mutations)}),bg.apply(this,arguments)}function ry(i,e,t){return Eg.apply(this,arguments)}function Eg(){return Eg=(0,d.Z)(function*(i,e,t){const a=i.Eu.shift(),h=Eh.from(a,e,t);yield vg(i,()=>i.remoteSyncer.applySuccessfulWrite(h)),yield id(i)}),Eg.apply(this,arguments)}function iy(i,e){return wg.apply(this,arguments)}function wg(){return wg=(0,d.Z)(function*(i,e){var t;e&&Vl(i).ou&&(yield(t=(0,d.Z)(function*(a,h){if(Uu(b=h.code)&&b!==Dn.ABORTED){const T=a.Eu.shift();Vl(a).Qo(),yield vg(a,()=>a.remoteSyncer.rejectFailedWrite(T.batchId,h)),yield id(a)}var b}),function(a,h){return t.apply(this,arguments)})(i,e)),_g(i)&&bv(i)}),wg.apply(this,arguments)}function sy(i,e){return Ig.apply(this,arguments)}function Ig(){return Ig=(0,d.Z)(function*(i,e){const t=Bn(i);t.asyncQueue.verifyOperationInProgress(),Wn("RemoteStore","RemoteStore received new credentials");const a=Bl(t);t.vu.add(3),yield nd(t),a&&t.bu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.vu.delete(3),yield Su(t)}),Ig.apply(this,arguments)}function sp(i,e){return op.apply(this,arguments)}function op(){return op=(0,d.Z)(function*(i,e){const t=Bn(i);e?(t.vu.delete(2),yield Su(t)):e||(t.vu.add(2),yield nd(t),t.bu.set("Unknown"))}),op.apply(this,arguments)}function $l(i){return i.Su||(i.Su=function(e,t,a){const h=Bn(e);return h.fu(),new Zm(t,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,a)}(i.datastore,i.asyncQueue,{uo:p0.bind(null,i),ao:g0.bind(null,i),nu:ey.bind(null,i)}),i.Ru.push(function(){var e=(0,d.Z)(function*(t){t?(i.Su.Qo(),np(i)?mg(i):i.bu.set("Unknown")):(yield i.Su.stop(),xc(i))});return function(t){return e.apply(this,arguments)}}())),i.Su}function Vl(i){return i.Du||(i.Du=function(e,t,a){const h=Bn(e);return h.fu(),new f0(t,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,a)}(i.datastore,i.asyncQueue,{uo:Ev.bind(null,i),ao:iy.bind(null,i),au:wv.bind(null,i),cu:ry.bind(null,i)}),i.Ru.push(function(){var e=(0,d.Z)(function*(t){t?(i.Du.Qo(),yield id(i)):(yield i.Du.stop(),i.Eu.length>0&&(Wn("RemoteStore",`Stopping write stream with ${i.Eu.length} pending writes`),i.Eu=[]))});return function(t){return e.apply(this,arguments)}}())),i.Du}class ap{constructor(e,t,a,h,b){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=a,this.op=h,this.removalCallback=b,this.deferred=new Yi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(T=>{})}static createAndSchedule(e,t,a,h,b){const T=Date.now()+a,G=new ap(e,t,T,h,b);return G.start(a),G}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Xn(Dn.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Kd(i,e){if(Bi("AsyncQueue",`${e}: ${i}`),Xo(i))return new Xn(Dn.UNAVAILABLE,`${e}: ${i}`);throw i}class nu{constructor(e){this.comparator=e?(t,a)=>e(t,a)||gr.comparator(t.key,a.key):(t,a)=>gr.comparator(t.key,a.key),this.keyedMap=Ma(),this.sortedSet=new Vr(this.comparator)}static emptySet(e){return new nu(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,a)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof nu)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),a=e.sortedSet.getIterator();for(;t.hasNext();){const h=t.getNext().key,b=a.getNext().key;if(!h.isEqual(b))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const a=new nu;return a.comparator=this.comparator,a.keyedMap=e,a.sortedSet=t,a}}class sd{constructor(){this.Cu=new Vr(gr.comparator)}track(e){const t=e.doc.key,a=this.Cu.get(t);a?0!==e.type&&3===a.type?this.Cu=this.Cu.insert(t,e):3===e.type&&1!==a.type?this.Cu=this.Cu.insert(t,{type:a.type,doc:e.doc}):2===e.type&&2===a.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===a.type?this.Cu=this.Cu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===a.type?this.Cu=this.Cu.remove(t):1===e.type&&2===a.type?this.Cu=this.Cu.insert(t,{type:1,doc:a.doc}):0===e.type&&1===a.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):Or():this.Cu=this.Cu.insert(t,e)}xu(){const e=[];return this.Cu.inorderTraversal((t,a)=>{e.push(a)}),e}}class Tu{constructor(e,t,a,h,b,T,G,ae,we){this.query=e,this.docs=t,this.oldDocs=a,this.docChanges=h,this.mutatedKeys=b,this.fromCache=T,this.syncStateChanged=G,this.excludesMetadataChanges=ae,this.hasCachedResults=we}static fromInitialDocuments(e,t,a,h,b){const T=[];return t.forEach(G=>{T.push({type:0,doc:G})}),new Tu(e,t,nu.emptySet(t),T,a,h,!0,!1,b)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&_r(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,a=e.docChanges;if(t.length!==a.length)return!1;for(let h=0;h<t.length;h++)if(t[h].type!==a[h].type||!t[h].doc.isEqual(a[h].doc))return!1;return!0}}class Qh{constructor(){this.Nu=void 0,this.listeners=[]}}class oy{constructor(){this.queries=new ia(e=>si(e),_r),this.onlineState="Unknown",this.ku=new Set}}function Jh(i,e){return ef.apply(this,arguments)}function ef(){return ef=(0,d.Z)(function*(i,e){const t=Bn(i),a=e.query;let h=!1,b=t.queries.get(a);if(b||(h=!0,b=new Qh),h)try{b.Nu=yield t.onListen(a)}catch(T){const G=Kd(T,`Initialization of query '${ji(e.query)}' failed`);return void e.onError(G)}t.queries.set(a,b),b.listeners.push(e),e.Mu(t.onlineState),b.Nu&&e.$u(b.Nu)&&Dg(t)}),ef.apply(this,arguments)}function tf(i,e){return lp.apply(this,arguments)}function lp(){return lp=(0,d.Z)(function*(i,e){const t=Bn(i),a=e.query;let h=!1;const b=t.queries.get(a);if(b){const T=b.listeners.indexOf(e);T>=0&&(b.listeners.splice(T,1),h=0===b.listeners.length)}if(h)return t.queries.delete(a),t.onUnlisten(a)}),lp.apply(this,arguments)}function Cg(i,e){const t=Bn(i);let a=!1;for(const h of e){const T=t.queries.get(h.query);if(T){for(const G of T.listeners)G.$u(h)&&(a=!0);T.Nu=h}}a&&Dg(t)}function Iv(i,e,t){const a=Bn(i),h=a.queries.get(e);if(h)for(const b of h.listeners)b.onError(t);a.queries.delete(e)}function Dg(i){i.ku.forEach(e=>{e.next()})}class Sg{constructor(e,t,a){this.query=e,this.Ou=t,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=a||{}}$u(e){if(!this.options.includeMetadataChanges){const a=[];for(const h of e.docChanges)3!==h.type&&a.push(h);e=new Tu(e.query,e.docs,e.oldDocs,a,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),t=!0):this.qu(e,this.onlineState)&&(this.Uu(e),t=!0),this.Bu=e,t}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let t=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),t=!0),t}qu(e,t){return!e.fromCache||(!this.options.Ku||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Lu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Uu(e){e=Tu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class ay{constructor(e,t){this.Gu=e,this.byteLength=t}Qu(){return"metadata"in this.Gu}}class ly{constructor(e){this.serializer=e}rr(e){return Sa(this.serializer,e)}ur(e){return e.metadata.exists?uc(this.serializer,e.document,!1):Fo.newNoDocument(this.rr(e.metadata.name),this.cr(e.metadata.readTime))}cr(e){return Oa(e)}}class Cv{constructor(e,t,a){this.ju=e,this.localStore=t,this.serializer=a,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=cy(e)}zu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.Gu.namedQuery)this.queries.push(e.Gu.namedQuery);else if(e.Gu.documentMetadata){this.documents.push({metadata:e.Gu.documentMetadata}),e.Gu.documentMetadata.exists||++t;const a=ss.fromString(e.Gu.documentMetadata.name);this.collectionGroups.add(a.get(a.length-2))}else e.Gu.document&&(this.documents[this.documents.length-1].document=e.Gu.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}Wu(e){const t=new Map,a=new ly(this.serializer);for(const h of e)if(h.metadata.queries){const b=a.rr(h.metadata.name);for(const T of h.metadata.queries){const G=(t.get(T)||Us()).add(b);t.set(T,G)}}return t}complete(){var e=this;return(0,d.Z)(function*(){const t=yield function h0(i,e,t,a){return cg.apply(this,arguments)}(e.localStore,new ly(e.serializer),e.documents,e.ju.id),a=e.Wu(e.documents);for(const h of e.queries)yield ug(e.localStore,h,a.get(h.name));return e.progress.taskState="Success",{progress:e.progress,Hu:e.collectionGroups,Ju:t}})()}}function cy(i){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:i.totalDocuments,totalBytes:i.totalBytes}}class uy{constructor(e){this.key=e}}class Tg{constructor(e){this.key=e}}class Ag{constructor(e,t){this.query=e,this.Yu=t,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=Us(),this.mutatedKeys=Us(),this.tc=Ol(e),this.ec=new nu(this.tc)}get nc(){return this.Yu}sc(e,t){const a=t?t.ic:new sd,h=t?t.ec:this.ec;let b=t?t.mutatedKeys:this.mutatedKeys,T=h,G=!1;const ae="F"===this.query.limitType&&h.size===this.query.limit?h.last():null,we="L"===this.query.limitType&&h.size===this.query.limit?h.first():null;if(e.inorderTraversal((Ye,Pt)=>{const bn=h.get(Ye),Vn=Ys(this.query,Pt)?Pt:null,Tr=!!bn&&this.mutatedKeys.has(bn.key),pi=!!Vn&&(Vn.hasLocalMutations||this.mutatedKeys.has(Vn.key)&&Vn.hasCommittedMutations);let Ci=!1;bn&&Vn?bn.data.isEqual(Vn.data)?Tr!==pi&&(a.track({type:3,doc:Vn}),Ci=!0):this.rc(bn,Vn)||(a.track({type:2,doc:Vn}),Ci=!0,(ae&&this.tc(Vn,ae)>0||we&&this.tc(Vn,we)<0)&&(G=!0)):!bn&&Vn?(a.track({type:0,doc:Vn}),Ci=!0):bn&&!Vn&&(a.track({type:1,doc:bn}),Ci=!0,(ae||we)&&(G=!0)),Ci&&(Vn?(T=T.add(Vn),b=pi?b.add(Ye):b.delete(Ye)):(T=T.delete(Ye),b=b.delete(Ye)))}),null!==this.query.limit)for(;T.size>this.query.limit;){const Ye="F"===this.query.limitType?T.last():T.first();T=T.delete(Ye.key),b=b.delete(Ye.key),a.track({type:1,doc:Ye})}return{ec:T,ic:a,zi:G,mutatedKeys:b}}rc(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,a){const h=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const b=e.ic.xu();b.sort((we,Ye)=>function(Pt,bn){const Vn=Tr=>{switch(Tr){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Or()}};return Vn(Pt)-Vn(bn)}(we.type,Ye.type)||this.tc(we.doc,Ye.doc)),this.oc(a);const T=t?this.uc():[],G=0===this.Zu.size&&this.current?1:0,ae=G!==this.Xu;return this.Xu=G,0!==b.length||ae?{snapshot:new Tu(this.query,e.ec,h,b,e.mutatedKeys,0===G,ae,!1,!!a&&a.resumeToken.approximateByteSize()>0),cc:T}:{cc:T}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new sd,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(t=>this.Yu=this.Yu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Yu=this.Yu.delete(t)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=Us(),this.ec.forEach(a=>{this.ac(a.key)&&(this.Zu=this.Zu.add(a.key))});const t=[];return e.forEach(a=>{this.Zu.has(a)||t.push(new Tg(a))}),this.Zu.forEach(a=>{e.has(a)||t.push(new uy(a))}),t}hc(e){this.Yu=e.ir,this.Zu=Us();const t=this.sc(e.documents);return this.applyChanges(t,!0)}lc(){return Tu.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class Dv{constructor(e,t,a){this.query=e,this.targetId=t,this.view=a}}class Sv{constructor(e){this.key=e,this.fc=!1}}class Ul{constructor(e,t,a,h,b,T){this.localStore=e,this.remoteStore=t,this.eventManager=a,this.sharedClientState=h,this.currentUser=b,this.maxConcurrentLimboResolutions=T,this.dc={},this.wc=new ia(G=>si(G),_r),this._c=new Map,this.mc=new Set,this.gc=new Vr(gr.comparator),this.yc=new Map,this.Ic=new Kf,this.Tc={},this.Ec=new Map,this.Ac=eu.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}function Tv(i,e){return xg.apply(this,arguments)}function xg(){return xg=(0,d.Z)(function*(i,e){const t=Zd(i);let a,h;const b=t.wc.get(e);if(b)a=b.targetId,t.sharedClientState.addLocalQueryTarget(a),h=b.view.lc();else{const T=yield Ju(t.localStore,He(e)),G=t.sharedClientState.addLocalQueryTarget(T.targetId);a=T.targetId,h=yield dy(t,e,a,"current"===G,T.resumeToken),t.isPrimaryClient&&tp(t.remoteStore,T)}return h}),xg.apply(this,arguments)}function dy(i,e,t,a,h){return nf.apply(this,arguments)}function nf(){return nf=(0,d.Z)(function*(i,e,t,a,h){i.Rc=(Pt,bn,Vn)=>{return(Tr=(0,d.Z)(function*(pi,Ci,eo,Lo){let bo=Ci.view.sc(eo);bo.zi&&(bo=yield jh(pi.localStore,Ci.query,!1).then(({documents:_a})=>Ci.view.sc(_a,bo)));const Xa=Lo&&Lo.targetChanges.get(Ci.targetId),Ha=Ci.view.applyChanges(bo,pi.isPrimaryClient,Xa);return up(pi,Ci.targetId,Ha.cc),Ha.snapshot}),function(pi,Ci,eo,Lo){return Tr.apply(this,arguments)})(i,Pt,bn,Vn);var Tr};const b=yield jh(i.localStore,e,!0),T=new Ag(e,b.ir),G=T.sc(b.documents),ae=Sd.createSynthesizedTargetChangeForCurrentChange(t,a&&"Offline"!==i.onlineState,h),we=T.applyChanges(G,i.isPrimaryClient,ae);up(i,t,we.cc);const Ye=new Dv(e,t,T);return i.wc.set(e,Ye),i._c.has(t)?i._c.get(t).push(e):i._c.set(t,[e]),we.snapshot}),nf.apply(this,arguments)}function hy(i,e){return Mg.apply(this,arguments)}function Mg(){return Mg=(0,d.Z)(function*(i,e){const t=Bn(i),a=t.wc.get(e),h=t._c.get(a.targetId);if(h.length>1)return t._c.set(a.targetId,h.filter(b=>!_r(b,e))),void t.wc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(a.targetId),t.sharedClientState.isActiveQueryTarget(a.targetId)||(yield zd(t.localStore,a.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(a.targetId),Zh(t.remoteStore,a.targetId),Yd(t,a.targetId)}).catch(Uo))):(Yd(t,a.targetId),yield zd(t.localStore,a.targetId,!0))}),Mg.apply(this,arguments)}function Pg(){return Pg=(0,d.Z)(function*(i,e,t){const a=Gg(i);try{const h=yield function(b,T){const G=Bn(b),ae=Ks.now(),we=T.reduce((bn,Vn)=>bn.add(Vn.key),Us());let Ye,Pt;return G.persistence.runTransaction("Locally write mutations","readwrite",bn=>{let Vn=ua(),Tr=Us();return G.Zi.getEntries(bn,we).next(pi=>{Vn=pi,Vn.forEach((Ci,eo)=>{eo.isValidDocument()||(Tr=Tr.add(Ci))})}).next(()=>G.localDocuments.getOverlayedDocuments(bn,Vn)).next(pi=>{Ye=pi;const Ci=[];for(const eo of T){const Lo=Vp(eo,Ye.get(eo.key).overlayedDocument);null!=Lo&&Ci.push(new Gl(eo.key,Lo,tc(Lo.value.mapValue),pa.exists(!0)))}return G.mutationQueue.addMutationBatch(bn,ae,Ci,T)}).next(pi=>{Pt=pi;const Ci=pi.applyToLocalDocumentSet(Ye,Tr);return G.documentOverlayCache.saveOverlays(bn,pi.batchId,Ci)})}).then(()=>({batchId:Pt.batchId,changes:$a(Ye)}))}(a.localStore,e);a.sharedClientState.addPendingMutation(h.batchId),function(b,T,G){let ae=b.Tc[b.currentUser.toKey()];ae||(ae=new Vr(Vi)),ae=ae.insert(T,G),b.Tc[b.currentUser.toKey()]=ae}(a,h.batchId,t),yield Au(a,h.changes),yield id(a.remoteStore)}catch(h){const b=Kd(h,"Failed to persist write");t.reject(b)}}),Pg.apply(this,arguments)}function Rg(i,e){return Og.apply(this,arguments)}function Og(){return Og=(0,d.Z)(function*(i,e){const t=Bn(i);try{const a=yield function d0(i,e){const t=Bn(i),a=e.snapshotVersion;let h=t.Ji;return t.persistence.runTransaction("Apply remote event","readwrite-primary",b=>{const T=t.Zi.newChangeBuffer({trackRemovals:!0});h=t.Ji;const G=[];e.targetChanges.forEach((Ye,Pt)=>{const bn=h.get(Pt);if(!bn)return;G.push(t.Bs.removeMatchingKeys(b,Ye.removedDocuments,Pt).next(()=>t.Bs.addMatchingKeys(b,Ye.addedDocuments,Pt)));let Vn=bn.withSequenceNumber(b.currentSequenceNumber);var Tr,pi,Ci;null!==e.targetMismatches.get(Pt)?Vn=Vn.withResumeToken(rs.EMPTY_BYTE_STRING,yi.min()).withLastLimboFreeSnapshotVersion(yi.min()):Ye.resumeToken.approximateByteSize()>0&&(Vn=Vn.withResumeToken(Ye.resumeToken,a)),h=h.insert(Pt,Vn),pi=Vn,Ci=Ye,(0===(Tr=bn).resumeToken.approximateByteSize()||pi.snapshotVersion.toMicroseconds()-Tr.snapshotVersion.toMicroseconds()>=3e8||Ci.addedDocuments.size+Ci.modifiedDocuments.size+Ci.removedDocuments.size>0)&&G.push(t.Bs.updateTargetData(b,Vn))});let ae=ua(),we=Us();if(e.documentUpdates.forEach(Ye=>{e.resolvedLimboDocuments.has(Ye)&&G.push(t.persistence.referenceDelegate.updateLimboDocument(b,Ye))}),G.push(Xf(b,T,e.documentUpdates).next(Ye=>{ae=Ye.nr,we=Ye.sr})),!a.isEqual(yi.min())){const Ye=t.Bs.getLastRemoteSnapshotVersion(b).next(Pt=>t.Bs.setTargetsMetadata(b,b.currentSequenceNumber,a));G.push(Ye)}return pn.waitFor(G).next(()=>T.apply(b)).next(()=>t.localDocuments.getLocalViewOfDocuments(b,ae,we)).next(()=>ae)}).then(b=>(t.Ji=h,b))}(t.localStore,e);e.targetChanges.forEach((h,b)=>{const T=t.yc.get(b);T&&(ii(h.addedDocuments.size+h.modifiedDocuments.size+h.removedDocuments.size<=1),h.addedDocuments.size>0?T.fc=!0:h.modifiedDocuments.size>0?ii(T.fc):h.removedDocuments.size>0&&(ii(T.fc),T.fc=!1))}),yield Au(t,a,e)}catch(a){yield Uo(a)}}),Og.apply(this,arguments)}function fy(i,e,t){const a=Bn(i);if(a.isPrimaryClient&&0===t||!a.isPrimaryClient&&1===t){const h=[];a.wc.forEach((b,T)=>{const G=T.view.Mu(e);G.snapshot&&h.push(G.snapshot)}),function(b,T){const G=Bn(b);G.onlineState=T;let ae=!1;G.queries.forEach((we,Ye)=>{for(const Pt of Ye.listeners)Pt.Mu(T)&&(ae=!0)}),ae&&Dg(G)}(a.eventManager,e),h.length&&a.dc.nu(h),a.onlineState=e,a.isPrimaryClient&&a.sharedClientState.setOnlineState(e)}}function kg(i,e,t){return Ng.apply(this,arguments)}function Ng(){return Ng=(0,d.Z)(function*(i,e,t){const a=Bn(i);a.sharedClientState.updateQueryState(e,"rejected",t);const h=a.yc.get(e),b=h&&h.key;if(b){let T=new Vr(gr.comparator);T=T.insert(b,Fo.newNoDocument(b,yi.min()));const G=Us().add(b),ae=new zu(yi.min(),new Map,new Vr(Vi),T,G);yield Rg(a,ae),a.gc=a.gc.remove(b),a.yc.delete(e),sf(a)}else yield zd(a.localStore,e,!1).then(()=>Yd(a,e,t)).catch(Uo)}),Ng.apply(this,arguments)}function xv(i,e){return Fg.apply(this,arguments)}function Fg(){return Fg=(0,d.Z)(function*(i,e){const t=Bn(i),a=e.batch.batchId;try{const h=yield function Zf(i,e){const t=Bn(i);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",a=>{const h=e.batch.keys(),b=t.Zi.newChangeBuffer({trackRemovals:!0});return function(T,G,ae,we){const Ye=ae.batch,Pt=Ye.keys();let bn=pn.resolve();return Pt.forEach(Vn=>{bn=bn.next(()=>we.getEntry(G,Vn)).next(Tr=>{const pi=ae.docVersions.get(Vn);ii(null!==pi),Tr.version.compareTo(pi)<0&&(Ye.applyToRemoteDocument(Tr,ae),Tr.isValidDocument()&&(Tr.setReadTime(ae.commitVersion),we.addEntry(Tr)))})}),bn.next(()=>T.mutationQueue.removeMutationBatch(G,Ye))}(t,a,e,b).next(()=>b.apply(a)).next(()=>t.mutationQueue.performConsistencyCheck(a)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(a,h,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,function(T){let G=Us();for(let ae=0;ae<T.mutationResults.length;++ae)T.mutationResults[ae].transformResults.length>0&&(G=G.add(T.batch.mutations[ae].key));return G}(e))).next(()=>t.localDocuments.getDocuments(a,h))})}(t.localStore,e);cp(t,a,null),Bg(t,a),t.sharedClientState.updateMutationState(a,"acknowledged"),yield Au(t,h)}catch(h){yield Uo(h)}}),Fg.apply(this,arguments)}function Mv(i,e,t){return Lg.apply(this,arguments)}function Lg(){return Lg=(0,d.Z)(function*(i,e,t){const a=Bn(i);try{const h=yield function(b,T){const G=Bn(b);return G.persistence.runTransaction("Reject batch","readwrite-primary",ae=>{let we;return G.mutationQueue.lookupMutationBatch(ae,T).next(Ye=>(ii(null!==Ye),we=Ye.keys(),G.mutationQueue.removeMutationBatch(ae,Ye))).next(()=>G.mutationQueue.performConsistencyCheck(ae)).next(()=>G.documentOverlayCache.removeOverlaysForBatchId(ae,we,T)).next(()=>G.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(ae,we)).next(()=>G.localDocuments.getDocuments(ae,we))})}(a.localStore,e);cp(a,e,t),Bg(a,e),a.sharedClientState.updateMutationState(e,"rejected",t),yield Au(a,h)}catch(h){yield Uo(h)}}),Lg.apply(this,arguments)}function rf(){return rf=(0,d.Z)(function*(i,e){const t=Bn(i);Bl(t.remoteStore)||Wn("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const a=yield function(b){const T=Bn(b);return T.persistence.runTransaction("Get highest unacknowledged batch id","readonly",G=>T.mutationQueue.getHighestUnacknowledgedBatchId(G))}(t.localStore);if(-1===a)return void e.resolve();const h=t.Ec.get(a)||[];h.push(e),t.Ec.set(a,h)}catch(a){const h=Kd(a,"Initialization of waitForPendingWrites() operation failed");e.reject(h)}}),rf.apply(this,arguments)}function Bg(i,e){(i.Ec.get(e)||[]).forEach(t=>{t.resolve()}),i.Ec.delete(e)}function cp(i,e,t){const a=Bn(i);let h=a.Tc[a.currentUser.toKey()];if(h){const b=h.get(e);b&&(t?b.reject(t):b.resolve(),h=h.remove(e)),a.Tc[a.currentUser.toKey()]=h}}function Yd(i,e,t=null){i.sharedClientState.removeLocalQueryTarget(e);for(const a of i._c.get(e))i.wc.delete(a),t&&i.dc.Pc(a,t);i._c.delete(e),i.isPrimaryClient&&i.Ic.Is(e).forEach(a=>{i.Ic.containsKey(a)||$g(i,a)})}function $g(i,e){i.mc.delete(e.path.canonicalString());const t=i.gc.get(e);null!==t&&(Zh(i.remoteStore,t),i.gc=i.gc.remove(e),i.yc.delete(t),sf(i))}function up(i,e,t){for(const a of t)a instanceof uy?(i.Ic.addReference(a.key,e),dp(i,a)):a instanceof Tg?(Wn("SyncEngine","Document no longer in limbo: "+a.key),i.Ic.removeReference(a.key,e),i.Ic.containsKey(a.key)||$g(i,a.key)):Or()}function dp(i,e){const t=e.key,a=t.path.canonicalString();i.gc.get(t)||i.mc.has(a)||(Wn("SyncEngine","New document in limbo: "+t),i.mc.add(a),sf(i))}function sf(i){for(;i.mc.size>0&&i.gc.size<i.maxConcurrentLimboResolutions;){const e=i.mc.values().next().value;i.mc.delete(e);const t=new gr(ss.fromString(e)),a=i.Ac.next();i.yc.set(a,new Sv(t)),i.gc=i.gc.insert(t,a),tp(i.remoteStore,new Al(He(Hl(t.path)),a,"TargetPurposeLimboResolution",me.ct))}}function Au(i,e,t){return hp.apply(this,arguments)}function hp(){return hp=(0,d.Z)(function*(i,e,t){const a=Bn(i),h=[],b=[],T=[];var G;a.wc.isEmpty()||(a.wc.forEach((G,ae)=>{T.push(a.Rc(ae,e,t).then(we=>{if((we||t)&&a.isPrimaryClient&&a.sharedClientState.updateQueryState(ae.targetId,null!=we&&we.fromCache?"not-current":"current"),we){h.push(we);const Ye=Bd.Li(ae.targetId,we);b.push(Ye)}}))}),yield Promise.all(T),a.dc.nu(h),yield(G=(0,d.Z)(function*(ae,we){const Ye=Bn(ae);try{yield Ye.persistence.runTransaction("notifyLocalViewChanges","readwrite",Pt=>pn.forEach(we,bn=>pn.forEach(bn.Fi,Vn=>Ye.persistence.referenceDelegate.addReference(Pt,bn.targetId,Vn)).next(()=>pn.forEach(bn.Bi,Vn=>Ye.persistence.referenceDelegate.removeReference(Pt,bn.targetId,Vn)))))}catch(Pt){if(!Xo(Pt))throw Pt;Wn("LocalStore","Failed to update sequence numbers: "+Pt)}for(const Pt of we){const bn=Pt.targetId;if(!Pt.fromCache){const Vn=Ye.Ji.get(bn),pi=Vn.withLastLimboFreeSnapshotVersion(Vn.snapshotVersion);Ye.Ji=Ye.Ji.insert(bn,pi)}}}),function(ae,we){return G.apply(this,arguments)})(a.localStore,b))}),hp.apply(this,arguments)}function py(i,e){return fp.apply(this,arguments)}function fp(){return fp=(0,d.Z)(function*(i,e){const t=Bn(i);if(!t.currentUser.isEqual(e)){Wn("SyncEngine","User change. New user:",e.toKey());const a=yield Ud(t.localStore,e);t.currentUser=e,(h=t).Ec.forEach(T=>{T.forEach(G=>{G.reject(new Xn(Dn.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),h.Ec.clear(),t.sharedClientState.handleUserChange(e,a.removedBatchIds,a.addedBatchIds),yield Au(t,a.er)}var h}),fp.apply(this,arguments)}function gy(i,e){const t=Bn(i),a=t.yc.get(e);if(a&&a.fc)return Us().add(a.key);{let h=Us();const b=t._c.get(e);if(!b)return h;for(const T of b){const G=t.wc.get(T);h=h.unionWith(G.view.nc)}return h}}function Vg(i,e){return fc.apply(this,arguments)}function fc(){return fc=(0,d.Z)(function*(i,e){const t=Bn(i),a=yield jh(t.localStore,e.query,!0),h=e.view.hc(a);return t.isPrimaryClient&&up(t,e.targetId,h.cc),h}),fc.apply(this,arguments)}function Pv(i,e){return Ug.apply(this,arguments)}function Ug(){return Ug=(0,d.Z)(function*(i,e){const t=Bn(i);return jm(t.localStore,e).then(a=>Au(t,a))}),Ug.apply(this,arguments)}function jg(i,e,t,a){return zg.apply(this,arguments)}function zg(){return zg=(0,d.Z)(function*(i,e,t,a){const h=Bn(i),b=yield function(T,G){const ae=Bn(T),we=Bn(ae.mutationQueue);return ae.persistence.runTransaction("Lookup mutation documents","readonly",Ye=>we.Sn(Ye,G).next(Pt=>Pt?ae.localDocuments.getDocuments(Ye,Pt):pn.resolve(null)))}(h.localStore,e);var G;null!==b?("pending"===t?yield id(h.remoteStore):"acknowledged"===t||"rejected"===t?(cp(h,e,a||null),Bg(h,e),G=e,Bn(Bn(h.localStore).mutationQueue).Cn(G)):Or(),yield Au(h,b)):Wn("SyncEngine","Cannot apply mutation batch with id: "+e)}),zg.apply(this,arguments)}function Hg(){return Hg=(0,d.Z)(function*(i,e){const t=Bn(i);if(Zd(t),Gg(t),!0===e&&!0!==t.vc){const a=t.sharedClientState.getAllActiveQueryTargets(),h=yield Ov(t,a.toArray());t.vc=!0,yield sp(t.remoteStore,!0);for(const b of h)tp(t.remoteStore,b)}else if(!1===e&&!1!==t.vc){const a=[];let h=Promise.resolve();t._c.forEach((b,T)=>{t.sharedClientState.isLocalQueryTarget(T)?a.push(T):h=h.then(()=>(Yd(t,T),zd(t.localStore,T,!0))),Zh(t.remoteStore,T)}),yield h,yield Ov(t,a),function(b){const T=Bn(b);T.yc.forEach((G,ae)=>{Zh(T.remoteStore,ae)}),T.Ic.Ts(),T.yc=new Map,T.gc=new Vr(gr.comparator)}(t),t.vc=!1,yield sp(t.remoteStore,!1)}}),Hg.apply(this,arguments)}function Ov(i,e,t){return pp.apply(this,arguments)}function pp(){return pp=(0,d.Z)(function*(i,e,t){const a=Bn(i),h=[],b=[];for(const T of e){let G;const ae=a._c.get(T);if(ae&&0!==ae.length){G=yield Ju(a.localStore,He(ae[0]));for(const we of ae){const Ye=a.wc.get(we),Pt=yield Vg(a,Ye);Pt.snapshot&&b.push(Pt.snapshot)}}else{const we=yield lg(a.localStore,T);G=yield Ju(a.localStore,we),yield dy(a,my(we),T,!1,G.resumeToken)}h.push(G)}return a.dc.nu(b),h}),pp.apply(this,arguments)}function my(i){return Ed(i.path,i.collectionGroup,i.orderBy,i.filters,i.limit,"F",i.startAt,i.endAt)}function gp(i){const e=Bn(i);return Bn(Bn(e.localStore).persistence).$i()}function af(i,e,t,a){return qd.apply(this,arguments)}function qd(){return qd=(0,d.Z)(function*(i,e,t,a){const h=Bn(i);if(h.vc)return void Wn("SyncEngine","Ignoring unexpected query state notification.");const b=h._c.get(e);if(b&&b.length>0)switch(t){case"current":case"not-current":{const T=yield jm(h.localStore,nl(b[0])),G=zu.createSynthesizedRemoteEventForCurrentChange(e,"current"===t,rs.EMPTY_BYTE_STRING);yield Au(h,T,G);break}case"rejected":yield zd(h.localStore,e,!0),Yd(h,e,a);break;default:Or()}}),qd.apply(this,arguments)}function m0(i,e,t){return Wg.apply(this,arguments)}function Wg(){return Wg=(0,d.Z)(function*(i,e,t){const a=Zd(i);if(a.vc){for(const h of e){if(a._c.has(h)){Wn("SyncEngine","Adding an already active target "+h);continue}const b=yield lg(a.localStore,h),T=yield Ju(a.localStore,b);yield dy(a,my(b),T.targetId,!1,T.resumeToken),tp(a.remoteStore,T)}for(const h of t)a._c.has(h)&&(yield zd(a.localStore,h,!1).then(()=>{Zh(a.remoteStore,h),Yd(a,h)}).catch(Uo))}}),Wg.apply(this,arguments)}function Zd(i){const e=Bn(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=Rg.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=gy.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=kg.bind(null,e),e.dc.nu=Cg.bind(null,e.eventManager),e.dc.Pc=Iv.bind(null,e.eventManager),e}function Gg(i){const e=Bn(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=xv.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Mv.bind(null,e),e}class lf{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,d.Z)(function*(){t.serializer=Hd(e.databaseInfo.databaseId),t.sharedClientState=t.createSharedClientState(e),t.persistence=t.createPersistence(e),yield t.persistence.start(),t.localStore=t.createLocalStore(e),t.gcScheduler=t.createGarbageCollectionScheduler(e,t.localStore),t.indexBackfillerScheduler=t.createIndexBackfillerScheduler(e,t.localStore)})()}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return Vd(this.persistence,new Uh,e.initialUser,this.serializer)}createPersistence(e){return new rg(ig.zs,this.serializer)}createSharedClientState(e){return new Gm}terminate(){var e=this;return(0,d.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class Yg extends lf{constructor(e,t,a){super(),this.Vc=e,this.cacheSizeBytes=t,this.forceOwnership=a,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,a=this;return(0,d.Z)(function*(){yield t().call(a,e),yield a.Vc.initialize(a,e),yield Gg(a.Vc.syncEngine),yield id(a.Vc.remoteStore),yield a.persistence.Ii(()=>(a.gcScheduler&&!a.gcScheduler.started&&a.gcScheduler.start(),a.indexBackfillerScheduler&&!a.indexBackfillerScheduler.started&&a.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(e){return Vd(this.persistence,new Uh,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,t){return new Iu(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}createIndexBackfillerScheduler(e,t){const a=new q(t,this.persistence);return new R(e.asyncQueue,a)}createPersistence(e){const t=Qu(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),a=void 0!==this.cacheSizeBytes?Za.withCacheSize(this.cacheSizeBytes):Za.DEFAULT;return new sg(this.synchronizeTabs,t,e.clientId,a,e.asyncQueue,qm(),Yh(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new Gm}}class Xd extends Yg{constructor(e,t){super(e,t,!1),this.Vc=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,a=this;return(0,d.Z)(function*(){yield t().call(a,e);const h=a.Vc.syncEngine;a.sharedClientState instanceof Wm&&(a.sharedClientState.syncEngine={jr:jg.bind(null,h),zr:af.bind(null,h),Wr:m0.bind(null,h),$i:gp.bind(null,h),Qr:Pv.bind(null,h)},yield a.sharedClientState.start()),yield a.persistence.Ii(function(){var b=(0,d.Z)(function*(T){yield function Rv(i,e){return Hg.apply(this,arguments)}(a.Vc.syncEngine,T),a.gcScheduler&&(T&&!a.gcScheduler.started?a.gcScheduler.start():T||a.gcScheduler.stop()),a.indexBackfillerScheduler&&(T&&!a.indexBackfillerScheduler.started?a.indexBackfillerScheduler.start():T||a.indexBackfillerScheduler.stop())});return function(T){return b.apply(this,arguments)}}())})()}createSharedClientState(e){const t=qm();if(!Wm.D(t))throw new Xn(Dn.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const a=Qu(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Wm(t,e.asyncQueue,a,e.clientId,e.initialUser)}}class Qd{initialize(e,t){var a=this;return(0,d.Z)(function*(){a.localStore||(a.localStore=e.localStore,a.sharedClientState=e.sharedClientState,a.datastore=a.createDatastore(t),a.remoteStore=a.createRemoteStore(t),a.eventManager=a.createEventManager(t),a.syncEngine=a.createSyncEngine(t,!e.synchronizeTabs),a.sharedClientState.onlineStateHandler=h=>fy(a.syncEngine,h,1),a.remoteStore.remoteSyncer.handleCredentialChange=py.bind(null,a.syncEngine),yield sp(a.remoteStore,a.syncEngine.isPrimaryClient))})()}createEventManager(e){return new oy}createDatastore(e){const t=Hd(e.databaseInfo.databaseId),a=new _v(e.databaseInfo);return new fg(e.authCredentials,e.appCheckCredentials,a,t)}createRemoteStore(e){return t=this.localStore,a=this.datastore,h=e.asyncQueue,b=G=>fy(this.syncEngine,G,0),T=Km.D()?new Km:new Kh,new Jf(t,a,h,b,T);var t,a,h,b,T}createSyncEngine(e,t){return function(a,h,b,T,G,ae,we){const Ye=new Ul(a,h,b,T,G,ae);return we&&(Ye.vc=!0),Ye}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,d.Z)(function*(t){const a=Bn(t);Wn("RemoteStore","RemoteStore shutting down."),a.vu.add(5),yield nd(a),a.Pu.shutdown(),a.bu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function qg(i,e=10240){let t=0;return{read:()=>(0,d.Z)(function*(){if(t<i.byteLength){const a={value:i.slice(t,t+e),done:!1};return t+=e,a}return{done:!0}})(),cancel:()=>(0,d.Z)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class cf{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):Bi("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class Nv{constructor(e,t){this.Cc=e,this.serializer=t,this.metadata=new Yi,this.buffer=new Uint8Array,this.xc=new TextDecoder("utf-8"),this.Nc().then(a=>{a&&a.Qu()?this.metadata.resolve(a.Gu.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==a?void 0:a.Gu)}`))},a=>this.metadata.reject(a))}close(){return this.Cc.cancel()}getMetadata(){var e=this;return(0,d.Z)(function*(){return e.metadata.promise})()}bc(){var e=this;return(0,d.Z)(function*(){return yield e.getMetadata(),e.Nc()})()}Nc(){var e=this;return(0,d.Z)(function*(){const t=yield e.kc();if(null===t)return null;const a=e.xc.decode(t),h=Number(a);isNaN(h)&&e.Mc(`length string (${a}) is not valid number`);const b=yield e.$c(h);return new ay(JSON.parse(b),t.length+h)})()}Oc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}kc(){var e=this;return(0,d.Z)(function*(){for(;e.Oc()<0&&!(yield e.Fc()););if(0===e.buffer.length)return null;const t=e.Oc();t<0&&e.Mc("Reached the end of bundle when a length string is expected.");const a=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),a})()}$c(e){var t=this;return(0,d.Z)(function*(){for(;t.buffer.length<e;)(yield t.Fc())&&t.Mc("Reached the end of bundle when more is expected.");const a=t.xc.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),a})()}Mc(e){throw this.Cc.cancel(),new Error(`Invalid bundle format: ${e}`)}Fc(){var e=this;return(0,d.Z)(function*(){const t=yield e.Cc.read();if(!t.done){const a=new Uint8Array(e.buffer.length+t.value.length);a.set(e.buffer),a.set(t.value,e.buffer.length),e.buffer=a}return t.done})()}}class Fv{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,d.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new Xn(Dn.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const a=yield(h=(0,d.Z)(function*(b,T){const G=Bn(b),ae=Sc(G.serializer)+"/documents",we={documents:T.map(Vn=>ka(G.serializer,Vn))},Ye=yield G.vo("BatchGetDocuments",ae,we,T.length),Pt=new Map;Ye.forEach(Vn=>{const Tr=function jp(i,e){return"found"in e?function(t,a){ii(!!a.found);const h=Sa(t,a.found.name),b=Oa(a.found.updateTime),T=a.found.createTime?Oa(a.found.createTime):yi.min(),G=new zo({mapValue:{fields:a.found.fields}});return Fo.newFoundDocument(h,b,T,G)}(i,e):"missing"in e?function(t,a){ii(!!a.missing),ii(!!a.readTime);const h=Sa(t,a.missing),b=Oa(a.readTime);return Fo.newNoDocument(h,b)}(i,e):Or()}(G.serializer,Vn);Pt.set(Tr.key.toString(),Tr)});const bn=[];return T.forEach(Vn=>{const Tr=Pt.get(Vn.toString());ii(!!Tr),bn.push(Tr)}),bn}),function(b,T){return h.apply(this,arguments)})(t.datastore,e);var h;return a.forEach(h=>t.recordVersion(h)),a})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(a){this.lastWriteError=a}this.writtenDocs.add(e.toString())}delete(e){this.write(new wc(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,d.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var a;e.mutations.forEach(a=>{t.delete(a.key.toString())}),t.forEach((a,h)=>{const b=gr.fromPath(h);e.mutations.push(new pu(b,e.precondition(b)))}),yield(a=(0,d.Z)(function*(h,b){const T=Bn(h),G=Sc(T.serializer)+"/documents",ae={writes:b.map(we=>Wu(T.serializer,we))};yield T.Io("Commit",G,ae)}),function(h,b){return a.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Or();t=yi.min()}const a=this.readVersions.get(e.key.toString());if(a){if(!t.isEqual(a))throw new Xn(Dn.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(yi.min())?pa.exists(!1):pa.updateTime(t):pa.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(yi.min()))throw new Xn(Dn.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return pa.updateTime(t)}return pa.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class uf{constructor(e,t,a,h,b){this.asyncQueue=e,this.datastore=t,this.options=a,this.updateFunction=h,this.deferred=b,this.Bc=a.maxAttempts,this.qo=new qh(this.asyncQueue,"transaction_retry")}run(){this.Bc-=1,this.Lc()}Lc(){var e=this;this.qo.No((0,d.Z)(function*(){const t=new Fv(e.datastore),a=e.qc(t);a&&a.then(h=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(h)}).catch(b=>{e.Uc(b)}))}).catch(h=>{e.Uc(h)})}))}qc(e){try{const t=this.updateFunction(e);return!Xe(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Uc(e){this.Bc>0&&this.Kc(e)?(this.Bc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Lc(),Promise.resolve()))):this.deferred.reject(e)}Kc(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!Uu(t)}return!1}}class Lv{constructor(e,t,a,h){var b=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=a,this.databaseInfo=h,this.user=ti.UNAUTHENTICATED,this.clientId=el.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(a,function(){var T=(0,d.Z)(function*(G){Wn("FirestoreClient","Received user=",G.uid),yield b.authCredentialListener(G),b.user=G});return function(G){return T.apply(this,arguments)}}()),this.appCheckCredentials.start(a,T=>(Wn("FirestoreClient","Received new app check token=",T),this.appCheckCredentialListener(T,this.user)))}getConfiguration(){var e=this;return(0,d.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Xn(Dn.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Yi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,d.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(a){const h=Kd(a,"Failed to shutdown persistence");t.reject(h)}})),t.promise}}function Zg(i,e){return Xg.apply(this,arguments)}function Xg(){return Xg=(0,d.Z)(function*(i,e){i.asyncQueue.verifyOperationInProgress(),Wn("FirestoreClient","Initializing OfflineComponentProvider");const t=yield i.getConfiguration();yield e.initialize(t);let a=t.initialUser;i.setCredentialChangeListener(function(){var h=(0,d.Z)(function*(b){a.isEqual(b)||(yield Ud(e.localStore,b),a=b)});return function(b){return h.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>i.terminate()),i._offlineComponents=e}),Xg.apply(this,arguments)}function Qg(i,e){return Jg.apply(this,arguments)}function Jg(){return Jg=(0,d.Z)(function*(i,e){i.asyncQueue.verifyOperationInProgress();const t=yield em(i);Wn("FirestoreClient","Initializing OnlineComponentProvider");const a=yield i.getConfiguration();yield e.initialize(t,a),i.setCredentialChangeListener(h=>sy(e.remoteStore,h)),i.setAppCheckTokenChangeListener((h,b)=>sy(e.remoteStore,b)),i._onlineComponents=e}),Jg.apply(this,arguments)}function yy(i){return"FirebaseError"===i.name?i.code===Dn.FAILED_PRECONDITION||i.code===Dn.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||22===i.code||20===i.code||11===i.code}function em(i){return tm.apply(this,arguments)}function tm(){return tm=(0,d.Z)(function*(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){Wn("FirestoreClient","Using user provided OfflineComponentProvider");try{yield Zg(i,i._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!yy(t))throw t;Yo("Error using user provided cache. Falling back to memory cache: "+t),yield Zg(i,new lf)}}else Wn("FirestoreClient","Using default OfflineComponentProvider"),yield Zg(i,new lf);return i._offlineComponents}),tm.apply(this,arguments)}function mp(i){return yp.apply(this,arguments)}function yp(){return yp=(0,d.Z)(function*(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(Wn("FirestoreClient","Using user provided OnlineComponentProvider"),yield Qg(i,i._uninitializedComponentsProvider._online)):(Wn("FirestoreClient","Using default OnlineComponentProvider"),yield Qg(i,new Qd))),i._onlineComponents}),yp.apply(this,arguments)}function vp(i){return em(i).then(e=>e.persistence)}function _p(i){return em(i).then(e=>e.localStore)}function bp(i){return mp(i).then(e=>e.remoteStore)}function nm(i){return mp(i).then(e=>e.syncEngine)}function Jd(i){return rm.apply(this,arguments)}function rm(){return rm=(0,d.Z)(function*(i){const e=yield mp(i),t=e.eventManager;return t.onListen=Tv.bind(null,e.syncEngine),t.onUnlisten=hy.bind(null,e.syncEngine),t}),rm.apply(this,arguments)}function im(i,e,t={}){const a=new Yi;return i.asyncQueue.enqueueAndForget((0,d.Z)(function*(){return function(h,b,T,G,ae){const we=new cf({next:Pt=>{b.enqueueAndForget(()=>tf(h,Ye));const bn=Pt.docs.has(T);!bn&&Pt.fromCache?ae.reject(new Xn(Dn.UNAVAILABLE,"Failed to get document because the client is offline.")):bn&&Pt.fromCache&&G&&"server"===G.source?ae.reject(new Xn(Dn.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):ae.resolve(Pt)},error:Pt=>ae.reject(Pt)}),Ye=new Sg(Hl(T.path),we,{includeMetadataChanges:!0,Ku:!0});return Jh(h,Ye)}(yield Jd(i),i.asyncQueue,e,t,a)})),a.promise}function by(i,e,t={}){const a=new Yi;return i.asyncQueue.enqueueAndForget((0,d.Z)(function*(){return function(h,b,T,G,ae){const we=new cf({next:Pt=>{b.enqueueAndForget(()=>tf(h,Ye)),Pt.fromCache&&"server"===G.source?ae.reject(new Xn(Dn.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):ae.resolve(Pt)},error:Pt=>ae.reject(Pt)}),Ye=new Sg(T,we,{includeMetadataChanges:!0,Ku:!0});return Jh(h,Ye)}(yield Jd(i),i.asyncQueue,e,t,a)})),a.promise}function wy(i){const e={};return void 0!==i.timeoutSeconds&&(e.timeoutSeconds=i.timeoutSeconds),e}const Iy=new Map;function df(i,e,t){if(!t)throw new Xn(Dn.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function Cy(i,e,t,a){if(!0===e&&!0===a)throw new Xn(Dn.INVALID_ARGUMENT,`${i} and ${t} cannot be used together.`)}function pc(i){if(!gr.isDocumentKey(i))throw new Xn(Dn.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function eh(i){if(gr.isDocumentKey(i))throw new Xn(Dn.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function sl(i){if(void 0===i)return"undefined";if(null===i)return"null";if("string"==typeof i)return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if("number"==typeof i||"boolean"==typeof i)return""+i;if("object"==typeof i){if(i instanceof Array)return"an array";{const e=(t=i).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof i?"a function":Or()}function so(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new Xn(Dn.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=sl(i);throw new Xn(Dn.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return i}function hf(i,e){if(e<=0)throw new Xn(Dn.INVALID_ARGUMENT,`Function ${i}() requires a positive number, but it was: ${e}.`)}class jl{constructor(e){var t,a;if(void 0===e.host){if(void 0!==e.ssl)throw new Xn(Dn.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Xn(Dn.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Cy("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=wy(null!==(a=e.experimentalLongPollingOptions)&&void 0!==a?a:{}),function(h){if(void 0!==h.timeoutSeconds){if(isNaN(h.timeoutSeconds))throw new Xn(Dn.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (must not be NaN)`);if(h.timeoutSeconds<5)throw new Xn(Dn.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (minimum allowed value is 5)`);if(h.timeoutSeconds>30)throw new Xn(Dn.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class od{constructor(e,t,a,h){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=a,this._app=h,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new jl({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Xn(Dn.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Xn(Dn.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new jl(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new wa;switch(t.type){case"firstParty":return new Zo(t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new Xn(Dn.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=Iy.get(e);t&&(Wn("ComponentProvider","Removing Datastore"),Iy.delete(e),t.terminate())}(this),Promise.resolve()}}function ad(i,e,t,a={}){var h;const b=(i=so(i,od))._getSettings();if("firestore.googleapis.com"!==b.host&&b.host!==e&&Yo("Host has been set in both settings() and useEmulator(), emulator host will be used"),i._setSettings(Object.assign(Object.assign({},b),{host:`${e}:${t}`,ssl:!1})),a.mockUserToken){let T,G;if("string"==typeof a.mockUserToken)T=a.mockUserToken,G=ti.MOCK_USER;else{T=(0,qe.Sg)(a.mockUserToken,null===(h=i._app)||void 0===h?void 0:h.options.projectId);const ae=a.mockUserToken.sub||a.mockUserToken.user_id;if(!ae)throw new Xn(Dn.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");G=new ti(ae)}i._authCredentials=new xa(new Ja(T,G))}}class da{constructor(e,t,a){this.converter=t,this._key=a,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new xl(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new da(this.firestore,e,this._key)}}class Ua{constructor(e,t,a){this.converter=t,this._query=a,this.type="query",this.firestore=e}withConverter(e){return new Ua(this.firestore,e,this._query)}}class xl extends Ua{constructor(e,t,a){super(e,t,Hl(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new da(this.firestore,null,new gr(e))}withConverter(e){return new xl(this.firestore,e,this._path)}}function th(i,e,...t){if(i=(0,qe.m9)(i),df("collection","path",e),i instanceof od){const a=ss.fromString(e,...t);return eh(a),new xl(i,null,a)}{if(!(i instanceof da||i instanceof xl))throw new Xn(Dn.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=i._path.child(ss.fromString(e,...t));return eh(a),new xl(i.firestore,null,a)}}function nh(i,e){if(i=so(i,od),df("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Xn(Dn.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Ua(i,null,(t=e,new qa(ss.emptyPath(),t)));var t}function ld(i,e,...t){if(i=(0,qe.m9)(i),1===arguments.length&&(e=el.A()),df("doc","path",e),i instanceof od){const a=ss.fromString(e,...t);return pc(a),new da(i,null,new gr(a))}{if(!(i instanceof da||i instanceof xl))throw new Xn(Dn.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=i._path.child(ss.fromString(e,...t));return pc(a),new da(i.firestore,i instanceof xl?i.converter:null,new gr(a))}}function rh(i,e){return i=(0,qe.m9)(i),e=(0,qe.m9)(e),(i instanceof da||i instanceof xl)&&(e instanceof da||e instanceof xl)&&i.firestore===e.firestore&&i.path===e.path&&i.converter===e.converter}function xu(i,e){return i=(0,qe.m9)(i),e=(0,qe.m9)(e),i instanceof Ua&&e instanceof Ua&&i.firestore===e.firestore&&_r(i._query,e._query)&&i.converter===e.converter}class Dy{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new qh(this,"async_queue_retry"),this.Xc=()=>{const t=Yh();t&&Wn("AsyncQueue","Visibility state changed to "+t.visibilityState),this.qo.Mo()};const e=Yh();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const t=Yh();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const t=new Yi;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}ea(){var e=this;return(0,d.Z)(function*(){if(0!==e.Qc.length){try{yield e.Qc[0](),e.Qc.shift(),e.qo.reset()}catch(t){if(!Xo(t))throw t;Wn("AsyncQueue","Operation failed with retryable error: "+t)}e.Qc.length>0&&e.qo.No(()=>e.ea())}})()}ta(e){const t=this.Gc.then(()=>(this.Hc=!0,e().catch(a=>{throw this.Wc=a,this.Hc=!1,Bi("INTERNAL UNHANDLED ERROR: ",function(b){let T=b.message||"";return b.stack&&(T=b.stack.includes(b.message)?b.stack:b.message+"\n"+b.stack),T}(a)),a}).then(a=>(this.Hc=!1,a))));return this.Gc=t,t}enqueueAfterDelay(e,t,a){this.Zc(),this.Yc.indexOf(e)>-1&&(t=0);const h=ap.createAndSchedule(this,e,t,a,b=>this.na(b));return this.zc.push(h),h}Zc(){this.Wc&&Or()}verifyOperationInProgress(){}sa(){var e=this;return(0,d.Z)(function*(){let t;do{t=e.Gc,yield t}while(t!==e.Gc)})()}ia(e){for(const t of this.zc)if(t.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((t,a)=>t.targetTimeMs-a.targetTimeMs);for(const t of this.zc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const t=this.zc.indexOf(e);this.zc.splice(t,1)}}function wp(i){return function(e,t){if("object"!=typeof e||null===e)return!1;const a=e;for(const h of["next","error","complete"])if(h in a&&"function"==typeof a[h])return!0;return!1}(i)}class Sy{constructor(){this._progressObserver={},this._taskCompletionResolver=new Yi,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,a){this._progressObserver={next:e,error:t,complete:a}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}const Ty=-1;class ma extends od{constructor(e,t,a,h){super(e,t,a,h),this.type="firestore",this._queue=new Dy,this._persistenceKey=(null==h?void 0:h.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||sm(this),this._firestoreClient.terminate()}}function Ay(i,e){const t="object"==typeof i?i:(0,E.getApp)(),a="string"==typeof i?i:e||"(default)",h=(0,E._getProvider)(t,"firestore").getImmediate({identifier:a});if(!h._initialized){const b=(0,qe.P0)("firestore");b&&ad(h,...b)}return h}function ja(i){return i._firestoreClient||sm(i),i._firestoreClient.verifyNotTerminated(),i._firestoreClient}function sm(i){var e,t,a;const h=i._freezeSettings(),b=(G=(null===(e=i._app)||void 0===e?void 0:e.options.appId)||"",new Ml(i._databaseId,G,i._persistenceKey,(we=h).host,we.ssl,we.experimentalForceLongPolling,we.experimentalAutoDetectLongPolling,wy(we.experimentalLongPollingOptions),we.useFetchStreams));var G,we;i._firestoreClient=new Lv(i._authCredentials,i._appCheckCredentials,i._queue,b),null!==(t=h.cache)&&void 0!==t&&t._offlineComponentProvider&&null!==(a=h.cache)&&void 0!==a&&a._onlineComponentProvider&&(i._firestoreClient._uninitializedComponentsProvider={_offlineKind:h.cache.kind,_offline:h.cache._offlineComponentProvider,_online:h.cache._onlineComponentProvider})}function om(i,e){xy(i=so(i,ma));const t=ja(i);if(t._uninitializedComponentsProvider)throw new Xn(Dn.FAILED_PRECONDITION,"SDK cache is already specified.");Yo("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const a=i._freezeSettings(),h=new Qd;return zv(t,h,new Yg(h,a.cacheSizeBytes,null==e?void 0:e.forceOwnership))}function jv(i){xy(i=so(i,ma));const e=ja(i);if(e._uninitializedComponentsProvider)throw new Xn(Dn.FAILED_PRECONDITION,"SDK cache is already specified.");Yo("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const t=i._freezeSettings(),a=new Qd;return zv(e,a,new Xd(a,t.cacheSizeBytes))}function zv(i,e,t){const a=new Yi;return i.asyncQueue.enqueue((0,d.Z)(function*(){try{yield Zg(i,t),yield Qg(i,e),a.resolve()}catch(h){const b=h;if(!yy(b))throw b;Yo("Error enabling indexeddb cache. Falling back to memory cache: "+b),a.reject(b)}})).then(()=>a.promise)}function _0(i){if(i._initialized&&!i._terminated)throw new Xn(Dn.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Yi;return i._queue.enqueueAndForgetEvenWhileRestricted((0,d.Z)(function*(){try{yield(t=(0,d.Z)(function*(a){if(!fa.D())return Promise.resolve();const h=a+"main";yield fa.delete(h)}),function(a){return t.apply(this,arguments)})(Qu(i._databaseId,i._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}function Hv(i){return function(e){const t=new Yi;return e.asyncQueue.enqueueAndForget((0,d.Z)(function*(){return function Mc(i,e){return rf.apply(this,arguments)}(yield nm(e),t)})),t.promise}(ja(i=so(i,ma)))}function Wv(i){return function Bv(i){return i.asyncQueue.enqueue((0,d.Z)(function*(){const e=yield vp(i),t=yield bp(i);return e.setNetworkEnabled(!0),function(a){const h=Bn(a);return h.vu.delete(0),Su(h)}(t)}))}(ja(i=so(i,ma)))}function b0(i){return function $v(i){return i.asyncQueue.enqueue((0,d.Z)(function*(){const e=yield vp(i),t=yield bp(i);return e.setNetworkEnabled(!1),(a=(0,d.Z)(function*(h){const b=Bn(h);b.vu.add(0),yield nd(b),b.bu.set("Offline")}),function(h){return a.apply(this,arguments)})(t);var a}))}(ja(i=so(i,ma)))}function w0(i,e){const t=ja(i=so(i,ma)),a=new Sy;return function Ey(i,e,t,a){const h=function(b,T){let G;return G="string"==typeof b?Pf().encode(b):b,ae=function(ae,we){if(ae instanceof Uint8Array)return qg(ae,void 0);if(ae instanceof ArrayBuffer)return qg(new Uint8Array(ae),void 0);if(ae instanceof ReadableStream)return ae.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(G),new Nv(ae,T);var ae}(t,Hd(e));i.asyncQueue.enqueueAndForget((0,d.Z)(function*(){!function kv(i,e,t){const a=Bn(i);var h;(h=(0,d.Z)(function*(b,T,G){try{const ae=yield T.getMetadata();if(yield function(bn,Vn){const Tr=Bn(bn),pi=Oa(Vn.createTime);return Tr.persistence.runTransaction("hasNewerBundle","readonly",Ci=>Tr.qs.getBundleMetadata(Ci,Vn.id)).then(Ci=>!!Ci&&Ci.createTime.compareTo(pi)>=0)}(b.localStore,ae))return yield T.close(),G._completeWith({taskState:"Success",documentsLoaded:(bn=ae).totalDocuments,bytesLoaded:bn.totalBytes,totalDocuments:bn.totalDocuments,totalBytes:bn.totalBytes}),Promise.resolve(new Set);G._updateProgress(cy(ae));const we=new Cv(ae,b.localStore,T.serializer);let Ye=yield T.bc();for(;Ye;){const bn=yield we.zu(Ye);bn&&G._updateProgress(bn),Ye=yield T.bc()}const Pt=yield we.complete();return yield Au(b,Pt.Ju,void 0),yield function(bn,Vn){const Tr=Bn(bn);return Tr.persistence.runTransaction("Save bundle","readwrite",pi=>Tr.qs.saveBundleMetadata(pi,Vn))}(b.localStore,ae),G._completeWith(Pt.progress),Promise.resolve(Pt.Hu)}catch(ae){return Yo("SyncEngine",`Loading bundle failed with ${ae}`),G._failWith(ae),Promise.resolve(new Set)}var bn}),function(b,T,G){return h.apply(this,arguments)})(a,e,t).then(h=>{a.sharedClientState.notifyBundleLoaded(h)})}(yield nm(i),h,a)}))}(t,i._databaseId,e,a),a}function Gv(i,e){return function v0(i,e){return i.asyncQueue.enqueue((0,d.Z)(function*(){return function(t,a){const h=Bn(t);return h.persistence.runTransaction("Get named query","readonly",b=>h.qs.getNamedQuery(b,a))}(yield _p(i),e)}))}(ja(i=so(i,ma)),e).then(t=>t?new Ua(i,null,t.query):null)}function xy(i){if(i._initialized||i._terminated)throw new Xn(Dn.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Yl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Yl(rs.fromBase64String(e))}catch(t){throw new Xn(Dn.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Yl(rs.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Pc{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Xn(Dn.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new hs(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Mu{constructor(e){this._methodName=e}}class Pu{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Xn(Dn.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Xn(Dn.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Vi(this._lat,e._lat)||Vi(this._long,e._long)}}const My=/^__.*__$/;class Kv{constructor(e,t,a){this.data=e,this.fieldMask=t,this.fieldTransforms=a}toMutation(e,t){return null!==this.fieldMask?new Gl(e,this.data,this.fieldMask,t,this.fieldTransforms):new Ec(e,this.data,t,this.fieldTransforms)}}class ih{constructor(e,t,a){this.data=e,this.fieldMask=t,this.fieldTransforms=a}toMutation(e,t){return new Gl(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function Py(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Or()}}class Ip{constructor(e,t,a,h,b,T){this.settings=e,this.databaseId=t,this.serializer=a,this.ignoreUndefinedProperties=h,void 0===b&&this.ua(),this.fieldTransforms=b||[],this.fieldMask=T||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new Ip(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var t;const a=null===(t=this.path)||void 0===t?void 0:t.child(e),h=this.aa({path:a,la:!1});return h.fa(e),h}da(e){var t;const a=null===(t=this.path)||void 0===t?void 0:t.child(e),h=this.aa({path:a,la:!1});return h.ua(),h}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return mf(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if(Py(this.ca)&&My.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class Yv{constructor(e,t,a){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=a||Hd(e)}ya(e,t,a,h=!1){return new Ip({ca:e,methodName:t,ga:a,path:hs.emptyPath(),la:!1,ma:h},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function cd(i){const e=i._freezeSettings(),t=Hd(i._databaseId);return new Yv(i._databaseId,!!e.ignoreUndefinedProperties,t)}function sh(i,e,t,a,h,b={}){const T=i.ya(b.merge||b.mergeFields?2:0,e,t,h);Dp("Data must be an object, but it was:",T,a);const G=dm(a,T);let ae,we;if(b.merge)ae=new Ir(T.fieldMask),we=T.fieldTransforms;else if(b.mergeFields){const Ye=[];for(const Pt of b.mergeFields){const bn=gf(e,Pt,t);if(!T.contains(bn))throw new Xn(Dn.INVALID_ARGUMENT,`Field '${bn}' is specified in your field mask but missing from your input data.`);Tp(Ye,bn)||Ye.push(bn)}ae=new Ir(Ye),we=T.fieldTransforms.filter(Pt=>ae.covers(Pt.field))}else ae=null,we=T.fieldTransforms;return new Kv(new zo(G),ae,we)}class Ru extends Mu{_toFieldTransform(e){if(2!==e.ca)throw e._a(1===e.ca?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Ru}}function pf(i,e,t){return new Ip({ca:3,ga:e.settings.ga,methodName:i._methodName,la:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class Ry extends Mu{_toFieldTransform(e){return new Lu(e.path,new Da)}isEqual(e){return e instanceof Ry}}class qv extends Mu{constructor(e,t){super(e),this.pa=t}_toFieldTransform(e){const t=pf(this,e,!0),a=this.pa.map(b=>ud(b,t)),h=new kl(a);return new Lu(e.path,h)}isEqual(e){return this===e}}class Zv extends Mu{constructor(e,t){super(e),this.pa=t}_toFieldTransform(e){const t=pf(this,e,!0),a=this.pa.map(b=>ud(b,t)),h=new lc(a);return new Lu(e.path,h)}isEqual(e){return this===e}}class cm extends Mu{constructor(e,t){super(e),this.Ia=t}_toFieldTransform(e){const t=new rl(e.serializer,Tf(e.serializer,this.Ia));return new Lu(e.path,t)}isEqual(e){return this===e}}function um(i,e,t,a){const h=i.ya(1,e,t);Dp("Data must be an object, but it was:",h,a);const b=[],T=zo.empty();fi(a,(ae,we)=>{const Ye=Sp(e,ae,t);we=(0,qe.m9)(we);const Pt=h.da(Ye);if(we instanceof Ru)b.push(Ye);else{const bn=ud(we,Pt);null!=bn&&(b.push(Ye),T.set(Ye,bn))}});const G=new Ir(b);return new ih(T,G,h.fieldTransforms)}function Cp(i,e,t,a,h,b){const T=i.ya(1,e,t),G=[gf(e,a,t)],ae=[h];if(b.length%2!=0)throw new Xn(Dn.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let bn=0;bn<b.length;bn+=2)G.push(gf(e,b[bn])),ae.push(b[bn+1]);const we=[],Ye=zo.empty();for(let bn=G.length-1;bn>=0;--bn)if(!Tp(we,G[bn])){const Vn=G[bn];let Tr=ae[bn];Tr=(0,qe.m9)(Tr);const pi=T.da(Vn);if(Tr instanceof Ru)we.push(Vn);else{const Ci=ud(Tr,pi);null!=Ci&&(we.push(Vn),Ye.set(Vn,Ci))}}const Pt=new Ir(we);return new ih(Ye,Pt,T.fieldTransforms)}function Oy(i,e,t,a=!1){return ud(t,i.ya(a?4:3,e))}function ud(i,e){if(hm(i=(0,qe.m9)(i)))return Dp("Unsupported field value:",e,i),dm(i,e);if(i instanceof Mu)return function(t,a){if(!Py(a.ca))throw a._a(`${t._methodName}() can only be used with update() and set()`);if(!a.path)throw a._a(`${t._methodName}() is not currently supported inside arrays`);const h=t._toFieldTransform(a);h&&a.fieldTransforms.push(h)}(i,e),null;if(void 0===i&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.la&&4!==e.ca)throw e._a("Nested arrays are not supported");return function(t,a){const h=[];let b=0;for(const T of t){let G=ud(T,a.wa(b));null==G&&(G={nullValue:"NULL_VALUE"}),h.push(G),b++}return{arrayValue:{values:h}}}(i,e)}return function(t,a){if(null===(t=(0,qe.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return Tf(a.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const h=Ks.fromDate(t);return{timestampValue:Cc(a.serializer,h)}}if(t instanceof Ks){const h=new Ks(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Cc(a.serializer,h)}}if(t instanceof Pu)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Yl)return{bytesValue:xd(a.serializer,t._byteString)};if(t instanceof da){const h=a.databaseId,b=t.firestore._databaseId;if(!b.isEqual(h))throw a._a(`Document reference is for database ${b.projectId}/${b.database} but should be for database ${h.projectId}/${h.database}`);return{referenceValue:Md(t.firestore._databaseId||a.databaseId,t._key.path)}}throw a._a(`Unsupported field value: ${sl(t)}`)}(i,e)}function dm(i,e){const t={};return Ri(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):fi(i,(a,h)=>{const b=ud(h,e.ha(a));null!=b&&(t[a]=b)}),{mapValue:{fields:t}}}function hm(i){return!("object"!=typeof i||null===i||i instanceof Array||i instanceof Date||i instanceof Ks||i instanceof Pu||i instanceof Yl||i instanceof da||i instanceof Mu)}function Dp(i,e,t){if(!hm(t)||"object"!=typeof(a=t)||null===a||Object.getPrototypeOf(a)!==Object.prototype&&null!==Object.getPrototypeOf(a)){const a=sl(t);throw e._a("an object"===a?i+" a custom object":i+" "+a)}var a}function gf(i,e,t){if((e=(0,qe.m9)(e))instanceof Pc)return e._internalPath;if("string"==typeof e)return Sp(i,e);throw mf("Field path arguments must be of type string or ",i,!1,void 0,t)}const Xv=new RegExp("[~\\*/\\[\\]]");function Sp(i,e,t){if(e.search(Xv)>=0)throw mf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,t);try{return new Pc(...e.split("."))._internalPath}catch{throw mf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,t)}}function mf(i,e,t,a,h){const b=a&&!a.isEmpty(),T=void 0!==h;let G=`Function ${e}() called with invalid data`;t&&(G+=" (via `toFirestore()`)"),G+=". ";let ae="";return(b||T)&&(ae+=" (found",b&&(ae+=` in field ${a}`),T&&(ae+=` in document ${h}`),ae+=")"),new Xn(Dn.INVALID_ARGUMENT,G+i+ae)}function Tp(i,e){return i.some(t=>t.isEqual(e))}class dd{constructor(e,t,a,h,b){this._firestore=e,this._userDataWriter=t,this._key=a,this._document=h,this._converter=b}get id(){return this._key.path.lastSegment()}get ref(){return new da(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Qv(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(hd("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class Qv extends dd{data(){return super.data()}}function hd(i,e){return"string"==typeof e?Sp(i,e):e instanceof Pc?e._internalPath:e._delegate._internalPath}function yf(i){if("L"===i.limitType&&0===i.explicitOrderBy.length)throw new Xn(Dn.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class vf{}class oh extends vf{}function Jv(i,e,...t){let a=[];e instanceof vf&&a.push(e),a=a.concat(t),function(h){const b=h.filter(G=>G instanceof Ou).length,T=h.filter(G=>G instanceof _f).length;if(b>1||b>0&&T>0)throw new Xn(Dn.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(a);for(const h of a)i=h._apply(i);return i}class _f extends oh{constructor(e,t,a){super(),this._field=e,this._op=t,this._value=a,this.type="where"}static _create(e,t,a){return new _f(e,t,a)}_apply(e){const t=this._parse(e);return ym(e._query,t),new Ua(e.firestore,e.converter,on(e._query,t))}_parse(e){const t=cd(e.firestore);return function(h,b,T,G,ae,we,Ye){let Pt;if(ae.isKeyField()){if("array-contains"===we||"array-contains-any"===we)throw new Xn(Dn.INVALID_ARGUMENT,`Invalid Query. You can't perform '${we}' queries on documentId().`);if("in"===we||"not-in"===we){Vy(Ye,we);const bn=[];for(const Vn of Ye)bn.push(mm(G,h,Vn));Pt={arrayValue:{values:bn}}}else Pt=mm(G,h,Ye)}else"in"!==we&&"not-in"!==we&&"array-contains-any"!==we||Vy(Ye,we),Pt=Oy(T,"where",Ye,"in"===we||"not-in"===we);return ho.create(ae,we,Pt)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}function e_(i,e,t){const a=e,h=hd("where",i);return _f._create(h,a,t)}class Ou extends vf{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Ou(e,t)}_parse(e){const t=this._queryConstraints.map(a=>a._parse(e)).filter(a=>a.getFilters().length>0);return 1===t.length?t[0]:Vo.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(a,h){let b=a;const T=h.getFlattenedFilters();for(const G of T)ym(b,G),b=on(b,G)}(e._query,t),new Ua(e.firestore,e.converter,on(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class Ap extends oh{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Ap(e,t)}_apply(e){const t=function(a,h,b){if(null!==a.startAt)throw new Xn(Dn.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==a.endAt)throw new Xn(Dn.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const T=new nc(h,b);return function(G,ae){if(null===C(G)){const we=x(G);null!==we&&vm(0,we,ae.field)}}(a,T),T}(e._query,this._field,this._direction);return new Ua(e.firestore,e.converter,function(a,h){const b=a.explicitOrderBy.concat([h]);return new qa(a.path,a.collectionGroup,b,a.filters.slice(),a.limit,a.limitType,a.startAt,a.endAt)}(e._query,t))}}function t_(i,e="asc"){const t=e,a=hd("orderBy",i);return Ap._create(a,t)}class xp extends oh{constructor(e,t,a){super(),this.type=e,this._limit=t,this._limitType=a}static _create(e,t,a){return new xp(e,t,a)}_apply(e){return new Ua(e.firestore,e.converter,xn(e._query,this._limit,this._limitType))}}function Fy(i){return hf("limit",i),xp._create("limit",i,"F")}function fm(i){return hf("limitToLast",i),xp._create("limitToLast",i,"L")}class bf extends oh{constructor(e,t,a){super(),this.type=e,this._docOrFields=t,this._inclusive=a}static _create(e,t,a){return new bf(e,t,a)}_apply(e){const t=gm(e,this.type,this._docOrFields,this._inclusive);return new Ua(e.firestore,e.converter,(h=t,new qa((a=e._query).path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),a.limit,a.limitType,h,a.endAt)));var a,h}}function pm(...i){return bf._create("startAt",i,!0)}function Ly(...i){return bf._create("startAfter",i,!1)}class Mp extends oh{constructor(e,t,a){super(),this.type=e,this._docOrFields=t,this._inclusive=a}static _create(e,t,a){return new Mp(e,t,a)}_apply(e){const t=gm(e,this.type,this._docOrFields,this._inclusive);return new Ua(e.firestore,e.converter,(h=t,new qa((a=e._query).path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),a.limit,a.limitType,a.startAt,h)));var a,h}}function By(...i){return Mp._create("endBefore",i,!1)}function $y(...i){return Mp._create("endAt",i,!0)}function gm(i,e,t,a){if(t[0]=(0,qe.m9)(t[0]),t[0]instanceof dd)return function(h,b,T,G,ae){if(!G)throw new Xn(Dn.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${T}().`);const we=[];for(const Ye of Ie(h))if(Ye.field.isKeyField())we.push(Jl(b,G.key));else{const Pt=G.data.field(Ye.field);if(Ca(Pt))throw new Xn(Dn.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+Ye.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===Pt){const bn=Ye.field.canonicalString();throw new Xn(Dn.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${bn}' (used as the orderBy) does not exist.`)}we.push(Pt)}return new va(we,ae)}(i._query,i.firestore._databaseId,e,t[0]._document,a);{const h=cd(i.firestore);return function(b,T,G,ae,we,Ye){const Pt=b.explicitOrderBy;if(we.length>Pt.length)throw new Xn(Dn.INVALID_ARGUMENT,`Too many arguments provided to ${ae}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const bn=[];for(let Vn=0;Vn<we.length;Vn++){const Tr=we[Vn];if(Pt[Vn].field.isKeyField()){if("string"!=typeof Tr)throw new Xn(Dn.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${ae}(), but got a ${typeof Tr}`);if(!W(b)&&-1!==Tr.indexOf("/"))throw new Xn(Dn.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${ae}() must be a plain document ID, but '${Tr}' contains a slash.`);const pi=b.path.child(ss.fromString(Tr));if(!gr.isDocumentKey(pi))throw new Xn(Dn.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${ae}() must result in a valid document path, but '${pi}' is not because it contains an odd number of segments.`);const Ci=new gr(pi);bn.push(Jl(T,Ci))}else{const pi=Oy(G,ae,Tr);bn.push(pi)}}return new va(bn,Ye)}(i._query,i.firestore._databaseId,h,e,t,a)}}function mm(i,e,t){if("string"==typeof(t=(0,qe.m9)(t))){if(""===t)throw new Xn(Dn.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!W(e)&&-1!==t.indexOf("/"))throw new Xn(Dn.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const a=e.path.child(ss.fromString(t));if(!gr.isDocumentKey(a))throw new Xn(Dn.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${a}' is not because it has an odd number of segments (${a.length}).`);return Jl(i,new gr(a))}if(t instanceof da)return Jl(i,t._key);throw new Xn(Dn.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${sl(t)}.`)}function Vy(i,e){if(!Array.isArray(i)||0===i.length)throw new Xn(Dn.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function ym(i,e){if(e.isInequality()){const a=x(i),h=e.field;if(null!==a&&!a.isEqual(h))throw new Xn(Dn.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${a.toString()}' and '${h.toString()}'`);const b=C(i);null!==b&&vm(0,h,b)}const t=function(a,h){for(const b of a)for(const T of b.getFlattenedFilters())if(h.indexOf(T.op)>=0)return T.op;return null}(i.filters,function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new Xn(Dn.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function vm(i,e,t){if(!t.isEqual(e))throw new Xn(Dn.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class Ef{convertValue(e,t="none"){switch(vl(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Cs(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(as(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Or()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const a={};return fi(e,(h,b)=>{a[h]=this.convertValue(b,t)}),a}convertGeoPoint(e){return new Pu(Cs(e.latitude),Cs(e.longitude))}convertArray(e,t){return(e.values||[]).map(a=>this.convertValue(a,t))}convertServerTimestamp(e,t){switch(t){case"previous":const a=Ba(e);return null==a?null:this.convertValue(a,t);case"estimate":return this.convertTimestamp($o(e));default:return null}}convertTimestamp(e){const t=vo(e);return new Ks(t.seconds,t.nanos)}convertDocumentKey(e,t){const a=ss.fromString(e);ii(hc(a));const h=new ra(a.get(1),a.get(3)),b=new gr(a.popFirst(5));return h.isEqual(t)||Bi(`Document ${b} contains a document reference within a different database (${h.projectId}/${h.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),b}}function wf(i,e,t){let a;return a=i?t&&(t.merge||t.mergeFields)?i.toFirestore(e,t):i.toFirestore(e):e,a}class Uy extends Ef{constructor(e){super(),this.firestore=e}convertBytes(e){return new Yl(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new da(this.firestore,null,t)}}class ku{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Rc extends dd{constructor(e,t,a,h,b,T){super(e,t,a,h,T),this._firestore=e,this._firestoreImpl=e,this.metadata=b}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new ql(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const a=this._document.data.field(hd("DocumentSnapshot.get",e));if(null!==a)return this._userDataWriter.convertValue(a,t.serverTimestamps)}}}class ql extends Rc{data(e={}){return super.data(e)}}class fd{constructor(e,t,a,h){this._firestore=e,this._userDataWriter=t,this._snapshot=h,this.metadata=new ku(h.hasPendingWrites,h.fromCache),this.query=a}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(a=>{e.call(t,new ql(this._firestore,this._userDataWriter,a.key,a,new ku(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Xn(Dn.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(a,h){if(a._snapshot.oldDocs.isEmpty()){let b=0;return a._snapshot.docChanges.map(T=>({type:"added",doc:new ql(a._firestore,a._userDataWriter,T.doc.key,T.doc,new ku(a._snapshot.mutatedKeys.has(T.doc.key),a._snapshot.fromCache),a.query.converter),oldIndex:-1,newIndex:b++}))}{let b=a._snapshot.oldDocs;return a._snapshot.docChanges.filter(T=>h||3!==T.type).map(T=>{const G=new ql(a._firestore,a._userDataWriter,T.doc.key,T.doc,new ku(a._snapshot.mutatedKeys.has(T.doc.key),a._snapshot.fromCache),a.query.converter);let ae=-1,we=-1;return 0!==T.type&&(ae=b.indexOf(T.doc.key),b=b.delete(T.doc.key)),1!==T.type&&(b=b.add(T.doc),we=b.indexOf(T.doc.key)),{type:o_(T.type),doc:G,oldIndex:ae,newIndex:we}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function o_(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Or()}}function _m(i,e){return i instanceof Rc&&e instanceof Rc?i._firestore===e._firestore&&i._key.isEqual(e._key)&&(null===i._document?null===e._document:i._document.isEqual(e._document))&&i._converter===e._converter:i instanceof fd&&e instanceof fd&&i._firestore===e._firestore&&xu(i.query,e.query)&&i.metadata.isEqual(e.metadata)&&i._snapshot.isEqual(e._snapshot)}function pd(i){i=so(i,da);const e=so(i.firestore,ma);return im(ja(e),i._key).then(t=>Rp(e,i,t))}class Oc extends Ef{constructor(e){super(),this.firestore=e}convertBytes(e){return new Yl(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new da(this.firestore,null,t)}}function a_(i){i=so(i,da);const e=so(i.firestore,ma),t=ja(e),a=new Oc(e);return function Vv(i,e){const t=new Yi;return i.asyncQueue.enqueueAndForget((0,d.Z)(function*(){return(a=(0,d.Z)(function*(h,b,T){try{const G=yield function(ae,we){const Ye=Bn(ae);return Ye.persistence.runTransaction("read document","readonly",Pt=>Ye.localDocuments.getDocument(Pt,we))}(h,b);G.isFoundDocument()?T.resolve(G):G.isNoDocument()?T.resolve(null):T.reject(new Xn(Dn.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(G){const ae=Kd(G,`Failed to get document '${b} from cache`);T.reject(ae)}}),function(h,b,T){return a.apply(this,arguments)})(yield _p(i),e,t);var a})),t.promise}(t,i._key).then(h=>new Rc(e,a,i._key,h,new ku(null!==h&&h.hasLocalMutations,!0),i.converter))}function bm(i){i=so(i,da);const e=so(i.firestore,ma);return im(ja(e),i._key,{source:"server"}).then(t=>Rp(e,i,t))}function I0(i){i=so(i,Ua);const e=so(i.firestore,ma),t=ja(e),a=new Oc(e);return yf(i._query),by(t,i._query).then(h=>new fd(e,a,i,h))}function C0(i){i=so(i,Ua);const e=so(i.firestore,ma),t=ja(e),a=new Oc(e);return function _y(i,e){const t=new Yi;return i.asyncQueue.enqueueAndForget((0,d.Z)(function*(){return(a=(0,d.Z)(function*(h,b,T){try{const G=yield jh(h,b,!0),ae=new Ag(b,G.ir),we=ae.sc(G.documents),Ye=ae.applyChanges(we,!1);T.resolve(Ye.snapshot)}catch(G){const ae=Kd(G,`Failed to execute query '${b} against cache`);T.reject(ae)}}),function(h,b,T){return a.apply(this,arguments)})(yield _p(i),e,t);var a})),t.promise}(t,i._query).then(h=>new fd(e,a,i,h))}function l_(i){i=so(i,Ua);const e=so(i.firestore,ma),t=ja(e),a=new Oc(e);return by(t,i._query,{source:"server"}).then(h=>new fd(e,a,i,h))}function c_(i,e,t){i=so(i,da);const a=so(i.firestore,ma),h=wf(i.converter,e,t);return ah(a,[sh(cd(a),"setDoc",i._key,h,null!==i.converter,t).toMutation(i._key,pa.none())])}function zy(i,e,t,...a){i=so(i,da);const h=so(i.firestore,ma),b=cd(h);let T;return T="string"==typeof(e=(0,qe.m9)(e))||e instanceof Pc?Cp(b,"updateDoc",i._key,e,t,a):um(b,"updateDoc",i._key,e),ah(h,[T.toMutation(i._key,pa.exists(!0))])}function u_(i){return ah(so(i.firestore,ma),[new wc(i._key,pa.none())])}function ol(i,e){const t=so(i.firestore,ma),a=ld(i),h=wf(i.converter,e);return ah(t,[sh(cd(i.firestore),"addDoc",a._key,h,null!==i.converter,{}).toMutation(a._key,pa.exists(!1))]).then(()=>a)}function Hy(i,...e){var t,a,h;i=(0,qe.m9)(i);let b={includeMetadataChanges:!1},T=0;"object"!=typeof e[T]||wp(e[T])||(b=e[T],T++);const G={includeMetadataChanges:b.includeMetadataChanges};if(wp(e[T])){const Pt=e[T];e[T]=null===(t=Pt.next)||void 0===t?void 0:t.bind(Pt),e[T+1]=null===(a=Pt.error)||void 0===a?void 0:a.bind(Pt),e[T+2]=null===(h=Pt.complete)||void 0===h?void 0:h.bind(Pt)}let ae,we,Ye;if(i instanceof da)we=so(i.firestore,ma),Ye=Hl(i._key.path),ae={next:Pt=>{e[T]&&e[T](Rp(we,i,Pt))},error:e[T+1],complete:e[T+2]};else{const Pt=so(i,Ua);we=so(Pt.firestore,ma),Ye=Pt._query;const bn=new Oc(we);ae={next:Vn=>{e[T]&&e[T](new fd(we,bn,Pt,Vn))},error:e[T+1],complete:e[T+2]},yf(i._query)}return function(Pt,bn,Vn,Tr){const pi=new cf(Tr),Ci=new Sg(bn,pi,Vn);return Pt.asyncQueue.enqueueAndForget((0,d.Z)(function*(){return Jh(yield Jd(Pt),Ci)})),()=>{pi.Dc(),Pt.asyncQueue.enqueueAndForget((0,d.Z)(function*(){return tf(yield Jd(Pt),Ci)}))}}(ja(we),Ye,G,ae)}function d_(i,e){return function y0(i,e){const t=new cf(e);return i.asyncQueue.enqueueAndForget((0,d.Z)(function*(){return a=yield Jd(i),h=t,Bn(a).ku.add(h),void h.next();var a,h})),()=>{t.Dc(),i.asyncQueue.enqueueAndForget((0,d.Z)(function*(){return a=yield Jd(i),h=t,void Bn(a).ku.delete(h);var a,h}))}}(ja(i=so(i,ma)),wp(e)?e:{next:e})}function ah(i,e){return function(t,a){const h=new Yi;return t.asyncQueue.enqueueAndForget((0,d.Z)(function*(){return function Av(i,e,t){return Pg.apply(this,arguments)}(yield nm(t),a,h)})),h.promise}(ja(i),e)}function Rp(i,e,t){const a=t.docs.get(e._key),h=new Oc(i);return new Rc(i,h,e._key,a,new ku(t.hasPendingWrites,t.fromCache),e.converter)}const m_={maxAttempts:5};class gc{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=cd(e)}set(e,t,a){this._verifyNotCommitted();const h=ul(e,this._firestore),b=wf(h.converter,t,a),T=sh(this._dataReader,"WriteBatch.set",h._key,b,null!==h.converter,a);return this._mutations.push(T.toMutation(h._key,pa.none())),this}update(e,t,a,...h){this._verifyNotCommitted();const b=ul(e,this._firestore);let T;return T="string"==typeof(t=(0,qe.m9)(t))||t instanceof Pc?Cp(this._dataReader,"WriteBatch.update",b._key,t,a,h):um(this._dataReader,"WriteBatch.update",b._key,t),this._mutations.push(T.toMutation(b._key,pa.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=ul(e,this._firestore);return this._mutations=this._mutations.concat(new wc(t._key,pa.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Xn(Dn.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function ul(i,e){if((i=(0,qe.m9)(i)).firestore!==e)throw new Xn(Dn.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return i}class mc extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=cd(e)}get(e){const t=ul(e,this._firestore),a=new Uy(this._firestore);return this._transaction.lookup([t._key]).then(h=>{if(!h||1!==h.length)return Or();const b=h[0];if(b.isFoundDocument())return new dd(this._firestore,a,b.key,b,t.converter);if(b.isNoDocument())return new dd(this._firestore,a,t._key,null,t.converter);throw Or()})}set(e,t,a){const h=ul(e,this._firestore),b=wf(h.converter,t,a),T=sh(this._dataReader,"Transaction.set",h._key,b,null!==h.converter,a);return this._transaction.set(h._key,T),this}update(e,t,a,...h){const b=ul(e,this._firestore);let T;return T="string"==typeof(t=(0,qe.m9)(t))||t instanceof Pc?Cp(this._dataReader,"Transaction.update",b._key,t,a,h):um(this._dataReader,"Transaction.update",b._key,t),this._transaction.update(b._key,T),this}delete(e){const t=ul(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=ul(e,this._firestore),a=new Oc(this._firestore);return super.get(e).then(h=>new Rc(this._firestore,a,t._key,h._document,new ku(!1,!1),t.converter))}}function Yy(i,e,t){i=so(i,ma);const a=Object.assign(Object.assign({},m_),t);return function(h){if(h.maxAttempts<1)throw new Xn(Dn.INVALID_ARGUMENT,"Max attempts must be at least 1")}(a),function(h,b,T){const G=new Yi;return h.asyncQueue.enqueueAndForget((0,d.Z)(function*(){const ae=yield function vy(i){return mp(i).then(e=>e.datastore)}(h);new uf(h.asyncQueue,ae,T,b,G).run()})),G.promise}(ja(i),h=>e(new mc(i,h)),a)}function qy(){return new Ru("deleteField")}function y_(){return new Ry("serverTimestamp")}function v_(...i){return new qv("arrayUnion",i)}function __(...i){return new Zv("arrayRemove",i)}function b_(i){return new cm("increment",i)}!function(i,e=!0){Li=E.SDK_VERSION,(0,E._registerComponent)(new be.wA("firestore",(t,{instanceIdentifier:a,options:h})=>{const b=t.getProvider("app").getImmediate(),T=new ma(new dl(t.getProvider("auth-internal")),new yl(t.getProvider("app-check-internal")),function(G,ae){if(!Object.prototype.hasOwnProperty.apply(G.options,["projectId"]))throw new Xn(Dn.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ra(G.options.projectId,ae)}(b,a),b);return h=Object.assign({useFetchStreams:e},h),T._setSettings(h),T},"PUBLIC").setMultipleInstances(!0)),(0,E.registerVersion)(Gi,"3.12.0",i),(0,E.registerVersion)(Gi,"3.12.0","esm2017")}()},2090:(Jn,Ft,z)=>{"use strict";z.d(Ft,{$s:()=>Hn,BH:()=>St,DV:()=>an,Dv:()=>ni,G6:()=>et,GJ:()=>un,L:()=>Ze,LL:()=>rn,P0:()=>Mt,Pz:()=>It,Sg:()=>Ct,UG:()=>Gt,UI:()=>Br,US:()=>je,Wj:()=>br,Wl:()=>cn,Yr:()=>yt,ZB:()=>it,ZR:()=>en,aH:()=>ft,b$:()=>qt,cI:()=>_t,dS:()=>Di,eu:()=>dt,g5:()=>be,gK:()=>di,gQ:()=>bi,h$:()=>Re,hl:()=>tt,hu:()=>E,jU:()=>Dt,lb:()=>hr,m9:()=>Rr,ne:()=>lr,p$:()=>xe,pd:()=>Ai,q4:()=>kt,r3:()=>rr,ru:()=>Lt,tV:()=>Le,uI:()=>te,ug:()=>Er,vZ:()=>Ar,w1:()=>Je,w9:()=>ur,xO:()=>Wr,xb:()=>Pr,z$:()=>gt,zI:()=>Ut,zd:()=>ar});const d={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},E=function(mt,Ae){if(!mt)throw be(Ae)},be=function(mt){return new Error("Firebase Database ("+d.SDK_VERSION+") INTERNAL ASSERT FAILED: "+mt)},ke=function(mt){const Ae=[];let ie=0;for(let ee=0;ee<mt.length;ee++){let se=mt.charCodeAt(ee);se<128?Ae[ie++]=se:se<2048?(Ae[ie++]=se>>6|192,Ae[ie++]=63&se|128):55296==(64512&se)&&ee+1<mt.length&&56320==(64512&mt.charCodeAt(ee+1))?(se=65536+((1023&se)<<10)+(1023&mt.charCodeAt(++ee)),Ae[ie++]=se>>18|240,Ae[ie++]=se>>12&63|128,Ae[ie++]=se>>6&63|128,Ae[ie++]=63&se|128):(Ae[ie++]=se>>12|224,Ae[ie++]=se>>6&63|128,Ae[ie++]=63&se|128)}return Ae},je={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(mt,Ae){if(!Array.isArray(mt))throw Error("encodeByteArray takes an array as a parameter");this.init_();const ie=Ae?this.byteToCharMapWebSafe_:this.byteToCharMap_,ee=[];for(let se=0;se<mt.length;se+=3){const Ke=mt[se],xt=se+1<mt.length,rt=xt?mt[se+1]:0,Vt=se+2<mt.length,Jt=Vt?mt[se+2]:0;let $n=(15&rt)<<2|Jt>>6,ln=63&Jt;Vt||(ln=64,xt||($n=64)),ee.push(ie[Ke>>2],ie[(3&Ke)<<4|rt>>4],ie[$n],ie[ln])}return ee.join("")},encodeString(mt,Ae){return this.HAS_NATIVE_SUPPORT&&!Ae?btoa(mt):this.encodeByteArray(ke(mt),Ae)},decodeString(mt,Ae){return this.HAS_NATIVE_SUPPORT&&!Ae?atob(mt):function(mt){const Ae=[];let ie=0,ee=0;for(;ie<mt.length;){const se=mt[ie++];if(se<128)Ae[ee++]=String.fromCharCode(se);else if(se>191&&se<224){const Ke=mt[ie++];Ae[ee++]=String.fromCharCode((31&se)<<6|63&Ke)}else if(se>239&&se<365){const Vt=((7&se)<<18|(63&mt[ie++])<<12|(63&mt[ie++])<<6|63&mt[ie++])-65536;Ae[ee++]=String.fromCharCode(55296+(Vt>>10)),Ae[ee++]=String.fromCharCode(56320+(1023&Vt))}else{const Ke=mt[ie++],xt=mt[ie++];Ae[ee++]=String.fromCharCode((15&se)<<12|(63&Ke)<<6|63&xt)}}return Ae.join("")}(this.decodeStringToByteArray(mt,Ae))},decodeStringToByteArray(mt,Ae){this.init_();const ie=Ae?this.charToByteMapWebSafe_:this.charToByteMap_,ee=[];for(let se=0;se<mt.length;){const Ke=ie[mt.charAt(se++)],rt=se<mt.length?ie[mt.charAt(se)]:0;++se;const Jt=se<mt.length?ie[mt.charAt(se)]:64;++se;const vn=se<mt.length?ie[mt.charAt(se)]:64;if(++se,null==Ke||null==rt||null==Jt||null==vn)throw new Se;ee.push(Ke<<2|rt>>4),64!==Jt&&(ee.push(rt<<4&240|Jt>>2),64!==vn&&ee.push(Jt<<6&192|vn))}return ee},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let mt=0;mt<this.ENCODED_VALS.length;mt++)this.byteToCharMap_[mt]=this.ENCODED_VALS.charAt(mt),this.charToByteMap_[this.byteToCharMap_[mt]]=mt,this.byteToCharMapWebSafe_[mt]=this.ENCODED_VALS_WEBSAFE.charAt(mt),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[mt]]=mt,mt>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(mt)]=mt,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(mt)]=mt)}}};class Se extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Re=function(mt){const Ae=ke(mt);return je.encodeByteArray(Ae,!0)},Ze=function(mt){return Re(mt).replace(/\./g,"")},Le=function(mt){try{return je.decodeString(mt,!0)}catch(Ae){console.error("base64Decode failed: ",Ae)}return null};function xe(mt){return it(void 0,mt)}function it(mt,Ae){if(!(Ae instanceof Object))return Ae;switch(Ae.constructor){case Date:return new Date(Ae.getTime());case Object:void 0===mt&&(mt={});break;case Array:mt=[];break;default:return Ae}for(const ie in Ae)!Ae.hasOwnProperty(ie)||!Me(ie)||(mt[ie]=it(mt[ie],Ae[ie]));return mt}function Me(mt){return"__proto__"!==mt}const Be=()=>{try{return function lt(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const mt=process.env.__FIREBASE_DEFAULTS__;return mt?JSON.parse(mt):void 0})()||(()=>{if(typeof document>"u")return;let mt;try{mt=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const Ae=mt&&Le(mt[1]);return Ae&&JSON.parse(Ae)})()}catch(mt){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${mt}`)}},kt=mt=>{var Ae,ie;return null===(ie=null===(Ae=Be())||void 0===Ae?void 0:Ae.emulatorHosts)||void 0===ie?void 0:ie[mt]},Mt=mt=>{const Ae=kt(mt);if(!Ae)return;const ie=Ae.lastIndexOf(":");if(ie<=0||ie+1===Ae.length)throw new Error(`Invalid host ${Ae} with no separate hostname and port!`);const ee=parseInt(Ae.substring(ie+1),10);return"["===Ae[0]?[Ae.substring(1,ie-1),ee]:[Ae.substring(0,ie),ee]},ft=()=>{var mt;return null===(mt=Be())||void 0===mt?void 0:mt.config},It=mt=>{var Ae;return null===(Ae=Be())||void 0===Ae?void 0:Ae[`_${mt}`]};class St{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((Ae,ie)=>{this.resolve=Ae,this.reject=ie})}wrapCallback(Ae){return(ie,ee)=>{ie?this.reject(ie):this.resolve(ee),"function"==typeof Ae&&(this.promise.catch(()=>{}),1===Ae.length?Ae(ie):Ae(ie,ee))}}}function Ct(mt,Ae){if(mt.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const ee=Ae||"demo-project",se=mt.iat||0,Ke=mt.sub||mt.user_id;if(!Ke)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const xt=Object.assign({iss:`https://securetoken.google.com/${ee}`,aud:ee,iat:se,exp:se+3600,auth_time:se,sub:Ke,user_id:Ke,firebase:{sign_in_provider:"custom",identities:{}}},mt);return[Ze(JSON.stringify({alg:"none",type:"JWT"})),Ze(JSON.stringify(xt)),""].join(".")}function gt(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function te(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(gt())}function Gt(){var mt;const Ae=null===(mt=Be())||void 0===mt?void 0:mt.forceEnvironment;if("node"===Ae)return!0;if("browser"===Ae)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function Dt(){return"object"==typeof self&&self.self===self}function Lt(){const mt="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof mt&&void 0!==mt.id}function qt(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Je(){const mt=gt();return mt.indexOf("MSIE ")>=0||mt.indexOf("Trident/")>=0}function yt(){return!0===d.NODE_CLIENT||!0===d.NODE_ADMIN}function et(){return!Gt()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function tt(){try{return"object"==typeof indexedDB}catch{return!1}}function dt(){return new Promise((mt,Ae)=>{try{let ie=!0;const ee="validate-browser-context-for-indexeddb-analytics-module",se=self.indexedDB.open(ee);se.onsuccess=()=>{se.result.close(),ie||self.indexedDB.deleteDatabase(ee),mt(!0)},se.onupgradeneeded=()=>{ie=!1},se.onerror=()=>{var Ke;Ae((null===(Ke=se.error)||void 0===Ke?void 0:Ke.message)||"")}}catch(ie){Ae(ie)}})}function Ut(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class en extends Error{constructor(Ae,ie,ee){super(ie),this.code=Ae,this.customData=ee,this.name="FirebaseError",Object.setPrototypeOf(this,en.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,rn.prototype.create)}}class rn{constructor(Ae,ie,ee){this.service=Ae,this.serviceName=ie,this.errors=ee}create(Ae,...ie){const ee=ie[0]||{},se=`${this.service}/${Ae}`,Ke=this.errors[Ae],xt=Ke?function On(mt,Ae){return mt.replace(nn,(ie,ee)=>{const se=Ae[ee];return null!=se?String(se):`<${ee}?>`})}(Ke,ee):"Error";return new en(se,`${this.serviceName}: ${xt} (${se}).`,ee)}}const nn=/\{\$([^}]+)}/g;function _t(mt){return JSON.parse(mt)}function cn(mt){return JSON.stringify(mt)}const gn=function(mt){let Ae={},ie={},ee={},se="";try{const Ke=mt.split(".");Ae=_t(Le(Ke[0])||""),ie=_t(Le(Ke[1])||""),se=Ke[2],ee=ie.d||{},delete ie.d}catch{}return{header:Ae,claims:ie,data:ee,signature:se}},ur=function(mt){const ie=gn(mt).claims;return!!ie&&"object"==typeof ie&&ie.hasOwnProperty("iat")},un=function(mt){const Ae=gn(mt).claims;return"object"==typeof Ae&&!0===Ae.admin};function rr(mt,Ae){return Object.prototype.hasOwnProperty.call(mt,Ae)}function an(mt,Ae){if(Object.prototype.hasOwnProperty.call(mt,Ae))return mt[Ae]}function Pr(mt){for(const Ae in mt)if(Object.prototype.hasOwnProperty.call(mt,Ae))return!1;return!0}function Br(mt,Ae,ie){const ee={};for(const se in mt)Object.prototype.hasOwnProperty.call(mt,se)&&(ee[se]=Ae.call(ie,mt[se],se,mt));return ee}function Ar(mt,Ae){if(mt===Ae)return!0;const ie=Object.keys(mt),ee=Object.keys(Ae);for(const se of ie){if(!ee.includes(se))return!1;const Ke=mt[se],xt=Ae[se];if(Pn(Ke)&&Pn(xt)){if(!Ar(Ke,xt))return!1}else if(Ke!==xt)return!1}for(const se of ee)if(!ie.includes(se))return!1;return!0}function Pn(mt){return null!==mt&&"object"==typeof mt}function Wr(mt){const Ae=[];for(const[ie,ee]of Object.entries(mt))Array.isArray(ee)?ee.forEach(se=>{Ae.push(encodeURIComponent(ie)+"="+encodeURIComponent(se))}):Ae.push(encodeURIComponent(ie)+"="+encodeURIComponent(ee));return Ae.length?"&"+Ae.join("&"):""}function ar(mt){const Ae={};return mt.replace(/^\?/,"").split("&").forEach(ee=>{if(ee){const[se,Ke]=ee.split("=");Ae[decodeURIComponent(se)]=decodeURIComponent(Ke)}}),Ae}function Ai(mt){const Ae=mt.indexOf("?");if(!Ae)return"";const ie=mt.indexOf("#",Ae);return mt.substring(Ae,ie>0?ie:void 0)}class bi{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let Ae=1;Ae<this.blockSize;++Ae)this.pad_[Ae]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(Ae,ie){ie||(ie=0);const ee=this.W_;if("string"==typeof Ae)for(let vn=0;vn<16;vn++)ee[vn]=Ae.charCodeAt(ie)<<24|Ae.charCodeAt(ie+1)<<16|Ae.charCodeAt(ie+2)<<8|Ae.charCodeAt(ie+3),ie+=4;else for(let vn=0;vn<16;vn++)ee[vn]=Ae[ie]<<24|Ae[ie+1]<<16|Ae[ie+2]<<8|Ae[ie+3],ie+=4;for(let vn=16;vn<80;vn++){const $n=ee[vn-3]^ee[vn-8]^ee[vn-14]^ee[vn-16];ee[vn]=4294967295&($n<<1|$n>>>31)}let Jt,Cn,se=this.chain_[0],Ke=this.chain_[1],xt=this.chain_[2],rt=this.chain_[3],Vt=this.chain_[4];for(let vn=0;vn<80;vn++){vn<40?vn<20?(Jt=rt^Ke&(xt^rt),Cn=1518500249):(Jt=Ke^xt^rt,Cn=1859775393):vn<60?(Jt=Ke&xt|rt&(Ke|xt),Cn=2400959708):(Jt=Ke^xt^rt,Cn=3395469782);const $n=(se<<5|se>>>27)+Jt+Vt+Cn+ee[vn]&4294967295;Vt=rt,rt=xt,xt=4294967295&(Ke<<30|Ke>>>2),Ke=se,se=$n}this.chain_[0]=this.chain_[0]+se&4294967295,this.chain_[1]=this.chain_[1]+Ke&4294967295,this.chain_[2]=this.chain_[2]+xt&4294967295,this.chain_[3]=this.chain_[3]+rt&4294967295,this.chain_[4]=this.chain_[4]+Vt&4294967295}update(Ae,ie){if(null==Ae)return;void 0===ie&&(ie=Ae.length);const ee=ie-this.blockSize;let se=0;const Ke=this.buf_;let xt=this.inbuf_;for(;se<ie;){if(0===xt)for(;se<=ee;)this.compress_(Ae,se),se+=this.blockSize;if("string"==typeof Ae){for(;se<ie;)if(Ke[xt]=Ae.charCodeAt(se),++xt,++se,xt===this.blockSize){this.compress_(Ke),xt=0;break}}else for(;se<ie;)if(Ke[xt]=Ae[se],++xt,++se,xt===this.blockSize){this.compress_(Ke),xt=0;break}}this.inbuf_=xt,this.total_+=ie}digest(){const Ae=[];let ie=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let se=this.blockSize-1;se>=56;se--)this.buf_[se]=255&ie,ie/=256;this.compress_(this.buf_);let ee=0;for(let se=0;se<5;se++)for(let Ke=24;Ke>=0;Ke-=8)Ae[ee]=this.chain_[se]>>Ke&255,++ee;return Ae}}function lr(mt,Ae){const ie=new ir(mt,Ae);return ie.subscribe.bind(ie)}class ir{constructor(Ae,ie){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=ie,this.task.then(()=>{Ae(this)}).catch(ee=>{this.error(ee)})}next(Ae){this.forEachObserver(ie=>{ie.next(Ae)})}error(Ae){this.forEachObserver(ie=>{ie.error(Ae)}),this.close(Ae)}complete(){this.forEachObserver(Ae=>{Ae.complete()}),this.close()}subscribe(Ae,ie,ee){let se;if(void 0===Ae&&void 0===ie&&void 0===ee)throw new Error("Missing Observer.");se=function ui(mt,Ae){if("object"!=typeof mt||null===mt)return!1;for(const ie of Ae)if(ie in mt&&"function"==typeof mt[ie])return!0;return!1}(Ae,["next","error","complete"])?Ae:{next:Ae,error:ie,complete:ee},void 0===se.next&&(se.next=gi),void 0===se.error&&(se.error=gi),void 0===se.complete&&(se.complete=gi);const Ke=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?se.error(this.finalError):se.complete()}catch{}}),this.observers.push(se),Ke}unsubscribeOne(Ae){void 0===this.observers||void 0===this.observers[Ae]||(delete this.observers[Ae],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(Ae){if(!this.finalized)for(let ie=0;ie<this.observers.length;ie++)this.sendOne(ie,Ae)}sendOne(Ae,ie){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[Ae])try{ie(this.observers[Ae])}catch(ee){typeof console<"u"&&console.error&&console.error(ee)}})}close(Ae){this.finalized||(this.finalized=!0,void 0!==Ae&&(this.finalError=Ae),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function gi(){}const ni=function(mt,Ae,ie,ee){let se;if(ee<Ae?se="at least "+Ae:ee>ie&&(se=0===ie?"none":"no more than "+ie),se)throw new Error(mt+" failed: Was called with "+ee+(1===ee?" argument.":" arguments.")+" Expects "+se+".")};function di(mt,Ae){return`${mt} failed: ${Ae} argument `}function br(mt,Ae,ie,ee){if((!ee||ie)&&"function"!=typeof ie)throw new Error(di(mt,Ae)+"must be a valid function.")}function hr(mt,Ae,ie,ee){if((!ee||ie)&&("object"!=typeof ie||null===ie))throw new Error(di(mt,Ae)+"must be a valid context object.")}const Di=function(mt){const Ae=[];let ie=0;for(let ee=0;ee<mt.length;ee++){let se=mt.charCodeAt(ee);if(se>=55296&&se<=56319){const Ke=se-55296;ee++,E(ee<mt.length,"Surrogate pair missing trail surrogate."),se=65536+(Ke<<10)+(mt.charCodeAt(ee)-56320)}se<128?Ae[ie++]=se:se<2048?(Ae[ie++]=se>>6|192,Ae[ie++]=63&se|128):se<65536?(Ae[ie++]=se>>12|224,Ae[ie++]=se>>6&63|128,Ae[ie++]=63&se|128):(Ae[ie++]=se>>18|240,Ae[ie++]=se>>12&63|128,Ae[ie++]=se>>6&63|128,Ae[ie++]=63&se|128)}return Ae},Er=function(mt){let Ae=0;for(let ie=0;ie<mt.length;ie++){const ee=mt.charCodeAt(ie);ee<128?Ae++:ee<2048?Ae+=2:ee>=55296&&ee<=56319?(Ae+=4,ie++):Ae+=3}return Ae},Ne=1e3,ht=2,Wt=144e5,wn=.5;function Hn(mt,Ae=Ne,ie=ht){const ee=Ae*Math.pow(ie,mt),se=Math.round(wn*ee*(Math.random()-.5)*2);return Math.min(Wt,ee+se)}function Rr(mt){return mt&&mt._delegate?mt._delegate:mt}},8490:(Jn,Ft,z)=>{"use strict";z.d(Ft,{V1:()=>Le});var xe,d=z(8261),E=(xe=function(it,Me){return(xe=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(lt,pt){lt.__proto__=pt}||function(lt,pt){for(var jt in pt)Object.prototype.hasOwnProperty.call(pt,jt)&&(lt[jt]=pt[jt])})(it,Me)},function(it,Me){function lt(){this.constructor=it}xe(it,Me),it.prototype=null===Me?Object.create(Me):(lt.prototype=Me.prototype,new lt)}),Ze=function(xe){function it(){var Me=null!==xe&&xe.apply(this,arguments)||this;return Me.DestinationType={DATA_URL:0,FILE_URI:1,NATIVE_URI:2},Me.EncodingType={JPEG:0,PNG:1},Me.MediaType={PICTURE:0,VIDEO:1,ALLMEDIA:2},Me.PictureSourceType={PHOTOLIBRARY:0,CAMERA:1,SAVEDPHOTOALBUM:2},Me.PopoverArrowDirection={ARROW_UP:1,ARROW_DOWN:2,ARROW_LEFT:4,ARROW_RIGHT:8,ARROW_ANY:15},Me.Direction={BACK:0,FRONT:1},Me}return E(it,xe),it.prototype.getPicture=function(Me){return(0,d.DM)(this,"getPicture",{callbackOrder:"reverse"},arguments)},it.prototype.cleanup=function(){return(0,d.DM)(this,"cleanup",{platforms:["iOS"]},arguments)},it.pluginName="Camera",it.plugin="cordova-plugin-camera",it.pluginRef="navigator.camera",it.repo="https://github.com/apache/cordova-plugin-camera",it.platforms=["Android","Browser","iOS","Windows"],it}(d.KY),Le=new Ze},8261:(Jn,Ft,z)=>{"use strict";z.d(Ft,{KY:()=>Ct,DM:()=>gt,J2:()=>Lt,Iq:()=>qt});var E=z(9751),be=z(4968),ke={error:"cordova_not_available"},qe={error:"plugin_not_installed"};function je(Te){if(typeof window<"u"&&window.angular){var ct=window.document,yt=window.angular.element(ct.querySelector("[ng-app]")||ct.body).injector();if(yt)return yt.get("$q")(function(tt,dt){Te(tt,dt)});console.warn("Angular 1 was detected but $q couldn't be retrieved. This is usually when the app is not bootstrapped on the html or body tag. Falling back to native promises which won't trigger an automatic digest when promises resolve.")}return function(){if(Promise)return new Promise(function(tt,dt){Te(tt,dt)});console.error("No Promise support or polyfill found. To enable Ionic Native support, please add the es6-promise polyfill before this script, or run with a library like Angular or on a recent browser.")}()}function xe(Te,Je,ct){var yt,et,tt;return"string"==typeof Te?yt=Te:(yt=Te.constructor.getPluginRef(),ct=Te.constructor.getPluginName(),tt=Te.constructor.getPluginInstallName()),!(!(et=jt(yt))||Je&&typeof et[Je]>"u")||(typeof window>"u"||!window.cordova?(function kt(Te,Je){typeof process>"u"&&console.warn(Je?"Native: tried calling "+Te+"."+Je+", but Cordova is not available. Make sure to include cordova.js or run in a device/simulator":"Native: tried accessing the "+Te+" plugin but Cordova is not available. Make sure to include cordova.js or run in a device/simulator")}(ct,Je),ke):(function Be(Te,Je,ct){console.warn(ct?"Native: tried calling "+Te+"."+ct+", but the "+Te+" plugin is not installed.":"Native: tried accessing the "+Te+" plugin but it's not installed."),Je&&console.warn("Install the "+Te+" plugin: 'ionic cordova plugin add "+Je+"'")}(ct,tt,Je),qe))}function lt(Te,Je,ct,yt,et,tt){void 0===yt&&(yt={}),ct=function Me(Te,Je,ct,yt){if(void 0===Je&&(Je={}),Je.sync)return Te;if("reverse"===Je.callbackOrder)Te.unshift(yt),Te.unshift(ct);else if("node"===Je.callbackStyle)Te.push(function(Ut,Ot){Ut?yt(Ut):ct(Ot)});else if("object"===Je.callbackStyle&&Je.successName&&Je.errorName){var et={};et[Je.successName]=ct,et[Je.errorName]=yt,Te.push(et)}else if(typeof Je.successIndex<"u"||typeof Je.errorIndex<"u"){var tt=function(){Je.successIndex>Te.length?Te[Je.successIndex]=ct:Te.splice(Je.successIndex,0,ct)},dt=function(){Je.errorIndex>Te.length?Te[Je.errorIndex]=yt:Te.splice(Je.errorIndex,0,yt)};Je.successIndex>Je.errorIndex?(dt(),tt()):(tt(),dt())}else Te.push(ct),Te.push(yt);return Te}(ct,yt,et,tt);var dt=xe(Te,Je);if(!0===dt){var Ut=jt(Te.constructor.getPluginRef());return Ut[Je].apply(Ut,ct)}return dt}function jt(Te){return typeof window<"u"?We(window,Te):null}function We(Te,Je){for(var ct=Je.split("."),yt=Te,et=0;et<ct.length;et++){if(!yt)return null;yt=yt[ct[et]]}return yt}var Mt=function(Te,Je,ct){return void 0===ct&&(ct={}),function(){for(var yt=[],et=0;et<arguments.length;et++)yt[et]=arguments[et];return ct.sync?lt(Te,Je,yt,ct):ct.observable?function Ze(Te,Je,ct,yt){return void 0===yt&&(yt={}),new E.y(function(et){var tt;return tt=yt.destruct?lt(Te,Je,ct,yt,function(){for(var dt=[],Ut=0;Ut<arguments.length;Ut++)dt[Ut]=arguments[Ut];return et.next(dt)},function(){for(var dt=[],Ut=0;Ut<arguments.length;Ut++)dt[Ut]=arguments[Ut];return et.error(dt)}):lt(Te,Je,ct,yt,et.next.bind(et),et.error.bind(et)),tt&&tt.error&&(et.error(tt.error),et.complete()),function(){try{if(yt.clearFunction)return yt.clearWithArgs?lt(Te,yt.clearFunction,ct,yt,et.next.bind(et),et.error.bind(et)):lt(Te,yt.clearFunction,[])}catch(dt){console.warn("Unable to clear the previous observable watch for",Te.constructor.getPluginName(),Je),console.warn(dt)}}})}(Te,Je,yt,ct):ct.eventObservable&&ct.event?function Le(Te,Je){return Je=typeof window<"u"&&Je?We(window,Je):Je||(typeof window<"u"?window:{}),(0,be.R)(Je,Te)}(ct.event,ct.element):ct.otherPromise?function Re(Te,Je,ct,yt){return void 0===yt&&(yt={}),je(function(et,tt){var dt=lt(Te,Je,ct,yt);dt?dt.error?tt(dt.error):dt.then&&dt.then(et).catch(tt):tt({error:"unexpected_error"})})}(Te,Je,yt,ct):function Se(Te,Je,ct,yt){void 0===yt&&(yt={});var et,tt,dt=je(function(Ut,Ot){et=yt.destruct?lt(Te,Je,ct,yt,function(){for(var en=[],rn=0;rn<arguments.length;rn++)en[rn]=arguments[rn];return Ut(en)},function(){for(var en=[],rn=0;rn<arguments.length;rn++)en[rn]=arguments[rn];return Ot(en)}):lt(Te,Je,ct,yt,Ut,Ot),tt=Ot});return et&&et.error&&(dt.catch(function(){}),"function"==typeof tt&&tt(et.error)),dt}(Te,Je,yt,ct)}},Ct=function(){function Te(){}return Te.installed=function(){return!0===xe(this.pluginRef)},Te.getPlugin=function(){return typeof window<"u"?function It(Te,Je){for(var ct=Je.split("."),yt=Te,et=0;et<ct.length;et++){if(!yt)return null;yt=yt[ct[et]]}return yt}(window,this.pluginRef):null},Te.getPluginName=function(){return this.pluginName},Te.getPluginRef=function(){return this.pluginRef},Te.getPluginInstallName=function(){return this.plugin},Te.getSupportedPlatforms=function(){return this.platforms},Te.pluginName="",Te.pluginRef="",Te.plugin="",Te.repo="",Te.platforms=[],Te.install="",Te}();function gt(Te,Je,ct,yt){return Mt(Te,Je,ct).apply(this,yt)}function Lt(Te,Je){return!0===xe(Te,Je)?jt(Te.constructor.getPluginRef())[Je]:null}function qt(Te,Je,ct){!0===xe(Te,Je)&&(jt(Te.constructor.getPluginRef())[Je]=ct)}!function d(){if(typeof process>"u"){var Te=typeof window<"u"?window:{},ct=Date.now(),yt=!1;Te.document.addEventListener("deviceready",function(){console.log("Ionic Native: deviceready event fired after "+(Date.now()-ct)+" ms"),yt=!0}),setTimeout(function(){!yt&&Te.cordova&&console.warn("Ionic Native: deviceready did not fire within 5000ms. This can happen when plugins are in an inconsistent state. Try removing plugins from plugins/ and reinstalling them.")},5e3)}}()},9613:(Jn,Ft,z)=>{"use strict";z.d(Ft,{c:()=>jt});var d=z(3577),E=z(3457);let be;const qe=We=>We.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),je=We=>(void 0===be&&(be=void 0===We.style.animationName&&void 0!==We.style.webkitAnimationName?"-webkit-":""),be),Se=(We,Be,kt)=>{const Mt=Be.startsWith("animation")?je(We):"";We.style.setProperty(Mt+Be,kt)},Re=(We,Be)=>{const kt=Be.startsWith("animation")?je(We):"";We.style.removeProperty(kt+Be)},xe=[],pt=(We=[],Be)=>{if(void 0!==Be){const kt=Array.isArray(Be)?Be:[Be];return[...We,...kt]}return We},jt=We=>{let Be,kt,Mt,ft,It,St,Dt,tt,dt,Ut,Ot,nn,_t,Ct=[],gt=[],te=[],Gt=!1,Lt={},qt=[],Te=[],Je={},ct=0,yt=!1,et=!1,en=!0,rn=!1,On=!0,cn=!1;const gn=We,Zn=[],tr=[],ur=[],un=[],rr=[],an=[],Pr=[],Br=[],Ar=[],Pn=[],oi="function"==typeof AnimationEffect||void 0!==E.w&&"function"==typeof E.w.AnimationEffect,Wr="function"==typeof Element&&"function"==typeof Element.prototype.animate&&oi,Ai=()=>Pn,ui=(Ee,ne)=>((null!=ne&&ne.oneTimeCallback?tr:Zn).push({c:Ee,o:ne}),_t),ni=()=>{if(Wr)Pn.forEach(Ee=>{Ee.cancel()}),Pn.length=0;else{const Ee=ur.slice();(0,d.r)(()=>{Ee.forEach(ne=>{Re(ne,"animation-name"),Re(ne,"animation-duration"),Re(ne,"animation-timing-function"),Re(ne,"animation-iteration-count"),Re(ne,"animation-delay"),Re(ne,"animation-play-state"),Re(ne,"animation-fill-mode"),Re(ne,"animation-direction")})})}},di=()=>{rr.forEach(Ee=>{null!=Ee&&Ee.parentNode&&Ee.parentNode.removeChild(Ee)}),rr.length=0},kr=()=>void 0!==It?It:Dt?Dt.getFill():"both",Rr=()=>void 0!==dt?dt:void 0!==St?St:Dt?Dt.getDirection():"normal",mt=()=>yt?"linear":void 0!==Mt?Mt:Dt?Dt.getEasing():"linear",Ae=()=>et?0:void 0!==Ut?Ut:void 0!==kt?kt:Dt?Dt.getDuration():0,ie=()=>void 0!==ft?ft:Dt?Dt.getIterations():1,ee=()=>void 0!==Ot?Ot:void 0!==Be?Be:Dt?Dt.getDelay():0,fn=()=>{0!==ct&&(ct--,0===ct&&((()=>{Eo(),Br.forEach(wt=>wt()),Ar.forEach(wt=>wt());const Ee=en?1:0,ne=qt,ve=Te,st=Je;ur.forEach(wt=>{const $t=wt.classList;ne.forEach(tn=>$t.add(tn)),ve.forEach(tn=>$t.remove(tn));for(const tn in st)st.hasOwnProperty(tn)&&Se(wt,tn,st[tn])}),Zn.forEach(wt=>wt.c(Ee,_t)),tr.forEach(wt=>wt.c(Ee,_t)),tr.length=0,On=!0,en&&(rn=!0),en=!0})(),Dt&&Dt.animationFinish()))},qn=(Ee=!0)=>{di();const ne=(We=>(We.forEach(Be=>{for(const kt in Be)if(Be.hasOwnProperty(kt)){const Mt=Be[kt];if("easing"===kt)Be["animation-timing-function"]=Mt,delete Be[kt];else{const ft=qe(kt);ft!==kt&&(Be[ft]=Mt,delete Be[kt])}}}),We))(Ct);ur.forEach(ve=>{if(ne.length>0){const st=((We=[])=>We.map(Be=>{const kt=Be.offset,Mt=[];for(const ft in Be)Be.hasOwnProperty(ft)&&"offset"!==ft&&Mt.push(`${ft}: ${Be[ft]};`);return`${100*kt}% { ${Mt.join(" ")} }`}).join(" "))(ne);nn=void 0!==We?We:(We=>{let Be=xe.indexOf(We);return Be<0&&(Be=xe.push(We)-1),`ion-animation-${Be}`})(st);const wt=((We,Be,kt)=>{var Mt;const ft=(We=>{const Be=void 0!==We.getRootNode?We.getRootNode():We;return Be.head||Be})(kt),It=je(kt),St=ft.querySelector("#"+We);if(St)return St;const Ct=(null!==(Mt=kt.ownerDocument)&&void 0!==Mt?Mt:document).createElement("style");return Ct.id=We,Ct.textContent=`@${It}keyframes ${We} { ${Be} } @${It}keyframes ${We}-alt { ${Be} }`,ft.appendChild(Ct),Ct})(nn,st,ve);rr.push(wt),Se(ve,"animation-duration",`${Ae()}ms`),Se(ve,"animation-timing-function",mt()),Se(ve,"animation-delay",`${ee()}ms`),Se(ve,"animation-fill-mode",kr()),Se(ve,"animation-direction",Rr());const $t=ie()===1/0?"infinite":ie().toString();Se(ve,"animation-iteration-count",$t),Se(ve,"animation-play-state","paused"),Ee&&Se(ve,"animation-name",`${wt.id}-alt`),(0,d.r)(()=>{Se(ve,"animation-name",wt.id||null)})}})},Dr=(Ee=!0)=>{(()=>{an.forEach(st=>st()),Pr.forEach(st=>st());const Ee=gt,ne=te,ve=Lt;ur.forEach(st=>{const wt=st.classList;Ee.forEach($t=>wt.add($t)),ne.forEach($t=>wt.remove($t));for(const $t in ve)ve.hasOwnProperty($t)&&Se(st,$t,ve[$t])})})(),Ct.length>0&&(Wr?(ur.forEach(Ee=>{const ne=Ee.animate(Ct,{id:gn,delay:ee(),duration:Ae(),easing:mt(),iterations:ie(),fill:kr(),direction:Rr()});ne.pause(),Pn.push(ne)}),Pn.length>0&&(Pn[0].onfinish=()=>{fn()})):qn(Ee)),Gt=!0},$r=Ee=>{if(Ee=Math.min(Math.max(Ee,0),.9999),Wr)Pn.forEach(ne=>{ne.currentTime=ne.effect.getComputedTiming().delay+Ae()*Ee,ne.pause()});else{const ne=`-${Ae()*Ee}ms`;ur.forEach(ve=>{Ct.length>0&&(Se(ve,"animation-delay",ne),Se(ve,"animation-play-state","paused"))})}},Fi=Ee=>{Pn.forEach(ne=>{ne.effect.updateTiming({delay:ee(),duration:Ae(),easing:mt(),iterations:ie(),fill:kr(),direction:Rr()})}),void 0!==Ee&&$r(Ee)},Xr=(Ee=!0,ne)=>{(0,d.r)(()=>{ur.forEach(ve=>{Se(ve,"animation-name",nn||null),Se(ve,"animation-duration",`${Ae()}ms`),Se(ve,"animation-timing-function",mt()),Se(ve,"animation-delay",void 0!==ne?`-${ne*Ae()}ms`:`${ee()}ms`),Se(ve,"animation-fill-mode",kr()||null),Se(ve,"animation-direction",Rr()||null);const st=ie()===1/0?"infinite":ie().toString();Se(ve,"animation-iteration-count",st),Ee&&Se(ve,"animation-name",`${nn}-alt`),(0,d.r)(()=>{Se(ve,"animation-name",nn||null)})})})},Ur=(Ee=!1,ne=!0,ve)=>(Ee&&un.forEach(st=>{st.update(Ee,ne,ve)}),Wr?Fi(ve):Xr(ne,ve),_t),to=()=>{Gt&&(Wr?Pn.forEach(Ee=>{Ee.pause()}):ur.forEach(Ee=>{Se(Ee,"animation-play-state","paused")}),cn=!0)},cs=()=>{tt=void 0,fn()},Eo=()=>{tt&&clearTimeout(tt)},Ns=Ee=>new Promise(ne=>{null!=Ee&&Ee.sync&&(et=!0,ui(()=>et=!1,{oneTimeCallback:!0})),Gt||Dr(),rn&&(Wr?($r(0),Fi()):Xr(),rn=!1),On&&(ct=un.length+1,On=!1),ui(()=>ne(),{oneTimeCallback:!0}),un.forEach(ve=>{ve.play()}),Wr?(Pn.forEach(Ee=>{Ee.play()}),(0===Ct.length||0===ur.length)&&fn()):(()=>{if(Eo(),(0,d.r)(()=>{ur.forEach(Ee=>{Ct.length>0&&Se(Ee,"animation-play-state","running")})}),0===Ct.length||0===ur.length)fn();else{const Ee=ee()||0,ne=Ae()||0,ve=ie()||1;isFinite(ve)&&(tt=setTimeout(cs,Ee+ne*ve+100)),((We,Be)=>{let kt;const Mt={passive:!0},It=St=>{We===St.target&&(kt&&kt(),Eo(),(0,d.r)(()=>{ur.forEach(Ee=>{Re(Ee,"animation-duration"),Re(Ee,"animation-delay"),Re(Ee,"animation-play-state")}),(0,d.r)(fn)}))};We&&(We.addEventListener("webkitAnimationEnd",It,Mt),We.addEventListener("animationend",It,Mt),kt=()=>{We.removeEventListener("webkitAnimationEnd",It,Mt),We.removeEventListener("animationend",It,Mt)})})(ur[0])}})(),cn=!1}),re=(Ee,ne)=>{const ve=Ct[0];return void 0===ve||void 0!==ve.offset&&0!==ve.offset?Ct=[{offset:0,[Ee]:ne},...Ct]:ve[Ee]=ne,_t};return _t={parentAnimation:Dt,elements:ur,childAnimations:un,id:gn,animationFinish:fn,from:re,to:(Ee,ne)=>{const ve=Ct[Ct.length-1];return void 0===ve||void 0!==ve.offset&&1!==ve.offset?Ct=[...Ct,{offset:1,[Ee]:ne}]:ve[Ee]=ne,_t},fromTo:(Ee,ne,ve)=>re(Ee,ne).to(Ee,ve),parent:Ee=>(Dt=Ee,_t),play:Ns,pause:()=>(un.forEach(Ee=>{Ee.pause()}),to(),_t),stop:()=>{un.forEach(Ee=>{Ee.stop()}),Gt&&(ni(),Gt=!1),yt=!1,et=!1,On=!0,dt=void 0,Ut=void 0,Ot=void 0,ct=0,rn=!1,en=!0,cn=!1},destroy:Ee=>(un.forEach(ne=>{ne.destroy(Ee)}),(Ee=>{ni(),Ee&&di()})(Ee),ur.length=0,un.length=0,Ct.length=0,Zn.length=0,tr.length=0,Gt=!1,On=!0,_t),keyframes:Ee=>{const ne=Ct!==Ee;return Ct=Ee,ne&&(Ee=>{Wr?Ai().forEach(ne=>{if(ne.effect.setKeyframes)ne.effect.setKeyframes(Ee);else{const ve=new KeyframeEffect(ne.effect.target,Ee,ne.effect.getTiming());ne.effect=ve}}):qn()})(Ct),_t},addAnimation:Ee=>{if(null!=Ee)if(Array.isArray(Ee))for(const ne of Ee)ne.parent(_t),un.push(ne);else Ee.parent(_t),un.push(Ee);return _t},addElement:Ee=>{if(null!=Ee)if(1===Ee.nodeType)ur.push(Ee);else if(Ee.length>=0)for(let ne=0;ne<Ee.length;ne++)ur.push(Ee[ne]);else console.error("Invalid addElement value");return _t},update:Ur,fill:Ee=>(It=Ee,Ur(!0),_t),direction:Ee=>(St=Ee,Ur(!0),_t),iterations:Ee=>(ft=Ee,Ur(!0),_t),duration:Ee=>(!Wr&&0===Ee&&(Ee=1),kt=Ee,Ur(!0),_t),easing:Ee=>(Mt=Ee,Ur(!0),_t),delay:Ee=>(Be=Ee,Ur(!0),_t),getWebAnimations:Ai,getKeyframes:()=>Ct,getFill:kr,getDirection:Rr,getDelay:ee,getIterations:ie,getEasing:mt,getDuration:Ae,afterAddRead:Ee=>(Br.push(Ee),_t),afterAddWrite:Ee=>(Ar.push(Ee),_t),afterClearStyles:(Ee=[])=>{for(const ne of Ee)Je[ne]="";return _t},afterStyles:(Ee={})=>(Je=Ee,_t),afterRemoveClass:Ee=>(Te=pt(Te,Ee),_t),afterAddClass:Ee=>(qt=pt(qt,Ee),_t),beforeAddRead:Ee=>(an.push(Ee),_t),beforeAddWrite:Ee=>(Pr.push(Ee),_t),beforeClearStyles:(Ee=[])=>{for(const ne of Ee)Lt[ne]="";return _t},beforeStyles:(Ee={})=>(Lt=Ee,_t),beforeRemoveClass:Ee=>(te=pt(te,Ee),_t),beforeAddClass:Ee=>(gt=pt(gt,Ee),_t),onFinish:ui,isRunning:()=>0!==ct&&!cn,progressStart:(Ee=!1,ne)=>(un.forEach(ve=>{ve.progressStart(Ee,ne)}),to(),yt=Ee,Gt||Dr(),Ur(!1,!0,ne),_t),progressStep:Ee=>(un.forEach(ne=>{ne.progressStep(Ee)}),$r(Ee),_t),progressEnd:(Ee,ne,ve)=>(yt=!1,un.forEach(st=>{st.progressEnd(Ee,ne,ve)}),void 0!==ve&&(Ut=ve),rn=!1,en=!0,0===Ee?(dt="reverse"===Rr()?"normal":"reverse","reverse"===dt&&(en=!1),Wr?(Ur(),$r(1-ne)):(Ot=(1-ne)*Ae()*-1,Ur(!1,!1))):1===Ee&&(Wr?(Ur(),$r(ne)):(Ot=ne*Ae()*-1,Ur(!1,!1))),void 0!==Ee&&(ui(()=>{Ut=void 0,dt=void 0,Ot=void 0},{oneTimeCallback:!0}),Dt||Ns()),_t)}}},3982:(Jn,Ft,z)=>{"use strict";z.d(Ft,{E:()=>Le,a:()=>d,s:()=>Re});const d=xe=>{try{if(xe instanceof Se)return xe.value;if(!ke()||"string"!=typeof xe||""===xe)return xe;if(xe.includes("onload="))return"";const it=document.createDocumentFragment(),Me=document.createElement("div");it.appendChild(Me),Me.innerHTML=xe,je.forEach(We=>{const Be=it.querySelectorAll(We);for(let kt=Be.length-1;kt>=0;kt--){const Mt=Be[kt];Mt.parentNode?Mt.parentNode.removeChild(Mt):it.removeChild(Mt);const ft=be(Mt);for(let It=0;It<ft.length;It++)E(ft[It])}});const lt=be(it);for(let We=0;We<lt.length;We++)E(lt[We]);const pt=document.createElement("div");pt.appendChild(it);const jt=pt.querySelector("div");return null!==jt?jt.innerHTML:pt.innerHTML}catch(it){return console.error(it),""}},E=xe=>{if(xe.nodeType&&1!==xe.nodeType)return;if(typeof NamedNodeMap<"u"&&!(xe.attributes instanceof NamedNodeMap))return void xe.remove();for(let Me=xe.attributes.length-1;Me>=0;Me--){const lt=xe.attributes.item(Me),pt=lt.name;if(!qe.includes(pt.toLowerCase())){xe.removeAttribute(pt);continue}const jt=lt.value,We=xe[pt];(null!=jt&&jt.toLowerCase().includes("javascript:")||null!=We&&We.toLowerCase().includes("javascript:"))&&xe.removeAttribute(pt)}const it=be(xe);for(let Me=0;Me<it.length;Me++)E(it[Me])},be=xe=>null!=xe.children?xe.children:xe.childNodes,ke=()=>{var xe;const it=window,Me=null===(xe=null==it?void 0:it.Ionic)||void 0===xe?void 0:xe.config;return!Me||(Me.get?Me.get("sanitizerEnabled",!0):!0===Me.sanitizerEnabled||void 0===Me.sanitizerEnabled)},qe=["class","id","href","src","name","slot"],je=["script","style","iframe","meta","link","object","embed"];class Se{constructor(it){this.value=it}}const Re=xe=>{const it=window,Me=it.Ionic;if(!Me||!Me.config||"Object"===Me.config.constructor.name)return it.Ionic=it.Ionic||{},it.Ionic.config=Object.assign(Object.assign({},it.Ionic.config),xe),it.Ionic.config},Le=!1},6782:(Jn,Ft,z)=>{"use strict";z.d(Ft,{C:()=>qe,a:()=>be,d:()=>ke});var d=z(5861),E=z(3577);const be=function(){var je=(0,d.Z)(function*(Se,Re,Ze,Le,xe,it){var Me;if(Se)return Se.attachViewToDom(Re,Ze,xe,Le);if(!(it||"string"==typeof Ze||Ze instanceof HTMLElement))throw new Error("framework delegate is missing");const lt="string"==typeof Ze?null===(Me=Re.ownerDocument)||void 0===Me?void 0:Me.createElement(Ze):Ze;return Le&&Le.forEach(pt=>lt.classList.add(pt)),xe&&Object.assign(lt,xe),Re.appendChild(lt),yield new Promise(pt=>(0,E.c)(lt,pt)),lt});return function(Re,Ze,Le,xe,it,Me){return je.apply(this,arguments)}}(),ke=(je,Se)=>{if(Se){if(je)return je.removeViewFromDom(Se.parentElement,Se);Se.remove()}return Promise.resolve()},qe=()=>{let je,Se;return{attachViewToDom:function(){var Le=(0,d.Z)(function*(xe,it,Me={},lt=[]){var pt,jt;if(je=xe,it){const Be="string"==typeof it?null===(pt=je.ownerDocument)||void 0===pt?void 0:pt.createElement(it):it;lt.forEach(kt=>Be.classList.add(kt)),Object.assign(Be,Me),je.appendChild(Be),yield new Promise(kt=>(0,E.c)(Be,kt))}else if(je.children.length>0&&("ION-MODAL"===je.tagName||"ION-POPOVER"===je.tagName)&&!je.children[0].classList.contains("ion-delegate-host")){const kt=null===(jt=je.ownerDocument)||void 0===jt?void 0:jt.createElement("div");kt.classList.add("ion-delegate-host"),lt.forEach(Mt=>kt.classList.add(Mt)),kt.append(...je.children),je.appendChild(kt)}const We=document.querySelector("ion-app")||document.body;return Se=document.createComment("ionic teleport"),je.parentNode.insertBefore(Se,je),We.appendChild(je),je});return function(it,Me){return Le.apply(this,arguments)}}(),removeViewFromDom:()=>(je&&Se&&(Se.parentNode.insertBefore(je,Se),Se.remove()),Promise.resolve())}}},4349:(Jn,Ft,z)=>{"use strict";z.d(Ft,{G:()=>qe});class E{constructor(Se,Re,Ze,Le,xe){this.id=Re,this.name=Ze,this.disableScroll=xe,this.priority=1e6*Le+Re,this.ctrl=Se}canStart(){return!!this.ctrl&&this.ctrl.canStart(this.name)}start(){return!!this.ctrl&&this.ctrl.start(this.name,this.id,this.priority)}capture(){if(!this.ctrl)return!1;const Se=this.ctrl.capture(this.name,this.id,this.priority);return Se&&this.disableScroll&&this.ctrl.disableScroll(this.id),Se}release(){this.ctrl&&(this.ctrl.release(this.id),this.disableScroll&&this.ctrl.enableScroll(this.id))}destroy(){this.release(),this.ctrl=void 0}}class be{constructor(Se,Re,Ze,Le){this.id=Re,this.disable=Ze,this.disableScroll=Le,this.ctrl=Se}block(){if(this.ctrl){if(this.disable)for(const Se of this.disable)this.ctrl.disableGesture(Se,this.id);this.disableScroll&&this.ctrl.disableScroll(this.id)}}unblock(){if(this.ctrl){if(this.disable)for(const Se of this.disable)this.ctrl.enableGesture(Se,this.id);this.disableScroll&&this.ctrl.enableScroll(this.id)}}destroy(){this.unblock(),this.ctrl=void 0}}const ke="backdrop-no-scroll",qe=new class d{constructor(){this.gestureId=0,this.requestedStart=new Map,this.disabledGestures=new Map,this.disabledScroll=new Set}createGesture(Se){var Re;return new E(this,this.newID(),Se.name,null!==(Re=Se.priority)&&void 0!==Re?Re:0,!!Se.disableScroll)}createBlocker(Se={}){return new be(this,this.newID(),Se.disable,!!Se.disableScroll)}start(Se,Re,Ze){return this.canStart(Se)?(this.requestedStart.set(Re,Ze),!0):(this.requestedStart.delete(Re),!1)}capture(Se,Re,Ze){if(!this.start(Se,Re,Ze))return!1;const Le=this.requestedStart;let xe=-1e4;if(Le.forEach(it=>{xe=Math.max(xe,it)}),xe===Ze){this.capturedId=Re,Le.clear();const it=new CustomEvent("ionGestureCaptured",{detail:{gestureName:Se}});return document.dispatchEvent(it),!0}return Le.delete(Re),!1}release(Se){this.requestedStart.delete(Se),this.capturedId===Se&&(this.capturedId=void 0)}disableGesture(Se,Re){let Ze=this.disabledGestures.get(Se);void 0===Ze&&(Ze=new Set,this.disabledGestures.set(Se,Ze)),Ze.add(Re)}enableGesture(Se,Re){const Ze=this.disabledGestures.get(Se);void 0!==Ze&&Ze.delete(Re)}disableScroll(Se){this.disabledScroll.add(Se),1===this.disabledScroll.size&&document.body.classList.add(ke)}enableScroll(Se){this.disabledScroll.delete(Se),0===this.disabledScroll.size&&document.body.classList.remove(ke)}canStart(Se){return!(void 0!==this.capturedId||this.isDisabled(Se))}isCaptured(){return void 0!==this.capturedId}isScrollDisabled(){return this.disabledScroll.size>0}isDisabled(Se){const Re=this.disabledGestures.get(Se);return!!(Re&&Re.size>0)}newID(){return this.gestureId++,this.gestureId}}},7593:(Jn,Ft,z)=>{"use strict";z.r(Ft),z.d(Ft,{MENU_BACK_BUTTON_PRIORITY:()=>qe,OVERLAY_BACK_BUTTON_PRIORITY:()=>ke,blockHardwareBackButton:()=>E,startHardwareBackButton:()=>be});var d=z(5861);const E=()=>{document.addEventListener("backbutton",()=>{})},be=()=>{const je=document;let Se=!1;je.addEventListener("backbutton",()=>{if(Se)return;let Re=0,Ze=[];const Le=new CustomEvent("ionBackButton",{bubbles:!1,detail:{register(Me,lt){Ze.push({priority:Me,handler:lt,id:Re++})}}});je.dispatchEvent(Le);const xe=function(){var Me=(0,d.Z)(function*(lt){try{if(null!=lt&&lt.handler){const pt=lt.handler(it);null!=pt&&(yield pt)}}catch(pt){console.error(pt)}});return function(pt){return Me.apply(this,arguments)}}(),it=()=>{if(Ze.length>0){let Me={priority:Number.MIN_SAFE_INTEGER,handler:()=>{},id:-1};Ze.forEach(lt=>{lt.priority>=Me.priority&&(Me=lt)}),Se=!0,Ze=Ze.filter(lt=>lt.id!==Me.id),xe(Me).then(()=>Se=!1)}};it()})},ke=100,qe=99},3577:(Jn,Ft,z)=>{"use strict";z.d(Ft,{a:()=>Re,b:()=>Ze,c:()=>be,d:()=>jt,e:()=>pt,f:()=>lt,g:()=>Le,h:()=>Me,i:()=>Se,j:()=>It,k:()=>qe,l:()=>We,m:()=>ke,n:()=>it,o:()=>Be,p:()=>Mt,q:()=>ft,r:()=>xe,s:()=>Ct,t:()=>d,u:()=>St,v:()=>kt});const d=(gt,te=0)=>new Promise(Gt=>{E(gt,te,Gt)}),E=(gt,te=0,Gt)=>{let Dt,Lt;const qt={passive:!0},Je=()=>{Dt&&Dt()},ct=yt=>{(void 0===yt||gt===yt.target)&&(Je(),Gt(yt))};return gt&&(gt.addEventListener("webkitTransitionEnd",ct,qt),gt.addEventListener("transitionend",ct,qt),Lt=setTimeout(ct,te+500),Dt=()=>{Lt&&(clearTimeout(Lt),Lt=void 0),gt.removeEventListener("webkitTransitionEnd",ct,qt),gt.removeEventListener("transitionend",ct,qt)}),Je},be=(gt,te)=>{gt.componentOnReady?gt.componentOnReady().then(Gt=>te(Gt)):xe(()=>te(gt))},ke=gt=>void 0!==gt.componentOnReady,qe=(gt,te=[])=>{const Gt={};return te.forEach(Dt=>{gt.hasAttribute(Dt)&&(null!==gt.getAttribute(Dt)&&(Gt[Dt]=gt.getAttribute(Dt)),gt.removeAttribute(Dt))}),Gt},je=["role","aria-activedescendant","aria-atomic","aria-autocomplete","aria-braillelabel","aria-brailleroledescription","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colindextext","aria-colspan","aria-controls","aria-current","aria-describedby","aria-description","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowindextext","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext"],Se=(gt,te)=>{let Gt=je;return te&&te.length>0&&(Gt=Gt.filter(Dt=>!te.includes(Dt))),qe(gt,Gt)},Re=(gt,te,Gt,Dt)=>{var Lt;if(typeof window<"u"){const qt=window,Te=null===(Lt=null==qt?void 0:qt.Ionic)||void 0===Lt?void 0:Lt.config;if(Te){const Je=Te.get("_ael");if(Je)return Je(gt,te,Gt,Dt);if(Te._ael)return Te._ael(gt,te,Gt,Dt)}}return gt.addEventListener(te,Gt,Dt)},Ze=(gt,te,Gt,Dt)=>{var Lt;if(typeof window<"u"){const qt=window,Te=null===(Lt=null==qt?void 0:qt.Ionic)||void 0===Lt?void 0:Lt.config;if(Te){const Je=Te.get("_rel");if(Je)return Je(gt,te,Gt,Dt);if(Te._rel)return Te._rel(gt,te,Gt,Dt)}}return gt.removeEventListener(te,Gt,Dt)},Le=(gt,te=gt)=>gt.shadowRoot||te,xe=gt=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(gt):"function"==typeof requestAnimationFrame?requestAnimationFrame(gt):setTimeout(gt),it=gt=>!!gt.shadowRoot&&!!gt.attachShadow,Me=gt=>{const te=gt.closest("ion-item");return te?te.querySelector("ion-label"):null},lt=gt=>{if(gt.focus(),gt.classList.contains("ion-focusable")){const te=gt.closest("ion-app");te&&te.setFocus([gt])}},pt=(gt,te)=>{let Gt;const Dt=gt.getAttribute("aria-labelledby"),Lt=gt.id;let qt=null!==Dt&&""!==Dt.trim()?Dt:te+"-lbl",Te=null!==Dt&&""!==Dt.trim()?document.getElementById(Dt):Me(gt);return Te?(null===Dt&&(Te.id=qt),Gt=Te.textContent,Te.setAttribute("aria-hidden","true")):""!==Lt.trim()&&(Te=document.querySelector(`label[for="${Lt}"]`),Te&&(""!==Te.id?qt=Te.id:Te.id=qt=`${Lt}-lbl`,Gt=Te.textContent)),{label:Te,labelId:qt,labelText:Gt}},jt=(gt,te,Gt,Dt,Lt)=>{if(gt||it(te)){let qt=te.querySelector("input.aux-input");qt||(qt=te.ownerDocument.createElement("input"),qt.type="hidden",qt.classList.add("aux-input"),te.appendChild(qt)),qt.disabled=Lt,qt.name=Gt,qt.value=Dt||""}},We=(gt,te,Gt)=>Math.max(gt,Math.min(te,Gt)),Be=(gt,te)=>{if(!gt){const Gt="ASSERT: "+te;throw console.error(Gt),new Error(Gt)}},kt=gt=>gt.timeStamp||Date.now(),Mt=gt=>{if(gt){const te=gt.changedTouches;if(te&&te.length>0){const Gt=te[0];return{x:Gt.clientX,y:Gt.clientY}}if(void 0!==gt.pageX)return{x:gt.pageX,y:gt.pageY}}return{x:0,y:0}},ft=gt=>{const te="rtl"===document.dir;switch(gt){case"start":return te;case"end":return!te;default:throw new Error(`"${gt}" is not a valid value for [side]. Use "start" or "end" instead.`)}},It=(gt,te)=>{const Gt=gt._original||gt;return{_original:gt,emit:St(Gt.emit.bind(Gt),te)}},St=(gt,te=0)=>{let Gt;return(...Dt)=>{clearTimeout(Gt),Gt=setTimeout(gt,te,...Dt)}},Ct=(gt,te)=>{if(null!=gt||(gt={}),null!=te||(te={}),gt===te)return!0;const Gt=Object.keys(gt);if(Gt.length!==Object.keys(te).length)return!1;for(const Dt of Gt)if(!(Dt in te)||gt[Dt]!==te[Dt])return!1;return!0}},3457:(Jn,Ft,z)=>{"use strict";z.d(Ft,{w:()=>d});const d=typeof window<"u"?window:void 0},1898:(Jn,Ft,z)=>{"use strict";z.r(Ft),z.d(Ft,{GESTURE_CONTROLLER:()=>d.G,createGesture:()=>Ze});var d=z(4349);const E=(Me,lt,pt,jt)=>{const We=be(Me)?{capture:!!jt.capture,passive:!!jt.passive}:!!jt.capture;let Be,kt;return Me.__zone_symbol__addEventListener?(Be="__zone_symbol__addEventListener",kt="__zone_symbol__removeEventListener"):(Be="addEventListener",kt="removeEventListener"),Me[Be](lt,pt,We),()=>{Me[kt](lt,pt,We)}},be=Me=>{if(void 0===ke)try{const lt=Object.defineProperty({},"passive",{get:()=>{ke=!0}});Me.addEventListener("optsTest",()=>{},lt)}catch{ke=!1}return!!ke};let ke;const Se=Me=>Me instanceof Document?Me:Me.ownerDocument,Ze=Me=>{let lt=!1,pt=!1,jt=!0,We=!1;const Be=Object.assign({disableScroll:!1,direction:"x",gesturePriority:0,passive:!0,maxAngle:40,threshold:10},Me),kt=Be.canStart,Mt=Be.onWillStart,ft=Be.onStart,It=Be.onEnd,St=Be.notCaptured,Ct=Be.onMove,gt=Be.threshold,te=Be.passive,Gt=Be.blurOnStart,Dt={type:"pan",startX:0,startY:0,startTime:0,currentX:0,currentY:0,velocityX:0,velocityY:0,deltaX:0,deltaY:0,currentTime:0,event:void 0,data:void 0},Lt=((Me,lt,pt)=>{const jt=pt*(Math.PI/180),We="x"===Me,Be=Math.cos(jt),kt=lt*lt;let Mt=0,ft=0,It=!1,St=0;return{start(Ct,gt){Mt=Ct,ft=gt,St=0,It=!0},detect(Ct,gt){if(!It)return!1;const te=Ct-Mt,Gt=gt-ft,Dt=te*te+Gt*Gt;if(Dt<kt)return!1;const Lt=Math.sqrt(Dt),qt=(We?te:Gt)/Lt;return St=qt>Be?1:qt<-Be?-1:0,It=!1,!0},isGesture:()=>0!==St,getDirection:()=>St}})(Be.direction,Be.threshold,Be.maxAngle),qt=d.G.createGesture({name:Me.gestureName,priority:Me.gesturePriority,disableScroll:Me.disableScroll}),ct=()=>{lt&&(We=!1,Ct&&Ct(Dt))},yt=()=>!!qt.capture()&&(lt=!0,jt=!1,Dt.startX=Dt.currentX,Dt.startY=Dt.currentY,Dt.startTime=Dt.currentTime,Mt?Mt(Dt).then(tt):tt(),!0),tt=()=>{Gt&&(()=>{if(typeof document<"u"){const rn=document.activeElement;null!=rn&&rn.blur&&rn.blur()}})(),ft&&ft(Dt),jt=!0},dt=()=>{lt=!1,pt=!1,We=!1,jt=!0,qt.release()},Ut=rn=>{const On=lt,nn=jt;if(dt(),nn){if(Le(Dt,rn),On)return void(It&&It(Dt));St&&St(Dt)}},Ot=((Me,lt,pt,jt,We)=>{let Be,kt,Mt,ft,It,St,Ct,gt=0;const te=et=>{gt=Date.now()+2e3,lt(et)&&(!kt&&pt&&(kt=E(Me,"touchmove",pt,We)),Mt||(Mt=E(et.target,"touchend",Dt,We)),ft||(ft=E(et.target,"touchcancel",Dt,We)))},Gt=et=>{gt>Date.now()||lt(et)&&(!St&&pt&&(St=E(Se(Me),"mousemove",pt,We)),Ct||(Ct=E(Se(Me),"mouseup",Lt,We)))},Dt=et=>{qt(),jt&&jt(et)},Lt=et=>{Te(),jt&&jt(et)},qt=()=>{kt&&kt(),Mt&&Mt(),ft&&ft(),kt=Mt=ft=void 0},Te=()=>{St&&St(),Ct&&Ct(),St=Ct=void 0},Je=()=>{qt(),Te()},ct=(et=!0)=>{et?(Be||(Be=E(Me,"touchstart",te,We)),It||(It=E(Me,"mousedown",Gt,We))):(Be&&Be(),It&&It(),Be=It=void 0,Je())};return{enable:ct,stop:Je,destroy:()=>{ct(!1),jt=pt=lt=void 0}}})(Be.el,rn=>{const On=it(rn);return!(pt||!jt||(xe(rn,Dt),Dt.startX=Dt.currentX,Dt.startY=Dt.currentY,Dt.startTime=Dt.currentTime=On,Dt.velocityX=Dt.velocityY=Dt.deltaX=Dt.deltaY=0,Dt.event=rn,kt&&!1===kt(Dt))||(qt.release(),!qt.start()))&&(pt=!0,0===gt?yt():(Lt.start(Dt.startX,Dt.startY),!0))},rn=>{lt?!We&&jt&&(We=!0,Le(Dt,rn),requestAnimationFrame(ct)):(Le(Dt,rn),Lt.detect(Dt.currentX,Dt.currentY)&&(!Lt.isGesture()||!yt())&&en())},Ut,{capture:!1,passive:te}),en=()=>{dt(),Ot.stop(),St&&St(Dt)};return{enable(rn=!0){rn||(lt&&Ut(void 0),dt()),Ot.enable(rn)},destroy(){qt.destroy(),Ot.destroy()}}},Le=(Me,lt)=>{if(!lt)return;const pt=Me.currentX,jt=Me.currentY,We=Me.currentTime;xe(lt,Me);const Be=Me.currentX,kt=Me.currentY,ft=(Me.currentTime=it(lt))-We;if(ft>0&&ft<100){const St=(kt-jt)/ft;Me.velocityX=(Be-pt)/ft*.7+.3*Me.velocityX,Me.velocityY=.7*St+.3*Me.velocityY}Me.deltaX=Be-Me.startX,Me.deltaY=kt-Me.startY,Me.event=lt},xe=(Me,lt)=>{let pt=0,jt=0;if(Me){const We=Me.changedTouches;if(We&&We.length>0){const Be=We[0];pt=Be.clientX,jt=Be.clientY}else void 0!==Me.pageX&&(pt=Me.pageX,jt=Me.pageY)}lt.currentX=pt,lt.currentY=jt},it=Me=>Me.timeStamp||Date.now()},4083:(Jn,Ft,z)=>{"use strict";z.d(Ft,{B:()=>xe,H:()=>Je,a:()=>ls,b:()=>Vt,c:()=>rn,d:()=>cn,e:()=>Ns,f:()=>_t,g:()=>On,h:()=>qt,i:()=>Hn,j:()=>it,p:()=>to,r:()=>Bt,w:()=>Fs});var d=z(5861);let be,ke,qe,je=!1,Se=!1,Re=!1,Ze=!1,Le=!1;const xe={isDev:!1,isBrowser:!0,isServer:!1,isTesting:!1},it=re=>{const pe=new URL(re,Gr.$resourcesUrl$);return pe.origin!==Xr.location.origin?pe.href:pe.pathname},kt="s-id",Mt="sty-id",St="http://www.w3.org/1999/xlink",Ct={},Dt=re=>"object"==(re=typeof re)||"function"===re;function Lt(re){var pe,Oe,Ee;return null!==(Ee=null===(Oe=null===(pe=re.head)||void 0===pe?void 0:pe.querySelector('meta[name="csp-nonce"]'))||void 0===Oe?void 0:Oe.getAttribute("content"))&&void 0!==Ee?Ee:void 0}const qt=(re,pe,...Oe)=>{let Ee=null,ne=null,ve=null,st=!1,wt=!1;const $t=[],tn=jn=>{for(let Nr=0;Nr<jn.length;Nr++)Ee=jn[Nr],Array.isArray(Ee)?tn(Ee):null!=Ee&&"boolean"!=typeof Ee&&((st="function"!=typeof re&&!Dt(Ee))&&(Ee=String(Ee)),st&&wt?$t[$t.length-1].$text$+=Ee:$t.push(st?Te(null,Ee):Ee),wt=st)};if(tn(Oe),pe){pe.key&&(ne=pe.key),pe.name&&(ve=pe.name);{const jn=pe.className||pe.class;jn&&(pe.class="object"!=typeof jn?jn:Object.keys(jn).filter(Nr=>jn[Nr]).join(" "))}}if("function"==typeof re)return re(null===pe?{}:pe,$t,yt);const Un=Te(re,null);return Un.$attrs$=pe,$t.length>0&&(Un.$children$=$t),Un.$key$=ne,Un.$name$=ve,Un},Te=(re,pe)=>({$flags$:0,$tag$:re,$text$:pe,$elm$:null,$children$:null,$attrs$:null,$key$:null,$name$:null}),Je={},yt={forEach:(re,pe)=>re.map(et).forEach(pe),map:(re,pe)=>re.map(et).map(pe).map(tt)},et=re=>({vattrs:re.$attrs$,vchildren:re.$children$,vkey:re.$key$,vname:re.$name$,vtag:re.$tag$,vtext:re.$text$}),tt=re=>{if("function"==typeof re.vtag){const Oe=Object.assign({},re.vattrs);return re.vkey&&(Oe.key=re.vkey),re.vname&&(Oe.name=re.vname),qt(re.vtag,Oe,...re.vchildren||[])}const pe=Te(re.vtag,re.vtext);return pe.$attrs$=re.vattrs,pe.$children$=re.vchildren,pe.$key$=re.vkey,pe.$name$=re.vname,pe},Ut=(re,pe,Oe,Ee,ne,ve,st)=>{let wt,$t,tn,Un;if(1===ve.nodeType){for(wt=ve.getAttribute("c-id"),wt&&($t=wt.split("."),($t[0]===st||"0"===$t[0])&&(tn={$flags$:0,$hostId$:$t[0],$nodeId$:$t[1],$depth$:$t[2],$index$:$t[3],$tag$:ve.tagName.toLowerCase(),$elm$:ve,$attrs$:null,$children$:null,$key$:null,$name$:null,$text$:null},pe.push(tn),ve.removeAttribute("c-id"),re.$children$||(re.$children$=[]),re.$children$[tn.$index$]=tn,re=tn,Ee&&"0"===tn.$depth$&&(Ee[tn.$index$]=tn.$elm$))),Un=ve.childNodes.length-1;Un>=0;Un--)Ut(re,pe,Oe,Ee,ne,ve.childNodes[Un],st);if(ve.shadowRoot)for(Un=ve.shadowRoot.childNodes.length-1;Un>=0;Un--)Ut(re,pe,Oe,Ee,ne,ve.shadowRoot.childNodes[Un],st)}else if(8===ve.nodeType)$t=ve.nodeValue.split("."),($t[1]===st||"0"===$t[1])&&(wt=$t[0],tn={$flags$:0,$hostId$:$t[1],$nodeId$:$t[2],$depth$:$t[3],$index$:$t[4],$elm$:ve,$attrs$:null,$children$:null,$key$:null,$name$:null,$tag$:null,$text$:null},"t"===wt?(tn.$elm$=ve.nextSibling,tn.$elm$&&3===tn.$elm$.nodeType&&(tn.$text$=tn.$elm$.textContent,pe.push(tn),ve.remove(),re.$children$||(re.$children$=[]),re.$children$[tn.$index$]=tn,Ee&&"0"===tn.$depth$&&(Ee[tn.$index$]=tn.$elm$))):tn.$hostId$===st&&("s"===wt?(tn.$tag$="slot",ve["s-sn"]=$t[5]?tn.$name$=$t[5]:"",ve["s-sr"]=!0,Ee&&(tn.$elm$=Ur.createElement(tn.$tag$),tn.$name$&&tn.$elm$.setAttribute("name",tn.$name$),ve.parentNode.insertBefore(tn.$elm$,ve),ve.remove(),"0"===tn.$depth$&&(Ee[tn.$index$]=tn.$elm$)),Oe.push(tn),re.$children$||(re.$children$=[]),re.$children$[tn.$index$]=tn):"r"===wt&&(Ee?ve.remove():(ne["s-cr"]=ve,ve["s-cn"]=!0))));else if(re&&"style"===re.$tag$){const jn=Te(null,ve.textContent);jn.$elm$=ve,jn.$index$="0",re.$children$=[jn]}},Ot=(re,pe)=>{if(1===re.nodeType){let Oe=0;for(;Oe<re.childNodes.length;Oe++)Ot(re.childNodes[Oe],pe);if(re.shadowRoot)for(Oe=0;Oe<re.shadowRoot.childNodes.length;Oe++)Ot(re.shadowRoot.childNodes[Oe],pe)}else if(8===re.nodeType){const Oe=re.nodeValue.split(".");"o"===Oe[0]&&(pe.set(Oe[1]+"."+Oe[2],re),re.nodeValue="",re["s-en"]=Oe[3])}},rn=re=>Fi.push(re),On=re=>kn(re).$modeName$,_t=re=>kn(re).$hostElement$,cn=(re,pe,Oe)=>{const Ee=_t(re);return{emit:ne=>gn(Ee,pe,{bubbles:!!(4&Oe),composed:!!(2&Oe),cancelable:!!(1&Oe),detail:ne})}},gn=(re,pe,Oe)=>{const Ee=Gr.ce(pe,Oe);return re.dispatchEvent(Ee),Ee},Zn=new WeakMap,tr=(re,pe,Oe)=>{let Ee=$r.get(re);ps&&Oe?(Ee=Ee||new CSSStyleSheet,"string"==typeof Ee?Ee=pe:Ee.replaceSync(pe)):Ee=pe,$r.set(re,Ee)},ur=(re,pe,Oe,Ee)=>{var ne;let ve=rr(pe,Oe);const st=$r.get(ve);if(re=11===re.nodeType?re:Ur,st)if("string"==typeof st){let $t,wt=Zn.get(re=re.head||re);if(wt||Zn.set(re,wt=new Set),!wt.has(ve)){if(re.host&&($t=re.querySelector(`[${Mt}="${ve}"]`)))$t.innerHTML=st;else{$t=Ur.createElement("style"),$t.innerHTML=st;const tn=null!==(ne=Gr.$nonce$)&&void 0!==ne?ne:Lt(Ur);null!=tn&&$t.setAttribute("nonce",tn),re.insertBefore($t,re.querySelector("link"))}wt&&wt.add(ve)}}else re.adoptedStyleSheets.includes(st)||(re.adoptedStyleSheets=[...re.adoptedStyleSheets,st]);return ve},rr=(re,pe)=>"sc-"+(pe&&32&re.$flags$?re.$tagName$+"-"+pe:re.$tagName$),an=re=>re.replace(/\/\*!@([^\/]+)\*\/[^\{]+\{/g,"$1{"),Pr=(re,pe,Oe,Ee,ne,ve)=>{if(Oe!==Ee){let st=fn(re,pe),wt=pe.toLowerCase();if("class"===pe){const $t=re.classList,tn=Ar(Oe),Un=Ar(Ee);$t.remove(...tn.filter(jn=>jn&&!Un.includes(jn))),$t.add(...Un.filter(jn=>jn&&!tn.includes(jn)))}else if("style"===pe){for(const $t in Oe)(!Ee||null==Ee[$t])&&($t.includes("-")?re.style.removeProperty($t):re.style[$t]="");for(const $t in Ee)(!Oe||Ee[$t]!==Oe[$t])&&($t.includes("-")?re.style.setProperty($t,Ee[$t]):re.style[$t]=Ee[$t])}else if("key"!==pe)if("ref"===pe)Ee&&Ee(re);else if(st||"o"!==pe[0]||"n"!==pe[1]){const $t=Dt(Ee);if((st||$t&&null!==Ee)&&!ne)try{if(re.tagName.includes("-"))re[pe]=Ee;else{const Un=null==Ee?"":Ee;"list"===pe?st=!1:(null==Oe||re[pe]!=Un)&&(re[pe]=Un)}}catch{}let tn=!1;wt!==(wt=wt.replace(/^xlink\:?/,""))&&(pe=wt,tn=!0),null==Ee||!1===Ee?(!1!==Ee||""===re.getAttribute(pe))&&(tn?re.removeAttributeNS(St,pe):re.removeAttribute(pe)):(!st||4&ve||ne)&&!$t&&(Ee=!0===Ee?"":Ee,tn?re.setAttributeNS(St,pe,Ee):re.setAttribute(pe,Ee))}else pe="-"===pe[2]?pe.slice(3):fn(Xr,wt)?wt.slice(2):wt[2]+pe.slice(3),Oe&&Gr.rel(re,pe,Oe,!1),Ee&&Gr.ael(re,pe,Ee,!1)}},Br=/\s/,Ar=re=>re?re.split(Br):[],Pn=(re,pe,Oe,Ee)=>{const ne=11===pe.$elm$.nodeType&&pe.$elm$.host?pe.$elm$.host:pe.$elm$,ve=re&&re.$attrs$||Ct,st=pe.$attrs$||Ct;for(Ee in ve)Ee in st||Pr(ne,Ee,ve[Ee],void 0,Oe,pe.$flags$);for(Ee in st)Pr(ne,Ee,ve[Ee],st[Ee],Oe,pe.$flags$)},oi=(re,pe,Oe,Ee)=>{const ne=pe.$children$[Oe];let st,wt,$t,ve=0;if(je||(Re=!0,"slot"===ne.$tag$&&(be&&Ee.classList.add(be+"-s"),ne.$flags$|=ne.$children$?2:1)),null!==ne.$text$)st=ne.$elm$=Ur.createTextNode(ne.$text$);else if(1&ne.$flags$)st=ne.$elm$=Ur.createTextNode("");else{if(Ze||(Ze="svg"===ne.$tag$),st=ne.$elm$=Ur.createElementNS(Ze?"http://www.w3.org/2000/svg":"http://www.w3.org/1999/xhtml",2&ne.$flags$?"slot-fb":ne.$tag$),Ze&&"foreignObject"===ne.$tag$&&(Ze=!1),Pn(null,ne,Ze),(re=>null!=re)(be)&&st["s-si"]!==be&&st.classList.add(st["s-si"]=be),ne.$children$)for(ve=0;ve<ne.$children$.length;++ve)wt=oi(re,ne,ve,st),wt&&st.appendChild(wt);"svg"===ne.$tag$?Ze=!1:"foreignObject"===st.tagName&&(Ze=!0)}return st["s-hn"]=qe,3&ne.$flags$&&(st["s-sr"]=!0,st["s-cr"]=ke,st["s-sn"]=ne.$name$||"",$t=re&&re.$children$&&re.$children$[Oe],$t&&$t.$tag$===ne.$tag$&&re.$elm$&&Wr(re.$elm$,!1)),st},Wr=(re,pe)=>{Gr.$flags$|=1;const Oe=re.childNodes;for(let Ee=Oe.length-1;Ee>=0;Ee--){const ne=Oe[Ee];ne["s-hn"]!==qe&&ne["s-ol"]&&(mr(ne).insertBefore(ne,ir(ne)),ne["s-ol"].remove(),ne["s-ol"]=void 0,Re=!0),pe&&Wr(ne,pe)}Gr.$flags$&=-2},ar=(re,pe,Oe,Ee,ne,ve)=>{let wt,st=re["s-cr"]&&re["s-cr"].parentNode||re;for(st.shadowRoot&&st.tagName===qe&&(st=st.shadowRoot);ne<=ve;++ne)Ee[ne]&&(wt=oi(null,Oe,ne,re),wt&&(Ee[ne].$elm$=wt,st.insertBefore(wt,ir(pe))))},Ai=(re,pe,Oe)=>{for(let Ee=pe;Ee<=Oe;++Ee){const ne=re[Ee];if(ne){const ve=ne.$elm$;br(ne),ve&&(Se=!0,ve["s-ol"]?ve["s-ol"].remove():Wr(ve,!0),ve.remove())}}},lr=(re,pe)=>re.$tag$===pe.$tag$&&("slot"===re.$tag$?re.$name$===pe.$name$:re.$key$===pe.$key$),ir=re=>re&&re["s-ol"]||re,mr=re=>(re["s-ol"]?re["s-ol"]:re).parentNode,ui=(re,pe)=>{const Oe=pe.$elm$=re.$elm$,Ee=re.$children$,ne=pe.$children$,ve=pe.$tag$,st=pe.$text$;let wt;null===st?(Ze="svg"===ve||"foreignObject"!==ve&&Ze,"slot"===ve||Pn(re,pe,Ze),null!==Ee&&null!==ne?((re,pe,Oe,Ee)=>{let gs,Xi,ne=0,ve=0,st=0,wt=0,$t=pe.length-1,tn=pe[0],Un=pe[$t],jn=Ee.length-1,Nr=Ee[0],Kr=Ee[jn];for(;ne<=$t&&ve<=jn;)if(null==tn)tn=pe[++ne];else if(null==Un)Un=pe[--$t];else if(null==Nr)Nr=Ee[++ve];else if(null==Kr)Kr=Ee[--jn];else if(lr(tn,Nr))ui(tn,Nr),tn=pe[++ne],Nr=Ee[++ve];else if(lr(Un,Kr))ui(Un,Kr),Un=pe[--$t],Kr=Ee[--jn];else if(lr(tn,Kr))("slot"===tn.$tag$||"slot"===Kr.$tag$)&&Wr(tn.$elm$.parentNode,!1),ui(tn,Kr),re.insertBefore(tn.$elm$,Un.$elm$.nextSibling),tn=pe[++ne],Kr=Ee[--jn];else if(lr(Un,Nr))("slot"===tn.$tag$||"slot"===Kr.$tag$)&&Wr(Un.$elm$.parentNode,!1),ui(Un,Nr),re.insertBefore(Un.$elm$,tn.$elm$),Un=pe[--$t],Nr=Ee[++ve];else{for(st=-1,wt=ne;wt<=$t;++wt)if(pe[wt]&&null!==pe[wt].$key$&&pe[wt].$key$===Nr.$key$){st=wt;break}st>=0?(Xi=pe[st],Xi.$tag$!==Nr.$tag$?gs=oi(pe&&pe[ve],Oe,st,re):(ui(Xi,Nr),pe[st]=void 0,gs=Xi.$elm$),Nr=Ee[++ve]):(gs=oi(pe&&pe[ve],Oe,ve,re),Nr=Ee[++ve]),gs&&mr(tn.$elm$).insertBefore(gs,ir(tn.$elm$))}ne>$t?ar(re,null==Ee[jn+1]?null:Ee[jn+1].$elm$,Oe,Ee,ve,jn):ve>jn&&Ai(pe,ne,$t)})(Oe,Ee,pe,ne):null!==ne?(null!==re.$text$&&(Oe.textContent=""),ar(Oe,null,pe,ne,0,ne.length-1)):null!==Ee&&Ai(Ee,0,Ee.length-1),Ze&&"svg"===ve&&(Ze=!1)):(wt=Oe["s-cr"])?wt.parentNode.textContent=st:re.$text$!==st&&(Oe.data=st)},gi=re=>{const pe=re.childNodes;let Oe,Ee,ne,ve,st,wt;for(Ee=0,ne=pe.length;Ee<ne;Ee++)if(Oe=pe[Ee],1===Oe.nodeType){if(Oe["s-sr"])for(st=Oe["s-sn"],Oe.hidden=!1,ve=0;ve<ne;ve++)if(wt=pe[ve].nodeType,pe[ve]["s-hn"]!==Oe["s-hn"]||""!==st){if(1===wt&&st===pe[ve].getAttribute("slot")){Oe.hidden=!0;break}}else if(1===wt||3===wt&&""!==pe[ve].textContent.trim()){Oe.hidden=!0;break}gi(Oe)}},ni=[],di=re=>{let pe,Oe,Ee,ne,ve,st,wt=0;const $t=re.childNodes,tn=$t.length;for(;wt<tn;wt++){if(pe=$t[wt],pe["s-sr"]&&(Oe=pe["s-cr"])&&Oe.parentNode)for(Ee=Oe.parentNode.childNodes,ne=pe["s-sn"],st=Ee.length-1;st>=0;st--)Oe=Ee[st],!Oe["s-cn"]&&!Oe["s-nr"]&&Oe["s-hn"]!==pe["s-hn"]&&(Ti(Oe,ne)?(ve=ni.find(Un=>Un.$nodeToRelocate$===Oe),Se=!0,Oe["s-sn"]=Oe["s-sn"]||ne,ve?ve.$slotRefNode$=pe:ni.push({$slotRefNode$:pe,$nodeToRelocate$:Oe}),Oe["s-sr"]&&ni.map(Un=>{Ti(Un.$nodeToRelocate$,Oe["s-sn"])&&(ve=ni.find(jn=>jn.$nodeToRelocate$===Oe),ve&&!Un.$slotRefNode$&&(Un.$slotRefNode$=ve.$slotRefNode$))})):ni.some(Un=>Un.$nodeToRelocate$===Oe)||ni.push({$nodeToRelocate$:Oe}));1===pe.nodeType&&di(pe)}},Ti=(re,pe)=>1===re.nodeType?null===re.getAttribute("slot")&&""===pe||re.getAttribute("slot")===pe:re["s-sn"]===pe||""===pe,br=re=>{re.$attrs$&&re.$attrs$.ref&&re.$attrs$.ref(null),re.$children$&&re.$children$.map(br)},Di=(re,pe)=>{pe&&!re.$onRenderResolve$&&pe["s-p"]&&pe["s-p"].push(new Promise(Oe=>re.$onRenderResolve$=Oe))},Er=(re,pe)=>{if(re.$flags$|=16,!(4&re.$flags$))return Di(re,re.$ancestorComponent$),Fs(()=>Sn(re,pe));re.$flags$|=512},Sn=(re,pe)=>{const Ee=re.$lazyInstance$;let ne;return pe&&(re.$flags$|=256,re.$queuedListeners$&&(re.$queuedListeners$.map(([ve,st])=>kr(Ee,ve,st)),re.$queuedListeners$=null),ne=kr(Ee,"componentWillLoad")),ne=Ne(ne,()=>kr(Ee,"componentWillRender")),Ne(ne,()=>ht(re,Ee,pe))},Ne=(re,pe)=>re instanceof Promise?re.then(pe):pe(),ht=function(){var re=(0,d.Z)(function*(pe,Oe,Ee){const ne=pe.$hostElement$,st=ne["s-rc"];Ee&&(re=>{const pe=re.$cmpMeta$,Oe=re.$hostElement$,Ee=pe.$flags$,ve=ur(Oe.shadowRoot?Oe.shadowRoot:Oe.getRootNode(),pe,re.$modeName$);10&Ee&&(Oe["s-sc"]=ve,Oe.classList.add(ve+"-h"),2&Ee&&Oe.classList.add(ve+"-s"))})(pe);Wt(pe,Oe),st&&(st.map($t=>$t()),ne["s-rc"]=void 0);{const $t=ne["s-p"],tn=()=>wn(pe);0===$t.length?tn():(Promise.all($t).then(tn),pe.$flags$|=4,$t.length=0)}});return function(Oe,Ee,ne){return re.apply(this,arguments)}}(),Wt=(re,pe,Oe)=>{try{pe=pe.render&&pe.render(),re.$flags$&=-17,re.$flags$|=2,((re,pe)=>{const Oe=re.$hostElement$,Ee=re.$cmpMeta$,ne=re.$vnode$||Te(null,null),ve=(re=>re&&re.$tag$===Je)(pe)?pe:qt(null,null,pe);if(qe=Oe.tagName,Ee.$attrsToReflect$&&(ve.$attrs$=ve.$attrs$||{},Ee.$attrsToReflect$.map(([st,wt])=>ve.$attrs$[wt]=Oe[st])),ve.$tag$=null,ve.$flags$|=4,re.$vnode$=ve,ve.$elm$=ne.$elm$=Oe.shadowRoot||Oe,be=Oe["s-sc"],ke=Oe["s-cr"],je=0!=(1&Ee.$flags$),Se=!1,ui(ne,ve),Gr.$flags$|=1,Re){di(ve.$elm$);let st,wt,$t,tn,Un,jn,Nr=0;for(;Nr<ni.length;Nr++)st=ni[Nr],wt=st.$nodeToRelocate$,wt["s-ol"]||($t=Ur.createTextNode(""),$t["s-nr"]=wt,wt.parentNode.insertBefore(wt["s-ol"]=$t,wt));for(Nr=0;Nr<ni.length;Nr++)if(st=ni[Nr],wt=st.$nodeToRelocate$,st.$slotRefNode$){for(tn=st.$slotRefNode$.parentNode,Un=st.$slotRefNode$.nextSibling,$t=wt["s-ol"];$t=$t.previousSibling;)if(jn=$t["s-nr"],jn&&jn["s-sn"]===wt["s-sn"]&&tn===jn.parentNode&&(jn=jn.nextSibling,!jn||!jn["s-nr"])){Un=jn;break}(!Un&&tn!==wt.parentNode||wt.nextSibling!==Un)&&wt!==Un&&(!wt["s-hn"]&&wt["s-ol"]&&(wt["s-hn"]=wt["s-ol"].parentNode.nodeName),tn.insertBefore(wt,Un))}else 1===wt.nodeType&&(wt.hidden=!0)}Se&&gi(ve.$elm$),Gr.$flags$&=-2,ni.length=0})(re,pe)}catch(Ee){qn(Ee,re.$hostElement$)}return null},wn=re=>{const Oe=re.$hostElement$,ne=re.$lazyInstance$,ve=re.$ancestorComponent$;kr(ne,"componentDidRender"),64&re.$flags$?kr(ne,"componentDidUpdate"):(re.$flags$|=64,Rr(Oe),kr(ne,"componentDidLoad"),re.$onReadyResolve$(Oe),ve||jr()),re.$onInstanceResolve$(Oe),re.$onRenderResolve$&&(re.$onRenderResolve$(),re.$onRenderResolve$=void 0),512&re.$flags$&&ks(()=>Er(re,!1)),re.$flags$&=-517},Hn=re=>{{const pe=kn(re),Oe=pe.$hostElement$.isConnected;return Oe&&2==(18&pe.$flags$)&&Er(pe,!1),Oe}},jr=re=>{Rr(Ur.documentElement),ks(()=>gn(Xr,"appload",{detail:{namespace:"ionic"}}))},kr=(re,pe,Oe)=>{if(re&&re[pe])try{return re[pe](Oe)}catch(Ee){qn(Ee)}},Rr=re=>re.classList.add("hydrated"),ie=(re,pe,Oe)=>{if(pe.$members$){re.watchers&&(pe.$watchers$=re.watchers);const Ee=Object.entries(pe.$members$),ne=re.prototype;if(Ee.map(([ve,[st]])=>{31&st||2&Oe&&32&st?Object.defineProperty(ne,ve,{get(){return((re,pe)=>kn(this).$instanceValues$.get(pe))(0,ve)},set(wt){((re,pe,Oe,Ee)=>{const ne=kn(re),ve=ne.$hostElement$,st=ne.$instanceValues$.get(pe),wt=ne.$flags$,$t=ne.$lazyInstance$;Oe=((re,pe)=>null==re||Dt(re)?re:4&pe?"false"!==re&&(""===re||!!re):2&pe?parseFloat(re):1&pe?String(re):re)(Oe,Ee.$members$[pe][0]);const tn=Number.isNaN(st)&&Number.isNaN(Oe);if((!(8&wt)||void 0===st)&&Oe!==st&&!tn&&(ne.$instanceValues$.set(pe,Oe),$t)){if(Ee.$watchers$&&128&wt){const jn=Ee.$watchers$[pe];jn&&jn.map(Nr=>{try{$t[Nr](Oe,st,pe)}catch(Kr){qn(Kr,ve)}})}2==(18&wt)&&Er(ne,!1)}})(this,ve,wt,pe)},configurable:!0,enumerable:!0}):1&Oe&&64&st&&Object.defineProperty(ne,ve,{value(...wt){const $t=kn(this);return $t.$onInstancePromise$.then(()=>$t.$lazyInstance$[ve](...wt))}})}),1&Oe){const ve=new Map;ne.attributeChangedCallback=function(st,wt,$t){Gr.jmp(()=>{const tn=ve.get(st);if(this.hasOwnProperty(tn))$t=this[tn],delete this[tn];else if(ne.hasOwnProperty(tn)&&"number"==typeof this[tn]&&this[tn]==$t)return;this[tn]=(null!==$t||"boolean"!=typeof this[tn])&&$t})},re.observedAttributes=Ee.filter(([st,wt])=>15&wt[0]).map(([st,wt])=>{const $t=wt[1]||st;return ve.set($t,st),512&wt[0]&&pe.$attrsToReflect$.push([st,$t]),$t})}}return re},ee=function(){var re=(0,d.Z)(function*(pe,Oe,Ee,ne,ve){if(!(32&Oe.$flags$)){Oe.$flags$|=32;{if((ve=Dr(Ee)).then){const tn=()=>{};ve=yield ve,tn()}ve.isProxied||(Ee.$watchers$=ve.watchers,ie(ve,Ee,2),ve.isProxied=!0);const $t=()=>{};Oe.$flags$|=8;try{new ve(Oe)}catch(tn){qn(tn)}Oe.$flags$&=-9,Oe.$flags$|=128,$t(),se(Oe.$lazyInstance$)}if(ve.style){let $t=ve.style;"string"!=typeof $t&&($t=$t[Oe.$modeName$=(re=>Fi.map(pe=>pe(re)).find(pe=>!!pe))(pe)]);const tn=rr(Ee,Oe.$modeName$);if(!$r.has(tn)){const Un=()=>{};tr(tn,$t,!!(1&Ee.$flags$)),Un()}}}const st=Oe.$ancestorComponent$,wt=()=>Er(Oe,!0);st&&st["s-rc"]?st["s-rc"].push(wt):wt()});return function(Oe,Ee,ne,ve,st){return re.apply(this,arguments)}}(),se=re=>{kr(re,"connectedCallback")},xt=re=>{const pe=re["s-cr"]=Ur.createComment("");pe["s-cn"]=!0,re.insertBefore(pe,re.firstChild)},Vt=(re,pe={})=>{var Oe;const ne=[],ve=pe.exclude||[],st=Xr.customElements,wt=Ur.head,$t=wt.querySelector("meta[charset]"),tn=Ur.createElement("style"),Un=[],jn=Ur.querySelectorAll(`[${Mt}]`);let Nr,Kr=!0,gs=0;for(Object.assign(Gr,pe),Gr.$resourcesUrl$=new URL(pe.resourcesUrl||"./",Ur.baseURI).href,Gr.$flags$|=2;gs<jn.length;gs++)tr(jn[gs].getAttribute(Mt),an(jn[gs].innerHTML),!0);re.map(Xi=>{Xi[1].map(Si=>{const Mr={$flags$:Si[0],$tagName$:Si[1],$members$:Si[2],$listeners$:Si[3]};Mr.$members$=Si[2],Mr.$listeners$=Si[3],Mr.$attrsToReflect$=[],Mr.$watchers$={};const An=Mr.$tagName$,Fr=class extends HTMLElement{constructor(Lr){super(Lr),Kt(Lr=this,Mr),1&Mr.$flags$&&Lr.attachShadow({mode:"open",delegatesFocus:!!(16&Mr.$flags$)})}connectedCallback(){Nr&&(clearTimeout(Nr),Nr=null),Kr?Un.push(this):Gr.jmp(()=>(re=>{if(!(1&Gr.$flags$)){const pe=kn(re),Oe=pe.$cmpMeta$,Ee=()=>{};if(1&pe.$flags$)Jt(re,pe,Oe.$listeners$),se(pe.$lazyInstance$);else{let ne;if(pe.$flags$|=1,ne=re.getAttribute(kt),ne){if(1&Oe.$flags$){const ve=ur(re.shadowRoot,Oe,re.getAttribute("s-mode"));re.classList.remove(ve+"-h",ve+"-s")}((re,pe,Oe,Ee)=>{const ve=re.shadowRoot,st=[],$t=ve?[]:null,tn=Ee.$vnode$=Te(pe,null);Gr.$orgLocNodes$||Ot(Ur.body,Gr.$orgLocNodes$=new Map),re[kt]=Oe,re.removeAttribute(kt),Ut(tn,st,[],$t,re,re,Oe),st.map(Un=>{const jn=Un.$hostId$+"."+Un.$nodeId$,Nr=Gr.$orgLocNodes$.get(jn),Kr=Un.$elm$;Nr&&Os&&""===Nr["s-en"]&&Nr.parentNode.insertBefore(Kr,Nr.nextSibling),ve||(Kr["s-hn"]=pe,Nr&&(Kr["s-ol"]=Nr,Kr["s-ol"]["s-nr"]=Kr)),Gr.$orgLocNodes$.delete(jn)}),ve&&$t.map(Un=>{Un&&ve.appendChild(Un)})})(re,Oe.$tagName$,ne,pe)}ne||12&Oe.$flags$&&xt(re);{let ve=re;for(;ve=ve.parentNode||ve.host;)if(1===ve.nodeType&&ve.hasAttribute("s-id")&&ve["s-p"]||ve["s-p"]){Di(pe,pe.$ancestorComponent$=ve);break}}Oe.$members$&&Object.entries(Oe.$members$).map(([ve,[st]])=>{if(31&st&&re.hasOwnProperty(ve)){const wt=re[ve];delete re[ve],re[ve]=wt}}),ee(re,pe,Oe)}Ee()}})(this))}disconnectedCallback(){Gr.jmp(()=>(re=>{if(!(1&Gr.$flags$)){const pe=kn(this),Oe=pe.$lazyInstance$;pe.$rmListeners$&&(pe.$rmListeners$.map(Ee=>Ee()),pe.$rmListeners$=void 0),kr(Oe,"disconnectedCallback")}})())}componentOnReady(){return kn(this).$onReadyPromise$}};Mr.$lazyBundleId$=Xi[0],!ve.includes(An)&&!st.get(An)&&(ne.push(An),st.define(An,ie(Fr,Mr,1)))})});{tn.innerHTML=ne+"{visibility:hidden}.hydrated{visibility:inherit}",tn.setAttribute("data-styles","");const Xi=null!==(Oe=Gr.$nonce$)&&void 0!==Oe?Oe:Lt(Ur);null!=Xi&&tn.setAttribute("nonce",Xi),wt.insertBefore(tn,$t?$t.nextSibling:wt.firstChild)}Kr=!1,Un.length?Un.map(Xi=>Xi.connectedCallback()):Gr.jmp(()=>Nr=setTimeout(jr,30))},Jt=(re,pe,Oe,Ee)=>{Oe&&Oe.map(([ne,ve,st])=>{const wt=vn(re,ne),$t=Cn(pe,st),tn=$n(ne);Gr.ael(wt,ve,$t,tn),(pe.$rmListeners$=pe.$rmListeners$||[]).push(()=>Gr.rel(wt,ve,$t,tn))})},Cn=(re,pe)=>Oe=>{try{256&re.$flags$?re.$lazyInstance$[pe](Oe):(re.$queuedListeners$=re.$queuedListeners$||[]).push([pe,Oe])}catch(Ee){qn(Ee)}},vn=(re,pe)=>4&pe?Ur:8&pe?Xr:16&pe?Ur.body:re,$n=re=>0!=(2&re),yn=new WeakMap,kn=re=>yn.get(re),Bt=(re,pe)=>yn.set(pe.$lazyInstance$=re,pe),Kt=(re,pe)=>{const Oe={$flags$:0,$hostElement$:re,$cmpMeta$:pe,$instanceValues$:new Map};return Oe.$onInstancePromise$=new Promise(Ee=>Oe.$onInstanceResolve$=Ee),Oe.$onReadyPromise$=new Promise(Ee=>Oe.$onReadyResolve$=Ee),re["s-p"]=[],re["s-rc"]=[],Jt(re,Oe,pe.$listeners$),yn.set(re,Oe)},fn=(re,pe)=>pe in re,qn=(re,pe)=>(0,console.error)(re,pe),pr=new Map,Dr=(re,pe,Oe)=>{const Ee=re.$tagName$.replace(/-/g,"_"),ne=re.$lazyBundleId$,ve=pr.get(ne);return ve?ve[Ee]:z(863)(`./${ne}.entry.js`).then(st=>(pr.set(ne,st),st[Ee]),qn)},$r=new Map,Fi=[],Xr=typeof window<"u"?window:{},Ur=Xr.document||{head:{}},Gr={$flags$:0,$resourcesUrl$:"",jmp:re=>re(),raf:re=>requestAnimationFrame(re),ael:(re,pe,Oe,Ee)=>re.addEventListener(pe,Oe,Ee),rel:(re,pe,Oe,Ee)=>re.removeEventListener(pe,Oe,Ee),ce:(re,pe)=>new CustomEvent(re,pe)},ls=re=>{Object.assign(Gr,re)},Os=!0,to=re=>Promise.resolve(re),ps=(()=>{try{return new CSSStyleSheet,"function"==typeof(new CSSStyleSheet).replaceSync}catch{}return!1})(),cs=[],Eo=[],es=(re,pe)=>Oe=>{re.push(Oe),Le||(Le=!0,pe&&4&Gr.$flags$?ks(zs):Gr.raf(zs))},Hi=re=>{for(let pe=0;pe<re.length;pe++)try{re[pe](performance.now())}catch(Oe){qn(Oe)}re.length=0},zs=()=>{Hi(cs),Hi(Eo),(Le=cs.length>0)&&Gr.raf(zs)},ks=re=>to().then(re),Ns=es(cs,!1),Fs=es(Eo,!0)},8126:(Jn,Ft,z)=>{"use strict";z.d(Ft,{m:()=>xe});var d=z(5861),E=z(7593),be=z(3577),ke=z(5273),qe=z(9613);const je=it=>(0,qe.c)().duration(it?400:300),Se=it=>{let Me,lt;const pt=it.width+8,jt=(0,qe.c)(),We=(0,qe.c)();it.isEndSide?(Me=pt+"px",lt="0px"):(Me=-pt+"px",lt="0px"),jt.addElement(it.menuInnerEl).fromTo("transform",`translateX(${Me})`,`translateX(${lt})`);const kt="ios"===(0,ke.b)(it),Mt=kt?.2:.25;return We.addElement(it.backdropEl).fromTo("opacity",.01,Mt),je(kt).addAnimation([jt,We])},Re=it=>{let Me,lt;const pt=(0,ke.b)(it),jt=it.width;it.isEndSide?(Me=-jt+"px",lt=jt+"px"):(Me=jt+"px",lt=-jt+"px");const We=(0,qe.c)().addElement(it.menuInnerEl).fromTo("transform",`translateX(${lt})`,"translateX(0px)"),Be=(0,qe.c)().addElement(it.contentEl).fromTo("transform","translateX(0px)",`translateX(${Me})`),kt=(0,qe.c)().addElement(it.backdropEl).fromTo("opacity",.01,.32);return je("ios"===pt).addAnimation([We,Be,kt])},Ze=it=>{const Me=(0,ke.b)(it),lt=it.width*(it.isEndSide?-1:1)+"px",pt=(0,qe.c)().addElement(it.contentEl).fromTo("transform","translateX(0px)",`translateX(${lt})`);return je("ios"===Me).addAnimation(pt)},xe=(()=>{const it=new Map,Me=[],lt=function(){var tt=(0,d.Z)(function*(dt){const Ut=yield ft(dt);return!!Ut&&Ut.open()});return function(Ut){return tt.apply(this,arguments)}}(),pt=function(){var tt=(0,d.Z)(function*(dt){const Ut=yield void 0!==dt?ft(dt):It();return void 0!==Ut&&Ut.close()});return function(Ut){return tt.apply(this,arguments)}}(),jt=function(){var tt=(0,d.Z)(function*(dt){const Ut=yield ft(dt);return!!Ut&&Ut.toggle()});return function(Ut){return tt.apply(this,arguments)}}(),We=function(){var tt=(0,d.Z)(function*(dt,Ut){const Ot=yield ft(Ut);return Ot&&(Ot.disabled=!dt),Ot});return function(Ut,Ot){return tt.apply(this,arguments)}}(),Be=function(){var tt=(0,d.Z)(function*(dt,Ut){const Ot=yield ft(Ut);return Ot&&(Ot.swipeGesture=dt),Ot});return function(Ut,Ot){return tt.apply(this,arguments)}}(),kt=function(){var tt=(0,d.Z)(function*(dt){if(null!=dt){const Ut=yield ft(dt);return void 0!==Ut&&Ut.isOpen()}return void 0!==(yield It())});return function(Ut){return tt.apply(this,arguments)}}(),Mt=function(){var tt=(0,d.Z)(function*(dt){const Ut=yield ft(dt);return!!Ut&&!Ut.disabled});return function(Ut){return tt.apply(this,arguments)}}(),ft=function(){var tt=(0,d.Z)(function*(dt){return yield et(),"start"===dt||"end"===dt?yt(en=>en.side===dt&&!en.disabled)||yt(en=>en.side===dt):null!=dt?yt(Ot=>Ot.menuId===dt):yt(Ot=>!Ot.disabled)||(Me.length>0?Me[0].el:void 0)});return function(Ut){return tt.apply(this,arguments)}}(),It=function(){var tt=(0,d.Z)(function*(){return yield et(),Te()});return function(){return tt.apply(this,arguments)}}(),St=function(){var tt=(0,d.Z)(function*(){return yield et(),Je()});return function(){return tt.apply(this,arguments)}}(),Ct=function(){var tt=(0,d.Z)(function*(){return yield et(),ct()});return function(){return tt.apply(this,arguments)}}(),gt=(tt,dt)=>{it.set(tt,dt)},Dt=tt=>{const dt=tt.side;Me.filter(Ut=>Ut.side===dt&&Ut!==tt).forEach(Ut=>Ut.disabled=!0)},Lt=function(){var tt=(0,d.Z)(function*(dt,Ut,Ot){if(ct())return!1;if(Ut){const en=yield It();en&&dt.el!==en&&(yield en.setOpen(!1,!1))}return dt._setOpen(Ut,Ot)});return function(Ut,Ot,en){return tt.apply(this,arguments)}}(),Te=()=>yt(tt=>tt._isOpen),Je=()=>Me.map(tt=>tt.el),ct=()=>Me.some(tt=>tt.isAnimating),yt=tt=>{const dt=Me.find(tt);if(void 0!==dt)return dt.el},et=()=>Promise.all(Array.from(document.querySelectorAll("ion-menu")).map(tt=>new Promise(dt=>(0,be.c)(tt,dt))));return gt("reveal",Ze),gt("push",Re),gt("overlay",Se),typeof document<"u"&&document.addEventListener("ionBackButton",tt=>{const dt=Te();dt&&tt.detail.register(E.MENU_BACK_BUTTON_PRIORITY,()=>dt.close())}),{registerAnimation:gt,get:ft,getMenus:St,getOpen:It,isEnabled:Mt,swipeGesture:Be,isAnimating:Ct,isOpen:kt,enable:We,toggle:jt,close:pt,open:lt,_getOpenSync:Te,_createAnimation:(tt,dt)=>{const Ut=it.get(tt);if(!Ut)throw new Error("animation not registered");return Ut(dt)},_register:tt=>{Me.indexOf(tt)<0&&(tt.disabled||Dt(tt),Me.push(tt))},_unregister:tt=>{const dt=Me.indexOf(tt);dt>-1&&Me.splice(dt,1)},_setOpen:Lt,_setActiveMenu:Dt}})()},1178:(Jn,Ft,z)=>{"use strict";z.d(Ft,{a:()=>E,b:()=>be,p:()=>d});const d=(ke,...qe)=>console.warn(`[Ionic Warning]: ${ke}`,...qe),E=(ke,...qe)=>console.error(`[Ionic Error]: ${ke}`,...qe),be=(ke,...qe)=>console.error(`<${ke.tagName.toLowerCase()}> must be used inside ${qe.join(" or ")}.`)},9866:(Jn,Ft,z)=>{"use strict";z.d(Ft,{L:()=>ke,a:()=>qe,b:()=>je,c:()=>Se,d:()=>Re,e:()=>Ct,g:()=>Gt,l:()=>St,s:()=>gt,t:()=>xe});var d=z(5861),E=z(4083),be=z(3577);const ke="ionViewWillEnter",qe="ionViewDidEnter",je="ionViewWillLeave",Se="ionViewDidLeave",Re="ionViewWillUnload",xe=Dt=>new Promise((Lt,qt)=>{(0,E.w)(()=>{it(Dt),Me(Dt).then(Te=>{Te.animation&&Te.animation.destroy(),lt(Dt),Lt(Te)},Te=>{lt(Dt),qt(Te)})})}),it=Dt=>{const Lt=Dt.enteringEl,qt=Dt.leavingEl;te(Lt,qt,Dt.direction),Dt.showGoBack?Lt.classList.add("can-go-back"):Lt.classList.remove("can-go-back"),gt(Lt,!1),Lt.style.setProperty("pointer-events","none"),qt&&(gt(qt,!1),qt.style.setProperty("pointer-events","none"))},Me=function(){var Dt=(0,d.Z)(function*(Lt){const qt=yield pt(Lt);return qt&&E.B.isBrowser?jt(qt,Lt):We(Lt)});return function(qt){return Dt.apply(this,arguments)}}(),lt=Dt=>{const Lt=Dt.enteringEl,qt=Dt.leavingEl;Lt.classList.remove("ion-page-invisible"),Lt.style.removeProperty("pointer-events"),void 0!==qt&&(qt.classList.remove("ion-page-invisible"),qt.style.removeProperty("pointer-events"))},pt=function(){var Dt=(0,d.Z)(function*(Lt){return Lt.leavingEl&&Lt.animated&&0!==Lt.duration?Lt.animationBuilder?Lt.animationBuilder:"ios"===Lt.mode?(yield Promise.resolve().then(z.bind(z,3551))).iosTransitionAnimation:(yield Promise.resolve().then(z.bind(z,1138))).mdTransitionAnimation:void 0});return function(qt){return Dt.apply(this,arguments)}}(),jt=function(){var Dt=(0,d.Z)(function*(Lt,qt){yield Be(qt,!0);const Te=Lt(qt.baseEl,qt);ft(qt.enteringEl,qt.leavingEl);const Je=yield Mt(Te,qt);return qt.progressCallback&&qt.progressCallback(void 0),Je&&It(qt.enteringEl,qt.leavingEl),{hasCompleted:Je,animation:Te}});return function(qt,Te){return Dt.apply(this,arguments)}}(),We=function(){var Dt=(0,d.Z)(function*(Lt){const qt=Lt.enteringEl,Te=Lt.leavingEl;return yield Be(Lt,!1),ft(qt,Te),It(qt,Te),{hasCompleted:!0}});return function(qt){return Dt.apply(this,arguments)}}(),Be=function(){var Dt=(0,d.Z)(function*(Lt,qt){(void 0!==Lt.deepWait?Lt.deepWait:qt)&&(yield Promise.all([Ct(Lt.enteringEl),Ct(Lt.leavingEl)])),yield kt(Lt.viewIsReady,Lt.enteringEl)});return function(qt,Te){return Dt.apply(this,arguments)}}(),kt=function(){var Dt=(0,d.Z)(function*(Lt,qt){Lt&&(yield Lt(qt))});return function(qt,Te){return Dt.apply(this,arguments)}}(),Mt=(Dt,Lt)=>{const qt=Lt.progressCallback,Te=new Promise(Je=>{Dt.onFinish(ct=>Je(1===ct))});return qt?(Dt.progressStart(!0),qt(Dt)):Dt.play(),Te},ft=(Dt,Lt)=>{St(Lt,je),St(Dt,ke)},It=(Dt,Lt)=>{St(Dt,qe),St(Lt,Se)},St=(Dt,Lt)=>{if(Dt){const qt=new CustomEvent(Lt,{bubbles:!1,cancelable:!1});Dt.dispatchEvent(qt)}},Ct=function(){var Dt=(0,d.Z)(function*(Lt){const qt=Lt;if(qt){if(null!=qt.componentOnReady){if(null!=(yield qt.componentOnReady()))return}else if(null!=qt.__registerHost)return void(yield new Promise(Je=>(0,be.r)(Je)));yield Promise.all(Array.from(qt.children).map(Ct))}});return function(qt){return Dt.apply(this,arguments)}}(),gt=(Dt,Lt)=>{Lt?(Dt.setAttribute("aria-hidden","true"),Dt.classList.add("ion-page-hidden")):(Dt.hidden=!1,Dt.removeAttribute("aria-hidden"),Dt.classList.remove("ion-page-hidden"))},te=(Dt,Lt,qt)=>{void 0!==Dt&&(Dt.style.zIndex="back"===qt?"99":"101"),void 0!==Lt&&(Lt.style.zIndex="100")},Gt=Dt=>Dt.classList.contains("ion-page")?Dt:Dt.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")||Dt},5273:(Jn,Ft,z)=>{"use strict";z.d(Ft,{a:()=>xe,b:()=>ct,c:()=>be,g:()=>Le,i:()=>yt});var d=z(4083);class E{constructor(){this.m=new Map}reset(tt){this.m=new Map(Object.entries(tt))}get(tt,dt){const Ut=this.m.get(tt);return void 0!==Ut?Ut:dt}getBoolean(tt,dt=!1){const Ut=this.m.get(tt);return void 0===Ut?dt:"string"==typeof Ut?"true"===Ut:!!Ut}getNumber(tt,dt){const Ut=parseFloat(this.m.get(tt));return isNaN(Ut)?void 0!==dt?dt:NaN:Ut}set(tt,dt){this.m.set(tt,dt)}}const be=new E,Ze="ionic-persist-config",Le=et=>it(et),xe=(et,tt)=>("string"==typeof et&&(tt=et,et=void 0),Le(et).includes(tt)),it=(et=window)=>{if(typeof et>"u")return[];et.Ionic=et.Ionic||{};let tt=et.Ionic.platforms;return null==tt&&(tt=et.Ionic.platforms=Me(et),tt.forEach(dt=>et.document.documentElement.classList.add(`plt-${dt}`))),tt},Me=et=>{const tt=be.get("platform");return Object.keys(Te).filter(dt=>{const Ut=null==tt?void 0:tt[dt];return"function"==typeof Ut?Ut(et):Te[dt](et)})},pt=et=>!!(Lt(et,/iPad/i)||Lt(et,/Macintosh/i)&&It(et)),Be=et=>Lt(et,/android|sink/i),It=et=>qt(et,"(any-pointer:coarse)"),Ct=et=>gt(et)||te(et),gt=et=>!!(et.cordova||et.phonegap||et.PhoneGap),te=et=>{const tt=et.Capacitor;return!(null==tt||!tt.isNative)},Lt=(et,tt)=>tt.test(et.navigator.userAgent),qt=(et,tt)=>{var dt;return null===(dt=et.matchMedia)||void 0===dt?void 0:dt.call(et,tt).matches},Te={ipad:pt,iphone:et=>Lt(et,/iPhone/i),ios:et=>Lt(et,/iPhone|iPod/i)||pt(et),android:Be,phablet:et=>{const tt=et.innerWidth,dt=et.innerHeight,Ut=Math.min(tt,dt),Ot=Math.max(tt,dt);return Ut>390&&Ut<520&&Ot>620&&Ot<800},tablet:et=>{const tt=et.innerWidth,dt=et.innerHeight,Ut=Math.min(tt,dt),Ot=Math.max(tt,dt);return pt(et)||(et=>Be(et)&&!Lt(et,/mobile/i))(et)||Ut>460&&Ut<820&&Ot>780&&Ot<1400},cordova:gt,capacitor:te,electron:et=>Lt(et,/electron/i),pwa:et=>{var tt;return!!(null!==(tt=et.matchMedia)&&void 0!==tt&&tt.call(et,"(display-mode: standalone)").matches||et.navigator.standalone)},mobile:It,mobileweb:et=>It(et)&&!Ct(et),desktop:et=>!It(et),hybrid:Ct};let Je;const ct=et=>et&&(0,d.g)(et)||Je,yt=(et={})=>{if(typeof window>"u")return;const tt=window.document,dt=window,Ut=dt.Ionic=dt.Ionic||{},Ot={};et._ael&&(Ot.ael=et._ael),et._rel&&(Ot.rel=et._rel),et._ce&&(Ot.ce=et._ce),(0,d.a)(Ot);const en=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},(et=>{try{const tt=et.sessionStorage.getItem(Ze);return null!==tt?JSON.parse(tt):{}}catch{return{}}})(dt)),{persistConfig:!1}),Ut.config),(et=>{const tt={};return et.location.search.slice(1).split("&").map(dt=>dt.split("=")).map(([dt,Ut])=>[decodeURIComponent(dt),decodeURIComponent(Ut)]).filter(([dt])=>((et,tt)=>et.substr(0,tt.length)===tt)(dt,"ionic:")).map(([dt,Ut])=>[dt.slice(6),Ut]).forEach(([dt,Ut])=>{tt[dt]=Ut}),tt})(dt)),et);be.reset(en),be.getBoolean("persistConfig")&&((et,tt)=>{try{et.sessionStorage.setItem(Ze,JSON.stringify(tt))}catch{return}})(dt,en),it(dt),Ut.config=be,Ut.mode=Je=be.get("mode",tt.documentElement.getAttribute("mode")||(xe(dt,"ios")?"ios":"md")),be.set("mode",Je),tt.documentElement.setAttribute("mode",Je),tt.documentElement.classList.add(Je),be.getBoolean("_testing")&&be.set("animated",!1);const rn=nn=>{var _t;return null===(_t=nn.tagName)||void 0===_t?void 0:_t.startsWith("ION-")},On=nn=>["ios","md"].includes(nn);(0,d.c)(nn=>{for(;nn;){const _t=nn.mode||nn.getAttribute("mode");if(_t){if(On(_t))return _t;rn(nn)&&console.warn('Invalid ionic mode: "'+_t+'", expected: "ios" or "md"')}nn=nn.parentElement}return Je})}},3551:(Jn,Ft,z)=>{"use strict";z.r(Ft),z.d(Ft,{iosTransitionAnimation:()=>Me,shadow:()=>Se});var d=z(9613),E=z(9866);z(3457),z(4083);const je=lt=>document.querySelector(`${lt}.ion-cloned-element`),Se=lt=>lt.shadowRoot||lt,Re=lt=>{const pt="ION-TABS"===lt.tagName?lt:lt.querySelector("ion-tabs"),jt="ion-content ion-header:not(.header-collapse-condense-inactive) ion-title.title-large";if(null!=pt){const We=pt.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");return null!=We?We.querySelector(jt):null}return lt.querySelector(jt)},Ze=(lt,pt)=>{const jt="ION-TABS"===lt.tagName?lt:lt.querySelector("ion-tabs");let We=[];if(null!=jt){const Be=jt.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");null!=Be&&(We=Be.querySelectorAll("ion-buttons"))}else We=lt.querySelectorAll("ion-buttons");for(const Be of We){const kt=Be.closest("ion-header"),Mt=kt&&!kt.classList.contains("header-collapse-condense-inactive"),ft=Be.querySelector("ion-back-button"),It=Be.classList.contains("buttons-collapse");if(null!==ft&&("start"===Be.slot||""===Be.slot)&&(It&&Mt&&pt||!It))return ft}return null},xe=(lt,pt,jt,We,Be,kt)=>{const Mt=pt?`calc(100% - ${kt.right+4}px)`:kt.left-4+"px",ft=pt?"7px":"-7px",It=pt?"-4px":"4px",St=pt?"-4px":"4px",Ct=pt?"right":"left",gt=pt?"left":"right",Dt=jt?[{offset:0,opacity:1,transform:`translate3d(${It}, ${kt.top-46}px, 0) scale(1)`},{offset:.6,opacity:0},{offset:1,opacity:0,transform:`translate3d(${ft}, ${Be.top-40}px, 0) scale(2.1)`}]:[{offset:0,opacity:0,transform:`translate3d(${ft}, ${Be.top-40}px, 0) scale(2.1)`},{offset:1,opacity:1,transform:`translate3d(${It}, ${kt.top-46}px, 0) scale(1)`}],Te=jt?[{offset:0,opacity:1,transform:`translate3d(${St}, ${kt.top-46}px, 0) scale(1)`},{offset:.2,opacity:0,transform:`translate3d(${St}, ${kt.top-41}px, 0) scale(0.6)`},{offset:1,opacity:0,transform:`translate3d(${St}, ${kt.top-41}px, 0) scale(0.6)`}]:[{offset:0,opacity:0,transform:`translate3d(${St}, ${kt.top-41}px, 0) scale(0.6)`},{offset:1,opacity:1,transform:`translate3d(${St}, ${kt.top-46}px, 0) scale(1)`}],Je=(0,d.c)(),ct=(0,d.c)(),yt=je("ion-back-button"),et=Se(yt).querySelector(".button-text"),tt=Se(yt).querySelector("ion-icon");yt.text=We.text,yt.mode=We.mode,yt.icon=We.icon,yt.color=We.color,yt.disabled=We.disabled,yt.style.setProperty("display","block"),yt.style.setProperty("position","fixed"),ct.addElement(tt),Je.addElement(et),Je.beforeStyles({"transform-origin":`${Ct} center`}).beforeAddWrite(()=>{We.style.setProperty("display","none"),yt.style.setProperty(Ct,Mt)}).afterAddWrite(()=>{We.style.setProperty("display",""),yt.style.setProperty("display","none"),yt.style.removeProperty(Ct)}).keyframes(Dt),ct.beforeStyles({"transform-origin":`${gt} center`}).keyframes(Te),lt.addAnimation([Je,ct])},it=(lt,pt,jt,We,Be,kt)=>{const Mt=pt?`calc(100% - ${Be.right}px)`:`${Be.left}px`,ft=pt?"-18px":"18px",It=pt?"right":"left",gt=jt?[{offset:0,opacity:0,transform:`translate3d(${ft}, ${kt.top-4}px, 0) scale(0.49)`},{offset:.1,opacity:0},{offset:1,opacity:1,transform:`translate3d(0, ${Be.top-2}px, 0) scale(1)`}]:[{offset:0,opacity:.99,transform:`translate3d(0, ${Be.top-2}px, 0) scale(1)`},{offset:.6,opacity:0},{offset:1,opacity:0,transform:`translate3d(${ft}, ${kt.top-4}px, 0) scale(0.5)`}],te=je("ion-title"),Gt=(0,d.c)();te.innerText=We.innerText,te.size=We.size,te.color=We.color,Gt.addElement(te),Gt.beforeStyles({"transform-origin":`${It} center`,height:"46px",display:"",position:"relative",[It]:Mt}).beforeAddWrite(()=>{We.style.setProperty("display","none")}).afterAddWrite(()=>{We.style.setProperty("display",""),te.style.setProperty("display","none")}).keyframes(gt),lt.addAnimation(Gt)},Me=(lt,pt)=>{var jt;try{const We="cubic-bezier(0.32,0.72,0,1)",Be="opacity",kt="transform",Mt="0%",It="rtl"===lt.ownerDocument.dir,St=It?"-99.5%":"99.5%",Ct=It?"33%":"-33%",gt=pt.enteringEl,te=pt.leavingEl,Gt="back"===pt.direction,Dt=gt.querySelector(":scope > ion-content"),Lt=gt.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *"),qt=gt.querySelectorAll(":scope > ion-header > ion-toolbar"),Te=(0,d.c)(),Je=(0,d.c)();if(Te.addElement(gt).duration((null!==(jt=pt.duration)&&void 0!==jt?jt:0)||540).easing(pt.easing||We).fill("both").beforeRemoveClass("ion-page-invisible"),te&&null!=lt){const tt=(0,d.c)();tt.addElement(lt),Te.addAnimation(tt)}if(Dt||0!==qt.length||0!==Lt.length?(Je.addElement(Dt),Je.addElement(Lt)):Je.addElement(gt.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),Te.addAnimation(Je),Gt?Je.beforeClearStyles([Be]).fromTo("transform",`translateX(${Ct})`,`translateX(${Mt})`).fromTo(Be,.8,1):Je.beforeClearStyles([Be]).fromTo("transform",`translateX(${St})`,`translateX(${Mt})`),Dt){const tt=Se(Dt).querySelector(".transition-effect");if(tt){const dt=tt.querySelector(".transition-cover"),Ut=tt.querySelector(".transition-shadow"),Ot=(0,d.c)(),en=(0,d.c)(),rn=(0,d.c)();Ot.addElement(tt).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),en.addElement(dt).beforeClearStyles([Be]).fromTo(Be,0,.1),rn.addElement(Ut).beforeClearStyles([Be]).fromTo(Be,.03,.7),Ot.addAnimation([en,rn]),Je.addAnimation([Ot])}}const ct=gt.querySelector("ion-header.header-collapse-condense"),{forward:yt,backward:et}=((lt,pt,jt,We,Be)=>{const kt=Ze(We,jt),Mt=Re(Be),ft=Re(We),It=Ze(Be,jt),St=null!==kt&&null!==Mt&&!jt,Ct=null!==ft&&null!==It&&jt;if(St){const gt=Mt.getBoundingClientRect(),te=kt.getBoundingClientRect();it(lt,pt,jt,Mt,gt,te),xe(lt,pt,jt,kt,gt,te)}else if(Ct){const gt=ft.getBoundingClientRect(),te=It.getBoundingClientRect();it(lt,pt,jt,ft,gt,te),xe(lt,pt,jt,It,gt,te)}return{forward:St,backward:Ct}})(Te,It,Gt,gt,te);if(qt.forEach(tt=>{const dt=(0,d.c)();dt.addElement(tt),Te.addAnimation(dt);const Ut=(0,d.c)();Ut.addElement(tt.querySelector("ion-title"));const Ot=(0,d.c)(),en=Array.from(tt.querySelectorAll("ion-buttons,[menuToggle]")),rn=tt.closest("ion-header"),On=null==rn?void 0:rn.classList.contains("header-collapse-condense-inactive");let nn;nn=en.filter(Gt?tr=>{const ur=tr.classList.contains("buttons-collapse");return ur&&!On||!ur}:tr=>!tr.classList.contains("buttons-collapse")),Ot.addElement(nn);const _t=(0,d.c)();_t.addElement(tt.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])"));const cn=(0,d.c)();cn.addElement(Se(tt).querySelector(".toolbar-background"));const gn=(0,d.c)(),Zn=tt.querySelector("ion-back-button");if(Zn&&gn.addElement(Zn),dt.addAnimation([Ut,Ot,_t,cn,gn]),Ot.fromTo(Be,.01,1),_t.fromTo(Be,.01,1),Gt)On||Ut.fromTo("transform",`translateX(${Ct})`,`translateX(${Mt})`).fromTo(Be,.01,1),_t.fromTo("transform",`translateX(${Ct})`,`translateX(${Mt})`),gn.fromTo(Be,.01,1);else if(ct||Ut.fromTo("transform",`translateX(${St})`,`translateX(${Mt})`).fromTo(Be,.01,1),_t.fromTo("transform",`translateX(${St})`,`translateX(${Mt})`),cn.beforeClearStyles([Be,"transform"]),(null==rn?void 0:rn.translucent)?cn.fromTo("transform",It?"translateX(-100%)":"translateX(100%)","translateX(0px)"):cn.fromTo(Be,.01,"var(--opacity)"),yt||gn.fromTo(Be,.01,1),Zn&&!yt){const ur=(0,d.c)();ur.addElement(Se(Zn).querySelector(".button-text")).fromTo("transform",It?"translateX(-100px)":"translateX(100px)","translateX(0px)"),dt.addAnimation(ur)}}),te){const tt=(0,d.c)(),dt=te.querySelector(":scope > ion-content"),Ut=te.querySelectorAll(":scope > ion-header > ion-toolbar"),Ot=te.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *");if(dt||0!==Ut.length||0!==Ot.length?(tt.addElement(dt),tt.addElement(Ot)):tt.addElement(te.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),Te.addAnimation(tt),Gt){tt.beforeClearStyles([Be]).fromTo("transform",`translateX(${Mt})`,It?"translateX(-100%)":"translateX(100%)");const en=(0,E.g)(te);Te.afterAddWrite(()=>{"normal"===Te.getDirection()&&en.style.setProperty("display","none")})}else tt.fromTo("transform",`translateX(${Mt})`,`translateX(${Ct})`).fromTo(Be,1,.8);if(dt){const en=Se(dt).querySelector(".transition-effect");if(en){const rn=en.querySelector(".transition-cover"),On=en.querySelector(".transition-shadow"),nn=(0,d.c)(),_t=(0,d.c)(),cn=(0,d.c)();nn.addElement(en).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),_t.addElement(rn).beforeClearStyles([Be]).fromTo(Be,.1,0),cn.addElement(On).beforeClearStyles([Be]).fromTo(Be,.7,.03),nn.addAnimation([_t,cn]),tt.addAnimation([nn])}}Ut.forEach(en=>{const rn=(0,d.c)();rn.addElement(en);const On=(0,d.c)();On.addElement(en.querySelector("ion-title"));const nn=(0,d.c)(),_t=en.querySelectorAll("ion-buttons,[menuToggle]"),cn=en.closest("ion-header"),gn=null==cn?void 0:cn.classList.contains("header-collapse-condense-inactive"),Zn=Array.from(_t).filter(Pr=>{const Br=Pr.classList.contains("buttons-collapse");return Br&&!gn||!Br});nn.addElement(Zn);const tr=(0,d.c)(),ur=en.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])");ur.length>0&&tr.addElement(ur);const un=(0,d.c)();un.addElement(Se(en).querySelector(".toolbar-background"));const rr=(0,d.c)(),an=en.querySelector("ion-back-button");if(an&&rr.addElement(an),rn.addAnimation([On,nn,tr,rr,un]),Te.addAnimation(rn),rr.fromTo(Be,.99,0),nn.fromTo(Be,.99,0),tr.fromTo(Be,.99,0),Gt){if(gn||On.fromTo("transform",`translateX(${Mt})`,It?"translateX(-100%)":"translateX(100%)").fromTo(Be,.99,0),tr.fromTo("transform",`translateX(${Mt})`,It?"translateX(-100%)":"translateX(100%)"),un.beforeClearStyles([Be,"transform"]),(null==cn?void 0:cn.translucent)?un.fromTo("transform","translateX(0px)",It?"translateX(-100%)":"translateX(100%)"):un.fromTo(Be,"var(--opacity)",0),an&&!et){const Br=(0,d.c)();Br.addElement(Se(an).querySelector(".button-text")).fromTo("transform",`translateX(${Mt})`,`translateX(${(It?-124:124)+"px"})`),rn.addAnimation(Br)}}else gn||On.fromTo("transform",`translateX(${Mt})`,`translateX(${Ct})`).fromTo(Be,.99,0).afterClearStyles([kt,Be]),tr.fromTo("transform",`translateX(${Mt})`,`translateX(${Ct})`).afterClearStyles([kt,Be]),rr.afterClearStyles([Be]),On.afterClearStyles([Be]),nn.afterClearStyles([Be])})}return Te}catch(We){throw We}}},1138:(Jn,Ft,z)=>{"use strict";z.r(Ft),z.d(Ft,{mdTransitionAnimation:()=>qe});var d=z(9613),E=z(9866);z(3457),z(4083);const qe=(je,Se)=>{var Re,Ze,Le;const Me="back"===Se.direction,pt=Se.leavingEl,jt=(0,E.g)(Se.enteringEl),We=jt.querySelector("ion-toolbar"),Be=(0,d.c)();if(Be.addElement(jt).fill("both").beforeRemoveClass("ion-page-invisible"),Me?Be.duration((null!==(Re=Se.duration)&&void 0!==Re?Re:0)||200).easing("cubic-bezier(0.47,0,0.745,0.715)"):Be.duration((null!==(Ze=Se.duration)&&void 0!==Ze?Ze:0)||280).easing("cubic-bezier(0.36,0.66,0.04,1)").fromTo("transform","translateY(40px)","translateY(0px)").fromTo("opacity",.01,1),We){const kt=(0,d.c)();kt.addElement(We),Be.addAnimation(kt)}if(pt&&Me){Be.duration((null!==(Le=Se.duration)&&void 0!==Le?Le:0)||200).easing("cubic-bezier(0.47,0,0.745,0.715)");const kt=(0,d.c)();kt.addElement((0,E.g)(pt)).onFinish(Mt=>{1===Mt&&kt.elements.length>0&&kt.elements[0].style.setProperty("display","none")}).fromTo("transform","translateY(0px)","translateY(40px)").fromTo("opacity",1,0),Be.addAnimation(kt)}return Be}},2583:(Jn,Ft,z)=>{"use strict";z.d(Ft,{B:()=>Ot,G:()=>en,a:()=>Le,b:()=>xe,c:()=>pt,d:()=>rn,e:()=>On,f:()=>Lt,g:()=>Te,h:()=>yt,i:()=>tt,j:()=>We,k:()=>Re,l:()=>it,m:()=>Me,n:()=>Mt,o:()=>Gt,s:()=>Ut,t:()=>jt});var d=z(5861),E=z(5273),be=z(6782),ke=z(7593),qe=z(3577),je=z(1178);let Se=0;const Re=new WeakMap,Ze=nn=>({create:_t=>Be(nn,_t),dismiss:(_t,cn,gn)=>gt(document,_t,cn,nn,gn),getTop:()=>(0,d.Z)(function*(){return Gt(document,nn)})()}),Le=Ze("ion-alert"),xe=Ze("ion-action-sheet"),it=Ze("ion-loading"),Me=Ze("ion-modal"),pt=Ze("ion-popover"),jt=Ze("ion-toast"),We=nn=>{typeof document<"u"&&Ct(document);const _t=Se++;nn.overlayIndex=_t,nn.hasAttribute("id")||(nn.id=`ion-overlay-${_t}`)},Be=(nn,_t)=>typeof window<"u"&&typeof window.customElements<"u"?window.customElements.whenDefined(nn).then(()=>{const cn=document.createElement(nn);return cn.classList.add("overlay-hidden"),Object.assign(cn,Object.assign(Object.assign({},_t),{hasController:!0})),Je(document).appendChild(cn),new Promise(gn=>(0,qe.c)(cn,gn))}):Promise.resolve(),kt='[tabindex]:not([tabindex^="-"]):not([hidden]):not([disabled]), input:not([type=hidden]):not([tabindex^="-"]):not([hidden]):not([disabled]), textarea:not([tabindex^="-"]):not([hidden]):not([disabled]), button:not([tabindex^="-"]):not([hidden]):not([disabled]), select:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable[disabled="false"]:not([tabindex^="-"]):not([hidden])',Mt=(nn,_t)=>{let cn=nn.querySelector(kt);const gn=null==cn?void 0:cn.shadowRoot;gn&&(cn=gn.querySelector(kt)||cn),cn?(0,qe.f)(cn):_t.focus()},It=(nn,_t)=>{const cn=Array.from(nn.querySelectorAll(kt));let gn=cn.length>0?cn[cn.length-1]:null;const Zn=null==gn?void 0:gn.shadowRoot;Zn&&(gn=Zn.querySelector(kt)||gn),gn?gn.focus():_t.focus()},Ct=nn=>{0===Se&&(Se=1,nn.addEventListener("focus",_t=>{((nn,_t)=>{const cn=Gt(_t,"ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker,ion-popover"),gn=nn.target;cn&&gn&&!cn.classList.contains("ion-disable-focus-trap")&&(cn.shadowRoot?(()=>{if(cn.contains(gn))cn.lastFocus=gn;else{const ur=cn.lastFocus;Mt(cn,cn),ur===_t.activeElement&&It(cn,cn),cn.lastFocus=_t.activeElement}})():(()=>{if(cn===gn)cn.lastFocus=void 0;else{const ur=(0,qe.g)(cn);if(!ur.contains(gn))return;const un=ur.querySelector(".ion-overlay-wrapper");if(!un)return;if(un.contains(gn))cn.lastFocus=gn;else{const rr=cn.lastFocus;Mt(un,cn),rr===_t.activeElement&&It(un,cn),cn.lastFocus=_t.activeElement}}})())})(_t,nn)},!0),nn.addEventListener("ionBackButton",_t=>{const cn=Gt(nn);null!=cn&&cn.backdropDismiss&&_t.detail.register(ke.OVERLAY_BACK_BUTTON_PRIORITY,()=>cn.dismiss(void 0,Ot))}),nn.addEventListener("keydown",_t=>{if("Escape"===_t.key){const cn=Gt(nn);null!=cn&&cn.backdropDismiss&&cn.dismiss(void 0,Ot)}}))},gt=(nn,_t,cn,gn,Zn)=>{const tr=Gt(nn,gn,Zn);return tr?tr.dismiss(_t,cn):Promise.reject("overlay does not exist")},Gt=(nn,_t,cn)=>{const gn=((nn,_t)=>(void 0===_t&&(_t="ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker,ion-popover,ion-toast"),Array.from(nn.querySelectorAll(_t)).filter(cn=>cn.overlayIndex>0)))(nn,_t).filter(Zn=>!(nn=>nn.classList.contains("overlay-hidden"))(Zn));return void 0===cn?gn[gn.length-1]:gn.find(Zn=>Zn.id===cn)},Dt=(nn=!1)=>{const cn=Je(document).querySelector("ion-router-outlet, ion-nav, #ion-view-container-root");cn&&(nn?cn.setAttribute("aria-hidden","true"):cn.removeAttribute("aria-hidden"))},Lt=function(){var nn=(0,d.Z)(function*(_t,cn,gn,Zn,tr){var ur,un;if(_t.presented)return;Dt(!0),_t.presented=!0,_t.willPresent.emit(),null===(ur=_t.willPresentShorthand)||void 0===ur||ur.emit();const rr=(0,E.b)(_t),an=_t.enterAnimation?_t.enterAnimation:E.c.get(cn,"ios"===rr?gn:Zn);(yield ct(_t,an,_t.el,tr))&&(_t.didPresent.emit(),null===(un=_t.didPresentShorthand)||void 0===un||un.emit()),"ION-TOAST"!==_t.el.tagName&&qt(_t.el),_t.keyboardClose&&(null===document.activeElement||!_t.el.contains(document.activeElement))&&_t.el.focus()});return function(cn,gn,Zn,tr,ur){return nn.apply(this,arguments)}}(),qt=function(){var nn=(0,d.Z)(function*(_t){let cn=document.activeElement;if(!cn)return;const gn=null==cn?void 0:cn.shadowRoot;gn&&(cn=gn.querySelector(kt)||cn),yield _t.onDidDismiss(),cn.focus()});return function(cn){return nn.apply(this,arguments)}}(),Te=function(){var nn=(0,d.Z)(function*(_t,cn,gn,Zn,tr,ur,un){var rr,an;if(!_t.presented)return!1;Dt(!1),_t.presented=!1;try{_t.el.style.setProperty("pointer-events","none"),_t.willDismiss.emit({data:cn,role:gn}),null===(rr=_t.willDismissShorthand)||void 0===rr||rr.emit({data:cn,role:gn});const Pr=(0,E.b)(_t),Br=_t.leaveAnimation?_t.leaveAnimation:E.c.get(Zn,"ios"===Pr?tr:ur);gn!==en&&(yield ct(_t,Br,_t.el,un)),_t.didDismiss.emit({data:cn,role:gn}),null===(an=_t.didDismissShorthand)||void 0===an||an.emit({data:cn,role:gn}),Re.delete(_t),_t.el.classList.add("overlay-hidden"),_t.el.style.removeProperty("pointer-events"),void 0!==_t.el.lastFocus&&(_t.el.lastFocus=void 0)}catch(Pr){console.error(Pr)}return _t.el.remove(),!0});return function(cn,gn,Zn,tr,ur,un,rr){return nn.apply(this,arguments)}}(),Je=nn=>nn.querySelector("ion-app")||nn.body,ct=function(){var nn=(0,d.Z)(function*(_t,cn,gn,Zn){gn.classList.remove("overlay-hidden");const ur=cn(_t.el,Zn);(!_t.animated||!E.c.getBoolean("animated",!0))&&ur.duration(0),_t.keyboardClose&&ur.beforeAddWrite(()=>{const rr=gn.ownerDocument.activeElement;null!=rr&&rr.matches("input,ion-input, ion-textarea")&&rr.blur()});const un=Re.get(_t)||[];return Re.set(_t,[...un,ur]),yield ur.play(),!0});return function(cn,gn,Zn,tr){return nn.apply(this,arguments)}}(),yt=(nn,_t)=>{let cn;const gn=new Promise(Zn=>cn=Zn);return et(nn,_t,Zn=>{cn(Zn.detail)}),gn},et=(nn,_t,cn)=>{const gn=Zn=>{(0,qe.b)(nn,_t,gn),cn(Zn)};(0,qe.a)(nn,_t,gn)},tt=nn=>"cancel"===nn||nn===Ot,dt=nn=>nn(),Ut=(nn,_t)=>{if("function"==typeof nn)return E.c.get("_zoneGate",dt)(()=>{try{return nn(_t)}catch(gn){throw gn}})},Ot="backdrop",en="gesture",rn=nn=>{let cn,_t=!1;const gn=(0,be.C)(),Zn=(un=!1)=>{if(cn&&!un)return{delegate:cn,inline:_t};const{el:rr,hasController:an,delegate:Pr}=nn;return _t=null!==rr.parentNode&&!an,cn=_t?Pr||gn:Pr,{inline:_t,delegate:cn}};return{attachViewToDom:function(){var un=(0,d.Z)(function*(rr){const{delegate:an}=Zn(!0);if(an)return yield an.attachViewToDom(nn.el,rr);const{hasController:Pr}=nn;if(Pr&&void 0!==rr)throw new Error("framework delegate is missing");return null});return function(an){return un.apply(this,arguments)}}(),removeViewFromDom:()=>{const{delegate:un}=Zn();un&&void 0!==nn.el&&un.removeViewFromDom(nn.el.parentElement,nn.el)}}},On=()=>{let nn;const _t=()=>{nn&&(nn(),nn=void 0)};return{addClickListener:(gn,Zn)=>{_t();const tr=void 0!==Zn?document.getElementById(Zn):null;tr?nn=((un,rr)=>{const an=()=>{rr.present()};return un.addEventListener("click",an),()=>{un.removeEventListener("click",an)}})(tr,gn):(0,je.p)(`A trigger element with the ID "${Zn}" was not found in the DOM. The trigger element must be in the DOM when the "trigger" property is set on an overlay component.`,gn)},removeClickListener:_t}}},7622:(Jn,Ft,z)=>{"use strict";z.d(Ft,{e:()=>je});var d=z(5861),E=z(9260);let be=(()=>{class Se{}return Se.email=Re=>{if(!(Re.endsWith("@admin.com")||Re.endsWith("@invitado.com")||Re.endsWith("@usuario.com")||Re.endsWith("@anonimo.com")||Re.endsWith("@tester.com")))throw new Error("Mal formato de datos.");return Re},Se})();var ke=z(2223),qe=z(3385);let je=(()=>{class Se{constructor(Ze){var Le=this;this.angularFireAuth=Ze,this.myUsuario="valor inicial",this.signIn=function(){var xe=(0,d.Z)(function*(it,Me){return yield Le.angularFireAuth.signInWithEmailAndPassword(be.email(it),Me).then(lt=>lt).catch(lt=>{throw"auth/user-disabled"===lt.code?new Error("El usuario ha sido deshabilitado."):"auth/user-not-found"===lt.code?new Error("No existe un usuario con estos datos."):new Error("Datos incorrectos.")})});return function(it,Me){return xe.apply(this,arguments)}}(),this.signUp=function(){var xe=(0,d.Z)(function*(it,Me){return yield Le.angularFireAuth.createUserWithEmailAndPassword(be.email(it),Me).then(lt=>lt).catch(lt=>{throw"auth/operation-not-allowed"===lt.code?new Error("Lo siento, hubo un error interno. Vuelva a intentarlo mas tarde."):"auth/email-already-in-use"===lt.code?new Error("El mail ingresado, ya pertenece a un usuario existente."):new Error("Mal formato de datos.")})});return function(it,Me){return xe.apply(this,arguments)}}(),this.signOut=(0,d.Z)(function*(){yield Le.angularFireAuth.signOut()}),this.signUpWithGoogle=(0,d.Z)(function*(){const xe=new E.Z.auth.GoogleAuthProvider;return xe.addScope("profile"),xe.addScope("email"),yield Le.signUpWithProvider(xe)}),this.signUpWithProvider=function(){var xe=(0,d.Z)(function*(it){return yield Le.angularFireAuth.signInWithPopup(it).then(Me=>Me).catch(()=>{throw new Error("Operaci\xf3n cancelada.")})});return function(it){return xe.apply(this,arguments)}}(),this.userData=Ze.authState}login(Ze,Le){return this.myUsuario=this.formatNombre(Ze),this.angularFireAuth.signInWithEmailAndPassword(Ze,Le)}formatNombre(Ze){if(""!=Ze&&null!=Ze){const Le=Ze.substring(0,Ze.indexOf("@"));return Le.charAt(0).toUpperCase()+Le.slice(1)}return""}obtenerUsuario(){return this.angularFireAuth.currentUser}getUser(){return"123456"}}return Se.\u0275fac=function(Ze){return new(Ze||Se)(ke.LFG(qe.zQ))},Se.\u0275prov=ke.Yz7({token:Se,factory:Se.\u0275fac,providedIn:"root"}),Se})()},5773:(Jn,Ft,z)=>{"use strict";var d=z(6550),E=z(2223),be=z(5559),ke=z(9972),qe=z(655),je=z(8261),Se=function(m){function l(){return null!==m&&m.apply(this,arguments)||this}return(0,qe.ZT)(l,m),l.prototype.show=function(){return(0,je.DM)(this,"show",{sync:!0},arguments)},l.prototype.hide=function(){return(0,je.DM)(this,"hide",{sync:!0},arguments)},l.pluginName="SplashScreen",l.plugin="cordova-plugin-splashscreen",l.pluginRef="navigator.splashscreen",l.repo="https://github.com/apache/cordova-plugin-splashscreen",l.platforms=["Amazon Fire OS","Android","iOS","Windows"],l.decorators=[{type:E.GSi}],l}(je.KY),Re=function(m){function l(){return null!==m&&m.apply(this,arguments)||this}return(0,qe.ZT)(l,m),l.prototype.overlaysWebView=function(s){return(0,je.DM)(this,"overlaysWebView",{sync:!0},arguments)},l.prototype.styleDefault=function(){return(0,je.DM)(this,"styleDefault",{sync:!0},arguments)},l.prototype.styleLightContent=function(){return(0,je.DM)(this,"styleLightContent",{sync:!0},arguments)},l.prototype.styleBlackTranslucent=function(){return(0,je.DM)(this,"styleBlackTranslucent",{sync:!0},arguments)},l.prototype.styleBlackOpaque=function(){return(0,je.DM)(this,"styleBlackOpaque",{sync:!0},arguments)},l.prototype.backgroundColorByName=function(s){return(0,je.DM)(this,"backgroundColorByName",{sync:!0},arguments)},l.prototype.backgroundColorByHexString=function(s){return(0,je.DM)(this,"backgroundColorByHexString",{sync:!0},arguments)},l.prototype.hide=function(){return(0,je.DM)(this,"hide",{sync:!0},arguments)},l.prototype.show=function(){return(0,je.DM)(this,"show",{sync:!0},arguments)},Object.defineProperty(l.prototype,"isVisible",{get:function(){return(0,je.J2)(this,"isVisible")},set:function(s){(0,je.Iq)(this,"isVisible",s)},enumerable:!1,configurable:!0}),l.pluginName="StatusBar",l.plugin="cordova-plugin-statusbar",l.pluginRef="StatusBar",l.repo="https://github.com/apache/cordova-plugin-statusbar",l.platforms=["Android","iOS","Windows"],l.decorators=[{type:E.GSi}],l}(je.KY);let Ze=(()=>{class m{constructor(s,c,f,_){this.platform=s,this.splashScreen=c,this.statusBar=f,this.navCtrl=_,this.initializeApp()}ngOnInit(){setTimeout(()=>{this.navCtrl.navigateRoot("/login")},3e3)}initializeApp(){this.platform.ready().then(()=>{this.statusBar.styleDefault(),this.splashScreen.hide()})}}return m.\u0275fac=function(s){return new(s||m)(E.Y36(ke.t4),E.Y36(Se),E.Y36(Re),E.Y36(ke.SH))},m.\u0275cmp=E.Xpm({type:m,selectors:[["app-root"]],decls:2,vars:0,consts:[["id","main-content"]],template:function(s,c){1&s&&(E.TgZ(0,"ion-app"),E._UZ(1,"ion-router-outlet",0),E.qZA())},dependencies:[ke.dr,ke.jP],styles:['@charset "UTF-8";ion-menu[_ngcontent-%COMP%]   ion-content[_ngcontent-%COMP%]{--background: var(--ion-item-background, var(--ion-background-color, #fff))}ion-menu.md[_ngcontent-%COMP%]   ion-content[_ngcontent-%COMP%]{--padding-start: 8px;--padding-end: 8px;--padding-top: 20px;--padding-bottom: 20px}ion-menu.md[_ngcontent-%COMP%]   ion-list[_ngcontent-%COMP%]{padding:20px 0}ion-menu.md[_ngcontent-%COMP%]   ion-note[_ngcontent-%COMP%]{margin-bottom:30px}ion-menu.md[_ngcontent-%COMP%]   ion-list-header[_ngcontent-%COMP%], ion-menu.md[_ngcontent-%COMP%]   ion-note[_ngcontent-%COMP%]{padding-left:10px}ion-menu.md[_ngcontent-%COMP%]   ion-list#inbox-list[_ngcontent-%COMP%]{border-bottom:1px solid var(--ion-color-step-150, #d7d8da)}ion-menu.md[_ngcontent-%COMP%]   ion-list#inbox-list[_ngcontent-%COMP%]   ion-list-header[_ngcontent-%COMP%]{font-size:22px;font-weight:600;min-height:20px}ion-menu.md[_ngcontent-%COMP%]   ion-list#labels-list[_ngcontent-%COMP%]   ion-list-header[_ngcontent-%COMP%]{font-size:16px;margin-bottom:18px;color:#757575;min-height:26px}ion-menu.md[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]{--padding-start: 10px;--padding-end: 10px;border-radius:4px}ion-menu.md[_ngcontent-%COMP%]   ion-item.selected[_ngcontent-%COMP%]{--background: rgba(var(--ion-color-primary-rgb), .14)}ion-menu.md[_ngcontent-%COMP%]   ion-item.selected[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{color:var(--ion-color-primary)}ion-menu.md[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{color:#616e7e}ion-menu.md[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{font-weight:500}ion-menu.ios[_ngcontent-%COMP%]   ion-content[_ngcontent-%COMP%]{--padding-bottom: 20px}ion-menu.ios[_ngcontent-%COMP%]   ion-list[_ngcontent-%COMP%]{padding:20px 0 0}ion-menu.ios[_ngcontent-%COMP%]   ion-note[_ngcontent-%COMP%]{line-height:24px;margin-bottom:20px}ion-menu.ios[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]{--padding-start: 16px;--padding-end: 16px;--min-height: 50px}ion-menu.ios[_ngcontent-%COMP%]   ion-item.selected[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{color:var(--ion-color-primary)}ion-menu.ios[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:24px;color:#73849a}ion-menu.ios[_ngcontent-%COMP%]   ion-list#labels-list[_ngcontent-%COMP%]   ion-list-header[_ngcontent-%COMP%]{margin-bottom:8px}ion-menu.ios[_ngcontent-%COMP%]   ion-list-header[_ngcontent-%COMP%], ion-menu.ios[_ngcontent-%COMP%]   ion-note[_ngcontent-%COMP%]{padding-left:16px;padding-right:16px}ion-menu.ios[_ngcontent-%COMP%]   ion-note[_ngcontent-%COMP%]{margin-bottom:8px}ion-note[_ngcontent-%COMP%]{display:inline-block;font-size:16px;color:var(--ion-color-medium-shade)}ion-item.selected[_ngcontent-%COMP%]{--color: var(--ion-color-primary)}.custom-splash[_ngcontent-%COMP%]{background-color:#007bff;display:flex;justify-content:center;align-items:center;opacity:0;animation:_ngcontent-%COMP%_fadeIn 1s ease-in-out forwards}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}.scale-up-center[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_scale-up-center .4s cubic-bezier(.39,.575,.565,1) both}@keyframes _ngcontent-%COMP%_scale-up-center{0%{transform:scale(.5)}to{transform:scale(1)}}']}),m})();var Le=z(4208);const it=[{path:"",component:(()=>{class m{constructor(s){this.router=s}ngOnInit(){this.hide(2e3)}hide(s=500){setTimeout(()=>{this.router.navigate(["login"])},s)}}return m.\u0275fac=function(s){return new(s||m)(E.Y36(be.F0))},m.\u0275cmp=E.Xpm({type:m,selectors:[["app-splash-screen"]],decls:11,vars:0,consts:[["fullscreen","true"],[1,"centered-component"],[1,"ion-justify-content-center"],["src","../../assets/icon.png","alt","logo",1,"icon","scale-in-center"]],template:function(s,c){1&s&&(E.TgZ(0,"ion-content",0)(1,"div",1)(2,"div")(3,"ion-row",2)(4,"h1"),E._uU(5,"Begue Alejandro"),E.qZA()(),E.TgZ(6,"ion-row",2),E._UZ(7,"img",3),E.qZA(),E.TgZ(8,"ion-row",2)(9,"h1"),E._uU(10,"4\xb0B"),E.qZA()()()()())},dependencies:[ke.W2,ke.Nd],styles:['ion-content[_ngcontent-%COMP%]{--background: rgb(25, 173, 158)}h3[_ngcontent-%COMP%]{font-family:"Noto Serif",serif;font-weight:700}.icon[_ngcontent-%COMP%]{width:40%}.focus-in-expand[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_focus-in-expand .8s cubic-bezier(.25,.46,.45,.94) both}@keyframes _ngcontent-%COMP%_focus-in-expand{0%{letter-spacing:-.5em;filter:blur(12px);opacity:0}to{filter:blur(0px);opacity:1}}.centered-component[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:100vh}.scale-in-center[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_scale-in-center .5s cubic-bezier(.25,.46,.45,.94) both}@keyframes _ngcontent-%COMP%_scale-in-center{0%{transform:scale(0);opacity:1}to{transform:scale(1);opacity:1}}']}),m})()},{path:"folder/:id",loadChildren:()=>z.e(1910).then(z.bind(z,1910)).then(m=>m.FolderPageModule)},{path:"admin",loadChildren:()=>z.e(3015).then(z.bind(z,3015)).then(m=>m.AdminPageModule)},{path:"home",loadChildren:()=>z.e(4851).then(z.bind(z,4851)).then(m=>m.HomePageModule)},{path:"login",loadChildren:()=>z.e(1821).then(z.bind(z,1821)).then(m=>m.LoginPageModule)},{path:"register",loadChildren:()=>z.e(7826).then(z.bind(z,7826)).then(m=>m.RegisterPageModule)},{path:"feas",loadChildren:()=>Promise.all([z.e(8592),z.e(6015)]).then(z.bind(z,6015)).then(m=>m.FeasPageModule)},{path:"lindas",loadChildren:()=>Promise.all([z.e(8592),z.e(14)]).then(z.bind(z,14)).then(m=>m.LindasPageModule)},{path:"lista-feas",loadChildren:()=>Promise.all([z.e(8592),z.e(2516)]).then(z.bind(z,2516)).then(m=>m.ListaFeasPageModule)},{path:"lista-lindas",loadChildren:()=>Promise.all([z.e(8592),z.e(5172)]).then(z.bind(z,5172)).then(m=>m.ListaLindasPageModule)},{path:"mis-fotos",loadChildren:()=>z.e(3562).then(z.bind(z,3562)).then(m=>m.MisFotosPageModule)},{path:"splash",loadChildren:()=>z.e(2068).then(z.bind(z,2068)).then(m=>m.SplashPageModule)},{path:"tabs",loadChildren:()=>z.e(5652).then(z.bind(z,174)).then(m=>m.TabsPageModule)},{path:"camara/:type",loadChildren:()=>Promise.all([z.e(579),z.e(7455)]).then(z.bind(z,7455)).then(m=>m.CamaraPageModule)}];let Me=(()=>{class m{}return m.\u0275fac=function(s){return new(s||m)},m.\u0275mod=E.oAB({type:m}),m.\u0275inj=E.cJS({imports:[be.Bz.forRoot(it,{preloadingStrategy:be.wm}),be.Bz]}),m})();const lt_firebase={projectId:"reelevamientovisual2023",appId:"1:576178312697:web:4ff5e464f71303b41ad928",storageBucket:"reelevamientovisual2023.appspot.com",apiKey:"AIzaSyAvHCXlpbH63heUpkmTKTPxkyaOi1XuoLE",authDomain:"reelevamientovisual2023.firebaseapp.com",messagingSenderId:"576178312697"};var pt=z(2011),jt=z(3385),We=z(5197),Be=z(9646),kt=z(515),Mt=z(4755),ft=z(5363),It=z(3900),St=z(4004),Ct=z(3151),gt=z(3324),te=z(5132),Gt=z(9260),Dt=z(9300),Lt=z(9751),qt=z(8421),Te=z(7579),Je=z(4482),ct=z(5403);var et=z(5577),tt=z(1884),dt=z(8675),Ut=z(1520),Ot=z(3692);z(259);const Ai="firebase_screen_id",lr="outlet",ui="screen_class",gi="screen_name";let br=Math.floor(Math.random()*(Math.pow(2,32)-1))-Math.pow(2,31);const hr={},Di=m=>{const l=[m[ui],m[lr]].join("#");if(hr.hasOwnProperty(l))return hr[l];{const s=br++;return hr[l]=s,s}},mt=new E.OlP("angularfire2.analytics.analyticsCollectionEnabled"),Ae=new E.OlP("angularfire2.analytics.appVersion"),ie=new E.OlP("angularfire2.analytics.appName"),ee=new E.OlP("angularfire2.analytics.debugMode"),se=new E.OlP("angularfire2.analytics.config"),Cn="dataLayer";let $n=(()=>{class m{constructor(s,c,f,_,I,A,k,K,de){if(this.analyticsInitialized=new Promise(()=>{}),(0,Mt.NF)(k)){window[Cn]=window[Cn]||[];const ze=(...At)=>"config"===At[0]&&"firebase"===At[2].origin&&(this.measurementId=At[1],!0),Qe=At=>{window.gtag=(...Zt)=>{At&&At(...Zt),"event"===Zt[0]&&Zt[2].send_to===this.measurementId&&(_&&(Zt[2].app_name=_),f&&(Zt[2].app_version=f)),I&&typeof console<"u"&&console.info(...Zt),function(...In){window[Cn].push(arguments)}(...Zt)}};window[Cn].some(ze)?(this.analyticsInitialized=Promise.resolve(),Qe()):this.analyticsInitialized=new Promise(At=>{Qe((...Zt)=>{ze(...Zt)&&At()})}),A&&this.updateConfig(A),I&&this.updateConfig({debug_mode:1})}else this.analyticsInitialized=Promise.resolve();const Ce=(0,Be.of)(void 0).pipe((0,ft.Q)(de.outsideAngular),(0,It.w)(te.Gb),(0,It.w)(ze=>ze?K.runOutsideAngular(()=>z.e(3814).then(z.bind(z,3814))):kt.E),(0,St.U)(()=>(0,pt.cc)("analytics","AngularFireAnalytics",s.name,()=>{const ze=s.analytics();return!1===c&&ze.setAnalyticsCollectionEnabled(!1),ze},[s,c,A,I])),(0,Ct.d)({bufferSize:1,refCount:!1}));return(0,pt.pX)(this,Ce,K)}updateConfig(s){return(0,qe.mG)(this,void 0,void 0,function*(){yield this.analyticsInitialized,window.gtag("config",this.measurementId,Object.assign(Object.assign({},s),{update:!0}))})}}return m.\u0275fac=function(s){return new(s||m)(E.LFG(pt.Ot),E.LFG(mt,8),E.LFG(Ae,8),E.LFG(ie,8),E.LFG(ee,8),E.LFG(se,8),E.LFG(E.Lbi),E.LFG(E.R0b),E.LFG(gt.HU))},m.\u0275prov=E.Yz7({token:m,factory:m.\u0275fac,providedIn:"any"}),m})(),ln=(()=>{class m{constructor(s,c,f,_){if(this.disposables=[],Gt.Z.registerVersion("angularfire",gt.q4.full,"compat-user-tracking"),(0,Mt.PM)(c))this.initialized=Promise.resolve();else{let I;this.initialized=_.runOutsideAngular(()=>new Promise(A=>I=A)),this.disposables=[f.authState.subscribe(A=>{s.setUserId(null==A?void 0:A.uid),I()}),f.credential.subscribe(A=>{if(A){const k=A.user.isAnonymous?"anonymous":A.additionalUserInfo.providerId;A.additionalUserInfo.isNewUser&&s.logEvent("sign_up",{method:k}),s.logEvent("login",{method:k})}})]}}ngOnDestroy(){this.disposables.forEach(s=>s.unsubscribe())}}return m.\u0275fac=function(s){return new(s||m)(E.LFG($n),E.LFG(E.Lbi),E.LFG(jt.zQ),E.LFG(E.R0b))},m.\u0275prov=E.Yz7({token:m,factory:m.\u0275fac}),m})(),kn=(()=>{class m{constructor(s,c,f,_,I,A){if(Gt.Z.registerVersion("angularfire",gt.q4.full,"compat-screen-tracking"),!c||!s)return this;I.runOutsideAngular(()=>{this.disposable=((m,l,s)=>m.events.pipe((0,Dt.h)(f=>f instanceof be.jw)).pipe((0,It.w)(f=>{var _;const A=(null===(_=m.parseUrl(m.url.replace(/(?:\().+(?:\))/g,Qe=>Qe.replace("://",":///"))).root.children[f.snapshot.outlet])||void 0===_?void 0:_.toString())||"",k=m.routerState.root.children.map(Qe=>Qe).find(Qe=>Qe.outlet===f.snapshot.outlet);if(!k)return(0,Be.of)(null);let K=k;for(;K.firstChild;)K=K.firstChild;const de=K.pathFromRoot.map(Qe=>{var Et;return null===(Et=Qe.routeConfig)||void 0===Et?void 0:Et.path}).filter(Qe=>Qe).join("/")||"/",Ce={[gi]:de,page_path:`/${A}`,firebase_event_origin:"auto",firebase_screen:de,[lr]:f.snapshot.outlet};l&&(Ce.page_title=l.getTitle());let ze=k.component;if(ze){if(ze===be.fw){let Qe=f.snapshot;for(;Qe.firstChild;)Qe=Qe.firstChild;ze=Qe.component}}else ze=f.snapshot.component;if("string"==typeof ze)return(0,Be.of)(Object.assign(Object.assign({},Ce),{[ui]:ze}));if(ze){const Qe=s.resolveComponentFactory(ze);return(0,Be.of)(Object.assign(Object.assign({},Ce),{[ui]:Qe.selector}))}return(0,Be.of)(null)}),(0,Dt.h)(f=>!!f),(0,St.U)(f=>Object.assign({firebase_screen_class:f[ui],[Ai]:Di(f)},f)),function yt(m,l,s,c){return(0,Je.e)((f,_)=>{let I;l&&"function"!=typeof l?({duration:s,element:I,connector:c}=l):I=l;const A=new Map,k=Et=>{A.forEach(Et),Et(_)},K=Et=>k(At=>At.error(Et));let de=0,Ce=!1;const ze=new ct.Q(_,Et=>{try{const At=m(Et);let Zt=A.get(At);if(!Zt){A.set(At,Zt=c?c():new Te.x);const In=function Qe(Et,At){const Zt=new Lt.y(In=>{de++;const En=At.subscribe(In);return()=>{En.unsubscribe(),0==--de&&Ce&&ze.unsubscribe()}});return Zt.key=Et,Zt}(At,Zt);if(_.next(In),s){const En=(0,ct.x)(Zt,()=>{Zt.complete(),null==En||En.unsubscribe()},void 0,void 0,()=>A.delete(At));ze.add((0,qt.Xf)(s(In)).subscribe(En))}}Zt.next(I?I(Et):Et)}catch(At){K(At)}},()=>k(Et=>Et.complete()),K,()=>A.clear(),()=>(Ce=!0,0===de));f.subscribe(ze)})}(f=>f[lr]),(0,et.z)(f=>f.pipe((0,tt.x)((_,I)=>JSON.stringify(_)===JSON.stringify(I)),(0,dt.O)(void 0),(0,Ut.G)(),(0,St.U)(([_,I])=>_?Object.assign({firebase_previous_class:_[ui],firebase_previous_screen:_[gi],firebase_previous_id:_[Ai]},I):I)))))(c,f,_).pipe((0,It.w)(k=>(0,qe.mG)(this,void 0,void 0,function*(){return A&&(yield A.initialized),yield s.logEvent("screen_view",k)}))).subscribe()})}ngOnDestroy(){this.disposable&&this.disposable.unsubscribe()}}return m.\u0275fac=function(s){return new(s||m)(E.LFG($n),E.LFG(be.F0,8),E.LFG(d.Dx,8),E.LFG(E._Vd),E.LFG(E.R0b),E.LFG(ln,8))},m.\u0275prov=E.Yz7({token:m,factory:m.\u0275fac}),m})(),Bt=(()=>{class m{constructor(s,c,f){Gt.Z.registerVersion("angularfire",gt.q4.full,"analytics-compat"),s.app.then(()=>{})}}return m.\u0275fac=function(s){return new(s||m)(E.LFG($n),E.LFG(kn,8),E.LFG(ln,8))},m.\u0275mod=E.oAB({type:m}),m.\u0275inj=E.cJS({providers:[$n]}),m})();var Kt=z(1085),fn=z(377);class qn{}class pr{}const Dr="*";function Ur(m,l=null){return{type:2,steps:m,options:l}}function Gr(m){return{type:6,styles:m,offset:null}}function zs(m){Promise.resolve().then(m)}class ks{constructor(l=0,s=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=l+s}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(l=>l()),this._onDoneFns=[])}onStart(l){this._originalOnStartFns.push(l),this._onStartFns.push(l)}onDone(l){this._originalOnDoneFns.push(l),this._onDoneFns.push(l)}onDestroy(l){this._onDestroyFns.push(l)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){zs(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(l=>l()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(l=>l()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(l){this._position=this.totalTime?l*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(l){const s="start"==l?this._onStartFns:this._onDoneFns;s.forEach(c=>c()),s.length=0}}class Ns{constructor(l){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=l;let s=0,c=0,f=0;const _=this.players.length;0==_?zs(()=>this._onFinish()):this.players.forEach(I=>{I.onDone(()=>{++s==_&&this._onFinish()}),I.onDestroy(()=>{++c==_&&this._onDestroy()}),I.onStart(()=>{++f==_&&this._onStart()})}),this.totalTime=this.players.reduce((I,A)=>Math.max(I,A.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(l=>l()),this._onDoneFns=[])}init(){this.players.forEach(l=>l.init())}onStart(l){this._onStartFns.push(l)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(l=>l()),this._onStartFns=[])}onDone(l){this._onDoneFns.push(l)}onDestroy(l){this._onDestroyFns.push(l)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(l=>l.play())}pause(){this.players.forEach(l=>l.pause())}restart(){this.players.forEach(l=>l.restart())}finish(){this._onFinish(),this.players.forEach(l=>l.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(l=>l.destroy()),this._onDestroyFns.forEach(l=>l()),this._onDestroyFns=[])}reset(){this.players.forEach(l=>l.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(l){const s=l*this.totalTime;this.players.forEach(c=>{const f=c.totalTime?Math.min(1,s/c.totalTime):1;c.setPosition(f)})}getPosition(){const l=this.players.reduce((s,c)=>null===s||c.totalTime>s.totalTime?c:s,null);return null!=l?l.getPosition():0}beforeDestroy(){this.players.forEach(l=>{l.beforeDestroy&&l.beforeDestroy()})}triggerCallback(l){const s="start"==l?this._onStartFns:this._onDoneFns;s.forEach(c=>c()),s.length=0}}const Fs="!";function pe(m){return new E.vHH(3e3,!1)}function Hs(m){switch(m.length){case 0:return new ks;case 1:return m[0];default:return new Ns(m)}}function lo(m,l,s,c,f=new Map,_=new Map){const I=[],A=[];let k=-1,K=null;if(c.forEach(de=>{const Ce=de.get("offset"),ze=Ce==k,Qe=ze&&K||new Map;de.forEach((Et,At)=>{let Zt=At,In=Et;if("offset"!==At)switch(Zt=l.normalizePropertyName(Zt,I),In){case Fs:In=f.get(At);break;case Dr:In=_.get(At);break;default:In=l.normalizeStyleValue(At,Zt,In,I)}Qe.set(Zt,In)}),ze||A.push(Qe),K=Qe,k=Ce}),I.length)throw function Qr(m){return new E.vHH(3502,!1)}();return A}function Ho(m,l,s,c){switch(l){case"start":m.onStart(()=>c(s&&ys(s,"start",m)));break;case"done":m.onDone(()=>c(s&&ys(s,"done",m)));break;case"destroy":m.onDestroy(()=>c(s&&ys(s,"destroy",m)))}}function ys(m,l,s){const c=s.totalTime,_=xi(m.element,m.triggerName,m.fromState,m.toState,l||m.phaseName,null==c?m.totalTime:c,!!s.disabled),I=m._data;return null!=I&&(_._data=I),_}function xi(m,l,s,c,f="",_=0,I){return{element:m,triggerName:l,fromState:s,toState:c,phaseName:f,totalTime:_,disabled:!!I}}function Ws(m,l,s){let c=m.get(l);return c||m.set(l,c=s),c}function Es(m){const l=m.indexOf(":");return[m.substring(1,l),m.slice(l+1)]}const Oi=(()=>typeof document>"u"?null:document.documentElement)();function Ss(m){const l=m.parentNode||m.host||null;return l===Oi?null:l}let qs=null,Ls=!1;function ki(m,l){for(;l;){if(l===m)return!0;l=Ss(l)}return!1}function Wo(m,l,s){if(s)return Array.from(m.querySelectorAll(l));const c=m.querySelector(l);return c?[c]:[]}let uo=(()=>{class m{validateStyleProperty(s){return function vs(m){qs||(qs=function ro(){return typeof document<"u"?document.body:null}()||{},Ls=!!qs.style&&"WebkitAppearance"in qs.style);let l=!0;return qs.style&&!function co(m){return"ebkit"==m.substring(1,6)}(m)&&(l=m in qs.style,!l&&Ls&&(l="Webkit"+m.charAt(0).toUpperCase()+m.slice(1)in qs.style)),l}(s)}matchesElement(s,c){return!1}containsElement(s,c){return ki(s,c)}getParentElement(s){return Ss(s)}query(s,c,f){return Wo(s,c,f)}computeStyle(s,c,f){return f||""}animate(s,c,f,_,I,A=[],k){return new ks(f,_)}}return m.\u0275fac=function(s){return new(s||m)},m.\u0275prov=E.Yz7({token:m,factory:m.\u0275fac}),m})(),So=(()=>{class m{}return m.NOOP=new uo,m})();const po=1e3,Ts="ng-enter",xo="ng-leave",us="ng-trigger",Mo=".ng-trigger",To="ng-animating",Bo=".ng-animating";function $i(m){if("number"==typeof m)return m;const l=m.match(/^(-?[\.\d]+)(m?s)/);return!l||l.length<2?0:O(parseFloat(l[1]),l[2])}function O(m,l){return"s"===l?m*po:m}function he(m,l,s){return m.hasOwnProperty("duration")?m:function N(m,l,s){let f,_=0,I="";if("string"==typeof m){const A=m.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===A)return l.push(pe()),{duration:0,delay:0,easing:""};f=O(parseFloat(A[1]),A[2]);const k=A[3];null!=k&&(_=O(parseFloat(k),A[4]));const K=A[5];K&&(I=K)}else f=m;if(!s){let A=!1,k=l.length;f<0&&(l.push(function Oe(){return new E.vHH(3100,!1)}()),A=!0),_<0&&(l.push(function Ee(){return new E.vHH(3101,!1)}()),A=!0),A&&l.splice(k,0,pe())}return{duration:f,delay:_,easing:I}}(m,l,s)}function le(m,l={}){return Object.keys(m).forEach(s=>{l[s]=m[s]}),l}function Ge(m){const l=new Map;return Object.keys(m).forEach(s=>{l.set(s,m[s])}),l}function Gn(m,l=new Map,s){if(s)for(let[c,f]of s)l.set(c,f);for(let[c,f]of m)l.set(c,f);return l}function ai(m,l,s){l.forEach((c,f)=>{const _=F(f);s&&!s.has(f)&&s.set(f,m.style[_]),m.style[_]=c})}function hi(m,l){l.forEach((s,c)=>{const f=F(c);m.style[f]=""})}function ws(m){return Array.isArray(m)?1==m.length?m[0]:Ur(m):m}const Bs=new RegExp("{{\\s*(.+?)\\s*}}","g");function Po(m){let l=[];if("string"==typeof m){let s;for(;s=Bs.exec(m);)l.push(s[1]);Bs.lastIndex=0}return l}function _e(m,l,s){const c=m.toString(),f=c.replace(Bs,(_,I)=>{let A=l[I];return null==A&&(s.push(function ve(m){return new E.vHH(3003,!1)}()),A=""),A.toString()});return f==c?m:f}function ce(m){const l=[];let s=m.next();for(;!s.done;)l.push(s.value),s=m.next();return l}const $=/-+([a-z0-9])/g;function F(m){return m.replace($,(...l)=>l[1].toUpperCase())}function ut(m,l,s){switch(l.type){case 7:return m.visitTrigger(l,s);case 0:return m.visitState(l,s);case 1:return m.visitTransition(l,s);case 2:return m.visitSequence(l,s);case 3:return m.visitGroup(l,s);case 4:return m.visitAnimate(l,s);case 5:return m.visitKeyframes(l,s);case 6:return m.visitStyle(l,s);case 8:return m.visitReference(l,s);case 9:return m.visitAnimateChild(l,s);case 10:return m.visitAnimateRef(l,s);case 11:return m.visitQuery(l,s);case 12:return m.visitStagger(l,s);default:throw function st(m){return new E.vHH(3004,!1)}()}}function Nt(m,l){return window.getComputedStyle(m)[l]}const ri="*";function ts(m,l){const s=[];return"string"==typeof m?m.split(/\s*,\s*/).forEach(c=>function Js(m,l,s){if(":"==m[0]){const k=function As(m,l){switch(m){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(s,c)=>parseFloat(c)>parseFloat(s);case":decrement":return(s,c)=>parseFloat(c)<parseFloat(s);default:return l.push(function Ds(m){return new E.vHH(3016,!1)}()),"* => *"}}(m,s);if("function"==typeof k)return void l.push(k);m=k}const c=m.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==c||c.length<4)return s.push(function Lr(m){return new E.vHH(3015,!1)}()),l;const f=c[1],_=c[2],I=c[3];l.push(Ms(f,I));"<"==_[0]&&!(f==ri&&I==ri)&&l.push(Ms(I,f))}(c,s,l)):s.push(m),s}const xs=new Set(["true","1"]),Ei=new Set(["false","0"]);function Ms(m,l){const s=xs.has(m)||Ei.has(m),c=xs.has(l)||Ei.has(l);return(f,_)=>{let I=m==ri||m==f,A=l==ri||l==_;return!I&&s&&"boolean"==typeof f&&(I=f?xs.has(m):Ei.has(m)),!A&&c&&"boolean"==typeof _&&(A=_?xs.has(l):Ei.has(l)),I&&A}}const Ko=new RegExp("s*:selfs*,?","g");function mo(m,l,s,c){return new ta(m).build(l,s,c)}class ta{constructor(l){this._driver=l}build(l,s,c){const f=new na(s);return this._resetContextStyleTimingState(f),ut(this,ws(l),f)}_resetContextStyleTimingState(l){l.currentQuerySelector="",l.collectedStyles=new Map,l.collectedStyles.set("",new Map),l.currentTime=0}visitTrigger(l,s){let c=s.queryCount=0,f=s.depCount=0;const _=[],I=[];return"@"==l.name.charAt(0)&&s.errors.push(function $t(){return new E.vHH(3006,!1)}()),l.definitions.forEach(A=>{if(this._resetContextStyleTimingState(s),0==A.type){const k=A,K=k.name;K.toString().split(/\s*,\s*/).forEach(de=>{k.name=de,_.push(this.visitState(k,s))}),k.name=K}else if(1==A.type){const k=this.visitTransition(A,s);c+=k.queryCount,f+=k.depCount,I.push(k)}else s.errors.push(function tn(){return new E.vHH(3007,!1)}())}),{type:7,name:l.name,states:_,transitions:I,queryCount:c,depCount:f,options:null}}visitState(l,s){const c=this.visitStyle(l.styles,s),f=l.options&&l.options.params||null;if(c.containsDynamicStyles){const _=new Set,I=f||{};c.styles.forEach(A=>{A instanceof Map&&A.forEach(k=>{Po(k).forEach(K=>{I.hasOwnProperty(K)||_.add(K)})})}),_.size&&(ce(_.values()),s.errors.push(function Un(m,l){return new E.vHH(3008,!1)}()))}return{type:0,name:l.name,style:c,options:f?{params:f}:null}}visitTransition(l,s){s.queryCount=0,s.depCount=0;const c=ut(this,ws(l.animation),s);return{type:1,matchers:ts(l.expr,s.errors),animation:c,queryCount:s.queryCount,depCount:s.depCount,options:Zs(l.options)}}visitSequence(l,s){return{type:2,steps:l.steps.map(c=>ut(this,c,s)),options:Zs(l.options)}}visitGroup(l,s){const c=s.currentTime;let f=0;const _=l.steps.map(I=>{s.currentTime=c;const A=ut(this,I,s);return f=Math.max(f,s.currentTime),A});return s.currentTime=f,{type:3,steps:_,options:Zs(l.options)}}visitAnimate(l,s){const c=function Gs(m,l){if(m.hasOwnProperty("duration"))return m;if("number"==typeof m)return ba(he(m,l).duration,0,"");const s=m;if(s.split(/\s+/).some(_=>"{"==_.charAt(0)&&"{"==_.charAt(1))){const _=ba(0,0,"");return _.dynamic=!0,_.strValue=s,_}const f=he(s,l);return ba(f.duration,f.delay,f.easing)}(l.timings,s.errors);s.currentAnimateTimings=c;let f,_=l.styles?l.styles:Gr({});if(5==_.type)f=this.visitKeyframes(_,s);else{let I=l.styles,A=!1;if(!I){A=!0;const K={};c.easing&&(K.easing=c.easing),I=Gr(K)}s.currentTime+=c.duration+c.delay;const k=this.visitStyle(I,s);k.isEmptyStep=A,f=k}return s.currentAnimateTimings=null,{type:4,timings:c,style:f,options:null}}visitStyle(l,s){const c=this._makeStyleAst(l,s);return this._validateStyleAst(c,s),c}_makeStyleAst(l,s){const c=[],f=Array.isArray(l.styles)?l.styles:[l.styles];for(let A of f)"string"==typeof A?A===Dr?c.push(A):s.errors.push(new E.vHH(3002,!1)):c.push(Ge(A));let _=!1,I=null;return c.forEach(A=>{if(A instanceof Map&&(A.has("easing")&&(I=A.get("easing"),A.delete("easing")),!_))for(let k of A.values())if(k.toString().indexOf("{{")>=0){_=!0;break}}),{type:6,styles:c,easing:I,offset:l.offset,containsDynamicStyles:_,options:null}}_validateStyleAst(l,s){const c=s.currentAnimateTimings;let f=s.currentTime,_=s.currentTime;c&&_>0&&(_-=c.duration+c.delay),l.styles.forEach(I=>{"string"!=typeof I&&I.forEach((A,k)=>{const K=s.collectedStyles.get(s.currentQuerySelector),de=K.get(k);let Ce=!0;de&&(_!=f&&_>=de.startTime&&f<=de.endTime&&(s.errors.push(function Kr(m,l,s,c,f){return new E.vHH(3010,!1)}()),Ce=!1),_=de.startTime),Ce&&K.set(k,{startTime:_,endTime:f}),s.options&&function Pi(m,l,s){const c=l.params||{},f=Po(m);f.length&&f.forEach(_=>{c.hasOwnProperty(_)||s.push(function ne(m){return new E.vHH(3001,!1)}())})}(A,s.options,s.errors)})})}visitKeyframes(l,s){const c={type:5,styles:[],options:null};if(!s.currentAnimateTimings)return s.errors.push(function gs(){return new E.vHH(3011,!1)}()),c;let _=0;const I=[];let A=!1,k=!1,K=0;const de=l.steps.map(In=>{const En=this._makeStyleAst(In,s);let er=null!=En.offset?En.offset:function Na(m){if("string"==typeof m)return null;let l=null;if(Array.isArray(m))m.forEach(s=>{if(s instanceof Map&&s.has("offset")){const c=s;l=parseFloat(c.get("offset")),c.delete("offset")}});else if(m instanceof Map&&m.has("offset")){const s=m;l=parseFloat(s.get("offset")),s.delete("offset")}return l}(En.styles),Qn=0;return null!=er&&(_++,Qn=En.offset=er),k=k||Qn<0||Qn>1,A=A||Qn<K,K=Qn,I.push(Qn),En});k&&s.errors.push(function Xi(){return new E.vHH(3012,!1)}()),A&&s.errors.push(function Si(){return new E.vHH(3200,!1)}());const Ce=l.steps.length;let ze=0;_>0&&_<Ce?s.errors.push(function Mr(){return new E.vHH(3202,!1)}()):0==_&&(ze=1/(Ce-1));const Qe=Ce-1,Et=s.currentTime,At=s.currentAnimateTimings,Zt=At.duration;return de.forEach((In,En)=>{const er=ze>0?En==Qe?1:ze*En:I[En],Qn=er*Zt;s.currentTime=Et+At.delay+Qn,At.duration=Qn,this._validateStyleAst(In,s),In.offset=er,c.styles.push(In)}),c}visitReference(l,s){return{type:8,animation:ut(this,ws(l.animation),s),options:Zs(l.options)}}visitAnimateChild(l,s){return s.depCount++,{type:9,options:Zs(l.options)}}visitAnimateRef(l,s){return{type:10,animation:this.visitReference(l.animation,s),options:Zs(l.options)}}visitQuery(l,s){const c=s.currentQuerySelector,f=l.options||{};s.queryCount++,s.currentQuery=l;const[_,I]=function Ta(m){const l=!!m.split(/\s*,\s*/).find(s=>":self"==s);return l&&(m=m.replace(Ko,"")),m=m.replace(/@\*/g,Mo).replace(/@\w+/g,s=>Mo+"-"+s.slice(1)).replace(/:animating/g,Bo),[m,l]}(l.selector);s.currentQuerySelector=c.length?c+" "+_:_,Ws(s.collectedStyles,s.currentQuerySelector,new Map);const A=ut(this,ws(l.animation),s);return s.currentQuery=null,s.currentQuerySelector=c,{type:11,selector:_,limit:f.limit||0,optional:!!f.optional,includeSelf:I,animation:A,originalSelector:l.selector,options:Zs(l.options)}}visitStagger(l,s){s.currentQuery||s.errors.push(function An(){return new E.vHH(3013,!1)}());const c="full"===l.timings?{duration:0,delay:0,easing:"full"}:he(l.timings,s.errors,!0);return{type:12,animation:ut(this,ws(l.animation),s),timings:c,options:null}}}class na{constructor(l){this.errors=l,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Zs(m){return m?(m=le(m)).params&&(m.params=function Aa(m){return m?le(m):null}(m.params)):m={},m}function ba(m,l,s){return{duration:m,delay:l,easing:s}}function Oo(m,l,s,c,f,_,I=null,A=!1){return{type:1,element:m,keyframes:l,preStyleProps:s,postStyleProps:c,duration:f,delay:_,totalTime:f+_,easing:I,subTimeline:A}}class Ea{constructor(){this._map=new Map}get(l){return this._map.get(l)||[]}append(l,s){let c=this._map.get(l);c||this._map.set(l,c=[]),c.push(...s)}has(l){return this._map.has(l)}clear(){this._map.clear()}}const oe=new RegExp(":enter","g"),$e=new RegExp(":leave","g");function at(m,l,s,c,f,_=new Map,I=new Map,A,k,K=[]){return(new Tt).buildKeyframes(m,l,s,c,f,_,I,A,k,K)}class Tt{buildKeyframes(l,s,c,f,_,I,A,k,K,de=[]){K=K||new Ea;const Ce=new sn(l,s,K,f,_,de,[]);Ce.options=k;const ze=k.delay?$i(k.delay):0;Ce.currentTimeline.delayNextStep(ze),Ce.currentTimeline.setStyles([I],null,Ce.errors,k),ut(this,c,Ce);const Qe=Ce.timelines.filter(Et=>Et.containsAnimation());if(Qe.length&&A.size){let Et;for(let At=Qe.length-1;At>=0;At--){const Zt=Qe[At];if(Zt.element===s){Et=Zt;break}}Et&&!Et.allowOnlyTimelineStyles()&&Et.setStyles([A],null,Ce.errors,k)}return Qe.length?Qe.map(Et=>Et.buildKeyframes()):[Oo(s,[],[],[],0,ze,"",!1)]}visitTrigger(l,s){}visitState(l,s){}visitTransition(l,s){}visitAnimateChild(l,s){const c=s.subInstructions.get(s.element);if(c){const f=s.createSubContext(l.options),_=s.currentTimeline.currentTime,I=this._visitSubInstructions(c,f,f.options);_!=I&&s.transformIntoNewTimeline(I)}s.previousNode=l}visitAnimateRef(l,s){const c=s.createSubContext(l.options);c.transformIntoNewTimeline(),this._applyAnimationRefDelays([l.options,l.animation.options],s,c),this.visitReference(l.animation,c),s.transformIntoNewTimeline(c.currentTimeline.currentTime),s.previousNode=l}_applyAnimationRefDelays(l,s,c){for(const _ of l){const I=null==_?void 0:_.delay;if(I){var f;const A="number"==typeof I?I:$i(_e(I,null!==(f=null==_?void 0:_.params)&&void 0!==f?f:{},s.errors));c.delayNextStep(A)}}}_visitSubInstructions(l,s,c){let _=s.currentTimeline.currentTime;const I=null!=c.duration?$i(c.duration):null,A=null!=c.delay?$i(c.delay):null;return 0!==I&&l.forEach(k=>{const K=s.appendInstructionToTimeline(k,I,A);_=Math.max(_,K.duration+K.delay)}),_}visitReference(l,s){s.updateOptions(l.options,!0),ut(this,l.animation,s),s.previousNode=l}visitSequence(l,s){const c=s.subContextCount;let f=s;const _=l.options;if(_&&(_.params||_.delay)&&(f=s.createSubContext(_),f.transformIntoNewTimeline(),null!=_.delay)){6==f.previousNode.type&&(f.currentTimeline.snapshotCurrentStyles(),f.previousNode=zt);const I=$i(_.delay);f.delayNextStep(I)}l.steps.length&&(l.steps.forEach(I=>ut(this,I,f)),f.currentTimeline.applyStylesToKeyframe(),f.subContextCount>c&&f.transformIntoNewTimeline()),s.previousNode=l}visitGroup(l,s){const c=[];let f=s.currentTimeline.currentTime;const _=l.options&&l.options.delay?$i(l.options.delay):0;l.steps.forEach(I=>{const A=s.createSubContext(l.options);_&&A.delayNextStep(_),ut(this,I,A),f=Math.max(f,A.currentTimeline.currentTime),c.push(A.currentTimeline)}),c.forEach(I=>s.currentTimeline.mergeTimelineCollectedStyles(I)),s.transformIntoNewTimeline(f),s.previousNode=l}_visitTiming(l,s){if(l.dynamic){const c=l.strValue;return he(s.params?_e(c,s.params,s.errors):c,s.errors)}return{duration:l.duration,delay:l.delay,easing:l.easing}}visitAnimate(l,s){const c=s.currentAnimateTimings=this._visitTiming(l.timings,s),f=s.currentTimeline;c.delay&&(s.incrementTime(c.delay),f.snapshotCurrentStyles());const _=l.style;5==_.type?this.visitKeyframes(_,s):(s.incrementTime(c.duration),this.visitStyle(_,s),f.applyStylesToKeyframe()),s.currentAnimateTimings=null,s.previousNode=l}visitStyle(l,s){const c=s.currentTimeline,f=s.currentAnimateTimings;!f&&c.hasCurrentStyleProperties()&&c.forwardFrame();const _=f&&f.easing||l.easing;l.isEmptyStep?c.applyEmptyStep(_):c.setStyles(l.styles,_,s.errors,s.options),s.previousNode=l}visitKeyframes(l,s){const c=s.currentAnimateTimings,f=s.currentTimeline.duration,_=c.duration,A=s.createSubContext().currentTimeline;A.easing=c.easing,l.styles.forEach(k=>{A.forwardTime((k.offset||0)*_),A.setStyles(k.styles,k.easing,s.errors,s.options),A.applyStylesToKeyframe()}),s.currentTimeline.mergeTimelineCollectedStyles(A),s.transformIntoNewTimeline(f+_),s.previousNode=l}visitQuery(l,s){const c=s.currentTimeline.currentTime,f=l.options||{},_=f.delay?$i(f.delay):0;_&&(6===s.previousNode.type||0==c&&s.currentTimeline.hasCurrentStyleProperties())&&(s.currentTimeline.snapshotCurrentStyles(),s.previousNode=zt);let I=c;const A=s.invokeQuery(l.selector,l.originalSelector,l.limit,l.includeSelf,!!f.optional,s.errors);s.currentQueryTotal=A.length;let k=null;A.forEach((K,de)=>{s.currentQueryIndex=de;const Ce=s.createSubContext(l.options,K);_&&Ce.delayNextStep(_),K===s.element&&(k=Ce.currentTimeline),ut(this,l.animation,Ce),Ce.currentTimeline.applyStylesToKeyframe(),I=Math.max(I,Ce.currentTimeline.currentTime)}),s.currentQueryIndex=0,s.currentQueryTotal=0,s.transformIntoNewTimeline(I),k&&(s.currentTimeline.mergeTimelineCollectedStyles(k),s.currentTimeline.snapshotCurrentStyles()),s.previousNode=l}visitStagger(l,s){const c=s.parentContext,f=s.currentTimeline,_=l.timings,I=Math.abs(_.duration),A=I*(s.currentQueryTotal-1);let k=I*s.currentQueryIndex;switch(_.duration<0?"reverse":_.easing){case"reverse":k=A-k;break;case"full":k=c.currentStaggerTime}const de=s.currentTimeline;k&&de.delayNextStep(k);const Ce=de.currentTime;ut(this,l.animation,s),s.previousNode=l,c.currentStaggerTime=f.currentTime-Ce+(f.startTime-c.currentTimeline.startTime)}}const zt={};class sn{constructor(l,s,c,f,_,I,A,k){this._driver=l,this.element=s,this.subInstructions=c,this._enterClassName=f,this._leaveClassName=_,this.errors=I,this.timelines=A,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=zt,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=k||new Nn(this._driver,s,0),A.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(l,s){if(!l)return;const c=l;let f=this.options;null!=c.duration&&(f.duration=$i(c.duration)),null!=c.delay&&(f.delay=$i(c.delay));const _=c.params;if(_){let I=f.params;I||(I=this.options.params={}),Object.keys(_).forEach(A=>{(!s||!I.hasOwnProperty(A))&&(I[A]=_e(_[A],I,this.errors))})}}_copyOptions(){const l={};if(this.options){const s=this.options.params;if(s){const c=l.params={};Object.keys(s).forEach(f=>{c[f]=s[f]})}}return l}createSubContext(l=null,s,c){const f=s||this.element,_=new sn(this._driver,f,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(f,c||0));return _.previousNode=this.previousNode,_.currentAnimateTimings=this.currentAnimateTimings,_.options=this._copyOptions(),_.updateOptions(l),_.currentQueryIndex=this.currentQueryIndex,_.currentQueryTotal=this.currentQueryTotal,_.parentContext=this,this.subContextCount++,_}transformIntoNewTimeline(l){return this.previousNode=zt,this.currentTimeline=this.currentTimeline.fork(this.element,l),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(l,s,c){const f={duration:null!=s?s:l.duration,delay:this.currentTimeline.currentTime+(null!=c?c:0)+l.delay,easing:""},_=new or(this._driver,l.element,l.keyframes,l.preStyleProps,l.postStyleProps,f,l.stretchStartingKeyframe);return this.timelines.push(_),f}incrementTime(l){this.currentTimeline.forwardTime(this.currentTimeline.duration+l)}delayNextStep(l){l>0&&this.currentTimeline.delayNextStep(l)}invokeQuery(l,s,c,f,_,I){let A=[];if(f&&A.push(this.element),l.length>0){l=(l=l.replace(oe,"."+this._enterClassName)).replace($e,"."+this._leaveClassName);let K=this._driver.query(this.element,l,1!=c);0!==c&&(K=c<0?K.slice(K.length+c,K.length):K.slice(0,c)),A.push(...K)}return!_&&0==A.length&&I.push(function Fr(m){return new E.vHH(3014,!1)}()),A}}class Nn{constructor(l,s,c,f){this._driver=l,this.element=s,this.startTime=c,this._elementTimelineStylesLookup=f,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(s),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(s,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(l){const s=1===this._keyframes.size&&this._pendingStyles.size;this.duration||s?(this.forwardTime(this.currentTime+l),s&&this.snapshotCurrentStyles()):this.startTime+=l}fork(l,s){return this.applyStylesToKeyframe(),new Nn(this._driver,l,s||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(l){this.applyStylesToKeyframe(),this.duration=l,this._loadKeyframe()}_updateStyle(l,s){this._localTimelineStyles.set(l,s),this._globalTimelineStyles.set(l,s),this._styleSummary.set(l,{time:this.currentTime,value:s})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(l){l&&this._previousKeyframe.set("easing",l);for(let[s,c]of this._globalTimelineStyles)this._backFill.set(s,c||Dr),this._currentKeyframe.set(s,Dr);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(l,s,c,f){s&&this._previousKeyframe.set("easing",s);const _=f&&f.params||{},I=function qr(m,l){const s=new Map;let c;return m.forEach(f=>{if("*"===f){c=c||l.keys();for(let _ of c)s.set(_,Dr)}else Gn(f,s)}),s}(l,this._globalTimelineStyles);for(let[k,K]of I){const de=_e(K,_,c);var A;this._pendingStyles.set(k,de),this._localTimelineStyles.has(k)||this._backFill.set(k,null!==(A=this._globalTimelineStyles.get(k))&&void 0!==A?A:Dr),this._updateStyle(k,de)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((l,s)=>{this._currentKeyframe.set(s,l)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((l,s)=>{this._currentKeyframe.has(s)||this._currentKeyframe.set(s,l)}))}snapshotCurrentStyles(){for(let[l,s]of this._localTimelineStyles)this._pendingStyles.set(l,s),this._updateStyle(l,s)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const l=[];for(let s in this._currentKeyframe)l.push(s);return l}mergeTimelineCollectedStyles(l){l._styleSummary.forEach((s,c)=>{const f=this._styleSummary.get(c);(!f||s.time>f.time)&&this._updateStyle(c,s.value)})}buildKeyframes(){this.applyStylesToKeyframe();const l=new Set,s=new Set,c=1===this._keyframes.size&&0===this.duration;let f=[];this._keyframes.forEach((A,k)=>{const K=Gn(A,new Map,this._backFill);K.forEach((de,Ce)=>{de===Fs?l.add(Ce):de===Dr&&s.add(Ce)}),c||K.set("offset",k/this.duration),f.push(K)});const _=l.size?ce(l.values()):[],I=s.size?ce(s.values()):[];if(c){const A=f[0],k=new Map(A);A.set("offset",0),k.set("offset",1),f=[A,k]}return Oo(this.element,f,_,I,this.duration,this.startTime,this.easing,!1)}}class or extends Nn{constructor(l,s,c,f,_,I,A=!1){super(l,s,I.delay),this.keyframes=c,this.preStyleProps=f,this.postStyleProps=_,this._stretchStartingKeyframe=A,this.timings={duration:I.duration,delay:I.delay,easing:I.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let l=this.keyframes,{delay:s,duration:c,easing:f}=this.timings;if(this._stretchStartingKeyframe&&s){const _=[],I=c+s,A=s/I,k=Gn(l[0]);k.set("offset",0),_.push(k);const K=Gn(l[0]);K.set("offset",Jr(A)),_.push(K);const de=l.length-1;for(let Ce=1;Ce<=de;Ce++){let ze=Gn(l[Ce]);const Qe=ze.get("offset");ze.set("offset",Jr((s+Qe*c)/I)),_.push(ze)}c=I,s=0,f="",l=_}return Oo(this.element,l,this.preStyleProps,this.postStyleProps,c,s,f,!0)}}function Jr(m,l=3){const s=Math.pow(10,l-1);return Math.round(m*s)/s}class Ps{}const ue=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class Q extends Ps{normalizePropertyName(l,s){return F(l)}normalizeStyleValue(l,s,c,f){let _="";const I=c.toString().trim();if(ue.has(s)&&0!==c&&"0"!==c)if("number"==typeof c)_="px";else{const A=c.match(/^[+-]?[\d\.]+([a-z]*)$/);A&&0==A[1].length&&f.push(function wt(m,l){return new E.vHH(3005,!1)}())}return I+_}}function Pe(m,l,s,c,f,_,I,A,k,K,de,Ce,ze){return{type:0,element:m,triggerName:l,isRemovalTransition:f,fromState:s,fromStyles:_,toState:c,toStyles:I,timelines:A,queriedElements:k,preStyleProps:K,postStyleProps:de,totalTime:Ce,errors:ze}}const vt={};class mn{constructor(l,s,c){this._triggerName=l,this.ast=s,this._stateStyles=c}match(l,s,c,f){return function ei(m,l,s,c,f){return m.some(_=>_(l,s,c,f))}(this.ast.matchers,l,s,c,f)}buildStyles(l,s,c){let f=this._stateStyles.get("*");return void 0!==l&&(f=this._stateStyles.get(null==l?void 0:l.toString())||f),f?f.buildStyles(s,c):new Map}build(l,s,c,f,_,I,A,k,K,de){var Ce;const ze=[],Qe=this.ast.options&&this.ast.options.params||vt,At=this.buildStyles(c,A&&A.params||vt,ze),Zt=k&&k.params||vt,In=this.buildStyles(f,Zt,ze),En=new Set,er=new Map,Qn=new Map,Yn="void"===f,sr={params:fr(Zt,Qe),delay:null===(Ce=this.ast.options)||void 0===Ce?void 0:Ce.delay},dr=de?[]:at(l,s,this.ast.animation,_,I,At,In,sr,K,ze);let vr=0;if(dr.forEach(Ri=>{vr=Math.max(Ri.duration+Ri.delay,vr)}),ze.length)return Pe(s,this._triggerName,c,f,Yn,At,In,[],[],er,Qn,vr,ze);dr.forEach(Ri=>{const Vr=Ri.element,fs=Ws(er,Vr,new Set);Ri.preStyleProps.forEach(os=>fs.add(os));const Rs=Ws(Qn,Vr,new Set);Ri.postStyleProps.forEach(os=>Rs.add(os)),Vr!==s&&En.add(Vr)});const fi=ce(En.values());return Pe(s,this._triggerName,c,f,Yn,At,In,dr,fi,er,Qn,vr)}}function fr(m,l){const s=le(l);for(const c in m)m.hasOwnProperty(c)&&null!=m[c]&&(s[c]=m[c]);return s}class Gi{constructor(l,s,c){this.styles=l,this.defaultParams=s,this.normalizer=c}buildStyles(l,s){const c=new Map,f=le(this.defaultParams);return Object.keys(l).forEach(_=>{const I=l[_];null!==I&&(f[_]=I)}),this.styles.styles.forEach(_=>{"string"!=typeof _&&_.forEach((I,A)=>{I&&(I=_e(I,f,s));const k=this.normalizer.normalizePropertyName(A,s);I=this.normalizer.normalizeStyleValue(A,k,I,s),c.set(A,I)})}),c}}class Li{constructor(l,s,c){this.name=l,this.ast=s,this._normalizer=c,this.transitionFactories=[],this.states=new Map,s.states.forEach(f=>{this.states.set(f.name,new Gi(f.style,f.options&&f.options.params||{},c))}),Is(this.states,"true","1"),Is(this.states,"false","0"),s.transitions.forEach(f=>{this.transitionFactories.push(new mn(l,f,this.states))}),this.fallbackTransition=function ds(m,l,s){return new mn(m,{type:1,animation:{type:2,steps:[],options:null},matchers:[(I,A)=>!0],options:null,queryCount:0,depCount:0},l)}(l,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(l,s,c,f){return this.transitionFactories.find(I=>I.match(l,s,c,f))||null}matchStyles(l,s,c){return this.fallbackTransition.buildStyles(l,s,c)}}function Is(m,l,s){m.has(l)?m.has(s)||m.set(s,m.get(l)):m.has(s)&&m.set(l,m.get(s))}const yo=new Ea;class Wn{constructor(l,s,c){this.bodyNode=l,this._driver=s,this._normalizer=c,this._animations=new Map,this._playersById=new Map,this.players=[]}register(l,s){const c=[],_=mo(this._driver,s,c,[]);if(c.length)throw function zr(m){return new E.vHH(3503,!1)}();this._animations.set(l,_)}_buildPlayer(l,s,c){const f=l.element,_=lo(0,this._normalizer,0,l.keyframes,s,c);return this._driver.animate(f,_,l.duration,l.delay,l.easing,[],!0)}create(l,s,c={}){const f=[],_=this._animations.get(l);let I;const A=new Map;if(_?(I=at(this._driver,s,_,Ts,xo,new Map,new Map,c,yo,f),I.forEach(de=>{const Ce=Ws(A,de.element,new Map);de.postStyleProps.forEach(ze=>Ce.set(ze,null))})):(f.push(function zi(){return new E.vHH(3300,!1)}()),I=[]),f.length)throw function Yr(m){return new E.vHH(3504,!1)}();A.forEach((de,Ce)=>{de.forEach((ze,Qe)=>{de.set(Qe,this._driver.computeStyle(Ce,Qe,Dr))})});const K=Hs(I.map(de=>{const Ce=A.get(de.element);return this._buildPlayer(de,new Map,Ce)}));return this._playersById.set(l,K),K.onDestroy(()=>this.destroy(l)),this.players.push(K),K}destroy(l){const s=this._getPlayer(l);s.destroy(),this._playersById.delete(l);const c=this.players.indexOf(s);c>=0&&this.players.splice(c,1)}_getPlayer(l){const s=this._playersById.get(l);if(!s)throw function ao(m){return new E.vHH(3301,!1)}();return s}listen(l,s,c,f){const _=xi(s,"","","");return Ho(this._getPlayer(l),c,_,f),()=>{}}command(l,s,c,f){if("register"==c)return void this.register(l,f[0]);if("create"==c)return void this.create(l,s,f[0]||{});const _=this._getPlayer(l);switch(c){case"play":_.play();break;case"pause":_.pause();break;case"reset":_.reset();break;case"restart":_.restart();break;case"finish":_.finish();break;case"init":_.init();break;case"setPosition":_.setPosition(parseFloat(f[0]));break;case"destroy":this.destroy(l)}}}const Bi="ng-animate-queued",qo="ng-animate-disabled",Bn=[],Dn={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Xn={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Yi="__ng_removed";class Ja{get params(){return this.options.params}constructor(l,s=""){this.namespaceId=s;const c=l&&l.hasOwnProperty("value");if(this.value=function yl(m){return null!=m?m:null}(c?l.value:l),c){const _=le(l);delete _.value,this.options=_}else this.options={};this.options.params||(this.options.params={})}absorbOptions(l){const s=l.params;if(s){const c=this.options.params;Object.keys(s).forEach(f=>{null==c[f]&&(c[f]=s[f])})}}}const wa="void",xa=new Ja(wa);class dl{constructor(l,s,c){this.id=l,this.hostElement=s,this._engine=c,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+l,Ia(s,this._hostClassName)}listen(l,s,c,f){if(!this._triggers.has(s))throw function ms(m,l){return new E.vHH(3302,!1)}();if(null==c||0==c.length)throw function Ni(m){return new E.vHH(3303,!1)}();if(!function Jo(m){return"start"==m||"done"==m}(c))throw function Qi(m,l){return new E.vHH(3400,!1)}();const _=Ws(this._elementListeners,l,[]),I={name:s,phase:c,callback:f};_.push(I);const A=Ws(this._engine.statesByElement,l,new Map);return A.has(s)||(Ia(l,us),Ia(l,us+"-"+s),A.set(s,xa)),()=>{this._engine.afterFlush(()=>{const k=_.indexOf(I);k>=0&&_.splice(k,1),this._triggers.has(s)||A.delete(s)})}}register(l,s){return!this._triggers.has(l)&&(this._triggers.set(l,s),!0)}_getTrigger(l){const s=this._triggers.get(l);if(!s)throw function no(m){return new E.vHH(3401,!1)}();return s}trigger(l,s,c,f=!0){const _=this._getTrigger(s),I=new Zo(this.id,s,l);let A=this._engine.statesByElement.get(l);A||(Ia(l,us),Ia(l,us+"-"+s),this._engine.statesByElement.set(l,A=new Map));let k=A.get(s);const K=new Ja(c,this.id);if(!(c&&c.hasOwnProperty("value"))&&k&&K.absorbOptions(k.options),A.set(s,K),k||(k=xa),K.value!==wa&&k.value===K.value){if(!function Ga(m,l){const s=Object.keys(m),c=Object.keys(l);if(s.length!=c.length)return!1;for(let f=0;f<s.length;f++){const _=s[f];if(!l.hasOwnProperty(_)||m[_]!==l[_])return!1}return!0}(k.params,K.params)){const At=[],Zt=_.matchStyles(k.value,k.params,At),In=_.matchStyles(K.value,K.params,At);At.length?this._engine.reportError(At):this._engine.afterFlush(()=>{hi(l,Zt),ai(l,In)})}return}const ze=Ws(this._engine.playersByElement,l,[]);ze.forEach(At=>{At.namespaceId==this.id&&At.triggerName==s&&At.queued&&At.destroy()});let Qe=_.matchTransition(k.value,K.value,l,K.params),Et=!1;if(!Qe){if(!f)return;Qe=_.fallbackTransition,Et=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:l,triggerName:s,transition:Qe,fromState:k,toState:K,player:I,isFallbackTransition:Et}),Et||(Ia(l,Bi),I.onStart(()=>{Ks(l,Bi)})),I.onDone(()=>{let At=this.players.indexOf(I);At>=0&&this.players.splice(At,1);const Zt=this._engine.playersByElement.get(l);if(Zt){let In=Zt.indexOf(I);In>=0&&Zt.splice(In,1)}}),this.players.push(I),ze.push(I),I}deregister(l){this._triggers.delete(l),this._engine.statesByElement.forEach(s=>s.delete(l)),this._elementListeners.forEach((s,c)=>{this._elementListeners.set(c,s.filter(f=>f.name!=l))})}clearElementCache(l){this._engine.statesByElement.delete(l),this._elementListeners.delete(l);const s=this._engine.playersByElement.get(l);s&&(s.forEach(c=>c.destroy()),this._engine.playersByElement.delete(l))}_signalRemovalForInnerTriggers(l,s){const c=this._engine.driver.query(l,Mo,!0);c.forEach(f=>{if(f[Yi])return;const _=this._engine.fetchNamespacesByElement(f);_.size?_.forEach(I=>I.triggerLeaveAnimation(f,s,!1,!0)):this.clearElementCache(f)}),this._engine.afterFlushAnimationsDone(()=>c.forEach(f=>this.clearElementCache(f)))}triggerLeaveAnimation(l,s,c,f){const _=this._engine.statesByElement.get(l),I=new Map;if(_){const A=[];if(_.forEach((k,K)=>{if(I.set(K,k.value),this._triggers.has(K)){const de=this.trigger(l,K,wa,f);de&&A.push(de)}}),A.length)return this._engine.markElementAsRemoved(this.id,l,!0,s,I),c&&Hs(A).onDone(()=>this._engine.processLeaveNode(l)),!0}return!1}prepareLeaveAnimationListeners(l){const s=this._elementListeners.get(l),c=this._engine.statesByElement.get(l);if(s&&c){const f=new Set;s.forEach(_=>{const I=_.name;if(f.has(I))return;f.add(I);const k=this._triggers.get(I).fallbackTransition,K=c.get(I)||xa,de=new Ja(wa),Ce=new Zo(this.id,I,l);this._engine.totalQueuedPlayers++,this._queue.push({element:l,triggerName:I,transition:k,fromState:K,toState:de,player:Ce,isFallbackTransition:!0})})}}removeNode(l,s){const c=this._engine;if(l.childElementCount&&this._signalRemovalForInnerTriggers(l,s),this.triggerLeaveAnimation(l,s,!0))return;let f=!1;if(c.totalAnimations){const _=c.players.length?c.playersByQueriedElement.get(l):[];if(_&&_.length)f=!0;else{let I=l;for(;I=I.parentNode;)if(c.statesByElement.get(I)){f=!0;break}}}if(this.prepareLeaveAnimationListeners(l),f)c.markElementAsRemoved(this.id,l,!1,s);else{const _=l[Yi];(!_||_===Dn)&&(c.afterFlush(()=>this.clearElementCache(l)),c.destroyInnerAnimations(l),c._onRemovalComplete(l,s))}}insertNode(l,s){Ia(l,this._hostClassName)}drainQueuedTransitions(l){const s=[];return this._queue.forEach(c=>{const f=c.player;if(f.destroyed)return;const _=c.element,I=this._elementListeners.get(_);I&&I.forEach(A=>{if(A.name==c.triggerName){const k=xi(_,c.triggerName,c.fromState.value,c.toState.value);k._data=l,Ho(c.player,A.phase,k,A.callback)}}),f.markedForDestroy?this._engine.afterFlush(()=>{f.destroy()}):s.push(c)}),this._queue=[],s.sort((c,f)=>{const _=c.transition.ast.depCount,I=f.transition.ast.depCount;return 0==_||0==I?_-I:this._engine.driver.containsElement(c.element,f.element)?1:-1})}destroy(l){this.players.forEach(s=>s.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,l)}elementContainsData(l){let s=!1;return this._elementListeners.has(l)&&(s=!0),s=!!this._queue.find(c=>c.element===l)||s,s}}class al{_onRemovalComplete(l,s){this.onRemovalComplete(l,s)}constructor(l,s,c){this.bodyNode=l,this.driver=s,this._normalizer=c,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(f,_)=>{}}get queuedPlayers(){const l=[];return this._namespaceList.forEach(s=>{s.players.forEach(c=>{c.queued&&l.push(c)})}),l}createNamespace(l,s){const c=new dl(l,s,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,s)?this._balanceNamespaceList(c,s):(this.newHostElements.set(s,c),this.collectEnterElement(s)),this._namespaceLookup[l]=c}_balanceNamespaceList(l,s){const c=this._namespaceList,f=this.namespacesByHostElement;if(c.length-1>=0){let I=!1,A=this.driver.getParentElement(s);for(;A;){const k=f.get(A);if(k){const K=c.indexOf(k);c.splice(K+1,0,l),I=!0;break}A=this.driver.getParentElement(A)}I||c.unshift(l)}else c.push(l);return f.set(s,l),l}register(l,s){let c=this._namespaceLookup[l];return c||(c=this.createNamespace(l,s)),c}registerTrigger(l,s,c){let f=this._namespaceLookup[l];f&&f.register(s,c)&&this.totalAnimations++}destroy(l,s){if(!l)return;const c=this._fetchNamespace(l);this.afterFlush(()=>{this.namespacesByHostElement.delete(c.hostElement),delete this._namespaceLookup[l];const f=this._namespaceList.indexOf(c);f>=0&&this._namespaceList.splice(f,1)}),this.afterFlushAnimationsDone(()=>c.destroy(s))}_fetchNamespace(l){return this._namespaceLookup[l]}fetchNamespacesByElement(l){const s=new Set,c=this.statesByElement.get(l);if(c)for(let f of c.values())if(f.namespaceId){const _=this._fetchNamespace(f.namespaceId);_&&s.add(_)}return s}trigger(l,s,c,f){if(bs(s)){const _=this._fetchNamespace(l);if(_)return _.trigger(s,c,f),!0}return!1}insertNode(l,s,c,f){if(!bs(s))return;const _=s[Yi];if(_&&_.setForRemoval){_.setForRemoval=!1,_.setForMove=!0;const I=this.collectedLeaveElements.indexOf(s);I>=0&&this.collectedLeaveElements.splice(I,1)}if(l){const I=this._fetchNamespace(l);I&&I.insertNode(s,c)}f&&this.collectEnterElement(s)}collectEnterElement(l){this.collectedEnterElements.push(l)}markElementAsDisabled(l,s){s?this.disabledNodes.has(l)||(this.disabledNodes.add(l),Ia(l,qo)):this.disabledNodes.has(l)&&(this.disabledNodes.delete(l),Ks(l,qo))}removeNode(l,s,c,f){if(bs(s)){const _=l?this._fetchNamespace(l):null;if(_?_.removeNode(s,f):this.markElementAsRemoved(l,s,!1,f),c){const I=this.namespacesByHostElement.get(s);I&&I.id!==l&&I.removeNode(s,f)}}else this._onRemovalComplete(s,f)}markElementAsRemoved(l,s,c,f,_){this.collectedLeaveElements.push(s),s[Yi]={namespaceId:l,setForRemoval:f,hasAnimation:c,removedBeforeQueried:!1,previousTriggersValues:_}}listen(l,s,c,f,_){return bs(s)?this._fetchNamespace(l).listen(s,c,f,_):()=>{}}_buildInstruction(l,s,c,f,_){return l.transition.build(this.driver,l.element,l.fromState.value,l.toState.value,c,f,l.fromState.options,l.toState.options,s,_)}destroyInnerAnimations(l){let s=this.driver.query(l,Mo,!0);s.forEach(c=>this.destroyActiveAnimationsForElement(c)),0!=this.playersByQueriedElement.size&&(s=this.driver.query(l,Bo,!0),s.forEach(c=>this.finishActiveQueriedAnimationOnElement(c)))}destroyActiveAnimationsForElement(l){const s=this.playersByElement.get(l);s&&s.forEach(c=>{c.queued?c.markedForDestroy=!0:c.destroy()})}finishActiveQueriedAnimationOnElement(l){const s=this.playersByQueriedElement.get(l);s&&s.forEach(c=>c.finish())}whenRenderingDone(){return new Promise(l=>{if(this.players.length)return Hs(this.players).onDone(()=>l());l()})}processLeaveNode(l){var s;const c=l[Yi];if(c&&c.setForRemoval){if(l[Yi]=Dn,c.namespaceId){this.destroyInnerAnimations(l);const f=this._fetchNamespace(c.namespaceId);f&&f.clearElementCache(l)}this._onRemovalComplete(l,c.setForRemoval)}null!==(s=l.classList)&&void 0!==s&&s.contains(qo)&&this.markElementAsDisabled(l,!1),this.driver.query(l,".ng-animate-disabled",!0).forEach(f=>{this.markElementAsDisabled(f,!1)})}flush(l=-1){let s=[];if(this.newHostElements.size&&(this.newHostElements.forEach((c,f)=>this._balanceNamespaceList(c,f)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let c=0;c<this.collectedEnterElements.length;c++)Ia(this.collectedEnterElements[c],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const c=[];try{s=this._flushAnimations(c,l)}finally{for(let f=0;f<c.length;f++)c[f]()}}else for(let c=0;c<this.collectedLeaveElements.length;c++)this.processLeaveNode(this.collectedLeaveElements[c]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(c=>c()),this._flushFns=[],this._whenQuietFns.length){const c=this._whenQuietFns;this._whenQuietFns=[],s.length?Hs(s).onDone(()=>{c.forEach(f=>f())}):c.forEach(f=>f())}}reportError(l){throw function fo(m){return new E.vHH(3402,!1)}()}_flushAnimations(l,s){const c=new Ea,f=[],_=new Map,I=[],A=new Map,k=new Map,K=new Map,de=new Set;this.disabledNodes.forEach(wr=>{de.add(wr);const Ir=this.driver.query(wr,".ng-animate-queued",!0);for(let wi=0;wi<Ir.length;wi++)de.add(Ir[wi])});const Ce=this.bodyNode,ze=Array.from(this.statesByElement.keys()),Qe=sa(ze,this.collectedEnterElements),Et=new Map;let At=0;Qe.forEach((wr,Ir)=>{const wi=Ts+At++;Et.set(Ir,wi),wr.forEach(Ki=>Ia(Ki,wi))});const Zt=[],In=new Set,En=new Set;for(let wr=0;wr<this.collectedLeaveElements.length;wr++){const Ir=this.collectedLeaveElements[wr],wi=Ir[Yi];wi&&wi.setForRemoval&&(Zt.push(Ir),In.add(Ir),wi.hasAnimation?this.driver.query(Ir,".ng-star-inserted",!0).forEach(Ki=>In.add(Ki)):En.add(Ir))}const er=new Map,Qn=sa(ze,Array.from(In));Qn.forEach((wr,Ir)=>{const wi=xo+At++;er.set(Ir,wi),wr.forEach(Ki=>Ia(Ki,wi))}),l.push(()=>{Qe.forEach((wr,Ir)=>{const wi=Et.get(Ir);wr.forEach(Ki=>Ks(Ki,wi))}),Qn.forEach((wr,Ir)=>{const wi=er.get(Ir);wr.forEach(Ki=>Ks(Ki,wi))}),Zt.forEach(wr=>{this.processLeaveNode(wr)})});const Yn=[],sr=[];for(let wr=this._namespaceList.length-1;wr>=0;wr--)this._namespaceList[wr].drainQueuedTransitions(s).forEach(wi=>{const Ki=wi.player,rs=wi.element;if(Yn.push(Ki),this.collectedEnterElements.length){const $o=rs[Yi];if($o&&$o.setForMove){if($o.previousTriggersValues&&$o.previousTriggersValues.has(wi.triggerName)){const Ml=$o.previousTriggersValues.get(wi.triggerName),ra=this.statesByElement.get(wi.element);if(ra&&ra.has(wi.triggerName)){const tl=ra.get(wi.triggerName);tl.value=Ml,ra.set(wi.triggerName,tl)}}return void Ki.destroy()}}const la=!Ce||!this.driver.containsElement(Ce,rs),vo=er.get(rs),Cs=Et.get(rs),as=this._buildInstruction(wi,c,Cs,vo,la);if(as.errors&&as.errors.length)return void sr.push(as);if(la)return Ki.onStart(()=>hi(rs,as.fromStyles)),Ki.onDestroy(()=>ai(rs,as.toStyles)),void f.push(Ki);if(wi.isFallbackTransition)return Ki.onStart(()=>hi(rs,as.fromStyles)),Ki.onDestroy(()=>ai(rs,as.toStyles)),void f.push(Ki);const Ca=[];as.timelines.forEach($o=>{$o.stretchStartingKeyframe=!0,this.disabledNodes.has($o.element)||Ca.push($o)}),as.timelines=Ca,c.append(rs,as.timelines),I.push({instruction:as,player:Ki,element:rs}),as.queriedElements.forEach($o=>Ws(A,$o,[]).push(Ki)),as.preStyleProps.forEach(($o,Ml)=>{if($o.size){let ra=k.get(Ml);ra||k.set(Ml,ra=new Set),$o.forEach((tl,Zl)=>ra.add(Zl))}}),as.postStyleProps.forEach(($o,Ml)=>{let ra=K.get(Ml);ra||K.set(Ml,ra=new Set),$o.forEach((tl,Zl)=>ra.add(Zl))})});if(sr.length){const wr=[];sr.forEach(Ir=>{wr.push(function Io(m,l){return new E.vHH(3505,!1)}())}),Yn.forEach(Ir=>Ir.destroy()),this.reportError(wr)}const dr=new Map,vr=new Map;I.forEach(wr=>{const Ir=wr.element;c.has(Ir)&&(vr.set(Ir,Ir),this._beforeAnimationBuild(wr.player.namespaceId,wr.instruction,dr))}),f.forEach(wr=>{const Ir=wr.element;this._getPreviousPlayers(Ir,!1,wr.namespaceId,wr.triggerName,null).forEach(Ki=>{Ws(dr,Ir,[]).push(Ki),Ki.destroy()})});const fi=Zt.filter(wr=>hs(wr,k,K)),Ri=new Map;Vi(Ri,this.driver,En,K,Dr).forEach(wr=>{hs(wr,k,K)&&fi.push(wr)});const fs=new Map;Qe.forEach((wr,Ir)=>{Vi(fs,this.driver,new Set(wr),k,Fs)}),fi.forEach(wr=>{var Ir,wi;const Ki=Ri.get(wr),rs=fs.get(wr);Ri.set(wr,new Map([...Array.from(null!==(Ir=null==Ki?void 0:Ki.entries())&&void 0!==Ir?Ir:[]),...Array.from(null!==(wi=null==rs?void 0:rs.entries())&&void 0!==wi?wi:[])]))});const Rs=[],os=[],Vs={};I.forEach(wr=>{const{element:Ir,player:wi,instruction:Ki}=wr;if(c.has(Ir)){if(de.has(Ir))return wi.onDestroy(()=>ai(Ir,Ki.toStyles)),wi.disabled=!0,wi.overrideTotalTime(Ki.totalTime),void f.push(wi);let rs=Vs;if(vr.size>1){let vo=Ir;const Cs=[];for(;vo=vo.parentNode;){const as=vr.get(vo);if(as){rs=as;break}Cs.push(vo)}Cs.forEach(as=>vr.set(as,rs))}const la=this._buildAnimation(wi.namespaceId,Ki,dr,_,fs,Ri);if(wi.setRealPlayer(la),rs===Vs)Rs.push(wi);else{const vo=this.playersByElement.get(rs);vo&&vo.length&&(wi.parentPlayer=Hs(vo)),f.push(wi)}}else hi(Ir,Ki.fromStyles),wi.onDestroy(()=>ai(Ir,Ki.toStyles)),os.push(wi),de.has(Ir)&&f.push(wi)}),os.forEach(wr=>{const Ir=_.get(wr.element);if(Ir&&Ir.length){const wi=Hs(Ir);wr.setRealPlayer(wi)}}),f.forEach(wr=>{wr.parentPlayer?wr.syncPlayerEvents(wr.parentPlayer):wr.destroy()});for(let wr=0;wr<Zt.length;wr++){const Ir=Zt[wr],wi=Ir[Yi];if(Ks(Ir,xo),wi&&wi.hasAnimation)continue;let Ki=[];if(A.size){let la=A.get(Ir);la&&la.length&&Ki.push(...la);let vo=this.driver.query(Ir,Bo,!0);for(let Cs=0;Cs<vo.length;Cs++){let as=A.get(vo[Cs]);as&&as.length&&Ki.push(...as)}}const rs=Ki.filter(la=>!la.destroyed);rs.length?yi(this,Ir,rs):this.processLeaveNode(Ir)}return Zt.length=0,Rs.forEach(wr=>{this.players.push(wr),wr.onDone(()=>{wr.destroy();const Ir=this.players.indexOf(wr);this.players.splice(Ir,1)}),wr.play()}),Rs}elementContainsData(l,s){let c=!1;const f=s[Yi];return f&&f.setForRemoval&&(c=!0),this.playersByElement.has(s)&&(c=!0),this.playersByQueriedElement.has(s)&&(c=!0),this.statesByElement.has(s)&&(c=!0),this._fetchNamespace(l).elementContainsData(s)||c}afterFlush(l){this._flushFns.push(l)}afterFlushAnimationsDone(l){this._whenQuietFns.push(l)}_getPreviousPlayers(l,s,c,f,_){let I=[];if(s){const A=this.playersByQueriedElement.get(l);A&&(I=A)}else{const A=this.playersByElement.get(l);if(A){const k=!_||_==wa;A.forEach(K=>{K.queued||!k&&K.triggerName!=f||I.push(K)})}}return(c||f)&&(I=I.filter(A=>!(c&&c!=A.namespaceId||f&&f!=A.triggerName))),I}_beforeAnimationBuild(l,s,c){const _=s.element,I=s.isRemovalTransition?void 0:l,A=s.isRemovalTransition?void 0:s.triggerName;for(const k of s.timelines){const K=k.element,de=K!==_,Ce=Ws(c,K,[]);this._getPreviousPlayers(K,de,I,A,s.toState).forEach(Qe=>{const Et=Qe.getRealPlayer();Et.beforeDestroy&&Et.beforeDestroy(),Qe.destroy(),Ce.push(Qe)})}hi(_,s.fromStyles)}_buildAnimation(l,s,c,f,_,I){const A=s.triggerName,k=s.element,K=[],de=new Set,Ce=new Set,ze=s.timelines.map(Et=>{const At=Et.element;de.add(At);const Zt=At[Yi];if(Zt&&Zt.removedBeforeQueried)return new ks(Et.duration,Et.delay);const In=At!==k,En=function Fa(m){const l=[];return ss(m,l),l}((c.get(At)||Bn).map(dr=>dr.getRealPlayer())).filter(dr=>!!dr.element&&dr.element===At),er=_.get(At),Qn=I.get(At),Yn=lo(0,this._normalizer,0,Et.keyframes,er,Qn),sr=this._buildPlayer(Et,Yn,En);if(Et.subTimeline&&f&&Ce.add(At),In){const dr=new Zo(l,A,At);dr.setRealPlayer(sr),K.push(dr)}return sr});K.forEach(Et=>{Ws(this.playersByQueriedElement,Et.element,[]).push(Et),Et.onDone(()=>function Wa(m,l,s){let c=m.get(l);if(c){if(c.length){const f=c.indexOf(s);c.splice(f,1)}0==c.length&&m.delete(l)}return c}(this.playersByQueriedElement,Et.element,Et))}),de.forEach(Et=>Ia(Et,To));const Qe=Hs(ze);return Qe.onDestroy(()=>{de.forEach(Et=>Ks(Et,To)),ai(k,s.toStyles)}),Ce.forEach(Et=>{Ws(f,Et,[]).push(Qe)}),Qe}_buildPlayer(l,s,c){return s.length>0?this.driver.animate(l.element,s,l.duration,l.delay,l.easing,c):new ks(l.duration,l.delay)}}class Zo{constructor(l,s,c){this.namespaceId=l,this.triggerName=s,this.element=c,this._player=new ks,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(l){this._containsRealPlayer||(this._player=l,this._queuedCallbacks.forEach((s,c)=>{s.forEach(f=>Ho(l,c,void 0,f))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(l.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(l){this.totalTime=l}syncPlayerEvents(l){const s=this._player;s.triggerCallback&&l.onStart(()=>s.triggerCallback("start")),l.onDone(()=>this.finish()),l.onDestroy(()=>this.destroy())}_queueEvent(l,s){Ws(this._queuedCallbacks,l,[]).push(s)}onDone(l){this.queued&&this._queueEvent("done",l),this._player.onDone(l)}onStart(l){this.queued&&this._queueEvent("start",l),this._player.onStart(l)}onDestroy(l){this.queued&&this._queueEvent("destroy",l),this._player.onDestroy(l)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(l){this.queued||this._player.setPosition(l)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(l){const s=this._player;s.triggerCallback&&s.triggerCallback(l)}}function bs(m){return m&&1===m.nodeType}function el(m,l){const s=m.style.display;return m.style.display=null!=l?l:"none",s}function Vi(m,l,s,c,f){const _=[];s.forEach(k=>_.push(el(k)));const I=[];c.forEach((k,K)=>{const de=new Map;k.forEach(Ce=>{const ze=l.computeStyle(K,Ce,f);de.set(Ce,ze),(!ze||0==ze.length)&&(K[Yi]=Xn,I.push(K))}),m.set(K,de)});let A=0;return s.forEach(k=>el(k,_[A++])),I}function sa(m,l){const s=new Map;if(m.forEach(A=>s.set(A,[])),0==l.length)return s;const c=1,f=new Set(l),_=new Map;function I(A){if(!A)return c;let k=_.get(A);if(k)return k;const K=A.parentNode;return k=s.has(K)?K:f.has(K)?c:I(K),_.set(A,k),k}return l.forEach(A=>{const k=I(A);k!==c&&s.get(k).push(A)}),s}function Ia(m,l){var s;null===(s=m.classList)||void 0===s||s.add(l)}function Ks(m,l){var s;null===(s=m.classList)||void 0===s||s.remove(l)}function yi(m,l,s){Hs(s).onDone(()=>m.processLeaveNode(l))}function ss(m,l){for(let s=0;s<m.length;s++){const c=m[s];c instanceof Ns?ss(c.players,l):l.push(c)}}function hs(m,l,s){const c=s.get(m);if(!c)return!1;let f=l.get(m);return f?c.forEach(_=>f.add(_)):l.set(m,c),s.delete(m),!0}class gr{constructor(l,s,c){this.bodyNode=l,this._driver=s,this._normalizer=c,this._triggerCache={},this.onRemovalComplete=(f,_)=>{},this._transitionEngine=new al(l,s,c),this._timelineEngine=new Wn(l,s,c),this._transitionEngine.onRemovalComplete=(f,_)=>this.onRemovalComplete(f,_)}registerTrigger(l,s,c,f,_){const I=l+"-"+f;let A=this._triggerCache[I];if(!A){const k=[],de=mo(this._driver,_,k,[]);if(k.length)throw function wo(m,l){return new E.vHH(3404,!1)}();A=function ti(m,l,s){return new Li(m,l,s)}(f,de,this._normalizer),this._triggerCache[I]=A}this._transitionEngine.registerTrigger(s,f,A)}register(l,s){this._transitionEngine.register(l,s)}destroy(l,s){this._transitionEngine.destroy(l,s)}onInsert(l,s,c,f){this._transitionEngine.insertNode(l,s,c,f)}onRemove(l,s,c,f){this._transitionEngine.removeNode(l,s,f||!1,c)}disableAnimations(l,s){this._transitionEngine.markElementAsDisabled(l,s)}process(l,s,c,f){if("@"==c.charAt(0)){const[_,I]=Es(c);this._timelineEngine.command(_,s,I,f)}else this._transitionEngine.trigger(l,s,c,f)}listen(l,s,c,f,_){if("@"==c.charAt(0)){const[I,A]=Es(c);return this._timelineEngine.listen(I,s,A,_)}return this._transitionEngine.listen(l,s,c,f,_)}flush(l=-1){this._transitionEngine.flush(l)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let ha=(()=>{class m{constructor(s,c,f){this._element=s,this._startStyles=c,this._endStyles=f,this._state=0;let _=m.initialStylesByElement.get(s);_||m.initialStylesByElement.set(s,_=new Map),this._initialStyles=_}start(){this._state<1&&(this._startStyles&&ai(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(ai(this._element,this._initialStyles),this._endStyles&&(ai(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(m.initialStylesByElement.delete(this._element),this._startStyles&&(hi(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(hi(this._element,this._endStyles),this._endStyles=null),ai(this._element,this._initialStyles),this._state=3)}}return m.initialStylesByElement=new WeakMap,m})();function ya(m){let l=null;return m.forEach((s,c)=>{(function hl(m){return"display"===m||"position"===m})(c)&&(l=l||new Map,l.set(c,s))}),l}class nt{constructor(l,s,c,f){this.element=l,this.keyframes=s,this.options=c,this._specialStyles=f,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=c.duration,this._delay=c.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(l=>l()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const l=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,l,this.options),this._finalKeyframe=l.length?l[l.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(l){const s=[];return l.forEach(c=>{s.push(Object.fromEntries(c))}),s}_triggerWebAnimation(l,s,c){return l.animate(this._convertKeyframesToObject(s),c)}onStart(l){this._originalOnStartFns.push(l),this._onStartFns.push(l)}onDone(l){this._originalOnDoneFns.push(l),this._onDoneFns.push(l)}onDestroy(l){this._onDestroyFns.push(l)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(l=>l()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(l=>l()),this._onDestroyFns=[])}setPosition(l){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=l*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const l=new Map;this.hasStarted()&&this._finalKeyframe.forEach((c,f)=>{"offset"!==f&&l.set(f,this._finished?c:Nt(this.element,f))}),this.currentSnapshot=l}triggerCallback(l){const s="start"===l?this._onStartFns:this._onDoneFns;s.forEach(c=>c()),s.length=0}}class Xt{validateStyleProperty(l){return!0}validateAnimatableStyleProperty(l){return!0}matchesElement(l,s){return!1}containsElement(l,s){return ki(l,s)}getParentElement(l){return Ss(l)}query(l,s,c){return Wo(l,s,c)}computeStyle(l,s,c){return window.getComputedStyle(l)[s]}animate(l,s,c,f,_,I=[]){const k={duration:c,delay:f,fill:0==f?"both":"forwards"};_&&(k.easing=_);const K=new Map,de=I.filter(Qe=>Qe instanceof nt);(function L(m,l){return 0===m||0===l})(c,f)&&de.forEach(Qe=>{Qe.currentSnapshot.forEach((Et,At)=>K.set(At,Et))});let Ce=function _n(m){return m.length?m[0]instanceof Map?m:m.map(l=>Ge(l)):[]}(s).map(Qe=>Gn(Qe));Ce=function ge(m,l,s){if(s.size&&l.length){let c=l[0],f=[];if(s.forEach((_,I)=>{c.has(I)||f.push(I),c.set(I,_)}),f.length)for(let _=1;_<l.length;_++){let I=l[_];f.forEach(A=>I.set(A,Nt(m,A)))}}return l}(l,Ce,K);const ze=function Ka(m,l){let s=null,c=null;return Array.isArray(l)&&l.length?(s=ya(l[0]),l.length>1&&(c=ya(l[l.length-1]))):l instanceof Map&&(s=ya(l)),s||c?new ha(m,s,c):null}(l,Ce);return new nt(l,Ce,k,ze)}}let Qt=(()=>{class m extends qn{constructor(s,c){super(),this._nextAnimationId=0,this._renderer=s.createRenderer(c.body,{id:"0",encapsulation:E.ifc.None,styles:[],data:{animation:[]}})}build(s){const c=this._nextAnimationId.toString();this._nextAnimationId++;const f=Array.isArray(s)?Ur(s):s;return Wi(this._renderer,null,c,"register",[f]),new yr(c,this._renderer)}}return m.\u0275fac=function(s){return new(s||m)(E.LFG(E.FYo),E.LFG(Mt.K0))},m.\u0275prov=E.Yz7({token:m,factory:m.\u0275fac}),m})();class yr extends pr{constructor(l,s){super(),this._id=l,this._renderer=s}create(l,s){return new Ui(this._id,l,s||{},this._renderer)}}class Ui{constructor(l,s,c,f){this.id=l,this.element=s,this._renderer=f,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",c)}_listen(l,s){return this._renderer.listen(this.element,`@@${this.id}:${l}`,s)}_command(l,...s){return Wi(this._renderer,this.element,this.id,l,s)}onDone(l){this._listen("done",l)}onStart(l){this._listen("start",l)}onDestroy(l){this._listen("destroy",l)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(l){this._command("setPosition",l)}getPosition(){var l,s;return null!==(l=null===(s=this._renderer.engine.players[+this.id])||void 0===s?void 0:s.getPosition())&&void 0!==l?l:0}}function Wi(m,l,s,c,f){return m.setProperty(l,`@@${s}:${c}`,f)}const ns="@.disabled";let qi=(()=>{class m{constructor(s,c,f){this.delegate=s,this.engine=c,this._zone=f,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),c.onRemovalComplete=(_,I)=>{const A=null==I?void 0:I.parentNode(_);A&&I.removeChild(A,_)}}createRenderer(s,c){const _=this.delegate.createRenderer(s,c);if(!(s&&c&&c.data&&c.data.animation)){let de=this._rendererCache.get(_);return de||(de=new Uo("",_,this.engine,()=>this._rendererCache.delete(_)),this._rendererCache.set(_,de)),de}const I=c.id,A=c.id+"-"+this._currentId;this._currentId++,this.engine.register(A,s);const k=de=>{Array.isArray(de)?de.forEach(k):this.engine.registerTrigger(I,A,s,de.name,de)};return c.data.animation.forEach(k),new aa(this,A,_,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(s,c,f){s>=0&&s<this._microtaskId?this._zone.run(()=>c(f)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(_=>{const[I,A]=_;I(A)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([c,f]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return m.\u0275fac=function(s){return new(s||m)(E.LFG(E.FYo),E.LFG(gr),E.LFG(E.R0b))},m.\u0275prov=E.Yz7({token:m,factory:m.\u0275fac}),m})();class Uo{constructor(l,s,c,f){this.namespaceId=l,this.delegate=s,this.engine=c,this._onDestroy=f,this.destroyNode=this.delegate.destroyNode?_=>s.destroyNode(_):null}get data(){return this.delegate.data}destroy(){var l;this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy(),null===(l=this._onDestroy)||void 0===l||l.call(this)}createElement(l,s){return this.delegate.createElement(l,s)}createComment(l){return this.delegate.createComment(l)}createText(l){return this.delegate.createText(l)}appendChild(l,s){this.delegate.appendChild(l,s),this.engine.onInsert(this.namespaceId,s,l,!1)}insertBefore(l,s,c,f=!0){this.delegate.insertBefore(l,s,c),this.engine.onInsert(this.namespaceId,s,l,f)}removeChild(l,s,c){this.engine.onRemove(this.namespaceId,s,this.delegate,c)}selectRootElement(l,s){return this.delegate.selectRootElement(l,s)}parentNode(l){return this.delegate.parentNode(l)}nextSibling(l){return this.delegate.nextSibling(l)}setAttribute(l,s,c,f){this.delegate.setAttribute(l,s,c,f)}removeAttribute(l,s,c){this.delegate.removeAttribute(l,s,c)}addClass(l,s){this.delegate.addClass(l,s)}removeClass(l,s){this.delegate.removeClass(l,s)}setStyle(l,s,c,f){this.delegate.setStyle(l,s,c,f)}removeStyle(l,s,c){this.delegate.removeStyle(l,s,c)}setProperty(l,s,c){"@"==s.charAt(0)&&s==ns?this.disableAnimations(l,!!c):this.delegate.setProperty(l,s,c)}setValue(l,s){this.delegate.setValue(l,s)}listen(l,s,c){return this.delegate.listen(l,s,c)}disableAnimations(l,s){this.engine.disableAnimations(l,s)}}class aa extends Uo{constructor(l,s,c,f,_){super(s,c,f,_),this.factory=l,this.namespaceId=s}setProperty(l,s,c){"@"==s.charAt(0)?"."==s.charAt(1)&&s==ns?this.disableAnimations(l,c=void 0===c||!!c):this.engine.process(this.namespaceId,l,s.slice(1),c):this.delegate.setProperty(l,s,c)}listen(l,s,c){if("@"==s.charAt(0)){const f=function pn(m){switch(m){case"body":return document.body;case"document":return document;case"window":return window;default:return m}}(l);let _=s.slice(1),I="";return"@"!=_.charAt(0)&&([_,I]=function La(m){const l=m.indexOf(".");return[m.substring(0,l),m.slice(l+1)]}(_)),this.engine.listen(this.namespaceId,f,_,I,A=>{this.factory.scheduleListenerCallback(A._data||-1,c,A)})}return this.delegate.listen(l,s,c)}}const Xo=[{provide:qn,useClass:Qt},{provide:Ps,useFactory:function Cl(){return new Q}},{provide:gr,useClass:(()=>{class m extends gr{constructor(s,c,f,_){super(s.body,c,f)}ngOnDestroy(){this.flush()}}return m.\u0275fac=function(s){return new(s||m)(E.LFG(Mt.K0),E.LFG(So),E.LFG(Ps),E.LFG(E.z2F))},m.\u0275prov=E.Yz7({token:m,factory:m.\u0275fac}),m})()},{provide:E.FYo,useFactory:function Ya(m,l,s){return new qi(m,l,s)},deps:[d.se,gr,E.R0b]}],Dl=[{provide:So,useFactory:()=>new Xt},{provide:E.QbO,useValue:"BrowserAnimations"},...Xo],jo=[{provide:So,useClass:uo},{provide:E.QbO,useValue:"NoopAnimations"},...Xo];let V=(()=>{class m{static withConfig(s){return{ngModule:m,providers:s.disableAnimations?jo:Dl}}}return m.\u0275fac=function(s){return new(s||m)},m.\u0275mod=E.oAB({type:m}),m.\u0275inj=E.cJS({providers:Dl,imports:[d.b2]}),m})();var me=z(89),Xe=z(7246);let Ue=(()=>{class m{constructor(s){this.objFirebase=s}TraerUsuarios(){return this.usuariosFirebase=this.objFirebase.collection("usuarios"),this.usuariosFirebase.valueChanges()}}return m.\u0275fac=function(s){return new(s||m)(E.LFG(Kt.ST))},m.\u0275prov=E.Yz7({token:m,factory:m.\u0275fac}),m})();var Yt=z(2110),Tn=z(5030),xr=z(7622),Mi=z(8490);let Zr=(()=>{class m{constructor(s){this.camera=s,console.log("Hello CamaraProvider Provider")}SacarFoto(){this.camera.getPicture({quality:70,destinationType:this.camera.DestinationType.FILE_URI,encodingType:this.camera.EncodingType.JPEG,mediaType:this.camera.MediaType.PICTURE}).then(c=>{this.miFoto="data:image/jpeg;base64,"+c},c=>{})}}return m.\u0275fac=function(s){return new(s||m)(E.LFG(Mi.V1))},m.\u0275prov=E.Yz7({token:m,factory:m.\u0275fac}),m})(),ko=(()=>{class m{}return m.\u0275fac=function(s){return new(s||m)},m.\u0275mod=E.oAB({type:m,bootstrap:[Ze]}),m.\u0275inj=E.cJS({providers:[Re,Se,Zr,Yt.O,Ue,xr.e,Kt.yb,{provide:be.wN,useClass:ke.r4}],imports:[d.b2,Le.vQ,ke.Pc.forRoot(),Me,Tn.u5,pt.hO.initializeApp(lt_firebase),jt.ww,We.JS,Bt,Kt.yb,V,fn.TE,Tn.UX,(0,Ot.hX)(()=>(0,Ot.ZF)(lt_firebase)),(0,Xe.AR)(()=>(0,Xe.v0)()),(0,me.Cm)(()=>(0,me.ad)())]}),m})();(0,E.G48)(),d.q6().bootstrapModule(ko).catch(m=>console.log(m))},2110:(Jn,Ft,z)=>{"use strict";z.d(Ft,{O:()=>qe});var d=z(5861),E=z(9260),be=z(2223),ke=z(1085);let qe=(()=>{class je{constructor(Re){this.objFirebase=Re,this.usuario=JSON.parse(sessionStorage.getItem("usuario"))}TraerFotosFeas(){return this.fotosFirebase=this.objFirebase.collection("feas"),this.fotosFirebase.valueChanges()}TraerFotosLindas(){return this.fotosFirebase=this.objFirebase.collection("lindas"),this.fotosFirebase.valueChanges()}GuardarData(Re,Ze){var Le=this;return(0,d.Z)(function*(){let xe=Le.objFirebase.createId(),it={id:xe,nombre:Re.nombre,path:Re.path,usuario:Re.usuario,positivo:0,negativo:0};Le.objFirebase.collection(Ze).doc(xe).set(it).then(Me=>{console.log(Me)}).catch(Me=>{console.log(Me)})})()}TraerUrl(Re){let Ze;return E.Z.storage().ref().child(Re).getDownloadURL().then(Le=>{Ze=Le,console.log(Le)}).catch(Le=>{console.log(Le)}),Ze}VotarNegativo(Re,Ze){console.log(Re),Re.negativo++,this.objFirebase.collection(Ze).doc(Re.id).update(Re).then(Le=>{console.log(Le)})}VotarPositivo(Re,Ze){Re.positivo++,console.log(Re),this.objFirebase.collection(Ze).doc(Re.id).update(Re).then(Le=>{console.log(Le)})}}return je.\u0275fac=function(Re){return new(Re||je)(be.LFG(ke.ST))},je.\u0275prov=be.Yz7({token:je,factory:je.\u0275fac}),je})()},1135:(Jn,Ft,z)=>{"use strict";z.d(Ft,{X:()=>E});var d=z(7579);class E extends d.x{constructor(ke){super(),this._value=ke}get value(){return this.getValue()}_subscribe(ke){const qe=super._subscribe(ke);return!qe.closed&&ke.next(this._value),qe}getValue(){const{hasError:ke,thrownError:qe,_value:je}=this;if(ke)throw qe;return this._throwIfClosed(),je}next(ke){super.next(this._value=ke)}}},9751:(Jn,Ft,z)=>{"use strict";z.d(Ft,{y:()=>Re});var d=z(930),E=z(727),be=z(8822),ke=z(9635),qe=z(2416),je=z(576),Se=z(2806);let Re=(()=>{class it{constructor(lt){lt&&(this._subscribe=lt)}lift(lt){const pt=new it;return pt.source=this,pt.operator=lt,pt}subscribe(lt,pt,jt){const We=function xe(it){return it&&it instanceof d.Lv||function Le(it){return it&&(0,je.m)(it.next)&&(0,je.m)(it.error)&&(0,je.m)(it.complete)}(it)&&(0,E.Nn)(it)}(lt)?lt:new d.Hp(lt,pt,jt);return(0,Se.x)(()=>{const{operator:Be,source:kt}=this;We.add(Be?Be.call(We,kt):kt?this._subscribe(We):this._trySubscribe(We))}),We}_trySubscribe(lt){try{return this._subscribe(lt)}catch(pt){lt.error(pt)}}forEach(lt,pt){return new(pt=Ze(pt))((jt,We)=>{const Be=new d.Hp({next:kt=>{try{lt(kt)}catch(Mt){We(Mt),Be.unsubscribe()}},error:We,complete:jt});this.subscribe(Be)})}_subscribe(lt){var pt;return null===(pt=this.source)||void 0===pt?void 0:pt.subscribe(lt)}[be.L](){return this}pipe(...lt){return(0,ke.U)(lt)(this)}toPromise(lt){return new(lt=Ze(lt))((pt,jt)=>{let We;this.subscribe(Be=>We=Be,Be=>jt(Be),()=>pt(We))})}}return it.create=Me=>new it(Me),it})();function Ze(it){var Me;return null!==(Me=null!=it?it:qe.config.Promise)&&void 0!==Me?Me:Promise}},7579:(Jn,Ft,z)=>{"use strict";z.d(Ft,{x:()=>Se});var d=z(9751),E=z(727);const ke=(0,z(3888).d)(Ze=>function(){Ze(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var qe=z(8737),je=z(2806);let Se=(()=>{class Ze extends d.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(xe){const it=new Re(this,this);return it.operator=xe,it}_throwIfClosed(){if(this.closed)throw new ke}next(xe){(0,je.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const it of this.currentObservers)it.next(xe)}})}error(xe){(0,je.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=xe;const{observers:it}=this;for(;it.length;)it.shift().error(xe)}})}complete(){(0,je.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:xe}=this;for(;xe.length;)xe.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var xe;return(null===(xe=this.observers)||void 0===xe?void 0:xe.length)>0}_trySubscribe(xe){return this._throwIfClosed(),super._trySubscribe(xe)}_subscribe(xe){return this._throwIfClosed(),this._checkFinalizedStatuses(xe),this._innerSubscribe(xe)}_innerSubscribe(xe){const{hasError:it,isStopped:Me,observers:lt}=this;return it||Me?E.Lc:(this.currentObservers=null,lt.push(xe),new E.w0(()=>{this.currentObservers=null,(0,qe.P)(lt,xe)}))}_checkFinalizedStatuses(xe){const{hasError:it,thrownError:Me,isStopped:lt}=this;it?xe.error(Me):lt&&xe.complete()}asObservable(){const xe=new d.y;return xe.source=this,xe}}return Ze.create=(Le,xe)=>new Re(Le,xe),Ze})();class Re extends Se{constructor(Le,xe){super(),this.destination=Le,this.source=xe}next(Le){var xe,it;null===(it=null===(xe=this.destination)||void 0===xe?void 0:xe.next)||void 0===it||it.call(xe,Le)}error(Le){var xe,it;null===(it=null===(xe=this.destination)||void 0===xe?void 0:xe.error)||void 0===it||it.call(xe,Le)}complete(){var Le,xe;null===(xe=null===(Le=this.destination)||void 0===Le?void 0:Le.complete)||void 0===xe||xe.call(Le)}_subscribe(Le){var xe,it;return null!==(it=null===(xe=this.source)||void 0===xe?void 0:xe.subscribe(Le))&&void 0!==it?it:E.Lc}}},930:(Jn,Ft,z)=>{"use strict";z.d(Ft,{Hp:()=>jt,Lv:()=>it});var d=z(576),E=z(727),be=z(2416),ke=z(7849),qe=z(5032);const je=Ze("C",void 0,void 0);function Ze(ft,It,St){return{kind:ft,value:It,error:St}}var Le=z(3410),xe=z(2806);class it extends E.w0{constructor(It){super(),this.isStopped=!1,It?(this.destination=It,(0,E.Nn)(It)&&It.add(this)):this.destination=Mt}static create(It,St,Ct){return new jt(It,St,Ct)}next(It){this.isStopped?kt(function Re(ft){return Ze("N",ft,void 0)}(It),this):this._next(It)}error(It){this.isStopped?kt(function Se(ft){return Ze("E",void 0,ft)}(It),this):(this.isStopped=!0,this._error(It))}complete(){this.isStopped?kt(je,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(It){this.destination.next(It)}_error(It){try{this.destination.error(It)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Me=Function.prototype.bind;function lt(ft,It){return Me.call(ft,It)}class pt{constructor(It){this.partialObserver=It}next(It){const{partialObserver:St}=this;if(St.next)try{St.next(It)}catch(Ct){We(Ct)}}error(It){const{partialObserver:St}=this;if(St.error)try{St.error(It)}catch(Ct){We(Ct)}else We(It)}complete(){const{partialObserver:It}=this;if(It.complete)try{It.complete()}catch(St){We(St)}}}class jt extends it{constructor(It,St,Ct){let gt;if(super(),(0,d.m)(It)||!It)gt={next:null!=It?It:void 0,error:null!=St?St:void 0,complete:null!=Ct?Ct:void 0};else{let te;this&&be.config.useDeprecatedNextContext?(te=Object.create(It),te.unsubscribe=()=>this.unsubscribe(),gt={next:It.next&&lt(It.next,te),error:It.error&&lt(It.error,te),complete:It.complete&&lt(It.complete,te)}):gt=It}this.destination=new pt(gt)}}function We(ft){be.config.useDeprecatedSynchronousErrorHandling?(0,xe.O)(ft):(0,ke.h)(ft)}function kt(ft,It){const{onStoppedNotification:St}=be.config;St&&Le.z.setTimeout(()=>St(ft,It))}const Mt={closed:!0,next:qe.Z,error:function Be(ft){throw ft},complete:qe.Z}},727:(Jn,Ft,z)=>{"use strict";z.d(Ft,{Lc:()=>je,w0:()=>qe,Nn:()=>Se});var d=z(576);const be=(0,z(3888).d)(Ze=>function(xe){Ze(this),this.message=xe?`${xe.length} errors occurred during unsubscription:\n${xe.map((it,Me)=>`${Me+1}) ${it.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=xe});var ke=z(8737);class qe{constructor(Le){this.initialTeardown=Le,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let Le;if(!this.closed){this.closed=!0;const{_parentage:xe}=this;if(xe)if(this._parentage=null,Array.isArray(xe))for(const lt of xe)lt.remove(this);else xe.remove(this);const{initialTeardown:it}=this;if((0,d.m)(it))try{it()}catch(lt){Le=lt instanceof be?lt.errors:[lt]}const{_finalizers:Me}=this;if(Me){this._finalizers=null;for(const lt of Me)try{Re(lt)}catch(pt){Le=null!=Le?Le:[],pt instanceof be?Le=[...Le,...pt.errors]:Le.push(pt)}}if(Le)throw new be(Le)}}add(Le){var xe;if(Le&&Le!==this)if(this.closed)Re(Le);else{if(Le instanceof qe){if(Le.closed||Le._hasParent(this))return;Le._addParent(this)}(this._finalizers=null!==(xe=this._finalizers)&&void 0!==xe?xe:[]).push(Le)}}_hasParent(Le){const{_parentage:xe}=this;return xe===Le||Array.isArray(xe)&&xe.includes(Le)}_addParent(Le){const{_parentage:xe}=this;this._parentage=Array.isArray(xe)?(xe.push(Le),xe):xe?[xe,Le]:Le}_removeParent(Le){const{_parentage:xe}=this;xe===Le?this._parentage=null:Array.isArray(xe)&&(0,ke.P)(xe,Le)}remove(Le){const{_finalizers:xe}=this;xe&&(0,ke.P)(xe,Le),Le instanceof qe&&Le._removeParent(this)}}qe.EMPTY=(()=>{const Ze=new qe;return Ze.closed=!0,Ze})();const je=qe.EMPTY;function Se(Ze){return Ze instanceof qe||Ze&&"closed"in Ze&&(0,d.m)(Ze.remove)&&(0,d.m)(Ze.add)&&(0,d.m)(Ze.unsubscribe)}function Re(Ze){(0,d.m)(Ze)?Ze():Ze.unsubscribe()}},2416:(Jn,Ft,z)=>{"use strict";z.d(Ft,{config:()=>d});const d={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},7272:(Jn,Ft,z)=>{"use strict";z.d(Ft,{z:()=>qe});var d=z(8189),be=z(7669),ke=z(8996);function qe(...je){return function E(){return(0,d.J)(1)}()((0,ke.D)(je,(0,be.yG)(je)))}},515:(Jn,Ft,z)=>{"use strict";z.d(Ft,{E:()=>E});const E=new(z(9751).y)(qe=>qe.complete())},8996:(Jn,Ft,z)=>{"use strict";z.d(Ft,{D:()=>It});var d=z(8421),E=z(5363),be=z(9468),je=z(9751),Re=z(2202),Ze=z(576),Le=z(9672);function it(St,Ct){if(!St)throw new Error("Iterable cannot be null");return new je.y(gt=>{(0,Le.f)(gt,Ct,()=>{const te=St[Symbol.asyncIterator]();(0,Le.f)(gt,Ct,()=>{te.next().then(Gt=>{Gt.done?gt.complete():gt.next(Gt.value)})},0,!0)})})}var Me=z(3670),lt=z(8239),pt=z(1144),jt=z(6495),We=z(2206),Be=z(4532),kt=z(3260);function It(St,Ct){return Ct?function ft(St,Ct){if(null!=St){if((0,Me.c)(St))return function ke(St,Ct){return(0,d.Xf)(St).pipe((0,be.R)(Ct),(0,E.Q)(Ct))}(St,Ct);if((0,pt.z)(St))return function Se(St,Ct){return new je.y(gt=>{let te=0;return Ct.schedule(function(){te===St.length?gt.complete():(gt.next(St[te++]),gt.closed||this.schedule())})})}(St,Ct);if((0,lt.t)(St))return function qe(St,Ct){return(0,d.Xf)(St).pipe((0,be.R)(Ct),(0,E.Q)(Ct))}(St,Ct);if((0,We.D)(St))return it(St,Ct);if((0,jt.T)(St))return function xe(St,Ct){return new je.y(gt=>{let te;return(0,Le.f)(gt,Ct,()=>{te=St[Re.h](),(0,Le.f)(gt,Ct,()=>{let Gt,Dt;try{({value:Gt,done:Dt}=te.next())}catch(Lt){return void gt.error(Lt)}Dt?gt.complete():gt.next(Gt)},0,!0)}),()=>(0,Ze.m)(null==te?void 0:te.return)&&te.return()})}(St,Ct);if((0,kt.L)(St))return function Mt(St,Ct){return it((0,kt.Q)(St),Ct)}(St,Ct)}throw(0,Be.z)(St)}(St,Ct):(0,d.Xf)(St)}},4968:(Jn,Ft,z)=>{"use strict";z.d(Ft,{R:()=>Le});var d=z(8421),E=z(9751),be=z(5577),ke=z(1144),qe=z(576),je=z(3268);const Se=["addListener","removeListener"],Re=["addEventListener","removeEventListener"],Ze=["on","off"];function Le(pt,jt,We,Be){if((0,qe.m)(We)&&(Be=We,We=void 0),Be)return Le(pt,jt,We).pipe((0,je.Z)(Be));const[kt,Mt]=function lt(pt){return(0,qe.m)(pt.addEventListener)&&(0,qe.m)(pt.removeEventListener)}(pt)?Re.map(ft=>It=>pt[ft](jt,It,We)):function it(pt){return(0,qe.m)(pt.addListener)&&(0,qe.m)(pt.removeListener)}(pt)?Se.map(xe(pt,jt)):function Me(pt){return(0,qe.m)(pt.on)&&(0,qe.m)(pt.off)}(pt)?Ze.map(xe(pt,jt)):[];if(!kt&&(0,ke.z)(pt))return(0,be.z)(ft=>Le(ft,jt,We))((0,d.Xf)(pt));if(!kt)throw new TypeError("Invalid event target");return new E.y(ft=>{const It=(...St)=>ft.next(1<St.length?St:St[0]);return kt(It),()=>Mt(It)})}function xe(pt,jt){return We=>Be=>pt[We](jt,Be)}},8421:(Jn,Ft,z)=>{"use strict";z.d(Ft,{Xf:()=>Me});var d=z(655),E=z(1144),be=z(8239),ke=z(9751),qe=z(3670),je=z(2206),Se=z(4532),Re=z(6495),Ze=z(3260),Le=z(576),xe=z(7849),it=z(8822);function Me(ft){if(ft instanceof ke.y)return ft;if(null!=ft){if((0,qe.c)(ft))return function lt(ft){return new ke.y(It=>{const St=ft[it.L]();if((0,Le.m)(St.subscribe))return St.subscribe(It);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(ft);if((0,E.z)(ft))return function pt(ft){return new ke.y(It=>{for(let St=0;St<ft.length&&!It.closed;St++)It.next(ft[St]);It.complete()})}(ft);if((0,be.t)(ft))return function jt(ft){return new ke.y(It=>{ft.then(St=>{It.closed||(It.next(St),It.complete())},St=>It.error(St)).then(null,xe.h)})}(ft);if((0,je.D)(ft))return Be(ft);if((0,Re.T)(ft))return function We(ft){return new ke.y(It=>{for(const St of ft)if(It.next(St),It.closed)return;It.complete()})}(ft);if((0,Ze.L)(ft))return function kt(ft){return Be((0,Ze.Q)(ft))}(ft)}throw(0,Se.z)(ft)}function Be(ft){return new ke.y(It=>{(function Mt(ft,It){var St,Ct,gt,te;return(0,d.mG)(this,void 0,void 0,function*(){try{for(St=(0,d.KL)(ft);!(Ct=yield St.next()).done;)if(It.next(Ct.value),It.closed)return}catch(Gt){gt={error:Gt}}finally{try{Ct&&!Ct.done&&(te=St.return)&&(yield te.call(St))}finally{if(gt)throw gt.error}}It.complete()})})(ft,It).catch(St=>It.error(St))})}},6451:(Jn,Ft,z)=>{"use strict";z.d(Ft,{T:()=>je});var d=z(8189),E=z(8421),be=z(515),ke=z(7669),qe=z(8996);function je(...Se){const Re=(0,ke.yG)(Se),Ze=(0,ke._6)(Se,1/0),Le=Se;return Le.length?1===Le.length?(0,E.Xf)(Le[0]):(0,d.J)(Ze)((0,qe.D)(Le,Re)):be.E}},9646:(Jn,Ft,z)=>{"use strict";z.d(Ft,{of:()=>be});var d=z(7669),E=z(8996);function be(...ke){const qe=(0,d.yG)(ke);return(0,E.D)(ke,qe)}},5403:(Jn,Ft,z)=>{"use strict";z.d(Ft,{Q:()=>be,x:()=>E});var d=z(930);function E(ke,qe,je,Se,Re){return new be(ke,qe,je,Se,Re)}class be extends d.Lv{constructor(qe,je,Se,Re,Ze,Le){super(qe),this.onFinalize=Ze,this.shouldUnsubscribe=Le,this._next=je?function(xe){try{je(xe)}catch(it){qe.error(it)}}:super._next,this._error=Re?function(xe){try{Re(xe)}catch(it){qe.error(it)}finally{this.unsubscribe()}}:super._error,this._complete=Se?function(){try{Se()}catch(xe){qe.error(xe)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var qe;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:je}=this;super.unsubscribe(),!je&&(null===(qe=this.onFinalize)||void 0===qe||qe.call(this))}}}},6590:(Jn,Ft,z)=>{"use strict";z.d(Ft,{d:()=>be});var d=z(4482),E=z(5403);function be(ke){return(0,d.e)((qe,je)=>{let Se=!1;qe.subscribe((0,E.x)(je,Re=>{Se=!0,je.next(Re)},()=>{Se||je.next(ke),je.complete()}))})}},1884:(Jn,Ft,z)=>{"use strict";z.d(Ft,{x:()=>ke});var d=z(4671),E=z(4482),be=z(5403);function ke(je,Se=d.y){return je=null!=je?je:qe,(0,E.e)((Re,Ze)=>{let Le,xe=!0;Re.subscribe((0,be.x)(Ze,it=>{const Me=Se(it);(xe||!je(Le,Me))&&(xe=!1,Le=Me,Ze.next(it))}))})}function qe(je,Se){return je===Se}},9300:(Jn,Ft,z)=>{"use strict";z.d(Ft,{h:()=>be});var d=z(4482),E=z(5403);function be(ke,qe){return(0,d.e)((je,Se)=>{let Re=0;je.subscribe((0,E.x)(Se,Ze=>ke.call(qe,Ze,Re++)&&Se.next(Ze)))})}},8746:(Jn,Ft,z)=>{"use strict";z.d(Ft,{x:()=>E});var d=z(4482);function E(be){return(0,d.e)((ke,qe)=>{try{ke.subscribe(qe)}finally{qe.add(be)}})}},590:(Jn,Ft,z)=>{"use strict";z.d(Ft,{P:()=>Se});var d=z(6805),E=z(9300),be=z(5698),ke=z(6590),qe=z(8068),je=z(4671);function Se(Re,Ze){const Le=arguments.length>=2;return xe=>xe.pipe(Re?(0,E.h)((it,Me)=>Re(it,Me,xe)):je.y,(0,be.q)(1),Le?(0,ke.d)(Ze):(0,qe.T)(()=>new d.K))}},4004:(Jn,Ft,z)=>{"use strict";z.d(Ft,{U:()=>be});var d=z(4482),E=z(5403);function be(ke,qe){return(0,d.e)((je,Se)=>{let Re=0;je.subscribe((0,E.x)(Se,Ze=>{Se.next(ke.call(qe,Ze,Re++))}))})}},8189:(Jn,Ft,z)=>{"use strict";z.d(Ft,{J:()=>be});var d=z(5577),E=z(4671);function be(ke=1/0){return(0,d.z)(E.y,ke)}},5577:(Jn,Ft,z)=>{"use strict";z.d(Ft,{z:()=>Re});var d=z(4004),E=z(8421),be=z(4482),ke=z(9672),qe=z(5403),Se=z(576);function Re(Ze,Le,xe=1/0){return(0,Se.m)(Le)?Re((it,Me)=>(0,d.U)((lt,pt)=>Le(it,lt,Me,pt))((0,E.Xf)(Ze(it,Me))),xe):("number"==typeof Le&&(xe=Le),(0,be.e)((it,Me)=>function je(Ze,Le,xe,it,Me,lt,pt,jt){const We=[];let Be=0,kt=0,Mt=!1;const ft=()=>{Mt&&!We.length&&!Be&&Le.complete()},It=Ct=>Be<it?St(Ct):We.push(Ct),St=Ct=>{lt&&Le.next(Ct),Be++;let gt=!1;(0,E.Xf)(xe(Ct,kt++)).subscribe((0,qe.x)(Le,te=>{null==Me||Me(te),lt?It(te):Le.next(te)},()=>{gt=!0},void 0,()=>{if(gt)try{for(Be--;We.length&&Be<it;){const te=We.shift();pt?(0,ke.f)(Le,pt,()=>St(te)):St(te)}ft()}catch(te){Le.error(te)}}))};return Ze.subscribe((0,qe.x)(Le,It,()=>{Mt=!0,ft()})),()=>{null==jt||jt()}}(it,Me,Ze,xe)))}},5363:(Jn,Ft,z)=>{"use strict";z.d(Ft,{Q:()=>ke});var d=z(9672),E=z(4482),be=z(5403);function ke(qe,je=0){return(0,E.e)((Se,Re)=>{Se.subscribe((0,be.x)(Re,Ze=>(0,d.f)(Re,qe,()=>Re.next(Ze),je),()=>(0,d.f)(Re,qe,()=>Re.complete(),je),Ze=>(0,d.f)(Re,qe,()=>Re.error(Ze),je)))})}},1520:(Jn,Ft,z)=>{"use strict";z.d(Ft,{G:()=>be});var d=z(4482),E=z(5403);function be(){return(0,d.e)((ke,qe)=>{let je,Se=!1;ke.subscribe((0,E.x)(qe,Re=>{const Ze=je;je=Re,Se&&qe.next([Ze,Re]),Se=!0}))})}},5026:(Jn,Ft,z)=>{"use strict";z.d(Ft,{R:()=>ke});var d=z(4482),E=z(5403);function ke(qe,je){return(0,d.e)(function be(qe,je,Se,Re,Ze){return(Le,xe)=>{let it=Se,Me=je,lt=0;Le.subscribe((0,E.x)(xe,pt=>{const jt=lt++;Me=it?qe(Me,pt,jt):(it=!0,pt),Re&&xe.next(Me)},Ze&&(()=>{it&&xe.next(Me),xe.complete()})))}}(qe,je,arguments.length>=2,!0))}},3099:(Jn,Ft,z)=>{"use strict";z.d(Ft,{B:()=>qe});var d=z(8421),E=z(7579),be=z(930),ke=z(4482);function qe(Se={}){const{connector:Re=(()=>new E.x),resetOnError:Ze=!0,resetOnComplete:Le=!0,resetOnRefCountZero:xe=!0}=Se;return it=>{let Me,lt,pt,jt=0,We=!1,Be=!1;const kt=()=>{null==lt||lt.unsubscribe(),lt=void 0},Mt=()=>{kt(),Me=pt=void 0,We=Be=!1},ft=()=>{const It=Me;Mt(),null==It||It.unsubscribe()};return(0,ke.e)((It,St)=>{jt++,!Be&&!We&&kt();const Ct=pt=null!=pt?pt:Re();St.add(()=>{jt--,0===jt&&!Be&&!We&&(lt=je(ft,xe))}),Ct.subscribe(St),!Me&&jt>0&&(Me=new be.Hp({next:gt=>Ct.next(gt),error:gt=>{Be=!0,kt(),lt=je(Mt,Ze,gt),Ct.error(gt)},complete:()=>{We=!0,kt(),lt=je(Mt,Le),Ct.complete()}}),(0,d.Xf)(It).subscribe(Me))})(it)}}function je(Se,Re,...Ze){if(!0===Re)return void Se();if(!1===Re)return;const Le=new be.Hp({next:()=>{Le.unsubscribe(),Se()}});return(0,d.Xf)(Re(...Ze)).subscribe(Le)}},3151:(Jn,Ft,z)=>{"use strict";z.d(Ft,{d:()=>qe});var d=z(7579),E=z(6063);class be extends d.x{constructor(Se=1/0,Re=1/0,Ze=E.l){super(),this._bufferSize=Se,this._windowTime=Re,this._timestampProvider=Ze,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=Re===1/0,this._bufferSize=Math.max(1,Se),this._windowTime=Math.max(1,Re)}next(Se){const{isStopped:Re,_buffer:Ze,_infiniteTimeWindow:Le,_timestampProvider:xe,_windowTime:it}=this;Re||(Ze.push(Se),!Le&&Ze.push(xe.now()+it)),this._trimBuffer(),super.next(Se)}_subscribe(Se){this._throwIfClosed(),this._trimBuffer();const Re=this._innerSubscribe(Se),{_infiniteTimeWindow:Ze,_buffer:Le}=this,xe=Le.slice();for(let it=0;it<xe.length&&!Se.closed;it+=Ze?1:2)Se.next(xe[it]);return this._checkFinalizedStatuses(Se),Re}_trimBuffer(){const{_bufferSize:Se,_timestampProvider:Re,_buffer:Ze,_infiniteTimeWindow:Le}=this,xe=(Le?1:2)*Se;if(Se<1/0&&xe<Ze.length&&Ze.splice(0,Ze.length-xe),!Le){const it=Re.now();let Me=0;for(let lt=1;lt<Ze.length&&Ze[lt]<=it;lt+=2)Me=lt;Me&&Ze.splice(0,Me+1)}}}var ke=z(3099);function qe(je,Se,Re){let Ze,Le=!1;return je&&"object"==typeof je?({bufferSize:Ze=1/0,windowTime:Se=1/0,refCount:Le=!1,scheduler:Re}=je):Ze=null!=je?je:1/0,(0,ke.B)({connector:()=>new be(Ze,Se,Re),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:Le})}},8675:(Jn,Ft,z)=>{"use strict";z.d(Ft,{O:()=>ke});var d=z(7272),E=z(7669),be=z(4482);function ke(...qe){const je=(0,E.yG)(qe);return(0,be.e)((Se,Re)=>{(je?(0,d.z)(qe,Se,je):(0,d.z)(qe,Se)).subscribe(Re)})}},9468:(Jn,Ft,z)=>{"use strict";z.d(Ft,{R:()=>E});var d=z(4482);function E(be,ke=0){return(0,d.e)((qe,je)=>{je.add(be.schedule(()=>qe.subscribe(je),ke))})}},3900:(Jn,Ft,z)=>{"use strict";z.d(Ft,{w:()=>ke});var d=z(8421),E=z(4482),be=z(5403);function ke(qe,je){return(0,E.e)((Se,Re)=>{let Ze=null,Le=0,xe=!1;const it=()=>xe&&!Ze&&Re.complete();Se.subscribe((0,be.x)(Re,Me=>{null==Ze||Ze.unsubscribe();let lt=0;const pt=Le++;(0,d.Xf)(qe(Me,pt)).subscribe(Ze=(0,be.x)(Re,jt=>Re.next(je?je(Me,jt,pt,lt++):jt),()=>{Ze=null,it()}))},()=>{xe=!0,it()}))})}},5698:(Jn,Ft,z)=>{"use strict";z.d(Ft,{q:()=>ke});var d=z(515),E=z(4482),be=z(5403);function ke(qe){return qe<=0?()=>d.E:(0,E.e)((je,Se)=>{let Re=0;je.subscribe((0,be.x)(Se,Ze=>{++Re<=qe&&(Se.next(Ze),qe<=Re&&Se.complete())}))})}},8505:(Jn,Ft,z)=>{"use strict";z.d(Ft,{b:()=>qe});var d=z(576),E=z(4482),be=z(5403),ke=z(4671);function qe(je,Se,Re){const Ze=(0,d.m)(je)||Se||Re?{next:je,error:Se,complete:Re}:je;return Ze?(0,E.e)((Le,xe)=>{var it;null===(it=Ze.subscribe)||void 0===it||it.call(Ze);let Me=!0;Le.subscribe((0,be.x)(xe,lt=>{var pt;null===(pt=Ze.next)||void 0===pt||pt.call(Ze,lt),xe.next(lt)},()=>{var lt;Me=!1,null===(lt=Ze.complete)||void 0===lt||lt.call(Ze),xe.complete()},lt=>{var pt;Me=!1,null===(pt=Ze.error)||void 0===pt||pt.call(Ze,lt),xe.error(lt)},()=>{var lt,pt;Me&&(null===(lt=Ze.unsubscribe)||void 0===lt||lt.call(Ze)),null===(pt=Ze.finalize)||void 0===pt||pt.call(Ze)}))}):ke.y}},8068:(Jn,Ft,z)=>{"use strict";z.d(Ft,{T:()=>ke});var d=z(6805),E=z(4482),be=z(5403);function ke(je=qe){return(0,E.e)((Se,Re)=>{let Ze=!1;Se.subscribe((0,be.x)(Re,Le=>{Ze=!0,Re.next(Le)},()=>Ze?Re.complete():Re.error(je())))})}function qe(){return new d.K}},4408:(Jn,Ft,z)=>{"use strict";z.d(Ft,{o:()=>qe});var d=z(727);class E extends d.w0{constructor(Se,Re){super()}schedule(Se,Re=0){return this}}const be={setInterval(je,Se,...Re){const{delegate:Ze}=be;return null!=Ze&&Ze.setInterval?Ze.setInterval(je,Se,...Re):setInterval(je,Se,...Re)},clearInterval(je){const{delegate:Se}=be;return((null==Se?void 0:Se.clearInterval)||clearInterval)(je)},delegate:void 0};var ke=z(8737);class qe extends E{constructor(Se,Re){super(Se,Re),this.scheduler=Se,this.work=Re,this.pending=!1}schedule(Se,Re=0){var Ze;if(this.closed)return this;this.state=Se;const Le=this.id,xe=this.scheduler;return null!=Le&&(this.id=this.recycleAsyncId(xe,Le,Re)),this.pending=!0,this.delay=Re,this.id=null!==(Ze=this.id)&&void 0!==Ze?Ze:this.requestAsyncId(xe,this.id,Re),this}requestAsyncId(Se,Re,Ze=0){return be.setInterval(Se.flush.bind(Se,this),Ze)}recycleAsyncId(Se,Re,Ze=0){if(null!=Ze&&this.delay===Ze&&!1===this.pending)return Re;null!=Re&&be.clearInterval(Re)}execute(Se,Re){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const Ze=this._execute(Se,Re);if(Ze)return Ze;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(Se,Re){let Le,Ze=!1;try{this.work(Se)}catch(xe){Ze=!0,Le=xe||new Error("Scheduled action threw falsy error")}if(Ze)return this.unsubscribe(),Le}unsubscribe(){if(!this.closed){const{id:Se,scheduler:Re}=this,{actions:Ze}=Re;this.work=this.state=this.scheduler=null,this.pending=!1,(0,ke.P)(Ze,this),null!=Se&&(this.id=this.recycleAsyncId(Re,Se,null)),this.delay=null,super.unsubscribe()}}}},7565:(Jn,Ft,z)=>{"use strict";z.d(Ft,{v:()=>be});var d=z(6063);class E{constructor(qe,je=E.now){this.schedulerActionCtor=qe,this.now=je}schedule(qe,je=0,Se){return new this.schedulerActionCtor(this,qe).schedule(Se,je)}}E.now=d.l.now;class be extends E{constructor(qe,je=E.now){super(qe,je),this.actions=[],this._active=!1}flush(qe){const{actions:je}=this;if(this._active)return void je.push(qe);let Se;this._active=!0;do{if(Se=qe.execute(qe.state,qe.delay))break}while(qe=je.shift());if(this._active=!1,Se){for(;qe=je.shift();)qe.unsubscribe();throw Se}}}},4986:(Jn,Ft,z)=>{"use strict";z.d(Ft,{z:()=>be});var d=z(4408);const be=new(z(7565).v)(d.o)},6063:(Jn,Ft,z)=>{"use strict";z.d(Ft,{l:()=>d});const d={now:()=>(d.delegate||Date).now(),delegate:void 0}},3410:(Jn,Ft,z)=>{"use strict";z.d(Ft,{z:()=>d});const d={setTimeout(E,be,...ke){const{delegate:qe}=d;return null!=qe&&qe.setTimeout?qe.setTimeout(E,be,...ke):setTimeout(E,be,...ke)},clearTimeout(E){const{delegate:be}=d;return((null==be?void 0:be.clearTimeout)||clearTimeout)(E)},delegate:void 0}},2202:(Jn,Ft,z)=>{"use strict";z.d(Ft,{h:()=>E});const E=function d(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(Jn,Ft,z)=>{"use strict";z.d(Ft,{L:()=>d});const d="function"==typeof Symbol&&Symbol.observable||"@@observable"},6805:(Jn,Ft,z)=>{"use strict";z.d(Ft,{K:()=>E});const E=(0,z(3888).d)(be=>function(){be(this),this.name="EmptyError",this.message="no elements in sequence"})},7669:(Jn,Ft,z)=>{"use strict";z.d(Ft,{_6:()=>je,jO:()=>ke,yG:()=>qe});var d=z(576);function be(Se){return Se[Se.length-1]}function ke(Se){return(0,d.m)(be(Se))?Se.pop():void 0}function qe(Se){return function E(Se){return Se&&(0,d.m)(Se.schedule)}(be(Se))?Se.pop():void 0}function je(Se,Re){return"number"==typeof be(Se)?Se.pop():Re}},4742:(Jn,Ft,z)=>{"use strict";z.d(Ft,{D:()=>qe});const{isArray:d}=Array,{getPrototypeOf:E,prototype:be,keys:ke}=Object;function qe(Se){if(1===Se.length){const Re=Se[0];if(d(Re))return{args:Re,keys:null};if(function je(Se){return Se&&"object"==typeof Se&&E(Se)===be}(Re)){const Ze=ke(Re);return{args:Ze.map(Le=>Re[Le]),keys:Ze}}}return{args:Se,keys:null}}},8737:(Jn,Ft,z)=>{"use strict";function d(E,be){if(E){const ke=E.indexOf(be);0<=ke&&E.splice(ke,1)}}z.d(Ft,{P:()=>d})},3888:(Jn,Ft,z)=>{"use strict";function d(E){const ke=E(qe=>{Error.call(qe),qe.stack=(new Error).stack});return ke.prototype=Object.create(Error.prototype),ke.prototype.constructor=ke,ke}z.d(Ft,{d:()=>d})},1810:(Jn,Ft,z)=>{"use strict";function d(E,be){return E.reduce((ke,qe,je)=>(ke[qe]=be[je],ke),{})}z.d(Ft,{n:()=>d})},2806:(Jn,Ft,z)=>{"use strict";z.d(Ft,{O:()=>ke,x:()=>be});var d=z(2416);let E=null;function be(qe){if(d.config.useDeprecatedSynchronousErrorHandling){const je=!E;if(je&&(E={errorThrown:!1,error:null}),qe(),je){const{errorThrown:Se,error:Re}=E;if(E=null,Se)throw Re}}else qe()}function ke(qe){d.config.useDeprecatedSynchronousErrorHandling&&E&&(E.errorThrown=!0,E.error=qe)}},9672:(Jn,Ft,z)=>{"use strict";function d(E,be,ke,qe=0,je=!1){const Se=be.schedule(function(){ke(),je?E.add(this.schedule(null,qe)):this.unsubscribe()},qe);if(E.add(Se),!je)return Se}z.d(Ft,{f:()=>d})},4671:(Jn,Ft,z)=>{"use strict";function d(E){return E}z.d(Ft,{y:()=>d})},1144:(Jn,Ft,z)=>{"use strict";z.d(Ft,{z:()=>d});const d=E=>E&&"number"==typeof E.length&&"function"!=typeof E},2206:(Jn,Ft,z)=>{"use strict";z.d(Ft,{D:()=>E});var d=z(576);function E(be){return Symbol.asyncIterator&&(0,d.m)(null==be?void 0:be[Symbol.asyncIterator])}},576:(Jn,Ft,z)=>{"use strict";function d(E){return"function"==typeof E}z.d(Ft,{m:()=>d})},3670:(Jn,Ft,z)=>{"use strict";z.d(Ft,{c:()=>be});var d=z(8822),E=z(576);function be(ke){return(0,E.m)(ke[d.L])}},6495:(Jn,Ft,z)=>{"use strict";z.d(Ft,{T:()=>be});var d=z(2202),E=z(576);function be(ke){return(0,E.m)(null==ke?void 0:ke[d.h])}},8239:(Jn,Ft,z)=>{"use strict";z.d(Ft,{t:()=>E});var d=z(576);function E(be){return(0,d.m)(null==be?void 0:be.then)}},3260:(Jn,Ft,z)=>{"use strict";z.d(Ft,{L:()=>ke,Q:()=>be});var d=z(655),E=z(576);function be(qe){return(0,d.FC)(this,arguments,function*(){const Se=qe.getReader();try{for(;;){const{value:Re,done:Ze}=yield(0,d.qq)(Se.read());if(Ze)return yield(0,d.qq)(void 0);yield yield(0,d.qq)(Re)}}finally{Se.releaseLock()}})}function ke(qe){return(0,E.m)(null==qe?void 0:qe.getReader)}},4482:(Jn,Ft,z)=>{"use strict";z.d(Ft,{A:()=>E,e:()=>be});var d=z(576);function E(ke){return(0,d.m)(null==ke?void 0:ke.lift)}function be(ke){return qe=>{if(E(qe))return qe.lift(function(je){try{return ke(je,this)}catch(Se){this.error(Se)}});throw new TypeError("Unable to lift unknown Observable type")}}},3268:(Jn,Ft,z)=>{"use strict";z.d(Ft,{Z:()=>ke});var d=z(4004);const{isArray:E}=Array;function ke(qe){return(0,d.U)(je=>function be(qe,je){return E(je)?qe(...je):qe(je)}(qe,je))}},5032:(Jn,Ft,z)=>{"use strict";function d(){}z.d(Ft,{Z:()=>d})},9635:(Jn,Ft,z)=>{"use strict";z.d(Ft,{U:()=>be,z:()=>E});var d=z(4671);function E(...ke){return be(ke)}function be(ke){return 0===ke.length?d.y:1===ke.length?ke[0]:function(je){return ke.reduce((Se,Re)=>Re(Se),je)}}},7849:(Jn,Ft,z)=>{"use strict";z.d(Ft,{h:()=>be});var d=z(2416),E=z(3410);function be(ke){E.z.setTimeout(()=>{const{onUnhandledError:qe}=d.config;if(!qe)throw ke;qe(ke)})}},4532:(Jn,Ft,z)=>{"use strict";function d(E){return new TypeError(`You provided ${null!==E&&"object"==typeof E?"an invalid object":`'${E}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}z.d(Ft,{z:()=>d})},863:(Jn,Ft,z)=>{var d={"./ion-accordion_2.entry.js":[9654,8592,9654],"./ion-action-sheet.entry.js":[3648,8592,3648],"./ion-alert.entry.js":[1118,8592,1118],"./ion-app_8.entry.js":[53,8592,53],"./ion-avatar_3.entry.js":[4753,4753],"./ion-back-button.entry.js":[2073,8592,2073],"./ion-backdrop.entry.js":[8939,8939],"./ion-breadcrumb_2.entry.js":[7544,8592,7544],"./ion-button_2.entry.js":[5652,8372],"./ion-card_5.entry.js":[388,388],"./ion-checkbox.entry.js":[9922,8592,9922],"./ion-chip.entry.js":[657,657],"./ion-col_3.entry.js":[9824,9824],"./ion-datetime-button.entry.js":[9230,7879,9230],"./ion-datetime_3.entry.js":[4959,7879,8592,4959],"./ion-fab_3.entry.js":[5836,8592,5836],"./ion-img.entry.js":[1033,1033],"./ion-infinite-scroll_2.entry.js":[8034,8592,8034],"./ion-input.entry.js":[1217,8592,1217],"./ion-item-option_3.entry.js":[2933,8592,2933],"./ion-item_8.entry.js":[4711,8592,4711],"./ion-loading.entry.js":[9434,9434],"./ion-menu_3.entry.js":[8136,8592,8136],"./ion-modal.entry.js":[2349,8592,2349],"./ion-nav_2.entry.js":[5349,8592,5349],"./ion-picker-column-internal.entry.js":[7602,8592,7602],"./ion-picker-internal.entry.js":[9016,9016],"./ion-popover.entry.js":[3804,3804],"./ion-progress-bar.entry.js":[4174,4174],"./ion-radio_2.entry.js":[4432,8592,4432],"./ion-range.entry.js":[1709,8592,1709],"./ion-refresher_2.entry.js":[3326,8592,3326],"./ion-reorder_2.entry.js":[3583,8592,3583],"./ion-ripple-effect.entry.js":[9958,9958],"./ion-route_4.entry.js":[4330,4330],"./ion-searchbar.entry.js":[8628,8592,8628],"./ion-segment_2.entry.js":[9325,8592,9325],"./ion-select_3.entry.js":[2773,8592,2773],"./ion-spinner.entry.js":[4908,8592,4908],"./ion-split-pane.entry.js":[9536,9536],"./ion-tab-bar_2.entry.js":[438,8592,438],"./ion-tab_2.entry.js":[1536,1536],"./ion-text.entry.js":[4376,4376],"./ion-textarea.entry.js":[6560,8592,6560],"./ion-toast.entry.js":[6120,6120],"./ion-toggle.entry.js":[5168,8592,5168]};function E(be){if(!z.o(d,be))return Promise.resolve().then(()=>{var je=new Error("Cannot find module '"+be+"'");throw je.code="MODULE_NOT_FOUND",je});var ke=d[be],qe=ke[0];return Promise.all(ke.slice(1).map(z.e)).then(()=>z(qe))}E.keys=()=>Object.keys(d),E.id=863,Jn.exports=E},655:(Jn,Ft,z)=>{"use strict";z.d(Ft,{FC:()=>It,KL:()=>Ct,ZT:()=>E,_T:()=>ke,gn:()=>qe,mG:()=>it,qq:()=>ft});var d=function(Je,ct){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(yt,et){yt.__proto__=et}||function(yt,et){for(var tt in et)Object.prototype.hasOwnProperty.call(et,tt)&&(yt[tt]=et[tt])})(Je,ct)};function E(Je,ct){if("function"!=typeof ct&&null!==ct)throw new TypeError("Class extends value "+String(ct)+" is not a constructor or null");function yt(){this.constructor=Je}d(Je,ct),Je.prototype=null===ct?Object.create(ct):(yt.prototype=ct.prototype,new yt)}function ke(Je,ct){var yt={};for(var et in Je)Object.prototype.hasOwnProperty.call(Je,et)&&ct.indexOf(et)<0&&(yt[et]=Je[et]);if(null!=Je&&"function"==typeof Object.getOwnPropertySymbols){var tt=0;for(et=Object.getOwnPropertySymbols(Je);tt<et.length;tt++)ct.indexOf(et[tt])<0&&Object.prototype.propertyIsEnumerable.call(Je,et[tt])&&(yt[et[tt]]=Je[et[tt]])}return yt}function qe(Je,ct,yt,et){var Ut,tt=arguments.length,dt=tt<3?ct:null===et?et=Object.getOwnPropertyDescriptor(ct,yt):et;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)dt=Reflect.decorate(Je,ct,yt,et);else for(var Ot=Je.length-1;Ot>=0;Ot--)(Ut=Je[Ot])&&(dt=(tt<3?Ut(dt):tt>3?Ut(ct,yt,dt):Ut(ct,yt))||dt);return tt>3&&dt&&Object.defineProperty(ct,yt,dt),dt}function it(Je,ct,yt,et){return new(yt||(yt=Promise))(function(dt,Ut){function Ot(On){try{rn(et.next(On))}catch(nn){Ut(nn)}}function en(On){try{rn(et.throw(On))}catch(nn){Ut(nn)}}function rn(On){On.done?dt(On.value):function tt(dt){return dt instanceof yt?dt:new yt(function(Ut){Ut(dt)})}(On.value).then(Ot,en)}rn((et=et.apply(Je,ct||[])).next())})}function ft(Je){return this instanceof ft?(this.v=Je,this):new ft(Je)}function It(Je,ct,yt){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var tt,et=yt.apply(Je,ct||[]),dt=[];return tt={},Ut("next"),Ut("throw"),Ut("return"),tt[Symbol.asyncIterator]=function(){return this},tt;function Ut(_t){et[_t]&&(tt[_t]=function(cn){return new Promise(function(gn,Zn){dt.push([_t,cn,gn,Zn])>1||Ot(_t,cn)})})}function Ot(_t,cn){try{!function en(_t){_t.value instanceof ft?Promise.resolve(_t.value.v).then(rn,On):nn(dt[0][2],_t)}(et[_t](cn))}catch(gn){nn(dt[0][3],gn)}}function rn(_t){Ot("next",_t)}function On(_t){Ot("throw",_t)}function nn(_t,cn){_t(cn),dt.shift(),dt.length&&Ot(dt[0][0],dt[0][1])}}function Ct(Je){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var yt,ct=Je[Symbol.asyncIterator];return ct?ct.call(Je):(Je=function jt(Je){var ct="function"==typeof Symbol&&Symbol.iterator,yt=ct&&Je[ct],et=0;if(yt)return yt.call(Je);if(Je&&"number"==typeof Je.length)return{next:function(){return Je&&et>=Je.length&&(Je=void 0),{value:Je&&Je[et++],done:!Je}}};throw new TypeError(ct?"Object is not iterable.":"Symbol.iterator is not defined.")}(Je),yt={},et("next"),et("throw"),et("return"),yt[Symbol.asyncIterator]=function(){return this},yt);function et(dt){yt[dt]=Je[dt]&&function(Ut){return new Promise(function(Ot,en){!function tt(dt,Ut,Ot,en){Promise.resolve(en).then(function(rn){dt({value:rn,done:Ot})},Ut)}(Ot,en,(Ut=Je[dt](Ut)).done,Ut.value)})}}}},4755:(Jn,Ft,z)=>{"use strict";z.d(Ft,{Do:()=>kt,EM:()=>Do,HT:()=>ke,JF:()=>uo,K0:()=>je,Mx:()=>to,NF:()=>Ss,O5:()=>re,PM:()=>co,S$:()=>jt,V_:()=>Ze,Ye:()=>Mt,b0:()=>Be,bD:()=>xi,ez:()=>ys,q:()=>be,sg:()=>ks,tP:()=>jn,w_:()=>qe});var d=z(2223);let E=null;function be(){return E}function ke(Y){E||(E=Y)}class qe{}const je=new d.OlP("DocumentToken");let Se=(()=>{class Y{historyGo(Q){throw new Error("Not implemented")}}return Y.\u0275fac=function(Q){return new(Q||Y)},Y.\u0275prov=d.Yz7({token:Y,factory:function(){return function Re(){return(0,d.LFG)(Le)}()},providedIn:"platform"}),Y})();const Ze=new d.OlP("Location Initialized");let Le=(()=>{class Y extends Se{constructor(Q){super(),this._doc=Q,this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return be().getBaseHref(this._doc)}onPopState(Q){const Pe=be().getGlobalEventTarget(this._doc,"window");return Pe.addEventListener("popstate",Q,!1),()=>Pe.removeEventListener("popstate",Q)}onHashChange(Q){const Pe=be().getGlobalEventTarget(this._doc,"window");return Pe.addEventListener("hashchange",Q,!1),()=>Pe.removeEventListener("hashchange",Q)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(Q){this._location.pathname=Q}pushState(Q,Pe,vt){xe()?this._history.pushState(Q,Pe,vt):this._location.hash=vt}replaceState(Q,Pe,vt){xe()?this._history.replaceState(Q,Pe,vt):this._location.hash=vt}forward(){this._history.forward()}back(){this._history.back()}historyGo(Q=0){this._history.go(Q)}getState(){return this._history.state}}return Y.\u0275fac=function(Q){return new(Q||Y)(d.LFG(je))},Y.\u0275prov=d.Yz7({token:Y,factory:function(){return function it(){return new Le((0,d.LFG)(je))}()},providedIn:"platform"}),Y})();function xe(){return!!window.history.pushState}function Me(Y,ue){if(0==Y.length)return ue;if(0==ue.length)return Y;let Q=0;return Y.endsWith("/")&&Q++,ue.startsWith("/")&&Q++,2==Q?Y+ue.substring(1):1==Q?Y+ue:Y+"/"+ue}function lt(Y){const ue=Y.match(/#|\?|$/),Q=ue&&ue.index||Y.length;return Y.slice(0,Q-("/"===Y[Q-1]?1:0))+Y.slice(Q)}function pt(Y){return Y&&"?"!==Y[0]?"?"+Y:Y}let jt=(()=>{class Y{historyGo(Q){throw new Error("Not implemented")}}return Y.\u0275fac=function(Q){return new(Q||Y)},Y.\u0275prov=d.Yz7({token:Y,factory:function(){return(0,d.f3M)(Be)},providedIn:"root"}),Y})();const We=new d.OlP("appBaseHref");let Be=(()=>{class Y extends jt{constructor(Q,Pe){var vt,mn,Rn;super(),this._platformLocation=Q,this._removeListenerFns=[],this._baseHref=null!==(vt=null!==(mn=null!=Pe?Pe:this._platformLocation.getBaseHrefFromDOM())&&void 0!==mn?mn:null===(Rn=(0,d.f3M)(je).location)||void 0===Rn?void 0:Rn.origin)&&void 0!==vt?vt:""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(Q){this._removeListenerFns.push(this._platformLocation.onPopState(Q),this._platformLocation.onHashChange(Q))}getBaseHref(){return this._baseHref}prepareExternalUrl(Q){return Me(this._baseHref,Q)}path(Q=!1){const Pe=this._platformLocation.pathname+pt(this._platformLocation.search),vt=this._platformLocation.hash;return vt&&Q?`${Pe}${vt}`:Pe}pushState(Q,Pe,vt,mn){const Rn=this.prepareExternalUrl(vt+pt(mn));this._platformLocation.pushState(Q,Pe,Rn)}replaceState(Q,Pe,vt,mn){const Rn=this.prepareExternalUrl(vt+pt(mn));this._platformLocation.replaceState(Q,Pe,Rn)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(Q=0){var Pe,vt;null===(Pe=(vt=this._platformLocation).historyGo)||void 0===Pe||Pe.call(vt,Q)}}return Y.\u0275fac=function(Q){return new(Q||Y)(d.LFG(Se),d.LFG(We,8))},Y.\u0275prov=d.Yz7({token:Y,factory:Y.\u0275fac,providedIn:"root"}),Y})(),kt=(()=>{class Y extends jt{constructor(Q,Pe){super(),this._platformLocation=Q,this._baseHref="",this._removeListenerFns=[],null!=Pe&&(this._baseHref=Pe)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(Q){this._removeListenerFns.push(this._platformLocation.onPopState(Q),this._platformLocation.onHashChange(Q))}getBaseHref(){return this._baseHref}path(Q=!1){let Pe=this._platformLocation.hash;return null==Pe&&(Pe="#"),Pe.length>0?Pe.substring(1):Pe}prepareExternalUrl(Q){const Pe=Me(this._baseHref,Q);return Pe.length>0?"#"+Pe:Pe}pushState(Q,Pe,vt,mn){let Rn=this.prepareExternalUrl(vt+pt(mn));0==Rn.length&&(Rn=this._platformLocation.pathname),this._platformLocation.pushState(Q,Pe,Rn)}replaceState(Q,Pe,vt,mn){let Rn=this.prepareExternalUrl(vt+pt(mn));0==Rn.length&&(Rn=this._platformLocation.pathname),this._platformLocation.replaceState(Q,Pe,Rn)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(Q=0){var Pe,vt;null===(Pe=(vt=this._platformLocation).historyGo)||void 0===Pe||Pe.call(vt,Q)}}return Y.\u0275fac=function(Q){return new(Q||Y)(d.LFG(Se),d.LFG(We,8))},Y.\u0275prov=d.Yz7({token:Y,factory:Y.\u0275fac}),Y})(),Mt=(()=>{class Y{constructor(Q){this._subject=new d.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=Q;const Pe=this._locationStrategy.getBaseHref();this._basePath=function Ct(Y){if(new RegExp("^(https?:)?//").test(Y)){const[,Q]=Y.split(/\/\/[^\/]+/);return Q}return Y}(lt(St(Pe))),this._locationStrategy.onPopState(vt=>{this._subject.emit({url:this.path(!0),pop:!0,state:vt.state,type:vt.type})})}ngOnDestroy(){var Q;null===(Q=this._urlChangeSubscription)||void 0===Q||Q.unsubscribe(),this._urlChangeListeners=[]}path(Q=!1){return this.normalize(this._locationStrategy.path(Q))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(Q,Pe=""){return this.path()==this.normalize(Q+pt(Pe))}normalize(Q){return Y.stripTrailingSlash(function It(Y,ue){if(!Y||!ue.startsWith(Y))return ue;const Q=ue.substring(Y.length);return""===Q||["/",";","?","#"].includes(Q[0])?Q:ue}(this._basePath,St(Q)))}prepareExternalUrl(Q){return Q&&"/"!==Q[0]&&(Q="/"+Q),this._locationStrategy.prepareExternalUrl(Q)}go(Q,Pe="",vt=null){this._locationStrategy.pushState(vt,"",Q,Pe),this._notifyUrlChangeListeners(this.prepareExternalUrl(Q+pt(Pe)),vt)}replaceState(Q,Pe="",vt=null){this._locationStrategy.replaceState(vt,"",Q,Pe),this._notifyUrlChangeListeners(this.prepareExternalUrl(Q+pt(Pe)),vt)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(Q=0){var Pe,vt;null===(Pe=(vt=this._locationStrategy).historyGo)||void 0===Pe||Pe.call(vt,Q)}onUrlChange(Q){return this._urlChangeListeners.push(Q),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(Pe=>{this._notifyUrlChangeListeners(Pe.url,Pe.state)})),()=>{const Pe=this._urlChangeListeners.indexOf(Q);var vt;this._urlChangeListeners.splice(Pe,1),0===this._urlChangeListeners.length&&(null===(vt=this._urlChangeSubscription)||void 0===vt||vt.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(Q="",Pe){this._urlChangeListeners.forEach(vt=>vt(Q,Pe))}subscribe(Q,Pe,vt){return this._subject.subscribe({next:Q,error:Pe,complete:vt})}}return Y.normalizeQueryParams=pt,Y.joinWithSlash=Me,Y.stripTrailingSlash=lt,Y.\u0275fac=function(Q){return new(Q||Y)(d.LFG(jt))},Y.\u0275prov=d.Yz7({token:Y,factory:function(){return function ft(){return new Mt((0,d.LFG)(jt))}()},providedIn:"root"}),Y})();function St(Y){return Y.replace(/\/index.html$/,"")}function to(Y,ue){ue=encodeURIComponent(ue);for(const Q of Y.split(";")){const Pe=Q.indexOf("="),[vt,mn]=-1==Pe?[Q,""]:[Q.slice(0,Pe),Q.slice(Pe+1)];if(vt.trim()===ue)return decodeURIComponent(mn)}return null}class zs{constructor(ue,Q,Pe,vt){this.$implicit=ue,this.ngForOf=Q,this.index=Pe,this.count=vt}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let ks=(()=>{class Y{set ngForOf(Q){this._ngForOf=Q,this._ngForOfDirty=!0}set ngForTrackBy(Q){this._trackByFn=Q}get ngForTrackBy(){return this._trackByFn}constructor(Q,Pe,vt){this._viewContainer=Q,this._template=Pe,this._differs=vt,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(Q){Q&&(this._template=Q)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const Q=this._ngForOf;!this._differ&&Q&&(this._differ=this._differs.find(Q).create(this.ngForTrackBy))}if(this._differ){const Q=this._differ.diff(this._ngForOf);Q&&this._applyChanges(Q)}}_applyChanges(Q){const Pe=this._viewContainer;Q.forEachOperation((vt,mn,Rn)=>{if(null==vt.previousIndex)Pe.createEmbeddedView(this._template,new zs(vt.item,this._ngForOf,-1,-1),null===Rn?void 0:Rn);else if(null==Rn)Pe.remove(null===mn?void 0:mn);else if(null!==mn){const ei=Pe.get(mn);Pe.move(ei,Rn),Ns(ei,vt)}});for(let vt=0,mn=Pe.length;vt<mn;vt++){const ei=Pe.get(vt).context;ei.index=vt,ei.count=mn,ei.ngForOf=this._ngForOf}Q.forEachIdentityChange(vt=>{Ns(Pe.get(vt.currentIndex),vt)})}static ngTemplateContextGuard(Q,Pe){return!0}}return Y.\u0275fac=function(Q){return new(Q||Y)(d.Y36(d.s_b),d.Y36(d.Rgc),d.Y36(d.ZZ4))},Y.\u0275dir=d.lG2({type:Y,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),Y})();function Ns(Y,ue){Y.context.$implicit=ue.item}let re=(()=>{class Y{constructor(Q,Pe){this._viewContainer=Q,this._context=new pe,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=Pe}set ngIf(Q){this._context.$implicit=this._context.ngIf=Q,this._updateView()}set ngIfThen(Q){Oe("ngIfThen",Q),this._thenTemplateRef=Q,this._thenViewRef=null,this._updateView()}set ngIfElse(Q){Oe("ngIfElse",Q),this._elseTemplateRef=Q,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(Q,Pe){return!0}}return Y.\u0275fac=function(Q){return new(Q||Y)(d.Y36(d.s_b),d.Y36(d.Rgc))},Y.\u0275dir=d.lG2({type:Y,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),Y})();class pe{constructor(){this.$implicit=null,this.ngIf=null}}function Oe(Y,ue){if(ue&&!ue.createEmbeddedView)throw new Error(`${Y} must be a TemplateRef, but received '${(0,d.AaK)(ue)}'.`)}let jn=(()=>{class Y{constructor(Q){this._viewContainerRef=Q,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(Q){if(Q.ngTemplateOutlet||Q.ngTemplateOutletInjector){const Pe=this._viewContainerRef;if(this._viewRef&&Pe.remove(Pe.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:vt,ngTemplateOutletContext:mn,ngTemplateOutletInjector:Rn}=this;this._viewRef=Pe.createEmbeddedView(vt,mn,Rn?{injector:Rn}:void 0)}else this._viewRef=null}else this._viewRef&&Q.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return Y.\u0275fac=function(Q){return new(Q||Y)(d.Y36(d.s_b))},Y.\u0275dir=d.lG2({type:Y,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[d.TTD]}),Y})(),ys=(()=>{class Y{}return Y.\u0275fac=function(Q){return new(Q||Y)},Y.\u0275mod=d.oAB({type:Y}),Y.\u0275inj=d.cJS({}),Y})();const xi="browser",Ws="server";function Ss(Y){return Y===xi}function co(Y){return Y===Ws}let Do=(()=>{class Y{}return Y.\u0275prov=(0,d.Yz7)({token:Y,providedIn:"root",factory:()=>new ro((0,d.LFG)(je),window)}),Y})();class ro{constructor(ue,Q){this.document=ue,this.window=Q,this.offset=()=>[0,0]}setOffset(ue){this.offset=Array.isArray(ue)?()=>ue:ue}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(ue){this.supportsScrolling()&&this.window.scrollTo(ue[0],ue[1])}scrollToAnchor(ue){if(!this.supportsScrolling())return;const Q=function Wo(Y,ue){const Q=Y.getElementById(ue)||Y.getElementsByName(ue)[0];if(Q)return Q;if("function"==typeof Y.createTreeWalker&&Y.body&&"function"==typeof Y.body.attachShadow){const Pe=Y.createTreeWalker(Y.body,NodeFilter.SHOW_ELEMENT);let vt=Pe.currentNode;for(;vt;){const mn=vt.shadowRoot;if(mn){const Rn=mn.getElementById(ue)||mn.querySelector(`[name="${ue}"]`);if(Rn)return Rn}vt=Pe.nextNode()}}return null}(this.document,ue);Q&&(this.scrollToElement(Q),Q.focus())}setHistoryScrollRestoration(ue){if(this.supportScrollRestoration()){const Q=this.window.history;Q&&Q.scrollRestoration&&(Q.scrollRestoration=ue)}}scrollToElement(ue){const Q=ue.getBoundingClientRect(),Pe=Q.left+this.window.pageXOffset,vt=Q.top+this.window.pageYOffset,mn=this.offset();this.window.scrollTo(Pe-mn[0],vt-mn[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const ue=ki(this.window.history)||ki(Object.getPrototypeOf(this.window.history));return!(!ue||!ue.writable&&!ue.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function ki(Y){return Object.getOwnPropertyDescriptor(Y,"scrollRestoration")}class uo{}},2223:(Jn,Ft,z)=>{"use strict";z.d(Ft,{$8M:()=>la,$WT:()=>Un,$Z:()=>ap,AFp:()=>Kf,AaK:()=>Ze,AsE:()=>Tr,CHM:()=>Dn,CRH:()=>jb,D6c:()=>CD,EJc:()=>AC,EpF:()=>Fy,F$t:()=>ym,F4k:()=>bf,FYo:()=>Ym,FiY:()=>Bc,G48:()=>QC,GSi:()=>Ig,Gf:()=>Vb,GfV:()=>Yh,GkF:()=>Ny,Gpc:()=>it,HDt:()=>GE,Hsn:()=>vm,JOm:()=>$a,KtG:()=>Xn,LFG:()=>Wt,LMc:()=>SD,LSH:()=>Od,Lbi:()=>Um,Lck:()=>uI,MAs:()=>mf,MMx:()=>mb,NdJ:()=>pm,Ojb:()=>rg,OlP:()=>Qo,Oqu:()=>bn,P3R:()=>kd,PXZ:()=>zC,Q6J:()=>Tp,QGY:()=>fm,QbO:()=>gv,Qsj:()=>Il,R0b:()=>Fl,RDi:()=>Nf,Rgc:()=>xm,SBq:()=>td,Sil:()=>MC,Suo:()=>Ub,TTD:()=>na,TgZ:()=>hd,X6Q:()=>XC,XFs:()=>Pn,Xpm:()=>Ns,Xts:()=>Za,Y36:()=>Vl,YKP:()=>pb,YNc:()=>dm,Yjl:()=>st,Yz7:()=>_t,Z0I:()=>tr,ZZ4:()=>r0,_Bn:()=>fb,_UZ:()=>vf,_Vd:()=>Kh,_c5:()=>pD,_uU:()=>ae,aQg:()=>s0,c2e:()=>cE,cJS:()=>gn,cg1:()=>E_,dDg:()=>$C,dqk:()=>lr,eFA:()=>IE,eJc:()=>V_,ekj:()=>Em,eoX:()=>_E,f3M:()=>Hn,g9A:()=>Vm,h0i:()=>Fp,hGG:()=>gD,hij:()=>Vn,iGM:()=>$b,ifc:()=>Ke,ip1:()=>lE,jDz:()=>yb,kL8:()=>$0,lG2:()=>ve,lqb:()=>Cu,lri:()=>yE,n5z:()=>Ir,oAB:()=>Oe,oxw:()=>mm,q4F:()=>Hd,qFp:()=>TD,qLn:()=>Gd,qOj:()=>vp,qZA:()=>yf,rWj:()=>vE,s9C:()=>Pp,sBO:()=>JC,s_b:()=>iv,soG:()=>ov,tb:()=>X_,tp0:()=>Rl,uIk:()=>od,vHH:()=>Be,vpe:()=>Nu,wAp:()=>_s,xp6:()=>ny,z2F:()=>$p,zSh:()=>Uf,zs3:()=>$l});var je,d=z(7579),E=z(727),be=z(9751),ke=z(6451),qe=z(3099);function Se(n){for(let r in n)if(n[r]===Se)return r;throw Error("Could not find renamed property on target object.")}function Re(n,r){for(const o in r)r.hasOwnProperty(o)&&!n.hasOwnProperty(o)&&(n[o]=r[o])}function Ze(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(Ze).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const r=n.toString();if(null==r)return""+r;const o=r.indexOf("\n");return-1===o?r:r.substring(0,o)}function Le(n,r){return null==n||""===n?null===r?"":r:null==r||""===r?n:n+" "+r}const xe=Se({__forward_ref__:Se});function it(n){return n.__forward_ref__=it,n.toString=function(){return Ze(this())},n}function Me(n){return lt(n)?n():n}function lt(n){return"function"==typeof n&&n.hasOwnProperty(xe)&&n.__forward_ref__===it}function pt(n){return n&&!!n.\u0275providers}const We="https://g.co/ng/security#xss";class Be extends Error{constructor(r,o){super(function kt(n,r){return`NG0${Math.abs(n)}${r?": "+r:""}`}(r,o)),this.code=r}}function Mt(n){return"string"==typeof n?n:null==n?"":String(n)}function gt(n,r){throw new Be(-201,!1)}function Ot(n,r){null==n&&function en(n,r,o,u){throw new Error(`ASSERTION ERROR: ${n}`+(null==u?"":` [Expected=> ${o} ${u} ${r} <=Actual]`))}(r,n,null,"!=")}function _t(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function gn(n){return{providers:n.providers||[],imports:n.imports||[]}}function Zn(n){return ur(n,an)||ur(n,Br)}function tr(n){return null!==Zn(n)}function ur(n,r){return n.hasOwnProperty(r)?n[r]:null}function rr(n){return n&&(n.hasOwnProperty(Pr)||n.hasOwnProperty(Ar))?n[Pr]:null}const an=Se({\u0275prov:Se}),Pr=Se({\u0275inj:Se}),Br=Se({ngInjectableDef:Se}),Ar=Se({ngInjectorDef:Se});var Pn=(()=>((Pn=Pn||{})[Pn.Default=0]="Default",Pn[Pn.Host=1]="Host",Pn[Pn.Self=2]="Self",Pn[Pn.SkipSelf=4]="SkipSelf",Pn[Pn.Optional=8]="Optional",Pn))();let oi;function ar(n){const r=oi;return oi=n,r}function Ai(n,r,o){const u=Zn(n);return u&&"root"==u.providedIn?void 0===u.value?u.value=u.factory():u.value:o&Pn.Optional?null:void 0!==r?r:void gt(Ze(n))}const lr=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),gi={},ni="__NG_DI_FLAG__",di="ngTempTokenPath",br=/\n/gm,Di="__source";let Er;function Ne(n){const r=Er;return Er=n,r}function ht(n,r=Pn.Default){if(void 0===Er)throw new Be(-203,!1);return null===Er?Ai(n,void 0,r):Er.get(n,r&Pn.Optional?null:void 0,r)}function Wt(n,r=Pn.Default){return(function Wr(){return oi}()||ht)(Me(n),r)}function Hn(n,r=Pn.Default){return Wt(n,jr(r))}function jr(n){return typeof n>"u"||"number"==typeof n?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function kr(n){const r=[];for(let o=0;o<n.length;o++){const u=Me(n[o]);if(Array.isArray(u)){if(0===u.length)throw new Be(900,!1);let y,w=Pn.Default;for(let P=0;P<u.length;P++){const j=u[P],X=mt(j);"number"==typeof X?-1===X?y=j.token:w|=X:y=j}r.push(Wt(y,w))}else r.push(Wt(u))}return r}function Rr(n,r){return n[ni]=r,n.prototype[ni]=r,n}function mt(n){return n[ni]}function ee(n){return{toString:n}.toString()}var se=(()=>((se=se||{})[se.OnPush=0]="OnPush",se[se.Default=1]="Default",se))(),Ke=(()=>{return(n=Ke||(Ke={}))[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",Ke;var n})();const xt={},rt=[],Vt=Se({\u0275cmp:Se}),Jt=Se({\u0275dir:Se}),Cn=Se({\u0275pipe:Se}),vn=Se({\u0275mod:Se}),$n=Se({\u0275fac:Se}),ln=Se({__NG_ELEMENT_ID__:Se}),yn=Se({__NG_ENV_ID__:Se});function kn(n,r,o){let u=n.length;for(;;){const y=n.indexOf(r,o);if(-1===y)return y;if(0===y||n.charCodeAt(y-1)<=32){const w=r.length;if(y+w===u||n.charCodeAt(y+w)<=32)return y}o=y+1}}function Bt(n,r,o){let u=0;for(;u<o.length;){const y=o[u];if("number"==typeof y){if(0!==y)break;u++;const w=o[u++],P=o[u++],j=o[u++];n.setAttribute(r,P,j,w)}else{const w=y,P=o[++u];fn(w)?n.setProperty(r,w,P):n.setAttribute(r,w,P),u++}}return u}function Kt(n){return 3===n||4===n||6===n}function fn(n){return 64===n.charCodeAt(0)}function qn(n,r){if(null!==r&&0!==r.length)if(null===n||0===n.length)n=r.slice();else{let o=-1;for(let u=0;u<r.length;u++){const y=r[u];"number"==typeof y?o=y:0===o||pr(n,o,y,null,-1===o||2===o?r[++u]:null)}}return n}function pr(n,r,o,u,y){let w=0,P=n.length;if(-1===r)P=-1;else for(;w<n.length;){const j=n[w++];if("number"==typeof j){if(j===r){P=-1;break}if(j>r){P=w-1;break}}}for(;w<n.length;){const j=n[w];if("number"==typeof j)break;if(j===o){if(null===u)return void(null!==y&&(n[w+1]=y));if(u===n[w+1])return void(n[w+2]=y)}w++,null!==u&&w++,null!==y&&w++}-1!==P&&(n.splice(P,0,r),w=P+1),n.splice(w++,0,o),null!==u&&n.splice(w++,0,u),null!==y&&n.splice(w++,0,y)}const Dr="ng-template";function $r(n,r,o){let u=0,y=!0;for(;u<n.length;){let w=n[u++];if("string"==typeof w&&y){const P=n[u++];if(o&&"class"===w&&-1!==kn(P.toLowerCase(),r,0))return!0}else{if(1===w){for(;u<n.length&&"string"==typeof(w=n[u++]);)if(w.toLowerCase()===r)return!0;return!1}"number"==typeof w&&(y=!1)}}return!1}function Fi(n){return 4===n.type&&n.value!==Dr}function Xr(n,r,o){return r===(4!==n.type||o?n.value:Dr)}function Ur(n,r,o){let u=4;const y=n.attrs||[],w=function ps(n){for(let r=0;r<n.length;r++)if(Kt(n[r]))return r;return n.length}(y);let P=!1;for(let j=0;j<r.length;j++){const X=r[j];if("number"!=typeof X){if(!P)if(4&u){if(u=2|1&u,""!==X&&!Xr(n,X,o)||""===X&&1===r.length){if(Gr(u))return!1;P=!0}}else{const ye=8&u?X:r[++j];if(8&u&&null!==n.attrs){if(!$r(n.attrs,ye,o)){if(Gr(u))return!1;P=!0}continue}const ot=ls(8&u?"class":X,y,Fi(n),o);if(-1===ot){if(Gr(u))return!1;P=!0;continue}if(""!==ye){let Ht;Ht=ot>w?"":y[ot+1].toLowerCase();const hn=8&u?Ht:null;if(hn&&-1!==kn(hn,ye,0)||2&u&&ye!==Ht){if(Gr(u))return!1;P=!0}}}}else{if(!P&&!Gr(u)&&!Gr(X))return!1;if(P&&Gr(X))continue;P=!1,u=X|1&u}}return Gr(u)||P}function Gr(n){return 0==(1&n)}function ls(n,r,o,u){if(null===r)return-1;let y=0;if(u||!o){let w=!1;for(;y<r.length;){const P=r[y];if(P===n)return y;if(3===P||6===P)w=!0;else{if(1===P||2===P){let j=r[++y];for(;"string"==typeof j;)j=r[++y];continue}if(4===P)break;if(0===P){y+=4;continue}}y+=w?1:2}return-1}return function cs(n,r){let o=n.indexOf(4);if(o>-1)for(o++;o<n.length;){const u=n[o];if("number"==typeof u)return-1;if(u===r)return o;o++}return-1}(r,n)}function Os(n,r,o=!1){for(let u=0;u<r.length;u++)if(Ur(n,r[u],o))return!0;return!1}function Eo(n,r){e:for(let o=0;o<r.length;o++){const u=r[o];if(n.length===u.length){for(let y=0;y<n.length;y++)if(n[y]!==u[y])continue e;return!0}}return!1}function es(n,r){return n?":not("+r.trim()+")":r}function Hi(n){let r=n[0],o=1,u=2,y="",w=!1;for(;o<n.length;){let P=n[o];if("string"==typeof P)if(2&u){const j=n[++o];y+="["+P+(j.length>0?'="'+j+'"':"")+"]"}else 8&u?y+="."+P:4&u&&(y+=" "+P);else""!==y&&!Gr(P)&&(r+=es(w,y),y=""),u=P,w=w||!Gr(u);o++}return""!==y&&(r+=es(w,y)),r}function Ns(n){return ee(()=>{const r=Nr(n),o={...r,decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===se.OnPush,directiveDefs:null,pipeDefs:null,dependencies:r.standalone&&n.dependencies||null,getStandaloneInjector:null,data:n.data||{},encapsulation:n.encapsulation||Ke.Emulated,styles:n.styles||rt,_:null,schemas:n.schemas||null,tView:null,id:""};Kr(o);const u=n.dependencies;return o.directiveDefs=gs(u,!1),o.pipeDefs=gs(u,!0),o.id=function Si(n){let r=0;const o=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,n.consts,n.vars,n.decls,n.encapsulation,n.standalone,Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery].join("|");for(const y of o)r=Math.imul(31,r)+y.charCodeAt(0)<<0;return r+=2147483648,"c"+r}(o),o})}function re(n){return wt(n)||$t(n)}function pe(n){return null!==n}function Oe(n){return ee(()=>({type:n.type,bootstrap:n.bootstrap||rt,declarations:n.declarations||rt,imports:n.imports||rt,exports:n.exports||rt,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function ne(n,r){if(null==n)return xt;const o={};for(const u in n)if(n.hasOwnProperty(u)){let y=n[u],w=y;Array.isArray(y)&&(w=y[1],y=y[0]),o[y]=u,r&&(r[y]=w)}return o}function ve(n){return ee(()=>{const r=Nr(n);return Kr(r),r})}function st(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,standalone:!0===n.standalone,onDestroy:n.type.prototype.ngOnDestroy||null}}function wt(n){return n[Vt]||null}function $t(n){return n[Jt]||null}function tn(n){return n[Cn]||null}function Un(n){const r=wt(n)||$t(n)||tn(n);return null!==r&&r.standalone}function jn(n,r){const o=n[vn]||null;if(!o&&!0===r)throw new Error(`Type ${Ze(n)} does not have '\u0275mod' property.`);return o}function Nr(n){const r={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:r,exportAs:n.exportAs||null,standalone:!0===n.standalone,selectors:n.selectors||rt,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:ne(n.inputs,r),outputs:ne(n.outputs)}}function Kr(n){var r;null===(r=n.features)||void 0===r||r.forEach(o=>o(n))}function gs(n,r){if(!n)return null;const o=r?tn:re;return()=>("function"==typeof n?n():n).map(u=>o(u)).filter(pe)}const Mr=0,An=1,Fr=2,Lr=3,Ds=4,Ao=5,is=6,wo=7,Qr=8,zr=9,zi=10,Yr=11,ao=12,ms=13,Ni=14,Qi=15,no=16,fo=17,Qs=18,Io=19,Co=20,Hs=21,lo=22,Ho=23,ys=24,xi=25,Es=1,Oi=2,Ss=7,co=8,qs=9,vs=11;function ro(n){return Array.isArray(n)&&"object"==typeof n[Es]}function ki(n){return Array.isArray(n)&&!0===n[Es]}function Wo(n){return 0!=(4&n.flags)}function No(n){return n.componentOffset>-1}function uo(n){return 1==(1&n.flags)}function So(n){return!!n.template}function po(n){return 0!=(512&n[Fr])}function Bs(n,r){return n.hasOwnProperty($n)?n[$n]:null}let S=null!==(je=lr.WeakRef)&&void 0!==je?je:class F{constructor(r){this.ref=r}deref(){return this.ref}},ut=0,Nt=null,dn=!1;function Mn(n){const r=Nt;return Nt=n,r}class li{constructor(){this.id=ut++,this.ref=function L(n){return new S(n)}(this),this.producers=new Map,this.consumers=new Map,this.trackingVersion=0,this.valueVersion=0}consumerPollProducersForChange(){for(const[r,o]of this.producers){const u=o.producerNode.deref();if(void 0!==u&&o.atTrackingVersion===this.trackingVersion){if(u.producerPollStatus(o.seenValueVersion))return!0}else this.producers.delete(r),null==u||u.consumers.delete(this.id)}return!1}producerMayHaveChanged(){const r=dn;dn=!0;try{for(const[o,u]of this.consumers){const y=u.consumerNode.deref();void 0!==y&&y.trackingVersion===u.atTrackingVersion?y.onConsumerDependencyMayHaveChanged():(this.consumers.delete(o),null==y||y.producers.delete(this.id))}}finally{dn=r}}producerAccessed(){if(dn)throw new Error("");if(null===Nt)return;let r=Nt.producers.get(this.id);void 0===r?(r={consumerNode:Nt.ref,producerNode:this.ref,seenValueVersion:this.valueVersion,atTrackingVersion:Nt.trackingVersion},Nt.producers.set(this.id,r),this.consumers.set(Nt.id,r)):(r.seenValueVersion=this.valueVersion,r.atTrackingVersion=Nt.trackingVersion)}get hasProducers(){return this.producers.size>0}get producerUpdatesAllowed(){var r;return!1!==(null===(r=Nt)||void 0===r?void 0:r.consumerAllowSignalWrites)}producerPollStatus(r){return this.valueVersion!==r||(this.onProducerUpdateValueVersion(),this.valueVersion!==r)}}let As=null;const ta=()=>{};class Ta extends li{constructor(r,o,u){super(),this.watch=r,this.schedule=o,this.dirty=!1,this.cleanupFn=ta,this.registerOnCleanup=y=>{this.cleanupFn=y},this.consumerAllowSignalWrites=u}notify(){this.dirty||this.schedule(this),this.dirty=!0}onConsumerDependencyMayHaveChanged(){this.notify()}onProducerUpdateValueVersion(){}run(){if(this.dirty=!1,0!==this.trackingVersion&&!this.consumerPollProducersForChange())return;const r=Mn(this);this.trackingVersion++;try{this.cleanupFn(),this.cleanupFn=ta,this.watch(this.registerOnCleanup)}finally{Mn(r)}}cleanup(){this.cleanupFn()}}class Aa{constructor(r,o,u){this.previousValue=r,this.currentValue=o,this.firstChange=u}isFirstChange(){return this.firstChange}}function na(){return Na}function Na(n){return n.type.prototype.ngOnChanges&&(n.setInput=Zs),Gs}function Gs(){const n=Oo(this),r=null==n?void 0:n.current;if(r){const o=n.previous;if(o===xt)n.previous=r;else for(let u in r)o[u]=r[u];n.current=null,this.ngOnChanges(r)}}function Zs(n,r,o,u){const y=this.declaredInputs[o],w=Oo(n)||function Ea(n,r){return n[ba]=r}(n,{previous:xt,current:null}),P=w.current||(w.current={}),j=w.previous,X=j[y];P[y]=new Aa(X&&X.currentValue,r,j===xt),n[u]=r}na.ngInherit=!0;const ba="__ngSimpleChanges__";function Oo(n){return n[ba]||null}const oe=function(n,r,o){};function at(n){for(;Array.isArray(n);)n=n[Mr];return n}function zt(n,r){return at(r[n])}function sn(n,r){return at(r[n.index])}function or(n,r){return n.data[r]}function qr(n,r){const o=r[n];return ro(o)?o:o[Mr]}function Ps(n){return 128==(128&n[Fr])}function ue(n,r){return null==r?null:n[r]}function Q(n){n[fo]=0}function Pe(n){1024&n[Fr]||(n[Fr]|=1024,mn(n,1))}function vt(n){1024&n[Fr]&&(n[Fr]&=-1025,mn(n,-1))}function mn(n,r){let o=n[Lr];if(null===o)return;o[Ao]+=r;let u=o;for(o=o[Lr];null!==o&&(1===r&&1===u[Ao]||-1===r&&0===u[Ao]);)o[Ao]+=r,u=o,o=o[Lr]}const fr={lFrame:nt(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function yo(){return fr.bindingsEnabled}function Kn(){return fr.lFrame.lView}function Bn(){return fr.lFrame.tView}function Dn(n){return fr.lFrame.contextLView=n,n[Qr]}function Xn(n){return fr.lFrame.contextLView=null,n}function Yi(){let n=Ja();for(;null!==n&&64===n.type;)n=n.parent;return n}function Ja(){return fr.lFrame.currentTNode}function xa(n,r){const o=fr.lFrame;o.currentTNode=n,o.isParent=r}function dl(){return fr.lFrame.isParent}function al(){fr.lFrame.isParent=!1}function Vi(){return fr.lFrame.bindingIndex++}function sa(n){const r=fr.lFrame,o=r.bindingIndex;return r.bindingIndex=r.bindingIndex+n,o}function yi(n,r){const o=fr.lFrame;o.bindingIndex=o.bindingRootIndex=n,ss(r)}function ss(n){fr.lFrame.currentDirectiveIndex=n}function hs(){return fr.lFrame.currentQueryIndex}function gr(n){fr.lFrame.currentQueryIndex=n}function Ka(n){const r=n[An];return 2===r.type?r.declTNode:1===r.type?n[is]:null}function ha(n,r,o){if(o&Pn.SkipSelf){let y=r,w=n;for(;!(y=y.parent,null!==y||o&Pn.Host||(y=Ka(w),null===y||(w=w[Ni],10&y.type))););if(null===y)return!1;r=y,n=w}const u=fr.lFrame=hl();return u.currentTNode=r,u.lView=n,!0}function ya(n){const r=hl(),o=n[An];fr.lFrame=r,r.currentTNode=o.firstChild,r.lView=n,r.tView=o,r.contextLView=n,r.bindingIndex=o.bindingStartIndex,r.inI18n=!1}function hl(){const n=fr.lFrame,r=null===n?null:n.child;return null===r?nt(n):r}function nt(n){const r={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=r),r}function Xt(){const n=fr.lFrame;return fr.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const Qt=Xt;function yr(){const n=Xt();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function Ji(){return fr.lFrame.selectedIndex}function ns(n){fr.lFrame.selectedIndex=n}function qi(){const n=fr.lFrame;return or(n.tView,n.selectedIndex)}let Cl=!0;function Ya(){return Cl}function Xo(n){Cl=n}function jo(n,r){for(let ye=r.directiveStart,Fe=r.directiveEnd;ye<Fe;ye++){const Ht=n.data[ye].type.prototype,{ngAfterContentInit:hn,ngAfterContentChecked:zn,ngAfterViewInit:Cr,ngAfterViewChecked:Hr,ngOnDestroy:_i}=Ht;var o,u,y,w,P,j,X;hn&&(null!==(o=n.contentHooks)&&void 0!==o?o:n.contentHooks=[]).push(-ye,hn),zn&&((null!==(u=n.contentHooks)&&void 0!==u?u:n.contentHooks=[]).push(ye,zn),(null!==(y=n.contentCheckHooks)&&void 0!==y?y:n.contentCheckHooks=[]).push(ye,zn)),Cr&&(null!==(w=n.viewHooks)&&void 0!==w?w:n.viewHooks=[]).push(-ye,Cr),Hr&&((null!==(P=n.viewHooks)&&void 0!==P?P:n.viewHooks=[]).push(ye,Hr),(null!==(j=n.viewCheckHooks)&&void 0!==j?j:n.viewCheckHooks=[]).push(ye,Hr)),null!=_i&&(null!==(X=n.destroyHooks)&&void 0!==X?X:n.destroyHooks=[]).push(ye,_i)}}function V(n,r,o){q(n,r,3,o)}function H(n,r,o,u){(3&n[Fr])===o&&q(n,r,o,u)}function R(n,r){let o=n[Fr];(3&o)===r&&(o&=4095,o+=1,n[Fr]=o)}function q(n,r,o,u){const w=null!=u?u:-1,P=r.length-1;let j=0;for(let X=void 0!==u?65535&n[fo]:0;X<P;X++)if("number"==typeof r[X+1]){if(j=r[X],null!=u&&j>=u)break}else r[X]<0&&(n[fo]+=65536),(j<w||-1==w)&&(Xe(n,o,r,X),n[fo]=(4294901760&n[fo])+X+2),X++}function me(n,r){oe(4,n,r);const o=Mn(null);try{r.call(n)}finally{Mn(o),oe(5,n,r)}}function Xe(n,r,o,u){const y=o[u]<0,w=o[u+1],j=n[y?-o[u]:o[u]];y?n[Fr]>>12<n[fo]>>16&&(3&n[Fr])===r&&(n[Fr]+=4096,me(j,w)):me(j,w)}const Ue=-1;class Yt{constructor(r,o,u){this.factory=r,this.resolving=!1,this.canSeeViewProviders=o,this.injectImpl=u}}function c(n){return n!==Ue}function f(n){return 32767&n}function I(n,r){let o=function _(n){return n>>16}(n),u=r;for(;o>0;)u=u[Ni],o--;return u}let A=!0;function k(n){const r=A;return A=n,r}const de=255,Ce=5;let ze=0;const Qe={};function At(n,r){const o=In(n,r);if(-1!==o)return o;const u=r[An];u.firstCreatePass&&(n.injectorIndex=r.length,Zt(u.data,n),Zt(r,null),Zt(u.blueprint,null));const y=En(n,r),w=n.injectorIndex;if(c(y)){const P=f(y),j=I(y,r),X=j[An].data;for(let ye=0;ye<8;ye++)r[w+ye]=j[P+ye]|X[P+ye]}return r[w+8]=y,w}function Zt(n,r){n.push(0,0,0,0,0,0,0,0,r)}function In(n,r){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===r[n.injectorIndex+8]?-1:n.injectorIndex}function En(n,r){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let o=0,u=null,y=r;for(;null!==y;){if(u=rs(y),null===u)return Ue;if(o++,y=y[Ni],-1!==u.injectorIndex)return u.injectorIndex|o<<16}return Ue}function er(n,r,o){!function Et(n,r,o){let u;"string"==typeof o?u=o.charCodeAt(0)||0:o.hasOwnProperty(ln)&&(u=o[ln]),null==u&&(u=o[ln]=ze++);const y=u&de;r.data[n+(y>>Ce)]|=1<<y}(n,r,o)}function Yn(n,r,o){if(o&Pn.Optional||void 0!==n)return n;gt()}function sr(n,r,o,u){if(o&Pn.Optional&&void 0===u&&(u=null),!(o&(Pn.Self|Pn.Host))){const y=n[zr],w=ar(void 0);try{return y?y.get(r,u,o&Pn.Optional):Ai(r,u,o&Pn.Optional)}finally{ar(w)}}return Yn(u,0,o)}function dr(n,r,o,u=Pn.Default,y){if(null!==n){if(2048&r[Fr]){const P=function Ki(n,r,o,u,y){let w=n,P=r;for(;null!==w&&null!==P&&2048&P[Fr]&&!(512&P[Fr]);){const j=vr(w,P,o,u|Pn.Self,Qe);if(j!==Qe)return j;let X=w.parent;if(!X){const ye=P[Co];if(ye){const Fe=ye.get(o,Qe,u);if(Fe!==Qe)return Fe}X=rs(P),P=P[Ni]}w=X}return y}(n,r,o,u,Qe);if(P!==Qe)return P}const w=vr(n,r,o,u,Qe);if(w!==Qe)return w}return sr(r,o,u,y)}function vr(n,r,o,u,y){const w=function fs(n){if("string"==typeof n)return n.charCodeAt(0)||0;const r=n.hasOwnProperty(ln)?n[ln]:void 0;return"number"==typeof r?r>=0?r&de:wr:r}(o);if("function"==typeof w){if(!ha(r,n,u))return u&Pn.Host?Yn(y,0,u):sr(r,o,u,y);try{const P=w(u);if(null!=P||u&Pn.Optional)return P;gt()}finally{Qt()}}else if("number"==typeof w){let P=null,j=In(n,r),X=Ue,ye=u&Pn.Host?r[Qi][is]:null;for((-1===j||u&Pn.SkipSelf)&&(X=-1===j?En(n,r):r[j+8],X!==Ue&&os(u,!1)?(P=r[An],j=f(X),r=I(X,r)):j=-1);-1!==j;){const Fe=r[An];if(Rs(w,j,Fe.data)){const ot=fi(j,r,o,P,u,ye);if(ot!==Qe)return ot}X=r[j+8],X!==Ue&&os(u,r[An].data[j+8]===ye)&&Rs(w,j,r)?(P=Fe,j=f(X),r=I(X,r)):j=-1}}return y}function fi(n,r,o,u,y,w){const P=r[An],j=P.data[n+8],Fe=Ri(j,P,o,null==u?No(j)&&A:u!=P&&0!=(3&j.type),y&Pn.Host&&w===j);return null!==Fe?Vr(r,P,Fe,j):Qe}function Ri(n,r,o,u,y){const w=n.providerIndexes,P=r.data,j=1048575&w,X=n.directiveStart,Fe=w>>20,Ht=y?j+Fe:n.directiveEnd;for(let hn=u?j:j+Fe;hn<Ht;hn++){const zn=P[hn];if(hn<X&&o===zn||hn>=X&&zn.type===o)return hn}if(y){const hn=P[X];if(hn&&So(hn)&&hn.type===o)return X}return null}function Vr(n,r,o,u){let y=n[o];const w=r.data;if(function Tn(n){return n instanceof Yt}(y)){const P=y;P.resolving&&function It(n,r){const o=r?`. Dependency path: ${r.join(" > ")} > ${n}`:"";throw new Be(-200,`Circular dependency in DI detected for ${n}${o}`)}(function ft(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():Mt(n)}(w[o]));const j=k(P.canSeeViewProviders);P.resolving=!0;const X=P.injectImpl?ar(P.injectImpl):null;ha(n,u,Pn.Default);try{y=n[o]=P.factory(void 0,w,n,u),r.firstCreatePass&&o>=u.directiveStart&&function Dl(n,r,o){const{ngOnChanges:u,ngOnInit:y,ngDoCheck:w}=r.type.prototype;if(u){var P,j;const ot=Na(r);(null!==(P=o.preOrderHooks)&&void 0!==P?P:o.preOrderHooks=[]).push(n,ot),(null!==(j=o.preOrderCheckHooks)&&void 0!==j?j:o.preOrderCheckHooks=[]).push(n,ot)}var X,ye,Fe;y&&(null!==(X=o.preOrderHooks)&&void 0!==X?X:o.preOrderHooks=[]).push(0-n,y),w&&((null!==(ye=o.preOrderHooks)&&void 0!==ye?ye:o.preOrderHooks=[]).push(n,w),(null!==(Fe=o.preOrderCheckHooks)&&void 0!==Fe?Fe:o.preOrderCheckHooks=[]).push(n,w))}(o,w[o],r)}finally{null!==X&&ar(X),k(j),P.resolving=!1,Qt()}}return y}function Rs(n,r,o){return!!(o[r+(n>>Ce)]&1<<n)}function os(n,r){return!(n&Pn.Self||n&Pn.Host&&r)}class Vs{constructor(r,o){this._tNode=r,this._lView=o}get(r,o,u){return dr(this._tNode,this._lView,r,jr(u),o)}}function wr(){return new Vs(Yi(),Kn())}function Ir(n){return ee(()=>{const r=n.prototype.constructor,o=r[$n]||wi(r),u=Object.prototype;let y=Object.getPrototypeOf(n.prototype).constructor;for(;y&&y!==u;){const w=y[$n]||wi(y);if(w&&w!==o)return w;y=Object.getPrototypeOf(y)}return w=>new w})}function wi(n){return lt(n)?()=>{const r=wi(Me(n));return r&&r()}:Bs(n)}function rs(n){const r=n[An],o=r.type;return 2===o?r.declTNode:1===o?n[is]:null}function la(n){return function Qn(n,r){if("class"===r)return n.classes;if("style"===r)return n.styles;const o=n.attrs;if(o){const u=o.length;let y=0;for(;y<u;){const w=o[y];if(Kt(w))break;if(0===w)y+=2;else if("number"==typeof w)for(y++;y<u&&"string"==typeof o[y];)y++;else{if(w===r)return o[y+1];y+=2}}}return null}(Yi(),n)}const vo="__annotations__",Cs="__parameters__",as="__prop__metadata__";function Ca(n,r,o,u,y){return ee(()=>{const w=Ba(r);function P(...j){if(this instanceof P)return w.call(this,...j),this;const X=new P(...j);return function(Fe){return y&&y(Fe,...j),(Fe.hasOwnProperty(vo)?Fe[vo]:Object.defineProperty(Fe,vo,{value:[]})[vo]).push(X),u&&u(Fe),Fe}}return o&&(P.prototype=Object.create(o.prototype)),P.prototype.ngMetadataName=n,P.annotationCls=P,P})}function Ba(n){return function(...o){if(n){const u=n(...o);for(const y in u)this[y]=u[y]}}}function $o(n,r,o){return ee(()=>{const u=Ba(r);function y(...w){if(this instanceof y)return u.apply(this,w),this;const P=new y(...w);return j.annotation=P,j;function j(X,ye,Fe){const ot=X.hasOwnProperty(Cs)?X[Cs]:Object.defineProperty(X,Cs,{value:[]})[Cs];for(;ot.length<=Fe;)ot.push(null);return(ot[Fe]=ot[Fe]||[]).push(P),X}}return o&&(y.prototype=Object.create(o.prototype)),y.prototype.ngMetadataName=n,y.annotationCls=y,y})}const ra=$o("Attribute",n=>({attributeName:n,__NG_ELEMENT_ID__:()=>la(n)}));function ca(n){const r=lr.ng;if(r&&r.\u0275compilerFacade)return r.\u0275compilerFacade;throw new Error("JIT compiler unavailable")}const Jl=Function;function fl(n){return"function"==typeof n}function ec(n,r){n.forEach(o=>Array.isArray(o)?ec(o,r):r(o))}function vc(n,r,o){r>=n.length?n.push(o):n.splice(r,0,o)}function pl(n,r){return r>=n.length-1?n.pop():n.splice(r,1)[0]}function Pl(n,r){const o=[];for(let u=0;u<n;u++)o.push(r);return o}function zo(n,r,o){let u=Fo(n,r);return u>=0?n[1|u]=o:(u=~u,function gl(n,r,o,u){let y=n.length;if(y==r)n.push(o,u);else if(1===y)n.push(u,n[0]),n[0]=o;else{for(y--,n.push(n[y-1],n[y]);y>r;)n[y]=n[y-2],y--;n[r]=o,n[r+1]=u}}(n,u,r,o)),u}function tc(n,r){const o=Fo(n,r);if(o>=0)return n[1|o]}function Fo(n,r){return function iu(n,r,o){let u=0,y=n.length>>o;for(;y!==u;){const w=u+(y-u>>1),P=n[w<<o];if(r===P)return w<<o;P>r?y=w:u=w+1}return~(y<<o)}(n,r,1)}const yd=/^function\s+\S+\(\)\s*{[\s\S]+\.apply\(this,\s*(arguments|(?:[^()]+\(\[\],)?[^()]+\(arguments\).*)\)/,nc=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{/,uh=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{[\s\S]*constructor\s*\(/,vd=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{[\s\S]*constructor\s*\(\)\s*{[^}]*super\(\.\.\.arguments\)/;class Vo{constructor(r){this._reflect=r||lr.Reflect}factory(r){return(...o)=>new r(...o)}_zipTypesAndAnnotations(r,o){let u;u=Pl(typeof r>"u"?o.length:r.length);for(let y=0;y<u.length;y++)u[y]=typeof r>"u"?[]:r[y]&&r[y]!=Object?[r[y]]:[],o&&null!=o[y]&&(u[y]=u[y].concat(o[y]));return u}_ownParameters(r,o){if(function ho(n){return yd.test(n)||vd.test(n)||nc.test(n)&&!uh.test(n)}(r.toString()))return null;if(r.parameters&&r.parameters!==o.parameters)return r.parameters;const y=r.ctorParameters;if(y&&y!==o.ctorParameters){const j="function"==typeof y?y():y,X=j.map(Fe=>Fe&&Fe.type),ye=j.map(Fe=>Fe&&bl(Fe.decorators));return this._zipTypesAndAnnotations(X,ye)}const w=r.hasOwnProperty(Cs)&&r[Cs],P=this._reflect&&this._reflect.getOwnMetadata&&this._reflect.getOwnMetadata("design:paramtypes",r);return P||w?this._zipTypesAndAnnotations(P,w):Pl(r.length)}parameters(r){if(!fl(r))return[];const o=rc(r);let u=this._ownParameters(r,o);return!u&&o!==Object&&(u=this.parameters(o)),u||[]}_ownAnnotations(r,o){if(r.annotations&&r.annotations!==o.annotations){let u=r.annotations;return"function"==typeof u&&u.annotations&&(u=u.annotations),u}return r.decorators&&r.decorators!==o.decorators?bl(r.decorators):r.hasOwnProperty(vo)?r[vo]:null}annotations(r){if(!fl(r))return[];const o=rc(r),u=this._ownAnnotations(r,o)||[];return(o!==Object?this.annotations(o):[]).concat(u)}_ownPropMetadata(r,o){if(r.propMetadata&&r.propMetadata!==o.propMetadata){let u=r.propMetadata;return"function"==typeof u&&u.propMetadata&&(u=u.propMetadata),u}if(r.propDecorators&&r.propDecorators!==o.propDecorators){const u=r.propDecorators,y={};return Object.keys(u).forEach(w=>{y[w]=bl(u[w])}),y}return r.hasOwnProperty(as)?r[as]:null}propMetadata(r){if(!fl(r))return{};const o=rc(r),u={};if(o!==Object){const w=this.propMetadata(o);Object.keys(w).forEach(P=>{u[P]=w[P]})}const y=this._ownPropMetadata(r,o);return y&&Object.keys(y).forEach(w=>{const P=[];u.hasOwnProperty(w)&&P.push(...u[w]),P.push(...y[w]),u[w]=P}),u}ownPropMetadata(r){return fl(r)&&this._ownPropMetadata(r,rc(r))||{}}hasLifecycleHook(r,o){return r instanceof Jl&&o in r.prototype}}function bl(n){return n?n.map(r=>new(0,r.type.annotationCls)(...r.args?r.args:[])):[]}function rc(n){const r=n.prototype?Object.getPrototypeOf(n.prototype):null;return(r?r.constructor:null)||Object}const su=Rr($o("Inject",n=>({token:n})),-1),Bc=Rr($o("Optional"),8),ic=Rr($o("Self"),2),Rl=Rr($o("SkipSelf"),4),_d=Rr($o("Host"),1);let sc=null;function $c(n){return bd(function Fu(){return sc=sc||new Vo}().parameters(n))}function bd(n){return n.map(r=>function Vc(n){const r={token:null,attribute:null,host:!1,optional:!1,self:!1,skipSelf:!1};if(Array.isArray(n)&&n.length>0)for(let o=0;o<n.length;o++){const u=n[o];if(void 0===u)continue;const y=Object.getPrototypeOf(u);if(u instanceof Bc||"Optional"===y.ngMetadataName)r.optional=!0;else if(u instanceof Rl||"SkipSelf"===y.ngMetadataName)r.skipSelf=!0;else if(u instanceof ic||"Self"===y.ngMetadataName)r.self=!0;else if(u instanceof _d||"Host"===y.ngMetadataName)r.host=!0;else if(u instanceof su)r.token=u.token;else if(u instanceof ra){if(void 0===u.attributeName)throw new Be(204,!1);r.attribute=u.attributeName}else r.token=u}else r.token=void 0===n||Array.isArray(n)&&0===n.length?null:n;return r}(r))}var $a=(()=>(($a=$a||{})[$a.Important=1]="Important",$a[$a.DashCase=2]="DashCase",$a))();const El=/^>|^->|<!--|-->|--!>|<!-$/g,Wc=/(<|>)/,wl="\u200b$1\u200b";const Gc=new Map;let Us=0;const du="__ngContext__";function Da(n,r){ro(r)?(n[du]=r[Io],function ph(n){Gc.set(n[Io],n)}(r)):n[du]=r}let hu;function fu(n,r){return hu(n,r)}function Bu(n){const r=n[Lr];return ki(r)?r[Lr]:r}function Id(n){return Gl(n[ao])}function Ec(n){return Gl(n[Ds])}function Gl(n){for(;null!==n&&!ki(n);)n=n[Ds];return n}function Kc(n,r,o,u,y){if(null!=u){let w,P=!1;ki(u)?w=u:ro(u)&&(P=!0,u=u[Mr]);const j=at(u);0===n&&null!==o?null==y?Dh(r,o,j):Ic(r,o,j,y||null,!0):1===n&&null!==o?Ic(r,o,j,y||null,!0):2===n?function gu(n,r,o){const u=qc(n,r);u&&function zu(n,r,o,u){n.removeChild(r,o,u)}(n,u,r,o)}(r,j,P):3===n&&r.destroyNode(j),null!=w&&function cc(n,r,o,u,y){const w=o[Ss];w!==at(o)&&Kc(r,n,u,w,y);for(let j=vs;j<o.length;j++){const X=o[j];Hu(X[An],X,n,r,u,w)}}(r,n,w,o,y)}}function wc(n,r){return n.createComment(function hh(n){return n.replace(El,r=>r.replace(Wc,wl))}(r))}function pu(n,r,o){return n.createElement(r,o)}function Ro(n,r){const o=n[qs],u=o.indexOf(r);vt(r),o.splice(u,1)}function Uu(n,r){if(n.length<=vs)return;const o=vs+r,u=n[o];if(u){const y=u[no];null!==y&&y!==n&&Ro(y,u),r>0&&(n[o-1][Ds]=u[Ds]);const w=pl(n,vs+r);!function bh(n,r){Hu(n,r,r[Yr],2,null,null),r[Mr]=null,r[is]=null}(u[An],u);const P=w[Qs];null!==P&&P.detachView(w[An]),u[Lr]=null,u[Ds]=null,u[Fr]&=-129}return u}function Ih(n,r){if(!(256&r[Fr])){var o,u;const y=r[Yr];null===(o=r[Ho])||void 0===o||o.destroy(),null===(u=r[ys])||void 0===u||u.destroy(),y.destroyNode&&Hu(n,r,y,3,null,null),function Up(n){let r=n[ao];if(!r)return ju(n[An],n);for(;r;){let o=null;if(ro(r))o=r[ao];else{const u=r[vs];u&&(o=u)}if(!o){for(;r&&!r[Ds]&&r!==n;)ro(r)&&ju(r[An],r),r=r[Lr];null===r&&(r=n),ro(r)&&ju(r[An],r),o=r&&r[Ds]}r=o}}(r)}}function ju(n,r){if(!(256&r[Fr])){r[Fr]&=-129,r[Fr]|=256,function Pf(n,r){let o;if(null!=n&&null!=(o=n.destroyHooks))for(let u=0;u<o.length;u+=2){const y=r[o[u]];if(!(y instanceof Yt)){const w=o[u+1];if(Array.isArray(w))for(let P=0;P<w.length;P+=2){const j=y[w[P]],X=w[P+1];oe(4,j,X);try{X.call(j)}finally{oe(5,j,X)}}else{oe(4,y,w);try{w.call(y)}finally{oe(5,y,w)}}}}}(n,r),function Cd(n,r){const o=n.cleanup,u=r[wo];if(null!==o)for(let w=0;w<o.length-1;w+=2)if("string"==typeof o[w]){const P=o[w+3];P>=0?u[P]():u[-P].unsubscribe(),w+=2}else o[w].call(u[o[w+1]]);null!==u&&(r[wo]=null);const y=r[Hs];if(null!==y){for(let w=0;w<y.length;w++)(0,y[w])();r[Hs]=null}}(n,r),1===r[An].type&&r[Yr].destroy();const o=r[no];if(null!==o&&ki(r[Lr])){o!==r[Lr]&&Ro(o,r);const u=r[Qs];null!==u&&u.detachView(n)}!function Sf(n){Gc.delete(n[Io])}(r)}}function Dd(n,r,o){return function Ch(n,r,o){let u=r;for(;null!==u&&40&u.type;)u=(r=u).parent;if(null===u)return o[Mr];{const{componentOffset:y}=u;if(y>-1){const{encapsulation:w}=n.data[u.directiveStart+y];if(w===Ke.None||w===Ke.Emulated)return null}return sn(u,o)}}(n,r.parent,o)}function Ic(n,r,o,u,y){n.insertBefore(r,o,u,y)}function Dh(n,r,o){n.appendChild(r,o)}function Yc(n,r,o,u,y){null!==u?Ic(n,r,o,u,y):Dh(n,r,o)}function qc(n,r){return n.parentNode(r)}function Sh(n,r,o){return Of(n,r,o)}let Td,Gu,Qc,Of=function Th(n,r,o){return 40&n.type?sn(n,o):null};function xh(n,r,o,u){const y=Dd(n,u,r),w=r[Yr],j=Sh(u.parent||r[is],u,r);if(null!=y)if(Array.isArray(o))for(let X=0;X<o.length;X++)Yc(w,y,o[X],j,!1);else Yc(w,y,o,j,!1);void 0!==Td&&Td(w,u,r,o,y)}function Ad(n,r){if(null!==r){const o=r.type;if(3&o)return sn(r,n);if(4&o)return Mh(-1,n[r.index]);if(8&o){const u=r.child;if(null!==u)return Ad(n,u);{const y=n[r.index];return ki(y)?Mh(-1,y):at(y)}}if(32&o)return fu(r,n)()||at(n[r.index]);{const u=kf(n,r);return null!==u?Array.isArray(u)?u[0]:Ad(Bu(n[Qi]),u):Ad(n,r.next)}}return null}function kf(n,r){return null!==r?n[Qi][is].projection[r.projection]:null}function Mh(n,r){const o=vs+n+1;if(o<r.length){const u=r[o],y=u[An].firstChild;if(null!==y)return Ad(u,y)}return r[Ss]}function xd(n,r,o,u,y,w,P){for(;null!=o;){const j=u[o.index],X=o.type;if(P&&0===r&&(j&&Da(at(j),u),o.flags|=2),32!=(32&o.flags))if(8&X)xd(n,r,o.child,u,y,w,!1),Kc(r,n,y,j,w);else if(32&X){const ye=fu(o,u);let Fe;for(;Fe=ye();)Kc(r,n,y,Fe,w);Kc(r,n,y,j,w)}else 16&X?Md(n,r,u,o,y,w):Kc(r,n,y,j,w);o=P?o.projectionNext:o.next}}function Hu(n,r,o,u,y,w){xd(o,u,n.firstChild,r,y,w,!1)}function Md(n,r,o,u,y,w){const P=o[Qi],X=P[is].projection[u.projection];if(Array.isArray(X))for(let ye=0;ye<X.length;ye++)Kc(r,n,y,X[ye],w);else xd(n,r,X,P[Lr],y,w,!0)}function Dc(n,r,o){""===o?n.removeAttribute(r,"class"):n.setAttribute(r,"class",o)}function Ph(n,r,o){const{mergedAttrs:u,classes:y,styles:w}=o;null!==u&&Bt(n,r,u),null!==y&&Dc(n,r,y),null!==w&&function Sa(n,r,o){n.setAttribute(r,"style",o)}(n,r,w)}function Nf(n){Gu=n}function Oh(n){var r;return(null===(r=function Ku(){if(void 0===Qc&&(Qc=null,lr.trustedTypes))try{Qc=lr.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Qc}())||void 0===r?void 0:r.createScriptURL(n))||n}class Ff{constructor(r){this.changingThisBreaksApplicationSecurity=r}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${We})`}}function hc(n){return n instanceof Ff?n.changingThisBreaksApplicationSecurity:n}function Al(n,r){const o=function Nh(n){return n instanceof Ff&&n.getTypeName()||null}(n);if(null!=o&&o!==r){if("ResourceURL"===o&&"URL"===r)return!0;throw new Error(`Required a safe ${r}, got a ${o} (see ${We})`)}return o===r}const p=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var Va=(()=>((Va=Va||{})[Va.NONE=0]="NONE",Va[Va.HTML=1]="HTML",Va[Va.STYLE=2]="STYLE",Va[Va.SCRIPT=3]="SCRIPT",Va[Va.URL=4]="URL",Va[Va.RESOURCE_URL=5]="RESOURCE_URL",Va))();function Od(n){const r=Nd();return r?r.sanitize(Va.URL,n)||"":Al(n,"URL")?hc(n):function g(n){return(n=String(n)).match(p)?n:"unsafe:"+n}(Mt(n))}function Nm(n){const r=Nd();if(r)return Oh(r.sanitize(Va.RESOURCE_URL,n)||"");if(Al(n,"ResourceURL"))return Oh(hc(n));throw new Be(904,!1)}function kd(n,r,o){return function Fm(n,r){return"src"===r&&("embed"===n||"frame"===n||"iframe"===n||"media"===n||"script"===n)||"href"===r&&("base"===n||"link"===n)?Nm:Od}(r,o)(n)}function Nd(){const n=Kn();return n&&n[zi].sanitizer}class Qo{constructor(r,o){this._desc=r,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof o?this.__NG_ELEMENT_ID__=o:void 0!==o&&(this.\u0275prov=_t({token:this,providedIn:o.providedIn||"root",factory:o.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const Za=new Qo("ENVIRONMENT_INITIALIZER"),Zp=new Qo("INJECTOR",-1),Bh=new Qo("INJECTOR_DEF_TYPES");class $h{get(r,o=gi){if(o===gi){const u=new Error(`NullInjectorError: No provider for ${Ze(r)}!`);throw u.name="NullInjectorError",u}return o}}function Eu(...n){return{\u0275providers:Yu(0,n),\u0275fromNgModule:!0}}function Yu(n,...r){const o=[],u=new Set;let y;return ec(r,w=>{const P=w;eu(P,o,[],u)&&(y||(y=[]),y.push(P))}),void 0!==y&&Qp(y,o),o}function Qp(n,r){for(let o=0;o<n.length;o++){const{providers:y}=n[o];wu(y,w=>{r.push(w)})}}function eu(n,r,o,u){if(!(n=Me(n)))return!1;let y=null,w=rr(n);const P=!w&&wt(n);if(w||P){if(P&&!P.standalone)return!1;y=n}else{const X=n.ngModule;if(w=rr(X),!w)return!1;y=X}const j=u.has(y);if(P){if(j)return!1;if(u.add(y),P.dependencies){const X="function"==typeof P.dependencies?P.dependencies():P.dependencies;for(const ye of X)eu(ye,r,o,u)}}else{if(!w)return!1;{if(null!=w.imports&&!j){let ye;u.add(y);try{ec(w.imports,Fe=>{eu(Fe,r,o,u)&&(ye||(ye=[]),ye.push(Fe))})}finally{}void 0!==ye&&Qp(ye,r)}if(!j){const ye=Bs(y)||(()=>new y);r.push({provide:y,useFactory:ye,deps:rt},{provide:Bh,useValue:y,multi:!0},{provide:Za,useValue:()=>Wt(y),multi:!0})}const X=w.providers;null==X||j||wu(X,Fe=>{r.push(Fe)})}}return y!==n&&void 0!==n.providers}function wu(n,r){for(let o of n)pt(o)&&(o=o.\u0275providers),Array.isArray(o)?wu(o,r):r(o)}const Lm=Se({provide:String,useValue:Se});function Ac(n){return null!==n&&"object"==typeof n&&Lm in n}function Iu(n){return"function"==typeof n}const Uf=new Qo("Set Injector scope."),jf={},zf={};let Hf;function Wf(){return void 0===Hf&&(Hf=new $h),Hf}class Cu{}class eg extends Cu{get destroyed(){return this._destroyed}constructor(r,o,u,y){super(),this.parent=o,this.source=u,this.scopes=y,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,ng(r,P=>this.processProvider(P)),this.records.set(Zp,Zu(void 0,this)),y.has("environment")&&this.records.set(Cu,Zu(void 0,this));const w=this.records.get(Uf);null!=w&&"string"==typeof w.value&&this.scopes.add(w.value),this.injectorDefTypes=new Set(this.get(Bh.multi,rt,Pn.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const r of this._ngOnDestroyHooks)r.ngOnDestroy();for(const r of this._onDestroyHooks)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(r){return this.assertNotDestroyed(),this._onDestroyHooks.push(r),()=>this.removeOnDestroy(r)}runInContext(r){this.assertNotDestroyed();const o=Ne(this),u=ar(void 0);try{return r()}finally{Ne(o),ar(u)}}get(r,o=gi,u=Pn.Default){if(this.assertNotDestroyed(),r.hasOwnProperty(yn))return r[yn](this);u=jr(u);const y=Ne(this),w=ar(void 0);try{if(!(u&Pn.SkipSelf)){let j=this.records.get(r);if(void 0===j){const X=function pv(n){return"function"==typeof n||"object"==typeof n&&n instanceof Qo}(r)&&Zn(r);j=X&&this.injectableDefInScope(X)?Zu(Gf(r),jf):null,this.records.set(r,j)}if(null!=j)return this.hydrate(r,j)}return(u&Pn.Self?Wf():this.parent).get(r,o=u&Pn.Optional&&o===gi?null:o)}catch(P){if("NullInjectorError"===P.name){if((P[di]=P[di]||[]).unshift(Ze(r)),y)throw P;return function Ae(n,r,o,u){const y=n[di];throw r[Di]&&y.unshift(r[Di]),n.message=function ie(n,r,o,u=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.slice(2):n;let y=Ze(r);if(Array.isArray(r))y=r.map(Ze).join(" -> ");else if("object"==typeof r){let w=[];for(let P in r)if(r.hasOwnProperty(P)){let j=r[P];w.push(P+":"+("string"==typeof j?JSON.stringify(j):Ze(j)))}y=`{${w.join(", ")}}`}return`${o}${u?"("+u+")":""}[${y}]: ${n.replace(br,"\n  ")}`}("\n"+n.message,y,o,u),n.ngTokenPath=y,n[di]=null,n}(P,r,"R3InjectorError",this.source)}throw P}finally{ar(w),Ne(y)}}resolveInjectorInitializers(){const r=Ne(this),o=ar(void 0);try{const u=this.get(Za.multi,rt,Pn.Self);for(const y of u)y()}finally{Ne(r),ar(o)}}toString(){const r=[],o=this.records;for(const u of o.keys())r.push(Ze(u));return`R3Injector[${r.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Be(205,!1)}processProvider(r){let o=Iu(r=Me(r))?r:Me(r&&r.provide);const u=function Vh(n){return Ac(n)?Zu(void 0,n.useValue):Zu(tg(n),jf)}(r);if(Iu(r)||!0!==r.multi)this.records.get(o);else{let y=this.records.get(o);y||(y=Zu(void 0,jf,!0),y.factory=()=>kr(y.multi),this.records.set(o,y)),o=r,y.multi.push(r)}this.records.set(o,u)}hydrate(r,o){return o.value===jf&&(o.value=zf,o.value=o.factory()),"object"==typeof o.value&&o.value&&function $m(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(o.value)&&this._ngOnDestroyHooks.add(o.value),o.value}injectableDefInScope(r){if(!r.providedIn)return!1;const o=Me(r.providedIn);return"string"==typeof o?"any"===o||this.scopes.has(o):this.injectorDefTypes.has(o)}removeOnDestroy(r){const o=this._onDestroyHooks.indexOf(r);-1!==o&&this._onDestroyHooks.splice(o,1)}}function Gf(n){const r=Zn(n),o=null!==r?r.factory:Bs(n);if(null!==o)return o;if(n instanceof Qo)throw new Be(204,!1);if(n instanceof Function)return function qu(n){const r=n.length;if(r>0)throw Pl(r,"?"),new Be(204,!1);const o=function un(n){return n&&(n[an]||n[Br])||null}(n);return null!==o?()=>o.factory(n):()=>new n}(n);throw new Be(204,!1)}function tg(n,r,o){let u;if(Iu(n)){const y=Me(n);return Bs(y)||Gf(y)}if(Ac(n))u=()=>Me(n.useValue);else if(function Bm(n){return!(!n||!n.useFactory)}(n))u=()=>n.useFactory(...kr(n.deps||[]));else if(function Jp(n){return!(!n||!n.useExisting)}(n))u=()=>Wt(Me(n.useExisting));else{const y=Me(n&&(n.useClass||n.provide));if(!function fv(n){return!!n.deps}(n))return Bs(y)||Gf(y);u=()=>new y(...kr(n.deps))}return u}function Zu(n,r,o=!1){return{factory:n,value:r,multi:o?[]:void 0}}function ng(n,r){for(const o of n)Array.isArray(o)?ng(o,r):o&&pt(o)?ng(o.\u0275providers,r):r(o)}const Kf=new Qo("AppId",{providedIn:"root",factory:()=>cl}),cl="ng",Vm=new Qo("Platform Initializer"),Um=new Qo("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),gv=new Qo("AnimationModuleType"),rg=new Qo("CSP nonce",{providedIn:"root",factory:()=>{var n,r;return(null===(n=function Xc(){return void 0!==Gu?Gu:typeof document<"u"?document:void 0}().body)||void 0===n||null===(r=n.querySelector("[ngCspNonce]"))||void 0===r?void 0:r.getAttribute("ngCspNonce"))||null}});let Ju=(n,r)=>null;function jh(n,r){return Ju(n,r)}class Wh{}class Gh{}class Gm{resolveComponentFactory(r){throw function hg(n){const r=Error(`No component factory found for ${Ze(n)}.`);return r.ngComponent=n,r}(r)}}let Kh=(()=>{class n{}return n.NULL=new Gm,n})();function Km(){return tu(Yi(),Kn())}function tu(n,r){return new td(sn(n,r))}let td=(()=>{class n{constructor(o){this.nativeElement=o}}return n.__NG_ELEMENT_ID__=Km,n})();function vv(n){return n instanceof td?n.nativeElement:n}class Ym{}let Il=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>function _v(){const n=Kn(),o=qr(Yi().index,n);return(ro(o)?o:n)[Yr]}(),n})(),qm=(()=>{class n{}return n.\u0275prov=_t({token:n,providedIn:"root",factory:()=>null}),n})();class Yh{constructor(r){this.full=r,this.major=r.split(".")[0],this.minor=r.split(".")[1],this.patch=r.split(".").slice(2).join(".")}}const Hd=new Yh("16.0.0"),qh={};function Wd(n){for(;n;){n[Fr]|=64;const r=Bu(n);if(po(n)&&!r)return n;n=r}return null}function fg(n){return n.ngOriginalError}class Gd{constructor(){this._console=console}handleError(r){const o=this._findOriginalError(r);this._console.error("ERROR",r),o&&this._console.error("ORIGINAL ERROR",o)}_findOriginalError(r){let o=r&&fg(r);for(;o&&fg(o);)o=fg(o);return o||null}}const nd=new Qo("",{providedIn:"root",factory:()=>!1});function xc(n){return n instanceof Function?n():n}class Xh extends li{constructor(){super(...arguments),this.consumerAllowSignalWrites=!1,this._lView=null}set lView(r){this._lView=r}onConsumerDependencyMayHaveChanged(){Wd(this._lView)}onProducerUpdateValueVersion(){}get hasReadASignal(){return this.hasProducers}runInContext(r,o,u){const y=Mn(this);this.trackingVersion++;try{r(o,u)}finally{Mn(y)}}destroy(){this.trackingVersion++}}let rd=null;function vg(){var n;return null!==(n=rd)&&void 0!==n||(rd=new Xh),rd}function id(n,r){var o;return null!==(o=n[r])&&void 0!==o?o:vg()}function rp(n,r){const o=vg();o.hasReadASignal&&(n[r]=rd,o.lView=n,rd=new Xh)}const Xs={};function ny(n){_g(Bn(),Kn(),Ji()+n,!1)}function _g(n,r,o,u){if(!u)if(3==(3&r[Fr])){const w=n.preOrderCheckHooks;null!==w&&V(r,w,o)}else{const w=n.preOrderHooks;null!==w&&H(r,w,0,o)}ns(o)}const ip={\u0275\u0275defineInjectable:_t,\u0275\u0275defineInjector:gn,\u0275\u0275inject:Wt,\u0275\u0275invalidFactoryDep:function wn(n){throw new Be(202,!1)},resolveForwardRef:Me};const bg=Se({provide:String,useValue:Se});function ry(n){return void 0!==n.useClass}function iy(n){return void 0!==n.useFactory}const Ig=Ca("Injectable",void 0,void 0,void 0,(n,r)=>function wv(n,r){let o=null,u=null;n.hasOwnProperty(an)||Object.defineProperty(n,an,{get:()=>(null===o&&(o=ca().compileInjectable(ip,`ng:///${n.name}/\u0275prov.js`,function sy(n,r){const o=r||{providedIn:null},u={name:n.name,type:n,typeArgumentCount:0,providedIn:o.providedIn};return(ry(o)||iy(o))&&void 0!==o.deps&&(u.deps=bd(o.deps)),ry(o)?u.useClass=o.useClass:function Eg(n){return bg in n}(o)?u.useValue=o.useValue:iy(o)?u.useFactory=o.useFactory:function wg(n){return void 0!==n.useExisting}(o)&&(u.useExisting=o.useExisting),u}(n,r))),o)}),n.hasOwnProperty($n)||Object.defineProperty(n,$n,{get:()=>{if(null===u){const y=ca();u=y.compileFactory(ip,`ng:///${n.name}/\u0275fac.js`,{name:n.name,type:n,typeArgumentCount:0,deps:$c(n),target:y.FactoryTarget.Injectable})}return u},configurable:!0})}(n,r));function sp(n,r=null,o=null,u){const y=op(n,r,o,u);return y.resolveInjectorInitializers(),y}function op(n,r=null,o=null,u,y=new Set){const w=[o||rt,Eu(n)];return u=u||("object"==typeof n?void 0:Ze(n)),new eg(w,r||Wf(),u||null,y)}let $l=(()=>{class n{static create(o,u){if(Array.isArray(o))return sp({name:""},u,o,"");{var y;const w=null!==(y=o.name)&&void 0!==y?y:"";return sp({name:w},o.parent,o.providers,w)}}}return n.THROW_IF_NOT_FOUND=gi,n.NULL=new $h,n.\u0275prov=_t({token:n,providedIn:"any",factory:()=>Wt(Zp)}),n.__NG_ELEMENT_ID__=-1,n})();function Vl(n,r=Pn.Default){const o=Kn();return null===o?Wt(n,r):dr(Yi(),o,Me(n),r)}function ap(){throw new Error("invalid")}function nu(n,r,o,u,y,w,P,j,X,ye,Fe){const ot=r.blueprint.slice();return ot[Mr]=y,ot[Fr]=140|u,(null!==ye||n&&2048&n[Fr])&&(ot[Fr]|=2048),Q(ot),ot[Lr]=ot[Ni]=n,ot[Qr]=o,ot[zi]=P||n&&n[zi],ot[Yr]=j||n&&n[Yr],ot[zr]=X||n&&n[zr]||null,ot[is]=w,ot[Io]=function fh(){return Us++}(),ot[lo]=Fe,ot[Co]=ye,ot[Qi]=2==r.type?n[Qi]:ot,ot}function sd(n,r,o,u,y){let w=n.data[r];if(null===w)w=function Tu(n,r,o,u,y){const w=Ja(),P=dl(),X=n.data[r]=function uy(n,r,o,u,y,w){return{type:o,index:u,insertBeforeIndex:null,injectorIndex:r?r.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:y,attrs:w,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:r,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,P?w:w&&w.parent,o,r,u,y);return null===n.firstChild&&(n.firstChild=X),null!==w&&(P?null==w.child&&null!==X.parent&&(w.child=X):null===w.next&&(w.next=X,X.prev=w)),X}(n,r,o,u,y),function Ia(){return fr.lFrame.inI18n}()&&(w.flags|=32);else if(64&w.type){w.type=o,w.value=u,w.attrs=y;const P=function wa(){const n=fr.lFrame,r=n.currentTNode;return n.isParent?r:r.parent}();w.injectorIndex=null===P?-1:P.injectorIndex}return xa(w,!0),w}function Qh(n,r,o,u){if(0===o)return-1;const y=r.length;for(let w=0;w<o;w++)r.push(u),n.blueprint.push(u),n.data.push(null);return y}function oy(n,r,o,u,y){const w=id(r,Ho),P=Ji(),j=2&u;try{if(ns(-1),j&&r.length>xi&&_g(n,r,xi,!1),oe(j?2:0,y),j)w.runInContext(o,u,y);else{const ye=Mn(null);try{o(u,y)}finally{Mn(ye)}}}finally{j&&null===r[Ho]&&rp(r,Ho),ns(P),oe(j?3:1,y)}}function Jh(n,r,o){if(Wo(r)){const u=Mn(null);try{const w=r.directiveEnd;for(let P=r.directiveStart;P<w;P++){const j=n.data[P];j.contentQueries&&j.contentQueries(1,o[P],P)}}finally{Mn(u)}}}function ef(n,r,o){yo()&&(function Pg(n,r,o,u){const y=o.directiveStart,w=o.directiveEnd;No(o)&&function Lg(n,r,o){const u=sn(r,n),P=dp(n,nu(n,lp(o),null,o.onPush?64:16,u,r,null,n[zi].rendererFactory.createRenderer(u,o),null,null,null));n[r.index]=P}(r,o,n.data[y+o.componentOffset]),n.firstCreatePass||At(o,r),Da(u,r);const P=o.initialInputs;for(let j=y;j<w;j++){const X=n.data[j],ye=Vr(r,n,j,o);Da(ye,r),null!==P&&Bg(0,j-y,ye,X,0,P),So(X)&&(qr(o.index,r)[Qr]=Vr(r,n,j,o))}}(n,r,o,sn(o,r)),64==(64&o.flags)&&Rg(n,r,o))}function tf(n,r,o=sn){const u=r.localNames;if(null!==u){let y=r.index+1;for(let w=0;w<u.length;w+=2){const P=u[w+1],j=-1===P?o(r,n):n[P];n[y++]=j}}}function lp(n){const r=n.tView;return null===r||r.incompleteFirstPass?n.tView=Cg(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):r}function Cg(n,r,o,u,y,w,P,j,X,ye,Fe){const ot=xi+u,Ht=ot+y,hn=function Iv(n,r){const o=[];for(let u=0;u<r;u++)o.push(u<n?null:Xs);return o}(ot,Ht),zn="function"==typeof ye?ye():ye;return hn[An]={type:n,blueprint:hn,template:o,queries:null,viewQuery:j,declTNode:r,data:hn.slice().fill(null,ot),bindingStartIndex:ot,expandoStartIndex:Ht,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof w?w():w,pipeRegistry:"function"==typeof P?P():P,firstChild:null,schemas:X,consts:zn,incompleteFirstPass:!1,ssrId:Fe}}let ay=n=>null;function Tg(n,r,o,u){for(let y in n)if(n.hasOwnProperty(y)){o=null===o?{}:o;const w=n[y];null===u?Ag(o,r,y,w):u.hasOwnProperty(y)&&Ag(o,r,u[y],w)}return o}function Ag(n,r,o,u){n.hasOwnProperty(o)?n[o].push(r,u):n[o]=[r,u]}function Ul(n,r,o,u,y,w,P,j){const X=sn(r,o);let Fe,ye=r.inputs;!j&&null!=ye&&(Fe=ye[u])?(Vg(n,o,Fe,u,y),No(r)&&function Tv(n,r){const o=qr(r,n);16&o[Fr]||(o[Fr]|=64)}(o,r.index)):3&r.type&&(u=function Sv(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(u),y=null!=P?P(y,r.value||"",u):y,w.setProperty(X,u,y))}function nf(n,r,o,u){if(yo()){const y=null===u?null:{"":-1},w=function fy(n,r){const o=n.directiveRegistry;let u=null,y=null;if(o)for(let P=0;P<o.length;P++){const j=o[P];if(Os(r,j.selectors,!1))if(u||(u=[]),So(j))if(null!==j.findHostDirectiveDefs){const X=[];y=y||new Map,j.findHostDirectiveDefs(j,X,y),u.unshift(...X,j),kg(n,r,X.length)}else u.unshift(j),kg(n,r,0);else{var w;y=y||new Map,null===(w=j.findHostDirectiveDefs)||void 0===w||w.call(j,j,u,y),u.push(j)}}return null===u?null:[u,y]}(n,o);let P,j;null===w?P=j=null:[P,j]=w,null!==P&&hy(n,r,o,P,y,j),y&&function Ng(n,r,o){if(r){const u=n.localNames=[];for(let y=0;y<r.length;y+=2){const w=o[r[y+1]];if(null==w)throw new Be(-301,!1);u.push(r[y],w)}}}(o,u,y)}o.mergedAttrs=qn(o.mergedAttrs,o.attrs)}function hy(n,r,o,u,y,w){for(let ot=0;ot<u.length;ot++)er(At(o,r),n,u[ot].type);!function Fg(n,r,o){n.flags|=1,n.directiveStart=r,n.directiveEnd=r+o,n.providerIndexes=r}(o,n.data.length,u.length);for(let ot=0;ot<u.length;ot++){const Ht=u[ot];Ht.providersResolver&&Ht.providersResolver(Ht)}let P=!1,j=!1,X=Qh(n,r,u.length,null);for(let ot=0;ot<u.length;ot++){const Ht=u[ot];o.mergedAttrs=qn(o.mergedAttrs,Ht.hostAttrs),Mv(n,o,r,X,Ht),xv(X,Ht,y),null!==Ht.contentQueries&&(o.flags|=4),(null!==Ht.hostBindings||null!==Ht.hostAttrs||0!==Ht.hostVars)&&(o.flags|=64);const hn=Ht.type.prototype;var ye,Fe;!P&&(hn.ngOnChanges||hn.ngOnInit||hn.ngDoCheck)&&((null!==(ye=n.preOrderHooks)&&void 0!==ye?ye:n.preOrderHooks=[]).push(o.index),P=!0),j||!hn.ngOnChanges&&!hn.ngDoCheck||((null!==(Fe=n.preOrderCheckHooks)&&void 0!==Fe?Fe:n.preOrderCheckHooks=[]).push(o.index),j=!0),X++}!function Dv(n,r,o){const y=r.directiveEnd,w=n.data,P=r.attrs,j=[];let X=null,ye=null;for(let Fe=r.directiveStart;Fe<y;Fe++){const ot=w[Fe],Ht=o?o.get(ot):null,zn=Ht?Ht.outputs:null;X=Tg(ot.inputs,Fe,X,Ht?Ht.inputs:null),ye=Tg(ot.outputs,Fe,ye,zn);const Cr=null===X||null===P||Fi(r)?null:Yd(X,Fe,P);j.push(Cr)}null!==X&&(X.hasOwnProperty("class")&&(r.flags|=8),X.hasOwnProperty("style")&&(r.flags|=16)),r.initialInputs=j,r.inputs=X,r.outputs=ye}(n,o,w)}function Rg(n,r,o){const u=o.directiveStart,y=o.directiveEnd,w=o.index,P=function Fa(){return fr.lFrame.currentDirectiveIndex}();try{ns(w);for(let j=u;j<y;j++){const X=n.data[j],ye=r[j];ss(j),(null!==X.hostBindings||0!==X.hostVars||null!==X.hostAttrs)&&Og(X,ye)}}finally{ns(-1),ss(P)}}function Og(n,r){null!==n.hostBindings&&n.hostBindings(1,r)}function kg(n,r,o){var u;r.componentOffset=o,(null!==(u=n.components)&&void 0!==u?u:n.components=[]).push(r.index)}function xv(n,r,o){if(o){if(r.exportAs)for(let u=0;u<r.exportAs.length;u++)o[r.exportAs[u]]=n;So(r)&&(o[""]=n)}}function Mv(n,r,o,u,y){n.data[u]=y;const w=y.factory||(y.factory=Bs(y.type)),P=new Yt(w,So(y),Vl);n.blueprint[u]=P,o[u]=P,function Mg(n,r,o,u,y){const w=y.hostBindings;if(w){let P=n.hostBindingOpCodes;null===P&&(P=n.hostBindingOpCodes=[]);const j=~r.index;(function Av(n){let r=n.length;for(;r>0;){const o=n[--r];if("number"==typeof o&&o<0)return o}return 0})(P)!=j&&P.push(j),P.push(o,u,w)}}(n,r,u,Qh(n,o,y.hostVars,Xs),y)}function Mc(n,r,o,u,y,w){const P=sn(n,r);!function rf(n,r,o,u,y,w,P){if(null==w)n.removeAttribute(r,y,o);else{const j=null==P?Mt(w):P(w,u||"",y);n.setAttribute(r,y,j,o)}}(r[Yr],P,w,n.value,o,u,y)}function Bg(n,r,o,u,y,w){const P=w[r];if(null!==P)for(let j=0;j<P.length;)cp(u,o,P[j++],P[j++],P[j++])}function cp(n,r,o,u,y){const w=Mn(null);try{null!==n.setInput?n.setInput(r,y,o,u):r[u]=y}finally{Mn(w)}}function Yd(n,r,o){let u=null,y=0;for(;y<o.length;){const w=o[y];if(0!==w)if(5!==w){if("number"==typeof w)break;if(n.hasOwnProperty(w)){null===u&&(u=[]);const P=n[w];for(let j=0;j<P.length;j+=2)if(P[j]===r){u.push(w,P[j+1],o[y+1]);break}}y+=2}else y+=2;else y+=4}return u}function $g(n,r,o,u){return[n,!0,!1,r,null,0,u,o,null,null,null]}function up(n,r){const o=n.contentQueries;if(null!==o)for(let u=0;u<o.length;u+=2){const w=o[u+1];if(-1!==w){const P=n.data[w];gr(o[u]),P.contentQueries(2,r[w],w)}}}function dp(n,r){return n[ao]?n[ms][Ds]=r:n[ao]=r,n[ms]=r,r}function sf(n,r,o){gr(0);const u=Mn(null);try{r(n,o)}finally{Mn(u)}}function hp(n){return n[wo]||(n[wo]=[])}function py(n){return n.cleanup||(n.cleanup=[])}function gy(n,r){const o=n[zr],u=o?o.get(Gd,null):null;u&&u.handleError(r)}function Vg(n,r,o,u,y){for(let w=0;w<o.length;){const P=o[w++],j=o[w++];cp(n.data[P],r[P],u,j,y)}}function fc(n,r,o){const u=zt(r,n);!function _h(n,r,o){n.setValue(r,o)}(n[Yr],u,o)}function Pv(n,r){const o=qr(r,n),u=o[An];!function Ug(n,r){for(let o=r.length;o<n.blueprint.length;o++)r.push(n.blueprint[o])}(u,o);const y=o[Mr];null!==y&&null===o[lo]&&(o[lo]=jh(y,o[zr])),jg(u,o,o[Qr])}function jg(n,r,o){ya(r);try{const u=n.viewQuery;null!==u&&sf(1,u,o);const y=n.template;null!==y&&oy(n,r,y,1,o),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&up(n,r),n.staticViewQueries&&sf(2,n.viewQuery,o);const w=n.components;null!==w&&function zg(n,r){for(let o=0;o<r.length;o++)Pv(n,r[o])}(r,w)}catch(u){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),u}finally{r[Fr]&=-5,yr()}}let pp=(()=>{class n{constructor(){this.all=new Set,this.queue=new Map}create(o,u,y){const w=typeof Zone>"u"?null:Zone.current,P=new Ta(o,ye=>{this.all.has(ye)&&this.queue.set(ye,w)},y);let j;this.all.add(P),P.notify();const X=()=>{var ye;P.cleanup(),null===(ye=j)||void 0===ye||ye(),this.all.delete(P),this.queue.delete(P)};return j=null==u?void 0:u.onDestroy(X),{destroy:X}}flush(){if(0!==this.queue.size)for(const[o,u]of this.queue)this.queue.delete(o),u?u.run(()=>o.run()):o.run()}get isQueueEmpty(){return 0===this.queue.size}}return n.\u0275prov=_t({token:n,providedIn:"root",factory:()=>new n}),n})();function gp(n,r,o){let u=o?n.styles:null,y=o?n.classes:null,w=0;if(null!==r)for(let P=0;P<r.length;P++){const j=r[P];"number"==typeof j?w=j:1==w?y=Le(y,j):2==w&&(u=Le(u,j+": "+r[++P]+";"))}o?n.styles=u:n.stylesWithoutHost=u,o?n.classes=y:n.classesWithoutHost=y}function af(n,r,o,u,y=!1){for(;null!==o;){const w=r[o.index];if(null!==w&&u.push(at(w)),ki(w)){for(let j=vs;j<w.length;j++){const X=w[j],ye=X[An].firstChild;null!==ye&&af(X[An],X,ye,u)}w[Ss]!==w[Mr]&&u.push(w[Ss])}const P=o.type;if(8&P)af(n,r,o.child,u);else if(32&P){const j=fu(o,r);let X;for(;X=j();)u.push(X)}else if(16&P){const j=kf(r,o);if(Array.isArray(j))u.push(...j);else{const X=Bu(r[Qi]);af(X[An],X,j,u,!0)}}o=y?o.projectionNext:o.next}return u}function qd(n,r,o,u=!0){const y=r[zi].rendererFactory;y.begin&&y.begin();try{Zd(n,r,n.template,o)}catch(j){throw u&&gy(r,j),j}finally{var P;y.end&&y.end(),null===(P=r[zi].effectManager)||void 0===P||P.flush()}}function Zd(n,r,o,u){var y;const w=r[Fr];if(256!=(256&w)){null===(y=r[zi].effectManager)||void 0===y||y.flush(),ya(r);try{Q(r),function el(n){return fr.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==o&&oy(n,r,o,2,u);const j=3==(3&w);if(j){const Fe=n.preOrderCheckHooks;null!==Fe&&V(r,Fe,null)}else{const Fe=n.preOrderHooks;null!==Fe&&H(r,Fe,0,null),R(r,0)}if(function kv(n){for(let r=Id(n);null!==r;r=Ec(r)){if(!r[Oi])continue;const o=r[qs];for(let u=0;u<o.length;u++){Pe(o[u])}}}(r),function Gg(n){for(let r=Id(n);null!==r;r=Ec(r))for(let o=vs;o<r.length;o++){const u=r[o],y=u[An];Ps(u)&&Zd(y,u,y.template,u[Qr])}}(r),null!==n.contentQueries&&up(n,r),j){const Fe=n.contentCheckHooks;null!==Fe&&V(r,Fe)}else{const Fe=n.contentHooks;null!==Fe&&H(r,Fe,1),R(r,1)}!function Kd(n,r){const o=n.hostBindingOpCodes;if(null===o)return;const u=id(r,ys);try{for(let y=0;y<o.length;y++){const w=o[y];if(w<0)ns(~w);else{const P=w,j=o[++y],X=o[++y];yi(j,P),u.runInContext(X,2,r[P])}}}finally{null===r[ys]&&rp(r,ys),ns(-1)}}(n,r);const X=n.components;null!==X&&function Yg(n,r){for(let o=0;o<r.length;o++)lf(n,r[o])}(r,X);const ye=n.viewQuery;if(null!==ye&&sf(2,ye,u),j){const Fe=n.viewCheckHooks;null!==Fe&&V(r,Fe)}else{const Fe=n.viewHooks;null!==Fe&&H(r,Fe,2),R(r,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),r[Fr]&=-73,vt(r)}finally{yr()}}}function lf(n,r){const o=qr(r,n);if(Ps(o)){const u=o[An];80&o[Fr]?Zd(u,o,u.template,o[Qr]):o[Ao]>0&&Kg(o)}}function Kg(n){for(let u=Id(n);null!==u;u=Ec(u))for(let y=vs;y<u.length;y++){const w=u[y];if(Ps(w))if(1024&w[Fr]){const P=w[An];Zd(P,w,P.template,w[Qr])}else w[Ao]>0&&Kg(w)}const o=n[An].components;if(null!==o)for(let u=0;u<o.length;u++){const y=qr(o[u],n);Ps(y)&&y[Ao]>0&&Kg(y)}}class Xd{get rootNodes(){const r=this._lView,o=r[An];return af(o,r,o.firstChild,[])}constructor(r,o){this._lView=r,this._cdRefInjectingView=o,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Qr]}set context(r){this._lView[Qr]=r}get destroyed(){return 256==(256&this._lView[Fr])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const r=this._lView[Lr];if(ki(r)){const o=r[co],u=o?o.indexOf(this):-1;u>-1&&(Uu(r,u),pl(o,u))}this._attachedToViewContainer=!1}Ih(this._lView[An],this._lView)}onDestroy(r){!function Rn(n,r){if(256==(256&n[Fr]))throw new Be(911,!1);null===n[Hs]&&(n[Hs]=[]),n[Hs].push(r)}(this._lView,r)}markForCheck(){Wd(this._cdRefInjectingView||this._lView)}detach(){this._lView[Fr]&=-129}reattach(){this._lView[Fr]|=128}detectChanges(){qd(this._lView[An],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Be(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Tl(n,r){Hu(n,r,r[Yr],2,null,null)}(this._lView[An],this._lView)}attachToAppRef(r){if(this._attachedToViewContainer)throw new Be(902,!1);this._appRef=r}}class Qd extends Xd{constructor(r){super(r),this._view=r}detectChanges(){const r=this._view;qd(r[An],r,r[Qr],!1)}checkNoChanges(){}get context(){return null}}class qg extends Kh{constructor(r){super(),this.ngModule=r}resolveComponentFactory(r){const o=wt(r);return new uf(o,this.ngModule)}}function cf(n){const r=[];for(let o in n)n.hasOwnProperty(o)&&r.push({propName:n[o],templateName:o});return r}class Fv{constructor(r,o){this.injector=r,this.parentInjector=o}get(r,o,u){u=jr(u);const y=this.injector.get(r,qh,u);return y!==qh||o===qh?y:this.parentInjector.get(r,o,u)}}class uf extends Gh{get inputs(){return cf(this.componentDef.inputs)}get outputs(){return cf(this.componentDef.outputs)}constructor(r,o){super(),this.componentDef=r,this.ngModule=o,this.componentType=r.type,this.selector=function zs(n){return n.map(Hi).join(",")}(r.selectors),this.ngContentSelectors=r.ngContentSelectors?r.ngContentSelectors:[],this.isBoundToModule=!!o}create(r,o,u,y){var w;let P=(y=y||this.ngModule)instanceof Cu?y:null===(w=y)||void 0===w?void 0:w.injector;P&&null!==this.componentDef.getStandaloneInjector&&(P=this.componentDef.getStandaloneInjector(P)||P);const j=P?new Fv(r,P):r,X=j.get(Ym,null);if(null===X)throw new Be(407,!1);const ot={rendererFactory:X,sanitizer:j.get(qm,null),effectManager:j.get(pp,null)},Ht=X.createRenderer(null,this.componentDef),hn=this.componentDef.selectors[0][0]||"div",zn=u?function Dg(n,r,o,u){const w=u.get(nd,!1)||o===Ke.ShadowDom,P=n.selectRootElement(r,w);return function Sg(n){ay(n)}(P),P}(Ht,u,this.componentDef.encapsulation,j):pu(Ht,hn,function Nv(n){const r=n.toLowerCase();return"svg"===r?"svg":"math"===r?"math":null}(hn)),Cr=this.componentDef.onPush?576:528,Hr=Cg(0,null,null,1,0,null,null,null,null,null,null),_i=nu(null,Hr,null,Cr,null,null,ot,Ht,j,null,null);let cr,js;ya(_i);try{const oo=this.componentDef;let ea,yc=null;oo.findHostDirectiveDefs?(ea=[],yc=new Map,oo.findHostDirectiveDefs(oo,ea,yc),ea.push(oo)):ea=[oo];const YE=function Xg(n,r){const o=n[An],u=xi;return n[u]=r,sd(o,u,2,"#host",null)}(_i,zn),AD=function Qg(n,r,o,u,y,w,P){const j=y[An];!function Jg(n,r,o,u){for(const y of n)r.mergedAttrs=qn(r.mergedAttrs,y.hostAttrs);null!==r.mergedAttrs&&(gp(r,r.mergedAttrs,!0),null!==o&&Ph(u,o,r))}(u,n,r,P);let X=null;null!==r&&(X=jh(r,y[zr]));const ye=w.rendererFactory.createRenderer(r,o),Fe=nu(y,lp(o),null,o.onPush?64:16,y[n.index],n,w,ye,null,null,X);return j.firstCreatePass&&kg(j,n,u.length-1),dp(y,Fe),y[n.index]=Fe}(YE,zn,oo,ea,_i,ot,Ht);js=or(Hr,xi),zn&&function em(n,r,o,u){if(u)Bt(n,o,["ng-version",Hd.full]);else{const{attrs:y,classes:w}=function ks(n){const r=[],o=[];let u=1,y=2;for(;u<n.length;){let w=n[u];if("string"==typeof w)2===y?""!==w&&r.push(w,n[++u]):8===y&&o.push(w);else{if(!Gr(y))break;y=w}u++}return{attrs:r,classes:o}}(r.selectors[0]);y&&Bt(n,o,y),w&&w.length>0&&Dc(n,o,w.join(" "))}}(Ht,oo,zn,u),void 0!==o&&function tm(n,r,o){const u=n.projection=[];for(let y=0;y<r.length;y++){const w=o[y];u.push(null!=w?Array.from(w):null)}}(js,this.ngContentSelectors,o),cr=function yy(n,r,o,u,y,w){const P=Yi(),j=y[An],X=sn(P,y);hy(j,y,P,o,null,u);for(let Fe=0;Fe<o.length;Fe++)Da(Vr(y,j,P.directiveStart+Fe,P),y);Rg(j,y,P),X&&Da(X,y);const ye=Vr(y,j,P.directiveStart+P.componentOffset,P);if(n[Qr]=y[Qr]=ye,null!==w)for(const Fe of w)Fe(ye,r);return Jh(j,P,n),ye}(AD,oo,ea,yc,_i,[mp]),jg(Hr,_i,null)}finally{yr()}return new Lv(this.componentType,cr,tu(js,_i),_i,js)}}class Lv extends Wh{constructor(r,o,u,y,w){super(),this.location=u,this._rootLView=y,this._tNode=w,this.previousInputValues=null,this.instance=o,this.hostView=this.changeDetectorRef=new Qd(y),this.componentType=r}setInput(r,o){const u=this._tNode.inputs;let y;if(null!==u&&(y=u[r])){var w;if(null!==(w=this.previousInputValues)&&void 0!==w||(this.previousInputValues=new Map),this.previousInputValues.has(r)&&Object.is(this.previousInputValues.get(r),o))return;const P=this._rootLView;Vg(P[An],P,y,r,o),this.previousInputValues.set(r,o),Wd(qr(this._tNode.index,P))}}get injector(){return new Vs(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(r){this.hostView.onDestroy(r)}}function mp(){const n=Yi();jo(Kn()[An],n)}function vp(n){let r=function yp(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),o=!0;const u=[n];for(;r;){let y;if(So(n))y=r.\u0275cmp||r.\u0275dir;else{if(r.\u0275cmp)throw new Be(903,!1);y=r.\u0275dir}if(y){if(o){u.push(y);const P=n;P.inputs=bp(n.inputs),P.declaredInputs=bp(n.declaredInputs),P.outputs=bp(n.outputs);const j=y.hostBindings;j&&Jd(n,j);const X=y.viewQuery,ye=y.contentQueries;if(X&&nm(n,X),ye&&vy(n,ye),Re(n.inputs,y.inputs),Re(n.declaredInputs,y.declaredInputs),Re(n.outputs,y.outputs),So(y)&&y.data.animation){const Fe=n.data;Fe.animation=(Fe.animation||[]).concat(y.data.animation)}}const w=y.features;if(w)for(let P=0;P<w.length;P++){const j=w[P];j&&j.ngInherit&&j(n),j===vp&&(o=!1)}}r=Object.getPrototypeOf(r)}!function _p(n){let r=0,o=null;for(let u=n.length-1;u>=0;u--){const y=n[u];y.hostVars=r+=y.hostVars,y.hostAttrs=qn(y.hostAttrs,o=qn(o,y.hostAttrs))}}(u)}function bp(n){return n===xt?{}:n===rt?[]:n}function nm(n,r){const o=n.viewQuery;n.viewQuery=o?(u,y)=>{r(u,y),o(u,y)}:r}function vy(n,r){const o=n.contentQueries;n.contentQueries=o?(u,y,w)=>{r(u,y,w),o(u,y,w)}:r}function Jd(n,r){const o=n.hostBindings;n.hostBindings=o?(u,y)=>{r(u,y),o(u,y)}:r}function Ep(n){return!!df(n)&&(Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n)}function df(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function sl(n,r,o){return!Object.is(n[r],o)&&(n[r]=o,!0)}function od(n,r,o,u){const y=Kn();return sl(y,Vi(),r)&&(Bn(),Mc(qi(),y,n,r,o,u)),od}function da(n,r,o,u){return sl(n,Vi(),o)?r+Mt(o)+u:Xs}function Ua(n,r,o,u,y,w){const j=function so(n,r,o,u){const y=sl(n,r,o);return sl(n,r+1,u)||y}(n,function Jo(){return fr.lFrame.bindingIndex}(),o,y);return sa(2),j?r+Mt(o)+u+Mt(y)+w:Xs}function dm(n,r,o,u,y,w,P,j){const X=Kn(),ye=Bn(),Fe=n+xi,ot=ye.firstCreatePass?function ud(n,r,o,u,y,w,P,j,X){const ye=r.consts,Fe=sd(r,n,4,P||null,ue(ye,j));nf(r,o,Fe,ue(ye,X)),jo(r,Fe);const ot=Fe.tView=Cg(2,Fe,u,y,w,r.directiveRegistry,r.pipeRegistry,null,r.schemas,ye,null);return null!==r.queries&&(r.queries.template(r,Fe),ot.queries=r.queries.embeddedTView(Fe)),Fe}(Fe,ye,X,r,o,u,y,w,P):ye.data[Fe];xa(ot,!1);const Ht=hm(ye,X,ot,n);Ya()&&xh(ye,X,Ht,ot),Da(Ht,X),dp(X,X[Fe]=$g(Ht,X,Ht,ot)),uo(ot)&&ef(ye,X,ot),null!=P&&tf(X,ot,j)}let hm=function Dp(n,r,o,u){return Xo(!0),r[Yr].createComment("")};function mf(n){return function Jr(n,r){return n[r]}(function Zo(){return fr.lFrame.contextLView}(),xi+n)}function Tp(n,r,o){const u=Kn();return sl(u,Vi(),r)&&Ul(Bn(),qi(),u,n,r,u[Yr],o,!1),Tp}function dd(n,r,o,u,y){const P=y?"class":"style";Vg(n,o,r.inputs[P],P,u)}function hd(n,r,o,u){const y=Kn(),w=Bn(),P=xi+n,j=y[Yr],X=w.firstCreatePass?function Qv(n,r,o,u,y,w){const P=r.consts,X=sd(r,n,2,u,ue(P,y));return nf(r,o,X,ue(P,w)),null!==X.attrs&&gp(X,X.attrs,!1),null!==X.mergedAttrs&&gp(X,X.mergedAttrs,!0),null!==r.queries&&r.queries.elementStart(r,X),X}(P,w,y,r,o,u):w.data[P],ye=oh(w,y,X,j,r,n);y[P]=ye;const Fe=uo(X);return xa(X,!0),Ph(j,ye,X),32!=(32&X.flags)&&Ya()&&xh(w,y,ye,X),0===function Li(){return fr.lFrame.elementDepthCount}()&&Da(ye,y),function ds(){fr.lFrame.elementDepthCount++}(),Fe&&(ef(w,y,X),Jh(w,X,y)),null!==u&&tf(y,X),hd}function yf(){let n=Yi();dl()?al():(n=n.parent,xa(n,!1));const r=n;(function Bi(n){return fr.skipHydrationRootTNode===n})(r)&&function ii(){fr.skipHydrationRootTNode=null}(),function Is(){fr.lFrame.elementDepthCount--}();const o=Bn();return o.firstCreatePass&&(jo(o,n),Wo(n)&&o.queries.elementEnd(n)),null!=r.classesWithoutHost&&function ko(n){return 0!=(8&n.flags)}(r)&&dd(o,r,Kn(),r.classesWithoutHost,!0),null!=r.stylesWithoutHost&&function m(n){return 0!=(16&n.flags)}(r)&&dd(o,r,Kn(),r.stylesWithoutHost,!1),yf}function vf(n,r,o,u){return hd(n,r,o,u),yf(),vf}let oh=(n,r,o,u,y,w)=>(Xo(!0),pu(u,y,function fa(){return fr.lFrame.currentNamespace}()));function Ou(n,r,o){const u=Kn(),y=Bn(),w=n+xi,P=y.firstCreatePass?function e_(n,r,o,u,y){const w=r.consts,P=ue(w,u),j=sd(r,n,8,"ng-container",P);return null!==P&&gp(j,P,!0),nf(r,o,j,ue(w,y)),null!==r.queries&&r.queries.elementStart(r,j),j}(w,y,u,r,o):y.data[w];xa(P,!0);const j=Ap(y,u,P,n);return u[w]=j,Ya()&&xh(y,u,j,P),Da(j,u),uo(P)&&(ef(y,u,P),Jh(y,P,u)),null!=o&&tf(u,P),Ou}function ky(){let n=Yi();const r=Bn();return dl()?al():(n=n.parent,xa(n,!1)),r.firstCreatePass&&(jo(r,n),Wo(n)&&r.queries.elementEnd(n)),ky}function Ny(n,r,o){return Ou(n,r,o),ky(),Ny}let Ap=(n,r,o,u)=>(Xo(!0),wc(r[Yr],""));function Fy(){return Kn()}function fm(n){return!!n&&"function"==typeof n.then}function bf(n){return!!n&&"function"==typeof n.subscribe}function pm(n,r,o,u){const y=Kn(),w=Bn(),P=Yi();return function By(n,r,o,u,y,w,P){const j=uo(u),ye=n.firstCreatePass&&py(n),Fe=r[Qr],ot=hp(r);let Ht=!0;if(3&u.type||P){const Cr=sn(u,r),Hr=P?P(Cr):Cr,_i=ot.length,cr=P?oo=>P(at(oo[u.index])):u.index;let js=null;if(!P&&j&&(js=function Mp(n,r,o,u){const y=n.cleanup;if(null!=y)for(let w=0;w<y.length-1;w+=2){const P=y[w];if(P===o&&y[w+1]===u){const j=r[wo],X=y[w+2];return j.length>X?j[X]:null}"string"==typeof P&&(w+=2)}return null}(n,r,y,u.index)),null!==js)(js.__ngLastListenerFn__||js).__ngNextListenerFn__=w,js.__ngLastListenerFn__=w,Ht=!1;else{w=gm(u,r,Fe,w,!1);const oo=o.listen(Hr,y,w);ot.push(w,oo),ye&&ye.push(y,cr,_i,_i+1)}}else w=gm(u,r,Fe,w,!1);const hn=u.outputs;let zn;if(Ht&&null!==hn&&(zn=hn[y])){const Cr=zn.length;if(Cr)for(let Hr=0;Hr<Cr;Hr+=2){const ea=r[zn[Hr]][zn[Hr+1]].subscribe(w),yc=ot.length;ot.push(w,ea),ye&&ye.push(y,u.index,yc,-(yc+1))}}}(w,y,y[Yr],P,n,r,u),pm}function $y(n,r,o,u){try{return oe(6,r,o),!1!==o(u)}catch(y){return gy(n,y),!1}finally{oe(7,r,o)}}function gm(n,r,o,u,y){return function w(P){if(P===Function)return u;Wd(n.componentOffset>-1?qr(n.index,r):r);let X=$y(r,o,u,P),ye=w.__ngNextListenerFn__;for(;ye;)X=$y(r,o,ye,P)&&X,ye=ye.__ngNextListenerFn__;return y&&!1===X&&(P.preventDefault(),P.returnValue=!1),X}}function mm(n=1){return function Ui(n){return(fr.lFrame.contextLView=function Wi(n,r){for(;n>0;)r=r[Ni],n--;return r}(n,fr.lFrame.contextLView))[Qr]}(n)}function Vy(n,r){let o=null;const u=function to(n){const r=n.attrs;if(null!=r){const o=r.indexOf(5);if(!(1&o))return r[o+1]}return null}(n);for(let y=0;y<r.length;y++){const w=r[y];if("*"!==w){if(null===u?Os(n,w,!0):Eo(u,w))return y}else o=y}return o}function ym(n){const r=Kn()[Qi][is];if(!r.projection){const u=r.projection=Pl(n?n.length:1,null),y=u.slice();let w=r.child;for(;null!==w;){const P=n?Vy(w,n):0;null!==P&&(y[P]?y[P].projectionNext=w:u[P]=w,y[P]=w),w=w.next}}}function vm(n,r=0,o){const u=Kn(),y=Bn(),w=sd(y,xi+n,16,null,o||null);null===w.projection&&(w.projection=r),al(),(!u[lo]||function Wn(){return null!==fr.skipHydrationRootTNode}())&&32!=(32&w.flags)&&function Oa(n,r,o){Md(r[Yr],0,r,o,Dd(n,o,r),Sh(o.parent||r[is],o,r))}(y,u,w)}function Pp(n,r,o){return Ef(n,"",r,"",o),Pp}function Ef(n,r,o,u,y){const w=Kn(),P=da(w,r,o,u);return P!==Xs&&Ul(Bn(),qi(),w,n,P,w[Yr],y,!1),Ef}function Rc(n,r){return n<<17|r<<2}function ql(n){return n>>17&32767}function _m(n){return 2|n}function pd(n){return(131068&n)>>2}function Oc(n,r){return-131069&n|r<<2}function bm(n){return 1|n}function zy(n,r,o,u,y){const w=n[o+1],P=null===r;let j=u?ql(w):pd(w),X=!1;for(;0!==j&&(!1===X||P);){const Fe=n[j+1];u_(n[j],r)&&(X=!0,n[j+1]=u?bm(Fe):_m(Fe)),j=u?ql(Fe):pd(Fe)}X&&(n[o+1]=u?_m(w):bm(w))}function u_(n,r){return null===n||null==r||(Array.isArray(n)?n[1]:n)===r||!(!Array.isArray(n)||"string"!=typeof r)&&Fo(n,r)>=0}function Em(n,r){return function ul(n,r,o,u){const y=Kn(),w=Bn(),P=sa(2);w.firstUpdatePass&&function qy(n,r,o,u){const y=n.data;if(null===y[o+1]){const w=y[Ji()],P=function Yy(n,r){return r>=n.expandoStartIndex}(n,o);(function G(n,r){return 0!=(n.flags&(r?8:16))})(w,u)&&null===r&&!P&&(r=!1),r=function y_(n,r,o,u){const y=function Ga(n){const r=fr.lFrame.currentDirectiveIndex;return-1===r?null:n[r]}(n);let w=u?r.residualClasses:r.residualStyles;if(null===y)0===(u?r.classBindings:r.styleBindings)&&(o=Op(o=Zy(null,n,r,o,u),r.attrs,u),w=null);else{const P=r.directiveStylingLast;if(-1===P||n[P]!==y)if(o=Zy(y,n,r,o,u),null===w){let X=function v_(n,r,o){const u=o?r.classBindings:r.styleBindings;if(0!==pd(u))return n[ql(u)]}(n,r,u);void 0!==X&&Array.isArray(X)&&(X=Zy(null,n,r,X[1],u),X=Op(X,r.attrs,u),function __(n,r,o,u){n[ql(o?r.classBindings:r.styleBindings)]=u}(n,r,u,X))}else w=function b_(n,r,o){let u;const y=r.directiveEnd;for(let w=1+r.directiveStylingLast;w<y;w++)u=Op(u,n[w].hostAttrs,o);return Op(u,r.attrs,o)}(n,r,u)}return void 0!==w&&(u?r.residualClasses=w:r.residualStyles=w),o}(y,w,r,u),function l_(n,r,o,u,y,w){let P=w?r.classBindings:r.styleBindings,j=ql(P),X=pd(P);n[u]=o;let Fe,ye=!1;if(Array.isArray(o)?(Fe=o[1],(null===Fe||Fo(o,Fe)>0)&&(ye=!0)):Fe=o,y)if(0!==X){const Ht=ql(n[j+1]);n[u+1]=Rc(Ht,j),0!==Ht&&(n[Ht+1]=Oc(n[Ht+1],u)),n[j+1]=function o_(n,r){return 131071&n|r<<17}(n[j+1],u)}else n[u+1]=Rc(j,0),0!==j&&(n[j+1]=Oc(n[j+1],u)),j=u;else n[u+1]=Rc(X,0),0===j?j=u:n[X+1]=Oc(n[X+1],u),X=u;ye&&(n[u+1]=_m(n[u+1])),zy(n,Fe,u,!0),zy(n,Fe,u,!1),function c_(n,r,o,u,y){const w=y?n.residualClasses:n.residualStyles;null!=w&&"string"==typeof r&&Fo(w,r)>=0&&(o[u+1]=bm(o[u+1]))}(r,Fe,n,u,w),P=Rc(j,X),w?r.classBindings=P:r.styleBindings=P}(y,w,r,o,P,u)}}(w,n,P,u),r!==Xs&&sl(y,P,r)&&function a(n,r,o,u,y,w,P,j){if(!(3&r.type))return;const X=n.data,ye=X[j+1],Fe=function a_(n){return 1==(1&n)}(ye)?h(X,r,o,y,pd(ye),P):void 0;b(Fe)||(b(w)||function fd(n){return 2==(2&n)}(ye)&&(w=h(X,null,o,y,j,P)),function ka(n,r,o,u,y){if(r)y?n.addClass(o,u):n.removeClass(o,u);else{let w=-1===u.indexOf("-")?void 0:$a.DashCase;null==y?n.removeStyle(o,u,w):("string"==typeof y&&y.endsWith("!important")&&(y=y.slice(0,-10),w|=$a.Important),n.setStyle(o,u,y,w))}}(u,P,zt(Ji(),o),y,w))}(w,w.data[Ji()],y,y[Yr],n,y[P+1]=function T(n,r){return null==n||""===n||("string"==typeof r?n+=r:"object"==typeof n&&(n=Ze(hc(n)))),n}(r,o),u,P)}(n,r,null,!0),Em}function Zy(n,r,o,u,y){let w=null;const P=o.directiveEnd;let j=o.directiveStylingLast;for(-1===j?j=o.directiveStart:j++;j<P&&(w=r[j],u=Op(u,w.hostAttrs,y),w!==n);)j++;return null!==n&&(o.directiveStylingLast=j),u}function Op(n,r,o){const u=o?1:2;let y=-1;if(null!==r)for(let w=0;w<r.length;w++){const P=r[w];"number"==typeof P?y=P:y===u&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),zo(n,P,!!o||r[++w]))}return void 0===n?null:n}function h(n,r,o,u,y,w){const P=null===r;let j;for(;y>0;){const X=n[y],ye=Array.isArray(X),Fe=ye?X[1]:X,ot=null===Fe;let Ht=o[y+1];Ht===Xs&&(Ht=ot?rt:void 0);let hn=ot?tc(Ht,u):Fe===u?Ht:void 0;if(ye&&!b(hn)&&(hn=tc(X,u)),b(hn)&&(j=hn,P))return j;const zn=n[y+1];y=P?ql(zn):pd(zn)}if(null!==r){let X=w?r.residualClasses:r.residualStyles;null!=X&&(j=tc(X,u))}return j}function b(n){return void 0!==n}function ae(n,r=""){const o=Kn(),u=Bn(),y=n+xi,w=u.firstCreatePass?sd(u,y,1,r,null):u.data[y],P=we(u,o,w,r,n);o[y]=P,Ya()&&xh(u,o,P,w),xa(w,!1)}let we=(n,r,o,u,y)=>(Xo(!0),function Vu(n,r){return n.createText(r)}(r[Yr],u));function bn(n){return Vn("",n,""),bn}function Vn(n,r,o){const u=Kn(),y=da(u,n,r,o);return y!==Xs&&fc(u,Ji(),y),Vn}function Tr(n,r,o,u,y){const w=Kn(),P=Ua(w,n,r,o,u,y);return P!==Xs&&fc(w,Ji(),P),Tr}const If=void 0;var dw=["en",[["a","p"],["AM","PM"],If],[["AM","PM"],If,If],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],If,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],If,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",If,"{1} 'at' {0}",If],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function uw(n){const o=Math.floor(Math.abs(n)),u=n.toString().replace(/^[^.]*\.?/,"").length;return 1===o&&0===u?1:5}];let kp={};function E_(n){const r=function hw(n){return n.toLowerCase().replace(/_/g,"-")}(n);let o=V0(r);if(o)return o;const u=r.split("-")[0];if(o=V0(u),o)return o;if("en"===u)return dw;throw new Be(701,!1)}function $0(n){return E_(n)[_s.PluralCase]}function V0(n){return n in kp||(kp[n]=lr.ng&&lr.ng.common&&lr.ng.common.locales&&lr.ng.common.locales[n]),kp[n]}var _s=(()=>((_s=_s||{})[_s.LocaleId=0]="LocaleId",_s[_s.DayPeriodsFormat=1]="DayPeriodsFormat",_s[_s.DayPeriodsStandalone=2]="DayPeriodsStandalone",_s[_s.DaysFormat=3]="DaysFormat",_s[_s.DaysStandalone=4]="DaysStandalone",_s[_s.MonthsFormat=5]="MonthsFormat",_s[_s.MonthsStandalone=6]="MonthsStandalone",_s[_s.Eras=7]="Eras",_s[_s.FirstDayOfWeek=8]="FirstDayOfWeek",_s[_s.WeekendRange=9]="WeekendRange",_s[_s.DateFormat=10]="DateFormat",_s[_s.TimeFormat=11]="TimeFormat",_s[_s.DateTimeFormat=12]="DateTimeFormat",_s[_s.NumberSymbols=13]="NumberSymbols",_s[_s.NumberFormats=14]="NumberFormats",_s[_s.CurrencyCode=15]="CurrencyCode",_s[_s.CurrencySymbol=16]="CurrencySymbol",_s[_s.CurrencyName=17]="CurrencyName",_s[_s.Currencies=18]="Currencies",_s[_s.Directionality=19]="Directionality",_s[_s.PluralCase=20]="PluralCase",_s[_s.ExtraData=21]="ExtraData",_s))();const Np="en-US";let U0=Np;function C_(n,r,o,u,y){if(n=Me(n),Array.isArray(n))for(let w=0;w<n.length;w++)C_(n[w],r,o,u,y);else{const w=Bn(),P=Kn();let j=Iu(n)?n:Me(n.provide),X=tg(n);const ye=Yi(),Fe=1048575&ye.providerIndexes,ot=ye.directiveStart,Ht=ye.providerIndexes>>20;if(Iu(n)||!n.multi){const hn=new Yt(X,y,Vl),zn=S_(j,r,y?Fe:Fe+Ht,ot);-1===zn?(er(At(ye,P),w,j),D_(w,n,r.length),r.push(j),ye.directiveStart++,ye.directiveEnd++,y&&(ye.providerIndexes+=1048576),o.push(hn),P.push(hn)):(o[zn]=hn,P[zn]=hn)}else{const hn=S_(j,r,Fe+Ht,ot),zn=S_(j,r,Fe,Fe+Ht),Hr=zn>=0&&o[zn];if(y&&!Hr||!y&&!(hn>=0&&o[hn])){er(At(ye,P),w,j);const _i=function cI(n,r,o,u,y){const w=new Yt(n,o,Vl);return w.multi=[],w.index=r,w.componentProviders=0,hb(w,y,u&&!o),w}(y?lI:aI,o.length,y,u,X);!y&&Hr&&(o[zn].providerFactory=_i),D_(w,n,r.length,0),r.push(j),ye.directiveStart++,ye.directiveEnd++,y&&(ye.providerIndexes+=1048576),o.push(_i),P.push(_i)}else D_(w,n,hn>-1?hn:zn,hb(o[y?zn:hn],X,!y&&u));!y&&u&&Hr&&o[zn].componentProviders++}}}function D_(n,r,o,u){const y=Iu(r),w=function hv(n){return!!n.useClass}(r);if(y||w){const X=(w?Me(r.useClass):r).prototype.ngOnDestroy;if(X){const ye=n.destroyHooks||(n.destroyHooks=[]);if(!y&&r.multi){const Fe=ye.indexOf(o);-1===Fe?ye.push(o,[u,X]):ye[Fe+1].push(u,X)}else ye.push(o,X)}}}function hb(n,r,o){return o&&n.componentProviders++,n.multi.push(r)-1}function S_(n,r,o,u){for(let y=o;y<u;y++)if(r[y]===n)return y;return-1}function aI(n,r,o,u){return T_(this.multi,[])}function lI(n,r,o,u){const y=this.multi;let w;if(this.providerFactory){const P=this.providerFactory.componentProviders,j=Vr(o,o[An],this.providerFactory.index,u);w=j.slice(0,P),T_(y,w);for(let X=P;X<j.length;X++)w.push(j[X])}else w=[],T_(y,w);return w}function T_(n,r){for(let o=0;o<n.length;o++)r.push((0,n[o])());return r}function fb(n,r=[]){return o=>{o.providersResolver=(u,y)=>function oI(n,r,o){const u=Bn();if(u.firstCreatePass){const y=So(n);C_(o,u.data,u.blueprint,y,!0),C_(r,u.data,u.blueprint,y,!1)}}(u,y?y(n):n,r)}}class Fp{}class pb{}function uI(n,r){return new A_(n,null!=r?r:null,[])}class A_ extends Fp{constructor(r,o,u){super(),this._parent=o,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new qg(this);const y=jn(r);this._bootstrapComponents=xc(y.bootstrap),this._r3Injector=op(r,o,[{provide:Fp,useValue:this},{provide:Kh,useValue:this.componentFactoryResolver},...u],Ze(r),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(r)}get injector(){return this._r3Injector}destroy(){const r=this._r3Injector;!r.destroyed&&r.destroy(),this.destroyCbs.forEach(o=>o()),this.destroyCbs=null}onDestroy(r){this.destroyCbs.push(r)}}class x_ extends pb{constructor(r){super(),this.moduleType=r}create(r){return new A_(this.moduleType,r,[])}}class gb extends Fp{constructor(r){super(),this.componentFactoryResolver=new qg(this),this.instance=null;const o=new eg([...r.providers,{provide:Fp,useValue:this},{provide:Kh,useValue:this.componentFactoryResolver}],r.parent||Wf(),r.debugName,new Set(["environment"]));this.injector=o,r.runEnvironmentInitializers&&o.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(r){this.injector.onDestroy(r)}}function mb(n,r,o=null){return new gb({providers:n,parent:r,debugName:o,runEnvironmentInitializers:!0}).injector}let hI=(()=>{class n{constructor(o){this._injector=o,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(o){if(!o.standalone)return null;if(!this.cachedInjectors.has(o.id)){const u=Yu(0,o.type),y=u.length>0?mb([u],this._injector,`Standalone[${o.type.name}]`):null;this.cachedInjectors.set(o.id,y)}return this.cachedInjectors.get(o.id)}ngOnDestroy(){try{for(const o of this.cachedInjectors.values())null!==o&&o.destroy()}finally{this.cachedInjectors.clear()}}}return n.\u0275prov=_t({token:n,providedIn:"environment",factory:()=>new n(Wt(Cu))}),n})();function yb(n){n.getStandaloneInjector=r=>r.get(hI).getOrCreateStandaloneInjector(n)}function P_(n){return r=>{setTimeout(n,void 0,r)}}const Nu=class BI extends d.x{constructor(r=!1){super(),this.__isAsync=r}emit(r){super.next(r)}subscribe(r,o,u){let y=r,w=o||(()=>null),P=u;if(r&&"object"==typeof r){var j,X,ye;const ot=r;y=null===(j=ot.next)||void 0===j?void 0:j.bind(ot),w=null===(X=ot.error)||void 0===X?void 0:X.bind(ot),P=null===(ye=ot.complete)||void 0===ye?void 0:ye.bind(ot)}this.__isAsync&&(w=P_(w),y&&(y=P_(y)),P&&(P=P_(P)));const Fe=super.subscribe({next:y,error:w,complete:P});return r instanceof E.w0&&r.add(Fe),Fe}};function $I(){return this._results[Symbol.iterator]()}class R_{get changes(){return this._changes||(this._changes=new Nu)}constructor(r=!1){this._emitDistinctChangesOnly=r,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const o=R_.prototype;o[Symbol.iterator]||(o[Symbol.iterator]=$I)}get(r){return this._results[r]}map(r){return this._results.map(r)}filter(r){return this._results.filter(r)}find(r){return this._results.find(r)}reduce(r,o){return this._results.reduce(r,o)}forEach(r){this._results.forEach(r)}some(r){return this._results.some(r)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(r,o){const u=this;u.dirty=!1;const y=function za(n){return n.flat(Number.POSITIVE_INFINITY)}(r);(this._changesDetected=!function ll(n,r,o){if(n.length!==r.length)return!1;for(let u=0;u<n.length;u++){let y=n[u],w=r[u];if(o&&(y=o(y),w=o(w)),w!==y)return!1}return!0}(u._results,y,o))&&(u._results=y,u.length=y.length,u.last=y[this.length-1],u.first=y[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let xm=(()=>{class n{}return n.__NG_ELEMENT_ID__=jI,n})();const VI=xm,UI=class extends VI{constructor(r,o,u){super(),this._declarationLView=r,this._declarationTContainer=o,this.elementRef=u}get ssrId(){var r;return(null===(r=this._declarationTContainer.tView)||void 0===r?void 0:r.ssrId)||null}createEmbeddedView(r,o){return this.createEmbeddedViewImpl(r,o,null)}createEmbeddedViewImpl(r,o,u){const y=this._declarationTContainer.tView,w=nu(this._declarationLView,y,r,16,null,y.declTNode,null,null,null,o||null,u||null);w[no]=this._declarationLView[this._declarationTContainer.index];const j=this._declarationLView[Qs];return null!==j&&(w[Qs]=j.createEmbeddedView(y)),jg(y,w,r),new Xd(w)}};function jI(){return rv(Yi(),Kn())}function rv(n,r){return 4&n.type?new UI(r,n,tu(n,r)):null}let iv=(()=>{class n{}return n.__NG_ELEMENT_ID__=qI,n})();function qI(){return kb(Yi(),Kn())}const ZI=iv,Rb=class extends ZI{constructor(r,o,u){super(),this._lContainer=r,this._hostTNode=o,this._hostLView=u}get element(){return tu(this._hostTNode,this._hostLView)}get injector(){return new Vs(this._hostTNode,this._hostLView)}get parentInjector(){const r=En(this._hostTNode,this._hostLView);if(c(r)){const o=I(r,this._hostLView),u=f(r);return new Vs(o[An].data[u+8],o)}return new Vs(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(r){const o=Ob(this._lContainer);return null!==o&&o[r]||null}get length(){return this._lContainer.length-vs}createEmbeddedView(r,o,u){let y,w;"number"==typeof u?y=u:null!=u&&(y=u.index,w=u.injector);const j=r.createEmbeddedViewImpl(o||{},w,null);return this.insertImpl(j,y,!1),j}createComponent(r,o,u,y,w){var P,X;const ye=r&&!fl(r);let Fe;if(ye)Fe=o;else{const _i=o||{};Fe=_i.index,u=_i.injector,y=_i.projectableNodes,w=_i.environmentInjector||_i.ngModuleRef}const ot=ye?r:new uf(wt(r)),Ht=u||this.parentInjector;if(!w&&null==ot.ngModule){const cr=(ye?Ht:this.parentInjector).get(Cu,null);cr&&(w=cr)}const hn=wt(null!==(P=ot.componentType)&&void 0!==P?P:{}),zn=(null==hn?void 0:hn.id,null),Cr=null!==(X=null==zn?void 0:zn.firstChild)&&void 0!==X?X:null,Hr=ot.create(Ht,y,Cr,w);return this.insertImpl(Hr.hostView,Fe,!!zn),Hr}insert(r,o){return this.insertImpl(r,o,!1)}insertImpl(r,o,u){const y=r._lView,w=y[An];if(function Y(n){return ki(n[Lr])}(y)){const X=this.indexOf(r);if(-1!==X)this.detach(X);else{const ye=y[Lr],Fe=new Rb(ye,ye[is],ye[Lr]);Fe.detach(Fe.indexOf(r))}}const P=this._adjustIndex(o),j=this._lContainer;if(function wh(n,r,o,u){const y=vs+u,w=o.length;u>0&&(o[y-1][Ds]=r),u<w-vs?(r[Ds]=o[y],vc(o,vs+u,r)):(o.push(r),r[Ds]=null),r[Lr]=o;const P=r[no];null!==P&&o!==P&&function Ra(n,r){const o=n[qs];r[Qi]!==r[Lr][Lr][Qi]&&(n[Oi]=!0),null===o?n[qs]=[r]:o.push(r)}(P,r);const j=r[Qs];null!==j&&j.insertView(n),r[Fr]|=128}(w,y,j,P),!u){const X=Mh(P,j),ye=y[Yr],Fe=qc(ye,j[Ss]);null!==Fe&&function Eh(n,r,o,u,y,w){u[Mr]=y,u[is]=r,Hu(n,u,o,1,y,w)}(w,j[is],ye,y,Fe,X)}return r.attachToViewContainerRef(),vc(k_(j),P,r),r}move(r,o){return this.insert(r,o)}indexOf(r){const o=Ob(this._lContainer);return null!==o?o.indexOf(r):-1}remove(r){const o=this._adjustIndex(r,-1),u=Uu(this._lContainer,o);u&&(pl(k_(this._lContainer),o),Ih(u[An],u))}detach(r){const o=this._adjustIndex(r,-1),u=Uu(this._lContainer,o);return u&&null!=pl(k_(this._lContainer),o)?new Xd(u):null}_adjustIndex(r,o=0){return null==r?this.length+o:r}};function Ob(n){return n[co]}function k_(n){return n[co]||(n[co]=[])}function kb(n,r){let o;const u=r[n.index];return ki(u)?o=u:(o=$g(u,r,null,n),r[n.index]=o,dp(r,o)),Nb(o,r,n,u),new Rb(o,n,r)}let Nb=function Fb(n,r,o,u){if(n[Ss])return;let y;y=8&o.type?at(u):function XI(n,r){const o=n[Yr],u=o.createComment(""),y=sn(r,n);return Ic(o,qc(o,y),u,function Rf(n,r){return n.nextSibling(r)}(o,y),!1),u}(r,o),n[Ss]=y};class N_{constructor(r){this.queryList=r,this.matches=null}clone(){return new N_(this.queryList)}setDirty(){this.queryList.setDirty()}}class F_{constructor(r=[]){this.queries=r}createEmbeddedView(r){const o=r.queries;if(null!==o){const u=null!==r.contentQueries?r.contentQueries[0]:o.length,y=[];for(let w=0;w<u;w++){const P=o.getByIndex(w);y.push(this.queries[P.indexInDeclarationView].clone())}return new F_(y)}return null}insertView(r){this.dirtyQueriesWithMatches(r)}detachView(r){this.dirtyQueriesWithMatches(r)}dirtyQueriesWithMatches(r){for(let o=0;o<this.queries.length;o++)null!==Wb(r,o).matches&&this.queries[o].setDirty()}}class Lb{constructor(r,o,u=null){this.predicate=r,this.flags=o,this.read=u}}class L_{constructor(r=[]){this.queries=r}elementStart(r,o){for(let u=0;u<this.queries.length;u++)this.queries[u].elementStart(r,o)}elementEnd(r){for(let o=0;o<this.queries.length;o++)this.queries[o].elementEnd(r)}embeddedTView(r){let o=null;for(let u=0;u<this.length;u++){const y=null!==o?o.length:0,w=this.getByIndex(u).embeddedTView(r,y);w&&(w.indexInDeclarationView=u,null!==o?o.push(w):o=[w])}return null!==o?new L_(o):null}template(r,o){for(let u=0;u<this.queries.length;u++)this.queries[u].template(r,o)}getByIndex(r){return this.queries[r]}get length(){return this.queries.length}track(r){this.queries.push(r)}}class B_{constructor(r,o=-1){this.metadata=r,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=o}elementStart(r,o){this.isApplyingToNode(o)&&this.matchTNode(r,o)}elementEnd(r){this._declarationNodeIndex===r.index&&(this._appliesToNextNode=!1)}template(r,o){this.elementStart(r,o)}embeddedTView(r,o){return this.isApplyingToNode(r)?(this.crossesNgTemplate=!0,this.addMatch(-r.index,o),new B_(this.metadata)):null}isApplyingToNode(r){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const o=this._declarationNodeIndex;let u=r.parent;for(;null!==u&&8&u.type&&u.index!==o;)u=u.parent;return o===(null!==u?u.index:-1)}return this._appliesToNextNode}matchTNode(r,o){const u=this.metadata.predicate;if(Array.isArray(u))for(let y=0;y<u.length;y++){const w=u[y];this.matchTNodeWithReadOption(r,o,eC(o,w)),this.matchTNodeWithReadOption(r,o,Ri(o,r,w,!1,!1))}else u===xm?4&o.type&&this.matchTNodeWithReadOption(r,o,-1):this.matchTNodeWithReadOption(r,o,Ri(o,r,u,!1,!1))}matchTNodeWithReadOption(r,o,u){if(null!==u){const y=this.metadata.read;if(null!==y)if(y===td||y===iv||y===xm&&4&o.type)this.addMatch(o.index,-2);else{const w=Ri(o,r,y,!1,!1);null!==w&&this.addMatch(o.index,w)}else this.addMatch(o.index,u)}}addMatch(r,o){null===this.matches?this.matches=[r,o]:this.matches.push(r,o)}}function eC(n,r){const o=n.localNames;if(null!==o)for(let u=0;u<o.length;u+=2)if(o[u]===r)return o[u+1];return null}function nC(n,r,o,u){return-1===o?function tC(n,r){return 11&n.type?tu(n,r):4&n.type?rv(n,r):null}(r,n):-2===o?function rC(n,r,o){return o===td?tu(r,n):o===xm?rv(r,n):o===iv?kb(r,n):void 0}(n,r,u):Vr(n,n[An],o,r)}function Bb(n,r,o,u){const y=r[Qs].queries[u];if(null===y.matches){const w=n.data,P=o.matches,j=[];for(let X=0;X<P.length;X+=2){const ye=P[X];j.push(ye<0?null:nC(r,w[ye],P[X+1],o.metadata.read))}y.matches=j}return y.matches}function $_(n,r,o,u){const y=n.queries.getByIndex(o),w=y.matches;if(null!==w){const P=Bb(n,r,y,o);for(let j=0;j<w.length;j+=2){const X=w[j];if(X>0)u.push(P[j/2]);else{const ye=w[j+1],Fe=r[-X];for(let ot=vs;ot<Fe.length;ot++){const Ht=Fe[ot];Ht[no]===Ht[Lr]&&$_(Ht[An],Ht,ye,u)}if(null!==Fe[qs]){const ot=Fe[qs];for(let Ht=0;Ht<ot.length;Ht++){const hn=ot[Ht];$_(hn[An],hn,ye,u)}}}}}return u}function $b(n){const r=Kn(),o=Bn(),u=hs();gr(u+1);const y=Wb(o,u);if(n.dirty&&function $s(n){return 4==(4&n[Fr])}(r)===(2==(2&y.metadata.flags))){if(null===y.matches)n.reset([]);else{const w=y.crossesNgTemplate?$_(o,r,u,[]):Bb(o,r,y,u);n.reset(w,vv),n.notifyOnChanges()}return!0}return!1}function Vb(n,r,o){const u=Bn();u.firstCreatePass&&(Hb(u,new Lb(n,r,o),-1),2==(2&r)&&(u.staticViewQueries=!0)),zb(u,Kn(),r)}function Ub(n,r,o,u){const y=Bn();if(y.firstCreatePass){const w=Yi();Hb(y,new Lb(r,o,u),w.index),function sC(n,r){const o=n.contentQueries||(n.contentQueries=[]);r!==(o.length?o[o.length-1]:-1)&&o.push(n.queries.length-1,r)}(y,n),2==(2&o)&&(y.staticContentQueries=!0)}zb(y,Kn(),o)}function jb(){return function iC(n,r){return n[Qs].queries[r].queryList}(Kn(),hs())}function zb(n,r,o){const u=new R_(4==(4&o));(function cy(n,r,o,u){const y=hp(r);y.push(o),n.firstCreatePass&&py(n).push(u,y.length-1)})(n,r,u,u.destroy),null===r[Qs]&&(r[Qs]=new F_),r[Qs].queries.push(new N_(u))}function Hb(n,r,o){null===n.queries&&(n.queries=new L_),n.queries.track(new B_(r,o))}function Wb(n,r){return n.queries.getByIndex(r)}function V_(n){return!!jn(n)}const lE=new Qo("Application Initializer");let W_=(()=>{class n{constructor(){var o;this.initialized=!1,this.done=!1,this.donePromise=new Promise((u,y)=>{this.resolve=u,this.reject=y}),this.appInits=null!==(o=Hn(lE,{optional:!0}))&&void 0!==o?o:[]}runInitializers(){if(this.initialized)return;const o=[];for(const y of this.appInits){const w=y();if(fm(w))o.push(w);else if(bf(w)){const P=new Promise((j,X)=>{w.subscribe({complete:j,error:X})});o.push(P)}}const u=()=>{this.done=!0,this.resolve()};Promise.all(o).then(()=>{u()}).catch(y=>{this.reject(y)}),0===o.length&&u(),this.initialized=!0}}return n.\u0275fac=function(o){return new(o||n)},n.\u0275prov=_t({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),cE=(()=>{class n{log(o){console.log(o)}warn(o){console.warn(o)}}return n.\u0275fac=function(o){return new(o||n)},n.\u0275prov=_t({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const ov=new Qo("LocaleId",{providedIn:"root",factory:()=>Hn(ov,Pn.Optional|Pn.SkipSelf)||function TC(){return typeof $localize<"u"&&$localize.locale||Np}()}),AC=new Qo("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class xC{constructor(r,o){this.ngModuleFactory=r,this.componentFactories=o}}let MC=(()=>{class n{compileModuleSync(o){return new x_(o)}compileModuleAsync(o){return Promise.resolve(this.compileModuleSync(o))}compileModuleAndAllComponentsSync(o){const u=this.compileModuleSync(o),w=xc(jn(o).declarations).reduce((P,j)=>{const X=wt(j);return X&&P.push(new uf(X)),P},[]);return new xC(u,w)}compileModuleAndAllComponentsAsync(o){return Promise.resolve(this.compileModuleAndAllComponentsSync(o))}clearCache(){}clearCacheFor(o){}getModuleId(o){}}return n.\u0275fac=function(o){return new(o||n)},n.\u0275prov=_t({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const OC=(()=>Promise.resolve(0))();function G_(n){typeof Zone>"u"?OC.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}function hE(...n){}class Fl{constructor({enableLongStackTrace:r=!1,shouldCoalesceEventChangeDetection:o=!1,shouldCoalesceRunChangeDetection:u=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Nu(!1),this.onMicrotaskEmpty=new Nu(!1),this.onStable=new Nu(!1),this.onError=new Nu(!1),typeof Zone>"u")throw new Be(908,!1);Zone.assertZonePatched();const y=this;y._nesting=0,y._outer=y._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(y._inner=y._inner.fork(new Zone.TaskTrackingZoneSpec)),r&&Zone.longStackTraceZoneSpec&&(y._inner=y._inner.fork(Zone.longStackTraceZoneSpec)),y.shouldCoalesceEventChangeDetection=!u&&o,y.shouldCoalesceRunChangeDetection=u,y.lastRequestAnimationFrameId=-1,y.nativeRequestAnimationFrame=function kC(){let n=lr.requestAnimationFrame,r=lr.cancelAnimationFrame;if(typeof Zone<"u"&&n&&r){const o=n[Zone.__symbol__("OriginalDelegate")];o&&(n=o);const u=r[Zone.__symbol__("OriginalDelegate")];u&&(r=u)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:r}}().nativeRequestAnimationFrame,function LC(n){const r=()=>{!function FC(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(lr,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,Y_(n),n.isCheckStableRunning=!0,K_(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),Y_(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(o,u,y,w,P,j)=>{try{return fE(n),o.invokeTask(y,w,P,j)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===w.type||n.shouldCoalesceRunChangeDetection)&&r(),pE(n)}},onInvoke:(o,u,y,w,P,j,X)=>{try{return fE(n),o.invoke(y,w,P,j,X)}finally{n.shouldCoalesceRunChangeDetection&&r(),pE(n)}},onHasTask:(o,u,y,w)=>{o.hasTask(y,w),u===y&&("microTask"==w.change?(n._hasPendingMicrotasks=w.microTask,Y_(n),K_(n)):"macroTask"==w.change&&(n.hasPendingMacrotasks=w.macroTask))},onHandleError:(o,u,y,w)=>(o.handleError(y,w),n.runOutsideAngular(()=>n.onError.emit(w)),!1)})}(y)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Fl.isInAngularZone())throw new Be(909,!1)}static assertNotInAngularZone(){if(Fl.isInAngularZone())throw new Be(909,!1)}run(r,o,u){return this._inner.run(r,o,u)}runTask(r,o,u,y){const w=this._inner,P=w.scheduleEventTask("NgZoneEvent: "+y,r,NC,hE,hE);try{return w.runTask(P,o,u)}finally{w.cancelTask(P)}}runGuarded(r,o,u){return this._inner.runGuarded(r,o,u)}runOutsideAngular(r){return this._outer.run(r)}}const NC={};function K_(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function Y_(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function fE(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function pE(n){n._nesting--,K_(n)}class BC{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Nu,this.onMicrotaskEmpty=new Nu,this.onStable=new Nu,this.onError=new Nu}run(r,o,u){return r.apply(o,u)}runGuarded(r,o,u){return r.apply(o,u)}runOutsideAngular(r){return r()}runTask(r,o,u,y){return r.apply(o,u)}}const gE=new Qo("",{providedIn:"root",factory:mE});function mE(){const n=Hn(Fl);let r=!0;const o=new be.y(y=>{r=n.isStable&&!n.hasPendingMacrotasks&&!n.hasPendingMicrotasks,n.runOutsideAngular(()=>{y.next(r),y.complete()})}),u=new be.y(y=>{let w;n.runOutsideAngular(()=>{w=n.onStable.subscribe(()=>{Fl.assertNotInAngularZone(),G_(()=>{!r&&!n.hasPendingMacrotasks&&!n.hasPendingMicrotasks&&(r=!0,y.next(!0))})})});const P=n.onUnstable.subscribe(()=>{Fl.assertInAngularZone(),r&&(r=!1,n.runOutsideAngular(()=>{y.next(!1)}))});return()=>{w.unsubscribe(),P.unsubscribe()}});return(0,ke.T)(o,u.pipe((0,qe.B)()))}const yE=new Qo(""),vE=new Qo("");let q_,$C=(()=>{class n{constructor(o,u,y){this._ngZone=o,this.registry=u,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,q_||(function VC(n){q_=n}(y),y.addToWindow(u)),this._watchAngularEvents(),o.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Fl.assertNotInAngularZone(),G_(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())G_(()=>{for(;0!==this._callbacks.length;){let o=this._callbacks.pop();clearTimeout(o.timeoutId),o.doneCb(this._didWork)}this._didWork=!1});else{let o=this.getPendingTasks();this._callbacks=this._callbacks.filter(u=>!u.updateCb||!u.updateCb(o)||(clearTimeout(u.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(o=>({source:o.source,creationLocation:o.creationLocation,data:o.data})):[]}addCallback(o,u,y){let w=-1;u&&u>0&&(w=setTimeout(()=>{this._callbacks=this._callbacks.filter(P=>P.timeoutId!==w),o(this._didWork,this.getPendingTasks())},u)),this._callbacks.push({doneCb:o,timeoutId:w,updateCb:y})}whenStable(o,u,y){if(y&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(o,u,y),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(o){this.registry.registerApplication(o,this)}unregisterApplication(o){this.registry.unregisterApplication(o)}findProviders(o,u,y){return[]}}return n.\u0275fac=function(o){return new(o||n)(Wt(Fl),Wt(_E),Wt(vE))},n.\u0275prov=_t({token:n,factory:n.\u0275fac}),n})(),_E=(()=>{class n{constructor(){this._applications=new Map}registerApplication(o,u){this._applications.set(o,u)}unregisterApplication(o){this._applications.delete(o)}unregisterAllApplications(){this._applications.clear()}getTestability(o){return this._applications.get(o)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(o,u=!0){var y,w;return null!==(y=null===(w=q_)||void 0===w?void 0:w.findTestabilityInTree(this,o,u))&&void 0!==y?y:null}}return n.\u0275fac=function(o){return new(o||n)},n.\u0275prov=_t({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})(),ch=null;const bE=new Qo("AllowMultipleToken"),Z_=new Qo("PlatformDestroyListeners"),X_=new Qo("appBootstrapListener");class zC{constructor(r,o){this.name=r,this.token=o}}function IE(n,r,o=[]){const u=`Platform: ${r}`,y=new Qo(u);return(w=[])=>{let P=Q_();if(!P||P.injector.get(bE,!1)){const j=[...o,...w,{provide:y,useValue:!0}];n?n(j):function HC(n){if(ch&&!ch.get(bE,!1))throw new Be(400,!1);(function EE(){!function Ei(n){As=n}(()=>{throw new Be(600,!1)})})(),ch=n;const r=n.get(DE);(function wE(n){const r=n.get(Vm,null);null==r||r.forEach(o=>o())})(n)}(function CE(n=[],r){return $l.create({name:r,providers:[{provide:Uf,useValue:"platform"},{provide:Z_,useValue:new Set([()=>ch=null])},...n]})}(j,u))}return function GC(n){const r=Q_();if(!r)throw new Be(401,!1);return r}()}}function Q_(){var n,r;return null!==(n=null===(r=ch)||void 0===r?void 0:r.get(DE))&&void 0!==n?n:null}let DE=(()=>{class n{constructor(o){this._injector=o,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(o,u){const y=function KC(n="zone.js",r){return"noop"===n?new BC:"zone.js"===n?new Fl(r):n}(null==u?void 0:u.ngZone,function SE(n){var r,o;return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:null!==(r=null==n?void 0:n.eventCoalescing)&&void 0!==r&&r,shouldCoalesceRunChangeDetection:null!==(o=null==n?void 0:n.runCoalescing)&&void 0!==o&&o}}({eventCoalescing:null==u?void 0:u.ngZoneEventCoalescing,runCoalescing:null==u?void 0:u.ngZoneRunCoalescing}));return y.run(()=>{const w=function dI(n,r,o){return new A_(n,r,o)}(o.moduleType,this.injector,function PE(n){return[{provide:Fl,useFactory:n},{provide:Za,multi:!0,useFactory:()=>{const r=Hn(qC,{optional:!0});return()=>r.initialize()}},{provide:ME,useFactory:YC},{provide:gE,useFactory:mE}]}(()=>y)),P=w.injector.get(Gd,null);return y.runOutsideAngular(()=>{const j=y.onError.subscribe({next:X=>{P.handleError(X)}});w.onDestroy(()=>{av(this._modules,w),j.unsubscribe()})}),function TE(n,r,o){try{const u=o();return fm(u)?u.catch(y=>{throw r.runOutsideAngular(()=>n.handleError(y)),y}):u}catch(u){throw r.runOutsideAngular(()=>n.handleError(u)),u}}(P,y,()=>{const j=w.injector.get(W_);return j.runInitializers(),j.donePromise.then(()=>(function j0(n){Ot(n,"Expected localeId to be defined"),"string"==typeof n&&(U0=n.toLowerCase().replace(/_/g,"-"))}(w.injector.get(ov,Np)||Np),this._moduleDoBootstrap(w),w))})})}bootstrapModule(o,u=[]){const y=AE({},u);return function UC(n,r,o){const u=new x_(o);return Promise.resolve(u)}(0,0,o).then(w=>this.bootstrapModuleFactory(w,y))}_moduleDoBootstrap(o){const u=o.injector.get($p);if(o._bootstrapComponents.length>0)o._bootstrapComponents.forEach(y=>u.bootstrap(y));else{if(!o.instance.ngDoBootstrap)throw new Be(-403,!1);o.instance.ngDoBootstrap(u)}this._modules.push(o)}onDestroy(o){this._destroyListeners.push(o)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Be(404,!1);this._modules.slice().forEach(u=>u.destroy()),this._destroyListeners.forEach(u=>u());const o=this._injector.get(Z_,null);o&&(o.forEach(u=>u()),o.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(o){return new(o||n)(Wt($l))},n.\u0275prov=_t({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();function AE(n,r){return Array.isArray(r)?r.reduce(AE,n):{...n,...r}}let $p=(()=>{class n{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=Hn(ME),this.componentTypes=[],this.components=[],this.isStable=Hn(gE),this._injector=Hn(Cu)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(o,u){const y=o instanceof Gh;if(!this._injector.get(W_).done)throw!y&&Un(o),new Be(405,!1);let P;P=y?o:this._injector.get(Kh).resolveComponentFactory(o),this.componentTypes.push(P.componentType);const j=function jC(n){return n.isBoundToModule}(P)?void 0:this._injector.get(Fp),ye=P.create($l.NULL,[],u||P.selector,j),Fe=ye.location.nativeElement,ot=ye.injector.get(yE,null);return null==ot||ot.registerApplication(Fe),ye.onDestroy(()=>{this.detachView(ye.hostView),av(this.components,ye),null==ot||ot.unregisterApplication(Fe)}),this._loadComponent(ye),ye}tick(){if(this._runningTick)throw new Be(101,!1);try{this._runningTick=!0;for(let o of this._views)o.detectChanges()}catch(o){this.internalErrorHandler(o)}finally{this._runningTick=!1}}attachView(o){const u=o;this._views.push(u),u.attachToAppRef(this)}detachView(o){const u=o;av(this._views,u),u.detachFromAppRef()}_loadComponent(o){this.attachView(o.hostView),this.tick(),this.components.push(o);const u=this._injector.get(X_,[]);u.push(...this._bootstrapListeners),u.forEach(y=>y(o))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(o=>o()),this._views.slice().forEach(o=>o.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(o){return this._destroyListeners.push(o),()=>av(this._destroyListeners,o)}destroy(){if(this._destroyed)throw new Be(406,!1);const o=this._injector;o.destroy&&!o.destroyed&&o.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return n.\u0275fac=function(o){return new(o||n)},n.\u0275prov=_t({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function av(n,r){const o=n.indexOf(r);o>-1&&n.splice(o,1)}const ME=new Qo("",{providedIn:"root",factory:()=>Hn(Gd).handleError.bind(void 0)});function YC(){const n=Hn(Fl),r=Hn(Gd);return o=>n.runOutsideAngular(()=>r.handleError(o))}let qC=(()=>{class n{constructor(){this.zone=Hn(Fl),this.applicationRef=Hn($p)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){var o;null===(o=this._onMicrotaskEmptySubscription)||void 0===o||o.unsubscribe()}}return n.\u0275fac=function(o){return new(o||n)},n.\u0275prov=_t({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function XC(){return!1}function QC(){}let JC=(()=>{class n{}return n.__NG_ELEMENT_ID__=eD,n})();function eD(n){return function tD(n,r,o){if(No(n)&&!o){const u=qr(n.index,r);return new Xd(u,u)}return 47&n.type?new Xd(r[Qi],r):null}(Yi(),Kn(),16==(16&n))}class NE{constructor(){}supports(r){return Ep(r)}create(r){return new aD(r)}}const oD=(n,r)=>r;class aD{constructor(r){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=r||oD}forEachItem(r){let o;for(o=this._itHead;null!==o;o=o._next)r(o)}forEachOperation(r){let o=this._itHead,u=this._removalsHead,y=0,w=null;for(;o||u;){const P=!u||o&&o.currentIndex<LE(u,y,w)?o:u,j=LE(P,y,w),X=P.currentIndex;if(P===u)y--,u=u._nextRemoved;else if(o=o._next,null==P.previousIndex)y++;else{w||(w=[]);const ye=j-y,Fe=X-y;if(ye!=Fe){for(let Ht=0;Ht<ye;Ht++){const hn=Ht<w.length?w[Ht]:w[Ht]=0,zn=hn+Ht;Fe<=zn&&zn<ye&&(w[Ht]=hn+1)}w[P.previousIndex]=Fe-ye}}j!==X&&r(P,j,X)}}forEachPreviousItem(r){let o;for(o=this._previousItHead;null!==o;o=o._nextPrevious)r(o)}forEachAddedItem(r){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)r(o)}forEachMovedItem(r){let o;for(o=this._movesHead;null!==o;o=o._nextMoved)r(o)}forEachRemovedItem(r){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)r(o)}forEachIdentityChange(r){let o;for(o=this._identityChangesHead;null!==o;o=o._nextIdentityChange)r(o)}diff(r){if(null==r&&(r=[]),!Ep(r))throw new Be(900,!1);return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let y,w,P,o=this._itHead,u=!1;if(Array.isArray(r)){this.length=r.length;for(let j=0;j<this.length;j++)w=r[j],P=this._trackByFn(j,w),null!==o&&Object.is(o.trackById,P)?(u&&(o=this._verifyReinsertion(o,w,P,j)),Object.is(o.item,w)||this._addIdentityChange(o,w)):(o=this._mismatch(o,w,P,j),u=!0),o=o._next}else y=0,function Iy(n,r){if(Array.isArray(n))for(let o=0;o<n.length;o++)r(n[o]);else{const o=n[Symbol.iterator]();let u;for(;!(u=o.next()).done;)r(u.value)}}(r,j=>{P=this._trackByFn(y,j),null!==o&&Object.is(o.trackById,P)?(u&&(o=this._verifyReinsertion(o,j,P,y)),Object.is(o.item,j)||this._addIdentityChange(o,j)):(o=this._mismatch(o,j,P,y),u=!0),o=o._next,y++}),this.length=y;return this._truncate(o),this.collection=r,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let r;for(r=this._previousItHead=this._itHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._additionsHead;null!==r;r=r._nextAdded)r.previousIndex=r.currentIndex;for(this._additionsHead=this._additionsTail=null,r=this._movesHead;null!==r;r=r._nextMoved)r.previousIndex=r.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(r,o,u,y){let w;return null===r?w=this._itTail:(w=r._prev,this._remove(r)),null!==(r=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null))?(Object.is(r.item,o)||this._addIdentityChange(r,o),this._reinsertAfter(r,w,y)):null!==(r=null===this._linkedRecords?null:this._linkedRecords.get(u,y))?(Object.is(r.item,o)||this._addIdentityChange(r,o),this._moveAfter(r,w,y)):r=this._addAfter(new lD(o,u),w,y),r}_verifyReinsertion(r,o,u,y){let w=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null);return null!==w?r=this._reinsertAfter(w,r._prev,y):r.currentIndex!=y&&(r.currentIndex=y,this._addToMoves(r,y)),r}_truncate(r){for(;null!==r;){const o=r._next;this._addToRemovals(this._unlink(r)),r=o}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(r,o,u){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(r);const y=r._prevRemoved,w=r._nextRemoved;return null===y?this._removalsHead=w:y._nextRemoved=w,null===w?this._removalsTail=y:w._prevRemoved=y,this._insertAfter(r,o,u),this._addToMoves(r,u),r}_moveAfter(r,o,u){return this._unlink(r),this._insertAfter(r,o,u),this._addToMoves(r,u),r}_addAfter(r,o,u){return this._insertAfter(r,o,u),this._additionsTail=null===this._additionsTail?this._additionsHead=r:this._additionsTail._nextAdded=r,r}_insertAfter(r,o,u){const y=null===o?this._itHead:o._next;return r._next=y,r._prev=o,null===y?this._itTail=r:y._prev=r,null===o?this._itHead=r:o._next=r,null===this._linkedRecords&&(this._linkedRecords=new FE),this._linkedRecords.put(r),r.currentIndex=u,r}_remove(r){return this._addToRemovals(this._unlink(r))}_unlink(r){null!==this._linkedRecords&&this._linkedRecords.remove(r);const o=r._prev,u=r._next;return null===o?this._itHead=u:o._next=u,null===u?this._itTail=o:u._prev=o,r}_addToMoves(r,o){return r.previousIndex===o||(this._movesTail=null===this._movesTail?this._movesHead=r:this._movesTail._nextMoved=r),r}_addToRemovals(r){return null===this._unlinkedRecords&&(this._unlinkedRecords=new FE),this._unlinkedRecords.put(r),r.currentIndex=null,r._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=r,r._prevRemoved=null):(r._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=r),r}_addIdentityChange(r,o){return r.item=o,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=r:this._identityChangesTail._nextIdentityChange=r,r}}class lD{constructor(r,o){this.item=r,this.trackById=o,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class cD{constructor(){this._head=null,this._tail=null}add(r){null===this._head?(this._head=this._tail=r,r._nextDup=null,r._prevDup=null):(this._tail._nextDup=r,r._prevDup=this._tail,r._nextDup=null,this._tail=r)}get(r,o){let u;for(u=this._head;null!==u;u=u._nextDup)if((null===o||o<=u.currentIndex)&&Object.is(u.trackById,r))return u;return null}remove(r){const o=r._prevDup,u=r._nextDup;return null===o?this._head=u:o._nextDup=u,null===u?this._tail=o:u._prevDup=o,null===this._head}}class FE{constructor(){this.map=new Map}put(r){const o=r.trackById;let u=this.map.get(o);u||(u=new cD,this.map.set(o,u)),u.add(r)}get(r,o){const y=this.map.get(r);return y?y.get(r,o):null}remove(r){const o=r.trackById;return this.map.get(o).remove(r)&&this.map.delete(o),r}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function LE(n,r,o){const u=n.previousIndex;if(null===u)return u;let y=0;return o&&u<o.length&&(y=o[u]),u+r+y}class BE{constructor(){}supports(r){return r instanceof Map||df(r)}create(){return new uD}}class uD{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(r){let o;for(o=this._mapHead;null!==o;o=o._next)r(o)}forEachPreviousItem(r){let o;for(o=this._previousMapHead;null!==o;o=o._nextPrevious)r(o)}forEachChangedItem(r){let o;for(o=this._changesHead;null!==o;o=o._nextChanged)r(o)}forEachAddedItem(r){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)r(o)}forEachRemovedItem(r){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)r(o)}diff(r){if(r){if(!(r instanceof Map||df(r)))throw new Be(900,!1)}else r=new Map;return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let o=this._mapHead;if(this._appendAfter=null,this._forEach(r,(u,y)=>{if(o&&o.key===y)this._maybeAddToChanges(o,u),this._appendAfter=o,o=o._next;else{const w=this._getOrCreateRecordForKey(y,u);o=this._insertBeforeOrAppend(o,w)}}),o){o._prev&&(o._prev._next=null),this._removalsHead=o;for(let u=o;null!==u;u=u._nextRemoved)u===this._mapHead&&(this._mapHead=null),this._records.delete(u.key),u._nextRemoved=u._next,u.previousValue=u.currentValue,u.currentValue=null,u._prev=null,u._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(r,o){if(r){const u=r._prev;return o._next=r,o._prev=u,r._prev=o,u&&(u._next=o),r===this._mapHead&&(this._mapHead=o),this._appendAfter=r,r}return this._appendAfter?(this._appendAfter._next=o,o._prev=this._appendAfter):this._mapHead=o,this._appendAfter=o,null}_getOrCreateRecordForKey(r,o){if(this._records.has(r)){const y=this._records.get(r);this._maybeAddToChanges(y,o);const w=y._prev,P=y._next;return w&&(w._next=P),P&&(P._prev=w),y._next=null,y._prev=null,y}const u=new dD(r);return this._records.set(r,u),u.currentValue=o,this._addToAdditions(u),u}_reset(){if(this.isDirty){let r;for(this._previousMapHead=this._mapHead,r=this._previousMapHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._changesHead;null!==r;r=r._nextChanged)r.previousValue=r.currentValue;for(r=this._additionsHead;null!=r;r=r._nextAdded)r.previousValue=r.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(r,o){Object.is(o,r.currentValue)||(r.previousValue=r.currentValue,r.currentValue=o,this._addToChanges(r))}_addToAdditions(r){null===this._additionsHead?this._additionsHead=this._additionsTail=r:(this._additionsTail._nextAdded=r,this._additionsTail=r)}_addToChanges(r){null===this._changesHead?this._changesHead=this._changesTail=r:(this._changesTail._nextChanged=r,this._changesTail=r)}_forEach(r,o){r instanceof Map?r.forEach(o):Object.keys(r).forEach(u=>o(r[u],u))}}class dD{constructor(r){this.key=r,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function $E(){return new r0([new NE])}let r0=(()=>{class n{constructor(o){this.factories=o}static create(o,u){if(null!=u){const y=u.factories.slice();o=o.concat(y)}return new n(o)}static extend(o){return{provide:n,useFactory:u=>n.create(o,u||$E()),deps:[[n,new Rl,new Bc]]}}find(o){const u=this.factories.find(y=>y.supports(o));if(null!=u)return u;throw new Be(901,!1)}}return n.\u0275prov=_t({token:n,providedIn:"root",factory:$E}),n})();function VE(){return new s0([new BE])}let s0=(()=>{class n{constructor(o){this.factories=o}static create(o,u){if(u){const y=u.factories.slice();o=o.concat(y)}return new n(o)}static extend(o){return{provide:n,useFactory:u=>n.create(o,u||VE()),deps:[[n,new Rl,new Bc]]}}find(o){const u=this.factories.find(y=>y.supports(o));if(u)return u;throw new Be(901,!1)}}return n.\u0275prov=_t({token:n,providedIn:"root",factory:VE}),n})();const pD=IE(null,"core",[]);let gD=(()=>{class n{constructor(o){}}return n.\u0275fac=function(o){return new(o||n)(Wt($p))},n.\u0275mod=Oe({type:n}),n.\u0275inj=gn({}),n})(),GE=(()=>{class n{get whenAllTasksComplete(){return 0===this.collection.size&&this.complete(),this.promise}constructor(){this.taskId=0,this.collection=new Set,this.ngZone=Hn(Fl),this.completed=!1,this.ngZone.runOutsideAngular(()=>{this.promise=new Promise(o=>{this.resolve=o})})}add(){if(this.completed)return-1;const o=this.taskId++;return this.collection.add(o),o}remove(o){this.completed||(this.collection.delete(o),0===this.collection.size&&this.complete())}ngOnDestroy(){this.complete(),this.collection.clear()}complete(){this.completed=!0,this.resolve()}}return n.\u0275fac=function(o){return new(o||n)},n.\u0275prov=_t({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function CD(n){return"boolean"==typeof n?n:null!=n&&"false"!==n}function SD(n,r){const o=wt(n),u=r.elementInjector||Wf();return new uf(o).create(u,r.projectableNodes,r.hostElement,r.environmentInjector)}function TD(n){const r=wt(n);if(!r)return null;const o=new uf(r);return{get selector(){return o.selector},get type(){return o.componentType},get inputs(){return o.inputs},get outputs(){return o.outputs},get ngContentSelectors(){return o.ngContentSelectors},get isStandalone(){return r.standalone}}}},5030:(Jn,Ft,z)=>{"use strict";z.d(Ft,{u5:()=>_e,wO:()=>To,JU:()=>pt,a5:()=>Pn,JJ:()=>Ai,JL:()=>bi,F:()=>Oe,On:()=>Mr,UX:()=>ce,Q7:()=>go,_Y:()=>An});var d=z(2223),E=z(4755),be=z(8996),ke=z(9751),qe=z(4742),je=z(8421),Se=z(7669),Re=z(5403),Ze=z(3268),Le=z(1810),it=z(4004);let Me=(()=>{class ${constructor(S,L){this._renderer=S,this._elementRef=L,this.onChange=ge=>{},this.onTouched=()=>{}}setProperty(S,L){this._renderer.setProperty(this._elementRef.nativeElement,S,L)}registerOnTouched(S){this.onTouched=S}registerOnChange(S){this.onChange=S}setDisabledState(S){this.setProperty("disabled",S)}}return $.\u0275fac=function(S){return new(S||$)(d.Y36(d.Qsj),d.Y36(d.SBq))},$.\u0275dir=d.lG2({type:$}),$})(),lt=(()=>{class $ extends Me{}return $.\u0275fac=function(){let F;return function(L){return(F||(F=d.n5z($)))(L||$)}}(),$.\u0275dir=d.lG2({type:$,features:[d.qOj]}),$})();const pt=new d.OlP("NgValueAccessor"),Be={provide:pt,useExisting:(0,d.Gpc)(()=>ft),multi:!0},Mt=new d.OlP("CompositionEventMode");let ft=(()=>{class $ extends Me{constructor(S,L,ge){super(S,L),this._compositionMode=ge,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function kt(){const $=(0,E.q)()?(0,E.q)().getUserAgent():"";return/android (\d+)/.test($.toLowerCase())}())}writeValue(S){this.setProperty("value",null==S?"":S)}_handleInput(S){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(S)}_compositionStart(){this._composing=!0}_compositionEnd(S){this._composing=!1,this._compositionMode&&this.onChange(S)}}return $.\u0275fac=function(S){return new(S||$)(d.Y36(d.Qsj),d.Y36(d.SBq),d.Y36(Mt,8))},$.\u0275dir=d.lG2({type:$,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(S,L){1&S&&d.NdJ("input",function(ut){return L._handleInput(ut.target.value)})("blur",function(){return L.onTouched()})("compositionstart",function(){return L._compositionStart()})("compositionend",function(ut){return L._compositionEnd(ut.target.value)})},features:[d._Bn([Be]),d.qOj]}),$})();function It($){return null==$||("string"==typeof $||Array.isArray($))&&0===$.length}const Ct=new d.OlP("NgValidators"),gt=new d.OlP("NgAsyncValidators");function qt($){return It($.value)?{required:!0}:null}function tt($){return null}function dt($){return null!=$}function Ut($){return(0,d.QGY)($)?(0,be.D)($):$}function Ot($){let F={};return $.forEach(S=>{F=null!=S?{...F,...S}:F}),0===Object.keys(F).length?null:F}function en($,F){return F.map(S=>S($))}function On($){return $.map(F=>function rn($){return!$.validate}(F)?F:S=>F.validate(S))}function _t($){return null!=$?function nn($){if(!$)return null;const F=$.filter(dt);return 0==F.length?null:function(S){return Ot(en(S,F))}}(On($)):null}function gn($){return null!=$?function cn($){if(!$)return null;const F=$.filter(dt);return 0==F.length?null:function(S){return function xe(...$){const F=(0,Se.jO)($),{args:S,keys:L}=(0,qe.D)($),ge=new ke.y(ut=>{const{length:Nt}=S;if(!Nt)return void ut.complete();const dn=new Array(Nt);let Mn=Nt,li=Nt;for(let ci=0;ci<Nt;ci++){let mi=!1;(0,je.Xf)(S[ci]).subscribe((0,Re.x)(ut,vi=>{mi||(mi=!0,li--),dn[ci]=vi},()=>Mn--,void 0,()=>{(!Mn||!mi)&&(li||ut.next(L?(0,Le.n)(L,dn):dn),ut.complete())}))}});return F?ge.pipe((0,Ze.Z)(F)):ge}(en(S,F).map(Ut)).pipe((0,it.U)(Ot))}}(On($)):null}function Zn($,F){return null===$?[F]:Array.isArray($)?[...$,F]:[$,F]}function un($){return $?Array.isArray($)?$:[$]:[]}function rr($,F){return Array.isArray($)?$.includes(F):$===F}function an($,F){const S=un(F);return un($).forEach(ge=>{rr(S,ge)||S.push(ge)}),S}function Pr($,F){return un(F).filter(S=>!rr($,S))}class Br{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(F){this._rawValidators=F||[],this._composedValidatorFn=_t(this._rawValidators)}_setAsyncValidators(F){this._rawAsyncValidators=F||[],this._composedAsyncValidatorFn=gn(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(F){this._onDestroyCallbacks.push(F)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(F=>F()),this._onDestroyCallbacks=[]}reset(F=void 0){this.control&&this.control.reset(F)}hasError(F,S){return!!this.control&&this.control.hasError(F,S)}getError(F,S){return this.control?this.control.getError(F,S):null}}class Ar extends Br{get formDirective(){return null}get path(){return null}}class Pn extends Br{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class oi{constructor(F){this._cd=F}get isTouched(){var F,S;return!(null===(F=this._cd)||void 0===F||null===(S=F.control)||void 0===S||!S.touched)}get isUntouched(){var F,S;return!(null===(F=this._cd)||void 0===F||null===(S=F.control)||void 0===S||!S.untouched)}get isPristine(){var F,S;return!(null===(F=this._cd)||void 0===F||null===(S=F.control)||void 0===S||!S.pristine)}get isDirty(){var F,S;return!(null===(F=this._cd)||void 0===F||null===(S=F.control)||void 0===S||!S.dirty)}get isValid(){var F,S;return!(null===(F=this._cd)||void 0===F||null===(S=F.control)||void 0===S||!S.valid)}get isInvalid(){var F,S;return!(null===(F=this._cd)||void 0===F||null===(S=F.control)||void 0===S||!S.invalid)}get isPending(){var F,S;return!(null===(F=this._cd)||void 0===F||null===(S=F.control)||void 0===S||!S.pending)}get isSubmitted(){var F;return!(null===(F=this._cd)||void 0===F||!F.submitted)}}let Ai=(()=>{class $ extends oi{constructor(S){super(S)}}return $.\u0275fac=function(S){return new(S||$)(d.Y36(Pn,2))},$.\u0275dir=d.lG2({type:$,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(S,L){2&S&&d.ekj("ng-untouched",L.isUntouched)("ng-touched",L.isTouched)("ng-pristine",L.isPristine)("ng-dirty",L.isDirty)("ng-valid",L.isValid)("ng-invalid",L.isInvalid)("ng-pending",L.isPending)},features:[d.qOj]}),$})(),bi=(()=>{class $ extends oi{constructor(S){super(S)}}return $.\u0275fac=function(S){return new(S||$)(d.Y36(Ar,10))},$.\u0275dir=d.lG2({type:$,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(S,L){2&S&&d.ekj("ng-untouched",L.isUntouched)("ng-touched",L.isTouched)("ng-pristine",L.isPristine)("ng-dirty",L.isDirty)("ng-valid",L.isValid)("ng-invalid",L.isInvalid)("ng-pending",L.isPending)("ng-submitted",L.isSubmitted)},features:[d.qOj]}),$})();const Hn="VALID",jr="INVALID",kr="PENDING",Rr="DISABLED";function mt($){return(se($)?$.validators:$)||null}function ie($,F){return(se(F)?F.asyncValidators:$)||null}function se($){return null!=$&&!Array.isArray($)&&"object"==typeof $}class rt{constructor(F,S){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(F),this._assignAsyncValidators(S)}get validator(){return this._composedValidatorFn}set validator(F){this._rawValidators=this._composedValidatorFn=F}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(F){this._rawAsyncValidators=this._composedAsyncValidatorFn=F}get parent(){return this._parent}get valid(){return this.status===Hn}get invalid(){return this.status===jr}get pending(){return this.status==kr}get disabled(){return this.status===Rr}get enabled(){return this.status!==Rr}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(F){this._assignValidators(F)}setAsyncValidators(F){this._assignAsyncValidators(F)}addValidators(F){this.setValidators(an(F,this._rawValidators))}addAsyncValidators(F){this.setAsyncValidators(an(F,this._rawAsyncValidators))}removeValidators(F){this.setValidators(Pr(F,this._rawValidators))}removeAsyncValidators(F){this.setAsyncValidators(Pr(F,this._rawAsyncValidators))}hasValidator(F){return rr(this._rawValidators,F)}hasAsyncValidator(F){return rr(this._rawAsyncValidators,F)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(F={}){this.touched=!0,this._parent&&!F.onlySelf&&this._parent.markAsTouched(F)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(F=>F.markAllAsTouched())}markAsUntouched(F={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(S=>{S.markAsUntouched({onlySelf:!0})}),this._parent&&!F.onlySelf&&this._parent._updateTouched(F)}markAsDirty(F={}){this.pristine=!1,this._parent&&!F.onlySelf&&this._parent.markAsDirty(F)}markAsPristine(F={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(S=>{S.markAsPristine({onlySelf:!0})}),this._parent&&!F.onlySelf&&this._parent._updatePristine(F)}markAsPending(F={}){this.status=kr,!1!==F.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!F.onlySelf&&this._parent.markAsPending(F)}disable(F={}){const S=this._parentMarkedDirty(F.onlySelf);this.status=Rr,this.errors=null,this._forEachChild(L=>{L.disable({...F,onlySelf:!0})}),this._updateValue(),!1!==F.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...F,skipPristineCheck:S}),this._onDisabledChange.forEach(L=>L(!0))}enable(F={}){const S=this._parentMarkedDirty(F.onlySelf);this.status=Hn,this._forEachChild(L=>{L.enable({...F,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:F.emitEvent}),this._updateAncestors({...F,skipPristineCheck:S}),this._onDisabledChange.forEach(L=>L(!1))}_updateAncestors(F){this._parent&&!F.onlySelf&&(this._parent.updateValueAndValidity(F),F.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(F){this._parent=F}getRawValue(){return this.value}updateValueAndValidity(F={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Hn||this.status===kr)&&this._runAsyncValidator(F.emitEvent)),!1!==F.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!F.onlySelf&&this._parent.updateValueAndValidity(F)}_updateTreeValidity(F={emitEvent:!0}){this._forEachChild(S=>S._updateTreeValidity(F)),this.updateValueAndValidity({onlySelf:!0,emitEvent:F.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Rr:Hn}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(F){if(this.asyncValidator){this.status=kr,this._hasOwnPendingAsyncValidator=!0;const S=Ut(this.asyncValidator(this));this._asyncValidationSubscription=S.subscribe(L=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(L,{emitEvent:F})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(F,S={}){this.errors=F,this._updateControlsErrors(!1!==S.emitEvent)}get(F){let S=F;return null==S||(Array.isArray(S)||(S=S.split(".")),0===S.length)?null:S.reduce((L,ge)=>L&&L._find(ge),this)}getError(F,S){const L=S?this.get(S):this;return L&&L.errors?L.errors[F]:null}hasError(F,S){return!!this.getError(F,S)}get root(){let F=this;for(;F._parent;)F=F._parent;return F}_updateControlsErrors(F){this.status=this._calculateStatus(),F&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(F)}_initObservables(){this.valueChanges=new d.vpe,this.statusChanges=new d.vpe}_calculateStatus(){return this._allControlsDisabled()?Rr:this.errors?jr:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(kr)?kr:this._anyControlsHaveStatus(jr)?jr:Hn}_anyControlsHaveStatus(F){return this._anyControls(S=>S.status===F)}_anyControlsDirty(){return this._anyControls(F=>F.dirty)}_anyControlsTouched(){return this._anyControls(F=>F.touched)}_updatePristine(F={}){this.pristine=!this._anyControlsDirty(),this._parent&&!F.onlySelf&&this._parent._updatePristine(F)}_updateTouched(F={}){this.touched=this._anyControlsTouched(),this._parent&&!F.onlySelf&&this._parent._updateTouched(F)}_registerOnCollectionChange(F){this._onCollectionChange=F}_setUpdateStrategy(F){se(F)&&null!=F.updateOn&&(this._updateOn=F.updateOn)}_parentMarkedDirty(F){return!F&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(F){return null}_assignValidators(F){this._rawValidators=Array.isArray(F)?F.slice():F,this._composedValidatorFn=function Ae($){return Array.isArray($)?_t($):$||null}(this._rawValidators)}_assignAsyncValidators(F){this._rawAsyncValidators=Array.isArray(F)?F.slice():F,this._composedAsyncValidatorFn=function ee($){return Array.isArray($)?gn($):$||null}(this._rawAsyncValidators)}}class Vt extends rt{constructor(F,S,L){super(mt(S),ie(L,S)),this.controls=F,this._initObservables(),this._setUpdateStrategy(S),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(F,S){return this.controls[F]?this.controls[F]:(this.controls[F]=S,S.setParent(this),S._registerOnCollectionChange(this._onCollectionChange),S)}addControl(F,S,L={}){this.registerControl(F,S),this.updateValueAndValidity({emitEvent:L.emitEvent}),this._onCollectionChange()}removeControl(F,S={}){this.controls[F]&&this.controls[F]._registerOnCollectionChange(()=>{}),delete this.controls[F],this.updateValueAndValidity({emitEvent:S.emitEvent}),this._onCollectionChange()}setControl(F,S,L={}){this.controls[F]&&this.controls[F]._registerOnCollectionChange(()=>{}),delete this.controls[F],S&&this.registerControl(F,S),this.updateValueAndValidity({emitEvent:L.emitEvent}),this._onCollectionChange()}contains(F){return this.controls.hasOwnProperty(F)&&this.controls[F].enabled}setValue(F,S={}){(function xt($,F,S){$._forEachChild((L,ge)=>{if(void 0===S[ge])throw new d.vHH(1002,"")})})(this,0,F),Object.keys(F).forEach(L=>{(function Ke($,F,S){const L=$.controls;if(!(F?Object.keys(L):L).length)throw new d.vHH(1e3,"");if(!L[S])throw new d.vHH(1001,"")})(this,!0,L),this.controls[L].setValue(F[L],{onlySelf:!0,emitEvent:S.emitEvent})}),this.updateValueAndValidity(S)}patchValue(F,S={}){null!=F&&(Object.keys(F).forEach(L=>{const ge=this.controls[L];ge&&ge.patchValue(F[L],{onlySelf:!0,emitEvent:S.emitEvent})}),this.updateValueAndValidity(S))}reset(F={},S={}){this._forEachChild((L,ge)=>{L.reset(F[ge],{onlySelf:!0,emitEvent:S.emitEvent})}),this._updatePristine(S),this._updateTouched(S),this.updateValueAndValidity(S)}getRawValue(){return this._reduceChildren({},(F,S,L)=>(F[L]=S.getRawValue(),F))}_syncPendingControls(){let F=this._reduceChildren(!1,(S,L)=>!!L._syncPendingControls()||S);return F&&this.updateValueAndValidity({onlySelf:!0}),F}_forEachChild(F){Object.keys(this.controls).forEach(S=>{const L=this.controls[S];L&&F(L,S)})}_setUpControls(){this._forEachChild(F=>{F.setParent(this),F._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(F){for(const[S,L]of Object.entries(this.controls))if(this.contains(S)&&F(L))return!0;return!1}_reduceValue(){return this._reduceChildren({},(S,L,ge)=>((L.enabled||this.disabled)&&(S[ge]=L.value),S))}_reduceChildren(F,S){let L=F;return this._forEachChild((ge,ut)=>{L=S(L,ge,ut)}),L}_allControlsDisabled(){for(const F of Object.keys(this.controls))if(this.controls[F].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(F){return this.controls.hasOwnProperty(F)?this.controls[F]:null}}const ln=new d.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>yn}),yn="always";function Bt($,F,S=yn){var L,ge;pr($,F),F.valueAccessor.writeValue($.value),($.disabled||"always"===S)&&(null===(L=(ge=F.valueAccessor).setDisabledState)||void 0===L||L.call(ge,$.disabled)),function $r($,F){F.valueAccessor.registerOnChange(S=>{$._pendingValue=S,$._pendingChange=!0,$._pendingDirty=!0,"change"===$.updateOn&&Xr($,F)})}($,F),function Ur($,F){const S=(L,ge)=>{F.valueAccessor.writeValue(L),ge&&F.viewToModelUpdate(L)};$.registerOnChange(S),F._registerOnDestroy(()=>{$._unregisterOnChange(S)})}($,F),function Fi($,F){F.valueAccessor.registerOnTouched(()=>{$._pendingTouched=!0,"blur"===$.updateOn&&$._pendingChange&&Xr($,F),"submit"!==$.updateOn&&$.markAsTouched()})}($,F),function qn($,F){if(F.valueAccessor.setDisabledState){const S=L=>{F.valueAccessor.setDisabledState(L)};$.registerOnDisabledChange(S),F._registerOnDestroy(()=>{$._unregisterOnDisabledChange(S)})}}($,F)}function fn($,F){$.forEach(S=>{S.registerOnValidatorChange&&S.registerOnValidatorChange(F)})}function pr($,F){const S=function tr($){return $._rawValidators}($);null!==F.validator?$.setValidators(Zn(S,F.validator)):"function"==typeof S&&$.setValidators([S]);const L=function ur($){return $._rawAsyncValidators}($);null!==F.asyncValidator?$.setAsyncValidators(Zn(L,F.asyncValidator)):"function"==typeof L&&$.setAsyncValidators([L]);const ge=()=>$.updateValueAndValidity();fn(F._rawValidators,ge),fn(F._rawAsyncValidators,ge)}function Xr($,F){$._pendingDirty&&$.markAsDirty(),$.setValue($._pendingValue,{emitModelToViewChange:!1}),F.viewToModelUpdate($._pendingValue),$._pendingChange=!1}const re={provide:Ar,useExisting:(0,d.Gpc)(()=>Oe)},pe=(()=>Promise.resolve())();let Oe=(()=>{class $ extends Ar{constructor(S,L,ge){super(),this.callSetDisabledState=ge,this.submitted=!1,this._directives=new Set,this.ngSubmit=new d.vpe,this.form=new Vt({},_t(S),gn(L))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(S){pe.then(()=>{const L=this._findContainer(S.path);S.control=L.registerControl(S.name,S.control),Bt(S.control,S,this.callSetDisabledState),S.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(S)})}getControl(S){return this.form.get(S.path)}removeControl(S){pe.then(()=>{const L=this._findContainer(S.path);L&&L.removeControl(S.name),this._directives.delete(S)})}addFormGroup(S){pe.then(()=>{const L=this._findContainer(S.path),ge=new Vt({});(function Gr($,F){pr($,F)})(ge,S),L.registerControl(S.name,ge),ge.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(S){pe.then(()=>{const L=this._findContainer(S.path);L&&L.removeControl(S.name)})}getFormGroup(S){return this.form.get(S.path)}updateModel(S,L){pe.then(()=>{this.form.get(S.path).setValue(L)})}setValue(S){this.control.setValue(S)}onSubmit(S){var L;return this.submitted=!0,function zs($,F){$._syncPendingControls(),F.forEach(S=>{const L=S.control;"submit"===L.updateOn&&L._pendingChange&&(S.viewToModelUpdate(L._pendingValue),L._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(S),"dialog"===(null==S||null===(L=S.target)||void 0===L?void 0:L.method)}onReset(){this.resetForm()}resetForm(S=void 0){this.form.reset(S),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(S){return S.pop(),S.length?this.form.get(S):this.form}}return $.\u0275fac=function(S){return new(S||$)(d.Y36(Ct,10),d.Y36(gt,10),d.Y36(ln,8))},$.\u0275dir=d.lG2({type:$,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(S,L){1&S&&d.NdJ("submit",function(ut){return L.onSubmit(ut)})("reset",function(){return L.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[d._Bn([re]),d.qOj]}),$})();function Ee($,F){const S=$.indexOf(F);S>-1&&$.splice(S,1)}function ne($){return"object"==typeof $&&null!==$&&2===Object.keys($).length&&"value"in $&&"disabled"in $}const ve=class extends rt{constructor(F=null,S,L){super(mt(S),ie(L,S)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(F),this._setUpdateStrategy(S),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),se(S)&&(S.nonNullable||S.initialValueIsDefault)&&(this.defaultValue=ne(F)?F.value:F)}setValue(F,S={}){this.value=this._pendingValue=F,this._onChange.length&&!1!==S.emitModelToViewChange&&this._onChange.forEach(L=>L(this.value,!1!==S.emitViewToModelChange)),this.updateValueAndValidity(S)}patchValue(F,S={}){this.setValue(F,S)}reset(F=this.defaultValue,S={}){this._applyFormState(F),this.markAsPristine(S),this.markAsUntouched(S),this.setValue(this.value,S),this._pendingChange=!1}_updateValue(){}_anyControls(F){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(F){this._onChange.push(F)}_unregisterOnChange(F){Ee(this._onChange,F)}registerOnDisabledChange(F){this._onDisabledChange.push(F)}_unregisterOnDisabledChange(F){Ee(this._onDisabledChange,F)}_forEachChild(F){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(F){ne(F)?(this.value=this._pendingValue=F.value,F.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=F}},Xi={provide:Pn,useExisting:(0,d.Gpc)(()=>Mr)},Si=(()=>Promise.resolve())();let Mr=(()=>{class $ extends Pn{constructor(S,L,ge,ut,Nt,dn){super(),this._changeDetectorRef=Nt,this.callSetDisabledState=dn,this.control=new ve,this._registered=!1,this.name="",this.update=new d.vpe,this._parent=S,this._setValidators(L),this._setAsyncValidators(ge),this.valueAccessor=function ks($,F){if(!F)return null;let S,L,ge;return Array.isArray(F),F.forEach(ut=>{ut.constructor===ft?S=ut:function Hi($){return Object.getPrototypeOf($.constructor)===lt}(ut)?L=ut:ge=ut}),ge||L||S||null}(0,ut)}ngOnChanges(S){if(this._checkForErrors(),!this._registered||"name"in S){if(this._registered&&(this._checkName(),this.formDirective)){const L=S.name.previousValue;this.formDirective.removeControl({name:L,path:this._getPath(L)})}this._setUpControl()}"isDisabled"in S&&this._updateDisabled(S),function es($,F){if(!$.hasOwnProperty("model"))return!1;const S=$.model;return!!S.isFirstChange()||!Object.is(F,S.currentValue)}(S,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(S){this.viewModel=S,this.update.emit(S)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Bt(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(S){Si.then(()=>{var L;this.control.setValue(S,{emitViewToModelChange:!1}),null===(L=this._changeDetectorRef)||void 0===L||L.markForCheck()})}_updateDisabled(S){const L=S.isDisabled.currentValue,ge=0!==L&&(0,d.D6c)(L);Si.then(()=>{var ut;ge&&!this.control.disabled?this.control.disable():!ge&&this.control.disabled&&this.control.enable(),null===(ut=this._changeDetectorRef)||void 0===ut||ut.markForCheck()})}_getPath(S){return this._parent?function kn($,F){return[...F.path,$]}(S,this._parent):[S]}}return $.\u0275fac=function(S){return new(S||$)(d.Y36(Ar,9),d.Y36(Ct,10),d.Y36(gt,10),d.Y36(pt,10),d.Y36(d.sBO,8),d.Y36(ln,8))},$.\u0275dir=d.lG2({type:$,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[d._Bn([Xi]),d.qOj,d.TTD]}),$})(),An=(()=>{class ${}return $.\u0275fac=function(S){return new(S||$)},$.\u0275dir=d.lG2({type:$,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),$})(),is=(()=>{class ${}return $.\u0275fac=function(S){return new(S||$)},$.\u0275mod=d.oAB({type:$}),$.\u0275inj=d.cJS({}),$})();const Yr=new d.OlP("NgModelWithFormControlWarning");let ki=(()=>{class ${constructor(){this._validator=tt}ngOnChanges(S){if(this.inputName in S){const L=this.normalizeInput(S[this.inputName].currentValue);this._enabled=this.enabled(L),this._validator=this._enabled?this.createValidator(L):tt,this._onChange&&this._onChange()}}validate(S){return this._validator(S)}registerOnValidatorChange(S){this._onChange=S}enabled(S){return null!=S}}return $.\u0275fac=function(S){return new(S||$)},$.\u0275dir=d.lG2({type:$,features:[d.TTD]}),$})();const po={provide:Ct,useExisting:(0,d.Gpc)(()=>go),multi:!0};let go=(()=>{class $ extends ki{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=d.D6c,this.createValidator=S=>qt}enabled(S){return S}}return $.\u0275fac=function(){let F;return function(L){return(F||(F=d.n5z($)))(L||$)}}(),$.\u0275dir=d.lG2({type:$,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(S,L){2&S&&d.uIk("required",L._enabled?"":null)},inputs:{required:"required"},features:[d._Bn([po]),d.qOj]}),$})();const Mo={provide:Ct,useExisting:(0,d.Gpc)(()=>To),multi:!0};let To=(()=>{class $ extends ki{constructor(){super(...arguments),this.inputName="minlength",this.normalizeInput=S=>function Do($){return"number"==typeof $?$:parseInt($,10)}(S),this.createValidator=S=>function ct($){return F=>It(F.value)||!function St($){return null!=$&&"number"==typeof $.length}(F.value)?null:F.value.length<$?{minlength:{requiredLength:$,actualLength:F.value.length}}:null}(S)}}return $.\u0275fac=function(){let F;return function(L){return(F||(F=d.n5z($)))(L||$)}}(),$.\u0275dir=d.lG2({type:$,selectors:[["","minlength","","formControlName",""],["","minlength","","formControl",""],["","minlength","","ngModel",""]],hostVars:1,hostBindings:function(S,L){2&S&&d.uIk("minlength",L._enabled?L.minlength:null)},inputs:{minlength:"minlength"},features:[d._Bn([Mo]),d.qOj]}),$})(),_n=(()=>{class ${}return $.\u0275fac=function(S){return new(S||$)},$.\u0275mod=d.oAB({type:$}),$.\u0275inj=d.cJS({imports:[is]}),$})(),_e=(()=>{class ${static withConfig(S){var L;return{ngModule:$,providers:[{provide:ln,useValue:null!==(L=S.callSetDisabledState)&&void 0!==L?L:yn}]}}}return $.\u0275fac=function(S){return new(S||$)},$.\u0275mod=d.oAB({type:$}),$.\u0275inj=d.cJS({imports:[_n]}),$})(),ce=(()=>{class ${static withConfig(S){var L,ge;return{ngModule:$,providers:[{provide:Yr,useValue:null!==(L=S.warnOnNgModelWithFormControl)&&void 0!==L?L:"always"},{provide:ln,useValue:null!==(ge=S.callSetDisabledState)&&void 0!==ge?ge:yn}]}}}return $.\u0275fac=function(S){return new(S||$)},$.\u0275mod=d.oAB({type:$}),$.\u0275inj=d.cJS({imports:[_n]}),$})()},6550:(Jn,Ft,z)=>{"use strict";z.d(Ft,{Dx:()=>Pn,b2:()=>rr,q6:()=>Zn,se:()=>te});var d=z(2223),E=z(4755);class be extends E.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class ke extends be{static makeCurrent(){(0,E.HT)(new ke)}onAndCancel(ie,ee,se){return ie.addEventListener(ee,se),()=>{ie.removeEventListener(ee,se)}}dispatchEvent(ie,ee){ie.dispatchEvent(ee)}remove(ie){ie.parentNode&&ie.parentNode.removeChild(ie)}createElement(ie,ee){return(ee=ee||this.getDefaultDocument()).createElement(ie)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(ie){return ie.nodeType===Node.ELEMENT_NODE}isShadowRoot(ie){return ie instanceof DocumentFragment}getGlobalEventTarget(ie,ee){return"window"===ee?window:"document"===ee?ie:"body"===ee?ie.body:null}getBaseHref(ie){const ee=function je(){return qe=qe||document.querySelector("base"),qe?qe.getAttribute("href"):null}();return null==ee?null:function Re(Ae){Se=Se||document.createElement("a"),Se.setAttribute("href",Ae);const ie=Se.pathname;return"/"===ie.charAt(0)?ie:`/${ie}`}(ee)}resetBaseElement(){qe=null}getUserAgent(){return window.navigator.userAgent}getCookie(ie){return(0,E.Mx)(document.cookie,ie)}}let Se,qe=null,Le=(()=>{class Ae{build(){return new XMLHttpRequest}}return Ae.\u0275fac=function(ee){return new(ee||Ae)},Ae.\u0275prov=d.Yz7({token:Ae,factory:Ae.\u0275fac}),Ae})();const xe=new d.OlP("EventManagerPlugins");let it=(()=>{class Ae{constructor(ee,se){this._zone=se,this._eventNameToPlugin=new Map,ee.forEach(Ke=>{Ke.manager=this}),this._plugins=ee.slice().reverse()}addEventListener(ee,se,Ke){return this._findPluginFor(se).addEventListener(ee,se,Ke)}getZone(){return this._zone}_findPluginFor(ee){const se=this._eventNameToPlugin.get(ee);if(se)return se;const Ke=this._plugins;for(let xt=0;xt<Ke.length;xt++){const rt=Ke[xt];if(rt.supports(ee))return this._eventNameToPlugin.set(ee,rt),rt}throw new Error(`No event manager plugin found for event ${ee}`)}}return Ae.\u0275fac=function(ee){return new(ee||Ae)(d.LFG(xe),d.LFG(d.R0b))},Ae.\u0275prov=d.Yz7({token:Ae,factory:Ae.\u0275fac}),Ae})();class Me{constructor(ie){this._doc=ie}}const lt="ng-app-id";let pt=(()=>{class Ae{constructor(ee,se,Ke,xt={}){this.doc=ee,this.appId=se,this.nonce=Ke,this.platformId=xt,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=(0,E.PM)(xt),this.resetHostNodes()}addStyles(ee){for(const se of ee)1===this.changeUsageCount(se,1)&&this.onStyleAdded(se)}removeStyles(ee){for(const se of ee)this.changeUsageCount(se,-1)<=0&&this.onStyleRemoved(se)}ngOnDestroy(){const ee=this.styleNodesInDOM;ee&&(ee.forEach(se=>se.remove()),ee.clear());for(const se of this.getAllStyles())this.onStyleRemoved(se);this.resetHostNodes()}addHost(ee){this.hostNodes.add(ee);for(const se of this.getAllStyles())this.addStyleToHost(ee,se)}removeHost(ee){this.hostNodes.delete(ee)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(ee){for(const se of this.hostNodes)this.addStyleToHost(se,ee)}onStyleRemoved(ee){var se,Ke;const xt=this.styleRef;null===(se=xt.get(ee))||void 0===se||null===(Ke=se.elements)||void 0===Ke||Ke.forEach(rt=>rt.remove()),xt.delete(ee)}collectServerRenderedStyles(){var ee;const se=null===(ee=this.doc.head)||void 0===ee?void 0:ee.querySelectorAll(`style[${lt}="${this.appId}"]`);if(null!=se&&se.length){const Ke=new Map;return se.forEach(xt=>{null!=xt.textContent&&Ke.set(xt.textContent,xt)}),Ke}return null}changeUsageCount(ee,se){const Ke=this.styleRef;if(Ke.has(ee)){const xt=Ke.get(ee);return xt.usage+=se,xt.usage}return Ke.set(ee,{usage:se,elements:[]}),se}getStyleElement(ee,se){const Ke=this.styleNodesInDOM,xt=null==Ke?void 0:Ke.get(se);if((null==xt?void 0:xt.parentNode)===ee)return Ke.delete(se),xt.removeAttribute(lt),xt;{const rt=this.doc.createElement("style");return this.nonce&&rt.setAttribute("nonce",this.nonce),rt.textContent=se,this.platformIsServer&&rt.setAttribute(lt,this.appId),rt}}addStyleToHost(ee,se){var Ke;const xt=this.getStyleElement(ee,se);ee.appendChild(xt);const rt=this.styleRef,Vt=null===(Ke=rt.get(se))||void 0===Ke?void 0:Ke.elements;Vt?Vt.push(xt):rt.set(se,{elements:[xt],usage:1})}resetHostNodes(){const ee=this.hostNodes;ee.clear(),ee.add(this.doc.head)}}return Ae.\u0275fac=function(ee){return new(ee||Ae)(d.LFG(E.K0),d.LFG(d.AFp),d.LFG(d.Ojb,8),d.LFG(d.Lbi))},Ae.\u0275prov=d.Yz7({token:Ae,factory:Ae.\u0275fac}),Ae})();const jt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},We=/%COMP%/g,It=new d.OlP("RemoveStylesOnCompDestory",{providedIn:"root",factory:()=>!1});function gt(Ae,ie){return ie.map(ee=>ee.replace(We,Ae))}let te=(()=>{class Ae{constructor(ee,se,Ke,xt,rt,Vt,Jt,Cn=null){this.eventManager=ee,this.sharedStylesHost=se,this.appId=Ke,this.removeStylesOnCompDestory=xt,this.doc=rt,this.platformId=Vt,this.ngZone=Jt,this.nonce=Cn,this.rendererByCompId=new Map,this.platformIsServer=(0,E.PM)(Vt),this.defaultRenderer=new Gt(ee,rt,Jt,this.platformIsServer)}createRenderer(ee,se){if(!ee||!se)return this.defaultRenderer;this.platformIsServer&&se.encapsulation===d.ifc.ShadowDom&&(se={...se,encapsulation:d.ifc.Emulated});const Ke=this.getOrCreateRenderer(ee,se);return Ke instanceof ct?Ke.applyToHost(ee):Ke instanceof Je&&Ke.applyStyles(),Ke}getOrCreateRenderer(ee,se){const Ke=this.rendererByCompId;let xt=Ke.get(se.id);if(!xt){const rt=this.doc,Vt=this.ngZone,Jt=this.eventManager,Cn=this.sharedStylesHost,vn=this.removeStylesOnCompDestory,$n=this.platformIsServer;switch(se.encapsulation){case d.ifc.Emulated:xt=new ct(Jt,Cn,se,this.appId,vn,rt,Vt,$n);break;case d.ifc.ShadowDom:return new Te(Jt,Cn,ee,se,rt,Vt,this.nonce,$n);default:xt=new Je(Jt,Cn,se,vn,rt,Vt,$n)}xt.onDestroy=()=>Ke.delete(se.id),Ke.set(se.id,xt)}return xt}ngOnDestroy(){this.rendererByCompId.clear()}}return Ae.\u0275fac=function(ee){return new(ee||Ae)(d.LFG(it),d.LFG(pt),d.LFG(d.AFp),d.LFG(It),d.LFG(E.K0),d.LFG(d.Lbi),d.LFG(d.R0b),d.LFG(d.Ojb))},Ae.\u0275prov=d.Yz7({token:Ae,factory:Ae.\u0275fac}),Ae})();class Gt{constructor(ie,ee,se,Ke){this.eventManager=ie,this.doc=ee,this.ngZone=se,this.platformIsServer=Ke,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(ie,ee){return ee?this.doc.createElementNS(jt[ee]||ee,ie):this.doc.createElement(ie)}createComment(ie){return this.doc.createComment(ie)}createText(ie){return this.doc.createTextNode(ie)}appendChild(ie,ee){(qt(ie)?ie.content:ie).appendChild(ee)}insertBefore(ie,ee,se){ie&&(qt(ie)?ie.content:ie).insertBefore(ee,se)}removeChild(ie,ee){ie&&ie.removeChild(ee)}selectRootElement(ie,ee){let se="string"==typeof ie?this.doc.querySelector(ie):ie;if(!se)throw new Error(`The selector "${ie}" did not match any elements`);return ee||(se.textContent=""),se}parentNode(ie){return ie.parentNode}nextSibling(ie){return ie.nextSibling}setAttribute(ie,ee,se,Ke){if(Ke){ee=Ke+":"+ee;const xt=jt[Ke];xt?ie.setAttributeNS(xt,ee,se):ie.setAttribute(ee,se)}else ie.setAttribute(ee,se)}removeAttribute(ie,ee,se){if(se){const Ke=jt[se];Ke?ie.removeAttributeNS(Ke,ee):ie.removeAttribute(`${se}:${ee}`)}else ie.removeAttribute(ee)}addClass(ie,ee){ie.classList.add(ee)}removeClass(ie,ee){ie.classList.remove(ee)}setStyle(ie,ee,se,Ke){Ke&(d.JOm.DashCase|d.JOm.Important)?ie.style.setProperty(ee,se,Ke&d.JOm.Important?"important":""):ie.style[ee]=se}removeStyle(ie,ee,se){se&d.JOm.DashCase?ie.style.removeProperty(ee):ie.style[ee]=""}setProperty(ie,ee,se){ie[ee]=se}setValue(ie,ee){ie.nodeValue=ee}listen(ie,ee,se){if("string"==typeof ie&&!(ie=(0,E.q)().getGlobalEventTarget(this.doc,ie)))throw new Error(`Unsupported event target ${ie} for event ${ee}`);return this.eventManager.addEventListener(ie,ee,this.decoratePreventDefault(se))}decoratePreventDefault(ie){return ee=>{if("__ngUnwrap__"===ee)return ie;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>ie(ee)):ie(ee))&&(ee.preventDefault(),ee.returnValue=!1)}}}function qt(Ae){return"TEMPLATE"===Ae.tagName&&void 0!==Ae.content}class Te extends Gt{constructor(ie,ee,se,Ke,xt,rt,Vt,Jt){super(ie,xt,rt,Jt),this.sharedStylesHost=ee,this.hostEl=se,this.shadowRoot=se.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const Cn=gt(Ke.id,Ke.styles);for(const vn of Cn){const $n=document.createElement("style");Vt&&$n.setAttribute("nonce",Vt),$n.textContent=vn,this.shadowRoot.appendChild($n)}}nodeOrShadowRoot(ie){return ie===this.hostEl?this.shadowRoot:ie}appendChild(ie,ee){return super.appendChild(this.nodeOrShadowRoot(ie),ee)}insertBefore(ie,ee,se){return super.insertBefore(this.nodeOrShadowRoot(ie),ee,se)}removeChild(ie,ee){return super.removeChild(this.nodeOrShadowRoot(ie),ee)}parentNode(ie){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(ie)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Je extends Gt{constructor(ie,ee,se,Ke,xt,rt,Vt,Jt){super(ie,xt,rt,Vt),this.sharedStylesHost=ee,this.removeStylesOnCompDestory=Ke,this.rendererUsageCount=0,this.styles=Jt?gt(Jt,se.styles):se.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles),this.rendererUsageCount++}destroy(){var ie;this.removeStylesOnCompDestory&&(this.sharedStylesHost.removeStyles(this.styles),this.rendererUsageCount--,0===this.rendererUsageCount)&&(null===(ie=this.onDestroy)||void 0===ie||ie.call(this))}}class ct extends Je{constructor(ie,ee,se,Ke,xt,rt,Vt,Jt){const Cn=Ke+"-"+se.id;super(ie,ee,se,xt,rt,Vt,Jt,Cn),this.contentAttr=function St(Ae){return"_ngcontent-%COMP%".replace(We,Ae)}(Cn),this.hostAttr=function Ct(Ae){return"_nghost-%COMP%".replace(We,Ae)}(Cn)}applyToHost(ie){this.applyStyles(),this.setAttribute(ie,this.hostAttr,"")}createElement(ie,ee){const se=super.createElement(ie,ee);return super.setAttribute(se,this.contentAttr,""),se}}let yt=(()=>{class Ae extends Me{constructor(ee){super(ee)}supports(ee){return!0}addEventListener(ee,se,Ke){return ee.addEventListener(se,Ke,!1),()=>this.removeEventListener(ee,se,Ke)}removeEventListener(ee,se,Ke){return ee.removeEventListener(se,Ke)}}return Ae.\u0275fac=function(ee){return new(ee||Ae)(d.LFG(E.K0))},Ae.\u0275prov=d.Yz7({token:Ae,factory:Ae.\u0275fac}),Ae})();const et=["alt","control","meta","shift"],tt={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},dt={alt:Ae=>Ae.altKey,control:Ae=>Ae.ctrlKey,meta:Ae=>Ae.metaKey,shift:Ae=>Ae.shiftKey};let Ut=(()=>{class Ae extends Me{constructor(ee){super(ee)}supports(ee){return null!=Ae.parseEventName(ee)}addEventListener(ee,se,Ke){const xt=Ae.parseEventName(se),rt=Ae.eventCallback(xt.fullKey,Ke,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,E.q)().onAndCancel(ee,xt.domEventName,rt))}static parseEventName(ee){const se=ee.toLowerCase().split("."),Ke=se.shift();if(0===se.length||"keydown"!==Ke&&"keyup"!==Ke)return null;const xt=Ae._normalizeKey(se.pop());let rt="",Vt=se.indexOf("code");if(Vt>-1&&(se.splice(Vt,1),rt="code."),et.forEach(Cn=>{const vn=se.indexOf(Cn);vn>-1&&(se.splice(vn,1),rt+=Cn+".")}),rt+=xt,0!=se.length||0===xt.length)return null;const Jt={};return Jt.domEventName=Ke,Jt.fullKey=rt,Jt}static matchEventFullKeyCode(ee,se){let Ke=tt[ee.key]||ee.key,xt="";return se.indexOf("code.")>-1&&(Ke=ee.code,xt="code."),!(null==Ke||!Ke)&&(Ke=Ke.toLowerCase()," "===Ke?Ke="space":"."===Ke&&(Ke="dot"),et.forEach(rt=>{rt!==Ke&&(0,dt[rt])(ee)&&(xt+=rt+".")}),xt+=Ke,xt===se)}static eventCallback(ee,se,Ke){return xt=>{Ae.matchEventFullKeyCode(xt,ee)&&Ke.runGuarded(()=>se(xt))}}static _normalizeKey(ee){return"esc"===ee?"escape":ee}}return Ae.\u0275fac=function(ee){return new(ee||Ae)(d.LFG(E.K0))},Ae.\u0275prov=d.Yz7({token:Ae,factory:Ae.\u0275fac}),Ae})();const Zn=(0,d.eFA)(d._c5,"browser",[{provide:d.Lbi,useValue:E.bD},{provide:d.g9A,useValue:function nn(){ke.makeCurrent()},multi:!0},{provide:E.K0,useFactory:function cn(){return(0,d.RDi)(document),document},deps:[]}]),tr=new d.OlP(""),ur=[{provide:d.rWj,useClass:class Ze{addToWindow(ie){d.dqk.getAngularTestability=(se,Ke=!0)=>{const xt=ie.findTestabilityInTree(se,Ke);if(null==xt)throw new Error("Could not find testability for element.");return xt},d.dqk.getAllAngularTestabilities=()=>ie.getAllTestabilities(),d.dqk.getAllAngularRootElements=()=>ie.getAllRootElements(),d.dqk.frameworkStabilizers||(d.dqk.frameworkStabilizers=[]),d.dqk.frameworkStabilizers.push(se=>{const Ke=d.dqk.getAllAngularTestabilities();let xt=Ke.length,rt=!1;const Vt=function(Jt){rt=rt||Jt,xt--,0==xt&&se(rt)};Ke.forEach(function(Jt){Jt.whenStable(Vt)})})}findTestabilityInTree(ie,ee,se){if(null==ee)return null;const Ke=ie.getTestability(ee);return null!=Ke?Ke:se?(0,E.q)().isShadowRoot(ee)?this.findTestabilityInTree(ie,ee.host,!0):this.findTestabilityInTree(ie,ee.parentElement,!0):null}},deps:[]},{provide:d.lri,useClass:d.dDg,deps:[d.R0b,d.eoX,d.rWj]},{provide:d.dDg,useClass:d.dDg,deps:[d.R0b,d.eoX,d.rWj]}],un=[{provide:d.zSh,useValue:"root"},{provide:d.qLn,useFactory:function _t(){return new d.qLn},deps:[]},{provide:xe,useClass:yt,multi:!0,deps:[E.K0,d.R0b,d.Lbi]},{provide:xe,useClass:Ut,multi:!0,deps:[E.K0]},te,pt,it,{provide:d.FYo,useExisting:te},{provide:E.JF,useClass:Le,deps:[]},[]];let rr=(()=>{class Ae{constructor(ee){}static withServerTransition(ee){return{ngModule:Ae,providers:[{provide:d.AFp,useValue:ee.appId}]}}}return Ae.\u0275fac=function(ee){return new(ee||Ae)(d.LFG(tr,12))},Ae.\u0275mod=d.oAB({type:Ae}),Ae.\u0275inj=d.cJS({providers:[...un,...ur],imports:[E.ez,d.hGG]}),Ae})(),Pn=(()=>{class Ae{constructor(ee){this._doc=ee}getTitle(){return this._doc.title}setTitle(ee){this._doc.title=ee||""}}return Ae.\u0275fac=function(ee){return new(ee||Ae)(d.LFG(E.K0))},Ae.\u0275prov=d.Yz7({token:Ae,factory:function(ee){let se=null;return se=ee?new ee:function Ar(){return new Pn((0,d.LFG)(E.K0))}(),se},providedIn:"root"}),Ae})();typeof window<"u"&&window},5559:(Jn,Ft,z)=>{"use strict";z.d(Ft,{gz:()=>ms,jw:()=>Mr,y6:()=>Ds,OD:()=>Oe,eC:()=>un,wm:()=>xa,wN:()=>ti,F0:()=>Bn,rH:()=>Xn,Bz:()=>Wi,Hx:()=>Ne,fw:()=>ro});var d=z(2223),E=z(9751),be=z(576),qe=z(8996),je=z(9646),Se=z(1135),Re=z(4742),Ze=z(4671),Le=z(3268),xe=z(7669),it=z(1810),Me=z(5403),lt=z(9672);function pt(...V){const H=(0,xe.yG)(V),R=(0,xe.jO)(V),{args:q,keys:me}=(0,Re.D)(V);if(0===q.length)return(0,qe.D)([],H);const Xe=new E.y(function jt(V,H,R=Ze.y){return q=>{We(H,()=>{const{length:me}=V,Xe=new Array(me);let Ue=me,Yt=me;for(let Tn=0;Tn<me;Tn++)We(H,()=>{const xr=(0,qe.D)(V[Tn],H);let Mi=!1;xr.subscribe((0,Me.x)(q,Zr=>{Xe[Tn]=Zr,Mi||(Mi=!0,Yt--),Yt||q.next(R(Xe.slice()))},()=>{--Ue||q.complete()}))},q)},q)}}(q,H,me?Ue=>(0,it.n)(me,Ue):Ze.y));return R?Xe.pipe((0,Le.Z)(R)):Xe}function We(V,H,R){V?(0,lt.f)(R,V,H):H()}var Be=z(6805),kt=z(7272),Mt=z(8421);function ft(V){return new E.y(H=>{(0,Mt.Xf)(V()).subscribe(H)})}var It=z(9635);function St(V,H){const R=(0,be.m)(V)?V:()=>V,q=me=>me.error(R());return new E.y(H?me=>H.schedule(q,0,me):q)}var Ct=z(515),gt=z(727),te=z(4482);function Gt(){return(0,te.e)((V,H)=>{let R=null;V._refCount++;const q=(0,Me.x)(H,void 0,void 0,void 0,()=>{if(!V||V._refCount<=0||0<--V._refCount)return void(R=null);const me=V._connection,Xe=R;R=null,me&&(!Xe||me===Xe)&&me.unsubscribe(),H.unsubscribe()});V.subscribe(q),q.closed||(R=V.connect())})}class Dt extends E.y{constructor(H,R){super(),this.source=H,this.subjectFactory=R,this._subject=null,this._refCount=0,this._connection=null,(0,te.A)(H)&&(this.lift=H.lift)}_subscribe(H){return this.getSubject().subscribe(H)}getSubject(){const H=this._subject;return(!H||H.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:H}=this;this._subject=this._connection=null,null==H||H.unsubscribe()}connect(){let H=this._connection;if(!H){H=this._connection=new gt.w0;const R=this.getSubject();H.add(this.source.subscribe((0,Me.x)(R,void 0,()=>{this._teardown(),R.complete()},q=>{this._teardown(),R.error(q)},()=>this._teardown()))),H.closed&&(this._connection=null,H=gt.w0.EMPTY)}return H}refCount(){return Gt()(this)}}var Lt=z(7579),qt=z(4755),Te=z(4004),Je=z(3900),ct=z(5698),yt=z(8675),et=z(9300),tt=z(5577),dt=z(590);function Ut(V,H){return(0,be.m)(H)?(0,tt.z)(V,H,1):(0,tt.z)(V,1)}var Ot=z(8505);function en(V){return(0,te.e)((H,R)=>{let Xe,q=null,me=!1;q=H.subscribe((0,Me.x)(R,void 0,void 0,Ue=>{Xe=(0,Mt.Xf)(V(Ue,en(V)(H))),q?(q.unsubscribe(),q=null,Xe.subscribe(R)):me=!0})),me&&(q.unsubscribe(),q=null,Xe.subscribe(R))})}var rn=z(5026),On=z(6590);function nn(V){return V<=0?()=>Ct.E:(0,te.e)((H,R)=>{let q=[];H.subscribe((0,Me.x)(R,me=>{q.push(me),V<q.length&&q.shift()},()=>{for(const me of q)R.next(me);R.complete()},void 0,()=>{q=null}))})}var _t=z(8068),Zn=z(8746),tr=z(8189),ur=z(6550);const un="primary",rr=Symbol("RouteTitle");class an{constructor(H){this.params=H||{}}has(H){return Object.prototype.hasOwnProperty.call(this.params,H)}get(H){if(this.has(H)){const R=this.params[H];return Array.isArray(R)?R[0]:R}return null}getAll(H){if(this.has(H)){const R=this.params[H];return Array.isArray(R)?R:[R]}return[]}get keys(){return Object.keys(this.params)}}function Pr(V){return new an(V)}function Br(V,H,R){const q=R.path.split("/");if(q.length>V.length||"full"===R.pathMatch&&(H.hasChildren()||q.length<V.length))return null;const me={};for(let Xe=0;Xe<q.length;Xe++){const Ue=q[Xe],Yt=V[Xe];if(Ue.startsWith(":"))me[Ue.substring(1)]=Yt;else if(Ue!==Yt.path)return null}return{consumed:V.slice(0,q.length),posParams:me}}function Pn(V,H){const R=V?Object.keys(V):void 0,q=H?Object.keys(H):void 0;if(!R||!q||R.length!=q.length)return!1;let me;for(let Xe=0;Xe<R.length;Xe++)if(me=R[Xe],!oi(V[me],H[me]))return!1;return!0}function oi(V,H){if(Array.isArray(V)&&Array.isArray(H)){if(V.length!==H.length)return!1;const R=[...V].sort(),q=[...H].sort();return R.every((me,Xe)=>q[Xe]===me)}return V===H}function Wr(V){return V.length>0?V[V.length-1]:null}function ar(V){return function ke(V){return!!V&&(V instanceof E.y||(0,be.m)(V.lift)&&(0,be.m)(V.subscribe))}(V)?V:(0,d.QGY)(V)?(0,qe.D)(Promise.resolve(V)):(0,je.of)(V)}const Ai={exact:function mr(V,H,R){if(!Er(V.segments,H.segments)||!di(V.segments,H.segments,R)||V.numberOfChildren!==H.numberOfChildren)return!1;for(const q in H.children)if(!V.children[q]||!mr(V.children[q],H.children[q],R))return!1;return!0},subset:gi},bi={exact:function ir(V,H){return Pn(V,H)},subset:function ui(V,H){return Object.keys(H).length<=Object.keys(V).length&&Object.keys(H).every(R=>oi(V[R],H[R]))},ignored:()=>!0};function lr(V,H,R){return Ai[R.paths](V.root,H.root,R.matrixParams)&&bi[R.queryParams](V.queryParams,H.queryParams)&&!("exact"===R.fragment&&V.fragment!==H.fragment)}function gi(V,H,R){return ni(V,H,H.segments,R)}function ni(V,H,R,q){if(V.segments.length>R.length){const me=V.segments.slice(0,R.length);return!(!Er(me,R)||H.hasChildren()||!di(me,R,q))}if(V.segments.length===R.length){if(!Er(V.segments,R)||!di(V.segments,R,q))return!1;for(const me in H.children)if(!V.children[me]||!gi(V.children[me],H.children[me],q))return!1;return!0}{const me=R.slice(0,V.segments.length),Xe=R.slice(V.segments.length);return!!(Er(V.segments,me)&&di(V.segments,me,q)&&V.children[un])&&ni(V.children[un],H,Xe,q)}}function di(V,H,R){return H.every((q,me)=>bi[R](V[me].parameters,q.parameters))}class Ti{constructor(H=new br([],{}),R={},q=null){this.root=H,this.queryParams=R,this.fragment=q}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Pr(this.queryParams)),this._queryParamMap}toString(){return Wt.serialize(this)}}class br{constructor(H,R){this.segments=H,this.children=R,this.parent=null,Object.values(R).forEach(q=>q.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return wn(this)}}class hr{constructor(H,R){this.path=H,this.parameters=R}get parameterMap(){return this._parameterMap||(this._parameterMap=Pr(this.parameters)),this._parameterMap}toString(){return ee(this)}}function Er(V,H){return V.length===H.length&&V.every((R,q)=>R.path===H[q].path)}let Ne=(()=>{class V{}return V.\u0275fac=function(R){return new(R||V)},V.\u0275prov=d.Yz7({token:V,factory:function(){return new ht},providedIn:"root"}),V})();class ht{parse(H){const R=new yn(H);return new Ti(R.parseRootSegment(),R.parseQueryParams(),R.parseFragment())}serialize(H){const R=`/${Hn(H.root,!0)}`,q=function Ke(V){const H=Object.keys(V).map(R=>{const q=V[R];return Array.isArray(q)?q.map(me=>`${kr(R)}=${kr(me)}`).join("&"):`${kr(R)}=${kr(q)}`}).filter(R=>!!R);return H.length?`?${H.join("&")}`:""}(H.queryParams);return`${R}${q}${"string"==typeof H.fragment?`#${function Rr(V){return encodeURI(V)}(H.fragment)}`:""}`}}const Wt=new ht;function wn(V){return V.segments.map(H=>ee(H)).join("/")}function Hn(V,H){if(!V.hasChildren())return wn(V);if(H){const R=V.children[un]?Hn(V.children[un],!1):"",q=[];return Object.entries(V.children).forEach(([me,Xe])=>{me!==un&&q.push(`${me}:${Hn(Xe,!1)}`)}),q.length>0?`${R}(${q.join("//")})`:R}{const R=function Sn(V,H){let R=[];return Object.entries(V.children).forEach(([q,me])=>{q===un&&(R=R.concat(H(me,q)))}),Object.entries(V.children).forEach(([q,me])=>{q!==un&&(R=R.concat(H(me,q)))}),R}(V,(q,me)=>me===un?[Hn(V.children[un],!1)]:[`${me}:${Hn(q,!1)}`]);return 1===Object.keys(V.children).length&&null!=V.children[un]?`${wn(V)}/${R[0]}`:`${wn(V)}/(${R.join("//")})`}}function jr(V){return encodeURIComponent(V).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function kr(V){return jr(V).replace(/%3B/gi,";")}function mt(V){return jr(V).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Ae(V){return decodeURIComponent(V)}function ie(V){return Ae(V.replace(/\+/g,"%20"))}function ee(V){return`${mt(V.path)}${function se(V){return Object.keys(V).map(H=>`;${mt(H)}=${mt(V[H])}`).join("")}(V.parameters)}`}const xt=/^[^\/()?;#]+/;function rt(V){const H=V.match(xt);return H?H[0]:""}const Vt=/^[^\/()?;=#]+/,Cn=/^[^=?&#]+/,$n=/^[^&#]+/;class yn{constructor(H){this.url=H,this.remaining=H}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new br([],{}):new br([],this.parseChildren())}parseQueryParams(){const H={};if(this.consumeOptional("?"))do{this.parseQueryParam(H)}while(this.consumeOptional("&"));return H}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const H=[];for(this.peekStartsWith("(")||H.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),H.push(this.parseSegment());let R={};this.peekStartsWith("/(")&&(this.capture("/"),R=this.parseParens(!0));let q={};return this.peekStartsWith("(")&&(q=this.parseParens(!1)),(H.length>0||Object.keys(R).length>0)&&(q[un]=new br(H,R)),q}parseSegment(){const H=rt(this.remaining);if(""===H&&this.peekStartsWith(";"))throw new d.vHH(4009,!1);return this.capture(H),new hr(Ae(H),this.parseMatrixParams())}parseMatrixParams(){const H={};for(;this.consumeOptional(";");)this.parseParam(H);return H}parseParam(H){const R=function Jt(V){const H=V.match(Vt);return H?H[0]:""}(this.remaining);if(!R)return;this.capture(R);let q="";if(this.consumeOptional("=")){const me=rt(this.remaining);me&&(q=me,this.capture(q))}H[Ae(R)]=Ae(q)}parseQueryParam(H){const R=function vn(V){const H=V.match(Cn);return H?H[0]:""}(this.remaining);if(!R)return;this.capture(R);let q="";if(this.consumeOptional("=")){const Ue=function ln(V){const H=V.match($n);return H?H[0]:""}(this.remaining);Ue&&(q=Ue,this.capture(q))}const me=ie(R),Xe=ie(q);if(H.hasOwnProperty(me)){let Ue=H[me];Array.isArray(Ue)||(Ue=[Ue],H[me]=Ue),Ue.push(Xe)}else H[me]=Xe}parseParens(H){const R={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const q=rt(this.remaining),me=this.remaining[q.length];if("/"!==me&&")"!==me&&";"!==me)throw new d.vHH(4010,!1);let Xe;q.indexOf(":")>-1?(Xe=q.slice(0,q.indexOf(":")),this.capture(Xe),this.capture(":")):H&&(Xe=un);const Ue=this.parseChildren();R[Xe]=1===Object.keys(Ue).length?Ue[un]:new br([],Ue),this.consumeOptional("//")}return R}peekStartsWith(H){return this.remaining.startsWith(H)}consumeOptional(H){return!!this.peekStartsWith(H)&&(this.remaining=this.remaining.substring(H.length),!0)}capture(H){if(!this.consumeOptional(H))throw new d.vHH(4011,!1)}}function kn(V){return V.segments.length>0?new br([],{[un]:V}):V}function Bt(V){const H={};for(const q of Object.keys(V.children)){const Xe=Bt(V.children[q]);if(q===un&&0===Xe.segments.length&&Xe.hasChildren())for(const[Ue,Yt]of Object.entries(Xe.children))H[Ue]=Yt;else(Xe.segments.length>0||Xe.hasChildren())&&(H[q]=Xe)}return function Kt(V){if(1===V.numberOfChildren&&V.children[un]){const H=V.children[un];return new br(V.segments.concat(H.segments),H.children)}return V}(new br(V.segments,H))}function fn(V){return V instanceof Ti}function pr(V){var H;let R;const Xe=kn(function q(Ue){const Yt={};for(const xr of Ue.children){const Mi=q(xr);Yt[xr.outlet]=Mi}const Tn=new br(Ue.url,Yt);return Ue===V&&(R=Tn),Tn}(V.root));return null!==(H=R)&&void 0!==H?H:Xe}function Dr(V,H,R,q){let me=V;for(;me.parent;)me=me.parent;if(0===H.length)return Xr(me,me,me,R,q);const Xe=function ls(V){if("string"==typeof V[0]&&1===V.length&&"/"===V[0])return new Gr(!0,0,V);let H=0,R=!1;const q=V.reduce((me,Xe,Ue)=>{if("object"==typeof Xe&&null!=Xe){if(Xe.outlets){const Yt={};return Object.entries(Xe.outlets).forEach(([Tn,xr])=>{Yt[Tn]="string"==typeof xr?xr.split("/"):xr}),[...me,{outlets:Yt}]}if(Xe.segmentPath)return[...me,Xe.segmentPath]}return"string"!=typeof Xe?[...me,Xe]:0===Ue?(Xe.split("/").forEach((Yt,Tn)=>{0==Tn&&"."===Yt||(0==Tn&&""===Yt?R=!0:".."===Yt?H++:""!=Yt&&me.push(Yt))}),me):[...me,Xe]},[]);return new Gr(R,H,q)}(H);if(Xe.toRoot())return Xr(me,me,new br([],{}),R,q);const Ue=function to(V,H,R){if(V.isAbsolute)return new Os(H,!0,0);if(!R)return new Os(H,!1,NaN);if(null===R.parent)return new Os(R,!0,0);const q=$r(V.commands[0])?0:1;return function ps(V,H,R){let q=V,me=H,Xe=R;for(;Xe>me;){if(Xe-=me,q=q.parent,!q)throw new d.vHH(4005,!1);me=q.segments.length}return new Os(q,!1,me-Xe)}(R,R.segments.length-1+q,V.numberOfDoubleDots)}(Xe,me,V),Yt=Ue.processChildren?es(Ue.segmentGroup,Ue.index,Xe.commands):Eo(Ue.segmentGroup,Ue.index,Xe.commands);return Xr(me,Ue.segmentGroup,Yt,R,q)}function $r(V){return"object"==typeof V&&null!=V&&!V.outlets&&!V.segmentPath}function Fi(V){return"object"==typeof V&&null!=V&&V.outlets}function Xr(V,H,R,q,me){let Ue,Xe={};q&&Object.entries(q).forEach(([Tn,xr])=>{Xe[Tn]=Array.isArray(xr)?xr.map(Mi=>`${Mi}`):`${xr}`}),Ue=V===H?R:Ur(V,H,R);const Yt=kn(Bt(Ue));return new Ti(Yt,Xe,me)}function Ur(V,H,R){const q={};return Object.entries(V.children).forEach(([me,Xe])=>{q[me]=Xe===H?R:Ur(Xe,H,R)}),new br(V.segments,q)}class Gr{constructor(H,R,q){if(this.isAbsolute=H,this.numberOfDoubleDots=R,this.commands=q,H&&q.length>0&&$r(q[0]))throw new d.vHH(4003,!1);const me=q.find(Fi);if(me&&me!==Wr(q))throw new d.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Os{constructor(H,R,q){this.segmentGroup=H,this.processChildren=R,this.index=q}}function Eo(V,H,R){if(V||(V=new br([],{})),0===V.segments.length&&V.hasChildren())return es(V,H,R);const q=function Hi(V,H,R){let q=0,me=H;const Xe={match:!1,pathIndex:0,commandIndex:0};for(;me<V.segments.length;){if(q>=R.length)return Xe;const Ue=V.segments[me],Yt=R[q];if(Fi(Yt))break;const Tn=`${Yt}`,xr=q<R.length-1?R[q+1]:null;if(me>0&&void 0===Tn)break;if(Tn&&xr&&"object"==typeof xr&&void 0===xr.outlets){if(!Fs(Tn,xr,Ue))return Xe;q+=2}else{if(!Fs(Tn,{},Ue))return Xe;q++}me++}return{match:!0,pathIndex:me,commandIndex:q}}(V,H,R),me=R.slice(q.commandIndex);if(q.match&&q.pathIndex<V.segments.length){const Xe=new br(V.segments.slice(0,q.pathIndex),{});return Xe.children[un]=new br(V.segments.slice(q.pathIndex),V.children),es(Xe,0,me)}return q.match&&0===me.length?new br(V.segments,{}):q.match&&!V.hasChildren()?zs(V,H,R):q.match?es(V,0,me):zs(V,H,R)}function es(V,H,R){if(0===R.length)return new br(V.segments,{});{const q=function cs(V){return Fi(V[0])?V[0].outlets:{[un]:V}}(R),me={};if(!q[un]&&V.children[un]&&1===V.numberOfChildren&&0===V.children[un].segments.length){const Xe=es(V.children[un],H,R);return new br(V.segments,Xe.children)}return Object.entries(q).forEach(([Xe,Ue])=>{"string"==typeof Ue&&(Ue=[Ue]),null!==Ue&&(me[Xe]=Eo(V.children[Xe],H,Ue))}),Object.entries(V.children).forEach(([Xe,Ue])=>{void 0===q[Xe]&&(me[Xe]=Ue)}),new br(V.segments,me)}}function zs(V,H,R){const q=V.segments.slice(0,H);let me=0;for(;me<R.length;){const Xe=R[me];if(Fi(Xe)){const Tn=ks(Xe.outlets);return new br(q,Tn)}if(0===me&&$r(R[0])){q.push(new hr(V.segments[H].path,Ns(R[0]))),me++;continue}const Ue=Fi(Xe)?Xe.outlets[un]:`${Xe}`,Yt=me<R.length-1?R[me+1]:null;Ue&&Yt&&$r(Yt)?(q.push(new hr(Ue,Ns(Yt))),me+=2):(q.push(new hr(Ue,{})),me++)}return new br(q,{})}function ks(V){const H={};return Object.entries(V).forEach(([R,q])=>{"string"==typeof q&&(q=[q]),null!==q&&(H[R]=zs(new br([],{}),0,q))}),H}function Ns(V){const H={};return Object.entries(V).forEach(([R,q])=>H[R]=`${q}`),H}function Fs(V,H,R){return V==R.path&&Pn(H,R.parameters)}const re="imperative";class pe{constructor(H,R){this.id=H,this.url=R}}class Oe extends pe{constructor(H,R,q="imperative",me=null){super(H,R),this.type=0,this.navigationTrigger=q,this.restoredState=me}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Ee extends pe{constructor(H,R,q){super(H,R),this.urlAfterRedirects=q,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class ne extends pe{constructor(H,R,q,me){super(H,R),this.reason=q,this.code=me,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class ve extends pe{constructor(H,R,q,me){super(H,R),this.reason=q,this.code=me,this.type=16}}class st extends pe{constructor(H,R,q,me){super(H,R),this.error=q,this.target=me,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class wt extends pe{constructor(H,R,q,me){super(H,R),this.urlAfterRedirects=q,this.state=me,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class $t extends pe{constructor(H,R,q,me){super(H,R),this.urlAfterRedirects=q,this.state=me,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class tn extends pe{constructor(H,R,q,me,Xe){super(H,R),this.urlAfterRedirects=q,this.state=me,this.shouldActivate=Xe,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Un extends pe{constructor(H,R,q,me){super(H,R),this.urlAfterRedirects=q,this.state=me,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class jn extends pe{constructor(H,R,q,me){super(H,R),this.urlAfterRedirects=q,this.state=me,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Nr{constructor(H){this.route=H,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Kr{constructor(H){this.route=H,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class gs{constructor(H){this.snapshot=H,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Xi{constructor(H){this.snapshot=H,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Si{constructor(H){this.snapshot=H,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Mr{constructor(H){this.snapshot=H,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class An{constructor(H,R,q){this.routerEvent=H,this.position=R,this.anchor=q,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Lr{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Ds,this.attachRef=null}}let Ds=(()=>{class V{constructor(){this.contexts=new Map}onChildOutletCreated(R,q){const me=this.getOrCreateContext(R);me.outlet=q,this.contexts.set(R,me)}onChildOutletDestroyed(R){const q=this.getContext(R);q&&(q.outlet=null,q.attachRef=null)}onOutletDeactivated(){const R=this.contexts;return this.contexts=new Map,R}onOutletReAttached(R){this.contexts=R}getOrCreateContext(R){let q=this.getContext(R);return q||(q=new Lr,this.contexts.set(R,q)),q}getContext(R){return this.contexts.get(R)||null}}return V.\u0275fac=function(R){return new(R||V)},V.\u0275prov=d.Yz7({token:V,factory:V.\u0275fac,providedIn:"root"}),V})();class Ao{constructor(H){this._root=H}get root(){return this._root.value}parent(H){const R=this.pathFromRoot(H);return R.length>1?R[R.length-2]:null}children(H){const R=is(H,this._root);return R?R.children.map(q=>q.value):[]}firstChild(H){const R=is(H,this._root);return R&&R.children.length>0?R.children[0].value:null}siblings(H){const R=wo(H,this._root);return R.length<2?[]:R[R.length-2].children.map(me=>me.value).filter(me=>me!==H)}pathFromRoot(H){return wo(H,this._root).map(R=>R.value)}}function is(V,H){if(V===H.value)return H;for(const R of H.children){const q=is(V,R);if(q)return q}return null}function wo(V,H){if(V===H.value)return[H];for(const R of H.children){const q=wo(V,R);if(q.length)return q.unshift(H),q}return[]}class Qr{constructor(H,R){this.value=H,this.children=R}toString(){return`TreeNode(${this.value})`}}function zr(V){const H={};return V&&V.children.forEach(R=>H[R.value.outlet]=R),H}class zi extends Ao{constructor(H,R){super(H),this.snapshot=R,Qs(this,H)}toString(){return this.snapshot.toString()}}function Yr(V,H){const R=function ao(V,H){const Ue=new no([],{},{},"",{},un,H,null,{});return new fo("",new Qr(Ue,[]))}(0,H),q=new Se.X([new hr("",{})]),me=new Se.X({}),Xe=new Se.X({}),Ue=new Se.X({}),Yt=new Se.X(""),Tn=new ms(q,me,Ue,Yt,Xe,un,H,R.root);return Tn.snapshot=R.root,new zi(new Qr(Tn,[]),R)}class ms{constructor(H,R,q,me,Xe,Ue,Yt,Tn){var xr,Mi;this.urlSubject=H,this.paramsSubject=R,this.queryParamsSubject=q,this.fragmentSubject=me,this.dataSubject=Xe,this.outlet=Ue,this.component=Yt,this._futureSnapshot=Tn,this.title=null!==(xr=null===(Mi=this.dataSubject)||void 0===Mi?void 0:Mi.pipe((0,Te.U)(Zr=>Zr[rr])))&&void 0!==xr?xr:(0,je.of)(void 0),this.url=H,this.params=R,this.queryParams=q,this.fragment=me,this.data=Xe}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Te.U)(H=>Pr(H)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Te.U)(H=>Pr(H)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Ni(V,H="emptyOnly"){const R=V.pathFromRoot;let q=0;if("always"!==H)for(q=R.length-1;q>=1;){const me=R[q],Xe=R[q-1];if(me.routeConfig&&""===me.routeConfig.path)q--;else{if(Xe.component)break;q--}}return function Qi(V){return V.reduce((H,R)=>{var q;return{params:{...H.params,...R.params},data:{...H.data,...R.data},resolve:{...R.data,...H.resolve,...null===(q=R.routeConfig)||void 0===q?void 0:q.data,...R._resolvedData}}},{params:{},data:{},resolve:{}})}(R.slice(q))}class no{get title(){var H;return null===(H=this.data)||void 0===H?void 0:H[rr]}constructor(H,R,q,me,Xe,Ue,Yt,Tn,xr){this.url=H,this.params=R,this.queryParams=q,this.fragment=me,this.data=Xe,this.outlet=Ue,this.component=Yt,this.routeConfig=Tn,this._resolve=xr}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Pr(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Pr(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(q=>q.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class fo extends Ao{constructor(H,R){super(R),this.url=H,Qs(this,R)}toString(){return Io(this._root)}}function Qs(V,H){H.value._routerState=V,H.children.forEach(R=>Qs(V,R))}function Io(V){const H=V.children.length>0?` { ${V.children.map(Io).join(", ")} } `:"";return`${V.value}${H}`}function Co(V){if(V.snapshot){const H=V.snapshot,R=V._futureSnapshot;V.snapshot=R,Pn(H.queryParams,R.queryParams)||V.queryParamsSubject.next(R.queryParams),H.fragment!==R.fragment&&V.fragmentSubject.next(R.fragment),Pn(H.params,R.params)||V.paramsSubject.next(R.params),function Ar(V,H){if(V.length!==H.length)return!1;for(let R=0;R<V.length;++R)if(!Pn(V[R],H[R]))return!1;return!0}(H.url,R.url)||V.urlSubject.next(R.url),Pn(H.data,R.data)||V.dataSubject.next(R.data)}else V.snapshot=V._futureSnapshot,V.dataSubject.next(V._futureSnapshot.data)}function Hs(V,H){const R=Pn(V.params,H.params)&&function Di(V,H){return Er(V,H)&&V.every((R,q)=>Pn(R.parameters,H[q].parameters))}(V.url,H.url);return R&&!(!V.parent!=!H.parent)&&(!V.parent||Hs(V.parent,H.parent))}let lo=(()=>{class V{constructor(){this.activated=null,this._activatedRoute=null,this.name=un,this.activateEvents=new d.vpe,this.deactivateEvents=new d.vpe,this.attachEvents=new d.vpe,this.detachEvents=new d.vpe,this.parentContexts=(0,d.f3M)(Ds),this.location=(0,d.f3M)(d.s_b),this.changeDetector=(0,d.f3M)(d.sBO),this.environmentInjector=(0,d.f3M)(d.lqb),this.inputBinder=(0,d.f3M)(ys,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(R){if(R.name){const{firstChange:q,previousValue:me}=R.name;if(q)return;this.isTrackedInParentContexts(me)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(me)),this.initializeOutletWithName()}}ngOnDestroy(){var R;this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),null===(R=this.inputBinder)||void 0===R||R.unsubscribeFromRouteData(this)}isTrackedInParentContexts(R){var q;return(null===(q=this.parentContexts.getContext(R))||void 0===q?void 0:q.outlet)===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const R=this.parentContexts.getContext(this.name);null!=R&&R.route&&(R.attachRef?this.attach(R.attachRef,R.route):this.activateWith(R.route,R.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new d.vHH(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new d.vHH(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new d.vHH(4012,!1);this.location.detach();const R=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(R.instance),R}attach(R,q){var me;this.activated=R,this._activatedRoute=q,this.location.insert(R.hostView),null===(me=this.inputBinder)||void 0===me||me.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(R.instance)}deactivate(){if(this.activated){const R=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(R)}}activateWith(R,q){var me;if(this.isActivated)throw new d.vHH(4013,!1);this._activatedRoute=R;const Xe=this.location,Yt=R.snapshot.component,Tn=this.parentContexts.getOrCreateContext(this.name).children,xr=new Ho(R,Tn,Xe.injector);this.activated=Xe.createComponent(Yt,{index:Xe.length,injector:xr,environmentInjector:null!=q?q:this.environmentInjector}),this.changeDetector.markForCheck(),null===(me=this.inputBinder)||void 0===me||me.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}}return V.\u0275fac=function(R){return new(R||V)},V.\u0275dir=d.lG2({type:V,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[d.TTD]}),V})();class Ho{constructor(H,R,q){this.route=H,this.childContexts=R,this.parent=q}get(H,R){return H===ms?this.route:H===Ds?this.childContexts:this.parent.get(H,R)}}const ys=new d.OlP("");let xi=(()=>{class V{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(R){this.unsubscribeFromRouteData(R),this.subscribeToRouteData(R)}unsubscribeFromRouteData(R){var q;null===(q=this.outletDataSubscriptions.get(R))||void 0===q||q.unsubscribe(),this.outletDataSubscriptions.delete(R)}subscribeToRouteData(R){const{activatedRoute:q}=R,me=pt([q.queryParams,q.params,q.data]).pipe((0,Je.w)(([Xe,Ue,Yt],Tn)=>(Yt={...Xe,...Ue,...Yt},0===Tn?(0,je.of)(Yt):Promise.resolve(Yt)))).subscribe(Xe=>{if(!R.isActivated||!R.activatedComponentRef||R.activatedRoute!==q||null===q.component)return void this.unsubscribeFromRouteData(R);const Ue=(0,d.qFp)(q.component);if(Ue)for(const{templateName:Yt}of Ue.inputs)R.activatedComponentRef.setInput(Yt,Xe[Yt]);else this.unsubscribeFromRouteData(R)});this.outletDataSubscriptions.set(R,me)}}return V.\u0275fac=function(R){return new(R||V)},V.\u0275prov=d.Yz7({token:V,factory:V.\u0275fac}),V})();function Es(V,H,R){if(R&&V.shouldReuseRoute(H.value,R.value.snapshot)){const q=R.value;q._futureSnapshot=H.value;const me=function Oi(V,H,R){return H.children.map(q=>{for(const me of R.children)if(V.shouldReuseRoute(q.value,me.value.snapshot))return Es(V,q,me);return Es(V,q)})}(V,H,R);return new Qr(q,me)}{if(V.shouldAttach(H.value)){const Xe=V.retrieve(H.value);if(null!==Xe){const Ue=Xe.route;return Ue.value._futureSnapshot=H.value,Ue.children=H.children.map(Yt=>Es(V,Yt)),Ue}}const q=function Ss(V){return new ms(new Se.X(V.url),new Se.X(V.params),new Se.X(V.queryParams),new Se.X(V.fragment),new Se.X(V.data),V.outlet,V.component,V)}(H.value),me=H.children.map(Xe=>Es(V,Xe));return new Qr(q,me)}}const co="ngNavigationCancelingError";function qs(V,H){const{redirectTo:R,navigationBehaviorOptions:q}=fn(H)?{redirectTo:H,navigationBehaviorOptions:void 0}:H,me=Ls(!1,0,H);return me.url=R,me.navigationBehaviorOptions=q,me}function Ls(V,H,R){const q=new Error("NavigationCancelingError: "+(V||""));return q[co]=!0,q.cancellationCode=H,R&&(q.url=R),q}function vs(V){return Do(V)&&fn(V.url)}function Do(V){return V&&V[co]}let ro=(()=>{class V{}return V.\u0275fac=function(R){return new(R||V)},V.\u0275cmp=d.Xpm({type:V,selectors:[["ng-component"]],standalone:!0,features:[d.jDz],decls:1,vars:0,template:function(R,q){1&R&&d._UZ(0,"router-outlet")},dependencies:[lo],encapsulation:2}),V})();function xo(V){const H=V.children&&V.children.map(xo),R=H?{...V,children:H}:{...V};return!R.component&&!R.loadComponent&&(H||R.loadChildren)&&R.outlet&&R.outlet!==un&&(R.component=ro),R}function us(V){return V.outlet||un}function To(V){var H;if(!V)return null;if(null!==(H=V.routeConfig)&&void 0!==H&&H._injector)return V.routeConfig._injector;for(let R=V.parent;R;R=R.parent){const q=R.routeConfig;if(null!=q&&q._loadedInjector)return q._loadedInjector;if(null!=q&&q._injector)return q._injector}return null}class O{constructor(H,R,q,me,Xe){this.routeReuseStrategy=H,this.futureState=R,this.currState=q,this.forwardEvent=me,this.inputBindingEnabled=Xe}activate(H){const R=this.futureState._root,q=this.currState?this.currState._root:null;this.deactivateChildRoutes(R,q,H),Co(this.futureState.root),this.activateChildRoutes(R,q,H)}deactivateChildRoutes(H,R,q){const me=zr(R);H.children.forEach(Xe=>{const Ue=Xe.value.outlet;this.deactivateRoutes(Xe,me[Ue],q),delete me[Ue]}),Object.values(me).forEach(Xe=>{this.deactivateRouteAndItsChildren(Xe,q)})}deactivateRoutes(H,R,q){const me=H.value,Xe=R?R.value:null;if(me===Xe)if(me.component){const Ue=q.getContext(me.outlet);Ue&&this.deactivateChildRoutes(H,R,Ue.children)}else this.deactivateChildRoutes(H,R,q);else Xe&&this.deactivateRouteAndItsChildren(R,q)}deactivateRouteAndItsChildren(H,R){H.value.component&&this.routeReuseStrategy.shouldDetach(H.value.snapshot)?this.detachAndStoreRouteSubtree(H,R):this.deactivateRouteAndOutlet(H,R)}detachAndStoreRouteSubtree(H,R){const q=R.getContext(H.value.outlet),me=q&&H.value.component?q.children:R,Xe=zr(H);for(const Ue of Object.keys(Xe))this.deactivateRouteAndItsChildren(Xe[Ue],me);if(q&&q.outlet){const Ue=q.outlet.detach(),Yt=q.children.onOutletDeactivated();this.routeReuseStrategy.store(H.value.snapshot,{componentRef:Ue,route:H,contexts:Yt})}}deactivateRouteAndOutlet(H,R){const q=R.getContext(H.value.outlet),me=q&&H.value.component?q.children:R,Xe=zr(H);for(const Ue of Object.keys(Xe))this.deactivateRouteAndItsChildren(Xe[Ue],me);q&&(q.outlet&&(q.outlet.deactivate(),q.children.onOutletDeactivated()),q.attachRef=null,q.route=null)}activateChildRoutes(H,R,q){const me=zr(R);H.children.forEach(Xe=>{this.activateRoutes(Xe,me[Xe.value.outlet],q),this.forwardEvent(new Mr(Xe.value.snapshot))}),H.children.length&&this.forwardEvent(new Xi(H.value.snapshot))}activateRoutes(H,R,q){const me=H.value,Xe=R?R.value:null;if(Co(me),me===Xe)if(me.component){const Ue=q.getOrCreateContext(me.outlet);this.activateChildRoutes(H,R,Ue.children)}else this.activateChildRoutes(H,R,q);else if(me.component){const Ue=q.getOrCreateContext(me.outlet);if(this.routeReuseStrategy.shouldAttach(me.snapshot)){const Yt=this.routeReuseStrategy.retrieve(me.snapshot);this.routeReuseStrategy.store(me.snapshot,null),Ue.children.onOutletReAttached(Yt.contexts),Ue.attachRef=Yt.componentRef,Ue.route=Yt.route.value,Ue.outlet&&Ue.outlet.attach(Yt.componentRef,Yt.route.value),Co(Yt.route.value),this.activateChildRoutes(H,null,Ue.children)}else{const Yt=To(me.snapshot);Ue.attachRef=null,Ue.route=me,Ue.injector=Yt,Ue.outlet&&Ue.outlet.activateWith(me,Ue.injector),this.activateChildRoutes(H,null,Ue.children)}}else this.activateChildRoutes(H,null,q)}}class he{constructor(H){this.path=H,this.route=this.path[this.path.length-1]}}class N{constructor(H,R){this.component=H,this.route=R}}function le(V,H,R){const q=V._root;return Sr(q,H?H._root:null,R,[q.value])}function _n(V,H){const R=Symbol(),q=H.get(V,R);return q===R?"function"!=typeof V||(0,d.Z0I)(V)?H.get(V):V:q}function Sr(V,H,R,q,me={canDeactivateChecks:[],canActivateChecks:[]}){const Xe=zr(H);return V.children.forEach(Ue=>{(function Gn(V,H,R,q,me={canDeactivateChecks:[],canActivateChecks:[]}){const Xe=V.value,Ue=H?H.value:null,Yt=R?R.getContext(V.value.outlet):null;if(Ue&&Xe.routeConfig===Ue.routeConfig){const Tn=function ai(V,H,R){if("function"==typeof R)return R(V,H);switch(R){case"pathParamsChange":return!Er(V.url,H.url);case"pathParamsOrQueryParamsChange":return!Er(V.url,H.url)||!Pn(V.queryParams,H.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Hs(V,H)||!Pn(V.queryParams,H.queryParams);default:return!Hs(V,H)}}(Ue,Xe,Xe.routeConfig.runGuardsAndResolvers);Tn?me.canActivateChecks.push(new he(q)):(Xe.data=Ue.data,Xe._resolvedData=Ue._resolvedData),Sr(V,H,Xe.component?Yt?Yt.children:null:R,q,me),Tn&&Yt&&Yt.outlet&&Yt.outlet.isActivated&&me.canDeactivateChecks.push(new N(Yt.outlet.component,Ue))}else Ue&&hi(H,Yt,me),me.canActivateChecks.push(new he(q)),Sr(V,null,Xe.component?Yt?Yt.children:null:R,q,me)})(Ue,Xe[Ue.value.outlet],R,q.concat([Ue.value]),me),delete Xe[Ue.value.outlet]}),Object.entries(Xe).forEach(([Ue,Yt])=>hi(Yt,R.getContext(Ue),me)),me}function hi(V,H,R){const q=zr(V),me=V.value;Object.entries(q).forEach(([Xe,Ue])=>{hi(Ue,me.component?H?H.children.getContext(Xe):null:H,R)}),R.canDeactivateChecks.push(new N(me.component&&H&&H.outlet&&H.outlet.isActivated?H.outlet.component:null,me))}function ws(V){return"function"==typeof V}function L(V){return V instanceof Be.K||"EmptyError"===(null==V?void 0:V.name)}const ge=Symbol("INITIAL_VALUE");function ut(){return(0,Je.w)(V=>pt(V.map(H=>H.pipe((0,ct.q)(1),(0,yt.O)(ge)))).pipe((0,Te.U)(H=>{for(const R of H)if(!0!==R){if(R===ge)return ge;if(!1===R||R instanceof Ti)return R}return!0}),(0,et.h)(H=>H!==ge),(0,ct.q)(1)))}function Js(V){return(0,It.z)((0,Ot.b)(H=>{if(fn(H))throw qs(0,H)}),(0,Te.U)(H=>!0===H))}class xs{constructor(H){this.segmentGroup=H||null}}class Ei{constructor(H){this.urlTree=H}}function Ms(V){return St(new xs(V))}function io(V){return St(new Ei(V))}class oa{constructor(H,R){this.urlSerializer=H,this.urlTree=R}noMatchError(H){return new d.vHH(4002,!1)}lineralizeSegments(H,R){let q=[],me=R.root;for(;;){if(q=q.concat(me.segments),0===me.numberOfChildren)return(0,je.of)(q);if(me.numberOfChildren>1||!me.children[un])return St(new d.vHH(4e3,!1));me=me.children[un]}}applyRedirectCommands(H,R,q){return this.applyRedirectCreateUrlTree(R,this.urlSerializer.parse(R),H,q)}applyRedirectCreateUrlTree(H,R,q,me){const Xe=this.createSegmentGroup(H,R.root,q,me);return new Ti(Xe,this.createQueryParams(R.queryParams,this.urlTree.queryParams),R.fragment)}createQueryParams(H,R){const q={};return Object.entries(H).forEach(([me,Xe])=>{if("string"==typeof Xe&&Xe.startsWith(":")){const Yt=Xe.substring(1);q[me]=R[Yt]}else q[me]=Xe}),q}createSegmentGroup(H,R,q,me){const Xe=this.createSegments(H,R.segments,q,me);let Ue={};return Object.entries(R.children).forEach(([Yt,Tn])=>{Ue[Yt]=this.createSegmentGroup(H,Tn,q,me)}),new br(Xe,Ue)}createSegments(H,R,q,me){return R.map(Xe=>Xe.path.startsWith(":")?this.findPosParam(H,Xe,me):this.findOrReturn(Xe,q))}findPosParam(H,R,q){const me=q[R.path.substring(1)];if(!me)throw new d.vHH(4001,!1);return me}findOrReturn(H,R){let q=0;for(const me of R){if(me.path===H.path)return R.splice(q),me;q++}return H}}const ta={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Ta(V,H,R,q,me){const Xe=Aa(V,H,R);return Xe.matched?(q=function ki(V,H){var R;return V.providers&&!V._injector&&(V._injector=(0,d.MMx)(V.providers,H,`Route: ${V.path}`)),null!==(R=V._injector)&&void 0!==R?R:H}(H,q),function As(V,H,R,q){const me=H.canMatch;if(!me||0===me.length)return(0,je.of)(!0);const Xe=me.map(Ue=>{const Yt=_n(Ue,V);return ar(function $(V){return V&&ws(V.canMatch)}(Yt)?Yt.canMatch(H,R):V.runInContext(()=>Yt(H,R)))});return(0,je.of)(Xe).pipe(ut(),Js())}(q,H,R).pipe((0,Te.U)(Ue=>!0===Ue?Xe:{...ta}))):(0,je.of)(Xe)}function Aa(V,H,R){var q,me;if(""===H.path)return"full"===H.pathMatch&&(V.hasChildren()||R.length>0)?{...ta}:{matched:!0,consumedSegments:[],remainingSegments:R,parameters:{},positionalParamSegments:{}};const Ue=(H.matcher||Br)(R,V,H);if(!Ue)return{...ta};const Yt={};Object.entries(null!==(q=Ue.posParams)&&void 0!==q?q:{}).forEach(([xr,Mi])=>{Yt[xr]=Mi.path});const Tn=Ue.consumed.length>0?{...Yt,...Ue.consumed[Ue.consumed.length-1].parameters}:Yt;return{matched:!0,consumedSegments:Ue.consumed,remainingSegments:R.slice(Ue.consumed.length),parameters:Tn,positionalParamSegments:null!==(me=Ue.posParams)&&void 0!==me?me:{}}}function na(V,H,R,q){return R.length>0&&function Zs(V,H,R){return R.some(q=>Oo(V,H,q)&&us(q)!==un)}(V,R,q)?{segmentGroup:new br(H,Gs(q,new br(R,V.children))),slicedSegments:[]}:0===R.length&&function ba(V,H,R){return R.some(q=>Oo(V,H,q))}(V,R,q)?{segmentGroup:new br(V.segments,Na(V,0,R,q,V.children)),slicedSegments:R}:{segmentGroup:new br(V.segments,V.children),slicedSegments:R}}function Na(V,H,R,q,me){const Xe={};for(const Ue of q)if(Oo(V,R,Ue)&&!me[us(Ue)]){const Yt=new br([],{});Xe[us(Ue)]=Yt}return{...me,...Xe}}function Gs(V,H){const R={};R[un]=H;for(const q of V)if(""===q.path&&us(q)!==un){const me=new br([],{});R[us(q)]=me}return R}function Oo(V,H,R){return(!(V.hasChildren()||H.length>0)||"full"!==R.pathMatch)&&""===R.path}class oe{constructor(H,R,q,me,Xe,Ue,Yt){this.injector=H,this.configLoader=R,this.rootComponentType=q,this.config=me,this.urlTree=Xe,this.paramsInheritanceStrategy=Ue,this.urlSerializer=Yt,this.allowRedirects=!0,this.applyRedirects=new oa(this.urlSerializer,this.urlTree)}noMatchError(H){return new d.vHH(4002,!1)}recognize(){const H=na(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,H,un).pipe(en(R=>{if(R instanceof Ei)return this.allowRedirects=!1,this.urlTree=R.urlTree,this.match(R.urlTree);throw R instanceof xs?this.noMatchError(R):R}),(0,Te.U)(R=>{const q=new no([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},un,this.rootComponentType,null,{}),me=new Qr(q,R),Xe=new fo("",me),Ue=function qn(V,H,R=null,q=null){return Dr(pr(V),H,R,q)}(q,[],this.urlTree.queryParams,this.urlTree.fragment);return Ue.queryParams=this.urlTree.queryParams,Xe.url=this.urlSerializer.serialize(Ue),this.inheritParamsAndData(Xe._root),{state:Xe,tree:Ue}}))}match(H){return this.processSegmentGroup(this.injector,this.config,H.root,un).pipe(en(q=>{throw q instanceof xs?this.noMatchError(q):q}))}inheritParamsAndData(H){const R=H.value,q=Ni(R,this.paramsInheritanceStrategy);R.params=Object.freeze(q.params),R.data=Object.freeze(q.data),H.children.forEach(me=>this.inheritParamsAndData(me))}processSegmentGroup(H,R,q,me){return 0===q.segments.length&&q.hasChildren()?this.processChildren(H,R,q):this.processSegment(H,R,q,q.segments,me,!0)}processChildren(H,R,q){const me=[];for(const Xe of Object.keys(q.children))"primary"===Xe?me.unshift(Xe):me.push(Xe);return(0,qe.D)(me).pipe(Ut(Xe=>{const Ue=q.children[Xe],Yt=function Mo(V,H){const R=V.filter(q=>us(q)===H);return R.push(...V.filter(q=>us(q)!==H)),R}(R,Xe);return this.processSegmentGroup(H,Yt,Ue,Xe)}),(0,rn.R)((Xe,Ue)=>(Xe.push(...Ue),Xe)),(0,On.d)(null),function cn(V,H){const R=arguments.length>=2;return q=>q.pipe(V?(0,et.h)((me,Xe)=>V(me,Xe,q)):Ze.y,nn(1),R?(0,On.d)(H):(0,_t.T)(()=>new Be.K))}(),(0,tt.z)(Xe=>{if(null===Xe)return Ms(q);const Ue=at(Xe);return function De(V){V.sort((H,R)=>H.value.outlet===un?-1:R.value.outlet===un?1:H.value.outlet.localeCompare(R.value.outlet))}(Ue),(0,je.of)(Ue)}))}processSegment(H,R,q,me,Xe,Ue){return(0,qe.D)(R).pipe(Ut(Yt=>{var Tn;return this.processSegmentAgainstRoute(null!==(Tn=Yt._injector)&&void 0!==Tn?Tn:H,R,Yt,q,me,Xe,Ue).pipe(en(xr=>{if(xr instanceof xs)return(0,je.of)(null);throw xr}))}),(0,dt.P)(Yt=>!!Yt),en(Yt=>{if(L(Yt))return function M(V,H,R){return 0===H.length&&!V.children[R]}(q,me,Xe)?(0,je.of)([]):Ms(q);throw Yt}))}processSegmentAgainstRoute(H,R,q,me,Xe,Ue,Yt){return function Ea(V,H,R,q){return!!(us(V)===q||q!==un&&Oo(H,R,V))&&("**"===V.path||Aa(H,V,R).matched)}(q,me,Xe,Ue)?void 0===q.redirectTo?this.matchSegmentAgainstRoute(H,me,q,Xe,Ue,Yt):Yt&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(H,me,R,q,Xe,Ue):Ms(me):Ms(me)}expandSegmentAgainstRouteUsingRedirect(H,R,q,me,Xe,Ue){return"**"===me.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(H,q,me,Ue):this.expandRegularSegmentAgainstRouteUsingRedirect(H,R,q,me,Xe,Ue)}expandWildCardWithParamsAgainstRouteUsingRedirect(H,R,q,me){const Xe=this.applyRedirects.applyRedirectCommands([],q.redirectTo,{});return q.redirectTo.startsWith("/")?io(Xe):this.applyRedirects.lineralizeSegments(q,Xe).pipe((0,tt.z)(Ue=>{const Yt=new br(Ue,{});return this.processSegment(H,R,Yt,Ue,me,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(H,R,q,me,Xe,Ue){const{matched:Yt,consumedSegments:Tn,remainingSegments:xr,positionalParamSegments:Mi}=Aa(R,me,Xe);if(!Yt)return Ms(R);const Zr=this.applyRedirects.applyRedirectCommands(Tn,me.redirectTo,Mi);return me.redirectTo.startsWith("/")?io(Zr):this.applyRedirects.lineralizeSegments(me,Zr).pipe((0,tt.z)(ko=>this.processSegment(H,q,R,ko.concat(xr),Ue,!1)))}matchSegmentAgainstRoute(H,R,q,me,Xe,Ue){let Yt;if("**"===q.path){var Tn,xr;const Mi=me.length>0?Wr(me).parameters:{},Zr=new no(me,Mi,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,zt(q),us(q),null!==(Tn=null!==(xr=q.component)&&void 0!==xr?xr:q._loadedComponent)&&void 0!==Tn?Tn:null,q,sn(q));Yt=(0,je.of)({snapshot:Zr,consumedSegments:[],remainingSegments:[]}),R.children={}}else Yt=Ta(R,q,me,H).pipe((0,Te.U)(({matched:Mi,consumedSegments:Zr,remainingSegments:ko,parameters:m})=>{var l,s;return Mi?{snapshot:new no(Zr,m,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,zt(q),us(q),null!==(l=null!==(s=q.component)&&void 0!==s?s:q._loadedComponent)&&void 0!==l?l:null,q,sn(q)),consumedSegments:Zr,remainingSegments:ko}:null}));return Yt.pipe((0,Je.w)(Mi=>{var Zr;return null===Mi?Ms(R):(H=null!==(Zr=q._injector)&&void 0!==Zr?Zr:H,this.getChildConfig(H,q,me).pipe((0,Je.w)(({routes:ko})=>{var m;const l=null!==(m=q._loadedInjector)&&void 0!==m?m:H,{snapshot:s,consumedSegments:c,remainingSegments:f}=Mi,{segmentGroup:_,slicedSegments:I}=na(R,c,f,ko);if(0===I.length&&_.hasChildren())return this.processChildren(l,ko,_).pipe((0,Te.U)(k=>null===k?null:[new Qr(s,k)]));if(0===ko.length&&0===I.length)return(0,je.of)([new Qr(s,[])]);const A=us(q)===Xe;return this.processSegment(l,ko,_,I,A?un:Xe,!0).pipe((0,Te.U)(k=>[new Qr(s,k)]))})))}))}getChildConfig(H,R,q){return R.children?(0,je.of)({routes:R.children,injector:H}):R.loadChildren?void 0!==R._loadedRoutes?(0,je.of)({routes:R._loadedRoutes,injector:R._loadedInjector}):function ts(V,H,R,q){const me=H.canLoad;if(void 0===me||0===me.length)return(0,je.of)(!0);const Xe=me.map(Ue=>{const Yt=_n(Ue,V);return ar(function Bs(V){return V&&ws(V.canLoad)}(Yt)?Yt.canLoad(H,R):V.runInContext(()=>Yt(H,R)))});return(0,je.of)(Xe).pipe(ut(),Js())}(H,R,q).pipe((0,tt.z)(me=>me?this.configLoader.loadChildren(H,R).pipe((0,Ot.b)(Xe=>{R._loadedRoutes=Xe.routes,R._loadedInjector=Xe.injector})):function mo(V){return St(Ls(!1,3))}())):(0,je.of)({routes:[],injector:H})}}function $e(V){const H=V.value.routeConfig;return H&&""===H.path}function at(V){const H=[],R=new Set;for(const q of V){if(!$e(q)){H.push(q);continue}const me=H.find(Xe=>q.value.routeConfig===Xe.value.routeConfig);void 0!==me?(me.children.push(...q.children),R.add(me)):H.push(q)}for(const q of R){const me=at(q.children);H.push(new Qr(q.value,me))}return H.filter(q=>!R.has(q))}function zt(V){return V.data||{}}function sn(V){return V.resolve||{}}function Y(V){return"string"==typeof V.title||null===V.title}function ue(V){return(0,Je.w)(H=>{const R=V(H);return R?(0,qe.D)(R).pipe((0,Te.U)(()=>H)):(0,je.of)(H)})}const Q=new d.OlP("ROUTES");let Pe=(()=>{class V{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,d.f3M)(d.Sil)}loadComponent(R){if(this.componentLoaders.get(R))return this.componentLoaders.get(R);if(R._loadedComponent)return(0,je.of)(R._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(R);const q=ar(R.loadComponent()).pipe((0,Te.U)(mn),(0,Ot.b)(Xe=>{this.onLoadEndListener&&this.onLoadEndListener(R),R._loadedComponent=Xe}),(0,Zn.x)(()=>{this.componentLoaders.delete(R)})),me=new Dt(q,()=>new Lt.x).pipe(Gt());return this.componentLoaders.set(R,me),me}loadChildren(R,q){if(this.childrenLoaders.get(q))return this.childrenLoaders.get(q);if(q._loadedRoutes)return(0,je.of)({routes:q._loadedRoutes,injector:q._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(q);const Xe=this.loadModuleFactoryOrRoutes(q.loadChildren).pipe((0,Te.U)(Yt=>{this.onLoadEndListener&&this.onLoadEndListener(q);let Tn,xr;return Array.isArray(Yt)?xr=Yt:(Tn=Yt.create(R).injector,xr=Tn.get(Q,[],d.XFs.Self|d.XFs.Optional).flat()),{routes:xr.map(xo),injector:Tn}}),(0,Zn.x)(()=>{this.childrenLoaders.delete(q)})),Ue=new Dt(Xe,()=>new Lt.x).pipe(Gt());return this.childrenLoaders.set(q,Ue),Ue}loadModuleFactoryOrRoutes(R){return ar(R()).pipe((0,Te.U)(mn),(0,tt.z)(q=>q instanceof d.YKP||Array.isArray(q)?(0,je.of)(q):(0,qe.D)(this.compiler.compileModuleAsync(q))))}}return V.\u0275fac=function(R){return new(R||V)},V.\u0275prov=d.Yz7({token:V,factory:V.\u0275fac,providedIn:"root"}),V})();function mn(V){return function vt(V){return V&&"object"==typeof V&&"default"in V}(V)?V.default:V}let Rn=(()=>{class V{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new Lt.x,this.configLoader=(0,d.f3M)(Pe),this.environmentInjector=(0,d.f3M)(d.lqb),this.urlSerializer=(0,d.f3M)(Ne),this.rootContexts=(0,d.f3M)(Ds),this.inputBindingEnabled=null!==(0,d.f3M)(ys,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,je.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=me=>this.events.next(new Kr(me)),this.configLoader.onLoadStartListener=me=>this.events.next(new Nr(me))}complete(){var R;null===(R=this.transitions)||void 0===R||R.complete()}handleNavigationRequest(R){var q;const me=++this.navigationId;null===(q=this.transitions)||void 0===q||q.next({...this.transitions.value,...R,id:me})}setupNavigations(R){return this.transitions=new Se.X({id:0,currentUrlTree:R.currentUrlTree,currentRawUrl:R.currentUrlTree,extractedUrl:R.urlHandlingStrategy.extract(R.currentUrlTree),urlAfterRedirects:R.urlHandlingStrategy.extract(R.currentUrlTree),rawUrl:R.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:re,restoredState:null,currentSnapshot:R.routerState.snapshot,targetSnapshot:null,currentRouterState:R.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,et.h)(q=>0!==q.id),(0,Te.U)(q=>({...q,extractedUrl:R.urlHandlingStrategy.extract(q.rawUrl)})),(0,Je.w)(q=>{let me=!1,Xe=!1;return(0,je.of)(q).pipe((0,Ot.b)(Ue=>{this.currentNavigation={id:Ue.id,initialUrl:Ue.rawUrl,extractedUrl:Ue.extractedUrl,trigger:Ue.source,extras:Ue.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,Je.w)(Ue=>{var Yt;const Tn=R.browserUrlTree.toString(),xr=!R.navigated||Ue.extractedUrl.toString()!==Tn||Tn!==R.currentUrlTree.toString(),Mi=null!==(Yt=Ue.extras.onSameUrlNavigation)&&void 0!==Yt?Yt:R.onSameUrlNavigation;if(!xr&&"reload"!==Mi){const Zr="";return this.events.next(new ve(Ue.id,R.serializeUrl(q.rawUrl),Zr,0)),R.rawUrlTree=Ue.rawUrl,Ue.resolve(null),Ct.E}if(R.urlHandlingStrategy.shouldProcessUrl(Ue.rawUrl))return ei(Ue.source)&&(R.browserUrlTree=Ue.extractedUrl),(0,je.of)(Ue).pipe((0,Je.w)(Zr=>{var ko,m;const l=null===(ko=this.transitions)||void 0===ko?void 0:ko.getValue();return this.events.next(new Oe(Zr.id,this.urlSerializer.serialize(Zr.extractedUrl),Zr.source,Zr.restoredState)),l!==(null===(m=this.transitions)||void 0===m?void 0:m.getValue())?Ct.E:Promise.resolve(Zr)}),function Nn(V,H,R,q,me,Xe){return(0,tt.z)(Ue=>function Z(V,H,R,q,me,Xe,Ue="emptyOnly"){return new oe(V,H,R,q,me,Ue,Xe).recognize()}(V,H,R,q,Ue.extractedUrl,me,Xe).pipe((0,Te.U)(({state:Yt,tree:Tn})=>({...Ue,targetSnapshot:Yt,urlAfterRedirects:Tn}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,R.config,this.urlSerializer,R.paramsInheritanceStrategy),(0,Ot.b)(Zr=>{if(q.targetSnapshot=Zr.targetSnapshot,q.urlAfterRedirects=Zr.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:Zr.urlAfterRedirects},"eager"===R.urlUpdateStrategy){if(!Zr.extras.skipLocationChange){const m=R.urlHandlingStrategy.merge(Zr.urlAfterRedirects,Zr.rawUrl);R.setBrowserUrl(m,Zr)}R.browserUrlTree=Zr.urlAfterRedirects}const ko=new wt(Zr.id,this.urlSerializer.serialize(Zr.extractedUrl),this.urlSerializer.serialize(Zr.urlAfterRedirects),Zr.targetSnapshot);this.events.next(ko)}));if(xr&&R.urlHandlingStrategy.shouldProcessUrl(R.rawUrlTree)){const{id:Zr,extractedUrl:ko,source:m,restoredState:l,extras:s}=Ue,c=new Oe(Zr,this.urlSerializer.serialize(ko),m,l);this.events.next(c);const f=Yr(0,this.rootComponentType).snapshot;return q={...Ue,targetSnapshot:f,urlAfterRedirects:ko,extras:{...s,skipLocationChange:!1,replaceUrl:!1}},(0,je.of)(q)}{const Zr="";return this.events.next(new ve(Ue.id,R.serializeUrl(q.extractedUrl),Zr,1)),R.rawUrlTree=Ue.rawUrl,Ue.resolve(null),Ct.E}}),(0,Ot.b)(Ue=>{const Yt=new $t(Ue.id,this.urlSerializer.serialize(Ue.extractedUrl),this.urlSerializer.serialize(Ue.urlAfterRedirects),Ue.targetSnapshot);this.events.next(Yt)}),(0,Te.U)(Ue=>q={...Ue,guards:le(Ue.targetSnapshot,Ue.currentSnapshot,this.rootContexts)}),function Nt(V,H){return(0,tt.z)(R=>{const{targetSnapshot:q,currentSnapshot:me,guards:{canActivateChecks:Xe,canDeactivateChecks:Ue}}=R;return 0===Ue.length&&0===Xe.length?(0,je.of)({...R,guardsResult:!0}):function dn(V,H,R,q){return(0,qe.D)(V).pipe((0,tt.z)(me=>function ri(V,H,R,q,me){const Xe=H&&H.routeConfig?H.routeConfig.canDeactivate:null;if(!Xe||0===Xe.length)return(0,je.of)(!0);const Ue=Xe.map(Yt=>{var Tn;const xr=null!==(Tn=To(H))&&void 0!==Tn?Tn:me,Mi=_n(Yt,xr);return ar(function ce(V){return V&&ws(V.canDeactivate)}(Mi)?Mi.canDeactivate(V,H,R,q):xr.runInContext(()=>Mi(V,H,R,q))).pipe((0,dt.P)())});return(0,je.of)(Ue).pipe(ut())}(me.component,me.route,R,H,q)),(0,dt.P)(me=>!0!==me,!0))}(Ue,q,me,V).pipe((0,tt.z)(Yt=>Yt&&function Pi(V){return"boolean"==typeof V}(Yt)?function Mn(V,H,R,q){return(0,qe.D)(H).pipe(Ut(me=>(0,kt.z)(function ci(V,H){return null!==V&&H&&H(new gs(V)),(0,je.of)(!0)}(me.route.parent,q),function li(V,H){return null!==V&&H&&H(new Si(V)),(0,je.of)(!0)}(me.route,q),function vi(V,H,R){const q=H[H.length-1],Xe=H.slice(0,H.length-1).reverse().map(Ue=>function Ge(V){const H=V.routeConfig?V.routeConfig.canActivateChild:null;return H&&0!==H.length?{node:V,guards:H}:null}(Ue)).filter(Ue=>null!==Ue).map(Ue=>ft(()=>{const Yt=Ue.guards.map(Tn=>{var xr;const Mi=null!==(xr=To(Ue.node))&&void 0!==xr?xr:R,Zr=_n(Tn,Mi);return ar(function _e(V){return V&&ws(V.canActivateChild)}(Zr)?Zr.canActivateChild(q,V):Mi.runInContext(()=>Zr(q,V))).pipe((0,dt.P)())});return(0,je.of)(Yt).pipe(ut())}));return(0,je.of)(Xe).pipe(ut())}(V,me.path,R),function mi(V,H,R){const q=H.routeConfig?H.routeConfig.canActivate:null;if(!q||0===q.length)return(0,je.of)(!0);const me=q.map(Xe=>ft(()=>{var Ue;const Yt=null!==(Ue=To(H))&&void 0!==Ue?Ue:R,Tn=_n(Xe,Yt);return ar(function Po(V){return V&&ws(V.canActivate)}(Tn)?Tn.canActivate(H,V):Yt.runInContext(()=>Tn(H,V))).pipe((0,dt.P)())}));return(0,je.of)(me).pipe(ut())}(V,me.route,R))),(0,dt.P)(me=>!0!==me,!0))}(q,Xe,V,H):(0,je.of)(Yt)),(0,Te.U)(Yt=>({...R,guardsResult:Yt})))})}(this.environmentInjector,Ue=>this.events.next(Ue)),(0,Ot.b)(Ue=>{if(q.guardsResult=Ue.guardsResult,fn(Ue.guardsResult))throw qs(0,Ue.guardsResult);const Yt=new tn(Ue.id,this.urlSerializer.serialize(Ue.extractedUrl),this.urlSerializer.serialize(Ue.urlAfterRedirects),Ue.targetSnapshot,!!Ue.guardsResult);this.events.next(Yt)}),(0,et.h)(Ue=>!!Ue.guardsResult||(R.restoreHistory(Ue),this.cancelNavigationTransition(Ue,"",3),!1)),ue(Ue=>{if(Ue.guards.canActivateChecks.length)return(0,je.of)(Ue).pipe((0,Ot.b)(Yt=>{const Tn=new Un(Yt.id,this.urlSerializer.serialize(Yt.extractedUrl),this.urlSerializer.serialize(Yt.urlAfterRedirects),Yt.targetSnapshot);this.events.next(Tn)}),(0,Je.w)(Yt=>{let Tn=!1;return(0,je.of)(Yt).pipe(function or(V,H){return(0,tt.z)(R=>{const{targetSnapshot:q,guards:{canActivateChecks:me}}=R;if(!me.length)return(0,je.of)(R);let Xe=0;return(0,qe.D)(me).pipe(Ut(Ue=>function Jr(V,H,R,q){const me=V.routeConfig,Xe=V._resolve;return void 0!==(null==me?void 0:me.title)&&!Y(me)&&(Xe[rr]=me.title),function qr(V,H,R,q){const me=function $s(V){return[...Object.keys(V),...Object.getOwnPropertySymbols(V)]}(V);if(0===me.length)return(0,je.of)({});const Xe={};return(0,qe.D)(me).pipe((0,tt.z)(Ue=>function Ps(V,H,R,q){var me;const Xe=null!==(me=To(H))&&void 0!==me?me:q,Ue=_n(V,Xe);return ar(Ue.resolve?Ue.resolve(H,R):Xe.runInContext(()=>Ue(H,R)))}(V[Ue],H,R,q).pipe((0,dt.P)(),(0,Ot.b)(Yt=>{Xe[Ue]=Yt}))),nn(1),function gn(V){return(0,Te.U)(()=>V)}(Xe),en(Ue=>L(Ue)?Ct.E:St(Ue)))}(Xe,V,H,q).pipe((0,Te.U)(Ue=>(V._resolvedData=Ue,V.data=Ni(V,R).resolve,me&&Y(me)&&(V.data[rr]=me.title),null)))}(Ue.route,q,V,H)),(0,Ot.b)(()=>Xe++),nn(1),(0,tt.z)(Ue=>Xe===me.length?(0,je.of)(R):Ct.E))})}(R.paramsInheritanceStrategy,this.environmentInjector),(0,Ot.b)({next:()=>Tn=!0,complete:()=>{Tn||(R.restoreHistory(Yt),this.cancelNavigationTransition(Yt,"",2))}}))}),(0,Ot.b)(Yt=>{const Tn=new jn(Yt.id,this.urlSerializer.serialize(Yt.extractedUrl),this.urlSerializer.serialize(Yt.urlAfterRedirects),Yt.targetSnapshot);this.events.next(Tn)}))}),ue(Ue=>{const Yt=Tn=>{var xr;const Mi=[];null!==(xr=Tn.routeConfig)&&void 0!==xr&&xr.loadComponent&&!Tn.routeConfig._loadedComponent&&Mi.push(this.configLoader.loadComponent(Tn.routeConfig).pipe((0,Ot.b)(Zr=>{Tn.component=Zr}),(0,Te.U)(()=>{})));for(const Zr of Tn.children)Mi.push(...Yt(Zr));return Mi};return pt(Yt(Ue.targetSnapshot.root)).pipe((0,On.d)(),(0,ct.q)(1))}),ue(()=>this.afterPreactivation()),(0,Te.U)(Ue=>{const Yt=function Ws(V,H,R){const q=Es(V,H._root,R?R._root:void 0);return new zi(q,H)}(R.routeReuseStrategy,Ue.targetSnapshot,Ue.currentRouterState);return q={...Ue,targetRouterState:Yt}}),(0,Ot.b)(Ue=>{R.currentUrlTree=Ue.urlAfterRedirects,R.rawUrlTree=R.urlHandlingStrategy.merge(Ue.urlAfterRedirects,Ue.rawUrl),R.routerState=Ue.targetRouterState,"deferred"===R.urlUpdateStrategy&&(Ue.extras.skipLocationChange||R.setBrowserUrl(R.rawUrlTree,Ue),R.browserUrlTree=Ue.urlAfterRedirects)}),((V,H,R,q)=>(0,Te.U)(me=>(new O(H,me.targetRouterState,me.currentRouterState,R,q).activate(V),me)))(this.rootContexts,R.routeReuseStrategy,Ue=>this.events.next(Ue),this.inputBindingEnabled),(0,ct.q)(1),(0,Ot.b)({next:Ue=>{var Yt;me=!0,this.lastSuccessfulNavigation=this.currentNavigation,R.navigated=!0,this.events.next(new Ee(Ue.id,this.urlSerializer.serialize(Ue.extractedUrl),this.urlSerializer.serialize(R.currentUrlTree))),null===(Yt=R.titleStrategy)||void 0===Yt||Yt.updateTitle(Ue.targetRouterState.snapshot),Ue.resolve(!0)},complete:()=>{me=!0}}),(0,Zn.x)(()=>{var Ue;me||Xe||this.cancelNavigationTransition(q,"",1),(null===(Ue=this.currentNavigation)||void 0===Ue?void 0:Ue.id)===q.id&&(this.currentNavigation=null)}),en(Ue=>{if(Xe=!0,Do(Ue)){vs(Ue)||(R.navigated=!0,R.restoreHistory(q,!0));const Tn=new ne(q.id,this.urlSerializer.serialize(q.extractedUrl),Ue.message,Ue.cancellationCode);if(this.events.next(Tn),vs(Ue)){const xr=R.urlHandlingStrategy.merge(Ue.url,R.rawUrlTree),Mi={skipLocationChange:q.extras.skipLocationChange,replaceUrl:"eager"===R.urlUpdateStrategy||ei(q.source)};R.scheduleNavigation(xr,re,null,Mi,{resolve:q.resolve,reject:q.reject,promise:q.promise})}else q.resolve(!1)}else{var Yt;R.restoreHistory(q,!0);const Tn=new st(q.id,this.urlSerializer.serialize(q.extractedUrl),Ue,null!==(Yt=q.targetSnapshot)&&void 0!==Yt?Yt:void 0);this.events.next(Tn);try{q.resolve(R.errorHandler(Ue))}catch(xr){q.reject(xr)}}return Ct.E}))}))}cancelNavigationTransition(R,q,me){const Xe=new ne(R.id,this.urlSerializer.serialize(R.extractedUrl),q,me);this.events.next(Xe),R.resolve(!1)}}return V.\u0275fac=function(R){return new(R||V)},V.\u0275prov=d.Yz7({token:V,factory:V.\u0275fac,providedIn:"root"}),V})();function ei(V){return V!==re}let fr=(()=>{class V{buildTitle(R){let q,me=R.root;for(;void 0!==me;){var Xe;q=null!==(Xe=this.getResolvedTitleForRoute(me))&&void 0!==Xe?Xe:q,me=me.children.find(Ue=>Ue.outlet===un)}return q}getResolvedTitleForRoute(R){return R.data[rr]}}return V.\u0275fac=function(R){return new(R||V)},V.\u0275prov=d.Yz7({token:V,factory:function(){return(0,d.f3M)(Gi)},providedIn:"root"}),V})(),Gi=(()=>{class V extends fr{constructor(R){super(),this.title=R}updateTitle(R){const q=this.buildTitle(R);void 0!==q&&this.title.setTitle(q)}}return V.\u0275fac=function(R){return new(R||V)(d.LFG(ur.Dx))},V.\u0275prov=d.Yz7({token:V,factory:V.\u0275fac,providedIn:"root"}),V})(),ti=(()=>{class V{}return V.\u0275fac=function(R){return new(R||V)},V.\u0275prov=d.Yz7({token:V,factory:function(){return(0,d.f3M)(ds)},providedIn:"root"}),V})();class Li{shouldDetach(H){return!1}store(H,R){}shouldAttach(H){return!1}retrieve(H){return null}shouldReuseRoute(H,R){return H.routeConfig===R.routeConfig}}let ds=(()=>{class V extends Li{}return V.\u0275fac=function(){let H;return function(q){return(H||(H=d.n5z(V)))(q||V)}}(),V.\u0275prov=d.Yz7({token:V,factory:V.\u0275fac,providedIn:"root"}),V})();const Is=new d.OlP("",{providedIn:"root",factory:()=>({})});let yo=(()=>{class V{}return V.\u0275fac=function(R){return new(R||V)},V.\u0275prov=d.Yz7({token:V,factory:function(){return(0,d.f3M)(Wn)},providedIn:"root"}),V})(),Wn=(()=>{class V{shouldProcessUrl(R){return!0}extract(R){return R}merge(R,q){return R}}return V.\u0275fac=function(R){return new(R||V)},V.\u0275prov=d.Yz7({token:V,factory:V.\u0275fac,providedIn:"root"}),V})();var Bi=(()=>((Bi=Bi||{})[Bi.COMPLETE=0]="COMPLETE",Bi[Bi.FAILED=1]="FAILED",Bi[Bi.REDIRECTING=2]="REDIRECTING",Bi))();function Yo(V,H){V.events.pipe((0,et.h)(R=>R instanceof Ee||R instanceof ne||R instanceof st||R instanceof ve),(0,Te.U)(R=>R instanceof Ee||R instanceof ve?Bi.COMPLETE:R instanceof ne&&(0===R.code||1===R.code)?Bi.REDIRECTING:Bi.FAILED),(0,et.h)(R=>R!==Bi.REDIRECTING),(0,ct.q)(1)).subscribe(()=>{H()})}function qo(V){throw V}function Or(V,H,R){return H.parse("/")}const ii={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Kn={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Bn=(()=>{class V{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){var R;if("computed"===this.canceledNavigationResolution)return null===(R=this.location.getState())||void 0===R?void 0:R.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){var R,q;this.disposed=!1,this.currentPageId=0,this.console=(0,d.f3M)(d.c2e),this.isNgZoneEnabled=!1,this.options=(0,d.f3M)(Is,{optional:!0})||{},this.pendingTasks=(0,d.f3M)(d.HDt),this.errorHandler=this.options.errorHandler||qo,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||Or,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,d.f3M)(yo),this.routeReuseStrategy=(0,d.f3M)(ti),this.titleStrategy=(0,d.f3M)(fr),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=null!==(R=null===(q=(0,d.f3M)(Q,{optional:!0}))||void 0===q?void 0:q.flat())&&void 0!==R?R:[],this.navigationTransitions=(0,d.f3M)(Rn),this.urlSerializer=(0,d.f3M)(Ne),this.location=(0,d.f3M)(qt.Ye),this.componentInputBindingEnabled=!!(0,d.f3M)(ys,{optional:!0}),this.isNgZoneEnabled=(0,d.f3M)(d.R0b)instanceof d.R0b&&d.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Ti,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=Yr(0,null),this.navigationTransitions.setupNavigations(this).subscribe(me=>{var Xe;this.lastSuccessfulId=me.id,this.currentPageId=null!==(Xe=this.browserPageId)&&void 0!==Xe?Xe:0},me=>{this.console.warn(`Unhandled Navigation Error: ${me}`)})}resetRootComponentType(R){this.routerState.root.component=R,this.navigationTransitions.rootComponentType=R}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const R=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),re,R)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(R=>{const q="popstate"===R.type?"popstate":"hashchange";"popstate"===q&&setTimeout(()=>{this.navigateToSyncWithBrowser(R.url,q,R.state)},0)}))}navigateToSyncWithBrowser(R,q,me){const Xe={replaceUrl:!0},Ue=null!=me&&me.navigationId?me:null;if(me){const Tn={...me};delete Tn.navigationId,delete Tn.\u0275routerPageId,0!==Object.keys(Tn).length&&(Xe.state=Tn)}const Yt=this.parseUrl(R);this.scheduleNavigation(Yt,q,Ue,Xe)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(R){this.config=R.map(xo),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(R,q={}){const{relativeTo:me,queryParams:Xe,fragment:Ue,queryParamsHandling:Yt,preserveFragment:Tn}=q,xr=Tn?this.currentUrlTree.fragment:Ue;let Zr,Mi=null;switch(Yt){case"merge":Mi={...this.currentUrlTree.queryParams,...Xe};break;case"preserve":Mi=this.currentUrlTree.queryParams;break;default:Mi=Xe||null}null!==Mi&&(Mi=this.removeEmptyProps(Mi));try{Zr=pr(me?me.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof R[0]||!R[0].startsWith("/"))&&(R=[]),Zr=this.currentUrlTree.root}return Dr(Zr,R,Mi,null!=xr?xr:null)}navigateByUrl(R,q={skipLocationChange:!1}){const me=fn(R)?R:this.parseUrl(R),Xe=this.urlHandlingStrategy.merge(me,this.rawUrlTree);return this.scheduleNavigation(Xe,re,null,q)}navigate(R,q={skipLocationChange:!1}){return function Dn(V){for(let H=0;H<V.length;H++)if(null==V[H])throw new d.vHH(4008,!1)}(R),this.navigateByUrl(this.createUrlTree(R,q),q)}serializeUrl(R){return this.urlSerializer.serialize(R)}parseUrl(R){let q;try{q=this.urlSerializer.parse(R)}catch(me){q=this.malformedUriErrorHandler(me,this.urlSerializer,R)}return q}isActive(R,q){let me;if(me=!0===q?{...ii}:!1===q?{...Kn}:q,fn(R))return lr(this.currentUrlTree,R,me);const Xe=this.parseUrl(R);return lr(this.currentUrlTree,Xe,me)}removeEmptyProps(R){return Object.keys(R).reduce((q,me)=>{const Xe=R[me];return null!=Xe&&(q[me]=Xe),q},{})}scheduleNavigation(R,q,me,Xe,Ue){if(this.disposed)return Promise.resolve(!1);let Yt,Tn,xr;Ue?(Yt=Ue.resolve,Tn=Ue.reject,xr=Ue.promise):xr=new Promise((Zr,ko)=>{Yt=Zr,Tn=ko});const Mi=this.pendingTasks.add();return Yo(this,()=>{Promise.resolve().then(()=>this.pendingTasks.remove(Mi))}),this.navigationTransitions.handleNavigationRequest({source:q,restoredState:me,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:R,extras:Xe,resolve:Yt,reject:Tn,promise:xr,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),xr.catch(Zr=>Promise.reject(Zr))}setBrowserUrl(R,q){const me=this.urlSerializer.serialize(R);if(this.location.isCurrentPathEqualTo(me)||q.extras.replaceUrl){const Yt={...q.extras.state,...this.generateNgRouterState(q.id,this.browserPageId)};this.location.replaceState(me,"",Yt)}else{var Xe;const Ue={...q.extras.state,...this.generateNgRouterState(q.id,(null!==(Xe=this.browserPageId)&&void 0!==Xe?Xe:0)+1)};this.location.go(me,"",Ue)}}restoreHistory(R,q=!1){if("computed"===this.canceledNavigationResolution){var me,Xe;const Ue=null!==(me=this.browserPageId)&&void 0!==me?me:this.currentPageId,Yt=this.currentPageId-Ue;0!==Yt?this.location.historyGo(Yt):this.currentUrlTree===(null===(Xe=this.getCurrentNavigation())||void 0===Xe?void 0:Xe.finalUrl)&&0===Yt&&(this.resetState(R),this.browserUrlTree=R.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(q&&this.resetState(R),this.resetUrlToCurrentUrlTree())}resetState(R){this.routerState=R.currentRouterState,this.currentUrlTree=R.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,R.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(R,q){return"computed"===this.canceledNavigationResolution?{navigationId:R,\u0275routerPageId:q}:{navigationId:R}}}return V.\u0275fac=function(R){return new(R||V)},V.\u0275prov=d.Yz7({token:V,factory:V.\u0275fac,providedIn:"root"}),V})(),Xn=(()=>{class V{constructor(R,q,me,Xe,Ue,Yt){var Tn;this.router=R,this.route=q,this.tabIndexAttribute=me,this.renderer=Xe,this.el=Ue,this.locationStrategy=Yt,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.href=null,this.commands=null,this.onChanges=new Lt.x;const xr=null===(Tn=Ue.nativeElement.tagName)||void 0===Tn?void 0:Tn.toLowerCase();this.isAnchorElement="a"===xr||"area"===xr,this.isAnchorElement?this.subscription=R.events.subscribe(Mi=>{Mi instanceof Ee&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(R){this._preserveFragment=(0,d.D6c)(R)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(R){this._skipLocationChange=(0,d.D6c)(R)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(R){this._replaceUrl=(0,d.D6c)(R)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(R){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",R)}ngOnChanges(R){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(R){null!=R?(this.commands=Array.isArray(R)?R:[R],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(R,q,me,Xe,Ue){return!!(null===this.urlTree||this.isAnchorElement&&(0!==R||q||me||Xe||Ue||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){var R;null===(R=this.subscription)||void 0===R||R.unsubscribe()}updateHref(){var R;this.href=null!==this.urlTree&&this.locationStrategy?null===(R=this.locationStrategy)||void 0===R?void 0:R.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const q=null===this.href?null:(0,d.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",q)}applyAttributeValue(R,q){const me=this.renderer,Xe=this.el.nativeElement;null!==q?me.setAttribute(Xe,R,q):me.removeAttribute(Xe,R)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return V.\u0275fac=function(R){return new(R||V)(d.Y36(Bn),d.Y36(ms),d.$8M("tabindex"),d.Y36(d.Qsj),d.Y36(d.SBq),d.Y36(qt.S$))},V.\u0275dir=d.lG2({type:V,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(R,q){1&R&&d.NdJ("click",function(Xe){return q.onClick(Xe.button,Xe.ctrlKey,Xe.shiftKey,Xe.altKey,Xe.metaKey)}),2&R&&d.uIk("target",q.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[d.TTD]}),V})();class wa{}let xa=(()=>{class V{preload(R,q){return q().pipe(en(()=>(0,je.of)(null)))}}return V.\u0275fac=function(R){return new(R||V)},V.\u0275prov=d.Yz7({token:V,factory:V.\u0275fac,providedIn:"root"}),V})(),al=(()=>{class V{constructor(R,q,me,Xe,Ue){this.router=R,this.injector=me,this.preloadingStrategy=Xe,this.loader=Ue}setUpPreloading(){this.subscription=this.router.events.pipe((0,et.h)(R=>R instanceof Ee),Ut(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(R,q){const me=[];for(const Tn of q){var Xe,Ue;Tn.providers&&!Tn._injector&&(Tn._injector=(0,d.MMx)(Tn.providers,R,`Route: ${Tn.path}`));const xr=null!==(Xe=Tn._injector)&&void 0!==Xe?Xe:R,Mi=null!==(Ue=Tn._loadedInjector)&&void 0!==Ue?Ue:xr;var Yt;(Tn.loadChildren&&!Tn._loadedRoutes&&void 0===Tn.canLoad||Tn.loadComponent&&!Tn._loadedComponent)&&me.push(this.preloadConfig(xr,Tn)),(Tn.children||Tn._loadedRoutes)&&me.push(this.processRoutes(Mi,null!==(Yt=Tn.children)&&void 0!==Yt?Yt:Tn._loadedRoutes))}return(0,qe.D)(me).pipe((0,tr.J)())}preloadConfig(R,q){return this.preloadingStrategy.preload(q,()=>{let me;me=q.loadChildren&&void 0===q.canLoad?this.loader.loadChildren(R,q):(0,je.of)(null);const Xe=me.pipe((0,tt.z)(Ue=>{var Yt;return null===Ue?(0,je.of)(void 0):(q._loadedRoutes=Ue.routes,q._loadedInjector=Ue.injector,this.processRoutes(null!==(Yt=Ue.injector)&&void 0!==Yt?Yt:R,Ue.routes))}));if(q.loadComponent&&!q._loadedComponent){const Ue=this.loader.loadComponent(q);return(0,qe.D)([Xe,Ue]).pipe((0,tr.J)())}return Xe})}}return V.\u0275fac=function(R){return new(R||V)(d.LFG(Bn),d.LFG(d.Sil),d.LFG(d.lqb),d.LFG(wa),d.LFG(Pe))},V.\u0275prov=d.Yz7({token:V,factory:V.\u0275fac,providedIn:"root"}),V})();const Zo=new d.OlP("");let Wa=(()=>{class V{constructor(R,q,me,Xe,Ue={}){this.urlSerializer=R,this.transitions=q,this.viewportScroller=me,this.zone=Xe,this.options=Ue,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},Ue.scrollPositionRestoration=Ue.scrollPositionRestoration||"disabled",Ue.anchorScrolling=Ue.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(R=>{R instanceof Oe?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=R.navigationTrigger,this.restoredId=R.restoredState?R.restoredState.navigationId:0):R instanceof Ee?(this.lastId=R.id,this.scheduleScrollEvent(R,this.urlSerializer.parse(R.urlAfterRedirects).fragment)):R instanceof ve&&0===R.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(R,this.urlSerializer.parse(R.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(R=>{R instanceof An&&(R.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(R.position):R.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(R.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(R,q){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new An(R,"popstate"===this.lastSource?this.store[this.restoredId]:null,q))})},0)})}ngOnDestroy(){var R,q;null===(R=this.routerEventsSubscription)||void 0===R||R.unsubscribe(),null===(q=this.scrollEventsSubscription)||void 0===q||q.unsubscribe()}}return V.\u0275fac=function(R){d.$Z()},V.\u0275prov=d.Yz7({token:V,factory:V.\u0275fac}),V})();function Jo(V,H){return{\u0275kind:V,\u0275providers:H}}function Ks(){const V=(0,d.f3M)(d.zs3);return H=>{var R,q;const me=V.get(d.z2F);if(H!==me.components[0])return;const Xe=V.get(Bn),Ue=V.get(yi);1===V.get(Fa)&&Xe.initialNavigation(),null===(R=V.get(gr,null,d.XFs.Optional))||void 0===R||R.setUpPreloading(),null===(q=V.get(Zo,null,d.XFs.Optional))||void 0===q||q.init(),Xe.resetRootComponentType(me.componentTypes[0]),Ue.closed||(Ue.next(),Ue.complete(),Ue.unsubscribe())}}const yi=new d.OlP("",{factory:()=>new Lt.x}),Fa=new d.OlP("",{providedIn:"root",factory:()=>1}),gr=new d.OlP("");function Ka(V){return Jo(0,[{provide:gr,useExisting:al},{provide:wa,useExisting:V}])}const Qt=new d.OlP("ROUTER_FORROOT_GUARD"),yr=[qt.Ye,{provide:Ne,useClass:ht},Bn,Ds,{provide:ms,useFactory:function bs(V){return V.routerState.root},deps:[Bn]},Pe,[]];function Ui(){return new d.PXZ("Router",Bn)}let Wi=(()=>{class V{constructor(R){}static forRoot(R,q){return{ngModule:V,providers:[yr,[],{provide:Q,multi:!0,useValue:R},{provide:Qt,useFactory:Uo,deps:[[Bn,new d.FiY,new d.tp0]]},{provide:Is,useValue:q||{}},null!=q&&q.useHash?{provide:qt.S$,useClass:qt.Do}:{provide:qt.S$,useClass:qt.b0},{provide:Zo,useFactory:()=>{const V=(0,d.f3M)(qt.EM),H=(0,d.f3M)(d.R0b),R=(0,d.f3M)(Is),q=(0,d.f3M)(Rn),me=(0,d.f3M)(Ne);return R.scrollOffset&&V.setOffset(R.scrollOffset),new Wa(me,q,V,H,R)}},null!=q&&q.preloadingStrategy?Ka(q.preloadingStrategy).\u0275providers:[],{provide:d.PXZ,multi:!0,useFactory:Ui},null!=q&&q.initialNavigation?aa(q):[],null!=q&&q.bindToComponentInputs?Jo(8,[xi,{provide:ys,useExisting:xi}]).\u0275providers:[],[{provide:pn,useFactory:Ks},{provide:d.tb,multi:!0,useExisting:pn}]]}}static forChild(R){return{ngModule:V,providers:[{provide:Q,multi:!0,useValue:R}]}}}return V.\u0275fac=function(R){return new(R||V)(d.LFG(Qt,8))},V.\u0275mod=d.oAB({type:V}),V.\u0275inj=d.cJS({}),V})();function Uo(V){return"guarded"}function aa(V){return["disabled"===V.initialNavigation?Jo(3,[{provide:d.ip1,multi:!0,useFactory:()=>{const H=(0,d.f3M)(Bn);return()=>{H.setUpLocationChangeListener()}}},{provide:Fa,useValue:2}]).\u0275providers:[],"enabledBlocking"===V.initialNavigation?Jo(2,[{provide:Fa,useValue:0},{provide:d.ip1,multi:!0,deps:[d.zs3],useFactory:H=>{const R=H.get(qt.V_,Promise.resolve());return()=>R.then(()=>new Promise(q=>{const me=H.get(Bn),Xe=H.get(yi);Yo(me,()=>{q(!0)}),H.get(Rn).afterPreactivation=()=>(q(!0),Xe.closed?(0,je.of)(void 0):Xe),me.initialNavigation()}))}}]).\u0275providers:[]]}const pn=new d.OlP("")},579:(Jn,Ft,z)=>{"use strict";z.d(Ft,{EI:()=>mt,Gb:()=>ht,Iv:()=>kr,Kz:()=>ie,Xd:()=>hr,lT:()=>wn,xP:()=>Rr});var d=z(5861),E=z(6881),be=z(1877),ke=z(2090),qe=z(4859);z(4727);const Se="analytics",Re="firebase_id",Ze="origin",Le=6e4,xe="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",it="https://www.googletagmanager.com/gtag/js",Me=new be.Yd("@firebase/analytics"),pt=new ke.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function jt(rt){if(!rt.startsWith(it)){const Vt=pt.create("invalid-gtag-resource",{gtagURL:rt});return Me.warn(Vt.message),""}return rt}function We(rt){return Promise.all(rt.map(Vt=>Vt.catch(Jt=>Jt)))}function It(){return(It=(0,d.Z)(function*(rt,Vt,Jt,Cn,vn,$n){const ln=Cn[vn];try{if(ln)yield Vt[ln];else{const kn=(yield We(Jt)).find(Bt=>Bt.measurementId===vn);kn&&(yield Vt[kn.appId])}}catch(yn){Me.error(yn)}rt("config",vn,$n)})).apply(this,arguments)}function Ct(){return(Ct=(0,d.Z)(function*(rt,Vt,Jt,Cn,vn){try{let $n=[];if(vn&&vn.send_to){let ln=vn.send_to;Array.isArray(ln)||(ln=[ln]);const yn=yield We(Jt);for(const kn of ln){const Bt=yn.find(fn=>fn.measurementId===kn),Kt=Bt&&Vt[Bt.appId];if(!Kt){$n=[];break}$n.push(Kt)}}0===$n.length&&($n=Object.values(Vt)),yield Promise.all($n),rt("event",Cn,vn||{})}catch($n){Me.error($n)}})).apply(this,arguments)}const Dt=30,Te=new class qt{constructor(Vt={},Jt=1e3){this.throttleMetadata=Vt,this.intervalMillis=Jt}getThrottleMetadata(Vt){return this.throttleMetadata[Vt]}setThrottleMetadata(Vt,Jt){this.throttleMetadata[Vt]=Jt}deleteThrottleMetadata(Vt){delete this.throttleMetadata[Vt]}};function Je(rt){return new Headers({Accept:"application/json","x-goog-api-key":rt})}function yt(){return(yt=(0,d.Z)(function*(rt){var Vt;const{appId:Jt,apiKey:Cn}=rt,vn={method:"GET",headers:Je(Cn)},$n=xe.replace("{app-id}",Jt),ln=yield fetch($n,vn);if(200!==ln.status&&304!==ln.status){let yn="";try{const kn=yield ln.json();null!==(Vt=kn.error)&&void 0!==Vt&&Vt.message&&(yn=kn.error.message)}catch{}throw pt.create("config-fetch-failed",{httpStatus:ln.status,responseMessage:yn})}return ln.json()})).apply(this,arguments)}function tt(){return(tt=(0,d.Z)(function*(rt,Vt=Te,Jt){const{appId:Cn,apiKey:vn,measurementId:$n}=rt.options;if(!Cn)throw pt.create("no-app-id");if(!vn){if($n)return{measurementId:$n,appId:Cn};throw pt.create("no-api-key")}const ln=Vt.getThrottleMetadata(Cn)||{backoffCount:0,throttleEndTimeMillis:Date.now()},yn=new rn;return setTimeout((0,d.Z)(function*(){yn.abort()}),void 0!==Jt?Jt:Le),dt({appId:Cn,apiKey:vn,measurementId:$n},ln,yn,Vt)})).apply(this,arguments)}function dt(rt,Vt,Jt){return Ut.apply(this,arguments)}function Ut(){return Ut=(0,d.Z)(function*(rt,{throttleEndTimeMillis:Vt,backoffCount:Jt},Cn,vn=Te){var $n;const{appId:ln,measurementId:yn}=rt;try{yield function Ot(rt,Vt){return new Promise((Jt,Cn)=>{const vn=Math.max(Vt-Date.now(),0),$n=setTimeout(Jt,vn);rt.addEventListener(()=>{clearTimeout($n),Cn(pt.create("fetch-throttle",{throttleEndTimeMillis:Vt}))})})}(Cn,Vt)}catch(kn){if(yn)return Me.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${yn} provided in the "measurementId" field in the local Firebase config. [${null==kn?void 0:kn.message}]`),{appId:ln,measurementId:yn};throw kn}try{const kn=yield function ct(rt){return yt.apply(this,arguments)}(rt);return vn.deleteThrottleMetadata(ln),kn}catch(kn){const Bt=kn;if(!function en(rt){if(!(rt instanceof ke.ZR&&rt.customData))return!1;const Vt=Number(rt.customData.httpStatus);return 429===Vt||500===Vt||503===Vt||504===Vt}(Bt)){if(vn.deleteThrottleMetadata(ln),yn)return Me.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${yn} provided in the "measurementId" field in the local Firebase config. [${null==Bt?void 0:Bt.message}]`),{appId:ln,measurementId:yn};throw kn}const Kt=503===Number(null===($n=null==Bt?void 0:Bt.customData)||void 0===$n?void 0:$n.httpStatus)?(0,ke.$s)(Jt,vn.intervalMillis,Dt):(0,ke.$s)(Jt,vn.intervalMillis),fn={throttleEndTimeMillis:Date.now()+Kt,backoffCount:Jt+1};return vn.setThrottleMetadata(ln,fn),Me.debug(`Calling attemptFetch again in ${Kt} millis`),dt(rt,fn,Cn,vn)}}),Ut.apply(this,arguments)}class rn{constructor(){this.listeners=[]}addEventListener(Vt){this.listeners.push(Vt)}abort(){this.listeners.forEach(Vt=>Vt())}}let On,Ar;function _t(){return(_t=(0,d.Z)(function*(rt,Vt,Jt,Cn,vn){if(vn&&vn.global)rt("event",Jt,Cn);else{const $n=yield Vt;rt("event",Jt,Object.assign(Object.assign({},Cn),{send_to:$n}))}})).apply(this,arguments)}function gn(){return(gn=(0,d.Z)(function*(rt,Vt,Jt,Cn){if(Cn&&Cn.global)return rt("set",{screen_name:Jt}),Promise.resolve();rt("config",yield Vt,{update:!0,screen_name:Jt})})).apply(this,arguments)}function tr(){return(tr=(0,d.Z)(function*(rt,Vt,Jt,Cn){if(Cn&&Cn.global)return rt("set",{user_id:Jt}),Promise.resolve();rt("config",yield Vt,{update:!0,user_id:Jt})})).apply(this,arguments)}function un(){return(un=(0,d.Z)(function*(rt,Vt,Jt,Cn){if(Cn&&Cn.global){const vn={};for(const $n of Object.keys(Jt))vn[`user_properties.${$n}`]=Jt[$n];return rt("set",vn),Promise.resolve()}rt("config",yield Vt,{update:!0,user_properties:Jt})})).apply(this,arguments)}function Br(){return(Br=(0,d.Z)(function*(rt,Vt){const Jt=yield rt;window[`ga-disable-${Jt}`]=!Vt})).apply(this,arguments)}function ar(){return(ar=(0,d.Z)(function*(){if(!(0,ke.hl)())return Me.warn(pt.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,ke.eu)()}catch(rt){return Me.warn(pt.create("indexeddb-unavailable",{errorInfo:null==rt?void 0:rt.toString()}).message),!1}return!0})).apply(this,arguments)}function bi(){return bi=(0,d.Z)(function*(rt,Vt,Jt,Cn,vn,$n,ln){var yn;const kn=function et(rt){return tt.apply(this,arguments)}(rt);kn.then(pr=>{Jt[pr.measurementId]=pr.appId,rt.options.measurementId&&pr.measurementId!==rt.options.measurementId&&Me.warn(`The measurement ID in the local Firebase config (${rt.options.measurementId}) does not match the measurement ID fetched from the server (${pr.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(pr=>Me.error(pr)),Vt.push(kn);const Bt=function Wr(){return ar.apply(this,arguments)}().then(pr=>{if(pr)return Cn.getId()}),[Kt,fn]=yield Promise.all([kn,Bt]);(function Gt(rt){const Vt=window.document.getElementsByTagName("script");for(const Jt of Object.values(Vt))if(Jt.src&&Jt.src.includes(it)&&Jt.src.includes(rt))return Jt;return null})($n)||function kt(rt,Vt){const Jt=function Be(rt,Vt){let Jt;return window.trustedTypes&&(Jt=window.trustedTypes.createPolicy(rt,Vt)),Jt}("firebase-js-sdk-policy",{createScriptURL:jt}),Cn=document.createElement("script"),vn=`${it}?l=${rt}&id=${Vt}`;Cn.src=Jt?null==Jt?void 0:Jt.createScriptURL(vn):vn,Cn.async=!0,document.head.appendChild(Cn)}($n,Kt.measurementId),Ar&&(vn("consent","default",Ar),function Pn(rt){Ar=rt}(void 0)),vn("js",new Date);const qn=null!==(yn=null==ln?void 0:ln.config)&&void 0!==yn?yn:{};return qn[Ze]="firebase",qn.update=!0,null!=fn&&(qn[Re]=fn),vn("config",Kt.measurementId,qn),On&&(vn("set",On),function oi(rt){On=rt}(void 0)),Kt.measurementId}),bi.apply(this,arguments)}class lr{constructor(Vt){this.app=Vt}_delete(){return delete ir[this.app.options.appId],Promise.resolve()}}let ir={},mr=[];const ui={};let di,Ti,gi="dataLayer",ni="gtag",br=!1;function hr(rt){if(br)throw pt.create("already-initialized");rt.dataLayerName&&(gi=rt.dataLayerName),rt.gtagName&&(ni=rt.gtagName)}function Er(rt,Vt,Jt){!function Di(){const rt=[];if((0,ke.ru)()&&rt.push("This is a browser extension environment."),(0,ke.zI)()||rt.push("Cookies are not available."),rt.length>0){const Vt=rt.map((Cn,vn)=>`(${vn+1}) ${Cn}`).join(" "),Jt=pt.create("invalid-analytics-context",{errorInfo:Vt});Me.warn(Jt.message)}}();const Cn=rt.options.appId;if(!Cn)throw pt.create("no-app-id");if(!rt.options.apiKey){if(!rt.options.measurementId)throw pt.create("no-api-key");Me.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${rt.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=ir[Cn])throw pt.create("already-exists",{id:Cn});if(!br){!function Mt(rt){let Vt=[];Array.isArray(window[rt])?Vt=window[rt]:window[rt]=Vt}(gi);const{wrappedGtag:$n,gtagCore:ln}=function te(rt,Vt,Jt,Cn,vn){let $n=function(...ln){window[Cn].push(arguments)};return window[vn]&&"function"==typeof window[vn]&&($n=window[vn]),window[vn]=function gt(rt,Vt,Jt,Cn){function $n(){return $n=(0,d.Z)(function*(ln,...yn){try{if("event"===ln){const[kn,Bt]=yn;yield function St(rt,Vt,Jt,Cn,vn){return Ct.apply(this,arguments)}(rt,Vt,Jt,kn,Bt)}else if("config"===ln){const[kn,Bt]=yn;yield function ft(rt,Vt,Jt,Cn,vn,$n){return It.apply(this,arguments)}(rt,Vt,Jt,Cn,kn,Bt)}else if("consent"===ln){const[kn]=yn;rt("consent","update",kn)}else if("get"===ln){const[kn,Bt,Kt]=yn;rt("get",kn,Bt,Kt)}else if("set"===ln){const[kn]=yn;rt("set",kn)}else rt(ln,...yn)}catch(kn){Me.error(kn)}}),$n.apply(this,arguments)}return function vn(ln){return $n.apply(this,arguments)}}($n,rt,Vt,Jt),{gtagCore:$n,wrappedGtag:window[vn]}}(ir,mr,ui,gi,ni);Ti=$n,di=ln,br=!0}return ir[Cn]=function Ai(rt,Vt,Jt,Cn,vn,$n,ln){return bi.apply(this,arguments)}(rt,mr,ui,Vt,di,gi,Jt),new lr(rt)}function ht(){return Wt.apply(this,arguments)}function Wt(){return(Wt=(0,d.Z)(function*(){if((0,ke.ru)()||!(0,ke.zI)()||!(0,ke.hl)())return!1;try{return yield(0,ke.eu)()}catch{return!1}})).apply(this,arguments)}function wn(rt,Vt,Jt){rt=(0,ke.m9)(rt),function cn(rt,Vt,Jt,Cn){return gn.apply(this,arguments)}(Ti,ir[rt.app.options.appId],Vt,Jt).catch(Cn=>Me.error(Cn))}function kr(rt,Vt,Jt){rt=(0,ke.m9)(rt),function Zn(rt,Vt,Jt,Cn){return tr.apply(this,arguments)}(Ti,ir[rt.app.options.appId],Vt,Jt).catch(Cn=>Me.error(Cn))}function Rr(rt,Vt,Jt){rt=(0,ke.m9)(rt),function ur(rt,Vt,Jt,Cn){return un.apply(this,arguments)}(Ti,ir[rt.app.options.appId],Vt,Jt).catch(Cn=>Me.error(Cn))}function mt(rt,Vt){rt=(0,ke.m9)(rt),function Pr(rt,Vt){return Br.apply(this,arguments)}(ir[rt.app.options.appId],Vt).catch(Jt=>Me.error(Jt))}function ie(rt,Vt,Jt,Cn){rt=(0,ke.m9)(rt),function nn(rt,Vt,Jt,Cn,vn){return _t.apply(this,arguments)}(Ti,ir[rt.app.options.appId],Vt,Jt,Cn).catch(vn=>Me.error(vn))}const se="@firebase/analytics";!function xt(){(0,E._registerComponent)(new qe.wA(Se,(Vt,{options:Jt})=>Er(Vt.getProvider("app").getImmediate(),Vt.getProvider("installations-internal").getImmediate(),Jt),"PUBLIC")),(0,E._registerComponent)(new qe.wA("analytics-internal",function rt(Vt){try{const Jt=Vt.getProvider(Se).getImmediate();return{logEvent:(Cn,vn,$n)=>ie(Jt,Cn,vn,$n)}}catch(Jt){throw pt.create("interop-component-reg-failed",{reason:Jt})}},"PRIVATE")),(0,E.registerVersion)(se,"0.10.0"),(0,E.registerVersion)(se,"0.10.0","esm2017")}()},3942:(Jn,Ft,z)=>{"use strict";z.d(Ft,{Z:()=>pt});var d=z(2090),E=z(4859),be=z(6881),ke=z(1877);class qe{constructor(We,Be){this._delegate=We,this.firebase=Be,(0,be._addComponent)(We,new E.wA("app-compat",()=>this,"PUBLIC")),this.container=We.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(We){this._delegate.automaticDataCollectionEnabled=We}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(We=>{this._delegate.checkDestroyed(),We()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,be.deleteApp)(this._delegate)))}_getService(We,Be=be._DEFAULT_ENTRY_NAME){var kt;this._delegate.checkDestroyed();const Mt=this._delegate.container.getProvider(We);return!Mt.isInitialized()&&"EXPLICIT"===(null===(kt=Mt.getComponent())||void 0===kt?void 0:kt.instantiationMode)&&Mt.initialize(),Mt.getImmediate({identifier:Be})}_removeServiceInstance(We,Be=be._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(We).clearInstance(Be)}_addComponent(We){(0,be._addComponent)(this._delegate,We)}_addOrOverwriteComponent(We){(0,be._addOrOverwriteComponent)(this._delegate,We)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Se=new d.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),Le=function Ze(){const jt=function Re(jt){const We={},Be={__esModule:!0,initializeApp:function ft(gt,te={}){const Gt=be.initializeApp(gt,te);if((0,d.r3)(We,Gt.name))return We[Gt.name];const Dt=new jt(Gt,Be);return We[Gt.name]=Dt,Dt},app:Mt,registerVersion:be.registerVersion,setLogLevel:be.setLogLevel,onLog:be.onLog,apps:null,SDK_VERSION:be.SDK_VERSION,INTERNAL:{registerComponent:function St(gt){const te=gt.name,Gt=te.replace("-compat","");if(be._registerComponent(gt)&&"PUBLIC"===gt.type){const Dt=(Lt=Mt())=>{if("function"!=typeof Lt[Gt])throw Se.create("invalid-app-argument",{appName:te});return Lt[Gt]()};void 0!==gt.serviceProps&&(0,d.ZB)(Dt,gt.serviceProps),Be[Gt]=Dt,jt.prototype[Gt]=function(...Lt){return this._getService.bind(this,te).apply(this,gt.multipleInstances?Lt:[])}}return"PUBLIC"===gt.type?Be[Gt]:null},removeApp:function kt(gt){delete We[gt]},useAsService:function Ct(gt,te){return"serverAuth"===te?null:te},modularAPIs:be}};function Mt(gt){if(!(0,d.r3)(We,gt=gt||be._DEFAULT_ENTRY_NAME))throw Se.create("no-app",{appName:gt});return We[gt]}return Be.default=Be,Object.defineProperty(Be,"apps",{get:function It(){return Object.keys(We).map(gt=>We[gt])}}),Mt.App=jt,Be}(qe);return jt.INTERNAL=Object.assign(Object.assign({},jt.INTERNAL),{createFirebaseNamespace:Ze,extendNamespace:function We(Be){(0,d.ZB)(jt,Be)},createSubscribe:d.ne,ErrorFactory:d.LL,deepExtend:d.ZB}),jt}(),xe=new ke.Yd("@firebase/app-compat");if((0,d.jU)()&&void 0!==self.firebase){xe.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const jt=self.firebase.SDK_VERSION;jt&&jt.indexOf("LITE")>=0&&xe.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const pt=Le;!function lt(jt){(0,be.registerVersion)("@firebase/app-compat","0.2.10",jt)}()},6881:(Jn,Ft,z)=>{"use strict";z.r(Ft),z.d(Ft,{FirebaseError:()=>ke.ZR,SDK_VERSION:()=>Di,_DEFAULT_ENTRY_NAME:()=>ar,_addComponent:()=>ir,_addOrOverwriteComponent:()=>mr,_apps:()=>bi,_clearComponents:()=>di,_components:()=>lr,_getProvider:()=>gi,_registerComponent:()=>ui,_removeServiceInstance:()=>ni,deleteApp:()=>ht,getApp:()=>Sn,getApps:()=>Ne,initializeApp:()=>Er,onLog:()=>Hn,registerVersion:()=>wn,setLogLevel:()=>jr});var d=z(5861),E=z(4859),be=z(1877),ke=z(2090);const qe=(Bt,Kt)=>Kt.some(fn=>Bt instanceof fn);let je,Se;const Le=new WeakMap,xe=new WeakMap,it=new WeakMap,Me=new WeakMap,lt=new WeakMap;let We={get(Bt,Kt,fn){if(Bt instanceof IDBTransaction){if("done"===Kt)return xe.get(Bt);if("objectStoreNames"===Kt)return Bt.objectStoreNames||it.get(Bt);if("store"===Kt)return fn.objectStoreNames[1]?void 0:fn.objectStore(fn.objectStoreNames[0])}return ft(Bt[Kt])},set:(Bt,Kt,fn)=>(Bt[Kt]=fn,!0),has:(Bt,Kt)=>Bt instanceof IDBTransaction&&("done"===Kt||"store"===Kt)||Kt in Bt};function Mt(Bt){return"function"==typeof Bt?function kt(Bt){return Bt!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Ze(){return Se||(Se=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(Bt)?function(...Kt){return Bt.apply(It(this),Kt),ft(Le.get(this))}:function(...Kt){return ft(Bt.apply(It(this),Kt))}:function(Kt,...fn){const qn=Bt.call(It(this),Kt,...fn);return it.set(qn,Kt.sort?Kt.sort():[Kt]),ft(qn)}}(Bt):(Bt instanceof IDBTransaction&&function jt(Bt){if(xe.has(Bt))return;const Kt=new Promise((fn,qn)=>{const pr=()=>{Bt.removeEventListener("complete",Dr),Bt.removeEventListener("error",$r),Bt.removeEventListener("abort",$r)},Dr=()=>{fn(),pr()},$r=()=>{qn(Bt.error||new DOMException("AbortError","AbortError")),pr()};Bt.addEventListener("complete",Dr),Bt.addEventListener("error",$r),Bt.addEventListener("abort",$r)});xe.set(Bt,Kt)}(Bt),qe(Bt,function Re(){return je||(je=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(Bt,We):Bt)}function ft(Bt){if(Bt instanceof IDBRequest)return function pt(Bt){const Kt=new Promise((fn,qn)=>{const pr=()=>{Bt.removeEventListener("success",Dr),Bt.removeEventListener("error",$r)},Dr=()=>{fn(ft(Bt.result)),pr()},$r=()=>{qn(Bt.error),pr()};Bt.addEventListener("success",Dr),Bt.addEventListener("error",$r)});return Kt.then(fn=>{fn instanceof IDBCursor&&Le.set(fn,Bt)}).catch(()=>{}),lt.set(Kt,Bt),Kt}(Bt);if(Me.has(Bt))return Me.get(Bt);const Kt=Mt(Bt);return Kt!==Bt&&(Me.set(Bt,Kt),lt.set(Kt,Bt)),Kt}const It=Bt=>lt.get(Bt),gt=["get","getKey","getAll","getAllKeys","count"],te=["put","add","delete","clear"],Gt=new Map;function Dt(Bt,Kt){if(!(Bt instanceof IDBDatabase)||Kt in Bt||"string"!=typeof Kt)return;if(Gt.get(Kt))return Gt.get(Kt);const fn=Kt.replace(/FromIndex$/,""),qn=Kt!==fn,pr=te.includes(fn);if(!(fn in(qn?IDBIndex:IDBObjectStore).prototype)||!pr&&!gt.includes(fn))return;const Dr=function(){var $r=(0,d.Z)(function*(Fi,...Xr){const Ur=this.transaction(Fi,pr?"readwrite":"readonly");let Gr=Ur.store;return qn&&(Gr=Gr.index(Xr.shift())),(yield Promise.all([Gr[fn](...Xr),pr&&Ur.done]))[0]});return function(Xr){return $r.apply(this,arguments)}}();return Gt.set(Kt,Dr),Dr}!function Be(Bt){We=Bt(We)}(Bt=>({...Bt,get:(Kt,fn,qn)=>Dt(Kt,fn)||Bt.get(Kt,fn,qn),has:(Kt,fn)=>!!Dt(Kt,fn)||Bt.has(Kt,fn)}));class Lt{constructor(Kt){this.container=Kt}getPlatformInfoString(){return this.container.getProviders().map(fn=>{if(function qt(Bt){const Kt=Bt.getComponent();return"VERSION"===(null==Kt?void 0:Kt.type)}(fn)){const qn=fn.getImmediate();return`${qn.library}/${qn.version}`}return null}).filter(fn=>fn).join(" ")}}const Te="@firebase/app",ct=new be.Yd("@firebase/app"),ar="[DEFAULT]",Ai={[Te]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},bi=new Map,lr=new Map;function ir(Bt,Kt){try{Bt.container.addComponent(Kt)}catch(fn){ct.debug(`Component ${Kt.name} failed to register with FirebaseApp ${Bt.name}`,fn)}}function mr(Bt,Kt){Bt.container.addOrOverwriteComponent(Kt)}function ui(Bt){const Kt=Bt.name;if(lr.has(Kt))return ct.debug(`There were multiple attempts to register component ${Kt}.`),!1;lr.set(Kt,Bt);for(const fn of bi.values())ir(fn,Bt);return!0}function gi(Bt,Kt){const fn=Bt.container.getProvider("heartbeat").getImmediate({optional:!0});return fn&&fn.triggerHeartbeat(),Bt.container.getProvider(Kt)}function ni(Bt,Kt,fn=ar){gi(Bt,Kt).clearInstance(fn)}function di(){lr.clear()}const br=new ke.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class hr{constructor(Kt,fn,qn){this._isDeleted=!1,this._options=Object.assign({},Kt),this._config=Object.assign({},fn),this._name=fn.name,this._automaticDataCollectionEnabled=fn.automaticDataCollectionEnabled,this._container=qn,this.container.addComponent(new E.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Kt){this.checkDestroyed(),this._automaticDataCollectionEnabled=Kt}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Kt){this._isDeleted=Kt}checkDestroyed(){if(this.isDeleted)throw br.create("app-deleted",{appName:this._name})}}const Di="9.22.0";function Er(Bt,Kt={}){let fn=Bt;"object"!=typeof Kt&&(Kt={name:Kt});const qn=Object.assign({name:ar,automaticDataCollectionEnabled:!1},Kt),pr=qn.name;if("string"!=typeof pr||!pr)throw br.create("bad-app-name",{appName:String(pr)});if(fn||(fn=(0,ke.aH)()),!fn)throw br.create("no-options");const Dr=bi.get(pr);if(Dr){if((0,ke.vZ)(fn,Dr.options)&&(0,ke.vZ)(qn,Dr.config))return Dr;throw br.create("duplicate-app",{appName:pr})}const $r=new E.H0(pr);for(const Xr of lr.values())$r.addComponent(Xr);const Fi=new hr(fn,qn,$r);return bi.set(pr,Fi),Fi}function Sn(Bt=ar){const Kt=bi.get(Bt);if(!Kt&&Bt===ar&&(0,ke.aH)())return Er();if(!Kt)throw br.create("no-app",{appName:Bt});return Kt}function Ne(){return Array.from(bi.values())}function ht(Bt){return Wt.apply(this,arguments)}function Wt(){return(Wt=(0,d.Z)(function*(Bt){const Kt=Bt.name;bi.has(Kt)&&(bi.delete(Kt),yield Promise.all(Bt.container.getProviders().map(fn=>fn.delete())),Bt.isDeleted=!0)})).apply(this,arguments)}function wn(Bt,Kt,fn){var qn;let pr=null!==(qn=Ai[Bt])&&void 0!==qn?qn:Bt;fn&&(pr+=`-${fn}`);const Dr=pr.match(/\s|\//),$r=Kt.match(/\s|\//);if(Dr||$r){const Fi=[`Unable to register library "${pr}" with version "${Kt}":`];return Dr&&Fi.push(`library name "${pr}" contains illegal characters (whitespace or "/")`),Dr&&$r&&Fi.push("and"),$r&&Fi.push(`version name "${Kt}" contains illegal characters (whitespace or "/")`),void ct.warn(Fi.join(" "))}ui(new E.wA(`${pr}-version`,()=>({library:pr,version:Kt}),"VERSION"))}function Hn(Bt,Kt){if(null!==Bt&&"function"!=typeof Bt)throw br.create("invalid-log-argument");(0,be.Am)(Bt,Kt)}function jr(Bt){(0,be.Ub)(Bt)}const kr="firebase-heartbeat-database",Rr=1,mt="firebase-heartbeat-store";let Ae=null;function ie(){return Ae||(Ae=function St(Bt,Kt,{blocked:fn,upgrade:qn,blocking:pr,terminated:Dr}={}){const $r=indexedDB.open(Bt,Kt),Fi=ft($r);return qn&&$r.addEventListener("upgradeneeded",Xr=>{qn(ft($r.result),Xr.oldVersion,Xr.newVersion,ft($r.transaction),Xr)}),fn&&$r.addEventListener("blocked",Xr=>fn(Xr.oldVersion,Xr.newVersion,Xr)),Fi.then(Xr=>{Dr&&Xr.addEventListener("close",()=>Dr()),pr&&Xr.addEventListener("versionchange",Ur=>pr(Ur.oldVersion,Ur.newVersion,Ur))}).catch(()=>{}),Fi}(kr,Rr,{upgrade:(Bt,Kt)=>{0===Kt&&Bt.createObjectStore(mt)}}).catch(Bt=>{throw br.create("idb-open",{originalErrorMessage:Bt.message})})),Ae}function se(){return(se=(0,d.Z)(function*(Bt){try{return yield(yield ie()).transaction(mt).objectStore(mt).get(rt(Bt))}catch(Kt){if(Kt instanceof ke.ZR)ct.warn(Kt.message);else{const fn=br.create("idb-get",{originalErrorMessage:null==Kt?void 0:Kt.message});ct.warn(fn.message)}}})).apply(this,arguments)}function Ke(Bt,Kt){return xt.apply(this,arguments)}function xt(){return(xt=(0,d.Z)(function*(Bt,Kt){try{const qn=(yield ie()).transaction(mt,"readwrite");yield qn.objectStore(mt).put(Kt,rt(Bt)),yield qn.done}catch(fn){if(fn instanceof ke.ZR)ct.warn(fn.message);else{const qn=br.create("idb-set",{originalErrorMessage:null==fn?void 0:fn.message});ct.warn(qn.message)}}})).apply(this,arguments)}function rt(Bt){return`${Bt.name}!${Bt.options.appId}`}class Cn{constructor(Kt){this.container=Kt,this._heartbeatsCache=null;const fn=this.container.getProvider("app").getImmediate();this._storage=new ln(fn),this._heartbeatsCachePromise=this._storage.read().then(qn=>(this._heartbeatsCache=qn,qn))}triggerHeartbeat(){var Kt=this;return(0,d.Z)(function*(){const qn=Kt.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),pr=vn();if(null===Kt._heartbeatsCache&&(Kt._heartbeatsCache=yield Kt._heartbeatsCachePromise),Kt._heartbeatsCache.lastSentHeartbeatDate!==pr&&!Kt._heartbeatsCache.heartbeats.some(Dr=>Dr.date===pr))return Kt._heartbeatsCache.heartbeats.push({date:pr,agent:qn}),Kt._heartbeatsCache.heartbeats=Kt._heartbeatsCache.heartbeats.filter(Dr=>{const $r=new Date(Dr.date).valueOf();return Date.now()-$r<=2592e6}),Kt._storage.overwrite(Kt._heartbeatsCache)})()}getHeartbeatsHeader(){var Kt=this;return(0,d.Z)(function*(){if(null===Kt._heartbeatsCache&&(yield Kt._heartbeatsCachePromise),null===Kt._heartbeatsCache||0===Kt._heartbeatsCache.heartbeats.length)return"";const fn=vn(),{heartbeatsToSend:qn,unsentEntries:pr}=function $n(Bt,Kt=1024){const fn=[];let qn=Bt.slice();for(const pr of Bt){const Dr=fn.find($r=>$r.agent===pr.agent);if(Dr){if(Dr.dates.push(pr.date),yn(fn)>Kt){Dr.dates.pop();break}}else if(fn.push({agent:pr.agent,dates:[pr.date]}),yn(fn)>Kt){fn.pop();break}qn=qn.slice(1)}return{heartbeatsToSend:fn,unsentEntries:qn}}(Kt._heartbeatsCache.heartbeats),Dr=(0,ke.L)(JSON.stringify({version:2,heartbeats:qn}));return Kt._heartbeatsCache.lastSentHeartbeatDate=fn,pr.length>0?(Kt._heartbeatsCache.heartbeats=pr,yield Kt._storage.overwrite(Kt._heartbeatsCache)):(Kt._heartbeatsCache.heartbeats=[],Kt._storage.overwrite(Kt._heartbeatsCache)),Dr})()}}function vn(){return(new Date).toISOString().substring(0,10)}class ln{constructor(Kt){this.app=Kt,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,d.Z)(function*(){return!!(0,ke.hl)()&&(0,ke.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Kt=this;return(0,d.Z)(function*(){return(yield Kt._canUseIndexedDBPromise)&&(yield function ee(Bt){return se.apply(this,arguments)}(Kt.app))||{heartbeats:[]}})()}overwrite(Kt){var fn=this;return(0,d.Z)(function*(){var qn;if(yield fn._canUseIndexedDBPromise){const Dr=yield fn.read();return Ke(fn.app,{lastSentHeartbeatDate:null!==(qn=Kt.lastSentHeartbeatDate)&&void 0!==qn?qn:Dr.lastSentHeartbeatDate,heartbeats:Kt.heartbeats})}})()}add(Kt){var fn=this;return(0,d.Z)(function*(){var qn;if(yield fn._canUseIndexedDBPromise){const Dr=yield fn.read();return Ke(fn.app,{lastSentHeartbeatDate:null!==(qn=Kt.lastSentHeartbeatDate)&&void 0!==qn?qn:Dr.lastSentHeartbeatDate,heartbeats:[...Dr.heartbeats,...Kt.heartbeats]})}})()}}function yn(Bt){return(0,ke.L)(JSON.stringify({version:2,heartbeats:Bt})).length}!function kn(Bt){ui(new E.wA("platform-logger",Kt=>new Lt(Kt),"PRIVATE")),ui(new E.wA("heartbeat",Kt=>new Cn(Kt),"PRIVATE")),wn(Te,"0.9.10",Bt),wn(Te,"0.9.10","esm2017"),wn("fire-js","")}("")},4859:(Jn,Ft,z)=>{"use strict";z.d(Ft,{H0:()=>Re,wA:()=>be,zt:()=>qe});var d=z(5861),E=z(2090);class be{constructor(Le,xe,it){this.name=Le,this.instanceFactory=xe,this.type=it,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(Le){return this.instantiationMode=Le,this}setMultipleInstances(Le){return this.multipleInstances=Le,this}setServiceProps(Le){return this.serviceProps=Le,this}setInstanceCreatedCallback(Le){return this.onInstanceCreated=Le,this}}const ke="[DEFAULT]";class qe{constructor(Le,xe){this.name=Le,this.container=xe,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(Le){const xe=this.normalizeInstanceIdentifier(Le);if(!this.instancesDeferred.has(xe)){const it=new E.BH;if(this.instancesDeferred.set(xe,it),this.isInitialized(xe)||this.shouldAutoInitialize())try{const Me=this.getOrInitializeService({instanceIdentifier:xe});Me&&it.resolve(Me)}catch{}}return this.instancesDeferred.get(xe).promise}getImmediate(Le){var xe;const it=this.normalizeInstanceIdentifier(null==Le?void 0:Le.identifier),Me=null!==(xe=null==Le?void 0:Le.optional)&&void 0!==xe&&xe;if(!this.isInitialized(it)&&!this.shouldAutoInitialize()){if(Me)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:it})}catch(lt){if(Me)return null;throw lt}}getComponent(){return this.component}setComponent(Le){if(Le.name!==this.name)throw Error(`Mismatching Component ${Le.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=Le,this.shouldAutoInitialize()){if(function Se(Ze){return"EAGER"===Ze.instantiationMode}(Le))try{this.getOrInitializeService({instanceIdentifier:ke})}catch{}for(const[xe,it]of this.instancesDeferred.entries()){const Me=this.normalizeInstanceIdentifier(xe);try{const lt=this.getOrInitializeService({instanceIdentifier:Me});it.resolve(lt)}catch{}}}}clearInstance(Le=ke){this.instancesDeferred.delete(Le),this.instancesOptions.delete(Le),this.instances.delete(Le)}delete(){var Le=this;return(0,d.Z)(function*(){const xe=Array.from(Le.instances.values());yield Promise.all([...xe.filter(it=>"INTERNAL"in it).map(it=>it.INTERNAL.delete()),...xe.filter(it=>"_delete"in it).map(it=>it._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(Le=ke){return this.instances.has(Le)}getOptions(Le=ke){return this.instancesOptions.get(Le)||{}}initialize(Le={}){const{options:xe={}}=Le,it=this.normalizeInstanceIdentifier(Le.instanceIdentifier);if(this.isInitialized(it))throw Error(`${this.name}(${it}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Me=this.getOrInitializeService({instanceIdentifier:it,options:xe});for(const[lt,pt]of this.instancesDeferred.entries())it===this.normalizeInstanceIdentifier(lt)&&pt.resolve(Me);return Me}onInit(Le,xe){var it;const Me=this.normalizeInstanceIdentifier(xe),lt=null!==(it=this.onInitCallbacks.get(Me))&&void 0!==it?it:new Set;lt.add(Le),this.onInitCallbacks.set(Me,lt);const pt=this.instances.get(Me);return pt&&Le(pt,Me),()=>{lt.delete(Le)}}invokeOnInitCallbacks(Le,xe){const it=this.onInitCallbacks.get(xe);if(it)for(const Me of it)try{Me(Le,xe)}catch{}}getOrInitializeService({instanceIdentifier:Le,options:xe={}}){let it=this.instances.get(Le);if(!it&&this.component&&(it=this.component.instanceFactory(this.container,{instanceIdentifier:(Ze=Le,Ze===ke?void 0:Ze),options:xe}),this.instances.set(Le,it),this.instancesOptions.set(Le,xe),this.invokeOnInitCallbacks(it,Le),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,Le,it)}catch{}var Ze;return it||null}normalizeInstanceIdentifier(Le=ke){return this.component?this.component.multipleInstances?Le:ke:Le}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Re{constructor(Le){this.name=Le,this.providers=new Map}addComponent(Le){const xe=this.getProvider(Le.name);if(xe.isComponentSet())throw new Error(`Component ${Le.name} has already been registered with ${this.name}`);xe.setComponent(Le)}addOrOverwriteComponent(Le){this.getProvider(Le.name).isComponentSet()&&this.providers.delete(Le.name),this.addComponent(Le)}getProvider(Le){if(this.providers.has(Le))return this.providers.get(Le);const xe=new qe(Le,this);return this.providers.set(Le,xe),xe}getProviders(){return Array.from(this.providers.values())}}},4727:(Jn,Ft,z)=>{"use strict";var d=z(5861),E=z(6881),be=z(4859),ke=z(2090);const qe=(ne,ve)=>ve.some(st=>ne instanceof st);let je,Se;const Le=new WeakMap,xe=new WeakMap,it=new WeakMap,Me=new WeakMap,lt=new WeakMap;let We={get(ne,ve,st){if(ne instanceof IDBTransaction){if("done"===ve)return xe.get(ne);if("objectStoreNames"===ve)return ne.objectStoreNames||it.get(ne);if("store"===ve)return st.objectStoreNames[1]?void 0:st.objectStore(st.objectStoreNames[0])}return ft(ne[ve])},set:(ne,ve,st)=>(ne[ve]=st,!0),has:(ne,ve)=>ne instanceof IDBTransaction&&("done"===ve||"store"===ve)||ve in ne};function Mt(ne){return"function"==typeof ne?function kt(ne){return ne!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Ze(){return Se||(Se=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(ne)?function(...ve){return ne.apply(It(this),ve),ft(Le.get(this))}:function(...ve){return ft(ne.apply(It(this),ve))}:function(ve,...st){const wt=ne.call(It(this),ve,...st);return it.set(wt,ve.sort?ve.sort():[ve]),ft(wt)}}(ne):(ne instanceof IDBTransaction&&function jt(ne){if(xe.has(ne))return;const ve=new Promise((st,wt)=>{const $t=()=>{ne.removeEventListener("complete",tn),ne.removeEventListener("error",Un),ne.removeEventListener("abort",Un)},tn=()=>{st(),$t()},Un=()=>{wt(ne.error||new DOMException("AbortError","AbortError")),$t()};ne.addEventListener("complete",tn),ne.addEventListener("error",Un),ne.addEventListener("abort",Un)});xe.set(ne,ve)}(ne),qe(ne,function Re(){return je||(je=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(ne,We):ne)}function ft(ne){if(ne instanceof IDBRequest)return function pt(ne){const ve=new Promise((st,wt)=>{const $t=()=>{ne.removeEventListener("success",tn),ne.removeEventListener("error",Un)},tn=()=>{st(ft(ne.result)),$t()},Un=()=>{wt(ne.error),$t()};ne.addEventListener("success",tn),ne.addEventListener("error",Un)});return ve.then(st=>{st instanceof IDBCursor&&Le.set(st,ne)}).catch(()=>{}),lt.set(ve,ne),ve}(ne);if(Me.has(ne))return Me.get(ne);const ve=Mt(ne);return ve!==ne&&(Me.set(ne,ve),lt.set(ve,ne)),ve}const It=ne=>lt.get(ne),gt=["get","getKey","getAll","getAllKeys","count"],te=["put","add","delete","clear"],Gt=new Map;function Dt(ne,ve){if(!(ne instanceof IDBDatabase)||ve in ne||"string"!=typeof ve)return;if(Gt.get(ve))return Gt.get(ve);const st=ve.replace(/FromIndex$/,""),wt=ve!==st,$t=te.includes(st);if(!(st in(wt?IDBIndex:IDBObjectStore).prototype)||!$t&&!gt.includes(st))return;const tn=function(){var Un=(0,d.Z)(function*(jn,...Nr){const Kr=this.transaction(jn,$t?"readwrite":"readonly");let gs=Kr.store;return wt&&(gs=gs.index(Nr.shift())),(yield Promise.all([gs[st](...Nr),$t&&Kr.done]))[0]});return function(Nr){return Un.apply(this,arguments)}}();return Gt.set(ve,tn),tn}!function Be(ne){We=ne(We)}(ne=>({...ne,get:(ve,st,wt)=>Dt(ve,st)||ne.get(ve,st,wt),has:(ve,st)=>!!Dt(ve,st)||ne.has(ve,st)}));const Lt="@firebase/installations",qt="0.6.4",Te=1e4,Je=`w:${qt}`,ct="FIS_v2",yt="https://firebaseinstallations.googleapis.com/v1",et=36e5,Ot=new ke.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function en(ne){return ne instanceof ke.ZR&&ne.code.includes("request-failed")}function rn({projectId:ne}){return`${yt}/projects/${ne}/installations`}function On(ne){return{token:ne.token,requestStatus:2,expiresIn:ur(ne.expiresIn),creationTime:Date.now()}}function nn(ne,ve){return _t.apply(this,arguments)}function _t(){return(_t=(0,d.Z)(function*(ne,ve){const wt=(yield ve.json()).error;return Ot.create("request-failed",{requestName:ne,serverCode:wt.code,serverMessage:wt.message,serverStatus:wt.status})})).apply(this,arguments)}function cn({apiKey:ne}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":ne})}function Zn(ne){return tr.apply(this,arguments)}function tr(){return(tr=(0,d.Z)(function*(ne){const ve=yield ne();return ve.status>=500&&ve.status<600?ne():ve})).apply(this,arguments)}function ur(ne){return Number(ne.replace("s","000"))}function an(){return(an=(0,d.Z)(function*({appConfig:ne,heartbeatServiceProvider:ve},{fid:st}){const wt=rn(ne),$t=cn(ne),tn=ve.getImmediate({optional:!0});if(tn){const Kr=yield tn.getHeartbeatsHeader();Kr&&$t.append("x-firebase-client",Kr)}const jn={method:"POST",headers:$t,body:JSON.stringify({fid:st,authVersion:ct,appId:ne.appId,sdkVersion:Je})},Nr=yield Zn(()=>fetch(wt,jn));if(Nr.ok){const Kr=yield Nr.json();return{fid:Kr.fid||st,registrationStatus:2,refreshToken:Kr.refreshToken,authToken:On(Kr.authToken)}}throw yield nn("Create Installation",Nr)})).apply(this,arguments)}function Pr(ne){return new Promise(ve=>{setTimeout(ve,ne)})}const Ar=/^[cdef][\w-]{21}$/,Pn="";function oi(){try{const ne=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(ne),ne[0]=112+ne[0]%16;const st=function Wr(ne){return function Br(ne){return btoa(String.fromCharCode(...ne)).replace(/\+/g,"-").replace(/\//g,"_")}(ne).substr(0,22)}(ne);return Ar.test(st)?st:Pn}catch{return Pn}}function ar(ne){return`${ne.appName}!${ne.appId}`}const Ai=new Map;function bi(ne,ve){const st=ar(ne);mr(st,ve),function ui(ne,ve){const st=function ni(){return!gi&&"BroadcastChannel"in self&&(gi=new BroadcastChannel("[Firebase] FID Change"),gi.onmessage=ne=>{mr(ne.data.key,ne.data.fid)}),gi}();st&&st.postMessage({key:ne,fid:ve}),function di(){0===Ai.size&&gi&&(gi.close(),gi=null)}()}(st,ve)}function mr(ne,ve){const st=Ai.get(ne);if(st)for(const wt of st)wt(ve)}let gi=null;const Ti="firebase-installations-database",br=1,hr="firebase-installations-store";let Di=null;function Er(){return Di||(Di=function St(ne,ve,{blocked:st,upgrade:wt,blocking:$t,terminated:tn}={}){const Un=indexedDB.open(ne,ve),jn=ft(Un);return wt&&Un.addEventListener("upgradeneeded",Nr=>{wt(ft(Un.result),Nr.oldVersion,Nr.newVersion,ft(Un.transaction))}),st&&Un.addEventListener("blocked",()=>st()),jn.then(Nr=>{tn&&Nr.addEventListener("close",()=>tn()),$t&&Nr.addEventListener("versionchange",()=>$t())}).catch(()=>{}),jn}(Ti,br,{upgrade:(ne,ve)=>{0===ve&&ne.createObjectStore(hr)}})),Di}function Sn(ne,ve){return Ne.apply(this,arguments)}function Ne(){return(Ne=(0,d.Z)(function*(ne,ve){const st=ar(ne),$t=(yield Er()).transaction(hr,"readwrite"),tn=$t.objectStore(hr),Un=yield tn.get(st);return yield tn.put(ve,st),yield $t.done,(!Un||Un.fid!==ve.fid)&&bi(ne,ve.fid),ve})).apply(this,arguments)}function ht(ne){return Wt.apply(this,arguments)}function Wt(){return(Wt=(0,d.Z)(function*(ne){const ve=ar(ne),wt=(yield Er()).transaction(hr,"readwrite");yield wt.objectStore(hr).delete(ve),yield wt.done})).apply(this,arguments)}function wn(ne,ve){return Hn.apply(this,arguments)}function Hn(){return(Hn=(0,d.Z)(function*(ne,ve){const st=ar(ne),$t=(yield Er()).transaction(hr,"readwrite"),tn=$t.objectStore(hr),Un=yield tn.get(st),jn=ve(Un);return void 0===jn?yield tn.delete(st):yield tn.put(jn,st),yield $t.done,jn&&(!Un||Un.fid!==jn.fid)&&bi(ne,jn.fid),jn})).apply(this,arguments)}function jr(ne){return kr.apply(this,arguments)}function kr(){return kr=(0,d.Z)(function*(ne){let ve;const st=yield wn(ne.appConfig,wt=>{const $t=function Rr(ne){return xt(ne||{fid:oi(),registrationStatus:0})}(wt),tn=function mt(ne,ve){if(0===ve.registrationStatus){if(!navigator.onLine)return{installationEntry:ve,registrationPromise:Promise.reject(Ot.create("app-offline"))};const st={fid:ve.fid,registrationStatus:1,registrationTime:Date.now()},wt=function Ae(ne,ve){return ie.apply(this,arguments)}(ne,st);return{installationEntry:st,registrationPromise:wt}}return 1===ve.registrationStatus?{installationEntry:ve,registrationPromise:ee(ne)}:{installationEntry:ve}}(ne,$t);return ve=tn.registrationPromise,tn.installationEntry});return st.fid===Pn?{installationEntry:yield ve}:{installationEntry:st,registrationPromise:ve}}),kr.apply(this,arguments)}function ie(){return ie=(0,d.Z)(function*(ne,ve){try{const st=yield function rr(ne,ve){return an.apply(this,arguments)}(ne,ve);return Sn(ne.appConfig,st)}catch(st){throw en(st)&&409===st.customData.serverCode?yield ht(ne.appConfig):yield Sn(ne.appConfig,{fid:ve.fid,registrationStatus:0}),st}}),ie.apply(this,arguments)}function ee(ne){return se.apply(this,arguments)}function se(){return(se=(0,d.Z)(function*(ne){let ve=yield Ke(ne.appConfig);for(;1===ve.registrationStatus;)yield Pr(100),ve=yield Ke(ne.appConfig);if(0===ve.registrationStatus){const{installationEntry:st,registrationPromise:wt}=yield jr(ne);return wt||st}return ve})).apply(this,arguments)}function Ke(ne){return wn(ne,ve=>{if(!ve)throw Ot.create("installation-not-found");return xt(ve)})}function xt(ne){return function rt(ne){return 1===ne.registrationStatus&&ne.registrationTime+Te<Date.now()}(ne)?{fid:ne.fid,registrationStatus:0}:ne}function Jt(){return(Jt=(0,d.Z)(function*({appConfig:ne,heartbeatServiceProvider:ve},st){const wt=function Cn(ne,{fid:ve}){return`${rn(ne)}/${ve}/authTokens:generate`}(ne,st),$t=function gn(ne,{refreshToken:ve}){const st=cn(ne);return st.append("Authorization",function un(ne){return`${ct} ${ne}`}(ve)),st}(ne,st),tn=ve.getImmediate({optional:!0});if(tn){const Kr=yield tn.getHeartbeatsHeader();Kr&&$t.append("x-firebase-client",Kr)}const jn={method:"POST",headers:$t,body:JSON.stringify({installation:{sdkVersion:Je,appId:ne.appId}})},Nr=yield Zn(()=>fetch(wt,jn));if(Nr.ok)return On(yield Nr.json());throw yield nn("Generate Auth Token",Nr)})).apply(this,arguments)}function vn(ne){return $n.apply(this,arguments)}function $n(){return $n=(0,d.Z)(function*(ne,ve=!1){let st;const wt=yield wn(ne.appConfig,tn=>{if(!fn(tn))throw Ot.create("not-registered");const Un=tn.authToken;if(!ve&&function qn(ne){return 2===ne.requestStatus&&!function pr(ne){const ve=Date.now();return ve<ne.creationTime||ne.creationTime+ne.expiresIn<ve+et}(ne)}(Un))return tn;if(1===Un.requestStatus)return st=function ln(ne,ve){return yn.apply(this,arguments)}(ne,ve),tn;{if(!navigator.onLine)throw Ot.create("app-offline");const jn=function Dr(ne){const ve={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},ne),{authToken:ve})}(tn);return st=function Bt(ne,ve){return Kt.apply(this,arguments)}(ne,jn),jn}});return st?yield st:wt.authToken}),$n.apply(this,arguments)}function yn(){return(yn=(0,d.Z)(function*(ne,ve){let st=yield kn(ne.appConfig);for(;1===st.authToken.requestStatus;)yield Pr(100),st=yield kn(ne.appConfig);const wt=st.authToken;return 0===wt.requestStatus?vn(ne,ve):wt})).apply(this,arguments)}function kn(ne){return wn(ne,ve=>{if(!fn(ve))throw Ot.create("not-registered");return function $r(ne){return 1===ne.requestStatus&&ne.requestTime+Te<Date.now()}(ve.authToken)?Object.assign(Object.assign({},ve),{authToken:{requestStatus:0}}):ve})}function Kt(){return Kt=(0,d.Z)(function*(ne,ve){try{const st=yield function Vt(ne,ve){return Jt.apply(this,arguments)}(ne,ve),wt=Object.assign(Object.assign({},ve),{authToken:st});return yield Sn(ne.appConfig,wt),st}catch(st){if(!en(st)||401!==st.customData.serverCode&&404!==st.customData.serverCode){const wt=Object.assign(Object.assign({},ve),{authToken:{requestStatus:0}});yield Sn(ne.appConfig,wt)}else yield ht(ne.appConfig);throw st}}),Kt.apply(this,arguments)}function fn(ne){return void 0!==ne&&2===ne.registrationStatus}function Xr(){return(Xr=(0,d.Z)(function*(ne){const ve=ne,{installationEntry:st,registrationPromise:wt}=yield jr(ve);return wt?wt.catch(console.error):vn(ve).catch(console.error),st.fid})).apply(this,arguments)}function Gr(){return Gr=(0,d.Z)(function*(ne,ve=!1){const st=ne;return yield function ls(ne){return Os.apply(this,arguments)}(st),(yield vn(st,ve)).token}),Gr.apply(this,arguments)}function Os(){return(Os=(0,d.Z)(function*(ne){const{registrationPromise:ve}=yield jr(ne);ve&&(yield ve)})).apply(this,arguments)}function Ns(ne){return Ot.create("missing-app-config-values",{valueName:ne})}const Fs="installations",pe=ne=>{const ve=ne.getProvider("app").getImmediate(),st=function ks(ne){if(!ne||!ne.options)throw Ns("App Configuration");if(!ne.name)throw Ns("App Name");const ve=["projectId","apiKey","appId"];for(const st of ve)if(!ne.options[st])throw Ns(st);return{appName:ne.name,projectId:ne.options.projectId,apiKey:ne.options.apiKey,appId:ne.options.appId}}(ve);return{app:ve,appConfig:st,heartbeatServiceProvider:(0,E._getProvider)(ve,"heartbeat"),_delete:()=>Promise.resolve()}},Oe=ne=>{const ve=ne.getProvider("app").getImmediate(),st=(0,E._getProvider)(ve,Fs).getImmediate();return{getId:()=>function Fi(ne){return Xr.apply(this,arguments)}(st),getToken:$t=>function Ur(ne){return Gr.apply(this,arguments)}(st,$t)}};(function Ee(){(0,E._registerComponent)(new be.wA(Fs,pe,"PUBLIC")),(0,E._registerComponent)(new be.wA("installations-internal",Oe,"PRIVATE"))})(),(0,E.registerVersion)(Lt,qt),(0,E.registerVersion)(Lt,qt,"esm2017")},1877:(Jn,Ft,z)=>{"use strict";z.d(Ft,{Am:()=>Ze,Ub:()=>Re,Yd:()=>Se,in:()=>E});const d=[];var E=(()=>((E=E||{})[E.DEBUG=0]="DEBUG",E[E.VERBOSE=1]="VERBOSE",E[E.INFO=2]="INFO",E[E.WARN=3]="WARN",E[E.ERROR=4]="ERROR",E[E.SILENT=5]="SILENT",E))();const be={debug:E.DEBUG,verbose:E.VERBOSE,info:E.INFO,warn:E.WARN,error:E.ERROR,silent:E.SILENT},ke=E.INFO,qe={[E.DEBUG]:"log",[E.VERBOSE]:"log",[E.INFO]:"info",[E.WARN]:"warn",[E.ERROR]:"error"},je=(Le,xe,...it)=>{if(xe<Le.logLevel)return;const Me=(new Date).toISOString(),lt=qe[xe];if(!lt)throw new Error(`Attempted to log a message with an invalid logType (value: ${xe})`);console[lt](`[${Me}]  ${Le.name}:`,...it)};class Se{constructor(xe){this.name=xe,this._logLevel=ke,this._logHandler=je,this._userLogHandler=null,d.push(this)}get logLevel(){return this._logLevel}set logLevel(xe){if(!(xe in E))throw new TypeError(`Invalid value "${xe}" assigned to \`logLevel\``);this._logLevel=xe}setLogLevel(xe){this._logLevel="string"==typeof xe?be[xe]:xe}get logHandler(){return this._logHandler}set logHandler(xe){if("function"!=typeof xe)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=xe}get userLogHandler(){return this._userLogHandler}set userLogHandler(xe){this._userLogHandler=xe}debug(...xe){this._userLogHandler&&this._userLogHandler(this,E.DEBUG,...xe),this._logHandler(this,E.DEBUG,...xe)}log(...xe){this._userLogHandler&&this._userLogHandler(this,E.VERBOSE,...xe),this._logHandler(this,E.VERBOSE,...xe)}info(...xe){this._userLogHandler&&this._userLogHandler(this,E.INFO,...xe),this._logHandler(this,E.INFO,...xe)}warn(...xe){this._userLogHandler&&this._userLogHandler(this,E.WARN,...xe),this._logHandler(this,E.WARN,...xe)}error(...xe){this._userLogHandler&&this._userLogHandler(this,E.ERROR,...xe),this._logHandler(this,E.ERROR,...xe)}}function Re(Le){d.forEach(xe=>{xe.setLogLevel(Le)})}function Ze(Le,xe){for(const it of d){let Me=null;xe&&xe.level&&(Me=be[xe.level]),it.userLogHandler=null===Le?null:(lt,pt,...jt)=>{const We=jt.map(Be=>{if(null==Be)return null;if("string"==typeof Be)return Be;if("number"==typeof Be||"boolean"==typeof Be)return Be.toString();if(Be instanceof Error)return Be.message;try{return JSON.stringify(Be)}catch{return null}}).filter(Be=>Be).join(" ");pt>=(null!=Me?Me:lt.logLevel)&&Le({level:E[pt].toLowerCase(),message:We,args:jt,type:lt.name})}}}},9972:(Jn,Ft,z)=>{"use strict";z.d(Ft,{Br:()=>ro,dr:()=>oi,oU:()=>ar,cs:()=>Es,YG:()=>mr,Sm:()=>ui,PM:()=>gi,FN:()=>ni,Zi:()=>di,tO:()=>Ti,Dq:()=>br,hM:()=>Di,wI:()=>Er,W2:()=>Sn,IJ:()=>Wt,W4:()=>wn,zq:()=>Hn,jY:()=>kr,Gu:()=>Rr,gu:()=>mt,Xz:()=>Ae,pK:()=>se,Ie:()=>Ke,Q$:()=>vn,q_:()=>$n,fG:()=>Bt,jP:()=>ys,Nd:()=>cs,t9:()=>zs,n0:()=>ks,PQ:()=>Fs,yq:()=>pe,ZU:()=>Oe,UN:()=>Ws,yW:()=>Ee,wd:()=>st,sr:()=>tn,Pc:()=>$i,r4:()=>us,HT:()=>ki,SH:()=>Si,X1:()=>Lr,t4:()=>Kr,QI:()=>gn,j9:()=>Zn,yF:()=>po});var d=z(5861),E=z(2223),be=z(5030),ke=z(655),qe=z(4968),je=z(7579),Se=z(1135),Re=z(5559),Me=(z(9613),z(3551),z(1138),z(1898),z(5273)),lt=z(3577),pt=z(3982),jt=z(9866),Be=(z(8126),z(2583)),ft=(z(3457),z(4349),z(4083)),St=z(9300),Ct=z(3900),gt=z(1884),te=z(4755);const Dt=Me.i,Te=["*"],Je=["outlet"],ct=[[["","slot","top"]],"*"],yt=["[slot=top]","*"],dt=O=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(O):"function"==typeof requestAnimationFrame?requestAnimationFrame(O):setTimeout(O);let Ut=(()=>{class O{constructor(N,le){this.injector=N,this.el=le,this.onChange=()=>{},this.onTouched=()=>{}}writeValue(N){this.el.nativeElement.value=this.lastValue=N,Ot(this.el)}handleValueChange(N,le){N===this.el.nativeElement&&(le!==this.lastValue&&(this.lastValue=le,this.onChange(le)),Ot(this.el))}_handleBlurEvent(N){N===this.el.nativeElement&&(this.onTouched(),Ot(this.el))}registerOnChange(N){this.onChange=N}registerOnTouched(N){this.onTouched=N}setDisabledState(N){this.el.nativeElement.disabled=N}ngOnDestroy(){this.statusChanges&&this.statusChanges.unsubscribe()}ngAfterViewInit(){let N;try{N=this.injector.get(be.a5)}catch{}if(!N)return;N.statusChanges&&(this.statusChanges=N.statusChanges.subscribe(()=>Ot(this.el)));const le=N.control;le&&["markAsTouched","markAllAsTouched","markAsUntouched","markAsDirty","markAsPristine"].forEach(_n=>{if(typeof le[_n]<"u"){const Sr=le[_n].bind(le);le[_n]=(...Gn)=>{Sr(...Gn),Ot(this.el)}}})}}return O.\u0275fac=function(N){return new(N||O)(E.Y36(E.zs3),E.Y36(E.SBq))},O.\u0275dir=E.lG2({type:O,hostBindings:function(N,le){1&N&&E.NdJ("ionBlur",function(_n){return le._handleBlurEvent(_n.target)})}}),O})();const Ot=O=>{dt(()=>{const he=O.nativeElement,N=null!=he.value&&he.value.toString().length>0,le=en(he);rn(he,le);const Ge=he.closest("ion-item");Ge&&rn(Ge,N?[...le,"item-has-value"]:le)})},en=O=>{const he=O.classList,N=[];for(let le=0;le<he.length;le++){const Ge=he.item(le);null!==Ge&&On(Ge,"ng-")&&N.push(`ion-${Ge.substring(3)}`)}return N},rn=(O,he)=>{const N=O.classList;N.remove("ion-valid","ion-invalid","ion-touched","ion-untouched","ion-dirty","ion-pristine"),N.add(...he)},On=(O,he)=>O.substring(0,he.length)===he;let gn=(()=>{class O extends Ut{constructor(N,le){super(N,le)}_handleChangeEvent(N){this.handleValueChange(N,N.value)}}return O.\u0275fac=function(N){return new(N||O)(E.Y36(E.zs3),E.Y36(E.SBq))},O.\u0275dir=E.lG2({type:O,selectors:[["ion-range"],["ion-select"],["ion-radio-group"],["ion-segment"],["ion-datetime"]],hostBindings:function(N,le){1&N&&E.NdJ("ionChange",function(_n){return le._handleChangeEvent(_n.target)})},features:[E._Bn([{provide:be.JU,useExisting:O,multi:!0}]),E.qOj]}),O})(),Zn=(()=>{class O extends Ut{constructor(N,le){super(N,le)}_handleInputEvent(N){this.handleValueChange(N,N.value)}}return O.\u0275fac=function(N){return new(N||O)(E.Y36(E.zs3),E.Y36(E.SBq))},O.\u0275dir=E.lG2({type:O,selectors:[["ion-input",3,"type","number"],["ion-textarea"],["ion-searchbar"]],hostBindings:function(N,le){1&N&&E.NdJ("ionInput",function(_n){return le._handleInputEvent(_n.target)})},features:[E._Bn([{provide:be.JU,useExisting:O,multi:!0}]),E.qOj]}),O})();const tr=(O,he)=>{const N=O.prototype;he.forEach(le=>{Object.defineProperty(N,le,{get(){return this.el[le]},set(Ge){this.z.runOutsideAngular(()=>this.el[le]=Ge)}})})},ur=(O,he)=>{const N=O.prototype;he.forEach(le=>{N[le]=function(){const Ge=arguments;return this.z.runOutsideAngular(()=>this.el[le].apply(this.el,Ge))}})},un=(O,he,N)=>{N.forEach(le=>O[le]=(0,qe.R)(he,le))};function an(O){return function(N){const{defineCustomElementFn:le,inputs:Ge,methods:_n}=O;return void 0!==le&&le(),Ge&&tr(N,Ge),_n&&ur(N,_n),N}}let oi=(()=>{let O=class{constructor(N,le,Ge){this.z=Ge,N.detach(),this.el=le.nativeElement}};return O.\u0275fac=function(N){return new(N||O)(E.Y36(E.sBO),E.Y36(E.SBq),E.Y36(E.R0b))},O.\u0275cmp=E.Xpm({type:O,selectors:[["ion-app"]],ngContentSelectors:Te,decls:1,vars:0,template:function(N,le){1&N&&(E.F$t(),E.Hsn(0))},encapsulation:2,changeDetection:0}),O=(0,ke.gn)([an({})],O),O})(),ar=(()=>{let O=class{constructor(N,le,Ge){this.z=Ge,N.detach(),this.el=le.nativeElement}};return O.\u0275fac=function(N){return new(N||O)(E.Y36(E.sBO),E.Y36(E.SBq),E.Y36(E.R0b))},O.\u0275cmp=E.Xpm({type:O,selectors:[["ion-back-button"]],inputs:{color:"color",defaultHref:"defaultHref",disabled:"disabled",icon:"icon",mode:"mode",routerAnimation:"routerAnimation",text:"text",type:"type"},ngContentSelectors:Te,decls:1,vars:0,template:function(N,le){1&N&&(E.F$t(),E.Hsn(0))},encapsulation:2,changeDetection:0}),O=(0,ke.gn)([an({inputs:["color","defaultHref","disabled","icon","mode","routerAnimation","text","type"]})],O),O})(),mr=(()=>{let O=class{constructor(N,le,Ge){this.z=Ge,N.detach(),this.el=le.nativeElement,un(this,this.el,["ionFocus","ionBlur"])}};return O.\u0275fac=function(N){return new(N||O)(E.Y36(E.sBO),E.Y36(E.SBq),E.Y36(E.R0b))},O.\u0275cmp=E.Xpm({type:O,selectors:[["ion-button"]],inputs:{buttonType:"buttonType",color:"color",disabled:"disabled",download:"download",expand:"expand",fill:"fill",form:"form",href:"href",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",shape:"shape",size:"size",strong:"strong",target:"target",type:"type"},ngContentSelectors:Te,decls:1,vars:0,template:function(N,le){1&N&&(E.F$t(),E.Hsn(0))},encapsulation:2,changeDetection:0}),O=(0,ke.gn)([an({inputs:["buttonType","color","disabled","download","expand","fill","form","href","mode","rel","routerAnimation","routerDirection","shape","size","strong","target","type"]})],O),O})(),ui=(()=>{let O=class{constructor(N,le,Ge){this.z=Ge,N.detach(),this.el=le.nativeElement}};return O.\u0275fac=function(N){return new(N||O)(E.Y36(E.sBO),E.Y36(E.SBq),E.Y36(E.R0b))},O.\u0275cmp=E.Xpm({type:O,selectors:[["ion-buttons"]],inputs:{collapse:"collapse"},ngContentSelectors:Te,decls:1,vars:0,template:function(N,le){1&N&&(E.F$t(),E.Hsn(0))},encapsulation:2,changeDetection:0}),O=(0,ke.gn)([an({inputs:["collapse"]})],O),O})(),gi=(()=>{let O=class{constructor(N,le,Ge){this.z=Ge,N.detach(),this.el=le.nativeElement}};return O.\u0275fac=function(N){return new(N||O)(E.Y36(E.sBO),E.Y36(E.SBq),E.Y36(E.R0b))},O.\u0275cmp=E.Xpm({type:O,selectors:[["ion-card"]],inputs:{button:"button",color:"color",disabled:"disabled",download:"download",href:"href",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",target:"target",type:"type"},ngContentSelectors:Te,decls:1,vars:0,template:function(N,le){1&N&&(E.F$t(),E.Hsn(0))},encapsulation:2,changeDetection:0}),O=(0,ke.gn)([an({inputs:["button","color","disabled","download","href","mode","rel","routerAnimation","routerDirection","target","type"]})],O),O})(),ni=(()=>{let O=class{constructor(N,le,Ge){this.z=Ge,N.detach(),this.el=le.nativeElement}};return O.\u0275fac=function(N){return new(N||O)(E.Y36(E.sBO),E.Y36(E.SBq),E.Y36(E.R0b))},O.\u0275cmp=E.Xpm({type:O,selectors:[["ion-card-content"]],inputs:{mode:"mode"},ngContentSelectors:Te,decls:1,vars:0,template:function(N,le){1&N&&(E.F$t(),E.Hsn(0))},encapsulation:2,changeDetection:0}),O=(0,ke.gn)([an({inputs:["mode"]})],O),O})(),di=(()=>{let O=class{constructor(N,le,Ge){this.z=Ge,N.detach(),this.el=le.nativeElement}};return O.\u0275fac=function(N){return new(N||O)(E.Y36(E.sBO),E.Y36(E.SBq),E.Y36(E.R0b))},O.\u0275cmp=E.Xpm({type:O,selectors:[["ion-card-header"]],inputs:{color:"color",mode:"mode",translucent:"translucent"},ngContentSelectors:Te,decls:1,vars:0,template:function(N,le){1&N&&(E.F$t(),E.Hsn(0))},encapsulation:2,changeDetection:0}),O=(0,ke.gn)([an({inputs:["color","mode","translucent"]})],O),O})(),Ti=(()=>{let O=class{constructor(N,le,Ge){this.z=Ge,N.detach(),this.el=le.nativeElement}};return O.\u0275fac=function(N){return new(N||O)(E.Y36(E.sBO),E.Y36(E.SBq),E.Y36(E.R0b))},O.\u0275cmp=E.Xpm({type:O,selectors:[["ion-card-subtitle"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:Te,decls:1,vars:0,template:function(N,le){1&N&&(E.F$t(),E.Hsn(0))},encapsulation:2,changeDetection:0}),O=(0,ke.gn)([an({inputs:["color","mode"]})],O),O})(),br=(()=>{let O=class{constructor(N,le,Ge){this.z=Ge,N.detach(),this.el=le.nativeElement}};return O.\u0275fac=function(N){return new(N||O)(E.Y36(E.sBO),E.Y36(E.SBq),E.Y36(E.R0b))},O.\u0275cmp=E.Xpm({type:O,selectors:[["ion-card-title"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:Te,decls:1,vars:0,template:function(N,le){1&N&&(E.F$t(),E.Hsn(0))},encapsulation:2,changeDetection:0}),O=(0,ke.gn)([an({inputs:["color","mode"]})],O),O})(),Di=(()=>{let O=class{constructor(N,le,Ge){this.z=Ge,N.detach(),this.el=le.nativeElement}};return O.\u0275fac=function(N){return new(N||O)(E.Y36(E.sBO),E.Y36(E.SBq),E.Y36(E.R0b))},O.\u0275cmp=E.Xpm({type:O,selectors:[["ion-chip"]],inputs:{color:"color",disabled:"disabled",mode:"mode",outline:"outline"},ngContentSelectors:Te,decls:1,vars:0,template:function(N,le){1&N&&(E.F$t(),E.Hsn(0))},encapsulation:2,changeDetection:0}),O=(0,ke.gn)([an({inputs:["color","disabled","mode","outline"]})],O),O})(),Er=(()=>{let O=class{constructor(N,le,Ge){this.z=Ge,N.detach(),this.el=le.nativeElement}};return O.\u0275fac=function(N){return new(N||O)(E.Y36(E.sBO),E.Y36(E.SBq),E.Y36(E.R0b))},O.\u0275cmp=E.Xpm({type:O,selectors:[["ion-col"]],inputs:{offset:"offset",offsetLg:"offsetLg",offsetMd:"offsetMd",offsetSm:"offsetSm",offsetXl:"offsetXl",offsetXs:"offsetXs",pull:"pull",pullLg:"pullLg",pullMd:"pullMd",pullSm:"pullSm",pullXl:"pullXl",pullXs:"pullXs",push:"push",pushLg:"pushLg",pushMd:"pushMd",pushSm:"pushSm",pushXl:"pushXl",pushXs:"pushXs",size:"size",sizeLg:"sizeLg",sizeMd:"sizeMd",sizeSm:"sizeSm",sizeXl:"sizeXl",sizeXs:"sizeXs"},ngContentSelectors:Te,decls:1,vars:0,template:function(N,le){1&N&&(E.F$t(),E.Hsn(0))},encapsulation:2,changeDetection:0}),O=(0,ke.gn)([an({inputs:["offset","offsetLg","offsetMd","offsetSm","offsetXl","offsetXs","pull","pullLg","pullMd","pullSm","pullXl","pullXs","push","pushLg","pushMd","pushSm","pushXl","pushXs","size","sizeLg","sizeMd","sizeSm","sizeXl","sizeXs"]})],O),O})(),Sn=(()=>{let O=class{constructor(N,le,Ge){this.z=Ge,N.detach(),this.el=le.nativeElement,un(this,this.el,["ionScrollStart","ionScroll","ionScrollEnd"])}};return O.\u0275fac=function(N){return new(N||O)(E.Y36(E.sBO),E.Y36(E.SBq),E.Y36(E.R0b))},O.\u0275cmp=E.Xpm({type:O,selectors:[["ion-content"]],inputs:{color:"color",forceOverscroll:"forceOverscroll",fullscreen:"fullscreen",scrollEvents:"scrollEvents",scrollX:"scrollX",scrollY:"scrollY"},ngContentSelectors:Te,decls:1,vars:0,template:function(N,le){1&N&&(E.F$t(),E.Hsn(0))},encapsulation:2,changeDetection:0}),O=(0,ke.gn)([an({inputs:["color","forceOverscroll","fullscreen","scrollEvents","scrollX","scrollY"],methods:["getScrollElement","scrollToTop","scrollToBottom","scrollByPoint","scrollToPoint"]})],O),O})(),Wt=(()=>{let O=class{constructor(N,le,Ge){this.z=Ge,N.detach(),this.el=le.nativeElement}};return O.\u0275fac=function(N){return new(N||O)(E.Y36(E.sBO),E.Y36(E.SBq),E.Y36(E.R0b))},O.\u0275cmp=E.Xpm({type:O,selectors:[["ion-fab"]],inputs:{activated:"activated",edge:"edge",horizontal:"horizontal",vertical:"vertical"},ngContentSelectors:Te,decls:1,vars:0,template:function(N,le){1&N&&(E.F$t(),E.Hsn(0))},encapsulation:2,changeDetection:0}),O=(0,ke.gn)([an({inputs:["activated","edge","horizontal","vertical"],methods:["close"]})],O),O})(),wn=(()=>{let O=class{constructor(N,le,Ge){this.z=Ge,N.detach(),this.el=le.nativeElement,un(this,this.el,["ionFocus","ionBlur"])}};return O.\u0275fac=function(N){return new(N||O)(E.Y36(E.sBO),E.Y36(E.SBq),E.Y36(E.R0b))},O.\u0275cmp=E.Xpm({type:O,selectors:[["ion-fab-button"]],inputs:{activated:"activated",closeIcon:"closeIcon",color:"color",disabled:"disabled",download:"download",href:"href",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",show:"show",size:"size",target:"target",translucent:"translucent",type:"type"},ngContentSelectors:Te,decls:1,vars:0,template:function(N,le){1&N&&(E.F$t(),E.Hsn(0))},encapsulation:2,changeDetection:0}),O=(0,ke.gn)([an({inputs:["activated","closeIcon","color","disabled","download","href","mode","rel","routerAnimation","routerDirection","show","size","target","translucent","type"]})],O),O})(),Hn=(()=>{let O=class{constructor(N,le,Ge){this.z=Ge,N.detach(),this.el=le.nativeElement}};return O.\u0275fac=function(N){return new(N||O)(E.Y36(E.sBO),E.Y36(E.SBq),E.Y36(E.R0b))},O.\u0275cmp=E.Xpm({type:O,selectors:[["ion-fab-list"]],inputs:{activated:"activated",side:"side"},ngContentSelectors:Te,decls:1,vars:0,template:function(N,le){1&N&&(E.F$t(),E.Hsn(0))},encapsulation:2,changeDetection:0}),O=(0,ke.gn)([an({inputs:["activated","side"]})],O),O})(),kr=(()=>{let O=class{constructor(N,le,Ge){this.z=Ge,N.detach(),this.el=le.nativeElement}};return O.\u0275fac=function(N){return new(N||O)(E.Y36(E.sBO),E.Y36(E.SBq),E.Y36(E.R0b))},O.\u0275cmp=E.Xpm({type:O,selectors:[["ion-grid"]],inputs:{fixed:"fixed"},ngContentSelectors:Te,decls:1,vars:0,template:function(N,le){1&N&&(E.F$t(),E.Hsn(0))},encapsulation:2,changeDetection:0}),O=(0,ke.gn)([an({inputs:["fixed"]})],O),O})(),Rr=(()=>{let O=class{constructor(N,le,Ge){this.z=Ge,N.detach(),this.el=le.nativeElement}};return O.\u0275fac=function(N){return new(N||O)(E.Y36(E.sBO),E.Y36(E.SBq),E.Y36(E.R0b))},O.\u0275cmp=E.Xpm({type:O,selectors:[["ion-header"]],inputs:{collapse:"collapse",mode:"mode",translucent:"translucent"},ngContentSelectors:Te,decls:1,vars:0,template:function(N,le){1&N&&(E.F$t(),E.Hsn(0))},encapsulation:2,changeDetection:0}),O=(0,ke.gn)([an({inputs:["collapse","mode","translucent"]})],O),O})(),mt=(()=>{let O=class{constructor(N,le,Ge){this.z=Ge,N.detach(),this.el=le.nativeElement}};return O.\u0275fac=function(N){return new(N||O)(E.Y36(E.sBO),E.Y36(E.SBq),E.Y36(E.R0b))},O.\u0275cmp=E.Xpm({type:O,selectors:[["ion-icon"]],inputs:{color:"color",flipRtl:"flipRtl",icon:"icon",ios:"ios",lazy:"lazy",md:"md",mode:"mode",name:"name",sanitize:"sanitize",size:"size",src:"src"},ngContentSelectors:Te,decls:1,vars:0,template:function(N,le){1&N&&(E.F$t(),E.Hsn(0))},encapsulation:2,changeDetection:0}),O=(0,ke.gn)([an({inputs:["color","flipRtl","icon","ios","lazy","md","mode","name","sanitize","size","src"]})],O),O})(),Ae=(()=>{let O=class{constructor(N,le,Ge){this.z=Ge,N.detach(),this.el=le.nativeElement,un(this,this.el,["ionImgWillLoad","ionImgDidLoad","ionError"])}};return O.\u0275fac=function(N){return new(N||O)(E.Y36(E.sBO),E.Y36(E.SBq),E.Y36(E.R0b))},O.\u0275cmp=E.Xpm({type:O,selectors:[["ion-img"]],inputs:{alt:"alt",src:"src"},ngContentSelectors:Te,decls:1,vars:0,template:function(N,le){1&N&&(E.F$t(),E.Hsn(0))},encapsulation:2,changeDetection:0}),O=(0,ke.gn)([an({inputs:["alt","src"]})],O),O})(),se=(()=>{let O=class{constructor(N,le,Ge){this.z=Ge,N.detach(),this.el=le.nativeElement,un(this,this.el,["ionInput","ionChange","ionBlur","ionFocus"])}};return O.\u0275fac=function(N){return new(N||O)(E.Y36(E.sBO),E.Y36(E.SBq),E.Y36(E.R0b))},O.\u0275cmp=E.Xpm({type:O,selectors:[["ion-input"]],inputs:{accept:"accept",autocapitalize:"autocapitalize",autocomplete:"autocomplete",autocorrect:"autocorrect",autofocus:"autofocus",clearInput:"clearInput",clearOnEdit:"clearOnEdit",color:"color",counter:"counter",counterFormatter:"counterFormatter",debounce:"debounce",disabled:"disabled",enterkeyhint:"enterkeyhint",errorText:"errorText",fill:"fill",helperText:"helperText",inputmode:"inputmode",label:"label",labelPlacement:"labelPlacement",legacy:"legacy",max:"max",maxlength:"maxlength",min:"min",minlength:"minlength",mode:"mode",multiple:"multiple",name:"name",pattern:"pattern",placeholder:"placeholder",readonly:"readonly",required:"required",shape:"shape",size:"size",spellcheck:"spellcheck",step:"step",type:"type",value:"value"},ngContentSelectors:Te,decls:1,vars:0,template:function(N,le){1&N&&(E.F$t(),E.Hsn(0))},encapsulation:2,changeDetection:0}),O=(0,ke.gn)([an({inputs:["accept","autocapitalize","autocomplete","autocorrect","autofocus","clearInput","clearOnEdit","color","counter","counterFormatter","debounce","disabled","enterkeyhint","errorText","fill","helperText","inputmode","label","labelPlacement","legacy","max","maxlength","min","minlength","mode","multiple","name","pattern","placeholder","readonly","required","shape","size","spellcheck","step","type","value"],methods:["setFocus","getInputElement"]})],O),O})(),Ke=(()=>{let O=class{constructor(N,le,Ge){this.z=Ge,N.detach(),this.el=le.nativeElement}};return O.\u0275fac=function(N){return new(N||O)(E.Y36(E.sBO),E.Y36(E.SBq),E.Y36(E.R0b))},O.\u0275cmp=E.Xpm({type:O,selectors:[["ion-item"]],inputs:{button:"button",color:"color",counter:"counter",counterFormatter:"counterFormatter",detail:"detail",detailIcon:"detailIcon",disabled:"disabled",download:"download",fill:"fill",href:"href",lines:"lines",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",shape:"shape",target:"target",type:"type"},ngContentSelectors:Te,decls:1,vars:0,template:function(N,le){1&N&&(E.F$t(),E.Hsn(0))},encapsulation:2,changeDetection:0}),O=(0,ke.gn)([an({inputs:["button","color","counter","counterFormatter","detail","detailIcon","disabled","download","fill","href","lines","mode","rel","routerAnimation","routerDirection","shape","target","type"]})],O),O})(),vn=(()=>{let O=class{constructor(N,le,Ge){this.z=Ge,N.detach(),this.el=le.nativeElement}};return O.\u0275fac=function(N){return new(N||O)(E.Y36(E.sBO),E.Y36(E.SBq),E.Y36(E.R0b))},O.\u0275cmp=E.Xpm({type:O,selectors:[["ion-label"]],inputs:{color:"color",mode:"mode",position:"position"},ngContentSelectors:Te,decls:1,vars:0,template:function(N,le){1&N&&(E.F$t(),E.Hsn(0))},encapsulation:2,changeDetection:0}),O=(0,ke.gn)([an({inputs:["color","mode","position"]})],O),O})(),$n=(()=>{let O=class{constructor(N,le,Ge){this.z=Ge,N.detach(),this.el=le.nativeElement}};return O.\u0275fac=function(N){return new(N||O)(E.Y36(E.sBO),E.Y36(E.SBq),E.Y36(E.R0b))},O.\u0275cmp=E.Xpm({type:O,selectors:[["ion-list"]],inputs:{inset:"inset",lines:"lines",mode:"mode"},ngContentSelectors:Te,decls:1,vars:0,template:function(N,le){1&N&&(E.F$t(),E.Hsn(0))},encapsulation:2,changeDetection:0}),O=(0,ke.gn)([an({inputs:["inset","lines","mode"],methods:["closeSlidingItems"]})],O),O})(),Bt=(()=>{let O=class{constructor(N,le,Ge){this.z=Ge,N.detach(),this.el=le.nativeElement}};return O.\u0275fac=function(N){return new(N||O)(E.Y36(E.sBO),E.Y36(E.SBq),E.Y36(E.R0b))},O.\u0275cmp=E.Xpm({type:O,selectors:[["ion-menu-button"]],inputs:{autoHide:"autoHide",color:"color",disabled:"disabled",menu:"menu",mode:"mode",type:"type"},ngContentSelectors:Te,decls:1,vars:0,template:function(N,le){1&N&&(E.F$t(),E.Hsn(0))},encapsulation:2,changeDetection:0}),O=(0,ke.gn)([an({inputs:["autoHide","color","disabled","menu","mode","type"]})],O),O})(),cs=(()=>{let O=class{constructor(N,le,Ge){this.z=Ge,N.detach(),this.el=le.nativeElement}};return O.\u0275fac=function(N){return new(N||O)(E.Y36(E.sBO),E.Y36(E.SBq),E.Y36(E.R0b))},O.\u0275cmp=E.Xpm({type:O,selectors:[["ion-row"]],ngContentSelectors:Te,decls:1,vars:0,template:function(N,le){1&N&&(E.F$t(),E.Hsn(0))},encapsulation:2,changeDetection:0}),O=(0,ke.gn)([an({})],O),O})(),zs=(()=>{let O=class{constructor(N,le,Ge){this.z=Ge,N.detach(),this.el=le.nativeElement,un(this,this.el,["ionChange","ionCancel","ionDismiss","ionFocus","ionBlur"])}};return O.\u0275fac=function(N){return new(N||O)(E.Y36(E.sBO),E.Y36(E.SBq),E.Y36(E.R0b))},O.\u0275cmp=E.Xpm({type:O,selectors:[["ion-select"]],inputs:{cancelText:"cancelText",color:"color",compareWith:"compareWith",disabled:"disabled",fill:"fill",interface:"interface",interfaceOptions:"interfaceOptions",justify:"justify",label:"label",labelPlacement:"labelPlacement",legacy:"legacy",mode:"mode",multiple:"multiple",name:"name",okText:"okText",placeholder:"placeholder",selectedText:"selectedText",shape:"shape",value:"value"},ngContentSelectors:Te,decls:1,vars:0,template:function(N,le){1&N&&(E.F$t(),E.Hsn(0))},encapsulation:2,changeDetection:0}),O=(0,ke.gn)([an({inputs:["cancelText","color","compareWith","disabled","fill","interface","interfaceOptions","justify","label","labelPlacement","legacy","mode","multiple","name","okText","placeholder","selectedText","shape","value"],methods:["open"]})],O),O})(),ks=(()=>{let O=class{constructor(N,le,Ge){this.z=Ge,N.detach(),this.el=le.nativeElement}};return O.\u0275fac=function(N){return new(N||O)(E.Y36(E.sBO),E.Y36(E.SBq),E.Y36(E.R0b))},O.\u0275cmp=E.Xpm({type:O,selectors:[["ion-select-option"]],inputs:{disabled:"disabled",value:"value"},ngContentSelectors:Te,decls:1,vars:0,template:function(N,le){1&N&&(E.F$t(),E.Hsn(0))},encapsulation:2,changeDetection:0}),O=(0,ke.gn)([an({inputs:["disabled","value"]})],O),O})(),Fs=(()=>{let O=class{constructor(N,le,Ge){this.z=Ge,N.detach(),this.el=le.nativeElement}};return O.\u0275fac=function(N){return new(N||O)(E.Y36(E.sBO),E.Y36(E.SBq),E.Y36(E.R0b))},O.\u0275cmp=E.Xpm({type:O,selectors:[["ion-spinner"]],inputs:{color:"color",duration:"duration",name:"name",paused:"paused"},ngContentSelectors:Te,decls:1,vars:0,template:function(N,le){1&N&&(E.F$t(),E.Hsn(0))},encapsulation:2,changeDetection:0}),O=(0,ke.gn)([an({inputs:["color","duration","name","paused"]})],O),O})(),pe=(()=>{let O=class{constructor(N,le,Ge){this.z=Ge,N.detach(),this.el=le.nativeElement}};return O.\u0275fac=function(N){return new(N||O)(E.Y36(E.sBO),E.Y36(E.SBq),E.Y36(E.R0b))},O.\u0275cmp=E.Xpm({type:O,selectors:[["ion-tab-bar"]],inputs:{color:"color",mode:"mode",selectedTab:"selectedTab",translucent:"translucent"},ngContentSelectors:Te,decls:1,vars:0,template:function(N,le){1&N&&(E.F$t(),E.Hsn(0))},encapsulation:2,changeDetection:0}),O=(0,ke.gn)([an({inputs:["color","mode","selectedTab","translucent"]})],O),O})(),Oe=(()=>{let O=class{constructor(N,le,Ge){this.z=Ge,N.detach(),this.el=le.nativeElement}};return O.\u0275fac=function(N){return new(N||O)(E.Y36(E.sBO),E.Y36(E.SBq),E.Y36(E.R0b))},O.\u0275cmp=E.Xpm({type:O,selectors:[["ion-tab-button"]],inputs:{disabled:"disabled",download:"download",href:"href",layout:"layout",mode:"mode",rel:"rel",selected:"selected",tab:"tab",target:"target"},ngContentSelectors:Te,decls:1,vars:0,template:function(N,le){1&N&&(E.F$t(),E.Hsn(0))},encapsulation:2,changeDetection:0}),O=(0,ke.gn)([an({inputs:["disabled","download","href","layout","mode","rel","selected","tab","target"]})],O),O})(),Ee=(()=>{let O=class{constructor(N,le,Ge){this.z=Ge,N.detach(),this.el=le.nativeElement}};return O.\u0275fac=function(N){return new(N||O)(E.Y36(E.sBO),E.Y36(E.SBq),E.Y36(E.R0b))},O.\u0275cmp=E.Xpm({type:O,selectors:[["ion-text"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:Te,decls:1,vars:0,template:function(N,le){1&N&&(E.F$t(),E.Hsn(0))},encapsulation:2,changeDetection:0}),O=(0,ke.gn)([an({inputs:["color","mode"]})],O),O})(),st=(()=>{let O=class{constructor(N,le,Ge){this.z=Ge,N.detach(),this.el=le.nativeElement}};return O.\u0275fac=function(N){return new(N||O)(E.Y36(E.sBO),E.Y36(E.SBq),E.Y36(E.R0b))},O.\u0275cmp=E.Xpm({type:O,selectors:[["ion-title"]],inputs:{color:"color",size:"size"},ngContentSelectors:Te,decls:1,vars:0,template:function(N,le){1&N&&(E.F$t(),E.Hsn(0))},encapsulation:2,changeDetection:0}),O=(0,ke.gn)([an({inputs:["color","size"]})],O),O})(),tn=(()=>{let O=class{constructor(N,le,Ge){this.z=Ge,N.detach(),this.el=le.nativeElement}};return O.\u0275fac=function(N){return new(N||O)(E.Y36(E.sBO),E.Y36(E.SBq),E.Y36(E.R0b))},O.\u0275cmp=E.Xpm({type:O,selectors:[["ion-toolbar"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:Te,decls:1,vars:0,template:function(N,le){1&N&&(E.F$t(),E.Hsn(0))},encapsulation:2,changeDetection:0}),O=(0,ke.gn)([an({inputs:["color","mode"]})],O),O})(),Un=(()=>{class O{get(N,le){const Ge=Nr();return Ge?Ge.get(N,le):null}getBoolean(N,le){const Ge=Nr();return!!Ge&&Ge.getBoolean(N,le)}getNumber(N,le){const Ge=Nr();return Ge?Ge.getNumber(N,le):0}}return O.\u0275fac=function(N){return new(N||O)},O.\u0275prov=E.Yz7({token:O,factory:O.\u0275fac,providedIn:"root"}),O})();const jn=new E.OlP("USERCONFIG"),Nr=()=>{if(typeof window<"u"){const O=window.Ionic;if(null!=O&&O.config)return O.config}return null};let Kr=(()=>{class O{constructor(N,le){this.doc=N,this.backButton=new je.x,this.keyboardDidShow=new je.x,this.keyboardDidHide=new je.x,this.pause=new je.x,this.resume=new je.x,this.resize=new je.x,le.run(()=>{var Ge;let _n;this.win=N.defaultView,this.backButton.subscribeWithPriority=function(Sr,Gn){return this.subscribe(ai=>ai.register(Sr,hi=>le.run(()=>Gn(hi))))},Xi(this.pause,N,"pause"),Xi(this.resume,N,"resume"),Xi(this.backButton,N,"ionBackButton"),Xi(this.resize,this.win,"resize"),Xi(this.keyboardDidShow,this.win,"ionKeyboardDidShow"),Xi(this.keyboardDidHide,this.win,"ionKeyboardDidHide"),this._readyPromise=new Promise(Sr=>{_n=Sr}),null!==(Ge=this.win)&&void 0!==Ge&&Ge.cordova?N.addEventListener("deviceready",()=>{_n("cordova")},{once:!0}):_n("dom")})}is(N){return(0,Me.a)(this.win,N)}platforms(){return(0,Me.g)(this.win)}ready(){return this._readyPromise}get isRTL(){return"rtl"===this.doc.dir}getQueryParam(N){return gs(this.win.location.href,N)}isLandscape(){return!this.isPortrait()}isPortrait(){var N,le;return null===(N=(le=this.win).matchMedia)||void 0===N?void 0:N.call(le,"(orientation: portrait)").matches}testUserAgent(N){const le=this.win.navigator;return!!(null!=le&&le.userAgent&&le.userAgent.indexOf(N)>=0)}url(){return this.win.location.href}width(){return this.win.innerWidth}height(){return this.win.innerHeight}}return O.\u0275fac=function(N){return new(N||O)(E.LFG(te.K0),E.LFG(E.R0b))},O.\u0275prov=E.Yz7({token:O,factory:O.\u0275fac,providedIn:"root"}),O})();const gs=(O,he)=>{he=he.replace(/[[\]\\]/g,"\\$&");const le=new RegExp("[\\?&]"+he+"=([^&#]*)").exec(O);return le?decodeURIComponent(le[1].replace(/\+/g," ")):null},Xi=(O,he,N)=>{he&&he.addEventListener(N,le=>{O.next(null!=le?le.detail:void 0)})};let Si=(()=>{class O{constructor(N,le,Ge,_n){this.location=le,this.serializer=Ge,this.router=_n,this.direction=An,this.animated=Fr,this.guessDirection="forward",this.lastNavId=-1,_n&&_n.events.subscribe(Sr=>{if(Sr instanceof Re.OD){const Gn=Sr.restoredState?Sr.restoredState.navigationId:Sr.id;this.guessDirection=Gn<this.lastNavId?"back":"forward",this.guessAnimation=Sr.restoredState?void 0:this.guessDirection,this.lastNavId="forward"===this.guessDirection?Sr.id:Gn}}),N.backButton.subscribeWithPriority(0,Sr=>{this.pop(),Sr()})}navigateForward(N,le={}){return this.setDirection("forward",le.animated,le.animationDirection,le.animation),this.navigate(N,le)}navigateBack(N,le={}){return this.setDirection("back",le.animated,le.animationDirection,le.animation),this.navigate(N,le)}navigateRoot(N,le={}){return this.setDirection("root",le.animated,le.animationDirection,le.animation),this.navigate(N,le)}back(N={animated:!0,animationDirection:"back"}){return this.setDirection("back",N.animated,N.animationDirection,N.animation),this.location.back()}pop(){var N=this;return(0,d.Z)(function*(){let le=N.topOutlet;for(;le&&!(yield le.pop());)le=le.parentOutlet})()}setDirection(N,le,Ge,_n){this.direction=N,this.animated=Mr(N,le,Ge),this.animationBuilder=_n}setTopOutlet(N){this.topOutlet=N}consumeTransition(){let le,N="root";const Ge=this.animationBuilder;return"auto"===this.direction?(N=this.guessDirection,le=this.guessAnimation):(le=this.animated,N=this.direction),this.direction=An,this.animated=Fr,this.animationBuilder=void 0,{direction:N,animation:le,animationBuilder:Ge}}navigate(N,le){if(Array.isArray(N))return this.router.navigate(N,le);{const Ge=this.serializer.parse(N.toString());return void 0!==le.queryParams&&(Ge.queryParams={...le.queryParams}),void 0!==le.fragment&&(Ge.fragment=le.fragment),this.router.navigateByUrl(Ge,le)}}}return O.\u0275fac=function(N){return new(N||O)(E.LFG(Kr),E.LFG(te.Ye),E.LFG(Re.Hx),E.LFG(Re.F0,8))},O.\u0275prov=E.Yz7({token:O,factory:O.\u0275fac,providedIn:"root"}),O})();const Mr=(O,he,N)=>{if(!1!==he){if(void 0!==N)return N;if("forward"===O||"back"===O)return O;if("root"===O&&!0===he)return"forward"}},An="auto",Fr=void 0;class Lr{constructor(he={}){this.data=he}get(he){return this.data[he]}}let Ds=(()=>{class O{constructor(){this.zone=(0,E.f3M)(E.R0b),this.applicationRef=(0,E.f3M)(E.z2F)}create(N,le,Ge){return new Ao(N,le,this.applicationRef,this.zone,Ge)}}return O.\u0275fac=function(N){return new(N||O)},O.\u0275prov=E.Yz7({token:O,factory:O.\u0275fac}),O})();class Ao{constructor(he,N,le,Ge,_n){this.environmentInjector=he,this.injector=N,this.applicationRef=le,this.zone=Ge,this.elementReferenceKey=_n,this.elRefMap=new WeakMap,this.elEventsMap=new WeakMap}attachViewToDom(he,N,le,Ge){return this.zone.run(()=>new Promise(_n=>{const Sr={...le};void 0!==this.elementReferenceKey&&(Sr[this.elementReferenceKey]=he),_n(is(this.zone,this.environmentInjector,this.injector,this.applicationRef,this.elRefMap,this.elEventsMap,he,N,Sr,Ge))}))}removeViewFromDom(he,N){return this.zone.run(()=>new Promise(le=>{const Ge=this.elRefMap.get(N);if(Ge){Ge.destroy(),this.elRefMap.delete(N);const _n=this.elEventsMap.get(N);_n&&(_n(),this.elEventsMap.delete(N))}le()}))}}const is=(O,he,N,le,Ge,_n,Sr,Gn,ai,hi)=>{const ws=E.zs3.create({providers:zi(ai),parent:N}),Pi=(0,E.LMc)(Gn,{environmentInjector:he,elementInjector:ws}),Bs=Pi.instance,Po=Pi.location.nativeElement;if(ai&&Object.assign(Bs,ai),hi)for(const ce of hi)Po.classList.add(ce);const _e=Qr(O,Bs,Po);return Sr.appendChild(Po),le.attachView(Pi.hostView),Ge.set(Po,Pi),_n.set(Po,_e),Po},wo=[jt.L,jt.a,jt.b,jt.c,jt.d],Qr=(O,he,N)=>O.run(()=>{const le=wo.filter(Ge=>"function"==typeof he[Ge]).map(Ge=>{const _n=Sr=>he[Ge](Sr.detail);return N.addEventListener(Ge,_n),()=>N.removeEventListener(Ge,_n)});return()=>le.forEach(Ge=>Ge())}),zr=new E.OlP("NavParamsToken"),zi=O=>[{provide:zr,useValue:O},{provide:Lr,useFactory:Yr,deps:[zr]}],Yr=O=>new Lr(O),ms=(O,he)=>((O=O.filter(N=>N.stackId!==he.stackId)).push(he),O),no=(O,he)=>{const N=O.createUrlTree(["."],{relativeTo:he});return O.serializeUrl(N)},Qs=(O,he)=>{if(!O)return;const N=Io(he);for(let le=0;le<N.length;le++){if(le>=O.length)return N[le];if(N[le]!==O[le])return}},Io=O=>O.split("/").map(he=>he.trim()).filter(he=>""!==he),Co=O=>{O&&(O.ref.destroy(),O.unlistenEvents())};class Hs{constructor(he,N,le,Ge,_n,Sr){this.containerEl=N,this.router=le,this.navCtrl=Ge,this.zone=_n,this.location=Sr,this.views=[],this.skipTransition=!1,this.nextId=0,this.tabsPrefix=void 0!==he?Io(he):void 0}createView(he,N){var le;const Ge=no(this.router,N),_n=null==he||null===(le=he.location)||void 0===le?void 0:le.nativeElement,Sr=Qr(this.zone,he.instance,_n);return{id:this.nextId++,stackId:Qs(this.tabsPrefix,Ge),unlistenEvents:Sr,element:_n,ref:he,url:Ge}}getExistingView(he){const N=no(this.router,he),le=this.views.find(Ge=>Ge.url===N);return le&&le.ref.changeDetectorRef.reattach(),le}setActive(he){var N,le,Ge;const _n=this.navCtrl.consumeTransition();let{direction:Sr,animation:Gn,animationBuilder:ai}=_n;const hi=this.activeView,ws=((O,he)=>!he||O.stackId!==he.stackId)(he,hi);ws&&(Sr="back",Gn=void 0);const Pi=this.views.slice();let Bs;const Po=this.router;Po.getCurrentNavigation?Bs=Po.getCurrentNavigation():null!==(N=Po.navigations)&&void 0!==N&&N.value&&(Bs=Po.navigations.value),null!==(le=Bs)&&void 0!==le&&null!==(Ge=le.extras)&&void 0!==Ge&&Ge.replaceUrl&&this.views.length>0&&this.views.splice(-1,1);const _e=this.views.includes(he),ce=this.insertView(he,Sr);_e||he.ref.changeDetectorRef.detectChanges();const $=he.animationBuilder;return void 0===ai&&"back"===Sr&&!ws&&void 0!==$&&(ai=$),hi&&(hi.animationBuilder=ai),this.zone.runOutsideAngular(()=>this.wait(()=>(hi&&hi.ref.changeDetectorRef.detach(),he.ref.changeDetectorRef.reattach(),this.transition(he,hi,Gn,this.canGoBack(1),!1,ai).then(()=>lo(he,ce,Pi,this.location,this.zone)).then(()=>({enteringView:he,direction:Sr,animation:Gn,tabSwitch:ws})))))}canGoBack(he,N=this.getActiveStackId()){return this.getStack(N).length>he}pop(he,N=this.getActiveStackId()){return this.zone.run(()=>{const le=this.getStack(N);if(le.length<=he)return Promise.resolve(!1);const Ge=le[le.length-he-1];let _n=Ge.url;const Sr=Ge.savedData;if(Sr){var Gn,ai;const ws=Sr.get("primary");null!=ws&&null!==(Gn=ws.route)&&void 0!==Gn&&null!==(ai=Gn._routerState)&&void 0!==ai&&ai.snapshot.url&&(_n=ws.route._routerState.snapshot.url)}const{animationBuilder:hi}=this.navCtrl.consumeTransition();return this.navCtrl.navigateBack(_n,{...Ge.savedExtras,animation:hi}).then(()=>!0)})}startBackTransition(){const he=this.activeView;if(he){const N=this.getStack(he.stackId),le=N[N.length-2],Ge=le.animationBuilder;return this.wait(()=>this.transition(le,he,"back",this.canGoBack(2),!0,Ge))}return Promise.resolve()}endBackTransition(he){he?(this.skipTransition=!0,this.pop(1)):this.activeView&&Ho(this.activeView,this.views,this.views,this.location,this.zone)}getLastUrl(he){const N=this.getStack(he);return N.length>0?N[N.length-1]:void 0}getRootUrl(he){const N=this.getStack(he);return N.length>0?N[0]:void 0}getActiveStackId(){return this.activeView?this.activeView.stackId:void 0}hasRunningTask(){return void 0!==this.runningTask}destroy(){this.containerEl=void 0,this.views.forEach(Co),this.activeView=void 0,this.views=[]}getStack(he){return this.views.filter(N=>N.stackId===he)}insertView(he,N){return this.activeView=he,this.views=((O,he,N)=>"root"===N?ms(O,he):"forward"===N?((O,he)=>(O.indexOf(he)>=0?O=O.filter(le=>le.stackId!==he.stackId||le.id<=he.id):O.push(he),O))(O,he):((O,he)=>O.indexOf(he)>=0?O.filter(le=>le.stackId!==he.stackId||le.id<=he.id):ms(O,he))(O,he))(this.views,he,N),this.views.slice()}transition(he,N,le,Ge,_n,Sr){if(this.skipTransition)return this.skipTransition=!1,Promise.resolve(!1);if(N===he)return Promise.resolve(!1);const Gn=he?he.element:void 0,ai=N?N.element:void 0,hi=this.containerEl;return Gn&&Gn!==ai&&(Gn.classList.add("ion-page"),Gn.classList.add("ion-page-invisible"),Gn.parentElement!==hi&&hi.appendChild(Gn),hi.commit)?hi.commit(Gn,ai,{duration:void 0===le?0:void 0,direction:le,showGoBack:Ge,progressAnimation:_n,animationBuilder:Sr}):Promise.resolve(!1)}wait(he){var N=this;return(0,d.Z)(function*(){void 0!==N.runningTask&&(yield N.runningTask,N.runningTask=void 0);const le=N.runningTask=he();return le.finally(()=>N.runningTask=void 0),le})()}}const lo=(O,he,N,le,Ge)=>"function"==typeof requestAnimationFrame?new Promise(_n=>{requestAnimationFrame(()=>{Ho(O,he,N,le,Ge),_n()})}):Promise.resolve(),Ho=(O,he,N,le,Ge)=>{Ge.run(()=>N.filter(_n=>!he.includes(_n)).forEach(Co)),he.forEach(_n=>{const Gn=le.path().split("?")[0].split("#")[0];if(_n!==O&&_n.url!==Gn){const ai=_n.element;ai.setAttribute("aria-hidden","true"),ai.classList.add("ion-page-hidden"),_n.ref.changeDetectorRef.detach()}})};let ys=(()=>{class O{constructor(N,le,Ge,_n,Sr,Gn,ai,hi){this.parentOutlet=hi,this.activated=null,this.activatedView=null,this._activatedRoute=null,this.proxyMap=new WeakMap,this.currentActivatedRoute$=new Se.X(null),this.stackEvents=new E.vpe,this.activateEvents=new E.vpe,this.deactivateEvents=new E.vpe,this.parentContexts=(0,E.f3M)(Re.y6),this.location=(0,E.f3M)(E.s_b),this.environmentInjector=(0,E.f3M)(E.lqb),this.config=(0,E.f3M)(Un),this.navCtrl=(0,E.f3M)(Si),this.nativeEl=_n.nativeElement,this.name=N||Re.eC,this.tabsPrefix="true"===le?no(Sr,ai):void 0,this.stackCtrl=new Hs(this.tabsPrefix,this.nativeEl,Sr,this.navCtrl,Gn,Ge),this.parentContexts.onChildOutletCreated(this.name,this)}set animation(N){this.nativeEl.animation=N}set animated(N){this.nativeEl.animated=N}set swipeGesture(N){this._swipeGesture=N,this.nativeEl.swipeHandler=N?{canStart:()=>this.stackCtrl.canGoBack(1)&&!this.stackCtrl.hasRunningTask(),onStart:()=>this.stackCtrl.startBackTransition(),onEnd:le=>this.stackCtrl.endBackTransition(le)}:void 0}ngOnDestroy(){this.stackCtrl.destroy()}getContext(){return this.parentContexts.getContext(this.name)}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(!this.activated){const N=this.getContext();null!=N&&N.route&&this.activateWith(N.route,N.injector)}new Promise(N=>(0,lt.c)(this.nativeEl,N)).then(()=>{void 0===this._swipeGesture&&(this.swipeGesture=this.config.getBoolean("swipeBackEnabled","ios"===this.nativeEl.mode))})}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){throw new Error("incompatible reuse strategy")}attach(N,le){throw new Error("incompatible reuse strategy")}deactivate(){if(this.activated){if(this.activatedView){const le=this.getContext();this.activatedView.savedData=new Map(le.children.contexts);const Ge=this.activatedView.savedData.get("primary");if(Ge&&le.route&&(Ge.route={...le.route}),this.activatedView.savedExtras={},le.route){const _n=le.route.snapshot;this.activatedView.savedExtras.queryParams=_n.queryParams,this.activatedView.savedExtras.fragment=_n.fragment}}const N=this.component;this.activatedView=null,this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(N)}}activateWith(N,le){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=N;let Ge,_n=this.stackCtrl.getExistingView(N);if(_n){Ge=this.activated=_n.ref;const Gn=_n.savedData;Gn&&(this.getContext().children.contexts=Gn),this.updateActivatedRouteProxy(Ge.instance,N)}else{var Sr;const Gn=N._futureSnapshot,ai=this.parentContexts.getOrCreateContext(this.name).children,hi=new Se.X(null),ws=this.createActivatedRouteProxy(hi,N),Pi=new xi(ws,ai,this.location.injector),Bs=null!==(Sr=Gn.routeConfig.component)&&void 0!==Sr?Sr:Gn.component;Ge=this.activated=this.location.createComponent(Bs,{index:this.location.length,injector:Pi,environmentInjector:null!=le?le:this.environmentInjector}),hi.next(Ge.instance),_n=this.stackCtrl.createView(this.activated,N),this.proxyMap.set(Ge.instance,ws),this.currentActivatedRoute$.next({component:Ge.instance,activatedRoute:N})}this.activatedView=_n,this.navCtrl.setTopOutlet(this),this.stackCtrl.setActive(_n).then(Gn=>{this.activateEvents.emit(Ge.instance),this.stackEvents.emit(Gn)})}canGoBack(N=1,le){return this.stackCtrl.canGoBack(N,le)}pop(N=1,le){return this.stackCtrl.pop(N,le)}getLastUrl(N){const le=this.stackCtrl.getLastUrl(N);return le?le.url:void 0}getLastRouteView(N){return this.stackCtrl.getLastUrl(N)}getRootView(N){return this.stackCtrl.getRootUrl(N)}getActiveStackId(){return this.stackCtrl.getActiveStackId()}createActivatedRouteProxy(N,le){const Ge=new Re.gz;return Ge._futureSnapshot=le._futureSnapshot,Ge._routerState=le._routerState,Ge.snapshot=le.snapshot,Ge.outlet=le.outlet,Ge.component=le.component,Ge._paramMap=this.proxyObservable(N,"paramMap"),Ge._queryParamMap=this.proxyObservable(N,"queryParamMap"),Ge.url=this.proxyObservable(N,"url"),Ge.params=this.proxyObservable(N,"params"),Ge.queryParams=this.proxyObservable(N,"queryParams"),Ge.fragment=this.proxyObservable(N,"fragment"),Ge.data=this.proxyObservable(N,"data"),Ge}proxyObservable(N,le){return N.pipe((0,St.h)(Ge=>!!Ge),(0,Ct.w)(Ge=>this.currentActivatedRoute$.pipe((0,St.h)(_n=>null!==_n&&_n.component===Ge),(0,Ct.w)(_n=>_n&&_n.activatedRoute[le]),(0,gt.x)())))}updateActivatedRouteProxy(N,le){const Ge=this.proxyMap.get(N);if(!Ge)throw new Error("Could not find activated route proxy for view");Ge._futureSnapshot=le._futureSnapshot,Ge._routerState=le._routerState,Ge.snapshot=le.snapshot,Ge.outlet=le.outlet,Ge.component=le.component,this.currentActivatedRoute$.next({component:N,activatedRoute:le})}}return O.\u0275fac=function(N){return new(N||O)(E.$8M("name"),E.$8M("tabs"),E.Y36(te.Ye),E.Y36(E.SBq),E.Y36(Re.F0),E.Y36(E.R0b),E.Y36(Re.gz),E.Y36(O,12))},O.\u0275dir=E.lG2({type:O,selectors:[["ion-router-outlet"]],inputs:{animated:"animated",animation:"animation",mode:"mode",swipeGesture:"swipeGesture"},outputs:{stackEvents:"stackEvents",activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),O})();class xi{constructor(he,N,le){this.route=he,this.childContexts=N,this.parent=le}get(he,N){return he===Re.gz?this.route:he===Re.y6?this.childContexts:this.parent.get(he,N)}}let Ws=(()=>{class O{constructor(N){this.navCtrl=N,this.ionTabsWillChange=new E.vpe,this.ionTabsDidChange=new E.vpe}onPageSelected(N){const le=N.enteringView.stackId;N.tabSwitch&&void 0!==le&&(this.ionTabsWillChange.emit({tab:le}),this.tabBar&&(this.tabBar.selectedTab=le),this.ionTabsDidChange.emit({tab:le}))}select(N){const le="string"==typeof N,Ge=le?N:N.detail.tab,_n=this.outlet.getActiveStackId()===Ge,Sr=`${this.outlet.tabsPrefix}/${Ge}`;if(le||N.stopPropagation(),_n){const Gn=this.outlet.getActiveStackId(),ai=this.outlet.getLastRouteView(Gn);if((null==ai?void 0:ai.url)===Sr)return;const hi=this.outlet.getRootView(Ge);return this.navCtrl.navigateRoot(Sr,{...hi&&Sr===hi.url&&hi.savedExtras,animated:!0,animationDirection:"back"})}{const Gn=this.outlet.getLastRouteView(Ge);return this.navCtrl.navigateRoot((null==Gn?void 0:Gn.url)||Sr,{...null==Gn?void 0:Gn.savedExtras,animated:!0,animationDirection:"back"})}}getSelected(){return this.outlet.getActiveStackId()}}return O.\u0275fac=function(N){return new(N||O)(E.Y36(Si))},O.\u0275cmp=E.Xpm({type:O,selectors:[["ion-tabs"]],contentQueries:function(N,le,Ge){if(1&N&&E.Suo(Ge,pe,5),2&N){let _n;E.iGM(_n=E.CRH())&&(le.tabBar=_n.first)}},viewQuery:function(N,le){if(1&N&&E.Gf(Je,5,ys),2&N){let Ge;E.iGM(Ge=E.CRH())&&(le.outlet=Ge.first)}},hostBindings:function(N,le){1&N&&E.NdJ("ionTabButtonClick",function(_n){return le.select(_n)})},outputs:{ionTabsWillChange:"ionTabsWillChange",ionTabsDidChange:"ionTabsDidChange"},ngContentSelectors:yt,decls:5,vars:0,consts:[[1,"tabs-inner"],["tabs","true",3,"stackEvents"],["outlet",""]],template:function(N,le){1&N&&(E.F$t(ct),E.Hsn(0),E.TgZ(1,"div",0)(2,"ion-router-outlet",1,2),E.NdJ("stackEvents",function(_n){return le.onPageSelected(_n)}),E.qZA()(),E.Hsn(4,1))},dependencies:[ys],styles:["[_nghost-%COMP%]{display:flex;position:absolute;inset:0;flex-direction:column;width:100%;height:100%;contain:layout size style;z-index:$z-index-page-container}.tabs-inner[_ngcontent-%COMP%]{position:relative;flex:1;contain:layout size style}"]}),O})(),Es=(()=>{class O{constructor(N,le,Ge){this.routerOutlet=N,this.navCtrl=le,this.config=Ge}onClick(N){var le;const Ge=this.defaultHref||this.config.get("backButtonDefaultHref");null!==(le=this.routerOutlet)&&void 0!==le&&le.canGoBack()?(this.navCtrl.setDirection("back",void 0,void 0,this.routerAnimation),this.routerOutlet.pop(),N.preventDefault()):null!=Ge&&(this.navCtrl.navigateBack(Ge,{animation:this.routerAnimation}),N.preventDefault())}}return O.\u0275fac=function(N){return new(N||O)(E.Y36(ys,8),E.Y36(Si),E.Y36(Un))},O.\u0275dir=E.lG2({type:O,selectors:[["ion-back-button"]],hostBindings:function(N,le){1&N&&E.NdJ("click",function(_n){return le.onClick(_n)})},inputs:{defaultHref:"defaultHref",routerAnimation:"routerAnimation"}}),O})();class vs{constructor(he){this.ctrl=he}create(he){return this.ctrl.create(he||{})}dismiss(he,N,le){return this.ctrl.dismiss(he,N,le)}getTop(){return this.ctrl.getTop()}}let ro=(()=>{class O extends vs{constructor(){super(Be.a)}}return O.\u0275fac=function(N){return new(N||O)},O.\u0275prov=E.Yz7({token:O,factory:O.\u0275fac,providedIn:"root"}),O})(),ki=(()=>{class O extends vs{constructor(){super(Be.l)}}return O.\u0275fac=function(N){return new(N||O)},O.\u0275prov=E.Yz7({token:O,factory:O.\u0275fac,providedIn:"root"}),O})(),uo=(()=>{class O extends vs{constructor(){super(Be.m),this.angularDelegate=(0,E.f3M)(Ds),this.injector=(0,E.f3M)(E.zs3),this.environmentInjector=(0,E.f3M)(E.lqb)}create(N){return super.create({...N,delegate:this.angularDelegate.create(this.environmentInjector,this.injector,"modal")})}}return O.\u0275fac=function(N){return new(N||O)},O.\u0275prov=E.Yz7({token:O,factory:O.\u0275fac}),O})(),So=(()=>{class O extends vs{constructor(){super(Be.c),this.angularDelegate=(0,E.f3M)(Ds),this.injector=(0,E.f3M)(E.zs3),this.environmentInjector=(0,E.f3M)(E.lqb)}create(N){return super.create({...N,delegate:this.angularDelegate.create(this.environmentInjector,this.injector,"popover")})}}return O.\u0275fac=function(N){return new(N||O)},O.\u0275prov=E.Yz7({token:O,factory:O.\u0275fac}),O})(),po=(()=>{class O extends vs{constructor(){super(Be.t)}}return O.\u0275fac=function(N){return new(N||O)},O.\u0275prov=E.Yz7({token:O,factory:O.\u0275fac,providedIn:"root"}),O})();class us{shouldDetach(he){return!1}shouldAttach(he){return!1}store(he,N){}retrieve(he){return null}shouldReuseRoute(he,N){if(he.routeConfig!==N.routeConfig)return!1;const le=he.params,Ge=N.params,_n=Object.keys(le),Sr=Object.keys(Ge);if(_n.length!==Sr.length)return!1;for(const Gn of _n)if(Ge[Gn]!==le[Gn])return!1;return!0}}const Mo=(O,he,N)=>()=>{if(he.defaultView&&typeof window<"u"){(0,pt.s)({...O,_zoneGate:_n=>N.run(_n)});const Ge="__zone_symbol__addEventListener"in he.body?"__zone_symbol__addEventListener":"addEventListener";return function Gt(){var O=[];if(typeof window<"u"){var he=window;(!he.customElements||he.Element&&(!he.Element.prototype.closest||!he.Element.prototype.matches||!he.Element.prototype.remove||!he.Element.prototype.getRootNode))&&O.push(z.e(6748).then(z.t.bind(z,723,23))),("function"!=typeof Object.assign||!Object.entries||!Array.prototype.find||!Array.prototype.includes||!String.prototype.startsWith||!String.prototype.endsWith||he.NodeList&&!he.NodeList.prototype.forEach||!he.fetch||!function(){try{var le=new URL("b","http://a");return le.pathname="c%20d","http://a/c%20d"===le.href&&le.searchParams}catch{return!1}}()||typeof WeakMap>"u")&&O.push(z.e(2214).then(z.t.bind(z,4144,23)))}return Promise.all(O)}().then(()=>((O,he)=>typeof window>"u"?Promise.resolve():(0,ft.p)().then(()=>(Dt(),(0,ft.b)(JSON.parse('[["ion-menu_3",[[33,"ion-menu-button",{"color":[513],"disabled":[4],"menu":[1],"autoHide":[4,"auto-hide"],"type":[1],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]],[33,"ion-menu",{"contentId":[513,"content-id"],"menuId":[513,"menu-id"],"type":[1025],"disabled":[1028],"side":[513],"swipeGesture":[4,"swipe-gesture"],"maxEdgeStart":[2,"max-edge-start"],"isPaneVisible":[32],"isEndSide":[32],"isOpen":[64],"isActive":[64],"open":[64],"close":[64],"toggle":[64],"setOpen":[64]},[[16,"ionSplitPaneVisible","onSplitPaneChanged"],[2,"click","onBackdropClick"],[0,"keydown","onKeydown"]]],[1,"ion-menu-toggle",{"menu":[1],"autoHide":[4,"auto-hide"],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]]]],["ion-fab_3",[[33,"ion-fab-button",{"color":[513],"activated":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1],"show":[4],"translucent":[4],"type":[1],"size":[1],"closeIcon":[1,"close-icon"]}],[1,"ion-fab",{"horizontal":[1],"vertical":[1],"edge":[4],"activated":[1028],"close":[64],"toggle":[64]}],[1,"ion-fab-list",{"activated":[4],"side":[1]}]]],["ion-refresher_2",[[0,"ion-refresher-content",{"pullingIcon":[1025,"pulling-icon"],"pullingText":[1,"pulling-text"],"refreshingSpinner":[1025,"refreshing-spinner"],"refreshingText":[1,"refreshing-text"]}],[32,"ion-refresher",{"pullMin":[2,"pull-min"],"pullMax":[2,"pull-max"],"closeDuration":[1,"close-duration"],"snapbackDuration":[1,"snapback-duration"],"pullFactor":[2,"pull-factor"],"disabled":[4],"nativeRefresher":[32],"state":[32],"complete":[64],"cancel":[64],"getProgress":[64]}]]],["ion-back-button",[[33,"ion-back-button",{"color":[513],"defaultHref":[1025,"default-href"],"disabled":[516],"icon":[1],"text":[1],"type":[1],"routerAnimation":[16]}]]],["ion-toast",[[33,"ion-toast",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"color":[513],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"duration":[2],"header":[1],"layout":[1],"message":[1],"keyboardClose":[4,"keyboard-close"],"position":[1],"buttons":[16],"translucent":[4],"animated":[4],"icon":[1],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"revealContentToScreenReader":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-card_5",[[33,"ion-card",{"color":[513],"button":[4],"type":[1],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}],[32,"ion-card-content"],[33,"ion-card-header",{"color":[513],"translucent":[4]}],[33,"ion-card-subtitle",{"color":[513]}],[33,"ion-card-title",{"color":[513]}]]],["ion-item-option_3",[[33,"ion-item-option",{"color":[513],"disabled":[4],"download":[1],"expandable":[4],"href":[1],"rel":[1],"target":[1],"type":[1]}],[32,"ion-item-options",{"side":[1],"fireSwipeEvent":[64]}],[0,"ion-item-sliding",{"disabled":[4],"state":[32],"getOpenAmount":[64],"getSlidingRatio":[64],"open":[64],"close":[64],"closeOpened":[64]}]]],["ion-accordion_2",[[49,"ion-accordion",{"value":[1],"disabled":[4],"readonly":[4],"toggleIcon":[1,"toggle-icon"],"toggleIconSlot":[1,"toggle-icon-slot"],"state":[32],"isNext":[32],"isPrevious":[32]}],[33,"ion-accordion-group",{"animated":[4],"multiple":[4],"value":[1025],"disabled":[4],"readonly":[4],"expand":[1],"requestAccordionToggle":[64],"getAccordions":[64]},[[0,"keydown","onKeydown"]]]]],["ion-infinite-scroll_2",[[32,"ion-infinite-scroll-content",{"loadingSpinner":[1025,"loading-spinner"],"loadingText":[1,"loading-text"]}],[0,"ion-infinite-scroll",{"threshold":[1],"disabled":[4],"position":[1],"isLoading":[32],"complete":[64]}]]],["ion-reorder_2",[[33,"ion-reorder",null,[[2,"click","onClick"]]],[0,"ion-reorder-group",{"disabled":[4],"state":[32],"complete":[64]}]]],["ion-segment_2",[[33,"ion-segment-button",{"disabled":[1028],"layout":[1],"type":[1],"value":[1],"checked":[32],"setFocus":[64]}],[33,"ion-segment",{"color":[513],"disabled":[4],"scrollable":[4],"swipeGesture":[4,"swipe-gesture"],"value":[1025],"selectOnFocus":[4,"select-on-focus"],"activated":[32]},[[0,"keydown","onKeyDown"]]]]],["ion-tab-bar_2",[[33,"ion-tab-button",{"disabled":[4],"download":[1],"href":[1],"rel":[1],"layout":[1025],"selected":[1028],"tab":[1],"target":[1]},[[8,"ionTabBarChanged","onTabBarChanged"]]],[33,"ion-tab-bar",{"color":[513],"selectedTab":[1,"selected-tab"],"translucent":[4],"keyboardVisible":[32]}]]],["ion-chip",[[1,"ion-chip",{"color":[513],"outline":[4],"disabled":[4]}]]],["ion-datetime-button",[[33,"ion-datetime-button",{"color":[513],"disabled":[516],"datetime":[1],"datetimePresentation":[32],"dateText":[32],"timeText":[32],"datetimeActive":[32],"selectedButton":[32]}]]],["ion-input",[[34,"ion-input",{"color":[513],"accept":[1],"autocapitalize":[1],"autocomplete":[1],"autocorrect":[1],"autofocus":[4],"clearInput":[4,"clear-input"],"clearOnEdit":[4,"clear-on-edit"],"counter":[4],"counterFormatter":[16],"debounce":[2],"disabled":[4],"enterkeyhint":[1],"errorText":[1,"error-text"],"fill":[1],"inputmode":[1],"helperText":[1,"helper-text"],"label":[1],"labelPlacement":[1,"label-placement"],"legacy":[4],"max":[8],"maxlength":[2],"min":[8],"minlength":[2],"multiple":[4],"name":[1],"pattern":[1],"placeholder":[1],"readonly":[4],"required":[4],"shape":[1],"spellcheck":[4],"step":[1],"size":[2],"type":[1],"value":[1032],"hasFocus":[32],"setFocus":[64],"getInputElement":[64]}]]],["ion-searchbar",[[34,"ion-searchbar",{"color":[513],"animated":[4],"autocomplete":[1],"autocorrect":[1],"cancelButtonIcon":[1,"cancel-button-icon"],"cancelButtonText":[1,"cancel-button-text"],"clearIcon":[1,"clear-icon"],"debounce":[2],"disabled":[4],"inputmode":[1],"enterkeyhint":[1],"placeholder":[1],"searchIcon":[1,"search-icon"],"showCancelButton":[1,"show-cancel-button"],"showClearButton":[1,"show-clear-button"],"spellcheck":[4],"type":[1],"value":[1025],"focused":[32],"noAnimate":[32],"setFocus":[64],"getInputElement":[64]}]]],["ion-toggle",[[33,"ion-toggle",{"color":[513],"name":[1],"checked":[1028],"disabled":[4],"value":[1],"enableOnOffLabels":[4,"enable-on-off-labels"],"labelPlacement":[1,"label-placement"],"legacy":[4],"justify":[1],"activated":[32]}]]],["ion-nav_2",[[1,"ion-nav",{"delegate":[16],"swipeGesture":[1028,"swipe-gesture"],"animated":[4],"animation":[16],"rootParams":[16],"root":[1],"push":[64],"insert":[64],"insertPages":[64],"pop":[64],"popTo":[64],"popToRoot":[64],"removeIndex":[64],"setRoot":[64],"setPages":[64],"setRouteId":[64],"getRouteId":[64],"getActive":[64],"getByIndex":[64],"canGoBack":[64],"getPrevious":[64]}],[0,"ion-nav-link",{"component":[1],"componentProps":[16],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}]]],["ion-textarea",[[34,"ion-textarea",{"color":[513],"autocapitalize":[1],"autofocus":[4],"clearOnEdit":[4,"clear-on-edit"],"debounce":[2],"disabled":[4],"fill":[1],"inputmode":[1],"enterkeyhint":[1],"maxlength":[2],"minlength":[2],"name":[1],"placeholder":[1],"readonly":[4],"required":[4],"spellcheck":[4],"cols":[2],"rows":[2],"wrap":[1],"autoGrow":[516,"auto-grow"],"value":[1025],"counter":[4],"counterFormatter":[16],"errorText":[1,"error-text"],"helperText":[1,"helper-text"],"label":[1],"labelPlacement":[1,"label-placement"],"legacy":[4],"shape":[1],"hasFocus":[32],"setFocus":[64],"getInputElement":[64]}]]],["ion-backdrop",[[33,"ion-backdrop",{"visible":[4],"tappable":[4],"stopPropagation":[4,"stop-propagation"]},[[2,"click","onMouseDown"]]]]],["ion-loading",[[34,"ion-loading",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"message":[1],"cssClass":[1,"css-class"],"duration":[2],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"spinner":[1025],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-breadcrumb_2",[[33,"ion-breadcrumb",{"collapsed":[4],"last":[4],"showCollapsedIndicator":[4,"show-collapsed-indicator"],"color":[1],"active":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"separator":[4],"target":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}],[33,"ion-breadcrumbs",{"color":[513],"maxItems":[2,"max-items"],"itemsBeforeCollapse":[2,"items-before-collapse"],"itemsAfterCollapse":[2,"items-after-collapse"],"collapsed":[32],"activeChanged":[32]},[[0,"collapsedClick","onCollapsedClick"]]]]],["ion-modal",[[33,"ion-modal",{"hasController":[4,"has-controller"],"overlayIndex":[2,"overlay-index"],"delegate":[16],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"breakpoints":[16],"initialBreakpoint":[2,"initial-breakpoint"],"backdropBreakpoint":[2,"backdrop-breakpoint"],"handle":[4],"handleBehavior":[1,"handle-behavior"],"component":[1],"componentProps":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"animated":[4],"presentingElement":[16],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"keepContentsMounted":[4,"keep-contents-mounted"],"canDismiss":[4,"can-dismiss"],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"setCurrentBreakpoint":[64],"getCurrentBreakpoint":[64]}]]],["ion-route_4",[[0,"ion-route",{"url":[1],"component":[1],"componentProps":[16],"beforeLeave":[16],"beforeEnter":[16]}],[0,"ion-route-redirect",{"from":[1],"to":[1]}],[0,"ion-router",{"root":[1],"useHash":[4,"use-hash"],"canTransition":[64],"push":[64],"back":[64],"printDebug":[64],"navChanged":[64]},[[8,"popstate","onPopState"],[4,"ionBackButton","onBackButton"]]],[1,"ion-router-link",{"color":[513],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}]]],["ion-avatar_3",[[33,"ion-avatar"],[33,"ion-badge",{"color":[513]}],[1,"ion-thumbnail"]]],["ion-col_3",[[1,"ion-col",{"offset":[1],"offsetXs":[1,"offset-xs"],"offsetSm":[1,"offset-sm"],"offsetMd":[1,"offset-md"],"offsetLg":[1,"offset-lg"],"offsetXl":[1,"offset-xl"],"pull":[1],"pullXs":[1,"pull-xs"],"pullSm":[1,"pull-sm"],"pullMd":[1,"pull-md"],"pullLg":[1,"pull-lg"],"pullXl":[1,"pull-xl"],"push":[1],"pushXs":[1,"push-xs"],"pushSm":[1,"push-sm"],"pushMd":[1,"push-md"],"pushLg":[1,"push-lg"],"pushXl":[1,"push-xl"],"size":[1],"sizeXs":[1,"size-xs"],"sizeSm":[1,"size-sm"],"sizeMd":[1,"size-md"],"sizeLg":[1,"size-lg"],"sizeXl":[1,"size-xl"]},[[9,"resize","onResize"]]],[1,"ion-grid",{"fixed":[4]}],[1,"ion-row"]]],["ion-tab_2",[[1,"ion-tab",{"active":[1028],"delegate":[16],"tab":[1],"component":[1],"setActive":[64]}],[1,"ion-tabs",{"useRouter":[1028,"use-router"],"selectedTab":[32],"select":[64],"getTab":[64],"getSelected":[64],"setRouteId":[64],"getRouteId":[64]}]]],["ion-img",[[1,"ion-img",{"alt":[1],"src":[1],"loadSrc":[32],"loadError":[32]}]]],["ion-progress-bar",[[33,"ion-progress-bar",{"type":[1],"reversed":[4],"value":[2],"buffer":[2],"color":[513]}]]],["ion-range",[[33,"ion-range",{"color":[513],"debounce":[2],"name":[1],"dualKnobs":[4,"dual-knobs"],"min":[2],"max":[2],"pin":[4],"pinFormatter":[16],"snaps":[4],"step":[2],"ticks":[4],"activeBarStart":[1026,"active-bar-start"],"disabled":[4],"value":[1026],"labelPlacement":[1,"label-placement"],"legacy":[4],"ratioA":[32],"ratioB":[32],"pressedKnob":[32]}]]],["ion-split-pane",[[33,"ion-split-pane",{"contentId":[513,"content-id"],"disabled":[4],"when":[8],"visible":[32]}]]],["ion-text",[[1,"ion-text",{"color":[513]}]]],["ion-item_8",[[33,"ion-item-divider",{"color":[513],"sticky":[4]}],[32,"ion-item-group"],[1,"ion-skeleton-text",{"animated":[4]}],[32,"ion-list",{"lines":[1],"inset":[4],"closeSlidingItems":[64]}],[33,"ion-list-header",{"color":[513],"lines":[1]}],[49,"ion-item",{"color":[513],"button":[4],"detail":[4],"detailIcon":[1,"detail-icon"],"disabled":[4],"download":[1],"fill":[1],"shape":[1],"href":[1],"rel":[1],"lines":[1],"counter":[4],"routerAnimation":[16],"routerDirection":[1,"router-direction"],"target":[1],"type":[1],"counterFormatter":[16],"multipleInputs":[32],"focusable":[32],"counterString":[32]},[[0,"ionInput","handleIonInput"],[0,"ionColor","labelColorChanged"],[0,"ionStyle","itemStyle"]]],[34,"ion-label",{"color":[513],"position":[1],"noAnimate":[32]}],[33,"ion-note",{"color":[513]}]]],["ion-select_3",[[33,"ion-select",{"cancelText":[1,"cancel-text"],"color":[513],"compareWith":[1,"compare-with"],"disabled":[4],"fill":[1],"interface":[1],"interfaceOptions":[8,"interface-options"],"justify":[1],"label":[1],"labelPlacement":[1,"label-placement"],"legacy":[4],"multiple":[4],"name":[1],"okText":[1,"ok-text"],"placeholder":[1],"selectedText":[1,"selected-text"],"shape":[1],"value":[1032],"isExpanded":[32],"open":[64]}],[1,"ion-select-option",{"disabled":[4],"value":[8]}],[34,"ion-select-popover",{"header":[1],"subHeader":[1,"sub-header"],"message":[1],"multiple":[4],"options":[16]}]]],["ion-picker-internal",[[33,"ion-picker-internal",{"exitInputMode":[64]},[[1,"touchstart","preventTouchStartPropagation"]]]]],["ion-datetime_3",[[33,"ion-datetime",{"color":[1],"name":[1],"disabled":[4],"readonly":[4],"isDateEnabled":[16],"min":[1025],"max":[1025],"presentation":[1],"cancelText":[1,"cancel-text"],"doneText":[1,"done-text"],"clearText":[1,"clear-text"],"yearValues":[8,"year-values"],"monthValues":[8,"month-values"],"dayValues":[8,"day-values"],"hourValues":[8,"hour-values"],"minuteValues":[8,"minute-values"],"locale":[1],"firstDayOfWeek":[2,"first-day-of-week"],"titleSelectedDatesFormatter":[16],"multiple":[4],"highlightedDates":[16],"value":[1025],"showDefaultTitle":[4,"show-default-title"],"showDefaultButtons":[4,"show-default-buttons"],"showClearButton":[4,"show-clear-button"],"showDefaultTimeLabel":[4,"show-default-time-label"],"hourCycle":[1,"hour-cycle"],"size":[1],"preferWheel":[4,"prefer-wheel"],"showMonthAndYear":[32],"activeParts":[32],"workingParts":[32],"isPresented":[32],"isTimePopoverOpen":[32],"confirm":[64],"reset":[64],"cancel":[64]}],[34,"ion-picker",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"columns":[16],"cssClass":[1,"css-class"],"duration":[2],"showBackdrop":[4,"show-backdrop"],"backdropDismiss":[4,"backdrop-dismiss"],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"getColumn":[64]}],[32,"ion-picker-column",{"col":[16]}]]],["ion-radio_2",[[33,"ion-radio",{"color":[513],"name":[1],"disabled":[4],"value":[8],"labelPlacement":[1,"label-placement"],"legacy":[4],"justify":[1],"checked":[32],"buttonTabindex":[32],"setFocus":[64],"setButtonTabindex":[64]}],[0,"ion-radio-group",{"allowEmptySelection":[4,"allow-empty-selection"],"name":[1],"value":[1032]},[[4,"keydown","onKeydown"]]]]],["ion-ripple-effect",[[1,"ion-ripple-effect",{"type":[1],"addRipple":[64]}]]],["ion-button_2",[[33,"ion-button",{"color":[513],"buttonType":[1025,"button-type"],"disabled":[516],"expand":[513],"fill":[1537],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"download":[1],"href":[1],"rel":[1],"shape":[513],"size":[513],"strong":[4],"target":[1],"type":[1],"form":[1]}],[1,"ion-icon",{"mode":[1025],"color":[1],"ios":[1],"md":[1],"flipRtl":[4,"flip-rtl"],"name":[513],"src":[1],"icon":[8],"size":[1],"lazy":[4],"sanitize":[4],"svgContent":[32],"isVisible":[32]}]]],["ion-action-sheet",[[34,"ion-action-sheet",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"header":[1],"subHeader":[1,"sub-header"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-alert",[[34,"ion-alert",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"header":[1],"subHeader":[1,"sub-header"],"message":[1],"buttons":[16],"inputs":[1040],"backdropDismiss":[4,"backdrop-dismiss"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},[[4,"keydown","onKeydown"]]]]],["ion-app_8",[[0,"ion-app",{"setFocus":[64]}],[1,"ion-content",{"color":[513],"fullscreen":[4],"forceOverscroll":[1028,"force-overscroll"],"scrollX":[4,"scroll-x"],"scrollY":[4,"scroll-y"],"scrollEvents":[4,"scroll-events"],"getScrollElement":[64],"getBackgroundElement":[64],"scrollToTop":[64],"scrollToBottom":[64],"scrollByPoint":[64],"scrollToPoint":[64]},[[8,"appload","onAppLoad"],[9,"resize","onResize"]]],[36,"ion-footer",{"collapse":[1],"translucent":[4],"keyboardVisible":[32]}],[36,"ion-header",{"collapse":[1],"translucent":[4]}],[1,"ion-router-outlet",{"mode":[1025],"delegate":[16],"animated":[4],"animation":[16],"swipeHandler":[16],"commit":[64],"setRouteId":[64],"getRouteId":[64]}],[33,"ion-title",{"color":[513],"size":[1]}],[33,"ion-toolbar",{"color":[513]},[[0,"ionStyle","childrenStyle"]]],[34,"ion-buttons",{"collapse":[4]}]]],["ion-picker-column-internal",[[33,"ion-picker-column-internal",{"items":[16],"value":[1032],"color":[513],"numericInput":[4,"numeric-input"],"isActive":[32],"scrollActiveItemIntoView":[64],"setValue":[64]}]]],["ion-popover",[[33,"ion-popover",{"hasController":[4,"has-controller"],"delegate":[16],"overlayIndex":[2,"overlay-index"],"enterAnimation":[16],"leaveAnimation":[16],"component":[1],"componentProps":[16],"keyboardClose":[4,"keyboard-close"],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"event":[8],"showBackdrop":[4,"show-backdrop"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"triggerAction":[1,"trigger-action"],"trigger":[1],"size":[1],"dismissOnSelect":[4,"dismiss-on-select"],"reference":[1],"side":[1],"alignment":[1025],"arrow":[4],"isOpen":[4,"is-open"],"keyboardEvents":[4,"keyboard-events"],"keepContentsMounted":[4,"keep-contents-mounted"],"presented":[32],"presentFromTrigger":[64],"present":[64],"dismiss":[64],"getParentPopover":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-checkbox",[[33,"ion-checkbox",{"color":[513],"name":[1],"checked":[1028],"indeterminate":[1028],"disabled":[4],"value":[8],"labelPlacement":[1,"label-placement"],"justify":[1],"legacy":[4]}]]],["ion-spinner",[[1,"ion-spinner",{"color":[513],"duration":[2],"name":[1],"paused":[4]}]]]]'),he))))(0,{exclude:["ion-tabs","ion-tab"],syncQueue:!0,raf:dt,jmp:_n=>N.runOutsideAngular(_n),ael(_n,Sr,Gn,ai){_n[Ge](Sr,Gn,ai)},rel(_n,Sr,Gn,ai){_n.removeEventListener(Sr,Gn,ai)}}))}};let $i=(()=>{class O{static forRoot(N){return{ngModule:O,providers:[{provide:jn,useValue:N},{provide:E.ip1,useFactory:Mo,multi:!0,deps:[jn,te.K0,E.R0b]}]}}}return O.\u0275fac=function(N){return new(N||O)},O.\u0275mod=E.oAB({type:O}),O.\u0275inj=E.cJS({providers:[Ds,uo,So],imports:[te.ez]}),O})()},3192:(Jn,Ft,z)=>{"use strict";z.d(Ft,{kL:()=>vs,zX:()=>ko});var d=z(1086);class E{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(l,s,c,f){const I=s.duration;s.listeners[f].forEach(A=>A({chart:l,initial:s.initial,numSteps:I,currentStep:Math.min(c-s.start,I)}))}_refresh(){this._request||(this._running=!0,this._request=d.r.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(l=Date.now()){let s=0;this._charts.forEach((c,f)=>{if(!c.running||!c.items.length)return;const _=c.items;let k,I=_.length-1,A=!1;for(;I>=0;--I)k=_[I],k._active?(k._total>c.duration&&(c.duration=k._total),k.tick(l),A=!0):(_[I]=_[_.length-1],_.pop());A&&(f.draw(),this._notify(f,c,l,"progress")),_.length||(c.running=!1,this._notify(f,c,l,"complete"),c.initial=!1),s+=_.length}),this._lastDate=l,0===s&&(this._running=!1)}_getAnims(l){const s=this._charts;let c=s.get(l);return c||(c={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},s.set(l,c)),c}listen(l,s,c){this._getAnims(l).listeners[s].push(c)}add(l,s){!s||!s.length||this._getAnims(l).items.push(...s)}has(l){return this._getAnims(l).items.length>0}start(l){const s=this._charts.get(l);s&&(s.running=!0,s.start=Date.now(),s.duration=s.items.reduce((c,f)=>Math.max(c,f._duration),0),this._refresh())}running(l){if(!this._running)return!1;const s=this._charts.get(l);return!(!s||!s.running||!s.items.length)}stop(l){const s=this._charts.get(l);if(!s||!s.items.length)return;const c=s.items;let f=c.length-1;for(;f>=0;--f)c[f].cancel();s.items=[],this._notify(l,s,Date.now(),"complete")}remove(l){return this._charts.delete(l)}}var be=new E;const ke="transparent",qe={boolean:(m,l,s)=>s>.5?l:m,color(m,l,s){const c=(0,d.c)(m||ke),f=c.valid&&(0,d.c)(l||ke);return f&&f.valid?f.mix(c,s).hexString():l},number:(m,l,s)=>m+(l-m)*s};class je{constructor(l,s,c,f){const _=s[c];f=(0,d.a)([l.to,f,_,l.from]);const I=(0,d.a)([l.from,_,f]);this._active=!0,this._fn=l.fn||qe[l.type||typeof I],this._easing=d.e[l.easing]||d.e.linear,this._start=Math.floor(Date.now()+(l.delay||0)),this._duration=this._total=Math.floor(l.duration),this._loop=!!l.loop,this._target=s,this._prop=c,this._from=I,this._to=f,this._promises=void 0}active(){return this._active}update(l,s,c){if(this._active){this._notify(!1);const f=this._target[this._prop],_=c-this._start,I=this._duration-_;this._start=c,this._duration=Math.floor(Math.max(I,l.duration)),this._total+=_,this._loop=!!l.loop,this._to=(0,d.a)([l.to,s,f,l.from]),this._from=(0,d.a)([l.from,f,s])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(l){const s=l-this._start,c=this._duration,f=this._prop,_=this._from,I=this._loop,A=this._to;let k;if(this._active=_!==A&&(I||s<c),!this._active)return this._target[f]=A,void this._notify(!0);s<0?this._target[f]=_:(k=s/c%2,k=I&&k>1?2-k:k,k=this._easing(Math.min(1,Math.max(0,k))),this._target[f]=this._fn(_,A,k))}wait(){const l=this._promises||(this._promises=[]);return new Promise((s,c)=>{l.push({res:s,rej:c})})}_notify(l){const s=l?"res":"rej",c=this._promises||[];for(let f=0;f<c.length;f++)c[f][s]()}}class Se{constructor(l,s){this._chart=l,this._properties=new Map,this.configure(s)}configure(l){if(!(0,d.i)(l))return;const s=Object.keys(d.d.animation),c=this._properties;Object.getOwnPropertyNames(l).forEach(f=>{const _=l[f];if(!(0,d.i)(_))return;const I={};for(const A of s)I[A]=_[A];((0,d.b)(_.properties)&&_.properties||[f]).forEach(A=>{(A===f||!c.has(A))&&c.set(A,I)})})}_animateOptions(l,s){const c=s.options,f=function Ze(m,l){if(!l)return;let s=m.options;if(s)return s.$shared&&(m.options=s=Object.assign({},s,{$shared:!1,$animations:{}})),s;m.options=l}(l,c);if(!f)return[];const _=this._createAnimations(f,c);return c.$shared&&function Re(m,l){const s=[],c=Object.keys(l);for(let f=0;f<c.length;f++){const _=m[c[f]];_&&_.active()&&s.push(_.wait())}return Promise.all(s)}(l.options.$animations,c).then(()=>{l.options=c},()=>{}),_}_createAnimations(l,s){const c=this._properties,f=[],_=l.$animations||(l.$animations={}),I=Object.keys(s),A=Date.now();let k;for(k=I.length-1;k>=0;--k){const K=I[k];if("$"===K.charAt(0))continue;if("options"===K){f.push(...this._animateOptions(l,s));continue}const de=s[K];let Ce=_[K];const ze=c.get(K);if(Ce){if(ze&&Ce.active()){Ce.update(ze,de,A);continue}Ce.cancel()}ze&&ze.duration?(_[K]=Ce=new je(ze,l,K,de),f.push(Ce)):l[K]=de}return f}update(l,s){if(0===this._properties.size)return void Object.assign(l,s);const c=this._createAnimations(l,s);return c.length?(be.add(this._chart,c),!0):void 0}}function Le(m,l){const s=m&&m.options||{},c=s.reverse,f=void 0===s.min?l:0,_=void 0===s.max?l:0;return{start:c?_:f,end:c?f:_}}function Me(m,l){const s=[],c=m._getSortedDatasetMetas(l);let f,_;for(f=0,_=c.length;f<_;++f)s.push(c[f].index);return s}function lt(m,l,s,c={}){const f=m.keys,_="single"===c.mode;let I,A,k,K;if(null!==l){for(I=0,A=f.length;I<A;++I){if(k=+f[I],k===s){if(c.all)continue;break}K=m.values[k],(0,d.g)(K)&&(_||0===l||(0,d.s)(l)===(0,d.s)(K))&&(l+=K)}return l}}function jt(m,l){const s=m&&m.options.stacked;return s||void 0===s&&void 0!==l.stack}function kt(m,l,s){const c=m[l]||(m[l]={});return c[s]||(c[s]={})}function Mt(m,l,s,c){for(const f of l.getMatchingVisibleMetas(c).reverse()){const _=m[f.index];if(s&&_>0||!s&&_<0)return f.index}return null}function ft(m,l){const{chart:s,_cachedMeta:c}=m,f=s._stacks||(s._stacks={}),{iScale:_,vScale:I,index:A}=c,k=_.axis,K=I.axis,de=function We(m,l,s){return`${m.id}.${l.id}.${s.stack||s.type}`}(_,I,c),Ce=l.length;let ze;for(let Qe=0;Qe<Ce;++Qe){const Et=l[Qe],{[k]:At,[K]:Zt}=Et;ze=(Et._stacks||(Et._stacks={}))[K]=kt(f,de,At),ze[A]=Zt,ze._top=Mt(ze,I,!0,c.type),ze._bottom=Mt(ze,I,!1,c.type),(ze._visualValues||(ze._visualValues={}))[A]=Zt}}function It(m,l){const s=m.scales;return Object.keys(s).filter(c=>s[c].axis===l).shift()}function gt(m,l){const s=m.controller.index,c=m.vScale&&m.vScale.axis;if(c){l=l||m._parsed;for(const f of l){const _=f._stacks;if(!_||void 0===_[c]||void 0===_[c][s])return;delete _[c][s],void 0!==_[c]._visualValues&&void 0!==_[c]._visualValues[s]&&delete _[c]._visualValues[s]}}}const te=m=>"reset"===m||"none"===m,Gt=(m,l)=>l?m:Object.assign({},m);let Lt=(()=>{class m{constructor(s,c){this.chart=s,this._ctx=s.ctx,this.index=c,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const s=this._cachedMeta;this.configure(),this.linkScales(),s._stacked=jt(s.vScale,s),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(s){this.index!==s&&gt(this._cachedMeta),this.index=s}linkScales(){const s=this.chart,c=this._cachedMeta,f=this.getDataset(),_=(ze,Qe,Et,At)=>"x"===ze?Qe:"r"===ze?At:Et,I=c.xAxisID=(0,d.v)(f.xAxisID,It(s,"x")),A=c.yAxisID=(0,d.v)(f.yAxisID,It(s,"y")),k=c.rAxisID=(0,d.v)(f.rAxisID,It(s,"r")),K=c.indexAxis,de=c.iAxisID=_(K,I,A,k),Ce=c.vAxisID=_(K,A,I,k);c.xScale=this.getScaleForId(I),c.yScale=this.getScaleForId(A),c.rScale=this.getScaleForId(k),c.iScale=this.getScaleForId(de),c.vScale=this.getScaleForId(Ce)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(s){return this.chart.scales[s]}_getOtherScale(s){const c=this._cachedMeta;return s===c.iScale?c.vScale:c.iScale}reset(){this._update("reset")}_destroy(){const s=this._cachedMeta;this._data&&(0,d.u)(this._data,this),s._stacked&&gt(s)}_dataCheck(){const s=this.getDataset(),c=s.data||(s.data=[]),f=this._data;if((0,d.i)(c))this._data=function pt(m){const l=Object.keys(m),s=new Array(l.length);let c,f,_;for(c=0,f=l.length;c<f;++c)_=l[c],s[c]={x:_,y:m[_]};return s}(c);else if(f!==c){if(f){(0,d.u)(f,this);const _=this._cachedMeta;gt(_),_._parsed=[]}c&&Object.isExtensible(c)&&(0,d.l)(c,this),this._syncList=[],this._data=c}}addElements(){const s=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(s.dataset=new this.datasetElementType)}buildOrUpdateElements(s){const c=this._cachedMeta,f=this.getDataset();let _=!1;this._dataCheck();const I=c._stacked;c._stacked=jt(c.vScale,c),c.stack!==f.stack&&(_=!0,gt(c),c.stack=f.stack),this._resyncElements(s),(_||I!==c._stacked)&&ft(this,c._parsed)}configure(){const s=this.chart.config,c=s.datasetScopeKeys(this._type),f=s.getOptionScopes(this.getDataset(),c,!0);this.options=s.createResolver(f,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(s,c){const{_cachedMeta:f,_data:_}=this,{iScale:I,_stacked:A}=f,k=I.axis;let Ce,ze,Qe,K=0===s&&c===_.length||f._sorted,de=s>0&&f._parsed[s-1];if(!1===this._parsing)f._parsed=_,f._sorted=!0,Qe=_;else{Qe=(0,d.b)(_[s])?this.parseArrayData(f,_,s,c):(0,d.i)(_[s])?this.parseObjectData(f,_,s,c):this.parsePrimitiveData(f,_,s,c);const Et=()=>null===ze[k]||de&&ze[k]<de[k];for(Ce=0;Ce<c;++Ce)f._parsed[Ce+s]=ze=Qe[Ce],K&&(Et()&&(K=!1),de=ze);f._sorted=K}A&&ft(this,Qe)}parsePrimitiveData(s,c,f,_){const{iScale:I,vScale:A}=s,k=I.axis,K=A.axis,de=I.getLabels(),Ce=I===A,ze=new Array(_);let Qe,Et,At;for(Qe=0,Et=_;Qe<Et;++Qe)At=Qe+f,ze[Qe]={[k]:Ce||I.parse(de[At],At),[K]:A.parse(c[At],At)};return ze}parseArrayData(s,c,f,_){const{xScale:I,yScale:A}=s,k=new Array(_);let K,de,Ce,ze;for(K=0,de=_;K<de;++K)Ce=K+f,ze=c[Ce],k[K]={x:I.parse(ze[0],Ce),y:A.parse(ze[1],Ce)};return k}parseObjectData(s,c,f,_){const{xScale:I,yScale:A}=s,{xAxisKey:k="x",yAxisKey:K="y"}=this._parsing,de=new Array(_);let Ce,ze,Qe,Et;for(Ce=0,ze=_;Ce<ze;++Ce)Qe=Ce+f,Et=c[Qe],de[Ce]={x:I.parse((0,d.f)(Et,k),Qe),y:A.parse((0,d.f)(Et,K),Qe)};return de}getParsed(s){return this._cachedMeta._parsed[s]}getDataElement(s){return this._cachedMeta.data[s]}applyStack(s,c,f){const I=this._cachedMeta,A=c[s.axis];return lt({keys:Me(this.chart,!0),values:c._stacks[s.axis]._visualValues},A,I.index,{mode:f})}updateRangeFromParsed(s,c,f,_){const I=f[c.axis];let A=null===I?NaN:I;const k=_&&f._stacks[c.axis];_&&k&&(_.values=k,A=lt(_,I,this._cachedMeta.index)),s.min=Math.min(s.min,A),s.max=Math.max(s.max,A)}getMinMax(s,c){const f=this._cachedMeta,_=f._parsed,I=f._sorted&&s===f.iScale,A=_.length,k=this._getOtherScale(s),K=((m,l,s)=>m&&!l.hidden&&l._stacked&&{keys:Me(this.chart,!0),values:null})(c,f),de={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:Ce,max:ze}=function Be(m){const{min:l,max:s,minDefined:c,maxDefined:f}=m.getUserBounds();return{min:c?l:Number.NEGATIVE_INFINITY,max:f?s:Number.POSITIVE_INFINITY}}(k);let Qe,Et;function At(){Et=_[Qe];const Zt=Et[k.axis];return!(0,d.g)(Et[s.axis])||Ce>Zt||ze<Zt}for(Qe=0;Qe<A&&(At()||(this.updateRangeFromParsed(de,s,Et,K),!I));++Qe);if(I)for(Qe=A-1;Qe>=0;--Qe)if(!At()){this.updateRangeFromParsed(de,s,Et,K);break}return de}getAllParsedValues(s){const c=this._cachedMeta._parsed,f=[];let _,I,A;for(_=0,I=c.length;_<I;++_)A=c[_][s.axis],(0,d.g)(A)&&f.push(A);return f}getMaxOverflow(){return!1}getLabelAndValue(s){const c=this._cachedMeta,f=c.iScale,_=c.vScale,I=this.getParsed(s);return{label:f?""+f.getLabelForValue(I[f.axis]):"",value:_?""+_.getLabelForValue(I[_.axis]):""}}_update(s){const c=this._cachedMeta;this.update(s||"default"),c._clip=function it(m){let l,s,c,f;return(0,d.i)(m)?(l=m.top,s=m.right,c=m.bottom,f=m.left):l=s=c=f=m,{top:l,right:s,bottom:c,left:f,disabled:!1===m}}((0,d.v)(this.options.clip,function xe(m,l,s){if(!1===s)return!1;const c=Le(m,s),f=Le(l,s);return{top:f.end,right:c.end,bottom:f.start,left:c.start}}(c.xScale,c.yScale,this.getMaxOverflow())))}update(s){}draw(){const s=this._ctx,f=this._cachedMeta,_=f.data||[],I=this.chart.chartArea,A=[],k=this._drawStart||0,K=this._drawCount||_.length-k,de=this.options.drawActiveElementsOnTop;let Ce;for(f.dataset&&f.dataset.draw(s,I,k,K),Ce=k;Ce<k+K;++Ce){const ze=_[Ce];ze.hidden||(ze.active&&de?A.push(ze):ze.draw(s,I))}for(Ce=0;Ce<A.length;++Ce)A[Ce].draw(s,I)}getStyle(s,c){const f=c?"active":"default";return void 0===s&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(f):this.resolveDataElementOptions(s||0,f)}getContext(s,c,f){const _=this.getDataset();let I;if(s>=0&&s<this._cachedMeta.data.length){const A=this._cachedMeta.data[s];I=A.$context||(A.$context=function Ct(m,l,s){return(0,d.j)(m,{active:!1,dataIndex:l,parsed:void 0,raw:void 0,element:s,index:l,mode:"default",type:"data"})}(this.getContext(),s,A)),I.parsed=this.getParsed(s),I.raw=_.data[s],I.index=I.dataIndex=s}else I=this.$context||(this.$context=function St(m,l){return(0,d.j)(m,{active:!1,dataset:void 0,datasetIndex:l,index:l,mode:"default",type:"dataset"})}(this.chart.getContext(),this.index)),I.dataset=_,I.index=I.datasetIndex=this.index;return I.active=!!c,I.mode=f,I}resolveDatasetElementOptions(s){return this._resolveElementOptions(this.datasetElementType.id,s)}resolveDataElementOptions(s,c){return this._resolveElementOptions(this.dataElementType.id,c,s)}_resolveElementOptions(s,c="default",f){const _="active"===c,I=this._cachedDataOpts,A=s+"-"+c,k=I[A],K=this.enableOptionSharing&&(0,d.h)(f);if(k)return Gt(k,K);const de=this.chart.config,Ce=de.datasetElementScopeKeys(this._type,s),ze=_?[`${s}Hover`,"hover",s,""]:[s,""],Qe=de.getOptionScopes(this.getDataset(),Ce),Et=Object.keys(d.d.elements[s]),Zt=de.resolveNamedOptions(Qe,Et,()=>this.getContext(f,_,c),ze);return Zt.$shared&&(Zt.$shared=K,I[A]=Object.freeze(Gt(Zt,K))),Zt}_resolveAnimations(s,c,f){const _=this.chart,I=this._cachedDataOpts,A=`animation-${c}`,k=I[A];if(k)return k;let K;if(!1!==_.options.animation){const Ce=this.chart.config,ze=Ce.datasetAnimationScopeKeys(this._type,c),Qe=Ce.getOptionScopes(this.getDataset(),ze);K=Ce.createResolver(Qe,this.getContext(s,f,c))}const de=new Se(_,K&&K.animations);return K&&K._cacheable&&(I[A]=Object.freeze(de)),de}getSharedOptions(s){if(s.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},s))}includeOptions(s,c){return!c||te(s)||this.chart._animationsDisabled}_getSharedOptions(s,c){const f=this.resolveDataElementOptions(s,c),_=this._sharedOptions,I=this.getSharedOptions(f),A=this.includeOptions(c,I)||I!==_;return this.updateSharedOptions(I,c,f),{sharedOptions:I,includeOptions:A}}updateElement(s,c,f,_){te(_)?Object.assign(s,f):this._resolveAnimations(c,_).update(s,f)}updateSharedOptions(s,c,f){s&&!te(c)&&this._resolveAnimations(void 0,c).update(s,f)}_setStyle(s,c,f,_){s.active=_;const I=this.getStyle(c,_);this._resolveAnimations(c,f,_).update(s,{options:!_&&this.getSharedOptions(I)||I})}removeHoverStyle(s,c,f){this._setStyle(s,f,"active",!1)}setHoverStyle(s,c,f){this._setStyle(s,f,"active",!0)}_removeDatasetHoverStyle(){const s=this._cachedMeta.dataset;s&&this._setStyle(s,void 0,"active",!1)}_setDatasetHoverStyle(){const s=this._cachedMeta.dataset;s&&this._setStyle(s,void 0,"active",!0)}_resyncElements(s){const c=this._data,f=this._cachedMeta.data;for(const[k,K,de]of this._syncList)this[k](K,de);this._syncList=[];const _=f.length,I=c.length,A=Math.min(I,_);A&&this.parse(0,A),I>_?this._insertElements(_,I-_,s):I<_&&this._removeElements(I,_-I)}_insertElements(s,c,f=!0){const _=this._cachedMeta,I=_.data,A=s+c;let k;const K=de=>{for(de.length+=c,k=de.length-1;k>=A;k--)de[k]=de[k-c]};for(K(I),k=s;k<A;++k)I[k]=new this.dataElementType;this._parsing&&K(_._parsed),this.parse(s,c),f&&this.updateElements(I,s,c,"reset")}updateElements(s,c,f,_){}_removeElements(s,c){const f=this._cachedMeta;if(this._parsing){const _=f._parsed.splice(s,c);f._stacked&&gt(f,_)}f.data.splice(s,c)}_sync(s){if(this._parsing)this._syncList.push(s);else{const[c,f,_]=s;this[c](f,_)}this.chart._dataChanges.push([this.index,...s])}_onDataPush(){const s=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-s,s])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(s,c){c&&this._sync(["_removeElements",s,c]);const f=arguments.length-2;f&&this._sync(["_insertElements",s,f])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}return m.defaults={},m.datasetElementType=null,m.dataElementType=null,m})();function Te(m){const l=m.iScale,s=function qt(m,l){if(!m._cache.$bar){const s=m.getMatchingVisibleMetas(l);let c=[];for(let f=0,_=s.length;f<_;f++)c=c.concat(s[f].controller.getAllParsedValues(m));m._cache.$bar=(0,d._)(c.sort((f,_)=>f-_))}return m._cache.$bar}(l,m.type);let f,_,I,A,c=l._length;const k=()=>{32767===I||-32768===I||((0,d.h)(A)&&(c=Math.min(c,Math.abs(I-A)||c)),A=I)};for(f=0,_=s.length;f<_;++f)I=l.getPixelForValue(s[f]),k();for(A=void 0,f=0,_=l.ticks.length;f<_;++f)I=l.getPixelForTick(f),k();return c}function et(m,l,s,c){return(0,d.b)(m)?function yt(m,l,s,c){const f=s.parse(m[0],c),_=s.parse(m[1],c),I=Math.min(f,_),A=Math.max(f,_);let k=I,K=A;Math.abs(I)>Math.abs(A)&&(k=A,K=I),l[s.axis]=K,l._custom={barStart:k,barEnd:K,start:f,end:_,min:I,max:A}}(m,l,s,c):l[s.axis]=s.parse(m,c),l}function tt(m,l,s,c){const f=m.iScale,_=m.vScale,I=f.getLabels(),A=f===_,k=[];let K,de,Ce,ze;for(K=s,de=s+c;K<de;++K)ze=l[K],Ce={},Ce[f.axis]=A||f.parse(I[K],K),k.push(et(ze,Ce,_,K));return k}function dt(m){return m&&void 0!==m.barStart&&void 0!==m.barEnd}function en(m,l,s,c){let f=l.borderSkipped;const _={};if(!f)return void(m.borderSkipped=_);if(!0===f)return void(m.borderSkipped={top:!0,right:!0,bottom:!0,left:!0});const{start:I,end:A,reverse:k,top:K,bottom:de}=function Ot(m){let l,s,c,f,_;return m.horizontal?(l=m.base>m.x,s="left",c="right"):(l=m.base<m.y,s="bottom",c="top"),l?(f="end",_="start"):(f="start",_="end"),{start:s,end:c,reverse:l,top:f,bottom:_}}(m);"middle"===f&&s&&(m.enableBorderRadius=!0,(s._top||0)===c?f=K:(s._bottom||0)===c?f=de:(_[rn(de,I,A,k)]=!0,f=K)),_[rn(f,I,A,k)]=!0,m.borderSkipped=_}function rn(m,l,s,c){return c?(m=function On(m,l,s){return m===l?s:m===s?l:m}(m,l,s),m=nn(m,s,l)):m=nn(m,l,s),m}function nn(m,l,s){return"start"===m?l:"end"===m?s:m}function _t(m,{inflateAmount:l},s){m.inflateAmount="auto"===l?1===s?.33:0:l}let cn=(()=>{class m extends Lt{parsePrimitiveData(s,c,f,_){return tt(s,c,f,_)}parseArrayData(s,c,f,_){return tt(s,c,f,_)}parseObjectData(s,c,f,_){const{iScale:I,vScale:A}=s,{xAxisKey:k="x",yAxisKey:K="y"}=this._parsing,de="x"===I.axis?k:K,Ce="x"===A.axis?k:K,ze=[];let Qe,Et,At,Zt;for(Qe=f,Et=f+_;Qe<Et;++Qe)Zt=c[Qe],At={},At[I.axis]=I.parse((0,d.f)(Zt,de),Qe),ze.push(et((0,d.f)(Zt,Ce),At,A,Qe));return ze}updateRangeFromParsed(s,c,f,_){super.updateRangeFromParsed(s,c,f,_);const I=f._custom;I&&c===this._cachedMeta.vScale&&(s.min=Math.min(s.min,I.min),s.max=Math.max(s.max,I.max))}getMaxOverflow(){return 0}getLabelAndValue(s){const c=this._cachedMeta,{iScale:f,vScale:_}=c,I=this.getParsed(s),A=I._custom,k=dt(A)?"["+A.start+", "+A.end+"]":""+_.getLabelForValue(I[_.axis]);return{label:""+f.getLabelForValue(I[f.axis]),value:k}}initialize(){this.enableOptionSharing=!0,super.initialize(),this._cachedMeta.stack=this.getDataset().stack}update(s){const c=this._cachedMeta;this.updateElements(c.data,0,c.data.length,s)}updateElements(s,c,f,_){const I="reset"===_,{index:A,_cachedMeta:{vScale:k}}=this,K=k.getBasePixel(),de=k.isHorizontal(),Ce=this._getRuler(),{sharedOptions:ze,includeOptions:Qe}=this._getSharedOptions(c,_);for(let Et=c;Et<c+f;Et++){const At=this.getParsed(Et),Zt=I||(0,d.k)(At[k.axis])?{base:K,head:K}:this._calculateBarValuePixels(Et),In=this._calculateBarIndexPixels(Et,Ce),En=(At._stacks||{})[k.axis],er={horizontal:de,base:Zt.base,enableBorderRadius:!En||dt(At._custom)||A===En._top||A===En._bottom,x:de?Zt.head:In.center,y:de?In.center:Zt.head,height:de?In.size:Math.abs(Zt.size),width:de?Math.abs(Zt.size):In.size};Qe&&(er.options=ze||this.resolveDataElementOptions(Et,s[Et].active?"active":_));const Qn=er.options||s[Et].options;en(er,Qn,En,A),_t(er,Qn,Ce.ratio),this.updateElement(s[Et],Et,er,_)}}_getStacks(s,c){const{iScale:f}=this._cachedMeta,_=f.getMatchingVisibleMetas(this._type).filter(K=>K.controller.options.grouped),I=f.options.stacked,A=[],k=K=>{const de=K.controller.getParsed(c),Ce=de&&de[K.vScale.axis];if((0,d.k)(Ce)||isNaN(Ce))return!0};for(const K of _)if((void 0===c||!k(K))&&((!1===I||-1===A.indexOf(K.stack)||void 0===I&&void 0===K.stack)&&A.push(K.stack),K.index===s))break;return A.length||A.push(void 0),A}_getStackCount(s){return this._getStacks(void 0,s).length}_getStackIndex(s,c,f){const _=this._getStacks(s,f),I=void 0!==c?_.indexOf(c):-1;return-1===I?_.length-1:I}_getRuler(){const s=this.options,c=this._cachedMeta,f=c.iScale,_=[];let I,A;for(I=0,A=c.data.length;I<A;++I)_.push(f.getPixelForValue(this.getParsed(I)[f.axis],I));const k=s.barThickness;return{min:k||Te(c),pixels:_,start:f._startPixel,end:f._endPixel,stackCount:this._getStackCount(),scale:f,grouped:s.grouped,ratio:k?1:s.categoryPercentage*s.barPercentage}}_calculateBarValuePixels(s){const{_cachedMeta:{vScale:c,_stacked:f,index:_},options:{base:I,minBarLength:A}}=this,k=I||0,K=this.getParsed(s),de=K._custom,Ce=dt(de);let At,Zt,ze=K[c.axis],Qe=0,Et=f?this.applyStack(c,K,f):ze;Et!==ze&&(Qe=Et-ze,Et=ze),Ce&&(ze=de.barStart,Et=de.barEnd-de.barStart,0!==ze&&(0,d.s)(ze)!==(0,d.s)(de.barEnd)&&(Qe=0),Qe+=ze);const In=(0,d.k)(I)||Ce?Qe:I;let En=c.getPixelForValue(In);if(At=this.chart.getDataVisibility(s)?c.getPixelForValue(Qe+Et):En,Zt=At-En,Math.abs(Zt)<A){Zt=function Ut(m,l,s){return 0!==m?(0,d.s)(m):(l.isHorizontal()?1:-1)*(l.min>=s?1:-1)}(Zt,c,k)*A,ze===k&&(En-=Zt/2);const er=c.getPixelForDecimal(0),Qn=c.getPixelForDecimal(1),Yn=Math.min(er,Qn),sr=Math.max(er,Qn);En=Math.max(Math.min(En,sr),Yn),At=En+Zt,f&&!Ce&&(K._stacks[c.axis]._visualValues[_]=c.getValueForPixel(At)-c.getValueForPixel(En))}if(En===c.getPixelForValue(k)){const er=(0,d.s)(Zt)*c.getLineWidthForValue(k)/2;En+=er,Zt-=er}return{size:Zt,base:En,head:At,center:At+Zt/2}}_calculateBarIndexPixels(s,c){const f=c.scale,_=this.options,I=_.skipNull,A=(0,d.v)(_.maxBarThickness,1/0);let k,K;if(c.grouped){const de=I?this._getStackCount(s):c.stackCount,Ce="flex"===_.barThickness?function ct(m,l,s,c){const f=l.pixels,_=f[m];let I=m>0?f[m-1]:null,A=m<f.length-1?f[m+1]:null;const k=s.categoryPercentage;null===I&&(I=_-(null===A?l.end-l.start:A-_)),null===A&&(A=_+_-I);const K=_-(_-Math.min(I,A))/2*k;return{chunk:Math.abs(A-I)/2*k/c,ratio:s.barPercentage,start:K}}(s,c,_,de):function Je(m,l,s,c){const f=s.barThickness;let _,I;return(0,d.k)(f)?(_=l.min*s.categoryPercentage,I=s.barPercentage):(_=f*c,I=1),{chunk:_/c,ratio:I,start:l.pixels[m]-_/2}}(s,c,_,de),ze=this._getStackIndex(this.index,this._cachedMeta.stack,I?s:void 0);k=Ce.start+Ce.chunk*ze+Ce.chunk/2,K=Math.min(A,Ce.chunk*Ce.ratio)}else k=f.getPixelForValue(this.getParsed(s)[f.axis],s),K=Math.min(A,c.min*c.ratio);return{base:k-K/2,head:k+K/2,center:k,size:K}}draw(){const s=this._cachedMeta,c=s.vScale,f=s.data,_=f.length;let I=0;for(;I<_;++I)null!==this.getParsed(I)[c.axis]&&f[I].draw(this._ctx)}}return m.id="bar",m.defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}},m.overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}},m})(),gn=(()=>{class m extends Lt{initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(s,c,f,_){const I=super.parsePrimitiveData(s,c,f,_);for(let A=0;A<I.length;A++)I[A]._custom=this.resolveDataElementOptions(A+f).radius;return I}parseArrayData(s,c,f,_){const I=super.parseArrayData(s,c,f,_);for(let A=0;A<I.length;A++)I[A]._custom=(0,d.v)(c[f+A][2],this.resolveDataElementOptions(A+f).radius);return I}parseObjectData(s,c,f,_){const I=super.parseObjectData(s,c,f,_);for(let A=0;A<I.length;A++){const k=c[f+A];I[A]._custom=(0,d.v)(k&&k.r&&+k.r,this.resolveDataElementOptions(A+f).radius)}return I}getMaxOverflow(){const s=this._cachedMeta.data;let c=0;for(let f=s.length-1;f>=0;--f)c=Math.max(c,s[f].size(this.resolveDataElementOptions(f))/2);return c>0&&c}getLabelAndValue(s){const c=this._cachedMeta,f=this.chart.data.labels||[],{xScale:_,yScale:I}=c,A=this.getParsed(s),k=_.getLabelForValue(A.x),K=I.getLabelForValue(A.y),de=A._custom;return{label:f[s]||"",value:"("+k+", "+K+(de?", "+de:"")+")"}}update(s){const c=this._cachedMeta.data;this.updateElements(c,0,c.length,s)}updateElements(s,c,f,_){const I="reset"===_,{iScale:A,vScale:k}=this._cachedMeta,{sharedOptions:K,includeOptions:de}=this._getSharedOptions(c,_),Ce=A.axis,ze=k.axis;for(let Qe=c;Qe<c+f;Qe++){const Et=s[Qe],At=!I&&this.getParsed(Qe),Zt={},In=Zt[Ce]=I?A.getPixelForDecimal(.5):A.getPixelForValue(At[Ce]),En=Zt[ze]=I?k.getBasePixel():k.getPixelForValue(At[ze]);Zt.skip=isNaN(In)||isNaN(En),de&&(Zt.options=K||this.resolveDataElementOptions(Qe,Et.active?"active":_),I&&(Zt.options.radius=0)),this.updateElement(Et,Qe,Zt,_)}}resolveDataElementOptions(s,c){const f=this.getParsed(s);let _=super.resolveDataElementOptions(s,c);_.$shared&&(_=Object.assign({},_,{$shared:!1}));const I=_.radius;return"active"!==c&&(_.radius=0),_.radius+=(0,d.v)(f&&f._custom,I),_}}return m.id="bubble",m.defaults={datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}},m.overrides={scales:{x:{type:"linear"},y:{type:"linear"}}},m})(),tr=(()=>{class m extends Lt{constructor(s,c){super(s,c),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(s,c){const f=this.getDataset().data,_=this._cachedMeta;if(!1===this._parsing)_._parsed=f;else{let A,k,I=K=>+f[K];if((0,d.i)(f[s])){const{key:K="value"}=this._parsing;I=de=>+(0,d.f)(f[de],K)}for(A=s,k=s+c;A<k;++A)_._parsed[A]=I(A)}}_getRotation(){return(0,d.t)(this.options.rotation-90)}_getCircumference(){return(0,d.t)(this.options.circumference)}_getRotationExtents(){let s=d.T,c=-d.T;for(let f=0;f<this.chart.data.datasets.length;++f)if(this.chart.isDatasetVisible(f)&&this.chart.getDatasetMeta(f).type===this._type){const _=this.chart.getDatasetMeta(f).controller,I=_._getRotation(),A=_._getCircumference();s=Math.min(s,I),c=Math.max(c,I+A)}return{rotation:s,circumference:c-s}}update(s){const c=this.chart,{chartArea:f}=c,_=this._cachedMeta,I=_.data,A=this.getMaxBorderWidth()+this.getMaxOffset(I)+this.options.spacing,k=Math.max((Math.min(f.width,f.height)-A)/2,0),K=Math.min((0,d.m)(this.options.cutout,k),1),de=this._getRingWeight(this.index),{circumference:Ce,rotation:ze}=this._getRotationExtents(),{ratioX:Qe,ratioY:Et,offsetX:At,offsetY:Zt}=function Zn(m,l,s){let c=1,f=1,_=0,I=0;if(l<d.T){const A=m,k=A+l,K=Math.cos(A),de=Math.sin(A),Ce=Math.cos(k),ze=Math.sin(k),Qe=(er,Qn,Yn)=>(0,d.p)(er,A,k,!0)?1:Math.max(Qn,Qn*s,Yn,Yn*s),Et=(er,Qn,Yn)=>(0,d.p)(er,A,k,!0)?-1:Math.min(Qn,Qn*s,Yn,Yn*s),At=Qe(0,K,Ce),Zt=Qe(d.H,de,ze),In=Et(d.P,K,Ce),En=Et(d.P+d.H,de,ze);c=(At-In)/2,f=(Zt-En)/2,_=-(At+In)/2,I=-(Zt+En)/2}return{ratioX:c,ratioY:f,offsetX:_,offsetY:I}}(ze,Ce,K),er=Math.max(Math.min((f.width-A)/Qe,(f.height-A)/Et)/2,0),Qn=(0,d.n)(this.options.radius,er),sr=(Qn-Math.max(Qn*K,0))/this._getVisibleDatasetWeightTotal();this.offsetX=At*Qn,this.offsetY=Zt*Qn,_.total=this.calculateTotal(),this.outerRadius=Qn-sr*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-sr*de,0),this.updateElements(I,0,I.length,s)}_circumference(s,c){const f=this.options,_=this._cachedMeta,I=this._getCircumference();return c&&f.animation.animateRotate||!this.chart.getDataVisibility(s)||null===_._parsed[s]||_.data[s].hidden?0:this.calculateCircumference(_._parsed[s]*I/d.T)}updateElements(s,c,f,_){const I="reset"===_,A=this.chart,k=A.chartArea,Ce=(k.left+k.right)/2,ze=(k.top+k.bottom)/2,Qe=I&&A.options.animation.animateScale,Et=Qe?0:this.innerRadius,At=Qe?0:this.outerRadius,{sharedOptions:Zt,includeOptions:In}=this._getSharedOptions(c,_);let er,En=this._getRotation();for(er=0;er<c;++er)En+=this._circumference(er,I);for(er=c;er<c+f;++er){const Qn=this._circumference(er,I),Yn=s[er],sr={x:Ce+this.offsetX,y:ze+this.offsetY,startAngle:En,endAngle:En+Qn,circumference:Qn,outerRadius:At,innerRadius:Et};In&&(sr.options=Zt||this.resolveDataElementOptions(er,Yn.active?"active":_)),En+=Qn,this.updateElement(Yn,er,sr,_)}}calculateTotal(){const s=this._cachedMeta,c=s.data;let _,f=0;for(_=0;_<c.length;_++){const I=s._parsed[_];null!==I&&!isNaN(I)&&this.chart.getDataVisibility(_)&&!c[_].hidden&&(f+=Math.abs(I))}return f}calculateCircumference(s){const c=this._cachedMeta.total;return c>0&&!isNaN(s)?d.T*(Math.abs(s)/c):0}getLabelAndValue(s){const f=this.chart,_=f.data.labels||[],I=(0,d.o)(this._cachedMeta._parsed[s],f.options.locale);return{label:_[s]||"",value:I}}getMaxBorderWidth(s){let c=0;const f=this.chart;let _,I,A,k,K;if(!s)for(_=0,I=f.data.datasets.length;_<I;++_)if(f.isDatasetVisible(_)){A=f.getDatasetMeta(_),s=A.data,k=A.controller;break}if(!s)return 0;for(_=0,I=s.length;_<I;++_)K=k.resolveDataElementOptions(_),"inner"!==K.borderAlign&&(c=Math.max(c,K.borderWidth||0,K.hoverBorderWidth||0));return c}getMaxOffset(s){let c=0;for(let f=0,_=s.length;f<_;++f){const I=this.resolveDataElementOptions(f);c=Math.max(c,I.offset||0,I.hoverOffset||0)}return c}_getRingWeightOffset(s){let c=0;for(let f=0;f<s;++f)this.chart.isDatasetVisible(f)&&(c+=this._getRingWeight(f));return c}_getRingWeight(s){return Math.max((0,d.v)(this.chart.data.datasets[s].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}return m.id="doughnut",m.defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"},m.descriptors={_scriptable:l=>"spacing"!==l,_indexable:l=>"spacing"!==l&&!l.startsWith("borderDash")&&!l.startsWith("hoverBorderDash")},m.overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(l){const s=l.data;if(s.labels.length&&s.datasets.length){const{labels:{pointStyle:c,color:f}}=l.legend.options;return s.labels.map((_,I)=>{const k=l.getDatasetMeta(0).controller.getStyle(I);return{text:_,fillStyle:k.backgroundColor,strokeStyle:k.borderColor,fontColor:f,lineWidth:k.borderWidth,pointStyle:c,hidden:!l.getDataVisibility(I),index:I}})}return[]}},onClick(l,s,c){c.chart.toggleDataVisibility(s.index),c.chart.update()}}}},m})(),ur=(()=>{class m extends Lt{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(s){const c=this._cachedMeta,{dataset:f,data:_=[],_dataset:I}=c,A=this.chart._animationsDisabled;let{start:k,count:K}=(0,d.q)(c,_,A);this._drawStart=k,this._drawCount=K,(0,d.w)(c)&&(k=0,K=_.length),f._chart=this.chart,f._datasetIndex=this.index,f._decimated=!!I._decimated,f.points=_;const de=this.resolveDatasetElementOptions(s);this.options.showLine||(de.borderWidth=0),de.segment=this.options.segment,this.updateElement(f,void 0,{animated:!A,options:de},s),this.updateElements(_,k,K,s)}updateElements(s,c,f,_){const I="reset"===_,{iScale:A,vScale:k,_stacked:K,_dataset:de}=this._cachedMeta,{sharedOptions:Ce,includeOptions:ze}=this._getSharedOptions(c,_),Qe=A.axis,Et=k.axis,{spanGaps:At,segment:Zt}=this.options,In=(0,d.x)(At)?At:Number.POSITIVE_INFINITY,En=this.chart._animationsDisabled||I||"none"===_,er=c+f,Qn=s.length;let Yn=c>0&&this.getParsed(c-1);for(let sr=0;sr<Qn;++sr){const dr=s[sr],vr=En?dr:{};if(sr<c||sr>=er){vr.skip=!0;continue}const fi=this.getParsed(sr),Ri=(0,d.k)(fi[Et]),Vr=vr[Qe]=A.getPixelForValue(fi[Qe],sr),fs=vr[Et]=I||Ri?k.getBasePixel():k.getPixelForValue(K?this.applyStack(k,fi,K):fi[Et],sr);vr.skip=isNaN(Vr)||isNaN(fs)||Ri,vr.stop=sr>0&&Math.abs(fi[Qe]-Yn[Qe])>In,Zt&&(vr.parsed=fi,vr.raw=de.data[sr]),ze&&(vr.options=Ce||this.resolveDataElementOptions(sr,dr.active?"active":_)),En||this.updateElement(dr,sr,vr,_),Yn=fi}}getMaxOverflow(){const s=this._cachedMeta,c=s.dataset,f=c.options&&c.options.borderWidth||0,_=s.data||[];if(!_.length)return f;const I=_[0].size(this.resolveDataElementOptions(0)),A=_[_.length-1].size(this.resolveDataElementOptions(_.length-1));return Math.max(f,I,A)/2}draw(){const s=this._cachedMeta;s.dataset.updateControlPoints(this.chart.chartArea,s.iScale.axis),super.draw()}}return m.id="line",m.defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1},m.overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}},m})(),un=(()=>{class m extends Lt{constructor(s,c){super(s,c),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(s){const f=this.chart,_=f.data.labels||[],I=(0,d.o)(this._cachedMeta._parsed[s].r,f.options.locale);return{label:_[s]||"",value:I}}parseObjectData(s,c,f,_){return d.y.bind(this)(s,c,f,_)}update(s){const c=this._cachedMeta.data;this._updateRadius(),this.updateElements(c,0,c.length,s)}getMinMax(){const c={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return this._cachedMeta.data.forEach((f,_)=>{const I=this.getParsed(_).r;!isNaN(I)&&this.chart.getDataVisibility(_)&&(I<c.min&&(c.min=I),I>c.max&&(c.max=I))}),c}_updateRadius(){const s=this.chart,c=s.chartArea,f=s.options,_=Math.min(c.right-c.left,c.bottom-c.top),I=Math.max(_/2,0),k=(I-Math.max(f.cutoutPercentage?I/100*f.cutoutPercentage:1,0))/s.getVisibleDatasetCount();this.outerRadius=I-k*this.index,this.innerRadius=this.outerRadius-k}updateElements(s,c,f,_){const I="reset"===_,A=this.chart,K=A.options.animation,de=this._cachedMeta.rScale,Ce=de.xCenter,ze=de.yCenter,Qe=de.getIndexAngle(0)-.5*d.P;let At,Et=Qe;const Zt=360/this.countVisibleElements();for(At=0;At<c;++At)Et+=this._computeAngle(At,_,Zt);for(At=c;At<c+f;At++){const In=s[At];let En=Et,er=Et+this._computeAngle(At,_,Zt),Qn=A.getDataVisibility(At)?de.getDistanceFromCenterForValue(this.getParsed(At).r):0;Et=er,I&&(K.animateScale&&(Qn=0),K.animateRotate&&(En=er=Qe));const Yn={x:Ce,y:ze,innerRadius:0,outerRadius:Qn,startAngle:En,endAngle:er,options:this.resolveDataElementOptions(At,In.active?"active":_)};this.updateElement(In,At,Yn,_)}}countVisibleElements(){let c=0;return this._cachedMeta.data.forEach((f,_)=>{!isNaN(this.getParsed(_).r)&&this.chart.getDataVisibility(_)&&c++}),c}_computeAngle(s,c,f){return this.chart.getDataVisibility(s)?(0,d.t)(this.resolveDataElementOptions(s,c).angle||f):0}}return m.id="polarArea",m.defaults={dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0},m.overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(l){const s=l.data;if(s.labels.length&&s.datasets.length){const{labels:{pointStyle:c,color:f}}=l.legend.options;return s.labels.map((_,I)=>{const k=l.getDatasetMeta(0).controller.getStyle(I);return{text:_,fillStyle:k.backgroundColor,strokeStyle:k.borderColor,fontColor:f,lineWidth:k.borderWidth,pointStyle:c,hidden:!l.getDataVisibility(I),index:I}})}return[]}},onClick(l,s,c){c.chart.toggleDataVisibility(s.index),c.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}},m})();var Br=Object.freeze({__proto__:null,BarController:cn,BubbleController:gn,DoughnutController:tr,LineController:ur,PieController:(()=>{class m extends tr{}return m.id="pie",m.defaults={cutout:0,rotation:0,circumference:360,radius:"100%"},m})(),PolarAreaController:un,RadarController:(()=>{class m extends Lt{getLabelAndValue(s){const c=this._cachedMeta.vScale,f=this.getParsed(s);return{label:c.getLabels()[s],value:""+c.getLabelForValue(f[c.axis])}}parseObjectData(s,c,f,_){return d.y.bind(this)(s,c,f,_)}update(s){const c=this._cachedMeta,f=c.dataset,_=c.data||[],I=c.iScale.getLabels();if(f.points=_,"resize"!==s){const A=this.resolveDatasetElementOptions(s);this.options.showLine||(A.borderWidth=0),this.updateElement(f,void 0,{_loop:!0,_fullLoop:I.length===_.length,options:A},s)}this.updateElements(_,0,_.length,s)}updateElements(s,c,f,_){const I=this._cachedMeta.rScale,A="reset"===_;for(let k=c;k<c+f;k++){const K=s[k],de=this.resolveDataElementOptions(k,K.active?"active":_),Ce=I.getPointPositionForValue(k,this.getParsed(k).r),ze=A?I.xCenter:Ce.x,Qe=A?I.yCenter:Ce.y,Et={x:ze,y:Qe,angle:Ce.angle,skip:isNaN(ze)||isNaN(Qe),options:de};this.updateElement(K,k,Et,_)}}}return m.id="radar",m.defaults={datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}},m.overrides={aspectRatio:1,scales:{r:{type:"radialLinear"}}},m})(),ScatterController:(()=>{class m extends Lt{getLabelAndValue(s){const c=this._cachedMeta,f=this.chart.data.labels||[],{xScale:_,yScale:I}=c,A=this.getParsed(s),k=_.getLabelForValue(A.x),K=I.getLabelForValue(A.y);return{label:f[s]||"",value:"("+k+", "+K+")"}}update(s){const c=this._cachedMeta,{data:f=[]}=c,_=this.chart._animationsDisabled;let{start:I,count:A}=(0,d.q)(c,f,_);if(this._drawStart=I,this._drawCount=A,(0,d.w)(c)&&(I=0,A=f.length),this.options.showLine){this.datasetElementType||this.addElements();const{dataset:k,_dataset:K}=c;k._chart=this.chart,k._datasetIndex=this.index,k._decimated=!!K._decimated,k.points=f;const de=this.resolveDatasetElementOptions(s);de.segment=this.options.segment,this.updateElement(k,void 0,{animated:!_,options:de},s)}else this.datasetElementType&&(delete c.dataset,this.datasetElementType=!1);this.updateElements(f,I,A,s)}addElements(){const{showLine:s}=this.options;!this.datasetElementType&&s&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(s,c,f,_){const I="reset"===_,{iScale:A,vScale:k,_stacked:K,_dataset:de}=this._cachedMeta,Ce=this.resolveDataElementOptions(c,_),ze=this.getSharedOptions(Ce),Qe=this.includeOptions(_,ze),Et=A.axis,At=k.axis,{spanGaps:Zt,segment:In}=this.options,En=(0,d.x)(Zt)?Zt:Number.POSITIVE_INFINITY,er=this.chart._animationsDisabled||I||"none"===_;let Qn=c>0&&this.getParsed(c-1);for(let Yn=c;Yn<c+f;++Yn){const sr=s[Yn],dr=this.getParsed(Yn),vr=er?sr:{},fi=(0,d.k)(dr[At]),Ri=vr[Et]=A.getPixelForValue(dr[Et],Yn),Vr=vr[At]=I||fi?k.getBasePixel():k.getPixelForValue(K?this.applyStack(k,dr,K):dr[At],Yn);vr.skip=isNaN(Ri)||isNaN(Vr)||fi,vr.stop=Yn>0&&Math.abs(dr[Et]-Qn[Et])>En,In&&(vr.parsed=dr,vr.raw=de.data[Yn]),Qe&&(vr.options=ze||this.resolveDataElementOptions(Yn,sr.active?"active":_)),er||this.updateElement(sr,Yn,vr,_),Qn=dr}this.updateSharedOptions(ze,_,Ce)}getMaxOverflow(){const s=this._cachedMeta,c=s.data||[];if(!this.options.showLine){let k=0;for(let K=c.length-1;K>=0;--K)k=Math.max(k,c[K].size(this.resolveDataElementOptions(K))/2);return k>0&&k}const f=s.dataset,_=f.options&&f.options.borderWidth||0;if(!c.length)return _;const I=c[0].size(this.resolveDataElementOptions(0)),A=c[c.length-1].size(this.resolveDataElementOptions(c.length-1));return Math.max(_,I,A)/2}}return m.id="scatter",m.defaults={datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1},m.overrides={interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}},m})()});function Ar(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class Pn{static override(l){Object.assign(Pn.prototype,l)}constructor(l){this.options=void 0,this.options=l||{}}init(){}formats(){return Ar()}parse(){return Ar()}format(){return Ar()}add(){return Ar()}diff(){return Ar()}startOf(){return Ar()}endOf(){return Ar()}}var oi__date=Pn;function Wr(m,l,s,c){const{controller:f,data:_,_sorted:I}=m,A=f._cachedMeta.iScale;if(A&&l===A.axis&&"r"!==l&&I&&_.length){const k=A._reversePixels?d.A:d.B;if(!c)return k(_,l,s);if(f._sharedOptions){const K=_[0],de="function"==typeof K.getRange&&K.getRange(l);if(de){const Ce=k(_,l,s-de),ze=k(_,l,s+de);return{lo:Ce.lo,hi:ze.hi}}}}return{lo:0,hi:_.length-1}}function ar(m,l,s,c,f){const _=m.getSortedVisibleDatasetMetas(),I=s[l];for(let A=0,k=_.length;A<k;++A){const{index:K,data:de}=_[A],{lo:Ce,hi:ze}=Wr(_[A],l,I,f);for(let Qe=Ce;Qe<=ze;++Qe){const Et=de[Qe];Et.skip||c(Et,K,Qe)}}}function bi(m,l,s,c,f){const _=[];return!f&&!m.isPointInArea(l)||ar(m,s,l,function(A,k,K){!f&&!(0,d.C)(A,m.chartArea,0)||A.inRange(l.x,l.y,c)&&_.push({element:A,datasetIndex:k,index:K})},!0),_}function mr(m,l,s,c,f,_){return _||m.isPointInArea(l)?"r"!==s||c?function ir(m,l,s,c,f,_){let I=[];const A=function Ai(m){const l=-1!==m.indexOf("x"),s=-1!==m.indexOf("y");return function(c,f){const _=l?Math.abs(c.x-f.x):0,I=s?Math.abs(c.y-f.y):0;return Math.sqrt(Math.pow(_,2)+Math.pow(I,2))}}(s);let k=Number.POSITIVE_INFINITY;return ar(m,s,l,function K(de,Ce,ze){const Qe=de.inRange(l.x,l.y,f);if(c&&!Qe)return;const Et=de.getCenterPoint(f);if(!_&&!m.isPointInArea(Et)&&!Qe)return;const Zt=A(l,Et);Zt<k?(I=[{element:de,datasetIndex:Ce,index:ze}],k=Zt):Zt===k&&I.push({element:de,datasetIndex:Ce,index:ze})}),I}(m,l,s,c,f,_):function lr(m,l,s,c){let f=[];return ar(m,s,l,function _(I,A,k){const{startAngle:K,endAngle:de}=I.getProps(["startAngle","endAngle"],c),{angle:Ce}=(0,d.D)(I,{x:l.x,y:l.y});(0,d.p)(Ce,K,de)&&f.push({element:I,datasetIndex:A,index:k})}),f}(m,l,s,f):[]}function ui(m,l,s,c,f){const _=[],I="x"===s?"inXRange":"inYRange";let A=!1;return ar(m,s,l,(k,K,de)=>{k[I](l[s],f)&&(_.push({element:k,datasetIndex:K,index:de}),A=A||k.inRange(l.x,l.y,f))}),c&&!A?[]:_}var gi={evaluateInteractionItems:ar,modes:{index(m,l,s,c){const f=(0,d.z)(l,m),_=s.axis||"x",I=s.includeInvisible||!1,A=s.intersect?bi(m,f,_,c,I):mr(m,f,_,!1,c,I),k=[];return A.length?(m.getSortedVisibleDatasetMetas().forEach(K=>{const de=A[0].index,Ce=K.data[de];Ce&&!Ce.skip&&k.push({element:Ce,datasetIndex:K.index,index:de})}),k):[]},dataset(m,l,s,c){const f=(0,d.z)(l,m),_=s.axis||"xy",I=s.includeInvisible||!1;let A=s.intersect?bi(m,f,_,c,I):mr(m,f,_,!1,c,I);if(A.length>0){const k=A[0].datasetIndex,K=m.getDatasetMeta(k).data;A=[];for(let de=0;de<K.length;++de)A.push({element:K[de],datasetIndex:k,index:de})}return A},point:(m,l,s,c)=>bi(m,(0,d.z)(l,m),s.axis||"xy",c,s.includeInvisible||!1),nearest:(m,l,s,c)=>mr(m,(0,d.z)(l,m),s.axis||"xy",s.intersect,c,s.includeInvisible||!1),x:(m,l,s,c)=>ui(m,(0,d.z)(l,m),"x",s.intersect,c),y:(m,l,s,c)=>ui(m,(0,d.z)(l,m),"y",s.intersect,c)}};const ni=["left","top","right","bottom"];function di(m,l){return m.filter(s=>s.pos===l)}function Ti(m,l){return m.filter(s=>-1===ni.indexOf(s.pos)&&s.box.axis===l)}function br(m,l){return m.sort((s,c)=>{const f=l?c:s,_=l?s:c;return f.weight===_.weight?f.index-_.index:f.weight-_.weight})}function Ne(m,l,s,c){return Math.max(m[s],l[s])+Math.max(m[c],l[c])}function ht(m,l){m.top=Math.max(m.top,l.top),m.left=Math.max(m.left,l.left),m.bottom=Math.max(m.bottom,l.bottom),m.right=Math.max(m.right,l.right)}function Wt(m,l,s,c){const{pos:f,box:_}=s,I=m.maxPadding;if(!(0,d.i)(f)){s.size&&(m[f]-=s.size);const Ce=c[s.stack]||{size:0,count:1};Ce.size=Math.max(Ce.size,s.horizontal?_.height:_.width),s.size=Ce.size/Ce.count,m[f]+=s.size}_.getPadding&&ht(I,_.getPadding());const A=Math.max(0,l.outerWidth-Ne(I,m,"left","right")),k=Math.max(0,l.outerHeight-Ne(I,m,"top","bottom")),K=A!==m.w,de=k!==m.h;return m.w=A,m.h=k,s.horizontal?{same:K,other:de}:{same:de,other:K}}function Hn(m,l){const s=l.maxPadding;return function c(f){const _={left:0,top:0,right:0,bottom:0};return f.forEach(I=>{_[I]=Math.max(l[I],s[I])}),_}(m?["left","right"]:["top","bottom"])}function jr(m,l,s,c){const f=[];let _,I,A,k,K,de;for(_=0,I=m.length,K=0;_<I;++_){A=m[_],k=A.box,k.update(A.width||l.w,A.height||l.h,Hn(A.horizontal,l));const{same:Ce,other:ze}=Wt(l,s,A,c);K|=Ce&&f.length,de=de||ze,k.fullSize||f.push(A)}return K&&jr(f,l,s,c)||de}function kr(m,l,s,c,f){m.top=s,m.left=l,m.right=l+c,m.bottom=s+f,m.width=c,m.height=f}function Rr(m,l,s,c){const f=s.padding;let{x:_,y:I}=l;for(const A of m){const k=A.box,K=c[A.stack]||{count:1,placed:0,weight:1},de=A.stackWeight/K.weight||1;if(A.horizontal){const Ce=l.w*de,ze=K.size||k.height;(0,d.h)(K.start)&&(I=K.start),k.fullSize?kr(k,f.left,I,s.outerWidth-f.right-f.left,ze):kr(k,l.left+K.placed,I,Ce,ze),K.start=I,K.placed+=Ce,I=k.bottom}else{const Ce=l.h*de,ze=K.size||k.width;(0,d.h)(K.start)&&(_=K.start),k.fullSize?kr(k,_,f.top,ze,s.outerHeight-f.bottom-f.top):kr(k,_,l.top+K.placed,ze,Ce),K.start=_,K.placed+=Ce,_=k.right}}l.x=_,l.y=I}var mt={addBox(m,l){m.boxes||(m.boxes=[]),l.fullSize=l.fullSize||!1,l.position=l.position||"top",l.weight=l.weight||0,l._layers=l._layers||function(){return[{z:0,draw(s){l.draw(s)}}]},m.boxes.push(l)},removeBox(m,l){const s=m.boxes?m.boxes.indexOf(l):-1;-1!==s&&m.boxes.splice(s,1)},configure(m,l,s){l.fullSize=s.fullSize,l.position=s.position,l.weight=s.weight},update(m,l,s,c){if(!m)return;const f=(0,d.E)(m.options.layout.padding),_=Math.max(l-f.width,0),I=Math.max(s-f.height,0),A=function Sn(m){const l=function hr(m){const l=[];let s,c,f,_,I,A;for(s=0,c=(m||[]).length;s<c;++s)f=m[s],({position:_,options:{stack:I,stackWeight:A=1}}=f),l.push({index:s,box:f,pos:_,horizontal:f.isHorizontal(),weight:f.weight,stack:I&&_+I,stackWeight:A});return l}(m),s=br(l.filter(K=>K.box.fullSize),!0),c=br(di(l,"left"),!0),f=br(di(l,"right")),_=br(di(l,"top"),!0),I=br(di(l,"bottom")),A=Ti(l,"x"),k=Ti(l,"y");return{fullSize:s,leftAndTop:c.concat(_),rightAndBottom:f.concat(k).concat(I).concat(A),chartArea:di(l,"chartArea"),vertical:c.concat(f).concat(k),horizontal:_.concat(I).concat(A)}}(m.boxes),k=A.vertical,K=A.horizontal;(0,d.F)(m.boxes,At=>{"function"==typeof At.beforeLayout&&At.beforeLayout()});const de=k.reduce((At,Zt)=>Zt.box.options&&!1===Zt.box.options.display?At:At+1,0)||1,Ce=Object.freeze({outerWidth:l,outerHeight:s,padding:f,availableWidth:_,availableHeight:I,vBoxMaxWidth:_/2/de,hBoxMaxHeight:I/2}),ze=Object.assign({},f);ht(ze,(0,d.E)(c));const Qe=Object.assign({maxPadding:ze,w:_,h:I,x:f.left,y:f.top},f),Et=function Er(m,l){const s=function Di(m){const l={};for(const s of m){const{stack:c,pos:f,stackWeight:_}=s;if(!c||!ni.includes(f))continue;const I=l[c]||(l[c]={count:0,placed:0,weight:0,size:0});I.count++,I.weight+=_}return l}(m),{vBoxMaxWidth:c,hBoxMaxHeight:f}=l;let _,I,A;for(_=0,I=m.length;_<I;++_){A=m[_];const{fullSize:k}=A.box,K=s[A.stack],de=K&&A.stackWeight/K.weight;A.horizontal?(A.width=de?de*c:k&&l.availableWidth,A.height=f):(A.width=c,A.height=de?de*f:k&&l.availableHeight)}return s}(k.concat(K),Ce);jr(A.fullSize,Qe,Ce,Et),jr(k,Qe,Ce,Et),jr(K,Qe,Ce,Et)&&jr(k,Qe,Ce,Et),function wn(m){const l=m.maxPadding;function s(c){const f=Math.max(l[c]-m[c],0);return m[c]+=f,f}m.y+=s("top"),m.x+=s("left"),s("right"),s("bottom")}(Qe),Rr(A.leftAndTop,Qe,Ce,Et),Qe.x+=Qe.w,Qe.y+=Qe.h,Rr(A.rightAndBottom,Qe,Ce,Et),m.chartArea={left:Qe.left,top:Qe.top,right:Qe.left+Qe.w,bottom:Qe.top+Qe.h,height:Qe.h,width:Qe.w},(0,d.F)(A.chartArea,At=>{const Zt=At.box;Object.assign(Zt,m.chartArea),Zt.update(Qe.w,Qe.h,{left:0,top:0,right:0,bottom:0})})}};class Ae{acquireContext(l,s){}releaseContext(l){return!1}addEventListener(l,s,c){}removeEventListener(l,s,c){}getDevicePixelRatio(){return 1}getMaximumSize(l,s,c,f){return s=Math.max(0,s||l.width),c=c||l.height,{width:s,height:Math.max(0,f?Math.floor(s/f):c)}}isAttached(l){return!0}updateConfig(l){}}class ie extends Ae{acquireContext(l){return l&&l.getContext&&l.getContext("2d")||null}updateConfig(l){l.options.animation=!1}}const ee="$chartjs",se={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},Ke=m=>null===m||""===m,rt=!!d.K&&{passive:!0};function Jt(m,l,s){m.canvas.removeEventListener(l,s,rt)}function vn(m,l){for(const s of m)if(s===l||s.contains(l))return!0}function $n(m,l,s){const c=m.canvas,f=new MutationObserver(_=>{let I=!1;for(const A of _)I=I||vn(A.addedNodes,c),I=I&&!vn(A.removedNodes,c);I&&s()});return f.observe(document,{childList:!0,subtree:!0}),f}function ln(m,l,s){const c=m.canvas,f=new MutationObserver(_=>{let I=!1;for(const A of _)I=I||vn(A.removedNodes,c),I=I&&!vn(A.addedNodes,c);I&&s()});return f.observe(document,{childList:!0,subtree:!0}),f}const yn=new Map;let kn=0;function Bt(){const m=window.devicePixelRatio;m!==kn&&(kn=m,yn.forEach((l,s)=>{s.currentDevicePixelRatio!==m&&l()}))}function qn(m,l,s){const c=m.canvas,f=c&&(0,d.I)(c);if(!f)return;const _=(0,d.L)((A,k)=>{const K=f.clientWidth;s(A,k),K<f.clientWidth&&s()},window),I=new ResizeObserver(A=>{const k=A[0],K=k.contentRect.width,de=k.contentRect.height;0===K&&0===de||_(K,de)});return I.observe(f),function Kt(m,l){yn.size||window.addEventListener("resize",Bt),yn.set(m,l)}(m,_),I}function pr(m,l,s){s&&s.disconnect(),"resize"===l&&function fn(m){yn.delete(m),yn.size||window.removeEventListener("resize",Bt)}(m)}function Dr(m,l,s){const c=m.canvas,f=(0,d.L)(_=>{null!==m.ctx&&s(function Cn(m,l){const s=se[m.type]||m.type,{x:c,y:f}=(0,d.z)(m,l);return{type:s,chart:l,native:m,x:void 0!==c?c:null,y:void 0!==f?f:null}}(_,m))},m);return function Vt(m,l,s){m.addEventListener(l,s,rt)}(c,l,f),f}class $r extends Ae{acquireContext(l,s){const c=l&&l.getContext&&l.getContext("2d");return c&&c.canvas===l?(function xt(m,l){const s=m.style,c=m.getAttribute("height"),f=m.getAttribute("width");if(m[ee]={initial:{height:c,width:f,style:{display:s.display,height:s.height,width:s.width}}},s.display=s.display||"block",s.boxSizing=s.boxSizing||"border-box",Ke(f)){const _=(0,d.J)(m,"width");void 0!==_&&(m.width=_)}if(Ke(c))if(""===m.style.height)m.height=m.width/(l||2);else{const _=(0,d.J)(m,"height");void 0!==_&&(m.height=_)}}(l,s),c):null}releaseContext(l){const s=l.canvas;if(!s[ee])return!1;const c=s[ee].initial;["height","width"].forEach(_=>{const I=c[_];(0,d.k)(I)?s.removeAttribute(_):s.setAttribute(_,I)});const f=c.style||{};return Object.keys(f).forEach(_=>{s.style[_]=f[_]}),s.width=s.width,delete s[ee],!0}addEventListener(l,s,c){this.removeEventListener(l,s),(l.$proxies||(l.$proxies={}))[s]=({attach:$n,detach:ln,resize:qn}[s]||Dr)(l,s,c)}removeEventListener(l,s){const c=l.$proxies||(l.$proxies={}),f=c[s];f&&(({attach:pr,detach:pr,resize:pr}[s]||Jt)(l,s,f),c[s]=void 0)}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(l,s,c,f){return(0,d.G)(l,s,c,f)}isAttached(l){const s=(0,d.I)(l);return!(!s||!s.isConnected)}}class Xr{constructor(){this.x=void 0,this.y=void 0,this.active=!1,this.options=void 0,this.$animations=void 0}tooltipPosition(l){const{x:s,y:c}=this.getProps(["x","y"],l);return{x:s,y:c}}hasValue(){return(0,d.x)(this.x)&&(0,d.x)(this.y)}getProps(l,s){const c=this.$animations;if(!s||!c)return this;const f={};return l.forEach(_=>{f[_]=c[_]&&c[_].active()?c[_]._to:this[_]}),f}}function ps(m,l,s,c,f){const _=(0,d.v)(c,0),I=Math.min((0,d.v)(f,m.length),m.length);let k,K,de,A=0;for(s=Math.ceil(s),f&&(k=f-c,s=k/Math.floor(k/s)),de=_;de<0;)A++,de=Math.round(_+A*s);for(K=Math.max(_,0);K<I;K++)K===de&&(l.push(m[K]),A++,de=Math.round(_+A*s))}Xr.defaults={},Xr.defaultRoutes=void 0;const es=(m,l,s)=>"top"===l||"left"===l?m[l]+s:m[l]-s,Hi=(m,l)=>Math.min(l||m,m);function zs(m,l){const s=[],c=m.length/l,f=m.length;let _=0;for(;_<f;_+=c)s.push(m[Math.floor(_)]);return s}function ks(m,l,s){const c=m.ticks.length,f=Math.min(l,c-1),_=m._startPixel,I=m._endPixel,A=1e-6;let K,k=m.getPixelForTick(f);if(!(s&&(K=1===c?Math.max(k-_,I-k):0===l?(m.getPixelForTick(1)-k)/2:(k-m.getPixelForTick(f-1))/2,k+=f<l?K:-K,k<_-A||k>I+A)))return k}function Fs(m){return m.drawTicks?m.tickLength:0}function re(m,l){if(!m.display)return 0;const s=(0,d.a0)(m.font,l),c=(0,d.E)(m.padding);return((0,d.b)(m.text)?m.text.length:1)*s.lineHeight+c.height}function Ee(m,l,s){let c=(0,d.a1)(m);return(s&&"right"!==l||!s&&"right"===l)&&(c=(m=>"left"===m?"right":"right"===m?"left":m)(c)),c}class ve extends Xr{constructor(l){super(),this.id=l.id,this.type=l.type,this.options=void 0,this.ctx=l.ctx,this.chart=l.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(l){this.options=l.setContext(this.getContext()),this.axis=l.axis,this._userMin=this.parse(l.min),this._userMax=this.parse(l.max),this._suggestedMin=this.parse(l.suggestedMin),this._suggestedMax=this.parse(l.suggestedMax)}parse(l,s){return l}getUserBounds(){let{_userMin:l,_userMax:s,_suggestedMin:c,_suggestedMax:f}=this;return l=(0,d.O)(l,Number.POSITIVE_INFINITY),s=(0,d.O)(s,Number.NEGATIVE_INFINITY),c=(0,d.O)(c,Number.POSITIVE_INFINITY),f=(0,d.O)(f,Number.NEGATIVE_INFINITY),{min:(0,d.O)(l,c),max:(0,d.O)(s,f),minDefined:(0,d.g)(l),maxDefined:(0,d.g)(s)}}getMinMax(l){let I,{min:s,max:c,minDefined:f,maxDefined:_}=this.getUserBounds();if(f&&_)return{min:s,max:c};const A=this.getMatchingVisibleMetas();for(let k=0,K=A.length;k<K;++k)I=A[k].controller.getMinMax(this,l),f||(s=Math.min(s,I.min)),_||(c=Math.max(c,I.max));return s=_&&s>c?c:s,c=f&&s>c?s:c,{min:(0,d.O)(s,(0,d.O)(c,s)),max:(0,d.O)(c,(0,d.O)(s,c))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const l=this.chart.data;return this.options.labels||(this.isHorizontal()?l.xLabels:l.yLabels)||l.labels||[]}getLabelItems(l=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(l))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){(0,d.Q)(this.options.beforeUpdate,[this])}update(l,s,c){const{beginAtZero:f,grace:_,ticks:I}=this.options,A=I.sampleSize;this.beforeUpdate(),this.maxWidth=l,this.maxHeight=s,this._margins=c=Object.assign({left:0,right:0,top:0,bottom:0},c),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+c.left+c.right:this.height+c.top+c.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=(0,d.R)(this,_,f),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const k=A<this.ticks.length;this._convertTicksToLabels(k?zs(this.ticks,A):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),I.display&&(I.autoSkip||"auto"===I.source)&&(this.ticks=function Ur(m,l){const s=m.options.ticks,c=function Gr(m){const l=m.options.offset,s=m._tickSize();return Math.floor(Math.min(m._length/s+(l?0:1),m._maxLength/s))}(m),f=Math.min(s.maxTicksLimit||c,c),_=s.major.enabled?function Os(m){const l=[];let s,c;for(s=0,c=m.length;s<c;s++)m[s].major&&l.push(s);return l}(l):[],I=_.length,A=_[0],k=_[I-1],K=[];if(I>f)return function to(m,l,s,c){let I,f=0,_=s[0];for(c=Math.ceil(c),I=0;I<m.length;I++)I===_&&(l.push(m[I]),f++,_=s[f*c])}(l,K,_,I/f),K;const de=function ls(m,l,s){const c=function cs(m){const l=m.length;let s,c;if(l<2)return!1;for(c=m[0],s=1;s<l;++s)if(m[s]-m[s-1]!==c)return!1;return c}(m),f=l.length/s;if(!c)return Math.max(f,1);const _=(0,d.N)(c);for(let I=0,A=_.length-1;I<A;I++){const k=_[I];if(k>f)return k}return Math.max(f,1)}(_,l,f);if(I>0){let Ce,ze;const Qe=I>1?Math.round((k-A)/(I-1)):null;for(ps(l,K,de,(0,d.k)(Qe)?0:A-Qe,A),Ce=0,ze=I-1;Ce<ze;Ce++)ps(l,K,de,_[Ce],_[Ce+1]);return ps(l,K,de,k,(0,d.k)(Qe)?l.length:k+Qe),K}return ps(l,K,de),K}(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),k&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let s,c,l=this.options.reverse;this.isHorizontal()?(s=this.left,c=this.right):(s=this.top,c=this.bottom,l=!l),this._startPixel=s,this._endPixel=c,this._reversePixels=l,this._length=c-s,this._alignToPixels=this.options.alignToPixels}afterUpdate(){(0,d.Q)(this.options.afterUpdate,[this])}beforeSetDimensions(){(0,d.Q)(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){(0,d.Q)(this.options.afterSetDimensions,[this])}_callHooks(l){this.chart.notifyPlugins(l,this.getContext()),(0,d.Q)(this.options[l],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){(0,d.Q)(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(l){const s=this.options.ticks;let c,f,_;for(c=0,f=l.length;c<f;c++)_=l[c],_.label=(0,d.Q)(s.callback,[_.value,c,l],this)}afterTickToLabelConversion(){(0,d.Q)(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){(0,d.Q)(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const l=this.options,s=l.ticks,c=Hi(this.ticks.length,l.ticks.maxTicksLimit),f=s.minRotation||0,_=s.maxRotation;let A,k,K,I=f;if(!this._isVisible()||!s.display||f>=_||c<=1||!this.isHorizontal())return void(this.labelRotation=f);const de=this._getLabelSizes(),Ce=de.widest.width,ze=de.highest.height,Qe=(0,d.S)(this.chart.width-Ce,0,this.maxWidth);A=l.offset?this.maxWidth/c:Qe/(c-1),Ce+6>A&&(A=Qe/(c-(l.offset?.5:1)),k=this.maxHeight-Fs(l.grid)-s.padding-re(l.title,this.chart.options.font),K=Math.sqrt(Ce*Ce+ze*ze),I=(0,d.U)(Math.min(Math.asin((0,d.S)((de.highest.height+6)/A,-1,1)),Math.asin((0,d.S)(k/K,-1,1))-Math.asin((0,d.S)(ze/K,-1,1)))),I=Math.max(f,Math.min(_,I))),this.labelRotation=I}afterCalculateLabelRotation(){(0,d.Q)(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){(0,d.Q)(this.options.beforeFit,[this])}fit(){const l={width:0,height:0},{chart:s,options:{ticks:c,title:f,grid:_}}=this,I=this._isVisible(),A=this.isHorizontal();if(I){const k=re(f,s.options.font);if(A?(l.width=this.maxWidth,l.height=Fs(_)+k):(l.height=this.maxHeight,l.width=Fs(_)+k),c.display&&this.ticks.length){const{first:K,last:de,widest:Ce,highest:ze}=this._getLabelSizes(),Qe=2*c.padding,Et=(0,d.t)(this.labelRotation),At=Math.cos(Et),Zt=Math.sin(Et);A?l.height=Math.min(this.maxHeight,l.height+(c.mirror?0:Zt*Ce.width+At*ze.height)+Qe):l.width=Math.min(this.maxWidth,l.width+(c.mirror?0:At*Ce.width+Zt*ze.height)+Qe),this._calculatePadding(K,de,Zt,At)}}this._handleMargins(),A?(this.width=this._length=s.width-this._margins.left-this._margins.right,this.height=l.height):(this.width=l.width,this.height=this._length=s.height-this._margins.top-this._margins.bottom)}_calculatePadding(l,s,c,f){const{ticks:{align:_,padding:I},position:A}=this.options,k=0!==this.labelRotation,K="top"!==A&&"x"===this.axis;if(this.isHorizontal()){const de=this.getPixelForTick(0)-this.left,Ce=this.right-this.getPixelForTick(this.ticks.length-1);let ze=0,Qe=0;k?K?(ze=f*l.width,Qe=c*s.height):(ze=c*l.height,Qe=f*s.width):"start"===_?Qe=s.width:"end"===_?ze=l.width:"inner"!==_&&(ze=l.width/2,Qe=s.width/2),this.paddingLeft=Math.max((ze-de+I)*this.width/(this.width-de),0),this.paddingRight=Math.max((Qe-Ce+I)*this.width/(this.width-Ce),0)}else{let de=s.height/2,Ce=l.height/2;"start"===_?(de=0,Ce=l.height):"end"===_&&(de=s.height,Ce=0),this.paddingTop=de+I,this.paddingBottom=Ce+I}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){(0,d.Q)(this.options.afterFit,[this])}isHorizontal(){const{axis:l,position:s}=this.options;return"top"===s||"bottom"===s||"x"===l}isFullSize(){return this.options.fullSize}_convertTicksToLabels(l){let s,c;for(this.beforeTickToLabelConversion(),this.generateTickLabels(l),s=0,c=l.length;s<c;s++)(0,d.k)(l[s].label)&&(l.splice(s,1),c--,s--);this.afterTickToLabelConversion()}_getLabelSizes(){let l=this._labelSizes;if(!l){const s=this.options.ticks.sampleSize;let c=this.ticks;s<c.length&&(c=zs(c,s)),this._labelSizes=l=this._computeLabelSizes(c,c.length,this.options.ticks.maxTicksLimit)}return l}_computeLabelSizes(l,s,c){const{ctx:f,_longestTextCache:_}=this,I=[],A=[],k=Math.floor(s/Hi(s,c));let Ce,ze,Qe,Et,At,Zt,In,En,er,Qn,Yn,K=0,de=0;for(Ce=0;Ce<s;Ce+=k){if(Et=l[Ce].label,At=this._resolveTickFontOptions(Ce),f.font=Zt=At.string,In=_[Zt]=_[Zt]||{data:{},gc:[]},En=At.lineHeight,er=Qn=0,(0,d.k)(Et)||(0,d.b)(Et)){if((0,d.b)(Et))for(ze=0,Qe=Et.length;ze<Qe;++ze)Yn=Et[ze],!(0,d.k)(Yn)&&!(0,d.b)(Yn)&&(er=(0,d.V)(f,In.data,In.gc,er,Yn),Qn+=En)}else er=(0,d.V)(f,In.data,In.gc,er,Et),Qn=En;I.push(er),A.push(Qn),K=Math.max(er,K),de=Math.max(Qn,de)}!function Ns(m,l){(0,d.F)(m,s=>{const c=s.gc,f=c.length/2;let _;if(f>l){for(_=0;_<f;++_)delete s.data[c[_]];c.splice(0,f)}})}(_,s);const sr=I.indexOf(K),dr=A.indexOf(de),vr=fi=>({width:I[fi]||0,height:A[fi]||0});return{first:vr(0),last:vr(s-1),widest:vr(sr),highest:vr(dr),widths:I,heights:A}}getLabelForValue(l){return l}getPixelForValue(l,s){return NaN}getValueForPixel(l){}getPixelForTick(l){const s=this.ticks;return l<0||l>s.length-1?null:this.getPixelForValue(s[l].value)}getPixelForDecimal(l){this._reversePixels&&(l=1-l);const s=this._startPixel+l*this._length;return(0,d.W)(this._alignToPixels?(0,d.X)(this.chart,s,0):s)}getDecimalForPixel(l){const s=(l-this._startPixel)/this._length;return this._reversePixels?1-s:s}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:l,max:s}=this;return l<0&&s<0?s:l>0&&s>0?l:0}getContext(l){const s=this.ticks||[];if(l>=0&&l<s.length){const c=s[l];return c.$context||(c.$context=function Oe(m,l,s){return(0,d.j)(m,{tick:s,index:l,type:"tick"})}(this.getContext(),l,c))}return this.$context||(this.$context=function pe(m,l){return(0,d.j)(m,{scale:l,type:"scale"})}(this.chart.getContext(),this))}_tickSize(){const l=this.options.ticks,s=(0,d.t)(this.labelRotation),c=Math.abs(Math.cos(s)),f=Math.abs(Math.sin(s)),_=this._getLabelSizes(),I=l.autoSkipPadding||0,A=_?_.widest.width+I:0,k=_?_.highest.height+I:0;return this.isHorizontal()?k*c>A*f?A/c:k/f:k*f<A*c?k/c:A/f}_isVisible(){const l=this.options.display;return"auto"!==l?!!l:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(l){const s=this.axis,c=this.chart,f=this.options,{grid:_,position:I,border:A}=f,k=_.offset,K=this.isHorizontal(),Ce=this.ticks.length+(k?1:0),ze=Fs(_),Qe=[],Et=A.setContext(this.getContext()),At=Et.display?Et.width:0,Zt=At/2,In=function(wr){return(0,d.X)(c,wr,At)};let En,er,Qn,Yn,sr,dr,vr,fi,Ri,Vr,fs,Rs;if("top"===I)En=In(this.bottom),dr=this.bottom-ze,fi=En-Zt,Vr=In(l.top)+Zt,Rs=l.bottom;else if("bottom"===I)En=In(this.top),Vr=l.top,Rs=In(l.bottom)-Zt,dr=En+Zt,fi=this.top+ze;else if("left"===I)En=In(this.right),sr=this.right-ze,vr=En-Zt,Ri=In(l.left)+Zt,fs=l.right;else if("right"===I)En=In(this.left),Ri=l.left,fs=In(l.right)-Zt,sr=En+Zt,vr=this.left+ze;else if("x"===s){if("center"===I)En=In((l.top+l.bottom)/2+.5);else if((0,d.i)(I)){const wr=Object.keys(I)[0];En=In(this.chart.scales[wr].getPixelForValue(I[wr]))}Vr=l.top,Rs=l.bottom,dr=En+Zt,fi=dr+ze}else if("y"===s){if("center"===I)En=In((l.left+l.right)/2);else if((0,d.i)(I)){const wr=Object.keys(I)[0];En=In(this.chart.scales[wr].getPixelForValue(I[wr]))}sr=En-Zt,vr=sr-ze,Ri=l.left,fs=l.right}const os=(0,d.v)(f.ticks.maxTicksLimit,Ce),Vs=Math.max(1,Math.ceil(Ce/os));for(er=0;er<Ce;er+=Vs){const wr=this.getContext(er),Ir=_.setContext(wr),wi=A.setContext(wr),Ki=Ir.lineWidth,rs=Ir.color,la=wi.dash||[],vo=wi.dashOffset,Cs=Ir.tickWidth,as=Ir.tickColor,Ca=Ir.tickBorderDash||[],Ba=Ir.tickBorderDashOffset;Qn=ks(this,er,k),void 0!==Qn&&(Yn=(0,d.X)(c,Qn,Ki),K?sr=vr=Ri=fs=Yn:dr=fi=Vr=Rs=Yn,Qe.push({tx1:sr,ty1:dr,tx2:vr,ty2:fi,x1:Ri,y1:Vr,x2:fs,y2:Rs,width:Ki,color:rs,borderDash:la,borderDashOffset:vo,tickWidth:Cs,tickColor:as,tickBorderDash:Ca,tickBorderDashOffset:Ba}))}return this._ticksLength=Ce,this._borderValue=En,Qe}_computeLabelItems(l){const s=this.axis,c=this.options,{position:f,ticks:_}=c,I=this.isHorizontal(),A=this.ticks,{align:k,crossAlign:K,padding:de,mirror:Ce}=_,ze=Fs(c.grid),Qe=ze+de,Et=Ce?-de:Qe,At=-(0,d.t)(this.labelRotation),Zt=[];let In,En,er,Qn,Yn,sr,dr,vr,fi,Ri,Vr,fs,Rs="middle";if("top"===f)sr=this.bottom-Et,dr=this._getXAxisLabelAlignment();else if("bottom"===f)sr=this.top+Et,dr=this._getXAxisLabelAlignment();else if("left"===f){const Vs=this._getYAxisLabelAlignment(ze);dr=Vs.textAlign,Yn=Vs.x}else if("right"===f){const Vs=this._getYAxisLabelAlignment(ze);dr=Vs.textAlign,Yn=Vs.x}else if("x"===s){if("center"===f)sr=(l.top+l.bottom)/2+Qe;else if((0,d.i)(f)){const Vs=Object.keys(f)[0];sr=this.chart.scales[Vs].getPixelForValue(f[Vs])+Qe}dr=this._getXAxisLabelAlignment()}else if("y"===s){if("center"===f)Yn=(l.left+l.right)/2-Qe;else if((0,d.i)(f)){const Vs=Object.keys(f)[0];Yn=this.chart.scales[Vs].getPixelForValue(f[Vs])}dr=this._getYAxisLabelAlignment(ze).textAlign}"y"===s&&("start"===k?Rs="top":"end"===k&&(Rs="bottom"));const os=this._getLabelSizes();for(In=0,En=A.length;In<En;++In){er=A[In],Qn=er.label;const Vs=_.setContext(this.getContext(In));vr=this.getPixelForTick(In)+_.labelOffset,fi=this._resolveTickFontOptions(In),Ri=fi.lineHeight,Vr=(0,d.b)(Qn)?Qn.length:1;const wr=Vr/2,Ir=Vs.color,wi=Vs.textStrokeColor,Ki=Vs.textStrokeWidth;let la,rs=dr;if(I?(Yn=vr,"inner"===dr&&(rs=In===En-1?this.options.reverse?"left":"right":0===In?this.options.reverse?"right":"left":"center"),fs="top"===f?"near"===K||0!==At?-Vr*Ri+Ri/2:"center"===K?-os.highest.height/2-wr*Ri+Ri:Ri/2-os.highest.height:"near"===K||0!==At?Ri/2:"center"===K?os.highest.height/2-wr*Ri:os.highest.height-Vr*Ri,Ce&&(fs*=-1),0!==At&&!Vs.showLabelBackdrop&&(Yn+=Ri/2*Math.sin(At))):(sr=vr,fs=(1-Vr)*Ri/2),Vs.showLabelBackdrop){const vo=(0,d.E)(Vs.backdropPadding),Cs=os.heights[In],as=os.widths[In];let Ca=fs-vo.top,Ba=0-vo.left;switch(Rs){case"middle":Ca-=Cs/2;break;case"bottom":Ca-=Cs}switch(dr){case"center":Ba-=as/2;break;case"right":Ba-=as}la={left:Ba,top:Ca,width:as+vo.width,height:Cs+vo.height,color:Vs.backdropColor}}Zt.push({label:Qn,font:fi,textOffset:fs,options:{rotation:At,color:Ir,strokeColor:wi,strokeWidth:Ki,textAlign:rs,textBaseline:Rs,translation:[Yn,sr],backdrop:la}})}return Zt}_getXAxisLabelAlignment(){const{position:l,ticks:s}=this.options;if(-(0,d.t)(this.labelRotation))return"top"===l?"left":"right";let f="center";return"start"===s.align?f="left":"end"===s.align?f="right":"inner"===s.align&&(f="inner"),f}_getYAxisLabelAlignment(l){const{position:s,ticks:{crossAlign:c,mirror:f,padding:_}}=this.options,A=l+_,k=this._getLabelSizes().widest.width;let K,de;return"left"===s?f?(de=this.right+_,"near"===c?K="left":"center"===c?(K="center",de+=k/2):(K="right",de+=k)):(de=this.right-A,"near"===c?K="right":"center"===c?(K="center",de-=k/2):(K="left",de=this.left)):"right"===s?f?(de=this.left+_,"near"===c?K="right":"center"===c?(K="center",de-=k/2):(K="left",de-=k)):(de=this.left+A,"near"===c?K="left":"center"===c?(K="center",de+=k/2):(K="right",de=this.right)):K="right",{textAlign:K,x:de}}_computeLabelArea(){if(this.options.ticks.mirror)return;const l=this.chart,s=this.options.position;return"left"===s||"right"===s?{top:0,left:this.left,bottom:l.height,right:this.right}:"top"===s||"bottom"===s?{top:this.top,left:0,bottom:this.bottom,right:l.width}:void 0}drawBackground(){const{ctx:l,options:{backgroundColor:s},left:c,top:f,width:_,height:I}=this;s&&(l.save(),l.fillStyle=s,l.fillRect(c,f,_,I),l.restore())}getLineWidthForValue(l){const s=this.options.grid;if(!this._isVisible()||!s.display)return 0;const f=this.ticks.findIndex(_=>_.value===l);return f>=0?s.setContext(this.getContext(f)).lineWidth:0}drawGrid(l){const s=this.options.grid,c=this.ctx,f=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(l));let _,I;const A=(k,K,de)=>{!de.width||!de.color||(c.save(),c.lineWidth=de.width,c.strokeStyle=de.color,c.setLineDash(de.borderDash||[]),c.lineDashOffset=de.borderDashOffset,c.beginPath(),c.moveTo(k.x,k.y),c.lineTo(K.x,K.y),c.stroke(),c.restore())};if(s.display)for(_=0,I=f.length;_<I;++_){const k=f[_];s.drawOnChartArea&&A({x:k.x1,y:k.y1},{x:k.x2,y:k.y2},k),s.drawTicks&&A({x:k.tx1,y:k.ty1},{x:k.tx2,y:k.ty2},{color:k.tickColor,width:k.tickWidth,borderDash:k.tickBorderDash,borderDashOffset:k.tickBorderDashOffset})}}drawBorder(){const{chart:l,ctx:s,options:{border:c,grid:f}}=this,_=c.setContext(this.getContext()),I=c.display?_.width:0;if(!I)return;const A=f.setContext(this.getContext(0)).lineWidth,k=this._borderValue;let K,de,Ce,ze;this.isHorizontal()?(K=(0,d.X)(l,this.left,I)-I/2,de=(0,d.X)(l,this.right,A)+A/2,Ce=ze=k):(Ce=(0,d.X)(l,this.top,I)-I/2,ze=(0,d.X)(l,this.bottom,A)+A/2,K=de=k),s.save(),s.lineWidth=_.width,s.strokeStyle=_.color,s.beginPath(),s.moveTo(K,Ce),s.lineTo(de,ze),s.stroke(),s.restore()}drawLabels(l){if(!this.options.ticks.display)return;const c=this.ctx,f=this._computeLabelArea();f&&(0,d.Y)(c,f);const _=this.getLabelItems(l);for(const I of _)(0,d.Z)(c,I.label,0,I.textOffset,I.font,I.options);f&&(0,d.$)(c)}drawTitle(){const{ctx:l,options:{position:s,title:c,reverse:f}}=this;if(!c.display)return;const _=(0,d.a0)(c.font),I=(0,d.E)(c.padding),A=c.align;let k=_.lineHeight/2;"bottom"===s||"center"===s||(0,d.i)(s)?(k+=I.bottom,(0,d.b)(c.text)&&(k+=_.lineHeight*(c.text.length-1))):k+=I.top;const{titleX:K,titleY:de,maxWidth:Ce,rotation:ze}=function ne(m,l,s,c){const{top:f,left:_,bottom:I,right:A,chart:k}=m,{chartArea:K,scales:de}=k;let ze,Qe,Et,Ce=0;const At=I-f,Zt=A-_;if(m.isHorizontal()){if(Qe=(0,d.a2)(c,_,A),(0,d.i)(s)){const In=Object.keys(s)[0];Et=de[In].getPixelForValue(s[In])+At-l}else Et="center"===s?(K.bottom+K.top)/2+At-l:es(m,s,l);ze=A-_}else{if((0,d.i)(s)){const In=Object.keys(s)[0];Qe=de[In].getPixelForValue(s[In])-Zt+l}else Qe="center"===s?(K.left+K.right)/2-Zt+l:es(m,s,l);Et=(0,d.a2)(c,I,f),Ce="left"===s?-d.H:d.H}return{titleX:Qe,titleY:Et,maxWidth:ze,rotation:Ce}}(this,k,s,A);(0,d.Z)(l,c.text,0,0,_,{color:c.color,maxWidth:Ce,rotation:ze,textAlign:Ee(A,s,f),textBaseline:"middle",translation:[K,de]})}draw(l){this._isVisible()&&(this.drawBackground(),this.drawGrid(l),this.drawBorder(),this.drawTitle(),this.drawLabels(l))}_layers(){const l=this.options,s=l.ticks&&l.ticks.z||0,c=(0,d.v)(l.grid&&l.grid.z,-1),f=(0,d.v)(l.border&&l.border.z,0);return this._isVisible()&&this.draw===ve.prototype.draw?[{z:c,draw:_=>{this.drawBackground(),this.drawGrid(_),this.drawTitle()}},{z:f,draw:()=>{this.drawBorder()}},{z:s,draw:_=>{this.drawLabels(_)}}]:[{z:s,draw:_=>{this.draw(_)}}]}getMatchingVisibleMetas(l){const s=this.chart.getSortedVisibleDatasetMetas(),c=this.axis+"AxisID",f=[];let _,I;for(_=0,I=s.length;_<I;++_){const A=s[_];A[c]===this.id&&(!l||A.type===l)&&f.push(A)}return f}_resolveTickFontOptions(l){const s=this.options.ticks.setContext(this.getContext(l));return(0,d.a0)(s.font)}_maxDigits(){const l=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/l}}class st{constructor(l,s,c){this.type=l,this.scope=s,this.override=c,this.items=Object.create(null)}isForType(l){return Object.prototype.isPrototypeOf.call(this.type.prototype,l.prototype)}register(l){const s=Object.getPrototypeOf(l);let c;(function tn(m){return"id"in m&&"defaults"in m})(s)&&(c=this.register(s));const f=this.items,_=l.id,I=this.scope+"."+_;if(!_)throw new Error("class does not have id: "+l);return _ in f||(f[_]=l,function wt(m,l,s){const c=(0,d.a4)(Object.create(null),[s?d.d.get(s):{},d.d.get(l),m.defaults]);d.d.set(l,c),m.defaultRoutes&&function $t(m,l){Object.keys(l).forEach(s=>{const c=s.split("."),f=c.pop(),_=[m].concat(c).join("."),I=l[s].split("."),A=I.pop(),k=I.join(".");d.d.route(_,f,k,A)})}(l,m.defaultRoutes),m.descriptors&&d.d.describe(l,m.descriptors)}(l,I,c),this.override&&d.d.override(l.id,l.overrides)),I}get(l){return this.items[l]}unregister(l){const s=this.items,c=l.id,f=this.scope;c in s&&delete s[c],f&&c in d.d[f]&&(delete d.d[f][c],this.override&&delete d.a3[c])}}class Un{constructor(){this.controllers=new st(Lt,"datasets",!0),this.elements=new st(Xr,"elements"),this.plugins=new st(Object,"plugins"),this.scales=new st(ve,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...l){this._each("register",l)}remove(...l){this._each("unregister",l)}addControllers(...l){this._each("register",l,this.controllers)}addElements(...l){this._each("register",l,this.elements)}addPlugins(...l){this._each("register",l,this.plugins)}addScales(...l){this._each("register",l,this.scales)}getController(l){return this._get(l,this.controllers,"controller")}getElement(l){return this._get(l,this.elements,"element")}getPlugin(l){return this._get(l,this.plugins,"plugin")}getScale(l){return this._get(l,this.scales,"scale")}removeControllers(...l){this._each("unregister",l,this.controllers)}removeElements(...l){this._each("unregister",l,this.elements)}removePlugins(...l){this._each("unregister",l,this.plugins)}removeScales(...l){this._each("unregister",l,this.scales)}_each(l,s,c){[...s].forEach(f=>{const _=c||this._getRegistryForType(f);c||_.isForType(f)||_===this.plugins&&f.id?this._exec(l,_,f):(0,d.F)(f,I=>{const A=c||this._getRegistryForType(I);this._exec(l,A,I)})})}_exec(l,s,c){const f=(0,d.a5)(l);(0,d.Q)(c["before"+f],[],c),s[l](c),(0,d.Q)(c["after"+f],[],c)}_getRegistryForType(l){for(let s=0;s<this._typedRegistries.length;s++){const c=this._typedRegistries[s];if(c.isForType(l))return c}return this.plugins}_get(l,s,c){const f=s.get(l);if(void 0===f)throw new Error('"'+l+'" is not a registered '+c+".");return f}}var jn=new Un;class Nr{constructor(){this._init=[]}notify(l,s,c,f){"beforeInit"===s&&(this._init=this._createDescriptors(l,!0),this._notify(this._init,l,"install"));const _=f?this._descriptors(l).filter(f):this._descriptors(l),I=this._notify(_,l,s,c);return"afterDestroy"===s&&(this._notify(_,l,"stop"),this._notify(this._init,l,"uninstall")),I}_notify(l,s,c,f){f=f||{};for(const _ of l){const I=_.plugin;if(!1===(0,d.Q)(I[c],[s,f,_.options],I)&&f.cancelable)return!1}return!0}invalidate(){(0,d.k)(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(l){if(this._cache)return this._cache;const s=this._cache=this._createDescriptors(l);return this._notifyStateChanges(l),s}_createDescriptors(l,s){const c=l&&l.config,f=(0,d.v)(c.options&&c.options.plugins,{}),_=function Kr(m){const l={},s=[],c=Object.keys(jn.plugins.items);for(let _=0;_<c.length;_++)s.push(jn.getPlugin(c[_]));const f=m.plugins||[];for(let _=0;_<f.length;_++){const I=f[_];-1===s.indexOf(I)&&(s.push(I),l[I.id]=!0)}return{plugins:s,localIds:l}}(c);return!1!==f||s?function Xi(m,{plugins:l,localIds:s},c,f){const _=[],I=m.getContext();for(const A of l){const k=A.id,K=gs(c[k],f);null!==K&&_.push({plugin:A,options:Si(m.config,{plugin:A,local:s[k]},K,I)})}return _}(l,_,f,s):[]}_notifyStateChanges(l){const s=this._oldCache||[],c=this._cache,f=(_,I)=>_.filter(A=>!I.some(k=>A.plugin.id===k.plugin.id));this._notify(f(s,c),l,"stop"),this._notify(f(c,s),l,"start")}}function gs(m,l){return l||!1!==m?!0===m?{}:m:null}function Si(m,{plugin:l,local:s},c,f){const _=m.pluginScopeKeys(l),I=m.getOptionScopes(c,_);return s&&l.defaults&&I.push(l.defaults),m.createResolver(I,f,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Mr(m,l){return((l.datasets||{})[m]||{}).indexAxis||l.indexAxis||(d.d.datasets[m]||{}).indexAxis||"x"}function Lr(m){if("x"===m||"y"===m||"r"===m)return m}function Ds(m){return"top"===m||"bottom"===m?"x":"left"===m||"right"===m?"y":void 0}function Ao(m,...l){if(Lr(m))return m;for(const s of l){const c=s.axis||Ds(s.position)||m.length>1&&Lr(m[0].toLowerCase());if(c)return c}throw new Error(`Cannot determine type of '${m}' axis. Please provide 'axis' or 'position' option.`)}function is(m,l,s){if(s[l+"AxisID"]===m)return{axis:l}}function zr(m){const l=m.options||(m.options={});l.plugins=(0,d.v)(l.plugins,{}),l.scales=function Qr(m,l){const s=d.a3[m.type]||{scales:{}},c=l.scales||{},f=Mr(m.type,l),_=Object.create(null);return Object.keys(c).forEach(I=>{const A=c[I];if(!(0,d.i)(A))return console.error(`Invalid scale configuration for scale: ${I}`);if(A._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${I}`);const k=Ao(I,A,function wo(m,l){if(l.data&&l.data.datasets){const s=l.data.datasets.filter(c=>c.xAxisID===m||c.yAxisID===m);if(s.length)return is(m,"x",s[0])||is(m,"y",s[0])}return{}}(I,m),d.d.scales[A.type]),K=function Fr(m,l){return m===l?"_index_":"_value_"}(k,f),de=s.scales||{};_[I]=(0,d.ab)(Object.create(null),[{axis:k},A,de[k],de[K]])}),m.data.datasets.forEach(I=>{const A=I.type||m.type,k=I.indexAxis||Mr(A,l),de=(d.a3[A]||{}).scales||{};Object.keys(de).forEach(Ce=>{const ze=function An(m,l){let s=m;return"_index_"===m?s=l:"_value_"===m&&(s="x"===l?"y":"x"),s}(Ce,k),Qe=I[ze+"AxisID"]||ze;_[Qe]=_[Qe]||Object.create(null),(0,d.ab)(_[Qe],[{axis:ze},c[Qe],de[Ce]])})}),Object.keys(_).forEach(I=>{const A=_[I];(0,d.ab)(A,[d.d.scales[A.type],d.d.scale])}),_}(m,l)}function zi(m){return(m=m||{}).datasets=m.datasets||[],m.labels=m.labels||[],m}const ao=new Map,ms=new Set;function Ni(m,l){let s=ao.get(m);return s||(s=l(),ao.set(m,s),ms.add(s)),s}const Qi=(m,l,s)=>{const c=(0,d.f)(l,s);void 0!==c&&m.add(c)};class no{constructor(l){this._config=function Yr(m){return(m=m||{}).data=zi(m.data),zr(m),m}(l),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(l){this._config.type=l}get data(){return this._config.data}set data(l){this._config.data=zi(l)}get options(){return this._config.options}set options(l){this._config.options=l}get plugins(){return this._config.plugins}update(){const l=this._config;this.clearCache(),zr(l)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(l){return Ni(l,()=>[[`datasets.${l}`,""]])}datasetAnimationScopeKeys(l,s){return Ni(`${l}.transition.${s}`,()=>[[`datasets.${l}.transitions.${s}`,`transitions.${s}`],[`datasets.${l}`,""]])}datasetElementScopeKeys(l,s){return Ni(`${l}-${s}`,()=>[[`datasets.${l}.elements.${s}`,`datasets.${l}`,`elements.${s}`,""]])}pluginScopeKeys(l){const s=l.id;return Ni(`${this.type}-plugin-${s}`,()=>[[`plugins.${s}`,...l.additionalOptionScopes||[]]])}_cachedScopes(l,s){const c=this._scopeCache;let f=c.get(l);return(!f||s)&&(f=new Map,c.set(l,f)),f}getOptionScopes(l,s,c){const{options:f,type:_}=this,I=this._cachedScopes(l,c),A=I.get(s);if(A)return A;const k=new Set;s.forEach(de=>{l&&(k.add(l),de.forEach(Ce=>Qi(k,l,Ce))),de.forEach(Ce=>Qi(k,f,Ce)),de.forEach(Ce=>Qi(k,d.a3[_]||{},Ce)),de.forEach(Ce=>Qi(k,d.d,Ce)),de.forEach(Ce=>Qi(k,d.a6,Ce))});const K=Array.from(k);return 0===K.length&&K.push(Object.create(null)),ms.has(s)&&I.set(s,K),K}chartOptionScopes(){const{options:l,type:s}=this;return[l,d.a3[s]||{},d.d.datasets[s]||{},{type:s},d.d,d.a6]}resolveNamedOptions(l,s,c,f=[""]){const _={$shared:!0},{resolver:I,subPrefixes:A}=fo(this._resolverCache,l,f);let k=I;if(function Io(m,l){const{isScriptable:s,isIndexable:c}=(0,d.aa)(m);for(const f of l){const _=s(f),I=c(f),A=(I||_)&&m[f];if(_&&((0,d.a7)(A)||Qs(A))||I&&(0,d.b)(A))return!0}return!1}(I,s)){_.$shared=!1,c=(0,d.a7)(c)?c():c;const K=this.createResolver(l,c,A);k=(0,d.a8)(I,c,K)}for(const K of s)_[K]=k[K];return _}createResolver(l,s,c=[""],f){const{resolver:_}=fo(this._resolverCache,l,c);return(0,d.i)(s)?(0,d.a8)(_,s,void 0,f):_}}function fo(m,l,s){let c=m.get(l);c||(c=new Map,m.set(l,c));const f=s.join();let _=c.get(f);return _||(_={resolver:(0,d.a9)(l,s),subPrefixes:s.filter(A=>!A.toLowerCase().includes("hover"))},c.set(f,_)),_}const Qs=m=>(0,d.i)(m)&&Object.getOwnPropertyNames(m).reduce((l,s)=>l||(0,d.a7)(m[s]),!1),Hs=["top","bottom","left","right","chartArea"];function lo(m,l){return"top"===m||"bottom"===m||-1===Hs.indexOf(m)&&"x"===l}function Ho(m,l){return function(s,c){return s[m]===c[m]?s[l]-c[l]:s[m]-c[m]}}function ys(m){const l=m.chart,s=l.options.animation;l.notifyPlugins("afterRender"),(0,d.Q)(s&&s.onComplete,[m],l)}function xi(m){const l=m.chart,s=l.options.animation;(0,d.Q)(s&&s.onProgress,[m],l)}function Ws(m){return(0,d.M)()&&"string"==typeof m?m=document.getElementById(m):m&&m.length&&(m=m[0]),m&&m.canvas&&(m=m.canvas),m}const Es={},Oi=m=>{const l=Ws(m);return Object.values(Es).filter(s=>s.canvas===l).pop()};function Ss(m,l,s){const c=Object.keys(m);for(const f of c){const _=+f;if(_>=l){const I=m[f];delete m[f],(s>0||_>l)&&(m[_+s]=I)}}}function qs(m,l,s){return m.options.clip?m[s]:l[s]}let vs=(()=>{class m{static register(...s){jn.add(...s),Do()}static unregister(...s){jn.remove(...s),Do()}constructor(s,c){const f=this.config=new no(c),_=Ws(s),I=Oi(_);if(I)throw new Error("Canvas is already in use. Chart with ID '"+I.id+"' must be destroyed before the canvas with ID '"+I.canvas.id+"' can be reused.");const A=f.createResolver(f.chartOptionScopes(),this.getContext());this.platform=new(f.platform||function Fi(m){return!(0,d.M)()||typeof OffscreenCanvas<"u"&&m instanceof OffscreenCanvas?ie:$r}(_)),this.platform.updateConfig(f);const k=this.platform.acquireContext(_,A.aspectRatio),K=k&&k.canvas,de=K&&K.height,Ce=K&&K.width;this.id=(0,d.ac)(),this.ctx=k,this.canvas=K,this.width=Ce,this.height=de,this._options=A,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new Nr,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=(0,d.ad)(ze=>this.update(ze),A.resizeDelay||0),this._dataChanges=[],Es[this.id]=this,k&&K?(be.listen(this,"complete",ys),be.listen(this,"progress",xi),this._initialize(),this.attached&&this.update()):console.error("Failed to create chart: can't acquire context from the given item")}get aspectRatio(){const{options:{aspectRatio:s,maintainAspectRatio:c},width:f,height:_,_aspectRatio:I}=this;return(0,d.k)(s)?c&&I?I:_?f/_:null:s}get data(){return this.config.data}set data(s){this.config.data=s}get options(){return this._options}set options(s){this.config.options=s}get registry(){return jn}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():(0,d.ae)(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return(0,d.af)(this.canvas,this.ctx),this}stop(){return be.stop(this),this}resize(s,c){be.running(this)?this._resizeBeforeDraw={width:s,height:c}:this._resize(s,c)}_resize(s,c){const f=this.options,A=this.platform.getMaximumSize(this.canvas,s,c,f.maintainAspectRatio&&this.aspectRatio),k=f.devicePixelRatio||this.platform.getDevicePixelRatio(),K=this.width?"resize":"attach";this.width=A.width,this.height=A.height,this._aspectRatio=this.aspectRatio,(0,d.ae)(this,k,!0)&&(this.notifyPlugins("resize",{size:A}),(0,d.Q)(f.onResize,[this,A],this),this.attached&&this._doResize(K)&&this.render())}ensureScalesHaveIDs(){(0,d.F)(this.options.scales||{},(f,_)=>{f.id=_})}buildOrUpdateScales(){const s=this.options,c=s.scales,f=this.scales,_=Object.keys(f).reduce((A,k)=>(A[k]=!1,A),{});let I=[];c&&(I=I.concat(Object.keys(c).map(A=>{const k=c[A],K=Ao(A,k),de="r"===K,Ce="x"===K;return{options:k,dposition:de?"chartArea":Ce?"bottom":"left",dtype:de?"radialLinear":Ce?"category":"linear"}}))),(0,d.F)(I,A=>{const k=A.options,K=k.id,de=Ao(K,k),Ce=(0,d.v)(k.type,A.dtype);(void 0===k.position||lo(k.position,de)!==lo(A.dposition))&&(k.position=A.dposition),_[K]=!0;let ze=null;K in f&&f[K].type===Ce?ze=f[K]:(ze=new(jn.getScale(Ce))({id:K,type:Ce,ctx:this.ctx,chart:this}),f[ze.id]=ze),ze.init(k,s)}),(0,d.F)(_,(A,k)=>{A||delete f[k]}),(0,d.F)(f,A=>{mt.configure(this,A,A.options),mt.addBox(this,A)})}_updateMetasets(){const s=this._metasets,c=this.data.datasets.length,f=s.length;if(s.sort((_,I)=>_.index-I.index),f>c){for(let _=c;_<f;++_)this._destroyDatasetMeta(_);s.splice(c,f-c)}this._sortedMetasets=s.slice(0).sort(Ho("order","index"))}_removeUnreferencedMetasets(){const{_metasets:s,data:{datasets:c}}=this;s.length>c.length&&delete this._stacks,s.forEach((f,_)=>{0===c.filter(I=>I===f._dataset).length&&this._destroyDatasetMeta(_)})}buildOrUpdateControllers(){const s=[],c=this.data.datasets;let f,_;for(this._removeUnreferencedMetasets(),f=0,_=c.length;f<_;f++){const I=c[f];let A=this.getDatasetMeta(f);const k=I.type||this.config.type;if(A.type&&A.type!==k&&(this._destroyDatasetMeta(f),A=this.getDatasetMeta(f)),A.type=k,A.indexAxis=I.indexAxis||Mr(k,this.options),A.order=I.order||0,A.index=f,A.label=""+I.label,A.visible=this.isDatasetVisible(f),A.controller)A.controller.updateIndex(f),A.controller.linkScales();else{const K=jn.getController(k),{datasetElementType:de,dataElementType:Ce}=d.d.datasets[k];Object.assign(K,{dataElementType:jn.getElement(Ce),datasetElementType:de&&jn.getElement(de)}),A.controller=new K(this,f),s.push(A.controller)}}return this._updateMetasets(),s}_resetElements(){(0,d.F)(this.data.datasets,(s,c)=>{this.getDatasetMeta(c).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(s){const c=this.config;c.update();const f=this._options=c.createResolver(c.chartOptionScopes(),this.getContext()),_=this._animationsDisabled=!f.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),!1===this.notifyPlugins("beforeUpdate",{mode:s,cancelable:!0}))return;const I=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let A=0;for(let de=0,Ce=this.data.datasets.length;de<Ce;de++){const{controller:ze}=this.getDatasetMeta(de),Qe=!_&&-1===I.indexOf(ze);ze.buildOrUpdateElements(Qe),A=Math.max(+ze.getMaxOverflow(),A)}A=this._minPadding=f.layout.autoPadding?A:0,this._updateLayout(A),_||(0,d.F)(I,de=>{de.reset()}),this._updateDatasets(s),this.notifyPlugins("afterUpdate",{mode:s}),this._layers.sort(Ho("z","_idx"));const{_active:k,_lastEvent:K}=this;K?this._eventHandler(K,!0):k.length&&this._updateHoverStyles(k,k,!0),this.render()}_updateScales(){(0,d.F)(this.scales,s=>{mt.removeBox(this,s)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const s=this.options,c=new Set(Object.keys(this._listeners)),f=new Set(s.events);(!(0,d.ag)(c,f)||!!this._responsiveListeners!==s.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:s}=this,c=this._getUniformDataChanges()||[];for(const{method:f,start:_,count:I}of c)Ss(s,_,"_removeElements"===f?-I:I)}_getUniformDataChanges(){const s=this._dataChanges;if(!s||!s.length)return;this._dataChanges=[];const c=this.data.datasets.length,f=I=>new Set(s.filter(A=>A[0]===I).map((A,k)=>k+","+A.splice(1).join(","))),_=f(0);for(let I=1;I<c;I++)if(!(0,d.ag)(_,f(I)))return;return Array.from(_).map(I=>I.split(",")).map(I=>({method:I[1],start:+I[2],count:+I[3]}))}_updateLayout(s){if(!1===this.notifyPlugins("beforeLayout",{cancelable:!0}))return;mt.update(this,this.width,this.height,s);const c=this.chartArea,f=c.width<=0||c.height<=0;this._layers=[],(0,d.F)(this.boxes,_=>{f&&"chartArea"===_.position||(_.configure&&_.configure(),this._layers.push(..._._layers()))},this),this._layers.forEach((_,I)=>{_._idx=I}),this.notifyPlugins("afterLayout")}_updateDatasets(s){if(!1!==this.notifyPlugins("beforeDatasetsUpdate",{mode:s,cancelable:!0})){for(let c=0,f=this.data.datasets.length;c<f;++c)this.getDatasetMeta(c).controller.configure();for(let c=0,f=this.data.datasets.length;c<f;++c)this._updateDataset(c,(0,d.a7)(s)?s({datasetIndex:c}):s);this.notifyPlugins("afterDatasetsUpdate",{mode:s})}}_updateDataset(s,c){const f=this.getDatasetMeta(s),_={meta:f,index:s,mode:c,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetUpdate",_)&&(f.controller._update(c),_.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",_))}render(){!1!==this.notifyPlugins("beforeRender",{cancelable:!0})&&(be.has(this)?this.attached&&!be.running(this)&&be.start(this):(this.draw(),ys({chart:this})))}draw(){let s;if(this._resizeBeforeDraw){const{width:f,height:_}=this._resizeBeforeDraw;this._resize(f,_),this._resizeBeforeDraw=null}if(this.clear(),this.width<=0||this.height<=0||!1===this.notifyPlugins("beforeDraw",{cancelable:!0}))return;const c=this._layers;for(s=0;s<c.length&&c[s].z<=0;++s)c[s].draw(this.chartArea);for(this._drawDatasets();s<c.length;++s)c[s].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(s){const c=this._sortedMetasets,f=[];let _,I;for(_=0,I=c.length;_<I;++_){const A=c[_];(!s||A.visible)&&f.push(A)}return f}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(!1===this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0}))return;const s=this.getSortedVisibleDatasetMetas();for(let c=s.length-1;c>=0;--c)this._drawDataset(s[c]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(s){const c=this.ctx,f=s._clip,_=!f.disabled,I=function Ls(m,l){const{xScale:s,yScale:c}=m;return s&&c?{left:qs(s,l,"left"),right:qs(s,l,"right"),top:qs(c,l,"top"),bottom:qs(c,l,"bottom")}:l}(s,this.chartArea),A={meta:s,index:s.index,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetDraw",A)&&(_&&(0,d.Y)(c,{left:!1===f.left?0:I.left-f.left,right:!1===f.right?this.width:I.right+f.right,top:!1===f.top?0:I.top-f.top,bottom:!1===f.bottom?this.height:I.bottom+f.bottom}),s.controller.draw(),_&&(0,d.$)(c),A.cancelable=!1,this.notifyPlugins("afterDatasetDraw",A))}isPointInArea(s){return(0,d.C)(s,this.chartArea,this._minPadding)}getElementsAtEventForMode(s,c,f,_){const I=gi.modes[c];return"function"==typeof I?I(this,s,f,_):[]}getDatasetMeta(s){const c=this.data.datasets[s],f=this._metasets;let _=f.filter(I=>I&&I._dataset===c).pop();return _||(_={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:c&&c.order||0,index:s,_dataset:c,_parsed:[],_sorted:!1},f.push(_)),_}getContext(){return this.$context||(this.$context=(0,d.j)(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(s){const c=this.data.datasets[s];if(!c)return!1;const f=this.getDatasetMeta(s);return"boolean"==typeof f.hidden?!f.hidden:!c.hidden}setDatasetVisibility(s,c){this.getDatasetMeta(s).hidden=!c}toggleDataVisibility(s){this._hiddenIndices[s]=!this._hiddenIndices[s]}getDataVisibility(s){return!this._hiddenIndices[s]}_updateVisibility(s,c,f){const _=f?"show":"hide",I=this.getDatasetMeta(s),A=I.controller._resolveAnimations(void 0,_);(0,d.h)(c)?(I.data[c].hidden=!f,this.update()):(this.setDatasetVisibility(s,f),A.update(I,{visible:f}),this.update(k=>k.datasetIndex===s?_:void 0))}hide(s,c){this._updateVisibility(s,c,!1)}show(s,c){this._updateVisibility(s,c,!0)}_destroyDatasetMeta(s){const c=this._metasets[s];c&&c.controller&&c.controller._destroy(),delete this._metasets[s]}_stop(){let s,c;for(this.stop(),be.remove(this),s=0,c=this.data.datasets.length;s<c;++s)this._destroyDatasetMeta(s)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:s,ctx:c}=this;this._stop(),this.config.clearCache(),s&&(this.unbindEvents(),(0,d.af)(s,c),this.platform.releaseContext(c),this.canvas=null,this.ctx=null),delete Es[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...s){return this.canvas.toDataURL(...s)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const s=this._listeners,c=this.platform,f=(I,A)=>{c.addEventListener(this,I,A),s[I]=A},_=(I,A,k)=>{I.offsetX=A,I.offsetY=k,this._eventHandler(I)};(0,d.F)(this.options.events,I=>f(I,_))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const s=this._responsiveListeners,c=this.platform,f=(K,de)=>{c.addEventListener(this,K,de),s[K]=de},_=(K,de)=>{s[K]&&(c.removeEventListener(this,K,de),delete s[K])},I=(K,de)=>{this.canvas&&this.resize(K,de)};let A;const k=()=>{_("attach",k),this.attached=!0,this.resize(),f("resize",I),f("detach",A)};A=()=>{this.attached=!1,_("resize",I),this._stop(),this._resize(0,0),f("attach",k)},c.isAttached(this.canvas)?k():A()}unbindEvents(){(0,d.F)(this._listeners,(s,c)=>{this.platform.removeEventListener(this,c,s)}),this._listeners={},(0,d.F)(this._responsiveListeners,(s,c)=>{this.platform.removeEventListener(this,c,s)}),this._responsiveListeners=void 0}updateHoverStyle(s,c,f){const _=f?"set":"remove";let I,A,k,K;for("dataset"===c&&(I=this.getDatasetMeta(s[0].datasetIndex),I.controller["_"+_+"DatasetHoverStyle"]()),k=0,K=s.length;k<K;++k){A=s[k];const de=A&&this.getDatasetMeta(A.datasetIndex).controller;de&&de[_+"HoverStyle"](A.element,A.datasetIndex,A.index)}}getActiveElements(){return this._active||[]}setActiveElements(s){const c=this._active||[],f=s.map(({datasetIndex:I,index:A})=>{const k=this.getDatasetMeta(I);if(!k)throw new Error("No dataset found at index "+I);return{datasetIndex:I,element:k.data[A],index:A}});!(0,d.ah)(f,c)&&(this._active=f,this._lastEvent=null,this._updateHoverStyles(f,c))}notifyPlugins(s,c,f){return this._plugins.notify(this,s,c,f)}isPluginEnabled(s){return 1===this._plugins._cache.filter(c=>c.plugin.id===s).length}_updateHoverStyles(s,c,f){const _=this.options.hover,I=(K,de)=>K.filter(Ce=>!de.some(ze=>Ce.datasetIndex===ze.datasetIndex&&Ce.index===ze.index)),A=I(c,s),k=f?s:I(s,c);A.length&&this.updateHoverStyle(A,_.mode,!1),k.length&&_.mode&&this.updateHoverStyle(k,_.mode,!0)}_eventHandler(s,c){const f={event:s,replay:c,cancelable:!0,inChartArea:this.isPointInArea(s)},_=A=>(A.options.events||this.options.events).includes(s.native.type);if(!1===this.notifyPlugins("beforeEvent",f,_))return;const I=this._handleEvent(s,c,f.inChartArea);return f.cancelable=!1,this.notifyPlugins("afterEvent",f,_),(I||f.changed)&&this.render(),this}_handleEvent(s,c,f){const{_active:_=[],options:I}=this,k=this._getActiveElements(s,_,f,c),K=(0,d.ai)(s),de=function co(m,l,s,c){return s&&"mouseout"!==m.type?c?l:m:null}(s,this._lastEvent,f,K);f&&(this._lastEvent=null,(0,d.Q)(I.onHover,[s,k,this],this),K&&(0,d.Q)(I.onClick,[s,k,this],this));const Ce=!(0,d.ah)(k,_);return(Ce||c)&&(this._active=k,this._updateHoverStyles(k,_,c)),this._lastEvent=de,Ce}_getActiveElements(s,c,f,_){if("mouseout"===s.type)return[];if(!f)return c;const I=this.options.hover;return this.getElementsAtEventForMode(s,I.mode,I,_)}}return m.defaults=d.d,m.instances=Es,m.overrides=d.a3,m.registry=jn,m.version="4.4.0",m.getChart=Oi,m})();function Do(){return(0,d.F)(vs.instances,m=>m._plugins.invalidate())}function No(m,l,s,c){return{x:s+m*Math.cos(l),y:c+m*Math.sin(l)}}function uo(m,l,s,c,f,_){const{x:I,y:A,startAngle:k,pixelMargin:K,innerRadius:de}=l,Ce=Math.max(l.outerRadius+c+s-K,0),ze=de>0?de+c+s+K:0;let Qe=0;const Et=f-k;if(c){const Ir=((de>0?de-c:0)+(Ce>0?Ce-c:0))/2;Qe=(Et-(0!==Ir?Et*Ir/(Ir+c):Et))/2}const Zt=(Et-Math.max(.001,Et*Ce-s/d.P)/Ce)/2,In=k+Zt+Qe,En=f-Zt-Qe,{outerStart:er,outerEnd:Qn,innerStart:Yn,innerEnd:sr}=function Wo(m,l,s,c){const f=function ki(m){return(0,d.ak)(m,["outerStart","outerEnd","innerStart","innerEnd"])}(m.options.borderRadius),_=(s-l)/2,I=Math.min(_,c*l/2),A=k=>{const K=(s-Math.min(_,k))*c/2;return(0,d.S)(k,0,Math.min(_,K))};return{outerStart:A(f.outerStart),outerEnd:A(f.outerEnd),innerStart:(0,d.S)(f.innerStart,0,I),innerEnd:(0,d.S)(f.innerEnd,0,I)}}(l,ze,Ce,En-In),dr=Ce-er,vr=Ce-Qn,fi=In+er/dr,Ri=En-Qn/vr,Vr=ze+Yn,fs=ze+sr,Rs=In+Yn/Vr,os=En-sr/fs;if(m.beginPath(),_){const Vs=(fi+Ri)/2;if(m.arc(I,A,Ce,fi,Vs),m.arc(I,A,Ce,Vs,Ri),Qn>0){const Ki=No(vr,Ri,I,A);m.arc(Ki.x,Ki.y,Qn,Ri,En+d.H)}const wr=No(fs,En,I,A);if(m.lineTo(wr.x,wr.y),sr>0){const Ki=No(fs,os,I,A);m.arc(Ki.x,Ki.y,sr,En+d.H,os+Math.PI)}const Ir=(En-sr/ze+(In+Yn/ze))/2;if(m.arc(I,A,ze,En-sr/ze,Ir,!0),m.arc(I,A,ze,Ir,In+Yn/ze,!0),Yn>0){const Ki=No(Vr,Rs,I,A);m.arc(Ki.x,Ki.y,Yn,Rs+Math.PI,In-d.H)}const wi=No(dr,In,I,A);if(m.lineTo(wi.x,wi.y),er>0){const Ki=No(dr,fi,I,A);m.arc(Ki.x,Ki.y,er,In-d.H,fi)}}else{m.moveTo(I,A);const Vs=Math.cos(fi)*Ce+I,wr=Math.sin(fi)*Ce+A;m.lineTo(Vs,wr);const Ir=Math.cos(Ri)*Ce+I,wi=Math.sin(Ri)*Ce+A;m.lineTo(Ir,wi)}m.closePath()}class Go extends Xr{constructor(l){super(),this.circumference=void 0,this.endAngle=void 0,this.fullCircles=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=void 0,this.startAngle=void 0,this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,l&&Object.assign(this,l)}inRange(l,s,c){const f=this.getProps(["x","y"],c),{angle:_,distance:I}=(0,d.D)(f,{x:l,y:s}),{startAngle:A,endAngle:k,innerRadius:K,outerRadius:de,circumference:Ce}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],c),ze=(this.options.spacing+this.options.borderWidth)/2,Et=(0,d.v)(Ce,k-A)>=d.T||(0,d.p)(_,A,k),At=(0,d.aj)(I,K+ze,de+ze);return Et&&At}getCenterPoint(l){const{x:s,y:c,startAngle:f,endAngle:_,innerRadius:I,outerRadius:A}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],l),{offset:k,spacing:K}=this.options,de=(f+_)/2,Ce=(I+A+K+k)/2;return{x:s+Math.cos(de)*Ce,y:c+Math.sin(de)*Ce}}tooltipPosition(l){return this.getCenterPoint(l)}draw(l){const{options:s,circumference:c}=this,f=(s.offset||0)/4,_=(s.spacing||0)/2,I=s.circular;if(this.pixelMargin="inner"===s.borderAlign?.33:0,this.fullCircles=c>d.T?Math.floor(c/d.T):0,0===c||this.innerRadius<0||this.outerRadius<0)return;l.save();const A=(this.startAngle+this.endAngle)/2;l.translate(Math.cos(A)*f,Math.sin(A)*f);const K=f*(1-Math.sin(Math.min(d.P,c||0)));l.fillStyle=s.backgroundColor,l.strokeStyle=s.borderColor,function So(m,l,s,c,f){const{fullCircles:_,startAngle:I,circumference:A}=l;let k=l.endAngle;if(_){uo(m,l,s,c,k,f);for(let K=0;K<_;++K)m.fill();isNaN(A)||(k=I+(A%d.T||d.T))}uo(m,l,s,c,k,f),m.fill()}(l,this,K,_,I),function po(m,l,s,c,f){const{fullCircles:_,startAngle:I,circumference:A,options:k}=l,{borderWidth:K,borderJoinStyle:de,borderDash:Ce,borderDashOffset:ze}=k,Qe="inner"===k.borderAlign;if(!K)return;m.setLineDash(Ce||[]),m.lineDashOffset=ze,Qe?(m.lineWidth=2*K,m.lineJoin=de||"round"):(m.lineWidth=K,m.lineJoin=de||"bevel");let Et=l.endAngle;if(_){uo(m,l,s,c,Et,f);for(let At=0;At<_;++At)m.stroke();isNaN(A)||(Et=I+(A%d.T||d.T))}Qe&&function ro(m,l,s){const{startAngle:c,pixelMargin:f,x:_,y:I,outerRadius:A,innerRadius:k}=l;let K=f/A;m.beginPath(),m.arc(_,I,A,c-K,s+K),k>f?(K=f/k,m.arc(_,I,k,s+K,c-K,!0)):m.arc(_,I,f,s+d.H,c-d.H),m.closePath(),m.clip()}(m,l,Et),_||(uo(m,l,s,c,Et,f),m.stroke())}(l,this,K,_,I),l.restore()}}function go(m,l,s=l){m.lineCap=(0,d.v)(s.borderCapStyle,l.borderCapStyle),m.setLineDash((0,d.v)(s.borderDash,l.borderDash)),m.lineDashOffset=(0,d.v)(s.borderDashOffset,l.borderDashOffset),m.lineJoin=(0,d.v)(s.borderJoinStyle,l.borderJoinStyle),m.lineWidth=(0,d.v)(s.borderWidth,l.borderWidth),m.strokeStyle=(0,d.v)(s.borderColor,l.borderColor)}function Ts(m,l,s){m.lineTo(s.x,s.y)}function us(m,l,s={}){const c=m.length,{start:f=0,end:_=c-1}=s,{start:I,end:A}=l,k=Math.max(f,I),K=Math.min(_,A);return{count:c,start:k,loop:l.loop,ilen:K<k&&!(f<I&&_<I||f>A&&_>A)?c+K-k:K-k}}function Mo(m,l,s,c){const{points:f,options:_}=l,{count:I,start:A,loop:k,ilen:K}=us(f,s,c),de=function xo(m){return m.stepped?d.ar:m.tension||"monotone"===m.cubicInterpolationMode?d.as:Ts}(_);let Qe,Et,At,{move:Ce=!0,reverse:ze}=c||{};for(Qe=0;Qe<=K;++Qe)Et=f[(A+(ze?K-Qe:Qe))%I],!Et.skip&&(Ce?(m.moveTo(Et.x,Et.y),Ce=!1):de(m,At,Et,ze,_.stepped),At=Et);return k&&(Et=f[(A+(ze?K:0))%I],de(m,At,Et,ze,_.stepped)),!!k}function To(m,l,s,c){const f=l.points,{count:_,start:I,ilen:A}=us(f,s,c),{move:k=!0,reverse:K}=c||{};let ze,Qe,Et,At,Zt,In,de=0,Ce=0;const En=Qn=>(I+(K?A-Qn:Qn))%_,er=()=>{At!==Zt&&(m.lineTo(de,Zt),m.lineTo(de,At),m.lineTo(de,In))};for(k&&(Qe=f[En(0)],m.moveTo(Qe.x,Qe.y)),ze=0;ze<=A;++ze){if(Qe=f[En(ze)],Qe.skip)continue;const Qn=Qe.x,Yn=Qe.y,sr=0|Qn;sr===Et?(Yn<At?At=Yn:Yn>Zt&&(Zt=Yn),de=(Ce*de+Qn)/++Ce):(er(),m.lineTo(Qn,Yn),Et=sr,Ce=0,At=Zt=Yn),In=Yn}er()}function Bo(m){const l=m.options;return m._decimated||m._loop||l.tension||"monotone"===l.cubicInterpolationMode||l.stepped||l.borderDash&&l.borderDash.length?Mo:To}Go.id="arc",Go.defaults={borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0},Go.defaultRoutes={backgroundColor:"backgroundColor"},Go.descriptors={_scriptable:!0,_indexable:m=>"borderDash"!==m};const N="function"==typeof Path2D;let Ge=(()=>{class m extends Xr{constructor(s){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,s&&Object.assign(this,s)}updateControlPoints(s,c){const f=this.options;!f.tension&&"monotone"!==f.cubicInterpolationMode||f.stepped||this._pointsUpdated||((0,d.al)(this._points,f,s,f.spanGaps?this._loop:this._fullLoop,c),this._pointsUpdated=!0)}set points(s){this._points=s,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=(0,d.am)(this,this.options.segment))}first(){const s=this.segments;return s.length&&this.points[s[0].start]}last(){const s=this.segments,f=s.length;return f&&this.points[s[f-1].end]}interpolate(s,c){const f=this.options,_=s[c],I=this.points,A=(0,d.an)(this,{property:c,start:_,end:_});if(!A.length)return;const k=[],K=function $i(m){return m.stepped?d.ao:m.tension||"monotone"===m.cubicInterpolationMode?d.ap:d.aq}(f);let de,Ce;for(de=0,Ce=A.length;de<Ce;++de){const{start:ze,end:Qe}=A[de],Et=I[ze],At=I[Qe];if(Et===At){k.push(Et);continue}const In=K(Et,At,Math.abs((_-Et[c])/(At[c]-Et[c])),f.stepped);In[c]=s[c],k.push(In)}return 1===k.length?k[0]:k}pathSegment(s,c,f){return Bo(this)(s,this,c,f)}path(s,c,f){const _=this.segments,I=Bo(this);let A=this._loop;c=c||0,f=f||this.points.length-c;for(const k of _)A&=I(s,this,k,{start:c,end:c+f-1});return!!A}draw(s,c,f,_){(this.points||[]).length&&(this.options||{}).borderWidth&&(s.save(),function le(m,l,s,c){N&&!l.options.segment?function O(m,l,s,c){let f=l._path;f||(f=l._path=new Path2D,l.path(f,s,c)&&f.closePath()),go(m,l.options),m.stroke(f)}(m,l,s,c):function he(m,l,s,c){const{segments:f,options:_}=l,I=Bo(l);for(const A of f)go(m,_,A.style),m.beginPath(),I(m,l,A,{start:s,end:s+c-1})&&m.closePath(),m.stroke()}(m,l,s,c)}(s,this,f,_),s.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}return m.id="line",m.defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0},m.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"},m.descriptors={_scriptable:!0,_indexable:l=>"borderDash"!==l&&"fill"!==l},m})();function _n(m,l,s,c){const f=m.options,{[s]:_}=m.getProps([s],c);return Math.abs(l-_)<f.radius+f.hitRadius}let Sr=(()=>{class m extends Xr{constructor(s){super(),this.parsed=void 0,this.skip=void 0,this.stop=void 0,this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,s&&Object.assign(this,s)}inRange(s,c,f){const _=this.options,{x:I,y:A}=this.getProps(["x","y"],f);return Math.pow(s-I,2)+Math.pow(c-A,2)<Math.pow(_.hitRadius+_.radius,2)}inXRange(s,c){return _n(this,s,"x",c)}inYRange(s,c){return _n(this,s,"y",c)}getCenterPoint(s){const{x:c,y:f}=this.getProps(["x","y"],s);return{x:c,y:f}}size(s){let c=(s=s||this.options||{}).radius||0;return c=Math.max(c,c&&s.hoverRadius||0),2*(c+(c&&s.borderWidth||0))}draw(s,c){const f=this.options;this.skip||f.radius<.1||!(0,d.C)(this,c,this.size(f)/2)||(s.strokeStyle=f.borderColor,s.lineWidth=f.borderWidth,s.fillStyle=f.backgroundColor,(0,d.at)(s,f,this.x,this.y))}getRange(){const s=this.options||{};return s.radius+s.hitRadius}}return m.id="point",m.defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0},m.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"},m})();function Gn(m,l){const{x:s,y:c,base:f,width:_,height:I}=m.getProps(["x","y","base","width","height"],l);let A,k,K,de,Ce;return m.horizontal?(Ce=I/2,A=Math.min(s,f),k=Math.max(s,f),K=c-Ce,de=c+Ce):(Ce=_/2,A=s-Ce,k=s+Ce,K=Math.min(c,f),de=Math.max(c,f)),{left:A,top:K,right:k,bottom:de}}function ai(m,l,s,c){return m?0:(0,d.S)(l,s,c)}function Bs(m,l,s,c){const f=null===l,_=null===s,A=m&&!(f&&_)&&Gn(m,c);return A&&(f||(0,d.aj)(l,A.left,A.right))&&(_||(0,d.aj)(s,A.top,A.bottom))}function _e(m,l){m.rect(l.x,l.y,l.w,l.h)}function ce(m,l,s={}){const c=m.x!==s.x?-l:0,f=m.y!==s.y?-l:0;return{x:m.x+c,y:m.y+f,w:m.w+((m.x+m.w!==s.x+s.w?l:0)-c),h:m.h+((m.y+m.h!==s.y+s.h?l:0)-f),radius:m.radius}}class $ extends Xr{constructor(l){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,l&&Object.assign(this,l)}draw(l){const{inflateAmount:s,options:{borderColor:c,backgroundColor:f}}=this,{inner:_,outer:I}=function Pi(m){const l=Gn(m),s=l.right-l.left,c=l.bottom-l.top,f=function hi(m,l,s){const f=m.borderSkipped,_=(0,d.av)(m.options.borderWidth);return{t:ai(f.top,_.top,0,s),r:ai(f.right,_.right,0,l),b:ai(f.bottom,_.bottom,0,s),l:ai(f.left,_.left,0,l)}}(m,s/2,c/2),_=function ws(m,l,s){const{enableBorderRadius:c}=m.getProps(["enableBorderRadius"]),f=m.options.borderRadius,_=(0,d.aw)(f),I=Math.min(l,s),A=m.borderSkipped,k=c||(0,d.i)(f);return{topLeft:ai(!k||A.top||A.left,_.topLeft,0,I),topRight:ai(!k||A.top||A.right,_.topRight,0,I),bottomLeft:ai(!k||A.bottom||A.left,_.bottomLeft,0,I),bottomRight:ai(!k||A.bottom||A.right,_.bottomRight,0,I)}}(m,s/2,c/2);return{outer:{x:l.left,y:l.top,w:s,h:c,radius:_},inner:{x:l.left+f.l,y:l.top+f.t,w:s-f.l-f.r,h:c-f.t-f.b,radius:{topLeft:Math.max(0,_.topLeft-Math.max(f.t,f.l)),topRight:Math.max(0,_.topRight-Math.max(f.t,f.r)),bottomLeft:Math.max(0,_.bottomLeft-Math.max(f.b,f.l)),bottomRight:Math.max(0,_.bottomRight-Math.max(f.b,f.r))}}}}(this),A=function Po(m){return m.topLeft||m.topRight||m.bottomLeft||m.bottomRight}(I.radius)?d.au:_e;l.save(),(I.w!==_.w||I.h!==_.h)&&(l.beginPath(),A(l,ce(I,s,_)),l.clip(),A(l,ce(_,-s,I)),l.fillStyle=c,l.fill("evenodd")),l.beginPath(),A(l,ce(_,s)),l.fillStyle=f,l.fill(),l.restore()}inRange(l,s,c){return Bs(this,l,s,c)}inXRange(l,s){return Bs(this,l,null,s)}inYRange(l,s){return Bs(this,null,l,s)}getCenterPoint(l){const{x:s,y:c,base:f,horizontal:_}=this.getProps(["x","y","base","horizontal"],l);return{x:_?(s+f)/2:s,y:_?c:(c+f)/2}}getRange(l){return"x"===l?this.width/2:this.height/2}}$.id="bar",$.defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0},$.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};var F=Object.freeze({__proto__:null,ArcElement:Go,BarElement:$,LineElement:Ge,PointElement:Sr});const S=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],L=S.map(m=>m.replace("rgb(","rgba(").replace(")",", 0.5)"));function ge(m){return S[m%S.length]}function ut(m){return L[m%L.length]}function ci(m){let l;for(l in m)if(m[l].borderColor||m[l].backgroundColor)return!0;return!1}var vi={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(m,l,s){if(!s.enabled)return;const{data:{datasets:c},options:f}=m.config,{elements:_}=f;if(!s.forceOverride&&(ci(c)||function mi(m){return m&&(m.borderColor||m.backgroundColor)}(f)||_&&ci(_)))return;const I=function li(m){let l=0;return(s,c)=>{const f=m.getDatasetMeta(c).controller;f instanceof tr?l=function dn(m,l){return m.backgroundColor=m.data.map(()=>ge(l++)),l}(s,l):f instanceof un?l=function Mn(m,l){return m.backgroundColor=m.data.map(()=>ut(l++)),l}(s,l):f&&(l=function Nt(m,l){return m.borderColor=ge(l),m.backgroundColor=ut(l),++l}(s,l))}}(m);c.forEach(I)}};function Js(m){if(m._decimated){const l=m._data;delete m._decimated,delete m._data,Object.defineProperty(m,"data",{configurable:!0,enumerable:!0,writable:!0,value:l})}}function As(m){m.data.datasets.forEach(l=>{Js(l)})}var Ei={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(m,l,s)=>{if(!s.enabled)return void As(m);const c=m.width;m.data.datasets.forEach((f,_)=>{const{_data:I,indexAxis:A}=f,k=m.getDatasetMeta(_),K=I||f.data;if("y"===(0,d.a)([A,m.options.indexAxis])||!k.controller.supportsDecimation)return;const de=m.scales[k.xAxisID];if("linear"!==de.type&&"time"!==de.type||m.options.parsing)return;let Et,{start:Ce,count:ze}=function xs(m,l){const s=l.length;let f,c=0;const{iScale:_}=m,{min:I,max:A,minDefined:k,maxDefined:K}=_.getUserBounds();return k&&(c=(0,d.S)((0,d.B)(l,_.axis,I).lo,0,s-1)),f=K?(0,d.S)((0,d.B)(l,_.axis,A).hi+1,c,s)-c:s-c,{start:c,count:f}}(k,K);if(ze<=(s.threshold||4*c))Js(f);else{switch((0,d.k)(I)&&(f._data=K,delete f.data,Object.defineProperty(f,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(At){this._data=At}})),s.algorithm){case"lttb":Et=function ri(m,l,s,c,f){const _=f.samples||c;if(_>=s)return m.slice(l,l+s);const I=[],A=(s-2)/(_-2);let k=0;const K=l+s-1;let Ce,ze,Qe,Et,At,de=l;for(I[k++]=m[de],Ce=0;Ce<_-2;Ce++){let En,Zt=0,In=0;const er=Math.floor((Ce+1)*A)+1+l,Qn=Math.min(Math.floor((Ce+2)*A)+1,s)+l,Yn=Qn-er;for(En=er;En<Qn;En++)Zt+=m[En].x,In+=m[En].y;Zt/=Yn,In/=Yn;const sr=Math.floor(Ce*A)+1+l,dr=Math.min(Math.floor((Ce+1)*A)+1,s)+l,{x:vr,y:fi}=m[de];for(Qe=Et=-1,En=sr;En<dr;En++)Et=.5*Math.abs((vr-Zt)*(m[En].y-fi)-(vr-m[En].x)*(In-fi)),Et>Qe&&(Qe=Et,ze=m[En],At=En);I[k++]=ze,de=At}return I[k++]=m[K],I}(K,Ce,ze,c,s);break;case"min-max":Et=function ts(m,l,s,c){let I,A,k,K,de,Ce,ze,Qe,Et,At,f=0,_=0;const Zt=[],En=m[l].x,Qn=m[l+s-1].x-En;for(I=l;I<l+s;++I){A=m[I],k=(A.x-En)/Qn*c,K=A.y;const Yn=0|k;if(Yn===de)K<Et?(Et=K,Ce=I):K>At&&(At=K,ze=I),f=(_*f+A.x)/++_;else{const sr=I-1;if(!(0,d.k)(Ce)&&!(0,d.k)(ze)){const dr=Math.min(Ce,ze),vr=Math.max(Ce,ze);dr!==Qe&&dr!==sr&&Zt.push({...m[dr],x:f}),vr!==Qe&&vr!==sr&&Zt.push({...m[vr],x:f})}I>0&&sr!==Qe&&Zt.push(m[sr]),Zt.push(A),de=Yn,_=0,Et=At=K,Ce=ze=Qe=I}}return Zt}(K,Ce,ze,c);break;default:throw new Error(`Unsupported decimation algorithm '${s.algorithm}'`)}f._decimated=Et}})},destroy(m){As(m)}};function io(m,l,s,c){if(c)return;let f=l[m],_=s[m];return"angle"===m&&(f=(0,d.ay)(f),_=(0,d.ay)(_)),{property:m,start:f,end:_}}function mo(m,l,s){for(;l>m;l--){const c=s[l];if(!isNaN(c.x)&&!isNaN(c.y))break}return l}function oa(m,l,s,c){return m&&l?c(m[s],l[s]):m?m[s]:l?l[s]:0}function ta(m,l){let s=[],c=!1;return(0,d.b)(m)?(c=!0,s=m):s=function Ko(m,l){const{x:s=null,y:c=null}=m||{},f=l.points,_=[];return l.segments.forEach(({start:I,end:A})=>{A=mo(I,A,f);const k=f[I],K=f[A];null!==c?(_.push({x:k.x,y:c}),_.push({x:K.x,y:c})):null!==s&&(_.push({x:s,y:k.y}),_.push({x:s,y:K.y}))}),_}(m,l),s.length?new Ge({points:s,options:{tension:0},_loop:c,_fullLoop:c}):null}function Ta(m){return m&&!1!==m.fill}function Aa(m,l,s){let f=m[l].fill;const _=[l];let I;if(!s)return f;for(;!1!==f&&-1===_.indexOf(f);){if(!(0,d.g)(f))return f;if(I=m[f],!I)return!1;if(I.visible)return f;_.push(f),f=I.fill}return!1}function na(m,l,s){const c=function ba(m){const l=m.options,s=l.fill;let c=(0,d.v)(s&&s.target,s);return void 0===c&&(c=!!l.backgroundColor),!1!==c&&null!==c&&(!0===c?"origin":c)}(m);if((0,d.i)(c))return!isNaN(c.value)&&c;let f=parseFloat(c);return(0,d.g)(f)&&Math.floor(f)===f?function Na(m,l,s,c){return("-"===m||"+"===m)&&(s=l+s),!(s===l||s<0||s>=c)&&s}(c[0],l,f,s):["origin","start","end","stack","shape"].indexOf(c)>=0&&c}function M(m,l,s){const c=[];for(let f=0;f<s.length;f++){const _=s[f],{first:I,last:A,point:k}=Z(_,l,"x");if(!(!k||I&&A))if(I)c.unshift(k);else if(m.push(k),!A)break}m.push(...c)}function Z(m,l,s){const c=m.interpolate(l,s);if(!c)return{};const f=c[s],_=m.segments,I=m.points;let A=!1,k=!1;for(let K=0;K<_.length;K++){const de=_[K],Ce=I[de.start][s],ze=I[de.end][s];if((0,d.aj)(f,Ce,ze)){A=f===Ce,k=f===ze;break}}return{first:A,last:k,point:c}}class oe{constructor(l){this.x=l.x,this.y=l.y,this.radius=l.radius}pathSegment(l,s,c){const{x:f,y:_,radius:I}=this;return l.arc(f,_,I,(s=s||{start:0,end:d.T}).end,s.start,!0),!c.bounds}interpolate(l){const{x:s,y:c,radius:f}=this,_=l.angle;return{x:s+Math.cos(_)*f,y:c+Math.sin(_)*f,angle:_}}}function sn(m,l,s){const c=function De(m){const{chart:l,fill:s,line:c}=m;if((0,d.g)(s))return function $e(m,l){const s=m.getDatasetMeta(l);return s&&m.isDatasetVisible(l)?s.dataset:null}(l,s);if("stack"===s)return function Oo(m){const{scale:l,index:s,line:c}=m,f=[],_=c.segments,I=c.points,A=function Ea(m,l){const s=[],c=m.getMatchingVisibleMetas("line");for(let f=0;f<c.length;f++){const _=c[f];if(_.index===l)break;_.hidden||s.unshift(_.dataset)}return s}(l,s);A.push(ta({x:null,y:l.bottom},c));for(let k=0;k<_.length;k++){const K=_[k];for(let de=K.start;de<=K.end;de++)M(f,I[de],A)}return new Ge({points:f,options:{}})}(m);if("shape"===s)return!0;const f=function at(m){return(m.scale||{}).getPointPositionForValue?function zt(m){const{scale:l,fill:s}=m,c=l.options,f=l.getLabels().length,_=c.reverse?l.max:l.min,I=function Zs(m,l,s){let c;return c="start"===m?s:"end"===m?l.options.reverse?l.min:l.max:(0,d.i)(m)?m.value:l.getBaseValue(),c}(s,l,_),A=[];if(c.grid.circular){const k=l.getPointPositionForValue(0,_);return new oe({x:k.x,y:k.y,radius:l.getDistanceFromCenterForValue(I)})}for(let k=0;k<f;++k)A.push(l.getPointPositionForValue(k,I));return A}(m):function Tt(m){const{scale:l={},fill:s}=m,c=function Gs(m,l){let s=null;return"start"===m?s=l.bottom:"end"===m?s=l.top:(0,d.i)(m)?s=l.getPixelForValue(m.value):l.getBasePixel&&(s=l.getBasePixel()),s}(s,l);if((0,d.g)(c)){const f=l.isHorizontal();return{x:f?c:null,y:f?null:c}}return null}(m)}(m);return f instanceof oe?f:ta(f,c)}(l),{line:f,scale:_,axis:I}=l,A=f.options,k=A.fill,K=A.backgroundColor,{above:de=K,below:Ce=K}=k||{};c&&f.points.length&&((0,d.Y)(m,s),function Nn(m,l){const{line:s,target:c,above:f,below:_,area:I,scale:A}=l,k=s._loop?"angle":l.axis;m.save(),"x"===k&&_!==f&&(or(m,c,I.top),Jr(m,{line:s,target:c,color:f,scale:A,property:k}),m.restore(),m.save(),or(m,c,I.bottom)),Jr(m,{line:s,target:c,color:_,scale:A,property:k}),m.restore()}(m,{line:f,target:c,above:de,below:Ce,area:s,scale:_,axis:I}),(0,d.$)(m))}function or(m,l,s){const{segments:c,points:f}=l;let _=!0,I=!1;m.beginPath();for(const A of c){const{start:k,end:K}=A,de=f[k],Ce=f[mo(k,K,f)];_?(m.moveTo(de.x,de.y),_=!1):(m.lineTo(de.x,s),m.lineTo(de.x,de.y)),I=!!l.pathSegment(m,A,{move:I}),I?m.closePath():m.lineTo(Ce.x,s)}m.lineTo(l.first().x,s),m.closePath(),m.clip()}function Jr(m,l){const{line:s,target:c,property:f,color:_,scale:I}=l,A=function Ms(m,l,s){const c=m.segments,f=m.points,_=l.points,I=[];for(const A of c){let{start:k,end:K}=A;K=mo(k,K,f);const de=io(s,f[k],f[K],A.loop);if(!l.segments){I.push({source:A,target:de,start:f[k],end:f[K]});continue}const Ce=(0,d.an)(l,de);for(const ze of Ce){const Qe=io(s,_[ze.start],_[ze.end],ze.loop),Et=(0,d.ax)(A,f,Qe);for(const At of Et)I.push({source:At,target:ze,start:{[s]:oa(de,Qe,"start",Math.max)},end:{[s]:oa(de,Qe,"end",Math.min)}})}}return I}(s,c,f);for(const{source:k,target:K,start:de,end:Ce}of A){const{style:{backgroundColor:ze=_}={}}=k,Qe=!0!==c;m.save(),m.fillStyle=ze,qr(m,I,Qe&&io(f,de,Ce)),m.beginPath();const Et=!!s.pathSegment(m,k);let At;if(Qe){Et?m.closePath():$s(m,c,Ce,f);const Zt=!!c.pathSegment(m,K,{move:Et,reverse:!0});At=Et&&Zt,At||$s(m,c,de,f)}m.closePath(),m.fill(At?"evenodd":"nonzero"),m.restore()}}function qr(m,l,s){const{top:c,bottom:f}=l.chart.chartArea,{property:_,start:I,end:A}=s||{};"x"===_&&(m.beginPath(),m.rect(I,c,A-I,f-c),m.clip())}function $s(m,l,s,c){const f=l.interpolate(s,c);f&&m.lineTo(f.x,f.y)}var Ps={id:"filler",afterDatasetsUpdate(m,l,s){const c=(m.data.datasets||[]).length,f=[];let _,I,A,k;for(I=0;I<c;++I)_=m.getDatasetMeta(I),A=_.dataset,k=null,A&&A.options&&A instanceof Ge&&(k={visible:m.isDatasetVisible(I),index:I,fill:na(A,I,c),chart:m,axis:_.controller.options.indexAxis,scale:_.vScale,line:A}),_.$filler=k,f.push(k);for(I=0;I<c;++I)k=f[I],k&&!1!==k.fill&&(k.fill=Aa(f,I,s.propagate))},beforeDraw(m,l,s){const c="beforeDraw"===s.drawTime,f=m.getSortedVisibleDatasetMetas(),_=m.chartArea;for(let I=f.length-1;I>=0;--I){const A=f[I].$filler;A&&(A.line.updateControlPoints(_,A.axis),c&&A.fill&&sn(m.ctx,A,_))}},beforeDatasetsDraw(m,l,s){if("beforeDatasetsDraw"!==s.drawTime)return;const c=m.getSortedVisibleDatasetMetas();for(let f=c.length-1;f>=0;--f){const _=c[f].$filler;Ta(_)&&sn(m.ctx,_,m.chartArea)}},beforeDatasetDraw(m,l,s){const c=l.meta.$filler;!Ta(c)||"beforeDatasetDraw"!==s.drawTime||sn(m.ctx,c,m.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const Y=(m,l)=>{let{boxHeight:s=l,boxWidth:c=l}=m;return m.usePointStyle&&(s=Math.min(s,l),c=m.pointStyleWidth||Math.min(c,l)),{boxWidth:c,boxHeight:s,itemHeight:Math.max(l,s)}};class Q extends Xr{constructor(l){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=l.chart,this.options=l.options,this.ctx=l.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(l,s,c){this.maxWidth=l,this.maxHeight=s,this._margins=c,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const l=this.options.labels||{};let s=(0,d.Q)(l.generateLabels,[this.chart],this)||[];l.filter&&(s=s.filter(c=>l.filter(c,this.chart.data))),l.sort&&(s=s.sort((c,f)=>l.sort(c,f,this.chart.data))),this.options.reverse&&s.reverse(),this.legendItems=s}fit(){const{options:l,ctx:s}=this;if(!l.display)return void(this.width=this.height=0);const c=l.labels,f=(0,d.a0)(c.font),_=f.size,I=this._computeTitleHeight(),{boxWidth:A,itemHeight:k}=Y(c,_);let K,de;s.font=f.string,this.isHorizontal()?(K=this.maxWidth,de=this._fitRows(I,_,A,k)+10):(de=this.maxHeight,K=this._fitCols(I,f,A,k)+10),this.width=Math.min(K,l.maxWidth||this.maxWidth),this.height=Math.min(de,l.maxHeight||this.maxHeight)}_fitRows(l,s,c,f){const{ctx:_,maxWidth:I,options:{labels:{padding:A}}}=this,k=this.legendHitBoxes=[],K=this.lineWidths=[0],de=f+A;let Ce=l;_.textAlign="left",_.textBaseline="middle";let ze=-1,Qe=-de;return this.legendItems.forEach((Et,At)=>{const Zt=c+s/2+_.measureText(Et.text).width;(0===At||K[K.length-1]+Zt+2*A>I)&&(Ce+=de,K[K.length-(At>0?0:1)]=0,Qe+=de,ze++),k[At]={left:0,top:Qe,row:ze,width:Zt,height:f},K[K.length-1]+=Zt+A}),Ce}_fitCols(l,s,c,f){const{ctx:_,maxHeight:I,options:{labels:{padding:A}}}=this,k=this.legendHitBoxes=[],K=this.columnSizes=[],de=I-l;let Ce=A,ze=0,Qe=0,Et=0,At=0;return this.legendItems.forEach((Zt,In)=>{const{itemWidth:En,itemHeight:er}=function Pe(m,l,s,c,f){const _=function vt(m,l,s,c){let f=m.text;return f&&"string"!=typeof f&&(f=f.reduce((_,I)=>_.length>I.length?_:I)),l+s.size/2+c.measureText(f).width}(c,m,l,s),I=function mn(m,l,s){let c=m;return"string"!=typeof l.text&&(c=Rn(l,s)),c}(f,c,l.lineHeight);return{itemWidth:_,itemHeight:I}}(c,s,_,Zt,f);In>0&&Qe+er+2*A>de&&(Ce+=ze+A,K.push({width:ze,height:Qe}),Et+=ze+A,At++,ze=Qe=0),k[In]={left:Et,top:Qe,col:At,width:En,height:er},ze=Math.max(ze,En),Qe+=er+A}),Ce+=ze,K.push({width:ze,height:Qe}),Ce}adjustHitBoxes(){if(!this.options.display)return;const l=this._computeTitleHeight(),{legendHitBoxes:s,options:{align:c,labels:{padding:f},rtl:_}}=this,I=(0,d.az)(_,this.left,this.width);if(this.isHorizontal()){let A=0,k=(0,d.a2)(c,this.left+f,this.right-this.lineWidths[A]);for(const K of s)A!==K.row&&(A=K.row,k=(0,d.a2)(c,this.left+f,this.right-this.lineWidths[A])),K.top+=this.top+l+f,K.left=I.leftForLtr(I.x(k),K.width),k+=K.width+f}else{let A=0,k=(0,d.a2)(c,this.top+l+f,this.bottom-this.columnSizes[A].height);for(const K of s)K.col!==A&&(A=K.col,k=(0,d.a2)(c,this.top+l+f,this.bottom-this.columnSizes[A].height)),K.top=k,K.left+=this.left+f,K.left=I.leftForLtr(I.x(K.left),K.width),k+=K.height+f}}isHorizontal(){return"top"===this.options.position||"bottom"===this.options.position}draw(){if(this.options.display){const l=this.ctx;(0,d.Y)(l,this),this._draw(),(0,d.$)(l)}}_draw(){const{options:l,columnSizes:s,lineWidths:c,ctx:f}=this,{align:_,labels:I}=l,A=d.d.color,k=(0,d.az)(l.rtl,this.left,this.width),K=(0,d.a0)(I.font),{padding:de}=I,Ce=K.size,ze=Ce/2;let Qe;this.drawTitle(),f.textAlign=k.textAlign("left"),f.textBaseline="middle",f.lineWidth=.5,f.font=K.string;const{boxWidth:Et,boxHeight:At,itemHeight:Zt}=Y(I,Ce),er=this.isHorizontal(),Qn=this._computeTitleHeight();Qe=er?{x:(0,d.a2)(_,this.left+de,this.right-c[0]),y:this.top+de+Qn,line:0}:{x:this.left+de,y:(0,d.a2)(_,this.top+Qn+de,this.bottom-s[0].height),line:0},(0,d.aA)(this.ctx,l.textDirection);const Yn=Zt+de;this.legendItems.forEach((sr,dr)=>{f.strokeStyle=sr.fontColor,f.fillStyle=sr.fontColor;const vr=f.measureText(sr.text).width,fi=k.textAlign(sr.textAlign||(sr.textAlign=I.textAlign)),Ri=Et+ze+vr;let Vr=Qe.x,fs=Qe.y;k.setWidth(this.width),er?dr>0&&Vr+Ri+de>this.right&&(fs=Qe.y+=Yn,Qe.line++,Vr=Qe.x=(0,d.a2)(_,this.left+de,this.right-c[Qe.line])):dr>0&&fs+Yn>this.bottom&&(Vr=Qe.x=Vr+s[Qe.line].width+de,Qe.line++,fs=Qe.y=(0,d.a2)(_,this.top+Qn+de,this.bottom-s[Qe.line].height)),function(sr,dr,vr){if(isNaN(Et)||Et<=0||isNaN(At)||At<0)return;f.save();const fi=(0,d.v)(vr.lineWidth,1);if(f.fillStyle=(0,d.v)(vr.fillStyle,A),f.lineCap=(0,d.v)(vr.lineCap,"butt"),f.lineDashOffset=(0,d.v)(vr.lineDashOffset,0),f.lineJoin=(0,d.v)(vr.lineJoin,"miter"),f.lineWidth=fi,f.strokeStyle=(0,d.v)(vr.strokeStyle,A),f.setLineDash((0,d.v)(vr.lineDash,[])),I.usePointStyle){const Ri={radius:At*Math.SQRT2/2,pointStyle:vr.pointStyle,rotation:vr.rotation,borderWidth:fi},Vr=k.xPlus(sr,Et/2);(0,d.aD)(f,Ri,Vr,dr+ze,I.pointStyleWidth&&Et)}else{const Ri=dr+Math.max((Ce-At)/2,0),Vr=k.leftForLtr(sr,Et),fs=(0,d.aw)(vr.borderRadius);f.beginPath(),Object.values(fs).some(Rs=>0!==Rs)?(0,d.au)(f,{x:Vr,y:Ri,w:Et,h:At,radius:fs}):f.rect(Vr,Ri,Et,At),f.fill(),0!==fi&&f.stroke()}f.restore()}(k.x(Vr),fs,sr),Vr=(0,d.aB)(fi,Vr+Et+ze,er?Vr+Ri:this.right,l.rtl),function(sr,dr,vr){(0,d.Z)(f,vr.text,sr,dr+Zt/2,K,{strikethrough:vr.hidden,textAlign:k.textAlign(vr.textAlign)})}(k.x(Vr),fs,sr),er?Qe.x+=Ri+de:Qe.y+="string"!=typeof sr.text?Rn(sr,K.lineHeight)+de:Yn}),(0,d.aC)(this.ctx,l.textDirection)}drawTitle(){const l=this.options,s=l.title,c=(0,d.a0)(s.font),f=(0,d.E)(s.padding);if(!s.display)return;const _=(0,d.az)(l.rtl,this.left,this.width),I=this.ctx,A=s.position,K=f.top+c.size/2;let de,Ce=this.left,ze=this.width;if(this.isHorizontal())ze=Math.max(...this.lineWidths),de=this.top+K,Ce=(0,d.a2)(l.align,Ce,this.right-ze);else{const Et=this.columnSizes.reduce((At,Zt)=>Math.max(At,Zt.height),0);de=K+(0,d.a2)(l.align,this.top,this.bottom-Et-l.labels.padding-this._computeTitleHeight())}const Qe=(0,d.a2)(A,Ce,Ce+ze);I.textAlign=_.textAlign((0,d.a1)(A)),I.textBaseline="middle",I.strokeStyle=s.color,I.fillStyle=s.color,I.font=c.string,(0,d.Z)(I,s.text,Qe,de,c)}_computeTitleHeight(){const l=this.options.title,s=(0,d.a0)(l.font),c=(0,d.E)(l.padding);return l.display?s.lineHeight+c.height:0}_getLegendItemAt(l,s){let c,f,_;if((0,d.aj)(l,this.left,this.right)&&(0,d.aj)(s,this.top,this.bottom))for(_=this.legendHitBoxes,c=0;c<_.length;++c)if(f=_[c],(0,d.aj)(l,f.left,f.left+f.width)&&(0,d.aj)(s,f.top,f.top+f.height))return this.legendItems[c];return null}handleEvent(l){const s=this.options;if(!function ei(m,l){return!(("mousemove"!==m&&"mouseout"!==m||!l.onHover&&!l.onLeave)&&(!l.onClick||"click"!==m&&"mouseup"!==m))}(l.type,s))return;const c=this._getLegendItemAt(l.x,l.y);if("mousemove"===l.type||"mouseout"===l.type){const f=this._hoveredItem,_=((m,l)=>null!==m&&null!==l&&m.datasetIndex===l.datasetIndex&&m.index===l.index)(f,c);f&&!_&&(0,d.Q)(s.onLeave,[l,f,this],this),this._hoveredItem=c,c&&!_&&(0,d.Q)(s.onHover,[l,c,this],this)}else c&&(0,d.Q)(s.onClick,[l,c,this],this)}}function Rn(m,l){return l*(m.text?m.text.length:0)}var fr={id:"legend",_element:Q,start(m,l,s){const c=m.legend=new Q({ctx:m.ctx,options:s,chart:m});mt.configure(m,c,s),mt.addBox(m,c)},stop(m){mt.removeBox(m,m.legend),delete m.legend},beforeUpdate(m,l,s){const c=m.legend;mt.configure(m,c,s),c.options=s},afterUpdate(m){const l=m.legend;l.buildLabels(),l.adjustHitBoxes()},afterEvent(m,l){l.replay||m.legend.handleEvent(l.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(m,l,s){const c=l.datasetIndex,f=s.chart;f.isDatasetVisible(c)?(f.hide(c),l.hidden=!0):(f.show(c),l.hidden=!1)},onHover:null,onLeave:null,labels:{color:m=>m.chart.options.color,boxWidth:40,padding:10,generateLabels(m){const l=m.data.datasets,{labels:{usePointStyle:s,pointStyle:c,textAlign:f,color:_,useBorderRadius:I,borderRadius:A}}=m.legend.options;return m._getSortedDatasetMetas().map(k=>{const K=k.controller.getStyle(s?0:void 0),de=(0,d.E)(K.borderWidth);return{text:l[k.index].label,fillStyle:K.backgroundColor,fontColor:_,hidden:!k.visible,lineCap:K.borderCapStyle,lineDash:K.borderDash,lineDashOffset:K.borderDashOffset,lineJoin:K.borderJoinStyle,lineWidth:(de.width+de.height)/4,strokeStyle:K.borderColor,pointStyle:c||K.pointStyle,rotation:K.rotation,textAlign:f||K.textAlign,borderRadius:I&&(A||K.borderRadius),datasetIndex:k.index}},this)}},title:{color:m=>m.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:m=>!m.startsWith("on"),labels:{_scriptable:m=>!["generateLabels","filter","sort"].includes(m)}}};class Gi extends Xr{constructor(l){super(),this.chart=l.chart,this.options=l.options,this.ctx=l.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(l,s){const c=this.options;if(this.left=0,this.top=0,!c.display)return void(this.width=this.height=this.right=this.bottom=0);this.width=this.right=l,this.height=this.bottom=s;const f=(0,d.b)(c.text)?c.text.length:1;this._padding=(0,d.E)(c.padding);const _=f*(0,d.a0)(c.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=_:this.width=_}isHorizontal(){const l=this.options.position;return"top"===l||"bottom"===l}_drawArgs(l){const{top:s,left:c,bottom:f,right:_,options:I}=this,A=I.align;let K,de,Ce,k=0;return this.isHorizontal()?(de=(0,d.a2)(A,c,_),Ce=s+l,K=_-c):("left"===I.position?(de=c+l,Ce=(0,d.a2)(A,f,s),k=-.5*d.P):(de=_-l,Ce=(0,d.a2)(A,s,f),k=.5*d.P),K=f-s),{titleX:de,titleY:Ce,maxWidth:K,rotation:k}}draw(){const l=this.ctx,s=this.options;if(!s.display)return;const c=(0,d.a0)(s.font),_=c.lineHeight/2+this._padding.top,{titleX:I,titleY:A,maxWidth:k,rotation:K}=this._drawArgs(_);(0,d.Z)(l,s.text,0,0,c,{color:s.color,maxWidth:k,rotation:K,textAlign:(0,d.a1)(s.align),textBaseline:"middle",translation:[I,A]})}}var Li={id:"title",_element:Gi,start(m,l,s){!function ti(m,l){const s=new Gi({ctx:m.ctx,options:l,chart:m});mt.configure(m,s,l),mt.addBox(m,s),m.titleBlock=s}(m,s)},stop(m){mt.removeBox(m,m.titleBlock),delete m.titleBlock},beforeUpdate(m,l,s){const c=m.titleBlock;mt.configure(m,c,s),c.options=s},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const ds=new WeakMap;var Is={id:"subtitle",start(m,l,s){const c=new Gi({ctx:m.ctx,options:s,chart:m});mt.configure(m,c,s),mt.addBox(m,c),ds.set(m,c)},stop(m){mt.removeBox(m,ds.get(m)),ds.delete(m)},beforeUpdate(m,l,s){const c=ds.get(m);mt.configure(m,c,s),c.options=s},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const yo={average(m){if(!m.length)return!1;let l,s,c=0,f=0,_=0;for(l=0,s=m.length;l<s;++l){const I=m[l].element;if(I&&I.hasValue()){const A=I.tooltipPosition();c+=A.x,f+=A.y,++_}}return{x:c/_,y:f/_}},nearest(m,l){if(!m.length)return!1;let _,I,A,s=l.x,c=l.y,f=Number.POSITIVE_INFINITY;for(_=0,I=m.length;_<I;++_){const k=m[_].element;if(k&&k.hasValue()){const K=k.getCenterPoint(),de=(0,d.aE)(l,K);de<f&&(f=de,A=k)}}if(A){const k=A.tooltipPosition();s=k.x,c=k.y}return{x:s,y:c}}};function Wn(m,l){return l&&((0,d.b)(l)?Array.prototype.push.apply(m,l):m.push(l)),m}function Bi(m){return("string"==typeof m||m instanceof String)&&m.indexOf("\n")>-1?m.split("\n"):m}function Yo(m,l){const{element:s,datasetIndex:c,index:f}=l,_=m.getDatasetMeta(c).controller,{label:I,value:A}=_.getLabelAndValue(f);return{chart:m,label:I,parsed:_.getParsed(f),raw:m.data.datasets[c].data[f],formattedValue:A,dataset:_.getDataset(),dataIndex:f,datasetIndex:c,element:s}}function qo(m,l){const s=m.chart.ctx,{body:c,footer:f,title:_}=m,{boxWidth:I,boxHeight:A}=l,k=(0,d.a0)(l.bodyFont),K=(0,d.a0)(l.titleFont),de=(0,d.a0)(l.footerFont),Ce=_.length,ze=f.length,Qe=c.length,Et=(0,d.E)(l.padding);let At=Et.height,Zt=0,In=c.reduce((Qn,Yn)=>Qn+Yn.before.length+Yn.lines.length+Yn.after.length,0);In+=m.beforeBody.length+m.afterBody.length,Ce&&(At+=Ce*K.lineHeight+(Ce-1)*l.titleSpacing+l.titleMarginBottom),In&&(At+=Qe*(l.displayColors?Math.max(A,k.lineHeight):k.lineHeight)+(In-Qe)*k.lineHeight+(In-1)*l.bodySpacing),ze&&(At+=l.footerMarginTop+ze*de.lineHeight+(ze-1)*l.footerSpacing);let En=0;const er=function(Qn){Zt=Math.max(Zt,s.measureText(Qn).width+En)};return s.save(),s.font=K.string,(0,d.F)(m.title,er),s.font=k.string,(0,d.F)(m.beforeBody.concat(m.afterBody),er),En=l.displayColors?I+2+l.boxPadding:0,(0,d.F)(c,Qn=>{(0,d.F)(Qn.before,er),(0,d.F)(Qn.lines,er),(0,d.F)(Qn.after,er)}),En=0,s.font=de.string,(0,d.F)(m.footer,er),s.restore(),Zt+=Et.width,{width:Zt,height:At}}function Kn(m,l,s,c){const{x:f,width:_}=s,{width:I,chartArea:{left:A,right:k}}=m;let K="center";return"center"===c?K=f<=(A+k)/2?"left":"right":f<=_/2?K="left":f>=I-_/2&&(K="right"),function ii(m,l,s,c){const{x:f,width:_}=c,I=s.caretSize+s.caretPadding;if("left"===m&&f+_+I>l.width||"right"===m&&f-_-I<0)return!0}(K,m,l,s)&&(K="center"),K}function Bn(m,l,s){const c=s.yAlign||l.yAlign||function Or(m,l){const{y:s,height:c}=l;return s<c/2?"top":s>m.height-c/2?"bottom":"center"}(m,s);return{xAlign:s.xAlign||l.xAlign||Kn(m,l,s,c),yAlign:c}}function Yi(m,l,s,c){const{caretSize:f,caretPadding:_,cornerRadius:I}=m,{xAlign:A,yAlign:k}=s,K=f+_,{topLeft:de,topRight:Ce,bottomLeft:ze,bottomRight:Qe}=(0,d.aw)(I);let Et=function Dn(m,l){let{x:s,width:c}=m;return"right"===l?s-=c:"center"===l&&(s-=c/2),s}(l,A);const At=function Xn(m,l,s){let{y:c,height:f}=m;return"top"===l?c+=s:c-="bottom"===l?f+s:f/2,c}(l,k,K);return"center"===k?"left"===A?Et+=K:"right"===A&&(Et-=K):"left"===A?Et-=Math.max(de,ze)+f:"right"===A&&(Et+=Math.max(Ce,Qe)+f),{x:(0,d.S)(Et,0,c.width-l.width),y:(0,d.S)(At,0,c.height-l.height)}}function Ja(m,l,s){const c=(0,d.E)(s.padding);return"center"===l?m.x+m.width/2:"right"===l?m.x+m.width-c.right:m.x+c.left}function wa(m){return Wn([],Bi(m))}function dl(m,l){const s=l&&l.dataset&&l.dataset.tooltip&&l.dataset.tooltip.callbacks;return s?m.override(s):m}const al={beforeTitle:d.aF,title(m){if(m.length>0){const l=m[0],s=l.chart.data.labels,c=s?s.length:0;if(this&&this.options&&"dataset"===this.options.mode)return l.dataset.label||"";if(l.label)return l.label;if(c>0&&l.dataIndex<c)return s[l.dataIndex]}return""},afterTitle:d.aF,beforeBody:d.aF,beforeLabel:d.aF,label(m){if(this&&this.options&&"dataset"===this.options.mode)return m.label+": "+m.formattedValue||m.formattedValue;let l=m.dataset.label||"";l&&(l+=": ");const s=m.formattedValue;return(0,d.k)(s)||(l+=s),l},labelColor(m){const s=m.chart.getDatasetMeta(m.datasetIndex).controller.getStyle(m.dataIndex);return{borderColor:s.borderColor,backgroundColor:s.backgroundColor,borderWidth:s.borderWidth,borderDash:s.borderDash,borderDashOffset:s.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(m){const s=m.chart.getDatasetMeta(m.datasetIndex).controller.getStyle(m.dataIndex);return{pointStyle:s.pointStyle,rotation:s.rotation}},afterLabel:d.aF,afterBody:d.aF,beforeFooter:d.aF,footer:d.aF,afterFooter:d.aF};function Zo(m,l,s,c){const f=m[l].call(s,c);return typeof f>"u"?al[l].call(s,c):f}let Wa=(()=>{class m extends Xr{constructor(s){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=s.chart,this.options=s.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(s){this.options=s,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const s=this._cachedAnimations;if(s)return s;const c=this.chart,f=this.options.setContext(this.getContext()),_=f.enabled&&c.options.animation&&f.animations,I=new Se(this.chart,_);return _._cacheable&&(this._cachedAnimations=Object.freeze(I)),I}getContext(){return this.$context||(this.$context=function xa(m,l,s){return(0,d.j)(m,{tooltip:l,tooltipItems:s,type:"tooltip"})}(this.chart.getContext(),this,this._tooltipItems))}getTitle(s,c){const{callbacks:f}=c,_=Zo(f,"beforeTitle",this,s),I=Zo(f,"title",this,s),A=Zo(f,"afterTitle",this,s);let k=[];return k=Wn(k,Bi(_)),k=Wn(k,Bi(I)),k=Wn(k,Bi(A)),k}getBeforeBody(s,c){return wa(Zo(c.callbacks,"beforeBody",this,s))}getBody(s,c){const{callbacks:f}=c,_=[];return(0,d.F)(s,I=>{const A={before:[],lines:[],after:[]},k=dl(f,I);Wn(A.before,Bi(Zo(k,"beforeLabel",this,I))),Wn(A.lines,Zo(k,"label",this,I)),Wn(A.after,Bi(Zo(k,"afterLabel",this,I))),_.push(A)}),_}getAfterBody(s,c){return wa(Zo(c.callbacks,"afterBody",this,s))}getFooter(s,c){const{callbacks:f}=c,_=Zo(f,"beforeFooter",this,s),I=Zo(f,"footer",this,s),A=Zo(f,"afterFooter",this,s);let k=[];return k=Wn(k,Bi(_)),k=Wn(k,Bi(I)),k=Wn(k,Bi(A)),k}_createItems(s){const c=this._active,f=this.chart.data,_=[],I=[],A=[];let K,de,k=[];for(K=0,de=c.length;K<de;++K)k.push(Yo(this.chart,c[K]));return s.filter&&(k=k.filter((Ce,ze,Qe)=>s.filter(Ce,ze,Qe,f))),s.itemSort&&(k=k.sort((Ce,ze)=>s.itemSort(Ce,ze,f))),(0,d.F)(k,Ce=>{const ze=dl(s.callbacks,Ce);_.push(Zo(ze,"labelColor",this,Ce)),I.push(Zo(ze,"labelPointStyle",this,Ce)),A.push(Zo(ze,"labelTextColor",this,Ce))}),this.labelColors=_,this.labelPointStyles=I,this.labelTextColors=A,this.dataPoints=k,k}update(s,c){const f=this.options.setContext(this.getContext()),_=this._active;let I,A=[];if(_.length){const k=yo[f.position].call(this,_,this._eventPosition);A=this._createItems(f),this.title=this.getTitle(A,f),this.beforeBody=this.getBeforeBody(A,f),this.body=this.getBody(A,f),this.afterBody=this.getAfterBody(A,f),this.footer=this.getFooter(A,f);const K=this._size=qo(this,f),de=Object.assign({},k,K),Ce=Bn(this.chart,f,de),ze=Yi(f,de,Ce,this.chart);this.xAlign=Ce.xAlign,this.yAlign=Ce.yAlign,I={opacity:1,x:ze.x,y:ze.y,width:K.width,height:K.height,caretX:k.x,caretY:k.y}}else 0!==this.opacity&&(I={opacity:0});this._tooltipItems=A,this.$context=void 0,I&&this._resolveAnimations().update(this,I),s&&f.external&&f.external.call(this,{chart:this.chart,tooltip:this,replay:c})}drawCaret(s,c,f,_){const I=this.getCaretPosition(s,f,_);c.lineTo(I.x1,I.y1),c.lineTo(I.x2,I.y2),c.lineTo(I.x3,I.y3)}getCaretPosition(s,c,f){const{xAlign:_,yAlign:I}=this,{caretSize:A,cornerRadius:k}=f,{topLeft:K,topRight:de,bottomLeft:Ce,bottomRight:ze}=(0,d.aw)(k),{x:Qe,y:Et}=s,{width:At,height:Zt}=c;let In,En,er,Qn,Yn,sr;return"center"===I?(Yn=Et+Zt/2,"left"===_?(In=Qe,En=In-A,Qn=Yn+A,sr=Yn-A):(In=Qe+At,En=In+A,Qn=Yn-A,sr=Yn+A),er=In):(En="left"===_?Qe+Math.max(K,Ce)+A:"right"===_?Qe+At-Math.max(de,ze)-A:this.caretX,"top"===I?(Qn=Et,Yn=Qn-A,In=En-A,er=En+A):(Qn=Et+Zt,Yn=Qn+A,In=En+A,er=En-A),sr=Qn),{x1:In,x2:En,x3:er,y1:Qn,y2:Yn,y3:sr}}drawTitle(s,c,f){const _=this.title,I=_.length;let A,k,K;if(I){const de=(0,d.az)(f.rtl,this.x,this.width);for(s.x=Ja(this,f.titleAlign,f),c.textAlign=de.textAlign(f.titleAlign),c.textBaseline="middle",A=(0,d.a0)(f.titleFont),k=f.titleSpacing,c.fillStyle=f.titleColor,c.font=A.string,K=0;K<I;++K)c.fillText(_[K],de.x(s.x),s.y+A.lineHeight/2),s.y+=A.lineHeight+k,K+1===I&&(s.y+=f.titleMarginBottom-k)}}_drawColorBox(s,c,f,_,I){const A=this.labelColors[f],k=this.labelPointStyles[f],{boxHeight:K,boxWidth:de}=I,Ce=(0,d.a0)(I.bodyFont),ze=Ja(this,"left",I),Qe=_.x(ze),At=c.y+(K<Ce.lineHeight?(Ce.lineHeight-K)/2:0);if(I.usePointStyle){const Zt={radius:Math.min(de,K)/2,pointStyle:k.pointStyle,rotation:k.rotation,borderWidth:1},In=_.leftForLtr(Qe,de)+de/2,En=At+K/2;s.strokeStyle=I.multiKeyBackground,s.fillStyle=I.multiKeyBackground,(0,d.at)(s,Zt,In,En),s.strokeStyle=A.borderColor,s.fillStyle=A.backgroundColor,(0,d.at)(s,Zt,In,En)}else{s.lineWidth=(0,d.i)(A.borderWidth)?Math.max(...Object.values(A.borderWidth)):A.borderWidth||1,s.strokeStyle=A.borderColor,s.setLineDash(A.borderDash||[]),s.lineDashOffset=A.borderDashOffset||0;const Zt=_.leftForLtr(Qe,de),In=_.leftForLtr(_.xPlus(Qe,1),de-2),En=(0,d.aw)(A.borderRadius);Object.values(En).some(er=>0!==er)?(s.beginPath(),s.fillStyle=I.multiKeyBackground,(0,d.au)(s,{x:Zt,y:At,w:de,h:K,radius:En}),s.fill(),s.stroke(),s.fillStyle=A.backgroundColor,s.beginPath(),(0,d.au)(s,{x:In,y:At+1,w:de-2,h:K-2,radius:En}),s.fill()):(s.fillStyle=I.multiKeyBackground,s.fillRect(Zt,At,de,K),s.strokeRect(Zt,At,de,K),s.fillStyle=A.backgroundColor,s.fillRect(In,At+1,de-2,K-2))}s.fillStyle=this.labelTextColors[f]}drawBody(s,c,f){const{body:_}=this,{bodySpacing:I,bodyAlign:A,displayColors:k,boxHeight:K,boxWidth:de,boxPadding:Ce}=f,ze=(0,d.a0)(f.bodyFont);let Qe=ze.lineHeight,Et=0;const At=(0,d.az)(f.rtl,this.x,this.width),Zt=function(fi){c.fillText(fi,At.x(s.x+Et),s.y+Qe/2),s.y+=Qe+I},In=At.textAlign(A);let En,er,Qn,Yn,sr,dr,vr;for(c.textAlign=A,c.textBaseline="middle",c.font=ze.string,s.x=Ja(this,In,f),c.fillStyle=f.bodyColor,(0,d.F)(this.beforeBody,Zt),Et=k&&"right"!==In?"center"===A?de/2+Ce:de+2+Ce:0,Yn=0,dr=_.length;Yn<dr;++Yn){for(En=_[Yn],er=this.labelTextColors[Yn],c.fillStyle=er,(0,d.F)(En.before,Zt),Qn=En.lines,k&&Qn.length&&(this._drawColorBox(c,s,Yn,At,f),Qe=Math.max(ze.lineHeight,K)),sr=0,vr=Qn.length;sr<vr;++sr)Zt(Qn[sr]),Qe=ze.lineHeight;(0,d.F)(En.after,Zt)}Et=0,Qe=ze.lineHeight,(0,d.F)(this.afterBody,Zt),s.y-=I}drawFooter(s,c,f){const _=this.footer,I=_.length;let A,k;if(I){const K=(0,d.az)(f.rtl,this.x,this.width);for(s.x=Ja(this,f.footerAlign,f),s.y+=f.footerMarginTop,c.textAlign=K.textAlign(f.footerAlign),c.textBaseline="middle",A=(0,d.a0)(f.footerFont),c.fillStyle=f.footerColor,c.font=A.string,k=0;k<I;++k)c.fillText(_[k],K.x(s.x),s.y+A.lineHeight/2),s.y+=A.lineHeight+f.footerSpacing}}drawBackground(s,c,f,_){const{xAlign:I,yAlign:A}=this,{x:k,y:K}=s,{width:de,height:Ce}=f,{topLeft:ze,topRight:Qe,bottomLeft:Et,bottomRight:At}=(0,d.aw)(_.cornerRadius);c.fillStyle=_.backgroundColor,c.strokeStyle=_.borderColor,c.lineWidth=_.borderWidth,c.beginPath(),c.moveTo(k+ze,K),"top"===A&&this.drawCaret(s,c,f,_),c.lineTo(k+de-Qe,K),c.quadraticCurveTo(k+de,K,k+de,K+Qe),"center"===A&&"right"===I&&this.drawCaret(s,c,f,_),c.lineTo(k+de,K+Ce-At),c.quadraticCurveTo(k+de,K+Ce,k+de-At,K+Ce),"bottom"===A&&this.drawCaret(s,c,f,_),c.lineTo(k+Et,K+Ce),c.quadraticCurveTo(k,K+Ce,k,K+Ce-Et),"center"===A&&"left"===I&&this.drawCaret(s,c,f,_),c.lineTo(k,K+ze),c.quadraticCurveTo(k,K,k+ze,K),c.closePath(),c.fill(),_.borderWidth>0&&c.stroke()}_updateAnimationTarget(s){const c=this.chart,f=this.$animations,_=f&&f.x,I=f&&f.y;if(_||I){const A=yo[s.position].call(this,this._active,this._eventPosition);if(!A)return;const k=this._size=qo(this,s),K=Object.assign({},A,this._size),de=Bn(c,s,K),Ce=Yi(s,K,de,c);(_._to!==Ce.x||I._to!==Ce.y)&&(this.xAlign=de.xAlign,this.yAlign=de.yAlign,this.width=k.width,this.height=k.height,this.caretX=A.x,this.caretY=A.y,this._resolveAnimations().update(this,Ce))}}_willRender(){return!!this.opacity}draw(s){const c=this.options.setContext(this.getContext());let f=this.opacity;if(!f)return;this._updateAnimationTarget(c);const _={width:this.width,height:this.height},I={x:this.x,y:this.y};f=Math.abs(f)<.001?0:f;const A=(0,d.E)(c.padding);c.enabled&&(this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length)&&(s.save(),s.globalAlpha=f,this.drawBackground(I,s,_,c),(0,d.aA)(s,c.textDirection),I.y+=A.top,this.drawTitle(I,s,c),this.drawBody(I,s,c),this.drawFooter(I,s,c),(0,d.aC)(s,c.textDirection),s.restore())}getActiveElements(){return this._active||[]}setActiveElements(s,c){const f=this._active,_=s.map(({datasetIndex:k,index:K})=>{const de=this.chart.getDatasetMeta(k);if(!de)throw new Error("Cannot find a dataset at index "+k);return{datasetIndex:k,element:de.data[K],index:K}}),I=!(0,d.ah)(f,_),A=this._positionChanged(_,c);(I||A)&&(this._active=_,this._eventPosition=c,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(s,c,f=!0){if(c&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const _=this.options,I=this._active||[],A=this._getActiveElements(s,I,c,f),k=this._positionChanged(A,s),K=c||!(0,d.ah)(A,I)||k;return K&&(this._active=A,(_.enabled||_.external)&&(this._eventPosition={x:s.x,y:s.y},this.update(!0,c))),K}_getActiveElements(s,c,f,_){const I=this.options;if("mouseout"===s.type)return[];if(!_)return c;const A=this.chart.getElementsAtEventForMode(s,I.mode,I,f);return I.reverse&&A.reverse(),A}_positionChanged(s,c){const{caretX:f,caretY:_,options:I}=this,A=yo[I.position].call(this,s,c);return!1!==A&&(f!==A.x||_!==A.y)}}return m.positioners=yo,m})();var bs=Object.freeze({__proto__:null,Colors:vi,Decimation:Ei,Filler:Ps,Legend:fr,SubTitle:Is,Title:Li,Tooltip:{id:"tooltip",_element:Wa,positioners:yo,afterInit(m,l,s){s&&(m.tooltip=new Wa({chart:m,options:s}))},beforeUpdate(m,l,s){m.tooltip&&m.tooltip.initialize(s)},reset(m,l,s){m.tooltip&&m.tooltip.initialize(s)},afterDraw(m){const l=m.tooltip;if(l&&l._willRender()){const s={tooltip:l};if(!1===m.notifyPlugins("beforeTooltipDraw",{...s,cancelable:!0}))return;l.draw(m.ctx),m.notifyPlugins("afterTooltipDraw",s)}},afterEvent(m,l){m.tooltip&&m.tooltip.handleEvent(l.event,l.replay,l.inChartArea)&&(l.changed=!0)},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(m,l)=>l.bodyFont.size,boxWidth:(m,l)=>l.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:al},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:m=>"filter"!==m&&"itemSort"!==m&&"external"!==m,_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]}});function sa(m){const l=this.getLabels();return m>=0&&m<l.length?l[m]:m}let Ia=(()=>{class m extends ve{constructor(s){super(s),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(s){const c=this._addedLabels;if(c.length){const f=this.getLabels();for(const{index:_,label:I}of c)f[_]===I&&f.splice(_,1);this._addedLabels=[]}super.init(s)}parse(s,c){if((0,d.k)(s))return null;const f=this.getLabels();return((m,l)=>null===m?null:(0,d.S)(Math.round(m),0,l))(c=isFinite(c)&&f[c]===s?c:function el(m,l,s,c){const f=m.indexOf(l);return-1===f?((m,l,s,c)=>("string"==typeof l?(s=m.push(l)-1,c.unshift({index:s,label:l})):isNaN(l)&&(s=null),s))(m,l,s,c):f!==m.lastIndexOf(l)?s:f}(f,s,(0,d.v)(c,s),this._addedLabels),f.length-1)}determineDataLimits(){const{minDefined:s,maxDefined:c}=this.getUserBounds();let{min:f,max:_}=this.getMinMax(!0);"ticks"===this.options.bounds&&(s||(f=0),c||(_=this.getLabels().length-1)),this.min=f,this.max=_}buildTicks(){const s=this.min,c=this.max,f=this.options.offset,_=[];let I=this.getLabels();I=0===s&&c===I.length-1?I:I.slice(s,c+1),this._valueRange=Math.max(I.length-(f?0:1),1),this._startValue=this.min-(f?.5:0);for(let A=s;A<=c;A++)_.push({value:A});return _}getLabelForValue(s){return sa.call(this,s)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(s){return"number"!=typeof s&&(s=this.parse(s)),null===s?NaN:this.getPixelForDecimal((s-this._startValue)/this._valueRange)}getPixelForTick(s){const c=this.ticks;return s<0||s>c.length-1?null:this.getPixelForValue(c[s].value)}getValueForPixel(s){return Math.round(this._startValue+this.getDecimalForPixel(s)*this._valueRange)}getBasePixel(){return this.bottom}}return m.id="category",m.defaults={ticks:{callback:sa}},m})();function yi(m,l,{horizontal:s,minRotation:c}){const f=(0,d.t)(c),_=(s?Math.sin(f):Math.cos(f))||.001;return Math.min(l/_,.75*l*(""+m).length)}class Fa extends ve{constructor(l){super(l),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(l,s){return(0,d.k)(l)||("number"==typeof l||l instanceof Number)&&!isFinite(+l)?null:+l}handleTickRangeOptions(){const{beginAtZero:l}=this.options,{minDefined:s,maxDefined:c}=this.getUserBounds();let{min:f,max:_}=this;const I=k=>f=s?f:k,A=k=>_=c?_:k;if(l){const k=(0,d.s)(f),K=(0,d.s)(_);k<0&&K<0?A(0):k>0&&K>0&&I(0)}if(f===_){let k=0===_?1:Math.abs(.05*_);A(_+k),l||I(f-k)}this.min=f,this.max=_}getTickLimit(){const l=this.options.ticks;let f,{maxTicksLimit:s,stepSize:c}=l;return c?(f=Math.ceil(this.max/c)-Math.floor(this.min/c)+1,f>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${c} would result generating up to ${f} ticks. Limiting to 1000.`),f=1e3)):(f=this.computeTickLimit(),s=s||11),s&&(f=Math.min(s,f)),f}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const l=this.options,s=l.ticks;let c=this.getTickLimit();c=Math.max(2,c);const I=function Ks(m,l){const s=[],{bounds:f,step:_,min:I,max:A,precision:k,count:K,maxTicks:de,maxDigits:Ce,includeBounds:ze}=m,Qe=_||1,Et=de-1,{min:At,max:Zt}=l,In=!(0,d.k)(I),En=!(0,d.k)(A),er=!(0,d.k)(K),Qn=(Zt-At)/(Ce+1);let sr,dr,vr,fi,Yn=(0,d.aH)((Zt-At)/Et/Qe)*Qe;if(Yn<1e-14&&!In&&!En)return[{value:At},{value:Zt}];fi=Math.ceil(Zt/Yn)-Math.floor(At/Yn),fi>Et&&(Yn=(0,d.aH)(fi*Yn/Et/Qe)*Qe),(0,d.k)(k)||(sr=Math.pow(10,k),Yn=Math.ceil(Yn*sr)/sr),"ticks"===f?(dr=Math.floor(At/Yn)*Yn,vr=Math.ceil(Zt/Yn)*Yn):(dr=At,vr=Zt),In&&En&&_&&(0,d.aI)((A-I)/_,Yn/1e3)?(fi=Math.round(Math.min((A-I)/Yn,de)),Yn=(A-I)/fi,dr=I,vr=A):er?(dr=In?I:dr,vr=En?A:vr,fi=K-1,Yn=(vr-dr)/fi):(fi=(vr-dr)/Yn,fi=(0,d.aJ)(fi,Math.round(fi),Yn/1e3)?Math.round(fi):Math.ceil(fi));const Ri=Math.max((0,d.aK)(Yn),(0,d.aK)(dr));sr=Math.pow(10,(0,d.k)(k)?Ri:k),dr=Math.round(dr*sr)/sr,vr=Math.round(vr*sr)/sr;let Vr=0;for(In&&(ze&&dr!==I?(s.push({value:I}),dr<I&&Vr++,(0,d.aJ)(Math.round((dr+Vr*Yn)*sr)/sr,I,yi(I,Qn,m))&&Vr++):dr<I&&Vr++);Vr<fi;++Vr){const fs=Math.round((dr+Vr*Yn)*sr)/sr;if(En&&fs>A)break;s.push({value:fs})}return En&&ze&&vr!==A?s.length&&(0,d.aJ)(s[s.length-1].value,A,yi(A,Qn,m))?s[s.length-1].value=A:s.push({value:A}):(!En||vr===A)&&s.push({value:vr}),s}({maxTicks:c,bounds:l.bounds,min:l.min,max:l.max,precision:s.precision,step:s.stepSize,count:s.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:s.minRotation||0,includeBounds:!1!==s.includeBounds},this._range||this);return"ticks"===l.bounds&&(0,d.aG)(I,this,"value"),l.reverse?(I.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),I}configure(){const l=this.ticks;let s=this.min,c=this.max;if(super.configure(),this.options.offset&&l.length){const f=(c-s)/Math.max(l.length-1,1)/2;s-=f,c+=f}this._startValue=s,this._endValue=c,this._valueRange=c-s}getLabelForValue(l){return(0,d.o)(l,this.chart.options.locale,this.options.ticks.format)}}class ss extends Fa{determineDataLimits(){const{min:l,max:s}=this.getMinMax(!0);this.min=(0,d.g)(l)?l:0,this.max=(0,d.g)(s)?s:1,this.handleTickRangeOptions()}computeTickLimit(){const l=this.isHorizontal(),s=l?this.width:this.height,c=(0,d.t)(this.options.ticks.minRotation),f=(l?Math.sin(c):Math.cos(c))||.001,_=this._resolveTickFontOptions(0);return Math.ceil(s/Math.min(40,_.lineHeight/f))}getPixelForValue(l){return null===l?NaN:this.getPixelForDecimal((l-this._startValue)/this._valueRange)}getValueForPixel(l){return this._startValue+this.getDecimalForPixel(l)*this._valueRange}}ss.id="linear",ss.defaults={ticks:{callback:d.aL.formatters.numeric}};const Ga=m=>Math.floor((0,d.aM)(m)),hs=(m,l)=>Math.pow(10,Ga(m)+l);function gr(m){return m/Math.pow(10,Ga(m))==1}function Ka(m,l,s){const c=Math.pow(10,s),f=Math.floor(m/c);return Math.ceil(l/c)-f}class hl extends ve{constructor(l){super(l),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(l,s){const c=Fa.prototype.parse.apply(this,[l,s]);if(0!==c)return(0,d.g)(c)&&c>0?c:null;this._zero=!0}determineDataLimits(){const{min:l,max:s}=this.getMinMax(!0);this.min=(0,d.g)(l)?Math.max(0,l):null,this.max=(0,d.g)(s)?Math.max(0,s):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!(0,d.g)(this._userMin)&&(this.min=l===hs(this.min,0)?hs(this.min,-1):hs(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:l,maxDefined:s}=this.getUserBounds();let c=this.min,f=this.max;const _=A=>c=l?c:A,I=A=>f=s?f:A;c===f&&(c<=0?(_(1),I(10)):(_(hs(c,-1)),I(hs(f,1)))),c<=0&&_(hs(f,-1)),f<=0&&I(hs(c,1)),this.min=c,this.max=f}buildTicks(){const l=this.options,c=function ya(m,{min:l,max:s}){l=(0,d.O)(m.min,l);const c=[],f=Ga(l);let _=function ha(m,l){let c=Ga(l-m);for(;Ka(m,l,c)>10;)c++;for(;Ka(m,l,c)<10;)c--;return Math.min(c,Ga(m))}(l,s),I=_<0?Math.pow(10,Math.abs(_)):1;const A=Math.pow(10,_),k=f>_?Math.pow(10,f):0,K=Math.round((l-k)*I)/I,de=Math.floor((l-k)/A/10)*A*10;let Ce=Math.floor((K-de)/Math.pow(10,_)),ze=(0,d.O)(m.min,Math.round((k+de+Ce*Math.pow(10,_))*I)/I);for(;ze<s;)c.push({value:ze,major:gr(ze),significand:Ce}),Ce>=10?Ce=Ce<15?15:20:Ce++,Ce>=20&&(_++,Ce=2,I=_>=0?1:I),ze=Math.round((k+de+Ce*Math.pow(10,_))*I)/I;const Qe=(0,d.O)(m.max,ze);return c.push({value:Qe,major:gr(Qe),significand:Ce}),c}({min:this._userMin,max:this._userMax},this);return"ticks"===l.bounds&&(0,d.aG)(c,this,"value"),l.reverse?(c.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),c}getLabelForValue(l){return void 0===l?"0":(0,d.o)(l,this.chart.options.locale,this.options.ticks.format)}configure(){const l=this.min;super.configure(),this._startValue=(0,d.aM)(l),this._valueRange=(0,d.aM)(this.max)-(0,d.aM)(l)}getPixelForValue(l){return(void 0===l||0===l)&&(l=this.min),null===l||isNaN(l)?NaN:this.getPixelForDecimal(l===this.min?0:((0,d.aM)(l)-this._startValue)/this._valueRange)}getValueForPixel(l){const s=this.getDecimalForPixel(l);return Math.pow(10,this._startValue+s*this._valueRange)}}function nt(m){const l=m.ticks;if(l.display&&m.display){const s=(0,d.E)(l.backdropPadding);return(0,d.v)(l.font&&l.font.size,d.d.font.size)+s.height}return 0}function Xt(m,l,s){return s=(0,d.b)(s)?s:[s],{w:(0,d.aN)(m,l.string,s),h:s.length*l.lineHeight}}function Qt(m,l,s,c,f){return m===c||m===f?{start:l-s/2,end:l+s/2}:m<c||m>f?{start:l-s,end:l}:{start:l,end:l+s}}function Ui(m,l,s,c,f){const _=Math.abs(Math.sin(s)),I=Math.abs(Math.cos(s));let A=0,k=0;c.start<l.l?(A=(l.l-c.start)/_,m.l=Math.min(m.l,l.l-A)):c.end>l.r&&(A=(c.end-l.r)/_,m.r=Math.max(m.r,l.r+A)),f.start<l.t?(k=(l.t-f.start)/I,m.t=Math.min(m.t,l.t-k)):f.end>l.b&&(k=(f.end-l.b)/I,m.b=Math.max(m.b,l.b+k))}function Wi(m,l,s){const c=m.drawingArea,{extra:f,additionalAngle:_,padding:I,size:A}=s,k=m.getPointPosition(l,c+f+I,_),K=Math.round((0,d.U)((0,d.ay)(k.angle+d.H))),de=function aa(m,l,s){return 90===s||270===s?m-=l/2:(s>270||s<90)&&(m-=l),m}(k.y,A.h,K),Ce=function qi(m){return 0===m||180===m?"center":m<180?"left":"right"}(K),ze=function Uo(m,l,s){return"right"===s?m-=l:"center"===s&&(m-=l/2),m}(k.x,A.w,Ce);return{visible:!0,x:k.x,y:de,textAlign:Ce,left:ze,top:de,right:ze+A.w,bottom:de+A.h}}function Ji(m,l){if(!l)return!0;const{left:s,top:c,right:f,bottom:_}=m;return!((0,d.C)({x:s,y:c},l)||(0,d.C)({x:s,y:_},l)||(0,d.C)({x:f,y:c},l)||(0,d.C)({x:f,y:_},l))}function pn(m,l,s){const{left:c,top:f,right:_,bottom:I}=s,{backdropColor:A}=l;if(!(0,d.k)(A)){const k=(0,d.aw)(l.borderRadius),K=(0,d.E)(l.backdropPadding);m.fillStyle=A;const de=c-K.left,Ce=f-K.top,ze=_-c+K.width,Qe=I-f+K.height;Object.values(k).some(Et=>0!==Et)?(m.beginPath(),(0,d.au)(m,{x:de,y:Ce,w:ze,h:Qe,radius:k}),m.fill()):m.fillRect(de,Ce,ze,Qe)}}function fa(m,l,s,c){const{ctx:f}=m;if(s)f.arc(m.xCenter,m.yCenter,l,0,d.T);else{let _=m.getPointPosition(0,l);f.moveTo(_.x,_.y);for(let I=1;I<c;I++)_=m.getPointPosition(I,l),f.lineTo(_.x,_.y)}}hl.id="logarithmic",hl.defaults={ticks:{callback:d.aL.formatters.logarithmic,major:{enabled:!0}}};class Xo extends Fa{constructor(l){super(l),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const l=this._padding=(0,d.E)(nt(this.options)/2),s=this.width=this.maxWidth-l.width,c=this.height=this.maxHeight-l.height;this.xCenter=Math.floor(this.left+s/2+l.left),this.yCenter=Math.floor(this.top+c/2+l.top),this.drawingArea=Math.floor(Math.min(s,c)/2)}determineDataLimits(){const{min:l,max:s}=this.getMinMax(!1);this.min=(0,d.g)(l)&&!isNaN(l)?l:0,this.max=(0,d.g)(s)&&!isNaN(s)?s:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/nt(this.options))}generateTickLabels(l){Fa.prototype.generateTickLabels.call(this,l),this._pointLabels=this.getLabels().map((s,c)=>{const f=(0,d.Q)(this.options.pointLabels.callback,[s,c],this);return f||0===f?f:""}).filter((s,c)=>this.chart.getDataVisibility(c))}fit(){const l=this.options;l.display&&l.pointLabels.display?function yr(m){const l={l:m.left+m._padding.left,r:m.right-m._padding.right,t:m.top+m._padding.top,b:m.bottom-m._padding.bottom},s=Object.assign({},l),c=[],f=[],_=m._pointLabels.length,I=m.options.pointLabels,A=I.centerPointLabels?d.P/_:0;for(let k=0;k<_;k++){const K=I.setContext(m.getPointLabelContext(k));f[k]=K.padding;const de=m.getPointPosition(k,m.drawingArea+f[k],A),Ce=(0,d.a0)(K.font),ze=Xt(m.ctx,Ce,m._pointLabels[k]);c[k]=ze;const Qe=(0,d.ay)(m.getIndexAngle(k)+A),Et=Math.round((0,d.U)(Qe));Ui(s,l,Qe,Qt(Et,de.x,ze.w,0,180),Qt(Et,de.y,ze.h,90,270))}m.setCenterPoint(l.l-s.l,s.r-l.r,l.t-s.t,s.b-l.b),m._pointLabelItems=function ns(m,l,s){const c=[],f=m._pointLabels.length,_=m.options,{centerPointLabels:I,display:A}=_.pointLabels,k={extra:nt(_)/2,additionalAngle:I?d.P/f:0};let K;for(let de=0;de<f;de++){k.padding=s[de],k.size=l[de];const Ce=Wi(m,de,k);c.push(Ce),"auto"===A&&(Ce.visible=Ji(Ce,K),Ce.visible&&(K=Ce))}return c}(m,c,f)}(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(l,s,c,f){this.xCenter+=Math.floor((l-s)/2),this.yCenter+=Math.floor((c-f)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(l,s,c,f))}getIndexAngle(l){return(0,d.ay)(l*(d.T/(this._pointLabels.length||1))+(0,d.t)(this.options.startAngle||0))}getDistanceFromCenterForValue(l){if((0,d.k)(l))return NaN;const s=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-l)*s:(l-this.min)*s}getValueForDistanceFromCenter(l){if((0,d.k)(l))return NaN;const s=l/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-s:this.min+s}getPointLabelContext(l){const s=this._pointLabels||[];if(l>=0&&l<s.length){const c=s[l];return function Ya(m,l,s){return(0,d.j)(m,{label:s,index:l,type:"pointLabel"})}(this.getContext(),l,c)}}getPointPosition(l,s,c=0){const f=this.getIndexAngle(l)-d.H+c;return{x:Math.cos(f)*s+this.xCenter,y:Math.sin(f)*s+this.yCenter,angle:f}}getPointPositionForValue(l,s){return this.getPointPosition(l,this.getDistanceFromCenterForValue(s))}getBasePosition(l){return this.getPointPositionForValue(l||0,this.getBaseValue())}getPointLabelPosition(l){const{left:s,top:c,right:f,bottom:_}=this._pointLabelItems[l];return{left:s,top:c,right:f,bottom:_}}drawBackground(){const{backgroundColor:l,grid:{circular:s}}=this.options;if(l){const c=this.ctx;c.save(),c.beginPath(),fa(this,this.getDistanceFromCenterForValue(this._endValue),s,this._pointLabels.length),c.closePath(),c.fillStyle=l,c.fill(),c.restore()}}drawGrid(){const l=this.ctx,s=this.options,{angleLines:c,grid:f,border:_}=s,I=this._pointLabels.length;let A,k,K;if(s.pointLabels.display&&function La(m,l){const{ctx:s,options:{pointLabels:c}}=m;for(let f=l-1;f>=0;f--){const _=m._pointLabelItems[f];if(!_.visible)continue;const I=c.setContext(m.getPointLabelContext(f));pn(s,I,_);const A=(0,d.a0)(I.font),{x:k,y:K,textAlign:de}=_;(0,d.Z)(s,m._pointLabels[f],k,K+A.lineHeight/2,A,{color:I.color,textAlign:de,textBaseline:"middle"})}}(this,I),f.display&&this.ticks.forEach((de,Ce)=>{if(0!==Ce){k=this.getDistanceFromCenterForValue(de.value);const ze=this.getContext(Ce),Qe=f.setContext(ze),Et=_.setContext(ze);!function Cl(m,l,s,c,f){const _=m.ctx,I=l.circular,{color:A,lineWidth:k}=l;!I&&!c||!A||!k||s<0||(_.save(),_.strokeStyle=A,_.lineWidth=k,_.setLineDash(f.dash),_.lineDashOffset=f.dashOffset,_.beginPath(),fa(m,s,I,c),_.closePath(),_.stroke(),_.restore())}(this,Qe,k,I,Et)}}),c.display){for(l.save(),A=I-1;A>=0;A--){const de=c.setContext(this.getPointLabelContext(A)),{color:Ce,lineWidth:ze}=de;!ze||!Ce||(l.lineWidth=ze,l.strokeStyle=Ce,l.setLineDash(de.borderDash),l.lineDashOffset=de.borderDashOffset,k=this.getDistanceFromCenterForValue(s.ticks.reverse?this.min:this.max),K=this.getPointPosition(A,k),l.beginPath(),l.moveTo(this.xCenter,this.yCenter),l.lineTo(K.x,K.y),l.stroke())}l.restore()}}drawBorder(){}drawLabels(){const l=this.ctx,s=this.options,c=s.ticks;if(!c.display)return;const f=this.getIndexAngle(0);let _,I;l.save(),l.translate(this.xCenter,this.yCenter),l.rotate(f),l.textAlign="center",l.textBaseline="middle",this.ticks.forEach((A,k)=>{if(0===k&&!s.reverse)return;const K=c.setContext(this.getContext(k)),de=(0,d.a0)(K.font);if(_=this.getDistanceFromCenterForValue(this.ticks[k].value),K.showLabelBackdrop){l.font=de.string,I=l.measureText(A.label).width,l.fillStyle=K.backdropColor;const Ce=(0,d.E)(K.backdropPadding);l.fillRect(-I/2-Ce.left,-_-de.size/2-Ce.top,I+Ce.width,de.size+Ce.height)}(0,d.Z)(l,A.label,0,-_,de,{color:K.color,strokeColor:K.textStrokeColor,strokeWidth:K.textStrokeWidth})}),l.restore()}drawTitle(){}}Xo.id="radialLinear",Xo.defaults={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:d.aL.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback:m=>m,padding:5,centerPointLabels:!1}},Xo.defaultRoutes={"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"},Xo.descriptors={angleLines:{_fallback:"grid"}};const Dl={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},jo=Object.keys(Dl);function V(m,l){return m-l}function H(m,l){if((0,d.k)(l))return null;const s=m._adapter,{parser:c,round:f,isoWeekday:_}=m._parseOpts;let I=l;return"function"==typeof c&&(I=c(I)),(0,d.g)(I)||(I="string"==typeof c?s.parse(I,c):s.parse(I)),null===I?null:(f&&(I="week"!==f||!(0,d.x)(_)&&!0!==_?s.startOf(I,f):s.startOf(I,"isoWeek",_)),+I)}function R(m,l,s,c){const f=jo.length;for(let _=jo.indexOf(m);_<f-1;++_){const I=Dl[jo[_]];if(I.common&&Math.ceil((s-l)/((I.steps?I.steps:Number.MAX_SAFE_INTEGER)*I.size))<=c)return jo[_]}return jo[f-1]}function Xe(m,l,s){if(s){if(s.length){const{lo:c,hi:f}=(0,d.aP)(s,l);m[s[c]>=l?s[c]:s[f]]=!0}}else m[l]=!0}function Yt(m,l,s){const c=[],f={},_=l.length;let I,A;for(I=0;I<_;++I)A=l[I],f[A]=I,c.push({value:A,major:!1});return 0!==_&&s?function Ue(m,l,s,c){const f=m._adapter,_=+f.startOf(l[0].value,c),I=l[l.length-1].value;let A,k;for(A=_;A<=I;A=+f.add(A,1,c))k=s[A],k>=0&&(l[k].major=!0);return l}(m,c,f,s):c}let Tn=(()=>{class m extends ve{constructor(s){super(s),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(s,c={}){const f=s.time||(s.time={}),_=this._adapter=new oi__date(s.adapters.date);_.init(c),(0,d.ab)(f.displayFormats,_.formats()),this._parseOpts={parser:f.parser,round:f.round,isoWeekday:f.isoWeekday},super.init(s),this._normalized=c.normalized}parse(s,c){return void 0===s?null:H(this,s)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const s=this.options,c=this._adapter,f=s.time.unit||"day";let{min:_,max:I,minDefined:A,maxDefined:k}=this.getUserBounds();function K(de){!A&&!isNaN(de.min)&&(_=Math.min(_,de.min)),!k&&!isNaN(de.max)&&(I=Math.max(I,de.max))}(!A||!k)&&(K(this._getLabelBounds()),("ticks"!==s.bounds||"labels"!==s.ticks.source)&&K(this.getMinMax(!1))),_=(0,d.g)(_)&&!isNaN(_)?_:+c.startOf(Date.now(),f),I=(0,d.g)(I)&&!isNaN(I)?I:+c.endOf(Date.now(),f)+1,this.min=Math.min(_,I-1),this.max=Math.max(_+1,I)}_getLabelBounds(){const s=this.getLabelTimestamps();let c=Number.POSITIVE_INFINITY,f=Number.NEGATIVE_INFINITY;return s.length&&(c=s[0],f=s[s.length-1]),{min:c,max:f}}buildTicks(){const s=this.options,c=s.time,f=s.ticks,_="labels"===f.source?this.getLabelTimestamps():this._generate();"ticks"===s.bounds&&_.length&&(this.min=this._userMin||_[0],this.max=this._userMax||_[_.length-1]);const I=this.min,k=(0,d.aO)(_,I,this.max);return this._unit=c.unit||(f.autoSkip?R(c.minUnit,this.min,this.max,this._getLabelCapacity(I)):function q(m,l,s,c,f){for(let _=jo.length-1;_>=jo.indexOf(s);_--){const I=jo[_];if(Dl[I].common&&m._adapter.diff(f,c,I)>=l-1)return I}return jo[s?jo.indexOf(s):0]}(this,k.length,c.minUnit,this.min,this.max)),this._majorUnit=f.major.enabled&&"year"!==this._unit?function me(m){for(let l=jo.indexOf(m)+1,s=jo.length;l<s;++l)if(Dl[jo[l]].common)return jo[l]}(this._unit):void 0,this.initOffsets(_),s.reverse&&k.reverse(),Yt(this,k,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(s=>+s.value))}initOffsets(s=[]){let _,I,c=0,f=0;this.options.offset&&s.length&&(_=this.getDecimalForValue(s[0]),c=1===s.length?1-_:(this.getDecimalForValue(s[1])-_)/2,I=this.getDecimalForValue(s[s.length-1]),f=1===s.length?I:(I-this.getDecimalForValue(s[s.length-2]))/2);const A=s.length<3?.5:.25;c=(0,d.S)(c,0,A),f=(0,d.S)(f,0,A),this._offsets={start:c,end:f,factor:1/(c+1+f)}}_generate(){const s=this._adapter,c=this.min,f=this.max,_=this.options,I=_.time,A=I.unit||R(I.minUnit,c,f,this._getLabelCapacity(c)),k=(0,d.v)(_.ticks.stepSize,1),K="week"===A&&I.isoWeekday,de=(0,d.x)(K)||!0===K,Ce={};let Qe,Et,ze=c;if(de&&(ze=+s.startOf(ze,"isoWeek",K)),ze=+s.startOf(ze,de?"day":A),s.diff(f,c,A)>1e5*k)throw new Error(c+" and "+f+" are too far apart with stepSize of "+k+" "+A);const At="data"===_.ticks.source&&this.getDataTimestamps();for(Qe=ze,Et=0;Qe<f;Qe=+s.add(Qe,k,A),Et++)Xe(Ce,Qe,At);return(Qe===f||"ticks"===_.bounds||1===Et)&&Xe(Ce,Qe,At),Object.keys(Ce).sort(V).map(Zt=>+Zt)}getLabelForValue(s){const f=this.options.time;return this._adapter.format(s,f.tooltipFormat?f.tooltipFormat:f.displayFormats.datetime)}format(s,c){return this._adapter.format(s,c||this.options.time.displayFormats[this._unit])}_tickFormatFunction(s,c,f,_){const I=this.options,A=I.ticks.callback;if(A)return(0,d.Q)(A,[s,c,f],this);const k=I.time.displayFormats,K=this._unit,de=this._majorUnit,ze=de&&k[de],Qe=f[c];return this._adapter.format(s,_||(de&&ze&&Qe&&Qe.major?ze:K&&k[K]))}generateTickLabels(s){let c,f,_;for(c=0,f=s.length;c<f;++c)_=s[c],_.label=this._tickFormatFunction(_.value,c,s)}getDecimalForValue(s){return null===s?NaN:(s-this.min)/(this.max-this.min)}getPixelForValue(s){const c=this._offsets,f=this.getDecimalForValue(s);return this.getPixelForDecimal((c.start+f)*c.factor)}getValueForPixel(s){const c=this._offsets,f=this.getDecimalForPixel(s)/c.factor-c.end;return this.min+f*(this.max-this.min)}_getLabelSize(s){const c=this.options.ticks,f=this.ctx.measureText(s).width,_=(0,d.t)(this.isHorizontal()?c.maxRotation:c.minRotation),I=Math.cos(_),A=Math.sin(_),k=this._resolveTickFontOptions(0).size;return{w:f*I+k*A,h:f*A+k*I}}_getLabelCapacity(s){const c=this.options.time,f=c.displayFormats,_=f[c.unit]||f.millisecond,I=this._tickFormatFunction(s,0,Yt(this,[s],this._majorUnit),_),A=this._getLabelSize(I),k=Math.floor(this.isHorizontal()?this.width/A.w:this.height/A.h)-1;return k>0?k:1}getDataTimestamps(){let c,f,s=this._cache.data||[];if(s.length)return s;const _=this.getMatchingVisibleMetas();if(this._normalized&&_.length)return this._cache.data=_[0].controller.getAllParsedValues(this);for(c=0,f=_.length;c<f;++c)s=s.concat(_[c].controller.getAllParsedValues(this));return this._cache.data=this.normalize(s)}getLabelTimestamps(){const s=this._cache.labels||[];let c,f;if(s.length)return s;const _=this.getLabels();for(c=0,f=_.length;c<f;++c)s.push(H(this,_[c]));return this._cache.labels=this._normalized?s:this.normalize(s)}normalize(s){return(0,d._)(s.sort(V))}}return m.id="time",m.defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}},m})();function xr(m,l,s){let _,I,A,k,c=0,f=m.length-1;s?(l>=m[c].pos&&l<=m[f].pos&&({lo:c,hi:f}=(0,d.B)(m,"pos",l)),({pos:_,time:A}=m[c]),({pos:I,time:k}=m[f])):(l>=m[c].time&&l<=m[f].time&&({lo:c,hi:f}=(0,d.B)(m,"time",l)),({time:_,pos:A}=m[c]),({time:I,pos:k}=m[f]));const K=I-_;return K?A+(k-A)*(l-_)/K:A}class Mi extends Tn{constructor(l){super(l),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const l=this._getTimestampsForTable(),s=this._table=this.buildLookupTable(l);this._minPos=xr(s,this.min),this._tableRange=xr(s,this.max)-this._minPos,super.initOffsets(l)}buildLookupTable(l){const{min:s,max:c}=this,f=[],_=[];let I,A,k,K,de;for(I=0,A=l.length;I<A;++I)K=l[I],K>=s&&K<=c&&f.push(K);if(f.length<2)return[{time:s,pos:0},{time:c,pos:1}];for(I=0,A=f.length;I<A;++I)de=f[I+1],k=f[I-1],K=f[I],Math.round((de+k)/2)!==K&&_.push({time:K,pos:I/(A-1)});return _}_generate(){const l=this.min,s=this.max;let c=super.getDataTimestamps();return(!c.includes(l)||!c.length)&&c.splice(0,0,l),(!c.includes(s)||1===c.length)&&c.push(s),c.sort((f,_)=>f-_)}_getTimestampsForTable(){let l=this._cache.all||[];if(l.length)return l;const s=this.getDataTimestamps(),c=this.getLabelTimestamps();return l=s.length&&c.length?this.normalize(s.concat(c)):s.length?s:c,l=this._cache.all=l,l}getDecimalForValue(l){return(xr(this._table,l)-this._minPos)/this._tableRange}getValueForPixel(l){const s=this._offsets,c=this.getDecimalForPixel(l)/s.factor-s.end;return xr(this._table,c*this._tableRange+this._minPos,!0)}}Mi.id="timeseries",Mi.defaults=Tn.defaults;const ko=[Br,F,bs,Object.freeze({__proto__:null,CategoryScale:Ia,LinearScale:ss,LogarithmicScale:hl,RadialLinearScale:Xo,TimeScale:Tn,TimeSeriesScale:Mi})]},1086:(Jn,Ft,z)=>{"use strict";function d(M){return M+.5|0}z.d(Ft,{$:()=>Qi,A:()=>Fi,B:()=>$r,C:()=>ms,D:()=>ln,E:()=>co,F:()=>ar,G:()=>ci,H:()=>Rr,I:()=>ce,J:()=>ri,K:()=>vi,L:()=>cs,M:()=>_e,N:()=>xt,O:()=>Br,P:()=>Wt,Q:()=>Wr,R:()=>vs,S:()=>fn,T:()=>wn,U:()=>vn,V:()=>wo,W:()=>qn,X:()=>zr,Y:()=>Ni,Z:()=>Hs,_:()=>Os,a:()=>Ls,a0:()=>qs,a1:()=>es,a2:()=>Hi,a3:()=>Mr,a4:()=>mr,a5:()=>Di,a6:()=>An,a7:()=>Sn,a8:()=>ki,a9:()=>ro,aA:()=>io,aB:()=>zs,aC:()=>Ko,aD:()=>ao,aE:()=>yn,aF:()=>tr,aG:()=>Jt,aH:()=>Ke,aI:()=>Vt,aJ:()=>se,aK:()=>$n,aL:()=>Xi,aM:()=>ie,aN:()=>Qr,aO:()=>Xr,aP:()=>Dr,aa:()=>Wo,ab:()=>ui,ac:()=>ur,ad:()=>Eo,ae:()=>mi,af:()=>zi,ag:()=>Ne,ah:()=>Ai,ai:()=>ht,aj:()=>pr,ak:()=>Es,al:()=>Po,am:()=>Gs,an:()=>Aa,ao:()=>Js,ap:()=>As,aq:()=>ts,ar:()=>no,as:()=>fo,at:()=>Yr,au:()=>lo,av:()=>Oi,aw:()=>Ss,ax:()=>Ta,ay:()=>Bt,az:()=>Ms,b:()=>rr,c:()=>ne,d:()=>Ao,e:()=>Oe,f:()=>hr,g:()=>Pr,h:()=>Er,i:()=>an,j:()=>Do,k:()=>un,l:()=>Gr,m:()=>Pn,n:()=>oi,o:()=>Nr,p:()=>Kt,q:()=>ks,r:()=>ps,s:()=>ee,t:()=>Cn,u:()=>ls,v:()=>Ar,w:()=>Ns,x:()=>rt,y:()=>le,z:()=>dn});const E=(M,Z,oe)=>Math.max(Math.min(M,oe),Z);function be(M){return E(d(2.55*M),0,255)}function qe(M){return E(d(255*M),0,255)}function je(M){return E(d(M/2.55)/100,0,1)}function Se(M){return E(d(100*M),0,100)}const Re={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},Ze=[..."0123456789ABCDEF"],Le=M=>Ze[15&M],xe=M=>Ze[(240&M)>>4]+Ze[15&M],it=M=>(240&M)>>4==(15&M);const We=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function Be(M,Z,oe){const De=Z*Math.min(oe,1-oe),$e=(at,Tt=(at+M/30)%12)=>oe-De*Math.max(Math.min(Tt-3,9-Tt,1),-1);return[$e(0),$e(8),$e(4)]}function kt(M,Z,oe){const De=($e,at=($e+M/60)%6)=>oe-oe*Z*Math.max(Math.min(at,4-at,1),0);return[De(5),De(3),De(1)]}function Mt(M,Z,oe){const De=Be(M,1,.5);let $e;for(Z+oe>1&&($e=1/(Z+oe),Z*=$e,oe*=$e),$e=0;$e<3;$e++)De[$e]*=1-Z-oe,De[$e]+=Z;return De}function It(M){const oe=M.r/255,De=M.g/255,$e=M.b/255,at=Math.max(oe,De,$e),Tt=Math.min(oe,De,$e),zt=(at+Tt)/2;let sn,Nn,or;return at!==Tt&&(or=at-Tt,Nn=zt>.5?or/(2-at-Tt):or/(at+Tt),sn=function ft(M,Z,oe,De,$e){return M===$e?(Z-oe)/De+(Z<oe?6:0):Z===$e?(oe-M)/De+2:(M-Z)/De+4}(oe,De,$e,or,at),sn=60*sn+.5),[0|sn,Nn||0,zt]}function St(M,Z,oe,De){return(Array.isArray(Z)?M(Z[0],Z[1],Z[2]):M(Z,oe,De)).map(qe)}function Ct(M,Z,oe){return St(Be,M,Z,oe)}function Gt(M){return(M%360+360)%360}const Te={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},Je={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};let yt;const tt=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/,Ot=M=>M<=.0031308?12.92*M:1.055*Math.pow(M,1/2.4)-.055,en=M=>M<=.04045?M/12.92:Math.pow((M+.055)/1.055,2.4);function On(M,Z,oe){if(M){let De=It(M);De[Z]=Math.max(0,Math.min(De[Z]+De[Z]*oe,0===Z?360:1)),De=Ct(De),M.r=De[0],M.g=De[1],M.b=De[2]}}function nn(M,Z){return M&&Object.assign(Z||{},M)}function _t(M){var Z={r:0,g:0,b:0,a:255};return Array.isArray(M)?M.length>=3&&(Z={r:M[0],g:M[1],b:M[2],a:255},M.length>3&&(Z.a=qe(M[3]))):(Z=nn(M,{r:0,g:0,b:0,a:1})).a=qe(Z.a),Z}function cn(M){return"r"===M.charAt(0)?function dt(M){const Z=tt.exec(M);let De,$e,at,oe=255;if(Z){if(Z[7]!==De){const Tt=+Z[7];oe=Z[8]?be(Tt):E(255*Tt,0,255)}return De=+Z[1],$e=+Z[3],at=+Z[5],De=255&(Z[2]?be(De):E(De,0,255)),$e=255&(Z[4]?be($e):E($e,0,255)),at=255&(Z[6]?be(at):E(at,0,255)),{r:De,g:$e,b:at,a:oe}}}(M):function Dt(M){const Z=We.exec(M);let De,oe=255;if(!Z)return;Z[5]!==De&&(oe=Z[6]?be(+Z[5]):qe(+Z[5]));const $e=Gt(+Z[2]),at=+Z[3]/100,Tt=+Z[4]/100;return De="hwb"===Z[1]?function gt(M,Z,oe){return St(Mt,M,Z,oe)}($e,at,Tt):"hsv"===Z[1]?function te(M,Z,oe){return St(kt,M,Z,oe)}($e,at,Tt):Ct($e,at,Tt),{r:De[0],g:De[1],b:De[2],a:oe}}(M)}class gn{constructor(Z){if(Z instanceof gn)return Z;const oe=typeof Z;let De;"object"===oe?De=_t(Z):"string"===oe&&(De=function lt(M){var oe,Z=M.length;return"#"===M[0]&&(4===Z||5===Z?oe={r:255&17*Re[M[1]],g:255&17*Re[M[2]],b:255&17*Re[M[3]],a:5===Z?17*Re[M[4]]:255}:(7===Z||9===Z)&&(oe={r:Re[M[1]]<<4|Re[M[2]],g:Re[M[3]]<<4|Re[M[4]],b:Re[M[5]]<<4|Re[M[6]],a:9===Z?Re[M[7]]<<4|Re[M[8]]:255})),oe}(Z)||function et(M){yt||(yt=function ct(){const M={},Z=Object.keys(Je),oe=Object.keys(Te);let De,$e,at,Tt,zt;for(De=0;De<Z.length;De++){for(Tt=zt=Z[De],$e=0;$e<oe.length;$e++)at=oe[$e],zt=zt.replace(at,Te[at]);at=parseInt(Je[Tt],16),M[zt]=[at>>16&255,at>>8&255,255&at]}return M}(),yt.transparent=[0,0,0,0]);const Z=yt[M.toLowerCase()];return Z&&{r:Z[0],g:Z[1],b:Z[2],a:4===Z.length?Z[3]:255}}(Z)||cn(Z)),this._rgb=De,this._valid=!!De}get valid(){return this._valid}get rgb(){var Z=nn(this._rgb);return Z&&(Z.a=je(Z.a)),Z}set rgb(Z){this._rgb=_t(Z)}rgbString(){return this._valid?function Ut(M){return M&&(M.a<255?`rgba(${M.r}, ${M.g}, ${M.b}, ${je(M.a)})`:`rgb(${M.r}, ${M.g}, ${M.b})`)}(this._rgb):void 0}hexString(){return this._valid?function jt(M){var Z=(M=>it(M.r)&&it(M.g)&&it(M.b)&&it(M.a))(M)?Le:xe;return M?"#"+Z(M.r)+Z(M.g)+Z(M.b)+((M,Z)=>M<255?Z(M):"")(M.a,Z):void 0}(this._rgb):void 0}hslString(){return this._valid?function qt(M){if(!M)return;const Z=It(M),oe=Z[0],De=Se(Z[1]),$e=Se(Z[2]);return M.a<255?`hsla(${oe}, ${De}%, ${$e}%, ${je(M.a)})`:`hsl(${oe}, ${De}%, ${$e}%)`}(this._rgb):void 0}mix(Z,oe){if(Z){const De=this.rgb,$e=Z.rgb;let at;const Tt=oe===at?.5:oe,zt=2*Tt-1,sn=De.a-$e.a,Nn=((zt*sn==-1?zt:(zt+sn)/(1+zt*sn))+1)/2;at=1-Nn,De.r=255&Nn*De.r+at*$e.r+.5,De.g=255&Nn*De.g+at*$e.g+.5,De.b=255&Nn*De.b+at*$e.b+.5,De.a=Tt*De.a+(1-Tt)*$e.a,this.rgb=De}return this}interpolate(Z,oe){return Z&&(this._rgb=function rn(M,Z,oe){const De=en(je(M.r)),$e=en(je(M.g)),at=en(je(M.b));return{r:qe(Ot(De+oe*(en(je(Z.r))-De))),g:qe(Ot($e+oe*(en(je(Z.g))-$e))),b:qe(Ot(at+oe*(en(je(Z.b))-at))),a:M.a+oe*(Z.a-M.a)}}(this._rgb,Z._rgb,oe)),this}clone(){return new gn(this.rgb)}alpha(Z){return this._rgb.a=qe(Z),this}clearer(Z){return this._rgb.a*=1-Z,this}greyscale(){const Z=this._rgb,oe=d(.3*Z.r+.59*Z.g+.11*Z.b);return Z.r=Z.g=Z.b=oe,this}opaquer(Z){return this._rgb.a*=1+Z,this}negate(){const Z=this._rgb;return Z.r=255-Z.r,Z.g=255-Z.g,Z.b=255-Z.b,this}lighten(Z){return On(this._rgb,2,Z),this}darken(Z){return On(this._rgb,2,-Z),this}saturate(Z){return On(this._rgb,1,Z),this}desaturate(Z){return On(this._rgb,1,-Z),this}rotate(Z){return function Lt(M,Z){var oe=It(M);oe[0]=Gt(oe[0]+Z),oe=Ct(oe),M.r=oe[0],M.g=oe[1],M.b=oe[2]}(this._rgb,Z),this}}function tr(){}const ur=(()=>{let M=0;return()=>M++})();function un(M){return null===M||typeof M>"u"}function rr(M){if(Array.isArray&&Array.isArray(M))return!0;const Z=Object.prototype.toString.call(M);return"[object"===Z.slice(0,7)&&"Array]"===Z.slice(-6)}function an(M){return null!==M&&"[object Object]"===Object.prototype.toString.call(M)}function Pr(M){return("number"==typeof M||M instanceof Number)&&isFinite(+M)}function Br(M,Z){return Pr(M)?M:Z}function Ar(M,Z){return typeof M>"u"?Z:M}const Pn=(M,Z)=>"string"==typeof M&&M.endsWith("%")?parseFloat(M)/100:+M/Z,oi=(M,Z)=>"string"==typeof M&&M.endsWith("%")?parseFloat(M)/100*Z:+M;function Wr(M,Z,oe){if(M&&"function"==typeof M.call)return M.apply(oe,Z)}function ar(M,Z,oe,De){let $e,at,Tt;if(rr(M))if(at=M.length,De)for($e=at-1;$e>=0;$e--)Z.call(oe,M[$e],$e);else for($e=0;$e<at;$e++)Z.call(oe,M[$e],$e);else if(an(M))for(Tt=Object.keys(M),at=Tt.length,$e=0;$e<at;$e++)Z.call(oe,M[Tt[$e]],Tt[$e])}function Ai(M,Z){let oe,De,$e,at;if(!M||!Z||M.length!==Z.length)return!1;for(oe=0,De=M.length;oe<De;++oe)if($e=M[oe],at=Z[oe],$e.datasetIndex!==at.datasetIndex||$e.index!==at.index)return!1;return!0}function bi(M){if(rr(M))return M.map(bi);if(an(M)){const Z=Object.create(null),oe=Object.keys(M),De=oe.length;let $e=0;for(;$e<De;++$e)Z[oe[$e]]=bi(M[oe[$e]]);return Z}return M}function lr(M){return-1===["__proto__","prototype","constructor"].indexOf(M)}function ir(M,Z,oe,De){if(!lr(M))return;const $e=Z[M],at=oe[M];an($e)&&an(at)?mr($e,at,De):Z[M]=bi(at)}function mr(M,Z,oe){const De=rr(Z)?Z:[Z],$e=De.length;if(!an(M))return M;const at=(oe=oe||{}).merger||ir;let Tt;for(let zt=0;zt<$e;++zt){if(Tt=De[zt],!an(Tt))continue;const sn=Object.keys(Tt);for(let Nn=0,or=sn.length;Nn<or;++Nn)at(sn[Nn],M,Tt,oe)}return M}function ui(M,Z){return mr(M,Z,{merger:gi})}function gi(M,Z,oe){if(!lr(M))return;const De=Z[M],$e=oe[M];an(De)&&an($e)?ui(De,$e):Object.prototype.hasOwnProperty.call(Z,M)||(Z[M]=bi($e))}const di={"":M=>M,x:M=>M.x,y:M=>M.y};function hr(M,Z){return(di[Z]||(di[Z]=function br(M){const Z=function Ti(M){const Z=M.split("."),oe=[];let De="";for(const $e of Z)De+=$e,De.endsWith("\\")?De=De.slice(0,-1)+".":(oe.push(De),De="");return oe}(M);return oe=>{for(const De of Z){if(""===De)break;oe=oe&&oe[De]}return oe}}(Z)))(M)}function Di(M){return M.charAt(0).toUpperCase()+M.slice(1)}const Er=M=>typeof M<"u",Sn=M=>"function"==typeof M,Ne=(M,Z)=>{if(M.size!==Z.size)return!1;for(const oe of M)if(!Z.has(oe))return!1;return!0};function ht(M){return"mouseup"===M.type||"click"===M.type||"contextmenu"===M.type}const Wt=Math.PI,wn=2*Wt,Hn=wn+Wt,jr=Number.POSITIVE_INFINITY,kr=Wt/180,Rr=Wt/2,mt=Wt/4,Ae=2*Wt/3,ie=Math.log10,ee=Math.sign;function se(M,Z,oe){return Math.abs(M-Z)<oe}function Ke(M){const Z=Math.round(M);M=se(M,Z,M/1e3)?Z:M;const oe=Math.pow(10,Math.floor(ie(M))),De=M/oe;return(De<=1?1:De<=2?2:De<=5?5:10)*oe}function xt(M){const Z=[],oe=Math.sqrt(M);let De;for(De=1;De<oe;De++)M%De==0&&(Z.push(De),Z.push(M/De));return oe===(0|oe)&&Z.push(oe),Z.sort(($e,at)=>$e-at).pop(),Z}function rt(M){return!isNaN(parseFloat(M))&&isFinite(M)}function Vt(M,Z){const oe=Math.round(M);return oe-Z<=M&&oe+Z>=M}function Jt(M,Z,oe){let De,$e,at;for(De=0,$e=M.length;De<$e;De++)at=M[De][oe],isNaN(at)||(Z.min=Math.min(Z.min,at),Z.max=Math.max(Z.max,at))}function Cn(M){return M*(Wt/180)}function vn(M){return M*(180/Wt)}function $n(M){if(!Pr(M))return;let Z=1,oe=0;for(;Math.round(M*Z)/Z!==M;)Z*=10,oe++;return oe}function ln(M,Z){const oe=Z.x-M.x,De=Z.y-M.y,$e=Math.sqrt(oe*oe+De*De);let at=Math.atan2(De,oe);return at<-.5*Wt&&(at+=wn),{angle:at,distance:$e}}function yn(M,Z){return Math.sqrt(Math.pow(Z.x-M.x,2)+Math.pow(Z.y-M.y,2))}function kn(M,Z){return(M-Z+Hn)%wn-Wt}function Bt(M){return(M%wn+wn)%wn}function Kt(M,Z,oe,De){const $e=Bt(M),at=Bt(Z),Tt=Bt(oe),zt=Bt(at-$e),sn=Bt(Tt-$e),Nn=Bt($e-at),or=Bt($e-Tt);return $e===at||$e===Tt||De&&at===Tt||zt>sn&&Nn<or}function fn(M,Z,oe){return Math.max(Z,Math.min(oe,M))}function qn(M){return fn(M,-32768,32767)}function pr(M,Z,oe,De=1e-6){return M>=Math.min(Z,oe)-De&&M<=Math.max(Z,oe)+De}function Dr(M,Z,oe){oe=oe||(Tt=>M[Tt]<Z);let at,De=M.length-1,$e=0;for(;De-$e>1;)at=$e+De>>1,oe(at)?$e=at:De=at;return{lo:$e,hi:De}}const $r=(M,Z,oe,De)=>Dr(M,oe,De?$e=>{const at=M[$e][Z];return at<oe||at===oe&&M[$e+1][Z]===oe}:$e=>M[$e][Z]<oe),Fi=(M,Z,oe)=>Dr(M,oe,De=>M[De][Z]>=oe);function Xr(M,Z,oe){let De=0,$e=M.length;for(;De<$e&&M[De]<Z;)De++;for(;$e>De&&M[$e-1]>oe;)$e--;return De>0||$e<M.length?M.slice(De,$e):M}const Ur=["push","pop","shift","splice","unshift"];function Gr(M,Z){M._chartjs?M._chartjs.listeners.push(Z):(Object.defineProperty(M,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[Z]}}),Ur.forEach(oe=>{const De="_onData"+Di(oe),$e=M[oe];Object.defineProperty(M,oe,{configurable:!0,enumerable:!1,value(...at){const Tt=$e.apply(this,at);return M._chartjs.listeners.forEach(zt=>{"function"==typeof zt[De]&&zt[De](...at)}),Tt}})}))}function ls(M,Z){const oe=M._chartjs;if(!oe)return;const De=oe.listeners,$e=De.indexOf(Z);-1!==$e&&De.splice($e,1),!(De.length>0)&&(Ur.forEach(at=>{delete M[at]}),delete M._chartjs)}function Os(M){const Z=new Set(M);return Z.size===M.length?M:Array.from(Z)}const ps=typeof window>"u"?function(M){return M()}:window.requestAnimationFrame;function cs(M,Z){let oe=[],De=!1;return function(...$e){oe=$e,De||(De=!0,ps.call(window,()=>{De=!1,M.apply(Z,oe)}))}}function Eo(M,Z){let oe;return function(...De){return Z?(clearTimeout(oe),oe=setTimeout(M,Z,De)):M.apply(this,De),Z}}const es=M=>"start"===M?"left":"end"===M?"right":"center",Hi=(M,Z,oe)=>"start"===M?Z:"end"===M?oe:(Z+oe)/2,zs=(M,Z,oe,De)=>M===(De?"left":"right")?oe:"center"===M?(Z+oe)/2:Z;function ks(M,Z,oe){const De=Z.length;let $e=0,at=De;if(M._sorted){const{iScale:Tt,_parsed:zt}=M,sn=Tt.axis,{min:Nn,max:or,minDefined:Jr,maxDefined:qr}=Tt.getUserBounds();Jr&&($e=fn(Math.min($r(zt,sn,Nn).lo,oe?De:$r(Z,sn,Tt.getPixelForValue(Nn)).lo),0,De-1)),at=qr?fn(Math.max($r(zt,Tt.axis,or,!0).hi+1,oe?0:$r(Z,sn,Tt.getPixelForValue(or),!0).hi+1),$e,De)-$e:De-$e}return{start:$e,count:at}}function Ns(M){const{xScale:Z,yScale:oe,_scaleRanges:De}=M,$e={xmin:Z.min,xmax:Z.max,ymin:oe.min,ymax:oe.max};if(!De)return M._scaleRanges=$e,!0;const at=De.xmin!==Z.min||De.xmax!==Z.max||De.ymin!==oe.min||De.ymax!==oe.max;return Object.assign(De,$e),at}const Fs=M=>0===M||1===M,re=(M,Z,oe)=>-Math.pow(2,10*(M-=1))*Math.sin((M-Z)*wn/oe),pe=(M,Z,oe)=>Math.pow(2,-10*M)*Math.sin((M-Z)*wn/oe)+1,Oe={linear:M=>M,easeInQuad:M=>M*M,easeOutQuad:M=>-M*(M-2),easeInOutQuad:M=>(M/=.5)<1?.5*M*M:-.5*(--M*(M-2)-1),easeInCubic:M=>M*M*M,easeOutCubic:M=>(M-=1)*M*M+1,easeInOutCubic:M=>(M/=.5)<1?.5*M*M*M:.5*((M-=2)*M*M+2),easeInQuart:M=>M*M*M*M,easeOutQuart:M=>-((M-=1)*M*M*M-1),easeInOutQuart:M=>(M/=.5)<1?.5*M*M*M*M:-.5*((M-=2)*M*M*M-2),easeInQuint:M=>M*M*M*M*M,easeOutQuint:M=>(M-=1)*M*M*M*M+1,easeInOutQuint:M=>(M/=.5)<1?.5*M*M*M*M*M:.5*((M-=2)*M*M*M*M+2),easeInSine:M=>1-Math.cos(M*Rr),easeOutSine:M=>Math.sin(M*Rr),easeInOutSine:M=>-.5*(Math.cos(Wt*M)-1),easeInExpo:M=>0===M?0:Math.pow(2,10*(M-1)),easeOutExpo:M=>1===M?1:1-Math.pow(2,-10*M),easeInOutExpo:M=>Fs(M)?M:M<.5?.5*Math.pow(2,10*(2*M-1)):.5*(2-Math.pow(2,-10*(2*M-1))),easeInCirc:M=>M>=1?M:-(Math.sqrt(1-M*M)-1),easeOutCirc:M=>Math.sqrt(1-(M-=1)*M),easeInOutCirc:M=>(M/=.5)<1?-.5*(Math.sqrt(1-M*M)-1):.5*(Math.sqrt(1-(M-=2)*M)+1),easeInElastic:M=>Fs(M)?M:re(M,.075,.3),easeOutElastic:M=>Fs(M)?M:pe(M,.075,.3),easeInOutElastic:M=>Fs(M)?M:M<.5?.5*re(2*M,.1125,.45):.5+.5*pe(2*M-1,.1125,.45),easeInBack:M=>M*M*(2.70158*M-1.70158),easeOutBack:M=>(M-=1)*M*(2.70158*M+1.70158)+1,easeInOutBack(M){let Z=1.70158;return(M/=.5)<1?M*M*((1+(Z*=1.525))*M-Z)*.5:.5*((M-=2)*M*((1+(Z*=1.525))*M+Z)+2)},easeInBounce:M=>1-Oe.easeOutBounce(1-M),easeOutBounce:M=>M<1/2.75?7.5625*M*M:M<2/2.75?7.5625*(M-=1.5/2.75)*M+.75:M<2.5/2.75?7.5625*(M-=2.25/2.75)*M+.9375:7.5625*(M-=2.625/2.75)*M+.984375,easeInOutBounce:M=>M<.5?.5*Oe.easeInBounce(2*M):.5*Oe.easeOutBounce(2*M-1)+.5};function Ee(M){if(M&&"object"==typeof M){const Z=M.toString();return"[object CanvasPattern]"===Z||"[object CanvasGradient]"===Z}return!1}function ne(M){return Ee(M)?M:new gn(M)}function ve(M){return Ee(M)?M:new gn(M).saturate(.5).darken(.1).hexString()}const st=["x","y","borderWidth","radius","tension"],wt=["color","borderColor","backgroundColor"],Un=new Map;function Nr(M,Z,oe){return function jn(M,Z){Z=Z||{};const oe=M+JSON.stringify(Z);let De=Un.get(oe);return De||(De=new Intl.NumberFormat(M,Z),Un.set(oe,De)),De}(Z,oe).format(M)}const Kr={values:M=>rr(M)?M:""+M,numeric(M,Z,oe){if(0===M)return"0";const De=this.chart.options.locale;let $e,at=M;if(oe.length>1){const Nn=Math.max(Math.abs(oe[0].value),Math.abs(oe[oe.length-1].value));(Nn<1e-4||Nn>1e15)&&($e="scientific"),at=function gs(M,Z){let oe=Z.length>3?Z[2].value-Z[1].value:Z[1].value-Z[0].value;return Math.abs(oe)>=1&&M!==Math.floor(M)&&(oe=M-Math.floor(M)),oe}(M,oe)}const Tt=ie(Math.abs(at)),zt=isNaN(Tt)?1:Math.max(Math.min(-1*Math.floor(Tt),20),0),sn={notation:$e,minimumFractionDigits:zt,maximumFractionDigits:zt};return Object.assign(sn,this.options.ticks.format),Nr(M,De,sn)},logarithmic(M,Z,oe){if(0===M)return"0";const De=oe[Z].significand||M/Math.pow(10,Math.floor(ie(M)));return[1,2,3,5,10,15].includes(De)||Z>.8*oe.length?Kr.numeric.call(this,M,Z,oe):""}};var Xi={formatters:Kr};const Mr=Object.create(null),An=Object.create(null);function Fr(M,Z){if(!Z)return M;const oe=Z.split(".");for(let De=0,$e=oe.length;De<$e;++De){const at=oe[De];M=M[at]||(M[at]=Object.create(null))}return M}function Lr(M,Z,oe){return"string"==typeof Z?mr(Fr(M,Z),oe):mr(Fr(M,""),Z)}class Ds{constructor(Z,oe){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=De=>De.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(De,$e)=>ve($e.backgroundColor),this.hoverBorderColor=(De,$e)=>ve($e.borderColor),this.hoverColor=(De,$e)=>ve($e.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(Z),this.apply(oe)}set(Z,oe){return Lr(this,Z,oe)}get(Z){return Fr(this,Z)}describe(Z,oe){return Lr(An,Z,oe)}override(Z,oe){return Lr(Mr,Z,oe)}route(Z,oe,De,$e){const at=Fr(this,Z),Tt=Fr(this,De),zt="_"+oe;Object.defineProperties(at,{[zt]:{value:at[oe],writable:!0},[oe]:{enumerable:!0,get(){const sn=this[zt],Nn=Tt[$e];return an(sn)?Object.assign({},Nn,sn):Ar(sn,Nn)},set(sn){this[zt]=sn}}})}apply(Z){Z.forEach(oe=>oe(this))}}var Ao=new Ds({_scriptable:M=>!M.startsWith("on"),_indexable:M=>"events"!==M,hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[function $t(M){M.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),M.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:Z=>"onProgress"!==Z&&"onComplete"!==Z&&"fn"!==Z}),M.set("animations",{colors:{type:"color",properties:wt},numbers:{type:"number",properties:st}}),M.describe("animations",{_fallback:"animation"}),M.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:Z=>0|Z}}}})},function tn(M){M.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})},function Si(M){M.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(Z,oe)=>oe.lineWidth,tickColor:(Z,oe)=>oe.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:Xi.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),M.route("scale.ticks","color","","color"),M.route("scale.grid","color","","borderColor"),M.route("scale.border","color","","borderColor"),M.route("scale.title","color","","color"),M.describe("scale",{_fallback:!1,_scriptable:Z=>!Z.startsWith("before")&&!Z.startsWith("after")&&"callback"!==Z&&"parser"!==Z,_indexable:Z=>"borderDash"!==Z&&"tickBorderDash"!==Z&&"dash"!==Z}),M.describe("scales",{_fallback:"scale"}),M.describe("scale.ticks",{_scriptable:Z=>"backdropPadding"!==Z&&"callback"!==Z,_indexable:Z=>"backdropPadding"!==Z})}]);function wo(M,Z,oe,De,$e){let at=Z[$e];return at||(at=Z[$e]=M.measureText($e).width,oe.push($e)),at>De&&(De=at),De}function Qr(M,Z,oe,De){let $e=(De=De||{}).data=De.data||{},at=De.garbageCollect=De.garbageCollect||[];De.font!==Z&&($e=De.data={},at=De.garbageCollect=[],De.font=Z),M.save(),M.font=Z;let Tt=0;const zt=oe.length;let sn,Nn,or,Jr,qr;for(sn=0;sn<zt;sn++)if(Jr=oe[sn],null==Jr||rr(Jr)){if(rr(Jr))for(Nn=0,or=Jr.length;Nn<or;Nn++)qr=Jr[Nn],null!=qr&&!rr(qr)&&(Tt=wo(M,$e,at,Tt,qr))}else Tt=wo(M,$e,at,Tt,Jr);M.restore();const $s=at.length/2;if($s>oe.length){for(sn=0;sn<$s;sn++)delete $e[at[sn]];at.splice(0,$s)}return Tt}function zr(M,Z,oe){const De=M.currentDevicePixelRatio,$e=0!==oe?Math.max(oe/2,.5):0;return Math.round((Z-$e)*De)/De+$e}function zi(M,Z){(Z=Z||M.getContext("2d")).save(),Z.resetTransform(),Z.clearRect(0,0,M.width,M.height),Z.restore()}function Yr(M,Z,oe,De){ao(M,Z,oe,De,null)}function ao(M,Z,oe,De,$e){let at,Tt,zt,sn,Nn,or,Jr,qr;const $s=Z.pointStyle,Ps=Z.rotation,Y=Z.radius;let ue=(Ps||0)*kr;if($s&&"object"==typeof $s&&(at=$s.toString(),"[object HTMLImageElement]"===at||"[object HTMLCanvasElement]"===at))return M.save(),M.translate(oe,De),M.rotate(ue),M.drawImage($s,-$s.width/2,-$s.height/2,$s.width,$s.height),void M.restore();if(!(isNaN(Y)||Y<=0)){switch(M.beginPath(),$s){default:$e?M.ellipse(oe,De,$e/2,Y,0,0,wn):M.arc(oe,De,Y,0,wn),M.closePath();break;case"triangle":or=$e?$e/2:Y,M.moveTo(oe+Math.sin(ue)*or,De-Math.cos(ue)*Y),ue+=Ae,M.lineTo(oe+Math.sin(ue)*or,De-Math.cos(ue)*Y),ue+=Ae,M.lineTo(oe+Math.sin(ue)*or,De-Math.cos(ue)*Y),M.closePath();break;case"rectRounded":Nn=.516*Y,sn=Y-Nn,Tt=Math.cos(ue+mt)*sn,Jr=Math.cos(ue+mt)*($e?$e/2-Nn:sn),zt=Math.sin(ue+mt)*sn,qr=Math.sin(ue+mt)*($e?$e/2-Nn:sn),M.arc(oe-Jr,De-zt,Nn,ue-Wt,ue-Rr),M.arc(oe+qr,De-Tt,Nn,ue-Rr,ue),M.arc(oe+Jr,De+zt,Nn,ue,ue+Rr),M.arc(oe-qr,De+Tt,Nn,ue+Rr,ue+Wt),M.closePath();break;case"rect":if(!Ps){sn=Math.SQRT1_2*Y,or=$e?$e/2:sn,M.rect(oe-or,De-sn,2*or,2*sn);break}ue+=mt;case"rectRot":Jr=Math.cos(ue)*($e?$e/2:Y),Tt=Math.cos(ue)*Y,zt=Math.sin(ue)*Y,qr=Math.sin(ue)*($e?$e/2:Y),M.moveTo(oe-Jr,De-zt),M.lineTo(oe+qr,De-Tt),M.lineTo(oe+Jr,De+zt),M.lineTo(oe-qr,De+Tt),M.closePath();break;case"crossRot":ue+=mt;case"cross":Jr=Math.cos(ue)*($e?$e/2:Y),Tt=Math.cos(ue)*Y,zt=Math.sin(ue)*Y,qr=Math.sin(ue)*($e?$e/2:Y),M.moveTo(oe-Jr,De-zt),M.lineTo(oe+Jr,De+zt),M.moveTo(oe+qr,De-Tt),M.lineTo(oe-qr,De+Tt);break;case"star":Jr=Math.cos(ue)*($e?$e/2:Y),Tt=Math.cos(ue)*Y,zt=Math.sin(ue)*Y,qr=Math.sin(ue)*($e?$e/2:Y),M.moveTo(oe-Jr,De-zt),M.lineTo(oe+Jr,De+zt),M.moveTo(oe+qr,De-Tt),M.lineTo(oe-qr,De+Tt),ue+=mt,Jr=Math.cos(ue)*($e?$e/2:Y),Tt=Math.cos(ue)*Y,zt=Math.sin(ue)*Y,qr=Math.sin(ue)*($e?$e/2:Y),M.moveTo(oe-Jr,De-zt),M.lineTo(oe+Jr,De+zt),M.moveTo(oe+qr,De-Tt),M.lineTo(oe-qr,De+Tt);break;case"line":Tt=$e?$e/2:Math.cos(ue)*Y,zt=Math.sin(ue)*Y,M.moveTo(oe-Tt,De-zt),M.lineTo(oe+Tt,De+zt);break;case"dash":M.moveTo(oe,De),M.lineTo(oe+Math.cos(ue)*($e?$e/2:Y),De+Math.sin(ue)*Y);break;case!1:M.closePath()}M.fill(),Z.borderWidth>0&&M.stroke()}}function ms(M,Z,oe){return oe=oe||.5,!Z||M&&M.x>Z.left-oe&&M.x<Z.right+oe&&M.y>Z.top-oe&&M.y<Z.bottom+oe}function Ni(M,Z){M.save(),M.beginPath(),M.rect(Z.left,Z.top,Z.right-Z.left,Z.bottom-Z.top),M.clip()}function Qi(M){M.restore()}function no(M,Z,oe,De,$e){if(!Z)return M.lineTo(oe.x,oe.y);if("middle"===$e){const at=(Z.x+oe.x)/2;M.lineTo(at,Z.y),M.lineTo(at,oe.y)}else"after"===$e!=!!De?M.lineTo(Z.x,oe.y):M.lineTo(oe.x,Z.y);M.lineTo(oe.x,oe.y)}function fo(M,Z,oe,De){if(!Z)return M.lineTo(oe.x,oe.y);M.bezierCurveTo(De?Z.cp1x:Z.cp2x,De?Z.cp1y:Z.cp2y,De?oe.cp2x:oe.cp1x,De?oe.cp2y:oe.cp1y,oe.x,oe.y)}function Io(M,Z,oe,De,$e){if($e.strikethrough||$e.underline){const at=M.measureText(De),Tt=Z-at.actualBoundingBoxLeft,zt=Z+at.actualBoundingBoxRight,Nn=oe+at.actualBoundingBoxDescent,or=$e.strikethrough?(oe-at.actualBoundingBoxAscent+Nn)/2:Nn;M.strokeStyle=M.fillStyle,M.beginPath(),M.lineWidth=$e.decorationWidth||2,M.moveTo(Tt,or),M.lineTo(zt,or),M.stroke()}}function Co(M,Z){const oe=M.fillStyle;M.fillStyle=Z.color,M.fillRect(Z.left,Z.top,Z.width,Z.height),M.fillStyle=oe}function Hs(M,Z,oe,De,$e,at={}){const Tt=rr(Z)?Z:[Z],zt=at.strokeWidth>0&&""!==at.strokeColor;let sn,Nn;for(M.save(),M.font=$e.string,function Qs(M,Z){Z.translation&&M.translate(Z.translation[0],Z.translation[1]),un(Z.rotation)||M.rotate(Z.rotation),Z.color&&(M.fillStyle=Z.color),Z.textAlign&&(M.textAlign=Z.textAlign),Z.textBaseline&&(M.textBaseline=Z.textBaseline)}(M,at),sn=0;sn<Tt.length;++sn)Nn=Tt[sn],at.backdrop&&Co(M,at.backdrop),zt&&(at.strokeColor&&(M.strokeStyle=at.strokeColor),un(at.strokeWidth)||(M.lineWidth=at.strokeWidth),M.strokeText(Nn,oe,De,at.maxWidth)),M.fillText(Nn,oe,De,at.maxWidth),Io(M,oe,De,Nn,at),De+=Number($e.lineHeight);M.restore()}function lo(M,Z){const{x:oe,y:De,w:$e,h:at,radius:Tt}=Z;M.arc(oe+Tt.topLeft,De+Tt.topLeft,Tt.topLeft,1.5*Wt,Wt,!0),M.lineTo(oe,De+at-Tt.bottomLeft),M.arc(oe+Tt.bottomLeft,De+at-Tt.bottomLeft,Tt.bottomLeft,Wt,Rr,!0),M.lineTo(oe+$e-Tt.bottomRight,De+at),M.arc(oe+$e-Tt.bottomRight,De+at-Tt.bottomRight,Tt.bottomRight,Rr,0,!0),M.lineTo(oe+$e,De+Tt.topRight),M.arc(oe+$e-Tt.topRight,De+Tt.topRight,Tt.topRight,0,-Rr,!0),M.lineTo(oe+Tt.topLeft,De)}const Ho=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,ys=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function xi(M,Z){const oe=(""+M).match(Ho);if(!oe||"normal"===oe[1])return 1.2*Z;switch(M=+oe[2],oe[3]){case"px":return M;case"%":M/=100}return Z*M}const Ws=M=>+M||0;function Es(M,Z){const oe={},De=an(Z),$e=De?Object.keys(Z):Z,at=an(M)?De?Tt=>Ar(M[Tt],M[Z[Tt]]):Tt=>M[Tt]:()=>M;for(const Tt of $e)oe[Tt]=Ws(at(Tt));return oe}function Oi(M){return Es(M,{top:"y",right:"x",bottom:"y",left:"x"})}function Ss(M){return Es(M,["topLeft","topRight","bottomLeft","bottomRight"])}function co(M){const Z=Oi(M);return Z.width=Z.left+Z.right,Z.height=Z.top+Z.bottom,Z}function qs(M,Z){let oe=Ar((M=M||{}).size,(Z=Z||Ao.font).size);"string"==typeof oe&&(oe=parseInt(oe,10));let De=Ar(M.style,Z.style);De&&!(""+De).match(ys)&&(console.warn('Invalid font style specified: "'+De+'"'),De=void 0);const $e={family:Ar(M.family,Z.family),lineHeight:xi(Ar(M.lineHeight,Z.lineHeight),oe),size:oe,style:De,weight:Ar(M.weight,Z.weight),string:""};return $e.string=function is(M){return!M||un(M.size)||un(M.family)?null:(M.style?M.style+" ":"")+(M.weight?M.weight+" ":"")+M.size+"px "+M.family}($e),$e}function Ls(M,Z,oe,De){let at,Tt,zt,$e=!0;for(at=0,Tt=M.length;at<Tt;++at)if(zt=M[at],void 0!==zt&&(void 0!==Z&&"function"==typeof zt&&(zt=zt(Z),$e=!1),void 0!==oe&&rr(zt)&&(zt=zt[oe%zt.length],$e=!1),void 0!==zt))return De&&!$e&&(De.cacheable=!1),zt}function vs(M,Z,oe){const{min:De,max:$e}=M,at=oi(Z,($e-De)/2),Tt=(zt,sn)=>oe&&0===zt?0:zt+sn;return{min:Tt(De,-Math.abs(at)),max:Tt($e,at)}}function Do(M,Z){return Object.assign(Object.create(M),Z)}function ro(M,Z=[""],oe,De,$e=(()=>M[0])){const at=oe||M;typeof De>"u"&&(De=O("_fallback",M));const Tt={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:M,_rootScopes:at,_fallback:De,_getTarget:$e,override:zt=>ro([zt,...M],Z,at,De)};return new Proxy(Tt,{deleteProperty:(zt,sn)=>(delete zt[sn],delete zt._keys,delete M[0][sn],!0),get:(zt,sn)=>So(zt,sn,()=>function $i(M,Z,oe,De){let $e;for(const at of Z)if($e=O(No(at,M),oe),typeof $e<"u")return uo(M,$e)?Mo(oe,De,M,$e):$e}(sn,Z,M,zt)),getOwnPropertyDescriptor:(zt,sn)=>Reflect.getOwnPropertyDescriptor(zt._scopes[0],sn),getPrototypeOf:()=>Reflect.getPrototypeOf(M[0]),has:(zt,sn)=>he(zt).includes(sn),ownKeys:zt=>he(zt),set(zt,sn,Nn){const or=zt._storage||(zt._storage=$e());return zt[sn]=or[sn]=Nn,delete zt._keys,!0}})}function ki(M,Z,oe,De){const $e={_cacheable:!1,_proxy:M,_context:Z,_subProxy:oe,_stack:new Set,_descriptors:Wo(M,De),setContext:at=>ki(M,at,oe,De),override:at=>ki(M.override(at),Z,oe,De)};return new Proxy($e,{deleteProperty:(at,Tt)=>(delete at[Tt],delete M[Tt],!0),get:(at,Tt,zt)=>So(at,Tt,()=>function po(M,Z,oe){const{_proxy:De,_context:$e,_subProxy:at,_descriptors:Tt}=M;let zt=De[Z];return Sn(zt)&&Tt.isScriptable(Z)&&(zt=function Go(M,Z,oe,De){const{_proxy:$e,_context:at,_subProxy:Tt,_stack:zt}=oe;if(zt.has(M))throw new Error("Recursion detected: "+Array.from(zt).join("->")+"->"+M);zt.add(M);let sn=Z(at,Tt||De);return zt.delete(M),uo(M,sn)&&(sn=Mo($e._scopes,$e,M,sn)),sn}(Z,zt,M,oe)),rr(zt)&&zt.length&&(zt=function go(M,Z,oe,De){const{_proxy:$e,_context:at,_subProxy:Tt,_descriptors:zt}=oe;if(typeof at.index<"u"&&De(M))return Z[at.index%Z.length];if(an(Z[0])){const sn=Z,Nn=$e._scopes.filter(or=>or!==sn);Z=[];for(const or of sn){const Jr=Mo(Nn,$e,M,or);Z.push(ki(Jr,at,Tt&&Tt[M],zt))}}return Z}(Z,zt,M,Tt.isIndexable)),uo(Z,zt)&&(zt=ki(zt,$e,at&&at[Z],Tt)),zt}(at,Tt,zt)),getOwnPropertyDescriptor:(at,Tt)=>at._descriptors.allKeys?Reflect.has(M,Tt)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(M,Tt),getPrototypeOf:()=>Reflect.getPrototypeOf(M),has:(at,Tt)=>Reflect.has(M,Tt),ownKeys:()=>Reflect.ownKeys(M),set:(at,Tt,zt)=>(M[Tt]=zt,delete at[Tt],!0)})}function Wo(M,Z={scriptable:!0,indexable:!0}){const{_scriptable:oe=Z.scriptable,_indexable:De=Z.indexable,_allKeys:$e=Z.allKeys}=M;return{allKeys:$e,scriptable:oe,indexable:De,isScriptable:Sn(oe)?oe:()=>oe,isIndexable:Sn(De)?De:()=>De}}const No=(M,Z)=>M?M+Di(Z):Z,uo=(M,Z)=>an(Z)&&"adapters"!==M&&(null===Object.getPrototypeOf(Z)||Z.constructor===Object);function So(M,Z,oe){if(Object.prototype.hasOwnProperty.call(M,Z))return M[Z];const De=oe();return M[Z]=De,De}function Ts(M,Z,oe){return Sn(M)?M(Z,oe):M}const xo=(M,Z)=>!0===M?Z:"string"==typeof M?hr(Z,M):void 0;function us(M,Z,oe,De,$e){for(const at of Z){const Tt=xo(oe,at);if(Tt){M.add(Tt);const zt=Ts(Tt._fallback,oe,$e);if(typeof zt<"u"&&zt!==oe&&zt!==De)return zt}else if(!1===Tt&&typeof De<"u"&&oe!==De)return null}return!1}function Mo(M,Z,oe,De){const $e=Z._rootScopes,at=Ts(Z._fallback,oe,De),Tt=[...M,...$e],zt=new Set;zt.add(De);let sn=To(zt,Tt,oe,at||oe,De);return!(null===sn||typeof at<"u"&&at!==oe&&(sn=To(zt,Tt,at,sn,De),null===sn))&&ro(Array.from(zt),[""],$e,at,()=>function Bo(M,Z,oe){const De=M._getTarget();Z in De||(De[Z]={});const $e=De[Z];return rr($e)&&an(oe)?oe:$e||{}}(Z,oe,De))}function To(M,Z,oe,De,$e){for(;oe;)oe=us(M,Z,oe,De,$e);return oe}function O(M,Z){for(const oe of Z){if(!oe)continue;const De=oe[M];if(typeof De<"u")return De}}function he(M){let Z=M._keys;return Z||(Z=M._keys=function N(M){const Z=new Set;for(const oe of M)for(const De of Object.keys(oe).filter($e=>!$e.startsWith("_")))Z.add(De);return Array.from(Z)}(M._scopes)),Z}function le(M,Z,oe,De){const{iScale:$e}=M,{key:at="r"}=this._parsing,Tt=new Array(De);let zt,sn,Nn,or;for(zt=0,sn=De;zt<sn;++zt)Nn=zt+oe,or=Z[Nn],Tt[zt]={r:$e.parse(hr(or,at),Nn)};return Tt}const Ge=Number.EPSILON||1e-14,_n=(M,Z)=>Z<M.length&&!M[Z].skip&&M[Z],Sr=M=>"x"===M?"y":"x";function Gn(M,Z,oe,De){const $e=M.skip?Z:M,at=Z,Tt=oe.skip?Z:oe,zt=yn(at,$e),sn=yn(Tt,at);let Nn=zt/(zt+sn),or=sn/(zt+sn);Nn=isNaN(Nn)?0:Nn,or=isNaN(or)?0:or;const Jr=De*Nn,qr=De*or;return{previous:{x:at.x-Jr*(Tt.x-$e.x),y:at.y-Jr*(Tt.y-$e.y)},next:{x:at.x+qr*(Tt.x-$e.x),y:at.y+qr*(Tt.y-$e.y)}}}function Pi(M,Z,oe){return Math.max(Math.min(M,oe),Z)}function Po(M,Z,oe,De,$e){let at,Tt,zt,sn;if(Z.spanGaps&&(M=M.filter(Nn=>!Nn.skip)),"monotone"===Z.cubicInterpolationMode)!function ws(M,Z="x"){const oe=Sr(Z),De=M.length,$e=Array(De).fill(0),at=Array(De);let Tt,zt,sn,Nn=_n(M,0);for(Tt=0;Tt<De;++Tt)if(zt=sn,sn=Nn,Nn=_n(M,Tt+1),sn){if(Nn){const or=Nn[Z]-sn[Z];$e[Tt]=0!==or?(Nn[oe]-sn[oe])/or:0}at[Tt]=zt?Nn?ee($e[Tt-1])!==ee($e[Tt])?0:($e[Tt-1]+$e[Tt])/2:$e[Tt-1]:$e[Tt]}(function ai(M,Z,oe){const De=M.length;let $e,at,Tt,zt,sn,Nn=_n(M,0);for(let or=0;or<De-1;++or)if(sn=Nn,Nn=_n(M,or+1),sn&&Nn){if(se(Z[or],0,Ge)){oe[or]=oe[or+1]=0;continue}$e=oe[or]/Z[or],at=oe[or+1]/Z[or],zt=Math.pow($e,2)+Math.pow(at,2),!(zt<=9)&&(Tt=3/Math.sqrt(zt),oe[or]=$e*Tt*Z[or],oe[or+1]=at*Tt*Z[or])}})(M,$e,at),function hi(M,Z,oe="x"){const De=Sr(oe),$e=M.length;let at,Tt,zt,sn=_n(M,0);for(let Nn=0;Nn<$e;++Nn){if(Tt=zt,zt=sn,sn=_n(M,Nn+1),!zt)continue;const or=zt[oe],Jr=zt[De];Tt&&(at=(or-Tt[oe])/3,zt[`cp1${oe}`]=or-at,zt[`cp1${De}`]=Jr-at*Z[Nn]),sn&&(at=(sn[oe]-or)/3,zt[`cp2${oe}`]=or+at,zt[`cp2${De}`]=Jr+at*Z[Nn])}}(M,at,Z)}(M,$e);else{let Nn=De?M[M.length-1]:M[0];for(at=0,Tt=M.length;at<Tt;++at)zt=M[at],sn=Gn(Nn,zt,M[Math.min(at+1,Tt-(De?0:1))%Tt],Z.tension),zt.cp1x=sn.previous.x,zt.cp1y=sn.previous.y,zt.cp2x=sn.next.x,zt.cp2y=sn.next.y,Nn=zt}Z.capBezierPoints&&function Bs(M,Z){let oe,De,$e,at,Tt,zt=ms(M[0],Z);for(oe=0,De=M.length;oe<De;++oe)Tt=at,at=zt,zt=oe<De-1&&ms(M[oe+1],Z),at&&($e=M[oe],Tt&&($e.cp1x=Pi($e.cp1x,Z.left,Z.right),$e.cp1y=Pi($e.cp1y,Z.top,Z.bottom)),zt&&($e.cp2x=Pi($e.cp2x,Z.left,Z.right),$e.cp2y=Pi($e.cp2y,Z.top,Z.bottom)))}(M,oe)}function _e(){return typeof window<"u"&&typeof document<"u"}function ce(M){let Z=M.parentNode;return Z&&"[object ShadowRoot]"===Z.toString()&&(Z=Z.host),Z}function $(M,Z,oe){let De;return"string"==typeof M?(De=parseInt(M,10),-1!==M.indexOf("%")&&(De=De/100*Z.parentNode[oe])):De=M,De}const F=M=>M.ownerDocument.defaultView.getComputedStyle(M,null),L=["top","right","bottom","left"];function ge(M,Z,oe){const De={};oe=oe?"-"+oe:"";for(let $e=0;$e<4;$e++){const at=L[$e];De[at]=parseFloat(M[Z+"-"+at+oe])||0}return De.width=De.left+De.right,De.height=De.top+De.bottom,De}const ut=(M,Z,oe)=>(M>0||Z>0)&&(!oe||!oe.shadowRoot);function dn(M,Z){if("native"in M)return M;const{canvas:oe,currentDevicePixelRatio:De}=Z,$e=F(oe),at="border-box"===$e.boxSizing,Tt=ge($e,"padding"),zt=ge($e,"border","width"),{x:sn,y:Nn,box:or}=function Nt(M,Z){const oe=M.touches,De=oe&&oe.length?oe[0]:M,{offsetX:$e,offsetY:at}=De;let zt,sn,Tt=!1;if(ut($e,at,M.target))zt=$e,sn=at;else{const Nn=Z.getBoundingClientRect();zt=De.clientX-Nn.left,sn=De.clientY-Nn.top,Tt=!0}return{x:zt,y:sn,box:Tt}}(M,oe),Jr=Tt.left+(or&&zt.left),qr=Tt.top+(or&&zt.top);let{width:$s,height:Ps}=Z;return at&&($s-=Tt.width+zt.width,Ps-=Tt.height+zt.height),{x:Math.round((sn-Jr)/$s*oe.width/De),y:Math.round((Nn-qr)/Ps*oe.height/De)}}const li=M=>Math.round(10*M)/10;function ci(M,Z,oe,De){const $e=F(M),at=ge($e,"margin"),Tt=$($e.maxWidth,M,"clientWidth")||jr,zt=$($e.maxHeight,M,"clientHeight")||jr,sn=function Mn(M,Z,oe){let De,$e;if(void 0===Z||void 0===oe){const at=ce(M);if(at){const Tt=at.getBoundingClientRect(),zt=F(at),sn=ge(zt,"border","width"),Nn=ge(zt,"padding");Z=Tt.width-Nn.width-sn.width,oe=Tt.height-Nn.height-sn.height,De=$(zt.maxWidth,at,"clientWidth"),$e=$(zt.maxHeight,at,"clientHeight")}else Z=M.clientWidth,oe=M.clientHeight}return{width:Z,height:oe,maxWidth:De||jr,maxHeight:$e||jr}}(M,Z,oe);let{width:Nn,height:or}=sn;if("content-box"===$e.boxSizing){const qr=ge($e,"border","width"),$s=ge($e,"padding");Nn-=$s.width+qr.width,or-=$s.height+qr.height}return Nn=Math.max(0,Nn-at.width),or=Math.max(0,De?Nn/De:or-at.height),Nn=li(Math.min(Nn,Tt,sn.maxWidth)),or=li(Math.min(or,zt,sn.maxHeight)),Nn&&!or&&(or=li(Nn/2)),(void 0!==Z||void 0!==oe)&&De&&sn.height&&or>sn.height&&(or=sn.height,Nn=li(Math.floor(or*De))),{width:Nn,height:or}}function mi(M,Z,oe){const De=Z||1,$e=Math.floor(M.height*De),at=Math.floor(M.width*De);M.height=Math.floor(M.height),M.width=Math.floor(M.width);const Tt=M.canvas;return Tt.style&&(oe||!Tt.style.height&&!Tt.style.width)&&(Tt.style.height=`${M.height}px`,Tt.style.width=`${M.width}px`),(M.currentDevicePixelRatio!==De||Tt.height!==$e||Tt.width!==at)&&(M.currentDevicePixelRatio=De,Tt.height=$e,Tt.width=at,M.ctx.setTransform(De,0,0,De,0,0),!0)}const vi=function(){let M=!1;try{const Z={get passive(){return M=!0,!1}};window.addEventListener("test",null,Z),window.removeEventListener("test",null,Z)}catch{}return M}();function ri(M,Z){const oe=function S(M,Z){return F(M).getPropertyValue(Z)}(M,Z),De=oe&&oe.match(/^(\d+)(\.\d+)?px$/);return De?+De[1]:void 0}function ts(M,Z,oe,De){return{x:M.x+oe*(Z.x-M.x),y:M.y+oe*(Z.y-M.y)}}function Js(M,Z,oe,De){return{x:M.x+oe*(Z.x-M.x),y:"middle"===De?oe<.5?M.y:Z.y:"after"===De?oe<1?M.y:Z.y:oe>0?Z.y:M.y}}function As(M,Z,oe,De){const $e={x:M.cp2x,y:M.cp2y},at={x:Z.cp1x,y:Z.cp1y},Tt=ts(M,$e,oe),zt=ts($e,at,oe),sn=ts(at,Z,oe),Nn=ts(Tt,zt,oe),or=ts(zt,sn,oe);return ts(Nn,or,oe)}const xs=function(M,Z){return{x:oe=>M+M+Z-oe,setWidth(oe){Z=oe},textAlign:oe=>"center"===oe?oe:"right"===oe?"left":"right",xPlus:(oe,De)=>oe-De,leftForLtr:(oe,De)=>oe-De}},Ei=function(){return{x:M=>M,setWidth(M){},textAlign:M=>M,xPlus:(M,Z)=>M+Z,leftForLtr:(M,Z)=>M}};function Ms(M,Z,oe){return M?xs(Z,oe):Ei()}function io(M,Z){let oe,De;("ltr"===Z||"rtl"===Z)&&(oe=M.canvas.style,De=[oe.getPropertyValue("direction"),oe.getPropertyPriority("direction")],oe.setProperty("direction",Z,"important"),M.prevTextDirection=De)}function Ko(M,Z){void 0!==Z&&(delete M.prevTextDirection,M.canvas.style.setProperty("direction",Z[0],Z[1]))}function mo(M){return"angle"===M?{between:Kt,compare:kn,normalize:Bt}:{between:pr,compare:(Z,oe)=>Z-oe,normalize:Z=>Z}}function oa({start:M,end:Z,count:oe,loop:De,style:$e}){return{start:M%oe,end:Z%oe,loop:De&&(Z-M+1)%oe==0,style:$e}}function Ta(M,Z,oe){if(!oe)return[M];const{property:De,start:$e,end:at}=oe,Tt=Z.length,{compare:zt,between:sn,normalize:Nn}=mo(De),{start:or,end:Jr,loop:qr,style:$s}=function ta(M,Z,oe){const{property:De,start:$e,end:at}=oe,{between:Tt,normalize:zt}=mo(De),sn=Z.length;let qr,$s,{start:Nn,end:or,loop:Jr}=M;if(Jr){for(Nn+=sn,or+=sn,qr=0,$s=sn;qr<$s&&Tt(zt(Z[Nn%sn][De]),$e,at);++qr)Nn--,or--;Nn%=sn,or%=sn}return or<Nn&&(or+=sn),{start:Nn,end:or,loop:Jr,style:M.style}}(M,Z,oe),Ps=[];let Q,Pe,vt,Y=!1,ue=null;for(let Gi=or,ti=or;Gi<=Jr;++Gi)Pe=Z[Gi%Tt],!Pe.skip&&(Q=Nn(Pe[De]),Q!==vt&&(Y=sn(Q,$e,at),null===ue&&(Y||sn($e,vt,Q)&&0!==zt($e,vt))&&(ue=0===zt(Q,$e)?Gi:ti),null!==ue&&(!Y||0===zt(at,Q)||sn(at,vt,Q))&&(Ps.push(oa({start:ue,end:Gi,loop:qr,count:Tt,style:$s})),ue=null),ti=Gi,vt=Q));return null!==ue&&Ps.push(oa({start:ue,end:Jr,loop:qr,count:Tt,style:$s})),Ps}function Aa(M,Z){const oe=[],De=M.segments;for(let $e=0;$e<De.length;$e++){const at=Ta(De[$e],M.points,Z);at.length&&oe.push(...at)}return oe}function Gs(M,Z){const oe=M.points,De=M.options.spanGaps,$e=oe.length;if(!$e)return[];const at=!!M._loop,{start:Tt,end:zt}=function na(M,Z,oe,De){let $e=0,at=Z-1;if(oe&&!De)for(;$e<Z&&!M[$e].skip;)$e++;for(;$e<Z&&M[$e].skip;)$e++;for($e%=Z,oe&&(at+=$e);at>$e&&M[at%Z].skip;)at--;return at%=Z,{start:$e,end:at}}(oe,$e,at,De);return Zs(M,!0===De?[{start:Tt,end:zt,loop:at}]:function Na(M,Z,oe,De){const $e=M.length,at=[];let sn,Tt=Z,zt=M[Z];for(sn=Z+1;sn<=oe;++sn){const Nn=M[sn%$e];Nn.skip||Nn.stop?zt.skip||(at.push({start:Z%$e,end:(sn-1)%$e,loop:De=!1}),Z=Tt=Nn.stop?sn:null):(Tt=sn,zt.skip&&(Z=sn)),zt=Nn}return null!==Tt&&at.push({start:Z%$e,end:Tt%$e,loop:De}),at}(oe,Tt,zt<Tt?zt+$e:zt,!!M._fullLoop&&0===Tt&&zt===$e-1),oe,Z)}function Zs(M,Z,oe,De){return De&&De.setContext&&oe?function ba(M,Z,oe,De){const $e=M._chart.getContext(),at=Oo(M.options),{_datasetIndex:Tt,options:{spanGaps:zt}}=M,sn=oe.length,Nn=[];let or=at,Jr=Z[0].start,qr=Jr;function $s(Ps,Y,ue,Q){const Pe=zt?-1:1;if(Ps!==Y){for(Ps+=sn;oe[Ps%sn].skip;)Ps-=Pe;for(;oe[Y%sn].skip;)Y+=Pe;Ps%sn!=Y%sn&&(Nn.push({start:Ps%sn,end:Y%sn,loop:ue,style:Q}),or=Q,Jr=Y%sn)}}for(const Ps of Z){Jr=zt?Jr:Ps.start;let ue,Y=oe[Jr%sn];for(qr=Jr+1;qr<=Ps.end;qr++){const Q=oe[qr%sn];ue=Oo(De.setContext(Do($e,{type:"segment",p0:Y,p1:Q,p0DataIndex:(qr-1)%sn,p1DataIndex:qr%sn,datasetIndex:Tt}))),Ea(ue,or)&&$s(Jr,qr-1,Ps.loop,or),Y=Q,or=ue}Jr<qr-1&&$s(Jr,qr-1,Ps.loop,or)}return Nn}(M,Z,oe,De):Z}function Oo(M){return{backgroundColor:M.backgroundColor,borderCapStyle:M.borderCapStyle,borderDash:M.borderDash,borderDashOffset:M.borderDashOffset,borderJoinStyle:M.borderJoinStyle,borderWidth:M.borderWidth,borderColor:M.borderColor}}function Ea(M,Z){if(!Z)return!1;const oe=[],De=function($e,at){return Ee(at)?(oe.includes(at)||oe.push(at),oe.indexOf(at)):at};return JSON.stringify(M,De)!==JSON.stringify(Z,De)}},5132:(Jn,Ft,z)=>{"use strict";z.d(Ft,{Gb:()=>d.Gb});var d=z(579)},259:(Jn,Ft,z)=>{"use strict";z.d(Ft,{C6:()=>d.getApps,KN:()=>d.registerVersion,Mq:()=>d.getApp,ZF:()=>d.initializeApp});var d=z(6881);(0,d.registerVersion)("firebase","9.22.0","app")},9260:(Jn,Ft,z)=>{"use strict";z.d(Ft,{Z:()=>d.Z});var d=z(3942);d.Z.registerVersion("firebase","9.22.0","app-compat")},9568:(Jn,Ft,z)=>{"use strict";z.r(Ft);var d=z(5861),E=z(3942),be=z(1389),ke=z(2090),Se=(z(6881),z(1877),z(4859));function Re(){return window}function xe(){return xe=(0,d.Z)(function*(ie,ee,se){var Ke;const{BuildInfo:xt}=Re();(0,be.as)(ee.sessionId,"AuthEvent did not contain a session ID");const rt=yield function Be(ie){return kt.apply(this,arguments)}(ee.sessionId),Vt={};return(0,be.at)()?Vt.ibi=xt.packageName:(0,be.au)()?Vt.apn=xt.packageName:(0,be.av)(ie,"operation-not-supported-in-this-environment"),xt.displayName&&(Vt.appDisplayName=xt.displayName),Vt.sessionId=rt,(0,be.aw)(ie,se,ee.type,void 0,null!==(Ke=ee.eventId)&&void 0!==Ke?Ke:void 0,Vt)}),xe.apply(this,arguments)}function Me(){return(Me=(0,d.Z)(function*(ie){const{BuildInfo:ee}=Re(),se={};(0,be.at)()?se.iosBundleId=ee.packageName:(0,be.au)()?se.androidPackageName=ee.packageName:(0,be.av)(ie,"operation-not-supported-in-this-environment"),yield(0,be.ax)(ie,se)})).apply(this,arguments)}function jt(){return(jt=(0,d.Z)(function*(ie,ee,se){const{cordova:Ke}=Re();let xt=()=>{};try{yield new Promise((rt,Vt)=>{let Jt=null;function Cn(){var ln;rt();const yn=null===(ln=Ke.plugins.browsertab)||void 0===ln?void 0:ln.close;"function"==typeof yn&&yn(),"function"==typeof(null==se?void 0:se.close)&&se.close()}function vn(){Jt||(Jt=window.setTimeout(()=>{Vt((0,be.az)(ie,"redirect-cancelled-by-user"))},2e3))}function $n(){"visible"===(null==document?void 0:document.visibilityState)&&vn()}ee.addPassiveListener(Cn),document.addEventListener("resume",vn,!1),(0,be.au)()&&document.addEventListener("visibilitychange",$n,!1),xt=()=>{ee.removePassiveListener(Cn),document.removeEventListener("resume",vn,!1),document.removeEventListener("visibilitychange",$n,!1),Jt&&window.clearTimeout(Jt)}})}finally{xt()}})).apply(this,arguments)}function kt(){return(kt=(0,d.Z)(function*(ie){const ee=function Mt(ie){if((0,be.as)(/[0-9a-zA-Z]+/.test(ie),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(ie);const ee=new ArrayBuffer(ie.length),se=new Uint8Array(ee);for(let Ke=0;Ke<ie.length;Ke++)se[Ke]=ie.charCodeAt(Ke);return se}(ie),se=yield crypto.subtle.digest("SHA-256",ee);return Array.from(new Uint8Array(se)).map(xt=>xt.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}class It extends be.aB{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(ee=>{this.resolveInialized=ee})}addPassiveListener(ee){this.passiveListeners.add(ee)}removePassiveListener(ee){this.passiveListeners.delete(ee)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(ee){return this.resolveInialized(),this.passiveListeners.forEach(se=>se(ee)),super.onEvent(ee)}initialized(){var ee=this;return(0,d.Z)(function*(){yield ee.initPromise})()}}function gt(ie){return te.apply(this,arguments)}function te(){return(te=(0,d.Z)(function*(ie){const ee=yield Lt()._get(qt(ie));return ee&&(yield Lt()._remove(qt(ie))),ee})).apply(this,arguments)}function Dt(){const ie=[];for(let se=0;se<20;se++){const Ke=Math.floor(62*Math.random());ie.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Ke))}return ie.join("")}function Lt(){return(0,be.aC)(be.b)}function qt(ie){return(0,be.aD)("authEvent",ie.config.apiKey,ie.name)}function ct(ie){if(null==ie||!ie.includes("?"))return{};const[ee,...se]=ie.split("?");return(0,ke.zd)(se.join("?"))}const tt=class et{constructor(){this._redirectPersistence=be.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=be.aE,this._overrideRedirectResult=be.aF}_initialize(ee){var se=this;return(0,d.Z)(function*(){const Ke=ee._key();let xt=se.eventManagers.get(Ke);return xt||(xt=new It(ee),se.eventManagers.set(Ke,xt),se.attachCallbackListeners(ee,xt)),xt})()}_openPopup(ee){(0,be.av)(ee,"operation-not-supported-in-this-environment")}_openRedirect(ee,se,Ke,xt){var rt=this;return(0,d.Z)(function*(){!function We(ie){var ee,se,Ke,xt,rt,Vt,Jt,Cn,vn,$n;const ln=Re();(0,be.aA)("function"==typeof(null===(ee=null==ln?void 0:ln.universalLinks)||void 0===ee?void 0:ee.subscribe),ie,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,be.aA)(typeof(null===(se=null==ln?void 0:ln.BuildInfo)||void 0===se?void 0:se.packageName)<"u",ie,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,be.aA)("function"==typeof(null===(rt=null===(xt=null===(Ke=null==ln?void 0:ln.cordova)||void 0===Ke?void 0:Ke.plugins)||void 0===xt?void 0:xt.browsertab)||void 0===rt?void 0:rt.openUrl),ie,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,be.aA)("function"==typeof(null===(Cn=null===(Jt=null===(Vt=null==ln?void 0:ln.cordova)||void 0===Vt?void 0:Vt.plugins)||void 0===Jt?void 0:Jt.browsertab)||void 0===Cn?void 0:Cn.isAvailable),ie,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,be.aA)("function"==typeof(null===($n=null===(vn=null==ln?void 0:ln.cordova)||void 0===vn?void 0:vn.InAppBrowser)||void 0===$n?void 0:$n.open),ie,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(ee);const Vt=yield rt._initialize(ee);yield Vt.initialized(),Vt.resetRedirect(),(0,be.aG)(),yield rt._originValidation(ee);const Jt=function St(ie,ee,se=null){return{type:ee,eventId:se,urlResponse:null,sessionId:Dt(),postBody:null,tenantId:ie.tenantId,error:(0,be.az)(ie,"no-auth-event")}}(ee,Ke,xt);yield function Ct(ie,ee){return Lt()._set(qt(ie),ee)}(ee,Jt);const Cn=yield function Le(ie,ee,se){return xe.apply(this,arguments)}(ee,Jt,se),vn=yield function lt(ie){const{cordova:ee}=Re();return new Promise(se=>{ee.plugins.browsertab.isAvailable(Ke=>{let xt=null;Ke?ee.plugins.browsertab.openUrl(ie):xt=ee.InAppBrowser.open(ie,(0,be.ay)()?"_blank":"_system","location=yes"),se(xt)})})}(Cn);return function pt(ie,ee,se){return jt.apply(this,arguments)}(ee,Vt,vn)})()}_isIframeWebStorageSupported(ee,se){throw new Error("Method not implemented.")}_originValidation(ee){const se=ee._key();return this.originValidationPromises[se]||(this.originValidationPromises[se]=function it(ie){return Me.apply(this,arguments)}(ee)),this.originValidationPromises[se]}attachCallbackListeners(ee,se){const{universalLinks:Ke,handleOpenURL:xt,BuildInfo:rt}=Re(),Vt=setTimeout((0,d.Z)(function*(){yield gt(ee),se.onEvent(dt())}),500),Jt=function(){var $n=(0,d.Z)(function*(ln){clearTimeout(Vt);const yn=yield gt(ee);let kn=null;yn&&null!=ln&&ln.url&&(kn=function Gt(ie,ee){var se,Ke;const xt=function Je(ie){const ee=ct(ie),se=ee.link?decodeURIComponent(ee.link):void 0,Ke=ct(se).link,xt=ee.deep_link_id?decodeURIComponent(ee.deep_link_id):void 0;return ct(xt).link||xt||Ke||se||ie}(ee);if(xt.includes("/__/auth/callback")){const rt=ct(xt),Vt=rt.firebaseError?function Te(ie){try{return JSON.parse(ie)}catch{return null}}(decodeURIComponent(rt.firebaseError)):null,Jt=null===(Ke=null===(se=null==Vt?void 0:Vt.code)||void 0===se?void 0:se.split("auth/"))||void 0===Ke?void 0:Ke[1],Cn=Jt?(0,be.az)(Jt):null;return Cn?{type:ie.type,eventId:ie.eventId,tenantId:ie.tenantId,error:Cn,urlResponse:null,sessionId:null,postBody:null}:{type:ie.type,eventId:ie.eventId,tenantId:ie.tenantId,sessionId:ie.sessionId,urlResponse:xt,postBody:null}}return null}(yn,ln.url)),se.onEvent(kn||dt())});return function(yn){return $n.apply(this,arguments)}}();typeof Ke<"u"&&"function"==typeof Ke.subscribe&&Ke.subscribe(null,Jt);const Cn=xt,vn=`${rt.packageName.toLowerCase()}://`;Re().handleOpenURL=function(){var $n=(0,d.Z)(function*(ln){if(ln.toLowerCase().startsWith(vn)&&Jt({url:ln}),"function"==typeof Cn)try{Cn(ln)}catch(yn){console.error(yn)}});return function(ln){return $n.apply(this,arguments)}}()}};function dt(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,be.az)("no-auth-event")}}function On(){var ie;return(null===(ie=null==self?void 0:self.location)||void 0===ie?void 0:ie.protocol)||null}function _t(ie=(0,ke.z$)()){return!("file:"!==On()&&"ionic:"!==On()&&"capacitor:"!==On()||!ie.toLowerCase().match(/iphone|ipad|ipod|android/))}function ur(){try{const ie=self.localStorage,ee=be.aL();if(ie)return ie.setItem(ee,"1"),ie.removeItem(ee),!function tr(ie=(0,ke.z$)()){return function gn(){return(0,ke.w1)()&&11===(null==document?void 0:document.documentMode)}()||function Zn(ie=(0,ke.z$)()){return/Edge\/\d+/.test(ie)}(ie)}()||(0,ke.hl)()}catch{return un()&&(0,ke.hl)()}return!1}function un(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function rr(){return(function nn(){return"http:"===On()||"https:"===On()}()||(0,ke.ru)()||_t())&&!function cn(){return(0,ke.b$)()||(0,ke.UG)()}()&&ur()&&!un()}function an(){return _t()&&typeof document<"u"}function Br(){return(Br=(0,d.Z)(function*(){return!!an()&&new Promise(ie=>{const ee=setTimeout(()=>{ie(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(ee),ie(!0)})})})).apply(this,arguments)}const Pn={LOCAL:"local",NONE:"none",SESSION:"session"},oi=be.aA,Wr="persistence";function Ai(ie){return bi.apply(this,arguments)}function bi(){return(bi=(0,d.Z)(function*(ie){yield ie._initializationPromise;const ee=ir(),se=be.aD(Wr,ie.config.apiKey,ie.name);ee&&ee.setItem(se,ie._getPersistence())})).apply(this,arguments)}function ir(){var ie;try{return(null===(ie=function Ar(){return typeof window<"u"?window:null}())||void 0===ie?void 0:ie.sessionStorage)||null}catch{return null}}const mr=be.aA;class ui{constructor(){this.browserResolver=be.aC(be.k),this.cordovaResolver=be.aC(tt),this.underlyingResolver=null,this._redirectPersistence=be.a,this._completeRedirectFn=be.aE,this._overrideRedirectResult=be.aF}_initialize(ee){var se=this;return(0,d.Z)(function*(){return yield se.selectUnderlyingResolver(),se.assertedUnderlyingResolver._initialize(ee)})()}_openPopup(ee,se,Ke,xt){var rt=this;return(0,d.Z)(function*(){return yield rt.selectUnderlyingResolver(),rt.assertedUnderlyingResolver._openPopup(ee,se,Ke,xt)})()}_openRedirect(ee,se,Ke,xt){var rt=this;return(0,d.Z)(function*(){return yield rt.selectUnderlyingResolver(),rt.assertedUnderlyingResolver._openRedirect(ee,se,Ke,xt)})()}_isIframeWebStorageSupported(ee,se){this.assertedUnderlyingResolver._isIframeWebStorageSupported(ee,se)}_originValidation(ee){return this.assertedUnderlyingResolver._originValidation(ee)}get _shouldInitProactively(){return an()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return mr(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var ee=this;return(0,d.Z)(function*(){if(ee.underlyingResolver)return;const se=yield function Pr(){return Br.apply(this,arguments)}();ee.underlyingResolver=se?ee.cordovaResolver:ee.browserResolver})()}}function gi(ie){return ie.unwrap()}function di(ie){return br(ie)}function br(ie){const{_tokenResponse:ee}=ie instanceof ke.ZR?ie.customData:ie;if(!ee)return null;if(!(ie instanceof ke.ZR)&&"temporaryProof"in ee&&"phoneNumber"in ee)return be.P.credentialFromResult(ie);const se=ee.providerId;if(!se||se===be.p.PASSWORD)return null;let Ke;switch(se){case be.p.GOOGLE:Ke=be.V;break;case be.p.FACEBOOK:Ke=be.U;break;case be.p.GITHUB:Ke=be.W;break;case be.p.TWITTER:Ke=be.Z;break;default:const{oauthIdToken:xt,oauthAccessToken:rt,oauthTokenSecret:Vt,pendingToken:Jt,nonce:Cn}=ee;return rt||Vt||xt||Jt?Jt?se.startsWith("saml.")?be.aO._create(se,Jt):be.L._fromParams({providerId:se,signInMethod:se,pendingToken:Jt,idToken:xt,accessToken:rt}):new be.X(se).credential({idToken:xt,accessToken:rt,rawNonce:Cn}):null}return ie instanceof ke.ZR?Ke.credentialFromError(ie):Ke.credentialFromResult(ie)}function hr(ie,ee){return ee.catch(se=>{throw se instanceof ke.ZR&&function Ti(ie,ee){var se;const Ke=null===(se=ee.customData)||void 0===se?void 0:se._tokenResponse;if("auth/multi-factor-auth-required"===(null==ee?void 0:ee.code))ee.resolver=new Sn(ie,be.aq(ie,ee));else if(Ke){const xt=br(ee),rt=ee;xt&&(rt.credential=xt,rt.tenantId=Ke.tenantId||void 0,rt.email=Ke.email||void 0,rt.phoneNumber=Ke.phoneNumber||void 0)}}(ie,se),se}).then(se=>{const xt=se.user;return{operationType:se.operationType,credential:di(se),additionalUserInfo:be.ao(se),user:Ne.getOrCreate(xt)}})}function Di(ie,ee){return Er.apply(this,arguments)}function Er(){return(Er=(0,d.Z)(function*(ie,ee){const se=yield ee;return{verificationId:se.verificationId,confirm:Ke=>hr(ie,se.confirm(Ke))}})).apply(this,arguments)}class Sn{constructor(ee,se){this.resolver=se,this.auth=function ni(ie){return ie.wrapped()}(ee)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(ee){return hr(gi(this.auth),this.resolver.resolveSignIn(ee))}}class Ne{constructor(ee){this._delegate=ee,this.multiFactor=be.ar(ee)}static getOrCreate(ee){return Ne.USER_MAP.has(ee)||Ne.USER_MAP.set(ee,new Ne(ee)),Ne.USER_MAP.get(ee)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(ee){return this._delegate.getIdTokenResult(ee)}getIdToken(ee){return this._delegate.getIdToken(ee)}linkAndRetrieveDataWithCredential(ee){return this.linkWithCredential(ee)}linkWithCredential(ee){var se=this;return(0,d.Z)(function*(){return hr(se.auth,be.a0(se._delegate,ee))})()}linkWithPhoneNumber(ee,se){var Ke=this;return(0,d.Z)(function*(){return Di(Ke.auth,be.l(Ke._delegate,ee,se))})()}linkWithPopup(ee){var se=this;return(0,d.Z)(function*(){return hr(se.auth,be.d(se._delegate,ee,ui))})()}linkWithRedirect(ee){var se=this;return(0,d.Z)(function*(){return yield Ai(be.aH(se.auth)),be.g(se._delegate,ee,ui)})()}reauthenticateAndRetrieveDataWithCredential(ee){return this.reauthenticateWithCredential(ee)}reauthenticateWithCredential(ee){var se=this;return(0,d.Z)(function*(){return hr(se.auth,be.a1(se._delegate,ee))})()}reauthenticateWithPhoneNumber(ee,se){return Di(this.auth,be.r(this._delegate,ee,se))}reauthenticateWithPopup(ee){return hr(this.auth,be.e(this._delegate,ee,ui))}reauthenticateWithRedirect(ee){var se=this;return(0,d.Z)(function*(){return yield Ai(be.aH(se.auth)),be.h(se._delegate,ee,ui)})()}sendEmailVerification(ee){return be.ae(this._delegate,ee)}unlink(ee){var se=this;return(0,d.Z)(function*(){return yield be.an(se._delegate,ee),se})()}updateEmail(ee){return be.aj(this._delegate,ee)}updatePassword(ee){return be.ak(this._delegate,ee)}updatePhoneNumber(ee){return be.u(this._delegate,ee)}updateProfile(ee){return be.ai(this._delegate,ee)}verifyBeforeUpdateEmail(ee,se){return be.af(this._delegate,ee,se)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Ne.USER_MAP=new WeakMap;const ht=be.aA;let Wt=(()=>{class ie{constructor(se,Ke){if(this.app=se,Ke.isInitialized())return this._delegate=Ke.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:xt}=se.options;ht(xt,"invalid-api-key",{appName:se.name}),ht(xt,"invalid-api-key",{appName:se.name});const rt=typeof window<"u"?ui:void 0;this._delegate=Ke.initialize({options:{persistence:Hn(xt,se.name),popupRedirectResolver:rt}}),this._delegate._updateErrorMap(be.D),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Ne.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(se){this._delegate.languageCode=se}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(se){this._delegate.tenantId=se}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(se,Ke){be.I(this._delegate,se,Ke)}applyActionCode(se){return be.a5(this._delegate,se)}checkActionCode(se){return be.a6(this._delegate,se)}confirmPasswordReset(se,Ke){return be.a4(this._delegate,se,Ke)}createUserWithEmailAndPassword(se,Ke){var xt=this;return(0,d.Z)(function*(){return hr(xt._delegate,be.a8(xt._delegate,se,Ke))})()}fetchProvidersForEmail(se){return this.fetchSignInMethodsForEmail(se)}fetchSignInMethodsForEmail(se){return be.ad(this._delegate,se)}isSignInWithEmailLink(se){return be.ab(this._delegate,se)}getRedirectResult(){var se=this;return(0,d.Z)(function*(){ht(rr(),se._delegate,"operation-not-supported-in-this-environment");const Ke=yield be.j(se._delegate,ui);return Ke?hr(se._delegate,Promise.resolve(Ke)):{credential:null,user:null}})()}addFrameworkForLogging(se){!function Ut(ie,ee){(0,be.aH)(ie)._logFramework(ee)}(this._delegate,se)}onAuthStateChanged(se,Ke,xt){const{next:rt,error:Vt,complete:Jt}=wn(se,Ke,xt);return this._delegate.onAuthStateChanged(rt,Vt,Jt)}onIdTokenChanged(se,Ke,xt){const{next:rt,error:Vt,complete:Jt}=wn(se,Ke,xt);return this._delegate.onIdTokenChanged(rt,Vt,Jt)}sendSignInLinkToEmail(se,Ke){return be.aa(this._delegate,se,Ke)}sendPasswordResetEmail(se,Ke){return be.a3(this._delegate,se,Ke||void 0)}setPersistence(se){var Ke=this;return(0,d.Z)(function*(){let xt;switch(function ar(ie,ee){oi(Object.values(Pn).includes(ee),ie,"invalid-persistence-type"),(0,ke.b$)()?oi(ee!==Pn.SESSION,ie,"unsupported-persistence-type"):(0,ke.UG)()?oi(ee===Pn.NONE,ie,"unsupported-persistence-type"):un()?oi(ee===Pn.NONE||ee===Pn.LOCAL&&(0,ke.hl)(),ie,"unsupported-persistence-type"):oi(ee===Pn.NONE||ur(),ie,"unsupported-persistence-type")}(Ke._delegate,se),se){case Pn.SESSION:xt=be.a;break;case Pn.LOCAL:xt=(yield be.aC(be.i)._isAvailable())?be.i:be.b;break;case Pn.NONE:xt=be.N;break;default:return be.av("argument-error",{appName:Ke._delegate.name})}return Ke._delegate.setPersistence(xt)})()}signInAndRetrieveDataWithCredential(se){return this.signInWithCredential(se)}signInAnonymously(){return hr(this._delegate,be._(this._delegate))}signInWithCredential(se){return hr(this._delegate,be.$(this._delegate,se))}signInWithCustomToken(se){return hr(this._delegate,be.a2(this._delegate,se))}signInWithEmailAndPassword(se,Ke){return hr(this._delegate,be.a9(this._delegate,se,Ke))}signInWithEmailLink(se,Ke){return hr(this._delegate,be.ac(this._delegate,se,Ke))}signInWithPhoneNumber(se,Ke){return Di(this._delegate,be.s(this._delegate,se,Ke))}signInWithPopup(se){var Ke=this;return(0,d.Z)(function*(){return ht(rr(),Ke._delegate,"operation-not-supported-in-this-environment"),hr(Ke._delegate,be.c(Ke._delegate,se,ui))})()}signInWithRedirect(se){var Ke=this;return(0,d.Z)(function*(){return ht(rr(),Ke._delegate,"operation-not-supported-in-this-environment"),yield Ai(Ke._delegate),be.f(Ke._delegate,se,ui)})()}updateCurrentUser(se){return this._delegate.updateCurrentUser(se)}verifyPasswordResetCode(se){return be.a7(this._delegate,se)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return ie.Persistence=Pn,ie})();function wn(ie,ee,se){let Ke=ie;"function"!=typeof ie&&({next:Ke,error:ee,complete:se}=ie);const xt=Ke;return{next:Vt=>xt(Vt&&Ne.getOrCreate(Vt)),error:ee,complete:se}}function Hn(ie,ee){const se=function lr(ie,ee){const se=ir();if(!se)return[];const Ke=be.aD(Wr,ie,ee);switch(se.getItem(Ke)){case Pn.NONE:return[be.N];case Pn.LOCAL:return[be.i,be.a];case Pn.SESSION:return[be.a];default:return[]}}(ie,ee);if(typeof self<"u"&&!se.includes(be.i)&&se.push(be.i),typeof window<"u")for(const Ke of[be.b,be.a])se.includes(Ke)||se.push(Ke);return se.includes(be.N)||se.push(be.N),se}class jr{constructor(){this.providerId="phone",this._delegate=new be.P(gi(E.Z.auth()))}static credential(ee,se){return be.P.credential(ee,se)}verifyPhoneNumber(ee,se){return this._delegate.verifyPhoneNumber(ee,se)}unwrap(){return this._delegate}}jr.PHONE_SIGN_IN_METHOD=be.P.PHONE_SIGN_IN_METHOD,jr.PROVIDER_ID=be.P.PROVIDER_ID;const kr=be.aA;class Rr{constructor(ee,se,Ke=E.Z.app()){var xt;kr(null===(xt=Ke.options)||void 0===xt?void 0:xt.apiKey,"invalid-api-key",{appName:Ke.name}),this._delegate=new be.R(ee,se,Ke.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function Ae(ie){ie.INTERNAL.registerComponent(new Se.wA("auth-compat",ee=>{const se=ee.getProvider("app-compat").getImmediate(),Ke=ee.getProvider("auth");return new Wt(se,Ke)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:be.A.EMAIL_SIGNIN,PASSWORD_RESET:be.A.PASSWORD_RESET,RECOVER_EMAIL:be.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:be.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:be.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:be.A.VERIFY_EMAIL}},EmailAuthProvider:be.Q,FacebookAuthProvider:be.U,GithubAuthProvider:be.W,GoogleAuthProvider:be.V,OAuthProvider:be.X,SAMLAuthProvider:be.Y,PhoneAuthProvider:jr,PhoneMultiFactorGenerator:be.m,RecaptchaVerifier:Rr,TwitterAuthProvider:be.Z,Auth:Wt,AuthCredential:be.J,Error:ke.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),ie.registerVersion("@firebase/auth-compat","0.4.2")}(E.Z)},4208:(Jn,Ft,z)=>{"use strict";z.d(Ft,{jh:()=>Fa,vQ:()=>hl});var d=z(2223),E=z(3192),be=z(1086),ke=z(1135),qe=z(1884);const Ze=function Re(nt,Xt){return nt===Xt||nt!=nt&&Xt!=Xt},xe=function Le(nt,Xt){for(var Qt=nt.length;Qt--;)if(Ze(nt[Qt][0],Xt))return Qt;return-1};var Me=Array.prototype.splice;function It(nt){var Xt=-1,Qt=null==nt?0:nt.length;for(this.clear();++Xt<Qt;){var yr=nt[Xt];this.set(yr[0],yr[1])}}It.prototype.clear=function je(){this.__data__=[],this.size=0},It.prototype.delete=function lt(nt){var Xt=this.__data__,Qt=xe(Xt,nt);return!(Qt<0||(Qt==Xt.length-1?Xt.pop():Me.call(Xt,Qt,1),--this.size,0))},It.prototype.get=function jt(nt){var Xt=this.__data__,Qt=xe(Xt,nt);return Qt<0?void 0:Xt[Qt][1]},It.prototype.has=function Be(nt){return xe(this.__data__,nt)>-1},It.prototype.set=function Mt(nt,Xt){var Qt=this.__data__,yr=xe(Qt,nt);return yr<0?(++this.size,Qt.push([nt,Xt])):Qt[yr][1]=Xt,this};const St=It,ct="object"==typeof global&&global&&global.Object===Object&&global;var yt="object"==typeof self&&self&&self.Object===Object&&self;const tt=ct||yt||Function("return this")();var dt=tt.Symbol,Ot=Object.prototype,en=Ot.hasOwnProperty,rn=Ot.toString,On=dt?dt.toStringTag:void 0;var gn=Object.prototype.toString;var rr=dt?dt.toStringTag:void 0;const Pr=function an(nt){return null==nt?void 0===nt?"[object Undefined]":"[object Null]":rr&&rr in Object(nt)?function nn(nt){var Xt=en.call(nt,On),Qt=nt[On];try{nt[On]=void 0;var yr=!0}catch{}var Ui=rn.call(nt);return yr&&(Xt?nt[On]=Qt:delete nt[On]),Ui}(nt):function Zn(nt){return gn.call(nt)}(nt)},Ar=function Br(nt){var Xt=typeof nt;return null!=nt&&("object"==Xt||"function"==Xt)},bi=function Ai(nt){if(!Ar(nt))return!1;var Xt=Pr(nt);return"[object Function]"==Xt||"[object GeneratorFunction]"==Xt||"[object AsyncFunction]"==Xt||"[object Proxy]"==Xt};var nt,lr=tt["__core-js_shared__"],mr=(nt=/[^.]+$/.exec(lr&&lr.keys&&lr.keys.IE_PROTO||""))?"Symbol(src)_1."+nt:"";var di=Function.prototype.toString;var Di=/^\[object .+?Constructor\]$/,Wt=RegExp("^"+Function.prototype.toString.call(Object.prototype.hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");const Hn=function wn(nt){return!(!Ar(nt)||function ui(nt){return!!mr&&mr in nt}(nt))&&(bi(nt)?Wt:Di).test(function Ti(nt){if(null!=nt){try{return di.call(nt)}catch{}try{return nt+""}catch{}}return""}(nt))},mt=function Rr(nt,Xt){var Qt=function jr(nt,Xt){return null==nt?void 0:nt[Xt]}(nt,Xt);return Hn(Qt)?Qt:void 0},ie=mt(tt,"Map"),se=mt(Object,"create");var vn=Object.prototype.hasOwnProperty;var kn=Object.prototype.hasOwnProperty;function Dr(nt){var Xt=-1,Qt=null==nt?0:nt.length;for(this.clear();++Xt<Qt;){var yr=nt[Xt];this.set(yr[0],yr[1])}}Dr.prototype.clear=function Ke(){this.__data__=se?se(null):{},this.size=0},Dr.prototype.delete=function rt(nt){var Xt=this.has(nt)&&delete this.__data__[nt];return this.size-=Xt?1:0,Xt},Dr.prototype.get=function $n(nt){var Xt=this.__data__;if(se){var Qt=Xt[nt];return"__lodash_hash_undefined__"===Qt?void 0:Qt}return vn.call(Xt,nt)?Xt[nt]:void 0},Dr.prototype.has=function Bt(nt){var Xt=this.__data__;return se?void 0!==Xt[nt]:kn.call(Xt,nt)},Dr.prototype.set=function qn(nt,Xt){var Qt=this.__data__;return this.size+=this.has(nt)?0:1,Qt[nt]=se&&void 0===Xt?"__lodash_hash_undefined__":Xt,this};const $r=Dr,Os=function ls(nt,Xt){var Qt=nt.__data__;return function Ur(nt){var Xt=typeof nt;return"string"==Xt||"number"==Xt||"symbol"==Xt||"boolean"==Xt?"__proto__"!==nt:null===nt}(Xt)?Qt["string"==typeof Xt?"string":"hash"]:Qt.map};function Ns(nt){var Xt=-1,Qt=null==nt?0:nt.length;for(this.clear();++Xt<Qt;){var yr=nt[Xt];this.set(yr[0],yr[1])}}Ns.prototype.clear=function Fi(){this.size=0,this.__data__={hash:new $r,map:new(ie||St),string:new $r}},Ns.prototype.delete=function to(nt){var Xt=Os(this,nt).delete(nt);return this.size-=Xt?1:0,Xt},Ns.prototype.get=function cs(nt){return Os(this,nt).get(nt)},Ns.prototype.has=function es(nt){return Os(this,nt).has(nt)},Ns.prototype.set=function zs(nt,Xt){var Qt=Os(this,nt),yr=Qt.size;return Qt.set(nt,Xt),this.size+=Qt.size==yr?0:1,this};const Fs=Ns;function Ee(nt){var Xt=this.__data__=new St(nt);this.size=Xt.size}Ee.prototype.clear=function Ct(){this.__data__=new St,this.size=0},Ee.prototype.delete=function te(nt){var Xt=this.__data__,Qt=Xt.delete(nt);return this.size=Xt.size,Qt},Ee.prototype.get=function Dt(nt){return this.__data__.get(nt)},Ee.prototype.has=function qt(nt){return this.__data__.has(nt)},Ee.prototype.set=function pe(nt,Xt){var Qt=this.__data__;if(Qt instanceof St){var yr=Qt.__data__;if(!ie||yr.length<199)return yr.push([nt,Xt]),this.size=++Qt.size,this;Qt=this.__data__=new Fs(yr)}return Qt.set(nt,Xt),this.size=Qt.size,this};const ne=Ee;var ve=function(){try{var nt=mt(Object,"defineProperty");return nt({},"",{}),nt}catch{}}();const st=ve,$t=function wt(nt,Xt,Qt){"__proto__"==Xt&&st?st(nt,Xt,{configurable:!0,enumerable:!0,value:Qt,writable:!0}):nt[Xt]=Qt},Un=function tn(nt,Xt,Qt){(void 0!==Qt&&!Ze(nt[Xt],Qt)||void 0===Qt&&!(Xt in nt))&&$t(nt,Xt,Qt)};var Kr=function jn(nt){return function(Xt,Qt,yr){for(var Ui=-1,Wi=Object(Xt),Ji=yr(Xt),ns=Ji.length;ns--;){var qi=Ji[nt?ns:++Ui];if(!1===Qt(Wi[qi],qi,Wi))break}return Xt}}();const gs=Kr;var Xi="object"==typeof exports&&exports&&!exports.nodeType&&exports,Si=Xi&&"object"==typeof module&&module&&!module.nodeType&&module,An=Si&&Si.exports===Xi?tt.Buffer:void 0,Fr=An?An.allocUnsafe:void 0;const is=tt.Uint8Array,zi=function zr(nt,Xt){var Qt=Xt?function wo(nt){var Xt=new nt.constructor(nt.byteLength);return new is(Xt).set(new is(nt)),Xt}(nt.buffer):nt.buffer;return new nt.constructor(Qt,nt.byteOffset,nt.length)};var ms=Object.create,Ni=function(){function nt(){}return function(Xt){if(!Ar(Xt))return{};if(ms)return ms(Xt);nt.prototype=Xt;var Qt=new nt;return nt.prototype=void 0,Qt}}();const Qi=Ni;var Qs=function no(nt,Xt){return function(Qt){return nt(Xt(Qt))}}(Object.getPrototypeOf,Object);const Io=Qs;var Co=Object.prototype;const lo=function Hs(nt){var Xt=nt&&nt.constructor;return nt===("function"==typeof Xt&&Xt.prototype||Co)},Ws=function xi(nt){return null!=nt&&"object"==typeof nt},Ss=function Oi(nt){return Ws(nt)&&"[object Arguments]"==Pr(nt)};var co=Object.prototype,qs=co.hasOwnProperty,Ls=co.propertyIsEnumerable,vs=Ss(function(){return arguments}())?Ss:function(nt){return Ws(nt)&&qs.call(nt,"callee")&&!Ls.call(nt,"callee")};const Do=vs,ki=Array.isArray,uo=function No(nt){return"number"==typeof nt&&nt>-1&&nt%1==0&&nt<=9007199254740991},po=function So(nt){return null!=nt&&uo(nt.length)&&!bi(nt)};var us="object"==typeof exports&&exports&&!exports.nodeType&&exports,Mo=us&&"object"==typeof module&&module&&!module.nodeType&&module,Bo=Mo&&Mo.exports===us?tt.Buffer:void 0;const he=(Bo?Bo.isBuffer:void 0)||function Ts(){return!1};var _n=Function.prototype.toString,Sr=Object.prototype.hasOwnProperty,Gn=_n.call(Object);var Ei={};Ei["[object Float32Array]"]=Ei["[object Float64Array]"]=Ei["[object Int8Array]"]=Ei["[object Int16Array]"]=Ei["[object Int32Array]"]=Ei["[object Uint8Array]"]=Ei["[object Uint8ClampedArray]"]=Ei["[object Uint16Array]"]=Ei["[object Uint32Array]"]=!0,Ei["[object Arguments]"]=Ei["[object Array]"]=Ei["[object ArrayBuffer]"]=Ei["[object Boolean]"]=Ei["[object DataView]"]=Ei["[object Date]"]=Ei["[object Error]"]=Ei["[object Function]"]=Ei["[object Map]"]=Ei["[object Number]"]=Ei["[object Object]"]=Ei["[object RegExp]"]=Ei["[object Set]"]=Ei["[object String]"]=Ei["[object WeakMap]"]=!1;var oa="object"==typeof exports&&exports&&!exports.nodeType&&exports,ta=oa&&"object"==typeof module&&module&&!module.nodeType&&module,Aa=ta&&ta.exports===oa&&ct.process,na=function(){try{return ta&&ta.require&&ta.require("util").types||Aa&&Aa.binding&&Aa.binding("util")}catch{}}(),Gs=na&&na.isTypedArray;const ba=Gs?function Ko(nt){return function(Xt){return nt(Xt)}}(Gs):function Ms(nt){return Ws(nt)&&uo(nt.length)&&!!Ei[Pr(nt)]},Ea=function Oo(nt,Xt){if(("constructor"!==Xt||"function"!=typeof nt[Xt])&&"__proto__"!=Xt)return nt[Xt]};var Z=Object.prototype.hasOwnProperty;const De=function oe(nt,Xt,Qt){var yr=nt[Xt];(!Z.call(nt,Xt)||!Ze(yr,Qt)||void 0===Qt&&!(Xt in nt))&&$t(nt,Xt,Qt)};var Nn=/^(?:0|[1-9]\d*)$/;const Jr=function or(nt,Xt){var Qt=typeof nt;return!!(Xt=null==Xt?9007199254740991:Xt)&&("number"==Qt||"symbol"!=Qt&&Nn.test(nt))&&nt>-1&&nt%1==0&&nt<Xt};var $s=Object.prototype.hasOwnProperty;const Y=function Ps(nt,Xt){var Qt=ki(nt),yr=!Qt&&Do(nt),Ui=!Qt&&!yr&&he(nt),Wi=!Qt&&!yr&&!Ui&&ba(nt),Ji=Qt||yr||Ui||Wi,ns=Ji?function Tt(nt,Xt){for(var Qt=-1,yr=Array(nt);++Qt<nt;)yr[Qt]=Xt(Qt);return yr}(nt.length,String):[],qi=ns.length;for(var Uo in nt)(Xt||$s.call(nt,Uo))&&(!Ji||!("length"==Uo||Ui&&("offset"==Uo||"parent"==Uo)||Wi&&("buffer"==Uo||"byteLength"==Uo||"byteOffset"==Uo)||Jr(Uo,qi)))&&ns.push(Uo);return ns};var vt=Object.prototype.hasOwnProperty;const Rn=function mn(nt){if(!Ar(nt))return function ue(nt){var Xt=[];if(null!=nt)for(var Qt in Object(nt))Xt.push(Qt);return Xt}(nt);var Xt=lo(nt),Qt=[];for(var yr in nt)"constructor"==yr&&(Xt||!vt.call(nt,yr))||Qt.push(yr);return Qt},fr=function ei(nt){return po(nt)?Y(nt,!0):Rn(nt)},ti=function Gi(nt){return function $e(nt,Xt,Qt,yr){var Ui=!Qt;Qt||(Qt={});for(var Wi=-1,Ji=Xt.length;++Wi<Ji;){var ns=Xt[Wi],qi=yr?yr(Qt[ns],nt[ns],ns,Qt,nt):void 0;void 0===qi&&(qi=nt[ns]),Ui?$t(Qt,ns,qi):De(Qt,ns,qi)}return Qt}(nt,fr(nt))},ds=function Li(nt,Xt,Qt,yr,Ui,Wi,Ji){var ns=Ea(nt,Qt),qi=Ea(Xt,Qt),Uo=Ji.get(qi);if(Uo)Un(nt,Qt,Uo);else{var aa=Wi?Wi(ns,qi,Qt+"",nt,Xt,Ji):void 0,pn=void 0===aa;if(pn){var La=ki(qi),fa=!La&&he(qi),Cl=!La&&!fa&&ba(qi);aa=qi,La||fa||Cl?ki(ns)?aa=ns:function Go(nt){return Ws(nt)&&po(nt)}(ns)?aa=function Yr(nt,Xt){var Qt=-1,yr=nt.length;for(Xt||(Xt=Array(yr));++Qt<yr;)Xt[Qt]=nt[Qt];return Xt}(ns):fa?(pn=!1,aa=function Lr(nt,Xt){if(Xt)return nt.slice();var Qt=nt.length,yr=Fr?Fr(Qt):new nt.constructor(Qt);return nt.copy(yr),yr}(qi,!0)):Cl?(pn=!1,aa=zi(qi,!0)):aa=[]:function ai(nt){if(!Ws(nt)||"[object Object]"!=Pr(nt))return!1;var Xt=Io(nt);if(null===Xt)return!0;var Qt=Sr.call(Xt,"constructor")&&Xt.constructor;return"function"==typeof Qt&&Qt instanceof Qt&&_n.call(Qt)==Gn}(qi)||Do(qi)?(aa=ns,Do(ns)?aa=ti(ns):(!Ar(ns)||bi(ns))&&(aa=function Ho(nt){return"function"!=typeof nt.constructor||lo(nt)?{}:Qi(Io(nt))}(qi))):pn=!1}pn&&(Ji.set(qi,aa),Ui(aa,qi,yr,Wi,Ji),Ji.delete(qi)),Un(nt,Qt,aa)}},yo=function Is(nt,Xt,Qt,yr,Ui){nt!==Xt&&gs(Xt,function(Wi,Ji){if(Ui||(Ui=new ne),Ar(Wi))ds(nt,Xt,Ji,Qt,Is,yr,Ui);else{var ns=yr?yr(Ea(nt,Ji),Wi,Ji+"",nt,Xt,Ui):void 0;void 0===ns&&(ns=Wi),Un(nt,Ji,ns)}},fr)},Bi=function Wn(nt){return nt};var Or=Math.max;const Dn=function Bn(nt){return function(){return nt}};var Xn=st?function(nt,Xt){return st(nt,"toString",{configurable:!0,enumerable:!1,value:Dn(Xt),writable:!0})}:Bi,xa=Date.now,Zo=function dl(nt){var Xt=0,Qt=0;return function(){var yr=xa(),Ui=16-(yr-Qt);if(Qt=yr,Ui>0){if(++Xt>=800)return arguments[0]}else Xt=0;return nt.apply(void 0,arguments)}}(Xn);const Wa=Zo,bs=function yl(nt,Xt){return Wa(function ii(nt,Xt,Qt){return Xt=Or(void 0===Xt?nt.length-1:Xt,0),function(){for(var yr=arguments,Ui=-1,Wi=Or(yr.length-Xt,0),Ji=Array(Wi);++Ui<Wi;)Ji[Ui]=yr[Xt+Ui];Ui=-1;for(var ns=Array(Xt+1);++Ui<Xt;)ns[Ui]=yr[Ui];return ns[Xt]=Qt(Ji),function Yo(nt,Xt,Qt){switch(Qt.length){case 0:return nt.call(Xt);case 1:return nt.call(Xt,Qt[0]);case 2:return nt.call(Xt,Qt[0],Qt[1]);case 3:return nt.call(Xt,Qt[0],Qt[1],Qt[2])}return nt.apply(Xt,Qt)}(nt,this,ns)}}(nt,Xt,Bi),nt+"")};var Ia=function Vi(nt){return bs(function(Xt,Qt){var yr=-1,Ui=Qt.length,Wi=Ui>1?Qt[Ui-1]:void 0,Ji=Ui>2?Qt[2]:void 0;for(Wi=nt.length>3&&"function"==typeof Wi?(Ui--,Wi):void 0,Ji&&function Jo(nt,Xt,Qt){if(!Ar(Qt))return!1;var yr=typeof Xt;return!!("number"==yr?po(Qt)&&Jr(Xt,Qt.length):"string"==yr&&Xt in Qt)&&Ze(Qt[Xt],nt)}(Qt[0],Qt[1],Ji)&&(Wi=Ui<3?void 0:Wi,Ui=1),Xt=Object(Xt);++yr<Ui;){var ns=Qt[yr];ns&&nt(Xt,ns,yr,Wi)}return Xt})}(function(nt,Xt,Qt){yo(nt,Xt,Qt)});const Ks=Ia;let yi=(()=>{class nt{constructor(){this.colorschemesOptions=new ke.X(void 0)}setColorschemesOptions(Qt){this.pColorschemesOptions=Qt,this.colorschemesOptions.next(Qt)}getColorschemesOptions(){return this.pColorschemesOptions}}return nt.\u0275fac=function(Qt){return new(Qt||nt)},nt.\u0275prov=d.Yz7({token:nt,factory:nt.\u0275fac,providedIn:"root"}),nt})(),Fa=(()=>{class nt{constructor(Qt,yr,Ui){this.zone=yr,this.themeService=Ui,this.type="bar",this.plugins=[],this.chartClick=new d.vpe,this.chartHover=new d.vpe,this.subs=[],this.themeOverrides={},this.ctx=Qt.nativeElement.getContext("2d"),this.subs.push(this.themeService.colorschemesOptions.pipe((0,qe.x)()).subscribe(Wi=>this.themeChanged(Wi)))}ngOnChanges(Qt){const yr=["type"],Ui=Object.getOwnPropertyNames(Qt);if(Ui.some(Wi=>yr.includes(Wi))||Ui.every(Wi=>Qt[Wi].isFirstChange()))this.render();else{const Wi=this.getChartConfiguration();this.chart&&(Object.assign(this.chart.config.data,Wi.data),this.chart.config.plugins&&Object.assign(this.chart.config.plugins,Wi.plugins),this.chart.config.options&&Object.assign(this.chart.config.options,Wi.options)),this.update()}}ngOnDestroy(){this.chart&&(this.chart.destroy(),this.chart=void 0),this.subs.forEach(Qt=>Qt.unsubscribe())}render(){return this.chart&&this.chart.destroy(),this.zone.runOutsideAngular(()=>this.chart=new E.kL(this.ctx,this.getChartConfiguration()))}update(Qt){this.chart&&this.zone.runOutsideAngular(()=>{var yr;return null===(yr=this.chart)||void 0===yr?void 0:yr.update(Qt)})}hideDataset(Qt,yr){this.chart&&(this.chart.getDatasetMeta(Qt).hidden=yr,this.update())}isDatasetHidden(Qt){var yr,Ui;return null===(yr=this.chart)||void 0===yr||null===(Ui=yr.getDatasetMeta(Qt))||void 0===Ui?void 0:Ui.hidden}toBase64Image(){var Qt;return null===(Qt=this.chart)||void 0===Qt?void 0:Qt.toBase64Image()}themeChanged(Qt){this.themeOverrides=Qt,this.chart&&(this.chart.config.options&&Object.assign(this.chart.config.options,this.getChartOptions()),this.update())}getChartOptions(){return Ks({onHover:(Qt,yr)=>{var Ui;!this.chartHover.observed&&(null===(Ui=this.chartHover.observers)||void 0===Ui||!Ui.length)||this.zone.run(()=>this.chartHover.emit({event:Qt,active:yr}))},onClick:(Qt,yr)=>{var Ui;!this.chartClick.observed&&(null===(Ui=this.chartClick.observers)||void 0===Ui||!Ui.length)||this.zone.run(()=>this.chartClick.emit({event:Qt,active:yr}))}},this.themeOverrides,this.options,{plugins:{legend:{display:this.legend}}})}getChartConfiguration(){return{type:this.type,data:this.getChartData(),options:this.getChartOptions(),plugins:this.plugins}}getChartData(){return this.data?this.data:{labels:this.labels||[],datasets:this.datasets||[]}}}return nt.\u0275fac=function(Qt){return new(Qt||nt)(d.Y36(d.SBq),d.Y36(d.R0b),d.Y36(yi))},nt.\u0275dir=d.lG2({type:nt,selectors:[["canvas","baseChart",""]],inputs:{type:"type",legend:"legend",data:"data",options:"options",plugins:"plugins",labels:"labels",datasets:"datasets"},outputs:{chartClick:"chartClick",chartHover:"chartHover"},exportAs:["base-chart"],features:[d.TTD]}),nt})();const ss=[[255,99,132],[54,162,235],[255,206,86],[231,233,237],[75,192,192],[151,187,205],[220,220,220],[247,70,74],[70,191,189],[253,180,92],[148,159,177],[77,83,96]],Ga={plugins:{colors:{enabled:!1}},datasets:{line:{backgroundColor:nt=>hs(ha(nt.datasetIndex),.4),borderColor:nt=>hs(ha(nt.datasetIndex),1),pointBackgroundColor:nt=>hs(ha(nt.datasetIndex),1),pointBorderColor:"#fff"},bar:{backgroundColor:nt=>hs(ha(nt.datasetIndex),.6),borderColor:nt=>hs(ha(nt.datasetIndex),1)},get radar(){return this.line},doughnut:{backgroundColor:nt=>hs(ha(nt.dataIndex),.6),borderColor:"#fff"},get pie(){return this.doughnut},polarArea:{backgroundColor:nt=>hs(ha(nt.dataIndex),.6),borderColor:nt=>hs(ha(nt.dataIndex),1)},get bubble(){return this.doughnut},get scatter(){return this.doughnut},get area(){return this.polarArea}}};function hs(nt,Xt){return"rgba("+nt.concat(Xt).join(",")+")"}function gr(nt,Xt){return Math.floor(Math.random()*(Xt-nt+1))+nt}function ha(nt=0){return ss[nt]||function Ka(){return[gr(0,255),gr(0,255),gr(0,255)]}()}let ya=(()=>{class nt{constructor(){this.generateColors=!0}}return nt.\u0275fac=function(Qt){return new(Qt||nt)},nt.\u0275prov=d.Yz7({token:nt,factory:nt.\u0275fac,providedIn:"root"}),nt})();E.kL.register(...E.zX);let hl=(()=>{class nt{constructor(Qt){null!=Qt&&Qt.plugins&&E.kL.register(...Qt.plugins);const yr=Ks(null!=Qt&&Qt.generateColors?Ga:{},(null==Qt?void 0:Qt.defaults)||{});be.d.set(yr)}static forRoot(Qt){return{ngModule:nt,providers:[{provide:ya,useValue:Qt}]}}}return nt.\u0275fac=function(Qt){return new(Qt||nt)(d.LFG(ya,8))},nt.\u0275mod=d.oAB({type:nt}),nt.\u0275inj=d.cJS({}),nt})()},5861:(Jn,Ft,z)=>{"use strict";function d(be,ke,qe,je,Se,Re,Ze){try{var Le=be[Re](Ze),xe=Le.value}catch(it){return void qe(it)}Le.done?ke(xe):Promise.resolve(xe).then(je,Se)}function E(be){return function(){var ke=this,qe=arguments;return new Promise(function(je,Se){var Re=be.apply(ke,qe);function Ze(xe){d(Re,je,Se,Ze,Le,"next",xe)}function Le(xe){d(Re,je,Se,Ze,Le,"throw",xe)}Ze(void 0)})}}z.d(Ft,{Z:()=>E})}},Jn=>{Jn(Jn.s=5773)}]);