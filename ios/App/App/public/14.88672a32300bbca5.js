"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[14],{14:(b,h,o)=>{o.r(h),o.d(h,{LindasPageModule:()=>M});var g=o(4755),P=o(5030),r=o(9972),f=o(5559),c=o(5861),y=o(9260),T=o(7662),t=o(2223),Z=o(8490),L=o(2110);function v(a,s){if(1&a&&(t.TgZ(0,"ion-card")(1,"ion-card-content"),t._UZ(2,"img",5),t.qZA()()),2&a){const n=s.$implicit;t.xp6(2),t.s9C("src",n,t.LSH)}}function F(a,s){if(1&a&&(t.TgZ(0,"ion-list"),t.YNc(1,v,3,1,"ion-card",4),t.qZA()),2&a){const n=t.oxw();t.xp6(1),t.Q6J("ngForOf",n.captureDataUrl)}}const U=[{path:"",component:(()=>{class a{constructor(n,e,i,l,d,u){this.navCtrl=n,this.navParams=e,this.router=i,this.camera=l,this.imgProvider=d,this.alertCtrl=u,this.clasificacionFoto=0,this.slideOpts={initialSlide:1,speed:400},this.usuario=JSON.parse(sessionStorage.getItem("usuario")),this.TraerFoto(),this.captureDataUrl=new Array}SacarFoto(){var n=this;return(0,c.Z)(function*(){const e={quality:50,destinationType:n.camera.DestinationType.DATA_URL,encodingType:n.camera.EncodingType.JPEG,mediaType:n.camera.MediaType.PICTURE,correctOrientation:!0};yield n.camera.getPicture(e).then(i=>{n.captureDataUrl.push("data:image/jpeg;base64,"+i),n.hayFotos=!0},function(){var i=(0,c.Z)(function*(l){return(yield n.alertCtrl.create({message:"Error!",subHeader:"error",buttons:["Ok"]})).present()});return function(l){return i.apply(this,arguments)}}())})()}GuardarFotos(){var n=this;return(0,c.Z)(function*(){let e=new T.b;yield n.captureDataUrl.forEach(function(){var l=(0,c.Z)(function*(d){let u="lindas/"+Date.now();yield y.Z.storage().ref(u).putString(d,"data_url"),yield y.Z.storage().ref().child(u).getDownloadURL().then(function(){var p=(0,c.Z)(function*(m){e.path=m,e.nombre=u,e.usuario=n.usuario,e.votos=new Array,yield n.imgProvider.GuardarData(e,"lindas"),console.log(m),n.captureDataUrl.splice(0)});return function(m){return p.apply(this,arguments)}}()).catch(p=>{console.log(p)})});return function(d){return l.apply(this,arguments)}}())})()}IrAListalindas(){this.router.navigateByUrl("lista-lindas")}TraerFoto(){this.imgProvider.TraerFotosLindas().subscribe(n=>{this.fotos=n.map(function(e,i){return e})}),console.log(this.fotos)}MisFotos(){this.router.navigateByUrl("mis-fotos")}}return a.\u0275fac=function(n){return new(n||a)(t.Y36(r.SH),t.Y36(r.X1),t.Y36(f.F0),t.Y36(Z.V1),t.Y36(L.O),t.Y36(r.Br))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-lindas"]],decls:16,vars:2,consts:[["padding","",1,"fondo"],["ion-button","","color","light","outline","",3,"click"],["ion-button","","color","light","outline","",3,"disabled","click"],[4,"ngIf"],[4,"ngFor","ngForOf"],[3,"src"]],template:function(n,e){1&n&&(t.TgZ(0,"ion-header")(1,"ion-title"),t._uU(2,"Lindas"),t.qZA()(),t.TgZ(3,"ion-content",0)(4,"button",1),t.NdJ("click",function(){return e.SacarFoto()}),t._uU(5,"Tomar foto"),t.qZA(),t._UZ(6,"br"),t.TgZ(7,"button",2),t.NdJ("click",function(){return e.GuardarFotos()}),t._uU(8," Guardar fotos"),t.qZA(),t._UZ(9,"br"),t.TgZ(10,"button",1),t.NdJ("click",function(){return e.IrAListalindas()}),t._uU(11," Ver cosas lindas "),t.qZA(),t._UZ(12,"br"),t.TgZ(13,"button",1),t.NdJ("click",function(){return e.MisFotos()}),t._uU(14," Mis fotos"),t.qZA(),t.YNc(15,F,2,1,"ion-list",3),t.qZA()),2&n&&(t.xp6(7),t.Q6J("disabled",!e.hayFotos),t.xp6(8),t.Q6J("ngIf",e.hayFotos))},dependencies:[g.sg,g.O5,r.PM,r.FN,r.W2,r.Gu,r.q_,r.wd],styles:["page-lindas[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{text-align:center;justify-content:center}page-lindas[_ngcontent-%COMP%]   .fondo[_ngcontent-%COMP%]{background-color:#289bf9}"]}),a})()}];let A=(()=>{class a{}return a.\u0275fac=function(n){return new(n||a)},a.\u0275mod=t.oAB({type:a}),a.\u0275inj=t.cJS({imports:[f.Bz.forChild(U),f.Bz]}),a})(),M=(()=>{class a{}return a.\u0275fac=function(n){return new(n||a)},a.\u0275mod=t.oAB({type:a}),a.\u0275inj=t.cJS({imports:[g.ez,P.u5,r.Pc,A]}),a})()}}]);