(self.webpackChunkapp=self.webpackChunkapp||[]).push([[179],{2313:(Kn,Rt,H)=>{"use strict";H.d(Rt,{nm:()=>Si});var h=H(3324),Ze=(H(2223),H(3692),H(259),H(5861)),Ge=H(6881),Se=H(4859),Pe=H(2090),Qe=H(1877);const Le=new Map,Me={activated:!1,tokenObservers:[]},rt={initialized:!1,enabled:!1};function xe(ie){return Le.get(ie)||Object.assign({},Me)}function pt(){return rt}const Vt="https://content-firebaseappcheck.googleapis.com/v1",kt="exchangeDebugToken",Mt={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class It{constructor(fe,Re,Ee,re,ye){if(this.operation=fe,this.retryPolicy=Re,this.getWaitDuration=Ee,this.lowerBound=re,this.upperBound=ye,this.pending=null,this.nextErrorWaitInterval=re,re>ye)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(fe){var Re=this;return(0,Ze.Z)(function*(){Re.stop();try{Re.pending=new Pe.BH,yield function Tt(ie){return new Promise(fe=>{setTimeout(fe,ie)})}(Re.getNextRun(fe)),Re.pending.resolve(),yield Re.pending.promise,Re.pending=new Pe.BH,yield Re.operation(),Re.pending.resolve(),yield Re.pending.promise,Re.process(!0).catch(()=>{})}catch(Ee){Re.retryPolicy(Ee)?Re.process(!1).catch(()=>{}):Re.stop()}})()}getNextRun(fe){if(fe)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const Re=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),Re}}}const vt=new Pe.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function Te(){return(Te=(0,Ze.Z)(function*({url:ie,body:fe},Re){const Ee={"Content-Type":"application/json"},re=Re.getImmediate({optional:!0});if(re){const Vn=yield re.getHeartbeatsHeader();Vn&&(Ee["X-Firebase-Client"]=Vn)}const ye={method:"POST",body:JSON.stringify(fe),headers:Ee};let st,bt;try{st=yield fetch(ie,ye)}catch(Vn){throw vt.create("fetch-network-error",{originalErrorMessage:null==Vn?void 0:Vn.message})}if(200!==st.status)throw vt.create("fetch-status-error",{httpStatus:st.status});try{bt=yield st.json()}catch(Vn){throw vt.create("fetch-parse-error",{originalErrorMessage:null==Vn?void 0:Vn.message})}const Lt=bt.ttl.match(/^([\d.]+)(s)$/);if(!Lt||!Lt[2]||isNaN(Number(Lt[1])))throw vt.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${bt.ttl}`});const Xt=1e3*Number(Lt[1]),zn=Date.now();return{token:bt.token,expireTimeMillis:zn+Xt,issuedAtTimeMillis:zn}})).apply(this,arguments)}const Je="firebase-app-check-database",et=1,ct="firebase-app-check-store";let Pt=null;function yn(){return(yn=(0,Ze.Z)(function*(ie,fe){const Ee=(yield function Jt(){return Pt||(Pt=new Promise((ie,fe)=>{try{const Re=indexedDB.open(Je,et);Re.onsuccess=Ee=>{ie(Ee.target.result)},Re.onerror=Ee=>{var re;fe(vt.create("storage-open",{originalErrorMessage:null===(re=Ee.target.error)||void 0===re?void 0:re.message}))},Re.onupgradeneeded=Ee=>{0===Ee.oldVersion&&Ee.target.result.createObjectStore(ct,{keyPath:"compositeKey"})}}catch(Re){fe(vt.create("storage-open",{originalErrorMessage:null==Re?void 0:Re.message}))}}),Pt)}()).transaction(ct,"readwrite"),ye=Ee.objectStore(ct).put({compositeKey:ie,value:fe});return new Promise((st,bt)=>{ye.onsuccess=Lt=>{st()},Ee.onerror=Lt=>{var Xt;bt(vt.create("storage-set",{originalErrorMessage:null===(Xt=Lt.target.error)||void 0===Xt?void 0:Xt.message}))}})})).apply(this,arguments)}const un=new Qe.Yd("@firebase/app-check");function Rr(ie,fe){return(0,Pe.hl)()?function Nn(ie,fe){return function on(ie,fe){return yn.apply(this,arguments)}(function lr(ie){return`${ie.options.appId}-${ie.name}`}(ie),fe)}(ie,fe).catch(Re=>{un.warn(`Failed to write token to IndexedDB. Error: ${Re}`)}):Promise.resolve()}function jr(){return(jr=(0,Ze.Z)(function*(){const ie=pt();if(ie.enabled&&ie.token)return ie.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const vi={error:"UNKNOWN_ERROR"};function pi(ie){return Pe.US.encodeString(JSON.stringify(ie),!1)}function Jn(ie){return Qn.apply(this,arguments)}function Qn(){return(Qn=(0,Ze.Z)(function*(ie,fe=!1){const Re=ie.app;!function Ht(ie){if(!xe(ie).activated)throw vt.create("use-before-activation",{appName:ie.name})}(Re);const Ee=xe(Re);let ye,re=Ee.token;if(re&&!dr(re)&&(Ee.token=void 0,re=void 0),!re){const Lt=yield Ee.cachedTokenPromise;Lt&&(dr(Lt)?re=Lt:yield Rr(Re,void 0))}if(!fe&&re&&dr(re))return{token:re.token};let bt,st=!1;if(function Mn(){return pt().enabled}()){Ee.exchangeTokenPromise||(Ee.exchangeTokenPromise=function qt(ie,fe){return Te.apply(this,arguments)}(function mt(ie,fe){const{projectId:Re,appId:Ee,apiKey:re}=ie.options;return{url:`${Vt}/projects/${Re}/apps/${Ee}:${kt}?key=${re}`,body:{debug_token:fe}}}(Re,yield function ni(){return jr.apply(this,arguments)}()),ie.heartbeatServiceProvider).finally(()=>{Ee.exchangeTokenPromise=void 0}),st=!0);const Lt=yield Ee.exchangeTokenPromise;return yield Rr(Re,Lt),Ee.token=Lt,{token:Lt.token}}try{Ee.exchangeTokenPromise||(Ee.exchangeTokenPromise=Ee.provider.getToken().finally(()=>{Ee.exchangeTokenPromise=void 0}),st=!0),re=yield xe(Re).exchangeTokenPromise}catch(Lt){"appCheck/throttled"===Lt.code?un.warn(Lt.message):un.error(Lt),ye=Lt}return re?ye?bt=dr(re)?{token:re.token,internalError:ye}:ui(ye):(bt={token:re.token},Ee.token=re,yield Rr(Re,re)):bt=ui(ye),st&&function br(ie,fe){const Re=xe(ie).tokenObservers;for(const Ee of Re)try{"EXTERNAL"===Ee.type&&null!=fe.error?Ee.error(fe.error):Ee.next(fe)}catch{}}(Re,bt),bt})).apply(this,arguments)}function Kr(ie,fe){const Re=xe(ie),Ee=Re.tokenObservers.filter(re=>re.next!==fe);0===Ee.length&&Re.tokenRefresher&&Re.tokenRefresher.isRunning()&&Re.tokenRefresher.stop(),Re.tokenObservers=Ee}function fi(ie){const{app:fe}=ie,Re=xe(fe);let Ee=Re.tokenRefresher;Ee||(Ee=function gi(ie){const{app:fe}=ie;return new It((0,Ze.Z)(function*(){let Ee;if(Ee=xe(fe).token?yield Jn(ie,!0):yield Jn(ie),Ee.error)throw Ee.error;if(Ee.internalError)throw Ee.internalError}),()=>!0,()=>{const Re=xe(fe);if(Re.token){let Ee=Re.token.issuedAtTimeMillis+.5*(Re.token.expireTimeMillis-Re.token.issuedAtTimeMillis)+3e5;return Ee=Math.min(Ee,Re.token.expireTimeMillis-3e5),Math.max(0,Ee-Date.now())}return 0},Mt.RETRIAL_MIN_WAIT,Mt.RETRIAL_MAX_WAIT)}(ie),Re.tokenRefresher=Ee),!Ee.isRunning()&&Re.isTokenAutoRefreshEnabled&&Ee.start()}function dr(ie){return ie.expireTimeMillis-Date.now()>0}function ui(ie){return{token:pi(vi),error:ie}}class Er{constructor(fe,Re){this.app=fe,this.heartbeatServiceProvider=Re}_delete(){const{tokenObservers:fe}=xe(this.app);for(const Re of fe)Kr(this.app,Re.next);return Promise.resolve()}}const Gn="app-check-internal";!function hr(){(0,Ge._registerComponent)(new Se.wA("app-check",ie=>function Cn(ie,fe){return new Er(ie,fe)}(ie.getProvider("app").getImmediate(),ie.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((ie,fe,Re)=>{ie.getProvider(Gn).initialize()})),(0,Ge._registerComponent)(new Se.wA(Gn,ie=>function ke(ie){return{getToken:fe=>Jn(ie,fe),addTokenListener:fe=>function si(ie,fe,Re,Ee){const{app:re}=ie,ye=xe(re);if(ye.tokenObservers=[...ye.tokenObservers,{next:Re,error:Ee,type:fe}],ye.token&&dr(ye.token)){const bt=ye.token;Promise.resolve().then(()=>{Re({token:bt.token}),fi(ie)}).catch(()=>{})}ye.cachedTokenPromise.then(()=>fi(ie))}(ie,"INTERNAL",fe),removeTokenListener:fe=>Kr(ie.app,fe)}}(ie.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Ge.registerVersion)("@firebase/app-check","0.7.0")}();class Si{constructor(){return(0,h.vb)("app-check")}}typeof window<"u"&&window},3692:(Kn,Rt,H)=>{"use strict";H.d(Rt,{Ot:()=>Oe,ZF:()=>We,hX:()=>xe,z6:()=>Ze});var h=H(259),_=H(2223),_e=H(3324);class Oe{constructor(It){return It}}class Ze{constructor(){return(0,h.C6)()}}const Pe=new _.OlP("angularfire2._apps"),Qe={provide:Oe,useFactory:function Se(dt){return dt&&1===dt.length?dt[0]:new Oe((0,h.Mq)())},deps:[[new _.FiY,Pe]]},Le={provide:Ze,deps:[[new _.FiY,Pe]]};function Me(dt){return(It,Tt)=>{const wt=It.runOutsideAngular(()=>dt(Tt));return new Oe(wt)}}let rt=(()=>{class dt{constructor(Tt){(0,h.KN)("angularfire",_e.q4.full,"core"),(0,h.KN)("angularfire",_e.q4.full,"app"),(0,h.KN)("angular",_.q4F.full,Tt.toString())}}return dt.\u0275fac=function(Tt){return new(Tt||dt)(_.LFG(_.Lbi))},dt.\u0275mod=_.oAB({type:dt}),dt.\u0275inj=_.cJS({providers:[Qe,Le]}),dt})();function xe(dt,...It){return{ngModule:rt,providers:[{provide:Pe,useFactory:Me(dt),multi:!0,deps:[_.R0b,_.zs3,_e.HU,...It]}]}}const We=(0,_e.u3)(h.ZF,!0)},7246:(Kn,Rt,H)=>{"use strict";H.d(Rt,{dh:()=>xe,v0:()=>mt,AR:()=>dt});var h=H(3324),_=H(2223),_e=H(3692),Oe=H(259),Ze=H(2313),Ge=H(1389);H(2090),H(6881),H(1877),H(4859);class rt{constructor(jt){return jt}}class xe{constructor(){return(0,h.vb)("auth")}}const pt=new _.OlP("angularfire2.auth-instances");function We(ut){return(jt,bn)=>{const $n=jt.runOutsideAngular(()=>ut(bn));return new rt($n)}}const $e={provide:xe,deps:[[new _.FiY,pt]]},kt={provide:rt,useFactory:function Vt(ut,jt){const bn=(0,h.JM)("auth",ut,jt);return bn&&new rt(bn)},deps:[[new _.FiY,pt],_e.Ot]};let Mt=(()=>{class ut{constructor(){(0,Oe.KN)("angularfire",h.q4.full,"auth")}}return ut.\u0275fac=function(bn){return new(bn||ut)},ut.\u0275mod=_.oAB({type:ut}),ut.\u0275inj=_.cJS({providers:[kt,$e]}),ut})();function dt(ut,...jt){return{ngModule:Mt,providers:[{provide:pt,useFactory:We(ut),multi:!0,deps:[_.R0b,_.zs3,h.HU,_e.z6,[new _.FiY,Ze.nm],...jt]}]}}const mt=(0,h.u3)(Ge.o,!0)},3385:(Kn,Rt,H)=>{"use strict";H.d(Rt,{zQ:()=>Nt,ww:()=>qt,rT:()=>vt,f7:()=>Ht,L6:()=>Tt,_Q:()=>wt,lh:()=>nt,Qv:()=>It,nw:()=>Ct});var h=H(2223),_=H(7579),_e=H(9646),Oe=H(9751),Ze=H(8996),Ge=H(6451),Se=H(5363),Pe=H(3900),Qe=H(4004),Le=H(3151),Me=H(590),rt=H(576);function xe(Te,qe){return(0,rt.m)(qe)?(0,Pe.w)(()=>Te,qe):(0,Pe.w)(()=>Te)}var at=H(9468),pt=H(9300),Vt=H(3324),We=H(2011),$e=H(4755),kt=H(2313),Mt=H(9260);const It=new h.OlP("angularfire2.auth.use-emulator"),Tt=new h.OlP("angularfire2.auth.settings"),wt=new h.OlP("angularfire2.auth.tenant-id"),vt=new h.OlP("angularfire2.auth.langugage-code"),nt=new h.OlP("angularfire2.auth.use-device-language"),Ht=new h.OlP("angularfire.auth.persistence"),Ct=(Te,qe,lt,mt,Je,et,ct,Ut)=>(0,We.cc)(`${Te.name}.auth`,"AngularFireAuth",Te.name,()=>{const Pt=qe.runOutsideAngular(()=>Te.auth());if(lt&&Pt.useEmulator(...lt),mt&&(Pt.tenantId=mt),Pt.languageCode=Je,et&&Pt.useDeviceLanguage(),ct)for(const[Jt,nn]of Object.entries(ct))Pt.settings[Jt]=nn;return Ut&&Pt.setPersistence(Ut),Pt},[lt,mt,Je,et,ct,Ut]);let Nt=(()=>{class Te{constructor(lt,mt,Je,et,ct,Ut,Pt,Jt,nn,Nn,Qt,Et){const on=new _.x,yn=(0,_e.of)(void 0).pipe((0,Se.Q)(ct.outsideAngular),(0,Pe.w)(()=>et.runOutsideAngular(()=>Promise.resolve().then(H.bind(H,9568)))),(0,Qe.U)(()=>(0,We.on)(lt,et,mt)),(0,Qe.U)(Xn=>Ct(Xn,et,Ut,Jt,nn,Nn,Pt,Qt)),(0,Le.d)({bufferSize:1,refCount:!1}));if((0,$e.PM)(Je))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,_e.of)(null);else{yn.pipe((0,Me.P)()).subscribe();const ar=yn.pipe((0,Pe.w)(Yn=>Yn.getRedirectResult().then(an=>an,()=>null)),Vt.iC,(0,Le.d)({bufferSize:1,refCount:!1})),lr=yn.pipe((0,Pe.w)(Yn=>new Oe.y(an=>({unsubscribe:et.runOutsideAngular(()=>Yn.onAuthStateChanged(Rr=>an.next(Rr),Rr=>an.error(Rr),()=>an.complete()))})))),un=yn.pipe((0,Pe.w)(Yn=>new Oe.y(an=>({unsubscribe:et.runOutsideAngular(()=>Yn.onIdTokenChanged(Rr=>an.next(Rr),Rr=>an.error(Rr),()=>an.complete()))}))));this.authState=ar.pipe(xe(lr),(0,at.R)(ct.outsideAngular),(0,Se.Q)(ct.insideAngular)),this.user=ar.pipe(xe(un),(0,at.R)(ct.outsideAngular),(0,Se.Q)(ct.insideAngular)),this.idToken=this.user.pipe((0,Pe.w)(Yn=>Yn?(0,Ze.D)(Yn.getIdToken()):(0,_e.of)(null))),this.idTokenResult=this.user.pipe((0,Pe.w)(Yn=>Yn?(0,Ze.D)(Yn.getIdTokenResult()):(0,_e.of)(null))),this.credential=(0,Ge.T)(ar,on,this.authState.pipe((0,pt.h)(Yn=>!Yn))).pipe((0,Qe.U)(Yn=>null!=Yn&&Yn.user?Yn:null),(0,at.R)(ct.outsideAngular),(0,Se.Q)(ct.insideAngular))}return(0,We.pX)(this,yn,et,{spy:{apply:(Xn,ar,lr)=>{(Xn.startsWith("signIn")||Xn.startsWith("createUser"))&&lr.then(un=>on.next(un))}}})}}return Te.\u0275fac=function(lt){return new(lt||Te)(h.LFG(We.Dh),h.LFG(We.xv,8),h.LFG(h.Lbi),h.LFG(h.R0b),h.LFG(Vt.HU),h.LFG(It,8),h.LFG(Tt,8),h.LFG(wt,8),h.LFG(vt,8),h.LFG(nt,8),h.LFG(Ht,8),h.LFG(kt.nm,8))},Te.\u0275prov=h.Yz7({token:Te,factory:Te.\u0275fac,providedIn:"any"}),Te})(),qt=(()=>{class Te{constructor(){Mt.Z.registerVersion("angularfire",Vt.q4.full,"auth-compat")}}return Te.\u0275fac=function(lt){return new(lt||Te)},Te.\u0275mod=h.oAB({type:Te}),Te.\u0275inj=h.cJS({providers:[Nt]}),Te})()},1085:(Kn,Rt,H)=>{"use strict";H.d(Rt,{ST:()=>ui,yb:()=>Er});var h=H(2223),_=H(4986),_e=H(9751),Oe=H(8996),Ze=H(9646),Ge=H(3324),Se=H(8675),Pe=H(1520),Qe=H(4004),Le=H(5026),Me=H(1884),rt=H(9300),xe=H(2011),at=H(4755),Vt=(H(9568),H(3942)),We=H(2810),$e=H(2090),kt=H(4859);function It(Cn,ke){if(void 0===ke)return{merge:!1};if(void 0!==ke.mergeFields&&void 0!==ke.merge)throw new We.WA("invalid-argument",`Invalid options passed to function ${Cn}(): You cannot specify both "merge" and "mergeFields".`);return ke}function Tt(){if(typeof Uint8Array>"u")throw new We.WA("unimplemented","Uint8Arrays are not available in this environment.")}function wt(){if(!(0,We.Me)())throw new We.WA("unimplemented","Blobs are unavailable in Firestore in this environment.")}class vt{constructor(ke){this._delegate=ke}static fromBase64String(ke){return wt(),new vt(We.Jj.fromBase64String(ke))}static fromUint8Array(ke){return Tt(),new vt(We.Jj.fromUint8Array(ke))}toBase64(){return wt(),this._delegate.toBase64()}toUint8Array(){return Tt(),this._delegate.toUint8Array()}isEqual(ke){return this._delegate.isEqual(ke._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function nt(Cn){return function Ht(Cn,ke){if("object"!=typeof Cn||null===Cn)return!1;const ut=Cn;for(const jt of ke)if(jt in ut&&"function"==typeof ut[jt])return!0;return!1}(Cn,["next","error","complete"])}class Ct{enableIndexedDbPersistence(ke,ut){return(0,We.ST)(ke._delegate,{forceOwnership:ut})}enableMultiTabIndexedDbPersistence(ke){return(0,We.fH)(ke._delegate)}clearIndexedDbPersistence(ke){return(0,We.Fc)(ke._delegate)}}class Nt{constructor(ke,ut,jt){this._delegate=ut,this._persistenceProvider=jt,this.INTERNAL={delete:()=>this.terminate()},ke instanceof We.l7||(this._appCompat=ke)}get _databaseId(){return this._delegate._databaseId}settings(ke){const ut=this._delegate._getSettings();!ke.merge&&ut.host!==ke.host&&(0,We.yq)("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),ke.merge&&delete(ke=Object.assign(Object.assign({},ut),ke)).merge,this._delegate._setSettings(ke)}useEmulator(ke,ut,jt={}){(0,We.at)(this._delegate,ke,ut,jt)}enableNetwork(){return(0,We.Ix)(this._delegate)}disableNetwork(){return(0,We.TF)(this._delegate)}enablePersistence(ke){let ut=!1,jt=!1;return ke&&(ut=!!ke.synchronizeTabs,jt=!!ke.experimentalForceOwningTab,(0,We.Wi)("synchronizeTabs",ut,"experimentalForceOwningTab",jt)),ut?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,jt)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return(0,We.Mx)(this._delegate)}onSnapshotsInSync(ke){return(0,We.sc)(this._delegate,ke)}get app(){if(!this._appCompat)throw new We.WA("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(ke){try{return new Et(this,(0,We.hJ)(this._delegate,ke))}catch(ut){throw et(ut,"collection()","Firestore.collection()")}}doc(ke){try{return new Je(this,(0,We.JU)(this._delegate,ke))}catch(ut){throw et(ut,"doc()","Firestore.doc()")}}collectionGroup(ke){try{return new nn(this,(0,We.B$)(this._delegate,ke))}catch(ut){throw et(ut,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(ke){return(0,We.i3)(this._delegate,ut=>ke(new qe(this,ut)))}batch(){return(0,We.qY)(this._delegate),new lt(new We.PU(this._delegate,ke=>(0,We.GL)(this._delegate,ke)))}loadBundle(ke){return(0,We.Pb)(this._delegate,ke)}namedQuery(ke){return(0,We.L$)(this._delegate,ke).then(ut=>ut?new nn(this,ut):null)}}class qt extends We.u7{constructor(ke){super(),this.firestore=ke}convertBytes(ke){return new vt(new We.Jj(ke))}convertReference(ke){const ut=this.convertDocumentKey(ke,this.firestore._databaseId);return Je.forKey(ut,this.firestore,null)}}class qe{constructor(ke,ut){this._firestore=ke,this._delegate=ut,this._userDataWriter=new qt(ke)}get(ke){const ut=on(ke);return this._delegate.get(ut).then(jt=>new Pt(this._firestore,new We.xU(this._firestore._delegate,this._userDataWriter,jt._key,jt._document,jt.metadata,ut.converter)))}set(ke,ut,jt){const bn=on(ke);return jt?(It("Transaction.set",jt),this._delegate.set(bn,ut,jt)):this._delegate.set(bn,ut),this}update(ke,ut,jt,...bn){const $n=on(ke);return 2===arguments.length?this._delegate.update($n,ut):this._delegate.update($n,ut,jt,...bn),this}delete(ke){const ut=on(ke);return this._delegate.delete(ut),this}}class lt{constructor(ke){this._delegate=ke}set(ke,ut,jt){const bn=on(ke);return jt?(It("WriteBatch.set",jt),this._delegate.set(bn,ut,jt)):this._delegate.set(bn,ut),this}update(ke,ut,jt,...bn){const $n=on(ke);return 2===arguments.length?this._delegate.update($n,ut):this._delegate.update($n,ut,jt,...bn),this}delete(ke){const ut=on(ke);return this._delegate.delete(ut),this}commit(){return this._delegate.commit()}}class mt{constructor(ke,ut,jt){this._firestore=ke,this._userDataWriter=ut,this._delegate=jt}fromFirestore(ke,ut){const jt=new We.$q(this._firestore._delegate,this._userDataWriter,ke._key,ke._document,ke.metadata,null);return this._delegate.fromFirestore(new Jt(this._firestore,jt),null!=ut?ut:{})}toFirestore(ke,ut){return ut?this._delegate.toFirestore(ke,ut):this._delegate.toFirestore(ke)}static getInstance(ke,ut){const jt=mt.INSTANCES;let bn=jt.get(ke);bn||(bn=new WeakMap,jt.set(ke,bn));let $n=bn.get(ut);return $n||($n=new mt(ke,new qt(ke),ut),bn.set(ut,$n)),$n}}mt.INSTANCES=new WeakMap;class Je{constructor(ke,ut){this.firestore=ke,this._delegate=ut,this._userDataWriter=new qt(ke)}static forPath(ke,ut,jt){if(ke.length%2!=0)throw new We.WA("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${ke.canonicalString()} has ${ke.length}`);return new Je(ut,new We.my(ut._delegate,jt,new We.Ky(ke)))}static forKey(ke,ut,jt){return new Je(ut,new We.my(ut._delegate,jt,ke))}get id(){return this._delegate.id}get parent(){return new Et(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(ke){try{return new Et(this.firestore,(0,We.hJ)(this._delegate,ke))}catch(ut){throw et(ut,"collection()","DocumentReference.collection()")}}isEqual(ke){return(ke=(0,$e.m9)(ke))instanceof We.my&&(0,We.Eo)(this._delegate,ke)}set(ke,ut){ut=It("DocumentReference.set",ut);try{return ut?(0,We.pl)(this._delegate,ke,ut):(0,We.pl)(this._delegate,ke)}catch(jt){throw et(jt,"setDoc()","DocumentReference.set()")}}update(ke,ut,...jt){try{return 1===arguments.length?(0,We.r7)(this._delegate,ke):(0,We.r7)(this._delegate,ke,ut,...jt)}catch(bn){throw et(bn,"updateDoc()","DocumentReference.update()")}}delete(){return(0,We.oe)(this._delegate)}onSnapshot(...ke){const ut=ct(ke),jt=Ut(ke,bn=>new Pt(this.firestore,new We.xU(this.firestore._delegate,this._userDataWriter,bn._key,bn._document,bn.metadata,this._delegate.converter)));return(0,We.cf)(this._delegate,ut,jt)}get(ke){let ut;return ut="cache"===(null==ke?void 0:ke.source)?(0,We.kl)(this._delegate):"server"===(null==ke?void 0:ke.source)?(0,We.Xk)(this._delegate):(0,We.QT)(this._delegate),ut.then(jt=>new Pt(this.firestore,new We.xU(this.firestore._delegate,this._userDataWriter,jt._key,jt._document,jt.metadata,this._delegate.converter)))}withConverter(ke){return new Je(this.firestore,this._delegate.withConverter(ke?mt.getInstance(this.firestore,ke):null))}}function et(Cn,ke,ut){return Cn.message=Cn.message.replace(ke,ut),Cn}function ct(Cn){for(const ke of Cn)if("object"==typeof ke&&!nt(ke))return ke;return{}}function Ut(Cn,ke){var ut,jt;let bn;return bn=nt(Cn[0])?Cn[0]:nt(Cn[1])?Cn[1]:"function"==typeof Cn[0]?{next:Cn[0],error:Cn[1],complete:Cn[2]}:{next:Cn[1],error:Cn[2],complete:Cn[3]},{next:$n=>{bn.next&&bn.next(ke($n))},error:null===(ut=bn.error)||void 0===ut?void 0:ut.bind(bn),complete:null===(jt=bn.complete)||void 0===jt?void 0:jt.bind(bn)}}class Pt{constructor(ke,ut){this._firestore=ke,this._delegate=ut}get ref(){return new Je(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(ke){return this._delegate.data(ke)}get(ke,ut){return this._delegate.get(ke,ut)}isEqual(ke){return(0,We.qK)(this._delegate,ke._delegate)}}class Jt extends Pt{data(ke){const ut=this._delegate.data(ke);return(0,We.K9)(void 0!==ut,"Document in a QueryDocumentSnapshot should exist"),ut}}class nn{constructor(ke,ut){this.firestore=ke,this._delegate=ut,this._userDataWriter=new qt(ke)}where(ke,ut,jt){try{return new nn(this.firestore,(0,We.IO)(this._delegate,(0,We.ar)(ke,ut,jt)))}catch(bn){throw et(bn,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(ke,ut){try{return new nn(this.firestore,(0,We.IO)(this._delegate,(0,We.Xo)(ke,ut)))}catch(jt){throw et(jt,/(orderBy|where)\(\)/,"Query.$1()")}}limit(ke){try{return new nn(this.firestore,(0,We.IO)(this._delegate,(0,We.b9)(ke)))}catch(ut){throw et(ut,"limit()","Query.limit()")}}limitToLast(ke){try{return new nn(this.firestore,(0,We.IO)(this._delegate,(0,We.vh)(ke)))}catch(ut){throw et(ut,"limitToLast()","Query.limitToLast()")}}startAt(...ke){try{return new nn(this.firestore,(0,We.IO)(this._delegate,(0,We.e0)(...ke)))}catch(ut){throw et(ut,"startAt()","Query.startAt()")}}startAfter(...ke){try{return new nn(this.firestore,(0,We.IO)(this._delegate,(0,We.TQ)(...ke)))}catch(ut){throw et(ut,"startAfter()","Query.startAfter()")}}endBefore(...ke){try{return new nn(this.firestore,(0,We.IO)(this._delegate,(0,We.Lx)(...ke)))}catch(ut){throw et(ut,"endBefore()","Query.endBefore()")}}endAt(...ke){try{return new nn(this.firestore,(0,We.IO)(this._delegate,(0,We.Wu)(...ke)))}catch(ut){throw et(ut,"endAt()","Query.endAt()")}}isEqual(ke){return(0,We.iE)(this._delegate,ke._delegate)}get(ke){let ut;return ut="cache"===(null==ke?void 0:ke.source)?(0,We.UQ)(this._delegate):"server"===(null==ke?void 0:ke.source)?(0,We.zN)(this._delegate):(0,We.PL)(this._delegate),ut.then(jt=>new Qt(this.firestore,new We.W(this.firestore._delegate,this._userDataWriter,this._delegate,jt._snapshot)))}onSnapshot(...ke){const ut=ct(ke),jt=Ut(ke,bn=>new Qt(this.firestore,new We.W(this.firestore._delegate,this._userDataWriter,this._delegate,bn._snapshot)));return(0,We.cf)(this._delegate,ut,jt)}withConverter(ke){return new nn(this.firestore,this._delegate.withConverter(ke?mt.getInstance(this.firestore,ke):null))}}class Nn{constructor(ke,ut){this._firestore=ke,this._delegate=ut}get type(){return this._delegate.type}get doc(){return new Jt(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class Qt{constructor(ke,ut){this._firestore=ke,this._delegate=ut}get query(){return new nn(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(ke=>new Jt(this._firestore,ke))}docChanges(ke){return this._delegate.docChanges(ke).map(ut=>new Nn(this._firestore,ut))}forEach(ke,ut){this._delegate.forEach(jt=>{ke.call(ut,new Jt(this._firestore,jt))})}isEqual(ke){return(0,We.qK)(this._delegate,ke._delegate)}}class Et extends nn{constructor(ke,ut){super(ke,ut),this.firestore=ke,this._delegate=ut}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const ke=this._delegate.parent;return ke?new Je(this.firestore,ke):null}doc(ke){try{return new Je(this.firestore,void 0===ke?(0,We.JU)(this._delegate):(0,We.JU)(this._delegate,ke))}catch(ut){throw et(ut,"doc()","CollectionReference.doc()")}}add(ke){return(0,We.ET)(this._delegate,ke).then(ut=>new Je(this.firestore,ut))}isEqual(ke){return(0,We.Eo)(this._delegate,ke._delegate)}withConverter(ke){return new Et(this.firestore,this._delegate.withConverter(ke?mt.getInstance(this.firestore,ke):null))}}function on(Cn){return(0,We.Cf)(Cn,We.my)}class yn{constructor(...ke){this._delegate=new We.Lz(...ke)}static documentId(){return new yn(We.Xb.keyField().canonicalString())}isEqual(ke){return(ke=(0,$e.m9)(ke))instanceof We.Lz&&this._delegate._internalPath.isEqual(ke._internalPath)}}class Xn{constructor(ke){this._delegate=ke}static serverTimestamp(){const ke=(0,We.Bt)();return ke._methodName="FieldValue.serverTimestamp",new Xn(ke)}static delete(){const ke=(0,We.AK)();return ke._methodName="FieldValue.delete",new Xn(ke)}static arrayUnion(...ke){const ut=(0,We.vr)(...ke);return ut._methodName="FieldValue.arrayUnion",new Xn(ut)}static arrayRemove(...ke){const ut=(0,We.Ab)(...ke);return ut._methodName="FieldValue.arrayRemove",new Xn(ut)}static increment(ke){const ut=(0,We.nP)(ke);return ut._methodName="FieldValue.increment",new Xn(ut)}isEqual(ke){return this._delegate.isEqual(ke._delegate)}}const ar={Firestore:Nt,GeoPoint:We.F8,Timestamp:We.EK,Blob:vt,Transaction:qe,WriteBatch:lt,DocumentReference:Je,DocumentSnapshot:Pt,Query:nn,QueryDocumentSnapshot:Jt,QuerySnapshot:Qt,CollectionReference:Et,FieldPath:yn,FieldValue:Xn,setLogLevel:function Te(Cn){(0,We.Ub)(Cn)},CACHE_SIZE_UNLIMITED:We.IX};!function un(Cn){(function lr(Cn,ke){Cn.INTERNAL.registerComponent(new kt.wA("firestore-compat",ut=>{const jt=ut.getProvider("app-compat").getImmediate(),bn=ut.getProvider("firestore").getImmediate();return ke(jt,bn)},"PUBLIC").setServiceProps(Object.assign({},ar)))})(Cn,(ke,ut)=>new Nt(ke,ut,new Ct)),Cn.registerVersion("@firebase/firestore-compat","0.3.9")}(Vt.Z);var Yn=H(3385),an=H(2313),Rr=H(9260);function Ar(Cn,ke){return function Vr(Cn,ke=_.z){return new _e.y(ut=>{let jt;return null!=ke?ke.schedule(()=>{jt=Cn.onSnapshot({includeMetadataChanges:!0},ut)}):jt=Cn.onSnapshot({includeMetadataChanges:!0},ut),()=>{null!=jt&&jt()}})}(Cn,ke)}function ni(Cn,ke){return Ar(Cn,ke).pipe((0,Qe.U)(ut=>({payload:ut,type:"query"})))}function jr(Cn,ke){return ni(Cn,ke).pipe((0,Se.O)(void 0),(0,Pe.G)(),(0,Qe.U)(([ut,jt])=>{const bn=jt.payload.docChanges(),$n=bn.map(Fr=>({type:Fr.type,payload:Fr}));return ut&&JSON.stringify(ut.payload.metadata)!==JSON.stringify(jt.payload.metadata)&&jt.payload.docs.forEach((Fr,xr)=>{const Ir=bn.find(Ae=>Ae.doc.ref.isEqual(Fr.ref)),gt=null==ut?void 0:ut.payload.docs.find(Ae=>Ae.ref.isEqual(Fr.ref));Ir&&JSON.stringify(Ir.doc.metadata)===JSON.stringify(Fr.metadata)||!Ir&&gt&&JSON.stringify(gt.metadata)===JSON.stringify(Fr.metadata)||$n.push({type:"modified",payload:{oldIndex:xr,newIndex:xr,type:"modified",doc:Fr}})}),$n}))}function mr(Cn,ke,ut){return jr(Cn,ut).pipe((0,Le.R)((jt,bn)=>function vi(Cn,ke,ut){return ke.forEach(jt=>{ut.indexOf(jt.type)>-1&&(Cn=function Jn(Cn,ke){switch(ke.type){case"added":if(!Cn[ke.newIndex]||!Cn[ke.newIndex].doc.ref.isEqual(ke.doc.ref))return pi(Cn,ke.newIndex,0,ke);break;case"modified":if(null==Cn[ke.oldIndex]||Cn[ke.oldIndex].doc.ref.isEqual(ke.doc.ref)){if(ke.oldIndex!==ke.newIndex){const ut=Cn.slice();return ut.splice(ke.oldIndex,1),ut.splice(ke.newIndex,0,ke),ut}return pi(Cn,ke.newIndex,1,ke)}break;case"removed":if(Cn[ke.oldIndex]&&Cn[ke.oldIndex].doc.ref.isEqual(ke.doc.ref))return pi(Cn,ke.oldIndex,1)}return Cn}(Cn,jt))}),Cn}(jt,bn.map($n=>$n.payload),ke),[]),(0,Me.x)(),(0,Qe.U)(jt=>jt.map(bn=>({type:bn.type,payload:bn}))))}function pi(Cn,ke,ut,...jt){const bn=Cn.slice();return bn.splice(ke,ut,...jt),bn}function Qn(Cn){return(!Cn||0===Cn.length)&&(Cn=["added","removed","modified"]),Cn}class cr{constructor(ke,ut,jt){this.ref=ke,this.query=ut,this.afs=jt}stateChanges(ke){let ut=jr(this.query,this.afs.schedulers.outsideAngular);return ke&&ke.length>0&&(ut=ut.pipe((0,Qe.U)(jt=>jt.filter(bn=>ke.indexOf(bn.type)>-1)))),ut.pipe((0,Se.O)(void 0),(0,Pe.G)(),(0,rt.h)(([jt,bn])=>bn.length>0||!jt),(0,Qe.U)(([jt,bn])=>bn),Ge.iC)}auditTrail(ke){return this.stateChanges(ke).pipe((0,Le.R)((ut,jt)=>[...ut,...jt],[]))}snapshotChanges(ke){const ut=Qn(ke);return mr(this.query,ut,this.afs.schedulers.outsideAngular).pipe(Ge.iC)}valueChanges(ke={}){return ni(this.query,this.afs.schedulers.outsideAngular).pipe((0,Qe.U)(ut=>ut.payload.docs.map(jt=>ke.idField?Object.assign(Object.assign({},jt.data()),{[ke.idField]:jt.id}):jt.data())),Ge.iC)}get(ke){return(0,Oe.D)(this.query.get(ke)).pipe(Ge.iC)}add(ke){return this.ref.add(ke)}doc(ke){return new ci(this.ref.doc(ke),this.afs)}}class ci{constructor(ke,ut){this.ref=ke,this.afs=ut}set(ke,ut){return this.ref.set(ke,ut)}update(ke){return this.ref.update(ke)}delete(){return this.ref.delete()}collection(ke,ut){const jt=this.ref.collection(ke),{ref:bn,query:$n}=dr(jt,ut);return new cr(bn,$n,this.afs)}snapshotChanges(){return function Mn(Cn,ke){return Ar(Cn,ke).pipe((0,Se.O)(void 0),(0,Pe.G)(),(0,Qe.U)(([ut,jt])=>jt.exists?null!=ut&&ut.exists?{payload:jt,type:"modified"}:{payload:jt,type:"added"}:{payload:jt,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(Ge.iC)}valueChanges(ke={}){return this.snapshotChanges().pipe((0,Qe.U)(({payload:ut})=>ke.idField?Object.assign(Object.assign({},ut.data()),{[ke.idField]:ut.id}):ut.data()))}get(ke){return(0,Oe.D)(this.ref.get(ke)).pipe(Ge.iC)}}class si{constructor(ke,ut){this.query=ke,this.afs=ut}stateChanges(ke){return ke&&0!==ke.length?jr(this.query,this.afs.schedulers.outsideAngular).pipe((0,Qe.U)(ut=>ut.filter(jt=>ke.indexOf(jt.type)>-1)),(0,rt.h)(ut=>ut.length>0),Ge.iC):jr(this.query,this.afs.schedulers.outsideAngular).pipe(Ge.iC)}auditTrail(ke){return this.stateChanges(ke).pipe((0,Le.R)((ut,jt)=>[...ut,...jt],[]))}snapshotChanges(ke){const ut=Qn(ke);return mr(this.query,ut,this.afs.schedulers.outsideAngular).pipe(Ge.iC)}valueChanges(ke={}){return ni(this.query,this.afs.schedulers.outsideAngular).pipe((0,Qe.U)(jt=>jt.payload.docs.map(bn=>ke.idField?Object.assign({[ke.idField]:bn.id},bn.data()):bn.data())),Ge.iC)}get(ke){return(0,Oe.D)(this.query.get(ke)).pipe(Ge.iC)}}const Kr=new h.OlP("angularfire2.enableFirestorePersistence"),fi=new h.OlP("angularfire2.firestore.persistenceSettings"),gi=new h.OlP("angularfire2.firestore.settings"),br=new h.OlP("angularfire2.firestore.use-emulator");function dr(Cn,ke=(ut=>ut)){return{query:ke(Cn),ref:Cn}}let ui=(()=>{class Cn{constructor(ut,jt,bn,$n,Fr,xr,Ir,gt,Ae,se,te,oe,Ke,At,tt,$t,Zt){this.schedulers=Ir;const In=(0,xe.on)(ut,xr,jt),vn=Ae;se&&(0,Yn.nw)(In,xr,te,Ke,At,tt,oe,$t),[this.firestore,this.persistenceEnabled$]=(0,xe.cc)(`${In.name}.firestore`,"AngularFirestore",In.name,()=>{const jn=xr.runOutsideAngular(()=>In.firestore());if($n&&jn.settings($n),vn&&jn.useEmulator(...vn),bn&&!(0,at.PM)(Fr)){const rn=()=>{try{return(0,Oe.D)(jn.enablePersistence(gt||void 0).then(()=>!0,()=>!1))}catch(mn){return typeof console<"u"&&console.warn(mn),(0,Ze.of)(!1)}};return[jn,xr.runOutsideAngular(rn)]}return[jn,(0,Ze.of)(!1)]},[$n,vn,bn])}collection(ut,jt){let bn;bn="string"==typeof ut?this.firestore.collection(ut):ut;const{ref:$n,query:Fr}=dr(bn,jt),xr=this.schedulers.ngZone.run(()=>$n);return new cr(xr,Fr,this)}collectionGroup(ut,jt){const bn=jt||(Fr=>Fr),$n=this.firestore.collectionGroup(ut);return new si(bn($n),this)}doc(ut){let jt;jt="string"==typeof ut?this.firestore.doc(ut):ut;const bn=this.schedulers.ngZone.run(()=>jt);return new ci(bn,this)}createId(){return this.firestore.collection("_").doc().id}}return Cn.\u0275fac=function(ut){return new(ut||Cn)(h.LFG(xe.Dh),h.LFG(xe.xv,8),h.LFG(Kr,8),h.LFG(gi,8),h.LFG(h.Lbi),h.LFG(h.R0b),h.LFG(Ge.HU),h.LFG(fi,8),h.LFG(br,8),h.LFG(Yn.zQ,8),h.LFG(Yn.Qv,8),h.LFG(Yn.L6,8),h.LFG(Yn._Q,8),h.LFG(Yn.rT,8),h.LFG(Yn.lh,8),h.LFG(Yn.f7,8),h.LFG(an.nm,8))},Cn.\u0275prov=h.Yz7({token:Cn,factory:Cn.\u0275fac,providedIn:"any"}),Cn})(),Er=(()=>{class Cn{constructor(){Rr.Z.registerVersion("angularfire",Ge.q4.full,"fst-compat")}static enablePersistence(ut){return{ngModule:Cn,providers:[{provide:Kr,useValue:!0},{provide:fi,useValue:ut}]}}}return Cn.\u0275fac=function(ut){return new(ut||Cn)},Cn.\u0275mod=h.oAB({type:Cn}),Cn.\u0275inj=h.cJS({providers:[ui]}),Cn})()},377:(Kn,Rt,H)=>{"use strict";H.d(Rt,{Q1:()=>Ms,TE:()=>Fo});var h=H(9751),_=H(9646),_e=H(8996),Oe=H(4986),Ze=H(4482),Ge=H(5403),Pe=H(4004),Qe=H(3900),Le=H(3324),Me=H(2223),rt=H(2011),xe=H(3942),at=H(5861),pt=H(6881),Vt=H(2090),We=H(4859);const $e="firebasestorage.googleapis.com",kt="storageBucket";class Tt extends Vt.ZR{constructor(de,$,L=0){super(vt(de),`Firebase Storage: ${$} (${vt(de)})`),this.status_=L,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Tt.prototype)}get status(){return this.status_}set status(de){this.status_=de}_codeEquals(de){return vt(de)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(de){this.customData.serverResponse=de,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}var wt=(()=>((wt=wt||{}).UNKNOWN="unknown",wt.OBJECT_NOT_FOUND="object-not-found",wt.BUCKET_NOT_FOUND="bucket-not-found",wt.PROJECT_NOT_FOUND="project-not-found",wt.QUOTA_EXCEEDED="quota-exceeded",wt.UNAUTHENTICATED="unauthenticated",wt.UNAUTHORIZED="unauthorized",wt.UNAUTHORIZED_APP="unauthorized-app",wt.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",wt.INVALID_CHECKSUM="invalid-checksum",wt.CANCELED="canceled",wt.INVALID_EVENT_NAME="invalid-event-name",wt.INVALID_URL="invalid-url",wt.INVALID_DEFAULT_BUCKET="invalid-default-bucket",wt.NO_DEFAULT_BUCKET="no-default-bucket",wt.CANNOT_SLICE_BLOB="cannot-slice-blob",wt.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",wt.NO_DOWNLOAD_URL="no-download-url",wt.INVALID_ARGUMENT="invalid-argument",wt.INVALID_ARGUMENT_COUNT="invalid-argument-count",wt.APP_DELETED="app-deleted",wt.INVALID_ROOT_OPERATION="invalid-root-operation",wt.INVALID_FORMAT="invalid-format",wt.INTERNAL_ERROR="internal-error",wt.UNSUPPORTED_ENVIRONMENT="unsupported-environment",wt))();function vt(be){return"storage/"+be}function nt(){return new Tt(wt.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function qe(){return new Tt(wt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function lt(){return new Tt(wt.CANCELED,"User canceled the upload/download.")}function ct(){return new Tt(wt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function nn(be){return new Tt(wt.INVALID_ARGUMENT,be)}function Nn(){return new Tt(wt.APP_DELETED,"The Firebase app was deleted.")}function Qt(be){return new Tt(wt.INVALID_ROOT_OPERATION,"The operation '"+be+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Et(be,de){return new Tt(wt.INVALID_FORMAT,"String does not match format '"+be+"': "+de)}function on(be){throw new Tt(wt.INTERNAL_ERROR,"Internal error: "+be)}class yn{constructor(de,$){this.bucket=de,this.path_=$}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const de=encodeURIComponent;return"/b/"+de(this.bucket)+"/o/"+de(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(de,$){let L;try{L=yn.makeFromUrl(de,$)}catch{return new yn(de,"")}if(""===L.path)return L;throw function Je(be){return new Tt(wt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+be+"'.")}(de)}static makeFromUrl(de,$){let L=null;const T="([A-Za-z0-9.\\-_]+)",ft=new RegExp("^gs://"+T+"(/(.*))?$","i");function dn(Ns){Ns.path_=decodeURIComponent(Ns.path)}const Yr=$.replace(/[.]/g,"\\."),js=[{regex:ft,indices:{bucket:1,path:3},postModify:function F(Ns){"/"===Ns.path.charAt(Ns.path.length-1)&&(Ns.path_=Ns.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${Yr}/v[A-Za-z0-9_]+/b/${T}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:dn},{regex:new RegExp(`^https?://${$===$e?"(?:storage.googleapis.com|storage.cloud.google.com)":$}/${T}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:dn}];for(let Ns=0;Ns<js.length;Ns++){const Ds=js[Ns],vo=Ds.regex.exec(de);if(vo){let Lo=vo[Ds.indices.path];Lo||(Lo=""),L=new yn(vo[Ds.indices.bucket],Lo),Ds.postModify(L);break}}if(null==L)throw function mt(be){return new Tt(wt.INVALID_URL,"Invalid URL '"+be+"'.")}(de);return L}}class Xn{constructor(de){this.promise_=Promise.reject(de)}getPromise(){return this.promise_}cancel(de=!1){}}function Rr(be){return"string"==typeof be||be instanceof String}function Vr(be){return Ar()&&be instanceof Blob}function Ar(){return typeof Blob<"u"&&!(0,Vt.UG)()}function Mn(be,de,$,L){if(L<de)throw nn(`Invalid value for '${be}'. Expected ${de} or greater.`);if(L>$)throw nn(`Invalid value for '${be}'. Expected ${$} or less.`)}function ni(be,de,$){let L=de;return null==$&&(L=`https://${de}`),`${$}://${L}/v0${be}`}function jr(be){const de=encodeURIComponent;let $="?";for(const L in be)be.hasOwnProperty(L)&&($=$+(de(L)+"=")+de(be[L])+"&");return $=$.slice(0,-1),$}var mr=(()=>((mr=mr||{})[mr.NO_ERROR=0]="NO_ERROR",mr[mr.NETWORK_ERROR=1]="NETWORK_ERROR",mr[mr.ABORT=2]="ABORT",mr))();function vi(be,de){const $=be>=500&&be<600,T=-1!==[408,429].indexOf(be),F=-1!==de.indexOf(be);return $||T||F}class pi{constructor(de,$,L,T,F,ge,ft,Ot,dn,Tn,Yr,qr=!0){this.url_=de,this.method_=$,this.headers_=L,this.body_=T,this.successCodes_=F,this.additionalRetryCodes_=ge,this.callback_=ft,this.errorCallback_=Ot,this.timeout_=dn,this.progressCallback_=Tn,this.connectionFactory_=Yr,this.retry=qr,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((oi,ii)=>{this.resolve_=oi,this.reject_=ii,this.start_()})}start_(){const $=(L,T)=>{const F=this.resolve_,ge=this.reject_,ft=T.connection;if(T.wasSuccessCode)try{const Ot=this.callback_(ft,ft.getResponse());!function un(be){return void 0!==be}(Ot)?F():F(Ot)}catch(Ot){ge(Ot)}else if(null!==ft){const Ot=nt();Ot.serverResponse=ft.getErrorText(),ge(this.errorCallback_?this.errorCallback_(ft,Ot):Ot)}else ge(T.canceled?this.appDelete_?Nn():lt():qe())};this.canceled_?$(0,new Jn(!1,null,!0)):this.backoffId_=function ar(be,de,$){let L=1,T=null,F=null,ge=!1,ft=0;function Ot(){return 2===ft}let dn=!1;function Tn(...ji){dn||(dn=!0,de.apply(null,ji))}function Yr(ji){T=setTimeout(()=>{T=null,be(oi,Ot())},ji)}function qr(){F&&clearTimeout(F)}function oi(ji,...io){if(dn)return void qr();if(ji)return qr(),void Tn.call(null,ji,...io);if(Ot()||ge)return qr(),void Tn.call(null,ji,...io);let js;L<64&&(L*=2),1===ft?(ft=2,js=0):js=1e3*(L+Math.random()),Yr(js)}let ii=!1;function ai(ji){ii||(ii=!0,qr(),!dn&&(null!==T?(ji||(ft=2),clearTimeout(T),Yr(0)):ji||(ft=1)))}return Yr(0),F=setTimeout(()=>{ge=!0,ai(!0)},$),ai}((L,T)=>{if(T)return void L(!1,new Jn(!1,null,!0));const F=this.connectionFactory_();this.pendingConnection_=F;const ge=ft=>{null!==this.progressCallback_&&this.progressCallback_(ft.loaded,ft.lengthComputable?ft.total:-1)};null!==this.progressCallback_&&F.addUploadProgressListener(ge),F.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&F.removeUploadProgressListener(ge),this.pendingConnection_=null;const ft=F.getErrorCode()===mr.NO_ERROR,Ot=F.getStatus();if(!ft||vi(Ot,this.additionalRetryCodes_)&&this.retry){const Tn=F.getErrorCode()===mr.ABORT;return void L(!1,new Jn(!1,null,Tn))}const dn=-1!==this.successCodes_.indexOf(Ot);L(!0,new Jn(dn,F))})},$,this.timeout_)}getPromise(){return this.promise_}cancel(de){this.canceled_=!0,this.appDelete_=de||!1,null!==this.backoffId_&&function lr(be){be(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class Jn{constructor(de,$,L){this.wasSuccessCode=de,this.connection=$,this.canceled=!!L}}function gi(...be){const de=function fi(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==de){const $=new de;for(let L=0;L<be.length;L++)$.append(be[L]);return $.getBlob()}if(Ar())return new Blob(be);throw new Tt(wt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}const ui={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Er{constructor(de,$){this.data=de,this.contentType=$||null}}function Cn(be,de){switch(be){case ui.RAW:return new Er(ke(de));case ui.BASE64:case ui.BASE64URL:return new Er(jt(be,de));case ui.DATA_URL:return new Er(function $n(be){const de=new bn(be);return de.base64?jt(ui.BASE64,de.rest):function ut(be){let de;try{de=decodeURIComponent(be)}catch{throw Et(ui.DATA_URL,"Malformed data URL.")}return ke(de)}(de.rest)}(de),function Fr(be){return new bn(be).contentType}(de))}throw nt()}function ke(be){const de=[];for(let $=0;$<be.length;$++){let L=be.charCodeAt($);L<=127?de.push(L):L<=2047?de.push(192|L>>6,128|63&L):55296==(64512&L)?$<be.length-1&&56320==(64512&be.charCodeAt($+1))?(L=65536|(1023&L)<<10|1023&be.charCodeAt(++$),de.push(240|L>>18,128|L>>12&63,128|L>>6&63,128|63&L)):de.push(239,191,189):56320==(64512&L)?de.push(239,191,189):de.push(224|L>>12,128|L>>6&63,128|63&L)}return new Uint8Array(de)}function jt(be,de){switch(be){case ui.BASE64:{const T=-1!==de.indexOf("-"),F=-1!==de.indexOf("_");if(T||F)throw Et(be,"Invalid character '"+(T?"-":"_")+"' found: is it base64url encoded?");break}case ui.BASE64URL:{const T=-1!==de.indexOf("+"),F=-1!==de.indexOf("/");if(T||F)throw Et(be,"Invalid character '"+(T?"+":"/")+"' found: is it base64 encoded?");de=de.replace(/-/g,"+").replace(/_/g,"/");break}}let $;try{$=function dr(be){if(typeof atob>"u")throw function Jt(be){return new Tt(wt.UNSUPPORTED_ENVIRONMENT,`${be} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}("base-64");return atob(be)}(de)}catch(T){throw T.message.includes("polyfill")?T:Et(be,"Invalid character found")}const L=new Uint8Array($.length);for(let T=0;T<$.length;T++)L[T]=$.charCodeAt(T);return L}class bn{constructor(de){this.base64=!1,this.contentType=null;const $=de.match(/^data:([^,]+)?,/);if(null===$)throw Et(ui.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const L=$[1]||null;null!=L&&(this.base64=function xr(be,de){return be.length>=de.length&&be.substring(be.length-de.length)===de}(L,";base64"),this.contentType=this.base64?L.substring(0,L.length-7):L),this.rest=de.substring(de.indexOf(",")+1)}}class Ir{constructor(de,$){let L=0,T="";Vr(de)?(this.data_=de,L=de.size,T=de.type):de instanceof ArrayBuffer?($?this.data_=new Uint8Array(de):(this.data_=new Uint8Array(de.byteLength),this.data_.set(new Uint8Array(de))),L=this.data_.length):de instanceof Uint8Array&&($?this.data_=de:(this.data_=new Uint8Array(de.length),this.data_.set(de)),L=de.length),this.size_=L,this.type_=T}size(){return this.size_}type(){return this.type_}slice(de,$){if(Vr(this.data_)){const T=function br(be,de,$){return be.webkitSlice?be.webkitSlice(de,$):be.mozSlice?be.mozSlice(de,$):be.slice?be.slice(de,$):null}(this.data_,de,$);return null===T?null:new Ir(T)}{const L=new Uint8Array(this.data_.buffer,de,$-de);return new Ir(L,!0)}}static getBlob(...de){if(Ar()){const $=de.map(L=>L instanceof Ir?L.data_:L);return new Ir(gi.apply(null,$))}{const $=de.map(ge=>Rr(ge)?Cn(ui.RAW,ge).data:ge.data_);let L=0;$.forEach(ge=>{L+=ge.byteLength});const T=new Uint8Array(L);let F=0;return $.forEach(ge=>{for(let ft=0;ft<ge.length;ft++)T[F++]=ge[ft]}),new Ir(T,!0)}}uploadData(){return this.data_}}function gt(be){let de;try{de=JSON.parse(be)}catch{return null}return function an(be){return"object"==typeof be&&!Array.isArray(be)}(de)?de:null}function te(be){const de=be.lastIndexOf("/",be.length-2);return-1===de?be:be.slice(de+1)}function oe(be,de){return de}class Ke{constructor(de,$,L,T){this.server=de,this.local=$||de,this.writable=!!L,this.xform=T||oe}}let At=null;function $t(){if(At)return At;const be=[];be.push(new Ke("bucket")),be.push(new Ke("generation")),be.push(new Ke("metageneration")),be.push(new Ke("name","fullPath",!0));const $=new Ke("name");$.xform=function de(F,ge){return function tt(be){return!Rr(be)||be.length<2?be:te(be)}(ge)},be.push($);const T=new Ke("size");return T.xform=function L(F,ge){return void 0!==ge?Number(ge):ge},be.push(T),be.push(new Ke("timeCreated")),be.push(new Ke("updated")),be.push(new Ke("md5Hash",null,!0)),be.push(new Ke("cacheControl",null,!0)),be.push(new Ke("contentDisposition",null,!0)),be.push(new Ke("contentEncoding",null,!0)),be.push(new Ke("contentLanguage",null,!0)),be.push(new Ke("contentType",null,!0)),be.push(new Ke("metadata","customMetadata",!0)),At=be,At}function vn(be,de,$){const L=gt(de);return null===L?null:function In(be,de,$){const L={type:"file"},T=$.length;for(let F=0;F<T;F++){const ge=$[F];L[ge.local]=ge.xform(L,de[ge.server])}return function Zt(be,de){Object.defineProperty(be,"ref",{get:function $(){const F=new yn(be.bucket,be.fullPath);return de._makeStorageReference(F)}})}(L,be),L}(be,L,$)}function rn(be,de){const $={},L=de.length;for(let T=0;T<L;T++){const F=de[T];F.writable&&($[F.server]=be[F.local])}return JSON.stringify($)}const mn="prefixes",Rn="items";class hn{constructor(de,$,L,T){this.url=de,this.method=$,this.handler=L,this.timeout=T,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function Gn(be){if(!be)throw nt()}function hr(be,de){return function $(L,T){const F=vn(be,T,de);return Gn(null!==F),F}}function Si(be){return function de($,L){let T;return T=401===$.getStatus()?$.getErrorText().includes("Firebase App Check token is invalid")?function qt(){return new Tt(wt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}():function Nt(){return new Tt(wt.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===$.getStatus()?function Ct(be){return new Tt(wt.QUOTA_EXCEEDED,"Quota for bucket '"+be+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(be.bucket):403===$.getStatus()?function Te(be){return new Tt(wt.UNAUTHORIZED,"User does not have permission to access '"+be+"'.")}(be.path):L,T.status=$.getStatus(),T.serverResponse=L.serverResponse,T}}function zr(be){const de=Si(be);return function $(L,T){let F=de(L,T);return 404===L.getStatus()&&(F=function Ht(be){return new Tt(wt.OBJECT_NOT_FOUND,"Object '"+be+"' does not exist.")}(be.path)),F.serverResponse=T.serverResponse,F}}function kr(be,de,$){const T=ni(de.fullServerUrl(),be.host,be._protocol),ge=be.maxOperationRetryTime,ft=new hn(T,"GET",hr(be,$),ge);return ft.errorHandler=zr(de),ft}function Hr(be,de,$,L,T){const F={};F.prefix=de.isRoot?"":de.path+"/",$&&$.length>0&&(F.delimiter=$),L&&(F.pageToken=L),T&&(F.maxResults=T);const ft=ni(de.bucketOnlyServerUrl(),be.host,be._protocol),dn=be.maxOperationRetryTime,Tn=new hn(ft,"GET",function Or(be,de){return function $(L,T){const F=function Gt(be,de,$){const L=gt($);return null===L?null:function Ft(be,de,$){const L={prefixes:[],items:[],nextPageToken:$.nextPageToken};if($[mn])for(const T of $[mn]){const F=T.replace(/\/$/,""),ge=be._makeStorageReference(new yn(de,F));L.prefixes.push(ge)}if($[Rn])for(const T of $[Rn]){const F=be._makeStorageReference(new yn(de,T.name));L.items.push(F)}return L}(be,de,L)}(be,de,T);return Gn(null!==F),F}}(be,de.bucket),dn);return Tn.urlParams=F,Tn.errorHandler=Si(de),Tn}function Co(be,de,$){const L=Object.assign({},$);return L.fullPath=be.path,L.size=de.size(),L.contentType||(L.contentType=function zi(be,de){return be&&be.contentType||de&&de.type()||"application/octet-stream"}(null,de)),L}class Ri{constructor(de,$,L,T){this.current=de,this.total=$,this.finalized=!!L,this.metadata=T||null}}function $s(be,de){let $=null;try{$=be.getResponseHeader("X-Goog-Upload-Status")}catch{Gn(!1)}return Gn(!!$&&-1!==(de||["active"]).indexOf($)),$}const fe={STATE_CHANGED:"state_changed"},Re={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function Ee(be){switch(be){case"running":case"pausing":case"canceling":return Re.RUNNING;case"paused":return Re.PAUSED;case"success":return Re.SUCCESS;case"canceled":return Re.CANCELED;default:return Re.ERROR}}class re{constructor(de,$,L){if(function Yn(be){return"function"==typeof be}(de)||null!=$||null!=L)this.next=de,this.error=null!=$?$:void 0,this.complete=null!=L?L:void 0;else{const F=de;this.next=F.next,this.error=F.error,this.complete=F.complete}}}function ye(be){return(...de)=>{Promise.resolve().then(()=>be(...de))}}let st=null;class bt{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=mr.NO_ERROR,this.sendPromise_=new Promise(de=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=mr.ABORT,de()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=mr.NETWORK_ERROR,de()}),this.xhr_.addEventListener("load",()=>{de()})})}send(de,$,L,T){if(this.sent_)throw on("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open($,de,!0),void 0!==T)for(const F in T)T.hasOwnProperty(F)&&this.xhr_.setRequestHeader(F,T[F].toString());return void 0!==L?this.xhr_.send(L):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw on("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw on("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw on("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw on("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(de){return this.xhr_.getResponseHeader(de)}addUploadProgressListener(de){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",de)}removeUploadProgressListener(de){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",de)}}class Lt extends bt{initXhr(){this.xhr_.responseType="text"}}function Xt(){return st?st():new Lt}class is{constructor(de,$,L=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=de,this._blob=$,this._metadata=L,this._mappings=$t(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=T=>{if(this._request=void 0,this._chunkMultiplier=1,T._codeEquals(wt.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const F=this.isExponentialBackoffExpired();if(vi(T.status,[])){if(!F)return this.sleepTime=Math.max(2*this.sleepTime,1e3),this._needToFetchStatus=!0,void this.completeTransitions_();T=qe()}this._error=T,this._transition("error")}},this._metadataErrorHandler=T=>{this._request=void 0,T._codeEquals(wt.CANCELED)?this.completeTransitions_():(this._error=T,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((T,F)=>{this._resolve=T,this._reject=F,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const de=this._transferred;return $=>this._updateProgress(de+$)}_shouldDoResumable(de){return de.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(de){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([$,L])=>{switch(this._state){case"running":de($,L);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((de,$)=>{const L=function Qs(be,de,$,L,T){const F=de.bucketOnlyServerUrl(),ge=Co(de,L,T),ft={name:ge.fullPath},Ot=ni(F,be.host,be._protocol),Tn={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${L.size()}`,"X-Goog-Upload-Header-Content-Type":ge.contentType,"Content-Type":"application/json; charset=utf-8"},Yr=rn(ge,$),ii=new hn(Ot,"POST",function oi(ai){let ji;$s(ai);try{ji=ai.getResponseHeader("X-Goog-Upload-URL")}catch{Gn(!1)}return Gn(Rr(ji)),ji},be.maxUploadRetryTime);return ii.urlParams=ft,ii.headers=Tn,ii.body=Yr,ii.errorHandler=Si(de),ii}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),T=this._ref.storage._makeRequest(L,Xt,de,$);this._request=T,T.getPromise().then(F=>{this._request=void 0,this._uploadUrl=F,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const de=this._uploadUrl;this._resolveToken(($,L)=>{const T=function Vs(be,de,$,L){const Ot=new hn($,"POST",function F(dn){const Tn=$s(dn,["active","final"]);let Yr=null;try{Yr=dn.getResponseHeader("X-Goog-Upload-Size-Received")}catch{Gn(!1)}Yr||Gn(!1);const qr=Number(Yr);return Gn(!isNaN(qr)),new Ri(qr,L.size(),"final"===Tn)},be.maxUploadRetryTime);return Ot.headers={"X-Goog-Upload-Command":"query"},Ot.errorHandler=Si(de),Ot}(this._ref.storage,this._ref._location,de,this._blob),F=this._ref.storage._makeRequest(T,Xt,$,L);this._request=F,F.getPromise().then(ge=>{this._request=void 0,this._updateProgress(ge.current),this._needToFetchStatus=!1,ge.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const de=262144*this._chunkMultiplier,$=new Ri(this._transferred,this._blob.size()),L=this._uploadUrl;this._resolveToken((T,F)=>{let ge;try{ge=function ie(be,de,$,L,T,F,ge,ft){const Ot=new Ri(0,0);if(ge?(Ot.current=ge.current,Ot.total=ge.total):(Ot.current=0,Ot.total=L.size()),L.size()!==Ot.total)throw function Ut(){return new Tt(wt.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}();const dn=Ot.total-Ot.current;let Tn=dn;T>0&&(Tn=Math.min(Tn,T));const Yr=Ot.current;let oi="";oi=0===Tn?"finalize":dn===Tn?"upload, finalize":"upload";const ii={"X-Goog-Upload-Command":oi,"X-Goog-Upload-Offset":`${Ot.current}`},ai=L.slice(Yr,Yr+Tn);if(null===ai)throw ct();const js=new hn($,"POST",function ji(Ns,Ds){const vo=$s(Ns,["active","final"]),wa=Ot.current+Tn,Lo=L.size();let Wa;return Wa="final"===vo?hr(de,F)(Ns,Ds):null,new Ri(wa,Lo,"final"===vo,Wa)},de.maxUploadRetryTime);return js.headers=ii,js.body=ai.uploadData(),js.progressCallback=ft||null,js.errorHandler=Si(be),js}(this._ref._location,this._ref.storage,L,this._blob,de,this._mappings,$,this._makeProgressCallback())}catch(Ot){return this._error=Ot,void this._transition("error")}const ft=this._ref.storage._makeRequest(ge,Xt,T,F,!1);this._request=ft,ft.getPromise().then(Ot=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(Ot.current),Ot.finalized?(this._metadata=Ot.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier*2<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((de,$)=>{const L=kr(this._ref.storage,this._ref._location,this._mappings),T=this._ref.storage._makeRequest(L,Xt,de,$);this._request=T,T.getPromise().then(F=>{this._request=void 0,this._metadata=F,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((de,$)=>{const L=function Xi(be,de,$,L,T){const F=de.bucketOnlyServerUrl(),ge={"X-Goog-Upload-Protocol":"multipart"},Ot=function ft(){let js="";for(let Ns=0;Ns<2;Ns++)js+=Math.random().toString().slice(2);return js}();ge["Content-Type"]="multipart/related; boundary="+Ot;const dn=Co(de,L,T),Tn=rn(dn,$),oi=Ir.getBlob("--"+Ot+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+Tn+"\r\n--"+Ot+"\r\nContent-Type: "+dn.contentType+"\r\n\r\n",L,"\r\n--"+Ot+"--");if(null===oi)throw ct();const ii={name:dn.fullPath},ai=ni(F,be.host,be._protocol),io=be.maxUploadRetryTime,Cs=new hn(ai,"POST",hr(be,$),io);return Cs.urlParams=ii,Cs.headers=ge,Cs.body=oi.uploadData(),Cs.errorHandler=Si(de),Cs}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),T=this._ref.storage._makeRequest(L,Xt,de,$);this._request=T,T.getPromise().then(F=>{this._request=void 0,this._metadata=F,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(de){const $=this._transferred;this._transferred=de,this._transferred!==$&&this._notifyObservers()}_transition(de){if(this._state!==de)switch(de){case"canceling":case"pausing":this._state=de,void 0!==this._request?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const $="paused"===this._state;this._state=de,$&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=de,this._notifyObservers();break;case"canceled":this._error=lt(),this._state=de,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const de=Ee(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:de,metadata:this._metadata,task:this,ref:this._ref}}on(de,$,L,T){const F=new re($||void 0,L||void 0,T||void 0);return this._addObserver(F),()=>{this._removeObserver(F)}}then(de,$){return this._promise.then(de,$)}catch(de){return this.then(null,de)}_addObserver(de){this._observers.push(de),this._notifyObserver(de)}_removeObserver(de){const $=this._observers.indexOf(de);-1!==$&&this._observers.splice($,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach($=>{this._notifyObserver($)})}_finishPromise(){if(void 0!==this._resolve){let de=!0;switch(Ee(this._state)){case Re.SUCCESS:ye(this._resolve.bind(null,this.snapshot))();break;case Re.CANCELED:case Re.ERROR:ye(this._reject.bind(null,this._error))();break;default:de=!1}de&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(de){switch(Ee(this._state)){case Re.RUNNING:case Re.PAUSED:de.next&&ye(de.next.bind(de,this.snapshot))();break;case Re.SUCCESS:de.complete&&ye(de.complete.bind(de))();break;default:de.error&&ye(de.error.bind(de,this._error))()}}resume(){const de="paused"===this._state||"pausing"===this._state;return de&&this._transition("running"),de}pause(){const de="running"===this._state;return de&&this._transition("pausing"),de}cancel(){const de="running"===this._state||"pausing"===this._state;return de&&this._transition("canceling"),de}}class Fi{constructor(de,$){this._service=de,this._location=$ instanceof yn?$:yn.makeFromUrl($,de.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(de,$){return new Fi(de,$)}get root(){const de=new yn(this._location.bucket,"");return this._newRef(this._service,de)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return te(this._location.path)}get storage(){return this._service}get parent(){const de=function Ae(be){if(0===be.length)return null;const de=be.lastIndexOf("/");return-1===de?"":be.slice(0,de)}(this._location.path);if(null===de)return null;const $=new yn(this._location.bucket,de);return new Fi(this._service,$)}_throwIfRoot(de){if(""===this._location.path)throw Qt(de)}}function Do(be,de,$){return ss.apply(this,arguments)}function ss(){return(ss=(0,at.Z)(function*(be,de,$){const T=yield oo(be,{pageToken:$});de.prefixes.push(...T.prefixes),de.items.push(...T.items),null!=T.nextPageToken&&(yield Do(be,de,T.nextPageToken))})).apply(this,arguments)}function oo(be,de){null!=de&&"number"==typeof de.maxResults&&Mn("options.maxResults",1,1e3,de.maxResults);const $=de||{},L=Hr(be.storage,be._location,"/",$.pageToken,$.maxResults);return be.storage.makeRequestWithTokens(L,Xt)}function os(be){be._throwIfRoot("getDownloadURL");const de=function Io(be,de,$){const T=ni(de.fullServerUrl(),be.host,be._protocol),ge=be.maxOperationRetryTime,ft=new hn(T,"GET",function Mr(be,de){return function $(L,T){const F=vn(be,T,de);return Gn(null!==F),function jn(be,de,$,L){const T=gt(de);if(null===T||!Rr(T.downloadTokens))return null;const F=T.downloadTokens;if(0===F.length)return null;const ge=encodeURIComponent;return F.split(",").map(dn=>{const Yr=be.fullPath;return ni("/b/"+ge(be.bucket)+"/o/"+ge(Yr),$,L)+jr({alt:"media",token:dn})})[0]}(F,T,be.host,be._protocol)}}(be,$),ge);return ft.errorHandler=zr(de),ft}(be.storage,be._location,$t());return be.storage.makeRequestWithTokens(de,Xt).then($=>{if(null===$)throw function Pt(){return new Tt(wt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}();return $})}function ao(be,de){const $=function se(be,de){const $=de.split("/").filter(L=>L.length>0).join("/");return 0===be.length?$:be+"/"+$}(be._location.path,de),L=new yn(be._location.bucket,$);return new Fi(be.storage,L)}function Li(be,de){if(be instanceof ko){const $=be;if(null==$._bucket)throw function et(){return new Tt(wt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+kt+"' property when initializing the app?")}();const L=new Fi($,$._bucket);return null!=de?Li(L,de):L}return void 0!==de?ao(be,de):be}function Gs(be,de){if(de&&function ho(be){return/^[A-Za-z]+:\/\//.test(be)}(de)){if(be instanceof ko)return function Di(be,de){return new Fi(be,de)}(be,de);throw nn("To use ref(service, url), the first argument must be a Storage instance.")}return Li(be,de)}function no(be,de){const $=null==de?void 0:de[kt];return null==$?null:yn.makeFromBucketSpec($,be)}class ko{constructor(de,$,L,T,F){this.app=de,this._authProvider=$,this._appCheckProvider=L,this._url=T,this._firebaseVersion=F,this._bucket=null,this._host=$e,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=T?yn.makeFromBucketSpec(T,this._host):no(this._host,this.app.options)}get host(){return this._host}set host(de){this._host=de,this._bucket=null!=this._url?yn.makeFromBucketSpec(this._url,de):no(de,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(de){Mn("time",0,Number.POSITIVE_INFINITY,de),this._maxUploadRetryTime=de}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(de){Mn("time",0,Number.POSITIVE_INFINITY,de),this._maxOperationRetryTime=de}_getAuthToken(){var de=this;return(0,at.Z)(function*(){if(de._overrideAuthToken)return de._overrideAuthToken;const $=de._authProvider.getImmediate({optional:!0});if($){const L=yield $.getToken();if(null!==L)return L.accessToken}return null})()}_getAppCheckToken(){var de=this;return(0,at.Z)(function*(){const $=de._appCheckProvider.getImmediate({optional:!0});return $?(yield $.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(de=>de.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(de){return new Fi(this,de)}_makeRequest(de,$,L,T,F=!0){if(this._deleted)return new Xn(Nn());{const ge=function Kr(be,de,$,L,T,F,ge=!0){const ft=jr(be.urlParams),Ot=be.url+ft,dn=Object.assign({},be.headers);return function ci(be,de){de&&(be["X-Firebase-GMPID"]=de)}(dn,de),function Qn(be,de){null!==de&&de.length>0&&(be.Authorization="Firebase "+de)}(dn,$),function cr(be,de){be["X-Firebase-Storage-Version"]="webjs/"+(null!=de?de:"AppManager")}(dn,F),function si(be,de){null!==de&&(be["X-Firebase-AppCheck"]=de)}(dn,L),new pi(Ot,be.method,dn,be.body,be.successCodes,be.additionalRetryCodes,be.handler,be.errorHandler,be.timeout,be.progressCallback,T,ge)}(de,this._appId,L,T,$,this._firebaseVersion,F);return this._requests.add(ge),ge.getPromise().then(()=>this._requests.delete(ge),()=>this._requests.delete(ge)),ge}}makeRequestWithTokens(de,$){var L=this;return(0,at.Z)(function*(){const[T,F]=yield Promise.all([L._getAuthToken(),L._getAppCheckToken()]);return L._makeRequest(de,$,T,F).getPromise()})()}}const $o="@firebase/storage";function ms(be,de){return Gs(be=(0,Vt.m9)(be),de)}function mo(be,{instanceIdentifier:de}){const $=be.getProvider("app").getImmediate(),L=be.getProvider("auth-internal"),T=be.getProvider("app-check-internal");return new ko($,L,T,de,pt.SDK_VERSION)}!function To(){(0,pt._registerComponent)(new We.wA("storage",mo,"PUBLIC").setMultipleInstances(!0)),(0,pt.registerVersion)($o,"0.11.2",""),(0,pt.registerVersion)($o,"0.11.2","esm2017")}();class Ao{constructor(de,$,L){this._delegate=de,this.task=$,this.ref=L}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class sa{constructor(de,$){this._delegate=de,this._ref=$,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new Ao(this._delegate.snapshot,this,this._ref)}then(de,$){return this._delegate.then(L=>{if(de)return de(new Ao(L,this,this._ref))},$)}on(de,$,L,T){let F;return $&&(F="function"==typeof $?ge=>$(new Ao(ge,this,this._ref)):{next:$.next?ge=>$.next(new Ao(ge,this,this._ref)):void 0,complete:$.complete||void 0,error:$.error||void 0}),this._delegate.on(de,F,L||void 0,T||void 0)}}class to{constructor(de,$){this._delegate=de,this._service=$}get prefixes(){return this._delegate.prefixes.map(de=>new ro(de,this._service))}get items(){return this._delegate.items.map(de=>new ro(de,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class ro{constructor(de,$){this._delegate=de,this.storage=$}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(de){const $=function ma(be,de){return ao(be,de)}(this._delegate,de);return new ro($,this.storage)}get root(){return new ro(this._delegate.root,this.storage)}get parent(){const de=this._delegate.parent;return null==de?null:new ro(de,this.storage)}put(de,$){return this._throwIfRoot("put"),new sa(function Ea(be,de,$){return function Lr(be,de,$){return be._throwIfRoot("uploadBytesResumable"),new is(be,new Ir(de),$)}(be=(0,Vt.m9)(be),de,$)}(this._delegate,de,$),this)}putString(de,$=ui.RAW,L){this._throwIfRoot("putString");const T=Cn($,de),F=Object.assign({},L);return null==F.contentType&&null!=T.contentType&&(F.contentType=T.contentType),new sa(new is(this._delegate,new Ir(T.data,!0),F),this)}listAll(){return function So(be){return function ks(be){const de={prefixes:[],items:[]};return Do(be,de).then(()=>de)}(be=(0,Vt.m9)(be))}(this._delegate).then(de=>new to(de,this.storage))}list(de){return function eo(be,de){return oo(be=(0,Vt.m9)(be),de)}(this._delegate,de||void 0).then($=>new to($,this.storage))}getMetadata(){return function Js(be){return function ki(be){be._throwIfRoot("getMetadata");const de=kr(be.storage,be._location,$t());return be.storage.makeRequestWithTokens(de,Xt)}(be=(0,Vt.m9)(be))}(this._delegate)}updateMetadata(de){return function Qo(be,de){return function ws(be,de){be._throwIfRoot("updateMetadata");const $=function Xs(be,de,$,L){const F=ni(de.fullServerUrl(),be.host,be._protocol),ft=rn($,L),dn=be.maxOperationRetryTime,Tn=new hn(F,"PATCH",hr(be,L),dn);return Tn.headers={"Content-Type":"application/json; charset=utf-8"},Tn.body=ft,Tn.errorHandler=zr(de),Tn}(be.storage,be._location,de,$t());return be.storage.makeRequestWithTokens($,Xt)}(be=(0,Vt.m9)(be),de)}(this._delegate,de)}getDownloadURL(){return function go(be){return os(be=(0,Vt.m9)(be))}(this._delegate)}delete(){return this._throwIfRoot("delete"),function No(be){return function Br(be){be._throwIfRoot("deleteObject");const de=function Vi(be,de){const L=ni(de.fullServerUrl(),be.host,be._protocol),ft=new hn(L,"DELETE",function ge(Ot,dn){},be.maxOperationRetryTime);return ft.successCodes=[200,204],ft.errorHandler=zr(de),ft}(be.storage,be._location);return be.storage.makeRequestWithTokens(de,Xt)}(be=(0,Vt.m9)(be))}(this._delegate)}_throwIfRoot(de){if(""===this._delegate._location.path)throw Qt(de)}}class Uo{constructor(de,$){this.app=de,this._delegate=$}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(de){if(ys(de))throw nn("ref() expected a child path but got a URL, use refFromURL instead.");return new ro(ms(this._delegate,de),this)}refFromURL(de){if(!ys(de))throw nn("refFromURL() expected a full URL but got a child path, use ref() instead.");try{yn.makeFromUrl(de,this._delegate.host)}catch{throw nn("refFromUrl() expected a valid full URL but got an invalid one.")}return new ro(ms(this._delegate,de),this)}setMaxUploadRetryTime(de){this._delegate.maxUploadRetryTime=de}setMaxOperationRetryTime(de){this._delegate.maxOperationRetryTime=de}useEmulator(de,$,L={}){!function Qi(be,de,$,L={}){!function fo(be,de,$,L={}){be.host=`${de}:${$}`,be._protocol="http";const{mockUserToken:T}=L;T&&(be._overrideAuthToken="string"==typeof T?T:(0,Vt.Sg)(T,be.app.options.projectId))}(be,de,$,L)}(this._delegate,de,$,L)}}function ys(be){return/^[A-Za-z]+:\/\//.test(be)}function Wo(be,{instanceIdentifier:de}){const $=be.getProvider("app-compat").getImmediate(),L=be.getProvider("storage").getImmediate({identifier:de});return new Uo($,L)}!function k(be){const de={TaskState:Re,TaskEvent:fe,StringFormat:ui,Storage:Uo,Reference:ro};be.INTERNAL.registerComponent(new We.wA("storage-compat",Wo,"PUBLIC").setServiceProps(de).setMultipleInstances(!0)),be.registerVersion("@firebase/storage-compat","0.3.2")}(xe.Z);var he=H(2313),N=H(9260);function Xe(be){const de=function ce(be){return new h.y(de=>{const $=ge=>de.next(ge);$(be.snapshot);const F=be.on("state_changed",$);return be.then(ge=>{$(ge),de.complete()},ge=>{$(be.snapshot),(ge=>{de.error(ge)})(ge)}),function(){F()}}).pipe(function Se(be,de=Oe.z){return(0,Ze.e)(($,L)=>{let T=null,F=null,ge=null;const ft=()=>{if(T){T.unsubscribe(),T=null;const dn=F;F=null,L.next(dn)}};function Ot(){const dn=ge+be,Tn=de.now();if(Tn<dn)return T=this.schedule(void 0,dn-Tn),void L.add(T);ft()}$.subscribe((0,Ge.x)(L,dn=>{F=dn,ge=de.now(),T||(T=de.schedule(Ot,be),L.add(T))},()=>{ft(),L.complete()},void 0,()=>{F=T=null}))})}(0))}(be);return{task:be,then:be.then.bind(be),catch:be.catch.bind(be),pause:be.pause.bind(be),cancel:be.cancel.bind(be),resume:be.resume.bind(be),snapshotChanges:()=>de,percentageChanges:()=>de.pipe((0,Pe.U)($=>$.bytesTransferred/$.totalBytes*100))}}function En(be){return{getDownloadURL:()=>(0,_.of)(void 0).pipe(Le.fc,(0,Qe.w)(()=>be.getDownloadURL()),Le.iC),getMetadata:()=>(0,_.of)(void 0).pipe(Le.fc,(0,Qe.w)(()=>be.getMetadata()),Le.iC),delete:()=>(0,_e.D)(be.delete()),child:de=>En(be.child(de)),updateMetadata:de=>(0,_e.D)(be.updateMetadata(de)),put:(de,$)=>Xe(be.put(de,$)),putString:(de,$,L)=>Xe(be.putString(de,$,L)),list:de=>(0,_e.D)(be.list(de)),listAll:()=>(0,_e.D)(be.listAll())}}const Cr=new Me.OlP("angularfire2.storageBucket"),Ur=new Me.OlP("angularfire2.storage.maxUploadRetryTime"),yi=new Me.OlP("angularfire2.storage.maxOperationRetryTime"),wi=new Me.OlP("angularfire2.storage.use-emulator");let Ms=(()=>{class be{constructor($,L,T,F,ge,ft,Ot,dn,Tn,Yr){const qr=(0,rt.on)($,ge,L);this.storage=(0,rt.cc)(`${qr.name}.storage.${T}`,"AngularFireStorage",qr.name,()=>{const oi=ge.runOutsideAngular(()=>qr.storage(T||void 0)),ii=Tn;return ii&&oi.useEmulator(...ii),Ot&&oi.setMaxUploadRetryTime(Ot),dn&&oi.setMaxOperationRetryTime(dn),oi},[Ot,dn])}ref($){return En(this.storage.ref($))}refFromURL($){return En(this.storage.refFromURL($))}upload($,L,T){return En(this.storage.ref($)).put(L,T)}}return be.\u0275fac=function($){return new($||be)(Me.LFG(rt.Dh),Me.LFG(rt.xv,8),Me.LFG(Cr,8),Me.LFG(Me.Lbi),Me.LFG(Me.R0b),Me.LFG(Le.HU),Me.LFG(Ur,8),Me.LFG(yi,8),Me.LFG(wi,8),Me.LFG(he.nm,8))},be.\u0275prov=Me.Yz7({token:be,factory:be.\u0275fac,providedIn:"any"}),be})(),Ks=(()=>{class be{}return be.\u0275fac=function($){return new($||be)},be.\u0275mod=Me.oAB({type:be}),be.\u0275inj=Me.cJS({}),be})(),Fo=(()=>{class be{constructor(){N.Z.registerVersion("angularfire",Le.q4.full,"gcs-compat")}}return be.\u0275fac=function($){return new($||be)},be.\u0275mod=Me.oAB({type:be}),be.\u0275inj=Me.cJS({providers:[Ms],imports:[Ks]}),be})()},2011:(Kn,Rt,H)=>{"use strict";H.d(Rt,{Dh:()=>Pe,GT:()=>Ge,Ot:()=>Se,cc:()=>at,hO:()=>xe,on:()=>Le,pX:()=>Ze,xv:()=>Qe});var h=H(2223),_=H(9260),_e=H(3324);Kn=H.hmd(Kn);const Oe=["ngOnDestroy"],Ze=($e,kt,Mt,dt={})=>new Proxy($e,{get:(It,Tt)=>Mt.runOutsideAngular(()=>{var wt;if($e[Tt])return!(null===(wt=null==dt?void 0:dt.spy)||void 0===wt)&&wt.get&&dt.spy.get(Tt,$e[Tt]),$e[Tt];if(Oe.indexOf(Tt)>-1)return()=>{};const vt=kt.toPromise().then(nt=>{const Ht=nt&&nt[Tt];return"function"==typeof Ht?Ht.bind(nt):Ht&&Ht.then?Ht.then(Ct=>Mt.run(()=>Ct)):Mt.run(()=>Ht)});return new Proxy(()=>{},{get:(nt,Ht)=>vt[Ht],apply:(nt,Ht,Ct)=>vt.then(Nt=>{var qt;const Te=Nt&&Nt(...Ct);return!(null===(qt=null==dt?void 0:dt.spy)||void 0===qt)&&qt.apply&&dt.spy.apply(Tt,Ct,Te),Te})})})}),Ge=($e,kt)=>{kt.forEach(Mt=>{Object.getOwnPropertyNames(Mt.prototype||Mt).forEach(dt=>{Object.defineProperty($e.prototype,dt,Object.getOwnPropertyDescriptor(Mt.prototype||Mt,dt))})})};class Se{constructor(kt){return kt}}const Pe=new h.OlP("angularfire2.app.options"),Qe=new h.OlP("angularfire2.app.name");function Le($e,kt,Mt){const It="object"==typeof Mt&&Mt||{};It.name=It.name||"string"==typeof Mt&&Mt||"[DEFAULT]";const wt=_.Z.apps.filter(vt=>vt&&vt.name===It.name)[0]||kt.runOutsideAngular(()=>_.Z.initializeApp($e,It));try{JSON.stringify($e)!==JSON.stringify(wt.options)&&Me("error",`${wt.name} Firebase App already initialized with different options${Kn.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new Se(wt)}const Me=($e,...kt)=>{(0,h.X6Q)()&&typeof console<"u"&&console[$e](...kt)},rt={provide:Se,useFactory:Le,deps:[Pe,h.R0b,[new h.FiY,Qe]]};let xe=(()=>{class $e{constructor(Mt){_.Z.registerVersion("angularfire",_e.q4.full,"core"),_.Z.registerVersion("angularfire",_e.q4.full,"app-compat"),_.Z.registerVersion("angular",h.q4F.full,Mt.toString())}static initializeApp(Mt,dt){return{ngModule:$e,providers:[{provide:Pe,useValue:Mt},{provide:Qe,useValue:dt}]}}}return $e.\u0275fac=function(Mt){return new(Mt||$e)(h.LFG(h.Lbi))},$e.\u0275mod=h.oAB({type:$e}),$e.\u0275inj=h.cJS({providers:[rt]}),$e})();function at($e,kt,Mt,dt,It){const[,Tt,wt]=globalThis.\u0275AngularfireInstanceCache.find(vt=>vt[0]===$e)||[];if(Tt)return function pt($e,kt){try{return $e.toString()===kt.toString()}catch{return $e===kt}}(It,wt)||(We("error",`${kt} was already initialized on the ${Mt} Firebase App with different settings.${Vt?" You may need to reload as Firebase is not HMR aware.":""}`),We("warn",{is:It,was:wt})),Tt;{const vt=dt();return globalThis.\u0275AngularfireInstanceCache.push([$e,vt,It]),vt}}const Vt=!!Kn.hot,We=($e,...kt)=>{(0,h.X6Q)()&&typeof console<"u"&&console[$e](...kt)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},89:(Kn,Rt,H)=>{"use strict";H.d(Rt,{gg:()=>Ct,ET:()=>ar,hJ:()=>an,BS:()=>Qt,JU:()=>jr,PL:()=>fi,ad:()=>dr,Xo:()=>Fr,Cm:()=>Ut,IO:()=>xr,pl:()=>te,ar:()=>vn});var h=H(3324),_=H(2223),_e=H(7246),Oe=H(3692),Ze=H(259),Ge=H(2313),Se=H(2810),Pe=H(9751),Qe=H(4004),Le={includeMetadataChanges:!1};function Ht(rn,mn){return void 0===mn&&(mn={}),function wt(rn){return function Me(rn,mn){return void 0===mn&&(mn=Le),new Pe.y(function(Rn){return{unsubscribe:(0,Se.cf)(rn,mn,{next:Rn.next.bind(Rn),error:Rn.error.bind(Rn),complete:Rn.complete.bind(Rn)})}})}(rn,{includeMetadataChanges:!0}).pipe((0,Qe.U)(function(mn){return mn.docs}))}(rn).pipe((0,Qe.U)(function(Rn){return Rn.map(function(Ft){return function at(rn,mn){void 0===mn&&(mn={});var Rn=rn.data();return!rn.exists()||"object"!=typeof Rn||null===Rn||mn.idField&&(Rn[mn.idField]=rn.id),Rn}(Ft,mn)})}))}class Ct{constructor(mn){return mn}}const Nt="firestore",qe=new _.OlP("angularfire2.firestore-instances");function mt(rn){return(mn,Rn)=>{const Ft=mn.runOutsideAngular(()=>rn(Rn));return new Ct(Ft)}}const Je={provide:class qt{constructor(){return(0,h.vb)(Nt)}},deps:[[new _.FiY,qe]]},et={provide:Ct,useFactory:function lt(rn,mn){const Rn=(0,h.JM)(Nt,rn,mn);return Rn&&new Ct(Rn)},deps:[[new _.FiY,qe],Oe.Ot]};let ct=(()=>{class rn{constructor(){(0,Ze.KN)("angularfire",h.q4.full,"fst")}}return rn.\u0275fac=function(Rn){return new(Rn||rn)},rn.\u0275mod=_.oAB({type:rn}),rn.\u0275inj=_.cJS({providers:[et,Je]}),rn})();function Ut(rn,...mn){return{ngModule:ct,providers:[{provide:qe,useFactory:mt(rn),multi:!0,deps:[_.R0b,_.zs3,h.HU,Oe.z6,[new _.FiY,_e.dh],[new _.FiY,Ge.nm],...mn]}]}}const Qt=(0,h.u3)(Ht,!0),ar=(0,h.u3)(Se.ET,!0),an=(0,h.u3)(Se.hJ,!0),jr=(0,h.u3)(Se.JU,!0),fi=(0,h.u3)(Se.PL,!0),dr=(0,h.u3)(Se.ad,!0),Fr=(0,h.u3)(Se.Xo,!0),xr=(0,h.u3)(Se.IO,!0),te=(0,h.u3)(Se.pl,!0),vn=(0,h.u3)(Se.ar,!0)},3324:(Kn,Rt,H)=>{"use strict";H.d(Rt,{q4:()=>to,iC:()=>be,fc:()=>Ks,HU:()=>yi,vb:()=>Xe,JM:()=>ce,nk:()=>N,u3:()=>L});var h=H(2223),_=H(259),_e=H(5861),Oe=H(6881),Ze=H(2090),Ge=H(4859),Se=H(1877);H(4727);const Qe="@firebase/remote-config",at=new Ze.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class mt{constructor(F,ge,ft,Ot){this.client=F,this.storage=ge,this.storageCache=ft,this.logger=Ot}isCachedDataFresh(F,ge){if(!ge)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const ft=Date.now()-ge,Ot=ft<=F;return this.logger.debug(`Config fetch cache check. Cache age millis: ${ft}. Cache max age millis (minimumFetchIntervalMillis setting): ${F}. Is cache hit: ${Ot}.`),Ot}fetch(F){var ge=this;return(0,_e.Z)(function*(){const[ft,Ot]=yield Promise.all([ge.storage.getLastSuccessfulFetchTimestampMillis(),ge.storage.getLastSuccessfulFetchResponse()]);if(Ot&&ge.isCachedDataFresh(F.cacheMaxAgeMillis,ft))return Ot;F.eTag=Ot&&Ot.eTag;const dn=yield ge.client.fetch(F),Tn=[ge.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===dn.status&&Tn.push(ge.storage.setLastSuccessfulFetchResponse(dn)),yield Promise.all(Tn),dn})()}}function Je(T=navigator){return T.languages&&T.languages[0]||T.language}class et{constructor(F,ge,ft,Ot,dn,Tn){this.firebaseInstallations=F,this.sdkVersion=ge,this.namespace=ft,this.projectId=Ot,this.apiKey=dn,this.appId=Tn}fetch(F){var ge=this;return(0,_e.Z)(function*(){const[ft,Ot]=yield Promise.all([ge.firebaseInstallations.getId(),ge.firebaseInstallations.getToken()]),Tn=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${ge.projectId}/namespaces/${ge.namespace}:fetch?key=${ge.apiKey}`,Yr={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":F.eTag||"*"},qr={sdk_version:ge.sdkVersion,app_instance_id:ft,app_instance_id_token:Ot,app_id:ge.appId,language_code:Je()},oi={method:"POST",headers:Yr,body:JSON.stringify(qr)},ii=fetch(Tn,oi),ai=new Promise((Ds,vo)=>{F.signal.addEventListener(()=>{const wa=new Error("The operation was aborted.");wa.name="AbortError",vo(wa)})});let ji;try{yield Promise.race([ii,ai]),ji=yield ii}catch(Ds){let vo="fetch-client-network";throw"AbortError"===(null==Ds?void 0:Ds.name)&&(vo="fetch-timeout"),at.create(vo,{originalErrorMessage:null==Ds?void 0:Ds.message})}let io=ji.status;const Cs=ji.headers.get("ETag")||void 0;let js,Ns;if(200===ji.status){let Ds;try{Ds=yield ji.json()}catch(vo){throw at.create("fetch-client-parse",{originalErrorMessage:null==vo?void 0:vo.message})}js=Ds.entries,Ns=Ds.state}if("INSTANCE_STATE_UNSPECIFIED"===Ns?io=500:"NO_CHANGE"===Ns?io=304:("NO_TEMPLATE"===Ns||"EMPTY_CONFIG"===Ns)&&(js={}),304!==io&&200!==io)throw at.create("fetch-status",{httpStatus:io});return{status:io,eTag:Cs,config:js}})()}}class Pt{constructor(F,ge){this.client=F,this.storage=ge}fetch(F){var ge=this;return(0,_e.Z)(function*(){const ft=(yield ge.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return ge.attemptFetch(F,ft)})()}attemptFetch(F,{throttleEndTimeMillis:ge,backoffCount:ft}){var Ot=this;return(0,_e.Z)(function*(){yield function ct(T,F){return new Promise((ge,ft)=>{const Ot=Math.max(F-Date.now(),0),dn=setTimeout(ge,Ot);T.addEventListener(()=>{clearTimeout(dn),ft(at.create("fetch-throttle",{throttleEndTimeMillis:F}))})})}(F.signal,ge);try{const dn=yield Ot.client.fetch(F);return yield Ot.storage.deleteThrottleMetadata(),dn}catch(dn){if(!function Ut(T){if(!(T instanceof Ze.ZR&&T.customData))return!1;const F=Number(T.customData.httpStatus);return 429===F||500===F||503===F||504===F}(dn))throw dn;const Tn={throttleEndTimeMillis:Date.now()+(0,Ze.$s)(ft),backoffCount:ft+1};return yield Ot.storage.setThrottleMetadata(Tn),Ot.attemptFetch(F,Tn)}})()}}class Nn{constructor(F,ge,ft,Ot,dn){this.app=F,this._client=ge,this._storageCache=ft,this._storage=Ot,this._logger=dn,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Qt(T,F){const ge=T.target.error||void 0;return at.create(F,{originalErrorMessage:ge&&(null==ge?void 0:ge.message)})}const Et="app_namespace_store";class ar{constructor(F,ge,ft,Ot=function Xn(){return new Promise((T,F)=>{try{const ge=indexedDB.open("firebase_remote_config",1);ge.onerror=ft=>{F(Qt(ft,"storage-open"))},ge.onsuccess=ft=>{T(ft.target.result)},ge.onupgradeneeded=ft=>{0===ft.oldVersion&&ft.target.result.createObjectStore(Et,{keyPath:"compositeKey"})}}catch(ge){F(at.create("storage-open",{originalErrorMessage:null==ge?void 0:ge.message}))}})}()){this.appId=F,this.appName=ge,this.namespace=ft,this.openDbPromise=Ot}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(F){return this.set("last_fetch_status",F)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(F){return this.set("last_successful_fetch_timestamp_millis",F)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(F){return this.set("last_successful_fetch_response",F)}getActiveConfig(){return this.get("active_config")}setActiveConfig(F){return this.set("active_config",F)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(F){return this.set("active_config_etag",F)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(F){return this.set("throttle_metadata",F)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(F){var ge=this;return(0,_e.Z)(function*(){const ft=yield ge.openDbPromise;return new Promise((Ot,dn)=>{const Yr=ft.transaction([Et],"readonly").objectStore(Et),qr=ge.createCompositeKey(F);try{const oi=Yr.get(qr);oi.onerror=ii=>{dn(Qt(ii,"storage-get"))},oi.onsuccess=ii=>{const ai=ii.target.result;Ot(ai?ai.value:void 0)}}catch(oi){dn(at.create("storage-get",{originalErrorMessage:null==oi?void 0:oi.message}))}})})()}set(F,ge){var ft=this;return(0,_e.Z)(function*(){const Ot=yield ft.openDbPromise;return new Promise((dn,Tn)=>{const qr=Ot.transaction([Et],"readwrite").objectStore(Et),oi=ft.createCompositeKey(F);try{const ii=qr.put({compositeKey:oi,value:ge});ii.onerror=ai=>{Tn(Qt(ai,"storage-set"))},ii.onsuccess=()=>{dn()}}catch(ii){Tn(at.create("storage-set",{originalErrorMessage:null==ii?void 0:ii.message}))}})})()}delete(F){var ge=this;return(0,_e.Z)(function*(){const ft=yield ge.openDbPromise;return new Promise((Ot,dn)=>{const Yr=ft.transaction([Et],"readwrite").objectStore(Et),qr=ge.createCompositeKey(F);try{const oi=Yr.delete(qr);oi.onerror=ii=>{dn(Qt(ii,"storage-delete"))},oi.onsuccess=()=>{Ot()}}catch(oi){dn(at.create("storage-delete",{originalErrorMessage:null==oi?void 0:oi.message}))}})})()}createCompositeKey(F){return[this.appId,this.appName,this.namespace,F].join()}}class lr{constructor(F){this.storage=F}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var F=this;return(0,_e.Z)(function*(){const ge=F.storage.getLastFetchStatus(),ft=F.storage.getLastSuccessfulFetchTimestampMillis(),Ot=F.storage.getActiveConfig(),dn=yield ge;dn&&(F.lastFetchStatus=dn);const Tn=yield ft;Tn&&(F.lastSuccessfulFetchTimestampMillis=Tn);const Yr=yield Ot;Yr&&(F.activeConfig=Yr)})()}setLastFetchStatus(F){return this.lastFetchStatus=F,this.storage.setLastFetchStatus(F)}setLastSuccessfulFetchTimestampMillis(F){return this.lastSuccessfulFetchTimestampMillis=F,this.storage.setLastSuccessfulFetchTimestampMillis(F)}setActiveConfig(F){return this.activeConfig=F,this.storage.setActiveConfig(F)}}function Rr(){return Vr.apply(this,arguments)}function Vr(){return(Vr=(0,_e.Z)(function*(){if(!(0,Ze.hl)())return!1;try{return yield(0,Ze.eu)()}catch{return!1}})).apply(this,arguments)}!function un(){(0,Oe._registerComponent)(new Ge.wA("remote-config",function T(F,{instanceIdentifier:ge}){const ft=F.getProvider("app").getImmediate(),Ot=F.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw at.create("registration-window");if(!(0,Ze.hl)())throw at.create("indexed-db-unavailable");const{projectId:dn,apiKey:Tn,appId:Yr}=ft.options;if(!dn)throw at.create("registration-project-id");if(!Tn)throw at.create("registration-api-key");if(!Yr)throw at.create("registration-app-id");const qr=new ar(Yr,ft.name,ge=ge||"firebase"),oi=new lr(qr),ii=new Se.Yd(Qe);ii.logLevel=Se.in.ERROR;const ai=new et(Ot,Oe.SDK_VERSION,ge,dn,Tn,Yr),ji=new Pt(ai,qr),io=new mt(ji,qr,oi,ii),Cs=new Nn(ft,io,oi,qr,ii);return function wt(T){const F=(0,Ze.m9)(T);F._initializePromise||(F._initializePromise=F._storageCache.loadFromStorage().then(()=>{F._isInitializationComplete=!0}))}(Cs),Cs},"PUBLIC").setMultipleInstances(!0)),(0,Oe.registerVersion)(Qe,"0.4.4"),(0,Oe.registerVersion)(Qe,"0.4.4","esm2017")}();const Ar=(T,F)=>F.some(ge=>T instanceof ge);let Mn,ni;const vi=new WeakMap,pi=new WeakMap,Jn=new WeakMap,Qn=new WeakMap,cr=new WeakMap;let Kr={get(T,F,ge){if(T instanceof IDBTransaction){if("done"===F)return pi.get(T);if("objectStoreNames"===F)return T.objectStoreNames||Jn.get(T);if("store"===F)return ge.objectStoreNames[1]?void 0:ge.objectStore(ge.objectStoreNames[0])}return dr(T[F])},set:(T,F,ge)=>(T[F]=ge,!0),has:(T,F)=>T instanceof IDBTransaction&&("done"===F||"store"===F)||F in T};function br(T){return"function"==typeof T?function gi(T){return T!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function mr(){return ni||(ni=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(T)?function(...F){return T.apply(ui(this),F),dr(vi.get(this))}:function(...F){return dr(T.apply(ui(this),F))}:function(F,...ge){const ft=T.call(ui(this),F,...ge);return Jn.set(ft,F.sort?F.sort():[F]),dr(ft)}}(T):(T instanceof IDBTransaction&&function si(T){if(pi.has(T))return;const F=new Promise((ge,ft)=>{const Ot=()=>{T.removeEventListener("complete",dn),T.removeEventListener("error",Tn),T.removeEventListener("abort",Tn)},dn=()=>{ge(),Ot()},Tn=()=>{ft(T.error||new DOMException("AbortError","AbortError")),Ot()};T.addEventListener("complete",dn),T.addEventListener("error",Tn),T.addEventListener("abort",Tn)});pi.set(T,F)}(T),Ar(T,function jr(){return Mn||(Mn=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(T,Kr):T)}function dr(T){if(T instanceof IDBRequest)return function ci(T){const F=new Promise((ge,ft)=>{const Ot=()=>{T.removeEventListener("success",dn),T.removeEventListener("error",Tn)},dn=()=>{ge(dr(T.result)),Ot()},Tn=()=>{ft(T.error),Ot()};T.addEventListener("success",dn),T.addEventListener("error",Tn)});return F.then(ge=>{ge instanceof IDBCursor&&vi.set(ge,T)}).catch(()=>{}),cr.set(F,T),F}(T);if(Qn.has(T))return Qn.get(T);const F=br(T);return F!==T&&(Qn.set(T,F),cr.set(F,T)),F}const ui=T=>cr.get(T);function Er(T,F,{blocked:ge,upgrade:ft,blocking:Ot,terminated:dn}={}){const Tn=indexedDB.open(T,F),Yr=dr(Tn);return ft&&Tn.addEventListener("upgradeneeded",qr=>{ft(dr(Tn.result),qr.oldVersion,qr.newVersion,dr(Tn.transaction))}),ge&&Tn.addEventListener("blocked",()=>ge()),Yr.then(qr=>{dn&&qr.addEventListener("close",()=>dn()),Ot&&qr.addEventListener("versionchange",()=>Ot())}).catch(()=>{}),Yr}function Cn(T,{blocked:F}={}){const ge=indexedDB.deleteDatabase(T);return F&&ge.addEventListener("blocked",()=>F()),dr(ge).then(()=>{})}const ke=["get","getKey","getAll","getAllKeys","count"],ut=["put","add","delete","clear"],jt=new Map;function bn(T,F){if(!(T instanceof IDBDatabase)||F in T||"string"!=typeof F)return;if(jt.get(F))return jt.get(F);const ge=F.replace(/FromIndex$/,""),ft=F!==ge,Ot=ut.includes(ge);if(!(ge in(ft?IDBIndex:IDBObjectStore).prototype)||!Ot&&!ke.includes(ge))return;const dn=function(){var Tn=(0,_e.Z)(function*(Yr,...qr){const oi=this.transaction(Yr,Ot?"readwrite":"readonly");let ii=oi.store;return ft&&(ii=ii.index(qr.shift())),(yield Promise.all([ii[ge](...qr),Ot&&oi.done]))[0]});return function(qr){return Tn.apply(this,arguments)}}();return jt.set(F,dn),dn}!function fi(T){Kr=T(Kr)}(T=>({...T,get:(F,ge,ft)=>bn(F,ge)||T.get(F,ge,ft),has:(F,ge)=>!!bn(F,ge)||T.has(F,ge)}));const $n="/firebase-messaging-sw.js",Fr="/firebase-cloud-messaging-push-scope",xr="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Ir="https://fcmregistrations.googleapis.com/v1",gt="google.c.a.c_id",Ae="google.c.a.c_l",se="google.c.a.ts";var Ke=(()=>((Ke=Ke||{}).PUSH_RECEIVED="push-received",Ke.NOTIFICATION_CLICKED="notification-clicked",Ke))();function At(T){const F=new Uint8Array(T);return btoa(String.fromCharCode(...F)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function tt(T){const ge=(T+"=".repeat((4-T.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),ft=atob(ge),Ot=new Uint8Array(ft.length);for(let dn=0;dn<ft.length;++dn)Ot[dn]=ft.charCodeAt(dn);return Ot}const $t="fcm_token_details_db",Zt=5,In="fcm_token_object_Store";function jn(){return jn=(0,_e.Z)(function*(T){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(dn=>dn.name).includes($t))return null;let F=null;return(yield Er($t,Zt,{upgrade:(ft=(0,_e.Z)(function*(Ot,dn,Tn,Yr){var qr;if(dn<2||!Ot.objectStoreNames.contains(In))return;const oi=Yr.objectStore(In),ii=yield oi.index("fcmSenderId").get(T);if(yield oi.clear(),ii)if(2===dn){const ai=ii;if(!ai.auth||!ai.p256dh||!ai.endpoint)return;F={token:ai.fcmToken,createTime:null!==(qr=ai.createTime)&&void 0!==qr?qr:Date.now(),subscriptionOptions:{auth:ai.auth,p256dh:ai.p256dh,endpoint:ai.endpoint,swScope:ai.swScope,vapidKey:"string"==typeof ai.vapidKey?ai.vapidKey:At(ai.vapidKey)}}}else if(3===dn){const ai=ii;F={token:ai.fcmToken,createTime:ai.createTime,subscriptionOptions:{auth:At(ai.auth),p256dh:At(ai.p256dh),endpoint:ai.endpoint,swScope:ai.swScope,vapidKey:At(ai.vapidKey)}}}else if(4===dn){const ai=ii;F={token:ai.fcmToken,createTime:ai.createTime,subscriptionOptions:{auth:At(ai.auth),p256dh:At(ai.p256dh),endpoint:ai.endpoint,swScope:ai.swScope,vapidKey:At(ai.vapidKey)}}}}),function(dn,Tn,Yr,qr){return ft.apply(this,arguments)})})).close(),yield Cn($t),yield Cn("fcm_vapid_details_db"),yield Cn("undefined"),function rn(T){if(!T||!T.subscriptionOptions)return!1;const{subscriptionOptions:F}=T;return"number"==typeof T.createTime&&T.createTime>0&&"string"==typeof T.token&&T.token.length>0&&"string"==typeof F.auth&&F.auth.length>0&&"string"==typeof F.p256dh&&F.p256dh.length>0&&"string"==typeof F.endpoint&&F.endpoint.length>0&&"string"==typeof F.swScope&&F.swScope.length>0&&"string"==typeof F.vapidKey&&F.vapidKey.length>0}(F)?F:null;var ft}),jn.apply(this,arguments)}const mn="firebase-messaging-database",Rn=1,Ft="firebase-messaging-store";let Gt=null;function hn(){return Gt||(Gt=Er(mn,Rn,{upgrade:(T,F)=>{0===F&&T.createObjectStore(Ft)}})),Gt}function Gn(T){return hr.apply(this,arguments)}function hr(){return hr=(0,_e.Z)(function*(T){const F=kr(T),ft=yield(yield hn()).transaction(Ft).objectStore(Ft).get(F);if(ft)return ft;{const Ot=yield function vn(T){return jn.apply(this,arguments)}(T.appConfig.senderId);if(Ot)return yield Or(T,Ot),Ot}}),hr.apply(this,arguments)}function Or(T,F){return Mr.apply(this,arguments)}function Mr(){return(Mr=(0,_e.Z)(function*(T,F){const ge=kr(T),Ot=(yield hn()).transaction(Ft,"readwrite");return yield Ot.objectStore(Ft).put(F,ge),yield Ot.done,F})).apply(this,arguments)}function zr(){return(zr=(0,_e.Z)(function*(T){const F=kr(T),ft=(yield hn()).transaction(Ft,"readwrite");yield ft.objectStore(Ft).delete(F),yield ft.done})).apply(this,arguments)}function kr({appConfig:T}){return T.appId}const Wi=new Ze.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Io(T,F){return Xs.apply(this,arguments)}function Xs(){return(Xs=(0,_e.Z)(function*(T,F){const ge=yield $s(T),ft=Vs(F),Ot={method:"POST",headers:ge,body:JSON.stringify(ft)};let dn;try{dn=yield(yield fetch(Ri(T.appConfig),Ot)).json()}catch(Tn){throw Wi.create("token-subscribe-failed",{errorInfo:null==Tn?void 0:Tn.toString()})}if(dn.error)throw Wi.create("token-subscribe-failed",{errorInfo:dn.error.message});if(!dn.token)throw Wi.create("token-subscribe-no-token");return dn.token})).apply(this,arguments)}function zi(){return(zi=(0,_e.Z)(function*(T,F){const ge=yield $s(T),ft=Vs(F.subscriptionOptions),Ot={method:"PATCH",headers:ge,body:JSON.stringify(ft)};let dn;try{dn=yield(yield fetch(`${Ri(T.appConfig)}/${F.token}`,Ot)).json()}catch(Tn){throw Wi.create("token-update-failed",{errorInfo:null==Tn?void 0:Tn.toString()})}if(dn.error)throw Wi.create("token-update-failed",{errorInfo:dn.error.message});if(!dn.token)throw Wi.create("token-update-no-token");return dn.token})).apply(this,arguments)}function Co(T,F){return Xi.apply(this,arguments)}function Xi(){return(Xi=(0,_e.Z)(function*(T,F){const ft={method:"DELETE",headers:yield $s(T)};try{const dn=yield(yield fetch(`${Ri(T.appConfig)}/${F}`,ft)).json();if(dn.error)throw Wi.create("token-unsubscribe-failed",{errorInfo:dn.error.message})}catch(Ot){throw Wi.create("token-unsubscribe-failed",{errorInfo:null==Ot?void 0:Ot.toString()})}})).apply(this,arguments)}function Ri({projectId:T}){return`${Ir}/projects/${T}/registrations`}function $s(T){return Qs.apply(this,arguments)}function Qs(){return(Qs=(0,_e.Z)(function*({appConfig:T,installations:F}){const ge=yield F.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":T.apiKey,"x-goog-firebase-installations-auth":`FIS ${ge}`})})).apply(this,arguments)}function Vs({p256dh:T,auth:F,endpoint:ge,vapidKey:ft}){const Ot={web:{endpoint:ge,auth:F,p256dh:T}};return ft!==xr&&(Ot.web.applicationPubKey=ft),Ot}const Us=6048e5;function fe(){return fe=(0,_e.Z)(function*(T){const F=yield function Lt(T,F){return Xt.apply(this,arguments)}(T.swRegistration,T.vapidKey),ge={vapidKey:T.vapidKey,swScope:T.swRegistration.scope,endpoint:F.endpoint,auth:At(F.getKey("auth")),p256dh:At(F.getKey("p256dh"))},ft=yield Gn(T.firebaseDependencies);if(ft){if(function zn(T,F){return F.vapidKey===T.vapidKey&&F.endpoint===T.endpoint&&F.auth===T.auth&&F.p256dh===T.p256dh}(ft.subscriptionOptions,ge))return Date.now()>=ft.createTime+Us?function re(T,F){return ye.apply(this,arguments)}(T,{token:ft.token,createTime:Date.now(),subscriptionOptions:ge}):ft.token;try{yield Co(T.firebaseDependencies,ft.token)}catch(Ot){console.warn(Ot)}return st(T.firebaseDependencies,ge)}return st(T.firebaseDependencies,ge)}),fe.apply(this,arguments)}function Ee(){return Ee=(0,_e.Z)(function*(T){const F=yield Gn(T.firebaseDependencies);F&&(yield Co(T.firebaseDependencies,F.token),yield function Si(T){return zr.apply(this,arguments)}(T.firebaseDependencies));const ge=yield T.swRegistration.pushManager.getSubscription();return!ge||ge.unsubscribe()}),Ee.apply(this,arguments)}function ye(){return ye=(0,_e.Z)(function*(T,F){try{const ge=yield function Vi(T,F){return zi.apply(this,arguments)}(T.firebaseDependencies,F),ft=Object.assign(Object.assign({},F),{token:ge,createTime:Date.now()});return yield Or(T.firebaseDependencies,ft),ge}catch(ge){throw yield function Re(T){return Ee.apply(this,arguments)}(T),ge}}),ye.apply(this,arguments)}function st(T,F){return bt.apply(this,arguments)}function bt(){return(bt=(0,_e.Z)(function*(T,F){const ft={token:yield Io(T,F),createTime:Date.now(),subscriptionOptions:F};return yield Or(T,ft),ft.token})).apply(this,arguments)}function Xt(){return(Xt=(0,_e.Z)(function*(T,F){return(yield T.pushManager.getSubscription())||T.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:tt(F)})})).apply(this,arguments)}function Vn(T){const F={from:T.from,collapseKey:T.collapse_key,messageId:T.fcmMessageId};return function wr(T,F){if(!F.notification)return;T.notification={};const ge=F.notification.title;ge&&(T.notification.title=ge);const ft=F.notification.body;ft&&(T.notification.body=ft);const Ot=F.notification.image;Ot&&(T.notification.image=Ot);const dn=F.notification.icon;dn&&(T.notification.icon=dn)}(F,T),function Qr(T,F){F.data&&(T.data=F.data)}(F,T),function is(T,F){var ge,ft,Ot,dn,Tn;if(!(F.fcmOptions||null!==(ge=F.notification)&&void 0!==ge&&ge.click_action))return;T.fcmOptions={};const Yr=null!==(Ot=null===(ft=F.fcmOptions)||void 0===ft?void 0:ft.link)&&void 0!==Ot?Ot:null===(dn=F.notification)||void 0===dn?void 0:dn.click_action;Yr&&(T.fcmOptions.link=Yr);const qr=null===(Tn=F.fcmOptions)||void 0===Tn?void 0:Tn.analytics_label;qr&&(T.fcmOptions.analyticsLabel=qr)}(F,T),F}function Ws(T,F){const ge=[];for(let ft=0;ft<T.length;ft++)ge.push(T.charAt(ft)),ft<F.length&&ge.push(F.charAt(ft));return ge.join("")}function tr(T){return Wi.create("missing-app-config-values",{valueName:T})}Ws("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Ws("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Lr{constructor(F,ge,ft){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const Ot=function Ci(T){if(!T||!T.options)throw tr("App Configuration Object");if(!T.name)throw tr("App Name");const F=["projectId","apiKey","appId","messagingSenderId"],{options:ge}=T;for(const ft of F)if(!ge[ft])throw tr(ft);return{appName:T.name,projectId:ge.projectId,apiKey:ge.apiKey,appId:ge.appId,senderId:ge.messagingSenderId}}(F);this.firebaseDependencies={app:F,appConfig:Ot,installations:ge,analyticsProvider:ft}}_delete(){return Promise.resolve()}}function ks(){return(ks=(0,_e.Z)(function*(T){try{T.swRegistration=yield navigator.serviceWorker.register($n,{scope:Fr}),T.swRegistration.update().catch(()=>{})}catch(F){throw Wi.create("failed-service-worker-registration",{browserErrorMessage:null==F?void 0:F.message})}})).apply(this,arguments)}function ss(){return(ss=(0,_e.Z)(function*(T,F){if(!F&&!T.swRegistration&&(yield function Ai(T){return ks.apply(this,arguments)}(T)),F||!T.swRegistration){if(!(F instanceof ServiceWorkerRegistration))throw Wi.create("invalid-sw-registration");T.swRegistration=F}})).apply(this,arguments)}function ki(){return(ki=(0,_e.Z)(function*(T,F){F?T.vapidKey=F:T.vapidKey||(T.vapidKey=xr)})).apply(this,arguments)}function os(){return os=(0,_e.Z)(function*(T,F){if(!navigator)throw Wi.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Wi.create("permission-blocked");return yield function oo(T,F){return ki.apply(this,arguments)}(T,null==F?void 0:F.vapidKey),yield function Do(T,F){return ss.apply(this,arguments)}(T,null==F?void 0:F.serviceWorkerRegistration),function ie(T){return fe.apply(this,arguments)}(T)}),os.apply(this,arguments)}function ao(){return(ao=(0,_e.Z)(function*(T,F,ge){const ft=function ho(T){switch(T){case Ke.NOTIFICATION_CLICKED:return"notification_open";case Ke.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(F);(yield T.firebaseDependencies.analyticsProvider.get()).logEvent(ft,{message_id:ge[gt],message_name:ge[Ae],message_time:ge[se],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Li(){return Li=(0,_e.Z)(function*(T,F){const ge=F.data;if(!ge.isFirebaseMessaging)return;T.onMessageHandler&&ge.messageType===Ke.PUSH_RECEIVED&&("function"==typeof T.onMessageHandler?T.onMessageHandler(Vn(ge)):T.onMessageHandler.next(Vn(ge)));const ft=ge.data;(function Fi(T){return"object"==typeof T&&!!T&&gt in T})(ft)&&"1"===ft["google.c.a.e"]&&(yield function Br(T,F,ge){return ao.apply(this,arguments)}(T,ge.messageType,ft))}),Li.apply(this,arguments)}const Gs="@firebase/messaging",fo=T=>{const F=new Lr(T.getProvider("app").getImmediate(),T.getProvider("installations-internal").getImmediate(),T.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",ge=>function Di(T,F){return Li.apply(this,arguments)}(F,ge)),F},ko=T=>{const F=T.getProvider("messaging").getImmediate();return{getToken:ft=>function ws(T,F){return os.apply(this,arguments)}(F,ft)}};function po(){return lo.apply(this,arguments)}function lo(){return(lo=(0,_e.Z)(function*(){try{yield(0,Ze.eu)()}catch{return!1}return typeof window<"u"&&(0,Ze.hl)()&&(0,Ze.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function $o(){(0,Oe._registerComponent)(new Ge.wA("messaging",fo,"PUBLIC")),(0,Oe._registerComponent)(new Ge.wA("messaging-internal",ko,"PRIVATE")),(0,Oe.registerVersion)(Gs,"0.12.4"),(0,Oe.registerVersion)(Gs,"0.12.4","esm2017")}();var go=H(5132),No=H(4408),ma=H(7565);const Qi=new class Is extends ma.v{}(class ms extends No.o{constructor(F,ge){super(F,ge),this.scheduler=F,this.work=ge}schedule(F,ge=0){return ge>0?super.schedule(F,ge):(this.delay=ge,this.state=F,this.scheduler.flush(this),this)}execute(F,ge){return ge>0||this.closed?super.execute(F,ge):this._execute(F,ge)}requestAsyncId(F,ge,ft=0){return null!=ft&&ft>0||null==ft&&this.delay>0?super.requestAsyncId(F,ge,ft):(F.flush(this),0)}});var Vo=H(4986),mo=H(9751),To=H(8505),Ao=H(5363),sa=H(9468);const to=new h.GfV("7.6.1"),ro="__angularfire_symbol__analyticsIsSupportedValue",Uo="__angularfire_symbol__analyticsIsSupported",ys="__angularfire_symbol__remoteConfigIsSupportedValue",Ho="__angularfire_symbol__remoteConfigIsSupported",yo="__angularfire_symbol__messagingIsSupportedValue",ea="__angularfire_symbol__messagingIsSupported";globalThis[Uo]||(globalThis[Uo]=(0,go.Gb)().then(T=>globalThis[ro]=T).catch(()=>globalThis[ro]=!1)),globalThis[ea]||(globalThis[ea]=po().then(T=>globalThis[yo]=T).catch(()=>globalThis[yo]=!1)),globalThis[Ho]||(globalThis[Ho]=Rr().then(T=>globalThis[ys]=T).catch(()=>globalThis[ys]=!1));const N={async:()=>globalThis[Uo],sync:()=>{const T=globalThis[ro];if(void 0===T)throw new Error((T=>`The APP_INITIALIZER that is "making" isSupported() sync for the sake of convenient DI has not resolved in this\ncontext. Rather than injecting ${T} in the constructor, first ensure that ${T} is supported by calling\n\`await isSupported()\`, then retrieve the instance from the injector manually \`injector.get(${T})\`.`)("Analytics"));return T}};function ce(T,F,ge){if(F){if(1===F.length)return F[0];const dn=F.filter(Tn=>Tn.app===ge);if(1===dn.length)return dn[0]}return ge.container.getProvider(T).getImmediate({optional:!0})}const Xe=(T,F)=>{const ge=F?[F]:(0,_.C6)(),ft=[];return ge.forEach(Ot=>{Ot.container.getProvider(T).instances.forEach(Tn=>{ft.includes(Tn)||ft.push(Tn)})}),ft};function En(){}class Cr{constructor(F,ge=Qi){this.zone=F,this.delegate=ge}now(){return this.delegate.now()}schedule(F,ge,ft){const Ot=this.zone;return this.delegate.schedule(function(Tn){Ot.runGuarded(()=>{F.apply(this,[Tn])})},ge,ft)}}class Ur{constructor(F){this.zone=F,this.task=null}call(F,ge){const ft=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",En,{},En,En)),ge.pipe((0,To.b)({next:ft,complete:ft,error:ft})).subscribe(F).add(ft)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let yi=(()=>{class T{constructor(ge){this.ngZone=ge,this.outsideAngular=ge.runOutsideAngular(()=>new Cr(Zone.current)),this.insideAngular=ge.run(()=>new Cr(Zone.current,Vo.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return T.\u0275fac=function(ge){return new(ge||T)(h.LFG(h.R0b))},T.\u0275prov=h.Yz7({token:T,factory:T.\u0275fac,providedIn:"root"}),T})();function wi(){const T=globalThis.\u0275AngularFireScheduler;if(!T)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return T}function vs(T){return wi().ngZone.run(()=>T())}function Ks(T){return T.pipe((0,Ao.Q)(wi().outsideAngular))}function be(T){return wi(),function de(T){return function(ge){return(ge=ge.lift(new Ur(T.ngZone))).pipe((0,sa.R)(T.outsideAngular),(0,Ao.Q)(T.insideAngular))}}(wi())(T)}const $=(T,F)=>function(){const ft=arguments;return F&&setTimeout(()=>{"scheduled"===F.state&&F.invoke()},10),vs(()=>T.apply(void 0,ft))},L=(T,F)=>function(){let ge;const ft=arguments;for(let dn=0;dn<arguments.length;dn++)"function"==typeof ft[dn]&&(F&&(ge||(ge=vs(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",En,{},En,En)))),ft[dn]=$(ft[dn],ge));const Ot=function Ms(T){return wi().ngZone.runOutsideAngular(()=>T())}(()=>T.apply(this,ft));if(!F){if(Ot instanceof mo.y){const dn=wi();return Ot.pipe((0,sa.R)(dn.outsideAngular),(0,Ao.Q)(dn.insideAngular))}return vs(()=>Ot)}return Ot instanceof mo.y?Ot.pipe(be):Ot instanceof Promise?vs(()=>new Promise((dn,Tn)=>Ot.then(Yr=>vs(()=>dn(Yr)),Yr=>vs(()=>Tn(Yr))))):"function"==typeof Ot&&ge?function(){return setTimeout(()=>{ge&&"scheduled"===ge.state&&ge.invoke()},10),Ot.apply(this,arguments)}:vs(()=>Ot)}},1389:(Kn,Rt,H)=>{"use strict";H.d(Rt,{$:()=>wi,A:()=>Me,D:()=>at,I:()=>Us,J:()=>re,L:()=>Di,N:()=>xr,P:()=>b,Q:()=>eo,R:()=>Ye,U:()=>ms,V:()=>ma,W:()=>Is,X:()=>No,Y:()=>mo,Z:()=>To,_:()=>Uo,a:()=>rc,a0:()=>vs,a1:()=>Fo,a2:()=>L,a3:()=>dn,a4:()=>Yr,a5:()=>oi,a6:()=>ai,a7:()=>io,a8:()=>js,a9:()=>Ds,aA:()=>nt,aB:()=>Oc,aC:()=>$n,aD:()=>Ir,aE:()=>El,aF:()=>gs,aG:()=>ls,aH:()=>Ri,aL:()=>Pl,aO:()=>Jo,aa:()=>vo,ab:()=>Lo,ac:()=>Wa,ad:()=>Gi,ae:()=>Fs,af:()=>Ml,ai:()=>X,aj:()=>De,ak:()=>Ue,an:()=>Wo,ao:()=>co,aq:()=>_s,ar:()=>Zr,as:()=>Ct,at:()=>Zt,au:()=>At,av:()=>dt,aw:()=>Ud,ax:()=>kl,ay:()=>In,az:()=>It,b:()=>yl,c:()=>zt,d:()=>xn,e:()=>gn,f:()=>bs,g:()=>Rs,h:()=>aa,i:()=>Mo,j:()=>Ol,k:()=>jd,l:()=>_i,m:()=>Vf,o:()=>du,p:()=>Pe,r:()=>Yi,s:()=>Sn,u:()=>m});var h=H(5861),_=H(2090),_e=H(6881),Oe=H(655),Ze=H(1877),Ge=H(4859);const Pe={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},Me={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const at=function rt(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend."}},pt=function xe(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Vt=new _.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),$e=new Ze.Yd("@firebase/auth");function Mt(U,...D){$e.logLevel<=Ze.in.ERROR&&$e.error(`Auth (${_e.SDK_VERSION}): ${U}`,...D)}function dt(U,...D){throw vt(U,...D)}function It(U,...D){return vt(U,...D)}function Tt(U,D,A){const K=Object.assign(Object.assign({},pt()),{[D]:A});return new _.LL("auth","Firebase",K).create(D,{appName:U.name})}function wt(U,D,A){if(!(D instanceof A))throw A.name!==D.constructor.name&&dt(U,"argument-error"),Tt(U,"argument-error",`Type of ${D.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function vt(U,...D){if("string"!=typeof U){const A=D[0],K=[...D.slice(1)];return K[0]&&(K[0].appName=U.name),U._errorFactory.create(A,...K)}return Vt.create(U,...D)}function nt(U,D,...A){if(!U)throw vt(D,...A)}function Ht(U){const D="INTERNAL ASSERTION FAILED: "+U;throw Mt(D),new Error(D)}function Ct(U,D){U||Ht(D)}function Nt(){var U;return typeof self<"u"&&(null===(U=self.location)||void 0===U?void 0:U.href)||""}function qt(){return"http:"===Te()||"https:"===Te()}function Te(){var U;return typeof self<"u"&&(null===(U=self.location)||void 0===U?void 0:U.protocol)||null}class mt{constructor(D,A){this.shortDelay=D,this.longDelay=A,Ct(A>D,"Short delay should be less than long delay!"),this.isMobile=(0,_.uI)()||(0,_.b$)()}get(){return function qe(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(qt()||(0,_.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Je(U,D){Ct(U.emulator,"Emulator should always be set here");const{url:A}=U.emulator;return D?`${A}${D.startsWith("/")?D.slice(1):D}`:A}class et{static initialize(D,A,K){this.fetchImpl=D,A&&(this.headersImpl=A),K&&(this.responseImpl=K)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void Ht("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void Ht("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void Ht("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const ct={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Ut=new mt(3e4,6e4);function Pt(U,D){return U.tenantId&&!D.tenantId?Object.assign(Object.assign({},D),{tenantId:U.tenantId}):D}function Jt(U,D,A,K){return nn.apply(this,arguments)}function nn(){return(nn=(0,h.Z)(function*(U,D,A,K,Ie={}){return Nn(U,Ie,(0,h.Z)(function*(){let ze={},en={};K&&("GET"===D?en=K:ze={body:JSON.stringify(K)});const Dn=(0,_.xO)(Object.assign({key:U.config.apiKey},en)).slice(1),ur=yield U._getAdditionalHeaders();return ur["Content-Type"]="application/json",U.languageCode&&(ur["X-Firebase-Locale"]=U.languageCode),et.fetch()(yn(U,U.config.apiHost,A,Dn),Object.assign({method:D,headers:ur,referrerPolicy:"no-referrer"},ze))}))})).apply(this,arguments)}function Nn(U,D,A){return Qt.apply(this,arguments)}function Qt(){return(Qt=(0,h.Z)(function*(U,D,A){U._canInitEmulator=!1;const K=Object.assign(Object.assign({},ct),D);try{const Ie=new Xn(U),ze=yield Promise.race([A(),Ie.promise]);Ie.clearNetworkTimeout();const en=yield ze.json();if("needConfirmation"in en)throw ar(U,"account-exists-with-different-credential",en);if(ze.ok&&!("errorMessage"in en))return en;{const Dn=ze.ok?en.errorMessage:en.error.message,[ur,Nr]=Dn.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===ur)throw ar(U,"credential-already-in-use",en);if("EMAIL_EXISTS"===ur)throw ar(U,"email-already-in-use",en);if("USER_DISABLED"===ur)throw ar(U,"user-disabled",en);const bi=K[ur]||ur.toLowerCase().replace(/[_\s]+/g,"-");if(Nr)throw Tt(U,bi,Nr);dt(U,bi)}}catch(Ie){if(Ie instanceof _.ZR)throw Ie;dt(U,"network-request-failed",{message:String(Ie)})}})).apply(this,arguments)}function Et(U,D,A,K){return on.apply(this,arguments)}function on(){return(on=(0,h.Z)(function*(U,D,A,K,Ie={}){const ze=yield Jt(U,D,A,K,Ie);return"mfaPendingCredential"in ze&&dt(U,"multi-factor-auth-required",{_serverResponse:ze}),ze})).apply(this,arguments)}function yn(U,D,A,K){const Ie=`${D}${A}?${K}`;return U.config.emulator?Je(U.config,Ie):`${U.config.apiScheme}://${Ie}`}class Xn{constructor(D){this.auth=D,this.timer=null,this.promise=new Promise((A,K)=>{this.timer=setTimeout(()=>K(It(this.auth,"network-request-failed")),Ut.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function ar(U,D,A){const K={appName:U.name};A.email&&(K.email=A.email),A.phoneNumber&&(K.phoneNumber=A.phoneNumber);const Ie=It(U,D,K);return Ie.customData._tokenResponse=A,Ie}function un(){return(un=(0,h.Z)(function*(U,D){return Jt(U,"POST","/v1/accounts:delete",D)})).apply(this,arguments)}function an(){return(an=(0,h.Z)(function*(U,D){return Jt(U,"POST","/v1/accounts:update",D)})).apply(this,arguments)}function Vr(){return(Vr=(0,h.Z)(function*(U,D){return Jt(U,"POST","/v1/accounts:lookup",D)})).apply(this,arguments)}function Ar(U){if(U)try{const D=new Date(Number(U));if(!isNaN(D.getTime()))return D.toUTCString()}catch{}}function jr(){return(jr=(0,h.Z)(function*(U,D=!1){const A=(0,_.m9)(U),K=yield A.getIdToken(D),Ie=vi(K);nt(Ie&&Ie.exp&&Ie.auth_time&&Ie.iat,A.auth,"internal-error");const ze="object"==typeof Ie.firebase?Ie.firebase:void 0,en=null==ze?void 0:ze.sign_in_provider;return{claims:Ie,token:K,authTime:Ar(mr(Ie.auth_time)),issuedAtTime:Ar(mr(Ie.iat)),expirationTime:Ar(mr(Ie.exp)),signInProvider:en||null,signInSecondFactor:(null==ze?void 0:ze.sign_in_second_factor)||null}})).apply(this,arguments)}function mr(U){return 1e3*Number(U)}function vi(U){const[D,A,K]=U.split(".");if(void 0===D||void 0===A||void 0===K)return Mt("JWT malformed, contained fewer than 3 sections"),null;try{const Ie=(0,_.tV)(A);return Ie?JSON.parse(Ie):(Mt("Failed to decode base64 JWT payload"),null)}catch(Ie){return Mt("Caught error parsing JWT payload as JSON",null==Ie?void 0:Ie.toString()),null}}function Jn(U,D){return Qn.apply(this,arguments)}function Qn(){return(Qn=(0,h.Z)(function*(U,D,A=!1){if(A)return D;try{return yield D}catch(K){throw K instanceof _.ZR&&function cr({code:U}){return"auth/user-disabled"===U||"auth/user-token-expired"===U}(K)&&U.auth.currentUser===U&&(yield U.auth.signOut()),K}})).apply(this,arguments)}class ci{constructor(D){this.user=D,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(D){var A;if(D){const K=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),K}{this.errorBackoff=3e4;const Ie=(null!==(A=this.user.stsTokenManager.expirationTime)&&void 0!==A?A:0)-Date.now()-3e5;return Math.max(0,Ie)}}schedule(D=!1){var A=this;if(!this.isRunning)return;const K=this.getInterval(D);this.timerId=setTimeout((0,h.Z)(function*(){yield A.iteration()}),K)}iteration(){var D=this;return(0,h.Z)(function*(){try{yield D.user.getIdToken(!0)}catch(A){return void("auth/network-request-failed"===(null==A?void 0:A.code)&&D.schedule(!0))}D.schedule()})()}}class si{constructor(D,A){this.createdAt=D,this.lastLoginAt=A,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ar(this.lastLoginAt),this.creationTime=Ar(this.createdAt)}_copy(D){this.createdAt=D.createdAt,this.lastLoginAt=D.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Kr(U){return fi.apply(this,arguments)}function fi(){return fi=(0,h.Z)(function*(U){var D;const A=U.auth,K=yield U.getIdToken(),Ie=yield Jn(U,function Rr(U,D){return Vr.apply(this,arguments)}(A,{idToken:K}));nt(null==Ie?void 0:Ie.users.length,A,"internal-error");const ze=Ie.users[0];U._notifyReloadListener(ze);const en=null!==(D=ze.providerUserInfo)&&void 0!==D&&D.length?function ui(U){return U.map(D=>{var{providerId:A}=D,K=(0,Oe._T)(D,["providerId"]);return{providerId:A,uid:K.rawId||"",displayName:K.displayName||null,email:K.email||null,phoneNumber:K.phoneNumber||null,photoURL:K.photoUrl||null}})}(ze.providerUserInfo):[],Dn=function dr(U,D){return[...U.filter(K=>!D.some(Ie=>Ie.providerId===K.providerId)),...D]}(U.providerData,en),bi=!!U.isAnonymous&&!(U.email&&ze.passwordHash||null!=Dn&&Dn.length),ri={uid:ze.localId,displayName:ze.displayName||null,photoURL:ze.photoUrl||null,email:ze.email||null,emailVerified:ze.emailVerified||!1,phoneNumber:ze.phoneNumber||null,tenantId:ze.tenantId||null,providerData:Dn,metadata:new si(ze.createdAt,ze.lastLoginAt),isAnonymous:bi};Object.assign(U,ri)}),fi.apply(this,arguments)}function br(){return(br=(0,h.Z)(function*(U){const D=(0,_.m9)(U);yield Kr(D),yield D.auth._persistUserIfCurrent(D),D.auth._notifyListenersIfCurrent(D)})).apply(this,arguments)}function Cn(){return(Cn=(0,h.Z)(function*(U,D){const A=yield Nn(U,{},(0,h.Z)(function*(){const K=(0,_.xO)({grant_type:"refresh_token",refresh_token:D}).slice(1),{tokenApiHost:Ie,apiKey:ze}=U.config,en=yn(U,Ie,"/v1/token",`key=${ze}`),Dn=yield U._getAdditionalHeaders();return Dn["Content-Type"]="application/x-www-form-urlencoded",et.fetch()(en,{method:"POST",headers:Dn,body:K})}));return{accessToken:A.access_token,expiresIn:A.expires_in,refreshToken:A.refresh_token}})).apply(this,arguments)}class ke{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(D){nt(D.idToken,"internal-error"),nt(typeof D.idToken<"u","internal-error"),nt(typeof D.refreshToken<"u","internal-error");const A="expiresIn"in D&&typeof D.expiresIn<"u"?Number(D.expiresIn):function pi(U){const D=vi(U);return nt(D,"internal-error"),nt(typeof D.exp<"u","internal-error"),nt(typeof D.iat<"u","internal-error"),Number(D.exp)-Number(D.iat)}(D.idToken);this.updateTokensAndExpiration(D.idToken,D.refreshToken,A)}getToken(D,A=!1){var K=this;return(0,h.Z)(function*(){return nt(!K.accessToken||K.refreshToken,D,"user-token-expired"),A||!K.accessToken||K.isExpired?K.refreshToken?(yield K.refresh(D,K.refreshToken),K.accessToken):null:K.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(D,A){var K=this;return(0,h.Z)(function*(){const{accessToken:Ie,refreshToken:ze,expiresIn:en}=yield function Er(U,D){return Cn.apply(this,arguments)}(D,A);K.updateTokensAndExpiration(Ie,ze,Number(en))})()}updateTokensAndExpiration(D,A,K){this.refreshToken=A||null,this.accessToken=D||null,this.expirationTime=Date.now()+1e3*K}static fromJSON(D,A){const{refreshToken:K,accessToken:Ie,expirationTime:ze}=A,en=new ke;return K&&(nt("string"==typeof K,"internal-error",{appName:D}),en.refreshToken=K),Ie&&(nt("string"==typeof Ie,"internal-error",{appName:D}),en.accessToken=Ie),ze&&(nt("number"==typeof ze,"internal-error",{appName:D}),en.expirationTime=ze),en}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(D){this.accessToken=D.accessToken,this.refreshToken=D.refreshToken,this.expirationTime=D.expirationTime}_clone(){return Object.assign(new ke,this.toJSON())}_performRefresh(){return Ht("not implemented")}}function ut(U,D){nt("string"==typeof U||typeof U>"u","internal-error",{appName:D})}class jt{constructor(D){var{uid:A,auth:K,stsTokenManager:Ie}=D,ze=(0,Oe._T)(D,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ci(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=A,this.auth=K,this.stsTokenManager=Ie,this.accessToken=Ie.accessToken,this.displayName=ze.displayName||null,this.email=ze.email||null,this.emailVerified=ze.emailVerified||!1,this.phoneNumber=ze.phoneNumber||null,this.photoURL=ze.photoURL||null,this.isAnonymous=ze.isAnonymous||!1,this.tenantId=ze.tenantId||null,this.providerData=ze.providerData?[...ze.providerData]:[],this.metadata=new si(ze.createdAt||void 0,ze.lastLoginAt||void 0)}getIdToken(D){var A=this;return(0,h.Z)(function*(){const K=yield Jn(A,A.stsTokenManager.getToken(A.auth,D));return nt(K,A.auth,"internal-error"),A.accessToken!==K&&(A.accessToken=K,yield A.auth._persistUserIfCurrent(A),A.auth._notifyListenersIfCurrent(A)),K})()}getIdTokenResult(D){return function ni(U){return jr.apply(this,arguments)}(this,D)}reload(){return function gi(U){return br.apply(this,arguments)}(this)}_assign(D){this!==D&&(nt(this.uid===D.uid,this.auth,"internal-error"),this.displayName=D.displayName,this.photoURL=D.photoURL,this.email=D.email,this.emailVerified=D.emailVerified,this.phoneNumber=D.phoneNumber,this.isAnonymous=D.isAnonymous,this.tenantId=D.tenantId,this.providerData=D.providerData.map(A=>Object.assign({},A)),this.metadata._copy(D.metadata),this.stsTokenManager._assign(D.stsTokenManager))}_clone(D){const A=new jt(Object.assign(Object.assign({},this),{auth:D,stsTokenManager:this.stsTokenManager._clone()}));return A.metadata._copy(this.metadata),A}_onReload(D){nt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=D,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(D){this.reloadListener?this.reloadListener(D):this.reloadUserInfo=D}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(D,A=!1){var K=this;return(0,h.Z)(function*(){let Ie=!1;D.idToken&&D.idToken!==K.stsTokenManager.accessToken&&(K.stsTokenManager.updateFromServerResponse(D),Ie=!0),A&&(yield Kr(K)),yield K.auth._persistUserIfCurrent(K),Ie&&K.auth._notifyListenersIfCurrent(K)})()}delete(){var D=this;return(0,h.Z)(function*(){const A=yield D.getIdToken();return yield Jn(D,function lr(U,D){return un.apply(this,arguments)}(D.auth,{idToken:A})),D.stsTokenManager.clearRefreshToken(),D.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(D=>Object.assign({},D)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(D,A){var K,Ie,ze,en,Dn,ur,Nr,bi;const ri=null!==(K=A.displayName)&&void 0!==K?K:void 0,qi=null!==(Ie=A.email)&&void 0!==Ie?Ie:void 0,Hi=null!==(ze=A.phoneNumber)&&void 0!==ze?ze:void 0,Ll=null!==(en=A.photoURL)&&void 0!==en?en:void 0,As=null!==(Dn=A.tenantId)&&void 0!==Dn?Dn:void 0,hu=null!==(ur=A._redirectEventId)&&void 0!==ur?ur:void 0,$a=null!==(Nr=A.createdAt)&&void 0!==Nr?Nr:void 0,Bc=null!==(bi=A.lastLoginAt)&&void 0!==bi?bi:void 0,{uid:cc,emailVerified:zs,isAnonymous:Bi,providerData:Pa,stsTokenManager:Wu}=A;nt(cc&&Wu,D,"internal-error");const Uh=ke.fromJSON(this.name,Wu);nt("string"==typeof cc,D,"internal-error"),ut(ri,D.name),ut(qi,D.name),nt("boolean"==typeof zs,D,"internal-error"),nt("boolean"==typeof Bi,D,"internal-error"),ut(Hi,D.name),ut(Ll,D.name),ut(As,D.name),ut(hu,D.name),ut($a,D.name),ut(Bc,D.name);const Va=new jt({uid:cc,auth:D,email:qi,emailVerified:zs,displayName:ri,isAnonymous:Bi,photoURL:Ll,phoneNumber:Hi,tenantId:As,stsTokenManager:Uh,createdAt:$a,lastLoginAt:Bc});return Pa&&Array.isArray(Pa)&&(Va.providerData=Pa.map(ts=>Object.assign({},ts))),hu&&(Va._redirectEventId=hu),Va}static _fromIdTokenResponse(D,A,K=!1){return(0,h.Z)(function*(){const Ie=new ke;Ie.updateFromServerResponse(A);const ze=new jt({uid:A.localId,auth:D,stsTokenManager:Ie,isAnonymous:K});return yield Kr(ze),ze})()}}const bn=new Map;function $n(U){Ct(U instanceof Function,"Expected a class definition");let D=bn.get(U);return D?(Ct(D instanceof U,"Instance stored in cache mismatched with class"),D):(D=new U,bn.set(U,D),D)}const xr=(()=>{class U{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,h.Z)(function*(){return!0})()}_set(A,K){var Ie=this;return(0,h.Z)(function*(){Ie.storage[A]=K})()}_get(A){var K=this;return(0,h.Z)(function*(){const Ie=K.storage[A];return void 0===Ie?null:Ie})()}_remove(A){var K=this;return(0,h.Z)(function*(){delete K.storage[A]})()}_addListener(A,K){}_removeListener(A,K){}}return U.type="NONE",U})();function Ir(U,D,A){return`firebase:${U}:${D}:${A}`}class gt{constructor(D,A,K){this.persistence=D,this.auth=A,this.userKey=K;const{config:Ie,name:ze}=this.auth;this.fullUserKey=Ir(this.userKey,Ie.apiKey,ze),this.fullPersistenceKey=Ir("persistence",Ie.apiKey,ze),this.boundEventHandler=A._onStorageEvent.bind(A),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(D){return this.persistence._set(this.fullUserKey,D.toJSON())}getCurrentUser(){var D=this;return(0,h.Z)(function*(){const A=yield D.persistence._get(D.fullUserKey);return A?jt._fromJSON(D.auth,A):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(D){var A=this;return(0,h.Z)(function*(){if(A.persistence===D)return;const K=yield A.getCurrentUser();return yield A.removeCurrentUser(),A.persistence=D,K?A.setCurrentUser(K):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(D,A,K="authUser"){return(0,h.Z)(function*(){if(!A.length)return new gt($n(xr),D,K);const Ie=(yield Promise.all(A.map(function(){var Nr=(0,h.Z)(function*(bi){if(yield bi._isAvailable())return bi});return function(bi){return Nr.apply(this,arguments)}}()))).filter(Nr=>Nr);let ze=Ie[0]||$n(xr);const en=Ir(K,D.config.apiKey,D.name);let Dn=null;for(const Nr of A)try{const bi=yield Nr._get(en);if(bi){const ri=jt._fromJSON(D,bi);Nr!==ze&&(Dn=ri),ze=Nr;break}}catch{}const ur=Ie.filter(Nr=>Nr._shouldAllowMigration);return ze._shouldAllowMigration&&ur.length?(ze=ur[0],Dn&&(yield ze._set(en,Dn.toJSON())),yield Promise.all(A.map(function(){var Nr=(0,h.Z)(function*(bi){if(bi!==ze)try{yield bi._remove(en)}catch{}});return function(bi){return Nr.apply(this,arguments)}}())),new gt(ze,D,K)):new gt(ze,D,K)})()}}function Ae(U){const D=U.toLowerCase();if(D.includes("opera/")||D.includes("opr/")||D.includes("opios/"))return"Opera";if(Ke(D))return"IEMobile";if(D.includes("msie")||D.includes("trident/"))return"IE";if(D.includes("edge/"))return"Edge";if(se(D))return"Firefox";if(D.includes("silk/"))return"Silk";if(tt(D))return"Blackberry";if($t(D))return"Webos";if(te(D))return"Safari";if((D.includes("chrome/")||oe(D))&&!D.includes("edge/"))return"Chrome";if(At(D))return"Android";{const K=U.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==K?void 0:K.length))return K[1]}return"Other"}function se(U=(0,_.z$)()){return/firefox\//i.test(U)}function te(U=(0,_.z$)()){const D=U.toLowerCase();return D.includes("safari/")&&!D.includes("chrome/")&&!D.includes("crios/")&&!D.includes("android")}function oe(U=(0,_.z$)()){return/crios\//i.test(U)}function Ke(U=(0,_.z$)()){return/iemobile/i.test(U)}function At(U=(0,_.z$)()){return/android/i.test(U)}function tt(U=(0,_.z$)()){return/blackberry/i.test(U)}function $t(U=(0,_.z$)()){return/webos/i.test(U)}function Zt(U=(0,_.z$)()){return/iphone|ipad|ipod/i.test(U)||/macintosh/i.test(U)&&/mobile/i.test(U)}function In(U=(0,_.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(U)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(U)}function rn(U=(0,_.z$)()){return Zt(U)||At(U)||$t(U)||tt(U)||/windows phone/i.test(U)||Ke(U)}function Rn(U,D=[]){let A;switch(U){case"Browser":A=Ae((0,_.z$)());break;case"Worker":A=`${Ae((0,_.z$)())}-${U}`;break;default:A=U}const K=D.length?D.join(","):"FirebaseCore-web";return`${A}/JsCore/${_e.SDK_VERSION}/${K}`}function Gt(){return(Gt=(0,h.Z)(function*(U){return(yield Jt(U,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function hn(U,D){return Gn.apply(this,arguments)}function Gn(){return(Gn=(0,h.Z)(function*(U,D){return Jt(U,"GET","/v2/recaptchaConfig",Pt(U,D))})).apply(this,arguments)}function hr(U){return void 0!==U&&void 0!==U.getResponse}function Or(U){return void 0!==U&&void 0!==U.enterprise}class Mr{constructor(D){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===D.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=D.recaptchaKey.split("/")[3],this.emailPasswordEnabled=D.recaptchaEnforcementState.some(A=>"EMAIL_PASSWORD_PROVIDER"===A.provider&&"OFF"!==A.enforcementState)}}function zr(U){return new Promise((D,A)=>{const K=document.createElement("script");K.setAttribute("src",U),K.onload=D,K.onerror=Ie=>{const ze=It("internal-error");ze.customData=Ie,A(ze)},K.type="text/javascript",K.charset="UTF-8",function Si(){var U,D;return null!==(D=null===(U=document.getElementsByTagName("head"))||void 0===U?void 0:U[0])&&void 0!==D?D:document}().appendChild(K)})}function kr(U){return`__${U}${Math.floor(1e6*Math.random())}`}class Xs{constructor(D){this.type="recaptcha-enterprise",this.auth=Ri(D)}verify(D="verify",A=!1){var K=this;return(0,h.Z)(function*(){function ze(){return ze=(0,h.Z)(function*(Dn){if(!A){if(null==Dn.tenantId&&null!=Dn._agentRecaptchaConfig)return Dn._agentRecaptchaConfig.siteKey;if(null!=Dn.tenantId&&void 0!==Dn._tenantRecaptchaConfigs[Dn.tenantId])return Dn._tenantRecaptchaConfigs[Dn.tenantId].siteKey}return new Promise(function(){var ur=(0,h.Z)(function*(Nr,bi){hn(Dn,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(ri=>{if(void 0!==ri.recaptchaKey){const qi=new Mr(ri);return null==Dn.tenantId?Dn._agentRecaptchaConfig=qi:Dn._tenantRecaptchaConfigs[Dn.tenantId]=qi,Nr(qi.siteKey)}bi(new Error("recaptcha Enterprise site key undefined"))}).catch(ri=>{bi(ri)})});return function(Nr,bi){return ur.apply(this,arguments)}}())}),ze.apply(this,arguments)}function en(Dn,ur,Nr){const bi=window.grecaptcha;Or(bi)?bi.enterprise.ready(()=>{bi.enterprise.execute(Dn,{action:D}).then(ri=>{ur(ri)}).catch(()=>{ur("NO_RECAPTCHA")})}):Nr(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((Dn,ur)=>{(function Ie(Dn){return ze.apply(this,arguments)})(K.auth).then(Nr=>{if(!A&&Or(window.grecaptcha))en(Nr,Dn,ur);else{if(typeof window>"u")return void ur(new Error("RecaptchaVerifier is only supported in browser"));zr("https://www.google.com/recaptcha/enterprise.js?render="+Nr).then(()=>{en(Nr,Dn,ur)}).catch(bi=>{ur(bi)})}}).catch(Nr=>{ur(Nr)})})})()}}function Vi(U,D,A){return zi.apply(this,arguments)}function zi(){return(zi=(0,h.Z)(function*(U,D,A,K=!1){const Ie=new Xs(U);let ze;try{ze=yield Ie.verify(A)}catch{ze=yield Ie.verify(A,!0)}const en=Object.assign({},D);return Object.assign(en,K?{captchaResp:ze}:{captchaResponse:ze}),Object.assign(en,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(en,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),en})).apply(this,arguments)}class Co{constructor(D){this.auth=D,this.queue=[]}pushCallback(D,A){const K=ze=>new Promise((en,Dn)=>{try{en(D(ze))}catch(ur){Dn(ur)}});K.onAbort=A,this.queue.push(K);const Ie=this.queue.length-1;return()=>{this.queue[Ie]=()=>Promise.resolve()}}runMiddleware(D){var A=this;return(0,h.Z)(function*(){if(A.auth.currentUser===D)return;const K=[];try{for(const Ie of A.queue)yield Ie(D),Ie.onAbort&&K.push(Ie.onAbort)}catch(Ie){K.reverse();for(const ze of K)try{ze()}catch{}throw A.auth._errorFactory.create("login-blocked",{originalMessage:null==Ie?void 0:Ie.message})}})()}}class Xi{constructor(D,A,K,Ie){this.app=D,this.heartbeatServiceProvider=A,this.appCheckServiceProvider=K,this.config=Ie,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new $s(this),this.idTokenSubscription=new $s(this),this.beforeStateQueue=new Co(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Vt,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=D.name,this.clientVersion=Ie.sdkClientVersion}_initializeWithPersistence(D,A){var K=this;return A&&(this._popupRedirectResolver=$n(A)),this._initializationPromise=this.queue((0,h.Z)(function*(){var Ie,ze;if(!K._deleted&&(K.persistenceManager=yield gt.create(K,D),!K._deleted)){if(null!==(Ie=K._popupRedirectResolver)&&void 0!==Ie&&Ie._shouldInitProactively)try{yield K._popupRedirectResolver._initialize(K)}catch{}yield K.initializeCurrentUser(A),K.lastNotifiedUid=(null===(ze=K.currentUser)||void 0===ze?void 0:ze.uid)||null,!K._deleted&&(K._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var D=this;return(0,h.Z)(function*(){if(D._deleted)return;const A=yield D.assertedPersistence.getCurrentUser();if(D.currentUser||A){if(D.currentUser&&A&&D.currentUser.uid===A.uid)return D._currentUser._assign(A),void(yield D.currentUser.getIdToken());yield D._updateCurrentUser(A,!0)}})()}initializeCurrentUser(D){var A=this;return(0,h.Z)(function*(){var K;const Ie=yield A.assertedPersistence.getCurrentUser();let ze=Ie,en=!1;if(D&&A.config.authDomain){yield A.getOrInitRedirectPersistenceManager();const Dn=null===(K=A.redirectUser)||void 0===K?void 0:K._redirectEventId,ur=null==ze?void 0:ze._redirectEventId,Nr=yield A.tryRedirectSignIn(D);(!Dn||Dn===ur)&&null!=Nr&&Nr.user&&(ze=Nr.user,en=!0)}if(!ze)return A.directlySetCurrentUser(null);if(!ze._redirectEventId){if(en)try{yield A.beforeStateQueue.runMiddleware(ze)}catch(Dn){ze=Ie,A._popupRedirectResolver._overrideRedirectResult(A,()=>Promise.reject(Dn))}return ze?A.reloadAndSetCurrentUserOrClear(ze):A.directlySetCurrentUser(null)}return nt(A._popupRedirectResolver,A,"argument-error"),yield A.getOrInitRedirectPersistenceManager(),A.redirectUser&&A.redirectUser._redirectEventId===ze._redirectEventId?A.directlySetCurrentUser(ze):A.reloadAndSetCurrentUserOrClear(ze)})()}tryRedirectSignIn(D){var A=this;return(0,h.Z)(function*(){let K=null;try{K=yield A._popupRedirectResolver._completeRedirectFn(A,D,!0)}catch{yield A._setRedirectUser(null)}return K})()}reloadAndSetCurrentUserOrClear(D){var A=this;return(0,h.Z)(function*(){try{yield Kr(D)}catch(K){if("auth/network-request-failed"!==(null==K?void 0:K.code))return A.directlySetCurrentUser(null)}return A.directlySetCurrentUser(D)})()}useDeviceLanguage(){this.languageCode=function lt(){if(typeof navigator>"u")return null;const U=navigator;return U.languages&&U.languages[0]||U.language||null}()}_delete(){var D=this;return(0,h.Z)(function*(){D._deleted=!0})()}updateCurrentUser(D){var A=this;return(0,h.Z)(function*(){const K=D?(0,_.m9)(D):null;return K&&nt(K.auth.config.apiKey===A.config.apiKey,A,"invalid-user-token"),A._updateCurrentUser(K&&K._clone(A))})()}_updateCurrentUser(D,A=!1){var K=this;return(0,h.Z)(function*(){if(!K._deleted)return D&&nt(K.tenantId===D.tenantId,K,"tenant-id-mismatch"),A||(yield K.beforeStateQueue.runMiddleware(D)),K.queue((0,h.Z)(function*(){yield K.directlySetCurrentUser(D),K.notifyAuthListeners()}))})()}signOut(){var D=this;return(0,h.Z)(function*(){return yield D.beforeStateQueue.runMiddleware(null),(D.redirectPersistenceManager||D._popupRedirectResolver)&&(yield D._setRedirectUser(null)),D._updateCurrentUser(null,!0)})()}setPersistence(D){var A=this;return this.queue((0,h.Z)(function*(){yield A.assertedPersistence.setPersistence($n(D))}))}initializeRecaptchaConfig(){var D=this;return(0,h.Z)(function*(){const A=yield hn(D,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),K=new Mr(A);null==D.tenantId?D._agentRecaptchaConfig=K:D._tenantRecaptchaConfigs[D.tenantId]=K,K.emailPasswordEnabled&&new Xs(D).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(D){this._errorFactory=new _.LL("auth","Firebase",D())}onAuthStateChanged(D,A,K){return this.registerStateListener(this.authStateSubscription,D,A,K)}beforeAuthStateChanged(D,A){return this.beforeStateQueue.pushCallback(D,A)}onIdTokenChanged(D,A,K){return this.registerStateListener(this.idTokenSubscription,D,A,K)}toJSON(){var D;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(D=this._currentUser)||void 0===D?void 0:D.toJSON()}}_setRedirectUser(D,A){var K=this;return(0,h.Z)(function*(){const Ie=yield K.getOrInitRedirectPersistenceManager(A);return null===D?Ie.removeCurrentUser():Ie.setCurrentUser(D)})()}getOrInitRedirectPersistenceManager(D){var A=this;return(0,h.Z)(function*(){if(!A.redirectPersistenceManager){const K=D&&$n(D)||A._popupRedirectResolver;nt(K,A,"argument-error"),A.redirectPersistenceManager=yield gt.create(A,[$n(K._redirectPersistence)],"redirectUser"),A.redirectUser=yield A.redirectPersistenceManager.getCurrentUser()}return A.redirectPersistenceManager})()}_redirectUserForId(D){var A=this;return(0,h.Z)(function*(){var K,Ie;return A._isInitialized&&(yield A.queue((0,h.Z)(function*(){}))),(null===(K=A._currentUser)||void 0===K?void 0:K._redirectEventId)===D?A._currentUser:(null===(Ie=A.redirectUser)||void 0===Ie?void 0:Ie._redirectEventId)===D?A.redirectUser:null})()}_persistUserIfCurrent(D){var A=this;return(0,h.Z)(function*(){if(D===A.currentUser)return A.queue((0,h.Z)(function*(){return A.directlySetCurrentUser(D)}))})()}_notifyListenersIfCurrent(D){D===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var D,A;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const K=null!==(A=null===(D=this.currentUser)||void 0===D?void 0:D.uid)&&void 0!==A?A:null;this.lastNotifiedUid!==K&&(this.lastNotifiedUid=K,this.authStateSubscription.next(this.currentUser))}registerStateListener(D,A,K,Ie){if(this._deleted)return()=>{};const ze="function"==typeof A?A:A.next.bind(A),en=this._isInitialized?Promise.resolve():this._initializationPromise;return nt(en,this,"internal-error"),en.then(()=>ze(this.currentUser)),"function"==typeof A?D.addObserver(A,K,Ie):D.addObserver(A)}directlySetCurrentUser(D){var A=this;return(0,h.Z)(function*(){A.currentUser&&A.currentUser!==D&&A._currentUser._stopProactiveRefresh(),D&&A.isProactiveRefreshEnabled&&D._startProactiveRefresh(),A.currentUser=D,D?yield A.assertedPersistence.setCurrentUser(D):yield A.assertedPersistence.removeCurrentUser()})()}queue(D){return this.operations=this.operations.then(D,D),this.operations}get assertedPersistence(){return nt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(D){!D||this.frameworks.includes(D)||(this.frameworks.push(D),this.frameworks.sort(),this.clientVersion=Rn(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var D=this;return(0,h.Z)(function*(){var A;const K={"X-Client-Version":D.clientVersion};D.app.options.appId&&(K["X-Firebase-gmpid"]=D.app.options.appId);const Ie=yield null===(A=D.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===A?void 0:A.getHeartbeatsHeader();Ie&&(K["X-Firebase-Client"]=Ie);const ze=yield D._getAppCheckToken();return ze&&(K["X-Firebase-AppCheck"]=ze),K})()}_getAppCheckToken(){var D=this;return(0,h.Z)(function*(){var A;const K=yield null===(A=D.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===A?void 0:A.getToken();return null!=K&&K.error&&function kt(U,...D){$e.logLevel<=Ze.in.WARN&&$e.warn(`Auth (${_e.SDK_VERSION}): ${U}`,...D)}(`Error while retrieving App Check token: ${K.error}`),null==K?void 0:K.token})()}}function Ri(U){return(0,_.m9)(U)}class $s{constructor(D){this.auth=D,this.observer=null,this.addObserver=(0,_.ne)(A=>this.observer=A)}get next(){return nt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Us(U,D,A){const K=Ri(U);nt(K._canInitEmulator,K,"emulator-config-failed"),nt(/^https?:\/\//.test(D),K,"invalid-emulator-scheme");const Ie=!(null==A||!A.disableWarnings),ze=ie(D),{host:en,port:Dn}=function fe(U){const D=ie(U),A=/(\/\/)?([^?#/]+)/.exec(U.substr(D.length));if(!A)return{host:"",port:null};const K=A[2].split("@").pop()||"",Ie=/^(\[[^\]]+\])(:|$)/.exec(K);if(Ie){const ze=Ie[1];return{host:ze,port:Re(K.substr(ze.length+1))}}{const[ze,en]=K.split(":");return{host:ze,port:Re(en)}}}(D);K.config.emulator={url:`${ze}//${en}${null===Dn?"":`:${Dn}`}/`},K.settings.appVerificationDisabledForTesting=!0,K.emulatorConfig=Object.freeze({host:en,port:Dn,protocol:ze.replace(":",""),options:Object.freeze({disableWarnings:Ie})}),Ie||function Ee(){function U(){const D=document.createElement("p"),A=D.style;D.innerText="Running in emulator mode. Do not use with production credentials.",A.position="fixed",A.width="100%",A.backgroundColor="#ffffff",A.border=".1em solid #000000",A.color="#b50000",A.bottom="0px",A.left="0px",A.margin="0px",A.zIndex="10000",A.textAlign="center",D.classList.add("firebase-emulator-warning"),document.body.appendChild(D)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",U):U())}()}function ie(U){const D=U.indexOf(":");return D<0?"":U.substr(0,D+1)}function Re(U){if(!U)return null;const D=Number(U);return isNaN(D)?null:D}class re{constructor(D,A){this.providerId=D,this.signInMethod=A}toJSON(){return Ht("not implemented")}_getIdTokenResponse(D){return Ht("not implemented")}_linkToIdToken(D,A){return Ht("not implemented")}_getReauthenticationResolver(D){return Ht("not implemented")}}function ye(U,D){return st.apply(this,arguments)}function st(){return(st=(0,h.Z)(function*(U,D){return Jt(U,"POST","/v1/accounts:resetPassword",Pt(U,D))})).apply(this,arguments)}function bt(U,D){return Lt.apply(this,arguments)}function Lt(){return(Lt=(0,h.Z)(function*(U,D){return Jt(U,"POST","/v1/accounts:update",D)})).apply(this,arguments)}function zn(){return(zn=(0,h.Z)(function*(U,D){return Jt(U,"POST","/v1/accounts:update",Pt(U,D))})).apply(this,arguments)}function Vn(U,D){return wr.apply(this,arguments)}function wr(){return(wr=(0,h.Z)(function*(U,D){return Et(U,"POST","/v1/accounts:signInWithPassword",Pt(U,D))})).apply(this,arguments)}function Qr(U,D){return is.apply(this,arguments)}function is(){return(is=(0,h.Z)(function*(U,D){return Jt(U,"POST","/v1/accounts:sendOobCode",Pt(U,D))})).apply(this,arguments)}function Ws(){return(Ws=(0,h.Z)(function*(U,D){return Qr(U,D)})).apply(this,arguments)}function Ci(U,D){return tr.apply(this,arguments)}function tr(){return(tr=(0,h.Z)(function*(U,D){return Qr(U,D)})).apply(this,arguments)}function Lr(U,D){return Ai.apply(this,arguments)}function Ai(){return(Ai=(0,h.Z)(function*(U,D){return Qr(U,D)})).apply(this,arguments)}function Do(){return(Do=(0,h.Z)(function*(U,D){return Qr(U,D)})).apply(this,arguments)}function oo(){return(oo=(0,h.Z)(function*(U,D){return Et(U,"POST","/v1/accounts:signInWithEmailLink",Pt(U,D))})).apply(this,arguments)}function ws(){return(ws=(0,h.Z)(function*(U,D){return Et(U,"POST","/v1/accounts:signInWithEmailLink",Pt(U,D))})).apply(this,arguments)}class os extends re{constructor(D,A,K,Ie=null){super("password",K),this._email=D,this._password=A,this._tenantId=Ie}static _fromEmailAndPassword(D,A){return new os(D,A,"password")}static _fromEmailAndCode(D,A,K=null){return new os(D,A,"emailLink",K)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(D){const A="string"==typeof D?JSON.parse(D):D;if(null!=A&&A.email&&null!=A&&A.password){if("password"===A.signInMethod)return this._fromEmailAndPassword(A.email,A.password);if("emailLink"===A.signInMethod)return this._fromEmailAndCode(A.email,A.password,A.tenantId)}return null}_getIdTokenResponse(D){var A=this;return(0,h.Z)(function*(){var K;switch(A.signInMethod){case"password":const Ie={returnSecureToken:!0,email:A._email,password:A._password,clientType:"CLIENT_TYPE_WEB"};if(null!==(K=D._getRecaptchaConfig())&&void 0!==K&&K.emailPasswordEnabled){const ze=yield Vi(D,Ie,"signInWithPassword");return Vn(D,ze)}return Vn(D,Ie).catch(function(){var ze=(0,h.Z)(function*(en){if("auth/missing-recaptcha-token"===en.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const Dn=yield Vi(D,Ie,"signInWithPassword");return Vn(D,Dn)}return Promise.reject(en)});return function(en){return ze.apply(this,arguments)}}());case"emailLink":return function ss(U,D){return oo.apply(this,arguments)}(D,{email:A._email,oobCode:A._password});default:dt(D,"internal-error")}})()}_linkToIdToken(D,A){var K=this;return(0,h.Z)(function*(){switch(K.signInMethod){case"password":return bt(D,{idToken:A,returnSecureToken:!0,email:K._email,password:K._password});case"emailLink":return function ki(U,D){return ws.apply(this,arguments)}(D,{idToken:A,email:K._email,oobCode:K._password});default:dt(D,"internal-error")}})()}_getReauthenticationResolver(D){return this._getIdTokenResponse(D)}}function Br(U,D){return ao.apply(this,arguments)}function ao(){return(ao=(0,h.Z)(function*(U,D){return Et(U,"POST","/v1/accounts:signInWithIdp",Pt(U,D))})).apply(this,arguments)}class Di extends re{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(D){const A=new Di(D.providerId,D.signInMethod);return D.idToken||D.accessToken?(D.idToken&&(A.idToken=D.idToken),D.accessToken&&(A.accessToken=D.accessToken),D.nonce&&!D.pendingToken&&(A.nonce=D.nonce),D.pendingToken&&(A.pendingToken=D.pendingToken)):D.oauthToken&&D.oauthTokenSecret?(A.accessToken=D.oauthToken,A.secret=D.oauthTokenSecret):dt("argument-error"),A}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(D){const A="string"==typeof D?JSON.parse(D):D,{providerId:K,signInMethod:Ie}=A,ze=(0,Oe._T)(A,["providerId","signInMethod"]);if(!K||!Ie)return null;const en=new Di(K,Ie);return en.idToken=ze.idToken||void 0,en.accessToken=ze.accessToken||void 0,en.secret=ze.secret,en.nonce=ze.nonce,en.pendingToken=ze.pendingToken||null,en}_getIdTokenResponse(D){return Br(D,this.buildRequest())}_linkToIdToken(D,A){const K=this.buildRequest();return K.idToken=A,Br(D,K)}_getReauthenticationResolver(D){const A=this.buildRequest();return A.autoCreate=!1,Br(D,A)}buildRequest(){const D={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)D.pendingToken=this.pendingToken;else{const A={};this.idToken&&(A.id_token=this.idToken),this.accessToken&&(A.access_token=this.accessToken),this.secret&&(A.oauth_token_secret=this.secret),A.providerId=this.providerId,this.nonce&&!this.pendingToken&&(A.nonce=this.nonce),D.postBody=(0,_.xO)(A)}return D}}function Gs(){return(Gs=(0,h.Z)(function*(U,D){return Jt(U,"POST","/v1/accounts:sendVerificationCode",Pt(U,D))})).apply(this,arguments)}function fo(){return(fo=(0,h.Z)(function*(U,D){return Et(U,"POST","/v1/accounts:signInWithPhoneNumber",Pt(U,D))})).apply(this,arguments)}function $o(){return($o=(0,h.Z)(function*(U,D){const A=yield Et(U,"POST","/v1/accounts:signInWithPhoneNumber",Pt(U,D));if(A.temporaryProof)throw ar(U,"account-exists-with-different-credential",A);return A})).apply(this,arguments)}const po={USER_NOT_FOUND:"user-not-found"};function ia(){return(ia=(0,h.Z)(function*(U,D){return Et(U,"POST","/v1/accounts:signInWithPhoneNumber",Pt(U,Object.assign(Object.assign({},D),{operation:"REAUTH"})),po)})).apply(this,arguments)}class ps extends re{constructor(D){super("phone","phone"),this.params=D}static _fromVerification(D,A){return new ps({verificationId:D,verificationCode:A})}static _fromTokenResponse(D,A){return new ps({phoneNumber:D,temporaryProof:A})}_getIdTokenResponse(D){return function no(U,D){return fo.apply(this,arguments)}(D,this._makeVerificationRequest())}_linkToIdToken(D,A){return function ko(U,D){return $o.apply(this,arguments)}(D,Object.assign({idToken:A},this._makeVerificationRequest()))}_getReauthenticationResolver(D){return function lo(U,D){return ia.apply(this,arguments)}(D,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:D,phoneNumber:A,verificationId:K,verificationCode:Ie}=this.params;return D&&A?{temporaryProof:D,phoneNumber:A}:{sessionInfo:K,code:Ie}}toJSON(){const D={providerId:this.providerId};return this.params.phoneNumber&&(D.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(D.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(D.verificationCode=this.params.verificationCode),this.params.verificationId&&(D.verificationId=this.params.verificationId),D}static fromJSON(D){"string"==typeof D&&(D=JSON.parse(D));const{verificationId:A,verificationCode:K,phoneNumber:Ie,temporaryProof:ze}=D;return K||A||Ie||ze?new ps({verificationId:A,verificationCode:K,phoneNumber:Ie,temporaryProof:ze}):null}}class Js{constructor(D){var A,K,Ie,ze,en,Dn;const ur=(0,_.zd)((0,_.pd)(D)),Nr=null!==(A=ur.apiKey)&&void 0!==A?A:null,bi=null!==(K=ur.oobCode)&&void 0!==K?K:null,ri=function Ei(U){switch(U){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(Ie=ur.mode)&&void 0!==Ie?Ie:null);nt(Nr&&bi&&ri,"argument-error"),this.apiKey=Nr,this.operation=ri,this.code=bi,this.continueUrl=null!==(ze=ur.continueUrl)&&void 0!==ze?ze:null,this.languageCode=null!==(en=ur.languageCode)&&void 0!==en?en:null,this.tenantId=null!==(Dn=ur.tenantId)&&void 0!==Dn?Dn:null}static parseLink(D){const A=function Ea(U){const D=(0,_.zd)((0,_.pd)(U)).link,A=D?(0,_.zd)((0,_.pd)(D)).deep_link_id:null,K=(0,_.zd)((0,_.pd)(U)).deep_link_id;return(K?(0,_.zd)((0,_.pd)(K)).link:null)||K||A||D||U}(D);try{return new Js(A)}catch{return null}}}let eo=(()=>{class U{constructor(){this.providerId=U.PROVIDER_ID}static credential(A,K){return os._fromEmailAndPassword(A,K)}static credentialWithLink(A,K){const Ie=Js.parseLink(K);return nt(Ie,"argument-error"),os._fromEmailAndCode(A,Ie.code,Ie.tenantId)}}return U.PROVIDER_ID="password",U.EMAIL_PASSWORD_SIGN_IN_METHOD="password",U.EMAIL_LINK_SIGN_IN_METHOD="emailLink",U})();class So{constructor(D){this.providerId=D,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(D){this.defaultLanguageCode=D}setCustomParameters(D){return this.customParameters=D,this}getCustomParameters(){return this.customParameters}}class go extends So{constructor(){super(...arguments),this.scopes=[]}addScope(D){return this.scopes.includes(D)||this.scopes.push(D),this}getScopes(){return[...this.scopes]}}class No extends go{static credentialFromJSON(D){const A="string"==typeof D?JSON.parse(D):D;return nt("providerId"in A&&"signInMethod"in A,"argument-error"),Di._fromParams(A)}credential(D){return this._credential(Object.assign(Object.assign({},D),{nonce:D.rawNonce}))}_credential(D){return nt(D.idToken||D.accessToken,"argument-error"),Di._fromParams(Object.assign(Object.assign({},D),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(D){return No.oauthCredentialFromTaggedObject(D)}static credentialFromError(D){return No.oauthCredentialFromTaggedObject(D.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:D}){if(!D)return null;const{oauthIdToken:A,oauthAccessToken:K,oauthTokenSecret:Ie,pendingToken:ze,nonce:en,providerId:Dn}=D;if(!K&&!Ie&&!A&&!ze||!Dn)return null;try{return new No(Dn)._credential({idToken:A,accessToken:K,nonce:en,pendingToken:ze})}catch{return null}}}let ms=(()=>{class U extends go{constructor(){super("facebook.com")}static credential(A){return Di._fromParams({providerId:U.PROVIDER_ID,signInMethod:U.FACEBOOK_SIGN_IN_METHOD,accessToken:A})}static credentialFromResult(A){return U.credentialFromTaggedObject(A)}static credentialFromError(A){return U.credentialFromTaggedObject(A.customData||{})}static credentialFromTaggedObject({_tokenResponse:A}){if(!A||!("oauthAccessToken"in A)||!A.oauthAccessToken)return null;try{return U.credential(A.oauthAccessToken)}catch{return null}}}return U.FACEBOOK_SIGN_IN_METHOD="facebook.com",U.PROVIDER_ID="facebook.com",U})(),ma=(()=>{class U extends go{constructor(){super("google.com"),this.addScope("profile")}static credential(A,K){return Di._fromParams({providerId:U.PROVIDER_ID,signInMethod:U.GOOGLE_SIGN_IN_METHOD,idToken:A,accessToken:K})}static credentialFromResult(A){return U.credentialFromTaggedObject(A)}static credentialFromError(A){return U.credentialFromTaggedObject(A.customData||{})}static credentialFromTaggedObject({_tokenResponse:A}){if(!A)return null;const{oauthIdToken:K,oauthAccessToken:Ie}=A;if(!K&&!Ie)return null;try{return U.credential(K,Ie)}catch{return null}}}return U.GOOGLE_SIGN_IN_METHOD="google.com",U.PROVIDER_ID="google.com",U})(),Is=(()=>{class U extends go{constructor(){super("github.com")}static credential(A){return Di._fromParams({providerId:U.PROVIDER_ID,signInMethod:U.GITHUB_SIGN_IN_METHOD,accessToken:A})}static credentialFromResult(A){return U.credentialFromTaggedObject(A)}static credentialFromError(A){return U.credentialFromTaggedObject(A.customData||{})}static credentialFromTaggedObject({_tokenResponse:A}){if(!A||!("oauthAccessToken"in A)||!A.oauthAccessToken)return null;try{return U.credential(A.oauthAccessToken)}catch{return null}}}return U.GITHUB_SIGN_IN_METHOD="github.com",U.PROVIDER_ID="github.com",U})();class Jo extends re{constructor(D,A){super(D,D),this.pendingToken=A}_getIdTokenResponse(D){return Br(D,this.buildRequest())}_linkToIdToken(D,A){const K=this.buildRequest();return K.idToken=A,Br(D,K)}_getReauthenticationResolver(D){const A=this.buildRequest();return A.autoCreate=!1,Br(D,A)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(D){const A="string"==typeof D?JSON.parse(D):D,{providerId:K,signInMethod:Ie,pendingToken:ze}=A;return K&&Ie&&ze&&K===Ie?new Jo(K,ze):null}static _create(D,A){return new Jo(D,A)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class mo extends So{constructor(D){nt(D.startsWith("saml."),"argument-error"),super(D)}static credentialFromResult(D){return mo.samlCredentialFromTaggedObject(D)}static credentialFromError(D){return mo.samlCredentialFromTaggedObject(D.customData||{})}static credentialFromJSON(D){const A=Jo.fromJSON(D);return nt(A,"argument-error"),A}static samlCredentialFromTaggedObject({_tokenResponse:D}){if(!D)return null;const{pendingToken:A,providerId:K}=D;if(!A||!K)return null;try{return Jo._create(K,A)}catch{return null}}}let To=(()=>{class U extends go{constructor(){super("twitter.com")}static credential(A,K){return Di._fromParams({providerId:U.PROVIDER_ID,signInMethod:U.TWITTER_SIGN_IN_METHOD,oauthToken:A,oauthTokenSecret:K})}static credentialFromResult(A){return U.credentialFromTaggedObject(A)}static credentialFromError(A){return U.credentialFromTaggedObject(A.customData||{})}static credentialFromTaggedObject({_tokenResponse:A}){if(!A)return null;const{oauthAccessToken:K,oauthTokenSecret:Ie}=A;if(!K||!Ie)return null;try{return U.credential(K,Ie)}catch{return null}}}return U.TWITTER_SIGN_IN_METHOD="twitter.com",U.PROVIDER_ID="twitter.com",U})();function Ao(U,D){return sa.apply(this,arguments)}function sa(){return(sa=(0,h.Z)(function*(U,D){return Et(U,"POST","/v1/accounts:signUp",Pt(U,D))})).apply(this,arguments)}class to{constructor(D){this.user=D.user,this.providerId=D.providerId,this._tokenResponse=D._tokenResponse,this.operationType=D.operationType}static _fromIdTokenResponse(D,A,K,Ie=!1){return(0,h.Z)(function*(){const ze=yield jt._fromIdTokenResponse(D,K,Ie),en=ro(K);return new to({user:ze,providerId:en,_tokenResponse:K,operationType:A})})()}static _forOperation(D,A,K){return(0,h.Z)(function*(){yield D._updateTokensIfNecessary(K,!0);const Ie=ro(K);return new to({user:D,providerId:Ie,_tokenResponse:K,operationType:A})})()}}function ro(U){return U.providerId?U.providerId:"phoneNumber"in U?"phone":null}function Uo(U){return ys.apply(this,arguments)}function ys(){return(ys=(0,h.Z)(function*(U){var D;const A=Ri(U);if(yield A._initializationPromise,null!==(D=A.currentUser)&&void 0!==D&&D.isAnonymous)return new to({user:A.currentUser,providerId:null,operationType:"signIn"});const K=yield Ao(A,{returnSecureToken:!0}),Ie=yield to._fromIdTokenResponse(A,"signIn",K,!0);return yield A._updateCurrentUser(Ie.user),Ie})).apply(this,arguments)}class Ho extends _.ZR{constructor(D,A,K,Ie){var ze;super(A.code,A.message),this.operationType=K,this.user=Ie,Object.setPrototypeOf(this,Ho.prototype),this.customData={appName:D.name,tenantId:null!==(ze=D.tenantId)&&void 0!==ze?ze:void 0,_serverResponse:A.customData._serverResponse,operationType:K}}static _fromErrorAndOperation(D,A,K,Ie){return new Ho(D,A,K,Ie)}}function yo(U,D,A,K){return("reauthenticate"===D?A._getReauthenticationResolver(U):A._getIdTokenResponse(U)).catch(ze=>{throw"auth/multi-factor-auth-required"===ze.code?Ho._fromErrorAndOperation(U,ze,D,K):ze})}function ea(U){return new Set(U.map(({providerId:D})=>D).filter(D=>!!D))}function Wo(U,D){return k.apply(this,arguments)}function k(){return k=(0,h.Z)(function*(U,D){const A=(0,_.m9)(U);yield ce(!0,A,D);const{providerUserInfo:K}=yield function Yn(U,D){return an.apply(this,arguments)}(A.auth,{idToken:yield A.getIdToken(),deleteProvider:[D]}),Ie=ea(K||[]);return A.providerData=A.providerData.filter(ze=>Ie.has(ze.providerId)),Ie.has("phone")||(A.phoneNumber=null),yield A.auth._persistUserIfCurrent(A),A}),k.apply(this,arguments)}function he(U,D){return N.apply(this,arguments)}function N(){return(N=(0,h.Z)(function*(U,D,A=!1){const K=yield Jn(U,D._linkToIdToken(U.auth,yield U.getIdToken()),A);return to._forOperation(U,"link",K)})).apply(this,arguments)}function ce(U,D,A){return Xe.apply(this,arguments)}function Xe(){return(Xe=(0,h.Z)(function*(U,D,A){yield Kr(D);const Ie=!1===U?"provider-already-linked":"no-such-provider";nt(ea(D.providerData).has(A)===U,D.auth,Ie)})).apply(this,arguments)}function En(U,D){return Cr.apply(this,arguments)}function Cr(){return(Cr=(0,h.Z)(function*(U,D,A=!1){const{auth:K}=U,Ie="reauthenticate";try{const ze=yield Jn(U,yo(K,Ie,D,U),A);nt(ze.idToken,K,"internal-error");const en=vi(ze.idToken);nt(en,K,"internal-error");const{sub:Dn}=en;return nt(U.uid===Dn,K,"user-mismatch"),to._forOperation(U,Ie,ze)}catch(ze){throw"auth/user-not-found"===(null==ze?void 0:ze.code)&&dt(K,"user-mismatch"),ze}})).apply(this,arguments)}function Ur(U,D){return yi.apply(this,arguments)}function yi(){return(yi=(0,h.Z)(function*(U,D,A=!1){const K="signIn",Ie=yield yo(U,K,D),ze=yield to._fromIdTokenResponse(U,K,Ie);return A||(yield U._updateCurrentUser(ze.user)),ze})).apply(this,arguments)}function wi(U,D){return Ms.apply(this,arguments)}function Ms(){return(Ms=(0,h.Z)(function*(U,D){return Ur(Ri(U),D)})).apply(this,arguments)}function vs(U,D){return Ks.apply(this,arguments)}function Ks(){return(Ks=(0,h.Z)(function*(U,D){const A=(0,_.m9)(U);return yield ce(!1,A,D.providerId),he(A,D)})).apply(this,arguments)}function Fo(U,D){return be.apply(this,arguments)}function be(){return(be=(0,h.Z)(function*(U,D){return En((0,_.m9)(U),D)})).apply(this,arguments)}function $(){return($=(0,h.Z)(function*(U,D){return Et(U,"POST","/v1/accounts:signInWithCustomToken",Pt(U,D))})).apply(this,arguments)}function L(U,D){return T.apply(this,arguments)}function T(){return T=(0,h.Z)(function*(U,D){const A=Ri(U),K=yield function de(U,D){return $.apply(this,arguments)}(A,{token:D,returnSecureToken:!0}),Ie=yield to._fromIdTokenResponse(A,"signIn",K);return yield A._updateCurrentUser(Ie.user),Ie}),T.apply(this,arguments)}class F{constructor(D,A){this.factorId=D,this.uid=A.mfaEnrollmentId,this.enrollmentTime=new Date(A.enrolledAt).toUTCString(),this.displayName=A.displayName}static _fromServerResponse(D,A){return"phoneInfo"in A?ge._fromServerResponse(D,A):"totpInfo"in A?ft._fromServerResponse(D,A):dt(D,"internal-error")}}class ge extends F{constructor(D){super("phone",D),this.phoneNumber=D.phoneInfo}static _fromServerResponse(D,A){return new ge(A)}}class ft extends F{constructor(D){super("totp",D)}static _fromServerResponse(D,A){return new ft(A)}}function Ot(U,D,A){var K;nt((null===(K=A.url)||void 0===K?void 0:K.length)>0,U,"invalid-continue-uri"),nt(typeof A.dynamicLinkDomain>"u"||A.dynamicLinkDomain.length>0,U,"invalid-dynamic-link-domain"),D.continueUrl=A.url,D.dynamicLinkDomain=A.dynamicLinkDomain,D.canHandleCodeInApp=A.handleCodeInApp,A.iOS&&(nt(A.iOS.bundleId.length>0,U,"missing-ios-bundle-id"),D.iOSBundleId=A.iOS.bundleId),A.android&&(nt(A.android.packageName.length>0,U,"missing-android-pkg-name"),D.androidInstallApp=A.android.installApp,D.androidMinimumVersionCode=A.android.minimumVersion,D.androidPackageName=A.android.packageName)}function dn(U,D,A){return Tn.apply(this,arguments)}function Tn(){return Tn=(0,h.Z)(function*(U,D,A){var K;const Ie=Ri(U),ze={requestType:"PASSWORD_RESET",email:D,clientType:"CLIENT_TYPE_WEB"};if(null!==(K=Ie._getRecaptchaConfig())&&void 0!==K&&K.emailPasswordEnabled){const en=yield Vi(Ie,ze,"getOobCode",!0);A&&Ot(Ie,en,A),yield Ci(Ie,en)}else A&&Ot(Ie,ze,A),yield Ci(Ie,ze).catch(function(){var en=(0,h.Z)(function*(Dn){if("auth/missing-recaptcha-token"!==Dn.code)return Promise.reject(Dn);{console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const ur=yield Vi(Ie,ze,"getOobCode",!0);A&&Ot(Ie,ur,A),yield Ci(Ie,ur)}});return function(Dn){return en.apply(this,arguments)}}())}),Tn.apply(this,arguments)}function Yr(U,D,A){return qr.apply(this,arguments)}function qr(){return(qr=(0,h.Z)(function*(U,D,A){yield ye((0,_.m9)(U),{oobCode:D,newPassword:A})})).apply(this,arguments)}function oi(U,D){return ii.apply(this,arguments)}function ii(){return ii=(0,h.Z)(function*(U,D){yield function Xt(U,D){return zn.apply(this,arguments)}((0,_.m9)(U),{oobCode:D})}),ii.apply(this,arguments)}function ai(U,D){return ji.apply(this,arguments)}function ji(){return(ji=(0,h.Z)(function*(U,D){const A=(0,_.m9)(U),K=yield ye(A,{oobCode:D}),Ie=K.requestType;switch(nt(Ie,A,"internal-error"),Ie){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":nt(K.newEmail,A,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":nt(K.mfaInfo,A,"internal-error");default:nt(K.email,A,"internal-error")}let ze=null;return K.mfaInfo&&(ze=F._fromServerResponse(Ri(A),K.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===K.requestType?K.newEmail:K.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===K.requestType?K.email:K.newEmail)||null,multiFactorInfo:ze},operation:Ie}})).apply(this,arguments)}function io(U,D){return Cs.apply(this,arguments)}function Cs(){return(Cs=(0,h.Z)(function*(U,D){const{data:A}=yield ai((0,_.m9)(U),D);return A.email})).apply(this,arguments)}function js(U,D,A){return Ns.apply(this,arguments)}function Ns(){return Ns=(0,h.Z)(function*(U,D,A){var K;const Ie=Ri(U),ze={returnSecureToken:!0,email:D,password:A,clientType:"CLIENT_TYPE_WEB"};let en;if(null!==(K=Ie._getRecaptchaConfig())&&void 0!==K&&K.emailPasswordEnabled){const Nr=yield Vi(Ie,ze,"signUpPassword");en=Ao(Ie,Nr)}else en=Ao(Ie,ze).catch(function(){var Nr=(0,h.Z)(function*(bi){if("auth/missing-recaptcha-token"===bi.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const ri=yield Vi(Ie,ze,"signUpPassword");return Ao(Ie,ri)}return Promise.reject(bi)});return function(bi){return Nr.apply(this,arguments)}}());const Dn=yield en.catch(Nr=>Promise.reject(Nr)),ur=yield to._fromIdTokenResponse(Ie,"signIn",Dn);return yield Ie._updateCurrentUser(ur.user),ur}),Ns.apply(this,arguments)}function Ds(U,D,A){return wi((0,_.m9)(U),eo.credential(D,A))}function vo(U,D,A){return wa.apply(this,arguments)}function wa(){return wa=(0,h.Z)(function*(U,D,A){var K;const Ie=Ri(U),ze={requestType:"EMAIL_SIGNIN",email:D,clientType:"CLIENT_TYPE_WEB"};function en(Dn,ur){nt(ur.handleCodeInApp,Ie,"argument-error"),ur&&Ot(Ie,Dn,ur)}if(null!==(K=Ie._getRecaptchaConfig())&&void 0!==K&&K.emailPasswordEnabled){const Dn=yield Vi(Ie,ze,"getOobCode",!0);en(Dn,A),yield Lr(Ie,Dn)}else en(ze,A),yield Lr(Ie,ze).catch(function(){var Dn=(0,h.Z)(function*(ur){if("auth/missing-recaptcha-token"!==ur.code)return Promise.reject(ur);{console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const Nr=yield Vi(Ie,ze,"getOobCode",!0);en(Nr,A),yield Lr(Ie,Nr)}});return function(ur){return Dn.apply(this,arguments)}}())}),wa.apply(this,arguments)}function Lo(U,D){const A=Js.parseLink(D);return"EMAIL_SIGNIN"===(null==A?void 0:A.operation)}function Wa(U,D,A){return ka.apply(this,arguments)}function ka(){return(ka=(0,h.Z)(function*(U,D,A){const K=(0,_.m9)(U),Ie=eo.credentialWithLink(D,A||Nt());return nt(Ie._tenantId===(K.tenantId||null),K,"tenant-id-mismatch"),wi(K,Ie)})).apply(this,arguments)}function ml(){return(ml=(0,h.Z)(function*(U,D){return Jt(U,"POST","/v1/accounts:createAuthUri",Pt(U,D))})).apply(this,arguments)}function Gi(U,D){return il.apply(this,arguments)}function il(){return il=(0,h.Z)(function*(U,D){const K={identifier:D,continueUri:qt()?Nt():"http://localhost"},{signinMethods:Ie}=yield function Ga(U,D){return ml.apply(this,arguments)}((0,_.m9)(U),K);return Ie||[]}),il.apply(this,arguments)}function Fs(U,D){return xl.apply(this,arguments)}function xl(){return xl=(0,h.Z)(function*(U,D){const A=(0,_.m9)(U),Ie={requestType:"VERIFY_EMAIL",idToken:yield U.getIdToken()};D&&Ot(A.auth,Ie,D);const{email:ze}=yield function Fi(U,D){return Ws.apply(this,arguments)}(A.auth,Ie);ze!==U.email&&(yield U.reload())}),xl.apply(this,arguments)}function Ml(U,D,A){return Go.apply(this,arguments)}function Go(){return Go=(0,h.Z)(function*(U,D,A){const K=(0,_.m9)(U),ze={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield U.getIdToken(),newEmail:D};A&&Ot(K.auth,ze,A);const{email:en}=yield function ks(U,D){return Do.apply(this,arguments)}(K.auth,ze);en!==U.email&&(yield U.reload())}),Go.apply(this,arguments)}function P(){return(P=(0,h.Z)(function*(U,D){return Jt(U,"POST","/v1/accounts:update",D)})).apply(this,arguments)}function X(U,D){return le.apply(this,arguments)}function le(){return le=(0,h.Z)(function*(U,{displayName:D,photoURL:A}){if(void 0===D&&void 0===A)return;const K=(0,_.m9)(U),ze={idToken:yield K.getIdToken(),displayName:D,photoUrl:A,returnSecureToken:!0},en=yield Jn(K,function sl(U,D){return P.apply(this,arguments)}(K.auth,ze));K.displayName=en.displayName||null,K.photoURL=en.photoUrl||null;const Dn=K.providerData.find(({providerId:ur})=>"password"===ur);Dn&&(Dn.displayName=K.displayName,Dn.photoURL=K.photoURL),yield K._updateTokensIfNecessary(en)}),le.apply(this,arguments)}function De(U,D){return ot((0,_.m9)(U),D,null)}function Ue(U,D){return ot((0,_.m9)(U),null,D)}function ot(U,D,A){return Dt.apply(this,arguments)}function Dt(){return(Dt=(0,h.Z)(function*(U,D,A){const{auth:K}=U,ze={idToken:yield U.getIdToken(),returnSecureToken:!0};D&&(ze.email=D),A&&(ze.password=A);const en=yield Jn(U,bt(K,ze));yield U._updateTokensIfNecessary(en,!0)})).apply(this,arguments)}class tn{constructor(D,A,K={}){this.isNewUser=D,this.providerId=A,this.profile=K}}class kn extends tn{constructor(D,A,K,Ie){super(D,A,K),this.username=Ie}}class nr extends tn{constructor(D,A){super(D,"facebook.com",A)}}class li extends kn{constructor(D,A){super(D,"github.com",A,"string"==typeof(null==A?void 0:A.login)?null==A?void 0:A.login:null)}}class Wr extends tn{constructor(D,A){super(D,"google.com",A)}}class Ls extends kn{constructor(D,A,K){super(D,"twitter.com",A,K)}}function co(U){const{user:D,_tokenResponse:A}=U;return D.isAnonymous&&!A?{providerId:null,isNewUser:!1,profile:null}:function Wt(U){var D,A;if(!U)return null;const{providerId:K}=U,Ie=U.rawUserInfo?JSON.parse(U.rawUserInfo):{},ze=U.isNewUser||"identitytoolkit#SignupNewUserResponse"===U.kind;if(!K&&null!=U&&U.idToken){const en=null===(A=null===(D=vi(U.idToken))||void 0===D?void 0:D.firebase)||void 0===A?void 0:A.sign_in_provider;if(en)return new tn(ze,"anonymous"!==en&&"custom"!==en?en:null)}if(!K)return null;switch(K){case"facebook.com":return new nr(ze,Ie);case"github.com":return new li(ze,Ie);case"google.com":return new Wr(ze,Ie);case"twitter.com":return new Ls(ze,Ie,U.screenName||null);case"custom":case"anonymous":return new tn(ze,null);default:return new tn(ze,K,Ie)}}(A)}class di{constructor(D,A,K){this.type=D,this.credential=A,this.auth=K}static _fromIdtoken(D,A){return new di("enroll",D,A)}static _fromMfaPendingCredential(D){return new di("signin",D)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(D){var A,K;if(null!=D&&D.multiFactorSession){if(null!==(A=D.multiFactorSession)&&void 0!==A&&A.pendingCredential)return di._fromMfaPendingCredential(D.multiFactorSession.pendingCredential);if(null!==(K=D.multiFactorSession)&&void 0!==K&&K.idToken)return di._fromIdtoken(D.multiFactorSession.idToken)}return null}}class xi{constructor(D,A,K){this.session=D,this.hints=A,this.signInResolver=K}static _fromError(D,A){const K=Ri(D),Ie=A.customData._serverResponse,ze=(Ie.mfaInfo||[]).map(Dn=>F._fromServerResponse(K,Dn));nt(Ie.mfaPendingCredential,K,"internal-error");const en=di._fromMfaPendingCredential(Ie.mfaPendingCredential);return new xi(en,ze,function(){var Dn=(0,h.Z)(function*(ur){const Nr=yield ur._process(K,en);delete Ie.mfaInfo,delete Ie.mfaPendingCredential;const bi=Object.assign(Object.assign({},Ie),{idToken:Nr.idToken,refreshToken:Nr.refreshToken});switch(A.operationType){case"signIn":const ri=yield to._fromIdTokenResponse(K,A.operationType,bi);return yield K._updateCurrentUser(ri.user),ri;case"reauthenticate":return nt(A.user,K,"internal-error"),to._forOperation(A.user,A.operationType,bi);default:dt(K,"internal-error")}});return function(ur){return Dn.apply(this,arguments)}}())}resolveSignIn(D){var A=this;return(0,h.Z)(function*(){return A.signInResolver(D)})()}}function _s(U,D){var A;const K=(0,_.m9)(U),Ie=D;return nt(D.customData.operationType,K,"argument-error"),nt(null===(A=Ie.customData._serverResponse)||void 0===A?void 0:A.mfaPendingCredential,K,"argument-error"),xi._fromError(K,Ie)}class oa{constructor(D){this.user=D,this.enrolledFactors=[],D._onReload(A=>{A.mfaInfo&&(this.enrolledFactors=A.mfaInfo.map(K=>F._fromServerResponse(D.auth,K)))})}static _fromUser(D){return new oa(D)}getSession(){var D=this;return(0,h.Z)(function*(){return di._fromIdtoken(yield D.user.getIdToken(),D.user.auth)})()}enroll(D,A){var K=this;return(0,h.Z)(function*(){const Ie=D,ze=yield K.getSession(),en=yield Jn(K.user,Ie._process(K.user.auth,ze,A));return yield K.user._updateTokensIfNecessary(en),K.user.reload()})()}unenroll(D){var A=this;return(0,h.Z)(function*(){const K="string"==typeof D?D:D.uid,Ie=yield A.user.getIdToken();try{const ze=yield Jn(A.user,function Ko(U,D){return Jt(U,"POST","/v2/accounts/mfaEnrollment:withdraw",Pt(U,D))}(A.user.auth,{idToken:Ie,mfaEnrollmentId:K}));A.enrolledFactors=A.enrolledFactors.filter(({uid:en})=>en!==K),yield A.user._updateTokensIfNecessary(ze),yield A.user.reload()}catch(ze){throw ze}})()}}const Sr=new WeakMap;function Zr(U){const D=(0,_.m9)(U);return Sr.has(D)||Sr.set(D,oa._fromUser(D)),Sr.get(D)}const Wn="__sak";class Ln{constructor(D,A){this.storageRetriever=D,this.type=A}_isAvailable(){try{return this.storage?(this.storage.setItem(Wn,"1"),this.storage.removeItem(Wn),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(D,A){return this.storage.setItem(D,JSON.stringify(A)),Promise.resolve()}_get(D){const A=this.storage.getItem(D);return Promise.resolve(A?JSON.parse(A):null)}_remove(D){return this.storage.removeItem(D),Promise.resolve()}get storage(){return this.storageRetriever()}}const yl=(()=>{class U extends Ln{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(A,K)=>this.onStorageEvent(A,K),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function wn(){const U=(0,_.z$)();return te(U)||Zt(U)}()&&function mn(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=rn(),this._shouldAllowMigration=!0}forAllChangedKeys(A){for(const K of Object.keys(this.listeners)){const Ie=this.storage.getItem(K),ze=this.localCache[K];Ie!==ze&&A(K,ze,Ie)}}onStorageEvent(A,K=!1){if(!A.key)return void this.forAllChangedKeys((Dn,ur,Nr)=>{this.notifyListeners(Dn,Nr)});const Ie=A.key;if(K?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const Dn=this.storage.getItem(Ie);if(A.newValue!==Dn)null!==A.newValue?this.storage.setItem(Ie,A.newValue):this.storage.removeItem(Ie);else if(this.localCache[Ie]===A.newValue&&!K)return}const ze=()=>{const Dn=this.storage.getItem(Ie);!K&&this.localCache[Ie]===Dn||this.notifyListeners(Ie,Dn)},en=this.storage.getItem(Ie);!function jn(){return(0,_.w1)()&&10===document.documentMode}()||en===A.newValue||A.newValue===A.oldValue?ze():setTimeout(ze,10)}notifyListeners(A,K){this.localCache[A]=K;const Ie=this.listeners[A];if(Ie)for(const ze of Array.from(Ie))ze(K&&JSON.parse(K))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((A,K,Ie)=>{this.onStorageEvent(new StorageEvent("storage",{key:A,oldValue:K,newValue:Ie}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(A,K){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[A]||(this.listeners[A]=new Set,this.localCache[A]=this.storage.getItem(A)),this.listeners[A].add(K)}_removeListener(A,K){this.listeners[A]&&(this.listeners[A].delete(K),0===this.listeners[A].size&&delete this.listeners[A]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(A,K){var Ie=()=>super._set,ze=this;return(0,h.Z)(function*(){yield Ie().call(ze,A,K),ze.localCache[A]=JSON.stringify(K)})()}_get(A){var K=()=>super._get,Ie=this;return(0,h.Z)(function*(){const ze=yield K().call(Ie,A);return Ie.localCache[A]=JSON.stringify(ze),ze})()}_remove(A){var K=()=>super._remove,Ie=this;return(0,h.Z)(function*(){yield K().call(Ie,A),delete Ie.localCache[A]})()}}return U.type="LOCAL",U})(),rc=(()=>{class U extends Ln{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(A,K){}_removeListener(A,K){}}return U.type="SESSION",U})();let ya=(()=>{class U{constructor(A){this.eventTarget=A,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(A){const K=this.receivers.find(ze=>ze.isListeningto(A));if(K)return K;const Ie=new U(A);return this.receivers.push(Ie),Ie}isListeningto(A){return this.eventTarget===A}handleEvent(A){var K=this;return(0,h.Z)(function*(){const Ie=A,{eventId:ze,eventType:en,data:Dn}=Ie.data,ur=K.handlersMap[en];if(null==ur||!ur.size)return;Ie.ports[0].postMessage({status:"ack",eventId:ze,eventType:en});const Nr=Array.from(ur).map(function(){var ri=(0,h.Z)(function*(qi){return qi(Ie.origin,Dn)});return function(qi){return ri.apply(this,arguments)}}()),bi=yield function Tc(U){return Promise.all(U.map(function(){var D=(0,h.Z)(function*(A){try{return{fulfilled:!0,value:yield A}}catch(K){return{fulfilled:!1,reason:K}}});return function(A){return D.apply(this,arguments)}}()))}(Nr);Ie.ports[0].postMessage({status:"done",eventId:ze,eventType:en,response:bi})})()}_subscribe(A,K){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[A]||(this.handlersMap[A]=new Set),this.handlersMap[A].add(K)}_unsubscribe(A,K){this.handlersMap[A]&&K&&this.handlersMap[A].delete(K),(!K||0===this.handlersMap[A].size)&&delete this.handlersMap[A],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return U.receivers=[],U})();function Pl(U="",D=10){let A="";for(let K=0;K<D;K++)A+=Math.floor(10*Math.random());return U+A}class Ld{constructor(D){this.target=D,this.handlers=new Set}removeMessageHandler(D){D.messageChannel&&(D.messageChannel.port1.removeEventListener("message",D.onMessage),D.messageChannel.port1.close()),this.handlers.delete(D)}_send(D,A,K=50){var Ie=this;return(0,h.Z)(function*(){const ze=typeof MessageChannel<"u"?new MessageChannel:null;if(!ze)throw new Error("connection_unavailable");let en,Dn;return new Promise((ur,Nr)=>{const bi=Pl("",20);ze.port1.start();const ri=setTimeout(()=>{Nr(new Error("unsupported_event"))},K);Dn={messageChannel:ze,onMessage(qi){const Hi=qi;if(Hi.data.eventId===bi)switch(Hi.data.status){case"ack":clearTimeout(ri),en=setTimeout(()=>{Nr(new Error("timeout"))},3e3);break;case"done":clearTimeout(en),ur(Hi.data.response);break;default:clearTimeout(ri),clearTimeout(en),Nr(new Error("invalid_response"))}}},Ie.handlers.add(Dn),ze.port1.addEventListener("message",Dn.onMessage),Ie.target.postMessage({eventType:D,eventId:bi,data:A},[ze.port2])}).finally(()=>{Dn&&Ie.removeMessageHandler(Dn)})})()}}function Ss(){return window}function ic(){return typeof Ss().WorkerGlobalScope<"u"&&"function"==typeof Ss().importScripts}function va(){return(va=(0,h.Z)(function*(){if(null==navigator||!navigator.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const hi="firebaseLocalStorageDb",Ki="firebaseLocalStorage",vl="fbase_key";class Bs{constructor(D){this.request=D}toPromise(){return new Promise((D,A)=>{this.request.addEventListener("success",()=>{D(this.request.result)}),this.request.addEventListener("error",()=>{A(this.request.error)})})}}function _r(U,D){return U.transaction([Ki],D?"readwrite":"readonly").objectStore(Ki)}function sc(){const U=indexedDB.open(hi,1);return new Promise((D,A)=>{U.addEventListener("error",()=>{A(U.error)}),U.addEventListener("upgradeneeded",()=>{const K=U.result;try{K.createObjectStore(Ki,{keyPath:vl})}catch(Ie){A(Ie)}}),U.addEventListener("success",(0,h.Z)(function*(){const K=U.result;K.objectStoreNames.contains(Ki)?D(K):(K.close(),yield function Ac(){const U=indexedDB.deleteDatabase(hi);return new Bs(U).toPromise()}(),D(yield sc()))}))})}function ol(U,D,A){return xc.apply(this,arguments)}function xc(){return(xc=(0,h.Z)(function*(U,D,A){const K=_r(U,!0).put({[vl]:D,value:A});return new Bs(K).toPromise()})).apply(this,arguments)}function iu(){return(iu=(0,h.Z)(function*(U,D){const A=_r(U,!1).get(D),K=yield new Bs(A).toPromise();return void 0===K?null:K.value})).apply(this,arguments)}function al(U,D){const A=_r(U,!0).delete(D);return new Bs(A).toPromise()}const Mo=(()=>{class U{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var A=this;return(0,h.Z)(function*(){return A.db||(A.db=yield sc()),A.db})()}_withRetries(A){var K=this;return(0,h.Z)(function*(){let Ie=0;for(;;)try{const ze=yield K._openDb();return yield A(ze)}catch(ze){if(Ie++>3)throw ze;K.db&&(K.db.close(),K.db=void 0)}})()}initializeServiceWorkerMessaging(){var A=this;return(0,h.Z)(function*(){return ic()?A.initializeReceiver():A.initializeSender()})()}initializeReceiver(){var A=this;return(0,h.Z)(function*(){A.receiver=ya._getInstance(function _o(){return ic()?self:null}()),A.receiver._subscribe("keyChanged",function(){var K=(0,h.Z)(function*(Ie,ze){return{keyProcessed:(yield A._poll()).includes(ze.key)}});return function(Ie,ze){return K.apply(this,arguments)}}()),A.receiver._subscribe("ping",function(){var K=(0,h.Z)(function*(Ie,ze){return["keyChanged"]});return function(Ie,ze){return K.apply(this,arguments)}}())})()}initializeSender(){var A=this;return(0,h.Z)(function*(){var K,Ie;if(A.activeServiceWorker=yield function Pi(){return va.apply(this,arguments)}(),!A.activeServiceWorker)return;A.sender=new Ld(A.activeServiceWorker);const ze=yield A.sender._send("ping",{},800);ze&&null!==(K=ze[0])&&void 0!==K&&K.fulfilled&&null!==(Ie=ze[0])&&void 0!==Ie&&Ie.value.includes("keyChanged")&&(A.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(A){var K=this;return(0,h.Z)(function*(){if(K.sender&&K.activeServiceWorker&&function Fh(){var U;return(null===(U=null==navigator?void 0:navigator.serviceWorker)||void 0===U?void 0:U.controller)||null}()===K.activeServiceWorker)try{yield K.sender._send("keyChanged",{key:A},K.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,h.Z)(function*(){try{if(!indexedDB)return!1;const A=yield sc();return yield ol(A,Wn,"1"),yield al(A,Wn),!0}catch{}return!1})()}_withPendingWrite(A){var K=this;return(0,h.Z)(function*(){K.pendingWrites++;try{yield A()}finally{K.pendingWrites--}})()}_set(A,K){var Ie=this;return(0,h.Z)(function*(){return Ie._withPendingWrite((0,h.Z)(function*(){return yield Ie._withRetries(ze=>ol(ze,A,K)),Ie.localCache[A]=K,Ie.notifyServiceWorker(A)}))})()}_get(A){var K=this;return(0,h.Z)(function*(){const Ie=yield K._withRetries(ze=>function zl(U,D){return iu.apply(this,arguments)}(ze,A));return K.localCache[A]=Ie,Ie})()}_remove(A){var K=this;return(0,h.Z)(function*(){return K._withPendingWrite((0,h.Z)(function*(){return yield K._withRetries(Ie=>al(Ie,A)),delete K.localCache[A],K.notifyServiceWorker(A)}))})()}_poll(){var A=this;return(0,h.Z)(function*(){const K=yield A._withRetries(en=>{const Dn=_r(en,!1).getAll();return new Bs(Dn).toPromise()});if(!K)return[];if(0!==A.pendingWrites)return[];const Ie=[],ze=new Set;for(const{fbase_key:en,value:Dn}of K)ze.add(en),JSON.stringify(A.localCache[en])!==JSON.stringify(Dn)&&(A.notifyListeners(en,Dn),Ie.push(en));for(const en of Object.keys(A.localCache))A.localCache[en]&&!ze.has(en)&&(A.notifyListeners(en,null),Ie.push(en));return Ie})()}notifyListeners(A,K){this.localCache[A]=K;const Ie=this.listeners[A];if(Ie)for(const ze of Array.from(Ie))ze(K)}startPolling(){var A=this;this.stopPolling(),this.pollTimer=setInterval((0,h.Z)(function*(){return A._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(A,K){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[A]||(this.listeners[A]=new Set,this._get(A)),this.listeners[A].add(K)}_removeListener(A,K){this.listeners[A]&&(this.listeners[A].delete(K),0===this.listeners[A].size&&delete this.listeners[A]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return U.type="LOCAL",U})(),Ia=1e12;class Yo{constructor(D){this.auth=D,this.counter=Ia,this._widgets=new Map}render(D,A){const K=this.counter;return this._widgets.set(K,new Bd(D,this.auth.name,A||{})),this.counter++,K}reset(D){var A;const K=D||Ia;null===(A=this._widgets.get(K))||void 0===A||A.delete(),this._widgets.delete(K)}getResponse(D){var A;return(null===(A=this._widgets.get(D||Ia))||void 0===A?void 0:A.getResponse())||""}execute(D){var A=this;return(0,h.Z)(function*(){var K;return null===(K=A._widgets.get(D||Ia))||void 0===K||K.execute(),""})()}}class Bd{constructor(D,A,K){this.params=K,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const Ie="string"==typeof D?document.getElementById(D):D;nt(Ie,"argument-error",{appName:A}),this.container=Ie,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function bl(U){const D=[],A="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let K=0;K<U;K++)D.push(A.charAt(Math.floor(62*Math.random())));return D.join("")}(50);const{callback:D,"expired-callback":A}=this.params;if(D)try{D(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,A)try{A()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Po=kr("rcb"),Pc=new mt(3e4,6e4);class V{constructor(){var D;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(D=Ss().grecaptcha)||void 0===D||!D.render)}load(D,A=""){return nt(function G(U){return U.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(U)}(A),D,"argument-error"),this.shouldResolveImmediately(A)&&hr(Ss().grecaptcha)?Promise.resolve(Ss().grecaptcha):new Promise((K,Ie)=>{const ze=Ss().setTimeout(()=>{Ie(It(D,"network-request-failed"))},Pc.get());Ss()[Po]=()=>{Ss().clearTimeout(ze),delete Ss()[Po];const Dn=Ss().grecaptcha;if(!Dn||!hr(Dn))return void Ie(It(D,"internal-error"));const ur=Dn.render;Dn.render=(Nr,bi)=>{const ri=ur(Nr,bi);return this.counter++,ri},this.hostLanguage=A,K(Dn)},zr(`https://www.google.com/recaptcha/api.js??${(0,_.xO)({onload:Po,render:"explicit",hl:A})}`).catch(()=>{clearTimeout(ze),Ie(It(D,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(D){var A;return!(null===(A=Ss().grecaptcha)||void 0===A||!A.render)&&(D===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class O{load(D){return(0,h.Z)(function*(){return new Yo(D)})()}clearedOneInstance(){}}const Z="recaptcha",pe={theme:"light",type:"image"};class Ye{constructor(D,A=Object.assign({},pe),K){this.parameters=A,this.type=Z,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Ri(K),this.isInvisible="invisible"===this.parameters.size,nt(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const Ie="string"==typeof D?document.getElementById(D):D;nt(Ie,this.auth,"argument-error"),this.container=Ie,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new O:new V,this.validateStartingState()}verify(){var D=this;return(0,h.Z)(function*(){D.assertNotDestroyed();const A=yield D.render(),K=D.getAssertedRecaptcha();return K.getResponse(A)||new Promise(ze=>{const en=Dn=>{Dn&&(D.tokenChangeListeners.delete(en),ze(Dn))};D.tokenChangeListeners.add(en),D.isInvisible&&K.execute(A)})})()}render(){try{this.assertNotDestroyed()}catch(D){return Promise.reject(D)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(D=>{throw this.renderPromise=null,D})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(D=>{this.container.removeChild(D)})}validateStartingState(){nt(!this.parameters.sitekey,this.auth,"argument-error"),nt(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),nt(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(D){return A=>{if(this.tokenChangeListeners.forEach(K=>K(A)),"function"==typeof D)D(A);else if("string"==typeof D){const K=Ss()[D];"function"==typeof K&&K(A)}}}assertNotDestroyed(){nt(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var D=this;return(0,h.Z)(function*(){if(yield D.init(),!D.widgetId){let A=D.container;if(!D.isInvisible){const K=document.createElement("div");A.appendChild(K),A=K}D.widgetId=D.getAssertedRecaptcha().render(A,D.parameters)}return D.widgetId})()}init(){var D=this;return(0,h.Z)(function*(){nt(qt()&&!ic(),D.auth,"internal-error"),yield function je(){let U=null;return new Promise(D=>{"complete"!==document.readyState?(U=()=>D(),window.addEventListener("load",U)):D()}).catch(D=>{throw U&&window.removeEventListener("load",U),D})}(),D.recaptcha=yield D._recaptchaLoader.load(D.auth,D.auth.languageCode||void 0);const A=yield function Ft(U){return Gt.apply(this,arguments)}(D.auth);nt(A,D.auth,"internal-error"),D.parameters.sitekey=A})()}getAssertedRecaptcha(){return nt(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Kt{constructor(D,A){this.verificationId=D,this.onConfirmation=A}confirm(D){const A=ps._fromVerification(this.verificationId,D);return this.onConfirmation(A)}}function Sn(U,D,A){return Tr.apply(this,arguments)}function Tr(){return(Tr=(0,h.Z)(function*(U,D,A){const K=Ri(U),Ie=yield y(K,D,(0,_.m9)(A));return new Kt(Ie,ze=>wi(K,ze))})).apply(this,arguments)}function _i(U,D,A){return Gr.apply(this,arguments)}function Gr(){return(Gr=(0,h.Z)(function*(U,D,A){const K=(0,_.m9)(U);yield ce(!1,K,"phone");const Ie=yield y(K.auth,D,(0,_.m9)(A));return new Kt(Ie,ze=>vs(K,ze))})).apply(this,arguments)}function Yi(U,D,A){return C.apply(this,arguments)}function C(){return(C=(0,h.Z)(function*(U,D,A){const K=(0,_.m9)(U),Ie=yield y(K.auth,D,(0,_.m9)(A));return new Kt(Ie,ze=>Fo(K,ze))})).apply(this,arguments)}function y(U,D,A){return d.apply(this,arguments)}function d(){return d=(0,h.Z)(function*(U,D,A){var K;const Ie=yield A.verify();try{let ze;if(nt("string"==typeof Ie,U,"argument-error"),nt(A.type===Z,U,"argument-error"),ze="string"==typeof D?{phoneNumber:D}:D,"session"in ze){const en=ze.session;if("phoneNumber"in ze)return nt("enroll"===en.type,U,"internal-error"),(yield function Ps(U,D){return Jt(U,"POST","/v2/accounts/mfaEnrollment:start",Pt(U,D))}(U,{idToken:en.credential,phoneEnrollmentInfo:{phoneNumber:ze.phoneNumber,recaptchaToken:Ie}})).phoneSessionInfo.sessionInfo;{nt("signin"===en.type,U,"internal-error");const Dn=(null===(K=ze.multiFactorHint)||void 0===K?void 0:K.uid)||ze.multiFactorUid;return nt(Dn,U,"missing-multi-factor-info"),(yield function ll(U,D){return Jt(U,"POST","/v2/accounts/mfaSignIn:start",Pt(U,D))}(U,{mfaPendingCredential:en.credential,mfaEnrollmentId:Dn,phoneSignInInfo:{recaptchaToken:Ie}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:en}=yield function Li(U,D){return Gs.apply(this,arguments)}(U,{phoneNumber:ze.phoneNumber,recaptchaToken:Ie});return en}}finally{A._reset()}}),d.apply(this,arguments)}function m(U,D){return E.apply(this,arguments)}function E(){return(E=(0,h.Z)(function*(U,D){yield he((0,_.m9)(U),D)})).apply(this,arguments)}let b=(()=>{class U{constructor(A){this.providerId=U.PROVIDER_ID,this.auth=Ri(A)}verifyPhoneNumber(A,K){return y(this.auth,A,(0,_.m9)(K))}static credential(A,K){return ps._fromVerification(A,K)}static credentialFromResult(A){return U.credentialFromTaggedObject(A)}static credentialFromError(A){return U.credentialFromTaggedObject(A.customData||{})}static credentialFromTaggedObject({_tokenResponse:A}){if(!A)return null;const{phoneNumber:K,temporaryProof:Ie}=A;return K&&Ie?ps._fromTokenResponse(K,Ie):null}}return U.PROVIDER_ID="phone",U.PHONE_SIGN_IN_METHOD="phone",U})();function M(U,D){return D?$n(D):(nt(U._popupRedirectResolver,U,"argument-error"),U._popupRedirectResolver)}class B extends re{constructor(D){super("custom","custom"),this.params=D}_getIdTokenResponse(D){return Br(D,this._buildIdpRequest())}_linkToIdToken(D,A){return Br(D,this._buildIdpRequest(A))}_getReauthenticationResolver(D){return Br(D,this._buildIdpRequest())}_buildIdpRequest(D){const A={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return D&&(A.idToken=D),A}}function W(U){return Ur(U.auth,new B(U),U.bypassAuthState)}function ne(U){const{auth:D,user:A}=U;return nt(A,D,"internal-error"),En(A,new B(U),U.bypassAuthState)}function Ce(U){return Ve.apply(this,arguments)}function Ve(){return(Ve=(0,h.Z)(function*(U){const{auth:D,user:A}=U;return nt(A,D,"internal-error"),he(A,new B(U),U.bypassAuthState)})).apply(this,arguments)}class ht{constructor(D,A,K,Ie,ze=!1){this.auth=D,this.resolver=K,this.user=Ie,this.bypassAuthState=ze,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(A)?A:[A]}execute(){var D=this;return new Promise(function(){var A=(0,h.Z)(function*(K,Ie){D.pendingPromise={resolve:K,reject:Ie};try{D.eventManager=yield D.resolver._initialize(D.auth),yield D.onExecution(),D.eventManager.registerConsumer(D)}catch(ze){D.reject(ze)}});return function(K,Ie){return A.apply(this,arguments)}}())}onAuthEvent(D){var A=this;return(0,h.Z)(function*(){const{urlResponse:K,sessionId:Ie,postBody:ze,tenantId:en,error:Dn,type:ur}=D;if(Dn)return void A.reject(Dn);const Nr={auth:A.auth,requestUri:K,sessionId:Ie,tenantId:en||void 0,postBody:ze||void 0,user:A.user,bypassAuthState:A.bypassAuthState};try{A.resolve(yield A.getIdpTask(ur)(Nr))}catch(bi){A.reject(bi)}})()}onError(D){this.reject(D)}getIdpTask(D){switch(D){case"signInViaPopup":case"signInViaRedirect":return W;case"linkViaPopup":case"linkViaRedirect":return Ce;case"reauthViaPopup":case"reauthViaRedirect":return ne;default:dt(this.auth,"internal-error")}}resolve(D){Ct(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(D),this.unregisterAndCleanUp()}reject(D){Ct(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(D),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const yt=new mt(2e3,1e4);function zt(U,D,A){return sn.apply(this,arguments)}function sn(){return(sn=(0,h.Z)(function*(U,D,A){const K=Ri(U);wt(U,D,So);const Ie=M(K,A);return new or(K,"signInViaPopup",D,Ie).executeNotNull()})).apply(this,arguments)}function gn(U,D,A){return Bn.apply(this,arguments)}function Bn(){return(Bn=(0,h.Z)(function*(U,D,A){const K=(0,_.m9)(U);wt(K.auth,D,So);const Ie=M(K.auth,A);return new or(K.auth,"reauthViaPopup",D,Ie,K).executeNotNull()})).apply(this,arguments)}function xn(U,D,A){return rr.apply(this,arguments)}function rr(){return(rr=(0,h.Z)(function*(U,D,A){const K=(0,_.m9)(U);wt(K.auth,D,So);const Ie=M(K.auth,A);return new or(K.auth,"linkViaPopup",D,Ie,K).executeNotNull()})).apply(this,arguments)}let or=(()=>{class U extends ht{constructor(A,K,Ie,ze,en){super(A,K,ze,en),this.provider=Ie,this.authWindow=null,this.pollId=null,U.currentPopupAction&&U.currentPopupAction.cancel(),U.currentPopupAction=this}executeNotNull(){var A=this;return(0,h.Z)(function*(){const K=yield A.execute();return nt(K,A.auth,"internal-error"),K})()}onExecution(){var A=this;return(0,h.Z)(function*(){Ct(1===A.filter.length,"Popup operations only handle one event");const K=Pl();A.authWindow=yield A.resolver._openPopup(A.auth,A.provider,A.filter[0],K),A.authWindow.associatedEvent=K,A.resolver._originValidation(A.auth).catch(Ie=>{A.reject(Ie)}),A.resolver._isIframeWebStorageSupported(A.auth,Ie=>{Ie||A.reject(It(A.auth,"web-storage-unsupported"))}),A.pollUserCancellation()})()}get eventId(){var A;return(null===(A=this.authWindow)||void 0===A?void 0:A.associatedEvent)||null}cancel(){this.reject(It(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,U.currentPopupAction=null}pollUserCancellation(){const A=()=>{var K,Ie;this.pollId=null!==(Ie=null===(K=this.authWindow)||void 0===K?void 0:K.window)&&void 0!==Ie&&Ie.closed?window.setTimeout(()=>{this.pollId=null,this.reject(It(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(A,yt.get())};A()}}return U.currentPopupAction=null,U})();const Zn="pendingRedirect",ir=new Map;class sr extends ht{constructor(D,A,K=!1){super(D,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],A,void 0,K),this.eventId=null}execute(){var D=()=>super.execute,A=this;return(0,h.Z)(function*(){let K=ir.get(A.auth._key());if(!K){try{const ze=(yield function Dr(U,D){return ti.apply(this,arguments)}(A.resolver,A.auth))?yield D().call(A):null;K=()=>Promise.resolve(ze)}catch(Ie){K=()=>Promise.reject(Ie)}ir.set(A.auth._key(),K)}return A.bypassAuthState||ir.set(A.auth._key(),()=>Promise.resolve(null)),K()})()}onAuthEvent(D){var A=()=>super.onAuthEvent,K=this;return(0,h.Z)(function*(){if("signInViaRedirect"===D.type)return A().call(K,D);if("unknown"!==D.type){if(D.eventId){const Ie=yield K.auth._redirectUserForId(D.eventId);if(Ie)return K.user=Ie,A().call(K,D);K.resolve(null)}}else K.resolve(null)})()}onExecution(){return(0,h.Z)(function*(){})()}cleanUp(){}}function ti(){return(ti=(0,h.Z)(function*(U,D){const A=Zi(D),K=cs(U);if(!(yield K._isAvailable()))return!1;const Ie="true"===(yield K._get(A));return yield K._remove(A),Ie})).apply(this,arguments)}function Ti(U,D){return vr.apply(this,arguments)}function vr(){return(vr=(0,h.Z)(function*(U,D){return cs(U)._set(Zi(D),"true")})).apply(this,arguments)}function ls(){ir.clear()}function gs(U,D){ir.set(U._key(),D)}function cs(U){return $n(U._redirectPersistence)}function Zi(U){return Ir(Zn,U.config.apiKey,U.name)}function bs(U,D,A){return function Ji(U,D,A){return Ma.apply(this,arguments)}(U,D,A)}function Ma(){return(Ma=(0,h.Z)(function*(U,D,A){const K=Ri(U);wt(U,D,So),yield K._initializationPromise;const Ie=M(K,A);return yield Ti(Ie,K),Ie._openRedirect(K,D,"signInViaRedirect")})).apply(this,arguments)}function aa(U,D,A){return function Ro(U,D,A){return Rl.apply(this,arguments)}(U,D,A)}function Rl(){return(Rl=(0,h.Z)(function*(U,D,A){const K=(0,_.m9)(U);wt(K.auth,D,So),yield K.auth._initializationPromise;const Ie=M(K.auth,A);yield Ti(Ie,K.auth);const ze=yield oc(K);return Ie._openRedirect(K.auth,D,"reauthViaRedirect",ze)})).apply(this,arguments)}function Rs(U,D,A){return function qs(U,D,A){return la.apply(this,arguments)}(U,D,A)}function la(){return(la=(0,h.Z)(function*(U,D,A){const K=(0,_.m9)(U);wt(K.auth,D,So),yield K.auth._initializationPromise;const Ie=M(K.auth,A);yield ce(!1,K,D.providerId),yield Ti(Ie,K.auth);const ze=yield oc(K);return Ie._openRedirect(K.auth,D,"linkViaRedirect",ze)})).apply(this,arguments)}function Ol(U,D){return Xa.apply(this,arguments)}function Xa(){return(Xa=(0,h.Z)(function*(U,D){return yield Ri(U)._initializationPromise,El(U,D,!1)})).apply(this,arguments)}function El(U,D){return Vp.apply(this,arguments)}function Vp(){return(Vp=(0,h.Z)(function*(U,D,A=!1){const K=Ri(U),Ie=M(K,D),en=yield new sr(K,Ie,A).execute();return en&&!A&&(delete en.user._redirectEventId,yield K._persistUserIfCurrent(en.user),yield K._setRedirectUser(null,D)),en})).apply(this,arguments)}function oc(U){return Hl.apply(this,arguments)}function Hl(){return(Hl=(0,h.Z)(function*(U){const D=Pl(`${U.uid}:::`);return U._redirectEventId=D,yield U.auth._setRedirectUser(U),yield U.auth._persistUserIfCurrent(U),D})).apply(this,arguments)}class Oc{constructor(D){this.auth=D,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(D){this.consumers.add(D),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,D)&&(this.sendToConsumer(this.queuedRedirectEvent,D),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(D){this.consumers.delete(D)}onEvent(D){if(this.hasEventBeenHandled(D))return!1;let A=!1;return this.consumers.forEach(K=>{this.isEventForConsumer(D,K)&&(A=!0,this.sendToConsumer(D,K),this.saveEventToCache(D))}),this.hasHandledPotentialRedirect||!function ou(U){switch(U.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return $d(U);default:return!1}}(D)||(this.hasHandledPotentialRedirect=!0,A||(this.queuedRedirectEvent=D,A=!0)),A}sendToConsumer(D,A){var K;if(D.error&&!$d(D)){const Ie=(null===(K=D.error.code)||void 0===K?void 0:K.split("auth/")[1])||"internal-error";A.onError(It(this.auth,Ie))}else A.onAuthEvent(D)}isEventForConsumer(D,A){const K=null===A.eventId||!!D.eventId&&D.eventId===A.eventId;return A.filter.includes(D.type)&&K}hasEventBeenHandled(D){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Qa(D))}saveEventToCache(D){this.cachedEventUids.add(Qa(D)),this.lastProcessedEventTime=Date.now()}}function Qa(U){return[U.type,U.eventId,U.sessionId,U.tenantId].filter(D=>D).join("-")}function $d({type:U,error:D}){return"unknown"===U&&"auth/no-auth-event"===(null==D?void 0:D.code)}function kl(U){return Wl.apply(this,arguments)}function Wl(){return(Wl=(0,h.Z)(function*(U,D={}){return Jt(U,"GET","/v1/projects",D)})).apply(this,arguments)}const Rf=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,ta=/^https?/;function Gl(){return(Gl=(0,h.Z)(function*(U){if(U.config.emulator)return;const{authorizedDomains:D}=yield kl(U);for(const A of D)try{if(Lu(A))return}catch{}dt(U,"unauthorized-domain")})).apply(this,arguments)}function Lu(U){const D=Nt(),{protocol:A,hostname:K}=new URL(D);if(U.startsWith("chrome-extension://")){const en=new URL(U);return""===en.hostname&&""===K?"chrome-extension:"===A&&U.replace("chrome-extension://","")===D.replace("chrome-extension://",""):"chrome-extension:"===A&&en.hostname===K}if(!ta.test(A))return!1;if(Rf.test(U))return K===U;const Ie=U.replace(/\./g,"\\.");return new RegExp("^(.+\\."+Ie+"|"+Ie+")$","i").test(K)}const Ja=new mt(3e4,6e4);function Nc(){const U=Ss().___jsl;if(null!=U&&U.H)for(const D of Object.keys(U.H))if(U.H[D].r=U.H[D].r||[],U.H[D].L=U.H[D].L||[],U.H[D].r=[...U.H[D].L],U.CP)for(let A=0;A<U.CP.length;A++)U.CP[A]=null}let wl=null;const Of=new mt(5e3,15e3),tv="__/auth/iframe",kf="emulator/auth/iframe",hm={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},uo=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Bu(U){const D=U.config;nt(D.authDomain,U,"auth-domain-config-required");const A=D.emulator?Je(D,kf):`https://${U.config.authDomain}/${tv}`,K={apiKey:D.apiKey,appName:U.name,v:_e.SDK_VERSION},Ie=uo.get(U.config.apiHost);Ie&&(K.eid=Ie);const ze=U._getFrameworks();return ze.length&&(K.fw=ze.join(",")),`${A}?${(0,_.xO)(K).slice(1)}`}function ac(){return ac=(0,h.Z)(function*(U){const D=yield function lu(U){return wl=wl||function au(U){return new Promise((D,A)=>{var K,Ie,ze;function en(){Nc(),gapi.load("gapi.iframes",{callback:()=>{D(gapi.iframes.getContext())},ontimeout:()=>{Nc(),A(It(U,"network-request-failed"))},timeout:Ja.get()})}if(null!==(Ie=null===(K=Ss().gapi)||void 0===K?void 0:K.iframes)&&void 0!==Ie&&Ie.Iframe)D(gapi.iframes.getContext());else{if(null===(ze=Ss().gapi)||void 0===ze||!ze.load){const Dn=kr("iframefcb");return Ss()[Dn]=()=>{gapi.load?en():A(It(U,"network-request-failed"))},zr(`https://apis.google.com/js/api.js?onload=${Dn}`).catch(ur=>A(ur))}en()}}).catch(D=>{throw wl=null,D})}(U),wl}(U),A=Ss().gapi;return nt(A,U,"internal-error"),D.open({where:document.body,url:Bu(U),messageHandlersFilter:A.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:hm,dontclear:!0},K=>new Promise(function(){var Ie=(0,h.Z)(function*(ze,en){yield K.restyle({setHideOnLeave:!1});const Dn=It(U,"network-request-failed"),ur=Ss().setTimeout(()=>{en(Dn)},Of.get());function Nr(){Ss().clearTimeout(ur),ze(K)}K.ping(Nr).then(Nr,()=>{en(Dn)})});return function(ze,en){return Ie.apply(this,arguments)}}()))}),ac.apply(this,arguments)}const Nf={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Ts{constructor(D){this.window=D,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const Vu="__/auth/handler",Lf="emulator/auth/handler",Vd=encodeURIComponent("fac");function Ud(U,D,A,K,Ie,ze){return cu.apply(this,arguments)}function cu(){return(cu=(0,h.Z)(function*(U,D,A,K,Ie,ze){nt(U.config.authDomain,U,"auth-domain-config-required"),nt(U.config.apiKey,U,"invalid-api-key");const en={apiKey:U.config.apiKey,appName:U.name,authType:A,redirectUrl:K,v:_e.SDK_VERSION,eventId:Ie};if(D instanceof So){D.setDefaultLanguage(U.languageCode),en.providerId=D.providerId||"",(0,_.xb)(D.getCustomParameters())||(en.customParameters=JSON.stringify(D.getCustomParameters()));for(const[bi,ri]of Object.entries(ze||{}))en[bi]=ri}if(D instanceof go){const bi=D.getScopes().filter(ri=>""!==ri);bi.length>0&&(en.scopes=bi.join(","))}U.tenantId&&(en.tid=U.tenantId);const Dn=en;for(const bi of Object.keys(Dn))void 0===Dn[bi]&&delete Dn[bi];const ur=yield U._getAppCheckToken(),Nr=ur?`#${Vd}=${encodeURIComponent(ur)}`:"";return`${function Bf({config:U}){return U.emulator?Je(U,Lf):`https://${U.authDomain}/${Vu}`}(U)}?${(0,_.xO)(Dn).slice(1)}${Nr}`})).apply(this,arguments)}const Uu="webStorageSupport",jd=class $f{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=rc,this._completeRedirectFn=El,this._overrideRedirectResult=gs}_openPopup(D,A,K,Ie){var ze=this;return(0,h.Z)(function*(){var en;Ct(null===(en=ze.eventManagers[D._key()])||void 0===en?void 0:en.manager,"_initialize() not called before _openPopup()");const Dn=yield Ud(D,A,K,Nt(),Ie);return function bo(U,D,A,K=500,Ie=600){const ze=Math.max((window.screen.availHeight-Ie)/2,0).toString(),en=Math.max((window.screen.availWidth-K)/2,0).toString();let Dn="";const ur=Object.assign(Object.assign({},Nf),{width:K.toString(),height:Ie.toString(),top:ze,left:en}),Nr=(0,_.z$)().toLowerCase();A&&(Dn=oe(Nr)?"_blank":A),se(Nr)&&(D=D||"http://localhost",ur.scrollbars="yes");const bi=Object.entries(ur).reduce((qi,[Hi,Ll])=>`${qi}${Hi}=${Ll},`,"");if(function vn(U=(0,_.z$)()){var D;return Zt(U)&&!(null===(D=window.navigator)||void 0===D||!D.standalone)}(Nr)&&"_self"!==Dn)return function lc(U,D){const A=document.createElement("a");A.href=U,A.target=D;const K=document.createEvent("MouseEvent");K.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),A.dispatchEvent(K)}(D||"",Dn),new Ts(null);const ri=window.open(D||"",Dn,bi);nt(ri,U,"popup-blocked");try{ri.focus()}catch{}return new Ts(ri)}(D,Dn,Pl())})()}_openRedirect(D,A,K,Ie){var ze=this;return(0,h.Z)(function*(){return yield ze._originValidation(D),function ha(U){Ss().location.href=U}(yield Ud(D,A,K,Nt(),Ie)),new Promise(()=>{})})()}_initialize(D){const A=D._key();if(this.eventManagers[A]){const{manager:Ie,promise:ze}=this.eventManagers[A];return Ie?Promise.resolve(Ie):(Ct(ze,"If manager is not set, promise should be"),ze)}const K=this.initAndGetManager(D);return this.eventManagers[A]={promise:K},K.catch(()=>{delete this.eventManagers[A]}),K}initAndGetManager(D){var A=this;return(0,h.Z)(function*(){const K=yield function so(U){return ac.apply(this,arguments)}(D),Ie=new Oc(D);return K.register("authEvent",ze=>(nt(null==ze?void 0:ze.authEvent,D,"invalid-auth-event"),{status:Ie.onEvent(ze.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),A.eventManagers[D._key()]={manager:Ie},A.iframes[D._key()]=K,Ie})()}_isIframeWebStorageSupported(D,A){this.iframes[D._key()].send(Uu,{type:Uu},Ie=>{var ze;const en=null===(ze=null==Ie?void 0:Ie[0])||void 0===ze?void 0:ze[Uu];void 0!==en&&A(!!en),dt(D,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(D){const A=D._key();return this.originValidationPromises[A]||(this.originValidationPromises[A]=function kc(U){return Gl.apply(this,arguments)}(D)),this.originValidationPromises[A]}get _shouldInitProactively(){return rn()||te()||Zt()}};class jp{constructor(D){this.factorId=D}_process(D,A,K){switch(A.type){case"enroll":return this._finalizeEnroll(D,A.credential,K);case"signin":return this._finalizeSignIn(D,A.credential);default:return Ht("unexpected MultiFactorSessionType")}}}class Nl extends jp{constructor(D){super("phone"),this.credential=D}static _fromCredential(D){return new Nl(D)}_finalizeEnroll(D,A,K){return function xo(U,D){return Jt(U,"POST","/v2/accounts/mfaEnrollment:finalize",Pt(U,D))}(D,{idToken:A,displayName:K,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(D,A){return function Bo(U,D){return Jt(U,"POST","/v2/accounts/mfaSignIn:finalize",Pt(U,D))}(D,{mfaPendingCredential:A,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Vf=(()=>{class U{constructor(){}static assertion(A){return Nl._fromCredential(A)}}return U.FACTOR_ID="phone",U})();var zu="@firebase/auth";class Lh{constructor(D){this.auth=D,this.internalListeners=new Map}getUid(){var D;return this.assertAuthConfigured(),(null===(D=this.auth.currentUser)||void 0===D?void 0:D.uid)||null}getToken(D){var A=this;return(0,h.Z)(function*(){return A.assertAuthConfigured(),yield A.auth._initializationPromise,A.auth.currentUser?{accessToken:yield A.auth.currentUser.getIdToken(D)}:null})()}addAuthTokenListener(D){if(this.assertAuthConfigured(),this.internalListeners.has(D))return;const A=this.auth.onIdTokenChanged(K=>{D((null==K?void 0:K.stsTokenManager.accessToken)||null)});this.internalListeners.set(D,A),this.updateProactiveRefresh()}removeAuthTokenListener(D){this.assertAuthConfigured();const A=this.internalListeners.get(D);A&&(this.internalListeners.delete(D),A(),this.updateProactiveRefresh())}assertAuthConfigured(){nt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const Hu=(0,_.Pz)("authIdTokenMaxAge")||300;let Fl=null;const Uf=U=>function(){var D=(0,h.Z)(function*(A){const K=A&&(yield A.getIdTokenResult()),Ie=K&&((new Date).getTime()-Date.parse(K.issuedAtTime))/1e3;if(Ie&&Ie>Hu)return;const ze=null==K?void 0:K.token;Fl!==ze&&(Fl=ze,yield fetch(U,{method:ze?"POST":"DELETE",headers:ze?{Authorization:`Bearer ${ze}`}:{}}))});return function(A){return D.apply(this,arguments)}}();function du(U=(0,_e.getApp)()){const D=(0,_e._getProvider)(U,"auth");if(D.isInitialized())return D.getImmediate();const A=function Qs(U,D){const A=(0,_e._getProvider)(U,"auth");if(A.isInitialized()){const Ie=A.getImmediate(),ze=A.getOptions();if((0,_.vZ)(ze,null!=D?D:{}))return Ie;dt(Ie,"already-initialized")}return A.initialize({options:D})}(U,{popupRedirectResolver:jd,persistence:[Mo,yl,rc]}),K=(0,_.Pz)("authTokenSyncURL");if(K){const ze=Uf(K);(function Fe(U,D,A){(0,_.m9)(U).beforeAuthStateChanged(D,A)})(A,ze,()=>ze(A.currentUser)),function ee(U,D,A,K){(0,_.m9)(U).onIdTokenChanged(D,A,K)}(A,en=>ze(en))}const Ie=(0,_.q4)("auth");return Ie&&Us(A,`http://${Ie}`),A}!function $h(U){(0,_e._registerComponent)(new Ge.wA("auth",(D,{options:A})=>{const K=D.getProvider("app").getImmediate(),Ie=D.getProvider("heartbeat"),ze=D.getProvider("app-check-internal"),{apiKey:en,authDomain:Dn}=K.options;nt(en&&!en.includes(":"),"invalid-api-key",{appName:K.name});const ur={apiKey:en,authDomain:Dn,clientPlatform:U,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Rn(U)},Nr=new Xi(K,Ie,ze,ur);return function Vs(U,D){const A=(null==D?void 0:D.persistence)||[],K=(Array.isArray(A)?A:[A]).map($n);null!=D&&D.errorMap&&U._updateErrorMap(D.errorMap),U._initializeWithPersistence(K,null==D?void 0:D.popupRedirectResolver)}(Nr,A),Nr},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((D,A,K)=>{D.getProvider("auth-internal").initialize()})),(0,_e._registerComponent)(new Ge.wA("auth-internal",D=>{const A=Ri(D.getProvider("auth").getImmediate());return new Lh(A)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,_e.registerVersion)(zu,"0.23.2",function Bh(U){switch(U){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(U)),(0,_e.registerVersion)(zu,"0.23.2","esm2017")}("Browser")},2810:(Kn,Rt,H)=>{"use strict";H.d(Rt,{u7:()=>Df,Jj:()=>Ec,IX:()=>zv,my:()=>qo,xU:()=>Ic,Lz:()=>Ru,WA:()=>qn,F8:()=>Ah,$q:()=>nl,W:()=>Pd,EK:()=>_o,PU:()=>Cc,l7:()=>oc,Ky:()=>_r,Xb:()=>Bs,Cf:()=>ds,K9:()=>Wn,Me:()=>aa,yq:()=>Ko,Wi:()=>Vv,ET:()=>La,Ab:()=>Od,vr:()=>w0,Fc:()=>Hv,hJ:()=>vf,B$:()=>Dh,at:()=>Ch,oe:()=>h0,AK:()=>b0,TF:()=>X_,JU:()=>Sh,ST:()=>Dy,fH:()=>q_,Ix:()=>Sy,Wu:()=>Oy,Lx:()=>t_,qY:()=>ba,GL:()=>Sf,QT:()=>Rd,kl:()=>c0,Xk:()=>Fy,PL:()=>ub,UQ:()=>db,zN:()=>u0,ad:()=>Iy,nP:()=>u_,b9:()=>If,vh:()=>em,Pb:()=>iE,L$:()=>ib,cf:()=>f0,sc:()=>p0,Xo:()=>Qg,IO:()=>r0,iE:()=>Ad,Eo:()=>_f,i3:()=>c_,Bt:()=>E0,pl:()=>d0,Ub:()=>xo,qK:()=>i_,TQ:()=>e_,e0:()=>Ry,r7:()=>s_,Mx:()=>nb,ar:()=>s0});var Pe,h=H(5861),_=H(6881),_e=H(4859),Oe=H(1877),Ze=H(2090),Ge=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Se={},Qe=Qe||{},Le=Ge||self;function Me(){}function rt(i){var e=typeof i;return"array"==(e="object"!=e?e:i?Array.isArray(i)?"array":e:"null")||"object"==e&&"number"==typeof i.length}function xe(i){var e=typeof i;return"object"==e&&null!=i||"function"==e}var pt="closure_uid_"+(1e9*Math.random()>>>0),Vt=0;function We(i,e,t){return i.call.apply(i.bind,arguments)}function $e(i,e,t){if(!i)throw Error();if(2<arguments.length){var l=Array.prototype.slice.call(arguments,2);return function(){var f=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(f,l),i.apply(e,f)}}return function(){return i.apply(e,arguments)}}function kt(i,e,t){return(kt=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?We:$e).apply(null,arguments)}function Mt(i,e){var t=Array.prototype.slice.call(arguments,1);return function(){var l=t.slice();return l.push.apply(l,arguments),i.apply(this,l)}}function dt(i,e){function t(){}t.prototype=e.prototype,i.$=e.prototype,i.prototype=new t,i.prototype.constructor=i,i.ac=function(l,f,v){for(var S=Array(arguments.length-2),Y=2;Y<arguments.length;Y++)S[Y-2]=arguments[Y];return e.prototype[f].apply(l,S)}}function It(){this.s=this.s,this.o=this.o}It.prototype.s=!1,It.prototype.ra=function(){!this.s&&(this.s=!0,this.N(),0)&&function at(i){Object.prototype.hasOwnProperty.call(i,pt)&&i[pt]||(i[pt]=++Vt)}(this)},It.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const wt=Array.prototype.indexOf?function(i,e){return Array.prototype.indexOf.call(i,e,void 0)}:function(i,e){if("string"==typeof i)return"string"!=typeof e||1!=e.length?-1:i.indexOf(e,0);for(let t=0;t<i.length;t++)if(t in i&&i[t]===e)return t;return-1};function vt(i){const e=i.length;if(0<e){const t=Array(e);for(let l=0;l<e;l++)t[l]=i[l];return t}return[]}function nt(i,e){for(let t=1;t<arguments.length;t++){const l=arguments[t];if(rt(l)){const f=i.length||0,v=l.length||0;i.length=f+v;for(let S=0;S<v;S++)i[f+S]=l[S]}else i.push(l)}}function Ht(i,e){this.type=i,this.g=this.target=e,this.defaultPrevented=!1}Ht.prototype.h=function(){this.defaultPrevented=!0};var Ct=function(){if(!Le.addEventListener||!Object.defineProperty)return!1;var i=!1,e=Object.defineProperty({},"passive",{get:function(){i=!0}});try{Le.addEventListener("test",Me,e),Le.removeEventListener("test",Me,e)}catch{}return i}();function Nt(i){return/^[\s\xa0]*$/.test(i)}var qt=String.prototype.trim?function(i){return i.trim()}:function(i){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(i)[1]};function Te(i,e){return i<e?-1:i>e?1:0}function qe(){var i=Le.navigator;return i&&(i=i.userAgent)?i:""}function lt(i){return-1!=qe().indexOf(i)}function mt(i){return mt[" "](i),i}function Je(i,e,t){return Object.prototype.hasOwnProperty.call(i,e)?i[e]:i[e]=t(e)}mt[" "]=Me;var Qt,i,et=lt("Opera"),ct=lt("Trident")||lt("MSIE"),Ut=lt("Edge"),Pt=Ut||ct,Jt=lt("Gecko")&&!(-1!=qe().toLowerCase().indexOf("webkit")&&!lt("Edge"))&&!(lt("Trident")||lt("MSIE"))&&!lt("Edge"),nn=-1!=qe().toLowerCase().indexOf("webkit")&&!lt("Edge");function Nn(){var i=Le.document;return i?i.documentMode:void 0}e:{var Et="",on=(i=qe(),Jt?/rv:([^\);]+)(\)|;)/.exec(i):Ut?/Edge\/([\d\.]+)/.exec(i):ct?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(i):nn?/WebKit\/(\S+)/.exec(i):et?/(?:Version)[ \/]?(\S+)/.exec(i):void 0);if(on&&(Et=on?on[1]:""),ct){var yn=Nn();if(null!=yn&&yn>parseFloat(Et)){Qt=String(yn);break e}}Qt=Et}var Xn={},Yn=Le.document&&ct&&(Nn()||parseInt(Qt,10))||void 0;function an(i,e){if(Ht.call(this,i?i.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,i){var t=this.type=i.type,l=i.changedTouches&&i.changedTouches.length?i.changedTouches[0]:null;if(this.target=i.target||i.srcElement,this.g=e,e=i.relatedTarget){if(Jt){e:{try{mt(e.nodeName);var f=!0;break e}catch{}f=!1}f||(e=null)}}else"mouseover"==t?e=i.fromElement:"mouseout"==t&&(e=i.toElement);this.relatedTarget=e,l?(this.clientX=void 0!==l.clientX?l.clientX:l.pageX,this.clientY=void 0!==l.clientY?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0):(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0),this.button=i.button,this.key=i.key||"",this.ctrlKey=i.ctrlKey,this.altKey=i.altKey,this.shiftKey=i.shiftKey,this.metaKey=i.metaKey,this.pointerId=i.pointerId||0,this.pointerType="string"==typeof i.pointerType?i.pointerType:Rr[i.pointerType]||"",this.state=i.state,this.i=i,i.defaultPrevented&&an.$.h.call(this)}}dt(an,Ht);var Rr={2:"touch",3:"pen",4:"mouse"};an.prototype.h=function(){an.$.h.call(this);var i=this.i;i.preventDefault?i.preventDefault():i.returnValue=!1};var Vr="closure_listenable_"+(1e6*Math.random()|0),Ar=0;function Mn(i,e,t,l,f){this.listener=i,this.proxy=null,this.src=e,this.type=t,this.capture=!!l,this.la=f,this.key=++Ar,this.fa=this.ia=!1}function ni(i){i.fa=!0,i.listener=null,i.proxy=null,i.src=null,i.la=null}function jr(i,e,t){for(const l in i)e.call(t,i[l],l,i)}function mr(i){const e={};for(const t in i)e[t]=i[t];return e}const vi="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function pi(i,e){let t,l;for(let f=1;f<arguments.length;f++){for(t in l=arguments[f],l)i[t]=l[t];for(let v=0;v<vi.length;v++)t=vi[v],Object.prototype.hasOwnProperty.call(l,t)&&(i[t]=l[t])}}function Jn(i){this.src=i,this.g={},this.h=0}function Qn(i,e){var t=e.type;if(t in i.g){var v,l=i.g[t],f=wt(l,e);(v=0<=f)&&Array.prototype.splice.call(l,f,1),v&&(ni(e),0==i.g[t].length&&(delete i.g[t],i.h--))}}function cr(i,e,t,l){for(var f=0;f<i.length;++f){var v=i[f];if(!v.fa&&v.listener==e&&v.capture==!!t&&v.la==l)return f}return-1}Jn.prototype.add=function(i,e,t,l,f){var v=i.toString();(i=this.g[v])||(i=this.g[v]=[],this.h++);var S=cr(i,e,l,f);return-1<S?(e=i[S],t||(e.ia=!1)):((e=new Mn(e,this.src,v,!!l,f)).ia=t,i.push(e)),e};var ci="closure_lm_"+(1e6*Math.random()|0),si={};function Kr(i,e,t,l,f){if(l&&l.once)return br(i,e,t,l,f);if(Array.isArray(e)){for(var v=0;v<e.length;v++)Kr(i,e[v],t,l,f);return null}return t=jt(t),i&&i[Vr]?i.O(e,t,xe(l)?!!l.capture:!!l,f):fi(i,e,t,!1,l,f)}function fi(i,e,t,l,f,v){if(!e)throw Error("Invalid event type");var S=xe(f)?!!f.capture:!!f,Y=ke(i);if(Y||(i[ci]=Y=new Jn(i)),(t=Y.add(e,t,l,S,v)).proxy)return t;if(l=function gi(){const e=Cn;return function i(t){return e.call(i.src,i.listener,t)}}(),t.proxy=l,l.src=i,l.listener=t,i.addEventListener)Ct||(f=S),void 0===f&&(f=!1),i.addEventListener(e.toString(),l,f);else if(i.attachEvent)i.attachEvent(Er(e.toString()),l);else{if(!i.addListener||!i.removeListener)throw Error("addEventListener and attachEvent are unavailable.");i.addListener(l)}return t}function br(i,e,t,l,f){if(Array.isArray(e)){for(var v=0;v<e.length;v++)br(i,e[v],t,l,f);return null}return t=jt(t),i&&i[Vr]?i.P(e,t,xe(l)?!!l.capture:!!l,f):fi(i,e,t,!0,l,f)}function dr(i,e,t,l,f){if(Array.isArray(e))for(var v=0;v<e.length;v++)dr(i,e[v],t,l,f);else l=xe(l)?!!l.capture:!!l,t=jt(t),i&&i[Vr]?(i=i.i,(e=String(e).toString())in i.g&&-1<(t=cr(v=i.g[e],t,l,f))&&(ni(v[t]),Array.prototype.splice.call(v,t,1),0==v.length&&(delete i.g[e],i.h--))):i&&(i=ke(i))&&(e=i.g[e.toString()],i=-1,e&&(i=cr(e,t,l,f)),(t=-1<i?e[i]:null)&&ui(t))}function ui(i){if("number"!=typeof i&&i&&!i.fa){var e=i.src;if(e&&e[Vr])Qn(e.i,i);else{var t=i.type,l=i.proxy;e.removeEventListener?e.removeEventListener(t,l,i.capture):e.detachEvent?e.detachEvent(Er(t),l):e.addListener&&e.removeListener&&e.removeListener(l),(t=ke(e))?(Qn(t,i),0==t.h&&(t.src=null,e[ci]=null)):ni(i)}}}function Er(i){return i in si?si[i]:si[i]="on"+i}function Cn(i,e){if(i.fa)i=!0;else{e=new an(e,this);var t=i.listener,l=i.la||i.src;i.ia&&ui(i),i=t.call(l,e)}return i}function ke(i){return(i=i[ci])instanceof Jn?i:null}var ut="__closure_events_fn_"+(1e9*Math.random()>>>0);function jt(i){return"function"==typeof i?i:(i[ut]||(i[ut]=function(e){return i.handleEvent(e)}),i[ut])}function bn(){It.call(this),this.i=new Jn(this),this.S=this,this.J=null}function $n(i,e){var t,l=i.J;if(l)for(t=[];l;l=l.J)t.push(l);if(i=i.S,l=e.type||e,"string"==typeof e)e=new Ht(e,i);else if(e instanceof Ht)e.target=e.target||i;else{var f=e;pi(e=new Ht(l,i),f)}if(f=!0,t)for(var v=t.length-1;0<=v;v--){var S=e.g=t[v];f=Fr(S,l,!0,e)&&f}if(f=Fr(S=e.g=i,l,!0,e)&&f,f=Fr(S,l,!1,e)&&f,t)for(v=0;v<t.length;v++)f=Fr(S=e.g=t[v],l,!1,e)&&f}function Fr(i,e,t,l){if(!(e=i.i.g[String(e)]))return!0;e=e.concat();for(var f=!0,v=0;v<e.length;++v){var S=e[v];if(S&&!S.fa&&S.capture==t){var Y=S.listener,ae=S.la||S.src;S.ia&&Qn(i.i,S),f=!1!==Y.call(ae,l)&&f}}return f&&!l.defaultPrevented}dt(bn,It),bn.prototype[Vr]=!0,bn.prototype.removeEventListener=function(i,e,t,l){dr(this,i,e,t,l)},bn.prototype.N=function(){if(bn.$.N.call(this),this.i){var e,i=this.i;for(e in i.g){for(var t=i.g[e],l=0;l<t.length;l++)ni(t[l]);delete i.g[e],i.h--}}this.J=null},bn.prototype.O=function(i,e,t,l){return this.i.add(String(i),e,!1,t,l)},bn.prototype.P=function(i,e,t,l){return this.i.add(String(i),e,!0,t,l)};var xr=Le.JSON.stringify;function Ir(){var i=$t;let e=null;return i.g&&(e=i.g,i.g=i.g.next,i.g||(i.h=null),e.next=null),e}var Ke,Ae=new class{constructor(i,e){this.i=i,this.j=e,this.h=0,this.g=null}get(){let i;return 0<this.h?(this.h--,i=this.g,this.g=i.next,i.next=null):i=this.i(),i}}(()=>new se,i=>i.reset());class se{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function te(i){Le.setTimeout(()=>{throw i},0)}function oe(i,e){Ke||function At(){var i=Le.Promise.resolve(void 0);Ke=function(){i.then(Zt)}}(),tt||(Ke(),tt=!0),$t.add(i,e)}var tt=!1,$t=new class gt{constructor(){this.h=this.g=null}add(e,t){const l=Ae.get();l.set(e,t),this.h?this.h.next=l:this.g=l,this.h=l}};function Zt(){for(var i;i=Ir();){try{i.h.call(i.g)}catch(t){te(t)}var e=Ae;e.j(i),100>e.h&&(e.h++,i.next=e.g,e.g=i)}tt=!1}function In(i,e){bn.call(this),this.h=i||1,this.g=e||Le,this.j=kt(this.qb,this),this.l=Date.now()}function vn(i){i.ga=!1,i.T&&(i.g.clearTimeout(i.T),i.T=null)}function jn(i,e,t){if("function"==typeof i)t&&(i=kt(i,t));else{if(!i||"function"!=typeof i.handleEvent)throw Error("Invalid listener argument");i=kt(i.handleEvent,i)}return 2147483647<Number(e)?-1:Le.setTimeout(i,e||0)}function rn(i){i.g=jn(()=>{i.g=null,i.i&&(i.i=!1,rn(i))},i.j);const e=i.h;i.h=null,i.m.apply(null,e)}dt(In,bn),(Pe=In.prototype).ga=!1,Pe.T=null,Pe.qb=function(){if(this.ga){var i=Date.now()-this.l;0<i&&i<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-i):(this.T&&(this.g.clearTimeout(this.T),this.T=null),$n(this,"tick"),this.ga&&(vn(this),this.start()))}},Pe.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Pe.N=function(){In.$.N.call(this),vn(this),delete this.g};class mn extends It{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:rn(this)}N(){super.N(),this.g&&(Le.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Rn(i){It.call(this),this.h=i,this.g={}}dt(Rn,It);var Ft=[];function Gt(i,e,t,l){Array.isArray(t)||(t&&(Ft[0]=t.toString()),t=Ft);for(var f=0;f<t.length;f++){var v=Kr(e,t[f],l||i.handleEvent,!1,i.h||i);if(!v)break;i.g[v.key]=v}}function hn(i){jr(i.g,function(e,t){this.g.hasOwnProperty(t)&&ui(e)},i),i.g={}}function Gn(){this.g=!0}function Mr(i,e,t,l){i.info(function(){return"XMLHTTP TEXT ("+e+"): "+function zr(i,e){if(!i.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(i=0;i<t.length;i++)if(Array.isArray(t[i])){var l=t[i];if(!(2>l.length)){var f=l[1];if(Array.isArray(f)&&!(1>f.length)){var v=f[0];if("noop"!=v&&"stop"!=v&&"close"!=v)for(var S=1;S<f.length;S++)f[S]=""}}}return xr(t)}catch{return e}}(i,t)+(l?" "+l:"")})}Rn.prototype.N=function(){Rn.$.N.call(this),hn(this)},Rn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Gn.prototype.Ea=function(){this.g=!1},Gn.prototype.info=function(){};var kr={},Hr=null;function Wi(){return Hr=Hr||new bn}function Io(i){Ht.call(this,kr.Ta,i)}function Xs(i){const e=Wi();$n(e,new Io(e))}function Vi(i,e){Ht.call(this,kr.STAT_EVENT,i),this.stat=e}function zi(i){const e=Wi();$n(e,new Vi(e,i))}function Co(i,e){Ht.call(this,kr.Ua,i),this.size=e}function Xi(i,e){if("function"!=typeof i)throw Error("Fn must not be null and must be a function");return Le.setTimeout(function(){i()},e)}kr.Ta="serverreachability",dt(Io,Ht),kr.STAT_EVENT="statevent",dt(Vi,Ht),kr.Ua="timingevent",dt(Co,Ht);var Ri={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},$s={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Qs(){}function Us(){}Qs.prototype.h=null;var Ee,ie={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function fe(){Ht.call(this,"d")}function Re(){Ht.call(this,"c")}function re(){}function ye(i,e,t,l){this.l=i,this.j=e,this.m=t,this.W=l||1,this.U=new Rn(this),this.P=bt,this.V=new In(i=Pt?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.aa=-1,this.J=!1,this.O=0,this.M=null,this.ca=this.K=this.ba=this.S=!1,this.h=new st}function st(){this.i=null,this.g="",this.h=!1}dt(fe,Ht),dt(Re,Ht),dt(re,Qs),re.prototype.g=function(){return new XMLHttpRequest},re.prototype.i=function(){return{}},Ee=new re;var bt=45e3,Lt={},Xt={};function zn(i,e,t){i.L=1,i.v=Li(os(e)),i.s=t,i.S=!0,Vn(i,null)}function Vn(i,e){i.G=Date.now(),Fi(i),i.A=os(i.v);var t=i.A,l=i.W;Array.isArray(l)||(l=[String(l)]),Qo(t.i,"t",l),i.C=0,t=i.l.I,i.h=new st,i.g=Ds(i.l,t?e:null,!i.s),0<i.O&&(i.M=new mn(kt(i.Pa,i,i.g),i.O)),Gt(i.U,i.g,"readystatechange",i.nb),e=i.I?mr(i.I):{},i.s?(i.u||(i.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",i.g.ha(i.A,i.u,i.s,e)):(i.u="GET",i.g.ha(i.A,i.u,null,e)),Xs(),function hr(i,e,t,l,f,v){i.info(function(){if(i.g)if(v)for(var S="",Y=v.split("&"),ae=0;ae<Y.length;ae++){var we=Y[ae].split("=");if(1<we.length){var He=we[0];we=we[1];var St=He.split("_");S=2<=St.length&&"type"==St[1]?S+(He+"=")+we+"&":S+(He+"=redacted&")}}else S=null;else S=v;return"XMLHTTP REQ ("+l+") [attempt "+f+"]: "+e+"\n"+t+"\n"+S})}(i.j,i.u,i.A,i.m,i.W,i.s)}function wr(i){return!!i.g&&"GET"==i.u&&2!=i.L&&i.l.Ha}function Qr(i,e,t){let f,l=!0;for(;!i.J&&i.C<t.length;){if(f=is(i,t),f==Xt){4==e&&(i.o=4,zi(14),l=!1),Mr(i.j,i.m,null,"[Incomplete Response]");break}if(f==Lt){i.o=4,zi(15),Mr(i.j,i.m,t,"[Invalid Chunk]"),l=!1;break}Mr(i.j,i.m,f,null),Ai(i,f)}wr(i)&&f!=Xt&&f!=Lt&&(i.h.g="",i.C=0),4!=e||0!=t.length||i.h.h||(i.o=1,zi(16),l=!1),i.i=i.i&&l,l?0<t.length&&!i.ca&&(i.ca=!0,(e=i.l).g==i&&e.ca&&!e.L&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+t.length),oi(e),e.L=!0,zi(11))):(Mr(i.j,i.m,t,"[Invalid Chunked Response]"),Lr(i),tr(i))}function is(i,e){var t=i.C,l=e.indexOf("\n",t);return-1==l?Xt:(t=Number(e.substring(t,l)),isNaN(t)?Lt:(l+=1)+t>e.length?Xt:(e=e.substr(l,t),i.C=l+t,e))}function Fi(i){i.Y=Date.now()+i.P,Ws(i,i.P)}function Ws(i,e){if(null!=i.B)throw Error("WatchDog timer not null");i.B=Xi(kt(i.lb,i),e)}function Ci(i){i.B&&(Le.clearTimeout(i.B),i.B=null)}function tr(i){0==i.l.H||i.J||ji(i.l,i)}function Lr(i){Ci(i);var e=i.M;e&&"function"==typeof e.ra&&e.ra(),i.M=null,vn(i.V),hn(i.U),i.g&&(e=i.g,i.g=null,e.abort(),e.ra())}function Ai(i,e){try{var t=i.l;if(0!=t.H&&(t.g==i||Qi(t.h,i)))if(!i.K&&Qi(t.h,i)&&3==t.H){try{var l=t.Ja.g.parse(e)}catch{l=null}if(Array.isArray(l)&&3==l.length){var f=l;if(0==f[0]){e:if(!t.u){if(t.g){if(!(t.g.G+3e3<i.G))break e;ai(t),T(t)}qr(t),zi(18)}}else t.Fa=f[1],0<t.Fa-t.V&&37500>f[2]&&t.M&&0==t.A&&!t.v&&(t.v=Xi(kt(t.ib,t),6e3));if(1>=Is(t.h)&&t.na){try{t.na()}catch{}t.na=void 0}}else Cs(t,11)}else if((i.K||t.g==i)&&ai(t),!Nt(e))for(f=t.Ja.g.parse(e),e=0;e<f.length;e++){let we=f[e];if(t.V=we[0],we=we[1],2==t.H)if("c"==we[0]){t.J=we[1],t.oa=we[2];const He=we[3];null!=He&&(t.qa=He,t.j.info("VER="+t.qa));const St=we[4];null!=St&&(t.Ga=St,t.j.info("SVER="+t.Ga));const pn=we[5];null!=pn&&"number"==typeof pn&&0<pn&&(t.K=l=1.5*pn,t.j.info("backChannelRequestTimeoutMs_="+l)),l=t;const Pn=i.g;if(Pn){const fr=Pn.g?Pn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(fr){var v=l.h;v.g||-1==fr.indexOf("spdy")&&-1==fr.indexOf("quic")&&-1==fr.indexOf("h2")||(v.j=v.l,v.g=new Set,v.h&&(Jo(v,v.h),v.h=null))}if(l.F){const $r=Pn.g?Pn.g.getResponseHeader("X-HTTP-Session-Id"):null;$r&&(l.Da=$r,Di(l.G,l.F,$r))}}t.H=3,t.l&&t.l.Ba(),t.ca&&(t.S=Date.now()-i.G,t.j.info("Handshake RTT: "+t.S+"ms"));var S=i;if((l=t).wa=Ns(l,l.I?l.oa:null,l.Y),S.K){Vo(l.h,S);var Y=S,ae=l.K;ae&&Y.setTimeout(ae),Y.B&&(Ci(Y),Fi(Y)),l.g=S}else Yr(l);0<t.i.length&&ge(t)}else"stop"!=we[0]&&"close"!=we[0]||Cs(t,7);else 3==t.H&&("stop"==we[0]||"close"==we[0]?"stop"==we[0]?Cs(t,7):L(t):"noop"!=we[0]&&t.l&&t.l.Aa(we),t.A=0)}Xs()}catch{}}function ss(i,e){if(i.forEach&&"function"==typeof i.forEach)i.forEach(e,void 0);else if(rt(i)||"string"==typeof i)Array.prototype.forEach.call(i,e,void 0);else for(var t=function Do(i){if(i.sa&&"function"==typeof i.sa)return i.sa();if(!i.Z||"function"!=typeof i.Z){if(typeof Map<"u"&&i instanceof Map)return Array.from(i.keys());if(!(typeof Set<"u"&&i instanceof Set)){if(rt(i)||"string"==typeof i){var e=[];i=i.length;for(var t=0;t<i;t++)e.push(t);return e}e=[],t=0;for(const l in i)e[t++]=l;return e}}}(i),l=function ks(i){if(i.Z&&"function"==typeof i.Z)return i.Z();if(typeof Map<"u"&&i instanceof Map||typeof Set<"u"&&i instanceof Set)return Array.from(i.values());if("string"==typeof i)return i.split("");if(rt(i)){for(var e=[],t=i.length,l=0;l<t;l++)e.push(i[l]);return e}for(l in e=[],t=0,i)e[t++]=i[l];return e}(i),f=l.length,v=0;v<f;v++)e.call(void 0,l[v],t&&t[v],i)}(Pe=ye.prototype).setTimeout=function(i){this.P=i},Pe.nb=function(i){i=i.target;const e=this.M;e&&3==vs(i)?e.l():this.Pa(i)},Pe.Pa=function(i){try{if(i==this.g)e:{const He=vs(this.g);var e=this.g.Ia();if(this.g.da(),!(3>He)&&(3!=He||Pt||this.g&&(this.h.h||this.g.ja()||Ks(this.g)))){this.J||4!=He||7==e||Xs(),Ci(this);var t=this.g.da();this.aa=t;t:if(wr(this)){var l=Ks(this.g);i="";var f=l.length,v=4==vs(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Lr(this),tr(this);var S="";break t}this.h.i=new Le.TextDecoder}for(e=0;e<f;e++)this.h.h=!0,i+=this.h.i.decode(l[e],{stream:v&&e==f-1});l.splice(0,f),this.h.g+=i,this.C=0,S=this.h.g}else S=this.g.ja();if(this.i=200==t,function Or(i,e,t,l,f,v,S){i.info(function(){return"XMLHTTP RESP ("+l+") [ attempt "+f+"]: "+e+"\n"+t+"\n"+v+" "+S})}(this.j,this.u,this.A,this.m,this.W,He,t),this.i){if(this.ba&&!this.K){t:{if(this.g){var Y,ae=this.g;if((Y=ae.g?ae.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Nt(Y)){var we=Y;break t}}we=null}if(!(t=we)){this.i=!1,this.o=3,zi(12),Lr(this),tr(this);break e}Mr(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ai(this,t)}this.S?(Qr(this,He,S),Pt&&this.i&&3==He&&(Gt(this.U,this.V,"tick",this.mb),this.V.start())):(Mr(this.j,this.m,S,null),Ai(this,S)),4==He&&Lr(this),this.i&&!this.J&&(4==He?ji(this.l,this):(this.i=!1,Fi(this)))}else 400==t&&0<S.indexOf("Unknown SID")?(this.o=3,zi(12)):(this.o=0,zi(13)),Lr(this),tr(this)}}}catch{}},Pe.mb=function(){if(this.g){var i=vs(this.g),e=this.g.ja();this.C<e.length&&(Ci(this),Qr(this,i,e),this.i&&4!=i&&Fi(this))}},Pe.cancel=function(){this.J=!0,Lr(this)},Pe.lb=function(){this.B=null;const i=Date.now();0<=i-this.Y?(function Si(i,e){i.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(Xs(),zi(17)),Lr(this),this.o=2,tr(this)):Ws(this,this.Y-i)};var oo=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ws(i,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,i instanceof ws){this.h=void 0!==e?e:i.h,Br(this,i.j),this.s=i.s,this.g=i.g,ao(this,i.m),this.l=i.l,e=i.i;var t=new ps;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),ho(this,t),this.o=i.o}else i&&(t=String(i).match(oo))?(this.h=!!e,Br(this,t[1]||"",!0),this.s=Gs(t[2]||""),this.g=Gs(t[3]||"",!0),ao(this,t[4]),this.l=Gs(t[5]||"",!0),ho(this,t[6]||"",!0),this.o=Gs(t[7]||"")):(this.h=!!e,this.i=new ps(null,this.h))}function os(i){return new ws(i)}function Br(i,e,t){i.j=t?Gs(e,!0):e,i.j&&(i.j=i.j.replace(/:$/,""))}function ao(i,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);i.m=e}else i.m=null}function ho(i,e,t){e instanceof ps?(i.i=e,function So(i,e){e&&!i.j&&(Ei(i),i.i=null,i.g.forEach(function(t,l){var f=l.toLowerCase();l!=f&&(Ea(this,l),Qo(this,f,t))},i)),i.j=e}(i.i,i.h)):(t||(e=no(e,lo)),i.i=new ps(e,i.h))}function Di(i,e,t){i.i.set(e,t)}function Li(i){return Di(i,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),i}function Gs(i,e){return i?e?decodeURI(i.replace(/%25/g,"%2525")):decodeURIComponent(i):""}function no(i,e,t){return"string"==typeof i?(i=encodeURI(i).replace(e,fo),t&&(i=i.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),i):null}function fo(i){return"%"+((i=i.charCodeAt(0))>>4&15).toString(16)+(15&i).toString(16)}ws.prototype.toString=function(){var i=[],e=this.j;e&&i.push(no(e,ko,!0),":");var t=this.g;return(t||"file"==e)&&(i.push("//"),(e=this.s)&&i.push(no(e,ko,!0),"@"),i.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&i.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&i.push("/"),i.push(no(t,"/"==t.charAt(0)?po:$o,!0))),(t=this.i.toString())&&i.push("?",t),(t=this.o)&&i.push("#",no(t,ia)),i.join("")};var ko=/[#\/\?@]/g,$o=/[#\?:]/g,po=/[#\?]/g,lo=/[#\?@]/g,ia=/#/g;function ps(i,e){this.h=this.g=null,this.i=i||null,this.j=!!e}function Ei(i){i.g||(i.g=new Map,i.h=0,i.i&&function ki(i,e){if(i){i=i.split("&");for(var t=0;t<i.length;t++){var l=i[t].indexOf("="),f=null;if(0<=l){var v=i[t].substring(0,l);f=i[t].substring(l+1)}else v=i[t];e(v,f?decodeURIComponent(f.replace(/\+/g," ")):"")}}}(i.i,function(e,t){i.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function Ea(i,e){Ei(i),e=eo(i,e),i.g.has(e)&&(i.i=null,i.h-=i.g.get(e).length,i.g.delete(e))}function Js(i,e){return Ei(i),e=eo(i,e),i.g.has(e)}function Qo(i,e,t){Ea(i,e),0<t.length&&(i.i=null,i.g.set(eo(i,e),vt(t)),i.h+=t.length)}function eo(i,e){return e=String(e),i.j&&(e=e.toLowerCase()),e}function No(i){this.l=i||ms,i=Le.PerformanceNavigationTiming?0<(i=Le.performance.getEntriesByType("navigation")).length&&("hq"==i[0].nextHopProtocol||"h2"==i[0].nextHopProtocol):!!(Le.g&&Le.g.Ka&&Le.g.Ka()&&Le.g.Ka().ec),this.j=i?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(Pe=ps.prototype).add=function(i,e){Ei(this),this.i=null,i=eo(this,i);var t=this.g.get(i);return t||this.g.set(i,t=[]),t.push(e),this.h+=1,this},Pe.forEach=function(i,e){Ei(this),this.g.forEach(function(t,l){t.forEach(function(f){i.call(e,f,l,this)},this)},this)},Pe.sa=function(){Ei(this);const i=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let l=0;l<e.length;l++){const f=i[l];for(let v=0;v<f.length;v++)t.push(e[l])}return t},Pe.Z=function(i){Ei(this);let e=[];if("string"==typeof i)Js(this,i)&&(e=e.concat(this.g.get(eo(this,i))));else{i=Array.from(this.g.values());for(let t=0;t<i.length;t++)e=e.concat(i[t])}return e},Pe.set=function(i,e){return Ei(this),this.i=null,Js(this,i=eo(this,i))&&(this.h-=this.g.get(i).length),this.g.set(i,[e]),this.h+=1,this},Pe.get=function(i,e){return i&&0<(i=this.Z(i)).length?String(i[0]):e},Pe.toString=function(){if(this.i)return this.i;if(!this.g)return"";const i=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var l=e[t];const v=encodeURIComponent(String(l)),S=this.Z(l);for(l=0;l<S.length;l++){var f=v;""!==S[l]&&(f+="="+encodeURIComponent(String(S[l]))),i.push(f)}}return this.i=i.join("&")};var ms=10;function ma(i){return!!i.h||!!i.g&&i.g.size>=i.j}function Is(i){return i.h?1:i.g?i.g.size:0}function Qi(i,e){return i.h?i.h==e:!!i.g&&i.g.has(e)}function Jo(i,e){i.g?i.g.add(e):i.h=e}function Vo(i,e){i.h&&i.h==e?i.h=null:i.g&&i.g.has(e)&&i.g.delete(e)}function mo(i){if(null!=i.h)return i.i.concat(i.h.F);if(null!=i.g&&0!==i.g.size){let e=i.i;for(const t of i.g.values())e=e.concat(t.F);return e}return vt(i.i)}function To(){}function Ao(){this.g=new To}function sa(i,e,t){const l=t||"";try{ss(i,function(f,v){let S=f;xe(f)&&(S=xr(f)),e.push(l+v+"="+encodeURIComponent(S))})}catch(f){throw e.push(l+"type="+encodeURIComponent("_badmap")),f}}function ro(i,e,t,l,f){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,f(l)}catch{}}function Uo(i){this.l=i.fc||null,this.j=i.ob||!1}function ys(i,e){bn.call(this),this.F=i,this.u=e,this.m=void 0,this.readyState=Ho,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}No.prototype.cancel=function(){if(this.i=mo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const i of this.g.values())i.cancel();this.g.clear()}},To.prototype.stringify=function(i){return Le.JSON.stringify(i,void 0)},To.prototype.parse=function(i){return Le.JSON.parse(i,void 0)},dt(Uo,Qs),Uo.prototype.g=function(){return new ys(this.l,this.j)},Uo.prototype.i=function(i){return function(){return i}}({}),dt(ys,bn);var Ho=0;function yo(i){i.j.read().then(i.Xa.bind(i)).catch(i.ka.bind(i))}function ea(i){i.readyState=4,i.l=null,i.j=null,i.A=null,Wo(i)}function Wo(i){i.onreadystatechange&&i.onreadystatechange.call(i)}(Pe=ys.prototype).open=function(i,e){if(this.readyState!=Ho)throw this.abort(),Error("Error reopening a connection");this.C=i,this.B=e,this.readyState=1,Wo(this)},Pe.send=function(i){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};i&&(e.body=i),(this.F||Le).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},Pe.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,ea(this)),this.readyState=Ho},Pe.$a=function(i){if(this.g&&(this.l=i,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=i.headers,this.readyState=2,Wo(this)),this.g&&(this.readyState=3,Wo(this),this.g)))if("arraybuffer"===this.responseType)i.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof Le.ReadableStream<"u"&&"body"in i){if(this.j=i.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;yo(this)}else i.text().then(this.Za.bind(this),this.ka.bind(this))},Pe.Xa=function(i){if(this.g){if(this.u&&i.value)this.response.push(i.value);else if(!this.u){var e=i.value?i.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!i.done}))&&(this.response=this.responseText+=e)}i.done?ea(this):Wo(this),3==this.readyState&&yo(this)}},Pe.Za=function(i){this.g&&(this.response=this.responseText=i,ea(this))},Pe.Ya=function(i){this.g&&(this.response=i,ea(this))},Pe.ka=function(){this.g&&ea(this)},Pe.setRequestHeader=function(i,e){this.v.append(i,e)},Pe.getResponseHeader=function(i){return this.h&&this.h.get(i.toLowerCase())||""},Pe.getAllResponseHeaders=function(){if(!this.h)return"";const i=[],e=this.h.entries();for(var t=e.next();!t.done;)i.push((t=t.value)[0]+": "+t[1]),t=e.next();return i.join("\r\n")},Object.defineProperty(ys.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(i){this.m=i?"include":"same-origin"}});var k=Le.JSON.parse;function he(i){bn.call(this),this.headers=new Map,this.u=i||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=N,this.L=this.M=!1}dt(he,bn);var N="",ce=/^https?$/i,Xe=["POST","PUT"];function Cr(i,e){i.h=!1,i.g&&(i.l=!0,i.g.abort(),i.l=!1),i.j=e,i.m=5,Ur(i),wi(i)}function Ur(i){i.F||(i.F=!0,$n(i,"complete"),$n(i,"error"))}function yi(i){if(i.h&&typeof Qe<"u"&&(!i.C[1]||4!=vs(i)||2!=i.da()))if(i.v&&4==vs(i))jn(i.La,0,i);else if($n(i,"readystatechange"),4==vs(i)){i.h=!1;try{const Y=i.da();e:switch(Y){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var l;if(l=0===Y){var f=String(i.I).match(oo)[1]||null;if(!f&&Le.self&&Le.self.location){var v=Le.self.location.protocol;f=v.substr(0,v.length-1)}l=!ce.test(f?f.toLowerCase():"")}t=l}if(t)$n(i,"complete"),$n(i,"success");else{i.m=6;try{var S=2<vs(i)?i.g.statusText:""}catch{S=""}i.j=S+" ["+i.da()+"]",Ur(i)}}finally{wi(i)}}}function wi(i,e){if(i.g){Ms(i);const t=i.g,l=i.C[0]?Me:null;i.g=null,i.C=null,e||$n(i,"ready");try{t.onreadystatechange=l}catch{}}}function Ms(i){i.g&&i.L&&(i.g.ontimeout=null),i.A&&(Le.clearTimeout(i.A),i.A=null)}function vs(i){return i.g?i.g.readyState:0}function Ks(i){try{if(!i.g)return null;if("response"in i.g)return i.g.response;switch(i.K){case N:case"text":return i.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in i.g)return i.g.mozResponseArrayBuffer}return null}catch{return null}}function Fo(i){let e="";return jr(i,function(t,l){e+=l,e+=":",e+=t,e+="\r\n"}),e}function be(i,e,t){e:{for(l in t){var l=!1;break e}l=!0}l||(t=Fo(t),"string"==typeof i?null!=t&&encodeURIComponent(String(t)):Di(i,e,t))}function de(i,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[i]||e}function $(i){this.Ga=0,this.i=[],this.j=new Gn,this.oa=this.wa=this.G=this.Y=this.g=this.Da=this.F=this.ma=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=de("failFast",!1,i),this.M=this.v=this.u=this.m=this.l=null,this.aa=!0,this.ta=this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=de("baseRetryDelayMs",5e3,i),this.hb=de("retryDelaySeedMs",1e4,i),this.eb=de("forwardChannelMaxRetries",2,i),this.xa=de("forwardChannelRequestTimeoutMs",2e4,i),this.va=i&&i.xmlHttpFactory||void 0,this.Ha=i&&i.dc||!1,this.K=void 0,this.I=i&&i.supportsCrossDomainXhr||!1,this.J="",this.h=new No(i&&i.concurrentRequestLimit),this.Ja=new Ao,this.P=i&&i.fastHandshake||!1,this.O=i&&i.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=i&&i.bc||!1,i&&i.Ea&&this.j.Ea(),i&&i.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&i&&i.detectBufferingProxy||!1,this.na=void 0,this.S=0,this.L=!1,this.pa=this.B=null}function L(i){if(F(i),3==i.H){var e=i.W++,t=os(i.G);Di(t,"SID",i.J),Di(t,"RID",e),Di(t,"TYPE","terminate"),dn(i,t),(e=new ye(i,i.j,e,void 0)).L=2,e.v=Li(os(t)),t=!1,Le.navigator&&Le.navigator.sendBeacon&&(t=Le.navigator.sendBeacon(e.v.toString(),"")),!t&&Le.Image&&((new Image).src=e.v,t=!0),t||(e.g=Ds(e.l,null),e.g.ha(e.v)),e.G=Date.now(),Fi(e)}js(i)}function T(i){i.g&&(oi(i),i.g.cancel(),i.g=null)}function F(i){T(i),i.u&&(Le.clearTimeout(i.u),i.u=null),ai(i),i.h.cancel(),i.m&&("number"==typeof i.m&&Le.clearTimeout(i.m),i.m=null)}function ge(i){ma(i.h)||i.m||(i.m=!0,oe(i.Na,i),i.C=0)}function Ot(i,e){var t;t=e?e.m:i.W++;const l=os(i.G);Di(l,"SID",i.J),Di(l,"RID",t),Di(l,"AID",i.V),dn(i,l),i.o&&i.s&&be(l,i.o,i.s),t=new ye(i,i.j,t,i.C+1),null===i.o&&(t.I=i.s),e&&(i.i=e.F.concat(i.i)),e=Tn(i,t,1e3),t.setTimeout(Math.round(.5*i.xa)+Math.round(.5*i.xa*Math.random())),Jo(i.h,t),zn(t,l,e)}function dn(i,e){i.ma&&jr(i.ma,function(t,l){Di(e,l,t)}),i.l&&ss({},function(t,l){Di(e,l,t)})}function Tn(i,e,t){t=Math.min(i.i.length,t);var l=i.l?kt(i.l.Va,i.l,i):null;e:{var f=i.i;let v=-1;for(;;){const S=["count="+t];-1==v?0<t?(v=f[0].h,S.push("ofs="+v)):v=0:S.push("ofs="+v);let Y=!0;for(let ae=0;ae<t;ae++){let we=f[ae].h;const He=f[ae].g;if(we-=v,0>we)v=Math.max(0,f[ae].h-100),Y=!1;else try{sa(He,S,"req"+we+"_")}catch{l&&l(He)}}if(Y){l=S.join("&");break e}}}return i=i.i.splice(0,t),e.F=i,l}function Yr(i){i.g||i.u||(i.ba=1,oe(i.Ma,i),i.A=0)}function qr(i){return!(i.g||i.u||3<=i.A||(i.ba++,i.u=Xi(kt(i.Ma,i),io(i,i.A)),i.A++,0))}function oi(i){null!=i.B&&(Le.clearTimeout(i.B),i.B=null)}function ii(i){i.g=new ye(i,i.j,"rpc",i.ba),null===i.o&&(i.g.I=i.s),i.g.O=0;var e=os(i.wa);Di(e,"RID","rpc"),Di(e,"SID",i.J),Di(e,"CI",i.M?"0":"1"),Di(e,"AID",i.V),Di(e,"TYPE","xmlhttp"),dn(i,e),i.o&&i.s&&be(e,i.o,i.s),i.K&&i.g.setTimeout(i.K);var t=i.g;i=i.oa,t.L=1,t.v=Li(os(e)),t.s=null,t.S=!0,Vn(t,i)}function ai(i){null!=i.v&&(Le.clearTimeout(i.v),i.v=null)}function ji(i,e){var t=null;if(i.g==e){ai(i),oi(i),i.g=null;var l=2}else{if(!Qi(i.h,e))return;t=e.F,Vo(i.h,e),l=1}if(0!=i.H)if(i.ta=e.aa,e.i)if(1==l){t=e.s?e.s.length:0,e=Date.now()-e.G;var f=i.C;$n(l=Wi(),new Co(l,t)),ge(i)}else Yr(i);else if(3==(f=e.o)||0==f&&0<i.ta||!(1==l&&function ft(i,e){return!(Is(i.h)>=i.h.j-(i.m?1:0)||(i.m?(i.i=e.F.concat(i.i),0):1==i.H||2==i.H||i.C>=(i.cb?0:i.eb)||(i.m=Xi(kt(i.Na,i,e),io(i,i.C)),i.C++,0)))}(i,e)||2==l&&qr(i)))switch(t&&0<t.length&&(e=i.h,e.i=e.i.concat(t)),f){case 1:Cs(i,5);break;case 4:Cs(i,10);break;case 3:Cs(i,6);break;default:Cs(i,2)}}function io(i,e){let t=i.ab+Math.floor(Math.random()*i.hb);return i.l||(t*=2),t*e}function Cs(i,e){if(i.j.info("Error code "+e),2==e){var t=null;i.l&&(t=null);var l=kt(i.pb,i);t||(t=new ws("//www.google.com/images/cleardot.gif"),Le.location&&"http"==Le.location.protocol||Br(t,"https"),Li(t)),function to(i,e){const t=new Gn;if(Le.Image){const l=new Image;l.onload=Mt(ro,t,l,"TestLoadImage: loaded",!0,e),l.onerror=Mt(ro,t,l,"TestLoadImage: error",!1,e),l.onabort=Mt(ro,t,l,"TestLoadImage: abort",!1,e),l.ontimeout=Mt(ro,t,l,"TestLoadImage: timeout",!1,e),Le.setTimeout(function(){l.ontimeout&&l.ontimeout()},1e4),l.src=i}else e(!1)}(t.toString(),l)}else zi(2);i.H=0,i.l&&i.l.za(e),js(i),F(i)}function js(i){if(i.H=0,i.pa=[],i.l){const e=mo(i.h);(0!=e.length||0!=i.i.length)&&(nt(i.pa,e),nt(i.pa,i.i),i.h.i.length=0,vt(i.i),i.i.length=0),i.l.ya()}}function Ns(i,e,t){var l=t instanceof ws?os(t):new ws(t,void 0);if(""!=l.g)e&&(l.g=e+"."+l.g),ao(l,l.m);else{var f=Le.location;l=f.protocol,e=e?e+"."+f.hostname:f.hostname,f=+f.port;var v=new ws(null,void 0);l&&Br(v,l),e&&(v.g=e),f&&ao(v,f),t&&(v.l=t),l=v}return e=i.Da,(t=i.F)&&e&&Di(l,t,e),Di(l,"VER",i.qa),dn(i,l),l}function Ds(i,e,t){if(e&&!i.I)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new he(t&&i.Ha&&!i.va?new Uo({ob:!0}):i.va)).Oa(i.I),e}function vo(){}function wa(){if(ct&&!(10<=Number(Yn)))throw Error("Environmental error: no available transport.")}function Lo(i,e){bn.call(this),this.g=new $(e),this.l=i,this.h=e&&e.messageUrlParams||null,i=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(i?i["X-Client-Protocol"]="webchannel":i={"X-Client-Protocol":"webchannel"}),this.g.s=i,i=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(i?i["X-WebChannel-Content-Type"]=e.messageContentType:i={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(i?i["X-WebChannel-Client-Profile"]=e.Ca:i={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=i,(i=e&&e.cc)&&!Nt(i)&&(this.g.o=i),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Nt(e)&&(this.g.F=e,null!==(i=this.h)&&e in i&&e in(i=this.h)&&delete i[e]),this.j=new Ga(this)}function Wa(i){fe.call(this);var e=i.__sm__;if(e){e:{for(const t in e){i=t;break e}i=void 0}(this.i=i)&&(i=this.i,e=null!==e&&i in e?e[i]:void 0),this.data=e}else this.data=i}function ka(){Re.call(this),this.status=1}function Ga(i){this.g=i}function Gi(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function il(i,e,t){t||(t=0);var l=Array(16);if("string"==typeof e)for(var f=0;16>f;++f)l[f]=e.charCodeAt(t++)|e.charCodeAt(t++)<<8|e.charCodeAt(t++)<<16|e.charCodeAt(t++)<<24;else for(f=0;16>f;++f)l[f]=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;var v=i.g[3],S=(e=i.g[0])+(v^(t=i.g[1])&((f=i.g[2])^v))+l[0]+3614090360&4294967295;S=(t=(f=(v=(e=(t=(f=(v=(e=(t=(f=(v=(e=(t=(f=(v=(e=(t=(f=(v=(e=(t=(f=(v=(e=(t=(f=(v=(e=(t=(f=(v=(e=(t=(f=(v=(e=(t=(f=(v=(e=(t=(f=(v=(e=(t=(f=(v=(e=(t=(f=(v=(e=(t=(f=(v=(e=(t=(f=(v=(e=t+(S<<7&4294967295|S>>>25))+((S=v+(f^e&(t^f))+l[1]+3905402710&4294967295)<<12&4294967295|S>>>20))+((S=f+(t^v&(e^t))+l[2]+606105819&4294967295)<<17&4294967295|S>>>15))+((S=t+(e^f&(v^e))+l[3]+3250441966&4294967295)<<22&4294967295|S>>>10))+((S=e+(v^t&(f^v))+l[4]+4118548399&4294967295)<<7&4294967295|S>>>25))+((S=v+(f^e&(t^f))+l[5]+1200080426&4294967295)<<12&4294967295|S>>>20))+((S=f+(t^v&(e^t))+l[6]+2821735955&4294967295)<<17&4294967295|S>>>15))+((S=t+(e^f&(v^e))+l[7]+4249261313&4294967295)<<22&4294967295|S>>>10))+((S=e+(v^t&(f^v))+l[8]+1770035416&4294967295)<<7&4294967295|S>>>25))+((S=v+(f^e&(t^f))+l[9]+2336552879&4294967295)<<12&4294967295|S>>>20))+((S=f+(t^v&(e^t))+l[10]+4294925233&4294967295)<<17&4294967295|S>>>15))+((S=t+(e^f&(v^e))+l[11]+2304563134&4294967295)<<22&4294967295|S>>>10))+((S=e+(v^t&(f^v))+l[12]+1804603682&4294967295)<<7&4294967295|S>>>25))+((S=v+(f^e&(t^f))+l[13]+4254626195&4294967295)<<12&4294967295|S>>>20))+((S=f+(t^v&(e^t))+l[14]+2792965006&4294967295)<<17&4294967295|S>>>15))+((S=t+(e^f&(v^e))+l[15]+1236535329&4294967295)<<22&4294967295|S>>>10))+((S=e+(f^v&(t^f))+l[1]+4129170786&4294967295)<<5&4294967295|S>>>27))+((S=v+(t^f&(e^t))+l[6]+3225465664&4294967295)<<9&4294967295|S>>>23))+((S=f+(e^t&(v^e))+l[11]+643717713&4294967295)<<14&4294967295|S>>>18))+((S=t+(v^e&(f^v))+l[0]+3921069994&4294967295)<<20&4294967295|S>>>12))+((S=e+(f^v&(t^f))+l[5]+3593408605&4294967295)<<5&4294967295|S>>>27))+((S=v+(t^f&(e^t))+l[10]+38016083&4294967295)<<9&4294967295|S>>>23))+((S=f+(e^t&(v^e))+l[15]+3634488961&4294967295)<<14&4294967295|S>>>18))+((S=t+(v^e&(f^v))+l[4]+3889429448&4294967295)<<20&4294967295|S>>>12))+((S=e+(f^v&(t^f))+l[9]+568446438&4294967295)<<5&4294967295|S>>>27))+((S=v+(t^f&(e^t))+l[14]+3275163606&4294967295)<<9&4294967295|S>>>23))+((S=f+(e^t&(v^e))+l[3]+4107603335&4294967295)<<14&4294967295|S>>>18))+((S=t+(v^e&(f^v))+l[8]+1163531501&4294967295)<<20&4294967295|S>>>12))+((S=e+(f^v&(t^f))+l[13]+2850285829&4294967295)<<5&4294967295|S>>>27))+((S=v+(t^f&(e^t))+l[2]+4243563512&4294967295)<<9&4294967295|S>>>23))+((S=f+(e^t&(v^e))+l[7]+1735328473&4294967295)<<14&4294967295|S>>>18))+((S=t+(v^e&(f^v))+l[12]+2368359562&4294967295)<<20&4294967295|S>>>12))+((S=e+(t^f^v)+l[5]+4294588738&4294967295)<<4&4294967295|S>>>28))+((S=v+(e^t^f)+l[8]+2272392833&4294967295)<<11&4294967295|S>>>21))+((S=f+(v^e^t)+l[11]+1839030562&4294967295)<<16&4294967295|S>>>16))+((S=t+(f^v^e)+l[14]+4259657740&4294967295)<<23&4294967295|S>>>9))+((S=e+(t^f^v)+l[1]+2763975236&4294967295)<<4&4294967295|S>>>28))+((S=v+(e^t^f)+l[4]+1272893353&4294967295)<<11&4294967295|S>>>21))+((S=f+(v^e^t)+l[7]+4139469664&4294967295)<<16&4294967295|S>>>16))+((S=t+(f^v^e)+l[10]+3200236656&4294967295)<<23&4294967295|S>>>9))+((S=e+(t^f^v)+l[13]+681279174&4294967295)<<4&4294967295|S>>>28))+((S=v+(e^t^f)+l[0]+3936430074&4294967295)<<11&4294967295|S>>>21))+((S=f+(v^e^t)+l[3]+3572445317&4294967295)<<16&4294967295|S>>>16))+((S=t+(f^v^e)+l[6]+76029189&4294967295)<<23&4294967295|S>>>9))+((S=e+(t^f^v)+l[9]+3654602809&4294967295)<<4&4294967295|S>>>28))+((S=v+(e^t^f)+l[12]+3873151461&4294967295)<<11&4294967295|S>>>21))+((S=f+(v^e^t)+l[15]+530742520&4294967295)<<16&4294967295|S>>>16))+((S=t+(f^v^e)+l[2]+3299628645&4294967295)<<23&4294967295|S>>>9))+((S=e+(f^(t|~v))+l[0]+4096336452&4294967295)<<6&4294967295|S>>>26))+((S=v+(t^(e|~f))+l[7]+1126891415&4294967295)<<10&4294967295|S>>>22))+((S=f+(e^(v|~t))+l[14]+2878612391&4294967295)<<15&4294967295|S>>>17))+((S=t+(v^(f|~e))+l[5]+4237533241&4294967295)<<21&4294967295|S>>>11))+((S=e+(f^(t|~v))+l[12]+1700485571&4294967295)<<6&4294967295|S>>>26))+((S=v+(t^(e|~f))+l[3]+2399980690&4294967295)<<10&4294967295|S>>>22))+((S=f+(e^(v|~t))+l[10]+4293915773&4294967295)<<15&4294967295|S>>>17))+((S=t+(v^(f|~e))+l[1]+2240044497&4294967295)<<21&4294967295|S>>>11))+((S=e+(f^(t|~v))+l[8]+1873313359&4294967295)<<6&4294967295|S>>>26))+((S=v+(t^(e|~f))+l[15]+4264355552&4294967295)<<10&4294967295|S>>>22))+((S=f+(e^(v|~t))+l[6]+2734768916&4294967295)<<15&4294967295|S>>>17))+((S=t+(v^(f|~e))+l[13]+1309151649&4294967295)<<21&4294967295|S>>>11))+((v=(e=t+((S=e+(f^(t|~v))+l[4]+4149444226&4294967295)<<6&4294967295|S>>>26))+((S=v+(t^(e|~f))+l[11]+3174756917&4294967295)<<10&4294967295|S>>>22))^((f=v+((S=f+(e^(v|~t))+l[2]+718787259&4294967295)<<15&4294967295|S>>>17))|~e))+l[9]+3951481745&4294967295,i.g[0]=i.g[0]+e&4294967295,i.g[1]=i.g[1]+(f+(S<<21&4294967295|S>>>11))&4294967295,i.g[2]=i.g[2]+f&4294967295,i.g[3]=i.g[3]+v&4294967295}function Fs(i,e){this.h=e;for(var t=[],l=!0,f=i.length-1;0<=f;f--){var v=0|i[f];l&&v==e||(t[f]=v,l=!1)}this.g=t}(Pe=he.prototype).Oa=function(i){this.M=i},Pe.ha=function(i,e,t,l){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+i);e=e?e.toUpperCase():"GET",this.I=i,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Ee.g(),this.C=function Vs(i){return i.h||(i.h=i.i())}(this.u?this.u:Ee),this.g.onreadystatechange=kt(this.La,this);try{this.G=!0,this.g.open(e,String(i),!0),this.G=!1}catch(v){return void Cr(this,v)}if(i=t||"",t=new Map(this.headers),l)if(Object.getPrototypeOf(l)===Object.prototype)for(var f in l)t.set(f,l[f]);else{if("function"!=typeof l.keys||"function"!=typeof l.get)throw Error("Unknown input type for opt_headers: "+String(l));for(const v of l.keys())t.set(v,l.get(v))}l=Array.from(t.keys()).find(v=>"content-type"==v.toLowerCase()),f=Le.FormData&&i instanceof Le.FormData,!(0<=wt(Xe,e))||l||f||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[v,S]of t)this.g.setRequestHeader(v,S);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{Ms(this),0<this.B&&((this.L=function En(i){return ct&&function ar(){return Je(Xn,9,function(){let i=0;const e=qt(String(Qt)).split("."),t=qt("9").split("."),l=Math.max(e.length,t.length);for(let S=0;0==i&&S<l;S++){var f=e[S]||"",v=t[S]||"";do{if(f=/(\d*)(\D*)(.*)/.exec(f)||["","","",""],v=/(\d*)(\D*)(.*)/.exec(v)||["","","",""],0==f[0].length&&0==v[0].length)break;i=Te(0==f[1].length?0:parseInt(f[1],10),0==v[1].length?0:parseInt(v[1],10))||Te(0==f[2].length,0==v[2].length)||Te(f[2],v[2]),f=f[3],v=v[3]}while(0==i)}return 0<=i})}()&&"number"==typeof i.timeout&&void 0!==i.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=kt(this.ua,this)):this.A=jn(this.ua,this.B,this)),this.v=!0,this.g.send(i),this.v=!1}catch(v){Cr(this,v)}},Pe.ua=function(){typeof Qe<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,$n(this,"timeout"),this.abort(8))},Pe.abort=function(i){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=i||7,$n(this,"complete"),$n(this,"abort"),wi(this))},Pe.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),wi(this,!0)),he.$.N.call(this)},Pe.La=function(){this.s||(this.G||this.v||this.l?yi(this):this.kb())},Pe.kb=function(){yi(this)},Pe.da=function(){try{return 2<vs(this)?this.g.status:-1}catch{return-1}},Pe.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},Pe.Wa=function(i){if(this.g){var e=this.g.responseText;return i&&0==e.indexOf(i)&&(e=e.substring(i.length)),k(e)}},Pe.Ia=function(){return this.m},Pe.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(Pe=$.prototype).qa=8,Pe.H=1,Pe.Na=function(i){if(this.m)if(this.m=null,1==this.H){if(!i){this.W=Math.floor(1e5*Math.random()),i=this.W++;const f=new ye(this,this.j,i,void 0);let v=this.s;if(this.U&&(v?(v=mr(v),pi(v,this.U)):v=this.U),null!==this.o||this.O||(f.I=v,v=null),this.P)e:{for(var e=0,t=0;t<this.i.length;t++){var l=this.i[t];if(void 0===(l="__data__"in l.g&&"string"==typeof(l=l.g.__data__)?l.length:void 0))break;if(4096<(e+=l)){e=t;break e}if(4096===e||t===this.i.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=Tn(this,f,e),Di(t=os(this.G),"RID",i),Di(t,"CVER",22),this.F&&Di(t,"X-HTTP-Session-Id",this.F),dn(this,t),v&&(this.O?e="headers="+encodeURIComponent(String(Fo(v)))+"&"+e:this.o&&be(t,this.o,v)),Jo(this.h,f),this.bb&&Di(t,"TYPE","init"),this.P?(Di(t,"$req",e),Di(t,"SID","null"),f.ba=!0,zn(f,t,null)):zn(f,t,e),this.H=2}}else 3==this.H&&(i?Ot(this,i):0==this.i.length||ma(this.h)||Ot(this))},Pe.Ma=function(){if(this.u=null,ii(this),this.ca&&!(this.L||null==this.g||0>=this.S)){var i=2*this.S;this.j.info("BP detection timer enabled: "+i),this.B=Xi(kt(this.jb,this),i)}},Pe.jb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.M=!1,this.L=!0,zi(10),T(this),ii(this))},Pe.ib=function(){null!=this.v&&(this.v=null,T(this),qr(this),zi(19))},Pe.pb=function(i){i?(this.j.info("Successfully pinged google.com"),zi(2)):(this.j.info("Failed to ping google.com"),zi(1))},(Pe=vo.prototype).Ba=function(){},Pe.Aa=function(){},Pe.za=function(){},Pe.ya=function(){},Pe.Va=function(){},wa.prototype.g=function(i,e){return new Lo(i,e)},dt(Lo,bn),Lo.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.I=!0);var i=this.g,e=this.l,t=this.h||void 0;zi(0),i.Y=e,i.ma=t||{},i.M=i.aa,i.G=Ns(i,null,i.Y),ge(i)},Lo.prototype.close=function(){L(this.g)},Lo.prototype.u=function(i){var e=this.g;if("string"==typeof i){var t={};t.__data__=i,i=t}else this.v&&((t={}).__data__=xr(i),i=t);e.i.push(new class{constructor(i,e){this.h=i,this.g=e}}(e.fb++,i)),3==e.H&&ge(e)},Lo.prototype.N=function(){this.g.l=null,delete this.j,L(this.g),delete this.g,Lo.$.N.call(this)},dt(Wa,fe),dt(ka,Re),dt(Ga,vo),Ga.prototype.Ba=function(){$n(this.g,"a")},Ga.prototype.Aa=function(i){$n(this.g,new Wa(i))},Ga.prototype.za=function(i){$n(this.g,new ka)},Ga.prototype.ya=function(){$n(this.g,"b")},dt(Gi,function ml(){this.blockSize=-1}),Gi.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Gi.prototype.j=function(i,e){void 0===e&&(e=i.length);for(var t=e-this.blockSize,l=this.m,f=this.h,v=0;v<e;){if(0==f)for(;v<=t;)il(this,i,v),v+=this.blockSize;if("string"==typeof i){for(;v<e;)if(l[f++]=i.charCodeAt(v++),f==this.blockSize){il(this,l),f=0;break}}else for(;v<e;)if(l[f++]=i[v++],f==this.blockSize){il(this,l),f=0;break}}this.h=f,this.i+=e},Gi.prototype.l=function(){var i=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);i[0]=128;for(var e=1;e<i.length-8;++e)i[e]=0;var t=8*this.i;for(e=i.length-8;e<i.length;++e)i[e]=255&t,t/=256;for(this.j(i),i=Array(16),e=t=0;4>e;++e)for(var l=0;32>l;l+=8)i[t++]=this.g[e]>>>l&255;return i};var xl={};function Ml(i){return-128<=i&&128>i?Je(xl,i,function(e){return new Fs([0|e],0>e?-1:0)}):new Fs([0|i],0>i?-1:0)}function Go(i){if(isNaN(i)||!isFinite(i))return X;if(0>i)return Dt(Go(-i));for(var e=[],t=1,l=0;i>=t;l++)e[l]=i/t|0,t*=P;return new Fs(e,0)}var P=4294967296,X=Ml(0),le=Ml(1),De=Ml(16777216);function Ue(i){if(0!=i.h)return!1;for(var e=0;e<i.g.length;e++)if(0!=i.g[e])return!1;return!0}function ot(i){return-1==i.h}function Dt(i){for(var e=i.g.length,t=[],l=0;l<e;l++)t[l]=~i.g[l];return new Fs(t,~i.h).add(le)}function Wt(i,e){return i.add(Dt(e))}function tn(i,e){for(;(65535&i[e])!=i[e];)i[e+1]+=i[e]>>>16,i[e]&=65535,e++}function kn(i,e){this.g=i,this.h=e}function nr(i,e){if(Ue(e))throw Error("division by zero");if(Ue(i))return new kn(X,X);if(ot(i))return e=nr(Dt(i),e),new kn(Dt(e.g),Dt(e.h));if(ot(e))return e=nr(i,Dt(e)),new kn(Dt(e.g),e.h);if(30<i.g.length){if(ot(i)||ot(e))throw Error("slowDivide_ only works with positive integers.");for(var t=le,l=e;0>=l.X(i);)t=li(t),l=li(l);var f=Wr(t,1),v=Wr(l,1);for(l=Wr(l,2),t=Wr(t,2);!Ue(l);){var S=v.add(l);0>=S.X(i)&&(f=f.add(t),v=S),l=Wr(l,1),t=Wr(t,1)}return e=Wt(i,f.R(e)),new kn(f,e)}for(f=X;0<=i.X(e);){for(t=Math.max(1,Math.floor(i.ea()/e.ea())),l=48>=(l=Math.ceil(Math.log(t)/Math.LN2))?1:Math.pow(2,l-48),S=(v=Go(t)).R(e);ot(S)||0<S.X(i);)S=(v=Go(t-=l)).R(e);Ue(v)&&(v=le),f=f.add(v),i=Wt(i,S)}return new kn(f,i)}function li(i){for(var e=i.g.length+1,t=[],l=0;l<e;l++)t[l]=i.D(l)<<1|i.D(l-1)>>>31;return new Fs(t,i.h)}function Wr(i,e){var t=e>>5;e%=32;for(var l=i.g.length-t,f=[],v=0;v<l;v++)f[v]=0<e?i.D(v+t)>>>e|i.D(v+t+1)<<32-e:i.D(v+t);return new Fs(f,i.h)}(Pe=Fs.prototype).ea=function(){if(ot(this))return-Dt(this).ea();for(var i=0,e=1,t=0;t<this.g.length;t++){var l=this.D(t);i+=(0<=l?l:P+l)*e,e*=P}return i},Pe.toString=function(i){if(2>(i=i||10)||36<i)throw Error("radix out of range: "+i);if(Ue(this))return"0";if(ot(this))return"-"+Dt(this).toString(i);for(var e=Go(Math.pow(i,6)),t=this,l="";;){var f=nr(t,e).g,v=((0<(t=Wt(t,f.R(e))).g.length?t.g[0]:t.h)>>>0).toString(i);if(Ue(t=f))return v+l;for(;6>v.length;)v="0"+v;l=v+l}},Pe.D=function(i){return 0>i?0:i<this.g.length?this.g[i]:this.h},Pe.X=function(i){return ot(i=Wt(this,i))?-1:Ue(i)?0:1},Pe.abs=function(){return ot(this)?Dt(this):this},Pe.add=function(i){for(var e=Math.max(this.g.length,i.g.length),t=[],l=0,f=0;f<=e;f++){var v=l+(65535&this.D(f))+(65535&i.D(f)),S=(v>>>16)+(this.D(f)>>>16)+(i.D(f)>>>16);l=S>>>16,t[f]=(S&=65535)<<16|(v&=65535)}return new Fs(t,-2147483648&t[t.length-1]?-1:0)},Pe.R=function(i){if(Ue(this)||Ue(i))return X;if(ot(this))return ot(i)?Dt(this).R(Dt(i)):Dt(Dt(this).R(i));if(ot(i))return Dt(this.R(Dt(i)));if(0>this.X(De)&&0>i.X(De))return Go(this.ea()*i.ea());for(var e=this.g.length+i.g.length,t=[],l=0;l<2*e;l++)t[l]=0;for(l=0;l<this.g.length;l++)for(var f=0;f<i.g.length;f++){var v=this.D(l)>>>16,S=65535&this.D(l),Y=i.D(f)>>>16,ae=65535&i.D(f);t[2*l+2*f]+=S*ae,tn(t,2*l+2*f),t[2*l+2*f+1]+=v*ae,tn(t,2*l+2*f+1),t[2*l+2*f+1]+=S*Y,tn(t,2*l+2*f+1),t[2*l+2*f+2]+=v*Y,tn(t,2*l+2*f+2)}for(l=0;l<e;l++)t[l]=t[2*l+1]<<16|t[2*l];for(l=e;l<2*e;l++)t[l]=0;return new Fs(t,0)},Pe.gb=function(i){return nr(this,i).h},Pe.and=function(i){for(var e=Math.max(this.g.length,i.g.length),t=[],l=0;l<e;l++)t[l]=this.D(l)&i.D(l);return new Fs(t,this.h&i.h)},Pe.or=function(i){for(var e=Math.max(this.g.length,i.g.length),t=[],l=0;l<e;l++)t[l]=this.D(l)|i.D(l);return new Fs(t,this.h|i.h)},Pe.xor=function(i){for(var e=Math.max(this.g.length,i.g.length),t=[],l=0;l<e;l++)t[l]=this.D(l)^i.D(l);return new Fs(t,this.h^i.h)},wa.prototype.createWebChannel=wa.prototype.g,Lo.prototype.send=Lo.prototype.u,Lo.prototype.open=Lo.prototype.m,Lo.prototype.close=Lo.prototype.close,Ri.NO_ERROR=0,Ri.TIMEOUT=8,Ri.HTTP_ERROR=6,$s.COMPLETE="complete",Us.EventType=ie,ie.OPEN="a",ie.CLOSE="b",ie.ERROR="c",ie.MESSAGE="d",bn.prototype.listen=bn.prototype.O,he.prototype.listenOnce=he.prototype.P,he.prototype.getLastError=he.prototype.Sa,he.prototype.getLastErrorCode=he.prototype.Ia,he.prototype.getStatus=he.prototype.da,he.prototype.getResponseJson=he.prototype.Wa,he.prototype.getResponseText=he.prototype.ja,he.prototype.send=he.prototype.ha,he.prototype.setWithCredentials=he.prototype.Oa,Gi.prototype.digest=Gi.prototype.l,Gi.prototype.reset=Gi.prototype.reset,Gi.prototype.update=Gi.prototype.j,Fs.prototype.add=Fs.prototype.add,Fs.prototype.multiply=Fs.prototype.R,Fs.prototype.modulo=Fs.prototype.gb,Fs.prototype.compare=Fs.prototype.X,Fs.prototype.toNumber=Fs.prototype.ea,Fs.prototype.toString=Fs.prototype.toString,Fs.prototype.getBits=Fs.prototype.D,Fs.fromNumber=Go,Fs.fromString=function sl(i,e){if(0==i.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==i.charAt(0))return Dt(sl(i.substring(1),e));if(0<=i.indexOf("-"))throw Error('number format error: interior "-" character');for(var t=Go(Math.pow(e,8)),l=X,f=0;f<i.length;f+=8){var v=Math.min(8,i.length-f),S=parseInt(i.substring(f,f+v),e);8>v?(v=Go(Math.pow(e,v)),l=l.R(v).add(Go(S))):l=(l=l.R(t)).add(Go(S))}return l};var Ls=Se.createWebChannelTransport=function(){return new wa},co=Se.getStatEventTarget=function(){return Wi()},q=Se.ErrorCode=Ri,ue=Se.EventType=$s,ee=Se.Event=kr,Fe=Se.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},_t=Se.FetchXmlHttpFactory=Uo,_n=Se.WebChannel=Us,An=Se.XhrIo=he,Jr=Se.Md5=Gi,yr=Se.Integer=Fs;const Ni="@firebase/firestore";class di{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}di.UNAUTHENTICATED=new di(null),di.GOOGLE_CREDENTIALS=new di("google-credentials-uid"),di.FIRST_PARTY=new di("first-party-uid"),di.MOCK_USER=new di("mock-user");let xi="9.22.0";const _s=new Oe.Yd("@firebase/firestore");function Ps(){return _s.logLevel}function xo(i){_s.setLogLevel(i)}function Un(i,...e){if(_s.logLevel<=Oe.in.DEBUG){const t=e.map(oa);_s.debug(`Firestore (${xi}): ${i}`,...t)}}function Mi(i,...e){if(_s.logLevel<=Oe.in.ERROR){const t=e.map(oa);_s.error(`Firestore (${xi}): ${i}`,...t)}}function Ko(i,...e){if(_s.logLevel<=Oe.in.WARN){const t=e.map(oa);_s.warn(`Firestore (${xi}): ${i}`,...t)}}function oa(i){if("string"==typeof i)return i;try{return JSON.stringify(i)}catch{return i}}function Sr(i="Unexpected state"){const e=`FIRESTORE (${xi}) INTERNAL ASSERTION FAILED: `+i;throw Mi(e),new Error(e)}function Zr(i,e){i||Sr()}function Wn(i,e){i||Sr()}function Ln(i,e){return i}const wn={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class qn extends Ze.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class as{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class nc{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class yl{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(di.UNAUTHENTICATED))}shutdown(){}}class qa{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class rc{constructor(e){this.t=e,this.currentUser=di.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var l=this;let f=this.i;const v=we=>this.i!==f?(f=this.i,t(we)):Promise.resolve();let S=new as;this.o=()=>{this.i++,this.currentUser=this.u(),S.resolve(),S=new as,e.enqueueRetryable(()=>v(this.currentUser))};const Y=()=>{const we=S;e.enqueueRetryable((0,h.Z)(function*(){yield we.promise,yield v(l.currentUser)}))},ae=we=>{Un("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=we,this.auth.addAuthTokenListener(this.o),Y()};this.t.onInit(we=>ae(we)),setTimeout(()=>{if(!this.auth){const we=this.t.getImmediate({optional:!0});we?ae(we):(Un("FirebaseAuthCredentialsProvider","Auth not yet detected"),S.resolve(),S=new as)}},0),Y()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(l=>this.i!==e?(Un("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):l?(Zr("string"==typeof l.accessToken),new nc(l.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Zr(null===e||"string"==typeof e),new di(e)}}class Tc{constructor(e,t,l){this.h=e,this.l=t,this.m=l,this.type="FirstParty",this.user=di.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class ya{constructor(e,t,l){this.h=e,this.l=t,this.m=l}getToken(){return Promise.resolve(new Tc(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(di.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Pl{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Ld{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,t){const l=v=>{null!=v.error&&Un("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${v.error.message}`);const S=v.token!==this.T;return this.T=v.token,Un("FirebaseAppCheckTokenProvider",`Received ${S?"new":"existing"} token.`),S?t(v.token):Promise.resolve()};this.o=v=>{e.enqueueRetryable(()=>l(v))};const f=v=>{Un("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=v,this.appCheck.addTokenListener(this.o)};this.I.onInit(v=>f(v)),setTimeout(()=>{if(!this.appCheck){const v=this.I.getImmediate({optional:!0});v?f(v):Un("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Zr("string"==typeof t.token),this.T=t.token,new Pl(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function ha(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(i);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let l=0;l<i;l++)t[l]=Math.floor(256*Math.random());return t}class ic{static A(){const t=62*Math.floor(256/62);let l="";for(;l.length<20;){const f=ha(40);for(let v=0;v<f.length;++v)l.length<20&&f[v]<t&&(l+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(f[v]%62))}return l}}function Pi(i,e){return i<e?-1:i>e?1:0}function va(i,e,t){return i.length===e.length&&i.every((l,f)=>t(l,e[f]))}function Fh(i){return i+"\0"}class _o{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new qn(wn.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new qn(wn.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new qn(wn.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new qn(wn.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return _o.fromMillis(Date.now())}static fromDate(e){return _o.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),l=Math.floor(1e6*(e-1e3*t));return new _o(t,l)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Pi(this.nanoseconds,e.nanoseconds):Pi(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class hi{constructor(e){this.timestamp=e}static fromTimestamp(e){return new hi(e)}static min(){return new hi(new _o(0,0))}static max(){return new hi(new _o(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Za{constructor(e,t,l){void 0===t?t=0:t>e.length&&Sr(),void 0===l?l=e.length-t:l>e.length-t&&Sr(),this.segments=e,this.offset=t,this.len=l}get length(){return this.len}isEqual(e){return 0===Za.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Za?e.forEach(l=>{t.push(l)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,l=this.limit();t<l;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const l=Math.min(e.length,t.length);for(let f=0;f<l;f++){const v=e.get(f),S=t.get(f);if(v<S)return-1;if(v>S)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Ki extends Za{construct(e,t,l){return new Ki(e,t,l)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const l of e){if(l.indexOf("//")>=0)throw new qn(wn.INVALID_ARGUMENT,`Invalid segment (${l}). Paths must not contain // in them.`);t.push(...l.split("/").filter(f=>f.length>0))}return new Ki(t)}static emptyPath(){return new Ki([])}}const vl=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Bs extends Za{construct(e,t,l){return new Bs(e,t,l)}static isValidIdentifier(e){return vl.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Bs.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Bs(["__name__"])}static fromServerFormat(e){const t=[];let l="",f=0;const v=()=>{if(0===l.length)throw new qn(wn.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(l),l=""};let S=!1;for(;f<e.length;){const Y=e[f];if("\\"===Y){if(f+1===e.length)throw new qn(wn.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const ae=e[f+1];if("\\"!==ae&&"."!==ae&&"`"!==ae)throw new qn(wn.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);l+=ae,f+=2}else"`"===Y?(S=!S,f++):"."!==Y||S?(l+=Y,f++):(v(),f++)}if(v(),S)throw new qn(wn.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Bs(t)}static emptyPath(){return new Bs([])}}class _r{constructor(e){this.path=e}static fromPath(e){return new _r(Ki.fromString(e))}static fromName(e){return new _r(Ki.fromString(e).popFirst(5))}static empty(){return new _r(Ki.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Ki.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Ki.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new _r(new Ki(e.slice()))}}class Ac{constructor(e,t,l,f){this.indexId=e,this.collectionGroup=t,this.fields=l,this.indexState=f}}function sc(i){return i.fields.find(e=>2===e.kind)}function ol(i){return i.fields.filter(e=>2!==e.kind)}Ac.UNKNOWN_ID=-1;class zl{constructor(e,t){this.fieldPath=e,this.kind=t}}class al{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new al(0,Ba.min())}}function Ka(i,e){const t=i.toTimestamp().seconds,l=i.toTimestamp().nanoseconds+1,f=hi.fromTimestamp(1e9===l?new _o(t+1,0):new _o(t,l));return new Ba(f,_r.empty(),e)}function Mc(i){return new Ba(i.readTime,i.key,-1)}class Ba{constructor(e,t,l){this.readTime=e,this.documentKey=t,this.largestBatchId=l}static min(){return new Ba(hi.min(),_r.empty(),-1)}static max(){return new Ba(hi.max(),_r.empty(),-1)}}function Mo(i,e){let t=i.readTime.compareTo(e.readTime);return 0!==t?t:(t=_r.comparator(i.documentKey,e.documentKey),0!==t?t:Pi(i.largestBatchId,e.largestBatchId))}const ll="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Bo{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function _l(i){return su.apply(this,arguments)}function su(){return su=(0,h.Z)(function*(i){if(i.code!==wn.FAILED_PRECONDITION||i.message!==ll)throw i;Un("LocalStore","Unexpectedly lost primary lease")}),su.apply(this,arguments)}class fn{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Sr(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new fn((l,f)=>{this.nextCallback=v=>{this.wrapSuccess(e,v).next(l,f)},this.catchCallback=v=>{this.wrapFailure(t,v).next(l,f)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof fn?t:fn.resolve(t)}catch(t){return fn.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):fn.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):fn.reject(t)}static resolve(e){return new fn((t,l)=>{t(e)})}static reject(e){return new fn((t,l)=>{l(e)})}static waitFor(e){return new fn((t,l)=>{let f=0,v=0,S=!1;e.forEach(Y=>{++f,Y.next(()=>{++v,S&&v===f&&t()},ae=>l(ae))}),S=!0,v===f&&t()})}static or(e){let t=fn.resolve(!1);for(const l of e)t=t.next(f=>f?fn.resolve(f):l());return t}static forEach(e,t){const l=[];return e.forEach((f,v)=>{l.push(t.call(this,f,v))}),this.waitFor(l)}static mapArray(e,t){return new fn((l,f)=>{const v=e.length,S=new Array(v);let Y=0;for(let ae=0;ae<v;ae++){const we=ae;t(e[we]).next(He=>{S[we]=He,++Y,Y===v&&l(S)},He=>f(He))}})}static doWhile(e,t){return new fn((l,f)=>{const v=()=>{!0===e()?t().next(()=>{v()},f):l()};v()})}}class Ia{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.v=new as,this.transaction.oncomplete=()=>{this.v.resolve()},this.transaction.onabort=()=>{t.error?this.v.reject(new bl(e,t.error)):this.v.resolve()},this.transaction.onerror=l=>{const f=G(l.target.error);this.v.reject(new bl(e,f))}}static open(e,t,l,f){try{return new Ia(t,e.transaction(f,l))}catch(v){throw new bl(t,v)}}get R(){return this.v.promise}abort(e){e&&this.v.reject(e),this.aborted||(Un("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}P(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new Pc(t)}}class Yo{constructor(e,t,l){this.name=e,this.version=t,this.V=l,12.2===Yo.S((0,Ze.z$)())&&Mi("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Un("SimpleDb","Removing database:",e),Ys(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!(0,Ze.hl)())return!1;if(Yo.C())return!0;const e=(0,Ze.z$)(),t=Yo.S(e),l=0<t&&t<10,f=Yo.N(e),v=0<f&&f<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||l||v)}static C(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.k)}static M(e,t){return e.store(t)}static S(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),l=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(l)}static N(e){const t=e.match(/Android ([\d.]+)/i),l=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(l)}$(e){var t=this;return(0,h.Z)(function*(){return t.db||(Un("SimpleDb","Opening database:",t.name),t.db=yield new Promise((l,f)=>{const v=indexedDB.open(t.name,t.version);v.onsuccess=S=>{l(S.target.result)},v.onblocked=()=>{f(new bl(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},v.onerror=S=>{const Y=S.target.error;f("VersionError"===Y.name?new qn(wn.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===Y.name?new qn(wn.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+Y):new bl(e,Y))},v.onupgradeneeded=S=>{Un("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',S.oldVersion),t.V.O(S.target.result,v.transaction,S.oldVersion,t.version).next(()=>{Un("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.F&&(t.db.onversionchange=l=>t.F(l)),t.db})()}B(e){this.F=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,l,f){var v=this;return(0,h.Z)(function*(){const S="readonly"===t;let Y=0;for(;;){++Y;try{v.db=yield v.$(e);const ae=Ia.open(v.db,e,S?"readonly":"readwrite",l),we=f(ae).next(He=>(ae.P(),He)).catch(He=>(ae.abort(He),fn.reject(He))).toPromise();return we.catch(()=>{}),yield ae.R,we}catch(ae){const we=ae,He="FirebaseError"!==we.name&&Y<3;if(Un("SimpleDb","Transaction failed with error:",we.message,"Retrying:",He),v.close(),!He)return Promise.reject(we)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class Bd{constructor(e){this.L=e,this.q=!1,this.U=null}get isDone(){return this.q}get K(){return this.U}set cursor(e){this.L=e}done(){this.q=!0}G(e){this.U=e}delete(){return Ys(this.L.delete())}}class bl extends qn{constructor(e,t){super(wn.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function Po(i){return"IndexedDbTransactionError"===i.name}class Pc{constructor(e){this.store=e}put(e,t){let l;return void 0!==t?(Un("SimpleDb","PUT",this.store.name,e,t),l=this.store.put(t,e)):(Un("SimpleDb","PUT",this.store.name,"<auto-key>",e),l=this.store.put(e)),Ys(l)}add(e){return Un("SimpleDb","ADD",this.store.name,e,e),Ys(this.store.add(e))}get(e){return Ys(this.store.get(e)).next(t=>(void 0===t&&(t=null),Un("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return Un("SimpleDb","DELETE",this.store.name,e),Ys(this.store.delete(e))}count(){return Un("SimpleDb","COUNT",this.store.name),Ys(this.store.count())}j(e,t){const l=this.options(e,t);if(l.index||"function"!=typeof this.store.getAll){const f=this.cursor(l),v=[];return this.W(f,(S,Y)=>{v.push(Y)}).next(()=>v)}{const f=this.store.getAll(l.range);return new fn((v,S)=>{f.onerror=Y=>{S(Y.target.error)},f.onsuccess=Y=>{v(Y.target.result)}})}}H(e,t){const l=this.store.getAll(e,null===t?void 0:t);return new fn((f,v)=>{l.onerror=S=>{v(S.target.error)},l.onsuccess=S=>{f(S.target.result)}})}J(e,t){Un("SimpleDb","DELETE ALL",this.store.name);const l=this.options(e,t);l.Y=!1;const f=this.cursor(l);return this.W(f,(v,S,Y)=>Y.delete())}X(e,t){let l;t?l=e:(l={},t=e);const f=this.cursor(l);return this.W(f,t)}Z(e){const t=this.cursor({});return new fn((l,f)=>{t.onerror=v=>{const S=G(v.target.error);f(S)},t.onsuccess=v=>{const S=v.target.result;S?e(S.primaryKey,S.value).next(Y=>{Y?S.continue():l()}):l()}})}W(e,t){const l=[];return new fn((f,v)=>{e.onerror=S=>{v(S.target.error)},e.onsuccess=S=>{const Y=S.target.result;if(!Y)return void f();const ae=new Bd(Y),we=t(Y.primaryKey,Y.value,ae);if(we instanceof fn){const He=we.catch(St=>(ae.done(),fn.reject(St)));l.push(He)}ae.isDone?f():null===ae.K?Y.continue():Y.continue(ae.K)}}).next(()=>fn.waitFor(l))}options(e,t){let l;return void 0!==e&&("string"==typeof e?l=e:t=e),{index:l,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const l=this.store.index(e.index);return e.Y?l.openKeyCursor(e.range,t):l.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Ys(i){return new fn((e,t)=>{i.onsuccess=l=>{e(l.target.result)},i.onerror=l=>{const f=G(l.target.error);t(f)}})}let V=!1;function G(i){const e=Yo.S((0,Ze.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(i.message.indexOf(t)>=0){const l=new qn("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return V||(V=!0,setTimeout(()=>{throw l},0)),l}}return i}class O{constructor(e,t){this.asyncQueue=e,this.tt=t,this.task=null}start(){this.et(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}et(e){var t=this;Un("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,h.Z)(function*(){t.task=null;try{Un("IndexBackiller",`Documents written: ${yield t.tt.nt()}`)}catch(l){Po(l)?Un("IndexBackiller","Ignoring IndexedDB error during index backfill: ",l):yield _l(l)}yield t.et(6e4)}))}}class Z{constructor(e,t){this.localStore=e,this.persistence=t}nt(e=50){var t=this;return(0,h.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",l=>t.st(l,e))})()}st(e,t){const l=new Set;let f=t,v=!0;return fn.doWhile(()=>!0===v&&f>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(S=>{if(null!==S&&!l.has(S))return Un("IndexBackiller",`Processing collection: ${S}`),this.it(e,S,f).next(Y=>{f-=Y,l.add(S)});v=!1})).next(()=>t-f)}it(e,t,l){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(f=>this.localStore.localDocuments.getNextDocuments(e,t,f,l).next(v=>{const S=v.changes;return this.localStore.indexManager.updateIndexEntries(e,S).next(()=>this.rt(f,v)).next(Y=>(Un("IndexBackiller",`Updating offset: ${Y}`),this.localStore.indexManager.updateCollectionGroup(e,t,Y))).next(()=>S.size)}))}rt(e,t){let l=e;return t.changes.forEach((f,v)=>{const S=Mc(v);Mo(S,l)>0&&(l=S)}),new Ba(l.readTime,l.documentKey,Math.max(t.batchId,e.largestBatchId))}}let pe=(()=>{class i{constructor(t,l){this.previousValue=t,l&&(l.sequenceNumberHandler=f=>this.ot(f),this.ut=f=>l.writeSequenceNumber(f))}ot(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ut&&this.ut(t),t}}return i.ct=-1,i})();function Ye(i){return null==i}function je(i){return 0===i&&1/i==-1/0}function Kt(i){return"number"==typeof i&&Number.isInteger(i)&&!je(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}function Sn(i){let e="";for(let t=0;t<i.length;t++)e.length>0&&(e=_i(e)),e=Tr(i.get(t),e);return _i(e)}function Tr(i,e){let t=e;const l=i.length;for(let f=0;f<l;f++){const v=i.charAt(f);switch(v){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=v}}return t}function _i(i){return i+"\x01\x01"}function Gr(i){const e=i.length;if(Zr(e>=2),2===e)return Zr("\x01"===i.charAt(0)&&"\x01"===i.charAt(1)),Ki.emptyPath();const t=e-2,l=[];let f="";for(let v=0;v<e;){const S=i.indexOf("\x01",v);switch((S<0||S>t)&&Sr(),i.charAt(S+1)){case"\x01":const Y=i.substring(v,S);let ae;0===f.length?ae=Y:(f+=Y,ae=f,f=""),l.push(ae);break;case"\x10":f+=i.substring(v,S),f+="\0";break;case"\x11":f+=i.substring(v,S+1);break;default:Sr()}v=S+2}return new Ki(l)}const Yi=["userId","batchId"];function C(i,e){return[i,Sn(e)]}function y(i,e,t){return[i,Sn(e),t]}const d={},m=["prefixPath","collectionGroup","readTime","documentId"],E=["prefixPath","collectionGroup","documentId"],b=["collectionGroup","readTime","prefixPath","documentId"],M=["canonicalId","targetId"],B=["targetId","path"],W=["path","targetId"],ne=["collectionId","parent"],Ce=["indexId","uid"],Ve=["uid","sequenceNumber"],ht=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],yt=["indexId","uid","orderedDocumentKey"],zt=["userId","collectionPath","documentId"],sn=["userId","collectionPath","largestBatchId"],gn=["userId","collectionGroup","largestBatchId"],Bn=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],xn=[...Bn,"documentOverlays"],rr=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],or=rr,Zn=[...or,"indexConfiguration","indexState","indexEntries"];class ir extends Bo{constructor(e,t){super(),this.ht=e,this.currentSequenceNumber=t}}function sr(i,e){const t=Ln(i);return Yo.M(t.ht,e)}function Dr(i){let e=0;for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e++;return e}function ti(i,e){for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e(t,i[t])}function Ti(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}class vr{constructor(e,t){this.comparator=e,this.root=t||gs.EMPTY}insert(e,t){return new vr(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,gs.BLACK,null,null))}remove(e){return new vr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,gs.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const l=this.comparator(e,t.key);if(0===l)return t.value;l<0?t=t.left:l>0&&(t=t.right)}return null}indexOf(e){let t=0,l=this.root;for(;!l.isEmpty();){const f=this.comparator(e,l.key);if(0===f)return t+l.left.size;f<0?l=l.left:(t+=l.left.size+1,l=l.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,l)=>(e(t,l),!1))}toString(){const e=[];return this.inorderTraversal((t,l)=>(e.push(`${t}:${l}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ls(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ls(this.root,e,this.comparator,!1)}getReverseIterator(){return new ls(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ls(this.root,e,this.comparator,!0)}}class ls{constructor(e,t,l,f){this.isReverse=f,this.nodeStack=[];let v=1;for(;!e.isEmpty();)if(v=t?l(e.key,t):1,t&&f&&(v*=-1),v<0)e=this.isReverse?e.left:e.right;else{if(0===v){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class gs{constructor(e,t,l,f,v){this.key=e,this.value=t,this.color=null!=l?l:gs.RED,this.left=null!=f?f:gs.EMPTY,this.right=null!=v?v:gs.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,l,f,v){return new gs(null!=e?e:this.key,null!=t?t:this.value,null!=l?l:this.color,null!=f?f:this.left,null!=v?v:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,l){let f=this;const v=l(e,f.key);return f=v<0?f.copy(null,null,null,f.left.insert(e,t,l),null):0===v?f.copy(null,t,null,null,null):f.copy(null,null,null,null,f.right.insert(e,t,l)),f.fixUp()}removeMin(){if(this.left.isEmpty())return gs.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let l,f=this;if(t(e,f.key)<0)f.left.isEmpty()||f.left.isRed()||f.left.left.isRed()||(f=f.moveRedLeft()),f=f.copy(null,null,null,f.left.remove(e,t),null);else{if(f.left.isRed()&&(f=f.rotateRight()),f.right.isEmpty()||f.right.isRed()||f.right.left.isRed()||(f=f.moveRedRight()),0===t(e,f.key)){if(f.right.isEmpty())return gs.EMPTY;l=f.right.min(),f=f.copy(l.key,l.value,null,null,f.right.removeMin())}f=f.copy(null,null,null,null,f.right.remove(e,t))}return f.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,gs.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,gs.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Sr();const e=this.left.check();if(e!==this.right.check())throw Sr();return e+(this.isRed()?0:1)}}gs.EMPTY=null,gs.RED=!0,gs.BLACK=!1,gs.EMPTY=new class{constructor(){this.size=0}get key(){throw Sr()}get value(){throw Sr()}get color(){throw Sr()}get left(){throw Sr()}get right(){throw Sr()}copy(i,e,t,l,f){return this}insert(i,e,t){return new gs(i,e)}remove(i,e){return this}isEmpty(){return!0}inorderTraversal(i){return!1}reverseTraversal(i){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class cs{constructor(e){this.comparator=e,this.data=new vr(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,l)=>(e(t),!1))}forEachInRange(e,t){const l=this.data.getIteratorFrom(e[0]);for(;l.hasNext();){const f=l.getNext();if(this.comparator(f.key,e[1])>=0)return;t(f.key)}}forEachWhile(e,t){let l;for(l=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();l.hasNext();)if(!e(l.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Zi(this.data.getIterator())}getIteratorFrom(e){return new Zi(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(l=>{t=t.add(l)}),t}isEqual(e){if(!(e instanceof cs)||this.size!==e.size)return!1;const t=this.data.getIterator(),l=e.data.getIterator();for(;t.hasNext();){const f=t.getNext().key,v=l.getNext().key;if(0!==this.comparator(f,v))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new cs(this.comparator);return t.data=e,t}}class Zi{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function bs(i){return i.hasNext()?i.getNext():void 0}class Ji{constructor(e){this.fields=e,e.sort(Bs.comparator)}static empty(){return new Ji([])}unionWith(e){let t=new cs(Bs.comparator);for(const l of this.fields)t=t.add(l);for(const l of e)t=t.add(l);return new Ji(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return va(this.fields,e.fields,(t,l)=>t.isEqual(l))}}class Ma extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}function aa(){return typeof atob<"u"}class Ro{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(l){try{return atob(l)}catch(f){throw typeof DOMException<"u"&&f instanceof DOMException?new Ma("Invalid base64 string: "+f):f}}(e);return new Ro(t)}static fromUint8Array(e){const t=function(l){let f="";for(let v=0;v<l.length;++v)f+=String.fromCharCode(l[v]);return f}(e);return new Ro(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let l=0;l<e.length;l++)t[l]=e.charCodeAt(l);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Pi(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ro.EMPTY_BYTE_STRING=new Ro("");const Rl=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Rs(i){if(Zr(!!i),"string"==typeof i){let e=0;const t=Rl.exec(i);if(Zr(!!t),t[1]){let f=t[1];f=(f+"000000000").substr(0,9),e=Number(f)}const l=new Date(i);return{seconds:Math.floor(l.getTime()/1e3),nanos:e}}return{seconds:qs(i.seconds),nanos:qs(i.nanos)}}function qs(i){return"number"==typeof i?i:"string"==typeof i?Number(i):0}function la(i){return"string"==typeof i?Ro.fromBase64String(i):Ro.fromUint8Array(i)}function Ol(i){var e,t;return"server_timestamp"===(null===(t=((null===(e=null==i?void 0:i.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function Xa(i){const e=i.mapValue.fields.__previous_value__;return Ol(e)?Xa(e):e}function El(i){const e=Rs(i.mapValue.fields.__local_write_time__.timestampValue);return new _o(e.seconds,e.nanos)}class Vp{constructor(e,t,l,f,v,S,Y,ae,we){this.databaseId=e,this.appId=t,this.persistenceKey=l,this.host=f,this.ssl=v,this.forceLongPolling=S,this.autoDetectLongPolling=Y,this.longPollingOptions=ae,this.useFetchStreams=we}}class oc{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new oc("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof oc&&e.projectId===this.projectId&&e.database===this.database}}const Hl={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Rc={nullValue:"NULL_VALUE"};function Oc(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?Ol(i)?4:lu(i)?9007199254740991:10:Sr()}function Qa(i,e){if(i===e)return!0;const t=Oc(i);if(t!==Oc(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return El(i).isEqual(El(e));case 3:return function(l,f){if("string"==typeof l.timestampValue&&"string"==typeof f.timestampValue&&l.timestampValue.length===f.timestampValue.length)return l.timestampValue===f.timestampValue;const v=Rs(l.timestampValue),S=Rs(f.timestampValue);return v.seconds===S.seconds&&v.nanos===S.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return f=e,la(i.bytesValue).isEqual(la(f.bytesValue));case 7:return i.referenceValue===e.referenceValue;case 8:return function(l,f){return qs(l.geoPointValue.latitude)===qs(f.geoPointValue.latitude)&&qs(l.geoPointValue.longitude)===qs(f.geoPointValue.longitude)}(i,e);case 2:return function(l,f){if("integerValue"in l&&"integerValue"in f)return qs(l.integerValue)===qs(f.integerValue);if("doubleValue"in l&&"doubleValue"in f){const v=qs(l.doubleValue),S=qs(f.doubleValue);return v===S?je(v)===je(S):isNaN(v)&&isNaN(S)}return!1}(i,e);case 9:return va(i.arrayValue.values||[],e.arrayValue.values||[],Qa);case 10:return function(l,f){const v=l.mapValue.fields||{},S=f.mapValue.fields||{};if(Dr(v)!==Dr(S))return!1;for(const Y in v)if(v.hasOwnProperty(Y)&&(void 0===S[Y]||!Qa(v[Y],S[Y])))return!1;return!0}(i,e);default:return Sr()}var f}function $d(i,e){return void 0!==(i.values||[]).find(t=>Qa(t,e))}function ou(i,e){if(i===e)return 0;const t=Oc(i),l=Oc(e);if(t!==l)return Pi(t,l);switch(t){case 0:case 9007199254740991:return 0;case 1:return Pi(i.booleanValue,e.booleanValue);case 2:return function(f,v){const S=qs(f.integerValue||f.doubleValue),Y=qs(v.integerValue||v.doubleValue);return S<Y?-1:S>Y?1:S===Y?0:isNaN(S)?isNaN(Y)?0:-1:1}(i,e);case 3:return kl(i.timestampValue,e.timestampValue);case 4:return kl(El(i),El(e));case 5:return Pi(i.stringValue,e.stringValue);case 6:return function(f,v){const S=la(f),Y=la(v);return S.compareTo(Y)}(i.bytesValue,e.bytesValue);case 7:return function(f,v){const S=f.split("/"),Y=v.split("/");for(let ae=0;ae<S.length&&ae<Y.length;ae++){const we=Pi(S[ae],Y[ae]);if(0!==we)return we}return Pi(S.length,Y.length)}(i.referenceValue,e.referenceValue);case 8:return function(f,v){const S=Pi(qs(f.latitude),qs(v.latitude));return 0!==S?S:Pi(qs(f.longitude),qs(v.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return function(f,v){const S=f.values||[],Y=v.values||[];for(let ae=0;ae<S.length&&ae<Y.length;++ae){const we=ou(S[ae],Y[ae]);if(we)return we}return Pi(S.length,Y.length)}(i.arrayValue,e.arrayValue);case 10:return function(f,v){if(f===Hl.mapValue&&v===Hl.mapValue)return 0;if(f===Hl.mapValue)return 1;if(v===Hl.mapValue)return-1;const S=f.fields||{},Y=Object.keys(S),ae=v.fields||{},we=Object.keys(ae);Y.sort(),we.sort();for(let He=0;He<Y.length&&He<we.length;++He){const St=Pi(Y[He],we[He]);if(0!==St)return St;const pn=ou(S[Y[He]],ae[we[He]]);if(0!==pn)return pn}return Pi(Y.length,we.length)}(i.mapValue,e.mapValue);default:throw Sr()}}function kl(i,e){if("string"==typeof i&&"string"==typeof e&&i.length===e.length)return Pi(i,e);const t=Rs(i),l=Rs(e),f=Pi(t.seconds,l.seconds);return 0!==f?f:Pi(t.nanos,l.nanos)}function Wl(i){return Rf(i)}function Rf(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(l){const f=Rs(l);return`time(${f.seconds},${f.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?la(i.bytesValue).toBase64():"referenceValue"in i?_r.fromName(i.referenceValue).toString():"geoPointValue"in i?`geo(${(e=i.geoPointValue).latitude},${e.longitude})`:"arrayValue"in i?function(l){let f="[",v=!0;for(const S of l.values||[])v?v=!1:f+=",",f+=Rf(S);return f+"]"}(i.arrayValue):"mapValue"in i?function(l){const f=Object.keys(l.fields||{}).sort();let v="{",S=!0;for(const Y of f)S?S=!1:v+=",",v+=`${Y}:${Rf(l.fields[Y])}`;return v+"}"}(i.mapValue):Sr();var e}function kc(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function Gl(i){return!!i&&"integerValue"in i}function Lu(i){return!!i&&"arrayValue"in i}function Ja(i){return!!i&&"nullValue"in i}function Nc(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function au(i){return!!i&&"mapValue"in i}function wl(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&"object"==typeof i.timestampValue)return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const e={mapValue:{fields:{}}};return ti(i.mapValue.fields,(t,l)=>e.mapValue.fields[t]=wl(l)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(i.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=wl(i.arrayValue.values[t]);return e}return Object.assign({},i)}function lu(i){return"__max__"===(((i.mapValue||{}).fields||{}).__type__||{}).stringValue}function Of(i){return"nullValue"in i?Rc:"booleanValue"in i?{booleanValue:!1}:"integerValue"in i||"doubleValue"in i?{doubleValue:NaN}:"timestampValue"in i?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in i?{stringValue:""}:"bytesValue"in i?{bytesValue:""}:"referenceValue"in i?kc(oc.empty(),_r.empty()):"geoPointValue"in i?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in i?{arrayValue:{}}:"mapValue"in i?{mapValue:{}}:Sr()}function tv(i){return"nullValue"in i?{booleanValue:!1}:"booleanValue"in i?{doubleValue:NaN}:"integerValue"in i||"doubleValue"in i?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in i?{stringValue:""}:"stringValue"in i?{bytesValue:""}:"bytesValue"in i?kc(oc.empty(),_r.empty()):"referenceValue"in i?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in i?{arrayValue:{}}:"arrayValue"in i?{mapValue:{}}:"mapValue"in i?Hl:Sr()}function kf(i,e){const t=ou(i.value,e.value);return 0!==t?t:i.inclusive&&!e.inclusive?-1:!i.inclusive&&e.inclusive?1:0}function hm(i,e){const t=ou(i.value,e.value);return 0!==t?t:i.inclusive&&!e.inclusive?1:!i.inclusive&&e.inclusive?-1:0}class uo{constructor(e){this.value=e}static empty(){return new uo({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let l=0;l<e.length-1;++l)if(t=(t.mapValue.fields||{})[e.get(l)],!au(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=wl(t)}setAll(e){let t=Bs.emptyPath(),l={},f=[];e.forEach((S,Y)=>{if(!t.isImmediateParentOf(Y)){const ae=this.getFieldsMap(t);this.applyChanges(ae,l,f),l={},f=[],t=Y.popLast()}S?l[Y.lastSegment()]=wl(S):f.push(Y.lastSegment())});const v=this.getFieldsMap(t);this.applyChanges(v,l,f)}delete(e){const t=this.field(e.popLast());au(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Qa(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let l=0;l<e.length;++l){let f=t.mapValue.fields[e.get(l)];au(f)&&f.mapValue.fields||(f={mapValue:{fields:{}}},t.mapValue.fields[e.get(l)]=f),t=f}return t.mapValue.fields}applyChanges(e,t,l){ti(t,(f,v)=>e[f]=v);for(const f of l)delete e[f]}clone(){return new uo(wl(this.value))}}function Bu(i){const e=[];return ti(i.fields,(t,l)=>{const f=new Bs([t]);if(au(l)){const v=Bu(l.mapValue).fields;if(0===v.length)e.push(f);else for(const S of v)e.push(f.child(S))}else e.push(f)}),new Ji(e)}class so{constructor(e,t,l,f,v,S,Y){this.key=e,this.documentType=t,this.version=l,this.readTime=f,this.createTime=v,this.data=S,this.documentState=Y}static newInvalidDocument(e){return new so(e,0,hi.min(),hi.min(),hi.min(),uo.empty(),0)}static newFoundDocument(e,t,l,f){return new so(e,1,t,hi.min(),l,f,0)}static newNoDocument(e,t){return new so(e,2,t,hi.min(),hi.min(),uo.empty(),0)}static newUnknownDocument(e,t){return new so(e,3,t,hi.min(),hi.min(),uo.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(hi.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=uo.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=uo.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=hi.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof so&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new so(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class ac{constructor(e,t){this.position=e,this.inclusive=t}}function Nf(i,e,t){let l=0;for(let f=0;f<i.position.length;f++){const v=e[f],S=i.position[f];if(l=v.field.isKeyField()?_r.comparator(_r.fromName(S.referenceValue),t.key):ou(S,t.data.field(v.field)),"desc"===v.dir&&(l*=-1),0!==l)break}return l}function Ff(i,e){if(null===i)return null===e;if(null===e||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let t=0;t<i.position.length;t++)if(!Qa(i.position[t],e.position[t]))return!1;return!0}class $u{constructor(e,t="asc"){this.field=e,this.dir=t}}function fm(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}class Up{}class Ts extends Up{constructor(e,t,l){super(),this.field=e,this.op=t,this.value=l}static create(e,t,l){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,l):new $f(e,t,l):"array-contains"===t?new Vf(e,l):"in"===t?new ju(e,l):"not-in"===t?new uu(e,l):"array-contains-any"===t?new zd(e,l):new Ts(e,t,l)}static createKeyFieldInFilter(e,t,l){return"in"===t?new jd(e,l):new jp(e,l)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(ou(t,this.value)):null!==t&&Oc(this.value)===Oc(t)&&this.matchesComparison(ou(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Sr()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class bo extends Up{constructor(e,t){super(),this.filters=e,this.op=t,this.lt=null}static create(e,t){return new bo(e,t)}matches(e){return lc(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(t=>t.isInequality());return null!==e?e.field:null}ft(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function lc(i){return"and"===i.op}function Vu(i){return"or"===i.op}function Lf(i){return Vd(i)&&lc(i)}function Vd(i){for(const e of i.filters)if(e instanceof bo)return!1;return!0}function Ud(i){if(i instanceof Ts)return i.field.canonicalString()+i.op.toString()+Wl(i.value);if(Lf(i))return i.filters.map(e=>Ud(e)).join(",");{const e=i.filters.map(t=>Ud(t)).join(",");return`${i.op}(${e})`}}function cu(i,e){return i instanceof Ts?(t=i,(l=e)instanceof Ts&&t.op===l.op&&t.field.isEqual(l.field)&&Qa(t.value,l.value)):i instanceof bo?function(t,l){return l instanceof bo&&t.op===l.op&&t.filters.length===l.filters.length&&t.filters.reduce((f,v,S)=>f&&cu(v,l.filters[S]),!0)}(i,e):void Sr();var t,l}function Bf(i,e){const t=i.filters.concat(e);return bo.create(t,i.op)}function Uu(i){return i instanceof Ts?`${(e=i).field.canonicalString()} ${e.op} ${Wl(e.value)}`:i instanceof bo?function(e){return e.op.toString()+" {"+e.getFilters().map(Uu).join(" ,")+"}"}(i):"Filter";var e}class $f extends Ts{constructor(e,t,l){super(e,t,l),this.key=_r.fromName(l.referenceValue)}matches(e){const t=_r.comparator(e.key,this.key);return this.matchesComparison(t)}}class jd extends Ts{constructor(e,t){super(e,"in",t),this.keys=Nl(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class jp extends Ts{constructor(e,t){super(e,"not-in",t),this.keys=Nl(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function Nl(i,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(l=>_r.fromName(l.referenceValue))}class Vf extends Ts{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Lu(t)&&$d(t.arrayValue,this.value)}}class ju extends Ts{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&$d(this.value.arrayValue,t)}}class uu extends Ts{constructor(e,t){super(e,"not-in",t)}matches(e){if($d(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!$d(this.value.arrayValue,t)}}class zd extends Ts{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Lu(t)||!t.arrayValue.values)&&t.arrayValue.values.some(l=>$d(this.value.arrayValue,l))}}class Fc{constructor(e,t=null,l=[],f=[],v=null,S=null,Y=null){this.path=e,this.collectionGroup=t,this.orderBy=l,this.filters=f,this.limit=v,this.startAt=S,this.endAt=Y,this.dt=null}}function zu(i,e=null,t=[],l=[],f=null,v=null,S=null){return new Fc(i,e,t,l,f,v,S)}function Lc(i){const e=Ln(i);if(null===e.dt){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(l=>Ud(l)).join(","),t+="|ob:",t+=e.orderBy.map(l=>{return(f=l).field.canonicalString()+f.dir;var f}).join(","),Ye(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(l=>Wl(l)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(l=>Wl(l)).join(",")),e.dt=t}return e.dt}function Lh(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<i.orderBy.length;t++)if(!fm(i.orderBy[t],e.orderBy[t]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let t=0;t<i.filters.length;t++)if(!cu(i.filters[t],e.filters[t]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!Ff(i.startAt,e.startAt)&&Ff(i.endAt,e.endAt)}function Bh(i){return _r.isDocumentKey(i.path)&&null===i.collectionGroup&&0===i.filters.length}function $h(i,e){return i.filters.filter(t=>t instanceof Ts&&t.field.isEqual(e))}function Vh(i,e,t){let l=Rc,f=!0;for(const v of $h(i,e)){let S=Rc,Y=!0;switch(v.op){case"<":case"<=":S=Of(v.value);break;case"==":case"in":case">=":S=v.value;break;case">":S=v.value,Y=!1;break;case"!=":case"not-in":S=Rc}kf({value:l,inclusive:f},{value:S,inclusive:Y})<0&&(l=S,f=Y)}if(null!==t)for(let v=0;v<i.orderBy.length;++v)if(i.orderBy[v].field.isEqual(e)){const S=t.position[v];kf({value:l,inclusive:f},{value:S,inclusive:t.inclusive})<0&&(l=S,f=t.inclusive);break}return{value:l,inclusive:f}}function Hu(i,e,t){let l=Hl,f=!0;for(const v of $h(i,e)){let S=Hl,Y=!0;switch(v.op){case">=":case">":S=tv(v.value),Y=!1;break;case"==":case"in":case"<=":S=v.value;break;case"<":S=v.value,Y=!1;break;case"!=":case"not-in":S=Hl}hm({value:l,inclusive:f},{value:S,inclusive:Y})>0&&(l=S,f=Y)}if(null!==t)for(let v=0;v<i.orderBy.length;++v)if(i.orderBy[v].field.isEqual(e)){const S=t.position[v];hm({value:l,inclusive:f},{value:S,inclusive:t.inclusive})>0&&(l=S,f=t.inclusive);break}return{value:l,inclusive:f}}class Fl{constructor(e,t=null,l=[],f=[],v=null,S="F",Y=null,ae=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=l,this.filters=f,this.limit=v,this.limitType=S,this.startAt=Y,this.endAt=ae,this.wt=null,this._t=null}}function Uf(i,e,t,l,f,v,S,Y){return new Fl(i,e,t,l,f,v,S,Y)}function du(i){return new Fl(i)}function U(i){return 0===i.filters.length&&null===i.limit&&null==i.startAt&&null==i.endAt&&(0===i.explicitOrderBy.length||1===i.explicitOrderBy.length&&i.explicitOrderBy[0].field.isKeyField())}function D(i){return i.explicitOrderBy.length>0?i.explicitOrderBy[0].field:null}function A(i){for(const e of i.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}function K(i){return null!==i.collectionGroup}function Ie(i){const e=Ln(i);if(null===e.wt){e.wt=[];const t=A(e),l=D(e);if(null!==t&&null===l)t.isKeyField()||e.wt.push(new $u(t)),e.wt.push(new $u(Bs.keyField(),"asc"));else{let f=!1;for(const v of e.explicitOrderBy)e.wt.push(v),v.field.isKeyField()&&(f=!0);if(!f){const v=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new $u(Bs.keyField(),v))}}}return e.wt}function ze(i){const e=Ln(i);if(!e._t)if("F"===e.limitType)e._t=zu(e.path,e.collectionGroup,Ie(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const v of Ie(e))t.push(new $u(v.field,"desc"===v.dir?"asc":"desc"));const l=e.endAt?new ac(e.endAt.position,e.endAt.inclusive):null,f=e.startAt?new ac(e.startAt.position,e.startAt.inclusive):null;e._t=zu(e.path,e.collectionGroup,t,e.filters,e.limit,l,f)}return e._t}function en(i,e){e.getFirstInequalityField(),A(i);const t=i.filters.concat([e]);return new Fl(i.path,i.collectionGroup,i.explicitOrderBy.slice(),t,i.limit,i.limitType,i.startAt,i.endAt)}function Dn(i,e,t){return new Fl(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,t,i.startAt,i.endAt)}function ur(i,e){return Lh(ze(i),ze(e))&&i.limitType===e.limitType}function Nr(i){return`${Lc(ze(i))}|lt:${i.limitType}`}function bi(i){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(l=>Uu(l)).join(", ")}]`),Ye(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(l=>{return`${(f=l).field.canonicalString()} (${f.dir})`;var f}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(l=>Wl(l)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(l=>Wl(l)).join(",")),`Target(${t})`}(ze(i))}; limitType=${i.limitType})`}function ri(i,e){return e.isFoundDocument()&&function(t,l){const f=l.key.path;return null!==t.collectionGroup?l.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(f):_r.isDocumentKey(t.path)?t.path.isEqual(f):t.path.isImmediateParentOf(f)}(i,e)&&function(t,l){for(const f of Ie(t))if(!f.field.isKeyField()&&null===l.data.field(f.field))return!1;return!0}(i,e)&&function(t,l){for(const f of t.filters)if(!f.matches(l))return!1;return!0}(i,e)&&(l=e,!((t=i).startAt&&!function(f,v,S){const Y=Nf(f,v,S);return f.inclusive?Y<=0:Y<0}(t.startAt,Ie(t),l)||t.endAt&&!function(f,v,S){const Y=Nf(f,v,S);return f.inclusive?Y>=0:Y>0}(t.endAt,Ie(t),l)));var t,l}function qi(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function Hi(i){return(e,t)=>{let l=!1;for(const f of Ie(i)){const v=Ll(f,e,t);if(0!==v)return v;l=l||f.field.isKeyField()}return 0}}function Ll(i,e,t){const l=i.field.isKeyField()?_r.comparator(e.key,t.key):function(f,v,S){const Y=v.data.field(f),ae=S.data.field(f);return null!==Y&&null!==ae?ou(Y,ae):Sr()}(i.field,e,t);switch(i.dir){case"asc":return l;case"desc":return-1*l;default:return Sr()}}class As{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),l=this.inner[t];if(void 0!==l)for(const[f,v]of l)if(this.equalsFn(f,e))return v}has(e){return void 0!==this.get(e)}set(e,t){const l=this.mapKeyFn(e),f=this.inner[l];if(void 0===f)return this.inner[l]=[[e,t]],void this.innerSize++;for(let v=0;v<f.length;v++)if(this.equalsFn(f[v][0],e))return void(f[v]=[e,t]);f.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),l=this.inner[t];if(void 0===l)return!1;for(let f=0;f<l.length;f++)if(this.equalsFn(l[f][0],e))return 1===l.length?delete this.inner[t]:l.splice(f,1),this.innerSize--,!0;return!1}forEach(e){ti(this.inner,(t,l)=>{for(const[f,v]of l)e(f,v)})}isEmpty(){return Ti(this.inner)}size(){return this.innerSize}}const hu=new vr(_r.comparator);function $a(){return hu}const Bc=new vr(_r.comparator);function cc(...i){let e=Bc;for(const t of i)e=e.insert(t.key,t);return e}function zs(i){let e=Bc;return i.forEach((t,l)=>e=e.insert(t,l.overlayedDocument)),e}function Bi(){return Wu()}function Pa(){return Wu()}function Wu(){return new As(i=>i.toString(),(i,e)=>i.isEqual(e))}const Uh=new vr(_r.comparator),Va=new cs(_r.comparator);function ts(...i){let e=Va;for(const t of i)e=e.add(t);return e}const T_=new cs(Pi);function pm(){return T_}function zp(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:je(e)?"-0":e}}function Gu(i){return{integerValue:""+i}}function Hp(i,e){return Kt(e)?Gu(e):zp(i,e)}class Ca{constructor(){this._=void 0}}function gm(i,e,t){return i instanceof Da?function(l,f){const v={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return f&&Ol(f)&&(f=Xa(f)),f&&(v.fields.__previous_value__=f),{mapValue:v}}(t,e):i instanceof uc?Gp(i,e):i instanceof Il?Os(i,e):function(l,f){const v=Wp(l,f),S=jf(v)+jf(l.gt);return Gl(v)&&Gl(l.gt)?Gu(S):zp(l.serializer,S)}(i,e)}function mm(i,e,t){return i instanceof uc?Gp(i,e):i instanceof Il?Os(i,e):t}function Wp(i,e){return i instanceof $c?Gl(t=e)||(l=t)&&"doubleValue"in l?e:{integerValue:0}:null;var l,t}class Da extends Ca{}class uc extends Ca{constructor(e){super(),this.elements=e}}function Gp(i,e){const t=Kp(e);for(const l of i.elements)t.some(f=>Qa(f,l))||t.push(l);return{arrayValue:{values:t}}}class Il extends Ca{constructor(e){super(),this.elements=e}}function Os(i,e){let t=Kp(e);for(const l of i.elements)t=t.filter(f=>!Qa(f,l));return{arrayValue:{values:t}}}class $c extends Ca{constructor(e,t){super(),this.serializer=e,this.gt=t}}function jf(i){return qs(i.integerValue||i.doubleValue)}function Kp(i){return Lu(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}class Cl{constructor(e,t){this.field=e,this.transform=t}}class dc{constructor(e,t){this.version=e,this.transformResults=t}}class ca{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new ca}static exists(e){return new ca(void 0,e)}static updateTime(e){return new ca(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Na(i,e){return void 0!==i.updateTime?e.isFoundDocument()&&e.version.isEqual(i.updateTime):void 0===i.exists||i.exists===e.isFoundDocument()}class jh{}function Yp(i,e){if(!i.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return i.isNoDocument()?new Yu(i.key,ca.none()):new fu(i.key,i.data,ca.none());{const t=i.data,l=uo.empty();let f=new cs(Bs.comparator);for(let v of e.fields)if(!f.has(v)){let S=t.field(v);null===S&&v.length>1&&(v=v.popLast(),S=t.field(v)),null===S?l.delete(v):l.set(v,S),f=f.add(v)}return new cl(i.key,l,new Ji(f.toArray()),ca.none())}}function Hd(i,e,t){i instanceof fu?function(l,f,v){const S=l.value.clone(),Y=zh(l.fieldTransforms,f,v.transformResults);S.setAll(Y),f.convertToFoundDocument(v.version,S).setHasCommittedMutations()}(i,e,t):i instanceof cl?function(l,f,v){if(!Na(l.precondition,f))return void f.convertToUnknownDocument(v.version);const S=zh(l.fieldTransforms,f,v.transformResults),Y=f.data;Y.setAll(Ku(l)),Y.setAll(S),f.convertToFoundDocument(v.version,Y).setHasCommittedMutations()}(i,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function Hf(i,e,t,l){return i instanceof fu?function(f,v,S,Y){if(!Na(f.precondition,v))return S;const ae=f.value.clone(),we=ym(f.fieldTransforms,Y,v);return ae.setAll(we),v.convertToFoundDocument(v.version,ae).setHasLocalMutations(),null}(i,e,t,l):i instanceof cl?function(f,v,S,Y){if(!Na(f.precondition,v))return S;const ae=ym(f.fieldTransforms,Y,v),we=v.data;return we.setAll(Ku(f)),we.setAll(ae),v.convertToFoundDocument(v.version,we).setHasLocalMutations(),null===S?null:S.unionWith(f.fieldMask.fields).unionWith(f.fieldTransforms.map(He=>He.field))}(i,e,t,l):(S=t,Na(i.precondition,v=e)?(v.convertToNoDocument(v.version).setHasLocalMutations(),null):S);var v,S}function nv(i,e){let t=null;for(const l of i.fieldTransforms){const f=e.data.field(l.field),v=Wp(l.transform,f||null);null!=v&&(null===t&&(t=uo.empty()),t.set(l.field,v))}return t||null}function Wf(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&(l=e.fieldTransforms,!!(void 0===(t=i.fieldTransforms)&&void 0===l||t&&l&&va(t,l,(f,v)=>function zf(i,e){return i.field.isEqual(e.field)&&(l=e.transform,(t=i.transform)instanceof uc&&l instanceof uc||t instanceof Il&&l instanceof Il?va(t.elements,l.elements,Qa):t instanceof $c&&l instanceof $c?Qa(t.gt,l.gt):t instanceof Da&&l instanceof Da);var t,l}(f,v))))&&(0===i.type?i.value.isEqual(e.value):1!==i.type||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask));var t,l}class fu extends jh{constructor(e,t,l,f=[]){super(),this.key=e,this.value=t,this.precondition=l,this.fieldTransforms=f,this.type=0}getFieldMask(){return null}}class cl extends jh{constructor(e,t,l,f,v=[]){super(),this.key=e,this.data=t,this.fieldMask=l,this.precondition=f,this.fieldTransforms=v,this.type=1}getFieldMask(){return this.fieldMask}}function Ku(i){const e=new Map;return i.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const l=i.data.field(t);e.set(t,l)}}),e}function zh(i,e,t){const l=new Map;Zr(i.length===t.length);for(let f=0;f<t.length;f++){const v=i[f],S=v.transform,Y=e.data.field(v.field);l.set(v.field,mm(S,Y,t[f]))}return l}function ym(i,e,t){const l=new Map;for(const f of i){const v=f.transform,S=t.data.field(f.field);l.set(f.field,gm(v,S,e))}return l}class Yu extends jh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Hh extends jh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class zo{constructor(e,t,l,f){this.batchId=e,this.localWriteTime=t,this.baseMutations=l,this.mutations=f}applyToRemoteDocument(e,t){const l=t.mutationResults;for(let f=0;f<this.mutations.length;f++){const v=this.mutations[f];v.key.isEqual(e.key)&&Hd(v,e,l[f])}}applyToLocalView(e,t){for(const l of this.baseMutations)l.key.isEqual(e.key)&&(t=Hf(l,e,t,this.localWriteTime));for(const l of this.mutations)l.key.isEqual(e.key)&&(t=Hf(l,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const l=Pa();return this.mutations.forEach(f=>{const v=e.get(f.key),S=v.overlayedDocument;let Y=this.applyToLocalView(S,v.mutatedFields);Y=t.has(f.key)?null:Y;const ae=Yp(S,Y);null!==ae&&l.set(f.key,ae),S.isValidDocument()||S.convertToNoDocument(hi.min())}),l}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),ts())}isEqual(e){return this.batchId===e.batchId&&va(this.mutations,e.mutations,(t,l)=>Wf(t,l))&&va(this.baseMutations,e.baseMutations,(t,l)=>Wf(t,l))}}class vm{constructor(e,t,l,f){this.batch=e,this.commitVersion=t,this.mutationResults=l,this.docVersions=f}static from(e,t,l){Zr(e.mutations.length===l.length);let f=Uh;const v=e.mutations;for(let S=0;S<v.length;S++)f=f.insert(v[S].key,l[S].version);return new vm(e,t,l,f)}}class _m{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class bm{constructor(e,t){this.count=e,this.unchangedNames=t}}var na,us;function qu(i){switch(i){default:return Sr();case wn.CANCELLED:case wn.UNKNOWN:case wn.DEADLINE_EXCEEDED:case wn.RESOURCE_EXHAUSTED:case wn.INTERNAL:case wn.UNAVAILABLE:case wn.UNAUTHENTICATED:return!1;case wn.INVALID_ARGUMENT:case wn.NOT_FOUND:case wn.ALREADY_EXISTS:case wn.PERMISSION_DENIED:case wn.FAILED_PRECONDITION:case wn.ABORTED:case wn.OUT_OF_RANGE:case wn.UNIMPLEMENTED:case wn.DATA_LOSS:return!0}}function es(i){if(void 0===i)return Mi("GRPC error has no .code"),wn.UNKNOWN;switch(i){case na.OK:return wn.OK;case na.CANCELLED:return wn.CANCELLED;case na.UNKNOWN:return wn.UNKNOWN;case na.DEADLINE_EXCEEDED:return wn.DEADLINE_EXCEEDED;case na.RESOURCE_EXHAUSTED:return wn.RESOURCE_EXHAUSTED;case na.INTERNAL:return wn.INTERNAL;case na.UNAVAILABLE:return wn.UNAVAILABLE;case na.UNAUTHENTICATED:return wn.UNAUTHENTICATED;case na.INVALID_ARGUMENT:return wn.INVALID_ARGUMENT;case na.NOT_FOUND:return wn.NOT_FOUND;case na.ALREADY_EXISTS:return wn.ALREADY_EXISTS;case na.PERMISSION_DENIED:return wn.PERMISSION_DENIED;case na.FAILED_PRECONDITION:return wn.FAILED_PRECONDITION;case na.ABORTED:return wn.ABORTED;case na.OUT_OF_RANGE:return wn.OUT_OF_RANGE;case na.UNIMPLEMENTED:return wn.UNIMPLEMENTED;case na.DATA_LOSS:return wn.DATA_LOSS;default:return Sr()}}(us=na||(na={}))[us.OK=0]="OK",us[us.CANCELLED=1]="CANCELLED",us[us.UNKNOWN=2]="UNKNOWN",us[us.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",us[us.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",us[us.NOT_FOUND=5]="NOT_FOUND",us[us.ALREADY_EXISTS=6]="ALREADY_EXISTS",us[us.PERMISSION_DENIED=7]="PERMISSION_DENIED",us[us.UNAUTHENTICATED=16]="UNAUTHENTICATED",us[us.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",us[us.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",us[us.ABORTED=10]="ABORTED",us[us.OUT_OF_RANGE=11]="OUT_OF_RANGE",us[us.UNIMPLEMENTED=12]="UNIMPLEMENTED",us[us.INTERNAL=13]="INTERNAL",us[us.UNAVAILABLE=14]="UNAVAILABLE",us[us.DATA_LOSS=15]="DATA_LOSS";class Gf{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return Zu}static getOrCreateInstance(){return null===Zu&&(Zu=new Gf),Zu}onExistenceFilterMismatch(e){const t=Symbol();return this.onExistenceFilterMismatchCallbacks.set(t,e),()=>this.onExistenceFilterMismatchCallbacks.delete(t)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(t=>t(e))}}let Zu=null;function rv(){return new TextEncoder}const ra=new yr([4294967295,4294967295],0);function Kf(i){const e=rv().encode(i),t=new Jr;return t.update(e),new Uint8Array(t.digest())}function Xu(i){const e=new DataView(i.buffer),t=e.getUint32(0,!0),l=e.getUint32(4,!0),f=e.getUint32(8,!0),v=e.getUint32(12,!0);return[new yr([t,l],0),new yr([f,v],0)]}class Wh{constructor(e,t,l){if(this.bitmap=e,this.padding=t,this.hashCount=l,t<0||t>=8)throw new Wd(`Invalid padding: ${t}`);if(l<0)throw new Wd(`Invalid hash count: ${l}`);if(e.length>0&&0===this.hashCount)throw new Wd(`Invalid hash count: ${l}`);if(0===e.length&&0!==t)throw new Wd(`Invalid padding when bitmap length is 0: ${t}`);this.It=8*e.length-t,this.Tt=yr.fromNumber(this.It)}Et(e,t,l){let f=e.add(t.multiply(yr.fromNumber(l)));return 1===f.compare(ra)&&(f=new yr([f.getBits(0),f.getBits(1)],0)),f.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const t=Kf(e),[l,f]=Xu(t);for(let v=0;v<this.hashCount;v++){const S=this.Et(l,f,v);if(!this.At(S))return!1}return!0}static create(e,t,l){const f=e%8==0?0:8-e%8,v=new Uint8Array(Math.ceil(e/8)),S=new Wh(v,f,t);return l.forEach(Y=>S.insert(Y)),S}insert(e){if(0===this.It)return;const t=Kf(e),[l,f]=Xu(t);for(let v=0;v<this.hashCount;v++){const S=this.Et(l,f,v);this.Rt(S)}}Rt(e){const t=Math.floor(e/8);this.bitmap[t]|=1<<e%8}}class Wd extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Vc{constructor(e,t,l,f,v){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=l,this.documentUpdates=f,this.resolvedLimboDocuments=v}static createSynthesizedRemoteEventForCurrentChange(e,t,l){const f=new Map;return f.set(e,Qu.createSynthesizedTargetChangeForCurrentChange(e,t,l)),new Vc(hi.min(),f,new vr(Pi),$a(),ts())}}class Qu{constructor(e,t,l,f,v){this.resumeToken=e,this.current=t,this.addedDocuments=l,this.modifiedDocuments=f,this.removedDocuments=v}static createSynthesizedTargetChangeForCurrentChange(e,t,l){return new Qu(l,t,ts(),ts(),ts())}}class hc{constructor(e,t,l,f){this.Pt=e,this.removedTargetIds=t,this.key=l,this.bt=f}}class iv{constructor(e,t){this.targetId=e,this.Vt=t}}class Yf{constructor(e,t,l=Ro.EMPTY_BYTE_STRING,f=null){this.state=e,this.targetIds=t,this.resumeToken=l,this.cause=f}}class Gd{constructor(){this.St=0,this.Dt=Em(),this.Ct=Ro.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=ts(),t=ts(),l=ts();return this.Dt.forEach((f,v)=>{switch(v){case 0:e=e.add(f);break;case 2:t=t.add(f);break;case 1:l=l.add(f);break;default:Sr()}}),new Qu(this.Ct,this.xt,e,t,l)}Ft(){this.Nt=!1,this.Dt=Em()}Bt(e,t){this.Nt=!0,this.Dt=this.Dt.insert(e,t)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class sv{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=$a(),this.zt=Kd(),this.Wt=new vr(Pi)}Ht(e){for(const t of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(t,e.bt):this.Yt(t,e.key,e.bt);for(const t of e.removedTargetIds)this.Yt(t,e.key,e.bt)}Xt(e){this.forEachTarget(e,t=>{const l=this.Zt(t);switch(e.state){case 0:this.te(t)&&l.$t(e.resumeToken);break;case 1:l.Ut(),l.kt||l.Ft(),l.$t(e.resumeToken);break;case 2:l.Ut(),l.kt||this.removeTarget(t);break;case 3:this.te(t)&&(l.Kt(),l.$t(e.resumeToken));break;case 4:this.te(t)&&(this.ee(t),l.$t(e.resumeToken));break;default:Sr()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Qt.forEach((l,f)=>{this.te(f)&&t(f)})}ne(e){var t;const l=e.targetId,f=e.Vt.count,v=this.se(l);if(v){const S=v.target;if(Bh(S))if(0===f){const Y=new _r(S.path);this.Yt(l,Y,so.newNoDocument(Y,hi.min()))}else Zr(1===f);else{const Y=this.ie(l);if(Y!==f){const ae=this.re(e,Y);0!==ae&&(this.ee(l),this.Wt=this.Wt.insert(l,2===ae?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(t=Gf.instance)||void 0===t||t.notifyOnExistenceFilterMismatch(function(we,He,St){var pn,Pn,fr,$r,Xr,hs;const Hs={localCacheCount:He,existenceFilterCount:St.count},fs=St.unchangedNames;return fs&&(Hs.bloomFilter={applied:0===we,hashCount:null!==(pn=null==fs?void 0:fs.hashCount)&&void 0!==pn?pn:0,bitmapLength:null!==($r=null===(fr=null===(Pn=null==fs?void 0:fs.bits)||void 0===Pn?void 0:Pn.bitmap)||void 0===fr?void 0:fr.length)&&void 0!==$r?$r:0,padding:null!==(hs=null===(Xr=null==fs?void 0:fs.bits)||void 0===Xr?void 0:Xr.padding)&&void 0!==hs?hs:0}),Hs}(ae,Y,e.Vt))}}}}re(e,t){const{unchangedNames:l,count:f}=e.Vt;if(!l||!l.bits)return 1;const{bits:{bitmap:v="",padding:S=0},hashCount:Y=0}=l;let ae,we;try{ae=la(v).toUint8Array()}catch(He){if(He instanceof Ma)return Ko("Decoding the base64 bloom filter in existence filter failed ("+He.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw He}try{we=new Wh(ae,S,Y)}catch(He){return Ko(He instanceof Wd?"BloomFilter error: ":"Applying bloom filter failed: ",He),1}return 0===we.It?1:f!==t-this.oe(e.targetId,we)?2:0}oe(e,t){const l=this.Gt.getRemoteKeysForTarget(e);let f=0;return l.forEach(v=>{const S=this.Gt.ue(),Y=`projects/${S.projectId}/databases/${S.database}/documents/${v.path.canonicalString()}`;t.vt(Y)||(this.Yt(e,v,null),f++)}),f}ce(e){const t=new Map;this.Qt.forEach((v,S)=>{const Y=this.se(S);if(Y){if(v.current&&Bh(Y.target)){const ae=new _r(Y.target.path);null!==this.jt.get(ae)||this.ae(S,ae)||this.Yt(S,ae,so.newNoDocument(ae,e))}v.Mt&&(t.set(S,v.Ot()),v.Ft())}});let l=ts();this.zt.forEach((v,S)=>{let Y=!0;S.forEachWhile(ae=>{const we=this.se(ae);return!we||"TargetPurposeLimboResolution"===we.purpose||(Y=!1,!1)}),Y&&(l=l.add(v))}),this.jt.forEach((v,S)=>S.setReadTime(e));const f=new Vc(e,t,this.Wt,this.jt,l);return this.jt=$a(),this.zt=Kd(),this.Wt=new vr(Pi),f}Jt(e,t){if(!this.te(e))return;const l=this.ae(e,t.key)?2:0;this.Zt(e).Bt(t.key,l),this.jt=this.jt.insert(t.key,t),this.zt=this.zt.insert(t.key,this.he(t.key).add(e))}Yt(e,t,l){if(!this.te(e))return;const f=this.Zt(e);this.ae(e,t)?f.Bt(t,1):f.Lt(t),this.zt=this.zt.insert(t,this.he(t).delete(e)),l&&(this.jt=this.jt.insert(t,l))}removeTarget(e){this.Qt.delete(e)}ie(e){const t=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let t=this.Qt.get(e);return t||(t=new Gd,this.Qt.set(e,t)),t}he(e){let t=this.zt.get(e);return t||(t=new cs(Pi),this.zt=this.zt.insert(e,t)),t}te(e){const t=null!==this.se(e);return t||Un("WatchChangeAggregator","Detected inactive target",e),t}se(e){const t=this.Qt.get(e);return t&&t.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new Gd),this.Gt.getRemoteKeysForTarget(e).forEach(t=>{this.Yt(e,t,null)})}ae(e,t){return this.Gt.getRemoteKeysForTarget(e).has(t)}}function Kd(){return new vr(_r.comparator)}function Em(){return new vr(_r.comparator)}const Zp={asc:"ASCENDING",desc:"DESCENDING"},qf={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Xp={and:"AND",or:"OR"};class wm{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Ju(i,e){return i.useProto3Json||Ye(e)?e:{value:e}}function Yd(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function qd(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function Gh(i,e){return Yd(i,e.toTimestamp())}function _a(i){return Zr(!!i),hi.fromTimestamp(function(e){const t=Rs(e);return new _o(t.seconds,t.nanos)}(i))}function Zd(i,e){return(t=i,new Ki(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function ov(i){const e=Ki.fromString(i);return Zr(Bl(e)),e}function ed(i,e){return Zd(i.databaseId,e.path)}function ul(i,e){const t=ov(e);if(t.get(1)!==i.databaseId.projectId)throw new qn(wn.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+i.databaseId.projectId);if(t.get(3)!==i.databaseId.database)throw new qn(wn.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+i.databaseId.database);return new _r(Qp(t))}function Kh(i,e){return Zd(i.databaseId,e)}function Zf(i){const e=ov(i);return 4===e.length?Ki.emptyPath():Qp(e)}function td(i){return new Ki(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function Qp(i){return Zr(i.length>4&&"documents"===i.get(4)),i.popFirst(5)}function nd(i,e,t){return{name:ed(i,e),fields:t.value.mapValue.fields}}function av(i,e,t){const l=ul(i,e.name),f=_a(e.updateTime),v=e.createTime?_a(e.createTime):hi.min(),S=new uo({mapValue:{fields:e.fields}}),Y=so.newFoundDocument(l,f,v,S);return t&&Y.setHasCommittedMutations(),t?Y.setHasCommittedMutations():Y}function ua(i,e){let t;if(e instanceof fu)t={update:nd(i,e.key,e.value)};else if(e instanceof Yu)t={delete:ed(i,e.key)};else if(e instanceof cl)t={update:nd(i,e.key,e.data),updateMask:Jp(e.fieldMask)};else{if(!(e instanceof Hh))return Sr();t={verify:ed(i,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(l=>function(f,v){const S=v.transform;if(S instanceof Da)return{fieldPath:v.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(S instanceof uc)return{fieldPath:v.field.canonicalString(),appendMissingElements:{values:S.elements}};if(S instanceof Il)return{fieldPath:v.field.canonicalString(),removeAllFromArray:{values:S.elements}};if(S instanceof $c)return{fieldPath:v.field.canonicalString(),increment:S.gt};throw Sr()}(0,l))),e.precondition.isNone||(t.currentDocument=void 0!==(f=e.precondition).updateTime?{updateTime:Gh(i,f.updateTime)}:void 0!==f.exists?{exists:f.exists}:Sr()),t;var f}function Xd(i,e){const t=e.currentDocument?void 0!==(f=e.currentDocument).updateTime?ca.updateTime(_a(f.updateTime)):void 0!==f.exists?ca.exists(f.exists):ca.none():ca.none(),l=e.updateTransforms?e.updateTransforms.map(f=>function(v,S){let Y=null;"setToServerValue"in S?(Zr("REQUEST_TIME"===S.setToServerValue),Y=new Da):"appendMissingElements"in S?Y=new uc(S.appendMissingElements.values||[]):"removeAllFromArray"in S?Y=new Il(S.removeAllFromArray.values||[]):"increment"in S?Y=new $c(v,S.increment):Sr();const ae=Bs.fromServerFormat(S.fieldPath);return new Cl(ae,Y)}(i,f)):[];var f;if(e.update){const f=ul(i,e.update.name),v=new uo({mapValue:{fields:e.update.fields}});if(e.updateMask){const S=new Ji((e.updateMask.fieldPaths||[]).map(we=>Bs.fromServerFormat(we)));return new cl(f,v,S,t,l)}return new fu(f,v,t,l)}if(e.delete){const f=ul(i,e.delete);return new Yu(f,t)}if(e.verify){const f=ul(i,e.verify);return new Hh(f,t)}return Sr()}function rd(i,e){return{documents:[Kh(i,e.path)]}}function pu(i,e){const t={structuredQuery:{}},l=e.path;null!==e.collectionGroup?(t.parent=Kh(i,l),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=Kh(i,l.popLast()),t.structuredQuery.from=[{collectionId:l.lastSegment()}]);const f=function(ae){if(0!==ae.length)return cv(bo.create(ae,"and"))}(e.filters);f&&(t.structuredQuery.where=f);const v=function(ae){if(0!==ae.length)return ae.map(we=>{return{field:Kl((He=we).field),direction:gu(He.dir)};var He})}(e.orderBy);v&&(t.structuredQuery.orderBy=v);const S=Ju(i,e.limit);var Y,ae;return null!==S&&(t.structuredQuery.limit=S),e.startAt&&(t.structuredQuery.startAt={before:(Y=e.startAt).inclusive,values:Y.position}),e.endAt&&(t.structuredQuery.endAt={before:!(ae=e.endAt).inclusive,values:ae.position}),t}function id(i){let e=Zf(i.parent);const t=i.structuredQuery,l=t.from?t.from.length:0;let f=null;if(l>0){Zr(1===l);const He=t.from[0];He.allDescendants?f=He.collectionId:e=e.child(He.collectionId)}let v=[];t.where&&(v=function(He){const St=od(He);return St instanceof bo&&Lf(St)?St.getFilters():[St]}(t.where));let S=[];t.orderBy&&(S=t.orderBy.map(He=>{return new $u(Yh((St=He).field),function(pn){switch(pn){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(St.direction));var St}));let Y=null;t.limit&&(Y=function(He){let St;return St="object"==typeof He?He.value:He,Ye(St)?null:St}(t.limit));let ae=null;var He;t.startAt&&(ae=new ac((He=t.startAt).values||[],!!He.before));let we=null;return t.endAt&&(we=function(He){return new ac(He.values||[],!He.before)}(t.endAt)),Uf(e,f,S,v,Y,"F",ae,we)}function od(i){return void 0!==i.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Yh(e.unaryFilter.field);return Ts.create(t,"==",{doubleValue:NaN});case"IS_NULL":const l=Yh(e.unaryFilter.field);return Ts.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const f=Yh(e.unaryFilter.field);return Ts.create(f,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const v=Yh(e.unaryFilter.field);return Ts.create(v,"!=",{nullValue:"NULL_VALUE"});default:return Sr()}}(i):void 0!==i.fieldFilter?Ts.create(Yh((e=i).fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Sr()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==i.compositeFilter?function(e){return bo.create(e.compositeFilter.filters.map(t=>od(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return Sr()}}(e.compositeFilter.op))}(i):Sr();var e}function gu(i){return Zp[i]}function lv(i){return qf[i]}function x_(i){return Xp[i]}function Kl(i){return{fieldPath:i.canonicalString()}}function Yh(i){return Bs.fromServerFormat(i.fieldPath)}function cv(i){return i instanceof Ts?function(e){if("=="===e.op){if(Nc(e.value))return{unaryFilter:{field:Kl(e.field),op:"IS_NAN"}};if(Ja(e.value))return{unaryFilter:{field:Kl(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Nc(e.value))return{unaryFilter:{field:Kl(e.field),op:"IS_NOT_NAN"}};if(Ja(e.value))return{unaryFilter:{field:Kl(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Kl(e.field),op:lv(e.op),value:e.value}}}(i):i instanceof bo?function(e){const t=e.getFilters().map(l=>cv(l));return 1===t.length?t[0]:{compositeFilter:{op:x_(e.op),filters:t}}}(i):Sr()}function Jp(i){const e=[];return i.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function Bl(i){return i.length>=4&&"projects"===i.get(0)&&"databases"===i.get(2)}class Dl{constructor(e,t,l,f,v=hi.min(),S=hi.min(),Y=Ro.EMPTY_BYTE_STRING,ae=null){this.target=e,this.targetId=t,this.purpose=l,this.sequenceNumber=f,this.snapshotVersion=v,this.lastLimboFreeSnapshotVersion=S,this.resumeToken=Y,this.expectedCount=ae}withSequenceNumber(e){return new Dl(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Dl(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Dl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Dl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class Xf{constructor(e){this.fe=e}}function Cm(i,e){const t=e.key,l={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:Dm(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())l.document={name:ed(f=i.fe,(v=e).key),fields:v.data.value.mapValue.fields,updateTime:Yd(f,v.version.toTimestamp()),createTime:Yd(f,v.createTime.toTimestamp())};else if(e.isNoDocument())l.noDocument={path:t.path.toArray(),readTime:Oo(e.version)};else{if(!e.isUnknownDocument())return Sr();l.unknownDocument={path:t.path.toArray(),version:Oo(e.version)}}var f,v;return l}function Dm(i){const e=i.toTimestamp();return[e.seconds,e.nanoseconds]}function Oo(i){const e=i.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function el(i){const e=new _o(i.seconds,i.nanoseconds);return hi.fromTimestamp(e)}function Yl(i,e){const t=(e.baseMutations||[]).map(v=>Xd(i.fe,v));for(let v=0;v<e.mutations.length-1;++v)v+1<e.mutations.length&&void 0!==e.mutations[v+1].transform&&(e.mutations[v].updateTransforms=e.mutations[v+1].transform.fieldTransforms,e.mutations.splice(v+1,1),++v);const l=e.mutations.map(v=>Xd(i.fe,v)),f=_o.fromMillis(e.localWriteTimeMs);return new zo(e.batchId,f,t,l)}function Qd(i){const e=el(i.readTime),t=void 0!==i.lastLimboFreeSnapshotVersion?el(i.lastLimboFreeSnapshotVersion):hi.min();let l;var f;return void 0!==i.query.documents?(Zr(1===(f=i.query).documents.length),l=ze(du(Zf(f.documents[0])))):l=ze(id(i.query)),new Dl(l,i.targetId,"TargetPurposeListen",i.lastListenSequenceNumber,e,t,Ro.fromBase64String(i.resumeToken))}function Sm(i,e){const t=Oo(e.snapshotVersion),l=Oo(e.lastLimboFreeSnapshotVersion);let f;f=Bh(e.target)?rd(i.fe,e.target):pu(i.fe,e.target);const v=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Lc(e.target),readTime:t,resumeToken:v,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:l,query:f}}function Qf(i){const e=id({parent:i.parent,structuredQuery:i.structuredQuery});return"LAST"===i.limitType?Dn(e,e.limit,"L"):e}function mu(i,e){return new _m(e.largestBatchId,Xd(i.fe,e.overlayMutation))}function Jf(i,e){const t=e.path.lastSegment();return[i,Sn(e.path.popLast()),t]}function Ya(i,e,t,l){return{indexId:i,uid:e.uid||"",sequenceNumber:t,readTime:Oo(l.readTime),documentKey:Sn(l.documentKey.path),largestBatchId:l.largestBatchId}}class Jd{getBundleMetadata(e,t){return ad(e).get(t).next(l=>{if(l)return{id:(f=l).bundleId,createTime:el(f.createTime),version:f.version};var f})}saveBundleMetadata(e,t){return ad(e).put({bundleId:(l=t).id,createTime:Oo(_a(l.createTime)),version:l.version});var l}getNamedQuery(e,t){return eg(e).get(t).next(l=>{if(l)return{name:(f=l).name,query:Qf(f.bundledQuery),readTime:el(f.readTime)};var f})}saveNamedQuery(e,t){return eg(e).put({name:(l=t).name,readTime:Oo(_a(l.readTime)),bundledQuery:l.bundledQuery});var l}}function ad(i){return sr(i,"bundles")}function eg(i){return sr(i,"namedQueries")}class ld{constructor(e,t){this.serializer=e,this.userId=t}static de(e,t){return new ld(e,t.uid||"")}getOverlay(e,t){return tg(e).get(Jf(this.userId,t)).next(l=>l?mu(this.serializer,l):null)}getOverlays(e,t){const l=Bi();return fn.forEach(t,f=>this.getOverlay(e,f).next(v=>{null!==v&&l.set(f,v)})).next(()=>l)}saveOverlays(e,t,l){const f=[];return l.forEach((v,S)=>{const Y=new _m(t,S);f.push(this.we(e,Y))}),fn.waitFor(f)}removeOverlaysForBatchId(e,t,l){const f=new Set;t.forEach(S=>f.add(Sn(S.getCollectionPath())));const v=[];return f.forEach(S=>{const Y=IDBKeyRange.bound([this.userId,S,l],[this.userId,S,l+1],!1,!0);v.push(tg(e).J("collectionPathOverlayIndex",Y))}),fn.waitFor(v)}getOverlaysForCollection(e,t,l){const f=Bi(),v=Sn(t),S=IDBKeyRange.bound([this.userId,v,l],[this.userId,v,Number.POSITIVE_INFINITY],!0);return tg(e).j("collectionPathOverlayIndex",S).next(Y=>{for(const ae of Y){const we=mu(this.serializer,ae);f.set(we.getKey(),we)}return f})}getOverlaysForCollectionGroup(e,t,l,f){const v=Bi();let S;const Y=IDBKeyRange.bound([this.userId,t,l],[this.userId,t,Number.POSITIVE_INFINITY],!0);return tg(e).X({index:"collectionGroupOverlayIndex",range:Y},(ae,we,He)=>{const St=mu(this.serializer,we);v.size()<f||St.largestBatchId===S?(v.set(St.getKey(),St),S=St.largestBatchId):He.done()}).next(()=>v)}we(e,t){return tg(e).put(function(l,f,v){const[S,Y,ae]=Jf(f,v.mutation.key);return{userId:f,collectionPath:Y,documentId:ae,collectionGroup:v.mutation.key.getCollectionGroup(),largestBatchId:v.largestBatchId,overlayMutation:ua(l.fe,v.mutation)}}(this.serializer,this.userId,t))}}function tg(i){return sr(i,"documentOverlays")}class Zh{constructor(){}_e(e,t){this.me(e,t),t.ge()}me(e,t){if("nullValue"in e)this.ye(t,5);else if("booleanValue"in e)this.ye(t,10),t.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(t,15),t.pe(qs(e.integerValue));else if("doubleValue"in e){const l=qs(e.doubleValue);isNaN(l)?this.ye(t,13):(this.ye(t,15),je(l)?t.pe(0):t.pe(l))}else if("timestampValue"in e){const l=e.timestampValue;this.ye(t,20),"string"==typeof l?t.Ie(l):(t.Ie(`${l.seconds||""}`),t.pe(l.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,t),this.Ee(t);else if("bytesValue"in e)this.ye(t,30),t.Ae(la(e.bytesValue)),this.Ee(t);else if("referenceValue"in e)this.ve(e.referenceValue,t);else if("geoPointValue"in e){const l=e.geoPointValue;this.ye(t,45),t.pe(l.latitude||0),t.pe(l.longitude||0)}else"mapValue"in e?lu(e)?this.ye(t,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,t),this.Ee(t)):"arrayValue"in e?(this.Pe(e.arrayValue,t),this.Ee(t)):Sr()}Te(e,t){this.ye(t,25),this.be(e,t)}be(e,t){t.Ie(e)}Re(e,t){const l=e.fields||{};this.ye(t,55);for(const f of Object.keys(l))this.Te(f,t),this.me(l[f],t)}Pe(e,t){const l=e.values||[];this.ye(t,50);for(const f of l)this.me(f,t)}ve(e,t){this.ye(t,37),_r.fromName(e).path.forEach(l=>{this.ye(t,60),this.be(l,t)})}ye(e,t){e.pe(t)}Ee(e){e.pe(2)}}function Y0(i){if(0===i)return 8;let e=0;return!(i>>4)&&(e+=4,i<<=4),!(i>>6)&&(e+=2,i<<=2),!(i>>7)&&(e+=1),e}function ng(i){const e=64-function(t){let l=0;for(let f=0;f<8;++f){const v=Y0(255&t[f]);if(l+=v,8!==v)break}return l}(i);return Math.ceil(e/8)}Zh.Ve=new Zh;class Tm{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Se(e){const t=e[Symbol.iterator]();let l=t.next();for(;!l.done;)this.De(l.value),l=t.next();this.Ce()}xe(e){const t=e[Symbol.iterator]();let l=t.next();for(;!l.done;)this.Ne(l.value),l=t.next();this.ke()}Me(e){for(const t of e){const l=t.charCodeAt(0);if(l<128)this.De(l);else if(l<2048)this.De(960|l>>>6),this.De(128|63&l);else if(t<"\ud800"||"\udbff"<t)this.De(480|l>>>12),this.De(128|63&l>>>6),this.De(128|63&l);else{const f=t.codePointAt(0);this.De(240|f>>>18),this.De(128|63&f>>>12),this.De(128|63&f>>>6),this.De(128|63&f)}}this.Ce()}$e(e){for(const t of e){const l=t.charCodeAt(0);if(l<128)this.Ne(l);else if(l<2048)this.Ne(960|l>>>6),this.Ne(128|63&l);else if(t<"\ud800"||"\udbff"<t)this.Ne(480|l>>>12),this.Ne(128|63&l>>>6),this.Ne(128|63&l);else{const f=t.codePointAt(0);this.Ne(240|f>>>18),this.Ne(128|63&f>>>12),this.Ne(128|63&f>>>6),this.Ne(128|63&f)}}this.ke()}Oe(e){const t=this.Fe(e),l=ng(t);this.Be(1+l),this.buffer[this.position++]=255&l;for(let f=t.length-l;f<t.length;++f)this.buffer[this.position++]=255&t[f]}Le(e){const t=this.Fe(e),l=ng(t);this.Be(1+l),this.buffer[this.position++]=~(255&l);for(let f=t.length-l;f<t.length;++f)this.buffer[this.position++]=~(255&t[f])}qe(){this.Ue(255),this.Ue(255)}Ke(){this.Ge(255),this.Ge(255)}reset(){this.position=0}seed(e){this.Be(e.length),this.buffer.set(e,this.position),this.position+=e.length}Qe(){return this.buffer.slice(0,this.position)}Fe(e){const t=function(f){const v=new DataView(new ArrayBuffer(8));return v.setFloat64(0,f,!1),new Uint8Array(v.buffer)}(e),l=0!=(128&t[0]);t[0]^=l?255:128;for(let f=1;f<t.length;++f)t[f]^=l?255:0;return t}De(e){const t=255&e;0===t?(this.Ue(0),this.Ue(255)):255===t?(this.Ue(255),this.Ue(0)):this.Ue(t)}Ne(e){const t=255&e;0===t?(this.Ge(0),this.Ge(255)):255===t?(this.Ge(255),this.Ge(0)):this.Ge(e)}Ce(){this.Ue(0),this.Ue(1)}ke(){this.Ge(0),this.Ge(1)}Ue(e){this.Be(1),this.buffer[this.position++]=e}Ge(e){this.Be(1),this.buffer[this.position++]=~e}Be(e){const t=e+this.position;if(t<=this.buffer.length)return;let l=2*this.buffer.length;l<t&&(l=t);const f=new Uint8Array(l);f.set(this.buffer),this.buffer=f}}class q0{constructor(e){this.je=e}Ae(e){this.je.Se(e)}Ie(e){this.je.Me(e)}pe(e){this.je.Oe(e)}ge(){this.je.qe()}}class Z0{constructor(e){this.je=e}Ae(e){this.je.xe(e)}Ie(e){this.je.$e(e)}pe(e){this.je.Le(e)}ge(){this.je.Ke()}}class eh{constructor(){this.je=new Tm,this.ze=new q0(this.je),this.We=new Z0(this.je)}seed(e){this.je.seed(e)}He(e){return 0===e?this.ze:this.We}Qe(){return this.je.Qe()}reset(){this.je.reset()}}class cd{constructor(e,t,l,f){this.indexId=e,this.documentKey=t,this.arrayValue=l,this.directionalValue=f}Je(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,l=new Uint8Array(t);return l.set(this.directionalValue,0),t!==e?l.set([0],this.directionalValue.length):++l[l.length-1],new cd(this.indexId,this.documentKey,this.arrayValue,l)}}function ud(i,e){let t=i.indexId-e.indexId;return 0!==t?t:(t=uv(i.arrayValue,e.arrayValue),0!==t?t:(t=uv(i.directionalValue,e.directionalValue),0!==t?t:_r.comparator(i.documentKey,e.documentKey)))}function uv(i,e){for(let t=0;t<i.length&&t<e.length;++t){const l=i[t]-e[t];if(0!==l)return l}return i.length-e.length}class M_{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ye=e.orderBy,this.Xe=[];for(const t of e.filters){const l=t;l.isInequality()?this.Ze=l:this.Xe.push(l)}}tn(e){Zr(e.collectionGroup===this.collectionId);const t=sc(e);if(void 0!==t&&!this.en(t))return!1;const l=ol(e);let f=0,v=0;for(;f<l.length&&this.en(l[f]);++f);if(f===l.length)return!0;if(void 0!==this.Ze){const S=l[f];if(!this.nn(this.Ze,S)||!this.sn(this.Ye[v++],S))return!1;++f}for(;f<l.length;++f)if(v>=this.Ye.length||!this.sn(this.Ye[v++],l[f]))return!1;return!0}en(e){for(const t of this.Xe)if(this.nn(t,e))return!0;return!1}nn(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}sn(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function Am(i){var e,t;if(Zr(i instanceof Ts||i instanceof bo),i instanceof Ts){if(i instanceof ju){const f=(null===(t=null===(e=i.value.arrayValue)||void 0===e?void 0:e.values)||void 0===t?void 0:t.map(v=>Ts.create(i.field,"==",v)))||[];return bo.create(f,"or")}return i}const l=i.filters.map(f=>Am(f));return bo.create(l,i.op)}function rg(i){if(0===i.getFilters().length)return[];const e=fa(Am(i));return Zr(ig(e)),xm(e)||dd(e)?[e]:e.getFilters()}function xm(i){return i instanceof Ts}function dd(i){return i instanceof bo&&Lf(i)}function ig(i){return xm(i)||dd(i)||function(e){if(e instanceof bo&&Vu(e)){for(const t of e.getFilters())if(!xm(t)&&!dd(t))return!1;return!0}return!1}(i)}function fa(i){if(Zr(i instanceof Ts||i instanceof bo),i instanceof Ts)return i;if(1===i.filters.length)return fa(i.filters[0]);const e=i.filters.map(l=>fa(l));let t=bo.create(e,i.op);return t=hd(t),ig(t)?t:(Zr(t instanceof bo),Zr(lc(t)),Zr(t.filters.length>1),t.filters.reduce((l,f)=>Xh(l,f)))}function Xh(i,e){let t;return Zr(i instanceof Ts||i instanceof bo),Zr(e instanceof Ts||e instanceof bo),t=i instanceof Ts?e instanceof Ts?bo.create([i,e],"and"):dv(i,e):e instanceof Ts?dv(e,i):function(l,f){if(Zr(l.filters.length>0&&f.filters.length>0),lc(l)&&lc(f))return Bf(l,f.getFilters());const v=Vu(l)?l:f,S=Vu(l)?f:l,Y=v.filters.map(ae=>Xh(ae,S));return bo.create(Y,"or")}(i,e),hd(t)}function dv(i,e){if(lc(e))return Bf(e,i.getFilters());{const t=e.filters.map(l=>Xh(i,l));return bo.create(t,"or")}}function hd(i){if(Zr(i instanceof Ts||i instanceof bo),i instanceof Ts)return i;const e=i.getFilters();if(1===e.length)return hd(e[0]);if(Vd(i))return i;const t=e.map(f=>hd(f)),l=[];return t.forEach(f=>{f instanceof Ts?l.push(f):f instanceof bo&&(f.op===i.op?l.push(...f.filters):l.push(f))}),1===l.length?l[0]:bo.create(l,i.op)}class Mm{constructor(){this.rn=new sg}addToCollectionParentIndex(e,t){return this.rn.add(t),fn.resolve()}getCollectionParents(e,t){return fn.resolve(this.rn.getEntries(t))}addFieldIndex(e,t){return fn.resolve()}deleteFieldIndex(e,t){return fn.resolve()}getDocumentsMatchingTarget(e,t){return fn.resolve(null)}getIndexType(e,t){return fn.resolve(0)}getFieldIndexes(e,t){return fn.resolve([])}getNextCollectionGroupToUpdate(e){return fn.resolve(null)}getMinOffset(e,t){return fn.resolve(Ba.min())}getMinOffsetFromCollectionGroup(e,t){return fn.resolve(Ba.min())}updateCollectionGroup(e,t,l){return fn.resolve()}updateIndexEntries(e,t){return fn.resolve()}}class sg{constructor(){this.index={}}add(e){const t=e.lastSegment(),l=e.popLast(),f=this.index[t]||new cs(Ki.comparator),v=!f.has(l);return this.index[t]=f.add(l),v}has(e){const t=e.lastSegment(),l=e.popLast(),f=this.index[t];return f&&f.has(l)}getEntries(e){return(this.index[e]||new cs(Ki.comparator)).toArray()}}const og=new Uint8Array(0);class P_{constructor(e,t){this.user=e,this.databaseId=t,this.on=new sg,this.un=new As(l=>Lc(l),(l,f)=>Lh(l,f)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.on.has(t)){const l=t.lastSegment(),f=t.popLast();e.addOnCommittedListener(()=>{this.on.add(t)});const v={collectionId:l,parent:Sn(f)};return Pm(e).put(v)}return fn.resolve()}getCollectionParents(e,t){const l=[],f=IDBKeyRange.bound([t,""],[Fh(t),""],!1,!0);return Pm(e).j(f).next(v=>{for(const S of v){if(S.collectionId!==t)break;l.push(Gr(S.parent))}return l})}addFieldIndex(e,t){const l=Rm(e),f={indexId:(S=t).indexId,collectionGroup:S.collectionGroup,fields:S.fields.map(Y=>[Y.fieldPath.canonicalString(),Y.kind])};var S;delete f.indexId;const v=l.add(f);if(t.indexState){const S=ag(e);return v.next(Y=>{S.put(Ya(Y,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return v.next()}deleteFieldIndex(e,t){const l=Rm(e),f=ag(e),v=fd(e);return l.delete(t.indexId).next(()=>f.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>v.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const l=fd(e);let f=!0;const v=new Map;return fn.forEach(this.cn(t),S=>this.an(e,S).next(Y=>{f&&(f=!!Y),v.set(S,Y)})).next(()=>{if(f){let S=ts();const Y=[];return fn.forEach(v,(ae,we)=>{var He;Un("IndexedDbIndexManager",`Using index ${He=ae,`id=${He.indexId}|cg=${He.collectionGroup}|f=${He.fields.map(fs=>`${fs.fieldPath}:${fs.kind}`).join(",")}`} to execute ${Lc(t)}`);const St=function(fs,ga){const da=sc(ga);if(void 0===da)return null;for(const Xo of $h(fs,da.fieldPath))switch(Xo.op){case"array-contains-any":return Xo.value.arrayValue.values||[];case"array-contains":return[Xo.value]}return null}(we,ae),pn=function(fs,ga){const da=new Map;for(const Xo of ol(ga))for(const rl of $h(fs,Xo.fieldPath))switch(rl.op){case"==":case"in":da.set(Xo.fieldPath.canonicalString(),rl.value);break;case"not-in":case"!=":return da.set(Xo.fieldPath.canonicalString(),rl.value),Array.from(da.values())}return null}(we,ae),Pn=function(fs,ga){const da=[];let Xo=!0;for(const rl of ol(ga)){const gl=0===rl.kind?Vh(fs,rl.fieldPath,fs.startAt):Hu(fs,rl.fieldPath,fs.startAt);da.push(gl.value),Xo&&(Xo=gl.inclusive)}return new ac(da,Xo)}(we,ae),fr=function(fs,ga){const da=[];let Xo=!0;for(const rl of ol(ga)){const gl=0===rl.kind?Hu(fs,rl.fieldPath,fs.endAt):Vh(fs,rl.fieldPath,fs.endAt);da.push(gl.value),Xo&&(Xo=gl.inclusive)}return new ac(da,Xo)}(we,ae),$r=this.hn(ae,we,Pn),Xr=this.hn(ae,we,fr),hs=this.ln(ae,we,pn),Hs=this.fn(ae.indexId,St,$r,Pn.inclusive,Xr,fr.inclusive,hs);return fn.forEach(Hs,fs=>l.H(fs,t.limit).next(ga=>{ga.forEach(da=>{const Xo=_r.fromSegments(da.documentKey);S.has(Xo)||(S=S.add(Xo),Y.push(Xo))})}))}).next(()=>Y)}return fn.resolve(null)})}cn(e){let t=this.un.get(e);return t||(t=0===e.filters.length?[e]:rg(bo.create(e.filters,"and")).map(l=>zu(e.path,e.collectionGroup,e.orderBy,l.getFilters(),e.limit,e.startAt,e.endAt)),this.un.set(e,t),t)}fn(e,t,l,f,v,S,Y){const ae=(null!=t?t.length:1)*Math.max(l.length,v.length),we=ae/(null!=t?t.length:1),He=[];for(let St=0;St<ae;++St){const pn=t?this.dn(t[St/we]):og,Pn=this.wn(e,pn,l[St%we],f),fr=this._n(e,pn,v[St%we],S),$r=Y.map(Xr=>this.wn(e,pn,Xr,!0));He.push(...this.createRange(Pn,fr,$r))}return He}wn(e,t,l,f){const v=new cd(e,_r.empty(),t,l);return f?v:v.Je()}_n(e,t,l,f){const v=new cd(e,_r.empty(),t,l);return f?v.Je():v}an(e,t){const l=new M_(t),f=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,f).next(v=>{let S=null;for(const Y of v)l.tn(Y)&&(!S||Y.fields.length>S.fields.length)&&(S=Y);return S})}getIndexType(e,t){let l=2;const f=this.cn(t);return fn.forEach(f,v=>this.an(e,v).next(S=>{S?0!==l&&S.fields.length<function(Y){let ae=new cs(Bs.comparator),we=!1;for(const He of Y.filters)for(const St of He.getFlattenedFilters())St.field.isKeyField()||("array-contains"===St.op||"array-contains-any"===St.op?we=!0:ae=ae.add(St.field));for(const He of Y.orderBy)He.field.isKeyField()||(ae=ae.add(He.field));return ae.size+(we?1:0)}(v)&&(l=1):l=0})).next(()=>null!==t.limit&&f.length>1&&2===l?1:l)}mn(e,t){const l=new eh;for(const f of ol(e)){const v=t.data.field(f.fieldPath);if(null==v)return null;const S=l.He(f.kind);Zh.Ve._e(v,S)}return l.Qe()}dn(e){const t=new eh;return Zh.Ve._e(e,t.He(0)),t.Qe()}gn(e,t){const l=new eh;return Zh.Ve._e(kc(this.databaseId,t),l.He(function(f){const v=ol(f);return 0===v.length?0:v[v.length-1].kind}(e))),l.Qe()}ln(e,t,l){if(null===l)return[];let f=[];f.push(new eh);let v=0;for(const S of ol(e)){const Y=l[v++];for(const ae of f)if(this.yn(t,S.fieldPath)&&Lu(Y))f=this.pn(f,S,Y);else{const we=ae.He(S.kind);Zh.Ve._e(Y,we)}}return this.In(f)}hn(e,t,l){return this.ln(e,t,l.position)}In(e){const t=[];for(let l=0;l<e.length;++l)t[l]=e[l].Qe();return t}pn(e,t,l){const f=[...e],v=[];for(const S of l.arrayValue.values||[])for(const Y of f){const ae=new eh;ae.seed(Y.Qe()),Zh.Ve._e(S,ae.He(t.kind)),v.push(ae)}return v}yn(e,t){return!!e.filters.find(l=>l instanceof Ts&&l.field.isEqual(t)&&("in"===l.op||"not-in"===l.op))}getFieldIndexes(e,t){const l=Rm(e),f=ag(e);return(t?l.j("collectionGroupIndex",IDBKeyRange.bound(t,t)):l.j()).next(v=>{const S=[];return fn.forEach(v,Y=>f.get([Y.indexId,this.uid]).next(ae=>{S.push(function(we,He){const St=He?new al(He.sequenceNumber,new Ba(el(He.readTime),new _r(Gr(He.documentKey)),He.largestBatchId)):al.empty(),pn=we.fields.map(([Pn,fr])=>new zl(Bs.fromServerFormat(Pn),fr));return new Ac(we.indexId,we.collectionGroup,pn,St)}(Y,ae))})).next(()=>S)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((l,f)=>{const v=l.indexState.sequenceNumber-f.indexState.sequenceNumber;return 0!==v?v:Pi(l.collectionGroup,f.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,l){const f=Rm(e),v=ag(e);return this.Tn(e).next(S=>f.j("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(Y=>fn.forEach(Y,ae=>v.put(Ya(ae.indexId,this.user,S,l)))))}updateIndexEntries(e,t){const l=new Map;return fn.forEach(t,(f,v)=>{const S=l.get(f.collectionGroup);return(S?fn.resolve(S):this.getFieldIndexes(e,f.collectionGroup)).next(Y=>(l.set(f.collectionGroup,Y),fn.forEach(Y,ae=>this.En(e,f,ae).next(we=>{const He=this.An(v,ae);return we.isEqual(He)?fn.resolve():this.vn(e,v,ae,we,He)}))))})}Rn(e,t,l,f){return fd(e).put({indexId:f.indexId,uid:this.uid,arrayValue:f.arrayValue,directionalValue:f.directionalValue,orderedDocumentKey:this.gn(l,t.key),documentKey:t.key.path.toArray()})}Pn(e,t,l,f){return fd(e).delete([f.indexId,this.uid,f.arrayValue,f.directionalValue,this.gn(l,t.key),t.key.path.toArray()])}En(e,t,l){const f=fd(e);let v=new cs(ud);return f.X({index:"documentKeyIndex",range:IDBKeyRange.only([l.indexId,this.uid,this.gn(l,t)])},(S,Y)=>{v=v.add(new cd(l.indexId,t,Y.arrayValue,Y.directionalValue))}).next(()=>v)}An(e,t){let l=new cs(ud);const f=this.mn(t,e);if(null==f)return l;const v=sc(t);if(null!=v){const S=e.data.field(v.fieldPath);if(Lu(S))for(const Y of S.arrayValue.values||[])l=l.add(new cd(t.indexId,e.key,this.dn(Y),f))}else l=l.add(new cd(t.indexId,e.key,og,f));return l}vn(e,t,l,f,v){Un("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const S=[];return function(Y,ae,we,He,St){const pn=Y.getIterator(),Pn=ae.getIterator();let fr=bs(pn),$r=bs(Pn);for(;fr||$r;){let Xr=!1,hs=!1;if(fr&&$r){const Hs=we(fr,$r);Hs<0?hs=!0:Hs>0&&(Xr=!0)}else null!=fr?hs=!0:Xr=!0;Xr?(He($r),$r=bs(Pn)):hs?(St(fr),fr=bs(pn)):(fr=bs(pn),$r=bs(Pn))}}(f,v,ud,Y=>{S.push(this.Rn(e,t,l,Y))},Y=>{S.push(this.Pn(e,t,l,Y))}),fn.waitFor(S)}Tn(e){let t=1;return ag(e).X({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(l,f,v)=>{v.done(),t=f.sequenceNumber+1}).next(()=>t)}createRange(e,t,l){l=l.sort((S,Y)=>ud(S,Y)).filter((S,Y,ae)=>!Y||0!==ud(S,ae[Y-1]));const f=[];f.push(e);for(const S of l){const Y=ud(S,e),ae=ud(S,t);if(0===Y)f[0]=e.Je();else if(Y>0&&ae<0)f.push(S),f.push(S.Je());else if(ae>0)break}f.push(t);const v=[];for(let S=0;S<f.length;S+=2){if(this.bn(f[S],f[S+1]))return[];v.push(IDBKeyRange.bound([f[S].indexId,this.uid,f[S].arrayValue,f[S].directionalValue,og,[]],[f[S+1].indexId,this.uid,f[S+1].arrayValue,f[S+1].directionalValue,og,[]]))}return v}bn(e,t){return ud(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(Qh)}getMinOffset(e,t){return fn.mapArray(this.cn(t),l=>this.an(e,l).next(f=>f||Sr())).next(Qh)}}function Pm(i){return sr(i,"collectionParents")}function fd(i){return sr(i,"indexEntries")}function Rm(i){return sr(i,"indexConfiguration")}function ag(i){return sr(i,"indexState")}function Qh(i){Zr(0!==i.length);let e=i[0].indexState.offset,t=e.largestBatchId;for(let l=1;l<i.length;l++){const f=i[l].indexState.offset;Mo(f,e)<0&&(e=f),t<f.largestBatchId&&(t=f.largestBatchId)}return new Ba(e.readTime,e.documentKey,t)}const Eo={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Sa{constructor(e,t,l){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=l}static withCacheSize(e){return new Sa(e,Sa.DEFAULT_COLLECTION_PERCENTILE,Sa.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function Jh(i,e,t){const l=i.store("mutations"),f=i.store("documentMutations"),v=[],S=IDBKeyRange.only(t.batchId);let Y=0;const ae=l.X({range:S},(He,St,pn)=>(Y++,pn.delete()));v.push(ae.next(()=>{Zr(1===Y)}));const we=[];for(const He of t.mutations){const St=y(e,He.key.path,t.batchId);v.push(f.delete(St)),we.push(He.key)}return fn.waitFor(v).next(()=>we)}function th(i){if(!i)return 0;let e;if(i.document)e=i.document;else if(i.unknownDocument)e=i.unknownDocument;else{if(!i.noDocument)throw Sr();e=i.noDocument}return JSON.stringify(e).length}Sa.DEFAULT_COLLECTION_PERCENTILE=10,Sa.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Sa.DEFAULT=new Sa(41943040,Sa.DEFAULT_COLLECTION_PERCENTILE,Sa.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Sa.DISABLED=new Sa(-1,0,0);class ef{constructor(e,t,l,f){this.userId=e,this.serializer=t,this.indexManager=l,this.referenceDelegate=f,this.Vn={}}static de(e,t,l,f){Zr(""!==e.uid);const v=e.isAuthenticated()?e.uid:"";return new ef(v,t,l,f)}checkEmpty(e){let t=!0;const l=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return yu(e).X({index:"userMutationsIndex",range:l},(f,v,S)=>{t=!1,S.done()}).next(()=>t)}addMutationBatch(e,t,l,f){const v=vu(e),S=yu(e);return S.add({}).next(Y=>{Zr("number"==typeof Y);const ae=new zo(Y,t,l,f),we=function(pn,Pn,fr){const $r=fr.baseMutations.map(hs=>ua(pn.fe,hs)),Xr=fr.mutations.map(hs=>ua(pn.fe,hs));return{userId:Pn,batchId:fr.batchId,localWriteTimeMs:fr.localWriteTime.toMillis(),baseMutations:$r,mutations:Xr}}(this.serializer,this.userId,ae),He=[];let St=new cs((pn,Pn)=>Pi(pn.canonicalString(),Pn.canonicalString()));for(const pn of f){const Pn=y(this.userId,pn.key.path,Y);St=St.add(pn.key.path.popLast()),He.push(S.put(we)),He.push(v.put(Pn,d))}return St.forEach(pn=>{He.push(this.indexManager.addToCollectionParentIndex(e,pn))}),e.addOnCommittedListener(()=>{this.Vn[Y]=ae.keys()}),fn.waitFor(He).next(()=>ae)})}lookupMutationBatch(e,t){return yu(e).get(t).next(l=>l?(Zr(l.userId===this.userId),Yl(this.serializer,l)):null)}Sn(e,t){return this.Vn[t]?fn.resolve(this.Vn[t]):this.lookupMutationBatch(e,t).next(l=>{if(l){const f=l.keys();return this.Vn[t]=f,f}return null})}getNextMutationBatchAfterBatchId(e,t){const l=t+1,f=IDBKeyRange.lowerBound([this.userId,l]);let v=null;return yu(e).X({index:"userMutationsIndex",range:f},(S,Y,ae)=>{Y.userId===this.userId&&(Zr(Y.batchId>=l),v=Yl(this.serializer,Y)),ae.done()}).next(()=>v)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let l=-1;return yu(e).X({index:"userMutationsIndex",range:t,reverse:!0},(f,v,S)=>{l=v.batchId,S.done()}).next(()=>l)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return yu(e).j("userMutationsIndex",t).next(l=>l.map(f=>Yl(this.serializer,f)))}getAllMutationBatchesAffectingDocumentKey(e,t){const l=C(this.userId,t.path),f=IDBKeyRange.lowerBound(l),v=[];return vu(e).X({range:f},(S,Y,ae)=>{const[we,He,St]=S,pn=Gr(He);if(we===this.userId&&t.path.isEqual(pn))return yu(e).get(St).next(Pn=>{if(!Pn)throw Sr();Zr(Pn.userId===this.userId),v.push(Yl(this.serializer,Pn))});ae.done()}).next(()=>v)}getAllMutationBatchesAffectingDocumentKeys(e,t){let l=new cs(Pi);const f=[];return t.forEach(v=>{const S=C(this.userId,v.path),Y=IDBKeyRange.lowerBound(S),ae=vu(e).X({range:Y},(we,He,St)=>{const[pn,Pn,fr]=we,$r=Gr(Pn);pn===this.userId&&v.path.isEqual($r)?l=l.add(fr):St.done()});f.push(ae)}),fn.waitFor(f).next(()=>this.Dn(e,l))}getAllMutationBatchesAffectingQuery(e,t){const l=t.path,f=l.length+1,v=C(this.userId,l),S=IDBKeyRange.lowerBound(v);let Y=new cs(Pi);return vu(e).X({range:S},(ae,we,He)=>{const[St,pn,Pn]=ae,fr=Gr(pn);St===this.userId&&l.isPrefixOf(fr)?fr.length===f&&(Y=Y.add(Pn)):He.done()}).next(()=>this.Dn(e,Y))}Dn(e,t){const l=[],f=[];return t.forEach(v=>{f.push(yu(e).get(v).next(S=>{if(null===S)throw Sr();Zr(S.userId===this.userId),l.push(Yl(this.serializer,S))}))}),fn.waitFor(f).next(()=>l)}removeMutationBatch(e,t){return Jh(e.ht,this.userId,t).next(l=>(e.addOnCommittedListener(()=>{this.Cn(t.batchId)}),fn.forEach(l,f=>this.referenceDelegate.markPotentiallyOrphaned(e,f))))}Cn(e){delete this.Vn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return fn.resolve();const l=IDBKeyRange.lowerBound([this.userId]),f=[];return vu(e).X({range:l},(v,S,Y)=>{if(v[0]===this.userId){const ae=Gr(v[1]);f.push(ae)}else Y.done()}).next(()=>{Zr(0===f.length)})})}containsKey(e,t){return Om(e,this.userId,t)}xn(e){return km(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function Om(i,e,t){const l=C(e,t.path),f=l[1],v=IDBKeyRange.lowerBound(l);let S=!1;return vu(i).X({range:v,Y:!0},(Y,ae,we)=>{const[He,St,pn]=Y;He===e&&St===f&&(S=!0),we.done()}).next(()=>S)}function yu(i){return sr(i,"mutations")}function vu(i){return sr(i,"documentMutations")}function km(i){return sr(i,"mutationQueues")}class _u{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new _u(0)}static Mn(){return new _u(-1)}}class X0{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.$n(e).next(t=>{const l=new _u(t.highestTargetId);return t.highestTargetId=l.next(),this.On(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.$n(e).next(t=>hi.fromTimestamp(new _o(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.$n(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,l){return this.$n(e).next(f=>(f.highestListenSequenceNumber=t,l&&(f.lastRemoteSnapshotVersion=l.toTimestamp()),t>f.highestListenSequenceNumber&&(f.highestListenSequenceNumber=t),this.On(e,f)))}addTargetData(e,t){return this.Fn(e,t).next(()=>this.$n(e).next(l=>(l.targetCount+=1,this.Bn(t,l),this.On(e,l))))}updateTargetData(e,t){return this.Fn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>pd(e).delete(t.targetId)).next(()=>this.$n(e)).next(l=>(Zr(l.targetCount>0),l.targetCount-=1,this.On(e,l)))}removeTargets(e,t,l){let f=0;const v=[];return pd(e).X((S,Y)=>{const ae=Qd(Y);ae.sequenceNumber<=t&&null===l.get(ae.targetId)&&(f++,v.push(this.removeTargetData(e,ae)))}).next(()=>fn.waitFor(v)).next(()=>f)}forEachTarget(e,t){return pd(e).X((l,f)=>{const v=Qd(f);t(v)})}$n(e){return hv(e).get("targetGlobalKey").next(t=>(Zr(null!==t),t))}On(e,t){return hv(e).put("targetGlobalKey",t)}Fn(e,t){return pd(e).put(Sm(this.serializer,t))}Bn(e,t){let l=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,l=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,l=!0),l}getTargetCount(e){return this.$n(e).next(t=>t.targetCount)}getTargetData(e,t){const l=Lc(t),f=IDBKeyRange.bound([l,Number.NEGATIVE_INFINITY],[l,Number.POSITIVE_INFINITY]);let v=null;return pd(e).X({range:f,index:"queryTargetsIndex"},(S,Y,ae)=>{const we=Qd(Y);Lh(t,we.target)&&(v=we,ae.done())}).next(()=>v)}addMatchingKeys(e,t,l){const f=[],v=Uc(e);return t.forEach(S=>{const Y=Sn(S.path);f.push(v.put({targetId:l,path:Y})),f.push(this.referenceDelegate.addReference(e,l,S))}),fn.waitFor(f)}removeMatchingKeys(e,t,l){const f=Uc(e);return fn.forEach(t,v=>{const S=Sn(v.path);return fn.waitFor([f.delete([l,S]),this.referenceDelegate.removeReference(e,l,v)])})}removeMatchingKeysForTargetId(e,t){const l=Uc(e),f=IDBKeyRange.bound([t],[t+1],!1,!0);return l.delete(f)}getMatchingKeysForTargetId(e,t){const l=IDBKeyRange.bound([t],[t+1],!1,!0),f=Uc(e);let v=ts();return f.X({range:l,Y:!0},(S,Y,ae)=>{const we=Gr(S[1]),He=new _r(we);v=v.add(He)}).next(()=>v)}containsKey(e,t){const l=Sn(t.path),f=IDBKeyRange.bound([l],[Fh(l)],!1,!0);let v=0;return Uc(e).X({index:"documentTargetsIndex",Y:!0,range:f},([S,Y],ae,we)=>{0!==S&&(v++,we.done())}).next(()=>v>0)}le(e,t){return pd(e).get(t).next(l=>l?Qd(l):null)}}function pd(i){return sr(i,"targets")}function hv(i){return sr(i,"targetGlobal")}function Uc(i){return sr(i,"targetDocuments")}function Nm([i,e],[t,l]){const f=Pi(i,t);return 0===f?Pi(e,l):f}class Fm{constructor(e){this.Ln=e,this.buffer=new cs(Nm),this.qn=0}Un(){return++this.qn}Kn(e){const t=[e,this.Un()];if(this.buffer.size<this.Ln)this.buffer=this.buffer.add(t);else{const l=this.buffer.last();Nm(t,l)<0&&(this.buffer=this.buffer.delete(l).add(t))}}get maxValue(){return this.buffer.last()[0]}}class gd{constructor(e,t,l){this.garbageCollector=e,this.asyncQueue=t,this.localStore=l,this.Gn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Qn(6e4)}stop(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}get started(){return null!==this.Gn}Qn(e){var t=this;Un("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,h.Z)(function*(){t.Gn=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(l){Po(l)?Un("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",l):yield _l(l)}yield t.Qn(3e5)}))}}class fv{constructor(e,t){this.jn=e,this.params=t}calculateTargetCount(e,t){return this.jn.zn(e).next(l=>Math.floor(t/100*l))}nthSequenceNumber(e,t){if(0===t)return fn.resolve(pe.ct);const l=new Fm(t);return this.jn.forEachTarget(e,f=>l.Kn(f.sequenceNumber)).next(()=>this.jn.Wn(e,f=>l.Kn(f))).next(()=>l.maxValue)}removeTargets(e,t,l){return this.jn.removeTargets(e,t,l)}removeOrphanedDocuments(e,t){return this.jn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Un("LruGarbageCollector","Garbage collection skipped; disabled"),fn.resolve(Eo)):this.getCacheSize(e).next(l=>l<this.params.cacheSizeCollectionThreshold?(Un("LruGarbageCollector",`Garbage collection skipped; Cache size ${l} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Eo):this.Hn(e,t))}getCacheSize(e){return this.jn.getCacheSize(e)}Hn(e,t){let l,f,v,S,Y,ae,we;const He=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(St=>(St>this.params.maximumSequenceNumbersToCollect?(Un("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${St}`),f=this.params.maximumSequenceNumbersToCollect):f=St,S=Date.now(),this.nthSequenceNumber(e,f))).next(St=>(l=St,Y=Date.now(),this.removeTargets(e,l,t))).next(St=>(v=St,ae=Date.now(),this.removeOrphanedDocuments(e,l))).next(St=>(we=Date.now(),Ps()<=Oe.in.DEBUG&&Un("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${S-He}ms\n\tDetermined least recently used ${f} in `+(Y-S)+`ms\n\tRemoved ${v} targets in `+(ae-Y)+`ms\n\tRemoved ${St} documents in `+(we-ae)+`ms\nTotal Duration: ${we-He}ms`),fn.resolve({didRun:!0,sequenceNumbersCollected:f,targetsRemoved:v,documentsRemoved:St})))}}class lg{constructor(e,t){this.db=e,this.garbageCollector=function ep(i,e){return new fv(i,e)}(this,t)}zn(e){const t=this.Jn(e);return this.db.getTargetCache().getTargetCount(e).next(l=>t.next(f=>l+f))}Jn(e){let t=0;return this.Wn(e,l=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Wn(e,t){return this.Yn(e,(l,f)=>t(f))}addReference(e,t,l){return tp(e,l)}removeReference(e,t,l){return tp(e,l)}removeTargets(e,t,l){return this.db.getTargetCache().removeTargets(e,t,l)}markPotentiallyOrphaned(e,t){return tp(e,t)}Xn(e,t){return function(l,f){let v=!1;return km(l).Z(S=>Om(l,S,f).next(Y=>(Y&&(v=!0),fn.resolve(!Y)))).next(()=>v)}(e,t)}removeOrphanedDocuments(e,t){const l=this.db.getRemoteDocumentCache().newChangeBuffer(),f=[];let v=0;return this.Yn(e,(S,Y)=>{if(Y<=t){const ae=this.Xn(e,S).next(we=>{if(!we)return v++,l.getEntry(e,S).next(()=>(l.removeEntry(S,hi.min()),Uc(e).delete([0,Sn(S.path)])))});f.push(ae)}}).next(()=>fn.waitFor(f)).next(()=>l.apply(e)).next(()=>v)}removeTarget(e,t){const l=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,l)}updateLimboDocument(e,t){return tp(e,t)}Yn(e,t){const l=Uc(e);let f,v=pe.ct;return l.X({index:"documentTargetsIndex"},([S,Y],{path:ae,sequenceNumber:we})=>{0===S?(v!==pe.ct&&t(new _r(Gr(f)),v),v=we,f=ae):v=pe.ct}).next(()=>{v!==pe.ct&&t(new _r(Gr(f)),v)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function tp(i,e){return Uc(i).put((l=i.currentSequenceNumber,{targetId:0,path:Sn(e.path),sequenceNumber:l}));var l}class nh{constructor(){this.changes=new As(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,so.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const l=this.changes.get(t);return void 0!==l?fn.resolve(l):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class np{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,l){return bu(e).put(l)}removeEntry(e,t,l){return bu(e).delete(function(f,v){const S=f.path.toArray();return[S.slice(0,S.length-2),S[S.length-2],Dm(v),S[S.length-1]]}(t,l))}updateMetadata(e,t){return this.getMetadata(e).next(l=>(l.byteSize+=t,this.Zn(e,l)))}getEntry(e,t){let l=so.newInvalidDocument(t);return bu(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(tf(t))},(f,v)=>{l=this.ts(t,v)}).next(()=>l)}es(e,t){let l={size:0,document:so.newInvalidDocument(t)};return bu(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(tf(t))},(f,v)=>{l={document:this.ts(t,v),size:th(v)}}).next(()=>l)}getEntries(e,t){let l=$a();return this.ns(e,t,(f,v)=>{const S=this.ts(f,v);l=l.insert(f,S)}).next(()=>l)}ss(e,t){let l=$a(),f=new vr(_r.comparator);return this.ns(e,t,(v,S)=>{const Y=this.ts(v,S);l=l.insert(v,Y),f=f.insert(v,th(S))}).next(()=>({documents:l,rs:f}))}ns(e,t,l){if(t.isEmpty())return fn.resolve();let f=new cs(rh);t.forEach(ae=>f=f.add(ae));const v=IDBKeyRange.bound(tf(f.first()),tf(f.last())),S=f.getIterator();let Y=S.getNext();return bu(e).X({index:"documentKeyIndex",range:v},(ae,we,He)=>{const St=_r.fromSegments([...we.prefixPath,we.collectionGroup,we.documentId]);for(;Y&&rh(Y,St)<0;)l(Y,null),Y=S.getNext();Y&&Y.isEqual(St)&&(l(Y,we),Y=S.hasNext()?S.getNext():null),Y?He.G(tf(Y)):He.done()}).next(()=>{for(;Y;)l(Y,null),Y=S.hasNext()?S.getNext():null})}getDocumentsMatchingQuery(e,t,l,f){const v=t.path,S=[v.popLast().toArray(),v.lastSegment(),Dm(l.readTime),l.documentKey.path.isEmpty()?"":l.documentKey.path.lastSegment()],Y=[v.popLast().toArray(),v.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return bu(e).j(IDBKeyRange.bound(S,Y,!0)).next(ae=>{let we=$a();for(const He of ae){const St=this.ts(_r.fromSegments(He.prefixPath.concat(He.collectionGroup,He.documentId)),He);St.isFoundDocument()&&(ri(t,St)||f.has(St.key))&&(we=we.insert(St.key,St))}return we})}getAllFromCollectionGroup(e,t,l,f){let v=$a();const S=Bm(t,l),Y=Bm(t,Ba.max());return bu(e).X({index:"collectionGroupIndex",range:IDBKeyRange.bound(S,Y,!0)},(ae,we,He)=>{const St=this.ts(_r.fromSegments(we.prefixPath.concat(we.collectionGroup,we.documentId)),we);v=v.insert(St.key,St),v.size===f&&He.done()}).next(()=>v)}newChangeBuffer(e){return new Lm(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return cg(e).get("remoteDocumentGlobalKey").next(t=>(Zr(!!t),t))}Zn(e,t){return cg(e).put("remoteDocumentGlobalKey",t)}ts(e,t){if(t){const l=function qh(i,e){let t;if(e.document)t=av(i.fe,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const l=_r.fromSegments(e.noDocument.path),f=el(e.noDocument.readTime);t=so.newNoDocument(l,f),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return Sr();{const l=_r.fromSegments(e.unknownDocument.path),f=el(e.unknownDocument.version);t=so.newUnknownDocument(l,f)}}return e.readTime&&t.setReadTime(function(l){const f=new _o(l[0],l[1]);return hi.fromTimestamp(f)}(e.readTime)),t}(this.serializer,t);if(!l.isNoDocument()||!l.version.isEqual(hi.min()))return l}return so.newInvalidDocument(e)}}function md(i){return new np(i)}class Lm extends nh{constructor(e,t){super(),this.os=e,this.trackRemovals=t,this.us=new As(l=>l.toString(),(l,f)=>l.isEqual(f))}applyChanges(e){const t=[];let l=0,f=new cs((v,S)=>Pi(v.canonicalString(),S.canonicalString()));return this.changes.forEach((v,S)=>{const Y=this.us.get(v);if(t.push(this.os.removeEntry(e,v,Y.readTime)),S.isValidDocument()){const ae=Cm(this.os.serializer,S);f=f.add(v.path.popLast());const we=th(ae);l+=we-Y.size,t.push(this.os.addEntry(e,v,ae))}else if(l-=Y.size,this.trackRemovals){const ae=Cm(this.os.serializer,S.convertToNoDocument(hi.min()));t.push(this.os.addEntry(e,v,ae))}}),f.forEach(v=>{t.push(this.os.indexManager.addToCollectionParentIndex(e,v))}),t.push(this.os.updateMetadata(e,l)),fn.waitFor(t)}getFromCache(e,t){return this.os.es(e,t).next(l=>(this.us.set(t,{size:l.size,readTime:l.document.readTime}),l.document))}getAllFromCache(e,t){return this.os.ss(e,t).next(({documents:l,rs:f})=>(f.forEach((v,S)=>{this.us.set(v,{size:S,readTime:l.get(v).readTime})}),l))}}function cg(i){return sr(i,"remoteDocumentGlobal")}function bu(i){return sr(i,"remoteDocumentsV14")}function tf(i){const e=i.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function Bm(i,e){const t=e.documentKey.path.toArray();return[i,Dm(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function rh(i,e){const t=i.path.toArray(),l=e.path.toArray();let f=0;for(let v=0;v<t.length-2&&v<l.length-2;++v)if(f=Pi(t[v],l[v]),f)return f;return f=Pi(t.length,l.length),f||(f=Pi(t[t.length-2],l[l.length-2]),f||Pi(t[t.length-1],l[l.length-1]))}class pv{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class Eu{constructor(e,t,l,f){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=l,this.indexManager=f}getDocument(e,t){let l=null;return this.documentOverlayCache.getOverlay(e,t).next(f=>(l=f,this.remoteDocumentCache.getEntry(e,t))).next(f=>(null!==l&&Hf(l.mutation,f,Ji.empty(),_o.now()),f))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(l=>this.getLocalViewOfDocuments(e,l,ts()).next(()=>l))}getLocalViewOfDocuments(e,t,l=ts()){const f=Bi();return this.populateOverlays(e,f,t).next(()=>this.computeViews(e,t,f,l).next(v=>{let S=cc();return v.forEach((Y,ae)=>{S=S.insert(Y,ae.overlayedDocument)}),S}))}getOverlayedDocuments(e,t){const l=Bi();return this.populateOverlays(e,l,t).next(()=>this.computeViews(e,t,l,ts()))}populateOverlays(e,t,l){const f=[];return l.forEach(v=>{t.has(v)||f.push(v)}),this.documentOverlayCache.getOverlays(e,f).next(v=>{v.forEach((S,Y)=>{t.set(S,Y)})})}computeViews(e,t,l,f){let v=$a();const S=Wu(),Y=Wu();return t.forEach((ae,we)=>{const He=l.get(we.key);f.has(we.key)&&(void 0===He||He.mutation instanceof cl)?v=v.insert(we.key,we):void 0!==He?(S.set(we.key,He.mutation.getFieldMask()),Hf(He.mutation,we,He.mutation.getFieldMask(),_o.now())):S.set(we.key,Ji.empty())}),this.recalculateAndSaveOverlays(e,v).next(ae=>(ae.forEach((we,He)=>S.set(we,He)),t.forEach((we,He)=>{var St;return Y.set(we,new pv(He,null!==(St=S.get(we))&&void 0!==St?St:null))}),Y))}recalculateAndSaveOverlays(e,t){const l=Wu();let f=new vr((S,Y)=>S-Y),v=ts();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(S=>{for(const Y of S)Y.keys().forEach(ae=>{const we=t.get(ae);if(null===we)return;let He=l.get(ae)||Ji.empty();He=Y.applyToLocalView(we,He),l.set(ae,He);const St=(f.get(Y.batchId)||ts()).add(ae);f=f.insert(Y.batchId,St)})}).next(()=>{const S=[],Y=f.getReverseIterator();for(;Y.hasNext();){const ae=Y.getNext(),we=ae.key,He=ae.value,St=Pa();He.forEach(pn=>{if(!v.has(pn)){const Pn=Yp(t.get(pn),l.get(pn));null!==Pn&&St.set(pn,Pn),v=v.add(pn)}}),S.push(this.documentOverlayCache.saveOverlays(e,we,St))}return fn.waitFor(S)}).next(()=>l)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(l=>this.recalculateAndSaveOverlays(e,l))}getDocumentsMatchingQuery(e,t,l){return _r.isDocumentKey((f=t).path)&&null===f.collectionGroup&&0===f.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):K(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,l):this.getDocumentsMatchingCollectionQuery(e,t,l);var f}getNextDocuments(e,t,l,f){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,l,f).next(v=>{const S=f-v.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,l.largestBatchId,f-v.size):fn.resolve(Bi());let Y=-1,ae=v;return S.next(we=>fn.forEach(we,(He,St)=>(Y<St.largestBatchId&&(Y=St.largestBatchId),v.get(He)?fn.resolve():this.remoteDocumentCache.getEntry(e,He).next(pn=>{ae=ae.insert(He,pn)}))).next(()=>this.populateOverlays(e,we,v)).next(()=>this.computeViews(e,ae,we,ts())).next(He=>({batchId:Y,changes:zs(He)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new _r(t)).next(l=>{let f=cc();return l.isFoundDocument()&&(f=f.insert(l.key,l)),f})}getDocumentsMatchingCollectionGroupQuery(e,t,l){const f=t.collectionGroup;let v=cc();return this.indexManager.getCollectionParents(e,f).next(S=>fn.forEach(S,Y=>{const ae=(we=t,He=Y.child(f),new Fl(He,null,we.explicitOrderBy.slice(),we.filters.slice(),we.limit,we.limitType,we.startAt,we.endAt));var we,He;return this.getDocumentsMatchingCollectionQuery(e,ae,l).next(we=>{we.forEach((He,St)=>{v=v.insert(He,St)})})}).next(()=>v))}getDocumentsMatchingCollectionQuery(e,t,l){let f;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,l.largestBatchId).next(v=>(f=v,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,l,f))).next(v=>{f.forEach((Y,ae)=>{const we=ae.getKey();null===v.get(we)&&(v=v.insert(we,so.newInvalidDocument(we)))});let S=cc();return v.forEach((Y,ae)=>{const we=f.get(Y);void 0!==we&&Hf(we.mutation,ae,Ji.empty(),_o.now()),ri(t,ae)&&(S=S.insert(Y,ae))}),S})}}class gv{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,t){return fn.resolve(this.cs.get(t))}saveBundleMetadata(e,t){var l;return this.cs.set(t.id,{id:(l=t).id,version:l.version,createTime:_a(l.createTime)}),fn.resolve()}getNamedQuery(e,t){return fn.resolve(this.hs.get(t))}saveNamedQuery(e,t){return this.hs.set(t.name,{name:(l=t).name,query:Qf(l.bundledQuery),readTime:_a(l.readTime)}),fn.resolve();var l}}class ug{constructor(){this.overlays=new vr(_r.comparator),this.ls=new Map}getOverlay(e,t){return fn.resolve(this.overlays.get(t))}getOverlays(e,t){const l=Bi();return fn.forEach(t,f=>this.getOverlay(e,f).next(v=>{null!==v&&l.set(f,v)})).next(()=>l)}saveOverlays(e,t,l){return l.forEach((f,v)=>{this.we(e,t,v)}),fn.resolve()}removeOverlaysForBatchId(e,t,l){const f=this.ls.get(l);return void 0!==f&&(f.forEach(v=>this.overlays=this.overlays.remove(v)),this.ls.delete(l)),fn.resolve()}getOverlaysForCollection(e,t,l){const f=Bi(),v=t.length+1,S=new _r(t.child("")),Y=this.overlays.getIteratorFrom(S);for(;Y.hasNext();){const ae=Y.getNext().value,we=ae.getKey();if(!t.isPrefixOf(we.path))break;we.path.length===v&&ae.largestBatchId>l&&f.set(ae.getKey(),ae)}return fn.resolve(f)}getOverlaysForCollectionGroup(e,t,l,f){let v=new vr((we,He)=>we-He);const S=this.overlays.getIterator();for(;S.hasNext();){const we=S.getNext().value;if(we.getKey().getCollectionGroup()===t&&we.largestBatchId>l){let He=v.get(we.largestBatchId);null===He&&(He=Bi(),v=v.insert(we.largestBatchId,He)),He.set(we.getKey(),we)}}const Y=Bi(),ae=v.getIterator();for(;ae.hasNext()&&(ae.getNext().value.forEach((we,He)=>Y.set(we,He)),!(Y.size()>=f)););return fn.resolve(Y)}we(e,t,l){const f=this.overlays.get(l.key);if(null!==f){const S=this.ls.get(f.largestBatchId).delete(l.key);this.ls.set(f.largestBatchId,S)}this.overlays=this.overlays.insert(l.key,new _m(t,l));let v=this.ls.get(t);void 0===v&&(v=ts(),this.ls.set(t,v)),this.ls.set(t,v.add(l.key))}}class fc{constructor(){this.fs=new cs(Ta.ds),this.ws=new cs(Ta._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,t){const l=new Ta(e,t);this.fs=this.fs.add(l),this.ws=this.ws.add(l)}gs(e,t){e.forEach(l=>this.addReference(l,t))}removeReference(e,t){this.ys(new Ta(e,t))}ps(e,t){e.forEach(l=>this.removeReference(l,t))}Is(e){const t=new _r(new Ki([])),l=new Ta(t,e),f=new Ta(t,e+1),v=[];return this.ws.forEachInRange([l,f],S=>{this.ys(S),v.push(S.key)}),v}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const t=new _r(new Ki([])),l=new Ta(t,e),f=new Ta(t,e+1);let v=ts();return this.ws.forEachInRange([l,f],S=>{v=v.add(S.key)}),v}containsKey(e){const t=new Ta(e,0),l=this.fs.firstAfterOrEqual(t);return null!==l&&e.isEqual(l.key)}}class Ta{constructor(e,t){this.key=e,this.As=t}static ds(e,t){return _r.comparator(e.key,t.key)||Pi(e.As,t.As)}static _s(e,t){return Pi(e.As,t.As)||_r.comparator(e.key,t.key)}}class rp{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.vs=1,this.Rs=new cs(Ta.ds)}checkEmpty(e){return fn.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,l,f){const v=this.vs;this.vs++;const S=new zo(v,t,l,f);this.mutationQueue.push(S);for(const Y of f)this.Rs=this.Rs.add(new Ta(Y.key,v)),this.indexManager.addToCollectionParentIndex(e,Y.key.path.popLast());return fn.resolve(S)}lookupMutationBatch(e,t){return fn.resolve(this.Ps(t))}getNextMutationBatchAfterBatchId(e,t){const f=this.bs(t+1),v=f<0?0:f;return fn.resolve(this.mutationQueue.length>v?this.mutationQueue[v]:null)}getHighestUnacknowledgedBatchId(){return fn.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return fn.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const l=new Ta(t,0),f=new Ta(t,Number.POSITIVE_INFINITY),v=[];return this.Rs.forEachInRange([l,f],S=>{const Y=this.Ps(S.As);v.push(Y)}),fn.resolve(v)}getAllMutationBatchesAffectingDocumentKeys(e,t){let l=new cs(Pi);return t.forEach(f=>{const v=new Ta(f,0),S=new Ta(f,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([v,S],Y=>{l=l.add(Y.As)})}),fn.resolve(this.Vs(l))}getAllMutationBatchesAffectingQuery(e,t){const l=t.path,f=l.length+1;let v=l;_r.isDocumentKey(v)||(v=v.child(""));const S=new Ta(new _r(v),0);let Y=new cs(Pi);return this.Rs.forEachWhile(ae=>{const we=ae.key.path;return!!l.isPrefixOf(we)&&(we.length===f&&(Y=Y.add(ae.As)),!0)},S),fn.resolve(this.Vs(Y))}Vs(e){const t=[];return e.forEach(l=>{const f=this.Ps(l);null!==f&&t.push(f)}),t}removeMutationBatch(e,t){Zr(0===this.Ss(t.batchId,"removed")),this.mutationQueue.shift();let l=this.Rs;return fn.forEach(t.mutations,f=>{const v=new Ta(f.key,t.batchId);return l=l.delete(v),this.referenceDelegate.markPotentiallyOrphaned(e,f.key)}).next(()=>{this.Rs=l})}Cn(e){}containsKey(e,t){const l=new Ta(t,0),f=this.Rs.firstAfterOrEqual(l);return fn.resolve(t.isEqual(f&&f.key))}performConsistencyCheck(e){return fn.resolve()}Ss(e,t){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const t=this.bs(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class mv{constructor(e){this.Ds=e,this.docs=new vr(_r.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const l=t.key,f=this.docs.get(l),v=f?f.size:0,S=this.Ds(t);return this.docs=this.docs.insert(l,{document:t.mutableCopy(),size:S}),this.size+=S-v,this.indexManager.addToCollectionParentIndex(e,l.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const l=this.docs.get(t);return fn.resolve(l?l.document.mutableCopy():so.newInvalidDocument(t))}getEntries(e,t){let l=$a();return t.forEach(f=>{const v=this.docs.get(f);l=l.insert(f,v?v.document.mutableCopy():so.newInvalidDocument(f))}),fn.resolve(l)}getDocumentsMatchingQuery(e,t,l,f){let v=$a();const S=t.path,Y=new _r(S.child("")),ae=this.docs.getIteratorFrom(Y);for(;ae.hasNext();){const{key:we,value:{document:He}}=ae.getNext();if(!S.isPrefixOf(we.path))break;we.path.length>S.length+1||Mo(Mc(He),l)<=0||(f.has(He.key)||ri(t,He))&&(v=v.insert(He.key,He.mutableCopy()))}return fn.resolve(v)}getAllFromCollectionGroup(e,t,l,f){Sr()}Cs(e,t){return fn.forEach(this.docs,l=>t(l))}newChangeBuffer(e){return new Q0(this)}getSize(e){return fn.resolve(this.size)}}class Q0 extends nh{constructor(e){super(),this.os=e}applyChanges(e){const t=[];return this.changes.forEach((l,f)=>{f.isValidDocument()?t.push(this.os.addEntry(e,f)):this.os.removeEntry(l)}),fn.waitFor(t)}getFromCache(e,t){return this.os.getEntry(e,t)}getAllFromCache(e,t){return this.os.getEntries(e,t)}}class R_{constructor(e){this.persistence=e,this.xs=new As(t=>Lc(t),Lh),this.lastRemoteSnapshotVersion=hi.min(),this.highestTargetId=0,this.Ns=0,this.ks=new fc,this.targetCount=0,this.Ms=_u.kn()}forEachTarget(e,t){return this.xs.forEach((l,f)=>t(f)),fn.resolve()}getLastRemoteSnapshotVersion(e){return fn.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return fn.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),fn.resolve(this.highestTargetId)}setTargetsMetadata(e,t,l){return l&&(this.lastRemoteSnapshotVersion=l),t>this.Ns&&(this.Ns=t),fn.resolve()}Fn(e){this.xs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ms=new _u(t),this.highestTargetId=t),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,t){return this.Fn(t),this.targetCount+=1,fn.resolve()}updateTargetData(e,t){return this.Fn(t),fn.resolve()}removeTargetData(e,t){return this.xs.delete(t.target),this.ks.Is(t.targetId),this.targetCount-=1,fn.resolve()}removeTargets(e,t,l){let f=0;const v=[];return this.xs.forEach((S,Y)=>{Y.sequenceNumber<=t&&null===l.get(Y.targetId)&&(this.xs.delete(S),v.push(this.removeMatchingKeysForTargetId(e,Y.targetId)),f++)}),fn.waitFor(v).next(()=>f)}getTargetCount(e){return fn.resolve(this.targetCount)}getTargetData(e,t){const l=this.xs.get(t)||null;return fn.resolve(l)}addMatchingKeys(e,t,l){return this.ks.gs(t,l),fn.resolve()}removeMatchingKeys(e,t,l){this.ks.ps(t,l);const f=this.persistence.referenceDelegate,v=[];return f&&t.forEach(S=>{v.push(f.markPotentiallyOrphaned(e,S))}),fn.waitFor(v)}removeMatchingKeysForTargetId(e,t){return this.ks.Is(t),fn.resolve()}getMatchingKeysForTargetId(e,t){const l=this.ks.Es(t);return fn.resolve(l)}containsKey(e,t){return fn.resolve(this.ks.containsKey(t))}}class dg{constructor(e,t){this.$s={},this.overlays={},this.Os=new pe(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new R_(this),this.indexManager=new Mm,this.remoteDocumentCache=new mv(l=>this.referenceDelegate.Ls(l)),this.serializer=new Xf(t),this.qs=new gv(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new ug,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let l=this.$s[e.toKey()];return l||(l=new rp(t,this.referenceDelegate),this.$s[e.toKey()]=l),l}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,t,l){Un("MemoryPersistence","Starting transaction:",e);const f=new $m(this.Os.next());return this.referenceDelegate.Us(),l(f).next(v=>this.referenceDelegate.Ks(f).next(()=>v)).toPromise().then(v=>(f.raiseOnCommittedEvent(),v))}Gs(e,t){return fn.or(Object.values(this.$s).map(l=>()=>l.containsKey(e,t)))}}class $m extends Bo{constructor(e){super(),this.currentSequenceNumber=e}}class Vm{constructor(e){this.persistence=e,this.Qs=new fc,this.js=null}static zs(e){return new Vm(e)}get Ws(){if(this.js)return this.js;throw Sr()}addReference(e,t,l){return this.Qs.addReference(l,t),this.Ws.delete(l.toString()),fn.resolve()}removeReference(e,t,l){return this.Qs.removeReference(l,t),this.Ws.add(l.toString()),fn.resolve()}markPotentiallyOrphaned(e,t){return this.Ws.add(t.toString()),fn.resolve()}removeTarget(e,t){this.Qs.Is(t.targetId).forEach(f=>this.Ws.add(f.toString()));const l=this.persistence.getTargetCache();return l.getMatchingKeysForTargetId(e,t.targetId).next(f=>{f.forEach(v=>this.Ws.add(v.toString()))}).next(()=>l.removeTargetData(e,t))}Us(){this.js=new Set}Ks(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return fn.forEach(this.Ws,l=>{const f=_r.fromPath(l);return this.Hs(e,f).next(v=>{v||t.removeEntry(f,hi.min())})}).next(()=>(this.js=null,t.apply(e)))}updateLimboDocument(e,t){return this.Hs(e,t).next(l=>{l?this.Ws.delete(t.toString()):this.Ws.add(t.toString())})}Ls(e){return 0}Hs(e,t){return fn.or([()=>fn.resolve(this.Qs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Gs(e,t)])}}class hg{constructor(e){this.serializer=e}O(e,t,l,f){const v=new Ia("createOrUpgrade",t);var Y;l<1&&f>=1&&(e.createObjectStore("owner"),(Y=e).createObjectStore("mutationQueues",{keyPath:"userId"}),Y.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Yi,{unique:!0}),Y.createObjectStore("documentMutations"),O_(e),function(Y){Y.createObjectStore("remoteDocuments")}(e));let S=fn.resolve();return l<3&&f>=3&&(0!==l&&(function(Y){Y.deleteObjectStore("targetDocuments"),Y.deleteObjectStore("targets"),Y.deleteObjectStore("targetGlobal")}(e),O_(e)),S=S.next(()=>function(Y){const ae=Y.store("targetGlobal"),we={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:hi.min().toTimestamp(),targetCount:0};return ae.put("targetGlobalKey",we)}(v))),l<4&&f>=4&&(0!==l&&(S=S.next(()=>function(Y,ae){return ae.store("mutations").j().next(we=>{Y.deleteObjectStore("mutations"),Y.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Yi,{unique:!0});const He=ae.store("mutations"),St=we.map(pn=>He.put(pn));return fn.waitFor(St)})}(e,v))),S=S.next(()=>{!function(Y){Y.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),l<5&&f>=5&&(S=S.next(()=>this.Ys(v))),l<6&&f>=6&&(S=S.next(()=>(function(Y){Y.createObjectStore("remoteDocumentGlobal")}(e),this.Xs(v)))),l<7&&f>=7&&(S=S.next(()=>this.Zs(v))),l<8&&f>=8&&(S=S.next(()=>this.ti(e,v))),l<9&&f>=9&&(S=S.next(()=>{!function(Y){Y.objectStoreNames.contains("remoteDocumentChanges")&&Y.deleteObjectStore("remoteDocumentChanges")}(e)})),l<10&&f>=10&&(S=S.next(()=>this.ei(v))),l<11&&f>=11&&(S=S.next(()=>{(function(Y){Y.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(Y){Y.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),l<12&&f>=12&&(S=S.next(()=>{!function(Y){const ae=Y.createObjectStore("documentOverlays",{keyPath:zt});ae.createIndex("collectionPathOverlayIndex",sn,{unique:!1}),ae.createIndex("collectionGroupOverlayIndex",gn,{unique:!1})}(e)})),l<13&&f>=13&&(S=S.next(()=>function(Y){const ae=Y.createObjectStore("remoteDocumentsV14",{keyPath:m});ae.createIndex("documentKeyIndex",E),ae.createIndex("collectionGroupIndex",b)}(e)).next(()=>this.ni(e,v)).next(()=>e.deleteObjectStore("remoteDocuments"))),l<14&&f>=14&&(S=S.next(()=>this.si(e,v))),l<15&&f>=15&&(S=S.next(()=>function(Y){Y.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),Y.createObjectStore("indexState",{keyPath:Ce}).createIndex("sequenceNumberIndex",Ve,{unique:!1}),Y.createObjectStore("indexEntries",{keyPath:ht}).createIndex("documentKeyIndex",yt,{unique:!1})}(e))),S}Xs(e){let t=0;return e.store("remoteDocuments").X((l,f)=>{t+=th(f)}).next(()=>{const l={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",l)})}Ys(e){const t=e.store("mutationQueues"),l=e.store("mutations");return t.j().next(f=>fn.forEach(f,v=>{const S=IDBKeyRange.bound([v.userId,-1],[v.userId,v.lastAcknowledgedBatchId]);return l.j("userMutationsIndex",S).next(Y=>fn.forEach(Y,ae=>{Zr(ae.userId===v.userId);const we=Yl(this.serializer,ae);return Jh(e,v.userId,we).next(()=>{})}))}))}Zs(e){const t=e.store("targetDocuments"),l=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(f=>{const v=[];return l.X((S,Y)=>{const ae=new Ki(S),we=[0,Sn(ae)];v.push(t.get(we).next(He=>He?fn.resolve():t.put({targetId:0,path:Sn(ae),sequenceNumber:f.highestListenSequenceNumber})))}).next(()=>fn.waitFor(v))})}ti(e,t){e.createObjectStore("collectionParents",{keyPath:ne});const l=t.store("collectionParents"),f=new sg,v=S=>{if(f.add(S)){const Y=S.lastSegment(),ae=S.popLast();return l.put({collectionId:Y,parent:Sn(ae)})}};return t.store("remoteDocuments").X({Y:!0},(S,Y)=>{const ae=new Ki(S);return v(ae.popLast())}).next(()=>t.store("documentMutations").X({Y:!0},([S,Y,ae],we)=>{const He=Gr(Y);return v(He.popLast())}))}ei(e){const t=e.store("targets");return t.X((l,f)=>{const v=Qd(f),S=Sm(this.serializer,v);return t.put(S)})}ni(e,t){const l=t.store("remoteDocuments"),f=[];return l.X((v,S)=>{const Y=t.store("remoteDocumentsV14"),ae=(we=S,we.document?new _r(Ki.fromString(we.document.name).popFirst(5)):we.noDocument?_r.fromSegments(we.noDocument.path):we.unknownDocument?_r.fromSegments(we.unknownDocument.path):Sr()).path.toArray();var we;const He={prefixPath:ae.slice(0,ae.length-2),collectionGroup:ae[ae.length-2],documentId:ae[ae.length-1],readTime:S.readTime||[0,0],unknownDocument:S.unknownDocument,noDocument:S.noDocument,document:S.document,hasCommittedMutations:!!S.hasCommittedMutations};f.push(Y.put(He))}).next(()=>fn.waitFor(f))}si(e,t){const l=t.store("mutations"),f=md(this.serializer),v=new dg(Vm.zs,this.serializer.fe);return l.j().next(S=>{const Y=new Map;return S.forEach(ae=>{var we;let He=null!==(we=Y.get(ae.userId))&&void 0!==we?we:ts();Yl(this.serializer,ae).keys().forEach(St=>He=He.add(St)),Y.set(ae.userId,He)}),fn.forEach(Y,(ae,we)=>{const He=new di(we),St=ld.de(this.serializer,He),pn=v.getIndexManager(He),Pn=ef.de(He,this.serializer,pn,v.referenceDelegate);return new Eu(f,Pn,St,pn).recalculateAndSaveOverlaysForDocumentKeys(new ir(t,pe.ct),ae).next()})})}}function O_(i){i.createObjectStore("targetDocuments",{keyPath:B}).createIndex("documentTargetsIndex",W,{unique:!0}),i.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",M,{unique:!0}),i.createObjectStore("targetGlobal")}const nf="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Um{constructor(e,t,l,f,v,S,Y,ae,we,He,St=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=l,this.ii=v,this.window=S,this.document=Y,this.ri=we,this.oi=He,this.ui=St,this.Os=null,this.Fs=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.ai=null,this.hi=null,this.li=Number.NEGATIVE_INFINITY,this.fi=pn=>Promise.resolve(),!Um.D())throw new qn(wn.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new lg(this,f),this.di=t+"main",this.serializer=new Xf(ae),this.wi=new Yo(this.di,this.ui,new hg(this.serializer)),this.Bs=new X0(this.referenceDelegate,this.serializer),this.remoteDocumentCache=md(this.serializer),this.qs=new Jd,this.window&&this.window.localStorage?this._i=this.window.localStorage:(this._i=null,!1===He&&Mi("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.mi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new qn(wn.FAILED_PRECONDITION,nf);return this.gi(),this.yi(),this.pi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Bs.getHighestSequenceNumber(e))}).then(e=>{this.Os=new pe(e,this.ri)}).then(()=>{this.Fs=!0}).catch(e=>(this.wi&&this.wi.close(),Promise.reject(e)))}Ii(e){var t=this;return this.fi=function(){var l=(0,h.Z)(function*(f){if(t.started)return e(f)});return function(f){return l.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.wi.B(function(){var t=(0,h.Z)(function*(l){null===l.newVersion&&(yield e())});return function(l){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.ii.enqueueAndForget((0,h.Z)(function*(){t.started&&(yield t.mi())})))}mi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>ih(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Ti(e).next(t=>{t||(this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)))})}).next(()=>this.Ei(e)).next(t=>this.isPrimary&&!t?this.Ai(e).next(()=>!1):!!t&&this.vi(e).next(()=>!0))).catch(e=>{if(Po(e))return Un("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Un("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.ii.enqueueRetryable(()=>this.fi(e)),this.isPrimary=e})}Ti(e){return jc(e).get("owner").next(t=>fn.resolve(this.Ri(t)))}Pi(e){return ih(e).delete(this.clientId)}bi(){var e=this;return(0,h.Z)(function*(){if(e.isPrimary&&!e.Vi(e.li,18e5)){e.li=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",l=>{const f=sr(l,"clientMetadata");return f.j().next(v=>{const S=e.Si(v,18e5),Y=v.filter(ae=>-1===S.indexOf(ae));return fn.forEach(Y,ae=>f.delete(ae.clientId)).next(()=>Y)})}).catch(()=>[]);if(e._i)for(const l of t)e._i.removeItem(e.Di(l.clientId))}})()}pi(){this.hi=this.ii.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.mi().then(()=>this.bi()).then(()=>this.pi()))}Ri(e){return!!e&&e.ownerId===this.clientId}Ei(e){return this.oi?fn.resolve(!0):jc(e).get("owner").next(t=>{if(null!==t&&this.Vi(t.leaseTimestampMs,5e3)&&!this.Ci(t.ownerId)){if(this.Ri(t)&&this.networkEnabled)return!0;if(!this.Ri(t)){if(!t.allowTabSynchronization)throw new qn(wn.FAILED_PRECONDITION,nf);return!1}}return!(!this.networkEnabled||!this.inForeground)||ih(e).j().next(l=>void 0===this.Si(l,5e3).find(f=>!(this.clientId===f.clientId||!(!this.networkEnabled&&f.networkEnabled||!this.inForeground&&f.inForeground&&this.networkEnabled===f.networkEnabled))))}).next(t=>(this.isPrimary!==t&&Un("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,h.Z)(function*(){e.Fs=!1,e.xi(),e.hi&&(e.hi.cancel(),e.hi=null),e.Ni(),e.ki(),yield e.wi.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const l=new ir(t,pe.ct);return e.Ai(l).next(()=>e.Pi(l))}),e.wi.close(),e.Mi()})()}Si(e,t){return e.filter(l=>this.Vi(l.updateTimeMs,t)&&!this.Ci(l.clientId))}$i(){return this.runTransaction("getActiveClients","readonly",e=>ih(e).j().next(t=>this.Si(t,18e5).map(l=>l.clientId)))}get started(){return this.Fs}getMutationQueue(e,t){return ef.de(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new P_(e,this.serializer.fe.databaseId)}getDocumentOverlayCache(e){return ld.de(this.serializer,e)}getBundleCache(){return this.qs}runTransaction(e,t,l){Un("IndexedDbPersistence","Starting transaction:",e);const f="readonly"===t?"readonly":"readwrite",v=15===(S=this.ui)?Zn:14===S?or:13===S?rr:12===S?xn:11===S?Bn:void Sr();var S;let Y;return this.wi.runTransaction(e,f,v,ae=>(Y=new ir(ae,this.Os?this.Os.next():pe.ct),"readwrite-primary"===t?this.Ti(Y).next(we=>!!we||this.Ei(Y)).next(we=>{if(!we)throw Mi(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)),new qn(wn.FAILED_PRECONDITION,ll);return l(Y)}).next(we=>this.vi(Y).next(()=>we)):this.Oi(Y).next(()=>l(Y)))).then(ae=>(Y.raiseOnCommittedEvent(),ae))}Oi(e){return jc(e).get("owner").next(t=>{if(null!==t&&this.Vi(t.leaseTimestampMs,5e3)&&!this.Ci(t.ownerId)&&!this.Ri(t)&&!(this.oi||this.allowTabSynchronization&&t.allowTabSynchronization))throw new qn(wn.FAILED_PRECONDITION,nf)})}vi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return jc(e).put("owner",t)}static D(){return Yo.D()}Ai(e){const t=jc(e);return t.get("owner").next(l=>this.Ri(l)?(Un("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):fn.resolve())}Vi(e,t){const l=Date.now();return!(e<l-t||e>l&&(Mi(`Detected an update time that is in the future: ${e} > ${l}`),1))}gi(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ai=()=>{this.ii.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.mi()))},this.document.addEventListener("visibilitychange",this.ai),this.inForeground="visible"===this.document.visibilityState)}Ni(){this.ai&&(this.document.removeEventListener("visibilitychange",this.ai),this.ai=null)}yi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ci=()=>{this.xi();const t=/(?:Version|Mobile)\/1[456]/;(0,Ze.G6)()&&(navigator.appVersion.match(t)||navigator.userAgent.match(t))&&this.ii.enterRestrictedMode(!0),this.ii.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ci))}ki(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}Ci(e){var t;try{const l=null!==(null===(t=this._i)||void 0===t?void 0:t.getItem(this.Di(e)));return Un("IndexedDbPersistence",`Client '${e}' ${l?"is":"is not"} zombied in LocalStorage`),l}catch(l){return Mi("IndexedDbPersistence","Failed to get zombied client id.",l),!1}}xi(){if(this._i)try{this._i.setItem(this.Di(this.clientId),String(Date.now()))}catch(e){Mi("Failed to set zombie client id.",e)}}Mi(){if(this._i)try{this._i.removeItem(this.Di(this.clientId))}catch{}}Di(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function jc(i){return sr(i,"owner")}function ih(i){return sr(i,"clientMetadata")}function sh(i,e){let t=i.projectId;return i.isDefaultDatabase||(t+="."+i.database),"firestore/"+e+"/"+t+"/"}class yd{constructor(e,t,l,f){this.targetId=e,this.fromCache=t,this.Fi=l,this.Bi=f}static Li(e,t){let l=ts(),f=ts();for(const v of t.docChanges)switch(v.type){case 0:l=l.add(v.doc.key);break;case 1:f=f.add(v.doc.key)}return new yd(e,t.fromCache,l,f)}}class vd{constructor(){this.qi=!1}initialize(e,t){this.Ui=e,this.indexManager=t,this.qi=!0}getDocumentsMatchingQuery(e,t,l,f){return this.Ki(e,t).next(v=>v||this.Gi(e,t,f,l)).next(v=>v||this.Qi(e,t))}Ki(e,t){if(U(t))return fn.resolve(null);let l=ze(t);return this.indexManager.getIndexType(e,l).next(f=>0===f?null:(null!==t.limit&&1===f&&(t=Dn(t,null,"F"),l=ze(t)),this.indexManager.getDocumentsMatchingTarget(e,l).next(v=>{const S=ts(...v);return this.Ui.getDocuments(e,S).next(Y=>this.indexManager.getMinOffset(e,l).next(ae=>{const we=this.ji(t,Y);return this.zi(t,we,S,ae.readTime)?this.Ki(e,Dn(t,null,"F")):this.Wi(e,we,t,ae)}))})))}Gi(e,t,l,f){return U(t)||f.isEqual(hi.min())?this.Qi(e,t):this.Ui.getDocuments(e,l).next(v=>{const S=this.ji(t,v);return this.zi(t,S,l,f)?this.Qi(e,t):(Ps()<=Oe.in.DEBUG&&Un("QueryEngine","Re-using previous result from %s to execute query: %s",f.toString(),bi(t)),this.Wi(e,S,t,Ka(f,-1)))})}ji(e,t){let l=new cs(Hi(e));return t.forEach((f,v)=>{ri(e,v)&&(l=l.add(v))}),l}zi(e,t,l,f){if(null===e.limit)return!1;if(l.size!==t.size)return!0;const v="F"===e.limitType?t.last():t.first();return!!v&&(v.hasPendingWrites||v.version.compareTo(f)>0)}Qi(e,t){return Ps()<=Oe.in.DEBUG&&Un("QueryEngine","Using full collection scan to execute query:",bi(t)),this.Ui.getDocumentsMatchingQuery(e,t,Ba.min())}Wi(e,t,l,f){return this.Ui.getDocumentsMatchingQuery(e,l,f).next(v=>(t.forEach(S=>{v=v.insert(S.key,S)}),v))}}class rf{constructor(e,t,l,f){this.persistence=e,this.Hi=t,this.serializer=f,this.Ji=new vr(Pi),this.Yi=new As(v=>Lc(v),Lh),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(l)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Eu(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ji))}}function gc(i,e,t,l){return new rf(i,e,t,l)}function oh(i,e){return ip.apply(this,arguments)}function ip(){return ip=(0,h.Z)(function*(i,e){const t=Ln(i);return yield t.persistence.runTransaction("Handle user change","readonly",l=>{let f;return t.mutationQueue.getAllMutationBatches(l).next(v=>(f=v,t.tr(e),t.mutationQueue.getAllMutationBatches(l))).next(v=>{const S=[],Y=[];let ae=ts();for(const we of f){S.push(we.batchId);for(const He of we.mutations)ae=ae.add(He.key)}for(const we of v){Y.push(we.batchId);for(const He of we.mutations)ae=ae.add(He.key)}return t.localDocuments.getDocuments(l,ae).next(we=>({er:we,removedBatchIds:S,addedBatchIds:Y}))})})}),ip.apply(this,arguments)}function zc(i){const e=Ln(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Bs.getLastRemoteSnapshotVersion(t))}function sf(i,e,t){let l=ts(),f=ts();return t.forEach(v=>l=l.add(v)),e.getEntries(i,l).next(v=>{let S=$a();return t.forEach((Y,ae)=>{const we=v.get(Y);ae.isFoundDocument()!==we.isFoundDocument()&&(f=f.add(Y)),ae.isNoDocument()&&ae.version.isEqual(hi.min())?(e.removeEntry(Y,ae.readTime),S=S.insert(Y,ae)):!we.isValidDocument()||ae.version.compareTo(we.version)>0||0===ae.version.compareTo(we.version)&&we.hasPendingWrites?(e.addEntry(ae),S=S.insert(Y,ae)):Un("LocalStore","Ignoring outdated watch update for ",Y,". Current version:",we.version," Watch version:",ae.version)}),{nr:S,sr:f}})}function op(i,e){const t=Ln(i);return t.persistence.runTransaction("Get next mutation batch","readonly",l=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(l,e)))}function wu(i,e){const t=Ln(i);return t.persistence.runTransaction("Allocate target","readwrite",l=>{let f;return t.Bs.getTargetData(l,e).next(v=>v?(f=v,fn.resolve(f)):t.Bs.allocateTargetId(l).next(S=>(f=new Dl(e,S,"TargetPurposeListen",l.currentSequenceNumber),t.Bs.addTargetData(l,f).next(()=>f))))}).then(l=>{const f=t.Ji.get(l.targetId);return(null===f||l.snapshotVersion.compareTo(f.snapshotVersion)>0)&&(t.Ji=t.Ji.insert(l.targetId,l),t.Yi.set(e,l.targetId)),l})}function af(i,e,t){return ah.apply(this,arguments)}function ah(){return ah=(0,h.Z)(function*(i,e,t){const l=Ln(i),f=l.Ji.get(e),v=t?"readwrite":"readwrite-primary";try{t||(yield l.persistence.runTransaction("Release target",v,S=>l.persistence.referenceDelegate.removeTarget(S,f)))}catch(S){if(!Po(S))throw S;Un("LocalStore",`Failed to update sequence numbers for target ${e}: ${S}`)}l.Ji=l.Ji.remove(e),l.Yi.delete(f.target)}),ah.apply(this,arguments)}function ap(i,e,t){const l=Ln(i);let f=hi.min(),v=ts();return l.persistence.runTransaction("Execute query","readonly",S=>function(Y,ae,we){const He=Ln(Y),St=He.Yi.get(we);return void 0!==St?fn.resolve(He.Ji.get(St)):He.Bs.getTargetData(ae,we)}(l,S,ze(e)).next(Y=>{if(Y)return f=Y.lastLimboFreeSnapshotVersion,l.Bs.getMatchingKeysForTargetId(S,Y.targetId).next(ae=>{v=ae})}).next(()=>l.Hi.getDocumentsMatchingQuery(S,e,t?f:hi.min(),t?v:ts())).next(Y=>(fg(l,qi(e),Y),{documents:Y,ir:v})))}function zm(i,e){const t=Ln(i),l=Ln(t.Bs),f=t.Ji.get(e);return f?Promise.resolve(f.target):t.persistence.runTransaction("Get target data","readonly",v=>l.le(v,e).next(S=>S?S.target:null))}function yv(i,e){const t=Ln(i),l=t.Xi.get(e)||hi.min();return t.persistence.runTransaction("Get new document changes","readonly",f=>t.Zi.getAllFromCollectionGroup(f,e,Ka(l,-1),Number.MAX_SAFE_INTEGER)).then(f=>(fg(t,e,f),f))}function fg(i,e,t){let l=i.Xi.get(e)||hi.min();t.forEach((f,v)=>{v.readTime.compareTo(l)>0&&(l=v.readTime)}),i.Xi.set(e,l)}function Hm(){return Hm=(0,h.Z)(function*(i,e,t,l){const f=Ln(i);let v=ts(),S=$a();for(const we of t){const He=e.rr(we.metadata.name);we.document&&(v=v.add(He));const St=e.ur(we);St.setReadTime(e.cr(we.metadata.readTime)),S=S.insert(He,St)}const Y=f.Zi.newChangeBuffer({trackRemovals:!0}),ae=yield wu(f,(we=l,ze(du(Ki.fromString(`__bundle__/docs/${we}`)))));var we;return f.persistence.runTransaction("Apply bundle documents","readwrite",we=>sf(we,Y,S).next(He=>(Y.apply(we),He)).next(He=>f.Bs.removeMatchingKeysForTargetId(we,ae.targetId).next(()=>f.Bs.addMatchingKeys(we,v,ae.targetId)).next(()=>f.localDocuments.getLocalViewOfDocuments(we,He.nr,He.sr)).next(()=>He.nr)))}),Hm.apply(this,arguments)}function pg(i,e){return lp.apply(this,arguments)}function lp(){return lp=(0,h.Z)(function*(i,e,t=ts()){const l=yield wu(i,ze(Qf(e.bundledQuery))),f=Ln(i);return f.persistence.runTransaction("Save named query","readwrite",v=>{const S=_a(e.readTime);if(l.snapshotVersion.compareTo(S)>=0)return f.qs.saveNamedQuery(v,e);const Y=l.withResumeToken(Ro.EMPTY_BYTE_STRING,S);return f.Ji=f.Ji.insert(Y.targetId,Y),f.Bs.updateTargetData(v,Y).next(()=>f.Bs.removeMatchingKeysForTargetId(v,l.targetId)).next(()=>f.Bs.addMatchingKeys(v,t,l.targetId)).next(()=>f.qs.saveNamedQuery(v,e))})}),lp.apply(this,arguments)}function _v(i,e){return`firestore_clients_${i}_${e}`}function gg(i,e,t){let l=`firestore_mutations_${i}_${t}`;return e.isAuthenticated()&&(l+=`_${e.uid}`),l}function lh(i,e){return`firestore_targets_${i}_${e}`}class Iu{constructor(e,t,l,f){this.user=e,this.batchId=t,this.state=l,this.error=f}static ar(e,t,l){const f=JSON.parse(l);let v,S="object"==typeof f&&-1!==["pending","acknowledged","rejected"].indexOf(f.state)&&(void 0===f.error||"object"==typeof f.error);return S&&f.error&&(S="string"==typeof f.error.message&&"string"==typeof f.error.code,S&&(v=new qn(f.error.code,f.error.message))),S?new Iu(e,t,f.state,v):(Mi("SharedClientState",`Failed to parse mutation state for ID '${t}': ${l}`),null)}hr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class ch{constructor(e,t,l){this.targetId=e,this.state=t,this.error=l}static ar(e,t){const l=JSON.parse(t);let f,v="object"==typeof l&&-1!==["not-current","current","rejected"].indexOf(l.state)&&(void 0===l.error||"object"==typeof l.error);return v&&l.error&&(v="string"==typeof l.error.message&&"string"==typeof l.error.code,v&&(f=new qn(l.error.code,l.error.message))),v?new ch(e,l.state,f):(Mi("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}hr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class _d{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static ar(e,t){const l=JSON.parse(t);let f="object"==typeof l&&l.activeTargetIds instanceof Array,v=pm();for(let S=0;f&&S<l.activeTargetIds.length;++S)f=Kt(l.activeTargetIds[S]),v=v.add(l.activeTargetIds[S]);return f?new _d(e,v):(Mi("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class Cu{constructor(e,t){this.clientId=e,this.onlineState=t}static ar(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new Cu(t.clientId,t.onlineState):(Mi("SharedClientState",`Failed to parse online state: ${e}`),null)}}class lf{constructor(){this.activeTargetIds=pm()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Wm{constructor(e,t,l,f,v){this.window=e,this.ii=t,this.persistenceKey=l,this.wr=f,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this._r=this.mr.bind(this),this.gr=new vr(Pi),this.started=!1,this.yr=[];const S=l.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=v,this.pr=_v(this.persistenceKey,this.wr),this.Ir=`firestore_sequence_number_${this.persistenceKey}`,this.gr=this.gr.insert(this.wr,new lf),this.Tr=new RegExp(`^firestore_clients_${S}_([^_]*)$`),this.Er=new RegExp(`^firestore_mutations_${S}_(\\d+)(?:_(.*))?$`),this.Ar=new RegExp(`^firestore_targets_${S}_(\\d+)$`),this.vr=`firestore_online_state_${this.persistenceKey}`,this.Rr=function(Y){return`firestore_bundle_loaded_v2_${Y}`}(this.persistenceKey),this.window.addEventListener("storage",this._r)}static D(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,h.Z)(function*(){const t=yield e.syncEngine.$i();for(const f of t){if(f===e.wr)continue;const v=e.getItem(_v(e.persistenceKey,f));if(v){const S=_d.ar(f,v);S&&(e.gr=e.gr.insert(S.clientId,S))}}e.Pr();const l=e.storage.getItem(e.vr);if(l){const f=e.br(l);f&&e.Vr(f)}for(const f of e.yr)e.mr(f);e.yr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.Ir,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Sr(this.gr)}isActiveQueryTarget(e){let t=!1;return this.gr.forEach((l,f)=>{f.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Dr(e,"pending")}updateMutationState(e,t,l){this.Dr(e,t,l),this.Cr(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const l=this.storage.getItem(lh(this.persistenceKey,e));if(l){const f=ch.ar(e,l);f&&(t=f.state)}}return this.Nr.lr(e),this.Pr(),t}removeLocalQueryTarget(e){this.Nr.dr(e),this.Pr()}isLocalQueryTarget(e){return this.Nr.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(lh(this.persistenceKey,e))}updateQueryState(e,t,l){this.kr(e,t,l)}handleUserChange(e,t,l){t.forEach(f=>{this.Cr(f)}),this.currentUser=e,l.forEach(f=>{this.addPendingMutation(f)})}setOnlineState(e){this.Mr(e)}notifyBundleLoaded(e){this.$r(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this._r),this.removeItem(this.pr),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Un("SharedClientState","READ",e,t),t}setItem(e,t){Un("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Un("SharedClientState","REMOVE",e),this.storage.removeItem(e)}mr(e){var t=this;const l=e;if(l.storageArea===this.storage){if(Un("SharedClientState","EVENT",l.key,l.newValue),l.key===this.pr)return void Mi("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.ii.enqueueRetryable((0,h.Z)(function*(){if(t.started){if(null!==l.key)if(t.Tr.test(l.key)){if(null==l.newValue){const f=t.Or(l.key);return t.Fr(f,null)}{const f=t.Br(l.key,l.newValue);if(f)return t.Fr(f.clientId,f)}}else if(t.Er.test(l.key)){if(null!==l.newValue){const f=t.Lr(l.key,l.newValue);if(f)return t.qr(f)}}else if(t.Ar.test(l.key)){if(null!==l.newValue){const f=t.Ur(l.key,l.newValue);if(f)return t.Kr(f)}}else if(l.key===t.vr){if(null!==l.newValue){const f=t.br(l.newValue);if(f)return t.Vr(f)}}else if(l.key===t.Ir){const f=function(v){let S=pe.ct;if(null!=v)try{const Y=JSON.parse(v);Zr("number"==typeof Y),S=Y}catch(Y){Mi("SharedClientState","Failed to read sequence number from WebStorage",Y)}return S}(l.newValue);f!==pe.ct&&t.sequenceNumberHandler(f)}else if(l.key===t.Rr){const f=t.Gr(l.newValue);yield Promise.all(f.map(v=>t.syncEngine.Qr(v)))}}else t.yr.push(l)}))}}get Nr(){return this.gr.get(this.wr)}Pr(){this.setItem(this.pr,this.Nr.hr())}Dr(e,t,l){const f=new Iu(this.currentUser,e,t,l),v=gg(this.persistenceKey,this.currentUser,e);this.setItem(v,f.hr())}Cr(e){const t=gg(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Mr(e){this.storage.setItem(this.vr,JSON.stringify({clientId:this.wr,onlineState:e}))}kr(e,t,l){const f=lh(this.persistenceKey,e),v=new ch(e,t,l);this.setItem(f,v.hr())}$r(e){const t=JSON.stringify(Array.from(e));this.setItem(this.Rr,t)}Or(e){const t=this.Tr.exec(e);return t?t[1]:null}Br(e,t){const l=this.Or(e);return _d.ar(l,t)}Lr(e,t){const l=this.Er.exec(e),f=Number(l[1]);return Iu.ar(new di(void 0!==l[2]?l[2]:null),f,t)}Ur(e,t){const l=this.Ar.exec(e),f=Number(l[1]);return ch.ar(f,t)}br(e){return Cu.ar(e)}Gr(e){return JSON.parse(e)}qr(e){var t=this;return(0,h.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.jr(e.batchId,e.state,e.error);Un("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Kr(e){return this.syncEngine.zr(e.targetId,e.state,e.error)}Fr(e,t){const l=t?this.gr.insert(e,t):this.gr.remove(e),f=this.Sr(this.gr),v=this.Sr(l),S=[],Y=[];return v.forEach(ae=>{f.has(ae)||S.push(ae)}),f.forEach(ae=>{v.has(ae)||Y.push(ae)}),this.syncEngine.Wr(S,Y).then(()=>{this.gr=l})}Vr(e){this.gr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Sr(e){let t=pm();return e.forEach((l,f)=>{t=t.unionWith(f.activeTargetIds)}),t}}class bv{constructor(){this.Hr=new lf,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,l){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,t,l){this.Jr[e]=t}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new lf,Promise.resolve()}handleUserChange(e,t,l){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class bd{Yr(e){}shutdown(){}}class Gm{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){Un("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){Un("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Du=null;function mc(){return null===Du?Du=268435456+Math.round(2147483648*Math.random()):Du++,"0x"+Du.toString(16)}const Km={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Ev{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const tl="WebChannelConnection";class k_ extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.mo=(e.ssl?"https":"http")+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,t,l,f,v){const S=mc(),Y=this.To(e,t);Un("RestConnection",`Sending RPC '${e}' ${S}:`,Y,l);const ae={};return this.Eo(ae,f,v),this.Ao(e,Y,ae,l).then(we=>(Un("RestConnection",`Received RPC '${e}' ${S}: `,we),we),we=>{throw Ko("RestConnection",`RPC '${e}' ${S} failed with error: `,we,"url: ",Y,"request:",l),we})}vo(e,t,l,f,v,S){return this.Io(e,t,l,f,v)}Eo(e,t,l){e["X-Goog-Api-Client"]="gl-js/ fire/"+xi,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((f,v)=>e[v]=f),l&&l.headers.forEach((f,v)=>e[v]=f)}To(e,t){return`${this.mo}/v1/${t}:${Km[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,t,l,f){const v=mc();return new Promise((S,Y)=>{const ae=new An;ae.setWithCredentials(!0),ae.listenOnce(ue.COMPLETE,()=>{try{switch(ae.getLastErrorCode()){case q.NO_ERROR:const He=ae.getResponseJson();Un(tl,`XHR for RPC '${e}' ${v} received:`,JSON.stringify(He)),S(He);break;case q.TIMEOUT:Un(tl,`RPC '${e}' ${v} timed out`),Y(new qn(wn.DEADLINE_EXCEEDED,"Request time out"));break;case q.HTTP_ERROR:const St=ae.getStatus();if(Un(tl,`RPC '${e}' ${v} failed with status:`,St,"response text:",ae.getResponseText()),St>0){let pn=ae.getResponseJson();Array.isArray(pn)&&(pn=pn[0]);const Pn=null==pn?void 0:pn.error;if(Pn&&Pn.status&&Pn.message){const fr=function($r){const Xr=$r.toLowerCase().replace(/_/g,"-");return Object.values(wn).indexOf(Xr)>=0?Xr:wn.UNKNOWN}(Pn.status);Y(new qn(fr,Pn.message))}else Y(new qn(wn.UNKNOWN,"Server responded with status "+ae.getStatus()))}else Y(new qn(wn.UNAVAILABLE,"Connection failed."));break;default:Sr()}}finally{Un(tl,`RPC '${e}' ${v} completed.`)}});const we=JSON.stringify(f);Un(tl,`RPC '${e}' ${v} sending request:`,f),ae.send(t,"POST",we,l,15)})}Ro(e,t,l){const f=mc(),v=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],S=Ls(),Y=co(),ae={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},we=this.longPollingOptions.timeoutSeconds;void 0!==we&&(ae.longPollingTimeout=Math.round(1e3*we)),this.useFetchStreams&&(ae.xmlHttpFactory=new _t({})),this.Eo(ae.initMessageHeaders,t,l),ae.encodeInitMessageHeaders=!0;const He=v.join("");Un(tl,`Creating RPC '${e}' stream ${f}: ${He}`,ae);const St=S.createWebChannel(He,ae);let pn=!1,Pn=!1;const fr=new Ev({ro:Xr=>{Pn?Un(tl,`Not sending because RPC '${e}' stream ${f} is closed:`,Xr):(pn||(Un(tl,`Opening RPC '${e}' stream ${f} transport.`),St.open(),pn=!0),Un(tl,`RPC '${e}' stream ${f} sending:`,Xr),St.send(Xr))},oo:()=>St.close()}),$r=(Xr,hs,Hs)=>{Xr.listen(hs,fs=>{try{Hs(fs)}catch(ga){setTimeout(()=>{throw ga},0)}})};return $r(St,_n.EventType.OPEN,()=>{Pn||Un(tl,`RPC '${e}' stream ${f} transport opened.`)}),$r(St,_n.EventType.CLOSE,()=>{Pn||(Pn=!0,Un(tl,`RPC '${e}' stream ${f} transport closed`),fr.wo())}),$r(St,_n.EventType.ERROR,Xr=>{Pn||(Pn=!0,Ko(tl,`RPC '${e}' stream ${f} transport errored:`,Xr),fr.wo(new qn(wn.UNAVAILABLE,"The operation could not be completed")))}),$r(St,_n.EventType.MESSAGE,Xr=>{var hs;if(!Pn){const Hs=Xr.data[0];Zr(!!Hs);const ga=Hs.error||(null===(hs=Hs[0])||void 0===hs?void 0:hs.error);if(ga){Un(tl,`RPC '${e}' stream ${f} received error:`,ga);const da=ga.status;let Xo=function(gl){const sm=na[gl];if(void 0!==sm)return es(sm)}(da),rl=ga.message;void 0===Xo&&(Xo=wn.INTERNAL,rl="Unknown error status: "+da+" with message "+ga.message),Pn=!0,fr.wo(new qn(Xo,rl)),St.close()}else Un(tl,`RPC '${e}' stream ${f} received:`,Hs),fr._o(Hs)}}),$r(Y,ee.STAT_EVENT,Xr=>{Xr.stat===Fe.PROXY?Un(tl,`RPC '${e}' stream ${f} detected buffering proxy`):Xr.stat===Fe.NOPROXY&&Un(tl,`RPC '${e}' stream ${f} detected no buffering proxy`)}),setTimeout(()=>{fr.fo()},0),fr}}function mg(){return typeof window<"u"?window:null}function Ed(){return typeof document<"u"?document:null}function uh(i){return new wm(i,!0)}class cp{constructor(e,t,l=1e3,f=1.5,v=6e4){this.ii=e,this.timerId=t,this.Po=l,this.bo=f,this.Vo=v,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const t=Math.floor(this.So+this.ko()),l=Math.max(0,Date.now()-this.Co),f=Math.max(0,t-l);f>0&&Un("ExponentialBackoff",`Backing off for ${f} ms (base delay: ${this.So} ms, delay with jitter: ${t} ms, last attempt: ${l} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,f,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class Hc{constructor(e,t,l,f,v,S,Y,ae){this.ii=e,this.$o=l,this.Oo=f,this.connection=v,this.authCredentialsProvider=S,this.appCheckCredentialsProvider=Y,this.listener=ae,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new cp(e,t)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}stop(){var e=this;return(0,h.Z)(function*(){e.Uo()&&(yield e.close(0))})()}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}zo(){var e=this;return(0,h.Z)(function*(){if(e.Ko())return e.close(0)})()}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}close(e,t){var l=this;return(0,h.Z)(function*(){l.Ho(),l.Jo(),l.qo.cancel(),l.Fo++,4!==e?l.qo.reset():t&&t.code===wn.RESOURCE_EXHAUSTED?(Mi(t.toString()),Mi("Using maximum backoff delay to prevent overloading the backend."),l.qo.xo()):t&&t.code===wn.UNAUTHENTICATED&&3!==l.state&&(l.authCredentialsProvider.invalidateToken(),l.appCheckCredentialsProvider.invalidateToken()),null!==l.stream&&(l.Yo(),l.stream.close(),l.stream=null),l.state=e,yield l.listener.ao(t)})()}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),t=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([l,f])=>{this.Fo===t&&this.Zo(l,f)},l=>{e(()=>{const f=new qn(wn.UNKNOWN,"Fetching auth token failed: "+l.message);return this.tu(f)})})}Zo(e,t){const l=this.Xo(this.Fo);this.stream=this.eu(e,t),this.stream.uo(()=>{l(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(f=>{l(()=>this.tu(f))}),this.stream.onMessage(f=>{l(()=>this.onMessage(f))})}Go(){var e=this;this.state=5,this.qo.No((0,h.Z)(function*(){e.state=0,e.start()}))}tu(e){return Un("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return t=>{this.ii.enqueueAndForget(()=>this.Fo===e?t():(Un("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class yc extends Hc{constructor(e,t,l,f,v,S){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,l,f,S),this.serializer=v}eu(e,t){return this.connection.Ro("Listen",e,t)}onMessage(e){this.qo.reset();const t=function K0(i,e){let t;if("targetChange"in e){const l="NO_CHANGE"===(ae=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===ae?1:"REMOVE"===ae?2:"CURRENT"===ae?3:"RESET"===ae?4:Sr(),f=e.targetChange.targetIds||[],v=function(ae,we){return ae.useProto3Json?(Zr(void 0===we||"string"==typeof we),Ro.fromBase64String(we||"")):(Zr(void 0===we||we instanceof Uint8Array),Ro.fromUint8Array(we||new Uint8Array))}(i,e.targetChange.resumeToken),S=e.targetChange.cause,Y=S&&function(ae){const we=void 0===ae.code?wn.UNKNOWN:es(ae.code);return new qn(we,ae.message||"")}(S);t=new Yf(l,f,v,Y||null)}else if("documentChange"in e){const l=e.documentChange,f=ul(i,l.document.name),v=_a(l.document.updateTime),S=l.document.createTime?_a(l.document.createTime):hi.min(),Y=new uo({mapValue:{fields:l.document.fields}}),ae=so.newFoundDocument(f,v,S,Y);t=new hc(l.targetIds||[],l.removedTargetIds||[],ae.key,ae)}else if("documentDelete"in e){const l=e.documentDelete,f=ul(i,l.document),v=l.readTime?_a(l.readTime):hi.min(),S=so.newNoDocument(f,v);t=new hc([],l.removedTargetIds||[],S.key,S)}else if("documentRemove"in e){const l=e.documentRemove,f=ul(i,l.document);t=new hc([],l.removedTargetIds||[],f,null)}else{if(!("filter"in e))return Sr();{const l=e.filter,{count:f=0,unchangedNames:v}=l,S=new bm(f,v);t=new iv(l.targetId,S)}}var ae;return t}(this.serializer,e),l=function(f){if(!("targetChange"in f))return hi.min();const v=f.targetChange;return v.targetIds&&v.targetIds.length?hi.min():v.readTime?_a(v.readTime):hi.min()}(e);return this.listener.nu(t,l)}su(e){const t={};t.database=td(this.serializer),t.addTarget=function(f,v){let S;const Y=v.target;if(S=Bh(Y)?{documents:rd(f,Y)}:{query:pu(f,Y)},S.targetId=v.targetId,v.resumeToken.approximateByteSize()>0){S.resumeToken=qd(f,v.resumeToken);const ae=Ju(f,v.expectedCount);null!==ae&&(S.expectedCount=ae)}else if(v.snapshotVersion.compareTo(hi.min())>0){S.readTime=Yd(f,v.snapshotVersion.toTimestamp());const ae=Ju(f,v.expectedCount);null!==ae&&(S.expectedCount=ae)}return S}(this.serializer,e);const l=function sd(i,e){const t=function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Sr()}}(e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);l&&(t.labels=l),this.Wo(t)}iu(e){const t={};t.database=td(this.serializer),t.removeTarget=e,this.Wo(t)}}class yg extends Hc{constructor(e,t,l,f,v,S){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,l,f,S),this.serializer=v,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,t){return this.connection.Ro("Write",e,t)}onMessage(e){if(Zr(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const t=function Im(i,e){return i&&i.length>0?(Zr(void 0!==e),i.map(t=>function(l,f){let v=_a(l.updateTime?l.updateTime:f);return v.isEqual(hi.min())&&(v=_a(f)),new dc(v,l.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),l=_a(e.commitTime);return this.listener.cu(l,t)}return Zr(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=td(this.serializer),this.Wo(e)}uu(e){const t={streamToken:this.lastStreamToken,writes:e.map(l=>ua(this.serializer,l))};this.Wo(t)}}class Ym extends class{}{constructor(e,t,l,f){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=l,this.serializer=f,this.lu=!1}fu(){if(this.lu)throw new qn(wn.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,t,l){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,v])=>this.connection.Io(e,t,l,f,v)).catch(f=>{throw"FirebaseError"===f.name?(f.code===wn.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new qn(wn.UNKNOWN,f.toString())})}vo(e,t,l,f){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([v,S])=>this.connection.vo(e,t,l,v,S,f)).catch(v=>{throw"FirebaseError"===v.name?(v.code===wn.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),v):new qn(wn.UNKNOWN,v.toString())})}terminate(){this.lu=!0}}class cf{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(Mi(t),this.mu=!1):Un("OnlineStateTracker",t)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class wd{constructor(e,t,l,f,v){var S=this;this.localStore=e,this.datastore=t,this.asyncQueue=l,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=v,this.Pu.Yr(Y=>{l.enqueueAndForget((0,h.Z)(function*(){var ae;$l(S)&&(Un("RemoteStore","Restarting streams for network reachability change."),yield(ae=(0,h.Z)(function*(we){const He=Ln(we);He.vu.add(4),yield Cd(He),He.bu.set("Unknown"),He.vu.delete(4),yield Id(He)}),function(we){return ae.apply(this,arguments)})(S))}))}),this.bu=new cf(l,f)}}function Id(i){return dl.apply(this,arguments)}function dl(){return dl=(0,h.Z)(function*(i){if($l(i))for(const e of i.Ru)yield e(!0)}),dl.apply(this,arguments)}function Cd(i){return qm.apply(this,arguments)}function qm(){return qm=(0,h.Z)(function*(i){for(const e of i.Ru)yield e(!1)}),qm.apply(this,arguments)}function hh(i,e){const t=Ln(i);t.Au.has(e.targetId)||(t.Au.set(e.targetId,e),up(t)?Xm(t):Vl(t).Ko()&&hl(t,e))}function uf(i,e){const t=Ln(i),l=Vl(t);t.Au.delete(e),l.Ko()&&Zm(t,e),0===t.Au.size&&(l.Ko()?l.jo():$l(t)&&t.bu.set("Unknown"))}function hl(i,e){if(i.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(hi.min())>0){const t=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Vl(i).su(e)}function Zm(i,e){i.Vu.qt(e),Vl(i).iu(e)}function Xm(i){i.Vu=new sv({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),le:e=>i.Au.get(e)||null,ue:()=>i.datastore.serializer.databaseId}),Vl(i).start(),i.bu.gu()}function up(i){return $l(i)&&!Vl(i).Uo()&&i.Au.size>0}function $l(i){return 0===Ln(i).vu.size}function Gc(i){i.Vu=void 0}function J0(i){return vg.apply(this,arguments)}function vg(){return vg=(0,h.Z)(function*(i){i.Au.forEach((e,t)=>{hl(i,e)})}),vg.apply(this,arguments)}function _g(i,e){return Qm.apply(this,arguments)}function Qm(){return Qm=(0,h.Z)(function*(i,e){Gc(i),up(i)?(i.bu.Iu(e),Xm(i)):i.bu.set("Unknown")}),Qm.apply(this,arguments)}function Jm(i,e,t){return wv.apply(this,arguments)}function wv(){return wv=(0,h.Z)(function*(i,e,t){if(i.bu.set("Online"),e instanceof Yf&&2===e.state&&e.cause)try{yield(l=(0,h.Z)(function*(f,v){const S=v.cause;for(const Y of v.targetIds)f.Au.has(Y)&&(yield f.remoteSyncer.rejectListen(Y,S),f.Au.delete(Y),f.Vu.removeTarget(Y))}),function(f,v){return l.apply(this,arguments)})(i,e)}catch(l){Un("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),l),yield fh(i,l)}else if(e instanceof hc?i.Vu.Ht(e):e instanceof iv?i.Vu.ne(e):i.Vu.Xt(e),!t.isEqual(hi.min()))try{const l=yield zc(i.localStore);t.compareTo(l)>=0&&(yield function(f,v){const S=f.Vu.ce(v);return S.targetChanges.forEach((Y,ae)=>{if(Y.resumeToken.approximateByteSize()>0){const we=f.Au.get(ae);we&&f.Au.set(ae,we.withResumeToken(Y.resumeToken,v))}}),S.targetMismatches.forEach((Y,ae)=>{const we=f.Au.get(Y);if(!we)return;f.Au.set(Y,we.withResumeToken(Ro.EMPTY_BYTE_STRING,we.snapshotVersion)),Zm(f,Y);const He=new Dl(we.target,Y,ae,we.sequenceNumber);hl(f,He)}),f.remoteSyncer.applyRemoteEvent(S)}(i,t))}catch(l){Un("RemoteStore","Failed to raise snapshot:",l),yield fh(i,l)}var l}),wv.apply(this,arguments)}function fh(i,e,t){return Kc.apply(this,arguments)}function Kc(){return Kc=(0,h.Z)(function*(i,e,t){if(!Po(e))throw e;i.vu.add(1),yield Cd(i),i.bu.set("Offline"),t||(t=()=>zc(i.localStore)),i.asyncQueue.enqueueRetryable((0,h.Z)(function*(){Un("RemoteStore","Retrying IndexedDB access"),yield t(),i.vu.delete(1),yield Id(i)}))}),Kc.apply(this,arguments)}function ey(i,e){return e().catch(t=>fh(i,t,e))}function Su(i){return bg.apply(this,arguments)}function bg(){return bg=(0,h.Z)(function*(i){const e=Ln(i),t=Sl(e);let l=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;ns(e);)try{const f=yield op(e.localStore,l);if(null===f){0===e.Eu.length&&t.jo();break}l=f.batchId,Iv(e,f)}catch(f){yield fh(e,f)}Eg(e)&&N_(e)}),bg.apply(this,arguments)}function ns(i){return $l(i)&&i.Eu.length<10}function Iv(i,e){i.Eu.push(e);const t=Sl(i);t.Ko()&&t.ou&&t.uu(e.mutations)}function Eg(i){return $l(i)&&!Sl(i).Uo()&&i.Eu.length>0}function N_(i){Sl(i).start()}function F_(i){return wg.apply(this,arguments)}function wg(){return wg=(0,h.Z)(function*(i){Sl(i).hu()}),wg.apply(this,arguments)}function ty(i){return Ig.apply(this,arguments)}function Ig(){return Ig=(0,h.Z)(function*(i){const e=Sl(i);for(const t of i.Eu)e.uu(t.mutations)}),Ig.apply(this,arguments)}function Cv(i,e,t){return Dd.apply(this,arguments)}function Dd(){return Dd=(0,h.Z)(function*(i,e,t){const l=i.Eu.shift(),f=vm.from(l,e,t);yield ey(i,()=>i.remoteSyncer.applySuccessfulWrite(f)),yield Su(i)}),Dd.apply(this,arguments)}function Tu(i,e){return ny.apply(this,arguments)}function ny(){return ny=(0,h.Z)(function*(i,e){var t;e&&Sl(i).ou&&(yield(t=(0,h.Z)(function*(l,f){if(qu(v=f.code)&&v!==wn.ABORTED){const S=l.Eu.shift();Sl(l).Qo(),yield ey(l,()=>l.remoteSyncer.rejectFailedWrite(S.batchId,f)),yield Su(l)}var v}),function(l,f){return t.apply(this,arguments)})(i,e)),Eg(i)&&N_(i)}),ny.apply(this,arguments)}function Cg(i,e){return df.apply(this,arguments)}function df(){return df=(0,h.Z)(function*(i,e){const t=Ln(i);t.asyncQueue.verifyOperationInProgress(),Un("RemoteStore","RemoteStore received new credentials");const l=$l(t);t.vu.add(3),yield Cd(t),l&&t.bu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.vu.delete(3),yield Id(t)}),df.apply(this,arguments)}function Dg(i,e){return Au.apply(this,arguments)}function Au(){return Au=(0,h.Z)(function*(i,e){const t=Ln(i);e?(t.vu.delete(2),yield Id(t)):e||(t.vu.add(2),yield Cd(t),t.bu.set("Unknown"))}),Au.apply(this,arguments)}function Vl(i){return i.Su||(i.Su=function(e,t,l){const f=Ln(e);return f.fu(),new yc(t,f.connection,f.authCredentials,f.appCheckCredentials,f.serializer,l)}(i.datastore,i.asyncQueue,{uo:J0.bind(null,i),ao:_g.bind(null,i),nu:Jm.bind(null,i)}),i.Ru.push(function(){var e=(0,h.Z)(function*(t){t?(i.Su.Qo(),up(i)?Xm(i):i.bu.set("Unknown")):(yield i.Su.stop(),Gc(i))});return function(t){return e.apply(this,arguments)}}())),i.Su}function Sl(i){return i.Du||(i.Du=function(e,t,l){const f=Ln(e);return f.fu(),new yg(t,f.connection,f.authCredentials,f.appCheckCredentials,f.serializer,l)}(i.datastore,i.asyncQueue,{uo:F_.bind(null,i),ao:Tu.bind(null,i),au:ty.bind(null,i),cu:Cv.bind(null,i)}),i.Ru.push(function(){var e=(0,h.Z)(function*(t){t?(i.Du.Qo(),yield Su(i)):(yield i.Du.stop(),i.Eu.length>0&&(Un("RemoteStore",`Stopping write stream with ${i.Eu.length} pending writes`),i.Eu=[]))});return function(t){return e.apply(this,arguments)}}())),i.Du}class dp{constructor(e,t,l,f,v){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=l,this.op=f,this.removalCallback=v,this.deferred=new as,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(S=>{})}static createAndSchedule(e,t,l,f,v){const S=Date.now()+l,Y=new dp(e,t,S,f,v);return Y.start(l),Y}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new qn(wn.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ph(i,e){if(Mi("AsyncQueue",`${e}: ${i}`),Po(i))return new qn(wn.UNAVAILABLE,`${e}: ${i}`);throw i}class ql{constructor(e){this.comparator=e?(t,l)=>e(t,l)||_r.comparator(t.key,l.key):(t,l)=>_r.comparator(t.key,l.key),this.keyedMap=cc(),this.sortedSet=new vr(this.comparator)}static emptySet(e){return new ql(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,l)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof ql)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),l=e.sortedSet.getIterator();for(;t.hasNext();){const f=t.getNext().key,v=l.getNext().key;if(!f.isEqual(v))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const l=new ql;return l.comparator=this.comparator,l.keyedMap=e,l.sortedSet=t,l}}class xu{constructor(){this.Cu=new vr(_r.comparator)}track(e){const t=e.doc.key,l=this.Cu.get(t);l?0!==e.type&&3===l.type?this.Cu=this.Cu.insert(t,e):3===e.type&&1!==l.type?this.Cu=this.Cu.insert(t,{type:l.type,doc:e.doc}):2===e.type&&2===l.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===l.type?this.Cu=this.Cu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===l.type?this.Cu=this.Cu.remove(t):1===e.type&&2===l.type?this.Cu=this.Cu.insert(t,{type:1,doc:l.doc}):0===e.type&&1===l.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):Sr():this.Cu=this.Cu.insert(t,e)}xu(){const e=[];return this.Cu.inorderTraversal((t,l)=>{e.push(l)}),e}}class Yc{constructor(e,t,l,f,v,S,Y,ae,we){this.query=e,this.docs=t,this.oldDocs=l,this.docChanges=f,this.mutatedKeys=v,this.fromCache=S,this.syncStateChanged=Y,this.excludesMetadataChanges=ae,this.hasCachedResults=we}static fromInitialDocuments(e,t,l,f,v){const S=[];return t.forEach(Y=>{S.push({type:0,doc:Y})}),new Yc(e,t,ql.emptySet(t),S,l,f,!0,!1,v)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ur(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,l=e.docChanges;if(t.length!==l.length)return!1;for(let f=0;f<t.length;f++)if(t[f].type!==l[f].type||!t[f].doc.isEqual(l[f].doc))return!1;return!0}}class hp{constructor(){this.Nu=void 0,this.listeners=[]}}class Dv{constructor(){this.queries=new As(e=>Nr(e),ur),this.onlineState="Unknown",this.ku=new Set}}function gh(i,e){return fp.apply(this,arguments)}function fp(){return fp=(0,h.Z)(function*(i,e){const t=Ln(i),l=e.query;let f=!1,v=t.queries.get(l);if(v||(f=!0,v=new hp),f)try{v.Nu=yield t.onListen(l)}catch(S){const Y=ph(S,`Initialization of query '${bi(e.query)}' failed`);return void e.onError(Y)}t.queries.set(l,v),v.listeners.push(e),e.Mu(t.onlineState),v.Nu&&e.$u(v.Nu)&&pp(t)}),fp.apply(this,arguments)}function hf(i,e){return Sg.apply(this,arguments)}function Sg(){return Sg=(0,h.Z)(function*(i,e){const t=Ln(i),l=e.query;let f=!1;const v=t.queries.get(l);if(v){const S=v.listeners.indexOf(e);S>=0&&(v.listeners.splice(S,1),f=0===v.listeners.length)}if(f)return t.queries.delete(l),t.onUnlisten(l)}),Sg.apply(this,arguments)}function Tg(i,e){const t=Ln(i);let l=!1;for(const f of e){const S=t.queries.get(f.query);if(S){for(const Y of S.listeners)Y.$u(f)&&(l=!0);S.Nu=f}}l&&pp(t)}function Sv(i,e,t){const l=Ln(i),f=l.queries.get(e);if(f)for(const v of f.listeners)v.onError(t);l.queries.delete(e)}function pp(i){i.ku.forEach(e=>{e.next()})}class Ag{constructor(e,t,l){this.query=e,this.Ou=t,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=l||{}}$u(e){if(!this.options.includeMetadataChanges){const l=[];for(const f of e.docChanges)3!==f.type&&l.push(f);e=new Yc(e.query,e.docs,e.oldDocs,l,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),t=!0):this.qu(e,this.onlineState)&&(this.Uu(e),t=!0),this.Bu=e,t}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let t=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),t=!0),t}qu(e,t){return!e.fromCache||(!this.options.Ku||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Lu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Uu(e){e=Yc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class fl{constructor(e,t){this.Gu=e,this.byteLength=t}Qu(){return"metadata"in this.Gu}}class gp{constructor(e){this.serializer=e}rr(e){return ul(this.serializer,e)}ur(e){return e.metadata.exists?av(this.serializer,e.document,!1):so.newNoDocument(this.rr(e.metadata.name),this.cr(e.metadata.readTime))}cr(e){return _a(e)}}class Sd{constructor(e,t,l){this.ju=e,this.localStore=t,this.serializer=l,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=mp(e)}zu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.Gu.namedQuery)this.queries.push(e.Gu.namedQuery);else if(e.Gu.documentMetadata){this.documents.push({metadata:e.Gu.documentMetadata}),e.Gu.documentMetadata.exists||++t;const l=Ki.fromString(e.Gu.documentMetadata.name);this.collectionGroups.add(l.get(l.length-2))}else e.Gu.document&&(this.documents[this.documents.length-1].document=e.Gu.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}Wu(e){const t=new Map,l=new gp(this.serializer);for(const f of e)if(f.metadata.queries){const v=l.rr(f.metadata.name);for(const S of f.metadata.queries){const Y=(t.get(S)||ts()).add(v);t.set(S,Y)}}return t}complete(){var e=this;return(0,h.Z)(function*(){const t=yield function vv(i,e,t,l){return Hm.apply(this,arguments)}(e.localStore,new gp(e.serializer),e.documents,e.ju.id),l=e.Wu(e.documents);for(const f of e.queries)yield pg(e.localStore,f,l.get(f.name));return e.progress.taskState="Success",{progress:e.progress,Hu:e.collectionGroups,Ju:t}})()}}function mp(i){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:i.totalDocuments,totalBytes:i.totalBytes}}class Ul{constructor(e){this.key=e}}class Mu{constructor(e){this.key=e}}class xg{constructor(e,t){this.query=e,this.Yu=t,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=ts(),this.mutatedKeys=ts(),this.tc=Hi(e),this.ec=new ql(this.tc)}get nc(){return this.Yu}sc(e,t){const l=t?t.ic:new xu,f=t?t.ec:this.ec;let v=t?t.mutatedKeys:this.mutatedKeys,S=f,Y=!1;const ae="F"===this.query.limitType&&f.size===this.query.limit?f.last():null,we="L"===this.query.limitType&&f.size===this.query.limit?f.first():null;if(e.inorderTraversal((He,St)=>{const pn=f.get(He),Pn=ri(this.query,St)?St:null,fr=!!pn&&this.mutatedKeys.has(pn.key),$r=!!Pn&&(Pn.hasLocalMutations||this.mutatedKeys.has(Pn.key)&&Pn.hasCommittedMutations);let Xr=!1;pn&&Pn?pn.data.isEqual(Pn.data)?fr!==$r&&(l.track({type:3,doc:Pn}),Xr=!0):this.rc(pn,Pn)||(l.track({type:2,doc:Pn}),Xr=!0,(ae&&this.tc(Pn,ae)>0||we&&this.tc(Pn,we)<0)&&(Y=!0)):!pn&&Pn?(l.track({type:0,doc:Pn}),Xr=!0):pn&&!Pn&&(l.track({type:1,doc:pn}),Xr=!0,(ae||we)&&(Y=!0)),Xr&&(Pn?(S=S.add(Pn),v=$r?v.add(He):v.delete(He)):(S=S.delete(He),v=v.delete(He)))}),null!==this.query.limit)for(;S.size>this.query.limit;){const He="F"===this.query.limitType?S.last():S.first();S=S.delete(He.key),v=v.delete(He.key),l.track({type:1,doc:He})}return{ec:S,ic:l,zi:Y,mutatedKeys:v}}rc(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,l){const f=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const v=e.ic.xu();v.sort((we,He)=>function(St,pn){const Pn=fr=>{switch(fr){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Sr()}};return Pn(St)-Pn(pn)}(we.type,He.type)||this.tc(we.doc,He.doc)),this.oc(l);const S=t?this.uc():[],Y=0===this.Zu.size&&this.current?1:0,ae=Y!==this.Xu;return this.Xu=Y,0!==v.length||ae?{snapshot:new Yc(this.query,e.ec,f,v,e.mutatedKeys,0===Y,ae,!1,!!l&&l.resumeToken.approximateByteSize()>0),cc:S}:{cc:S}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new xu,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(t=>this.Yu=this.Yu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Yu=this.Yu.delete(t)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=ts(),this.ec.forEach(l=>{this.ac(l.key)&&(this.Zu=this.Zu.add(l.key))});const t=[];return e.forEach(l=>{this.Zu.has(l)||t.push(new Mu(l))}),this.Zu.forEach(l=>{e.has(l)||t.push(new Ul(l))}),t}hc(e){this.Yu=e.ir,this.Zu=ts();const t=this.sc(e.documents);return this.applyChanges(t,!0)}lc(){return Yc.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class Tv{constructor(e,t,l){this.query=e,this.targetId=t,this.view=l}}class mh{constructor(e){this.key=e,this.fc=!1}}class Zl{constructor(e,t,l,f,v,S){this.localStore=e,this.remoteStore=t,this.eventManager=l,this.sharedClientState=f,this.currentUser=v,this.maxConcurrentLimboResolutions=S,this.dc={},this.wc=new As(Y=>Nr(Y),ur),this._c=new Map,this.mc=new Set,this.gc=new vr(_r.comparator),this.yc=new Map,this.Ic=new fc,this.Tc={},this.Ec=new Map,this.Ac=_u.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}function L_(i,e){return ry.apply(this,arguments)}function ry(){return ry=(0,h.Z)(function*(i,e){const t=pf(i);let l,f;const v=t.wc.get(e);if(v)l=v.targetId,t.sharedClientState.addLocalQueryTarget(l),f=v.view.lc();else{const S=yield wu(t.localStore,ze(e)),Y=t.sharedClientState.addLocalQueryTarget(S.targetId);l=S.targetId,f=yield Mg(t,e,l,"current"===Y,S.resumeToken),t.isPrimaryClient&&hh(t.remoteStore,S)}return f}),ry.apply(this,arguments)}function Mg(i,e,t,l,f){return yp.apply(this,arguments)}function yp(){return yp=(0,h.Z)(function*(i,e,t,l,f){i.Rc=(St,pn,Pn)=>{return(fr=(0,h.Z)(function*($r,Xr,hs,Hs){let fs=Xr.view.sc(hs);fs.zi&&(fs=yield ap($r.localStore,Xr.query,!1).then(({documents:Xo})=>Xr.view.sc(Xo,fs)));const ga=Hs&&Hs.targetChanges.get(Xr.targetId),da=Xr.view.applyChanges(fs,$r.isPrimaryClient,ga);return Fg($r,Xr.targetId,da.cc),da.snapshot}),function($r,Xr,hs,Hs){return fr.apply(this,arguments)})(i,St,pn,Pn);var fr};const v=yield ap(i.localStore,e,!0),S=new xg(e,v.ir),Y=S.sc(v.documents),ae=Qu.createSynthesizedTargetChangeForCurrentChange(t,l&&"Offline"!==i.onlineState,f),we=S.applyChanges(Y,i.isPrimaryClient,ae);Fg(i,t,we.cc);const He=new Tv(e,t,S);return i.wc.set(e,He),i._c.has(t)?i._c.get(t).push(e):i._c.set(t,[e]),we.snapshot}),yp.apply(this,arguments)}function Av(i,e){return iy.apply(this,arguments)}function iy(){return iy=(0,h.Z)(function*(i,e){const t=Ln(i),l=t.wc.get(e),f=t._c.get(l.targetId);if(f.length>1)return t._c.set(l.targetId,f.filter(v=>!ur(v,e))),void t.wc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(l.targetId),t.sharedClientState.isActiveQueryTarget(l.targetId)||(yield af(t.localStore,l.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(l.targetId),uf(t.remoteStore,l.targetId),_h(t,l.targetId)}).catch(_l))):(_h(t,l.targetId),yield af(t.localStore,l.targetId,!0))}),iy.apply(this,arguments)}function yh(){return yh=(0,h.Z)(function*(i,e,t){const l=fy(i);try{const f=yield function(v,S){const Y=Ln(v),ae=_o.now(),we=S.reduce((pn,Pn)=>pn.add(Pn.key),ts());let He,St;return Y.persistence.runTransaction("Locally write mutations","readwrite",pn=>{let Pn=$a(),fr=ts();return Y.Zi.getEntries(pn,we).next($r=>{Pn=$r,Pn.forEach((Xr,hs)=>{hs.isValidDocument()||(fr=fr.add(Xr))})}).next(()=>Y.localDocuments.getOverlayedDocuments(pn,Pn)).next($r=>{He=$r;const Xr=[];for(const hs of S){const Hs=nv(hs,He.get(hs.key).overlayedDocument);null!=Hs&&Xr.push(new cl(hs.key,Hs,Bu(Hs.value.mapValue),ca.exists(!0)))}return Y.mutationQueue.addMutationBatch(pn,ae,Xr,S)}).next($r=>{St=$r;const Xr=$r.applyToLocalDocumentSet(He,fr);return Y.documentOverlayCache.saveOverlays(pn,$r.batchId,Xr)})}).then(()=>({batchId:St.batchId,changes:zs(He)}))}(l.localStore,e);l.sharedClientState.addPendingMutation(f.batchId),function(v,S,Y){let ae=v.Tc[v.currentUser.toKey()];ae||(ae=new vr(Pi)),ae=ae.insert(S,Y),v.Tc[v.currentUser.toKey()]=ae}(l,f.batchId,t),yield Td(l,f.changes),yield Su(l.remoteStore)}catch(f){const v=ph(f,"Failed to persist write");t.reject(v)}}),yh.apply(this,arguments)}function ff(i,e){return vh.apply(this,arguments)}function vh(){return vh=(0,h.Z)(function*(i,e){const t=Ln(i);try{const l=yield function jm(i,e){const t=Ln(i),l=e.snapshotVersion;let f=t.Ji;return t.persistence.runTransaction("Apply remote event","readwrite-primary",v=>{const S=t.Zi.newChangeBuffer({trackRemovals:!0});f=t.Ji;const Y=[];e.targetChanges.forEach((He,St)=>{const pn=f.get(St);if(!pn)return;Y.push(t.Bs.removeMatchingKeys(v,He.removedDocuments,St).next(()=>t.Bs.addMatchingKeys(v,He.addedDocuments,St)));let Pn=pn.withSequenceNumber(v.currentSequenceNumber);var fr,$r,Xr;null!==e.targetMismatches.get(St)?Pn=Pn.withResumeToken(Ro.EMPTY_BYTE_STRING,hi.min()).withLastLimboFreeSnapshotVersion(hi.min()):He.resumeToken.approximateByteSize()>0&&(Pn=Pn.withResumeToken(He.resumeToken,l)),f=f.insert(St,Pn),$r=Pn,Xr=He,(0===(fr=pn).resumeToken.approximateByteSize()||$r.snapshotVersion.toMicroseconds()-fr.snapshotVersion.toMicroseconds()>=3e8||Xr.addedDocuments.size+Xr.modifiedDocuments.size+Xr.removedDocuments.size>0)&&Y.push(t.Bs.updateTargetData(v,Pn))});let ae=$a(),we=ts();if(e.documentUpdates.forEach(He=>{e.resolvedLimboDocuments.has(He)&&Y.push(t.persistence.referenceDelegate.updateLimboDocument(v,He))}),Y.push(sf(v,S,e.documentUpdates).next(He=>{ae=He.nr,we=He.sr})),!l.isEqual(hi.min())){const He=t.Bs.getLastRemoteSnapshotVersion(v).next(St=>t.Bs.setTargetsMetadata(v,v.currentSequenceNumber,l));Y.push(He)}return fn.waitFor(Y).next(()=>S.apply(v)).next(()=>t.localDocuments.getLocalViewOfDocuments(v,ae,we)).next(()=>ae)}).then(v=>(t.Ji=f,v))}(t.localStore,e);e.targetChanges.forEach((f,v)=>{const S=t.yc.get(v);S&&(Zr(f.addedDocuments.size+f.modifiedDocuments.size+f.removedDocuments.size<=1),f.addedDocuments.size>0?S.fc=!0:f.modifiedDocuments.size>0?Zr(S.fc):f.removedDocuments.size>0&&(Zr(S.fc),S.fc=!1))}),yield Td(t,l,e)}catch(l){yield _l(l)}}),vh.apply(this,arguments)}function Pg(i,e,t){const l=Ln(i);if(l.isPrimaryClient&&0===t||!l.isPrimaryClient&&1===t){const f=[];l.wc.forEach((v,S)=>{const Y=S.view.Mu(e);Y.snapshot&&f.push(Y.snapshot)}),function(v,S){const Y=Ln(v);Y.onlineState=S;let ae=!1;Y.queries.forEach((we,He)=>{for(const St of He.listeners)St.Mu(S)&&(ae=!0)}),ae&&pp(Y)}(l.eventManager,e),f.length&&l.dc.nu(f),l.onlineState=e,l.isPrimaryClient&&l.sharedClientState.setOnlineState(e)}}function Rg(i,e,t){return Og.apply(this,arguments)}function Og(){return Og=(0,h.Z)(function*(i,e,t){const l=Ln(i);l.sharedClientState.updateQueryState(e,"rejected",t);const f=l.yc.get(e),v=f&&f.key;if(v){let S=new vr(_r.comparator);S=S.insert(v,so.newNoDocument(v,hi.min()));const Y=ts().add(v),ae=new Vc(hi.min(),new Map,new vr(Pi),S,Y);yield ff(l,ae),l.gc=l.gc.remove(v),l.yc.delete(e),_p(l)}else yield af(l.localStore,e,!1).then(()=>_h(l,e,t)).catch(_l)}),Og.apply(this,arguments)}function xv(i,e){return kg.apply(this,arguments)}function kg(){return kg=(0,h.Z)(function*(i,e){const t=Ln(i),l=e.batch.batchId;try{const f=yield function sp(i,e){const t=Ln(i);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",l=>{const f=e.batch.keys(),v=t.Zi.newChangeBuffer({trackRemovals:!0});return function(S,Y,ae,we){const He=ae.batch,St=He.keys();let pn=fn.resolve();return St.forEach(Pn=>{pn=pn.next(()=>we.getEntry(Y,Pn)).next(fr=>{const $r=ae.docVersions.get(Pn);Zr(null!==$r),fr.version.compareTo($r)<0&&(He.applyToRemoteDocument(fr,ae),fr.isValidDocument()&&(fr.setReadTime(ae.commitVersion),we.addEntry(fr)))})}),pn.next(()=>S.mutationQueue.removeMutationBatch(Y,He))}(t,l,e,v).next(()=>v.apply(l)).next(()=>t.mutationQueue.performConsistencyCheck(l)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(l,f,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,function(S){let Y=ts();for(let ae=0;ae<S.mutationResults.length;++ae)S.mutationResults[ae].transformResults.length>0&&(Y=Y.add(S.batch.mutations[ae].key));return Y}(e))).next(()=>t.localDocuments.getDocuments(l,f))})}(t.localStore,e);Ng(t,l,null),sy(t,l),t.sharedClientState.updateMutationState(l,"acknowledged"),yield Td(t,f)}catch(f){yield _l(f)}}),kg.apply(this,arguments)}function Mv(i,e,t){return jl.apply(this,arguments)}function jl(){return jl=(0,h.Z)(function*(i,e,t){const l=Ln(i);try{const f=yield function(v,S){const Y=Ln(v);return Y.persistence.runTransaction("Reject batch","readwrite-primary",ae=>{let we;return Y.mutationQueue.lookupMutationBatch(ae,S).next(He=>(Zr(null!==He),we=He.keys(),Y.mutationQueue.removeMutationBatch(ae,He))).next(()=>Y.mutationQueue.performConsistencyCheck(ae)).next(()=>Y.documentOverlayCache.removeOverlaysForBatchId(ae,we,S)).next(()=>Y.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(ae,we)).next(()=>Y.localDocuments.getDocuments(ae,we))})}(l.localStore,e);Ng(l,e,t),sy(l,e),l.sharedClientState.updateMutationState(e,"rejected",t),yield Td(l,f)}catch(f){yield _l(f)}}),jl.apply(this,arguments)}function vp(){return vp=(0,h.Z)(function*(i,e){const t=Ln(i);$l(t.remoteStore)||Un("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const l=yield function(v){const S=Ln(v);return S.persistence.runTransaction("Get highest unacknowledged batch id","readonly",Y=>S.mutationQueue.getHighestUnacknowledgedBatchId(Y))}(t.localStore);if(-1===l)return void e.resolve();const f=t.Ec.get(l)||[];f.push(e),t.Ec.set(l,f)}catch(l){const f=ph(l,"Initialization of waitForPendingWrites() operation failed");e.reject(f)}}),vp.apply(this,arguments)}function sy(i,e){(i.Ec.get(e)||[]).forEach(t=>{t.resolve()}),i.Ec.delete(e)}function Ng(i,e,t){const l=Ln(i);let f=l.Tc[l.currentUser.toKey()];if(f){const v=f.get(e);v&&(t?v.reject(t):v.resolve(),f=f.remove(e)),l.Tc[l.currentUser.toKey()]=f}}function _h(i,e,t=null){i.sharedClientState.removeLocalQueryTarget(e);for(const l of i._c.get(e))i.wc.delete(l),t&&i.dc.Pc(l,t);i._c.delete(e),i.isPrimaryClient&&i.Ic.Is(e).forEach(l=>{i.Ic.containsKey(l)||oy(i,l)})}function oy(i,e){i.mc.delete(e.path.canonicalString());const t=i.gc.get(e);null!==t&&(uf(i.remoteStore,t),i.gc=i.gc.remove(e),i.yc.delete(t),_p(i))}function Fg(i,e,t){for(const l of t)l instanceof Ul?(i.Ic.addReference(l.key,e),Lg(i,l)):l instanceof Mu?(Un("SyncEngine","Document no longer in limbo: "+l.key),i.Ic.removeReference(l.key,e),i.Ic.containsKey(l.key)||oy(i,l.key)):Sr()}function Lg(i,e){const t=e.key,l=t.path.canonicalString();i.gc.get(t)||i.mc.has(l)||(Un("SyncEngine","New document in limbo: "+t),i.mc.add(l),_p(i))}function _p(i){for(;i.mc.size>0&&i.gc.size<i.maxConcurrentLimboResolutions;){const e=i.mc.values().next().value;i.mc.delete(e);const t=new _r(Ki.fromString(e)),l=i.Ac.next();i.yc.set(l,new mh(t)),i.gc=i.gc.insert(t,l),hh(i.remoteStore,new Dl(ze(du(t.path)),l,"TargetPurposeLimboResolution",pe.ct))}}function Td(i,e,t){return Bg.apply(this,arguments)}function Bg(){return Bg=(0,h.Z)(function*(i,e,t){const l=Ln(i),f=[],v=[],S=[];var Y;l.wc.isEmpty()||(l.wc.forEach((Y,ae)=>{S.push(l.Rc(ae,e,t).then(we=>{if((we||t)&&l.isPrimaryClient&&l.sharedClientState.updateQueryState(ae.targetId,null!=we&&we.fromCache?"not-current":"current"),we){f.push(we);const He=yd.Li(ae.targetId,we);v.push(He)}}))}),yield Promise.all(S),l.dc.nu(f),yield(Y=(0,h.Z)(function*(ae,we){const He=Ln(ae);try{yield He.persistence.runTransaction("notifyLocalViewChanges","readwrite",St=>fn.forEach(we,pn=>fn.forEach(pn.Fi,Pn=>He.persistence.referenceDelegate.addReference(St,pn.targetId,Pn)).next(()=>fn.forEach(pn.Bi,Pn=>He.persistence.referenceDelegate.removeReference(St,pn.targetId,Pn)))))}catch(St){if(!Po(St))throw St;Un("LocalStore","Failed to update sequence numbers: "+St)}for(const St of we){const pn=St.targetId;if(!St.fromCache){const Pn=He.Ji.get(pn),$r=Pn.withLastLimboFreeSnapshotVersion(Pn.snapshotVersion);He.Ji=He.Ji.insert(pn,$r)}}}),function(ae,we){return Y.apply(this,arguments)})(l.localStore,v))}),Bg.apply(this,arguments)}function Pv(i,e){return $g.apply(this,arguments)}function $g(){return $g=(0,h.Z)(function*(i,e){const t=Ln(i);if(!t.currentUser.isEqual(e)){Un("SyncEngine","User change. New user:",e.toKey());const l=yield oh(t.localStore,e);t.currentUser=e,(f=t).Ec.forEach(S=>{S.forEach(Y=>{Y.reject(new qn(wn.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),f.Ec.clear(),t.sharedClientState.handleUserChange(e,l.removedBatchIds,l.addedBatchIds),yield Td(t,l.er)}var f}),$g.apply(this,arguments)}function Rv(i,e){const t=Ln(i),l=t.yc.get(e);if(l&&l.fc)return ts().add(l.key);{let f=ts();const v=t._c.get(e);if(!v)return f;for(const S of v){const Y=t.wc.get(S);f=f.unionWith(Y.view.nc)}return f}}function ay(i,e){return _c.apply(this,arguments)}function _c(){return _c=(0,h.Z)(function*(i,e){const t=Ln(i),l=yield ap(t.localStore,e.query,!0),f=e.view.hc(l);return t.isPrimaryClient&&Fg(t,e.targetId,f.cc),f}),_c.apply(this,arguments)}function $_(i,e){return ly.apply(this,arguments)}function ly(){return ly=(0,h.Z)(function*(i,e){const t=Ln(i);return yv(t.localStore,e).then(l=>Td(t,l))}),ly.apply(this,arguments)}function cy(i,e,t,l){return uy.apply(this,arguments)}function uy(){return uy=(0,h.Z)(function*(i,e,t,l){const f=Ln(i),v=yield function(S,Y){const ae=Ln(S),we=Ln(ae.mutationQueue);return ae.persistence.runTransaction("Lookup mutation documents","readonly",He=>we.Sn(He,Y).next(St=>St?ae.localDocuments.getDocuments(He,St):fn.resolve(null)))}(f.localStore,e);var Y;null!==v?("pending"===t?yield Su(f.remoteStore):"acknowledged"===t||"rejected"===t?(Ng(f,e,l||null),sy(f,e),Y=e,Ln(Ln(f.localStore).mutationQueue).Cn(Y)):Sr(),yield Td(f,v)):Un("SyncEngine","Cannot apply mutation batch with id: "+e)}),uy.apply(this,arguments)}function dy(){return dy=(0,h.Z)(function*(i,e){const t=Ln(i);if(pf(t),fy(t),!0===e&&!0!==t.vc){const l=t.sharedClientState.getAllActiveQueryTargets(),f=yield bc(t,l.toArray());t.vc=!0,yield Dg(t.remoteStore,!0);for(const v of f)hh(t.remoteStore,v)}else if(!1===e&&!1!==t.vc){const l=[];let f=Promise.resolve();t._c.forEach((v,S)=>{t.sharedClientState.isLocalQueryTarget(S)?l.push(S):f=f.then(()=>(_h(t,S),af(t.localStore,S,!0))),uf(t.remoteStore,S)}),yield f,yield bc(t,l),function(v){const S=Ln(v);S.yc.forEach((Y,ae)=>{uf(S.remoteStore,ae)}),S.Ic.Ts(),S.yc=new Map,S.gc=new vr(_r.comparator)}(t),t.vc=!1,yield Dg(t.remoteStore,!1)}}),dy.apply(this,arguments)}function bc(i,e,t){return Vg.apply(this,arguments)}function Vg(){return Vg=(0,h.Z)(function*(i,e,t){const l=Ln(i),f=[],v=[];for(const S of e){let Y;const ae=l._c.get(S);if(ae&&0!==ae.length){Y=yield wu(l.localStore,ze(ae[0]));for(const we of ae){const He=l.wc.get(we),St=yield ay(l,He);St.snapshot&&v.push(St.snapshot)}}else{const we=yield zm(l.localStore,S);Y=yield wu(l.localStore,we),yield Mg(l,Ug(we),S,!1,Y.resumeToken)}f.push(Y)}return l.dc.nu(v),f}),Vg.apply(this,arguments)}function Ug(i){return Uf(i.path,i.collectionGroup,i.orderBy,i.filters,i.limit,"F",i.startAt,i.endAt)}function bp(i){const e=Ln(i);return Ln(Ln(e.localStore).persistence).$i()}function Ep(i,e,t,l){return bh.apply(this,arguments)}function bh(){return bh=(0,h.Z)(function*(i,e,t,l){const f=Ln(i);if(f.vc)return void Un("SyncEngine","Ignoring unexpected query state notification.");const v=f._c.get(e);if(v&&v.length>0)switch(t){case"current":case"not-current":{const S=yield yv(f.localStore,qi(v[0])),Y=Vc.createSynthesizedRemoteEventForCurrentChange(e,"current"===t,Ro.EMPTY_BYTE_STRING);yield Td(f,S,Y);break}case"rejected":yield af(f.localStore,e,!0),_h(f,e,l);break;default:Sr()}}),bh.apply(this,arguments)}function eb(i,e,t){return hy.apply(this,arguments)}function hy(){return hy=(0,h.Z)(function*(i,e,t){const l=pf(i);if(l.vc){for(const f of e){if(l._c.has(f)){Un("SyncEngine","Adding an already active target "+f);continue}const v=yield zm(l.localStore,f),S=yield wu(l.localStore,v);yield Mg(l,Ug(v),S.targetId,!1,S.resumeToken),hh(l.remoteStore,S)}for(const f of t)l._c.has(f)&&(yield af(l.localStore,f,!1).then(()=>{uf(l.remoteStore,f),_h(l,f)}).catch(_l))}}),hy.apply(this,arguments)}function pf(i){const e=Ln(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=ff.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Rv.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Rg.bind(null,e),e.dc.nu=Tg.bind(null,e.eventManager),e.dc.Pc=Sv.bind(null,e.eventManager),e}function fy(i){const e=Ln(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=xv.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Mv.bind(null,e),e}class wp{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,h.Z)(function*(){t.serializer=uh(e.databaseInfo.databaseId),t.sharedClientState=t.createSharedClientState(e),t.persistence=t.createPersistence(e),yield t.persistence.start(),t.localStore=t.createLocalStore(e),t.gcScheduler=t.createGarbageCollectionScheduler(e,t.localStore),t.indexBackfillerScheduler=t.createIndexBackfillerScheduler(e,t.localStore)})()}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return gc(this.persistence,new vd,e.initialUser,this.serializer)}createPersistence(e){return new dg(Vm.zs,this.serializer)}createSharedClientState(e){return new bv}terminate(){var e=this;return(0,h.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class kv extends wp{constructor(e,t,l){super(),this.Vc=e,this.cacheSizeBytes=t,this.forceOwnership=l,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,l=this;return(0,h.Z)(function*(){yield t().call(l,e),yield l.Vc.initialize(l,e),yield fy(l.Vc.syncEngine),yield Su(l.Vc.remoteStore),yield l.persistence.Ii(()=>(l.gcScheduler&&!l.gcScheduler.started&&l.gcScheduler.start(),l.indexBackfillerScheduler&&!l.indexBackfillerScheduler.started&&l.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(e){return gc(this.persistence,new vd,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,t){return new gd(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}createIndexBackfillerScheduler(e,t){const l=new Z(t,this.persistence);return new O(e.asyncQueue,l)}createPersistence(e){const t=sh(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),l=void 0!==this.cacheSizeBytes?Sa.withCacheSize(this.cacheSizeBytes):Sa.DEFAULT;return new Um(this.synchronizeTabs,t,e.clientId,l,e.asyncQueue,mg(),Ed(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new bv}}class Eh extends kv{constructor(e,t){super(e,t,!1),this.Vc=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,l=this;return(0,h.Z)(function*(){yield t().call(l,e);const f=l.Vc.syncEngine;l.sharedClientState instanceof Wm&&(l.sharedClientState.syncEngine={jr:cy.bind(null,f),zr:Ep.bind(null,f),Wr:eb.bind(null,f),$i:bp.bind(null,f),Qr:$_.bind(null,f)},yield l.sharedClientState.start()),yield l.persistence.Ii(function(){var v=(0,h.Z)(function*(S){yield function V_(i,e){return dy.apply(this,arguments)}(l.Vc.syncEngine,S),l.gcScheduler&&(S&&!l.gcScheduler.started?l.gcScheduler.start():S||l.gcScheduler.stop()),l.indexBackfillerScheduler&&(S&&!l.indexBackfillerScheduler.started?l.indexBackfillerScheduler.start():S||l.indexBackfillerScheduler.stop())});return function(S){return v.apply(this,arguments)}}())})()}createSharedClientState(e){const t=mg();if(!Wm.D(t))throw new qn(wn.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const l=sh(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Wm(t,e.asyncQueue,l,e.clientId,e.initialUser)}}class gf{initialize(e,t){var l=this;return(0,h.Z)(function*(){l.localStore||(l.localStore=e.localStore,l.sharedClientState=e.sharedClientState,l.datastore=l.createDatastore(t),l.remoteStore=l.createRemoteStore(t),l.eventManager=l.createEventManager(t),l.syncEngine=l.createSyncEngine(t,!e.synchronizeTabs),l.sharedClientState.onlineStateHandler=f=>Pg(l.syncEngine,f,1),l.remoteStore.remoteSyncer.handleCredentialChange=Pv.bind(null,l.syncEngine),yield Dg(l.remoteStore,l.syncEngine.isPrimaryClient))})()}createEventManager(e){return new Dv}createDatastore(e){const t=uh(e.databaseInfo.databaseId),l=new k_(e.databaseInfo);return new Ym(e.authCredentials,e.appCheckCredentials,l,t)}createRemoteStore(e){return t=this.localStore,l=this.datastore,f=e.asyncQueue,v=Y=>Pg(this.syncEngine,Y,0),S=Gm.D()?new Gm:new bd,new wd(t,l,f,v,S);var t,l,f,v,S}createSyncEngine(e,t){return function(l,f,v,S,Y,ae,we){const He=new Zl(l,f,v,S,Y,ae);return we&&(He.vc=!0),He}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,h.Z)(function*(t){const l=Ln(t);Un("RemoteStore","RemoteStore shutting down."),l.vu.add(5),yield Cd(l),l.Pu.shutdown(),l.bu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function gy(i,e=10240){let t=0;return{read:()=>(0,h.Z)(function*(){if(t<i.byteLength){const l={value:i.slice(t,t+e),done:!1};return t+=e,l}return{done:!0}})(),cancel:()=>(0,h.Z)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class Ip{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):Mi("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class U_{constructor(e,t){this.Cc=e,this.serializer=t,this.metadata=new as,this.buffer=new Uint8Array,this.xc=new TextDecoder("utf-8"),this.Nc().then(l=>{l&&l.Qu()?this.metadata.resolve(l.Gu.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==l?void 0:l.Gu)}`))},l=>this.metadata.reject(l))}close(){return this.Cc.cancel()}getMetadata(){var e=this;return(0,h.Z)(function*(){return e.metadata.promise})()}bc(){var e=this;return(0,h.Z)(function*(){return yield e.getMetadata(),e.Nc()})()}Nc(){var e=this;return(0,h.Z)(function*(){const t=yield e.kc();if(null===t)return null;const l=e.xc.decode(t),f=Number(l);isNaN(f)&&e.Mc(`length string (${l}) is not valid number`);const v=yield e.$c(f);return new fl(JSON.parse(v),t.length+f)})()}Oc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}kc(){var e=this;return(0,h.Z)(function*(){for(;e.Oc()<0&&!(yield e.Fc()););if(0===e.buffer.length)return null;const t=e.Oc();t<0&&e.Mc("Reached the end of bundle when a length string is expected.");const l=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),l})()}$c(e){var t=this;return(0,h.Z)(function*(){for(;t.buffer.length<e;)(yield t.Fc())&&t.Mc("Reached the end of bundle when more is expected.");const l=t.xc.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),l})()}Mc(e){throw this.Cc.cancel(),new Error(`Invalid bundle format: ${e}`)}Fc(){var e=this;return(0,h.Z)(function*(){const t=yield e.Cc.read();if(!t.done){const l=new Uint8Array(e.buffer.length+t.value.length);l.set(e.buffer),l.set(t.value,e.buffer.length),e.buffer=l}return t.done})()}}class j_{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,h.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new qn(wn.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const l=yield(f=(0,h.Z)(function*(v,S){const Y=Ln(v),ae=td(Y.serializer)+"/documents",we={documents:S.map(Pn=>ed(Y.serializer,Pn))},He=yield Y.vo("BatchGetDocuments",ae,we,S.length),St=new Map;He.forEach(Pn=>{const fr=function A_(i,e){return"found"in e?function(t,l){Zr(!!l.found);const f=ul(t,l.found.name),v=_a(l.found.updateTime),S=l.found.createTime?_a(l.found.createTime):hi.min(),Y=new uo({mapValue:{fields:l.found.fields}});return so.newFoundDocument(f,v,S,Y)}(i,e):"missing"in e?function(t,l){Zr(!!l.missing),Zr(!!l.readTime);const f=ul(t,l.missing),v=_a(l.readTime);return so.newNoDocument(f,v)}(i,e):Sr()}(Y.serializer,Pn);St.set(fr.key.toString(),fr)});const pn=[];return S.forEach(Pn=>{const fr=St.get(Pn.toString());Zr(!!fr),pn.push(fr)}),pn}),function(v,S){return f.apply(this,arguments)})(t.datastore,e);var f;return l.forEach(f=>t.recordVersion(f)),l})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(l){this.lastWriteError=l}this.writtenDocs.add(e.toString())}delete(e){this.write(new Yu(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,h.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var l;e.mutations.forEach(l=>{t.delete(l.key.toString())}),t.forEach((l,f)=>{const v=_r.fromPath(f);e.mutations.push(new Hh(v,e.precondition(v)))}),yield(l=(0,h.Z)(function*(f,v){const S=Ln(f),Y=td(S.serializer)+"/documents",ae={writes:v.map(we=>ua(S.serializer,we))};yield S.Io("Commit",Y,ae)}),function(f,v){return l.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Sr();t=hi.min()}const l=this.readVersions.get(e.key.toString());if(l){if(!t.isEqual(l))throw new qn(wn.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(hi.min())?ca.exists(!1):ca.updateTime(t):ca.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(hi.min()))throw new qn(wn.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return ca.updateTime(t)}return ca.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class Cp{constructor(e,t,l,f,v){this.asyncQueue=e,this.datastore=t,this.options=l,this.updateFunction=f,this.deferred=v,this.Bc=l.maxAttempts,this.qo=new cp(this.asyncQueue,"transaction_retry")}run(){this.Bc-=1,this.Lc()}Lc(){var e=this;this.qo.No((0,h.Z)(function*(){const t=new j_(e.datastore),l=e.qc(t);l&&l.then(f=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(f)}).catch(v=>{e.Uc(v)}))}).catch(f=>{e.Uc(f)})}))}qc(e){try{const t=this.updateFunction(e);return!Ye(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Uc(e){this.Bc>0&&this.Kc(e)?(this.Bc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Lc(),Promise.resolve()))):this.deferred.reject(e)}Kc(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!qu(t)}return!1}}class z_{constructor(e,t,l,f){var v=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=l,this.databaseInfo=f,this.user=di.UNAUTHENTICATED,this.clientId=ic.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(l,function(){var S=(0,h.Z)(function*(Y){Un("FirestoreClient","Received user=",Y.uid),yield v.authCredentialListener(Y),v.user=Y});return function(Y){return S.apply(this,arguments)}}()),this.appCheckCredentials.start(l,S=>(Un("FirestoreClient","Received new app check token=",S),this.appCheckCredentialListener(S,this.user)))}getConfiguration(){var e=this;return(0,h.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new qn(wn.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new as;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,h.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(l){const f=ph(l,"Failed to shutdown persistence");t.reject(f)}})),t.promise}}function my(i,e){return yy.apply(this,arguments)}function yy(){return yy=(0,h.Z)(function*(i,e){i.asyncQueue.verifyOperationInProgress(),Un("FirestoreClient","Initializing OfflineComponentProvider");const t=yield i.getConfiguration();yield e.initialize(t);let l=t.initialUser;i.setCredentialChangeListener(function(){var f=(0,h.Z)(function*(v){l.isEqual(v)||(yield oh(e.localStore,v),l=v)});return function(v){return f.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>i.terminate()),i._offlineComponents=e}),yy.apply(this,arguments)}function Nv(i,e){return Fv.apply(this,arguments)}function Fv(){return Fv=(0,h.Z)(function*(i,e){i.asyncQueue.verifyOperationInProgress();const t=yield vy(i);Un("FirestoreClient","Initializing OnlineComponentProvider");const l=yield i.getConfiguration();yield e.initialize(t,l),i.setCredentialChangeListener(f=>Cg(e.remoteStore,f)),i.setAppCheckTokenChangeListener((f,v)=>Cg(e.remoteStore,v)),i._onlineComponents=e}),Fv.apply(this,arguments)}function Lv(i){return"FirebaseError"===i.name?i.code===wn.FAILED_PRECONDITION||i.code===wn.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||22===i.code||20===i.code||11===i.code}function vy(i){return _y.apply(this,arguments)}function _y(){return _y=(0,h.Z)(function*(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){Un("FirestoreClient","Using user provided OfflineComponentProvider");try{yield my(i,i._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!Lv(t))throw t;Ko("Error using user provided cache. Falling back to memory cache: "+t),yield my(i,new wp)}}else Un("FirestoreClient","Using default OfflineComponentProvider"),yield my(i,new wp);return i._offlineComponents}),_y.apply(this,arguments)}function Dp(i){return jg.apply(this,arguments)}function jg(){return jg=(0,h.Z)(function*(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(Un("FirestoreClient","Using user provided OnlineComponentProvider"),yield Nv(i,i._uninitializedComponentsProvider._online)):(Un("FirestoreClient","Using default OnlineComponentProvider"),yield Nv(i,new gf))),i._onlineComponents}),jg.apply(this,arguments)}function zg(i){return vy(i).then(e=>e.persistence)}function Hg(i){return vy(i).then(e=>e.localStore)}function Wg(i){return Dp(i).then(e=>e.remoteStore)}function qc(i){return Dp(i).then(e=>e.syncEngine)}function ja(i){return wh.apply(this,arguments)}function wh(){return wh=(0,h.Z)(function*(i){const e=yield Dp(i),t=e.eventManager;return t.onListen=L_.bind(null,e.syncEngine),t.onUnlisten=Av.bind(null,e.syncEngine),t}),wh.apply(this,arguments)}function by(i,e,t={}){const l=new as;return i.asyncQueue.enqueueAndForget((0,h.Z)(function*(){return function(f,v,S,Y,ae){const we=new Ip({next:St=>{v.enqueueAndForget(()=>hf(f,He));const pn=St.docs.has(S);!pn&&St.fromCache?ae.reject(new qn(wn.UNAVAILABLE,"Failed to get document because the client is offline.")):pn&&St.fromCache&&Y&&"server"===Y.source?ae.reject(new qn(wn.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):ae.resolve(St)},error:St=>ae.reject(St)}),He=new Ag(du(S.path),we,{includeMetadataChanges:!0,Ku:!0});return gh(f,He)}(yield ja(i),i.asyncQueue,e,t,l)})),l.promise}function Sp(i,e,t={}){const l=new as;return i.asyncQueue.enqueueAndForget((0,h.Z)(function*(){return function(f,v,S,Y,ae){const we=new Ip({next:St=>{v.enqueueAndForget(()=>hf(f,He)),St.fromCache&&"server"===Y.source?ae.reject(new qn(wn.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):ae.resolve(St)},error:St=>ae.reject(St)}),He=new Ag(S,we,{includeMetadataChanges:!0,Ku:!0});return gh(f,He)}(yield ja(i),i.asyncQueue,e,t,l)})),l.promise}function Ey(i){const e={};return void 0!==i.timeoutSeconds&&(e.timeoutSeconds=i.timeoutSeconds),e}const wy=new Map;function Pu(i,e,t){if(!t)throw new qn(wn.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function Vv(i,e,t,l){if(!0===e&&!0===l)throw new qn(wn.INVALID_ARGUMENT,`${i} and ${t} cannot be used together.`)}function Xl(i){if(!_r.isDocumentKey(i))throw new qn(wn.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function mf(i){if(_r.isDocumentKey(i))throw new qn(wn.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function Fa(i){if(void 0===i)return"undefined";if(null===i)return"null";if("string"==typeof i)return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if("number"==typeof i||"boolean"==typeof i)return""+i;if("object"==typeof i){if(i instanceof Array)return"an array";{const e=(t=i).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof i?"a function":Sr()}function ds(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new qn(wn.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Fa(i);throw new qn(wn.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return i}function yf(i,e){if(e<=0)throw new qn(wn.INVALID_ARGUMENT,`Function ${i}() requires a positive number, but it was: ${e}.`)}class Tl{constructor(e){var t,l;if(void 0===e.host){if(void 0!==e.ssl)throw new qn(wn.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new qn(wn.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Vv("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=Ey(null!==(l=e.experimentalLongPollingOptions)&&void 0!==l?l:{}),function(f){if(void 0!==f.timeoutSeconds){if(isNaN(f.timeoutSeconds))throw new qn(wn.INVALID_ARGUMENT,`invalid long polling timeout: ${f.timeoutSeconds} (must not be NaN)`);if(f.timeoutSeconds<5)throw new qn(wn.INVALID_ARGUMENT,`invalid long polling timeout: ${f.timeoutSeconds} (minimum allowed value is 5)`);if(f.timeoutSeconds>30)throw new qn(wn.INVALID_ARGUMENT,`invalid long polling timeout: ${f.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Ih{constructor(e,t,l,f){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=l,this._app=f,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Tl({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new qn(wn.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new qn(wn.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Tl(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new yl;switch(t.type){case"firstParty":return new ya(t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new qn(wn.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=wy.get(e);t&&(Un("ComponentProvider","Removing Datastore"),wy.delete(e),t.terminate())}(this),Promise.resolve()}}function Ch(i,e,t,l={}){var f;const v=(i=ds(i,Ih))._getSettings();if("firestore.googleapis.com"!==v.host&&v.host!==e&&Ko("Host has been set in both settings() and useEmulator(), emulator host will be used"),i._setSettings(Object.assign(Object.assign({},v),{host:`${e}:${t}`,ssl:!1})),l.mockUserToken){let S,Y;if("string"==typeof l.mockUserToken)S=l.mockUserToken,Y=di.MOCK_USER;else{S=(0,Ze.Sg)(l.mockUserToken,null===(f=i._app)||void 0===f?void 0:f.options.projectId);const ae=l.mockUserToken.sub||l.mockUserToken.user_id;if(!ae)throw new qn(wn.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");Y=new di(ae)}i._authCredentials=new qa(new nc(S,Y))}}class qo{constructor(e,t,l){this.converter=t,this._key=l,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new pl(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new qo(this.firestore,e,this._key)}}class pa{constructor(e,t,l){this.converter=t,this._query=l,this.type="query",this.firestore=e}withConverter(e){return new pa(this.firestore,e,this._query)}}class pl extends pa{constructor(e,t,l){super(e,t,du(l)),this._path=l,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new qo(this.firestore,null,new _r(e))}withConverter(e){return new pl(this.firestore,e,this._path)}}function vf(i,e,...t){if(i=(0,Ze.m9)(i),Pu("collection","path",e),i instanceof Ih){const l=Ki.fromString(e,...t);return mf(l),new pl(i,null,l)}{if(!(i instanceof qo||i instanceof pl))throw new qn(wn.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const l=i._path.child(Ki.fromString(e,...t));return mf(l),new pl(i.firestore,null,l)}}function Dh(i,e){if(i=ds(i,Ih),Pu("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new qn(wn.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new pa(i,null,(t=e,new Fl(Ki.emptyPath(),t)));var t}function Sh(i,e,...t){if(i=(0,Ze.m9)(i),1===arguments.length&&(e=ic.A()),Pu("doc","path",e),i instanceof Ih){const l=Ki.fromString(e,...t);return Xl(l),new qo(i,null,new _r(l))}{if(!(i instanceof qo||i instanceof pl))throw new qn(wn.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const l=i._path.child(Ki.fromString(e,...t));return Xl(l),new qo(i.firestore,i instanceof pl?i.converter:null,new _r(l))}}function _f(i,e){return i=(0,Ze.m9)(i),e=(0,Ze.m9)(e),(i instanceof qo||i instanceof pl)&&(e instanceof qo||e instanceof pl)&&i.firestore===e.firestore&&i.path===e.path&&i.converter===e.converter}function Ad(i,e){return i=(0,Ze.m9)(i),e=(0,Ze.m9)(e),i instanceof pa&&e instanceof pa&&i.firestore===e.firestore&&ur(i._query,e._query)&&i.converter===e.converter}class Uv{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new cp(this,"async_queue_retry"),this.Xc=()=>{const t=Ed();t&&Un("AsyncQueue","Visibility state changed to "+t.visibilityState),this.qo.Mo()};const e=Ed();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const t=Ed();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const t=new as;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}ea(){var e=this;return(0,h.Z)(function*(){if(0!==e.Qc.length){try{yield e.Qc[0](),e.Qc.shift(),e.qo.reset()}catch(t){if(!Po(t))throw t;Un("AsyncQueue","Operation failed with retryable error: "+t)}e.Qc.length>0&&e.qo.No(()=>e.ea())}})()}ta(e){const t=this.Gc.then(()=>(this.Hc=!0,e().catch(l=>{throw this.Wc=l,this.Hc=!1,Mi("INTERNAL UNHANDLED ERROR: ",function(v){let S=v.message||"";return v.stack&&(S=v.stack.includes(v.message)?v.stack:v.message+"\n"+v.stack),S}(l)),l}).then(l=>(this.Hc=!1,l))));return this.Gc=t,t}enqueueAfterDelay(e,t,l){this.Zc(),this.Yc.indexOf(e)>-1&&(t=0);const f=dp.createAndSchedule(this,e,t,l,v=>this.na(v));return this.zc.push(f),f}Zc(){this.Wc&&Sr()}verifyOperationInProgress(){}sa(){var e=this;return(0,h.Z)(function*(){let t;do{t=e.Gc,yield t}while(t!==e.Gc)})()}ia(e){for(const t of this.zc)if(t.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((t,l)=>t.targetTimeMs-l.targetTimeMs);for(const t of this.zc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const t=this.zc.indexOf(e);this.zc.splice(t,1)}}function Gg(i){return function(e,t){if("object"!=typeof e||null===e)return!1;const l=e;for(const f of["next","error","complete"])if(f in l&&"function"==typeof l[f])return!0;return!1}(i)}class jv{constructor(){this._progressObserver={},this._taskCompletionResolver=new as,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,l){this._progressObserver={next:e,error:t,complete:l}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}const zv=-1;class Zo extends Ih{constructor(e,t,l,f){super(e,t,l,f),this.type="firestore",this._queue=new Uv,this._persistenceKey=(null==f?void 0:f.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||Cy(this),this._firestoreClient.terminate()}}function Iy(i,e){const t="object"==typeof i?i:(0,_.getApp)(),l="string"==typeof i?i:e||"(default)",f=(0,_._getProvider)(t,"firestore").getImmediate({identifier:l});if(!f._initialized){const v=(0,Ze.P0)("firestore");v&&Ch(f,...v)}return f}function ba(i){return i._firestoreClient||Cy(i),i._firestoreClient.verifyNotTerminated(),i._firestoreClient}function Cy(i){var e,t,l;const f=i._freezeSettings(),v=(Y=(null===(e=i._app)||void 0===e?void 0:e.options.appId)||"",new Vp(i._databaseId,Y,i._persistenceKey,(we=f).host,we.ssl,we.experimentalForceLongPolling,we.experimentalAutoDetectLongPolling,Ey(we.experimentalLongPollingOptions),we.useFetchStreams));var Y,we;i._firestoreClient=new z_(i._authCredentials,i._appCheckCredentials,i._queue,v),null!==(t=f.cache)&&void 0!==t&&t._offlineComponentProvider&&null!==(l=f.cache)&&void 0!==l&&l._onlineComponentProvider&&(i._firestoreClient._uninitializedComponentsProvider={_offlineKind:f.cache.kind,_offline:f.cache._offlineComponentProvider,_online:f.cache._onlineComponentProvider})}function Dy(i,e){Q_(i=ds(i,Zo));const t=ba(i);if(t._uninitializedComponentsProvider)throw new qn(wn.FAILED_PRECONDITION,"SDK cache is already specified.");Ko("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const l=i._freezeSettings(),f=new gf;return Z_(t,f,new kv(f,l.cacheSizeBytes,null==e?void 0:e.forceOwnership))}function q_(i){Q_(i=ds(i,Zo));const e=ba(i);if(e._uninitializedComponentsProvider)throw new qn(wn.FAILED_PRECONDITION,"SDK cache is already specified.");Ko("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const t=i._freezeSettings(),l=new gf;return Z_(e,l,new Eh(l,t.cacheSizeBytes))}function Z_(i,e,t){const l=new as;return i.asyncQueue.enqueue((0,h.Z)(function*(){try{yield my(i,t),yield Nv(i,e),l.resolve()}catch(f){const v=f;if(!Lv(v))throw v;Ko("Error enabling indexeddb cache. Falling back to memory cache: "+v),l.reject(v)}})).then(()=>l.promise)}function Hv(i){if(i._initialized&&!i._terminated)throw new qn(wn.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new as;return i._queue.enqueueAndForgetEvenWhileRestricted((0,h.Z)(function*(){try{yield(t=(0,h.Z)(function*(l){if(!Yo.D())return Promise.resolve();const f=l+"main";yield Yo.delete(f)}),function(l){return t.apply(this,arguments)})(sh(i._databaseId,i._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}function nb(i){return function(e){const t=new as;return e.asyncQueue.enqueueAndForget((0,h.Z)(function*(){return function vc(i,e){return vp.apply(this,arguments)}(yield qc(e),t)})),t.promise}(ba(i=ds(i,Zo)))}function Sy(i){return function H_(i){return i.asyncQueue.enqueue((0,h.Z)(function*(){const e=yield zg(i),t=yield Wg(i);return e.setNetworkEnabled(!0),function(l){const f=Ln(l);return f.vu.delete(0),Id(f)}(t)}))}(ba(i=ds(i,Zo)))}function X_(i){return function W_(i){return i.asyncQueue.enqueue((0,h.Z)(function*(){const e=yield zg(i),t=yield Wg(i);return e.setNetworkEnabled(!1),(l=(0,h.Z)(function*(f){const v=Ln(f);v.vu.add(0),yield Cd(v),v.bu.set("Offline")}),function(f){return l.apply(this,arguments)})(t);var l}))}(ba(i=ds(i,Zo)))}function iE(i,e){const t=ba(i=ds(i,Zo)),l=new jv;return function $v(i,e,t,l){const f=function(v,S){let Y;return Y="string"==typeof v?rv().encode(v):v,ae=function(ae,we){if(ae instanceof Uint8Array)return gy(ae,void 0);if(ae instanceof ArrayBuffer)return gy(new Uint8Array(ae),void 0);if(ae instanceof ReadableStream)return ae.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(Y),new U_(ae,S);var ae}(t,uh(e));i.asyncQueue.enqueueAndForget((0,h.Z)(function*(){!function Ov(i,e,t){const l=Ln(i);var f;(f=(0,h.Z)(function*(v,S,Y){try{const ae=yield S.getMetadata();if(yield function(pn,Pn){const fr=Ln(pn),$r=_a(Pn.createTime);return fr.persistence.runTransaction("hasNewerBundle","readonly",Xr=>fr.qs.getBundleMetadata(Xr,Pn.id)).then(Xr=>!!Xr&&Xr.createTime.compareTo($r)>=0)}(v.localStore,ae))return yield S.close(),Y._completeWith({taskState:"Success",documentsLoaded:(pn=ae).totalDocuments,bytesLoaded:pn.totalBytes,totalDocuments:pn.totalDocuments,totalBytes:pn.totalBytes}),Promise.resolve(new Set);Y._updateProgress(mp(ae));const we=new Sd(ae,v.localStore,S.serializer);let He=yield S.bc();for(;He;){const pn=yield we.zu(He);pn&&Y._updateProgress(pn),He=yield S.bc()}const St=yield we.complete();return yield Td(v,St.Ju,void 0),yield function(pn,Pn){const fr=Ln(pn);return fr.persistence.runTransaction("Save bundle","readwrite",$r=>fr.qs.saveBundleMetadata($r,Pn))}(v.localStore,ae),Y._completeWith(St.progress),Promise.resolve(St.Hu)}catch(ae){return Ko("SyncEngine",`Loading bundle failed with ${ae}`),Y._failWith(ae),Promise.resolve(new Set)}var pn}),function(v,S,Y){return f.apply(this,arguments)})(l,e,t).then(f=>{l.sharedClientState.notifyBundleLoaded(f)})}(yield qc(i),f,l)}))}(t,i._databaseId,e,l),l}function ib(i,e){return function K_(i,e){return i.asyncQueue.enqueue((0,h.Z)(function*(){return function(t,l){const f=Ln(t);return f.persistence.runTransaction("Get named query","readonly",v=>f.qs.getNamedQuery(v,l))}(yield Hg(i),e)}))}(ba(i=ds(i,Zo)),e).then(t=>t?new pa(i,null,t.query):null)}function Q_(i){if(i._initialized||i._terminated)throw new qn(wn.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Ec{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ec(Ro.fromBase64String(e))}catch(t){throw new qn(wn.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Ec(Ro.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Ru{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new qn(wn.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Bs(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Th{constructor(e){this._methodName=e}}class Ah{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new qn(wn.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new qn(wn.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Pi(this._lat,e._lat)||Pi(this._long,e._long)}}const J_=/^__.*__$/;class e0{constructor(e,t,l){this.data=e,this.fieldMask=t,this.fieldTransforms=l}toMutation(e,t){return null!==this.fieldMask?new cl(e,this.data,this.fieldMask,t,this.fieldTransforms):new fu(e,this.data,t,this.fieldTransforms)}}class bf{constructor(e,t,l){this.data=e,this.fieldMask=t,this.fieldTransforms=l}toMutation(e,t){return new cl(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function Kv(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Sr()}}class Yg{constructor(e,t,l,f,v,S){this.settings=e,this.databaseId=t,this.serializer=l,this.ignoreUndefinedProperties=f,void 0===v&&this.ua(),this.fieldTransforms=v||[],this.fieldMask=S||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new Yg(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var t;const l=null===(t=this.path)||void 0===t?void 0:t.child(e),f=this.aa({path:l,la:!1});return f.fa(e),f}da(e){var t;const l=null===(t=this.path)||void 0===t?void 0:t.child(e),f=this.aa({path:l,la:!1});return f.ua(),f}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return Xg(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if(Kv(this.ca)&&J_.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class t0{constructor(e,t,l){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=l||uh(e)}ya(e,t,l,f=!1){return new Yg({ca:e,methodName:t,ga:l,path:Bs.emptyPath(),la:!1,ma:f},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function xd(i){const e=i._freezeSettings(),t=uh(i._databaseId);return new t0(i._databaseId,!!e.ignoreUndefinedProperties,t)}function Ef(i,e,t,l,f,v={}){const S=i.ya(v.merge||v.mergeFields?2:0,e,t,f);My("Data must be an object, but it was:",S,l);const Y=Ay(l,S);let ae,we;if(v.merge)ae=new Ji(S.fieldMask),we=S.fieldTransforms;else if(v.mergeFields){const He=[];for(const St of v.mergeFields){const pn=xh(e,St,t);if(!S.contains(pn))throw new qn(wn.INVALID_ARGUMENT,`Field '${pn}' is specified in your field mask but missing from your input data.`);Py(He,pn)||He.push(pn)}ae=new Ji(He),we=S.fieldTransforms.filter(St=>ae.covers(St.field))}else ae=null,we=S.fieldTransforms;return new e0(new uo(Y),ae,we)}class Zc extends Th{_toFieldTransform(e){if(2!==e.ca)throw e._a(1===e.ca?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Zc}}function Ap(i,e,t){return new Yg({ca:3,ga:e.settings.ga,methodName:i._methodName,la:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class Yv extends Th{_toFieldTransform(e){return new Cl(e.path,new Da)}isEqual(e){return e instanceof Yv}}class xp extends Th{constructor(e,t){super(e),this.pa=t}_toFieldTransform(e){const t=Ap(this,e,!0),l=this.pa.map(v=>Ou(v,t)),f=new uc(l);return new Cl(e.path,f)}isEqual(e){return this===e}}class qv extends Th{constructor(e,t){super(e),this.pa=t}_toFieldTransform(e){const t=Ap(this,e,!0),l=this.pa.map(v=>Ou(v,t)),f=new Il(l);return new Cl(e.path,f)}isEqual(e){return this===e}}class Zv extends Th{constructor(e,t){super(e),this.Ia=t}_toFieldTransform(e){const t=new $c(e.serializer,Hp(e.serializer,this.Ia));return new Cl(e.path,t)}isEqual(e){return this===e}}function Ty(i,e,t,l){const f=i.ya(1,e,t);My("Data must be an object, but it was:",f,l);const v=[],S=uo.empty();ti(l,(ae,we)=>{const He=Zg(e,ae,t);we=(0,Ze.m9)(we);const St=f.da(He);if(we instanceof Zc)v.push(He);else{const pn=Ou(we,St);null!=pn&&(v.push(He),S.set(He,pn))}});const Y=new Ji(v);return new bf(S,Y,f.fieldTransforms)}function qg(i,e,t,l,f,v){const S=i.ya(1,e,t),Y=[xh(e,l,t)],ae=[f];if(v.length%2!=0)throw new qn(wn.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let pn=0;pn<v.length;pn+=2)Y.push(xh(e,v[pn])),ae.push(v[pn+1]);const we=[],He=uo.empty();for(let pn=Y.length-1;pn>=0;--pn)if(!Py(we,Y[pn])){const Pn=Y[pn];let fr=ae[pn];fr=(0,Ze.m9)(fr);const $r=S.da(Pn);if(fr instanceof Zc)we.push(Pn);else{const Xr=Ou(fr,$r);null!=Xr&&(we.push(Pn),He.set(Pn,Xr))}}const St=new Ji(we);return new bf(He,St,S.fieldTransforms)}function Xv(i,e,t,l=!1){return Ou(t,i.ya(l?4:3,e))}function Ou(i,e){if(xy(i=(0,Ze.m9)(i)))return My("Unsupported field value:",e,i),Ay(i,e);if(i instanceof Th)return function(t,l){if(!Kv(l.ca))throw l._a(`${t._methodName}() can only be used with update() and set()`);if(!l.path)throw l._a(`${t._methodName}() is not currently supported inside arrays`);const f=t._toFieldTransform(l);f&&l.fieldTransforms.push(f)}(i,e),null;if(void 0===i&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.la&&4!==e.ca)throw e._a("Nested arrays are not supported");return function(t,l){const f=[];let v=0;for(const S of t){let Y=Ou(S,l.wa(v));null==Y&&(Y={nullValue:"NULL_VALUE"}),f.push(Y),v++}return{arrayValue:{values:f}}}(i,e)}return function(t,l){if(null===(t=(0,Ze.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return Hp(l.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const f=_o.fromDate(t);return{timestampValue:Yd(l.serializer,f)}}if(t instanceof _o){const f=new _o(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Yd(l.serializer,f)}}if(t instanceof Ah)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Ec)return{bytesValue:qd(l.serializer,t._byteString)};if(t instanceof qo){const f=l.databaseId,v=t.firestore._databaseId;if(!v.isEqual(f))throw l._a(`Document reference is for database ${v.projectId}/${v.database} but should be for database ${f.projectId}/${f.database}`);return{referenceValue:Zd(t.firestore._databaseId||l.databaseId,t._key.path)}}throw l._a(`Unsupported field value: ${Fa(t)}`)}(i,e)}function Ay(i,e){const t={};return Ti(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ti(i,(l,f)=>{const v=Ou(f,e.ha(l));null!=v&&(t[l]=v)}),{mapValue:{fields:t}}}function xy(i){return!("object"!=typeof i||null===i||i instanceof Array||i instanceof Date||i instanceof _o||i instanceof Ah||i instanceof Ec||i instanceof qo||i instanceof Th)}function My(i,e,t){if(!xy(t)||"object"!=typeof(l=t)||null===l||Object.getPrototypeOf(l)!==Object.prototype&&null!==Object.getPrototypeOf(l)){const l=Fa(t);throw e._a("an object"===l?i+" a custom object":i+" "+l)}var l}function xh(i,e,t){if((e=(0,Ze.m9)(e))instanceof Ru)return e._internalPath;if("string"==typeof e)return Zg(i,e);throw Xg("Field path arguments must be of type string or ",i,!1,void 0,t)}const n0=new RegExp("[~\\*/\\[\\]]");function Zg(i,e,t){if(e.search(n0)>=0)throw Xg(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,t);try{return new Ru(...e.split("."))._internalPath}catch{throw Xg(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,t)}}function Xg(i,e,t,l,f){const v=l&&!l.isEmpty(),S=void 0!==f;let Y=`Function ${e}() called with invalid data`;t&&(Y+=" (via `toFirestore()`)"),Y+=". ";let ae="";return(v||S)&&(ae+=" (found",v&&(ae+=` in field ${l}`),S&&(ae+=` in document ${f}`),ae+=")"),new qn(wn.INVALID_ARGUMENT,Y+i+ae)}function Py(i,e){return i.some(t=>t.isEqual(e))}class Mh{constructor(e,t,l,f,v){this._firestore=e,this._userDataWriter=t,this._key=l,this._document=f,this._converter=v}get id(){return this._key.path.lastSegment()}get ref(){return new qo(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new sb(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Ph("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class sb extends Mh{data(){return super.data()}}function Ph(i,e){return"string"==typeof e?Zg(i,e):e instanceof Ru?e._internalPath:e._delegate._internalPath}function Mp(i){if("L"===i.limitType&&0===i.explicitOrderBy.length)throw new qn(wn.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Pp{}class wf extends Pp{}function r0(i,e,...t){let l=[];e instanceof Pp&&l.push(e),l=l.concat(t),function(f){const v=f.filter(Y=>Y instanceof Md).length,S=f.filter(Y=>Y instanceof Rp).length;if(v>1||v>0&&S>0)throw new qn(wn.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(l);for(const f of l)i=f._apply(i);return i}class Rp extends wf{constructor(e,t,l){super(),this._field=e,this._op=t,this._value=l,this.type="where"}static _create(e,t,l){return new Rp(e,t,l)}_apply(e){const t=this._parse(e);return n_(e._query,t),new pa(e.firestore,e.converter,en(e._query,t))}_parse(e){const t=xd(e.firestore);return function(f,v,S,Y,ae,we,He){let St;if(ae.isKeyField()){if("array-contains"===we||"array-contains-any"===we)throw new qn(wn.INVALID_ARGUMENT,`Invalid Query. You can't perform '${we}' queries on documentId().`);if("in"===we||"not-in"===we){o0(He,we);const pn=[];for(const Pn of He)pn.push(wc(Y,f,Pn));St={arrayValue:{values:pn}}}else St=wc(Y,f,He)}else"in"!==we&&"not-in"!==we&&"array-contains-any"!==we||o0(He,we),St=Xv(S,"where",He,"in"===we||"not-in"===we);return Ts.create(ae,we,St)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}function s0(i,e,t){const l=e,f=Ph("where",i);return Rp._create(f,l,t)}class Md extends Pp{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Md(e,t)}_parse(e){const t=this._queryConstraints.map(l=>l._parse(e)).filter(l=>l.getFilters().length>0);return 1===t.length?t[0]:bo.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(l,f){let v=l;const S=f.getFlattenedFilters();for(const Y of S)n_(v,Y),v=en(v,Y)}(e._query,t),new pa(e.firestore,e.converter,en(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class Op extends wf{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Op(e,t)}_apply(e){const t=function(l,f,v){if(null!==l.startAt)throw new qn(wn.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==l.endAt)throw new qn(wn.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const S=new $u(f,v);return function(Y,ae){if(null===D(Y)){const we=A(Y);null!==we&&r_(0,we,ae.field)}}(l,S),S}(e._query,this._field,this._direction);return new pa(e.firestore,e.converter,function(l,f){const v=l.explicitOrderBy.concat([f]);return new Fl(l.path,l.collectionGroup,v,l.filters.slice(),l.limit,l.limitType,l.startAt,l.endAt)}(e._query,t))}}function Qg(i,e="asc"){const t=e,l=Ph("orderBy",i);return Op._create(l,t)}class Jg extends wf{constructor(e,t,l){super(),this.type=e,this._limit=t,this._limitType=l}static _create(e,t,l){return new Jg(e,t,l)}_apply(e){return new pa(e.firestore,e.converter,Dn(e._query,this._limit,this._limitType))}}function If(i){return yf("limit",i),Jg._create("limit",i,"F")}function em(i){return yf("limitToLast",i),Jg._create("limitToLast",i,"L")}class kp extends wf{constructor(e,t,l){super(),this.type=e,this._docOrFields=t,this._inclusive=l}static _create(e,t,l){return new kp(e,t,l)}_apply(e){const t=ky(e,this.type,this._docOrFields,this._inclusive);return new pa(e.firestore,e.converter,(f=t,new Fl((l=e._query).path,l.collectionGroup,l.explicitOrderBy.slice(),l.filters.slice(),l.limit,l.limitType,f,l.endAt)));var l,f}}function Ry(...i){return kp._create("startAt",i,!0)}function e_(...i){return kp._create("startAfter",i,!1)}class Cf extends wf{constructor(e,t,l){super(),this.type=e,this._docOrFields=t,this._inclusive=l}static _create(e,t,l){return new Cf(e,t,l)}_apply(e){const t=ky(e,this.type,this._docOrFields,this._inclusive);return new pa(e.firestore,e.converter,(f=t,new Fl((l=e._query).path,l.collectionGroup,l.explicitOrderBy.slice(),l.filters.slice(),l.limit,l.limitType,l.startAt,f)));var l,f}}function t_(...i){return Cf._create("endBefore",i,!1)}function Oy(...i){return Cf._create("endAt",i,!0)}function ky(i,e,t,l){if(t[0]=(0,Ze.m9)(t[0]),t[0]instanceof Mh)return function(f,v,S,Y,ae){if(!Y)throw new qn(wn.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${S}().`);const we=[];for(const He of Ie(f))if(He.field.isKeyField())we.push(kc(v,Y.key));else{const St=Y.data.field(He.field);if(Ol(St))throw new qn(wn.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+He.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===St){const pn=He.field.canonicalString();throw new qn(wn.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${pn}' (used as the orderBy) does not exist.`)}we.push(St)}return new ac(we,ae)}(i._query,i.firestore._databaseId,e,t[0]._document,l);{const f=xd(i.firestore);return function(v,S,Y,ae,we,He){const St=v.explicitOrderBy;if(we.length>St.length)throw new qn(wn.INVALID_ARGUMENT,`Too many arguments provided to ${ae}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const pn=[];for(let Pn=0;Pn<we.length;Pn++){const fr=we[Pn];if(St[Pn].field.isKeyField()){if("string"!=typeof fr)throw new qn(wn.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${ae}(), but got a ${typeof fr}`);if(!K(v)&&-1!==fr.indexOf("/"))throw new qn(wn.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${ae}() must be a plain document ID, but '${fr}' contains a slash.`);const $r=v.path.child(Ki.fromString(fr));if(!_r.isDocumentKey($r))throw new qn(wn.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${ae}() must result in a valid document path, but '${$r}' is not because it contains an odd number of segments.`);const Xr=new _r($r);pn.push(kc(S,Xr))}else{const $r=Xv(Y,ae,fr);pn.push($r)}}return new ac(pn,He)}(i._query,i.firestore._databaseId,f,e,t,l)}}function wc(i,e,t){if("string"==typeof(t=(0,Ze.m9)(t))){if(""===t)throw new qn(wn.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!K(e)&&-1!==t.indexOf("/"))throw new qn(wn.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const l=e.path.child(Ki.fromString(t));if(!_r.isDocumentKey(l))throw new qn(wn.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${l}' is not because it has an odd number of segments (${l.length}).`);return kc(i,new _r(l))}if(t instanceof qo)return kc(i,t._key);throw new qn(wn.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Fa(t)}.`)}function o0(i,e){if(!Array.isArray(i)||0===i.length)throw new qn(wn.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function n_(i,e){if(e.isInequality()){const l=A(i),f=e.field;if(null!==l&&!l.isEqual(f))throw new qn(wn.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${l.toString()}' and '${f.toString()}'`);const v=D(i);null!==v&&r_(0,f,v)}const t=function(l,f){for(const v of l)for(const S of v.getFlattenedFilters())if(f.indexOf(S.op)>=0)return S.op;return null}(i.filters,function(l){switch(l){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new qn(wn.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function r_(i,e,t){if(!t.isEqual(e))throw new qn(wn.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class Df{convertValue(e,t="none"){switch(Oc(e)){case 0:return null;case 1:return e.booleanValue;case 2:return qs(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(la(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Sr()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const l={};return ti(e,(f,v)=>{l[f]=this.convertValue(v,t)}),l}convertGeoPoint(e){return new Ah(qs(e.latitude),qs(e.longitude))}convertArray(e,t){return(e.values||[]).map(l=>this.convertValue(l,t))}convertServerTimestamp(e,t){switch(t){case"previous":const l=Xa(e);return null==l?null:this.convertValue(l,t);case"estimate":return this.convertTimestamp(El(e));default:return null}}convertTimestamp(e){const t=Rs(e);return new _o(t.seconds,t.nanos)}convertDocumentKey(e,t){const l=Ki.fromString(e);Zr(Bl(l));const f=new oc(l.get(1),l.get(3)),v=new _r(l.popFirst(5));return f.isEqual(t)||Mi(`Document ${v} contains a document reference within a different database (${f.projectId}/${f.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),v}}function tm(i,e,t){let l;return l=i?t&&(t.merge||t.mergeFields)?i.toFirestore(e,t):i.toFirestore(e):e,l}class a0 extends Df{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ec(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new qo(this.firestore,null,t)}}class Rh{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ic extends Mh{constructor(e,t,l,f,v,S){super(e,t,l,f,S),this._firestore=e,this._firestoreImpl=e,this.metadata=v}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new nl(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const l=this._document.data.field(Ph("DocumentSnapshot.get",e));if(null!==l)return this._userDataWriter.convertValue(l,t.serverTimestamps)}}}class nl extends Ic{data(e={}){return super.data(e)}}class Pd{constructor(e,t,l,f){this._firestore=e,this._userDataWriter=t,this._snapshot=f,this.metadata=new Rh(f.hasPendingWrites,f.fromCache),this.query=l}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(l=>{e.call(t,new nl(this._firestore,this._userDataWriter,l.key,l,new Rh(this._snapshot.mutatedKeys.has(l.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new qn(wn.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(l,f){if(l._snapshot.oldDocs.isEmpty()){let v=0;return l._snapshot.docChanges.map(S=>({type:"added",doc:new nl(l._firestore,l._userDataWriter,S.doc.key,S.doc,new Rh(l._snapshot.mutatedKeys.has(S.doc.key),l._snapshot.fromCache),l.query.converter),oldIndex:-1,newIndex:v++}))}{let v=l._snapshot.oldDocs;return l._snapshot.docChanges.filter(S=>f||3!==S.type).map(S=>{const Y=new nl(l._firestore,l._userDataWriter,S.doc.key,S.doc,new Rh(l._snapshot.mutatedKeys.has(S.doc.key),l._snapshot.fromCache),l.query.converter);let ae=-1,we=-1;return 0!==S.type&&(ae=v.indexOf(S.doc.key),v=v.delete(S.doc.key)),1!==S.type&&(v=v.add(S.doc),we=v.indexOf(S.doc.key)),{type:Ny(S.type),doc:Y,oldIndex:ae,newIndex:we}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function Ny(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Sr()}}function i_(i,e){return i instanceof Ic&&e instanceof Ic?i._firestore===e._firestore&&i._key.isEqual(e._key)&&(null===i._document?null===e._document:i._document.isEqual(e._document))&&i._converter===e._converter:i instanceof Pd&&e instanceof Pd&&i._firestore===e._firestore&&Ad(i.query,e.query)&&i.metadata.isEqual(e.metadata)&&i._snapshot.isEqual(e._snapshot)}function Rd(i){i=ds(i,qo);const e=ds(i.firestore,Zo);return by(ba(e),i._key).then(t=>nm(e,i,t))}class Xc extends Df{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ec(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new qo(this.firestore,null,t)}}function c0(i){i=ds(i,qo);const e=ds(i.firestore,Zo),t=ba(e),l=new Xc(e);return function G_(i,e){const t=new as;return i.asyncQueue.enqueueAndForget((0,h.Z)(function*(){return(l=(0,h.Z)(function*(f,v,S){try{const Y=yield function(ae,we){const He=Ln(ae);return He.persistence.runTransaction("read document","readonly",St=>He.localDocuments.getDocument(St,we))}(f,v);Y.isFoundDocument()?S.resolve(Y):Y.isNoDocument()?S.resolve(null):S.reject(new qn(wn.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(Y){const ae=ph(Y,`Failed to get document '${v} from cache`);S.reject(ae)}}),function(f,v,S){return l.apply(this,arguments)})(yield Hg(i),e,t);var l})),t.promise}(t,i._key).then(f=>new Ic(e,l,i._key,f,new Rh(null!==f&&f.hasLocalMutations,!0),i.converter))}function Fy(i){i=ds(i,qo);const e=ds(i.firestore,Zo);return by(ba(e),i._key,{source:"server"}).then(t=>nm(e,i,t))}function ub(i){i=ds(i,pa);const e=ds(i.firestore,Zo),t=ba(e),l=new Xc(e);return Mp(i._query),Sp(t,i._query).then(f=>new Pd(e,l,i,f))}function db(i){i=ds(i,pa);const e=ds(i.firestore,Zo),t=ba(e),l=new Xc(e);return function Bv(i,e){const t=new as;return i.asyncQueue.enqueueAndForget((0,h.Z)(function*(){return(l=(0,h.Z)(function*(f,v,S){try{const Y=yield ap(f,v,!0),ae=new xg(v,Y.ir),we=ae.sc(Y.documents),He=ae.applyChanges(we,!1);S.resolve(He.snapshot)}catch(Y){const ae=ph(Y,`Failed to execute query '${v} against cache`);S.reject(ae)}}),function(f,v,S){return l.apply(this,arguments)})(yield Hg(i),e,t);var l})),t.promise}(t,i._query).then(f=>new Pd(e,l,i,f))}function u0(i){i=ds(i,pa);const e=ds(i.firestore,Zo),t=ba(e),l=new Xc(e);return Sp(t,i._query,{source:"server"}).then(f=>new Pd(e,l,i,f))}function d0(i,e,t){i=ds(i,qo);const l=ds(i.firestore,Zo),f=tm(i.converter,e,t);return Sf(l,[Ef(xd(l),"setDoc",i._key,f,null!==i.converter,t).toMutation(i._key,ca.none())])}function s_(i,e,t,...l){i=ds(i,qo);const f=ds(i.firestore,Zo),v=xd(f);let S;return S="string"==typeof(e=(0,Ze.m9)(e))||e instanceof Ru?qg(v,"updateDoc",i._key,e,t,l):Ty(v,"updateDoc",i._key,e),Sf(f,[S.toMutation(i._key,ca.exists(!0))])}function h0(i){return Sf(ds(i.firestore,Zo),[new Yu(i._key,ca.none())])}function La(i,e){const t=ds(i.firestore,Zo),l=Sh(i),f=tm(i.converter,e);return Sf(t,[Ef(xd(i.firestore),"addDoc",l._key,f,null!==i.converter,{}).toMutation(l._key,ca.exists(!1))]).then(()=>l)}function f0(i,...e){var t,l,f;i=(0,Ze.m9)(i);let v={includeMetadataChanges:!1},S=0;"object"!=typeof e[S]||Gg(e[S])||(v=e[S],S++);const Y={includeMetadataChanges:v.includeMetadataChanges};if(Gg(e[S])){const St=e[S];e[S]=null===(t=St.next)||void 0===t?void 0:t.bind(St),e[S+1]=null===(l=St.error)||void 0===l?void 0:l.bind(St),e[S+2]=null===(f=St.complete)||void 0===f?void 0:f.bind(St)}let ae,we,He;if(i instanceof qo)we=ds(i.firestore,Zo),He=du(i._key.path),ae={next:St=>{e[S]&&e[S](nm(we,i,St))},error:e[S+1],complete:e[S+2]};else{const St=ds(i,pa);we=ds(St.firestore,Zo),He=St._query;const pn=new Xc(we);ae={next:Pn=>{e[S]&&e[S](new Pd(we,pn,St,Pn))},error:e[S+1],complete:e[S+2]},Mp(i._query)}return function(St,pn,Pn,fr){const $r=new Ip(fr),Xr=new Ag(pn,$r,Pn);return St.asyncQueue.enqueueAndForget((0,h.Z)(function*(){return gh(yield ja(St),Xr)})),()=>{$r.Dc(),St.asyncQueue.enqueueAndForget((0,h.Z)(function*(){return hf(yield ja(St),Xr)}))}}(ba(we),He,Y,ae)}function p0(i,e){return function tb(i,e){const t=new Ip(e);return i.asyncQueue.enqueueAndForget((0,h.Z)(function*(){return l=yield ja(i),f=t,Ln(l).ku.add(f),void f.next();var l,f})),()=>{t.Dc(),i.asyncQueue.enqueueAndForget((0,h.Z)(function*(){return l=yield ja(i),f=t,void Ln(l).ku.delete(f);var l,f}))}}(ba(i=ds(i,Zo)),Gg(e)?e:{next:e})}function Sf(i,e){return function(t,l){const f=new as;return t.asyncQueue.enqueueAndForget((0,h.Z)(function*(){return function B_(i,e,t){return yh.apply(this,arguments)}(yield qc(t),l,f)})),f.promise}(ba(i),e)}function nm(i,e,t){const l=t.docs.get(e._key),f=new Xc(i);return new Ic(i,f,e._key,l,new Rh(t.hasPendingWrites,t.fromCache),e.converter)}const _0={maxAttempts:5};class Cc{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=xd(e)}set(e,t,l){this._verifyNotCommitted();const f=za(e,this._firestore),v=tm(f.converter,t,l),S=Ef(this._dataReader,"WriteBatch.set",f._key,v,null!==f.converter,l);return this._mutations.push(S.toMutation(f._key,ca.none())),this}update(e,t,l,...f){this._verifyNotCommitted();const v=za(e,this._firestore);let S;return S="string"==typeof(t=(0,Ze.m9)(t))||t instanceof Ru?qg(this._dataReader,"WriteBatch.update",v._key,t,l,f):Ty(this._dataReader,"WriteBatch.update",v._key,t),this._mutations.push(S.toMutation(v._key,ca.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=za(e,this._firestore);return this._mutations=this._mutations.concat(new Yu(t._key,ca.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new qn(wn.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function za(i,e){if((i=(0,Ze.m9)(i)).firestore!==e)throw new qn(wn.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return i}class Dc extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=xd(e)}get(e){const t=za(e,this._firestore),l=new a0(this._firestore);return this._transaction.lookup([t._key]).then(f=>{if(!f||1!==f.length)return Sr();const v=f[0];if(v.isFoundDocument())return new Mh(this._firestore,l,v.key,v,t.converter);if(v.isNoDocument())return new Mh(this._firestore,l,t._key,null,t.converter);throw Sr()})}set(e,t,l){const f=za(e,this._firestore),v=tm(f.converter,t,l),S=Ef(this._dataReader,"Transaction.set",f._key,v,null!==f.converter,l);return this._transaction.set(f._key,S),this}update(e,t,l,...f){const v=za(e,this._firestore);let S;return S="string"==typeof(t=(0,Ze.m9)(t))||t instanceof Ru?qg(this._dataReader,"Transaction.update",v._key,t,l,f):Ty(this._dataReader,"Transaction.update",v._key,t),this._transaction.update(v._key,S),this}delete(e){const t=za(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=za(e,this._firestore),l=new Xc(this._firestore);return super.get(e).then(f=>new Ic(this._firestore,l,t._key,f._document,new Rh(!1,!1),t.converter))}}function c_(i,e,t){i=ds(i,Zo);const l=Object.assign(Object.assign({},_0),t);return function(f){if(f.maxAttempts<1)throw new qn(wn.INVALID_ARGUMENT,"Max attempts must be at least 1")}(l),function(f,v,S){const Y=new as;return f.asyncQueue.enqueueAndForget((0,h.Z)(function*(){const ae=yield function Ua(i){return Dp(i).then(e=>e.datastore)}(f);new Cp(f.asyncQueue,ae,S,v,Y).run()})),Y.promise}(ba(i),f=>e(new Dc(i,f)),l)}function b0(){return new Zc("deleteField")}function E0(){return new Yv("serverTimestamp")}function w0(...i){return new xp("arrayUnion",i)}function Od(...i){return new qv("arrayRemove",i)}function u_(i){return new Zv("increment",i)}!function(i,e=!0){xi=_.SDK_VERSION,(0,_._registerComponent)(new _e.wA("firestore",(t,{instanceIdentifier:l,options:f})=>{const v=t.getProvider("app").getImmediate(),S=new Zo(new rc(t.getProvider("auth-internal")),new Ld(t.getProvider("app-check-internal")),function(Y,ae){if(!Object.prototype.hasOwnProperty.apply(Y.options,["projectId"]))throw new qn(wn.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new oc(Y.options.projectId,ae)}(v,l),v);return f=Object.assign({useFetchStreams:e},f),S._setSettings(f),S},"PUBLIC").setMultipleInstances(!0)),(0,_.registerVersion)(Ni,"3.12.0",i),(0,_.registerVersion)(Ni,"3.12.0","esm2017")}()},2090:(Kn,Rt,H)=>{"use strict";H.d(Rt,{$s:()=>$n,BH:()=>Tt,DV:()=>an,Dv:()=>Kr,G6:()=>Je,GJ:()=>un,L:()=>Qe,LL:()=>nn,P0:()=>Mt,Pz:()=>It,Sg:()=>wt,UG:()=>Ht,UI:()=>Vr,US:()=>Ge,Wj:()=>br,Wl:()=>on,Yr:()=>mt,ZB:()=>rt,ZR:()=>Jt,aH:()=>dt,b$:()=>qt,cI:()=>Et,dS:()=>ui,eu:()=>ct,g5:()=>_e,gK:()=>fi,gQ:()=>pi,h$:()=>Pe,hl:()=>et,hu:()=>_,jU:()=>Ct,lb:()=>dr,m9:()=>Ir,ne:()=>Jn,p$:()=>Me,pd:()=>vi,q4:()=>kt,r3:()=>Yn,ru:()=>Nt,tV:()=>Le,uI:()=>nt,ug:()=>Er,vZ:()=>Ar,w1:()=>qe,w9:()=>lr,xO:()=>jr,xb:()=>Rr,z$:()=>vt,zI:()=>Ut,zd:()=>mr});const h={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},_=function(gt,Ae){if(!gt)throw _e(Ae)},_e=function(gt){return new Error("Firebase Database ("+h.SDK_VERSION+") INTERNAL ASSERT FAILED: "+gt)},Oe=function(gt){const Ae=[];let se=0;for(let te=0;te<gt.length;te++){let oe=gt.charCodeAt(te);oe<128?Ae[se++]=oe:oe<2048?(Ae[se++]=oe>>6|192,Ae[se++]=63&oe|128):55296==(64512&oe)&&te+1<gt.length&&56320==(64512&gt.charCodeAt(te+1))?(oe=65536+((1023&oe)<<10)+(1023&gt.charCodeAt(++te)),Ae[se++]=oe>>18|240,Ae[se++]=oe>>12&63|128,Ae[se++]=oe>>6&63|128,Ae[se++]=63&oe|128):(Ae[se++]=oe>>12|224,Ae[se++]=oe>>6&63|128,Ae[se++]=63&oe|128)}return Ae},Ge={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(gt,Ae){if(!Array.isArray(gt))throw Error("encodeByteArray takes an array as a parameter");this.init_();const se=Ae?this.byteToCharMapWebSafe_:this.byteToCharMap_,te=[];for(let oe=0;oe<gt.length;oe+=3){const Ke=gt[oe],At=oe+1<gt.length,tt=At?gt[oe+1]:0,$t=oe+2<gt.length,Zt=$t?gt[oe+2]:0;let jn=(15&tt)<<2|Zt>>6,rn=63&Zt;$t||(rn=64,At||(jn=64)),te.push(se[Ke>>2],se[(3&Ke)<<4|tt>>4],se[jn],se[rn])}return te.join("")},encodeString(gt,Ae){return this.HAS_NATIVE_SUPPORT&&!Ae?btoa(gt):this.encodeByteArray(Oe(gt),Ae)},decodeString(gt,Ae){return this.HAS_NATIVE_SUPPORT&&!Ae?atob(gt):function(gt){const Ae=[];let se=0,te=0;for(;se<gt.length;){const oe=gt[se++];if(oe<128)Ae[te++]=String.fromCharCode(oe);else if(oe>191&&oe<224){const Ke=gt[se++];Ae[te++]=String.fromCharCode((31&oe)<<6|63&Ke)}else if(oe>239&&oe<365){const $t=((7&oe)<<18|(63&gt[se++])<<12|(63&gt[se++])<<6|63&gt[se++])-65536;Ae[te++]=String.fromCharCode(55296+($t>>10)),Ae[te++]=String.fromCharCode(56320+(1023&$t))}else{const Ke=gt[se++],At=gt[se++];Ae[te++]=String.fromCharCode((15&oe)<<12|(63&Ke)<<6|63&At)}}return Ae.join("")}(this.decodeStringToByteArray(gt,Ae))},decodeStringToByteArray(gt,Ae){this.init_();const se=Ae?this.charToByteMapWebSafe_:this.charToByteMap_,te=[];for(let oe=0;oe<gt.length;){const Ke=se[gt.charAt(oe++)],tt=oe<gt.length?se[gt.charAt(oe)]:0;++oe;const Zt=oe<gt.length?se[gt.charAt(oe)]:64;++oe;const vn=oe<gt.length?se[gt.charAt(oe)]:64;if(++oe,null==Ke||null==tt||null==Zt||null==vn)throw new Se;te.push(Ke<<2|tt>>4),64!==Zt&&(te.push(tt<<4&240|Zt>>2),64!==vn&&te.push(Zt<<6&192|vn))}return te},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let gt=0;gt<this.ENCODED_VALS.length;gt++)this.byteToCharMap_[gt]=this.ENCODED_VALS.charAt(gt),this.charToByteMap_[this.byteToCharMap_[gt]]=gt,this.byteToCharMapWebSafe_[gt]=this.ENCODED_VALS_WEBSAFE.charAt(gt),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[gt]]=gt,gt>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(gt)]=gt,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(gt)]=gt)}}};class Se extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Pe=function(gt){const Ae=Oe(gt);return Ge.encodeByteArray(Ae,!0)},Qe=function(gt){return Pe(gt).replace(/\./g,"")},Le=function(gt){try{return Ge.decodeString(gt,!0)}catch(Ae){console.error("base64Decode failed: ",Ae)}return null};function Me(gt){return rt(void 0,gt)}function rt(gt,Ae){if(!(Ae instanceof Object))return Ae;switch(Ae.constructor){case Date:return new Date(Ae.getTime());case Object:void 0===gt&&(gt={});break;case Array:gt=[];break;default:return Ae}for(const se in Ae)!Ae.hasOwnProperty(se)||!xe(se)||(gt[se]=rt(gt[se],Ae[se]));return gt}function xe(gt){return"__proto__"!==gt}const $e=()=>{try{return function at(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const gt=process.env.__FIREBASE_DEFAULTS__;return gt?JSON.parse(gt):void 0})()||(()=>{if(typeof document>"u")return;let gt;try{gt=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const Ae=gt&&Le(gt[1]);return Ae&&JSON.parse(Ae)})()}catch(gt){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${gt}`)}},kt=gt=>{var Ae,se;return null===(se=null===(Ae=$e())||void 0===Ae?void 0:Ae.emulatorHosts)||void 0===se?void 0:se[gt]},Mt=gt=>{const Ae=kt(gt);if(!Ae)return;const se=Ae.lastIndexOf(":");if(se<=0||se+1===Ae.length)throw new Error(`Invalid host ${Ae} with no separate hostname and port!`);const te=parseInt(Ae.substring(se+1),10);return"["===Ae[0]?[Ae.substring(1,se-1),te]:[Ae.substring(0,se),te]},dt=()=>{var gt;return null===(gt=$e())||void 0===gt?void 0:gt.config},It=gt=>{var Ae;return null===(Ae=$e())||void 0===Ae?void 0:Ae[`_${gt}`]};class Tt{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((Ae,se)=>{this.resolve=Ae,this.reject=se})}wrapCallback(Ae){return(se,te)=>{se?this.reject(se):this.resolve(te),"function"==typeof Ae&&(this.promise.catch(()=>{}),1===Ae.length?Ae(se):Ae(se,te))}}}function wt(gt,Ae){if(gt.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const te=Ae||"demo-project",oe=gt.iat||0,Ke=gt.sub||gt.user_id;if(!Ke)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const At=Object.assign({iss:`https://securetoken.google.com/${te}`,aud:te,iat:oe,exp:oe+3600,auth_time:oe,sub:Ke,user_id:Ke,firebase:{sign_in_provider:"custom",identities:{}}},gt);return[Qe(JSON.stringify({alg:"none",type:"JWT"})),Qe(JSON.stringify(At)),""].join(".")}function vt(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function nt(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(vt())}function Ht(){var gt;const Ae=null===(gt=$e())||void 0===gt?void 0:gt.forceEnvironment;if("node"===Ae)return!0;if("browser"===Ae)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function Ct(){return"object"==typeof self&&self.self===self}function Nt(){const gt="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof gt&&void 0!==gt.id}function qt(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function qe(){const gt=vt();return gt.indexOf("MSIE ")>=0||gt.indexOf("Trident/")>=0}function mt(){return!0===h.NODE_CLIENT||!0===h.NODE_ADMIN}function Je(){return!Ht()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function et(){try{return"object"==typeof indexedDB}catch{return!1}}function ct(){return new Promise((gt,Ae)=>{try{let se=!0;const te="validate-browser-context-for-indexeddb-analytics-module",oe=self.indexedDB.open(te);oe.onsuccess=()=>{oe.result.close(),se||self.indexedDB.deleteDatabase(te),gt(!0)},oe.onupgradeneeded=()=>{se=!1},oe.onerror=()=>{var Ke;Ae((null===(Ke=oe.error)||void 0===Ke?void 0:Ke.message)||"")}}catch(se){Ae(se)}})}function Ut(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class Jt extends Error{constructor(Ae,se,te){super(se),this.code=Ae,this.customData=te,this.name="FirebaseError",Object.setPrototypeOf(this,Jt.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,nn.prototype.create)}}class nn{constructor(Ae,se,te){this.service=Ae,this.serviceName=se,this.errors=te}create(Ae,...se){const te=se[0]||{},oe=`${this.service}/${Ae}`,Ke=this.errors[Ae],At=Ke?function Nn(gt,Ae){return gt.replace(Qt,(se,te)=>{const oe=Ae[te];return null!=oe?String(oe):`<${te}?>`})}(Ke,te):"Error";return new Jt(oe,`${this.serviceName}: ${At} (${oe}).`,te)}}const Qt=/\{\$([^}]+)}/g;function Et(gt){return JSON.parse(gt)}function on(gt){return JSON.stringify(gt)}const yn=function(gt){let Ae={},se={},te={},oe="";try{const Ke=gt.split(".");Ae=Et(Le(Ke[0])||""),se=Et(Le(Ke[1])||""),oe=Ke[2],te=se.d||{},delete se.d}catch{}return{header:Ae,claims:se,data:te,signature:oe}},lr=function(gt){const se=yn(gt).claims;return!!se&&"object"==typeof se&&se.hasOwnProperty("iat")},un=function(gt){const Ae=yn(gt).claims;return"object"==typeof Ae&&!0===Ae.admin};function Yn(gt,Ae){return Object.prototype.hasOwnProperty.call(gt,Ae)}function an(gt,Ae){if(Object.prototype.hasOwnProperty.call(gt,Ae))return gt[Ae]}function Rr(gt){for(const Ae in gt)if(Object.prototype.hasOwnProperty.call(gt,Ae))return!1;return!0}function Vr(gt,Ae,se){const te={};for(const oe in gt)Object.prototype.hasOwnProperty.call(gt,oe)&&(te[oe]=Ae.call(se,gt[oe],oe,gt));return te}function Ar(gt,Ae){if(gt===Ae)return!0;const se=Object.keys(gt),te=Object.keys(Ae);for(const oe of se){if(!te.includes(oe))return!1;const Ke=gt[oe],At=Ae[oe];if(Mn(Ke)&&Mn(At)){if(!Ar(Ke,At))return!1}else if(Ke!==At)return!1}for(const oe of te)if(!se.includes(oe))return!1;return!0}function Mn(gt){return null!==gt&&"object"==typeof gt}function jr(gt){const Ae=[];for(const[se,te]of Object.entries(gt))Array.isArray(te)?te.forEach(oe=>{Ae.push(encodeURIComponent(se)+"="+encodeURIComponent(oe))}):Ae.push(encodeURIComponent(se)+"="+encodeURIComponent(te));return Ae.length?"&"+Ae.join("&"):""}function mr(gt){const Ae={};return gt.replace(/^\?/,"").split("&").forEach(te=>{if(te){const[oe,Ke]=te.split("=");Ae[decodeURIComponent(oe)]=decodeURIComponent(Ke)}}),Ae}function vi(gt){const Ae=gt.indexOf("?");if(!Ae)return"";const se=gt.indexOf("#",Ae);return gt.substring(Ae,se>0?se:void 0)}class pi{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let Ae=1;Ae<this.blockSize;++Ae)this.pad_[Ae]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(Ae,se){se||(se=0);const te=this.W_;if("string"==typeof Ae)for(let vn=0;vn<16;vn++)te[vn]=Ae.charCodeAt(se)<<24|Ae.charCodeAt(se+1)<<16|Ae.charCodeAt(se+2)<<8|Ae.charCodeAt(se+3),se+=4;else for(let vn=0;vn<16;vn++)te[vn]=Ae[se]<<24|Ae[se+1]<<16|Ae[se+2]<<8|Ae[se+3],se+=4;for(let vn=16;vn<80;vn++){const jn=te[vn-3]^te[vn-8]^te[vn-14]^te[vn-16];te[vn]=4294967295&(jn<<1|jn>>>31)}let Zt,In,oe=this.chain_[0],Ke=this.chain_[1],At=this.chain_[2],tt=this.chain_[3],$t=this.chain_[4];for(let vn=0;vn<80;vn++){vn<40?vn<20?(Zt=tt^Ke&(At^tt),In=1518500249):(Zt=Ke^At^tt,In=1859775393):vn<60?(Zt=Ke&At|tt&(Ke|At),In=2400959708):(Zt=Ke^At^tt,In=3395469782);const jn=(oe<<5|oe>>>27)+Zt+$t+In+te[vn]&4294967295;$t=tt,tt=At,At=4294967295&(Ke<<30|Ke>>>2),Ke=oe,oe=jn}this.chain_[0]=this.chain_[0]+oe&4294967295,this.chain_[1]=this.chain_[1]+Ke&4294967295,this.chain_[2]=this.chain_[2]+At&4294967295,this.chain_[3]=this.chain_[3]+tt&4294967295,this.chain_[4]=this.chain_[4]+$t&4294967295}update(Ae,se){if(null==Ae)return;void 0===se&&(se=Ae.length);const te=se-this.blockSize;let oe=0;const Ke=this.buf_;let At=this.inbuf_;for(;oe<se;){if(0===At)for(;oe<=te;)this.compress_(Ae,oe),oe+=this.blockSize;if("string"==typeof Ae){for(;oe<se;)if(Ke[At]=Ae.charCodeAt(oe),++At,++oe,At===this.blockSize){this.compress_(Ke),At=0;break}}else for(;oe<se;)if(Ke[At]=Ae[oe],++At,++oe,At===this.blockSize){this.compress_(Ke),At=0;break}}this.inbuf_=At,this.total_+=se}digest(){const Ae=[];let se=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let oe=this.blockSize-1;oe>=56;oe--)this.buf_[oe]=255&se,se/=256;this.compress_(this.buf_);let te=0;for(let oe=0;oe<5;oe++)for(let Ke=24;Ke>=0;Ke-=8)Ae[te]=this.chain_[oe]>>Ke&255,++te;return Ae}}function Jn(gt,Ae){const se=new Qn(gt,Ae);return se.subscribe.bind(se)}class Qn{constructor(Ae,se){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=se,this.task.then(()=>{Ae(this)}).catch(te=>{this.error(te)})}next(Ae){this.forEachObserver(se=>{se.next(Ae)})}error(Ae){this.forEachObserver(se=>{se.error(Ae)}),this.close(Ae)}complete(){this.forEachObserver(Ae=>{Ae.complete()}),this.close()}subscribe(Ae,se,te){let oe;if(void 0===Ae&&void 0===se&&void 0===te)throw new Error("Missing Observer.");oe=function ci(gt,Ae){if("object"!=typeof gt||null===gt)return!1;for(const se of Ae)if(se in gt&&"function"==typeof gt[se])return!0;return!1}(Ae,["next","error","complete"])?Ae:{next:Ae,error:se,complete:te},void 0===oe.next&&(oe.next=si),void 0===oe.error&&(oe.error=si),void 0===oe.complete&&(oe.complete=si);const Ke=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?oe.error(this.finalError):oe.complete()}catch{}}),this.observers.push(oe),Ke}unsubscribeOne(Ae){void 0===this.observers||void 0===this.observers[Ae]||(delete this.observers[Ae],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(Ae){if(!this.finalized)for(let se=0;se<this.observers.length;se++)this.sendOne(se,Ae)}sendOne(Ae,se){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[Ae])try{se(this.observers[Ae])}catch(te){typeof console<"u"&&console.error&&console.error(te)}})}close(Ae){this.finalized||(this.finalized=!0,void 0!==Ae&&(this.finalError=Ae),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function si(){}const Kr=function(gt,Ae,se,te){let oe;if(te<Ae?oe="at least "+Ae:te>se&&(oe=0===se?"none":"no more than "+se),oe)throw new Error(gt+" failed: Was called with "+te+(1===te?" argument.":" arguments.")+" Expects "+oe+".")};function fi(gt,Ae){return`${gt} failed: ${Ae} argument `}function br(gt,Ae,se,te){if((!te||se)&&"function"!=typeof se)throw new Error(fi(gt,Ae)+"must be a valid function.")}function dr(gt,Ae,se,te){if((!te||se)&&("object"!=typeof se||null===se))throw new Error(fi(gt,Ae)+"must be a valid context object.")}const ui=function(gt){const Ae=[];let se=0;for(let te=0;te<gt.length;te++){let oe=gt.charCodeAt(te);if(oe>=55296&&oe<=56319){const Ke=oe-55296;te++,_(te<gt.length,"Surrogate pair missing trail surrogate."),oe=65536+(Ke<<10)+(gt.charCodeAt(te)-56320)}oe<128?Ae[se++]=oe:oe<2048?(Ae[se++]=oe>>6|192,Ae[se++]=63&oe|128):oe<65536?(Ae[se++]=oe>>12|224,Ae[se++]=oe>>6&63|128,Ae[se++]=63&oe|128):(Ae[se++]=oe>>18|240,Ae[se++]=oe>>12&63|128,Ae[se++]=oe>>6&63|128,Ae[se++]=63&oe|128)}return Ae},Er=function(gt){let Ae=0;for(let se=0;se<gt.length;se++){const te=gt.charCodeAt(se);te<128?Ae++:te<2048?Ae+=2:te>=55296&&te<=56319?(Ae+=4,se++):Ae+=3}return Ae},ke=1e3,ut=2,jt=144e5,bn=.5;function $n(gt,Ae=ke,se=ut){const te=Ae*Math.pow(se,gt),oe=Math.round(bn*te*(Math.random()-.5)*2);return Math.min(jt,te+oe)}function Ir(gt){return gt&&gt._delegate?gt._delegate:gt}},8490:(Kn,Rt,H)=>{"use strict";H.d(Rt,{V1:()=>Le});var Me,h=H(8261),_=(Me=function(rt,xe){return(Me=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(at,pt){at.__proto__=pt}||function(at,pt){for(var Vt in pt)Object.prototype.hasOwnProperty.call(pt,Vt)&&(at[Vt]=pt[Vt])})(rt,xe)},function(rt,xe){function at(){this.constructor=rt}Me(rt,xe),rt.prototype=null===xe?Object.create(xe):(at.prototype=xe.prototype,new at)}),Qe=function(Me){function rt(){var xe=null!==Me&&Me.apply(this,arguments)||this;return xe.DestinationType={DATA_URL:0,FILE_URI:1,NATIVE_URI:2},xe.EncodingType={JPEG:0,PNG:1},xe.MediaType={PICTURE:0,VIDEO:1,ALLMEDIA:2},xe.PictureSourceType={PHOTOLIBRARY:0,CAMERA:1,SAVEDPHOTOALBUM:2},xe.PopoverArrowDirection={ARROW_UP:1,ARROW_DOWN:2,ARROW_LEFT:4,ARROW_RIGHT:8,ARROW_ANY:15},xe.Direction={BACK:0,FRONT:1},xe}return _(rt,Me),rt.prototype.getPicture=function(xe){return(0,h.DM)(this,"getPicture",{callbackOrder:"reverse"},arguments)},rt.prototype.cleanup=function(){return(0,h.DM)(this,"cleanup",{platforms:["iOS"]},arguments)},rt.pluginName="Camera",rt.plugin="cordova-plugin-camera",rt.pluginRef="navigator.camera",rt.repo="https://github.com/apache/cordova-plugin-camera",rt.platforms=["Android","Browser","iOS","Windows"],rt}(h.KY),Le=new Qe},8261:(Kn,Rt,H)=>{"use strict";H.d(Rt,{KY:()=>wt,DM:()=>vt,J2:()=>Nt,Iq:()=>qt});var _=H(9751),_e=H(4968),Oe={error:"cordova_not_available"},Ze={error:"plugin_not_installed"};function Ge(Te){if(typeof window<"u"&&window.angular){var lt=window.document,mt=window.angular.element(lt.querySelector("[ng-app]")||lt.body).injector();if(mt)return mt.get("$q")(function(et,ct){Te(et,ct)});console.warn("Angular 1 was detected but $q couldn't be retrieved. This is usually when the app is not bootstrapped on the html or body tag. Falling back to native promises which won't trigger an automatic digest when promises resolve.")}return function(){if(Promise)return new Promise(function(et,ct){Te(et,ct)});console.error("No Promise support or polyfill found. To enable Ionic Native support, please add the es6-promise polyfill before this script, or run with a library like Angular or on a recent browser.")}()}function Me(Te,qe,lt){var mt,Je,et;return"string"==typeof Te?mt=Te:(mt=Te.constructor.getPluginRef(),lt=Te.constructor.getPluginName(),et=Te.constructor.getPluginInstallName()),!(!(Je=Vt(mt))||qe&&typeof Je[qe]>"u")||(typeof window>"u"||!window.cordova?(function kt(Te,qe){typeof process>"u"&&console.warn(qe?"Native: tried calling "+Te+"."+qe+", but Cordova is not available. Make sure to include cordova.js or run in a device/simulator":"Native: tried accessing the "+Te+" plugin but Cordova is not available. Make sure to include cordova.js or run in a device/simulator")}(lt,qe),Oe):(function $e(Te,qe,lt){console.warn(lt?"Native: tried calling "+Te+"."+lt+", but the "+Te+" plugin is not installed.":"Native: tried accessing the "+Te+" plugin but it's not installed."),qe&&console.warn("Install the "+Te+" plugin: 'ionic cordova plugin add "+qe+"'")}(lt,et,qe),Ze))}function at(Te,qe,lt,mt,Je,et){void 0===mt&&(mt={}),lt=function xe(Te,qe,lt,mt){if(void 0===qe&&(qe={}),qe.sync)return Te;if("reverse"===qe.callbackOrder)Te.unshift(mt),Te.unshift(lt);else if("node"===qe.callbackStyle)Te.push(function(Ut,Pt){Ut?mt(Ut):lt(Pt)});else if("object"===qe.callbackStyle&&qe.successName&&qe.errorName){var Je={};Je[qe.successName]=lt,Je[qe.errorName]=mt,Te.push(Je)}else if(typeof qe.successIndex<"u"||typeof qe.errorIndex<"u"){var et=function(){qe.successIndex>Te.length?Te[qe.successIndex]=lt:Te.splice(qe.successIndex,0,lt)},ct=function(){qe.errorIndex>Te.length?Te[qe.errorIndex]=mt:Te.splice(qe.errorIndex,0,mt)};qe.successIndex>qe.errorIndex?(ct(),et()):(et(),ct())}else Te.push(lt),Te.push(mt);return Te}(lt,mt,Je,et);var ct=Me(Te,qe);if(!0===ct){var Ut=Vt(Te.constructor.getPluginRef());return Ut[qe].apply(Ut,lt)}return ct}function Vt(Te){return typeof window<"u"?We(window,Te):null}function We(Te,qe){for(var lt=qe.split("."),mt=Te,Je=0;Je<lt.length;Je++){if(!mt)return null;mt=mt[lt[Je]]}return mt}var Mt=function(Te,qe,lt){return void 0===lt&&(lt={}),function(){for(var mt=[],Je=0;Je<arguments.length;Je++)mt[Je]=arguments[Je];return lt.sync?at(Te,qe,mt,lt):lt.observable?function Qe(Te,qe,lt,mt){return void 0===mt&&(mt={}),new _.y(function(Je){var et;return et=mt.destruct?at(Te,qe,lt,mt,function(){for(var ct=[],Ut=0;Ut<arguments.length;Ut++)ct[Ut]=arguments[Ut];return Je.next(ct)},function(){for(var ct=[],Ut=0;Ut<arguments.length;Ut++)ct[Ut]=arguments[Ut];return Je.error(ct)}):at(Te,qe,lt,mt,Je.next.bind(Je),Je.error.bind(Je)),et&&et.error&&(Je.error(et.error),Je.complete()),function(){try{if(mt.clearFunction)return mt.clearWithArgs?at(Te,mt.clearFunction,lt,mt,Je.next.bind(Je),Je.error.bind(Je)):at(Te,mt.clearFunction,[])}catch(ct){console.warn("Unable to clear the previous observable watch for",Te.constructor.getPluginName(),qe),console.warn(ct)}}})}(Te,qe,mt,lt):lt.eventObservable&&lt.event?function Le(Te,qe){return qe=typeof window<"u"&&qe?We(window,qe):qe||(typeof window<"u"?window:{}),(0,_e.R)(qe,Te)}(lt.event,lt.element):lt.otherPromise?function Pe(Te,qe,lt,mt){return void 0===mt&&(mt={}),Ge(function(Je,et){var ct=at(Te,qe,lt,mt);ct?ct.error?et(ct.error):ct.then&&ct.then(Je).catch(et):et({error:"unexpected_error"})})}(Te,qe,mt,lt):function Se(Te,qe,lt,mt){void 0===mt&&(mt={});var Je,et,ct=Ge(function(Ut,Pt){Je=mt.destruct?at(Te,qe,lt,mt,function(){for(var Jt=[],nn=0;nn<arguments.length;nn++)Jt[nn]=arguments[nn];return Ut(Jt)},function(){for(var Jt=[],nn=0;nn<arguments.length;nn++)Jt[nn]=arguments[nn];return Pt(Jt)}):at(Te,qe,lt,mt,Ut,Pt),et=Pt});return Je&&Je.error&&(ct.catch(function(){}),"function"==typeof et&&et(Je.error)),ct}(Te,qe,mt,lt)}},wt=function(){function Te(){}return Te.installed=function(){return!0===Me(this.pluginRef)},Te.getPlugin=function(){return typeof window<"u"?function It(Te,qe){for(var lt=qe.split("."),mt=Te,Je=0;Je<lt.length;Je++){if(!mt)return null;mt=mt[lt[Je]]}return mt}(window,this.pluginRef):null},Te.getPluginName=function(){return this.pluginName},Te.getPluginRef=function(){return this.pluginRef},Te.getPluginInstallName=function(){return this.plugin},Te.getSupportedPlatforms=function(){return this.platforms},Te.pluginName="",Te.pluginRef="",Te.plugin="",Te.repo="",Te.platforms=[],Te.install="",Te}();function vt(Te,qe,lt,mt){return Mt(Te,qe,lt).apply(this,mt)}function Nt(Te,qe){return!0===Me(Te,qe)?Vt(Te.constructor.getPluginRef())[qe]:null}function qt(Te,qe,lt){!0===Me(Te,qe)&&(Vt(Te.constructor.getPluginRef())[qe]=lt)}!function h(){if(typeof process>"u"){var Te=typeof window<"u"?window:{},lt=Date.now(),mt=!1;Te.document.addEventListener("deviceready",function(){console.log("Ionic Native: deviceready event fired after "+(Date.now()-lt)+" ms"),mt=!0}),setTimeout(function(){!mt&&Te.cordova&&console.warn("Ionic Native: deviceready did not fire within 5000ms. This can happen when plugins are in an inconsistent state. Try removing plugins from plugins/ and reinstalling them.")},5e3)}}()},9613:(Kn,Rt,H)=>{"use strict";H.d(Rt,{c:()=>Vt});var h=H(3577),_=H(3457);let _e;const Ze=We=>We.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Ge=We=>(void 0===_e&&(_e=void 0===We.style.animationName&&void 0!==We.style.webkitAnimationName?"-webkit-":""),_e),Se=(We,$e,kt)=>{const Mt=$e.startsWith("animation")?Ge(We):"";We.style.setProperty(Mt+$e,kt)},Pe=(We,$e)=>{const kt=$e.startsWith("animation")?Ge(We):"";We.style.removeProperty(kt+$e)},Me=[],pt=(We=[],$e)=>{if(void 0!==$e){const kt=Array.isArray($e)?$e:[$e];return[...We,...kt]}return We},Vt=We=>{let $e,kt,Mt,dt,It,Tt,Ct,et,ct,Ut,Pt,Qt,Et,wt=[],vt=[],nt=[],Ht=!1,Nt={},qt=[],Te=[],qe={},lt=0,mt=!1,Je=!1,Jt=!0,nn=!1,Nn=!0,on=!1;const yn=We,Xn=[],ar=[],lr=[],un=[],Yn=[],an=[],Rr=[],Vr=[],Ar=[],Mn=[],ni="function"==typeof AnimationEffect||void 0!==_.w&&"function"==typeof _.w.AnimationEffect,jr="function"==typeof Element&&"function"==typeof Element.prototype.animate&&ni,vi=()=>Mn,ci=(Ee,re)=>((null!=re&&re.oneTimeCallback?ar:Xn).push({c:Ee,o:re}),Et),Kr=()=>{if(jr)Mn.forEach(Ee=>{Ee.cancel()}),Mn.length=0;else{const Ee=lr.slice();(0,h.r)(()=>{Ee.forEach(re=>{Pe(re,"animation-name"),Pe(re,"animation-duration"),Pe(re,"animation-timing-function"),Pe(re,"animation-iteration-count"),Pe(re,"animation-delay"),Pe(re,"animation-play-state"),Pe(re,"animation-fill-mode"),Pe(re,"animation-direction")})})}},fi=()=>{Yn.forEach(Ee=>{null!=Ee&&Ee.parentNode&&Ee.parentNode.removeChild(Ee)}),Yn.length=0},xr=()=>void 0!==It?It:Ct?Ct.getFill():"both",Ir=()=>void 0!==ct?ct:void 0!==Tt?Tt:Ct?Ct.getDirection():"normal",gt=()=>mt?"linear":void 0!==Mt?Mt:Ct?Ct.getEasing():"linear",Ae=()=>Je?0:void 0!==Ut?Ut:void 0!==kt?kt:Ct?Ct.getDuration():0,se=()=>void 0!==dt?dt:Ct?Ct.getIterations():1,te=()=>void 0!==Pt?Pt:void 0!==$e?$e:Ct?Ct.getDelay():0,hn=()=>{0!==lt&&(lt--,0===lt&&((()=>{Co(),Vr.forEach(bt=>bt()),Ar.forEach(bt=>bt());const Ee=Jt?1:0,re=qt,ye=Te,st=qe;lr.forEach(bt=>{const Lt=bt.classList;re.forEach(Xt=>Lt.add(Xt)),ye.forEach(Xt=>Lt.remove(Xt));for(const Xt in st)st.hasOwnProperty(Xt)&&Se(bt,Xt,st[Xt])}),Xn.forEach(bt=>bt.c(Ee,Et)),ar.forEach(bt=>bt.c(Ee,Et)),ar.length=0,Nn=!0,Jt&&(nn=!0),Jt=!0})(),Ct&&Ct.animationFinish()))},Gn=(Ee=!0)=>{fi();const re=(We=>(We.forEach($e=>{for(const kt in $e)if($e.hasOwnProperty(kt)){const Mt=$e[kt];if("easing"===kt)$e["animation-timing-function"]=Mt,delete $e[kt];else{const dt=Ze(kt);dt!==kt&&($e[dt]=Mt,delete $e[kt])}}}),We))(wt);lr.forEach(ye=>{if(re.length>0){const st=((We=[])=>We.map($e=>{const kt=$e.offset,Mt=[];for(const dt in $e)$e.hasOwnProperty(dt)&&"offset"!==dt&&Mt.push(`${dt}: ${$e[dt]};`);return`${100*kt}% { ${Mt.join(" ")} }`}).join(" "))(re);Qt=void 0!==We?We:(We=>{let $e=Me.indexOf(We);return $e<0&&($e=Me.push(We)-1),`ion-animation-${$e}`})(st);const bt=((We,$e,kt)=>{var Mt;const dt=(We=>{const $e=void 0!==We.getRootNode?We.getRootNode():We;return $e.head||$e})(kt),It=Ge(kt),Tt=dt.querySelector("#"+We);if(Tt)return Tt;const wt=(null!==(Mt=kt.ownerDocument)&&void 0!==Mt?Mt:document).createElement("style");return wt.id=We,wt.textContent=`@${It}keyframes ${We} { ${$e} } @${It}keyframes ${We}-alt { ${$e} }`,dt.appendChild(wt),wt})(Qt,st,ye);Yn.push(bt),Se(ye,"animation-duration",`${Ae()}ms`),Se(ye,"animation-timing-function",gt()),Se(ye,"animation-delay",`${te()}ms`),Se(ye,"animation-fill-mode",xr()),Se(ye,"animation-direction",Ir());const Lt=se()===1/0?"infinite":se().toString();Se(ye,"animation-iteration-count",Lt),Se(ye,"animation-play-state","paused"),Ee&&Se(ye,"animation-name",`${bt.id}-alt`),(0,h.r)(()=>{Se(ye,"animation-name",bt.id||null)})}})},Or=(Ee=!0)=>{(()=>{an.forEach(st=>st()),Rr.forEach(st=>st());const Ee=vt,re=nt,ye=Nt;lr.forEach(st=>{const bt=st.classList;Ee.forEach(Lt=>bt.add(Lt)),re.forEach(Lt=>bt.remove(Lt));for(const Lt in ye)ye.hasOwnProperty(Lt)&&Se(st,Lt,ye[Lt])})})(),wt.length>0&&(jr?(lr.forEach(Ee=>{const re=Ee.animate(wt,{id:yn,delay:te(),duration:Ae(),easing:gt(),iterations:se(),fill:xr(),direction:Ir()});re.pause(),Mn.push(re)}),Mn.length>0&&(Mn[0].onfinish=()=>{hn()})):Gn(Ee)),Ht=!0},Mr=Ee=>{if(Ee=Math.min(Math.max(Ee,0),.9999),jr)Mn.forEach(re=>{re.currentTime=re.effect.getComputedTiming().delay+Ae()*Ee,re.pause()});else{const re=`-${Ae()*Ee}ms`;lr.forEach(ye=>{wt.length>0&&(Se(ye,"animation-delay",re),Se(ye,"animation-play-state","paused"))})}},Si=Ee=>{Mn.forEach(re=>{re.effect.updateTiming({delay:te(),duration:Ae(),easing:gt(),iterations:se(),fill:xr(),direction:Ir()})}),void 0!==Ee&&Mr(Ee)},zr=(Ee=!0,re)=>{(0,h.r)(()=>{lr.forEach(ye=>{Se(ye,"animation-name",Qt||null),Se(ye,"animation-duration",`${Ae()}ms`),Se(ye,"animation-timing-function",gt()),Se(ye,"animation-delay",void 0!==re?`-${re*Ae()}ms`:`${te()}ms`),Se(ye,"animation-fill-mode",xr()||null),Se(ye,"animation-direction",Ir()||null);const st=se()===1/0?"infinite":se().toString();Se(ye,"animation-iteration-count",st),Ee&&Se(ye,"animation-name",`${Qt}-alt`),(0,h.r)(()=>{Se(ye,"animation-name",Qt||null)})})})},kr=(Ee=!1,re=!0,ye)=>(Ee&&un.forEach(st=>{st.update(Ee,re,ye)}),jr?Si(ye):zr(re,ye),Et),Xs=()=>{Ht&&(jr?Mn.forEach(Ee=>{Ee.pause()}):lr.forEach(Ee=>{Se(Ee,"animation-play-state","paused")}),on=!0)},zi=()=>{et=void 0,hn()},Co=()=>{et&&clearTimeout(et)},Vs=Ee=>new Promise(re=>{null!=Ee&&Ee.sync&&(Je=!0,ci(()=>Je=!1,{oneTimeCallback:!0})),Ht||Or(),nn&&(jr?(Mr(0),Si()):zr(),nn=!1),Nn&&(lt=un.length+1,Nn=!1),ci(()=>re(),{oneTimeCallback:!0}),un.forEach(ye=>{ye.play()}),jr?(Mn.forEach(Ee=>{Ee.play()}),(0===wt.length||0===lr.length)&&hn()):(()=>{if(Co(),(0,h.r)(()=>{lr.forEach(Ee=>{wt.length>0&&Se(Ee,"animation-play-state","running")})}),0===wt.length||0===lr.length)hn();else{const Ee=te()||0,re=Ae()||0,ye=se()||1;isFinite(ye)&&(et=setTimeout(zi,Ee+re*ye+100)),((We,$e)=>{let kt;const Mt={passive:!0},It=Tt=>{We===Tt.target&&(kt&&kt(),Co(),(0,h.r)(()=>{lr.forEach(Ee=>{Pe(Ee,"animation-duration"),Pe(Ee,"animation-delay"),Pe(Ee,"animation-play-state")}),(0,h.r)(hn)}))};We&&(We.addEventListener("webkitAnimationEnd",It,Mt),We.addEventListener("animationend",It,Mt),kt=()=>{We.removeEventListener("webkitAnimationEnd",It,Mt),We.removeEventListener("animationend",It,Mt)})})(lr[0])}})(),on=!1}),ie=(Ee,re)=>{const ye=wt[0];return void 0===ye||void 0!==ye.offset&&0!==ye.offset?wt=[{offset:0,[Ee]:re},...wt]:ye[Ee]=re,Et};return Et={parentAnimation:Ct,elements:lr,childAnimations:un,id:yn,animationFinish:hn,from:ie,to:(Ee,re)=>{const ye=wt[wt.length-1];return void 0===ye||void 0!==ye.offset&&1!==ye.offset?wt=[...wt,{offset:1,[Ee]:re}]:ye[Ee]=re,Et},fromTo:(Ee,re,ye)=>ie(Ee,re).to(Ee,ye),parent:Ee=>(Ct=Ee,Et),play:Vs,pause:()=>(un.forEach(Ee=>{Ee.pause()}),Xs(),Et),stop:()=>{un.forEach(Ee=>{Ee.stop()}),Ht&&(Kr(),Ht=!1),mt=!1,Je=!1,Nn=!0,ct=void 0,Ut=void 0,Pt=void 0,lt=0,nn=!1,Jt=!0,on=!1},destroy:Ee=>(un.forEach(re=>{re.destroy(Ee)}),(Ee=>{Kr(),Ee&&fi()})(Ee),lr.length=0,un.length=0,wt.length=0,Xn.length=0,ar.length=0,Ht=!1,Nn=!0,Et),keyframes:Ee=>{const re=wt!==Ee;return wt=Ee,re&&(Ee=>{jr?vi().forEach(re=>{if(re.effect.setKeyframes)re.effect.setKeyframes(Ee);else{const ye=new KeyframeEffect(re.effect.target,Ee,re.effect.getTiming());re.effect=ye}}):Gn()})(wt),Et},addAnimation:Ee=>{if(null!=Ee)if(Array.isArray(Ee))for(const re of Ee)re.parent(Et),un.push(re);else Ee.parent(Et),un.push(Ee);return Et},addElement:Ee=>{if(null!=Ee)if(1===Ee.nodeType)lr.push(Ee);else if(Ee.length>=0)for(let re=0;re<Ee.length;re++)lr.push(Ee[re]);else console.error("Invalid addElement value");return Et},update:kr,fill:Ee=>(It=Ee,kr(!0),Et),direction:Ee=>(Tt=Ee,kr(!0),Et),iterations:Ee=>(dt=Ee,kr(!0),Et),duration:Ee=>(!jr&&0===Ee&&(Ee=1),kt=Ee,kr(!0),Et),easing:Ee=>(Mt=Ee,kr(!0),Et),delay:Ee=>($e=Ee,kr(!0),Et),getWebAnimations:vi,getKeyframes:()=>wt,getFill:xr,getDirection:Ir,getDelay:te,getIterations:se,getEasing:gt,getDuration:Ae,afterAddRead:Ee=>(Vr.push(Ee),Et),afterAddWrite:Ee=>(Ar.push(Ee),Et),afterClearStyles:(Ee=[])=>{for(const re of Ee)qe[re]="";return Et},afterStyles:(Ee={})=>(qe=Ee,Et),afterRemoveClass:Ee=>(Te=pt(Te,Ee),Et),afterAddClass:Ee=>(qt=pt(qt,Ee),Et),beforeAddRead:Ee=>(an.push(Ee),Et),beforeAddWrite:Ee=>(Rr.push(Ee),Et),beforeClearStyles:(Ee=[])=>{for(const re of Ee)Nt[re]="";return Et},beforeStyles:(Ee={})=>(Nt=Ee,Et),beforeRemoveClass:Ee=>(nt=pt(nt,Ee),Et),beforeAddClass:Ee=>(vt=pt(vt,Ee),Et),onFinish:ci,isRunning:()=>0!==lt&&!on,progressStart:(Ee=!1,re)=>(un.forEach(ye=>{ye.progressStart(Ee,re)}),Xs(),mt=Ee,Ht||Or(),kr(!1,!0,re),Et),progressStep:Ee=>(un.forEach(re=>{re.progressStep(Ee)}),Mr(Ee),Et),progressEnd:(Ee,re,ye)=>(mt=!1,un.forEach(st=>{st.progressEnd(Ee,re,ye)}),void 0!==ye&&(Ut=ye),nn=!1,Jt=!0,0===Ee?(ct="reverse"===Ir()?"normal":"reverse","reverse"===ct&&(Jt=!1),jr?(kr(),Mr(1-re)):(Pt=(1-re)*Ae()*-1,kr(!1,!1))):1===Ee&&(jr?(kr(),Mr(re)):(Pt=re*Ae()*-1,kr(!1,!1))),void 0!==Ee&&(ci(()=>{Ut=void 0,ct=void 0,Pt=void 0},{oneTimeCallback:!0}),Ct||Vs()),Et)}}},3982:(Kn,Rt,H)=>{"use strict";H.d(Rt,{E:()=>Le,a:()=>h,s:()=>Pe});const h=Me=>{try{if(Me instanceof Se)return Me.value;if(!Oe()||"string"!=typeof Me||""===Me)return Me;if(Me.includes("onload="))return"";const rt=document.createDocumentFragment(),xe=document.createElement("div");rt.appendChild(xe),xe.innerHTML=Me,Ge.forEach(We=>{const $e=rt.querySelectorAll(We);for(let kt=$e.length-1;kt>=0;kt--){const Mt=$e[kt];Mt.parentNode?Mt.parentNode.removeChild(Mt):rt.removeChild(Mt);const dt=_e(Mt);for(let It=0;It<dt.length;It++)_(dt[It])}});const at=_e(rt);for(let We=0;We<at.length;We++)_(at[We]);const pt=document.createElement("div");pt.appendChild(rt);const Vt=pt.querySelector("div");return null!==Vt?Vt.innerHTML:pt.innerHTML}catch(rt){return console.error(rt),""}},_=Me=>{if(Me.nodeType&&1!==Me.nodeType)return;if(typeof NamedNodeMap<"u"&&!(Me.attributes instanceof NamedNodeMap))return void Me.remove();for(let xe=Me.attributes.length-1;xe>=0;xe--){const at=Me.attributes.item(xe),pt=at.name;if(!Ze.includes(pt.toLowerCase())){Me.removeAttribute(pt);continue}const Vt=at.value,We=Me[pt];(null!=Vt&&Vt.toLowerCase().includes("javascript:")||null!=We&&We.toLowerCase().includes("javascript:"))&&Me.removeAttribute(pt)}const rt=_e(Me);for(let xe=0;xe<rt.length;xe++)_(rt[xe])},_e=Me=>null!=Me.children?Me.children:Me.childNodes,Oe=()=>{var Me;const rt=window,xe=null===(Me=null==rt?void 0:rt.Ionic)||void 0===Me?void 0:Me.config;return!xe||(xe.get?xe.get("sanitizerEnabled",!0):!0===xe.sanitizerEnabled||void 0===xe.sanitizerEnabled)},Ze=["class","id","href","src","name","slot"],Ge=["script","style","iframe","meta","link","object","embed"];class Se{constructor(rt){this.value=rt}}const Pe=Me=>{const rt=window,xe=rt.Ionic;if(!xe||!xe.config||"Object"===xe.config.constructor.name)return rt.Ionic=rt.Ionic||{},rt.Ionic.config=Object.assign(Object.assign({},rt.Ionic.config),Me),rt.Ionic.config},Le=!1},6782:(Kn,Rt,H)=>{"use strict";H.d(Rt,{C:()=>Ze,a:()=>_e,d:()=>Oe});var h=H(5861),_=H(3577);const _e=function(){var Ge=(0,h.Z)(function*(Se,Pe,Qe,Le,Me,rt){var xe;if(Se)return Se.attachViewToDom(Pe,Qe,Me,Le);if(!(rt||"string"==typeof Qe||Qe instanceof HTMLElement))throw new Error("framework delegate is missing");const at="string"==typeof Qe?null===(xe=Pe.ownerDocument)||void 0===xe?void 0:xe.createElement(Qe):Qe;return Le&&Le.forEach(pt=>at.classList.add(pt)),Me&&Object.assign(at,Me),Pe.appendChild(at),yield new Promise(pt=>(0,_.c)(at,pt)),at});return function(Pe,Qe,Le,Me,rt,xe){return Ge.apply(this,arguments)}}(),Oe=(Ge,Se)=>{if(Se){if(Ge)return Ge.removeViewFromDom(Se.parentElement,Se);Se.remove()}return Promise.resolve()},Ze=()=>{let Ge,Se;return{attachViewToDom:function(){var Le=(0,h.Z)(function*(Me,rt,xe={},at=[]){var pt,Vt;if(Ge=Me,rt){const $e="string"==typeof rt?null===(pt=Ge.ownerDocument)||void 0===pt?void 0:pt.createElement(rt):rt;at.forEach(kt=>$e.classList.add(kt)),Object.assign($e,xe),Ge.appendChild($e),yield new Promise(kt=>(0,_.c)($e,kt))}else if(Ge.children.length>0&&("ION-MODAL"===Ge.tagName||"ION-POPOVER"===Ge.tagName)&&!Ge.children[0].classList.contains("ion-delegate-host")){const kt=null===(Vt=Ge.ownerDocument)||void 0===Vt?void 0:Vt.createElement("div");kt.classList.add("ion-delegate-host"),at.forEach(Mt=>kt.classList.add(Mt)),kt.append(...Ge.children),Ge.appendChild(kt)}const We=document.querySelector("ion-app")||document.body;return Se=document.createComment("ionic teleport"),Ge.parentNode.insertBefore(Se,Ge),We.appendChild(Ge),Ge});return function(rt,xe){return Le.apply(this,arguments)}}(),removeViewFromDom:()=>(Ge&&Se&&(Se.parentNode.insertBefore(Ge,Se),Se.remove()),Promise.resolve())}}},4349:(Kn,Rt,H)=>{"use strict";H.d(Rt,{G:()=>Ze});class _{constructor(Se,Pe,Qe,Le,Me){this.id=Pe,this.name=Qe,this.disableScroll=Me,this.priority=1e6*Le+Pe,this.ctrl=Se}canStart(){return!!this.ctrl&&this.ctrl.canStart(this.name)}start(){return!!this.ctrl&&this.ctrl.start(this.name,this.id,this.priority)}capture(){if(!this.ctrl)return!1;const Se=this.ctrl.capture(this.name,this.id,this.priority);return Se&&this.disableScroll&&this.ctrl.disableScroll(this.id),Se}release(){this.ctrl&&(this.ctrl.release(this.id),this.disableScroll&&this.ctrl.enableScroll(this.id))}destroy(){this.release(),this.ctrl=void 0}}class _e{constructor(Se,Pe,Qe,Le){this.id=Pe,this.disable=Qe,this.disableScroll=Le,this.ctrl=Se}block(){if(this.ctrl){if(this.disable)for(const Se of this.disable)this.ctrl.disableGesture(Se,this.id);this.disableScroll&&this.ctrl.disableScroll(this.id)}}unblock(){if(this.ctrl){if(this.disable)for(const Se of this.disable)this.ctrl.enableGesture(Se,this.id);this.disableScroll&&this.ctrl.enableScroll(this.id)}}destroy(){this.unblock(),this.ctrl=void 0}}const Oe="backdrop-no-scroll",Ze=new class h{constructor(){this.gestureId=0,this.requestedStart=new Map,this.disabledGestures=new Map,this.disabledScroll=new Set}createGesture(Se){var Pe;return new _(this,this.newID(),Se.name,null!==(Pe=Se.priority)&&void 0!==Pe?Pe:0,!!Se.disableScroll)}createBlocker(Se={}){return new _e(this,this.newID(),Se.disable,!!Se.disableScroll)}start(Se,Pe,Qe){return this.canStart(Se)?(this.requestedStart.set(Pe,Qe),!0):(this.requestedStart.delete(Pe),!1)}capture(Se,Pe,Qe){if(!this.start(Se,Pe,Qe))return!1;const Le=this.requestedStart;let Me=-1e4;if(Le.forEach(rt=>{Me=Math.max(Me,rt)}),Me===Qe){this.capturedId=Pe,Le.clear();const rt=new CustomEvent("ionGestureCaptured",{detail:{gestureName:Se}});return document.dispatchEvent(rt),!0}return Le.delete(Pe),!1}release(Se){this.requestedStart.delete(Se),this.capturedId===Se&&(this.capturedId=void 0)}disableGesture(Se,Pe){let Qe=this.disabledGestures.get(Se);void 0===Qe&&(Qe=new Set,this.disabledGestures.set(Se,Qe)),Qe.add(Pe)}enableGesture(Se,Pe){const Qe=this.disabledGestures.get(Se);void 0!==Qe&&Qe.delete(Pe)}disableScroll(Se){this.disabledScroll.add(Se),1===this.disabledScroll.size&&document.body.classList.add(Oe)}enableScroll(Se){this.disabledScroll.delete(Se),0===this.disabledScroll.size&&document.body.classList.remove(Oe)}canStart(Se){return!(void 0!==this.capturedId||this.isDisabled(Se))}isCaptured(){return void 0!==this.capturedId}isScrollDisabled(){return this.disabledScroll.size>0}isDisabled(Se){const Pe=this.disabledGestures.get(Se);return!!(Pe&&Pe.size>0)}newID(){return this.gestureId++,this.gestureId}}},7593:(Kn,Rt,H)=>{"use strict";H.r(Rt),H.d(Rt,{MENU_BACK_BUTTON_PRIORITY:()=>Ze,OVERLAY_BACK_BUTTON_PRIORITY:()=>Oe,blockHardwareBackButton:()=>_,startHardwareBackButton:()=>_e});var h=H(5861);const _=()=>{document.addEventListener("backbutton",()=>{})},_e=()=>{const Ge=document;let Se=!1;Ge.addEventListener("backbutton",()=>{if(Se)return;let Pe=0,Qe=[];const Le=new CustomEvent("ionBackButton",{bubbles:!1,detail:{register(xe,at){Qe.push({priority:xe,handler:at,id:Pe++})}}});Ge.dispatchEvent(Le);const Me=function(){var xe=(0,h.Z)(function*(at){try{if(null!=at&&at.handler){const pt=at.handler(rt);null!=pt&&(yield pt)}}catch(pt){console.error(pt)}});return function(pt){return xe.apply(this,arguments)}}(),rt=()=>{if(Qe.length>0){let xe={priority:Number.MIN_SAFE_INTEGER,handler:()=>{},id:-1};Qe.forEach(at=>{at.priority>=xe.priority&&(xe=at)}),Se=!0,Qe=Qe.filter(at=>at.id!==xe.id),Me(xe).then(()=>Se=!1)}};rt()})},Oe=100,Ze=99},3577:(Kn,Rt,H)=>{"use strict";H.d(Rt,{a:()=>Pe,b:()=>Qe,c:()=>_e,d:()=>Vt,e:()=>pt,f:()=>at,g:()=>Le,h:()=>xe,i:()=>Se,j:()=>It,k:()=>Ze,l:()=>We,m:()=>Oe,n:()=>rt,o:()=>$e,p:()=>Mt,q:()=>dt,r:()=>Me,s:()=>wt,t:()=>h,u:()=>Tt,v:()=>kt});const h=(vt,nt=0)=>new Promise(Ht=>{_(vt,nt,Ht)}),_=(vt,nt=0,Ht)=>{let Ct,Nt;const qt={passive:!0},qe=()=>{Ct&&Ct()},lt=mt=>{(void 0===mt||vt===mt.target)&&(qe(),Ht(mt))};return vt&&(vt.addEventListener("webkitTransitionEnd",lt,qt),vt.addEventListener("transitionend",lt,qt),Nt=setTimeout(lt,nt+500),Ct=()=>{Nt&&(clearTimeout(Nt),Nt=void 0),vt.removeEventListener("webkitTransitionEnd",lt,qt),vt.removeEventListener("transitionend",lt,qt)}),qe},_e=(vt,nt)=>{vt.componentOnReady?vt.componentOnReady().then(Ht=>nt(Ht)):Me(()=>nt(vt))},Oe=vt=>void 0!==vt.componentOnReady,Ze=(vt,nt=[])=>{const Ht={};return nt.forEach(Ct=>{vt.hasAttribute(Ct)&&(null!==vt.getAttribute(Ct)&&(Ht[Ct]=vt.getAttribute(Ct)),vt.removeAttribute(Ct))}),Ht},Ge=["role","aria-activedescendant","aria-atomic","aria-autocomplete","aria-braillelabel","aria-brailleroledescription","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colindextext","aria-colspan","aria-controls","aria-current","aria-describedby","aria-description","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowindextext","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext"],Se=(vt,nt)=>{let Ht=Ge;return nt&&nt.length>0&&(Ht=Ht.filter(Ct=>!nt.includes(Ct))),Ze(vt,Ht)},Pe=(vt,nt,Ht,Ct)=>{var Nt;if(typeof window<"u"){const qt=window,Te=null===(Nt=null==qt?void 0:qt.Ionic)||void 0===Nt?void 0:Nt.config;if(Te){const qe=Te.get("_ael");if(qe)return qe(vt,nt,Ht,Ct);if(Te._ael)return Te._ael(vt,nt,Ht,Ct)}}return vt.addEventListener(nt,Ht,Ct)},Qe=(vt,nt,Ht,Ct)=>{var Nt;if(typeof window<"u"){const qt=window,Te=null===(Nt=null==qt?void 0:qt.Ionic)||void 0===Nt?void 0:Nt.config;if(Te){const qe=Te.get("_rel");if(qe)return qe(vt,nt,Ht,Ct);if(Te._rel)return Te._rel(vt,nt,Ht,Ct)}}return vt.removeEventListener(nt,Ht,Ct)},Le=(vt,nt=vt)=>vt.shadowRoot||nt,Me=vt=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(vt):"function"==typeof requestAnimationFrame?requestAnimationFrame(vt):setTimeout(vt),rt=vt=>!!vt.shadowRoot&&!!vt.attachShadow,xe=vt=>{const nt=vt.closest("ion-item");return nt?nt.querySelector("ion-label"):null},at=vt=>{if(vt.focus(),vt.classList.contains("ion-focusable")){const nt=vt.closest("ion-app");nt&&nt.setFocus([vt])}},pt=(vt,nt)=>{let Ht;const Ct=vt.getAttribute("aria-labelledby"),Nt=vt.id;let qt=null!==Ct&&""!==Ct.trim()?Ct:nt+"-lbl",Te=null!==Ct&&""!==Ct.trim()?document.getElementById(Ct):xe(vt);return Te?(null===Ct&&(Te.id=qt),Ht=Te.textContent,Te.setAttribute("aria-hidden","true")):""!==Nt.trim()&&(Te=document.querySelector(`label[for="${Nt}"]`),Te&&(""!==Te.id?qt=Te.id:Te.id=qt=`${Nt}-lbl`,Ht=Te.textContent)),{label:Te,labelId:qt,labelText:Ht}},Vt=(vt,nt,Ht,Ct,Nt)=>{if(vt||rt(nt)){let qt=nt.querySelector("input.aux-input");qt||(qt=nt.ownerDocument.createElement("input"),qt.type="hidden",qt.classList.add("aux-input"),nt.appendChild(qt)),qt.disabled=Nt,qt.name=Ht,qt.value=Ct||""}},We=(vt,nt,Ht)=>Math.max(vt,Math.min(nt,Ht)),$e=(vt,nt)=>{if(!vt){const Ht="ASSERT: "+nt;throw console.error(Ht),new Error(Ht)}},kt=vt=>vt.timeStamp||Date.now(),Mt=vt=>{if(vt){const nt=vt.changedTouches;if(nt&&nt.length>0){const Ht=nt[0];return{x:Ht.clientX,y:Ht.clientY}}if(void 0!==vt.pageX)return{x:vt.pageX,y:vt.pageY}}return{x:0,y:0}},dt=vt=>{const nt="rtl"===document.dir;switch(vt){case"start":return nt;case"end":return!nt;default:throw new Error(`"${vt}" is not a valid value for [side]. Use "start" or "end" instead.`)}},It=(vt,nt)=>{const Ht=vt._original||vt;return{_original:vt,emit:Tt(Ht.emit.bind(Ht),nt)}},Tt=(vt,nt=0)=>{let Ht;return(...Ct)=>{clearTimeout(Ht),Ht=setTimeout(vt,nt,...Ct)}},wt=(vt,nt)=>{if(null!=vt||(vt={}),null!=nt||(nt={}),vt===nt)return!0;const Ht=Object.keys(vt);if(Ht.length!==Object.keys(nt).length)return!1;for(const Ct of Ht)if(!(Ct in nt)||vt[Ct]!==nt[Ct])return!1;return!0}},3457:(Kn,Rt,H)=>{"use strict";H.d(Rt,{w:()=>h});const h=typeof window<"u"?window:void 0},1898:(Kn,Rt,H)=>{"use strict";H.r(Rt),H.d(Rt,{GESTURE_CONTROLLER:()=>h.G,createGesture:()=>Qe});var h=H(4349);const _=(xe,at,pt,Vt)=>{const We=_e(xe)?{capture:!!Vt.capture,passive:!!Vt.passive}:!!Vt.capture;let $e,kt;return xe.__zone_symbol__addEventListener?($e="__zone_symbol__addEventListener",kt="__zone_symbol__removeEventListener"):($e="addEventListener",kt="removeEventListener"),xe[$e](at,pt,We),()=>{xe[kt](at,pt,We)}},_e=xe=>{if(void 0===Oe)try{const at=Object.defineProperty({},"passive",{get:()=>{Oe=!0}});xe.addEventListener("optsTest",()=>{},at)}catch{Oe=!1}return!!Oe};let Oe;const Se=xe=>xe instanceof Document?xe:xe.ownerDocument,Qe=xe=>{let at=!1,pt=!1,Vt=!0,We=!1;const $e=Object.assign({disableScroll:!1,direction:"x",gesturePriority:0,passive:!0,maxAngle:40,threshold:10},xe),kt=$e.canStart,Mt=$e.onWillStart,dt=$e.onStart,It=$e.onEnd,Tt=$e.notCaptured,wt=$e.onMove,vt=$e.threshold,nt=$e.passive,Ht=$e.blurOnStart,Ct={type:"pan",startX:0,startY:0,startTime:0,currentX:0,currentY:0,velocityX:0,velocityY:0,deltaX:0,deltaY:0,currentTime:0,event:void 0,data:void 0},Nt=((xe,at,pt)=>{const Vt=pt*(Math.PI/180),We="x"===xe,$e=Math.cos(Vt),kt=at*at;let Mt=0,dt=0,It=!1,Tt=0;return{start(wt,vt){Mt=wt,dt=vt,Tt=0,It=!0},detect(wt,vt){if(!It)return!1;const nt=wt-Mt,Ht=vt-dt,Ct=nt*nt+Ht*Ht;if(Ct<kt)return!1;const Nt=Math.sqrt(Ct),qt=(We?nt:Ht)/Nt;return Tt=qt>$e?1:qt<-$e?-1:0,It=!1,!0},isGesture:()=>0!==Tt,getDirection:()=>Tt}})($e.direction,$e.threshold,$e.maxAngle),qt=h.G.createGesture({name:xe.gestureName,priority:xe.gesturePriority,disableScroll:xe.disableScroll}),lt=()=>{at&&(We=!1,wt&&wt(Ct))},mt=()=>!!qt.capture()&&(at=!0,Vt=!1,Ct.startX=Ct.currentX,Ct.startY=Ct.currentY,Ct.startTime=Ct.currentTime,Mt?Mt(Ct).then(et):et(),!0),et=()=>{Ht&&(()=>{if(typeof document<"u"){const nn=document.activeElement;null!=nn&&nn.blur&&nn.blur()}})(),dt&&dt(Ct),Vt=!0},ct=()=>{at=!1,pt=!1,We=!1,Vt=!0,qt.release()},Ut=nn=>{const Nn=at,Qt=Vt;if(ct(),Qt){if(Le(Ct,nn),Nn)return void(It&&It(Ct));Tt&&Tt(Ct)}},Pt=((xe,at,pt,Vt,We)=>{let $e,kt,Mt,dt,It,Tt,wt,vt=0;const nt=Je=>{vt=Date.now()+2e3,at(Je)&&(!kt&&pt&&(kt=_(xe,"touchmove",pt,We)),Mt||(Mt=_(Je.target,"touchend",Ct,We)),dt||(dt=_(Je.target,"touchcancel",Ct,We)))},Ht=Je=>{vt>Date.now()||at(Je)&&(!Tt&&pt&&(Tt=_(Se(xe),"mousemove",pt,We)),wt||(wt=_(Se(xe),"mouseup",Nt,We)))},Ct=Je=>{qt(),Vt&&Vt(Je)},Nt=Je=>{Te(),Vt&&Vt(Je)},qt=()=>{kt&&kt(),Mt&&Mt(),dt&&dt(),kt=Mt=dt=void 0},Te=()=>{Tt&&Tt(),wt&&wt(),Tt=wt=void 0},qe=()=>{qt(),Te()},lt=(Je=!0)=>{Je?($e||($e=_(xe,"touchstart",nt,We)),It||(It=_(xe,"mousedown",Ht,We))):($e&&$e(),It&&It(),$e=It=void 0,qe())};return{enable:lt,stop:qe,destroy:()=>{lt(!1),Vt=pt=at=void 0}}})($e.el,nn=>{const Nn=rt(nn);return!(pt||!Vt||(Me(nn,Ct),Ct.startX=Ct.currentX,Ct.startY=Ct.currentY,Ct.startTime=Ct.currentTime=Nn,Ct.velocityX=Ct.velocityY=Ct.deltaX=Ct.deltaY=0,Ct.event=nn,kt&&!1===kt(Ct))||(qt.release(),!qt.start()))&&(pt=!0,0===vt?mt():(Nt.start(Ct.startX,Ct.startY),!0))},nn=>{at?!We&&Vt&&(We=!0,Le(Ct,nn),requestAnimationFrame(lt)):(Le(Ct,nn),Nt.detect(Ct.currentX,Ct.currentY)&&(!Nt.isGesture()||!mt())&&Jt())},Ut,{capture:!1,passive:nt}),Jt=()=>{ct(),Pt.stop(),Tt&&Tt(Ct)};return{enable(nn=!0){nn||(at&&Ut(void 0),ct()),Pt.enable(nn)},destroy(){qt.destroy(),Pt.destroy()}}},Le=(xe,at)=>{if(!at)return;const pt=xe.currentX,Vt=xe.currentY,We=xe.currentTime;Me(at,xe);const $e=xe.currentX,kt=xe.currentY,dt=(xe.currentTime=rt(at))-We;if(dt>0&&dt<100){const Tt=(kt-Vt)/dt;xe.velocityX=($e-pt)/dt*.7+.3*xe.velocityX,xe.velocityY=.7*Tt+.3*xe.velocityY}xe.deltaX=$e-xe.startX,xe.deltaY=kt-xe.startY,xe.event=at},Me=(xe,at)=>{let pt=0,Vt=0;if(xe){const We=xe.changedTouches;if(We&&We.length>0){const $e=We[0];pt=$e.clientX,Vt=$e.clientY}else void 0!==xe.pageX&&(pt=xe.pageX,Vt=xe.pageY)}at.currentX=pt,at.currentY=Vt},rt=xe=>xe.timeStamp||Date.now()},4083:(Kn,Rt,H)=>{"use strict";H.d(Rt,{B:()=>Me,H:()=>qe,a:()=>Wi,b:()=>$t,c:()=>nn,d:()=>on,e:()=>Vs,f:()=>Et,g:()=>Nn,h:()=>qt,i:()=>$n,j:()=>rt,p:()=>Xs,r:()=>Ft,w:()=>Us});var h=H(5861);let _e,Oe,Ze,Ge=!1,Se=!1,Pe=!1,Qe=!1,Le=!1;const Me={isDev:!1,isBrowser:!0,isServer:!1,isTesting:!1},rt=ie=>{const fe=new URL(ie,Hr.$resourcesUrl$);return fe.origin!==zr.location.origin?fe.href:fe.pathname},kt="s-id",Mt="sty-id",Tt="http://www.w3.org/1999/xlink",wt={},Ct=ie=>"object"==(ie=typeof ie)||"function"===ie;function Nt(ie){var fe,Re,Ee;return null!==(Ee=null===(Re=null===(fe=ie.head)||void 0===fe?void 0:fe.querySelector('meta[name="csp-nonce"]'))||void 0===Re?void 0:Re.getAttribute("content"))&&void 0!==Ee?Ee:void 0}const qt=(ie,fe,...Re)=>{let Ee=null,re=null,ye=null,st=!1,bt=!1;const Lt=[],Xt=Vn=>{for(let wr=0;wr<Vn.length;wr++)Ee=Vn[wr],Array.isArray(Ee)?Xt(Ee):null!=Ee&&"boolean"!=typeof Ee&&((st="function"!=typeof ie&&!Ct(Ee))&&(Ee=String(Ee)),st&&bt?Lt[Lt.length-1].$text$+=Ee:Lt.push(st?Te(null,Ee):Ee),bt=st)};if(Xt(Re),fe){fe.key&&(re=fe.key),fe.name&&(ye=fe.name);{const Vn=fe.className||fe.class;Vn&&(fe.class="object"!=typeof Vn?Vn:Object.keys(Vn).filter(wr=>Vn[wr]).join(" "))}}if("function"==typeof ie)return ie(null===fe?{}:fe,Lt,mt);const zn=Te(ie,null);return zn.$attrs$=fe,Lt.length>0&&(zn.$children$=Lt),zn.$key$=re,zn.$name$=ye,zn},Te=(ie,fe)=>({$flags$:0,$tag$:ie,$text$:fe,$elm$:null,$children$:null,$attrs$:null,$key$:null,$name$:null}),qe={},mt={forEach:(ie,fe)=>ie.map(Je).forEach(fe),map:(ie,fe)=>ie.map(Je).map(fe).map(et)},Je=ie=>({vattrs:ie.$attrs$,vchildren:ie.$children$,vkey:ie.$key$,vname:ie.$name$,vtag:ie.$tag$,vtext:ie.$text$}),et=ie=>{if("function"==typeof ie.vtag){const Re=Object.assign({},ie.vattrs);return ie.vkey&&(Re.key=ie.vkey),ie.vname&&(Re.name=ie.vname),qt(ie.vtag,Re,...ie.vchildren||[])}const fe=Te(ie.vtag,ie.vtext);return fe.$attrs$=ie.vattrs,fe.$children$=ie.vchildren,fe.$key$=ie.vkey,fe.$name$=ie.vname,fe},Ut=(ie,fe,Re,Ee,re,ye,st)=>{let bt,Lt,Xt,zn;if(1===ye.nodeType){for(bt=ye.getAttribute("c-id"),bt&&(Lt=bt.split("."),(Lt[0]===st||"0"===Lt[0])&&(Xt={$flags$:0,$hostId$:Lt[0],$nodeId$:Lt[1],$depth$:Lt[2],$index$:Lt[3],$tag$:ye.tagName.toLowerCase(),$elm$:ye,$attrs$:null,$children$:null,$key$:null,$name$:null,$text$:null},fe.push(Xt),ye.removeAttribute("c-id"),ie.$children$||(ie.$children$=[]),ie.$children$[Xt.$index$]=Xt,ie=Xt,Ee&&"0"===Xt.$depth$&&(Ee[Xt.$index$]=Xt.$elm$))),zn=ye.childNodes.length-1;zn>=0;zn--)Ut(ie,fe,Re,Ee,re,ye.childNodes[zn],st);if(ye.shadowRoot)for(zn=ye.shadowRoot.childNodes.length-1;zn>=0;zn--)Ut(ie,fe,Re,Ee,re,ye.shadowRoot.childNodes[zn],st)}else if(8===ye.nodeType)Lt=ye.nodeValue.split("."),(Lt[1]===st||"0"===Lt[1])&&(bt=Lt[0],Xt={$flags$:0,$hostId$:Lt[1],$nodeId$:Lt[2],$depth$:Lt[3],$index$:Lt[4],$elm$:ye,$attrs$:null,$children$:null,$key$:null,$name$:null,$tag$:null,$text$:null},"t"===bt?(Xt.$elm$=ye.nextSibling,Xt.$elm$&&3===Xt.$elm$.nodeType&&(Xt.$text$=Xt.$elm$.textContent,fe.push(Xt),ye.remove(),ie.$children$||(ie.$children$=[]),ie.$children$[Xt.$index$]=Xt,Ee&&"0"===Xt.$depth$&&(Ee[Xt.$index$]=Xt.$elm$))):Xt.$hostId$===st&&("s"===bt?(Xt.$tag$="slot",ye["s-sn"]=Lt[5]?Xt.$name$=Lt[5]:"",ye["s-sr"]=!0,Ee&&(Xt.$elm$=kr.createElement(Xt.$tag$),Xt.$name$&&Xt.$elm$.setAttribute("name",Xt.$name$),ye.parentNode.insertBefore(Xt.$elm$,ye),ye.remove(),"0"===Xt.$depth$&&(Ee[Xt.$index$]=Xt.$elm$)),Re.push(Xt),ie.$children$||(ie.$children$=[]),ie.$children$[Xt.$index$]=Xt):"r"===bt&&(Ee?ye.remove():(re["s-cr"]=ye,ye["s-cn"]=!0))));else if(ie&&"style"===ie.$tag$){const Vn=Te(null,ye.textContent);Vn.$elm$=ye,Vn.$index$="0",ie.$children$=[Vn]}},Pt=(ie,fe)=>{if(1===ie.nodeType){let Re=0;for(;Re<ie.childNodes.length;Re++)Pt(ie.childNodes[Re],fe);if(ie.shadowRoot)for(Re=0;Re<ie.shadowRoot.childNodes.length;Re++)Pt(ie.shadowRoot.childNodes[Re],fe)}else if(8===ie.nodeType){const Re=ie.nodeValue.split(".");"o"===Re[0]&&(fe.set(Re[1]+"."+Re[2],ie),ie.nodeValue="",ie["s-en"]=Re[3])}},nn=ie=>Si.push(ie),Nn=ie=>Rn(ie).$modeName$,Et=ie=>Rn(ie).$hostElement$,on=(ie,fe,Re)=>{const Ee=Et(ie);return{emit:re=>yn(Ee,fe,{bubbles:!!(4&Re),composed:!!(2&Re),cancelable:!!(1&Re),detail:re})}},yn=(ie,fe,Re)=>{const Ee=Hr.ce(fe,Re);return ie.dispatchEvent(Ee),Ee},Xn=new WeakMap,ar=(ie,fe,Re)=>{let Ee=Mr.get(ie);Vi&&Re?(Ee=Ee||new CSSStyleSheet,"string"==typeof Ee?Ee=fe:Ee.replaceSync(fe)):Ee=fe,Mr.set(ie,Ee)},lr=(ie,fe,Re,Ee)=>{var re;let ye=Yn(fe,Re);const st=Mr.get(ye);if(ie=11===ie.nodeType?ie:kr,st)if("string"==typeof st){let Lt,bt=Xn.get(ie=ie.head||ie);if(bt||Xn.set(ie,bt=new Set),!bt.has(ye)){if(ie.host&&(Lt=ie.querySelector(`[${Mt}="${ye}"]`)))Lt.innerHTML=st;else{Lt=kr.createElement("style"),Lt.innerHTML=st;const Xt=null!==(re=Hr.$nonce$)&&void 0!==re?re:Nt(kr);null!=Xt&&Lt.setAttribute("nonce",Xt),ie.insertBefore(Lt,ie.querySelector("link"))}bt&&bt.add(ye)}}else ie.adoptedStyleSheets.includes(st)||(ie.adoptedStyleSheets=[...ie.adoptedStyleSheets,st]);return ye},Yn=(ie,fe)=>"sc-"+(fe&&32&ie.$flags$?ie.$tagName$+"-"+fe:ie.$tagName$),an=ie=>ie.replace(/\/\*!@([^\/]+)\*\/[^\{]+\{/g,"$1{"),Rr=(ie,fe,Re,Ee,re,ye)=>{if(Re!==Ee){let st=hn(ie,fe),bt=fe.toLowerCase();if("class"===fe){const Lt=ie.classList,Xt=Ar(Re),zn=Ar(Ee);Lt.remove(...Xt.filter(Vn=>Vn&&!zn.includes(Vn))),Lt.add(...zn.filter(Vn=>Vn&&!Xt.includes(Vn)))}else if("style"===fe){for(const Lt in Re)(!Ee||null==Ee[Lt])&&(Lt.includes("-")?ie.style.removeProperty(Lt):ie.style[Lt]="");for(const Lt in Ee)(!Re||Ee[Lt]!==Re[Lt])&&(Lt.includes("-")?ie.style.setProperty(Lt,Ee[Lt]):ie.style[Lt]=Ee[Lt])}else if("key"!==fe)if("ref"===fe)Ee&&Ee(ie);else if(st||"o"!==fe[0]||"n"!==fe[1]){const Lt=Ct(Ee);if((st||Lt&&null!==Ee)&&!re)try{if(ie.tagName.includes("-"))ie[fe]=Ee;else{const zn=null==Ee?"":Ee;"list"===fe?st=!1:(null==Re||ie[fe]!=zn)&&(ie[fe]=zn)}}catch{}let Xt=!1;bt!==(bt=bt.replace(/^xlink\:?/,""))&&(fe=bt,Xt=!0),null==Ee||!1===Ee?(!1!==Ee||""===ie.getAttribute(fe))&&(Xt?ie.removeAttributeNS(Tt,fe):ie.removeAttribute(fe)):(!st||4&ye||re)&&!Lt&&(Ee=!0===Ee?"":Ee,Xt?ie.setAttributeNS(Tt,fe,Ee):ie.setAttribute(fe,Ee))}else fe="-"===fe[2]?fe.slice(3):hn(zr,bt)?bt.slice(2):bt[2]+fe.slice(3),Re&&Hr.rel(ie,fe,Re,!1),Ee&&Hr.ael(ie,fe,Ee,!1)}},Vr=/\s/,Ar=ie=>ie?ie.split(Vr):[],Mn=(ie,fe,Re,Ee)=>{const re=11===fe.$elm$.nodeType&&fe.$elm$.host?fe.$elm$.host:fe.$elm$,ye=ie&&ie.$attrs$||wt,st=fe.$attrs$||wt;for(Ee in ye)Ee in st||Rr(re,Ee,ye[Ee],void 0,Re,fe.$flags$);for(Ee in st)Rr(re,Ee,ye[Ee],st[Ee],Re,fe.$flags$)},ni=(ie,fe,Re,Ee)=>{const re=fe.$children$[Re];let st,bt,Lt,ye=0;if(Ge||(Pe=!0,"slot"===re.$tag$&&(_e&&Ee.classList.add(_e+"-s"),re.$flags$|=re.$children$?2:1)),null!==re.$text$)st=re.$elm$=kr.createTextNode(re.$text$);else if(1&re.$flags$)st=re.$elm$=kr.createTextNode("");else{if(Qe||(Qe="svg"===re.$tag$),st=re.$elm$=kr.createElementNS(Qe?"http://www.w3.org/2000/svg":"http://www.w3.org/1999/xhtml",2&re.$flags$?"slot-fb":re.$tag$),Qe&&"foreignObject"===re.$tag$&&(Qe=!1),Mn(null,re,Qe),(ie=>null!=ie)(_e)&&st["s-si"]!==_e&&st.classList.add(st["s-si"]=_e),re.$children$)for(ye=0;ye<re.$children$.length;++ye)bt=ni(ie,re,ye,st),bt&&st.appendChild(bt);"svg"===re.$tag$?Qe=!1:"foreignObject"===st.tagName&&(Qe=!0)}return st["s-hn"]=Ze,3&re.$flags$&&(st["s-sr"]=!0,st["s-cr"]=Oe,st["s-sn"]=re.$name$||"",Lt=ie&&ie.$children$&&ie.$children$[Re],Lt&&Lt.$tag$===re.$tag$&&ie.$elm$&&jr(ie.$elm$,!1)),st},jr=(ie,fe)=>{Hr.$flags$|=1;const Re=ie.childNodes;for(let Ee=Re.length-1;Ee>=0;Ee--){const re=Re[Ee];re["s-hn"]!==Ze&&re["s-ol"]&&(cr(re).insertBefore(re,Qn(re)),re["s-ol"].remove(),re["s-ol"]=void 0,Pe=!0),fe&&jr(re,fe)}Hr.$flags$&=-2},mr=(ie,fe,Re,Ee,re,ye)=>{let bt,st=ie["s-cr"]&&ie["s-cr"].parentNode||ie;for(st.shadowRoot&&st.tagName===Ze&&(st=st.shadowRoot);re<=ye;++re)Ee[re]&&(bt=ni(null,Re,re,ie),bt&&(Ee[re].$elm$=bt,st.insertBefore(bt,Qn(fe))))},vi=(ie,fe,Re)=>{for(let Ee=fe;Ee<=Re;++Ee){const re=ie[Ee];if(re){const ye=re.$elm$;br(re),ye&&(Se=!0,ye["s-ol"]?ye["s-ol"].remove():jr(ye,!0),ye.remove())}}},Jn=(ie,fe)=>ie.$tag$===fe.$tag$&&("slot"===ie.$tag$?ie.$name$===fe.$name$:ie.$key$===fe.$key$),Qn=ie=>ie&&ie["s-ol"]||ie,cr=ie=>(ie["s-ol"]?ie["s-ol"]:ie).parentNode,ci=(ie,fe)=>{const Re=fe.$elm$=ie.$elm$,Ee=ie.$children$,re=fe.$children$,ye=fe.$tag$,st=fe.$text$;let bt;null===st?(Qe="svg"===ye||"foreignObject"!==ye&&Qe,"slot"===ye||Mn(ie,fe,Qe),null!==Ee&&null!==re?((ie,fe,Re,Ee)=>{let is,Fi,re=0,ye=0,st=0,bt=0,Lt=fe.length-1,Xt=fe[0],zn=fe[Lt],Vn=Ee.length-1,wr=Ee[0],Qr=Ee[Vn];for(;re<=Lt&&ye<=Vn;)if(null==Xt)Xt=fe[++re];else if(null==zn)zn=fe[--Lt];else if(null==wr)wr=Ee[++ye];else if(null==Qr)Qr=Ee[--Vn];else if(Jn(Xt,wr))ci(Xt,wr),Xt=fe[++re],wr=Ee[++ye];else if(Jn(zn,Qr))ci(zn,Qr),zn=fe[--Lt],Qr=Ee[--Vn];else if(Jn(Xt,Qr))("slot"===Xt.$tag$||"slot"===Qr.$tag$)&&jr(Xt.$elm$.parentNode,!1),ci(Xt,Qr),ie.insertBefore(Xt.$elm$,zn.$elm$.nextSibling),Xt=fe[++re],Qr=Ee[--Vn];else if(Jn(zn,wr))("slot"===Xt.$tag$||"slot"===Qr.$tag$)&&jr(zn.$elm$.parentNode,!1),ci(zn,wr),ie.insertBefore(zn.$elm$,Xt.$elm$),zn=fe[--Lt],wr=Ee[++ye];else{for(st=-1,bt=re;bt<=Lt;++bt)if(fe[bt]&&null!==fe[bt].$key$&&fe[bt].$key$===wr.$key$){st=bt;break}st>=0?(Fi=fe[st],Fi.$tag$!==wr.$tag$?is=ni(fe&&fe[ye],Re,st,ie):(ci(Fi,wr),fe[st]=void 0,is=Fi.$elm$),wr=Ee[++ye]):(is=ni(fe&&fe[ye],Re,ye,ie),wr=Ee[++ye]),is&&cr(Xt.$elm$).insertBefore(is,Qn(Xt.$elm$))}re>Lt?mr(ie,null==Ee[Vn+1]?null:Ee[Vn+1].$elm$,Re,Ee,ye,Vn):ye>Vn&&vi(fe,re,Lt)})(Re,Ee,fe,re):null!==re?(null!==ie.$text$&&(Re.textContent=""),mr(Re,null,fe,re,0,re.length-1)):null!==Ee&&vi(Ee,0,Ee.length-1),Qe&&"svg"===ye&&(Qe=!1)):(bt=Re["s-cr"])?bt.parentNode.textContent=st:ie.$text$!==st&&(Re.data=st)},si=ie=>{const fe=ie.childNodes;let Re,Ee,re,ye,st,bt;for(Ee=0,re=fe.length;Ee<re;Ee++)if(Re=fe[Ee],1===Re.nodeType){if(Re["s-sr"])for(st=Re["s-sn"],Re.hidden=!1,ye=0;ye<re;ye++)if(bt=fe[ye].nodeType,fe[ye]["s-hn"]!==Re["s-hn"]||""!==st){if(1===bt&&st===fe[ye].getAttribute("slot")){Re.hidden=!0;break}}else if(1===bt||3===bt&&""!==fe[ye].textContent.trim()){Re.hidden=!0;break}si(Re)}},Kr=[],fi=ie=>{let fe,Re,Ee,re,ye,st,bt=0;const Lt=ie.childNodes,Xt=Lt.length;for(;bt<Xt;bt++){if(fe=Lt[bt],fe["s-sr"]&&(Re=fe["s-cr"])&&Re.parentNode)for(Ee=Re.parentNode.childNodes,re=fe["s-sn"],st=Ee.length-1;st>=0;st--)Re=Ee[st],!Re["s-cn"]&&!Re["s-nr"]&&Re["s-hn"]!==fe["s-hn"]&&(gi(Re,re)?(ye=Kr.find(zn=>zn.$nodeToRelocate$===Re),Se=!0,Re["s-sn"]=Re["s-sn"]||re,ye?ye.$slotRefNode$=fe:Kr.push({$slotRefNode$:fe,$nodeToRelocate$:Re}),Re["s-sr"]&&Kr.map(zn=>{gi(zn.$nodeToRelocate$,Re["s-sn"])&&(ye=Kr.find(Vn=>Vn.$nodeToRelocate$===Re),ye&&!zn.$slotRefNode$&&(zn.$slotRefNode$=ye.$slotRefNode$))})):Kr.some(zn=>zn.$nodeToRelocate$===Re)||Kr.push({$nodeToRelocate$:Re}));1===fe.nodeType&&fi(fe)}},gi=(ie,fe)=>1===ie.nodeType?null===ie.getAttribute("slot")&&""===fe||ie.getAttribute("slot")===fe:ie["s-sn"]===fe||""===fe,br=ie=>{ie.$attrs$&&ie.$attrs$.ref&&ie.$attrs$.ref(null),ie.$children$&&ie.$children$.map(br)},ui=(ie,fe)=>{fe&&!ie.$onRenderResolve$&&fe["s-p"]&&fe["s-p"].push(new Promise(Re=>ie.$onRenderResolve$=Re))},Er=(ie,fe)=>{if(ie.$flags$|=16,!(4&ie.$flags$))return ui(ie,ie.$ancestorComponent$),Us(()=>Cn(ie,fe));ie.$flags$|=512},Cn=(ie,fe)=>{const Ee=ie.$lazyInstance$;let re;return fe&&(ie.$flags$|=256,ie.$queuedListeners$&&(ie.$queuedListeners$.map(([ye,st])=>xr(Ee,ye,st)),ie.$queuedListeners$=null),re=xr(Ee,"componentWillLoad")),re=ke(re,()=>xr(Ee,"componentWillRender")),ke(re,()=>ut(ie,Ee,fe))},ke=(ie,fe)=>ie instanceof Promise?ie.then(fe):fe(),ut=function(){var ie=(0,h.Z)(function*(fe,Re,Ee){const re=fe.$hostElement$,st=re["s-rc"];Ee&&(ie=>{const fe=ie.$cmpMeta$,Re=ie.$hostElement$,Ee=fe.$flags$,ye=lr(Re.shadowRoot?Re.shadowRoot:Re.getRootNode(),fe,ie.$modeName$);10&Ee&&(Re["s-sc"]=ye,Re.classList.add(ye+"-h"),2&Ee&&Re.classList.add(ye+"-s"))})(fe);jt(fe,Re),st&&(st.map(Lt=>Lt()),re["s-rc"]=void 0);{const Lt=re["s-p"],Xt=()=>bn(fe);0===Lt.length?Xt():(Promise.all(Lt).then(Xt),fe.$flags$|=4,Lt.length=0)}});return function(Re,Ee,re){return ie.apply(this,arguments)}}(),jt=(ie,fe,Re)=>{try{fe=fe.render&&fe.render(),ie.$flags$&=-17,ie.$flags$|=2,((ie,fe)=>{const Re=ie.$hostElement$,Ee=ie.$cmpMeta$,re=ie.$vnode$||Te(null,null),ye=(ie=>ie&&ie.$tag$===qe)(fe)?fe:qt(null,null,fe);if(Ze=Re.tagName,Ee.$attrsToReflect$&&(ye.$attrs$=ye.$attrs$||{},Ee.$attrsToReflect$.map(([st,bt])=>ye.$attrs$[bt]=Re[st])),ye.$tag$=null,ye.$flags$|=4,ie.$vnode$=ye,ye.$elm$=re.$elm$=Re.shadowRoot||Re,_e=Re["s-sc"],Oe=Re["s-cr"],Ge=0!=(1&Ee.$flags$),Se=!1,ci(re,ye),Hr.$flags$|=1,Pe){fi(ye.$elm$);let st,bt,Lt,Xt,zn,Vn,wr=0;for(;wr<Kr.length;wr++)st=Kr[wr],bt=st.$nodeToRelocate$,bt["s-ol"]||(Lt=kr.createTextNode(""),Lt["s-nr"]=bt,bt.parentNode.insertBefore(bt["s-ol"]=Lt,bt));for(wr=0;wr<Kr.length;wr++)if(st=Kr[wr],bt=st.$nodeToRelocate$,st.$slotRefNode$){for(Xt=st.$slotRefNode$.parentNode,zn=st.$slotRefNode$.nextSibling,Lt=bt["s-ol"];Lt=Lt.previousSibling;)if(Vn=Lt["s-nr"],Vn&&Vn["s-sn"]===bt["s-sn"]&&Xt===Vn.parentNode&&(Vn=Vn.nextSibling,!Vn||!Vn["s-nr"])){zn=Vn;break}(!zn&&Xt!==bt.parentNode||bt.nextSibling!==zn)&&bt!==zn&&(!bt["s-hn"]&&bt["s-ol"]&&(bt["s-hn"]=bt["s-ol"].parentNode.nodeName),Xt.insertBefore(bt,zn))}else 1===bt.nodeType&&(bt.hidden=!0)}Se&&si(ye.$elm$),Hr.$flags$&=-2,Kr.length=0})(ie,fe)}catch(Ee){Gn(Ee,ie.$hostElement$)}return null},bn=ie=>{const Re=ie.$hostElement$,re=ie.$lazyInstance$,ye=ie.$ancestorComponent$;xr(re,"componentDidRender"),64&ie.$flags$?xr(re,"componentDidUpdate"):(ie.$flags$|=64,Ir(Re),xr(re,"componentDidLoad"),ie.$onReadyResolve$(Re),ye||Fr()),ie.$onInstanceResolve$(Re),ie.$onRenderResolve$&&(ie.$onRenderResolve$(),ie.$onRenderResolve$=void 0),512&ie.$flags$&&Qs(()=>Er(ie,!1)),ie.$flags$&=-517},$n=ie=>{{const fe=Rn(ie),Re=fe.$hostElement$.isConnected;return Re&&2==(18&fe.$flags$)&&Er(fe,!1),Re}},Fr=ie=>{Ir(kr.documentElement),Qs(()=>yn(zr,"appload",{detail:{namespace:"ionic"}}))},xr=(ie,fe,Re)=>{if(ie&&ie[fe])try{return ie[fe](Re)}catch(Ee){Gn(Ee)}},Ir=ie=>ie.classList.add("hydrated"),se=(ie,fe,Re)=>{if(fe.$members$){ie.watchers&&(fe.$watchers$=ie.watchers);const Ee=Object.entries(fe.$members$),re=ie.prototype;if(Ee.map(([ye,[st]])=>{31&st||2&Re&&32&st?Object.defineProperty(re,ye,{get(){return((ie,fe)=>Rn(this).$instanceValues$.get(fe))(0,ye)},set(bt){((ie,fe,Re,Ee)=>{const re=Rn(ie),ye=re.$hostElement$,st=re.$instanceValues$.get(fe),bt=re.$flags$,Lt=re.$lazyInstance$;Re=((ie,fe)=>null==ie||Ct(ie)?ie:4&fe?"false"!==ie&&(""===ie||!!ie):2&fe?parseFloat(ie):1&fe?String(ie):ie)(Re,Ee.$members$[fe][0]);const Xt=Number.isNaN(st)&&Number.isNaN(Re);if((!(8&bt)||void 0===st)&&Re!==st&&!Xt&&(re.$instanceValues$.set(fe,Re),Lt)){if(Ee.$watchers$&&128&bt){const Vn=Ee.$watchers$[fe];Vn&&Vn.map(wr=>{try{Lt[wr](Re,st,fe)}catch(Qr){Gn(Qr,ye)}})}2==(18&bt)&&Er(re,!1)}})(this,ye,bt,fe)},configurable:!0,enumerable:!0}):1&Re&&64&st&&Object.defineProperty(re,ye,{value(...bt){const Lt=Rn(this);return Lt.$onInstancePromise$.then(()=>Lt.$lazyInstance$[ye](...bt))}})}),1&Re){const ye=new Map;re.attributeChangedCallback=function(st,bt,Lt){Hr.jmp(()=>{const Xt=ye.get(st);if(this.hasOwnProperty(Xt))Lt=this[Xt],delete this[Xt];else if(re.hasOwnProperty(Xt)&&"number"==typeof this[Xt]&&this[Xt]==Lt)return;this[Xt]=(null!==Lt||"boolean"!=typeof this[Xt])&&Lt})},ie.observedAttributes=Ee.filter(([st,bt])=>15&bt[0]).map(([st,bt])=>{const Lt=bt[1]||st;return ye.set(Lt,st),512&bt[0]&&fe.$attrsToReflect$.push([st,Lt]),Lt})}}return ie},te=function(){var ie=(0,h.Z)(function*(fe,Re,Ee,re,ye){if(!(32&Re.$flags$)){Re.$flags$|=32;{if((ye=Or(Ee)).then){const Xt=()=>{};ye=yield ye,Xt()}ye.isProxied||(Ee.$watchers$=ye.watchers,se(ye,Ee,2),ye.isProxied=!0);const Lt=()=>{};Re.$flags$|=8;try{new ye(Re)}catch(Xt){Gn(Xt)}Re.$flags$&=-9,Re.$flags$|=128,Lt(),oe(Re.$lazyInstance$)}if(ye.style){let Lt=ye.style;"string"!=typeof Lt&&(Lt=Lt[Re.$modeName$=(ie=>Si.map(fe=>fe(ie)).find(fe=>!!fe))(fe)]);const Xt=Yn(Ee,Re.$modeName$);if(!Mr.has(Xt)){const zn=()=>{};ar(Xt,Lt,!!(1&Ee.$flags$)),zn()}}}const st=Re.$ancestorComponent$,bt=()=>Er(Re,!0);st&&st["s-rc"]?st["s-rc"].push(bt):bt()});return function(Re,Ee,re,ye,st){return ie.apply(this,arguments)}}(),oe=ie=>{xr(ie,"connectedCallback")},At=ie=>{const fe=ie["s-cr"]=kr.createComment("");fe["s-cn"]=!0,ie.insertBefore(fe,ie.firstChild)},$t=(ie,fe={})=>{var Re;const re=[],ye=fe.exclude||[],st=zr.customElements,bt=kr.head,Lt=bt.querySelector("meta[charset]"),Xt=kr.createElement("style"),zn=[],Vn=kr.querySelectorAll(`[${Mt}]`);let wr,Qr=!0,is=0;for(Object.assign(Hr,fe),Hr.$resourcesUrl$=new URL(fe.resourcesUrl||"./",kr.baseURI).href,Hr.$flags$|=2;is<Vn.length;is++)ar(Vn[is].getAttribute(Mt),an(Vn[is].innerHTML),!0);ie.map(Fi=>{Fi[1].map(Ws=>{const Ci={$flags$:Ws[0],$tagName$:Ws[1],$members$:Ws[2],$listeners$:Ws[3]};Ci.$members$=Ws[2],Ci.$listeners$=Ws[3],Ci.$attrsToReflect$=[],Ci.$watchers$={};const tr=Ci.$tagName$,Lr=class extends HTMLElement{constructor(Ai){super(Ai),Gt(Ai=this,Ci),1&Ci.$flags$&&Ai.attachShadow({mode:"open",delegatesFocus:!!(16&Ci.$flags$)})}connectedCallback(){wr&&(clearTimeout(wr),wr=null),Qr?zn.push(this):Hr.jmp(()=>(ie=>{if(!(1&Hr.$flags$)){const fe=Rn(ie),Re=fe.$cmpMeta$,Ee=()=>{};if(1&fe.$flags$)Zt(ie,fe,Re.$listeners$),oe(fe.$lazyInstance$);else{let re;if(fe.$flags$|=1,re=ie.getAttribute(kt),re){if(1&Re.$flags$){const ye=lr(ie.shadowRoot,Re,ie.getAttribute("s-mode"));ie.classList.remove(ye+"-h",ye+"-s")}((ie,fe,Re,Ee)=>{const ye=ie.shadowRoot,st=[],Lt=ye?[]:null,Xt=Ee.$vnode$=Te(fe,null);Hr.$orgLocNodes$||Pt(kr.body,Hr.$orgLocNodes$=new Map),ie[kt]=Re,ie.removeAttribute(kt),Ut(Xt,st,[],Lt,ie,ie,Re),st.map(zn=>{const Vn=zn.$hostId$+"."+zn.$nodeId$,wr=Hr.$orgLocNodes$.get(Vn),Qr=zn.$elm$;wr&&Io&&""===wr["s-en"]&&wr.parentNode.insertBefore(Qr,wr.nextSibling),ye||(Qr["s-hn"]=fe,wr&&(Qr["s-ol"]=wr,Qr["s-ol"]["s-nr"]=Qr)),Hr.$orgLocNodes$.delete(Vn)}),ye&&Lt.map(zn=>{zn&&ye.appendChild(zn)})})(ie,Re.$tagName$,re,fe)}re||12&Re.$flags$&&At(ie);{let ye=ie;for(;ye=ye.parentNode||ye.host;)if(1===ye.nodeType&&ye.hasAttribute("s-id")&&ye["s-p"]||ye["s-p"]){ui(fe,fe.$ancestorComponent$=ye);break}}Re.$members$&&Object.entries(Re.$members$).map(([ye,[st]])=>{if(31&st&&ie.hasOwnProperty(ye)){const bt=ie[ye];delete ie[ye],ie[ye]=bt}}),te(ie,fe,Re)}Ee()}})(this))}disconnectedCallback(){Hr.jmp(()=>(ie=>{if(!(1&Hr.$flags$)){const fe=Rn(this),Re=fe.$lazyInstance$;fe.$rmListeners$&&(fe.$rmListeners$.map(Ee=>Ee()),fe.$rmListeners$=void 0),xr(Re,"disconnectedCallback")}})())}componentOnReady(){return Rn(this).$onReadyPromise$}};Ci.$lazyBundleId$=Fi[0],!ye.includes(tr)&&!st.get(tr)&&(re.push(tr),st.define(tr,se(Lr,Ci,1)))})});{Xt.innerHTML=re+"{visibility:hidden}.hydrated{visibility:inherit}",Xt.setAttribute("data-styles","");const Fi=null!==(Re=Hr.$nonce$)&&void 0!==Re?Re:Nt(kr);null!=Fi&&Xt.setAttribute("nonce",Fi),bt.insertBefore(Xt,Lt?Lt.nextSibling:bt.firstChild)}Qr=!1,zn.length?zn.map(Fi=>Fi.connectedCallback()):Hr.jmp(()=>wr=setTimeout(Fr,30))},Zt=(ie,fe,Re,Ee)=>{Re&&Re.map(([re,ye,st])=>{const bt=vn(ie,re),Lt=In(fe,st),Xt=jn(re);Hr.ael(bt,ye,Lt,Xt),(fe.$rmListeners$=fe.$rmListeners$||[]).push(()=>Hr.rel(bt,ye,Lt,Xt))})},In=(ie,fe)=>Re=>{try{256&ie.$flags$?ie.$lazyInstance$[fe](Re):(ie.$queuedListeners$=ie.$queuedListeners$||[]).push([fe,Re])}catch(Ee){Gn(Ee)}},vn=(ie,fe)=>4&fe?kr:8&fe?zr:16&fe?kr.body:ie,jn=ie=>0!=(2&ie),mn=new WeakMap,Rn=ie=>mn.get(ie),Ft=(ie,fe)=>mn.set(fe.$lazyInstance$=ie,fe),Gt=(ie,fe)=>{const Re={$flags$:0,$hostElement$:ie,$cmpMeta$:fe,$instanceValues$:new Map};return Re.$onInstancePromise$=new Promise(Ee=>Re.$onInstanceResolve$=Ee),Re.$onReadyPromise$=new Promise(Ee=>Re.$onReadyResolve$=Ee),ie["s-p"]=[],ie["s-rc"]=[],Zt(ie,Re,fe.$listeners$),mn.set(ie,Re)},hn=(ie,fe)=>fe in ie,Gn=(ie,fe)=>(0,console.error)(ie,fe),hr=new Map,Or=(ie,fe,Re)=>{const Ee=ie.$tagName$.replace(/-/g,"_"),re=ie.$lazyBundleId$,ye=hr.get(re);return ye?ye[Ee]:H(863)(`./${re}.entry.js`).then(st=>(hr.set(re,st),st[Ee]),Gn)},Mr=new Map,Si=[],zr=typeof window<"u"?window:{},kr=zr.document||{head:{}},Hr={$flags$:0,$resourcesUrl$:"",jmp:ie=>ie(),raf:ie=>requestAnimationFrame(ie),ael:(ie,fe,Re,Ee)=>ie.addEventListener(fe,Re,Ee),rel:(ie,fe,Re,Ee)=>ie.removeEventListener(fe,Re,Ee),ce:(ie,fe)=>new CustomEvent(ie,fe)},Wi=ie=>{Object.assign(Hr,ie)},Io=!0,Xs=ie=>Promise.resolve(ie),Vi=(()=>{try{return new CSSStyleSheet,"function"==typeof(new CSSStyleSheet).replaceSync}catch{}return!1})(),zi=[],Co=[],Xi=(ie,fe)=>Re=>{ie.push(Re),Le||(Le=!0,fe&&4&Hr.$flags$?Qs($s):Hr.raf($s))},Ri=ie=>{for(let fe=0;fe<ie.length;fe++)try{ie[fe](performance.now())}catch(Re){Gn(Re)}ie.length=0},$s=()=>{Ri(zi),Ri(Co),(Le=zi.length>0)&&Hr.raf($s)},Qs=ie=>Xs().then(ie),Vs=Xi(zi,!1),Us=Xi(Co,!0)},8126:(Kn,Rt,H)=>{"use strict";H.d(Rt,{m:()=>Me});var h=H(5861),_=H(7593),_e=H(3577),Oe=H(5273),Ze=H(9613);const Ge=rt=>(0,Ze.c)().duration(rt?400:300),Se=rt=>{let xe,at;const pt=rt.width+8,Vt=(0,Ze.c)(),We=(0,Ze.c)();rt.isEndSide?(xe=pt+"px",at="0px"):(xe=-pt+"px",at="0px"),Vt.addElement(rt.menuInnerEl).fromTo("transform",`translateX(${xe})`,`translateX(${at})`);const kt="ios"===(0,Oe.b)(rt),Mt=kt?.2:.25;return We.addElement(rt.backdropEl).fromTo("opacity",.01,Mt),Ge(kt).addAnimation([Vt,We])},Pe=rt=>{let xe,at;const pt=(0,Oe.b)(rt),Vt=rt.width;rt.isEndSide?(xe=-Vt+"px",at=Vt+"px"):(xe=Vt+"px",at=-Vt+"px");const We=(0,Ze.c)().addElement(rt.menuInnerEl).fromTo("transform",`translateX(${at})`,"translateX(0px)"),$e=(0,Ze.c)().addElement(rt.contentEl).fromTo("transform","translateX(0px)",`translateX(${xe})`),kt=(0,Ze.c)().addElement(rt.backdropEl).fromTo("opacity",.01,.32);return Ge("ios"===pt).addAnimation([We,$e,kt])},Qe=rt=>{const xe=(0,Oe.b)(rt),at=rt.width*(rt.isEndSide?-1:1)+"px",pt=(0,Ze.c)().addElement(rt.contentEl).fromTo("transform","translateX(0px)",`translateX(${at})`);return Ge("ios"===xe).addAnimation(pt)},Me=(()=>{const rt=new Map,xe=[],at=function(){var et=(0,h.Z)(function*(ct){const Ut=yield dt(ct);return!!Ut&&Ut.open()});return function(Ut){return et.apply(this,arguments)}}(),pt=function(){var et=(0,h.Z)(function*(ct){const Ut=yield void 0!==ct?dt(ct):It();return void 0!==Ut&&Ut.close()});return function(Ut){return et.apply(this,arguments)}}(),Vt=function(){var et=(0,h.Z)(function*(ct){const Ut=yield dt(ct);return!!Ut&&Ut.toggle()});return function(Ut){return et.apply(this,arguments)}}(),We=function(){var et=(0,h.Z)(function*(ct,Ut){const Pt=yield dt(Ut);return Pt&&(Pt.disabled=!ct),Pt});return function(Ut,Pt){return et.apply(this,arguments)}}(),$e=function(){var et=(0,h.Z)(function*(ct,Ut){const Pt=yield dt(Ut);return Pt&&(Pt.swipeGesture=ct),Pt});return function(Ut,Pt){return et.apply(this,arguments)}}(),kt=function(){var et=(0,h.Z)(function*(ct){if(null!=ct){const Ut=yield dt(ct);return void 0!==Ut&&Ut.isOpen()}return void 0!==(yield It())});return function(Ut){return et.apply(this,arguments)}}(),Mt=function(){var et=(0,h.Z)(function*(ct){const Ut=yield dt(ct);return!!Ut&&!Ut.disabled});return function(Ut){return et.apply(this,arguments)}}(),dt=function(){var et=(0,h.Z)(function*(ct){return yield Je(),"start"===ct||"end"===ct?mt(Jt=>Jt.side===ct&&!Jt.disabled)||mt(Jt=>Jt.side===ct):null!=ct?mt(Pt=>Pt.menuId===ct):mt(Pt=>!Pt.disabled)||(xe.length>0?xe[0].el:void 0)});return function(Ut){return et.apply(this,arguments)}}(),It=function(){var et=(0,h.Z)(function*(){return yield Je(),Te()});return function(){return et.apply(this,arguments)}}(),Tt=function(){var et=(0,h.Z)(function*(){return yield Je(),qe()});return function(){return et.apply(this,arguments)}}(),wt=function(){var et=(0,h.Z)(function*(){return yield Je(),lt()});return function(){return et.apply(this,arguments)}}(),vt=(et,ct)=>{rt.set(et,ct)},Ct=et=>{const ct=et.side;xe.filter(Ut=>Ut.side===ct&&Ut!==et).forEach(Ut=>Ut.disabled=!0)},Nt=function(){var et=(0,h.Z)(function*(ct,Ut,Pt){if(lt())return!1;if(Ut){const Jt=yield It();Jt&&ct.el!==Jt&&(yield Jt.setOpen(!1,!1))}return ct._setOpen(Ut,Pt)});return function(Ut,Pt,Jt){return et.apply(this,arguments)}}(),Te=()=>mt(et=>et._isOpen),qe=()=>xe.map(et=>et.el),lt=()=>xe.some(et=>et.isAnimating),mt=et=>{const ct=xe.find(et);if(void 0!==ct)return ct.el},Je=()=>Promise.all(Array.from(document.querySelectorAll("ion-menu")).map(et=>new Promise(ct=>(0,_e.c)(et,ct))));return vt("reveal",Qe),vt("push",Pe),vt("overlay",Se),typeof document<"u"&&document.addEventListener("ionBackButton",et=>{const ct=Te();ct&&et.detail.register(_.MENU_BACK_BUTTON_PRIORITY,()=>ct.close())}),{registerAnimation:vt,get:dt,getMenus:Tt,getOpen:It,isEnabled:Mt,swipeGesture:$e,isAnimating:wt,isOpen:kt,enable:We,toggle:Vt,close:pt,open:at,_getOpenSync:Te,_createAnimation:(et,ct)=>{const Ut=rt.get(et);if(!Ut)throw new Error("animation not registered");return Ut(ct)},_register:et=>{xe.indexOf(et)<0&&(et.disabled||Ct(et),xe.push(et))},_unregister:et=>{const ct=xe.indexOf(et);ct>-1&&xe.splice(ct,1)},_setOpen:Nt,_setActiveMenu:Ct}})()},1178:(Kn,Rt,H)=>{"use strict";H.d(Rt,{a:()=>_,b:()=>_e,p:()=>h});const h=(Oe,...Ze)=>console.warn(`[Ionic Warning]: ${Oe}`,...Ze),_=(Oe,...Ze)=>console.error(`[Ionic Error]: ${Oe}`,...Ze),_e=(Oe,...Ze)=>console.error(`<${Oe.tagName.toLowerCase()}> must be used inside ${Ze.join(" or ")}.`)},9866:(Kn,Rt,H)=>{"use strict";H.d(Rt,{L:()=>Oe,a:()=>Ze,b:()=>Ge,c:()=>Se,d:()=>Pe,e:()=>wt,g:()=>Ht,l:()=>Tt,s:()=>vt,t:()=>Me});var h=H(5861),_=H(4083),_e=H(3577);const Oe="ionViewWillEnter",Ze="ionViewDidEnter",Ge="ionViewWillLeave",Se="ionViewDidLeave",Pe="ionViewWillUnload",Me=Ct=>new Promise((Nt,qt)=>{(0,_.w)(()=>{rt(Ct),xe(Ct).then(Te=>{Te.animation&&Te.animation.destroy(),at(Ct),Nt(Te)},Te=>{at(Ct),qt(Te)})})}),rt=Ct=>{const Nt=Ct.enteringEl,qt=Ct.leavingEl;nt(Nt,qt,Ct.direction),Ct.showGoBack?Nt.classList.add("can-go-back"):Nt.classList.remove("can-go-back"),vt(Nt,!1),Nt.style.setProperty("pointer-events","none"),qt&&(vt(qt,!1),qt.style.setProperty("pointer-events","none"))},xe=function(){var Ct=(0,h.Z)(function*(Nt){const qt=yield pt(Nt);return qt&&_.B.isBrowser?Vt(qt,Nt):We(Nt)});return function(qt){return Ct.apply(this,arguments)}}(),at=Ct=>{const Nt=Ct.enteringEl,qt=Ct.leavingEl;Nt.classList.remove("ion-page-invisible"),Nt.style.removeProperty("pointer-events"),void 0!==qt&&(qt.classList.remove("ion-page-invisible"),qt.style.removeProperty("pointer-events"))},pt=function(){var Ct=(0,h.Z)(function*(Nt){return Nt.leavingEl&&Nt.animated&&0!==Nt.duration?Nt.animationBuilder?Nt.animationBuilder:"ios"===Nt.mode?(yield Promise.resolve().then(H.bind(H,3551))).iosTransitionAnimation:(yield Promise.resolve().then(H.bind(H,1138))).mdTransitionAnimation:void 0});return function(qt){return Ct.apply(this,arguments)}}(),Vt=function(){var Ct=(0,h.Z)(function*(Nt,qt){yield $e(qt,!0);const Te=Nt(qt.baseEl,qt);dt(qt.enteringEl,qt.leavingEl);const qe=yield Mt(Te,qt);return qt.progressCallback&&qt.progressCallback(void 0),qe&&It(qt.enteringEl,qt.leavingEl),{hasCompleted:qe,animation:Te}});return function(qt,Te){return Ct.apply(this,arguments)}}(),We=function(){var Ct=(0,h.Z)(function*(Nt){const qt=Nt.enteringEl,Te=Nt.leavingEl;return yield $e(Nt,!1),dt(qt,Te),It(qt,Te),{hasCompleted:!0}});return function(qt){return Ct.apply(this,arguments)}}(),$e=function(){var Ct=(0,h.Z)(function*(Nt,qt){(void 0!==Nt.deepWait?Nt.deepWait:qt)&&(yield Promise.all([wt(Nt.enteringEl),wt(Nt.leavingEl)])),yield kt(Nt.viewIsReady,Nt.enteringEl)});return function(qt,Te){return Ct.apply(this,arguments)}}(),kt=function(){var Ct=(0,h.Z)(function*(Nt,qt){Nt&&(yield Nt(qt))});return function(qt,Te){return Ct.apply(this,arguments)}}(),Mt=(Ct,Nt)=>{const qt=Nt.progressCallback,Te=new Promise(qe=>{Ct.onFinish(lt=>qe(1===lt))});return qt?(Ct.progressStart(!0),qt(Ct)):Ct.play(),Te},dt=(Ct,Nt)=>{Tt(Nt,Ge),Tt(Ct,Oe)},It=(Ct,Nt)=>{Tt(Ct,Ze),Tt(Nt,Se)},Tt=(Ct,Nt)=>{if(Ct){const qt=new CustomEvent(Nt,{bubbles:!1,cancelable:!1});Ct.dispatchEvent(qt)}},wt=function(){var Ct=(0,h.Z)(function*(Nt){const qt=Nt;if(qt){if(null!=qt.componentOnReady){if(null!=(yield qt.componentOnReady()))return}else if(null!=qt.__registerHost)return void(yield new Promise(qe=>(0,_e.r)(qe)));yield Promise.all(Array.from(qt.children).map(wt))}});return function(qt){return Ct.apply(this,arguments)}}(),vt=(Ct,Nt)=>{Nt?(Ct.setAttribute("aria-hidden","true"),Ct.classList.add("ion-page-hidden")):(Ct.hidden=!1,Ct.removeAttribute("aria-hidden"),Ct.classList.remove("ion-page-hidden"))},nt=(Ct,Nt,qt)=>{void 0!==Ct&&(Ct.style.zIndex="back"===qt?"99":"101"),void 0!==Nt&&(Nt.style.zIndex="100")},Ht=Ct=>Ct.classList.contains("ion-page")?Ct:Ct.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")||Ct},5273:(Kn,Rt,H)=>{"use strict";H.d(Rt,{a:()=>Me,b:()=>lt,c:()=>_e,g:()=>Le,i:()=>mt});var h=H(4083);class _{constructor(){this.m=new Map}reset(et){this.m=new Map(Object.entries(et))}get(et,ct){const Ut=this.m.get(et);return void 0!==Ut?Ut:ct}getBoolean(et,ct=!1){const Ut=this.m.get(et);return void 0===Ut?ct:"string"==typeof Ut?"true"===Ut:!!Ut}getNumber(et,ct){const Ut=parseFloat(this.m.get(et));return isNaN(Ut)?void 0!==ct?ct:NaN:Ut}set(et,ct){this.m.set(et,ct)}}const _e=new _,Qe="ionic-persist-config",Le=Je=>rt(Je),Me=(Je,et)=>("string"==typeof Je&&(et=Je,Je=void 0),Le(Je).includes(et)),rt=(Je=window)=>{if(typeof Je>"u")return[];Je.Ionic=Je.Ionic||{};let et=Je.Ionic.platforms;return null==et&&(et=Je.Ionic.platforms=xe(Je),et.forEach(ct=>Je.document.documentElement.classList.add(`plt-${ct}`))),et},xe=Je=>{const et=_e.get("platform");return Object.keys(Te).filter(ct=>{const Ut=null==et?void 0:et[ct];return"function"==typeof Ut?Ut(Je):Te[ct](Je)})},pt=Je=>!!(Nt(Je,/iPad/i)||Nt(Je,/Macintosh/i)&&It(Je)),$e=Je=>Nt(Je,/android|sink/i),It=Je=>qt(Je,"(any-pointer:coarse)"),wt=Je=>vt(Je)||nt(Je),vt=Je=>!!(Je.cordova||Je.phonegap||Je.PhoneGap),nt=Je=>{const et=Je.Capacitor;return!(null==et||!et.isNative)},Nt=(Je,et)=>et.test(Je.navigator.userAgent),qt=(Je,et)=>{var ct;return null===(ct=Je.matchMedia)||void 0===ct?void 0:ct.call(Je,et).matches},Te={ipad:pt,iphone:Je=>Nt(Je,/iPhone/i),ios:Je=>Nt(Je,/iPhone|iPod/i)||pt(Je),android:$e,phablet:Je=>{const et=Je.innerWidth,ct=Je.innerHeight,Ut=Math.min(et,ct),Pt=Math.max(et,ct);return Ut>390&&Ut<520&&Pt>620&&Pt<800},tablet:Je=>{const et=Je.innerWidth,ct=Je.innerHeight,Ut=Math.min(et,ct),Pt=Math.max(et,ct);return pt(Je)||(Je=>$e(Je)&&!Nt(Je,/mobile/i))(Je)||Ut>460&&Ut<820&&Pt>780&&Pt<1400},cordova:vt,capacitor:nt,electron:Je=>Nt(Je,/electron/i),pwa:Je=>{var et;return!!(null!==(et=Je.matchMedia)&&void 0!==et&&et.call(Je,"(display-mode: standalone)").matches||Je.navigator.standalone)},mobile:It,mobileweb:Je=>It(Je)&&!wt(Je),desktop:Je=>!It(Je),hybrid:wt};let qe;const lt=Je=>Je&&(0,h.g)(Je)||qe,mt=(Je={})=>{if(typeof window>"u")return;const et=window.document,ct=window,Ut=ct.Ionic=ct.Ionic||{},Pt={};Je._ael&&(Pt.ael=Je._ael),Je._rel&&(Pt.rel=Je._rel),Je._ce&&(Pt.ce=Je._ce),(0,h.a)(Pt);const Jt=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},(Je=>{try{const et=Je.sessionStorage.getItem(Qe);return null!==et?JSON.parse(et):{}}catch{return{}}})(ct)),{persistConfig:!1}),Ut.config),(Je=>{const et={};return Je.location.search.slice(1).split("&").map(ct=>ct.split("=")).map(([ct,Ut])=>[decodeURIComponent(ct),decodeURIComponent(Ut)]).filter(([ct])=>((Je,et)=>Je.substr(0,et.length)===et)(ct,"ionic:")).map(([ct,Ut])=>[ct.slice(6),Ut]).forEach(([ct,Ut])=>{et[ct]=Ut}),et})(ct)),Je);_e.reset(Jt),_e.getBoolean("persistConfig")&&((Je,et)=>{try{Je.sessionStorage.setItem(Qe,JSON.stringify(et))}catch{return}})(ct,Jt),rt(ct),Ut.config=_e,Ut.mode=qe=_e.get("mode",et.documentElement.getAttribute("mode")||(Me(ct,"ios")?"ios":"md")),_e.set("mode",qe),et.documentElement.setAttribute("mode",qe),et.documentElement.classList.add(qe),_e.getBoolean("_testing")&&_e.set("animated",!1);const nn=Qt=>{var Et;return null===(Et=Qt.tagName)||void 0===Et?void 0:Et.startsWith("ION-")},Nn=Qt=>["ios","md"].includes(Qt);(0,h.c)(Qt=>{for(;Qt;){const Et=Qt.mode||Qt.getAttribute("mode");if(Et){if(Nn(Et))return Et;nn(Qt)&&console.warn('Invalid ionic mode: "'+Et+'", expected: "ios" or "md"')}Qt=Qt.parentElement}return qe})}},3551:(Kn,Rt,H)=>{"use strict";H.r(Rt),H.d(Rt,{iosTransitionAnimation:()=>xe,shadow:()=>Se});var h=H(9613),_=H(9866);H(3457),H(4083);const Ge=at=>document.querySelector(`${at}.ion-cloned-element`),Se=at=>at.shadowRoot||at,Pe=at=>{const pt="ION-TABS"===at.tagName?at:at.querySelector("ion-tabs"),Vt="ion-content ion-header:not(.header-collapse-condense-inactive) ion-title.title-large";if(null!=pt){const We=pt.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");return null!=We?We.querySelector(Vt):null}return at.querySelector(Vt)},Qe=(at,pt)=>{const Vt="ION-TABS"===at.tagName?at:at.querySelector("ion-tabs");let We=[];if(null!=Vt){const $e=Vt.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");null!=$e&&(We=$e.querySelectorAll("ion-buttons"))}else We=at.querySelectorAll("ion-buttons");for(const $e of We){const kt=$e.closest("ion-header"),Mt=kt&&!kt.classList.contains("header-collapse-condense-inactive"),dt=$e.querySelector("ion-back-button"),It=$e.classList.contains("buttons-collapse");if(null!==dt&&("start"===$e.slot||""===$e.slot)&&(It&&Mt&&pt||!It))return dt}return null},Me=(at,pt,Vt,We,$e,kt)=>{const Mt=pt?`calc(100% - ${kt.right+4}px)`:kt.left-4+"px",dt=pt?"7px":"-7px",It=pt?"-4px":"4px",Tt=pt?"-4px":"4px",wt=pt?"right":"left",vt=pt?"left":"right",Ct=Vt?[{offset:0,opacity:1,transform:`translate3d(${It}, ${kt.top-46}px, 0) scale(1)`},{offset:.6,opacity:0},{offset:1,opacity:0,transform:`translate3d(${dt}, ${$e.top-40}px, 0) scale(2.1)`}]:[{offset:0,opacity:0,transform:`translate3d(${dt}, ${$e.top-40}px, 0) scale(2.1)`},{offset:1,opacity:1,transform:`translate3d(${It}, ${kt.top-46}px, 0) scale(1)`}],Te=Vt?[{offset:0,opacity:1,transform:`translate3d(${Tt}, ${kt.top-46}px, 0) scale(1)`},{offset:.2,opacity:0,transform:`translate3d(${Tt}, ${kt.top-41}px, 0) scale(0.6)`},{offset:1,opacity:0,transform:`translate3d(${Tt}, ${kt.top-41}px, 0) scale(0.6)`}]:[{offset:0,opacity:0,transform:`translate3d(${Tt}, ${kt.top-41}px, 0) scale(0.6)`},{offset:1,opacity:1,transform:`translate3d(${Tt}, ${kt.top-46}px, 0) scale(1)`}],qe=(0,h.c)(),lt=(0,h.c)(),mt=Ge("ion-back-button"),Je=Se(mt).querySelector(".button-text"),et=Se(mt).querySelector("ion-icon");mt.text=We.text,mt.mode=We.mode,mt.icon=We.icon,mt.color=We.color,mt.disabled=We.disabled,mt.style.setProperty("display","block"),mt.style.setProperty("position","fixed"),lt.addElement(et),qe.addElement(Je),qe.beforeStyles({"transform-origin":`${wt} center`}).beforeAddWrite(()=>{We.style.setProperty("display","none"),mt.style.setProperty(wt,Mt)}).afterAddWrite(()=>{We.style.setProperty("display",""),mt.style.setProperty("display","none"),mt.style.removeProperty(wt)}).keyframes(Ct),lt.beforeStyles({"transform-origin":`${vt} center`}).keyframes(Te),at.addAnimation([qe,lt])},rt=(at,pt,Vt,We,$e,kt)=>{const Mt=pt?`calc(100% - ${$e.right}px)`:`${$e.left}px`,dt=pt?"-18px":"18px",It=pt?"right":"left",vt=Vt?[{offset:0,opacity:0,transform:`translate3d(${dt}, ${kt.top-4}px, 0) scale(0.49)`},{offset:.1,opacity:0},{offset:1,opacity:1,transform:`translate3d(0, ${$e.top-2}px, 0) scale(1)`}]:[{offset:0,opacity:.99,transform:`translate3d(0, ${$e.top-2}px, 0) scale(1)`},{offset:.6,opacity:0},{offset:1,opacity:0,transform:`translate3d(${dt}, ${kt.top-4}px, 0) scale(0.5)`}],nt=Ge("ion-title"),Ht=(0,h.c)();nt.innerText=We.innerText,nt.size=We.size,nt.color=We.color,Ht.addElement(nt),Ht.beforeStyles({"transform-origin":`${It} center`,height:"46px",display:"",position:"relative",[It]:Mt}).beforeAddWrite(()=>{We.style.setProperty("display","none")}).afterAddWrite(()=>{We.style.setProperty("display",""),nt.style.setProperty("display","none")}).keyframes(vt),at.addAnimation(Ht)},xe=(at,pt)=>{var Vt;try{const We="cubic-bezier(0.32,0.72,0,1)",$e="opacity",kt="transform",Mt="0%",It="rtl"===at.ownerDocument.dir,Tt=It?"-99.5%":"99.5%",wt=It?"33%":"-33%",vt=pt.enteringEl,nt=pt.leavingEl,Ht="back"===pt.direction,Ct=vt.querySelector(":scope > ion-content"),Nt=vt.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *"),qt=vt.querySelectorAll(":scope > ion-header > ion-toolbar"),Te=(0,h.c)(),qe=(0,h.c)();if(Te.addElement(vt).duration((null!==(Vt=pt.duration)&&void 0!==Vt?Vt:0)||540).easing(pt.easing||We).fill("both").beforeRemoveClass("ion-page-invisible"),nt&&null!=at){const et=(0,h.c)();et.addElement(at),Te.addAnimation(et)}if(Ct||0!==qt.length||0!==Nt.length?(qe.addElement(Ct),qe.addElement(Nt)):qe.addElement(vt.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),Te.addAnimation(qe),Ht?qe.beforeClearStyles([$e]).fromTo("transform",`translateX(${wt})`,`translateX(${Mt})`).fromTo($e,.8,1):qe.beforeClearStyles([$e]).fromTo("transform",`translateX(${Tt})`,`translateX(${Mt})`),Ct){const et=Se(Ct).querySelector(".transition-effect");if(et){const ct=et.querySelector(".transition-cover"),Ut=et.querySelector(".transition-shadow"),Pt=(0,h.c)(),Jt=(0,h.c)(),nn=(0,h.c)();Pt.addElement(et).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),Jt.addElement(ct).beforeClearStyles([$e]).fromTo($e,0,.1),nn.addElement(Ut).beforeClearStyles([$e]).fromTo($e,.03,.7),Pt.addAnimation([Jt,nn]),qe.addAnimation([Pt])}}const lt=vt.querySelector("ion-header.header-collapse-condense"),{forward:mt,backward:Je}=((at,pt,Vt,We,$e)=>{const kt=Qe(We,Vt),Mt=Pe($e),dt=Pe(We),It=Qe($e,Vt),Tt=null!==kt&&null!==Mt&&!Vt,wt=null!==dt&&null!==It&&Vt;if(Tt){const vt=Mt.getBoundingClientRect(),nt=kt.getBoundingClientRect();rt(at,pt,Vt,Mt,vt,nt),Me(at,pt,Vt,kt,vt,nt)}else if(wt){const vt=dt.getBoundingClientRect(),nt=It.getBoundingClientRect();rt(at,pt,Vt,dt,vt,nt),Me(at,pt,Vt,It,vt,nt)}return{forward:Tt,backward:wt}})(Te,It,Ht,vt,nt);if(qt.forEach(et=>{const ct=(0,h.c)();ct.addElement(et),Te.addAnimation(ct);const Ut=(0,h.c)();Ut.addElement(et.querySelector("ion-title"));const Pt=(0,h.c)(),Jt=Array.from(et.querySelectorAll("ion-buttons,[menuToggle]")),nn=et.closest("ion-header"),Nn=null==nn?void 0:nn.classList.contains("header-collapse-condense-inactive");let Qt;Qt=Jt.filter(Ht?ar=>{const lr=ar.classList.contains("buttons-collapse");return lr&&!Nn||!lr}:ar=>!ar.classList.contains("buttons-collapse")),Pt.addElement(Qt);const Et=(0,h.c)();Et.addElement(et.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])"));const on=(0,h.c)();on.addElement(Se(et).querySelector(".toolbar-background"));const yn=(0,h.c)(),Xn=et.querySelector("ion-back-button");if(Xn&&yn.addElement(Xn),ct.addAnimation([Ut,Pt,Et,on,yn]),Pt.fromTo($e,.01,1),Et.fromTo($e,.01,1),Ht)Nn||Ut.fromTo("transform",`translateX(${wt})`,`translateX(${Mt})`).fromTo($e,.01,1),Et.fromTo("transform",`translateX(${wt})`,`translateX(${Mt})`),yn.fromTo($e,.01,1);else if(lt||Ut.fromTo("transform",`translateX(${Tt})`,`translateX(${Mt})`).fromTo($e,.01,1),Et.fromTo("transform",`translateX(${Tt})`,`translateX(${Mt})`),on.beforeClearStyles([$e,"transform"]),(null==nn?void 0:nn.translucent)?on.fromTo("transform",It?"translateX(-100%)":"translateX(100%)","translateX(0px)"):on.fromTo($e,.01,"var(--opacity)"),mt||yn.fromTo($e,.01,1),Xn&&!mt){const lr=(0,h.c)();lr.addElement(Se(Xn).querySelector(".button-text")).fromTo("transform",It?"translateX(-100px)":"translateX(100px)","translateX(0px)"),ct.addAnimation(lr)}}),nt){const et=(0,h.c)(),ct=nt.querySelector(":scope > ion-content"),Ut=nt.querySelectorAll(":scope > ion-header > ion-toolbar"),Pt=nt.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *");if(ct||0!==Ut.length||0!==Pt.length?(et.addElement(ct),et.addElement(Pt)):et.addElement(nt.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),Te.addAnimation(et),Ht){et.beforeClearStyles([$e]).fromTo("transform",`translateX(${Mt})`,It?"translateX(-100%)":"translateX(100%)");const Jt=(0,_.g)(nt);Te.afterAddWrite(()=>{"normal"===Te.getDirection()&&Jt.style.setProperty("display","none")})}else et.fromTo("transform",`translateX(${Mt})`,`translateX(${wt})`).fromTo($e,1,.8);if(ct){const Jt=Se(ct).querySelector(".transition-effect");if(Jt){const nn=Jt.querySelector(".transition-cover"),Nn=Jt.querySelector(".transition-shadow"),Qt=(0,h.c)(),Et=(0,h.c)(),on=(0,h.c)();Qt.addElement(Jt).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),Et.addElement(nn).beforeClearStyles([$e]).fromTo($e,.1,0),on.addElement(Nn).beforeClearStyles([$e]).fromTo($e,.7,.03),Qt.addAnimation([Et,on]),et.addAnimation([Qt])}}Ut.forEach(Jt=>{const nn=(0,h.c)();nn.addElement(Jt);const Nn=(0,h.c)();Nn.addElement(Jt.querySelector("ion-title"));const Qt=(0,h.c)(),Et=Jt.querySelectorAll("ion-buttons,[menuToggle]"),on=Jt.closest("ion-header"),yn=null==on?void 0:on.classList.contains("header-collapse-condense-inactive"),Xn=Array.from(Et).filter(Rr=>{const Vr=Rr.classList.contains("buttons-collapse");return Vr&&!yn||!Vr});Qt.addElement(Xn);const ar=(0,h.c)(),lr=Jt.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])");lr.length>0&&ar.addElement(lr);const un=(0,h.c)();un.addElement(Se(Jt).querySelector(".toolbar-background"));const Yn=(0,h.c)(),an=Jt.querySelector("ion-back-button");if(an&&Yn.addElement(an),nn.addAnimation([Nn,Qt,ar,Yn,un]),Te.addAnimation(nn),Yn.fromTo($e,.99,0),Qt.fromTo($e,.99,0),ar.fromTo($e,.99,0),Ht){if(yn||Nn.fromTo("transform",`translateX(${Mt})`,It?"translateX(-100%)":"translateX(100%)").fromTo($e,.99,0),ar.fromTo("transform",`translateX(${Mt})`,It?"translateX(-100%)":"translateX(100%)"),un.beforeClearStyles([$e,"transform"]),(null==on?void 0:on.translucent)?un.fromTo("transform","translateX(0px)",It?"translateX(-100%)":"translateX(100%)"):un.fromTo($e,"var(--opacity)",0),an&&!Je){const Vr=(0,h.c)();Vr.addElement(Se(an).querySelector(".button-text")).fromTo("transform",`translateX(${Mt})`,`translateX(${(It?-124:124)+"px"})`),nn.addAnimation(Vr)}}else yn||Nn.fromTo("transform",`translateX(${Mt})`,`translateX(${wt})`).fromTo($e,.99,0).afterClearStyles([kt,$e]),ar.fromTo("transform",`translateX(${Mt})`,`translateX(${wt})`).afterClearStyles([kt,$e]),Yn.afterClearStyles([$e]),Nn.afterClearStyles([$e]),Qt.afterClearStyles([$e])})}return Te}catch(We){throw We}}},1138:(Kn,Rt,H)=>{"use strict";H.r(Rt),H.d(Rt,{mdTransitionAnimation:()=>Ze});var h=H(9613),_=H(9866);H(3457),H(4083);const Ze=(Ge,Se)=>{var Pe,Qe,Le;const xe="back"===Se.direction,pt=Se.leavingEl,Vt=(0,_.g)(Se.enteringEl),We=Vt.querySelector("ion-toolbar"),$e=(0,h.c)();if($e.addElement(Vt).fill("both").beforeRemoveClass("ion-page-invisible"),xe?$e.duration((null!==(Pe=Se.duration)&&void 0!==Pe?Pe:0)||200).easing("cubic-bezier(0.47,0,0.745,0.715)"):$e.duration((null!==(Qe=Se.duration)&&void 0!==Qe?Qe:0)||280).easing("cubic-bezier(0.36,0.66,0.04,1)").fromTo("transform","translateY(40px)","translateY(0px)").fromTo("opacity",.01,1),We){const kt=(0,h.c)();kt.addElement(We),$e.addAnimation(kt)}if(pt&&xe){$e.duration((null!==(Le=Se.duration)&&void 0!==Le?Le:0)||200).easing("cubic-bezier(0.47,0,0.745,0.715)");const kt=(0,h.c)();kt.addElement((0,_.g)(pt)).onFinish(Mt=>{1===Mt&&kt.elements.length>0&&kt.elements[0].style.setProperty("display","none")}).fromTo("transform","translateY(0px)","translateY(40px)").fromTo("opacity",1,0),$e.addAnimation(kt)}return $e}},2583:(Kn,Rt,H)=>{"use strict";H.d(Rt,{B:()=>Pt,G:()=>Jt,a:()=>Le,b:()=>Me,c:()=>pt,d:()=>nn,e:()=>Nn,f:()=>Nt,g:()=>Te,h:()=>mt,i:()=>et,j:()=>We,k:()=>Pe,l:()=>rt,m:()=>xe,n:()=>Mt,o:()=>Ht,s:()=>Ut,t:()=>Vt});var h=H(5861),_=H(5273),_e=H(6782),Oe=H(7593),Ze=H(3577),Ge=H(1178);let Se=0;const Pe=new WeakMap,Qe=Qt=>({create:Et=>$e(Qt,Et),dismiss:(Et,on,yn)=>vt(document,Et,on,Qt,yn),getTop:()=>(0,h.Z)(function*(){return Ht(document,Qt)})()}),Le=Qe("ion-alert"),Me=Qe("ion-action-sheet"),rt=Qe("ion-loading"),xe=Qe("ion-modal"),pt=Qe("ion-popover"),Vt=Qe("ion-toast"),We=Qt=>{typeof document<"u"&&wt(document);const Et=Se++;Qt.overlayIndex=Et,Qt.hasAttribute("id")||(Qt.id=`ion-overlay-${Et}`)},$e=(Qt,Et)=>typeof window<"u"&&typeof window.customElements<"u"?window.customElements.whenDefined(Qt).then(()=>{const on=document.createElement(Qt);return on.classList.add("overlay-hidden"),Object.assign(on,Object.assign(Object.assign({},Et),{hasController:!0})),qe(document).appendChild(on),new Promise(yn=>(0,Ze.c)(on,yn))}):Promise.resolve(),kt='[tabindex]:not([tabindex^="-"]):not([hidden]):not([disabled]), input:not([type=hidden]):not([tabindex^="-"]):not([hidden]):not([disabled]), textarea:not([tabindex^="-"]):not([hidden]):not([disabled]), button:not([tabindex^="-"]):not([hidden]):not([disabled]), select:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable[disabled="false"]:not([tabindex^="-"]):not([hidden])',Mt=(Qt,Et)=>{let on=Qt.querySelector(kt);const yn=null==on?void 0:on.shadowRoot;yn&&(on=yn.querySelector(kt)||on),on?(0,Ze.f)(on):Et.focus()},It=(Qt,Et)=>{const on=Array.from(Qt.querySelectorAll(kt));let yn=on.length>0?on[on.length-1]:null;const Xn=null==yn?void 0:yn.shadowRoot;Xn&&(yn=Xn.querySelector(kt)||yn),yn?yn.focus():Et.focus()},wt=Qt=>{0===Se&&(Se=1,Qt.addEventListener("focus",Et=>{((Qt,Et)=>{const on=Ht(Et,"ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker,ion-popover"),yn=Qt.target;on&&yn&&!on.classList.contains("ion-disable-focus-trap")&&(on.shadowRoot?(()=>{if(on.contains(yn))on.lastFocus=yn;else{const lr=on.lastFocus;Mt(on,on),lr===Et.activeElement&&It(on,on),on.lastFocus=Et.activeElement}})():(()=>{if(on===yn)on.lastFocus=void 0;else{const lr=(0,Ze.g)(on);if(!lr.contains(yn))return;const un=lr.querySelector(".ion-overlay-wrapper");if(!un)return;if(un.contains(yn))on.lastFocus=yn;else{const Yn=on.lastFocus;Mt(un,on),Yn===Et.activeElement&&It(un,on),on.lastFocus=Et.activeElement}}})())})(Et,Qt)},!0),Qt.addEventListener("ionBackButton",Et=>{const on=Ht(Qt);null!=on&&on.backdropDismiss&&Et.detail.register(Oe.OVERLAY_BACK_BUTTON_PRIORITY,()=>on.dismiss(void 0,Pt))}),Qt.addEventListener("keydown",Et=>{if("Escape"===Et.key){const on=Ht(Qt);null!=on&&on.backdropDismiss&&on.dismiss(void 0,Pt)}}))},vt=(Qt,Et,on,yn,Xn)=>{const ar=Ht(Qt,yn,Xn);return ar?ar.dismiss(Et,on):Promise.reject("overlay does not exist")},Ht=(Qt,Et,on)=>{const yn=((Qt,Et)=>(void 0===Et&&(Et="ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker,ion-popover,ion-toast"),Array.from(Qt.querySelectorAll(Et)).filter(on=>on.overlayIndex>0)))(Qt,Et).filter(Xn=>!(Qt=>Qt.classList.contains("overlay-hidden"))(Xn));return void 0===on?yn[yn.length-1]:yn.find(Xn=>Xn.id===on)},Ct=(Qt=!1)=>{const on=qe(document).querySelector("ion-router-outlet, ion-nav, #ion-view-container-root");on&&(Qt?on.setAttribute("aria-hidden","true"):on.removeAttribute("aria-hidden"))},Nt=function(){var Qt=(0,h.Z)(function*(Et,on,yn,Xn,ar){var lr,un;if(Et.presented)return;Ct(!0),Et.presented=!0,Et.willPresent.emit(),null===(lr=Et.willPresentShorthand)||void 0===lr||lr.emit();const Yn=(0,_.b)(Et),an=Et.enterAnimation?Et.enterAnimation:_.c.get(on,"ios"===Yn?yn:Xn);(yield lt(Et,an,Et.el,ar))&&(Et.didPresent.emit(),null===(un=Et.didPresentShorthand)||void 0===un||un.emit()),"ION-TOAST"!==Et.el.tagName&&qt(Et.el),Et.keyboardClose&&(null===document.activeElement||!Et.el.contains(document.activeElement))&&Et.el.focus()});return function(on,yn,Xn,ar,lr){return Qt.apply(this,arguments)}}(),qt=function(){var Qt=(0,h.Z)(function*(Et){let on=document.activeElement;if(!on)return;const yn=null==on?void 0:on.shadowRoot;yn&&(on=yn.querySelector(kt)||on),yield Et.onDidDismiss(),on.focus()});return function(on){return Qt.apply(this,arguments)}}(),Te=function(){var Qt=(0,h.Z)(function*(Et,on,yn,Xn,ar,lr,un){var Yn,an;if(!Et.presented)return!1;Ct(!1),Et.presented=!1;try{Et.el.style.setProperty("pointer-events","none"),Et.willDismiss.emit({data:on,role:yn}),null===(Yn=Et.willDismissShorthand)||void 0===Yn||Yn.emit({data:on,role:yn});const Rr=(0,_.b)(Et),Vr=Et.leaveAnimation?Et.leaveAnimation:_.c.get(Xn,"ios"===Rr?ar:lr);yn!==Jt&&(yield lt(Et,Vr,Et.el,un)),Et.didDismiss.emit({data:on,role:yn}),null===(an=Et.didDismissShorthand)||void 0===an||an.emit({data:on,role:yn}),Pe.delete(Et),Et.el.classList.add("overlay-hidden"),Et.el.style.removeProperty("pointer-events"),void 0!==Et.el.lastFocus&&(Et.el.lastFocus=void 0)}catch(Rr){console.error(Rr)}return Et.el.remove(),!0});return function(on,yn,Xn,ar,lr,un,Yn){return Qt.apply(this,arguments)}}(),qe=Qt=>Qt.querySelector("ion-app")||Qt.body,lt=function(){var Qt=(0,h.Z)(function*(Et,on,yn,Xn){yn.classList.remove("overlay-hidden");const lr=on(Et.el,Xn);(!Et.animated||!_.c.getBoolean("animated",!0))&&lr.duration(0),Et.keyboardClose&&lr.beforeAddWrite(()=>{const Yn=yn.ownerDocument.activeElement;null!=Yn&&Yn.matches("input,ion-input, ion-textarea")&&Yn.blur()});const un=Pe.get(Et)||[];return Pe.set(Et,[...un,lr]),yield lr.play(),!0});return function(on,yn,Xn,ar){return Qt.apply(this,arguments)}}(),mt=(Qt,Et)=>{let on;const yn=new Promise(Xn=>on=Xn);return Je(Qt,Et,Xn=>{on(Xn.detail)}),yn},Je=(Qt,Et,on)=>{const yn=Xn=>{(0,Ze.b)(Qt,Et,yn),on(Xn)};(0,Ze.a)(Qt,Et,yn)},et=Qt=>"cancel"===Qt||Qt===Pt,ct=Qt=>Qt(),Ut=(Qt,Et)=>{if("function"==typeof Qt)return _.c.get("_zoneGate",ct)(()=>{try{return Qt(Et)}catch(yn){throw yn}})},Pt="backdrop",Jt="gesture",nn=Qt=>{let on,Et=!1;const yn=(0,_e.C)(),Xn=(un=!1)=>{if(on&&!un)return{delegate:on,inline:Et};const{el:Yn,hasController:an,delegate:Rr}=Qt;return Et=null!==Yn.parentNode&&!an,on=Et?Rr||yn:Rr,{inline:Et,delegate:on}};return{attachViewToDom:function(){var un=(0,h.Z)(function*(Yn){const{delegate:an}=Xn(!0);if(an)return yield an.attachViewToDom(Qt.el,Yn);const{hasController:Rr}=Qt;if(Rr&&void 0!==Yn)throw new Error("framework delegate is missing");return null});return function(an){return un.apply(this,arguments)}}(),removeViewFromDom:()=>{const{delegate:un}=Xn();un&&void 0!==Qt.el&&un.removeViewFromDom(Qt.el.parentElement,Qt.el)}}},Nn=()=>{let Qt;const Et=()=>{Qt&&(Qt(),Qt=void 0)};return{addClickListener:(yn,Xn)=>{Et();const ar=void 0!==Xn?document.getElementById(Xn):null;ar?Qt=((un,Yn)=>{const an=()=>{Yn.present()};return un.addEventListener("click",an),()=>{un.removeEventListener("click",an)}})(ar,yn):(0,Ge.p)(`A trigger element with the ID "${Xn}" was not found in the DOM. The trigger element must be in the DOM when the "trigger" property is set on an overlay component.`,yn)},removeClickListener:Et}}},7622:(Kn,Rt,H)=>{"use strict";H.d(Rt,{e:()=>Ge});var h=H(5861),_=H(9260);let _e=(()=>{class Se{}return Se.email=Pe=>{if(!(Pe.endsWith("@admin.com")||Pe.endsWith("@invitado.com")||Pe.endsWith("@usuario.com")||Pe.endsWith("@anonimo.com")||Pe.endsWith("@tester.com")))throw new Error("Mal formato de datos.");return Pe},Se})();var Oe=H(2223),Ze=H(3385);let Ge=(()=>{class Se{constructor(Qe){var Le=this;this.angularFireAuth=Qe,this.myUsuario="valor inicial",this.signIn=function(){var Me=(0,h.Z)(function*(rt,xe){return yield Le.angularFireAuth.signInWithEmailAndPassword(_e.email(rt),xe).then(at=>at).catch(at=>{throw"auth/user-disabled"===at.code?new Error("El usuario ha sido deshabilitado."):"auth/user-not-found"===at.code?new Error("No existe un usuario con estos datos."):new Error("Datos incorrectos.")})});return function(rt,xe){return Me.apply(this,arguments)}}(),this.signUp=function(){var Me=(0,h.Z)(function*(rt,xe){return yield Le.angularFireAuth.createUserWithEmailAndPassword(_e.email(rt),xe).then(at=>at).catch(at=>{throw"auth/operation-not-allowed"===at.code?new Error("Lo siento, hubo un error interno. Vuelva a intentarlo mas tarde."):"auth/email-already-in-use"===at.code?new Error("El mail ingresado, ya pertenece a un usuario existente."):new Error("Mal formato de datos.")})});return function(rt,xe){return Me.apply(this,arguments)}}(),this.signOut=(0,h.Z)(function*(){yield Le.angularFireAuth.signOut()}),this.signUpWithGoogle=(0,h.Z)(function*(){const Me=new _.Z.auth.GoogleAuthProvider;return Me.addScope("profile"),Me.addScope("email"),yield Le.signUpWithProvider(Me)}),this.signUpWithProvider=function(){var Me=(0,h.Z)(function*(rt){return yield Le.angularFireAuth.signInWithPopup(rt).then(xe=>xe).catch(()=>{throw new Error("Operaci\xf3n cancelada.")})});return function(rt){return Me.apply(this,arguments)}}(),this.userData=Qe.authState}login(Qe,Le){return this.myUsuario=this.formatNombre(Qe),this.angularFireAuth.signInWithEmailAndPassword(Qe,Le)}formatNombre(Qe){if(""!=Qe&&null!=Qe){const Le=Qe.substring(0,Qe.indexOf("@"));return Le.charAt(0).toUpperCase()+Le.slice(1)}return""}getUser(){return"123456"}}return Se.\u0275fac=function(Qe){return new(Qe||Se)(Oe.LFG(Ze.zQ))},Se.\u0275prov=Oe.Yz7({token:Se,factory:Se.\u0275fac,providedIn:"root"}),Se})()},2527:(Kn,Rt,H)=>{"use strict";var h=H(6550),_=H(2223),_e=H(5559),Oe=H(9972),Ze=H(89),Ge=H(655),Se=H(8261),Pe=function(c){function s(){return null!==c&&c.apply(this,arguments)||this}return(0,Ge.ZT)(s,c),s.prototype.show=function(){return(0,Se.DM)(this,"show",{sync:!0},arguments)},s.prototype.hide=function(){return(0,Se.DM)(this,"hide",{sync:!0},arguments)},s.pluginName="SplashScreen",s.plugin="cordova-plugin-splashscreen",s.pluginRef="navigator.splashscreen",s.repo="https://github.com/apache/cordova-plugin-splashscreen",s.platforms=["Amazon Fire OS","Android","iOS","Windows"],s.decorators=[{type:_.GSi}],s}(Se.KY),Qe=function(c){function s(){return null!==c&&c.apply(this,arguments)||this}return(0,Ge.ZT)(s,c),s.prototype.overlaysWebView=function(o){return(0,Se.DM)(this,"overlaysWebView",{sync:!0},arguments)},s.prototype.styleDefault=function(){return(0,Se.DM)(this,"styleDefault",{sync:!0},arguments)},s.prototype.styleLightContent=function(){return(0,Se.DM)(this,"styleLightContent",{sync:!0},arguments)},s.prototype.styleBlackTranslucent=function(){return(0,Se.DM)(this,"styleBlackTranslucent",{sync:!0},arguments)},s.prototype.styleBlackOpaque=function(){return(0,Se.DM)(this,"styleBlackOpaque",{sync:!0},arguments)},s.prototype.backgroundColorByName=function(o){return(0,Se.DM)(this,"backgroundColorByName",{sync:!0},arguments)},s.prototype.backgroundColorByHexString=function(o){return(0,Se.DM)(this,"backgroundColorByHexString",{sync:!0},arguments)},s.prototype.hide=function(){return(0,Se.DM)(this,"hide",{sync:!0},arguments)},s.prototype.show=function(){return(0,Se.DM)(this,"show",{sync:!0},arguments)},Object.defineProperty(s.prototype,"isVisible",{get:function(){return(0,Se.J2)(this,"isVisible")},set:function(o){(0,Se.Iq)(this,"isVisible",o)},enumerable:!1,configurable:!0}),s.pluginName="StatusBar",s.plugin="cordova-plugin-statusbar",s.pluginRef="StatusBar",s.repo="https://github.com/apache/cordova-plugin-statusbar",s.platforms=["Android","iOS","Windows"],s.decorators=[{type:_.GSi}],s}(Se.KY),Le=H(4755);function Me(c,s){if(1&c&&(_.TgZ(0,"li",2),_._uU(1),_.qZA()),2&c){const o=s.$implicit;_.xp6(1),_.hij(" ",o.name," ")}}let rt=(()=>{class c{constructor(o,p,w){this.platform=o,this.splashScreen=p,this.statusBar=w,this.firestore=(0,_.f3M)(Ze.gg);const x=(0,Ze.hJ)(this.firestore,"items");this.items$=(0,Ze.BS)(x),this.initializeApp()}initializeApp(){this.platform.ready().then(()=>{this.statusBar.styleDefault(),this.splashScreen.hide()})}}return c.\u0275fac=function(o){return new(o||c)(_.Y36(Oe.t4),_.Y36(Pe),_.Y36(Qe))},c.\u0275cmp=_.Xpm({type:c,selectors:[["app-root"]],decls:5,vars:3,consts:[["class","text",4,"ngFor","ngForOf"],["id","main-content"],[1,"text"]],template:function(o,p){1&o&&(_.TgZ(0,"ul"),_.YNc(1,Me,2,1,"li",0),_.ALo(2,"async"),_.qZA(),_.TgZ(3,"ion-app"),_._UZ(4,"ion-router-outlet",1),_.qZA()),2&o&&(_.xp6(1),_.Q6J("ngForOf",_.lcZ(2,1,p.items$)))},dependencies:[Le.sg,Oe.dr,Oe.jP,Le.Ov],styles:["ion-menu[_ngcontent-%COMP%]   ion-content[_ngcontent-%COMP%]{--background: var(--ion-item-background, var(--ion-background-color, #fff))}ion-menu.md[_ngcontent-%COMP%]   ion-content[_ngcontent-%COMP%]{--padding-start: 8px;--padding-end: 8px;--padding-top: 20px;--padding-bottom: 20px}ion-menu.md[_ngcontent-%COMP%]   ion-list[_ngcontent-%COMP%]{padding:20px 0}ion-menu.md[_ngcontent-%COMP%]   ion-note[_ngcontent-%COMP%]{margin-bottom:30px}ion-menu.md[_ngcontent-%COMP%]   ion-list-header[_ngcontent-%COMP%], ion-menu.md[_ngcontent-%COMP%]   ion-note[_ngcontent-%COMP%]{padding-left:10px}ion-menu.md[_ngcontent-%COMP%]   ion-list#inbox-list[_ngcontent-%COMP%]{border-bottom:1px solid var(--ion-color-step-150, #d7d8da)}ion-menu.md[_ngcontent-%COMP%]   ion-list#inbox-list[_ngcontent-%COMP%]   ion-list-header[_ngcontent-%COMP%]{font-size:22px;font-weight:600;min-height:20px}ion-menu.md[_ngcontent-%COMP%]   ion-list#labels-list[_ngcontent-%COMP%]   ion-list-header[_ngcontent-%COMP%]{font-size:16px;margin-bottom:18px;color:#757575;min-height:26px}ion-menu.md[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]{--padding-start: 10px;--padding-end: 10px;border-radius:4px}ion-menu.md[_ngcontent-%COMP%]   ion-item.selected[_ngcontent-%COMP%]{--background: rgba(var(--ion-color-primary-rgb), .14)}ion-menu.md[_ngcontent-%COMP%]   ion-item.selected[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{color:var(--ion-color-primary)}ion-menu.md[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{color:#616e7e}ion-menu.md[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{font-weight:500}ion-menu.ios[_ngcontent-%COMP%]   ion-content[_ngcontent-%COMP%]{--padding-bottom: 20px}ion-menu.ios[_ngcontent-%COMP%]   ion-list[_ngcontent-%COMP%]{padding:20px 0 0}ion-menu.ios[_ngcontent-%COMP%]   ion-note[_ngcontent-%COMP%]{line-height:24px;margin-bottom:20px}ion-menu.ios[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]{--padding-start: 16px;--padding-end: 16px;--min-height: 50px}ion-menu.ios[_ngcontent-%COMP%]   ion-item.selected[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{color:var(--ion-color-primary)}ion-menu.ios[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:24px;color:#73849a}ion-menu.ios[_ngcontent-%COMP%]   ion-list#labels-list[_ngcontent-%COMP%]   ion-list-header[_ngcontent-%COMP%]{margin-bottom:8px}ion-menu.ios[_ngcontent-%COMP%]   ion-list-header[_ngcontent-%COMP%], ion-menu.ios[_ngcontent-%COMP%]   ion-note[_ngcontent-%COMP%]{padding-left:16px;padding-right:16px}ion-menu.ios[_ngcontent-%COMP%]   ion-note[_ngcontent-%COMP%]{margin-bottom:8px}ion-note[_ngcontent-%COMP%]{display:inline-block;font-size:16px;color:var(--ion-color-medium-shade)}ion-item.selected[_ngcontent-%COMP%]{--color: var(--ion-color-primary)}"]}),c})();var xe=H(3192),at=H(1086);const $e=function We(c,s){return c===s||c!=c&&s!=s},Mt=function kt(c,s){for(var o=c.length;o--;)if($e(c[o][0],s))return o;return-1};var It=Array.prototype.splice;function Te(c){var s=-1,o=null==c?0:c.length;for(this.clear();++s<o;){var p=c[s];this.set(p[0],p[1])}}Te.prototype.clear=function pt(){this.__data__=[],this.size=0},Te.prototype.delete=function Tt(c){var s=this.__data__,o=Mt(s,c);return!(o<0||(o==s.length-1?s.pop():It.call(s,o,1),--this.size,0))},Te.prototype.get=function vt(c){var s=this.__data__,o=Mt(s,c);return o<0?void 0:s[o][1]},Te.prototype.has=function Ht(c){return Mt(this.__data__,c)>-1},Te.prototype.set=function Nt(c,s){var o=this.__data__,p=Mt(o,c);return p<0?(++this.size,o.push([c,s])):o[p][1]=s,this};const qe=Te,Nn="object"==typeof global&&global&&global.Object===Object&&global;var Qt="object"==typeof self&&self&&self.Object===Object&&self;const on=Nn||Qt||Function("return this")();var yn=on.Symbol,ar=Object.prototype,lr=ar.hasOwnProperty,un=ar.toString,Yn=yn?yn.toStringTag:void 0;var Ar=Object.prototype.toString;var vi=yn?yn.toStringTag:void 0;const Jn=function pi(c){return null==c?void 0===c?"[object Undefined]":"[object Null]":vi&&vi in Object(c)?function an(c){var s=lr.call(c,Yn),o=c[Yn];try{c[Yn]=void 0;var p=!0}catch{}var w=un.call(c);return p&&(s?c[Yn]=o:delete c[Yn]),w}(c):function Mn(c){return Ar.call(c)}(c)},cr=function Qn(c){var s=typeof c;return null!=c&&("object"==s||"function"==s)},br=function gi(c){if(!cr(c))return!1;var s=Jn(c);return"[object Function]"==s||"[object GeneratorFunction]"==s||"[object AsyncFunction]"==s||"[object Proxy]"==s};var c,dr=on["__core-js_shared__"],Er=(c=/[^.]+$/.exec(dr&&dr.keys&&dr.keys.IE_PROTO||""))?"Symbol(src)_1."+c:"";var jt=Function.prototype.toString;var xr=/^\[object .+?Constructor\]$/,te=RegExp("^"+Function.prototype.toString.call(Object.prototype.hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");const Ke=function oe(c){return!(!cr(c)||function Cn(c){return!!Er&&Er in c}(c))&&(br(c)?te:xr).test(function bn(c){if(null!=c){try{return jt.call(c)}catch{}try{return c+""}catch{}}return""}(c))},Zt=function $t(c,s){var o=function At(c,s){return null==c?void 0:c[s]}(c,s);return Ke(o)?o:void 0},vn=Zt(on,"Map"),rn=Zt(Object,"create");var hr=Object.prototype.hasOwnProperty;var zr=Object.prototype.hasOwnProperty;function Vi(c){var s=-1,o=null==c?0:c.length;for(this.clear();++s<o;){var p=c[s];this.set(p[0],p[1])}}Vi.prototype.clear=function mn(){this.__data__=rn?rn(null):{},this.size=0},Vi.prototype.delete=function Ft(c){var s=this.has(c)&&delete this.__data__[c];return this.size-=s?1:0,s},Vi.prototype.get=function Or(c){var s=this.__data__;if(rn){var o=s[c];return"__lodash_hash_undefined__"===o?void 0:o}return hr.call(s,c)?s[c]:void 0},Vi.prototype.has=function kr(c){var s=this.__data__;return rn?void 0!==s[c]:zr.call(s,c)},Vi.prototype.set=function Io(c,s){var o=this.__data__;return this.size+=this.has(c)?0:1,o[c]=rn&&void 0===s?"__lodash_hash_undefined__":s,this};const zi=Vi,Vs=function Qs(c,s){var o=c.__data__;return function Ri(c){var s=typeof c;return"string"==s||"number"==s||"symbol"==s||"boolean"==s?"__proto__"!==c:null===c}(s)?o["string"==typeof s?"string":"hash"]:o.map};function bt(c){var s=-1,o=null==c?0:c.length;for(this.clear();++s<o;){var p=c[s];this.set(p[0],p[1])}}bt.prototype.clear=function Co(){this.size=0,this.__data__={hash:new zi,map:new(vn||qe),string:new zi}},bt.prototype.delete=function Us(c){var s=Vs(this,c).delete(c);return this.size-=s?1:0,s},bt.prototype.get=function fe(c){return Vs(this,c).get(c)},bt.prototype.has=function Ee(c){return Vs(this,c).has(c)},bt.prototype.set=function ye(c,s){var o=Vs(this,c),p=o.size;return o.set(c,s),this.size+=o.size==p?0:1,this};const Lt=bt;function wr(c){var s=this.__data__=new qe(c);this.size=s.size}wr.prototype.clear=function lt(){this.__data__=new qe,this.size=0},wr.prototype.delete=function Je(c){var s=this.__data__,o=s.delete(c);return this.size=s.size,o},wr.prototype.get=function ct(c){return this.__data__.get(c)},wr.prototype.has=function Pt(c){return this.__data__.has(c)},wr.prototype.set=function zn(c,s){var o=this.__data__;if(o instanceof qe){var p=o.__data__;if(!vn||p.length<199)return p.push([c,s]),this.size=++o.size,this;o=this.__data__=new Lt(p)}return o.set(c,s),this.size=o.size,this};const Qr=wr;var is=function(){try{var c=Zt(Object,"defineProperty");return c({},"",{}),c}catch{}}();const Fi=is,Ci=function Ws(c,s,o){"__proto__"==s&&Fi?Fi(c,s,{configurable:!0,enumerable:!0,value:o,writable:!0}):c[s]=o},Lr=function tr(c,s,o){(void 0!==o&&!$e(c[s],o)||void 0===o&&!(s in c))&&Ci(c,s,o)};var Do=function Ai(c){return function(s,o,p){for(var w=-1,x=Object(s),j=p(s),J=j.length;J--;){var ve=j[c?J:++w];if(!1===o(x[ve],ve,x))break}return s}}();const ss=Do;var oo="object"==typeof exports&&exports&&!exports.nodeType&&exports,ki=oo&&"object"==typeof module&&module&&!module.nodeType&&module,os=ki&&ki.exports===oo?on.Buffer:void 0,Br=os?os.allocUnsafe:void 0;const Li=on.Uint8Array,ko=function fo(c,s){var o=s?function Gs(c){var s=new c.constructor(c.byteLength);return new Li(s).set(new Li(c)),s}(c.buffer):c.buffer;return new c.constructor(o,c.byteOffset,c.length)};var lo=Object.create,ia=function(){function c(){}return function(s){if(!cr(s))return{};if(lo)return lo(s);c.prototype=s;var o=new c;return c.prototype=void 0,o}}();const ps=ia;var Js=function Ei(c,s){return function(o){return c(s(o))}}(Object.getPrototypeOf,Object);const Qo=Js;var eo=Object.prototype;const go=function So(c){var s=c&&c.constructor;return c===("function"==typeof s&&s.prototype||eo)},Is=function ma(c){return null!=c&&"object"==typeof c},Vo=function Jo(c){return Is(c)&&"[object Arguments]"==Jn(c)};var mo=Object.prototype,To=mo.hasOwnProperty,Ao=mo.propertyIsEnumerable,sa=Vo(function(){return arguments}())?Vo:function(c){return Is(c)&&To.call(c,"callee")&&!Ao.call(c,"callee")};const to=sa,Uo=Array.isArray,yo=function Ho(c){return"number"==typeof c&&c>-1&&c%1==0&&c<=9007199254740991},Wo=function ea(c){return null!=c&&yo(c.length)&&!br(c)};var Xe="object"==typeof exports&&exports&&!exports.nodeType&&exports,En=Xe&&"object"==typeof module&&module&&!module.nodeType&&module,Ur=En&&En.exports===Xe?on.Buffer:void 0;const Ms=(Ur?Ur.isBuffer:void 0)||function N(){return!1};var be=Function.prototype.toString,de=Object.prototype.hasOwnProperty,$=be.call(Object);var Gi={};Gi["[object Float32Array]"]=Gi["[object Float64Array]"]=Gi["[object Int8Array]"]=Gi["[object Int16Array]"]=Gi["[object Int32Array]"]=Gi["[object Uint8Array]"]=Gi["[object Uint8ClampedArray]"]=Gi["[object Uint16Array]"]=Gi["[object Uint32Array]"]=!0,Gi["[object Arguments]"]=Gi["[object Array]"]=Gi["[object ArrayBuffer]"]=Gi["[object Boolean]"]=Gi["[object DataView]"]=Gi["[object Date]"]=Gi["[object Error]"]=Gi["[object Function]"]=Gi["[object Map]"]=Gi["[object Number]"]=Gi["[object Object]"]=Gi["[object RegExp]"]=Gi["[object Set]"]=Gi["[object String]"]=Gi["[object WeakMap]"]=!1;var Go="object"==typeof exports&&exports&&!exports.nodeType&&exports,sl=Go&&"object"==typeof module&&module&&!module.nodeType&&module,X=sl&&sl.exports===Go&&Nn.process,le=function(){try{return sl&&sl.require&&sl.require("util").types||X&&X.binding&&X.binding("util")}catch{}}(),Ue=le&&le.isTypedArray;const Dt=Ue?function xl(c){return function(s){return c(s)}}(Ue):function il(c){return Is(c)&&yo(c.length)&&!!Gi[Jn(c)]},tn=function Wt(c,s){if(("constructor"!==s||"function"!=typeof c[s])&&"__proto__"!=s)return c[s]};var nr=Object.prototype.hasOwnProperty;const Wr=function li(c,s,o){var p=c[s];(!nr.call(c,s)||!$e(p,o)||void 0===o&&!(s in c))&&Ci(c,s,o)};var Fe=/^(?:0|[1-9]\d*)$/;const _n=function _t(c,s){var o=typeof c;return!!(s=null==s?9007199254740991:s)&&("number"==o||"symbol"!=o&&Fe.test(c))&&c>-1&&c%1==0&&c<s};var Jr=Object.prototype.hasOwnProperty;const Ni=function yr(c,s){var o=Uo(c),p=!o&&to(c),w=!o&&!p&&Ms(c),x=!o&&!p&&!w&&Dt(c),j=o||p||w||x,J=j?function q(c,s){for(var o=-1,p=Array(c);++o<c;)p[o]=s(o);return p}(c.length,String):[],ve=J.length;for(var Be in c)(s||Jr.call(c,Be))&&(!j||!("length"==Be||w&&("offset"==Be||"parent"==Be)||x&&("buffer"==Be||"byteLength"==Be||"byteOffset"==Be)||_n(Be,ve)))&&J.push(Be);return J};var Ps=Object.prototype.hasOwnProperty;const Un=function xo(c){if(!cr(c))return function di(c){var s=[];if(null!=c)for(var o in Object(c))s.push(o);return s}(c);var s=go(c),o=[];for(var p in c)"constructor"==p&&(s||!Ps.call(c,p))||o.push(p);return o},Ko=function Mi(c){return Wo(c)?Ni(c,!0):Un(c)},Sr=function oa(c){return function Ls(c,s,o,p){var w=!o;o||(o={});for(var x=-1,j=s.length;++x<j;){var J=s[x],ve=p?p(o[J],c[J],J,o,c):void 0;void 0===ve&&(ve=c[J]),w?Ci(o,J,ve):Wr(o,J,ve)}return o}(c,Ko(c))},Wn=function Zr(c,s,o,p,w,x,j){var J=tn(c,o),ve=tn(s,o),Be=j.get(ve);if(Be)Lr(c,o,Be);else{var xt=x?x(J,ve,o+"",c,s,j):void 0,Yt=void 0===xt;if(Yt){var ln=Uo(ve),On=!ln&&Ms(ve),Hn=!ln&&!On&&Dt(ve);xt=ve,ln||On||Hn?Uo(J)?xt=J:function k(c){return Is(c)&&Wo(c)}(J)?xt=function $o(c,s){var o=-1,p=c.length;for(s||(s=Array(p));++o<p;)s[o]=c[o];return s}(J):On?(Yt=!1,xt=function ao(c,s){if(s)return c.slice();var o=c.length,p=Br?Br(o):new c.constructor(o);return c.copy(p),p}(ve,!0)):Hn?(Yt=!1,xt=ko(ve,!0)):xt=[]:function L(c){if(!Is(c)||"[object Object]"!=Jn(c))return!1;var s=Qo(c);if(null===s)return!0;var o=de.call(s,"constructor")&&s.constructor;return"function"==typeof o&&o instanceof o&&be.call(o)==$}(ve)||to(ve)?(xt=J,to(J)?xt=Sr(J):(!cr(J)||br(J))&&(xt=function No(c){return"function"!=typeof c.constructor||go(c)?{}:ps(Qo(c))}(ve))):Yt=!1}Yt&&(j.set(ve,xt),w(xt,ve,p,x,j),j.delete(ve)),Lr(c,o,xt)}},wn=function Ln(c,s,o,p,w){c!==s&&ss(s,function(x,j){if(w||(w=new Qr),cr(x))Wn(c,s,j,o,Ln,p,w);else{var J=p?p(tn(c,j),x,j+"",c,s,w):void 0;void 0===J&&(J=x),Lr(c,j,J)}},Ko)},as=function qn(c){return c};var qa=Math.max;const Pl=function ya(c){return function(){return c}};var Ld=Fi?function(c,s){return Fi(c,"toString",{configurable:!0,enumerable:!1,value:Pl(s),writable:!0})}:as,Pi=Date.now,_o=function va(c){var s=0,o=0;return function(){var p=Pi(),w=16-(p-o);if(o=p,w>0){if(++s>=800)return arguments[0]}else s=0;return c.apply(void 0,arguments)}}(Ld);const hi=_o,Ki=function Za(c,s){return hi(function rc(c,s,o){return s=qa(void 0===s?c.length-1:s,0),function(){for(var p=arguments,w=-1,x=qa(p.length-s,0),j=Array(x);++w<x;)j[w]=p[s+w];w=-1;for(var J=Array(s+1);++w<s;)J[w]=p[w];return J[s]=o(j),function nc(c,s,o){switch(o.length){case 0:return c.call(s);case 1:return c.call(s,o[0]);case 2:return c.call(s,o[0],o[1]);case 3:return c.call(s,o[0],o[1],o[2])}return c.apply(s,o)}(c,this,J)}}(c,s,as),c+"")};var sc=function _r(c){return Ki(function(s,o){var p=-1,w=o.length,x=w>1?o[w-1]:void 0,j=w>2?o[2]:void 0;for(x=c.length>3&&"function"==typeof x?(w--,x):void 0,j&&function vl(c,s,o){if(!cr(o))return!1;var p=typeof s;return!!("number"==p?Wo(o)&&_n(s,o.length):"string"==p&&s in o)&&$e(o[s],c)}(o[0],o[1],j)&&(x=w<3?void 0:x,w=1),s=Object(s);++p<w;){var J=o[p];J&&c(s,J,p,x)}return s})}(function(c,s,o){wn(c,s,o)});const ol=sc,iu=[[255,99,132],[54,162,235],[255,206,86],[231,233,237],[75,192,192],[151,187,205],[220,220,220],[247,70,74],[70,191,189],[253,180,92],[148,159,177],[77,83,96]],al={plugins:{colors:{enabled:!1}},datasets:{line:{backgroundColor:c=>Ka(Mo(c.datasetIndex),.4),borderColor:c=>Ka(Mo(c.datasetIndex),1),pointBackgroundColor:c=>Ka(Mo(c.datasetIndex),1),pointBorderColor:"#fff"},bar:{backgroundColor:c=>Ka(Mo(c.datasetIndex),.6),borderColor:c=>Ka(Mo(c.datasetIndex),1)},get radar(){return this.line},doughnut:{backgroundColor:c=>Ka(Mo(c.dataIndex),.6),borderColor:"#fff"},get pie(){return this.doughnut},polarArea:{backgroundColor:c=>Ka(Mo(c.dataIndex),.6),borderColor:c=>Ka(Mo(c.dataIndex),1)},get bubble(){return this.doughnut},get scatter(){return this.doughnut},get area(){return this.polarArea}}};function Ka(c,s){return"rgba("+c.concat(s).join(",")+")"}function Mc(c,s){return Math.floor(Math.random()*(s-c+1))+c}function Mo(c=0){return iu[c]||function Ba(){return[Mc(0,255),Mc(0,255),Mc(0,255)]}()}let ll=(()=>{class c{constructor(){this.generateColors=!0}}return c.\u0275fac=function(o){return new(o||c)},c.\u0275prov=_.Yz7({token:c,factory:c.\u0275fac,providedIn:"root"}),c})();xe.kL.register(...xe.zX);let Bo=(()=>{class c{constructor(o){null!=o&&o.plugins&&xe.kL.register(...o.plugins);const p=ol(null!=o&&o.generateColors?al:{},(null==o?void 0:o.defaults)||{});at.d.set(p)}static forRoot(o){return{ngModule:c,providers:[{provide:ll,useValue:o}]}}}return c.\u0275fac=function(o){return new(o||c)(_.LFG(ll,8))},c.\u0275mod=_.oAB({type:c}),c.\u0275inj=_.cJS({}),c})();const _l=[{path:"",redirectTo:"login",pathMatch:"full"},{path:"folder/:id",loadChildren:()=>H.e(1910).then(H.bind(H,1910)).then(c=>c.FolderPageModule)},{path:"admin",loadChildren:()=>H.e(3015).then(H.bind(H,3015)).then(c=>c.AdminPageModule)},{path:"home",loadChildren:()=>H.e(4851).then(H.bind(H,4851)).then(c=>c.HomePageModule)},{path:"login",loadChildren:()=>H.e(1821).then(H.bind(H,1821)).then(c=>c.LoginPageModule)},{path:"register",loadChildren:()=>H.e(7826).then(H.bind(H,7826)).then(c=>c.RegisterPageModule)},{path:"feas",loadChildren:()=>Promise.all([H.e(8592),H.e(6015)]).then(H.bind(H,6015)).then(c=>c.FeasPageModule)},{path:"lindas",loadChildren:()=>Promise.all([H.e(8592),H.e(14)]).then(H.bind(H,14)).then(c=>c.LindasPageModule)},{path:"lista-feas",loadChildren:()=>Promise.all([H.e(8592),H.e(2516)]).then(H.bind(H,2516)).then(c=>c.ListaFeasPageModule)},{path:"lista-lindas",loadChildren:()=>Promise.all([H.e(8592),H.e(5172)]).then(H.bind(H,5172)).then(c=>c.ListaLindasPageModule)},{path:"mis-fotos",loadChildren:()=>H.e(3562).then(H.bind(H,3562)).then(c=>c.MisFotosPageModule)},{path:"splash",loadChildren:()=>H.e(2068).then(H.bind(H,2068)).then(c=>c.SplashPageModule)},{path:"tabs",loadChildren:()=>H.e(5652).then(H.bind(H,174)).then(c=>c.TabsPageModule)},{path:"camara/:type",loadChildren:()=>Promise.all([H.e(579),H.e(7455)]).then(H.bind(H,7455)).then(c=>c.CamaraPageModule)}];let su=(()=>{class c{}return c.\u0275fac=function(o){return new(o||c)},c.\u0275mod=_.oAB({type:c}),c.\u0275inj=_.cJS({imports:[_e.Bz.forRoot(_l,{preloadingStrategy:_e.wm}),_e.Bz]}),c})();const fn_firebase={projectId:"reelevamientovisual2023",appId:"1:576178312697:web:4ff5e464f71303b41ad928",storageBucket:"reelevamientovisual2023.appspot.com",apiKey:"AIzaSyAvHCXlpbH63heUpkmTKTPxkyaOi1XuoLE",authDomain:"reelevamientovisual2023.firebaseapp.com",messagingSenderId:"576178312697"};var Ia=H(2011),Yo=H(3385),Bd=H(4986),bl=H(9751),Po=H(9646),Pc=H(6451),Ys=H(4004),V=H(3099),G=H(3900),O=H(5026),Z=H(1884),pe=H(4482),Ye=H(5403),je=H(8421),Kt=H(4671),Sn=H(5032),Tr=H(7669),Yi=H(3324),y=(H(9568),H(3942)),d=H(4859),m=H(5861),E=H(6881),b=H(2090),M=H(1877);const B="@firebase/database",W="0.14.4";let ne="";function Ce(c){ne=c}class Ve{constructor(s){this.domStorage_=s,this.prefix_="firebase:"}set(s,o){null==o?this.domStorage_.removeItem(this.prefixedName_(s)):this.domStorage_.setItem(this.prefixedName_(s),(0,b.Wl)(o))}get(s){const o=this.domStorage_.getItem(this.prefixedName_(s));return null==o?null:(0,b.cI)(o)}remove(s){this.domStorage_.removeItem(this.prefixedName_(s))}prefixedName_(s){return this.prefix_+s}toString(){return this.domStorage_.toString()}}class ht{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(s,o){null==o?delete this.cache_[s]:this.cache_[s]=o}get(s){return(0,b.r3)(this.cache_,s)?this.cache_[s]:null}remove(s){delete this.cache_[s]}}const yt=function(c){try{if(typeof window<"u"&&typeof window[c]<"u"){const s=window[c];return s.setItem("firebase:sentinel","cache"),s.removeItem("firebase:sentinel"),new Ve(s)}}catch{}return new ht},zt=yt("localStorage"),sn=yt("sessionStorage"),gn=new M.Yd("@firebase/database"),Bn=function(){let c=1;return function(){return c++}}(),xn=function(c){const s=(0,b.dS)(c),o=new b.gQ;o.update(s);const p=o.digest();return b.US.encodeByteArray(p)},rr=function(...c){let s="";for(let o=0;o<c.length;o++){const p=c[o];Array.isArray(p)||p&&"object"==typeof p&&"number"==typeof p.length?s+=rr.apply(null,p):s+="object"==typeof p?(0,b.Wl)(p):p,s+=" "}return s};let or=null,Zn=!0;const ir=function(c,s){(0,b.hu)(!s||!0===c||!1===c,"Can't turn on custom loggers persistently."),!0===c?(gn.logLevel=M.in.VERBOSE,or=gn.log.bind(gn),s&&sn.set("logging_enabled",!0)):"function"==typeof c?or=c:(or=null,sn.remove("logging_enabled"))},sr=function(...c){if(!0===Zn&&(Zn=!1,null===or&&!0===sn.get("logging_enabled")&&ir(!0)),or){const s=rr.apply(null,c);or(s)}},Dr=function(c){return function(...s){sr(c,...s)}},ti=function(...c){const s="FIREBASE INTERNAL ERROR: "+rr(...c);gn.error(s)},Ti=function(...c){const s=`FIREBASE FATAL ERROR: ${rr(...c)}`;throw gn.error(s),new Error(s)},vr=function(...c){const s="FIREBASE WARNING: "+rr(...c);gn.warn(s)},gs=function(c){return"number"==typeof c&&(c!=c||c===Number.POSITIVE_INFINITY||c===Number.NEGATIVE_INFINITY)},Zi="[MIN_NAME]",bs="[MAX_NAME]",Ji=function(c,s){if(c===s)return 0;if(c===Zi||s===bs)return-1;if(s===Zi||c===bs)return 1;{const o=Hl(c),p=Hl(s);return null!==o?null!==p?o-p==0?c.length-s.length:o-p:-1:null!==p?1:c<s?-1:1}},Ma=function(c,s){return c===s?0:c<s?-1:1},aa=function(c,s){if(s&&c in s)return s[c];throw new Error("Missing required key ("+c+") in object: "+(0,b.Wl)(s))},Ro=function(c){if("object"!=typeof c||null===c)return(0,b.Wl)(c);const s=[];for(const p in c)s.push(p);s.sort();let o="{";for(let p=0;p<s.length;p++)0!==p&&(o+=","),o+=(0,b.Wl)(s[p]),o+=":",o+=Ro(c[s[p]]);return o+="}",o},Rl=function(c,s){const o=c.length;if(o<=s)return[c];const p=[];for(let w=0;w<o;w+=s)p.push(c.substring(w,w+s>o?o:w+s));return p};function Rs(c,s){for(const o in c)c.hasOwnProperty(o)&&s(o,c[o])}const qs=function(c){(0,b.hu)(!gs(c),"Invalid JSON number");const p=1023;let w,x,j,J,ve;0===c?(x=0,j=0,w=1/c==-1/0?1:0):(w=c<0,(c=Math.abs(c))>=Math.pow(2,1-p)?(J=Math.min(Math.floor(Math.log(c)/Math.LN2),p),x=J+p,j=Math.round(c*Math.pow(2,52-J)-Math.pow(2,52))):(x=0,j=Math.round(c/Math.pow(2,-1074))));const Be=[];for(ve=52;ve;ve-=1)Be.push(j%2?1:0),j=Math.floor(j/2);for(ve=11;ve;ve-=1)Be.push(x%2?1:0),x=Math.floor(x/2);Be.push(w?1:0),Be.reverse();const xt=Be.join("");let Yt="";for(ve=0;ve<64;ve+=8){let ln=parseInt(xt.substr(ve,8),2).toString(16);1===ln.length&&(ln="0"+ln),Yt+=ln}return Yt.toLowerCase()},El=new RegExp("^-?(0*)\\d{1,10}$"),Hl=function(c){if(El.test(c)){const s=Number(c);if(s>=-2147483648&&s<=2147483647)return s}return null},Rc=function(c){try{c()}catch(s){setTimeout(()=>{throw vr("Exception was thrown by user callback.",s.stack||""),s},Math.floor(0))}},Qa=function(c,s){const o=setTimeout(c,s);return"number"==typeof o&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(o):"object"==typeof o&&o.unref&&o.unref(),o};class $d{constructor(s,o){this.appName_=s,this.appCheckProvider=o,this.appCheck=null==o?void 0:o.getImmediate({optional:!0}),this.appCheck||null==o||o.get().then(p=>this.appCheck=p)}getToken(s){return this.appCheck?this.appCheck.getToken(s):new Promise((o,p)=>{setTimeout(()=>{this.appCheck?this.getToken(s).then(o,p):o(null)},0)})}addTokenChangeListener(s){var o;null===(o=this.appCheckProvider)||void 0===o||o.get().then(p=>p.addTokenListener(s))}notifyForInvalidToken(){vr(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class ou{constructor(s,o,p){this.appName_=s,this.firebaseOptions_=o,this.authProvider_=p,this.auth_=null,this.auth_=p.getImmediate({optional:!0}),this.auth_||p.onInit(w=>this.auth_=w)}getToken(s){return this.auth_?this.auth_.getToken(s).catch(o=>o&&"auth/token-not-initialized"===o.code?(sr("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(o)):new Promise((o,p)=>{setTimeout(()=>{this.auth_?this.getToken(s).then(o,p):o(null)},0)})}addTokenChangeListener(s){this.auth_?this.auth_.addAuthTokenListener(s):this.authProvider_.get().then(o=>o.addAuthTokenListener(s))}removeTokenChangeListener(s){this.authProvider_.get().then(o=>o.removeAuthTokenListener(s))}notifyForInvalidToken(){let s='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';s+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',vr(s)}}let kl=(()=>{class c{constructor(o){this.accessToken=o}getToken(o){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(o){o(this.accessToken)}removeTokenChangeListener(o){}notifyForInvalidToken(){}}return c.OWNER="owner",c})();const Lu=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,wl="websocket",lu="long_polling";class Of{constructor(s,o,p,w,x=!1,j="",J=!1,ve=!1){this.secure=o,this.namespace=p,this.webSocketOnly=w,this.nodeAdmin=x,this.persistenceKey=j,this.includeNamespaceInQueryParams=J,this.isUsingEmulator=ve,this._host=s.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=zt.get("host:"+s)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(s){s!==this.internalHost&&(this.internalHost=s,this.isCacheableHost()&&zt.set("host:"+this._host,this.internalHost))}toString(){let s=this.toURLString();return this.persistenceKey&&(s+="<"+this.persistenceKey+">"),s}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function kf(c,s,o){let p;if((0,b.hu)("string"==typeof s,"typeof type must == string"),(0,b.hu)("object"==typeof o,"typeof params must == object"),s===wl)p=(c.secure?"wss://":"ws://")+c.internalHost+"/.ws?";else{if(s!==lu)throw new Error("Unknown connection type: "+s);p=(c.secure?"https://":"http://")+c.internalHost+"/.lp?"}(function tv(c){return c.host!==c.internalHost||c.isCustomHost()||c.includeNamespaceInQueryParams})(c)&&(o.ns=c.namespace);const w=[];return Rs(o,(x,j)=>{w.push(x+"="+j)}),p+w.join("&")}class hm{constructor(){this.counters_={}}incrementCounter(s,o=1){(0,b.r3)(this.counters_,s)||(this.counters_[s]=0),this.counters_[s]+=o}get(){return(0,b.p$)(this.counters_)}}const uo={},Bu={};function so(c){const s=c.toString();return uo[s]||(uo[s]=new hm),uo[s]}class Nf{constructor(s){this.onMessage_=s,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(s,o){this.closeAfterResponse=s,this.onClose=o,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(s,o){for(this.pendingResponses[s]=o;this.pendingResponses[this.currentResponseNum];){const p=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let w=0;w<p.length;++w)p[w]&&Rc(()=>{this.onMessage_(p[w])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class Nl{constructor(s,o,p,w,x,j,J){this.connId=s,this.repoInfo=o,this.applicationId=p,this.appCheckToken=w,this.authToken=x,this.transportSessionId=j,this.lastSessionId=J,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Dr(s),this.stats_=so(o),this.urlFn=ve=>(this.appCheckToken&&(ve.ac=this.appCheckToken),kf(o,lu,ve))}open(s,o){this.curSegmentNum=0,this.onDisconnect_=o,this.myPacketOrderer=new Nf(s),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(c){if((0,b.Yr)()||"complete"===document.readyState)c();else{let s=!1;const o=function(){document.body?s||(s=!0,c()):setTimeout(o,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",o,!1),window.addEventListener("load",o,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&o()}),window.attachEvent("onload",o))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Vf((...x)=>{const[j,J,ve,Be,xt]=x;if(this.incrementIncomingBytes_(x),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===j)this.id=J,this.password=ve;else{if("close"!==j)throw new Error("Unrecognized command received: "+j);J?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(J,()=>{this.onClosed_()})):this.onClosed_()}},(...x)=>{const[j,J]=x;this.incrementIncomingBytes_(x),this.myPacketOrderer.handleResponse(j,J)},()=>{this.onClosed_()},this.urlFn);const p={start:"t"};p.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(p.cb=this.scriptTagHolder.uniqueCallbackIdentifier),p.v="5",this.transportSessionId&&(p.s=this.transportSessionId),this.lastSessionId&&(p.ls=this.lastSessionId),this.applicationId&&(p.p=this.applicationId),this.appCheckToken&&(p.ac=this.appCheckToken),typeof location<"u"&&location.hostname&&Lu.test(location.hostname)&&(p.r="f");const w=this.urlFn(p);this.log_("Connecting via long-poll to "+w),this.scriptTagHolder.addTag(w,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Nl.forceAllow_=!0}static forceDisallow(){Nl.forceDisallow_=!0}static isAvailable(){return!((0,b.Yr)()||!Nl.forceAllow_&&(Nl.forceDisallow_||!(typeof document<"u")||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(s){const o=(0,b.Wl)(s);this.bytesSent+=o.length,this.stats_.incrementCounter("bytes_sent",o.length);const p=(0,b.h$)(o),w=Rl(p,1840);for(let x=0;x<w.length;x++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,w.length,w[x]),this.curSegmentNum++}addDisconnectPingFrame(s,o){if((0,b.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const p={dframe:"t"};p.id=s,p.pw=o,this.myDisconnFrame.src=this.urlFn(p),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(s){const o=(0,b.Wl)(s).length;this.bytesReceived+=o,this.stats_.incrementCounter("bytes_received",o)}}class Vf{constructor(s,o,p,w){if(this.onDisconnect=p,this.urlFn=w,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,b.Yr)())this.commandCB=s,this.onMessageCB=o;else{this.uniqueCallbackIdentifier=Bn(),window["pLPCommand"+this.uniqueCallbackIdentifier]=s,window["pRTLPCB"+this.uniqueCallbackIdentifier]=o,this.myIFrame=Vf.createIFrame_();let x="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(x='<script>document.domain="'+document.domain+'";<\/script>');const j="<html><body>"+x+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(j),this.myIFrame.doc.close()}catch(J){sr("frame writing exception"),J.stack&&sr(J.stack),sr(J)}}}static createIFrame_(){const s=document.createElement("iframe");if(s.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(s);try{s.contentWindow.document||sr("No IE domain setting required")}catch{const p=document.domain;s.src="javascript:void((function(){document.open();document.domain='"+p+"';document.close();})())"}return s.contentDocument?s.doc=s.contentDocument:s.contentWindow?s.doc=s.contentWindow.document:s.document&&(s.doc=s.document),s}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const s=this.onDisconnect;s&&(this.onDisconnect=null,s())}startLongPoll(s,o){for(this.myID=s,this.myPW=o,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const s={};s.id=this.myID,s.pw=this.myPW,s.ser=this.currentSerial;let o=this.urlFn(s),p="",w=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+p.length<=1870;){const j=this.pendingSegs.shift();p=p+"&seg"+w+"="+j.seg+"&ts"+w+"="+j.ts+"&d"+w+"="+j.d,w++}return o+=p,this.addLongPollTag_(o,this.currentSerial),!0}return!1}enqueueSegment(s,o,p){this.pendingSegs.push({seg:s,ts:o,d:p}),this.alive&&this.newRequest_()}addLongPollTag_(s,o){this.outstandingRequests.add(o);const p=()=>{this.outstandingRequests.delete(o),this.newRequest_()},w=setTimeout(p,Math.floor(25e3));this.addTag(s,()=>{clearTimeout(w),p()})}addTag(s,o){(0,b.Yr)()?this.doNodeLongPoll(s,o):setTimeout(()=>{try{if(!this.sendNewPolls)return;const p=this.myIFrame.doc.createElement("script");p.type="text/javascript",p.async=!0,p.src=s,p.onload=p.onreadystatechange=function(){const w=p.readyState;(!w||"loaded"===w||"complete"===w)&&(p.onload=p.onreadystatechange=null,p.parentNode&&p.parentNode.removeChild(p),o())},p.onerror=()=>{sr("Long-poll script failed to load: "+s),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(p)}catch{}},Math.floor(1))}}let zd=null;typeof MozWebSocket<"u"?zd=MozWebSocket:typeof WebSocket<"u"&&(zd=WebSocket);let Fc=(()=>{class c{constructor(o,p,w,x,j,J,ve){this.connId=o,this.applicationId=w,this.appCheckToken=x,this.authToken=j,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Dr(this.connId),this.stats_=so(p),this.connURL=c.connectionURL_(p,J,ve,x,w),this.nodeAdmin=p.nodeAdmin}static connectionURL_(o,p,w,x,j){const J={v:"5"};return!(0,b.Yr)()&&typeof location<"u"&&location.hostname&&Lu.test(location.hostname)&&(J.r="f"),p&&(J.s=p),w&&(J.ls=w),x&&(J.ac=x),j&&(J.p=j),kf(o,wl,J)}open(o,p){this.onDisconnect=p,this.onMessage=o,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,zt.set("previous_websocket_failure",!0);try{let w;if((0,b.Yr)()){w={headers:{"User-Agent":`Firebase/5/${ne}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(w.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(w.headers["X-Firebase-AppCheck"]=this.appCheckToken);const j=process.env,J=0===this.connURL.indexOf("wss://")?j.HTTPS_PROXY||j.https_proxy:j.HTTP_PROXY||j.http_proxy;J&&(w.proxy={origin:J})}this.mySock=new zd(this.connURL,[],w)}catch(w){this.log_("Error instantiating WebSocket.");const x=w.message||w.data;return x&&this.log_(x),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=w=>{this.handleIncomingFrame(w)},this.mySock.onerror=w=>{this.log_("WebSocket error.  Closing connection.");const x=w.message||w.data;x&&this.log_(x),this.onClosed_()}}start(){}static forceDisallow(){c.forceDisallow_=!0}static isAvailable(){let o=!1;if(typeof navigator<"u"&&navigator.userAgent){const w=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);w&&w.length>1&&parseFloat(w[1])<4.4&&(o=!0)}return!o&&null!==zd&&!c.forceDisallow_}static previouslyFailed(){return zt.isInMemoryStorage||!0===zt.get("previous_websocket_failure")}markConnectionHealthy(){zt.remove("previous_websocket_failure")}appendFrame_(o){if(this.frames.push(o),this.frames.length===this.totalFrames){const p=this.frames.join("");this.frames=null;const w=(0,b.cI)(p);this.onMessage(w)}}handleNewFrameCount_(o){this.totalFrames=o,this.frames=[]}extractFrameCount_(o){if((0,b.hu)(null===this.frames,"We already have a frame buffer"),o.length<=6){const p=Number(o);if(!isNaN(p))return this.handleNewFrameCount_(p),null}return this.handleNewFrameCount_(1),o}handleIncomingFrame(o){if(null===this.mySock)return;const p=o.data;if(this.bytesReceived+=p.length,this.stats_.incrementCounter("bytes_received",p.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(p);else{const w=this.extractFrameCount_(p);null!==w&&this.appendFrame_(w)}}send(o){this.resetKeepAlive();const p=(0,b.Wl)(o);this.bytesSent+=p.length,this.stats_.incrementCounter("bytes_sent",p.length);const w=Rl(p,16384);w.length>1&&this.sendString_(String(w.length));for(let x=0;x<w.length;x++)this.sendString_(w[x])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(o){try{this.mySock.send(o)}catch(p){this.log_("Exception thrown from WebSocket.send():",p.message||p.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return c.responsesRequiredToBeHealthy=2,c.healthyTimeout=3e4,c})(),zu=(()=>{class c{constructor(o){this.initTransports_(o)}static get ALL_TRANSPORTS(){return[Nl,Fc]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(o){const p=Fc&&Fc.isAvailable();let w=p&&!Fc.previouslyFailed();if(o.webSocketOnly&&(p||vr("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),w=!0),w)this.transports_=[Fc];else{const x=this.transports_=[];for(const j of c.ALL_TRANSPORTS)j&&j.isAvailable()&&x.push(j);c.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return c.globalTransportInitialized_=!1,c})();class ze{constructor(s,o,p,w,x,j,J,ve,Be,xt){this.id=s,this.repoInfo_=o,this.applicationId_=p,this.appCheckToken_=w,this.authToken_=x,this.onMessage_=j,this.onReady_=J,this.onDisconnect_=ve,this.onKill_=Be,this.lastSessionId=xt,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Dr("c:"+this.id+":"),this.transportManager_=new zu(o),this.log_("Connection created"),this.start_()}start_(){const s=this.transportManager_.initialTransport();this.conn_=new s(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=s.responsesRequiredToBeHealthy||0;const o=this.connReceiver_(this.conn_),p=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(o,p)},Math.floor(0));const w=s.healthyTimeout||0;w>0&&(this.healthyTimeout_=Qa(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(w)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(s){return o=>{s===this.conn_?this.onConnectionLost_(o):s===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(s){return o=>{2!==this.state_&&(s===this.rx_?this.onPrimaryMessageReceived_(o):s===this.secondaryConn_?this.onSecondaryMessageReceived_(o):this.log_("message on old connection"))}}sendRequest(s){this.sendData_({t:"d",d:s})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(s){if("t"in s){const o=s.t;"a"===o?this.upgradeIfSecondaryHealthy_():"r"===o?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===o&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(s){const o=aa("t",s),p=aa("d",s);if("c"===o)this.onSecondaryControl_(p);else{if("d"!==o)throw new Error("Unknown protocol layer: "+o);this.pendingDataMessages.push(p)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(s){const o=aa("t",s),p=aa("d",s);"c"===o?this.onControl_(p):"d"===o&&this.onDataMessage_(p)}onDataMessage_(s){this.onPrimaryResponse_(),this.onMessage_(s)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(s){const o=aa("t",s);if("d"in s){const p=s.d;if("h"===o){const w=Object.assign({},p);this.repoInfo_.isUsingEmulator&&(w.h=this.repoInfo_.host),this.onHandshake_(w)}else if("n"===o){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let w=0;w<this.pendingDataMessages.length;++w)this.onDataMessage_(this.pendingDataMessages[w]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===o?this.onConnectionShutdown_(p):"r"===o?this.onReset_(p):"e"===o?ti("Server Error: "+p):"o"===o?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):ti("Unknown control packet command: "+o)}}onHandshake_(s){const o=s.ts,p=s.v,w=s.h;this.sessionId=s.s,this.repoInfo_.host=w,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,o),"5"!==p&&vr("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const s=this.transportManager_.upgradeTransport();s&&this.startUpgrade_(s)}startUpgrade_(s){this.secondaryConn_=new s(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=s.responsesRequiredToBeHealthy||0;const o=this.connReceiver_(this.secondaryConn_),p=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(o,p),Qa(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(s){this.log_("Reset packet received.  New host: "+s),this.repoInfo_.host=s,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(s,o){this.log_("Realtime connection established."),this.conn_=s,this.state_=1,this.onReady_&&(this.onReady_(o,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Qa(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const s=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===s||this.rx_===s)&&this.close()}onConnectionLost_(s){this.conn_=null,s||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(zt.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(s){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(s),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(s){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(s)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class en{put(s,o,p,w){}merge(s,o,p,w){}refreshAuthToken(s){}refreshAppCheckToken(s){}onDisconnectPut(s,o,p){}onDisconnectMerge(s,o,p){}onDisconnectCancel(s,o){}reportStats(s){}}class Dn{constructor(s){this.allowedEvents_=s,this.listeners_={},(0,b.hu)(Array.isArray(s)&&s.length>0,"Requires a non-empty array")}trigger(s,...o){if(Array.isArray(this.listeners_[s])){const p=[...this.listeners_[s]];for(let w=0;w<p.length;w++)p[w].callback.apply(p[w].context,o)}}on(s,o,p){this.validateEventType_(s),this.listeners_[s]=this.listeners_[s]||[],this.listeners_[s].push({callback:o,context:p});const w=this.getInitialEvent(s);w&&o.apply(p,w)}off(s,o,p){this.validateEventType_(s);const w=this.listeners_[s]||[];for(let x=0;x<w.length;x++)if(w[x].callback===o&&(!p||p===w[x].context))return void w.splice(x,1)}validateEventType_(s){(0,b.hu)(this.allowedEvents_.find(o=>o===s),"Unknown event: "+s)}}class ur extends Dn{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!(0,b.uI)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new ur}getInitialEvent(s){return(0,b.hu)("online"===s,"Unknown event type: "+s),[this.online_]}currentlyOnline(){return this.online_}}class ri{constructor(s,o){if(void 0===o){this.pieces_=s.split("/");let p=0;for(let w=0;w<this.pieces_.length;w++)this.pieces_[w].length>0&&(this.pieces_[p]=this.pieces_[w],p++);this.pieces_.length=p,this.pieceNum_=0}else this.pieces_=s,this.pieceNum_=o}toString(){let s="";for(let o=this.pieceNum_;o<this.pieces_.length;o++)""!==this.pieces_[o]&&(s+="/"+this.pieces_[o]);return s||"/"}}function qi(){return new ri("")}function Hi(c){return c.pieceNum_>=c.pieces_.length?null:c.pieces_[c.pieceNum_]}function Ll(c){return c.pieces_.length-c.pieceNum_}function As(c){let s=c.pieceNum_;return s<c.pieces_.length&&s++,new ri(c.pieces_,s)}function hu(c){return c.pieceNum_<c.pieces_.length?c.pieces_[c.pieces_.length-1]:null}function Bc(c,s=0){return c.pieces_.slice(c.pieceNum_+s)}function cc(c){if(c.pieceNum_>=c.pieces_.length)return null;const s=[];for(let o=c.pieceNum_;o<c.pieces_.length-1;o++)s.push(c.pieces_[o]);return new ri(s,0)}function zs(c,s){const o=[];for(let p=c.pieceNum_;p<c.pieces_.length;p++)o.push(c.pieces_[p]);if(s instanceof ri)for(let p=s.pieceNum_;p<s.pieces_.length;p++)o.push(s.pieces_[p]);else{const p=s.split("/");for(let w=0;w<p.length;w++)p[w].length>0&&o.push(p[w])}return new ri(o,0)}function Bi(c){return c.pieceNum_>=c.pieces_.length}function Pa(c,s){const o=Hi(c),p=Hi(s);if(null===o)return s;if(o===p)return Pa(As(c),As(s));throw new Error("INTERNAL ERROR: innerPath ("+s+") is not within outerPath ("+c+")")}function Wu(c,s){const o=Bc(c,0),p=Bc(s,0);for(let w=0;w<o.length&&w<p.length;w++){const x=Ji(o[w],p[w]);if(0!==x)return x}return o.length===p.length?0:o.length<p.length?-1:1}function Uh(c,s){if(Ll(c)!==Ll(s))return!1;for(let o=c.pieceNum_,p=s.pieceNum_;o<=c.pieces_.length;o++,p++)if(c.pieces_[o]!==s.pieces_[p])return!1;return!0}function Va(c,s){let o=c.pieceNum_,p=s.pieceNum_;if(Ll(c)>Ll(s))return!1;for(;o<c.pieces_.length;){if(c.pieces_[o]!==s.pieces_[p])return!1;++o,++p}return!0}class ts{constructor(s,o){this.errorPrefix_=o,this.parts_=Bc(s,0),this.byteLength_=Math.max(1,this.parts_.length);for(let p=0;p<this.parts_.length;p++)this.byteLength_+=(0,b.ug)(this.parts_[p]);zp(this)}}function zp(c){if(c.byteLength_>768)throw new Error(c.errorPrefix_+"has a key path longer than 768 bytes ("+c.byteLength_+").");if(c.parts_.length>32)throw new Error(c.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+Gu(c))}function Gu(c){return 0===c.parts_.length?"":"in property '"+c.parts_.join(".")+"'"}class Hp extends Dn{constructor(){let s,o;super(["visible"]),typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(o="visibilitychange",s="hidden"):typeof document.mozHidden<"u"?(o="mozvisibilitychange",s="mozHidden"):typeof document.msHidden<"u"?(o="msvisibilitychange",s="msHidden"):typeof document.webkitHidden<"u"&&(o="webkitvisibilitychange",s="webkitHidden")),this.visible_=!0,o&&document.addEventListener(o,()=>{const p=!document[s];p!==this.visible_&&(this.visible_=p,this.trigger("visible",p))},!1)}static getInstance(){return new Hp}getInitialEvent(s){return(0,b.hu)("visible"===s,"Unknown event type: "+s),[this.visible_]}}const Ca=1e3;let jf,Il=(()=>{class c extends en{constructor(o,p,w,x,j,J,ve,Be){if(super(),this.repoInfo_=o,this.applicationId_=p,this.onDataUpdate_=w,this.onConnectStatus_=x,this.onServerInfoUpdate_=j,this.authTokenProvider_=J,this.appCheckTokenProvider_=ve,this.authOverride_=Be,this.id=c.nextPersistentConnectionId_++,this.log_=Dr("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Ca,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,Be&&!(0,b.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Hp.getInstance().on("visible",this.onVisible_,this),-1===o.host.indexOf("fblocal")&&ur.getInstance().on("online",this.onOnline_,this)}sendRequest(o,p,w){const x=++this.requestNumber_,j={r:x,a:o,b:p};this.log_((0,b.Wl)(j)),(0,b.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(j),w&&(this.requestCBHash_[x]=w)}get(o){this.initConnection_();const p=new b.BH,x={action:"g",request:{p:o._path.toString(),q:o._queryObject},onComplete:J=>{const ve=J.d;"ok"===J.s?p.resolve(ve):p.reject(ve)}};return this.outstandingGets_.push(x),this.outstandingGetCount_++,this.connected_&&this.sendGet_(this.outstandingGets_.length-1),p.promise}listen(o,p,w,x){this.initConnection_();const j=o._queryIdentifier,J=o._path.toString();this.log_("Listen called for "+J+" "+j),this.listens.has(J)||this.listens.set(J,new Map),(0,b.hu)(o._queryParams.isDefault()||!o._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,b.hu)(!this.listens.get(J).has(j),"listen() called twice for same path/queryId.");const ve={onComplete:x,hashFn:p,query:o,tag:w};this.listens.get(J).set(j,ve),this.connected_&&this.sendListen_(ve)}sendGet_(o){const p=this.outstandingGets_[o];this.sendRequest("g",p.request,w=>{delete this.outstandingGets_[o],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),p.onComplete&&p.onComplete(w)})}sendListen_(o){const p=o.query,w=p._path.toString(),x=p._queryIdentifier;this.log_("Listen on "+w+" for "+x);const j={p:w};o.tag&&(j.q=p._queryObject,j.t=o.tag),j.h=o.hashFn(),this.sendRequest("q",j,ve=>{const Be=ve.d,xt=ve.s;c.warnOnListenWarnings_(Be,p),(this.listens.get(w)&&this.listens.get(w).get(x))===o&&(this.log_("listen response",ve),"ok"!==xt&&this.removeListen_(w,x),o.onComplete&&o.onComplete(xt,Be))})}static warnOnListenWarnings_(o,p){if(o&&"object"==typeof o&&(0,b.r3)(o,"w")){const w=(0,b.DV)(o,"w");if(Array.isArray(w)&&~w.indexOf("no_index")){const x='".indexOn": "'+p._queryParams.getIndex().toString()+'"',j=p._path.toString();vr(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${x} at ${j} to your security rules for better performance.`)}}}refreshAuthToken(o){this.authToken_=o,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(o)}reduceReconnectDelayIfAdminCredential_(o){(o&&40===o.length||(0,b.GJ)(o))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(o){this.appCheckToken_=o,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const o=this.authToken_,p=(0,b.w9)(o)?"auth":"gauth",w={cred:o};null===this.authOverride_?w.noauth=!0:"object"==typeof this.authOverride_&&(w.authvar=this.authOverride_),this.sendRequest(p,w,x=>{const j=x.s,J=x.d||"error";this.authToken_===o&&("ok"===j?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(j,J))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},o=>{const p=o.s,w=o.d||"error";"ok"===p?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(p,w)})}unlisten(o,p){const w=o._path.toString(),x=o._queryIdentifier;this.log_("Unlisten called for "+w+" "+x),(0,b.hu)(o._queryParams.isDefault()||!o._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(w,x)&&this.connected_&&this.sendUnlisten_(w,x,o._queryObject,p)}sendUnlisten_(o,p,w,x){this.log_("Unlisten on "+o+" for "+p);const j={p:o};x&&(j.q=w,j.t=x),this.sendRequest("n",j)}onDisconnectPut(o,p,w){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",o,p,w):this.onDisconnectRequestQueue_.push({pathString:o,action:"o",data:p,onComplete:w})}onDisconnectMerge(o,p,w){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",o,p,w):this.onDisconnectRequestQueue_.push({pathString:o,action:"om",data:p,onComplete:w})}onDisconnectCancel(o,p){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",o,null,p):this.onDisconnectRequestQueue_.push({pathString:o,action:"oc",data:null,onComplete:p})}sendOnDisconnect_(o,p,w,x){const j={p,d:w};this.log_("onDisconnect "+o,j),this.sendRequest(o,j,J=>{x&&setTimeout(()=>{x(J.s,J.d)},Math.floor(0))})}put(o,p,w,x){this.putInternal("p",o,p,w,x)}merge(o,p,w,x){this.putInternal("m",o,p,w,x)}putInternal(o,p,w,x,j){this.initConnection_();const J={p,d:w};void 0!==j&&(J.h=j),this.outstandingPuts_.push({action:o,request:J,onComplete:x}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+p)}sendPut_(o){const p=this.outstandingPuts_[o].action,w=this.outstandingPuts_[o].request,x=this.outstandingPuts_[o].onComplete;this.outstandingPuts_[o].queued=this.connected_,this.sendRequest(p,w,j=>{this.log_(p+" response",j),delete this.outstandingPuts_[o],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),x&&x(j.s,j.d)})}reportStats(o){if(this.connected_){const p={c:o};this.log_("reportStats",p),this.sendRequest("s",p,w=>{"ok"!==w.s&&this.log_("reportStats","Error sending stats: "+w.d)})}}onDataMessage_(o){if("r"in o){this.log_("from server: "+(0,b.Wl)(o));const p=o.r,w=this.requestCBHash_[p];w&&(delete this.requestCBHash_[p],w(o.b))}else{if("error"in o)throw"A server-side error has occurred: "+o.error;"a"in o&&this.onDataPush_(o.a,o.b)}}onDataPush_(o,p){this.log_("handleServerMessage",o,p),"d"===o?this.onDataUpdate_(p.p,p.d,!1,p.t):"m"===o?this.onDataUpdate_(p.p,p.d,!0,p.t):"c"===o?this.onListenRevoked_(p.p,p.q):"ac"===o?this.onAuthRevoked_(p.s,p.d):"apc"===o?this.onAppCheckRevoked_(p.s,p.d):"sd"===o?this.onSecurityDebugPacket_(p):ti("Unrecognized action received from server: "+(0,b.Wl)(o)+"\nAre you using the latest client?")}onReady_(o,p){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(o),this.lastSessionId=p,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(o){(0,b.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(o))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(o){o&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Ca,this.realtime_||this.scheduleConnect_(0)),this.visible_=o}onOnline_(o){o?(this.log_("Browser went online."),this.reconnectDelay_=Ca,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=Ca),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const o=(new Date).getTime()-this.lastConnectionAttemptTime_;let p=Math.max(0,this.reconnectDelay_-o);p=Math.random()*p,this.log_("Trying to reconnect in "+p+"ms"),this.scheduleConnect_(p),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var o=this;return(0,m.Z)(function*(){if(o.shouldReconnect_()){o.log_("Making a connection attempt"),o.lastConnectionAttemptTime_=(new Date).getTime(),o.lastConnectionEstablishedTime_=null;const p=o.onDataMessage_.bind(o),w=o.onReady_.bind(o),x=o.onRealtimeDisconnect_.bind(o),j=o.id+":"+c.nextConnectionId_++,J=o.lastSessionId;let ve=!1,Be=null;const xt=function(){Be?Be.close():(ve=!0,x())};o.realtime_={close:xt,sendRequest:function(On){(0,b.hu)(Be,"sendRequest call when we're not connected not allowed."),Be.sendRequest(On)}};const ln=o.forceTokenRefresh_;o.forceTokenRefresh_=!1;try{const[On,Hn]=yield Promise.all([o.authTokenProvider_.getToken(ln),o.appCheckTokenProvider_.getToken(ln)]);ve?sr("getToken() completed but was canceled"):(sr("getToken() completed. Creating connection."),o.authToken_=On&&On.accessToken,o.appCheckToken_=Hn&&Hn.token,Be=new ze(j,o.repoInfo_,o.applicationId_,o.appCheckToken_,o.authToken_,p,w,x,pr=>{vr(pr+" ("+o.repoInfo_.toString()+")"),o.interrupt("server_kill")},J))}catch(On){o.log_("Failed to get token: "+On),ve||(o.repoInfo_.nodeAdmin&&vr(On),xt())}}})()}interrupt(o){sr("Interrupting connection for reason: "+o),this.interruptReasons_[o]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(o){sr("Resuming connection for reason: "+o),delete this.interruptReasons_[o],(0,b.xb)(this.interruptReasons_)&&(this.reconnectDelay_=Ca,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(o){const p=o-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:p})}cancelSentTransactions_(){for(let o=0;o<this.outstandingPuts_.length;o++){const p=this.outstandingPuts_[o];p&&"h"in p.request&&p.queued&&(p.onComplete&&p.onComplete("disconnect"),delete this.outstandingPuts_[o],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(o,p){let w;w=p?p.map(j=>Ro(j)).join("$"):"default";const x=this.removeListen_(o,w);x&&x.onComplete&&x.onComplete("permission_denied")}removeListen_(o,p){const w=new ri(o).toString();let x;if(this.listens.has(w)){const j=this.listens.get(w);x=j.get(p),j.delete(p),0===j.size&&this.listens.delete(w)}else x=void 0;return x}onAuthRevoked_(o,p){sr("Auth token revoked: "+o+"/"+p),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===o||"permission_denied"===o)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(o,p){sr("App check token revoked: "+o+"/"+p),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===o||"permission_denied"===o)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(o){this.securityDebugCallback_?this.securityDebugCallback_(o):"msg"in o&&console.log("FIREBASE: "+o.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const o of this.listens.values())for(const p of o.values())this.sendListen_(p);for(let o=0;o<this.outstandingPuts_.length;o++)this.outstandingPuts_[o]&&this.sendPut_(o);for(;this.onDisconnectRequestQueue_.length;){const o=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(o.action,o.pathString,o.data,o.onComplete)}for(let o=0;o<this.outstandingGets_.length;o++)this.outstandingGets_[o]&&this.sendGet_(o)}sendConnectStats_(){const o={};let p="js";(0,b.Yr)()&&(p=this.repoInfo_.nodeAdmin?"admin_node":"node"),o["sdk."+p+"."+ne.replace(/\./g,"-")]=1,(0,b.uI)()?o["framework.cordova"]=1:(0,b.b$)()&&(o["framework.reactnative"]=1),this.reportStats(o)}shouldReconnect_(){const o=ur.getInstance().currentlyOnline();return(0,b.xb)(this.interruptReasons_)&&o}}return c.nextPersistentConnectionId_=0,c.nextConnectionId_=0,c})();class Os{constructor(s,o){this.name=s,this.node=o}static Wrap(s,o){return new Os(s,o)}}class $c{getCompare(){return this.compare.bind(this)}indexedValueChanged(s,o){const p=new Os(Zi,s),w=new Os(Zi,o);return 0!==this.compare(p,w)}minPost(){return Os.MIN}}class Kp extends $c{static get __EMPTY_NODE(){return jf}static set __EMPTY_NODE(s){jf=s}compare(s,o){return Ji(s.name,o.name)}isDefinedOn(s){throw(0,b.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(s,o){return!1}minPost(){return Os.MIN}maxPost(){return new Os(bs,jf)}makePost(s,o){return(0,b.hu)("string"==typeof s,"KeyIndex indexValue must always be a string."),new Os(s,jf)}toString(){return".key"}}const Cl=new Kp;class zf{constructor(s,o,p,w,x=null){this.isReverse_=w,this.resultGenerator_=x,this.nodeStack_=[];let j=1;for(;!s.isEmpty();)if(j=o?p(s.key,o):1,w&&(j*=-1),j<0)s=this.isReverse_?s.left:s.right;else{if(0===j){this.nodeStack_.push(s);break}this.nodeStack_.push(s),s=this.isReverse_?s.right:s.left}}getNext(){if(0===this.nodeStack_.length)return null;let o,s=this.nodeStack_.pop();if(o=this.resultGenerator_?this.resultGenerator_(s.key,s.value):{key:s.key,value:s.value},this.isReverse_)for(s=s.left;!s.isEmpty();)this.nodeStack_.push(s),s=s.right;else for(s=s.right;!s.isEmpty();)this.nodeStack_.push(s),s=s.left;return o}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const s=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(s.key,s.value):{key:s.key,value:s.value}}}let Hd,dc=(()=>{class c{constructor(o,p,w,x,j){this.key=o,this.value=p,this.color=null!=w?w:c.RED,this.left=null!=x?x:Na.EMPTY_NODE,this.right=null!=j?j:Na.EMPTY_NODE}copy(o,p,w,x,j){return new c(null!=o?o:this.key,null!=p?p:this.value,null!=w?w:this.color,null!=x?x:this.left,null!=j?j:this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(o){return this.left.inorderTraversal(o)||!!o(this.key,this.value)||this.right.inorderTraversal(o)}reverseTraversal(o){return this.right.reverseTraversal(o)||o(this.key,this.value)||this.left.reverseTraversal(o)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(o,p,w){let x=this;const j=w(o,x.key);return x=j<0?x.copy(null,null,null,x.left.insert(o,p,w),null):0===j?x.copy(null,p,null,null,null):x.copy(null,null,null,null,x.right.insert(o,p,w)),x.fixUp_()}removeMin_(){if(this.left.isEmpty())return Na.EMPTY_NODE;let o=this;return!o.left.isRed_()&&!o.left.left.isRed_()&&(o=o.moveRedLeft_()),o=o.copy(null,null,null,o.left.removeMin_(),null),o.fixUp_()}remove(o,p){let w,x;if(w=this,p(o,w.key)<0)!w.left.isEmpty()&&!w.left.isRed_()&&!w.left.left.isRed_()&&(w=w.moveRedLeft_()),w=w.copy(null,null,null,w.left.remove(o,p),null);else{if(w.left.isRed_()&&(w=w.rotateRight_()),!w.right.isEmpty()&&!w.right.isRed_()&&!w.right.left.isRed_()&&(w=w.moveRedRight_()),0===p(o,w.key)){if(w.right.isEmpty())return Na.EMPTY_NODE;x=w.right.min_(),w=w.copy(x.key,x.value,null,null,w.right.removeMin_())}w=w.copy(null,null,null,null,w.right.remove(o,p))}return w.fixUp_()}isRed_(){return this.color}fixUp_(){let o=this;return o.right.isRed_()&&!o.left.isRed_()&&(o=o.rotateLeft_()),o.left.isRed_()&&o.left.left.isRed_()&&(o=o.rotateRight_()),o.left.isRed_()&&o.right.isRed_()&&(o=o.colorFlip_()),o}moveRedLeft_(){let o=this.colorFlip_();return o.right.left.isRed_()&&(o=o.copy(null,null,null,null,o.right.rotateRight_()),o=o.rotateLeft_(),o=o.colorFlip_()),o}moveRedRight_(){let o=this.colorFlip_();return o.left.left.isRed_()&&(o=o.rotateRight_(),o=o.colorFlip_()),o}rotateLeft_(){const o=this.copy(null,null,c.RED,null,this.right.left);return this.right.copy(null,null,this.color,o,null)}rotateRight_(){const o=this.copy(null,null,c.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,o)}colorFlip_(){const o=this.left.copy(null,null,!this.left.color,null,null),p=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,o,p)}checkMaxDepth_(){const o=this.check_();return Math.pow(2,o)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const o=this.left.check_();if(o!==this.right.check_())throw new Error("Black depths differ");return o+(this.isRed_()?0:1)}}return c.RED=!0,c.BLACK=!1,c})();class Na{constructor(s,o=Na.EMPTY_NODE){this.comparator_=s,this.root_=o}insert(s,o){return new Na(this.comparator_,this.root_.insert(s,o,this.comparator_).copy(null,null,dc.BLACK,null,null))}remove(s){return new Na(this.comparator_,this.root_.remove(s,this.comparator_).copy(null,null,dc.BLACK,null,null))}get(s){let o,p=this.root_;for(;!p.isEmpty();){if(o=this.comparator_(s,p.key),0===o)return p.value;o<0?p=p.left:o>0&&(p=p.right)}return null}getPredecessorKey(s){let o,p=this.root_,w=null;for(;!p.isEmpty();){if(o=this.comparator_(s,p.key),0===o){if(p.left.isEmpty())return w?w.key:null;for(p=p.left;!p.right.isEmpty();)p=p.right;return p.key}o<0?p=p.left:o>0&&(w=p,p=p.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(s){return this.root_.inorderTraversal(s)}reverseTraversal(s){return this.root_.reverseTraversal(s)}getIterator(s){return new zf(this.root_,null,this.comparator_,!1,s)}getIteratorFrom(s,o){return new zf(this.root_,s,this.comparator_,!1,o)}getReverseIteratorFrom(s,o){return new zf(this.root_,s,this.comparator_,!0,o)}getReverseIterator(s){return new zf(this.root_,null,this.comparator_,!0,s)}}function jh(c,s){return Ji(c.name,s.name)}function Yp(c,s){return Ji(c,s)}Na.EMPTY_NODE=new class ca{copy(s,o,p,w,x){return this}insert(s,o,p){return new dc(s,o,null)}remove(s,o){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(s){return!1}reverseTraversal(s){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const nv=function(c){return"number"==typeof c?"number:"+qs(c):"string:"+c},Wf=function(c){if(c.isLeafNode()){const s=c.val();(0,b.hu)("string"==typeof s||"number"==typeof s||"object"==typeof s&&(0,b.r3)(s,".sv"),"Priority must be a string or number.")}else(0,b.hu)(c===Hd||c.isEmpty(),"priority of unexpected type.");(0,b.hu)(c===Hd||c.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let fu,Ku,zh,cl=(()=>{class c{constructor(o,p=c.__childrenNodeConstructor.EMPTY_NODE){this.value_=o,this.priorityNode_=p,this.lazyHash_=null,(0,b.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),Wf(this.priorityNode_)}static set __childrenNodeConstructor(o){fu=o}static get __childrenNodeConstructor(){return fu}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(o){return new c(this.value_,o)}getImmediateChild(o){return".priority"===o?this.priorityNode_:c.__childrenNodeConstructor.EMPTY_NODE}getChild(o){return Bi(o)?this:".priority"===Hi(o)?this.priorityNode_:c.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(o,p){return null}updateImmediateChild(o,p){return".priority"===o?this.updatePriority(p):p.isEmpty()&&".priority"!==o?this:c.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(o,p).updatePriority(this.priorityNode_)}updateChild(o,p){const w=Hi(o);return null===w?p:p.isEmpty()&&".priority"!==w?this:((0,b.hu)(".priority"!==w||1===Ll(o),".priority must be the last token in a path"),this.updateImmediateChild(w,c.__childrenNodeConstructor.EMPTY_NODE.updateChild(As(o),p)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(o,p){return!1}val(o){return o&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let o="";this.priorityNode_.isEmpty()||(o+="priority:"+nv(this.priorityNode_.val())+":");const p=typeof this.value_;o+=p+":",o+="number"===p?qs(this.value_):this.value_,this.lazyHash_=xn(o)}return this.lazyHash_}getValue(){return this.value_}compareTo(o){return o===c.__childrenNodeConstructor.EMPTY_NODE?1:o instanceof c.__childrenNodeConstructor?-1:((0,b.hu)(o.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(o))}compareToLeafNode_(o){const p=typeof o.value_,w=typeof this.value_,x=c.VALUE_TYPE_ORDER.indexOf(p),j=c.VALUE_TYPE_ORDER.indexOf(w);return(0,b.hu)(x>=0,"Unknown leaf type: "+p),(0,b.hu)(j>=0,"Unknown leaf type: "+w),x===j?"object"===w?0:this.value_<o.value_?-1:this.value_===o.value_?0:1:j-x}withIndex(){return this}isIndexed(){return!0}equals(o){return o===this||!!o.isLeafNode()&&(this.value_===o.value_&&this.priorityNode_.equals(o.priorityNode_))}}return c.VALUE_TYPE_ORDER=["object","boolean","number","string"],c})();const zo=new class Hh extends $c{compare(s,o){const p=s.node.getPriority(),w=o.node.getPriority(),x=p.compareTo(w);return 0===x?Ji(s.name,o.name):x}isDefinedOn(s){return!s.getPriority().isEmpty()}indexedValueChanged(s,o){return!s.getPriority().equals(o.getPriority())}minPost(){return Os.MIN}maxPost(){return new Os(bs,new cl("[PRIORITY-POST]",zh))}makePost(s,o){const p=Ku(s);return new Os(o,new cl("[PRIORITY-POST]",p))}toString(){return".priority"}},vm=Math.log(2);class _m{constructor(s){this.count=parseInt(Math.log(s+1)/vm,10),this.current_=this.count-1;const w=(x=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=s+1&w}nextBitIsOne(){const s=!(this.bits_&1<<this.current_);return this.current_--,s}}const qp=function(c,s,o,p){c.sort(s);const w=function(ve,Be){const xt=Be-ve;let Yt,ln;if(0===xt)return null;if(1===xt)return Yt=c[ve],ln=o?o(Yt):Yt,new dc(ln,Yt.node,dc.BLACK,null,null);{const On=parseInt(xt/2,10)+ve,Hn=w(ve,On),pr=w(On+1,Be);return Yt=c[On],ln=o?o(Yt):Yt,new dc(ln,Yt.node,dc.BLACK,Hn,pr)}},J=function(ve){let Be=null,xt=null,Yt=c.length;const ln=function(Hn,pr){const mi=Yt-Hn,Es=Yt;Yt-=Hn;const wo=w(mi+1,Es),Oa=c[mi],Ha=o?o(Oa):Oa;On(new dc(Ha,Oa.node,pr,null,wo))},On=function(Hn){Be?(Be.left=Hn,Be=Hn):(xt=Hn,Be=Hn)};for(let Hn=0;Hn<ve.count;++Hn){const pr=ve.nextBitIsOne(),mi=Math.pow(2,ve.count-(Hn+1));pr?ln(mi,dc.BLACK):(ln(mi,dc.BLACK),ln(mi,dc.RED))}return xt}(new _m(c.length));return new Na(p||s,J)};let bm;const na={};class us{constructor(s,o){this.indexes_=s,this.indexSet_=o}static get Default(){return(0,b.hu)(na&&zo,"ChildrenNode.ts has not been loaded"),bm=bm||new us({".priority":na},{".priority":zo}),bm}get(s){const o=(0,b.DV)(this.indexes_,s);if(!o)throw new Error("No index defined for "+s);return o instanceof Na?o:null}hasIndex(s){return(0,b.r3)(this.indexSet_,s.toString())}addIndex(s,o){(0,b.hu)(s!==Cl,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const p=[];let w=!1;const x=o.getIterator(Os.Wrap);let J,j=x.getNext();for(;j;)w=w||s.isDefinedOn(j.node),p.push(j),j=x.getNext();J=w?qp(p,s.getCompare()):na;const ve=s.toString(),Be=Object.assign({},this.indexSet_);Be[ve]=s;const xt=Object.assign({},this.indexes_);return xt[ve]=J,new us(xt,Be)}addToIndexes(s,o){const p=(0,b.UI)(this.indexes_,(w,x)=>{const j=(0,b.DV)(this.indexSet_,x);if((0,b.hu)(j,"Missing index implementation for "+x),w===na){if(j.isDefinedOn(s.node)){const J=[],ve=o.getIterator(Os.Wrap);let Be=ve.getNext();for(;Be;)Be.name!==s.name&&J.push(Be),Be=ve.getNext();return J.push(s),qp(J,j.getCompare())}return na}{const J=o.get(s.name);let ve=w;return J&&(ve=ve.remove(new Os(s.name,J))),ve.insert(s,s.node)}});return new us(p,this.indexSet_)}removeFromIndexes(s,o){const p=(0,b.UI)(this.indexes_,w=>{if(w===na)return w;{const x=o.get(s.name);return x?w.remove(new Os(s.name,x)):w}});return new us(p,this.indexSet_)}}let qu,es=(()=>{class c{constructor(o,p,w){this.children_=o,this.priorityNode_=p,this.indexMap_=w,this.lazyHash_=null,this.priorityNode_&&Wf(this.priorityNode_),this.children_.isEmpty()&&(0,b.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return qu||(qu=new c(new Na(Yp),null,us.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||qu}updatePriority(o){return this.children_.isEmpty()?this:new c(this.children_,o,this.indexMap_)}getImmediateChild(o){if(".priority"===o)return this.getPriority();{const p=this.children_.get(o);return null===p?qu:p}}getChild(o){const p=Hi(o);return null===p?this:this.getImmediateChild(p).getChild(As(o))}hasChild(o){return null!==this.children_.get(o)}updateImmediateChild(o,p){if((0,b.hu)(p,"We should always be passing snapshot nodes"),".priority"===o)return this.updatePriority(p);{const w=new Os(o,p);let x,j;p.isEmpty()?(x=this.children_.remove(o),j=this.indexMap_.removeFromIndexes(w,this.children_)):(x=this.children_.insert(o,p),j=this.indexMap_.addToIndexes(w,this.children_));const J=x.isEmpty()?qu:this.priorityNode_;return new c(x,J,j)}}updateChild(o,p){const w=Hi(o);if(null===w)return p;{(0,b.hu)(".priority"!==Hi(o)||1===Ll(o),".priority must be the last token in a path");const x=this.getImmediateChild(w).updateChild(As(o),p);return this.updateImmediateChild(w,x)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(o){if(this.isEmpty())return null;const p={};let w=0,x=0,j=!0;if(this.forEachChild(zo,(J,ve)=>{p[J]=ve.val(o),w++,j&&c.INTEGER_REGEXP_.test(J)?x=Math.max(x,Number(J)):j=!1}),!o&&j&&x<2*w){const J=[];for(const ve in p)J[ve]=p[ve];return J}return o&&!this.getPriority().isEmpty()&&(p[".priority"]=this.getPriority().val()),p}hash(){if(null===this.lazyHash_){let o="";this.getPriority().isEmpty()||(o+="priority:"+nv(this.getPriority().val())+":"),this.forEachChild(zo,(p,w)=>{const x=w.hash();""!==x&&(o+=":"+p+":"+x)}),this.lazyHash_=""===o?"":xn(o)}return this.lazyHash_}getPredecessorChildName(o,p,w){const x=this.resolveIndex_(w);if(x){const j=x.getPredecessorKey(new Os(o,p));return j?j.name:null}return this.children_.getPredecessorKey(o)}getFirstChildName(o){const p=this.resolveIndex_(o);if(p){const w=p.minKey();return w&&w.name}return this.children_.minKey()}getFirstChild(o){const p=this.getFirstChildName(o);return p?new Os(p,this.children_.get(p)):null}getLastChildName(o){const p=this.resolveIndex_(o);if(p){const w=p.maxKey();return w&&w.name}return this.children_.maxKey()}getLastChild(o){const p=this.getLastChildName(o);return p?new Os(p,this.children_.get(p)):null}forEachChild(o,p){const w=this.resolveIndex_(o);return w?w.inorderTraversal(x=>p(x.name,x.node)):this.children_.inorderTraversal(p)}getIterator(o){return this.getIteratorFrom(o.minPost(),o)}getIteratorFrom(o,p){const w=this.resolveIndex_(p);if(w)return w.getIteratorFrom(o,x=>x);{const x=this.children_.getIteratorFrom(o.name,Os.Wrap);let j=x.peek();for(;null!=j&&p.compare(j,o)<0;)x.getNext(),j=x.peek();return x}}getReverseIterator(o){return this.getReverseIteratorFrom(o.maxPost(),o)}getReverseIteratorFrom(o,p){const w=this.resolveIndex_(p);if(w)return w.getReverseIteratorFrom(o,x=>x);{const x=this.children_.getReverseIteratorFrom(o.name,Os.Wrap);let j=x.peek();for(;null!=j&&p.compare(j,o)>0;)x.getNext(),j=x.peek();return x}}compareTo(o){return this.isEmpty()?o.isEmpty()?0:-1:o.isLeafNode()||o.isEmpty()?1:o===Zu?-1:0}withIndex(o){if(o===Cl||this.indexMap_.hasIndex(o))return this;{const p=this.indexMap_.addIndex(o,this.children_);return new c(this.children_,this.priorityNode_,p)}}isIndexed(o){return o===Cl||this.indexMap_.hasIndex(o)}equals(o){if(o===this)return!0;if(o.isLeafNode())return!1;{const p=o;if(this.getPriority().equals(p.getPriority())){if(this.children_.count()===p.children_.count()){const w=this.getIterator(zo),x=p.getIterator(zo);let j=w.getNext(),J=x.getNext();for(;j&&J;){if(j.name!==J.name||!j.node.equals(J.node))return!1;j=w.getNext(),J=x.getNext()}return null===j&&null===J}return!1}return!1}}resolveIndex_(o){return o===Cl?null:this.indexMap_.get(o.toString())}}return c.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,c})();const Zu=new class Gf extends es{constructor(){super(new Na(Yp),es.EMPTY_NODE,us.Default)}compareTo(s){return s===this?0:1}equals(s){return s===this}getPriority(){return this}getImmediateChild(s){return es.EMPTY_NODE}isEmpty(){return!1}};Object.defineProperties(Os,{MIN:{value:new Os(Zi,es.EMPTY_NODE)},MAX:{value:new Os(bs,Zu)}}),Kp.__EMPTY_NODE=es.EMPTY_NODE,cl.__childrenNodeConstructor=es,function Hf(c){Hd=c}(Zu),function Yu(c){zh=c}(Zu);const rv=!0;function ra(c,s=null){if(null===c)return es.EMPTY_NODE;if("object"==typeof c&&".priority"in c&&(s=c[".priority"]),(0,b.hu)(null===s||"string"==typeof s||"number"==typeof s||"object"==typeof s&&".sv"in s,"Invalid priority type found: "+typeof s),"object"==typeof c&&".value"in c&&null!==c[".value"]&&(c=c[".value"]),"object"!=typeof c||".sv"in c)return new cl(c,ra(s));if(c instanceof Array||!rv){let o=es.EMPTY_NODE;return Rs(c,(p,w)=>{if((0,b.r3)(c,p)&&"."!==p.substring(0,1)){const x=ra(w);(x.isLeafNode()||!x.isEmpty())&&(o=o.updateImmediateChild(p,x))}}),o.updatePriority(ra(s))}{const o=[];let p=!1;if(Rs(c,(j,J)=>{if("."!==j.substring(0,1)){const ve=ra(J);ve.isEmpty()||(p=p||!ve.getPriority().isEmpty(),o.push(new Os(j,ve)))}}),0===o.length)return es.EMPTY_NODE;const x=qp(o,jh,j=>j.name,Yp);if(p){const j=qp(o,zo.getCompare());return new es(x,ra(s),new us({".priority":j},{".priority":zo}))}return new es(x,ra(s),us.Default)}}!function ym(c){Ku=c}(ra);class Kf extends $c{constructor(s){super(),this.indexPath_=s,(0,b.hu)(!Bi(s)&&".priority"!==Hi(s),"Can't create PathIndex with empty path or .priority key")}extractChild(s){return s.getChild(this.indexPath_)}isDefinedOn(s){return!s.getChild(this.indexPath_).isEmpty()}compare(s,o){const p=this.extractChild(s.node),w=this.extractChild(o.node),x=p.compareTo(w);return 0===x?Ji(s.name,o.name):x}makePost(s,o){const p=ra(s),w=es.EMPTY_NODE.updateChild(this.indexPath_,p);return new Os(o,w)}maxPost(){const s=es.EMPTY_NODE.updateChild(this.indexPath_,Zu);return new Os(bs,s)}toString(){return Bc(this.indexPath_,0).join("/")}}const Wh=new class Xu extends $c{compare(s,o){const p=s.node.compareTo(o.node);return 0===p?Ji(s.name,o.name):p}isDefinedOn(s){return!0}indexedValueChanged(s,o){return!s.equals(o)}minPost(){return Os.MIN}maxPost(){return Os.MAX}makePost(s,o){const p=ra(s);return new Os(o,p)}toString(){return".value"}};function Wd(c){return{type:"value",snapshotNode:c}}function Vc(c,s){return{type:"child_added",snapshotNode:s,childName:c}}function Qu(c,s){return{type:"child_removed",snapshotNode:s,childName:c}}function hc(c,s,o){return{type:"child_changed",snapshotNode:s,childName:c,oldSnap:o}}class Yf{constructor(s){this.index_=s}updateChild(s,o,p,w,x,j){(0,b.hu)(s.isIndexed(this.index_),"A node must be indexed if only a child is updated");const J=s.getImmediateChild(o);return J.getChild(w).equals(p.getChild(w))&&J.isEmpty()===p.isEmpty()||(null!=j&&(p.isEmpty()?s.hasChild(o)?j.trackChildChange(Qu(o,J)):(0,b.hu)(s.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):J.isEmpty()?j.trackChildChange(Vc(o,p)):j.trackChildChange(hc(o,p,J))),s.isLeafNode()&&p.isEmpty())?s:s.updateImmediateChild(o,p).withIndex(this.index_)}updateFullNode(s,o,p){return null!=p&&(s.isLeafNode()||s.forEachChild(zo,(w,x)=>{o.hasChild(w)||p.trackChildChange(Qu(w,x))}),o.isLeafNode()||o.forEachChild(zo,(w,x)=>{if(s.hasChild(w)){const j=s.getImmediateChild(w);j.equals(x)||p.trackChildChange(hc(w,x,j))}else p.trackChildChange(Vc(w,x))})),o.withIndex(this.index_)}updatePriority(s,o){return s.isEmpty()?es.EMPTY_NODE:s.updatePriority(o)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class Gd{constructor(s){this.indexedFilter_=new Yf(s.getIndex()),this.index_=s.getIndex(),this.startPost_=Gd.getStartPost_(s),this.endPost_=Gd.getEndPost_(s),this.startIsInclusive_=!s.startAfterSet_,this.endIsInclusive_=!s.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(s){const o=this.startIsInclusive_?this.index_.compare(this.getStartPost(),s)<=0:this.index_.compare(this.getStartPost(),s)<0,p=this.endIsInclusive_?this.index_.compare(s,this.getEndPost())<=0:this.index_.compare(s,this.getEndPost())<0;return o&&p}updateChild(s,o,p,w,x,j){return this.matches(new Os(o,p))||(p=es.EMPTY_NODE),this.indexedFilter_.updateChild(s,o,p,w,x,j)}updateFullNode(s,o,p){o.isLeafNode()&&(o=es.EMPTY_NODE);let w=o.withIndex(this.index_);w=w.updatePriority(es.EMPTY_NODE);const x=this;return o.forEachChild(zo,(j,J)=>{x.matches(new Os(j,J))||(w=w.updateImmediateChild(j,es.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(s,w,p)}updatePriority(s,o){return s}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(s){if(s.hasStart()){const o=s.getIndexStartName();return s.getIndex().makePost(s.getIndexStartValue(),o)}return s.getIndex().minPost()}static getEndPost_(s){if(s.hasEnd()){const o=s.getIndexEndName();return s.getIndex().makePost(s.getIndexEndValue(),o)}return s.getIndex().maxPost()}}class sv{constructor(s){this.withinDirectionalStart=o=>this.reverse_?this.withinEndPost(o):this.withinStartPost(o),this.withinDirectionalEnd=o=>this.reverse_?this.withinStartPost(o):this.withinEndPost(o),this.withinStartPost=o=>{const p=this.index_.compare(this.rangedFilter_.getStartPost(),o);return this.startIsInclusive_?p<=0:p<0},this.withinEndPost=o=>{const p=this.index_.compare(o,this.rangedFilter_.getEndPost());return this.endIsInclusive_?p<=0:p<0},this.rangedFilter_=new Gd(s),this.index_=s.getIndex(),this.limit_=s.getLimit(),this.reverse_=!s.isViewFromLeft(),this.startIsInclusive_=!s.startAfterSet_,this.endIsInclusive_=!s.endBeforeSet_}updateChild(s,o,p,w,x,j){return this.rangedFilter_.matches(new Os(o,p))||(p=es.EMPTY_NODE),s.getImmediateChild(o).equals(p)?s:s.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(s,o,p,w,x,j):this.fullLimitUpdateChild_(s,o,p,x,j)}updateFullNode(s,o,p){let w;if(o.isLeafNode()||o.isEmpty())w=es.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<o.numChildren()&&o.isIndexed(this.index_)){let x;w=es.EMPTY_NODE.withIndex(this.index_),x=this.reverse_?o.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):o.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let j=0;for(;x.hasNext()&&j<this.limit_;){const J=x.getNext();if(this.withinDirectionalStart(J)){if(!this.withinDirectionalEnd(J))break;w=w.updateImmediateChild(J.name,J.node),j++}}}else{let x;w=o.withIndex(this.index_),w=w.updatePriority(es.EMPTY_NODE),x=this.reverse_?w.getReverseIterator(this.index_):w.getIterator(this.index_);let j=0;for(;x.hasNext();){const J=x.getNext();j<this.limit_&&this.withinDirectionalStart(J)&&this.withinDirectionalEnd(J)?j++:w=w.updateImmediateChild(J.name,es.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(s,w,p)}updatePriority(s,o){return s}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(s,o,p,w,x){let j;if(this.reverse_){const Yt=this.index_.getCompare();j=(ln,On)=>Yt(On,ln)}else j=this.index_.getCompare();const J=s;(0,b.hu)(J.numChildren()===this.limit_,"");const ve=new Os(o,p),Be=this.reverse_?J.getFirstChild(this.index_):J.getLastChild(this.index_),xt=this.rangedFilter_.matches(ve);if(J.hasChild(o)){const Yt=J.getImmediateChild(o);let ln=w.getChildAfterChild(this.index_,Be,this.reverse_);for(;null!=ln&&(ln.name===o||J.hasChild(ln.name));)ln=w.getChildAfterChild(this.index_,ln,this.reverse_);const On=null==ln?1:j(ln,ve);if(xt&&!p.isEmpty()&&On>=0)return null!=x&&x.trackChildChange(hc(o,p,Yt)),J.updateImmediateChild(o,p);{null!=x&&x.trackChildChange(Qu(o,Yt));const pr=J.updateImmediateChild(o,es.EMPTY_NODE);return null!=ln&&this.rangedFilter_.matches(ln)?(null!=x&&x.trackChildChange(Vc(ln.name,ln.node)),pr.updateImmediateChild(ln.name,ln.node)):pr}}return p.isEmpty()?s:xt&&j(Be,ve)>=0?(null!=x&&(x.trackChildChange(Qu(Be.name,Be.node)),x.trackChildChange(Vc(o,p))),J.updateImmediateChild(o,p).updateImmediateChild(Be.name,es.EMPTY_NODE)):s}}class Kd{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=zo}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,b.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,b.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Zi}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,b.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,b.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:bs}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,b.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===zo}copy(){const s=new Kd;return s.limitSet_=this.limitSet_,s.limit_=this.limit_,s.startSet_=this.startSet_,s.startAfterSet_=this.startAfterSet_,s.indexStartValue_=this.indexStartValue_,s.startNameSet_=this.startNameSet_,s.indexStartName_=this.indexStartName_,s.endSet_=this.endSet_,s.endBeforeSet_=this.endBeforeSet_,s.indexEndValue_=this.indexEndValue_,s.endNameSet_=this.endNameSet_,s.indexEndName_=this.indexEndName_,s.index_=this.index_,s.viewFrom_=this.viewFrom_,s}}function Xp(c,s,o){const p=c.copy();return p.startSet_=!0,void 0===s&&(s=null),p.indexStartValue_=s,null!=o?(p.startNameSet_=!0,p.indexStartName_=o):(p.startNameSet_=!1,p.indexStartName_=""),p}function Ju(c,s,o){const p=c.copy();return p.endSet_=!0,void 0===s&&(s=null),p.indexEndValue_=s,void 0!==o?(p.endNameSet_=!0,p.indexEndName_=o):(p.endNameSet_=!1,p.indexEndName_=""),p}function qd(c,s){const o=c.copy();return o.index_=s,o}function Gh(c){const s={};if(c.isDefault())return s;let o;if(c.index_===zo?o="$priority":c.index_===Wh?o="$value":c.index_===Cl?o="$key":((0,b.hu)(c.index_ instanceof Kf,"Unrecognized index type!"),o=c.index_.toString()),s.orderBy=(0,b.Wl)(o),c.startSet_){const p=c.startAfterSet_?"startAfter":"startAt";s[p]=(0,b.Wl)(c.indexStartValue_),c.startNameSet_&&(s[p]+=","+(0,b.Wl)(c.indexStartName_))}if(c.endSet_){const p=c.endBeforeSet_?"endBefore":"endAt";s[p]=(0,b.Wl)(c.indexEndValue_),c.endNameSet_&&(s[p]+=","+(0,b.Wl)(c.indexEndName_))}return c.limitSet_&&(c.isViewFromLeft()?s.limitToFirst=c.limit_:s.limitToLast=c.limit_),s}function _a(c){const s={};if(c.startSet_&&(s.sp=c.indexStartValue_,c.startNameSet_&&(s.sn=c.indexStartName_),s.sin=!c.startAfterSet_),c.endSet_&&(s.ep=c.indexEndValue_,c.endNameSet_&&(s.en=c.indexEndName_),s.ein=!c.endBeforeSet_),c.limitSet_){s.l=c.limit_;let o=c.viewFrom_;""===o&&(o=c.isViewFromLeft()?"l":"r"),s.vf=o}return c.index_!==zo&&(s.i=c.index_.toString()),s}class Zd extends en{constructor(s,o,p,w){super(),this.repoInfo_=s,this.onDataUpdate_=o,this.authTokenProvider_=p,this.appCheckTokenProvider_=w,this.log_=Dr("p:rest:"),this.listens_={}}reportStats(s){throw new Error("Method not implemented.")}static getListenId_(s,o){return void 0!==o?"tag$"+o:((0,b.hu)(s._queryParams.isDefault(),"should have a tag if it's not a default query."),s._path.toString())}listen(s,o,p,w){const x=s._path.toString();this.log_("Listen called for "+x+" "+s._queryIdentifier);const j=Zd.getListenId_(s,p),J={};this.listens_[j]=J;const ve=Gh(s._queryParams);this.restRequest_(x+".json",ve,(Be,xt)=>{let Yt=xt;if(404===Be&&(Yt=null,Be=null),null===Be&&this.onDataUpdate_(x,Yt,!1,p),(0,b.DV)(this.listens_,j)===J){let ln;ln=Be?401===Be?"permission_denied":"rest_error:"+Be:"ok",w(ln,null)}})}unlisten(s,o){const p=Zd.getListenId_(s,o);delete this.listens_[p]}get(s){const o=Gh(s._queryParams),p=s._path.toString(),w=new b.BH;return this.restRequest_(p+".json",o,(x,j)=>{let J=j;404===x&&(J=null,x=null),null===x?(this.onDataUpdate_(p,J,!1,null),w.resolve(J)):w.reject(new Error(J))}),w.promise}refreshAuthToken(s){}restRequest_(s,o={},p){return o.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([w,x])=>{w&&w.accessToken&&(o.auth=w.accessToken),x&&x.token&&(o.ac=x.token);const j=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+s+"?ns="+this.repoInfo_.namespace+(0,b.xO)(o);this.log_("Sending REST request for "+j);const J=new XMLHttpRequest;J.onreadystatechange=()=>{if(p&&4===J.readyState){this.log_("REST Response for "+j+" received. status:",J.status,"response:",J.responseText);let ve=null;if(J.status>=200&&J.status<300){try{ve=(0,b.cI)(J.responseText)}catch{vr("Failed to parse JSON response for "+j+": "+J.responseText)}p(null,ve)}else 401!==J.status&&404!==J.status&&vr("Got unsuccessful REST response for "+j+" Status: "+J.status),p(J.status);p=null}},J.open("GET",j,!0),J.send()})}}class ov{constructor(){this.rootNode_=es.EMPTY_NODE}getNode(s){return this.rootNode_.getChild(s)}updateSnapshot(s,o){this.rootNode_=this.rootNode_.updateChild(s,o)}}function ed(){return{value:null,children:new Map}}function ul(c,s,o){if(Bi(s))c.value=o,c.children.clear();else if(null!==c.value)c.value=c.value.updateChild(s,o);else{const p=Hi(s);c.children.has(p)||c.children.set(p,ed()),ul(c.children.get(p),s=As(s),o)}}function Kh(c,s){if(Bi(s))return c.value=null,c.children.clear(),!0;if(null!==c.value){if(c.value.isLeafNode())return!1;{const o=c.value;return c.value=null,o.forEachChild(zo,(p,w)=>{ul(c,new ri(p),w)}),Kh(c,s)}}if(c.children.size>0){const o=Hi(s);return s=As(s),c.children.has(o)&&Kh(c.children.get(o),s)&&c.children.delete(o),0===c.children.size}return!0}function Zf(c,s,o){null!==c.value?o(s,c.value):function td(c,s){c.children.forEach((o,p)=>{s(p,o)})}(c,(p,w)=>{Zf(w,new ri(s.toString()+"/"+p),o)})}class Qp{constructor(s){this.collection_=s,this.last_=null}get(){const s=this.collection_.get(),o=Object.assign({},s);return this.last_&&Rs(this.last_,(p,w)=>{o[p]=o[p]-w}),this.last_=s,o}}class K0{constructor(s,o){this.server_=o,this.statsToReport_={},this.statsListener_=new Qp(s);const p=1e4+2e4*Math.random();Qa(this.reportStats_.bind(this),Math.floor(p))}reportStats_(){const s=this.statsListener_.get(),o={};let p=!1;Rs(s,(w,x)=>{x>0&&(0,b.r3)(this.statsToReport_,w)&&(o[w]=x,p=!0)}),p&&this.server_.reportStats(o),Qa(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var ua=(()=>((ua=ua||{})[ua.OVERWRITE=0]="OVERWRITE",ua[ua.MERGE=1]="MERGE",ua[ua.ACK_USER_WRITE=2]="ACK_USER_WRITE",ua[ua.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",ua))();function rd(c){return{fromUser:!1,fromServer:!0,queryId:c,tagged:!0}}class pu{constructor(s,o,p){this.path=s,this.affectedTree=o,this.revert=p,this.type=ua.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(s){if(Bi(this.path)){if(null!=this.affectedTree.value)return(0,b.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const o=this.affectedTree.subtree(new ri(s));return new pu(qi(),o,this.revert)}}return(0,b.hu)(Hi(this.path)===s,"operationForChild called for unrelated child."),new pu(As(this.path),this.affectedTree,this.revert)}}class id{constructor(s,o){this.source=s,this.path=o,this.type=ua.LISTEN_COMPLETE}operationForChild(s){return Bi(this.path)?new id(this.source,qi()):new id(this.source,As(this.path))}}class sd{constructor(s,o,p){this.source=s,this.path=o,this.snap=p,this.type=ua.OVERWRITE}operationForChild(s){return Bi(this.path)?new sd(this.source,qi(),this.snap.getImmediateChild(s)):new sd(this.source,As(this.path),this.snap)}}class od{constructor(s,o,p){this.source=s,this.path=o,this.children=p,this.type=ua.MERGE}operationForChild(s){if(Bi(this.path)){const o=this.children.subtree(new ri(s));return o.isEmpty()?null:o.value?new sd(this.source,qi(),o.value):new od(this.source,qi(),o)}return(0,b.hu)(Hi(this.path)===s,"Can't get a merge for a child not on the path of the operation"),new od(this.source,As(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class gu{constructor(s,o,p){this.node_=s,this.fullyInitialized_=o,this.filtered_=p}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(s){if(Bi(s))return this.isFullyInitialized()&&!this.filtered_;const o=Hi(s);return this.isCompleteForChild(o)}isCompleteForChild(s){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(s)}getNode(){return this.node_}}class lv{constructor(s){this.query_=s,this.index_=this.query_._queryParams.getIndex()}}function Kl(c,s,o,p,w,x){const j=p.filter(J=>J.type===o);j.sort((J,ve)=>function cv(c,s,o){if(null==s.childName||null==o.childName)throw(0,b.g5)("Should only compare child_ events.");const p=new Os(s.childName,s.snapshotNode),w=new Os(o.childName,o.snapshotNode);return c.index_.compare(p,w)}(c,J,ve)),j.forEach(J=>{const ve=function Yh(c,s,o){return"value"===s.type||"child_removed"===s.type||(s.prevName=o.getPredecessorChildName(s.childName,s.snapshotNode,c.index_)),s}(c,J,x);w.forEach(Be=>{Be.respondsTo(J.type)&&s.push(Be.createEvent(ve,c.query_))})})}function Jp(c,s){return{eventCache:c,serverCache:s}}function Bl(c,s,o,p){return Jp(new gu(s,o,p),c.serverCache)}function Dl(c,s,o,p){return Jp(c.eventCache,new gu(s,o,p))}function Xf(c){return c.eventCache.isFullyInitialized()?c.eventCache.getNode():null}function qh(c){return c.serverCache.isFullyInitialized()?c.serverCache.getNode():null}let Cm;class Oo{constructor(s,o=(()=>(Cm||(Cm=new Na(Ma)),Cm))()){this.value=s,this.children=o}static fromObject(s){let o=new Oo(null);return Rs(s,(p,w)=>{o=o.set(new ri(p),w)}),o}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(s,o){if(null!=this.value&&o(this.value))return{path:qi(),value:this.value};if(Bi(s))return null;{const p=Hi(s),w=this.children.get(p);if(null!==w){const x=w.findRootMostMatchingPathAndValue(As(s),o);return null!=x?{path:zs(new ri(p),x.path),value:x.value}:null}return null}}findRootMostValueAndPath(s){return this.findRootMostMatchingPathAndValue(s,()=>!0)}subtree(s){if(Bi(s))return this;{const o=Hi(s),p=this.children.get(o);return null!==p?p.subtree(As(s)):new Oo(null)}}set(s,o){if(Bi(s))return new Oo(o,this.children);{const p=Hi(s),x=(this.children.get(p)||new Oo(null)).set(As(s),o),j=this.children.insert(p,x);return new Oo(this.value,j)}}remove(s){if(Bi(s))return this.children.isEmpty()?new Oo(null):new Oo(null,this.children);{const o=Hi(s),p=this.children.get(o);if(p){const w=p.remove(As(s));let x;return x=w.isEmpty()?this.children.remove(o):this.children.insert(o,w),null===this.value&&x.isEmpty()?new Oo(null):new Oo(this.value,x)}return this}}get(s){if(Bi(s))return this.value;{const o=Hi(s),p=this.children.get(o);return p?p.get(As(s)):null}}setTree(s,o){if(Bi(s))return o;{const p=Hi(s),x=(this.children.get(p)||new Oo(null)).setTree(As(s),o);let j;return j=x.isEmpty()?this.children.remove(p):this.children.insert(p,x),new Oo(this.value,j)}}fold(s){return this.fold_(qi(),s)}fold_(s,o){const p={};return this.children.inorderTraversal((w,x)=>{p[w]=x.fold_(zs(s,w),o)}),o(s,this.value,p)}findOnPath(s,o){return this.findOnPath_(s,qi(),o)}findOnPath_(s,o,p){const w=!!this.value&&p(o,this.value);if(w)return w;if(Bi(s))return null;{const x=Hi(s),j=this.children.get(x);return j?j.findOnPath_(As(s),zs(o,x),p):null}}foreachOnPath(s,o){return this.foreachOnPath_(s,qi(),o)}foreachOnPath_(s,o,p){if(Bi(s))return this;{this.value&&p(o,this.value);const w=Hi(s),x=this.children.get(w);return x?x.foreachOnPath_(As(s),zs(o,w),p):new Oo(null)}}foreach(s){this.foreach_(qi(),s)}foreach_(s,o){this.children.inorderTraversal((p,w)=>{w.foreach_(zs(s,p),o)}),this.value&&o(s,this.value)}foreachChild(s){this.children.inorderTraversal((o,p)=>{p.value&&s(o,p.value)})}}class el{constructor(s){this.writeTree_=s}static empty(){return new el(new Oo(null))}}function Yl(c,s,o){if(Bi(s))return new el(new Oo(o));{const p=c.writeTree_.findRootMostValueAndPath(s);if(null!=p){const w=p.path;let x=p.value;const j=Pa(w,s);return x=x.updateChild(j,o),new el(c.writeTree_.set(w,x))}{const w=new Oo(o),x=c.writeTree_.setTree(s,w);return new el(x)}}}function Qd(c,s,o){let p=c;return Rs(o,(w,x)=>{p=Yl(p,zs(s,w),x)}),p}function Sm(c,s){if(Bi(s))return el.empty();{const o=c.writeTree_.setTree(s,new Oo(null));return new el(o)}}function Qf(c,s){return null!=mu(c,s)}function mu(c,s){const o=c.writeTree_.findRootMostValueAndPath(s);return null!=o?c.writeTree_.get(o.path).getChild(Pa(o.path,s)):null}function Jf(c){const s=[],o=c.writeTree_.value;return null!=o?o.isLeafNode()||o.forEachChild(zo,(p,w)=>{s.push(new Os(p,w))}):c.writeTree_.children.inorderTraversal((p,w)=>{null!=w.value&&s.push(new Os(p,w.value))}),s}function Ya(c,s){if(Bi(s))return c;{const o=mu(c,s);return new el(null!=o?new Oo(o):c.writeTree_.subtree(s))}}function Jd(c){return c.writeTree_.isEmpty()}function ad(c,s){return eg(qi(),c.writeTree_,s)}function eg(c,s,o){if(null!=s.value)return o.updateChild(c,s.value);{let p=null;return s.children.inorderTraversal((w,x)=>{".priority"===w?((0,b.hu)(null!==x.value,"Priority writes must always be leaf nodes"),p=x.value):o=eg(zs(c,w),x,o)}),!o.getChild(c).isEmpty()&&null!==p&&(o=o.updateChild(zs(c,".priority"),p)),o}}function ld(c,s){return sg(s,c)}function Tm(c,s){if(c.snap)return Va(c.path,s);for(const o in c.children)if(c.children.hasOwnProperty(o)&&Va(zs(c.path,o),s))return!0;return!1}function Z0(c){return c.visible}function eh(c,s,o){let p=el.empty();for(let w=0;w<c.length;++w){const x=c[w];if(s(x)){const j=x.path;let J;if(x.snap)Va(o,j)?(J=Pa(o,j),p=Yl(p,J,x.snap)):Va(j,o)&&(J=Pa(j,o),p=Yl(p,qi(),x.snap.getChild(J)));else{if(!x.children)throw(0,b.g5)("WriteRecord should have .snap or .children");if(Va(o,j))J=Pa(o,j),p=Qd(p,J,x.children);else if(Va(j,o))if(J=Pa(j,o),Bi(J))p=Qd(p,qi(),x.children);else{const ve=(0,b.DV)(x.children,Hi(J));if(ve){const Be=ve.getChild(As(J));p=Yl(p,qi(),Be)}}}}}return p}function cd(c,s,o,p,w){if(p||w){const x=Ya(c.visibleWrites,s);return!w&&Jd(x)?o:w||null!=o||Qf(x,qi())?ad(eh(c.allWrites,function(Be){return(Be.visible||w)&&(!p||!~p.indexOf(Be.writeId))&&(Va(Be.path,s)||Va(s,Be.path))},s),o||es.EMPTY_NODE):null}{const x=mu(c.visibleWrites,s);if(null!=x)return x;{const j=Ya(c.visibleWrites,s);return Jd(j)?o:null!=o||Qf(j,qi())?ad(j,o||es.EMPTY_NODE):null}}}function dd(c,s,o,p){return cd(c.writeTree,c.treePath,s,o,p)}function ig(c,s){return function ud(c,s,o){let p=es.EMPTY_NODE;const w=mu(c.visibleWrites,s);if(w)return w.isLeafNode()||w.forEachChild(zo,(x,j)=>{p=p.updateImmediateChild(x,j)}),p;if(o){const x=Ya(c.visibleWrites,s);return o.forEachChild(zo,(j,J)=>{const ve=ad(Ya(x,new ri(j)),J);p=p.updateImmediateChild(j,ve)}),Jf(x).forEach(j=>{p=p.updateImmediateChild(j.name,j.node)}),p}return Jf(Ya(c.visibleWrites,s)).forEach(j=>{p=p.updateImmediateChild(j.name,j.node)}),p}(c.writeTree,c.treePath,s)}function fa(c,s,o,p){return function uv(c,s,o,p,w){(0,b.hu)(p||w,"Either existingEventSnap or existingServerSnap must exist");const x=zs(s,o);if(Qf(c.visibleWrites,x))return null;{const j=Ya(c.visibleWrites,x);return Jd(j)?w.getChild(o):ad(j,w.getChild(o))}}(c.writeTree,c.treePath,s,o,p)}function Xh(c,s){return function Am(c,s){return mu(c.visibleWrites,s)}(c.writeTree,zs(c.treePath,s))}function hd(c,s,o){return function M_(c,s,o,p){const w=zs(s,o),x=mu(c.visibleWrites,w);return null!=x?x:p.isCompleteForChild(o)?ad(Ya(c.visibleWrites,w),p.getNode().getImmediateChild(o)):null}(c.writeTree,c.treePath,s,o)}function Mm(c,s){return sg(zs(c.treePath,s),c.writeTree)}function sg(c,s){return{treePath:c,writeTree:s}}class og{constructor(){this.changeMap=new Map}trackChildChange(s){const o=s.type,p=s.childName;(0,b.hu)("child_added"===o||"child_changed"===o||"child_removed"===o,"Only child changes supported for tracking"),(0,b.hu)(".priority"!==p,"Only non-priority child changes can be tracked.");const w=this.changeMap.get(p);if(w){const x=w.type;if("child_added"===o&&"child_removed"===x)this.changeMap.set(p,hc(p,s.snapshotNode,w.snapshotNode));else if("child_removed"===o&&"child_added"===x)this.changeMap.delete(p);else if("child_removed"===o&&"child_changed"===x)this.changeMap.set(p,Qu(p,w.oldSnap));else if("child_changed"===o&&"child_added"===x)this.changeMap.set(p,Vc(p,s.snapshotNode));else{if("child_changed"!==o||"child_changed"!==x)throw(0,b.g5)("Illegal combination of changes: "+s+" occurred after "+w);this.changeMap.set(p,hc(p,s.snapshotNode,w.oldSnap))}}else this.changeMap.set(p,s)}getChanges(){return Array.from(this.changeMap.values())}}const Pm=new class P_{getCompleteChild(s){return null}getChildAfterChild(s,o,p){return null}};class fd{constructor(s,o,p=null){this.writes_=s,this.viewCache_=o,this.optCompleteServerCache_=p}getCompleteChild(s){const o=this.viewCache_.eventCache;if(o.isCompleteForChild(s))return o.getNode().getImmediateChild(s);{const p=null!=this.optCompleteServerCache_?new gu(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return hd(this.writes_,s,p)}}getChildAfterChild(s,o,p){const w=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:qh(this.viewCache_),x=function dv(c,s,o,p,w,x){return function rg(c,s,o,p,w,x,j){let J;const ve=Ya(c.visibleWrites,s),Be=mu(ve,qi());if(null!=Be)J=Be;else{if(null==o)return[];J=ad(ve,o)}if(J=J.withIndex(j),J.isEmpty()||J.isLeafNode())return[];{const xt=[],Yt=j.getCompare(),ln=x?J.getReverseIteratorFrom(p,j):J.getIteratorFrom(p,j);let On=ln.getNext();for(;On&&xt.length<w;)0!==Yt(On,p)&&xt.push(On),On=ln.getNext();return xt}}(c.writeTree,c.treePath,s,o,p,w,x)}(this.writes_,w,o,1,p,s);return 0===x.length?null:x[0]}}function Sa(c,s,o,p,w,x){const j=s.eventCache;if(null!=Xh(p,o))return s;{let J,ve;if(Bi(o))if((0,b.hu)(s.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),s.serverCache.isFiltered()){const Be=qh(s),Yt=ig(p,Be instanceof es?Be:es.EMPTY_NODE);J=c.filter.updateFullNode(s.eventCache.getNode(),Yt,x)}else{const Be=dd(p,qh(s));J=c.filter.updateFullNode(s.eventCache.getNode(),Be,x)}else{const Be=Hi(o);if(".priority"===Be){(0,b.hu)(1===Ll(o),"Can't have a priority with additional path components");const xt=j.getNode();ve=s.serverCache.getNode();const Yt=fa(p,o,xt,ve);J=null!=Yt?c.filter.updatePriority(xt,Yt):j.getNode()}else{const xt=As(o);let Yt;if(j.isCompleteForChild(Be)){ve=s.serverCache.getNode();const ln=fa(p,o,j.getNode(),ve);Yt=null!=ln?j.getNode().getImmediateChild(Be).updateChild(xt,ln):j.getNode().getImmediateChild(Be)}else Yt=hd(p,Be,s.serverCache);J=null!=Yt?c.filter.updateChild(j.getNode(),Be,Yt,xt,w,x):j.getNode()}}return Bl(s,J,j.isFullyInitialized()||Bi(o),c.filter.filtersNodes())}}function Jh(c,s,o,p,w,x,j,J){const ve=s.serverCache;let Be;const xt=j?c.filter:c.filter.getIndexedFilter();if(Bi(o))Be=xt.updateFullNode(ve.getNode(),p,null);else if(xt.filtersNodes()&&!ve.isFiltered()){const On=ve.getNode().updateChild(o,p);Be=xt.updateFullNode(ve.getNode(),On,null)}else{const On=Hi(o);if(!ve.isCompleteForPath(o)&&Ll(o)>1)return s;const Hn=As(o),mi=ve.getNode().getImmediateChild(On).updateChild(Hn,p);Be=".priority"===On?xt.updatePriority(ve.getNode(),mi):xt.updateChild(ve.getNode(),On,mi,Hn,Pm,null)}const Yt=Dl(s,Be,ve.isFullyInitialized()||Bi(o),xt.filtersNodes());return Sa(c,Yt,o,w,new fd(w,Yt,x),J)}function th(c,s,o,p,w,x,j){const J=s.eventCache;let ve,Be;const xt=new fd(w,s,x);if(Bi(o))Be=c.filter.updateFullNode(s.eventCache.getNode(),p,j),ve=Bl(s,Be,!0,c.filter.filtersNodes());else{const Yt=Hi(o);if(".priority"===Yt)Be=c.filter.updatePriority(s.eventCache.getNode(),p),ve=Bl(s,Be,J.isFullyInitialized(),J.isFiltered());else{const ln=As(o),On=J.getNode().getImmediateChild(Yt);let Hn;if(Bi(ln))Hn=p;else{const pr=xt.getCompleteChild(Yt);Hn=null!=pr?".priority"===hu(ln)&&pr.getChild(cc(ln)).isEmpty()?pr:pr.updateChild(ln,p):es.EMPTY_NODE}ve=On.equals(Hn)?s:Bl(s,c.filter.updateChild(J.getNode(),Yt,Hn,ln,xt,j),J.isFullyInitialized(),c.filter.filtersNodes())}}return ve}function ef(c,s){return c.eventCache.isCompleteForChild(s)}function yu(c,s,o){return o.foreach((p,w)=>{s=s.updateChild(p,w)}),s}function vu(c,s,o,p,w,x,j,J){if(s.serverCache.getNode().isEmpty()&&!s.serverCache.isFullyInitialized())return s;let Be,ve=s;Be=Bi(o)?p:new Oo(null).setTree(o,p);const xt=s.serverCache.getNode();return Be.children.inorderTraversal((Yt,ln)=>{if(xt.hasChild(Yt)){const Hn=yu(0,s.serverCache.getNode().getImmediateChild(Yt),ln);ve=Jh(c,ve,new ri(Yt),Hn,w,x,j,J)}}),Be.children.inorderTraversal((Yt,ln)=>{const On=!s.serverCache.isCompleteForChild(Yt)&&null===ln.value;if(!xt.hasChild(Yt)&&!On){const pr=yu(0,s.serverCache.getNode().getImmediateChild(Yt),ln);ve=Jh(c,ve,new ri(Yt),pr,w,x,j,J)}}),ve}class pd{constructor(s,o){this.query_=s,this.eventRegistrations_=[];const p=this.query_._queryParams,w=new Yf(p.getIndex()),x=function Em(c){return c.loadsAllData()?new Yf(c.getIndex()):c.hasLimit()?new sv(c):new Gd(c)}(p);this.processor_=function Rm(c){return{filter:c}}(x);const j=o.serverCache,J=o.eventCache,ve=w.updateFullNode(es.EMPTY_NODE,j.getNode(),null),Be=x.updateFullNode(es.EMPTY_NODE,J.getNode(),null),xt=new gu(ve,j.isFullyInitialized(),w.filtersNodes()),Yt=new gu(Be,J.isFullyInitialized(),x.filtersNodes());this.viewCache_=Jp(Yt,xt),this.eventGenerator_=new lv(this.query_)}get query(){return this.query_}}function Nm(c,s){const o=qh(c.viewCache_);return o&&(c.query._queryParams.loadsAllData()||!Bi(s)&&!o.getImmediateChild(Hi(s)).isEmpty())?o.getChild(s):null}function Fm(c){return 0===c.eventRegistrations_.length}function fv(c,s,o){const p=[];if(o){(0,b.hu)(null==s,"A cancel should cancel all event registrations.");const w=c.query._path;c.eventRegistrations_.forEach(x=>{const j=x.createCancelEvent(o,w);j&&p.push(j)})}if(s){let w=[];for(let x=0;x<c.eventRegistrations_.length;++x){const j=c.eventRegistrations_[x];if(j.matches(s)){if(s.hasAnyCallback()){w=w.concat(c.eventRegistrations_.slice(x+1));break}}else w.push(j)}c.eventRegistrations_=w}else c.eventRegistrations_=[];return p}function ep(c,s,o,p){s.type===ua.MERGE&&null!==s.source.queryId&&((0,b.hu)(qh(c.viewCache_),"We should always have a full cache before handling merges"),(0,b.hu)(Xf(c.viewCache_),"Missing event cache, even though we have a server cache"));const w=c.viewCache_,x=function Qh(c,s,o,p,w){const x=new og;let j,J;if(o.type===ua.OVERWRITE){const Be=o;Be.source.fromUser?j=th(c,s,Be.path,Be.snap,p,w,x):((0,b.hu)(Be.source.fromServer,"Unknown source."),J=Be.source.tagged||s.serverCache.isFiltered()&&!Bi(Be.path),j=Jh(c,s,Be.path,Be.snap,p,w,J,x))}else if(o.type===ua.MERGE){const Be=o;Be.source.fromUser?j=function Om(c,s,o,p,w,x,j){let J=s;return p.foreach((ve,Be)=>{const xt=zs(o,ve);ef(s,Hi(xt))&&(J=th(c,J,xt,Be,w,x,j))}),p.foreach((ve,Be)=>{const xt=zs(o,ve);ef(s,Hi(xt))||(J=th(c,J,xt,Be,w,x,j))}),J}(c,s,Be.path,Be.children,p,w,x):((0,b.hu)(Be.source.fromServer,"Unknown source."),J=Be.source.tagged||s.serverCache.isFiltered(),j=vu(c,s,Be.path,Be.children,p,w,J,x))}else if(o.type===ua.ACK_USER_WRITE){const Be=o;j=Be.revert?function X0(c,s,o,p,w,x){let j;if(null!=Xh(p,o))return s;{const J=new fd(p,s,w),ve=s.eventCache.getNode();let Be;if(Bi(o)||".priority"===Hi(o)){let xt;if(s.serverCache.isFullyInitialized())xt=dd(p,qh(s));else{const Yt=s.serverCache.getNode();(0,b.hu)(Yt instanceof es,"serverChildren would be complete if leaf node"),xt=ig(p,Yt)}Be=c.filter.updateFullNode(ve,xt,x)}else{const xt=Hi(o);let Yt=hd(p,xt,s.serverCache);null==Yt&&s.serverCache.isCompleteForChild(xt)&&(Yt=ve.getImmediateChild(xt)),Be=null!=Yt?c.filter.updateChild(ve,xt,Yt,As(o),J,x):s.eventCache.getNode().hasChild(xt)?c.filter.updateChild(ve,xt,es.EMPTY_NODE,As(o),J,x):ve,Be.isEmpty()&&s.serverCache.isFullyInitialized()&&(j=dd(p,qh(s)),j.isLeafNode()&&(Be=c.filter.updateFullNode(Be,j,x)))}return j=s.serverCache.isFullyInitialized()||null!=Xh(p,qi()),Bl(s,Be,j,c.filter.filtersNodes())}}(c,s,Be.path,p,w,x):function km(c,s,o,p,w,x,j){if(null!=Xh(w,o))return s;const J=s.serverCache.isFiltered(),ve=s.serverCache;if(null!=p.value){if(Bi(o)&&ve.isFullyInitialized()||ve.isCompleteForPath(o))return Jh(c,s,o,ve.getNode().getChild(o),w,x,J,j);if(Bi(o)){let Be=new Oo(null);return ve.getNode().forEachChild(Cl,(xt,Yt)=>{Be=Be.set(new ri(xt),Yt)}),vu(c,s,o,Be,w,x,J,j)}return s}{let Be=new Oo(null);return p.foreach((xt,Yt)=>{const ln=zs(o,xt);ve.isCompleteForPath(ln)&&(Be=Be.set(xt,ve.getNode().getChild(ln)))}),vu(c,s,o,Be,w,x,J,j)}}(c,s,Be.path,Be.affectedTree,p,w,x)}else{if(o.type!==ua.LISTEN_COMPLETE)throw(0,b.g5)("Unknown operation type: "+o.type);j=function _u(c,s,o,p,w){const x=s.serverCache;return Sa(c,Dl(s,x.getNode(),x.isFullyInitialized()||Bi(o),x.isFiltered()),o,p,Pm,w)}(c,s,o.path,p,x)}const ve=x.getChanges();return function Eo(c,s,o){const p=s.eventCache;if(p.isFullyInitialized()){const w=p.getNode().isLeafNode()||p.getNode().isEmpty(),x=Xf(c);(o.length>0||!c.eventCache.isFullyInitialized()||w&&!p.getNode().equals(x)||!p.getNode().getPriority().equals(x.getPriority()))&&o.push(Wd(Xf(s)))}}(s,j,ve),{viewCache:j,changes:ve}}(c.processor_,w,s,o,p);return function ag(c,s){(0,b.hu)(s.eventCache.getNode().isIndexed(c.filter.getIndex()),"Event snap not indexed"),(0,b.hu)(s.serverCache.getNode().isIndexed(c.filter.getIndex()),"Server snap not indexed")}(c.processor_,x.viewCache),(0,b.hu)(x.viewCache.serverCache.isFullyInitialized()||!w.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),c.viewCache_=x.viewCache,tp(c,x.changes,x.viewCache.eventCache.getNode(),null)}function tp(c,s,o,p){return function x_(c,s,o,p){const w=[],x=[];return s.forEach(j=>{"child_changed"===j.type&&c.index_.indexedValueChanged(j.oldSnap,j.snapshotNode)&&x.push(function iv(c,s){return{type:"child_moved",snapshotNode:s,childName:c}}(j.childName,j.snapshotNode))}),Kl(c,w,"child_removed",s,p,o),Kl(c,w,"child_added",s,p,o),Kl(c,w,"child_moved",x,p,o),Kl(c,w,"child_changed",s,p,o),Kl(c,w,"value",s,p,o),w}(c.eventGenerator_,s,o,p?[p]:c.eventRegistrations_)}let nh,rp;class np{constructor(){this.views=new Map}}function bu(c,s,o,p){const w=s.source.queryId;if(null!==w){const x=c.views.get(w);return(0,b.hu)(null!=x,"SyncTree gave us an op for an invalid query."),ep(x,s,o,p)}{let x=[];for(const j of c.views.values())x=x.concat(ep(j,s,o,p));return x}}function tf(c,s,o,p,w){const j=c.views.get(s._queryIdentifier);if(!j){let J=dd(o,w?p:null),ve=!1;J?ve=!0:p instanceof es?(J=ig(o,p),ve=!1):(J=es.EMPTY_NODE,ve=!1);const Be=Jp(new gu(J,ve,!1),new gu(p,w,!1));return new pd(s,Be)}return j}function pv(c){const s=[];for(const o of c.views.values())o.query._queryParams.loadsAllData()||s.push(o);return s}function Eu(c,s){let o=null;for(const p of c.views.values())o=o||Nm(p,s);return o}function gv(c,s){return s._queryParams.loadsAllData()?Ta(c):c.views.get(s._queryIdentifier)}function ug(c,s){return null!=gv(c,s)}function fc(c){return null!=Ta(c)}function Ta(c){for(const s of c.views.values())if(s.query._queryParams.loadsAllData())return s;return null}let R_=1;class dg{constructor(s){this.listenProvider_=s,this.syncPointTree_=new Oo(null),this.pendingWriteTree_=function xm(){return{visibleWrites:el.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function $m(c,s,o,p,w){return function tg(c,s,o,p,w){(0,b.hu)(p>c.lastWriteId,"Stacking an older write on top of newer ones"),void 0===w&&(w=!0),c.allWrites.push({path:s,snap:o,writeId:p,visible:w}),w&&(c.visibleWrites=Yl(c.visibleWrites,s,o)),c.lastWriteId=p}(c.pendingWriteTree_,s,o,p,w),w?gc(c,new sd({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},s,o)):[]}function pc(c,s,o=!1){const p=function Y0(c,s){for(let o=0;o<c.allWrites.length;o++){const p=c.allWrites[o];if(p.writeId===s)return p}return null}(c.pendingWriteTree_,s);if(function ng(c,s){const o=c.allWrites.findIndex(J=>J.writeId===s);(0,b.hu)(o>=0,"removeWrite called with nonexistent writeId.");const p=c.allWrites[o];c.allWrites.splice(o,1);let w=p.visible,x=!1,j=c.allWrites.length-1;for(;w&&j>=0;){const J=c.allWrites[j];J.visible&&(j>=o&&Tm(J,p.path)?w=!1:Va(p.path,J.path)&&(x=!0)),j--}return!!w&&(x?(function q0(c){c.visibleWrites=eh(c.allWrites,Z0,qi()),c.lastWriteId=c.allWrites.length>0?c.allWrites[c.allWrites.length-1].writeId:-1}(c),!0):(p.snap?c.visibleWrites=Sm(c.visibleWrites,p.path):Rs(p.children,ve=>{c.visibleWrites=Sm(c.visibleWrites,zs(p.path,ve))}),!0))}(c.pendingWriteTree_,s)){let x=new Oo(null);return null!=p.snap?x=x.set(qi(),!0):Rs(p.children,j=>{x=x.set(new ri(j),!0)}),gc(c,new pu(p.path,x,o))}return[]}function hg(c,s,o){return gc(c,new sd({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},s,o))}function jc(c,s,o,p,w=!1){const x=s._path,j=c.syncPointTree_.get(x);let J=[];if(j&&("default"===s._queryIdentifier||ug(j,s))){const ve=function rh(c,s,o,p){const w=s._queryIdentifier,x=[];let j=[];const J=fc(c);if("default"===w)for(const[ve,Be]of c.views.entries())j=j.concat(fv(Be,o,p)),Fm(Be)&&(c.views.delete(ve),Be.query._queryParams.loadsAllData()||x.push(Be.query));else{const ve=c.views.get(w);ve&&(j=j.concat(fv(ve,o,p)),Fm(ve)&&(c.views.delete(w),ve.query._queryParams.loadsAllData()||x.push(ve.query)))}return J&&!fc(c)&&x.push(new(function Lm(){return(0,b.hu)(nh,"Reference.ts has not been loaded"),nh}())(s._repo,s._path)),{removed:x,events:j}}(j,s,o,p);(function cg(c){return 0===c.views.size})(j)&&(c.syncPointTree_=c.syncPointTree_.remove(x));const Be=ve.removed;if(J=ve.events,!w){const xt=-1!==Be.findIndex(ln=>ln._queryParams.loadsAllData()),Yt=c.syncPointTree_.findOnPath(x,(ln,On)=>fc(On));if(xt&&!Yt){const ln=c.syncPointTree_.subtree(x);if(!ln.isEmpty()){const On=function af(c){return c.fold((s,o,p)=>{if(o&&fc(o))return[Ta(o)];{let w=[];return o&&(w=pv(o)),Rs(p,(x,j)=>{w=w.concat(j)}),w}})}(ln);for(let Hn=0;Hn<On.length;++Hn){const pr=On[Hn],mi=pr.query,Es=sp(c,pr);c.listenProvider_.startListening(ah(mi),zc(c,mi),Es.hashFn,Es.onComplete)}}}!Yt&&Be.length>0&&!p&&(xt?c.listenProvider_.stopListening(ah(s),null):Be.forEach(ln=>{const On=c.queryToTagMap.get(jm(ln));c.listenProvider_.stopListening(ah(ln),On)}))}!function ap(c,s){for(let o=0;o<s.length;++o){const p=s[o];if(!p._queryParams.loadsAllData()){const w=jm(p),x=c.queryToTagMap.get(w);c.queryToTagMap.delete(w),c.tagToQueryMap.delete(x)}}}(c,Be)}return J}function ih(c,s,o,p){const w=sf(c,p);if(null!=w){const x=op(w),j=x.path,J=x.queryId,ve=Pa(j,s);return wu(c,j,new sd(rd(J),ve,o))}return[]}function yd(c,s,o,p=!1){const w=s._path;let x=null,j=!1;c.syncPointTree_.foreachOnPath(w,(ln,On)=>{const Hn=Pa(ln,w);x=x||Eu(On,Hn),j=j||fc(On)});let ve,J=c.syncPointTree_.get(w);J?(j=j||fc(J),x=x||Eu(J,qi())):(J=new np,c.syncPointTree_=c.syncPointTree_.set(w,J)),null!=x?ve=!0:(ve=!1,x=es.EMPTY_NODE,c.syncPointTree_.subtree(w).foreachChild((On,Hn)=>{const pr=Eu(Hn,qi());pr&&(x=x.updateImmediateChild(On,pr))}));const Be=ug(J,s);if(!Be&&!s._queryParams.loadsAllData()){const ln=jm(s);(0,b.hu)(!c.queryToTagMap.has(ln),"View does not exist, but we have a tag");const On=function zm(){return R_++}();c.queryToTagMap.set(ln,On),c.tagToQueryMap.set(On,ln)}let Yt=function Bm(c,s,o,p,w,x){const j=tf(c,s,p,w,x);return c.views.has(s._queryIdentifier)||c.views.set(s._queryIdentifier,j),function gd(c,s){c.eventRegistrations_.push(s)}(j,o),function lg(c,s){const o=c.viewCache_.eventCache,p=[];return o.getNode().isLeafNode()||o.getNode().forEachChild(zo,(x,j)=>{p.push(Vc(x,j))}),o.isFullyInitialized()&&p.push(Wd(o.getNode())),tp(c,p,o.getNode(),s)}(j,o)}(J,s,o,ld(c.pendingWriteTree_,w),x,ve);if(!Be&&!j&&!p){const ln=gv(J,s);Yt=Yt.concat(function yv(c,s,o){const p=s._path,w=zc(c,s),x=sp(c,o),j=c.listenProvider_.startListening(ah(s),w,x.hashFn,x.onComplete),J=c.syncPointTree_.subtree(p);if(w)(0,b.hu)(!fc(J.value),"If we're adding a query, it shouldn't be shadowed");else{const ve=J.fold((Be,xt,Yt)=>{if(!Bi(Be)&&xt&&fc(xt))return[Ta(xt).query];{let ln=[];return xt&&(ln=ln.concat(pv(xt).map(On=>On.query))),Rs(Yt,(On,Hn)=>{ln=ln.concat(Hn)}),ln}});for(let Be=0;Be<ve.length;++Be){const xt=ve[Be];c.listenProvider_.stopListening(ah(xt),zc(c,xt))}}return j}(c,s,ln))}return Yt}function vd(c,s,o){const w=c.pendingWriteTree_,x=c.syncPointTree_.findOnPath(s,(j,J)=>{const Be=Eu(J,Pa(j,s));if(Be)return Be});return cd(w,s,x,o,!0)}function gc(c,s){return oh(s,c.syncPointTree_,null,ld(c.pendingWriteTree_,qi()))}function oh(c,s,o,p){if(Bi(c.path))return ip(c,s,o,p);{const w=s.get(qi());null==o&&null!=w&&(o=Eu(w,qi()));let x=[];const j=Hi(c.path),J=c.operationForChild(j),ve=s.children.get(j);if(ve&&J){const Be=o?o.getImmediateChild(j):null,xt=Mm(p,j);x=x.concat(oh(J,ve,Be,xt))}return w&&(x=x.concat(bu(w,c,p,o))),x}}function ip(c,s,o,p){const w=s.get(qi());null==o&&null!=w&&(o=Eu(w,qi()));let x=[];return s.children.inorderTraversal((j,J)=>{const ve=o?o.getImmediateChild(j):null,Be=Mm(p,j),xt=c.operationForChild(j);xt&&(x=x.concat(ip(xt,J,ve,Be)))}),w&&(x=x.concat(bu(w,c,p,o))),x}function sp(c,s){const o=s.query,p=zc(c,o);return{hashFn:()=>(function hv(c){return c.viewCache_.serverCache.getNode()}(s)||es.EMPTY_NODE).hash(),onComplete:w=>{if("ok"===w)return p?function Um(c,s,o){const p=sf(c,o);if(p){const w=op(p),x=w.path,j=w.queryId,J=Pa(x,s);return wu(c,x,new id(rd(j),J))}return[]}(c,o._path,p):function nf(c,s){return gc(c,new id({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},s))}(c,o._path);{const x=function Xa(c,s){let o="Unknown Error";"too_big"===c?o="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===c?o="Client doesn't have permission to access the desired data.":"unavailable"===c&&(o="The service is unavailable");const p=new Error(c+" at "+s._path.toString()+": "+o);return p.code=c.toUpperCase(),p}(w,o);return jc(c,o,null,x)}}}}function zc(c,s){const o=jm(s);return c.queryToTagMap.get(o)}function jm(c){return c._path.toString()+"$"+c._queryIdentifier}function sf(c,s){return c.tagToQueryMap.get(s)}function op(c){const s=c.indexOf("$");return(0,b.hu)(-1!==s&&s<c.length-1,"Bad queryKey."),{queryId:c.substr(s+1),path:new ri(c.substr(0,s))}}function wu(c,s,o){const p=c.syncPointTree_.get(s);return(0,b.hu)(p,"Missing sync point for query tag that we're tracking"),bu(p,o,ld(c.pendingWriteTree_,s),null)}function ah(c){return c._queryParams.loadsAllData()&&!c._queryParams.isDefault()?new(function Q0(){return(0,b.hu)(rp,"Reference.ts has not been loaded"),rp}())(c._repo,c._path):c}class fg{constructor(s){this.node_=s}getImmediateChild(s){const o=this.node_.getImmediateChild(s);return new fg(o)}node(){return this.node_}}class vv{constructor(s,o){this.syncTree_=s,this.path_=o}getImmediateChild(s){const o=zs(this.path_,s);return new vv(this.syncTree_,o)}node(){return vd(this.syncTree_,this.path_)}}const Hm=function(c){return(c=c||{}).timestamp=c.timestamp||(new Date).getTime(),c},pg=function(c,s,o){return c&&"object"==typeof c?((0,b.hu)(".sv"in c,"Unexpected leaf node or priority contents"),"string"==typeof c[".sv"]?lp(c[".sv"],s,o):"object"==typeof c[".sv"]?_v(c[".sv"],s):void(0,b.hu)(!1,"Unexpected server value: "+JSON.stringify(c,null,2))):c},lp=function(c,s,o){if("timestamp"===c)return o.timestamp;(0,b.hu)(!1,"Unexpected server value: "+c)},_v=function(c,s,o){c.hasOwnProperty("increment")||(0,b.hu)(!1,"Unexpected server value: "+JSON.stringify(c,null,2));const p=c.increment;"number"!=typeof p&&(0,b.hu)(!1,"Unexpected increment value: "+p);const w=s.node();if((0,b.hu)(null!==w&&typeof w<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!w.isLeafNode())return p;const j=w.getValue();return"number"!=typeof j?p:j+p},gg=function(c,s,o,p){return Iu(s,new vv(o,c),p)},lh=function(c,s,o){return Iu(c,new fg(s),o)};function Iu(c,s,o){const p=c.getPriority().val(),w=pg(p,s.getImmediateChild(".priority"),o);let x;if(c.isLeafNode()){const j=c,J=pg(j.getValue(),s,o);return J!==j.getValue()||w!==j.getPriority().val()?new cl(J,ra(w)):c}{const j=c;return x=j,w!==j.getPriority().val()&&(x=x.updatePriority(new cl(w))),j.forEachChild(zo,(J,ve)=>{const Be=Iu(ve,s.getImmediateChild(J),o);Be!==ve&&(x=x.updateImmediateChild(J,Be))}),x}}class ch{constructor(s="",o=null,p={children:{},childCount:0}){this.name=s,this.parent=o,this.node=p}}function _d(c,s){let o=s instanceof ri?s:new ri(s),p=c,w=Hi(o);for(;null!==w;){const x=(0,b.DV)(p.node.children,w)||{children:{},childCount:0};p=new ch(w,p,x),o=As(o),w=Hi(o)}return p}function Cu(c){return c.node.value}function lf(c,s){c.node.value=s,Km(c)}function Wm(c){return c.node.childCount>0}function bd(c,s){Rs(c.node.children,(o,p)=>{s(new ch(o,c,p))})}function Gm(c,s,o,p){o&&!p&&s(c),bd(c,w=>{Gm(w,s,!0,p)}),o&&p&&s(c)}function mc(c){return new ri(null===c.parent?c.name:mc(c.parent)+"/"+c.name)}function Km(c){null!==c.parent&&function Ev(c,s,o){const p=function bv(c){return void 0===Cu(c)&&!Wm(c)}(o),w=(0,b.r3)(c.node.children,s);p&&w?(delete c.node.children[s],c.node.childCount--,Km(c)):!p&&!w&&(c.node.children[s]=o.node,c.node.childCount++,Km(c))}(c.parent,c.name,c)}const tl=/[\[\].#$\/\u0000-\u001F\u007F]/,k_=/[\[\].#$\u0000-\u001F\u007F]/,mg=10485760,Ed=function(c){return"string"==typeof c&&0!==c.length&&!tl.test(c)},uh=function(c){return"string"==typeof c&&0!==c.length&&!k_.test(c)},Hc=function(c){return null===c||"string"==typeof c||"number"==typeof c&&!gs(c)||c&&"object"==typeof c&&(0,b.r3)(c,".sv")},yc=function(c,s,o,p){p&&void 0===s||yg((0,b.gK)(c,"value"),s,o)},yg=function(c,s,o){const p=o instanceof ri?new ts(o,c):o;if(void 0===s)throw new Error(c+"contains undefined "+Gu(p));if("function"==typeof s)throw new Error(c+"contains a function "+Gu(p)+" with contents = "+s.toString());if(gs(s))throw new Error(c+"contains "+s.toString()+" "+Gu(p));if("string"==typeof s&&s.length>mg/3&&(0,b.ug)(s)>mg)throw new Error(c+"contains a string greater than "+mg+" utf8 bytes "+Gu(p)+" ('"+s.substring(0,50)+"...')");if(s&&"object"==typeof s){let w=!1,x=!1;if(Rs(s,(j,J)=>{if(".value"===j)w=!0;else if(".priority"!==j&&".sv"!==j&&(x=!0,!Ed(j)))throw new Error(c+" contains an invalid key ("+j+") "+Gu(p)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function T_(c,s){c.parts_.length>0&&(c.byteLength_+=1),c.parts_.push(s),c.byteLength_+=(0,b.ug)(s),zp(c)})(p,j),yg(c,J,p),function pm(c){const s=c.parts_.pop();c.byteLength_-=(0,b.ug)(s),c.parts_.length>0&&(c.byteLength_-=1)}(p)}),w&&x)throw new Error(c+' contains ".value" child '+Gu(p)+" in addition to actual children.")}},dh=function(c,s,o,p){if(p&&void 0===s)return;const w=(0,b.gK)(c,"values");if(!s||"object"!=typeof s||Array.isArray(s))throw new Error(w+" must be an object containing the children to replace.");const x=[];Rs(s,(j,J)=>{const ve=new ri(j);if(yg(w,J,zs(o,ve)),".priority"===hu(ve)&&!Hc(J))throw new Error(w+"contains an invalid value for '"+ve.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");x.push(ve)}),function(c,s){let o,p;for(o=0;o<s.length;o++){p=s[o];const x=Bc(p);for(let j=0;j<x.length;j++)if((".priority"!==x[j]||j!==x.length-1)&&!Ed(x[j]))throw new Error(c+"contains an invalid key ("+x[j]+") in path "+p.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}s.sort(Wu);let w=null;for(o=0;o<s.length;o++){if(p=s[o],null!==w&&Va(w,p))throw new Error(c+"contains a path "+w.toString()+" that is ancestor of another path "+p.toString());w=p}}(w,x)},Wc=function(c,s,o){if(!o||void 0!==s){if(gs(s))throw new Error((0,b.gK)(c,"priority")+"is "+s.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!Hc(s))throw new Error((0,b.gK)(c,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},cf=function(c,s,o,p){if(!(p&&void 0===o||Ed(o)))throw new Error((0,b.gK)(c,s)+'was an invalid key = "'+o+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},wd=function(c,s,o,p){if(!(p&&void 0===o||uh(o)))throw new Error((0,b.gK)(c,s)+'was an invalid path = "'+o+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},Id=function(c,s,o,p){o&&(o=o.replace(/^\/*\.info(\/|$)/,"/")),wd(c,s,o,p)},dl=function(c,s){if(".info"===Hi(s))throw new Error(c+" failed = Can't modify data under /.info/")},Cd=function(c,s){const o=s.path.toString();if("string"!=typeof s.repoInfo.host||0===s.repoInfo.host.length||!Ed(s.repoInfo.namespace)&&"localhost"!==s.repoInfo.host.split(":")[0]||0!==o.length&&!function(c){return c&&(c=c.replace(/^\/*\.info(\/|$)/,"/")),uh(c)}(o))throw new Error((0,b.gK)(c,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class qm{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function hh(c,s){let o=null;for(let p=0;p<s.length;p++){const w=s[p],x=w.getPath();null!==o&&!Uh(x,o.path)&&(c.eventLists_.push(o),o=null),null===o&&(o={events:[],path:x}),o.events.push(w)}o&&c.eventLists_.push(o)}function uf(c,s,o){hh(c,o),Zm(c,p=>Uh(p,s))}function hl(c,s,o){hh(c,o),Zm(c,p=>Va(p,s)||Va(s,p))}function Zm(c,s){c.recursionDepth_++;let o=!0;for(let p=0;p<c.eventLists_.length;p++){const w=c.eventLists_[p];w&&(s(w.path)?(Xm(c.eventLists_[p]),c.eventLists_[p]=null):o=!1)}o&&(c.eventLists_=[]),c.recursionDepth_--}function Xm(c){for(let s=0;s<c.events.length;s++){const o=c.events[s];if(null!==o){c.events[s]=null;const p=o.getEventRunner();or&&sr("event: "+o.toString()),Rc(p)}}}const up="repo_interrupt",$l=25;class Gc{constructor(s,o,p,w){this.repoInfo_=s,this.forceRestClient_=o,this.authTokenProvider_=p,this.appCheckProvider_=w,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new qm,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=ed(),this.transactionQueueTree_=new ch,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function vg(c){const o=c.infoData_.getNode(new ri(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+o}function _g(c){return Hm({timestamp:vg(c)})}function Qm(c,s,o,p,w){c.dataUpdateCount++;const x=new ri(s);o=c.interceptServerDataCallback_?c.interceptServerDataCallback_(s,o):o;let j=[];if(w)if(p){const ve=(0,b.UI)(o,Be=>ra(Be));j=function sh(c,s,o,p){const w=sf(c,p);if(w){const x=op(w),j=x.path,J=x.queryId,ve=Pa(j,s),Be=Oo.fromObject(o);return wu(c,j,new od(rd(J),ve,Be))}return[]}(c.serverSyncTree_,x,ve,w)}else{const ve=ra(o);j=ih(c.serverSyncTree_,x,ve,w)}else if(p){const ve=(0,b.UI)(o,Be=>ra(Be));j=function O_(c,s,o){const p=Oo.fromObject(o);return gc(c,new od({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},s,p))}(c.serverSyncTree_,x,ve)}else{const ve=ra(o);j=hg(c.serverSyncTree_,x,ve)}let J=x;j.length>0&&(J=Au(c,x)),hl(c.eventQueue_,J,j)}function Jm(c,s){fh(c,"connected",s),!1===s&&function ns(c){Dd(c,"onDisconnectEvents");const s=_g(c),o=ed();Zf(c.onDisconnect_,qi(),(w,x)=>{const j=gg(w,x,c.serverSyncTree_,s);ul(o,w,j)});let p=[];Zf(o,qi(),(w,x)=>{p=p.concat(hg(c.serverSyncTree_,w,x));const j=xu(c,w);Au(c,j)}),c.onDisconnect_=ed(),hl(c.eventQueue_,qi(),p)}(c)}function fh(c,s,o){const p=new ri("/.info/"+s),w=ra(o);c.infoData_.updateSnapshot(p,w);const x=hg(c.infoSyncTree_,p,w);hl(c.eventQueue_,p,x)}function Kc(c){return c.nextWriteId_++}function Su(c,s,o,p,w){Dd(c,"set",{path:s.toString(),value:o,priority:p});const x=_g(c),j=ra(o,p),J=vd(c.serverSyncTree_,s),ve=lh(j,J,x),Be=Kc(c),xt=$m(c.serverSyncTree_,s,ve,Be,!0);hh(c.eventQueue_,xt),c.server_.put(s.toString(),j.val(!0),(ln,On)=>{const Hn="ok"===ln;Hn||vr("set at "+s+" failed: "+ln);const pr=pc(c.serverSyncTree_,Be,!Hn);hl(c.eventQueue_,s,pr),Tu(0,w,ln,On)});const Yt=xu(c,s);Au(c,Yt),hl(c.eventQueue_,Yt,[])}function Iv(c,s,o){c.server_.onDisconnectCancel(s.toString(),(p,w)=>{"ok"===p&&Kh(c.onDisconnect_,s),Tu(0,o,p,w)})}function Eg(c,s,o,p){const w=ra(o);c.server_.onDisconnectPut(s.toString(),w.val(!0),(x,j)=>{"ok"===x&&ul(c.onDisconnect_,s,w),Tu(0,p,x,j)})}function ty(c,s,o){let p;p=".info"===Hi(s._path)?jc(c.infoSyncTree_,s,o):jc(c.serverSyncTree_,s,o),uf(c.eventQueue_,s._path,p)}function Ig(c){c.persistentConnection_&&c.persistentConnection_.interrupt(up)}function Dd(c,...s){let o="";c.persistentConnection_&&(o=c.persistentConnection_.id+":"),sr(o,...s)}function Tu(c,s,o,p){s&&Rc(()=>{if("ok"===o)s(null);else{const w=(o||"error").toUpperCase();let x=w;p&&(x+=": "+p);const j=new Error(x);j.code=w,s(j)}})}function Cg(c,s,o){return vd(c.serverSyncTree_,s,o)||es.EMPTY_NODE}function df(c,s=c.transactionQueueTree_){if(s||ql(c,s),Cu(s)){const o=dp(c,s);(0,b.hu)(o.length>0,"Sending zero length transaction queue"),o.every(w=>0===w.status)&&function Dg(c,s,o){const p=o.map(Be=>Be.currentWriteId),w=Cg(c,s,p);let x=w;const j=w.hash();for(let Be=0;Be<o.length;Be++){const xt=o[Be];(0,b.hu)(0===xt.status,"tryToSendTransactionQueue_: items in queue should all be run."),xt.status=1,xt.retryCount++;const Yt=Pa(s,xt.path);x=x.updateChild(Yt,xt.currentOutputSnapshotRaw)}const J=x.val(!0),ve=s;c.server_.put(ve.toString(),J,Be=>{Dd(c,"transaction put response",{path:ve.toString(),status:Be});let xt=[];if("ok"===Be){const Yt=[];for(let ln=0;ln<o.length;ln++)o[ln].status=2,xt=xt.concat(pc(c.serverSyncTree_,o[ln].currentWriteId)),o[ln].onComplete&&Yt.push(()=>o[ln].onComplete(null,!0,o[ln].currentOutputSnapshotResolved)),o[ln].unwatcher();ql(c,_d(c.transactionQueueTree_,s)),df(c,c.transactionQueueTree_),hl(c.eventQueue_,s,xt);for(let ln=0;ln<Yt.length;ln++)Rc(Yt[ln])}else{if("datastale"===Be)for(let Yt=0;Yt<o.length;Yt++)o[Yt].status=3===o[Yt].status?4:0;else{vr("transaction at "+ve.toString()+" failed: "+Be);for(let Yt=0;Yt<o.length;Yt++)o[Yt].status=4,o[Yt].abortReason=Be}Au(c,s)}},j)}(c,mc(s),o)}else Wm(s)&&bd(s,o=>{df(c,o)})}function Au(c,s){const o=Sl(c,s),p=mc(o);return function Vl(c,s,o){if(0===s.length)return;const p=[];let w=[];const j=s.filter(J=>0===J.status).map(J=>J.currentWriteId);for(let J=0;J<s.length;J++){const ve=s[J],Be=Pa(o,ve.path);let Yt,xt=!1;if((0,b.hu)(null!==Be,"rerunTransactionsUnderNode_: relativePath should not be null."),4===ve.status)xt=!0,Yt=ve.abortReason,w=w.concat(pc(c.serverSyncTree_,ve.currentWriteId,!0));else if(0===ve.status)if(ve.retryCount>=$l)xt=!0,Yt="maxretry",w=w.concat(pc(c.serverSyncTree_,ve.currentWriteId,!0));else{const ln=Cg(c,ve.path,j);ve.currentInputSnapshot=ln;const On=s[J].update(ln.val());if(void 0!==On){yg("transaction failed: Data returned ",On,ve.path);let Hn=ra(On);"object"==typeof On&&null!=On&&(0,b.r3)(On,".priority")||(Hn=Hn.updatePriority(ln.getPriority()));const mi=ve.currentWriteId,Es=_g(c),wo=lh(Hn,ln,Es);ve.currentOutputSnapshotRaw=Hn,ve.currentOutputSnapshotResolved=wo,ve.currentWriteId=Kc(c),j.splice(j.indexOf(mi),1),w=w.concat($m(c.serverSyncTree_,ve.path,wo,ve.currentWriteId,ve.applyLocally)),w=w.concat(pc(c.serverSyncTree_,mi,!0))}else xt=!0,Yt="nodata",w=w.concat(pc(c.serverSyncTree_,ve.currentWriteId,!0))}hl(c.eventQueue_,o,w),w=[],xt&&(s[J].status=2,setTimeout(s[J].unwatcher,Math.floor(0)),s[J].onComplete&&p.push("nodata"===Yt?()=>s[J].onComplete(null,!1,s[J].currentInputSnapshot):()=>s[J].onComplete(new Error(Yt),!1,null)))}ql(c,c.transactionQueueTree_);for(let J=0;J<p.length;J++)Rc(p[J]);df(c,c.transactionQueueTree_)}(c,dp(c,o),p),p}function Sl(c,s){let o,p=c.transactionQueueTree_;for(o=Hi(s);null!==o&&void 0===Cu(p);)p=_d(p,o),o=Hi(s=As(s));return p}function dp(c,s){const o=[];return ph(c,s,o),o.sort((p,w)=>p.order-w.order),o}function ph(c,s,o){const p=Cu(s);if(p)for(let w=0;w<p.length;w++)o.push(p[w]);bd(s,w=>{ph(c,w,o)})}function ql(c,s){const o=Cu(s);if(o){let p=0;for(let w=0;w<o.length;w++)2!==o[w].status&&(o[p]=o[w],p++);o.length=p,lf(s,o.length>0?o:void 0)}bd(s,p=>{ql(c,p)})}function xu(c,s){const o=mc(Sl(c,s)),p=_d(c.transactionQueueTree_,s);return function Du(c,s,o){let p=o?c:c.parent;for(;null!==p;){if(s(p))return!0;p=p.parent}}(p,w=>{Yc(c,w)}),Yc(c,p),Gm(p,w=>{Yc(c,w)}),o}function Yc(c,s){const o=Cu(s);if(o){const p=[];let w=[],x=-1;for(let j=0;j<o.length;j++)3===o[j].status||(1===o[j].status?((0,b.hu)(x===j-1,"All SENT items should be at beginning of queue."),x=j,o[j].status=3,o[j].abortReason="set"):((0,b.hu)(0===o[j].status,"Unexpected transaction status in abort"),o[j].unwatcher(),w=w.concat(pc(c.serverSyncTree_,o[j].currentWriteId,!0)),o[j].onComplete&&p.push(o[j].onComplete.bind(null,new Error("set"),!1,null))));-1===x?lf(s,void 0):o.length=x+1,hl(c.eventQueue_,mc(s),w);for(let j=0;j<p.length;j++)Rc(p[j])}}const gh=function(c,s){const o=fp(c),p=o.namespace;return"firebase.com"===o.domain&&Ti(o.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!p||"undefined"===p)&&"localhost"!==o.domain&&Ti("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),o.secure||typeof window<"u"&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&vr("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new Of(o.host,o.secure,p,"ws"===o.scheme||"wss"===o.scheme,s,"",p!==o.subdomain),path:new ri(o.pathString)}},fp=function(c){let s="",o="",p="",w="",x="",j=!0,J="https",ve=443;if("string"==typeof c){let Be=c.indexOf("//");Be>=0&&(J=c.substring(0,Be-1),c=c.substring(Be+2));let xt=c.indexOf("/");-1===xt&&(xt=c.length);let Yt=c.indexOf("?");-1===Yt&&(Yt=c.length),s=c.substring(0,Math.min(xt,Yt)),xt<Yt&&(w=function hp(c){let s="";const o=c.split("/");for(let p=0;p<o.length;p++)if(o[p].length>0){let w=o[p];try{w=decodeURIComponent(w.replace(/\+/g," "))}catch{}s+="/"+w}return s}(c.substring(xt,Yt)));const ln=function Dv(c){const s={};"?"===c.charAt(0)&&(c=c.substring(1));for(const o of c.split("&")){if(0===o.length)continue;const p=o.split("=");2===p.length?s[decodeURIComponent(p[0])]=decodeURIComponent(p[1]):vr(`Invalid query segment '${o}' in query '${c}'`)}return s}(c.substring(Math.min(c.length,Yt)));Be=s.indexOf(":"),Be>=0?(j="https"===J||"wss"===J,ve=parseInt(s.substring(Be+1),10)):Be=s.length;const On=s.slice(0,Be);if("localhost"===On.toLowerCase())o="localhost";else if(On.split(".").length<=2)o=On;else{const Hn=s.indexOf(".");p=s.substring(0,Hn).toLowerCase(),o=s.substring(Hn+1),x=p}"ns"in ln&&(x=ln.ns)}return{host:s,port:ve,domain:o,subdomain:p,secure:j,scheme:J,pathString:w,namespace:x}},hf="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",Sg=function(){let c=0;const s=[];return function(o){const p=o===c;let w;c=o;const x=new Array(8);for(w=7;w>=0;w--)x[w]=hf.charAt(o%64),o=Math.floor(o/64);(0,b.hu)(0===o,"Cannot push at time == 0");let j=x.join("");if(p){for(w=11;w>=0&&63===s[w];w--)s[w]=0;s[w]++}else for(w=0;w<12;w++)s[w]=Math.floor(64*Math.random());for(w=0;w<12;w++)j+=hf.charAt(s[w]);return(0,b.hu)(20===j.length,"nextPushId: Length should be 20."),j}}();class Tg{constructor(s,o,p,w){this.eventType=s,this.eventRegistration=o,this.snapshot=p,this.prevName=w}getPath(){const s=this.snapshot.ref;return"value"===this.eventType?s._path:s.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+(0,b.Wl)(this.snapshot.exportVal())}}class Sv{constructor(s,o,p){this.eventRegistration=s,this.error=o,this.path=p}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class pp{constructor(s,o){this.snapshotCallback=s,this.cancelCallback=o}onValue(s,o){this.snapshotCallback.call(null,s,o)}onCancel(s){return(0,b.hu)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,s)}get hasCancelCallback(){return!!this.cancelCallback}matches(s){return this.snapshotCallback===s.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===s.snapshotCallback.userCallback&&this.snapshotCallback.context===s.snapshotCallback.context}}class Ag{constructor(s,o){this._repo=s,this._path=o}cancel(){const s=new b.BH;return Iv(this._repo,this._path,s.wrapCallback(()=>{})),s.promise}remove(){dl("OnDisconnect.remove",this._path);const s=new b.BH;return Eg(this._repo,this._path,null,s.wrapCallback(()=>{})),s.promise}set(s){dl("OnDisconnect.set",this._path),yc("OnDisconnect.set",s,this._path,!1);const o=new b.BH;return Eg(this._repo,this._path,s,o.wrapCallback(()=>{})),o.promise}setWithPriority(s,o){dl("OnDisconnect.setWithPriority",this._path),yc("OnDisconnect.setWithPriority",s,this._path,!1),Wc("OnDisconnect.setWithPriority",o,!1);const p=new b.BH;return function N_(c,s,o,p,w){const x=ra(o,p);c.server_.onDisconnectPut(s.toString(),x.val(!0),(j,J)=>{"ok"===j&&ul(c.onDisconnect_,s,x),Tu(0,w,j,J)})}(this._repo,this._path,s,o,p.wrapCallback(()=>{})),p.promise}update(s){dl("OnDisconnect.update",this._path),dh("OnDisconnect.update",s,this._path,!1);const o=new b.BH;return function F_(c,s,o,p){if((0,b.xb)(o))return sr("onDisconnect().update() called with empty data.  Don't do anything."),void Tu(0,p,"ok",void 0);c.server_.onDisconnectMerge(s.toString(),o,(w,x)=>{"ok"===w&&Rs(o,(j,J)=>{const ve=ra(J);ul(c.onDisconnect_,zs(s,j),ve)}),Tu(0,p,w,x)})}(this._repo,this._path,s,o.wrapCallback(()=>{})),o.promise}}class fl{constructor(s,o,p,w){this._repo=s,this._path=o,this._queryParams=p,this._orderByCalled=w}get key(){return Bi(this._path)?null:hu(this._path)}get ref(){return new Ul(this._repo,this._path)}get _queryIdentifier(){const s=_a(this._queryParams),o=Ro(s);return"{}"===o?"default":o}get _queryObject(){return _a(this._queryParams)}isEqual(s){if(!((s=(0,b.m9)(s))instanceof fl))return!1;const o=this._repo===s._repo,p=Uh(this._path,s._path);return o&&p&&this._queryIdentifier===s._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function $a(c){let s="";for(let o=c.pieceNum_;o<c.pieces_.length;o++)""!==c.pieces_[o]&&(s+="/"+encodeURIComponent(String(c.pieces_[o])));return s||"/"}(this._path)}}function gp(c,s){if(!0===c._orderByCalled)throw new Error(s+": You can't combine multiple orderBy calls.")}function Sd(c){let s=null,o=null;if(c.hasStart()&&(s=c.getIndexStartValue()),c.hasEnd()&&(o=c.getIndexEndValue()),c.getIndex()===Cl){const p="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",w="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(c.hasStart()){if(c.getIndexStartName()!==Zi)throw new Error(p);if("string"!=typeof s)throw new Error(w)}if(c.hasEnd()){if(c.getIndexEndName()!==bs)throw new Error(p);if("string"!=typeof o)throw new Error(w)}}else if(c.getIndex()===zo){if(null!=s&&!Hc(s)||null!=o&&!Hc(o))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,b.hu)(c.getIndex()instanceof Kf||c.getIndex()===Wh,"unknown index type."),null!=s&&"object"==typeof s||null!=o&&"object"==typeof o)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function mp(c){if(c.hasStart()&&c.hasEnd()&&c.hasLimit()&&!c.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class Ul extends fl{constructor(s,o){super(s,o,new Kd,!1)}get parent(){const s=cc(this._path);return null===s?null:new Ul(this._repo,s)}get root(){let s=this;for(;null!==s.parent;)s=s.parent;return s}}class Mu{constructor(s,o,p){this._node=s,this.ref=o,this._index=p}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(s){const o=new ri(s),p=mh(this.ref,s);return new Mu(this._node.getChild(o),p,zo)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(s){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(p,w)=>s(new Mu(w,mh(this.ref,p),zo)))}hasChild(s){const o=new ri(s);return!this._node.getChild(o).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function xg(c,s){return(c=(0,b.m9)(c))._checkNotDeleted("ref"),void 0!==s?mh(c._root,s):c._root}function Tv(c,s){(c=(0,b.m9)(c))._checkNotDeleted("refFromURL");const o=gh(s,c._repo.repoInfo_.nodeAdmin);Cd("refFromURL",o);const p=o.repoInfo;return!c._repo.repoInfo_.isCustomHost()&&p.host!==c._repo.repoInfo_.host&&Ti("refFromURL: Host name does not match the current database: (found "+p.host+" but expected "+c._repo.repoInfo_.host+")"),xg(c,o.path.toString())}function mh(c,s){return null===Hi((c=(0,b.m9)(c))._path)?Id("child","path",s,!1):wd("child","path",s,!1),new Ul(c._repo,zs(c._path,s))}function Mg(c,s){c=(0,b.m9)(c),dl("set",c._path),yc("set",s,c._path,!1);const o=new b.BH;return Su(c._repo,c._path,s,null,o.wrapCallback(()=>{})),o.promise}function iy(c,s){dh("update",s,c._path,!1);const o=new b.BH;return function bg(c,s,o,p){Dd(c,"update",{path:s.toString(),value:o});let w=!0;const x=_g(c),j={};if(Rs(o,(J,ve)=>{w=!1,j[J]=gg(zs(s,J),ra(ve),c.serverSyncTree_,x)}),w)sr("update() called with empty data.  Don't do anything."),Tu(0,p,"ok",void 0);else{const J=Kc(c),ve=function Vm(c,s,o,p){!function Zh(c,s,o,p){(0,b.hu)(p>c.lastWriteId,"Stacking an older merge on top of newer ones"),c.allWrites.push({path:s,children:o,writeId:p,visible:!0}),c.visibleWrites=Qd(c.visibleWrites,s,o),c.lastWriteId=p}(c.pendingWriteTree_,s,o,p);const w=Oo.fromObject(o);return gc(c,new od({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},s,w))}(c.serverSyncTree_,s,j,J);hh(c.eventQueue_,ve),c.server_.merge(s.toString(),o,(Be,xt)=>{const Yt="ok"===Be;Yt||vr("update at "+s+" failed: "+Be);const ln=pc(c.serverSyncTree_,J,!Yt),On=ln.length>0?Au(c,s):s;hl(c.eventQueue_,On,ln),Tu(0,p,Be,xt)}),Rs(o,Be=>{const xt=xu(c,zs(s,Be));Au(c,xt)}),hl(c.eventQueue_,s,[])}}(c._repo,c._path,s,o.wrapCallback(()=>{})),o.promise}function B_(c){c=(0,b.m9)(c);const s=new pp(()=>{}),o=new yh(s);return function ey(c,s,o){const p=function rf(c,s){const o=s._path;let p=null;c.syncPointTree_.foreachOnPath(o,(Be,xt)=>{const Yt=Pa(Be,o);p=p||Eu(xt,Yt)});let w=c.syncPointTree_.get(o);w?p=p||Eu(w,qi()):(w=new np,c.syncPointTree_=c.syncPointTree_.set(o,w));const x=null!=p,j=x?new gu(p,!0,!1):null;return function Uc(c){return Xf(c.viewCache_)}(tf(w,s,ld(c.pendingWriteTree_,s._path),x?j.getNode():es.EMPTY_NODE,x))}(c.serverSyncTree_,s);return null!=p?Promise.resolve(p):c.server_.get(s).then(w=>{const x=ra(w).withIndex(s._queryParams.getIndex());let j;if(yd(c.serverSyncTree_,s,o,!0),s._queryParams.loadsAllData())j=hg(c.serverSyncTree_,s._path,x);else{const J=zc(c.serverSyncTree_,s);j=ih(c.serverSyncTree_,s._path,x,J)}return hl(c.eventQueue_,s._path,j),jc(c.serverSyncTree_,s,o,null,!0),x},w=>(Dd(c,"get for query "+(0,b.Wl)(s)+" failed: "+w),Promise.reject(new Error(w))))}(c._repo,c,o).then(p=>new Mu(p,new Ul(c._repo,c._path),c._queryParams.getIndex()))}class yh{constructor(s){this.callbackContext=s}respondsTo(s){return"value"===s}createEvent(s,o){const p=o._queryParams.getIndex();return new Tg("value",this,new Mu(s.snapshotNode,new Ul(o._repo,o._path),p))}getEventRunner(s){return"cancel"===s.getEventType()?()=>this.callbackContext.onCancel(s.error):()=>this.callbackContext.onValue(s.snapshot,null)}createCancelEvent(s,o){return this.callbackContext.hasCancelCallback?new Sv(this,s,o):null}matches(s){return s instanceof yh&&(!s.callbackContext||!this.callbackContext||s.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class ff{constructor(s,o){this.eventType=s,this.callbackContext=o}respondsTo(s){let o="children_added"===s?"child_added":s;return o="children_removed"===o?"child_removed":o,this.eventType===o}createCancelEvent(s,o){return this.callbackContext.hasCancelCallback?new Sv(this,s,o):null}createEvent(s,o){(0,b.hu)(null!=s.childName,"Child events should have a childName.");const p=mh(new Ul(o._repo,o._path),s.childName),w=o._queryParams.getIndex();return new Tg(s.type,this,new Mu(s.snapshotNode,p,w),s.prevName)}getEventRunner(s){return"cancel"===s.getEventType()?()=>this.callbackContext.onCancel(s.error):()=>this.callbackContext.onValue(s.snapshot,s.prevName)}matches(s){return s instanceof ff&&this.eventType===s.eventType&&(!this.callbackContext||!s.callbackContext||this.callbackContext.matches(s.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function vh(c,s,o,p,w){let x;if("object"==typeof p&&(x=void 0,w=p),"function"==typeof p&&(x=p),w&&w.onlyOnce){const ve=o,Be=(xt,Yt)=>{ty(c._repo,c,J),ve(xt,Yt)};Be.userCallback=o.userCallback,Be.context=o.context,o=Be}const j=new pp(o,x||void 0),J="value"===s?new yh(j):new ff(s,j);return function wg(c,s,o){let p;p=".info"===Hi(s._path)?yd(c.infoSyncTree_,s,o):yd(c.serverSyncTree_,s,o),uf(c.eventQueue_,s._path,p)}(c._repo,c,J),()=>ty(c._repo,c,J)}function Pg(c,s,o,p){return vh(c,"value",s,o,p)}function Rg(c,s,o,p){return vh(c,"child_added",s,o,p)}function Og(c,s,o,p){return vh(c,"child_changed",s,o,p)}function xv(c,s,o,p){return vh(c,"child_moved",s,o,p)}function kg(c,s,o,p){return vh(c,"child_removed",s,o,p)}function Mv(c,s,o){let p=null;const w=o?new pp(o):null;"value"===s?p=new yh(w):s&&(p=new ff(s,w)),ty(c._repo,c,p)}class jl{}class vc extends jl{constructor(s,o){super(),this._value=s,this._key=o}_apply(s){yc("endAt",this._value,s._path,!0);const o=Ju(s._queryParams,this._value,this._key);if(mp(o),Sd(o),s._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new fl(s._repo,s._path,o,s._orderByCalled)}}class sy extends jl{constructor(s,o){super(),this._value=s,this._key=o}_apply(s){yc("endBefore",this._value,s._path,!1);const o=function Yd(c,s,o){let p;return p=Ju(c,s,c.index_===Cl||o?o:Zi),p.endBeforeSet_=!0,p}(s._queryParams,this._value,this._key);if(mp(o),Sd(o),s._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new fl(s._repo,s._path,o,s._orderByCalled)}}class _h extends jl{constructor(s,o){super(),this._value=s,this._key=o}_apply(s){yc("startAt",this._value,s._path,!0);const o=Xp(s._queryParams,this._value,this._key);if(mp(o),Sd(o),s._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new fl(s._repo,s._path,o,s._orderByCalled)}}class Fg extends jl{constructor(s,o){super(),this._value=s,this._key=o}_apply(s){yc("startAfter",this._value,s._path,!1);const o=function wm(c,s,o){let p;return p=Xp(c,s,c.index_===Cl||o?o:bs),p.startAfterSet_=!0,p}(s._queryParams,this._value,this._key);if(mp(o),Sd(o),s._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new fl(s._repo,s._path,o,s._orderByCalled)}}class _p extends jl{constructor(s){super(),this._limit=s}_apply(s){if(s._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new fl(s._repo,s._path,function Zp(c,s){const o=c.copy();return o.limitSet_=!0,o.limit_=s,o.viewFrom_="l",o}(s._queryParams,this._limit),s._orderByCalled)}}class Bg extends jl{constructor(s){super(),this._limit=s}_apply(s){if(s._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new fl(s._repo,s._path,function qf(c,s){const o=c.copy();return o.limitSet_=!0,o.limit_=s,o.viewFrom_="r",o}(s._queryParams,this._limit),s._orderByCalled)}}class $g extends jl{constructor(s){super(),this._path=s}_apply(s){gp(s,"orderByChild");const o=new ri(this._path);if(Bi(o))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const p=new Kf(o),w=qd(s._queryParams,p);return Sd(w),new fl(s._repo,s._path,w,!0)}}class ay extends jl{_apply(s){gp(s,"orderByKey");const o=qd(s._queryParams,Cl);return Sd(o),new fl(s._repo,s._path,o,!0)}}class $_ extends jl{_apply(s){gp(s,"orderByPriority");const o=qd(s._queryParams,zo);return Sd(o),new fl(s._repo,s._path,o,!0)}}class cy extends jl{_apply(s){gp(s,"orderByValue");const o=qd(s._queryParams,Wh);return Sd(o),new fl(s._repo,s._path,o,!0)}}class V_ extends jl{constructor(s,o){super(),this._value=s,this._key=o}_apply(s){if(yc("equalTo",this._value,s._path,!1),s._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(s._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new vc(this._value,this._key)._apply(new _h(this._value,this._key)._apply(s))}}function bc(c,...s){let o=(0,b.m9)(c);for(const p of s)o=p._apply(o);return o}(function md(c){(0,b.hu)(!nh,"__referenceConstructor has already been defined"),nh=c})(Ul),function mv(c){(0,b.hu)(!rp,"__referenceConstructor has already been defined"),rp=c}(Ul);const Ug={};function bh(c,s,o,p,w){let x=p||c.options.databaseURL;void 0===x&&(c.options.projectId||Ti("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),sr("Using default host for project ",c.options.projectId),x=`${c.options.projectId}-default-rtdb.firebaseio.com`);let ve,Be,j=gh(x,w),J=j.repoInfo;typeof process<"u"&&process.env&&(Be=process.env.FIREBASE_DATABASE_EMULATOR_HOST),Be?(ve=!0,x=`http://${Be}?ns=${J.namespace}`,j=gh(x,w),J=j.repoInfo):ve=!j.repoInfo.secure;const xt=w&&ve?new kl(kl.OWNER):new ou(c.name,c.options,s);Cd("Invalid Firebase Database URL",j),Bi(j.path)||Ti("Database URL must point to the root of a Firebase Database (not including a child path).");const Yt=function hy(c,s,o,p){let w=Ug[s.name];w||(w={},Ug[s.name]=w);let x=w[c.toURLString()];return x&&Ti("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),x=new Gc(c,false,o,p),w[c.toURLString()]=x,x}(J,c,xt,new $d(c.name,o));return new fy(Yt,c)}class fy{constructor(s,o){this._repoInternal=s,this.app=o,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function J0(c,s,o){if(c.stats_=so(c.repoInfo_),c.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)c.server_=new Zd(c.repoInfo_,(p,w,x,j)=>{Qm(c,p,w,x,j)},c.authTokenProvider_,c.appCheckProvider_),setTimeout(()=>Jm(c,!0),0);else{if(typeof o<"u"&&null!==o){if("object"!=typeof o)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,b.Wl)(o)}catch(p){throw new Error("Invalid authOverride provided: "+p)}}c.persistentConnection_=new Il(c.repoInfo_,s,(p,w,x,j)=>{Qm(c,p,w,x,j)},p=>{Jm(c,p)},p=>{!function wv(c,s){Rs(s,(o,p)=>{fh(c,o,p)})}(c,p)},c.authTokenProvider_,c.appCheckProvider_,o),c.server_=c.persistentConnection_}c.authTokenProvider_.addTokenChangeListener(p=>{c.server_.refreshAuthToken(p)}),c.appCheckProvider_.addTokenChangeListener(p=>{c.server_.refreshAppCheckToken(p.token)}),c.statsReporter_=function ac(c,s){const o=c.toString();return Bu[o]||(Bu[o]=s()),Bu[o]}(c.repoInfo_,()=>new K0(c.stats_,c.server_)),c.infoData_=new ov,c.infoSyncTree_=new dg({startListening:(p,w,x,j)=>{let J=[];const ve=c.infoData_.getNode(p._path);return ve.isEmpty()||(J=hg(c.infoSyncTree_,p._path,ve),setTimeout(()=>{j("ok")},0)),J},stopListening:()=>{}}),fh(c,"connected",!1),c.serverSyncTree_=new dg({startListening:(p,w,x,j)=>(c.server_.listen(p,x,w,(J,ve)=>{const Be=j(J,ve);hl(c.eventQueue_,p._path,Be)}),[]),stopListening:(p,w)=>{c.server_.unlisten(p,w)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Ul(this._repo,qi())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function eb(c,s){const o=Ug[s];(!o||o[c.key]!==c)&&Ti(`Database ${s}(${c.repoInfo_}) has already been deleted.`),Ig(c),delete o[c.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(s){null===this._rootInternal&&Ti("Cannot call "+s+" on a deleted database.")}}function Ov(){zu.IS_TRANSPORT_INITIALIZED&&vr("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function wp(){Ov(),Nl.forceDisallow()}function py(){Ov(),Fc.forceDisallow(),Nl.forceAllow()}function Ip(c,s){ir(c,s)}const j_={".sv":"timestamp"};class my{constructor(s,o){this.committed=s,this.snapshot=o}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}Il.prototype.simpleListen=function(c,s){this.sendRequest("q",{p:c},s)},Il.prototype.echo=function(c,s){this.sendRequest("echo",{d:c},s)},function U_(c){Ce(E.SDK_VERSION),(0,E._registerComponent)(new d.wA("database",(s,{instanceIdentifier:o})=>bh(s.getProvider("app").getImmediate(),s.getProvider("auth-internal"),s.getProvider("app-check-internal"),o),"PUBLIC").setMultipleInstances(!0)),(0,E.registerVersion)(B,W,c),(0,E.registerVersion)(B,W,"esm2017")}();const _y=new M.Yd("@firebase/database-compat"),Dp=function(c){_y.warn("FIREBASE WARNING: "+c)};class Hg{constructor(s){this._delegate=s}cancel(s){(0,b.Dv)("OnDisconnect.cancel",0,1,arguments.length),(0,b.Wj)("OnDisconnect.cancel","onComplete",s,!0);const o=this._delegate.cancel();return s&&o.then(()=>s(null),p=>s(p)),o}remove(s){(0,b.Dv)("OnDisconnect.remove",0,1,arguments.length),(0,b.Wj)("OnDisconnect.remove","onComplete",s,!0);const o=this._delegate.remove();return s&&o.then(()=>s(null),p=>s(p)),o}set(s,o){(0,b.Dv)("OnDisconnect.set",1,2,arguments.length),(0,b.Wj)("OnDisconnect.set","onComplete",o,!0);const p=this._delegate.set(s);return o&&p.then(()=>o(null),w=>o(w)),p}setWithPriority(s,o,p){(0,b.Dv)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,b.Wj)("OnDisconnect.setWithPriority","onComplete",p,!0);const w=this._delegate.setWithPriority(s,o);return p&&w.then(()=>p(null),x=>p(x)),w}update(s,o){if((0,b.Dv)("OnDisconnect.update",1,2,arguments.length),Array.isArray(s)){const w={};for(let x=0;x<s.length;++x)w[""+x]=s[x];s=w,Dp("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,b.Wj)("OnDisconnect.update","onComplete",o,!0);const p=this._delegate.update(s);return o&&p.then(()=>o(null),w=>o(w)),p}}class Wg{constructor(s,o){this.committed=s,this.snapshot=o}toJSON(){return(0,b.Dv)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}class qc{constructor(s,o){this._database=s,this._delegate=o}val(){return(0,b.Dv)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return(0,b.Dv)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return(0,b.Dv)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return(0,b.Dv)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(s){return(0,b.Dv)("DataSnapshot.child",0,1,arguments.length),s=String(s),wd("DataSnapshot.child","path",s,!1),new qc(this._database,this._delegate.child(s))}hasChild(s){return(0,b.Dv)("DataSnapshot.hasChild",1,1,arguments.length),wd("DataSnapshot.hasChild","path",s,!1),this._delegate.hasChild(s)}getPriority(){return(0,b.Dv)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(s){return(0,b.Dv)("DataSnapshot.forEach",1,1,arguments.length),(0,b.Wj)("DataSnapshot.forEach","action",s,!1),this._delegate.forEach(o=>s(new qc(this._database,o)))}hasChildren(){return(0,b.Dv)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return(0,b.Dv)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return(0,b.Dv)("DataSnapshot.ref",0,0,arguments.length),new ja(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class Ua{constructor(s,o){this.database=s,this._delegate=o}on(s,o,p,w){var x;(0,b.Dv)("Query.on",2,4,arguments.length),(0,b.Wj)("Query.on","callback",o,!1);const j=Ua.getCancelAndContextArgs_("Query.on",p,w),J=(Be,xt)=>{o.call(j.context,new qc(this.database,Be),xt)};J.userCallback=o,J.context=j.context;const ve=null===(x=j.cancel)||void 0===x?void 0:x.bind(j.context);switch(s){case"value":return Pg(this._delegate,J,ve),o;case"child_added":return Rg(this._delegate,J,ve),o;case"child_removed":return kg(this._delegate,J,ve),o;case"child_changed":return Og(this._delegate,J,ve),o;case"child_moved":return xv(this._delegate,J,ve),o;default:throw new Error((0,b.gK)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(s,o,p){if((0,b.Dv)("Query.off",0,3,arguments.length),function(c,s,o){if(void 0!==s)switch(s){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,b.gK)("Query.off","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}(0,s),(0,b.Wj)("Query.off","callback",o,!0),(0,b.lb)("Query.off","context",p,!0),o){const w=()=>{};w.userCallback=o,w.context=p,Mv(this._delegate,s,w)}else Mv(this._delegate,s)}get(){return B_(this._delegate).then(s=>new qc(this.database,s))}once(s,o,p,w){(0,b.Dv)("Query.once",1,4,arguments.length),(0,b.Wj)("Query.once","callback",o,!0);const x=Ua.getCancelAndContextArgs_("Query.once",p,w),j=new b.BH,J=(Be,xt)=>{const Yt=new qc(this.database,Be);o&&o.call(x.context,Yt,xt),j.resolve(Yt)};J.userCallback=o,J.context=x.context;const ve=Be=>{x.cancel&&x.cancel.call(x.context,Be),j.reject(Be)};switch(s){case"value":Pg(this._delegate,J,ve,{onlyOnce:!0});break;case"child_added":Rg(this._delegate,J,ve,{onlyOnce:!0});break;case"child_removed":kg(this._delegate,J,ve,{onlyOnce:!0});break;case"child_changed":Og(this._delegate,J,ve,{onlyOnce:!0});break;case"child_moved":xv(this._delegate,J,ve,{onlyOnce:!0});break;default:throw new Error((0,b.gK)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return j.promise}limitToFirst(s){return(0,b.Dv)("Query.limitToFirst",1,1,arguments.length),new Ua(this.database,bc(this._delegate,function Td(c){if("number"!=typeof c||Math.floor(c)!==c||c<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new _p(c)}(s)))}limitToLast(s){return(0,b.Dv)("Query.limitToLast",1,1,arguments.length),new Ua(this.database,bc(this._delegate,function Pv(c){if("number"!=typeof c||Math.floor(c)!==c||c<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new Bg(c)}(s)))}orderByChild(s){return(0,b.Dv)("Query.orderByChild",1,1,arguments.length),new Ua(this.database,bc(this._delegate,function Rv(c){if("$key"===c)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===c)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===c)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return wd("orderByChild","path",c,!1),new $g(c)}(s)))}orderByKey(){return(0,b.Dv)("Query.orderByKey",0,0,arguments.length),new Ua(this.database,bc(this._delegate,function _c(){return new ay}()))}orderByPriority(){return(0,b.Dv)("Query.orderByPriority",0,0,arguments.length),new Ua(this.database,bc(this._delegate,function ly(){return new $_}()))}orderByValue(){return(0,b.Dv)("Query.orderByValue",0,0,arguments.length),new Ua(this.database,bc(this._delegate,function uy(){return new cy}()))}startAt(s=null,o){return(0,b.Dv)("Query.startAt",0,2,arguments.length),new Ua(this.database,bc(this._delegate,function oy(c=null,s){return cf("startAt","key",s,!0),new _h(c,s)}(s,o)))}startAfter(s=null,o){return(0,b.Dv)("Query.startAfter",0,2,arguments.length),new Ua(this.database,bc(this._delegate,function Lg(c,s){return cf("startAfter","key",s,!0),new Fg(c,s)}(s,o)))}endAt(s=null,o){return(0,b.Dv)("Query.endAt",0,2,arguments.length),new Ua(this.database,bc(this._delegate,function vp(c,s){return cf("endAt","key",s,!0),new vc(c,s)}(s,o)))}endBefore(s=null,o){return(0,b.Dv)("Query.endBefore",0,2,arguments.length),new Ua(this.database,bc(this._delegate,function Ng(c,s){return cf("endBefore","key",s,!0),new sy(c,s)}(s,o)))}equalTo(s,o){return(0,b.Dv)("Query.equalTo",1,2,arguments.length),new Ua(this.database,bc(this._delegate,function dy(c,s){return cf("equalTo","key",s,!0),new V_(c,s)}(s,o)))}toString(){return(0,b.Dv)("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return(0,b.Dv)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(s){if((0,b.Dv)("Query.isEqual",1,1,arguments.length),!(s instanceof Ua))throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");return this._delegate.isEqual(s._delegate)}static getCancelAndContextArgs_(s,o,p){const w={cancel:void 0,context:void 0};if(o&&p)w.cancel=o,(0,b.Wj)(s,"cancel",w.cancel,!0),w.context=p,(0,b.lb)(s,"context",w.context,!0);else if(o)if("object"==typeof o&&null!==o)w.context=o;else{if("function"!=typeof o)throw new Error((0,b.gK)(s,"cancelOrContext")+" must either be a cancel callback or a context object.");w.cancel=o}return w}get ref(){return new ja(this.database,new Ul(this._delegate._repo,this._delegate._path))}}class ja extends Ua{constructor(s,o){super(s,new fl(o._repo,o._path,new Kd,!1)),this.database=s,this._delegate=o}getKey(){return(0,b.Dv)("Reference.key",0,0,arguments.length),this._delegate.key}child(s){return(0,b.Dv)("Reference.child",1,1,arguments.length),"number"==typeof s&&(s=String(s)),new ja(this.database,mh(this._delegate,s))}getParent(){(0,b.Dv)("Reference.parent",0,0,arguments.length);const s=this._delegate.parent;return s?new ja(this.database,s):null}getRoot(){return(0,b.Dv)("Reference.root",0,0,arguments.length),new ja(this.database,this._delegate.root)}set(s,o){(0,b.Dv)("Reference.set",1,2,arguments.length),(0,b.Wj)("Reference.set","onComplete",o,!0);const p=Mg(this._delegate,s);return o&&p.then(()=>o(null),w=>o(w)),p}update(s,o){if((0,b.Dv)("Reference.update",1,2,arguments.length),Array.isArray(s)){const w={};for(let x=0;x<s.length;++x)w[""+x]=s[x];s=w,Dp("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}dl("Reference.update",this._delegate._path),(0,b.Wj)("Reference.update","onComplete",o,!0);const p=iy(this._delegate,s);return o&&p.then(()=>o(null),w=>o(w)),p}setWithPriority(s,o,p){(0,b.Dv)("Reference.setWithPriority",2,3,arguments.length),(0,b.Wj)("Reference.setWithPriority","onComplete",p,!0);const w=function Av(c,s,o){if(dl("setWithPriority",c._path),yc("setWithPriority",s,c._path,!1),Wc("setWithPriority",o,!1),".length"===c.key||".keys"===c.key)throw"setWithPriority failed: "+c.key+" is a read-only object.";const p=new b.BH;return Su(c._repo,c._path,s,o,p.wrapCallback(()=>{})),p.promise}(this._delegate,s,o);return p&&w.then(()=>p(null),x=>p(x)),w}remove(s){(0,b.Dv)("Reference.remove",0,1,arguments.length),(0,b.Wj)("Reference.remove","onComplete",s,!0);const o=function ry(c){return dl("remove",c._path),Mg(c,null)}(this._delegate);return s&&o.then(()=>s(null),p=>s(p)),o}transaction(s,o,p){(0,b.Dv)("Reference.transaction",1,3,arguments.length),(0,b.Wj)("Reference.transaction","transactionUpdate",s,!1),(0,b.Wj)("Reference.transaction","onComplete",o,!0),function(c,s,o,p){if(void 0!==o&&"boolean"!=typeof o)throw new Error((0,b.gK)("Reference.transaction","applyLocally")+"must be a boolean.")}(0,0,p);const w=function yy(c,s,o){var p;if(c=(0,b.m9)(c),dl("Reference.transaction",c._path),".length"===c.key||".keys"===c.key)throw"Reference.transaction failed: "+c.key+" is a read-only object.";const w=null===(p=null==o?void 0:o.applyLocally)||void 0===p||p,x=new b.BH,J=Pg(c,()=>{});return function ny(c,s,o,p,w,x){Dd(c,"transaction on "+s);const j={path:s,update:o,onComplete:p,status:null,order:Bn(),applyLocally:x,retryCount:0,unwatcher:w,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},J=Cg(c,s,void 0);j.currentInputSnapshot=J;const ve=j.update(J.val());if(void 0===ve)j.unwatcher(),j.currentOutputSnapshotRaw=null,j.currentOutputSnapshotResolved=null,j.onComplete&&j.onComplete(null,!1,j.currentInputSnapshot);else{yg("transaction failed: Data returned ",ve,j.path),j.status=0;const Be=_d(c.transactionQueueTree_,s),xt=Cu(Be)||[];let Yt;xt.push(j),lf(Be,xt),"object"==typeof ve&&null!==ve&&(0,b.r3)(ve,".priority")?(Yt=(0,b.DV)(ve,".priority"),(0,b.hu)(Hc(Yt),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):Yt=(vd(c.serverSyncTree_,s)||es.EMPTY_NODE).getPriority().val();const ln=_g(c),On=ra(ve,Yt),Hn=lh(On,J,ln);j.currentOutputSnapshotRaw=On,j.currentOutputSnapshotResolved=Hn,j.currentWriteId=Kc(c);const pr=$m(c.serverSyncTree_,s,Hn,j.currentWriteId,j.applyLocally);hl(c.eventQueue_,s,pr),df(c,c.transactionQueueTree_)}}(c._repo,c._path,s,(ve,Be,xt)=>{let Yt=null;ve?x.reject(ve):(Yt=new Mu(xt,new Ul(c._repo,c._path),zo),x.resolve(new my(Be,Yt)))},J,w),x.promise}(this._delegate,s,{applyLocally:p}).then(x=>new Wg(x.committed,new qc(this.database,x.snapshot)));return o&&w.then(x=>o(null,x.committed,x.snapshot),x=>o(x,!1,null)),w}setPriority(s,o){(0,b.Dv)("Reference.setPriority",1,2,arguments.length),(0,b.Wj)("Reference.setPriority","onComplete",o,!0);const p=function yp(c,s){c=(0,b.m9)(c),dl("setPriority",c._path),Wc("setPriority",s,!1);const o=new b.BH;return Su(c._repo,zs(c._path,".priority"),s,null,o.wrapCallback(()=>{})),o.promise}(this._delegate,s);return o&&p.then(()=>o(null),w=>o(w)),p}push(s,o){(0,b.Dv)("Reference.push",0,2,arguments.length),(0,b.Wj)("Reference.push","onComplete",o,!0);const p=function L_(c,s){c=(0,b.m9)(c),dl("push",c._path),yc("push",s,c._path,!0);const o=vg(c._repo),p=Sg(o),w=mh(c,p),x=mh(c,p);let j;return j=null!=s?Mg(x,s).then(()=>x):Promise.resolve(x),w.then=j.then.bind(j),w.catch=j.then.bind(j,void 0),w}(this._delegate,s),w=p.then(j=>new ja(this.database,j));o&&w.then(()=>o(null),j=>o(j));const x=new ja(this.database,p);return x.then=w.then.bind(w),x.catch=w.catch.bind(w,void 0),x}onDisconnect(){return dl("Reference.onDisconnect",this._delegate._path),new Hg(new Ag(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}class wh{constructor(s,o){this._delegate=s,this.app=o,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets:wp,forceLongPolling:py}}useEmulator(s,o,p={}){!function Eh(c,s,o,p={}){(c=(0,b.m9)(c))._checkNotDeleted("useEmulator"),c._instanceStarted&&Ti("Cannot call useEmulator() after instance has already been initialized.");const w=c._repoInternal;let x;if(w.repoInfo_.nodeAdmin)p.mockUserToken&&Ti('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),x=new kl(kl.OWNER);else if(p.mockUserToken){const j="string"==typeof p.mockUserToken?p.mockUserToken:(0,b.Sg)(p.mockUserToken,c.app.options.projectId);x=new kl(j)}!function Ep(c,s,o,p){c.repoInfo_=new Of(`${s}:${o}`,!1,c.repoInfo_.namespace,c.repoInfo_.webSocketOnly,c.repoInfo_.nodeAdmin,c.repoInfo_.persistenceKey,c.repoInfo_.includeNamespaceInQueryParams,!0),p&&(c.authTokenProvider_=p)}(w,s,o,x)}(this._delegate,s,o,p)}ref(s){if((0,b.Dv)("database.ref",0,1,arguments.length),s instanceof ja){const o=Tv(this._delegate,s.toString());return new ja(this,o)}{const o=xg(this._delegate,s);return new ja(this,o)}}refFromURL(s){(0,b.Dv)("database.refFromURL",1,1,arguments.length);const p=Tv(this._delegate,s);return new ja(this,p)}goOffline(){return(0,b.Dv)("database.goOffline",0,0,arguments.length),function gf(c){(c=(0,b.m9)(c))._checkNotDeleted("goOffline"),Ig(c._repo)}(this._delegate)}goOnline(){return(0,b.Dv)("database.goOnline",0,0,arguments.length),function gy(c){(c=(0,b.m9)(c))._checkNotDeleted("goOnline"),function Cv(c){c.persistentConnection_&&c.persistentConnection_.resume(up)}(c._repo)}(this._delegate)}}wh.ServerValue={TIMESTAMP:function Cp(){return j_}(),increment:c=>function z_(c){return{".sv":{increment:c}}}(c)};var W_=Object.freeze({__proto__:null,initStandalone:function H_({app:c,url:s,version:o,customAuthImpl:p,namespace:w,nodeAdmin:x=!1}){Ce(o);const j=new d.zt("auth-internal",new d.H0("database-standalone"));return j.setComponent(new d.wA("auth-internal",()=>p,"PRIVATE")),{instance:new wh(bh(c,j,void 0,s,x),c),namespace:w}}});const G_=wh.ServerValue;!function by(c){c.INTERNAL.registerComponent(new d.wA("database-compat",(s,{instanceIdentifier:o})=>{const p=s.getProvider("app-compat").getImmediate(),w=s.getProvider("database").getImmediate({identifier:o});return new wh(w,p)},"PUBLIC").setServiceProps({Reference:ja,Query:Ua,Database:wh,DataSnapshot:qc,enableLogging:Ip,INTERNAL:W_,ServerValue:G_}).setMultipleInstances(!0)),c.registerVersion("@firebase/database-compat","0.3.4")}(y.Z);var Bv=H(2313),Sp=H(9260);function K_(c){return null==c}function Tp(c){return"function"==typeof c.set}function Ey(c,s){return Tp(s)?s:c.ref(s)}function wy(c,s){if(function tb(c){return"string"==typeof c}(c))return s.stringCase();if(Tp(c))return s.firebaseCase();if(function $v(c){return"function"==typeof c.exportVal}(c))return s.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof c)}function Pu(c,s,o="on",p=Bd.z){return new bl.y(w=>{let x=null;return x=c[o](s,(j,J)=>{p.schedule(()=>{w.next({snapshot:j,prevKey:J})}),"once"===o&&p.schedule(()=>w.complete())},j=>{p.schedule(()=>w.error(j))}),"on"===o?{unsubscribe(){null!=x&&c.off(s,x)}}:{unsubscribe(){}}}).pipe((0,Ys.U)(w=>{const{snapshot:x,prevKey:j}=w;let J=null;return x.exists()&&(J=x.key),{type:s,payload:x,prevKey:j,key:J}}),(0,V.B)())}function Xl(c,s){const o=c.length;for(let p=0;p<o;p++)if(c[p].payload.key===s)return p;return-1}function Fa(c,s){const{payload:o,prevKey:p,key:w}=s,x=Xl(c,w),j=function mf(c,s){if(K_(s))return 0;{const o=Xl(c,s);return-1===o?c.length:o+1}}(c,p);switch(s.type){case"value":if(s.payload&&s.payload.exists()){let J=null;s.payload.forEach(ve=>{const Be={payload:ve,type:"value",prevKey:J,key:ve.key};return J=ve.key,c=[...c,Be],!1})}return c;case"child_added":if(x>-1){const J=c[x-1];(J&&J.key||null)!==p&&(c=c.filter(ve=>ve.payload.key!==o.key)).splice(j,0,s)}else{if(null==p)return[s,...c];(c=c.slice()).splice(j,0,s)}return c;case"child_removed":return c.filter(J=>J.payload.key!==o.key);case"child_changed":return c.map(J=>J.payload.key===w?s:J);case"child_moved":if(x>-1){const J=c.splice(x,1)[0];return(c=c.slice()).splice(j,0,J),c}return c;default:return c}}function ds(c){return(K_(c)||0===c.length)&&(c=["child_added","child_removed","child_changed","child_moved"]),c}function yf(c,s,o){return function Vv(c,s,o){return Pu(c,"value","once",o).pipe((0,G.w)(p=>{const w=[(0,Po.of)(p)];return s.forEach(x=>w.push(Pu(c,x,"on",o))),(0,Pc.T)(...w).pipe((0,O.R)(Fa,[]))}),(0,Z.x)())}(c,s=ds(s),o)}function Tl(c,s,o){const p=(s=ds(s)).map(w=>Pu(c,w,"on",o));return(0,Pc.T)(...p)}function pa(c,s){return function(p,w){return wy(p,{stringCase:()=>c.child(p)[s](w),firebaseCase:()=>p[s](w),snapshotCase:()=>p.ref[s](w)})}}function pl(c){return function(o){return o?wy(o,{stringCase:()=>c.child(o).remove(),firebaseCase:()=>o.remove(),snapshotCase:()=>o.ref.remove()}):c.remove()}}function Dh(c,s){return function(){return Pu(c,"value","on",s)}}const _f=new _.OlP("angularfire2.realtimeDatabaseURL"),Ad=new _.OlP("angularfire2.database.use-emulator");let Uv=(()=>{class c{constructor(o,p,w,x,j,J,ve,Be,xt,Yt,ln,On,Hn,pr,mi){this.schedulers=J;const Es=ve,wo=(0,Ia.on)(o,j,p);Be&&(0,Yo.nw)(wo,j,xt,ln,On,Hn,Yt,pr),this.database=(0,Ia.cc)(`${wo.name}.database.${w}`,"AngularFireDatabase",wo.name,()=>{const Oa=j.runOutsideAngular(()=>wo.database(w||void 0));return Es&&Oa.useEmulator(...Es),Oa},[Es])}list(o,p){const w=this.schedulers.ngZone.runOutsideAngular(()=>Ey(this.database,o));let x=w;return p&&(x=p(w)),function vf(c,s){const o=s.schedulers.outsideAngular,p=s.schedulers.ngZone.run(()=>c.ref);return{query:c,update:pa(p,"update"),set:pa(p,"set"),push:w=>p.push(w),remove:pl(p),snapshotChanges:w=>yf(c,w,o).pipe(Yi.iC),stateChanges:w=>Tl(c,w,o).pipe(Yi.iC),auditTrail:w=>function Ih(c,s,o){return function qo(c,s,o){return function Ch(c,s){return Pu(c,"value","on",s).pipe((0,Ys.U)(o=>{let p;return o.payload.forEach(w=>(p=w.key,!1)),{data:o,lastKeyToLoad:p}}))}(c,o).pipe(function _i(...c){const s=(0,Tr.jO)(c);return(0,pe.e)((o,p)=>{const w=c.length,x=new Array(w);let j=c.map(()=>!1),J=!1;for(let ve=0;ve<w;ve++)(0,je.Xf)(c[ve]).subscribe((0,Ye.x)(p,Be=>{x[ve]=Be,!J&&!j[ve]&&(j[ve]=!0,(J=j.every(Kt.y))&&(j=null))},Sn.Z));o.subscribe((0,Ye.x)(p,ve=>{if(J){const Be=[ve,...x];p.next(s?s(...Be):Be)}}))})}(s),(0,Ys.U)(([w,x])=>{const j=w.lastKeyToLoad,J=x.map(ve=>ve.key);return{actions:x,lastKeyToLoad:j,loadedKeys:J}}),function Gr(c){return(0,pe.e)((s,o)=>{let p=!1,w=0;s.subscribe((0,Ye.x)(o,x=>(p||(p=!c(x,w++)))&&o.next(x)))})}(w=>-1===w.loadedKeys.indexOf(w.lastKeyToLoad)),(0,Ys.U)(w=>w.actions))}(c,Tl(c,s).pipe((0,O.R)((w,x)=>[...w,x],[])),o)}(c,w,o).pipe(Yi.iC),valueChanges:(w,x)=>yf(c,w,o).pipe((0,Ys.U)(J=>J.map(ve=>x&&x.idField?Object.assign(Object.assign({},ve.payload.val()),{[x.idField]:ve.key}):ve.payload.val())),Yi.iC)}}(x,this)}object(o){return function Sh(c,s){return{query:c,snapshotChanges:()=>Dh(c,s.schedulers.outsideAngular)().pipe(Yi.iC),update:o=>c.ref.update(o),set:o=>c.ref.set(o),remove:()=>c.ref.remove(),valueChanges:()=>Dh(c,s.schedulers.outsideAngular)().pipe(Yi.iC,(0,Ys.U)(p=>p.payload.exists()?p.payload.val():null))}}(this.schedulers.ngZone.runOutsideAngular(()=>Ey(this.database,o)),this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}}return c.\u0275fac=function(o){return new(o||c)(_.LFG(Ia.Dh),_.LFG(Ia.xv,8),_.LFG(_f,8),_.LFG(_.Lbi),_.LFG(_.R0b),_.LFG(Yi.HU),_.LFG(Ad,8),_.LFG(Yo.zQ,8),_.LFG(Yo.Qv,8),_.LFG(Yo.L6,8),_.LFG(Yo._Q,8),_.LFG(Yo.rT,8),_.LFG(Yo.lh,8),_.LFG(Yo.f7,8),_.LFG(Bv.nm,8))},c.\u0275prov=_.Yz7({token:c,factory:c.\u0275fac,providedIn:"any"}),c})(),Gg=(()=>{class c{constructor(){Sp.Z.registerVersion("angularfire",Yi.q4.full,"rtdb-compat")}}return c.\u0275fac=function(o){return new(o||c)},c.\u0275mod=_.oAB({type:c}),c.\u0275inj=_.cJS({providers:[Uv]}),c})();var jv=H(515),zv=H(5363),Zo=H(3151),Y_=H(5132),Iy=H(9300),ba=H(7579);var Dy=H(5577),q_=H(8675),Z_=H(1520),Hv=H(3692);H(259);const xd="firebase_screen_id",Zc="outlet",xp="screen_class",qv="screen_name";let Xv=Math.floor(Math.random()*(Math.pow(2,32)-1))-Math.pow(2,31);const Ou={},Ay=c=>{const s=[c[xp],c[Zc]].join("#");if(Ou.hasOwnProperty(s))return Ou[s];{const o=Xv++;return Ou[s]=o,o}},Mp=new _.OlP("angularfire2.analytics.analyticsCollectionEnabled"),Pp=new _.OlP("angularfire2.analytics.appVersion"),wf=new _.OlP("angularfire2.analytics.appName"),r0=new _.OlP("angularfire2.analytics.debugMode"),Rp=new _.OlP("angularfire2.analytics.config"),Qg="dataLayer";let If=(()=>{class c{constructor(o,p,w,x,j,J,ve,Be,xt){if(this.analyticsInitialized=new Promise(()=>{}),(0,Le.NF)(ve)){window[Qg]=window[Qg]||[];const ln=(...pr)=>"config"===pr[0]&&"firebase"===pr[2].origin&&(this.measurementId=pr[1],!0),On=pr=>{window.gtag=(...mi)=>{pr&&pr(...mi),"event"===mi[0]&&mi[2].send_to===this.measurementId&&(x&&(mi[2].app_name=x),w&&(mi[2].app_version=w)),j&&typeof console<"u"&&console.info(...mi),function(...Es){window[Qg].push(arguments)}(...mi)}};window[Qg].some(ln)?(this.analyticsInitialized=Promise.resolve(),On()):this.analyticsInitialized=new Promise(pr=>{On((...mi)=>{ln(...mi)&&pr()})}),J&&this.updateConfig(J),j&&this.updateConfig({debug_mode:1})}else this.analyticsInitialized=Promise.resolve();const Yt=(0,Po.of)(void 0).pipe((0,zv.Q)(xt.outsideAngular),(0,G.w)(Y_.Gb),(0,G.w)(ln=>ln?Be.runOutsideAngular(()=>H.e(3814).then(H.bind(H,3814))):jv.E),(0,Ys.U)(()=>(0,Ia.cc)("analytics","AngularFireAnalytics",o.name,()=>{const ln=o.analytics();return!1===p&&ln.setAnalyticsCollectionEnabled(!1),ln},[o,p,J,j])),(0,Zo.d)({bufferSize:1,refCount:!1}));return(0,Ia.pX)(this,Yt,Be)}updateConfig(o){return(0,Ge.mG)(this,void 0,void 0,function*(){yield this.analyticsInitialized,window.gtag("config",this.measurementId,Object.assign(Object.assign({},o),{update:!0}))})}}return c.\u0275fac=function(o){return new(o||c)(_.LFG(Ia.Ot),_.LFG(Mp,8),_.LFG(Pp,8),_.LFG(wf,8),_.LFG(r0,8),_.LFG(Rp,8),_.LFG(_.Lbi),_.LFG(_.R0b),_.LFG(Yi.HU))},c.\u0275prov=_.Yz7({token:c,factory:c.\u0275fac,providedIn:"any"}),c})(),em=(()=>{class c{constructor(o,p,w,x){if(this.disposables=[],Sp.Z.registerVersion("angularfire",Yi.q4.full,"compat-user-tracking"),(0,Le.PM)(p))this.initialized=Promise.resolve();else{let j;this.initialized=x.runOutsideAngular(()=>new Promise(J=>j=J)),this.disposables=[w.authState.subscribe(J=>{o.setUserId(null==J?void 0:J.uid),j()}),w.credential.subscribe(J=>{if(J){const ve=J.user.isAnonymous?"anonymous":J.additionalUserInfo.providerId;J.additionalUserInfo.isNewUser&&o.logEvent("sign_up",{method:ve}),o.logEvent("login",{method:ve})}})]}}ngOnDestroy(){this.disposables.forEach(o=>o.unsubscribe())}}return c.\u0275fac=function(o){return new(o||c)(_.LFG(If),_.LFG(_.Lbi),_.LFG(Yo.zQ),_.LFG(_.R0b))},c.\u0275prov=_.Yz7({token:c,factory:c.\u0275fac}),c})(),Ry=(()=>{class c{constructor(o,p,w,x,j,J){if(Sp.Z.registerVersion("angularfire",Yi.q4.full,"compat-screen-tracking"),!p||!o)return this;j.runOutsideAngular(()=>{this.disposable=((c,s,o)=>c.events.pipe((0,Iy.h)(w=>w instanceof _e.jw)).pipe((0,G.w)(w=>{var x;const J=(null===(x=c.parseUrl(c.url.replace(/(?:\().+(?:\))/g,On=>On.replace("://",":///"))).root.children[w.snapshot.outlet])||void 0===x?void 0:x.toString())||"",ve=c.routerState.root.children.map(On=>On).find(On=>On.outlet===w.snapshot.outlet);if(!ve)return(0,Po.of)(null);let Be=ve;for(;Be.firstChild;)Be=Be.firstChild;const xt=Be.pathFromRoot.map(On=>{var Hn;return null===(Hn=On.routeConfig)||void 0===Hn?void 0:Hn.path}).filter(On=>On).join("/")||"/",Yt={[qv]:xt,page_path:`/${J}`,firebase_event_origin:"auto",firebase_screen:xt,[Zc]:w.snapshot.outlet};s&&(Yt.page_title=s.getTitle());let ln=ve.component;if(ln){if(ln===_e.fw){let On=w.snapshot;for(;On.firstChild;)On=On.firstChild;ln=On.component}}else ln=w.snapshot.component;if("string"==typeof ln)return(0,Po.of)(Object.assign(Object.assign({},Yt),{[xp]:ln}));if(ln){const On=o.resolveComponentFactory(ln);return(0,Po.of)(Object.assign(Object.assign({},Yt),{[xp]:On.selector}))}return(0,Po.of)(null)}),(0,Iy.h)(w=>!!w),(0,Ys.U)(w=>Object.assign({firebase_screen_class:w[xp],[xd]:Ay(w)},w)),function Cy(c,s,o,p){return(0,pe.e)((w,x)=>{let j;s&&"function"!=typeof s?({duration:o,element:j,connector:p}=s):j=s;const J=new Map,ve=Hn=>{J.forEach(Hn),Hn(x)},Be=Hn=>ve(pr=>pr.error(Hn));let xt=0,Yt=!1;const ln=new Ye.Q(x,Hn=>{try{const pr=c(Hn);let mi=J.get(pr);if(!mi){J.set(pr,mi=p?p():new ba.x);const Es=function On(Hn,pr){const mi=new bl.y(Es=>{xt++;const wo=pr.subscribe(Es);return()=>{wo.unsubscribe(),0==--xt&&Yt&&ln.unsubscribe()}});return mi.key=Hn,mi}(pr,mi);if(x.next(Es),o){const wo=(0,Ye.x)(mi,()=>{mi.complete(),null==wo||wo.unsubscribe()},void 0,void 0,()=>J.delete(pr));ln.add((0,je.Xf)(o(Es)).subscribe(wo))}}mi.next(j?j(Hn):Hn)}catch(pr){Be(pr)}},()=>ve(Hn=>Hn.complete()),Be,()=>J.clear(),()=>(Yt=!0,0===xt));w.subscribe(ln)})}(w=>w[Zc]),(0,Dy.z)(w=>w.pipe((0,Z.x)((x,j)=>JSON.stringify(x)===JSON.stringify(j)),(0,q_.O)(void 0),(0,Z_.G)(),(0,Ys.U)(([x,j])=>x?Object.assign({firebase_previous_class:x[xp],firebase_previous_screen:x[qv],firebase_previous_id:x[xd]},j):j)))))(p,w,x).pipe((0,G.w)(ve=>(0,Ge.mG)(this,void 0,void 0,function*(){return J&&(yield J.initialized),yield o.logEvent("screen_view",ve)}))).subscribe()})}ngOnDestroy(){this.disposable&&this.disposable.unsubscribe()}}return c.\u0275fac=function(o){return new(o||c)(_.LFG(If),_.LFG(_e.F0,8),_.LFG(h.Dx,8),_.LFG(_._Vd),_.LFG(_.R0b),_.LFG(em,8))},c.\u0275prov=_.Yz7({token:c,factory:c.\u0275fac}),c})(),e_=(()=>{class c{constructor(o,p,w){Sp.Z.registerVersion("angularfire",Yi.q4.full,"analytics-compat"),o.app.then(()=>{})}}return c.\u0275fac=function(o){return new(o||c)(_.LFG(If),_.LFG(Ry,8),_.LFG(em,8))},c.\u0275mod=_.oAB({type:c}),c.\u0275inj=_.cJS({providers:[If]}),c})();var Cf=H(1085),t_=H(377);class Oy{}class ky{}const wc="*";function Np(c,s=null){return{type:2,steps:c,options:s}}function Df(c){return{type:6,styles:c,offset:null}}function Ic(c){Promise.resolve().then(c)}class nl{constructor(s=0,o=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=s+o}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(s=>s()),this._onDoneFns=[])}onStart(s){this._originalOnStartFns.push(s),this._onStartFns.push(s)}onDone(s){this._originalOnDoneFns.push(s),this._onDoneFns.push(s)}onDestroy(s){this._onDestroyFns.push(s)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){Ic(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(s=>s()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(s=>s()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(s){this._position=this.totalTime?s*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(s){const o="start"==s?this._onStartFns:this._onDoneFns;o.forEach(p=>p()),o.length=0}}class Pd{constructor(s){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=s;let o=0,p=0,w=0;const x=this.players.length;0==x?Ic(()=>this._onFinish()):this.players.forEach(j=>{j.onDone(()=>{++o==x&&this._onFinish()}),j.onDestroy(()=>{++p==x&&this._onDestroy()}),j.onStart(()=>{++w==x&&this._onStart()})}),this.totalTime=this.players.reduce((j,J)=>Math.max(j,J.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(s=>s()),this._onDoneFns=[])}init(){this.players.forEach(s=>s.init())}onStart(s){this._onStartFns.push(s)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(s=>s()),this._onStartFns=[])}onDone(s){this._onDoneFns.push(s)}onDestroy(s){this._onDestroyFns.push(s)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(s=>s.play())}pause(){this.players.forEach(s=>s.pause())}restart(){this.players.forEach(s=>s.restart())}finish(){this._onFinish(),this.players.forEach(s=>s.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(s=>s.destroy()),this._onDestroyFns.forEach(s=>s()),this._onDestroyFns=[])}reset(){this.players.forEach(s=>s.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(s){const o=s*this.totalTime;this.players.forEach(p=>{const w=p.totalTime?Math.min(1,o/p.totalTime):1;p.setPosition(w)})}getPosition(){const s=this.players.reduce((o,p)=>null===o||p.totalTime>o.totalTime?p:o,null);return null!=s?s.getPosition():0}beforeDestroy(){this.players.forEach(s=>{s.beforeDestroy&&s.beforeDestroy()})}triggerCallback(s){const o="start"==s?this._onStartFns:this._onDoneFns;o.forEach(p=>p()),o.length=0}}const Ny="!";function Rd(c){return new _.vHH(3e3,!1)}function Od(c){switch(c.length){case 0:return new nl;case 1:return c[0];default:return new Pd(c)}}function u_(c,s,o,p,w=new Map,x=new Map){const j=[],J=[];let ve=-1,Be=null;if(p.forEach(xt=>{const Yt=xt.get("offset"),ln=Yt==ve,On=ln&&Be||new Map;xt.forEach((Hn,pr)=>{let mi=pr,Es=Hn;if("offset"!==pr)switch(mi=s.normalizePropertyName(mi,j),Es){case Ny:Es=w.get(pr);break;case wc:Es=x.get(pr);break;default:Es=s.normalizeStyleValue(pr,mi,Es,j)}On.set(mi,Es)}),ln||J.push(On),Be=On,ve=Yt}),j.length)throw function sE(c){return new _.vHH(3502,!1)}();return J}function rm(c,s,o,p){switch(s){case"start":c.onStart(()=>p(o&&Af(o,"start",c)));break;case"done":c.onDone(()=>p(o&&Af(o,"done",c)));break;case"destroy":c.onDestroy(()=>p(o&&Af(o,"destroy",c)))}}function Af(c,s,o){const p=o.totalTime,x=im(c.element,c.triggerName,c.fromState,c.toState,s||c.phaseName,null==p?c.totalTime:p,!!o.disabled),j=c._data;return null!=j&&(x._data=j),x}function im(c,s,o,p,w="",x=0,j){return{element:c,triggerName:s,fromState:o,toState:p,phaseName:w,totalTime:x,disabled:!!j}}function i(c,s,o){let p=c.get(s);return p||c.set(s,p=o),p}function e(c){const s=c.indexOf(":");return[c.substring(1,s),c.slice(s+1)]}const t=(()=>typeof document>"u"?null:document.documentElement)();function l(c){const s=c.parentNode||c.host||null;return s===t?null:s}let v=null,S=!1;function He(c,s){for(;s;){if(s===c)return!0;s=l(s)}return!1}function St(c,s,o){if(o)return Array.from(c.querySelectorAll(s));const p=c.querySelector(s);return p?[p]:[]}let Pn=(()=>{class c{validateStyleProperty(o){return function Y(c){v||(v=function we(){return typeof document<"u"?document.body:null}()||{},S=!!v.style&&"WebkitAppearance"in v.style);let s=!0;return v.style&&!function f(c){return"ebkit"==c.substring(1,6)}(c)&&(s=c in v.style,!s&&S&&(s="Webkit"+c.charAt(0).toUpperCase()+c.slice(1)in v.style)),s}(o)}matchesElement(o,p){return!1}containsElement(o,p){return He(o,p)}getParentElement(o){return l(o)}query(o,p,w){return St(o,p,w)}computeStyle(o,p,w){return w||""}animate(o,p,w,x,j,J=[],ve){return new nl(w,x)}}return c.\u0275fac=function(o){return new(o||c)},c.\u0275prov=_.Yz7({token:c,factory:c.\u0275fac}),c})(),fr=(()=>{class c{}return c.NOOP=new Pn,c})();const $r=1e3,Hs="ng-enter",fs="ng-leave",ga="ng-trigger",da=".ng-trigger",Xo="ng-animating",rl=".ng-animating";function gl(c){if("number"==typeof c)return c;const s=c.match(/^(-?[\.\d]+)(m?s)/);return!s||s.length<2?0:sm(parseFloat(s[1]),s[2])}function sm(c,s){return"s"===s?c*$r:c}function d_(c,s,o){return c.hasOwnProperty("duration")?c:function oE(c,s,o){let w,x=0,j="";if("string"==typeof c){const J=c.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===J)return s.push(Rd()),{duration:0,delay:0,easing:""};w=sm(parseFloat(J[1]),J[2]);const ve=J[3];null!=ve&&(x=sm(parseFloat(ve),J[4]));const Be=J[5];Be&&(j=Be)}else w=c;if(!o){let J=!1,ve=s.length;w<0&&(s.push(function Xc(){return new _.vHH(3100,!1)}()),J=!0),x<0&&(s.push(function c0(){return new _.vHH(3101,!1)}()),J=!0),J&&s.splice(ve,0,Rd())}return{duration:w,delay:x,easing:j}}(c,s,o)}function By(c,s={}){return Object.keys(c).forEach(o=>{s[o]=c[o]}),s}function gb(c){const s=new Map;return Object.keys(c).forEach(o=>{s.set(o,c[o])}),s}function xf(c,s=new Map,o){if(o)for(let[p,w]of o)s.set(p,w);for(let[p,w]of c)s.set(p,w);return s}function kd(c,s,o){s.forEach((p,w)=>{const x=h_(w);o&&!o.has(w)&&o.set(w,c.style[x]),c.style[x]=p})}function Fp(c,s){s.forEach((o,p)=>{const w=h_(p);c.style[w]=""})}function $y(c){return Array.isArray(c)?1==c.length?c[0]:Np(c):c}const I0=new RegExp("{{\\s*(.+?)\\s*}}","g");function yb(c){let s=[];if("string"==typeof c){let o;for(;o=I0.exec(c);)s.push(o[1]);I0.lastIndex=0}return s}function Vy(c,s,o){const p=c.toString(),w=p.replace(I0,(x,j)=>{let J=s[j];return null==J&&(o.push(function ub(c){return new _.vHH(3003,!1)}()),J=""),J.toString()});return w==p?c:w}function Uy(c){const s=[];let o=c.next();for(;!o.done;)s.push(o.value),o=c.next();return s}const vb=/-+([a-z0-9])/g;function h_(c){return c.replace(vb,(...s)=>s[1].toUpperCase())}function Ql(c,s,o){switch(s.type){case 7:return c.visitTrigger(s,o);case 0:return c.visitState(s,o);case 1:return c.visitTransition(s,o);case 2:return c.visitSequence(s,o);case 3:return c.visitGroup(s,o);case 4:return c.visitAnimate(s,o);case 5:return c.visitKeyframes(s,o);case 6:return c.visitStyle(s,o);case 8:return c.visitReference(s,o);case 9:return c.visitAnimateChild(s,o);case 10:return c.visitAnimateRef(s,o);case 11:return c.visitQuery(s,o);case 12:return c.visitStagger(s,o);default:throw function db(c){return new _.vHH(3004,!1)}()}}function C0(c,s){return window.getComputedStyle(c)[s]}const Oh="*";function Dw(c,s){const o=[];return"string"==typeof c?c.split(/\s*,\s*/).forEach(p=>function D0(c,s,o){if(":"==c[0]){const ve=function Sw(c,s){switch(c){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(o,p)=>parseFloat(p)>parseFloat(o);case":decrement":return(o,p)=>parseFloat(p)<parseFloat(o);default:return s.push(function m0(c){return new _.vHH(3016,!1)}()),"* => *"}}(c,o);if("function"==typeof ve)return void s.push(ve);c=ve}const p=c.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==p||p.length<4)return o.push(function g0(c){return new _.vHH(3015,!1)}()),s;const w=p[1],x=p[2],j=p[3];s.push(fE(w,j));"<"==x[0]&&!(w==Oh&&j==Oh)&&s.push(fE(j,w))}(p,o,s)):o.push(c),o}const jy=new Set(["true","1"]),zy=new Set(["false","0"]);function fE(c,s){const o=jy.has(c)||zy.has(c),p=jy.has(s)||zy.has(s);return(w,x)=>{let j=c==Oh||c==w,J=s==Oh||s==x;return!j&&o&&"boolean"==typeof w&&(j=w?jy.has(c):zy.has(c)),!J&&p&&"boolean"==typeof x&&(J=x?jy.has(s):zy.has(s)),j&&J}}const pE=new RegExp("s*:selfs*,?","g");function S0(c,s,o,p){return new am(c).build(s,o,p)}class am{constructor(s){this._driver=s}build(s,o,p){const w=new p_(o);return this._resetContextStyleTimingState(w),Ql(this,$y(s),w)}_resetContextStyleTimingState(s){s.currentQuerySelector="",s.collectedStyles=new Map,s.collectedStyles.set("",new Map),s.currentTime=0}visitTrigger(s,o){let p=o.queryCount=0,w=o.depCount=0;const x=[],j=[];return"@"==s.name.charAt(0)&&o.errors.push(function d0(){return new _.vHH(3006,!1)}()),s.definitions.forEach(J=>{if(this._resetContextStyleTimingState(o),0==J.type){const ve=J,Be=ve.name;Be.toString().split(/\s*,\s*/).forEach(xt=>{ve.name=xt,x.push(this.visitState(ve,o))}),ve.name=Be}else if(1==J.type){const ve=this.visitTransition(J,o);p+=ve.queryCount,w+=ve.depCount,j.push(ve)}else o.errors.push(function s_(){return new _.vHH(3007,!1)}())}),{type:7,name:s.name,states:x,transitions:j,queryCount:p,depCount:w,options:null}}visitState(s,o){const p=this.visitStyle(s.styles,o),w=s.options&&s.options.params||null;if(p.containsDynamicStyles){const x=new Set,j=w||{};p.styles.forEach(J=>{J instanceof Map&&J.forEach(ve=>{yb(ve).forEach(Be=>{j.hasOwnProperty(Be)||x.add(Be)})})}),x.size&&(Uy(x.values()),o.errors.push(function h0(c,s){return new _.vHH(3008,!1)}()))}return{type:0,name:s.name,style:p,options:w?{params:w}:null}}visitTransition(s,o){o.queryCount=0,o.depCount=0;const p=Ql(this,$y(s.animation),o);return{type:1,matchers:Dw(s.expr,o.errors),animation:p,queryCount:o.queryCount,depCount:o.depCount,options:Mf(s.options)}}visitSequence(s,o){return{type:2,steps:s.steps.map(p=>Ql(this,p,o)),options:Mf(s.options)}}visitGroup(s,o){const p=o.currentTime;let w=0;const x=s.steps.map(j=>{o.currentTime=p;const J=Ql(this,j,o);return w=Math.max(w,o.currentTime),J});return o.currentTime=w,{type:3,steps:x,options:Mf(s.options)}}visitAnimate(s,o){const p=function Tw(c,s){if(c.hasOwnProperty("duration"))return c;if("number"==typeof c)return g_(d_(c,s).duration,0,"");const o=c;if(o.split(/\s+/).some(x=>"{"==x.charAt(0)&&"{"==x.charAt(1))){const x=g_(0,0,"");return x.dynamic=!0,x.strValue=o,x}const w=d_(o,s);return g_(w.duration,w.delay,w.easing)}(s.timings,o.errors);o.currentAnimateTimings=p;let w,x=s.styles?s.styles:Df({});if(5==x.type)w=this.visitKeyframes(x,o);else{let j=s.styles,J=!1;if(!j){J=!0;const Be={};p.easing&&(Be.easing=p.easing),j=Df(Be)}o.currentTime+=p.duration+p.delay;const ve=this.visitStyle(j,o);ve.isEmptyStep=J,w=ve}return o.currentAnimateTimings=null,{type:4,timings:p,style:w,options:null}}visitStyle(s,o){const p=this._makeStyleAst(s,o);return this._validateStyleAst(p,o),p}_makeStyleAst(s,o){const p=[],w=Array.isArray(s.styles)?s.styles:[s.styles];for(let J of w)"string"==typeof J?J===wc?p.push(J):o.errors.push(new _.vHH(3002,!1)):p.push(gb(J));let x=!1,j=null;return p.forEach(J=>{if(J instanceof Map&&(J.has("easing")&&(j=J.get("easing"),J.delete("easing")),!x))for(let ve of J.values())if(ve.toString().indexOf("{{")>=0){x=!0;break}}),{type:6,styles:p,easing:j,offset:s.offset,containsDynamicStyles:x,options:null}}_validateStyleAst(s,o){const p=o.currentAnimateTimings;let w=o.currentTime,x=o.currentTime;p&&x>0&&(x-=p.duration+p.delay),s.styles.forEach(j=>{"string"!=typeof j&&j.forEach((J,ve)=>{const Be=o.collectedStyles.get(o.currentQuerySelector),xt=Be.get(ve);let Yt=!0;xt&&(x!=w&&x>=xt.startTime&&w<=xt.endTime&&(o.errors.push(function p0(c,s,o,p,w){return new _.vHH(3010,!1)}()),Yt=!1),x=xt.startTime),Yt&&Be.set(ve,{startTime:x,endTime:w}),o.options&&function lE(c,s,o){const p=s.params||{},w=yb(c);w.length&&w.forEach(x=>{p.hasOwnProperty(x)||o.push(function Fy(c){return new _.vHH(3001,!1)}())})}(J,o.options,o.errors)})})}visitKeyframes(s,o){const p={type:5,styles:[],options:null};if(!o.currentAnimateTimings)return o.errors.push(function Sf(){return new _.vHH(3011,!1)}()),p;let x=0;const j=[];let J=!1,ve=!1,Be=0;const xt=s.steps.map(Es=>{const wo=this._makeStyleAst(Es,o);let Oa=null!=wo.offset?wo.offset:function Ra(c){if("string"==typeof c)return null;let s=null;if(Array.isArray(c))c.forEach(o=>{if(o instanceof Map&&o.has("offset")){const p=o;s=parseFloat(p.get("offset")),p.delete("offset")}});else if(c instanceof Map&&c.has("offset")){const o=c;s=parseFloat(o.get("offset")),o.delete("offset")}return s}(wo.styles),Ha=0;return null!=Oa&&(x++,Ha=wo.offset=Oa),ve=ve||Ha<0||Ha>1,J=J||Ha<Be,Be=Ha,j.push(Ha),wo});ve&&o.errors.push(function nm(){return new _.vHH(3012,!1)}()),J&&o.errors.push(function hb(){return new _.vHH(3200,!1)}());const Yt=s.steps.length;let ln=0;x>0&&x<Yt?o.errors.push(function o_(){return new _.vHH(3202,!1)}()):0==x&&(ln=1/(Yt-1));const On=Yt-1,Hn=o.currentTime,pr=o.currentAnimateTimings,mi=pr.duration;return xt.forEach((Es,wo)=>{const Oa=ln>0?wo==On?1:ln*wo:j[wo],Ha=Oa*mi;o.currentTime=Hn+pr.delay+Ha,pr.duration=Ha,this._validateStyleAst(Es,o),Es.offset=Oa,p.styles.push(Es)}),p}visitReference(s,o){return{type:8,animation:Ql(this,$y(s.animation),o),options:Mf(s.options)}}visitAnimateChild(s,o){return o.depCount++,{type:9,options:Mf(s.options)}}visitAnimateRef(s,o){return{type:10,animation:this.visitReference(s.animation,o),options:Mf(s.options)}}visitQuery(s,o){const p=o.currentQuerySelector,w=s.options||{};o.queryCount++,o.currentQuery=s;const[x,j]=function gE(c){const s=!!c.split(/\s*,\s*/).find(o=>":self"==o);return s&&(c=c.replace(pE,"")),c=c.replace(/@\*/g,da).replace(/@\w+/g,o=>da+"-"+o.slice(1)).replace(/:animating/g,rl),[c,s]}(s.selector);o.currentQuerySelector=p.length?p+" "+x:x,i(o.collectedStyles,o.currentQuerySelector,new Map);const J=Ql(this,$y(s.animation),o);return o.currentQuery=null,o.currentQuerySelector=p,{type:11,selector:x,limit:w.limit||0,optional:!!w.optional,includeSelf:j,animation:J,originalSelector:s.selector,options:Mf(s.options)}}visitStagger(s,o){o.currentQuery||o.errors.push(function a_(){return new _.vHH(3013,!1)}());const p="full"===s.timings?{duration:0,delay:0,easing:"full"}:d_(s.timings,o.errors,!0);return{type:12,animation:Ql(this,$y(s.animation),o),timings:p,options:null}}}class p_{constructor(s){this.errors=s,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Mf(c){return c?(c=By(c)).params&&(c.params=function f_(c){return c?By(c):null}(c.params)):c={},c}function g_(c,s,o){return{duration:c,delay:s,easing:o}}function T0(c,s,o,p,w,x,j=null,J=!1){return{type:1,element:c,keyframes:s,preStyleProps:o,postStyleProps:p,duration:w,delay:x,totalTime:w+x,easing:j,subTimeline:J}}class Hy{constructor(){this._map=new Map}get(s){return this._map.get(s)||[]}append(s,o){let p=this._map.get(s);p||this._map.set(s,p=[]),p.push(...o)}has(s){return this._map.has(s)}clear(){this._map.clear()}}const Cb=new RegExp(":enter","g"),yE=new RegExp(":leave","g");function A0(c,s,o,p,w,x=new Map,j=new Map,J,ve,Be=[]){return(new Wy).buildKeyframes(c,s,o,p,w,x,j,J,ve,Be)}class Wy{buildKeyframes(s,o,p,w,x,j,J,ve,Be,xt=[]){Be=Be||new Hy;const Yt=new x0(s,o,Be,w,x,xt,[]);Yt.options=ve;const ln=ve.delay?gl(ve.delay):0;Yt.currentTimeline.delayNextStep(ln),Yt.currentTimeline.setStyles([j],null,Yt.errors,ve),Ql(this,p,Yt);const On=Yt.timelines.filter(Hn=>Hn.containsAnimation());if(On.length&&J.size){let Hn;for(let pr=On.length-1;pr>=0;pr--){const mi=On[pr];if(mi.element===o){Hn=mi;break}}Hn&&!Hn.allowOnlyTimelineStyles()&&Hn.setStyles([J],null,Yt.errors,ve)}return On.length?On.map(Hn=>Hn.buildKeyframes()):[T0(o,[],[],[],0,ln,"",!1)]}visitTrigger(s,o){}visitState(s,o){}visitTransition(s,o){}visitAnimateChild(s,o){const p=o.subInstructions.get(o.element);if(p){const w=o.createSubContext(s.options),x=o.currentTimeline.currentTime,j=this._visitSubInstructions(p,w,w.options);x!=j&&o.transformIntoNewTimeline(j)}o.previousNode=s}visitAnimateRef(s,o){const p=o.createSubContext(s.options);p.transformIntoNewTimeline(),this._applyAnimationRefDelays([s.options,s.animation.options],o,p),this.visitReference(s.animation,p),o.transformIntoNewTimeline(p.currentTimeline.currentTime),o.previousNode=s}_applyAnimationRefDelays(s,o,p){for(const x of s){const j=null==x?void 0:x.delay;if(j){var w;const J="number"==typeof j?j:gl(Vy(j,null!==(w=null==x?void 0:x.params)&&void 0!==w?w:{},o.errors));p.delayNextStep(J)}}}_visitSubInstructions(s,o,p){let x=o.currentTimeline.currentTime;const j=null!=p.duration?gl(p.duration):null,J=null!=p.delay?gl(p.delay):null;return 0!==j&&s.forEach(ve=>{const Be=o.appendInstructionToTimeline(ve,j,J);x=Math.max(x,Be.duration+Be.delay)}),x}visitReference(s,o){o.updateOptions(s.options,!0),Ql(this,s.animation,o),o.previousNode=s}visitSequence(s,o){const p=o.subContextCount;let w=o;const x=s.options;if(x&&(x.params||x.delay)&&(w=o.createSubContext(x),w.transformIntoNewTimeline(),null!=x.delay)){6==w.previousNode.type&&(w.currentTimeline.snapshotCurrentStyles(),w.previousNode=m_);const j=gl(x.delay);w.delayNextStep(j)}s.steps.length&&(s.steps.forEach(j=>Ql(this,j,w)),w.currentTimeline.applyStylesToKeyframe(),w.subContextCount>p&&w.transformIntoNewTimeline()),o.previousNode=s}visitGroup(s,o){const p=[];let w=o.currentTimeline.currentTime;const x=s.options&&s.options.delay?gl(s.options.delay):0;s.steps.forEach(j=>{const J=o.createSubContext(s.options);x&&J.delayNextStep(x),Ql(this,j,J),w=Math.max(w,J.currentTimeline.currentTime),p.push(J.currentTimeline)}),p.forEach(j=>o.currentTimeline.mergeTimelineCollectedStyles(j)),o.transformIntoNewTimeline(w),o.previousNode=s}_visitTiming(s,o){if(s.dynamic){const p=s.strValue;return d_(o.params?Vy(p,o.params,o.errors):p,o.errors)}return{duration:s.duration,delay:s.delay,easing:s.easing}}visitAnimate(s,o){const p=o.currentAnimateTimings=this._visitTiming(s.timings,o),w=o.currentTimeline;p.delay&&(o.incrementTime(p.delay),w.snapshotCurrentStyles());const x=s.style;5==x.type?this.visitKeyframes(x,o):(o.incrementTime(p.duration),this.visitStyle(x,o),w.applyStylesToKeyframe()),o.currentAnimateTimings=null,o.previousNode=s}visitStyle(s,o){const p=o.currentTimeline,w=o.currentAnimateTimings;!w&&p.hasCurrentStyleProperties()&&p.forwardFrame();const x=w&&w.easing||s.easing;s.isEmptyStep?p.applyEmptyStep(x):p.setStyles(s.styles,x,o.errors,o.options),o.previousNode=s}visitKeyframes(s,o){const p=o.currentAnimateTimings,w=o.currentTimeline.duration,x=p.duration,J=o.createSubContext().currentTimeline;J.easing=p.easing,s.styles.forEach(ve=>{J.forwardTime((ve.offset||0)*x),J.setStyles(ve.styles,ve.easing,o.errors,o.options),J.applyStylesToKeyframe()}),o.currentTimeline.mergeTimelineCollectedStyles(J),o.transformIntoNewTimeline(w+x),o.previousNode=s}visitQuery(s,o){const p=o.currentTimeline.currentTime,w=s.options||{},x=w.delay?gl(w.delay):0;x&&(6===o.previousNode.type||0==p&&o.currentTimeline.hasCurrentStyleProperties())&&(o.currentTimeline.snapshotCurrentStyles(),o.previousNode=m_);let j=p;const J=o.invokeQuery(s.selector,s.originalSelector,s.limit,s.includeSelf,!!w.optional,o.errors);o.currentQueryTotal=J.length;let ve=null;J.forEach((Be,xt)=>{o.currentQueryIndex=xt;const Yt=o.createSubContext(s.options,Be);x&&Yt.delayNextStep(x),Be===o.element&&(ve=Yt.currentTimeline),Ql(this,s.animation,Yt),Yt.currentTimeline.applyStylesToKeyframe(),j=Math.max(j,Yt.currentTimeline.currentTime)}),o.currentQueryIndex=0,o.currentQueryTotal=0,o.transformIntoNewTimeline(j),ve&&(o.currentTimeline.mergeTimelineCollectedStyles(ve),o.currentTimeline.snapshotCurrentStyles()),o.previousNode=s}visitStagger(s,o){const p=o.parentContext,w=o.currentTimeline,x=s.timings,j=Math.abs(x.duration),J=j*(o.currentQueryTotal-1);let ve=j*o.currentQueryIndex;switch(x.duration<0?"reverse":x.easing){case"reverse":ve=J-ve;break;case"full":ve=p.currentStaggerTime}const xt=o.currentTimeline;ve&&xt.delayNextStep(ve);const Yt=xt.currentTime;Ql(this,s.animation,o),o.previousNode=s,p.currentStaggerTime=w.currentTime-Yt+(w.startTime-p.currentTimeline.startTime)}}const m_={};class x0{constructor(s,o,p,w,x,j,J,ve){this._driver=s,this.element=o,this.subInstructions=p,this._enterClassName=w,this._leaveClassName=x,this.errors=j,this.timelines=J,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=m_,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=ve||new y_(this._driver,o,0),J.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(s,o){if(!s)return;const p=s;let w=this.options;null!=p.duration&&(w.duration=gl(p.duration)),null!=p.delay&&(w.delay=gl(p.delay));const x=p.params;if(x){let j=w.params;j||(j=this.options.params={}),Object.keys(x).forEach(J=>{(!o||!j.hasOwnProperty(J))&&(j[J]=Vy(x[J],j,this.errors))})}}_copyOptions(){const s={};if(this.options){const o=this.options.params;if(o){const p=s.params={};Object.keys(o).forEach(w=>{p[w]=o[w]})}}return s}createSubContext(s=null,o,p){const w=o||this.element,x=new x0(this._driver,w,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(w,p||0));return x.previousNode=this.previousNode,x.currentAnimateTimings=this.currentAnimateTimings,x.options=this._copyOptions(),x.updateOptions(s),x.currentQueryIndex=this.currentQueryIndex,x.currentQueryTotal=this.currentQueryTotal,x.parentContext=this,this.subContextCount++,x}transformIntoNewTimeline(s){return this.previousNode=m_,this.currentTimeline=this.currentTimeline.fork(this.element,s),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(s,o,p){const w={duration:null!=o?o:s.duration,delay:this.currentTimeline.currentTime+(null!=p?p:0)+s.delay,easing:""},x=new v_(this._driver,s.element,s.keyframes,s.preStyleProps,s.postStyleProps,w,s.stretchStartingKeyframe);return this.timelines.push(x),w}incrementTime(s){this.currentTimeline.forwardTime(this.currentTimeline.duration+s)}delayNextStep(s){s>0&&this.currentTimeline.delayNextStep(s)}invokeQuery(s,o,p,w,x,j){let J=[];if(w&&J.push(this.element),s.length>0){s=(s=s.replace(Cb,"."+this._enterClassName)).replace(yE,"."+this._leaveClassName);let Be=this._driver.query(this.element,s,1!=p);0!==p&&(Be=p<0?Be.slice(Be.length+p,Be.length):Be.slice(0,p)),J.push(...Be)}return!x&&0==J.length&&j.push(function Tf(c){return new _.vHH(3014,!1)}()),J}}class y_{constructor(s,o,p,w){this._driver=s,this.element=o,this.startTime=p,this._elementTimelineStylesLookup=w,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(o),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(o,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(s){const o=1===this._keyframes.size&&this._pendingStyles.size;this.duration||o?(this.forwardTime(this.currentTime+s),o&&this.snapshotCurrentStyles()):this.startTime+=s}fork(s,o){return this.applyStylesToKeyframe(),new y_(this._driver,s,o||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(s){this.applyStylesToKeyframe(),this.duration=s,this._loadKeyframe()}_updateStyle(s,o){this._localTimelineStyles.set(s,o),this._globalTimelineStyles.set(s,o),this._styleSummary.set(s,{time:this.currentTime,value:o})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(s){s&&this._previousKeyframe.set("easing",s);for(let[o,p]of this._globalTimelineStyles)this._backFill.set(o,p||wc),this._currentKeyframe.set(o,wc);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(s,o,p,w){o&&this._previousKeyframe.set("easing",o);const x=w&&w.params||{},j=function Db(c,s){const o=new Map;let p;return c.forEach(w=>{if("*"===w){p=p||s.keys();for(let x of p)o.set(x,wc)}else xf(w,o)}),o}(s,this._globalTimelineStyles);for(let[ve,Be]of j){const xt=Vy(Be,x,p);var J;this._pendingStyles.set(ve,xt),this._localTimelineStyles.has(ve)||this._backFill.set(ve,null!==(J=this._globalTimelineStyles.get(ve))&&void 0!==J?J:wc),this._updateStyle(ve,xt)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((s,o)=>{this._currentKeyframe.set(o,s)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((s,o)=>{this._currentKeyframe.has(o)||this._currentKeyframe.set(o,s)}))}snapshotCurrentStyles(){for(let[s,o]of this._localTimelineStyles)this._pendingStyles.set(s,o),this._updateStyle(s,o)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const s=[];for(let o in this._currentKeyframe)s.push(o);return s}mergeTimelineCollectedStyles(s){s._styleSummary.forEach((o,p)=>{const w=this._styleSummary.get(p);(!w||o.time>w.time)&&this._updateStyle(p,o.value)})}buildKeyframes(){this.applyStylesToKeyframe();const s=new Set,o=new Set,p=1===this._keyframes.size&&0===this.duration;let w=[];this._keyframes.forEach((J,ve)=>{const Be=xf(J,new Map,this._backFill);Be.forEach((xt,Yt)=>{xt===Ny?s.add(Yt):xt===wc&&o.add(Yt)}),p||Be.set("offset",ve/this.duration),w.push(Be)});const x=s.size?Uy(s.values()):[],j=o.size?Uy(o.values()):[];if(p){const J=w[0],ve=new Map(J);J.set("offset",0),ve.set("offset",1),w=[J,ve]}return T0(this.element,w,x,j,this.duration,this.startTime,this.easing,!1)}}class v_ extends y_{constructor(s,o,p,w,x,j,J=!1){super(s,o,j.delay),this.keyframes=p,this.preStyleProps=w,this.postStyleProps=x,this._stretchStartingKeyframe=J,this.timings={duration:j.duration,delay:j.delay,easing:j.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let s=this.keyframes,{delay:o,duration:p,easing:w}=this.timings;if(this._stretchStartingKeyframe&&o){const x=[],j=p+o,J=o/j,ve=xf(s[0]);ve.set("offset",0),x.push(ve);const Be=xf(s[0]);Be.set("offset",M0(J)),x.push(Be);const xt=s.length-1;for(let Yt=1;Yt<=xt;Yt++){let ln=xf(s[Yt]);const On=ln.get("offset");ln.set("offset",M0((o+On*p)/j)),x.push(ln)}p=j,o=0,w="",s=x}return T0(this.element,s,this.preStyleProps,this.postStyleProps,p,o,w,!0)}}function M0(c,s=3){const o=Math.pow(10,s-1);return Math.round(c*o)/o}class P0{}const Gy=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class _E extends P0{normalizePropertyName(s,o){return h_(s)}normalizeStyleValue(s,o,p,w){let x="";const j=p.toString().trim();if(Gy.has(o)&&0!==p&&"0"!==p)if("number"==typeof p)x="px";else{const J=p.match(/^[+-]?[\d\.]+([a-z]*)$/);J&&0==J[1].length&&w.push(function u0(c,s){return new _.vHH(3005,!1)}())}return j+x}}function Sb(c,s,o,p,w,x,j,J,ve,Be,xt,Yt,ln){return{type:0,element:c,triggerName:s,isRemovalTransition:w,fromState:o,fromStyles:x,toState:p,toStyles:j,timelines:J,queriedElements:ve,preStyleProps:Be,postStyleProps:xt,totalTime:Yt,errors:ln}}const R0={};class O0{constructor(s,o,p){this._triggerName=s,this.ast=o,this._stateStyles=p}match(s,o,p,w){return function Tb(c,s,o,p,w){return c.some(x=>x(s,o,p,w))}(this.ast.matchers,s,o,p,w)}buildStyles(s,o,p){let w=this._stateStyles.get("*");return void 0!==s&&(w=this._stateStyles.get(null==s?void 0:s.toString())||w),w?w.buildStyles(o,p):new Map}build(s,o,p,w,x,j,J,ve,Be,xt){var Yt;const ln=[],On=this.ast.options&&this.ast.options.params||R0,pr=this.buildStyles(p,J&&J.params||R0,ln),mi=ve&&ve.params||R0,Es=this.buildStyles(w,mi,ln),wo=new Set,Oa=new Map,Ha=new Map,$p="void"===w,Pf={params:EE(mi,On),delay:null===(Yt=this.ast.options)||void 0===Yt?void 0:Yt.delay},ec=xt?[]:A0(s,o,this.ast.animation,x,j,pr,Es,Pf,Be,ln);let eu=0;if(ec.forEach(ku=>{eu=Math.max(ku.duration+ku.delay,eu)}),ln.length)return Sb(o,this._triggerName,p,w,$p,pr,Es,[],[],Oa,Ha,eu,ln);ec.forEach(ku=>{const Xy=ku.element,Qy=i(Oa,Xy,new Set);ku.preStyleProps.forEach(Nd=>Qy.add(Nd));const Jy=i(Ha,Xy,new Set);ku.postStyleProps.forEach(Nd=>Jy.add(Nd)),Xy!==o&&wo.add(Xy)});const I_=Uy(wo.values());return Sb(o,this._triggerName,p,w,$p,pr,Es,ec,I_,Oa,Ha,eu)}}function EE(c,s){const o=By(s);for(const p in c)c.hasOwnProperty(p)&&null!=c[p]&&(o[p]=c[p]);return o}class Ab{constructor(s,o,p){this.styles=s,this.defaultParams=o,this.normalizer=p}buildStyles(s,o){const p=new Map,w=By(this.defaultParams);return Object.keys(s).forEach(x=>{const j=s[x];null!==j&&(w[x]=j)}),this.styles.styles.forEach(x=>{"string"!=typeof x&&x.forEach((j,J)=>{j&&(j=Vy(j,w,o));const ve=this.normalizer.normalizePropertyName(J,o);j=this.normalizer.normalizeStyleValue(J,ve,j,o),p.set(J,j)})}),p}}class IE{constructor(s,o,p){this.name=s,this.ast=o,this._normalizer=p,this.transitionFactories=[],this.states=new Map,o.states.forEach(w=>{this.states.set(w.name,new Ab(w.style,w.options&&w.options.params||{},p))}),CE(this.states,"true","1"),CE(this.states,"false","0"),o.transitions.forEach(w=>{this.transitionFactories.push(new O0(s,w,this.states))}),this.fallbackTransition=function Aw(c,s,o){return new O0(c,{type:1,animation:{type:2,steps:[],options:null},matchers:[(j,J)=>!0],options:null,queryCount:0,depCount:0},s)}(s,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(s,o,p,w){return this.transitionFactories.find(j=>j.match(s,o,p,w))||null}matchStyles(s,o,p){return this.fallbackTransition.buildStyles(s,o,p)}}function CE(c,s,o){c.has(s)?c.has(o)||c.set(o,c.get(s)):c.has(o)&&c.set(s,c.get(o))}const xw=new Hy;class Mw{constructor(s,o,p){this.bodyNode=s,this._driver=o,this._normalizer=p,this._animations=new Map,this._playersById=new Map,this.players=[]}register(s,o){const p=[],x=S0(this._driver,o,p,[]);if(p.length)throw function l_(c){return new _.vHH(3503,!1)}();this._animations.set(s,x)}_buildPlayer(s,o,p){const w=s.element,x=u_(0,this._normalizer,0,s.keyframes,o,p);return this._driver.animate(w,x,s.duration,s.delay,s.easing,[],!0)}create(s,o,p={}){const w=[],x=this._animations.get(s);let j;const J=new Map;if(x?(j=A0(this._driver,o,x,Hs,fs,new Map,new Map,p,xw,w),j.forEach(xt=>{const Yt=i(J,xt.element,new Map);xt.postStyleProps.forEach(ln=>Yt.set(ln,null))})):(w.push(function Ly(){return new _.vHH(3300,!1)}()),j=[]),w.length)throw function Qc(c){return new _.vHH(3504,!1)}();J.forEach((xt,Yt)=>{xt.forEach((ln,On)=>{xt.set(On,this._driver.computeStyle(Yt,On,wc))})});const Be=Od(j.map(xt=>{const Yt=J.get(xt.element);return this._buildPlayer(xt,new Map,Yt)}));return this._playersById.set(s,Be),Be.onDestroy(()=>this.destroy(s)),this.players.push(Be),Be}destroy(s){const o=this._getPlayer(s);o.destroy(),this._playersById.delete(s);const p=this.players.indexOf(o);p>=0&&this.players.splice(p,1)}_getPlayer(s){const o=this._playersById.get(s);if(!o)throw function pb(c){return new _.vHH(3301,!1)}();return o}listen(s,o,p,w){const x=im(o,"","","");return rm(this._getPlayer(s),p,x,w),()=>{}}command(s,o,p,w){if("register"==p)return void this.register(s,w[0]);if("create"==p)return void this.create(s,o,w[0]||{});const x=this._getPlayer(s);switch(p){case"play":x.play();break;case"pause":x.pause();break;case"reset":x.reset();break;case"restart":x.restart();break;case"finish":x.finish();break;case"init":x.init();break;case"setPosition":x.setPosition(parseFloat(w[0]));break;case"destroy":this.destroy(s)}}}const k0="ng-animate-queued",N0="ng-animate-disabled",SE=[],Mb={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},TE={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Jc="__ng_removed";class Pb{get params(){return this.options.params}constructor(s,o=""){this.namespaceId=o;const p=s&&s.hasOwnProperty("value");if(this.value=function Rb(c){return null!=c?c:null}(p?s.value:s),p){const x=By(s);delete x.value,this.options=x}else this.options={};this.options.params||(this.options.params={})}absorbOptions(s){const o=s.params;if(o){const p=this.options.params;Object.keys(o).forEach(w=>{null==p[w]&&(p[w]=o[w])})}}}const Yy="void",E_=new Pb(Yy);class AE{constructor(s,o,p){this.id=s,this.hostElement=o,this._engine=p,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+s,Jl(o,this._hostClassName)}listen(s,o,p,w){if(!this._triggers.has(o))throw function _0(c,s){return new _.vHH(3302,!1)}();if(null==p||0==p.length)throw function Cc(c){return new _.vHH(3303,!1)}();if(!function Ob(c){return"start"==c||"done"==c}(p))throw function za(c,s){return new _.vHH(3400,!1)}();const x=i(this._elementListeners,s,[]),j={name:o,phase:p,callback:w};x.push(j);const J=i(this._engine.statesByElement,s,new Map);return J.has(o)||(Jl(s,ga),Jl(s,ga+"-"+o),J.set(o,E_)),()=>{this._engine.afterFlush(()=>{const ve=x.indexOf(j);ve>=0&&x.splice(ve,1),this._triggers.has(o)||J.delete(o)})}}register(s,o){return!this._triggers.has(s)&&(this._triggers.set(s,o),!0)}_getTrigger(s){const o=this._triggers.get(s);if(!o)throw function Dc(c){return new _.vHH(3401,!1)}();return o}trigger(s,o,p,w=!0){const x=this._getTrigger(o),j=new Lp(this.id,o,s);let J=this._engine.statesByElement.get(s);J||(Jl(s,ga),Jl(s,ga+"-"+o),this._engine.statesByElement.set(s,J=new Map));let ve=J.get(o);const Be=new Pb(p,this.id);if(!(p&&p.hasOwnProperty("value"))&&ve&&Be.absorbOptions(ve.options),J.set(o,Be),ve||(ve=E_),Be.value!==Yy&&ve.value===Be.value){if(!function PE(c,s){const o=Object.keys(c),p=Object.keys(s);if(o.length!=p.length)return!1;for(let w=0;w<o.length;w++){const x=o[w];if(!s.hasOwnProperty(x)||c[x]!==s[x])return!1}return!0}(ve.params,Be.params)){const pr=[],mi=x.matchStyles(ve.value,ve.params,pr),Es=x.matchStyles(Be.value,Be.params,pr);pr.length?this._engine.reportError(pr):this._engine.afterFlush(()=>{Fp(s,mi),kd(s,Es)})}return}const ln=i(this._engine.playersByElement,s,[]);ln.forEach(pr=>{pr.namespaceId==this.id&&pr.triggerName==o&&pr.queued&&pr.destroy()});let On=x.matchTransition(ve.value,Be.value,s,Be.params),Hn=!1;if(!On){if(!w)return;On=x.fallbackTransition,Hn=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:s,triggerName:o,transition:On,fromState:ve,toState:Be,player:j,isFallbackTransition:Hn}),Hn||(Jl(s,k0),j.onStart(()=>{lm(s,k0)})),j.onDone(()=>{let pr=this.players.indexOf(j);pr>=0&&this.players.splice(pr,1);const mi=this._engine.playersByElement.get(s);if(mi){let Es=mi.indexOf(j);Es>=0&&mi.splice(Es,1)}}),this.players.push(j),ln.push(j),j}deregister(s){this._triggers.delete(s),this._engine.statesByElement.forEach(o=>o.delete(s)),this._elementListeners.forEach((o,p)=>{this._elementListeners.set(p,o.filter(w=>w.name!=s))})}clearElementCache(s){this._engine.statesByElement.delete(s),this._elementListeners.delete(s);const o=this._engine.playersByElement.get(s);o&&(o.forEach(p=>p.destroy()),this._engine.playersByElement.delete(s))}_signalRemovalForInnerTriggers(s,o){const p=this._engine.driver.query(s,da,!0);p.forEach(w=>{if(w[Jc])return;const x=this._engine.fetchNamespacesByElement(w);x.size?x.forEach(j=>j.triggerLeaveAnimation(w,o,!1,!0)):this.clearElementCache(w)}),this._engine.afterFlushAnimationsDone(()=>p.forEach(w=>this.clearElementCache(w)))}triggerLeaveAnimation(s,o,p,w){const x=this._engine.statesByElement.get(s),j=new Map;if(x){const J=[];if(x.forEach((ve,Be)=>{if(j.set(Be,ve.value),this._triggers.has(Be)){const xt=this.trigger(s,Be,Yy,w);xt&&J.push(xt)}}),J.length)return this._engine.markElementAsRemoved(this.id,s,!0,o,j),p&&Od(J).onDone(()=>this._engine.processLeaveNode(s)),!0}return!1}prepareLeaveAnimationListeners(s){const o=this._elementListeners.get(s),p=this._engine.statesByElement.get(s);if(o&&p){const w=new Set;o.forEach(x=>{const j=x.name;if(w.has(j))return;w.add(j);const ve=this._triggers.get(j).fallbackTransition,Be=p.get(j)||E_,xt=new Pb(Yy),Yt=new Lp(this.id,j,s);this._engine.totalQueuedPlayers++,this._queue.push({element:s,triggerName:j,transition:ve,fromState:Be,toState:xt,player:Yt,isFallbackTransition:!0})})}}removeNode(s,o){const p=this._engine;if(s.childElementCount&&this._signalRemovalForInnerTriggers(s,o),this.triggerLeaveAnimation(s,o,!0))return;let w=!1;if(p.totalAnimations){const x=p.players.length?p.playersByQueriedElement.get(s):[];if(x&&x.length)w=!0;else{let j=s;for(;j=j.parentNode;)if(p.statesByElement.get(j)){w=!0;break}}}if(this.prepareLeaveAnimationListeners(s),w)p.markElementAsRemoved(this.id,s,!1,o);else{const x=s[Jc];(!x||x===Mb)&&(p.afterFlush(()=>this.clearElementCache(s)),p.destroyInnerAnimations(s),p._onRemovalComplete(s,o))}}insertNode(s,o){Jl(s,this._hostClassName)}drainQueuedTransitions(s){const o=[];return this._queue.forEach(p=>{const w=p.player;if(w.destroyed)return;const x=p.element,j=this._elementListeners.get(x);j&&j.forEach(J=>{if(J.name==p.triggerName){const ve=im(x,p.triggerName,p.fromState.value,p.toState.value);ve._data=s,rm(p.player,J.phase,ve,J.callback)}}),w.markedForDestroy?this._engine.afterFlush(()=>{w.destroy()}):o.push(p)}),this._queue=[],o.sort((p,w)=>{const x=p.transition.ast.depCount,j=w.transition.ast.depCount;return 0==x||0==j?x-j:this._engine.driver.containsElement(p.element,w.element)?1:-1})}destroy(s){this.players.forEach(o=>o.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,s)}elementContainsData(s){let o=!1;return this._elementListeners.has(s)&&(o=!0),o=!!this._queue.find(p=>p.element===s)||o,o}}class xE{_onRemovalComplete(s,o){this.onRemovalComplete(s,o)}constructor(s,o,p){this.bodyNode=s,this.driver=o,this._normalizer=p,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(w,x)=>{}}get queuedPlayers(){const s=[];return this._namespaceList.forEach(o=>{o.players.forEach(p=>{p.queued&&s.push(p)})}),s}createNamespace(s,o){const p=new AE(s,o,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,o)?this._balanceNamespaceList(p,o):(this.newHostElements.set(o,p),this.collectEnterElement(o)),this._namespaceLookup[s]=p}_balanceNamespaceList(s,o){const p=this._namespaceList,w=this.namespacesByHostElement;if(p.length-1>=0){let j=!1,J=this.driver.getParentElement(o);for(;J;){const ve=w.get(J);if(ve){const Be=p.indexOf(ve);p.splice(Be+1,0,s),j=!0;break}J=this.driver.getParentElement(J)}j||p.unshift(s)}else p.push(s);return w.set(o,s),s}register(s,o){let p=this._namespaceLookup[s];return p||(p=this.createNamespace(s,o)),p}registerTrigger(s,o,p){let w=this._namespaceLookup[s];w&&w.register(o,p)&&this.totalAnimations++}destroy(s,o){if(!s)return;const p=this._fetchNamespace(s);this.afterFlush(()=>{this.namespacesByHostElement.delete(p.hostElement),delete this._namespaceLookup[s];const w=this._namespaceList.indexOf(p);w>=0&&this._namespaceList.splice(w,1)}),this.afterFlushAnimationsDone(()=>p.destroy(o))}_fetchNamespace(s){return this._namespaceLookup[s]}fetchNamespacesByElement(s){const o=new Set,p=this.statesByElement.get(s);if(p)for(let w of p.values())if(w.namespaceId){const x=this._fetchNamespace(w.namespaceId);x&&o.add(x)}return o}trigger(s,o,p,w){if(w_(o)){const x=this._fetchNamespace(s);if(x)return x.trigger(o,p,w),!0}return!1}insertNode(s,o,p,w){if(!w_(o))return;const x=o[Jc];if(x&&x.setForRemoval){x.setForRemoval=!1,x.setForMove=!0;const j=this.collectedLeaveElements.indexOf(o);j>=0&&this.collectedLeaveElements.splice(j,1)}if(s){const j=this._fetchNamespace(s);j&&j.insertNode(o,p)}w&&this.collectEnterElement(o)}collectEnterElement(s){this.collectedEnterElements.push(s)}markElementAsDisabled(s,o){o?this.disabledNodes.has(s)||(this.disabledNodes.add(s),Jl(s,N0)):this.disabledNodes.has(s)&&(this.disabledNodes.delete(s),lm(s,N0))}removeNode(s,o,p,w){if(w_(o)){const x=s?this._fetchNamespace(s):null;if(x?x.removeNode(o,w):this.markElementAsRemoved(s,o,!1,w),p){const j=this.namespacesByHostElement.get(o);j&&j.id!==s&&j.removeNode(o,w)}}else this._onRemovalComplete(o,w)}markElementAsRemoved(s,o,p,w,x){this.collectedLeaveElements.push(o),o[Jc]={namespaceId:s,setForRemoval:w,hasAnimation:p,removedBeforeQueried:!1,previousTriggersValues:x}}listen(s,o,p,w,x){return w_(o)?this._fetchNamespace(s).listen(o,p,w,x):()=>{}}_buildInstruction(s,o,p,w,x){return s.transition.build(this.driver,s.element,s.fromState.value,s.toState.value,p,w,s.fromState.options,s.toState.options,o,x)}destroyInnerAnimations(s){let o=this.driver.query(s,da,!0);o.forEach(p=>this.destroyActiveAnimationsForElement(p)),0!=this.playersByQueriedElement.size&&(o=this.driver.query(s,rl,!0),o.forEach(p=>this.finishActiveQueriedAnimationOnElement(p)))}destroyActiveAnimationsForElement(s){const o=this.playersByElement.get(s);o&&o.forEach(p=>{p.queued?p.markedForDestroy=!0:p.destroy()})}finishActiveQueriedAnimationOnElement(s){const o=this.playersByQueriedElement.get(s);o&&o.forEach(p=>p.finish())}whenRenderingDone(){return new Promise(s=>{if(this.players.length)return Od(this.players).onDone(()=>s());s()})}processLeaveNode(s){var o;const p=s[Jc];if(p&&p.setForRemoval){if(s[Jc]=Mb,p.namespaceId){this.destroyInnerAnimations(s);const w=this._fetchNamespace(p.namespaceId);w&&w.clearElementCache(s)}this._onRemovalComplete(s,p.setForRemoval)}null!==(o=s.classList)&&void 0!==o&&o.contains(N0)&&this.markElementAsDisabled(s,!1),this.driver.query(s,".ng-animate-disabled",!0).forEach(w=>{this.markElementAsDisabled(w,!1)})}flush(s=-1){let o=[];if(this.newHostElements.size&&(this.newHostElements.forEach((p,w)=>this._balanceNamespaceList(p,w)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let p=0;p<this.collectedEnterElements.length;p++)Jl(this.collectedEnterElements[p],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const p=[];try{o=this._flushAnimations(p,s)}finally{for(let w=0;w<p.length;w++)p[w]()}}else for(let p=0;p<this.collectedLeaveElements.length;p++)this.processLeaveNode(this.collectedLeaveElements[p]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(p=>p()),this._flushFns=[],this._whenQuietFns.length){const p=this._whenQuietFns;this._whenQuietFns=[],o.length?Od(o).onDone(()=>{p.forEach(w=>w())}):p.forEach(w=>w())}}reportError(s){throw function c_(c){return new _.vHH(3402,!1)}()}_flushAnimations(s,o){const p=new Hy,w=[],x=new Map,j=[],J=new Map,ve=new Map,Be=new Map,xt=new Set;this.disabledNodes.forEach(Ii=>{xt.add(Ii);const Oi=this.driver.query(Ii,".ng-animate-queued",!0);for(let Ui=0;Ui<Oi.length;Ui++)xt.add(Oi[Ui])});const Yt=this.bodyNode,ln=Array.from(this.statesByElement.keys()),On=Nb(ln,this.collectedEnterElements),Hn=new Map;let pr=0;On.forEach((Ii,Oi)=>{const Ui=Hs+pr++;Hn.set(Oi,Ui),Ii.forEach(Zs=>Jl(Zs,Ui))});const mi=[],Es=new Set,wo=new Set;for(let Ii=0;Ii<this.collectedLeaveElements.length;Ii++){const Oi=this.collectedLeaveElements[Ii],Ui=Oi[Jc];Ui&&Ui.setForRemoval&&(mi.push(Oi),Es.add(Oi),Ui.hasAnimation?this.driver.query(Oi,".ng-star-inserted",!0).forEach(Zs=>Es.add(Zs)):wo.add(Oi))}const Oa=new Map,Ha=Nb(ln,Array.from(Es));Ha.forEach((Ii,Oi)=>{const Ui=fs+pr++;Oa.set(Oi,Ui),Ii.forEach(Zs=>Jl(Zs,Ui))}),s.push(()=>{On.forEach((Ii,Oi)=>{const Ui=Hn.get(Oi);Ii.forEach(Zs=>lm(Zs,Ui))}),Ha.forEach((Ii,Oi)=>{const Ui=Oa.get(Oi);Ii.forEach(Zs=>lm(Zs,Ui))}),mi.forEach(Ii=>{this.processLeaveNode(Ii)})});const $p=[],Pf=[];for(let Ii=this._namespaceList.length-1;Ii>=0;Ii--)this._namespaceList[Ii].drainQueuedTransitions(o).forEach(Ui=>{const Zs=Ui.player,Aa=Ui.element;if($p.push(Zs),this.collectedEnterElements.length){const Al=Aa[Jc];if(Al&&Al.setForMove){if(Al.previousTriggersValues&&Al.previousTriggersValues.has(Ui.triggerName)){const Nu=Al.previousTriggersValues.get(Ui.triggerName),nu=this.statesByElement.get(Ui.element);if(nu&&nu.has(Ui.triggerName)){const um=nu.get(Ui.triggerName);um.value=Nu,nu.set(Ui.triggerName,um)}}return void Zs.destroy()}}const Fd=!Yt||!this.driver.containsElement(Yt,Aa),tu=Oa.get(Aa),kh=Hn.get(Aa),xa=this._buildInstruction(Ui,p,kh,tu,Fd);if(xa.errors&&xa.errors.length)return void Pf.push(xa);if(Fd)return Zs.onStart(()=>Fp(Aa,xa.fromStyles)),Zs.onDestroy(()=>kd(Aa,xa.toStyles)),void w.push(Zs);if(Ui.isFallbackTransition)return Zs.onStart(()=>Fp(Aa,xa.fromStyles)),Zs.onDestroy(()=>kd(Aa,xa.toStyles)),void w.push(Zs);const qb=[];xa.timelines.forEach(Al=>{Al.stretchStartingKeyframe=!0,this.disabledNodes.has(Al.element)||qb.push(Al)}),xa.timelines=qb,p.append(Aa,xa.timelines),j.push({instruction:xa,player:Zs,element:Aa}),xa.queriedElements.forEach(Al=>i(J,Al,[]).push(Zs)),xa.preStyleProps.forEach((Al,Nu)=>{if(Al.size){let nu=ve.get(Nu);nu||ve.set(Nu,nu=new Set),Al.forEach((um,ru)=>nu.add(ru))}}),xa.postStyleProps.forEach((Al,Nu)=>{let nu=Be.get(Nu);nu||Be.set(Nu,nu=new Set),Al.forEach((um,ru)=>nu.add(ru))})});if(Pf.length){const Ii=[];Pf.forEach(Oi=>{Ii.push(function E0(c,s){return new _.vHH(3505,!1)}())}),$p.forEach(Oi=>Oi.destroy()),this.reportError(Ii)}const ec=new Map,eu=new Map;j.forEach(Ii=>{const Oi=Ii.element;p.has(Oi)&&(eu.set(Oi,Oi),this._beforeAnimationBuild(Ii.player.namespaceId,Ii.instruction,ec))}),w.forEach(Ii=>{const Oi=Ii.element;this._getPreviousPlayers(Oi,!1,Ii.namespaceId,Ii.triggerName,null).forEach(Zs=>{i(ec,Oi,[]).push(Zs),Zs.destroy()})});const I_=mi.filter(Ii=>$b(Ii,ve,Be)),ku=new Map;F0(ku,this.driver,wo,Be,wc).forEach(Ii=>{$b(Ii,ve,Be)&&I_.push(Ii)});const Qy=new Map;On.forEach((Ii,Oi)=>{F0(Qy,this.driver,new Set(Ii),ve,Ny)}),I_.forEach(Ii=>{var Oi,Ui;const Zs=ku.get(Ii),Aa=Qy.get(Ii);ku.set(Ii,new Map([...Array.from(null!==(Oi=null==Zs?void 0:Zs.entries())&&void 0!==Oi?Oi:[]),...Array.from(null!==(Ui=null==Aa?void 0:Aa.entries())&&void 0!==Ui?Ui:[])]))});const Jy=[],Nd=[],H0={};j.forEach(Ii=>{const{element:Oi,player:Ui,instruction:Zs}=Ii;if(p.has(Oi)){if(xt.has(Oi))return Ui.onDestroy(()=>kd(Oi,Zs.toStyles)),Ui.disabled=!0,Ui.overrideTotalTime(Zs.totalTime),void w.push(Ui);let Aa=H0;if(eu.size>1){let tu=Oi;const kh=[];for(;tu=tu.parentNode;){const xa=eu.get(tu);if(xa){Aa=xa;break}kh.push(tu)}kh.forEach(xa=>eu.set(xa,Aa))}const Fd=this._buildAnimation(Ui.namespaceId,Zs,ec,x,Qy,ku);if(Ui.setRealPlayer(Fd),Aa===H0)Jy.push(Ui);else{const tu=this.playersByElement.get(Aa);tu&&tu.length&&(Ui.parentPlayer=Od(tu)),w.push(Ui)}}else Fp(Oi,Zs.fromStyles),Ui.onDestroy(()=>kd(Oi,Zs.toStyles)),Nd.push(Ui),xt.has(Oi)&&w.push(Ui)}),Nd.forEach(Ii=>{const Oi=x.get(Ii.element);if(Oi&&Oi.length){const Ui=Od(Oi);Ii.setRealPlayer(Ui)}}),w.forEach(Ii=>{Ii.parentPlayer?Ii.syncPlayerEvents(Ii.parentPlayer):Ii.destroy()});for(let Ii=0;Ii<mi.length;Ii++){const Oi=mi[Ii],Ui=Oi[Jc];if(lm(Oi,fs),Ui&&Ui.hasAnimation)continue;let Zs=[];if(J.size){let Fd=J.get(Oi);Fd&&Fd.length&&Zs.push(...Fd);let tu=this.driver.query(Oi,rl,!0);for(let kh=0;kh<tu.length;kh++){let xa=J.get(tu[kh]);xa&&xa.length&&Zs.push(...xa)}}const Aa=Zs.filter(Fd=>!Fd.destroyed);Aa.length?Fb(this,Oi,Aa):this.processLeaveNode(Oi)}return mi.length=0,Jy.forEach(Ii=>{this.players.push(Ii),Ii.onDone(()=>{Ii.destroy();const Oi=this.players.indexOf(Ii);this.players.splice(Oi,1)}),Ii.play()}),Jy}elementContainsData(s,o){let p=!1;const w=o[Jc];return w&&w.setForRemoval&&(p=!0),this.playersByElement.has(o)&&(p=!0),this.playersByQueriedElement.has(o)&&(p=!0),this.statesByElement.has(o)&&(p=!0),this._fetchNamespace(s).elementContainsData(o)||p}afterFlush(s){this._flushFns.push(s)}afterFlushAnimationsDone(s){this._whenQuietFns.push(s)}_getPreviousPlayers(s,o,p,w,x){let j=[];if(o){const J=this.playersByQueriedElement.get(s);J&&(j=J)}else{const J=this.playersByElement.get(s);if(J){const ve=!x||x==Yy;J.forEach(Be=>{Be.queued||!ve&&Be.triggerName!=w||j.push(Be)})}}return(p||w)&&(j=j.filter(J=>!(p&&p!=J.namespaceId||w&&w!=J.triggerName))),j}_beforeAnimationBuild(s,o,p){const x=o.element,j=o.isRemovalTransition?void 0:s,J=o.isRemovalTransition?void 0:o.triggerName;for(const ve of o.timelines){const Be=ve.element,xt=Be!==x,Yt=i(p,Be,[]);this._getPreviousPlayers(Be,xt,j,J,o.toState).forEach(On=>{const Hn=On.getRealPlayer();Hn.beforeDestroy&&Hn.beforeDestroy(),On.destroy(),Yt.push(On)})}Fp(x,o.fromStyles)}_buildAnimation(s,o,p,w,x,j){const J=o.triggerName,ve=o.element,Be=[],xt=new Set,Yt=new Set,ln=o.timelines.map(Hn=>{const pr=Hn.element;xt.add(pr);const mi=pr[Jc];if(mi&&mi.removedBeforeQueried)return new nl(Hn.duration,Hn.delay);const Es=pr!==ve,wo=function Lb(c){const s=[];return Bb(c,s),s}((p.get(pr)||SE).map(ec=>ec.getRealPlayer())).filter(ec=>!!ec.element&&ec.element===pr),Oa=x.get(pr),Ha=j.get(pr),$p=u_(0,this._normalizer,0,Hn.keyframes,Oa,Ha),Pf=this._buildPlayer(Hn,$p,wo);if(Hn.subTimeline&&w&&Yt.add(pr),Es){const ec=new Lp(s,J,pr);ec.setRealPlayer(Pf),Be.push(ec)}return Pf});Be.forEach(Hn=>{i(this.playersByQueriedElement,Hn.element,[]).push(Hn),Hn.onDone(()=>function ME(c,s,o){let p=c.get(s);if(p){if(p.length){const w=p.indexOf(o);p.splice(w,1)}0==p.length&&c.delete(s)}return p}(this.playersByQueriedElement,Hn.element,Hn))}),xt.forEach(Hn=>Jl(Hn,Xo));const On=Od(ln);return On.onDestroy(()=>{xt.forEach(Hn=>lm(Hn,Xo)),kd(ve,o.toStyles)}),Yt.forEach(Hn=>{i(w,Hn,[]).push(On)}),On}_buildPlayer(s,o,p){return o.length>0?this.driver.animate(s.element,o,s.duration,s.delay,s.easing,p):new nl(s.duration,s.delay)}}class Lp{constructor(s,o,p){this.namespaceId=s,this.triggerName=o,this.element=p,this._player=new nl,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(s){this._containsRealPlayer||(this._player=s,this._queuedCallbacks.forEach((o,p)=>{o.forEach(w=>rm(s,p,void 0,w))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(s.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(s){this.totalTime=s}syncPlayerEvents(s){const o=this._player;o.triggerCallback&&s.onStart(()=>o.triggerCallback("start")),s.onDone(()=>this.finish()),s.onDestroy(()=>this.destroy())}_queueEvent(s,o){i(this._queuedCallbacks,s,[]).push(o)}onDone(s){this.queued&&this._queueEvent("done",s),this._player.onDone(s)}onStart(s){this.queued&&this._queueEvent("start",s),this._player.onStart(s)}onDestroy(s){this.queued&&this._queueEvent("destroy",s),this._player.onDestroy(s)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(s){this.queued||this._player.setPosition(s)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(s){const o=this._player;o.triggerCallback&&o.triggerCallback(s)}}function w_(c){return c&&1===c.nodeType}function kb(c,s){const o=c.style.display;return c.style.display=null!=s?s:"none",o}function F0(c,s,o,p,w){const x=[];o.forEach(ve=>x.push(kb(ve)));const j=[];p.forEach((ve,Be)=>{const xt=new Map;ve.forEach(Yt=>{const ln=s.computeStyle(Be,Yt,w);xt.set(Yt,ln),(!ln||0==ln.length)&&(Be[Jc]=TE,j.push(Be))}),c.set(Be,xt)});let J=0;return o.forEach(ve=>kb(ve,x[J++])),j}function Nb(c,s){const o=new Map;if(c.forEach(J=>o.set(J,[])),0==s.length)return o;const p=1,w=new Set(s),x=new Map;function j(J){if(!J)return p;let ve=x.get(J);if(ve)return ve;const Be=J.parentNode;return ve=o.has(Be)?Be:w.has(Be)?p:j(Be),x.set(J,ve),ve}return s.forEach(J=>{const ve=j(J);ve!==p&&o.get(ve).push(J)}),o}function Jl(c,s){var o;null===(o=c.classList)||void 0===o||o.add(s)}function lm(c,s){var o;null===(o=c.classList)||void 0===o||o.remove(s)}function Fb(c,s,o){Od(o).onDone(()=>c.processLeaveNode(s))}function Bb(c,s){for(let o=0;o<c.length;o++){const p=c[o];p instanceof Pd?Bb(p.players,s):s.push(p)}}function $b(c,s,o){const p=o.get(c);if(!p)return!1;let w=s.get(c);return w?p.forEach(x=>w.add(x)):s.set(c,p),o.delete(c),!0}class cm{constructor(s,o,p){this.bodyNode=s,this._driver=o,this._normalizer=p,this._triggerCache={},this.onRemovalComplete=(w,x)=>{},this._transitionEngine=new xE(s,o,p),this._timelineEngine=new Mw(s,o,p),this._transitionEngine.onRemovalComplete=(w,x)=>this.onRemovalComplete(w,x)}registerTrigger(s,o,p,w,x){const j=s+"-"+w;let J=this._triggerCache[j];if(!J){const ve=[],xt=S0(this._driver,x,ve,[]);if(ve.length)throw function v0(c,s){return new _.vHH(3404,!1)}();J=function wE(c,s,o){return new IE(c,s,o)}(w,xt,this._normalizer),this._triggerCache[j]=J}this._transitionEngine.registerTrigger(o,w,J)}register(s,o){this._transitionEngine.register(s,o)}destroy(s,o){this._transitionEngine.destroy(s,o)}onInsert(s,o,p,w){this._transitionEngine.insertNode(s,o,p,w)}onRemove(s,o,p,w){this._transitionEngine.removeNode(s,o,w||!1,p)}disableAnimations(s,o){this._transitionEngine.markElementAsDisabled(s,o)}process(s,o,p,w){if("@"==p.charAt(0)){const[x,j]=e(p);this._timelineEngine.command(x,o,j,w)}else this._transitionEngine.trigger(s,o,p,w)}listen(s,o,p,w,x){if("@"==p.charAt(0)){const[j,J]=e(p);return this._timelineEngine.listen(j,o,J,x)}return this._transitionEngine.listen(s,o,p,w,x)}flush(s=-1){this._transitionEngine.flush(s)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let Vb=(()=>{class c{constructor(o,p,w){this._element=o,this._startStyles=p,this._endStyles=w,this._state=0;let x=c.initialStylesByElement.get(o);x||c.initialStylesByElement.set(o,x=new Map),this._initialStyles=x}start(){this._state<1&&(this._startStyles&&kd(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(kd(this._element,this._initialStyles),this._endStyles&&(kd(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(c.initialStylesByElement.delete(this._element),this._startStyles&&(Fp(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Fp(this._element,this._endStyles),this._endStyles=null),kd(this._element,this._initialStyles),this._state=3)}}return c.initialStylesByElement=new WeakMap,c})();function L0(c){let s=null;return c.forEach((o,p)=>{(function OE(c){return"display"===c||"position"===c})(p)&&(s=s||new Map,s.set(p,o))}),s}class Ub{constructor(s,o,p,w){this.element=s,this.keyframes=o,this.options=p,this._specialStyles=w,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=p.duration,this._delay=p.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(s=>s()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const s=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,s,this.options),this._finalKeyframe=s.length?s[s.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(s){const o=[];return s.forEach(p=>{o.push(Object.fromEntries(p))}),o}_triggerWebAnimation(s,o,p){return s.animate(this._convertKeyframesToObject(o),p)}onStart(s){this._originalOnStartFns.push(s),this._onStartFns.push(s)}onDone(s){this._originalOnDoneFns.push(s),this._onDoneFns.push(s)}onDestroy(s){this._onDestroyFns.push(s)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(s=>s()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(s=>s()),this._onDestroyFns=[])}setPosition(s){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=s*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const s=new Map;this.hasStarted()&&this._finalKeyframe.forEach((p,w)=>{"offset"!==w&&s.set(w,this._finished?p:C0(this.element,w))}),this.currentSnapshot=s}triggerCallback(s){const o="start"===s?this._onStartFns:this._onDoneFns;o.forEach(p=>p()),o.length=0}}class kE{validateStyleProperty(s){return!0}validateAnimatableStyleProperty(s){return!0}matchesElement(s,o){return!1}containsElement(s,o){return He(s,o)}getParentElement(s){return l(s)}query(s,o,p){return St(s,o,p)}computeStyle(s,o,p){return window.getComputedStyle(s)[o]}animate(s,o,p,w,x,j=[]){const ve={duration:p,delay:w,fill:0==w?"both":"forwards"};x&&(ve.easing=x);const Be=new Map,xt=j.filter(On=>On instanceof Ub);(function _b(c,s){return 0===c||0===s})(p,w)&&xt.forEach(On=>{On.currentSnapshot.forEach((Hn,pr)=>Be.set(pr,Hn))});let Yt=function aE(c){return c.length?c[0]instanceof Map?c:c.map(s=>gb(s)):[]}(o).map(On=>xf(On));Yt=function bb(c,s,o){if(o.size&&s.length){let p=s[0],w=[];if(o.forEach((x,j)=>{p.has(j)||w.push(j),p.set(j,x)}),w.length)for(let x=1;x<s.length;x++){let j=s[x];w.forEach(J=>j.set(J,C0(c,J)))}}return s}(s,Yt,Be);const ln=function RE(c,s){let o=null,p=null;return Array.isArray(s)&&s.length?(o=L0(s[0]),s.length>1&&(p=L0(s[s.length-1]))):s instanceof Map&&(o=L0(s)),o||p?new Vb(c,o,p):null}(s,Yt);return new Ub(s,Yt,ve,ln)}}let NE=(()=>{class c extends Oy{constructor(o,p){super(),this._nextAnimationId=0,this._renderer=o.createRenderer(p.body,{id:"0",encapsulation:_.ifc.None,styles:[],data:{animation:[]}})}build(o){const p=this._nextAnimationId.toString();this._nextAnimationId++;const w=Array.isArray(o)?Np(o):o;return jb(this._renderer,null,p,"register",[w]),new FE(p,this._renderer)}}return c.\u0275fac=function(o){return new(o||c)(_.LFG(_.FYo),_.LFG(Le.K0))},c.\u0275prov=_.Yz7({token:c,factory:c.\u0275fac}),c})();class FE extends ky{constructor(s,o){super(),this._id=s,this._renderer=o}create(s,o){return new LE(this._id,s,o||{},this._renderer)}}class LE{constructor(s,o,p,w){this.id=s,this.element=o,this._renderer=w,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",p)}_listen(s,o){return this._renderer.listen(this.element,`@@${this.id}:${s}`,o)}_command(s,...o){return jb(this._renderer,this.element,this.id,s,o)}onDone(s){this._listen("done",s)}onStart(s){this._listen("start",s)}onDestroy(s){this._listen("destroy",s)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(s){this._command("setPosition",s)}getPosition(){var s,o;return null!==(s=null===(o=this._renderer.engine.players[+this.id])||void 0===o?void 0:o.getPosition())&&void 0!==s?s:0}}function jb(c,s,o,p,w){return c.setProperty(s,`@@${o}:${p}`,w)}const B0="@.disabled";let BE=(()=>{class c{constructor(o,p,w){this.delegate=o,this.engine=p,this._zone=w,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),p.onRemovalComplete=(x,j)=>{const J=null==j?void 0:j.parentNode(x);J&&j.removeChild(J,x)}}createRenderer(o,p){const x=this.delegate.createRenderer(o,p);if(!(o&&p&&p.data&&p.data.animation)){let xt=this._rendererCache.get(x);return xt||(xt=new zb("",x,this.engine,()=>this._rendererCache.delete(x)),this._rendererCache.set(x,xt)),xt}const j=p.id,J=p.id+"-"+this._currentId;this._currentId++,this.engine.register(J,o);const ve=xt=>{Array.isArray(xt)?xt.forEach(ve):this.engine.registerTrigger(j,J,o,xt.name,xt)};return p.data.animation.forEach(ve),new Hb(this,J,x,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(o,p,w){o>=0&&o<this._microtaskId?this._zone.run(()=>p(w)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(x=>{const[j,J]=x;j(J)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([p,w]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return c.\u0275fac=function(o){return new(o||c)(_.LFG(_.FYo),_.LFG(cm),_.LFG(_.R0b))},c.\u0275prov=_.Yz7({token:c,factory:c.\u0275fac}),c})();class zb{constructor(s,o,p,w){this.namespaceId=s,this.delegate=o,this.engine=p,this._onDestroy=w,this.destroyNode=this.delegate.destroyNode?x=>o.destroyNode(x):null}get data(){return this.delegate.data}destroy(){var s;this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy(),null===(s=this._onDestroy)||void 0===s||s.call(this)}createElement(s,o){return this.delegate.createElement(s,o)}createComment(s){return this.delegate.createComment(s)}createText(s){return this.delegate.createText(s)}appendChild(s,o){this.delegate.appendChild(s,o),this.engine.onInsert(this.namespaceId,o,s,!1)}insertBefore(s,o,p,w=!0){this.delegate.insertBefore(s,o,p),this.engine.onInsert(this.namespaceId,o,s,w)}removeChild(s,o,p){this.engine.onRemove(this.namespaceId,o,this.delegate,p)}selectRootElement(s,o){return this.delegate.selectRootElement(s,o)}parentNode(s){return this.delegate.parentNode(s)}nextSibling(s){return this.delegate.nextSibling(s)}setAttribute(s,o,p,w){this.delegate.setAttribute(s,o,p,w)}removeAttribute(s,o,p){this.delegate.removeAttribute(s,o,p)}addClass(s,o){this.delegate.addClass(s,o)}removeClass(s,o){this.delegate.removeClass(s,o)}setStyle(s,o,p,w){this.delegate.setStyle(s,o,p,w)}removeStyle(s,o,p){this.delegate.removeStyle(s,o,p)}setProperty(s,o,p){"@"==o.charAt(0)&&o==B0?this.disableAnimations(s,!!p):this.delegate.setProperty(s,o,p)}setValue(s,o){this.delegate.setValue(s,o)}listen(s,o,p){return this.delegate.listen(s,o,p)}disableAnimations(s,o){this.engine.disableAnimations(s,o)}}class Hb extends zb{constructor(s,o,p,w,x){super(o,p,w,x),this.factory=s,this.namespaceId=o}setProperty(s,o,p){"@"==o.charAt(0)?"."==o.charAt(1)&&o==B0?this.disableAnimations(s,p=void 0===p||!!p):this.engine.process(this.namespaceId,s,o.slice(1),p):this.delegate.setProperty(s,o,p)}listen(s,o,p){if("@"==o.charAt(0)){const w=function $E(c){switch(c){case"body":return document.body;case"document":return document;case"window":return window;default:return c}}(s);let x=o.slice(1),j="";return"@"!=x.charAt(0)&&([x,j]=function VE(c){const s=c.indexOf(".");return[c.substring(0,s),c.slice(s+1)]}(x)),this.engine.listen(this.namespaceId,w,x,j,J=>{this.factory.scheduleListenerCallback(J._data||-1,p,J)})}return this.delegate.listen(s,o,p)}}let UE=(()=>{class c extends cm{constructor(o,p,w,x){super(o.body,p,w)}ngOnDestroy(){this.flush()}}return c.\u0275fac=function(o){return new(o||c)(_.LFG(Le.K0),_.LFG(fr),_.LFG(P0),_.LFG(_.z2F))},c.\u0275prov=_.Yz7({token:c,factory:c.\u0275fac}),c})();const U0=[{provide:Oy,useClass:NE},{provide:P0,useFactory:function $0(){return new _E}},{provide:cm,useClass:UE},{provide:_.FYo,useFactory:function V0(c,s,o){return new BE(c,s,o)},deps:[h.se,cm,_.R0b]}],Zy=[{provide:fr,useFactory:()=>new kE},{provide:_.QbO,useValue:"BrowserAnimations"},...U0],Wb=[{provide:fr,useClass:Pn},{provide:_.QbO,useValue:"NoopAnimations"},...U0];let jE=(()=>{class c{static withConfig(o){return{ngModule:c,providers:o.disableAnimations?Wb:Zy}}}return c.\u0275fac=function(o){return new(o||c)},c.\u0275mod=_.oAB({type:c}),c.\u0275inj=_.cJS({providers:Zy,imports:[h.b2]}),c})();var Bp=H(7246);let Kb=(()=>{class c{constructor(o){this.objFirebase=o}TraerUsuarios(){return this.usuariosFirebase=this.objFirebase.collection("usuarios"),this.usuariosFirebase.valueChanges()}}return c.\u0275fac=function(o){return new(o||c)(_.LFG(Cf.ST))},c.\u0275prov=_.Yz7({token:c,factory:c.\u0275fac}),c})();var HE=H(2110),WE=H(5030),j0=H(7622),z0=H(8490);let GE=(()=>{class c{constructor(o){this.camera=o,console.log("Hello CamaraProvider Provider")}SacarFoto(){this.camera.getPicture({quality:70,destinationType:this.camera.DestinationType.FILE_URI,encodingType:this.camera.EncodingType.JPEG,mediaType:this.camera.MediaType.PICTURE}).then(p=>{this.miFoto="data:image/jpeg;base64,"+p},p=>{})}}return c.\u0275fac=function(o){return new(o||c)(_.LFG(z0.V1))},c.\u0275prov=_.Yz7({token:c,factory:c.\u0275fac}),c})(),Yb=(()=>{class c{}return c.\u0275fac=function(o){return new(o||c)},c.\u0275mod=_.oAB({type:c,bootstrap:[rt]}),c.\u0275inj=_.cJS({providers:[Qe,Pe,GE,HE.O,Kb,j0.e,Cf.yb,{provide:_e.wN,useClass:Oe.r4}],imports:[h.b2,Bo,Oe.Pc.forRoot(),su,WE.u5,Ia.hO.initializeApp(fn_firebase),Yo.ww,Gg,e_,Cf.yb,jE,t_.TE,WE.UX,(0,Hv.hX)(()=>(0,Hv.ZF)(fn_firebase)),(0,Bp.AR)(()=>(0,Bp.v0)()),(0,Ze.Cm)(()=>(0,Ze.ad)())]}),c})();(0,_.G48)(),h.q6().bootstrapModule(Yb).catch(c=>console.log(c))},2110:(Kn,Rt,H)=>{"use strict";H.d(Rt,{O:()=>Ze});var h=H(5861),_=H(9260),_e=H(2223),Oe=H(1085);let Ze=(()=>{class Ge{constructor(Pe){this.objFirebase=Pe,this.usuario=JSON.parse(sessionStorage.getItem("usuario"))}TraerFotosFeas(){return this.fotosFirebase=this.objFirebase.collection("feas"),this.fotosFirebase.valueChanges()}TraerFotosLindas(){return this.fotosFirebase=this.objFirebase.collection("lindas"),this.fotosFirebase.valueChanges()}GuardarData(Pe,Qe){var Le=this;return(0,h.Z)(function*(){let Me=Le.objFirebase.createId(),rt={id:Me,nombre:Pe.nombre,path:Pe.path,usuario:Pe.usuario,positivo:0,negativo:0};Le.objFirebase.collection(Qe).doc(Me).set(rt).then(xe=>{console.log(xe)}).catch(xe=>{console.log(xe)})})()}TraerUrl(Pe){let Qe;return _.Z.storage().ref().child(Pe).getDownloadURL().then(Le=>{Qe=Le,console.log(Le)}).catch(Le=>{console.log(Le)}),Qe}VotarNegativo(Pe,Qe){console.log(Pe),Pe.negativo++,this.objFirebase.collection(Qe).doc(Pe.id).update(Pe).then(Le=>{console.log(Le)})}VotarPositivo(Pe,Qe){Pe.positivo++,console.log(Pe),this.objFirebase.collection(Qe).doc(Pe.id).update(Pe).then(Le=>{console.log(Le)})}}return Ge.\u0275fac=function(Pe){return new(Pe||Ge)(_e.LFG(Oe.ST))},Ge.\u0275prov=_e.Yz7({token:Ge,factory:Ge.\u0275fac}),Ge})()},1135:(Kn,Rt,H)=>{"use strict";H.d(Rt,{X:()=>_});var h=H(7579);class _ extends h.x{constructor(Oe){super(),this._value=Oe}get value(){return this.getValue()}_subscribe(Oe){const Ze=super._subscribe(Oe);return!Ze.closed&&Oe.next(this._value),Ze}getValue(){const{hasError:Oe,thrownError:Ze,_value:Ge}=this;if(Oe)throw Ze;return this._throwIfClosed(),Ge}next(Oe){super.next(this._value=Oe)}}},9751:(Kn,Rt,H)=>{"use strict";H.d(Rt,{y:()=>Pe});var h=H(930),_=H(727),_e=H(8822),Oe=H(9635),Ze=H(2416),Ge=H(576),Se=H(2806);let Pe=(()=>{class rt{constructor(at){at&&(this._subscribe=at)}lift(at){const pt=new rt;return pt.source=this,pt.operator=at,pt}subscribe(at,pt,Vt){const We=function Me(rt){return rt&&rt instanceof h.Lv||function Le(rt){return rt&&(0,Ge.m)(rt.next)&&(0,Ge.m)(rt.error)&&(0,Ge.m)(rt.complete)}(rt)&&(0,_.Nn)(rt)}(at)?at:new h.Hp(at,pt,Vt);return(0,Se.x)(()=>{const{operator:$e,source:kt}=this;We.add($e?$e.call(We,kt):kt?this._subscribe(We):this._trySubscribe(We))}),We}_trySubscribe(at){try{return this._subscribe(at)}catch(pt){at.error(pt)}}forEach(at,pt){return new(pt=Qe(pt))((Vt,We)=>{const $e=new h.Hp({next:kt=>{try{at(kt)}catch(Mt){We(Mt),$e.unsubscribe()}},error:We,complete:Vt});this.subscribe($e)})}_subscribe(at){var pt;return null===(pt=this.source)||void 0===pt?void 0:pt.subscribe(at)}[_e.L](){return this}pipe(...at){return(0,Oe.U)(at)(this)}toPromise(at){return new(at=Qe(at))((pt,Vt)=>{let We;this.subscribe($e=>We=$e,$e=>Vt($e),()=>pt(We))})}}return rt.create=xe=>new rt(xe),rt})();function Qe(rt){var xe;return null!==(xe=null!=rt?rt:Ze.config.Promise)&&void 0!==xe?xe:Promise}},7579:(Kn,Rt,H)=>{"use strict";H.d(Rt,{x:()=>Se});var h=H(9751),_=H(727);const Oe=(0,H(3888).d)(Qe=>function(){Qe(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Ze=H(8737),Ge=H(2806);let Se=(()=>{class Qe extends h.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(Me){const rt=new Pe(this,this);return rt.operator=Me,rt}_throwIfClosed(){if(this.closed)throw new Oe}next(Me){(0,Ge.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const rt of this.currentObservers)rt.next(Me)}})}error(Me){(0,Ge.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=Me;const{observers:rt}=this;for(;rt.length;)rt.shift().error(Me)}})}complete(){(0,Ge.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:Me}=this;for(;Me.length;)Me.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var Me;return(null===(Me=this.observers)||void 0===Me?void 0:Me.length)>0}_trySubscribe(Me){return this._throwIfClosed(),super._trySubscribe(Me)}_subscribe(Me){return this._throwIfClosed(),this._checkFinalizedStatuses(Me),this._innerSubscribe(Me)}_innerSubscribe(Me){const{hasError:rt,isStopped:xe,observers:at}=this;return rt||xe?_.Lc:(this.currentObservers=null,at.push(Me),new _.w0(()=>{this.currentObservers=null,(0,Ze.P)(at,Me)}))}_checkFinalizedStatuses(Me){const{hasError:rt,thrownError:xe,isStopped:at}=this;rt?Me.error(xe):at&&Me.complete()}asObservable(){const Me=new h.y;return Me.source=this,Me}}return Qe.create=(Le,Me)=>new Pe(Le,Me),Qe})();class Pe extends Se{constructor(Le,Me){super(),this.destination=Le,this.source=Me}next(Le){var Me,rt;null===(rt=null===(Me=this.destination)||void 0===Me?void 0:Me.next)||void 0===rt||rt.call(Me,Le)}error(Le){var Me,rt;null===(rt=null===(Me=this.destination)||void 0===Me?void 0:Me.error)||void 0===rt||rt.call(Me,Le)}complete(){var Le,Me;null===(Me=null===(Le=this.destination)||void 0===Le?void 0:Le.complete)||void 0===Me||Me.call(Le)}_subscribe(Le){var Me,rt;return null!==(rt=null===(Me=this.source)||void 0===Me?void 0:Me.subscribe(Le))&&void 0!==rt?rt:_.Lc}}},930:(Kn,Rt,H)=>{"use strict";H.d(Rt,{Hp:()=>Vt,Lv:()=>rt});var h=H(576),_=H(727),_e=H(2416),Oe=H(7849),Ze=H(5032);const Ge=Qe("C",void 0,void 0);function Qe(dt,It,Tt){return{kind:dt,value:It,error:Tt}}var Le=H(3410),Me=H(2806);class rt extends _.w0{constructor(It){super(),this.isStopped=!1,It?(this.destination=It,(0,_.Nn)(It)&&It.add(this)):this.destination=Mt}static create(It,Tt,wt){return new Vt(It,Tt,wt)}next(It){this.isStopped?kt(function Pe(dt){return Qe("N",dt,void 0)}(It),this):this._next(It)}error(It){this.isStopped?kt(function Se(dt){return Qe("E",void 0,dt)}(It),this):(this.isStopped=!0,this._error(It))}complete(){this.isStopped?kt(Ge,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(It){this.destination.next(It)}_error(It){try{this.destination.error(It)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const xe=Function.prototype.bind;function at(dt,It){return xe.call(dt,It)}class pt{constructor(It){this.partialObserver=It}next(It){const{partialObserver:Tt}=this;if(Tt.next)try{Tt.next(It)}catch(wt){We(wt)}}error(It){const{partialObserver:Tt}=this;if(Tt.error)try{Tt.error(It)}catch(wt){We(wt)}else We(It)}complete(){const{partialObserver:It}=this;if(It.complete)try{It.complete()}catch(Tt){We(Tt)}}}class Vt extends rt{constructor(It,Tt,wt){let vt;if(super(),(0,h.m)(It)||!It)vt={next:null!=It?It:void 0,error:null!=Tt?Tt:void 0,complete:null!=wt?wt:void 0};else{let nt;this&&_e.config.useDeprecatedNextContext?(nt=Object.create(It),nt.unsubscribe=()=>this.unsubscribe(),vt={next:It.next&&at(It.next,nt),error:It.error&&at(It.error,nt),complete:It.complete&&at(It.complete,nt)}):vt=It}this.destination=new pt(vt)}}function We(dt){_e.config.useDeprecatedSynchronousErrorHandling?(0,Me.O)(dt):(0,Oe.h)(dt)}function kt(dt,It){const{onStoppedNotification:Tt}=_e.config;Tt&&Le.z.setTimeout(()=>Tt(dt,It))}const Mt={closed:!0,next:Ze.Z,error:function $e(dt){throw dt},complete:Ze.Z}},727:(Kn,Rt,H)=>{"use strict";H.d(Rt,{Lc:()=>Ge,w0:()=>Ze,Nn:()=>Se});var h=H(576);const _e=(0,H(3888).d)(Qe=>function(Me){Qe(this),this.message=Me?`${Me.length} errors occurred during unsubscription:\n${Me.map((rt,xe)=>`${xe+1}) ${rt.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=Me});var Oe=H(8737);class Ze{constructor(Le){this.initialTeardown=Le,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let Le;if(!this.closed){this.closed=!0;const{_parentage:Me}=this;if(Me)if(this._parentage=null,Array.isArray(Me))for(const at of Me)at.remove(this);else Me.remove(this);const{initialTeardown:rt}=this;if((0,h.m)(rt))try{rt()}catch(at){Le=at instanceof _e?at.errors:[at]}const{_finalizers:xe}=this;if(xe){this._finalizers=null;for(const at of xe)try{Pe(at)}catch(pt){Le=null!=Le?Le:[],pt instanceof _e?Le=[...Le,...pt.errors]:Le.push(pt)}}if(Le)throw new _e(Le)}}add(Le){var Me;if(Le&&Le!==this)if(this.closed)Pe(Le);else{if(Le instanceof Ze){if(Le.closed||Le._hasParent(this))return;Le._addParent(this)}(this._finalizers=null!==(Me=this._finalizers)&&void 0!==Me?Me:[]).push(Le)}}_hasParent(Le){const{_parentage:Me}=this;return Me===Le||Array.isArray(Me)&&Me.includes(Le)}_addParent(Le){const{_parentage:Me}=this;this._parentage=Array.isArray(Me)?(Me.push(Le),Me):Me?[Me,Le]:Le}_removeParent(Le){const{_parentage:Me}=this;Me===Le?this._parentage=null:Array.isArray(Me)&&(0,Oe.P)(Me,Le)}remove(Le){const{_finalizers:Me}=this;Me&&(0,Oe.P)(Me,Le),Le instanceof Ze&&Le._removeParent(this)}}Ze.EMPTY=(()=>{const Qe=new Ze;return Qe.closed=!0,Qe})();const Ge=Ze.EMPTY;function Se(Qe){return Qe instanceof Ze||Qe&&"closed"in Qe&&(0,h.m)(Qe.remove)&&(0,h.m)(Qe.add)&&(0,h.m)(Qe.unsubscribe)}function Pe(Qe){(0,h.m)(Qe)?Qe():Qe.unsubscribe()}},2416:(Kn,Rt,H)=>{"use strict";H.d(Rt,{config:()=>h});const h={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},7272:(Kn,Rt,H)=>{"use strict";H.d(Rt,{z:()=>Ze});var h=H(8189),_e=H(7669),Oe=H(8996);function Ze(...Ge){return function _(){return(0,h.J)(1)}()((0,Oe.D)(Ge,(0,_e.yG)(Ge)))}},515:(Kn,Rt,H)=>{"use strict";H.d(Rt,{E:()=>_});const _=new(H(9751).y)(Ze=>Ze.complete())},8996:(Kn,Rt,H)=>{"use strict";H.d(Rt,{D:()=>It});var h=H(8421),_=H(5363),_e=H(9468),Ge=H(9751),Pe=H(2202),Qe=H(576),Le=H(9672);function rt(Tt,wt){if(!Tt)throw new Error("Iterable cannot be null");return new Ge.y(vt=>{(0,Le.f)(vt,wt,()=>{const nt=Tt[Symbol.asyncIterator]();(0,Le.f)(vt,wt,()=>{nt.next().then(Ht=>{Ht.done?vt.complete():vt.next(Ht.value)})},0,!0)})})}var xe=H(3670),at=H(8239),pt=H(1144),Vt=H(6495),We=H(2206),$e=H(4532),kt=H(3260);function It(Tt,wt){return wt?function dt(Tt,wt){if(null!=Tt){if((0,xe.c)(Tt))return function Oe(Tt,wt){return(0,h.Xf)(Tt).pipe((0,_e.R)(wt),(0,_.Q)(wt))}(Tt,wt);if((0,pt.z)(Tt))return function Se(Tt,wt){return new Ge.y(vt=>{let nt=0;return wt.schedule(function(){nt===Tt.length?vt.complete():(vt.next(Tt[nt++]),vt.closed||this.schedule())})})}(Tt,wt);if((0,at.t)(Tt))return function Ze(Tt,wt){return(0,h.Xf)(Tt).pipe((0,_e.R)(wt),(0,_.Q)(wt))}(Tt,wt);if((0,We.D)(Tt))return rt(Tt,wt);if((0,Vt.T)(Tt))return function Me(Tt,wt){return new Ge.y(vt=>{let nt;return(0,Le.f)(vt,wt,()=>{nt=Tt[Pe.h](),(0,Le.f)(vt,wt,()=>{let Ht,Ct;try{({value:Ht,done:Ct}=nt.next())}catch(Nt){return void vt.error(Nt)}Ct?vt.complete():vt.next(Ht)},0,!0)}),()=>(0,Qe.m)(null==nt?void 0:nt.return)&&nt.return()})}(Tt,wt);if((0,kt.L)(Tt))return function Mt(Tt,wt){return rt((0,kt.Q)(Tt),wt)}(Tt,wt)}throw(0,$e.z)(Tt)}(Tt,wt):(0,h.Xf)(Tt)}},4968:(Kn,Rt,H)=>{"use strict";H.d(Rt,{R:()=>Le});var h=H(8421),_=H(9751),_e=H(5577),Oe=H(1144),Ze=H(576),Ge=H(3268);const Se=["addListener","removeListener"],Pe=["addEventListener","removeEventListener"],Qe=["on","off"];function Le(pt,Vt,We,$e){if((0,Ze.m)(We)&&($e=We,We=void 0),$e)return Le(pt,Vt,We).pipe((0,Ge.Z)($e));const[kt,Mt]=function at(pt){return(0,Ze.m)(pt.addEventListener)&&(0,Ze.m)(pt.removeEventListener)}(pt)?Pe.map(dt=>It=>pt[dt](Vt,It,We)):function rt(pt){return(0,Ze.m)(pt.addListener)&&(0,Ze.m)(pt.removeListener)}(pt)?Se.map(Me(pt,Vt)):function xe(pt){return(0,Ze.m)(pt.on)&&(0,Ze.m)(pt.off)}(pt)?Qe.map(Me(pt,Vt)):[];if(!kt&&(0,Oe.z)(pt))return(0,_e.z)(dt=>Le(dt,Vt,We))((0,h.Xf)(pt));if(!kt)throw new TypeError("Invalid event target");return new _.y(dt=>{const It=(...Tt)=>dt.next(1<Tt.length?Tt:Tt[0]);return kt(It),()=>Mt(It)})}function Me(pt,Vt){return We=>$e=>pt[We](Vt,$e)}},8421:(Kn,Rt,H)=>{"use strict";H.d(Rt,{Xf:()=>xe});var h=H(655),_=H(1144),_e=H(8239),Oe=H(9751),Ze=H(3670),Ge=H(2206),Se=H(4532),Pe=H(6495),Qe=H(3260),Le=H(576),Me=H(7849),rt=H(8822);function xe(dt){if(dt instanceof Oe.y)return dt;if(null!=dt){if((0,Ze.c)(dt))return function at(dt){return new Oe.y(It=>{const Tt=dt[rt.L]();if((0,Le.m)(Tt.subscribe))return Tt.subscribe(It);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(dt);if((0,_.z)(dt))return function pt(dt){return new Oe.y(It=>{for(let Tt=0;Tt<dt.length&&!It.closed;Tt++)It.next(dt[Tt]);It.complete()})}(dt);if((0,_e.t)(dt))return function Vt(dt){return new Oe.y(It=>{dt.then(Tt=>{It.closed||(It.next(Tt),It.complete())},Tt=>It.error(Tt)).then(null,Me.h)})}(dt);if((0,Ge.D)(dt))return $e(dt);if((0,Pe.T)(dt))return function We(dt){return new Oe.y(It=>{for(const Tt of dt)if(It.next(Tt),It.closed)return;It.complete()})}(dt);if((0,Qe.L)(dt))return function kt(dt){return $e((0,Qe.Q)(dt))}(dt)}throw(0,Se.z)(dt)}function $e(dt){return new Oe.y(It=>{(function Mt(dt,It){var Tt,wt,vt,nt;return(0,h.mG)(this,void 0,void 0,function*(){try{for(Tt=(0,h.KL)(dt);!(wt=yield Tt.next()).done;)if(It.next(wt.value),It.closed)return}catch(Ht){vt={error:Ht}}finally{try{wt&&!wt.done&&(nt=Tt.return)&&(yield nt.call(Tt))}finally{if(vt)throw vt.error}}It.complete()})})(dt,It).catch(Tt=>It.error(Tt))})}},6451:(Kn,Rt,H)=>{"use strict";H.d(Rt,{T:()=>Ge});var h=H(8189),_=H(8421),_e=H(515),Oe=H(7669),Ze=H(8996);function Ge(...Se){const Pe=(0,Oe.yG)(Se),Qe=(0,Oe._6)(Se,1/0),Le=Se;return Le.length?1===Le.length?(0,_.Xf)(Le[0]):(0,h.J)(Qe)((0,Ze.D)(Le,Pe)):_e.E}},9646:(Kn,Rt,H)=>{"use strict";H.d(Rt,{of:()=>_e});var h=H(7669),_=H(8996);function _e(...Oe){const Ze=(0,h.yG)(Oe);return(0,_.D)(Oe,Ze)}},5403:(Kn,Rt,H)=>{"use strict";H.d(Rt,{Q:()=>_e,x:()=>_});var h=H(930);function _(Oe,Ze,Ge,Se,Pe){return new _e(Oe,Ze,Ge,Se,Pe)}class _e extends h.Lv{constructor(Ze,Ge,Se,Pe,Qe,Le){super(Ze),this.onFinalize=Qe,this.shouldUnsubscribe=Le,this._next=Ge?function(Me){try{Ge(Me)}catch(rt){Ze.error(rt)}}:super._next,this._error=Pe?function(Me){try{Pe(Me)}catch(rt){Ze.error(rt)}finally{this.unsubscribe()}}:super._error,this._complete=Se?function(){try{Se()}catch(Me){Ze.error(Me)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var Ze;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:Ge}=this;super.unsubscribe(),!Ge&&(null===(Ze=this.onFinalize)||void 0===Ze||Ze.call(this))}}}},6590:(Kn,Rt,H)=>{"use strict";H.d(Rt,{d:()=>_e});var h=H(4482),_=H(5403);function _e(Oe){return(0,h.e)((Ze,Ge)=>{let Se=!1;Ze.subscribe((0,_.x)(Ge,Pe=>{Se=!0,Ge.next(Pe)},()=>{Se||Ge.next(Oe),Ge.complete()}))})}},1884:(Kn,Rt,H)=>{"use strict";H.d(Rt,{x:()=>Oe});var h=H(4671),_=H(4482),_e=H(5403);function Oe(Ge,Se=h.y){return Ge=null!=Ge?Ge:Ze,(0,_.e)((Pe,Qe)=>{let Le,Me=!0;Pe.subscribe((0,_e.x)(Qe,rt=>{const xe=Se(rt);(Me||!Ge(Le,xe))&&(Me=!1,Le=xe,Qe.next(rt))}))})}function Ze(Ge,Se){return Ge===Se}},9300:(Kn,Rt,H)=>{"use strict";H.d(Rt,{h:()=>_e});var h=H(4482),_=H(5403);function _e(Oe,Ze){return(0,h.e)((Ge,Se)=>{let Pe=0;Ge.subscribe((0,_.x)(Se,Qe=>Oe.call(Ze,Qe,Pe++)&&Se.next(Qe)))})}},8746:(Kn,Rt,H)=>{"use strict";H.d(Rt,{x:()=>_});var h=H(4482);function _(_e){return(0,h.e)((Oe,Ze)=>{try{Oe.subscribe(Ze)}finally{Ze.add(_e)}})}},590:(Kn,Rt,H)=>{"use strict";H.d(Rt,{P:()=>Se});var h=H(6805),_=H(9300),_e=H(5698),Oe=H(6590),Ze=H(8068),Ge=H(4671);function Se(Pe,Qe){const Le=arguments.length>=2;return Me=>Me.pipe(Pe?(0,_.h)((rt,xe)=>Pe(rt,xe,Me)):Ge.y,(0,_e.q)(1),Le?(0,Oe.d)(Qe):(0,Ze.T)(()=>new h.K))}},4004:(Kn,Rt,H)=>{"use strict";H.d(Rt,{U:()=>_e});var h=H(4482),_=H(5403);function _e(Oe,Ze){return(0,h.e)((Ge,Se)=>{let Pe=0;Ge.subscribe((0,_.x)(Se,Qe=>{Se.next(Oe.call(Ze,Qe,Pe++))}))})}},8189:(Kn,Rt,H)=>{"use strict";H.d(Rt,{J:()=>_e});var h=H(5577),_=H(4671);function _e(Oe=1/0){return(0,h.z)(_.y,Oe)}},5577:(Kn,Rt,H)=>{"use strict";H.d(Rt,{z:()=>Pe});var h=H(4004),_=H(8421),_e=H(4482),Oe=H(9672),Ze=H(5403),Se=H(576);function Pe(Qe,Le,Me=1/0){return(0,Se.m)(Le)?Pe((rt,xe)=>(0,h.U)((at,pt)=>Le(rt,at,xe,pt))((0,_.Xf)(Qe(rt,xe))),Me):("number"==typeof Le&&(Me=Le),(0,_e.e)((rt,xe)=>function Ge(Qe,Le,Me,rt,xe,at,pt,Vt){const We=[];let $e=0,kt=0,Mt=!1;const dt=()=>{Mt&&!We.length&&!$e&&Le.complete()},It=wt=>$e<rt?Tt(wt):We.push(wt),Tt=wt=>{at&&Le.next(wt),$e++;let vt=!1;(0,_.Xf)(Me(wt,kt++)).subscribe((0,Ze.x)(Le,nt=>{null==xe||xe(nt),at?It(nt):Le.next(nt)},()=>{vt=!0},void 0,()=>{if(vt)try{for($e--;We.length&&$e<rt;){const nt=We.shift();pt?(0,Oe.f)(Le,pt,()=>Tt(nt)):Tt(nt)}dt()}catch(nt){Le.error(nt)}}))};return Qe.subscribe((0,Ze.x)(Le,It,()=>{Mt=!0,dt()})),()=>{null==Vt||Vt()}}(rt,xe,Qe,Me)))}},5363:(Kn,Rt,H)=>{"use strict";H.d(Rt,{Q:()=>Oe});var h=H(9672),_=H(4482),_e=H(5403);function Oe(Ze,Ge=0){return(0,_.e)((Se,Pe)=>{Se.subscribe((0,_e.x)(Pe,Qe=>(0,h.f)(Pe,Ze,()=>Pe.next(Qe),Ge),()=>(0,h.f)(Pe,Ze,()=>Pe.complete(),Ge),Qe=>(0,h.f)(Pe,Ze,()=>Pe.error(Qe),Ge)))})}},1520:(Kn,Rt,H)=>{"use strict";H.d(Rt,{G:()=>_e});var h=H(4482),_=H(5403);function _e(){return(0,h.e)((Oe,Ze)=>{let Ge,Se=!1;Oe.subscribe((0,_.x)(Ze,Pe=>{const Qe=Ge;Ge=Pe,Se&&Ze.next([Qe,Pe]),Se=!0}))})}},5026:(Kn,Rt,H)=>{"use strict";H.d(Rt,{R:()=>Oe});var h=H(4482),_=H(5403);function Oe(Ze,Ge){return(0,h.e)(function _e(Ze,Ge,Se,Pe,Qe){return(Le,Me)=>{let rt=Se,xe=Ge,at=0;Le.subscribe((0,_.x)(Me,pt=>{const Vt=at++;xe=rt?Ze(xe,pt,Vt):(rt=!0,pt),Pe&&Me.next(xe)},Qe&&(()=>{rt&&Me.next(xe),Me.complete()})))}}(Ze,Ge,arguments.length>=2,!0))}},3099:(Kn,Rt,H)=>{"use strict";H.d(Rt,{B:()=>Ze});var h=H(8421),_=H(7579),_e=H(930),Oe=H(4482);function Ze(Se={}){const{connector:Pe=(()=>new _.x),resetOnError:Qe=!0,resetOnComplete:Le=!0,resetOnRefCountZero:Me=!0}=Se;return rt=>{let xe,at,pt,Vt=0,We=!1,$e=!1;const kt=()=>{null==at||at.unsubscribe(),at=void 0},Mt=()=>{kt(),xe=pt=void 0,We=$e=!1},dt=()=>{const It=xe;Mt(),null==It||It.unsubscribe()};return(0,Oe.e)((It,Tt)=>{Vt++,!$e&&!We&&kt();const wt=pt=null!=pt?pt:Pe();Tt.add(()=>{Vt--,0===Vt&&!$e&&!We&&(at=Ge(dt,Me))}),wt.subscribe(Tt),!xe&&Vt>0&&(xe=new _e.Hp({next:vt=>wt.next(vt),error:vt=>{$e=!0,kt(),at=Ge(Mt,Qe,vt),wt.error(vt)},complete:()=>{We=!0,kt(),at=Ge(Mt,Le),wt.complete()}}),(0,h.Xf)(It).subscribe(xe))})(rt)}}function Ge(Se,Pe,...Qe){if(!0===Pe)return void Se();if(!1===Pe)return;const Le=new _e.Hp({next:()=>{Le.unsubscribe(),Se()}});return(0,h.Xf)(Pe(...Qe)).subscribe(Le)}},3151:(Kn,Rt,H)=>{"use strict";H.d(Rt,{d:()=>Ze});var h=H(7579),_=H(6063);class _e extends h.x{constructor(Se=1/0,Pe=1/0,Qe=_.l){super(),this._bufferSize=Se,this._windowTime=Pe,this._timestampProvider=Qe,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=Pe===1/0,this._bufferSize=Math.max(1,Se),this._windowTime=Math.max(1,Pe)}next(Se){const{isStopped:Pe,_buffer:Qe,_infiniteTimeWindow:Le,_timestampProvider:Me,_windowTime:rt}=this;Pe||(Qe.push(Se),!Le&&Qe.push(Me.now()+rt)),this._trimBuffer(),super.next(Se)}_subscribe(Se){this._throwIfClosed(),this._trimBuffer();const Pe=this._innerSubscribe(Se),{_infiniteTimeWindow:Qe,_buffer:Le}=this,Me=Le.slice();for(let rt=0;rt<Me.length&&!Se.closed;rt+=Qe?1:2)Se.next(Me[rt]);return this._checkFinalizedStatuses(Se),Pe}_trimBuffer(){const{_bufferSize:Se,_timestampProvider:Pe,_buffer:Qe,_infiniteTimeWindow:Le}=this,Me=(Le?1:2)*Se;if(Se<1/0&&Me<Qe.length&&Qe.splice(0,Qe.length-Me),!Le){const rt=Pe.now();let xe=0;for(let at=1;at<Qe.length&&Qe[at]<=rt;at+=2)xe=at;xe&&Qe.splice(0,xe+1)}}}var Oe=H(3099);function Ze(Ge,Se,Pe){let Qe,Le=!1;return Ge&&"object"==typeof Ge?({bufferSize:Qe=1/0,windowTime:Se=1/0,refCount:Le=!1,scheduler:Pe}=Ge):Qe=null!=Ge?Ge:1/0,(0,Oe.B)({connector:()=>new _e(Qe,Se,Pe),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:Le})}},8675:(Kn,Rt,H)=>{"use strict";H.d(Rt,{O:()=>Oe});var h=H(7272),_=H(7669),_e=H(4482);function Oe(...Ze){const Ge=(0,_.yG)(Ze);return(0,_e.e)((Se,Pe)=>{(Ge?(0,h.z)(Ze,Se,Ge):(0,h.z)(Ze,Se)).subscribe(Pe)})}},9468:(Kn,Rt,H)=>{"use strict";H.d(Rt,{R:()=>_});var h=H(4482);function _(_e,Oe=0){return(0,h.e)((Ze,Ge)=>{Ge.add(_e.schedule(()=>Ze.subscribe(Ge),Oe))})}},3900:(Kn,Rt,H)=>{"use strict";H.d(Rt,{w:()=>Oe});var h=H(8421),_=H(4482),_e=H(5403);function Oe(Ze,Ge){return(0,_.e)((Se,Pe)=>{let Qe=null,Le=0,Me=!1;const rt=()=>Me&&!Qe&&Pe.complete();Se.subscribe((0,_e.x)(Pe,xe=>{null==Qe||Qe.unsubscribe();let at=0;const pt=Le++;(0,h.Xf)(Ze(xe,pt)).subscribe(Qe=(0,_e.x)(Pe,Vt=>Pe.next(Ge?Ge(xe,Vt,pt,at++):Vt),()=>{Qe=null,rt()}))},()=>{Me=!0,rt()}))})}},5698:(Kn,Rt,H)=>{"use strict";H.d(Rt,{q:()=>Oe});var h=H(515),_=H(4482),_e=H(5403);function Oe(Ze){return Ze<=0?()=>h.E:(0,_.e)((Ge,Se)=>{let Pe=0;Ge.subscribe((0,_e.x)(Se,Qe=>{++Pe<=Ze&&(Se.next(Qe),Ze<=Pe&&Se.complete())}))})}},8505:(Kn,Rt,H)=>{"use strict";H.d(Rt,{b:()=>Ze});var h=H(576),_=H(4482),_e=H(5403),Oe=H(4671);function Ze(Ge,Se,Pe){const Qe=(0,h.m)(Ge)||Se||Pe?{next:Ge,error:Se,complete:Pe}:Ge;return Qe?(0,_.e)((Le,Me)=>{var rt;null===(rt=Qe.subscribe)||void 0===rt||rt.call(Qe);let xe=!0;Le.subscribe((0,_e.x)(Me,at=>{var pt;null===(pt=Qe.next)||void 0===pt||pt.call(Qe,at),Me.next(at)},()=>{var at;xe=!1,null===(at=Qe.complete)||void 0===at||at.call(Qe),Me.complete()},at=>{var pt;xe=!1,null===(pt=Qe.error)||void 0===pt||pt.call(Qe,at),Me.error(at)},()=>{var at,pt;xe&&(null===(at=Qe.unsubscribe)||void 0===at||at.call(Qe)),null===(pt=Qe.finalize)||void 0===pt||pt.call(Qe)}))}):Oe.y}},8068:(Kn,Rt,H)=>{"use strict";H.d(Rt,{T:()=>Oe});var h=H(6805),_=H(4482),_e=H(5403);function Oe(Ge=Ze){return(0,_.e)((Se,Pe)=>{let Qe=!1;Se.subscribe((0,_e.x)(Pe,Le=>{Qe=!0,Pe.next(Le)},()=>Qe?Pe.complete():Pe.error(Ge())))})}function Ze(){return new h.K}},4408:(Kn,Rt,H)=>{"use strict";H.d(Rt,{o:()=>Ze});var h=H(727);class _ extends h.w0{constructor(Se,Pe){super()}schedule(Se,Pe=0){return this}}const _e={setInterval(Ge,Se,...Pe){const{delegate:Qe}=_e;return null!=Qe&&Qe.setInterval?Qe.setInterval(Ge,Se,...Pe):setInterval(Ge,Se,...Pe)},clearInterval(Ge){const{delegate:Se}=_e;return((null==Se?void 0:Se.clearInterval)||clearInterval)(Ge)},delegate:void 0};var Oe=H(8737);class Ze extends _{constructor(Se,Pe){super(Se,Pe),this.scheduler=Se,this.work=Pe,this.pending=!1}schedule(Se,Pe=0){var Qe;if(this.closed)return this;this.state=Se;const Le=this.id,Me=this.scheduler;return null!=Le&&(this.id=this.recycleAsyncId(Me,Le,Pe)),this.pending=!0,this.delay=Pe,this.id=null!==(Qe=this.id)&&void 0!==Qe?Qe:this.requestAsyncId(Me,this.id,Pe),this}requestAsyncId(Se,Pe,Qe=0){return _e.setInterval(Se.flush.bind(Se,this),Qe)}recycleAsyncId(Se,Pe,Qe=0){if(null!=Qe&&this.delay===Qe&&!1===this.pending)return Pe;null!=Pe&&_e.clearInterval(Pe)}execute(Se,Pe){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const Qe=this._execute(Se,Pe);if(Qe)return Qe;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(Se,Pe){let Le,Qe=!1;try{this.work(Se)}catch(Me){Qe=!0,Le=Me||new Error("Scheduled action threw falsy error")}if(Qe)return this.unsubscribe(),Le}unsubscribe(){if(!this.closed){const{id:Se,scheduler:Pe}=this,{actions:Qe}=Pe;this.work=this.state=this.scheduler=null,this.pending=!1,(0,Oe.P)(Qe,this),null!=Se&&(this.id=this.recycleAsyncId(Pe,Se,null)),this.delay=null,super.unsubscribe()}}}},7565:(Kn,Rt,H)=>{"use strict";H.d(Rt,{v:()=>_e});var h=H(6063);class _{constructor(Ze,Ge=_.now){this.schedulerActionCtor=Ze,this.now=Ge}schedule(Ze,Ge=0,Se){return new this.schedulerActionCtor(this,Ze).schedule(Se,Ge)}}_.now=h.l.now;class _e extends _{constructor(Ze,Ge=_.now){super(Ze,Ge),this.actions=[],this._active=!1}flush(Ze){const{actions:Ge}=this;if(this._active)return void Ge.push(Ze);let Se;this._active=!0;do{if(Se=Ze.execute(Ze.state,Ze.delay))break}while(Ze=Ge.shift());if(this._active=!1,Se){for(;Ze=Ge.shift();)Ze.unsubscribe();throw Se}}}},4986:(Kn,Rt,H)=>{"use strict";H.d(Rt,{z:()=>_e});var h=H(4408);const _e=new(H(7565).v)(h.o)},6063:(Kn,Rt,H)=>{"use strict";H.d(Rt,{l:()=>h});const h={now:()=>(h.delegate||Date).now(),delegate:void 0}},3410:(Kn,Rt,H)=>{"use strict";H.d(Rt,{z:()=>h});const h={setTimeout(_,_e,...Oe){const{delegate:Ze}=h;return null!=Ze&&Ze.setTimeout?Ze.setTimeout(_,_e,...Oe):setTimeout(_,_e,...Oe)},clearTimeout(_){const{delegate:_e}=h;return((null==_e?void 0:_e.clearTimeout)||clearTimeout)(_)},delegate:void 0}},2202:(Kn,Rt,H)=>{"use strict";H.d(Rt,{h:()=>_});const _=function h(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(Kn,Rt,H)=>{"use strict";H.d(Rt,{L:()=>h});const h="function"==typeof Symbol&&Symbol.observable||"@@observable"},6805:(Kn,Rt,H)=>{"use strict";H.d(Rt,{K:()=>_});const _=(0,H(3888).d)(_e=>function(){_e(this),this.name="EmptyError",this.message="no elements in sequence"})},7669:(Kn,Rt,H)=>{"use strict";H.d(Rt,{_6:()=>Ge,jO:()=>Oe,yG:()=>Ze});var h=H(576);function _e(Se){return Se[Se.length-1]}function Oe(Se){return(0,h.m)(_e(Se))?Se.pop():void 0}function Ze(Se){return function _(Se){return Se&&(0,h.m)(Se.schedule)}(_e(Se))?Se.pop():void 0}function Ge(Se,Pe){return"number"==typeof _e(Se)?Se.pop():Pe}},4742:(Kn,Rt,H)=>{"use strict";H.d(Rt,{D:()=>Ze});const{isArray:h}=Array,{getPrototypeOf:_,prototype:_e,keys:Oe}=Object;function Ze(Se){if(1===Se.length){const Pe=Se[0];if(h(Pe))return{args:Pe,keys:null};if(function Ge(Se){return Se&&"object"==typeof Se&&_(Se)===_e}(Pe)){const Qe=Oe(Pe);return{args:Qe.map(Le=>Pe[Le]),keys:Qe}}}return{args:Se,keys:null}}},8737:(Kn,Rt,H)=>{"use strict";function h(_,_e){if(_){const Oe=_.indexOf(_e);0<=Oe&&_.splice(Oe,1)}}H.d(Rt,{P:()=>h})},3888:(Kn,Rt,H)=>{"use strict";function h(_){const Oe=_(Ze=>{Error.call(Ze),Ze.stack=(new Error).stack});return Oe.prototype=Object.create(Error.prototype),Oe.prototype.constructor=Oe,Oe}H.d(Rt,{d:()=>h})},1810:(Kn,Rt,H)=>{"use strict";function h(_,_e){return _.reduce((Oe,Ze,Ge)=>(Oe[Ze]=_e[Ge],Oe),{})}H.d(Rt,{n:()=>h})},2806:(Kn,Rt,H)=>{"use strict";H.d(Rt,{O:()=>Oe,x:()=>_e});var h=H(2416);let _=null;function _e(Ze){if(h.config.useDeprecatedSynchronousErrorHandling){const Ge=!_;if(Ge&&(_={errorThrown:!1,error:null}),Ze(),Ge){const{errorThrown:Se,error:Pe}=_;if(_=null,Se)throw Pe}}else Ze()}function Oe(Ze){h.config.useDeprecatedSynchronousErrorHandling&&_&&(_.errorThrown=!0,_.error=Ze)}},9672:(Kn,Rt,H)=>{"use strict";function h(_,_e,Oe,Ze=0,Ge=!1){const Se=_e.schedule(function(){Oe(),Ge?_.add(this.schedule(null,Ze)):this.unsubscribe()},Ze);if(_.add(Se),!Ge)return Se}H.d(Rt,{f:()=>h})},4671:(Kn,Rt,H)=>{"use strict";function h(_){return _}H.d(Rt,{y:()=>h})},1144:(Kn,Rt,H)=>{"use strict";H.d(Rt,{z:()=>h});const h=_=>_&&"number"==typeof _.length&&"function"!=typeof _},2206:(Kn,Rt,H)=>{"use strict";H.d(Rt,{D:()=>_});var h=H(576);function _(_e){return Symbol.asyncIterator&&(0,h.m)(null==_e?void 0:_e[Symbol.asyncIterator])}},576:(Kn,Rt,H)=>{"use strict";function h(_){return"function"==typeof _}H.d(Rt,{m:()=>h})},3670:(Kn,Rt,H)=>{"use strict";H.d(Rt,{c:()=>_e});var h=H(8822),_=H(576);function _e(Oe){return(0,_.m)(Oe[h.L])}},6495:(Kn,Rt,H)=>{"use strict";H.d(Rt,{T:()=>_e});var h=H(2202),_=H(576);function _e(Oe){return(0,_.m)(null==Oe?void 0:Oe[h.h])}},8239:(Kn,Rt,H)=>{"use strict";H.d(Rt,{t:()=>_});var h=H(576);function _(_e){return(0,h.m)(null==_e?void 0:_e.then)}},3260:(Kn,Rt,H)=>{"use strict";H.d(Rt,{L:()=>Oe,Q:()=>_e});var h=H(655),_=H(576);function _e(Ze){return(0,h.FC)(this,arguments,function*(){const Se=Ze.getReader();try{for(;;){const{value:Pe,done:Qe}=yield(0,h.qq)(Se.read());if(Qe)return yield(0,h.qq)(void 0);yield yield(0,h.qq)(Pe)}}finally{Se.releaseLock()}})}function Oe(Ze){return(0,_.m)(null==Ze?void 0:Ze.getReader)}},4482:(Kn,Rt,H)=>{"use strict";H.d(Rt,{A:()=>_,e:()=>_e});var h=H(576);function _(Oe){return(0,h.m)(null==Oe?void 0:Oe.lift)}function _e(Oe){return Ze=>{if(_(Ze))return Ze.lift(function(Ge){try{return Oe(Ge,this)}catch(Se){this.error(Se)}});throw new TypeError("Unable to lift unknown Observable type")}}},3268:(Kn,Rt,H)=>{"use strict";H.d(Rt,{Z:()=>Oe});var h=H(4004);const{isArray:_}=Array;function Oe(Ze){return(0,h.U)(Ge=>function _e(Ze,Ge){return _(Ge)?Ze(...Ge):Ze(Ge)}(Ze,Ge))}},5032:(Kn,Rt,H)=>{"use strict";function h(){}H.d(Rt,{Z:()=>h})},9635:(Kn,Rt,H)=>{"use strict";H.d(Rt,{U:()=>_e,z:()=>_});var h=H(4671);function _(...Oe){return _e(Oe)}function _e(Oe){return 0===Oe.length?h.y:1===Oe.length?Oe[0]:function(Ge){return Oe.reduce((Se,Pe)=>Pe(Se),Ge)}}},7849:(Kn,Rt,H)=>{"use strict";H.d(Rt,{h:()=>_e});var h=H(2416),_=H(3410);function _e(Oe){_.z.setTimeout(()=>{const{onUnhandledError:Ze}=h.config;if(!Ze)throw Oe;Ze(Oe)})}},4532:(Kn,Rt,H)=>{"use strict";function h(_){return new TypeError(`You provided ${null!==_&&"object"==typeof _?"an invalid object":`'${_}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}H.d(Rt,{z:()=>h})},863:(Kn,Rt,H)=>{var h={"./ion-accordion_2.entry.js":[9654,8592,9654],"./ion-action-sheet.entry.js":[3648,8592,3648],"./ion-alert.entry.js":[1118,8592,1118],"./ion-app_8.entry.js":[53,8592,53],"./ion-avatar_3.entry.js":[4753,4753],"./ion-back-button.entry.js":[2073,8592,2073],"./ion-backdrop.entry.js":[8939,8939],"./ion-breadcrumb_2.entry.js":[7544,8592,7544],"./ion-button_2.entry.js":[5652,8372],"./ion-card_5.entry.js":[388,388],"./ion-checkbox.entry.js":[9922,8592,9922],"./ion-chip.entry.js":[657,657],"./ion-col_3.entry.js":[9824,9824],"./ion-datetime-button.entry.js":[9230,7879,9230],"./ion-datetime_3.entry.js":[4959,7879,8592,4959],"./ion-fab_3.entry.js":[5836,8592,5836],"./ion-img.entry.js":[1033,1033],"./ion-infinite-scroll_2.entry.js":[8034,8592,8034],"./ion-input.entry.js":[1217,8592,1217],"./ion-item-option_3.entry.js":[2933,8592,2933],"./ion-item_8.entry.js":[4711,8592,4711],"./ion-loading.entry.js":[9434,9434],"./ion-menu_3.entry.js":[8136,8592,8136],"./ion-modal.entry.js":[2349,8592,2349],"./ion-nav_2.entry.js":[5349,8592,5349],"./ion-picker-column-internal.entry.js":[7602,8592,7602],"./ion-picker-internal.entry.js":[9016,9016],"./ion-popover.entry.js":[3804,3804],"./ion-progress-bar.entry.js":[4174,4174],"./ion-radio_2.entry.js":[4432,8592,4432],"./ion-range.entry.js":[1709,8592,1709],"./ion-refresher_2.entry.js":[3326,8592,3326],"./ion-reorder_2.entry.js":[3583,8592,3583],"./ion-ripple-effect.entry.js":[9958,9958],"./ion-route_4.entry.js":[4330,4330],"./ion-searchbar.entry.js":[8628,8592,8628],"./ion-segment_2.entry.js":[9325,8592,9325],"./ion-select_3.entry.js":[2773,8592,2773],"./ion-spinner.entry.js":[4908,8592,4908],"./ion-split-pane.entry.js":[9536,9536],"./ion-tab-bar_2.entry.js":[438,8592,438],"./ion-tab_2.entry.js":[1536,1536],"./ion-text.entry.js":[4376,4376],"./ion-textarea.entry.js":[6560,8592,6560],"./ion-toast.entry.js":[6120,6120],"./ion-toggle.entry.js":[5168,8592,5168]};function _(_e){if(!H.o(h,_e))return Promise.resolve().then(()=>{var Ge=new Error("Cannot find module '"+_e+"'");throw Ge.code="MODULE_NOT_FOUND",Ge});var Oe=h[_e],Ze=Oe[0];return Promise.all(Oe.slice(1).map(H.e)).then(()=>H(Ze))}_.keys=()=>Object.keys(h),_.id=863,Kn.exports=_},655:(Kn,Rt,H)=>{"use strict";H.d(Rt,{FC:()=>It,KL:()=>wt,ZT:()=>_,_T:()=>Oe,gn:()=>Ze,mG:()=>rt,qq:()=>dt});var h=function(qe,lt){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(mt,Je){mt.__proto__=Je}||function(mt,Je){for(var et in Je)Object.prototype.hasOwnProperty.call(Je,et)&&(mt[et]=Je[et])})(qe,lt)};function _(qe,lt){if("function"!=typeof lt&&null!==lt)throw new TypeError("Class extends value "+String(lt)+" is not a constructor or null");function mt(){this.constructor=qe}h(qe,lt),qe.prototype=null===lt?Object.create(lt):(mt.prototype=lt.prototype,new mt)}function Oe(qe,lt){var mt={};for(var Je in qe)Object.prototype.hasOwnProperty.call(qe,Je)&&lt.indexOf(Je)<0&&(mt[Je]=qe[Je]);if(null!=qe&&"function"==typeof Object.getOwnPropertySymbols){var et=0;for(Je=Object.getOwnPropertySymbols(qe);et<Je.length;et++)lt.indexOf(Je[et])<0&&Object.prototype.propertyIsEnumerable.call(qe,Je[et])&&(mt[Je[et]]=qe[Je[et]])}return mt}function Ze(qe,lt,mt,Je){var Ut,et=arguments.length,ct=et<3?lt:null===Je?Je=Object.getOwnPropertyDescriptor(lt,mt):Je;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)ct=Reflect.decorate(qe,lt,mt,Je);else for(var Pt=qe.length-1;Pt>=0;Pt--)(Ut=qe[Pt])&&(ct=(et<3?Ut(ct):et>3?Ut(lt,mt,ct):Ut(lt,mt))||ct);return et>3&&ct&&Object.defineProperty(lt,mt,ct),ct}function rt(qe,lt,mt,Je){return new(mt||(mt=Promise))(function(ct,Ut){function Pt(Nn){try{nn(Je.next(Nn))}catch(Qt){Ut(Qt)}}function Jt(Nn){try{nn(Je.throw(Nn))}catch(Qt){Ut(Qt)}}function nn(Nn){Nn.done?ct(Nn.value):function et(ct){return ct instanceof mt?ct:new mt(function(Ut){Ut(ct)})}(Nn.value).then(Pt,Jt)}nn((Je=Je.apply(qe,lt||[])).next())})}function dt(qe){return this instanceof dt?(this.v=qe,this):new dt(qe)}function It(qe,lt,mt){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var et,Je=mt.apply(qe,lt||[]),ct=[];return et={},Ut("next"),Ut("throw"),Ut("return"),et[Symbol.asyncIterator]=function(){return this},et;function Ut(Et){Je[Et]&&(et[Et]=function(on){return new Promise(function(yn,Xn){ct.push([Et,on,yn,Xn])>1||Pt(Et,on)})})}function Pt(Et,on){try{!function Jt(Et){Et.value instanceof dt?Promise.resolve(Et.value.v).then(nn,Nn):Qt(ct[0][2],Et)}(Je[Et](on))}catch(yn){Qt(ct[0][3],yn)}}function nn(Et){Pt("next",Et)}function Nn(Et){Pt("throw",Et)}function Qt(Et,on){Et(on),ct.shift(),ct.length&&Pt(ct[0][0],ct[0][1])}}function wt(qe){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var mt,lt=qe[Symbol.asyncIterator];return lt?lt.call(qe):(qe=function Vt(qe){var lt="function"==typeof Symbol&&Symbol.iterator,mt=lt&&qe[lt],Je=0;if(mt)return mt.call(qe);if(qe&&"number"==typeof qe.length)return{next:function(){return qe&&Je>=qe.length&&(qe=void 0),{value:qe&&qe[Je++],done:!qe}}};throw new TypeError(lt?"Object is not iterable.":"Symbol.iterator is not defined.")}(qe),mt={},Je("next"),Je("throw"),Je("return"),mt[Symbol.asyncIterator]=function(){return this},mt);function Je(ct){mt[ct]=qe[ct]&&function(Ut){return new Promise(function(Pt,Jt){!function et(ct,Ut,Pt,Jt){Promise.resolve(Jt).then(function(nn){ct({value:nn,done:Pt})},Ut)}(Pt,Jt,(Ut=qe[ct](Ut)).done,Ut.value)})}}}},4755:(Kn,Rt,H)=>{"use strict";H.d(Rt,{Do:()=>kt,EM:()=>ma,HT:()=>Oe,JF:()=>mo,K0:()=>Ge,Mx:()=>Xs,NF:()=>eo,O5:()=>ie,Ov:()=>tr,PM:()=>So,S$:()=>Vt,V_:()=>Qe,Ye:()=>Mt,b0:()=>$e,bD:()=>Ei,ez:()=>ps,q:()=>_e,sg:()=>Qs,tP:()=>Vn,w_:()=>Ze});var h=H(2223);let _=null;function _e(){return _}function Oe(q){_||(_=q)}class Ze{}const Ge=new h.OlP("DocumentToken");let Se=(()=>{class q{historyGo(ee){throw new Error("Not implemented")}}return q.\u0275fac=function(ee){return new(ee||q)},q.\u0275prov=h.Yz7({token:q,factory:function(){return function Pe(){return(0,h.LFG)(Le)}()},providedIn:"platform"}),q})();const Qe=new h.OlP("Location Initialized");let Le=(()=>{class q extends Se{constructor(ee){super(),this._doc=ee,this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return _e().getBaseHref(this._doc)}onPopState(ee){const Fe=_e().getGlobalEventTarget(this._doc,"window");return Fe.addEventListener("popstate",ee,!1),()=>Fe.removeEventListener("popstate",ee)}onHashChange(ee){const Fe=_e().getGlobalEventTarget(this._doc,"window");return Fe.addEventListener("hashchange",ee,!1),()=>Fe.removeEventListener("hashchange",ee)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(ee){this._location.pathname=ee}pushState(ee,Fe,_t){Me()?this._history.pushState(ee,Fe,_t):this._location.hash=_t}replaceState(ee,Fe,_t){Me()?this._history.replaceState(ee,Fe,_t):this._location.hash=_t}forward(){this._history.forward()}back(){this._history.back()}historyGo(ee=0){this._history.go(ee)}getState(){return this._history.state}}return q.\u0275fac=function(ee){return new(ee||q)(h.LFG(Ge))},q.\u0275prov=h.Yz7({token:q,factory:function(){return function rt(){return new Le((0,h.LFG)(Ge))}()},providedIn:"platform"}),q})();function Me(){return!!window.history.pushState}function xe(q,ue){if(0==q.length)return ue;if(0==ue.length)return q;let ee=0;return q.endsWith("/")&&ee++,ue.startsWith("/")&&ee++,2==ee?q+ue.substring(1):1==ee?q+ue:q+"/"+ue}function at(q){const ue=q.match(/#|\?|$/),ee=ue&&ue.index||q.length;return q.slice(0,ee-("/"===q[ee-1]?1:0))+q.slice(ee)}function pt(q){return q&&"?"!==q[0]?"?"+q:q}let Vt=(()=>{class q{historyGo(ee){throw new Error("Not implemented")}}return q.\u0275fac=function(ee){return new(ee||q)},q.\u0275prov=h.Yz7({token:q,factory:function(){return(0,h.f3M)($e)},providedIn:"root"}),q})();const We=new h.OlP("appBaseHref");let $e=(()=>{class q extends Vt{constructor(ee,Fe){var _t,_n,An;super(),this._platformLocation=ee,this._removeListenerFns=[],this._baseHref=null!==(_t=null!==(_n=null!=Fe?Fe:this._platformLocation.getBaseHrefFromDOM())&&void 0!==_n?_n:null===(An=(0,h.f3M)(Ge).location)||void 0===An?void 0:An.origin)&&void 0!==_t?_t:""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(ee){this._removeListenerFns.push(this._platformLocation.onPopState(ee),this._platformLocation.onHashChange(ee))}getBaseHref(){return this._baseHref}prepareExternalUrl(ee){return xe(this._baseHref,ee)}path(ee=!1){const Fe=this._platformLocation.pathname+pt(this._platformLocation.search),_t=this._platformLocation.hash;return _t&&ee?`${Fe}${_t}`:Fe}pushState(ee,Fe,_t,_n){const An=this.prepareExternalUrl(_t+pt(_n));this._platformLocation.pushState(ee,Fe,An)}replaceState(ee,Fe,_t,_n){const An=this.prepareExternalUrl(_t+pt(_n));this._platformLocation.replaceState(ee,Fe,An)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(ee=0){var Fe,_t;null===(Fe=(_t=this._platformLocation).historyGo)||void 0===Fe||Fe.call(_t,ee)}}return q.\u0275fac=function(ee){return new(ee||q)(h.LFG(Se),h.LFG(We,8))},q.\u0275prov=h.Yz7({token:q,factory:q.\u0275fac,providedIn:"root"}),q})(),kt=(()=>{class q extends Vt{constructor(ee,Fe){super(),this._platformLocation=ee,this._baseHref="",this._removeListenerFns=[],null!=Fe&&(this._baseHref=Fe)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(ee){this._removeListenerFns.push(this._platformLocation.onPopState(ee),this._platformLocation.onHashChange(ee))}getBaseHref(){return this._baseHref}path(ee=!1){let Fe=this._platformLocation.hash;return null==Fe&&(Fe="#"),Fe.length>0?Fe.substring(1):Fe}prepareExternalUrl(ee){const Fe=xe(this._baseHref,ee);return Fe.length>0?"#"+Fe:Fe}pushState(ee,Fe,_t,_n){let An=this.prepareExternalUrl(_t+pt(_n));0==An.length&&(An=this._platformLocation.pathname),this._platformLocation.pushState(ee,Fe,An)}replaceState(ee,Fe,_t,_n){let An=this.prepareExternalUrl(_t+pt(_n));0==An.length&&(An=this._platformLocation.pathname),this._platformLocation.replaceState(ee,Fe,An)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(ee=0){var Fe,_t;null===(Fe=(_t=this._platformLocation).historyGo)||void 0===Fe||Fe.call(_t,ee)}}return q.\u0275fac=function(ee){return new(ee||q)(h.LFG(Se),h.LFG(We,8))},q.\u0275prov=h.Yz7({token:q,factory:q.\u0275fac}),q})(),Mt=(()=>{class q{constructor(ee){this._subject=new h.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=ee;const Fe=this._locationStrategy.getBaseHref();this._basePath=function wt(q){if(new RegExp("^(https?:)?//").test(q)){const[,ee]=q.split(/\/\/[^\/]+/);return ee}return q}(at(Tt(Fe))),this._locationStrategy.onPopState(_t=>{this._subject.emit({url:this.path(!0),pop:!0,state:_t.state,type:_t.type})})}ngOnDestroy(){var ee;null===(ee=this._urlChangeSubscription)||void 0===ee||ee.unsubscribe(),this._urlChangeListeners=[]}path(ee=!1){return this.normalize(this._locationStrategy.path(ee))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(ee,Fe=""){return this.path()==this.normalize(ee+pt(Fe))}normalize(ee){return q.stripTrailingSlash(function It(q,ue){if(!q||!ue.startsWith(q))return ue;const ee=ue.substring(q.length);return""===ee||["/",";","?","#"].includes(ee[0])?ee:ue}(this._basePath,Tt(ee)))}prepareExternalUrl(ee){return ee&&"/"!==ee[0]&&(ee="/"+ee),this._locationStrategy.prepareExternalUrl(ee)}go(ee,Fe="",_t=null){this._locationStrategy.pushState(_t,"",ee,Fe),this._notifyUrlChangeListeners(this.prepareExternalUrl(ee+pt(Fe)),_t)}replaceState(ee,Fe="",_t=null){this._locationStrategy.replaceState(_t,"",ee,Fe),this._notifyUrlChangeListeners(this.prepareExternalUrl(ee+pt(Fe)),_t)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(ee=0){var Fe,_t;null===(Fe=(_t=this._locationStrategy).historyGo)||void 0===Fe||Fe.call(_t,ee)}onUrlChange(ee){return this._urlChangeListeners.push(ee),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(Fe=>{this._notifyUrlChangeListeners(Fe.url,Fe.state)})),()=>{const Fe=this._urlChangeListeners.indexOf(ee);var _t;this._urlChangeListeners.splice(Fe,1),0===this._urlChangeListeners.length&&(null===(_t=this._urlChangeSubscription)||void 0===_t||_t.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(ee="",Fe){this._urlChangeListeners.forEach(_t=>_t(ee,Fe))}subscribe(ee,Fe,_t){return this._subject.subscribe({next:ee,error:Fe,complete:_t})}}return q.normalizeQueryParams=pt,q.joinWithSlash=xe,q.stripTrailingSlash=at,q.\u0275fac=function(ee){return new(ee||q)(h.LFG(Vt))},q.\u0275prov=h.Yz7({token:q,factory:function(){return function dt(){return new Mt((0,h.LFG)(Vt))}()},providedIn:"root"}),q})();function Tt(q){return q.replace(/\/index.html$/,"")}function Xs(q,ue){ue=encodeURIComponent(ue);for(const ee of q.split(";")){const Fe=ee.indexOf("="),[_t,_n]=-1==Fe?[ee,""]:[ee.slice(0,Fe),ee.slice(Fe+1)];if(_t.trim()===ue)return decodeURIComponent(_n)}return null}class $s{constructor(ue,ee,Fe,_t){this.$implicit=ue,this.ngForOf=ee,this.index=Fe,this.count=_t}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Qs=(()=>{class q{set ngForOf(ee){this._ngForOf=ee,this._ngForOfDirty=!0}set ngForTrackBy(ee){this._trackByFn=ee}get ngForTrackBy(){return this._trackByFn}constructor(ee,Fe,_t){this._viewContainer=ee,this._template=Fe,this._differs=_t,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(ee){ee&&(this._template=ee)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const ee=this._ngForOf;!this._differ&&ee&&(this._differ=this._differs.find(ee).create(this.ngForTrackBy))}if(this._differ){const ee=this._differ.diff(this._ngForOf);ee&&this._applyChanges(ee)}}_applyChanges(ee){const Fe=this._viewContainer;ee.forEachOperation((_t,_n,An)=>{if(null==_t.previousIndex)Fe.createEmbeddedView(this._template,new $s(_t.item,this._ngForOf,-1,-1),null===An?void 0:An);else if(null==An)Fe.remove(null===_n?void 0:_n);else if(null!==_n){const Jr=Fe.get(_n);Fe.move(Jr,An),Vs(Jr,_t)}});for(let _t=0,_n=Fe.length;_t<_n;_t++){const Jr=Fe.get(_t).context;Jr.index=_t,Jr.count=_n,Jr.ngForOf=this._ngForOf}ee.forEachIdentityChange(_t=>{Vs(Fe.get(_t.currentIndex),_t)})}static ngTemplateContextGuard(ee,Fe){return!0}}return q.\u0275fac=function(ee){return new(ee||q)(h.Y36(h.s_b),h.Y36(h.Rgc),h.Y36(h.ZZ4))},q.\u0275dir=h.lG2({type:q,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),q})();function Vs(q,ue){q.context.$implicit=ue.item}let ie=(()=>{class q{constructor(ee,Fe){this._viewContainer=ee,this._context=new fe,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=Fe}set ngIf(ee){this._context.$implicit=this._context.ngIf=ee,this._updateView()}set ngIfThen(ee){Re("ngIfThen",ee),this._thenTemplateRef=ee,this._thenViewRef=null,this._updateView()}set ngIfElse(ee){Re("ngIfElse",ee),this._elseTemplateRef=ee,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(ee,Fe){return!0}}return q.\u0275fac=function(ee){return new(ee||q)(h.Y36(h.s_b),h.Y36(h.Rgc))},q.\u0275dir=h.lG2({type:q,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),q})();class fe{constructor(){this.$implicit=null,this.ngIf=null}}function Re(q,ue){if(ue&&!ue.createEmbeddedView)throw new Error(`${q} must be a TemplateRef, but received '${(0,h.AaK)(ue)}'.`)}let Vn=(()=>{class q{constructor(ee){this._viewContainerRef=ee,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(ee){if(ee.ngTemplateOutlet||ee.ngTemplateOutletInjector){const Fe=this._viewContainerRef;if(this._viewRef&&Fe.remove(Fe.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:_t,ngTemplateOutletContext:_n,ngTemplateOutletInjector:An}=this;this._viewRef=Fe.createEmbeddedView(_t,_n,An?{injector:An}:void 0)}else this._viewRef=null}else this._viewRef&&ee.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return q.\u0275fac=function(ee){return new(ee||q)(h.Y36(h.s_b))},q.\u0275dir=h.lG2({type:q,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[h.TTD]}),q})();class is{createSubscription(ue,ee){return ue.subscribe({next:ee,error:Fe=>{throw Fe}})}dispose(ue){ue.unsubscribe()}}class Fi{createSubscription(ue,ee){return ue.then(ee,Fe=>{throw Fe})}dispose(ue){}}const Ws=new Fi,Ci=new is;let tr=(()=>{class q{constructor(ee){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=ee}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(ee){return this._obj?ee!==this._obj?(this._dispose(),this.transform(ee)):this._latestValue:(ee&&this._subscribe(ee),this._latestValue)}_subscribe(ee){this._obj=ee,this._strategy=this._selectStrategy(ee),this._subscription=this._strategy.createSubscription(ee,Fe=>this._updateLatestValue(ee,Fe))}_selectStrategy(ee){if((0,h.QGY)(ee))return Ws;if((0,h.F4k)(ee))return Ci;throw function Qr(q,ue){return new h.vHH(2100,!1)}()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(ee,Fe){ee===this._obj&&(this._latestValue=Fe,this._ref.markForCheck())}}return q.\u0275fac=function(ee){return new(ee||q)(h.Y36(h.sBO,16))},q.\u0275pipe=h.Yjl({name:"async",type:q,pure:!1,standalone:!0}),q})(),ps=(()=>{class q{}return q.\u0275fac=function(ee){return new(ee||q)},q.\u0275mod=h.oAB({type:q}),q.\u0275inj=h.cJS({}),q})();const Ei="browser",Ea="server";function eo(q){return q===Ei}function So(q){return q===Ea}let ma=(()=>{class q{}return q.\u0275prov=(0,h.Yz7)({token:q,providedIn:"root",factory:()=>new Is((0,h.LFG)(Ge),window)}),q})();class Is{constructor(ue,ee){this.document=ue,this.window=ee,this.offset=()=>[0,0]}setOffset(ue){this.offset=Array.isArray(ue)?()=>ue:ue}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(ue){this.supportsScrolling()&&this.window.scrollTo(ue[0],ue[1])}scrollToAnchor(ue){if(!this.supportsScrolling())return;const ee=function Jo(q,ue){const ee=q.getElementById(ue)||q.getElementsByName(ue)[0];if(ee)return ee;if("function"==typeof q.createTreeWalker&&q.body&&"function"==typeof q.body.attachShadow){const Fe=q.createTreeWalker(q.body,NodeFilter.SHOW_ELEMENT);let _t=Fe.currentNode;for(;_t;){const _n=_t.shadowRoot;if(_n){const An=_n.getElementById(ue)||_n.querySelector(`[name="${ue}"]`);if(An)return An}_t=Fe.nextNode()}}return null}(this.document,ue);ee&&(this.scrollToElement(ee),ee.focus())}setHistoryScrollRestoration(ue){if(this.supportScrollRestoration()){const ee=this.window.history;ee&&ee.scrollRestoration&&(ee.scrollRestoration=ue)}}scrollToElement(ue){const ee=ue.getBoundingClientRect(),Fe=ee.left+this.window.pageXOffset,_t=ee.top+this.window.pageYOffset,_n=this.offset();this.window.scrollTo(Fe-_n[0],_t-_n[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const ue=Qi(this.window.history)||Qi(Object.getPrototypeOf(this.window.history));return!(!ue||!ue.writable&&!ue.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function Qi(q){return Object.getOwnPropertyDescriptor(q,"scrollRestoration")}class mo{}},2223:(Kn,Rt,H)=>{"use strict";H.d(Rt,{$8M:()=>Rl,$WT:()=>zn,$Z:()=>dp,AFp:()=>fc,ALo:()=>Aa,AaK:()=>Qe,CHM:()=>wn,CRH:()=>Ww,D6c:()=>LD,EJc:()=>UC,EpF:()=>If,F$t:()=>n_,F4k:()=>kp,FYo:()=>Ev,FiY:()=>Vd,G48:()=>dD,GSi:()=>df,Gf:()=>zw,GfV:()=>Ed,GkF:()=>Jv,Gpc:()=>rt,HDt:()=>qI,Hsn:()=>r_,JOm:()=>zs,KtG:()=>qn,LFG:()=>jt,LMc:()=>$D,LSH:()=>hd,Lbi:()=>mv,Lck:()=>HE,MAs:()=>Xg,MMx:()=>c,NdJ:()=>Ry,Ojb:()=>dg,OlP:()=>Eo,Oqu:()=>pn,P3R:()=>fd,PXZ:()=>nD,Q6J:()=>Py,QGY:()=>em,QbO:()=>R_,Qsj:()=>tl,R0b:()=>tc,RDi:()=>Im,Rgc:()=>W0,SBq:()=>mc,Sil:()=>zC,Suo:()=>Hw,TTD:()=>Gi,TgZ:()=>Ph,X6Q:()=>uD,XFs:()=>Mn,Xpm:()=>Vs,Xts:()=>Sa,Y36:()=>Sl,YKP:()=>Kb,YNc:()=>Ay,Yjl:()=>st,Yz7:()=>Et,Z0I:()=>ar,ZZ4:()=>_w,_Bn:()=>zE,_UZ:()=>Pp,_Vd:()=>bd,_c5:()=>TD,_uU:()=>ae,aQg:()=>bw,c2e:()=>hI,cJS:()=>yn,cg1:()=>D0,dDg:()=>QC,dqk:()=>Jn,eFA:()=>SI,eJc:()=>nw,ekj:()=>Ly,eoX:()=>wI,f3M:()=>$n,g9A:()=>rp,h0i:()=>Bp,hGG:()=>AD,hij:()=>Pn,iGM:()=>jw,ifc:()=>Ke,ip1:()=>dI,jDz:()=>o,kL8:()=>jy,lG2:()=>ye,lcZ:()=>kh,lqb:()=>md,lri:()=>bI,n5z:()=>Ji,oAB:()=>Re,oxw:()=>wc,q4F:()=>uh,qFp:()=>VD,qLn:()=>dh,qOj:()=>zg,qZA:()=>Mp,rWj:()=>EI,s9C:()=>Np,sBO:()=>hD,s_b:()=>Xb,soG:()=>Jb,tb:()=>fw,tp0:()=>cu,uIk:()=>Ih,vHH:()=>$e,vpe:()=>ru,wAp:()=>$i,xp6:()=>Iv,z2F:()=>S_,zSh:()=>ep,zs3:()=>Vl});var Ge,h=H(7579),_=H(727),_e=H(9751),Oe=H(6451),Ze=H(3099);function Se(n){for(let r in n)if(n[r]===Se)return r;throw Error("Could not find renamed property on target object.")}function Pe(n,r){for(const a in r)r.hasOwnProperty(a)&&!n.hasOwnProperty(a)&&(n[a]=r[a])}function Qe(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(Qe).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const r=n.toString();if(null==r)return""+r;const a=r.indexOf("\n");return-1===a?r:r.substring(0,a)}function Le(n,r){return null==n||""===n?null===r?"":r:null==r||""===r?n:n+" "+r}const Me=Se({__forward_ref__:Se});function rt(n){return n.__forward_ref__=rt,n.toString=function(){return Qe(this())},n}function xe(n){return at(n)?n():n}function at(n){return"function"==typeof n&&n.hasOwnProperty(Me)&&n.__forward_ref__===rt}function pt(n){return n&&!!n.\u0275providers}const We="https://g.co/ng/security#xss";class $e extends Error{constructor(r,a){super(function kt(n,r){return`NG0${Math.abs(n)}${r?": "+r:""}`}(r,a)),this.code=r}}function Mt(n){return"string"==typeof n?n:null==n?"":String(n)}function vt(n,r){throw new $e(-201,!1)}function Pt(n,r){null==n&&function Jt(n,r,a,u){throw new Error(`ASSERTION ERROR: ${n}`+(null==u?"":` [Expected=> ${a} ${u} ${r} <=Actual]`))}(r,n,null,"!=")}function Et(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function yn(n){return{providers:n.providers||[],imports:n.imports||[]}}function Xn(n){return lr(n,an)||lr(n,Vr)}function ar(n){return null!==Xn(n)}function lr(n,r){return n.hasOwnProperty(r)?n[r]:null}function Yn(n){return n&&(n.hasOwnProperty(Rr)||n.hasOwnProperty(Ar))?n[Rr]:null}const an=Se({\u0275prov:Se}),Rr=Se({\u0275inj:Se}),Vr=Se({ngInjectableDef:Se}),Ar=Se({ngInjectorDef:Se});var Mn=(()=>((Mn=Mn||{})[Mn.Default=0]="Default",Mn[Mn.Host=1]="Host",Mn[Mn.Self=2]="Self",Mn[Mn.SkipSelf=4]="SkipSelf",Mn[Mn.Optional=8]="Optional",Mn))();let ni;function mr(n){const r=ni;return ni=n,r}function vi(n,r,a){const u=Xn(n);return u&&"root"==u.providedIn?void 0===u.value?u.value=u.factory():u.value:a&Mn.Optional?null:void 0!==r?r:void vt(Qe(n))}const Jn=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),si={},Kr="__NG_DI_FLAG__",fi="ngTempTokenPath",br=/\n/gm,ui="__source";let Er;function ke(n){const r=Er;return Er=n,r}function ut(n,r=Mn.Default){if(void 0===Er)throw new $e(-203,!1);return null===Er?vi(n,void 0,r):Er.get(n,r&Mn.Optional?null:void 0,r)}function jt(n,r=Mn.Default){return(function jr(){return ni}()||ut)(xe(n),r)}function $n(n,r=Mn.Default){return jt(n,Fr(r))}function Fr(n){return typeof n>"u"||"number"==typeof n?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function xr(n){const r=[];for(let a=0;a<n.length;a++){const u=xe(n[a]);if(Array.isArray(u)){if(0===u.length)throw new $e(900,!1);let g,I=Mn.Default;for(let R=0;R<u.length;R++){const z=u[R],Q=gt(z);"number"==typeof Q?-1===Q?g=z.token:I|=Q:g=z}r.push(jt(g,I))}else r.push(jt(u))}return r}function Ir(n,r){return n[Kr]=r,n.prototype[Kr]=r,n}function gt(n){return n[Kr]}function te(n){return{toString:n}.toString()}var oe=(()=>((oe=oe||{})[oe.OnPush=0]="OnPush",oe[oe.Default=1]="Default",oe))(),Ke=(()=>{return(n=Ke||(Ke={}))[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",Ke;var n})();const At={},tt=[],$t=Se({\u0275cmp:Se}),Zt=Se({\u0275dir:Se}),In=Se({\u0275pipe:Se}),vn=Se({\u0275mod:Se}),jn=Se({\u0275fac:Se}),rn=Se({__NG_ELEMENT_ID__:Se}),mn=Se({__NG_ENV_ID__:Se});function Rn(n,r,a){let u=n.length;for(;;){const g=n.indexOf(r,a);if(-1===g)return g;if(0===g||n.charCodeAt(g-1)<=32){const I=r.length;if(g+I===u||n.charCodeAt(g+I)<=32)return g}a=g+1}}function Ft(n,r,a){let u=0;for(;u<a.length;){const g=a[u];if("number"==typeof g){if(0!==g)break;u++;const I=a[u++],R=a[u++],z=a[u++];n.setAttribute(r,R,z,I)}else{const I=g,R=a[++u];hn(I)?n.setProperty(r,I,R):n.setAttribute(r,I,R),u++}}return u}function Gt(n){return 3===n||4===n||6===n}function hn(n){return 64===n.charCodeAt(0)}function Gn(n,r){if(null!==r&&0!==r.length)if(null===n||0===n.length)n=r.slice();else{let a=-1;for(let u=0;u<r.length;u++){const g=r[u];"number"==typeof g?a=g:0===a||hr(n,a,g,null,-1===a||2===a?r[++u]:null)}}return n}function hr(n,r,a,u,g){let I=0,R=n.length;if(-1===r)R=-1;else for(;I<n.length;){const z=n[I++];if("number"==typeof z){if(z===r){R=-1;break}if(z>r){R=I-1;break}}}for(;I<n.length;){const z=n[I];if("number"==typeof z)break;if(z===a){if(null===u)return void(null!==g&&(n[I+1]=g));if(u===n[I+1])return void(n[I+2]=g)}I++,null!==u&&I++,null!==g&&I++}-1!==R&&(n.splice(R,0,r),I=R+1),n.splice(I++,0,a),null!==u&&n.splice(I++,0,u),null!==g&&n.splice(I++,0,g)}const Or="ng-template";function Mr(n,r,a){let u=0,g=!0;for(;u<n.length;){let I=n[u++];if("string"==typeof I&&g){const R=n[u++];if(a&&"class"===I&&-1!==Rn(R.toLowerCase(),r,0))return!0}else{if(1===I){for(;u<n.length&&"string"==typeof(I=n[u++]);)if(I.toLowerCase()===r)return!0;return!1}"number"==typeof I&&(g=!1)}}return!1}function Si(n){return 4===n.type&&n.value!==Or}function zr(n,r,a){return r===(4!==n.type||a?n.value:Or)}function kr(n,r,a){let u=4;const g=n.attrs||[],I=function Vi(n){for(let r=0;r<n.length;r++)if(Gt(n[r]))return r;return n.length}(g);let R=!1;for(let z=0;z<r.length;z++){const Q=r[z];if("number"!=typeof Q){if(!R)if(4&u){if(u=2|1&u,""!==Q&&!zr(n,Q,a)||""===Q&&1===r.length){if(Hr(u))return!1;R=!0}}else{const me=8&u?Q:r[++z];if(8&u&&null!==n.attrs){if(!Mr(n.attrs,me,a)){if(Hr(u))return!1;R=!0}continue}const it=Wi(8&u?"class":Q,g,Si(n),a);if(-1===it){if(Hr(u))return!1;R=!0;continue}if(""!==me){let Bt;Bt=it>I?"":g[it+1].toLowerCase();const cn=8&u?Bt:null;if(cn&&-1!==Rn(cn,me,0)||2&u&&me!==Bt){if(Hr(u))return!1;R=!0}}}}else{if(!R&&!Hr(u)&&!Hr(Q))return!1;if(R&&Hr(Q))continue;R=!1,u=Q|1&u}}return Hr(u)||R}function Hr(n){return 0==(1&n)}function Wi(n,r,a,u){if(null===r)return-1;let g=0;if(u||!a){let I=!1;for(;g<r.length;){const R=r[g];if(R===n)return g;if(3===R||6===R)I=!0;else{if(1===R||2===R){let z=r[++g];for(;"string"==typeof z;)z=r[++g];continue}if(4===R)break;if(0===R){g+=4;continue}}g+=I?1:2}return-1}return function zi(n,r){let a=n.indexOf(4);if(a>-1)for(a++;a<n.length;){const u=n[a];if("number"==typeof u)return-1;if(u===r)return a;a++}return-1}(r,n)}function Io(n,r,a=!1){for(let u=0;u<r.length;u++)if(kr(n,r[u],a))return!0;return!1}function Co(n,r){e:for(let a=0;a<r.length;a++){const u=r[a];if(n.length===u.length){for(let g=0;g<n.length;g++)if(n[g]!==u[g])continue e;return!0}}return!1}function Xi(n,r){return n?":not("+r.trim()+")":r}function Ri(n){let r=n[0],a=1,u=2,g="",I=!1;for(;a<n.length;){let R=n[a];if("string"==typeof R)if(2&u){const z=n[++a];g+="["+R+(z.length>0?'="'+z+'"':"")+"]"}else 8&u?g+="."+R:4&u&&(g+=" "+R);else""!==g&&!Hr(R)&&(r+=Xi(I,g),g=""),u=R,I=I||!Hr(u);a++}return""!==g&&(r+=Xi(I,g)),r}function Vs(n){return te(()=>{const r=wr(n),a={...r,decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===oe.OnPush,directiveDefs:null,pipeDefs:null,dependencies:r.standalone&&n.dependencies||null,getStandaloneInjector:null,data:n.data||{},encapsulation:n.encapsulation||Ke.Emulated,styles:n.styles||tt,_:null,schemas:n.schemas||null,tView:null,id:""};Qr(a);const u=n.dependencies;return a.directiveDefs=is(u,!1),a.pipeDefs=is(u,!0),a.id=function Ws(n){let r=0;const a=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,n.consts,n.vars,n.decls,n.encapsulation,n.standalone,Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery].join("|");for(const g of a)r=Math.imul(31,r)+g.charCodeAt(0)<<0;return r+=2147483648,"c"+r}(a),a})}function ie(n){return bt(n)||Lt(n)}function fe(n){return null!==n}function Re(n){return te(()=>({type:n.type,bootstrap:n.bootstrap||tt,declarations:n.declarations||tt,imports:n.imports||tt,exports:n.exports||tt,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function re(n,r){if(null==n)return At;const a={};for(const u in n)if(n.hasOwnProperty(u)){let g=n[u],I=g;Array.isArray(g)&&(I=g[1],g=g[0]),a[g]=u,r&&(r[g]=I)}return a}function ye(n){return te(()=>{const r=wr(n);return Qr(r),r})}function st(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,standalone:!0===n.standalone,onDestroy:n.type.prototype.ngOnDestroy||null}}function bt(n){return n[$t]||null}function Lt(n){return n[Zt]||null}function Xt(n){return n[In]||null}function zn(n){const r=bt(n)||Lt(n)||Xt(n);return null!==r&&r.standalone}function Vn(n,r){const a=n[vn]||null;if(!a&&!0===r)throw new Error(`Type ${Qe(n)} does not have '\u0275mod' property.`);return a}function wr(n){const r={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:r,exportAs:n.exportAs||null,standalone:!0===n.standalone,selectors:n.selectors||tt,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:re(n.inputs,r),outputs:re(n.outputs)}}function Qr(n){var r;null===(r=n.features)||void 0===r||r.forEach(a=>a(n))}function is(n,r){if(!n)return null;const a=r?Xt:ie;return()=>("function"==typeof n?n():n).map(u=>a(u)).filter(fe)}const Ci=0,tr=1,Lr=2,Ai=3,ks=4,Do=5,ss=6,oo=7,ki=8,ws=9,os=10,Br=11,ao=12,ho=13,Di=14,Li=15,Gs=16,no=17,fo=18,ko=19,$o=20,po=21,lo=22,ia=23,ps=24,Ei=25,Js=1,Qo=2,eo=7,So=8,go=9,ms=11;function Is(n){return Array.isArray(n)&&"object"==typeof n[Js]}function Qi(n){return Array.isArray(n)&&!0===n[Js]}function Jo(n){return 0!=(4&n.flags)}function Vo(n){return n.componentOffset>-1}function mo(n){return 1==(1&n.flags)}function To(n){return!!n.template}function Ao(n){return 0!=(512&n[Lr])}function Ks(n,r){return n.hasOwnProperty(jn)?n[jn]:null}let T=null!==(Ge=Jn.WeakRef)&&void 0!==Ge?Ge:class L{constructor(r){this.ref=r}deref(){return this.ref}},ft=0,Ot=null,dn=!1;function Tn(n){const r=Ot;return Ot=n,r}class Yr{constructor(){this.id=ft++,this.ref=function F(n){return new T(n)}(this),this.producers=new Map,this.consumers=new Map,this.trackingVersion=0,this.valueVersion=0}consumerPollProducersForChange(){for(const[r,a]of this.producers){const u=a.producerNode.deref();if(void 0!==u&&a.atTrackingVersion===this.trackingVersion){if(u.producerPollStatus(a.seenValueVersion))return!0}else this.producers.delete(r),null==u||u.consumers.delete(this.id)}return!1}producerMayHaveChanged(){const r=dn;dn=!0;try{for(const[a,u]of this.consumers){const g=u.consumerNode.deref();void 0!==g&&g.trackingVersion===u.atTrackingVersion?g.onConsumerDependencyMayHaveChanged():(this.consumers.delete(a),null==g||g.producers.delete(this.id))}}finally{dn=r}}producerAccessed(){if(dn)throw new Error("");if(null===Ot)return;let r=Ot.producers.get(this.id);void 0===r?(r={consumerNode:Ot.ref,producerNode:this.ref,seenValueVersion:this.valueVersion,atTrackingVersion:Ot.trackingVersion},Ot.producers.set(this.id,r),this.consumers.set(Ot.id,r)):(r.seenValueVersion=this.valueVersion,r.atTrackingVersion=Ot.trackingVersion)}get hasProducers(){return this.producers.size>0}get producerUpdatesAllowed(){var r;return!1!==(null===(r=Ot)||void 0===r?void 0:r.consumerAllowSignalWrites)}producerPollStatus(r){return this.valueVersion!==r||(this.onProducerUpdateValueVersion(),this.valueVersion!==r)}}let Cs=null;const ka=()=>{};class Ga extends Yr{constructor(r,a,u){super(),this.watch=r,this.schedule=a,this.dirty=!1,this.cleanupFn=ka,this.registerOnCleanup=g=>{this.cleanupFn=g},this.consumerAllowSignalWrites=u}notify(){this.dirty||this.schedule(this),this.dirty=!0}onConsumerDependencyMayHaveChanged(){this.notify()}onProducerUpdateValueVersion(){}run(){if(this.dirty=!1,0!==this.trackingVersion&&!this.consumerPollProducersForChange())return;const r=Tn(this);this.trackingVersion++;try{this.cleanupFn(),this.cleanupFn=ka,this.watch(this.registerOnCleanup)}finally{Tn(r)}}cleanup(){this.cleanupFn()}}class ml{constructor(r,a,u){this.previousValue=r,this.currentValue=a,this.firstChange=u}isFirstChange(){return this.firstChange}}function Gi(){return il}function il(n){return n.type.prototype.ngOnChanges&&(n.setInput=xl),Fs}function Fs(){const n=Go(this),r=null==n?void 0:n.current;if(r){const a=n.previous;if(a===At)n.previous=r;else for(let u in r)a[u]=r[u];n.current=null,this.ngOnChanges(r)}}function xl(n,r,a,u){const g=this.declaredInputs[a],I=Go(n)||function sl(n,r){return n[Ml]=r}(n,{previous:At,current:null}),R=I.current||(I.current={}),z=I.previous,Q=z[g];R[g]=new ml(Q&&Q.currentValue,r,z===At),n[u]=r}Gi.ngInherit=!0;const Ml="__ngSimpleChanges__";function Go(n){return n[Ml]||null}const le=function(n,r,a){};function ot(n){for(;Array.isArray(n);)n=n[Ci];return n}function Wt(n,r){return ot(r[n])}function tn(n,r){return ot(r[n.index])}function nr(n,r){return n.data[r]}function li(n,r){return n[r]}function Wr(n,r){const a=r[n];return Is(a)?a:a[Ci]}function co(n){return 128==(128&n[Lr])}function ue(n,r){return null==r?null:n[r]}function ee(n){n[no]=0}function Fe(n){1024&n[Lr]||(n[Lr]|=1024,_n(n,1))}function _t(n){1024&n[Lr]&&(n[Lr]&=-1025,_n(n,-1))}function _n(n,r){let a=n[Ai];if(null===a)return;a[Do]+=r;let u=a;for(a=a[Ai];null!==a&&(1===r&&1===u[Do]||-1===r&&0===u[Do]);)a[Do]+=r,u=a,a=a[Ai]}const yr={lFrame:zl(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function xo(){return yr.bindingsEnabled}function Wn(){return yr.lFrame.lView}function Ln(){return yr.lFrame.tView}function wn(n){return yr.lFrame.contextLView=n,n[ki]}function qn(n){return yr.lFrame.contextLView=null,n}function as(){let n=nc();for(;null!==n&&64===n.type;)n=n.parent;return n}function nc(){return yr.lFrame.currentTNode}function qa(n,r){const a=yr.lFrame;a.currentTNode=n,a.isParent=r}function rc(){return yr.lFrame.isParent}function Tc(){yr.lFrame.isParent=!1}function Pi(){return yr.lFrame.bindingIndex++}function hi(n,r){const a=yr.lFrame;a.bindingIndex=a.bindingRootIndex=n,Ki(r)}function Ki(n){yr.lFrame.currentDirectiveIndex=n}function Bs(){return yr.lFrame.currentQueryIndex}function _r(n){yr.lFrame.currentQueryIndex=n}function Ac(n){const r=n[tr];return 2===r.type?r.declTNode:1===r.type?n[ss]:null}function sc(n,r,a){if(a&Mn.SkipSelf){let g=r,I=n;for(;!(g=g.parent,null!==g||a&Mn.Host||(g=Ac(I),null===g||(I=I[Di],10&g.type))););if(null===g)return!1;r=g,n=I}const u=yr.lFrame=xc();return u.currentTNode=r,u.lView=n,!0}function ol(n){const r=xc(),a=n[tr];yr.lFrame=r,r.currentTNode=a.firstChild,r.lView=n,r.tView=a,r.contextLView=n,r.bindingIndex=a.bindingStartIndex,r.inI18n=!1}function xc(){const n=yr.lFrame,r=null===n?null:n.child;return null===r?zl(n):r}function zl(n){const r={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=r),r}function iu(){const n=yr.lFrame;return yr.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const al=iu;function Ka(){const n=iu();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function Mo(){return yr.lFrame.selectedIndex}function ll(n){yr.lFrame.selectedIndex=n}function Bo(){const n=yr.lFrame;return nr(n.tView,n.selectedIndex)}let Bd=!0;function bl(){return Bd}function Po(n){Bd=n}function Ys(n,r){for(let me=r.directiveStart,Ne=r.directiveEnd;me<Ne;me++){const Bt=n.data[me].type.prototype,{ngAfterContentInit:cn,ngAfterContentChecked:Fn,ngAfterViewInit:gr,ngAfterViewChecked:Pr,ngOnDestroy:ei}=Bt;var a,u,g,I,R,z,Q;cn&&(null!==(a=n.contentHooks)&&void 0!==a?a:n.contentHooks=[]).push(-me,cn),Fn&&((null!==(u=n.contentHooks)&&void 0!==u?u:n.contentHooks=[]).push(me,Fn),(null!==(g=n.contentCheckHooks)&&void 0!==g?g:n.contentCheckHooks=[]).push(me,Fn)),gr&&(null!==(I=n.viewHooks)&&void 0!==I?I:n.viewHooks=[]).push(-me,gr),Pr&&((null!==(R=n.viewHooks)&&void 0!==R?R:n.viewHooks=[]).push(me,Pr),(null!==(z=n.viewCheckHooks)&&void 0!==z?z:n.viewCheckHooks=[]).push(me,Pr)),null!=ei&&(null!==(Q=n.destroyHooks)&&void 0!==Q?Q:n.destroyHooks=[]).push(me,ei)}}function V(n,r,a){Z(n,r,3,a)}function G(n,r,a,u){(3&n[Lr])===a&&Z(n,r,a,u)}function O(n,r){let a=n[Lr];(3&a)===r&&(a&=4095,a+=1,n[Lr]=a)}function Z(n,r,a,u){const I=null!=u?u:-1,R=r.length-1;let z=0;for(let Q=void 0!==u?65535&n[no]:0;Q<R;Q++)if("number"==typeof r[Q+1]){if(z=r[Q],null!=u&&z>=u)break}else r[Q]<0&&(n[no]+=65536),(z<I||-1==I)&&(Ye(n,a,r,Q),n[no]=(4294901760&n[no])+Q+2),Q++}function pe(n,r){le(4,n,r);const a=Tn(null);try{r.call(n)}finally{Tn(a),le(5,n,r)}}function Ye(n,r,a,u){const g=a[u]<0,I=a[u+1],z=n[g?-a[u]:a[u]];g?n[Lr]>>12<n[no]>>16&&(3&n[Lr])===r&&(n[Lr]+=4096,pe(z,I)):pe(z,I)}const je=-1;class Kt{constructor(r,a,u){this.factory=r,this.resolving=!1,this.canSeeViewProviders=a,this.injectImpl=u}}function m(n){return n!==je}function E(n){return 32767&n}function M(n,r){let a=function b(n){return n>>16}(n),u=r;for(;a>0;)u=u[Di],a--;return u}let B=!0;function W(n){const r=B;return B=n,r}const Ce=255,Ve=5;let ht=0;const yt={};function sn(n,r){const a=Bn(n,r);if(-1!==a)return a;const u=r[tr];u.firstCreatePass&&(n.injectorIndex=r.length,gn(u.data,n),gn(r,null),gn(u.blueprint,null));const g=xn(n,r),I=n.injectorIndex;if(m(g)){const R=E(g),z=M(g,r),Q=z[tr].data;for(let me=0;me<8;me++)r[I+me]=z[R+me]|Q[R+me]}return r[I+8]=g,I}function gn(n,r){n.push(0,0,0,0,0,0,0,0,r)}function Bn(n,r){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===r[n.injectorIndex+8]?-1:n.injectorIndex}function xn(n,r){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let a=0,u=null,g=r;for(;null!==g;){if(u=Ro(g),null===u)return je;if(a++,g=g[Di],-1!==u.injectorIndex)return u.injectorIndex|a<<16}return je}function rr(n,r,a){!function zt(n,r,a){let u;"string"==typeof a?u=a.charCodeAt(0)||0:a.hasOwnProperty(rn)&&(u=a[rn]),null==u&&(u=a[rn]=ht++);const g=u&Ce;r.data[n+(g>>Ve)]|=1<<g}(n,r,a)}function Zn(n,r,a){if(a&Mn.Optional||void 0!==n)return n;vt()}function ir(n,r,a,u){if(a&Mn.Optional&&void 0===u&&(u=null),!(a&(Mn.Self|Mn.Host))){const g=n[ws],I=mr(void 0);try{return g?g.get(r,u,a&Mn.Optional):vi(r,u,a&Mn.Optional)}finally{mr(I)}}return Zn(u,0,a)}function sr(n,r,a,u=Mn.Default,g){if(null!==n){if(2048&r[Lr]){const R=function aa(n,r,a,u,g){let I=n,R=r;for(;null!==I&&null!==R&&2048&R[Lr]&&!(512&R[Lr]);){const z=Dr(I,R,a,u|Mn.Self,yt);if(z!==yt)return z;let Q=I.parent;if(!Q){const me=R[$o];if(me){const Ne=me.get(a,yt,u);if(Ne!==yt)return Ne}Q=Ro(R),R=R[Di]}I=Q}return g}(n,r,a,u,yt);if(R!==yt)return R}const I=Dr(n,r,a,u,yt);if(I!==yt)return I}return ir(r,a,u,g)}function Dr(n,r,a,u,g){const I=function ls(n){if("string"==typeof n)return n.charCodeAt(0)||0;const r=n.hasOwnProperty(rn)?n[rn]:void 0;return"number"==typeof r?r>=0?r&Ce:bs:r}(a);if("function"==typeof I){if(!sc(r,n,u))return u&Mn.Host?Zn(g,0,u):ir(r,a,u,g);try{const R=I(u);if(null!=R||u&Mn.Optional)return R;vt()}finally{al()}}else if("number"==typeof I){let R=null,z=Bn(n,r),Q=je,me=u&Mn.Host?r[Li][ss]:null;for((-1===z||u&Mn.SkipSelf)&&(Q=-1===z?xn(n,r):r[z+8],Q!==je&&cs(u,!1)?(R=r[tr],z=E(Q),r=M(Q,r)):z=-1);-1!==z;){const Ne=r[tr];if(gs(I,z,Ne.data)){const it=ti(z,r,a,R,u,me);if(it!==yt)return it}Q=r[z+8],Q!==je&&cs(u,r[tr].data[z+8]===me)&&gs(I,z,r)?(R=Ne,z=E(Q),r=M(Q,r)):z=-1}}return g}function ti(n,r,a,u,g,I){const R=r[tr],z=R.data[n+8],Ne=Ti(z,R,a,null==u?Vo(z)&&B:u!=R&&0!=(3&z.type),g&Mn.Host&&I===z);return null!==Ne?vr(r,R,Ne,z):yt}function Ti(n,r,a,u,g){const I=n.providerIndexes,R=r.data,z=1048575&I,Q=n.directiveStart,Ne=I>>20,Bt=g?z+Ne:n.directiveEnd;for(let cn=u?z:z+Ne;cn<Bt;cn++){const Fn=R[cn];if(cn<Q&&a===Fn||cn>=Q&&Fn.type===a)return cn}if(g){const cn=R[Q];if(cn&&To(cn)&&cn.type===a)return Q}return null}function vr(n,r,a,u){let g=n[a];const I=r.data;if(function Sn(n){return n instanceof Kt}(g)){const R=g;R.resolving&&function It(n,r){const a=r?`. Dependency path: ${r.join(" > ")} > ${n}`:"";throw new $e(-200,`Circular dependency in DI detected for ${n}${a}`)}(function dt(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():Mt(n)}(I[a]));const z=W(R.canSeeViewProviders);R.resolving=!0;const Q=R.injectImpl?mr(R.injectImpl):null;sc(n,u,Mn.Default);try{g=n[a]=R.factory(void 0,I,n,u),r.firstCreatePass&&a>=u.directiveStart&&function Pc(n,r,a){const{ngOnChanges:u,ngOnInit:g,ngDoCheck:I}=r.type.prototype;if(u){var R,z;const it=il(r);(null!==(R=a.preOrderHooks)&&void 0!==R?R:a.preOrderHooks=[]).push(n,it),(null!==(z=a.preOrderCheckHooks)&&void 0!==z?z:a.preOrderCheckHooks=[]).push(n,it)}var Q,me,Ne;g&&(null!==(Q=a.preOrderHooks)&&void 0!==Q?Q:a.preOrderHooks=[]).push(0-n,g),I&&((null!==(me=a.preOrderHooks)&&void 0!==me?me:a.preOrderHooks=[]).push(n,I),(null!==(Ne=a.preOrderCheckHooks)&&void 0!==Ne?Ne:a.preOrderCheckHooks=[]).push(n,I))}(a,I[a],r)}finally{null!==Q&&mr(Q),W(z),R.resolving=!1,al()}}return g}function gs(n,r,a){return!!(a[r+(n>>Ve)]&1<<n)}function cs(n,r){return!(n&Mn.Self||n&Mn.Host&&r)}class Zi{constructor(r,a){this._tNode=r,this._lView=a}get(r,a,u){return sr(this._tNode,this._lView,r,Fr(u),a)}}function bs(){return new Zi(as(),Wn())}function Ji(n){return te(()=>{const r=n.prototype.constructor,a=r[jn]||Ma(r),u=Object.prototype;let g=Object.getPrototypeOf(n.prototype).constructor;for(;g&&g!==u;){const I=g[jn]||Ma(g);if(I&&I!==a)return I;g=Object.getPrototypeOf(g)}return I=>new I})}function Ma(n){return at(n)?()=>{const r=Ma(xe(n));return r&&r()}:Ks(n)}function Ro(n){const r=n[tr],a=r.type;return 2===a?r.declTNode:1===a?n[ss]:null}function Rl(n){return function or(n,r){if("class"===r)return n.classes;if("style"===r)return n.styles;const a=n.attrs;if(a){const u=a.length;let g=0;for(;g<u;){const I=a[g];if(Gt(I))break;if(0===I)g+=2;else if("number"==typeof I)for(g++;g<u&&"string"==typeof a[g];)g++;else{if(I===r)return a[g+1];g+=2}}}return null}(as(),n)}const Rs="__annotations__",qs="__parameters__",la="__prop__metadata__";function Ol(n,r,a,u,g){return te(()=>{const I=Xa(r);function R(...z){if(this instanceof R)return I.call(this,...z),this;const Q=new R(...z);return function(Ne){return g&&g(Ne,...z),(Ne.hasOwnProperty(Rs)?Ne[Rs]:Object.defineProperty(Ne,Rs,{value:[]})[Rs]).push(Q),u&&u(Ne),Ne}}return a&&(R.prototype=Object.create(a.prototype)),R.prototype.ngMetadataName=n,R.annotationCls=R,R})}function Xa(n){return function(...a){if(n){const u=n(...a);for(const g in u)this[g]=u[g]}}}function El(n,r,a){return te(()=>{const u=Xa(r);function g(...I){if(this instanceof g)return u.apply(this,I),this;const R=new g(...I);return z.annotation=R,z;function z(Q,me,Ne){const it=Q.hasOwnProperty(qs)?Q[qs]:Object.defineProperty(Q,qs,{value:[]})[qs];for(;it.length<=Ne;)it.push(null);return(it[Ne]=it[Ne]||[]).push(R),Q}}return a&&(g.prototype=Object.create(a.prototype)),g.prototype.ngMetadataName=n,g.annotationCls=g,g})}const oc=El("Attribute",n=>({attributeName:n,__NG_ELEMENT_ID__:()=>Rl(n)}));function ta(n){const r=Jn.ng;if(r&&r.\u0275compilerFacade)return r.\u0275compilerFacade;throw new Error("JIT compiler unavailable")}const kc=Function;function Gl(n){return"function"==typeof n}function Nc(n,r){n.forEach(a=>Array.isArray(a)?Nc(a,r):r(a))}function au(n,r,a){r>=n.length?n.push(a):n.splice(r,0,a)}function wl(n,r){return r>=n.length-1?n.pop():n.splice(r,1)[0]}function lu(n,r){const a=[];for(let u=0;u<n;u++)a.push(r);return a}function uo(n,r,a){let u=so(n,r);return u>=0?n[1|u]=a:(u=~u,function kf(n,r,a,u){let g=n.length;if(g==r)n.push(a,u);else if(1===g)n.push(u,n[0]),n[0]=a;else{for(g--,n.push(n[g-1],n[g]);g>r;)n[g]=n[g-2],g--;n[r]=a,n[r+1]=u}}(n,u,r,a)),u}function Bu(n,r){const a=so(n,r);if(a>=0)return n[1|a]}function so(n,r){return function Nf(n,r,a){let u=0,g=n.length>>a;for(;g!==u;){const I=u+(g-u>>1),R=n[I<<a];if(r===R)return I<<a;R>r?g=I:u=I+1}return~(g<<a)}(n,r,1)}const Ff=/^function\s+\S+\(\)\s*{[\s\S]+\.apply\(this,\s*(arguments|(?:[^()]+\(\[\],)?[^()]+\(arguments\).*)\)/,$u=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{/,fm=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{[\s\S]*constructor\s*\(/,Up=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{[\s\S]*constructor\s*\(\)\s*{[^}]*super\(\.\.\.arguments\)/;class bo{constructor(r){this._reflect=r||Jn.Reflect}factory(r){return(...a)=>new r(...a)}_zipTypesAndAnnotations(r,a){let u;u=lu(typeof r>"u"?a.length:r.length);for(let g=0;g<u.length;g++)u[g]=typeof r>"u"?[]:r[g]&&r[g]!=Object?[r[g]]:[],a&&null!=a[g]&&(u[g]=u[g].concat(a[g]));return u}_ownParameters(r,a){if(function Ts(n){return Ff.test(n)||Up.test(n)||$u.test(n)&&!fm.test(n)}(r.toString()))return null;if(r.parameters&&r.parameters!==a.parameters)return r.parameters;const g=r.ctorParameters;if(g&&g!==a.ctorParameters){const z="function"==typeof g?g():g,Q=z.map(Ne=>Ne&&Ne.type),me=z.map(Ne=>Ne&&lc(Ne.decorators));return this._zipTypesAndAnnotations(Q,me)}const I=r.hasOwnProperty(qs)&&r[qs],R=this._reflect&&this._reflect.getOwnMetadata&&this._reflect.getOwnMetadata("design:paramtypes",r);return R||I?this._zipTypesAndAnnotations(R,I):lu(r.length)}parameters(r){if(!Gl(r))return[];const a=Vu(r);let u=this._ownParameters(r,a);return!u&&a!==Object&&(u=this.parameters(a)),u||[]}_ownAnnotations(r,a){if(r.annotations&&r.annotations!==a.annotations){let u=r.annotations;return"function"==typeof u&&u.annotations&&(u=u.annotations),u}return r.decorators&&r.decorators!==a.decorators?lc(r.decorators):r.hasOwnProperty(Rs)?r[Rs]:null}annotations(r){if(!Gl(r))return[];const a=Vu(r),u=this._ownAnnotations(r,a)||[];return(a!==Object?this.annotations(a):[]).concat(u)}_ownPropMetadata(r,a){if(r.propMetadata&&r.propMetadata!==a.propMetadata){let u=r.propMetadata;return"function"==typeof u&&u.propMetadata&&(u=u.propMetadata),u}if(r.propDecorators&&r.propDecorators!==a.propDecorators){const u=r.propDecorators,g={};return Object.keys(u).forEach(I=>{g[I]=lc(u[I])}),g}return r.hasOwnProperty(la)?r[la]:null}propMetadata(r){if(!Gl(r))return{};const a=Vu(r),u={};if(a!==Object){const I=this.propMetadata(a);Object.keys(I).forEach(R=>{u[R]=I[R]})}const g=this._ownPropMetadata(r,a);return g&&Object.keys(g).forEach(I=>{const R=[];u.hasOwnProperty(I)&&R.push(...u[I]),R.push(...g[I]),u[I]=R}),u}ownPropMetadata(r){return Gl(r)&&this._ownPropMetadata(r,Vu(r))||{}}hasLifecycleHook(r,a){return r instanceof kc&&a in r.prototype}}function lc(n){return n?n.map(r=>new(0,r.type.annotationCls)(...r.args?r.args:[])):[]}function Vu(n){const r=n.prototype?Object.getPrototypeOf(n.prototype):null;return(r?r.constructor:null)||Object}const Lf=Ir(El("Inject",n=>({token:n})),-1),Vd=Ir(El("Optional"),8),Ud=Ir(El("Self"),2),cu=Ir(El("SkipSelf"),4),Bf=Ir(El("Host"),1);let Uu=null;function jd(n){return jp(function $f(){return Uu=Uu||new bo}().parameters(n))}function jp(n){return n.map(r=>function Nl(n){const r={token:null,attribute:null,host:!1,optional:!1,self:!1,skipSelf:!1};if(Array.isArray(n)&&n.length>0)for(let a=0;a<n.length;a++){const u=n[a];if(void 0===u)continue;const g=Object.getPrototypeOf(u);if(u instanceof Vd||"Optional"===g.ngMetadataName)r.optional=!0;else if(u instanceof cu||"SkipSelf"===g.ngMetadataName)r.skipSelf=!0;else if(u instanceof Ud||"Self"===g.ngMetadataName)r.self=!0;else if(u instanceof Bf||"Host"===g.ngMetadataName)r.host=!0;else if(u instanceof Lf)r.token=u.token;else if(u instanceof oc){if(void 0===u.attributeName)throw new $e(204,!1);r.attribute=u.attributeName}else r.token=u}else r.token=void 0===n||Array.isArray(n)&&0===n.length?null:n;return r}(r))}var zs=(()=>((zs=zs||{})[zs.Important=1]="Important",zs[zs.DashCase=2]="DashCase",zs))();const Bi=/^>|^->|<!--|-->|--!>|<!-$/g,Pa=/(<|>)/,Wu="\u200b$1\u200b";const Va=new Map;let ts=0;const Wp="__ngContext__";function Da(n,r){Is(r)?(n[Wp]=r[ko],function pm(n){Va.set(n[ko],n)}(r)):n[Wp]=r}let Na;function jh(n,r){return Na(n,r)}function Hd(n){const r=n[Ai];return Qi(r)?r[Ai]:r}function Wf(n){return cl(n[ao])}function fu(n){return cl(n[ks])}function cl(n){for(;null!==n&&!Qi(n);)n=n[ks];return n}function Ku(n,r,a,u,g){if(null!=u){let I,R=!1;Qi(u)?I=u:Is(u)&&(R=!0,u=u[Ci]);const z=ot(u);0===n&&null!==a?null==g?Wh(r,a,z):Xu(r,a,z,g||null,!0):1===n&&null!==a?Xu(r,a,z,g||null,!0):2===n?function Ju(n,r,a){const u=hc(n,r);u&&function Vc(n,r,a,u){n.removeChild(r,a,u)}(n,u,r,a)}(r,z,R):3===n&&r.destroyNode(z),null!=I&&function ov(n,r,a,u,g){const I=a[eo];I!==ot(a)&&Ku(r,n,u,I,g);for(let z=ms;z<a.length;z++){const Q=a[z];Gh(Q[tr],Q,n,r,u,I)}}(r,n,I,a,g)}}function Yu(n,r){return n.createComment(function Uh(n){return n.replace(Bi,r=>r.replace(Pa,Wu))}(r))}function Hh(n,r,a){return n.createElement(r,a)}function us(n,r){const a=n[go],u=a.indexOf(r);_t(r),a.splice(u,1)}function qu(n,r){if(n.length<=ms)return;const a=ms+r,u=n[a];if(u){const g=u[Gs];null!==g&&g!==n&&us(g,u),r>0&&(n[a-1][ks]=u[ks]);const I=wl(n,ms+r);!function zo(n,r){Gh(n,r,r[Br],2,null,null),r[Ci]=null,r[ss]=null}(u[tr],u);const R=I[fo];null!==R&&R.detachView(I[tr]),u[Ai]=null,u[ks]=null,u[Lr]&=-129}return u}function es(n,r){if(!(256&r[Lr])){var a,u;const g=r[Br];null===(a=r[ia])||void 0===a||a.destroy(),null===(u=r[ps])||void 0===u||u.destroy(),g.destroyNode&&Gh(n,r,g,3,null,null),function qp(n){let r=n[ao];if(!r)return Gf(n[tr],n);for(;r;){let a=null;if(Is(r))a=r[ao];else{const u=r[ms];u&&(a=u)}if(!a){for(;r&&!r[ks]&&r!==n;)Is(r)&&Gf(r[tr],r),r=r[Ai];null===r&&(r=n),Is(r)&&Gf(r[tr],r),a=r&&r[ks]}r=a}}(r)}}function Gf(n,r){if(!(256&r[Lr])){r[Lr]&=-129,r[Lr]|=256,function rv(n,r){let a;if(null!=n&&null!=(a=n.destroyHooks))for(let u=0;u<a.length;u+=2){const g=r[a[u]];if(!(g instanceof Kt)){const I=a[u+1];if(Array.isArray(I))for(let R=0;R<I.length;R+=2){const z=g[I[R]],Q=I[R+1];le(4,z,Q);try{Q.call(z)}finally{le(5,z,Q)}}else{le(4,g,I);try{I.call(g)}finally{le(5,g,I)}}}}}(n,r),function Zu(n,r){const a=n.cleanup,u=r[oo];if(null!==a)for(let I=0;I<a.length-1;I+=2)if("string"==typeof a[I]){const R=a[I+3];R>=0?u[R]():u[-R].unsubscribe(),I+=2}else a[I].call(u[a[I+1]]);null!==u&&(r[oo]=null);const g=r[po];if(null!==g){for(let I=0;I<g.length;I++)(0,g[I])();r[po]=null}}(n,r),1===r[tr].type&&r[Br].destroy();const a=r[Gs];if(null!==a&&Qi(r[Ai])){a!==r[Ai]&&us(a,r);const u=r[fo];null!==u&&u.detachView(n)}!function Gu(n){Va.delete(n[ko])}(r)}}function ra(n,r,a){return function Kf(n,r,a){let u=r;for(;null!==u&&40&u.type;)u=(r=u).parent;if(null===u)return a[Ci];{const{componentOffset:g}=u;if(g>-1){const{encapsulation:I}=n.data[u.directiveStart+g];if(I===Ke.None||I===Ke.Emulated)return null}return tn(u,a)}}(n,r.parent,a)}function Xu(n,r,a,u,g){n.insertBefore(r,a,u,g)}function Wh(n,r,a){n.appendChild(r,a)}function Wd(n,r,a,u,g){null!==u?Xu(n,r,a,u,g):Wh(n,r,a)}function hc(n,r){return n.parentNode(r)}function Yf(n,r,a){return sv(n,r,a)}let Kd,Xd,pu,sv=function Gd(n,r,a){return 40&n.type?tn(n,a):null};function Zp(n,r,a,u){const g=ra(n,u,r),I=r[Br],z=Yf(u.parent||r[ss],u,r);if(null!=g)if(Array.isArray(a))for(let Q=0;Q<a.length;Q++)Wd(I,g,a[Q],z,!1);else Wd(I,g,a,z,!1);void 0!==Kd&&Kd(I,u,r,a,g)}function qf(n,r){if(null!==r){const a=r.type;if(3&a)return tn(r,n);if(4&a)return wm(-1,n[r.index]);if(8&a){const u=r.child;if(null!==u)return qf(n,u);{const g=n[r.index];return Qi(g)?wm(-1,g):ot(g)}}if(32&a)return jh(r,n)()||ot(n[r.index]);{const u=Xp(n,r);return null!==u?Array.isArray(u)?u[0]:qf(Hd(n[Li]),u):qf(n,r.next)}}return null}function Xp(n,r){return null!==r?n[Li][ss].projection[r.projection]:null}function wm(n,r){const a=ms+n+1;if(a<r.length){const u=r[a],g=u[tr].firstChild;if(null!==g)return qf(u,g)}return r[eo]}function qd(n,r,a,u,g,I,R){for(;null!=a;){const z=u[a.index],Q=a.type;if(R&&0===r&&(z&&Da(ot(z),u),a.flags|=2),32!=(32&a.flags))if(8&Q)qd(n,r,a.child,u,g,I,!1),Ku(r,n,g,z,I);else if(32&Q){const me=jh(a,u);let Ne;for(;Ne=me();)Ku(r,n,g,Ne,I);Ku(r,n,g,z,I)}else 16&Q?Zd(n,r,u,a,g,I):Ku(r,n,g,z,I);a=R?a.projectionNext:a.next}}function Gh(n,r,a,u,g,I){qd(a,u,n.firstChild,r,g,I,!1)}function Zd(n,r,a,u,g,I){const R=a[Li],Q=R[ss].projection[u.projection];if(Array.isArray(Q))for(let me=0;me<Q.length;me++)Ku(r,n,g,Q[me],I);else qd(n,r,Q,R[Ai],g,I,!0)}function Kh(n,r,a){""===a?n.removeAttribute(r,"class"):n.setAttribute(r,"class",a)}function Zf(n,r,a){const{mergedAttrs:u,classes:g,styles:I}=a;null!==u&&Ft(n,r,u),null!==g&&Kh(n,r,g),null!==I&&function ul(n,r,a){n.setAttribute(r,"style",a)}(n,r,I)}function Im(n){Xd=n}function gu(n){var r;return(null===(r=function id(){if(void 0===pu&&(pu=null,Jn.trustedTypes))try{pu=Jn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return pu}())||void 0===r?void 0:r.createScriptURL(n))||n}class lv{constructor(r){this.changingThisBreaksApplicationSecurity=r}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${We})`}}function Bl(n){return n instanceof lv?n.changingThisBreaksApplicationSecurity:n}function Dl(n,r){const a=function Xf(n){return n instanceof lv&&n.getTypeName()||null}(n);if(null!=a&&a!==r){if("ResourceURL"===a&&"URL"===r)return!0;throw new Error(`Required a safe ${r}, got a ${a} (see ${We})`)}return a===r}const mu=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var fa=(()=>((fa=fa||{})[fa.NONE=0]="NONE",fa[fa.HTML=1]="HTML",fa[fa.STYLE=2]="STYLE",fa[fa.SCRIPT=3]="SCRIPT",fa[fa.URL=4]="URL",fa[fa.RESOURCE_URL=5]="RESOURCE_URL",fa))();function hd(n){const r=Qh();return r?r.sanitize(fa.URL,n)||"":Dl(n,"URL")?Bl(n):function Jf(n){return(n=String(n)).match(mu)?n:"unsafe:"+n}(Mt(n))}function Mm(n){const r=Qh();if(r)return gu(r.sanitize(fa.RESOURCE_URL,n)||"");if(Dl(n,"ResourceURL"))return gu(Bl(n));throw new $e(904,!1)}function fd(n,r,a){return function Pm(n,r){return"src"===r&&("embed"===n||"frame"===n||"iframe"===n||"media"===n||"script"===n)||"href"===r&&("base"===n||"link"===n)?Mm:hd}(r,a)(n)}function Qh(){const n=Wn();return n&&n[os].sanitizer}class Eo{constructor(r,a){this._desc=r,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof a?this.__NG_ELEMENT_ID__=a:void 0!==a&&(this.\u0275prov=Et({token:this,providedIn:a.providedIn||"root",factory:a.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const Sa=new Eo("ENVIRONMENT_INITIALIZER"),Jh=new Eo("INJECTOR",-1),th=new Eo("INJECTOR_DEF_TYPES");class ef{get(r,a=si){if(a===si){const u=new Error(`NullInjectorError: No provider for ${Qe(r)}!`);throw u.name="NullInjectorError",u}return a}}function yu(...n){return{\u0275providers:vu(0,n),\u0275fromNgModule:!0}}function vu(n,...r){const a=[],u=new Set;let g;return Nc(r,I=>{const R=I;_u(R,a,[],u)&&(g||(g=[]),g.push(R))}),void 0!==g&&km(g,a),a}function km(n,r){for(let a=0;a<n.length;a++){const{providers:g}=n[a];pd(g,I=>{r.push(I)})}}function _u(n,r,a,u){if(!(n=xe(n)))return!1;let g=null,I=Yn(n);const R=!I&&bt(n);if(I||R){if(R&&!R.standalone)return!1;g=n}else{const Q=n.ngModule;if(I=Yn(Q),!I)return!1;g=Q}const z=u.has(g);if(R){if(z)return!1;if(u.add(g),R.dependencies){const Q="function"==typeof R.dependencies?R.dependencies():R.dependencies;for(const me of Q)_u(me,r,a,u)}}else{if(!I)return!1;{if(null!=I.imports&&!z){let me;u.add(g);try{Nc(I.imports,Ne=>{_u(Ne,r,a,u)&&(me||(me=[]),me.push(Ne))})}finally{}void 0!==me&&km(me,r)}if(!z){const me=Ks(g)||(()=>new g);r.push({provide:g,useFactory:me,deps:tt},{provide:th,useValue:g,multi:!0},{provide:Sa,useValue:()=>jt(g),multi:!0})}const Q=I.providers;null==Q||z||pd(Q,Ne=>{r.push(Ne)})}}return g!==n&&void 0!==n.providers}function pd(n,r){for(let a of n)pt(a)&&(a=a.\u0275providers),Array.isArray(a)?pd(a,r):r(a)}const hv=Se({provide:String,useValue:Se});function Uc(n){return null!==n&&"object"==typeof n&&hv in n}function gd(n){return"function"==typeof n}const ep=new Eo("Set Injector scope."),lg={},tp={};let nh;function np(){return void 0===nh&&(nh=new ef),nh}class md{}class Lm extends md{get destroyed(){return this._destroyed}constructor(r,a,u,g){super(),this.parent=a,this.source=u,this.scopes=g,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,ug(r,R=>this.processProvider(R)),this.records.set(Jh,rh(void 0,this)),g.has("environment")&&this.records.set(md,rh(void 0,this));const I=this.records.get(ep);null!=I&&"string"==typeof I.value&&this.scopes.add(I.value),this.injectorDefTypes=new Set(this.get(th.multi,tt,Mn.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const r of this._ngOnDestroyHooks)r.ngOnDestroy();for(const r of this._onDestroyHooks)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(r){return this.assertNotDestroyed(),this._onDestroyHooks.push(r),()=>this.removeOnDestroy(r)}runInContext(r){this.assertNotDestroyed();const a=ke(this),u=mr(void 0);try{return r()}finally{ke(a),mr(u)}}get(r,a=si,u=Mn.Default){if(this.assertNotDestroyed(),r.hasOwnProperty(mn))return r[mn](this);u=Fr(u);const g=ke(this),I=mr(void 0);try{if(!(u&Mn.SkipSelf)){let z=this.records.get(r);if(void 0===z){const Q=function gv(n){return"function"==typeof n||"object"==typeof n&&n instanceof Eo}(r)&&Xn(r);z=Q&&this.injectableDefInScope(Q)?rh(cg(r),lg):null,this.records.set(r,z)}if(null!=z)return this.hydrate(r,z)}return(u&Mn.Self?np():this.parent).get(r,a=u&Mn.Optional&&a===si?null:a)}catch(R){if("NullInjectorError"===R.name){if((R[fi]=R[fi]||[]).unshift(Qe(r)),g)throw R;return function Ae(n,r,a,u){const g=n[fi];throw r[ui]&&g.unshift(r[ui]),n.message=function se(n,r,a,u=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.slice(2):n;let g=Qe(r);if(Array.isArray(r))g=r.map(Qe).join(" -> ");else if("object"==typeof r){let I=[];for(let R in r)if(r.hasOwnProperty(R)){let z=r[R];I.push(R+":"+("string"==typeof z?JSON.stringify(z):Qe(z)))}g=`{${I.join(", ")}}`}return`${a}${u?"("+u+")":""}[${g}]: ${n.replace(br,"\n  ")}`}("\n"+n.message,g,a,u),n.ngTokenPath=g,n[fi]=null,n}(R,r,"R3InjectorError",this.source)}throw R}finally{mr(I),ke(g)}}resolveInjectorInitializers(){const r=ke(this),a=mr(void 0);try{const u=this.get(Sa.multi,tt,Mn.Self);for(const g of u)g()}finally{ke(r),mr(a)}}toString(){const r=[],a=this.records;for(const u of a.keys())r.push(Qe(u));return`R3Injector[${r.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new $e(205,!1)}processProvider(r){let a=gd(r=xe(r))?r:xe(r&&r.provide);const u=function tf(n){return Uc(n)?rh(void 0,n.useValue):rh(Bm(n),lg)}(r);if(gd(r)||!0!==r.multi)this.records.get(a);else{let g=this.records.get(a);g||(g=rh(void 0,lg,!0),g.factory=()=>xr(g.multi),this.records.set(a,g)),a=r,g.multi.push(r)}this.records.set(a,u)}hydrate(r,a){return a.value===lg&&(a.value=tp,a.value=a.factory()),"object"==typeof a.value&&a.value&&function Eu(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(a.value)&&this._ngOnDestroyHooks.add(a.value),a.value}injectableDefInScope(r){if(!r.providedIn)return!1;const a=xe(r.providedIn);return"string"==typeof a?"any"===a||this.scopes.has(a):this.injectorDefTypes.has(a)}removeOnDestroy(r){const a=this._onDestroyHooks.indexOf(r);-1!==a&&this._onDestroyHooks.splice(a,1)}}function cg(n){const r=Xn(n),a=null!==r?r.factory:Ks(n);if(null!==a)return a;if(n instanceof Eo)throw new $e(204,!1);if(n instanceof Function)return function bu(n){const r=n.length;if(r>0)throw lu(r,"?"),new $e(204,!1);const a=function un(n){return n&&(n[an]||n[Vr])||null}(n);return null!==a?()=>a.factory(n):()=>new n}(n);throw new $e(204,!1)}function Bm(n,r,a){let u;if(gd(n)){const g=xe(n);return Ks(g)||cg(g)}if(Uc(n))u=()=>xe(n.useValue);else if(function Fm(n){return!(!n||!n.useFactory)}(n))u=()=>n.useFactory(...xr(n.deps||[]));else if(function Nm(n){return!(!n||!n.useExisting)}(n))u=()=>jt(xe(n.useExisting));else{const g=xe(n&&(n.useClass||n.provide));if(!function pv(n){return!!n.deps}(n))return Ks(g)||cg(g);u=()=>new g(...xr(n.deps))}return u}function rh(n,r,a=!1){return{factory:n,value:r,multi:a?[]:void 0}}function ug(n,r){for(const a of n)Array.isArray(a)?ug(a,r):a&&pt(a)?ug(a.\u0275providers,r):r(a)}const fc=new Eo("AppId",{providedIn:"root",factory:()=>Ta}),Ta="ng",rp=new Eo("Platform Initializer"),mv=new Eo("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),R_=new Eo("AnimationModuleType"),dg=new Eo("CSP nonce",{providedIn:"root",factory:()=>{var n,r;return(null===(n=function rd(){return void 0!==Xd?Xd:typeof document<"u"?document:void 0}().body)||void 0===n||null===(r=n.querySelector("[ngCspNonce]"))||void 0===r?void 0:r.getAttribute("ngCspNonce"))||null}});let wu=(n,r)=>null;function ap(n,r){return wu(n,r)}class ch{}class _d{}class bv{resolveComponentFactory(r){throw function Cu(n){const r=Error(`No component factory found for ${Qe(n)}.`);return r.ngComponent=n,r}(r)}}let bd=(()=>{class n{}return n.NULL=new bv,n})();function Gm(){return Du(as(),Wn())}function Du(n,r){return new mc(tn(n,r))}let mc=(()=>{class n{constructor(a){this.nativeElement=a}}return n.__NG_ELEMENT_ID__=Gm,n})();function Km(n){return n instanceof mc?n.nativeElement:n}class Ev{}let tl=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>function k_(){const n=Wn(),a=Wr(as().index,n);return(Is(a)?a:n)[Br]}(),n})(),mg=(()=>{class n{}return n.\u0275prov=Et({token:n,providedIn:"root",factory:()=>null}),n})();class Ed{constructor(r){this.full=r,this.major=r.split(".")[0],this.minor=r.split(".")[1],this.patch=r.split(".").slice(2).join(".")}}const uh=new Ed("16.0.0"),cp={};function Hc(n){for(;n;){n[Lr]|=64;const r=Hd(n);if(Ao(n)&&!r)return n;n=r}return null}function Ym(n){return n.ngOriginalError}class dh{constructor(){this._console=console}handleError(r){const a=this._findOriginalError(r);this._console.error("ERROR",r),a&&this._console.error("ORIGINAL ERROR",a)}_findOriginalError(r){let a=r&&Ym(r);for(;a&&Ym(a);)a=Ym(a);return a||null}}const Cd=new Eo("",{providedIn:"root",factory:()=>!1});function Gc(n){return n instanceof Function?n():n}class fh extends Yr{constructor(){super(...arguments),this.consumerAllowSignalWrites=!1,this._lView=null}set lView(r){this._lView=r}onConsumerDependencyMayHaveChanged(){Hc(this._lView)}onProducerUpdateValueVersion(){}get hasReadASignal(){return this.hasProducers}runInContext(r,a,u){const g=Tn(this);this.trackingVersion++;try{r(a,u)}finally{Tn(g)}}destroy(){this.trackingVersion++}}let Kc=null;function ey(){var n;return null!==(n=Kc)&&void 0!==n||(Kc=new fh),Kc}function Su(n,r){var a;return null!==(a=n[r])&&void 0!==a?a:ey()}function bg(n,r){const a=ey();a.hasReadASignal&&(n[r]=Kc,a.lView=n,Kc=new fh)}const ns={};function Iv(n){Eg(Ln(),Wn(),Mo()+n,!1)}function Eg(n,r,a,u){if(!u)if(3==(3&r[Lr])){const I=n.preOrderCheckHooks;null!==I&&V(r,I,a)}else{const I=n.preOrderHooks;null!==I&&G(r,I,0,a)}ll(a)}const wg={\u0275\u0275defineInjectable:Et,\u0275\u0275defineInjector:yn,\u0275\u0275inject:jt,\u0275\u0275invalidFactoryDep:function bn(n){throw new $e(202,!1)},resolveForwardRef:xe};const Ig=Se({provide:String,useValue:Se});function Cv(n){return void 0!==n.useClass}function Tu(n){return void 0!==n.useFactory}const df=Ol("Injectable",void 0,void 0,void 0,(n,r)=>function ty(n,r){let a=null,u=null;n.hasOwnProperty(an)||Object.defineProperty(n,an,{get:()=>(null===a&&(a=ta().compileInjectable(wg,`ng:///${n.name}/\u0275prov.js`,function Cg(n,r){const a=r||{providedIn:null},u={name:n.name,type:n,typeArgumentCount:0,providedIn:a.providedIn};return(Cv(a)||Tu(a))&&void 0!==a.deps&&(u.deps=jp(a.deps)),Cv(a)?u.useClass=a.useClass:function Dd(n){return Ig in n}(a)?u.useValue=a.useValue:Tu(a)?u.useFactory=a.useFactory:function ny(n){return void 0!==n.useExisting}(a)&&(u.useExisting=a.useExisting),u}(n,r))),a)}),n.hasOwnProperty(jn)||Object.defineProperty(n,jn,{get:()=>{if(null===u){const g=ta();u=g.compileFactory(wg,`ng:///${n.name}/\u0275fac.js`,{name:n.name,type:n,typeArgumentCount:0,deps:jd(n),target:g.FactoryTarget.Injectable})}return u},configurable:!0})}(n,r));function Dg(n,r=null,a=null,u){const g=Au(n,r,a,u);return g.resolveInjectorInitializers(),g}function Au(n,r=null,a=null,u,g=new Set){const I=[a||tt,yu(n)];return u=u||("object"==typeof n?void 0:Qe(n)),new Lm(I,r||np(),u||null,g)}let Vl=(()=>{class n{static create(a,u){if(Array.isArray(a))return Dg({name:""},u,a,"");{var g;const I=null!==(g=a.name)&&void 0!==g?g:"";return Dg({name:I},a.parent,a.providers,I)}}}return n.THROW_IF_NOT_FOUND=si,n.NULL=new ef,n.\u0275prov=Et({token:n,providedIn:"any",factory:()=>jt(Jh)}),n.__NG_ELEMENT_ID__=-1,n})();function Sl(n,r=Mn.Default){const a=Wn();return null===a?jt(n,r):sr(as(),a,xe(n),r)}function dp(){throw new Error("invalid")}function ql(n,r,a,u,g,I,R,z,Q,me,Ne){const it=r.blueprint.slice();return it[Ci]=g,it[Lr]=140|u,(null!==me||n&&2048&n[Lr])&&(it[Lr]|=2048),ee(it),it[Ai]=it[Di]=n,it[ki]=a,it[os]=R||n&&n[os],it[Br]=z||n&&n[Br],it[ws]=Q||n&&n[ws]||null,it[ss]=I,it[ko]=function T_(){return ts++}(),it[lo]=Ne,it[$o]=me,it[Li]=2==r.type?n[Li]:it,it}function xu(n,r,a,u,g){let I=n.data[r];if(null===I)I=function Yc(n,r,a,u,g){const I=nc(),R=rc(),Q=n.data[r]=function Ul(n,r,a,u,g,I){return{type:a,index:u,insertBeforeIndex:null,injectorIndex:r?r.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:g,attrs:I,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:r,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,R?I:I&&I.parent,a,r,u,g);return null===n.firstChild&&(n.firstChild=Q),null!==I&&(R?null==I.child&&null!==Q.parent&&(I.child=Q):null===I.next&&(I.next=Q,Q.prev=I)),Q}(n,r,a,u,g),function Fh(){return yr.lFrame.inI18n}()&&(I.flags|=32);else if(64&I.type){I.type=a,I.value=u,I.attrs=g;const R=function yl(){const n=yr.lFrame,r=n.currentTNode;return n.isParent?r:r.parent}();I.injectorIndex=null===R?-1:R.injectorIndex}return qa(I,!0),I}function hp(n,r,a,u){if(0===a)return-1;const g=r.length;for(let I=0;I<a;I++)r.push(u),n.blueprint.push(u),n.data.push(null);return g}function Dv(n,r,a,u,g){const I=Su(r,ia),R=Mo(),z=2&u;try{if(ll(-1),z&&r.length>Ei&&Eg(n,r,Ei,!1),le(z?2:0,g),z)I.runInContext(a,u,g);else{const me=Tn(null);try{a(u,g)}finally{Tn(me)}}}finally{z&&null===r[ia]&&bg(r,ia),ll(R),le(z?3:1,g)}}function gh(n,r,a){if(Jo(r)){const u=Tn(null);try{const I=r.directiveEnd;for(let R=r.directiveStart;R<I;R++){const z=n.data[R];z.contentQueries&&z.contentQueries(1,a[R],R)}}finally{Tn(u)}}}function fp(n,r,a){xo()&&(function yh(n,r,a,u){const g=a.directiveStart,I=a.directiveEnd;Vo(a)&&function jl(n,r,a){const u=tn(r,n),R=Lg(n,ql(n,Sg(a),null,a.onPush?64:16,u,r,null,n[os].rendererFactory.createRenderer(u,a),null,null,null));n[r.index]=R}(r,a,n.data[g+a.componentOffset]),n.firstCreatePass||sn(a,r),Da(u,r);const R=a.initialInputs;for(let z=g;z<I;z++){const Q=n.data[z],me=vr(r,n,z,a);Da(me,r),null!==R&&sy(0,z-g,me,Q,0,R),To(Q)&&(Wr(a.index,r)[ki]=vr(r,n,z,a))}}(n,r,a,tn(a,r)),64==(64&a.flags)&&ff(n,r,a))}function hf(n,r,a=tn){const u=r.localNames;if(null!==u){let g=r.index+1;for(let I=0;I<u.length;I+=2){const R=u[I+1],z=-1===R?a(r,n):n[R];n[g++]=z}}}function Sg(n){const r=n.tView;return null===r||r.incompleteFirstPass?n.tView=Tg(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):r}function Tg(n,r,a,u,g,I,R,z,Q,me,Ne){const it=Ei+u,Bt=it+g,cn=function Sv(n,r){const a=[];for(let u=0;u<r;u++)a.push(u<n?null:ns);return a}(it,Bt),Fn="function"==typeof me?me():me;return cn[tr]={type:n,blueprint:cn,template:a,queries:null,viewQuery:z,declTNode:r,data:cn.slice().fill(null,it),bindingStartIndex:it,expandoStartIndex:Bt,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof I?I():I,pipeRegistry:"function"==typeof R?R():R,firstChild:null,schemas:Q,consts:Fn,incompleteFirstPass:!1,ssrId:Ne}}let fl=n=>null;function Mu(n,r,a,u){for(let g in n)if(n.hasOwnProperty(g)){a=null===a?{}:a;const I=n[g];null===u?xg(a,r,g,I):u.hasOwnProperty(g)&&xg(a,r,u[g],I)}return a}function xg(n,r,a,u){n.hasOwnProperty(a)?n[a].push(r,u):n[a]=[r,u]}function Zl(n,r,a,u,g,I,R,z){const Q=tn(r,a);let Ne,me=r.inputs;!z&&null!=me&&(Ne=me[u])?(ay(n,a,Ne,u,g),Vo(r)&&function L_(n,r){const a=Wr(r,n);16&a[Lr]||(a[Lr]|=64)}(a,r.index)):3&r.type&&(u=function mh(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(u),g=null!=R?R(g,r.value||"",u):g,I.setProperty(Q,u,g))}function yp(n,r,a,u){if(xo()){const g=null===u?null:{"":-1},I=function Pg(n,r){const a=n.directiveRegistry;let u=null,g=null;if(a)for(let R=0;R<a.length;R++){const z=a[R];if(Io(r,z.selectors,!1))if(u||(u=[]),To(z))if(null!==z.findHostDirectiveDefs){const Q=[];g=g||new Map,z.findHostDirectiveDefs(z,Q,g),u.unshift(...Q,z),Rg(n,r,Q.length)}else u.unshift(z),Rg(n,r,0);else{var I;g=g||new Map,null===(I=z.findHostDirectiveDefs)||void 0===I||I.call(z,z,u,g),u.push(z)}}return null===u?null:[u,g]}(n,a);let R,z;null===I?R=z=null:[R,z]=I,null!==R&&Av(n,r,a,R,g,z),g&&function Og(n,r,a){if(r){const u=n.localNames=[];for(let g=0;g<r.length;g+=2){const I=a[r[g+1]];if(null==I)throw new $e(-301,!1);u.push(r[g],I)}}}(a,u,g)}a.mergedAttrs=Gn(a.mergedAttrs,a.attrs)}function Av(n,r,a,u,g,I){for(let it=0;it<u.length;it++)rr(sn(a,r),n,u[it].type);!function kg(n,r,a){n.flags|=1,n.directiveStart=r,n.directiveEnd=r+a,n.providerIndexes=r}(a,n.data.length,u.length);for(let it=0;it<u.length;it++){const Bt=u[it];Bt.providersResolver&&Bt.providersResolver(Bt)}let R=!1,z=!1,Q=hp(n,r,u.length,null);for(let it=0;it<u.length;it++){const Bt=u[it];a.mergedAttrs=Gn(a.mergedAttrs,Bt.hostAttrs),Mv(n,a,r,Q,Bt),xv(Q,Bt,g),null!==Bt.contentQueries&&(a.flags|=4),(null!==Bt.hostBindings||null!==Bt.hostAttrs||0!==Bt.hostVars)&&(a.flags|=64);const cn=Bt.type.prototype;var me,Ne;!R&&(cn.ngOnChanges||cn.ngOnInit||cn.ngDoCheck)&&((null!==(me=n.preOrderHooks)&&void 0!==me?me:n.preOrderHooks=[]).push(a.index),R=!0),z||!cn.ngOnChanges&&!cn.ngDoCheck||((null!==(Ne=n.preOrderCheckHooks)&&void 0!==Ne?Ne:n.preOrderCheckHooks=[]).push(a.index),z=!0),Q++}!function Tv(n,r,a){const g=r.directiveEnd,I=n.data,R=r.attrs,z=[];let Q=null,me=null;for(let Ne=r.directiveStart;Ne<g;Ne++){const it=I[Ne],Bt=a?a.get(it):null,Fn=Bt?Bt.outputs:null;Q=Mu(it.inputs,Ne,Q,Bt?Bt.inputs:null),me=Mu(it.outputs,Ne,me,Fn);const gr=null===Q||null===R||Si(r)?null:_h(Q,Ne,R);z.push(gr)}null!==Q&&(Q.hasOwnProperty("class")&&(r.flags|=8),Q.hasOwnProperty("style")&&(r.flags|=16)),r.initialInputs=z,r.inputs=Q,r.outputs=me}(n,a,I)}function ff(n,r,a){const u=a.directiveStart,g=a.directiveEnd,I=a.index,R=function Za(){return yr.lFrame.currentDirectiveIndex}();try{ll(I);for(let z=u;z<g;z++){const Q=n.data[z],me=r[z];Ki(z),(null!==Q.hostBindings||0!==Q.hostVars||null!==Q.hostAttrs)&&vh(Q,me)}}finally{ll(-1),Ki(R)}}function vh(n,r){null!==n.hostBindings&&n.hostBindings(1,r)}function Rg(n,r,a){var u;r.componentOffset=a,(null!==(u=n.components)&&void 0!==u?u:n.components=[]).push(r.index)}function xv(n,r,a){if(a){if(r.exportAs)for(let u=0;u<r.exportAs.length;u++)a[r.exportAs[u]]=n;To(r)&&(a[""]=n)}}function Mv(n,r,a,u,g){n.data[u]=g;const I=g.factory||(g.factory=Ks(g.type)),R=new Kt(I,To(g),Sl);n.blueprint[u]=R,a[u]=R,function iy(n,r,a,u,g){const I=g.hostBindings;if(I){let R=n.hostBindingOpCodes;null===R&&(R=n.hostBindingOpCodes=[]);const z=~r.index;(function B_(n){let r=n.length;for(;r>0;){const a=n[--r];if("number"==typeof a&&a<0)return a}return 0})(R)!=z&&R.push(z),R.push(a,u,I)}}(n,r,u,hp(n,a,g.hostVars,ns),g)}function vc(n,r,a,u,g,I){const R=tn(n,r);!function vp(n,r,a,u,g,I,R){if(null==I)n.removeAttribute(r,g,a);else{const z=null==R?Mt(I):R(I,u||"",g);n.setAttribute(r,g,z,a)}}(r[Br],R,I,n.value,a,u,g)}function sy(n,r,a,u,g,I){const R=I[r];if(null!==R)for(let z=0;z<R.length;)Ng(u,a,R[z++],R[z++],R[z++])}function Ng(n,r,a,u,g){const I=Tn(null);try{null!==n.setInput?n.setInput(r,g,a,u):r[u]=g}finally{Tn(I)}}function _h(n,r,a){let u=null,g=0;for(;g<a.length;){const I=a[g];if(0!==I)if(5!==I){if("number"==typeof I)break;if(n.hasOwnProperty(I)){null===u&&(u=[]);const R=n[I];for(let z=0;z<R.length;z+=2)if(R[z]===r){u.push(I,R[z+1],a[g+1]);break}}g+=2}else g+=2;else g+=4}return u}function oy(n,r,a,u){return[n,!0,!1,r,null,0,u,a,null,null,null]}function Fg(n,r){const a=n.contentQueries;if(null!==a)for(let u=0;u<a.length;u+=2){const I=a[u+1];if(-1!==I){const R=n.data[I];_r(a[u]),R.contentQueries(2,r[I],I)}}}function Lg(n,r){return n[ao]?n[ho][ks]=r:n[ao]=r,n[ho]=r,r}function _p(n,r,a){_r(0);const u=Tn(null);try{r(n,a)}finally{Tn(u)}}function Bg(n){return n[oo]||(n[oo]=[])}function Pv(n){return n.cleanup||(n.cleanup=[])}function Rv(n,r){const a=n[ws],u=a?a.get(dh,null):null;u&&u.handleError(r)}function ay(n,r,a,u,g){for(let I=0;I<a.length;){const R=a[I++],z=a[I++];Ng(n.data[R],r[R],u,z,g)}}function $_(n,r){const a=Wr(r,n),u=a[tr];!function ly(n,r){for(let a=r.length;a<n.blueprint.length;a++)r.push(n.blueprint[a])}(u,a);const g=a[Ci];null!==g&&null===a[lo]&&(a[lo]=ap(g,a[ws])),cy(u,a,a[ki])}function cy(n,r,a){ol(r);try{const u=n.viewQuery;null!==u&&_p(1,u,a);const g=n.template;null!==g&&Dv(n,r,g,1,a),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&Fg(n,r),n.staticViewQueries&&_p(2,n.viewQuery,a);const I=n.components;null!==I&&function uy(n,r){for(let a=0;a<r.length;a++)$_(n,r[a])}(r,I)}catch(u){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),u}finally{r[Lr]&=-5,Ka()}}let Vg=(()=>{class n{constructor(){this.all=new Set,this.queue=new Map}create(a,u,g){const I=typeof Zone>"u"?null:Zone.current,R=new Ga(a,me=>{this.all.has(me)&&this.queue.set(me,I)},g);let z;this.all.add(R),R.notify();const Q=()=>{var me;R.cleanup(),null===(me=z)||void 0===me||me(),this.all.delete(R),this.queue.delete(R)};return z=null==u?void 0:u.onDestroy(Q),{destroy:Q}}flush(){if(0!==this.queue.size)for(const[a,u]of this.queue)this.queue.delete(a),u?u.run(()=>a.run()):a.run()}get isQueueEmpty(){return 0===this.queue.size}}return n.\u0275prov=Et({token:n,providedIn:"root",factory:()=>new n}),n})();function bp(n,r,a){let u=a?n.styles:null,g=a?n.classes:null,I=0;if(null!==r)for(let R=0;R<r.length;R++){const z=r[R];"number"==typeof z?I=z:1==I?g=Le(g,z):2==I&&(u=Le(u,z+": "+r[++R]+";"))}a?n.styles=u:n.stylesWithoutHost=u,a?n.classes=g:n.classesWithoutHost=g}function Ep(n,r,a,u,g=!1){for(;null!==a;){const I=r[a.index];if(null!==I&&u.push(ot(I)),Qi(I)){for(let z=ms;z<I.length;z++){const Q=I[z],me=Q[tr].firstChild;null!==me&&Ep(Q[tr],Q,me,u)}I[eo]!==I[Ci]&&u.push(I[eo])}const R=a.type;if(8&R)Ep(n,r,a.child,u);else if(32&R){const z=jh(a,r);let Q;for(;Q=z();)u.push(Q)}else if(16&R){const z=Xp(r,a);if(Array.isArray(z))u.push(...z);else{const Q=Hd(r[Li]);Ep(Q[tr],Q,z,u,!0)}}a=g?a.projectionNext:a.next}return u}function bh(n,r,a,u=!0){const g=r[os].rendererFactory;g.begin&&g.begin();try{pf(n,r,n.template,a)}catch(z){throw u&&Rv(r,z),z}finally{var R;g.end&&g.end(),null===(R=r[os].effectManager)||void 0===R||R.flush()}}function pf(n,r,a,u){var g;const I=r[Lr];if(256!=(256&I)){null===(g=r[os].effectManager)||void 0===g||g.flush(),ol(r);try{ee(r),function ic(n){return yr.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==a&&Dv(n,r,a,2,u);const z=3==(3&I);if(z){const Ne=n.preOrderCheckHooks;null!==Ne&&V(r,Ne,null)}else{const Ne=n.preOrderHooks;null!==Ne&&G(r,Ne,0,null),O(r,0)}if(function Ov(n){for(let r=Wf(n);null!==r;r=fu(r)){if(!r[Qo])continue;const a=r[go];for(let u=0;u<a.length;u++){Fe(a[u])}}}(r),function fy(n){for(let r=Wf(n);null!==r;r=fu(r))for(let a=ms;a<r.length;a++){const u=r[a],g=u[tr];co(u)&&pf(g,u,g.template,u[ki])}}(r),null!==n.contentQueries&&Fg(n,r),z){const Ne=n.contentCheckHooks;null!==Ne&&V(r,Ne)}else{const Ne=n.contentHooks;null!==Ne&&G(r,Ne,1),O(r,1)}!function ph(n,r){const a=n.hostBindingOpCodes;if(null===a)return;const u=Su(r,ps);try{for(let g=0;g<a.length;g++){const I=a[g];if(I<0)ll(~I);else{const R=I,z=a[++g],Q=a[++g];hi(z,R),u.runInContext(Q,2,r[R])}}}finally{null===r[ps]&&bg(r,ps),ll(-1)}}(n,r);const Q=n.components;null!==Q&&function kv(n,r){for(let a=0;a<r.length;a++)wp(n,r[a])}(r,Q);const me=n.viewQuery;if(null!==me&&_p(2,me,u),z){const Ne=n.viewCheckHooks;null!==Ne&&V(r,Ne)}else{const Ne=n.viewHooks;null!==Ne&&G(r,Ne,2),O(r,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),r[Lr]&=-73,_t(r)}finally{Ka()}}}function wp(n,r){const a=Wr(r,n);if(co(a)){const u=a[tr];80&a[Lr]?pf(u,a,u.template,a[ki]):a[Do]>0&&py(a)}}function py(n){for(let u=Wf(n);null!==u;u=fu(u))for(let g=ms;g<u.length;g++){const I=u[g];if(co(I))if(1024&I[Lr]){const R=I[tr];pf(R,I,R.template,I[ki])}else I[Do]>0&&py(I)}const a=n[tr].components;if(null!==a)for(let u=0;u<a.length;u++){const g=Wr(a[u],n);co(g)&&g[Do]>0&&py(g)}}class Eh{get rootNodes(){const r=this._lView,a=r[tr];return Ep(a,r,a.firstChild,[])}constructor(r,a){this._lView=r,this._cdRefInjectingView=a,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[ki]}set context(r){this._lView[ki]=r}get destroyed(){return 256==(256&this._lView[Lr])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const r=this._lView[Ai];if(Qi(r)){const a=r[So],u=a?a.indexOf(this):-1;u>-1&&(qu(r,u),wl(a,u))}this._attachedToViewContainer=!1}es(this._lView[tr],this._lView)}onDestroy(r){!function An(n,r){if(256==(256&n[Lr]))throw new $e(911,!1);null===n[po]&&(n[po]=[]),n[po].push(r)}(this._lView,r)}markForCheck(){Hc(this._cdRefInjectingView||this._lView)}detach(){this._lView[Lr]&=-129}reattach(){this._lView[Lr]|=128}detectChanges(){bh(this._lView[tr],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new $e(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function _m(n,r){Gh(n,r,r[Br],2,null,null)}(this._lView[tr],this._lView)}attachToAppRef(r){if(this._attachedToViewContainer)throw new $e(902,!1);this._appRef=r}}class gf extends Eh{constructor(r){super(r),this._view=r}detectChanges(){const r=this._view;bh(r[tr],r,r[ki],!1)}checkNoChanges(){}get context(){return null}}class gy extends bd{constructor(r){super(),this.ngModule=r}resolveComponentFactory(r){const a=bt(r);return new Cp(a,this.ngModule)}}function Ip(n){const r=[];for(let a in n)n.hasOwnProperty(a)&&r.push({propName:n[a],templateName:a});return r}class j_{constructor(r,a){this.injector=r,this.parentInjector=a}get(r,a,u){u=Fr(u);const g=this.injector.get(r,cp,u);return g!==cp||a===cp?g:this.parentInjector.get(r,a,u)}}class Cp extends _d{get inputs(){return Ip(this.componentDef.inputs)}get outputs(){return Ip(this.componentDef.outputs)}constructor(r,a){super(),this.componentDef=r,this.ngModule=a,this.componentType=r.type,this.selector=function $s(n){return n.map(Ri).join(",")}(r.selectors),this.ngContentSelectors=r.ngContentSelectors?r.ngContentSelectors:[],this.isBoundToModule=!!a}create(r,a,u,g){var I;let R=(g=g||this.ngModule)instanceof md?g:null===(I=g)||void 0===I?void 0:I.injector;R&&null!==this.componentDef.getStandaloneInjector&&(R=this.componentDef.getStandaloneInjector(R)||R);const z=R?new j_(r,R):r,Q=z.get(Ev,null);if(null===Q)throw new $e(407,!1);const it={rendererFactory:Q,sanitizer:z.get(mg,null),effectManager:z.get(Vg,null)},Bt=Q.createRenderer(null,this.componentDef),cn=this.componentDef.selectors[0][0]||"div",Fn=u?function pp(n,r,a,u){const I=u.get(Cd,!1)||a===Ke.ShadowDom,R=n.selectRootElement(r,I);return function Ag(n){fl(n)}(R),R}(Bt,u,this.componentDef.encapsulation,z):Hh(Bt,cn,function U_(n){const r=n.toLowerCase();return"svg"===r?"svg":"math"===r?"math":null}(cn)),gr=this.componentDef.onPush?576:528,Pr=Tg(0,null,null,1,0,null,null,null,null,null,null),ei=ql(null,Pr,null,gr,null,null,it,Bt,z,null,null);let er,rs;ol(ei);try{const xs=this.componentDef;let jo,Fu=null;xs.findHostDirectiveDefs?(jo=[],Fu=new Map,xs.findHostDirectiveDefs(xs,jo,Fu),jo.push(xs)):jo=[xs];const XI=function yy(n,r){const a=n[tr],u=Ei;return n[u]=r,xu(a,u,2,"#host",null)}(ei,Fn),UD=function Nv(n,r,a,u,g,I,R){const z=g[tr];!function Fv(n,r,a,u){for(const g of n)r.mergedAttrs=Gn(r.mergedAttrs,g.hostAttrs);null!==r.mergedAttrs&&(bp(r,r.mergedAttrs,!0),null!==a&&Zf(u,a,r))}(u,n,r,R);let Q=null;null!==r&&(Q=ap(r,g[ws]));const me=I.rendererFactory.createRenderer(r,a),Ne=ql(g,Sg(a),null,a.onPush?64:16,g[n.index],n,I,me,null,null,Q);return z.firstCreatePass&&Rg(z,n,u.length-1),Lg(g,Ne),g[n.index]=Ne}(XI,Fn,xs,jo,ei,it,Bt);rs=nr(Pr,Ei),Fn&&function vy(n,r,a,u){if(u)Ft(n,a,["ng-version",uh.full]);else{const{attrs:g,classes:I}=function Qs(n){const r=[],a=[];let u=1,g=2;for(;u<n.length;){let I=n[u];if("string"==typeof I)2===g?""!==I&&r.push(I,n[++u]):8===g&&a.push(I);else{if(!Hr(g))break;g=I}u++}return{attrs:r,classes:a}}(r.selectors[0]);g&&Ft(n,a,g),I&&I.length>0&&Kh(n,a,I.join(" "))}}(Bt,xs,Fn,u),void 0!==a&&function _y(n,r,a){const u=n.projection=[];for(let g=0;g<r.length;g++){const I=a[g];u.push(null!=I?Array.from(I):null)}}(rs,this.ngContentSelectors,a),er=function Lv(n,r,a,u,g,I){const R=as(),z=g[tr],Q=tn(R,g);Av(z,g,R,a,null,u);for(let Ne=0;Ne<a.length;Ne++)Da(vr(g,z,R.directiveStart+Ne,R),g);ff(z,g,R),Q&&Da(Q,g);const me=vr(g,z,R.directiveStart+R.componentOffset,R);if(n[ki]=g[ki]=me,null!==I)for(const Ne of I)Ne(me,r);return gh(z,R,n),me}(UD,xs,jo,Fu,ei,[Dp]),cy(Pr,ei,null)}finally{Ka()}return new z_(this.componentType,er,Du(rs,ei),ei,rs)}}class z_ extends ch{constructor(r,a,u,g,I){super(),this.location=u,this._rootLView=g,this._tNode=I,this.previousInputValues=null,this.instance=a,this.hostView=this.changeDetectorRef=new gf(g),this.componentType=r}setInput(r,a){const u=this._tNode.inputs;let g;if(null!==u&&(g=u[r])){var I;if(null!==(I=this.previousInputValues)&&void 0!==I||(this.previousInputValues=new Map),this.previousInputValues.has(r)&&Object.is(this.previousInputValues.get(r),a))return;const R=this._rootLView;ay(R[tr],R,g,r,a),this.previousInputValues.set(r,a),Hc(Wr(this._tNode.index,R))}}get injector(){return new Zi(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(r){this.hostView.onDestroy(r)}}function Dp(){const n=as();Ys(Wn()[tr],n)}function zg(n){let r=function jg(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),a=!0;const u=[n];for(;r;){let g;if(To(n))g=r.\u0275cmp||r.\u0275dir;else{if(r.\u0275cmp)throw new $e(903,!1);g=r.\u0275dir}if(g){if(a){u.push(g);const R=n;R.inputs=Wg(n.inputs),R.declaredInputs=Wg(n.declaredInputs),R.outputs=Wg(n.outputs);const z=g.hostBindings;z&&ja(n,z);const Q=g.viewQuery,me=g.contentQueries;if(Q&&qc(n,Q),me&&Ua(n,me),Pe(n.inputs,g.inputs),Pe(n.declaredInputs,g.declaredInputs),Pe(n.outputs,g.outputs),To(g)&&g.data.animation){const Ne=n.data;Ne.animation=(Ne.animation||[]).concat(g.data.animation)}}const I=g.features;if(I)for(let R=0;R<I.length;R++){const z=I[R];z&&z.ngInherit&&z(n),z===zg&&(a=!1)}}r=Object.getPrototypeOf(r)}!function Hg(n){let r=0,a=null;for(let u=n.length-1;u>=0;u--){const g=n[u];g.hostVars=r+=g.hostVars,g.hostAttrs=Gn(g.hostAttrs,a=Gn(a,g.hostAttrs))}}(u)}function Wg(n){return n===At?{}:n===tt?[]:n}function qc(n,r){const a=n.viewQuery;n.viewQuery=a?(u,g)=>{r(u,g),a(u,g)}:r}function Ua(n,r){const a=n.contentQueries;n.contentQueries=a?(u,g,I)=>{r(u,g,I),a(u,g,I)}:r}function ja(n,r){const a=n.hostBindings;n.hostBindings=a?(u,g)=>{r(u,g),a(u,g)}:r}function Tp(n){return!!Pu(n)&&(Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n)}function Pu(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function Fa(n,r,a){return!Object.is(n[r],a)&&(n[r]=a,!0)}function Ih(n,r,a,u){const g=Wn();return Fa(g,Pi(),r)&&(Ln(),vc(Bo(),g,n,r,a,u)),Ih}function qo(n,r,a,u){return Fa(n,Pi(),a)?r+Mt(a)+u:ns}function Ay(n,r,a,u,g,I,R,z){const Q=Wn(),me=Ln(),Ne=n+Ei,it=me.firstCreatePass?function Ou(n,r,a,u,g,I,R,z,Q){const me=r.consts,Ne=xu(r,n,4,R||null,ue(me,z));yp(r,a,Ne,ue(me,Q)),Ys(r,Ne);const it=Ne.tView=Tg(2,Ne,u,g,I,r.directiveRegistry,r.pipeRegistry,null,r.schemas,me,null);return null!==r.queries&&(r.queries.template(r,Ne),it.queries=r.queries.embeddedTView(Ne)),Ne}(Ne,me,Q,r,a,u,g,I,R):me.data[Ne];qa(it,!1);const Bt=xy(me,Q,it,n);bl()&&Zp(me,Q,Bt,it),Da(Bt,Q),Lg(Q,Q[Ne]=oy(Bt,Q,Bt,it)),mo(it)&&fp(me,Q,it),null!=R&&hf(Q,it,z)}let xy=function My(n,r,a,u){return Po(!0),r[Br].createComment("")};function Xg(n){return li(function ya(){return yr.lFrame.contextLView}(),Ei+n)}function Py(n,r,a){const u=Wn();return Fa(u,Pi(),r)&&Zl(Ln(),Bo(),u,n,r,u[Br],a,!1),Py}function Mh(n,r,a,u,g){const R=g?"class":"style";ay(n,a,r.inputs[R],R,u)}function Ph(n,r,a,u){const g=Wn(),I=Ln(),R=Ei+n,z=g[Br],Q=I.firstCreatePass?function sb(n,r,a,u,g,I){const R=r.consts,Q=xu(r,n,2,u,ue(R,g));return yp(r,a,Q,ue(R,I)),null!==Q.attrs&&bp(Q,Q.attrs,!1),null!==Q.mergedAttrs&&bp(Q,Q.mergedAttrs,!0),null!==r.queries&&r.queries.elementStart(r,Q),Q}(R,I,g,r,a,u):I.data[R],me=wf(I,g,Q,z,r,n);g[R]=me;const Ne=mo(Q);return qa(Q,!0),Zf(z,me,Q),32!=(32&Q.flags)&&bl()&&Zp(I,g,me,Q),0===function xi(){return yr.lFrame.elementDepthCount}()&&Da(me,g),function _s(){yr.lFrame.elementDepthCount++}(),Ne&&(fp(I,g,Q),gh(I,Q,g)),null!==u&&hf(g,Q),Ph}function Mp(){let n=as();rc()?Tc():(n=n.parent,qa(n,!1));const r=n;(function Mi(n){return yr.skipHydrationRootTNode===n})(r)&&function Zr(){yr.skipHydrationRootTNode=null}(),function Ps(){yr.lFrame.elementDepthCount--}();const a=Ln();return a.firstCreatePass&&(Ys(a,n),Jo(n)&&a.queries.elementEnd(n)),null!=r.classesWithoutHost&&function Yi(n){return 0!=(8&n.flags)}(r)&&Mh(a,r,Wn(),r.classesWithoutHost,!0),null!=r.stylesWithoutHost&&function C(n){return 0!=(16&n.flags)}(r)&&Mh(a,r,Wn(),r.stylesWithoutHost,!1),Mp}function Pp(n,r,a,u){return Ph(n,r,a,u),Mp(),Pp}let wf=(n,r,a,u,g,I)=>(Po(!0),Hh(u,g,function Yo(){return yr.lFrame.currentNamespace}()));function Md(n,r,a){const u=Wn(),g=Ln(),I=n+Ei,R=g.firstCreatePass?function s0(n,r,a,u,g){const I=r.consts,R=ue(I,u),z=xu(r,n,8,"ng-container",R);return null!==R&&bp(z,R,!0),yp(r,a,z,ue(I,g)),null!==r.queries&&r.queries.elementStart(r,z),z}(I,g,u,r,a):g.data[I];qa(R,!0);const z=Op(g,u,R,n);return u[I]=z,bl()&&Zp(g,u,z,R),Da(z,u),mo(R)&&(fp(g,u,R),gh(g,R,u)),null!=a&&hf(u,R),Md}function Qv(){let n=as();const r=Ln();return rc()?Tc():(n=n.parent,qa(n,!1)),r.firstCreatePass&&(Ys(r,n),Jo(n)&&r.queries.elementEnd(n)),Qv}function Jv(n,r,a){return Md(n,r,a),Qv(),Jv}let Op=(n,r,a,u)=>(Po(!0),Yu(r[Br],""));function If(){return Wn()}function em(n){return!!n&&"function"==typeof n.then}function kp(n){return!!n&&"function"==typeof n.subscribe}function Ry(n,r,a,u){const g=Wn(),I=Ln(),R=as();return function t_(n,r,a,u,g,I,R){const z=mo(u),me=n.firstCreatePass&&Pv(n),Ne=r[ki],it=Bg(r);let Bt=!0;if(3&u.type||R){const gr=tn(u,r),Pr=R?R(gr):gr,ei=it.length,er=R?xs=>R(ot(xs[u.index])):u.index;let rs=null;if(!R&&z&&(rs=function Cf(n,r,a,u){const g=n.cleanup;if(null!=g)for(let I=0;I<g.length-1;I+=2){const R=g[I];if(R===a&&g[I+1]===u){const z=r[oo],Q=g[I+2];return z.length>Q?z[Q]:null}"string"==typeof R&&(I+=2)}return null}(n,r,g,u.index)),null!==rs)(rs.__ngLastListenerFn__||rs).__ngNextListenerFn__=I,rs.__ngLastListenerFn__=I,Bt=!1;else{I=ky(u,r,Ne,I,!1);const xs=a.listen(Pr,g,I);it.push(I,xs),me&&me.push(g,er,ei,ei+1)}}else I=ky(u,r,Ne,I,!1);const cn=u.outputs;let Fn;if(Bt&&null!==cn&&(Fn=cn[g])){const gr=Fn.length;if(gr)for(let Pr=0;Pr<gr;Pr+=2){const jo=r[Fn[Pr]][Fn[Pr+1]].subscribe(I),Fu=it.length;it.push(I,jo),me&&me.push(g,u.index,Fu,-(Fu+1))}}}(I,g,g[Br],R,n,r,u),Ry}function Oy(n,r,a,u){try{return le(6,r,a),!1!==a(u)}catch(g){return Rv(n,g),!1}finally{le(7,r,a)}}function ky(n,r,a,u,g){return function I(R){if(R===Function)return u;Hc(n.componentOffset>-1?Wr(n.index,r):r);let Q=Oy(r,a,u,R),me=I.__ngNextListenerFn__;for(;me;)Q=Oy(r,a,me,R)&&Q,me=me.__ngNextListenerFn__;return g&&!1===Q&&(R.preventDefault(),R.returnValue=!1),Q}}function wc(n=1){return function Mc(n){return(yr.lFrame.contextLView=function Ba(n,r){for(;n>0;)r=r[Di],n--;return r}(n,yr.lFrame.contextLView))[ki]}(n)}function o0(n,r){let a=null;const u=function Xs(n){const r=n.attrs;if(null!=r){const a=r.indexOf(5);if(!(1&a))return r[a+1]}return null}(n);for(let g=0;g<r.length;g++){const I=r[g];if("*"!==I){if(null===u?Io(n,I,!0):Co(u,I))return g}else a=g}return a}function n_(n){const r=Wn()[Li][ss];if(!r.projection){const u=r.projection=lu(n?n.length:1,null),g=u.slice();let I=r.child;for(;null!==I;){const R=n?o0(I,n):0;null!==R&&(g[R]?g[R].projectionNext=I:u[R]=I,g[R]=I),I=I.next}}}function r_(n,r=0,a){const u=Wn(),g=Ln(),I=xu(g,Ei+n,16,null,a||null);null===I.projection&&(I.projection=r),Tc(),(!u[lo]||function Un(){return null!==yr.skipHydrationRootTNode}())&&32!=(32&I.flags)&&function _a(n,r,a){Zd(r[Br],0,r,a,ra(n,a,r),Yf(a.parent||r[ss],a,r))}(g,u,I)}function Np(n,r,a){return Df(n,"",r,"",a),Np}function Df(n,r,a,u,g){const I=Wn(),R=qo(I,r,a,u);return R!==ns&&Zl(Ln(),Bo(),I,n,R,I[Br],g,!1),Df}function Ic(n,r){return n<<17|r<<2}function nl(n){return n>>17&32767}function i_(n){return 2|n}function Rd(n){return(131068&n)>>2}function Xc(n,r){return-131069&n|r<<2}function Fy(n){return 1|n}function s_(n,r,a,u,g){const I=n[a+1],R=null===r;let z=u?nl(I):Rd(I),Q=!1;for(;0!==z&&(!1===Q||R);){const Ne=n[z+1];h0(n[z],r)&&(Q=!0,n[z+1]=u?Fy(Ne):i_(Ne)),z=u?nl(Ne):Rd(Ne)}Q&&(n[a+1]=u?i_(I):Fy(I))}function h0(n,r){return null===n||null==r||(Array.isArray(n)?n[1]:n)===r||!(!Array.isArray(n)||"string"!=typeof r)&&so(n,r)>=0}function Ly(n,r){return function za(n,r,a,u){const g=Wn(),I=Ln(),R=function va(n){const r=yr.lFrame,a=r.bindingIndex;return r.bindingIndex=r.bindingIndex+n,a}(2);I.firstUpdatePass&&function b0(n,r,a,u){const g=n.data;if(null===g[a+1]){const I=g[Mo()],R=function c_(n,r){return r>=n.expandoStartIndex}(n,a);(function Y(n,r){return 0!=(n.flags&(r?8:16))})(I,u)&&null===r&&!R&&(r=!1),r=function E0(n,r,a,u){const g=function vl(n){const r=yr.lFrame.currentDirectiveIndex;return-1===r?null:n[r]}(n);let I=u?r.residualClasses:r.residualStyles;if(null===g)0===(u?r.classBindings:r.styleBindings)&&(a=Af(a=rm(null,n,r,a,u),r.attrs,u),I=null);else{const R=r.directiveStylingLast;if(-1===R||n[R]!==g)if(a=rm(g,n,r,a,u),null===I){let Q=function w0(n,r,a){const u=a?r.classBindings:r.styleBindings;if(0!==Rd(u))return n[nl(u)]}(n,r,u);void 0!==Q&&Array.isArray(Q)&&(Q=rm(null,n,r,Q[1],u),Q=Af(Q,r.attrs,u),function Od(n,r,a,u){n[nl(a?r.classBindings:r.styleBindings)]=u}(n,r,u,Q))}else I=function u_(n,r,a){let u;const g=r.directiveEnd;for(let I=1+r.directiveStylingLast;I<g;I++)u=Af(u,n[I].hostAttrs,a);return Af(u,r.attrs,a)}(n,r,u)}return void 0!==I&&(u?r.residualClasses=I:r.residualStyles=I),a}(g,I,r,u),function u0(n,r,a,u,g,I){let R=I?r.classBindings:r.styleBindings,z=nl(R),Q=Rd(R);n[u]=a;let Ne,me=!1;if(Array.isArray(a)?(Ne=a[1],(null===Ne||so(a,Ne)>0)&&(me=!0)):Ne=a,g)if(0!==Q){const Bt=nl(n[z+1]);n[u+1]=Ic(Bt,z),0!==Bt&&(n[Bt+1]=Xc(n[Bt+1],u)),n[z+1]=function Ny(n,r){return 131071&n|r<<17}(n[z+1],u)}else n[u+1]=Ic(z,0),0!==z&&(n[z+1]=Xc(n[z+1],u)),z=u;else n[u+1]=Ic(Q,0),0===z?z=u:n[Q+1]=Xc(n[Q+1],u),Q=u;me&&(n[u+1]=i_(n[u+1])),s_(n,Ne,u,!0),s_(n,Ne,u,!1),function d0(n,r,a,u,g){const I=g?n.residualClasses:n.residualStyles;null!=I&&"string"==typeof r&&so(I,r)>=0&&(a[u+1]=Fy(a[u+1]))}(r,Ne,n,u,I),R=Ic(z,Q),I?r.classBindings=R:r.styleBindings=R}(g,I,r,a,R,u)}}(I,n,R,u),r!==ns&&Fa(g,R,r)&&function l(n,r,a,u,g,I,R,z){if(!(3&r.type))return;const Q=n.data,me=Q[z+1],Ne=function c0(n){return 1==(1&n)}(me)?f(Q,r,a,g,Rd(me),R):void 0;v(Ne)||(v(I)||function Pd(n){return 2==(2&n)}(me)&&(I=f(Q,null,a,g,z,R)),function ed(n,r,a,u,g){if(r)g?n.addClass(a,u):n.removeClass(a,u);else{let I=-1===u.indexOf("-")?void 0:zs.DashCase;null==g?n.removeStyle(a,u,I):("string"==typeof g&&g.endsWith("!important")&&(g=g.slice(0,-10),I|=zs.Important),n.setStyle(a,u,g,I))}}(u,R,Wt(Mo(),a),g,I))}(I,I.data[Mo()],g,g[Br],n,g[R+1]=function S(n,r){return null==n||""===n||("string"==typeof r?n+=r:"object"==typeof n&&(n=Qe(Bl(n)))),n}(r,a),u,R)}(n,r,null,!0),Ly}function rm(n,r,a,u,g){let I=null;const R=a.directiveEnd;let z=a.directiveStylingLast;for(-1===z?z=a.directiveStart:z++;z<R&&(I=r[z],u=Af(u,I.hostAttrs,g),I!==n);)z++;return null!==n&&(a.directiveStylingLast=z),u}function Af(n,r,a){const u=a?1:2;let g=-1;if(null!==r)for(let I=0;I<r.length;I++){const R=r[I];"number"==typeof R?g=R:g===u&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),uo(n,R,!!a||r[++I]))}return void 0===n?null:n}function f(n,r,a,u,g,I){const R=null===r;let z;for(;g>0;){const Q=n[g],me=Array.isArray(Q),Ne=me?Q[1]:Q,it=null===Ne;let Bt=a[g+1];Bt===ns&&(Bt=it?tt:void 0);let cn=it?Bu(Bt,u):Ne===u?Bt:void 0;if(me&&!v(cn)&&(cn=Bu(Q,u)),v(cn)&&(z=cn,R))return z;const Fn=n[g+1];g=R?nl(Fn):Rd(Fn)}if(null!==r){let Q=I?r.residualClasses:r.residualStyles;null!=Q&&(z=Bu(Q,u))}return z}function v(n){return void 0!==n}function ae(n,r=""){const a=Wn(),u=Ln(),g=n+Ei,I=u.firstCreatePass?xu(u,g,1,r,null):u.data[g],R=we(u,a,I,r,n);a[g]=R,bl()&&Zp(u,a,R,I),qa(I,!1)}let we=(n,r,a,u,g)=>(Po(!0),function zh(n,r){return n.createText(r)}(r[Br],u));function pn(n){return Pn("",n,""),pn}function Pn(n,r,a){const u=Wn(),g=qo(u,n,r,a);return g!==ns&&function _c(n,r,a){const u=Wt(r,n);!function ym(n,r,a){n.setValue(r,a)}(n[Br],u,a)}(u,Mo(),g),Pn}const om=void 0;var Cw=["en",[["a","p"],["AM","PM"],om],[["AM","PM"],om,om],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],om,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],om,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",om,"{1} 'at' {0}",om],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function Iw(n){const a=Math.floor(Math.abs(n)),u=n.toString().replace(/^[^.]*\.?/,"").length;return 1===a&&0===u?1:5}];let Oh={};function D0(n){const r=function pE(n){return n.toLowerCase().replace(/_/g,"-")}(n);let a=zy(r);if(a)return a;const u=r.split("-")[0];if(a=zy(u),a)return a;if("en"===u)return Cw;throw new $e(701,!1)}function jy(n){return D0(n)[$i.PluralCase]}function zy(n){return n in Oh||(Oh[n]=Jn.ng&&Jn.ng.common&&Jn.ng.common.locales&&Jn.ng.common.locales[n]),Oh[n]}var $i=(()=>(($i=$i||{})[$i.LocaleId=0]="LocaleId",$i[$i.DayPeriodsFormat=1]="DayPeriodsFormat",$i[$i.DayPeriodsStandalone=2]="DayPeriodsStandalone",$i[$i.DaysFormat=3]="DaysFormat",$i[$i.DaysStandalone=4]="DaysStandalone",$i[$i.MonthsFormat=5]="MonthsFormat",$i[$i.MonthsStandalone=6]="MonthsStandalone",$i[$i.Eras=7]="Eras",$i[$i.FirstDayOfWeek=8]="FirstDayOfWeek",$i[$i.WeekendRange=9]="WeekendRange",$i[$i.DateFormat=10]="DateFormat",$i[$i.TimeFormat=11]="TimeFormat",$i[$i.DateTimeFormat=12]="DateTimeFormat",$i[$i.NumberSymbols=13]="NumberSymbols",$i[$i.NumberFormats=14]="NumberFormats",$i[$i.CurrencyCode=15]="CurrencyCode",$i[$i.CurrencySymbol=16]="CurrencySymbol",$i[$i.CurrencyName=17]="CurrencyName",$i[$i.Currencies=18]="Currencies",$i[$i.Directionality=19]="Directionality",$i[$i.PluralCase=20]="PluralCase",$i[$i.ExtraData=21]="ExtraData",$i))();const am="en-US";let Mf=am;function $0(n,r,a,u,g){if(n=xe(n),Array.isArray(n))for(let I=0;I<n.length;I++)$0(n[I],r,a,u,g);else{const I=Ln(),R=Wn();let z=gd(n)?n:xe(n.provide),Q=Bm(n);const me=as(),Ne=1048575&me.providerIndexes,it=me.directiveStart,Bt=me.providerIndexes>>20;if(gd(n)||!n.multi){const cn=new Kt(Q,g,Sl),Fn=Zy(z,r,g?Ne:Ne+Bt,it);-1===Fn?(rr(sn(me,R),I,z),V0(I,n,r.length),r.push(z),me.directiveStart++,me.directiveEnd++,g&&(me.providerIndexes+=1048576),a.push(cn),R.push(cn)):(a[Fn]=cn,R[Fn]=cn)}else{const cn=Zy(z,r,Ne+Bt,it),Fn=Zy(z,r,Ne,Ne+Bt),Pr=Fn>=0&&a[Fn];if(g&&!Pr||!g&&!(cn>=0&&a[cn])){rr(sn(me,R),I,z);const ei=function Pw(n,r,a,u,g){const I=new Kt(n,a,Sl);return I.multi=[],I.index=r,I.componentProviders=0,U0(I,g,u&&!a),I}(g?jE:Wb,a.length,g,u,Q);!g&&Pr&&(a[Fn].providerFactory=ei),V0(I,n,r.length,0),r.push(z),me.directiveStart++,me.directiveEnd++,g&&(me.providerIndexes+=1048576),a.push(ei),R.push(ei)}else V0(I,n,cn>-1?cn:Fn,U0(a[g?Fn:cn],Q,!g&&u));!g&&u&&Pr&&a[Fn].componentProviders++}}}function V0(n,r,a,u){const g=gd(r),I=function fv(n){return!!n.useClass}(r);if(g||I){const Q=(I?xe(r.useClass):r).prototype.ngOnDestroy;if(Q){const me=n.destroyHooks||(n.destroyHooks=[]);if(!g&&r.multi){const Ne=me.indexOf(a);-1===Ne?me.push(a,[u,Q]):me[Ne+1].push(u,Q)}else me.push(a,Q)}}}function U0(n,r,a){return a&&n.componentProviders++,n.multi.push(r)-1}function Zy(n,r,a,u){for(let g=a;g<u;g++)if(r[g]===n)return g;return-1}function Wb(n,r,a,u){return Gb(this.multi,[])}function jE(n,r,a,u){const g=this.multi;let I;if(this.providerFactory){const R=this.providerFactory.componentProviders,z=vr(a,a[tr],this.providerFactory.index,u);I=z.slice(0,R),Gb(g,I);for(let Q=R;Q<z.length;Q++)I.push(z[Q])}else I=[],Gb(g,I);return I}function Gb(n,r){for(let a=0;a<n.length;a++)r.push((0,n[a])());return r}function zE(n,r=[]){return a=>{a.providersResolver=(u,g)=>function UE(n,r,a){const u=Ln();if(u.firstCreatePass){const g=To(n);$0(a,u.data,u.blueprint,g,!0),$0(r,u.data,u.blueprint,g,!1)}}(u,g?g(n):n,r)}}class Bp{}class Kb{}function HE(n,r){return new j0(n,null!=r?r:null,[])}class j0 extends Bp{constructor(r,a,u){super(),this._parent=a,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new gy(this);const g=Vn(r);this._bootstrapComponents=Gc(g.bootstrap),this._r3Injector=Au(r,a,[{provide:Bp,useValue:this},{provide:bd,useValue:this.componentFactoryResolver},...u],Qe(r),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(r)}get injector(){return this._r3Injector}destroy(){const r=this._r3Injector;!r.destroyed&&r.destroy(),this.destroyCbs.forEach(a=>a()),this.destroyCbs=null}onDestroy(r){this.destroyCbs.push(r)}}class z0 extends Kb{constructor(r){super(),this.moduleType=r}create(r){return new j0(this.moduleType,r,[])}}class Yb extends Bp{constructor(r){super(),this.componentFactoryResolver=new gy(this),this.instance=null;const a=new Lm([...r.providers,{provide:Bp,useValue:this},{provide:bd,useValue:this.componentFactoryResolver}],r.parent||np(),r.debugName,new Set(["environment"]));this.injector=a,r.runEnvironmentInitializers&&a.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(r){this.injector.onDestroy(r)}}function c(n,r,a=null){return new Yb({providers:n,parent:r,debugName:a,runEnvironmentInitializers:!0}).injector}let s=(()=>{class n{constructor(a){this._injector=a,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(a){if(!a.standalone)return null;if(!this.cachedInjectors.has(a.id)){const u=vu(0,a.type),g=u.length>0?c([u],this._injector,`Standalone[${a.type.name}]`):null;this.cachedInjectors.set(a.id,g)}return this.cachedInjectors.get(a.id)}ngOnDestroy(){try{for(const a of this.cachedInjectors.values())null!==a&&a.destroy()}finally{this.cachedInjectors.clear()}}}return n.\u0275prov=Et({token:n,providedIn:"environment",factory:()=>new n(jt(md))}),n})();function o(n){n.getStandaloneInjector=r=>r.get(s).getOrCreateStandaloneInjector(n)}function H0(n,r,a,u,g,I){const R=r+a;return Fa(n,R,g)?function Xl(n,r,a){return n[r]=a}(n,R+1,I?u.call(I,g):u(g)):function Nd(n,r){const a=n[r];return a===ns?void 0:a}(n,R+1)}function Aa(n,r){const a=Ln();let u;const g=n+Ei;var I;a.firstCreatePass?(u=function Fd(n,r){if(r)for(let a=r.length-1;a>=0;a--){const u=r[a];if(n===u.name)return u}}(r,a.pipeRegistry),a.data[g]=u,u.onDestroy&&(null!==(I=a.destroyHooks)&&void 0!==I?I:a.destroyHooks=[]).push(g,u.onDestroy)):u=a.data[g];const R=u.factory||(u.factory=Ks(u.type)),z=mr(Sl);try{const Q=W(!1),me=R();return W(Q),function Zg(n,r,a,u){a>=n.data.length&&(n.data[a]=null,n.blueprint[a]=null),r[a]=u}(a,Wn(),g,me),me}finally{mr(z)}}function kh(n,r,a){const u=n+Ei,g=Wn(),I=li(g,u);return function Nu(n,r){return n[tr].data[r].pure}(g,u)?H0(g,function Ss(){const n=yr.lFrame;let r=n.bindingRootIndex;return-1===r&&(r=n.bindingRootIndex=n.tView.bindingStartIndex),r}(),r,I.transform,a,I):I.transform(a)}function um(n){return r=>{setTimeout(n,void 0,r)}}const ru=class nu extends h.x{constructor(r=!1){super(),this.__isAsync=r}emit(r){super.next(r)}subscribe(r,a,u){let g=r,I=a||(()=>null),R=u;if(r&&"object"==typeof r){var z,Q,me;const it=r;g=null===(z=it.next)||void 0===z?void 0:z.bind(it),I=null===(Q=it.error)||void 0===Q?void 0:Q.bind(it),R=null===(me=it.complete)||void 0===me?void 0:me.bind(it)}this.__isAsync&&(I=um(I),g&&(g=um(g)),R&&(R=um(R)));const Ne=super.subscribe({next:g,error:I,complete:R});return r instanceof _.w0&&r.add(Ne),Ne}};function QI(){return this._results[Symbol.iterator]()}class YE{get changes(){return this._changes||(this._changes=new ru)}constructor(r=!1){this._emitDistinctChangesOnly=r,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const a=YE.prototype;a[Symbol.iterator]||(a[Symbol.iterator]=QI)}get(r){return this._results[r]}map(r){return this._results.map(r)}filter(r){return this._results.filter(r)}find(r){return this._results.find(r)}reduce(r,a){return this._results.reduce(r,a)}forEach(r){this._results.forEach(r)}some(r){return this._results.some(r)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(r,a){const u=this;u.dirty=!1;const g=function Ja(n){return n.flat(Number.POSITIVE_INFINITY)}(r);(this._changesDetected=!function Lu(n,r,a){if(n.length!==r.length)return!1;for(let u=0;u<n.length;u++){let g=n[u],I=r[u];if(a&&(g=a(g),I=a(I)),I!==g)return!1}return!0}(u._results,g,a))&&(u._results=g,u.length=g.length,u.last=g[this.length-1],u.first=g[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let W0=(()=>{class n{}return n.__NG_ELEMENT_ID__=tC,n})();const JI=W0,eC=class extends JI{constructor(r,a,u){super(),this._declarationLView=r,this._declarationTContainer=a,this.elementRef=u}get ssrId(){var r;return(null===(r=this._declarationTContainer.tView)||void 0===r?void 0:r.ssrId)||null}createEmbeddedView(r,a){return this.createEmbeddedViewImpl(r,a,null)}createEmbeddedViewImpl(r,a,u){const g=this._declarationTContainer.tView,I=ql(this._declarationLView,g,r,16,null,g.declTNode,null,null,null,a||null,u||null);I[Gs]=this._declarationLView[this._declarationTContainer.index];const z=this._declarationLView[fo];return null!==z&&(I[fo]=z.createEmbeddedView(g)),cy(g,I,r),new Eh(I)}};function tC(){return Zb(as(),Wn())}function Zb(n,r){return 4&n.type?new eC(r,n,Du(n,r)):null}let Xb=(()=>{class n{}return n.__NG_ELEMENT_ID__=lC,n})();function lC(){return Lw(as(),Wn())}const cC=Xb,Nw=class extends cC{constructor(r,a,u){super(),this._lContainer=r,this._hostTNode=a,this._hostLView=u}get element(){return Du(this._hostTNode,this._hostLView)}get injector(){return new Zi(this._hostTNode,this._hostLView)}get parentInjector(){const r=xn(this._hostTNode,this._hostLView);if(m(r)){const a=M(r,this._hostLView),u=E(r);return new Zi(a[tr].data[u+8],a)}return new Zi(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(r){const a=Fw(this._lContainer);return null!==a&&a[r]||null}get length(){return this._lContainer.length-ms}createEmbeddedView(r,a,u){let g,I;"number"==typeof u?g=u:null!=u&&(g=u.index,I=u.injector);const z=r.createEmbeddedViewImpl(a||{},I,null);return this.insertImpl(z,g,!1),z}createComponent(r,a,u,g,I){var R,Q;const me=r&&!Gl(r);let Ne;if(me)Ne=a;else{const ei=a||{};Ne=ei.index,u=ei.injector,g=ei.projectableNodes,I=ei.environmentInjector||ei.ngModuleRef}const it=me?r:new Cp(bt(r)),Bt=u||this.parentInjector;if(!I&&null==it.ngModule){const er=(me?Bt:this.parentInjector).get(md,null);er&&(I=er)}const cn=bt(null!==(R=it.componentType)&&void 0!==R?R:{}),Fn=(null==cn?void 0:cn.id,null),gr=null!==(Q=null==Fn?void 0:Fn.firstChild)&&void 0!==Q?Q:null,Pr=it.create(Bt,g,gr,I);return this.insertImpl(Pr.hostView,Ne,!!Fn),Pr}insert(r,a){return this.insertImpl(r,a,!1)}insertImpl(r,a,u){const g=r._lView,I=g[tr];if(function q(n){return Qi(n[Ai])}(g)){const Q=this.indexOf(r);if(-1!==Q)this.detach(Q);else{const me=g[Ai],Ne=new Nw(me,me[ss],me[Ai]);Ne.detach(Ne.indexOf(r))}}const R=this._adjustIndex(a),z=this._lContainer;if(function bm(n,r,a,u){const g=ms+u,I=a.length;u>0&&(a[g-1][ks]=r),u<I-ms?(r[ks]=a[g],au(a,ms+u,r)):(a.push(r),r[ks]=null),r[Ai]=a;const R=r[Gs];null!==R&&a!==R&&function na(n,r){const a=n[go];r[Li]!==r[Ai][Ai][Li]&&(n[Qo]=!0),null===a?n[go]=[r]:a.push(r)}(R,r);const z=r[fo];null!==z&&z.insertView(n),r[Lr]|=128}(I,g,z,R),!u){const Q=wm(R,z),me=g[Br],Ne=hc(me,z[eo]);null!==Ne&&function vm(n,r,a,u,g,I){u[Ci]=g,u[ss]=r,Gh(n,u,a,1,g,I)}(I,z[ss],me,g,Ne,Q)}return r.attachToViewContainerRef(),au(ZE(z),R,r),r}move(r,a){return this.insert(r,a)}indexOf(r){const a=Fw(this._lContainer);return null!==a?a.indexOf(r):-1}remove(r){const a=this._adjustIndex(r,-1),u=qu(this._lContainer,a);u&&(wl(ZE(this._lContainer),a),es(u[tr],u))}detach(r){const a=this._adjustIndex(r,-1),u=qu(this._lContainer,a);return u&&null!=wl(ZE(this._lContainer),a)?new Eh(u):null}_adjustIndex(r,a=0){return null==r?this.length+a:r}};function Fw(n){return n[So]}function ZE(n){return n[So]||(n[So]=[])}function Lw(n,r){let a;const u=r[n.index];return Qi(u)?a=u:(a=oy(u,r,null,n),r[n.index]=a,Lg(r,a)),Bw(a,r,n,u),new Nw(a,n,r)}let Bw=function $w(n,r,a,u){if(n[eo])return;let g;g=8&a.type?ot(u):function uC(n,r){const a=n[Br],u=a.createComment(""),g=tn(r,n);return Xu(a,hc(a,g),u,function iv(n,r){return n.nextSibling(r)}(a,g),!1),u}(r,a),n[eo]=g};class XE{constructor(r){this.queryList=r,this.matches=null}clone(){return new XE(this.queryList)}setDirty(){this.queryList.setDirty()}}class QE{constructor(r=[]){this.queries=r}createEmbeddedView(r){const a=r.queries;if(null!==a){const u=null!==r.contentQueries?r.contentQueries[0]:a.length,g=[];for(let I=0;I<u;I++){const R=a.getByIndex(I);g.push(this.queries[R.indexInDeclarationView].clone())}return new QE(g)}return null}insertView(r){this.dirtyQueriesWithMatches(r)}detachView(r){this.dirtyQueriesWithMatches(r)}dirtyQueriesWithMatches(r){for(let a=0;a<this.queries.length;a++)null!==Yw(r,a).matches&&this.queries[a].setDirty()}}class Vw{constructor(r,a,u=null){this.predicate=r,this.flags=a,this.read=u}}class JE{constructor(r=[]){this.queries=r}elementStart(r,a){for(let u=0;u<this.queries.length;u++)this.queries[u].elementStart(r,a)}elementEnd(r){for(let a=0;a<this.queries.length;a++)this.queries[a].elementEnd(r)}embeddedTView(r){let a=null;for(let u=0;u<this.length;u++){const g=null!==a?a.length:0,I=this.getByIndex(u).embeddedTView(r,g);I&&(I.indexInDeclarationView=u,null!==a?a.push(I):a=[I])}return null!==a?new JE(a):null}template(r,a){for(let u=0;u<this.queries.length;u++)this.queries[u].template(r,a)}getByIndex(r){return this.queries[r]}get length(){return this.queries.length}track(r){this.queries.push(r)}}class ew{constructor(r,a=-1){this.metadata=r,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=a}elementStart(r,a){this.isApplyingToNode(a)&&this.matchTNode(r,a)}elementEnd(r){this._declarationNodeIndex===r.index&&(this._appliesToNextNode=!1)}template(r,a){this.elementStart(r,a)}embeddedTView(r,a){return this.isApplyingToNode(r)?(this.crossesNgTemplate=!0,this.addMatch(-r.index,a),new ew(this.metadata)):null}isApplyingToNode(r){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const a=this._declarationNodeIndex;let u=r.parent;for(;null!==u&&8&u.type&&u.index!==a;)u=u.parent;return a===(null!==u?u.index:-1)}return this._appliesToNextNode}matchTNode(r,a){const u=this.metadata.predicate;if(Array.isArray(u))for(let g=0;g<u.length;g++){const I=u[g];this.matchTNodeWithReadOption(r,a,fC(a,I)),this.matchTNodeWithReadOption(r,a,Ti(a,r,I,!1,!1))}else u===W0?4&a.type&&this.matchTNodeWithReadOption(r,a,-1):this.matchTNodeWithReadOption(r,a,Ti(a,r,u,!1,!1))}matchTNodeWithReadOption(r,a,u){if(null!==u){const g=this.metadata.read;if(null!==g)if(g===mc||g===Xb||g===W0&&4&a.type)this.addMatch(a.index,-2);else{const I=Ti(a,r,g,!1,!1);null!==I&&this.addMatch(a.index,I)}else this.addMatch(a.index,u)}}addMatch(r,a){null===this.matches?this.matches=[r,a]:this.matches.push(r,a)}}function fC(n,r){const a=n.localNames;if(null!==a)for(let u=0;u<a.length;u+=2)if(a[u]===r)return a[u+1];return null}function gC(n,r,a,u){return-1===a?function pC(n,r){return 11&n.type?Du(n,r):4&n.type?Zb(n,r):null}(r,n):-2===a?function mC(n,r,a){return a===mc?Du(r,n):a===W0?Zb(r,n):a===Xb?Lw(r,n):void 0}(n,r,u):vr(n,n[tr],a,r)}function Uw(n,r,a,u){const g=r[fo].queries[u];if(null===g.matches){const I=n.data,R=a.matches,z=[];for(let Q=0;Q<R.length;Q+=2){const me=R[Q];z.push(me<0?null:gC(r,I[me],R[Q+1],a.metadata.read))}g.matches=z}return g.matches}function tw(n,r,a,u){const g=n.queries.getByIndex(a),I=g.matches;if(null!==I){const R=Uw(n,r,g,a);for(let z=0;z<I.length;z+=2){const Q=I[z];if(Q>0)u.push(R[z/2]);else{const me=I[z+1],Ne=r[-Q];for(let it=ms;it<Ne.length;it++){const Bt=Ne[it];Bt[Gs]===Bt[Ai]&&tw(Bt[tr],Bt,me,u)}if(null!==Ne[go]){const it=Ne[go];for(let Bt=0;Bt<it.length;Bt++){const cn=it[Bt];tw(cn[tr],cn,me,u)}}}}}return u}function jw(n){const r=Wn(),a=Ln(),u=Bs();_r(u+1);const g=Yw(a,u);if(n.dirty&&function Ls(n){return 4==(4&n[Lr])}(r)===(2==(2&g.metadata.flags))){if(null===g.matches)n.reset([]);else{const I=g.crossesNgTemplate?tw(a,r,u,[]):Uw(a,r,g,u);n.reset(I,Km),n.notifyOnChanges()}return!0}return!1}function zw(n,r,a){const u=Ln();u.firstCreatePass&&(Kw(u,new Vw(n,r,a),-1),2==(2&r)&&(u.staticViewQueries=!0)),Gw(u,Wn(),r)}function Hw(n,r,a,u){const g=Ln();if(g.firstCreatePass){const I=as();Kw(g,new Vw(r,a,u),I.index),function vC(n,r){const a=n.contentQueries||(n.contentQueries=[]);r!==(a.length?a[a.length-1]:-1)&&a.push(n.queries.length-1,r)}(g,n),2==(2&a)&&(g.staticContentQueries=!0)}Gw(g,Wn(),a)}function Ww(){return function yC(n,r){return n[fo].queries[r].queryList}(Wn(),Bs())}function Gw(n,r,a){const u=new YE(4==(4&a));(function mp(n,r,a,u){const g=Bg(r);g.push(a),n.firstCreatePass&&Pv(n).push(u,g.length-1)})(n,r,u,u.destroy),null===r[fo]&&(r[fo]=new QE),r[fo].queries.push(new XE(u))}function Kw(n,r,a){null===n.queries&&(n.queries=new JE),n.queries.track(new ew(r,a))}function Yw(n,r){return n.queries.getByIndex(r)}function nw(n){return!!Vn(n)}const dI=new Eo("Application Initializer");let aw=(()=>{class n{constructor(){var a;this.initialized=!1,this.done=!1,this.donePromise=new Promise((u,g)=>{this.resolve=u,this.reject=g}),this.appInits=null!==(a=$n(dI,{optional:!0}))&&void 0!==a?a:[]}runInitializers(){if(this.initialized)return;const a=[];for(const g of this.appInits){const I=g();if(em(I))a.push(I);else if(kp(I)){const R=new Promise((z,Q)=>{I.subscribe({complete:z,error:Q})});a.push(R)}}const u=()=>{this.done=!0,this.resolve()};Promise.all(a).then(()=>{u()}).catch(g=>{this.reject(g)}),0===a.length&&u(),this.initialized=!0}}return n.\u0275fac=function(a){return new(a||n)},n.\u0275prov=Et({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),hI=(()=>{class n{log(a){console.log(a)}warn(a){console.warn(a)}}return n.\u0275fac=function(a){return new(a||n)},n.\u0275prov=Et({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const Jb=new Eo("LocaleId",{providedIn:"root",factory:()=>$n(Jb,Mn.Optional|Mn.SkipSelf)||function VC(){return typeof $localize<"u"&&$localize.locale||am}()}),UC=new Eo("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class jC{constructor(r,a){this.ngModuleFactory=r,this.componentFactories=a}}let zC=(()=>{class n{compileModuleSync(a){return new z0(a)}compileModuleAsync(a){return Promise.resolve(this.compileModuleSync(a))}compileModuleAndAllComponentsSync(a){const u=this.compileModuleSync(a),I=Gc(Vn(a).declarations).reduce((R,z)=>{const Q=bt(z);return Q&&R.push(new Cp(Q)),R},[]);return new jC(u,I)}compileModuleAndAllComponentsAsync(a){return Promise.resolve(this.compileModuleAndAllComponentsSync(a))}clearCache(){}clearCacheFor(a){}getModuleId(a){}}return n.\u0275fac=function(a){return new(a||n)},n.\u0275prov=Et({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const GC=(()=>Promise.resolve(0))();function lw(n){typeof Zone>"u"?GC.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}function gI(...n){}class tc{constructor({enableLongStackTrace:r=!1,shouldCoalesceEventChangeDetection:a=!1,shouldCoalesceRunChangeDetection:u=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ru(!1),this.onMicrotaskEmpty=new ru(!1),this.onStable=new ru(!1),this.onError=new ru(!1),typeof Zone>"u")throw new $e(908,!1);Zone.assertZonePatched();const g=this;g._nesting=0,g._outer=g._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(g._inner=g._inner.fork(new Zone.TaskTrackingZoneSpec)),r&&Zone.longStackTraceZoneSpec&&(g._inner=g._inner.fork(Zone.longStackTraceZoneSpec)),g.shouldCoalesceEventChangeDetection=!u&&a,g.shouldCoalesceRunChangeDetection=u,g.lastRequestAnimationFrameId=-1,g.nativeRequestAnimationFrame=function KC(){let n=Jn.requestAnimationFrame,r=Jn.cancelAnimationFrame;if(typeof Zone<"u"&&n&&r){const a=n[Zone.__symbol__("OriginalDelegate")];a&&(n=a);const u=r[Zone.__symbol__("OriginalDelegate")];u&&(r=u)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:r}}().nativeRequestAnimationFrame,function ZC(n){const r=()=>{!function qC(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(Jn,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,uw(n),n.isCheckStableRunning=!0,cw(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),uw(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(a,u,g,I,R,z)=>{try{return mI(n),a.invokeTask(g,I,R,z)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===I.type||n.shouldCoalesceRunChangeDetection)&&r(),yI(n)}},onInvoke:(a,u,g,I,R,z,Q)=>{try{return mI(n),a.invoke(g,I,R,z,Q)}finally{n.shouldCoalesceRunChangeDetection&&r(),yI(n)}},onHasTask:(a,u,g,I)=>{a.hasTask(g,I),u===g&&("microTask"==I.change?(n._hasPendingMicrotasks=I.microTask,uw(n),cw(n)):"macroTask"==I.change&&(n.hasPendingMacrotasks=I.macroTask))},onHandleError:(a,u,g,I)=>(a.handleError(g,I),n.runOutsideAngular(()=>n.onError.emit(I)),!1)})}(g)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!tc.isInAngularZone())throw new $e(909,!1)}static assertNotInAngularZone(){if(tc.isInAngularZone())throw new $e(909,!1)}run(r,a,u){return this._inner.run(r,a,u)}runTask(r,a,u,g){const I=this._inner,R=I.scheduleEventTask("NgZoneEvent: "+g,r,YC,gI,gI);try{return I.runTask(R,a,u)}finally{I.cancelTask(R)}}runGuarded(r,a,u){return this._inner.runGuarded(r,a,u)}runOutsideAngular(r){return this._outer.run(r)}}const YC={};function cw(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function uw(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function mI(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function yI(n){n._nesting--,cw(n)}class XC{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ru,this.onMicrotaskEmpty=new ru,this.onStable=new ru,this.onError=new ru}run(r,a,u){return r.apply(a,u)}runGuarded(r,a,u){return r.apply(a,u)}runOutsideAngular(r){return r()}runTask(r,a,u,g){return r.apply(a,u)}}const vI=new Eo("",{providedIn:"root",factory:_I});function _I(){const n=$n(tc);let r=!0;const a=new _e.y(g=>{r=n.isStable&&!n.hasPendingMacrotasks&&!n.hasPendingMicrotasks,n.runOutsideAngular(()=>{g.next(r),g.complete()})}),u=new _e.y(g=>{let I;n.runOutsideAngular(()=>{I=n.onStable.subscribe(()=>{tc.assertNotInAngularZone(),lw(()=>{!r&&!n.hasPendingMacrotasks&&!n.hasPendingMicrotasks&&(r=!0,g.next(!0))})})});const R=n.onUnstable.subscribe(()=>{tc.assertInAngularZone(),r&&(r=!1,n.runOutsideAngular(()=>{g.next(!1)}))});return()=>{I.unsubscribe(),R.unsubscribe()}});return(0,Oe.T)(a,u.pipe((0,Ze.B)()))}const bI=new Eo(""),EI=new Eo("");let dw,QC=(()=>{class n{constructor(a,u,g){this._ngZone=a,this.registry=u,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,dw||(function JC(n){dw=n}(g),g.addToWindow(u)),this._watchAngularEvents(),a.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{tc.assertNotInAngularZone(),lw(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())lw(()=>{for(;0!==this._callbacks.length;){let a=this._callbacks.pop();clearTimeout(a.timeoutId),a.doneCb(this._didWork)}this._didWork=!1});else{let a=this.getPendingTasks();this._callbacks=this._callbacks.filter(u=>!u.updateCb||!u.updateCb(a)||(clearTimeout(u.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(a=>({source:a.source,creationLocation:a.creationLocation,data:a.data})):[]}addCallback(a,u,g){let I=-1;u&&u>0&&(I=setTimeout(()=>{this._callbacks=this._callbacks.filter(R=>R.timeoutId!==I),a(this._didWork,this.getPendingTasks())},u)),this._callbacks.push({doneCb:a,timeoutId:I,updateCb:g})}whenStable(a,u,g){if(g&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(a,u,g),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(a){this.registry.registerApplication(a,this)}unregisterApplication(a){this.registry.unregisterApplication(a)}findProviders(a,u,g){return[]}}return n.\u0275fac=function(a){return new(a||n)(jt(tc),jt(wI),jt(EI))},n.\u0275prov=Et({token:n,factory:n.\u0275fac}),n})(),wI=(()=>{class n{constructor(){this._applications=new Map}registerApplication(a,u){this._applications.set(a,u)}unregisterApplication(a){this._applications.delete(a)}unregisterAllApplications(){this._applications.clear()}getTestability(a){return this._applications.get(a)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(a,u=!0){var g,I;return null!==(g=null===(I=dw)||void 0===I?void 0:I.findTestabilityInTree(this,a,u))&&void 0!==g?g:null}}return n.\u0275fac=function(a){return new(a||n)},n.\u0275prov=Et({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})(),dm=null;const II=new Eo("AllowMultipleToken"),hw=new Eo("PlatformDestroyListeners"),fw=new Eo("appBootstrapListener");class nD{constructor(r,a){this.name=r,this.token=a}}function SI(n,r,a=[]){const u=`Platform: ${r}`,g=new Eo(u);return(I=[])=>{let R=pw();if(!R||R.injector.get(II,!1)){const z=[...a,...I,{provide:g,useValue:!0}];n?n(z):function rD(n){if(dm&&!dm.get(II,!1))throw new $e(400,!1);(function CI(){!function Ns(n){Cs=n}(()=>{throw new $e(600,!1)})})(),dm=n;const r=n.get(AI);(function DI(n){const r=n.get(rp,null);null==r||r.forEach(a=>a())})(n)}(function TI(n=[],r){return Vl.create({name:r,providers:[{provide:ep,useValue:"platform"},{provide:hw,useValue:new Set([()=>dm=null])},...n]})}(z,u))}return function sD(n){const r=pw();if(!r)throw new $e(401,!1);return r}()}}function pw(){var n,r;return null!==(n=null===(r=dm)||void 0===r?void 0:r.get(AI))&&void 0!==n?n:null}let AI=(()=>{class n{constructor(a){this._injector=a,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(a,u){const g=function oD(n="zone.js",r){return"noop"===n?new XC:"zone.js"===n?new tc(r):n}(null==u?void 0:u.ngZone,function xI(n){var r,a;return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:null!==(r=null==n?void 0:n.eventCoalescing)&&void 0!==r&&r,shouldCoalesceRunChangeDetection:null!==(a=null==n?void 0:n.runCoalescing)&&void 0!==a&&a}}({eventCoalescing:null==u?void 0:u.ngZoneEventCoalescing,runCoalescing:null==u?void 0:u.ngZoneRunCoalescing}));return g.run(()=>{const I=function GE(n,r,a){return new j0(n,r,a)}(a.moduleType,this.injector,function kI(n){return[{provide:tc,useFactory:n},{provide:Sa,multi:!0,useFactory:()=>{const r=$n(lD,{optional:!0});return()=>r.initialize()}},{provide:OI,useFactory:aD},{provide:vI,useFactory:_I}]}(()=>g)),R=I.injector.get(dh,null);return g.runOutsideAngular(()=>{const z=g.onError.subscribe({next:Q=>{R.handleError(Q)}});I.onDestroy(()=>{eE(this._modules,I),z.unsubscribe()})}),function MI(n,r,a){try{const u=a();return em(u)?u.catch(g=>{throw r.runOutsideAngular(()=>n.handleError(g)),g}):u}catch(u){throw r.runOutsideAngular(()=>n.handleError(u)),u}}(R,g,()=>{const z=I.injector.get(aw);return z.runInitializers(),z.donePromise.then(()=>(function g_(n){Pt(n,"Expected localeId to be defined"),"string"==typeof n&&(Mf=n.toLowerCase().replace(/_/g,"-"))}(I.injector.get(Jb,am)||am),this._moduleDoBootstrap(I),I))})})}bootstrapModule(a,u=[]){const g=PI({},u);return function eD(n,r,a){const u=new z0(a);return Promise.resolve(u)}(0,0,a).then(I=>this.bootstrapModuleFactory(I,g))}_moduleDoBootstrap(a){const u=a.injector.get(S_);if(a._bootstrapComponents.length>0)a._bootstrapComponents.forEach(g=>u.bootstrap(g));else{if(!a.instance.ngDoBootstrap)throw new $e(-403,!1);a.instance.ngDoBootstrap(u)}this._modules.push(a)}onDestroy(a){this._destroyListeners.push(a)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new $e(404,!1);this._modules.slice().forEach(u=>u.destroy()),this._destroyListeners.forEach(u=>u());const a=this._injector.get(hw,null);a&&(a.forEach(u=>u()),a.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(a){return new(a||n)(jt(Vl))},n.\u0275prov=Et({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();function PI(n,r){return Array.isArray(r)?r.reduce(PI,n):{...n,...r}}let S_=(()=>{class n{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=$n(OI),this.componentTypes=[],this.components=[],this.isStable=$n(vI),this._injector=$n(md)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(a,u){const g=a instanceof _d;if(!this._injector.get(aw).done)throw!g&&zn(a),new $e(405,!1);let R;R=g?a:this._injector.get(bd).resolveComponentFactory(a),this.componentTypes.push(R.componentType);const z=function tD(n){return n.isBoundToModule}(R)?void 0:this._injector.get(Bp),me=R.create(Vl.NULL,[],u||R.selector,z),Ne=me.location.nativeElement,it=me.injector.get(bI,null);return null==it||it.registerApplication(Ne),me.onDestroy(()=>{this.detachView(me.hostView),eE(this.components,me),null==it||it.unregisterApplication(Ne)}),this._loadComponent(me),me}tick(){if(this._runningTick)throw new $e(101,!1);try{this._runningTick=!0;for(let a of this._views)a.detectChanges()}catch(a){this.internalErrorHandler(a)}finally{this._runningTick=!1}}attachView(a){const u=a;this._views.push(u),u.attachToAppRef(this)}detachView(a){const u=a;eE(this._views,u),u.detachFromAppRef()}_loadComponent(a){this.attachView(a.hostView),this.tick(),this.components.push(a);const u=this._injector.get(fw,[]);u.push(...this._bootstrapListeners),u.forEach(g=>g(a))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(a=>a()),this._views.slice().forEach(a=>a.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(a){return this._destroyListeners.push(a),()=>eE(this._destroyListeners,a)}destroy(){if(this._destroyed)throw new $e(406,!1);const a=this._injector;a.destroy&&!a.destroyed&&a.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return n.\u0275fac=function(a){return new(a||n)},n.\u0275prov=Et({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function eE(n,r){const a=n.indexOf(r);a>-1&&n.splice(a,1)}const OI=new Eo("",{providedIn:"root",factory:()=>$n(dh).handleError.bind(void 0)});function aD(){const n=$n(tc),r=$n(dh);return a=>n.runOutsideAngular(()=>r.handleError(a))}let lD=(()=>{class n{constructor(){this.zone=$n(tc),this.applicationRef=$n(S_)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){var a;null===(a=this._onMicrotaskEmptySubscription)||void 0===a||a.unsubscribe()}}return n.\u0275fac=function(a){return new(a||n)},n.\u0275prov=Et({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function uD(){return!1}function dD(){}let hD=(()=>{class n{}return n.__NG_ELEMENT_ID__=fD,n})();function fD(n){return function pD(n,r,a){if(Vo(n)&&!a){const u=Wr(n.index,r);return new Eh(u,u)}return 47&n.type?new Eh(r[Li],r):null}(as(),Wn(),16==(16&n))}class BI{constructor(){}supports(r){return Tp(r)}create(r){return new bD(r)}}const _D=(n,r)=>r;class bD{constructor(r){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=r||_D}forEachItem(r){let a;for(a=this._itHead;null!==a;a=a._next)r(a)}forEachOperation(r){let a=this._itHead,u=this._removalsHead,g=0,I=null;for(;a||u;){const R=!u||a&&a.currentIndex<VI(u,g,I)?a:u,z=VI(R,g,I),Q=R.currentIndex;if(R===u)g--,u=u._nextRemoved;else if(a=a._next,null==R.previousIndex)g++;else{I||(I=[]);const me=z-g,Ne=Q-g;if(me!=Ne){for(let Bt=0;Bt<me;Bt++){const cn=Bt<I.length?I[Bt]:I[Bt]=0,Fn=cn+Bt;Ne<=Fn&&Fn<me&&(I[Bt]=cn+1)}I[R.previousIndex]=Ne-me}}z!==Q&&r(R,z,Q)}}forEachPreviousItem(r){let a;for(a=this._previousItHead;null!==a;a=a._nextPrevious)r(a)}forEachAddedItem(r){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)r(a)}forEachMovedItem(r){let a;for(a=this._movesHead;null!==a;a=a._nextMoved)r(a)}forEachRemovedItem(r){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)r(a)}forEachIdentityChange(r){let a;for(a=this._identityChangesHead;null!==a;a=a._nextIdentityChange)r(a)}diff(r){if(null==r&&(r=[]),!Tp(r))throw new $e(900,!1);return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let g,I,R,a=this._itHead,u=!1;if(Array.isArray(r)){this.length=r.length;for(let z=0;z<this.length;z++)I=r[z],R=this._trackByFn(z,I),null!==a&&Object.is(a.trackById,R)?(u&&(a=this._verifyReinsertion(a,I,R,z)),Object.is(a.item,I)||this._addIdentityChange(a,I)):(a=this._mismatch(a,I,R,z),u=!0),a=a._next}else g=0,function wy(n,r){if(Array.isArray(n))for(let a=0;a<n.length;a++)r(n[a]);else{const a=n[Symbol.iterator]();let u;for(;!(u=a.next()).done;)r(u.value)}}(r,z=>{R=this._trackByFn(g,z),null!==a&&Object.is(a.trackById,R)?(u&&(a=this._verifyReinsertion(a,z,R,g)),Object.is(a.item,z)||this._addIdentityChange(a,z)):(a=this._mismatch(a,z,R,g),u=!0),a=a._next,g++}),this.length=g;return this._truncate(a),this.collection=r,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let r;for(r=this._previousItHead=this._itHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._additionsHead;null!==r;r=r._nextAdded)r.previousIndex=r.currentIndex;for(this._additionsHead=this._additionsTail=null,r=this._movesHead;null!==r;r=r._nextMoved)r.previousIndex=r.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(r,a,u,g){let I;return null===r?I=this._itTail:(I=r._prev,this._remove(r)),null!==(r=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null))?(Object.is(r.item,a)||this._addIdentityChange(r,a),this._reinsertAfter(r,I,g)):null!==(r=null===this._linkedRecords?null:this._linkedRecords.get(u,g))?(Object.is(r.item,a)||this._addIdentityChange(r,a),this._moveAfter(r,I,g)):r=this._addAfter(new ED(a,u),I,g),r}_verifyReinsertion(r,a,u,g){let I=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null);return null!==I?r=this._reinsertAfter(I,r._prev,g):r.currentIndex!=g&&(r.currentIndex=g,this._addToMoves(r,g)),r}_truncate(r){for(;null!==r;){const a=r._next;this._addToRemovals(this._unlink(r)),r=a}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(r,a,u){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(r);const g=r._prevRemoved,I=r._nextRemoved;return null===g?this._removalsHead=I:g._nextRemoved=I,null===I?this._removalsTail=g:I._prevRemoved=g,this._insertAfter(r,a,u),this._addToMoves(r,u),r}_moveAfter(r,a,u){return this._unlink(r),this._insertAfter(r,a,u),this._addToMoves(r,u),r}_addAfter(r,a,u){return this._insertAfter(r,a,u),this._additionsTail=null===this._additionsTail?this._additionsHead=r:this._additionsTail._nextAdded=r,r}_insertAfter(r,a,u){const g=null===a?this._itHead:a._next;return r._next=g,r._prev=a,null===g?this._itTail=r:g._prev=r,null===a?this._itHead=r:a._next=r,null===this._linkedRecords&&(this._linkedRecords=new $I),this._linkedRecords.put(r),r.currentIndex=u,r}_remove(r){return this._addToRemovals(this._unlink(r))}_unlink(r){null!==this._linkedRecords&&this._linkedRecords.remove(r);const a=r._prev,u=r._next;return null===a?this._itHead=u:a._next=u,null===u?this._itTail=a:u._prev=a,r}_addToMoves(r,a){return r.previousIndex===a||(this._movesTail=null===this._movesTail?this._movesHead=r:this._movesTail._nextMoved=r),r}_addToRemovals(r){return null===this._unlinkedRecords&&(this._unlinkedRecords=new $I),this._unlinkedRecords.put(r),r.currentIndex=null,r._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=r,r._prevRemoved=null):(r._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=r),r}_addIdentityChange(r,a){return r.item=a,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=r:this._identityChangesTail._nextIdentityChange=r,r}}class ED{constructor(r,a){this.item=r,this.trackById=a,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class wD{constructor(){this._head=null,this._tail=null}add(r){null===this._head?(this._head=this._tail=r,r._nextDup=null,r._prevDup=null):(this._tail._nextDup=r,r._prevDup=this._tail,r._nextDup=null,this._tail=r)}get(r,a){let u;for(u=this._head;null!==u;u=u._nextDup)if((null===a||a<=u.currentIndex)&&Object.is(u.trackById,r))return u;return null}remove(r){const a=r._prevDup,u=r._nextDup;return null===a?this._head=u:a._nextDup=u,null===u?this._tail=a:u._prevDup=a,null===this._head}}class $I{constructor(){this.map=new Map}put(r){const a=r.trackById;let u=this.map.get(a);u||(u=new wD,this.map.set(a,u)),u.add(r)}get(r,a){const g=this.map.get(r);return g?g.get(r,a):null}remove(r){const a=r.trackById;return this.map.get(a).remove(r)&&this.map.delete(a),r}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function VI(n,r,a){const u=n.previousIndex;if(null===u)return u;let g=0;return a&&u<a.length&&(g=a[u]),u+r+g}class UI{constructor(){}supports(r){return r instanceof Map||Pu(r)}create(){return new ID}}class ID{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(r){let a;for(a=this._mapHead;null!==a;a=a._next)r(a)}forEachPreviousItem(r){let a;for(a=this._previousMapHead;null!==a;a=a._nextPrevious)r(a)}forEachChangedItem(r){let a;for(a=this._changesHead;null!==a;a=a._nextChanged)r(a)}forEachAddedItem(r){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)r(a)}forEachRemovedItem(r){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)r(a)}diff(r){if(r){if(!(r instanceof Map||Pu(r)))throw new $e(900,!1)}else r=new Map;return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let a=this._mapHead;if(this._appendAfter=null,this._forEach(r,(u,g)=>{if(a&&a.key===g)this._maybeAddToChanges(a,u),this._appendAfter=a,a=a._next;else{const I=this._getOrCreateRecordForKey(g,u);a=this._insertBeforeOrAppend(a,I)}}),a){a._prev&&(a._prev._next=null),this._removalsHead=a;for(let u=a;null!==u;u=u._nextRemoved)u===this._mapHead&&(this._mapHead=null),this._records.delete(u.key),u._nextRemoved=u._next,u.previousValue=u.currentValue,u.currentValue=null,u._prev=null,u._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(r,a){if(r){const u=r._prev;return a._next=r,a._prev=u,r._prev=a,u&&(u._next=a),r===this._mapHead&&(this._mapHead=a),this._appendAfter=r,r}return this._appendAfter?(this._appendAfter._next=a,a._prev=this._appendAfter):this._mapHead=a,this._appendAfter=a,null}_getOrCreateRecordForKey(r,a){if(this._records.has(r)){const g=this._records.get(r);this._maybeAddToChanges(g,a);const I=g._prev,R=g._next;return I&&(I._next=R),R&&(R._prev=I),g._next=null,g._prev=null,g}const u=new CD(r);return this._records.set(r,u),u.currentValue=a,this._addToAdditions(u),u}_reset(){if(this.isDirty){let r;for(this._previousMapHead=this._mapHead,r=this._previousMapHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._changesHead;null!==r;r=r._nextChanged)r.previousValue=r.currentValue;for(r=this._additionsHead;null!=r;r=r._nextAdded)r.previousValue=r.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(r,a){Object.is(a,r.currentValue)||(r.previousValue=r.currentValue,r.currentValue=a,this._addToChanges(r))}_addToAdditions(r){null===this._additionsHead?this._additionsHead=this._additionsTail=r:(this._additionsTail._nextAdded=r,this._additionsTail=r)}_addToChanges(r){null===this._changesHead?this._changesHead=this._changesTail=r:(this._changesTail._nextChanged=r,this._changesTail=r)}_forEach(r,a){r instanceof Map?r.forEach(a):Object.keys(r).forEach(u=>a(r[u],u))}}class CD{constructor(r){this.key=r,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function jI(){return new _w([new BI])}let _w=(()=>{class n{constructor(a){this.factories=a}static create(a,u){if(null!=u){const g=u.factories.slice();a=a.concat(g)}return new n(a)}static extend(a){return{provide:n,useFactory:u=>n.create(a,u||jI()),deps:[[n,new cu,new Vd]]}}find(a){const u=this.factories.find(g=>g.supports(a));if(null!=u)return u;throw new $e(901,!1)}}return n.\u0275prov=Et({token:n,providedIn:"root",factory:jI}),n})();function zI(){return new bw([new UI])}let bw=(()=>{class n{constructor(a){this.factories=a}static create(a,u){if(u){const g=u.factories.slice();a=a.concat(g)}return new n(a)}static extend(a){return{provide:n,useFactory:u=>n.create(a,u||zI()),deps:[[n,new cu,new Vd]]}}find(a){const u=this.factories.find(g=>g.supports(a));if(u)return u;throw new $e(901,!1)}}return n.\u0275prov=Et({token:n,providedIn:"root",factory:zI}),n})();const TD=SI(null,"core",[]);let AD=(()=>{class n{constructor(a){}}return n.\u0275fac=function(a){return new(a||n)(jt(S_))},n.\u0275mod=Re({type:n}),n.\u0275inj=yn({}),n})(),qI=(()=>{class n{get whenAllTasksComplete(){return 0===this.collection.size&&this.complete(),this.promise}constructor(){this.taskId=0,this.collection=new Set,this.ngZone=$n(tc),this.completed=!1,this.ngZone.runOutsideAngular(()=>{this.promise=new Promise(a=>{this.resolve=a})})}add(){if(this.completed)return-1;const a=this.taskId++;return this.collection.add(a),a}remove(a){this.completed||(this.collection.delete(a),0===this.collection.size&&this.complete())}ngOnDestroy(){this.complete(),this.collection.clear()}complete(){this.completed=!0,this.resolve()}}return n.\u0275fac=function(a){return new(a||n)},n.\u0275prov=Et({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function LD(n){return"boolean"==typeof n?n:null!=n&&"false"!==n}function $D(n,r){const a=bt(n),u=r.elementInjector||np();return new Cp(a).create(u,r.projectableNodes,r.hostElement,r.environmentInjector)}function VD(n){const r=bt(n);if(!r)return null;const a=new Cp(r);return{get selector(){return a.selector},get type(){return a.componentType},get inputs(){return a.inputs},get outputs(){return a.outputs},get ngContentSelectors(){return a.ngContentSelectors},get isStandalone(){return r.standalone}}}},5030:(Kn,Rt,H)=>{"use strict";H.d(Rt,{u5:()=>be,wO:()=>yo,JU:()=>pt,a5:()=>Mn,JJ:()=>vi,JL:()=>pi,F:()=>Re,On:()=>Ci,UX:()=>de,Q7:()=>to,_Y:()=>tr});var h=H(2223),_=H(4755),_e=H(8996),Oe=H(9751),Ze=H(4742),Ge=H(8421),Se=H(7669),Pe=H(5403),Qe=H(3268),Le=H(1810),rt=H(4004);let xe=(()=>{class ${constructor(T,F){this._renderer=T,this._elementRef=F,this.onChange=ge=>{},this.onTouched=()=>{}}setProperty(T,F){this._renderer.setProperty(this._elementRef.nativeElement,T,F)}registerOnTouched(T){this.onTouched=T}registerOnChange(T){this.onChange=T}setDisabledState(T){this.setProperty("disabled",T)}}return $.\u0275fac=function(T){return new(T||$)(h.Y36(h.Qsj),h.Y36(h.SBq))},$.\u0275dir=h.lG2({type:$}),$})(),at=(()=>{class $ extends xe{}return $.\u0275fac=function(){let L;return function(F){return(L||(L=h.n5z($)))(F||$)}}(),$.\u0275dir=h.lG2({type:$,features:[h.qOj]}),$})();const pt=new h.OlP("NgValueAccessor"),$e={provide:pt,useExisting:(0,h.Gpc)(()=>dt),multi:!0},Mt=new h.OlP("CompositionEventMode");let dt=(()=>{class $ extends xe{constructor(T,F,ge){super(T,F),this._compositionMode=ge,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function kt(){const $=(0,_.q)()?(0,_.q)().getUserAgent():"";return/android (\d+)/.test($.toLowerCase())}())}writeValue(T){this.setProperty("value",null==T?"":T)}_handleInput(T){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(T)}_compositionStart(){this._composing=!0}_compositionEnd(T){this._composing=!1,this._compositionMode&&this.onChange(T)}}return $.\u0275fac=function(T){return new(T||$)(h.Y36(h.Qsj),h.Y36(h.SBq),h.Y36(Mt,8))},$.\u0275dir=h.lG2({type:$,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(T,F){1&T&&h.NdJ("input",function(ft){return F._handleInput(ft.target.value)})("blur",function(){return F.onTouched()})("compositionstart",function(){return F._compositionStart()})("compositionend",function(ft){return F._compositionEnd(ft.target.value)})},features:[h._Bn([$e]),h.qOj]}),$})();function It($){return null==$||("string"==typeof $||Array.isArray($))&&0===$.length}const wt=new h.OlP("NgValidators"),vt=new h.OlP("NgAsyncValidators");function qt($){return It($.value)?{required:!0}:null}function et($){return null}function ct($){return null!=$}function Ut($){return(0,h.QGY)($)?(0,_e.D)($):$}function Pt($){let L={};return $.forEach(T=>{L=null!=T?{...L,...T}:L}),0===Object.keys(L).length?null:L}function Jt($,L){return L.map(T=>T($))}function Nn($){return $.map(L=>function nn($){return!$.validate}(L)?L:T=>L.validate(T))}function Et($){return null!=$?function Qt($){if(!$)return null;const L=$.filter(ct);return 0==L.length?null:function(T){return Pt(Jt(T,L))}}(Nn($)):null}function yn($){return null!=$?function on($){if(!$)return null;const L=$.filter(ct);return 0==L.length?null:function(T){return function Me(...$){const L=(0,Se.jO)($),{args:T,keys:F}=(0,Ze.D)($),ge=new Oe.y(ft=>{const{length:Ot}=T;if(!Ot)return void ft.complete();const dn=new Array(Ot);let Tn=Ot,Yr=Ot;for(let qr=0;qr<Ot;qr++){let oi=!1;(0,Ge.Xf)(T[qr]).subscribe((0,Pe.x)(ft,ii=>{oi||(oi=!0,Yr--),dn[qr]=ii},()=>Tn--,void 0,()=>{(!Tn||!oi)&&(Yr||ft.next(F?(0,Le.n)(F,dn):dn),ft.complete())}))}});return L?ge.pipe((0,Qe.Z)(L)):ge}(Jt(T,L).map(Ut)).pipe((0,rt.U)(Pt))}}(Nn($)):null}function Xn($,L){return null===$?[L]:Array.isArray($)?[...$,L]:[$,L]}function un($){return $?Array.isArray($)?$:[$]:[]}function Yn($,L){return Array.isArray($)?$.includes(L):$===L}function an($,L){const T=un(L);return un($).forEach(ge=>{Yn(T,ge)||T.push(ge)}),T}function Rr($,L){return un(L).filter(T=>!Yn($,T))}class Vr{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(L){this._rawValidators=L||[],this._composedValidatorFn=Et(this._rawValidators)}_setAsyncValidators(L){this._rawAsyncValidators=L||[],this._composedAsyncValidatorFn=yn(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(L){this._onDestroyCallbacks.push(L)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(L=>L()),this._onDestroyCallbacks=[]}reset(L=void 0){this.control&&this.control.reset(L)}hasError(L,T){return!!this.control&&this.control.hasError(L,T)}getError(L,T){return this.control?this.control.getError(L,T):null}}class Ar extends Vr{get formDirective(){return null}get path(){return null}}class Mn extends Vr{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class ni{constructor(L){this._cd=L}get isTouched(){var L,T;return!(null===(L=this._cd)||void 0===L||null===(T=L.control)||void 0===T||!T.touched)}get isUntouched(){var L,T;return!(null===(L=this._cd)||void 0===L||null===(T=L.control)||void 0===T||!T.untouched)}get isPristine(){var L,T;return!(null===(L=this._cd)||void 0===L||null===(T=L.control)||void 0===T||!T.pristine)}get isDirty(){var L,T;return!(null===(L=this._cd)||void 0===L||null===(T=L.control)||void 0===T||!T.dirty)}get isValid(){var L,T;return!(null===(L=this._cd)||void 0===L||null===(T=L.control)||void 0===T||!T.valid)}get isInvalid(){var L,T;return!(null===(L=this._cd)||void 0===L||null===(T=L.control)||void 0===T||!T.invalid)}get isPending(){var L,T;return!(null===(L=this._cd)||void 0===L||null===(T=L.control)||void 0===T||!T.pending)}get isSubmitted(){var L;return!(null===(L=this._cd)||void 0===L||!L.submitted)}}let vi=(()=>{class $ extends ni{constructor(T){super(T)}}return $.\u0275fac=function(T){return new(T||$)(h.Y36(Mn,2))},$.\u0275dir=h.lG2({type:$,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(T,F){2&T&&h.ekj("ng-untouched",F.isUntouched)("ng-touched",F.isTouched)("ng-pristine",F.isPristine)("ng-dirty",F.isDirty)("ng-valid",F.isValid)("ng-invalid",F.isInvalid)("ng-pending",F.isPending)},features:[h.qOj]}),$})(),pi=(()=>{class $ extends ni{constructor(T){super(T)}}return $.\u0275fac=function(T){return new(T||$)(h.Y36(Ar,10))},$.\u0275dir=h.lG2({type:$,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(T,F){2&T&&h.ekj("ng-untouched",F.isUntouched)("ng-touched",F.isTouched)("ng-pristine",F.isPristine)("ng-dirty",F.isDirty)("ng-valid",F.isValid)("ng-invalid",F.isInvalid)("ng-pending",F.isPending)("ng-submitted",F.isSubmitted)},features:[h.qOj]}),$})();const $n="VALID",Fr="INVALID",xr="PENDING",Ir="DISABLED";function gt($){return(oe($)?$.validators:$)||null}function se($,L){return(oe(L)?L.asyncValidators:$)||null}function oe($){return null!=$&&!Array.isArray($)&&"object"==typeof $}class tt{constructor(L,T){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(L),this._assignAsyncValidators(T)}get validator(){return this._composedValidatorFn}set validator(L){this._rawValidators=this._composedValidatorFn=L}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(L){this._rawAsyncValidators=this._composedAsyncValidatorFn=L}get parent(){return this._parent}get valid(){return this.status===$n}get invalid(){return this.status===Fr}get pending(){return this.status==xr}get disabled(){return this.status===Ir}get enabled(){return this.status!==Ir}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(L){this._assignValidators(L)}setAsyncValidators(L){this._assignAsyncValidators(L)}addValidators(L){this.setValidators(an(L,this._rawValidators))}addAsyncValidators(L){this.setAsyncValidators(an(L,this._rawAsyncValidators))}removeValidators(L){this.setValidators(Rr(L,this._rawValidators))}removeAsyncValidators(L){this.setAsyncValidators(Rr(L,this._rawAsyncValidators))}hasValidator(L){return Yn(this._rawValidators,L)}hasAsyncValidator(L){return Yn(this._rawAsyncValidators,L)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(L={}){this.touched=!0,this._parent&&!L.onlySelf&&this._parent.markAsTouched(L)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(L=>L.markAllAsTouched())}markAsUntouched(L={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(T=>{T.markAsUntouched({onlySelf:!0})}),this._parent&&!L.onlySelf&&this._parent._updateTouched(L)}markAsDirty(L={}){this.pristine=!1,this._parent&&!L.onlySelf&&this._parent.markAsDirty(L)}markAsPristine(L={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(T=>{T.markAsPristine({onlySelf:!0})}),this._parent&&!L.onlySelf&&this._parent._updatePristine(L)}markAsPending(L={}){this.status=xr,!1!==L.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!L.onlySelf&&this._parent.markAsPending(L)}disable(L={}){const T=this._parentMarkedDirty(L.onlySelf);this.status=Ir,this.errors=null,this._forEachChild(F=>{F.disable({...L,onlySelf:!0})}),this._updateValue(),!1!==L.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...L,skipPristineCheck:T}),this._onDisabledChange.forEach(F=>F(!0))}enable(L={}){const T=this._parentMarkedDirty(L.onlySelf);this.status=$n,this._forEachChild(F=>{F.enable({...L,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:L.emitEvent}),this._updateAncestors({...L,skipPristineCheck:T}),this._onDisabledChange.forEach(F=>F(!1))}_updateAncestors(L){this._parent&&!L.onlySelf&&(this._parent.updateValueAndValidity(L),L.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(L){this._parent=L}getRawValue(){return this.value}updateValueAndValidity(L={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===$n||this.status===xr)&&this._runAsyncValidator(L.emitEvent)),!1!==L.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!L.onlySelf&&this._parent.updateValueAndValidity(L)}_updateTreeValidity(L={emitEvent:!0}){this._forEachChild(T=>T._updateTreeValidity(L)),this.updateValueAndValidity({onlySelf:!0,emitEvent:L.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Ir:$n}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(L){if(this.asyncValidator){this.status=xr,this._hasOwnPendingAsyncValidator=!0;const T=Ut(this.asyncValidator(this));this._asyncValidationSubscription=T.subscribe(F=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(F,{emitEvent:L})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(L,T={}){this.errors=L,this._updateControlsErrors(!1!==T.emitEvent)}get(L){let T=L;return null==T||(Array.isArray(T)||(T=T.split(".")),0===T.length)?null:T.reduce((F,ge)=>F&&F._find(ge),this)}getError(L,T){const F=T?this.get(T):this;return F&&F.errors?F.errors[L]:null}hasError(L,T){return!!this.getError(L,T)}get root(){let L=this;for(;L._parent;)L=L._parent;return L}_updateControlsErrors(L){this.status=this._calculateStatus(),L&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(L)}_initObservables(){this.valueChanges=new h.vpe,this.statusChanges=new h.vpe}_calculateStatus(){return this._allControlsDisabled()?Ir:this.errors?Fr:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(xr)?xr:this._anyControlsHaveStatus(Fr)?Fr:$n}_anyControlsHaveStatus(L){return this._anyControls(T=>T.status===L)}_anyControlsDirty(){return this._anyControls(L=>L.dirty)}_anyControlsTouched(){return this._anyControls(L=>L.touched)}_updatePristine(L={}){this.pristine=!this._anyControlsDirty(),this._parent&&!L.onlySelf&&this._parent._updatePristine(L)}_updateTouched(L={}){this.touched=this._anyControlsTouched(),this._parent&&!L.onlySelf&&this._parent._updateTouched(L)}_registerOnCollectionChange(L){this._onCollectionChange=L}_setUpdateStrategy(L){oe(L)&&null!=L.updateOn&&(this._updateOn=L.updateOn)}_parentMarkedDirty(L){return!L&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(L){return null}_assignValidators(L){this._rawValidators=Array.isArray(L)?L.slice():L,this._composedValidatorFn=function Ae($){return Array.isArray($)?Et($):$||null}(this._rawValidators)}_assignAsyncValidators(L){this._rawAsyncValidators=Array.isArray(L)?L.slice():L,this._composedAsyncValidatorFn=function te($){return Array.isArray($)?yn($):$||null}(this._rawAsyncValidators)}}class $t extends tt{constructor(L,T,F){super(gt(T),se(F,T)),this.controls=L,this._initObservables(),this._setUpdateStrategy(T),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(L,T){return this.controls[L]?this.controls[L]:(this.controls[L]=T,T.setParent(this),T._registerOnCollectionChange(this._onCollectionChange),T)}addControl(L,T,F={}){this.registerControl(L,T),this.updateValueAndValidity({emitEvent:F.emitEvent}),this._onCollectionChange()}removeControl(L,T={}){this.controls[L]&&this.controls[L]._registerOnCollectionChange(()=>{}),delete this.controls[L],this.updateValueAndValidity({emitEvent:T.emitEvent}),this._onCollectionChange()}setControl(L,T,F={}){this.controls[L]&&this.controls[L]._registerOnCollectionChange(()=>{}),delete this.controls[L],T&&this.registerControl(L,T),this.updateValueAndValidity({emitEvent:F.emitEvent}),this._onCollectionChange()}contains(L){return this.controls.hasOwnProperty(L)&&this.controls[L].enabled}setValue(L,T={}){(function At($,L,T){$._forEachChild((F,ge)=>{if(void 0===T[ge])throw new h.vHH(1002,"")})})(this,0,L),Object.keys(L).forEach(F=>{(function Ke($,L,T){const F=$.controls;if(!(L?Object.keys(F):F).length)throw new h.vHH(1e3,"");if(!F[T])throw new h.vHH(1001,"")})(this,!0,F),this.controls[F].setValue(L[F],{onlySelf:!0,emitEvent:T.emitEvent})}),this.updateValueAndValidity(T)}patchValue(L,T={}){null!=L&&(Object.keys(L).forEach(F=>{const ge=this.controls[F];ge&&ge.patchValue(L[F],{onlySelf:!0,emitEvent:T.emitEvent})}),this.updateValueAndValidity(T))}reset(L={},T={}){this._forEachChild((F,ge)=>{F.reset(L[ge],{onlySelf:!0,emitEvent:T.emitEvent})}),this._updatePristine(T),this._updateTouched(T),this.updateValueAndValidity(T)}getRawValue(){return this._reduceChildren({},(L,T,F)=>(L[F]=T.getRawValue(),L))}_syncPendingControls(){let L=this._reduceChildren(!1,(T,F)=>!!F._syncPendingControls()||T);return L&&this.updateValueAndValidity({onlySelf:!0}),L}_forEachChild(L){Object.keys(this.controls).forEach(T=>{const F=this.controls[T];F&&L(F,T)})}_setUpControls(){this._forEachChild(L=>{L.setParent(this),L._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(L){for(const[T,F]of Object.entries(this.controls))if(this.contains(T)&&L(F))return!0;return!1}_reduceValue(){return this._reduceChildren({},(T,F,ge)=>((F.enabled||this.disabled)&&(T[ge]=F.value),T))}_reduceChildren(L,T){let F=L;return this._forEachChild((ge,ft)=>{F=T(F,ge,ft)}),F}_allControlsDisabled(){for(const L of Object.keys(this.controls))if(this.controls[L].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(L){return this.controls.hasOwnProperty(L)?this.controls[L]:null}}const rn=new h.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>mn}),mn="always";function Ft($,L,T=mn){var F,ge;hr($,L),L.valueAccessor.writeValue($.value),($.disabled||"always"===T)&&(null===(F=(ge=L.valueAccessor).setDisabledState)||void 0===F||F.call(ge,$.disabled)),function Mr($,L){L.valueAccessor.registerOnChange(T=>{$._pendingValue=T,$._pendingChange=!0,$._pendingDirty=!0,"change"===$.updateOn&&zr($,L)})}($,L),function kr($,L){const T=(F,ge)=>{L.valueAccessor.writeValue(F),ge&&L.viewToModelUpdate(F)};$.registerOnChange(T),L._registerOnDestroy(()=>{$._unregisterOnChange(T)})}($,L),function Si($,L){L.valueAccessor.registerOnTouched(()=>{$._pendingTouched=!0,"blur"===$.updateOn&&$._pendingChange&&zr($,L),"submit"!==$.updateOn&&$.markAsTouched()})}($,L),function Gn($,L){if(L.valueAccessor.setDisabledState){const T=F=>{L.valueAccessor.setDisabledState(F)};$.registerOnDisabledChange(T),L._registerOnDestroy(()=>{$._unregisterOnDisabledChange(T)})}}($,L)}function hn($,L){$.forEach(T=>{T.registerOnValidatorChange&&T.registerOnValidatorChange(L)})}function hr($,L){const T=function ar($){return $._rawValidators}($);null!==L.validator?$.setValidators(Xn(T,L.validator)):"function"==typeof T&&$.setValidators([T]);const F=function lr($){return $._rawAsyncValidators}($);null!==L.asyncValidator?$.setAsyncValidators(Xn(F,L.asyncValidator)):"function"==typeof F&&$.setAsyncValidators([F]);const ge=()=>$.updateValueAndValidity();hn(L._rawValidators,ge),hn(L._rawAsyncValidators,ge)}function zr($,L){$._pendingDirty&&$.markAsDirty(),$.setValue($._pendingValue,{emitModelToViewChange:!1}),L.viewToModelUpdate($._pendingValue),$._pendingChange=!1}const ie={provide:Ar,useExisting:(0,h.Gpc)(()=>Re)},fe=(()=>Promise.resolve())();let Re=(()=>{class $ extends Ar{constructor(T,F,ge){super(),this.callSetDisabledState=ge,this.submitted=!1,this._directives=new Set,this.ngSubmit=new h.vpe,this.form=new $t({},Et(T),yn(F))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(T){fe.then(()=>{const F=this._findContainer(T.path);T.control=F.registerControl(T.name,T.control),Ft(T.control,T,this.callSetDisabledState),T.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(T)})}getControl(T){return this.form.get(T.path)}removeControl(T){fe.then(()=>{const F=this._findContainer(T.path);F&&F.removeControl(T.name),this._directives.delete(T)})}addFormGroup(T){fe.then(()=>{const F=this._findContainer(T.path),ge=new $t({});(function Hr($,L){hr($,L)})(ge,T),F.registerControl(T.name,ge),ge.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(T){fe.then(()=>{const F=this._findContainer(T.path);F&&F.removeControl(T.name)})}getFormGroup(T){return this.form.get(T.path)}updateModel(T,F){fe.then(()=>{this.form.get(T.path).setValue(F)})}setValue(T){this.control.setValue(T)}onSubmit(T){var F;return this.submitted=!0,function $s($,L){$._syncPendingControls(),L.forEach(T=>{const F=T.control;"submit"===F.updateOn&&F._pendingChange&&(T.viewToModelUpdate(F._pendingValue),F._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(T),"dialog"===(null==T||null===(F=T.target)||void 0===F?void 0:F.method)}onReset(){this.resetForm()}resetForm(T=void 0){this.form.reset(T),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(T){return T.pop(),T.length?this.form.get(T):this.form}}return $.\u0275fac=function(T){return new(T||$)(h.Y36(wt,10),h.Y36(vt,10),h.Y36(rn,8))},$.\u0275dir=h.lG2({type:$,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(T,F){1&T&&h.NdJ("submit",function(ft){return F.onSubmit(ft)})("reset",function(){return F.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[h._Bn([ie]),h.qOj]}),$})();function Ee($,L){const T=$.indexOf(L);T>-1&&$.splice(T,1)}function re($){return"object"==typeof $&&null!==$&&2===Object.keys($).length&&"value"in $&&"disabled"in $}const ye=class extends tt{constructor(L=null,T,F){super(gt(T),se(F,T)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(L),this._setUpdateStrategy(T),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),oe(T)&&(T.nonNullable||T.initialValueIsDefault)&&(this.defaultValue=re(L)?L.value:L)}setValue(L,T={}){this.value=this._pendingValue=L,this._onChange.length&&!1!==T.emitModelToViewChange&&this._onChange.forEach(F=>F(this.value,!1!==T.emitViewToModelChange)),this.updateValueAndValidity(T)}patchValue(L,T={}){this.setValue(L,T)}reset(L=this.defaultValue,T={}){this._applyFormState(L),this.markAsPristine(T),this.markAsUntouched(T),this.setValue(this.value,T),this._pendingChange=!1}_updateValue(){}_anyControls(L){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(L){this._onChange.push(L)}_unregisterOnChange(L){Ee(this._onChange,L)}registerOnDisabledChange(L){this._onDisabledChange.push(L)}_unregisterOnDisabledChange(L){Ee(this._onDisabledChange,L)}_forEachChild(L){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(L){re(L)?(this.value=this._pendingValue=L.value,L.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=L}},Fi={provide:Mn,useExisting:(0,h.Gpc)(()=>Ci)},Ws=(()=>Promise.resolve())();let Ci=(()=>{class $ extends Mn{constructor(T,F,ge,ft,Ot,dn){super(),this._changeDetectorRef=Ot,this.callSetDisabledState=dn,this.control=new ye,this._registered=!1,this.name="",this.update=new h.vpe,this._parent=T,this._setValidators(F),this._setAsyncValidators(ge),this.valueAccessor=function Qs($,L){if(!L)return null;let T,F,ge;return Array.isArray(L),L.forEach(ft=>{ft.constructor===dt?T=ft:function Ri($){return Object.getPrototypeOf($.constructor)===at}(ft)?F=ft:ge=ft}),ge||F||T||null}(0,ft)}ngOnChanges(T){if(this._checkForErrors(),!this._registered||"name"in T){if(this._registered&&(this._checkName(),this.formDirective)){const F=T.name.previousValue;this.formDirective.removeControl({name:F,path:this._getPath(F)})}this._setUpControl()}"isDisabled"in T&&this._updateDisabled(T),function Xi($,L){if(!$.hasOwnProperty("model"))return!1;const T=$.model;return!!T.isFirstChange()||!Object.is(L,T.currentValue)}(T,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(T){this.viewModel=T,this.update.emit(T)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Ft(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(T){Ws.then(()=>{var F;this.control.setValue(T,{emitViewToModelChange:!1}),null===(F=this._changeDetectorRef)||void 0===F||F.markForCheck()})}_updateDisabled(T){const F=T.isDisabled.currentValue,ge=0!==F&&(0,h.D6c)(F);Ws.then(()=>{var ft;ge&&!this.control.disabled?this.control.disable():!ge&&this.control.disabled&&this.control.enable(),null===(ft=this._changeDetectorRef)||void 0===ft||ft.markForCheck()})}_getPath(T){return this._parent?function Rn($,L){return[...L.path,$]}(T,this._parent):[T]}}return $.\u0275fac=function(T){return new(T||$)(h.Y36(Ar,9),h.Y36(wt,10),h.Y36(vt,10),h.Y36(pt,10),h.Y36(h.sBO,8),h.Y36(rn,8))},$.\u0275dir=h.lG2({type:$,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[h._Bn([Fi]),h.qOj,h.TTD]}),$})(),tr=(()=>{class ${}return $.\u0275fac=function(T){return new(T||$)},$.\u0275dir=h.lG2({type:$,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),$})(),ss=(()=>{class ${}return $.\u0275fac=function(T){return new(T||$)},$.\u0275mod=h.oAB({type:$}),$.\u0275inj=h.cJS({}),$})();const Br=new h.OlP("NgModelWithFormControlWarning");let Qi=(()=>{class ${constructor(){this._validator=et}ngOnChanges(T){if(this.inputName in T){const F=this.normalizeInput(T[this.inputName].currentValue);this._enabled=this.enabled(F),this._validator=this._enabled?this.createValidator(F):et,this._onChange&&this._onChange()}}validate(T){return this._validator(T)}registerOnValidatorChange(T){this._onChange=T}enabled(T){return null!=T}}return $.\u0275fac=function(T){return new(T||$)},$.\u0275dir=h.lG2({type:$,features:[h.TTD]}),$})();const Ao={provide:wt,useExisting:(0,h.Gpc)(()=>to),multi:!0};let to=(()=>{class $ extends Qi{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=h.D6c,this.createValidator=T=>qt}enabled(T){return T}}return $.\u0275fac=function(){let L;return function(F){return(L||(L=h.n5z($)))(F||$)}}(),$.\u0275dir=h.lG2({type:$,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(T,F){2&T&&h.uIk("required",F._enabled?"":null)},inputs:{required:"required"},features:[h._Bn([Ao]),h.qOj]}),$})();const Ho={provide:wt,useExisting:(0,h.Gpc)(()=>yo),multi:!0};let yo=(()=>{class $ extends Qi{constructor(){super(...arguments),this.inputName="minlength",this.normalizeInput=T=>function ma($){return"number"==typeof $?$:parseInt($,10)}(T),this.createValidator=T=>function lt($){return L=>It(L.value)||!function Tt($){return null!=$&&"number"==typeof $.length}(L.value)?null:L.value.length<$?{minlength:{requiredLength:$,actualLength:L.value.length}}:null}(T)}}return $.\u0275fac=function(){let L;return function(F){return(L||(L=h.n5z($)))(F||$)}}(),$.\u0275dir=h.lG2({type:$,selectors:[["","minlength","","formControlName",""],["","minlength","","formControl",""],["","minlength","","ngModel",""]],hostVars:1,hostBindings:function(T,F){2&T&&h.uIk("minlength",F._enabled?F.minlength:null)},inputs:{minlength:"minlength"},features:[h._Bn([Ho]),h.qOj]}),$})(),En=(()=>{class ${}return $.\u0275fac=function(T){return new(T||$)},$.\u0275mod=h.oAB({type:$}),$.\u0275inj=h.cJS({imports:[ss]}),$})(),be=(()=>{class ${static withConfig(T){var F;return{ngModule:$,providers:[{provide:rn,useValue:null!==(F=T.callSetDisabledState)&&void 0!==F?F:mn}]}}}return $.\u0275fac=function(T){return new(T||$)},$.\u0275mod=h.oAB({type:$}),$.\u0275inj=h.cJS({imports:[En]}),$})(),de=(()=>{class ${static withConfig(T){var F,ge;return{ngModule:$,providers:[{provide:Br,useValue:null!==(F=T.warnOnNgModelWithFormControl)&&void 0!==F?F:"always"},{provide:rn,useValue:null!==(ge=T.callSetDisabledState)&&void 0!==ge?ge:mn}]}}}return $.\u0275fac=function(T){return new(T||$)},$.\u0275mod=h.oAB({type:$}),$.\u0275inj=h.cJS({imports:[En]}),$})()},6550:(Kn,Rt,H)=>{"use strict";H.d(Rt,{Dx:()=>Mn,b2:()=>Yn,q6:()=>Xn,se:()=>nt});var h=H(2223),_=H(4755);class _e extends _.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Oe extends _e{static makeCurrent(){(0,_.HT)(new Oe)}onAndCancel(se,te,oe){return se.addEventListener(te,oe),()=>{se.removeEventListener(te,oe)}}dispatchEvent(se,te){se.dispatchEvent(te)}remove(se){se.parentNode&&se.parentNode.removeChild(se)}createElement(se,te){return(te=te||this.getDefaultDocument()).createElement(se)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(se){return se.nodeType===Node.ELEMENT_NODE}isShadowRoot(se){return se instanceof DocumentFragment}getGlobalEventTarget(se,te){return"window"===te?window:"document"===te?se:"body"===te?se.body:null}getBaseHref(se){const te=function Ge(){return Ze=Ze||document.querySelector("base"),Ze?Ze.getAttribute("href"):null}();return null==te?null:function Pe(Ae){Se=Se||document.createElement("a"),Se.setAttribute("href",Ae);const se=Se.pathname;return"/"===se.charAt(0)?se:`/${se}`}(te)}resetBaseElement(){Ze=null}getUserAgent(){return window.navigator.userAgent}getCookie(se){return(0,_.Mx)(document.cookie,se)}}let Se,Ze=null,Le=(()=>{class Ae{build(){return new XMLHttpRequest}}return Ae.\u0275fac=function(te){return new(te||Ae)},Ae.\u0275prov=h.Yz7({token:Ae,factory:Ae.\u0275fac}),Ae})();const Me=new h.OlP("EventManagerPlugins");let rt=(()=>{class Ae{constructor(te,oe){this._zone=oe,this._eventNameToPlugin=new Map,te.forEach(Ke=>{Ke.manager=this}),this._plugins=te.slice().reverse()}addEventListener(te,oe,Ke){return this._findPluginFor(oe).addEventListener(te,oe,Ke)}getZone(){return this._zone}_findPluginFor(te){const oe=this._eventNameToPlugin.get(te);if(oe)return oe;const Ke=this._plugins;for(let At=0;At<Ke.length;At++){const tt=Ke[At];if(tt.supports(te))return this._eventNameToPlugin.set(te,tt),tt}throw new Error(`No event manager plugin found for event ${te}`)}}return Ae.\u0275fac=function(te){return new(te||Ae)(h.LFG(Me),h.LFG(h.R0b))},Ae.\u0275prov=h.Yz7({token:Ae,factory:Ae.\u0275fac}),Ae})();class xe{constructor(se){this._doc=se}}const at="ng-app-id";let pt=(()=>{class Ae{constructor(te,oe,Ke,At={}){this.doc=te,this.appId=oe,this.nonce=Ke,this.platformId=At,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=(0,_.PM)(At),this.resetHostNodes()}addStyles(te){for(const oe of te)1===this.changeUsageCount(oe,1)&&this.onStyleAdded(oe)}removeStyles(te){for(const oe of te)this.changeUsageCount(oe,-1)<=0&&this.onStyleRemoved(oe)}ngOnDestroy(){const te=this.styleNodesInDOM;te&&(te.forEach(oe=>oe.remove()),te.clear());for(const oe of this.getAllStyles())this.onStyleRemoved(oe);this.resetHostNodes()}addHost(te){this.hostNodes.add(te);for(const oe of this.getAllStyles())this.addStyleToHost(te,oe)}removeHost(te){this.hostNodes.delete(te)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(te){for(const oe of this.hostNodes)this.addStyleToHost(oe,te)}onStyleRemoved(te){var oe,Ke;const At=this.styleRef;null===(oe=At.get(te))||void 0===oe||null===(Ke=oe.elements)||void 0===Ke||Ke.forEach(tt=>tt.remove()),At.delete(te)}collectServerRenderedStyles(){var te;const oe=null===(te=this.doc.head)||void 0===te?void 0:te.querySelectorAll(`style[${at}="${this.appId}"]`);if(null!=oe&&oe.length){const Ke=new Map;return oe.forEach(At=>{null!=At.textContent&&Ke.set(At.textContent,At)}),Ke}return null}changeUsageCount(te,oe){const Ke=this.styleRef;if(Ke.has(te)){const At=Ke.get(te);return At.usage+=oe,At.usage}return Ke.set(te,{usage:oe,elements:[]}),oe}getStyleElement(te,oe){const Ke=this.styleNodesInDOM,At=null==Ke?void 0:Ke.get(oe);if((null==At?void 0:At.parentNode)===te)return Ke.delete(oe),At.removeAttribute(at),At;{const tt=this.doc.createElement("style");return this.nonce&&tt.setAttribute("nonce",this.nonce),tt.textContent=oe,this.platformIsServer&&tt.setAttribute(at,this.appId),tt}}addStyleToHost(te,oe){var Ke;const At=this.getStyleElement(te,oe);te.appendChild(At);const tt=this.styleRef,$t=null===(Ke=tt.get(oe))||void 0===Ke?void 0:Ke.elements;$t?$t.push(At):tt.set(oe,{elements:[At],usage:1})}resetHostNodes(){const te=this.hostNodes;te.clear(),te.add(this.doc.head)}}return Ae.\u0275fac=function(te){return new(te||Ae)(h.LFG(_.K0),h.LFG(h.AFp),h.LFG(h.Ojb,8),h.LFG(h.Lbi))},Ae.\u0275prov=h.Yz7({token:Ae,factory:Ae.\u0275fac}),Ae})();const Vt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},We=/%COMP%/g,It=new h.OlP("RemoveStylesOnCompDestory",{providedIn:"root",factory:()=>!1});function vt(Ae,se){return se.map(te=>te.replace(We,Ae))}let nt=(()=>{class Ae{constructor(te,oe,Ke,At,tt,$t,Zt,In=null){this.eventManager=te,this.sharedStylesHost=oe,this.appId=Ke,this.removeStylesOnCompDestory=At,this.doc=tt,this.platformId=$t,this.ngZone=Zt,this.nonce=In,this.rendererByCompId=new Map,this.platformIsServer=(0,_.PM)($t),this.defaultRenderer=new Ht(te,tt,Zt,this.platformIsServer)}createRenderer(te,oe){if(!te||!oe)return this.defaultRenderer;this.platformIsServer&&oe.encapsulation===h.ifc.ShadowDom&&(oe={...oe,encapsulation:h.ifc.Emulated});const Ke=this.getOrCreateRenderer(te,oe);return Ke instanceof lt?Ke.applyToHost(te):Ke instanceof qe&&Ke.applyStyles(),Ke}getOrCreateRenderer(te,oe){const Ke=this.rendererByCompId;let At=Ke.get(oe.id);if(!At){const tt=this.doc,$t=this.ngZone,Zt=this.eventManager,In=this.sharedStylesHost,vn=this.removeStylesOnCompDestory,jn=this.platformIsServer;switch(oe.encapsulation){case h.ifc.Emulated:At=new lt(Zt,In,oe,this.appId,vn,tt,$t,jn);break;case h.ifc.ShadowDom:return new Te(Zt,In,te,oe,tt,$t,this.nonce,jn);default:At=new qe(Zt,In,oe,vn,tt,$t,jn)}At.onDestroy=()=>Ke.delete(oe.id),Ke.set(oe.id,At)}return At}ngOnDestroy(){this.rendererByCompId.clear()}}return Ae.\u0275fac=function(te){return new(te||Ae)(h.LFG(rt),h.LFG(pt),h.LFG(h.AFp),h.LFG(It),h.LFG(_.K0),h.LFG(h.Lbi),h.LFG(h.R0b),h.LFG(h.Ojb))},Ae.\u0275prov=h.Yz7({token:Ae,factory:Ae.\u0275fac}),Ae})();class Ht{constructor(se,te,oe,Ke){this.eventManager=se,this.doc=te,this.ngZone=oe,this.platformIsServer=Ke,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(se,te){return te?this.doc.createElementNS(Vt[te]||te,se):this.doc.createElement(se)}createComment(se){return this.doc.createComment(se)}createText(se){return this.doc.createTextNode(se)}appendChild(se,te){(qt(se)?se.content:se).appendChild(te)}insertBefore(se,te,oe){se&&(qt(se)?se.content:se).insertBefore(te,oe)}removeChild(se,te){se&&se.removeChild(te)}selectRootElement(se,te){let oe="string"==typeof se?this.doc.querySelector(se):se;if(!oe)throw new Error(`The selector "${se}" did not match any elements`);return te||(oe.textContent=""),oe}parentNode(se){return se.parentNode}nextSibling(se){return se.nextSibling}setAttribute(se,te,oe,Ke){if(Ke){te=Ke+":"+te;const At=Vt[Ke];At?se.setAttributeNS(At,te,oe):se.setAttribute(te,oe)}else se.setAttribute(te,oe)}removeAttribute(se,te,oe){if(oe){const Ke=Vt[oe];Ke?se.removeAttributeNS(Ke,te):se.removeAttribute(`${oe}:${te}`)}else se.removeAttribute(te)}addClass(se,te){se.classList.add(te)}removeClass(se,te){se.classList.remove(te)}setStyle(se,te,oe,Ke){Ke&(h.JOm.DashCase|h.JOm.Important)?se.style.setProperty(te,oe,Ke&h.JOm.Important?"important":""):se.style[te]=oe}removeStyle(se,te,oe){oe&h.JOm.DashCase?se.style.removeProperty(te):se.style[te]=""}setProperty(se,te,oe){se[te]=oe}setValue(se,te){se.nodeValue=te}listen(se,te,oe){if("string"==typeof se&&!(se=(0,_.q)().getGlobalEventTarget(this.doc,se)))throw new Error(`Unsupported event target ${se} for event ${te}`);return this.eventManager.addEventListener(se,te,this.decoratePreventDefault(oe))}decoratePreventDefault(se){return te=>{if("__ngUnwrap__"===te)return se;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>se(te)):se(te))&&(te.preventDefault(),te.returnValue=!1)}}}function qt(Ae){return"TEMPLATE"===Ae.tagName&&void 0!==Ae.content}class Te extends Ht{constructor(se,te,oe,Ke,At,tt,$t,Zt){super(se,At,tt,Zt),this.sharedStylesHost=te,this.hostEl=oe,this.shadowRoot=oe.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const In=vt(Ke.id,Ke.styles);for(const vn of In){const jn=document.createElement("style");$t&&jn.setAttribute("nonce",$t),jn.textContent=vn,this.shadowRoot.appendChild(jn)}}nodeOrShadowRoot(se){return se===this.hostEl?this.shadowRoot:se}appendChild(se,te){return super.appendChild(this.nodeOrShadowRoot(se),te)}insertBefore(se,te,oe){return super.insertBefore(this.nodeOrShadowRoot(se),te,oe)}removeChild(se,te){return super.removeChild(this.nodeOrShadowRoot(se),te)}parentNode(se){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(se)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class qe extends Ht{constructor(se,te,oe,Ke,At,tt,$t,Zt){super(se,At,tt,$t),this.sharedStylesHost=te,this.removeStylesOnCompDestory=Ke,this.rendererUsageCount=0,this.styles=Zt?vt(Zt,oe.styles):oe.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles),this.rendererUsageCount++}destroy(){var se;this.removeStylesOnCompDestory&&(this.sharedStylesHost.removeStyles(this.styles),this.rendererUsageCount--,0===this.rendererUsageCount)&&(null===(se=this.onDestroy)||void 0===se||se.call(this))}}class lt extends qe{constructor(se,te,oe,Ke,At,tt,$t,Zt){const In=Ke+"-"+oe.id;super(se,te,oe,At,tt,$t,Zt,In),this.contentAttr=function Tt(Ae){return"_ngcontent-%COMP%".replace(We,Ae)}(In),this.hostAttr=function wt(Ae){return"_nghost-%COMP%".replace(We,Ae)}(In)}applyToHost(se){this.applyStyles(),this.setAttribute(se,this.hostAttr,"")}createElement(se,te){const oe=super.createElement(se,te);return super.setAttribute(oe,this.contentAttr,""),oe}}let mt=(()=>{class Ae extends xe{constructor(te){super(te)}supports(te){return!0}addEventListener(te,oe,Ke){return te.addEventListener(oe,Ke,!1),()=>this.removeEventListener(te,oe,Ke)}removeEventListener(te,oe,Ke){return te.removeEventListener(oe,Ke)}}return Ae.\u0275fac=function(te){return new(te||Ae)(h.LFG(_.K0))},Ae.\u0275prov=h.Yz7({token:Ae,factory:Ae.\u0275fac}),Ae})();const Je=["alt","control","meta","shift"],et={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},ct={alt:Ae=>Ae.altKey,control:Ae=>Ae.ctrlKey,meta:Ae=>Ae.metaKey,shift:Ae=>Ae.shiftKey};let Ut=(()=>{class Ae extends xe{constructor(te){super(te)}supports(te){return null!=Ae.parseEventName(te)}addEventListener(te,oe,Ke){const At=Ae.parseEventName(oe),tt=Ae.eventCallback(At.fullKey,Ke,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,_.q)().onAndCancel(te,At.domEventName,tt))}static parseEventName(te){const oe=te.toLowerCase().split("."),Ke=oe.shift();if(0===oe.length||"keydown"!==Ke&&"keyup"!==Ke)return null;const At=Ae._normalizeKey(oe.pop());let tt="",$t=oe.indexOf("code");if($t>-1&&(oe.splice($t,1),tt="code."),Je.forEach(In=>{const vn=oe.indexOf(In);vn>-1&&(oe.splice(vn,1),tt+=In+".")}),tt+=At,0!=oe.length||0===At.length)return null;const Zt={};return Zt.domEventName=Ke,Zt.fullKey=tt,Zt}static matchEventFullKeyCode(te,oe){let Ke=et[te.key]||te.key,At="";return oe.indexOf("code.")>-1&&(Ke=te.code,At="code."),!(null==Ke||!Ke)&&(Ke=Ke.toLowerCase()," "===Ke?Ke="space":"."===Ke&&(Ke="dot"),Je.forEach(tt=>{tt!==Ke&&(0,ct[tt])(te)&&(At+=tt+".")}),At+=Ke,At===oe)}static eventCallback(te,oe,Ke){return At=>{Ae.matchEventFullKeyCode(At,te)&&Ke.runGuarded(()=>oe(At))}}static _normalizeKey(te){return"esc"===te?"escape":te}}return Ae.\u0275fac=function(te){return new(te||Ae)(h.LFG(_.K0))},Ae.\u0275prov=h.Yz7({token:Ae,factory:Ae.\u0275fac}),Ae})();const Xn=(0,h.eFA)(h._c5,"browser",[{provide:h.Lbi,useValue:_.bD},{provide:h.g9A,useValue:function Qt(){Oe.makeCurrent()},multi:!0},{provide:_.K0,useFactory:function on(){return(0,h.RDi)(document),document},deps:[]}]),ar=new h.OlP(""),lr=[{provide:h.rWj,useClass:class Qe{addToWindow(se){h.dqk.getAngularTestability=(oe,Ke=!0)=>{const At=se.findTestabilityInTree(oe,Ke);if(null==At)throw new Error("Could not find testability for element.");return At},h.dqk.getAllAngularTestabilities=()=>se.getAllTestabilities(),h.dqk.getAllAngularRootElements=()=>se.getAllRootElements(),h.dqk.frameworkStabilizers||(h.dqk.frameworkStabilizers=[]),h.dqk.frameworkStabilizers.push(oe=>{const Ke=h.dqk.getAllAngularTestabilities();let At=Ke.length,tt=!1;const $t=function(Zt){tt=tt||Zt,At--,0==At&&oe(tt)};Ke.forEach(function(Zt){Zt.whenStable($t)})})}findTestabilityInTree(se,te,oe){if(null==te)return null;const Ke=se.getTestability(te);return null!=Ke?Ke:oe?(0,_.q)().isShadowRoot(te)?this.findTestabilityInTree(se,te.host,!0):this.findTestabilityInTree(se,te.parentElement,!0):null}},deps:[]},{provide:h.lri,useClass:h.dDg,deps:[h.R0b,h.eoX,h.rWj]},{provide:h.dDg,useClass:h.dDg,deps:[h.R0b,h.eoX,h.rWj]}],un=[{provide:h.zSh,useValue:"root"},{provide:h.qLn,useFactory:function Et(){return new h.qLn},deps:[]},{provide:Me,useClass:mt,multi:!0,deps:[_.K0,h.R0b,h.Lbi]},{provide:Me,useClass:Ut,multi:!0,deps:[_.K0]},nt,pt,rt,{provide:h.FYo,useExisting:nt},{provide:_.JF,useClass:Le,deps:[]},[]];let Yn=(()=>{class Ae{constructor(te){}static withServerTransition(te){return{ngModule:Ae,providers:[{provide:h.AFp,useValue:te.appId}]}}}return Ae.\u0275fac=function(te){return new(te||Ae)(h.LFG(ar,12))},Ae.\u0275mod=h.oAB({type:Ae}),Ae.\u0275inj=h.cJS({providers:[...un,...lr],imports:[_.ez,h.hGG]}),Ae})(),Mn=(()=>{class Ae{constructor(te){this._doc=te}getTitle(){return this._doc.title}setTitle(te){this._doc.title=te||""}}return Ae.\u0275fac=function(te){return new(te||Ae)(h.LFG(_.K0))},Ae.\u0275prov=h.Yz7({token:Ae,factory:function(te){let oe=null;return oe=te?new te:function Ar(){return new Mn((0,h.LFG)(_.K0))}(),oe},providedIn:"root"}),Ae})();typeof window<"u"&&window},5559:(Kn,Rt,H)=>{"use strict";H.d(Rt,{gz:()=>ho,jw:()=>Ci,y6:()=>ks,OD:()=>Re,eC:()=>un,wm:()=>qa,wN:()=>di,F0:()=>Ln,rH:()=>qn,Bz:()=>Ba,Hx:()=>ke,fw:()=>Is});var h=H(2223),_=H(9751),_e=H(576),Ze=H(8996),Ge=H(9646),Se=H(1135),Pe=H(4742),Qe=H(4671),Le=H(3268),Me=H(7669),rt=H(1810),xe=H(5403),at=H(9672);function pt(...V){const G=(0,Me.yG)(V),O=(0,Me.jO)(V),{args:Z,keys:pe}=(0,Pe.D)(V);if(0===Z.length)return(0,Ze.D)([],G);const Ye=new _.y(function Vt(V,G,O=Qe.y){return Z=>{We(G,()=>{const{length:pe}=V,Ye=new Array(pe);let je=pe,Kt=pe;for(let Sn=0;Sn<pe;Sn++)We(G,()=>{const Tr=(0,Ze.D)(V[Sn],G);let _i=!1;Tr.subscribe((0,xe.x)(Z,Gr=>{Ye[Sn]=Gr,_i||(_i=!0,Kt--),Kt||Z.next(O(Ye.slice()))},()=>{--je||Z.complete()}))},Z)},Z)}}(Z,G,pe?je=>(0,rt.n)(pe,je):Qe.y));return O?Ye.pipe((0,Le.Z)(O)):Ye}function We(V,G,O){V?(0,at.f)(O,V,G):G()}var $e=H(6805),kt=H(7272),Mt=H(8421);function dt(V){return new _.y(G=>{(0,Mt.Xf)(V()).subscribe(G)})}var It=H(9635);function Tt(V,G){const O=(0,_e.m)(V)?V:()=>V,Z=pe=>pe.error(O());return new _.y(G?pe=>G.schedule(Z,0,pe):Z)}var wt=H(515),vt=H(727),nt=H(4482);function Ht(){return(0,nt.e)((V,G)=>{let O=null;V._refCount++;const Z=(0,xe.x)(G,void 0,void 0,void 0,()=>{if(!V||V._refCount<=0||0<--V._refCount)return void(O=null);const pe=V._connection,Ye=O;O=null,pe&&(!Ye||pe===Ye)&&pe.unsubscribe(),G.unsubscribe()});V.subscribe(Z),Z.closed||(O=V.connect())})}class Ct extends _.y{constructor(G,O){super(),this.source=G,this.subjectFactory=O,this._subject=null,this._refCount=0,this._connection=null,(0,nt.A)(G)&&(this.lift=G.lift)}_subscribe(G){return this.getSubject().subscribe(G)}getSubject(){const G=this._subject;return(!G||G.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:G}=this;this._subject=this._connection=null,null==G||G.unsubscribe()}connect(){let G=this._connection;if(!G){G=this._connection=new vt.w0;const O=this.getSubject();G.add(this.source.subscribe((0,xe.x)(O,void 0,()=>{this._teardown(),O.complete()},Z=>{this._teardown(),O.error(Z)},()=>this._teardown()))),G.closed&&(this._connection=null,G=vt.w0.EMPTY)}return G}refCount(){return Ht()(this)}}var Nt=H(7579),qt=H(4755),Te=H(4004),qe=H(3900),lt=H(5698),mt=H(8675),Je=H(9300),et=H(5577),ct=H(590);function Ut(V,G){return(0,_e.m)(G)?(0,et.z)(V,G,1):(0,et.z)(V,1)}var Pt=H(8505);function Jt(V){return(0,nt.e)((G,O)=>{let Ye,Z=null,pe=!1;Z=G.subscribe((0,xe.x)(O,void 0,void 0,je=>{Ye=(0,Mt.Xf)(V(je,Jt(V)(G))),Z?(Z.unsubscribe(),Z=null,Ye.subscribe(O)):pe=!0})),pe&&(Z.unsubscribe(),Z=null,Ye.subscribe(O))})}var nn=H(5026),Nn=H(6590);function Qt(V){return V<=0?()=>wt.E:(0,nt.e)((G,O)=>{let Z=[];G.subscribe((0,xe.x)(O,pe=>{Z.push(pe),V<Z.length&&Z.shift()},()=>{for(const pe of Z)O.next(pe);O.complete()},void 0,()=>{Z=null}))})}var Et=H(8068),Xn=H(8746),ar=H(8189),lr=H(6550);const un="primary",Yn=Symbol("RouteTitle");class an{constructor(G){this.params=G||{}}has(G){return Object.prototype.hasOwnProperty.call(this.params,G)}get(G){if(this.has(G)){const O=this.params[G];return Array.isArray(O)?O[0]:O}return null}getAll(G){if(this.has(G)){const O=this.params[G];return Array.isArray(O)?O:[O]}return[]}get keys(){return Object.keys(this.params)}}function Rr(V){return new an(V)}function Vr(V,G,O){const Z=O.path.split("/");if(Z.length>V.length||"full"===O.pathMatch&&(G.hasChildren()||Z.length<V.length))return null;const pe={};for(let Ye=0;Ye<Z.length;Ye++){const je=Z[Ye],Kt=V[Ye];if(je.startsWith(":"))pe[je.substring(1)]=Kt;else if(je!==Kt.path)return null}return{consumed:V.slice(0,Z.length),posParams:pe}}function Mn(V,G){const O=V?Object.keys(V):void 0,Z=G?Object.keys(G):void 0;if(!O||!Z||O.length!=Z.length)return!1;let pe;for(let Ye=0;Ye<O.length;Ye++)if(pe=O[Ye],!ni(V[pe],G[pe]))return!1;return!0}function ni(V,G){if(Array.isArray(V)&&Array.isArray(G)){if(V.length!==G.length)return!1;const O=[...V].sort(),Z=[...G].sort();return O.every((pe,Ye)=>Z[Ye]===pe)}return V===G}function jr(V){return V.length>0?V[V.length-1]:null}function mr(V){return function Oe(V){return!!V&&(V instanceof _.y||(0,_e.m)(V.lift)&&(0,_e.m)(V.subscribe))}(V)?V:(0,h.QGY)(V)?(0,Ze.D)(Promise.resolve(V)):(0,Ge.of)(V)}const vi={exact:function cr(V,G,O){if(!Er(V.segments,G.segments)||!fi(V.segments,G.segments,O)||V.numberOfChildren!==G.numberOfChildren)return!1;for(const Z in G.children)if(!V.children[Z]||!cr(V.children[Z],G.children[Z],O))return!1;return!0},subset:si},pi={exact:function Qn(V,G){return Mn(V,G)},subset:function ci(V,G){return Object.keys(G).length<=Object.keys(V).length&&Object.keys(G).every(O=>ni(V[O],G[O]))},ignored:()=>!0};function Jn(V,G,O){return vi[O.paths](V.root,G.root,O.matrixParams)&&pi[O.queryParams](V.queryParams,G.queryParams)&&!("exact"===O.fragment&&V.fragment!==G.fragment)}function si(V,G,O){return Kr(V,G,G.segments,O)}function Kr(V,G,O,Z){if(V.segments.length>O.length){const pe=V.segments.slice(0,O.length);return!(!Er(pe,O)||G.hasChildren()||!fi(pe,O,Z))}if(V.segments.length===O.length){if(!Er(V.segments,O)||!fi(V.segments,O,Z))return!1;for(const pe in G.children)if(!V.children[pe]||!si(V.children[pe],G.children[pe],Z))return!1;return!0}{const pe=O.slice(0,V.segments.length),Ye=O.slice(V.segments.length);return!!(Er(V.segments,pe)&&fi(V.segments,pe,Z)&&V.children[un])&&Kr(V.children[un],G,Ye,Z)}}function fi(V,G,O){return G.every((Z,pe)=>pi[O](V[pe].parameters,Z.parameters))}class gi{constructor(G=new br([],{}),O={},Z=null){this.root=G,this.queryParams=O,this.fragment=Z}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Rr(this.queryParams)),this._queryParamMap}toString(){return jt.serialize(this)}}class br{constructor(G,O){this.segments=G,this.children=O,this.parent=null,Object.values(O).forEach(Z=>Z.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return bn(this)}}class dr{constructor(G,O){this.path=G,this.parameters=O}get parameterMap(){return this._parameterMap||(this._parameterMap=Rr(this.parameters)),this._parameterMap}toString(){return te(this)}}function Er(V,G){return V.length===G.length&&V.every((O,Z)=>O.path===G[Z].path)}let ke=(()=>{class V{}return V.\u0275fac=function(O){return new(O||V)},V.\u0275prov=h.Yz7({token:V,factory:function(){return new ut},providedIn:"root"}),V})();class ut{parse(G){const O=new mn(G);return new gi(O.parseRootSegment(),O.parseQueryParams(),O.parseFragment())}serialize(G){const O=`/${$n(G.root,!0)}`,Z=function Ke(V){const G=Object.keys(V).map(O=>{const Z=V[O];return Array.isArray(Z)?Z.map(pe=>`${xr(O)}=${xr(pe)}`).join("&"):`${xr(O)}=${xr(Z)}`}).filter(O=>!!O);return G.length?`?${G.join("&")}`:""}(G.queryParams);return`${O}${Z}${"string"==typeof G.fragment?`#${function Ir(V){return encodeURI(V)}(G.fragment)}`:""}`}}const jt=new ut;function bn(V){return V.segments.map(G=>te(G)).join("/")}function $n(V,G){if(!V.hasChildren())return bn(V);if(G){const O=V.children[un]?$n(V.children[un],!1):"",Z=[];return Object.entries(V.children).forEach(([pe,Ye])=>{pe!==un&&Z.push(`${pe}:${$n(Ye,!1)}`)}),Z.length>0?`${O}(${Z.join("//")})`:O}{const O=function Cn(V,G){let O=[];return Object.entries(V.children).forEach(([Z,pe])=>{Z===un&&(O=O.concat(G(pe,Z)))}),Object.entries(V.children).forEach(([Z,pe])=>{Z!==un&&(O=O.concat(G(pe,Z)))}),O}(V,(Z,pe)=>pe===un?[$n(V.children[un],!1)]:[`${pe}:${$n(Z,!1)}`]);return 1===Object.keys(V.children).length&&null!=V.children[un]?`${bn(V)}/${O[0]}`:`${bn(V)}/(${O.join("//")})`}}function Fr(V){return encodeURIComponent(V).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function xr(V){return Fr(V).replace(/%3B/gi,";")}function gt(V){return Fr(V).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Ae(V){return decodeURIComponent(V)}function se(V){return Ae(V.replace(/\+/g,"%20"))}function te(V){return`${gt(V.path)}${function oe(V){return Object.keys(V).map(G=>`;${gt(G)}=${gt(V[G])}`).join("")}(V.parameters)}`}const At=/^[^\/()?;#]+/;function tt(V){const G=V.match(At);return G?G[0]:""}const $t=/^[^\/()?;=#]+/,In=/^[^=?&#]+/,jn=/^[^&#]+/;class mn{constructor(G){this.url=G,this.remaining=G}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new br([],{}):new br([],this.parseChildren())}parseQueryParams(){const G={};if(this.consumeOptional("?"))do{this.parseQueryParam(G)}while(this.consumeOptional("&"));return G}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const G=[];for(this.peekStartsWith("(")||G.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),G.push(this.parseSegment());let O={};this.peekStartsWith("/(")&&(this.capture("/"),O=this.parseParens(!0));let Z={};return this.peekStartsWith("(")&&(Z=this.parseParens(!1)),(G.length>0||Object.keys(O).length>0)&&(Z[un]=new br(G,O)),Z}parseSegment(){const G=tt(this.remaining);if(""===G&&this.peekStartsWith(";"))throw new h.vHH(4009,!1);return this.capture(G),new dr(Ae(G),this.parseMatrixParams())}parseMatrixParams(){const G={};for(;this.consumeOptional(";");)this.parseParam(G);return G}parseParam(G){const O=function Zt(V){const G=V.match($t);return G?G[0]:""}(this.remaining);if(!O)return;this.capture(O);let Z="";if(this.consumeOptional("=")){const pe=tt(this.remaining);pe&&(Z=pe,this.capture(Z))}G[Ae(O)]=Ae(Z)}parseQueryParam(G){const O=function vn(V){const G=V.match(In);return G?G[0]:""}(this.remaining);if(!O)return;this.capture(O);let Z="";if(this.consumeOptional("=")){const je=function rn(V){const G=V.match(jn);return G?G[0]:""}(this.remaining);je&&(Z=je,this.capture(Z))}const pe=se(O),Ye=se(Z);if(G.hasOwnProperty(pe)){let je=G[pe];Array.isArray(je)||(je=[je],G[pe]=je),je.push(Ye)}else G[pe]=Ye}parseParens(G){const O={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const Z=tt(this.remaining),pe=this.remaining[Z.length];if("/"!==pe&&")"!==pe&&";"!==pe)throw new h.vHH(4010,!1);let Ye;Z.indexOf(":")>-1?(Ye=Z.slice(0,Z.indexOf(":")),this.capture(Ye),this.capture(":")):G&&(Ye=un);const je=this.parseChildren();O[Ye]=1===Object.keys(je).length?je[un]:new br([],je),this.consumeOptional("//")}return O}peekStartsWith(G){return this.remaining.startsWith(G)}consumeOptional(G){return!!this.peekStartsWith(G)&&(this.remaining=this.remaining.substring(G.length),!0)}capture(G){if(!this.consumeOptional(G))throw new h.vHH(4011,!1)}}function Rn(V){return V.segments.length>0?new br([],{[un]:V}):V}function Ft(V){const G={};for(const Z of Object.keys(V.children)){const Ye=Ft(V.children[Z]);if(Z===un&&0===Ye.segments.length&&Ye.hasChildren())for(const[je,Kt]of Object.entries(Ye.children))G[je]=Kt;else(Ye.segments.length>0||Ye.hasChildren())&&(G[Z]=Ye)}return function Gt(V){if(1===V.numberOfChildren&&V.children[un]){const G=V.children[un];return new br(V.segments.concat(G.segments),G.children)}return V}(new br(V.segments,G))}function hn(V){return V instanceof gi}function hr(V){var G;let O;const Ye=Rn(function Z(je){const Kt={};for(const Tr of je.children){const _i=Z(Tr);Kt[Tr.outlet]=_i}const Sn=new br(je.url,Kt);return je===V&&(O=Sn),Sn}(V.root));return null!==(G=O)&&void 0!==G?G:Ye}function Or(V,G,O,Z){let pe=V;for(;pe.parent;)pe=pe.parent;if(0===G.length)return zr(pe,pe,pe,O,Z);const Ye=function Wi(V){if("string"==typeof V[0]&&1===V.length&&"/"===V[0])return new Hr(!0,0,V);let G=0,O=!1;const Z=V.reduce((pe,Ye,je)=>{if("object"==typeof Ye&&null!=Ye){if(Ye.outlets){const Kt={};return Object.entries(Ye.outlets).forEach(([Sn,Tr])=>{Kt[Sn]="string"==typeof Tr?Tr.split("/"):Tr}),[...pe,{outlets:Kt}]}if(Ye.segmentPath)return[...pe,Ye.segmentPath]}return"string"!=typeof Ye?[...pe,Ye]:0===je?(Ye.split("/").forEach((Kt,Sn)=>{0==Sn&&"."===Kt||(0==Sn&&""===Kt?O=!0:".."===Kt?G++:""!=Kt&&pe.push(Kt))}),pe):[...pe,Ye]},[]);return new Hr(O,G,Z)}(G);if(Ye.toRoot())return zr(pe,pe,new br([],{}),O,Z);const je=function Xs(V,G,O){if(V.isAbsolute)return new Io(G,!0,0);if(!O)return new Io(G,!1,NaN);if(null===O.parent)return new Io(O,!0,0);const Z=Mr(V.commands[0])?0:1;return function Vi(V,G,O){let Z=V,pe=G,Ye=O;for(;Ye>pe;){if(Ye-=pe,Z=Z.parent,!Z)throw new h.vHH(4005,!1);pe=Z.segments.length}return new Io(Z,!1,pe-Ye)}(O,O.segments.length-1+Z,V.numberOfDoubleDots)}(Ye,pe,V),Kt=je.processChildren?Xi(je.segmentGroup,je.index,Ye.commands):Co(je.segmentGroup,je.index,Ye.commands);return zr(pe,je.segmentGroup,Kt,O,Z)}function Mr(V){return"object"==typeof V&&null!=V&&!V.outlets&&!V.segmentPath}function Si(V){return"object"==typeof V&&null!=V&&V.outlets}function zr(V,G,O,Z,pe){let je,Ye={};Z&&Object.entries(Z).forEach(([Sn,Tr])=>{Ye[Sn]=Array.isArray(Tr)?Tr.map(_i=>`${_i}`):`${Tr}`}),je=V===G?O:kr(V,G,O);const Kt=Rn(Ft(je));return new gi(Kt,Ye,pe)}function kr(V,G,O){const Z={};return Object.entries(V.children).forEach(([pe,Ye])=>{Z[pe]=Ye===G?O:kr(Ye,G,O)}),new br(V.segments,Z)}class Hr{constructor(G,O,Z){if(this.isAbsolute=G,this.numberOfDoubleDots=O,this.commands=Z,G&&Z.length>0&&Mr(Z[0]))throw new h.vHH(4003,!1);const pe=Z.find(Si);if(pe&&pe!==jr(Z))throw new h.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Io{constructor(G,O,Z){this.segmentGroup=G,this.processChildren=O,this.index=Z}}function Co(V,G,O){if(V||(V=new br([],{})),0===V.segments.length&&V.hasChildren())return Xi(V,G,O);const Z=function Ri(V,G,O){let Z=0,pe=G;const Ye={match:!1,pathIndex:0,commandIndex:0};for(;pe<V.segments.length;){if(Z>=O.length)return Ye;const je=V.segments[pe],Kt=O[Z];if(Si(Kt))break;const Sn=`${Kt}`,Tr=Z<O.length-1?O[Z+1]:null;if(pe>0&&void 0===Sn)break;if(Sn&&Tr&&"object"==typeof Tr&&void 0===Tr.outlets){if(!Us(Sn,Tr,je))return Ye;Z+=2}else{if(!Us(Sn,{},je))return Ye;Z++}pe++}return{match:!0,pathIndex:pe,commandIndex:Z}}(V,G,O),pe=O.slice(Z.commandIndex);if(Z.match&&Z.pathIndex<V.segments.length){const Ye=new br(V.segments.slice(0,Z.pathIndex),{});return Ye.children[un]=new br(V.segments.slice(Z.pathIndex),V.children),Xi(Ye,0,pe)}return Z.match&&0===pe.length?new br(V.segments,{}):Z.match&&!V.hasChildren()?$s(V,G,O):Z.match?Xi(V,0,pe):$s(V,G,O)}function Xi(V,G,O){if(0===O.length)return new br(V.segments,{});{const Z=function zi(V){return Si(V[0])?V[0].outlets:{[un]:V}}(O),pe={};if(!Z[un]&&V.children[un]&&1===V.numberOfChildren&&0===V.children[un].segments.length){const Ye=Xi(V.children[un],G,O);return new br(V.segments,Ye.children)}return Object.entries(Z).forEach(([Ye,je])=>{"string"==typeof je&&(je=[je]),null!==je&&(pe[Ye]=Co(V.children[Ye],G,je))}),Object.entries(V.children).forEach(([Ye,je])=>{void 0===Z[Ye]&&(pe[Ye]=je)}),new br(V.segments,pe)}}function $s(V,G,O){const Z=V.segments.slice(0,G);let pe=0;for(;pe<O.length;){const Ye=O[pe];if(Si(Ye)){const Sn=Qs(Ye.outlets);return new br(Z,Sn)}if(0===pe&&Mr(O[0])){Z.push(new dr(V.segments[G].path,Vs(O[0]))),pe++;continue}const je=Si(Ye)?Ye.outlets[un]:`${Ye}`,Kt=pe<O.length-1?O[pe+1]:null;je&&Kt&&Mr(Kt)?(Z.push(new dr(je,Vs(Kt))),pe+=2):(Z.push(new dr(je,{})),pe++)}return new br(Z,{})}function Qs(V){const G={};return Object.entries(V).forEach(([O,Z])=>{"string"==typeof Z&&(Z=[Z]),null!==Z&&(G[O]=$s(new br([],{}),0,Z))}),G}function Vs(V){const G={};return Object.entries(V).forEach(([O,Z])=>G[O]=`${Z}`),G}function Us(V,G,O){return V==O.path&&Mn(G,O.parameters)}const ie="imperative";class fe{constructor(G,O){this.id=G,this.url=O}}class Re extends fe{constructor(G,O,Z="imperative",pe=null){super(G,O),this.type=0,this.navigationTrigger=Z,this.restoredState=pe}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Ee extends fe{constructor(G,O,Z){super(G,O),this.urlAfterRedirects=Z,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class re extends fe{constructor(G,O,Z,pe){super(G,O),this.reason=Z,this.code=pe,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class ye extends fe{constructor(G,O,Z,pe){super(G,O),this.reason=Z,this.code=pe,this.type=16}}class st extends fe{constructor(G,O,Z,pe){super(G,O),this.error=Z,this.target=pe,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class bt extends fe{constructor(G,O,Z,pe){super(G,O),this.urlAfterRedirects=Z,this.state=pe,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Lt extends fe{constructor(G,O,Z,pe){super(G,O),this.urlAfterRedirects=Z,this.state=pe,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Xt extends fe{constructor(G,O,Z,pe,Ye){super(G,O),this.urlAfterRedirects=Z,this.state=pe,this.shouldActivate=Ye,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class zn extends fe{constructor(G,O,Z,pe){super(G,O),this.urlAfterRedirects=Z,this.state=pe,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Vn extends fe{constructor(G,O,Z,pe){super(G,O),this.urlAfterRedirects=Z,this.state=pe,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class wr{constructor(G){this.route=G,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Qr{constructor(G){this.route=G,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class is{constructor(G){this.snapshot=G,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Fi{constructor(G){this.snapshot=G,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ws{constructor(G){this.snapshot=G,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ci{constructor(G){this.snapshot=G,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class tr{constructor(G,O,Z){this.routerEvent=G,this.position=O,this.anchor=Z,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Ai{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new ks,this.attachRef=null}}let ks=(()=>{class V{constructor(){this.contexts=new Map}onChildOutletCreated(O,Z){const pe=this.getOrCreateContext(O);pe.outlet=Z,this.contexts.set(O,pe)}onChildOutletDestroyed(O){const Z=this.getContext(O);Z&&(Z.outlet=null,Z.attachRef=null)}onOutletDeactivated(){const O=this.contexts;return this.contexts=new Map,O}onOutletReAttached(O){this.contexts=O}getOrCreateContext(O){let Z=this.getContext(O);return Z||(Z=new Ai,this.contexts.set(O,Z)),Z}getContext(O){return this.contexts.get(O)||null}}return V.\u0275fac=function(O){return new(O||V)},V.\u0275prov=h.Yz7({token:V,factory:V.\u0275fac,providedIn:"root"}),V})();class Do{constructor(G){this._root=G}get root(){return this._root.value}parent(G){const O=this.pathFromRoot(G);return O.length>1?O[O.length-2]:null}children(G){const O=ss(G,this._root);return O?O.children.map(Z=>Z.value):[]}firstChild(G){const O=ss(G,this._root);return O&&O.children.length>0?O.children[0].value:null}siblings(G){const O=oo(G,this._root);return O.length<2?[]:O[O.length-2].children.map(pe=>pe.value).filter(pe=>pe!==G)}pathFromRoot(G){return oo(G,this._root).map(O=>O.value)}}function ss(V,G){if(V===G.value)return G;for(const O of G.children){const Z=ss(V,O);if(Z)return Z}return null}function oo(V,G){if(V===G.value)return[G];for(const O of G.children){const Z=oo(V,O);if(Z.length)return Z.unshift(G),Z}return[]}class ki{constructor(G,O){this.value=G,this.children=O}toString(){return`TreeNode(${this.value})`}}function ws(V){const G={};return V&&V.children.forEach(O=>G[O.value.outlet]=O),G}class os extends Do{constructor(G,O){super(G),this.snapshot=O,fo(this,G)}toString(){return this.snapshot.toString()}}function Br(V,G){const O=function ao(V,G){const je=new Gs([],{},{},"",{},un,G,null,{});return new no("",new ki(je,[]))}(0,G),Z=new Se.X([new dr("",{})]),pe=new Se.X({}),Ye=new Se.X({}),je=new Se.X({}),Kt=new Se.X(""),Sn=new ho(Z,pe,je,Kt,Ye,un,G,O.root);return Sn.snapshot=O.root,new os(new ki(Sn,[]),O)}class ho{constructor(G,O,Z,pe,Ye,je,Kt,Sn){var Tr,_i;this.urlSubject=G,this.paramsSubject=O,this.queryParamsSubject=Z,this.fragmentSubject=pe,this.dataSubject=Ye,this.outlet=je,this.component=Kt,this._futureSnapshot=Sn,this.title=null!==(Tr=null===(_i=this.dataSubject)||void 0===_i?void 0:_i.pipe((0,Te.U)(Gr=>Gr[Yn])))&&void 0!==Tr?Tr:(0,Ge.of)(void 0),this.url=G,this.params=O,this.queryParams=Z,this.fragment=pe,this.data=Ye}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Te.U)(G=>Rr(G)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Te.U)(G=>Rr(G)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Di(V,G="emptyOnly"){const O=V.pathFromRoot;let Z=0;if("always"!==G)for(Z=O.length-1;Z>=1;){const pe=O[Z],Ye=O[Z-1];if(pe.routeConfig&&""===pe.routeConfig.path)Z--;else{if(Ye.component)break;Z--}}return function Li(V){return V.reduce((G,O)=>{var Z;return{params:{...G.params,...O.params},data:{...G.data,...O.data},resolve:{...O.data,...G.resolve,...null===(Z=O.routeConfig)||void 0===Z?void 0:Z.data,...O._resolvedData}}},{params:{},data:{},resolve:{}})}(O.slice(Z))}class Gs{get title(){var G;return null===(G=this.data)||void 0===G?void 0:G[Yn]}constructor(G,O,Z,pe,Ye,je,Kt,Sn,Tr){this.url=G,this.params=O,this.queryParams=Z,this.fragment=pe,this.data=Ye,this.outlet=je,this.component=Kt,this.routeConfig=Sn,this._resolve=Tr}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Rr(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Rr(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(Z=>Z.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class no extends Do{constructor(G,O){super(O),this.url=G,fo(this,O)}toString(){return ko(this._root)}}function fo(V,G){G.value._routerState=V,G.children.forEach(O=>fo(V,O))}function ko(V){const G=V.children.length>0?` { ${V.children.map(ko).join(", ")} } `:"";return`${V.value}${G}`}function $o(V){if(V.snapshot){const G=V.snapshot,O=V._futureSnapshot;V.snapshot=O,Mn(G.queryParams,O.queryParams)||V.queryParamsSubject.next(O.queryParams),G.fragment!==O.fragment&&V.fragmentSubject.next(O.fragment),Mn(G.params,O.params)||V.paramsSubject.next(O.params),function Ar(V,G){if(V.length!==G.length)return!1;for(let O=0;O<V.length;++O)if(!Mn(V[O],G[O]))return!1;return!0}(G.url,O.url)||V.urlSubject.next(O.url),Mn(G.data,O.data)||V.dataSubject.next(O.data)}else V.snapshot=V._futureSnapshot,V.dataSubject.next(V._futureSnapshot.data)}function po(V,G){const O=Mn(V.params,G.params)&&function ui(V,G){return Er(V,G)&&V.every((O,Z)=>Mn(O.parameters,G[Z].parameters))}(V.url,G.url);return O&&!(!V.parent!=!G.parent)&&(!V.parent||po(V.parent,G.parent))}let lo=(()=>{class V{constructor(){this.activated=null,this._activatedRoute=null,this.name=un,this.activateEvents=new h.vpe,this.deactivateEvents=new h.vpe,this.attachEvents=new h.vpe,this.detachEvents=new h.vpe,this.parentContexts=(0,h.f3M)(ks),this.location=(0,h.f3M)(h.s_b),this.changeDetector=(0,h.f3M)(h.sBO),this.environmentInjector=(0,h.f3M)(h.lqb),this.inputBinder=(0,h.f3M)(ps,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(O){if(O.name){const{firstChange:Z,previousValue:pe}=O.name;if(Z)return;this.isTrackedInParentContexts(pe)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(pe)),this.initializeOutletWithName()}}ngOnDestroy(){var O;this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),null===(O=this.inputBinder)||void 0===O||O.unsubscribeFromRouteData(this)}isTrackedInParentContexts(O){var Z;return(null===(Z=this.parentContexts.getContext(O))||void 0===Z?void 0:Z.outlet)===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const O=this.parentContexts.getContext(this.name);null!=O&&O.route&&(O.attachRef?this.attach(O.attachRef,O.route):this.activateWith(O.route,O.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new h.vHH(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new h.vHH(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new h.vHH(4012,!1);this.location.detach();const O=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(O.instance),O}attach(O,Z){var pe;this.activated=O,this._activatedRoute=Z,this.location.insert(O.hostView),null===(pe=this.inputBinder)||void 0===pe||pe.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(O.instance)}deactivate(){if(this.activated){const O=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(O)}}activateWith(O,Z){var pe;if(this.isActivated)throw new h.vHH(4013,!1);this._activatedRoute=O;const Ye=this.location,Kt=O.snapshot.component,Sn=this.parentContexts.getOrCreateContext(this.name).children,Tr=new ia(O,Sn,Ye.injector);this.activated=Ye.createComponent(Kt,{index:Ye.length,injector:Tr,environmentInjector:null!=Z?Z:this.environmentInjector}),this.changeDetector.markForCheck(),null===(pe=this.inputBinder)||void 0===pe||pe.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}}return V.\u0275fac=function(O){return new(O||V)},V.\u0275dir=h.lG2({type:V,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[h.TTD]}),V})();class ia{constructor(G,O,Z){this.route=G,this.childContexts=O,this.parent=Z}get(G,O){return G===ho?this.route:G===ks?this.childContexts:this.parent.get(G,O)}}const ps=new h.OlP("");let Ei=(()=>{class V{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(O){this.unsubscribeFromRouteData(O),this.subscribeToRouteData(O)}unsubscribeFromRouteData(O){var Z;null===(Z=this.outletDataSubscriptions.get(O))||void 0===Z||Z.unsubscribe(),this.outletDataSubscriptions.delete(O)}subscribeToRouteData(O){const{activatedRoute:Z}=O,pe=pt([Z.queryParams,Z.params,Z.data]).pipe((0,qe.w)(([Ye,je,Kt],Sn)=>(Kt={...Ye,...je,...Kt},0===Sn?(0,Ge.of)(Kt):Promise.resolve(Kt)))).subscribe(Ye=>{if(!O.isActivated||!O.activatedComponentRef||O.activatedRoute!==Z||null===Z.component)return void this.unsubscribeFromRouteData(O);const je=(0,h.qFp)(Z.component);if(je)for(const{templateName:Kt}of je.inputs)O.activatedComponentRef.setInput(Kt,Ye[Kt]);else this.unsubscribeFromRouteData(O)});this.outletDataSubscriptions.set(O,pe)}}return V.\u0275fac=function(O){return new(O||V)},V.\u0275prov=h.Yz7({token:V,factory:V.\u0275fac}),V})();function Js(V,G,O){if(O&&V.shouldReuseRoute(G.value,O.value.snapshot)){const Z=O.value;Z._futureSnapshot=G.value;const pe=function Qo(V,G,O){return G.children.map(Z=>{for(const pe of O.children)if(V.shouldReuseRoute(Z.value,pe.value.snapshot))return Js(V,Z,pe);return Js(V,Z)})}(V,G,O);return new ki(Z,pe)}{if(V.shouldAttach(G.value)){const Ye=V.retrieve(G.value);if(null!==Ye){const je=Ye.route;return je.value._futureSnapshot=G.value,je.children=G.children.map(Kt=>Js(V,Kt)),je}}const Z=function eo(V){return new ho(new Se.X(V.url),new Se.X(V.params),new Se.X(V.queryParams),new Se.X(V.fragment),new Se.X(V.data),V.outlet,V.component,V)}(G.value),pe=G.children.map(Ye=>Js(V,Ye));return new ki(Z,pe)}}const So="ngNavigationCancelingError";function go(V,G){const{redirectTo:O,navigationBehaviorOptions:Z}=hn(G)?{redirectTo:G,navigationBehaviorOptions:void 0}:G,pe=No(!1,0,G);return pe.url=O,pe.navigationBehaviorOptions=Z,pe}function No(V,G,O){const Z=new Error("NavigationCancelingError: "+(V||""));return Z[So]=!0,Z.cancellationCode=G,O&&(Z.url=O),Z}function ms(V){return ma(V)&&hn(V.url)}function ma(V){return V&&V[So]}let Is=(()=>{class V{}return V.\u0275fac=function(O){return new(O||V)},V.\u0275cmp=h.Xpm({type:V,selectors:[["ng-component"]],standalone:!0,features:[h.jDz],decls:1,vars:0,template:function(O,Z){1&O&&h._UZ(0,"router-outlet")},dependencies:[lo],encapsulation:2}),V})();function Uo(V){const G=V.children&&V.children.map(Uo),O=G?{...V,children:G}:{...V};return!O.component&&!O.loadComponent&&(G||O.loadChildren)&&O.outlet&&O.outlet!==un&&(O.component=Is),O}function ys(V){return V.outlet||un}function yo(V){var G;if(!V)return null;if(null!==(G=V.routeConfig)&&void 0!==G&&G._injector)return V.routeConfig._injector;for(let O=V.parent;O;O=O.parent){const Z=O.routeConfig;if(null!=Z&&Z._loadedInjector)return Z._loadedInjector;if(null!=Z&&Z._injector)return Z._injector}return null}class k{constructor(G,O,Z,pe,Ye){this.routeReuseStrategy=G,this.futureState=O,this.currState=Z,this.forwardEvent=pe,this.inputBindingEnabled=Ye}activate(G){const O=this.futureState._root,Z=this.currState?this.currState._root:null;this.deactivateChildRoutes(O,Z,G),$o(this.futureState.root),this.activateChildRoutes(O,Z,G)}deactivateChildRoutes(G,O,Z){const pe=ws(O);G.children.forEach(Ye=>{const je=Ye.value.outlet;this.deactivateRoutes(Ye,pe[je],Z),delete pe[je]}),Object.values(pe).forEach(Ye=>{this.deactivateRouteAndItsChildren(Ye,Z)})}deactivateRoutes(G,O,Z){const pe=G.value,Ye=O?O.value:null;if(pe===Ye)if(pe.component){const je=Z.getContext(pe.outlet);je&&this.deactivateChildRoutes(G,O,je.children)}else this.deactivateChildRoutes(G,O,Z);else Ye&&this.deactivateRouteAndItsChildren(O,Z)}deactivateRouteAndItsChildren(G,O){G.value.component&&this.routeReuseStrategy.shouldDetach(G.value.snapshot)?this.detachAndStoreRouteSubtree(G,O):this.deactivateRouteAndOutlet(G,O)}detachAndStoreRouteSubtree(G,O){const Z=O.getContext(G.value.outlet),pe=Z&&G.value.component?Z.children:O,Ye=ws(G);for(const je of Object.keys(Ye))this.deactivateRouteAndItsChildren(Ye[je],pe);if(Z&&Z.outlet){const je=Z.outlet.detach(),Kt=Z.children.onOutletDeactivated();this.routeReuseStrategy.store(G.value.snapshot,{componentRef:je,route:G,contexts:Kt})}}deactivateRouteAndOutlet(G,O){const Z=O.getContext(G.value.outlet),pe=Z&&G.value.component?Z.children:O,Ye=ws(G);for(const je of Object.keys(Ye))this.deactivateRouteAndItsChildren(Ye[je],pe);Z&&(Z.outlet&&(Z.outlet.deactivate(),Z.children.onOutletDeactivated()),Z.attachRef=null,Z.route=null)}activateChildRoutes(G,O,Z){const pe=ws(O);G.children.forEach(Ye=>{this.activateRoutes(Ye,pe[Ye.value.outlet],Z),this.forwardEvent(new Ci(Ye.value.snapshot))}),G.children.length&&this.forwardEvent(new Fi(G.value.snapshot))}activateRoutes(G,O,Z){const pe=G.value,Ye=O?O.value:null;if($o(pe),pe===Ye)if(pe.component){const je=Z.getOrCreateContext(pe.outlet);this.activateChildRoutes(G,O,je.children)}else this.activateChildRoutes(G,O,Z);else if(pe.component){const je=Z.getOrCreateContext(pe.outlet);if(this.routeReuseStrategy.shouldAttach(pe.snapshot)){const Kt=this.routeReuseStrategy.retrieve(pe.snapshot);this.routeReuseStrategy.store(pe.snapshot,null),je.children.onOutletReAttached(Kt.contexts),je.attachRef=Kt.componentRef,je.route=Kt.route.value,je.outlet&&je.outlet.attach(Kt.componentRef,Kt.route.value),$o(Kt.route.value),this.activateChildRoutes(G,null,je.children)}else{const Kt=yo(pe.snapshot);je.attachRef=null,je.route=pe,je.injector=Kt,je.outlet&&je.outlet.activateWith(pe,je.injector),this.activateChildRoutes(G,null,je.children)}}else this.activateChildRoutes(G,null,Z)}}class he{constructor(G){this.path=G,this.route=this.path[this.path.length-1]}}class N{constructor(G,O){this.component=G,this.route=O}}function ce(V,G,O){const Z=V._root;return Cr(Z,G?G._root:null,O,[Z.value])}function En(V,G){const O=Symbol(),Z=G.get(V,O);return Z===O?"function"!=typeof V||(0,h.Z0I)(V)?G.get(V):V:Z}function Cr(V,G,O,Z,pe={canDeactivateChecks:[],canActivateChecks:[]}){const Ye=ws(G);return V.children.forEach(je=>{(function Ur(V,G,O,Z,pe={canDeactivateChecks:[],canActivateChecks:[]}){const Ye=V.value,je=G?G.value:null,Kt=O?O.getContext(V.value.outlet):null;if(je&&Ye.routeConfig===je.routeConfig){const Sn=function yi(V,G,O){if("function"==typeof O)return O(V,G);switch(O){case"pathParamsChange":return!Er(V.url,G.url);case"pathParamsOrQueryParamsChange":return!Er(V.url,G.url)||!Mn(V.queryParams,G.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!po(V,G)||!Mn(V.queryParams,G.queryParams);default:return!po(V,G)}}(je,Ye,Ye.routeConfig.runGuardsAndResolvers);Sn?pe.canActivateChecks.push(new he(Z)):(Ye.data=je.data,Ye._resolvedData=je._resolvedData),Cr(V,G,Ye.component?Kt?Kt.children:null:O,Z,pe),Sn&&Kt&&Kt.outlet&&Kt.outlet.isActivated&&pe.canDeactivateChecks.push(new N(Kt.outlet.component,je))}else je&&wi(G,Kt,pe),pe.canActivateChecks.push(new he(Z)),Cr(V,null,Ye.component?Kt?Kt.children:null:O,Z,pe)})(je,Ye[je.value.outlet],O,Z.concat([je.value]),pe),delete Ye[je.value.outlet]}),Object.entries(Ye).forEach(([je,Kt])=>wi(Kt,O.getContext(je),pe)),pe}function wi(V,G,O){const Z=ws(V),pe=V.value;Object.entries(Z).forEach(([Ye,je])=>{wi(je,pe.component?G?G.children.getContext(Ye):null:G,O)}),O.canDeactivateChecks.push(new N(pe.component&&G&&G.outlet&&G.outlet.isActivated?G.outlet.component:null,pe))}function Ms(V){return"function"==typeof V}function F(V){return V instanceof $e.K||"EmptyError"===(null==V?void 0:V.name)}const ge=Symbol("INITIAL_VALUE");function ft(){return(0,qe.w)(V=>pt(V.map(G=>G.pipe((0,lt.q)(1),(0,mt.O)(ge)))).pipe((0,Te.U)(G=>{for(const O of G)if(!0!==O){if(O===ge)return ge;if(!1===O||O instanceof gi)return O}return!0}),(0,Je.h)(G=>G!==ge),(0,lt.q)(1)))}function io(V){return(0,It.z)((0,Pt.b)(G=>{if(hn(G))throw go(0,G)}),(0,Te.U)(G=>!0===G))}class js{constructor(G){this.segmentGroup=G||null}}class Ns{constructor(G){this.urlTree=G}}function Ds(V){return Tt(new js(V))}function vo(V){return Tt(new Ns(V))}class Wa{constructor(G,O){this.urlSerializer=G,this.urlTree=O}noMatchError(G){return new h.vHH(4002,!1)}lineralizeSegments(G,O){let Z=[],pe=O.root;for(;;){if(Z=Z.concat(pe.segments),0===pe.numberOfChildren)return(0,Ge.of)(Z);if(pe.numberOfChildren>1||!pe.children[un])return Tt(new h.vHH(4e3,!1));pe=pe.children[un]}}applyRedirectCommands(G,O,Z){return this.applyRedirectCreateUrlTree(O,this.urlSerializer.parse(O),G,Z)}applyRedirectCreateUrlTree(G,O,Z,pe){const Ye=this.createSegmentGroup(G,O.root,Z,pe);return new gi(Ye,this.createQueryParams(O.queryParams,this.urlTree.queryParams),O.fragment)}createQueryParams(G,O){const Z={};return Object.entries(G).forEach(([pe,Ye])=>{if("string"==typeof Ye&&Ye.startsWith(":")){const Kt=Ye.substring(1);Z[pe]=O[Kt]}else Z[pe]=Ye}),Z}createSegmentGroup(G,O,Z,pe){const Ye=this.createSegments(G,O.segments,Z,pe);let je={};return Object.entries(O.children).forEach(([Kt,Sn])=>{je[Kt]=this.createSegmentGroup(G,Sn,Z,pe)}),new br(Ye,je)}createSegments(G,O,Z,pe){return O.map(Ye=>Ye.path.startsWith(":")?this.findPosParam(G,Ye,pe):this.findOrReturn(Ye,Z))}findPosParam(G,O,Z){const pe=Z[O.path.substring(1)];if(!pe)throw new h.vHH(4001,!1);return pe}findOrReturn(G,O){let Z=0;for(const pe of O){if(pe.path===G.path)return O.splice(Z),pe;Z++}return G}}const ka={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Ga(V,G,O,Z,pe){const Ye=ml(V,G,O);return Ye.matched?(Z=function Qi(V,G){var O;return V.providers&&!V._injector&&(V._injector=(0,h.MMx)(V.providers,G,`Route: ${V.path}`)),null!==(O=V._injector)&&void 0!==O?O:G}(G,Z),function Cs(V,G,O,Z){const pe=G.canMatch;if(!pe||0===pe.length)return(0,Ge.of)(!0);const Ye=pe.map(je=>{const Kt=En(je,V);return mr(function $(V){return V&&Ms(V.canMatch)}(Kt)?Kt.canMatch(G,O):V.runInContext(()=>Kt(G,O)))});return(0,Ge.of)(Ye).pipe(ft(),io())}(Z,G,O).pipe((0,Te.U)(je=>!0===je?Ye:{...ka}))):(0,Ge.of)(Ye)}function ml(V,G,O){var Z,pe;if(""===G.path)return"full"===G.pathMatch&&(V.hasChildren()||O.length>0)?{...ka}:{matched:!0,consumedSegments:[],remainingSegments:O,parameters:{},positionalParamSegments:{}};const je=(G.matcher||Vr)(O,V,G);if(!je)return{...ka};const Kt={};Object.entries(null!==(Z=je.posParams)&&void 0!==Z?Z:{}).forEach(([Tr,_i])=>{Kt[Tr]=_i.path});const Sn=je.consumed.length>0?{...Kt,...je.consumed[je.consumed.length-1].parameters}:Kt;return{matched:!0,consumedSegments:je.consumed,remainingSegments:O.slice(je.consumed.length),parameters:Sn,positionalParamSegments:null!==(pe=je.posParams)&&void 0!==pe?pe:{}}}function Gi(V,G,O,Z){return O.length>0&&function xl(V,G,O){return O.some(Z=>Go(V,G,Z)&&ys(Z)!==un)}(V,O,Z)?{segmentGroup:new br(G,Fs(Z,new br(O,V.children))),slicedSegments:[]}:0===O.length&&function Ml(V,G,O){return O.some(Z=>Go(V,G,Z))}(V,O,Z)?{segmentGroup:new br(V.segments,il(V,0,O,Z,V.children)),slicedSegments:O}:{segmentGroup:new br(V.segments,V.children),slicedSegments:O}}function il(V,G,O,Z,pe){const Ye={};for(const je of Z)if(Go(V,O,je)&&!pe[ys(je)]){const Kt=new br([],{});Ye[ys(je)]=Kt}return{...pe,...Ye}}function Fs(V,G){const O={};O[un]=G;for(const Z of V)if(""===Z.path&&ys(Z)!==un){const pe=new br([],{});O[ys(Z)]=pe}return O}function Go(V,G,O){return(!(V.hasChildren()||G.length>0)||"full"!==O.pathMatch)&&""===O.path}class le{constructor(G,O,Z,pe,Ye,je,Kt){this.injector=G,this.configLoader=O,this.rootComponentType=Z,this.config=pe,this.urlTree=Ye,this.paramsInheritanceStrategy=je,this.urlSerializer=Kt,this.allowRedirects=!0,this.applyRedirects=new Wa(this.urlSerializer,this.urlTree)}noMatchError(G){return new h.vHH(4002,!1)}recognize(){const G=Gi(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,G,un).pipe(Jt(O=>{if(O instanceof Ns)return this.allowRedirects=!1,this.urlTree=O.urlTree,this.match(O.urlTree);throw O instanceof js?this.noMatchError(O):O}),(0,Te.U)(O=>{const Z=new Gs([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},un,this.rootComponentType,null,{}),pe=new ki(Z,O),Ye=new no("",pe),je=function Gn(V,G,O=null,Z=null){return Or(hr(V),G,O,Z)}(Z,[],this.urlTree.queryParams,this.urlTree.fragment);return je.queryParams=this.urlTree.queryParams,Ye.url=this.urlSerializer.serialize(je),this.inheritParamsAndData(Ye._root),{state:Ye,tree:je}}))}match(G){return this.processSegmentGroup(this.injector,this.config,G.root,un).pipe(Jt(Z=>{throw Z instanceof js?this.noMatchError(Z):Z}))}inheritParamsAndData(G){const O=G.value,Z=Di(O,this.paramsInheritanceStrategy);O.params=Object.freeze(Z.params),O.data=Object.freeze(Z.data),G.children.forEach(pe=>this.inheritParamsAndData(pe))}processSegmentGroup(G,O,Z,pe){return 0===Z.segments.length&&Z.hasChildren()?this.processChildren(G,O,Z):this.processSegment(G,O,Z,Z.segments,pe,!0)}processChildren(G,O,Z){const pe=[];for(const Ye of Object.keys(Z.children))"primary"===Ye?pe.unshift(Ye):pe.push(Ye);return(0,Ze.D)(pe).pipe(Ut(Ye=>{const je=Z.children[Ye],Kt=function Ho(V,G){const O=V.filter(Z=>ys(Z)===G);return O.push(...V.filter(Z=>ys(Z)!==G)),O}(O,Ye);return this.processSegmentGroup(G,Kt,je,Ye)}),(0,nn.R)((Ye,je)=>(Ye.push(...je),Ye)),(0,Nn.d)(null),function on(V,G){const O=arguments.length>=2;return Z=>Z.pipe(V?(0,Je.h)((pe,Ye)=>V(pe,Ye,Z)):Qe.y,Qt(1),O?(0,Nn.d)(G):(0,Et.T)(()=>new $e.K))}(),(0,et.z)(Ye=>{if(null===Ye)return Ds(Z);const je=ot(Ye);return function De(V){V.sort((G,O)=>G.value.outlet===un?-1:O.value.outlet===un?1:G.value.outlet.localeCompare(O.value.outlet))}(je),(0,Ge.of)(je)}))}processSegment(G,O,Z,pe,Ye,je){return(0,Ze.D)(O).pipe(Ut(Kt=>{var Sn;return this.processSegmentAgainstRoute(null!==(Sn=Kt._injector)&&void 0!==Sn?Sn:G,O,Kt,Z,pe,Ye,je).pipe(Jt(Tr=>{if(Tr instanceof js)return(0,Ge.of)(null);throw Tr}))}),(0,ct.P)(Kt=>!!Kt),Jt(Kt=>{if(F(Kt))return function P(V,G,O){return 0===G.length&&!V.children[O]}(Z,pe,Ye)?(0,Ge.of)([]):Ds(Z);throw Kt}))}processSegmentAgainstRoute(G,O,Z,pe,Ye,je,Kt){return function sl(V,G,O,Z){return!!(ys(V)===Z||Z!==un&&Go(G,O,V))&&("**"===V.path||ml(G,V,O).matched)}(Z,pe,Ye,je)?void 0===Z.redirectTo?this.matchSegmentAgainstRoute(G,pe,Z,Ye,je,Kt):Kt&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(G,pe,O,Z,Ye,je):Ds(pe):Ds(pe)}expandSegmentAgainstRouteUsingRedirect(G,O,Z,pe,Ye,je){return"**"===pe.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(G,Z,pe,je):this.expandRegularSegmentAgainstRouteUsingRedirect(G,O,Z,pe,Ye,je)}expandWildCardWithParamsAgainstRouteUsingRedirect(G,O,Z,pe){const Ye=this.applyRedirects.applyRedirectCommands([],Z.redirectTo,{});return Z.redirectTo.startsWith("/")?vo(Ye):this.applyRedirects.lineralizeSegments(Z,Ye).pipe((0,et.z)(je=>{const Kt=new br(je,{});return this.processSegment(G,O,Kt,je,pe,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(G,O,Z,pe,Ye,je){const{matched:Kt,consumedSegments:Sn,remainingSegments:Tr,positionalParamSegments:_i}=ml(O,pe,Ye);if(!Kt)return Ds(O);const Gr=this.applyRedirects.applyRedirectCommands(Sn,pe.redirectTo,_i);return pe.redirectTo.startsWith("/")?vo(Gr):this.applyRedirects.lineralizeSegments(pe,Gr).pipe((0,et.z)(Yi=>this.processSegment(G,Z,O,Yi.concat(Tr),je,!1)))}matchSegmentAgainstRoute(G,O,Z,pe,Ye,je){let Kt;if("**"===Z.path){var Sn,Tr;const _i=pe.length>0?jr(pe).parameters:{},Gr=new Gs(pe,_i,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Wt(Z),ys(Z),null!==(Sn=null!==(Tr=Z.component)&&void 0!==Tr?Tr:Z._loadedComponent)&&void 0!==Sn?Sn:null,Z,tn(Z));Kt=(0,Ge.of)({snapshot:Gr,consumedSegments:[],remainingSegments:[]}),O.children={}}else Kt=Ga(O,Z,pe,G).pipe((0,Te.U)(({matched:_i,consumedSegments:Gr,remainingSegments:Yi,parameters:C})=>{var y,d;return _i?{snapshot:new Gs(Gr,C,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Wt(Z),ys(Z),null!==(y=null!==(d=Z.component)&&void 0!==d?d:Z._loadedComponent)&&void 0!==y?y:null,Z,tn(Z)),consumedSegments:Gr,remainingSegments:Yi}:null}));return Kt.pipe((0,qe.w)(_i=>{var Gr;return null===_i?Ds(O):(G=null!==(Gr=Z._injector)&&void 0!==Gr?Gr:G,this.getChildConfig(G,Z,pe).pipe((0,qe.w)(({routes:Yi})=>{var C;const y=null!==(C=Z._loadedInjector)&&void 0!==C?C:G,{snapshot:d,consumedSegments:m,remainingSegments:E}=_i,{segmentGroup:b,slicedSegments:M}=Gi(O,m,E,Yi);if(0===M.length&&b.hasChildren())return this.processChildren(y,Yi,b).pipe((0,Te.U)(W=>null===W?null:[new ki(d,W)]));if(0===Yi.length&&0===M.length)return(0,Ge.of)([new ki(d,[])]);const B=ys(Z)===Ye;return this.processSegment(y,Yi,b,M,B?un:Ye,!0).pipe((0,Te.U)(W=>[new ki(d,W)]))})))}))}getChildConfig(G,O,Z){return O.children?(0,Ge.of)({routes:O.children,injector:G}):O.loadChildren?void 0!==O._loadedRoutes?(0,Ge.of)({routes:O._loadedRoutes,injector:O._loadedInjector}):function ji(V,G,O,Z){const pe=G.canLoad;if(void 0===pe||0===pe.length)return(0,Ge.of)(!0);const Ye=pe.map(je=>{const Kt=En(je,V);return mr(function Ks(V){return V&&Ms(V.canLoad)}(Kt)?Kt.canLoad(G,O):V.runInContext(()=>Kt(G,O)))});return(0,Ge.of)(Ye).pipe(ft(),io())}(G,O,Z).pipe((0,et.z)(pe=>pe?this.configLoader.loadChildren(G,O).pipe((0,Pt.b)(Ye=>{O._loadedRoutes=Ye.routes,O._loadedInjector=Ye.injector})):function Lo(V){return Tt(No(!1,3))}())):(0,Ge.of)({routes:[],injector:G})}}function Ue(V){const G=V.value.routeConfig;return G&&""===G.path}function ot(V){const G=[],O=new Set;for(const Z of V){if(!Ue(Z)){G.push(Z);continue}const pe=G.find(Ye=>Z.value.routeConfig===Ye.value.routeConfig);void 0!==pe?(pe.children.push(...Z.children),O.add(pe)):G.push(Z)}for(const Z of O){const pe=ot(Z.children);G.push(new ki(Z.value,pe))}return G.filter(Z=>!O.has(Z))}function Wt(V){return V.data||{}}function tn(V){return V.resolve||{}}function q(V){return"string"==typeof V.title||null===V.title}function ue(V){return(0,qe.w)(G=>{const O=V(G);return O?(0,Ze.D)(O).pipe((0,Te.U)(()=>G)):(0,Ge.of)(G)})}const ee=new h.OlP("ROUTES");let Fe=(()=>{class V{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,h.f3M)(h.Sil)}loadComponent(O){if(this.componentLoaders.get(O))return this.componentLoaders.get(O);if(O._loadedComponent)return(0,Ge.of)(O._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(O);const Z=mr(O.loadComponent()).pipe((0,Te.U)(_n),(0,Pt.b)(Ye=>{this.onLoadEndListener&&this.onLoadEndListener(O),O._loadedComponent=Ye}),(0,Xn.x)(()=>{this.componentLoaders.delete(O)})),pe=new Ct(Z,()=>new Nt.x).pipe(Ht());return this.componentLoaders.set(O,pe),pe}loadChildren(O,Z){if(this.childrenLoaders.get(Z))return this.childrenLoaders.get(Z);if(Z._loadedRoutes)return(0,Ge.of)({routes:Z._loadedRoutes,injector:Z._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(Z);const Ye=this.loadModuleFactoryOrRoutes(Z.loadChildren).pipe((0,Te.U)(Kt=>{this.onLoadEndListener&&this.onLoadEndListener(Z);let Sn,Tr;return Array.isArray(Kt)?Tr=Kt:(Sn=Kt.create(O).injector,Tr=Sn.get(ee,[],h.XFs.Self|h.XFs.Optional).flat()),{routes:Tr.map(Uo),injector:Sn}}),(0,Xn.x)(()=>{this.childrenLoaders.delete(Z)})),je=new Ct(Ye,()=>new Nt.x).pipe(Ht());return this.childrenLoaders.set(Z,je),je}loadModuleFactoryOrRoutes(O){return mr(O()).pipe((0,Te.U)(_n),(0,et.z)(Z=>Z instanceof h.YKP||Array.isArray(Z)?(0,Ge.of)(Z):(0,Ze.D)(this.compiler.compileModuleAsync(Z))))}}return V.\u0275fac=function(O){return new(O||V)},V.\u0275prov=h.Yz7({token:V,factory:V.\u0275fac,providedIn:"root"}),V})();function _n(V){return function _t(V){return V&&"object"==typeof V&&"default"in V}(V)?V.default:V}let An=(()=>{class V{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new Nt.x,this.configLoader=(0,h.f3M)(Fe),this.environmentInjector=(0,h.f3M)(h.lqb),this.urlSerializer=(0,h.f3M)(ke),this.rootContexts=(0,h.f3M)(ks),this.inputBindingEnabled=null!==(0,h.f3M)(ps,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,Ge.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=pe=>this.events.next(new Qr(pe)),this.configLoader.onLoadStartListener=pe=>this.events.next(new wr(pe))}complete(){var O;null===(O=this.transitions)||void 0===O||O.complete()}handleNavigationRequest(O){var Z;const pe=++this.navigationId;null===(Z=this.transitions)||void 0===Z||Z.next({...this.transitions.value,...O,id:pe})}setupNavigations(O){return this.transitions=new Se.X({id:0,currentUrlTree:O.currentUrlTree,currentRawUrl:O.currentUrlTree,extractedUrl:O.urlHandlingStrategy.extract(O.currentUrlTree),urlAfterRedirects:O.urlHandlingStrategy.extract(O.currentUrlTree),rawUrl:O.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:ie,restoredState:null,currentSnapshot:O.routerState.snapshot,targetSnapshot:null,currentRouterState:O.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,Je.h)(Z=>0!==Z.id),(0,Te.U)(Z=>({...Z,extractedUrl:O.urlHandlingStrategy.extract(Z.rawUrl)})),(0,qe.w)(Z=>{let pe=!1,Ye=!1;return(0,Ge.of)(Z).pipe((0,Pt.b)(je=>{this.currentNavigation={id:je.id,initialUrl:je.rawUrl,extractedUrl:je.extractedUrl,trigger:je.source,extras:je.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,qe.w)(je=>{var Kt;const Sn=O.browserUrlTree.toString(),Tr=!O.navigated||je.extractedUrl.toString()!==Sn||Sn!==O.currentUrlTree.toString(),_i=null!==(Kt=je.extras.onSameUrlNavigation)&&void 0!==Kt?Kt:O.onSameUrlNavigation;if(!Tr&&"reload"!==_i){const Gr="";return this.events.next(new ye(je.id,O.serializeUrl(Z.rawUrl),Gr,0)),O.rawUrlTree=je.rawUrl,je.resolve(null),wt.E}if(O.urlHandlingStrategy.shouldProcessUrl(je.rawUrl))return Jr(je.source)&&(O.browserUrlTree=je.extractedUrl),(0,Ge.of)(je).pipe((0,qe.w)(Gr=>{var Yi,C;const y=null===(Yi=this.transitions)||void 0===Yi?void 0:Yi.getValue();return this.events.next(new Re(Gr.id,this.urlSerializer.serialize(Gr.extractedUrl),Gr.source,Gr.restoredState)),y!==(null===(C=this.transitions)||void 0===C?void 0:C.getValue())?wt.E:Promise.resolve(Gr)}),function kn(V,G,O,Z,pe,Ye){return(0,et.z)(je=>function X(V,G,O,Z,pe,Ye,je="emptyOnly"){return new le(V,G,O,Z,pe,je,Ye).recognize()}(V,G,O,Z,je.extractedUrl,pe,Ye).pipe((0,Te.U)(({state:Kt,tree:Sn})=>({...je,targetSnapshot:Kt,urlAfterRedirects:Sn}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,O.config,this.urlSerializer,O.paramsInheritanceStrategy),(0,Pt.b)(Gr=>{if(Z.targetSnapshot=Gr.targetSnapshot,Z.urlAfterRedirects=Gr.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:Gr.urlAfterRedirects},"eager"===O.urlUpdateStrategy){if(!Gr.extras.skipLocationChange){const C=O.urlHandlingStrategy.merge(Gr.urlAfterRedirects,Gr.rawUrl);O.setBrowserUrl(C,Gr)}O.browserUrlTree=Gr.urlAfterRedirects}const Yi=new bt(Gr.id,this.urlSerializer.serialize(Gr.extractedUrl),this.urlSerializer.serialize(Gr.urlAfterRedirects),Gr.targetSnapshot);this.events.next(Yi)}));if(Tr&&O.urlHandlingStrategy.shouldProcessUrl(O.rawUrlTree)){const{id:Gr,extractedUrl:Yi,source:C,restoredState:y,extras:d}=je,m=new Re(Gr,this.urlSerializer.serialize(Yi),C,y);this.events.next(m);const E=Br(0,this.rootComponentType).snapshot;return Z={...je,targetSnapshot:E,urlAfterRedirects:Yi,extras:{...d,skipLocationChange:!1,replaceUrl:!1}},(0,Ge.of)(Z)}{const Gr="";return this.events.next(new ye(je.id,O.serializeUrl(Z.extractedUrl),Gr,1)),O.rawUrlTree=je.rawUrl,je.resolve(null),wt.E}}),(0,Pt.b)(je=>{const Kt=new Lt(je.id,this.urlSerializer.serialize(je.extractedUrl),this.urlSerializer.serialize(je.urlAfterRedirects),je.targetSnapshot);this.events.next(Kt)}),(0,Te.U)(je=>Z={...je,guards:ce(je.targetSnapshot,je.currentSnapshot,this.rootContexts)}),function Ot(V,G){return(0,et.z)(O=>{const{targetSnapshot:Z,currentSnapshot:pe,guards:{canActivateChecks:Ye,canDeactivateChecks:je}}=O;return 0===je.length&&0===Ye.length?(0,Ge.of)({...O,guardsResult:!0}):function dn(V,G,O,Z){return(0,Ze.D)(V).pipe((0,et.z)(pe=>function ai(V,G,O,Z,pe){const Ye=G&&G.routeConfig?G.routeConfig.canDeactivate:null;if(!Ye||0===Ye.length)return(0,Ge.of)(!0);const je=Ye.map(Kt=>{var Sn;const Tr=null!==(Sn=yo(G))&&void 0!==Sn?Sn:pe,_i=En(Kt,Tr);return mr(function de(V){return V&&Ms(V.canDeactivate)}(_i)?_i.canDeactivate(V,G,O,Z):Tr.runInContext(()=>_i(V,G,O,Z))).pipe((0,ct.P)())});return(0,Ge.of)(je).pipe(ft())}(pe.component,pe.route,O,G,Z)),(0,ct.P)(pe=>!0!==pe,!0))}(je,Z,pe,V).pipe((0,et.z)(Kt=>Kt&&function vs(V){return"boolean"==typeof V}(Kt)?function Tn(V,G,O,Z){return(0,Ze.D)(G).pipe(Ut(pe=>(0,kt.z)(function qr(V,G){return null!==V&&G&&G(new is(V)),(0,Ge.of)(!0)}(pe.route.parent,Z),function Yr(V,G){return null!==V&&G&&G(new Ws(V)),(0,Ge.of)(!0)}(pe.route,Z),function ii(V,G,O){const Z=G[G.length-1],Ye=G.slice(0,G.length-1).reverse().map(je=>function Xe(V){const G=V.routeConfig?V.routeConfig.canActivateChild:null;return G&&0!==G.length?{node:V,guards:G}:null}(je)).filter(je=>null!==je).map(je=>dt(()=>{const Kt=je.guards.map(Sn=>{var Tr;const _i=null!==(Tr=yo(je.node))&&void 0!==Tr?Tr:O,Gr=En(Sn,_i);return mr(function be(V){return V&&Ms(V.canActivateChild)}(Gr)?Gr.canActivateChild(Z,V):_i.runInContext(()=>Gr(Z,V))).pipe((0,ct.P)())});return(0,Ge.of)(Kt).pipe(ft())}));return(0,Ge.of)(Ye).pipe(ft())}(V,pe.path,O),function oi(V,G,O){const Z=G.routeConfig?G.routeConfig.canActivate:null;if(!Z||0===Z.length)return(0,Ge.of)(!0);const pe=Z.map(Ye=>dt(()=>{var je;const Kt=null!==(je=yo(G))&&void 0!==je?je:O,Sn=En(Ye,Kt);return mr(function Fo(V){return V&&Ms(V.canActivate)}(Sn)?Sn.canActivate(G,V):Kt.runInContext(()=>Sn(G,V))).pipe((0,ct.P)())}));return(0,Ge.of)(pe).pipe(ft())}(V,pe.route,O))),(0,ct.P)(pe=>!0!==pe,!0))}(Z,Ye,V,G):(0,Ge.of)(Kt)),(0,Te.U)(Kt=>({...O,guardsResult:Kt})))})}(this.environmentInjector,je=>this.events.next(je)),(0,Pt.b)(je=>{if(Z.guardsResult=je.guardsResult,hn(je.guardsResult))throw go(0,je.guardsResult);const Kt=new Xt(je.id,this.urlSerializer.serialize(je.extractedUrl),this.urlSerializer.serialize(je.urlAfterRedirects),je.targetSnapshot,!!je.guardsResult);this.events.next(Kt)}),(0,Je.h)(je=>!!je.guardsResult||(O.restoreHistory(je),this.cancelNavigationTransition(je,"",3),!1)),ue(je=>{if(je.guards.canActivateChecks.length)return(0,Ge.of)(je).pipe((0,Pt.b)(Kt=>{const Sn=new zn(Kt.id,this.urlSerializer.serialize(Kt.extractedUrl),this.urlSerializer.serialize(Kt.urlAfterRedirects),Kt.targetSnapshot);this.events.next(Sn)}),(0,qe.w)(Kt=>{let Sn=!1;return(0,Ge.of)(Kt).pipe(function nr(V,G){return(0,et.z)(O=>{const{targetSnapshot:Z,guards:{canActivateChecks:pe}}=O;if(!pe.length)return(0,Ge.of)(O);let Ye=0;return(0,Ze.D)(pe).pipe(Ut(je=>function li(V,G,O,Z){const pe=V.routeConfig,Ye=V._resolve;return void 0!==(null==pe?void 0:pe.title)&&!q(pe)&&(Ye[Yn]=pe.title),function Wr(V,G,O,Z){const pe=function Ls(V){return[...Object.keys(V),...Object.getOwnPropertySymbols(V)]}(V);if(0===pe.length)return(0,Ge.of)({});const Ye={};return(0,Ze.D)(pe).pipe((0,et.z)(je=>function co(V,G,O,Z){var pe;const Ye=null!==(pe=yo(G))&&void 0!==pe?pe:Z,je=En(V,Ye);return mr(je.resolve?je.resolve(G,O):Ye.runInContext(()=>je(G,O)))}(V[je],G,O,Z).pipe((0,ct.P)(),(0,Pt.b)(Kt=>{Ye[je]=Kt}))),Qt(1),function yn(V){return(0,Te.U)(()=>V)}(Ye),Jt(je=>F(je)?wt.E:Tt(je)))}(Ye,V,G,Z).pipe((0,Te.U)(je=>(V._resolvedData=je,V.data=Di(V,O).resolve,pe&&q(pe)&&(V.data[Yn]=pe.title),null)))}(je.route,Z,V,G)),(0,Pt.b)(()=>Ye++),Qt(1),(0,et.z)(je=>Ye===pe.length?(0,Ge.of)(O):wt.E))})}(O.paramsInheritanceStrategy,this.environmentInjector),(0,Pt.b)({next:()=>Sn=!0,complete:()=>{Sn||(O.restoreHistory(Kt),this.cancelNavigationTransition(Kt,"",2))}}))}),(0,Pt.b)(Kt=>{const Sn=new Vn(Kt.id,this.urlSerializer.serialize(Kt.extractedUrl),this.urlSerializer.serialize(Kt.urlAfterRedirects),Kt.targetSnapshot);this.events.next(Sn)}))}),ue(je=>{const Kt=Sn=>{var Tr;const _i=[];null!==(Tr=Sn.routeConfig)&&void 0!==Tr&&Tr.loadComponent&&!Sn.routeConfig._loadedComponent&&_i.push(this.configLoader.loadComponent(Sn.routeConfig).pipe((0,Pt.b)(Gr=>{Sn.component=Gr}),(0,Te.U)(()=>{})));for(const Gr of Sn.children)_i.push(...Kt(Gr));return _i};return pt(Kt(je.targetSnapshot.root)).pipe((0,Nn.d)(),(0,lt.q)(1))}),ue(()=>this.afterPreactivation()),(0,Te.U)(je=>{const Kt=function Ea(V,G,O){const Z=Js(V,G._root,O?O._root:void 0);return new os(Z,G)}(O.routeReuseStrategy,je.targetSnapshot,je.currentRouterState);return Z={...je,targetRouterState:Kt}}),(0,Pt.b)(je=>{O.currentUrlTree=je.urlAfterRedirects,O.rawUrlTree=O.urlHandlingStrategy.merge(je.urlAfterRedirects,je.rawUrl),O.routerState=je.targetRouterState,"deferred"===O.urlUpdateStrategy&&(je.extras.skipLocationChange||O.setBrowserUrl(O.rawUrlTree,je),O.browserUrlTree=je.urlAfterRedirects)}),((V,G,O,Z)=>(0,Te.U)(pe=>(new k(G,pe.targetRouterState,pe.currentRouterState,O,Z).activate(V),pe)))(this.rootContexts,O.routeReuseStrategy,je=>this.events.next(je),this.inputBindingEnabled),(0,lt.q)(1),(0,Pt.b)({next:je=>{var Kt;pe=!0,this.lastSuccessfulNavigation=this.currentNavigation,O.navigated=!0,this.events.next(new Ee(je.id,this.urlSerializer.serialize(je.extractedUrl),this.urlSerializer.serialize(O.currentUrlTree))),null===(Kt=O.titleStrategy)||void 0===Kt||Kt.updateTitle(je.targetRouterState.snapshot),je.resolve(!0)},complete:()=>{pe=!0}}),(0,Xn.x)(()=>{var je;pe||Ye||this.cancelNavigationTransition(Z,"",1),(null===(je=this.currentNavigation)||void 0===je?void 0:je.id)===Z.id&&(this.currentNavigation=null)}),Jt(je=>{if(Ye=!0,ma(je)){ms(je)||(O.navigated=!0,O.restoreHistory(Z,!0));const Sn=new re(Z.id,this.urlSerializer.serialize(Z.extractedUrl),je.message,je.cancellationCode);if(this.events.next(Sn),ms(je)){const Tr=O.urlHandlingStrategy.merge(je.url,O.rawUrlTree),_i={skipLocationChange:Z.extras.skipLocationChange,replaceUrl:"eager"===O.urlUpdateStrategy||Jr(Z.source)};O.scheduleNavigation(Tr,ie,null,_i,{resolve:Z.resolve,reject:Z.reject,promise:Z.promise})}else Z.resolve(!1)}else{var Kt;O.restoreHistory(Z,!0);const Sn=new st(Z.id,this.urlSerializer.serialize(Z.extractedUrl),je,null!==(Kt=Z.targetSnapshot)&&void 0!==Kt?Kt:void 0);this.events.next(Sn);try{Z.resolve(O.errorHandler(je))}catch(Tr){Z.reject(Tr)}}return wt.E}))}))}cancelNavigationTransition(O,Z,pe){const Ye=new re(O.id,this.urlSerializer.serialize(O.extractedUrl),Z,pe);this.events.next(Ye),O.resolve(!1)}}return V.\u0275fac=function(O){return new(O||V)},V.\u0275prov=h.Yz7({token:V,factory:V.\u0275fac,providedIn:"root"}),V})();function Jr(V){return V!==ie}let yr=(()=>{class V{buildTitle(O){let Z,pe=O.root;for(;void 0!==pe;){var Ye;Z=null!==(Ye=this.getResolvedTitleForRoute(pe))&&void 0!==Ye?Ye:Z,pe=pe.children.find(je=>je.outlet===un)}return Z}getResolvedTitleForRoute(O){return O.data[Yn]}}return V.\u0275fac=function(O){return new(O||V)},V.\u0275prov=h.Yz7({token:V,factory:function(){return(0,h.f3M)(Ni)},providedIn:"root"}),V})(),Ni=(()=>{class V extends yr{constructor(O){super(),this.title=O}updateTitle(O){const Z=this.buildTitle(O);void 0!==Z&&this.title.setTitle(Z)}}return V.\u0275fac=function(O){return new(O||V)(h.LFG(lr.Dx))},V.\u0275prov=h.Yz7({token:V,factory:V.\u0275fac,providedIn:"root"}),V})(),di=(()=>{class V{}return V.\u0275fac=function(O){return new(O||V)},V.\u0275prov=h.Yz7({token:V,factory:function(){return(0,h.f3M)(_s)},providedIn:"root"}),V})();class xi{shouldDetach(G){return!1}store(G,O){}shouldAttach(G){return!1}retrieve(G){return null}shouldReuseRoute(G,O){return G.routeConfig===O.routeConfig}}let _s=(()=>{class V extends xi{}return V.\u0275fac=function(){let G;return function(Z){return(G||(G=h.n5z(V)))(Z||V)}}(),V.\u0275prov=h.Yz7({token:V,factory:V.\u0275fac,providedIn:"root"}),V})();const Ps=new h.OlP("",{providedIn:"root",factory:()=>({})});let xo=(()=>{class V{}return V.\u0275fac=function(O){return new(O||V)},V.\u0275prov=h.Yz7({token:V,factory:function(){return(0,h.f3M)(Un)},providedIn:"root"}),V})(),Un=(()=>{class V{shouldProcessUrl(O){return!0}extract(O){return O}merge(O,Z){return O}}return V.\u0275fac=function(O){return new(O||V)},V.\u0275prov=h.Yz7({token:V,factory:V.\u0275fac,providedIn:"root"}),V})();var Mi=(()=>((Mi=Mi||{})[Mi.COMPLETE=0]="COMPLETE",Mi[Mi.FAILED=1]="FAILED",Mi[Mi.REDIRECTING=2]="REDIRECTING",Mi))();function Ko(V,G){V.events.pipe((0,Je.h)(O=>O instanceof Ee||O instanceof re||O instanceof st||O instanceof ye),(0,Te.U)(O=>O instanceof Ee||O instanceof ye?Mi.COMPLETE:O instanceof re&&(0===O.code||1===O.code)?Mi.REDIRECTING:Mi.FAILED),(0,Je.h)(O=>O!==Mi.REDIRECTING),(0,lt.q)(1)).subscribe(()=>{G()})}function oa(V){throw V}function Sr(V,G,O){return G.parse("/")}const Zr={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Wn={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Ln=(()=>{class V{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){var O;if("computed"===this.canceledNavigationResolution)return null===(O=this.location.getState())||void 0===O?void 0:O.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){var O,Z;this.disposed=!1,this.currentPageId=0,this.console=(0,h.f3M)(h.c2e),this.isNgZoneEnabled=!1,this.options=(0,h.f3M)(Ps,{optional:!0})||{},this.pendingTasks=(0,h.f3M)(h.HDt),this.errorHandler=this.options.errorHandler||oa,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||Sr,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,h.f3M)(xo),this.routeReuseStrategy=(0,h.f3M)(di),this.titleStrategy=(0,h.f3M)(yr),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=null!==(O=null===(Z=(0,h.f3M)(ee,{optional:!0}))||void 0===Z?void 0:Z.flat())&&void 0!==O?O:[],this.navigationTransitions=(0,h.f3M)(An),this.urlSerializer=(0,h.f3M)(ke),this.location=(0,h.f3M)(qt.Ye),this.componentInputBindingEnabled=!!(0,h.f3M)(ps,{optional:!0}),this.isNgZoneEnabled=(0,h.f3M)(h.R0b)instanceof h.R0b&&h.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new gi,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=Br(0,null),this.navigationTransitions.setupNavigations(this).subscribe(pe=>{var Ye;this.lastSuccessfulId=pe.id,this.currentPageId=null!==(Ye=this.browserPageId)&&void 0!==Ye?Ye:0},pe=>{this.console.warn(`Unhandled Navigation Error: ${pe}`)})}resetRootComponentType(O){this.routerState.root.component=O,this.navigationTransitions.rootComponentType=O}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const O=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),ie,O)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(O=>{const Z="popstate"===O.type?"popstate":"hashchange";"popstate"===Z&&setTimeout(()=>{this.navigateToSyncWithBrowser(O.url,Z,O.state)},0)}))}navigateToSyncWithBrowser(O,Z,pe){const Ye={replaceUrl:!0},je=null!=pe&&pe.navigationId?pe:null;if(pe){const Sn={...pe};delete Sn.navigationId,delete Sn.\u0275routerPageId,0!==Object.keys(Sn).length&&(Ye.state=Sn)}const Kt=this.parseUrl(O);this.scheduleNavigation(Kt,Z,je,Ye)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(O){this.config=O.map(Uo),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(O,Z={}){const{relativeTo:pe,queryParams:Ye,fragment:je,queryParamsHandling:Kt,preserveFragment:Sn}=Z,Tr=Sn?this.currentUrlTree.fragment:je;let Gr,_i=null;switch(Kt){case"merge":_i={...this.currentUrlTree.queryParams,...Ye};break;case"preserve":_i=this.currentUrlTree.queryParams;break;default:_i=Ye||null}null!==_i&&(_i=this.removeEmptyProps(_i));try{Gr=hr(pe?pe.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof O[0]||!O[0].startsWith("/"))&&(O=[]),Gr=this.currentUrlTree.root}return Or(Gr,O,_i,null!=Tr?Tr:null)}navigateByUrl(O,Z={skipLocationChange:!1}){const pe=hn(O)?O:this.parseUrl(O),Ye=this.urlHandlingStrategy.merge(pe,this.rawUrlTree);return this.scheduleNavigation(Ye,ie,null,Z)}navigate(O,Z={skipLocationChange:!1}){return function wn(V){for(let G=0;G<V.length;G++)if(null==V[G])throw new h.vHH(4008,!1)}(O),this.navigateByUrl(this.createUrlTree(O,Z),Z)}serializeUrl(O){return this.urlSerializer.serialize(O)}parseUrl(O){let Z;try{Z=this.urlSerializer.parse(O)}catch(pe){Z=this.malformedUriErrorHandler(pe,this.urlSerializer,O)}return Z}isActive(O,Z){let pe;if(pe=!0===Z?{...Zr}:!1===Z?{...Wn}:Z,hn(O))return Jn(this.currentUrlTree,O,pe);const Ye=this.parseUrl(O);return Jn(this.currentUrlTree,Ye,pe)}removeEmptyProps(O){return Object.keys(O).reduce((Z,pe)=>{const Ye=O[pe];return null!=Ye&&(Z[pe]=Ye),Z},{})}scheduleNavigation(O,Z,pe,Ye,je){if(this.disposed)return Promise.resolve(!1);let Kt,Sn,Tr;je?(Kt=je.resolve,Sn=je.reject,Tr=je.promise):Tr=new Promise((Gr,Yi)=>{Kt=Gr,Sn=Yi});const _i=this.pendingTasks.add();return Ko(this,()=>{Promise.resolve().then(()=>this.pendingTasks.remove(_i))}),this.navigationTransitions.handleNavigationRequest({source:Z,restoredState:pe,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:O,extras:Ye,resolve:Kt,reject:Sn,promise:Tr,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Tr.catch(Gr=>Promise.reject(Gr))}setBrowserUrl(O,Z){const pe=this.urlSerializer.serialize(O);if(this.location.isCurrentPathEqualTo(pe)||Z.extras.replaceUrl){const Kt={...Z.extras.state,...this.generateNgRouterState(Z.id,this.browserPageId)};this.location.replaceState(pe,"",Kt)}else{var Ye;const je={...Z.extras.state,...this.generateNgRouterState(Z.id,(null!==(Ye=this.browserPageId)&&void 0!==Ye?Ye:0)+1)};this.location.go(pe,"",je)}}restoreHistory(O,Z=!1){if("computed"===this.canceledNavigationResolution){var pe,Ye;const je=null!==(pe=this.browserPageId)&&void 0!==pe?pe:this.currentPageId,Kt=this.currentPageId-je;0!==Kt?this.location.historyGo(Kt):this.currentUrlTree===(null===(Ye=this.getCurrentNavigation())||void 0===Ye?void 0:Ye.finalUrl)&&0===Kt&&(this.resetState(O),this.browserUrlTree=O.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(Z&&this.resetState(O),this.resetUrlToCurrentUrlTree())}resetState(O){this.routerState=O.currentRouterState,this.currentUrlTree=O.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,O.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(O,Z){return"computed"===this.canceledNavigationResolution?{navigationId:O,\u0275routerPageId:Z}:{navigationId:O}}}return V.\u0275fac=function(O){return new(O||V)},V.\u0275prov=h.Yz7({token:V,factory:V.\u0275fac,providedIn:"root"}),V})(),qn=(()=>{class V{constructor(O,Z,pe,Ye,je,Kt){var Sn;this.router=O,this.route=Z,this.tabIndexAttribute=pe,this.renderer=Ye,this.el=je,this.locationStrategy=Kt,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.href=null,this.commands=null,this.onChanges=new Nt.x;const Tr=null===(Sn=je.nativeElement.tagName)||void 0===Sn?void 0:Sn.toLowerCase();this.isAnchorElement="a"===Tr||"area"===Tr,this.isAnchorElement?this.subscription=O.events.subscribe(_i=>{_i instanceof Ee&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(O){this._preserveFragment=(0,h.D6c)(O)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(O){this._skipLocationChange=(0,h.D6c)(O)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(O){this._replaceUrl=(0,h.D6c)(O)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(O){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",O)}ngOnChanges(O){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(O){null!=O?(this.commands=Array.isArray(O)?O:[O],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(O,Z,pe,Ye,je){return!!(null===this.urlTree||this.isAnchorElement&&(0!==O||Z||pe||Ye||je||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){var O;null===(O=this.subscription)||void 0===O||O.unsubscribe()}updateHref(){var O;this.href=null!==this.urlTree&&this.locationStrategy?null===(O=this.locationStrategy)||void 0===O?void 0:O.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const Z=null===this.href?null:(0,h.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",Z)}applyAttributeValue(O,Z){const pe=this.renderer,Ye=this.el.nativeElement;null!==Z?pe.setAttribute(Ye,O,Z):pe.removeAttribute(Ye,O)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return V.\u0275fac=function(O){return new(O||V)(h.Y36(Ln),h.Y36(ho),h.$8M("tabindex"),h.Y36(h.Qsj),h.Y36(h.SBq),h.Y36(qt.S$))},V.\u0275dir=h.lG2({type:V,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(O,Z){1&O&&h.NdJ("click",function(Ye){return Z.onClick(Ye.button,Ye.ctrlKey,Ye.shiftKey,Ye.altKey,Ye.metaKey)}),2&O&&h.uIk("target",Z.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[h.TTD]}),V})();class yl{}let qa=(()=>{class V{preload(O,Z){return Z().pipe(Jt(()=>(0,Ge.of)(null)))}}return V.\u0275fac=function(O){return new(O||V)},V.\u0275prov=h.Yz7({token:V,factory:V.\u0275fac,providedIn:"root"}),V})(),Tc=(()=>{class V{constructor(O,Z,pe,Ye,je){this.router=O,this.injector=pe,this.preloadingStrategy=Ye,this.loader=je}setUpPreloading(){this.subscription=this.router.events.pipe((0,Je.h)(O=>O instanceof Ee),Ut(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(O,Z){const pe=[];for(const Sn of Z){var Ye,je;Sn.providers&&!Sn._injector&&(Sn._injector=(0,h.MMx)(Sn.providers,O,`Route: ${Sn.path}`));const Tr=null!==(Ye=Sn._injector)&&void 0!==Ye?Ye:O,_i=null!==(je=Sn._loadedInjector)&&void 0!==je?je:Tr;var Kt;(Sn.loadChildren&&!Sn._loadedRoutes&&void 0===Sn.canLoad||Sn.loadComponent&&!Sn._loadedComponent)&&pe.push(this.preloadConfig(Tr,Sn)),(Sn.children||Sn._loadedRoutes)&&pe.push(this.processRoutes(_i,null!==(Kt=Sn.children)&&void 0!==Kt?Kt:Sn._loadedRoutes))}return(0,Ze.D)(pe).pipe((0,ar.J)())}preloadConfig(O,Z){return this.preloadingStrategy.preload(Z,()=>{let pe;pe=Z.loadChildren&&void 0===Z.canLoad?this.loader.loadChildren(O,Z):(0,Ge.of)(null);const Ye=pe.pipe((0,et.z)(je=>{var Kt;return null===je?(0,Ge.of)(void 0):(Z._loadedRoutes=je.routes,Z._loadedInjector=je.injector,this.processRoutes(null!==(Kt=je.injector)&&void 0!==Kt?Kt:O,je.routes))}));if(Z.loadComponent&&!Z._loadedComponent){const je=this.loader.loadComponent(Z);return(0,Ze.D)([Ye,je]).pipe((0,ar.J)())}return Ye})}}return V.\u0275fac=function(O){return new(O||V)(h.LFG(Ln),h.LFG(h.Sil),h.LFG(h.lqb),h.LFG(yl),h.LFG(Fe))},V.\u0275prov=h.Yz7({token:V,factory:V.\u0275fac,providedIn:"root"}),V})();const ya=new h.OlP("");let Pl=(()=>{class V{constructor(O,Z,pe,Ye,je={}){this.urlSerializer=O,this.transitions=Z,this.viewportScroller=pe,this.zone=Ye,this.options=je,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},je.scrollPositionRestoration=je.scrollPositionRestoration||"disabled",je.anchorScrolling=je.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(O=>{O instanceof Re?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=O.navigationTrigger,this.restoredId=O.restoredState?O.restoredState.navigationId:0):O instanceof Ee?(this.lastId=O.id,this.scheduleScrollEvent(O,this.urlSerializer.parse(O.urlAfterRedirects).fragment)):O instanceof ye&&0===O.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(O,this.urlSerializer.parse(O.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(O=>{O instanceof tr&&(O.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(O.position):O.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(O.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(O,Z){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new tr(O,"popstate"===this.lastSource?this.store[this.restoredId]:null,Z))})},0)})}ngOnDestroy(){var O,Z;null===(O=this.routerEventsSubscription)||void 0===O||O.unsubscribe(),null===(Z=this.scrollEventsSubscription)||void 0===Z||Z.unsubscribe()}}return V.\u0275fac=function(O){h.$Z()},V.\u0275prov=h.Yz7({token:V,factory:V.\u0275fac}),V})();function ha(V,G){return{\u0275kind:V,\u0275providers:G}}function _o(){const V=(0,h.f3M)(h.zs3);return G=>{var O,Z;const pe=V.get(h.z2F);if(G!==pe.components[0])return;const Ye=V.get(Ln),je=V.get(hi);1===V.get(Za)&&Ye.initialNavigation(),null===(O=V.get(_r,null,h.XFs.Optional))||void 0===O||O.setUpPreloading(),null===(Z=V.get(ya,null,h.XFs.Optional))||void 0===Z||Z.init(),Ye.resetRootComponentType(pe.componentTypes[0]),je.closed||(je.next(),je.complete(),je.unsubscribe())}}const hi=new h.OlP("",{factory:()=>new Nt.x}),Za=new h.OlP("",{providedIn:"root",factory:()=>1}),_r=new h.OlP("");function Ac(V){return ha(0,[{provide:_r,useExisting:Tc},{provide:yl,useExisting:V}])}const al=new h.OlP("ROUTER_FORROOT_GUARD"),Ka=[qt.Ye,{provide:ke,useClass:ut},Ln,ks,{provide:ho,useFactory:function Ss(V){return V.routerState.root},deps:[Ln]},Fe,[]];function Mc(){return new h.PXZ("Router",Ln)}let Ba=(()=>{class V{constructor(O){}static forRoot(O,Z){return{ngModule:V,providers:[Ka,[],{provide:ee,multi:!0,useValue:O},{provide:al,useFactory:_l,deps:[[Ln,new h.FiY,new h.tp0]]},{provide:Ps,useValue:Z||{}},null!=Z&&Z.useHash?{provide:qt.S$,useClass:qt.Do}:{provide:qt.S$,useClass:qt.b0},{provide:ya,useFactory:()=>{const V=(0,h.f3M)(qt.EM),G=(0,h.f3M)(h.R0b),O=(0,h.f3M)(Ps),Z=(0,h.f3M)(An),pe=(0,h.f3M)(ke);return O.scrollOffset&&V.setOffset(O.scrollOffset),new Pl(pe,Z,V,G,O)}},null!=Z&&Z.preloadingStrategy?Ac(Z.preloadingStrategy).\u0275providers:[],{provide:h.PXZ,multi:!0,useFactory:Mc},null!=Z&&Z.initialNavigation?su(Z):[],null!=Z&&Z.bindToComponentInputs?ha(8,[Ei,{provide:ps,useExisting:Ei}]).\u0275providers:[],[{provide:fn,useFactory:_o},{provide:h.tb,multi:!0,useExisting:fn}]]}}static forChild(O){return{ngModule:V,providers:[{provide:ee,multi:!0,useValue:O}]}}}return V.\u0275fac=function(O){return new(O||V)(h.LFG(al,8))},V.\u0275mod=h.oAB({type:V}),V.\u0275inj=h.cJS({}),V})();function _l(V){return"guarded"}function su(V){return["disabled"===V.initialNavigation?ha(3,[{provide:h.ip1,multi:!0,useFactory:()=>{const G=(0,h.f3M)(Ln);return()=>{G.setUpLocationChangeListener()}}},{provide:Za,useValue:2}]).\u0275providers:[],"enabledBlocking"===V.initialNavigation?ha(2,[{provide:Za,useValue:0},{provide:h.ip1,multi:!0,deps:[h.zs3],useFactory:G=>{const O=G.get(qt.V_,Promise.resolve());return()=>O.then(()=>new Promise(Z=>{const pe=G.get(Ln),Ye=G.get(hi);Ko(pe,()=>{Z(!0)}),G.get(An).afterPreactivation=()=>(Z(!0),Ye.closed?(0,Ge.of)(void 0):Ye),pe.initialNavigation()}))}}]).\u0275providers:[]]}const fn=new h.OlP("")},579:(Kn,Rt,H)=>{"use strict";H.d(Rt,{EI:()=>gt,Gb:()=>ut,Iv:()=>xr,Kz:()=>se,Xd:()=>dr,lT:()=>bn,xP:()=>Ir});var h=H(5861),_=H(6881),_e=H(1877),Oe=H(2090),Ze=H(4859);H(4727);const Se="analytics",Pe="firebase_id",Qe="origin",Le=6e4,Me="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",rt="https://www.googletagmanager.com/gtag/js",xe=new _e.Yd("@firebase/analytics"),pt=new Oe.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function Vt(tt){if(!tt.startsWith(rt)){const $t=pt.create("invalid-gtag-resource",{gtagURL:tt});return xe.warn($t.message),""}return tt}function We(tt){return Promise.all(tt.map($t=>$t.catch(Zt=>Zt)))}function It(){return(It=(0,h.Z)(function*(tt,$t,Zt,In,vn,jn){const rn=In[vn];try{if(rn)yield $t[rn];else{const Rn=(yield We(Zt)).find(Ft=>Ft.measurementId===vn);Rn&&(yield $t[Rn.appId])}}catch(mn){xe.error(mn)}tt("config",vn,jn)})).apply(this,arguments)}function wt(){return(wt=(0,h.Z)(function*(tt,$t,Zt,In,vn){try{let jn=[];if(vn&&vn.send_to){let rn=vn.send_to;Array.isArray(rn)||(rn=[rn]);const mn=yield We(Zt);for(const Rn of rn){const Ft=mn.find(hn=>hn.measurementId===Rn),Gt=Ft&&$t[Ft.appId];if(!Gt){jn=[];break}jn.push(Gt)}}0===jn.length&&(jn=Object.values($t)),yield Promise.all(jn),tt("event",In,vn||{})}catch(jn){xe.error(jn)}})).apply(this,arguments)}const Ct=30,Te=new class qt{constructor($t={},Zt=1e3){this.throttleMetadata=$t,this.intervalMillis=Zt}getThrottleMetadata($t){return this.throttleMetadata[$t]}setThrottleMetadata($t,Zt){this.throttleMetadata[$t]=Zt}deleteThrottleMetadata($t){delete this.throttleMetadata[$t]}};function qe(tt){return new Headers({Accept:"application/json","x-goog-api-key":tt})}function mt(){return(mt=(0,h.Z)(function*(tt){var $t;const{appId:Zt,apiKey:In}=tt,vn={method:"GET",headers:qe(In)},jn=Me.replace("{app-id}",Zt),rn=yield fetch(jn,vn);if(200!==rn.status&&304!==rn.status){let mn="";try{const Rn=yield rn.json();null!==($t=Rn.error)&&void 0!==$t&&$t.message&&(mn=Rn.error.message)}catch{}throw pt.create("config-fetch-failed",{httpStatus:rn.status,responseMessage:mn})}return rn.json()})).apply(this,arguments)}function et(){return(et=(0,h.Z)(function*(tt,$t=Te,Zt){const{appId:In,apiKey:vn,measurementId:jn}=tt.options;if(!In)throw pt.create("no-app-id");if(!vn){if(jn)return{measurementId:jn,appId:In};throw pt.create("no-api-key")}const rn=$t.getThrottleMetadata(In)||{backoffCount:0,throttleEndTimeMillis:Date.now()},mn=new nn;return setTimeout((0,h.Z)(function*(){mn.abort()}),void 0!==Zt?Zt:Le),ct({appId:In,apiKey:vn,measurementId:jn},rn,mn,$t)})).apply(this,arguments)}function ct(tt,$t,Zt){return Ut.apply(this,arguments)}function Ut(){return Ut=(0,h.Z)(function*(tt,{throttleEndTimeMillis:$t,backoffCount:Zt},In,vn=Te){var jn;const{appId:rn,measurementId:mn}=tt;try{yield function Pt(tt,$t){return new Promise((Zt,In)=>{const vn=Math.max($t-Date.now(),0),jn=setTimeout(Zt,vn);tt.addEventListener(()=>{clearTimeout(jn),In(pt.create("fetch-throttle",{throttleEndTimeMillis:$t}))})})}(In,$t)}catch(Rn){if(mn)return xe.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${mn} provided in the "measurementId" field in the local Firebase config. [${null==Rn?void 0:Rn.message}]`),{appId:rn,measurementId:mn};throw Rn}try{const Rn=yield function lt(tt){return mt.apply(this,arguments)}(tt);return vn.deleteThrottleMetadata(rn),Rn}catch(Rn){const Ft=Rn;if(!function Jt(tt){if(!(tt instanceof Oe.ZR&&tt.customData))return!1;const $t=Number(tt.customData.httpStatus);return 429===$t||500===$t||503===$t||504===$t}(Ft)){if(vn.deleteThrottleMetadata(rn),mn)return xe.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${mn} provided in the "measurementId" field in the local Firebase config. [${null==Ft?void 0:Ft.message}]`),{appId:rn,measurementId:mn};throw Rn}const Gt=503===Number(null===(jn=null==Ft?void 0:Ft.customData)||void 0===jn?void 0:jn.httpStatus)?(0,Oe.$s)(Zt,vn.intervalMillis,Ct):(0,Oe.$s)(Zt,vn.intervalMillis),hn={throttleEndTimeMillis:Date.now()+Gt,backoffCount:Zt+1};return vn.setThrottleMetadata(rn,hn),xe.debug(`Calling attemptFetch again in ${Gt} millis`),ct(tt,hn,In,vn)}}),Ut.apply(this,arguments)}class nn{constructor(){this.listeners=[]}addEventListener($t){this.listeners.push($t)}abort(){this.listeners.forEach($t=>$t())}}let Nn,Ar;function Et(){return(Et=(0,h.Z)(function*(tt,$t,Zt,In,vn){if(vn&&vn.global)tt("event",Zt,In);else{const jn=yield $t;tt("event",Zt,Object.assign(Object.assign({},In),{send_to:jn}))}})).apply(this,arguments)}function yn(){return(yn=(0,h.Z)(function*(tt,$t,Zt,In){if(In&&In.global)return tt("set",{screen_name:Zt}),Promise.resolve();tt("config",yield $t,{update:!0,screen_name:Zt})})).apply(this,arguments)}function ar(){return(ar=(0,h.Z)(function*(tt,$t,Zt,In){if(In&&In.global)return tt("set",{user_id:Zt}),Promise.resolve();tt("config",yield $t,{update:!0,user_id:Zt})})).apply(this,arguments)}function un(){return(un=(0,h.Z)(function*(tt,$t,Zt,In){if(In&&In.global){const vn={};for(const jn of Object.keys(Zt))vn[`user_properties.${jn}`]=Zt[jn];return tt("set",vn),Promise.resolve()}tt("config",yield $t,{update:!0,user_properties:Zt})})).apply(this,arguments)}function Vr(){return(Vr=(0,h.Z)(function*(tt,$t){const Zt=yield tt;window[`ga-disable-${Zt}`]=!$t})).apply(this,arguments)}function mr(){return(mr=(0,h.Z)(function*(){if(!(0,Oe.hl)())return xe.warn(pt.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,Oe.eu)()}catch(tt){return xe.warn(pt.create("indexeddb-unavailable",{errorInfo:null==tt?void 0:tt.toString()}).message),!1}return!0})).apply(this,arguments)}function pi(){return pi=(0,h.Z)(function*(tt,$t,Zt,In,vn,jn,rn){var mn;const Rn=function Je(tt){return et.apply(this,arguments)}(tt);Rn.then(hr=>{Zt[hr.measurementId]=hr.appId,tt.options.measurementId&&hr.measurementId!==tt.options.measurementId&&xe.warn(`The measurement ID in the local Firebase config (${tt.options.measurementId}) does not match the measurement ID fetched from the server (${hr.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(hr=>xe.error(hr)),$t.push(Rn);const Ft=function jr(){return mr.apply(this,arguments)}().then(hr=>{if(hr)return In.getId()}),[Gt,hn]=yield Promise.all([Rn,Ft]);(function Ht(tt){const $t=window.document.getElementsByTagName("script");for(const Zt of Object.values($t))if(Zt.src&&Zt.src.includes(rt)&&Zt.src.includes(tt))return Zt;return null})(jn)||function kt(tt,$t){const Zt=function $e(tt,$t){let Zt;return window.trustedTypes&&(Zt=window.trustedTypes.createPolicy(tt,$t)),Zt}("firebase-js-sdk-policy",{createScriptURL:Vt}),In=document.createElement("script"),vn=`${rt}?l=${tt}&id=${$t}`;In.src=Zt?null==Zt?void 0:Zt.createScriptURL(vn):vn,In.async=!0,document.head.appendChild(In)}(jn,Gt.measurementId),Ar&&(vn("consent","default",Ar),function Mn(tt){Ar=tt}(void 0)),vn("js",new Date);const Gn=null!==(mn=null==rn?void 0:rn.config)&&void 0!==mn?mn:{};return Gn[Qe]="firebase",Gn.update=!0,null!=hn&&(Gn[Pe]=hn),vn("config",Gt.measurementId,Gn),Nn&&(vn("set",Nn),function ni(tt){Nn=tt}(void 0)),Gt.measurementId}),pi.apply(this,arguments)}class Jn{constructor($t){this.app=$t}_delete(){return delete Qn[this.app.options.appId],Promise.resolve()}}let Qn={},cr=[];const ci={};let fi,gi,si="dataLayer",Kr="gtag",br=!1;function dr(tt){if(br)throw pt.create("already-initialized");tt.dataLayerName&&(si=tt.dataLayerName),tt.gtagName&&(Kr=tt.gtagName)}function Er(tt,$t,Zt){!function ui(){const tt=[];if((0,Oe.ru)()&&tt.push("This is a browser extension environment."),(0,Oe.zI)()||tt.push("Cookies are not available."),tt.length>0){const $t=tt.map((In,vn)=>`(${vn+1}) ${In}`).join(" "),Zt=pt.create("invalid-analytics-context",{errorInfo:$t});xe.warn(Zt.message)}}();const In=tt.options.appId;if(!In)throw pt.create("no-app-id");if(!tt.options.apiKey){if(!tt.options.measurementId)throw pt.create("no-api-key");xe.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${tt.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Qn[In])throw pt.create("already-exists",{id:In});if(!br){!function Mt(tt){let $t=[];Array.isArray(window[tt])?$t=window[tt]:window[tt]=$t}(si);const{wrappedGtag:jn,gtagCore:rn}=function nt(tt,$t,Zt,In,vn){let jn=function(...rn){window[In].push(arguments)};return window[vn]&&"function"==typeof window[vn]&&(jn=window[vn]),window[vn]=function vt(tt,$t,Zt,In){function jn(){return jn=(0,h.Z)(function*(rn,...mn){try{if("event"===rn){const[Rn,Ft]=mn;yield function Tt(tt,$t,Zt,In,vn){return wt.apply(this,arguments)}(tt,$t,Zt,Rn,Ft)}else if("config"===rn){const[Rn,Ft]=mn;yield function dt(tt,$t,Zt,In,vn,jn){return It.apply(this,arguments)}(tt,$t,Zt,In,Rn,Ft)}else if("consent"===rn){const[Rn]=mn;tt("consent","update",Rn)}else if("get"===rn){const[Rn,Ft,Gt]=mn;tt("get",Rn,Ft,Gt)}else if("set"===rn){const[Rn]=mn;tt("set",Rn)}else tt(rn,...mn)}catch(Rn){xe.error(Rn)}}),jn.apply(this,arguments)}return function vn(rn){return jn.apply(this,arguments)}}(jn,tt,$t,Zt),{gtagCore:jn,wrappedGtag:window[vn]}}(Qn,cr,ci,si,Kr);gi=jn,fi=rn,br=!0}return Qn[In]=function vi(tt,$t,Zt,In,vn,jn,rn){return pi.apply(this,arguments)}(tt,cr,ci,$t,fi,si,Zt),new Jn(tt)}function ut(){return jt.apply(this,arguments)}function jt(){return(jt=(0,h.Z)(function*(){if((0,Oe.ru)()||!(0,Oe.zI)()||!(0,Oe.hl)())return!1;try{return yield(0,Oe.eu)()}catch{return!1}})).apply(this,arguments)}function bn(tt,$t,Zt){tt=(0,Oe.m9)(tt),function on(tt,$t,Zt,In){return yn.apply(this,arguments)}(gi,Qn[tt.app.options.appId],$t,Zt).catch(In=>xe.error(In))}function xr(tt,$t,Zt){tt=(0,Oe.m9)(tt),function Xn(tt,$t,Zt,In){return ar.apply(this,arguments)}(gi,Qn[tt.app.options.appId],$t,Zt).catch(In=>xe.error(In))}function Ir(tt,$t,Zt){tt=(0,Oe.m9)(tt),function lr(tt,$t,Zt,In){return un.apply(this,arguments)}(gi,Qn[tt.app.options.appId],$t,Zt).catch(In=>xe.error(In))}function gt(tt,$t){tt=(0,Oe.m9)(tt),function Rr(tt,$t){return Vr.apply(this,arguments)}(Qn[tt.app.options.appId],$t).catch(Zt=>xe.error(Zt))}function se(tt,$t,Zt,In){tt=(0,Oe.m9)(tt),function Qt(tt,$t,Zt,In,vn){return Et.apply(this,arguments)}(gi,Qn[tt.app.options.appId],$t,Zt,In).catch(vn=>xe.error(vn))}const oe="@firebase/analytics";!function At(){(0,_._registerComponent)(new Ze.wA(Se,($t,{options:Zt})=>Er($t.getProvider("app").getImmediate(),$t.getProvider("installations-internal").getImmediate(),Zt),"PUBLIC")),(0,_._registerComponent)(new Ze.wA("analytics-internal",function tt($t){try{const Zt=$t.getProvider(Se).getImmediate();return{logEvent:(In,vn,jn)=>se(Zt,In,vn,jn)}}catch(Zt){throw pt.create("interop-component-reg-failed",{reason:Zt})}},"PRIVATE")),(0,_.registerVersion)(oe,"0.10.0"),(0,_.registerVersion)(oe,"0.10.0","esm2017")}()},3942:(Kn,Rt,H)=>{"use strict";H.d(Rt,{Z:()=>pt});var h=H(2090),_=H(4859),_e=H(6881),Oe=H(1877);class Ze{constructor(We,$e){this._delegate=We,this.firebase=$e,(0,_e._addComponent)(We,new _.wA("app-compat",()=>this,"PUBLIC")),this.container=We.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(We){this._delegate.automaticDataCollectionEnabled=We}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(We=>{this._delegate.checkDestroyed(),We()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,_e.deleteApp)(this._delegate)))}_getService(We,$e=_e._DEFAULT_ENTRY_NAME){var kt;this._delegate.checkDestroyed();const Mt=this._delegate.container.getProvider(We);return!Mt.isInitialized()&&"EXPLICIT"===(null===(kt=Mt.getComponent())||void 0===kt?void 0:kt.instantiationMode)&&Mt.initialize(),Mt.getImmediate({identifier:$e})}_removeServiceInstance(We,$e=_e._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(We).clearInstance($e)}_addComponent(We){(0,_e._addComponent)(this._delegate,We)}_addOrOverwriteComponent(We){(0,_e._addOrOverwriteComponent)(this._delegate,We)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Se=new h.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),Le=function Qe(){const Vt=function Pe(Vt){const We={},$e={__esModule:!0,initializeApp:function dt(vt,nt={}){const Ht=_e.initializeApp(vt,nt);if((0,h.r3)(We,Ht.name))return We[Ht.name];const Ct=new Vt(Ht,$e);return We[Ht.name]=Ct,Ct},app:Mt,registerVersion:_e.registerVersion,setLogLevel:_e.setLogLevel,onLog:_e.onLog,apps:null,SDK_VERSION:_e.SDK_VERSION,INTERNAL:{registerComponent:function Tt(vt){const nt=vt.name,Ht=nt.replace("-compat","");if(_e._registerComponent(vt)&&"PUBLIC"===vt.type){const Ct=(Nt=Mt())=>{if("function"!=typeof Nt[Ht])throw Se.create("invalid-app-argument",{appName:nt});return Nt[Ht]()};void 0!==vt.serviceProps&&(0,h.ZB)(Ct,vt.serviceProps),$e[Ht]=Ct,Vt.prototype[Ht]=function(...Nt){return this._getService.bind(this,nt).apply(this,vt.multipleInstances?Nt:[])}}return"PUBLIC"===vt.type?$e[Ht]:null},removeApp:function kt(vt){delete We[vt]},useAsService:function wt(vt,nt){return"serverAuth"===nt?null:nt},modularAPIs:_e}};function Mt(vt){if(!(0,h.r3)(We,vt=vt||_e._DEFAULT_ENTRY_NAME))throw Se.create("no-app",{appName:vt});return We[vt]}return $e.default=$e,Object.defineProperty($e,"apps",{get:function It(){return Object.keys(We).map(vt=>We[vt])}}),Mt.App=Vt,$e}(Ze);return Vt.INTERNAL=Object.assign(Object.assign({},Vt.INTERNAL),{createFirebaseNamespace:Qe,extendNamespace:function We($e){(0,h.ZB)(Vt,$e)},createSubscribe:h.ne,ErrorFactory:h.LL,deepExtend:h.ZB}),Vt}(),Me=new Oe.Yd("@firebase/app-compat");if((0,h.jU)()&&void 0!==self.firebase){Me.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Vt=self.firebase.SDK_VERSION;Vt&&Vt.indexOf("LITE")>=0&&Me.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const pt=Le;!function at(Vt){(0,_e.registerVersion)("@firebase/app-compat","0.2.10",Vt)}()},6881:(Kn,Rt,H)=>{"use strict";H.r(Rt),H.d(Rt,{FirebaseError:()=>Oe.ZR,SDK_VERSION:()=>ui,_DEFAULT_ENTRY_NAME:()=>mr,_addComponent:()=>Qn,_addOrOverwriteComponent:()=>cr,_apps:()=>pi,_clearComponents:()=>fi,_components:()=>Jn,_getProvider:()=>si,_registerComponent:()=>ci,_removeServiceInstance:()=>Kr,deleteApp:()=>ut,getApp:()=>Cn,getApps:()=>ke,initializeApp:()=>Er,onLog:()=>$n,registerVersion:()=>bn,setLogLevel:()=>Fr});var h=H(5861),_=H(4859),_e=H(1877),Oe=H(2090);const Ze=(Ft,Gt)=>Gt.some(hn=>Ft instanceof hn);let Ge,Se;const Le=new WeakMap,Me=new WeakMap,rt=new WeakMap,xe=new WeakMap,at=new WeakMap;let We={get(Ft,Gt,hn){if(Ft instanceof IDBTransaction){if("done"===Gt)return Me.get(Ft);if("objectStoreNames"===Gt)return Ft.objectStoreNames||rt.get(Ft);if("store"===Gt)return hn.objectStoreNames[1]?void 0:hn.objectStore(hn.objectStoreNames[0])}return dt(Ft[Gt])},set:(Ft,Gt,hn)=>(Ft[Gt]=hn,!0),has:(Ft,Gt)=>Ft instanceof IDBTransaction&&("done"===Gt||"store"===Gt)||Gt in Ft};function Mt(Ft){return"function"==typeof Ft?function kt(Ft){return Ft!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Qe(){return Se||(Se=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(Ft)?function(...Gt){return Ft.apply(It(this),Gt),dt(Le.get(this))}:function(...Gt){return dt(Ft.apply(It(this),Gt))}:function(Gt,...hn){const Gn=Ft.call(It(this),Gt,...hn);return rt.set(Gn,Gt.sort?Gt.sort():[Gt]),dt(Gn)}}(Ft):(Ft instanceof IDBTransaction&&function Vt(Ft){if(Me.has(Ft))return;const Gt=new Promise((hn,Gn)=>{const hr=()=>{Ft.removeEventListener("complete",Or),Ft.removeEventListener("error",Mr),Ft.removeEventListener("abort",Mr)},Or=()=>{hn(),hr()},Mr=()=>{Gn(Ft.error||new DOMException("AbortError","AbortError")),hr()};Ft.addEventListener("complete",Or),Ft.addEventListener("error",Mr),Ft.addEventListener("abort",Mr)});Me.set(Ft,Gt)}(Ft),Ze(Ft,function Pe(){return Ge||(Ge=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(Ft,We):Ft)}function dt(Ft){if(Ft instanceof IDBRequest)return function pt(Ft){const Gt=new Promise((hn,Gn)=>{const hr=()=>{Ft.removeEventListener("success",Or),Ft.removeEventListener("error",Mr)},Or=()=>{hn(dt(Ft.result)),hr()},Mr=()=>{Gn(Ft.error),hr()};Ft.addEventListener("success",Or),Ft.addEventListener("error",Mr)});return Gt.then(hn=>{hn instanceof IDBCursor&&Le.set(hn,Ft)}).catch(()=>{}),at.set(Gt,Ft),Gt}(Ft);if(xe.has(Ft))return xe.get(Ft);const Gt=Mt(Ft);return Gt!==Ft&&(xe.set(Ft,Gt),at.set(Gt,Ft)),Gt}const It=Ft=>at.get(Ft),vt=["get","getKey","getAll","getAllKeys","count"],nt=["put","add","delete","clear"],Ht=new Map;function Ct(Ft,Gt){if(!(Ft instanceof IDBDatabase)||Gt in Ft||"string"!=typeof Gt)return;if(Ht.get(Gt))return Ht.get(Gt);const hn=Gt.replace(/FromIndex$/,""),Gn=Gt!==hn,hr=nt.includes(hn);if(!(hn in(Gn?IDBIndex:IDBObjectStore).prototype)||!hr&&!vt.includes(hn))return;const Or=function(){var Mr=(0,h.Z)(function*(Si,...zr){const kr=this.transaction(Si,hr?"readwrite":"readonly");let Hr=kr.store;return Gn&&(Hr=Hr.index(zr.shift())),(yield Promise.all([Hr[hn](...zr),hr&&kr.done]))[0]});return function(zr){return Mr.apply(this,arguments)}}();return Ht.set(Gt,Or),Or}!function $e(Ft){We=Ft(We)}(Ft=>({...Ft,get:(Gt,hn,Gn)=>Ct(Gt,hn)||Ft.get(Gt,hn,Gn),has:(Gt,hn)=>!!Ct(Gt,hn)||Ft.has(Gt,hn)}));class Nt{constructor(Gt){this.container=Gt}getPlatformInfoString(){return this.container.getProviders().map(hn=>{if(function qt(Ft){const Gt=Ft.getComponent();return"VERSION"===(null==Gt?void 0:Gt.type)}(hn)){const Gn=hn.getImmediate();return`${Gn.library}/${Gn.version}`}return null}).filter(hn=>hn).join(" ")}}const Te="@firebase/app",lt=new _e.Yd("@firebase/app"),mr="[DEFAULT]",vi={[Te]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},pi=new Map,Jn=new Map;function Qn(Ft,Gt){try{Ft.container.addComponent(Gt)}catch(hn){lt.debug(`Component ${Gt.name} failed to register with FirebaseApp ${Ft.name}`,hn)}}function cr(Ft,Gt){Ft.container.addOrOverwriteComponent(Gt)}function ci(Ft){const Gt=Ft.name;if(Jn.has(Gt))return lt.debug(`There were multiple attempts to register component ${Gt}.`),!1;Jn.set(Gt,Ft);for(const hn of pi.values())Qn(hn,Ft);return!0}function si(Ft,Gt){const hn=Ft.container.getProvider("heartbeat").getImmediate({optional:!0});return hn&&hn.triggerHeartbeat(),Ft.container.getProvider(Gt)}function Kr(Ft,Gt,hn=mr){si(Ft,Gt).clearInstance(hn)}function fi(){Jn.clear()}const br=new Oe.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class dr{constructor(Gt,hn,Gn){this._isDeleted=!1,this._options=Object.assign({},Gt),this._config=Object.assign({},hn),this._name=hn.name,this._automaticDataCollectionEnabled=hn.automaticDataCollectionEnabled,this._container=Gn,this.container.addComponent(new _.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Gt){this.checkDestroyed(),this._automaticDataCollectionEnabled=Gt}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Gt){this._isDeleted=Gt}checkDestroyed(){if(this.isDeleted)throw br.create("app-deleted",{appName:this._name})}}const ui="9.22.0";function Er(Ft,Gt={}){let hn=Ft;"object"!=typeof Gt&&(Gt={name:Gt});const Gn=Object.assign({name:mr,automaticDataCollectionEnabled:!1},Gt),hr=Gn.name;if("string"!=typeof hr||!hr)throw br.create("bad-app-name",{appName:String(hr)});if(hn||(hn=(0,Oe.aH)()),!hn)throw br.create("no-options");const Or=pi.get(hr);if(Or){if((0,Oe.vZ)(hn,Or.options)&&(0,Oe.vZ)(Gn,Or.config))return Or;throw br.create("duplicate-app",{appName:hr})}const Mr=new _.H0(hr);for(const zr of Jn.values())Mr.addComponent(zr);const Si=new dr(hn,Gn,Mr);return pi.set(hr,Si),Si}function Cn(Ft=mr){const Gt=pi.get(Ft);if(!Gt&&Ft===mr&&(0,Oe.aH)())return Er();if(!Gt)throw br.create("no-app",{appName:Ft});return Gt}function ke(){return Array.from(pi.values())}function ut(Ft){return jt.apply(this,arguments)}function jt(){return(jt=(0,h.Z)(function*(Ft){const Gt=Ft.name;pi.has(Gt)&&(pi.delete(Gt),yield Promise.all(Ft.container.getProviders().map(hn=>hn.delete())),Ft.isDeleted=!0)})).apply(this,arguments)}function bn(Ft,Gt,hn){var Gn;let hr=null!==(Gn=vi[Ft])&&void 0!==Gn?Gn:Ft;hn&&(hr+=`-${hn}`);const Or=hr.match(/\s|\//),Mr=Gt.match(/\s|\//);if(Or||Mr){const Si=[`Unable to register library "${hr}" with version "${Gt}":`];return Or&&Si.push(`library name "${hr}" contains illegal characters (whitespace or "/")`),Or&&Mr&&Si.push("and"),Mr&&Si.push(`version name "${Gt}" contains illegal characters (whitespace or "/")`),void lt.warn(Si.join(" "))}ci(new _.wA(`${hr}-version`,()=>({library:hr,version:Gt}),"VERSION"))}function $n(Ft,Gt){if(null!==Ft&&"function"!=typeof Ft)throw br.create("invalid-log-argument");(0,_e.Am)(Ft,Gt)}function Fr(Ft){(0,_e.Ub)(Ft)}const xr="firebase-heartbeat-database",Ir=1,gt="firebase-heartbeat-store";let Ae=null;function se(){return Ae||(Ae=function Tt(Ft,Gt,{blocked:hn,upgrade:Gn,blocking:hr,terminated:Or}={}){const Mr=indexedDB.open(Ft,Gt),Si=dt(Mr);return Gn&&Mr.addEventListener("upgradeneeded",zr=>{Gn(dt(Mr.result),zr.oldVersion,zr.newVersion,dt(Mr.transaction),zr)}),hn&&Mr.addEventListener("blocked",zr=>hn(zr.oldVersion,zr.newVersion,zr)),Si.then(zr=>{Or&&zr.addEventListener("close",()=>Or()),hr&&zr.addEventListener("versionchange",kr=>hr(kr.oldVersion,kr.newVersion,kr))}).catch(()=>{}),Si}(xr,Ir,{upgrade:(Ft,Gt)=>{0===Gt&&Ft.createObjectStore(gt)}}).catch(Ft=>{throw br.create("idb-open",{originalErrorMessage:Ft.message})})),Ae}function oe(){return(oe=(0,h.Z)(function*(Ft){try{return yield(yield se()).transaction(gt).objectStore(gt).get(tt(Ft))}catch(Gt){if(Gt instanceof Oe.ZR)lt.warn(Gt.message);else{const hn=br.create("idb-get",{originalErrorMessage:null==Gt?void 0:Gt.message});lt.warn(hn.message)}}})).apply(this,arguments)}function Ke(Ft,Gt){return At.apply(this,arguments)}function At(){return(At=(0,h.Z)(function*(Ft,Gt){try{const Gn=(yield se()).transaction(gt,"readwrite");yield Gn.objectStore(gt).put(Gt,tt(Ft)),yield Gn.done}catch(hn){if(hn instanceof Oe.ZR)lt.warn(hn.message);else{const Gn=br.create("idb-set",{originalErrorMessage:null==hn?void 0:hn.message});lt.warn(Gn.message)}}})).apply(this,arguments)}function tt(Ft){return`${Ft.name}!${Ft.options.appId}`}class In{constructor(Gt){this.container=Gt,this._heartbeatsCache=null;const hn=this.container.getProvider("app").getImmediate();this._storage=new rn(hn),this._heartbeatsCachePromise=this._storage.read().then(Gn=>(this._heartbeatsCache=Gn,Gn))}triggerHeartbeat(){var Gt=this;return(0,h.Z)(function*(){const Gn=Gt.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),hr=vn();if(null===Gt._heartbeatsCache&&(Gt._heartbeatsCache=yield Gt._heartbeatsCachePromise),Gt._heartbeatsCache.lastSentHeartbeatDate!==hr&&!Gt._heartbeatsCache.heartbeats.some(Or=>Or.date===hr))return Gt._heartbeatsCache.heartbeats.push({date:hr,agent:Gn}),Gt._heartbeatsCache.heartbeats=Gt._heartbeatsCache.heartbeats.filter(Or=>{const Mr=new Date(Or.date).valueOf();return Date.now()-Mr<=2592e6}),Gt._storage.overwrite(Gt._heartbeatsCache)})()}getHeartbeatsHeader(){var Gt=this;return(0,h.Z)(function*(){if(null===Gt._heartbeatsCache&&(yield Gt._heartbeatsCachePromise),null===Gt._heartbeatsCache||0===Gt._heartbeatsCache.heartbeats.length)return"";const hn=vn(),{heartbeatsToSend:Gn,unsentEntries:hr}=function jn(Ft,Gt=1024){const hn=[];let Gn=Ft.slice();for(const hr of Ft){const Or=hn.find(Mr=>Mr.agent===hr.agent);if(Or){if(Or.dates.push(hr.date),mn(hn)>Gt){Or.dates.pop();break}}else if(hn.push({agent:hr.agent,dates:[hr.date]}),mn(hn)>Gt){hn.pop();break}Gn=Gn.slice(1)}return{heartbeatsToSend:hn,unsentEntries:Gn}}(Gt._heartbeatsCache.heartbeats),Or=(0,Oe.L)(JSON.stringify({version:2,heartbeats:Gn}));return Gt._heartbeatsCache.lastSentHeartbeatDate=hn,hr.length>0?(Gt._heartbeatsCache.heartbeats=hr,yield Gt._storage.overwrite(Gt._heartbeatsCache)):(Gt._heartbeatsCache.heartbeats=[],Gt._storage.overwrite(Gt._heartbeatsCache)),Or})()}}function vn(){return(new Date).toISOString().substring(0,10)}class rn{constructor(Gt){this.app=Gt,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,h.Z)(function*(){return!!(0,Oe.hl)()&&(0,Oe.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Gt=this;return(0,h.Z)(function*(){return(yield Gt._canUseIndexedDBPromise)&&(yield function te(Ft){return oe.apply(this,arguments)}(Gt.app))||{heartbeats:[]}})()}overwrite(Gt){var hn=this;return(0,h.Z)(function*(){var Gn;if(yield hn._canUseIndexedDBPromise){const Or=yield hn.read();return Ke(hn.app,{lastSentHeartbeatDate:null!==(Gn=Gt.lastSentHeartbeatDate)&&void 0!==Gn?Gn:Or.lastSentHeartbeatDate,heartbeats:Gt.heartbeats})}})()}add(Gt){var hn=this;return(0,h.Z)(function*(){var Gn;if(yield hn._canUseIndexedDBPromise){const Or=yield hn.read();return Ke(hn.app,{lastSentHeartbeatDate:null!==(Gn=Gt.lastSentHeartbeatDate)&&void 0!==Gn?Gn:Or.lastSentHeartbeatDate,heartbeats:[...Or.heartbeats,...Gt.heartbeats]})}})()}}function mn(Ft){return(0,Oe.L)(JSON.stringify({version:2,heartbeats:Ft})).length}!function Rn(Ft){ci(new _.wA("platform-logger",Gt=>new Nt(Gt),"PRIVATE")),ci(new _.wA("heartbeat",Gt=>new In(Gt),"PRIVATE")),bn(Te,"0.9.10",Ft),bn(Te,"0.9.10","esm2017"),bn("fire-js","")}("")},4859:(Kn,Rt,H)=>{"use strict";H.d(Rt,{H0:()=>Pe,wA:()=>_e,zt:()=>Ze});var h=H(5861),_=H(2090);class _e{constructor(Le,Me,rt){this.name=Le,this.instanceFactory=Me,this.type=rt,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(Le){return this.instantiationMode=Le,this}setMultipleInstances(Le){return this.multipleInstances=Le,this}setServiceProps(Le){return this.serviceProps=Le,this}setInstanceCreatedCallback(Le){return this.onInstanceCreated=Le,this}}const Oe="[DEFAULT]";class Ze{constructor(Le,Me){this.name=Le,this.container=Me,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(Le){const Me=this.normalizeInstanceIdentifier(Le);if(!this.instancesDeferred.has(Me)){const rt=new _.BH;if(this.instancesDeferred.set(Me,rt),this.isInitialized(Me)||this.shouldAutoInitialize())try{const xe=this.getOrInitializeService({instanceIdentifier:Me});xe&&rt.resolve(xe)}catch{}}return this.instancesDeferred.get(Me).promise}getImmediate(Le){var Me;const rt=this.normalizeInstanceIdentifier(null==Le?void 0:Le.identifier),xe=null!==(Me=null==Le?void 0:Le.optional)&&void 0!==Me&&Me;if(!this.isInitialized(rt)&&!this.shouldAutoInitialize()){if(xe)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:rt})}catch(at){if(xe)return null;throw at}}getComponent(){return this.component}setComponent(Le){if(Le.name!==this.name)throw Error(`Mismatching Component ${Le.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=Le,this.shouldAutoInitialize()){if(function Se(Qe){return"EAGER"===Qe.instantiationMode}(Le))try{this.getOrInitializeService({instanceIdentifier:Oe})}catch{}for(const[Me,rt]of this.instancesDeferred.entries()){const xe=this.normalizeInstanceIdentifier(Me);try{const at=this.getOrInitializeService({instanceIdentifier:xe});rt.resolve(at)}catch{}}}}clearInstance(Le=Oe){this.instancesDeferred.delete(Le),this.instancesOptions.delete(Le),this.instances.delete(Le)}delete(){var Le=this;return(0,h.Z)(function*(){const Me=Array.from(Le.instances.values());yield Promise.all([...Me.filter(rt=>"INTERNAL"in rt).map(rt=>rt.INTERNAL.delete()),...Me.filter(rt=>"_delete"in rt).map(rt=>rt._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(Le=Oe){return this.instances.has(Le)}getOptions(Le=Oe){return this.instancesOptions.get(Le)||{}}initialize(Le={}){const{options:Me={}}=Le,rt=this.normalizeInstanceIdentifier(Le.instanceIdentifier);if(this.isInitialized(rt))throw Error(`${this.name}(${rt}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const xe=this.getOrInitializeService({instanceIdentifier:rt,options:Me});for(const[at,pt]of this.instancesDeferred.entries())rt===this.normalizeInstanceIdentifier(at)&&pt.resolve(xe);return xe}onInit(Le,Me){var rt;const xe=this.normalizeInstanceIdentifier(Me),at=null!==(rt=this.onInitCallbacks.get(xe))&&void 0!==rt?rt:new Set;at.add(Le),this.onInitCallbacks.set(xe,at);const pt=this.instances.get(xe);return pt&&Le(pt,xe),()=>{at.delete(Le)}}invokeOnInitCallbacks(Le,Me){const rt=this.onInitCallbacks.get(Me);if(rt)for(const xe of rt)try{xe(Le,Me)}catch{}}getOrInitializeService({instanceIdentifier:Le,options:Me={}}){let rt=this.instances.get(Le);if(!rt&&this.component&&(rt=this.component.instanceFactory(this.container,{instanceIdentifier:(Qe=Le,Qe===Oe?void 0:Qe),options:Me}),this.instances.set(Le,rt),this.instancesOptions.set(Le,Me),this.invokeOnInitCallbacks(rt,Le),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,Le,rt)}catch{}var Qe;return rt||null}normalizeInstanceIdentifier(Le=Oe){return this.component?this.component.multipleInstances?Le:Oe:Le}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Pe{constructor(Le){this.name=Le,this.providers=new Map}addComponent(Le){const Me=this.getProvider(Le.name);if(Me.isComponentSet())throw new Error(`Component ${Le.name} has already been registered with ${this.name}`);Me.setComponent(Le)}addOrOverwriteComponent(Le){this.getProvider(Le.name).isComponentSet()&&this.providers.delete(Le.name),this.addComponent(Le)}getProvider(Le){if(this.providers.has(Le))return this.providers.get(Le);const Me=new Ze(Le,this);return this.providers.set(Le,Me),Me}getProviders(){return Array.from(this.providers.values())}}},4727:(Kn,Rt,H)=>{"use strict";var h=H(5861),_=H(6881),_e=H(4859),Oe=H(2090);const Ze=(re,ye)=>ye.some(st=>re instanceof st);let Ge,Se;const Le=new WeakMap,Me=new WeakMap,rt=new WeakMap,xe=new WeakMap,at=new WeakMap;let We={get(re,ye,st){if(re instanceof IDBTransaction){if("done"===ye)return Me.get(re);if("objectStoreNames"===ye)return re.objectStoreNames||rt.get(re);if("store"===ye)return st.objectStoreNames[1]?void 0:st.objectStore(st.objectStoreNames[0])}return dt(re[ye])},set:(re,ye,st)=>(re[ye]=st,!0),has:(re,ye)=>re instanceof IDBTransaction&&("done"===ye||"store"===ye)||ye in re};function Mt(re){return"function"==typeof re?function kt(re){return re!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Qe(){return Se||(Se=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(re)?function(...ye){return re.apply(It(this),ye),dt(Le.get(this))}:function(...ye){return dt(re.apply(It(this),ye))}:function(ye,...st){const bt=re.call(It(this),ye,...st);return rt.set(bt,ye.sort?ye.sort():[ye]),dt(bt)}}(re):(re instanceof IDBTransaction&&function Vt(re){if(Me.has(re))return;const ye=new Promise((st,bt)=>{const Lt=()=>{re.removeEventListener("complete",Xt),re.removeEventListener("error",zn),re.removeEventListener("abort",zn)},Xt=()=>{st(),Lt()},zn=()=>{bt(re.error||new DOMException("AbortError","AbortError")),Lt()};re.addEventListener("complete",Xt),re.addEventListener("error",zn),re.addEventListener("abort",zn)});Me.set(re,ye)}(re),Ze(re,function Pe(){return Ge||(Ge=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(re,We):re)}function dt(re){if(re instanceof IDBRequest)return function pt(re){const ye=new Promise((st,bt)=>{const Lt=()=>{re.removeEventListener("success",Xt),re.removeEventListener("error",zn)},Xt=()=>{st(dt(re.result)),Lt()},zn=()=>{bt(re.error),Lt()};re.addEventListener("success",Xt),re.addEventListener("error",zn)});return ye.then(st=>{st instanceof IDBCursor&&Le.set(st,re)}).catch(()=>{}),at.set(ye,re),ye}(re);if(xe.has(re))return xe.get(re);const ye=Mt(re);return ye!==re&&(xe.set(re,ye),at.set(ye,re)),ye}const It=re=>at.get(re),vt=["get","getKey","getAll","getAllKeys","count"],nt=["put","add","delete","clear"],Ht=new Map;function Ct(re,ye){if(!(re instanceof IDBDatabase)||ye in re||"string"!=typeof ye)return;if(Ht.get(ye))return Ht.get(ye);const st=ye.replace(/FromIndex$/,""),bt=ye!==st,Lt=nt.includes(st);if(!(st in(bt?IDBIndex:IDBObjectStore).prototype)||!Lt&&!vt.includes(st))return;const Xt=function(){var zn=(0,h.Z)(function*(Vn,...wr){const Qr=this.transaction(Vn,Lt?"readwrite":"readonly");let is=Qr.store;return bt&&(is=is.index(wr.shift())),(yield Promise.all([is[st](...wr),Lt&&Qr.done]))[0]});return function(wr){return zn.apply(this,arguments)}}();return Ht.set(ye,Xt),Xt}!function $e(re){We=re(We)}(re=>({...re,get:(ye,st,bt)=>Ct(ye,st)||re.get(ye,st,bt),has:(ye,st)=>!!Ct(ye,st)||re.has(ye,st)}));const Nt="@firebase/installations",qt="0.6.4",Te=1e4,qe=`w:${qt}`,lt="FIS_v2",mt="https://firebaseinstallations.googleapis.com/v1",Je=36e5,Pt=new Oe.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Jt(re){return re instanceof Oe.ZR&&re.code.includes("request-failed")}function nn({projectId:re}){return`${mt}/projects/${re}/installations`}function Nn(re){return{token:re.token,requestStatus:2,expiresIn:lr(re.expiresIn),creationTime:Date.now()}}function Qt(re,ye){return Et.apply(this,arguments)}function Et(){return(Et=(0,h.Z)(function*(re,ye){const bt=(yield ye.json()).error;return Pt.create("request-failed",{requestName:re,serverCode:bt.code,serverMessage:bt.message,serverStatus:bt.status})})).apply(this,arguments)}function on({apiKey:re}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":re})}function Xn(re){return ar.apply(this,arguments)}function ar(){return(ar=(0,h.Z)(function*(re){const ye=yield re();return ye.status>=500&&ye.status<600?re():ye})).apply(this,arguments)}function lr(re){return Number(re.replace("s","000"))}function an(){return(an=(0,h.Z)(function*({appConfig:re,heartbeatServiceProvider:ye},{fid:st}){const bt=nn(re),Lt=on(re),Xt=ye.getImmediate({optional:!0});if(Xt){const Qr=yield Xt.getHeartbeatsHeader();Qr&&Lt.append("x-firebase-client",Qr)}const Vn={method:"POST",headers:Lt,body:JSON.stringify({fid:st,authVersion:lt,appId:re.appId,sdkVersion:qe})},wr=yield Xn(()=>fetch(bt,Vn));if(wr.ok){const Qr=yield wr.json();return{fid:Qr.fid||st,registrationStatus:2,refreshToken:Qr.refreshToken,authToken:Nn(Qr.authToken)}}throw yield Qt("Create Installation",wr)})).apply(this,arguments)}function Rr(re){return new Promise(ye=>{setTimeout(ye,re)})}const Ar=/^[cdef][\w-]{21}$/,Mn="";function ni(){try{const re=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(re),re[0]=112+re[0]%16;const st=function jr(re){return function Vr(re){return btoa(String.fromCharCode(...re)).replace(/\+/g,"-").replace(/\//g,"_")}(re).substr(0,22)}(re);return Ar.test(st)?st:Mn}catch{return Mn}}function mr(re){return`${re.appName}!${re.appId}`}const vi=new Map;function pi(re,ye){const st=mr(re);cr(st,ye),function ci(re,ye){const st=function Kr(){return!si&&"BroadcastChannel"in self&&(si=new BroadcastChannel("[Firebase] FID Change"),si.onmessage=re=>{cr(re.data.key,re.data.fid)}),si}();st&&st.postMessage({key:re,fid:ye}),function fi(){0===vi.size&&si&&(si.close(),si=null)}()}(st,ye)}function cr(re,ye){const st=vi.get(re);if(st)for(const bt of st)bt(ye)}let si=null;const gi="firebase-installations-database",br=1,dr="firebase-installations-store";let ui=null;function Er(){return ui||(ui=function Tt(re,ye,{blocked:st,upgrade:bt,blocking:Lt,terminated:Xt}={}){const zn=indexedDB.open(re,ye),Vn=dt(zn);return bt&&zn.addEventListener("upgradeneeded",wr=>{bt(dt(zn.result),wr.oldVersion,wr.newVersion,dt(zn.transaction))}),st&&zn.addEventListener("blocked",()=>st()),Vn.then(wr=>{Xt&&wr.addEventListener("close",()=>Xt()),Lt&&wr.addEventListener("versionchange",()=>Lt())}).catch(()=>{}),Vn}(gi,br,{upgrade:(re,ye)=>{0===ye&&re.createObjectStore(dr)}})),ui}function Cn(re,ye){return ke.apply(this,arguments)}function ke(){return(ke=(0,h.Z)(function*(re,ye){const st=mr(re),Lt=(yield Er()).transaction(dr,"readwrite"),Xt=Lt.objectStore(dr),zn=yield Xt.get(st);return yield Xt.put(ye,st),yield Lt.done,(!zn||zn.fid!==ye.fid)&&pi(re,ye.fid),ye})).apply(this,arguments)}function ut(re){return jt.apply(this,arguments)}function jt(){return(jt=(0,h.Z)(function*(re){const ye=mr(re),bt=(yield Er()).transaction(dr,"readwrite");yield bt.objectStore(dr).delete(ye),yield bt.done})).apply(this,arguments)}function bn(re,ye){return $n.apply(this,arguments)}function $n(){return($n=(0,h.Z)(function*(re,ye){const st=mr(re),Lt=(yield Er()).transaction(dr,"readwrite"),Xt=Lt.objectStore(dr),zn=yield Xt.get(st),Vn=ye(zn);return void 0===Vn?yield Xt.delete(st):yield Xt.put(Vn,st),yield Lt.done,Vn&&(!zn||zn.fid!==Vn.fid)&&pi(re,Vn.fid),Vn})).apply(this,arguments)}function Fr(re){return xr.apply(this,arguments)}function xr(){return xr=(0,h.Z)(function*(re){let ye;const st=yield bn(re.appConfig,bt=>{const Lt=function Ir(re){return At(re||{fid:ni(),registrationStatus:0})}(bt),Xt=function gt(re,ye){if(0===ye.registrationStatus){if(!navigator.onLine)return{installationEntry:ye,registrationPromise:Promise.reject(Pt.create("app-offline"))};const st={fid:ye.fid,registrationStatus:1,registrationTime:Date.now()},bt=function Ae(re,ye){return se.apply(this,arguments)}(re,st);return{installationEntry:st,registrationPromise:bt}}return 1===ye.registrationStatus?{installationEntry:ye,registrationPromise:te(re)}:{installationEntry:ye}}(re,Lt);return ye=Xt.registrationPromise,Xt.installationEntry});return st.fid===Mn?{installationEntry:yield ye}:{installationEntry:st,registrationPromise:ye}}),xr.apply(this,arguments)}function se(){return se=(0,h.Z)(function*(re,ye){try{const st=yield function Yn(re,ye){return an.apply(this,arguments)}(re,ye);return Cn(re.appConfig,st)}catch(st){throw Jt(st)&&409===st.customData.serverCode?yield ut(re.appConfig):yield Cn(re.appConfig,{fid:ye.fid,registrationStatus:0}),st}}),se.apply(this,arguments)}function te(re){return oe.apply(this,arguments)}function oe(){return(oe=(0,h.Z)(function*(re){let ye=yield Ke(re.appConfig);for(;1===ye.registrationStatus;)yield Rr(100),ye=yield Ke(re.appConfig);if(0===ye.registrationStatus){const{installationEntry:st,registrationPromise:bt}=yield Fr(re);return bt||st}return ye})).apply(this,arguments)}function Ke(re){return bn(re,ye=>{if(!ye)throw Pt.create("installation-not-found");return At(ye)})}function At(re){return function tt(re){return 1===re.registrationStatus&&re.registrationTime+Te<Date.now()}(re)?{fid:re.fid,registrationStatus:0}:re}function Zt(){return(Zt=(0,h.Z)(function*({appConfig:re,heartbeatServiceProvider:ye},st){const bt=function In(re,{fid:ye}){return`${nn(re)}/${ye}/authTokens:generate`}(re,st),Lt=function yn(re,{refreshToken:ye}){const st=on(re);return st.append("Authorization",function un(re){return`${lt} ${re}`}(ye)),st}(re,st),Xt=ye.getImmediate({optional:!0});if(Xt){const Qr=yield Xt.getHeartbeatsHeader();Qr&&Lt.append("x-firebase-client",Qr)}const Vn={method:"POST",headers:Lt,body:JSON.stringify({installation:{sdkVersion:qe,appId:re.appId}})},wr=yield Xn(()=>fetch(bt,Vn));if(wr.ok)return Nn(yield wr.json());throw yield Qt("Generate Auth Token",wr)})).apply(this,arguments)}function vn(re){return jn.apply(this,arguments)}function jn(){return jn=(0,h.Z)(function*(re,ye=!1){let st;const bt=yield bn(re.appConfig,Xt=>{if(!hn(Xt))throw Pt.create("not-registered");const zn=Xt.authToken;if(!ye&&function Gn(re){return 2===re.requestStatus&&!function hr(re){const ye=Date.now();return ye<re.creationTime||re.creationTime+re.expiresIn<ye+Je}(re)}(zn))return Xt;if(1===zn.requestStatus)return st=function rn(re,ye){return mn.apply(this,arguments)}(re,ye),Xt;{if(!navigator.onLine)throw Pt.create("app-offline");const Vn=function Or(re){const ye={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},re),{authToken:ye})}(Xt);return st=function Ft(re,ye){return Gt.apply(this,arguments)}(re,Vn),Vn}});return st?yield st:bt.authToken}),jn.apply(this,arguments)}function mn(){return(mn=(0,h.Z)(function*(re,ye){let st=yield Rn(re.appConfig);for(;1===st.authToken.requestStatus;)yield Rr(100),st=yield Rn(re.appConfig);const bt=st.authToken;return 0===bt.requestStatus?vn(re,ye):bt})).apply(this,arguments)}function Rn(re){return bn(re,ye=>{if(!hn(ye))throw Pt.create("not-registered");return function Mr(re){return 1===re.requestStatus&&re.requestTime+Te<Date.now()}(ye.authToken)?Object.assign(Object.assign({},ye),{authToken:{requestStatus:0}}):ye})}function Gt(){return Gt=(0,h.Z)(function*(re,ye){try{const st=yield function $t(re,ye){return Zt.apply(this,arguments)}(re,ye),bt=Object.assign(Object.assign({},ye),{authToken:st});return yield Cn(re.appConfig,bt),st}catch(st){if(!Jt(st)||401!==st.customData.serverCode&&404!==st.customData.serverCode){const bt=Object.assign(Object.assign({},ye),{authToken:{requestStatus:0}});yield Cn(re.appConfig,bt)}else yield ut(re.appConfig);throw st}}),Gt.apply(this,arguments)}function hn(re){return void 0!==re&&2===re.registrationStatus}function zr(){return(zr=(0,h.Z)(function*(re){const ye=re,{installationEntry:st,registrationPromise:bt}=yield Fr(ye);return bt?bt.catch(console.error):vn(ye).catch(console.error),st.fid})).apply(this,arguments)}function Hr(){return Hr=(0,h.Z)(function*(re,ye=!1){const st=re;return yield function Wi(re){return Io.apply(this,arguments)}(st),(yield vn(st,ye)).token}),Hr.apply(this,arguments)}function Io(){return(Io=(0,h.Z)(function*(re){const{registrationPromise:ye}=yield Fr(re);ye&&(yield ye)})).apply(this,arguments)}function Vs(re){return Pt.create("missing-app-config-values",{valueName:re})}const Us="installations",fe=re=>{const ye=re.getProvider("app").getImmediate(),st=function Qs(re){if(!re||!re.options)throw Vs("App Configuration");if(!re.name)throw Vs("App Name");const ye=["projectId","apiKey","appId"];for(const st of ye)if(!re.options[st])throw Vs(st);return{appName:re.name,projectId:re.options.projectId,apiKey:re.options.apiKey,appId:re.options.appId}}(ye);return{app:ye,appConfig:st,heartbeatServiceProvider:(0,_._getProvider)(ye,"heartbeat"),_delete:()=>Promise.resolve()}},Re=re=>{const ye=re.getProvider("app").getImmediate(),st=(0,_._getProvider)(ye,Us).getImmediate();return{getId:()=>function Si(re){return zr.apply(this,arguments)}(st),getToken:Lt=>function kr(re){return Hr.apply(this,arguments)}(st,Lt)}};(function Ee(){(0,_._registerComponent)(new _e.wA(Us,fe,"PUBLIC")),(0,_._registerComponent)(new _e.wA("installations-internal",Re,"PRIVATE"))})(),(0,_.registerVersion)(Nt,qt),(0,_.registerVersion)(Nt,qt,"esm2017")},1877:(Kn,Rt,H)=>{"use strict";H.d(Rt,{Am:()=>Qe,Ub:()=>Pe,Yd:()=>Se,in:()=>_});const h=[];var _=(()=>((_=_||{})[_.DEBUG=0]="DEBUG",_[_.VERBOSE=1]="VERBOSE",_[_.INFO=2]="INFO",_[_.WARN=3]="WARN",_[_.ERROR=4]="ERROR",_[_.SILENT=5]="SILENT",_))();const _e={debug:_.DEBUG,verbose:_.VERBOSE,info:_.INFO,warn:_.WARN,error:_.ERROR,silent:_.SILENT},Oe=_.INFO,Ze={[_.DEBUG]:"log",[_.VERBOSE]:"log",[_.INFO]:"info",[_.WARN]:"warn",[_.ERROR]:"error"},Ge=(Le,Me,...rt)=>{if(Me<Le.logLevel)return;const xe=(new Date).toISOString(),at=Ze[Me];if(!at)throw new Error(`Attempted to log a message with an invalid logType (value: ${Me})`);console[at](`[${xe}]  ${Le.name}:`,...rt)};class Se{constructor(Me){this.name=Me,this._logLevel=Oe,this._logHandler=Ge,this._userLogHandler=null,h.push(this)}get logLevel(){return this._logLevel}set logLevel(Me){if(!(Me in _))throw new TypeError(`Invalid value "${Me}" assigned to \`logLevel\``);this._logLevel=Me}setLogLevel(Me){this._logLevel="string"==typeof Me?_e[Me]:Me}get logHandler(){return this._logHandler}set logHandler(Me){if("function"!=typeof Me)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=Me}get userLogHandler(){return this._userLogHandler}set userLogHandler(Me){this._userLogHandler=Me}debug(...Me){this._userLogHandler&&this._userLogHandler(this,_.DEBUG,...Me),this._logHandler(this,_.DEBUG,...Me)}log(...Me){this._userLogHandler&&this._userLogHandler(this,_.VERBOSE,...Me),this._logHandler(this,_.VERBOSE,...Me)}info(...Me){this._userLogHandler&&this._userLogHandler(this,_.INFO,...Me),this._logHandler(this,_.INFO,...Me)}warn(...Me){this._userLogHandler&&this._userLogHandler(this,_.WARN,...Me),this._logHandler(this,_.WARN,...Me)}error(...Me){this._userLogHandler&&this._userLogHandler(this,_.ERROR,...Me),this._logHandler(this,_.ERROR,...Me)}}function Pe(Le){h.forEach(Me=>{Me.setLogLevel(Le)})}function Qe(Le,Me){for(const rt of h){let xe=null;Me&&Me.level&&(xe=_e[Me.level]),rt.userLogHandler=null===Le?null:(at,pt,...Vt)=>{const We=Vt.map($e=>{if(null==$e)return null;if("string"==typeof $e)return $e;if("number"==typeof $e||"boolean"==typeof $e)return $e.toString();if($e instanceof Error)return $e.message;try{return JSON.stringify($e)}catch{return null}}).filter($e=>$e).join(" ");pt>=(null!=xe?xe:at.logLevel)&&Le({level:_[pt].toLowerCase(),message:We,args:Vt,type:at.name})}}}},9972:(Kn,Rt,H)=>{"use strict";H.d(Rt,{Br:()=>Is,dr:()=>ni,oU:()=>mr,cs:()=>Js,YG:()=>cr,Sm:()=>ci,PM:()=>si,FN:()=>Kr,Zi:()=>fi,tO:()=>gi,Dq:()=>br,hM:()=>ui,wI:()=>Er,W2:()=>Cn,IJ:()=>jt,W4:()=>bn,zq:()=>$n,jY:()=>xr,Gu:()=>Ir,gu:()=>gt,Xz:()=>Ae,pK:()=>oe,Ie:()=>Ke,Q$:()=>vn,q_:()=>jn,fG:()=>Ft,jP:()=>ps,Nd:()=>zi,yq:()=>fe,ZU:()=>Re,UN:()=>Ea,yW:()=>Ee,wd:()=>st,sr:()=>Xt,Pc:()=>Wo,r4:()=>ys,HT:()=>Qi,SH:()=>Ws,X1:()=>Ai,t4:()=>Qr,j9:()=>Xn,yF:()=>Ao});var h=H(5861),_=H(2223),_e=H(5030),Oe=H(655),Ze=H(4968),Ge=H(7579),Se=H(1135),Pe=H(5559),xe=(H(9613),H(3551),H(1138),H(1898),H(5273)),at=H(3577),pt=H(3982),Vt=H(9866),$e=(H(8126),H(2583)),dt=(H(3457),H(4349),H(4083)),Tt=H(9300),wt=H(3900),vt=H(1884),nt=H(4755);const Ct=xe.i,Te=["*"],qe=["outlet"],lt=[[["","slot","top"]],"*"],mt=["[slot=top]","*"],ct=k=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(k):"function"==typeof requestAnimationFrame?requestAnimationFrame(k):setTimeout(k);let Ut=(()=>{class k{constructor(N,ce){this.injector=N,this.el=ce,this.onChange=()=>{},this.onTouched=()=>{}}writeValue(N){this.el.nativeElement.value=this.lastValue=N,Pt(this.el)}handleValueChange(N,ce){N===this.el.nativeElement&&(ce!==this.lastValue&&(this.lastValue=ce,this.onChange(ce)),Pt(this.el))}_handleBlurEvent(N){N===this.el.nativeElement&&(this.onTouched(),Pt(this.el))}registerOnChange(N){this.onChange=N}registerOnTouched(N){this.onTouched=N}setDisabledState(N){this.el.nativeElement.disabled=N}ngOnDestroy(){this.statusChanges&&this.statusChanges.unsubscribe()}ngAfterViewInit(){let N;try{N=this.injector.get(_e.a5)}catch{}if(!N)return;N.statusChanges&&(this.statusChanges=N.statusChanges.subscribe(()=>Pt(this.el)));const ce=N.control;ce&&["markAsTouched","markAllAsTouched","markAsUntouched","markAsDirty","markAsPristine"].forEach(En=>{if(typeof ce[En]<"u"){const Cr=ce[En].bind(ce);ce[En]=(...Ur)=>{Cr(...Ur),Pt(this.el)}}})}}return k.\u0275fac=function(N){return new(N||k)(_.Y36(_.zs3),_.Y36(_.SBq))},k.\u0275dir=_.lG2({type:k,hostBindings:function(N,ce){1&N&&_.NdJ("ionBlur",function(En){return ce._handleBlurEvent(En.target)})}}),k})();const Pt=k=>{ct(()=>{const he=k.nativeElement,N=null!=he.value&&he.value.toString().length>0,ce=Jt(he);nn(he,ce);const Xe=he.closest("ion-item");Xe&&nn(Xe,N?[...ce,"item-has-value"]:ce)})},Jt=k=>{const he=k.classList,N=[];for(let ce=0;ce<he.length;ce++){const Xe=he.item(ce);null!==Xe&&Nn(Xe,"ng-")&&N.push(`ion-${Xe.substring(3)}`)}return N},nn=(k,he)=>{const N=k.classList;N.remove("ion-valid","ion-invalid","ion-touched","ion-untouched","ion-dirty","ion-pristine"),N.add(...he)},Nn=(k,he)=>k.substring(0,he.length)===he;let Xn=(()=>{class k extends Ut{constructor(N,ce){super(N,ce)}_handleInputEvent(N){this.handleValueChange(N,N.value)}}return k.\u0275fac=function(N){return new(N||k)(_.Y36(_.zs3),_.Y36(_.SBq))},k.\u0275dir=_.lG2({type:k,selectors:[["ion-input",3,"type","number"],["ion-textarea"],["ion-searchbar"]],hostBindings:function(N,ce){1&N&&_.NdJ("ionInput",function(En){return ce._handleInputEvent(En.target)})},features:[_._Bn([{provide:_e.JU,useExisting:k,multi:!0}]),_.qOj]}),k})();const ar=(k,he)=>{const N=k.prototype;he.forEach(ce=>{Object.defineProperty(N,ce,{get(){return this.el[ce]},set(Xe){this.z.runOutsideAngular(()=>this.el[ce]=Xe)}})})},lr=(k,he)=>{const N=k.prototype;he.forEach(ce=>{N[ce]=function(){const Xe=arguments;return this.z.runOutsideAngular(()=>this.el[ce].apply(this.el,Xe))}})},un=(k,he,N)=>{N.forEach(ce=>k[ce]=(0,Ze.R)(he,ce))};function an(k){return function(N){const{defineCustomElementFn:ce,inputs:Xe,methods:En}=k;return void 0!==ce&&ce(),Xe&&ar(N,Xe),En&&lr(N,En),N}}let ni=(()=>{let k=class{constructor(N,ce,Xe){this.z=Xe,N.detach(),this.el=ce.nativeElement}};return k.\u0275fac=function(N){return new(N||k)(_.Y36(_.sBO),_.Y36(_.SBq),_.Y36(_.R0b))},k.\u0275cmp=_.Xpm({type:k,selectors:[["ion-app"]],ngContentSelectors:Te,decls:1,vars:0,template:function(N,ce){1&N&&(_.F$t(),_.Hsn(0))},encapsulation:2,changeDetection:0}),k=(0,Oe.gn)([an({})],k),k})(),mr=(()=>{let k=class{constructor(N,ce,Xe){this.z=Xe,N.detach(),this.el=ce.nativeElement}};return k.\u0275fac=function(N){return new(N||k)(_.Y36(_.sBO),_.Y36(_.SBq),_.Y36(_.R0b))},k.\u0275cmp=_.Xpm({type:k,selectors:[["ion-back-button"]],inputs:{color:"color",defaultHref:"defaultHref",disabled:"disabled",icon:"icon",mode:"mode",routerAnimation:"routerAnimation",text:"text",type:"type"},ngContentSelectors:Te,decls:1,vars:0,template:function(N,ce){1&N&&(_.F$t(),_.Hsn(0))},encapsulation:2,changeDetection:0}),k=(0,Oe.gn)([an({inputs:["color","defaultHref","disabled","icon","mode","routerAnimation","text","type"]})],k),k})(),cr=(()=>{let k=class{constructor(N,ce,Xe){this.z=Xe,N.detach(),this.el=ce.nativeElement,un(this,this.el,["ionFocus","ionBlur"])}};return k.\u0275fac=function(N){return new(N||k)(_.Y36(_.sBO),_.Y36(_.SBq),_.Y36(_.R0b))},k.\u0275cmp=_.Xpm({type:k,selectors:[["ion-button"]],inputs:{buttonType:"buttonType",color:"color",disabled:"disabled",download:"download",expand:"expand",fill:"fill",form:"form",href:"href",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",shape:"shape",size:"size",strong:"strong",target:"target",type:"type"},ngContentSelectors:Te,decls:1,vars:0,template:function(N,ce){1&N&&(_.F$t(),_.Hsn(0))},encapsulation:2,changeDetection:0}),k=(0,Oe.gn)([an({inputs:["buttonType","color","disabled","download","expand","fill","form","href","mode","rel","routerAnimation","routerDirection","shape","size","strong","target","type"]})],k),k})(),ci=(()=>{let k=class{constructor(N,ce,Xe){this.z=Xe,N.detach(),this.el=ce.nativeElement}};return k.\u0275fac=function(N){return new(N||k)(_.Y36(_.sBO),_.Y36(_.SBq),_.Y36(_.R0b))},k.\u0275cmp=_.Xpm({type:k,selectors:[["ion-buttons"]],inputs:{collapse:"collapse"},ngContentSelectors:Te,decls:1,vars:0,template:function(N,ce){1&N&&(_.F$t(),_.Hsn(0))},encapsulation:2,changeDetection:0}),k=(0,Oe.gn)([an({inputs:["collapse"]})],k),k})(),si=(()=>{let k=class{constructor(N,ce,Xe){this.z=Xe,N.detach(),this.el=ce.nativeElement}};return k.\u0275fac=function(N){return new(N||k)(_.Y36(_.sBO),_.Y36(_.SBq),_.Y36(_.R0b))},k.\u0275cmp=_.Xpm({type:k,selectors:[["ion-card"]],inputs:{button:"button",color:"color",disabled:"disabled",download:"download",href:"href",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",target:"target",type:"type"},ngContentSelectors:Te,decls:1,vars:0,template:function(N,ce){1&N&&(_.F$t(),_.Hsn(0))},encapsulation:2,changeDetection:0}),k=(0,Oe.gn)([an({inputs:["button","color","disabled","download","href","mode","rel","routerAnimation","routerDirection","target","type"]})],k),k})(),Kr=(()=>{let k=class{constructor(N,ce,Xe){this.z=Xe,N.detach(),this.el=ce.nativeElement}};return k.\u0275fac=function(N){return new(N||k)(_.Y36(_.sBO),_.Y36(_.SBq),_.Y36(_.R0b))},k.\u0275cmp=_.Xpm({type:k,selectors:[["ion-card-content"]],inputs:{mode:"mode"},ngContentSelectors:Te,decls:1,vars:0,template:function(N,ce){1&N&&(_.F$t(),_.Hsn(0))},encapsulation:2,changeDetection:0}),k=(0,Oe.gn)([an({inputs:["mode"]})],k),k})(),fi=(()=>{let k=class{constructor(N,ce,Xe){this.z=Xe,N.detach(),this.el=ce.nativeElement}};return k.\u0275fac=function(N){return new(N||k)(_.Y36(_.sBO),_.Y36(_.SBq),_.Y36(_.R0b))},k.\u0275cmp=_.Xpm({type:k,selectors:[["ion-card-header"]],inputs:{color:"color",mode:"mode",translucent:"translucent"},ngContentSelectors:Te,decls:1,vars:0,template:function(N,ce){1&N&&(_.F$t(),_.Hsn(0))},encapsulation:2,changeDetection:0}),k=(0,Oe.gn)([an({inputs:["color","mode","translucent"]})],k),k})(),gi=(()=>{let k=class{constructor(N,ce,Xe){this.z=Xe,N.detach(),this.el=ce.nativeElement}};return k.\u0275fac=function(N){return new(N||k)(_.Y36(_.sBO),_.Y36(_.SBq),_.Y36(_.R0b))},k.\u0275cmp=_.Xpm({type:k,selectors:[["ion-card-subtitle"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:Te,decls:1,vars:0,template:function(N,ce){1&N&&(_.F$t(),_.Hsn(0))},encapsulation:2,changeDetection:0}),k=(0,Oe.gn)([an({inputs:["color","mode"]})],k),k})(),br=(()=>{let k=class{constructor(N,ce,Xe){this.z=Xe,N.detach(),this.el=ce.nativeElement}};return k.\u0275fac=function(N){return new(N||k)(_.Y36(_.sBO),_.Y36(_.SBq),_.Y36(_.R0b))},k.\u0275cmp=_.Xpm({type:k,selectors:[["ion-card-title"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:Te,decls:1,vars:0,template:function(N,ce){1&N&&(_.F$t(),_.Hsn(0))},encapsulation:2,changeDetection:0}),k=(0,Oe.gn)([an({inputs:["color","mode"]})],k),k})(),ui=(()=>{let k=class{constructor(N,ce,Xe){this.z=Xe,N.detach(),this.el=ce.nativeElement}};return k.\u0275fac=function(N){return new(N||k)(_.Y36(_.sBO),_.Y36(_.SBq),_.Y36(_.R0b))},k.\u0275cmp=_.Xpm({type:k,selectors:[["ion-chip"]],inputs:{color:"color",disabled:"disabled",mode:"mode",outline:"outline"},ngContentSelectors:Te,decls:1,vars:0,template:function(N,ce){1&N&&(_.F$t(),_.Hsn(0))},encapsulation:2,changeDetection:0}),k=(0,Oe.gn)([an({inputs:["color","disabled","mode","outline"]})],k),k})(),Er=(()=>{let k=class{constructor(N,ce,Xe){this.z=Xe,N.detach(),this.el=ce.nativeElement}};return k.\u0275fac=function(N){return new(N||k)(_.Y36(_.sBO),_.Y36(_.SBq),_.Y36(_.R0b))},k.\u0275cmp=_.Xpm({type:k,selectors:[["ion-col"]],inputs:{offset:"offset",offsetLg:"offsetLg",offsetMd:"offsetMd",offsetSm:"offsetSm",offsetXl:"offsetXl",offsetXs:"offsetXs",pull:"pull",pullLg:"pullLg",pullMd:"pullMd",pullSm:"pullSm",pullXl:"pullXl",pullXs:"pullXs",push:"push",pushLg:"pushLg",pushMd:"pushMd",pushSm:"pushSm",pushXl:"pushXl",pushXs:"pushXs",size:"size",sizeLg:"sizeLg",sizeMd:"sizeMd",sizeSm:"sizeSm",sizeXl:"sizeXl",sizeXs:"sizeXs"},ngContentSelectors:Te,decls:1,vars:0,template:function(N,ce){1&N&&(_.F$t(),_.Hsn(0))},encapsulation:2,changeDetection:0}),k=(0,Oe.gn)([an({inputs:["offset","offsetLg","offsetMd","offsetSm","offsetXl","offsetXs","pull","pullLg","pullMd","pullSm","pullXl","pullXs","push","pushLg","pushMd","pushSm","pushXl","pushXs","size","sizeLg","sizeMd","sizeSm","sizeXl","sizeXs"]})],k),k})(),Cn=(()=>{let k=class{constructor(N,ce,Xe){this.z=Xe,N.detach(),this.el=ce.nativeElement,un(this,this.el,["ionScrollStart","ionScroll","ionScrollEnd"])}};return k.\u0275fac=function(N){return new(N||k)(_.Y36(_.sBO),_.Y36(_.SBq),_.Y36(_.R0b))},k.\u0275cmp=_.Xpm({type:k,selectors:[["ion-content"]],inputs:{color:"color",forceOverscroll:"forceOverscroll",fullscreen:"fullscreen",scrollEvents:"scrollEvents",scrollX:"scrollX",scrollY:"scrollY"},ngContentSelectors:Te,decls:1,vars:0,template:function(N,ce){1&N&&(_.F$t(),_.Hsn(0))},encapsulation:2,changeDetection:0}),k=(0,Oe.gn)([an({inputs:["color","forceOverscroll","fullscreen","scrollEvents","scrollX","scrollY"],methods:["getScrollElement","scrollToTop","scrollToBottom","scrollByPoint","scrollToPoint"]})],k),k})(),jt=(()=>{let k=class{constructor(N,ce,Xe){this.z=Xe,N.detach(),this.el=ce.nativeElement}};return k.\u0275fac=function(N){return new(N||k)(_.Y36(_.sBO),_.Y36(_.SBq),_.Y36(_.R0b))},k.\u0275cmp=_.Xpm({type:k,selectors:[["ion-fab"]],inputs:{activated:"activated",edge:"edge",horizontal:"horizontal",vertical:"vertical"},ngContentSelectors:Te,decls:1,vars:0,template:function(N,ce){1&N&&(_.F$t(),_.Hsn(0))},encapsulation:2,changeDetection:0}),k=(0,Oe.gn)([an({inputs:["activated","edge","horizontal","vertical"],methods:["close"]})],k),k})(),bn=(()=>{let k=class{constructor(N,ce,Xe){this.z=Xe,N.detach(),this.el=ce.nativeElement,un(this,this.el,["ionFocus","ionBlur"])}};return k.\u0275fac=function(N){return new(N||k)(_.Y36(_.sBO),_.Y36(_.SBq),_.Y36(_.R0b))},k.\u0275cmp=_.Xpm({type:k,selectors:[["ion-fab-button"]],inputs:{activated:"activated",closeIcon:"closeIcon",color:"color",disabled:"disabled",download:"download",href:"href",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",show:"show",size:"size",target:"target",translucent:"translucent",type:"type"},ngContentSelectors:Te,decls:1,vars:0,template:function(N,ce){1&N&&(_.F$t(),_.Hsn(0))},encapsulation:2,changeDetection:0}),k=(0,Oe.gn)([an({inputs:["activated","closeIcon","color","disabled","download","href","mode","rel","routerAnimation","routerDirection","show","size","target","translucent","type"]})],k),k})(),$n=(()=>{let k=class{constructor(N,ce,Xe){this.z=Xe,N.detach(),this.el=ce.nativeElement}};return k.\u0275fac=function(N){return new(N||k)(_.Y36(_.sBO),_.Y36(_.SBq),_.Y36(_.R0b))},k.\u0275cmp=_.Xpm({type:k,selectors:[["ion-fab-list"]],inputs:{activated:"activated",side:"side"},ngContentSelectors:Te,decls:1,vars:0,template:function(N,ce){1&N&&(_.F$t(),_.Hsn(0))},encapsulation:2,changeDetection:0}),k=(0,Oe.gn)([an({inputs:["activated","side"]})],k),k})(),xr=(()=>{let k=class{constructor(N,ce,Xe){this.z=Xe,N.detach(),this.el=ce.nativeElement}};return k.\u0275fac=function(N){return new(N||k)(_.Y36(_.sBO),_.Y36(_.SBq),_.Y36(_.R0b))},k.\u0275cmp=_.Xpm({type:k,selectors:[["ion-grid"]],inputs:{fixed:"fixed"},ngContentSelectors:Te,decls:1,vars:0,template:function(N,ce){1&N&&(_.F$t(),_.Hsn(0))},encapsulation:2,changeDetection:0}),k=(0,Oe.gn)([an({inputs:["fixed"]})],k),k})(),Ir=(()=>{let k=class{constructor(N,ce,Xe){this.z=Xe,N.detach(),this.el=ce.nativeElement}};return k.\u0275fac=function(N){return new(N||k)(_.Y36(_.sBO),_.Y36(_.SBq),_.Y36(_.R0b))},k.\u0275cmp=_.Xpm({type:k,selectors:[["ion-header"]],inputs:{collapse:"collapse",mode:"mode",translucent:"translucent"},ngContentSelectors:Te,decls:1,vars:0,template:function(N,ce){1&N&&(_.F$t(),_.Hsn(0))},encapsulation:2,changeDetection:0}),k=(0,Oe.gn)([an({inputs:["collapse","mode","translucent"]})],k),k})(),gt=(()=>{let k=class{constructor(N,ce,Xe){this.z=Xe,N.detach(),this.el=ce.nativeElement}};return k.\u0275fac=function(N){return new(N||k)(_.Y36(_.sBO),_.Y36(_.SBq),_.Y36(_.R0b))},k.\u0275cmp=_.Xpm({type:k,selectors:[["ion-icon"]],inputs:{color:"color",flipRtl:"flipRtl",icon:"icon",ios:"ios",lazy:"lazy",md:"md",mode:"mode",name:"name",sanitize:"sanitize",size:"size",src:"src"},ngContentSelectors:Te,decls:1,vars:0,template:function(N,ce){1&N&&(_.F$t(),_.Hsn(0))},encapsulation:2,changeDetection:0}),k=(0,Oe.gn)([an({inputs:["color","flipRtl","icon","ios","lazy","md","mode","name","sanitize","size","src"]})],k),k})(),Ae=(()=>{let k=class{constructor(N,ce,Xe){this.z=Xe,N.detach(),this.el=ce.nativeElement,un(this,this.el,["ionImgWillLoad","ionImgDidLoad","ionError"])}};return k.\u0275fac=function(N){return new(N||k)(_.Y36(_.sBO),_.Y36(_.SBq),_.Y36(_.R0b))},k.\u0275cmp=_.Xpm({type:k,selectors:[["ion-img"]],inputs:{alt:"alt",src:"src"},ngContentSelectors:Te,decls:1,vars:0,template:function(N,ce){1&N&&(_.F$t(),_.Hsn(0))},encapsulation:2,changeDetection:0}),k=(0,Oe.gn)([an({inputs:["alt","src"]})],k),k})(),oe=(()=>{let k=class{constructor(N,ce,Xe){this.z=Xe,N.detach(),this.el=ce.nativeElement,un(this,this.el,["ionInput","ionChange","ionBlur","ionFocus"])}};return k.\u0275fac=function(N){return new(N||k)(_.Y36(_.sBO),_.Y36(_.SBq),_.Y36(_.R0b))},k.\u0275cmp=_.Xpm({type:k,selectors:[["ion-input"]],inputs:{accept:"accept",autocapitalize:"autocapitalize",autocomplete:"autocomplete",autocorrect:"autocorrect",autofocus:"autofocus",clearInput:"clearInput",clearOnEdit:"clearOnEdit",color:"color",counter:"counter",counterFormatter:"counterFormatter",debounce:"debounce",disabled:"disabled",enterkeyhint:"enterkeyhint",errorText:"errorText",fill:"fill",helperText:"helperText",inputmode:"inputmode",label:"label",labelPlacement:"labelPlacement",legacy:"legacy",max:"max",maxlength:"maxlength",min:"min",minlength:"minlength",mode:"mode",multiple:"multiple",name:"name",pattern:"pattern",placeholder:"placeholder",readonly:"readonly",required:"required",shape:"shape",size:"size",spellcheck:"spellcheck",step:"step",type:"type",value:"value"},ngContentSelectors:Te,decls:1,vars:0,template:function(N,ce){1&N&&(_.F$t(),_.Hsn(0))},encapsulation:2,changeDetection:0}),k=(0,Oe.gn)([an({inputs:["accept","autocapitalize","autocomplete","autocorrect","autofocus","clearInput","clearOnEdit","color","counter","counterFormatter","debounce","disabled","enterkeyhint","errorText","fill","helperText","inputmode","label","labelPlacement","legacy","max","maxlength","min","minlength","mode","multiple","name","pattern","placeholder","readonly","required","shape","size","spellcheck","step","type","value"],methods:["setFocus","getInputElement"]})],k),k})(),Ke=(()=>{let k=class{constructor(N,ce,Xe){this.z=Xe,N.detach(),this.el=ce.nativeElement}};return k.\u0275fac=function(N){return new(N||k)(_.Y36(_.sBO),_.Y36(_.SBq),_.Y36(_.R0b))},k.\u0275cmp=_.Xpm({type:k,selectors:[["ion-item"]],inputs:{button:"button",color:"color",counter:"counter",counterFormatter:"counterFormatter",detail:"detail",detailIcon:"detailIcon",disabled:"disabled",download:"download",fill:"fill",href:"href",lines:"lines",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",shape:"shape",target:"target",type:"type"},ngContentSelectors:Te,decls:1,vars:0,template:function(N,ce){1&N&&(_.F$t(),_.Hsn(0))},encapsulation:2,changeDetection:0}),k=(0,Oe.gn)([an({inputs:["button","color","counter","counterFormatter","detail","detailIcon","disabled","download","fill","href","lines","mode","rel","routerAnimation","routerDirection","shape","target","type"]})],k),k})(),vn=(()=>{let k=class{constructor(N,ce,Xe){this.z=Xe,N.detach(),this.el=ce.nativeElement}};return k.\u0275fac=function(N){return new(N||k)(_.Y36(_.sBO),_.Y36(_.SBq),_.Y36(_.R0b))},k.\u0275cmp=_.Xpm({type:k,selectors:[["ion-label"]],inputs:{color:"color",mode:"mode",position:"position"},ngContentSelectors:Te,decls:1,vars:0,template:function(N,ce){1&N&&(_.F$t(),_.Hsn(0))},encapsulation:2,changeDetection:0}),k=(0,Oe.gn)([an({inputs:["color","mode","position"]})],k),k})(),jn=(()=>{let k=class{constructor(N,ce,Xe){this.z=Xe,N.detach(),this.el=ce.nativeElement}};return k.\u0275fac=function(N){return new(N||k)(_.Y36(_.sBO),_.Y36(_.SBq),_.Y36(_.R0b))},k.\u0275cmp=_.Xpm({type:k,selectors:[["ion-list"]],inputs:{inset:"inset",lines:"lines",mode:"mode"},ngContentSelectors:Te,decls:1,vars:0,template:function(N,ce){1&N&&(_.F$t(),_.Hsn(0))},encapsulation:2,changeDetection:0}),k=(0,Oe.gn)([an({inputs:["inset","lines","mode"],methods:["closeSlidingItems"]})],k),k})(),Ft=(()=>{let k=class{constructor(N,ce,Xe){this.z=Xe,N.detach(),this.el=ce.nativeElement}};return k.\u0275fac=function(N){return new(N||k)(_.Y36(_.sBO),_.Y36(_.SBq),_.Y36(_.R0b))},k.\u0275cmp=_.Xpm({type:k,selectors:[["ion-menu-button"]],inputs:{autoHide:"autoHide",color:"color",disabled:"disabled",menu:"menu",mode:"mode",type:"type"},ngContentSelectors:Te,decls:1,vars:0,template:function(N,ce){1&N&&(_.F$t(),_.Hsn(0))},encapsulation:2,changeDetection:0}),k=(0,Oe.gn)([an({inputs:["autoHide","color","disabled","menu","mode","type"]})],k),k})(),zi=(()=>{let k=class{constructor(N,ce,Xe){this.z=Xe,N.detach(),this.el=ce.nativeElement}};return k.\u0275fac=function(N){return new(N||k)(_.Y36(_.sBO),_.Y36(_.SBq),_.Y36(_.R0b))},k.\u0275cmp=_.Xpm({type:k,selectors:[["ion-row"]],ngContentSelectors:Te,decls:1,vars:0,template:function(N,ce){1&N&&(_.F$t(),_.Hsn(0))},encapsulation:2,changeDetection:0}),k=(0,Oe.gn)([an({})],k),k})(),fe=(()=>{let k=class{constructor(N,ce,Xe){this.z=Xe,N.detach(),this.el=ce.nativeElement}};return k.\u0275fac=function(N){return new(N||k)(_.Y36(_.sBO),_.Y36(_.SBq),_.Y36(_.R0b))},k.\u0275cmp=_.Xpm({type:k,selectors:[["ion-tab-bar"]],inputs:{color:"color",mode:"mode",selectedTab:"selectedTab",translucent:"translucent"},ngContentSelectors:Te,decls:1,vars:0,template:function(N,ce){1&N&&(_.F$t(),_.Hsn(0))},encapsulation:2,changeDetection:0}),k=(0,Oe.gn)([an({inputs:["color","mode","selectedTab","translucent"]})],k),k})(),Re=(()=>{let k=class{constructor(N,ce,Xe){this.z=Xe,N.detach(),this.el=ce.nativeElement}};return k.\u0275fac=function(N){return new(N||k)(_.Y36(_.sBO),_.Y36(_.SBq),_.Y36(_.R0b))},k.\u0275cmp=_.Xpm({type:k,selectors:[["ion-tab-button"]],inputs:{disabled:"disabled",download:"download",href:"href",layout:"layout",mode:"mode",rel:"rel",selected:"selected",tab:"tab",target:"target"},ngContentSelectors:Te,decls:1,vars:0,template:function(N,ce){1&N&&(_.F$t(),_.Hsn(0))},encapsulation:2,changeDetection:0}),k=(0,Oe.gn)([an({inputs:["disabled","download","href","layout","mode","rel","selected","tab","target"]})],k),k})(),Ee=(()=>{let k=class{constructor(N,ce,Xe){this.z=Xe,N.detach(),this.el=ce.nativeElement}};return k.\u0275fac=function(N){return new(N||k)(_.Y36(_.sBO),_.Y36(_.SBq),_.Y36(_.R0b))},k.\u0275cmp=_.Xpm({type:k,selectors:[["ion-text"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:Te,decls:1,vars:0,template:function(N,ce){1&N&&(_.F$t(),_.Hsn(0))},encapsulation:2,changeDetection:0}),k=(0,Oe.gn)([an({inputs:["color","mode"]})],k),k})(),st=(()=>{let k=class{constructor(N,ce,Xe){this.z=Xe,N.detach(),this.el=ce.nativeElement}};return k.\u0275fac=function(N){return new(N||k)(_.Y36(_.sBO),_.Y36(_.SBq),_.Y36(_.R0b))},k.\u0275cmp=_.Xpm({type:k,selectors:[["ion-title"]],inputs:{color:"color",size:"size"},ngContentSelectors:Te,decls:1,vars:0,template:function(N,ce){1&N&&(_.F$t(),_.Hsn(0))},encapsulation:2,changeDetection:0}),k=(0,Oe.gn)([an({inputs:["color","size"]})],k),k})(),Xt=(()=>{let k=class{constructor(N,ce,Xe){this.z=Xe,N.detach(),this.el=ce.nativeElement}};return k.\u0275fac=function(N){return new(N||k)(_.Y36(_.sBO),_.Y36(_.SBq),_.Y36(_.R0b))},k.\u0275cmp=_.Xpm({type:k,selectors:[["ion-toolbar"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:Te,decls:1,vars:0,template:function(N,ce){1&N&&(_.F$t(),_.Hsn(0))},encapsulation:2,changeDetection:0}),k=(0,Oe.gn)([an({inputs:["color","mode"]})],k),k})(),zn=(()=>{class k{get(N,ce){const Xe=wr();return Xe?Xe.get(N,ce):null}getBoolean(N,ce){const Xe=wr();return!!Xe&&Xe.getBoolean(N,ce)}getNumber(N,ce){const Xe=wr();return Xe?Xe.getNumber(N,ce):0}}return k.\u0275fac=function(N){return new(N||k)},k.\u0275prov=_.Yz7({token:k,factory:k.\u0275fac,providedIn:"root"}),k})();const Vn=new _.OlP("USERCONFIG"),wr=()=>{if(typeof window<"u"){const k=window.Ionic;if(null!=k&&k.config)return k.config}return null};let Qr=(()=>{class k{constructor(N,ce){this.doc=N,this.backButton=new Ge.x,this.keyboardDidShow=new Ge.x,this.keyboardDidHide=new Ge.x,this.pause=new Ge.x,this.resume=new Ge.x,this.resize=new Ge.x,ce.run(()=>{var Xe;let En;this.win=N.defaultView,this.backButton.subscribeWithPriority=function(Cr,Ur){return this.subscribe(yi=>yi.register(Cr,wi=>ce.run(()=>Ur(wi))))},Fi(this.pause,N,"pause"),Fi(this.resume,N,"resume"),Fi(this.backButton,N,"ionBackButton"),Fi(this.resize,this.win,"resize"),Fi(this.keyboardDidShow,this.win,"ionKeyboardDidShow"),Fi(this.keyboardDidHide,this.win,"ionKeyboardDidHide"),this._readyPromise=new Promise(Cr=>{En=Cr}),null!==(Xe=this.win)&&void 0!==Xe&&Xe.cordova?N.addEventListener("deviceready",()=>{En("cordova")},{once:!0}):En("dom")})}is(N){return(0,xe.a)(this.win,N)}platforms(){return(0,xe.g)(this.win)}ready(){return this._readyPromise}get isRTL(){return"rtl"===this.doc.dir}getQueryParam(N){return is(this.win.location.href,N)}isLandscape(){return!this.isPortrait()}isPortrait(){var N,ce;return null===(N=(ce=this.win).matchMedia)||void 0===N?void 0:N.call(ce,"(orientation: portrait)").matches}testUserAgent(N){const ce=this.win.navigator;return!!(null!=ce&&ce.userAgent&&ce.userAgent.indexOf(N)>=0)}url(){return this.win.location.href}width(){return this.win.innerWidth}height(){return this.win.innerHeight}}return k.\u0275fac=function(N){return new(N||k)(_.LFG(nt.K0),_.LFG(_.R0b))},k.\u0275prov=_.Yz7({token:k,factory:k.\u0275fac,providedIn:"root"}),k})();const is=(k,he)=>{he=he.replace(/[[\]\\]/g,"\\$&");const ce=new RegExp("[\\?&]"+he+"=([^&#]*)").exec(k);return ce?decodeURIComponent(ce[1].replace(/\+/g," ")):null},Fi=(k,he,N)=>{he&&he.addEventListener(N,ce=>{k.next(null!=ce?ce.detail:void 0)})};let Ws=(()=>{class k{constructor(N,ce,Xe,En){this.location=ce,this.serializer=Xe,this.router=En,this.direction=tr,this.animated=Lr,this.guessDirection="forward",this.lastNavId=-1,En&&En.events.subscribe(Cr=>{if(Cr instanceof Pe.OD){const Ur=Cr.restoredState?Cr.restoredState.navigationId:Cr.id;this.guessDirection=Ur<this.lastNavId?"back":"forward",this.guessAnimation=Cr.restoredState?void 0:this.guessDirection,this.lastNavId="forward"===this.guessDirection?Cr.id:Ur}}),N.backButton.subscribeWithPriority(0,Cr=>{this.pop(),Cr()})}navigateForward(N,ce={}){return this.setDirection("forward",ce.animated,ce.animationDirection,ce.animation),this.navigate(N,ce)}navigateBack(N,ce={}){return this.setDirection("back",ce.animated,ce.animationDirection,ce.animation),this.navigate(N,ce)}navigateRoot(N,ce={}){return this.setDirection("root",ce.animated,ce.animationDirection,ce.animation),this.navigate(N,ce)}back(N={animated:!0,animationDirection:"back"}){return this.setDirection("back",N.animated,N.animationDirection,N.animation),this.location.back()}pop(){var N=this;return(0,h.Z)(function*(){let ce=N.topOutlet;for(;ce&&!(yield ce.pop());)ce=ce.parentOutlet})()}setDirection(N,ce,Xe,En){this.direction=N,this.animated=Ci(N,ce,Xe),this.animationBuilder=En}setTopOutlet(N){this.topOutlet=N}consumeTransition(){let ce,N="root";const Xe=this.animationBuilder;return"auto"===this.direction?(N=this.guessDirection,ce=this.guessAnimation):(ce=this.animated,N=this.direction),this.direction=tr,this.animated=Lr,this.animationBuilder=void 0,{direction:N,animation:ce,animationBuilder:Xe}}navigate(N,ce){if(Array.isArray(N))return this.router.navigate(N,ce);{const Xe=this.serializer.parse(N.toString());return void 0!==ce.queryParams&&(Xe.queryParams={...ce.queryParams}),void 0!==ce.fragment&&(Xe.fragment=ce.fragment),this.router.navigateByUrl(Xe,ce)}}}return k.\u0275fac=function(N){return new(N||k)(_.LFG(Qr),_.LFG(nt.Ye),_.LFG(Pe.Hx),_.LFG(Pe.F0,8))},k.\u0275prov=_.Yz7({token:k,factory:k.\u0275fac,providedIn:"root"}),k})();const Ci=(k,he,N)=>{if(!1!==he){if(void 0!==N)return N;if("forward"===k||"back"===k)return k;if("root"===k&&!0===he)return"forward"}},tr="auto",Lr=void 0;class Ai{constructor(he={}){this.data=he}get(he){return this.data[he]}}let ks=(()=>{class k{constructor(){this.zone=(0,_.f3M)(_.R0b),this.applicationRef=(0,_.f3M)(_.z2F)}create(N,ce,Xe){return new Do(N,ce,this.applicationRef,this.zone,Xe)}}return k.\u0275fac=function(N){return new(N||k)},k.\u0275prov=_.Yz7({token:k,factory:k.\u0275fac}),k})();class Do{constructor(he,N,ce,Xe,En){this.environmentInjector=he,this.injector=N,this.applicationRef=ce,this.zone=Xe,this.elementReferenceKey=En,this.elRefMap=new WeakMap,this.elEventsMap=new WeakMap}attachViewToDom(he,N,ce,Xe){return this.zone.run(()=>new Promise(En=>{const Cr={...ce};void 0!==this.elementReferenceKey&&(Cr[this.elementReferenceKey]=he),En(ss(this.zone,this.environmentInjector,this.injector,this.applicationRef,this.elRefMap,this.elEventsMap,he,N,Cr,Xe))}))}removeViewFromDom(he,N){return this.zone.run(()=>new Promise(ce=>{const Xe=this.elRefMap.get(N);if(Xe){Xe.destroy(),this.elRefMap.delete(N);const En=this.elEventsMap.get(N);En&&(En(),this.elEventsMap.delete(N))}ce()}))}}const ss=(k,he,N,ce,Xe,En,Cr,Ur,yi,wi)=>{const Ms=_.zs3.create({providers:os(yi),parent:N}),vs=(0,_.LMc)(Ur,{environmentInjector:he,elementInjector:Ms}),Ks=vs.instance,Fo=vs.location.nativeElement;if(yi&&Object.assign(Ks,yi),wi)for(const de of wi)Fo.classList.add(de);const be=ki(k,Ks,Fo);return Cr.appendChild(Fo),ce.attachView(vs.hostView),Xe.set(Fo,vs),En.set(Fo,be),Fo},oo=[Vt.L,Vt.a,Vt.b,Vt.c,Vt.d],ki=(k,he,N)=>k.run(()=>{const ce=oo.filter(Xe=>"function"==typeof he[Xe]).map(Xe=>{const En=Cr=>he[Xe](Cr.detail);return N.addEventListener(Xe,En),()=>N.removeEventListener(Xe,En)});return()=>ce.forEach(Xe=>Xe())}),ws=new _.OlP("NavParamsToken"),os=k=>[{provide:ws,useValue:k},{provide:Ai,useFactory:Br,deps:[ws]}],Br=k=>new Ai(k),ho=(k,he)=>((k=k.filter(N=>N.stackId!==he.stackId)).push(he),k),Gs=(k,he)=>{const N=k.createUrlTree(["."],{relativeTo:he});return k.serializeUrl(N)},fo=(k,he)=>{if(!k)return;const N=ko(he);for(let ce=0;ce<N.length;ce++){if(ce>=k.length)return N[ce];if(N[ce]!==k[ce])return}},ko=k=>k.split("/").map(he=>he.trim()).filter(he=>""!==he),$o=k=>{k&&(k.ref.destroy(),k.unlistenEvents())};class po{constructor(he,N,ce,Xe,En,Cr){this.containerEl=N,this.router=ce,this.navCtrl=Xe,this.zone=En,this.location=Cr,this.views=[],this.skipTransition=!1,this.nextId=0,this.tabsPrefix=void 0!==he?ko(he):void 0}createView(he,N){var ce;const Xe=Gs(this.router,N),En=null==he||null===(ce=he.location)||void 0===ce?void 0:ce.nativeElement,Cr=ki(this.zone,he.instance,En);return{id:this.nextId++,stackId:fo(this.tabsPrefix,Xe),unlistenEvents:Cr,element:En,ref:he,url:Xe}}getExistingView(he){const N=Gs(this.router,he),ce=this.views.find(Xe=>Xe.url===N);return ce&&ce.ref.changeDetectorRef.reattach(),ce}setActive(he){var N,ce,Xe;const En=this.navCtrl.consumeTransition();let{direction:Cr,animation:Ur,animationBuilder:yi}=En;const wi=this.activeView,Ms=((k,he)=>!he||k.stackId!==he.stackId)(he,wi);Ms&&(Cr="back",Ur=void 0);const vs=this.views.slice();let Ks;const Fo=this.router;Fo.getCurrentNavigation?Ks=Fo.getCurrentNavigation():null!==(N=Fo.navigations)&&void 0!==N&&N.value&&(Ks=Fo.navigations.value),null!==(ce=Ks)&&void 0!==ce&&null!==(Xe=ce.extras)&&void 0!==Xe&&Xe.replaceUrl&&this.views.length>0&&this.views.splice(-1,1);const be=this.views.includes(he),de=this.insertView(he,Cr);be||he.ref.changeDetectorRef.detectChanges();const $=he.animationBuilder;return void 0===yi&&"back"===Cr&&!Ms&&void 0!==$&&(yi=$),wi&&(wi.animationBuilder=yi),this.zone.runOutsideAngular(()=>this.wait(()=>(wi&&wi.ref.changeDetectorRef.detach(),he.ref.changeDetectorRef.reattach(),this.transition(he,wi,Ur,this.canGoBack(1),!1,yi).then(()=>lo(he,de,vs,this.location,this.zone)).then(()=>({enteringView:he,direction:Cr,animation:Ur,tabSwitch:Ms})))))}canGoBack(he,N=this.getActiveStackId()){return this.getStack(N).length>he}pop(he,N=this.getActiveStackId()){return this.zone.run(()=>{const ce=this.getStack(N);if(ce.length<=he)return Promise.resolve(!1);const Xe=ce[ce.length-he-1];let En=Xe.url;const Cr=Xe.savedData;if(Cr){var Ur,yi;const Ms=Cr.get("primary");null!=Ms&&null!==(Ur=Ms.route)&&void 0!==Ur&&null!==(yi=Ur._routerState)&&void 0!==yi&&yi.snapshot.url&&(En=Ms.route._routerState.snapshot.url)}const{animationBuilder:wi}=this.navCtrl.consumeTransition();return this.navCtrl.navigateBack(En,{...Xe.savedExtras,animation:wi}).then(()=>!0)})}startBackTransition(){const he=this.activeView;if(he){const N=this.getStack(he.stackId),ce=N[N.length-2],Xe=ce.animationBuilder;return this.wait(()=>this.transition(ce,he,"back",this.canGoBack(2),!0,Xe))}return Promise.resolve()}endBackTransition(he){he?(this.skipTransition=!0,this.pop(1)):this.activeView&&ia(this.activeView,this.views,this.views,this.location,this.zone)}getLastUrl(he){const N=this.getStack(he);return N.length>0?N[N.length-1]:void 0}getRootUrl(he){const N=this.getStack(he);return N.length>0?N[0]:void 0}getActiveStackId(){return this.activeView?this.activeView.stackId:void 0}hasRunningTask(){return void 0!==this.runningTask}destroy(){this.containerEl=void 0,this.views.forEach($o),this.activeView=void 0,this.views=[]}getStack(he){return this.views.filter(N=>N.stackId===he)}insertView(he,N){return this.activeView=he,this.views=((k,he,N)=>"root"===N?ho(k,he):"forward"===N?((k,he)=>(k.indexOf(he)>=0?k=k.filter(ce=>ce.stackId!==he.stackId||ce.id<=he.id):k.push(he),k))(k,he):((k,he)=>k.indexOf(he)>=0?k.filter(ce=>ce.stackId!==he.stackId||ce.id<=he.id):ho(k,he))(k,he))(this.views,he,N),this.views.slice()}transition(he,N,ce,Xe,En,Cr){if(this.skipTransition)return this.skipTransition=!1,Promise.resolve(!1);if(N===he)return Promise.resolve(!1);const Ur=he?he.element:void 0,yi=N?N.element:void 0,wi=this.containerEl;return Ur&&Ur!==yi&&(Ur.classList.add("ion-page"),Ur.classList.add("ion-page-invisible"),Ur.parentElement!==wi&&wi.appendChild(Ur),wi.commit)?wi.commit(Ur,yi,{duration:void 0===ce?0:void 0,direction:ce,showGoBack:Xe,progressAnimation:En,animationBuilder:Cr}):Promise.resolve(!1)}wait(he){var N=this;return(0,h.Z)(function*(){void 0!==N.runningTask&&(yield N.runningTask,N.runningTask=void 0);const ce=N.runningTask=he();return ce.finally(()=>N.runningTask=void 0),ce})()}}const lo=(k,he,N,ce,Xe)=>"function"==typeof requestAnimationFrame?new Promise(En=>{requestAnimationFrame(()=>{ia(k,he,N,ce,Xe),En()})}):Promise.resolve(),ia=(k,he,N,ce,Xe)=>{Xe.run(()=>N.filter(En=>!he.includes(En)).forEach($o)),he.forEach(En=>{const Ur=ce.path().split("?")[0].split("#")[0];if(En!==k&&En.url!==Ur){const yi=En.element;yi.setAttribute("aria-hidden","true"),yi.classList.add("ion-page-hidden"),En.ref.changeDetectorRef.detach()}})};let ps=(()=>{class k{constructor(N,ce,Xe,En,Cr,Ur,yi,wi){this.parentOutlet=wi,this.activated=null,this.activatedView=null,this._activatedRoute=null,this.proxyMap=new WeakMap,this.currentActivatedRoute$=new Se.X(null),this.stackEvents=new _.vpe,this.activateEvents=new _.vpe,this.deactivateEvents=new _.vpe,this.parentContexts=(0,_.f3M)(Pe.y6),this.location=(0,_.f3M)(_.s_b),this.environmentInjector=(0,_.f3M)(_.lqb),this.config=(0,_.f3M)(zn),this.navCtrl=(0,_.f3M)(Ws),this.nativeEl=En.nativeElement,this.name=N||Pe.eC,this.tabsPrefix="true"===ce?Gs(Cr,yi):void 0,this.stackCtrl=new po(this.tabsPrefix,this.nativeEl,Cr,this.navCtrl,Ur,Xe),this.parentContexts.onChildOutletCreated(this.name,this)}set animation(N){this.nativeEl.animation=N}set animated(N){this.nativeEl.animated=N}set swipeGesture(N){this._swipeGesture=N,this.nativeEl.swipeHandler=N?{canStart:()=>this.stackCtrl.canGoBack(1)&&!this.stackCtrl.hasRunningTask(),onStart:()=>this.stackCtrl.startBackTransition(),onEnd:ce=>this.stackCtrl.endBackTransition(ce)}:void 0}ngOnDestroy(){this.stackCtrl.destroy()}getContext(){return this.parentContexts.getContext(this.name)}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(!this.activated){const N=this.getContext();null!=N&&N.route&&this.activateWith(N.route,N.injector)}new Promise(N=>(0,at.c)(this.nativeEl,N)).then(()=>{void 0===this._swipeGesture&&(this.swipeGesture=this.config.getBoolean("swipeBackEnabled","ios"===this.nativeEl.mode))})}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){throw new Error("incompatible reuse strategy")}attach(N,ce){throw new Error("incompatible reuse strategy")}deactivate(){if(this.activated){if(this.activatedView){const ce=this.getContext();this.activatedView.savedData=new Map(ce.children.contexts);const Xe=this.activatedView.savedData.get("primary");if(Xe&&ce.route&&(Xe.route={...ce.route}),this.activatedView.savedExtras={},ce.route){const En=ce.route.snapshot;this.activatedView.savedExtras.queryParams=En.queryParams,this.activatedView.savedExtras.fragment=En.fragment}}const N=this.component;this.activatedView=null,this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(N)}}activateWith(N,ce){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=N;let Xe,En=this.stackCtrl.getExistingView(N);if(En){Xe=this.activated=En.ref;const Ur=En.savedData;Ur&&(this.getContext().children.contexts=Ur),this.updateActivatedRouteProxy(Xe.instance,N)}else{var Cr;const Ur=N._futureSnapshot,yi=this.parentContexts.getOrCreateContext(this.name).children,wi=new Se.X(null),Ms=this.createActivatedRouteProxy(wi,N),vs=new Ei(Ms,yi,this.location.injector),Ks=null!==(Cr=Ur.routeConfig.component)&&void 0!==Cr?Cr:Ur.component;Xe=this.activated=this.location.createComponent(Ks,{index:this.location.length,injector:vs,environmentInjector:null!=ce?ce:this.environmentInjector}),wi.next(Xe.instance),En=this.stackCtrl.createView(this.activated,N),this.proxyMap.set(Xe.instance,Ms),this.currentActivatedRoute$.next({component:Xe.instance,activatedRoute:N})}this.activatedView=En,this.navCtrl.setTopOutlet(this),this.stackCtrl.setActive(En).then(Ur=>{this.activateEvents.emit(Xe.instance),this.stackEvents.emit(Ur)})}canGoBack(N=1,ce){return this.stackCtrl.canGoBack(N,ce)}pop(N=1,ce){return this.stackCtrl.pop(N,ce)}getLastUrl(N){const ce=this.stackCtrl.getLastUrl(N);return ce?ce.url:void 0}getLastRouteView(N){return this.stackCtrl.getLastUrl(N)}getRootView(N){return this.stackCtrl.getRootUrl(N)}getActiveStackId(){return this.stackCtrl.getActiveStackId()}createActivatedRouteProxy(N,ce){const Xe=new Pe.gz;return Xe._futureSnapshot=ce._futureSnapshot,Xe._routerState=ce._routerState,Xe.snapshot=ce.snapshot,Xe.outlet=ce.outlet,Xe.component=ce.component,Xe._paramMap=this.proxyObservable(N,"paramMap"),Xe._queryParamMap=this.proxyObservable(N,"queryParamMap"),Xe.url=this.proxyObservable(N,"url"),Xe.params=this.proxyObservable(N,"params"),Xe.queryParams=this.proxyObservable(N,"queryParams"),Xe.fragment=this.proxyObservable(N,"fragment"),Xe.data=this.proxyObservable(N,"data"),Xe}proxyObservable(N,ce){return N.pipe((0,Tt.h)(Xe=>!!Xe),(0,wt.w)(Xe=>this.currentActivatedRoute$.pipe((0,Tt.h)(En=>null!==En&&En.component===Xe),(0,wt.w)(En=>En&&En.activatedRoute[ce]),(0,vt.x)())))}updateActivatedRouteProxy(N,ce){const Xe=this.proxyMap.get(N);if(!Xe)throw new Error("Could not find activated route proxy for view");Xe._futureSnapshot=ce._futureSnapshot,Xe._routerState=ce._routerState,Xe.snapshot=ce.snapshot,Xe.outlet=ce.outlet,Xe.component=ce.component,this.currentActivatedRoute$.next({component:N,activatedRoute:ce})}}return k.\u0275fac=function(N){return new(N||k)(_.$8M("name"),_.$8M("tabs"),_.Y36(nt.Ye),_.Y36(_.SBq),_.Y36(Pe.F0),_.Y36(_.R0b),_.Y36(Pe.gz),_.Y36(k,12))},k.\u0275dir=_.lG2({type:k,selectors:[["ion-router-outlet"]],inputs:{animated:"animated",animation:"animation",mode:"mode",swipeGesture:"swipeGesture"},outputs:{stackEvents:"stackEvents",activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),k})();class Ei{constructor(he,N,ce){this.route=he,this.childContexts=N,this.parent=ce}get(he,N){return he===Pe.gz?this.route:he===Pe.y6?this.childContexts:this.parent.get(he,N)}}let Ea=(()=>{class k{constructor(N){this.navCtrl=N,this.ionTabsWillChange=new _.vpe,this.ionTabsDidChange=new _.vpe}onPageSelected(N){const ce=N.enteringView.stackId;N.tabSwitch&&void 0!==ce&&(this.ionTabsWillChange.emit({tab:ce}),this.tabBar&&(this.tabBar.selectedTab=ce),this.ionTabsDidChange.emit({tab:ce}))}select(N){const ce="string"==typeof N,Xe=ce?N:N.detail.tab,En=this.outlet.getActiveStackId()===Xe,Cr=`${this.outlet.tabsPrefix}/${Xe}`;if(ce||N.stopPropagation(),En){const Ur=this.outlet.getActiveStackId(),yi=this.outlet.getLastRouteView(Ur);if((null==yi?void 0:yi.url)===Cr)return;const wi=this.outlet.getRootView(Xe);return this.navCtrl.navigateRoot(Cr,{...wi&&Cr===wi.url&&wi.savedExtras,animated:!0,animationDirection:"back"})}{const Ur=this.outlet.getLastRouteView(Xe);return this.navCtrl.navigateRoot((null==Ur?void 0:Ur.url)||Cr,{...null==Ur?void 0:Ur.savedExtras,animated:!0,animationDirection:"back"})}}getSelected(){return this.outlet.getActiveStackId()}}return k.\u0275fac=function(N){return new(N||k)(_.Y36(Ws))},k.\u0275cmp=_.Xpm({type:k,selectors:[["ion-tabs"]],contentQueries:function(N,ce,Xe){if(1&N&&_.Suo(Xe,fe,5),2&N){let En;_.iGM(En=_.CRH())&&(ce.tabBar=En.first)}},viewQuery:function(N,ce){if(1&N&&_.Gf(qe,5,ps),2&N){let Xe;_.iGM(Xe=_.CRH())&&(ce.outlet=Xe.first)}},hostBindings:function(N,ce){1&N&&_.NdJ("ionTabButtonClick",function(En){return ce.select(En)})},outputs:{ionTabsWillChange:"ionTabsWillChange",ionTabsDidChange:"ionTabsDidChange"},ngContentSelectors:mt,decls:5,vars:0,consts:[[1,"tabs-inner"],["tabs","true",3,"stackEvents"],["outlet",""]],template:function(N,ce){1&N&&(_.F$t(lt),_.Hsn(0),_.TgZ(1,"div",0)(2,"ion-router-outlet",1,2),_.NdJ("stackEvents",function(En){return ce.onPageSelected(En)}),_.qZA()(),_.Hsn(4,1))},dependencies:[ps],styles:["[_nghost-%COMP%]{display:flex;position:absolute;inset:0;flex-direction:column;width:100%;height:100%;contain:layout size style;z-index:$z-index-page-container}.tabs-inner[_ngcontent-%COMP%]{position:relative;flex:1;contain:layout size style}"]}),k})(),Js=(()=>{class k{constructor(N,ce,Xe){this.routerOutlet=N,this.navCtrl=ce,this.config=Xe}onClick(N){var ce;const Xe=this.defaultHref||this.config.get("backButtonDefaultHref");null!==(ce=this.routerOutlet)&&void 0!==ce&&ce.canGoBack()?(this.navCtrl.setDirection("back",void 0,void 0,this.routerAnimation),this.routerOutlet.pop(),N.preventDefault()):null!=Xe&&(this.navCtrl.navigateBack(Xe,{animation:this.routerAnimation}),N.preventDefault())}}return k.\u0275fac=function(N){return new(N||k)(_.Y36(ps,8),_.Y36(Ws),_.Y36(zn))},k.\u0275dir=_.lG2({type:k,selectors:[["ion-back-button"]],hostBindings:function(N,ce){1&N&&_.NdJ("click",function(En){return ce.onClick(En)})},inputs:{defaultHref:"defaultHref",routerAnimation:"routerAnimation"}}),k})();class ms{constructor(he){this.ctrl=he}create(he){return this.ctrl.create(he||{})}dismiss(he,N,ce){return this.ctrl.dismiss(he,N,ce)}getTop(){return this.ctrl.getTop()}}let Is=(()=>{class k extends ms{constructor(){super($e.a)}}return k.\u0275fac=function(N){return new(N||k)},k.\u0275prov=_.Yz7({token:k,factory:k.\u0275fac,providedIn:"root"}),k})(),Qi=(()=>{class k extends ms{constructor(){super($e.l)}}return k.\u0275fac=function(N){return new(N||k)},k.\u0275prov=_.Yz7({token:k,factory:k.\u0275fac,providedIn:"root"}),k})(),mo=(()=>{class k extends ms{constructor(){super($e.m),this.angularDelegate=(0,_.f3M)(ks),this.injector=(0,_.f3M)(_.zs3),this.environmentInjector=(0,_.f3M)(_.lqb)}create(N){return super.create({...N,delegate:this.angularDelegate.create(this.environmentInjector,this.injector,"modal")})}}return k.\u0275fac=function(N){return new(N||k)},k.\u0275prov=_.Yz7({token:k,factory:k.\u0275fac}),k})(),To=(()=>{class k extends ms{constructor(){super($e.c),this.angularDelegate=(0,_.f3M)(ks),this.injector=(0,_.f3M)(_.zs3),this.environmentInjector=(0,_.f3M)(_.lqb)}create(N){return super.create({...N,delegate:this.angularDelegate.create(this.environmentInjector,this.injector,"popover")})}}return k.\u0275fac=function(N){return new(N||k)},k.\u0275prov=_.Yz7({token:k,factory:k.\u0275fac}),k})(),Ao=(()=>{class k extends ms{constructor(){super($e.t)}}return k.\u0275fac=function(N){return new(N||k)},k.\u0275prov=_.Yz7({token:k,factory:k.\u0275fac,providedIn:"root"}),k})();class ys{shouldDetach(he){return!1}shouldAttach(he){return!1}store(he,N){}retrieve(he){return null}shouldReuseRoute(he,N){if(he.routeConfig!==N.routeConfig)return!1;const ce=he.params,Xe=N.params,En=Object.keys(ce),Cr=Object.keys(Xe);if(En.length!==Cr.length)return!1;for(const Ur of En)if(Xe[Ur]!==ce[Ur])return!1;return!0}}const Ho=(k,he,N)=>()=>{if(he.defaultView&&typeof window<"u"){(0,pt.s)({...k,_zoneGate:En=>N.run(En)});const Xe="__zone_symbol__addEventListener"in he.body?"__zone_symbol__addEventListener":"addEventListener";return function Ht(){var k=[];if(typeof window<"u"){var he=window;(!he.customElements||he.Element&&(!he.Element.prototype.closest||!he.Element.prototype.matches||!he.Element.prototype.remove||!he.Element.prototype.getRootNode))&&k.push(H.e(6748).then(H.t.bind(H,723,23))),("function"!=typeof Object.assign||!Object.entries||!Array.prototype.find||!Array.prototype.includes||!String.prototype.startsWith||!String.prototype.endsWith||he.NodeList&&!he.NodeList.prototype.forEach||!he.fetch||!function(){try{var ce=new URL("b","http://a");return ce.pathname="c%20d","http://a/c%20d"===ce.href&&ce.searchParams}catch{return!1}}()||typeof WeakMap>"u")&&k.push(H.e(2214).then(H.t.bind(H,4144,23)))}return Promise.all(k)}().then(()=>((k,he)=>typeof window>"u"?Promise.resolve():(0,dt.p)().then(()=>(Ct(),(0,dt.b)(JSON.parse('[["ion-menu_3",[[33,"ion-menu-button",{"color":[513],"disabled":[4],"menu":[1],"autoHide":[4,"auto-hide"],"type":[1],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]],[33,"ion-menu",{"contentId":[513,"content-id"],"menuId":[513,"menu-id"],"type":[1025],"disabled":[1028],"side":[513],"swipeGesture":[4,"swipe-gesture"],"maxEdgeStart":[2,"max-edge-start"],"isPaneVisible":[32],"isEndSide":[32],"isOpen":[64],"isActive":[64],"open":[64],"close":[64],"toggle":[64],"setOpen":[64]},[[16,"ionSplitPaneVisible","onSplitPaneChanged"],[2,"click","onBackdropClick"],[0,"keydown","onKeydown"]]],[1,"ion-menu-toggle",{"menu":[1],"autoHide":[4,"auto-hide"],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]]]],["ion-fab_3",[[33,"ion-fab-button",{"color":[513],"activated":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1],"show":[4],"translucent":[4],"type":[1],"size":[1],"closeIcon":[1,"close-icon"]}],[1,"ion-fab",{"horizontal":[1],"vertical":[1],"edge":[4],"activated":[1028],"close":[64],"toggle":[64]}],[1,"ion-fab-list",{"activated":[4],"side":[1]}]]],["ion-refresher_2",[[0,"ion-refresher-content",{"pullingIcon":[1025,"pulling-icon"],"pullingText":[1,"pulling-text"],"refreshingSpinner":[1025,"refreshing-spinner"],"refreshingText":[1,"refreshing-text"]}],[32,"ion-refresher",{"pullMin":[2,"pull-min"],"pullMax":[2,"pull-max"],"closeDuration":[1,"close-duration"],"snapbackDuration":[1,"snapback-duration"],"pullFactor":[2,"pull-factor"],"disabled":[4],"nativeRefresher":[32],"state":[32],"complete":[64],"cancel":[64],"getProgress":[64]}]]],["ion-back-button",[[33,"ion-back-button",{"color":[513],"defaultHref":[1025,"default-href"],"disabled":[516],"icon":[1],"text":[1],"type":[1],"routerAnimation":[16]}]]],["ion-toast",[[33,"ion-toast",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"color":[513],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"duration":[2],"header":[1],"layout":[1],"message":[1],"keyboardClose":[4,"keyboard-close"],"position":[1],"buttons":[16],"translucent":[4],"animated":[4],"icon":[1],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"revealContentToScreenReader":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-card_5",[[33,"ion-card",{"color":[513],"button":[4],"type":[1],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}],[32,"ion-card-content"],[33,"ion-card-header",{"color":[513],"translucent":[4]}],[33,"ion-card-subtitle",{"color":[513]}],[33,"ion-card-title",{"color":[513]}]]],["ion-item-option_3",[[33,"ion-item-option",{"color":[513],"disabled":[4],"download":[1],"expandable":[4],"href":[1],"rel":[1],"target":[1],"type":[1]}],[32,"ion-item-options",{"side":[1],"fireSwipeEvent":[64]}],[0,"ion-item-sliding",{"disabled":[4],"state":[32],"getOpenAmount":[64],"getSlidingRatio":[64],"open":[64],"close":[64],"closeOpened":[64]}]]],["ion-accordion_2",[[49,"ion-accordion",{"value":[1],"disabled":[4],"readonly":[4],"toggleIcon":[1,"toggle-icon"],"toggleIconSlot":[1,"toggle-icon-slot"],"state":[32],"isNext":[32],"isPrevious":[32]}],[33,"ion-accordion-group",{"animated":[4],"multiple":[4],"value":[1025],"disabled":[4],"readonly":[4],"expand":[1],"requestAccordionToggle":[64],"getAccordions":[64]},[[0,"keydown","onKeydown"]]]]],["ion-infinite-scroll_2",[[32,"ion-infinite-scroll-content",{"loadingSpinner":[1025,"loading-spinner"],"loadingText":[1,"loading-text"]}],[0,"ion-infinite-scroll",{"threshold":[1],"disabled":[4],"position":[1],"isLoading":[32],"complete":[64]}]]],["ion-reorder_2",[[33,"ion-reorder",null,[[2,"click","onClick"]]],[0,"ion-reorder-group",{"disabled":[4],"state":[32],"complete":[64]}]]],["ion-segment_2",[[33,"ion-segment-button",{"disabled":[1028],"layout":[1],"type":[1],"value":[1],"checked":[32],"setFocus":[64]}],[33,"ion-segment",{"color":[513],"disabled":[4],"scrollable":[4],"swipeGesture":[4,"swipe-gesture"],"value":[1025],"selectOnFocus":[4,"select-on-focus"],"activated":[32]},[[0,"keydown","onKeyDown"]]]]],["ion-tab-bar_2",[[33,"ion-tab-button",{"disabled":[4],"download":[1],"href":[1],"rel":[1],"layout":[1025],"selected":[1028],"tab":[1],"target":[1]},[[8,"ionTabBarChanged","onTabBarChanged"]]],[33,"ion-tab-bar",{"color":[513],"selectedTab":[1,"selected-tab"],"translucent":[4],"keyboardVisible":[32]}]]],["ion-chip",[[1,"ion-chip",{"color":[513],"outline":[4],"disabled":[4]}]]],["ion-datetime-button",[[33,"ion-datetime-button",{"color":[513],"disabled":[516],"datetime":[1],"datetimePresentation":[32],"dateText":[32],"timeText":[32],"datetimeActive":[32],"selectedButton":[32]}]]],["ion-input",[[34,"ion-input",{"color":[513],"accept":[1],"autocapitalize":[1],"autocomplete":[1],"autocorrect":[1],"autofocus":[4],"clearInput":[4,"clear-input"],"clearOnEdit":[4,"clear-on-edit"],"counter":[4],"counterFormatter":[16],"debounce":[2],"disabled":[4],"enterkeyhint":[1],"errorText":[1,"error-text"],"fill":[1],"inputmode":[1],"helperText":[1,"helper-text"],"label":[1],"labelPlacement":[1,"label-placement"],"legacy":[4],"max":[8],"maxlength":[2],"min":[8],"minlength":[2],"multiple":[4],"name":[1],"pattern":[1],"placeholder":[1],"readonly":[4],"required":[4],"shape":[1],"spellcheck":[4],"step":[1],"size":[2],"type":[1],"value":[1032],"hasFocus":[32],"setFocus":[64],"getInputElement":[64]}]]],["ion-searchbar",[[34,"ion-searchbar",{"color":[513],"animated":[4],"autocomplete":[1],"autocorrect":[1],"cancelButtonIcon":[1,"cancel-button-icon"],"cancelButtonText":[1,"cancel-button-text"],"clearIcon":[1,"clear-icon"],"debounce":[2],"disabled":[4],"inputmode":[1],"enterkeyhint":[1],"placeholder":[1],"searchIcon":[1,"search-icon"],"showCancelButton":[1,"show-cancel-button"],"showClearButton":[1,"show-clear-button"],"spellcheck":[4],"type":[1],"value":[1025],"focused":[32],"noAnimate":[32],"setFocus":[64],"getInputElement":[64]}]]],["ion-toggle",[[33,"ion-toggle",{"color":[513],"name":[1],"checked":[1028],"disabled":[4],"value":[1],"enableOnOffLabels":[4,"enable-on-off-labels"],"labelPlacement":[1,"label-placement"],"legacy":[4],"justify":[1],"activated":[32]}]]],["ion-nav_2",[[1,"ion-nav",{"delegate":[16],"swipeGesture":[1028,"swipe-gesture"],"animated":[4],"animation":[16],"rootParams":[16],"root":[1],"push":[64],"insert":[64],"insertPages":[64],"pop":[64],"popTo":[64],"popToRoot":[64],"removeIndex":[64],"setRoot":[64],"setPages":[64],"setRouteId":[64],"getRouteId":[64],"getActive":[64],"getByIndex":[64],"canGoBack":[64],"getPrevious":[64]}],[0,"ion-nav-link",{"component":[1],"componentProps":[16],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}]]],["ion-textarea",[[34,"ion-textarea",{"color":[513],"autocapitalize":[1],"autofocus":[4],"clearOnEdit":[4,"clear-on-edit"],"debounce":[2],"disabled":[4],"fill":[1],"inputmode":[1],"enterkeyhint":[1],"maxlength":[2],"minlength":[2],"name":[1],"placeholder":[1],"readonly":[4],"required":[4],"spellcheck":[4],"cols":[2],"rows":[2],"wrap":[1],"autoGrow":[516,"auto-grow"],"value":[1025],"counter":[4],"counterFormatter":[16],"errorText":[1,"error-text"],"helperText":[1,"helper-text"],"label":[1],"labelPlacement":[1,"label-placement"],"legacy":[4],"shape":[1],"hasFocus":[32],"setFocus":[64],"getInputElement":[64]}]]],["ion-backdrop",[[33,"ion-backdrop",{"visible":[4],"tappable":[4],"stopPropagation":[4,"stop-propagation"]},[[2,"click","onMouseDown"]]]]],["ion-loading",[[34,"ion-loading",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"message":[1],"cssClass":[1,"css-class"],"duration":[2],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"spinner":[1025],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-breadcrumb_2",[[33,"ion-breadcrumb",{"collapsed":[4],"last":[4],"showCollapsedIndicator":[4,"show-collapsed-indicator"],"color":[1],"active":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"separator":[4],"target":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}],[33,"ion-breadcrumbs",{"color":[513],"maxItems":[2,"max-items"],"itemsBeforeCollapse":[2,"items-before-collapse"],"itemsAfterCollapse":[2,"items-after-collapse"],"collapsed":[32],"activeChanged":[32]},[[0,"collapsedClick","onCollapsedClick"]]]]],["ion-modal",[[33,"ion-modal",{"hasController":[4,"has-controller"],"overlayIndex":[2,"overlay-index"],"delegate":[16],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"breakpoints":[16],"initialBreakpoint":[2,"initial-breakpoint"],"backdropBreakpoint":[2,"backdrop-breakpoint"],"handle":[4],"handleBehavior":[1,"handle-behavior"],"component":[1],"componentProps":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"animated":[4],"presentingElement":[16],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"keepContentsMounted":[4,"keep-contents-mounted"],"canDismiss":[4,"can-dismiss"],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"setCurrentBreakpoint":[64],"getCurrentBreakpoint":[64]}]]],["ion-route_4",[[0,"ion-route",{"url":[1],"component":[1],"componentProps":[16],"beforeLeave":[16],"beforeEnter":[16]}],[0,"ion-route-redirect",{"from":[1],"to":[1]}],[0,"ion-router",{"root":[1],"useHash":[4,"use-hash"],"canTransition":[64],"push":[64],"back":[64],"printDebug":[64],"navChanged":[64]},[[8,"popstate","onPopState"],[4,"ionBackButton","onBackButton"]]],[1,"ion-router-link",{"color":[513],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}]]],["ion-avatar_3",[[33,"ion-avatar"],[33,"ion-badge",{"color":[513]}],[1,"ion-thumbnail"]]],["ion-col_3",[[1,"ion-col",{"offset":[1],"offsetXs":[1,"offset-xs"],"offsetSm":[1,"offset-sm"],"offsetMd":[1,"offset-md"],"offsetLg":[1,"offset-lg"],"offsetXl":[1,"offset-xl"],"pull":[1],"pullXs":[1,"pull-xs"],"pullSm":[1,"pull-sm"],"pullMd":[1,"pull-md"],"pullLg":[1,"pull-lg"],"pullXl":[1,"pull-xl"],"push":[1],"pushXs":[1,"push-xs"],"pushSm":[1,"push-sm"],"pushMd":[1,"push-md"],"pushLg":[1,"push-lg"],"pushXl":[1,"push-xl"],"size":[1],"sizeXs":[1,"size-xs"],"sizeSm":[1,"size-sm"],"sizeMd":[1,"size-md"],"sizeLg":[1,"size-lg"],"sizeXl":[1,"size-xl"]},[[9,"resize","onResize"]]],[1,"ion-grid",{"fixed":[4]}],[1,"ion-row"]]],["ion-tab_2",[[1,"ion-tab",{"active":[1028],"delegate":[16],"tab":[1],"component":[1],"setActive":[64]}],[1,"ion-tabs",{"useRouter":[1028,"use-router"],"selectedTab":[32],"select":[64],"getTab":[64],"getSelected":[64],"setRouteId":[64],"getRouteId":[64]}]]],["ion-img",[[1,"ion-img",{"alt":[1],"src":[1],"loadSrc":[32],"loadError":[32]}]]],["ion-progress-bar",[[33,"ion-progress-bar",{"type":[1],"reversed":[4],"value":[2],"buffer":[2],"color":[513]}]]],["ion-range",[[33,"ion-range",{"color":[513],"debounce":[2],"name":[1],"dualKnobs":[4,"dual-knobs"],"min":[2],"max":[2],"pin":[4],"pinFormatter":[16],"snaps":[4],"step":[2],"ticks":[4],"activeBarStart":[1026,"active-bar-start"],"disabled":[4],"value":[1026],"labelPlacement":[1,"label-placement"],"legacy":[4],"ratioA":[32],"ratioB":[32],"pressedKnob":[32]}]]],["ion-split-pane",[[33,"ion-split-pane",{"contentId":[513,"content-id"],"disabled":[4],"when":[8],"visible":[32]}]]],["ion-text",[[1,"ion-text",{"color":[513]}]]],["ion-item_8",[[33,"ion-item-divider",{"color":[513],"sticky":[4]}],[32,"ion-item-group"],[1,"ion-skeleton-text",{"animated":[4]}],[32,"ion-list",{"lines":[1],"inset":[4],"closeSlidingItems":[64]}],[33,"ion-list-header",{"color":[513],"lines":[1]}],[49,"ion-item",{"color":[513],"button":[4],"detail":[4],"detailIcon":[1,"detail-icon"],"disabled":[4],"download":[1],"fill":[1],"shape":[1],"href":[1],"rel":[1],"lines":[1],"counter":[4],"routerAnimation":[16],"routerDirection":[1,"router-direction"],"target":[1],"type":[1],"counterFormatter":[16],"multipleInputs":[32],"focusable":[32],"counterString":[32]},[[0,"ionInput","handleIonInput"],[0,"ionColor","labelColorChanged"],[0,"ionStyle","itemStyle"]]],[34,"ion-label",{"color":[513],"position":[1],"noAnimate":[32]}],[33,"ion-note",{"color":[513]}]]],["ion-select_3",[[33,"ion-select",{"cancelText":[1,"cancel-text"],"color":[513],"compareWith":[1,"compare-with"],"disabled":[4],"fill":[1],"interface":[1],"interfaceOptions":[8,"interface-options"],"justify":[1],"label":[1],"labelPlacement":[1,"label-placement"],"legacy":[4],"multiple":[4],"name":[1],"okText":[1,"ok-text"],"placeholder":[1],"selectedText":[1,"selected-text"],"shape":[1],"value":[1032],"isExpanded":[32],"open":[64]}],[1,"ion-select-option",{"disabled":[4],"value":[8]}],[34,"ion-select-popover",{"header":[1],"subHeader":[1,"sub-header"],"message":[1],"multiple":[4],"options":[16]}]]],["ion-picker-internal",[[33,"ion-picker-internal",{"exitInputMode":[64]},[[1,"touchstart","preventTouchStartPropagation"]]]]],["ion-datetime_3",[[33,"ion-datetime",{"color":[1],"name":[1],"disabled":[4],"readonly":[4],"isDateEnabled":[16],"min":[1025],"max":[1025],"presentation":[1],"cancelText":[1,"cancel-text"],"doneText":[1,"done-text"],"clearText":[1,"clear-text"],"yearValues":[8,"year-values"],"monthValues":[8,"month-values"],"dayValues":[8,"day-values"],"hourValues":[8,"hour-values"],"minuteValues":[8,"minute-values"],"locale":[1],"firstDayOfWeek":[2,"first-day-of-week"],"titleSelectedDatesFormatter":[16],"multiple":[4],"highlightedDates":[16],"value":[1025],"showDefaultTitle":[4,"show-default-title"],"showDefaultButtons":[4,"show-default-buttons"],"showClearButton":[4,"show-clear-button"],"showDefaultTimeLabel":[4,"show-default-time-label"],"hourCycle":[1,"hour-cycle"],"size":[1],"preferWheel":[4,"prefer-wheel"],"showMonthAndYear":[32],"activeParts":[32],"workingParts":[32],"isPresented":[32],"isTimePopoverOpen":[32],"confirm":[64],"reset":[64],"cancel":[64]}],[34,"ion-picker",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"columns":[16],"cssClass":[1,"css-class"],"duration":[2],"showBackdrop":[4,"show-backdrop"],"backdropDismiss":[4,"backdrop-dismiss"],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"getColumn":[64]}],[32,"ion-picker-column",{"col":[16]}]]],["ion-radio_2",[[33,"ion-radio",{"color":[513],"name":[1],"disabled":[4],"value":[8],"labelPlacement":[1,"label-placement"],"legacy":[4],"justify":[1],"checked":[32],"buttonTabindex":[32],"setFocus":[64],"setButtonTabindex":[64]}],[0,"ion-radio-group",{"allowEmptySelection":[4,"allow-empty-selection"],"name":[1],"value":[1032]},[[4,"keydown","onKeydown"]]]]],["ion-ripple-effect",[[1,"ion-ripple-effect",{"type":[1],"addRipple":[64]}]]],["ion-button_2",[[33,"ion-button",{"color":[513],"buttonType":[1025,"button-type"],"disabled":[516],"expand":[513],"fill":[1537],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"download":[1],"href":[1],"rel":[1],"shape":[513],"size":[513],"strong":[4],"target":[1],"type":[1],"form":[1]}],[1,"ion-icon",{"mode":[1025],"color":[1],"ios":[1],"md":[1],"flipRtl":[4,"flip-rtl"],"name":[513],"src":[1],"icon":[8],"size":[1],"lazy":[4],"sanitize":[4],"svgContent":[32],"isVisible":[32]}]]],["ion-action-sheet",[[34,"ion-action-sheet",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"header":[1],"subHeader":[1,"sub-header"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-alert",[[34,"ion-alert",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"header":[1],"subHeader":[1,"sub-header"],"message":[1],"buttons":[16],"inputs":[1040],"backdropDismiss":[4,"backdrop-dismiss"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},[[4,"keydown","onKeydown"]]]]],["ion-app_8",[[0,"ion-app",{"setFocus":[64]}],[1,"ion-content",{"color":[513],"fullscreen":[4],"forceOverscroll":[1028,"force-overscroll"],"scrollX":[4,"scroll-x"],"scrollY":[4,"scroll-y"],"scrollEvents":[4,"scroll-events"],"getScrollElement":[64],"getBackgroundElement":[64],"scrollToTop":[64],"scrollToBottom":[64],"scrollByPoint":[64],"scrollToPoint":[64]},[[8,"appload","onAppLoad"],[9,"resize","onResize"]]],[36,"ion-footer",{"collapse":[1],"translucent":[4],"keyboardVisible":[32]}],[36,"ion-header",{"collapse":[1],"translucent":[4]}],[1,"ion-router-outlet",{"mode":[1025],"delegate":[16],"animated":[4],"animation":[16],"swipeHandler":[16],"commit":[64],"setRouteId":[64],"getRouteId":[64]}],[33,"ion-title",{"color":[513],"size":[1]}],[33,"ion-toolbar",{"color":[513]},[[0,"ionStyle","childrenStyle"]]],[34,"ion-buttons",{"collapse":[4]}]]],["ion-picker-column-internal",[[33,"ion-picker-column-internal",{"items":[16],"value":[1032],"color":[513],"numericInput":[4,"numeric-input"],"isActive":[32],"scrollActiveItemIntoView":[64],"setValue":[64]}]]],["ion-popover",[[33,"ion-popover",{"hasController":[4,"has-controller"],"delegate":[16],"overlayIndex":[2,"overlay-index"],"enterAnimation":[16],"leaveAnimation":[16],"component":[1],"componentProps":[16],"keyboardClose":[4,"keyboard-close"],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"event":[8],"showBackdrop":[4,"show-backdrop"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"triggerAction":[1,"trigger-action"],"trigger":[1],"size":[1],"dismissOnSelect":[4,"dismiss-on-select"],"reference":[1],"side":[1],"alignment":[1025],"arrow":[4],"isOpen":[4,"is-open"],"keyboardEvents":[4,"keyboard-events"],"keepContentsMounted":[4,"keep-contents-mounted"],"presented":[32],"presentFromTrigger":[64],"present":[64],"dismiss":[64],"getParentPopover":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-checkbox",[[33,"ion-checkbox",{"color":[513],"name":[1],"checked":[1028],"indeterminate":[1028],"disabled":[4],"value":[8],"labelPlacement":[1,"label-placement"],"justify":[1],"legacy":[4]}]]],["ion-spinner",[[1,"ion-spinner",{"color":[513],"duration":[2],"name":[1],"paused":[4]}]]]]'),he))))(0,{exclude:["ion-tabs","ion-tab"],syncQueue:!0,raf:ct,jmp:En=>N.runOutsideAngular(En),ael(En,Cr,Ur,yi){En[Xe](Cr,Ur,yi)},rel(En,Cr,Ur,yi){En.removeEventListener(Cr,Ur,yi)}}))}};let Wo=(()=>{class k{static forRoot(N){return{ngModule:k,providers:[{provide:Vn,useValue:N},{provide:_.ip1,useFactory:Ho,multi:!0,deps:[Vn,nt.K0,_.R0b]}]}}}return k.\u0275fac=function(N){return new(N||k)},k.\u0275mod=_.oAB({type:k}),k.\u0275inj=_.cJS({providers:[ks,mo,To],imports:[nt.ez]}),k})()},3192:(Kn,Rt,H)=>{"use strict";H.d(Rt,{kL:()=>ms,zX:()=>Yi});var h=H(1086);class _{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(y,d,m,E){const M=d.duration;d.listeners[E].forEach(B=>B({chart:y,initial:d.initial,numSteps:M,currentStep:Math.min(m-d.start,M)}))}_refresh(){this._request||(this._running=!0,this._request=h.r.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(y=Date.now()){let d=0;this._charts.forEach((m,E)=>{if(!m.running||!m.items.length)return;const b=m.items;let W,M=b.length-1,B=!1;for(;M>=0;--M)W=b[M],W._active?(W._total>m.duration&&(m.duration=W._total),W.tick(y),B=!0):(b[M]=b[b.length-1],b.pop());B&&(E.draw(),this._notify(E,m,y,"progress")),b.length||(m.running=!1,this._notify(E,m,y,"complete"),m.initial=!1),d+=b.length}),this._lastDate=y,0===d&&(this._running=!1)}_getAnims(y){const d=this._charts;let m=d.get(y);return m||(m={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},d.set(y,m)),m}listen(y,d,m){this._getAnims(y).listeners[d].push(m)}add(y,d){!d||!d.length||this._getAnims(y).items.push(...d)}has(y){return this._getAnims(y).items.length>0}start(y){const d=this._charts.get(y);d&&(d.running=!0,d.start=Date.now(),d.duration=d.items.reduce((m,E)=>Math.max(m,E._duration),0),this._refresh())}running(y){if(!this._running)return!1;const d=this._charts.get(y);return!(!d||!d.running||!d.items.length)}stop(y){const d=this._charts.get(y);if(!d||!d.items.length)return;const m=d.items;let E=m.length-1;for(;E>=0;--E)m[E].cancel();d.items=[],this._notify(y,d,Date.now(),"complete")}remove(y){return this._charts.delete(y)}}var _e=new _;const Oe="transparent",Ze={boolean:(C,y,d)=>d>.5?y:C,color(C,y,d){const m=(0,h.c)(C||Oe),E=m.valid&&(0,h.c)(y||Oe);return E&&E.valid?E.mix(m,d).hexString():y},number:(C,y,d)=>C+(y-C)*d};class Ge{constructor(y,d,m,E){const b=d[m];E=(0,h.a)([y.to,E,b,y.from]);const M=(0,h.a)([y.from,b,E]);this._active=!0,this._fn=y.fn||Ze[y.type||typeof M],this._easing=h.e[y.easing]||h.e.linear,this._start=Math.floor(Date.now()+(y.delay||0)),this._duration=this._total=Math.floor(y.duration),this._loop=!!y.loop,this._target=d,this._prop=m,this._from=M,this._to=E,this._promises=void 0}active(){return this._active}update(y,d,m){if(this._active){this._notify(!1);const E=this._target[this._prop],b=m-this._start,M=this._duration-b;this._start=m,this._duration=Math.floor(Math.max(M,y.duration)),this._total+=b,this._loop=!!y.loop,this._to=(0,h.a)([y.to,d,E,y.from]),this._from=(0,h.a)([y.from,E,d])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(y){const d=y-this._start,m=this._duration,E=this._prop,b=this._from,M=this._loop,B=this._to;let W;if(this._active=b!==B&&(M||d<m),!this._active)return this._target[E]=B,void this._notify(!0);d<0?this._target[E]=b:(W=d/m%2,W=M&&W>1?2-W:W,W=this._easing(Math.min(1,Math.max(0,W))),this._target[E]=this._fn(b,B,W))}wait(){const y=this._promises||(this._promises=[]);return new Promise((d,m)=>{y.push({res:d,rej:m})})}_notify(y){const d=y?"res":"rej",m=this._promises||[];for(let E=0;E<m.length;E++)m[E][d]()}}class Se{constructor(y,d){this._chart=y,this._properties=new Map,this.configure(d)}configure(y){if(!(0,h.i)(y))return;const d=Object.keys(h.d.animation),m=this._properties;Object.getOwnPropertyNames(y).forEach(E=>{const b=y[E];if(!(0,h.i)(b))return;const M={};for(const B of d)M[B]=b[B];((0,h.b)(b.properties)&&b.properties||[E]).forEach(B=>{(B===E||!m.has(B))&&m.set(B,M)})})}_animateOptions(y,d){const m=d.options,E=function Qe(C,y){if(!y)return;let d=C.options;if(d)return d.$shared&&(C.options=d=Object.assign({},d,{$shared:!1,$animations:{}})),d;C.options=y}(y,m);if(!E)return[];const b=this._createAnimations(E,m);return m.$shared&&function Pe(C,y){const d=[],m=Object.keys(y);for(let E=0;E<m.length;E++){const b=C[m[E]];b&&b.active()&&d.push(b.wait())}return Promise.all(d)}(y.options.$animations,m).then(()=>{y.options=m},()=>{}),b}_createAnimations(y,d){const m=this._properties,E=[],b=y.$animations||(y.$animations={}),M=Object.keys(d),B=Date.now();let W;for(W=M.length-1;W>=0;--W){const ne=M[W];if("$"===ne.charAt(0))continue;if("options"===ne){E.push(...this._animateOptions(y,d));continue}const Ce=d[ne];let Ve=b[ne];const ht=m.get(ne);if(Ve){if(ht&&Ve.active()){Ve.update(ht,Ce,B);continue}Ve.cancel()}ht&&ht.duration?(b[ne]=Ve=new Ge(ht,y,ne,Ce),E.push(Ve)):y[ne]=Ce}return E}update(y,d){if(0===this._properties.size)return void Object.assign(y,d);const m=this._createAnimations(y,d);return m.length?(_e.add(this._chart,m),!0):void 0}}function Le(C,y){const d=C&&C.options||{},m=d.reverse,E=void 0===d.min?y:0,b=void 0===d.max?y:0;return{start:m?b:E,end:m?E:b}}function xe(C,y){const d=[],m=C._getSortedDatasetMetas(y);let E,b;for(E=0,b=m.length;E<b;++E)d.push(m[E].index);return d}function at(C,y,d,m={}){const E=C.keys,b="single"===m.mode;let M,B,W,ne;if(null!==y){for(M=0,B=E.length;M<B;++M){if(W=+E[M],W===d){if(m.all)continue;break}ne=C.values[W],(0,h.g)(ne)&&(b||0===y||(0,h.s)(y)===(0,h.s)(ne))&&(y+=ne)}return y}}function Vt(C,y){const d=C&&C.options.stacked;return d||void 0===d&&void 0!==y.stack}function kt(C,y,d){const m=C[y]||(C[y]={});return m[d]||(m[d]={})}function Mt(C,y,d,m){for(const E of y.getMatchingVisibleMetas(m).reverse()){const b=C[E.index];if(d&&b>0||!d&&b<0)return E.index}return null}function dt(C,y){const{chart:d,_cachedMeta:m}=C,E=d._stacks||(d._stacks={}),{iScale:b,vScale:M,index:B}=m,W=b.axis,ne=M.axis,Ce=function We(C,y,d){return`${C.id}.${y.id}.${d.stack||d.type}`}(b,M,m),Ve=y.length;let ht;for(let yt=0;yt<Ve;++yt){const zt=y[yt],{[W]:sn,[ne]:gn}=zt;ht=(zt._stacks||(zt._stacks={}))[ne]=kt(E,Ce,sn),ht[B]=gn,ht._top=Mt(ht,M,!0,m.type),ht._bottom=Mt(ht,M,!1,m.type),(ht._visualValues||(ht._visualValues={}))[B]=gn}}function It(C,y){const d=C.scales;return Object.keys(d).filter(m=>d[m].axis===y).shift()}function vt(C,y){const d=C.controller.index,m=C.vScale&&C.vScale.axis;if(m){y=y||C._parsed;for(const E of y){const b=E._stacks;if(!b||void 0===b[m]||void 0===b[m][d])return;delete b[m][d],void 0!==b[m]._visualValues&&void 0!==b[m]._visualValues[d]&&delete b[m]._visualValues[d]}}}const nt=C=>"reset"===C||"none"===C,Ht=(C,y)=>y?C:Object.assign({},C);let Nt=(()=>{class C{constructor(d,m){this.chart=d,this._ctx=d.ctx,this.index=m,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const d=this._cachedMeta;this.configure(),this.linkScales(),d._stacked=Vt(d.vScale,d),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(d){this.index!==d&&vt(this._cachedMeta),this.index=d}linkScales(){const d=this.chart,m=this._cachedMeta,E=this.getDataset(),b=(ht,yt,zt,sn)=>"x"===ht?yt:"r"===ht?sn:zt,M=m.xAxisID=(0,h.v)(E.xAxisID,It(d,"x")),B=m.yAxisID=(0,h.v)(E.yAxisID,It(d,"y")),W=m.rAxisID=(0,h.v)(E.rAxisID,It(d,"r")),ne=m.indexAxis,Ce=m.iAxisID=b(ne,M,B,W),Ve=m.vAxisID=b(ne,B,M,W);m.xScale=this.getScaleForId(M),m.yScale=this.getScaleForId(B),m.rScale=this.getScaleForId(W),m.iScale=this.getScaleForId(Ce),m.vScale=this.getScaleForId(Ve)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(d){return this.chart.scales[d]}_getOtherScale(d){const m=this._cachedMeta;return d===m.iScale?m.vScale:m.iScale}reset(){this._update("reset")}_destroy(){const d=this._cachedMeta;this._data&&(0,h.u)(this._data,this),d._stacked&&vt(d)}_dataCheck(){const d=this.getDataset(),m=d.data||(d.data=[]),E=this._data;if((0,h.i)(m))this._data=function pt(C){const y=Object.keys(C),d=new Array(y.length);let m,E,b;for(m=0,E=y.length;m<E;++m)b=y[m],d[m]={x:b,y:C[b]};return d}(m);else if(E!==m){if(E){(0,h.u)(E,this);const b=this._cachedMeta;vt(b),b._parsed=[]}m&&Object.isExtensible(m)&&(0,h.l)(m,this),this._syncList=[],this._data=m}}addElements(){const d=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(d.dataset=new this.datasetElementType)}buildOrUpdateElements(d){const m=this._cachedMeta,E=this.getDataset();let b=!1;this._dataCheck();const M=m._stacked;m._stacked=Vt(m.vScale,m),m.stack!==E.stack&&(b=!0,vt(m),m.stack=E.stack),this._resyncElements(d),(b||M!==m._stacked)&&dt(this,m._parsed)}configure(){const d=this.chart.config,m=d.datasetScopeKeys(this._type),E=d.getOptionScopes(this.getDataset(),m,!0);this.options=d.createResolver(E,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(d,m){const{_cachedMeta:E,_data:b}=this,{iScale:M,_stacked:B}=E,W=M.axis;let Ve,ht,yt,ne=0===d&&m===b.length||E._sorted,Ce=d>0&&E._parsed[d-1];if(!1===this._parsing)E._parsed=b,E._sorted=!0,yt=b;else{yt=(0,h.b)(b[d])?this.parseArrayData(E,b,d,m):(0,h.i)(b[d])?this.parseObjectData(E,b,d,m):this.parsePrimitiveData(E,b,d,m);const zt=()=>null===ht[W]||Ce&&ht[W]<Ce[W];for(Ve=0;Ve<m;++Ve)E._parsed[Ve+d]=ht=yt[Ve],ne&&(zt()&&(ne=!1),Ce=ht);E._sorted=ne}B&&dt(this,yt)}parsePrimitiveData(d,m,E,b){const{iScale:M,vScale:B}=d,W=M.axis,ne=B.axis,Ce=M.getLabels(),Ve=M===B,ht=new Array(b);let yt,zt,sn;for(yt=0,zt=b;yt<zt;++yt)sn=yt+E,ht[yt]={[W]:Ve||M.parse(Ce[sn],sn),[ne]:B.parse(m[sn],sn)};return ht}parseArrayData(d,m,E,b){const{xScale:M,yScale:B}=d,W=new Array(b);let ne,Ce,Ve,ht;for(ne=0,Ce=b;ne<Ce;++ne)Ve=ne+E,ht=m[Ve],W[ne]={x:M.parse(ht[0],Ve),y:B.parse(ht[1],Ve)};return W}parseObjectData(d,m,E,b){const{xScale:M,yScale:B}=d,{xAxisKey:W="x",yAxisKey:ne="y"}=this._parsing,Ce=new Array(b);let Ve,ht,yt,zt;for(Ve=0,ht=b;Ve<ht;++Ve)yt=Ve+E,zt=m[yt],Ce[Ve]={x:M.parse((0,h.f)(zt,W),yt),y:B.parse((0,h.f)(zt,ne),yt)};return Ce}getParsed(d){return this._cachedMeta._parsed[d]}getDataElement(d){return this._cachedMeta.data[d]}applyStack(d,m,E){const M=this._cachedMeta,B=m[d.axis];return at({keys:xe(this.chart,!0),values:m._stacks[d.axis]._visualValues},B,M.index,{mode:E})}updateRangeFromParsed(d,m,E,b){const M=E[m.axis];let B=null===M?NaN:M;const W=b&&E._stacks[m.axis];b&&W&&(b.values=W,B=at(b,M,this._cachedMeta.index)),d.min=Math.min(d.min,B),d.max=Math.max(d.max,B)}getMinMax(d,m){const E=this._cachedMeta,b=E._parsed,M=E._sorted&&d===E.iScale,B=b.length,W=this._getOtherScale(d),ne=((C,y,d)=>C&&!y.hidden&&y._stacked&&{keys:xe(this.chart,!0),values:null})(m,E),Ce={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:Ve,max:ht}=function $e(C){const{min:y,max:d,minDefined:m,maxDefined:E}=C.getUserBounds();return{min:m?y:Number.NEGATIVE_INFINITY,max:E?d:Number.POSITIVE_INFINITY}}(W);let yt,zt;function sn(){zt=b[yt];const gn=zt[W.axis];return!(0,h.g)(zt[d.axis])||Ve>gn||ht<gn}for(yt=0;yt<B&&(sn()||(this.updateRangeFromParsed(Ce,d,zt,ne),!M));++yt);if(M)for(yt=B-1;yt>=0;--yt)if(!sn()){this.updateRangeFromParsed(Ce,d,zt,ne);break}return Ce}getAllParsedValues(d){const m=this._cachedMeta._parsed,E=[];let b,M,B;for(b=0,M=m.length;b<M;++b)B=m[b][d.axis],(0,h.g)(B)&&E.push(B);return E}getMaxOverflow(){return!1}getLabelAndValue(d){const m=this._cachedMeta,E=m.iScale,b=m.vScale,M=this.getParsed(d);return{label:E?""+E.getLabelForValue(M[E.axis]):"",value:b?""+b.getLabelForValue(M[b.axis]):""}}_update(d){const m=this._cachedMeta;this.update(d||"default"),m._clip=function rt(C){let y,d,m,E;return(0,h.i)(C)?(y=C.top,d=C.right,m=C.bottom,E=C.left):y=d=m=E=C,{top:y,right:d,bottom:m,left:E,disabled:!1===C}}((0,h.v)(this.options.clip,function Me(C,y,d){if(!1===d)return!1;const m=Le(C,d),E=Le(y,d);return{top:E.end,right:m.end,bottom:E.start,left:m.start}}(m.xScale,m.yScale,this.getMaxOverflow())))}update(d){}draw(){const d=this._ctx,E=this._cachedMeta,b=E.data||[],M=this.chart.chartArea,B=[],W=this._drawStart||0,ne=this._drawCount||b.length-W,Ce=this.options.drawActiveElementsOnTop;let Ve;for(E.dataset&&E.dataset.draw(d,M,W,ne),Ve=W;Ve<W+ne;++Ve){const ht=b[Ve];ht.hidden||(ht.active&&Ce?B.push(ht):ht.draw(d,M))}for(Ve=0;Ve<B.length;++Ve)B[Ve].draw(d,M)}getStyle(d,m){const E=m?"active":"default";return void 0===d&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(E):this.resolveDataElementOptions(d||0,E)}getContext(d,m,E){const b=this.getDataset();let M;if(d>=0&&d<this._cachedMeta.data.length){const B=this._cachedMeta.data[d];M=B.$context||(B.$context=function wt(C,y,d){return(0,h.j)(C,{active:!1,dataIndex:y,parsed:void 0,raw:void 0,element:d,index:y,mode:"default",type:"data"})}(this.getContext(),d,B)),M.parsed=this.getParsed(d),M.raw=b.data[d],M.index=M.dataIndex=d}else M=this.$context||(this.$context=function Tt(C,y){return(0,h.j)(C,{active:!1,dataset:void 0,datasetIndex:y,index:y,mode:"default",type:"dataset"})}(this.chart.getContext(),this.index)),M.dataset=b,M.index=M.datasetIndex=this.index;return M.active=!!m,M.mode=E,M}resolveDatasetElementOptions(d){return this._resolveElementOptions(this.datasetElementType.id,d)}resolveDataElementOptions(d,m){return this._resolveElementOptions(this.dataElementType.id,m,d)}_resolveElementOptions(d,m="default",E){const b="active"===m,M=this._cachedDataOpts,B=d+"-"+m,W=M[B],ne=this.enableOptionSharing&&(0,h.h)(E);if(W)return Ht(W,ne);const Ce=this.chart.config,Ve=Ce.datasetElementScopeKeys(this._type,d),ht=b?[`${d}Hover`,"hover",d,""]:[d,""],yt=Ce.getOptionScopes(this.getDataset(),Ve),zt=Object.keys(h.d.elements[d]),gn=Ce.resolveNamedOptions(yt,zt,()=>this.getContext(E,b,m),ht);return gn.$shared&&(gn.$shared=ne,M[B]=Object.freeze(Ht(gn,ne))),gn}_resolveAnimations(d,m,E){const b=this.chart,M=this._cachedDataOpts,B=`animation-${m}`,W=M[B];if(W)return W;let ne;if(!1!==b.options.animation){const Ve=this.chart.config,ht=Ve.datasetAnimationScopeKeys(this._type,m),yt=Ve.getOptionScopes(this.getDataset(),ht);ne=Ve.createResolver(yt,this.getContext(d,E,m))}const Ce=new Se(b,ne&&ne.animations);return ne&&ne._cacheable&&(M[B]=Object.freeze(Ce)),Ce}getSharedOptions(d){if(d.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},d))}includeOptions(d,m){return!m||nt(d)||this.chart._animationsDisabled}_getSharedOptions(d,m){const E=this.resolveDataElementOptions(d,m),b=this._sharedOptions,M=this.getSharedOptions(E),B=this.includeOptions(m,M)||M!==b;return this.updateSharedOptions(M,m,E),{sharedOptions:M,includeOptions:B}}updateElement(d,m,E,b){nt(b)?Object.assign(d,E):this._resolveAnimations(m,b).update(d,E)}updateSharedOptions(d,m,E){d&&!nt(m)&&this._resolveAnimations(void 0,m).update(d,E)}_setStyle(d,m,E,b){d.active=b;const M=this.getStyle(m,b);this._resolveAnimations(m,E,b).update(d,{options:!b&&this.getSharedOptions(M)||M})}removeHoverStyle(d,m,E){this._setStyle(d,E,"active",!1)}setHoverStyle(d,m,E){this._setStyle(d,E,"active",!0)}_removeDatasetHoverStyle(){const d=this._cachedMeta.dataset;d&&this._setStyle(d,void 0,"active",!1)}_setDatasetHoverStyle(){const d=this._cachedMeta.dataset;d&&this._setStyle(d,void 0,"active",!0)}_resyncElements(d){const m=this._data,E=this._cachedMeta.data;for(const[W,ne,Ce]of this._syncList)this[W](ne,Ce);this._syncList=[];const b=E.length,M=m.length,B=Math.min(M,b);B&&this.parse(0,B),M>b?this._insertElements(b,M-b,d):M<b&&this._removeElements(M,b-M)}_insertElements(d,m,E=!0){const b=this._cachedMeta,M=b.data,B=d+m;let W;const ne=Ce=>{for(Ce.length+=m,W=Ce.length-1;W>=B;W--)Ce[W]=Ce[W-m]};for(ne(M),W=d;W<B;++W)M[W]=new this.dataElementType;this._parsing&&ne(b._parsed),this.parse(d,m),E&&this.updateElements(M,d,m,"reset")}updateElements(d,m,E,b){}_removeElements(d,m){const E=this._cachedMeta;if(this._parsing){const b=E._parsed.splice(d,m);E._stacked&&vt(E,b)}E.data.splice(d,m)}_sync(d){if(this._parsing)this._syncList.push(d);else{const[m,E,b]=d;this[m](E,b)}this.chart._dataChanges.push([this.index,...d])}_onDataPush(){const d=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-d,d])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(d,m){m&&this._sync(["_removeElements",d,m]);const E=arguments.length-2;E&&this._sync(["_insertElements",d,E])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}return C.defaults={},C.datasetElementType=null,C.dataElementType=null,C})();function Te(C){const y=C.iScale,d=function qt(C,y){if(!C._cache.$bar){const d=C.getMatchingVisibleMetas(y);let m=[];for(let E=0,b=d.length;E<b;E++)m=m.concat(d[E].controller.getAllParsedValues(C));C._cache.$bar=(0,h._)(m.sort((E,b)=>E-b))}return C._cache.$bar}(y,C.type);let E,b,M,B,m=y._length;const W=()=>{32767===M||-32768===M||((0,h.h)(B)&&(m=Math.min(m,Math.abs(M-B)||m)),B=M)};for(E=0,b=d.length;E<b;++E)M=y.getPixelForValue(d[E]),W();for(B=void 0,E=0,b=y.ticks.length;E<b;++E)M=y.getPixelForTick(E),W();return m}function Je(C,y,d,m){return(0,h.b)(C)?function mt(C,y,d,m){const E=d.parse(C[0],m),b=d.parse(C[1],m),M=Math.min(E,b),B=Math.max(E,b);let W=M,ne=B;Math.abs(M)>Math.abs(B)&&(W=B,ne=M),y[d.axis]=ne,y._custom={barStart:W,barEnd:ne,start:E,end:b,min:M,max:B}}(C,y,d,m):y[d.axis]=d.parse(C,m),y}function et(C,y,d,m){const E=C.iScale,b=C.vScale,M=E.getLabels(),B=E===b,W=[];let ne,Ce,Ve,ht;for(ne=d,Ce=d+m;ne<Ce;++ne)ht=y[ne],Ve={},Ve[E.axis]=B||E.parse(M[ne],ne),W.push(Je(ht,Ve,b,ne));return W}function ct(C){return C&&void 0!==C.barStart&&void 0!==C.barEnd}function Jt(C,y,d,m){let E=y.borderSkipped;const b={};if(!E)return void(C.borderSkipped=b);if(!0===E)return void(C.borderSkipped={top:!0,right:!0,bottom:!0,left:!0});const{start:M,end:B,reverse:W,top:ne,bottom:Ce}=function Pt(C){let y,d,m,E,b;return C.horizontal?(y=C.base>C.x,d="left",m="right"):(y=C.base<C.y,d="bottom",m="top"),y?(E="end",b="start"):(E="start",b="end"),{start:d,end:m,reverse:y,top:E,bottom:b}}(C);"middle"===E&&d&&(C.enableBorderRadius=!0,(d._top||0)===m?E=ne:(d._bottom||0)===m?E=Ce:(b[nn(Ce,M,B,W)]=!0,E=ne)),b[nn(E,M,B,W)]=!0,C.borderSkipped=b}function nn(C,y,d,m){return m?(C=function Nn(C,y,d){return C===y?d:C===d?y:C}(C,y,d),C=Qt(C,d,y)):C=Qt(C,y,d),C}function Qt(C,y,d){return"start"===C?y:"end"===C?d:C}function Et(C,{inflateAmount:y},d){C.inflateAmount="auto"===y?1===d?.33:0:y}let on=(()=>{class C extends Nt{parsePrimitiveData(d,m,E,b){return et(d,m,E,b)}parseArrayData(d,m,E,b){return et(d,m,E,b)}parseObjectData(d,m,E,b){const{iScale:M,vScale:B}=d,{xAxisKey:W="x",yAxisKey:ne="y"}=this._parsing,Ce="x"===M.axis?W:ne,Ve="x"===B.axis?W:ne,ht=[];let yt,zt,sn,gn;for(yt=E,zt=E+b;yt<zt;++yt)gn=m[yt],sn={},sn[M.axis]=M.parse((0,h.f)(gn,Ce),yt),ht.push(Je((0,h.f)(gn,Ve),sn,B,yt));return ht}updateRangeFromParsed(d,m,E,b){super.updateRangeFromParsed(d,m,E,b);const M=E._custom;M&&m===this._cachedMeta.vScale&&(d.min=Math.min(d.min,M.min),d.max=Math.max(d.max,M.max))}getMaxOverflow(){return 0}getLabelAndValue(d){const m=this._cachedMeta,{iScale:E,vScale:b}=m,M=this.getParsed(d),B=M._custom,W=ct(B)?"["+B.start+", "+B.end+"]":""+b.getLabelForValue(M[b.axis]);return{label:""+E.getLabelForValue(M[E.axis]),value:W}}initialize(){this.enableOptionSharing=!0,super.initialize(),this._cachedMeta.stack=this.getDataset().stack}update(d){const m=this._cachedMeta;this.updateElements(m.data,0,m.data.length,d)}updateElements(d,m,E,b){const M="reset"===b,{index:B,_cachedMeta:{vScale:W}}=this,ne=W.getBasePixel(),Ce=W.isHorizontal(),Ve=this._getRuler(),{sharedOptions:ht,includeOptions:yt}=this._getSharedOptions(m,b);for(let zt=m;zt<m+E;zt++){const sn=this.getParsed(zt),gn=M||(0,h.k)(sn[W.axis])?{base:ne,head:ne}:this._calculateBarValuePixels(zt),Bn=this._calculateBarIndexPixels(zt,Ve),xn=(sn._stacks||{})[W.axis],rr={horizontal:Ce,base:gn.base,enableBorderRadius:!xn||ct(sn._custom)||B===xn._top||B===xn._bottom,x:Ce?gn.head:Bn.center,y:Ce?Bn.center:gn.head,height:Ce?Bn.size:Math.abs(gn.size),width:Ce?Math.abs(gn.size):Bn.size};yt&&(rr.options=ht||this.resolveDataElementOptions(zt,d[zt].active?"active":b));const or=rr.options||d[zt].options;Jt(rr,or,xn,B),Et(rr,or,Ve.ratio),this.updateElement(d[zt],zt,rr,b)}}_getStacks(d,m){const{iScale:E}=this._cachedMeta,b=E.getMatchingVisibleMetas(this._type).filter(ne=>ne.controller.options.grouped),M=E.options.stacked,B=[],W=ne=>{const Ce=ne.controller.getParsed(m),Ve=Ce&&Ce[ne.vScale.axis];if((0,h.k)(Ve)||isNaN(Ve))return!0};for(const ne of b)if((void 0===m||!W(ne))&&((!1===M||-1===B.indexOf(ne.stack)||void 0===M&&void 0===ne.stack)&&B.push(ne.stack),ne.index===d))break;return B.length||B.push(void 0),B}_getStackCount(d){return this._getStacks(void 0,d).length}_getStackIndex(d,m,E){const b=this._getStacks(d,E),M=void 0!==m?b.indexOf(m):-1;return-1===M?b.length-1:M}_getRuler(){const d=this.options,m=this._cachedMeta,E=m.iScale,b=[];let M,B;for(M=0,B=m.data.length;M<B;++M)b.push(E.getPixelForValue(this.getParsed(M)[E.axis],M));const W=d.barThickness;return{min:W||Te(m),pixels:b,start:E._startPixel,end:E._endPixel,stackCount:this._getStackCount(),scale:E,grouped:d.grouped,ratio:W?1:d.categoryPercentage*d.barPercentage}}_calculateBarValuePixels(d){const{_cachedMeta:{vScale:m,_stacked:E,index:b},options:{base:M,minBarLength:B}}=this,W=M||0,ne=this.getParsed(d),Ce=ne._custom,Ve=ct(Ce);let sn,gn,ht=ne[m.axis],yt=0,zt=E?this.applyStack(m,ne,E):ht;zt!==ht&&(yt=zt-ht,zt=ht),Ve&&(ht=Ce.barStart,zt=Ce.barEnd-Ce.barStart,0!==ht&&(0,h.s)(ht)!==(0,h.s)(Ce.barEnd)&&(yt=0),yt+=ht);const Bn=(0,h.k)(M)||Ve?yt:M;let xn=m.getPixelForValue(Bn);if(sn=this.chart.getDataVisibility(d)?m.getPixelForValue(yt+zt):xn,gn=sn-xn,Math.abs(gn)<B){gn=function Ut(C,y,d){return 0!==C?(0,h.s)(C):(y.isHorizontal()?1:-1)*(y.min>=d?1:-1)}(gn,m,W)*B,ht===W&&(xn-=gn/2);const rr=m.getPixelForDecimal(0),or=m.getPixelForDecimal(1),Zn=Math.min(rr,or),ir=Math.max(rr,or);xn=Math.max(Math.min(xn,ir),Zn),sn=xn+gn,E&&!Ve&&(ne._stacks[m.axis]._visualValues[b]=m.getValueForPixel(sn)-m.getValueForPixel(xn))}if(xn===m.getPixelForValue(W)){const rr=(0,h.s)(gn)*m.getLineWidthForValue(W)/2;xn+=rr,gn-=rr}return{size:gn,base:xn,head:sn,center:sn+gn/2}}_calculateBarIndexPixels(d,m){const E=m.scale,b=this.options,M=b.skipNull,B=(0,h.v)(b.maxBarThickness,1/0);let W,ne;if(m.grouped){const Ce=M?this._getStackCount(d):m.stackCount,Ve="flex"===b.barThickness?function lt(C,y,d,m){const E=y.pixels,b=E[C];let M=C>0?E[C-1]:null,B=C<E.length-1?E[C+1]:null;const W=d.categoryPercentage;null===M&&(M=b-(null===B?y.end-y.start:B-b)),null===B&&(B=b+b-M);const ne=b-(b-Math.min(M,B))/2*W;return{chunk:Math.abs(B-M)/2*W/m,ratio:d.barPercentage,start:ne}}(d,m,b,Ce):function qe(C,y,d,m){const E=d.barThickness;let b,M;return(0,h.k)(E)?(b=y.min*d.categoryPercentage,M=d.barPercentage):(b=E*m,M=1),{chunk:b/m,ratio:M,start:y.pixels[C]-b/2}}(d,m,b,Ce),ht=this._getStackIndex(this.index,this._cachedMeta.stack,M?d:void 0);W=Ve.start+Ve.chunk*ht+Ve.chunk/2,ne=Math.min(B,Ve.chunk*Ve.ratio)}else W=E.getPixelForValue(this.getParsed(d)[E.axis],d),ne=Math.min(B,m.min*m.ratio);return{base:W-ne/2,head:W+ne/2,center:W,size:ne}}draw(){const d=this._cachedMeta,m=d.vScale,E=d.data,b=E.length;let M=0;for(;M<b;++M)null!==this.getParsed(M)[m.axis]&&E[M].draw(this._ctx)}}return C.id="bar",C.defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}},C.overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}},C})(),yn=(()=>{class C extends Nt{initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(d,m,E,b){const M=super.parsePrimitiveData(d,m,E,b);for(let B=0;B<M.length;B++)M[B]._custom=this.resolveDataElementOptions(B+E).radius;return M}parseArrayData(d,m,E,b){const M=super.parseArrayData(d,m,E,b);for(let B=0;B<M.length;B++)M[B]._custom=(0,h.v)(m[E+B][2],this.resolveDataElementOptions(B+E).radius);return M}parseObjectData(d,m,E,b){const M=super.parseObjectData(d,m,E,b);for(let B=0;B<M.length;B++){const W=m[E+B];M[B]._custom=(0,h.v)(W&&W.r&&+W.r,this.resolveDataElementOptions(B+E).radius)}return M}getMaxOverflow(){const d=this._cachedMeta.data;let m=0;for(let E=d.length-1;E>=0;--E)m=Math.max(m,d[E].size(this.resolveDataElementOptions(E))/2);return m>0&&m}getLabelAndValue(d){const m=this._cachedMeta,E=this.chart.data.labels||[],{xScale:b,yScale:M}=m,B=this.getParsed(d),W=b.getLabelForValue(B.x),ne=M.getLabelForValue(B.y),Ce=B._custom;return{label:E[d]||"",value:"("+W+", "+ne+(Ce?", "+Ce:"")+")"}}update(d){const m=this._cachedMeta.data;this.updateElements(m,0,m.length,d)}updateElements(d,m,E,b){const M="reset"===b,{iScale:B,vScale:W}=this._cachedMeta,{sharedOptions:ne,includeOptions:Ce}=this._getSharedOptions(m,b),Ve=B.axis,ht=W.axis;for(let yt=m;yt<m+E;yt++){const zt=d[yt],sn=!M&&this.getParsed(yt),gn={},Bn=gn[Ve]=M?B.getPixelForDecimal(.5):B.getPixelForValue(sn[Ve]),xn=gn[ht]=M?W.getBasePixel():W.getPixelForValue(sn[ht]);gn.skip=isNaN(Bn)||isNaN(xn),Ce&&(gn.options=ne||this.resolveDataElementOptions(yt,zt.active?"active":b),M&&(gn.options.radius=0)),this.updateElement(zt,yt,gn,b)}}resolveDataElementOptions(d,m){const E=this.getParsed(d);let b=super.resolveDataElementOptions(d,m);b.$shared&&(b=Object.assign({},b,{$shared:!1}));const M=b.radius;return"active"!==m&&(b.radius=0),b.radius+=(0,h.v)(E&&E._custom,M),b}}return C.id="bubble",C.defaults={datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}},C.overrides={scales:{x:{type:"linear"},y:{type:"linear"}}},C})(),ar=(()=>{class C extends Nt{constructor(d,m){super(d,m),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(d,m){const E=this.getDataset().data,b=this._cachedMeta;if(!1===this._parsing)b._parsed=E;else{let B,W,M=ne=>+E[ne];if((0,h.i)(E[d])){const{key:ne="value"}=this._parsing;M=Ce=>+(0,h.f)(E[Ce],ne)}for(B=d,W=d+m;B<W;++B)b._parsed[B]=M(B)}}_getRotation(){return(0,h.t)(this.options.rotation-90)}_getCircumference(){return(0,h.t)(this.options.circumference)}_getRotationExtents(){let d=h.T,m=-h.T;for(let E=0;E<this.chart.data.datasets.length;++E)if(this.chart.isDatasetVisible(E)&&this.chart.getDatasetMeta(E).type===this._type){const b=this.chart.getDatasetMeta(E).controller,M=b._getRotation(),B=b._getCircumference();d=Math.min(d,M),m=Math.max(m,M+B)}return{rotation:d,circumference:m-d}}update(d){const m=this.chart,{chartArea:E}=m,b=this._cachedMeta,M=b.data,B=this.getMaxBorderWidth()+this.getMaxOffset(M)+this.options.spacing,W=Math.max((Math.min(E.width,E.height)-B)/2,0),ne=Math.min((0,h.m)(this.options.cutout,W),1),Ce=this._getRingWeight(this.index),{circumference:Ve,rotation:ht}=this._getRotationExtents(),{ratioX:yt,ratioY:zt,offsetX:sn,offsetY:gn}=function Xn(C,y,d){let m=1,E=1,b=0,M=0;if(y<h.T){const B=C,W=B+y,ne=Math.cos(B),Ce=Math.sin(B),Ve=Math.cos(W),ht=Math.sin(W),yt=(rr,or,Zn)=>(0,h.p)(rr,B,W,!0)?1:Math.max(or,or*d,Zn,Zn*d),zt=(rr,or,Zn)=>(0,h.p)(rr,B,W,!0)?-1:Math.min(or,or*d,Zn,Zn*d),sn=yt(0,ne,Ve),gn=yt(h.H,Ce,ht),Bn=zt(h.P,ne,Ve),xn=zt(h.P+h.H,Ce,ht);m=(sn-Bn)/2,E=(gn-xn)/2,b=-(sn+Bn)/2,M=-(gn+xn)/2}return{ratioX:m,ratioY:E,offsetX:b,offsetY:M}}(ht,Ve,ne),rr=Math.max(Math.min((E.width-B)/yt,(E.height-B)/zt)/2,0),or=(0,h.n)(this.options.radius,rr),ir=(or-Math.max(or*ne,0))/this._getVisibleDatasetWeightTotal();this.offsetX=sn*or,this.offsetY=gn*or,b.total=this.calculateTotal(),this.outerRadius=or-ir*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-ir*Ce,0),this.updateElements(M,0,M.length,d)}_circumference(d,m){const E=this.options,b=this._cachedMeta,M=this._getCircumference();return m&&E.animation.animateRotate||!this.chart.getDataVisibility(d)||null===b._parsed[d]||b.data[d].hidden?0:this.calculateCircumference(b._parsed[d]*M/h.T)}updateElements(d,m,E,b){const M="reset"===b,B=this.chart,W=B.chartArea,Ve=(W.left+W.right)/2,ht=(W.top+W.bottom)/2,yt=M&&B.options.animation.animateScale,zt=yt?0:this.innerRadius,sn=yt?0:this.outerRadius,{sharedOptions:gn,includeOptions:Bn}=this._getSharedOptions(m,b);let rr,xn=this._getRotation();for(rr=0;rr<m;++rr)xn+=this._circumference(rr,M);for(rr=m;rr<m+E;++rr){const or=this._circumference(rr,M),Zn=d[rr],ir={x:Ve+this.offsetX,y:ht+this.offsetY,startAngle:xn,endAngle:xn+or,circumference:or,outerRadius:sn,innerRadius:zt};Bn&&(ir.options=gn||this.resolveDataElementOptions(rr,Zn.active?"active":b)),xn+=or,this.updateElement(Zn,rr,ir,b)}}calculateTotal(){const d=this._cachedMeta,m=d.data;let b,E=0;for(b=0;b<m.length;b++){const M=d._parsed[b];null!==M&&!isNaN(M)&&this.chart.getDataVisibility(b)&&!m[b].hidden&&(E+=Math.abs(M))}return E}calculateCircumference(d){const m=this._cachedMeta.total;return m>0&&!isNaN(d)?h.T*(Math.abs(d)/m):0}getLabelAndValue(d){const E=this.chart,b=E.data.labels||[],M=(0,h.o)(this._cachedMeta._parsed[d],E.options.locale);return{label:b[d]||"",value:M}}getMaxBorderWidth(d){let m=0;const E=this.chart;let b,M,B,W,ne;if(!d)for(b=0,M=E.data.datasets.length;b<M;++b)if(E.isDatasetVisible(b)){B=E.getDatasetMeta(b),d=B.data,W=B.controller;break}if(!d)return 0;for(b=0,M=d.length;b<M;++b)ne=W.resolveDataElementOptions(b),"inner"!==ne.borderAlign&&(m=Math.max(m,ne.borderWidth||0,ne.hoverBorderWidth||0));return m}getMaxOffset(d){let m=0;for(let E=0,b=d.length;E<b;++E){const M=this.resolveDataElementOptions(E);m=Math.max(m,M.offset||0,M.hoverOffset||0)}return m}_getRingWeightOffset(d){let m=0;for(let E=0;E<d;++E)this.chart.isDatasetVisible(E)&&(m+=this._getRingWeight(E));return m}_getRingWeight(d){return Math.max((0,h.v)(this.chart.data.datasets[d].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}return C.id="doughnut",C.defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"},C.descriptors={_scriptable:y=>"spacing"!==y,_indexable:y=>"spacing"!==y&&!y.startsWith("borderDash")&&!y.startsWith("hoverBorderDash")},C.overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(y){const d=y.data;if(d.labels.length&&d.datasets.length){const{labels:{pointStyle:m,color:E}}=y.legend.options;return d.labels.map((b,M)=>{const W=y.getDatasetMeta(0).controller.getStyle(M);return{text:b,fillStyle:W.backgroundColor,strokeStyle:W.borderColor,fontColor:E,lineWidth:W.borderWidth,pointStyle:m,hidden:!y.getDataVisibility(M),index:M}})}return[]}},onClick(y,d,m){m.chart.toggleDataVisibility(d.index),m.chart.update()}}}},C})(),lr=(()=>{class C extends Nt{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(d){const m=this._cachedMeta,{dataset:E,data:b=[],_dataset:M}=m,B=this.chart._animationsDisabled;let{start:W,count:ne}=(0,h.q)(m,b,B);this._drawStart=W,this._drawCount=ne,(0,h.w)(m)&&(W=0,ne=b.length),E._chart=this.chart,E._datasetIndex=this.index,E._decimated=!!M._decimated,E.points=b;const Ce=this.resolveDatasetElementOptions(d);this.options.showLine||(Ce.borderWidth=0),Ce.segment=this.options.segment,this.updateElement(E,void 0,{animated:!B,options:Ce},d),this.updateElements(b,W,ne,d)}updateElements(d,m,E,b){const M="reset"===b,{iScale:B,vScale:W,_stacked:ne,_dataset:Ce}=this._cachedMeta,{sharedOptions:Ve,includeOptions:ht}=this._getSharedOptions(m,b),yt=B.axis,zt=W.axis,{spanGaps:sn,segment:gn}=this.options,Bn=(0,h.x)(sn)?sn:Number.POSITIVE_INFINITY,xn=this.chart._animationsDisabled||M||"none"===b,rr=m+E,or=d.length;let Zn=m>0&&this.getParsed(m-1);for(let ir=0;ir<or;++ir){const sr=d[ir],Dr=xn?sr:{};if(ir<m||ir>=rr){Dr.skip=!0;continue}const ti=this.getParsed(ir),Ti=(0,h.k)(ti[zt]),vr=Dr[yt]=B.getPixelForValue(ti[yt],ir),ls=Dr[zt]=M||Ti?W.getBasePixel():W.getPixelForValue(ne?this.applyStack(W,ti,ne):ti[zt],ir);Dr.skip=isNaN(vr)||isNaN(ls)||Ti,Dr.stop=ir>0&&Math.abs(ti[yt]-Zn[yt])>Bn,gn&&(Dr.parsed=ti,Dr.raw=Ce.data[ir]),ht&&(Dr.options=Ve||this.resolveDataElementOptions(ir,sr.active?"active":b)),xn||this.updateElement(sr,ir,Dr,b),Zn=ti}}getMaxOverflow(){const d=this._cachedMeta,m=d.dataset,E=m.options&&m.options.borderWidth||0,b=d.data||[];if(!b.length)return E;const M=b[0].size(this.resolveDataElementOptions(0)),B=b[b.length-1].size(this.resolveDataElementOptions(b.length-1));return Math.max(E,M,B)/2}draw(){const d=this._cachedMeta;d.dataset.updateControlPoints(this.chart.chartArea,d.iScale.axis),super.draw()}}return C.id="line",C.defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1},C.overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}},C})(),un=(()=>{class C extends Nt{constructor(d,m){super(d,m),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(d){const E=this.chart,b=E.data.labels||[],M=(0,h.o)(this._cachedMeta._parsed[d].r,E.options.locale);return{label:b[d]||"",value:M}}parseObjectData(d,m,E,b){return h.y.bind(this)(d,m,E,b)}update(d){const m=this._cachedMeta.data;this._updateRadius(),this.updateElements(m,0,m.length,d)}getMinMax(){const m={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return this._cachedMeta.data.forEach((E,b)=>{const M=this.getParsed(b).r;!isNaN(M)&&this.chart.getDataVisibility(b)&&(M<m.min&&(m.min=M),M>m.max&&(m.max=M))}),m}_updateRadius(){const d=this.chart,m=d.chartArea,E=d.options,b=Math.min(m.right-m.left,m.bottom-m.top),M=Math.max(b/2,0),W=(M-Math.max(E.cutoutPercentage?M/100*E.cutoutPercentage:1,0))/d.getVisibleDatasetCount();this.outerRadius=M-W*this.index,this.innerRadius=this.outerRadius-W}updateElements(d,m,E,b){const M="reset"===b,B=this.chart,ne=B.options.animation,Ce=this._cachedMeta.rScale,Ve=Ce.xCenter,ht=Ce.yCenter,yt=Ce.getIndexAngle(0)-.5*h.P;let sn,zt=yt;const gn=360/this.countVisibleElements();for(sn=0;sn<m;++sn)zt+=this._computeAngle(sn,b,gn);for(sn=m;sn<m+E;sn++){const Bn=d[sn];let xn=zt,rr=zt+this._computeAngle(sn,b,gn),or=B.getDataVisibility(sn)?Ce.getDistanceFromCenterForValue(this.getParsed(sn).r):0;zt=rr,M&&(ne.animateScale&&(or=0),ne.animateRotate&&(xn=rr=yt));const Zn={x:Ve,y:ht,innerRadius:0,outerRadius:or,startAngle:xn,endAngle:rr,options:this.resolveDataElementOptions(sn,Bn.active?"active":b)};this.updateElement(Bn,sn,Zn,b)}}countVisibleElements(){let m=0;return this._cachedMeta.data.forEach((E,b)=>{!isNaN(this.getParsed(b).r)&&this.chart.getDataVisibility(b)&&m++}),m}_computeAngle(d,m,E){return this.chart.getDataVisibility(d)?(0,h.t)(this.resolveDataElementOptions(d,m).angle||E):0}}return C.id="polarArea",C.defaults={dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0},C.overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(y){const d=y.data;if(d.labels.length&&d.datasets.length){const{labels:{pointStyle:m,color:E}}=y.legend.options;return d.labels.map((b,M)=>{const W=y.getDatasetMeta(0).controller.getStyle(M);return{text:b,fillStyle:W.backgroundColor,strokeStyle:W.borderColor,fontColor:E,lineWidth:W.borderWidth,pointStyle:m,hidden:!y.getDataVisibility(M),index:M}})}return[]}},onClick(y,d,m){m.chart.toggleDataVisibility(d.index),m.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}},C})();var Vr=Object.freeze({__proto__:null,BarController:on,BubbleController:yn,DoughnutController:ar,LineController:lr,PieController:(()=>{class C extends ar{}return C.id="pie",C.defaults={cutout:0,rotation:0,circumference:360,radius:"100%"},C})(),PolarAreaController:un,RadarController:(()=>{class C extends Nt{getLabelAndValue(d){const m=this._cachedMeta.vScale,E=this.getParsed(d);return{label:m.getLabels()[d],value:""+m.getLabelForValue(E[m.axis])}}parseObjectData(d,m,E,b){return h.y.bind(this)(d,m,E,b)}update(d){const m=this._cachedMeta,E=m.dataset,b=m.data||[],M=m.iScale.getLabels();if(E.points=b,"resize"!==d){const B=this.resolveDatasetElementOptions(d);this.options.showLine||(B.borderWidth=0),this.updateElement(E,void 0,{_loop:!0,_fullLoop:M.length===b.length,options:B},d)}this.updateElements(b,0,b.length,d)}updateElements(d,m,E,b){const M=this._cachedMeta.rScale,B="reset"===b;for(let W=m;W<m+E;W++){const ne=d[W],Ce=this.resolveDataElementOptions(W,ne.active?"active":b),Ve=M.getPointPositionForValue(W,this.getParsed(W).r),ht=B?M.xCenter:Ve.x,yt=B?M.yCenter:Ve.y,zt={x:ht,y:yt,angle:Ve.angle,skip:isNaN(ht)||isNaN(yt),options:Ce};this.updateElement(ne,W,zt,b)}}}return C.id="radar",C.defaults={datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}},C.overrides={aspectRatio:1,scales:{r:{type:"radialLinear"}}},C})(),ScatterController:(()=>{class C extends Nt{getLabelAndValue(d){const m=this._cachedMeta,E=this.chart.data.labels||[],{xScale:b,yScale:M}=m,B=this.getParsed(d),W=b.getLabelForValue(B.x),ne=M.getLabelForValue(B.y);return{label:E[d]||"",value:"("+W+", "+ne+")"}}update(d){const m=this._cachedMeta,{data:E=[]}=m,b=this.chart._animationsDisabled;let{start:M,count:B}=(0,h.q)(m,E,b);if(this._drawStart=M,this._drawCount=B,(0,h.w)(m)&&(M=0,B=E.length),this.options.showLine){this.datasetElementType||this.addElements();const{dataset:W,_dataset:ne}=m;W._chart=this.chart,W._datasetIndex=this.index,W._decimated=!!ne._decimated,W.points=E;const Ce=this.resolveDatasetElementOptions(d);Ce.segment=this.options.segment,this.updateElement(W,void 0,{animated:!b,options:Ce},d)}else this.datasetElementType&&(delete m.dataset,this.datasetElementType=!1);this.updateElements(E,M,B,d)}addElements(){const{showLine:d}=this.options;!this.datasetElementType&&d&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(d,m,E,b){const M="reset"===b,{iScale:B,vScale:W,_stacked:ne,_dataset:Ce}=this._cachedMeta,Ve=this.resolveDataElementOptions(m,b),ht=this.getSharedOptions(Ve),yt=this.includeOptions(b,ht),zt=B.axis,sn=W.axis,{spanGaps:gn,segment:Bn}=this.options,xn=(0,h.x)(gn)?gn:Number.POSITIVE_INFINITY,rr=this.chart._animationsDisabled||M||"none"===b;let or=m>0&&this.getParsed(m-1);for(let Zn=m;Zn<m+E;++Zn){const ir=d[Zn],sr=this.getParsed(Zn),Dr=rr?ir:{},ti=(0,h.k)(sr[sn]),Ti=Dr[zt]=B.getPixelForValue(sr[zt],Zn),vr=Dr[sn]=M||ti?W.getBasePixel():W.getPixelForValue(ne?this.applyStack(W,sr,ne):sr[sn],Zn);Dr.skip=isNaN(Ti)||isNaN(vr)||ti,Dr.stop=Zn>0&&Math.abs(sr[zt]-or[zt])>xn,Bn&&(Dr.parsed=sr,Dr.raw=Ce.data[Zn]),yt&&(Dr.options=ht||this.resolveDataElementOptions(Zn,ir.active?"active":b)),rr||this.updateElement(ir,Zn,Dr,b),or=sr}this.updateSharedOptions(ht,b,Ve)}getMaxOverflow(){const d=this._cachedMeta,m=d.data||[];if(!this.options.showLine){let W=0;for(let ne=m.length-1;ne>=0;--ne)W=Math.max(W,m[ne].size(this.resolveDataElementOptions(ne))/2);return W>0&&W}const E=d.dataset,b=E.options&&E.options.borderWidth||0;if(!m.length)return b;const M=m[0].size(this.resolveDataElementOptions(0)),B=m[m.length-1].size(this.resolveDataElementOptions(m.length-1));return Math.max(b,M,B)/2}}return C.id="scatter",C.defaults={datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1},C.overrides={interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}},C})()});function Ar(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class Mn{static override(y){Object.assign(Mn.prototype,y)}constructor(y){this.options=void 0,this.options=y||{}}init(){}formats(){return Ar()}parse(){return Ar()}format(){return Ar()}add(){return Ar()}diff(){return Ar()}startOf(){return Ar()}endOf(){return Ar()}}var ni__date=Mn;function jr(C,y,d,m){const{controller:E,data:b,_sorted:M}=C,B=E._cachedMeta.iScale;if(B&&y===B.axis&&"r"!==y&&M&&b.length){const W=B._reversePixels?h.A:h.B;if(!m)return W(b,y,d);if(E._sharedOptions){const ne=b[0],Ce="function"==typeof ne.getRange&&ne.getRange(y);if(Ce){const Ve=W(b,y,d-Ce),ht=W(b,y,d+Ce);return{lo:Ve.lo,hi:ht.hi}}}}return{lo:0,hi:b.length-1}}function mr(C,y,d,m,E){const b=C.getSortedVisibleDatasetMetas(),M=d[y];for(let B=0,W=b.length;B<W;++B){const{index:ne,data:Ce}=b[B],{lo:Ve,hi:ht}=jr(b[B],y,M,E);for(let yt=Ve;yt<=ht;++yt){const zt=Ce[yt];zt.skip||m(zt,ne,yt)}}}function pi(C,y,d,m,E){const b=[];return!E&&!C.isPointInArea(y)||mr(C,d,y,function(B,W,ne){!E&&!(0,h.C)(B,C.chartArea,0)||B.inRange(y.x,y.y,m)&&b.push({element:B,datasetIndex:W,index:ne})},!0),b}function cr(C,y,d,m,E,b){return b||C.isPointInArea(y)?"r"!==d||m?function Qn(C,y,d,m,E,b){let M=[];const B=function vi(C){const y=-1!==C.indexOf("x"),d=-1!==C.indexOf("y");return function(m,E){const b=y?Math.abs(m.x-E.x):0,M=d?Math.abs(m.y-E.y):0;return Math.sqrt(Math.pow(b,2)+Math.pow(M,2))}}(d);let W=Number.POSITIVE_INFINITY;return mr(C,d,y,function ne(Ce,Ve,ht){const yt=Ce.inRange(y.x,y.y,E);if(m&&!yt)return;const zt=Ce.getCenterPoint(E);if(!b&&!C.isPointInArea(zt)&&!yt)return;const gn=B(y,zt);gn<W?(M=[{element:Ce,datasetIndex:Ve,index:ht}],W=gn):gn===W&&M.push({element:Ce,datasetIndex:Ve,index:ht})}),M}(C,y,d,m,E,b):function Jn(C,y,d,m){let E=[];return mr(C,d,y,function b(M,B,W){const{startAngle:ne,endAngle:Ce}=M.getProps(["startAngle","endAngle"],m),{angle:Ve}=(0,h.D)(M,{x:y.x,y:y.y});(0,h.p)(Ve,ne,Ce)&&E.push({element:M,datasetIndex:B,index:W})}),E}(C,y,d,E):[]}function ci(C,y,d,m,E){const b=[],M="x"===d?"inXRange":"inYRange";let B=!1;return mr(C,d,y,(W,ne,Ce)=>{W[M](y[d],E)&&(b.push({element:W,datasetIndex:ne,index:Ce}),B=B||W.inRange(y.x,y.y,E))}),m&&!B?[]:b}var si={evaluateInteractionItems:mr,modes:{index(C,y,d,m){const E=(0,h.z)(y,C),b=d.axis||"x",M=d.includeInvisible||!1,B=d.intersect?pi(C,E,b,m,M):cr(C,E,b,!1,m,M),W=[];return B.length?(C.getSortedVisibleDatasetMetas().forEach(ne=>{const Ce=B[0].index,Ve=ne.data[Ce];Ve&&!Ve.skip&&W.push({element:Ve,datasetIndex:ne.index,index:Ce})}),W):[]},dataset(C,y,d,m){const E=(0,h.z)(y,C),b=d.axis||"xy",M=d.includeInvisible||!1;let B=d.intersect?pi(C,E,b,m,M):cr(C,E,b,!1,m,M);if(B.length>0){const W=B[0].datasetIndex,ne=C.getDatasetMeta(W).data;B=[];for(let Ce=0;Ce<ne.length;++Ce)B.push({element:ne[Ce],datasetIndex:W,index:Ce})}return B},point:(C,y,d,m)=>pi(C,(0,h.z)(y,C),d.axis||"xy",m,d.includeInvisible||!1),nearest:(C,y,d,m)=>cr(C,(0,h.z)(y,C),d.axis||"xy",d.intersect,m,d.includeInvisible||!1),x:(C,y,d,m)=>ci(C,(0,h.z)(y,C),"x",d.intersect,m),y:(C,y,d,m)=>ci(C,(0,h.z)(y,C),"y",d.intersect,m)}};const Kr=["left","top","right","bottom"];function fi(C,y){return C.filter(d=>d.pos===y)}function gi(C,y){return C.filter(d=>-1===Kr.indexOf(d.pos)&&d.box.axis===y)}function br(C,y){return C.sort((d,m)=>{const E=y?m:d,b=y?d:m;return E.weight===b.weight?E.index-b.index:E.weight-b.weight})}function ke(C,y,d,m){return Math.max(C[d],y[d])+Math.max(C[m],y[m])}function ut(C,y){C.top=Math.max(C.top,y.top),C.left=Math.max(C.left,y.left),C.bottom=Math.max(C.bottom,y.bottom),C.right=Math.max(C.right,y.right)}function jt(C,y,d,m){const{pos:E,box:b}=d,M=C.maxPadding;if(!(0,h.i)(E)){d.size&&(C[E]-=d.size);const Ve=m[d.stack]||{size:0,count:1};Ve.size=Math.max(Ve.size,d.horizontal?b.height:b.width),d.size=Ve.size/Ve.count,C[E]+=d.size}b.getPadding&&ut(M,b.getPadding());const B=Math.max(0,y.outerWidth-ke(M,C,"left","right")),W=Math.max(0,y.outerHeight-ke(M,C,"top","bottom")),ne=B!==C.w,Ce=W!==C.h;return C.w=B,C.h=W,d.horizontal?{same:ne,other:Ce}:{same:Ce,other:ne}}function $n(C,y){const d=y.maxPadding;return function m(E){const b={left:0,top:0,right:0,bottom:0};return E.forEach(M=>{b[M]=Math.max(y[M],d[M])}),b}(C?["left","right"]:["top","bottom"])}function Fr(C,y,d,m){const E=[];let b,M,B,W,ne,Ce;for(b=0,M=C.length,ne=0;b<M;++b){B=C[b],W=B.box,W.update(B.width||y.w,B.height||y.h,$n(B.horizontal,y));const{same:Ve,other:ht}=jt(y,d,B,m);ne|=Ve&&E.length,Ce=Ce||ht,W.fullSize||E.push(B)}return ne&&Fr(E,y,d,m)||Ce}function xr(C,y,d,m,E){C.top=d,C.left=y,C.right=y+m,C.bottom=d+E,C.width=m,C.height=E}function Ir(C,y,d,m){const E=d.padding;let{x:b,y:M}=y;for(const B of C){const W=B.box,ne=m[B.stack]||{count:1,placed:0,weight:1},Ce=B.stackWeight/ne.weight||1;if(B.horizontal){const Ve=y.w*Ce,ht=ne.size||W.height;(0,h.h)(ne.start)&&(M=ne.start),W.fullSize?xr(W,E.left,M,d.outerWidth-E.right-E.left,ht):xr(W,y.left+ne.placed,M,Ve,ht),ne.start=M,ne.placed+=Ve,M=W.bottom}else{const Ve=y.h*Ce,ht=ne.size||W.width;(0,h.h)(ne.start)&&(b=ne.start),W.fullSize?xr(W,b,E.top,ht,d.outerHeight-E.bottom-E.top):xr(W,b,y.top+ne.placed,ht,Ve),ne.start=b,ne.placed+=Ve,b=W.right}}y.x=b,y.y=M}var gt={addBox(C,y){C.boxes||(C.boxes=[]),y.fullSize=y.fullSize||!1,y.position=y.position||"top",y.weight=y.weight||0,y._layers=y._layers||function(){return[{z:0,draw(d){y.draw(d)}}]},C.boxes.push(y)},removeBox(C,y){const d=C.boxes?C.boxes.indexOf(y):-1;-1!==d&&C.boxes.splice(d,1)},configure(C,y,d){y.fullSize=d.fullSize,y.position=d.position,y.weight=d.weight},update(C,y,d,m){if(!C)return;const E=(0,h.E)(C.options.layout.padding),b=Math.max(y-E.width,0),M=Math.max(d-E.height,0),B=function Cn(C){const y=function dr(C){const y=[];let d,m,E,b,M,B;for(d=0,m=(C||[]).length;d<m;++d)E=C[d],({position:b,options:{stack:M,stackWeight:B=1}}=E),y.push({index:d,box:E,pos:b,horizontal:E.isHorizontal(),weight:E.weight,stack:M&&b+M,stackWeight:B});return y}(C),d=br(y.filter(ne=>ne.box.fullSize),!0),m=br(fi(y,"left"),!0),E=br(fi(y,"right")),b=br(fi(y,"top"),!0),M=br(fi(y,"bottom")),B=gi(y,"x"),W=gi(y,"y");return{fullSize:d,leftAndTop:m.concat(b),rightAndBottom:E.concat(W).concat(M).concat(B),chartArea:fi(y,"chartArea"),vertical:m.concat(E).concat(W),horizontal:b.concat(M).concat(B)}}(C.boxes),W=B.vertical,ne=B.horizontal;(0,h.F)(C.boxes,sn=>{"function"==typeof sn.beforeLayout&&sn.beforeLayout()});const Ce=W.reduce((sn,gn)=>gn.box.options&&!1===gn.box.options.display?sn:sn+1,0)||1,Ve=Object.freeze({outerWidth:y,outerHeight:d,padding:E,availableWidth:b,availableHeight:M,vBoxMaxWidth:b/2/Ce,hBoxMaxHeight:M/2}),ht=Object.assign({},E);ut(ht,(0,h.E)(m));const yt=Object.assign({maxPadding:ht,w:b,h:M,x:E.left,y:E.top},E),zt=function Er(C,y){const d=function ui(C){const y={};for(const d of C){const{stack:m,pos:E,stackWeight:b}=d;if(!m||!Kr.includes(E))continue;const M=y[m]||(y[m]={count:0,placed:0,weight:0,size:0});M.count++,M.weight+=b}return y}(C),{vBoxMaxWidth:m,hBoxMaxHeight:E}=y;let b,M,B;for(b=0,M=C.length;b<M;++b){B=C[b];const{fullSize:W}=B.box,ne=d[B.stack],Ce=ne&&B.stackWeight/ne.weight;B.horizontal?(B.width=Ce?Ce*m:W&&y.availableWidth,B.height=E):(B.width=m,B.height=Ce?Ce*E:W&&y.availableHeight)}return d}(W.concat(ne),Ve);Fr(B.fullSize,yt,Ve,zt),Fr(W,yt,Ve,zt),Fr(ne,yt,Ve,zt)&&Fr(W,yt,Ve,zt),function bn(C){const y=C.maxPadding;function d(m){const E=Math.max(y[m]-C[m],0);return C[m]+=E,E}C.y+=d("top"),C.x+=d("left"),d("right"),d("bottom")}(yt),Ir(B.leftAndTop,yt,Ve,zt),yt.x+=yt.w,yt.y+=yt.h,Ir(B.rightAndBottom,yt,Ve,zt),C.chartArea={left:yt.left,top:yt.top,right:yt.left+yt.w,bottom:yt.top+yt.h,height:yt.h,width:yt.w},(0,h.F)(B.chartArea,sn=>{const gn=sn.box;Object.assign(gn,C.chartArea),gn.update(yt.w,yt.h,{left:0,top:0,right:0,bottom:0})})}};class Ae{acquireContext(y,d){}releaseContext(y){return!1}addEventListener(y,d,m){}removeEventListener(y,d,m){}getDevicePixelRatio(){return 1}getMaximumSize(y,d,m,E){return d=Math.max(0,d||y.width),m=m||y.height,{width:d,height:Math.max(0,E?Math.floor(d/E):m)}}isAttached(y){return!0}updateConfig(y){}}class se extends Ae{acquireContext(y){return y&&y.getContext&&y.getContext("2d")||null}updateConfig(y){y.options.animation=!1}}const te="$chartjs",oe={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},Ke=C=>null===C||""===C,tt=!!h.K&&{passive:!0};function Zt(C,y,d){C.canvas.removeEventListener(y,d,tt)}function vn(C,y){for(const d of C)if(d===y||d.contains(y))return!0}function jn(C,y,d){const m=C.canvas,E=new MutationObserver(b=>{let M=!1;for(const B of b)M=M||vn(B.addedNodes,m),M=M&&!vn(B.removedNodes,m);M&&d()});return E.observe(document,{childList:!0,subtree:!0}),E}function rn(C,y,d){const m=C.canvas,E=new MutationObserver(b=>{let M=!1;for(const B of b)M=M||vn(B.removedNodes,m),M=M&&!vn(B.addedNodes,m);M&&d()});return E.observe(document,{childList:!0,subtree:!0}),E}const mn=new Map;let Rn=0;function Ft(){const C=window.devicePixelRatio;C!==Rn&&(Rn=C,mn.forEach((y,d)=>{d.currentDevicePixelRatio!==C&&y()}))}function Gn(C,y,d){const m=C.canvas,E=m&&(0,h.I)(m);if(!E)return;const b=(0,h.L)((B,W)=>{const ne=E.clientWidth;d(B,W),ne<E.clientWidth&&d()},window),M=new ResizeObserver(B=>{const W=B[0],ne=W.contentRect.width,Ce=W.contentRect.height;0===ne&&0===Ce||b(ne,Ce)});return M.observe(E),function Gt(C,y){mn.size||window.addEventListener("resize",Ft),mn.set(C,y)}(C,b),M}function hr(C,y,d){d&&d.disconnect(),"resize"===y&&function hn(C){mn.delete(C),mn.size||window.removeEventListener("resize",Ft)}(C)}function Or(C,y,d){const m=C.canvas,E=(0,h.L)(b=>{null!==C.ctx&&d(function In(C,y){const d=oe[C.type]||C.type,{x:m,y:E}=(0,h.z)(C,y);return{type:d,chart:y,native:C,x:void 0!==m?m:null,y:void 0!==E?E:null}}(b,C))},C);return function $t(C,y,d){C.addEventListener(y,d,tt)}(m,y,E),E}class Mr extends Ae{acquireContext(y,d){const m=y&&y.getContext&&y.getContext("2d");return m&&m.canvas===y?(function At(C,y){const d=C.style,m=C.getAttribute("height"),E=C.getAttribute("width");if(C[te]={initial:{height:m,width:E,style:{display:d.display,height:d.height,width:d.width}}},d.display=d.display||"block",d.boxSizing=d.boxSizing||"border-box",Ke(E)){const b=(0,h.J)(C,"width");void 0!==b&&(C.width=b)}if(Ke(m))if(""===C.style.height)C.height=C.width/(y||2);else{const b=(0,h.J)(C,"height");void 0!==b&&(C.height=b)}}(y,d),m):null}releaseContext(y){const d=y.canvas;if(!d[te])return!1;const m=d[te].initial;["height","width"].forEach(b=>{const M=m[b];(0,h.k)(M)?d.removeAttribute(b):d.setAttribute(b,M)});const E=m.style||{};return Object.keys(E).forEach(b=>{d.style[b]=E[b]}),d.width=d.width,delete d[te],!0}addEventListener(y,d,m){this.removeEventListener(y,d),(y.$proxies||(y.$proxies={}))[d]=({attach:jn,detach:rn,resize:Gn}[d]||Or)(y,d,m)}removeEventListener(y,d){const m=y.$proxies||(y.$proxies={}),E=m[d];E&&(({attach:hr,detach:hr,resize:hr}[d]||Zt)(y,d,E),m[d]=void 0)}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(y,d,m,E){return(0,h.G)(y,d,m,E)}isAttached(y){const d=(0,h.I)(y);return!(!d||!d.isConnected)}}class zr{constructor(){this.x=void 0,this.y=void 0,this.active=!1,this.options=void 0,this.$animations=void 0}tooltipPosition(y){const{x:d,y:m}=this.getProps(["x","y"],y);return{x:d,y:m}}hasValue(){return(0,h.x)(this.x)&&(0,h.x)(this.y)}getProps(y,d){const m=this.$animations;if(!d||!m)return this;const E={};return y.forEach(b=>{E[b]=m[b]&&m[b].active()?m[b]._to:this[b]}),E}}function Vi(C,y,d,m,E){const b=(0,h.v)(m,0),M=Math.min((0,h.v)(E,C.length),C.length);let W,ne,Ce,B=0;for(d=Math.ceil(d),E&&(W=E-m,d=W/Math.floor(W/d)),Ce=b;Ce<0;)B++,Ce=Math.round(b+B*d);for(ne=Math.max(b,0);ne<M;ne++)ne===Ce&&(y.push(C[ne]),B++,Ce=Math.round(b+B*d))}zr.defaults={},zr.defaultRoutes=void 0;const Xi=(C,y,d)=>"top"===y||"left"===y?C[y]+d:C[y]-d,Ri=(C,y)=>Math.min(y||C,C);function $s(C,y){const d=[],m=C.length/y,E=C.length;let b=0;for(;b<E;b+=m)d.push(C[Math.floor(b)]);return d}function Qs(C,y,d){const m=C.ticks.length,E=Math.min(y,m-1),b=C._startPixel,M=C._endPixel,B=1e-6;let ne,W=C.getPixelForTick(E);if(!(d&&(ne=1===m?Math.max(W-b,M-W):0===y?(C.getPixelForTick(1)-W)/2:(W-C.getPixelForTick(E-1))/2,W+=E<y?ne:-ne,W<b-B||W>M+B)))return W}function Us(C){return C.drawTicks?C.tickLength:0}function ie(C,y){if(!C.display)return 0;const d=(0,h.a0)(C.font,y),m=(0,h.E)(C.padding);return((0,h.b)(C.text)?C.text.length:1)*d.lineHeight+m.height}function Ee(C,y,d){let m=(0,h.a1)(C);return(d&&"right"!==y||!d&&"right"===y)&&(m=(C=>"left"===C?"right":"right"===C?"left":C)(m)),m}class ye extends zr{constructor(y){super(),this.id=y.id,this.type=y.type,this.options=void 0,this.ctx=y.ctx,this.chart=y.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(y){this.options=y.setContext(this.getContext()),this.axis=y.axis,this._userMin=this.parse(y.min),this._userMax=this.parse(y.max),this._suggestedMin=this.parse(y.suggestedMin),this._suggestedMax=this.parse(y.suggestedMax)}parse(y,d){return y}getUserBounds(){let{_userMin:y,_userMax:d,_suggestedMin:m,_suggestedMax:E}=this;return y=(0,h.O)(y,Number.POSITIVE_INFINITY),d=(0,h.O)(d,Number.NEGATIVE_INFINITY),m=(0,h.O)(m,Number.POSITIVE_INFINITY),E=(0,h.O)(E,Number.NEGATIVE_INFINITY),{min:(0,h.O)(y,m),max:(0,h.O)(d,E),minDefined:(0,h.g)(y),maxDefined:(0,h.g)(d)}}getMinMax(y){let M,{min:d,max:m,minDefined:E,maxDefined:b}=this.getUserBounds();if(E&&b)return{min:d,max:m};const B=this.getMatchingVisibleMetas();for(let W=0,ne=B.length;W<ne;++W)M=B[W].controller.getMinMax(this,y),E||(d=Math.min(d,M.min)),b||(m=Math.max(m,M.max));return d=b&&d>m?m:d,m=E&&d>m?d:m,{min:(0,h.O)(d,(0,h.O)(m,d)),max:(0,h.O)(m,(0,h.O)(d,m))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const y=this.chart.data;return this.options.labels||(this.isHorizontal()?y.xLabels:y.yLabels)||y.labels||[]}getLabelItems(y=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(y))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){(0,h.Q)(this.options.beforeUpdate,[this])}update(y,d,m){const{beginAtZero:E,grace:b,ticks:M}=this.options,B=M.sampleSize;this.beforeUpdate(),this.maxWidth=y,this.maxHeight=d,this._margins=m=Object.assign({left:0,right:0,top:0,bottom:0},m),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+m.left+m.right:this.height+m.top+m.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=(0,h.R)(this,b,E),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const W=B<this.ticks.length;this._convertTicksToLabels(W?$s(this.ticks,B):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),M.display&&(M.autoSkip||"auto"===M.source)&&(this.ticks=function kr(C,y){const d=C.options.ticks,m=function Hr(C){const y=C.options.offset,d=C._tickSize();return Math.floor(Math.min(C._length/d+(y?0:1),C._maxLength/d))}(C),E=Math.min(d.maxTicksLimit||m,m),b=d.major.enabled?function Io(C){const y=[];let d,m;for(d=0,m=C.length;d<m;d++)C[d].major&&y.push(d);return y}(y):[],M=b.length,B=b[0],W=b[M-1],ne=[];if(M>E)return function Xs(C,y,d,m){let M,E=0,b=d[0];for(m=Math.ceil(m),M=0;M<C.length;M++)M===b&&(y.push(C[M]),E++,b=d[E*m])}(y,ne,b,M/E),ne;const Ce=function Wi(C,y,d){const m=function zi(C){const y=C.length;let d,m;if(y<2)return!1;for(m=C[0],d=1;d<y;++d)if(C[d]-C[d-1]!==m)return!1;return m}(C),E=y.length/d;if(!m)return Math.max(E,1);const b=(0,h.N)(m);for(let M=0,B=b.length-1;M<B;M++){const W=b[M];if(W>E)return W}return Math.max(E,1)}(b,y,E);if(M>0){let Ve,ht;const yt=M>1?Math.round((W-B)/(M-1)):null;for(Vi(y,ne,Ce,(0,h.k)(yt)?0:B-yt,B),Ve=0,ht=M-1;Ve<ht;Ve++)Vi(y,ne,Ce,b[Ve],b[Ve+1]);return Vi(y,ne,Ce,W,(0,h.k)(yt)?y.length:W+yt),ne}return Vi(y,ne,Ce),ne}(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),W&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let d,m,y=this.options.reverse;this.isHorizontal()?(d=this.left,m=this.right):(d=this.top,m=this.bottom,y=!y),this._startPixel=d,this._endPixel=m,this._reversePixels=y,this._length=m-d,this._alignToPixels=this.options.alignToPixels}afterUpdate(){(0,h.Q)(this.options.afterUpdate,[this])}beforeSetDimensions(){(0,h.Q)(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){(0,h.Q)(this.options.afterSetDimensions,[this])}_callHooks(y){this.chart.notifyPlugins(y,this.getContext()),(0,h.Q)(this.options[y],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){(0,h.Q)(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(y){const d=this.options.ticks;let m,E,b;for(m=0,E=y.length;m<E;m++)b=y[m],b.label=(0,h.Q)(d.callback,[b.value,m,y],this)}afterTickToLabelConversion(){(0,h.Q)(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){(0,h.Q)(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const y=this.options,d=y.ticks,m=Ri(this.ticks.length,y.ticks.maxTicksLimit),E=d.minRotation||0,b=d.maxRotation;let B,W,ne,M=E;if(!this._isVisible()||!d.display||E>=b||m<=1||!this.isHorizontal())return void(this.labelRotation=E);const Ce=this._getLabelSizes(),Ve=Ce.widest.width,ht=Ce.highest.height,yt=(0,h.S)(this.chart.width-Ve,0,this.maxWidth);B=y.offset?this.maxWidth/m:yt/(m-1),Ve+6>B&&(B=yt/(m-(y.offset?.5:1)),W=this.maxHeight-Us(y.grid)-d.padding-ie(y.title,this.chart.options.font),ne=Math.sqrt(Ve*Ve+ht*ht),M=(0,h.U)(Math.min(Math.asin((0,h.S)((Ce.highest.height+6)/B,-1,1)),Math.asin((0,h.S)(W/ne,-1,1))-Math.asin((0,h.S)(ht/ne,-1,1)))),M=Math.max(E,Math.min(b,M))),this.labelRotation=M}afterCalculateLabelRotation(){(0,h.Q)(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){(0,h.Q)(this.options.beforeFit,[this])}fit(){const y={width:0,height:0},{chart:d,options:{ticks:m,title:E,grid:b}}=this,M=this._isVisible(),B=this.isHorizontal();if(M){const W=ie(E,d.options.font);if(B?(y.width=this.maxWidth,y.height=Us(b)+W):(y.height=this.maxHeight,y.width=Us(b)+W),m.display&&this.ticks.length){const{first:ne,last:Ce,widest:Ve,highest:ht}=this._getLabelSizes(),yt=2*m.padding,zt=(0,h.t)(this.labelRotation),sn=Math.cos(zt),gn=Math.sin(zt);B?y.height=Math.min(this.maxHeight,y.height+(m.mirror?0:gn*Ve.width+sn*ht.height)+yt):y.width=Math.min(this.maxWidth,y.width+(m.mirror?0:sn*Ve.width+gn*ht.height)+yt),this._calculatePadding(ne,Ce,gn,sn)}}this._handleMargins(),B?(this.width=this._length=d.width-this._margins.left-this._margins.right,this.height=y.height):(this.width=y.width,this.height=this._length=d.height-this._margins.top-this._margins.bottom)}_calculatePadding(y,d,m,E){const{ticks:{align:b,padding:M},position:B}=this.options,W=0!==this.labelRotation,ne="top"!==B&&"x"===this.axis;if(this.isHorizontal()){const Ce=this.getPixelForTick(0)-this.left,Ve=this.right-this.getPixelForTick(this.ticks.length-1);let ht=0,yt=0;W?ne?(ht=E*y.width,yt=m*d.height):(ht=m*y.height,yt=E*d.width):"start"===b?yt=d.width:"end"===b?ht=y.width:"inner"!==b&&(ht=y.width/2,yt=d.width/2),this.paddingLeft=Math.max((ht-Ce+M)*this.width/(this.width-Ce),0),this.paddingRight=Math.max((yt-Ve+M)*this.width/(this.width-Ve),0)}else{let Ce=d.height/2,Ve=y.height/2;"start"===b?(Ce=0,Ve=y.height):"end"===b&&(Ce=d.height,Ve=0),this.paddingTop=Ce+M,this.paddingBottom=Ve+M}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){(0,h.Q)(this.options.afterFit,[this])}isHorizontal(){const{axis:y,position:d}=this.options;return"top"===d||"bottom"===d||"x"===y}isFullSize(){return this.options.fullSize}_convertTicksToLabels(y){let d,m;for(this.beforeTickToLabelConversion(),this.generateTickLabels(y),d=0,m=y.length;d<m;d++)(0,h.k)(y[d].label)&&(y.splice(d,1),m--,d--);this.afterTickToLabelConversion()}_getLabelSizes(){let y=this._labelSizes;if(!y){const d=this.options.ticks.sampleSize;let m=this.ticks;d<m.length&&(m=$s(m,d)),this._labelSizes=y=this._computeLabelSizes(m,m.length,this.options.ticks.maxTicksLimit)}return y}_computeLabelSizes(y,d,m){const{ctx:E,_longestTextCache:b}=this,M=[],B=[],W=Math.floor(d/Ri(d,m));let Ve,ht,yt,zt,sn,gn,Bn,xn,rr,or,Zn,ne=0,Ce=0;for(Ve=0;Ve<d;Ve+=W){if(zt=y[Ve].label,sn=this._resolveTickFontOptions(Ve),E.font=gn=sn.string,Bn=b[gn]=b[gn]||{data:{},gc:[]},xn=sn.lineHeight,rr=or=0,(0,h.k)(zt)||(0,h.b)(zt)){if((0,h.b)(zt))for(ht=0,yt=zt.length;ht<yt;++ht)Zn=zt[ht],!(0,h.k)(Zn)&&!(0,h.b)(Zn)&&(rr=(0,h.V)(E,Bn.data,Bn.gc,rr,Zn),or+=xn)}else rr=(0,h.V)(E,Bn.data,Bn.gc,rr,zt),or=xn;M.push(rr),B.push(or),ne=Math.max(rr,ne),Ce=Math.max(or,Ce)}!function Vs(C,y){(0,h.F)(C,d=>{const m=d.gc,E=m.length/2;let b;if(E>y){for(b=0;b<E;++b)delete d.data[m[b]];m.splice(0,E)}})}(b,d);const ir=M.indexOf(ne),sr=B.indexOf(Ce),Dr=ti=>({width:M[ti]||0,height:B[ti]||0});return{first:Dr(0),last:Dr(d-1),widest:Dr(ir),highest:Dr(sr),widths:M,heights:B}}getLabelForValue(y){return y}getPixelForValue(y,d){return NaN}getValueForPixel(y){}getPixelForTick(y){const d=this.ticks;return y<0||y>d.length-1?null:this.getPixelForValue(d[y].value)}getPixelForDecimal(y){this._reversePixels&&(y=1-y);const d=this._startPixel+y*this._length;return(0,h.W)(this._alignToPixels?(0,h.X)(this.chart,d,0):d)}getDecimalForPixel(y){const d=(y-this._startPixel)/this._length;return this._reversePixels?1-d:d}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:y,max:d}=this;return y<0&&d<0?d:y>0&&d>0?y:0}getContext(y){const d=this.ticks||[];if(y>=0&&y<d.length){const m=d[y];return m.$context||(m.$context=function Re(C,y,d){return(0,h.j)(C,{tick:d,index:y,type:"tick"})}(this.getContext(),y,m))}return this.$context||(this.$context=function fe(C,y){return(0,h.j)(C,{scale:y,type:"scale"})}(this.chart.getContext(),this))}_tickSize(){const y=this.options.ticks,d=(0,h.t)(this.labelRotation),m=Math.abs(Math.cos(d)),E=Math.abs(Math.sin(d)),b=this._getLabelSizes(),M=y.autoSkipPadding||0,B=b?b.widest.width+M:0,W=b?b.highest.height+M:0;return this.isHorizontal()?W*m>B*E?B/m:W/E:W*E<B*m?W/m:B/E}_isVisible(){const y=this.options.display;return"auto"!==y?!!y:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(y){const d=this.axis,m=this.chart,E=this.options,{grid:b,position:M,border:B}=E,W=b.offset,ne=this.isHorizontal(),Ve=this.ticks.length+(W?1:0),ht=Us(b),yt=[],zt=B.setContext(this.getContext()),sn=zt.display?zt.width:0,gn=sn/2,Bn=function(bs){return(0,h.X)(m,bs,sn)};let xn,rr,or,Zn,ir,sr,Dr,ti,Ti,vr,ls,gs;if("top"===M)xn=Bn(this.bottom),sr=this.bottom-ht,ti=xn-gn,vr=Bn(y.top)+gn,gs=y.bottom;else if("bottom"===M)xn=Bn(this.top),vr=y.top,gs=Bn(y.bottom)-gn,sr=xn+gn,ti=this.top+ht;else if("left"===M)xn=Bn(this.right),ir=this.right-ht,Dr=xn-gn,Ti=Bn(y.left)+gn,ls=y.right;else if("right"===M)xn=Bn(this.left),Ti=y.left,ls=Bn(y.right)-gn,ir=xn+gn,Dr=this.left+ht;else if("x"===d){if("center"===M)xn=Bn((y.top+y.bottom)/2+.5);else if((0,h.i)(M)){const bs=Object.keys(M)[0];xn=Bn(this.chart.scales[bs].getPixelForValue(M[bs]))}vr=y.top,gs=y.bottom,sr=xn+gn,ti=sr+ht}else if("y"===d){if("center"===M)xn=Bn((y.left+y.right)/2);else if((0,h.i)(M)){const bs=Object.keys(M)[0];xn=Bn(this.chart.scales[bs].getPixelForValue(M[bs]))}ir=xn-gn,Dr=ir-ht,Ti=y.left,ls=y.right}const cs=(0,h.v)(E.ticks.maxTicksLimit,Ve),Zi=Math.max(1,Math.ceil(Ve/cs));for(rr=0;rr<Ve;rr+=Zi){const bs=this.getContext(rr),Ji=b.setContext(bs),Ma=B.setContext(bs),aa=Ji.lineWidth,Ro=Ji.color,Rl=Ma.dash||[],Rs=Ma.dashOffset,qs=Ji.tickWidth,la=Ji.tickColor,Ol=Ji.tickBorderDash||[],Xa=Ji.tickBorderDashOffset;or=Qs(this,rr,W),void 0!==or&&(Zn=(0,h.X)(m,or,aa),ne?ir=Dr=Ti=ls=Zn:sr=ti=vr=gs=Zn,yt.push({tx1:ir,ty1:sr,tx2:Dr,ty2:ti,x1:Ti,y1:vr,x2:ls,y2:gs,width:aa,color:Ro,borderDash:Rl,borderDashOffset:Rs,tickWidth:qs,tickColor:la,tickBorderDash:Ol,tickBorderDashOffset:Xa}))}return this._ticksLength=Ve,this._borderValue=xn,yt}_computeLabelItems(y){const d=this.axis,m=this.options,{position:E,ticks:b}=m,M=this.isHorizontal(),B=this.ticks,{align:W,crossAlign:ne,padding:Ce,mirror:Ve}=b,ht=Us(m.grid),yt=ht+Ce,zt=Ve?-Ce:yt,sn=-(0,h.t)(this.labelRotation),gn=[];let Bn,xn,rr,or,Zn,ir,sr,Dr,ti,Ti,vr,ls,gs="middle";if("top"===E)ir=this.bottom-zt,sr=this._getXAxisLabelAlignment();else if("bottom"===E)ir=this.top+zt,sr=this._getXAxisLabelAlignment();else if("left"===E){const Zi=this._getYAxisLabelAlignment(ht);sr=Zi.textAlign,Zn=Zi.x}else if("right"===E){const Zi=this._getYAxisLabelAlignment(ht);sr=Zi.textAlign,Zn=Zi.x}else if("x"===d){if("center"===E)ir=(y.top+y.bottom)/2+yt;else if((0,h.i)(E)){const Zi=Object.keys(E)[0];ir=this.chart.scales[Zi].getPixelForValue(E[Zi])+yt}sr=this._getXAxisLabelAlignment()}else if("y"===d){if("center"===E)Zn=(y.left+y.right)/2-yt;else if((0,h.i)(E)){const Zi=Object.keys(E)[0];Zn=this.chart.scales[Zi].getPixelForValue(E[Zi])}sr=this._getYAxisLabelAlignment(ht).textAlign}"y"===d&&("start"===W?gs="top":"end"===W&&(gs="bottom"));const cs=this._getLabelSizes();for(Bn=0,xn=B.length;Bn<xn;++Bn){rr=B[Bn],or=rr.label;const Zi=b.setContext(this.getContext(Bn));Dr=this.getPixelForTick(Bn)+b.labelOffset,ti=this._resolveTickFontOptions(Bn),Ti=ti.lineHeight,vr=(0,h.b)(or)?or.length:1;const bs=vr/2,Ji=Zi.color,Ma=Zi.textStrokeColor,aa=Zi.textStrokeWidth;let Rl,Ro=sr;if(M?(Zn=Dr,"inner"===sr&&(Ro=Bn===xn-1?this.options.reverse?"left":"right":0===Bn?this.options.reverse?"right":"left":"center"),ls="top"===E?"near"===ne||0!==sn?-vr*Ti+Ti/2:"center"===ne?-cs.highest.height/2-bs*Ti+Ti:Ti/2-cs.highest.height:"near"===ne||0!==sn?Ti/2:"center"===ne?cs.highest.height/2-bs*Ti:cs.highest.height-vr*Ti,Ve&&(ls*=-1),0!==sn&&!Zi.showLabelBackdrop&&(Zn+=Ti/2*Math.sin(sn))):(ir=Dr,ls=(1-vr)*Ti/2),Zi.showLabelBackdrop){const Rs=(0,h.E)(Zi.backdropPadding),qs=cs.heights[Bn],la=cs.widths[Bn];let Ol=ls-Rs.top,Xa=0-Rs.left;switch(gs){case"middle":Ol-=qs/2;break;case"bottom":Ol-=qs}switch(sr){case"center":Xa-=la/2;break;case"right":Xa-=la}Rl={left:Xa,top:Ol,width:la+Rs.width,height:qs+Rs.height,color:Zi.backdropColor}}gn.push({label:or,font:ti,textOffset:ls,options:{rotation:sn,color:Ji,strokeColor:Ma,strokeWidth:aa,textAlign:Ro,textBaseline:gs,translation:[Zn,ir],backdrop:Rl}})}return gn}_getXAxisLabelAlignment(){const{position:y,ticks:d}=this.options;if(-(0,h.t)(this.labelRotation))return"top"===y?"left":"right";let E="center";return"start"===d.align?E="left":"end"===d.align?E="right":"inner"===d.align&&(E="inner"),E}_getYAxisLabelAlignment(y){const{position:d,ticks:{crossAlign:m,mirror:E,padding:b}}=this.options,B=y+b,W=this._getLabelSizes().widest.width;let ne,Ce;return"left"===d?E?(Ce=this.right+b,"near"===m?ne="left":"center"===m?(ne="center",Ce+=W/2):(ne="right",Ce+=W)):(Ce=this.right-B,"near"===m?ne="right":"center"===m?(ne="center",Ce-=W/2):(ne="left",Ce=this.left)):"right"===d?E?(Ce=this.left+b,"near"===m?ne="right":"center"===m?(ne="center",Ce-=W/2):(ne="left",Ce-=W)):(Ce=this.left+B,"near"===m?ne="left":"center"===m?(ne="center",Ce+=W/2):(ne="right",Ce=this.right)):ne="right",{textAlign:ne,x:Ce}}_computeLabelArea(){if(this.options.ticks.mirror)return;const y=this.chart,d=this.options.position;return"left"===d||"right"===d?{top:0,left:this.left,bottom:y.height,right:this.right}:"top"===d||"bottom"===d?{top:this.top,left:0,bottom:this.bottom,right:y.width}:void 0}drawBackground(){const{ctx:y,options:{backgroundColor:d},left:m,top:E,width:b,height:M}=this;d&&(y.save(),y.fillStyle=d,y.fillRect(m,E,b,M),y.restore())}getLineWidthForValue(y){const d=this.options.grid;if(!this._isVisible()||!d.display)return 0;const E=this.ticks.findIndex(b=>b.value===y);return E>=0?d.setContext(this.getContext(E)).lineWidth:0}drawGrid(y){const d=this.options.grid,m=this.ctx,E=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(y));let b,M;const B=(W,ne,Ce)=>{!Ce.width||!Ce.color||(m.save(),m.lineWidth=Ce.width,m.strokeStyle=Ce.color,m.setLineDash(Ce.borderDash||[]),m.lineDashOffset=Ce.borderDashOffset,m.beginPath(),m.moveTo(W.x,W.y),m.lineTo(ne.x,ne.y),m.stroke(),m.restore())};if(d.display)for(b=0,M=E.length;b<M;++b){const W=E[b];d.drawOnChartArea&&B({x:W.x1,y:W.y1},{x:W.x2,y:W.y2},W),d.drawTicks&&B({x:W.tx1,y:W.ty1},{x:W.tx2,y:W.ty2},{color:W.tickColor,width:W.tickWidth,borderDash:W.tickBorderDash,borderDashOffset:W.tickBorderDashOffset})}}drawBorder(){const{chart:y,ctx:d,options:{border:m,grid:E}}=this,b=m.setContext(this.getContext()),M=m.display?b.width:0;if(!M)return;const B=E.setContext(this.getContext(0)).lineWidth,W=this._borderValue;let ne,Ce,Ve,ht;this.isHorizontal()?(ne=(0,h.X)(y,this.left,M)-M/2,Ce=(0,h.X)(y,this.right,B)+B/2,Ve=ht=W):(Ve=(0,h.X)(y,this.top,M)-M/2,ht=(0,h.X)(y,this.bottom,B)+B/2,ne=Ce=W),d.save(),d.lineWidth=b.width,d.strokeStyle=b.color,d.beginPath(),d.moveTo(ne,Ve),d.lineTo(Ce,ht),d.stroke(),d.restore()}drawLabels(y){if(!this.options.ticks.display)return;const m=this.ctx,E=this._computeLabelArea();E&&(0,h.Y)(m,E);const b=this.getLabelItems(y);for(const M of b)(0,h.Z)(m,M.label,0,M.textOffset,M.font,M.options);E&&(0,h.$)(m)}drawTitle(){const{ctx:y,options:{position:d,title:m,reverse:E}}=this;if(!m.display)return;const b=(0,h.a0)(m.font),M=(0,h.E)(m.padding),B=m.align;let W=b.lineHeight/2;"bottom"===d||"center"===d||(0,h.i)(d)?(W+=M.bottom,(0,h.b)(m.text)&&(W+=b.lineHeight*(m.text.length-1))):W+=M.top;const{titleX:ne,titleY:Ce,maxWidth:Ve,rotation:ht}=function re(C,y,d,m){const{top:E,left:b,bottom:M,right:B,chart:W}=C,{chartArea:ne,scales:Ce}=W;let ht,yt,zt,Ve=0;const sn=M-E,gn=B-b;if(C.isHorizontal()){if(yt=(0,h.a2)(m,b,B),(0,h.i)(d)){const Bn=Object.keys(d)[0];zt=Ce[Bn].getPixelForValue(d[Bn])+sn-y}else zt="center"===d?(ne.bottom+ne.top)/2+sn-y:Xi(C,d,y);ht=B-b}else{if((0,h.i)(d)){const Bn=Object.keys(d)[0];yt=Ce[Bn].getPixelForValue(d[Bn])-gn+y}else yt="center"===d?(ne.left+ne.right)/2-gn+y:Xi(C,d,y);zt=(0,h.a2)(m,M,E),Ve="left"===d?-h.H:h.H}return{titleX:yt,titleY:zt,maxWidth:ht,rotation:Ve}}(this,W,d,B);(0,h.Z)(y,m.text,0,0,b,{color:m.color,maxWidth:Ve,rotation:ht,textAlign:Ee(B,d,E),textBaseline:"middle",translation:[ne,Ce]})}draw(y){this._isVisible()&&(this.drawBackground(),this.drawGrid(y),this.drawBorder(),this.drawTitle(),this.drawLabels(y))}_layers(){const y=this.options,d=y.ticks&&y.ticks.z||0,m=(0,h.v)(y.grid&&y.grid.z,-1),E=(0,h.v)(y.border&&y.border.z,0);return this._isVisible()&&this.draw===ye.prototype.draw?[{z:m,draw:b=>{this.drawBackground(),this.drawGrid(b),this.drawTitle()}},{z:E,draw:()=>{this.drawBorder()}},{z:d,draw:b=>{this.drawLabels(b)}}]:[{z:d,draw:b=>{this.draw(b)}}]}getMatchingVisibleMetas(y){const d=this.chart.getSortedVisibleDatasetMetas(),m=this.axis+"AxisID",E=[];let b,M;for(b=0,M=d.length;b<M;++b){const B=d[b];B[m]===this.id&&(!y||B.type===y)&&E.push(B)}return E}_resolveTickFontOptions(y){const d=this.options.ticks.setContext(this.getContext(y));return(0,h.a0)(d.font)}_maxDigits(){const y=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/y}}class st{constructor(y,d,m){this.type=y,this.scope=d,this.override=m,this.items=Object.create(null)}isForType(y){return Object.prototype.isPrototypeOf.call(this.type.prototype,y.prototype)}register(y){const d=Object.getPrototypeOf(y);let m;(function Xt(C){return"id"in C&&"defaults"in C})(d)&&(m=this.register(d));const E=this.items,b=y.id,M=this.scope+"."+b;if(!b)throw new Error("class does not have id: "+y);return b in E||(E[b]=y,function bt(C,y,d){const m=(0,h.a4)(Object.create(null),[d?h.d.get(d):{},h.d.get(y),C.defaults]);h.d.set(y,m),C.defaultRoutes&&function Lt(C,y){Object.keys(y).forEach(d=>{const m=d.split("."),E=m.pop(),b=[C].concat(m).join("."),M=y[d].split("."),B=M.pop(),W=M.join(".");h.d.route(b,E,W,B)})}(y,C.defaultRoutes),C.descriptors&&h.d.describe(y,C.descriptors)}(y,M,m),this.override&&h.d.override(y.id,y.overrides)),M}get(y){return this.items[y]}unregister(y){const d=this.items,m=y.id,E=this.scope;m in d&&delete d[m],E&&m in h.d[E]&&(delete h.d[E][m],this.override&&delete h.a3[m])}}class zn{constructor(){this.controllers=new st(Nt,"datasets",!0),this.elements=new st(zr,"elements"),this.plugins=new st(Object,"plugins"),this.scales=new st(ye,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...y){this._each("register",y)}remove(...y){this._each("unregister",y)}addControllers(...y){this._each("register",y,this.controllers)}addElements(...y){this._each("register",y,this.elements)}addPlugins(...y){this._each("register",y,this.plugins)}addScales(...y){this._each("register",y,this.scales)}getController(y){return this._get(y,this.controllers,"controller")}getElement(y){return this._get(y,this.elements,"element")}getPlugin(y){return this._get(y,this.plugins,"plugin")}getScale(y){return this._get(y,this.scales,"scale")}removeControllers(...y){this._each("unregister",y,this.controllers)}removeElements(...y){this._each("unregister",y,this.elements)}removePlugins(...y){this._each("unregister",y,this.plugins)}removeScales(...y){this._each("unregister",y,this.scales)}_each(y,d,m){[...d].forEach(E=>{const b=m||this._getRegistryForType(E);m||b.isForType(E)||b===this.plugins&&E.id?this._exec(y,b,E):(0,h.F)(E,M=>{const B=m||this._getRegistryForType(M);this._exec(y,B,M)})})}_exec(y,d,m){const E=(0,h.a5)(y);(0,h.Q)(m["before"+E],[],m),d[y](m),(0,h.Q)(m["after"+E],[],m)}_getRegistryForType(y){for(let d=0;d<this._typedRegistries.length;d++){const m=this._typedRegistries[d];if(m.isForType(y))return m}return this.plugins}_get(y,d,m){const E=d.get(y);if(void 0===E)throw new Error('"'+y+'" is not a registered '+m+".");return E}}var Vn=new zn;class wr{constructor(){this._init=[]}notify(y,d,m,E){"beforeInit"===d&&(this._init=this._createDescriptors(y,!0),this._notify(this._init,y,"install"));const b=E?this._descriptors(y).filter(E):this._descriptors(y),M=this._notify(b,y,d,m);return"afterDestroy"===d&&(this._notify(b,y,"stop"),this._notify(this._init,y,"uninstall")),M}_notify(y,d,m,E){E=E||{};for(const b of y){const M=b.plugin;if(!1===(0,h.Q)(M[m],[d,E,b.options],M)&&E.cancelable)return!1}return!0}invalidate(){(0,h.k)(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(y){if(this._cache)return this._cache;const d=this._cache=this._createDescriptors(y);return this._notifyStateChanges(y),d}_createDescriptors(y,d){const m=y&&y.config,E=(0,h.v)(m.options&&m.options.plugins,{}),b=function Qr(C){const y={},d=[],m=Object.keys(Vn.plugins.items);for(let b=0;b<m.length;b++)d.push(Vn.getPlugin(m[b]));const E=C.plugins||[];for(let b=0;b<E.length;b++){const M=E[b];-1===d.indexOf(M)&&(d.push(M),y[M.id]=!0)}return{plugins:d,localIds:y}}(m);return!1!==E||d?function Fi(C,{plugins:y,localIds:d},m,E){const b=[],M=C.getContext();for(const B of y){const W=B.id,ne=is(m[W],E);null!==ne&&b.push({plugin:B,options:Ws(C.config,{plugin:B,local:d[W]},ne,M)})}return b}(y,b,E,d):[]}_notifyStateChanges(y){const d=this._oldCache||[],m=this._cache,E=(b,M)=>b.filter(B=>!M.some(W=>B.plugin.id===W.plugin.id));this._notify(E(d,m),y,"stop"),this._notify(E(m,d),y,"start")}}function is(C,y){return y||!1!==C?!0===C?{}:C:null}function Ws(C,{plugin:y,local:d},m,E){const b=C.pluginScopeKeys(y),M=C.getOptionScopes(m,b);return d&&y.defaults&&M.push(y.defaults),C.createResolver(M,E,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Ci(C,y){return((y.datasets||{})[C]||{}).indexAxis||y.indexAxis||(h.d.datasets[C]||{}).indexAxis||"x"}function Ai(C){if("x"===C||"y"===C||"r"===C)return C}function ks(C){return"top"===C||"bottom"===C?"x":"left"===C||"right"===C?"y":void 0}function Do(C,...y){if(Ai(C))return C;for(const d of y){const m=d.axis||ks(d.position)||C.length>1&&Ai(C[0].toLowerCase());if(m)return m}throw new Error(`Cannot determine type of '${C}' axis. Please provide 'axis' or 'position' option.`)}function ss(C,y,d){if(d[y+"AxisID"]===C)return{axis:y}}function ws(C){const y=C.options||(C.options={});y.plugins=(0,h.v)(y.plugins,{}),y.scales=function ki(C,y){const d=h.a3[C.type]||{scales:{}},m=y.scales||{},E=Ci(C.type,y),b=Object.create(null);return Object.keys(m).forEach(M=>{const B=m[M];if(!(0,h.i)(B))return console.error(`Invalid scale configuration for scale: ${M}`);if(B._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${M}`);const W=Do(M,B,function oo(C,y){if(y.data&&y.data.datasets){const d=y.data.datasets.filter(m=>m.xAxisID===C||m.yAxisID===C);if(d.length)return ss(C,"x",d[0])||ss(C,"y",d[0])}return{}}(M,C),h.d.scales[B.type]),ne=function Lr(C,y){return C===y?"_index_":"_value_"}(W,E),Ce=d.scales||{};b[M]=(0,h.ab)(Object.create(null),[{axis:W},B,Ce[W],Ce[ne]])}),C.data.datasets.forEach(M=>{const B=M.type||C.type,W=M.indexAxis||Ci(B,y),Ce=(h.a3[B]||{}).scales||{};Object.keys(Ce).forEach(Ve=>{const ht=function tr(C,y){let d=C;return"_index_"===C?d=y:"_value_"===C&&(d="x"===y?"y":"x"),d}(Ve,W),yt=M[ht+"AxisID"]||ht;b[yt]=b[yt]||Object.create(null),(0,h.ab)(b[yt],[{axis:ht},m[yt],Ce[Ve]])})}),Object.keys(b).forEach(M=>{const B=b[M];(0,h.ab)(B,[h.d.scales[B.type],h.d.scale])}),b}(C,y)}function os(C){return(C=C||{}).datasets=C.datasets||[],C.labels=C.labels||[],C}const ao=new Map,ho=new Set;function Di(C,y){let d=ao.get(C);return d||(d=y(),ao.set(C,d),ho.add(d)),d}const Li=(C,y,d)=>{const m=(0,h.f)(y,d);void 0!==m&&C.add(m)};class Gs{constructor(y){this._config=function Br(C){return(C=C||{}).data=os(C.data),ws(C),C}(y),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(y){this._config.type=y}get data(){return this._config.data}set data(y){this._config.data=os(y)}get options(){return this._config.options}set options(y){this._config.options=y}get plugins(){return this._config.plugins}update(){const y=this._config;this.clearCache(),ws(y)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(y){return Di(y,()=>[[`datasets.${y}`,""]])}datasetAnimationScopeKeys(y,d){return Di(`${y}.transition.${d}`,()=>[[`datasets.${y}.transitions.${d}`,`transitions.${d}`],[`datasets.${y}`,""]])}datasetElementScopeKeys(y,d){return Di(`${y}-${d}`,()=>[[`datasets.${y}.elements.${d}`,`datasets.${y}`,`elements.${d}`,""]])}pluginScopeKeys(y){const d=y.id;return Di(`${this.type}-plugin-${d}`,()=>[[`plugins.${d}`,...y.additionalOptionScopes||[]]])}_cachedScopes(y,d){const m=this._scopeCache;let E=m.get(y);return(!E||d)&&(E=new Map,m.set(y,E)),E}getOptionScopes(y,d,m){const{options:E,type:b}=this,M=this._cachedScopes(y,m),B=M.get(d);if(B)return B;const W=new Set;d.forEach(Ce=>{y&&(W.add(y),Ce.forEach(Ve=>Li(W,y,Ve))),Ce.forEach(Ve=>Li(W,E,Ve)),Ce.forEach(Ve=>Li(W,h.a3[b]||{},Ve)),Ce.forEach(Ve=>Li(W,h.d,Ve)),Ce.forEach(Ve=>Li(W,h.a6,Ve))});const ne=Array.from(W);return 0===ne.length&&ne.push(Object.create(null)),ho.has(d)&&M.set(d,ne),ne}chartOptionScopes(){const{options:y,type:d}=this;return[y,h.a3[d]||{},h.d.datasets[d]||{},{type:d},h.d,h.a6]}resolveNamedOptions(y,d,m,E=[""]){const b={$shared:!0},{resolver:M,subPrefixes:B}=no(this._resolverCache,y,E);let W=M;if(function ko(C,y){const{isScriptable:d,isIndexable:m}=(0,h.aa)(C);for(const E of y){const b=d(E),M=m(E),B=(M||b)&&C[E];if(b&&((0,h.a7)(B)||fo(B))||M&&(0,h.b)(B))return!0}return!1}(M,d)){b.$shared=!1,m=(0,h.a7)(m)?m():m;const ne=this.createResolver(y,m,B);W=(0,h.a8)(M,m,ne)}for(const ne of d)b[ne]=W[ne];return b}createResolver(y,d,m=[""],E){const{resolver:b}=no(this._resolverCache,y,m);return(0,h.i)(d)?(0,h.a8)(b,d,void 0,E):b}}function no(C,y,d){let m=C.get(y);m||(m=new Map,C.set(y,m));const E=d.join();let b=m.get(E);return b||(b={resolver:(0,h.a9)(y,d),subPrefixes:d.filter(B=>!B.toLowerCase().includes("hover"))},m.set(E,b)),b}const fo=C=>(0,h.i)(C)&&Object.getOwnPropertyNames(C).reduce((y,d)=>y||(0,h.a7)(C[d]),!1),po=["top","bottom","left","right","chartArea"];function lo(C,y){return"top"===C||"bottom"===C||-1===po.indexOf(C)&&"x"===y}function ia(C,y){return function(d,m){return d[C]===m[C]?d[y]-m[y]:d[C]-m[C]}}function ps(C){const y=C.chart,d=y.options.animation;y.notifyPlugins("afterRender"),(0,h.Q)(d&&d.onComplete,[C],y)}function Ei(C){const y=C.chart,d=y.options.animation;(0,h.Q)(d&&d.onProgress,[C],y)}function Ea(C){return(0,h.M)()&&"string"==typeof C?C=document.getElementById(C):C&&C.length&&(C=C[0]),C&&C.canvas&&(C=C.canvas),C}const Js={},Qo=C=>{const y=Ea(C);return Object.values(Js).filter(d=>d.canvas===y).pop()};function eo(C,y,d){const m=Object.keys(C);for(const E of m){const b=+E;if(b>=y){const M=C[E];delete C[E],(d>0||b>y)&&(C[b+d]=M)}}}function go(C,y,d){return C.options.clip?C[d]:y[d]}let ms=(()=>{class C{static register(...d){Vn.add(...d),ma()}static unregister(...d){Vn.remove(...d),ma()}constructor(d,m){const E=this.config=new Gs(m),b=Ea(d),M=Qo(b);if(M)throw new Error("Canvas is already in use. Chart with ID '"+M.id+"' must be destroyed before the canvas with ID '"+M.canvas.id+"' can be reused.");const B=E.createResolver(E.chartOptionScopes(),this.getContext());this.platform=new(E.platform||function Si(C){return!(0,h.M)()||typeof OffscreenCanvas<"u"&&C instanceof OffscreenCanvas?se:Mr}(b)),this.platform.updateConfig(E);const W=this.platform.acquireContext(b,B.aspectRatio),ne=W&&W.canvas,Ce=ne&&ne.height,Ve=ne&&ne.width;this.id=(0,h.ac)(),this.ctx=W,this.canvas=ne,this.width=Ve,this.height=Ce,this._options=B,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new wr,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=(0,h.ad)(ht=>this.update(ht),B.resizeDelay||0),this._dataChanges=[],Js[this.id]=this,W&&ne?(_e.listen(this,"complete",ps),_e.listen(this,"progress",Ei),this._initialize(),this.attached&&this.update()):console.error("Failed to create chart: can't acquire context from the given item")}get aspectRatio(){const{options:{aspectRatio:d,maintainAspectRatio:m},width:E,height:b,_aspectRatio:M}=this;return(0,h.k)(d)?m&&M?M:b?E/b:null:d}get data(){return this.config.data}set data(d){this.config.data=d}get options(){return this._options}set options(d){this.config.options=d}get registry(){return Vn}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():(0,h.ae)(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return(0,h.af)(this.canvas,this.ctx),this}stop(){return _e.stop(this),this}resize(d,m){_e.running(this)?this._resizeBeforeDraw={width:d,height:m}:this._resize(d,m)}_resize(d,m){const E=this.options,B=this.platform.getMaximumSize(this.canvas,d,m,E.maintainAspectRatio&&this.aspectRatio),W=E.devicePixelRatio||this.platform.getDevicePixelRatio(),ne=this.width?"resize":"attach";this.width=B.width,this.height=B.height,this._aspectRatio=this.aspectRatio,(0,h.ae)(this,W,!0)&&(this.notifyPlugins("resize",{size:B}),(0,h.Q)(E.onResize,[this,B],this),this.attached&&this._doResize(ne)&&this.render())}ensureScalesHaveIDs(){(0,h.F)(this.options.scales||{},(E,b)=>{E.id=b})}buildOrUpdateScales(){const d=this.options,m=d.scales,E=this.scales,b=Object.keys(E).reduce((B,W)=>(B[W]=!1,B),{});let M=[];m&&(M=M.concat(Object.keys(m).map(B=>{const W=m[B],ne=Do(B,W),Ce="r"===ne,Ve="x"===ne;return{options:W,dposition:Ce?"chartArea":Ve?"bottom":"left",dtype:Ce?"radialLinear":Ve?"category":"linear"}}))),(0,h.F)(M,B=>{const W=B.options,ne=W.id,Ce=Do(ne,W),Ve=(0,h.v)(W.type,B.dtype);(void 0===W.position||lo(W.position,Ce)!==lo(B.dposition))&&(W.position=B.dposition),b[ne]=!0;let ht=null;ne in E&&E[ne].type===Ve?ht=E[ne]:(ht=new(Vn.getScale(Ve))({id:ne,type:Ve,ctx:this.ctx,chart:this}),E[ht.id]=ht),ht.init(W,d)}),(0,h.F)(b,(B,W)=>{B||delete E[W]}),(0,h.F)(E,B=>{gt.configure(this,B,B.options),gt.addBox(this,B)})}_updateMetasets(){const d=this._metasets,m=this.data.datasets.length,E=d.length;if(d.sort((b,M)=>b.index-M.index),E>m){for(let b=m;b<E;++b)this._destroyDatasetMeta(b);d.splice(m,E-m)}this._sortedMetasets=d.slice(0).sort(ia("order","index"))}_removeUnreferencedMetasets(){const{_metasets:d,data:{datasets:m}}=this;d.length>m.length&&delete this._stacks,d.forEach((E,b)=>{0===m.filter(M=>M===E._dataset).length&&this._destroyDatasetMeta(b)})}buildOrUpdateControllers(){const d=[],m=this.data.datasets;let E,b;for(this._removeUnreferencedMetasets(),E=0,b=m.length;E<b;E++){const M=m[E];let B=this.getDatasetMeta(E);const W=M.type||this.config.type;if(B.type&&B.type!==W&&(this._destroyDatasetMeta(E),B=this.getDatasetMeta(E)),B.type=W,B.indexAxis=M.indexAxis||Ci(W,this.options),B.order=M.order||0,B.index=E,B.label=""+M.label,B.visible=this.isDatasetVisible(E),B.controller)B.controller.updateIndex(E),B.controller.linkScales();else{const ne=Vn.getController(W),{datasetElementType:Ce,dataElementType:Ve}=h.d.datasets[W];Object.assign(ne,{dataElementType:Vn.getElement(Ve),datasetElementType:Ce&&Vn.getElement(Ce)}),B.controller=new ne(this,E),d.push(B.controller)}}return this._updateMetasets(),d}_resetElements(){(0,h.F)(this.data.datasets,(d,m)=>{this.getDatasetMeta(m).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(d){const m=this.config;m.update();const E=this._options=m.createResolver(m.chartOptionScopes(),this.getContext()),b=this._animationsDisabled=!E.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),!1===this.notifyPlugins("beforeUpdate",{mode:d,cancelable:!0}))return;const M=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let B=0;for(let Ce=0,Ve=this.data.datasets.length;Ce<Ve;Ce++){const{controller:ht}=this.getDatasetMeta(Ce),yt=!b&&-1===M.indexOf(ht);ht.buildOrUpdateElements(yt),B=Math.max(+ht.getMaxOverflow(),B)}B=this._minPadding=E.layout.autoPadding?B:0,this._updateLayout(B),b||(0,h.F)(M,Ce=>{Ce.reset()}),this._updateDatasets(d),this.notifyPlugins("afterUpdate",{mode:d}),this._layers.sort(ia("z","_idx"));const{_active:W,_lastEvent:ne}=this;ne?this._eventHandler(ne,!0):W.length&&this._updateHoverStyles(W,W,!0),this.render()}_updateScales(){(0,h.F)(this.scales,d=>{gt.removeBox(this,d)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const d=this.options,m=new Set(Object.keys(this._listeners)),E=new Set(d.events);(!(0,h.ag)(m,E)||!!this._responsiveListeners!==d.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:d}=this,m=this._getUniformDataChanges()||[];for(const{method:E,start:b,count:M}of m)eo(d,b,"_removeElements"===E?-M:M)}_getUniformDataChanges(){const d=this._dataChanges;if(!d||!d.length)return;this._dataChanges=[];const m=this.data.datasets.length,E=M=>new Set(d.filter(B=>B[0]===M).map((B,W)=>W+","+B.splice(1).join(","))),b=E(0);for(let M=1;M<m;M++)if(!(0,h.ag)(b,E(M)))return;return Array.from(b).map(M=>M.split(",")).map(M=>({method:M[1],start:+M[2],count:+M[3]}))}_updateLayout(d){if(!1===this.notifyPlugins("beforeLayout",{cancelable:!0}))return;gt.update(this,this.width,this.height,d);const m=this.chartArea,E=m.width<=0||m.height<=0;this._layers=[],(0,h.F)(this.boxes,b=>{E&&"chartArea"===b.position||(b.configure&&b.configure(),this._layers.push(...b._layers()))},this),this._layers.forEach((b,M)=>{b._idx=M}),this.notifyPlugins("afterLayout")}_updateDatasets(d){if(!1!==this.notifyPlugins("beforeDatasetsUpdate",{mode:d,cancelable:!0})){for(let m=0,E=this.data.datasets.length;m<E;++m)this.getDatasetMeta(m).controller.configure();for(let m=0,E=this.data.datasets.length;m<E;++m)this._updateDataset(m,(0,h.a7)(d)?d({datasetIndex:m}):d);this.notifyPlugins("afterDatasetsUpdate",{mode:d})}}_updateDataset(d,m){const E=this.getDatasetMeta(d),b={meta:E,index:d,mode:m,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetUpdate",b)&&(E.controller._update(m),b.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",b))}render(){!1!==this.notifyPlugins("beforeRender",{cancelable:!0})&&(_e.has(this)?this.attached&&!_e.running(this)&&_e.start(this):(this.draw(),ps({chart:this})))}draw(){let d;if(this._resizeBeforeDraw){const{width:E,height:b}=this._resizeBeforeDraw;this._resize(E,b),this._resizeBeforeDraw=null}if(this.clear(),this.width<=0||this.height<=0||!1===this.notifyPlugins("beforeDraw",{cancelable:!0}))return;const m=this._layers;for(d=0;d<m.length&&m[d].z<=0;++d)m[d].draw(this.chartArea);for(this._drawDatasets();d<m.length;++d)m[d].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(d){const m=this._sortedMetasets,E=[];let b,M;for(b=0,M=m.length;b<M;++b){const B=m[b];(!d||B.visible)&&E.push(B)}return E}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(!1===this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0}))return;const d=this.getSortedVisibleDatasetMetas();for(let m=d.length-1;m>=0;--m)this._drawDataset(d[m]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(d){const m=this.ctx,E=d._clip,b=!E.disabled,M=function No(C,y){const{xScale:d,yScale:m}=C;return d&&m?{left:go(d,y,"left"),right:go(d,y,"right"),top:go(m,y,"top"),bottom:go(m,y,"bottom")}:y}(d,this.chartArea),B={meta:d,index:d.index,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetDraw",B)&&(b&&(0,h.Y)(m,{left:!1===E.left?0:M.left-E.left,right:!1===E.right?this.width:M.right+E.right,top:!1===E.top?0:M.top-E.top,bottom:!1===E.bottom?this.height:M.bottom+E.bottom}),d.controller.draw(),b&&(0,h.$)(m),B.cancelable=!1,this.notifyPlugins("afterDatasetDraw",B))}isPointInArea(d){return(0,h.C)(d,this.chartArea,this._minPadding)}getElementsAtEventForMode(d,m,E,b){const M=si.modes[m];return"function"==typeof M?M(this,d,E,b):[]}getDatasetMeta(d){const m=this.data.datasets[d],E=this._metasets;let b=E.filter(M=>M&&M._dataset===m).pop();return b||(b={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:m&&m.order||0,index:d,_dataset:m,_parsed:[],_sorted:!1},E.push(b)),b}getContext(){return this.$context||(this.$context=(0,h.j)(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(d){const m=this.data.datasets[d];if(!m)return!1;const E=this.getDatasetMeta(d);return"boolean"==typeof E.hidden?!E.hidden:!m.hidden}setDatasetVisibility(d,m){this.getDatasetMeta(d).hidden=!m}toggleDataVisibility(d){this._hiddenIndices[d]=!this._hiddenIndices[d]}getDataVisibility(d){return!this._hiddenIndices[d]}_updateVisibility(d,m,E){const b=E?"show":"hide",M=this.getDatasetMeta(d),B=M.controller._resolveAnimations(void 0,b);(0,h.h)(m)?(M.data[m].hidden=!E,this.update()):(this.setDatasetVisibility(d,E),B.update(M,{visible:E}),this.update(W=>W.datasetIndex===d?b:void 0))}hide(d,m){this._updateVisibility(d,m,!1)}show(d,m){this._updateVisibility(d,m,!0)}_destroyDatasetMeta(d){const m=this._metasets[d];m&&m.controller&&m.controller._destroy(),delete this._metasets[d]}_stop(){let d,m;for(this.stop(),_e.remove(this),d=0,m=this.data.datasets.length;d<m;++d)this._destroyDatasetMeta(d)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:d,ctx:m}=this;this._stop(),this.config.clearCache(),d&&(this.unbindEvents(),(0,h.af)(d,m),this.platform.releaseContext(m),this.canvas=null,this.ctx=null),delete Js[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...d){return this.canvas.toDataURL(...d)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const d=this._listeners,m=this.platform,E=(M,B)=>{m.addEventListener(this,M,B),d[M]=B},b=(M,B,W)=>{M.offsetX=B,M.offsetY=W,this._eventHandler(M)};(0,h.F)(this.options.events,M=>E(M,b))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const d=this._responsiveListeners,m=this.platform,E=(ne,Ce)=>{m.addEventListener(this,ne,Ce),d[ne]=Ce},b=(ne,Ce)=>{d[ne]&&(m.removeEventListener(this,ne,Ce),delete d[ne])},M=(ne,Ce)=>{this.canvas&&this.resize(ne,Ce)};let B;const W=()=>{b("attach",W),this.attached=!0,this.resize(),E("resize",M),E("detach",B)};B=()=>{this.attached=!1,b("resize",M),this._stop(),this._resize(0,0),E("attach",W)},m.isAttached(this.canvas)?W():B()}unbindEvents(){(0,h.F)(this._listeners,(d,m)=>{this.platform.removeEventListener(this,m,d)}),this._listeners={},(0,h.F)(this._responsiveListeners,(d,m)=>{this.platform.removeEventListener(this,m,d)}),this._responsiveListeners=void 0}updateHoverStyle(d,m,E){const b=E?"set":"remove";let M,B,W,ne;for("dataset"===m&&(M=this.getDatasetMeta(d[0].datasetIndex),M.controller["_"+b+"DatasetHoverStyle"]()),W=0,ne=d.length;W<ne;++W){B=d[W];const Ce=B&&this.getDatasetMeta(B.datasetIndex).controller;Ce&&Ce[b+"HoverStyle"](B.element,B.datasetIndex,B.index)}}getActiveElements(){return this._active||[]}setActiveElements(d){const m=this._active||[],E=d.map(({datasetIndex:M,index:B})=>{const W=this.getDatasetMeta(M);if(!W)throw new Error("No dataset found at index "+M);return{datasetIndex:M,element:W.data[B],index:B}});!(0,h.ah)(E,m)&&(this._active=E,this._lastEvent=null,this._updateHoverStyles(E,m))}notifyPlugins(d,m,E){return this._plugins.notify(this,d,m,E)}isPluginEnabled(d){return 1===this._plugins._cache.filter(m=>m.plugin.id===d).length}_updateHoverStyles(d,m,E){const b=this.options.hover,M=(ne,Ce)=>ne.filter(Ve=>!Ce.some(ht=>Ve.datasetIndex===ht.datasetIndex&&Ve.index===ht.index)),B=M(m,d),W=E?d:M(d,m);B.length&&this.updateHoverStyle(B,b.mode,!1),W.length&&b.mode&&this.updateHoverStyle(W,b.mode,!0)}_eventHandler(d,m){const E={event:d,replay:m,cancelable:!0,inChartArea:this.isPointInArea(d)},b=B=>(B.options.events||this.options.events).includes(d.native.type);if(!1===this.notifyPlugins("beforeEvent",E,b))return;const M=this._handleEvent(d,m,E.inChartArea);return E.cancelable=!1,this.notifyPlugins("afterEvent",E,b),(M||E.changed)&&this.render(),this}_handleEvent(d,m,E){const{_active:b=[],options:M}=this,W=this._getActiveElements(d,b,E,m),ne=(0,h.ai)(d),Ce=function So(C,y,d,m){return d&&"mouseout"!==C.type?m?y:C:null}(d,this._lastEvent,E,ne);E&&(this._lastEvent=null,(0,h.Q)(M.onHover,[d,W,this],this),ne&&(0,h.Q)(M.onClick,[d,W,this],this));const Ve=!(0,h.ah)(W,b);return(Ve||m)&&(this._active=W,this._updateHoverStyles(W,b,m)),this._lastEvent=Ce,Ve}_getActiveElements(d,m,E,b){if("mouseout"===d.type)return[];if(!E)return m;const M=this.options.hover;return this.getElementsAtEventForMode(d,M.mode,M,b)}}return C.defaults=h.d,C.instances=Js,C.overrides=h.a3,C.registry=Vn,C.version="4.4.0",C.getChart=Qo,C})();function ma(){return(0,h.F)(ms.instances,C=>C._plugins.invalidate())}function Vo(C,y,d,m){return{x:d+C*Math.cos(y),y:m+C*Math.sin(y)}}function mo(C,y,d,m,E,b){const{x:M,y:B,startAngle:W,pixelMargin:ne,innerRadius:Ce}=y,Ve=Math.max(y.outerRadius+m+d-ne,0),ht=Ce>0?Ce+m+d+ne:0;let yt=0;const zt=E-W;if(m){const Ji=((Ce>0?Ce-m:0)+(Ve>0?Ve-m:0))/2;yt=(zt-(0!==Ji?zt*Ji/(Ji+m):zt))/2}const gn=(zt-Math.max(.001,zt*Ve-d/h.P)/Ve)/2,Bn=W+gn+yt,xn=E-gn-yt,{outerStart:rr,outerEnd:or,innerStart:Zn,innerEnd:ir}=function Jo(C,y,d,m){const E=function Qi(C){return(0,h.ak)(C,["outerStart","outerEnd","innerStart","innerEnd"])}(C.options.borderRadius),b=(d-y)/2,M=Math.min(b,m*y/2),B=W=>{const ne=(d-Math.min(b,W))*m/2;return(0,h.S)(W,0,Math.min(b,ne))};return{outerStart:B(E.outerStart),outerEnd:B(E.outerEnd),innerStart:(0,h.S)(E.innerStart,0,M),innerEnd:(0,h.S)(E.innerEnd,0,M)}}(y,ht,Ve,xn-Bn),sr=Ve-rr,Dr=Ve-or,ti=Bn+rr/sr,Ti=xn-or/Dr,vr=ht+Zn,ls=ht+ir,gs=Bn+Zn/vr,cs=xn-ir/ls;if(C.beginPath(),b){const Zi=(ti+Ti)/2;if(C.arc(M,B,Ve,ti,Zi),C.arc(M,B,Ve,Zi,Ti),or>0){const aa=Vo(Dr,Ti,M,B);C.arc(aa.x,aa.y,or,Ti,xn+h.H)}const bs=Vo(ls,xn,M,B);if(C.lineTo(bs.x,bs.y),ir>0){const aa=Vo(ls,cs,M,B);C.arc(aa.x,aa.y,ir,xn+h.H,cs+Math.PI)}const Ji=(xn-ir/ht+(Bn+Zn/ht))/2;if(C.arc(M,B,ht,xn-ir/ht,Ji,!0),C.arc(M,B,ht,Ji,Bn+Zn/ht,!0),Zn>0){const aa=Vo(vr,gs,M,B);C.arc(aa.x,aa.y,Zn,gs+Math.PI,Bn-h.H)}const Ma=Vo(sr,Bn,M,B);if(C.lineTo(Ma.x,Ma.y),rr>0){const aa=Vo(sr,ti,M,B);C.arc(aa.x,aa.y,rr,Bn-h.H,ti)}}else{C.moveTo(M,B);const Zi=Math.cos(ti)*Ve+M,bs=Math.sin(ti)*Ve+B;C.lineTo(Zi,bs);const Ji=Math.cos(Ti)*Ve+M,Ma=Math.sin(Ti)*Ve+B;C.lineTo(Ji,Ma)}C.closePath()}class sa extends zr{constructor(y){super(),this.circumference=void 0,this.endAngle=void 0,this.fullCircles=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=void 0,this.startAngle=void 0,this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,y&&Object.assign(this,y)}inRange(y,d,m){const E=this.getProps(["x","y"],m),{angle:b,distance:M}=(0,h.D)(E,{x:y,y:d}),{startAngle:B,endAngle:W,innerRadius:ne,outerRadius:Ce,circumference:Ve}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],m),ht=(this.options.spacing+this.options.borderWidth)/2,zt=(0,h.v)(Ve,W-B)>=h.T||(0,h.p)(b,B,W),sn=(0,h.aj)(M,ne+ht,Ce+ht);return zt&&sn}getCenterPoint(y){const{x:d,y:m,startAngle:E,endAngle:b,innerRadius:M,outerRadius:B}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],y),{offset:W,spacing:ne}=this.options,Ce=(E+b)/2,Ve=(M+B+ne+W)/2;return{x:d+Math.cos(Ce)*Ve,y:m+Math.sin(Ce)*Ve}}tooltipPosition(y){return this.getCenterPoint(y)}draw(y){const{options:d,circumference:m}=this,E=(d.offset||0)/4,b=(d.spacing||0)/2,M=d.circular;if(this.pixelMargin="inner"===d.borderAlign?.33:0,this.fullCircles=m>h.T?Math.floor(m/h.T):0,0===m||this.innerRadius<0||this.outerRadius<0)return;y.save();const B=(this.startAngle+this.endAngle)/2;y.translate(Math.cos(B)*E,Math.sin(B)*E);const ne=E*(1-Math.sin(Math.min(h.P,m||0)));y.fillStyle=d.backgroundColor,y.strokeStyle=d.borderColor,function To(C,y,d,m,E){const{fullCircles:b,startAngle:M,circumference:B}=y;let W=y.endAngle;if(b){mo(C,y,d,m,W,E);for(let ne=0;ne<b;++ne)C.fill();isNaN(B)||(W=M+(B%h.T||h.T))}mo(C,y,d,m,W,E),C.fill()}(y,this,ne,b,M),function Ao(C,y,d,m,E){const{fullCircles:b,startAngle:M,circumference:B,options:W}=y,{borderWidth:ne,borderJoinStyle:Ce,borderDash:Ve,borderDashOffset:ht}=W,yt="inner"===W.borderAlign;if(!ne)return;C.setLineDash(Ve||[]),C.lineDashOffset=ht,yt?(C.lineWidth=2*ne,C.lineJoin=Ce||"round"):(C.lineWidth=ne,C.lineJoin=Ce||"bevel");let zt=y.endAngle;if(b){mo(C,y,d,m,zt,E);for(let sn=0;sn<b;++sn)C.stroke();isNaN(B)||(zt=M+(B%h.T||h.T))}yt&&function Is(C,y,d){const{startAngle:m,pixelMargin:E,x:b,y:M,outerRadius:B,innerRadius:W}=y;let ne=E/B;C.beginPath(),C.arc(b,M,B,m-ne,d+ne),W>E?(ne=E/W,C.arc(b,M,W,d+ne,m-ne,!0)):C.arc(b,M,E,d+h.H,m-h.H),C.closePath(),C.clip()}(C,y,zt),b||(mo(C,y,d,m,zt,E),C.stroke())}(y,this,ne,b,M),y.restore()}}function to(C,y,d=y){C.lineCap=(0,h.v)(d.borderCapStyle,y.borderCapStyle),C.setLineDash((0,h.v)(d.borderDash,y.borderDash)),C.lineDashOffset=(0,h.v)(d.borderDashOffset,y.borderDashOffset),C.lineJoin=(0,h.v)(d.borderJoinStyle,y.borderJoinStyle),C.lineWidth=(0,h.v)(d.borderWidth,y.borderWidth),C.strokeStyle=(0,h.v)(d.borderColor,y.borderColor)}function ro(C,y,d){C.lineTo(d.x,d.y)}function ys(C,y,d={}){const m=C.length,{start:E=0,end:b=m-1}=d,{start:M,end:B}=y,W=Math.max(E,M),ne=Math.min(b,B);return{count:m,start:W,loop:y.loop,ilen:ne<W&&!(E<M&&b<M||E>B&&b>B)?m+ne-W:ne-W}}function Ho(C,y,d,m){const{points:E,options:b}=y,{count:M,start:B,loop:W,ilen:ne}=ys(E,d,m),Ce=function Uo(C){return C.stepped?h.ar:C.tension||"monotone"===C.cubicInterpolationMode?h.as:ro}(b);let yt,zt,sn,{move:Ve=!0,reverse:ht}=m||{};for(yt=0;yt<=ne;++yt)zt=E[(B+(ht?ne-yt:yt))%M],!zt.skip&&(Ve?(C.moveTo(zt.x,zt.y),Ve=!1):Ce(C,sn,zt,ht,b.stepped),sn=zt);return W&&(zt=E[(B+(ht?ne:0))%M],Ce(C,sn,zt,ht,b.stepped)),!!W}function yo(C,y,d,m){const E=y.points,{count:b,start:M,ilen:B}=ys(E,d,m),{move:W=!0,reverse:ne}=m||{};let ht,yt,zt,sn,gn,Bn,Ce=0,Ve=0;const xn=or=>(M+(ne?B-or:or))%b,rr=()=>{sn!==gn&&(C.lineTo(Ce,gn),C.lineTo(Ce,sn),C.lineTo(Ce,Bn))};for(W&&(yt=E[xn(0)],C.moveTo(yt.x,yt.y)),ht=0;ht<=B;++ht){if(yt=E[xn(ht)],yt.skip)continue;const or=yt.x,Zn=yt.y,ir=0|or;ir===zt?(Zn<sn?sn=Zn:Zn>gn&&(gn=Zn),Ce=(Ve*Ce+or)/++Ve):(rr(),C.lineTo(or,Zn),zt=ir,Ve=0,sn=gn=Zn),Bn=Zn}rr()}function ea(C){const y=C.options;return C._decimated||C._loop||y.tension||"monotone"===y.cubicInterpolationMode||y.stepped||y.borderDash&&y.borderDash.length?Ho:yo}sa.id="arc",sa.defaults={borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0},sa.defaultRoutes={backgroundColor:"backgroundColor"},sa.descriptors={_scriptable:!0,_indexable:C=>"borderDash"!==C};const N="function"==typeof Path2D;let Xe=(()=>{class C extends zr{constructor(d){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,d&&Object.assign(this,d)}updateControlPoints(d,m){const E=this.options;!E.tension&&"monotone"!==E.cubicInterpolationMode||E.stepped||this._pointsUpdated||((0,h.al)(this._points,E,d,E.spanGaps?this._loop:this._fullLoop,m),this._pointsUpdated=!0)}set points(d){this._points=d,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=(0,h.am)(this,this.options.segment))}first(){const d=this.segments;return d.length&&this.points[d[0].start]}last(){const d=this.segments,E=d.length;return E&&this.points[d[E-1].end]}interpolate(d,m){const E=this.options,b=d[m],M=this.points,B=(0,h.an)(this,{property:m,start:b,end:b});if(!B.length)return;const W=[],ne=function Wo(C){return C.stepped?h.ao:C.tension||"monotone"===C.cubicInterpolationMode?h.ap:h.aq}(E);let Ce,Ve;for(Ce=0,Ve=B.length;Ce<Ve;++Ce){const{start:ht,end:yt}=B[Ce],zt=M[ht],sn=M[yt];if(zt===sn){W.push(zt);continue}const Bn=ne(zt,sn,Math.abs((b-zt[m])/(sn[m]-zt[m])),E.stepped);Bn[m]=d[m],W.push(Bn)}return 1===W.length?W[0]:W}pathSegment(d,m,E){return ea(this)(d,this,m,E)}path(d,m,E){const b=this.segments,M=ea(this);let B=this._loop;m=m||0,E=E||this.points.length-m;for(const W of b)B&=M(d,this,W,{start:m,end:m+E-1});return!!B}draw(d,m,E,b){(this.points||[]).length&&(this.options||{}).borderWidth&&(d.save(),function ce(C,y,d,m){N&&!y.options.segment?function k(C,y,d,m){let E=y._path;E||(E=y._path=new Path2D,y.path(E,d,m)&&E.closePath()),to(C,y.options),C.stroke(E)}(C,y,d,m):function he(C,y,d,m){const{segments:E,options:b}=y,M=ea(y);for(const B of E)to(C,b,B.style),C.beginPath(),M(C,y,B,{start:d,end:d+m-1})&&C.closePath(),C.stroke()}(C,y,d,m)}(d,this,E,b),d.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}return C.id="line",C.defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0},C.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"},C.descriptors={_scriptable:!0,_indexable:y=>"borderDash"!==y&&"fill"!==y},C})();function En(C,y,d,m){const E=C.options,{[d]:b}=C.getProps([d],m);return Math.abs(y-b)<E.radius+E.hitRadius}let Cr=(()=>{class C extends zr{constructor(d){super(),this.parsed=void 0,this.skip=void 0,this.stop=void 0,this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,d&&Object.assign(this,d)}inRange(d,m,E){const b=this.options,{x:M,y:B}=this.getProps(["x","y"],E);return Math.pow(d-M,2)+Math.pow(m-B,2)<Math.pow(b.hitRadius+b.radius,2)}inXRange(d,m){return En(this,d,"x",m)}inYRange(d,m){return En(this,d,"y",m)}getCenterPoint(d){const{x:m,y:E}=this.getProps(["x","y"],d);return{x:m,y:E}}size(d){let m=(d=d||this.options||{}).radius||0;return m=Math.max(m,m&&d.hoverRadius||0),2*(m+(m&&d.borderWidth||0))}draw(d,m){const E=this.options;this.skip||E.radius<.1||!(0,h.C)(this,m,this.size(E)/2)||(d.strokeStyle=E.borderColor,d.lineWidth=E.borderWidth,d.fillStyle=E.backgroundColor,(0,h.at)(d,E,this.x,this.y))}getRange(){const d=this.options||{};return d.radius+d.hitRadius}}return C.id="point",C.defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0},C.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"},C})();function Ur(C,y){const{x:d,y:m,base:E,width:b,height:M}=C.getProps(["x","y","base","width","height"],y);let B,W,ne,Ce,Ve;return C.horizontal?(Ve=M/2,B=Math.min(d,E),W=Math.max(d,E),ne=m-Ve,Ce=m+Ve):(Ve=b/2,B=d-Ve,W=d+Ve,ne=Math.min(m,E),Ce=Math.max(m,E)),{left:B,top:ne,right:W,bottom:Ce}}function yi(C,y,d,m){return C?0:(0,h.S)(y,d,m)}function Ks(C,y,d,m){const E=null===y,b=null===d,B=C&&!(E&&b)&&Ur(C,m);return B&&(E||(0,h.aj)(y,B.left,B.right))&&(b||(0,h.aj)(d,B.top,B.bottom))}function be(C,y){C.rect(y.x,y.y,y.w,y.h)}function de(C,y,d={}){const m=C.x!==d.x?-y:0,E=C.y!==d.y?-y:0;return{x:C.x+m,y:C.y+E,w:C.w+((C.x+C.w!==d.x+d.w?y:0)-m),h:C.h+((C.y+C.h!==d.y+d.h?y:0)-E),radius:C.radius}}class $ extends zr{constructor(y){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,y&&Object.assign(this,y)}draw(y){const{inflateAmount:d,options:{borderColor:m,backgroundColor:E}}=this,{inner:b,outer:M}=function vs(C){const y=Ur(C),d=y.right-y.left,m=y.bottom-y.top,E=function wi(C,y,d){const E=C.borderSkipped,b=(0,h.av)(C.options.borderWidth);return{t:yi(E.top,b.top,0,d),r:yi(E.right,b.right,0,y),b:yi(E.bottom,b.bottom,0,d),l:yi(E.left,b.left,0,y)}}(C,d/2,m/2),b=function Ms(C,y,d){const{enableBorderRadius:m}=C.getProps(["enableBorderRadius"]),E=C.options.borderRadius,b=(0,h.aw)(E),M=Math.min(y,d),B=C.borderSkipped,W=m||(0,h.i)(E);return{topLeft:yi(!W||B.top||B.left,b.topLeft,0,M),topRight:yi(!W||B.top||B.right,b.topRight,0,M),bottomLeft:yi(!W||B.bottom||B.left,b.bottomLeft,0,M),bottomRight:yi(!W||B.bottom||B.right,b.bottomRight,0,M)}}(C,d/2,m/2);return{outer:{x:y.left,y:y.top,w:d,h:m,radius:b},inner:{x:y.left+E.l,y:y.top+E.t,w:d-E.l-E.r,h:m-E.t-E.b,radius:{topLeft:Math.max(0,b.topLeft-Math.max(E.t,E.l)),topRight:Math.max(0,b.topRight-Math.max(E.t,E.r)),bottomLeft:Math.max(0,b.bottomLeft-Math.max(E.b,E.l)),bottomRight:Math.max(0,b.bottomRight-Math.max(E.b,E.r))}}}}(this),B=function Fo(C){return C.topLeft||C.topRight||C.bottomLeft||C.bottomRight}(M.radius)?h.au:be;y.save(),(M.w!==b.w||M.h!==b.h)&&(y.beginPath(),B(y,de(M,d,b)),y.clip(),B(y,de(b,-d,M)),y.fillStyle=m,y.fill("evenodd")),y.beginPath(),B(y,de(b,d)),y.fillStyle=E,y.fill(),y.restore()}inRange(y,d,m){return Ks(this,y,d,m)}inXRange(y,d){return Ks(this,y,null,d)}inYRange(y,d){return Ks(this,null,y,d)}getCenterPoint(y){const{x:d,y:m,base:E,horizontal:b}=this.getProps(["x","y","base","horizontal"],y);return{x:b?(d+E)/2:d,y:b?m:(m+E)/2}}getRange(y){return"x"===y?this.width/2:this.height/2}}$.id="bar",$.defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0},$.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};var L=Object.freeze({__proto__:null,ArcElement:sa,BarElement:$,LineElement:Xe,PointElement:Cr});const T=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],F=T.map(C=>C.replace("rgb(","rgba(").replace(")",", 0.5)"));function ge(C){return T[C%T.length]}function ft(C){return F[C%F.length]}function qr(C){let y;for(y in C)if(C[y].borderColor||C[y].backgroundColor)return!0;return!1}var ii={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(C,y,d){if(!d.enabled)return;const{data:{datasets:m},options:E}=C.config,{elements:b}=E;if(!d.forceOverride&&(qr(m)||function oi(C){return C&&(C.borderColor||C.backgroundColor)}(E)||b&&qr(b)))return;const M=function Yr(C){let y=0;return(d,m)=>{const E=C.getDatasetMeta(m).controller;E instanceof ar?y=function dn(C,y){return C.backgroundColor=C.data.map(()=>ge(y++)),y}(d,y):E instanceof un?y=function Tn(C,y){return C.backgroundColor=C.data.map(()=>ft(y++)),y}(d,y):E&&(y=function Ot(C,y){return C.borderColor=ge(y),C.backgroundColor=ft(y),++y}(d,y))}}(C);m.forEach(M)}};function io(C){if(C._decimated){const y=C._data;delete C._decimated,delete C._data,Object.defineProperty(C,"data",{configurable:!0,enumerable:!0,writable:!0,value:y})}}function Cs(C){C.data.datasets.forEach(y=>{io(y)})}var Ns={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(C,y,d)=>{if(!d.enabled)return void Cs(C);const m=C.width;C.data.datasets.forEach((E,b)=>{const{_data:M,indexAxis:B}=E,W=C.getDatasetMeta(b),ne=M||E.data;if("y"===(0,h.a)([B,C.options.indexAxis])||!W.controller.supportsDecimation)return;const Ce=C.scales[W.xAxisID];if("linear"!==Ce.type&&"time"!==Ce.type||C.options.parsing)return;let zt,{start:Ve,count:ht}=function js(C,y){const d=y.length;let E,m=0;const{iScale:b}=C,{min:M,max:B,minDefined:W,maxDefined:ne}=b.getUserBounds();return W&&(m=(0,h.S)((0,h.B)(y,b.axis,M).lo,0,d-1)),E=ne?(0,h.S)((0,h.B)(y,b.axis,B).hi+1,m,d)-m:d-m,{start:m,count:E}}(W,ne);if(ht<=(d.threshold||4*m))io(E);else{switch((0,h.k)(M)&&(E._data=ne,delete E.data,Object.defineProperty(E,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(sn){this._data=sn}})),d.algorithm){case"lttb":zt=function ai(C,y,d,m,E){const b=E.samples||m;if(b>=d)return C.slice(y,y+d);const M=[],B=(d-2)/(b-2);let W=0;const ne=y+d-1;let Ve,ht,yt,zt,sn,Ce=y;for(M[W++]=C[Ce],Ve=0;Ve<b-2;Ve++){let xn,gn=0,Bn=0;const rr=Math.floor((Ve+1)*B)+1+y,or=Math.min(Math.floor((Ve+2)*B)+1,d)+y,Zn=or-rr;for(xn=rr;xn<or;xn++)gn+=C[xn].x,Bn+=C[xn].y;gn/=Zn,Bn/=Zn;const ir=Math.floor(Ve*B)+1+y,sr=Math.min(Math.floor((Ve+1)*B)+1,d)+y,{x:Dr,y:ti}=C[Ce];for(yt=zt=-1,xn=ir;xn<sr;xn++)zt=.5*Math.abs((Dr-gn)*(C[xn].y-ti)-(Dr-C[xn].x)*(Bn-ti)),zt>yt&&(yt=zt,ht=C[xn],sn=xn);M[W++]=ht,Ce=sn}return M[W++]=C[ne],M}(ne,Ve,ht,m,d);break;case"min-max":zt=function ji(C,y,d,m){let M,B,W,ne,Ce,Ve,ht,yt,zt,sn,E=0,b=0;const gn=[],xn=C[y].x,or=C[y+d-1].x-xn;for(M=y;M<y+d;++M){B=C[M],W=(B.x-xn)/or*m,ne=B.y;const Zn=0|W;if(Zn===Ce)ne<zt?(zt=ne,Ve=M):ne>sn&&(sn=ne,ht=M),E=(b*E+B.x)/++b;else{const ir=M-1;if(!(0,h.k)(Ve)&&!(0,h.k)(ht)){const sr=Math.min(Ve,ht),Dr=Math.max(Ve,ht);sr!==yt&&sr!==ir&&gn.push({...C[sr],x:E}),Dr!==yt&&Dr!==ir&&gn.push({...C[Dr],x:E})}M>0&&ir!==yt&&gn.push(C[ir]),gn.push(B),Ce=Zn,b=0,zt=sn=ne,Ve=ht=yt=M}}return gn}(ne,Ve,ht,m);break;default:throw new Error(`Unsupported decimation algorithm '${d.algorithm}'`)}E._decimated=zt}})},destroy(C){Cs(C)}};function vo(C,y,d,m){if(m)return;let E=y[C],b=d[C];return"angle"===C&&(E=(0,h.ay)(E),b=(0,h.ay)(b)),{property:C,start:E,end:b}}function Lo(C,y,d){for(;y>C;y--){const m=d[y];if(!isNaN(m.x)&&!isNaN(m.y))break}return y}function Wa(C,y,d,m){return C&&y?m(C[d],y[d]):C?C[d]:y?y[d]:0}function ka(C,y){let d=[],m=!1;return(0,h.b)(C)?(m=!0,d=C):d=function wa(C,y){const{x:d=null,y:m=null}=C||{},E=y.points,b=[];return y.segments.forEach(({start:M,end:B})=>{B=Lo(M,B,E);const W=E[M],ne=E[B];null!==m?(b.push({x:W.x,y:m}),b.push({x:ne.x,y:m})):null!==d&&(b.push({x:d,y:W.y}),b.push({x:d,y:ne.y}))}),b}(C,y),d.length?new Xe({points:d,options:{tension:0},_loop:m,_fullLoop:m}):null}function Ga(C){return C&&!1!==C.fill}function ml(C,y,d){let E=C[y].fill;const b=[y];let M;if(!d)return E;for(;!1!==E&&-1===b.indexOf(E);){if(!(0,h.g)(E))return E;if(M=C[E],!M)return!1;if(M.visible)return E;b.push(E),E=M.fill}return!1}function Gi(C,y,d){const m=function Ml(C){const y=C.options,d=y.fill;let m=(0,h.v)(d&&d.target,d);return void 0===m&&(m=!!y.backgroundColor),!1!==m&&null!==m&&(!0===m?"origin":m)}(C);if((0,h.i)(m))return!isNaN(m.value)&&m;let E=parseFloat(m);return(0,h.g)(E)&&Math.floor(E)===E?function il(C,y,d,m){return("-"===C||"+"===C)&&(d=y+d),!(d===y||d<0||d>=m)&&d}(m[0],y,E,d):["origin","start","end","stack","shape"].indexOf(m)>=0&&m}function P(C,y,d){const m=[];for(let E=0;E<d.length;E++){const b=d[E],{first:M,last:B,point:W}=X(b,y,"x");if(!(!W||M&&B))if(M)m.unshift(W);else if(C.push(W),!B)break}C.push(...m)}function X(C,y,d){const m=C.interpolate(y,d);if(!m)return{};const E=m[d],b=C.segments,M=C.points;let B=!1,W=!1;for(let ne=0;ne<b.length;ne++){const Ce=b[ne],Ve=M[Ce.start][d],ht=M[Ce.end][d];if((0,h.aj)(E,Ve,ht)){B=E===Ve,W=E===ht;break}}return{first:B,last:W,point:m}}class le{constructor(y){this.x=y.x,this.y=y.y,this.radius=y.radius}pathSegment(y,d,m){const{x:E,y:b,radius:M}=this;return y.arc(E,b,M,(d=d||{start:0,end:h.T}).end,d.start,!0),!m.bounds}interpolate(y){const{x:d,y:m,radius:E}=this,b=y.angle;return{x:d+Math.cos(b)*E,y:m+Math.sin(b)*E,angle:b}}}function tn(C,y,d){const m=function De(C){const{chart:y,fill:d,line:m}=C;if((0,h.g)(d))return function Ue(C,y){const d=C.getDatasetMeta(y);return d&&C.isDatasetVisible(y)?d.dataset:null}(y,d);if("stack"===d)return function Go(C){const{scale:y,index:d,line:m}=C,E=[],b=m.segments,M=m.points,B=function sl(C,y){const d=[],m=C.getMatchingVisibleMetas("line");for(let E=0;E<m.length;E++){const b=m[E];if(b.index===y)break;b.hidden||d.unshift(b.dataset)}return d}(y,d);B.push(ka({x:null,y:y.bottom},m));for(let W=0;W<b.length;W++){const ne=b[W];for(let Ce=ne.start;Ce<=ne.end;Ce++)P(E,M[Ce],B)}return new Xe({points:E,options:{}})}(C);if("shape"===d)return!0;const E=function ot(C){return(C.scale||{}).getPointPositionForValue?function Wt(C){const{scale:y,fill:d}=C,m=y.options,E=y.getLabels().length,b=m.reverse?y.max:y.min,M=function xl(C,y,d){let m;return m="start"===C?d:"end"===C?y.options.reverse?y.min:y.max:(0,h.i)(C)?C.value:y.getBaseValue(),m}(d,y,b),B=[];if(m.grid.circular){const W=y.getPointPositionForValue(0,b);return new le({x:W.x,y:W.y,radius:y.getDistanceFromCenterForValue(M)})}for(let W=0;W<E;++W)B.push(y.getPointPositionForValue(W,M));return B}(C):function Dt(C){const{scale:y={},fill:d}=C,m=function Fs(C,y){let d=null;return"start"===C?d=y.bottom:"end"===C?d=y.top:(0,h.i)(C)?d=y.getPixelForValue(C.value):y.getBasePixel&&(d=y.getBasePixel()),d}(d,y);if((0,h.g)(m)){const E=y.isHorizontal();return{x:E?m:null,y:E?null:m}}return null}(C)}(C);return E instanceof le?E:ka(E,m)}(y),{line:E,scale:b,axis:M}=y,B=E.options,W=B.fill,ne=B.backgroundColor,{above:Ce=ne,below:Ve=ne}=W||{};m&&E.points.length&&((0,h.Y)(C,d),function kn(C,y){const{line:d,target:m,above:E,below:b,area:M,scale:B}=y,W=d._loop?"angle":y.axis;C.save(),"x"===W&&b!==E&&(nr(C,m,M.top),li(C,{line:d,target:m,color:E,scale:B,property:W}),C.restore(),C.save(),nr(C,m,M.bottom)),li(C,{line:d,target:m,color:b,scale:B,property:W}),C.restore()}(C,{line:E,target:m,above:Ce,below:Ve,area:d,scale:b,axis:M}),(0,h.$)(C))}function nr(C,y,d){const{segments:m,points:E}=y;let b=!0,M=!1;C.beginPath();for(const B of m){const{start:W,end:ne}=B,Ce=E[W],Ve=E[Lo(W,ne,E)];b?(C.moveTo(Ce.x,Ce.y),b=!1):(C.lineTo(Ce.x,d),C.lineTo(Ce.x,Ce.y)),M=!!y.pathSegment(C,B,{move:M}),M?C.closePath():C.lineTo(Ve.x,d)}C.lineTo(y.first().x,d),C.closePath(),C.clip()}function li(C,y){const{line:d,target:m,property:E,color:b,scale:M}=y,B=function Ds(C,y,d){const m=C.segments,E=C.points,b=y.points,M=[];for(const B of m){let{start:W,end:ne}=B;ne=Lo(W,ne,E);const Ce=vo(d,E[W],E[ne],B.loop);if(!y.segments){M.push({source:B,target:Ce,start:E[W],end:E[ne]});continue}const Ve=(0,h.an)(y,Ce);for(const ht of Ve){const yt=vo(d,b[ht.start],b[ht.end],ht.loop),zt=(0,h.ax)(B,E,yt);for(const sn of zt)M.push({source:sn,target:ht,start:{[d]:Wa(Ce,yt,"start",Math.max)},end:{[d]:Wa(Ce,yt,"end",Math.min)}})}}return M}(d,m,E);for(const{source:W,target:ne,start:Ce,end:Ve}of B){const{style:{backgroundColor:ht=b}={}}=W,yt=!0!==m;C.save(),C.fillStyle=ht,Wr(C,M,yt&&vo(E,Ce,Ve)),C.beginPath();const zt=!!d.pathSegment(C,W);let sn;if(yt){zt?C.closePath():Ls(C,m,Ve,E);const gn=!!m.pathSegment(C,ne,{move:zt,reverse:!0});sn=zt&&gn,sn||Ls(C,m,Ce,E)}C.closePath(),C.fill(sn?"evenodd":"nonzero"),C.restore()}}function Wr(C,y,d){const{top:m,bottom:E}=y.chart.chartArea,{property:b,start:M,end:B}=d||{};"x"===b&&(C.beginPath(),C.rect(M,m,B-M,E-m),C.clip())}function Ls(C,y,d,m){const E=y.interpolate(d,m);E&&C.lineTo(E.x,E.y)}var co={id:"filler",afterDatasetsUpdate(C,y,d){const m=(C.data.datasets||[]).length,E=[];let b,M,B,W;for(M=0;M<m;++M)b=C.getDatasetMeta(M),B=b.dataset,W=null,B&&B.options&&B instanceof Xe&&(W={visible:C.isDatasetVisible(M),index:M,fill:Gi(B,M,m),chart:C,axis:b.controller.options.indexAxis,scale:b.vScale,line:B}),b.$filler=W,E.push(W);for(M=0;M<m;++M)W=E[M],W&&!1!==W.fill&&(W.fill=ml(E,M,d.propagate))},beforeDraw(C,y,d){const m="beforeDraw"===d.drawTime,E=C.getSortedVisibleDatasetMetas(),b=C.chartArea;for(let M=E.length-1;M>=0;--M){const B=E[M].$filler;B&&(B.line.updateControlPoints(b,B.axis),m&&B.fill&&tn(C.ctx,B,b))}},beforeDatasetsDraw(C,y,d){if("beforeDatasetsDraw"!==d.drawTime)return;const m=C.getSortedVisibleDatasetMetas();for(let E=m.length-1;E>=0;--E){const b=m[E].$filler;Ga(b)&&tn(C.ctx,b,C.chartArea)}},beforeDatasetDraw(C,y,d){const m=y.meta.$filler;!Ga(m)||"beforeDatasetDraw"!==d.drawTime||tn(C.ctx,m,C.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const q=(C,y)=>{let{boxHeight:d=y,boxWidth:m=y}=C;return C.usePointStyle&&(d=Math.min(d,y),m=C.pointStyleWidth||Math.min(m,y)),{boxWidth:m,boxHeight:d,itemHeight:Math.max(y,d)}};class ee extends zr{constructor(y){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=y.chart,this.options=y.options,this.ctx=y.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(y,d,m){this.maxWidth=y,this.maxHeight=d,this._margins=m,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const y=this.options.labels||{};let d=(0,h.Q)(y.generateLabels,[this.chart],this)||[];y.filter&&(d=d.filter(m=>y.filter(m,this.chart.data))),y.sort&&(d=d.sort((m,E)=>y.sort(m,E,this.chart.data))),this.options.reverse&&d.reverse(),this.legendItems=d}fit(){const{options:y,ctx:d}=this;if(!y.display)return void(this.width=this.height=0);const m=y.labels,E=(0,h.a0)(m.font),b=E.size,M=this._computeTitleHeight(),{boxWidth:B,itemHeight:W}=q(m,b);let ne,Ce;d.font=E.string,this.isHorizontal()?(ne=this.maxWidth,Ce=this._fitRows(M,b,B,W)+10):(Ce=this.maxHeight,ne=this._fitCols(M,E,B,W)+10),this.width=Math.min(ne,y.maxWidth||this.maxWidth),this.height=Math.min(Ce,y.maxHeight||this.maxHeight)}_fitRows(y,d,m,E){const{ctx:b,maxWidth:M,options:{labels:{padding:B}}}=this,W=this.legendHitBoxes=[],ne=this.lineWidths=[0],Ce=E+B;let Ve=y;b.textAlign="left",b.textBaseline="middle";let ht=-1,yt=-Ce;return this.legendItems.forEach((zt,sn)=>{const gn=m+d/2+b.measureText(zt.text).width;(0===sn||ne[ne.length-1]+gn+2*B>M)&&(Ve+=Ce,ne[ne.length-(sn>0?0:1)]=0,yt+=Ce,ht++),W[sn]={left:0,top:yt,row:ht,width:gn,height:E},ne[ne.length-1]+=gn+B}),Ve}_fitCols(y,d,m,E){const{ctx:b,maxHeight:M,options:{labels:{padding:B}}}=this,W=this.legendHitBoxes=[],ne=this.columnSizes=[],Ce=M-y;let Ve=B,ht=0,yt=0,zt=0,sn=0;return this.legendItems.forEach((gn,Bn)=>{const{itemWidth:xn,itemHeight:rr}=function Fe(C,y,d,m,E){const b=function _t(C,y,d,m){let E=C.text;return E&&"string"!=typeof E&&(E=E.reduce((b,M)=>b.length>M.length?b:M)),y+d.size/2+m.measureText(E).width}(m,C,y,d),M=function _n(C,y,d){let m=C;return"string"!=typeof y.text&&(m=An(y,d)),m}(E,m,y.lineHeight);return{itemWidth:b,itemHeight:M}}(m,d,b,gn,E);Bn>0&&yt+rr+2*B>Ce&&(Ve+=ht+B,ne.push({width:ht,height:yt}),zt+=ht+B,sn++,ht=yt=0),W[Bn]={left:zt,top:yt,col:sn,width:xn,height:rr},ht=Math.max(ht,xn),yt+=rr+B}),Ve+=ht,ne.push({width:ht,height:yt}),Ve}adjustHitBoxes(){if(!this.options.display)return;const y=this._computeTitleHeight(),{legendHitBoxes:d,options:{align:m,labels:{padding:E},rtl:b}}=this,M=(0,h.az)(b,this.left,this.width);if(this.isHorizontal()){let B=0,W=(0,h.a2)(m,this.left+E,this.right-this.lineWidths[B]);for(const ne of d)B!==ne.row&&(B=ne.row,W=(0,h.a2)(m,this.left+E,this.right-this.lineWidths[B])),ne.top+=this.top+y+E,ne.left=M.leftForLtr(M.x(W),ne.width),W+=ne.width+E}else{let B=0,W=(0,h.a2)(m,this.top+y+E,this.bottom-this.columnSizes[B].height);for(const ne of d)ne.col!==B&&(B=ne.col,W=(0,h.a2)(m,this.top+y+E,this.bottom-this.columnSizes[B].height)),ne.top=W,ne.left+=this.left+E,ne.left=M.leftForLtr(M.x(ne.left),ne.width),W+=ne.height+E}}isHorizontal(){return"top"===this.options.position||"bottom"===this.options.position}draw(){if(this.options.display){const y=this.ctx;(0,h.Y)(y,this),this._draw(),(0,h.$)(y)}}_draw(){const{options:y,columnSizes:d,lineWidths:m,ctx:E}=this,{align:b,labels:M}=y,B=h.d.color,W=(0,h.az)(y.rtl,this.left,this.width),ne=(0,h.a0)(M.font),{padding:Ce}=M,Ve=ne.size,ht=Ve/2;let yt;this.drawTitle(),E.textAlign=W.textAlign("left"),E.textBaseline="middle",E.lineWidth=.5,E.font=ne.string;const{boxWidth:zt,boxHeight:sn,itemHeight:gn}=q(M,Ve),rr=this.isHorizontal(),or=this._computeTitleHeight();yt=rr?{x:(0,h.a2)(b,this.left+Ce,this.right-m[0]),y:this.top+Ce+or,line:0}:{x:this.left+Ce,y:(0,h.a2)(b,this.top+or+Ce,this.bottom-d[0].height),line:0},(0,h.aA)(this.ctx,y.textDirection);const Zn=gn+Ce;this.legendItems.forEach((ir,sr)=>{E.strokeStyle=ir.fontColor,E.fillStyle=ir.fontColor;const Dr=E.measureText(ir.text).width,ti=W.textAlign(ir.textAlign||(ir.textAlign=M.textAlign)),Ti=zt+ht+Dr;let vr=yt.x,ls=yt.y;W.setWidth(this.width),rr?sr>0&&vr+Ti+Ce>this.right&&(ls=yt.y+=Zn,yt.line++,vr=yt.x=(0,h.a2)(b,this.left+Ce,this.right-m[yt.line])):sr>0&&ls+Zn>this.bottom&&(vr=yt.x=vr+d[yt.line].width+Ce,yt.line++,ls=yt.y=(0,h.a2)(b,this.top+or+Ce,this.bottom-d[yt.line].height)),function(ir,sr,Dr){if(isNaN(zt)||zt<=0||isNaN(sn)||sn<0)return;E.save();const ti=(0,h.v)(Dr.lineWidth,1);if(E.fillStyle=(0,h.v)(Dr.fillStyle,B),E.lineCap=(0,h.v)(Dr.lineCap,"butt"),E.lineDashOffset=(0,h.v)(Dr.lineDashOffset,0),E.lineJoin=(0,h.v)(Dr.lineJoin,"miter"),E.lineWidth=ti,E.strokeStyle=(0,h.v)(Dr.strokeStyle,B),E.setLineDash((0,h.v)(Dr.lineDash,[])),M.usePointStyle){const Ti={radius:sn*Math.SQRT2/2,pointStyle:Dr.pointStyle,rotation:Dr.rotation,borderWidth:ti},vr=W.xPlus(ir,zt/2);(0,h.aD)(E,Ti,vr,sr+ht,M.pointStyleWidth&&zt)}else{const Ti=sr+Math.max((Ve-sn)/2,0),vr=W.leftForLtr(ir,zt),ls=(0,h.aw)(Dr.borderRadius);E.beginPath(),Object.values(ls).some(gs=>0!==gs)?(0,h.au)(E,{x:vr,y:Ti,w:zt,h:sn,radius:ls}):E.rect(vr,Ti,zt,sn),E.fill(),0!==ti&&E.stroke()}E.restore()}(W.x(vr),ls,ir),vr=(0,h.aB)(ti,vr+zt+ht,rr?vr+Ti:this.right,y.rtl),function(ir,sr,Dr){(0,h.Z)(E,Dr.text,ir,sr+gn/2,ne,{strikethrough:Dr.hidden,textAlign:W.textAlign(Dr.textAlign)})}(W.x(vr),ls,ir),rr?yt.x+=Ti+Ce:yt.y+="string"!=typeof ir.text?An(ir,ne.lineHeight)+Ce:Zn}),(0,h.aC)(this.ctx,y.textDirection)}drawTitle(){const y=this.options,d=y.title,m=(0,h.a0)(d.font),E=(0,h.E)(d.padding);if(!d.display)return;const b=(0,h.az)(y.rtl,this.left,this.width),M=this.ctx,B=d.position,ne=E.top+m.size/2;let Ce,Ve=this.left,ht=this.width;if(this.isHorizontal())ht=Math.max(...this.lineWidths),Ce=this.top+ne,Ve=(0,h.a2)(y.align,Ve,this.right-ht);else{const zt=this.columnSizes.reduce((sn,gn)=>Math.max(sn,gn.height),0);Ce=ne+(0,h.a2)(y.align,this.top,this.bottom-zt-y.labels.padding-this._computeTitleHeight())}const yt=(0,h.a2)(B,Ve,Ve+ht);M.textAlign=b.textAlign((0,h.a1)(B)),M.textBaseline="middle",M.strokeStyle=d.color,M.fillStyle=d.color,M.font=m.string,(0,h.Z)(M,d.text,yt,Ce,m)}_computeTitleHeight(){const y=this.options.title,d=(0,h.a0)(y.font),m=(0,h.E)(y.padding);return y.display?d.lineHeight+m.height:0}_getLegendItemAt(y,d){let m,E,b;if((0,h.aj)(y,this.left,this.right)&&(0,h.aj)(d,this.top,this.bottom))for(b=this.legendHitBoxes,m=0;m<b.length;++m)if(E=b[m],(0,h.aj)(y,E.left,E.left+E.width)&&(0,h.aj)(d,E.top,E.top+E.height))return this.legendItems[m];return null}handleEvent(y){const d=this.options;if(!function Jr(C,y){return!(("mousemove"!==C&&"mouseout"!==C||!y.onHover&&!y.onLeave)&&(!y.onClick||"click"!==C&&"mouseup"!==C))}(y.type,d))return;const m=this._getLegendItemAt(y.x,y.y);if("mousemove"===y.type||"mouseout"===y.type){const E=this._hoveredItem,b=((C,y)=>null!==C&&null!==y&&C.datasetIndex===y.datasetIndex&&C.index===y.index)(E,m);E&&!b&&(0,h.Q)(d.onLeave,[y,E,this],this),this._hoveredItem=m,m&&!b&&(0,h.Q)(d.onHover,[y,m,this],this)}else m&&(0,h.Q)(d.onClick,[y,m,this],this)}}function An(C,y){return y*(C.text?C.text.length:0)}var yr={id:"legend",_element:ee,start(C,y,d){const m=C.legend=new ee({ctx:C.ctx,options:d,chart:C});gt.configure(C,m,d),gt.addBox(C,m)},stop(C){gt.removeBox(C,C.legend),delete C.legend},beforeUpdate(C,y,d){const m=C.legend;gt.configure(C,m,d),m.options=d},afterUpdate(C){const y=C.legend;y.buildLabels(),y.adjustHitBoxes()},afterEvent(C,y){y.replay||C.legend.handleEvent(y.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(C,y,d){const m=y.datasetIndex,E=d.chart;E.isDatasetVisible(m)?(E.hide(m),y.hidden=!0):(E.show(m),y.hidden=!1)},onHover:null,onLeave:null,labels:{color:C=>C.chart.options.color,boxWidth:40,padding:10,generateLabels(C){const y=C.data.datasets,{labels:{usePointStyle:d,pointStyle:m,textAlign:E,color:b,useBorderRadius:M,borderRadius:B}}=C.legend.options;return C._getSortedDatasetMetas().map(W=>{const ne=W.controller.getStyle(d?0:void 0),Ce=(0,h.E)(ne.borderWidth);return{text:y[W.index].label,fillStyle:ne.backgroundColor,fontColor:b,hidden:!W.visible,lineCap:ne.borderCapStyle,lineDash:ne.borderDash,lineDashOffset:ne.borderDashOffset,lineJoin:ne.borderJoinStyle,lineWidth:(Ce.width+Ce.height)/4,strokeStyle:ne.borderColor,pointStyle:m||ne.pointStyle,rotation:ne.rotation,textAlign:E||ne.textAlign,borderRadius:M&&(B||ne.borderRadius),datasetIndex:W.index}},this)}},title:{color:C=>C.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:C=>!C.startsWith("on"),labels:{_scriptable:C=>!["generateLabels","filter","sort"].includes(C)}}};class Ni extends zr{constructor(y){super(),this.chart=y.chart,this.options=y.options,this.ctx=y.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(y,d){const m=this.options;if(this.left=0,this.top=0,!m.display)return void(this.width=this.height=this.right=this.bottom=0);this.width=this.right=y,this.height=this.bottom=d;const E=(0,h.b)(m.text)?m.text.length:1;this._padding=(0,h.E)(m.padding);const b=E*(0,h.a0)(m.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=b:this.width=b}isHorizontal(){const y=this.options.position;return"top"===y||"bottom"===y}_drawArgs(y){const{top:d,left:m,bottom:E,right:b,options:M}=this,B=M.align;let ne,Ce,Ve,W=0;return this.isHorizontal()?(Ce=(0,h.a2)(B,m,b),Ve=d+y,ne=b-m):("left"===M.position?(Ce=m+y,Ve=(0,h.a2)(B,E,d),W=-.5*h.P):(Ce=b-y,Ve=(0,h.a2)(B,d,E),W=.5*h.P),ne=E-d),{titleX:Ce,titleY:Ve,maxWidth:ne,rotation:W}}draw(){const y=this.ctx,d=this.options;if(!d.display)return;const m=(0,h.a0)(d.font),b=m.lineHeight/2+this._padding.top,{titleX:M,titleY:B,maxWidth:W,rotation:ne}=this._drawArgs(b);(0,h.Z)(y,d.text,0,0,m,{color:d.color,maxWidth:W,rotation:ne,textAlign:(0,h.a1)(d.align),textBaseline:"middle",translation:[M,B]})}}var xi={id:"title",_element:Ni,start(C,y,d){!function di(C,y){const d=new Ni({ctx:C.ctx,options:y,chart:C});gt.configure(C,d,y),gt.addBox(C,d),C.titleBlock=d}(C,d)},stop(C){gt.removeBox(C,C.titleBlock),delete C.titleBlock},beforeUpdate(C,y,d){const m=C.titleBlock;gt.configure(C,m,d),m.options=d},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const _s=new WeakMap;var Ps={id:"subtitle",start(C,y,d){const m=new Ni({ctx:C.ctx,options:d,chart:C});gt.configure(C,m,d),gt.addBox(C,m),_s.set(C,m)},stop(C){gt.removeBox(C,_s.get(C)),_s.delete(C)},beforeUpdate(C,y,d){const m=_s.get(C);gt.configure(C,m,d),m.options=d},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const xo={average(C){if(!C.length)return!1;let y,d,m=0,E=0,b=0;for(y=0,d=C.length;y<d;++y){const M=C[y].element;if(M&&M.hasValue()){const B=M.tooltipPosition();m+=B.x,E+=B.y,++b}}return{x:m/b,y:E/b}},nearest(C,y){if(!C.length)return!1;let b,M,B,d=y.x,m=y.y,E=Number.POSITIVE_INFINITY;for(b=0,M=C.length;b<M;++b){const W=C[b].element;if(W&&W.hasValue()){const ne=W.getCenterPoint(),Ce=(0,h.aE)(y,ne);Ce<E&&(E=Ce,B=W)}}if(B){const W=B.tooltipPosition();d=W.x,m=W.y}return{x:d,y:m}}};function Un(C,y){return y&&((0,h.b)(y)?Array.prototype.push.apply(C,y):C.push(y)),C}function Mi(C){return("string"==typeof C||C instanceof String)&&C.indexOf("\n")>-1?C.split("\n"):C}function Ko(C,y){const{element:d,datasetIndex:m,index:E}=y,b=C.getDatasetMeta(m).controller,{label:M,value:B}=b.getLabelAndValue(E);return{chart:C,label:M,parsed:b.getParsed(E),raw:C.data.datasets[m].data[E],formattedValue:B,dataset:b.getDataset(),dataIndex:E,datasetIndex:m,element:d}}function oa(C,y){const d=C.chart.ctx,{body:m,footer:E,title:b}=C,{boxWidth:M,boxHeight:B}=y,W=(0,h.a0)(y.bodyFont),ne=(0,h.a0)(y.titleFont),Ce=(0,h.a0)(y.footerFont),Ve=b.length,ht=E.length,yt=m.length,zt=(0,h.E)(y.padding);let sn=zt.height,gn=0,Bn=m.reduce((or,Zn)=>or+Zn.before.length+Zn.lines.length+Zn.after.length,0);Bn+=C.beforeBody.length+C.afterBody.length,Ve&&(sn+=Ve*ne.lineHeight+(Ve-1)*y.titleSpacing+y.titleMarginBottom),Bn&&(sn+=yt*(y.displayColors?Math.max(B,W.lineHeight):W.lineHeight)+(Bn-yt)*W.lineHeight+(Bn-1)*y.bodySpacing),ht&&(sn+=y.footerMarginTop+ht*Ce.lineHeight+(ht-1)*y.footerSpacing);let xn=0;const rr=function(or){gn=Math.max(gn,d.measureText(or).width+xn)};return d.save(),d.font=ne.string,(0,h.F)(C.title,rr),d.font=W.string,(0,h.F)(C.beforeBody.concat(C.afterBody),rr),xn=y.displayColors?M+2+y.boxPadding:0,(0,h.F)(m,or=>{(0,h.F)(or.before,rr),(0,h.F)(or.lines,rr),(0,h.F)(or.after,rr)}),xn=0,d.font=Ce.string,(0,h.F)(C.footer,rr),d.restore(),gn+=zt.width,{width:gn,height:sn}}function Wn(C,y,d,m){const{x:E,width:b}=d,{width:M,chartArea:{left:B,right:W}}=C;let ne="center";return"center"===m?ne=E<=(B+W)/2?"left":"right":E<=b/2?ne="left":E>=M-b/2&&(ne="right"),function Zr(C,y,d,m){const{x:E,width:b}=m,M=d.caretSize+d.caretPadding;if("left"===C&&E+b+M>y.width||"right"===C&&E-b-M<0)return!0}(ne,C,y,d)&&(ne="center"),ne}function Ln(C,y,d){const m=d.yAlign||y.yAlign||function Sr(C,y){const{y:d,height:m}=y;return d<m/2?"top":d>C.height-m/2?"bottom":"center"}(C,d);return{xAlign:d.xAlign||y.xAlign||Wn(C,y,d,m),yAlign:m}}function as(C,y,d,m){const{caretSize:E,caretPadding:b,cornerRadius:M}=C,{xAlign:B,yAlign:W}=d,ne=E+b,{topLeft:Ce,topRight:Ve,bottomLeft:ht,bottomRight:yt}=(0,h.aw)(M);let zt=function wn(C,y){let{x:d,width:m}=C;return"right"===y?d-=m:"center"===y&&(d-=m/2),d}(y,B);const sn=function qn(C,y,d){let{y:m,height:E}=C;return"top"===y?m+=d:m-="bottom"===y?E+d:E/2,m}(y,W,ne);return"center"===W?"left"===B?zt+=ne:"right"===B&&(zt-=ne):"left"===B?zt-=Math.max(Ce,ht)+E:"right"===B&&(zt+=Math.max(Ve,yt)+E),{x:(0,h.S)(zt,0,m.width-y.width),y:(0,h.S)(sn,0,m.height-y.height)}}function nc(C,y,d){const m=(0,h.E)(d.padding);return"center"===y?C.x+C.width/2:"right"===y?C.x+C.width-m.right:C.x+m.left}function yl(C){return Un([],Mi(C))}function rc(C,y){const d=y&&y.dataset&&y.dataset.tooltip&&y.dataset.tooltip.callbacks;return d?C.override(d):C}const Tc={beforeTitle:h.aF,title(C){if(C.length>0){const y=C[0],d=y.chart.data.labels,m=d?d.length:0;if(this&&this.options&&"dataset"===this.options.mode)return y.dataset.label||"";if(y.label)return y.label;if(m>0&&y.dataIndex<m)return d[y.dataIndex]}return""},afterTitle:h.aF,beforeBody:h.aF,beforeLabel:h.aF,label(C){if(this&&this.options&&"dataset"===this.options.mode)return C.label+": "+C.formattedValue||C.formattedValue;let y=C.dataset.label||"";y&&(y+=": ");const d=C.formattedValue;return(0,h.k)(d)||(y+=d),y},labelColor(C){const d=C.chart.getDatasetMeta(C.datasetIndex).controller.getStyle(C.dataIndex);return{borderColor:d.borderColor,backgroundColor:d.backgroundColor,borderWidth:d.borderWidth,borderDash:d.borderDash,borderDashOffset:d.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(C){const d=C.chart.getDatasetMeta(C.datasetIndex).controller.getStyle(C.dataIndex);return{pointStyle:d.pointStyle,rotation:d.rotation}},afterLabel:h.aF,afterBody:h.aF,beforeFooter:h.aF,footer:h.aF,afterFooter:h.aF};function ya(C,y,d,m){const E=C[y].call(d,m);return typeof E>"u"?Tc[y].call(d,m):E}let Pl=(()=>{class C extends zr{constructor(d){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=d.chart,this.options=d.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(d){this.options=d,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const d=this._cachedAnimations;if(d)return d;const m=this.chart,E=this.options.setContext(this.getContext()),b=E.enabled&&m.options.animation&&E.animations,M=new Se(this.chart,b);return b._cacheable&&(this._cachedAnimations=Object.freeze(M)),M}getContext(){return this.$context||(this.$context=function qa(C,y,d){return(0,h.j)(C,{tooltip:y,tooltipItems:d,type:"tooltip"})}(this.chart.getContext(),this,this._tooltipItems))}getTitle(d,m){const{callbacks:E}=m,b=ya(E,"beforeTitle",this,d),M=ya(E,"title",this,d),B=ya(E,"afterTitle",this,d);let W=[];return W=Un(W,Mi(b)),W=Un(W,Mi(M)),W=Un(W,Mi(B)),W}getBeforeBody(d,m){return yl(ya(m.callbacks,"beforeBody",this,d))}getBody(d,m){const{callbacks:E}=m,b=[];return(0,h.F)(d,M=>{const B={before:[],lines:[],after:[]},W=rc(E,M);Un(B.before,Mi(ya(W,"beforeLabel",this,M))),Un(B.lines,ya(W,"label",this,M)),Un(B.after,Mi(ya(W,"afterLabel",this,M))),b.push(B)}),b}getAfterBody(d,m){return yl(ya(m.callbacks,"afterBody",this,d))}getFooter(d,m){const{callbacks:E}=m,b=ya(E,"beforeFooter",this,d),M=ya(E,"footer",this,d),B=ya(E,"afterFooter",this,d);let W=[];return W=Un(W,Mi(b)),W=Un(W,Mi(M)),W=Un(W,Mi(B)),W}_createItems(d){const m=this._active,E=this.chart.data,b=[],M=[],B=[];let ne,Ce,W=[];for(ne=0,Ce=m.length;ne<Ce;++ne)W.push(Ko(this.chart,m[ne]));return d.filter&&(W=W.filter((Ve,ht,yt)=>d.filter(Ve,ht,yt,E))),d.itemSort&&(W=W.sort((Ve,ht)=>d.itemSort(Ve,ht,E))),(0,h.F)(W,Ve=>{const ht=rc(d.callbacks,Ve);b.push(ya(ht,"labelColor",this,Ve)),M.push(ya(ht,"labelPointStyle",this,Ve)),B.push(ya(ht,"labelTextColor",this,Ve))}),this.labelColors=b,this.labelPointStyles=M,this.labelTextColors=B,this.dataPoints=W,W}update(d,m){const E=this.options.setContext(this.getContext()),b=this._active;let M,B=[];if(b.length){const W=xo[E.position].call(this,b,this._eventPosition);B=this._createItems(E),this.title=this.getTitle(B,E),this.beforeBody=this.getBeforeBody(B,E),this.body=this.getBody(B,E),this.afterBody=this.getAfterBody(B,E),this.footer=this.getFooter(B,E);const ne=this._size=oa(this,E),Ce=Object.assign({},W,ne),Ve=Ln(this.chart,E,Ce),ht=as(E,Ce,Ve,this.chart);this.xAlign=Ve.xAlign,this.yAlign=Ve.yAlign,M={opacity:1,x:ht.x,y:ht.y,width:ne.width,height:ne.height,caretX:W.x,caretY:W.y}}else 0!==this.opacity&&(M={opacity:0});this._tooltipItems=B,this.$context=void 0,M&&this._resolveAnimations().update(this,M),d&&E.external&&E.external.call(this,{chart:this.chart,tooltip:this,replay:m})}drawCaret(d,m,E,b){const M=this.getCaretPosition(d,E,b);m.lineTo(M.x1,M.y1),m.lineTo(M.x2,M.y2),m.lineTo(M.x3,M.y3)}getCaretPosition(d,m,E){const{xAlign:b,yAlign:M}=this,{caretSize:B,cornerRadius:W}=E,{topLeft:ne,topRight:Ce,bottomLeft:Ve,bottomRight:ht}=(0,h.aw)(W),{x:yt,y:zt}=d,{width:sn,height:gn}=m;let Bn,xn,rr,or,Zn,ir;return"center"===M?(Zn=zt+gn/2,"left"===b?(Bn=yt,xn=Bn-B,or=Zn+B,ir=Zn-B):(Bn=yt+sn,xn=Bn+B,or=Zn-B,ir=Zn+B),rr=Bn):(xn="left"===b?yt+Math.max(ne,Ve)+B:"right"===b?yt+sn-Math.max(Ce,ht)-B:this.caretX,"top"===M?(or=zt,Zn=or-B,Bn=xn-B,rr=xn+B):(or=zt+gn,Zn=or+B,Bn=xn+B,rr=xn-B),ir=or),{x1:Bn,x2:xn,x3:rr,y1:or,y2:Zn,y3:ir}}drawTitle(d,m,E){const b=this.title,M=b.length;let B,W,ne;if(M){const Ce=(0,h.az)(E.rtl,this.x,this.width);for(d.x=nc(this,E.titleAlign,E),m.textAlign=Ce.textAlign(E.titleAlign),m.textBaseline="middle",B=(0,h.a0)(E.titleFont),W=E.titleSpacing,m.fillStyle=E.titleColor,m.font=B.string,ne=0;ne<M;++ne)m.fillText(b[ne],Ce.x(d.x),d.y+B.lineHeight/2),d.y+=B.lineHeight+W,ne+1===M&&(d.y+=E.titleMarginBottom-W)}}_drawColorBox(d,m,E,b,M){const B=this.labelColors[E],W=this.labelPointStyles[E],{boxHeight:ne,boxWidth:Ce}=M,Ve=(0,h.a0)(M.bodyFont),ht=nc(this,"left",M),yt=b.x(ht),sn=m.y+(ne<Ve.lineHeight?(Ve.lineHeight-ne)/2:0);if(M.usePointStyle){const gn={radius:Math.min(Ce,ne)/2,pointStyle:W.pointStyle,rotation:W.rotation,borderWidth:1},Bn=b.leftForLtr(yt,Ce)+Ce/2,xn=sn+ne/2;d.strokeStyle=M.multiKeyBackground,d.fillStyle=M.multiKeyBackground,(0,h.at)(d,gn,Bn,xn),d.strokeStyle=B.borderColor,d.fillStyle=B.backgroundColor,(0,h.at)(d,gn,Bn,xn)}else{d.lineWidth=(0,h.i)(B.borderWidth)?Math.max(...Object.values(B.borderWidth)):B.borderWidth||1,d.strokeStyle=B.borderColor,d.setLineDash(B.borderDash||[]),d.lineDashOffset=B.borderDashOffset||0;const gn=b.leftForLtr(yt,Ce),Bn=b.leftForLtr(b.xPlus(yt,1),Ce-2),xn=(0,h.aw)(B.borderRadius);Object.values(xn).some(rr=>0!==rr)?(d.beginPath(),d.fillStyle=M.multiKeyBackground,(0,h.au)(d,{x:gn,y:sn,w:Ce,h:ne,radius:xn}),d.fill(),d.stroke(),d.fillStyle=B.backgroundColor,d.beginPath(),(0,h.au)(d,{x:Bn,y:sn+1,w:Ce-2,h:ne-2,radius:xn}),d.fill()):(d.fillStyle=M.multiKeyBackground,d.fillRect(gn,sn,Ce,ne),d.strokeRect(gn,sn,Ce,ne),d.fillStyle=B.backgroundColor,d.fillRect(Bn,sn+1,Ce-2,ne-2))}d.fillStyle=this.labelTextColors[E]}drawBody(d,m,E){const{body:b}=this,{bodySpacing:M,bodyAlign:B,displayColors:W,boxHeight:ne,boxWidth:Ce,boxPadding:Ve}=E,ht=(0,h.a0)(E.bodyFont);let yt=ht.lineHeight,zt=0;const sn=(0,h.az)(E.rtl,this.x,this.width),gn=function(ti){m.fillText(ti,sn.x(d.x+zt),d.y+yt/2),d.y+=yt+M},Bn=sn.textAlign(B);let xn,rr,or,Zn,ir,sr,Dr;for(m.textAlign=B,m.textBaseline="middle",m.font=ht.string,d.x=nc(this,Bn,E),m.fillStyle=E.bodyColor,(0,h.F)(this.beforeBody,gn),zt=W&&"right"!==Bn?"center"===B?Ce/2+Ve:Ce+2+Ve:0,Zn=0,sr=b.length;Zn<sr;++Zn){for(xn=b[Zn],rr=this.labelTextColors[Zn],m.fillStyle=rr,(0,h.F)(xn.before,gn),or=xn.lines,W&&or.length&&(this._drawColorBox(m,d,Zn,sn,E),yt=Math.max(ht.lineHeight,ne)),ir=0,Dr=or.length;ir<Dr;++ir)gn(or[ir]),yt=ht.lineHeight;(0,h.F)(xn.after,gn)}zt=0,yt=ht.lineHeight,(0,h.F)(this.afterBody,gn),d.y-=M}drawFooter(d,m,E){const b=this.footer,M=b.length;let B,W;if(M){const ne=(0,h.az)(E.rtl,this.x,this.width);for(d.x=nc(this,E.footerAlign,E),d.y+=E.footerMarginTop,m.textAlign=ne.textAlign(E.footerAlign),m.textBaseline="middle",B=(0,h.a0)(E.footerFont),m.fillStyle=E.footerColor,m.font=B.string,W=0;W<M;++W)m.fillText(b[W],ne.x(d.x),d.y+B.lineHeight/2),d.y+=B.lineHeight+E.footerSpacing}}drawBackground(d,m,E,b){const{xAlign:M,yAlign:B}=this,{x:W,y:ne}=d,{width:Ce,height:Ve}=E,{topLeft:ht,topRight:yt,bottomLeft:zt,bottomRight:sn}=(0,h.aw)(b.cornerRadius);m.fillStyle=b.backgroundColor,m.strokeStyle=b.borderColor,m.lineWidth=b.borderWidth,m.beginPath(),m.moveTo(W+ht,ne),"top"===B&&this.drawCaret(d,m,E,b),m.lineTo(W+Ce-yt,ne),m.quadraticCurveTo(W+Ce,ne,W+Ce,ne+yt),"center"===B&&"right"===M&&this.drawCaret(d,m,E,b),m.lineTo(W+Ce,ne+Ve-sn),m.quadraticCurveTo(W+Ce,ne+Ve,W+Ce-sn,ne+Ve),"bottom"===B&&this.drawCaret(d,m,E,b),m.lineTo(W+zt,ne+Ve),m.quadraticCurveTo(W,ne+Ve,W,ne+Ve-zt),"center"===B&&"left"===M&&this.drawCaret(d,m,E,b),m.lineTo(W,ne+ht),m.quadraticCurveTo(W,ne,W+ht,ne),m.closePath(),m.fill(),b.borderWidth>0&&m.stroke()}_updateAnimationTarget(d){const m=this.chart,E=this.$animations,b=E&&E.x,M=E&&E.y;if(b||M){const B=xo[d.position].call(this,this._active,this._eventPosition);if(!B)return;const W=this._size=oa(this,d),ne=Object.assign({},B,this._size),Ce=Ln(m,d,ne),Ve=as(d,ne,Ce,m);(b._to!==Ve.x||M._to!==Ve.y)&&(this.xAlign=Ce.xAlign,this.yAlign=Ce.yAlign,this.width=W.width,this.height=W.height,this.caretX=B.x,this.caretY=B.y,this._resolveAnimations().update(this,Ve))}}_willRender(){return!!this.opacity}draw(d){const m=this.options.setContext(this.getContext());let E=this.opacity;if(!E)return;this._updateAnimationTarget(m);const b={width:this.width,height:this.height},M={x:this.x,y:this.y};E=Math.abs(E)<.001?0:E;const B=(0,h.E)(m.padding);m.enabled&&(this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length)&&(d.save(),d.globalAlpha=E,this.drawBackground(M,d,b,m),(0,h.aA)(d,m.textDirection),M.y+=B.top,this.drawTitle(M,d,m),this.drawBody(M,d,m),this.drawFooter(M,d,m),(0,h.aC)(d,m.textDirection),d.restore())}getActiveElements(){return this._active||[]}setActiveElements(d,m){const E=this._active,b=d.map(({datasetIndex:W,index:ne})=>{const Ce=this.chart.getDatasetMeta(W);if(!Ce)throw new Error("Cannot find a dataset at index "+W);return{datasetIndex:W,element:Ce.data[ne],index:ne}}),M=!(0,h.ah)(E,b),B=this._positionChanged(b,m);(M||B)&&(this._active=b,this._eventPosition=m,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(d,m,E=!0){if(m&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const b=this.options,M=this._active||[],B=this._getActiveElements(d,M,m,E),W=this._positionChanged(B,d),ne=m||!(0,h.ah)(B,M)||W;return ne&&(this._active=B,(b.enabled||b.external)&&(this._eventPosition={x:d.x,y:d.y},this.update(!0,m))),ne}_getActiveElements(d,m,E,b){const M=this.options;if("mouseout"===d.type)return[];if(!b)return m;const B=this.chart.getElementsAtEventForMode(d,M.mode,M,E);return M.reverse&&B.reverse(),B}_positionChanged(d,m){const{caretX:E,caretY:b,options:M}=this,B=xo[M.position].call(this,d,m);return!1!==B&&(E!==B.x||b!==B.y)}}return C.positioners=xo,C})();var Ss=Object.freeze({__proto__:null,Colors:ii,Decimation:Ns,Filler:co,Legend:yr,SubTitle:Ps,Title:xi,Tooltip:{id:"tooltip",_element:Pl,positioners:xo,afterInit(C,y,d){d&&(C.tooltip=new Pl({chart:C,options:d}))},beforeUpdate(C,y,d){C.tooltip&&C.tooltip.initialize(d)},reset(C,y,d){C.tooltip&&C.tooltip.initialize(d)},afterDraw(C){const y=C.tooltip;if(y&&y._willRender()){const d={tooltip:y};if(!1===C.notifyPlugins("beforeTooltipDraw",{...d,cancelable:!0}))return;y.draw(C.ctx),C.notifyPlugins("afterTooltipDraw",d)}},afterEvent(C,y){C.tooltip&&C.tooltip.handleEvent(y.event,y.replay,y.inChartArea)&&(y.changed=!0)},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(C,y)=>y.bodyFont.size,boxWidth:(C,y)=>y.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:Tc},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:C=>"filter"!==C&&"itemSort"!==C&&"external"!==C,_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]}});function va(C){const y=this.getLabels();return C>=0&&C<y.length?y[C]:C}let Fh=(()=>{class C extends ye{constructor(d){super(d),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(d){const m=this._addedLabels;if(m.length){const E=this.getLabels();for(const{index:b,label:M}of m)E[b]===M&&E.splice(b,1);this._addedLabels=[]}super.init(d)}parse(d,m){if((0,h.k)(d))return null;const E=this.getLabels();return((C,y)=>null===C?null:(0,h.S)(Math.round(C),0,y))(m=isFinite(m)&&E[m]===d?m:function ic(C,y,d,m){const E=C.indexOf(y);return-1===E?((C,y,d,m)=>("string"==typeof y?(d=C.push(y)-1,m.unshift({index:d,label:y})):isNaN(y)&&(d=null),d))(C,y,d,m):E!==C.lastIndexOf(y)?d:E}(E,d,(0,h.v)(m,d),this._addedLabels),E.length-1)}determineDataLimits(){const{minDefined:d,maxDefined:m}=this.getUserBounds();let{min:E,max:b}=this.getMinMax(!0);"ticks"===this.options.bounds&&(d||(E=0),m||(b=this.getLabels().length-1)),this.min=E,this.max=b}buildTicks(){const d=this.min,m=this.max,E=this.options.offset,b=[];let M=this.getLabels();M=0===d&&m===M.length-1?M:M.slice(d,m+1),this._valueRange=Math.max(M.length-(E?0:1),1),this._startValue=this.min-(E?.5:0);for(let B=d;B<=m;B++)b.push({value:B});return b}getLabelForValue(d){return va.call(this,d)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(d){return"number"!=typeof d&&(d=this.parse(d)),null===d?NaN:this.getPixelForDecimal((d-this._startValue)/this._valueRange)}getPixelForTick(d){const m=this.ticks;return d<0||d>m.length-1?null:this.getPixelForValue(m[d].value)}getValueForPixel(d){return Math.round(this._startValue+this.getDecimalForPixel(d)*this._valueRange)}getBasePixel(){return this.bottom}}return C.id="category",C.defaults={ticks:{callback:va}},C})();function hi(C,y,{horizontal:d,minRotation:m}){const E=(0,h.t)(m),b=(d?Math.sin(E):Math.cos(E))||.001;return Math.min(y/b,.75*y*(""+C).length)}class Za extends ye{constructor(y){super(y),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(y,d){return(0,h.k)(y)||("number"==typeof y||y instanceof Number)&&!isFinite(+y)?null:+y}handleTickRangeOptions(){const{beginAtZero:y}=this.options,{minDefined:d,maxDefined:m}=this.getUserBounds();let{min:E,max:b}=this;const M=W=>E=d?E:W,B=W=>b=m?b:W;if(y){const W=(0,h.s)(E),ne=(0,h.s)(b);W<0&&ne<0?B(0):W>0&&ne>0&&M(0)}if(E===b){let W=0===b?1:Math.abs(.05*b);B(b+W),y||M(E-W)}this.min=E,this.max=b}getTickLimit(){const y=this.options.ticks;let E,{maxTicksLimit:d,stepSize:m}=y;return m?(E=Math.ceil(this.max/m)-Math.floor(this.min/m)+1,E>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${m} would result generating up to ${E} ticks. Limiting to 1000.`),E=1e3)):(E=this.computeTickLimit(),d=d||11),d&&(E=Math.min(d,E)),E}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const y=this.options,d=y.ticks;let m=this.getTickLimit();m=Math.max(2,m);const M=function _o(C,y){const d=[],{bounds:E,step:b,min:M,max:B,precision:W,count:ne,maxTicks:Ce,maxDigits:Ve,includeBounds:ht}=C,yt=b||1,zt=Ce-1,{min:sn,max:gn}=y,Bn=!(0,h.k)(M),xn=!(0,h.k)(B),rr=!(0,h.k)(ne),or=(gn-sn)/(Ve+1);let ir,sr,Dr,ti,Zn=(0,h.aH)((gn-sn)/zt/yt)*yt;if(Zn<1e-14&&!Bn&&!xn)return[{value:sn},{value:gn}];ti=Math.ceil(gn/Zn)-Math.floor(sn/Zn),ti>zt&&(Zn=(0,h.aH)(ti*Zn/zt/yt)*yt),(0,h.k)(W)||(ir=Math.pow(10,W),Zn=Math.ceil(Zn*ir)/ir),"ticks"===E?(sr=Math.floor(sn/Zn)*Zn,Dr=Math.ceil(gn/Zn)*Zn):(sr=sn,Dr=gn),Bn&&xn&&b&&(0,h.aI)((B-M)/b,Zn/1e3)?(ti=Math.round(Math.min((B-M)/Zn,Ce)),Zn=(B-M)/ti,sr=M,Dr=B):rr?(sr=Bn?M:sr,Dr=xn?B:Dr,ti=ne-1,Zn=(Dr-sr)/ti):(ti=(Dr-sr)/Zn,ti=(0,h.aJ)(ti,Math.round(ti),Zn/1e3)?Math.round(ti):Math.ceil(ti));const Ti=Math.max((0,h.aK)(Zn),(0,h.aK)(sr));ir=Math.pow(10,(0,h.k)(W)?Ti:W),sr=Math.round(sr*ir)/ir,Dr=Math.round(Dr*ir)/ir;let vr=0;for(Bn&&(ht&&sr!==M?(d.push({value:M}),sr<M&&vr++,(0,h.aJ)(Math.round((sr+vr*Zn)*ir)/ir,M,hi(M,or,C))&&vr++):sr<M&&vr++);vr<ti;++vr){const ls=Math.round((sr+vr*Zn)*ir)/ir;if(xn&&ls>B)break;d.push({value:ls})}return xn&&ht&&Dr!==B?d.length&&(0,h.aJ)(d[d.length-1].value,B,hi(B,or,C))?d[d.length-1].value=B:d.push({value:B}):(!xn||Dr===B)&&d.push({value:Dr}),d}({maxTicks:m,bounds:y.bounds,min:y.min,max:y.max,precision:d.precision,step:d.stepSize,count:d.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:d.minRotation||0,includeBounds:!1!==d.includeBounds},this._range||this);return"ticks"===y.bounds&&(0,h.aG)(M,this,"value"),y.reverse?(M.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),M}configure(){const y=this.ticks;let d=this.min,m=this.max;if(super.configure(),this.options.offset&&y.length){const E=(m-d)/Math.max(y.length-1,1)/2;d-=E,m+=E}this._startValue=d,this._endValue=m,this._valueRange=m-d}getLabelForValue(y){return(0,h.o)(y,this.chart.options.locale,this.options.ticks.format)}}class Ki extends Za{determineDataLimits(){const{min:y,max:d}=this.getMinMax(!0);this.min=(0,h.g)(y)?y:0,this.max=(0,h.g)(d)?d:1,this.handleTickRangeOptions()}computeTickLimit(){const y=this.isHorizontal(),d=y?this.width:this.height,m=(0,h.t)(this.options.ticks.minRotation),E=(y?Math.sin(m):Math.cos(m))||.001,b=this._resolveTickFontOptions(0);return Math.ceil(d/Math.min(40,b.lineHeight/E))}getPixelForValue(y){return null===y?NaN:this.getPixelForDecimal((y-this._startValue)/this._valueRange)}getValueForPixel(y){return this._startValue+this.getDecimalForPixel(y)*this._valueRange}}Ki.id="linear",Ki.defaults={ticks:{callback:h.aL.formatters.numeric}};const vl=C=>Math.floor((0,h.aM)(C)),Bs=(C,y)=>Math.pow(10,vl(C)+y);function _r(C){return C/Math.pow(10,vl(C))==1}function Ac(C,y,d){const m=Math.pow(10,d),E=Math.floor(C/m);return Math.ceil(y/m)-E}class xc extends ye{constructor(y){super(y),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(y,d){const m=Za.prototype.parse.apply(this,[y,d]);if(0!==m)return(0,h.g)(m)&&m>0?m:null;this._zero=!0}determineDataLimits(){const{min:y,max:d}=this.getMinMax(!0);this.min=(0,h.g)(y)?Math.max(0,y):null,this.max=(0,h.g)(d)?Math.max(0,d):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!(0,h.g)(this._userMin)&&(this.min=y===Bs(this.min,0)?Bs(this.min,-1):Bs(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:y,maxDefined:d}=this.getUserBounds();let m=this.min,E=this.max;const b=B=>m=y?m:B,M=B=>E=d?E:B;m===E&&(m<=0?(b(1),M(10)):(b(Bs(m,-1)),M(Bs(E,1)))),m<=0&&b(Bs(E,-1)),E<=0&&M(Bs(m,1)),this.min=m,this.max=E}buildTicks(){const y=this.options,m=function ol(C,{min:y,max:d}){y=(0,h.O)(C.min,y);const m=[],E=vl(y);let b=function sc(C,y){let m=vl(y-C);for(;Ac(C,y,m)>10;)m++;for(;Ac(C,y,m)<10;)m--;return Math.min(m,vl(C))}(y,d),M=b<0?Math.pow(10,Math.abs(b)):1;const B=Math.pow(10,b),W=E>b?Math.pow(10,E):0,ne=Math.round((y-W)*M)/M,Ce=Math.floor((y-W)/B/10)*B*10;let Ve=Math.floor((ne-Ce)/Math.pow(10,b)),ht=(0,h.O)(C.min,Math.round((W+Ce+Ve*Math.pow(10,b))*M)/M);for(;ht<d;)m.push({value:ht,major:_r(ht),significand:Ve}),Ve>=10?Ve=Ve<15?15:20:Ve++,Ve>=20&&(b++,Ve=2,M=b>=0?1:M),ht=Math.round((W+Ce+Ve*Math.pow(10,b))*M)/M;const yt=(0,h.O)(C.max,ht);return m.push({value:yt,major:_r(yt),significand:Ve}),m}({min:this._userMin,max:this._userMax},this);return"ticks"===y.bounds&&(0,h.aG)(m,this,"value"),y.reverse?(m.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),m}getLabelForValue(y){return void 0===y?"0":(0,h.o)(y,this.chart.options.locale,this.options.ticks.format)}configure(){const y=this.min;super.configure(),this._startValue=(0,h.aM)(y),this._valueRange=(0,h.aM)(this.max)-(0,h.aM)(y)}getPixelForValue(y){return(void 0===y||0===y)&&(y=this.min),null===y||isNaN(y)?NaN:this.getPixelForDecimal(y===this.min?0:((0,h.aM)(y)-this._startValue)/this._valueRange)}getValueForPixel(y){const d=this.getDecimalForPixel(y);return Math.pow(10,this._startValue+d*this._valueRange)}}function zl(C){const y=C.ticks;if(y.display&&C.display){const d=(0,h.E)(y.backdropPadding);return(0,h.v)(y.font&&y.font.size,h.d.font.size)+d.height}return 0}function iu(C,y,d){return d=(0,h.b)(d)?d:[d],{w:(0,h.aN)(C,y.string,d),h:d.length*y.lineHeight}}function al(C,y,d,m,E){return C===m||C===E?{start:y-d/2,end:y+d/2}:C<m||C>E?{start:y-d,end:y}:{start:y,end:y+d}}function Mc(C,y,d,m,E){const b=Math.abs(Math.sin(d)),M=Math.abs(Math.cos(d));let B=0,W=0;m.start<y.l?(B=(y.l-m.start)/b,C.l=Math.min(C.l,y.l-B)):m.end>y.r&&(B=(m.end-y.r)/b,C.r=Math.max(C.r,y.r+B)),E.start<y.t?(W=(y.t-E.start)/M,C.t=Math.min(C.t,y.t-W)):E.end>y.b&&(W=(E.end-y.b)/M,C.b=Math.max(C.b,y.b+W))}function Ba(C,y,d){const m=C.drawingArea,{extra:E,additionalAngle:b,padding:M,size:B}=d,W=C.getPointPosition(y,m+E+M,b),ne=Math.round((0,h.U)((0,h.ay)(W.angle+h.H))),Ce=function su(C,y,d){return 90===d||270===d?C-=y/2:(d>270||d<90)&&(C-=y),C}(W.y,B.h,ne),Ve=function Bo(C){return 0===C||180===C?"center":C<180?"left":"right"}(ne),ht=function _l(C,y,d){return"right"===d?C-=y:"center"===d&&(C-=y/2),C}(W.x,B.w,Ve);return{visible:!0,x:W.x,y:Ce,textAlign:Ve,left:ht,top:Ce,right:ht+B.w,bottom:Ce+B.h}}function Mo(C,y){if(!y)return!0;const{left:d,top:m,right:E,bottom:b}=C;return!((0,h.C)({x:d,y:m},y)||(0,h.C)({x:d,y:b},y)||(0,h.C)({x:E,y:m},y)||(0,h.C)({x:E,y:b},y))}function fn(C,y,d){const{left:m,top:E,right:b,bottom:M}=d,{backdropColor:B}=y;if(!(0,h.k)(B)){const W=(0,h.aw)(y.borderRadius),ne=(0,h.E)(y.backdropPadding);C.fillStyle=B;const Ce=m-ne.left,Ve=E-ne.top,ht=b-m+ne.width,yt=M-E+ne.height;Object.values(W).some(zt=>0!==zt)?(C.beginPath(),(0,h.au)(C,{x:Ce,y:Ve,w:ht,h:yt,radius:W}),C.fill()):C.fillRect(Ce,Ve,ht,yt)}}function Yo(C,y,d,m){const{ctx:E}=C;if(d)E.arc(C.xCenter,C.yCenter,y,0,h.T);else{let b=C.getPointPosition(0,y);E.moveTo(b.x,b.y);for(let M=1;M<m;M++)b=C.getPointPosition(M,y),E.lineTo(b.x,b.y)}}xc.id="logarithmic",xc.defaults={ticks:{callback:h.aL.formatters.logarithmic,major:{enabled:!0}}};class Po extends Za{constructor(y){super(y),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const y=this._padding=(0,h.E)(zl(this.options)/2),d=this.width=this.maxWidth-y.width,m=this.height=this.maxHeight-y.height;this.xCenter=Math.floor(this.left+d/2+y.left),this.yCenter=Math.floor(this.top+m/2+y.top),this.drawingArea=Math.floor(Math.min(d,m)/2)}determineDataLimits(){const{min:y,max:d}=this.getMinMax(!1);this.min=(0,h.g)(y)&&!isNaN(y)?y:0,this.max=(0,h.g)(d)&&!isNaN(d)?d:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/zl(this.options))}generateTickLabels(y){Za.prototype.generateTickLabels.call(this,y),this._pointLabels=this.getLabels().map((d,m)=>{const E=(0,h.Q)(this.options.pointLabels.callback,[d,m],this);return E||0===E?E:""}).filter((d,m)=>this.chart.getDataVisibility(m))}fit(){const y=this.options;y.display&&y.pointLabels.display?function Ka(C){const y={l:C.left+C._padding.left,r:C.right-C._padding.right,t:C.top+C._padding.top,b:C.bottom-C._padding.bottom},d=Object.assign({},y),m=[],E=[],b=C._pointLabels.length,M=C.options.pointLabels,B=M.centerPointLabels?h.P/b:0;for(let W=0;W<b;W++){const ne=M.setContext(C.getPointLabelContext(W));E[W]=ne.padding;const Ce=C.getPointPosition(W,C.drawingArea+E[W],B),Ve=(0,h.a0)(ne.font),ht=iu(C.ctx,Ve,C._pointLabels[W]);m[W]=ht;const yt=(0,h.ay)(C.getIndexAngle(W)+B),zt=Math.round((0,h.U)(yt));Mc(d,y,yt,al(zt,Ce.x,ht.w,0,180),al(zt,Ce.y,ht.h,90,270))}C.setCenterPoint(y.l-d.l,d.r-y.r,y.t-d.t,d.b-y.b),C._pointLabelItems=function ll(C,y,d){const m=[],E=C._pointLabels.length,b=C.options,{centerPointLabels:M,display:B}=b.pointLabels,W={extra:zl(b)/2,additionalAngle:M?h.P/E:0};let ne;for(let Ce=0;Ce<E;Ce++){W.padding=d[Ce],W.size=y[Ce];const Ve=Ba(C,Ce,W);m.push(Ve),"auto"===B&&(Ve.visible=Mo(Ve,ne),Ve.visible&&(ne=Ve))}return m}(C,m,E)}(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(y,d,m,E){this.xCenter+=Math.floor((y-d)/2),this.yCenter+=Math.floor((m-E)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(y,d,m,E))}getIndexAngle(y){return(0,h.ay)(y*(h.T/(this._pointLabels.length||1))+(0,h.t)(this.options.startAngle||0))}getDistanceFromCenterForValue(y){if((0,h.k)(y))return NaN;const d=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-y)*d:(y-this.min)*d}getValueForDistanceFromCenter(y){if((0,h.k)(y))return NaN;const d=y/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-d:this.min+d}getPointLabelContext(y){const d=this._pointLabels||[];if(y>=0&&y<d.length){const m=d[y];return function bl(C,y,d){return(0,h.j)(C,{label:d,index:y,type:"pointLabel"})}(this.getContext(),y,m)}}getPointPosition(y,d,m=0){const E=this.getIndexAngle(y)-h.H+m;return{x:Math.cos(E)*d+this.xCenter,y:Math.sin(E)*d+this.yCenter,angle:E}}getPointPositionForValue(y,d){return this.getPointPosition(y,this.getDistanceFromCenterForValue(d))}getBasePosition(y){return this.getPointPositionForValue(y||0,this.getBaseValue())}getPointLabelPosition(y){const{left:d,top:m,right:E,bottom:b}=this._pointLabelItems[y];return{left:d,top:m,right:E,bottom:b}}drawBackground(){const{backgroundColor:y,grid:{circular:d}}=this.options;if(y){const m=this.ctx;m.save(),m.beginPath(),Yo(this,this.getDistanceFromCenterForValue(this._endValue),d,this._pointLabels.length),m.closePath(),m.fillStyle=y,m.fill(),m.restore()}}drawGrid(){const y=this.ctx,d=this.options,{angleLines:m,grid:E,border:b}=d,M=this._pointLabels.length;let B,W,ne;if(d.pointLabels.display&&function Ia(C,y){const{ctx:d,options:{pointLabels:m}}=C;for(let E=y-1;E>=0;E--){const b=C._pointLabelItems[E];if(!b.visible)continue;const M=m.setContext(C.getPointLabelContext(E));fn(d,M,b);const B=(0,h.a0)(M.font),{x:W,y:ne,textAlign:Ce}=b;(0,h.Z)(d,C._pointLabels[E],W,ne+B.lineHeight/2,B,{color:M.color,textAlign:Ce,textBaseline:"middle"})}}(this,M),E.display&&this.ticks.forEach((Ce,Ve)=>{if(0!==Ve){W=this.getDistanceFromCenterForValue(Ce.value);const ht=this.getContext(Ve),yt=E.setContext(ht),zt=b.setContext(ht);!function Bd(C,y,d,m,E){const b=C.ctx,M=y.circular,{color:B,lineWidth:W}=y;!M&&!m||!B||!W||d<0||(b.save(),b.strokeStyle=B,b.lineWidth=W,b.setLineDash(E.dash),b.lineDashOffset=E.dashOffset,b.beginPath(),Yo(C,d,M,m),b.closePath(),b.stroke(),b.restore())}(this,yt,W,M,zt)}}),m.display){for(y.save(),B=M-1;B>=0;B--){const Ce=m.setContext(this.getPointLabelContext(B)),{color:Ve,lineWidth:ht}=Ce;!ht||!Ve||(y.lineWidth=ht,y.strokeStyle=Ve,y.setLineDash(Ce.borderDash),y.lineDashOffset=Ce.borderDashOffset,W=this.getDistanceFromCenterForValue(d.ticks.reverse?this.min:this.max),ne=this.getPointPosition(B,W),y.beginPath(),y.moveTo(this.xCenter,this.yCenter),y.lineTo(ne.x,ne.y),y.stroke())}y.restore()}}drawBorder(){}drawLabels(){const y=this.ctx,d=this.options,m=d.ticks;if(!m.display)return;const E=this.getIndexAngle(0);let b,M;y.save(),y.translate(this.xCenter,this.yCenter),y.rotate(E),y.textAlign="center",y.textBaseline="middle",this.ticks.forEach((B,W)=>{if(0===W&&!d.reverse)return;const ne=m.setContext(this.getContext(W)),Ce=(0,h.a0)(ne.font);if(b=this.getDistanceFromCenterForValue(this.ticks[W].value),ne.showLabelBackdrop){y.font=Ce.string,M=y.measureText(B.label).width,y.fillStyle=ne.backdropColor;const Ve=(0,h.E)(ne.backdropPadding);y.fillRect(-M/2-Ve.left,-b-Ce.size/2-Ve.top,M+Ve.width,Ce.size+Ve.height)}(0,h.Z)(y,B.label,0,-b,Ce,{color:ne.color,strokeColor:ne.textStrokeColor,strokeWidth:ne.textStrokeWidth})}),y.restore()}drawTitle(){}}Po.id="radialLinear",Po.defaults={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:h.aL.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback:C=>C,padding:5,centerPointLabels:!1}},Po.defaultRoutes={"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"},Po.descriptors={angleLines:{_fallback:"grid"}};const Pc={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Ys=Object.keys(Pc);function V(C,y){return C-y}function G(C,y){if((0,h.k)(y))return null;const d=C._adapter,{parser:m,round:E,isoWeekday:b}=C._parseOpts;let M=y;return"function"==typeof m&&(M=m(M)),(0,h.g)(M)||(M="string"==typeof m?d.parse(M,m):d.parse(M)),null===M?null:(E&&(M="week"!==E||!(0,h.x)(b)&&!0!==b?d.startOf(M,E):d.startOf(M,"isoWeek",b)),+M)}function O(C,y,d,m){const E=Ys.length;for(let b=Ys.indexOf(C);b<E-1;++b){const M=Pc[Ys[b]];if(M.common&&Math.ceil((d-y)/((M.steps?M.steps:Number.MAX_SAFE_INTEGER)*M.size))<=m)return Ys[b]}return Ys[E-1]}function Ye(C,y,d){if(d){if(d.length){const{lo:m,hi:E}=(0,h.aP)(d,y);C[d[m]>=y?d[m]:d[E]]=!0}}else C[y]=!0}function Kt(C,y,d){const m=[],E={},b=y.length;let M,B;for(M=0;M<b;++M)B=y[M],E[B]=M,m.push({value:B,major:!1});return 0!==b&&d?function je(C,y,d,m){const E=C._adapter,b=+E.startOf(y[0].value,m),M=y[y.length-1].value;let B,W;for(B=b;B<=M;B=+E.add(B,1,m))W=d[B],W>=0&&(y[W].major=!0);return y}(C,m,E,d):m}let Sn=(()=>{class C extends ye{constructor(d){super(d),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(d,m={}){const E=d.time||(d.time={}),b=this._adapter=new ni__date(d.adapters.date);b.init(m),(0,h.ab)(E.displayFormats,b.formats()),this._parseOpts={parser:E.parser,round:E.round,isoWeekday:E.isoWeekday},super.init(d),this._normalized=m.normalized}parse(d,m){return void 0===d?null:G(this,d)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const d=this.options,m=this._adapter,E=d.time.unit||"day";let{min:b,max:M,minDefined:B,maxDefined:W}=this.getUserBounds();function ne(Ce){!B&&!isNaN(Ce.min)&&(b=Math.min(b,Ce.min)),!W&&!isNaN(Ce.max)&&(M=Math.max(M,Ce.max))}(!B||!W)&&(ne(this._getLabelBounds()),("ticks"!==d.bounds||"labels"!==d.ticks.source)&&ne(this.getMinMax(!1))),b=(0,h.g)(b)&&!isNaN(b)?b:+m.startOf(Date.now(),E),M=(0,h.g)(M)&&!isNaN(M)?M:+m.endOf(Date.now(),E)+1,this.min=Math.min(b,M-1),this.max=Math.max(b+1,M)}_getLabelBounds(){const d=this.getLabelTimestamps();let m=Number.POSITIVE_INFINITY,E=Number.NEGATIVE_INFINITY;return d.length&&(m=d[0],E=d[d.length-1]),{min:m,max:E}}buildTicks(){const d=this.options,m=d.time,E=d.ticks,b="labels"===E.source?this.getLabelTimestamps():this._generate();"ticks"===d.bounds&&b.length&&(this.min=this._userMin||b[0],this.max=this._userMax||b[b.length-1]);const M=this.min,W=(0,h.aO)(b,M,this.max);return this._unit=m.unit||(E.autoSkip?O(m.minUnit,this.min,this.max,this._getLabelCapacity(M)):function Z(C,y,d,m,E){for(let b=Ys.length-1;b>=Ys.indexOf(d);b--){const M=Ys[b];if(Pc[M].common&&C._adapter.diff(E,m,M)>=y-1)return M}return Ys[d?Ys.indexOf(d):0]}(this,W.length,m.minUnit,this.min,this.max)),this._majorUnit=E.major.enabled&&"year"!==this._unit?function pe(C){for(let y=Ys.indexOf(C)+1,d=Ys.length;y<d;++y)if(Pc[Ys[y]].common)return Ys[y]}(this._unit):void 0,this.initOffsets(b),d.reverse&&W.reverse(),Kt(this,W,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(d=>+d.value))}initOffsets(d=[]){let b,M,m=0,E=0;this.options.offset&&d.length&&(b=this.getDecimalForValue(d[0]),m=1===d.length?1-b:(this.getDecimalForValue(d[1])-b)/2,M=this.getDecimalForValue(d[d.length-1]),E=1===d.length?M:(M-this.getDecimalForValue(d[d.length-2]))/2);const B=d.length<3?.5:.25;m=(0,h.S)(m,0,B),E=(0,h.S)(E,0,B),this._offsets={start:m,end:E,factor:1/(m+1+E)}}_generate(){const d=this._adapter,m=this.min,E=this.max,b=this.options,M=b.time,B=M.unit||O(M.minUnit,m,E,this._getLabelCapacity(m)),W=(0,h.v)(b.ticks.stepSize,1),ne="week"===B&&M.isoWeekday,Ce=(0,h.x)(ne)||!0===ne,Ve={};let yt,zt,ht=m;if(Ce&&(ht=+d.startOf(ht,"isoWeek",ne)),ht=+d.startOf(ht,Ce?"day":B),d.diff(E,m,B)>1e5*W)throw new Error(m+" and "+E+" are too far apart with stepSize of "+W+" "+B);const sn="data"===b.ticks.source&&this.getDataTimestamps();for(yt=ht,zt=0;yt<E;yt=+d.add(yt,W,B),zt++)Ye(Ve,yt,sn);return(yt===E||"ticks"===b.bounds||1===zt)&&Ye(Ve,yt,sn),Object.keys(Ve).sort(V).map(gn=>+gn)}getLabelForValue(d){const E=this.options.time;return this._adapter.format(d,E.tooltipFormat?E.tooltipFormat:E.displayFormats.datetime)}format(d,m){return this._adapter.format(d,m||this.options.time.displayFormats[this._unit])}_tickFormatFunction(d,m,E,b){const M=this.options,B=M.ticks.callback;if(B)return(0,h.Q)(B,[d,m,E],this);const W=M.time.displayFormats,ne=this._unit,Ce=this._majorUnit,ht=Ce&&W[Ce],yt=E[m];return this._adapter.format(d,b||(Ce&&ht&&yt&&yt.major?ht:ne&&W[ne]))}generateTickLabels(d){let m,E,b;for(m=0,E=d.length;m<E;++m)b=d[m],b.label=this._tickFormatFunction(b.value,m,d)}getDecimalForValue(d){return null===d?NaN:(d-this.min)/(this.max-this.min)}getPixelForValue(d){const m=this._offsets,E=this.getDecimalForValue(d);return this.getPixelForDecimal((m.start+E)*m.factor)}getValueForPixel(d){const m=this._offsets,E=this.getDecimalForPixel(d)/m.factor-m.end;return this.min+E*(this.max-this.min)}_getLabelSize(d){const m=this.options.ticks,E=this.ctx.measureText(d).width,b=(0,h.t)(this.isHorizontal()?m.maxRotation:m.minRotation),M=Math.cos(b),B=Math.sin(b),W=this._resolveTickFontOptions(0).size;return{w:E*M+W*B,h:E*B+W*M}}_getLabelCapacity(d){const m=this.options.time,E=m.displayFormats,b=E[m.unit]||E.millisecond,M=this._tickFormatFunction(d,0,Kt(this,[d],this._majorUnit),b),B=this._getLabelSize(M),W=Math.floor(this.isHorizontal()?this.width/B.w:this.height/B.h)-1;return W>0?W:1}getDataTimestamps(){let m,E,d=this._cache.data||[];if(d.length)return d;const b=this.getMatchingVisibleMetas();if(this._normalized&&b.length)return this._cache.data=b[0].controller.getAllParsedValues(this);for(m=0,E=b.length;m<E;++m)d=d.concat(b[m].controller.getAllParsedValues(this));return this._cache.data=this.normalize(d)}getLabelTimestamps(){const d=this._cache.labels||[];let m,E;if(d.length)return d;const b=this.getLabels();for(m=0,E=b.length;m<E;++m)d.push(G(this,b[m]));return this._cache.labels=this._normalized?d:this.normalize(d)}normalize(d){return(0,h._)(d.sort(V))}}return C.id="time",C.defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}},C})();function Tr(C,y,d){let b,M,B,W,m=0,E=C.length-1;d?(y>=C[m].pos&&y<=C[E].pos&&({lo:m,hi:E}=(0,h.B)(C,"pos",y)),({pos:b,time:B}=C[m]),({pos:M,time:W}=C[E])):(y>=C[m].time&&y<=C[E].time&&({lo:m,hi:E}=(0,h.B)(C,"time",y)),({time:b,pos:B}=C[m]),({time:M,pos:W}=C[E]));const ne=M-b;return ne?B+(W-B)*(y-b)/ne:B}class _i extends Sn{constructor(y){super(y),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const y=this._getTimestampsForTable(),d=this._table=this.buildLookupTable(y);this._minPos=Tr(d,this.min),this._tableRange=Tr(d,this.max)-this._minPos,super.initOffsets(y)}buildLookupTable(y){const{min:d,max:m}=this,E=[],b=[];let M,B,W,ne,Ce;for(M=0,B=y.length;M<B;++M)ne=y[M],ne>=d&&ne<=m&&E.push(ne);if(E.length<2)return[{time:d,pos:0},{time:m,pos:1}];for(M=0,B=E.length;M<B;++M)Ce=E[M+1],W=E[M-1],ne=E[M],Math.round((Ce+W)/2)!==ne&&b.push({time:ne,pos:M/(B-1)});return b}_generate(){const y=this.min,d=this.max;let m=super.getDataTimestamps();return(!m.includes(y)||!m.length)&&m.splice(0,0,y),(!m.includes(d)||1===m.length)&&m.push(d),m.sort((E,b)=>E-b)}_getTimestampsForTable(){let y=this._cache.all||[];if(y.length)return y;const d=this.getDataTimestamps(),m=this.getLabelTimestamps();return y=d.length&&m.length?this.normalize(d.concat(m)):d.length?d:m,y=this._cache.all=y,y}getDecimalForValue(y){return(Tr(this._table,y)-this._minPos)/this._tableRange}getValueForPixel(y){const d=this._offsets,m=this.getDecimalForPixel(y)/d.factor-d.end;return Tr(this._table,m*this._tableRange+this._minPos,!0)}}_i.id="timeseries",_i.defaults=Sn.defaults;const Yi=[Vr,L,Ss,Object.freeze({__proto__:null,CategoryScale:Fh,LinearScale:Ki,LogarithmicScale:xc,RadialLinearScale:Po,TimeScale:Sn,TimeSeriesScale:_i})]},1086:(Kn,Rt,H)=>{"use strict";function h(P){return P+.5|0}H.d(Rt,{$:()=>Li,A:()=>Si,B:()=>Mr,C:()=>ho,D:()=>rn,E:()=>So,F:()=>mr,G:()=>qr,H:()=>Ir,I:()=>de,J:()=>ai,K:()=>ii,L:()=>zi,M:()=>be,N:()=>At,O:()=>Vr,P:()=>jt,Q:()=>jr,R:()=>ms,S:()=>hn,T:()=>bn,U:()=>vn,V:()=>oo,W:()=>Gn,X:()=>ws,Y:()=>Di,Z:()=>po,_:()=>Io,a:()=>No,a0:()=>go,a1:()=>Xi,a2:()=>Ri,a3:()=>Ci,a4:()=>cr,a5:()=>ui,a6:()=>tr,a7:()=>Cn,a8:()=>Qi,a9:()=>Is,aA:()=>vo,aB:()=>$s,aC:()=>wa,aD:()=>ao,aE:()=>mn,aF:()=>ar,aG:()=>Zt,aH:()=>Ke,aI:()=>$t,aJ:()=>oe,aK:()=>jn,aL:()=>Fi,aM:()=>se,aN:()=>ki,aO:()=>zr,aP:()=>Or,aa:()=>Jo,ab:()=>ci,ac:()=>lr,ad:()=>Co,ae:()=>oi,af:()=>os,ag:()=>ke,ah:()=>vi,ai:()=>ut,aj:()=>hr,ak:()=>Js,al:()=>Fo,am:()=>Fs,an:()=>ml,ao:()=>io,ap:()=>Cs,aq:()=>ji,ar:()=>Gs,as:()=>no,at:()=>Br,au:()=>lo,av:()=>Qo,aw:()=>eo,ax:()=>Ga,ay:()=>Ft,az:()=>Ds,b:()=>Yn,c:()=>re,d:()=>Do,e:()=>Re,f:()=>dr,g:()=>Rr,h:()=>Er,i:()=>an,j:()=>ma,k:()=>un,l:()=>Hr,m:()=>Mn,n:()=>ni,o:()=>wr,p:()=>Gt,q:()=>Qs,r:()=>Vi,s:()=>te,t:()=>In,u:()=>Wi,v:()=>Ar,w:()=>Vs,x:()=>tt,y:()=>ce,z:()=>dn});const _=(P,X,le)=>Math.max(Math.min(P,le),X);function _e(P){return _(h(2.55*P),0,255)}function Ze(P){return _(h(255*P),0,255)}function Ge(P){return _(h(P/2.55)/100,0,1)}function Se(P){return _(h(100*P),0,100)}const Pe={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},Qe=[..."0123456789ABCDEF"],Le=P=>Qe[15&P],Me=P=>Qe[(240&P)>>4]+Qe[15&P],rt=P=>(240&P)>>4==(15&P);const We=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function $e(P,X,le){const De=X*Math.min(le,1-le),Ue=(ot,Dt=(ot+P/30)%12)=>le-De*Math.max(Math.min(Dt-3,9-Dt,1),-1);return[Ue(0),Ue(8),Ue(4)]}function kt(P,X,le){const De=(Ue,ot=(Ue+P/60)%6)=>le-le*X*Math.max(Math.min(ot,4-ot,1),0);return[De(5),De(3),De(1)]}function Mt(P,X,le){const De=$e(P,1,.5);let Ue;for(X+le>1&&(Ue=1/(X+le),X*=Ue,le*=Ue),Ue=0;Ue<3;Ue++)De[Ue]*=1-X-le,De[Ue]+=X;return De}function It(P){const le=P.r/255,De=P.g/255,Ue=P.b/255,ot=Math.max(le,De,Ue),Dt=Math.min(le,De,Ue),Wt=(ot+Dt)/2;let tn,kn,nr;return ot!==Dt&&(nr=ot-Dt,kn=Wt>.5?nr/(2-ot-Dt):nr/(ot+Dt),tn=function dt(P,X,le,De,Ue){return P===Ue?(X-le)/De+(X<le?6:0):X===Ue?(le-P)/De+2:(P-X)/De+4}(le,De,Ue,nr,ot),tn=60*tn+.5),[0|tn,kn||0,Wt]}function Tt(P,X,le,De){return(Array.isArray(X)?P(X[0],X[1],X[2]):P(X,le,De)).map(Ze)}function wt(P,X,le){return Tt($e,P,X,le)}function Ht(P){return(P%360+360)%360}const Te={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},qe={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};let mt;const et=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/,Pt=P=>P<=.0031308?12.92*P:1.055*Math.pow(P,1/2.4)-.055,Jt=P=>P<=.04045?P/12.92:Math.pow((P+.055)/1.055,2.4);function Nn(P,X,le){if(P){let De=It(P);De[X]=Math.max(0,Math.min(De[X]+De[X]*le,0===X?360:1)),De=wt(De),P.r=De[0],P.g=De[1],P.b=De[2]}}function Qt(P,X){return P&&Object.assign(X||{},P)}function Et(P){var X={r:0,g:0,b:0,a:255};return Array.isArray(P)?P.length>=3&&(X={r:P[0],g:P[1],b:P[2],a:255},P.length>3&&(X.a=Ze(P[3]))):(X=Qt(P,{r:0,g:0,b:0,a:1})).a=Ze(X.a),X}function on(P){return"r"===P.charAt(0)?function ct(P){const X=et.exec(P);let De,Ue,ot,le=255;if(X){if(X[7]!==De){const Dt=+X[7];le=X[8]?_e(Dt):_(255*Dt,0,255)}return De=+X[1],Ue=+X[3],ot=+X[5],De=255&(X[2]?_e(De):_(De,0,255)),Ue=255&(X[4]?_e(Ue):_(Ue,0,255)),ot=255&(X[6]?_e(ot):_(ot,0,255)),{r:De,g:Ue,b:ot,a:le}}}(P):function Ct(P){const X=We.exec(P);let De,le=255;if(!X)return;X[5]!==De&&(le=X[6]?_e(+X[5]):Ze(+X[5]));const Ue=Ht(+X[2]),ot=+X[3]/100,Dt=+X[4]/100;return De="hwb"===X[1]?function vt(P,X,le){return Tt(Mt,P,X,le)}(Ue,ot,Dt):"hsv"===X[1]?function nt(P,X,le){return Tt(kt,P,X,le)}(Ue,ot,Dt):wt(Ue,ot,Dt),{r:De[0],g:De[1],b:De[2],a:le}}(P)}class yn{constructor(X){if(X instanceof yn)return X;const le=typeof X;let De;"object"===le?De=Et(X):"string"===le&&(De=function at(P){var le,X=P.length;return"#"===P[0]&&(4===X||5===X?le={r:255&17*Pe[P[1]],g:255&17*Pe[P[2]],b:255&17*Pe[P[3]],a:5===X?17*Pe[P[4]]:255}:(7===X||9===X)&&(le={r:Pe[P[1]]<<4|Pe[P[2]],g:Pe[P[3]]<<4|Pe[P[4]],b:Pe[P[5]]<<4|Pe[P[6]],a:9===X?Pe[P[7]]<<4|Pe[P[8]]:255})),le}(X)||function Je(P){mt||(mt=function lt(){const P={},X=Object.keys(qe),le=Object.keys(Te);let De,Ue,ot,Dt,Wt;for(De=0;De<X.length;De++){for(Dt=Wt=X[De],Ue=0;Ue<le.length;Ue++)ot=le[Ue],Wt=Wt.replace(ot,Te[ot]);ot=parseInt(qe[Dt],16),P[Wt]=[ot>>16&255,ot>>8&255,255&ot]}return P}(),mt.transparent=[0,0,0,0]);const X=mt[P.toLowerCase()];return X&&{r:X[0],g:X[1],b:X[2],a:4===X.length?X[3]:255}}(X)||on(X)),this._rgb=De,this._valid=!!De}get valid(){return this._valid}get rgb(){var X=Qt(this._rgb);return X&&(X.a=Ge(X.a)),X}set rgb(X){this._rgb=Et(X)}rgbString(){return this._valid?function Ut(P){return P&&(P.a<255?`rgba(${P.r}, ${P.g}, ${P.b}, ${Ge(P.a)})`:`rgb(${P.r}, ${P.g}, ${P.b})`)}(this._rgb):void 0}hexString(){return this._valid?function Vt(P){var X=(P=>rt(P.r)&&rt(P.g)&&rt(P.b)&&rt(P.a))(P)?Le:Me;return P?"#"+X(P.r)+X(P.g)+X(P.b)+((P,X)=>P<255?X(P):"")(P.a,X):void 0}(this._rgb):void 0}hslString(){return this._valid?function qt(P){if(!P)return;const X=It(P),le=X[0],De=Se(X[1]),Ue=Se(X[2]);return P.a<255?`hsla(${le}, ${De}%, ${Ue}%, ${Ge(P.a)})`:`hsl(${le}, ${De}%, ${Ue}%)`}(this._rgb):void 0}mix(X,le){if(X){const De=this.rgb,Ue=X.rgb;let ot;const Dt=le===ot?.5:le,Wt=2*Dt-1,tn=De.a-Ue.a,kn=((Wt*tn==-1?Wt:(Wt+tn)/(1+Wt*tn))+1)/2;ot=1-kn,De.r=255&kn*De.r+ot*Ue.r+.5,De.g=255&kn*De.g+ot*Ue.g+.5,De.b=255&kn*De.b+ot*Ue.b+.5,De.a=Dt*De.a+(1-Dt)*Ue.a,this.rgb=De}return this}interpolate(X,le){return X&&(this._rgb=function nn(P,X,le){const De=Jt(Ge(P.r)),Ue=Jt(Ge(P.g)),ot=Jt(Ge(P.b));return{r:Ze(Pt(De+le*(Jt(Ge(X.r))-De))),g:Ze(Pt(Ue+le*(Jt(Ge(X.g))-Ue))),b:Ze(Pt(ot+le*(Jt(Ge(X.b))-ot))),a:P.a+le*(X.a-P.a)}}(this._rgb,X._rgb,le)),this}clone(){return new yn(this.rgb)}alpha(X){return this._rgb.a=Ze(X),this}clearer(X){return this._rgb.a*=1-X,this}greyscale(){const X=this._rgb,le=h(.3*X.r+.59*X.g+.11*X.b);return X.r=X.g=X.b=le,this}opaquer(X){return this._rgb.a*=1+X,this}negate(){const X=this._rgb;return X.r=255-X.r,X.g=255-X.g,X.b=255-X.b,this}lighten(X){return Nn(this._rgb,2,X),this}darken(X){return Nn(this._rgb,2,-X),this}saturate(X){return Nn(this._rgb,1,X),this}desaturate(X){return Nn(this._rgb,1,-X),this}rotate(X){return function Nt(P,X){var le=It(P);le[0]=Ht(le[0]+X),le=wt(le),P.r=le[0],P.g=le[1],P.b=le[2]}(this._rgb,X),this}}function ar(){}const lr=(()=>{let P=0;return()=>P++})();function un(P){return null===P||typeof P>"u"}function Yn(P){if(Array.isArray&&Array.isArray(P))return!0;const X=Object.prototype.toString.call(P);return"[object"===X.slice(0,7)&&"Array]"===X.slice(-6)}function an(P){return null!==P&&"[object Object]"===Object.prototype.toString.call(P)}function Rr(P){return("number"==typeof P||P instanceof Number)&&isFinite(+P)}function Vr(P,X){return Rr(P)?P:X}function Ar(P,X){return typeof P>"u"?X:P}const Mn=(P,X)=>"string"==typeof P&&P.endsWith("%")?parseFloat(P)/100:+P/X,ni=(P,X)=>"string"==typeof P&&P.endsWith("%")?parseFloat(P)/100*X:+P;function jr(P,X,le){if(P&&"function"==typeof P.call)return P.apply(le,X)}function mr(P,X,le,De){let Ue,ot,Dt;if(Yn(P))if(ot=P.length,De)for(Ue=ot-1;Ue>=0;Ue--)X.call(le,P[Ue],Ue);else for(Ue=0;Ue<ot;Ue++)X.call(le,P[Ue],Ue);else if(an(P))for(Dt=Object.keys(P),ot=Dt.length,Ue=0;Ue<ot;Ue++)X.call(le,P[Dt[Ue]],Dt[Ue])}function vi(P,X){let le,De,Ue,ot;if(!P||!X||P.length!==X.length)return!1;for(le=0,De=P.length;le<De;++le)if(Ue=P[le],ot=X[le],Ue.datasetIndex!==ot.datasetIndex||Ue.index!==ot.index)return!1;return!0}function pi(P){if(Yn(P))return P.map(pi);if(an(P)){const X=Object.create(null),le=Object.keys(P),De=le.length;let Ue=0;for(;Ue<De;++Ue)X[le[Ue]]=pi(P[le[Ue]]);return X}return P}function Jn(P){return-1===["__proto__","prototype","constructor"].indexOf(P)}function Qn(P,X,le,De){if(!Jn(P))return;const Ue=X[P],ot=le[P];an(Ue)&&an(ot)?cr(Ue,ot,De):X[P]=pi(ot)}function cr(P,X,le){const De=Yn(X)?X:[X],Ue=De.length;if(!an(P))return P;const ot=(le=le||{}).merger||Qn;let Dt;for(let Wt=0;Wt<Ue;++Wt){if(Dt=De[Wt],!an(Dt))continue;const tn=Object.keys(Dt);for(let kn=0,nr=tn.length;kn<nr;++kn)ot(tn[kn],P,Dt,le)}return P}function ci(P,X){return cr(P,X,{merger:si})}function si(P,X,le){if(!Jn(P))return;const De=X[P],Ue=le[P];an(De)&&an(Ue)?ci(De,Ue):Object.prototype.hasOwnProperty.call(X,P)||(X[P]=pi(Ue))}const fi={"":P=>P,x:P=>P.x,y:P=>P.y};function dr(P,X){return(fi[X]||(fi[X]=function br(P){const X=function gi(P){const X=P.split("."),le=[];let De="";for(const Ue of X)De+=Ue,De.endsWith("\\")?De=De.slice(0,-1)+".":(le.push(De),De="");return le}(P);return le=>{for(const De of X){if(""===De)break;le=le&&le[De]}return le}}(X)))(P)}function ui(P){return P.charAt(0).toUpperCase()+P.slice(1)}const Er=P=>typeof P<"u",Cn=P=>"function"==typeof P,ke=(P,X)=>{if(P.size!==X.size)return!1;for(const le of P)if(!X.has(le))return!1;return!0};function ut(P){return"mouseup"===P.type||"click"===P.type||"contextmenu"===P.type}const jt=Math.PI,bn=2*jt,$n=bn+jt,Fr=Number.POSITIVE_INFINITY,xr=jt/180,Ir=jt/2,gt=jt/4,Ae=2*jt/3,se=Math.log10,te=Math.sign;function oe(P,X,le){return Math.abs(P-X)<le}function Ke(P){const X=Math.round(P);P=oe(P,X,P/1e3)?X:P;const le=Math.pow(10,Math.floor(se(P))),De=P/le;return(De<=1?1:De<=2?2:De<=5?5:10)*le}function At(P){const X=[],le=Math.sqrt(P);let De;for(De=1;De<le;De++)P%De==0&&(X.push(De),X.push(P/De));return le===(0|le)&&X.push(le),X.sort((Ue,ot)=>Ue-ot).pop(),X}function tt(P){return!isNaN(parseFloat(P))&&isFinite(P)}function $t(P,X){const le=Math.round(P);return le-X<=P&&le+X>=P}function Zt(P,X,le){let De,Ue,ot;for(De=0,Ue=P.length;De<Ue;De++)ot=P[De][le],isNaN(ot)||(X.min=Math.min(X.min,ot),X.max=Math.max(X.max,ot))}function In(P){return P*(jt/180)}function vn(P){return P*(180/jt)}function jn(P){if(!Rr(P))return;let X=1,le=0;for(;Math.round(P*X)/X!==P;)X*=10,le++;return le}function rn(P,X){const le=X.x-P.x,De=X.y-P.y,Ue=Math.sqrt(le*le+De*De);let ot=Math.atan2(De,le);return ot<-.5*jt&&(ot+=bn),{angle:ot,distance:Ue}}function mn(P,X){return Math.sqrt(Math.pow(X.x-P.x,2)+Math.pow(X.y-P.y,2))}function Rn(P,X){return(P-X+$n)%bn-jt}function Ft(P){return(P%bn+bn)%bn}function Gt(P,X,le,De){const Ue=Ft(P),ot=Ft(X),Dt=Ft(le),Wt=Ft(ot-Ue),tn=Ft(Dt-Ue),kn=Ft(Ue-ot),nr=Ft(Ue-Dt);return Ue===ot||Ue===Dt||De&&ot===Dt||Wt>tn&&kn<nr}function hn(P,X,le){return Math.max(X,Math.min(le,P))}function Gn(P){return hn(P,-32768,32767)}function hr(P,X,le,De=1e-6){return P>=Math.min(X,le)-De&&P<=Math.max(X,le)+De}function Or(P,X,le){le=le||(Dt=>P[Dt]<X);let ot,De=P.length-1,Ue=0;for(;De-Ue>1;)ot=Ue+De>>1,le(ot)?Ue=ot:De=ot;return{lo:Ue,hi:De}}const Mr=(P,X,le,De)=>Or(P,le,De?Ue=>{const ot=P[Ue][X];return ot<le||ot===le&&P[Ue+1][X]===le}:Ue=>P[Ue][X]<le),Si=(P,X,le)=>Or(P,le,De=>P[De][X]>=le);function zr(P,X,le){let De=0,Ue=P.length;for(;De<Ue&&P[De]<X;)De++;for(;Ue>De&&P[Ue-1]>le;)Ue--;return De>0||Ue<P.length?P.slice(De,Ue):P}const kr=["push","pop","shift","splice","unshift"];function Hr(P,X){P._chartjs?P._chartjs.listeners.push(X):(Object.defineProperty(P,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[X]}}),kr.forEach(le=>{const De="_onData"+ui(le),Ue=P[le];Object.defineProperty(P,le,{configurable:!0,enumerable:!1,value(...ot){const Dt=Ue.apply(this,ot);return P._chartjs.listeners.forEach(Wt=>{"function"==typeof Wt[De]&&Wt[De](...ot)}),Dt}})}))}function Wi(P,X){const le=P._chartjs;if(!le)return;const De=le.listeners,Ue=De.indexOf(X);-1!==Ue&&De.splice(Ue,1),!(De.length>0)&&(kr.forEach(ot=>{delete P[ot]}),delete P._chartjs)}function Io(P){const X=new Set(P);return X.size===P.length?P:Array.from(X)}const Vi=typeof window>"u"?function(P){return P()}:window.requestAnimationFrame;function zi(P,X){let le=[],De=!1;return function(...Ue){le=Ue,De||(De=!0,Vi.call(window,()=>{De=!1,P.apply(X,le)}))}}function Co(P,X){let le;return function(...De){return X?(clearTimeout(le),le=setTimeout(P,X,De)):P.apply(this,De),X}}const Xi=P=>"start"===P?"left":"end"===P?"right":"center",Ri=(P,X,le)=>"start"===P?X:"end"===P?le:(X+le)/2,$s=(P,X,le,De)=>P===(De?"left":"right")?le:"center"===P?(X+le)/2:X;function Qs(P,X,le){const De=X.length;let Ue=0,ot=De;if(P._sorted){const{iScale:Dt,_parsed:Wt}=P,tn=Dt.axis,{min:kn,max:nr,minDefined:li,maxDefined:Wr}=Dt.getUserBounds();li&&(Ue=hn(Math.min(Mr(Wt,tn,kn).lo,le?De:Mr(X,tn,Dt.getPixelForValue(kn)).lo),0,De-1)),ot=Wr?hn(Math.max(Mr(Wt,Dt.axis,nr,!0).hi+1,le?0:Mr(X,tn,Dt.getPixelForValue(nr),!0).hi+1),Ue,De)-Ue:De-Ue}return{start:Ue,count:ot}}function Vs(P){const{xScale:X,yScale:le,_scaleRanges:De}=P,Ue={xmin:X.min,xmax:X.max,ymin:le.min,ymax:le.max};if(!De)return P._scaleRanges=Ue,!0;const ot=De.xmin!==X.min||De.xmax!==X.max||De.ymin!==le.min||De.ymax!==le.max;return Object.assign(De,Ue),ot}const Us=P=>0===P||1===P,ie=(P,X,le)=>-Math.pow(2,10*(P-=1))*Math.sin((P-X)*bn/le),fe=(P,X,le)=>Math.pow(2,-10*P)*Math.sin((P-X)*bn/le)+1,Re={linear:P=>P,easeInQuad:P=>P*P,easeOutQuad:P=>-P*(P-2),easeInOutQuad:P=>(P/=.5)<1?.5*P*P:-.5*(--P*(P-2)-1),easeInCubic:P=>P*P*P,easeOutCubic:P=>(P-=1)*P*P+1,easeInOutCubic:P=>(P/=.5)<1?.5*P*P*P:.5*((P-=2)*P*P+2),easeInQuart:P=>P*P*P*P,easeOutQuart:P=>-((P-=1)*P*P*P-1),easeInOutQuart:P=>(P/=.5)<1?.5*P*P*P*P:-.5*((P-=2)*P*P*P-2),easeInQuint:P=>P*P*P*P*P,easeOutQuint:P=>(P-=1)*P*P*P*P+1,easeInOutQuint:P=>(P/=.5)<1?.5*P*P*P*P*P:.5*((P-=2)*P*P*P*P+2),easeInSine:P=>1-Math.cos(P*Ir),easeOutSine:P=>Math.sin(P*Ir),easeInOutSine:P=>-.5*(Math.cos(jt*P)-1),easeInExpo:P=>0===P?0:Math.pow(2,10*(P-1)),easeOutExpo:P=>1===P?1:1-Math.pow(2,-10*P),easeInOutExpo:P=>Us(P)?P:P<.5?.5*Math.pow(2,10*(2*P-1)):.5*(2-Math.pow(2,-10*(2*P-1))),easeInCirc:P=>P>=1?P:-(Math.sqrt(1-P*P)-1),easeOutCirc:P=>Math.sqrt(1-(P-=1)*P),easeInOutCirc:P=>(P/=.5)<1?-.5*(Math.sqrt(1-P*P)-1):.5*(Math.sqrt(1-(P-=2)*P)+1),easeInElastic:P=>Us(P)?P:ie(P,.075,.3),easeOutElastic:P=>Us(P)?P:fe(P,.075,.3),easeInOutElastic:P=>Us(P)?P:P<.5?.5*ie(2*P,.1125,.45):.5+.5*fe(2*P-1,.1125,.45),easeInBack:P=>P*P*(2.70158*P-1.70158),easeOutBack:P=>(P-=1)*P*(2.70158*P+1.70158)+1,easeInOutBack(P){let X=1.70158;return(P/=.5)<1?P*P*((1+(X*=1.525))*P-X)*.5:.5*((P-=2)*P*((1+(X*=1.525))*P+X)+2)},easeInBounce:P=>1-Re.easeOutBounce(1-P),easeOutBounce:P=>P<1/2.75?7.5625*P*P:P<2/2.75?7.5625*(P-=1.5/2.75)*P+.75:P<2.5/2.75?7.5625*(P-=2.25/2.75)*P+.9375:7.5625*(P-=2.625/2.75)*P+.984375,easeInOutBounce:P=>P<.5?.5*Re.easeInBounce(2*P):.5*Re.easeOutBounce(2*P-1)+.5};function Ee(P){if(P&&"object"==typeof P){const X=P.toString();return"[object CanvasPattern]"===X||"[object CanvasGradient]"===X}return!1}function re(P){return Ee(P)?P:new yn(P)}function ye(P){return Ee(P)?P:new yn(P).saturate(.5).darken(.1).hexString()}const st=["x","y","borderWidth","radius","tension"],bt=["color","borderColor","backgroundColor"],zn=new Map;function wr(P,X,le){return function Vn(P,X){X=X||{};const le=P+JSON.stringify(X);let De=zn.get(le);return De||(De=new Intl.NumberFormat(P,X),zn.set(le,De)),De}(X,le).format(P)}const Qr={values:P=>Yn(P)?P:""+P,numeric(P,X,le){if(0===P)return"0";const De=this.chart.options.locale;let Ue,ot=P;if(le.length>1){const kn=Math.max(Math.abs(le[0].value),Math.abs(le[le.length-1].value));(kn<1e-4||kn>1e15)&&(Ue="scientific"),ot=function is(P,X){let le=X.length>3?X[2].value-X[1].value:X[1].value-X[0].value;return Math.abs(le)>=1&&P!==Math.floor(P)&&(le=P-Math.floor(P)),le}(P,le)}const Dt=se(Math.abs(ot)),Wt=isNaN(Dt)?1:Math.max(Math.min(-1*Math.floor(Dt),20),0),tn={notation:Ue,minimumFractionDigits:Wt,maximumFractionDigits:Wt};return Object.assign(tn,this.options.ticks.format),wr(P,De,tn)},logarithmic(P,X,le){if(0===P)return"0";const De=le[X].significand||P/Math.pow(10,Math.floor(se(P)));return[1,2,3,5,10,15].includes(De)||X>.8*le.length?Qr.numeric.call(this,P,X,le):""}};var Fi={formatters:Qr};const Ci=Object.create(null),tr=Object.create(null);function Lr(P,X){if(!X)return P;const le=X.split(".");for(let De=0,Ue=le.length;De<Ue;++De){const ot=le[De];P=P[ot]||(P[ot]=Object.create(null))}return P}function Ai(P,X,le){return"string"==typeof X?cr(Lr(P,X),le):cr(Lr(P,""),X)}class ks{constructor(X,le){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=De=>De.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(De,Ue)=>ye(Ue.backgroundColor),this.hoverBorderColor=(De,Ue)=>ye(Ue.borderColor),this.hoverColor=(De,Ue)=>ye(Ue.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(X),this.apply(le)}set(X,le){return Ai(this,X,le)}get(X){return Lr(this,X)}describe(X,le){return Ai(tr,X,le)}override(X,le){return Ai(Ci,X,le)}route(X,le,De,Ue){const ot=Lr(this,X),Dt=Lr(this,De),Wt="_"+le;Object.defineProperties(ot,{[Wt]:{value:ot[le],writable:!0},[le]:{enumerable:!0,get(){const tn=this[Wt],kn=Dt[Ue];return an(tn)?Object.assign({},kn,tn):Ar(tn,kn)},set(tn){this[Wt]=tn}}})}apply(X){X.forEach(le=>le(this))}}var Do=new ks({_scriptable:P=>!P.startsWith("on"),_indexable:P=>"events"!==P,hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[function Lt(P){P.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),P.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:X=>"onProgress"!==X&&"onComplete"!==X&&"fn"!==X}),P.set("animations",{colors:{type:"color",properties:bt},numbers:{type:"number",properties:st}}),P.describe("animations",{_fallback:"animation"}),P.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:X=>0|X}}}})},function Xt(P){P.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})},function Ws(P){P.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(X,le)=>le.lineWidth,tickColor:(X,le)=>le.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:Fi.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),P.route("scale.ticks","color","","color"),P.route("scale.grid","color","","borderColor"),P.route("scale.border","color","","borderColor"),P.route("scale.title","color","","color"),P.describe("scale",{_fallback:!1,_scriptable:X=>!X.startsWith("before")&&!X.startsWith("after")&&"callback"!==X&&"parser"!==X,_indexable:X=>"borderDash"!==X&&"tickBorderDash"!==X&&"dash"!==X}),P.describe("scales",{_fallback:"scale"}),P.describe("scale.ticks",{_scriptable:X=>"backdropPadding"!==X&&"callback"!==X,_indexable:X=>"backdropPadding"!==X})}]);function oo(P,X,le,De,Ue){let ot=X[Ue];return ot||(ot=X[Ue]=P.measureText(Ue).width,le.push(Ue)),ot>De&&(De=ot),De}function ki(P,X,le,De){let Ue=(De=De||{}).data=De.data||{},ot=De.garbageCollect=De.garbageCollect||[];De.font!==X&&(Ue=De.data={},ot=De.garbageCollect=[],De.font=X),P.save(),P.font=X;let Dt=0;const Wt=le.length;let tn,kn,nr,li,Wr;for(tn=0;tn<Wt;tn++)if(li=le[tn],null==li||Yn(li)){if(Yn(li))for(kn=0,nr=li.length;kn<nr;kn++)Wr=li[kn],null!=Wr&&!Yn(Wr)&&(Dt=oo(P,Ue,ot,Dt,Wr))}else Dt=oo(P,Ue,ot,Dt,li);P.restore();const Ls=ot.length/2;if(Ls>le.length){for(tn=0;tn<Ls;tn++)delete Ue[ot[tn]];ot.splice(0,Ls)}return Dt}function ws(P,X,le){const De=P.currentDevicePixelRatio,Ue=0!==le?Math.max(le/2,.5):0;return Math.round((X-Ue)*De)/De+Ue}function os(P,X){(X=X||P.getContext("2d")).save(),X.resetTransform(),X.clearRect(0,0,P.width,P.height),X.restore()}function Br(P,X,le,De){ao(P,X,le,De,null)}function ao(P,X,le,De,Ue){let ot,Dt,Wt,tn,kn,nr,li,Wr;const Ls=X.pointStyle,co=X.rotation,q=X.radius;let ue=(co||0)*xr;if(Ls&&"object"==typeof Ls&&(ot=Ls.toString(),"[object HTMLImageElement]"===ot||"[object HTMLCanvasElement]"===ot))return P.save(),P.translate(le,De),P.rotate(ue),P.drawImage(Ls,-Ls.width/2,-Ls.height/2,Ls.width,Ls.height),void P.restore();if(!(isNaN(q)||q<=0)){switch(P.beginPath(),Ls){default:Ue?P.ellipse(le,De,Ue/2,q,0,0,bn):P.arc(le,De,q,0,bn),P.closePath();break;case"triangle":nr=Ue?Ue/2:q,P.moveTo(le+Math.sin(ue)*nr,De-Math.cos(ue)*q),ue+=Ae,P.lineTo(le+Math.sin(ue)*nr,De-Math.cos(ue)*q),ue+=Ae,P.lineTo(le+Math.sin(ue)*nr,De-Math.cos(ue)*q),P.closePath();break;case"rectRounded":kn=.516*q,tn=q-kn,Dt=Math.cos(ue+gt)*tn,li=Math.cos(ue+gt)*(Ue?Ue/2-kn:tn),Wt=Math.sin(ue+gt)*tn,Wr=Math.sin(ue+gt)*(Ue?Ue/2-kn:tn),P.arc(le-li,De-Wt,kn,ue-jt,ue-Ir),P.arc(le+Wr,De-Dt,kn,ue-Ir,ue),P.arc(le+li,De+Wt,kn,ue,ue+Ir),P.arc(le-Wr,De+Dt,kn,ue+Ir,ue+jt),P.closePath();break;case"rect":if(!co){tn=Math.SQRT1_2*q,nr=Ue?Ue/2:tn,P.rect(le-nr,De-tn,2*nr,2*tn);break}ue+=gt;case"rectRot":li=Math.cos(ue)*(Ue?Ue/2:q),Dt=Math.cos(ue)*q,Wt=Math.sin(ue)*q,Wr=Math.sin(ue)*(Ue?Ue/2:q),P.moveTo(le-li,De-Wt),P.lineTo(le+Wr,De-Dt),P.lineTo(le+li,De+Wt),P.lineTo(le-Wr,De+Dt),P.closePath();break;case"crossRot":ue+=gt;case"cross":li=Math.cos(ue)*(Ue?Ue/2:q),Dt=Math.cos(ue)*q,Wt=Math.sin(ue)*q,Wr=Math.sin(ue)*(Ue?Ue/2:q),P.moveTo(le-li,De-Wt),P.lineTo(le+li,De+Wt),P.moveTo(le+Wr,De-Dt),P.lineTo(le-Wr,De+Dt);break;case"star":li=Math.cos(ue)*(Ue?Ue/2:q),Dt=Math.cos(ue)*q,Wt=Math.sin(ue)*q,Wr=Math.sin(ue)*(Ue?Ue/2:q),P.moveTo(le-li,De-Wt),P.lineTo(le+li,De+Wt),P.moveTo(le+Wr,De-Dt),P.lineTo(le-Wr,De+Dt),ue+=gt,li=Math.cos(ue)*(Ue?Ue/2:q),Dt=Math.cos(ue)*q,Wt=Math.sin(ue)*q,Wr=Math.sin(ue)*(Ue?Ue/2:q),P.moveTo(le-li,De-Wt),P.lineTo(le+li,De+Wt),P.moveTo(le+Wr,De-Dt),P.lineTo(le-Wr,De+Dt);break;case"line":Dt=Ue?Ue/2:Math.cos(ue)*q,Wt=Math.sin(ue)*q,P.moveTo(le-Dt,De-Wt),P.lineTo(le+Dt,De+Wt);break;case"dash":P.moveTo(le,De),P.lineTo(le+Math.cos(ue)*(Ue?Ue/2:q),De+Math.sin(ue)*q);break;case!1:P.closePath()}P.fill(),X.borderWidth>0&&P.stroke()}}function ho(P,X,le){return le=le||.5,!X||P&&P.x>X.left-le&&P.x<X.right+le&&P.y>X.top-le&&P.y<X.bottom+le}function Di(P,X){P.save(),P.beginPath(),P.rect(X.left,X.top,X.right-X.left,X.bottom-X.top),P.clip()}function Li(P){P.restore()}function Gs(P,X,le,De,Ue){if(!X)return P.lineTo(le.x,le.y);if("middle"===Ue){const ot=(X.x+le.x)/2;P.lineTo(ot,X.y),P.lineTo(ot,le.y)}else"after"===Ue!=!!De?P.lineTo(X.x,le.y):P.lineTo(le.x,X.y);P.lineTo(le.x,le.y)}function no(P,X,le,De){if(!X)return P.lineTo(le.x,le.y);P.bezierCurveTo(De?X.cp1x:X.cp2x,De?X.cp1y:X.cp2y,De?le.cp2x:le.cp1x,De?le.cp2y:le.cp1y,le.x,le.y)}function ko(P,X,le,De,Ue){if(Ue.strikethrough||Ue.underline){const ot=P.measureText(De),Dt=X-ot.actualBoundingBoxLeft,Wt=X+ot.actualBoundingBoxRight,kn=le+ot.actualBoundingBoxDescent,nr=Ue.strikethrough?(le-ot.actualBoundingBoxAscent+kn)/2:kn;P.strokeStyle=P.fillStyle,P.beginPath(),P.lineWidth=Ue.decorationWidth||2,P.moveTo(Dt,nr),P.lineTo(Wt,nr),P.stroke()}}function $o(P,X){const le=P.fillStyle;P.fillStyle=X.color,P.fillRect(X.left,X.top,X.width,X.height),P.fillStyle=le}function po(P,X,le,De,Ue,ot={}){const Dt=Yn(X)?X:[X],Wt=ot.strokeWidth>0&&""!==ot.strokeColor;let tn,kn;for(P.save(),P.font=Ue.string,function fo(P,X){X.translation&&P.translate(X.translation[0],X.translation[1]),un(X.rotation)||P.rotate(X.rotation),X.color&&(P.fillStyle=X.color),X.textAlign&&(P.textAlign=X.textAlign),X.textBaseline&&(P.textBaseline=X.textBaseline)}(P,ot),tn=0;tn<Dt.length;++tn)kn=Dt[tn],ot.backdrop&&$o(P,ot.backdrop),Wt&&(ot.strokeColor&&(P.strokeStyle=ot.strokeColor),un(ot.strokeWidth)||(P.lineWidth=ot.strokeWidth),P.strokeText(kn,le,De,ot.maxWidth)),P.fillText(kn,le,De,ot.maxWidth),ko(P,le,De,kn,ot),De+=Number(Ue.lineHeight);P.restore()}function lo(P,X){const{x:le,y:De,w:Ue,h:ot,radius:Dt}=X;P.arc(le+Dt.topLeft,De+Dt.topLeft,Dt.topLeft,1.5*jt,jt,!0),P.lineTo(le,De+ot-Dt.bottomLeft),P.arc(le+Dt.bottomLeft,De+ot-Dt.bottomLeft,Dt.bottomLeft,jt,Ir,!0),P.lineTo(le+Ue-Dt.bottomRight,De+ot),P.arc(le+Ue-Dt.bottomRight,De+ot-Dt.bottomRight,Dt.bottomRight,Ir,0,!0),P.lineTo(le+Ue,De+Dt.topRight),P.arc(le+Ue-Dt.topRight,De+Dt.topRight,Dt.topRight,0,-Ir,!0),P.lineTo(le+Dt.topLeft,De)}const ia=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,ps=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function Ei(P,X){const le=(""+P).match(ia);if(!le||"normal"===le[1])return 1.2*X;switch(P=+le[2],le[3]){case"px":return P;case"%":P/=100}return X*P}const Ea=P=>+P||0;function Js(P,X){const le={},De=an(X),Ue=De?Object.keys(X):X,ot=an(P)?De?Dt=>Ar(P[Dt],P[X[Dt]]):Dt=>P[Dt]:()=>P;for(const Dt of Ue)le[Dt]=Ea(ot(Dt));return le}function Qo(P){return Js(P,{top:"y",right:"x",bottom:"y",left:"x"})}function eo(P){return Js(P,["topLeft","topRight","bottomLeft","bottomRight"])}function So(P){const X=Qo(P);return X.width=X.left+X.right,X.height=X.top+X.bottom,X}function go(P,X){let le=Ar((P=P||{}).size,(X=X||Do.font).size);"string"==typeof le&&(le=parseInt(le,10));let De=Ar(P.style,X.style);De&&!(""+De).match(ps)&&(console.warn('Invalid font style specified: "'+De+'"'),De=void 0);const Ue={family:Ar(P.family,X.family),lineHeight:Ei(Ar(P.lineHeight,X.lineHeight),le),size:le,style:De,weight:Ar(P.weight,X.weight),string:""};return Ue.string=function ss(P){return!P||un(P.size)||un(P.family)?null:(P.style?P.style+" ":"")+(P.weight?P.weight+" ":"")+P.size+"px "+P.family}(Ue),Ue}function No(P,X,le,De){let ot,Dt,Wt,Ue=!0;for(ot=0,Dt=P.length;ot<Dt;++ot)if(Wt=P[ot],void 0!==Wt&&(void 0!==X&&"function"==typeof Wt&&(Wt=Wt(X),Ue=!1),void 0!==le&&Yn(Wt)&&(Wt=Wt[le%Wt.length],Ue=!1),void 0!==Wt))return De&&!Ue&&(De.cacheable=!1),Wt}function ms(P,X,le){const{min:De,max:Ue}=P,ot=ni(X,(Ue-De)/2),Dt=(Wt,tn)=>le&&0===Wt?0:Wt+tn;return{min:Dt(De,-Math.abs(ot)),max:Dt(Ue,ot)}}function ma(P,X){return Object.assign(Object.create(P),X)}function Is(P,X=[""],le,De,Ue=(()=>P[0])){const ot=le||P;typeof De>"u"&&(De=k("_fallback",P));const Dt={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:P,_rootScopes:ot,_fallback:De,_getTarget:Ue,override:Wt=>Is([Wt,...P],X,ot,De)};return new Proxy(Dt,{deleteProperty:(Wt,tn)=>(delete Wt[tn],delete Wt._keys,delete P[0][tn],!0),get:(Wt,tn)=>To(Wt,tn,()=>function Wo(P,X,le,De){let Ue;for(const ot of X)if(Ue=k(Vo(ot,P),le),typeof Ue<"u")return mo(P,Ue)?Ho(le,De,P,Ue):Ue}(tn,X,P,Wt)),getOwnPropertyDescriptor:(Wt,tn)=>Reflect.getOwnPropertyDescriptor(Wt._scopes[0],tn),getPrototypeOf:()=>Reflect.getPrototypeOf(P[0]),has:(Wt,tn)=>he(Wt).includes(tn),ownKeys:Wt=>he(Wt),set(Wt,tn,kn){const nr=Wt._storage||(Wt._storage=Ue());return Wt[tn]=nr[tn]=kn,delete Wt._keys,!0}})}function Qi(P,X,le,De){const Ue={_cacheable:!1,_proxy:P,_context:X,_subProxy:le,_stack:new Set,_descriptors:Jo(P,De),setContext:ot=>Qi(P,ot,le,De),override:ot=>Qi(P.override(ot),X,le,De)};return new Proxy(Ue,{deleteProperty:(ot,Dt)=>(delete ot[Dt],delete P[Dt],!0),get:(ot,Dt,Wt)=>To(ot,Dt,()=>function Ao(P,X,le){const{_proxy:De,_context:Ue,_subProxy:ot,_descriptors:Dt}=P;let Wt=De[X];return Cn(Wt)&&Dt.isScriptable(X)&&(Wt=function sa(P,X,le,De){const{_proxy:Ue,_context:ot,_subProxy:Dt,_stack:Wt}=le;if(Wt.has(P))throw new Error("Recursion detected: "+Array.from(Wt).join("->")+"->"+P);Wt.add(P);let tn=X(ot,Dt||De);return Wt.delete(P),mo(P,tn)&&(tn=Ho(Ue._scopes,Ue,P,tn)),tn}(X,Wt,P,le)),Yn(Wt)&&Wt.length&&(Wt=function to(P,X,le,De){const{_proxy:Ue,_context:ot,_subProxy:Dt,_descriptors:Wt}=le;if(typeof ot.index<"u"&&De(P))return X[ot.index%X.length];if(an(X[0])){const tn=X,kn=Ue._scopes.filter(nr=>nr!==tn);X=[];for(const nr of tn){const li=Ho(kn,Ue,P,nr);X.push(Qi(li,ot,Dt&&Dt[P],Wt))}}return X}(X,Wt,P,Dt.isIndexable)),mo(X,Wt)&&(Wt=Qi(Wt,Ue,ot&&ot[X],Dt)),Wt}(ot,Dt,Wt)),getOwnPropertyDescriptor:(ot,Dt)=>ot._descriptors.allKeys?Reflect.has(P,Dt)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(P,Dt),getPrototypeOf:()=>Reflect.getPrototypeOf(P),has:(ot,Dt)=>Reflect.has(P,Dt),ownKeys:()=>Reflect.ownKeys(P),set:(ot,Dt,Wt)=>(P[Dt]=Wt,delete ot[Dt],!0)})}function Jo(P,X={scriptable:!0,indexable:!0}){const{_scriptable:le=X.scriptable,_indexable:De=X.indexable,_allKeys:Ue=X.allKeys}=P;return{allKeys:Ue,scriptable:le,indexable:De,isScriptable:Cn(le)?le:()=>le,isIndexable:Cn(De)?De:()=>De}}const Vo=(P,X)=>P?P+ui(X):X,mo=(P,X)=>an(X)&&"adapters"!==P&&(null===Object.getPrototypeOf(X)||X.constructor===Object);function To(P,X,le){if(Object.prototype.hasOwnProperty.call(P,X))return P[X];const De=le();return P[X]=De,De}function ro(P,X,le){return Cn(P)?P(X,le):P}const Uo=(P,X)=>!0===P?X:"string"==typeof P?dr(X,P):void 0;function ys(P,X,le,De,Ue){for(const ot of X){const Dt=Uo(le,ot);if(Dt){P.add(Dt);const Wt=ro(Dt._fallback,le,Ue);if(typeof Wt<"u"&&Wt!==le&&Wt!==De)return Wt}else if(!1===Dt&&typeof De<"u"&&le!==De)return null}return!1}function Ho(P,X,le,De){const Ue=X._rootScopes,ot=ro(X._fallback,le,De),Dt=[...P,...Ue],Wt=new Set;Wt.add(De);let tn=yo(Wt,Dt,le,ot||le,De);return!(null===tn||typeof ot<"u"&&ot!==le&&(tn=yo(Wt,Dt,ot,tn,De),null===tn))&&Is(Array.from(Wt),[""],Ue,ot,()=>function ea(P,X,le){const De=P._getTarget();X in De||(De[X]={});const Ue=De[X];return Yn(Ue)&&an(le)?le:Ue||{}}(X,le,De))}function yo(P,X,le,De,Ue){for(;le;)le=ys(P,X,le,De,Ue);return le}function k(P,X){for(const le of X){if(!le)continue;const De=le[P];if(typeof De<"u")return De}}function he(P){let X=P._keys;return X||(X=P._keys=function N(P){const X=new Set;for(const le of P)for(const De of Object.keys(le).filter(Ue=>!Ue.startsWith("_")))X.add(De);return Array.from(X)}(P._scopes)),X}function ce(P,X,le,De){const{iScale:Ue}=P,{key:ot="r"}=this._parsing,Dt=new Array(De);let Wt,tn,kn,nr;for(Wt=0,tn=De;Wt<tn;++Wt)kn=Wt+le,nr=X[kn],Dt[Wt]={r:Ue.parse(dr(nr,ot),kn)};return Dt}const Xe=Number.EPSILON||1e-14,En=(P,X)=>X<P.length&&!P[X].skip&&P[X],Cr=P=>"x"===P?"y":"x";function Ur(P,X,le,De){const Ue=P.skip?X:P,ot=X,Dt=le.skip?X:le,Wt=mn(ot,Ue),tn=mn(Dt,ot);let kn=Wt/(Wt+tn),nr=tn/(Wt+tn);kn=isNaN(kn)?0:kn,nr=isNaN(nr)?0:nr;const li=De*kn,Wr=De*nr;return{previous:{x:ot.x-li*(Dt.x-Ue.x),y:ot.y-li*(Dt.y-Ue.y)},next:{x:ot.x+Wr*(Dt.x-Ue.x),y:ot.y+Wr*(Dt.y-Ue.y)}}}function vs(P,X,le){return Math.max(Math.min(P,le),X)}function Fo(P,X,le,De,Ue){let ot,Dt,Wt,tn;if(X.spanGaps&&(P=P.filter(kn=>!kn.skip)),"monotone"===X.cubicInterpolationMode)!function Ms(P,X="x"){const le=Cr(X),De=P.length,Ue=Array(De).fill(0),ot=Array(De);let Dt,Wt,tn,kn=En(P,0);for(Dt=0;Dt<De;++Dt)if(Wt=tn,tn=kn,kn=En(P,Dt+1),tn){if(kn){const nr=kn[X]-tn[X];Ue[Dt]=0!==nr?(kn[le]-tn[le])/nr:0}ot[Dt]=Wt?kn?te(Ue[Dt-1])!==te(Ue[Dt])?0:(Ue[Dt-1]+Ue[Dt])/2:Ue[Dt-1]:Ue[Dt]}(function yi(P,X,le){const De=P.length;let Ue,ot,Dt,Wt,tn,kn=En(P,0);for(let nr=0;nr<De-1;++nr)if(tn=kn,kn=En(P,nr+1),tn&&kn){if(oe(X[nr],0,Xe)){le[nr]=le[nr+1]=0;continue}Ue=le[nr]/X[nr],ot=le[nr+1]/X[nr],Wt=Math.pow(Ue,2)+Math.pow(ot,2),!(Wt<=9)&&(Dt=3/Math.sqrt(Wt),le[nr]=Ue*Dt*X[nr],le[nr+1]=ot*Dt*X[nr])}})(P,Ue,ot),function wi(P,X,le="x"){const De=Cr(le),Ue=P.length;let ot,Dt,Wt,tn=En(P,0);for(let kn=0;kn<Ue;++kn){if(Dt=Wt,Wt=tn,tn=En(P,kn+1),!Wt)continue;const nr=Wt[le],li=Wt[De];Dt&&(ot=(nr-Dt[le])/3,Wt[`cp1${le}`]=nr-ot,Wt[`cp1${De}`]=li-ot*X[kn]),tn&&(ot=(tn[le]-nr)/3,Wt[`cp2${le}`]=nr+ot,Wt[`cp2${De}`]=li+ot*X[kn])}}(P,ot,X)}(P,Ue);else{let kn=De?P[P.length-1]:P[0];for(ot=0,Dt=P.length;ot<Dt;++ot)Wt=P[ot],tn=Ur(kn,Wt,P[Math.min(ot+1,Dt-(De?0:1))%Dt],X.tension),Wt.cp1x=tn.previous.x,Wt.cp1y=tn.previous.y,Wt.cp2x=tn.next.x,Wt.cp2y=tn.next.y,kn=Wt}X.capBezierPoints&&function Ks(P,X){let le,De,Ue,ot,Dt,Wt=ho(P[0],X);for(le=0,De=P.length;le<De;++le)Dt=ot,ot=Wt,Wt=le<De-1&&ho(P[le+1],X),ot&&(Ue=P[le],Dt&&(Ue.cp1x=vs(Ue.cp1x,X.left,X.right),Ue.cp1y=vs(Ue.cp1y,X.top,X.bottom)),Wt&&(Ue.cp2x=vs(Ue.cp2x,X.left,X.right),Ue.cp2y=vs(Ue.cp2y,X.top,X.bottom)))}(P,le)}function be(){return typeof window<"u"&&typeof document<"u"}function de(P){let X=P.parentNode;return X&&"[object ShadowRoot]"===X.toString()&&(X=X.host),X}function $(P,X,le){let De;return"string"==typeof P?(De=parseInt(P,10),-1!==P.indexOf("%")&&(De=De/100*X.parentNode[le])):De=P,De}const L=P=>P.ownerDocument.defaultView.getComputedStyle(P,null),F=["top","right","bottom","left"];function ge(P,X,le){const De={};le=le?"-"+le:"";for(let Ue=0;Ue<4;Ue++){const ot=F[Ue];De[ot]=parseFloat(P[X+"-"+ot+le])||0}return De.width=De.left+De.right,De.height=De.top+De.bottom,De}const ft=(P,X,le)=>(P>0||X>0)&&(!le||!le.shadowRoot);function dn(P,X){if("native"in P)return P;const{canvas:le,currentDevicePixelRatio:De}=X,Ue=L(le),ot="border-box"===Ue.boxSizing,Dt=ge(Ue,"padding"),Wt=ge(Ue,"border","width"),{x:tn,y:kn,box:nr}=function Ot(P,X){const le=P.touches,De=le&&le.length?le[0]:P,{offsetX:Ue,offsetY:ot}=De;let Wt,tn,Dt=!1;if(ft(Ue,ot,P.target))Wt=Ue,tn=ot;else{const kn=X.getBoundingClientRect();Wt=De.clientX-kn.left,tn=De.clientY-kn.top,Dt=!0}return{x:Wt,y:tn,box:Dt}}(P,le),li=Dt.left+(nr&&Wt.left),Wr=Dt.top+(nr&&Wt.top);let{width:Ls,height:co}=X;return ot&&(Ls-=Dt.width+Wt.width,co-=Dt.height+Wt.height),{x:Math.round((tn-li)/Ls*le.width/De),y:Math.round((kn-Wr)/co*le.height/De)}}const Yr=P=>Math.round(10*P)/10;function qr(P,X,le,De){const Ue=L(P),ot=ge(Ue,"margin"),Dt=$(Ue.maxWidth,P,"clientWidth")||Fr,Wt=$(Ue.maxHeight,P,"clientHeight")||Fr,tn=function Tn(P,X,le){let De,Ue;if(void 0===X||void 0===le){const ot=de(P);if(ot){const Dt=ot.getBoundingClientRect(),Wt=L(ot),tn=ge(Wt,"border","width"),kn=ge(Wt,"padding");X=Dt.width-kn.width-tn.width,le=Dt.height-kn.height-tn.height,De=$(Wt.maxWidth,ot,"clientWidth"),Ue=$(Wt.maxHeight,ot,"clientHeight")}else X=P.clientWidth,le=P.clientHeight}return{width:X,height:le,maxWidth:De||Fr,maxHeight:Ue||Fr}}(P,X,le);let{width:kn,height:nr}=tn;if("content-box"===Ue.boxSizing){const Wr=ge(Ue,"border","width"),Ls=ge(Ue,"padding");kn-=Ls.width+Wr.width,nr-=Ls.height+Wr.height}return kn=Math.max(0,kn-ot.width),nr=Math.max(0,De?kn/De:nr-ot.height),kn=Yr(Math.min(kn,Dt,tn.maxWidth)),nr=Yr(Math.min(nr,Wt,tn.maxHeight)),kn&&!nr&&(nr=Yr(kn/2)),(void 0!==X||void 0!==le)&&De&&tn.height&&nr>tn.height&&(nr=tn.height,kn=Yr(Math.floor(nr*De))),{width:kn,height:nr}}function oi(P,X,le){const De=X||1,Ue=Math.floor(P.height*De),ot=Math.floor(P.width*De);P.height=Math.floor(P.height),P.width=Math.floor(P.width);const Dt=P.canvas;return Dt.style&&(le||!Dt.style.height&&!Dt.style.width)&&(Dt.style.height=`${P.height}px`,Dt.style.width=`${P.width}px`),(P.currentDevicePixelRatio!==De||Dt.height!==Ue||Dt.width!==ot)&&(P.currentDevicePixelRatio=De,Dt.height=Ue,Dt.width=ot,P.ctx.setTransform(De,0,0,De,0,0),!0)}const ii=function(){let P=!1;try{const X={get passive(){return P=!0,!1}};window.addEventListener("test",null,X),window.removeEventListener("test",null,X)}catch{}return P}();function ai(P,X){const le=function T(P,X){return L(P).getPropertyValue(X)}(P,X),De=le&&le.match(/^(\d+)(\.\d+)?px$/);return De?+De[1]:void 0}function ji(P,X,le,De){return{x:P.x+le*(X.x-P.x),y:P.y+le*(X.y-P.y)}}function io(P,X,le,De){return{x:P.x+le*(X.x-P.x),y:"middle"===De?le<.5?P.y:X.y:"after"===De?le<1?P.y:X.y:le>0?X.y:P.y}}function Cs(P,X,le,De){const Ue={x:P.cp2x,y:P.cp2y},ot={x:X.cp1x,y:X.cp1y},Dt=ji(P,Ue,le),Wt=ji(Ue,ot,le),tn=ji(ot,X,le),kn=ji(Dt,Wt,le),nr=ji(Wt,tn,le);return ji(kn,nr,le)}const js=function(P,X){return{x:le=>P+P+X-le,setWidth(le){X=le},textAlign:le=>"center"===le?le:"right"===le?"left":"right",xPlus:(le,De)=>le-De,leftForLtr:(le,De)=>le-De}},Ns=function(){return{x:P=>P,setWidth(P){},textAlign:P=>P,xPlus:(P,X)=>P+X,leftForLtr:(P,X)=>P}};function Ds(P,X,le){return P?js(X,le):Ns()}function vo(P,X){let le,De;("ltr"===X||"rtl"===X)&&(le=P.canvas.style,De=[le.getPropertyValue("direction"),le.getPropertyPriority("direction")],le.setProperty("direction",X,"important"),P.prevTextDirection=De)}function wa(P,X){void 0!==X&&(delete P.prevTextDirection,P.canvas.style.setProperty("direction",X[0],X[1]))}function Lo(P){return"angle"===P?{between:Gt,compare:Rn,normalize:Ft}:{between:hr,compare:(X,le)=>X-le,normalize:X=>X}}function Wa({start:P,end:X,count:le,loop:De,style:Ue}){return{start:P%le,end:X%le,loop:De&&(X-P+1)%le==0,style:Ue}}function Ga(P,X,le){if(!le)return[P];const{property:De,start:Ue,end:ot}=le,Dt=X.length,{compare:Wt,between:tn,normalize:kn}=Lo(De),{start:nr,end:li,loop:Wr,style:Ls}=function ka(P,X,le){const{property:De,start:Ue,end:ot}=le,{between:Dt,normalize:Wt}=Lo(De),tn=X.length;let Wr,Ls,{start:kn,end:nr,loop:li}=P;if(li){for(kn+=tn,nr+=tn,Wr=0,Ls=tn;Wr<Ls&&Dt(Wt(X[kn%tn][De]),Ue,ot);++Wr)kn--,nr--;kn%=tn,nr%=tn}return nr<kn&&(nr+=tn),{start:kn,end:nr,loop:li,style:P.style}}(P,X,le),co=[];let ee,Fe,_t,q=!1,ue=null;for(let Ni=nr,di=nr;Ni<=li;++Ni)Fe=X[Ni%Dt],!Fe.skip&&(ee=kn(Fe[De]),ee!==_t&&(q=tn(ee,Ue,ot),null===ue&&(q||tn(Ue,_t,ee)&&0!==Wt(Ue,_t))&&(ue=0===Wt(ee,Ue)?Ni:di),null!==ue&&(!q||0===Wt(ot,ee)||tn(ot,_t,ee))&&(co.push(Wa({start:ue,end:Ni,loop:Wr,count:Dt,style:Ls})),ue=null),di=Ni,_t=ee));return null!==ue&&co.push(Wa({start:ue,end:li,loop:Wr,count:Dt,style:Ls})),co}function ml(P,X){const le=[],De=P.segments;for(let Ue=0;Ue<De.length;Ue++){const ot=Ga(De[Ue],P.points,X);ot.length&&le.push(...ot)}return le}function Fs(P,X){const le=P.points,De=P.options.spanGaps,Ue=le.length;if(!Ue)return[];const ot=!!P._loop,{start:Dt,end:Wt}=function Gi(P,X,le,De){let Ue=0,ot=X-1;if(le&&!De)for(;Ue<X&&!P[Ue].skip;)Ue++;for(;Ue<X&&P[Ue].skip;)Ue++;for(Ue%=X,le&&(ot+=Ue);ot>Ue&&P[ot%X].skip;)ot--;return ot%=X,{start:Ue,end:ot}}(le,Ue,ot,De);return xl(P,!0===De?[{start:Dt,end:Wt,loop:ot}]:function il(P,X,le,De){const Ue=P.length,ot=[];let tn,Dt=X,Wt=P[X];for(tn=X+1;tn<=le;++tn){const kn=P[tn%Ue];kn.skip||kn.stop?Wt.skip||(ot.push({start:X%Ue,end:(tn-1)%Ue,loop:De=!1}),X=Dt=kn.stop?tn:null):(Dt=tn,Wt.skip&&(X=tn)),Wt=kn}return null!==Dt&&ot.push({start:X%Ue,end:Dt%Ue,loop:De}),ot}(le,Dt,Wt<Dt?Wt+Ue:Wt,!!P._fullLoop&&0===Dt&&Wt===Ue-1),le,X)}function xl(P,X,le,De){return De&&De.setContext&&le?function Ml(P,X,le,De){const Ue=P._chart.getContext(),ot=Go(P.options),{_datasetIndex:Dt,options:{spanGaps:Wt}}=P,tn=le.length,kn=[];let nr=ot,li=X[0].start,Wr=li;function Ls(co,q,ue,ee){const Fe=Wt?-1:1;if(co!==q){for(co+=tn;le[co%tn].skip;)co-=Fe;for(;le[q%tn].skip;)q+=Fe;co%tn!=q%tn&&(kn.push({start:co%tn,end:q%tn,loop:ue,style:ee}),nr=ee,li=q%tn)}}for(const co of X){li=Wt?li:co.start;let ue,q=le[li%tn];for(Wr=li+1;Wr<=co.end;Wr++){const ee=le[Wr%tn];ue=Go(De.setContext(ma(Ue,{type:"segment",p0:q,p1:ee,p0DataIndex:(Wr-1)%tn,p1DataIndex:Wr%tn,datasetIndex:Dt}))),sl(ue,nr)&&Ls(li,Wr-1,co.loop,nr),q=ee,nr=ue}li<Wr-1&&Ls(li,Wr-1,co.loop,nr)}return kn}(P,X,le,De):X}function Go(P){return{backgroundColor:P.backgroundColor,borderCapStyle:P.borderCapStyle,borderDash:P.borderDash,borderDashOffset:P.borderDashOffset,borderJoinStyle:P.borderJoinStyle,borderWidth:P.borderWidth,borderColor:P.borderColor}}function sl(P,X){if(!X)return!1;const le=[],De=function(Ue,ot){return Ee(ot)?(le.includes(ot)||le.push(ot),le.indexOf(ot)):ot};return JSON.stringify(P,De)!==JSON.stringify(X,De)}},5132:(Kn,Rt,H)=>{"use strict";H.d(Rt,{Gb:()=>h.Gb});var h=H(579)},259:(Kn,Rt,H)=>{"use strict";H.d(Rt,{C6:()=>h.getApps,KN:()=>h.registerVersion,Mq:()=>h.getApp,ZF:()=>h.initializeApp});var h=H(6881);(0,h.registerVersion)("firebase","9.22.0","app")},9260:(Kn,Rt,H)=>{"use strict";H.d(Rt,{Z:()=>h.Z});var h=H(3942);h.Z.registerVersion("firebase","9.22.0","app-compat")},9568:(Kn,Rt,H)=>{"use strict";H.r(Rt);var h=H(5861),_=H(3942),_e=H(1389),Oe=H(2090),Se=(H(6881),H(1877),H(4859));function Pe(){return window}function Me(){return Me=(0,h.Z)(function*(se,te,oe){var Ke;const{BuildInfo:At}=Pe();(0,_e.as)(te.sessionId,"AuthEvent did not contain a session ID");const tt=yield function $e(se){return kt.apply(this,arguments)}(te.sessionId),$t={};return(0,_e.at)()?$t.ibi=At.packageName:(0,_e.au)()?$t.apn=At.packageName:(0,_e.av)(se,"operation-not-supported-in-this-environment"),At.displayName&&($t.appDisplayName=At.displayName),$t.sessionId=tt,(0,_e.aw)(se,oe,te.type,void 0,null!==(Ke=te.eventId)&&void 0!==Ke?Ke:void 0,$t)}),Me.apply(this,arguments)}function xe(){return(xe=(0,h.Z)(function*(se){const{BuildInfo:te}=Pe(),oe={};(0,_e.at)()?oe.iosBundleId=te.packageName:(0,_e.au)()?oe.androidPackageName=te.packageName:(0,_e.av)(se,"operation-not-supported-in-this-environment"),yield(0,_e.ax)(se,oe)})).apply(this,arguments)}function Vt(){return(Vt=(0,h.Z)(function*(se,te,oe){const{cordova:Ke}=Pe();let At=()=>{};try{yield new Promise((tt,$t)=>{let Zt=null;function In(){var rn;tt();const mn=null===(rn=Ke.plugins.browsertab)||void 0===rn?void 0:rn.close;"function"==typeof mn&&mn(),"function"==typeof(null==oe?void 0:oe.close)&&oe.close()}function vn(){Zt||(Zt=window.setTimeout(()=>{$t((0,_e.az)(se,"redirect-cancelled-by-user"))},2e3))}function jn(){"visible"===(null==document?void 0:document.visibilityState)&&vn()}te.addPassiveListener(In),document.addEventListener("resume",vn,!1),(0,_e.au)()&&document.addEventListener("visibilitychange",jn,!1),At=()=>{te.removePassiveListener(In),document.removeEventListener("resume",vn,!1),document.removeEventListener("visibilitychange",jn,!1),Zt&&window.clearTimeout(Zt)}})}finally{At()}})).apply(this,arguments)}function kt(){return(kt=(0,h.Z)(function*(se){const te=function Mt(se){if((0,_e.as)(/[0-9a-zA-Z]+/.test(se),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(se);const te=new ArrayBuffer(se.length),oe=new Uint8Array(te);for(let Ke=0;Ke<se.length;Ke++)oe[Ke]=se.charCodeAt(Ke);return oe}(se),oe=yield crypto.subtle.digest("SHA-256",te);return Array.from(new Uint8Array(oe)).map(At=>At.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}class It extends _e.aB{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(te=>{this.resolveInialized=te})}addPassiveListener(te){this.passiveListeners.add(te)}removePassiveListener(te){this.passiveListeners.delete(te)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(te){return this.resolveInialized(),this.passiveListeners.forEach(oe=>oe(te)),super.onEvent(te)}initialized(){var te=this;return(0,h.Z)(function*(){yield te.initPromise})()}}function vt(se){return nt.apply(this,arguments)}function nt(){return(nt=(0,h.Z)(function*(se){const te=yield Nt()._get(qt(se));return te&&(yield Nt()._remove(qt(se))),te})).apply(this,arguments)}function Ct(){const se=[];for(let oe=0;oe<20;oe++){const Ke=Math.floor(62*Math.random());se.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Ke))}return se.join("")}function Nt(){return(0,_e.aC)(_e.b)}function qt(se){return(0,_e.aD)("authEvent",se.config.apiKey,se.name)}function lt(se){if(null==se||!se.includes("?"))return{};const[te,...oe]=se.split("?");return(0,Oe.zd)(oe.join("?"))}const et=class Je{constructor(){this._redirectPersistence=_e.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=_e.aE,this._overrideRedirectResult=_e.aF}_initialize(te){var oe=this;return(0,h.Z)(function*(){const Ke=te._key();let At=oe.eventManagers.get(Ke);return At||(At=new It(te),oe.eventManagers.set(Ke,At),oe.attachCallbackListeners(te,At)),At})()}_openPopup(te){(0,_e.av)(te,"operation-not-supported-in-this-environment")}_openRedirect(te,oe,Ke,At){var tt=this;return(0,h.Z)(function*(){!function We(se){var te,oe,Ke,At,tt,$t,Zt,In,vn,jn;const rn=Pe();(0,_e.aA)("function"==typeof(null===(te=null==rn?void 0:rn.universalLinks)||void 0===te?void 0:te.subscribe),se,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,_e.aA)(typeof(null===(oe=null==rn?void 0:rn.BuildInfo)||void 0===oe?void 0:oe.packageName)<"u",se,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,_e.aA)("function"==typeof(null===(tt=null===(At=null===(Ke=null==rn?void 0:rn.cordova)||void 0===Ke?void 0:Ke.plugins)||void 0===At?void 0:At.browsertab)||void 0===tt?void 0:tt.openUrl),se,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,_e.aA)("function"==typeof(null===(In=null===(Zt=null===($t=null==rn?void 0:rn.cordova)||void 0===$t?void 0:$t.plugins)||void 0===Zt?void 0:Zt.browsertab)||void 0===In?void 0:In.isAvailable),se,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,_e.aA)("function"==typeof(null===(jn=null===(vn=null==rn?void 0:rn.cordova)||void 0===vn?void 0:vn.InAppBrowser)||void 0===jn?void 0:jn.open),se,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(te);const $t=yield tt._initialize(te);yield $t.initialized(),$t.resetRedirect(),(0,_e.aG)(),yield tt._originValidation(te);const Zt=function Tt(se,te,oe=null){return{type:te,eventId:oe,urlResponse:null,sessionId:Ct(),postBody:null,tenantId:se.tenantId,error:(0,_e.az)(se,"no-auth-event")}}(te,Ke,At);yield function wt(se,te){return Nt()._set(qt(se),te)}(te,Zt);const In=yield function Le(se,te,oe){return Me.apply(this,arguments)}(te,Zt,oe),vn=yield function at(se){const{cordova:te}=Pe();return new Promise(oe=>{te.plugins.browsertab.isAvailable(Ke=>{let At=null;Ke?te.plugins.browsertab.openUrl(se):At=te.InAppBrowser.open(se,(0,_e.ay)()?"_blank":"_system","location=yes"),oe(At)})})}(In);return function pt(se,te,oe){return Vt.apply(this,arguments)}(te,$t,vn)})()}_isIframeWebStorageSupported(te,oe){throw new Error("Method not implemented.")}_originValidation(te){const oe=te._key();return this.originValidationPromises[oe]||(this.originValidationPromises[oe]=function rt(se){return xe.apply(this,arguments)}(te)),this.originValidationPromises[oe]}attachCallbackListeners(te,oe){const{universalLinks:Ke,handleOpenURL:At,BuildInfo:tt}=Pe(),$t=setTimeout((0,h.Z)(function*(){yield vt(te),oe.onEvent(ct())}),500),Zt=function(){var jn=(0,h.Z)(function*(rn){clearTimeout($t);const mn=yield vt(te);let Rn=null;mn&&null!=rn&&rn.url&&(Rn=function Ht(se,te){var oe,Ke;const At=function qe(se){const te=lt(se),oe=te.link?decodeURIComponent(te.link):void 0,Ke=lt(oe).link,At=te.deep_link_id?decodeURIComponent(te.deep_link_id):void 0;return lt(At).link||At||Ke||oe||se}(te);if(At.includes("/__/auth/callback")){const tt=lt(At),$t=tt.firebaseError?function Te(se){try{return JSON.parse(se)}catch{return null}}(decodeURIComponent(tt.firebaseError)):null,Zt=null===(Ke=null===(oe=null==$t?void 0:$t.code)||void 0===oe?void 0:oe.split("auth/"))||void 0===Ke?void 0:Ke[1],In=Zt?(0,_e.az)(Zt):null;return In?{type:se.type,eventId:se.eventId,tenantId:se.tenantId,error:In,urlResponse:null,sessionId:null,postBody:null}:{type:se.type,eventId:se.eventId,tenantId:se.tenantId,sessionId:se.sessionId,urlResponse:At,postBody:null}}return null}(mn,rn.url)),oe.onEvent(Rn||ct())});return function(mn){return jn.apply(this,arguments)}}();typeof Ke<"u"&&"function"==typeof Ke.subscribe&&Ke.subscribe(null,Zt);const In=At,vn=`${tt.packageName.toLowerCase()}://`;Pe().handleOpenURL=function(){var jn=(0,h.Z)(function*(rn){if(rn.toLowerCase().startsWith(vn)&&Zt({url:rn}),"function"==typeof In)try{In(rn)}catch(mn){console.error(mn)}});return function(rn){return jn.apply(this,arguments)}}()}};function ct(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,_e.az)("no-auth-event")}}function Nn(){var se;return(null===(se=null==self?void 0:self.location)||void 0===se?void 0:se.protocol)||null}function Et(se=(0,Oe.z$)()){return!("file:"!==Nn()&&"ionic:"!==Nn()&&"capacitor:"!==Nn()||!se.toLowerCase().match(/iphone|ipad|ipod|android/))}function lr(){try{const se=self.localStorage,te=_e.aL();if(se)return se.setItem(te,"1"),se.removeItem(te),!function ar(se=(0,Oe.z$)()){return function yn(){return(0,Oe.w1)()&&11===(null==document?void 0:document.documentMode)}()||function Xn(se=(0,Oe.z$)()){return/Edge\/\d+/.test(se)}(se)}()||(0,Oe.hl)()}catch{return un()&&(0,Oe.hl)()}return!1}function un(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Yn(){return(function Qt(){return"http:"===Nn()||"https:"===Nn()}()||(0,Oe.ru)()||Et())&&!function on(){return(0,Oe.b$)()||(0,Oe.UG)()}()&&lr()&&!un()}function an(){return Et()&&typeof document<"u"}function Vr(){return(Vr=(0,h.Z)(function*(){return!!an()&&new Promise(se=>{const te=setTimeout(()=>{se(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(te),se(!0)})})})).apply(this,arguments)}const Mn={LOCAL:"local",NONE:"none",SESSION:"session"},ni=_e.aA,jr="persistence";function vi(se){return pi.apply(this,arguments)}function pi(){return(pi=(0,h.Z)(function*(se){yield se._initializationPromise;const te=Qn(),oe=_e.aD(jr,se.config.apiKey,se.name);te&&te.setItem(oe,se._getPersistence())})).apply(this,arguments)}function Qn(){var se;try{return(null===(se=function Ar(){return typeof window<"u"?window:null}())||void 0===se?void 0:se.sessionStorage)||null}catch{return null}}const cr=_e.aA;class ci{constructor(){this.browserResolver=_e.aC(_e.k),this.cordovaResolver=_e.aC(et),this.underlyingResolver=null,this._redirectPersistence=_e.a,this._completeRedirectFn=_e.aE,this._overrideRedirectResult=_e.aF}_initialize(te){var oe=this;return(0,h.Z)(function*(){return yield oe.selectUnderlyingResolver(),oe.assertedUnderlyingResolver._initialize(te)})()}_openPopup(te,oe,Ke,At){var tt=this;return(0,h.Z)(function*(){return yield tt.selectUnderlyingResolver(),tt.assertedUnderlyingResolver._openPopup(te,oe,Ke,At)})()}_openRedirect(te,oe,Ke,At){var tt=this;return(0,h.Z)(function*(){return yield tt.selectUnderlyingResolver(),tt.assertedUnderlyingResolver._openRedirect(te,oe,Ke,At)})()}_isIframeWebStorageSupported(te,oe){this.assertedUnderlyingResolver._isIframeWebStorageSupported(te,oe)}_originValidation(te){return this.assertedUnderlyingResolver._originValidation(te)}get _shouldInitProactively(){return an()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return cr(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var te=this;return(0,h.Z)(function*(){if(te.underlyingResolver)return;const oe=yield function Rr(){return Vr.apply(this,arguments)}();te.underlyingResolver=oe?te.cordovaResolver:te.browserResolver})()}}function si(se){return se.unwrap()}function fi(se){return br(se)}function br(se){const{_tokenResponse:te}=se instanceof Oe.ZR?se.customData:se;if(!te)return null;if(!(se instanceof Oe.ZR)&&"temporaryProof"in te&&"phoneNumber"in te)return _e.P.credentialFromResult(se);const oe=te.providerId;if(!oe||oe===_e.p.PASSWORD)return null;let Ke;switch(oe){case _e.p.GOOGLE:Ke=_e.V;break;case _e.p.FACEBOOK:Ke=_e.U;break;case _e.p.GITHUB:Ke=_e.W;break;case _e.p.TWITTER:Ke=_e.Z;break;default:const{oauthIdToken:At,oauthAccessToken:tt,oauthTokenSecret:$t,pendingToken:Zt,nonce:In}=te;return tt||$t||At||Zt?Zt?oe.startsWith("saml.")?_e.aO._create(oe,Zt):_e.L._fromParams({providerId:oe,signInMethod:oe,pendingToken:Zt,idToken:At,accessToken:tt}):new _e.X(oe).credential({idToken:At,accessToken:tt,rawNonce:In}):null}return se instanceof Oe.ZR?Ke.credentialFromError(se):Ke.credentialFromResult(se)}function dr(se,te){return te.catch(oe=>{throw oe instanceof Oe.ZR&&function gi(se,te){var oe;const Ke=null===(oe=te.customData)||void 0===oe?void 0:oe._tokenResponse;if("auth/multi-factor-auth-required"===(null==te?void 0:te.code))te.resolver=new Cn(se,_e.aq(se,te));else if(Ke){const At=br(te),tt=te;At&&(tt.credential=At,tt.tenantId=Ke.tenantId||void 0,tt.email=Ke.email||void 0,tt.phoneNumber=Ke.phoneNumber||void 0)}}(se,oe),oe}).then(oe=>{const At=oe.user;return{operationType:oe.operationType,credential:fi(oe),additionalUserInfo:_e.ao(oe),user:ke.getOrCreate(At)}})}function ui(se,te){return Er.apply(this,arguments)}function Er(){return(Er=(0,h.Z)(function*(se,te){const oe=yield te;return{verificationId:oe.verificationId,confirm:Ke=>dr(se,oe.confirm(Ke))}})).apply(this,arguments)}class Cn{constructor(te,oe){this.resolver=oe,this.auth=function Kr(se){return se.wrapped()}(te)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(te){return dr(si(this.auth),this.resolver.resolveSignIn(te))}}class ke{constructor(te){this._delegate=te,this.multiFactor=_e.ar(te)}static getOrCreate(te){return ke.USER_MAP.has(te)||ke.USER_MAP.set(te,new ke(te)),ke.USER_MAP.get(te)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(te){return this._delegate.getIdTokenResult(te)}getIdToken(te){return this._delegate.getIdToken(te)}linkAndRetrieveDataWithCredential(te){return this.linkWithCredential(te)}linkWithCredential(te){var oe=this;return(0,h.Z)(function*(){return dr(oe.auth,_e.a0(oe._delegate,te))})()}linkWithPhoneNumber(te,oe){var Ke=this;return(0,h.Z)(function*(){return ui(Ke.auth,_e.l(Ke._delegate,te,oe))})()}linkWithPopup(te){var oe=this;return(0,h.Z)(function*(){return dr(oe.auth,_e.d(oe._delegate,te,ci))})()}linkWithRedirect(te){var oe=this;return(0,h.Z)(function*(){return yield vi(_e.aH(oe.auth)),_e.g(oe._delegate,te,ci)})()}reauthenticateAndRetrieveDataWithCredential(te){return this.reauthenticateWithCredential(te)}reauthenticateWithCredential(te){var oe=this;return(0,h.Z)(function*(){return dr(oe.auth,_e.a1(oe._delegate,te))})()}reauthenticateWithPhoneNumber(te,oe){return ui(this.auth,_e.r(this._delegate,te,oe))}reauthenticateWithPopup(te){return dr(this.auth,_e.e(this._delegate,te,ci))}reauthenticateWithRedirect(te){var oe=this;return(0,h.Z)(function*(){return yield vi(_e.aH(oe.auth)),_e.h(oe._delegate,te,ci)})()}sendEmailVerification(te){return _e.ae(this._delegate,te)}unlink(te){var oe=this;return(0,h.Z)(function*(){return yield _e.an(oe._delegate,te),oe})()}updateEmail(te){return _e.aj(this._delegate,te)}updatePassword(te){return _e.ak(this._delegate,te)}updatePhoneNumber(te){return _e.u(this._delegate,te)}updateProfile(te){return _e.ai(this._delegate,te)}verifyBeforeUpdateEmail(te,oe){return _e.af(this._delegate,te,oe)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}ke.USER_MAP=new WeakMap;const ut=_e.aA;let jt=(()=>{class se{constructor(oe,Ke){if(this.app=oe,Ke.isInitialized())return this._delegate=Ke.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:At}=oe.options;ut(At,"invalid-api-key",{appName:oe.name}),ut(At,"invalid-api-key",{appName:oe.name});const tt=typeof window<"u"?ci:void 0;this._delegate=Ke.initialize({options:{persistence:$n(At,oe.name),popupRedirectResolver:tt}}),this._delegate._updateErrorMap(_e.D),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?ke.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(oe){this._delegate.languageCode=oe}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(oe){this._delegate.tenantId=oe}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(oe,Ke){_e.I(this._delegate,oe,Ke)}applyActionCode(oe){return _e.a5(this._delegate,oe)}checkActionCode(oe){return _e.a6(this._delegate,oe)}confirmPasswordReset(oe,Ke){return _e.a4(this._delegate,oe,Ke)}createUserWithEmailAndPassword(oe,Ke){var At=this;return(0,h.Z)(function*(){return dr(At._delegate,_e.a8(At._delegate,oe,Ke))})()}fetchProvidersForEmail(oe){return this.fetchSignInMethodsForEmail(oe)}fetchSignInMethodsForEmail(oe){return _e.ad(this._delegate,oe)}isSignInWithEmailLink(oe){return _e.ab(this._delegate,oe)}getRedirectResult(){var oe=this;return(0,h.Z)(function*(){ut(Yn(),oe._delegate,"operation-not-supported-in-this-environment");const Ke=yield _e.j(oe._delegate,ci);return Ke?dr(oe._delegate,Promise.resolve(Ke)):{credential:null,user:null}})()}addFrameworkForLogging(oe){!function Ut(se,te){(0,_e.aH)(se)._logFramework(te)}(this._delegate,oe)}onAuthStateChanged(oe,Ke,At){const{next:tt,error:$t,complete:Zt}=bn(oe,Ke,At);return this._delegate.onAuthStateChanged(tt,$t,Zt)}onIdTokenChanged(oe,Ke,At){const{next:tt,error:$t,complete:Zt}=bn(oe,Ke,At);return this._delegate.onIdTokenChanged(tt,$t,Zt)}sendSignInLinkToEmail(oe,Ke){return _e.aa(this._delegate,oe,Ke)}sendPasswordResetEmail(oe,Ke){return _e.a3(this._delegate,oe,Ke||void 0)}setPersistence(oe){var Ke=this;return(0,h.Z)(function*(){let At;switch(function mr(se,te){ni(Object.values(Mn).includes(te),se,"invalid-persistence-type"),(0,Oe.b$)()?ni(te!==Mn.SESSION,se,"unsupported-persistence-type"):(0,Oe.UG)()?ni(te===Mn.NONE,se,"unsupported-persistence-type"):un()?ni(te===Mn.NONE||te===Mn.LOCAL&&(0,Oe.hl)(),se,"unsupported-persistence-type"):ni(te===Mn.NONE||lr(),se,"unsupported-persistence-type")}(Ke._delegate,oe),oe){case Mn.SESSION:At=_e.a;break;case Mn.LOCAL:At=(yield _e.aC(_e.i)._isAvailable())?_e.i:_e.b;break;case Mn.NONE:At=_e.N;break;default:return _e.av("argument-error",{appName:Ke._delegate.name})}return Ke._delegate.setPersistence(At)})()}signInAndRetrieveDataWithCredential(oe){return this.signInWithCredential(oe)}signInAnonymously(){return dr(this._delegate,_e._(this._delegate))}signInWithCredential(oe){return dr(this._delegate,_e.$(this._delegate,oe))}signInWithCustomToken(oe){return dr(this._delegate,_e.a2(this._delegate,oe))}signInWithEmailAndPassword(oe,Ke){return dr(this._delegate,_e.a9(this._delegate,oe,Ke))}signInWithEmailLink(oe,Ke){return dr(this._delegate,_e.ac(this._delegate,oe,Ke))}signInWithPhoneNumber(oe,Ke){return ui(this._delegate,_e.s(this._delegate,oe,Ke))}signInWithPopup(oe){var Ke=this;return(0,h.Z)(function*(){return ut(Yn(),Ke._delegate,"operation-not-supported-in-this-environment"),dr(Ke._delegate,_e.c(Ke._delegate,oe,ci))})()}signInWithRedirect(oe){var Ke=this;return(0,h.Z)(function*(){return ut(Yn(),Ke._delegate,"operation-not-supported-in-this-environment"),yield vi(Ke._delegate),_e.f(Ke._delegate,oe,ci)})()}updateCurrentUser(oe){return this._delegate.updateCurrentUser(oe)}verifyPasswordResetCode(oe){return _e.a7(this._delegate,oe)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return se.Persistence=Mn,se})();function bn(se,te,oe){let Ke=se;"function"!=typeof se&&({next:Ke,error:te,complete:oe}=se);const At=Ke;return{next:$t=>At($t&&ke.getOrCreate($t)),error:te,complete:oe}}function $n(se,te){const oe=function Jn(se,te){const oe=Qn();if(!oe)return[];const Ke=_e.aD(jr,se,te);switch(oe.getItem(Ke)){case Mn.NONE:return[_e.N];case Mn.LOCAL:return[_e.i,_e.a];case Mn.SESSION:return[_e.a];default:return[]}}(se,te);if(typeof self<"u"&&!oe.includes(_e.i)&&oe.push(_e.i),typeof window<"u")for(const Ke of[_e.b,_e.a])oe.includes(Ke)||oe.push(Ke);return oe.includes(_e.N)||oe.push(_e.N),oe}class Fr{constructor(){this.providerId="phone",this._delegate=new _e.P(si(_.Z.auth()))}static credential(te,oe){return _e.P.credential(te,oe)}verifyPhoneNumber(te,oe){return this._delegate.verifyPhoneNumber(te,oe)}unwrap(){return this._delegate}}Fr.PHONE_SIGN_IN_METHOD=_e.P.PHONE_SIGN_IN_METHOD,Fr.PROVIDER_ID=_e.P.PROVIDER_ID;const xr=_e.aA;class Ir{constructor(te,oe,Ke=_.Z.app()){var At;xr(null===(At=Ke.options)||void 0===At?void 0:At.apiKey,"invalid-api-key",{appName:Ke.name}),this._delegate=new _e.R(te,oe,Ke.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function Ae(se){se.INTERNAL.registerComponent(new Se.wA("auth-compat",te=>{const oe=te.getProvider("app-compat").getImmediate(),Ke=te.getProvider("auth");return new jt(oe,Ke)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:_e.A.EMAIL_SIGNIN,PASSWORD_RESET:_e.A.PASSWORD_RESET,RECOVER_EMAIL:_e.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:_e.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:_e.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:_e.A.VERIFY_EMAIL}},EmailAuthProvider:_e.Q,FacebookAuthProvider:_e.U,GithubAuthProvider:_e.W,GoogleAuthProvider:_e.V,OAuthProvider:_e.X,SAMLAuthProvider:_e.Y,PhoneAuthProvider:Fr,PhoneMultiFactorGenerator:_e.m,RecaptchaVerifier:Ir,TwitterAuthProvider:_e.Z,Auth:jt,AuthCredential:_e.J,Error:Oe.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),se.registerVersion("@firebase/auth-compat","0.4.2")}(_.Z)},5861:(Kn,Rt,H)=>{"use strict";function h(_e,Oe,Ze,Ge,Se,Pe,Qe){try{var Le=_e[Pe](Qe),Me=Le.value}catch(rt){return void Ze(rt)}Le.done?Oe(Me):Promise.resolve(Me).then(Ge,Se)}function _(_e){return function(){var Oe=this,Ze=arguments;return new Promise(function(Ge,Se){var Pe=_e.apply(Oe,Ze);function Qe(Me){h(Pe,Ge,Se,Qe,Le,"next",Me)}function Le(Me){h(Pe,Ge,Se,Qe,Le,"throw",Me)}Qe(void 0)})}}H.d(Rt,{Z:()=>_})}},Kn=>{Kn(Kn.s=2527)}]);