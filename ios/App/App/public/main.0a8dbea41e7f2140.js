(self.webpackChunkapp=self.webpackChunkapp||[]).push([[179],{2313:(vn,ft,k)=>{"use strict";k.d(ft,{nm:()=>Hr});var m=k(3324),Le=(k(2223),k(3692),k(259),k(5861)),Ne=k(6881),he=k(4859),Ie=k(2090),Fe=k(1877);const Ce=new Map,me={activated:!1,tokenObservers:[]},je={initialized:!1,enabled:!1};function ge(W){return Ce.get(W)||Object.assign({},me)}function Ze(){return je}const yt="https://content-firebaseappcheck.googleapis.com/v1",pt="exchangeDebugToken",ct={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class it{constructor(ee,ye,oe,G,ie){if(this.operation=ee,this.retryPolicy=ye,this.getWaitDuration=oe,this.lowerBound=G,this.upperBound=ie,this.pending=null,this.nextErrorWaitInterval=G,G>ie)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(ee){var ye=this;return(0,Le.Z)(function*(){ye.stop();try{ye.pending=new Ie.BH,yield function ut(W){return new Promise(ee=>{setTimeout(ee,W)})}(ye.getNextRun(ee)),ye.pending.resolve(),yield ye.pending.promise,ye.pending=new Ie.BH,yield ye.operation(),ye.pending.resolve(),yield ye.pending.promise,ye.process(!0).catch(()=>{})}catch(oe){ye.retryPolicy(oe)?ye.process(!1).catch(()=>{}):ye.stop()}})()}getNextRun(ee){if(ee)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const ye=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),ye}}}const Je=new Ie.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function fe(){return(fe=(0,Le.Z)(function*({url:W,body:ee},ye){const oe={"Content-Type":"application/json"},G=ye.getImmediate({optional:!0});if(G){const En=yield G.getHeartbeatsHeader();En&&(oe["X-Firebase-Client"]=En)}const ie={method:"POST",body:JSON.stringify(ee),headers:oe};let He,nt;try{He=yield fetch(W,ie)}catch(En){throw Je.create("fetch-network-error",{originalErrorMessage:null==En?void 0:En.message})}if(200!==He.status)throw Je.create("fetch-status-error",{httpStatus:He.status});try{nt=yield He.json()}catch(En){throw Je.create("fetch-parse-error",{originalErrorMessage:null==En?void 0:En.message})}const gt=nt.ttl.match(/^([\d.]+)(s)$/);if(!gt||!gt[2]||isNaN(Number(gt[1])))throw Je.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${nt.ttl}`});const St=1e3*Number(gt[1]),gn=Date.now();return{token:nt.token,expireTimeMillis:gn+St,issuedAtTimeMillis:gn}})).apply(this,arguments)}const xe="firebase-app-check-database",Be=1,We="firebase-app-check-store";let ht=null;function qt(){return(qt=(0,Le.Z)(function*(W,ee){const oe=(yield function Pt(){return ht||(ht=new Promise((W,ee)=>{try{const ye=indexedDB.open(xe,Be);ye.onsuccess=oe=>{W(oe.target.result)},ye.onerror=oe=>{var G;ee(Je.create("storage-open",{originalErrorMessage:null===(G=oe.target.error)||void 0===G?void 0:G.message}))},ye.onupgradeneeded=oe=>{0===oe.oldVersion&&oe.target.result.createObjectStore(We,{keyPath:"compositeKey"})}}catch(ye){ee(Je.create("storage-open",{originalErrorMessage:null==ye?void 0:ye.message}))}}),ht)}()).transaction(We,"readwrite"),ie=oe.objectStore(We).put({compositeKey:W,value:ee});return new Promise((He,nt)=>{ie.onsuccess=gt=>{He()},oe.onerror=gt=>{var St;nt(Je.create("storage-set",{originalErrorMessage:null===(St=gt.target.error)||void 0===St?void 0:St.message}))}})})).apply(this,arguments)}const Lt=new Fe.Yd("@firebase/app-check");function tr(W,ee){return(0,Ie.hl)()?function cn(W,ee){return function Ft(W,ee){return qt.apply(this,arguments)}(function An(W){return`${W.options.appId}-${W.name}`}(W),ee)}(W,ee).catch(ye=>{Lt.warn(`Failed to write token to IndexedDB. Error: ${ye}`)}):Promise.resolve()}function cr(){return(cr=(0,Le.Z)(function*(){const W=Ze();if(W.enabled&&W.token)return W.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const kr={error:"UNKNOWN_ERROR"};function $r(W){return Ie.US.encodeString(JSON.stringify(W),!1)}function wn(W){return dn.apply(this,arguments)}function dn(){return(dn=(0,Le.Z)(function*(W,ee=!1){const ye=W.app;!function Ct(W){if(!ge(W).activated)throw Je.create("use-before-activation",{appName:W.name})}(ye);const oe=ge(ye);let ie,G=oe.token;if(G&&!Rn(G)&&(oe.token=void 0,G=void 0),!G){const gt=yield oe.cachedTokenPromise;gt&&(Rn(gt)?G=gt:yield tr(ye,void 0))}if(!ee&&G&&Rn(G))return{token:G.token};let nt,He=!1;if(function tn(){return Ze().enabled}()){oe.exchangeTokenPromise||(oe.exchangeTokenPromise=function Tt(W,ee){return fe.apply(this,arguments)}(function Qe(W,ee){const{projectId:ye,appId:oe,apiKey:G}=W.options;return{url:`${yt}/projects/${ye}/apps/${oe}:${pt}?key=${G}`,body:{debug_token:ee}}}(ye,yield function _r(){return cr.apply(this,arguments)}()),W.heartbeatServiceProvider).finally(()=>{oe.exchangeTokenPromise=void 0}),He=!0);const gt=yield oe.exchangeTokenPromise;return yield tr(ye,gt),oe.token=gt,{token:gt.token}}try{oe.exchangeTokenPromise||(oe.exchangeTokenPromise=oe.provider.getToken().finally(()=>{oe.exchangeTokenPromise=void 0}),He=!0),G=yield ge(ye).exchangeTokenPromise}catch(gt){"appCheck/throttled"===gt.code?Lt.warn(gt.message):Lt.error(gt),ie=gt}return G?ie?nt=Rn(G)?{token:G.token,internalError:ie}:Fr(ie):(nt={token:G.token},oe.token=G,yield tr(ye,G)):nt=Fr(ie),He&&function zn(W,ee){const ye=ge(W).tokenObservers;for(const oe of ye)try{"EXTERNAL"===oe.type&&null!=ee.error?oe.error(ee.error):oe.next(ee)}catch{}}(ye,nt),nt})).apply(this,arguments)}function qn(W,ee){const ye=ge(W),oe=ye.tokenObservers.filter(G=>G.next!==ee);0===oe.length&&ye.tokenRefresher&&ye.tokenRefresher.isRunning()&&ye.tokenRefresher.stop(),ye.tokenObservers=oe}function br(W){const{app:ee}=W,ye=ge(ee);let oe=ye.tokenRefresher;oe||(oe=function Dr(W){const{app:ee}=W;return new it((0,Le.Z)(function*(){let oe;if(oe=ge(ee).token?yield wn(W,!0):yield wn(W),oe.error)throw oe.error;if(oe.internalError)throw oe.internalError}),()=>!0,()=>{const ye=ge(ee);if(ye.token){let oe=ye.token.issuedAtTimeMillis+.5*(ye.token.expireTimeMillis-ye.token.issuedAtTimeMillis)+3e5;return oe=Math.min(oe,ye.token.expireTimeMillis-3e5),Math.max(0,oe-Date.now())}return 0},ct.RETRIAL_MIN_WAIT,ct.RETRIAL_MAX_WAIT)}(W),ye.tokenRefresher=oe),!oe.isRunning()&&ye.isTokenAutoRefreshEnabled&&oe.start()}function Rn(W){return W.expireTimeMillis-Date.now()>0}function Fr(W){return{token:$r(kr),error:W}}class $n{constructor(ee,ye){this.app=ee,this.heartbeatServiceProvider=ye}_delete(){const{tokenObservers:ee}=ge(this.app);for(const ye of ee)qn(this.app,ye.next);return Promise.resolve()}}const mn="app-check-internal";!function Nn(){(0,Ne._registerComponent)(new he.wA("app-check",W=>function Ht(W,ee){return new $n(W,ee)}(W.getProvider("app").getImmediate(),W.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((W,ee,ye)=>{W.getProvider(mn).initialize()})),(0,Ne._registerComponent)(new he.wA(mn,W=>function Ee(W){return{getToken:ee=>wn(W,ee),addTokenListener:ee=>function Rr(W,ee,ye,oe){const{app:G}=W,ie=ge(G);if(ie.tokenObservers=[...ie.tokenObservers,{next:ye,error:oe,type:ee}],ie.token&&Rn(ie.token)){const nt=ie.token;Promise.resolve().then(()=>{ye({token:nt.token}),br(W)}).catch(()=>{})}ie.cachedTokenPromise.then(()=>br(W))}(W,"INTERNAL",ee),removeTokenListener:ee=>qn(W.app,ee)}}(W.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Ne.registerVersion)("@firebase/app-check","0.7.0")}();class Hr{constructor(){return(0,m.vb)("app-check")}}typeof window<"u"&&window},3692:(vn,ft,k)=>{"use strict";k.d(ft,{Ot:()=>_e,ZF:()=>Ae,hX:()=>ge,z6:()=>Le});var m=k(259),g=k(2223),le=k(3324);class _e{constructor(it){return it}}class Le{constructor(){return(0,m.C6)()}}const Ie=new g.OlP("angularfire2._apps"),Fe={provide:_e,useFactory:function he(qe){return qe&&1===qe.length?qe[0]:new _e((0,m.Mq)())},deps:[[new g.FiY,Ie]]},Ce={provide:Le,deps:[[new g.FiY,Ie]]};function me(qe){return(it,ut)=>{const st=it.runOutsideAngular(()=>qe(ut));return new _e(st)}}let je=(()=>{class qe{constructor(ut){(0,m.KN)("angularfire",le.q4.full,"core"),(0,m.KN)("angularfire",le.q4.full,"app"),(0,m.KN)("angular",g.q4F.full,ut.toString())}}return qe.\u0275fac=function(ut){return new(ut||qe)(g.LFG(g.Lbi))},qe.\u0275mod=g.oAB({type:qe}),qe.\u0275inj=g.cJS({providers:[Fe,Ce]}),qe})();function ge(qe,...it){return{ngModule:je,providers:[{provide:Ie,useFactory:me(qe),multi:!0,deps:[g.R0b,g.zs3,le.HU,...it]}]}}const Ae=(0,le.u3)(m.ZF,!0)},7246:(vn,ft,k)=>{"use strict";k.d(ft,{dh:()=>ge,v0:()=>Qe,AR:()=>qe});var m=k(3324),g=k(2223),le=k(3692),_e=k(259),Le=k(2313),Ne=k(1389);k(2090),k(6881),k(1877),k(4859);class je{constructor(Mt){return Mt}}class ge{constructor(){return(0,m.vb)("auth")}}const Ze=new g.OlP("angularfire2.auth-instances");function Ae(Ye){return(Mt,Qt)=>{const hn=Mt.runOutsideAngular(()=>Ye(Qt));return new je(hn)}}const De={provide:ge,deps:[[new g.FiY,Ze]]},pt={provide:je,useFactory:function yt(Ye,Mt){const Qt=(0,m.JM)("auth",Ye,Mt);return Qt&&new je(Qt)},deps:[[new g.FiY,Ze],le.Ot]};let ct=(()=>{class Ye{constructor(){(0,_e.KN)("angularfire",m.q4.full,"auth")}}return Ye.\u0275fac=function(Qt){return new(Qt||Ye)},Ye.\u0275mod=g.oAB({type:Ye}),Ye.\u0275inj=g.cJS({providers:[pt,De]}),Ye})();function qe(Ye,...Mt){return{ngModule:ct,providers:[{provide:Ze,useFactory:Ae(Ye),multi:!0,deps:[g.R0b,g.zs3,m.HU,le.z6,[new g.FiY,Le.nm],...Mt]}]}}const Qe=(0,m.u3)(Ne.o,!0)},3385:(vn,ft,k)=>{"use strict";k.d(ft,{zQ:()=>Et,ww:()=>Tt,rT:()=>Je,f7:()=>Ct,L6:()=>ut,_Q:()=>st,lh:()=>Ue,Qv:()=>it,nw:()=>ot});var m=k(2223),g=k(7579),le=k(9646),_e=k(9751),Le=k(8996),Ne=k(6451),he=k(5363),Ie=k(3900),Fe=k(4004),Ce=k(3151),me=k(590),je=k(576);function ge(fe,Oe){return(0,je.m)(Oe)?(0,Ie.w)(()=>fe,Oe):(0,Ie.w)(()=>fe)}var ze=k(9468),Ze=k(9300),yt=k(3324),Ae=k(2011),De=k(4755),pt=k(2313),ct=k(9260);const it=new m.OlP("angularfire2.auth.use-emulator"),ut=new m.OlP("angularfire2.auth.settings"),st=new m.OlP("angularfire2.auth.tenant-id"),Je=new m.OlP("angularfire2.auth.langugage-code"),Ue=new m.OlP("angularfire2.auth.use-device-language"),Ct=new m.OlP("angularfire.auth.persistence"),ot=(fe,Oe,Ge,Qe,xe,Be,We,vt)=>(0,Ae.cc)(`${fe.name}.auth`,"AngularFireAuth",fe.name,()=>{const ht=Oe.runOutsideAngular(()=>fe.auth());if(Ge&&ht.useEmulator(...Ge),Qe&&(ht.tenantId=Qe),ht.languageCode=xe,Be&&ht.useDeviceLanguage(),We)for(const[Pt,ce]of Object.entries(We))ht.settings[Pt]=ce;return vt&&ht.setPersistence(vt),ht},[Ge,Qe,xe,Be,We,vt]);let Et=(()=>{class fe{constructor(Ge,Qe,xe,Be,We,vt,ht,Pt,ce,cn,xt,rt){const Ft=new g.x,qt=(0,le.of)(void 0).pipe((0,he.Q)(We.outsideAngular),(0,Ie.w)(()=>Be.runOutsideAngular(()=>Promise.resolve().then(k.bind(k,9568)))),(0,Fe.U)(()=>(0,Ae.on)(Ge,Be,Qe)),(0,Fe.U)(Cn=>ot(Cn,Be,vt,Pt,ce,cn,ht,xt)),(0,Ce.d)({bufferSize:1,refCount:!1}));if((0,De.PM)(xe))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,le.of)(null);else{qt.pipe((0,me.P)()).subscribe();const Mn=qt.pipe((0,Ie.w)(Tn=>Tn.getRedirectResult().then($t=>$t,()=>null)),yt.iC,(0,Ce.d)({bufferSize:1,refCount:!1})),An=qt.pipe((0,Ie.w)(Tn=>new _e.y($t=>({unsubscribe:Be.runOutsideAngular(()=>Tn.onAuthStateChanged(tr=>$t.next(tr),tr=>$t.error(tr),()=>$t.complete()))})))),Lt=qt.pipe((0,Ie.w)(Tn=>new _e.y($t=>({unsubscribe:Be.runOutsideAngular(()=>Tn.onIdTokenChanged(tr=>$t.next(tr),tr=>$t.error(tr),()=>$t.complete()))}))));this.authState=Mn.pipe(ge(An),(0,ze.R)(We.outsideAngular),(0,he.Q)(We.insideAngular)),this.user=Mn.pipe(ge(Lt),(0,ze.R)(We.outsideAngular),(0,he.Q)(We.insideAngular)),this.idToken=this.user.pipe((0,Ie.w)(Tn=>Tn?(0,Le.D)(Tn.getIdToken()):(0,le.of)(null))),this.idTokenResult=this.user.pipe((0,Ie.w)(Tn=>Tn?(0,Le.D)(Tn.getIdTokenResult()):(0,le.of)(null))),this.credential=(0,Ne.T)(Mn,Ft,this.authState.pipe((0,Ze.h)(Tn=>!Tn))).pipe((0,Fe.U)(Tn=>null!=Tn&&Tn.user?Tn:null),(0,ze.R)(We.outsideAngular),(0,he.Q)(We.insideAngular))}return(0,Ae.pX)(this,qt,Be,{spy:{apply:(Cn,Mn,An)=>{(Cn.startsWith("signIn")||Cn.startsWith("createUser"))&&An.then(Lt=>Ft.next(Lt))}}})}}return fe.\u0275fac=function(Ge){return new(Ge||fe)(m.LFG(Ae.Dh),m.LFG(Ae.xv,8),m.LFG(m.Lbi),m.LFG(m.R0b),m.LFG(yt.HU),m.LFG(it,8),m.LFG(ut,8),m.LFG(st,8),m.LFG(Je,8),m.LFG(Ue,8),m.LFG(Ct,8),m.LFG(pt.nm,8))},fe.\u0275prov=m.Yz7({token:fe,factory:fe.\u0275fac,providedIn:"any"}),fe})(),Tt=(()=>{class fe{constructor(){ct.Z.registerVersion("angularfire",yt.q4.full,"auth-compat")}}return fe.\u0275fac=function(Ge){return new(Ge||fe)},fe.\u0275mod=m.oAB({type:fe}),fe.\u0275inj=m.cJS({providers:[Et]}),fe})()},1085:(vn,ft,k)=>{"use strict";k.d(ft,{ST:()=>Fr,yb:()=>$n});var m=k(2223),g=k(4986),le=k(9751),_e=k(8996),Le=k(9646),Ne=k(3324),he=k(8675),Ie=k(1520),Fe=k(4004),Ce=k(5026),me=k(1884),je=k(9300),ge=k(2011),ze=k(4755),yt=(k(9568),k(3942)),Ae=k(2810),De=k(2090),pt=k(4859);function it(Ht,Ee){if(void 0===Ee)return{merge:!1};if(void 0!==Ee.mergeFields&&void 0!==Ee.merge)throw new Ae.WA("invalid-argument",`Invalid options passed to function ${Ht}(): You cannot specify both "merge" and "mergeFields".`);return Ee}function ut(){if(typeof Uint8Array>"u")throw new Ae.WA("unimplemented","Uint8Arrays are not available in this environment.")}function st(){if(!(0,Ae.Me)())throw new Ae.WA("unimplemented","Blobs are unavailable in Firestore in this environment.")}class Je{constructor(Ee){this._delegate=Ee}static fromBase64String(Ee){return st(),new Je(Ae.Jj.fromBase64String(Ee))}static fromUint8Array(Ee){return ut(),new Je(Ae.Jj.fromUint8Array(Ee))}toBase64(){return st(),this._delegate.toBase64()}toUint8Array(){return ut(),this._delegate.toUint8Array()}isEqual(Ee){return this._delegate.isEqual(Ee._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function Ue(Ht){return function Ct(Ht,Ee){if("object"!=typeof Ht||null===Ht)return!1;const Ye=Ht;for(const Mt of Ee)if(Mt in Ye&&"function"==typeof Ye[Mt])return!0;return!1}(Ht,["next","error","complete"])}class ot{enableIndexedDbPersistence(Ee,Ye){return(0,Ae.ST)(Ee._delegate,{forceOwnership:Ye})}enableMultiTabIndexedDbPersistence(Ee){return(0,Ae.fH)(Ee._delegate)}clearIndexedDbPersistence(Ee){return(0,Ae.Fc)(Ee._delegate)}}class Et{constructor(Ee,Ye,Mt){this._delegate=Ye,this._persistenceProvider=Mt,this.INTERNAL={delete:()=>this.terminate()},Ee instanceof Ae.l7||(this._appCompat=Ee)}get _databaseId(){return this._delegate._databaseId}settings(Ee){const Ye=this._delegate._getSettings();!Ee.merge&&Ye.host!==Ee.host&&(0,Ae.yq)("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),Ee.merge&&delete(Ee=Object.assign(Object.assign({},Ye),Ee)).merge,this._delegate._setSettings(Ee)}useEmulator(Ee,Ye,Mt={}){(0,Ae.at)(this._delegate,Ee,Ye,Mt)}enableNetwork(){return(0,Ae.Ix)(this._delegate)}disableNetwork(){return(0,Ae.TF)(this._delegate)}enablePersistence(Ee){let Ye=!1,Mt=!1;return Ee&&(Ye=!!Ee.synchronizeTabs,Mt=!!Ee.experimentalForceOwningTab,(0,Ae.Wi)("synchronizeTabs",Ye,"experimentalForceOwningTab",Mt)),Ye?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,Mt)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return(0,Ae.Mx)(this._delegate)}onSnapshotsInSync(Ee){return(0,Ae.sc)(this._delegate,Ee)}get app(){if(!this._appCompat)throw new Ae.WA("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(Ee){try{return new rt(this,(0,Ae.hJ)(this._delegate,Ee))}catch(Ye){throw Be(Ye,"collection()","Firestore.collection()")}}doc(Ee){try{return new xe(this,(0,Ae.JU)(this._delegate,Ee))}catch(Ye){throw Be(Ye,"doc()","Firestore.doc()")}}collectionGroup(Ee){try{return new ce(this,(0,Ae.B$)(this._delegate,Ee))}catch(Ye){throw Be(Ye,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(Ee){return(0,Ae.i3)(this._delegate,Ye=>Ee(new Oe(this,Ye)))}batch(){return(0,Ae.qY)(this._delegate),new Ge(new Ae.PU(this._delegate,Ee=>(0,Ae.GL)(this._delegate,Ee)))}loadBundle(Ee){return(0,Ae.Pb)(this._delegate,Ee)}namedQuery(Ee){return(0,Ae.L$)(this._delegate,Ee).then(Ye=>Ye?new ce(this,Ye):null)}}class Tt extends Ae.u7{constructor(Ee){super(),this.firestore=Ee}convertBytes(Ee){return new Je(new Ae.Jj(Ee))}convertReference(Ee){const Ye=this.convertDocumentKey(Ee,this.firestore._databaseId);return xe.forKey(Ye,this.firestore,null)}}class Oe{constructor(Ee,Ye){this._firestore=Ee,this._delegate=Ye,this._userDataWriter=new Tt(Ee)}get(Ee){const Ye=Ft(Ee);return this._delegate.get(Ye).then(Mt=>new ht(this._firestore,new Ae.xU(this._firestore._delegate,this._userDataWriter,Mt._key,Mt._document,Mt.metadata,Ye.converter)))}set(Ee,Ye,Mt){const Qt=Ft(Ee);return Mt?(it("Transaction.set",Mt),this._delegate.set(Qt,Ye,Mt)):this._delegate.set(Qt,Ye),this}update(Ee,Ye,Mt,...Qt){const hn=Ft(Ee);return 2===arguments.length?this._delegate.update(hn,Ye):this._delegate.update(hn,Ye,Mt,...Qt),this}delete(Ee){const Ye=Ft(Ee);return this._delegate.delete(Ye),this}}class Ge{constructor(Ee){this._delegate=Ee}set(Ee,Ye,Mt){const Qt=Ft(Ee);return Mt?(it("WriteBatch.set",Mt),this._delegate.set(Qt,Ye,Mt)):this._delegate.set(Qt,Ye),this}update(Ee,Ye,Mt,...Qt){const hn=Ft(Ee);return 2===arguments.length?this._delegate.update(hn,Ye):this._delegate.update(hn,Ye,Mt,...Qt),this}delete(Ee){const Ye=Ft(Ee);return this._delegate.delete(Ye),this}commit(){return this._delegate.commit()}}class Qe{constructor(Ee,Ye,Mt){this._firestore=Ee,this._userDataWriter=Ye,this._delegate=Mt}fromFirestore(Ee,Ye){const Mt=new Ae.$q(this._firestore._delegate,this._userDataWriter,Ee._key,Ee._document,Ee.metadata,null);return this._delegate.fromFirestore(new Pt(this._firestore,Mt),null!=Ye?Ye:{})}toFirestore(Ee,Ye){return Ye?this._delegate.toFirestore(Ee,Ye):this._delegate.toFirestore(Ee)}static getInstance(Ee,Ye){const Mt=Qe.INSTANCES;let Qt=Mt.get(Ee);Qt||(Qt=new WeakMap,Mt.set(Ee,Qt));let hn=Qt.get(Ye);return hn||(hn=new Qe(Ee,new Tt(Ee),Ye),Qt.set(Ye,hn)),hn}}Qe.INSTANCES=new WeakMap;class xe{constructor(Ee,Ye){this.firestore=Ee,this._delegate=Ye,this._userDataWriter=new Tt(Ee)}static forPath(Ee,Ye,Mt){if(Ee.length%2!=0)throw new Ae.WA("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${Ee.canonicalString()} has ${Ee.length}`);return new xe(Ye,new Ae.my(Ye._delegate,Mt,new Ae.Ky(Ee)))}static forKey(Ee,Ye,Mt){return new xe(Ye,new Ae.my(Ye._delegate,Mt,Ee))}get id(){return this._delegate.id}get parent(){return new rt(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(Ee){try{return new rt(this.firestore,(0,Ae.hJ)(this._delegate,Ee))}catch(Ye){throw Be(Ye,"collection()","DocumentReference.collection()")}}isEqual(Ee){return(Ee=(0,De.m9)(Ee))instanceof Ae.my&&(0,Ae.Eo)(this._delegate,Ee)}set(Ee,Ye){Ye=it("DocumentReference.set",Ye);try{return Ye?(0,Ae.pl)(this._delegate,Ee,Ye):(0,Ae.pl)(this._delegate,Ee)}catch(Mt){throw Be(Mt,"setDoc()","DocumentReference.set()")}}update(Ee,Ye,...Mt){try{return 1===arguments.length?(0,Ae.r7)(this._delegate,Ee):(0,Ae.r7)(this._delegate,Ee,Ye,...Mt)}catch(Qt){throw Be(Qt,"updateDoc()","DocumentReference.update()")}}delete(){return(0,Ae.oe)(this._delegate)}onSnapshot(...Ee){const Ye=We(Ee),Mt=vt(Ee,Qt=>new ht(this.firestore,new Ae.xU(this.firestore._delegate,this._userDataWriter,Qt._key,Qt._document,Qt.metadata,this._delegate.converter)));return(0,Ae.cf)(this._delegate,Ye,Mt)}get(Ee){let Ye;return Ye="cache"===(null==Ee?void 0:Ee.source)?(0,Ae.kl)(this._delegate):"server"===(null==Ee?void 0:Ee.source)?(0,Ae.Xk)(this._delegate):(0,Ae.QT)(this._delegate),Ye.then(Mt=>new ht(this.firestore,new Ae.xU(this.firestore._delegate,this._userDataWriter,Mt._key,Mt._document,Mt.metadata,this._delegate.converter)))}withConverter(Ee){return new xe(this.firestore,this._delegate.withConverter(Ee?Qe.getInstance(this.firestore,Ee):null))}}function Be(Ht,Ee,Ye){return Ht.message=Ht.message.replace(Ee,Ye),Ht}function We(Ht){for(const Ee of Ht)if("object"==typeof Ee&&!Ue(Ee))return Ee;return{}}function vt(Ht,Ee){var Ye,Mt;let Qt;return Qt=Ue(Ht[0])?Ht[0]:Ue(Ht[1])?Ht[1]:"function"==typeof Ht[0]?{next:Ht[0],error:Ht[1],complete:Ht[2]}:{next:Ht[1],error:Ht[2],complete:Ht[3]},{next:hn=>{Qt.next&&Qt.next(Ee(hn))},error:null===(Ye=Qt.error)||void 0===Ye?void 0:Ye.bind(Qt),complete:null===(Mt=Qt.complete)||void 0===Mt?void 0:Mt.bind(Qt)}}class ht{constructor(Ee,Ye){this._firestore=Ee,this._delegate=Ye}get ref(){return new xe(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(Ee){return this._delegate.data(Ee)}get(Ee,Ye){return this._delegate.get(Ee,Ye)}isEqual(Ee){return(0,Ae.qK)(this._delegate,Ee._delegate)}}class Pt extends ht{data(Ee){const Ye=this._delegate.data(Ee);return(0,Ae.K9)(void 0!==Ye,"Document in a QueryDocumentSnapshot should exist"),Ye}}class ce{constructor(Ee,Ye){this.firestore=Ee,this._delegate=Ye,this._userDataWriter=new Tt(Ee)}where(Ee,Ye,Mt){try{return new ce(this.firestore,(0,Ae.IO)(this._delegate,(0,Ae.ar)(Ee,Ye,Mt)))}catch(Qt){throw Be(Qt,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(Ee,Ye){try{return new ce(this.firestore,(0,Ae.IO)(this._delegate,(0,Ae.Xo)(Ee,Ye)))}catch(Mt){throw Be(Mt,/(orderBy|where)\(\)/,"Query.$1()")}}limit(Ee){try{return new ce(this.firestore,(0,Ae.IO)(this._delegate,(0,Ae.b9)(Ee)))}catch(Ye){throw Be(Ye,"limit()","Query.limit()")}}limitToLast(Ee){try{return new ce(this.firestore,(0,Ae.IO)(this._delegate,(0,Ae.vh)(Ee)))}catch(Ye){throw Be(Ye,"limitToLast()","Query.limitToLast()")}}startAt(...Ee){try{return new ce(this.firestore,(0,Ae.IO)(this._delegate,(0,Ae.e0)(...Ee)))}catch(Ye){throw Be(Ye,"startAt()","Query.startAt()")}}startAfter(...Ee){try{return new ce(this.firestore,(0,Ae.IO)(this._delegate,(0,Ae.TQ)(...Ee)))}catch(Ye){throw Be(Ye,"startAfter()","Query.startAfter()")}}endBefore(...Ee){try{return new ce(this.firestore,(0,Ae.IO)(this._delegate,(0,Ae.Lx)(...Ee)))}catch(Ye){throw Be(Ye,"endBefore()","Query.endBefore()")}}endAt(...Ee){try{return new ce(this.firestore,(0,Ae.IO)(this._delegate,(0,Ae.Wu)(...Ee)))}catch(Ye){throw Be(Ye,"endAt()","Query.endAt()")}}isEqual(Ee){return(0,Ae.iE)(this._delegate,Ee._delegate)}get(Ee){let Ye;return Ye="cache"===(null==Ee?void 0:Ee.source)?(0,Ae.UQ)(this._delegate):"server"===(null==Ee?void 0:Ee.source)?(0,Ae.zN)(this._delegate):(0,Ae.PL)(this._delegate),Ye.then(Mt=>new xt(this.firestore,new Ae.W(this.firestore._delegate,this._userDataWriter,this._delegate,Mt._snapshot)))}onSnapshot(...Ee){const Ye=We(Ee),Mt=vt(Ee,Qt=>new xt(this.firestore,new Ae.W(this.firestore._delegate,this._userDataWriter,this._delegate,Qt._snapshot)));return(0,Ae.cf)(this._delegate,Ye,Mt)}withConverter(Ee){return new ce(this.firestore,this._delegate.withConverter(Ee?Qe.getInstance(this.firestore,Ee):null))}}class cn{constructor(Ee,Ye){this._firestore=Ee,this._delegate=Ye}get type(){return this._delegate.type}get doc(){return new Pt(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class xt{constructor(Ee,Ye){this._firestore=Ee,this._delegate=Ye}get query(){return new ce(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(Ee=>new Pt(this._firestore,Ee))}docChanges(Ee){return this._delegate.docChanges(Ee).map(Ye=>new cn(this._firestore,Ye))}forEach(Ee,Ye){this._delegate.forEach(Mt=>{Ee.call(Ye,new Pt(this._firestore,Mt))})}isEqual(Ee){return(0,Ae.qK)(this._delegate,Ee._delegate)}}class rt extends ce{constructor(Ee,Ye){super(Ee,Ye),this.firestore=Ee,this._delegate=Ye}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const Ee=this._delegate.parent;return Ee?new xe(this.firestore,Ee):null}doc(Ee){try{return new xe(this.firestore,void 0===Ee?(0,Ae.JU)(this._delegate):(0,Ae.JU)(this._delegate,Ee))}catch(Ye){throw Be(Ye,"doc()","CollectionReference.doc()")}}add(Ee){return(0,Ae.ET)(this._delegate,Ee).then(Ye=>new xe(this.firestore,Ye))}isEqual(Ee){return(0,Ae.Eo)(this._delegate,Ee._delegate)}withConverter(Ee){return new rt(this.firestore,this._delegate.withConverter(Ee?Qe.getInstance(this.firestore,Ee):null))}}function Ft(Ht){return(0,Ae.Cf)(Ht,Ae.my)}class qt{constructor(...Ee){this._delegate=new Ae.Lz(...Ee)}static documentId(){return new qt(Ae.Xb.keyField().canonicalString())}isEqual(Ee){return(Ee=(0,De.m9)(Ee))instanceof Ae.Lz&&this._delegate._internalPath.isEqual(Ee._internalPath)}}class Cn{constructor(Ee){this._delegate=Ee}static serverTimestamp(){const Ee=(0,Ae.Bt)();return Ee._methodName="FieldValue.serverTimestamp",new Cn(Ee)}static delete(){const Ee=(0,Ae.AK)();return Ee._methodName="FieldValue.delete",new Cn(Ee)}static arrayUnion(...Ee){const Ye=(0,Ae.vr)(...Ee);return Ye._methodName="FieldValue.arrayUnion",new Cn(Ye)}static arrayRemove(...Ee){const Ye=(0,Ae.Ab)(...Ee);return Ye._methodName="FieldValue.arrayRemove",new Cn(Ye)}static increment(Ee){const Ye=(0,Ae.nP)(Ee);return Ye._methodName="FieldValue.increment",new Cn(Ye)}isEqual(Ee){return this._delegate.isEqual(Ee._delegate)}}const Mn={Firestore:Et,GeoPoint:Ae.F8,Timestamp:Ae.EK,Blob:Je,Transaction:Oe,WriteBatch:Ge,DocumentReference:xe,DocumentSnapshot:ht,Query:ce,QueryDocumentSnapshot:Pt,QuerySnapshot:xt,CollectionReference:rt,FieldPath:qt,FieldValue:Cn,setLogLevel:function fe(Ht){(0,Ae.Ub)(Ht)},CACHE_SIZE_UNLIMITED:Ae.IX};!function Lt(Ht){(function An(Ht,Ee){Ht.INTERNAL.registerComponent(new pt.wA("firestore-compat",Ye=>{const Mt=Ye.getProvider("app-compat").getImmediate(),Qt=Ye.getProvider("firestore").getImmediate();return Ee(Mt,Qt)},"PUBLIC").setServiceProps(Object.assign({},Mn)))})(Ht,(Ee,Ye)=>new Et(Ee,Ye,new ot)),Ht.registerVersion("@firebase/firestore-compat","0.3.9")}(yt.Z);var Tn=k(3385),$t=k(2313),tr=k(9260);function fr(Ht,Ee){return function ir(Ht,Ee=g.z){return new le.y(Ye=>{let Mt;return null!=Ee?Ee.schedule(()=>{Mt=Ht.onSnapshot({includeMetadataChanges:!0},Ye)}):Mt=Ht.onSnapshot({includeMetadataChanges:!0},Ye),()=>{null!=Mt&&Mt()}})}(Ht,Ee)}function _r(Ht,Ee){return fr(Ht,Ee).pipe((0,Fe.U)(Ye=>({payload:Ye,type:"query"})))}function cr(Ht,Ee){return _r(Ht,Ee).pipe((0,he.O)(void 0),(0,Ie.G)(),(0,Fe.U)(([Ye,Mt])=>{const Qt=Mt.payload.docChanges(),hn=Qt.map(Tr=>({type:Tr.type,payload:Tr}));return Ye&&JSON.stringify(Ye.payload.metadata)!==JSON.stringify(Mt.payload.metadata)&&Mt.payload.docs.forEach((Tr,Yn)=>{const sr=Qt.find(pe=>pe.doc.ref.isEqual(Tr.ref)),et=null==Ye?void 0:Ye.payload.docs.find(pe=>pe.ref.isEqual(Tr.ref));sr&&JSON.stringify(sr.doc.metadata)===JSON.stringify(Tr.metadata)||!sr&&et&&JSON.stringify(et.metadata)===JSON.stringify(Tr.metadata)||hn.push({type:"modified",payload:{oldIndex:Yn,newIndex:Yn,type:"modified",doc:Tr}})}),hn}))}function Sn(Ht,Ee,Ye){return cr(Ht,Ye).pipe((0,Ce.R)((Mt,Qt)=>function kr(Ht,Ee,Ye){return Ee.forEach(Mt=>{Ye.indexOf(Mt.type)>-1&&(Ht=function wn(Ht,Ee){switch(Ee.type){case"added":if(!Ht[Ee.newIndex]||!Ht[Ee.newIndex].doc.ref.isEqual(Ee.doc.ref))return $r(Ht,Ee.newIndex,0,Ee);break;case"modified":if(null==Ht[Ee.oldIndex]||Ht[Ee.oldIndex].doc.ref.isEqual(Ee.doc.ref)){if(Ee.oldIndex!==Ee.newIndex){const Ye=Ht.slice();return Ye.splice(Ee.oldIndex,1),Ye.splice(Ee.newIndex,0,Ee),Ye}return $r(Ht,Ee.newIndex,1,Ee)}break;case"removed":if(Ht[Ee.oldIndex]&&Ht[Ee.oldIndex].doc.ref.isEqual(Ee.doc.ref))return $r(Ht,Ee.oldIndex,1)}return Ht}(Ht,Mt))}),Ht}(Mt,Qt.map(hn=>hn.payload),Ee),[]),(0,me.x)(),(0,Fe.U)(Mt=>Mt.map(Qt=>({type:Qt.type,payload:Qt}))))}function $r(Ht,Ee,Ye,...Mt){const Qt=Ht.slice();return Qt.splice(Ee,Ye,...Mt),Qt}function dn(Ht){return(!Ht||0===Ht.length)&&(Ht=["added","removed","modified"]),Ht}class Vn{constructor(Ee,Ye,Mt){this.ref=Ee,this.query=Ye,this.afs=Mt}stateChanges(Ee){let Ye=cr(this.query,this.afs.schedulers.outsideAngular);return Ee&&Ee.length>0&&(Ye=Ye.pipe((0,Fe.U)(Mt=>Mt.filter(Qt=>Ee.indexOf(Qt.type)>-1)))),Ye.pipe((0,he.O)(void 0),(0,Ie.G)(),(0,je.h)(([Mt,Qt])=>Qt.length>0||!Mt),(0,Fe.U)(([Mt,Qt])=>Qt),Ne.iC)}auditTrail(Ee){return this.stateChanges(Ee).pipe((0,Ce.R)((Ye,Mt)=>[...Ye,...Mt],[]))}snapshotChanges(Ee){const Ye=dn(Ee);return Sn(this.query,Ye,this.afs.schedulers.outsideAngular).pipe(Ne.iC)}valueChanges(Ee={}){return _r(this.query,this.afs.schedulers.outsideAngular).pipe((0,Fe.U)(Ye=>Ye.payload.docs.map(Mt=>Ee.idField?Object.assign(Object.assign({},Mt.data()),{[Ee.idField]:Mt.id}):Mt.data())),Ne.iC)}get(Ee){return(0,_e.D)(this.query.get(Ee)).pipe(Ne.iC)}add(Ee){return this.ref.add(Ee)}doc(Ee){return new Mr(this.ref.doc(Ee),this.afs)}}class Mr{constructor(Ee,Ye){this.ref=Ee,this.afs=Ye}set(Ee,Ye){return this.ref.set(Ee,Ye)}update(Ee){return this.ref.update(Ee)}delete(){return this.ref.delete()}collection(Ee,Ye){const Mt=this.ref.collection(Ee),{ref:Qt,query:hn}=Rn(Mt,Ye);return new Vn(Qt,hn,this.afs)}snapshotChanges(){return function tn(Ht,Ee){return fr(Ht,Ee).pipe((0,he.O)(void 0),(0,Ie.G)(),(0,Fe.U)(([Ye,Mt])=>Mt.exists?null!=Ye&&Ye.exists?{payload:Mt,type:"modified"}:{payload:Mt,type:"added"}:{payload:Mt,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(Ne.iC)}valueChanges(Ee={}){return this.snapshotChanges().pipe((0,Fe.U)(({payload:Ye})=>Ee.idField?Object.assign(Object.assign({},Ye.data()),{[Ee.idField]:Ye.id}):Ye.data()))}get(Ee){return(0,_e.D)(this.ref.get(Ee)).pipe(Ne.iC)}}class Rr{constructor(Ee,Ye){this.query=Ee,this.afs=Ye}stateChanges(Ee){return Ee&&0!==Ee.length?cr(this.query,this.afs.schedulers.outsideAngular).pipe((0,Fe.U)(Ye=>Ye.filter(Mt=>Ee.indexOf(Mt.type)>-1)),(0,je.h)(Ye=>Ye.length>0),Ne.iC):cr(this.query,this.afs.schedulers.outsideAngular).pipe(Ne.iC)}auditTrail(Ee){return this.stateChanges(Ee).pipe((0,Ce.R)((Ye,Mt)=>[...Ye,...Mt],[]))}snapshotChanges(Ee){const Ye=dn(Ee);return Sn(this.query,Ye,this.afs.schedulers.outsideAngular).pipe(Ne.iC)}valueChanges(Ee={}){return _r(this.query,this.afs.schedulers.outsideAngular).pipe((0,Fe.U)(Mt=>Mt.payload.docs.map(Qt=>Ee.idField?Object.assign({[Ee.idField]:Qt.id},Qt.data()):Qt.data())),Ne.iC)}get(Ee){return(0,_e.D)(this.query.get(Ee)).pipe(Ne.iC)}}const qn=new m.OlP("angularfire2.enableFirestorePersistence"),br=new m.OlP("angularfire2.firestore.persistenceSettings"),Dr=new m.OlP("angularfire2.firestore.settings"),zn=new m.OlP("angularfire2.firestore.use-emulator");function Rn(Ht,Ee=(Ye=>Ye)){return{query:Ee(Ht),ref:Ht}}let Fr=(()=>{class Ht{constructor(Ye,Mt,Qt,hn,Tr,Yn,sr,et,pe,K,z,q,Re,lt,$e,_t,Rt){this.schedulers=sr;const Zt=(0,ge.on)(Ye,Yn,Mt),Wt=pe;K&&(0,Tn.nw)(Zt,Yn,z,Re,lt,$e,q,_t),[this.firestore,this.persistenceEnabled$]=(0,ge.cc)(`${Zt.name}.firestore`,"AngularFirestore",Zt.name,()=>{const fn=Yn.runOutsideAngular(()=>Zt.firestore());if(hn&&fn.settings(hn),Wt&&fn.useEmulator(...Wt),Qt&&!(0,ze.PM)(Tr)){const kt=()=>{try{return(0,_e.D)(fn.enablePersistence(et||void 0).then(()=>!0,()=>!1))}catch(Kt){return typeof console<"u"&&console.warn(Kt),(0,Le.of)(!1)}};return[fn,Yn.runOutsideAngular(kt)]}return[fn,(0,Le.of)(!1)]},[hn,Wt,Qt])}collection(Ye,Mt){let Qt;Qt="string"==typeof Ye?this.firestore.collection(Ye):Ye;const{ref:hn,query:Tr}=Rn(Qt,Mt),Yn=this.schedulers.ngZone.run(()=>hn);return new Vn(Yn,Tr,this)}collectionGroup(Ye,Mt){const Qt=Mt||(Tr=>Tr),hn=this.firestore.collectionGroup(Ye);return new Rr(Qt(hn),this)}doc(Ye){let Mt;Mt="string"==typeof Ye?this.firestore.doc(Ye):Ye;const Qt=this.schedulers.ngZone.run(()=>Mt);return new Mr(Qt,this)}createId(){return this.firestore.collection("_").doc().id}}return Ht.\u0275fac=function(Ye){return new(Ye||Ht)(m.LFG(ge.Dh),m.LFG(ge.xv,8),m.LFG(qn,8),m.LFG(Dr,8),m.LFG(m.Lbi),m.LFG(m.R0b),m.LFG(Ne.HU),m.LFG(br,8),m.LFG(zn,8),m.LFG(Tn.zQ,8),m.LFG(Tn.Qv,8),m.LFG(Tn.L6,8),m.LFG(Tn._Q,8),m.LFG(Tn.rT,8),m.LFG(Tn.lh,8),m.LFG(Tn.f7,8),m.LFG($t.nm,8))},Ht.\u0275prov=m.Yz7({token:Ht,factory:Ht.\u0275fac,providedIn:"any"}),Ht})(),$n=(()=>{class Ht{constructor(){tr.Z.registerVersion("angularfire",Ne.q4.full,"fst-compat")}static enablePersistence(Ye){return{ngModule:Ht,providers:[{provide:qn,useValue:!0},{provide:br,useValue:Ye}]}}}return Ht.\u0275fac=function(Ye){return new(Ye||Ht)},Ht.\u0275mod=m.oAB({type:Ht}),Ht.\u0275inj=m.cJS({providers:[Fr]}),Ht})()},377:(vn,ft,k)=>{"use strict";k.d(ft,{Q1:()=>Vi,TE:()=>js});var m=k(9751),g=k(9646),le=k(8996),_e=k(4986),Le=k(4482),Ne=k(5403),Ie=k(4004),Fe=k(3900),Ce=k(3324),me=k(2223),je=k(2011),ge=k(3942),ze=k(5861),Ze=k(6881),yt=k(2090),Ae=k(4859);const De="firebasestorage.googleapis.com",pt="storageBucket";class ut extends yt.ZR{constructor(Q,R,M=0){super(Je(Q),`Firebase Storage: ${R} (${Je(Q)})`),this.status_=M,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,ut.prototype)}get status(){return this.status_}set status(Q){this.status_=Q}_codeEquals(Q){return Je(Q)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(Q){this.customData.serverResponse=Q,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}var st=(()=>((st=st||{}).UNKNOWN="unknown",st.OBJECT_NOT_FOUND="object-not-found",st.BUCKET_NOT_FOUND="bucket-not-found",st.PROJECT_NOT_FOUND="project-not-found",st.QUOTA_EXCEEDED="quota-exceeded",st.UNAUTHENTICATED="unauthenticated",st.UNAUTHORIZED="unauthorized",st.UNAUTHORIZED_APP="unauthorized-app",st.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",st.INVALID_CHECKSUM="invalid-checksum",st.CANCELED="canceled",st.INVALID_EVENT_NAME="invalid-event-name",st.INVALID_URL="invalid-url",st.INVALID_DEFAULT_BUCKET="invalid-default-bucket",st.NO_DEFAULT_BUCKET="no-default-bucket",st.CANNOT_SLICE_BLOB="cannot-slice-blob",st.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",st.NO_DOWNLOAD_URL="no-download-url",st.INVALID_ARGUMENT="invalid-argument",st.INVALID_ARGUMENT_COUNT="invalid-argument-count",st.APP_DELETED="app-deleted",st.INVALID_ROOT_OPERATION="invalid-root-operation",st.INVALID_FORMAT="invalid-format",st.INTERNAL_ERROR="internal-error",st.UNSUPPORTED_ENVIRONMENT="unsupported-environment",st))();function Je(re){return"storage/"+re}function Ue(){return new ut(st.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function Oe(){return new ut(st.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function Ge(){return new ut(st.CANCELED,"User canceled the upload/download.")}function We(){return new ut(st.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function ce(re){return new ut(st.INVALID_ARGUMENT,re)}function cn(){return new ut(st.APP_DELETED,"The Firebase app was deleted.")}function xt(re){return new ut(st.INVALID_ROOT_OPERATION,"The operation '"+re+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function rt(re,Q){return new ut(st.INVALID_FORMAT,"String does not match format '"+re+"': "+Q)}function Ft(re){throw new ut(st.INTERNAL_ERROR,"Internal error: "+re)}class qt{constructor(Q,R){this.bucket=Q,this.path_=R}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const Q=encodeURIComponent;return"/b/"+Q(this.bucket)+"/o/"+Q(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(Q,R){let M;try{M=qt.makeFromUrl(Q,R)}catch{return new qt(Q,"")}if(""===M.path)return M;throw function xe(re){return new ut(st.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+re+"'.")}(Q)}static makeFromUrl(Q,R){let M=null;const w="([A-Za-z0-9.\\-_]+)",Ke=new RegExp("^gs://"+w+"(/(.*))?$","i");function Bt(Wi){Wi.path_=decodeURIComponent(Wi.path)}const wr=R.replace(/[.]/g,"\\."),Ni=[{regex:Ke,indices:{bucket:1,path:3},postModify:function A(Wi){"/"===Wi.path.charAt(Wi.path.length-1)&&(Wi.path_=Wi.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${wr}/v[A-Za-z0-9_]+/b/${w}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:Bt},{regex:new RegExp(`^https?://${R===De?"(?:storage.googleapis.com|storage.cloud.google.com)":R}/${w}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:Bt}];for(let Wi=0;Wi<Ni.length;Wi++){const Ai=Ni[Wi],ps=Ai.regex.exec(Q);if(ps){let Hs=ps[Ai.indices.path];Hs||(Hs=""),M=new qt(ps[Ai.indices.bucket],Hs),Ai.postModify(M);break}}if(null==M)throw function Qe(re){return new ut(st.INVALID_URL,"Invalid URL '"+re+"'.")}(Q);return M}}class Cn{constructor(Q){this.promise_=Promise.reject(Q)}getPromise(){return this.promise_}cancel(Q=!1){}}function tr(re){return"string"==typeof re||re instanceof String}function ir(re){return fr()&&re instanceof Blob}function fr(){return typeof Blob<"u"&&!(0,yt.UG)()}function tn(re,Q,R,M){if(M<Q)throw ce(`Invalid value for '${re}'. Expected ${Q} or greater.`);if(M>R)throw ce(`Invalid value for '${re}'. Expected ${R} or less.`)}function _r(re,Q,R){let M=Q;return null==R&&(M=`https://${Q}`),`${R}://${M}/v0${re}`}function cr(re){const Q=encodeURIComponent;let R="?";for(const M in re)re.hasOwnProperty(M)&&(R=R+(Q(M)+"=")+Q(re[M])+"&");return R=R.slice(0,-1),R}var Sn=(()=>((Sn=Sn||{})[Sn.NO_ERROR=0]="NO_ERROR",Sn[Sn.NETWORK_ERROR=1]="NETWORK_ERROR",Sn[Sn.ABORT=2]="ABORT",Sn))();function kr(re,Q){const R=re>=500&&re<600,w=-1!==[408,429].indexOf(re),A=-1!==Q.indexOf(re);return R||w||A}class $r{constructor(Q,R,M,w,A,te,Ke,tt,Bt,Jt,wr,kn=!0){this.url_=Q,this.method_=R,this.headers_=M,this.body_=w,this.successCodes_=A,this.additionalRetryCodes_=te,this.callback_=Ke,this.errorCallback_=tt,this.timeout_=Bt,this.progressCallback_=Jt,this.connectionFactory_=wr,this.retry=kn,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((Ir,Sr)=>{this.resolve_=Ir,this.reject_=Sr,this.start_()})}start_(){const R=(M,w)=>{const A=this.resolve_,te=this.reject_,Ke=w.connection;if(w.wasSuccessCode)try{const tt=this.callback_(Ke,Ke.getResponse());!function Lt(re){return void 0!==re}(tt)?A():A(tt)}catch(tt){te(tt)}else if(null!==Ke){const tt=Ue();tt.serverResponse=Ke.getErrorText(),te(this.errorCallback_?this.errorCallback_(Ke,tt):tt)}else te(w.canceled?this.appDelete_?cn():Ge():Oe())};this.canceled_?R(0,new wn(!1,null,!0)):this.backoffId_=function Mn(re,Q,R){let M=1,w=null,A=null,te=!1,Ke=0;function tt(){return 2===Ke}let Bt=!1;function Jt(...Ei){Bt||(Bt=!0,Q.apply(null,Ei))}function wr(Ei){w=setTimeout(()=>{w=null,re(Ir,tt())},Ei)}function kn(){A&&clearTimeout(A)}function Ir(Ei,...Gi){if(Bt)return void kn();if(Ei)return kn(),void Jt.call(null,Ei,...Gi);if(tt()||te)return kn(),void Jt.call(null,Ei,...Gi);let Ni;M<64&&(M*=2),1===Ke?(Ke=2,Ni=0):Ni=1e3*(M+Math.random()),wr(Ni)}let Sr=!1;function Cr(Ei){Sr||(Sr=!0,kn(),!Bt&&(null!==w?(Ei||(Ke=2),clearTimeout(w),wr(0)):Ei||(Ke=1)))}return wr(0),A=setTimeout(()=>{te=!0,Cr(!0)},R),Cr}((M,w)=>{if(w)return void M(!1,new wn(!1,null,!0));const A=this.connectionFactory_();this.pendingConnection_=A;const te=Ke=>{null!==this.progressCallback_&&this.progressCallback_(Ke.loaded,Ke.lengthComputable?Ke.total:-1)};null!==this.progressCallback_&&A.addUploadProgressListener(te),A.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&A.removeUploadProgressListener(te),this.pendingConnection_=null;const Ke=A.getErrorCode()===Sn.NO_ERROR,tt=A.getStatus();if(!Ke||kr(tt,this.additionalRetryCodes_)&&this.retry){const Jt=A.getErrorCode()===Sn.ABORT;return void M(!1,new wn(!1,null,Jt))}const Bt=-1!==this.successCodes_.indexOf(tt);M(!0,new wn(Bt,A))})},R,this.timeout_)}getPromise(){return this.promise_}cancel(Q){this.canceled_=!0,this.appDelete_=Q||!1,null!==this.backoffId_&&function An(re){re(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class wn{constructor(Q,R,M){this.wasSuccessCode=Q,this.connection=R,this.canceled=!!M}}function Dr(...re){const Q=function br(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==Q){const R=new Q;for(let M=0;M<re.length;M++)R.append(re[M]);return R.getBlob()}if(fr())return new Blob(re);throw new ut(st.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}const Fr={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class $n{constructor(Q,R){this.data=Q,this.contentType=R||null}}function Ht(re,Q){switch(re){case Fr.RAW:return new $n(Ee(Q));case Fr.BASE64:case Fr.BASE64URL:return new $n(Mt(re,Q));case Fr.DATA_URL:return new $n(function hn(re){const Q=new Qt(re);return Q.base64?Mt(Fr.BASE64,Q.rest):function Ye(re){let Q;try{Q=decodeURIComponent(re)}catch{throw rt(Fr.DATA_URL,"Malformed data URL.")}return Ee(Q)}(Q.rest)}(Q),function Tr(re){return new Qt(re).contentType}(Q))}throw Ue()}function Ee(re){const Q=[];for(let R=0;R<re.length;R++){let M=re.charCodeAt(R);M<=127?Q.push(M):M<=2047?Q.push(192|M>>6,128|63&M):55296==(64512&M)?R<re.length-1&&56320==(64512&re.charCodeAt(R+1))?(M=65536|(1023&M)<<10|1023&re.charCodeAt(++R),Q.push(240|M>>18,128|M>>12&63,128|M>>6&63,128|63&M)):Q.push(239,191,189):56320==(64512&M)?Q.push(239,191,189):Q.push(224|M>>12,128|M>>6&63,128|63&M)}return new Uint8Array(Q)}function Mt(re,Q){switch(re){case Fr.BASE64:{const w=-1!==Q.indexOf("-"),A=-1!==Q.indexOf("_");if(w||A)throw rt(re,"Invalid character '"+(w?"-":"_")+"' found: is it base64url encoded?");break}case Fr.BASE64URL:{const w=-1!==Q.indexOf("+"),A=-1!==Q.indexOf("/");if(w||A)throw rt(re,"Invalid character '"+(w?"+":"/")+"' found: is it base64 encoded?");Q=Q.replace(/-/g,"+").replace(/_/g,"/");break}}let R;try{R=function Rn(re){if(typeof atob>"u")throw function Pt(re){return new ut(st.UNSUPPORTED_ENVIRONMENT,`${re} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}("base-64");return atob(re)}(Q)}catch(w){throw w.message.includes("polyfill")?w:rt(re,"Invalid character found")}const M=new Uint8Array(R.length);for(let w=0;w<R.length;w++)M[w]=R.charCodeAt(w);return M}class Qt{constructor(Q){this.base64=!1,this.contentType=null;const R=Q.match(/^data:([^,]+)?,/);if(null===R)throw rt(Fr.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const M=R[1]||null;null!=M&&(this.base64=function Yn(re,Q){return re.length>=Q.length&&re.substring(re.length-Q.length)===Q}(M,";base64"),this.contentType=this.base64?M.substring(0,M.length-7):M),this.rest=Q.substring(Q.indexOf(",")+1)}}class sr{constructor(Q,R){let M=0,w="";ir(Q)?(this.data_=Q,M=Q.size,w=Q.type):Q instanceof ArrayBuffer?(R?this.data_=new Uint8Array(Q):(this.data_=new Uint8Array(Q.byteLength),this.data_.set(new Uint8Array(Q))),M=this.data_.length):Q instanceof Uint8Array&&(R?this.data_=Q:(this.data_=new Uint8Array(Q.length),this.data_.set(Q)),M=Q.length),this.size_=M,this.type_=w}size(){return this.size_}type(){return this.type_}slice(Q,R){if(ir(this.data_)){const w=function zn(re,Q,R){return re.webkitSlice?re.webkitSlice(Q,R):re.mozSlice?re.mozSlice(Q,R):re.slice?re.slice(Q,R):null}(this.data_,Q,R);return null===w?null:new sr(w)}{const M=new Uint8Array(this.data_.buffer,Q,R-Q);return new sr(M,!0)}}static getBlob(...Q){if(fr()){const R=Q.map(M=>M instanceof sr?M.data_:M);return new sr(Dr.apply(null,R))}{const R=Q.map(te=>tr(te)?Ht(Fr.RAW,te).data:te.data_);let M=0;R.forEach(te=>{M+=te.byteLength});const w=new Uint8Array(M);let A=0;return R.forEach(te=>{for(let Ke=0;Ke<te.length;Ke++)w[A++]=te[Ke]}),new sr(w,!0)}}uploadData(){return this.data_}}function et(re){let Q;try{Q=JSON.parse(re)}catch{return null}return function $t(re){return"object"==typeof re&&!Array.isArray(re)}(Q)?Q:null}function z(re){const Q=re.lastIndexOf("/",re.length-2);return-1===Q?re:re.slice(Q+1)}function q(re,Q){return Q}class Re{constructor(Q,R,M,w){this.server=Q,this.local=R||Q,this.writable=!!M,this.xform=w||q}}let lt=null;function _t(){if(lt)return lt;const re=[];re.push(new Re("bucket")),re.push(new Re("generation")),re.push(new Re("metageneration")),re.push(new Re("name","fullPath",!0));const R=new Re("name");R.xform=function Q(A,te){return function $e(re){return!tr(re)||re.length<2?re:z(re)}(te)},re.push(R);const w=new Re("size");return w.xform=function M(A,te){return void 0!==te?Number(te):te},re.push(w),re.push(new Re("timeCreated")),re.push(new Re("updated")),re.push(new Re("md5Hash",null,!0)),re.push(new Re("cacheControl",null,!0)),re.push(new Re("contentDisposition",null,!0)),re.push(new Re("contentEncoding",null,!0)),re.push(new Re("contentLanguage",null,!0)),re.push(new Re("contentType",null,!0)),re.push(new Re("metadata","customMetadata",!0)),lt=re,lt}function Wt(re,Q,R){const M=et(Q);return null===M?null:function Zt(re,Q,R){const M={type:"file"},w=R.length;for(let A=0;A<w;A++){const te=R[A];M[te.local]=te.xform(M,Q[te.server])}return function Rt(re,Q){Object.defineProperty(re,"ref",{get:function R(){const A=new qt(re.bucket,re.fullPath);return Q._makeStorageReference(A)}})}(M,re),M}(re,M,R)}function kt(re,Q){const R={},M=Q.length;for(let w=0;w<M;w++){const A=Q[w];A.writable&&(R[A.server]=re[A.local])}return JSON.stringify(R)}const Kt="prefixes",an="items";class jt{constructor(Q,R,M,w){this.url=Q,this.method=R,this.handler=M,this.timeout=w,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function mn(re){if(!re)throw Ue()}function Nn(re,Q){return function R(M,w){const A=Wt(re,w,Q);return mn(null!==A),A}}function Hr(re){return function Q(R,M){let w;return w=401===R.getStatus()?R.getErrorText().includes("Firebase App Check token is invalid")?function Tt(){return new ut(st.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}():function Et(){return new ut(st.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===R.getStatus()?function ot(re){return new ut(st.QUOTA_EXCEEDED,"Quota for bucket '"+re+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(re.bucket):403===R.getStatus()?function fe(re){return new ut(st.UNAUTHORIZED,"User does not have permission to access '"+re+"'.")}(re.path):M,w.status=R.getStatus(),w.serverResponse=M.serverResponse,w}}function Lr(re){const Q=Hr(re);return function R(M,w){let A=Q(M,w);return 404===M.getStatus()&&(A=function Ct(re){return new ut(st.OBJECT_NOT_FOUND,"Object '"+re+"' does not exist.")}(re.path)),A.serverResponse=w.serverResponse,A}}function or(re,Q,R){const w=_r(Q.fullServerUrl(),re.host,re._protocol),te=re.maxOperationRetryTime,Ke=new jt(w,"GET",Nn(re,R),te);return Ke.errorHandler=Lr(Q),Ke}function dr(re,Q,R,M,w){const A={};A.prefix=Q.isRoot?"":Q.path+"/",R&&R.length>0&&(A.delimiter=R),M&&(A.pageToken=M),w&&(A.maxResults=w);const Ke=_r(Q.bucketOnlyServerUrl(),re.host,re._protocol),Bt=re.maxOperationRetryTime,Jt=new jt(Ke,"GET",function nr(re,Q){return function R(M,w){const A=function bt(re,Q,R){const M=et(R);return null===M?null:function wt(re,Q,R){const M={prefixes:[],items:[],nextPageToken:R.nextPageToken};if(R[Kt])for(const w of R[Kt]){const A=w.replace(/\/$/,""),te=re._makeStorageReference(new qt(Q,A));M.prefixes.push(te)}if(R[an])for(const w of R[an]){const A=re._makeStorageReference(new qt(Q,w.name));M.items.push(A)}return M}(re,Q,M)}(re,Q,w);return mn(null!==A),A}}(re,Q.bucket),Bt);return Jt.urlParams=A,Jt.errorHandler=Hr(Q),Jt}function ws(re,Q,R){const M=Object.assign({},R);return M.fullPath=re.path,M.size=Q.size(),M.contentType||(M.contentType=function oi(re,Q){return re&&re.contentType||Q&&Q.type()||"application/octet-stream"}(null,Q)),M}class Qr{constructor(Q,R,M,w){this.current=Q,this.total=R,this.finalized=!!M,this.metadata=w||null}}function es(re,Q){let R=null;try{R=re.getResponseHeader("X-Goog-Upload-Status")}catch{mn(!1)}return mn(!!R&&-1!==(Q||["active"]).indexOf(R)),R}const ee={STATE_CHANGED:"state_changed"},ye={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function oe(re){switch(re){case"running":case"pausing":case"canceling":return ye.RUNNING;case"paused":return ye.PAUSED;case"success":return ye.SUCCESS;case"canceled":return ye.CANCELED;default:return ye.ERROR}}class G{constructor(Q,R,M){if(function Tn(re){return"function"==typeof re}(Q)||null!=R||null!=M)this.next=Q,this.error=null!=R?R:void 0,this.complete=null!=M?M:void 0;else{const A=Q;this.next=A.next,this.error=A.error,this.complete=A.complete}}}function ie(re){return(...Q)=>{Promise.resolve().then(()=>re(...Q))}}let He=null;class nt{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Sn.NO_ERROR,this.sendPromise_=new Promise(Q=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Sn.ABORT,Q()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Sn.NETWORK_ERROR,Q()}),this.xhr_.addEventListener("load",()=>{Q()})})}send(Q,R,M,w){if(this.sent_)throw Ft("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(R,Q,!0),void 0!==w)for(const A in w)w.hasOwnProperty(A)&&this.xhr_.setRequestHeader(A,w[A].toString());return void 0!==M?this.xhr_.send(M):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Ft("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Ft("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Ft("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Ft("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(Q){return this.xhr_.getResponseHeader(Q)}addUploadProgressListener(Q){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",Q)}removeUploadProgressListener(Q){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",Q)}}class gt extends nt{initXhr(){this.xhr_.responseType="text"}}function St(){return He?He():new gt}class Ci{constructor(Q,R,M=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=Q,this._blob=R,this._metadata=M,this._mappings=_t(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=w=>{if(this._request=void 0,this._chunkMultiplier=1,w._codeEquals(st.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const A=this.isExponentialBackoffExpired();if(kr(w.status,[])){if(!A)return this.sleepTime=Math.max(2*this.sleepTime,1e3),this._needToFetchStatus=!0,void this.completeTransitions_();w=Oe()}this._error=w,this._transition("error")}},this._metadataErrorHandler=w=>{this._request=void 0,w._codeEquals(st.CANCELED)?this.completeTransitions_():(this._error=w,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((w,A)=>{this._resolve=w,this._reject=A,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const Q=this._transferred;return R=>this._updateProgress(Q+R)}_shouldDoResumable(Q){return Q.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(Q){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([R,M])=>{switch(this._state){case"running":Q(R,M);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((Q,R)=>{const M=function rs(re,Q,R,M,w){const A=Q.bucketOnlyServerUrl(),te=ws(Q,M,w),Ke={name:te.fullPath},tt=_r(A,re.host,re._protocol),Jt={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${M.size()}`,"X-Goog-Upload-Header-Content-Type":te.contentType,"Content-Type":"application/json; charset=utf-8"},wr=kt(te,R),Sr=new jt(tt,"POST",function Ir(Cr){let Ei;es(Cr);try{Ei=Cr.getResponseHeader("X-Goog-Upload-URL")}catch{mn(!1)}return mn(tr(Ei)),Ei},re.maxUploadRetryTime);return Sr.urlParams=Ke,Sr.headers=Jt,Sr.body=wr,Sr.errorHandler=Hr(Q),Sr}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),w=this._ref.storage._makeRequest(M,St,Q,R);this._request=w,w.getPromise().then(A=>{this._request=void 0,this._uploadUrl=A,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const Q=this._uploadUrl;this._resolveToken((R,M)=>{const w=function ds(re,Q,R,M){const tt=new jt(R,"POST",function A(Bt){const Jt=es(Bt,["active","final"]);let wr=null;try{wr=Bt.getResponseHeader("X-Goog-Upload-Size-Received")}catch{mn(!1)}wr||mn(!1);const kn=Number(wr);return mn(!isNaN(kn)),new Qr(kn,M.size(),"final"===Jt)},re.maxUploadRetryTime);return tt.headers={"X-Goog-Upload-Command":"query"},tt.errorHandler=Hr(Q),tt}(this._ref.storage,this._ref._location,Q,this._blob),A=this._ref.storage._makeRequest(w,St,R,M);this._request=A,A.getPromise().then(te=>{this._request=void 0,this._updateProgress(te.current),this._needToFetchStatus=!1,te.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const Q=262144*this._chunkMultiplier,R=new Qr(this._transferred,this._blob.size()),M=this._uploadUrl;this._resolveToken((w,A)=>{let te;try{te=function W(re,Q,R,M,w,A,te,Ke){const tt=new Qr(0,0);if(te?(tt.current=te.current,tt.total=te.total):(tt.current=0,tt.total=M.size()),M.size()!==tt.total)throw function vt(){return new ut(st.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}();const Bt=tt.total-tt.current;let Jt=Bt;w>0&&(Jt=Math.min(Jt,w));const wr=tt.current;let Ir="";Ir=0===Jt?"finalize":Bt===Jt?"upload, finalize":"upload";const Sr={"X-Goog-Upload-Command":Ir,"X-Goog-Upload-Offset":`${tt.current}`},Cr=M.slice(wr,wr+Jt);if(null===Cr)throw We();const Ni=new jt(R,"POST",function Ei(Wi,Ai){const ps=es(Wi,["active","final"]),Ho=tt.current+Jt,Hs=M.size();let vl;return vl="final"===ps?Nn(Q,A)(Wi,Ai):null,new Qr(Ho,Hs,"final"===ps,vl)},Q.maxUploadRetryTime);return Ni.headers=Sr,Ni.body=Cr.uploadData(),Ni.progressCallback=Ke||null,Ni.errorHandler=Hr(re),Ni}(this._ref._location,this._ref.storage,M,this._blob,Q,this._mappings,R,this._makeProgressCallback())}catch(tt){return this._error=tt,void this._transition("error")}const Ke=this._ref.storage._makeRequest(te,St,w,A,!1);this._request=Ke,Ke.getPromise().then(tt=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(tt.current),tt.finalized?(this._metadata=tt.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier*2<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((Q,R)=>{const M=or(this._ref.storage,this._ref._location,this._mappings),w=this._ref.storage._makeRequest(M,St,Q,R);this._request=w,w.getPromise().then(A=>{this._request=void 0,this._metadata=A,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((Q,R)=>{const M=function _i(re,Q,R,M,w){const A=Q.bucketOnlyServerUrl(),te={"X-Goog-Upload-Protocol":"multipart"},tt=function Ke(){let Ni="";for(let Wi=0;Wi<2;Wi++)Ni+=Math.random().toString().slice(2);return Ni}();te["Content-Type"]="multipart/related; boundary="+tt;const Bt=ws(Q,M,w),Jt=kt(Bt,R),Ir=sr.getBlob("--"+tt+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+Jt+"\r\n--"+tt+"\r\nContent-Type: "+Bt.contentType+"\r\n\r\n",M,"\r\n--"+tt+"--");if(null===Ir)throw We();const Sr={name:Bt.fullPath},Cr=_r(A,re.host,re._protocol),Gi=re.maxUploadRetryTime,Di=new jt(Cr,"POST",Nn(re,R),Gi);return Di.urlParams=Sr,Di.headers=te,Di.body=Ir.uploadData(),Di.errorHandler=Hr(Q),Di}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),w=this._ref.storage._makeRequest(M,St,Q,R);this._request=w,w.getPromise().then(A=>{this._request=void 0,this._metadata=A,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(Q){const R=this._transferred;this._transferred=Q,this._transferred!==R&&this._notifyObservers()}_transition(Q){if(this._state!==Q)switch(Q){case"canceling":case"pausing":this._state=Q,void 0!==this._request?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const R="paused"===this._state;this._state=Q,R&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=Q,this._notifyObservers();break;case"canceled":this._error=Ge(),this._state=Q,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const Q=oe(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:Q,metadata:this._metadata,task:this,ref:this._ref}}on(Q,R,M,w){const A=new G(R||void 0,M||void 0,w||void 0);return this._addObserver(A),()=>{this._removeObserver(A)}}then(Q,R){return this._promise.then(Q,R)}catch(Q){return this.then(null,Q)}_addObserver(Q){this._observers.push(Q),this._notifyObserver(Q)}_removeObserver(Q){const R=this._observers.indexOf(Q);-1!==R&&this._observers.splice(R,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(R=>{this._notifyObserver(R)})}_finishPromise(){if(void 0!==this._resolve){let Q=!0;switch(oe(this._state)){case ye.SUCCESS:ie(this._resolve.bind(null,this.snapshot))();break;case ye.CANCELED:case ye.ERROR:ie(this._reject.bind(null,this._error))();break;default:Q=!1}Q&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(Q){switch(oe(this._state)){case ye.RUNNING:case ye.PAUSED:Q.next&&ie(Q.next.bind(Q,this.snapshot))();break;case ye.SUCCESS:Q.complete&&ie(Q.complete.bind(Q))();break;default:Q.error&&ie(Q.error.bind(Q,this._error))()}}resume(){const Q="paused"===this._state||"pausing"===this._state;return Q&&this._transition("running"),Q}pause(){const Q="running"===this._state;return Q&&this._transition("pausing"),Q}cancel(){const Q="running"===this._state||"pausing"===this._state;return Q&&this._transition("canceling"),Q}}class ii{constructor(Q,R){this._service=Q,this._location=R instanceof qt?R:qt.makeFromUrl(R,Q.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(Q,R){return new ii(Q,R)}get root(){const Q=new qt(this._location.bucket,"");return this._newRef(this._service,Q)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return z(this._location.path)}get storage(){return this._service}get parent(){const Q=function pe(re){if(0===re.length)return null;const Q=re.lastIndexOf("/");return-1===Q?"":re.slice(0,Q)}(this._location.path);if(null===Q)return null;const R=new qt(this._location.bucket,Q);return new ii(this._service,R)}_throwIfRoot(Q){if(""===this._location.path)throw xt(Q)}}function Ws(re,Q,R){return bi.apply(this,arguments)}function bi(){return(bi=(0,ze.Z)(function*(re,Q,R){const w=yield Bs(re,{pageToken:R});Q.prefixes.push(...w.prefixes),Q.items.push(...w.items),null!=w.nextPageToken&&(yield Ws(re,Q,w.nextPageToken))})).apply(this,arguments)}function Bs(re,Q){null!=Q&&"number"==typeof Q.maxResults&&tn("options.maxResults",1,1e3,Q.maxResults);const R=Q||{},M=dr(re.storage,re._location,"/",R.pageToken,R.maxResults);return re.storage.makeRequestWithTokens(M,St)}function Si(re){re._throwIfRoot("getDownloadURL");const Q=function xs(re,Q,R){const w=_r(Q.fullServerUrl(),re.host,re._protocol),te=re.maxOperationRetryTime,Ke=new jt(w,"GET",function Qn(re,Q){return function R(M,w){const A=Wt(re,w,Q);return mn(null!==A),function fn(re,Q,R,M){const w=et(Q);if(null===w||!tr(w.downloadTokens))return null;const A=w.downloadTokens;if(0===A.length)return null;const te=encodeURIComponent;return A.split(",").map(Bt=>{const wr=re.fullPath;return _r("/b/"+te(re.bucket)+"/o/"+te(wr),R,M)+cr({alt:"media",token:Bt})})[0]}(A,w,re.host,re._protocol)}}(re,R),te);return Ke.errorHandler=Lr(Q),Ke}(re.storage,re._location,_t());return re.storage.makeRequestWithTokens(Q,St).then(R=>{if(null===R)throw function ht(){return new ut(st.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}();return R})}function Is(re,Q){const R=function K(re,Q){const R=Q.split("/").filter(M=>M.length>0).join("/");return 0===re.length?R:re+"/"+R}(re._location.path,Q),M=new qt(re._location.bucket,R);return new ii(re.storage,M)}function ar(re,Q){if(re instanceof Cs){const R=re;if(null==R._bucket)throw function Be(){return new ut(st.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+pt+"' property when initializing the app?")}();const M=new ii(R,R._bucket);return null!=Q?ar(M,Q):M}return void 0!==Q?Is(re,Q):re}function mr(re,Q){if(Q&&function $s(re){return/^[A-Za-z]+:\/\//.test(re)}(Q)){if(re instanceof Cs)return function Un(re,Q){return new ii(re,Q)}(re,Q);throw ce("To use ref(service, url), the first argument must be a Storage instance.")}return ar(re,Q)}function Bi(re,Q){const R=null==Q?void 0:Q[pt];return null==R?null:qt.makeFromBucketSpec(R,re)}class Cs{constructor(Q,R,M,w,A){this.app=Q,this._authProvider=R,this._appCheckProvider=M,this._url=w,this._firebaseVersion=A,this._bucket=null,this._host=De,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=w?qt.makeFromBucketSpec(w,this._host):Bi(this._host,this.app.options)}get host(){return this._host}set host(Q){this._host=Q,this._bucket=null!=this._url?qt.makeFromBucketSpec(this._url,Q):Bi(Q,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(Q){tn("time",0,Number.POSITIVE_INFINITY,Q),this._maxUploadRetryTime=Q}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(Q){tn("time",0,Number.POSITIVE_INFINITY,Q),this._maxOperationRetryTime=Q}_getAuthToken(){var Q=this;return(0,ze.Z)(function*(){if(Q._overrideAuthToken)return Q._overrideAuthToken;const R=Q._authProvider.getImmediate({optional:!0});if(R){const M=yield R.getToken();if(null!==M)return M.accessToken}return null})()}_getAppCheckToken(){var Q=this;return(0,ze.Z)(function*(){const R=Q._appCheckProvider.getImmediate({optional:!0});return R?(yield R.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(Q=>Q.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(Q){return new ii(this,Q)}_makeRequest(Q,R,M,w,A=!0){if(this._deleted)return new Cn(cn());{const te=function qn(re,Q,R,M,w,A,te=!0){const Ke=cr(re.urlParams),tt=re.url+Ke,Bt=Object.assign({},re.headers);return function Mr(re,Q){Q&&(re["X-Firebase-GMPID"]=Q)}(Bt,Q),function dn(re,Q){null!==Q&&Q.length>0&&(re.Authorization="Firebase "+Q)}(Bt,R),function Vn(re,Q){re["X-Firebase-Storage-Version"]="webjs/"+(null!=Q?Q:"AppManager")}(Bt,A),function Rr(re,Q){null!==Q&&(re["X-Firebase-AppCheck"]=Q)}(Bt,M),new $r(tt,re.method,Bt,re.body,re.successCodes,re.additionalRetryCodes,re.handler,re.errorHandler,re.timeout,re.progressCallback,w,te)}(Q,this._appId,M,w,R,this._firebaseVersion,A);return this._requests.add(te),te.getPromise().then(()=>this._requests.delete(te),()=>this._requests.delete(te)),te}}makeRequestWithTokens(Q,R){var M=this;return(0,ze.Z)(function*(){const[w,A]=yield Promise.all([M._getAuthToken(),M._getAppCheckToken()]);return M._makeRequest(Q,R,w,A).getPromise()})()}}const Ks="@firebase/storage";function hi(re,Q){return mr(re=(0,yt.m9)(re),Q)}function ro(re,{instanceIdentifier:Q}){const R=re.getProvider("app").getImmediate(),M=re.getProvider("auth-internal"),w=re.getProvider("app-check-internal");return new Cs(R,M,w,Q,Ze.SDK_VERSION)}!function Vs(){(0,Ze._registerComponent)(new Ae.wA("storage",ro,"PUBLIC").setMultipleInstances(!0)),(0,Ze.registerVersion)(Ks,"0.11.2",""),(0,Ze.registerVersion)(Ks,"0.11.2","esm2017")}();class Ts{constructor(Q,R,M){this._delegate=Q,this.task=R,this.ref=M}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class io{constructor(Q,R){this._delegate=Q,this._ref=R,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new Ts(this._delegate.snapshot,this,this._ref)}then(Q,R){return this._delegate.then(M=>{if(Q)return Q(new Ts(M,this,this._ref))},R)}on(Q,R,M,w){let A;return R&&(A="function"==typeof R?te=>R(new Ts(te,this,this._ref)):{next:R.next?te=>R.next(new Ts(te,this,this._ref)):void 0,complete:R.complete||void 0,error:R.error||void 0}),this._delegate.on(Q,A,M||void 0,w||void 0)}}class xr{constructor(Q,R){this._delegate=Q,this._service=R}get prefixes(){return this._delegate.prefixes.map(Q=>new ns(Q,this._service))}get items(){return this._delegate.items.map(Q=>new ns(Q,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class ns{constructor(Q,R){this._delegate=Q,this.storage=R}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(Q){const R=function Po(re,Q){return Is(re,Q)}(this._delegate,Q);return new ns(R,this.storage)}get root(){return new ns(this._delegate.root,this.storage)}get parent(){const Q=this._delegate.parent;return null==Q?null:new ns(Q,this.storage)}put(Q,R){return this._throwIfRoot("put"),new io(function jo(re,Q,R){return function Er(re,Q,R){return re._throwIfRoot("uploadBytesResumable"),new Ci(re,new sr(Q),R)}(re=(0,yt.m9)(re),Q,R)}(this._delegate,Q,R),this)}putString(Q,R=Fr.RAW,M){this._throwIfRoot("putString");const w=Ht(R,Q),A=Object.assign({},M);return null==A.contentType&&null!=w.contentType&&(A.contentType=w.contentType),new io(new Ci(this._delegate,new sr(w.data,!0),A),this)}listAll(){return function Os(re){return function Fi(re){const Q={prefixes:[],items:[]};return Ws(re,Q).then(()=>Q)}(re=(0,yt.m9)(re))}(this._delegate).then(Q=>new xr(Q,this.storage))}list(Q){return function is(re,Q){return Bs(re=(0,yt.m9)(re),Q)}(this._delegate,Q||void 0).then(R=>new xr(R,this.storage))}getMetadata(){return function Ds(re){return function Xr(re){re._throwIfRoot("getMetadata");const Q=or(re.storage,re._location,_t());return re.storage.makeRequestWithTokens(Q,St)}(re=(0,yt.m9)(re))}(this._delegate)}updateMetadata(Q){return function ms(re,Q){return function Li(re,Q){re._throwIfRoot("updateMetadata");const R=function Ji(re,Q,R,M){const A=_r(Q.fullServerUrl(),re.host,re._protocol),Ke=kt(R,M),Bt=re.maxOperationRetryTime,Jt=new jt(A,"PATCH",Nn(re,M),Bt);return Jt.headers={"Content-Type":"application/json; charset=utf-8"},Jt.body=Ke,Jt.errorHandler=Lr(Q),Jt}(re.storage,re._location,Q,_t());return re.storage.makeRequestWithTokens(R,St)}(re=(0,yt.m9)(re),Q)}(this._delegate,Q)}getDownloadURL(){return function Ys(re){return Si(re=(0,yt.m9)(re))}(this._delegate)}delete(){return this._throwIfRoot("delete"),function Ns(re){return function Xn(re){re._throwIfRoot("deleteObject");const Q=function Ti(re,Q){const M=_r(Q.fullServerUrl(),re.host,re._protocol),Ke=new jt(M,"DELETE",function te(tt,Bt){},re.maxOperationRetryTime);return Ke.successCodes=[200,204],Ke.errorHandler=Lr(Q),Ke}(re.storage,re._location);return re.storage.makeRequestWithTokens(Q,St)}(re=(0,yt.m9)(re))}(this._delegate)}_throwIfRoot(Q){if(""===this._delegate._location.path)throw xt(Q)}}class Us{constructor(Q,R){this.app=Q,this._delegate=R}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(Q){if(Oi(Q))throw ce("ref() expected a child path but got a URL, use refFromURL instead.");return new ns(hi(this._delegate,Q),this)}refFromURL(Q){if(!Oi(Q))throw ce("refFromURL() expected a full URL but got a child path, use ref() instead.");try{qt.makeFromUrl(Q,this._delegate.host)}catch{throw ce("refFromUrl() expected a valid full URL but got an invalid one.")}return new ns(hi(this._delegate,Q),this)}setMaxUploadRetryTime(Q){this._delegate.maxUploadRetryTime=Q}setMaxOperationRetryTime(Q){this._delegate.maxOperationRetryTime=Q}useEmulator(Q,R,M={}){!function Pi(re,Q,R,M={}){!function Wr(re,Q,R,M={}){re.host=`${Q}:${R}`,re._protocol="http";const{mockUserToken:w}=M;w&&(re._overrideAuthToken="string"==typeof w?w:(0,yt.Sg)(w,re.app.options.projectId))}(re,Q,R,M)}(this._delegate,Q,R,M)}}function Oi(re){return/^[A-Za-z]+:\/\//.test(re)}function fo(re,{instanceIdentifier:Q}){const R=re.getProvider("app-compat").getImmediate(),M=re.getProvider("storage").getImmediate({identifier:Q});return new Us(R,M)}!function T(re){const Q={TaskState:ye,TaskEvent:ee,StringFormat:Fr,Storage:Us,Reference:ns};re.INTERNAL.registerComponent(new Ae.wA("storage-compat",fo,"PUBLIC").setServiceProps(Q).setMultipleInstances(!0)),re.registerVersion("@firebase/storage-compat","0.3.2")}(ge.Z);var X=k(2313),S=k(9260);function ke(re){const Q=function Z(re){return new m.y(Q=>{const R=te=>Q.next(te);R(re.snapshot);const A=re.on("state_changed",R);return re.then(te=>{R(te),Q.complete()},te=>{R(re.snapshot),(te=>{Q.error(te)})(te)}),function(){A()}}).pipe(function he(re,Q=_e.z){return(0,Le.e)((R,M)=>{let w=null,A=null,te=null;const Ke=()=>{if(w){w.unsubscribe(),w=null;const Bt=A;A=null,M.next(Bt)}};function tt(){const Bt=te+re,Jt=Q.now();if(Jt<Bt)return w=this.schedule(void 0,Bt-Jt),void M.add(w);Ke()}R.subscribe((0,Ne.x)(M,Bt=>{A=Bt,te=Q.now(),w||(w=Q.schedule(tt,re),M.add(w))},()=>{Ke(),M.complete()},void 0,()=>{A=w=null}))})}(0))}(re);return{task:re,then:re.then.bind(re),catch:re.catch.bind(re),pause:re.pause.bind(re),cancel:re.cancel.bind(re),resume:re.resume.bind(re),snapshotChanges:()=>Q,percentageChanges:()=>Q.pipe((0,Ie.U)(R=>R.bytesTransferred/R.totalBytes*100))}}function Xt(re){return{getDownloadURL:()=>(0,g.of)(void 0).pipe(Ce.fc,(0,Fe.w)(()=>re.getDownloadURL()),Ce.iC),getMetadata:()=>(0,g.of)(void 0).pipe(Ce.fc,(0,Fe.w)(()=>re.getMetadata()),Ce.iC),delete:()=>(0,le.D)(re.delete()),child:Q=>Xt(re.child(Q)),updateMetadata:Q=>(0,le.D)(re.updateMetadata(Q)),put:(Q,R)=>ke(re.put(Q,R)),putString:(Q,R,M)=>ke(re.putString(Q,R,M)),list:Q=>(0,le.D)(re.list(Q)),listAll:()=>(0,le.D)(re.listAll())}}const jn=new me.OlP("angularfire2.storageBucket"),pr=new me.OlP("angularfire2.storage.maxUploadRetryTime"),Ur=new me.OlP("angularfire2.storage.maxOperationRetryTime"),jr=new me.OlP("angularfire2.storage.use-emulator");let Vi=(()=>{class re{constructor(R,M,w,A,te,Ke,tt,Bt,Jt,wr){const kn=(0,je.on)(R,te,M);this.storage=(0,je.cc)(`${kn.name}.storage.${w}`,"AngularFireStorage",kn.name,()=>{const Ir=te.runOutsideAngular(()=>kn.storage(w||void 0)),Sr=Jt;return Sr&&Ir.useEmulator(...Sr),tt&&Ir.setMaxUploadRetryTime(tt),Bt&&Ir.setMaxOperationRetryTime(Bt),Ir},[tt,Bt])}ref(R){return Xt(this.storage.ref(R))}refFromURL(R){return Xt(this.storage.refFromURL(R))}upload(R,M,w){return Xt(this.storage.ref(R)).put(M,w)}}return re.\u0275fac=function(R){return new(R||re)(me.LFG(je.Dh),me.LFG(je.xv,8),me.LFG(jn,8),me.LFG(me.Lbi),me.LFG(me.R0b),me.LFG(Ce.HU),me.LFG(pr,8),me.LFG(Ur,8),me.LFG(jr,8),me.LFG(X.nm,8))},re.\u0275prov=me.Yz7({token:re,factory:re.\u0275fac,providedIn:"any"}),re})(),fs=(()=>{class re{}return re.\u0275fac=function(R){return new(R||re)},re.\u0275mod=me.oAB({type:re}),re.\u0275inj=me.cJS({}),re})(),js=(()=>{class re{constructor(){S.Z.registerVersion("angularfire",Ce.q4.full,"gcs-compat")}}return re.\u0275fac=function(R){return new(R||re)},re.\u0275mod=me.oAB({type:re}),re.\u0275inj=me.cJS({providers:[Vi],imports:[fs]}),re})()},2011:(vn,ft,k)=>{"use strict";k.d(ft,{Dh:()=>Ie,GT:()=>Ne,Ot:()=>he,cc:()=>ze,hO:()=>ge,on:()=>Ce,pX:()=>Le,xv:()=>Fe});var m=k(2223),g=k(9260),le=k(3324);vn=k.hmd(vn);const _e=["ngOnDestroy"],Le=(De,pt,ct,qe={})=>new Proxy(De,{get:(it,ut)=>ct.runOutsideAngular(()=>{var st;if(De[ut])return!(null===(st=null==qe?void 0:qe.spy)||void 0===st)&&st.get&&qe.spy.get(ut,De[ut]),De[ut];if(_e.indexOf(ut)>-1)return()=>{};const Je=pt.toPromise().then(Ue=>{const Ct=Ue&&Ue[ut];return"function"==typeof Ct?Ct.bind(Ue):Ct&&Ct.then?Ct.then(ot=>ct.run(()=>ot)):ct.run(()=>Ct)});return new Proxy(()=>{},{get:(Ue,Ct)=>Je[Ct],apply:(Ue,Ct,ot)=>Je.then(Et=>{var Tt;const fe=Et&&Et(...ot);return!(null===(Tt=null==qe?void 0:qe.spy)||void 0===Tt)&&Tt.apply&&qe.spy.apply(ut,ot,fe),fe})})})}),Ne=(De,pt)=>{pt.forEach(ct=>{Object.getOwnPropertyNames(ct.prototype||ct).forEach(qe=>{Object.defineProperty(De.prototype,qe,Object.getOwnPropertyDescriptor(ct.prototype||ct,qe))})})};class he{constructor(pt){return pt}}const Ie=new m.OlP("angularfire2.app.options"),Fe=new m.OlP("angularfire2.app.name");function Ce(De,pt,ct){const it="object"==typeof ct&&ct||{};it.name=it.name||"string"==typeof ct&&ct||"[DEFAULT]";const st=g.Z.apps.filter(Je=>Je&&Je.name===it.name)[0]||pt.runOutsideAngular(()=>g.Z.initializeApp(De,it));try{JSON.stringify(De)!==JSON.stringify(st.options)&&me("error",`${st.name} Firebase App already initialized with different options${vn.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new he(st)}const me=(De,...pt)=>{(0,m.X6Q)()&&typeof console<"u"&&console[De](...pt)},je={provide:he,useFactory:Ce,deps:[Ie,m.R0b,[new m.FiY,Fe]]};let ge=(()=>{class De{constructor(ct){g.Z.registerVersion("angularfire",le.q4.full,"core"),g.Z.registerVersion("angularfire",le.q4.full,"app-compat"),g.Z.registerVersion("angular",m.q4F.full,ct.toString())}static initializeApp(ct,qe){return{ngModule:De,providers:[{provide:Ie,useValue:ct},{provide:Fe,useValue:qe}]}}}return De.\u0275fac=function(ct){return new(ct||De)(m.LFG(m.Lbi))},De.\u0275mod=m.oAB({type:De}),De.\u0275inj=m.cJS({providers:[je]}),De})();function ze(De,pt,ct,qe,it){const[,ut,st]=globalThis.\u0275AngularfireInstanceCache.find(Je=>Je[0]===De)||[];if(ut)return function Ze(De,pt){try{return De.toString()===pt.toString()}catch{return De===pt}}(it,st)||(Ae("error",`${pt} was already initialized on the ${ct} Firebase App with different settings.${yt?" You may need to reload as Firebase is not HMR aware.":""}`),Ae("warn",{is:it,was:st})),ut;{const Je=qe();return globalThis.\u0275AngularfireInstanceCache.push([De,Je,it]),Je}}const yt=!!vn.hot,Ae=(De,...pt)=>{(0,m.X6Q)()&&typeof console<"u"&&console[De](...pt)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},89:(vn,ft,k)=>{"use strict";k.d(ft,{gg:()=>ot,ET:()=>Mn,hJ:()=>$t,BS:()=>xt,JU:()=>cr,PL:()=>br,ad:()=>Rn,Xo:()=>Tr,Cm:()=>vt,IO:()=>Yn,pl:()=>z,ar:()=>Wt});var m=k(3324),g=k(2223),le=k(7246),_e=k(3692),Le=k(259),Ne=k(2313),he=k(2810),Ie=k(9751),Fe=k(4004),Ce={includeMetadataChanges:!1};function Ct(kt,Kt){return void 0===Kt&&(Kt={}),function st(kt){return function me(kt,Kt){return void 0===Kt&&(Kt=Ce),new Ie.y(function(an){return{unsubscribe:(0,he.cf)(kt,Kt,{next:an.next.bind(an),error:an.error.bind(an),complete:an.complete.bind(an)})}})}(kt,{includeMetadataChanges:!0}).pipe((0,Fe.U)(function(Kt){return Kt.docs}))}(kt).pipe((0,Fe.U)(function(an){return an.map(function(wt){return function ze(kt,Kt){void 0===Kt&&(Kt={});var an=kt.data();return!kt.exists()||"object"!=typeof an||null===an||Kt.idField&&(an[Kt.idField]=kt.id),an}(wt,Kt)})}))}class ot{constructor(Kt){return Kt}}const Et="firestore",Oe=new g.OlP("angularfire2.firestore-instances");function Qe(kt){return(Kt,an)=>{const wt=Kt.runOutsideAngular(()=>kt(an));return new ot(wt)}}const xe={provide:class Tt{constructor(){return(0,m.vb)(Et)}},deps:[[new g.FiY,Oe]]},Be={provide:ot,useFactory:function Ge(kt,Kt){const an=(0,m.JM)(Et,kt,Kt);return an&&new ot(an)},deps:[[new g.FiY,Oe],_e.Ot]};let We=(()=>{class kt{constructor(){(0,Le.KN)("angularfire",m.q4.full,"fst")}}return kt.\u0275fac=function(an){return new(an||kt)},kt.\u0275mod=g.oAB({type:kt}),kt.\u0275inj=g.cJS({providers:[Be,xe]}),kt})();function vt(kt,...Kt){return{ngModule:We,providers:[{provide:Oe,useFactory:Qe(kt),multi:!0,deps:[g.R0b,g.zs3,m.HU,_e.z6,[new g.FiY,le.dh],[new g.FiY,Ne.nm],...Kt]}]}}const xt=(0,m.u3)(Ct,!0),Mn=(0,m.u3)(he.ET,!0),$t=(0,m.u3)(he.hJ,!0),cr=(0,m.u3)(he.JU,!0),br=(0,m.u3)(he.PL,!0),Rn=(0,m.u3)(he.ad,!0),Tr=(0,m.u3)(he.Xo,!0),Yn=(0,m.u3)(he.IO,!0),z=(0,m.u3)(he.pl,!0),Wt=(0,m.u3)(he.ar,!0)},3324:(vn,ft,k)=>{"use strict";k.d(ft,{q4:()=>xr,iC:()=>re,fc:()=>fs,HU:()=>Ur,vb:()=>ke,JM:()=>Z,nk:()=>S,u3:()=>M});var m=k(2223),g=k(259),le=k(5861),_e=k(6881),Le=k(2090),Ne=k(4859),he=k(1877);k(4727);const Fe="@firebase/remote-config",ze=new Le.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Qe{constructor(A,te,Ke,tt){this.client=A,this.storage=te,this.storageCache=Ke,this.logger=tt}isCachedDataFresh(A,te){if(!te)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const Ke=Date.now()-te,tt=Ke<=A;return this.logger.debug(`Config fetch cache check. Cache age millis: ${Ke}. Cache max age millis (minimumFetchIntervalMillis setting): ${A}. Is cache hit: ${tt}.`),tt}fetch(A){var te=this;return(0,le.Z)(function*(){const[Ke,tt]=yield Promise.all([te.storage.getLastSuccessfulFetchTimestampMillis(),te.storage.getLastSuccessfulFetchResponse()]);if(tt&&te.isCachedDataFresh(A.cacheMaxAgeMillis,Ke))return tt;A.eTag=tt&&tt.eTag;const Bt=yield te.client.fetch(A),Jt=[te.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===Bt.status&&Jt.push(te.storage.setLastSuccessfulFetchResponse(Bt)),yield Promise.all(Jt),Bt})()}}function xe(w=navigator){return w.languages&&w.languages[0]||w.language}class Be{constructor(A,te,Ke,tt,Bt,Jt){this.firebaseInstallations=A,this.sdkVersion=te,this.namespace=Ke,this.projectId=tt,this.apiKey=Bt,this.appId=Jt}fetch(A){var te=this;return(0,le.Z)(function*(){const[Ke,tt]=yield Promise.all([te.firebaseInstallations.getId(),te.firebaseInstallations.getToken()]),Jt=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${te.projectId}/namespaces/${te.namespace}:fetch?key=${te.apiKey}`,wr={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":A.eTag||"*"},kn={sdk_version:te.sdkVersion,app_instance_id:Ke,app_instance_id_token:tt,app_id:te.appId,language_code:xe()},Ir={method:"POST",headers:wr,body:JSON.stringify(kn)},Sr=fetch(Jt,Ir),Cr=new Promise((Ai,ps)=>{A.signal.addEventListener(()=>{const Ho=new Error("The operation was aborted.");Ho.name="AbortError",ps(Ho)})});let Ei;try{yield Promise.race([Sr,Cr]),Ei=yield Sr}catch(Ai){let ps="fetch-client-network";throw"AbortError"===(null==Ai?void 0:Ai.name)&&(ps="fetch-timeout"),ze.create(ps,{originalErrorMessage:null==Ai?void 0:Ai.message})}let Gi=Ei.status;const Di=Ei.headers.get("ETag")||void 0;let Ni,Wi;if(200===Ei.status){let Ai;try{Ai=yield Ei.json()}catch(ps){throw ze.create("fetch-client-parse",{originalErrorMessage:null==ps?void 0:ps.message})}Ni=Ai.entries,Wi=Ai.state}if("INSTANCE_STATE_UNSPECIFIED"===Wi?Gi=500:"NO_CHANGE"===Wi?Gi=304:("NO_TEMPLATE"===Wi||"EMPTY_CONFIG"===Wi)&&(Ni={}),304!==Gi&&200!==Gi)throw ze.create("fetch-status",{httpStatus:Gi});return{status:Gi,eTag:Di,config:Ni}})()}}class ht{constructor(A,te){this.client=A,this.storage=te}fetch(A){var te=this;return(0,le.Z)(function*(){const Ke=(yield te.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return te.attemptFetch(A,Ke)})()}attemptFetch(A,{throttleEndTimeMillis:te,backoffCount:Ke}){var tt=this;return(0,le.Z)(function*(){yield function We(w,A){return new Promise((te,Ke)=>{const tt=Math.max(A-Date.now(),0),Bt=setTimeout(te,tt);w.addEventListener(()=>{clearTimeout(Bt),Ke(ze.create("fetch-throttle",{throttleEndTimeMillis:A}))})})}(A.signal,te);try{const Bt=yield tt.client.fetch(A);return yield tt.storage.deleteThrottleMetadata(),Bt}catch(Bt){if(!function vt(w){if(!(w instanceof Le.ZR&&w.customData))return!1;const A=Number(w.customData.httpStatus);return 429===A||500===A||503===A||504===A}(Bt))throw Bt;const Jt={throttleEndTimeMillis:Date.now()+(0,Le.$s)(Ke),backoffCount:Ke+1};return yield tt.storage.setThrottleMetadata(Jt),tt.attemptFetch(A,Jt)}})()}}class cn{constructor(A,te,Ke,tt,Bt){this.app=A,this._client=te,this._storageCache=Ke,this._storage=tt,this._logger=Bt,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function xt(w,A){const te=w.target.error||void 0;return ze.create(A,{originalErrorMessage:te&&(null==te?void 0:te.message)})}const rt="app_namespace_store";class Mn{constructor(A,te,Ke,tt=function Cn(){return new Promise((w,A)=>{try{const te=indexedDB.open("firebase_remote_config",1);te.onerror=Ke=>{A(xt(Ke,"storage-open"))},te.onsuccess=Ke=>{w(Ke.target.result)},te.onupgradeneeded=Ke=>{0===Ke.oldVersion&&Ke.target.result.createObjectStore(rt,{keyPath:"compositeKey"})}}catch(te){A(ze.create("storage-open",{originalErrorMessage:null==te?void 0:te.message}))}})}()){this.appId=A,this.appName=te,this.namespace=Ke,this.openDbPromise=tt}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(A){return this.set("last_fetch_status",A)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(A){return this.set("last_successful_fetch_timestamp_millis",A)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(A){return this.set("last_successful_fetch_response",A)}getActiveConfig(){return this.get("active_config")}setActiveConfig(A){return this.set("active_config",A)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(A){return this.set("active_config_etag",A)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(A){return this.set("throttle_metadata",A)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(A){var te=this;return(0,le.Z)(function*(){const Ke=yield te.openDbPromise;return new Promise((tt,Bt)=>{const wr=Ke.transaction([rt],"readonly").objectStore(rt),kn=te.createCompositeKey(A);try{const Ir=wr.get(kn);Ir.onerror=Sr=>{Bt(xt(Sr,"storage-get"))},Ir.onsuccess=Sr=>{const Cr=Sr.target.result;tt(Cr?Cr.value:void 0)}}catch(Ir){Bt(ze.create("storage-get",{originalErrorMessage:null==Ir?void 0:Ir.message}))}})})()}set(A,te){var Ke=this;return(0,le.Z)(function*(){const tt=yield Ke.openDbPromise;return new Promise((Bt,Jt)=>{const kn=tt.transaction([rt],"readwrite").objectStore(rt),Ir=Ke.createCompositeKey(A);try{const Sr=kn.put({compositeKey:Ir,value:te});Sr.onerror=Cr=>{Jt(xt(Cr,"storage-set"))},Sr.onsuccess=()=>{Bt()}}catch(Sr){Jt(ze.create("storage-set",{originalErrorMessage:null==Sr?void 0:Sr.message}))}})})()}delete(A){var te=this;return(0,le.Z)(function*(){const Ke=yield te.openDbPromise;return new Promise((tt,Bt)=>{const wr=Ke.transaction([rt],"readwrite").objectStore(rt),kn=te.createCompositeKey(A);try{const Ir=wr.delete(kn);Ir.onerror=Sr=>{Bt(xt(Sr,"storage-delete"))},Ir.onsuccess=()=>{tt()}}catch(Ir){Bt(ze.create("storage-delete",{originalErrorMessage:null==Ir?void 0:Ir.message}))}})})()}createCompositeKey(A){return[this.appId,this.appName,this.namespace,A].join()}}class An{constructor(A){this.storage=A}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var A=this;return(0,le.Z)(function*(){const te=A.storage.getLastFetchStatus(),Ke=A.storage.getLastSuccessfulFetchTimestampMillis(),tt=A.storage.getActiveConfig(),Bt=yield te;Bt&&(A.lastFetchStatus=Bt);const Jt=yield Ke;Jt&&(A.lastSuccessfulFetchTimestampMillis=Jt);const wr=yield tt;wr&&(A.activeConfig=wr)})()}setLastFetchStatus(A){return this.lastFetchStatus=A,this.storage.setLastFetchStatus(A)}setLastSuccessfulFetchTimestampMillis(A){return this.lastSuccessfulFetchTimestampMillis=A,this.storage.setLastSuccessfulFetchTimestampMillis(A)}setActiveConfig(A){return this.activeConfig=A,this.storage.setActiveConfig(A)}}function tr(){return ir.apply(this,arguments)}function ir(){return(ir=(0,le.Z)(function*(){if(!(0,Le.hl)())return!1;try{return yield(0,Le.eu)()}catch{return!1}})).apply(this,arguments)}!function Lt(){(0,_e._registerComponent)(new Ne.wA("remote-config",function w(A,{instanceIdentifier:te}){const Ke=A.getProvider("app").getImmediate(),tt=A.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw ze.create("registration-window");if(!(0,Le.hl)())throw ze.create("indexed-db-unavailable");const{projectId:Bt,apiKey:Jt,appId:wr}=Ke.options;if(!Bt)throw ze.create("registration-project-id");if(!Jt)throw ze.create("registration-api-key");if(!wr)throw ze.create("registration-app-id");const kn=new Mn(wr,Ke.name,te=te||"firebase"),Ir=new An(kn),Sr=new he.Yd(Fe);Sr.logLevel=he.in.ERROR;const Cr=new Be(tt,_e.SDK_VERSION,te,Bt,Jt,wr),Ei=new ht(Cr,kn),Gi=new Qe(Ei,kn,Ir,Sr),Di=new cn(Ke,Gi,Ir,kn,Sr);return function st(w){const A=(0,Le.m9)(w);A._initializePromise||(A._initializePromise=A._storageCache.loadFromStorage().then(()=>{A._isInitializationComplete=!0}))}(Di),Di},"PUBLIC").setMultipleInstances(!0)),(0,_e.registerVersion)(Fe,"0.4.4"),(0,_e.registerVersion)(Fe,"0.4.4","esm2017")}();const fr=(w,A)=>A.some(te=>w instanceof te);let tn,_r;const kr=new WeakMap,$r=new WeakMap,wn=new WeakMap,dn=new WeakMap,Vn=new WeakMap;let qn={get(w,A,te){if(w instanceof IDBTransaction){if("done"===A)return $r.get(w);if("objectStoreNames"===A)return w.objectStoreNames||wn.get(w);if("store"===A)return te.objectStoreNames[1]?void 0:te.objectStore(te.objectStoreNames[0])}return Rn(w[A])},set:(w,A,te)=>(w[A]=te,!0),has:(w,A)=>w instanceof IDBTransaction&&("done"===A||"store"===A)||A in w};function zn(w){return"function"==typeof w?function Dr(w){return w!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Sn(){return _r||(_r=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(w)?function(...A){return w.apply(Fr(this),A),Rn(kr.get(this))}:function(...A){return Rn(w.apply(Fr(this),A))}:function(A,...te){const Ke=w.call(Fr(this),A,...te);return wn.set(Ke,A.sort?A.sort():[A]),Rn(Ke)}}(w):(w instanceof IDBTransaction&&function Rr(w){if($r.has(w))return;const A=new Promise((te,Ke)=>{const tt=()=>{w.removeEventListener("complete",Bt),w.removeEventListener("error",Jt),w.removeEventListener("abort",Jt)},Bt=()=>{te(),tt()},Jt=()=>{Ke(w.error||new DOMException("AbortError","AbortError")),tt()};w.addEventListener("complete",Bt),w.addEventListener("error",Jt),w.addEventListener("abort",Jt)});$r.set(w,A)}(w),fr(w,function cr(){return tn||(tn=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(w,qn):w)}function Rn(w){if(w instanceof IDBRequest)return function Mr(w){const A=new Promise((te,Ke)=>{const tt=()=>{w.removeEventListener("success",Bt),w.removeEventListener("error",Jt)},Bt=()=>{te(Rn(w.result)),tt()},Jt=()=>{Ke(w.error),tt()};w.addEventListener("success",Bt),w.addEventListener("error",Jt)});return A.then(te=>{te instanceof IDBCursor&&kr.set(te,w)}).catch(()=>{}),Vn.set(A,w),A}(w);if(dn.has(w))return dn.get(w);const A=zn(w);return A!==w&&(dn.set(w,A),Vn.set(A,w)),A}const Fr=w=>Vn.get(w);function $n(w,A,{blocked:te,upgrade:Ke,blocking:tt,terminated:Bt}={}){const Jt=indexedDB.open(w,A),wr=Rn(Jt);return Ke&&Jt.addEventListener("upgradeneeded",kn=>{Ke(Rn(Jt.result),kn.oldVersion,kn.newVersion,Rn(Jt.transaction))}),te&&Jt.addEventListener("blocked",()=>te()),wr.then(kn=>{Bt&&kn.addEventListener("close",()=>Bt()),tt&&kn.addEventListener("versionchange",()=>tt())}).catch(()=>{}),wr}function Ht(w,{blocked:A}={}){const te=indexedDB.deleteDatabase(w);return A&&te.addEventListener("blocked",()=>A()),Rn(te).then(()=>{})}const Ee=["get","getKey","getAll","getAllKeys","count"],Ye=["put","add","delete","clear"],Mt=new Map;function Qt(w,A){if(!(w instanceof IDBDatabase)||A in w||"string"!=typeof A)return;if(Mt.get(A))return Mt.get(A);const te=A.replace(/FromIndex$/,""),Ke=A!==te,tt=Ye.includes(te);if(!(te in(Ke?IDBIndex:IDBObjectStore).prototype)||!tt&&!Ee.includes(te))return;const Bt=function(){var Jt=(0,le.Z)(function*(wr,...kn){const Ir=this.transaction(wr,tt?"readwrite":"readonly");let Sr=Ir.store;return Ke&&(Sr=Sr.index(kn.shift())),(yield Promise.all([Sr[te](...kn),tt&&Ir.done]))[0]});return function(kn){return Jt.apply(this,arguments)}}();return Mt.set(A,Bt),Bt}!function br(w){qn=w(qn)}(w=>({...w,get:(A,te,Ke)=>Qt(A,te)||w.get(A,te,Ke),has:(A,te)=>!!Qt(A,te)||w.has(A,te)}));const hn="/firebase-messaging-sw.js",Tr="/firebase-cloud-messaging-push-scope",Yn="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",sr="https://fcmregistrations.googleapis.com/v1",et="google.c.a.c_id",pe="google.c.a.c_l",K="google.c.a.ts";var Re=(()=>((Re=Re||{}).PUSH_RECEIVED="push-received",Re.NOTIFICATION_CLICKED="notification-clicked",Re))();function lt(w){const A=new Uint8Array(w);return btoa(String.fromCharCode(...A)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function $e(w){const te=(w+"=".repeat((4-w.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),Ke=atob(te),tt=new Uint8Array(Ke.length);for(let Bt=0;Bt<Ke.length;++Bt)tt[Bt]=Ke.charCodeAt(Bt);return tt}const _t="fcm_token_details_db",Rt=5,Zt="fcm_token_object_Store";function fn(){return fn=(0,le.Z)(function*(w){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(Bt=>Bt.name).includes(_t))return null;let A=null;return(yield $n(_t,Rt,{upgrade:(Ke=(0,le.Z)(function*(tt,Bt,Jt,wr){var kn;if(Bt<2||!tt.objectStoreNames.contains(Zt))return;const Ir=wr.objectStore(Zt),Sr=yield Ir.index("fcmSenderId").get(w);if(yield Ir.clear(),Sr)if(2===Bt){const Cr=Sr;if(!Cr.auth||!Cr.p256dh||!Cr.endpoint)return;A={token:Cr.fcmToken,createTime:null!==(kn=Cr.createTime)&&void 0!==kn?kn:Date.now(),subscriptionOptions:{auth:Cr.auth,p256dh:Cr.p256dh,endpoint:Cr.endpoint,swScope:Cr.swScope,vapidKey:"string"==typeof Cr.vapidKey?Cr.vapidKey:lt(Cr.vapidKey)}}}else if(3===Bt){const Cr=Sr;A={token:Cr.fcmToken,createTime:Cr.createTime,subscriptionOptions:{auth:lt(Cr.auth),p256dh:lt(Cr.p256dh),endpoint:Cr.endpoint,swScope:Cr.swScope,vapidKey:lt(Cr.vapidKey)}}}else if(4===Bt){const Cr=Sr;A={token:Cr.fcmToken,createTime:Cr.createTime,subscriptionOptions:{auth:lt(Cr.auth),p256dh:lt(Cr.p256dh),endpoint:Cr.endpoint,swScope:Cr.swScope,vapidKey:lt(Cr.vapidKey)}}}}),function(Bt,Jt,wr,kn){return Ke.apply(this,arguments)})})).close(),yield Ht(_t),yield Ht("fcm_vapid_details_db"),yield Ht("undefined"),function kt(w){if(!w||!w.subscriptionOptions)return!1;const{subscriptionOptions:A}=w;return"number"==typeof w.createTime&&w.createTime>0&&"string"==typeof w.token&&w.token.length>0&&"string"==typeof A.auth&&A.auth.length>0&&"string"==typeof A.p256dh&&A.p256dh.length>0&&"string"==typeof A.endpoint&&A.endpoint.length>0&&"string"==typeof A.swScope&&A.swScope.length>0&&"string"==typeof A.vapidKey&&A.vapidKey.length>0}(A)?A:null;var Ke}),fn.apply(this,arguments)}const Kt="firebase-messaging-database",an=1,wt="firebase-messaging-store";let bt=null;function jt(){return bt||(bt=$n(Kt,an,{upgrade:(w,A)=>{0===A&&w.createObjectStore(wt)}})),bt}function mn(w){return Nn.apply(this,arguments)}function Nn(){return Nn=(0,le.Z)(function*(w){const A=or(w),Ke=yield(yield jt()).transaction(wt).objectStore(wt).get(A);if(Ke)return Ke;{const tt=yield function Wt(w){return fn.apply(this,arguments)}(w.appConfig.senderId);if(tt)return yield nr(w,tt),tt}}),Nn.apply(this,arguments)}function nr(w,A){return Qn.apply(this,arguments)}function Qn(){return(Qn=(0,le.Z)(function*(w,A){const te=or(w),tt=(yield jt()).transaction(wt,"readwrite");return yield tt.objectStore(wt).put(A,te),yield tt.done,A})).apply(this,arguments)}function Lr(){return(Lr=(0,le.Z)(function*(w){const A=or(w),Ke=(yield jt()).transaction(wt,"readwrite");yield Ke.objectStore(wt).delete(A),yield Ke.done})).apply(this,arguments)}function or({appConfig:w}){return w.appId}const li=new Le.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function xs(w,A){return Ji.apply(this,arguments)}function Ji(){return(Ji=(0,le.Z)(function*(w,A){const te=yield es(w),Ke=ds(A),tt={method:"POST",headers:te,body:JSON.stringify(Ke)};let Bt;try{Bt=yield(yield fetch(Qr(w.appConfig),tt)).json()}catch(Jt){throw li.create("token-subscribe-failed",{errorInfo:null==Jt?void 0:Jt.toString()})}if(Bt.error)throw li.create("token-subscribe-failed",{errorInfo:Bt.error.message});if(!Bt.token)throw li.create("token-subscribe-no-token");return Bt.token})).apply(this,arguments)}function oi(){return(oi=(0,le.Z)(function*(w,A){const te=yield es(w),Ke=ds(A.subscriptionOptions),tt={method:"PATCH",headers:te,body:JSON.stringify(Ke)};let Bt;try{Bt=yield(yield fetch(`${Qr(w.appConfig)}/${A.token}`,tt)).json()}catch(Jt){throw li.create("token-update-failed",{errorInfo:null==Jt?void 0:Jt.toString()})}if(Bt.error)throw li.create("token-update-failed",{errorInfo:Bt.error.message});if(!Bt.token)throw li.create("token-update-no-token");return Bt.token})).apply(this,arguments)}function ws(w,A){return _i.apply(this,arguments)}function _i(){return(_i=(0,le.Z)(function*(w,A){const Ke={method:"DELETE",headers:yield es(w)};try{const Bt=yield(yield fetch(`${Qr(w.appConfig)}/${A}`,Ke)).json();if(Bt.error)throw li.create("token-unsubscribe-failed",{errorInfo:Bt.error.message})}catch(tt){throw li.create("token-unsubscribe-failed",{errorInfo:null==tt?void 0:tt.toString()})}})).apply(this,arguments)}function Qr({projectId:w}){return`${sr}/projects/${w}/registrations`}function es(w){return rs.apply(this,arguments)}function rs(){return(rs=(0,le.Z)(function*({appConfig:w,installations:A}){const te=yield A.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":w.apiKey,"x-goog-firebase-installations-auth":`FIS ${te}`})})).apply(this,arguments)}function ds({p256dh:w,auth:A,endpoint:te,vapidKey:Ke}){const tt={web:{endpoint:te,auth:A,p256dh:w}};return Ke!==Yn&&(tt.web.applicationPubKey=Ke),tt}const Ps=6048e5;function ee(){return ee=(0,le.Z)(function*(w){const A=yield function gt(w,A){return St.apply(this,arguments)}(w.swRegistration,w.vapidKey),te={vapidKey:w.vapidKey,swScope:w.swRegistration.scope,endpoint:A.endpoint,auth:lt(A.getKey("auth")),p256dh:lt(A.getKey("p256dh"))},Ke=yield mn(w.firebaseDependencies);if(Ke){if(function gn(w,A){return A.vapidKey===w.vapidKey&&A.endpoint===w.endpoint&&A.auth===w.auth&&A.p256dh===w.p256dh}(Ke.subscriptionOptions,te))return Date.now()>=Ke.createTime+Ps?function G(w,A){return ie.apply(this,arguments)}(w,{token:Ke.token,createTime:Date.now(),subscriptionOptions:te}):Ke.token;try{yield ws(w.firebaseDependencies,Ke.token)}catch(tt){console.warn(tt)}return He(w.firebaseDependencies,te)}return He(w.firebaseDependencies,te)}),ee.apply(this,arguments)}function oe(){return oe=(0,le.Z)(function*(w){const A=yield mn(w.firebaseDependencies);A&&(yield ws(w.firebaseDependencies,A.token),yield function Hr(w){return Lr.apply(this,arguments)}(w.firebaseDependencies));const te=yield w.swRegistration.pushManager.getSubscription();return!te||te.unsubscribe()}),oe.apply(this,arguments)}function ie(){return ie=(0,le.Z)(function*(w,A){try{const te=yield function Ti(w,A){return oi.apply(this,arguments)}(w.firebaseDependencies,A),Ke=Object.assign(Object.assign({},A),{token:te,createTime:Date.now()});return yield nr(w.firebaseDependencies,Ke),te}catch(te){throw yield function ye(w){return oe.apply(this,arguments)}(w),te}}),ie.apply(this,arguments)}function He(w,A){return nt.apply(this,arguments)}function nt(){return(nt=(0,le.Z)(function*(w,A){const Ke={token:yield xs(w,A),createTime:Date.now(),subscriptionOptions:A};return yield nr(w,Ke),Ke.token})).apply(this,arguments)}function St(){return(St=(0,le.Z)(function*(w,A){return(yield w.pushManager.getSubscription())||w.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:$e(A)})})).apply(this,arguments)}function En(w){const A={from:w.from,collapseKey:w.collapse_key,messageId:w.fcmMessageId};return function Wn(w,A){if(!A.notification)return;w.notification={};const te=A.notification.title;te&&(w.notification.title=te);const Ke=A.notification.body;Ke&&(w.notification.body=Ke);const tt=A.notification.image;tt&&(w.notification.image=tt);const Bt=A.notification.icon;Bt&&(w.notification.icon=Bt)}(A,w),function vr(w,A){A.data&&(w.data=A.data)}(A,w),function Ci(w,A){var te,Ke,tt,Bt,Jt;if(!(A.fcmOptions||null!==(te=A.notification)&&void 0!==te&&te.click_action))return;w.fcmOptions={};const wr=null!==(tt=null===(Ke=A.fcmOptions)||void 0===Ke?void 0:Ke.link)&&void 0!==tt?tt:null===(Bt=A.notification)||void 0===Bt?void 0:Bt.click_action;wr&&(w.fcmOptions.link=wr);const kn=null===(Jt=A.fcmOptions)||void 0===Jt?void 0:Jt.analytics_label;kn&&(w.fcmOptions.analyticsLabel=kn)}(A,w),A}function qi(w,A){const te=[];for(let Ke=0;Ke<w.length;Ke++)te.push(w.charAt(Ke)),Ke<A.length&&te.push(A.charAt(Ke));return te.join("")}function Dn(w){return li.create("missing-app-config-values",{valueName:w})}qi("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),qi("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Er{constructor(A,te,Ke){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const tt=function qr(w){if(!w||!w.options)throw Dn("App Configuration Object");if(!w.name)throw Dn("App Name");const A=["projectId","apiKey","appId","messagingSenderId"],{options:te}=w;for(const Ke of A)if(!te[Ke])throw Dn(Ke);return{appName:w.name,projectId:te.projectId,apiKey:te.apiKey,appId:te.appId,senderId:te.messagingSenderId}}(A);this.firebaseDependencies={app:A,appConfig:tt,installations:te,analyticsProvider:Ke}}_delete(){return Promise.resolve()}}function Fi(){return(Fi=(0,le.Z)(function*(w){try{w.swRegistration=yield navigator.serviceWorker.register(hn,{scope:Tr}),w.swRegistration.update().catch(()=>{})}catch(A){throw li.create("failed-service-worker-registration",{browserErrorMessage:null==A?void 0:A.message})}})).apply(this,arguments)}function bi(){return(bi=(0,le.Z)(function*(w,A){if(!A&&!w.swRegistration&&(yield function Yr(w){return Fi.apply(this,arguments)}(w)),A||!w.swRegistration){if(!(A instanceof ServiceWorkerRegistration))throw li.create("invalid-sw-registration");w.swRegistration=A}})).apply(this,arguments)}function Xr(){return(Xr=(0,le.Z)(function*(w,A){A?w.vapidKey=A:w.vapidKey||(w.vapidKey=Yn)})).apply(this,arguments)}function Si(){return Si=(0,le.Z)(function*(w,A){if(!navigator)throw li.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw li.create("permission-blocked");return yield function Bs(w,A){return Xr.apply(this,arguments)}(w,null==A?void 0:A.vapidKey),yield function Ws(w,A){return bi.apply(this,arguments)}(w,null==A?void 0:A.serviceWorkerRegistration),function W(w){return ee.apply(this,arguments)}(w)}),Si.apply(this,arguments)}function Is(){return(Is=(0,le.Z)(function*(w,A,te){const Ke=function $s(w){switch(w){case Re.NOTIFICATION_CLICKED:return"notification_open";case Re.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(A);(yield w.firebaseDependencies.analyticsProvider.get()).logEvent(Ke,{message_id:te[et],message_name:te[pe],message_time:te[K],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function ar(){return ar=(0,le.Z)(function*(w,A){const te=A.data;if(!te.isFirebaseMessaging)return;w.onMessageHandler&&te.messageType===Re.PUSH_RECEIVED&&("function"==typeof w.onMessageHandler?w.onMessageHandler(En(te)):w.onMessageHandler.next(En(te)));const Ke=te.data;(function ii(w){return"object"==typeof w&&!!w&&et in w})(Ke)&&"1"===Ke["google.c.a.e"]&&(yield function Xn(w,A,te){return Is.apply(this,arguments)}(w,te.messageType,Ke))}),ar.apply(this,arguments)}const mr="@firebase/messaging",Wr=w=>{const A=new Er(w.getProvider("app").getImmediate(),w.getProvider("installations-internal").getImmediate(),w.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",te=>function Un(w,A){return ar.apply(this,arguments)}(A,te)),A},Cs=w=>{const A=w.getProvider("messaging").getImmediate();return{getToken:Ke=>function Li(w,A){return Si.apply(this,arguments)}(A,Ke)}};function ts(){return bs.apply(this,arguments)}function bs(){return(bs=(0,le.Z)(function*(){try{yield(0,Le.eu)()}catch{return!1}return typeof window<"u"&&(0,Le.hl)()&&(0,Le.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Ks(){(0,_e._registerComponent)(new Ne.wA("messaging",Wr,"PUBLIC")),(0,_e._registerComponent)(new Ne.wA("messaging-internal",Cs,"PRIVATE")),(0,_e.registerVersion)(mr,"0.12.4"),(0,_e.registerVersion)(mr,"0.12.4","esm2017")}();var Ys=k(5132),Ns=k(4408),Po=k(7565);const Pi=new class Hi extends Po.v{}(class hi extends Ns.o{constructor(A,te){super(A,te),this.scheduler=A,this.work=te}schedule(A,te=0){return te>0?super.schedule(A,te):(this.delay=te,this.state=A,this.scheduler.flush(this),this)}execute(A,te){return te>0||this.closed?super.execute(A,te):this._execute(A,te)}requestAsyncId(A,te,Ke=0){return null!=Ke&&Ke>0||null==Ke&&this.delay>0?super.requestAsyncId(A,te,Ke):(A.flush(this),0)}});var So=k(4986),ro=k(9751),Vs=k(8505),Ts=k(5363),io=k(9468);const xr=new m.GfV("7.6.1"),ns="__angularfire_symbol__analyticsIsSupportedValue",Us="__angularfire_symbol__analyticsIsSupported",Oi="__angularfire_symbol__remoteConfigIsSupportedValue",hs="__angularfire_symbol__remoteConfigIsSupported",ys="__angularfire_symbol__messagingIsSupportedValue",vs="__angularfire_symbol__messagingIsSupported";globalThis[Us]||(globalThis[Us]=(0,Ys.Gb)().then(w=>globalThis[ns]=w).catch(()=>globalThis[ns]=!1)),globalThis[vs]||(globalThis[vs]=ts().then(w=>globalThis[ys]=w).catch(()=>globalThis[ys]=!1)),globalThis[hs]||(globalThis[hs]=tr().then(w=>globalThis[Oi]=w).catch(()=>globalThis[Oi]=!1));const S={async:()=>globalThis[Us],sync:()=>{const w=globalThis[ns];if(void 0===w)throw new Error((w=>`The APP_INITIALIZER that is "making" isSupported() sync for the sake of convenient DI has not resolved in this\ncontext. Rather than injecting ${w} in the constructor, first ensure that ${w} is supported by calling\n\`await isSupported()\`, then retrieve the instance from the injector manually \`injector.get(${w})\`.`)("Analytics"));return w}};function Z(w,A,te){if(A){if(1===A.length)return A[0];const Bt=A.filter(Jt=>Jt.app===te);if(1===Bt.length)return Bt[0]}return te.container.getProvider(w).getImmediate({optional:!0})}const ke=(w,A)=>{const te=A?[A]:(0,g.C6)(),Ke=[];return te.forEach(tt=>{tt.container.getProvider(w).instances.forEach(Jt=>{Ke.includes(Jt)||Ke.push(Jt)})}),Ke};function Xt(){}class jn{constructor(A,te=Pi){this.zone=A,this.delegate=te}now(){return this.delegate.now()}schedule(A,te,Ke){const tt=this.zone;return this.delegate.schedule(function(Jt){tt.runGuarded(()=>{A.apply(this,[Jt])})},te,Ke)}}class pr{constructor(A){this.zone=A,this.task=null}call(A,te){const Ke=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Xt,{},Xt,Xt)),te.pipe((0,Vs.b)({next:Ke,complete:Ke,error:Ke})).subscribe(A).add(Ke)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Ur=(()=>{class w{constructor(te){this.ngZone=te,this.outsideAngular=te.runOutsideAngular(()=>new jn(Zone.current)),this.insideAngular=te.run(()=>new jn(Zone.current,So.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return w.\u0275fac=function(te){return new(te||w)(m.LFG(m.R0b))},w.\u0275prov=m.Yz7({token:w,factory:w.\u0275fac,providedIn:"root"}),w})();function jr(){const w=globalThis.\u0275AngularFireScheduler;if(!w)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return w}function zi(w){return jr().ngZone.run(()=>w())}function fs(w){return w.pipe((0,Ts.Q)(jr().outsideAngular))}function re(w){return jr(),function Q(w){return function(te){return(te=te.lift(new pr(w.ngZone))).pipe((0,io.R)(w.outsideAngular),(0,Ts.Q)(w.insideAngular))}}(jr())(w)}const R=(w,A)=>function(){const Ke=arguments;return A&&setTimeout(()=>{"scheduled"===A.state&&A.invoke()},10),zi(()=>w.apply(void 0,Ke))},M=(w,A)=>function(){let te;const Ke=arguments;for(let Bt=0;Bt<arguments.length;Bt++)"function"==typeof Ke[Bt]&&(A&&(te||(te=zi(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Xt,{},Xt,Xt)))),Ke[Bt]=R(Ke[Bt],te));const tt=function Vi(w){return jr().ngZone.runOutsideAngular(()=>w())}(()=>w.apply(this,Ke));if(!A){if(tt instanceof ro.y){const Bt=jr();return tt.pipe((0,io.R)(Bt.outsideAngular),(0,Ts.Q)(Bt.insideAngular))}return zi(()=>tt)}return tt instanceof ro.y?tt.pipe(re):tt instanceof Promise?zi(()=>new Promise((Bt,Jt)=>tt.then(wr=>zi(()=>Bt(wr)),wr=>zi(()=>Jt(wr))))):"function"==typeof tt&&te?function(){return setTimeout(()=>{te&&"scheduled"===te.state&&te.invoke()},10),tt.apply(this,arguments)}:zi(()=>tt)}},1389:(vn,ft,k)=>{"use strict";k.d(ft,{$:()=>jr,A:()=>me,D:()=>ze,I:()=>Ps,J:()=>G,L:()=>Un,N:()=>Yn,P:()=>Sc,Q:()=>is,R:()=>Pe,U:()=>hi,V:()=>Po,W:()=>Hi,X:()=>Ns,Y:()=>ro,Z:()=>Vs,_:()=>Us,a:()=>bl,a0:()=>zi,a1:()=>js,a2:()=>M,a3:()=>Bt,a4:()=>wr,a5:()=>Ir,a6:()=>Cr,a7:()=>Gi,a8:()=>Ni,a9:()=>Ai,aA:()=>Ue,aB:()=>Al,aC:()=>hn,aD:()=>sr,aE:()=>wa,aF:()=>Qs,aG:()=>ju,aH:()=>Qr,aL:()=>jl,aO:()=>ho,aa:()=>ps,ab:()=>Hs,ac:()=>vl,ad:()=>Ao,ae:()=>Ki,af:()=>$l,ai:()=>ra,aj:()=>wl,ak:()=>Oo,an:()=>fo,ao:()=>Cl,aq:()=>ki,ar:()=>rr,as:()=>ot,at:()=>Rt,au:()=>lt,av:()=>qe,aw:()=>Pc,ax:()=>Ml,ay:()=>Zt,az:()=>it,b:()=>Yo,c:()=>$p,d:()=>Mc,e:()=>ph,f:()=>hu,g:()=>Go,h:()=>Rc,i:()=>oo,j:()=>Sl,k:()=>Oc,l:()=>Br,m:()=>jp,o:()=>Ql,p:()=>Ie,r:()=>ls,s:()=>en,u:()=>Tl});var m=k(5861),g=k(2090),le=k(6881),_e=k(655),Le=k(1877),Ne=k(4859);const Ie={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},me={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const ze=function je(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend."}},Ze=function ge(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},yt=new g.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),De=new Le.Yd("@firebase/auth");function ct(P,..._){De.logLevel<=Le.in.ERROR&&De.error(`Auth (${le.SDK_VERSION}): ${P}`,..._)}function qe(P,..._){throw Je(P,..._)}function it(P,..._){return Je(P,..._)}function ut(P,_,I){const L=Object.assign(Object.assign({},Ze()),{[_]:I});return new g.LL("auth","Firebase",L).create(_,{appName:P.name})}function st(P,_,I){if(!(_ instanceof I))throw I.name!==_.constructor.name&&qe(P,"argument-error"),ut(P,"argument-error",`Type of ${_.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Je(P,..._){if("string"!=typeof P){const I=_[0],L=[..._.slice(1)];return L[0]&&(L[0].appName=P.name),P._errorFactory.create(I,...L)}return yt.create(P,..._)}function Ue(P,_,...I){if(!P)throw Je(_,...I)}function Ct(P){const _="INTERNAL ASSERTION FAILED: "+P;throw ct(_),new Error(_)}function ot(P,_){P||Ct(_)}function Et(){var P;return typeof self<"u"&&(null===(P=self.location)||void 0===P?void 0:P.href)||""}function Tt(){return"http:"===fe()||"https:"===fe()}function fe(){var P;return typeof self<"u"&&(null===(P=self.location)||void 0===P?void 0:P.protocol)||null}class Qe{constructor(_,I){this.shortDelay=_,this.longDelay=I,ot(I>_,"Short delay should be less than long delay!"),this.isMobile=(0,g.uI)()||(0,g.b$)()}get(){return function Oe(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Tt()||(0,g.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function xe(P,_){ot(P.emulator,"Emulator should always be set here");const{url:I}=P.emulator;return _?`${I}${_.startsWith("/")?_.slice(1):_}`:I}class Be{static initialize(_,I,L){this.fetchImpl=_,I&&(this.headersImpl=I),L&&(this.responseImpl=L)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void Ct("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void Ct("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void Ct("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const We={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},vt=new Qe(3e4,6e4);function ht(P,_){return P.tenantId&&!_.tenantId?Object.assign(Object.assign({},_),{tenantId:P.tenantId}):_}function Pt(P,_,I,L){return ce.apply(this,arguments)}function ce(){return(ce=(0,m.Z)(function*(P,_,I,L,de={}){return cn(P,de,(0,m.Z)(function*(){let Se={},At={};L&&("GET"===_?At=L:Se={body:JSON.stringify(L)});const Yt=(0,g.xO)(Object.assign({key:P.config.apiKey},At)).slice(1),xn=yield P._getAdditionalHeaders();return xn["Content-Type"]="application/json",P.languageCode&&(xn["X-Firebase-Locale"]=P.languageCode),Be.fetch()(qt(P,P.config.apiHost,I,Yt),Object.assign({method:_,headers:xn,referrerPolicy:"no-referrer"},Se))}))})).apply(this,arguments)}function cn(P,_,I){return xt.apply(this,arguments)}function xt(){return(xt=(0,m.Z)(function*(P,_,I){P._canInitEmulator=!1;const L=Object.assign(Object.assign({},We),_);try{const de=new Cn(P),Se=yield Promise.race([I(),de.promise]);de.clearNetworkTimeout();const At=yield Se.json();if("needConfirmation"in At)throw Mn(P,"account-exists-with-different-credential",At);if(Se.ok&&!("errorMessage"in At))return At;{const Yt=Se.ok?At.errorMessage:At.error.message,[xn,Kn]=Yt.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===xn)throw Mn(P,"credential-already-in-use",At);if("EMAIL_EXISTS"===xn)throw Mn(P,"email-already-in-use",At);if("USER_DISABLED"===xn)throw Mn(P,"user-disabled",At);const Or=L[xn]||xn.toLowerCase().replace(/[_\s]+/g,"-");if(Kn)throw ut(P,Or,Kn);qe(P,Or)}}catch(de){if(de instanceof g.ZR)throw de;qe(P,"network-request-failed",{message:String(de)})}})).apply(this,arguments)}function rt(P,_,I,L){return Ft.apply(this,arguments)}function Ft(){return(Ft=(0,m.Z)(function*(P,_,I,L,de={}){const Se=yield Pt(P,_,I,L,de);return"mfaPendingCredential"in Se&&qe(P,"multi-factor-auth-required",{_serverResponse:Se}),Se})).apply(this,arguments)}function qt(P,_,I,L){const de=`${_}${I}?${L}`;return P.config.emulator?xe(P.config,de):`${P.config.apiScheme}://${de}`}class Cn{constructor(_){this.auth=_,this.timer=null,this.promise=new Promise((I,L)=>{this.timer=setTimeout(()=>L(it(this.auth,"network-request-failed")),vt.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Mn(P,_,I){const L={appName:P.name};I.email&&(L.email=I.email),I.phoneNumber&&(L.phoneNumber=I.phoneNumber);const de=it(P,_,L);return de.customData._tokenResponse=I,de}function Lt(){return(Lt=(0,m.Z)(function*(P,_){return Pt(P,"POST","/v1/accounts:delete",_)})).apply(this,arguments)}function $t(){return($t=(0,m.Z)(function*(P,_){return Pt(P,"POST","/v1/accounts:update",_)})).apply(this,arguments)}function ir(){return(ir=(0,m.Z)(function*(P,_){return Pt(P,"POST","/v1/accounts:lookup",_)})).apply(this,arguments)}function fr(P){if(P)try{const _=new Date(Number(P));if(!isNaN(_.getTime()))return _.toUTCString()}catch{}}function cr(){return(cr=(0,m.Z)(function*(P,_=!1){const I=(0,g.m9)(P),L=yield I.getIdToken(_),de=kr(L);Ue(de&&de.exp&&de.auth_time&&de.iat,I.auth,"internal-error");const Se="object"==typeof de.firebase?de.firebase:void 0,At=null==Se?void 0:Se.sign_in_provider;return{claims:de,token:L,authTime:fr(Sn(de.auth_time)),issuedAtTime:fr(Sn(de.iat)),expirationTime:fr(Sn(de.exp)),signInProvider:At||null,signInSecondFactor:(null==Se?void 0:Se.sign_in_second_factor)||null}})).apply(this,arguments)}function Sn(P){return 1e3*Number(P)}function kr(P){const[_,I,L]=P.split(".");if(void 0===_||void 0===I||void 0===L)return ct("JWT malformed, contained fewer than 3 sections"),null;try{const de=(0,g.tV)(I);return de?JSON.parse(de):(ct("Failed to decode base64 JWT payload"),null)}catch(de){return ct("Caught error parsing JWT payload as JSON",null==de?void 0:de.toString()),null}}function wn(P,_){return dn.apply(this,arguments)}function dn(){return(dn=(0,m.Z)(function*(P,_,I=!1){if(I)return _;try{return yield _}catch(L){throw L instanceof g.ZR&&function Vn({code:P}){return"auth/user-disabled"===P||"auth/user-token-expired"===P}(L)&&P.auth.currentUser===P&&(yield P.auth.signOut()),L}})).apply(this,arguments)}class Mr{constructor(_){this.user=_,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(_){var I;if(_){const L=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),L}{this.errorBackoff=3e4;const de=(null!==(I=this.user.stsTokenManager.expirationTime)&&void 0!==I?I:0)-Date.now()-3e5;return Math.max(0,de)}}schedule(_=!1){var I=this;if(!this.isRunning)return;const L=this.getInterval(_);this.timerId=setTimeout((0,m.Z)(function*(){yield I.iteration()}),L)}iteration(){var _=this;return(0,m.Z)(function*(){try{yield _.user.getIdToken(!0)}catch(I){return void("auth/network-request-failed"===(null==I?void 0:I.code)&&_.schedule(!0))}_.schedule()})()}}class Rr{constructor(_,I){this.createdAt=_,this.lastLoginAt=I,this._initializeTime()}_initializeTime(){this.lastSignInTime=fr(this.lastLoginAt),this.creationTime=fr(this.createdAt)}_copy(_){this.createdAt=_.createdAt,this.lastLoginAt=_.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function qn(P){return br.apply(this,arguments)}function br(){return br=(0,m.Z)(function*(P){var _;const I=P.auth,L=yield P.getIdToken(),de=yield wn(P,function tr(P,_){return ir.apply(this,arguments)}(I,{idToken:L}));Ue(null==de?void 0:de.users.length,I,"internal-error");const Se=de.users[0];P._notifyReloadListener(Se);const At=null!==(_=Se.providerUserInfo)&&void 0!==_&&_.length?function Fr(P){return P.map(_=>{var{providerId:I}=_,L=(0,_e._T)(_,["providerId"]);return{providerId:I,uid:L.rawId||"",displayName:L.displayName||null,email:L.email||null,phoneNumber:L.phoneNumber||null,photoURL:L.photoUrl||null}})}(Se.providerUserInfo):[],Yt=function Rn(P,_){return[...P.filter(L=>!_.some(de=>de.providerId===L.providerId)),..._]}(P.providerData,At),Or=!!P.isAnonymous&&!(P.email&&Se.passwordHash||null!=Yt&&Yt.length),pi={uid:Se.localId,displayName:Se.displayName||null,photoURL:Se.photoUrl||null,email:Se.email||null,emailVerified:Se.emailVerified||!1,phoneNumber:Se.phoneNumber||null,tenantId:Se.tenantId||null,providerData:Yt,metadata:new Rr(Se.createdAt,Se.lastLoginAt),isAnonymous:Or};Object.assign(P,pi)}),br.apply(this,arguments)}function zn(){return(zn=(0,m.Z)(function*(P){const _=(0,g.m9)(P);yield qn(_),yield _.auth._persistUserIfCurrent(_),_.auth._notifyListenersIfCurrent(_)})).apply(this,arguments)}function Ht(){return(Ht=(0,m.Z)(function*(P,_){const I=yield cn(P,{},(0,m.Z)(function*(){const L=(0,g.xO)({grant_type:"refresh_token",refresh_token:_}).slice(1),{tokenApiHost:de,apiKey:Se}=P.config,At=qt(P,de,"/v1/token",`key=${Se}`),Yt=yield P._getAdditionalHeaders();return Yt["Content-Type"]="application/x-www-form-urlencoded",Be.fetch()(At,{method:"POST",headers:Yt,body:L})}));return{accessToken:I.access_token,expiresIn:I.expires_in,refreshToken:I.refresh_token}})).apply(this,arguments)}class Ee{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(_){Ue(_.idToken,"internal-error"),Ue(typeof _.idToken<"u","internal-error"),Ue(typeof _.refreshToken<"u","internal-error");const I="expiresIn"in _&&typeof _.expiresIn<"u"?Number(_.expiresIn):function $r(P){const _=kr(P);return Ue(_,"internal-error"),Ue(typeof _.exp<"u","internal-error"),Ue(typeof _.iat<"u","internal-error"),Number(_.exp)-Number(_.iat)}(_.idToken);this.updateTokensAndExpiration(_.idToken,_.refreshToken,I)}getToken(_,I=!1){var L=this;return(0,m.Z)(function*(){return Ue(!L.accessToken||L.refreshToken,_,"user-token-expired"),I||!L.accessToken||L.isExpired?L.refreshToken?(yield L.refresh(_,L.refreshToken),L.accessToken):null:L.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(_,I){var L=this;return(0,m.Z)(function*(){const{accessToken:de,refreshToken:Se,expiresIn:At}=yield function $n(P,_){return Ht.apply(this,arguments)}(_,I);L.updateTokensAndExpiration(de,Se,Number(At))})()}updateTokensAndExpiration(_,I,L){this.refreshToken=I||null,this.accessToken=_||null,this.expirationTime=Date.now()+1e3*L}static fromJSON(_,I){const{refreshToken:L,accessToken:de,expirationTime:Se}=I,At=new Ee;return L&&(Ue("string"==typeof L,"internal-error",{appName:_}),At.refreshToken=L),de&&(Ue("string"==typeof de,"internal-error",{appName:_}),At.accessToken=de),Se&&(Ue("number"==typeof Se,"internal-error",{appName:_}),At.expirationTime=Se),At}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(_){this.accessToken=_.accessToken,this.refreshToken=_.refreshToken,this.expirationTime=_.expirationTime}_clone(){return Object.assign(new Ee,this.toJSON())}_performRefresh(){return Ct("not implemented")}}function Ye(P,_){Ue("string"==typeof P||typeof P>"u","internal-error",{appName:_})}class Mt{constructor(_){var{uid:I,auth:L,stsTokenManager:de}=_,Se=(0,_e._T)(_,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Mr(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=I,this.auth=L,this.stsTokenManager=de,this.accessToken=de.accessToken,this.displayName=Se.displayName||null,this.email=Se.email||null,this.emailVerified=Se.emailVerified||!1,this.phoneNumber=Se.phoneNumber||null,this.photoURL=Se.photoURL||null,this.isAnonymous=Se.isAnonymous||!1,this.tenantId=Se.tenantId||null,this.providerData=Se.providerData?[...Se.providerData]:[],this.metadata=new Rr(Se.createdAt||void 0,Se.lastLoginAt||void 0)}getIdToken(_){var I=this;return(0,m.Z)(function*(){const L=yield wn(I,I.stsTokenManager.getToken(I.auth,_));return Ue(L,I.auth,"internal-error"),I.accessToken!==L&&(I.accessToken=L,yield I.auth._persistUserIfCurrent(I),I.auth._notifyListenersIfCurrent(I)),L})()}getIdTokenResult(_){return function _r(P){return cr.apply(this,arguments)}(this,_)}reload(){return function Dr(P){return zn.apply(this,arguments)}(this)}_assign(_){this!==_&&(Ue(this.uid===_.uid,this.auth,"internal-error"),this.displayName=_.displayName,this.photoURL=_.photoURL,this.email=_.email,this.emailVerified=_.emailVerified,this.phoneNumber=_.phoneNumber,this.isAnonymous=_.isAnonymous,this.tenantId=_.tenantId,this.providerData=_.providerData.map(I=>Object.assign({},I)),this.metadata._copy(_.metadata),this.stsTokenManager._assign(_.stsTokenManager))}_clone(_){const I=new Mt(Object.assign(Object.assign({},this),{auth:_,stsTokenManager:this.stsTokenManager._clone()}));return I.metadata._copy(this.metadata),I}_onReload(_){Ue(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=_,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(_){this.reloadListener?this.reloadListener(_):this.reloadUserInfo=_}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(_,I=!1){var L=this;return(0,m.Z)(function*(){let de=!1;_.idToken&&_.idToken!==L.stsTokenManager.accessToken&&(L.stsTokenManager.updateFromServerResponse(_),de=!0),I&&(yield qn(L)),yield L.auth._persistUserIfCurrent(L),de&&L.auth._notifyListenersIfCurrent(L)})()}delete(){var _=this;return(0,m.Z)(function*(){const I=yield _.getIdToken();return yield wn(_,function An(P,_){return Lt.apply(this,arguments)}(_.auth,{idToken:I})),_.stsTokenManager.clearRefreshToken(),_.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(_=>Object.assign({},_)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(_,I){var L,de,Se,At,Yt,xn,Kn,Or;const pi=null!==(L=I.displayName)&&void 0!==L?L:void 0,mo=null!==(de=I.email)&&void 0!==de?de:void 0,Xl=null!==(Se=I.phoneNumber)&&void 0!==Se?Se:void 0,kc=null!==(At=I.photoURL)&&void 0!==At?At:void 0,ua=null!==(Yt=I.tenantId)&&void 0!==Yt?Yt:void 0,Qu=null!==(xn=I._redirectEventId)&&void 0!==xn?xn:void 0,yo=null!==(Kn=I.createdAt)&&void 0!==Kn?Kn:void 0,Xu=null!==(Or=I.lastLoginAt)&&void 0!==Or?Or:void 0,{uid:ll,emailVerified:Ca,isAnonymous:ja,providerData:Ju,stsTokenManager:ec}=I;Ue(ll&&ec,_,"internal-error");const wh=Ee.fromJSON(this.name,ec);Ue("string"==typeof ll,_,"internal-error"),Ye(pi,_.name),Ye(mo,_.name),Ue("boolean"==typeof Ca,_,"internal-error"),Ue("boolean"==typeof ja,_,"internal-error"),Ye(Xl,_.name),Ye(kc,_.name),Ye(ua,_.name),Ye(Qu,_.name),Ye(yo,_.name),Ye(Xu,_.name);const Fc=new Mt({uid:ll,auth:_,email:mo,emailVerified:Ca,displayName:pi,isAnonymous:ja,photoURL:kc,phoneNumber:Xl,tenantId:ua,stsTokenManager:wh,createdAt:yo,lastLoginAt:Xu});return Ju&&Array.isArray(Ju)&&(Fc.providerData=Ju.map(si=>Object.assign({},si))),Qu&&(Fc._redirectEventId=Qu),Fc}static _fromIdTokenResponse(_,I,L=!1){return(0,m.Z)(function*(){const de=new Ee;de.updateFromServerResponse(I);const Se=new Mt({uid:I.localId,auth:_,stsTokenManager:de,isAnonymous:L});return yield qn(Se),Se})()}}const Qt=new Map;function hn(P){ot(P instanceof Function,"Expected a class definition");let _=Qt.get(P);return _?(ot(_ instanceof P,"Instance stored in cache mismatched with class"),_):(_=new P,Qt.set(P,_),_)}const Yn=(()=>{class P{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,m.Z)(function*(){return!0})()}_set(I,L){var de=this;return(0,m.Z)(function*(){de.storage[I]=L})()}_get(I){var L=this;return(0,m.Z)(function*(){const de=L.storage[I];return void 0===de?null:de})()}_remove(I){var L=this;return(0,m.Z)(function*(){delete L.storage[I]})()}_addListener(I,L){}_removeListener(I,L){}}return P.type="NONE",P})();function sr(P,_,I){return`firebase:${P}:${_}:${I}`}class et{constructor(_,I,L){this.persistence=_,this.auth=I,this.userKey=L;const{config:de,name:Se}=this.auth;this.fullUserKey=sr(this.userKey,de.apiKey,Se),this.fullPersistenceKey=sr("persistence",de.apiKey,Se),this.boundEventHandler=I._onStorageEvent.bind(I),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(_){return this.persistence._set(this.fullUserKey,_.toJSON())}getCurrentUser(){var _=this;return(0,m.Z)(function*(){const I=yield _.persistence._get(_.fullUserKey);return I?Mt._fromJSON(_.auth,I):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(_){var I=this;return(0,m.Z)(function*(){if(I.persistence===_)return;const L=yield I.getCurrentUser();return yield I.removeCurrentUser(),I.persistence=_,L?I.setCurrentUser(L):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(_,I,L="authUser"){return(0,m.Z)(function*(){if(!I.length)return new et(hn(Yn),_,L);const de=(yield Promise.all(I.map(function(){var Kn=(0,m.Z)(function*(Or){if(yield Or._isAvailable())return Or});return function(Or){return Kn.apply(this,arguments)}}()))).filter(Kn=>Kn);let Se=de[0]||hn(Yn);const At=sr(L,_.config.apiKey,_.name);let Yt=null;for(const Kn of I)try{const Or=yield Kn._get(At);if(Or){const pi=Mt._fromJSON(_,Or);Kn!==Se&&(Yt=pi),Se=Kn;break}}catch{}const xn=de.filter(Kn=>Kn._shouldAllowMigration);return Se._shouldAllowMigration&&xn.length?(Se=xn[0],Yt&&(yield Se._set(At,Yt.toJSON())),yield Promise.all(I.map(function(){var Kn=(0,m.Z)(function*(Or){if(Or!==Se)try{yield Or._remove(At)}catch{}});return function(Or){return Kn.apply(this,arguments)}}())),new et(Se,_,L)):new et(Se,_,L)})()}}function pe(P){const _=P.toLowerCase();if(_.includes("opera/")||_.includes("opr/")||_.includes("opios/"))return"Opera";if(Re(_))return"IEMobile";if(_.includes("msie")||_.includes("trident/"))return"IE";if(_.includes("edge/"))return"Edge";if(K(_))return"Firefox";if(_.includes("silk/"))return"Silk";if($e(_))return"Blackberry";if(_t(_))return"Webos";if(z(_))return"Safari";if((_.includes("chrome/")||q(_))&&!_.includes("edge/"))return"Chrome";if(lt(_))return"Android";{const L=P.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==L?void 0:L.length))return L[1]}return"Other"}function K(P=(0,g.z$)()){return/firefox\//i.test(P)}function z(P=(0,g.z$)()){const _=P.toLowerCase();return _.includes("safari/")&&!_.includes("chrome/")&&!_.includes("crios/")&&!_.includes("android")}function q(P=(0,g.z$)()){return/crios\//i.test(P)}function Re(P=(0,g.z$)()){return/iemobile/i.test(P)}function lt(P=(0,g.z$)()){return/android/i.test(P)}function $e(P=(0,g.z$)()){return/blackberry/i.test(P)}function _t(P=(0,g.z$)()){return/webos/i.test(P)}function Rt(P=(0,g.z$)()){return/iphone|ipad|ipod/i.test(P)||/macintosh/i.test(P)&&/mobile/i.test(P)}function Zt(P=(0,g.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(P)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(P)}function kt(P=(0,g.z$)()){return Rt(P)||lt(P)||_t(P)||$e(P)||/windows phone/i.test(P)||Re(P)}function an(P,_=[]){let I;switch(P){case"Browser":I=pe((0,g.z$)());break;case"Worker":I=`${pe((0,g.z$)())}-${P}`;break;default:I=P}const L=_.length?_.join(","):"FirebaseCore-web";return`${I}/JsCore/${le.SDK_VERSION}/${L}`}function bt(){return(bt=(0,m.Z)(function*(P){return(yield Pt(P,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function jt(P,_){return mn.apply(this,arguments)}function mn(){return(mn=(0,m.Z)(function*(P,_){return Pt(P,"GET","/v2/recaptchaConfig",ht(P,_))})).apply(this,arguments)}function Nn(P){return void 0!==P&&void 0!==P.getResponse}function nr(P){return void 0!==P&&void 0!==P.enterprise}class Qn{constructor(_){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===_.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=_.recaptchaKey.split("/")[3],this.emailPasswordEnabled=_.recaptchaEnforcementState.some(I=>"EMAIL_PASSWORD_PROVIDER"===I.provider&&"OFF"!==I.enforcementState)}}function Lr(P){return new Promise((_,I)=>{const L=document.createElement("script");L.setAttribute("src",P),L.onload=_,L.onerror=de=>{const Se=it("internal-error");Se.customData=de,I(Se)},L.type="text/javascript",L.charset="UTF-8",function Hr(){var P,_;return null!==(_=null===(P=document.getElementsByTagName("head"))||void 0===P?void 0:P[0])&&void 0!==_?_:document}().appendChild(L)})}function or(P){return`__${P}${Math.floor(1e6*Math.random())}`}class Ji{constructor(_){this.type="recaptcha-enterprise",this.auth=Qr(_)}verify(_="verify",I=!1){var L=this;return(0,m.Z)(function*(){function Se(){return Se=(0,m.Z)(function*(Yt){if(!I){if(null==Yt.tenantId&&null!=Yt._agentRecaptchaConfig)return Yt._agentRecaptchaConfig.siteKey;if(null!=Yt.tenantId&&void 0!==Yt._tenantRecaptchaConfigs[Yt.tenantId])return Yt._tenantRecaptchaConfigs[Yt.tenantId].siteKey}return new Promise(function(){var xn=(0,m.Z)(function*(Kn,Or){jt(Yt,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(pi=>{if(void 0!==pi.recaptchaKey){const mo=new Qn(pi);return null==Yt.tenantId?Yt._agentRecaptchaConfig=mo:Yt._tenantRecaptchaConfigs[Yt.tenantId]=mo,Kn(mo.siteKey)}Or(new Error("recaptcha Enterprise site key undefined"))}).catch(pi=>{Or(pi)})});return function(Kn,Or){return xn.apply(this,arguments)}}())}),Se.apply(this,arguments)}function At(Yt,xn,Kn){const Or=window.grecaptcha;nr(Or)?Or.enterprise.ready(()=>{Or.enterprise.execute(Yt,{action:_}).then(pi=>{xn(pi)}).catch(()=>{xn("NO_RECAPTCHA")})}):Kn(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((Yt,xn)=>{(function de(Yt){return Se.apply(this,arguments)})(L.auth).then(Kn=>{if(!I&&nr(window.grecaptcha))At(Kn,Yt,xn);else{if(typeof window>"u")return void xn(new Error("RecaptchaVerifier is only supported in browser"));Lr("https://www.google.com/recaptcha/enterprise.js?render="+Kn).then(()=>{At(Kn,Yt,xn)}).catch(Or=>{xn(Or)})}}).catch(Kn=>{xn(Kn)})})})()}}function Ti(P,_,I){return oi.apply(this,arguments)}function oi(){return(oi=(0,m.Z)(function*(P,_,I,L=!1){const de=new Ji(P);let Se;try{Se=yield de.verify(I)}catch{Se=yield de.verify(I,!0)}const At=Object.assign({},_);return Object.assign(At,L?{captchaResp:Se}:{captchaResponse:Se}),Object.assign(At,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(At,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),At})).apply(this,arguments)}class ws{constructor(_){this.auth=_,this.queue=[]}pushCallback(_,I){const L=Se=>new Promise((At,Yt)=>{try{At(_(Se))}catch(xn){Yt(xn)}});L.onAbort=I,this.queue.push(L);const de=this.queue.length-1;return()=>{this.queue[de]=()=>Promise.resolve()}}runMiddleware(_){var I=this;return(0,m.Z)(function*(){if(I.auth.currentUser===_)return;const L=[];try{for(const de of I.queue)yield de(_),de.onAbort&&L.push(de.onAbort)}catch(de){L.reverse();for(const Se of L)try{Se()}catch{}throw I.auth._errorFactory.create("login-blocked",{originalMessage:null==de?void 0:de.message})}})()}}class _i{constructor(_,I,L,de){this.app=_,this.heartbeatServiceProvider=I,this.appCheckServiceProvider=L,this.config=de,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new es(this),this.idTokenSubscription=new es(this),this.beforeStateQueue=new ws(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=yt,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=_.name,this.clientVersion=de.sdkClientVersion}_initializeWithPersistence(_,I){var L=this;return I&&(this._popupRedirectResolver=hn(I)),this._initializationPromise=this.queue((0,m.Z)(function*(){var de,Se;if(!L._deleted&&(L.persistenceManager=yield et.create(L,_),!L._deleted)){if(null!==(de=L._popupRedirectResolver)&&void 0!==de&&de._shouldInitProactively)try{yield L._popupRedirectResolver._initialize(L)}catch{}yield L.initializeCurrentUser(I),L.lastNotifiedUid=(null===(Se=L.currentUser)||void 0===Se?void 0:Se.uid)||null,!L._deleted&&(L._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var _=this;return(0,m.Z)(function*(){if(_._deleted)return;const I=yield _.assertedPersistence.getCurrentUser();if(_.currentUser||I){if(_.currentUser&&I&&_.currentUser.uid===I.uid)return _._currentUser._assign(I),void(yield _.currentUser.getIdToken());yield _._updateCurrentUser(I,!0)}})()}initializeCurrentUser(_){var I=this;return(0,m.Z)(function*(){var L;const de=yield I.assertedPersistence.getCurrentUser();let Se=de,At=!1;if(_&&I.config.authDomain){yield I.getOrInitRedirectPersistenceManager();const Yt=null===(L=I.redirectUser)||void 0===L?void 0:L._redirectEventId,xn=null==Se?void 0:Se._redirectEventId,Kn=yield I.tryRedirectSignIn(_);(!Yt||Yt===xn)&&null!=Kn&&Kn.user&&(Se=Kn.user,At=!0)}if(!Se)return I.directlySetCurrentUser(null);if(!Se._redirectEventId){if(At)try{yield I.beforeStateQueue.runMiddleware(Se)}catch(Yt){Se=de,I._popupRedirectResolver._overrideRedirectResult(I,()=>Promise.reject(Yt))}return Se?I.reloadAndSetCurrentUserOrClear(Se):I.directlySetCurrentUser(null)}return Ue(I._popupRedirectResolver,I,"argument-error"),yield I.getOrInitRedirectPersistenceManager(),I.redirectUser&&I.redirectUser._redirectEventId===Se._redirectEventId?I.directlySetCurrentUser(Se):I.reloadAndSetCurrentUserOrClear(Se)})()}tryRedirectSignIn(_){var I=this;return(0,m.Z)(function*(){let L=null;try{L=yield I._popupRedirectResolver._completeRedirectFn(I,_,!0)}catch{yield I._setRedirectUser(null)}return L})()}reloadAndSetCurrentUserOrClear(_){var I=this;return(0,m.Z)(function*(){try{yield qn(_)}catch(L){if("auth/network-request-failed"!==(null==L?void 0:L.code))return I.directlySetCurrentUser(null)}return I.directlySetCurrentUser(_)})()}useDeviceLanguage(){this.languageCode=function Ge(){if(typeof navigator>"u")return null;const P=navigator;return P.languages&&P.languages[0]||P.language||null}()}_delete(){var _=this;return(0,m.Z)(function*(){_._deleted=!0})()}updateCurrentUser(_){var I=this;return(0,m.Z)(function*(){const L=_?(0,g.m9)(_):null;return L&&Ue(L.auth.config.apiKey===I.config.apiKey,I,"invalid-user-token"),I._updateCurrentUser(L&&L._clone(I))})()}_updateCurrentUser(_,I=!1){var L=this;return(0,m.Z)(function*(){if(!L._deleted)return _&&Ue(L.tenantId===_.tenantId,L,"tenant-id-mismatch"),I||(yield L.beforeStateQueue.runMiddleware(_)),L.queue((0,m.Z)(function*(){yield L.directlySetCurrentUser(_),L.notifyAuthListeners()}))})()}signOut(){var _=this;return(0,m.Z)(function*(){return yield _.beforeStateQueue.runMiddleware(null),(_.redirectPersistenceManager||_._popupRedirectResolver)&&(yield _._setRedirectUser(null)),_._updateCurrentUser(null,!0)})()}setPersistence(_){var I=this;return this.queue((0,m.Z)(function*(){yield I.assertedPersistence.setPersistence(hn(_))}))}initializeRecaptchaConfig(){var _=this;return(0,m.Z)(function*(){const I=yield jt(_,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),L=new Qn(I);null==_.tenantId?_._agentRecaptchaConfig=L:_._tenantRecaptchaConfigs[_.tenantId]=L,L.emailPasswordEnabled&&new Ji(_).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(_){this._errorFactory=new g.LL("auth","Firebase",_())}onAuthStateChanged(_,I,L){return this.registerStateListener(this.authStateSubscription,_,I,L)}beforeAuthStateChanged(_,I){return this.beforeStateQueue.pushCallback(_,I)}onIdTokenChanged(_,I,L){return this.registerStateListener(this.idTokenSubscription,_,I,L)}toJSON(){var _;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(_=this._currentUser)||void 0===_?void 0:_.toJSON()}}_setRedirectUser(_,I){var L=this;return(0,m.Z)(function*(){const de=yield L.getOrInitRedirectPersistenceManager(I);return null===_?de.removeCurrentUser():de.setCurrentUser(_)})()}getOrInitRedirectPersistenceManager(_){var I=this;return(0,m.Z)(function*(){if(!I.redirectPersistenceManager){const L=_&&hn(_)||I._popupRedirectResolver;Ue(L,I,"argument-error"),I.redirectPersistenceManager=yield et.create(I,[hn(L._redirectPersistence)],"redirectUser"),I.redirectUser=yield I.redirectPersistenceManager.getCurrentUser()}return I.redirectPersistenceManager})()}_redirectUserForId(_){var I=this;return(0,m.Z)(function*(){var L,de;return I._isInitialized&&(yield I.queue((0,m.Z)(function*(){}))),(null===(L=I._currentUser)||void 0===L?void 0:L._redirectEventId)===_?I._currentUser:(null===(de=I.redirectUser)||void 0===de?void 0:de._redirectEventId)===_?I.redirectUser:null})()}_persistUserIfCurrent(_){var I=this;return(0,m.Z)(function*(){if(_===I.currentUser)return I.queue((0,m.Z)(function*(){return I.directlySetCurrentUser(_)}))})()}_notifyListenersIfCurrent(_){_===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var _,I;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const L=null!==(I=null===(_=this.currentUser)||void 0===_?void 0:_.uid)&&void 0!==I?I:null;this.lastNotifiedUid!==L&&(this.lastNotifiedUid=L,this.authStateSubscription.next(this.currentUser))}registerStateListener(_,I,L,de){if(this._deleted)return()=>{};const Se="function"==typeof I?I:I.next.bind(I),At=this._isInitialized?Promise.resolve():this._initializationPromise;return Ue(At,this,"internal-error"),At.then(()=>Se(this.currentUser)),"function"==typeof I?_.addObserver(I,L,de):_.addObserver(I)}directlySetCurrentUser(_){var I=this;return(0,m.Z)(function*(){I.currentUser&&I.currentUser!==_&&I._currentUser._stopProactiveRefresh(),_&&I.isProactiveRefreshEnabled&&_._startProactiveRefresh(),I.currentUser=_,_?yield I.assertedPersistence.setCurrentUser(_):yield I.assertedPersistence.removeCurrentUser()})()}queue(_){return this.operations=this.operations.then(_,_),this.operations}get assertedPersistence(){return Ue(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(_){!_||this.frameworks.includes(_)||(this.frameworks.push(_),this.frameworks.sort(),this.clientVersion=an(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var _=this;return(0,m.Z)(function*(){var I;const L={"X-Client-Version":_.clientVersion};_.app.options.appId&&(L["X-Firebase-gmpid"]=_.app.options.appId);const de=yield null===(I=_.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===I?void 0:I.getHeartbeatsHeader();de&&(L["X-Firebase-Client"]=de);const Se=yield _._getAppCheckToken();return Se&&(L["X-Firebase-AppCheck"]=Se),L})()}_getAppCheckToken(){var _=this;return(0,m.Z)(function*(){var I;const L=yield null===(I=_.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===I?void 0:I.getToken();return null!=L&&L.error&&function pt(P,..._){De.logLevel<=Le.in.WARN&&De.warn(`Auth (${le.SDK_VERSION}): ${P}`,..._)}(`Error while retrieving App Check token: ${L.error}`),null==L?void 0:L.token})()}}function Qr(P){return(0,g.m9)(P)}class es{constructor(_){this.auth=_,this.observer=null,this.addObserver=(0,g.ne)(I=>this.observer=I)}get next(){return Ue(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Ps(P,_,I){const L=Qr(P);Ue(L._canInitEmulator,L,"emulator-config-failed"),Ue(/^https?:\/\//.test(_),L,"invalid-emulator-scheme");const de=!(null==I||!I.disableWarnings),Se=W(_),{host:At,port:Yt}=function ee(P){const _=W(P),I=/(\/\/)?([^?#/]+)/.exec(P.substr(_.length));if(!I)return{host:"",port:null};const L=I[2].split("@").pop()||"",de=/^(\[[^\]]+\])(:|$)/.exec(L);if(de){const Se=de[1];return{host:Se,port:ye(L.substr(Se.length+1))}}{const[Se,At]=L.split(":");return{host:Se,port:ye(At)}}}(_);L.config.emulator={url:`${Se}//${At}${null===Yt?"":`:${Yt}`}/`},L.settings.appVerificationDisabledForTesting=!0,L.emulatorConfig=Object.freeze({host:At,port:Yt,protocol:Se.replace(":",""),options:Object.freeze({disableWarnings:de})}),de||function oe(){function P(){const _=document.createElement("p"),I=_.style;_.innerText="Running in emulator mode. Do not use with production credentials.",I.position="fixed",I.width="100%",I.backgroundColor="#ffffff",I.border=".1em solid #000000",I.color="#b50000",I.bottom="0px",I.left="0px",I.margin="0px",I.zIndex="10000",I.textAlign="center",_.classList.add("firebase-emulator-warning"),document.body.appendChild(_)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",P):P())}()}function W(P){const _=P.indexOf(":");return _<0?"":P.substr(0,_+1)}function ye(P){if(!P)return null;const _=Number(P);return isNaN(_)?null:_}class G{constructor(_,I){this.providerId=_,this.signInMethod=I}toJSON(){return Ct("not implemented")}_getIdTokenResponse(_){return Ct("not implemented")}_linkToIdToken(_,I){return Ct("not implemented")}_getReauthenticationResolver(_){return Ct("not implemented")}}function ie(P,_){return He.apply(this,arguments)}function He(){return(He=(0,m.Z)(function*(P,_){return Pt(P,"POST","/v1/accounts:resetPassword",ht(P,_))})).apply(this,arguments)}function nt(P,_){return gt.apply(this,arguments)}function gt(){return(gt=(0,m.Z)(function*(P,_){return Pt(P,"POST","/v1/accounts:update",_)})).apply(this,arguments)}function gn(){return(gn=(0,m.Z)(function*(P,_){return Pt(P,"POST","/v1/accounts:update",ht(P,_))})).apply(this,arguments)}function En(P,_){return Wn.apply(this,arguments)}function Wn(){return(Wn=(0,m.Z)(function*(P,_){return rt(P,"POST","/v1/accounts:signInWithPassword",ht(P,_))})).apply(this,arguments)}function vr(P,_){return Ci.apply(this,arguments)}function Ci(){return(Ci=(0,m.Z)(function*(P,_){return Pt(P,"POST","/v1/accounts:sendOobCode",ht(P,_))})).apply(this,arguments)}function qi(){return(qi=(0,m.Z)(function*(P,_){return vr(P,_)})).apply(this,arguments)}function qr(P,_){return Dn.apply(this,arguments)}function Dn(){return(Dn=(0,m.Z)(function*(P,_){return vr(P,_)})).apply(this,arguments)}function Er(P,_){return Yr.apply(this,arguments)}function Yr(){return(Yr=(0,m.Z)(function*(P,_){return vr(P,_)})).apply(this,arguments)}function Ws(){return(Ws=(0,m.Z)(function*(P,_){return vr(P,_)})).apply(this,arguments)}function Bs(){return(Bs=(0,m.Z)(function*(P,_){return rt(P,"POST","/v1/accounts:signInWithEmailLink",ht(P,_))})).apply(this,arguments)}function Li(){return(Li=(0,m.Z)(function*(P,_){return rt(P,"POST","/v1/accounts:signInWithEmailLink",ht(P,_))})).apply(this,arguments)}class Si extends G{constructor(_,I,L,de=null){super("password",L),this._email=_,this._password=I,this._tenantId=de}static _fromEmailAndPassword(_,I){return new Si(_,I,"password")}static _fromEmailAndCode(_,I,L=null){return new Si(_,I,"emailLink",L)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(_){const I="string"==typeof _?JSON.parse(_):_;if(null!=I&&I.email&&null!=I&&I.password){if("password"===I.signInMethod)return this._fromEmailAndPassword(I.email,I.password);if("emailLink"===I.signInMethod)return this._fromEmailAndCode(I.email,I.password,I.tenantId)}return null}_getIdTokenResponse(_){var I=this;return(0,m.Z)(function*(){var L;switch(I.signInMethod){case"password":const de={returnSecureToken:!0,email:I._email,password:I._password,clientType:"CLIENT_TYPE_WEB"};if(null!==(L=_._getRecaptchaConfig())&&void 0!==L&&L.emailPasswordEnabled){const Se=yield Ti(_,de,"signInWithPassword");return En(_,Se)}return En(_,de).catch(function(){var Se=(0,m.Z)(function*(At){if("auth/missing-recaptcha-token"===At.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const Yt=yield Ti(_,de,"signInWithPassword");return En(_,Yt)}return Promise.reject(At)});return function(At){return Se.apply(this,arguments)}}());case"emailLink":return function bi(P,_){return Bs.apply(this,arguments)}(_,{email:I._email,oobCode:I._password});default:qe(_,"internal-error")}})()}_linkToIdToken(_,I){var L=this;return(0,m.Z)(function*(){switch(L.signInMethod){case"password":return nt(_,{idToken:I,returnSecureToken:!0,email:L._email,password:L._password});case"emailLink":return function Xr(P,_){return Li.apply(this,arguments)}(_,{idToken:I,email:L._email,oobCode:L._password});default:qe(_,"internal-error")}})()}_getReauthenticationResolver(_){return this._getIdTokenResponse(_)}}function Xn(P,_){return Is.apply(this,arguments)}function Is(){return(Is=(0,m.Z)(function*(P,_){return rt(P,"POST","/v1/accounts:signInWithIdp",ht(P,_))})).apply(this,arguments)}class Un extends G{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(_){const I=new Un(_.providerId,_.signInMethod);return _.idToken||_.accessToken?(_.idToken&&(I.idToken=_.idToken),_.accessToken&&(I.accessToken=_.accessToken),_.nonce&&!_.pendingToken&&(I.nonce=_.nonce),_.pendingToken&&(I.pendingToken=_.pendingToken)):_.oauthToken&&_.oauthTokenSecret?(I.accessToken=_.oauthToken,I.secret=_.oauthTokenSecret):qe("argument-error"),I}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(_){const I="string"==typeof _?JSON.parse(_):_,{providerId:L,signInMethod:de}=I,Se=(0,_e._T)(I,["providerId","signInMethod"]);if(!L||!de)return null;const At=new Un(L,de);return At.idToken=Se.idToken||void 0,At.accessToken=Se.accessToken||void 0,At.secret=Se.secret,At.nonce=Se.nonce,At.pendingToken=Se.pendingToken||null,At}_getIdTokenResponse(_){return Xn(_,this.buildRequest())}_linkToIdToken(_,I){const L=this.buildRequest();return L.idToken=I,Xn(_,L)}_getReauthenticationResolver(_){const I=this.buildRequest();return I.autoCreate=!1,Xn(_,I)}buildRequest(){const _={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)_.pendingToken=this.pendingToken;else{const I={};this.idToken&&(I.id_token=this.idToken),this.accessToken&&(I.access_token=this.accessToken),this.secret&&(I.oauth_token_secret=this.secret),I.providerId=this.providerId,this.nonce&&!this.pendingToken&&(I.nonce=this.nonce),_.postBody=(0,g.xO)(I)}return _}}function mr(){return(mr=(0,m.Z)(function*(P,_){return Pt(P,"POST","/v1/accounts:sendVerificationCode",ht(P,_))})).apply(this,arguments)}function Wr(){return(Wr=(0,m.Z)(function*(P,_){return rt(P,"POST","/v1/accounts:signInWithPhoneNumber",ht(P,_))})).apply(this,arguments)}function Ks(){return(Ks=(0,m.Z)(function*(P,_){const I=yield rt(P,"POST","/v1/accounts:signInWithPhoneNumber",ht(P,_));if(I.temporaryProof)throw Mn(P,"account-exists-with-different-credential",I);return I})).apply(this,arguments)}const ts={USER_NOT_FOUND:"user-not-found"};function di(){return(di=(0,m.Z)(function*(P,_){return rt(P,"POST","/v1/accounts:signInWithPhoneNumber",ht(P,Object.assign(Object.assign({},_),{operation:"REAUTH"})),ts)})).apply(this,arguments)}class Jn extends G{constructor(_){super("phone","phone"),this.params=_}static _fromVerification(_,I){return new Jn({verificationId:_,verificationCode:I})}static _fromTokenResponse(_,I){return new Jn({phoneNumber:_,temporaryProof:I})}_getIdTokenResponse(_){return function Bi(P,_){return Wr.apply(this,arguments)}(_,this._makeVerificationRequest())}_linkToIdToken(_,I){return function Cs(P,_){return Ks.apply(this,arguments)}(_,Object.assign({idToken:I},this._makeVerificationRequest()))}_getReauthenticationResolver(_){return function bs(P,_){return di.apply(this,arguments)}(_,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:_,phoneNumber:I,verificationId:L,verificationCode:de}=this.params;return _&&I?{temporaryProof:_,phoneNumber:I}:{sessionInfo:L,code:de}}toJSON(){const _={providerId:this.providerId};return this.params.phoneNumber&&(_.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(_.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(_.verificationCode=this.params.verificationCode),this.params.verificationId&&(_.verificationId=this.params.verificationId),_}static fromJSON(_){"string"==typeof _&&(_=JSON.parse(_));const{verificationId:I,verificationCode:L,phoneNumber:de,temporaryProof:Se}=_;return L||I||de||Se?new Jn({verificationId:I,verificationCode:L,phoneNumber:de,temporaryProof:Se}):null}}class Ds{constructor(_){var I,L,de,Se,At,Yt;const xn=(0,g.zd)((0,g.pd)(_)),Kn=null!==(I=xn.apiKey)&&void 0!==I?I:null,Or=null!==(L=xn.oobCode)&&void 0!==L?L:null,pi=function hr(P){switch(P){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(de=xn.mode)&&void 0!==de?de:null);Ue(Kn&&Or&&pi,"argument-error"),this.apiKey=Kn,this.operation=pi,this.code=Or,this.continueUrl=null!==(Se=xn.continueUrl)&&void 0!==Se?Se:null,this.languageCode=null!==(At=xn.languageCode)&&void 0!==At?At:null,this.tenantId=null!==(Yt=xn.tenantId)&&void 0!==Yt?Yt:null}static parseLink(_){const I=function jo(P){const _=(0,g.zd)((0,g.pd)(P)).link,I=_?(0,g.zd)((0,g.pd)(_)).deep_link_id:null,L=(0,g.zd)((0,g.pd)(P)).deep_link_id;return(L?(0,g.zd)((0,g.pd)(L)).link:null)||L||I||_||P}(_);try{return new Ds(I)}catch{return null}}}let is=(()=>{class P{constructor(){this.providerId=P.PROVIDER_ID}static credential(I,L){return Si._fromEmailAndPassword(I,L)}static credentialWithLink(I,L){const de=Ds.parseLink(L);return Ue(de,"argument-error"),Si._fromEmailAndCode(I,de.code,de.tenantId)}}return P.PROVIDER_ID="password",P.EMAIL_PASSWORD_SIGN_IN_METHOD="password",P.EMAIL_LINK_SIGN_IN_METHOD="emailLink",P})();class Os{constructor(_){this.providerId=_,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(_){this.defaultLanguageCode=_}setCustomParameters(_){return this.customParameters=_,this}getCustomParameters(){return this.customParameters}}class Ys extends Os{constructor(){super(...arguments),this.scopes=[]}addScope(_){return this.scopes.includes(_)||this.scopes.push(_),this}getScopes(){return[...this.scopes]}}class Ns extends Ys{static credentialFromJSON(_){const I="string"==typeof _?JSON.parse(_):_;return Ue("providerId"in I&&"signInMethod"in I,"argument-error"),Un._fromParams(I)}credential(_){return this._credential(Object.assign(Object.assign({},_),{nonce:_.rawNonce}))}_credential(_){return Ue(_.idToken||_.accessToken,"argument-error"),Un._fromParams(Object.assign(Object.assign({},_),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(_){return Ns.oauthCredentialFromTaggedObject(_)}static credentialFromError(_){return Ns.oauthCredentialFromTaggedObject(_.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthIdToken:I,oauthAccessToken:L,oauthTokenSecret:de,pendingToken:Se,nonce:At,providerId:Yt}=_;if(!L&&!de&&!I&&!Se||!Yt)return null;try{return new Ns(Yt)._credential({idToken:I,accessToken:L,nonce:At,pendingToken:Se})}catch{return null}}}let hi=(()=>{class P extends Ys{constructor(){super("facebook.com")}static credential(I){return Un._fromParams({providerId:P.PROVIDER_ID,signInMethod:P.FACEBOOK_SIGN_IN_METHOD,accessToken:I})}static credentialFromResult(I){return P.credentialFromTaggedObject(I)}static credentialFromError(I){return P.credentialFromTaggedObject(I.customData||{})}static credentialFromTaggedObject({_tokenResponse:I}){if(!I||!("oauthAccessToken"in I)||!I.oauthAccessToken)return null;try{return P.credential(I.oauthAccessToken)}catch{return null}}}return P.FACEBOOK_SIGN_IN_METHOD="facebook.com",P.PROVIDER_ID="facebook.com",P})(),Po=(()=>{class P extends Ys{constructor(){super("google.com"),this.addScope("profile")}static credential(I,L){return Un._fromParams({providerId:P.PROVIDER_ID,signInMethod:P.GOOGLE_SIGN_IN_METHOD,idToken:I,accessToken:L})}static credentialFromResult(I){return P.credentialFromTaggedObject(I)}static credentialFromError(I){return P.credentialFromTaggedObject(I.customData||{})}static credentialFromTaggedObject({_tokenResponse:I}){if(!I)return null;const{oauthIdToken:L,oauthAccessToken:de}=I;if(!L&&!de)return null;try{return P.credential(L,de)}catch{return null}}}return P.GOOGLE_SIGN_IN_METHOD="google.com",P.PROVIDER_ID="google.com",P})(),Hi=(()=>{class P extends Ys{constructor(){super("github.com")}static credential(I){return Un._fromParams({providerId:P.PROVIDER_ID,signInMethod:P.GITHUB_SIGN_IN_METHOD,accessToken:I})}static credentialFromResult(I){return P.credentialFromTaggedObject(I)}static credentialFromError(I){return P.credentialFromTaggedObject(I.customData||{})}static credentialFromTaggedObject({_tokenResponse:I}){if(!I||!("oauthAccessToken"in I)||!I.oauthAccessToken)return null;try{return P.credential(I.oauthAccessToken)}catch{return null}}}return P.GITHUB_SIGN_IN_METHOD="github.com",P.PROVIDER_ID="github.com",P})();class ho extends G{constructor(_,I){super(_,_),this.pendingToken=I}_getIdTokenResponse(_){return Xn(_,this.buildRequest())}_linkToIdToken(_,I){const L=this.buildRequest();return L.idToken=I,Xn(_,L)}_getReauthenticationResolver(_){const I=this.buildRequest();return I.autoCreate=!1,Xn(_,I)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(_){const I="string"==typeof _?JSON.parse(_):_,{providerId:L,signInMethod:de,pendingToken:Se}=I;return L&&de&&Se&&L===de?new ho(L,Se):null}static _create(_,I){return new ho(_,I)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class ro extends Os{constructor(_){Ue(_.startsWith("saml."),"argument-error"),super(_)}static credentialFromResult(_){return ro.samlCredentialFromTaggedObject(_)}static credentialFromError(_){return ro.samlCredentialFromTaggedObject(_.customData||{})}static credentialFromJSON(_){const I=ho.fromJSON(_);return Ue(I,"argument-error"),I}static samlCredentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{pendingToken:I,providerId:L}=_;if(!I||!L)return null;try{return ho._create(L,I)}catch{return null}}}let Vs=(()=>{class P extends Ys{constructor(){super("twitter.com")}static credential(I,L){return Un._fromParams({providerId:P.PROVIDER_ID,signInMethod:P.TWITTER_SIGN_IN_METHOD,oauthToken:I,oauthTokenSecret:L})}static credentialFromResult(I){return P.credentialFromTaggedObject(I)}static credentialFromError(I){return P.credentialFromTaggedObject(I.customData||{})}static credentialFromTaggedObject({_tokenResponse:I}){if(!I)return null;const{oauthAccessToken:L,oauthTokenSecret:de}=I;if(!L||!de)return null;try{return P.credential(L,de)}catch{return null}}}return P.TWITTER_SIGN_IN_METHOD="twitter.com",P.PROVIDER_ID="twitter.com",P})();function Ts(P,_){return io.apply(this,arguments)}function io(){return(io=(0,m.Z)(function*(P,_){return rt(P,"POST","/v1/accounts:signUp",ht(P,_))})).apply(this,arguments)}class xr{constructor(_){this.user=_.user,this.providerId=_.providerId,this._tokenResponse=_._tokenResponse,this.operationType=_.operationType}static _fromIdTokenResponse(_,I,L,de=!1){return(0,m.Z)(function*(){const Se=yield Mt._fromIdTokenResponse(_,L,de),At=ns(L);return new xr({user:Se,providerId:At,_tokenResponse:L,operationType:I})})()}static _forOperation(_,I,L){return(0,m.Z)(function*(){yield _._updateTokensIfNecessary(L,!0);const de=ns(L);return new xr({user:_,providerId:de,_tokenResponse:L,operationType:I})})()}}function ns(P){return P.providerId?P.providerId:"phoneNumber"in P?"phone":null}function Us(P){return Oi.apply(this,arguments)}function Oi(){return(Oi=(0,m.Z)(function*(P){var _;const I=Qr(P);if(yield I._initializationPromise,null!==(_=I.currentUser)&&void 0!==_&&_.isAnonymous)return new xr({user:I.currentUser,providerId:null,operationType:"signIn"});const L=yield Ts(I,{returnSecureToken:!0}),de=yield xr._fromIdTokenResponse(I,"signIn",L,!0);return yield I._updateCurrentUser(de.user),de})).apply(this,arguments)}class hs extends g.ZR{constructor(_,I,L,de){var Se;super(I.code,I.message),this.operationType=L,this.user=de,Object.setPrototypeOf(this,hs.prototype),this.customData={appName:_.name,tenantId:null!==(Se=_.tenantId)&&void 0!==Se?Se:void 0,_serverResponse:I.customData._serverResponse,operationType:L}}static _fromErrorAndOperation(_,I,L,de){return new hs(_,I,L,de)}}function ys(P,_,I,L){return("reauthenticate"===_?I._getReauthenticationResolver(P):I._getIdTokenResponse(P)).catch(Se=>{throw"auth/multi-factor-auth-required"===Se.code?hs._fromErrorAndOperation(P,Se,_,L):Se})}function vs(P){return new Set(P.map(({providerId:_})=>_).filter(_=>!!_))}function fo(P,_){return T.apply(this,arguments)}function T(){return T=(0,m.Z)(function*(P,_){const I=(0,g.m9)(P);yield Z(!0,I,_);const{providerUserInfo:L}=yield function Tn(P,_){return $t.apply(this,arguments)}(I.auth,{idToken:yield I.getIdToken(),deleteProvider:[_]}),de=vs(L||[]);return I.providerData=I.providerData.filter(Se=>de.has(Se.providerId)),de.has("phone")||(I.phoneNumber=null),yield I.auth._persistUserIfCurrent(I),I}),T.apply(this,arguments)}function X(P,_){return S.apply(this,arguments)}function S(){return(S=(0,m.Z)(function*(P,_,I=!1){const L=yield wn(P,_._linkToIdToken(P.auth,yield P.getIdToken()),I);return xr._forOperation(P,"link",L)})).apply(this,arguments)}function Z(P,_,I){return ke.apply(this,arguments)}function ke(){return(ke=(0,m.Z)(function*(P,_,I){yield qn(_);const de=!1===P?"provider-already-linked":"no-such-provider";Ue(vs(_.providerData).has(I)===P,_.auth,de)})).apply(this,arguments)}function Xt(P,_){return jn.apply(this,arguments)}function jn(){return(jn=(0,m.Z)(function*(P,_,I=!1){const{auth:L}=P,de="reauthenticate";try{const Se=yield wn(P,ys(L,de,_,P),I);Ue(Se.idToken,L,"internal-error");const At=kr(Se.idToken);Ue(At,L,"internal-error");const{sub:Yt}=At;return Ue(P.uid===Yt,L,"user-mismatch"),xr._forOperation(P,de,Se)}catch(Se){throw"auth/user-not-found"===(null==Se?void 0:Se.code)&&qe(L,"user-mismatch"),Se}})).apply(this,arguments)}function pr(P,_){return Ur.apply(this,arguments)}function Ur(){return(Ur=(0,m.Z)(function*(P,_,I=!1){const L="signIn",de=yield ys(P,L,_),Se=yield xr._fromIdTokenResponse(P,L,de);return I||(yield P._updateCurrentUser(Se.user)),Se})).apply(this,arguments)}function jr(P,_){return Vi.apply(this,arguments)}function Vi(){return(Vi=(0,m.Z)(function*(P,_){return pr(Qr(P),_)})).apply(this,arguments)}function zi(P,_){return fs.apply(this,arguments)}function fs(){return(fs=(0,m.Z)(function*(P,_){const I=(0,g.m9)(P);return yield Z(!1,I,_.providerId),X(I,_)})).apply(this,arguments)}function js(P,_){return re.apply(this,arguments)}function re(){return(re=(0,m.Z)(function*(P,_){return Xt((0,g.m9)(P),_)})).apply(this,arguments)}function R(){return(R=(0,m.Z)(function*(P,_){return rt(P,"POST","/v1/accounts:signInWithCustomToken",ht(P,_))})).apply(this,arguments)}function M(P,_){return w.apply(this,arguments)}function w(){return w=(0,m.Z)(function*(P,_){const I=Qr(P),L=yield function Q(P,_){return R.apply(this,arguments)}(I,{token:_,returnSecureToken:!0}),de=yield xr._fromIdTokenResponse(I,"signIn",L);return yield I._updateCurrentUser(de.user),de}),w.apply(this,arguments)}class A{constructor(_,I){this.factorId=_,this.uid=I.mfaEnrollmentId,this.enrollmentTime=new Date(I.enrolledAt).toUTCString(),this.displayName=I.displayName}static _fromServerResponse(_,I){return"phoneInfo"in I?te._fromServerResponse(_,I):"totpInfo"in I?Ke._fromServerResponse(_,I):qe(_,"internal-error")}}class te extends A{constructor(_){super("phone",_),this.phoneNumber=_.phoneInfo}static _fromServerResponse(_,I){return new te(I)}}class Ke extends A{constructor(_){super("totp",_)}static _fromServerResponse(_,I){return new Ke(I)}}function tt(P,_,I){var L;Ue((null===(L=I.url)||void 0===L?void 0:L.length)>0,P,"invalid-continue-uri"),Ue(typeof I.dynamicLinkDomain>"u"||I.dynamicLinkDomain.length>0,P,"invalid-dynamic-link-domain"),_.continueUrl=I.url,_.dynamicLinkDomain=I.dynamicLinkDomain,_.canHandleCodeInApp=I.handleCodeInApp,I.iOS&&(Ue(I.iOS.bundleId.length>0,P,"missing-ios-bundle-id"),_.iOSBundleId=I.iOS.bundleId),I.android&&(Ue(I.android.packageName.length>0,P,"missing-android-pkg-name"),_.androidInstallApp=I.android.installApp,_.androidMinimumVersionCode=I.android.minimumVersion,_.androidPackageName=I.android.packageName)}function Bt(P,_,I){return Jt.apply(this,arguments)}function Jt(){return Jt=(0,m.Z)(function*(P,_,I){var L;const de=Qr(P),Se={requestType:"PASSWORD_RESET",email:_,clientType:"CLIENT_TYPE_WEB"};if(null!==(L=de._getRecaptchaConfig())&&void 0!==L&&L.emailPasswordEnabled){const At=yield Ti(de,Se,"getOobCode",!0);I&&tt(de,At,I),yield qr(de,At)}else I&&tt(de,Se,I),yield qr(de,Se).catch(function(){var At=(0,m.Z)(function*(Yt){if("auth/missing-recaptcha-token"!==Yt.code)return Promise.reject(Yt);{console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const xn=yield Ti(de,Se,"getOobCode",!0);I&&tt(de,xn,I),yield qr(de,xn)}});return function(Yt){return At.apply(this,arguments)}}())}),Jt.apply(this,arguments)}function wr(P,_,I){return kn.apply(this,arguments)}function kn(){return(kn=(0,m.Z)(function*(P,_,I){yield ie((0,g.m9)(P),{oobCode:_,newPassword:I})})).apply(this,arguments)}function Ir(P,_){return Sr.apply(this,arguments)}function Sr(){return Sr=(0,m.Z)(function*(P,_){yield function St(P,_){return gn.apply(this,arguments)}((0,g.m9)(P),{oobCode:_})}),Sr.apply(this,arguments)}function Cr(P,_){return Ei.apply(this,arguments)}function Ei(){return(Ei=(0,m.Z)(function*(P,_){const I=(0,g.m9)(P),L=yield ie(I,{oobCode:_}),de=L.requestType;switch(Ue(de,I,"internal-error"),de){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Ue(L.newEmail,I,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Ue(L.mfaInfo,I,"internal-error");default:Ue(L.email,I,"internal-error")}let Se=null;return L.mfaInfo&&(Se=A._fromServerResponse(Qr(I),L.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===L.requestType?L.newEmail:L.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===L.requestType?L.email:L.newEmail)||null,multiFactorInfo:Se},operation:de}})).apply(this,arguments)}function Gi(P,_){return Di.apply(this,arguments)}function Di(){return(Di=(0,m.Z)(function*(P,_){const{data:I}=yield Cr((0,g.m9)(P),_);return I.email})).apply(this,arguments)}function Ni(P,_,I){return Wi.apply(this,arguments)}function Wi(){return Wi=(0,m.Z)(function*(P,_,I){var L;const de=Qr(P),Se={returnSecureToken:!0,email:_,password:I,clientType:"CLIENT_TYPE_WEB"};let At;if(null!==(L=de._getRecaptchaConfig())&&void 0!==L&&L.emailPasswordEnabled){const Kn=yield Ti(de,Se,"signUpPassword");At=Ts(de,Kn)}else At=Ts(de,Se).catch(function(){var Kn=(0,m.Z)(function*(Or){if("auth/missing-recaptcha-token"===Or.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const pi=yield Ti(de,Se,"signUpPassword");return Ts(de,pi)}return Promise.reject(Or)});return function(Or){return Kn.apply(this,arguments)}}());const Yt=yield At.catch(Kn=>Promise.reject(Kn)),xn=yield xr._fromIdTokenResponse(de,"signIn",Yt);return yield de._updateCurrentUser(xn.user),xn}),Wi.apply(this,arguments)}function Ai(P,_,I){return jr((0,g.m9)(P),is.credential(_,I))}function ps(P,_,I){return Ho.apply(this,arguments)}function Ho(){return Ho=(0,m.Z)(function*(P,_,I){var L;const de=Qr(P),Se={requestType:"EMAIL_SIGNIN",email:_,clientType:"CLIENT_TYPE_WEB"};function At(Yt,xn){Ue(xn.handleCodeInApp,de,"argument-error"),xn&&tt(de,Yt,xn)}if(null!==(L=de._getRecaptchaConfig())&&void 0!==L&&L.emailPasswordEnabled){const Yt=yield Ti(de,Se,"getOobCode",!0);At(Yt,I),yield Er(de,Yt)}else At(Se,I),yield Er(de,Se).catch(function(){var Yt=(0,m.Z)(function*(xn){if("auth/missing-recaptcha-token"!==xn.code)return Promise.reject(xn);{console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const Kn=yield Ti(de,Se,"getOobCode",!0);At(Kn,I),yield Er(de,Kn)}});return function(xn){return Yt.apply(this,arguments)}}())}),Ho.apply(this,arguments)}function Hs(P,_){const I=Ds.parseLink(_);return"EMAIL_SIGNIN"===(null==I?void 0:I.operation)}function vl(P,_,I){return ya.apply(this,arguments)}function ya(){return(ya=(0,m.Z)(function*(P,_,I){const L=(0,g.m9)(P),de=is.credentialWithLink(_,I||Et());return Ue(de._tenantId===(L.tenantId||null),L,"tenant-id-mismatch"),jr(L,de)})).apply(this,arguments)}function Za(){return(Za=(0,m.Z)(function*(P,_){return Pt(P,"POST","/v1/accounts:createAuthUri",ht(P,_))})).apply(this,arguments)}function Ao(P,_){return Ma.apply(this,arguments)}function Ma(){return Ma=(0,m.Z)(function*(P,_){const L={identifier:_,continueUri:Tt()?Et():"http://localhost"},{signinMethods:de}=yield function _l(P,_){return Za.apply(this,arguments)}((0,g.m9)(P),L);return de||[]}),Ma.apply(this,arguments)}function Ki(P,_){return El.apply(this,arguments)}function El(){return El=(0,m.Z)(function*(P,_){const I=(0,g.m9)(P),de={requestType:"VERIFY_EMAIL",idToken:yield P.getIdToken()};_&&tt(I.auth,de,_);const{email:Se}=yield function ii(P,_){return qi.apply(this,arguments)}(I.auth,de);Se!==P.email&&(yield P.reload())}),El.apply(this,arguments)}function $l(P,_,I){return so.apply(this,arguments)}function so(){return so=(0,m.Z)(function*(P,_,I){const L=(0,g.m9)(P),Se={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield P.getIdToken(),newEmail:_};I&&tt(L.auth,Se,I);const{email:At}=yield function Fi(P,_){return Ws.apply(this,arguments)}(L.auth,Se);At!==P.email&&(yield P.reload())}),so.apply(this,arguments)}function Qa(){return(Qa=(0,m.Z)(function*(P,_){return Pt(P,"POST","/v1/accounts:update",_)})).apply(this,arguments)}function ra(P,_){return Zs.apply(this,arguments)}function Zs(){return Zs=(0,m.Z)(function*(P,{displayName:_,photoURL:I}){if(void 0===_&&void 0===I)return;const L=(0,g.m9)(P),Se={idToken:yield L.getIdToken(),displayName:_,photoUrl:I,returnSecureToken:!0},At=yield wn(L,function Vl(P,_){return Qa.apply(this,arguments)}(L.auth,Se));L.displayName=At.displayName||null,L.photoURL=At.photoUrl||null;const Yt=L.providerData.find(({providerId:xn})=>"password"===xn);Yt&&(Yt.displayName=L.displayName,Yt.photoURL=L.photoURL),yield L._updateTokensIfNecessary(At)}),Zs.apply(this,arguments)}function wl(P,_){return ui((0,g.m9)(P),_,null)}function Oo(P,_){return ui((0,g.m9)(P),null,_)}function ui(P,_,I){return Js.apply(this,arguments)}function Js(){return(Js=(0,m.Z)(function*(P,_,I){const{auth:L}=P,Se={idToken:yield P.getIdToken(),returnSecureToken:!0};_&&(Se.email=_),I&&(Se.password=I);const At=yield wn(P,nt(L,Se));yield P._updateTokensIfNecessary(At,!0)})).apply(this,arguments)}class Ss{constructor(_,I,L={}){this.isNewUser=_,this.providerId=I,this.profile=L}}class Il extends Ss{constructor(_,I,L,de){super(_,I,L),this.username=de}}class Ul extends Ss{constructor(_,I){super(_,"facebook.com",I)}}class ss extends Il{constructor(_,I){super(_,"github.com",I,"string"==typeof(null==I?void 0:I.login)?null==I?void 0:I.login:null)}}class zs extends Ss{constructor(_,I){super(_,"google.com",I)}}class Pu extends Il{constructor(_,I,L){super(_,"twitter.com",I,L)}}function Cl(P){const{user:_,_tokenResponse:I}=P;return _.isAnonymous&&!I?{providerId:null,isNewUser:!1,profile:null}:function va(P){var _,I;if(!P)return null;const{providerId:L}=P,de=P.rawUserInfo?JSON.parse(P.rawUserInfo):{},Se=P.isNewUser||"identitytoolkit#SignupNewUserResponse"===P.kind;if(!L&&null!=P&&P.idToken){const At=null===(I=null===(_=kr(P.idToken))||void 0===_?void 0:_.firebase)||void 0===I?void 0:I.sign_in_provider;if(At)return new Ss(Se,"anonymous"!==At&&"custom"!==At?At:null)}if(!L)return null;switch(L){case"facebook.com":return new Ul(Se,de);case"github.com":return new ss(Se,de);case"google.com":return new zs(Se,de);case"twitter.com":return new Pu(Se,de,P.screenName||null);case"custom":case"anonymous":return new Ss(Se,null);default:return new Ss(Se,L,de)}}(I)}class Ar{constructor(_,I,L){this.type=_,this.credential=I,this.auth=L}static _fromIdtoken(_,I){return new Ar("enroll",_,I)}static _fromMfaPendingCredential(_){return new Ar("signin",_)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(_){var I,L;if(null!=_&&_.multiFactorSession){if(null!==(I=_.multiFactorSession)&&void 0!==I&&I.pendingCredential)return Ar._fromMfaPendingCredential(_.multiFactorSession.pendingCredential);if(null!==(L=_.multiFactorSession)&&void 0!==L&&L.idToken)return Ar._fromIdtoken(_.multiFactorSession.idToken)}return null}}class Vr{constructor(_,I,L){this.session=_,this.hints=I,this.signInResolver=L}static _fromError(_,I){const L=Qr(_),de=I.customData._serverResponse,Se=(de.mfaInfo||[]).map(Yt=>A._fromServerResponse(L,Yt));Ue(de.mfaPendingCredential,L,"internal-error");const At=Ar._fromMfaPendingCredential(de.mfaPendingCredential);return new Vr(At,Se,function(){var Yt=(0,m.Z)(function*(xn){const Kn=yield xn._process(L,At);delete de.mfaInfo,delete de.mfaPendingCredential;const Or=Object.assign(Object.assign({},de),{idToken:Kn.idToken,refreshToken:Kn.refreshToken});switch(I.operationType){case"signIn":const pi=yield xr._fromIdTokenResponse(L,I.operationType,Or);return yield L._updateCurrentUser(pi.user),pi;case"reauthenticate":return Ue(I.user,L,"internal-error"),xr._forOperation(I.user,I.operationType,Or);default:qe(L,"internal-error")}});return function(xn){return Yt.apply(this,arguments)}}())}resolveSignIn(_){var I=this;return(0,m.Z)(function*(){return I.signInResolver(_)})()}}function ki(P,_){var I;const L=(0,g.m9)(P),de=_;return Ue(_.customData.operationType,L,"argument-error"),Ue(null===(I=de.customData._serverResponse)||void 0===I?void 0:I.mfaPendingCredential,L,"argument-error"),Vr._fromError(L,de)}class as{constructor(_){this.user=_,this.enrolledFactors=[],_._onReload(I=>{I.mfaInfo&&(this.enrolledFactors=I.mfaInfo.map(L=>A._fromServerResponse(_.auth,L)))})}static _fromUser(_){return new as(_)}getSession(){var _=this;return(0,m.Z)(function*(){return Ar._fromIdtoken(yield _.user.getIdToken(),_.user.auth)})()}enroll(_,I){var L=this;return(0,m.Z)(function*(){const de=_,Se=yield L.getSession(),At=yield wn(L.user,de._process(L.user.auth,Se,I));return yield L.user._updateTokensIfNecessary(At),L.user.reload()})()}unenroll(_){var I=this;return(0,m.Z)(function*(){const L="string"==typeof _?_:_.uid,de=yield I.user.getIdToken();try{const Se=yield wn(I.user,function Jr(P,_){return Pt(P,"POST","/v2/accounts/mfaEnrollment:withdraw",ht(P,_))}(I.user.auth,{idToken:de,mfaEnrollmentId:L}));I.enrolledFactors=I.enrolledFactors.filter(({uid:At})=>At!==L),yield I.user._updateTokensIfNecessary(Se),yield I.user.reload()}catch(Se){throw Se}})()}}const Bn=new WeakMap;function rr(P){const _=(0,g.m9)(P);return Bn.has(_)||Bn.set(_,as._fromUser(_)),Bn.get(_)}const pn="__sak";class un{constructor(_,I){this.storageRetriever=_,this.type=I}_isAvailable(){try{return this.storage?(this.storage.setItem(pn,"1"),this.storage.removeItem(pn),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(_,I){return this.storage.setItem(_,JSON.stringify(I)),Promise.resolve()}_get(_){const I=this.storage.getItem(_);return Promise.resolve(I?JSON.parse(I):null)}_remove(_){return this.storage.removeItem(_),Promise.resolve()}get storage(){return this.storageRetriever()}}const Yo=(()=>{class P extends un{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(I,L)=>this.onStorageEvent(I,L),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Gt(){const P=(0,g.z$)();return z(P)||Rt(P)}()&&function Kt(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=kt(),this._shouldAllowMigration=!0}forAllChangedKeys(I){for(const L of Object.keys(this.listeners)){const de=this.storage.getItem(L),Se=this.localCache[L];de!==Se&&I(L,Se,de)}}onStorageEvent(I,L=!1){if(!I.key)return void this.forAllChangedKeys((Yt,xn,Kn)=>{this.notifyListeners(Yt,Kn)});const de=I.key;if(L?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const Yt=this.storage.getItem(de);if(I.newValue!==Yt)null!==I.newValue?this.storage.setItem(de,I.newValue):this.storage.removeItem(de);else if(this.localCache[de]===I.newValue&&!L)return}const Se=()=>{const Yt=this.storage.getItem(de);!L&&this.localCache[de]===Yt||this.notifyListeners(de,Yt)},At=this.storage.getItem(de);!function fn(){return(0,g.w1)()&&10===document.documentMode}()||At===I.newValue||I.newValue===I.oldValue?Se():setTimeout(Se,10)}notifyListeners(I,L){this.localCache[I]=L;const de=this.listeners[I];if(de)for(const Se of Array.from(de))Se(L&&JSON.parse(L))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((I,L,de)=>{this.onStorageEvent(new StorageEvent("storage",{key:I,oldValue:L,newValue:de}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(I,L){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[I]||(this.listeners[I]=new Set,this.localCache[I]=this.storage.getItem(I)),this.listeners[I].add(L)}_removeListener(I,L){this.listeners[I]&&(this.listeners[I].delete(L),0===this.listeners[I].size&&delete this.listeners[I]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(I,L){var de=()=>super._set,Se=this;return(0,m.Z)(function*(){yield de().call(Se,I,L),Se.localCache[I]=JSON.stringify(L)})()}_get(I){var L=()=>super._get,de=this;return(0,m.Z)(function*(){const Se=yield L().call(de,I);return de.localCache[I]=JSON.stringify(Se),Se})()}_remove(I){var L=()=>super._remove,de=this;return(0,m.Z)(function*(){yield L().call(de,I),delete de.localCache[I]})()}}return P.type="LOCAL",P})(),bl=(()=>{class P extends un{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(I,L){}_removeListener(I,L){}}return P.type="SESSION",P})();let Dc=(()=>{class P{constructor(I){this.eventTarget=I,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(I){const L=this.receivers.find(Se=>Se.isListeningto(I));if(L)return L;const de=new P(I);return this.receivers.push(de),de}isListeningto(I){return this.eventTarget===I}handleEvent(I){var L=this;return(0,m.Z)(function*(){const de=I,{eventId:Se,eventType:At,data:Yt}=de.data,xn=L.handlersMap[At];if(null==xn||!xn.size)return;de.ports[0].postMessage({status:"ack",eventId:Se,eventType:At});const Kn=Array.from(xn).map(function(){var pi=(0,m.Z)(function*(mo){return mo(de.origin,Yt)});return function(mo){return pi.apply(this,arguments)}}()),Or=yield function bc(P){return Promise.all(P.map(function(){var _=(0,m.Z)(function*(I){try{return{fulfilled:!0,value:yield I}}catch(L){return{fulfilled:!1,reason:L}}});return function(I){return _.apply(this,arguments)}}()))}(Kn);de.ports[0].postMessage({status:"done",eventId:Se,eventType:At,response:Or})})()}_subscribe(I,L){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[I]||(this.handlersMap[I]=new Set),this.handlersMap[I].add(L)}_unsubscribe(I,L){this.handlersMap[I]&&L&&this.handlersMap[I].delete(L),(!L||0===this.handlersMap[I].size)&&delete this.handlersMap[I],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return P.receivers=[],P})();function jl(P="",_=10){let I="";for(let L=0;L<_;L++)I+=Math.floor(10*Math.random());return P+I}class ch{constructor(_){this.target=_,this.handlers=new Set}removeMessageHandler(_){_.messageChannel&&(_.messageChannel.port1.removeEventListener("message",_.onMessage),_.messageChannel.port1.close()),this.handlers.delete(_)}_send(_,I,L=50){var de=this;return(0,m.Z)(function*(){const Se=typeof MessageChannel<"u"?new MessageChannel:null;if(!Se)throw new Error("connection_unavailable");let At,Yt;return new Promise((xn,Kn)=>{const Or=jl("",20);Se.port1.start();const pi=setTimeout(()=>{Kn(new Error("unsupported_event"))},L);Yt={messageChannel:Se,onMessage(mo){const Xl=mo;if(Xl.data.eventId===Or)switch(Xl.data.status){case"ack":clearTimeout(pi),At=setTimeout(()=>{Kn(new Error("timeout"))},3e3);break;case"done":clearTimeout(At),xn(Xl.data.response);break;default:clearTimeout(pi),clearTimeout(At),Kn(new Error("invalid_response"))}}},de.handlers.add(Yt),Se.port1.addEventListener("message",Yt.onMessage),de.target.postMessage({eventType:_,eventId:Or,data:I},[Se.port2])}).finally(()=>{Yt&&de.removeMessageHandler(Yt)})})()}}function Mi(){return window}function uu(){return typeof Mi().WorkerGlobalScope<"u"&&"function"==typeof Mi().importScripts}function Eo(){return(Eo=(0,m.Z)(function*(){if(null==navigator||!navigator.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Pr="firebaseLocalStorageDb",ci="firebaseLocalStorage",Nu="fbase_key";class Yi{constructor(_){this.request=_}toPromise(){return new Promise((_,I)=>{this.request.addEventListener("success",()=>{_(this.request.result)}),this.request.addEventListener("error",()=>{I(this.request.error)})})}}function Fn(P,_){return P.transaction([ci],_?"readwrite":"readonly").objectStore(ci)}function Xa(){const P=indexedDB.open(Pr,1);return new Promise((_,I)=>{P.addEventListener("error",()=>{I(P.error)}),P.addEventListener("upgradeneeded",()=>{const L=P.result;try{L.createObjectStore(ci,{keyPath:Nu})}catch(de){I(de)}}),P.addEventListener("success",(0,m.Z)(function*(){const L=P.result;L.objectStoreNames.contains(ci)?_(L):(L.close(),yield function cu(){const P=indexedDB.deleteDatabase(Pr);return new Yi(P).toPromise()}(),_(yield Xa()))}))})}function Ra(P,_,I){return du.apply(this,arguments)}function du(){return(du=(0,m.Z)(function*(P,_,I){const L=Fn(P,!0).put({[Nu]:_,value:I});return new Yi(L).toPromise()})).apply(this,arguments)}function ku(){return(ku=(0,m.Z)(function*(P,_){const I=Fn(P,!1).get(_),L=yield new Yi(I).toPromise();return void 0===L?null:L.value})).apply(this,arguments)}function Ja(P,_){const I=Fn(P,!0).delete(_);return new Yi(I).toPromise()}const oo=(()=>{class P{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var I=this;return(0,m.Z)(function*(){return I.db||(I.db=yield Xa()),I.db})()}_withRetries(I){var L=this;return(0,m.Z)(function*(){let de=0;for(;;)try{const Se=yield L._openDb();return yield I(Se)}catch(Se){if(de++>3)throw Se;L.db&&(L.db.close(),L.db=void 0)}})()}initializeServiceWorkerMessaging(){var I=this;return(0,m.Z)(function*(){return uu()?I.initializeReceiver():I.initializeSender()})()}initializeReceiver(){var I=this;return(0,m.Z)(function*(){I.receiver=Dc._getInstance(function gs(){return uu()?self:null}()),I.receiver._subscribe("keyChanged",function(){var L=(0,m.Z)(function*(de,Se){return{keyProcessed:(yield I._poll()).includes(Se.key)}});return function(de,Se){return L.apply(this,arguments)}}()),I.receiver._subscribe("ping",function(){var L=(0,m.Z)(function*(de,Se){return["keyChanged"]});return function(de,Se){return L.apply(this,arguments)}}())})()}initializeSender(){var I=this;return(0,m.Z)(function*(){var L,de;if(I.activeServiceWorker=yield function Gr(){return Eo.apply(this,arguments)}(),!I.activeServiceWorker)return;I.sender=new ch(I.activeServiceWorker);const Se=yield I.sender._send("ping",{},800);Se&&null!==(L=Se[0])&&void 0!==L&&L.fulfilled&&null!==(de=Se[0])&&void 0!==de&&de.value.includes("keyChanged")&&(I.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(I){var L=this;return(0,m.Z)(function*(){if(L.sender&&L.activeServiceWorker&&function dh(){var P;return(null===(P=null==navigator?void 0:navigator.serviceWorker)||void 0===P?void 0:P.controller)||null}()===L.activeServiceWorker)try{yield L.sender._send("keyChanged",{key:I},L.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,m.Z)(function*(){try{if(!indexedDB)return!1;const I=yield Xa();return yield Ra(I,pn,"1"),yield Ja(I,pn),!0}catch{}return!1})()}_withPendingWrite(I){var L=this;return(0,m.Z)(function*(){L.pendingWrites++;try{yield I()}finally{L.pendingWrites--}})()}_set(I,L){var de=this;return(0,m.Z)(function*(){return de._withPendingWrite((0,m.Z)(function*(){return yield de._withRetries(Se=>Ra(Se,I,L)),de.localCache[I]=L,de.notifyServiceWorker(I)}))})()}_get(I){var L=this;return(0,m.Z)(function*(){const de=yield L._withRetries(Se=>function Hl(P,_){return ku.apply(this,arguments)}(Se,I));return L.localCache[I]=de,de})()}_remove(I){var L=this;return(0,m.Z)(function*(){return L._withPendingWrite((0,m.Z)(function*(){return yield L._withRetries(de=>Ja(de,I)),delete L.localCache[I],L.notifyServiceWorker(I)}))})()}_poll(){var I=this;return(0,m.Z)(function*(){const L=yield I._withRetries(At=>{const Yt=Fn(At,!1).getAll();return new Yi(Yt).toPromise()});if(!L)return[];if(0!==I.pendingWrites)return[];const de=[],Se=new Set;for(const{fbase_key:At,value:Yt}of L)Se.add(At),JSON.stringify(I.localCache[At])!==JSON.stringify(Yt)&&(I.notifyListeners(At,Yt),de.push(At));for(const At of Object.keys(I.localCache))I.localCache[At]&&!Se.has(At)&&(I.notifyListeners(At,null),de.push(At));return de})()}notifyListeners(I,L){this.localCache[I]=L;const de=this.listeners[I];if(de)for(const Se of Array.from(de))Se(L)}startPolling(){var I=this;this.stopPolling(),this.pollTimer=setInterval((0,m.Z)(function*(){return I._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(I,L){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[I]||(this.listeners[I]=new Set,this._get(I)),this.listeners[I].add(L)}_removeListener(I,L){this.listeners[I]&&(this.listeners[I].delete(L),0===this.listeners[I].size&&delete this.listeners[I]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return P.type="LOCAL",P})(),xa=1e12;class Zo{constructor(_){this.auth=_,this.counter=xa,this._widgets=new Map}render(_,I){const L=this.counter;return this._widgets.set(L,new hh(_,this.auth.name,I||{})),this.counter++,L}reset(_){var I;const L=_||xa;null===(I=this._widgets.get(L))||void 0===I||I.delete(),this._widgets.delete(L)}getResponse(_){var I;return(null===(I=this._widgets.get(_||xa))||void 0===I?void 0:I.getResponse())||""}execute(_){var I=this;return(0,m.Z)(function*(){var L;return null===(L=I._widgets.get(_||xa))||void 0===L||L.execute(),""})()}}class hh{constructor(_,I,L){this.params=L,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const de="string"==typeof _?document.getElementById(_):_;Ue(de,"argument-error",{appName:I}),this.container=de,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function nl(P){const _=[],I="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let L=0;L<P;L++)_.push(I.charAt(Math.floor(62*Math.random())));return _.join("")}(50);const{callback:_,"expired-callback":I}=this.params;if(_)try{_(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,I)try{I()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const ao=or("rcb"),kf=new Qe(3e4,6e4);class x{constructor(){var _;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(_=Mi().grecaptcha)||void 0===_||!_.render)}load(_,I=""){return Ue(function F(P){return P.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(P)}(I),_,"argument-error"),this.shouldResolveImmediately(I)&&Nn(Mi().grecaptcha)?Promise.resolve(Mi().grecaptcha):new Promise((L,de)=>{const Se=Mi().setTimeout(()=>{de(it(_,"network-request-failed"))},kf.get());Mi()[ao]=()=>{Mi().clearTimeout(Se),delete Mi()[ao];const Yt=Mi().grecaptcha;if(!Yt||!Nn(Yt))return void de(it(_,"internal-error"));const xn=Yt.render;Yt.render=(Kn,Or)=>{const pi=xn(Kn,Or);return this.counter++,pi},this.hostLanguage=I,L(Yt)},Lr(`https://www.google.com/recaptcha/api.js??${(0,g.xO)({onload:ao,render:"explicit",hl:I})}`).catch(()=>{clearTimeout(Se),de(it(_,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(_){var I;return!(null===(I=Mi().grecaptcha)||void 0===I||!I.render)&&(_===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class D{load(_){return(0,m.Z)(function*(){return new Zo(_)})()}clearedOneInstance(){}}const $="recaptcha",J={theme:"light",type:"image"};class Pe{constructor(_,I=Object.assign({},J),L){this.parameters=I,this.type=$,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Qr(L),this.isInvisible="invisible"===this.parameters.size,Ue(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const de="string"==typeof _?document.getElementById(_):_;Ue(de,this.auth,"argument-error"),this.container=de,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new D:new x,this.validateStartingState()}verify(){var _=this;return(0,m.Z)(function*(){_.assertNotDestroyed();const I=yield _.render(),L=_.getAssertedRecaptcha();return L.getResponse(I)||new Promise(Se=>{const At=Yt=>{Yt&&(_.tokenChangeListeners.delete(At),Se(Yt))};_.tokenChangeListeners.add(At),_.isInvisible&&L.execute(I)})})()}render(){try{this.assertNotDestroyed()}catch(_){return Promise.reject(_)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(_=>{throw this.renderPromise=null,_})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(_=>{this.container.removeChild(_)})}validateStartingState(){Ue(!this.parameters.sitekey,this.auth,"argument-error"),Ue(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Ue(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(_){return I=>{if(this.tokenChangeListeners.forEach(L=>L(I)),"function"==typeof _)_(I);else if("string"==typeof _){const L=Mi()[_];"function"==typeof L&&L(I)}}}assertNotDestroyed(){Ue(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var _=this;return(0,m.Z)(function*(){if(yield _.init(),!_.widgetId){let I=_.container;if(!_.isInvisible){const L=document.createElement("div");I.appendChild(L),I=L}_.widgetId=_.getAssertedRecaptcha().render(I,_.parameters)}return _.widgetId})()}init(){var _=this;return(0,m.Z)(function*(){Ue(Tt()&&!uu(),_.auth,"internal-error"),yield function Te(){let P=null;return new Promise(_=>{"complete"!==document.readyState?(P=()=>_(),window.addEventListener("load",P)):_()}).catch(_=>{throw P&&window.removeEventListener("load",P),_})}(),_.recaptcha=yield _._recaptchaLoader.load(_.auth,_.auth.languageCode||void 0);const I=yield function wt(P){return bt.apply(this,arguments)}(_.auth);Ue(I,_.auth,"internal-error"),_.parameters.sitekey=I})()}getAssertedRecaptcha(){return Ue(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class It{constructor(_,I){this.verificationId=_,this.onConfirmation=I}confirm(_){const I=Jn._fromVerification(this.verificationId,_);return this.onConfirmation(I)}}function en(P,_,I){return Gn.apply(this,arguments)}function Gn(){return(Gn=(0,m.Z)(function*(P,_,I){const L=Qr(P),de=yield zo(L,_,(0,g.m9)(I));return new It(de,Se=>jr(L,Se))})).apply(this,arguments)}function Br(P,_,I){return Zn.apply(this,arguments)}function Zn(){return(Zn=(0,m.Z)(function*(P,_,I){const L=(0,g.m9)(P);yield Z(!1,L,"phone");const de=yield zo(L.auth,_,(0,g.m9)(I));return new It(de,Se=>zi(L,Se))})).apply(this,arguments)}function ls(P,_,I){return lo.apply(this,arguments)}function lo(){return(lo=(0,m.Z)(function*(P,_,I){const L=(0,g.m9)(P),de=yield zo(L.auth,_,(0,g.m9)(I));return new It(de,Se=>js(L,Se))})).apply(this,arguments)}function zo(P,_,I){return Ea.apply(this,arguments)}function Ea(){return Ea=(0,m.Z)(function*(P,_,I){var L;const de=yield I.verify();try{let Se;if(Ue("string"==typeof de,P,"argument-error"),Ue(I.type===$,P,"argument-error"),Se="string"==typeof _?{phoneNumber:_}:_,"session"in Se){const At=Se.session;if("phoneNumber"in Se)return Ue("enroll"===At.type,P,"internal-error"),(yield function wi(P,_){return Pt(P,"POST","/v2/accounts/mfaEnrollment:start",ht(P,_))}(P,{idToken:At.credential,phoneEnrollmentInfo:{phoneNumber:Se.phoneNumber,recaptchaToken:de}})).phoneSessionInfo.sessionInfo;{Ue("signin"===At.type,P,"internal-error");const Yt=(null===(L=Se.multiFactorHint)||void 0===L?void 0:L.uid)||Se.multiFactorUid;return Ue(Yt,P,"missing-multi-factor-info"),(yield function el(P,_){return Pt(P,"POST","/v2/accounts/mfaSignIn:start",ht(P,_))}(P,{mfaPendingCredential:At.credential,mfaEnrollmentId:Yt,phoneSignInInfo:{recaptchaToken:de}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:At}=yield function ar(P,_){return mr.apply(this,arguments)}(P,{phoneNumber:Se.phoneNumber,recaptchaToken:de});return At}}finally{I._reset()}}),Ea.apply(this,arguments)}function Tl(P,_){return Oa.apply(this,arguments)}function Oa(){return(Oa=(0,m.Z)(function*(P,_){yield X((0,g.m9)(P),_)})).apply(this,arguments)}let Sc=(()=>{class P{constructor(I){this.providerId=P.PROVIDER_ID,this.auth=Qr(I)}verifyPhoneNumber(I,L){return zo(this.auth,I,(0,g.m9)(L))}static credential(I,L){return Jn._fromVerification(I,L)}static credentialFromResult(I){return P.credentialFromTaggedObject(I)}static credentialFromError(I){return P.credentialFromTaggedObject(I.customData||{})}static credentialFromTaggedObject({_tokenResponse:I}){if(!I)return null;const{phoneNumber:L,temporaryProof:de}=I;return L&&de?Jn._fromTokenResponse(L,de):null}}return P.PROVIDER_ID="phone",P.PHONE_SIGN_IN_METHOD="phone",P})();function Qo(P,_){return _?hn(_):(Ue(P._popupRedirectResolver,P,"argument-error"),P._popupRedirectResolver)}class zl extends G{constructor(_){super("custom","custom"),this.params=_}_getIdTokenResponse(_){return Xn(_,this._buildIdpRequest())}_linkToIdToken(_,I){return Xn(_,this._buildIdpRequest(I))}_getReauthenticationResolver(_){return Xn(_,this._buildIdpRequest())}_buildIdpRequest(_){const I={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return _&&(I.idToken=_),I}}function ko(P){return pr(P.auth,new zl(P),P.bypassAuthState)}function Bp(P){const{auth:_,user:I}=P;return Ue(I,_,"internal-error"),Xt(I,new zl(P),P.bypassAuthState)}function fh(P){return Na.apply(this,arguments)}function Na(){return(Na=(0,m.Z)(function*(P){const{auth:_,user:I}=P;return Ue(I,_,"internal-error"),X(I,new zl(P),P.bypassAuthState)})).apply(this,arguments)}class Ac{constructor(_,I,L,de,Se=!1){this.auth=_,this.resolver=L,this.user=de,this.bypassAuthState=Se,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(I)?I:[I]}execute(){var _=this;return new Promise(function(){var I=(0,m.Z)(function*(L,de){_.pendingPromise={resolve:L,reject:de};try{_.eventManager=yield _.resolver._initialize(_.auth),yield _.onExecution(),_.eventManager.registerConsumer(_)}catch(Se){_.reject(Se)}});return function(L,de){return I.apply(this,arguments)}}())}onAuthEvent(_){var I=this;return(0,m.Z)(function*(){const{urlResponse:L,sessionId:de,postBody:Se,tenantId:At,error:Yt,type:xn}=_;if(Yt)return void I.reject(Yt);const Kn={auth:I.auth,requestUri:L,sessionId:de,tenantId:At||void 0,postBody:Se||void 0,user:I.user,bypassAuthState:I.bypassAuthState};try{I.resolve(yield I.getIdpTask(xn)(Kn))}catch(Or){I.reject(Or)}})()}onError(_){this.reject(_)}getIdpTask(_){switch(_){case"signInViaPopup":case"signInViaRedirect":return ko;case"linkViaPopup":case"linkViaRedirect":return fh;case"reauthViaPopup":case"reauthViaRedirect":return Bp;default:qe(this.auth,"internal-error")}}resolve(_){ot(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(_),this.unregisterAndCleanUp()}reject(_){ot(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(_),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const ia=new Qe(2e3,1e4);function $p(P,_,I){return Bu.apply(this,arguments)}function Bu(){return(Bu=(0,m.Z)(function*(P,_,I){const L=Qr(P);st(P,_,Os);const de=Qo(L,I);return new ka(L,"signInViaPopup",_,de).executeNotNull()})).apply(this,arguments)}function ph(P,_,I){return $u.apply(this,arguments)}function $u(){return($u=(0,m.Z)(function*(P,_,I){const L=(0,g.m9)(P);st(L.auth,_,Os);const de=Qo(L.auth,I);return new ka(L.auth,"reauthViaPopup",_,de,L).executeNotNull()})).apply(this,arguments)}function Mc(P,_,I){return Vu.apply(this,arguments)}function Vu(){return(Vu=(0,m.Z)(function*(P,_,I){const L=(0,g.m9)(P);st(L.auth,_,Os);const de=Qo(L.auth,I);return new ka(L.auth,"linkViaPopup",_,de,L).executeNotNull()})).apply(this,arguments)}let ka=(()=>{class P extends Ac{constructor(I,L,de,Se,At){super(I,L,Se,At),this.provider=de,this.authWindow=null,this.pollId=null,P.currentPopupAction&&P.currentPopupAction.cancel(),P.currentPopupAction=this}executeNotNull(){var I=this;return(0,m.Z)(function*(){const L=yield I.execute();return Ue(L,I.auth,"internal-error"),L})()}onExecution(){var I=this;return(0,m.Z)(function*(){ot(1===I.filter.length,"Popup operations only handle one event");const L=jl();I.authWindow=yield I.resolver._openPopup(I.auth,I.provider,I.filter[0],L),I.authWindow.associatedEvent=L,I.resolver._originValidation(I.auth).catch(de=>{I.reject(de)}),I.resolver._isIframeWebStorageSupported(I.auth,de=>{de||I.reject(it(I.auth,"web-storage-unsupported"))}),I.pollUserCancellation()})()}get eventId(){var I;return(null===(I=this.authWindow)||void 0===I?void 0:I.associatedEvent)||null}cancel(){this.reject(it(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,P.currentPopupAction=null}pollUserCancellation(){const I=()=>{var L,de;this.pollId=null!==(de=null===(L=this.authWindow)||void 0===L?void 0:L.window)&&void 0!==de&&de.closed?window.setTimeout(()=>{this.pollId=null,this.reject(it(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(I,ia.get())};I()}}return P.currentPopupAction=null,P})();const Uu="pendingRedirect",Gl=new Map;class go extends Ac{constructor(_,I,L=!1){super(_,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],I,void 0,L),this.eventId=null}execute(){var _=()=>super.execute,I=this;return(0,m.Z)(function*(){let L=Gl.get(I.auth._key());if(!L){try{const Se=(yield function gh(P,_){return sa.apply(this,arguments)}(I.resolver,I.auth))?yield _().call(I):null;L=()=>Promise.resolve(Se)}catch(de){L=()=>Promise.reject(de)}Gl.set(I.auth._key(),L)}return I.bypassAuthState||Gl.set(I.auth._key(),()=>Promise.resolve(null)),L()})()}onAuthEvent(_){var I=()=>super.onAuthEvent,L=this;return(0,m.Z)(function*(){if("signInViaRedirect"===_.type)return I().call(L,_);if("unknown"!==_.type){if(_.eventId){const de=yield L.auth._redirectUserForId(_.eventId);if(de)return L.user=de,I().call(L,_);L.resolve(null)}}else L.resolve(null)})()}onExecution(){return(0,m.Z)(function*(){})()}cleanUp(){}}function sa(){return(sa=(0,m.Z)(function*(P,_){const I=oa(_),L=_s(P);if(!(yield L._isAvailable()))return!1;const de="true"===(yield L._get(I));return yield L._remove(I),de})).apply(this,arguments)}function Wl(P,_){return $i.apply(this,arguments)}function $i(){return($i=(0,m.Z)(function*(P,_){return _s(P)._set(oa(_),"true")})).apply(this,arguments)}function ju(){Gl.clear()}function Qs(P,_){Gl.set(P._key(),_)}function _s(P){return hn(P._redirectPersistence)}function oa(P){return sr(Uu,P.config.apiKey,P.name)}function hu(P,_,I){return function Fo(P,_,I){return fu.apply(this,arguments)}(P,_,I)}function fu(){return(fu=(0,m.Z)(function*(P,_,I){const L=Qr(P);st(P,_,Os),yield L._initializationPromise;const de=Qo(L,I);return yield Wl(de,L),de._openRedirect(L,_,"signInViaRedirect")})).apply(this,arguments)}function Rc(P,_,I){return function qs(P,_,I){return pu.apply(this,arguments)}(P,_,I)}function pu(){return(pu=(0,m.Z)(function*(P,_,I){const L=(0,g.m9)(P);st(L.auth,_,Os),yield L.auth._initializationPromise;const de=Qo(L.auth,I);yield Wl(de,L.auth);const Se=yield Fa(L);return de._openRedirect(L.auth,_,"reauthViaRedirect",Se)})).apply(this,arguments)}function Go(P,_,I){return function us(P,_,I){return Lo.apply(this,arguments)}(P,_,I)}function Lo(){return(Lo=(0,m.Z)(function*(P,_,I){const L=(0,g.m9)(P);st(L.auth,_,Os),yield L.auth._initializationPromise;const de=Qo(L.auth,I);yield Z(!1,L,_.providerId),yield Wl(de,L.auth);const Se=yield Fa(L);return de._openRedirect(L.auth,_,"linkViaRedirect",Se)})).apply(this,arguments)}function Sl(P,_){return Kl.apply(this,arguments)}function Kl(){return(Kl=(0,m.Z)(function*(P,_){return yield Qr(P)._initializationPromise,wa(P,_,!1)})).apply(this,arguments)}function wa(P,_){return Ff.apply(this,arguments)}function Ff(){return(Ff=(0,m.Z)(function*(P,_,I=!1){const L=Qr(P),de=Qo(L,_),At=yield new go(L,de,I).execute();return At&&!I&&(delete At.user._redirectEventId,yield L._persistUserIfCurrent(At.user),yield L._setRedirectUser(null,_)),At})).apply(this,arguments)}function Fa(P){return La.apply(this,arguments)}function La(){return(La=(0,m.Z)(function*(P){const _=jl(`${P.uid}:::`);return P._redirectEventId=_,yield P.auth._setRedirectUser(P),yield P.auth._persistUserIfCurrent(P),_})).apply(this,arguments)}class Al{constructor(_){this.auth=_,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(_){this.consumers.add(_),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,_)&&(this.sendToConsumer(this.queuedRedirectEvent,_),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(_){this.consumers.delete(_)}onEvent(_){if(this.hasEventBeenHandled(_))return!1;let I=!1;return this.consumers.forEach(L=>{this.isEventForConsumer(_,L)&&(I=!0,this.sendToConsumer(_,L),this.saveEventToCache(_))}),this.hasHandledPotentialRedirect||!function ql(P){switch(P.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return xc(P);default:return!1}}(_)||(this.hasHandledPotentialRedirect=!0,I||(this.queuedRedirectEvent=_,I=!0)),I}sendToConsumer(_,I){var L;if(_.error&&!xc(_)){const de=(null===(L=_.error.code)||void 0===L?void 0:L.split("auth/")[1])||"internal-error";I.onError(it(this.auth,de))}else I.onAuthEvent(_)}isEventForConsumer(_,I){const L=null===I.eventId||!!_.eventId&&_.eventId===I.eventId;return I.filter.includes(_.type)&&L}hasEventBeenHandled(_){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(rl(_))}saveEventToCache(_){this.cachedEventUids.add(rl(_)),this.lastProcessedEventTime=Date.now()}}function rl(P){return[P.type,P.eventId,P.sessionId,P.tenantId].filter(_=>_).join("-")}function xc({type:P,error:_}){return"unknown"===P&&"auth/no-auth-event"===(null==_?void 0:_.code)}function Ml(P){return Rl.apply(this,arguments)}function Rl(){return(Rl=(0,m.Z)(function*(P,_={}){return Pt(P,"GET","/v1/projects",_)})).apply(this,arguments)}const dd=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,ks=/^https?/;function Ba(){return(Ba=(0,m.Z)(function*(P){if(P.config.emulator)return;const{authorizedDomains:_}=yield Ml(P);for(const I of _)try{if(Hu(I))return}catch{}qe(P,"unauthorized-domain")})).apply(this,arguments)}function Hu(P){const _=Et(),{protocol:I,hostname:L}=new URL(_);if(P.startsWith("chrome-extension://")){const At=new URL(P);return""===At.hostname&&""===L?"chrome-extension:"===I&&P.replace("chrome-extension://","")===_.replace("chrome-extension://",""):"chrome-extension:"===I&&At.hostname===L}if(!ks.test(I))return!1;if(dd.test(P))return L===P;const de=P.replace(/\./g,"\\.");return new RegExp("^(.+\\."+de+"|"+de+")$","i").test(L)}const la=new Qe(3e4,6e4);function il(){const P=Mi().___jsl;if(null!=P&&P.H)for(const _ of Object.keys(P.H))if(P.H[_].r=P.H[_].r||[],P.H[_].L=P.H[_].L||[],P.H[_].r=[...P.H[_].L],P.CP)for(let I=0;I<P.CP.length;I++)P.CP[I]=null}let $a=null;const yh=new Qe(5e3,15e3),pm="__/auth/iframe",Lf="emulator/auth/iframe",Vp={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Zi=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function gu(P){const _=P.config;Ue(_.authDomain,P,"auth-domain-config-required");const I=_.emulator?xe(_,Lf):`https://${P.config.authDomain}/${pm}`,L={apiKey:_.apiKey,appName:P.name,v:le.SDK_VERSION},de=Zi.get(P.config.apiHost);de&&(L.eid=de);const Se=P._getFrameworks();return Se.length&&(L.fw=Se.join(",")),`${I}?${(0,g.xO)(L).slice(1)}`}function xl(){return xl=(0,m.Z)(function*(P){const _=yield function sl(P){return $a=$a||function zu(P){return new Promise((_,I)=>{var L,de,Se;function At(){il(),gapi.load("gapi.iframes",{callback:()=>{_(gapi.iframes.getContext())},ontimeout:()=>{il(),I(it(P,"network-request-failed"))},timeout:la.get()})}if(null!==(de=null===(L=Mi().gapi)||void 0===L?void 0:L.iframes)&&void 0!==de&&de.Iframe)_(gapi.iframes.getContext());else{if(null===(Se=Mi().gapi)||void 0===Se||!Se.load){const Yt=or("iframefcb");return Mi()[Yt]=()=>{gapi.load?At():I(it(P,"network-request-failed"))},Lr(`https://apis.google.com/js/api.js?onload=${Yt}`).catch(xn=>I(xn))}At()}}).catch(_=>{throw $a=null,_})}(P),$a}(P),I=Mi().gapi;return Ue(I,P,"internal-error"),_.open({where:document.body,url:gu(P),messageHandlersFilter:I.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Vp,dontclear:!0},L=>new Promise(function(){var de=(0,m.Z)(function*(Se,At){yield L.restyle({setHideOnLeave:!1});const Yt=it(P,"network-request-failed"),xn=Mi().setTimeout(()=>{At(Yt)},yh.get());function Kn(){Mi().clearTimeout(xn),Se(L)}L.ping(Kn).then(Kn,()=>{At(Yt)})});return function(Se,At){return de.apply(this,arguments)}}()))}),xl.apply(this,arguments)}const mu={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class mi{constructor(_){this.window=_,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const Gu="__/auth/handler",Xo="emulator/auth/handler",Wu=encodeURIComponent("fac");function Pc(P,_,I,L,de,Se){return al.apply(this,arguments)}function al(){return(al=(0,m.Z)(function*(P,_,I,L,de,Se){Ue(P.config.authDomain,P,"auth-domain-config-required"),Ue(P.config.apiKey,P,"invalid-api-key");const At={apiKey:P.config.apiKey,appName:P.name,authType:I,redirectUrl:L,v:le.SDK_VERSION,eventId:de};if(_ instanceof Os){_.setDefaultLanguage(P.languageCode),At.providerId=_.providerId||"",(0,g.xb)(_.getCustomParameters())||(At.customParameters=JSON.stringify(_.getCustomParameters()));for(const[Or,pi]of Object.entries(Se||{}))At[Or]=pi}if(_ instanceof Ys){const Or=_.getScopes().filter(pi=>""!==pi);Or.length>0&&(At.scopes=Or.join(","))}P.tenantId&&(At.tid=P.tenantId);const Yt=At;for(const Or of Object.keys(Yt))void 0===Yt[Or]&&delete Yt[Or];const xn=yield P._getAppCheckToken(),Kn=xn?`#${Wu}=${encodeURIComponent(xn)}`:"";return`${function _h({config:P}){return P.emulator?xe(P,Xo):`https://${P.authDomain}/${Gu}`}(P)}?${(0,g.xO)(Yt).slice(1)}${Kn}`})).apply(this,arguments)}const Mo="webStorageSupport",Oc=class hd{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=bl,this._completeRedirectFn=wa,this._overrideRedirectResult=Qs}_openPopup(_,I,L,de){var Se=this;return(0,m.Z)(function*(){var At;ot(null===(At=Se.eventManagers[_._key()])||void 0===At?void 0:At.manager,"_initialize() not called before _openPopup()");const Yt=yield Pc(_,I,L,Et(),de);return function Ui(P,_,I,L=500,de=600){const Se=Math.max((window.screen.availHeight-de)/2,0).toString(),At=Math.max((window.screen.availWidth-L)/2,0).toString();let Yt="";const xn=Object.assign(Object.assign({},mu),{width:L.toString(),height:de.toString(),top:Se,left:At}),Kn=(0,g.z$)().toLowerCase();I&&(Yt=q(Kn)?"_blank":I),K(Kn)&&(_=_||"http://localhost",xn.scrollbars="yes");const Or=Object.entries(xn).reduce((mo,[Xl,kc])=>`${mo}${Xl}=${kc},`,"");if(function Wt(P=(0,g.z$)()){var _;return Rt(P)&&!(null===(_=window.navigator)||void 0===_||!_.standalone)}(Kn)&&"_self"!==Yt)return function Ia(P,_){const I=document.createElement("a");I.href=P,I.target=_;const L=document.createEvent("MouseEvent");L.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),I.dispatchEvent(L)}(_||"",Yt),new mi(null);const pi=window.open(_||"",Yt,Or);Ue(pi,P,"popup-blocked");try{pi.focus()}catch{}return new mi(pi)}(_,Yt,jl())})()}_openRedirect(_,I,L,de){var Se=this;return(0,m.Z)(function*(){return yield Se._originValidation(_),function po(P){Mi().location.href=P}(yield Pc(_,I,L,Et(),de)),new Promise(()=>{})})()}_initialize(_){const I=_._key();if(this.eventManagers[I]){const{manager:de,promise:Se}=this.eventManagers[I];return de?Promise.resolve(de):(ot(Se,"If manager is not set, promise should be"),Se)}const L=this.initAndGetManager(_);return this.eventManagers[I]={promise:L},L.catch(()=>{delete this.eventManagers[I]}),L}initAndGetManager(_){var I=this;return(0,m.Z)(function*(){const L=yield function Qi(P){return xl.apply(this,arguments)}(_),de=new Al(_);return L.register("authEvent",Se=>(Ue(null==Se?void 0:Se.authEvent,_,"invalid-auth-event"),{status:de.onEvent(Se.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),I.eventManagers[_._key()]={manager:de},I.iframes[_._key()]=L,de})()}_isIframeWebStorageSupported(_,I){this.iframes[_._key()].send(Mo,{type:Mo},de=>{var Se;const At=null===(Se=null==de?void 0:de[0])||void 0===Se?void 0:Se[Mo];void 0!==At&&I(!!At),qe(_,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(_){const I=_._key();return this.originValidationPromises[I]||(this.originValidationPromises[I]=function aa(P){return Ba.apply(this,arguments)}(_)),this.originValidationPromises[I]}get _shouldInitProactively(){return kt()||z()||Rt()}};class Eh{constructor(_){this.factorId=_}_process(_,I,L){switch(I.type){case"enroll":return this._finalizeEnroll(_,I.credential,L);case"signin":return this._finalizeSignIn(_,I.credential);default:return Ct("unexpected MultiFactorSessionType")}}}class fd extends Eh{constructor(_){super("phone"),this.credential=_}static _fromCredential(_){return new fd(_)}_finalizeEnroll(_,I,L){return function os(P,_){return Pt(P,"POST","/v2/accounts/mfaEnrollment:finalize",ht(P,_))}(_,{idToken:I,displayName:L,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(_,I){return function As(P,_){return Pt(P,"POST","/v2/accounts/mfaSignIn:finalize",ht(P,_))}(_,{mfaPendingCredential:I,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let jp=(()=>{class P{constructor(){}static assertion(I){return fd._fromCredential(I)}}return P.FACTOR_ID="phone",P})();var Yu="@firebase/auth";class Zu{constructor(_){this.auth=_,this.internalListeners=new Map}getUid(){var _;return this.assertAuthConfigured(),(null===(_=this.auth.currentUser)||void 0===_?void 0:_.uid)||null}getToken(_){var I=this;return(0,m.Z)(function*(){return I.assertAuthConfigured(),yield I.auth._initializationPromise,I.auth.currentUser?{accessToken:yield I.auth.currentUser.getIdToken(_)}:null})()}addAuthTokenListener(_){if(this.assertAuthConfigured(),this.internalListeners.has(_))return;const I=this.auth.onIdTokenChanged(L=>{_((null==L?void 0:L.stsTokenManager.accessToken)||null)});this.internalListeners.set(_,I),this.updateProactiveRefresh()}removeAuthTokenListener(_){this.assertAuthConfigured();const I=this.internalListeners.get(_);I&&(this.internalListeners.delete(_),I(),this.updateProactiveRefresh())}assertAuthConfigured(){Ue(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const Nc=(0,g.Pz)("authIdTokenMaxAge")||300;let Ua=null;const Bf=P=>function(){var _=(0,m.Z)(function*(I){const L=I&&(yield I.getIdTokenResult()),de=L&&((new Date).getTime()-Date.parse(L.issuedAtTime))/1e3;if(de&&de>Nc)return;const Se=null==L?void 0:L.token;Ua!==Se&&(Ua=Se,yield fetch(P,{method:Se?"POST":"DELETE",headers:Se?{Authorization:`Bearer ${Se}`}:{}}))});return function(I){return _.apply(this,arguments)}}();function Ql(P=(0,le.getApp)()){const _=(0,le._getProvider)(P,"auth");if(_.isInitialized())return _.getImmediate();const I=function rs(P,_){const I=(0,le._getProvider)(P,"auth");if(I.isInitialized()){const de=I.getImmediate(),Se=I.getOptions();if((0,g.vZ)(Se,null!=_?_:{}))return de;qe(de,"already-initialized")}return I.initialize({options:_})}(P,{popupRedirectResolver:Oc,persistence:[oo,Yo,bl]}),L=(0,g.Pz)("authTokenSyncURL");if(L){const Se=Bf(L);(function we(P,_,I){(0,g.m9)(P).beforeAuthStateChanged(_,I)})(I,Se,()=>Se(I.currentUser)),function j(P,_,I,L){(0,g.m9)(P).onIdTokenChanged(_,I,L)}(I,At=>Se(At))}const de=(0,g.q4)("auth");return de&&Ps(I,`http://${de}`),I}!function gd(P){(0,le._registerComponent)(new Ne.wA("auth",(_,{options:I})=>{const L=_.getProvider("app").getImmediate(),de=_.getProvider("heartbeat"),Se=_.getProvider("app-check-internal"),{apiKey:At,authDomain:Yt}=L.options;Ue(At&&!At.includes(":"),"invalid-api-key",{appName:L.name});const xn={apiKey:At,authDomain:Yt,clientPlatform:P,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:an(P)},Kn=new _i(L,de,Se,xn);return function ds(P,_){const I=(null==_?void 0:_.persistence)||[],L=(Array.isArray(I)?I:[I]).map(hn);null!=_&&_.errorMap&&P._updateErrorMap(_.errorMap),P._initializeWithPersistence(L,null==_?void 0:_.popupRedirectResolver)}(Kn,I),Kn},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((_,I,L)=>{_.getProvider("auth-internal").initialize()})),(0,le._registerComponent)(new Ne.wA("auth-internal",_=>{const I=Qr(_.getProvider("auth").getImmediate());return new Zu(I)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,le.registerVersion)(Yu,"0.23.2",function yu(P){switch(P){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(P)),(0,le.registerVersion)(Yu,"0.23.2","esm2017")}("Browser")},2810:(vn,ft,k)=>{"use strict";k.d(ft,{u7:()=>cm,Jj:()=>sn,IX:()=>sm,my:()=>Fs,xU:()=>wc,Lz:()=>bn,WA:()=>_n,F8:()=>yi,$q:()=>lu,W:()=>Pf,EK:()=>gs,PU:()=>Mu,l7:()=>Fa,Ky:()=>Fn,Xb:()=>Yi,Cf:()=>gi,K9:()=>pn,Me:()=>Rc,yq:()=>Jr,Wi:()=>Mf,ET:()=>qo,Ab:()=>N_,vr:()=>O_,Fc:()=>y,hJ:()=>ld,B$:()=>rh,at:()=>ad,oe:()=>D_,AK:()=>Zv,TF:()=>H,JU:()=>ih,ST:()=>s,fH:()=>l,Ix:()=>N,Wu:()=>Vv,Lx:()=>$v,qY:()=>co,GL:()=>kp,QT:()=>Of,kl:()=>I_,Xk:()=>cv,PL:()=>C0,UQ:()=>b0,zN:()=>C_,ad:()=>cy,nP:()=>k_,b9:()=>Lv,vh:()=>rv,Pb:()=>be,L$:()=>dt,cf:()=>Gv,sc:()=>T_,Xo:()=>m_,IO:()=>p_,iE:()=>ud,Eo:()=>xf,i3:()=>Yv,Bt:()=>P_,pl:()=>b_,Ub:()=>os,qK:()=>uv,TQ:()=>Bv,e0:()=>iv,r7:()=>zv,Mx:()=>C,ar:()=>g_});var Ie,m=k(5861),g=k(6881),le=k(4859),_e=k(1877),Le=k(2090),Ne=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},he={},Fe=Fe||{},Ce=Ne||self;function me(){}function je(i){var e=typeof i;return"array"==(e="object"!=e?e:i?Array.isArray(i)?"array":e:"null")||"object"==e&&"number"==typeof i.length}function ge(i){var e=typeof i;return"object"==e&&null!=i||"function"==e}var Ze="closure_uid_"+(1e9*Math.random()>>>0),yt=0;function Ae(i,e,t){return i.call.apply(i.bind,arguments)}function De(i,e,t){if(!i)throw Error();if(2<arguments.length){var a=Array.prototype.slice.call(arguments,2);return function(){var d=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(d,a),i.apply(e,d)}}return function(){return i.apply(e,arguments)}}function pt(i,e,t){return(pt=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Ae:De).apply(null,arguments)}function ct(i,e){var t=Array.prototype.slice.call(arguments,1);return function(){var a=t.slice();return a.push.apply(a,arguments),i.apply(this,a)}}function qe(i,e){function t(){}t.prototype=e.prototype,i.$=e.prototype,i.prototype=new t,i.prototype.constructor=i,i.ac=function(a,d,p){for(var E=Array(arguments.length-2),B=2;B<arguments.length;B++)E[B-2]=arguments[B];return e.prototype[d].apply(a,E)}}function it(){this.s=this.s,this.o=this.o}it.prototype.s=!1,it.prototype.ra=function(){!this.s&&(this.s=!0,this.N(),0)&&function ze(i){Object.prototype.hasOwnProperty.call(i,Ze)&&i[Ze]||(i[Ze]=++yt)}(this)},it.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const st=Array.prototype.indexOf?function(i,e){return Array.prototype.indexOf.call(i,e,void 0)}:function(i,e){if("string"==typeof i)return"string"!=typeof e||1!=e.length?-1:i.indexOf(e,0);for(let t=0;t<i.length;t++)if(t in i&&i[t]===e)return t;return-1};function Je(i){const e=i.length;if(0<e){const t=Array(e);for(let a=0;a<e;a++)t[a]=i[a];return t}return[]}function Ue(i,e){for(let t=1;t<arguments.length;t++){const a=arguments[t];if(je(a)){const d=i.length||0,p=a.length||0;i.length=d+p;for(let E=0;E<p;E++)i[d+E]=a[E]}else i.push(a)}}function Ct(i,e){this.type=i,this.g=this.target=e,this.defaultPrevented=!1}Ct.prototype.h=function(){this.defaultPrevented=!0};var ot=function(){if(!Ce.addEventListener||!Object.defineProperty)return!1;var i=!1,e=Object.defineProperty({},"passive",{get:function(){i=!0}});try{Ce.addEventListener("test",me,e),Ce.removeEventListener("test",me,e)}catch{}return i}();function Et(i){return/^[\s\xa0]*$/.test(i)}var Tt=String.prototype.trim?function(i){return i.trim()}:function(i){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(i)[1]};function fe(i,e){return i<e?-1:i>e?1:0}function Oe(){var i=Ce.navigator;return i&&(i=i.userAgent)?i:""}function Ge(i){return-1!=Oe().indexOf(i)}function Qe(i){return Qe[" "](i),i}function xe(i,e,t){return Object.prototype.hasOwnProperty.call(i,e)?i[e]:i[e]=t(e)}Qe[" "]=me;var xt,i,Be=Ge("Opera"),We=Ge("Trident")||Ge("MSIE"),vt=Ge("Edge"),ht=vt||We,Pt=Ge("Gecko")&&!(-1!=Oe().toLowerCase().indexOf("webkit")&&!Ge("Edge"))&&!(Ge("Trident")||Ge("MSIE"))&&!Ge("Edge"),ce=-1!=Oe().toLowerCase().indexOf("webkit")&&!Ge("Edge");function cn(){var i=Ce.document;return i?i.documentMode:void 0}e:{var rt="",Ft=(i=Oe(),Pt?/rv:([^\);]+)(\)|;)/.exec(i):vt?/Edge\/([\d\.]+)/.exec(i):We?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(i):ce?/WebKit\/(\S+)/.exec(i):Be?/(?:Version)[ \/]?(\S+)/.exec(i):void 0);if(Ft&&(rt=Ft?Ft[1]:""),We){var qt=cn();if(null!=qt&&qt>parseFloat(rt)){xt=String(qt);break e}}xt=rt}var Cn={},Tn=Ce.document&&We&&(cn()||parseInt(xt,10))||void 0;function $t(i,e){if(Ct.call(this,i?i.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,i){var t=this.type=i.type,a=i.changedTouches&&i.changedTouches.length?i.changedTouches[0]:null;if(this.target=i.target||i.srcElement,this.g=e,e=i.relatedTarget){if(Pt){e:{try{Qe(e.nodeName);var d=!0;break e}catch{}d=!1}d||(e=null)}}else"mouseover"==t?e=i.fromElement:"mouseout"==t&&(e=i.toElement);this.relatedTarget=e,a?(this.clientX=void 0!==a.clientX?a.clientX:a.pageX,this.clientY=void 0!==a.clientY?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0):(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0),this.button=i.button,this.key=i.key||"",this.ctrlKey=i.ctrlKey,this.altKey=i.altKey,this.shiftKey=i.shiftKey,this.metaKey=i.metaKey,this.pointerId=i.pointerId||0,this.pointerType="string"==typeof i.pointerType?i.pointerType:tr[i.pointerType]||"",this.state=i.state,this.i=i,i.defaultPrevented&&$t.$.h.call(this)}}qe($t,Ct);var tr={2:"touch",3:"pen",4:"mouse"};$t.prototype.h=function(){$t.$.h.call(this);var i=this.i;i.preventDefault?i.preventDefault():i.returnValue=!1};var ir="closure_listenable_"+(1e6*Math.random()|0),fr=0;function tn(i,e,t,a,d){this.listener=i,this.proxy=null,this.src=e,this.type=t,this.capture=!!a,this.la=d,this.key=++fr,this.fa=this.ia=!1}function _r(i){i.fa=!0,i.listener=null,i.proxy=null,i.src=null,i.la=null}function cr(i,e,t){for(const a in i)e.call(t,i[a],a,i)}function Sn(i){const e={};for(const t in i)e[t]=i[t];return e}const kr="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function $r(i,e){let t,a;for(let d=1;d<arguments.length;d++){for(t in a=arguments[d],a)i[t]=a[t];for(let p=0;p<kr.length;p++)t=kr[p],Object.prototype.hasOwnProperty.call(a,t)&&(i[t]=a[t])}}function wn(i){this.src=i,this.g={},this.h=0}function dn(i,e){var t=e.type;if(t in i.g){var p,a=i.g[t],d=st(a,e);(p=0<=d)&&Array.prototype.splice.call(a,d,1),p&&(_r(e),0==i.g[t].length&&(delete i.g[t],i.h--))}}function Vn(i,e,t,a){for(var d=0;d<i.length;++d){var p=i[d];if(!p.fa&&p.listener==e&&p.capture==!!t&&p.la==a)return d}return-1}wn.prototype.add=function(i,e,t,a,d){var p=i.toString();(i=this.g[p])||(i=this.g[p]=[],this.h++);var E=Vn(i,e,a,d);return-1<E?(e=i[E],t||(e.ia=!1)):((e=new tn(e,this.src,p,!!a,d)).ia=t,i.push(e)),e};var Mr="closure_lm_"+(1e6*Math.random()|0),Rr={};function qn(i,e,t,a,d){if(a&&a.once)return zn(i,e,t,a,d);if(Array.isArray(e)){for(var p=0;p<e.length;p++)qn(i,e[p],t,a,d);return null}return t=Mt(t),i&&i[ir]?i.O(e,t,ge(a)?!!a.capture:!!a,d):br(i,e,t,!1,a,d)}function br(i,e,t,a,d,p){if(!e)throw Error("Invalid event type");var E=ge(d)?!!d.capture:!!d,B=Ee(i);if(B||(i[Mr]=B=new wn(i)),(t=B.add(e,t,a,E,p)).proxy)return t;if(a=function Dr(){const e=Ht;return function i(t){return e.call(i.src,i.listener,t)}}(),t.proxy=a,a.src=i,a.listener=t,i.addEventListener)ot||(d=E),void 0===d&&(d=!1),i.addEventListener(e.toString(),a,d);else if(i.attachEvent)i.attachEvent($n(e.toString()),a);else{if(!i.addListener||!i.removeListener)throw Error("addEventListener and attachEvent are unavailable.");i.addListener(a)}return t}function zn(i,e,t,a,d){if(Array.isArray(e)){for(var p=0;p<e.length;p++)zn(i,e[p],t,a,d);return null}return t=Mt(t),i&&i[ir]?i.P(e,t,ge(a)?!!a.capture:!!a,d):br(i,e,t,!0,a,d)}function Rn(i,e,t,a,d){if(Array.isArray(e))for(var p=0;p<e.length;p++)Rn(i,e[p],t,a,d);else a=ge(a)?!!a.capture:!!a,t=Mt(t),i&&i[ir]?(i=i.i,(e=String(e).toString())in i.g&&-1<(t=Vn(p=i.g[e],t,a,d))&&(_r(p[t]),Array.prototype.splice.call(p,t,1),0==p.length&&(delete i.g[e],i.h--))):i&&(i=Ee(i))&&(e=i.g[e.toString()],i=-1,e&&(i=Vn(e,t,a,d)),(t=-1<i?e[i]:null)&&Fr(t))}function Fr(i){if("number"!=typeof i&&i&&!i.fa){var e=i.src;if(e&&e[ir])dn(e.i,i);else{var t=i.type,a=i.proxy;e.removeEventListener?e.removeEventListener(t,a,i.capture):e.detachEvent?e.detachEvent($n(t),a):e.addListener&&e.removeListener&&e.removeListener(a),(t=Ee(e))?(dn(t,i),0==t.h&&(t.src=null,e[Mr]=null)):_r(i)}}}function $n(i){return i in Rr?Rr[i]:Rr[i]="on"+i}function Ht(i,e){if(i.fa)i=!0;else{e=new $t(e,this);var t=i.listener,a=i.la||i.src;i.ia&&Fr(i),i=t.call(a,e)}return i}function Ee(i){return(i=i[Mr])instanceof wn?i:null}var Ye="__closure_events_fn_"+(1e9*Math.random()>>>0);function Mt(i){return"function"==typeof i?i:(i[Ye]||(i[Ye]=function(e){return i.handleEvent(e)}),i[Ye])}function Qt(){it.call(this),this.i=new wn(this),this.S=this,this.J=null}function hn(i,e){var t,a=i.J;if(a)for(t=[];a;a=a.J)t.push(a);if(i=i.S,a=e.type||e,"string"==typeof e)e=new Ct(e,i);else if(e instanceof Ct)e.target=e.target||i;else{var d=e;$r(e=new Ct(a,i),d)}if(d=!0,t)for(var p=t.length-1;0<=p;p--){var E=e.g=t[p];d=Tr(E,a,!0,e)&&d}if(d=Tr(E=e.g=i,a,!0,e)&&d,d=Tr(E,a,!1,e)&&d,t)for(p=0;p<t.length;p++)d=Tr(E=e.g=t[p],a,!1,e)&&d}function Tr(i,e,t,a){if(!(e=i.i.g[String(e)]))return!0;e=e.concat();for(var d=!0,p=0;p<e.length;++p){var E=e[p];if(E&&!E.fa&&E.capture==t){var B=E.listener,Y=E.la||E.src;E.ia&&dn(i.i,E),d=!1!==B.call(Y,a)&&d}}return d&&!a.defaultPrevented}qe(Qt,it),Qt.prototype[ir]=!0,Qt.prototype.removeEventListener=function(i,e,t,a){Rn(this,i,e,t,a)},Qt.prototype.N=function(){if(Qt.$.N.call(this),this.i){var e,i=this.i;for(e in i.g){for(var t=i.g[e],a=0;a<t.length;a++)_r(t[a]);delete i.g[e],i.h--}}this.J=null},Qt.prototype.O=function(i,e,t,a){return this.i.add(String(i),e,!1,t,a)},Qt.prototype.P=function(i,e,t,a){return this.i.add(String(i),e,!0,t,a)};var Yn=Ce.JSON.stringify;function sr(){var i=_t;let e=null;return i.g&&(e=i.g,i.g=i.g.next,i.g||(i.h=null),e.next=null),e}var Re,pe=new class{constructor(i,e){this.i=i,this.j=e,this.h=0,this.g=null}get(){let i;return 0<this.h?(this.h--,i=this.g,this.g=i.next,i.next=null):i=this.i(),i}}(()=>new K,i=>i.reset());class K{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function z(i){Ce.setTimeout(()=>{throw i},0)}function q(i,e){Re||function lt(){var i=Ce.Promise.resolve(void 0);Re=function(){i.then(Rt)}}(),$e||(Re(),$e=!0),_t.add(i,e)}var $e=!1,_t=new class et{constructor(){this.h=this.g=null}add(e,t){const a=pe.get();a.set(e,t),this.h?this.h.next=a:this.g=a,this.h=a}};function Rt(){for(var i;i=sr();){try{i.h.call(i.g)}catch(t){z(t)}var e=pe;e.j(i),100>e.h&&(e.h++,i.next=e.g,e.g=i)}$e=!1}function Zt(i,e){Qt.call(this),this.h=i||1,this.g=e||Ce,this.j=pt(this.qb,this),this.l=Date.now()}function Wt(i){i.ga=!1,i.T&&(i.g.clearTimeout(i.T),i.T=null)}function fn(i,e,t){if("function"==typeof i)t&&(i=pt(i,t));else{if(!i||"function"!=typeof i.handleEvent)throw Error("Invalid listener argument");i=pt(i.handleEvent,i)}return 2147483647<Number(e)?-1:Ce.setTimeout(i,e||0)}function kt(i){i.g=fn(()=>{i.g=null,i.i&&(i.i=!1,kt(i))},i.j);const e=i.h;i.h=null,i.m.apply(null,e)}qe(Zt,Qt),(Ie=Zt.prototype).ga=!1,Ie.T=null,Ie.qb=function(){if(this.ga){var i=Date.now()-this.l;0<i&&i<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-i):(this.T&&(this.g.clearTimeout(this.T),this.T=null),hn(this,"tick"),this.ga&&(Wt(this),this.start()))}},Ie.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Ie.N=function(){Zt.$.N.call(this),Wt(this),delete this.g};class Kt extends it{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:kt(this)}N(){super.N(),this.g&&(Ce.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function an(i){it.call(this),this.h=i,this.g={}}qe(an,it);var wt=[];function bt(i,e,t,a){Array.isArray(t)||(t&&(wt[0]=t.toString()),t=wt);for(var d=0;d<t.length;d++){var p=qn(e,t[d],a||i.handleEvent,!1,i.h||i);if(!p)break;i.g[p.key]=p}}function jt(i){cr(i.g,function(e,t){this.g.hasOwnProperty(t)&&Fr(e)},i),i.g={}}function mn(){this.g=!0}function Qn(i,e,t,a){i.info(function(){return"XMLHTTP TEXT ("+e+"): "+function Lr(i,e){if(!i.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(i=0;i<t.length;i++)if(Array.isArray(t[i])){var a=t[i];if(!(2>a.length)){var d=a[1];if(Array.isArray(d)&&!(1>d.length)){var p=d[0];if("noop"!=p&&"stop"!=p&&"close"!=p)for(var E=1;E<d.length;E++)d[E]=""}}}return Yn(t)}catch{return e}}(i,t)+(a?" "+a:"")})}an.prototype.N=function(){an.$.N.call(this),jt(this)},an.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},mn.prototype.Ea=function(){this.g=!1},mn.prototype.info=function(){};var or={},dr=null;function li(){return dr=dr||new Qt}function xs(i){Ct.call(this,or.Ta,i)}function Ji(i){const e=li();hn(e,new xs(e))}function Ti(i,e){Ct.call(this,or.STAT_EVENT,i),this.stat=e}function oi(i){const e=li();hn(e,new Ti(e,i))}function ws(i,e){Ct.call(this,or.Ua,i),this.size=e}function _i(i,e){if("function"!=typeof i)throw Error("Fn must not be null and must be a function");return Ce.setTimeout(function(){i()},e)}or.Ta="serverreachability",qe(xs,Ct),or.STAT_EVENT="statevent",qe(Ti,Ct),or.Ua="timingevent",qe(ws,Ct);var Qr={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},es={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function rs(){}function Ps(){}rs.prototype.h=null;var oe,W={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function ee(){Ct.call(this,"d")}function ye(){Ct.call(this,"c")}function G(){}function ie(i,e,t,a){this.l=i,this.j=e,this.m=t,this.W=a||1,this.U=new an(this),this.P=nt,this.V=new Zt(i=ht?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.aa=-1,this.J=!1,this.O=0,this.M=null,this.ca=this.K=this.ba=this.S=!1,this.h=new He}function He(){this.i=null,this.g="",this.h=!1}qe(ee,Ct),qe(ye,Ct),qe(G,rs),G.prototype.g=function(){return new XMLHttpRequest},G.prototype.i=function(){return{}},oe=new G;var nt=45e3,gt={},St={};function gn(i,e,t){i.L=1,i.v=ar(Si(e)),i.s=t,i.S=!0,En(i,null)}function En(i,e){i.G=Date.now(),ii(i),i.A=Si(i.v);var t=i.A,a=i.W;Array.isArray(a)||(a=[String(a)]),ms(t.i,"t",a),i.C=0,t=i.l.I,i.h=new He,i.g=Ai(i.l,t?e:null,!i.s),0<i.O&&(i.M=new Kt(pt(i.Pa,i,i.g),i.O)),bt(i.U,i.g,"readystatechange",i.nb),e=i.I?Sn(i.I):{},i.s?(i.u||(i.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",i.g.ha(i.A,i.u,i.s,e)):(i.u="GET",i.g.ha(i.A,i.u,null,e)),Ji(),function Nn(i,e,t,a,d,p){i.info(function(){if(i.g)if(p)for(var E="",B=p.split("&"),Y=0;Y<B.length;Y++){var ae=B[Y].split("=");if(1<ae.length){var Me=ae[0];ae=ae[1];var at=Me.split("_");E=2<=at.length&&"type"==at[1]?E+(Me+"=")+ae+"&":E+(Me+"=redacted&")}}else E=null;else E=p;return"XMLHTTP REQ ("+a+") [attempt "+d+"]: "+e+"\n"+t+"\n"+E})}(i.j,i.u,i.A,i.m,i.W,i.s)}function Wn(i){return!!i.g&&"GET"==i.u&&2!=i.L&&i.l.Ha}function vr(i,e,t){let d,a=!0;for(;!i.J&&i.C<t.length;){if(d=Ci(i,t),d==St){4==e&&(i.o=4,oi(14),a=!1),Qn(i.j,i.m,null,"[Incomplete Response]");break}if(d==gt){i.o=4,oi(15),Qn(i.j,i.m,t,"[Invalid Chunk]"),a=!1;break}Qn(i.j,i.m,d,null),Yr(i,d)}Wn(i)&&d!=St&&d!=gt&&(i.h.g="",i.C=0),4!=e||0!=t.length||i.h.h||(i.o=1,oi(16),a=!1),i.i=i.i&&a,a?0<t.length&&!i.ca&&(i.ca=!0,(e=i.l).g==i&&e.ca&&!e.L&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+t.length),Ir(e),e.L=!0,oi(11))):(Qn(i.j,i.m,t,"[Invalid Chunked Response]"),Er(i),Dn(i))}function Ci(i,e){var t=i.C,a=e.indexOf("\n",t);return-1==a?St:(t=Number(e.substring(t,a)),isNaN(t)?gt:(a+=1)+t>e.length?St:(e=e.substr(a,t),i.C=a+t,e))}function ii(i){i.Y=Date.now()+i.P,qi(i,i.P)}function qi(i,e){if(null!=i.B)throw Error("WatchDog timer not null");i.B=_i(pt(i.lb,i),e)}function qr(i){i.B&&(Ce.clearTimeout(i.B),i.B=null)}function Dn(i){0==i.l.H||i.J||Ei(i.l,i)}function Er(i){qr(i);var e=i.M;e&&"function"==typeof e.ra&&e.ra(),i.M=null,Wt(i.V),jt(i.U),i.g&&(e=i.g,i.g=null,e.abort(),e.ra())}function Yr(i,e){try{var t=i.l;if(0!=t.H&&(t.g==i||Pi(t.h,i)))if(!i.K&&Pi(t.h,i)&&3==t.H){try{var a=t.Ja.g.parse(e)}catch{a=null}if(Array.isArray(a)&&3==a.length){var d=a;if(0==d[0]){e:if(!t.u){if(t.g){if(!(t.g.G+3e3<i.G))break e;Cr(t),w(t)}kn(t),oi(18)}}else t.Fa=d[1],0<t.Fa-t.V&&37500>d[2]&&t.M&&0==t.A&&!t.v&&(t.v=_i(pt(t.ib,t),6e3));if(1>=Hi(t.h)&&t.na){try{t.na()}catch{}t.na=void 0}}else Di(t,11)}else if((i.K||t.g==i)&&Cr(t),!Et(e))for(d=t.Ja.g.parse(e),e=0;e<d.length;e++){let ae=d[e];if(t.V=ae[0],ae=ae[1],2==t.H)if("c"==ae[0]){t.J=ae[1],t.oa=ae[2];const Me=ae[3];null!=Me&&(t.qa=Me,t.j.info("VER="+t.qa));const at=ae[4];null!=at&&(t.Ga=at,t.j.info("SVER="+t.Ga));const Ut=ae[5];null!=Ut&&"number"==typeof Ut&&0<Ut&&(t.K=a=1.5*Ut,t.j.info("backChannelRequestTimeoutMs_="+a)),a=t;const on=i.g;if(on){const On=on.g?on.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(On){var p=a.h;p.g||-1==On.indexOf("spdy")&&-1==On.indexOf("quic")&&-1==On.indexOf("h2")||(p.j=p.l,p.g=new Set,p.h&&(ho(p,p.h),p.h=null))}if(a.F){const er=on.g?on.g.getResponseHeader("X-HTTP-Session-Id"):null;er&&(a.Da=er,Un(a.G,a.F,er))}}t.H=3,t.l&&t.l.Ba(),t.ca&&(t.S=Date.now()-i.G,t.j.info("Handshake RTT: "+t.S+"ms"));var E=i;if((a=t).wa=Wi(a,a.I?a.oa:null,a.Y),E.K){So(a.h,E);var B=E,Y=a.K;Y&&B.setTimeout(Y),B.B&&(qr(B),ii(B)),a.g=E}else wr(a);0<t.i.length&&te(t)}else"stop"!=ae[0]&&"close"!=ae[0]||Di(t,7);else 3==t.H&&("stop"==ae[0]||"close"==ae[0]?"stop"==ae[0]?Di(t,7):M(t):"noop"!=ae[0]&&t.l&&t.l.Aa(ae),t.A=0)}Ji()}catch{}}function bi(i,e){if(i.forEach&&"function"==typeof i.forEach)i.forEach(e,void 0);else if(je(i)||"string"==typeof i)Array.prototype.forEach.call(i,e,void 0);else for(var t=function Ws(i){if(i.sa&&"function"==typeof i.sa)return i.sa();if(!i.Z||"function"!=typeof i.Z){if(typeof Map<"u"&&i instanceof Map)return Array.from(i.keys());if(!(typeof Set<"u"&&i instanceof Set)){if(je(i)||"string"==typeof i){var e=[];i=i.length;for(var t=0;t<i;t++)e.push(t);return e}e=[],t=0;for(const a in i)e[t++]=a;return e}}}(i),a=function Fi(i){if(i.Z&&"function"==typeof i.Z)return i.Z();if(typeof Map<"u"&&i instanceof Map||typeof Set<"u"&&i instanceof Set)return Array.from(i.values());if("string"==typeof i)return i.split("");if(je(i)){for(var e=[],t=i.length,a=0;a<t;a++)e.push(i[a]);return e}for(a in e=[],t=0,i)e[t++]=i[a];return e}(i),d=a.length,p=0;p<d;p++)e.call(void 0,a[p],t&&t[p],i)}(Ie=ie.prototype).setTimeout=function(i){this.P=i},Ie.nb=function(i){i=i.target;const e=this.M;e&&3==zi(i)?e.l():this.Pa(i)},Ie.Pa=function(i){try{if(i==this.g)e:{const Me=zi(this.g);var e=this.g.Ia();if(this.g.da(),!(3>Me)&&(3!=Me||ht||this.g&&(this.h.h||this.g.ja()||fs(this.g)))){this.J||4!=Me||7==e||Ji(),qr(this);var t=this.g.da();this.aa=t;t:if(Wn(this)){var a=fs(this.g);i="";var d=a.length,p=4==zi(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Er(this),Dn(this);var E="";break t}this.h.i=new Ce.TextDecoder}for(e=0;e<d;e++)this.h.h=!0,i+=this.h.i.decode(a[e],{stream:p&&e==d-1});a.splice(0,d),this.h.g+=i,this.C=0,E=this.h.g}else E=this.g.ja();if(this.i=200==t,function nr(i,e,t,a,d,p,E){i.info(function(){return"XMLHTTP RESP ("+a+") [ attempt "+d+"]: "+e+"\n"+t+"\n"+p+" "+E})}(this.j,this.u,this.A,this.m,this.W,Me,t),this.i){if(this.ba&&!this.K){t:{if(this.g){var B,Y=this.g;if((B=Y.g?Y.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Et(B)){var ae=B;break t}}ae=null}if(!(t=ae)){this.i=!1,this.o=3,oi(12),Er(this),Dn(this);break e}Qn(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Yr(this,t)}this.S?(vr(this,Me,E),ht&&this.i&&3==Me&&(bt(this.U,this.V,"tick",this.mb),this.V.start())):(Qn(this.j,this.m,E,null),Yr(this,E)),4==Me&&Er(this),this.i&&!this.J&&(4==Me?Ei(this.l,this):(this.i=!1,ii(this)))}else 400==t&&0<E.indexOf("Unknown SID")?(this.o=3,oi(12)):(this.o=0,oi(13)),Er(this),Dn(this)}}}catch{}},Ie.mb=function(){if(this.g){var i=zi(this.g),e=this.g.ja();this.C<e.length&&(qr(this),vr(this,i,e),this.i&&4!=i&&ii(this))}},Ie.cancel=function(){this.J=!0,Er(this)},Ie.lb=function(){this.B=null;const i=Date.now();0<=i-this.Y?(function Hr(i,e){i.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(Ji(),oi(17)),Er(this),this.o=2,Dn(this)):qi(this,this.Y-i)};var Bs=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Li(i,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,i instanceof Li){this.h=void 0!==e?e:i.h,Xn(this,i.j),this.s=i.s,this.g=i.g,Is(this,i.m),this.l=i.l,e=i.i;var t=new Jn;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),$s(this,t),this.o=i.o}else i&&(t=String(i).match(Bs))?(this.h=!!e,Xn(this,t[1]||"",!0),this.s=mr(t[2]||""),this.g=mr(t[3]||"",!0),Is(this,t[4]),this.l=mr(t[5]||"",!0),$s(this,t[6]||"",!0),this.o=mr(t[7]||"")):(this.h=!!e,this.i=new Jn(null,this.h))}function Si(i){return new Li(i)}function Xn(i,e,t){i.j=t?mr(e,!0):e,i.j&&(i.j=i.j.replace(/:$/,""))}function Is(i,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);i.m=e}else i.m=null}function $s(i,e,t){e instanceof Jn?(i.i=e,function Os(i,e){e&&!i.j&&(hr(i),i.i=null,i.g.forEach(function(t,a){var d=a.toLowerCase();a!=d&&(jo(this,a),ms(this,d,t))},i)),i.j=e}(i.i,i.h)):(t||(e=Bi(e,bs)),i.i=new Jn(e,i.h))}function Un(i,e,t){i.i.set(e,t)}function ar(i){return Un(i,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),i}function mr(i,e){return i?e?decodeURI(i.replace(/%25/g,"%2525")):decodeURIComponent(i):""}function Bi(i,e,t){return"string"==typeof i?(i=encodeURI(i).replace(e,Wr),t&&(i=i.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),i):null}function Wr(i){return"%"+((i=i.charCodeAt(0))>>4&15).toString(16)+(15&i).toString(16)}Li.prototype.toString=function(){var i=[],e=this.j;e&&i.push(Bi(e,Cs,!0),":");var t=this.g;return(t||"file"==e)&&(i.push("//"),(e=this.s)&&i.push(Bi(e,Cs,!0),"@"),i.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&i.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&i.push("/"),i.push(Bi(t,"/"==t.charAt(0)?ts:Ks,!0))),(t=this.i.toString())&&i.push("?",t),(t=this.o)&&i.push("#",Bi(t,di)),i.join("")};var Cs=/[#\/\?@]/g,Ks=/[#\?:]/g,ts=/[#\?]/g,bs=/[#\?@]/g,di=/#/g;function Jn(i,e){this.h=this.g=null,this.i=i||null,this.j=!!e}function hr(i){i.g||(i.g=new Map,i.h=0,i.i&&function Xr(i,e){if(i){i=i.split("&");for(var t=0;t<i.length;t++){var a=i[t].indexOf("="),d=null;if(0<=a){var p=i[t].substring(0,a);d=i[t].substring(a+1)}else p=i[t];e(p,d?decodeURIComponent(d.replace(/\+/g," ")):"")}}}(i.i,function(e,t){i.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function jo(i,e){hr(i),e=is(i,e),i.g.has(e)&&(i.i=null,i.h-=i.g.get(e).length,i.g.delete(e))}function Ds(i,e){return hr(i),e=is(i,e),i.g.has(e)}function ms(i,e,t){jo(i,e),0<t.length&&(i.i=null,i.g.set(is(i,e),Je(t)),i.h+=t.length)}function is(i,e){return e=String(e),i.j&&(e=e.toLowerCase()),e}function Ns(i){this.l=i||hi,i=Ce.PerformanceNavigationTiming?0<(i=Ce.performance.getEntriesByType("navigation")).length&&("hq"==i[0].nextHopProtocol||"h2"==i[0].nextHopProtocol):!!(Ce.g&&Ce.g.Ka&&Ce.g.Ka()&&Ce.g.Ka().ec),this.j=i?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(Ie=Jn.prototype).add=function(i,e){hr(this),this.i=null,i=is(this,i);var t=this.g.get(i);return t||this.g.set(i,t=[]),t.push(e),this.h+=1,this},Ie.forEach=function(i,e){hr(this),this.g.forEach(function(t,a){t.forEach(function(d){i.call(e,d,a,this)},this)},this)},Ie.sa=function(){hr(this);const i=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let a=0;a<e.length;a++){const d=i[a];for(let p=0;p<d.length;p++)t.push(e[a])}return t},Ie.Z=function(i){hr(this);let e=[];if("string"==typeof i)Ds(this,i)&&(e=e.concat(this.g.get(is(this,i))));else{i=Array.from(this.g.values());for(let t=0;t<i.length;t++)e=e.concat(i[t])}return e},Ie.set=function(i,e){return hr(this),this.i=null,Ds(this,i=is(this,i))&&(this.h-=this.g.get(i).length),this.g.set(i,[e]),this.h+=1,this},Ie.get=function(i,e){return i&&0<(i=this.Z(i)).length?String(i[0]):e},Ie.toString=function(){if(this.i)return this.i;if(!this.g)return"";const i=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var a=e[t];const p=encodeURIComponent(String(a)),E=this.Z(a);for(a=0;a<E.length;a++){var d=p;""!==E[a]&&(d+="="+encodeURIComponent(String(E[a]))),i.push(d)}}return this.i=i.join("&")};var hi=10;function Po(i){return!!i.h||!!i.g&&i.g.size>=i.j}function Hi(i){return i.h?1:i.g?i.g.size:0}function Pi(i,e){return i.h?i.h==e:!!i.g&&i.g.has(e)}function ho(i,e){i.g?i.g.add(e):i.h=e}function So(i,e){i.h&&i.h==e?i.h=null:i.g&&i.g.has(e)&&i.g.delete(e)}function ro(i){if(null!=i.h)return i.i.concat(i.h.F);if(null!=i.g&&0!==i.g.size){let e=i.i;for(const t of i.g.values())e=e.concat(t.F);return e}return Je(i.i)}function Vs(){}function Ts(){this.g=new Vs}function io(i,e,t){const a=t||"";try{bi(i,function(d,p){let E=d;ge(d)&&(E=Yn(d)),e.push(a+p+"="+encodeURIComponent(E))})}catch(d){throw e.push(a+"type="+encodeURIComponent("_badmap")),d}}function ns(i,e,t,a,d){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,d(a)}catch{}}function Us(i){this.l=i.fc||null,this.j=i.ob||!1}function Oi(i,e){Qt.call(this),this.F=i,this.u=e,this.m=void 0,this.readyState=hs,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Ns.prototype.cancel=function(){if(this.i=ro(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const i of this.g.values())i.cancel();this.g.clear()}},Vs.prototype.stringify=function(i){return Ce.JSON.stringify(i,void 0)},Vs.prototype.parse=function(i){return Ce.JSON.parse(i,void 0)},qe(Us,rs),Us.prototype.g=function(){return new Oi(this.l,this.j)},Us.prototype.i=function(i){return function(){return i}}({}),qe(Oi,Qt);var hs=0;function ys(i){i.j.read().then(i.Xa.bind(i)).catch(i.ka.bind(i))}function vs(i){i.readyState=4,i.l=null,i.j=null,i.A=null,fo(i)}function fo(i){i.onreadystatechange&&i.onreadystatechange.call(i)}(Ie=Oi.prototype).open=function(i,e){if(this.readyState!=hs)throw this.abort(),Error("Error reopening a connection");this.C=i,this.B=e,this.readyState=1,fo(this)},Ie.send=function(i){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};i&&(e.body=i),(this.F||Ce).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},Ie.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,vs(this)),this.readyState=hs},Ie.$a=function(i){if(this.g&&(this.l=i,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=i.headers,this.readyState=2,fo(this)),this.g&&(this.readyState=3,fo(this),this.g)))if("arraybuffer"===this.responseType)i.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof Ce.ReadableStream<"u"&&"body"in i){if(this.j=i.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;ys(this)}else i.text().then(this.Za.bind(this),this.ka.bind(this))},Ie.Xa=function(i){if(this.g){if(this.u&&i.value)this.response.push(i.value);else if(!this.u){var e=i.value?i.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!i.done}))&&(this.response=this.responseText+=e)}i.done?vs(this):fo(this),3==this.readyState&&ys(this)}},Ie.Za=function(i){this.g&&(this.response=this.responseText=i,vs(this))},Ie.Ya=function(i){this.g&&(this.response=i,vs(this))},Ie.ka=function(){this.g&&vs(this)},Ie.setRequestHeader=function(i,e){this.v.append(i,e)},Ie.getResponseHeader=function(i){return this.h&&this.h.get(i.toLowerCase())||""},Ie.getAllResponseHeaders=function(){if(!this.h)return"";const i=[],e=this.h.entries();for(var t=e.next();!t.done;)i.push((t=t.value)[0]+": "+t[1]),t=e.next();return i.join("\r\n")},Object.defineProperty(Oi.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(i){this.m=i?"include":"same-origin"}});var T=Ce.JSON.parse;function X(i){Qt.call(this),this.headers=new Map,this.u=i||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=S,this.L=this.M=!1}qe(X,Qt);var S="",Z=/^https?$/i,ke=["POST","PUT"];function jn(i,e){i.h=!1,i.g&&(i.l=!0,i.g.abort(),i.l=!1),i.j=e,i.m=5,pr(i),jr(i)}function pr(i){i.F||(i.F=!0,hn(i,"complete"),hn(i,"error"))}function Ur(i){if(i.h&&typeof Fe<"u"&&(!i.C[1]||4!=zi(i)||2!=i.da()))if(i.v&&4==zi(i))fn(i.La,0,i);else if(hn(i,"readystatechange"),4==zi(i)){i.h=!1;try{const B=i.da();e:switch(B){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var a;if(a=0===B){var d=String(i.I).match(Bs)[1]||null;if(!d&&Ce.self&&Ce.self.location){var p=Ce.self.location.protocol;d=p.substr(0,p.length-1)}a=!Z.test(d?d.toLowerCase():"")}t=a}if(t)hn(i,"complete"),hn(i,"success");else{i.m=6;try{var E=2<zi(i)?i.g.statusText:""}catch{E=""}i.j=E+" ["+i.da()+"]",pr(i)}}finally{jr(i)}}}function jr(i,e){if(i.g){Vi(i);const t=i.g,a=i.C[0]?me:null;i.g=null,i.C=null,e||hn(i,"ready");try{t.onreadystatechange=a}catch{}}}function Vi(i){i.g&&i.L&&(i.g.ontimeout=null),i.A&&(Ce.clearTimeout(i.A),i.A=null)}function zi(i){return i.g?i.g.readyState:0}function fs(i){try{if(!i.g)return null;if("response"in i.g)return i.g.response;switch(i.K){case S:case"text":return i.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in i.g)return i.g.mozResponseArrayBuffer}return null}catch{return null}}function js(i){let e="";return cr(i,function(t,a){e+=a,e+=":",e+=t,e+="\r\n"}),e}function re(i,e,t){e:{for(a in t){var a=!1;break e}a=!0}a||(t=js(t),"string"==typeof i?null!=t&&encodeURIComponent(String(t)):Un(i,e,t))}function Q(i,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[i]||e}function R(i){this.Ga=0,this.i=[],this.j=new mn,this.oa=this.wa=this.G=this.Y=this.g=this.Da=this.F=this.ma=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Q("failFast",!1,i),this.M=this.v=this.u=this.m=this.l=null,this.aa=!0,this.ta=this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Q("baseRetryDelayMs",5e3,i),this.hb=Q("retryDelaySeedMs",1e4,i),this.eb=Q("forwardChannelMaxRetries",2,i),this.xa=Q("forwardChannelRequestTimeoutMs",2e4,i),this.va=i&&i.xmlHttpFactory||void 0,this.Ha=i&&i.dc||!1,this.K=void 0,this.I=i&&i.supportsCrossDomainXhr||!1,this.J="",this.h=new Ns(i&&i.concurrentRequestLimit),this.Ja=new Ts,this.P=i&&i.fastHandshake||!1,this.O=i&&i.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=i&&i.bc||!1,i&&i.Ea&&this.j.Ea(),i&&i.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&i&&i.detectBufferingProxy||!1,this.na=void 0,this.S=0,this.L=!1,this.pa=this.B=null}function M(i){if(A(i),3==i.H){var e=i.W++,t=Si(i.G);Un(t,"SID",i.J),Un(t,"RID",e),Un(t,"TYPE","terminate"),Bt(i,t),(e=new ie(i,i.j,e,void 0)).L=2,e.v=ar(Si(t)),t=!1,Ce.navigator&&Ce.navigator.sendBeacon&&(t=Ce.navigator.sendBeacon(e.v.toString(),"")),!t&&Ce.Image&&((new Image).src=e.v,t=!0),t||(e.g=Ai(e.l,null),e.g.ha(e.v)),e.G=Date.now(),ii(e)}Ni(i)}function w(i){i.g&&(Ir(i),i.g.cancel(),i.g=null)}function A(i){w(i),i.u&&(Ce.clearTimeout(i.u),i.u=null),Cr(i),i.h.cancel(),i.m&&("number"==typeof i.m&&Ce.clearTimeout(i.m),i.m=null)}function te(i){Po(i.h)||i.m||(i.m=!0,q(i.Na,i),i.C=0)}function tt(i,e){var t;t=e?e.m:i.W++;const a=Si(i.G);Un(a,"SID",i.J),Un(a,"RID",t),Un(a,"AID",i.V),Bt(i,a),i.o&&i.s&&re(a,i.o,i.s),t=new ie(i,i.j,t,i.C+1),null===i.o&&(t.I=i.s),e&&(i.i=e.F.concat(i.i)),e=Jt(i,t,1e3),t.setTimeout(Math.round(.5*i.xa)+Math.round(.5*i.xa*Math.random())),ho(i.h,t),gn(t,a,e)}function Bt(i,e){i.ma&&cr(i.ma,function(t,a){Un(e,a,t)}),i.l&&bi({},function(t,a){Un(e,a,t)})}function Jt(i,e,t){t=Math.min(i.i.length,t);var a=i.l?pt(i.l.Va,i.l,i):null;e:{var d=i.i;let p=-1;for(;;){const E=["count="+t];-1==p?0<t?(p=d[0].h,E.push("ofs="+p)):p=0:E.push("ofs="+p);let B=!0;for(let Y=0;Y<t;Y++){let ae=d[Y].h;const Me=d[Y].g;if(ae-=p,0>ae)p=Math.max(0,d[Y].h-100),B=!1;else try{io(Me,E,"req"+ae+"_")}catch{a&&a(Me)}}if(B){a=E.join("&");break e}}}return i=i.i.splice(0,t),e.F=i,a}function wr(i){i.g||i.u||(i.ba=1,q(i.Ma,i),i.A=0)}function kn(i){return!(i.g||i.u||3<=i.A||(i.ba++,i.u=_i(pt(i.Ma,i),Gi(i,i.A)),i.A++,0))}function Ir(i){null!=i.B&&(Ce.clearTimeout(i.B),i.B=null)}function Sr(i){i.g=new ie(i,i.j,"rpc",i.ba),null===i.o&&(i.g.I=i.s),i.g.O=0;var e=Si(i.wa);Un(e,"RID","rpc"),Un(e,"SID",i.J),Un(e,"CI",i.M?"0":"1"),Un(e,"AID",i.V),Un(e,"TYPE","xmlhttp"),Bt(i,e),i.o&&i.s&&re(e,i.o,i.s),i.K&&i.g.setTimeout(i.K);var t=i.g;i=i.oa,t.L=1,t.v=ar(Si(e)),t.s=null,t.S=!0,En(t,i)}function Cr(i){null!=i.v&&(Ce.clearTimeout(i.v),i.v=null)}function Ei(i,e){var t=null;if(i.g==e){Cr(i),Ir(i),i.g=null;var a=2}else{if(!Pi(i.h,e))return;t=e.F,So(i.h,e),a=1}if(0!=i.H)if(i.ta=e.aa,e.i)if(1==a){t=e.s?e.s.length:0,e=Date.now()-e.G;var d=i.C;hn(a=li(),new ws(a,t)),te(i)}else wr(i);else if(3==(d=e.o)||0==d&&0<i.ta||!(1==a&&function Ke(i,e){return!(Hi(i.h)>=i.h.j-(i.m?1:0)||(i.m?(i.i=e.F.concat(i.i),0):1==i.H||2==i.H||i.C>=(i.cb?0:i.eb)||(i.m=_i(pt(i.Na,i,e),Gi(i,i.C)),i.C++,0)))}(i,e)||2==a&&kn(i)))switch(t&&0<t.length&&(e=i.h,e.i=e.i.concat(t)),d){case 1:Di(i,5);break;case 4:Di(i,10);break;case 3:Di(i,6);break;default:Di(i,2)}}function Gi(i,e){let t=i.ab+Math.floor(Math.random()*i.hb);return i.l||(t*=2),t*e}function Di(i,e){if(i.j.info("Error code "+e),2==e){var t=null;i.l&&(t=null);var a=pt(i.pb,i);t||(t=new Li("//www.google.com/images/cleardot.gif"),Ce.location&&"http"==Ce.location.protocol||Xn(t,"https"),ar(t)),function xr(i,e){const t=new mn;if(Ce.Image){const a=new Image;a.onload=ct(ns,t,a,"TestLoadImage: loaded",!0,e),a.onerror=ct(ns,t,a,"TestLoadImage: error",!1,e),a.onabort=ct(ns,t,a,"TestLoadImage: abort",!1,e),a.ontimeout=ct(ns,t,a,"TestLoadImage: timeout",!1,e),Ce.setTimeout(function(){a.ontimeout&&a.ontimeout()},1e4),a.src=i}else e(!1)}(t.toString(),a)}else oi(2);i.H=0,i.l&&i.l.za(e),Ni(i),A(i)}function Ni(i){if(i.H=0,i.pa=[],i.l){const e=ro(i.h);(0!=e.length||0!=i.i.length)&&(Ue(i.pa,e),Ue(i.pa,i.i),i.h.i.length=0,Je(i.i),i.i.length=0),i.l.ya()}}function Wi(i,e,t){var a=t instanceof Li?Si(t):new Li(t,void 0);if(""!=a.g)e&&(a.g=e+"."+a.g),Is(a,a.m);else{var d=Ce.location;a=d.protocol,e=e?e+"."+d.hostname:d.hostname,d=+d.port;var p=new Li(null,void 0);a&&Xn(p,a),e&&(p.g=e),d&&Is(p,d),t&&(p.l=t),a=p}return e=i.Da,(t=i.F)&&e&&Un(a,t,e),Un(a,"VER",i.qa),Bt(i,a),a}function Ai(i,e,t){if(e&&!i.I)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new X(t&&i.Ha&&!i.va?new Us({ob:!0}):i.va)).Oa(i.I),e}function ps(){}function Ho(){if(We&&!(10<=Number(Tn)))throw Error("Environmental error: no available transport.")}function Hs(i,e){Qt.call(this),this.g=new R(e),this.l=i,this.h=e&&e.messageUrlParams||null,i=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(i?i["X-Client-Protocol"]="webchannel":i={"X-Client-Protocol":"webchannel"}),this.g.s=i,i=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(i?i["X-WebChannel-Content-Type"]=e.messageContentType:i={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(i?i["X-WebChannel-Client-Profile"]=e.Ca:i={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=i,(i=e&&e.cc)&&!Et(i)&&(this.g.o=i),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Et(e)&&(this.g.F=e,null!==(i=this.h)&&e in i&&e in(i=this.h)&&delete i[e]),this.j=new _l(this)}function vl(i){ee.call(this);var e=i.__sm__;if(e){e:{for(const t in e){i=t;break e}i=void 0}(this.i=i)&&(i=this.i,e=null!==e&&i in e?e[i]:void 0),this.data=e}else this.data=i}function ya(){ye.call(this),this.status=1}function _l(i){this.g=i}function Ao(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function Ma(i,e,t){t||(t=0);var a=Array(16);if("string"==typeof e)for(var d=0;16>d;++d)a[d]=e.charCodeAt(t++)|e.charCodeAt(t++)<<8|e.charCodeAt(t++)<<16|e.charCodeAt(t++)<<24;else for(d=0;16>d;++d)a[d]=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;var p=i.g[3],E=(e=i.g[0])+(p^(t=i.g[1])&((d=i.g[2])^p))+a[0]+3614090360&4294967295;E=(t=(d=(p=(e=(t=(d=(p=(e=(t=(d=(p=(e=(t=(d=(p=(e=(t=(d=(p=(e=(t=(d=(p=(e=(t=(d=(p=(e=(t=(d=(p=(e=(t=(d=(p=(e=(t=(d=(p=(e=(t=(d=(p=(e=(t=(d=(p=(e=(t=(d=(p=(e=(t=(d=(p=(e=(t=(d=(p=(e=t+(E<<7&4294967295|E>>>25))+((E=p+(d^e&(t^d))+a[1]+3905402710&4294967295)<<12&4294967295|E>>>20))+((E=d+(t^p&(e^t))+a[2]+606105819&4294967295)<<17&4294967295|E>>>15))+((E=t+(e^d&(p^e))+a[3]+3250441966&4294967295)<<22&4294967295|E>>>10))+((E=e+(p^t&(d^p))+a[4]+4118548399&4294967295)<<7&4294967295|E>>>25))+((E=p+(d^e&(t^d))+a[5]+1200080426&4294967295)<<12&4294967295|E>>>20))+((E=d+(t^p&(e^t))+a[6]+2821735955&4294967295)<<17&4294967295|E>>>15))+((E=t+(e^d&(p^e))+a[7]+4249261313&4294967295)<<22&4294967295|E>>>10))+((E=e+(p^t&(d^p))+a[8]+1770035416&4294967295)<<7&4294967295|E>>>25))+((E=p+(d^e&(t^d))+a[9]+2336552879&4294967295)<<12&4294967295|E>>>20))+((E=d+(t^p&(e^t))+a[10]+4294925233&4294967295)<<17&4294967295|E>>>15))+((E=t+(e^d&(p^e))+a[11]+2304563134&4294967295)<<22&4294967295|E>>>10))+((E=e+(p^t&(d^p))+a[12]+1804603682&4294967295)<<7&4294967295|E>>>25))+((E=p+(d^e&(t^d))+a[13]+4254626195&4294967295)<<12&4294967295|E>>>20))+((E=d+(t^p&(e^t))+a[14]+2792965006&4294967295)<<17&4294967295|E>>>15))+((E=t+(e^d&(p^e))+a[15]+1236535329&4294967295)<<22&4294967295|E>>>10))+((E=e+(d^p&(t^d))+a[1]+4129170786&4294967295)<<5&4294967295|E>>>27))+((E=p+(t^d&(e^t))+a[6]+3225465664&4294967295)<<9&4294967295|E>>>23))+((E=d+(e^t&(p^e))+a[11]+643717713&4294967295)<<14&4294967295|E>>>18))+((E=t+(p^e&(d^p))+a[0]+3921069994&4294967295)<<20&4294967295|E>>>12))+((E=e+(d^p&(t^d))+a[5]+3593408605&4294967295)<<5&4294967295|E>>>27))+((E=p+(t^d&(e^t))+a[10]+38016083&4294967295)<<9&4294967295|E>>>23))+((E=d+(e^t&(p^e))+a[15]+3634488961&4294967295)<<14&4294967295|E>>>18))+((E=t+(p^e&(d^p))+a[4]+3889429448&4294967295)<<20&4294967295|E>>>12))+((E=e+(d^p&(t^d))+a[9]+568446438&4294967295)<<5&4294967295|E>>>27))+((E=p+(t^d&(e^t))+a[14]+3275163606&4294967295)<<9&4294967295|E>>>23))+((E=d+(e^t&(p^e))+a[3]+4107603335&4294967295)<<14&4294967295|E>>>18))+((E=t+(p^e&(d^p))+a[8]+1163531501&4294967295)<<20&4294967295|E>>>12))+((E=e+(d^p&(t^d))+a[13]+2850285829&4294967295)<<5&4294967295|E>>>27))+((E=p+(t^d&(e^t))+a[2]+4243563512&4294967295)<<9&4294967295|E>>>23))+((E=d+(e^t&(p^e))+a[7]+1735328473&4294967295)<<14&4294967295|E>>>18))+((E=t+(p^e&(d^p))+a[12]+2368359562&4294967295)<<20&4294967295|E>>>12))+((E=e+(t^d^p)+a[5]+4294588738&4294967295)<<4&4294967295|E>>>28))+((E=p+(e^t^d)+a[8]+2272392833&4294967295)<<11&4294967295|E>>>21))+((E=d+(p^e^t)+a[11]+1839030562&4294967295)<<16&4294967295|E>>>16))+((E=t+(d^p^e)+a[14]+4259657740&4294967295)<<23&4294967295|E>>>9))+((E=e+(t^d^p)+a[1]+2763975236&4294967295)<<4&4294967295|E>>>28))+((E=p+(e^t^d)+a[4]+1272893353&4294967295)<<11&4294967295|E>>>21))+((E=d+(p^e^t)+a[7]+4139469664&4294967295)<<16&4294967295|E>>>16))+((E=t+(d^p^e)+a[10]+3200236656&4294967295)<<23&4294967295|E>>>9))+((E=e+(t^d^p)+a[13]+681279174&4294967295)<<4&4294967295|E>>>28))+((E=p+(e^t^d)+a[0]+3936430074&4294967295)<<11&4294967295|E>>>21))+((E=d+(p^e^t)+a[3]+3572445317&4294967295)<<16&4294967295|E>>>16))+((E=t+(d^p^e)+a[6]+76029189&4294967295)<<23&4294967295|E>>>9))+((E=e+(t^d^p)+a[9]+3654602809&4294967295)<<4&4294967295|E>>>28))+((E=p+(e^t^d)+a[12]+3873151461&4294967295)<<11&4294967295|E>>>21))+((E=d+(p^e^t)+a[15]+530742520&4294967295)<<16&4294967295|E>>>16))+((E=t+(d^p^e)+a[2]+3299628645&4294967295)<<23&4294967295|E>>>9))+((E=e+(d^(t|~p))+a[0]+4096336452&4294967295)<<6&4294967295|E>>>26))+((E=p+(t^(e|~d))+a[7]+1126891415&4294967295)<<10&4294967295|E>>>22))+((E=d+(e^(p|~t))+a[14]+2878612391&4294967295)<<15&4294967295|E>>>17))+((E=t+(p^(d|~e))+a[5]+4237533241&4294967295)<<21&4294967295|E>>>11))+((E=e+(d^(t|~p))+a[12]+1700485571&4294967295)<<6&4294967295|E>>>26))+((E=p+(t^(e|~d))+a[3]+2399980690&4294967295)<<10&4294967295|E>>>22))+((E=d+(e^(p|~t))+a[10]+4293915773&4294967295)<<15&4294967295|E>>>17))+((E=t+(p^(d|~e))+a[1]+2240044497&4294967295)<<21&4294967295|E>>>11))+((E=e+(d^(t|~p))+a[8]+1873313359&4294967295)<<6&4294967295|E>>>26))+((E=p+(t^(e|~d))+a[15]+4264355552&4294967295)<<10&4294967295|E>>>22))+((E=d+(e^(p|~t))+a[6]+2734768916&4294967295)<<15&4294967295|E>>>17))+((E=t+(p^(d|~e))+a[13]+1309151649&4294967295)<<21&4294967295|E>>>11))+((p=(e=t+((E=e+(d^(t|~p))+a[4]+4149444226&4294967295)<<6&4294967295|E>>>26))+((E=p+(t^(e|~d))+a[11]+3174756917&4294967295)<<10&4294967295|E>>>22))^((d=p+((E=d+(e^(p|~t))+a[2]+718787259&4294967295)<<15&4294967295|E>>>17))|~e))+a[9]+3951481745&4294967295,i.g[0]=i.g[0]+e&4294967295,i.g[1]=i.g[1]+(d+(E<<21&4294967295|E>>>11))&4294967295,i.g[2]=i.g[2]+d&4294967295,i.g[3]=i.g[3]+p&4294967295}function Ki(i,e){this.h=e;for(var t=[],a=!0,d=i.length-1;0<=d;d--){var p=0|i[d];a&&p==e||(t[d]=p,a=!1)}this.g=t}(Ie=X.prototype).Oa=function(i){this.M=i},Ie.ha=function(i,e,t,a){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+i);e=e?e.toUpperCase():"GET",this.I=i,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():oe.g(),this.C=function ds(i){return i.h||(i.h=i.i())}(this.u?this.u:oe),this.g.onreadystatechange=pt(this.La,this);try{this.G=!0,this.g.open(e,String(i),!0),this.G=!1}catch(p){return void jn(this,p)}if(i=t||"",t=new Map(this.headers),a)if(Object.getPrototypeOf(a)===Object.prototype)for(var d in a)t.set(d,a[d]);else{if("function"!=typeof a.keys||"function"!=typeof a.get)throw Error("Unknown input type for opt_headers: "+String(a));for(const p of a.keys())t.set(p,a.get(p))}a=Array.from(t.keys()).find(p=>"content-type"==p.toLowerCase()),d=Ce.FormData&&i instanceof Ce.FormData,!(0<=st(ke,e))||a||d||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[p,E]of t)this.g.setRequestHeader(p,E);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{Vi(this),0<this.B&&((this.L=function Xt(i){return We&&function Mn(){return xe(Cn,9,function(){let i=0;const e=Tt(String(xt)).split("."),t=Tt("9").split("."),a=Math.max(e.length,t.length);for(let E=0;0==i&&E<a;E++){var d=e[E]||"",p=t[E]||"";do{if(d=/(\d*)(\D*)(.*)/.exec(d)||["","","",""],p=/(\d*)(\D*)(.*)/.exec(p)||["","","",""],0==d[0].length&&0==p[0].length)break;i=fe(0==d[1].length?0:parseInt(d[1],10),0==p[1].length?0:parseInt(p[1],10))||fe(0==d[2].length,0==p[2].length)||fe(d[2],p[2]),d=d[3],p=p[3]}while(0==i)}return 0<=i})}()&&"number"==typeof i.timeout&&void 0!==i.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=pt(this.ua,this)):this.A=fn(this.ua,this.B,this)),this.v=!0,this.g.send(i),this.v=!1}catch(p){jn(this,p)}},Ie.ua=function(){typeof Fe<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,hn(this,"timeout"),this.abort(8))},Ie.abort=function(i){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=i||7,hn(this,"complete"),hn(this,"abort"),jr(this))},Ie.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),jr(this,!0)),X.$.N.call(this)},Ie.La=function(){this.s||(this.G||this.v||this.l?Ur(this):this.kb())},Ie.kb=function(){Ur(this)},Ie.da=function(){try{return 2<zi(this)?this.g.status:-1}catch{return-1}},Ie.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},Ie.Wa=function(i){if(this.g){var e=this.g.responseText;return i&&0==e.indexOf(i)&&(e=e.substring(i.length)),T(e)}},Ie.Ia=function(){return this.m},Ie.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(Ie=R.prototype).qa=8,Ie.H=1,Ie.Na=function(i){if(this.m)if(this.m=null,1==this.H){if(!i){this.W=Math.floor(1e5*Math.random()),i=this.W++;const d=new ie(this,this.j,i,void 0);let p=this.s;if(this.U&&(p?(p=Sn(p),$r(p,this.U)):p=this.U),null!==this.o||this.O||(d.I=p,p=null),this.P)e:{for(var e=0,t=0;t<this.i.length;t++){var a=this.i[t];if(void 0===(a="__data__"in a.g&&"string"==typeof(a=a.g.__data__)?a.length:void 0))break;if(4096<(e+=a)){e=t;break e}if(4096===e||t===this.i.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=Jt(this,d,e),Un(t=Si(this.G),"RID",i),Un(t,"CVER",22),this.F&&Un(t,"X-HTTP-Session-Id",this.F),Bt(this,t),p&&(this.O?e="headers="+encodeURIComponent(String(js(p)))+"&"+e:this.o&&re(t,this.o,p)),ho(this.h,d),this.bb&&Un(t,"TYPE","init"),this.P?(Un(t,"$req",e),Un(t,"SID","null"),d.ba=!0,gn(d,t,null)):gn(d,t,e),this.H=2}}else 3==this.H&&(i?tt(this,i):0==this.i.length||Po(this.h)||tt(this))},Ie.Ma=function(){if(this.u=null,Sr(this),this.ca&&!(this.L||null==this.g||0>=this.S)){var i=2*this.S;this.j.info("BP detection timer enabled: "+i),this.B=_i(pt(this.jb,this),i)}},Ie.jb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.M=!1,this.L=!0,oi(10),w(this),Sr(this))},Ie.ib=function(){null!=this.v&&(this.v=null,w(this),kn(this),oi(19))},Ie.pb=function(i){i?(this.j.info("Successfully pinged google.com"),oi(2)):(this.j.info("Failed to ping google.com"),oi(1))},(Ie=ps.prototype).Ba=function(){},Ie.Aa=function(){},Ie.za=function(){},Ie.ya=function(){},Ie.Va=function(){},Ho.prototype.g=function(i,e){return new Hs(i,e)},qe(Hs,Qt),Hs.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.I=!0);var i=this.g,e=this.l,t=this.h||void 0;oi(0),i.Y=e,i.ma=t||{},i.M=i.aa,i.G=Wi(i,null,i.Y),te(i)},Hs.prototype.close=function(){M(this.g)},Hs.prototype.u=function(i){var e=this.g;if("string"==typeof i){var t={};t.__data__=i,i=t}else this.v&&((t={}).__data__=Yn(i),i=t);e.i.push(new class{constructor(i,e){this.h=i,this.g=e}}(e.fb++,i)),3==e.H&&te(e)},Hs.prototype.N=function(){this.g.l=null,delete this.j,M(this.g),delete this.g,Hs.$.N.call(this)},qe(vl,ee),qe(ya,ye),qe(_l,ps),_l.prototype.Ba=function(){hn(this.g,"a")},_l.prototype.Aa=function(i){hn(this.g,new vl(i))},_l.prototype.za=function(i){hn(this.g,new ya)},_l.prototype.ya=function(){hn(this.g,"b")},qe(Ao,function Za(){this.blockSize=-1}),Ao.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Ao.prototype.j=function(i,e){void 0===e&&(e=i.length);for(var t=e-this.blockSize,a=this.m,d=this.h,p=0;p<e;){if(0==d)for(;p<=t;)Ma(this,i,p),p+=this.blockSize;if("string"==typeof i){for(;p<e;)if(a[d++]=i.charCodeAt(p++),d==this.blockSize){Ma(this,a),d=0;break}}else for(;p<e;)if(a[d++]=i[p++],d==this.blockSize){Ma(this,a),d=0;break}}this.h=d,this.i+=e},Ao.prototype.l=function(){var i=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);i[0]=128;for(var e=1;e<i.length-8;++e)i[e]=0;var t=8*this.i;for(e=i.length-8;e<i.length;++e)i[e]=255&t,t/=256;for(this.j(i),i=Array(16),e=t=0;4>e;++e)for(var a=0;32>a;a+=8)i[t++]=this.g[e]>>>a&255;return i};var El={};function $l(i){return-128<=i&&128>i?xe(El,i,function(e){return new Ki([0|e],0>e?-1:0)}):new Ki([0|i],0>i?-1:0)}function so(i){if(isNaN(i)||!isFinite(i))return ra;if(0>i)return Js(so(-i));for(var e=[],t=1,a=0;i>=t;a++)e[a]=i/t|0,t*=Qa;return new Ki(e,0)}var Qa=4294967296,ra=$l(0),Zs=$l(1),wl=$l(16777216);function Oo(i){if(0!=i.h)return!1;for(var e=0;e<i.g.length;e++)if(0!=i.g[e])return!1;return!0}function ui(i){return-1==i.h}function Js(i){for(var e=i.g.length,t=[],a=0;a<e;a++)t[a]=~i.g[a];return new Ki(t,~i.h).add(Zs)}function va(i,e){return i.add(Js(e))}function Ss(i,e){for(;(65535&i[e])!=i[e];)i[e+1]+=i[e]>>>16,i[e]&=65535,e++}function Il(i,e){this.g=i,this.h=e}function Ul(i,e){if(Oo(e))throw Error("division by zero");if(Oo(i))return new Il(ra,ra);if(ui(i))return e=Ul(Js(i),e),new Il(Js(e.g),Js(e.h));if(ui(e))return e=Ul(i,Js(e)),new Il(Js(e.g),e.h);if(30<i.g.length){if(ui(i)||ui(e))throw Error("slowDivide_ only works with positive integers.");for(var t=Zs,a=e;0>=a.X(i);)t=ss(t),a=ss(a);var d=zs(t,1),p=zs(a,1);for(a=zs(a,2),t=zs(t,2);!Oo(a);){var E=p.add(a);0>=E.X(i)&&(d=d.add(t),p=E),a=zs(a,1),t=zs(t,1)}return e=va(i,d.R(e)),new Il(d,e)}for(d=ra;0<=i.X(e);){for(t=Math.max(1,Math.floor(i.ea()/e.ea())),a=48>=(a=Math.ceil(Math.log(t)/Math.LN2))?1:Math.pow(2,a-48),E=(p=so(t)).R(e);ui(E)||0<E.X(i);)E=(p=so(t-=a)).R(e);Oo(p)&&(p=Zs),d=d.add(p),i=va(i,E)}return new Il(d,i)}function ss(i){for(var e=i.g.length+1,t=[],a=0;a<e;a++)t[a]=i.D(a)<<1|i.D(a-1)>>>31;return new Ki(t,i.h)}function zs(i,e){var t=e>>5;e%=32;for(var a=i.g.length-t,d=[],p=0;p<a;p++)d[p]=0<e?i.D(p+t)>>>e|i.D(p+t+1)<<32-e:i.D(p+t);return new Ki(d,i.h)}(Ie=Ki.prototype).ea=function(){if(ui(this))return-Js(this).ea();for(var i=0,e=1,t=0;t<this.g.length;t++){var a=this.D(t);i+=(0<=a?a:Qa+a)*e,e*=Qa}return i},Ie.toString=function(i){if(2>(i=i||10)||36<i)throw Error("radix out of range: "+i);if(Oo(this))return"0";if(ui(this))return"-"+Js(this).toString(i);for(var e=so(Math.pow(i,6)),t=this,a="";;){var d=Ul(t,e).g,p=((0<(t=va(t,d.R(e))).g.length?t.g[0]:t.h)>>>0).toString(i);if(Oo(t=d))return p+a;for(;6>p.length;)p="0"+p;a=p+a}},Ie.D=function(i){return 0>i?0:i<this.g.length?this.g[i]:this.h},Ie.X=function(i){return ui(i=va(this,i))?-1:Oo(i)?0:1},Ie.abs=function(){return ui(this)?Js(this):this},Ie.add=function(i){for(var e=Math.max(this.g.length,i.g.length),t=[],a=0,d=0;d<=e;d++){var p=a+(65535&this.D(d))+(65535&i.D(d)),E=(p>>>16)+(this.D(d)>>>16)+(i.D(d)>>>16);a=E>>>16,t[d]=(E&=65535)<<16|(p&=65535)}return new Ki(t,-2147483648&t[t.length-1]?-1:0)},Ie.R=function(i){if(Oo(this)||Oo(i))return ra;if(ui(this))return ui(i)?Js(this).R(Js(i)):Js(Js(this).R(i));if(ui(i))return Js(this.R(Js(i)));if(0>this.X(wl)&&0>i.X(wl))return so(this.ea()*i.ea());for(var e=this.g.length+i.g.length,t=[],a=0;a<2*e;a++)t[a]=0;for(a=0;a<this.g.length;a++)for(var d=0;d<i.g.length;d++){var p=this.D(a)>>>16,E=65535&this.D(a),B=i.D(d)>>>16,Y=65535&i.D(d);t[2*a+2*d]+=E*Y,Ss(t,2*a+2*d),t[2*a+2*d+1]+=p*Y,Ss(t,2*a+2*d+1),t[2*a+2*d+1]+=E*B,Ss(t,2*a+2*d+1),t[2*a+2*d+2]+=p*B,Ss(t,2*a+2*d+2)}for(a=0;a<e;a++)t[a]=t[2*a+1]<<16|t[2*a];for(a=e;a<2*e;a++)t[a]=0;return new Ki(t,0)},Ie.gb=function(i){return Ul(this,i).h},Ie.and=function(i){for(var e=Math.max(this.g.length,i.g.length),t=[],a=0;a<e;a++)t[a]=this.D(a)&i.D(a);return new Ki(t,this.h&i.h)},Ie.or=function(i){for(var e=Math.max(this.g.length,i.g.length),t=[],a=0;a<e;a++)t[a]=this.D(a)|i.D(a);return new Ki(t,this.h|i.h)},Ie.xor=function(i){for(var e=Math.max(this.g.length,i.g.length),t=[],a=0;a<e;a++)t[a]=this.D(a)^i.D(a);return new Ki(t,this.h^i.h)},Ho.prototype.createWebChannel=Ho.prototype.g,Hs.prototype.send=Hs.prototype.u,Hs.prototype.open=Hs.prototype.m,Hs.prototype.close=Hs.prototype.close,Qr.NO_ERROR=0,Qr.TIMEOUT=8,Qr.HTTP_ERROR=6,es.COMPLETE="complete",Ps.EventType=W,W.OPEN="a",W.CLOSE="b",W.ERROR="c",W.MESSAGE="d",Qt.prototype.listen=Qt.prototype.O,X.prototype.listenOnce=X.prototype.P,X.prototype.getLastError=X.prototype.Sa,X.prototype.getLastErrorCode=X.prototype.Ia,X.prototype.getStatus=X.prototype.da,X.prototype.getResponseJson=X.prototype.Wa,X.prototype.getResponseText=X.prototype.ja,X.prototype.send=X.prototype.ha,X.prototype.setWithCredentials=X.prototype.Oa,Ao.prototype.digest=Ao.prototype.l,Ao.prototype.reset=Ao.prototype.reset,Ao.prototype.update=Ao.prototype.j,Ki.prototype.add=Ki.prototype.add,Ki.prototype.multiply=Ki.prototype.R,Ki.prototype.modulo=Ki.prototype.gb,Ki.prototype.compare=Ki.prototype.X,Ki.prototype.toNumber=Ki.prototype.ea,Ki.prototype.toString=Ki.prototype.toString,Ki.prototype.getBits=Ki.prototype.D,Ki.fromNumber=so,Ki.fromString=function Vl(i,e){if(0==i.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==i.charAt(0))return Js(Vl(i.substring(1),e));if(0<=i.indexOf("-"))throw Error('number format error: interior "-" character');for(var t=so(Math.pow(e,8)),a=ra,d=0;d<i.length;d+=8){var p=Math.min(8,i.length-d),E=parseInt(i.substring(d,d+p),e);8>p?(p=so(Math.pow(e,p)),a=a.R(p).add(so(E))):a=(a=a.R(t)).add(so(E))}return a};var Pu=he.createWebChannelTransport=function(){return new Ho},Cl=he.getStatEventTarget=function(){return li()},U=he.ErrorCode=Qr,se=he.EventType=es,j=he.Event=or,we=he.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Xe=he.FetchXmlHttpFactory=Us,zt=he.WebChannel=Ps,rn=he.XhrIo=X,lr=he.Md5=Ao,Ln=he.Integer=Ki;const fi="@firebase/firestore";class Ar{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ar.UNAUTHENTICATED=new Ar(null),Ar.GOOGLE_CREDENTIALS=new Ar("google-credentials-uid"),Ar.FIRST_PARTY=new Ar("first-party-uid"),Ar.MOCK_USER=new Ar("mock-user");let Vr="9.22.0";const ki=new _e.Yd("@firebase/firestore");function wi(){return ki.logLevel}function os(i){ki.setLogLevel(i)}function yn(i,...e){if(ki.logLevel<=_e.in.DEBUG){const t=e.map(as);ki.debug(`Firestore (${Vr}): ${i}`,...t)}}function ti(i,...e){if(ki.logLevel<=_e.in.ERROR){const t=e.map(as);ki.error(`Firestore (${Vr}): ${i}`,...t)}}function Jr(i,...e){if(ki.logLevel<=_e.in.WARN){const t=e.map(as);ki.warn(`Firestore (${Vr}): ${i}`,...t)}}function as(i){if("string"==typeof i)return i;try{return JSON.stringify(i)}catch{return i}}function Bn(i="Unexpected state"){const e=`FIRESTORE (${Vr}) INTERNAL ASSERTION FAILED: `+i;throw ti(e),new Error(e)}function rr(i,e){i||Bn()}function pn(i,e){i||Bn()}function un(i,e){return i}const Gt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class _n extends Le.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ni{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class Ou{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Yo{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Ar.UNAUTHENTICATED))}shutdown(){}}class _a{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class bl{constructor(e){this.t=e,this.currentUser=Ar.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var a=this;let d=this.i;const p=ae=>this.i!==d?(d=this.i,t(ae)):Promise.resolve();let E=new ni;this.o=()=>{this.i++,this.currentUser=this.u(),E.resolve(),E=new ni,e.enqueueRetryable(()=>p(this.currentUser))};const B=()=>{const ae=E;e.enqueueRetryable((0,m.Z)(function*(){yield ae.promise,yield p(a.currentUser)}))},Y=ae=>{yn("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=ae,this.auth.addAuthTokenListener(this.o),B()};this.t.onInit(ae=>Y(ae)),setTimeout(()=>{if(!this.auth){const ae=this.t.getImmediate({optional:!0});ae?Y(ae):(yn("FirebaseAuthCredentialsProvider","Auth not yet detected"),E.resolve(),E=new ni)}},0),B()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(a=>this.i!==e?(yn("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(rr("string"==typeof a.accessToken),new Ou(a.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return rr(null===e||"string"==typeof e),new Ar(e)}}class bc{constructor(e,t,a){this.h=e,this.l=t,this.m=a,this.type="FirstParty",this.user=Ar.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class Dc{constructor(e,t,a){this.h=e,this.l=t,this.m=a}getToken(){return Promise.resolve(new bc(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(Ar.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class jl{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class ch{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,t){const a=p=>{null!=p.error&&yn("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${p.error.message}`);const E=p.token!==this.T;return this.T=p.token,yn("FirebaseAppCheckTokenProvider",`Received ${E?"new":"existing"} token.`),E?t(p.token):Promise.resolve()};this.o=p=>{e.enqueueRetryable(()=>a(p))};const d=p=>{yn("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=p,this.appCheck.addTokenListener(this.o)};this.I.onInit(p=>d(p)),setTimeout(()=>{if(!this.appCheck){const p=this.I.getImmediate({optional:!0});p?d(p):yn("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(rr("string"==typeof t.token),this.T=t.token,new jl(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function po(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(i);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let a=0;a<i;a++)t[a]=Math.floor(256*Math.random());return t}class uu{static A(){const t=62*Math.floor(256/62);let a="";for(;a.length<20;){const d=po(40);for(let p=0;p<d.length;++p)a.length<20&&d[p]<t&&(a+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(d[p]%62))}return a}}function Gr(i,e){return i<e?-1:i>e?1:0}function Eo(i,e,t){return i.length===e.length&&i.every((a,d)=>t(a,e[d]))}function dh(i){return i+"\0"}class gs{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new _n(Gt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new _n(Gt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new _n(Gt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new _n(Gt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return gs.fromMillis(Date.now())}static fromDate(e){return gs.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),a=Math.floor(1e6*(e-1e3*t));return new gs(t,a)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Gr(this.nanoseconds,e.nanoseconds):Gr(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Pr{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Pr(e)}static min(){return new Pr(new gs(0,0))}static max(){return new Pr(new gs(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Dl{constructor(e,t,a){void 0===t?t=0:t>e.length&&Bn(),void 0===a?a=e.length-t:a>e.length-t&&Bn(),this.segments=e,this.offset=t,this.len=a}get length(){return this.len}isEqual(e){return 0===Dl.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Dl?e.forEach(a=>{t.push(a)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,a=this.limit();t<a;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const a=Math.min(e.length,t.length);for(let d=0;d<a;d++){const p=e.get(d),E=t.get(d);if(p<E)return-1;if(p>E)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class ci extends Dl{construct(e,t,a){return new ci(e,t,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const a of e){if(a.indexOf("//")>=0)throw new _n(Gt.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);t.push(...a.split("/").filter(d=>d.length>0))}return new ci(t)}static emptyPath(){return new ci([])}}const Nu=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Yi extends Dl{construct(e,t,a){return new Yi(e,t,a)}static isValidIdentifier(e){return Nu.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Yi.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Yi(["__name__"])}static fromServerFormat(e){const t=[];let a="",d=0;const p=()=>{if(0===a.length)throw new _n(Gt.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(a),a=""};let E=!1;for(;d<e.length;){const B=e[d];if("\\"===B){if(d+1===e.length)throw new _n(Gt.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const Y=e[d+1];if("\\"!==Y&&"."!==Y&&"`"!==Y)throw new _n(Gt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);a+=Y,d+=2}else"`"===B?(E=!E,d++):"."!==B||E?(a+=B,d++):(p(),d++)}if(p(),E)throw new _n(Gt.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Yi(t)}static emptyPath(){return new Yi([])}}class Fn{constructor(e){this.path=e}static fromPath(e){return new Fn(ci.fromString(e))}static fromName(e){return new Fn(ci.fromString(e).popFirst(5))}static empty(){return new Fn(ci.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===ci.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return ci.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Fn(new ci(e.slice()))}}class cu{constructor(e,t,a,d){this.indexId=e,this.collectionGroup=t,this.fields=a,this.indexState=d}}function Xa(i){return i.fields.find(e=>2===e.kind)}function Ra(i){return i.fields.filter(e=>2!==e.kind)}cu.UNKNOWN_ID=-1;class Hl{constructor(e,t){this.fieldPath=e,this.kind=t}}class Ja{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new Ja(0,No.min())}}function Fu(i,e){const t=i.toTimestamp().seconds,a=i.toTimestamp().nanoseconds+1,d=Pr.fromTimestamp(1e9===a?new gs(t+1,0):new gs(t,a));return new No(d,Fn.empty(),e)}function Tc(i){return new No(i.readTime,i.key,-1)}class No{constructor(e,t,a){this.readTime=e,this.documentKey=t,this.largestBatchId=a}static min(){return new No(Pr.min(),Fn.empty(),-1)}static max(){return new No(Pr.max(),Fn.empty(),-1)}}function oo(i,e){let t=i.readTime.compareTo(e.readTime);return 0!==t?t:(t=Fn.comparator(i.documentKey,e.documentKey),0!==t?t:Gr(i.largestBatchId,e.largestBatchId))}const el="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class As{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function tl(i){return Lu.apply(this,arguments)}function Lu(){return Lu=(0,m.Z)(function*(i){if(i.code!==Gt.FAILED_PRECONDITION||i.message!==el)throw i;yn("LocalStore","Unexpectedly lost primary lease")}),Lu.apply(this,arguments)}class Vt{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Bn(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Vt((a,d)=>{this.nextCallback=p=>{this.wrapSuccess(e,p).next(a,d)},this.catchCallback=p=>{this.wrapFailure(t,p).next(a,d)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Vt?t:Vt.resolve(t)}catch(t){return Vt.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Vt.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Vt.reject(t)}static resolve(e){return new Vt((t,a)=>{t(e)})}static reject(e){return new Vt((t,a)=>{a(e)})}static waitFor(e){return new Vt((t,a)=>{let d=0,p=0,E=!1;e.forEach(B=>{++d,B.next(()=>{++p,E&&p===d&&t()},Y=>a(Y))}),E=!0,p===d&&t()})}static or(e){let t=Vt.resolve(!1);for(const a of e)t=t.next(d=>d?Vt.resolve(d):a());return t}static forEach(e,t){const a=[];return e.forEach((d,p)=>{a.push(t.call(this,d,p))}),this.waitFor(a)}static mapArray(e,t){return new Vt((a,d)=>{const p=e.length,E=new Array(p);let B=0;for(let Y=0;Y<p;Y++){const ae=Y;t(e[ae]).next(Me=>{E[ae]=Me,++B,B===p&&a(E)},Me=>d(Me))}})}static doWhile(e,t){return new Vt((a,d)=>{const p=()=>{!0===e()?t().next(()=>{p()},d):a()};p()})}}class xa{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.v=new ni,this.transaction.oncomplete=()=>{this.v.resolve()},this.transaction.onabort=()=>{t.error?this.v.reject(new nl(e,t.error)):this.v.resolve()},this.transaction.onerror=a=>{const d=F(a.target.error);this.v.reject(new nl(e,d))}}static open(e,t,a,d){try{return new xa(t,e.transaction(d,a))}catch(p){throw new nl(t,p)}}get R(){return this.v.promise}abort(e){e&&this.v.reject(e),this.aborted||(yn("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}P(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new kf(t)}}class Zo{constructor(e,t,a){this.name=e,this.version=t,this.V=a,12.2===Zo.S((0,Le.z$)())&&ti("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return yn("SimpleDb","Removing database:",e),Pa(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!(0,Le.hl)())return!1;if(Zo.C())return!0;const e=(0,Le.z$)(),t=Zo.S(e),a=0<t&&t<10,d=Zo.N(e),p=0<d&&d<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||a||p)}static C(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.k)}static M(e,t){return e.store(t)}static S(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),a=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(a)}static N(e){const t=e.match(/Android ([\d.]+)/i),a=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(a)}$(e){var t=this;return(0,m.Z)(function*(){return t.db||(yn("SimpleDb","Opening database:",t.name),t.db=yield new Promise((a,d)=>{const p=indexedDB.open(t.name,t.version);p.onsuccess=E=>{a(E.target.result)},p.onblocked=()=>{d(new nl(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},p.onerror=E=>{const B=E.target.error;d("VersionError"===B.name?new _n(Gt.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===B.name?new _n(Gt.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+B):new nl(e,B))},p.onupgradeneeded=E=>{yn("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',E.oldVersion),t.V.O(E.target.result,p.transaction,E.oldVersion,t.version).next(()=>{yn("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.F&&(t.db.onversionchange=a=>t.F(a)),t.db})()}B(e){this.F=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,a,d){var p=this;return(0,m.Z)(function*(){const E="readonly"===t;let B=0;for(;;){++B;try{p.db=yield p.$(e);const Y=xa.open(p.db,e,E?"readonly":"readwrite",a),ae=d(Y).next(Me=>(Y.P(),Me)).catch(Me=>(Y.abort(Me),Vt.reject(Me))).toPromise();return ae.catch(()=>{}),yield Y.R,ae}catch(Y){const ae=Y,Me="FirebaseError"!==ae.name&&B<3;if(yn("SimpleDb","Transaction failed with error:",ae.message,"Retrying:",Me),p.close(),!Me)return Promise.reject(ae)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class hh{constructor(e){this.L=e,this.q=!1,this.U=null}get isDone(){return this.q}get K(){return this.U}set cursor(e){this.L=e}done(){this.q=!0}G(e){this.U=e}delete(){return Pa(this.L.delete())}}class nl extends _n{constructor(e,t){super(Gt.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function ao(i){return"IndexedDbTransactionError"===i.name}class kf{constructor(e){this.store=e}put(e,t){let a;return void 0!==t?(yn("SimpleDb","PUT",this.store.name,e,t),a=this.store.put(t,e)):(yn("SimpleDb","PUT",this.store.name,"<auto-key>",e),a=this.store.put(e)),Pa(a)}add(e){return yn("SimpleDb","ADD",this.store.name,e,e),Pa(this.store.add(e))}get(e){return Pa(this.store.get(e)).next(t=>(void 0===t&&(t=null),yn("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return yn("SimpleDb","DELETE",this.store.name,e),Pa(this.store.delete(e))}count(){return yn("SimpleDb","COUNT",this.store.name),Pa(this.store.count())}j(e,t){const a=this.options(e,t);if(a.index||"function"!=typeof this.store.getAll){const d=this.cursor(a),p=[];return this.W(d,(E,B)=>{p.push(B)}).next(()=>p)}{const d=this.store.getAll(a.range);return new Vt((p,E)=>{d.onerror=B=>{E(B.target.error)},d.onsuccess=B=>{p(B.target.result)}})}}H(e,t){const a=this.store.getAll(e,null===t?void 0:t);return new Vt((d,p)=>{a.onerror=E=>{p(E.target.error)},a.onsuccess=E=>{d(E.target.result)}})}J(e,t){yn("SimpleDb","DELETE ALL",this.store.name);const a=this.options(e,t);a.Y=!1;const d=this.cursor(a);return this.W(d,(p,E,B)=>B.delete())}X(e,t){let a;t?a=e:(a={},t=e);const d=this.cursor(a);return this.W(d,t)}Z(e){const t=this.cursor({});return new Vt((a,d)=>{t.onerror=p=>{const E=F(p.target.error);d(E)},t.onsuccess=p=>{const E=p.target.result;E?e(E.primaryKey,E.value).next(B=>{B?E.continue():a()}):a()}})}W(e,t){const a=[];return new Vt((d,p)=>{e.onerror=E=>{p(E.target.error)},e.onsuccess=E=>{const B=E.target.result;if(!B)return void d();const Y=new hh(B),ae=t(B.primaryKey,B.value,Y);if(ae instanceof Vt){const Me=ae.catch(at=>(Y.done(),Vt.reject(at)));a.push(Me)}Y.isDone?d():null===Y.K?B.continue():B.continue(Y.K)}}).next(()=>Vt.waitFor(a))}options(e,t){let a;return void 0!==e&&("string"==typeof e?a=e:t=e),{index:a,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const a=this.store.index(e.index);return e.Y?a.openKeyCursor(e.range,t):a.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Pa(i){return new Vt((e,t)=>{i.onsuccess=a=>{e(a.target.result)},i.onerror=a=>{const d=F(a.target.error);t(d)}})}let x=!1;function F(i){const e=Zo.S((0,Le.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(i.message.indexOf(t)>=0){const a=new _n("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return x||(x=!0,setTimeout(()=>{throw a},0)),a}}return i}class D{constructor(e,t){this.asyncQueue=e,this.tt=t,this.task=null}start(){this.et(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}et(e){var t=this;yn("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,m.Z)(function*(){t.task=null;try{yn("IndexBackiller",`Documents written: ${yield t.tt.nt()}`)}catch(a){ao(a)?yn("IndexBackiller","Ignoring IndexedDB error during index backfill: ",a):yield tl(a)}yield t.et(6e4)}))}}class ${constructor(e,t){this.localStore=e,this.persistence=t}nt(e=50){var t=this;return(0,m.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",a=>t.st(a,e))})()}st(e,t){const a=new Set;let d=t,p=!0;return Vt.doWhile(()=>!0===p&&d>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(E=>{if(null!==E&&!a.has(E))return yn("IndexBackiller",`Processing collection: ${E}`),this.it(e,E,d).next(B=>{d-=B,a.add(E)});p=!1})).next(()=>t-d)}it(e,t,a){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(d=>this.localStore.localDocuments.getNextDocuments(e,t,d,a).next(p=>{const E=p.changes;return this.localStore.indexManager.updateIndexEntries(e,E).next(()=>this.rt(d,p)).next(B=>(yn("IndexBackiller",`Updating offset: ${B}`),this.localStore.indexManager.updateCollectionGroup(e,t,B))).next(()=>E.size)}))}rt(e,t){let a=e;return t.changes.forEach((d,p)=>{const E=Tc(p);oo(E,a)>0&&(a=E)}),new No(a.readTime,a.documentKey,Math.max(t.batchId,e.largestBatchId))}}let J=(()=>{class i{constructor(t,a){this.previousValue=t,a&&(a.sequenceNumberHandler=d=>this.ot(d),this.ut=d=>a.writeSequenceNumber(d))}ot(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ut&&this.ut(t),t}}return i.ct=-1,i})();function Pe(i){return null==i}function Te(i){return 0===i&&1/i==-1/0}function It(i){return"number"==typeof i&&Number.isInteger(i)&&!Te(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}function en(i){let e="";for(let t=0;t<i.length;t++)e.length>0&&(e=Br(e)),e=Gn(i.get(t),e);return Br(e)}function Gn(i,e){let t=e;const a=i.length;for(let d=0;d<a;d++){const p=i.charAt(d);switch(p){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=p}}return t}function Br(i){return i+"\x01\x01"}function Zn(i){const e=i.length;if(rr(e>=2),2===e)return rr("\x01"===i.charAt(0)&&"\x01"===i.charAt(1)),ci.emptyPath();const t=e-2,a=[];let d="";for(let p=0;p<e;){const E=i.indexOf("\x01",p);switch((E<0||E>t)&&Bn(),i.charAt(E+1)){case"\x01":const B=i.substring(p,E);let Y;0===d.length?Y=B:(d+=B,Y=d,d=""),a.push(Y);break;case"\x10":d+=i.substring(p,E),d+="\0";break;case"\x11":d+=i.substring(p,E+1);break;default:Bn()}p=E+2}return new ci(a)}const ls=["userId","batchId"];function lo(i,e){return[i,en(e)]}function zo(i,e,t){return[i,en(e),t]}const Ea={},Tl=["prefixPath","collectionGroup","readTime","documentId"],Oa=["prefixPath","collectionGroup","documentId"],Sc=["collectionGroup","readTime","prefixPath","documentId"],Qo=["canonicalId","targetId"],zl=["targetId","path"],ko=["path","targetId"],Bp=["collectionId","parent"],fh=["indexId","uid"],Na=["uid","sequenceNumber"],Ac=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],ia=["indexId","uid","orderedDocumentKey"],$p=["userId","collectionPath","documentId"],Bu=["userId","collectionPath","largestBatchId"],ph=["userId","collectionGroup","largestBatchId"],$u=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Mc=[...$u,"documentOverlays"],Vu=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],ka=Vu,Uu=[...ka,"indexConfiguration","indexState","indexEntries"];class Gl extends As{constructor(e,t){super(),this.ht=e,this.currentSequenceNumber=t}}function go(i,e){const t=un(i);return Zo.M(t.ht,e)}function gh(i){let e=0;for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e++;return e}function sa(i,e){for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e(t,i[t])}function Wl(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}class $i{constructor(e,t){this.comparator=e,this.root=t||Qs.EMPTY}insert(e,t){return new $i(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Qs.BLACK,null,null))}remove(e){return new $i(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Qs.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const a=this.comparator(e,t.key);if(0===a)return t.value;a<0?t=t.left:a>0&&(t=t.right)}return null}indexOf(e){let t=0,a=this.root;for(;!a.isEmpty();){const d=this.comparator(e,a.key);if(0===d)return t+a.left.size;d<0?a=a.left:(t+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,a)=>(e(t,a),!1))}toString(){const e=[];return this.inorderTraversal((t,a)=>(e.push(`${t}:${a}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ju(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ju(this.root,e,this.comparator,!1)}getReverseIterator(){return new ju(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ju(this.root,e,this.comparator,!0)}}class ju{constructor(e,t,a,d){this.isReverse=d,this.nodeStack=[];let p=1;for(;!e.isEmpty();)if(p=t?a(e.key,t):1,t&&d&&(p*=-1),p<0)e=this.isReverse?e.left:e.right;else{if(0===p){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Qs{constructor(e,t,a,d,p){this.key=e,this.value=t,this.color=null!=a?a:Qs.RED,this.left=null!=d?d:Qs.EMPTY,this.right=null!=p?p:Qs.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,a,d,p){return new Qs(null!=e?e:this.key,null!=t?t:this.value,null!=a?a:this.color,null!=d?d:this.left,null!=p?p:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,a){let d=this;const p=a(e,d.key);return d=p<0?d.copy(null,null,null,d.left.insert(e,t,a),null):0===p?d.copy(null,t,null,null,null):d.copy(null,null,null,null,d.right.insert(e,t,a)),d.fixUp()}removeMin(){if(this.left.isEmpty())return Qs.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let a,d=this;if(t(e,d.key)<0)d.left.isEmpty()||d.left.isRed()||d.left.left.isRed()||(d=d.moveRedLeft()),d=d.copy(null,null,null,d.left.remove(e,t),null);else{if(d.left.isRed()&&(d=d.rotateRight()),d.right.isEmpty()||d.right.isRed()||d.right.left.isRed()||(d=d.moveRedRight()),0===t(e,d.key)){if(d.right.isEmpty())return Qs.EMPTY;a=d.right.min(),d=d.copy(a.key,a.value,null,null,d.right.removeMin())}d=d.copy(null,null,null,null,d.right.remove(e,t))}return d.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Qs.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Qs.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Bn();const e=this.left.check();if(e!==this.right.check())throw Bn();return e+(this.isRed()?0:1)}}Qs.EMPTY=null,Qs.RED=!0,Qs.BLACK=!1,Qs.EMPTY=new class{constructor(){this.size=0}get key(){throw Bn()}get value(){throw Bn()}get color(){throw Bn()}get left(){throw Bn()}get right(){throw Bn()}copy(i,e,t,a,d){return this}insert(i,e,t){return new Qs(i,e)}remove(i,e){return this}isEmpty(){return!0}inorderTraversal(i){return!1}reverseTraversal(i){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class _s{constructor(e){this.comparator=e,this.data=new $i(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,a)=>(e(t),!1))}forEachInRange(e,t){const a=this.data.getIteratorFrom(e[0]);for(;a.hasNext();){const d=a.getNext();if(this.comparator(d.key,e[1])>=0)return;t(d.key)}}forEachWhile(e,t){let a;for(a=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();a.hasNext();)if(!e(a.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new oa(this.data.getIterator())}getIteratorFrom(e){return new oa(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(a=>{t=t.add(a)}),t}isEqual(e){if(!(e instanceof _s)||this.size!==e.size)return!1;const t=this.data.getIterator(),a=e.data.getIterator();for(;t.hasNext();){const d=t.getNext().key,p=a.getNext().key;if(0!==this.comparator(d,p))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new _s(this.comparator);return t.data=e,t}}class oa{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function hu(i){return i.hasNext()?i.getNext():void 0}class Fo{constructor(e){this.fields=e,e.sort(Yi.comparator)}static empty(){return new Fo([])}unionWith(e){let t=new _s(Yi.comparator);for(const a of this.fields)t=t.add(a);for(const a of e)t=t.add(a);return new Fo(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Eo(this.fields,e.fields,(t,a)=>t.isEqual(a))}}class fu extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}function Rc(){return typeof atob<"u"}class qs{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(a){try{return atob(a)}catch(d){throw typeof DOMException<"u"&&d instanceof DOMException?new fu("Invalid base64 string: "+d):d}}(e);return new qs(t)}static fromUint8Array(e){const t=function(a){let d="";for(let p=0;p<a.length;++p)d+=String.fromCharCode(a[p]);return d}(e);return new qs(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let a=0;a<e.length;a++)t[a]=e.charCodeAt(a);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Gr(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}qs.EMPTY_BYTE_STRING=new qs("");const pu=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Go(i){if(rr(!!i),"string"==typeof i){let e=0;const t=pu.exec(i);if(rr(!!t),t[1]){let d=t[1];d=(d+"000000000").substr(0,9),e=Number(d)}const a=new Date(i);return{seconds:Math.floor(a.getTime()/1e3),nanos:e}}return{seconds:us(i.seconds),nanos:us(i.nanos)}}function us(i){return"number"==typeof i?i:"string"==typeof i?Number(i):0}function Lo(i){return"string"==typeof i?qs.fromBase64String(i):qs.fromUint8Array(i)}function Sl(i){var e,t;return"server_timestamp"===(null===(t=((null===(e=null==i?void 0:i.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function Kl(i){const e=i.mapValue.fields.__previous_value__;return Sl(e)?Kl(e):e}function wa(i){const e=Go(i.mapValue.fields.__local_write_time__.timestampValue);return new gs(e.seconds,e.nanos)}class Ff{constructor(e,t,a,d,p,E,B,Y,ae){this.databaseId=e,this.appId=t,this.persistenceKey=a,this.host=d,this.ssl=p,this.forceLongPolling=E,this.autoDetectLongPolling=B,this.longPollingOptions=Y,this.useFetchStreams=ae}}class Fa{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Fa("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Fa&&e.projectId===this.projectId&&e.database===this.database}}const La={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},mh={nullValue:"NULL_VALUE"};function Al(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?Sl(i)?4:sl(i)?9007199254740991:10:Bn()}function rl(i,e){if(i===e)return!0;const t=Al(i);if(t!==Al(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return wa(i).isEqual(wa(e));case 3:return function(a,d){if("string"==typeof a.timestampValue&&"string"==typeof d.timestampValue&&a.timestampValue.length===d.timestampValue.length)return a.timestampValue===d.timestampValue;const p=Go(a.timestampValue),E=Go(d.timestampValue);return p.seconds===E.seconds&&p.nanos===E.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return d=e,Lo(i.bytesValue).isEqual(Lo(d.bytesValue));case 7:return i.referenceValue===e.referenceValue;case 8:return function(a,d){return us(a.geoPointValue.latitude)===us(d.geoPointValue.latitude)&&us(a.geoPointValue.longitude)===us(d.geoPointValue.longitude)}(i,e);case 2:return function(a,d){if("integerValue"in a&&"integerValue"in d)return us(a.integerValue)===us(d.integerValue);if("doubleValue"in a&&"doubleValue"in d){const p=us(a.doubleValue),E=us(d.doubleValue);return p===E?Te(p)===Te(E):isNaN(p)&&isNaN(E)}return!1}(i,e);case 9:return Eo(i.arrayValue.values||[],e.arrayValue.values||[],rl);case 10:return function(a,d){const p=a.mapValue.fields||{},E=d.mapValue.fields||{};if(gh(p)!==gh(E))return!1;for(const B in p)if(p.hasOwnProperty(B)&&(void 0===E[B]||!rl(p[B],E[B])))return!1;return!0}(i,e);default:return Bn()}var d}function xc(i,e){return void 0!==(i.values||[]).find(t=>rl(t,e))}function ql(i,e){if(i===e)return 0;const t=Al(i),a=Al(e);if(t!==a)return Gr(t,a);switch(t){case 0:case 9007199254740991:return 0;case 1:return Gr(i.booleanValue,e.booleanValue);case 2:return function(d,p){const E=us(d.integerValue||d.doubleValue),B=us(p.integerValue||p.doubleValue);return E<B?-1:E>B?1:E===B?0:isNaN(E)?isNaN(B)?0:-1:1}(i,e);case 3:return Ml(i.timestampValue,e.timestampValue);case 4:return Ml(wa(i),wa(e));case 5:return Gr(i.stringValue,e.stringValue);case 6:return function(d,p){const E=Lo(d),B=Lo(p);return E.compareTo(B)}(i.bytesValue,e.bytesValue);case 7:return function(d,p){const E=d.split("/"),B=p.split("/");for(let Y=0;Y<E.length&&Y<B.length;Y++){const ae=Gr(E[Y],B[Y]);if(0!==ae)return ae}return Gr(E.length,B.length)}(i.referenceValue,e.referenceValue);case 8:return function(d,p){const E=Gr(us(d.latitude),us(p.latitude));return 0!==E?E:Gr(us(d.longitude),us(p.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return function(d,p){const E=d.values||[],B=p.values||[];for(let Y=0;Y<E.length&&Y<B.length;++Y){const ae=ql(E[Y],B[Y]);if(ae)return ae}return Gr(E.length,B.length)}(i.arrayValue,e.arrayValue);case 10:return function(d,p){if(d===La.mapValue&&p===La.mapValue)return 0;if(d===La.mapValue)return 1;if(p===La.mapValue)return-1;const E=d.fields||{},B=Object.keys(E),Y=p.fields||{},ae=Object.keys(Y);B.sort(),ae.sort();for(let Me=0;Me<B.length&&Me<ae.length;++Me){const at=Gr(B[Me],ae[Me]);if(0!==at)return at;const Ut=ql(E[B[Me]],Y[ae[Me]]);if(0!==Ut)return Ut}return Gr(B.length,ae.length)}(i.mapValue,e.mapValue);default:throw Bn()}}function Ml(i,e){if("string"==typeof i&&"string"==typeof e&&i.length===e.length)return Gr(i,e);const t=Go(i),a=Go(e),d=Gr(t.seconds,a.seconds);return 0!==d?d:Gr(t.nanos,a.nanos)}function Rl(i){return dd(i)}function dd(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(a){const d=Go(a);return`time(${d.seconds},${d.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?Lo(i.bytesValue).toBase64():"referenceValue"in i?Fn.fromName(i.referenceValue).toString():"geoPointValue"in i?`geo(${(e=i.geoPointValue).latitude},${e.longitude})`:"arrayValue"in i?function(a){let d="[",p=!0;for(const E of a.values||[])p?p=!1:d+=",",d+=dd(E);return d+"]"}(i.arrayValue):"mapValue"in i?function(a){const d=Object.keys(a.fields||{}).sort();let p="{",E=!0;for(const B of d)E?E=!1:p+=",",p+=`${B}:${dd(a.fields[B])}`;return p+"}"}(i.mapValue):Bn();var e}function aa(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function Ba(i){return!!i&&"integerValue"in i}function Hu(i){return!!i&&"arrayValue"in i}function la(i){return!!i&&"nullValue"in i}function il(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function zu(i){return!!i&&"mapValue"in i}function $a(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&"object"==typeof i.timestampValue)return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const e={mapValue:{fields:{}}};return sa(i.mapValue.fields,(t,a)=>e.mapValue.fields[t]=$a(a)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(i.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=$a(i.arrayValue.values[t]);return e}return Object.assign({},i)}function sl(i){return"__max__"===(((i.mapValue||{}).fields||{}).__type__||{}).stringValue}function yh(i){return"nullValue"in i?mh:"booleanValue"in i?{booleanValue:!1}:"integerValue"in i||"doubleValue"in i?{doubleValue:NaN}:"timestampValue"in i?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in i?{stringValue:""}:"bytesValue"in i?{bytesValue:""}:"referenceValue"in i?aa(Fa.empty(),Fn.empty()):"geoPointValue"in i?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in i?{arrayValue:{}}:"mapValue"in i?{mapValue:{}}:Bn()}function pm(i){return"nullValue"in i?{booleanValue:!1}:"booleanValue"in i?{doubleValue:NaN}:"integerValue"in i||"doubleValue"in i?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in i?{stringValue:""}:"stringValue"in i?{bytesValue:""}:"bytesValue"in i?aa(Fa.empty(),Fn.empty()):"referenceValue"in i?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in i?{arrayValue:{}}:"arrayValue"in i?{mapValue:{}}:"mapValue"in i?La:Bn()}function Lf(i,e){const t=ql(i.value,e.value);return 0!==t?t:i.inclusive&&!e.inclusive?-1:!i.inclusive&&e.inclusive?1:0}function Vp(i,e){const t=ql(i.value,e.value);return 0!==t?t:i.inclusive&&!e.inclusive?1:!i.inclusive&&e.inclusive?-1:0}class Zi{constructor(e){this.value=e}static empty(){return new Zi({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let a=0;a<e.length-1;++a)if(t=(t.mapValue.fields||{})[e.get(a)],!zu(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=$a(t)}setAll(e){let t=Yi.emptyPath(),a={},d=[];e.forEach((E,B)=>{if(!t.isImmediateParentOf(B)){const Y=this.getFieldsMap(t);this.applyChanges(Y,a,d),a={},d=[],t=B.popLast()}E?a[B.lastSegment()]=$a(E):d.push(B.lastSegment())});const p=this.getFieldsMap(t);this.applyChanges(p,a,d)}delete(e){const t=this.field(e.popLast());zu(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return rl(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let a=0;a<e.length;++a){let d=t.mapValue.fields[e.get(a)];zu(d)&&d.mapValue.fields||(d={mapValue:{fields:{}}},t.mapValue.fields[e.get(a)]=d),t=d}return t.mapValue.fields}applyChanges(e,t,a){sa(t,(d,p)=>e[d]=p);for(const d of a)delete e[d]}clone(){return new Zi($a(this.value))}}function gu(i){const e=[];return sa(i.fields,(t,a)=>{const d=new Yi([t]);if(zu(a)){const p=gu(a.mapValue).fields;if(0===p.length)e.push(d);else for(const E of p)e.push(d.child(E))}else e.push(d)}),new Fo(e)}class Qi{constructor(e,t,a,d,p,E,B){this.key=e,this.documentType=t,this.version=a,this.readTime=d,this.createTime=p,this.data=E,this.documentState=B}static newInvalidDocument(e){return new Qi(e,0,Pr.min(),Pr.min(),Pr.min(),Zi.empty(),0)}static newFoundDocument(e,t,a,d){return new Qi(e,1,t,Pr.min(),a,d,0)}static newNoDocument(e,t){return new Qi(e,2,t,Pr.min(),Pr.min(),Zi.empty(),0)}static newUnknownDocument(e,t){return new Qi(e,3,t,Pr.min(),Pr.min(),Zi.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Pr.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Zi.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Zi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Pr.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Qi&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Qi(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class xl{constructor(e,t){this.position=e,this.inclusive=t}}function mu(i,e,t){let a=0;for(let d=0;d<i.position.length;d++){const p=e[d],E=i.position[d];if(a=p.field.isKeyField()?Fn.comparator(Fn.fromName(E.referenceValue),t.key):ql(E,t.data.field(p.field)),"desc"===p.dir&&(a*=-1),0!==a)break}return a}function Va(i,e){if(null===i)return null===e;if(null===e||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let t=0;t<i.position.length;t++)if(!rl(i.position[t],e.position[t]))return!1;return!0}class ol{constructor(e,t="asc"){this.field=e,this.dir=t}}function Up(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}class vh{}class mi extends vh{constructor(e,t,a){super(),this.field=e,this.op=t,this.value=a}static create(e,t,a){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,a):new hd(e,t,a):"array-contains"===t?new jp(e,a):"in"===t?new Ku(e,a):"not-in"===t?new Yl(e,a):"array-contains-any"===t?new qu(e,a):new mi(e,t,a)}static createKeyFieldInFilter(e,t,a){return"in"===t?new Oc(e,a):new Eh(e,a)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(ql(t,this.value)):null!==t&&Al(this.value)===Al(t)&&this.matchesComparison(ql(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Bn()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Ui extends vh{constructor(e,t){super(),this.filters=e,this.op=t,this.lt=null}static create(e,t){return new Ui(e,t)}matches(e){return Ia(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(t=>t.isInequality());return null!==e?e.field:null}ft(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function Ia(i){return"and"===i.op}function Gu(i){return"or"===i.op}function Xo(i){return Wu(i)&&Ia(i)}function Wu(i){for(const e of i.filters)if(e instanceof Ui)return!1;return!0}function Pc(i){if(i instanceof mi)return i.field.canonicalString()+i.op.toString()+Rl(i.value);if(Xo(i))return i.filters.map(e=>Pc(e)).join(",");{const e=i.filters.map(t=>Pc(t)).join(",");return`${i.op}(${e})`}}function al(i,e){return i instanceof mi?(t=i,(a=e)instanceof mi&&t.op===a.op&&t.field.isEqual(a.field)&&rl(t.value,a.value)):i instanceof Ui?function(t,a){return a instanceof Ui&&t.op===a.op&&t.filters.length===a.filters.length&&t.filters.reduce((d,p,E)=>d&&al(p,a.filters[E]),!0)}(i,e):void Bn();var t,a}function _h(i,e){const t=i.filters.concat(e);return Ui.create(t,i.op)}function Mo(i){return i instanceof mi?`${(e=i).field.canonicalString()} ${e.op} ${Rl(e.value)}`:i instanceof Ui?function(e){return e.op.toString()+" {"+e.getFilters().map(Mo).join(" ,")+"}"}(i):"Filter";var e}class hd extends mi{constructor(e,t,a){super(e,t,a),this.key=Fn.fromName(a.referenceValue)}matches(e){const t=Fn.comparator(e.key,this.key);return this.matchesComparison(t)}}class Oc extends mi{constructor(e,t){super(e,"in",t),this.keys=fd(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class Eh extends mi{constructor(e,t){super(e,"not-in",t),this.keys=fd(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function fd(i,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(a=>Fn.fromName(a.referenceValue))}class jp extends mi{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Hu(t)&&xc(t.arrayValue,this.value)}}class Ku extends mi{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&xc(this.value.arrayValue,t)}}class Yl extends mi{constructor(e,t){super(e,"not-in",t)}matches(e){if(xc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!xc(this.value.arrayValue,t)}}class qu extends mi{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Hu(t)||!t.arrayValue.values)&&t.arrayValue.values.some(a=>xc(this.value.arrayValue,a))}}class pd{constructor(e,t=null,a=[],d=[],p=null,E=null,B=null){this.path=e,this.collectionGroup=t,this.orderBy=a,this.filters=d,this.limit=p,this.startAt=E,this.endAt=B,this.dt=null}}function Yu(i,e=null,t=[],a=[],d=null,p=null,E=null){return new pd(i,e,t,a,d,p,E)}function Zl(i){const e=un(i);if(null===e.dt){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(a=>Pc(a)).join(","),t+="|ob:",t+=e.orderBy.map(a=>{return(d=a).field.canonicalString()+d.dir;var d}).join(","),Pe(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(a=>Rl(a)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(a=>Rl(a)).join(",")),e.dt=t}return e.dt}function Zu(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<i.orderBy.length;t++)if(!Up(i.orderBy[t],e.orderBy[t]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let t=0;t<i.filters.length;t++)if(!al(i.filters[t],e.filters[t]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!Va(i.startAt,e.startAt)&&Va(i.endAt,e.endAt)}function yu(i){return Fn.isDocumentKey(i.path)&&null===i.collectionGroup&&0===i.filters.length}function gd(i,e){return i.filters.filter(t=>t instanceof mi&&t.field.isEqual(e))}function md(i,e,t){let a=mh,d=!0;for(const p of gd(i,e)){let E=mh,B=!0;switch(p.op){case"<":case"<=":E=yh(p.value);break;case"==":case"in":case">=":E=p.value;break;case">":E=p.value,B=!1;break;case"!=":case"not-in":E=mh}Lf({value:a,inclusive:d},{value:E,inclusive:B})<0&&(a=E,d=B)}if(null!==t)for(let p=0;p<i.orderBy.length;++p)if(i.orderBy[p].field.isEqual(e)){const E=t.position[p];Lf({value:a,inclusive:d},{value:E,inclusive:t.inclusive})<0&&(a=E,d=t.inclusive);break}return{value:a,inclusive:d}}function Nc(i,e,t){let a=La,d=!0;for(const p of gd(i,e)){let E=La,B=!0;switch(p.op){case">=":case">":E=pm(p.value),B=!1;break;case"==":case"in":case"<=":E=p.value;break;case"<":E=p.value,B=!1;break;case"!=":case"not-in":E=La}Vp({value:a,inclusive:d},{value:E,inclusive:B})>0&&(a=E,d=B)}if(null!==t)for(let p=0;p<i.orderBy.length;++p)if(i.orderBy[p].field.isEqual(e)){const E=t.position[p];Vp({value:a,inclusive:d},{value:E,inclusive:t.inclusive})>0&&(a=E,d=t.inclusive);break}return{value:a,inclusive:d}}class Ua{constructor(e,t=null,a=[],d=[],p=null,E="F",B=null,Y=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=a,this.filters=d,this.limit=p,this.limitType=E,this.startAt=B,this.endAt=Y,this.wt=null,this._t=null}}function Bf(i,e,t,a,d,p,E,B){return new Ua(i,e,t,a,d,p,E,B)}function Ql(i){return new Ua(i)}function P(i){return 0===i.filters.length&&null===i.limit&&null==i.startAt&&null==i.endAt&&(0===i.explicitOrderBy.length||1===i.explicitOrderBy.length&&i.explicitOrderBy[0].field.isKeyField())}function _(i){return i.explicitOrderBy.length>0?i.explicitOrderBy[0].field:null}function I(i){for(const e of i.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}function L(i){return null!==i.collectionGroup}function de(i){const e=un(i);if(null===e.wt){e.wt=[];const t=I(e),a=_(e);if(null!==t&&null===a)t.isKeyField()||e.wt.push(new ol(t)),e.wt.push(new ol(Yi.keyField(),"asc"));else{let d=!1;for(const p of e.explicitOrderBy)e.wt.push(p),p.field.isKeyField()&&(d=!0);if(!d){const p=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new ol(Yi.keyField(),p))}}}return e.wt}function Se(i){const e=un(i);if(!e._t)if("F"===e.limitType)e._t=Yu(e.path,e.collectionGroup,de(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const p of de(e))t.push(new ol(p.field,"desc"===p.dir?"asc":"desc"));const a=e.endAt?new xl(e.endAt.position,e.endAt.inclusive):null,d=e.startAt?new xl(e.startAt.position,e.startAt.inclusive):null;e._t=Yu(e.path,e.collectionGroup,t,e.filters,e.limit,a,d)}return e._t}function At(i,e){e.getFirstInequalityField(),I(i);const t=i.filters.concat([e]);return new Ua(i.path,i.collectionGroup,i.explicitOrderBy.slice(),t,i.limit,i.limitType,i.startAt,i.endAt)}function Yt(i,e,t){return new Ua(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,t,i.startAt,i.endAt)}function xn(i,e){return Zu(Se(i),Se(e))&&i.limitType===e.limitType}function Kn(i){return`${Zl(Se(i))}|lt:${i.limitType}`}function Or(i){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(a=>Mo(a)).join(", ")}]`),Pe(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(a=>{return`${(d=a).field.canonicalString()} (${d.dir})`;var d}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(a=>Rl(a)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(a=>Rl(a)).join(",")),`Target(${t})`}(Se(i))}; limitType=${i.limitType})`}function pi(i,e){return e.isFoundDocument()&&function(t,a){const d=a.key.path;return null!==t.collectionGroup?a.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(d):Fn.isDocumentKey(t.path)?t.path.isEqual(d):t.path.isImmediateParentOf(d)}(i,e)&&function(t,a){for(const d of de(t))if(!d.field.isKeyField()&&null===a.data.field(d.field))return!1;return!0}(i,e)&&function(t,a){for(const d of t.filters)if(!d.matches(a))return!1;return!0}(i,e)&&(a=e,!((t=i).startAt&&!function(d,p,E){const B=mu(d,p,E);return d.inclusive?B<=0:B<0}(t.startAt,de(t),a)||t.endAt&&!function(d,p,E){const B=mu(d,p,E);return d.inclusive?B>=0:B>0}(t.endAt,de(t),a)));var t,a}function mo(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function Xl(i){return(e,t)=>{let a=!1;for(const d of de(i)){const p=kc(d,e,t);if(0!==p)return p;a=a||d.field.isKeyField()}return 0}}function kc(i,e,t){const a=i.field.isKeyField()?Fn.comparator(e.key,t.key):function(d,p,E){const B=p.data.field(d),Y=E.data.field(d);return null!==B&&null!==Y?ql(B,Y):Bn()}(i.field,e,t);switch(i.dir){case"asc":return a;case"desc":return-1*a;default:return Bn()}}class ua{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),a=this.inner[t];if(void 0!==a)for(const[d,p]of a)if(this.equalsFn(d,e))return p}has(e){return void 0!==this.get(e)}set(e,t){const a=this.mapKeyFn(e),d=this.inner[a];if(void 0===d)return this.inner[a]=[[e,t]],void this.innerSize++;for(let p=0;p<d.length;p++)if(this.equalsFn(d[p][0],e))return void(d[p]=[e,t]);d.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),a=this.inner[t];if(void 0===a)return!1;for(let d=0;d<a.length;d++)if(this.equalsFn(a[d][0],e))return 1===a.length?delete this.inner[t]:a.splice(d,1),this.innerSize--,!0;return!1}forEach(e){sa(this.inner,(t,a)=>{for(const[d,p]of a)e(d,p)})}isEmpty(){return Wl(this.inner)}size(){return this.innerSize}}const Qu=new $i(Fn.comparator);function yo(){return Qu}const Xu=new $i(Fn.comparator);function ll(...i){let e=Xu;for(const t of i)e=e.insert(t.key,t);return e}function Ca(i){let e=Xu;return i.forEach((t,a)=>e=e.insert(t,a.overlayedDocument)),e}function ja(){return ec()}function Ju(){return ec()}function ec(){return new ua(i=>i.toString(),(i,e)=>i.isEqual(e))}const wh=new $i(Fn.comparator),Fc=new _s(Fn.comparator);function si(...i){let e=Fc;for(const t of i)e=e.add(t);return e}const gm=new _s(Gr);function Ih(){return gm}function $f(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Te(e)?"-0":e}}function ca(i){return{integerValue:""+i}}function Ch(i,e){return It(e)?ca(e):$f(i,e)}class Xs{constructor(){this._=void 0}}function yd(i,e,t){return i instanceof uo?function(a,d){const p={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return d&&Sl(d)&&(d=Kl(d)),d&&(p.fields.__previous_value__=d),{mapValue:p}}(t,e):i instanceof ul?vu(i,e):i instanceof Lc?mm(i,e):function(a,d){const p=Jl(a,d),E=Vf(p)+Vf(a.gt);return Ba(p)&&Ba(a.gt)?ca(E):$f(a.serializer,E)}(i,e)}function Ha(i,e,t){return i instanceof ul?vu(i,e):i instanceof Lc?mm(i,e):t}function Jl(i,e){return i instanceof Bc?Ba(t=e)||(a=t)&&"doubleValue"in a?e:{integerValue:0}:null;var a,t}class uo extends Xs{}class ul extends Xs{constructor(e){super(),this.elements=e}}function vu(i,e){const t=Hp(e);for(const a of i.elements)t.some(d=>rl(d,a))||t.push(a);return{arrayValue:{values:t}}}class Lc extends Xs{constructor(e){super(),this.elements=e}}function mm(i,e){let t=Hp(e);for(const a of i.elements)t=t.filter(d=>!rl(d,a));return{arrayValue:{values:t}}}class Bc extends Xs{constructor(e,t){super(),this.serializer=e,this.gt=t}}function Vf(i){return us(i.integerValue||i.doubleValue)}function Hp(i){return Hu(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}class bh{constructor(e,t){this.field=e,this.transform=t}}class Dy{constructor(e,t){this.version=e,this.transformResults=t}}class Ms{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Ms}static exists(e){return new Ms(void 0,e)}static updateTime(e){return new Ms(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function _u(i,e){return void 0!==i.updateTime?e.isFoundDocument()&&e.version.isEqual(i.updateTime):void 0===i.exists||i.exists===e.isFoundDocument()}class eu{}function Uf(i,e){if(!i.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return i.isNoDocument()?new nc(i.key,Ms.none()):new Eu(i.key,i.data,Ms.none());{const t=i.data,a=Zi.empty();let d=new _s(Yi.comparator);for(let p of e.fields)if(!d.has(p)){let E=t.field(p);null===E&&p.length>1&&(p=p.popLast(),E=t.field(p)),null===E?a.delete(p):a.set(p,E),d=d.add(p)}return new wo(i.key,a,new Fo(d.toArray()),Ms.none())}}function vd(i,e,t){i instanceof Eu?function(a,d,p){const E=a.value.clone(),B=Th(a.fieldTransforms,d,p.transformResults);E.setAll(B),d.convertToFoundDocument(p.version,E).setHasCommittedMutations()}(i,e,t):i instanceof wo?function(a,d,p){if(!_u(a.precondition,d))return void d.convertToUnknownDocument(p.version);const E=Th(a.fieldTransforms,d,p.transformResults),B=d.data;B.setAll(tc(a)),B.setAll(E),d.convertToFoundDocument(p.version,B).setHasCommittedMutations()}(i,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function _d(i,e,t,a){return i instanceof Eu?function(d,p,E,B){if(!_u(d.precondition,p))return E;const Y=d.value.clone(),ae=zp(d.fieldTransforms,B,p);return Y.setAll(ae),p.convertToFoundDocument(p.version,Y).setHasLocalMutations(),null}(i,e,t,a):i instanceof wo?function(d,p,E,B){if(!_u(d.precondition,p))return E;const Y=zp(d.fieldTransforms,B,p),ae=p.data;return ae.setAll(tc(d)),ae.setAll(Y),p.convertToFoundDocument(p.version,ae).setHasLocalMutations(),null===E?null:E.unionWith(d.fieldMask.fields).unionWith(d.fieldTransforms.map(Me=>Me.field))}(i,e,t,a):(E=t,_u(i.precondition,p=e)?(p.convertToNoDocument(p.version).setHasLocalMutations(),null):E);var p,E}function vm(i,e){let t=null;for(const a of i.fieldTransforms){const d=e.data.field(a.field),p=Jl(a.transform,d||null);null!=p&&(null===t&&(t=Zi.empty()),t.set(a.field,p))}return t||null}function Dh(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&(a=e.fieldTransforms,!!(void 0===(t=i.fieldTransforms)&&void 0===a||t&&a&&Eo(t,a,(d,p)=>function ym(i,e){return i.field.isEqual(e.field)&&(a=e.transform,(t=i.transform)instanceof ul&&a instanceof ul||t instanceof Lc&&a instanceof Lc?Eo(t.elements,a.elements,rl):t instanceof Bc&&a instanceof Bc?rl(t.gt,a.gt):t instanceof uo&&a instanceof uo);var t,a}(d,p))))&&(0===i.type?i.value.isEqual(e.value):1!==i.type||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask));var t,a}class Eu extends eu{constructor(e,t,a,d=[]){super(),this.key=e,this.value=t,this.precondition=a,this.fieldTransforms=d,this.type=0}getFieldMask(){return null}}class wo extends eu{constructor(e,t,a,d,p=[]){super(),this.key=e,this.data=t,this.fieldMask=a,this.precondition=d,this.fieldTransforms=p,this.type=1}getFieldMask(){return this.fieldMask}}function tc(i){const e=new Map;return i.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const a=i.data.field(t);e.set(t,a)}}),e}function Th(i,e,t){const a=new Map;rr(i.length===t.length);for(let d=0;d<t.length;d++){const p=i[d],E=p.transform,B=e.data.field(p.field);a.set(p.field,Ha(E,B,t[d]))}return a}function zp(i,e,t){const a=new Map;for(const d of i){const p=d.transform,E=t.data.field(d.field);a.set(d.field,yd(p,E,e))}return a}class nc extends eu{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class $c extends eu{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Gp{constructor(e,t,a,d){this.batchId=e,this.localWriteTime=t,this.baseMutations=a,this.mutations=d}applyToRemoteDocument(e,t){const a=t.mutationResults;for(let d=0;d<this.mutations.length;d++){const p=this.mutations[d];p.key.isEqual(e.key)&&vd(p,e,a[d])}}applyToLocalView(e,t){for(const a of this.baseMutations)a.key.isEqual(e.key)&&(t=_d(a,e,t,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(e.key)&&(t=_d(a,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const a=Ju();return this.mutations.forEach(d=>{const p=e.get(d.key),E=p.overlayedDocument;let B=this.applyToLocalView(E,p.mutatedFields);B=t.has(d.key)?null:B;const Y=Uf(E,B);null!==Y&&a.set(d.key,Y),E.isValidDocument()||E.convertToNoDocument(Pr.min())}),a}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),si())}isEqual(e){return this.batchId===e.batchId&&Eo(this.mutations,e.mutations,(t,a)=>Dh(t,a))&&Eo(this.baseMutations,e.baseMutations,(t,a)=>Dh(t,a))}}class Wp{constructor(e,t,a,d){this.batch=e,this.commitVersion=t,this.mutationResults=a,this.docVersions=d}static from(e,t,a){rr(e.mutations.length===a.length);let d=wh;const p=e.mutations;for(let E=0;E<p.length;E++)d=d.insert(p[E].key,a[E].version);return new Wp(e,t,a,d)}}class Kp{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Sy{constructor(e,t){this.count=e,this.unchangedNames=t}}var Io,ji;function jf(i){switch(i){default:return Bn();case Gt.CANCELLED:case Gt.UNKNOWN:case Gt.DEADLINE_EXCEEDED:case Gt.RESOURCE_EXHAUSTED:case Gt.INTERNAL:case Gt.UNAVAILABLE:case Gt.UNAUTHENTICATED:return!1;case Gt.INVALID_ARGUMENT:case Gt.NOT_FOUND:case Gt.ALREADY_EXISTS:case Gt.PERMISSION_DENIED:case Gt.FAILED_PRECONDITION:case Gt.ABORTED:case Gt.OUT_OF_RANGE:case Gt.UNIMPLEMENTED:case Gt.DATA_LOSS:return!0}}function qp(i){if(void 0===i)return ti("GRPC error has no .code"),Gt.UNKNOWN;switch(i){case Io.OK:return Gt.OK;case Io.CANCELLED:return Gt.CANCELLED;case Io.UNKNOWN:return Gt.UNKNOWN;case Io.DEADLINE_EXCEEDED:return Gt.DEADLINE_EXCEEDED;case Io.RESOURCE_EXHAUSTED:return Gt.RESOURCE_EXHAUSTED;case Io.INTERNAL:return Gt.INTERNAL;case Io.UNAVAILABLE:return Gt.UNAVAILABLE;case Io.UNAUTHENTICATED:return Gt.UNAUTHENTICATED;case Io.INVALID_ARGUMENT:return Gt.INVALID_ARGUMENT;case Io.NOT_FOUND:return Gt.NOT_FOUND;case Io.ALREADY_EXISTS:return Gt.ALREADY_EXISTS;case Io.PERMISSION_DENIED:return Gt.PERMISSION_DENIED;case Io.FAILED_PRECONDITION:return Gt.FAILED_PRECONDITION;case Io.ABORTED:return Gt.ABORTED;case Io.OUT_OF_RANGE:return Gt.OUT_OF_RANGE;case Io.UNIMPLEMENTED:return Gt.UNIMPLEMENTED;case Io.DATA_LOSS:return Gt.DATA_LOSS;default:return Bn()}}(ji=Io||(Io={}))[ji.OK=0]="OK",ji[ji.CANCELLED=1]="CANCELLED",ji[ji.UNKNOWN=2]="UNKNOWN",ji[ji.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ji[ji.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ji[ji.NOT_FOUND=5]="NOT_FOUND",ji[ji.ALREADY_EXISTS=6]="ALREADY_EXISTS",ji[ji.PERMISSION_DENIED=7]="PERMISSION_DENIED",ji[ji.UNAUTHENTICATED=16]="UNAUTHENTICATED",ji[ji.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ji[ji.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ji[ji.ABORTED=10]="ABORTED",ji[ji.OUT_OF_RANGE=11]="OUT_OF_RANGE",ji[ji.UNIMPLEMENTED=12]="UNIMPLEMENTED",ji[ji.INTERNAL=13]="INTERNAL",ji[ji.UNAVAILABLE=14]="UNAVAILABLE",ji[ji.DATA_LOSS=15]="DATA_LOSS";class Sh{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return Hf}static getOrCreateInstance(){return null===Hf&&(Hf=new Sh),Hf}onExistenceFilterMismatch(e){const t=Symbol();return this.onExistenceFilterMismatchCallbacks.set(t,e),()=>this.onExistenceFilterMismatchCallbacks.delete(t)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(t=>t(e))}}let Hf=null;function _m(){return new TextEncoder}const Yp=new Ln([4294967295,4294967295],0);function Zp(i){const e=_m().encode(i),t=new lr;return t.update(e),new Uint8Array(t.digest())}function rc(i){const e=new DataView(i.buffer),t=e.getUint32(0,!0),a=e.getUint32(4,!0),d=e.getUint32(8,!0),p=e.getUint32(12,!0);return[new Ln([t,a],0),new Ln([d,p],0)]}class zf{constructor(e,t,a){if(this.bitmap=e,this.padding=t,this.hashCount=a,t<0||t>=8)throw new Ed(`Invalid padding: ${t}`);if(a<0)throw new Ed(`Invalid hash count: ${a}`);if(e.length>0&&0===this.hashCount)throw new Ed(`Invalid hash count: ${a}`);if(0===e.length&&0!==t)throw new Ed(`Invalid padding when bitmap length is 0: ${t}`);this.It=8*e.length-t,this.Tt=Ln.fromNumber(this.It)}Et(e,t,a){let d=e.add(t.multiply(Ln.fromNumber(a)));return 1===d.compare(Yp)&&(d=new Ln([d.getBits(0),d.getBits(1)],0)),d.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const t=Zp(e),[a,d]=rc(t);for(let p=0;p<this.hashCount;p++){const E=this.Et(a,d,p);if(!this.At(E))return!1}return!0}static create(e,t,a){const d=e%8==0?0:8-e%8,p=new Uint8Array(Math.ceil(e/8)),E=new zf(p,d,t);return a.forEach(B=>E.insert(B)),E}insert(e){if(0===this.It)return;const t=Zp(e),[a,d]=rc(t);for(let p=0;p<this.hashCount;p++){const E=this.Et(a,d,p);this.Rt(E)}}Rt(e){const t=Math.floor(e/8);this.bitmap[t]|=1<<e%8}}class Ed extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class da{constructor(e,t,a,d,p){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=a,this.documentUpdates=d,this.resolvedLimboDocuments=p}static createSynthesizedRemoteEventForCurrentChange(e,t,a){const d=new Map;return d.set(e,Gf.createSynthesizedTargetChangeForCurrentChange(e,t,a)),new da(Pr.min(),d,new $i(Gr),yo(),si())}}class Gf{constructor(e,t,a,d,p){this.resumeToken=e,this.current=t,this.addedDocuments=a,this.modifiedDocuments=d,this.removedDocuments=p}static createSynthesizedTargetChangeForCurrentChange(e,t,a){return new Gf(a,t,si(),si(),si())}}class wu{constructor(e,t,a,d){this.Pt=e,this.removedTargetIds=t,this.key=a,this.bt=d}}class Qp{constructor(e,t){this.targetId=e,this.Vt=t}}class Xp{constructor(e,t,a=qs.EMPTY_BYTE_STRING,d=null){this.state=e,this.targetIds=t,this.resumeToken=a,this.cause=d}}class Wf{constructor(){this.St=0,this.Dt=Jp(),this.Ct=qs.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=si(),t=si(),a=si();return this.Dt.forEach((d,p)=>{switch(p){case 0:e=e.add(d);break;case 2:t=t.add(d);break;case 1:a=a.add(d);break;default:Bn()}}),new Gf(this.Ct,this.xt,e,t,a)}Ft(){this.Nt=!1,this.Dt=Jp()}Bt(e,t){this.Nt=!0,this.Dt=this.Dt.insert(e,t)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class Em{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=yo(),this.zt=Kf(),this.Wt=new $i(Gr)}Ht(e){for(const t of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(t,e.bt):this.Yt(t,e.key,e.bt);for(const t of e.removedTargetIds)this.Yt(t,e.key,e.bt)}Xt(e){this.forEachTarget(e,t=>{const a=this.Zt(t);switch(e.state){case 0:this.te(t)&&a.$t(e.resumeToken);break;case 1:a.Ut(),a.kt||a.Ft(),a.$t(e.resumeToken);break;case 2:a.Ut(),a.kt||this.removeTarget(t);break;case 3:this.te(t)&&(a.Kt(),a.$t(e.resumeToken));break;case 4:this.te(t)&&(this.ee(t),a.$t(e.resumeToken));break;default:Bn()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Qt.forEach((a,d)=>{this.te(d)&&t(d)})}ne(e){var t;const a=e.targetId,d=e.Vt.count,p=this.se(a);if(p){const E=p.target;if(yu(E))if(0===d){const B=new Fn(E.path);this.Yt(a,B,Qi.newNoDocument(B,Pr.min()))}else rr(1===d);else{const B=this.ie(a);if(B!==d){const Y=this.re(e,B);0!==Y&&(this.ee(a),this.Wt=this.Wt.insert(a,2===Y?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(t=Sh.instance)||void 0===t||t.notifyOnExistenceFilterMismatch(function(ae,Me,at){var Ut,on,On,er,gr,vi;const Xi={localCacheCount:Me,existenceFilterCount:at.count},xi=at.unchangedNames;return xi&&(Xi.bloomFilter={applied:0===ae,hashCount:null!==(Ut=null==xi?void 0:xi.hashCount)&&void 0!==Ut?Ut:0,bitmapLength:null!==(er=null===(On=null===(on=null==xi?void 0:xi.bits)||void 0===on?void 0:on.bitmap)||void 0===On?void 0:On.length)&&void 0!==er?er:0,padding:null!==(vi=null===(gr=null==xi?void 0:xi.bits)||void 0===gr?void 0:gr.padding)&&void 0!==vi?vi:0}),Xi}(Y,B,e.Vt))}}}}re(e,t){const{unchangedNames:a,count:d}=e.Vt;if(!a||!a.bits)return 1;const{bits:{bitmap:p="",padding:E=0},hashCount:B=0}=a;let Y,ae;try{Y=Lo(p).toUint8Array()}catch(Me){if(Me instanceof fu)return Jr("Decoding the base64 bloom filter in existence filter failed ("+Me.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw Me}try{ae=new zf(Y,E,B)}catch(Me){return Jr(Me instanceof Ed?"BloomFilter error: ":"Applying bloom filter failed: ",Me),1}return 0===ae.It?1:d!==t-this.oe(e.targetId,ae)?2:0}oe(e,t){const a=this.Gt.getRemoteKeysForTarget(e);let d=0;return a.forEach(p=>{const E=this.Gt.ue(),B=`projects/${E.projectId}/databases/${E.database}/documents/${p.path.canonicalString()}`;t.vt(B)||(this.Yt(e,p,null),d++)}),d}ce(e){const t=new Map;this.Qt.forEach((p,E)=>{const B=this.se(E);if(B){if(p.current&&yu(B.target)){const Y=new Fn(B.target.path);null!==this.jt.get(Y)||this.ae(E,Y)||this.Yt(E,Y,Qi.newNoDocument(Y,e))}p.Mt&&(t.set(E,p.Ot()),p.Ft())}});let a=si();this.zt.forEach((p,E)=>{let B=!0;E.forEachWhile(Y=>{const ae=this.se(Y);return!ae||"TargetPurposeLimboResolution"===ae.purpose||(B=!1,!1)}),B&&(a=a.add(p))}),this.jt.forEach((p,E)=>E.setReadTime(e));const d=new da(e,t,this.Wt,this.jt,a);return this.jt=yo(),this.zt=Kf(),this.Wt=new $i(Gr),d}Jt(e,t){if(!this.te(e))return;const a=this.ae(e,t.key)?2:0;this.Zt(e).Bt(t.key,a),this.jt=this.jt.insert(t.key,t),this.zt=this.zt.insert(t.key,this.he(t.key).add(e))}Yt(e,t,a){if(!this.te(e))return;const d=this.Zt(e);this.ae(e,t)?d.Bt(t,1):d.Lt(t),this.zt=this.zt.insert(t,this.he(t).delete(e)),a&&(this.jt=this.jt.insert(t,a))}removeTarget(e){this.Qt.delete(e)}ie(e){const t=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let t=this.Qt.get(e);return t||(t=new Wf,this.Qt.set(e,t)),t}he(e){let t=this.zt.get(e);return t||(t=new _s(Gr),this.zt=this.zt.insert(e,t)),t}te(e){const t=null!==this.se(e);return t||yn("WatchChangeAggregator","Detected inactive target",e),t}se(e){const t=this.Qt.get(e);return t&&t.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new Wf),this.Gt.getRemoteKeysForTarget(e).forEach(t=>{this.Yt(e,t,null)})}ae(e,t){return this.Gt.getRemoteKeysForTarget(e).has(t)}}function Kf(){return new $i(Fn.comparator)}function Jp(){return new $i(Fn.comparator)}const qf={asc:"ASCENDING",desc:"DESCENDING"},wd={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},wm={and:"AND",or:"OR"};class eg{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Ah(i,e){return i.useProto3Json||Pe(e)?e:{value:e}}function ic(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Yf(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function Mh(i,e){return ic(i,e.toTimestamp())}function vo(i){return rr(!!i),Pr.fromTimestamp(function(e){const t=Go(e);return new gs(t.seconds,t.nanos)}(i))}function Zf(i,e){return(t=i,new ci(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function Im(i){const e=ci.fromString(i);return rr(Iu(e)),e}function Rh(i,e){return Zf(i.databaseId,e.path)}function tu(i,e){const t=Im(e);if(t.get(1)!==i.databaseId.projectId)throw new _n(Gt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+i.databaseId.projectId);if(t.get(3)!==i.databaseId.database)throw new _n(Gt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+i.databaseId.database);return new Fn(ng(t))}function Qf(i,e){return Zf(i.databaseId,e)}function tg(i){const e=Im(i);return 4===e.length?ci.emptyPath():ng(e)}function Vc(i){return new ci(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function ng(i){return rr(i.length>4&&"documents"===i.get(4)),i.popFirst(5)}function Uc(i,e,t){return{name:Rh(i,e),fields:t.value.mapValue.fields}}function Cm(i,e,t){const a=tu(i,e.name),d=vo(e.updateTime),p=e.createTime?vo(e.createTime):Pr.min(),E=new Zi({mapValue:{fields:e.fields}}),B=Qi.newFoundDocument(a,d,p,E);return t&&B.setHasCommittedMutations(),t?B.setHasCommittedMutations():B}function xh(i,e){let t;if(e instanceof Eu)t={update:Uc(i,e.key,e.value)};else if(e instanceof nc)t={delete:Rh(i,e.key)};else if(e instanceof wo)t={update:Uc(i,e.key,e.data),updateMask:Py(e.fieldMask)};else{if(!(e instanceof $c))return Bn();t={verify:Rh(i,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(a=>function(d,p){const E=p.transform;if(E instanceof uo)return{fieldPath:p.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(E instanceof ul)return{fieldPath:p.field.canonicalString(),appendMissingElements:{values:E.elements}};if(E instanceof Lc)return{fieldPath:p.field.canonicalString(),removeAllFromArray:{values:E.elements}};if(E instanceof Bc)return{fieldPath:p.field.canonicalString(),increment:E.gt};throw Bn()}(0,a))),e.precondition.isNone||(t.currentDocument=void 0!==(d=e.precondition).updateTime?{updateTime:Mh(i,d.updateTime)}:void 0!==d.exists?{exists:d.exists}:Bn()),t;var d}function Ph(i,e){const t=e.currentDocument?void 0!==(d=e.currentDocument).updateTime?Ms.updateTime(vo(d.updateTime)):void 0!==d.exists?Ms.exists(d.exists):Ms.none():Ms.none(),a=e.updateTransforms?e.updateTransforms.map(d=>function(p,E){let B=null;"setToServerValue"in E?(rr("REQUEST_TIME"===E.setToServerValue),B=new uo):"appendMissingElements"in E?B=new ul(E.appendMissingElements.values||[]):"removeAllFromArray"in E?B=new Lc(E.removeAllFromArray.values||[]):"increment"in E?B=new Bc(p,E.increment):Bn();const Y=Yi.fromServerFormat(E.fieldPath);return new bh(Y,B)}(i,d)):[];var d;if(e.update){const d=tu(i,e.update.name),p=new Zi({mapValue:{fields:e.update.fields}});if(e.updateMask){const E=new Fo((e.updateMask.fieldPaths||[]).map(ae=>Yi.fromServerFormat(ae)));return new wo(d,p,E,t,a)}return new Eu(d,p,t,a)}if(e.delete){const d=tu(i,e.delete);return new nc(d,t)}if(e.verify){const d=tu(i,e.verify);return new $c(d,t)}return Bn()}function Id(i,e){return{documents:[Qf(i,e.path)]}}function za(i,e){const t={structuredQuery:{}},a=e.path;null!==e.collectionGroup?(t.parent=Qf(i,a),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=Qf(i,a.popLast()),t.structuredQuery.from=[{collectionId:a.lastSegment()}]);const d=function(Y){if(0!==Y.length)return Oh(Ui.create(Y,"and"))}(e.filters);d&&(t.structuredQuery.where=d);const p=function(Y){if(0!==Y.length)return Y.map(ae=>{return{field:sc((Me=ae).field),direction:bm(Me.dir)};var Me})}(e.orderBy);p&&(t.structuredQuery.orderBy=p);const E=Ah(i,e.limit);var B,Y;return null!==E&&(t.structuredQuery.limit=E),e.startAt&&(t.structuredQuery.startAt={before:(B=e.startAt).inclusive,values:B.position}),e.endAt&&(t.structuredQuery.endAt={before:!(Y=e.endAt).inclusive,values:Y.position}),t}function Co(i){let e=tg(i.parent);const t=i.structuredQuery,a=t.from?t.from.length:0;let d=null;if(a>0){rr(1===a);const Me=t.from[0];Me.allDescendants?d=Me.collectionId:e=e.child(Me.collectionId)}let p=[];t.where&&(p=function(Me){const at=jc(Me);return at instanceof Ui&&Xo(at)?at.getFilters():[at]}(t.where));let E=[];t.orderBy&&(E=t.orderBy.map(Me=>{return new ol(Cd((at=Me).field),function(Ut){switch(Ut){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(at.direction));var at}));let B=null;t.limit&&(B=function(Me){let at;return at="object"==typeof Me?Me.value:Me,Pe(at)?null:at}(t.limit));let Y=null;var Me;t.startAt&&(Y=new xl((Me=t.startAt).values||[],!!Me.before));let ae=null;return t.endAt&&(ae=function(Me){return new xl(Me.values||[],!Me.before)}(t.endAt)),Bf(e,d,E,p,B,"F",Y,ae)}function jc(i){return void 0!==i.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Cd(e.unaryFilter.field);return mi.create(t,"==",{doubleValue:NaN});case"IS_NULL":const a=Cd(e.unaryFilter.field);return mi.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const d=Cd(e.unaryFilter.field);return mi.create(d,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const p=Cd(e.unaryFilter.field);return mi.create(p,"!=",{nullValue:"NULL_VALUE"});default:return Bn()}}(i):void 0!==i.fieldFilter?mi.create(Cd((e=i).fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Bn()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==i.compositeFilter?function(e){return Ui.create(e.compositeFilter.filters.map(t=>jc(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return Bn()}}(e.compositeFilter.op))}(i):Bn();var e}function bm(i){return qf[i]}function Dm(i){return wd[i]}function xy(i){return wm[i]}function sc(i){return{fieldPath:i.canonicalString()}}function Cd(i){return Yi.fromServerFormat(i.fieldPath)}function Oh(i){return i instanceof mi?function(e){if("=="===e.op){if(il(e.value))return{unaryFilter:{field:sc(e.field),op:"IS_NAN"}};if(la(e.value))return{unaryFilter:{field:sc(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(il(e.value))return{unaryFilter:{field:sc(e.field),op:"IS_NOT_NAN"}};if(la(e.value))return{unaryFilter:{field:sc(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:sc(e.field),op:Dm(e.op),value:e.value}}}(i):i instanceof Ui?function(e){const t=e.getFilters().map(a=>Oh(a));return 1===t.length?t[0]:{compositeFilter:{op:xy(e.op),filters:t}}}(i):Bn()}function Py(i){const e=[];return i.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function Iu(i){return i.length>=4&&"projects"===i.get(0)&&"databases"===i.get(2)}class Da{constructor(e,t,a,d,p=Pr.min(),E=Pr.min(),B=qs.EMPTY_BYTE_STRING,Y=null){this.target=e,this.targetId=t,this.purpose=a,this.sequenceNumber=d,this.snapshotVersion=p,this.lastLimboFreeSnapshotVersion=E,this.resumeToken=B,this.expectedCount=Y}withSequenceNumber(e){return new Da(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Da(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Da(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Da(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class rg{constructor(e){this.fe=e}}function Tm(i,e){const t=e.key,a={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:Hc(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())a.document={name:Rh(d=i.fe,(p=e).key),fields:p.data.value.mapValue.fields,updateTime:ic(d,p.version.toTimestamp()),createTime:ic(d,p.createTime.toTimestamp())};else if(e.isNoDocument())a.noDocument={path:t.path.toArray(),readTime:bd(e.version)};else{if(!e.isUnknownDocument())return Bn();a.unknownDocument={path:t.path.toArray(),version:bd(e.version)}}var d,p;return a}function Hc(i){const e=i.toTimestamp();return[e.seconds,e.nanoseconds]}function bd(i){const e=i.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function zc(i){const e=new gs(i.seconds,i.nanoseconds);return Pr.fromTimestamp(e)}function oc(i,e){const t=(e.baseMutations||[]).map(p=>Ph(i.fe,p));for(let p=0;p<e.mutations.length-1;++p)p+1<e.mutations.length&&void 0!==e.mutations[p+1].transform&&(e.mutations[p].updateTransforms=e.mutations[p+1].transform.fieldTransforms,e.mutations.splice(p+1,1),++p);const a=e.mutations.map(p=>Ph(i.fe,p)),d=gs.fromMillis(e.localWriteTimeMs);return new Gp(e.batchId,d,t,a)}function Nh(i){const e=zc(i.readTime),t=void 0!==i.lastLimboFreeSnapshotVersion?zc(i.lastLimboFreeSnapshotVersion):Pr.min();let a;var d;return void 0!==i.query.documents?(rr(1===(d=i.query).documents.length),a=Se(Ql(tg(d.documents[0])))):a=Se(Co(i.query)),new Da(a,i.targetId,"TargetPurposeListen",i.lastListenSequenceNumber,e,t,qs.fromBase64String(i.resumeToken))}function ig(i,e){const t=bd(e.snapshotVersion),a=bd(e.lastLimboFreeSnapshotVersion);let d;d=yu(e.target)?Id(i.fe,e.target):za(i.fe,e.target);const p=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Zl(e.target),readTime:t,resumeToken:p,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:a,query:d}}function Xf(i){const e=Co({parent:i.parent,structuredQuery:i.structuredQuery});return"LAST"===i.limitType?Yt(e,e.limit,"L"):e}function Jf(i,e){return new Kp(e.largestBatchId,Ph(i.fe,e.overlayMutation))}function ep(i,e){const t=e.path.lastSegment();return[i,en(e.path.popLast()),t]}function nu(i,e,t,a){return{indexId:i,uid:e.uid||"",sequenceNumber:t,readTime:bd(a.readTime),documentKey:en(a.documentKey.path),largestBatchId:a.largestBatchId}}class kh{getBundleMetadata(e,t){return tp(e).get(t).next(a=>{if(a)return{id:(d=a).bundleId,createTime:zc(d.createTime),version:d.version};var d})}saveBundleMetadata(e,t){return tp(e).put({bundleId:(a=t).id,createTime:bd(vo(a.createTime)),version:a.version});var a}getNamedQuery(e,t){return sg(e).get(t).next(a=>{if(a)return{name:(d=a).name,query:Xf(d.bundledQuery),readTime:zc(d.readTime)};var d})}saveNamedQuery(e,t){return sg(e).put({name:(a=t).name,readTime:bd(vo(a.readTime)),bundledQuery:a.bundledQuery});var a}}function tp(i){return go(i,"bundles")}function sg(i){return go(i,"namedQueries")}class Fh{constructor(e,t){this.serializer=e,this.userId=t}static de(e,t){return new Fh(e,t.uid||"")}getOverlay(e,t){return Lh(e).get(ep(this.userId,t)).next(a=>a?Jf(this.serializer,a):null)}getOverlays(e,t){const a=ja();return Vt.forEach(t,d=>this.getOverlay(e,d).next(p=>{null!==p&&a.set(d,p)})).next(()=>a)}saveOverlays(e,t,a){const d=[];return a.forEach((p,E)=>{const B=new Kp(t,E);d.push(this.we(e,B))}),Vt.waitFor(d)}removeOverlaysForBatchId(e,t,a){const d=new Set;t.forEach(E=>d.add(en(E.getCollectionPath())));const p=[];return d.forEach(E=>{const B=IDBKeyRange.bound([this.userId,E,a],[this.userId,E,a+1],!1,!0);p.push(Lh(e).J("collectionPathOverlayIndex",B))}),Vt.waitFor(p)}getOverlaysForCollection(e,t,a){const d=ja(),p=en(t),E=IDBKeyRange.bound([this.userId,p,a],[this.userId,p,Number.POSITIVE_INFINITY],!0);return Lh(e).j("collectionPathOverlayIndex",E).next(B=>{for(const Y of B){const ae=Jf(this.serializer,Y);d.set(ae.getKey(),ae)}return d})}getOverlaysForCollectionGroup(e,t,a,d){const p=ja();let E;const B=IDBKeyRange.bound([this.userId,t,a],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Lh(e).X({index:"collectionGroupOverlayIndex",range:B},(Y,ae,Me)=>{const at=Jf(this.serializer,ae);p.size()<d||at.largestBatchId===E?(p.set(at.getKey(),at),E=at.largestBatchId):Me.done()}).next(()=>p)}we(e,t){return Lh(e).put(function(a,d,p){const[E,B,Y]=ep(d,p.mutation.key);return{userId:d,collectionPath:B,documentId:Y,collectionGroup:p.mutation.key.getCollectionGroup(),largestBatchId:p.largestBatchId,overlayMutation:xh(a.fe,p.mutation)}}(this.serializer,this.userId,t))}}function Lh(i){return go(i,"documentOverlays")}class Dd{constructor(){}_e(e,t){this.me(e,t),t.ge()}me(e,t){if("nullValue"in e)this.ye(t,5);else if("booleanValue"in e)this.ye(t,10),t.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(t,15),t.pe(us(e.integerValue));else if("doubleValue"in e){const a=us(e.doubleValue);isNaN(a)?this.ye(t,13):(this.ye(t,15),Te(a)?t.pe(0):t.pe(a))}else if("timestampValue"in e){const a=e.timestampValue;this.ye(t,20),"string"==typeof a?t.Ie(a):(t.Ie(`${a.seconds||""}`),t.pe(a.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,t),this.Ee(t);else if("bytesValue"in e)this.ye(t,30),t.Ae(Lo(e.bytesValue)),this.Ee(t);else if("referenceValue"in e)this.ve(e.referenceValue,t);else if("geoPointValue"in e){const a=e.geoPointValue;this.ye(t,45),t.pe(a.latitude||0),t.pe(a.longitude||0)}else"mapValue"in e?sl(e)?this.ye(t,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,t),this.Ee(t)):"arrayValue"in e?(this.Pe(e.arrayValue,t),this.Ee(t)):Bn()}Te(e,t){this.ye(t,25),this.be(e,t)}be(e,t){t.Ie(e)}Re(e,t){const a=e.fields||{};this.ye(t,55);for(const d of Object.keys(a))this.Te(d,t),this.me(a[d],t)}Pe(e,t){const a=e.values||[];this.ye(t,50);for(const d of a)this.me(d,t)}ve(e,t){this.ye(t,37),Fn.fromName(e).path.forEach(a=>{this.ye(t,60),this.be(a,t)})}ye(e,t){e.pe(t)}Ee(e){e.pe(2)}}function wv(i){if(0===i)return 8;let e=0;return!(i>>4)&&(e+=4,i<<=4),!(i>>6)&&(e+=2,i<<=2),!(i>>7)&&(e+=1),e}function np(i){const e=64-function(t){let a=0;for(let d=0;d<8;++d){const p=wv(255&t[d]);if(a+=p,8!==p)break}return a}(i);return Math.ceil(e/8)}Dd.Ve=new Dd;class og{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Se(e){const t=e[Symbol.iterator]();let a=t.next();for(;!a.done;)this.De(a.value),a=t.next();this.Ce()}xe(e){const t=e[Symbol.iterator]();let a=t.next();for(;!a.done;)this.Ne(a.value),a=t.next();this.ke()}Me(e){for(const t of e){const a=t.charCodeAt(0);if(a<128)this.De(a);else if(a<2048)this.De(960|a>>>6),this.De(128|63&a);else if(t<"\ud800"||"\udbff"<t)this.De(480|a>>>12),this.De(128|63&a>>>6),this.De(128|63&a);else{const d=t.codePointAt(0);this.De(240|d>>>18),this.De(128|63&d>>>12),this.De(128|63&d>>>6),this.De(128|63&d)}}this.Ce()}$e(e){for(const t of e){const a=t.charCodeAt(0);if(a<128)this.Ne(a);else if(a<2048)this.Ne(960|a>>>6),this.Ne(128|63&a);else if(t<"\ud800"||"\udbff"<t)this.Ne(480|a>>>12),this.Ne(128|63&a>>>6),this.Ne(128|63&a);else{const d=t.codePointAt(0);this.Ne(240|d>>>18),this.Ne(128|63&d>>>12),this.Ne(128|63&d>>>6),this.Ne(128|63&d)}}this.ke()}Oe(e){const t=this.Fe(e),a=np(t);this.Be(1+a),this.buffer[this.position++]=255&a;for(let d=t.length-a;d<t.length;++d)this.buffer[this.position++]=255&t[d]}Le(e){const t=this.Fe(e),a=np(t);this.Be(1+a),this.buffer[this.position++]=~(255&a);for(let d=t.length-a;d<t.length;++d)this.buffer[this.position++]=~(255&t[d])}qe(){this.Ue(255),this.Ue(255)}Ke(){this.Ge(255),this.Ge(255)}reset(){this.position=0}seed(e){this.Be(e.length),this.buffer.set(e,this.position),this.position+=e.length}Qe(){return this.buffer.slice(0,this.position)}Fe(e){const t=function(d){const p=new DataView(new ArrayBuffer(8));return p.setFloat64(0,d,!1),new Uint8Array(p.buffer)}(e),a=0!=(128&t[0]);t[0]^=a?255:128;for(let d=1;d<t.length;++d)t[d]^=a?255:0;return t}De(e){const t=255&e;0===t?(this.Ue(0),this.Ue(255)):255===t?(this.Ue(255),this.Ue(0)):this.Ue(t)}Ne(e){const t=255&e;0===t?(this.Ge(0),this.Ge(255)):255===t?(this.Ge(255),this.Ge(0)):this.Ge(e)}Ce(){this.Ue(0),this.Ue(1)}ke(){this.Ge(0),this.Ge(1)}Ue(e){this.Be(1),this.buffer[this.position++]=e}Ge(e){this.Be(1),this.buffer[this.position++]=~e}Be(e){const t=e+this.position;if(t<=this.buffer.length)return;let a=2*this.buffer.length;a<t&&(a=t);const d=new Uint8Array(a);d.set(this.buffer),this.buffer=d}}class Iv{constructor(e){this.je=e}Ae(e){this.je.Se(e)}Ie(e){this.je.Me(e)}pe(e){this.je.Oe(e)}ge(){this.je.qe()}}class Cv{constructor(e){this.je=e}Ae(e){this.je.xe(e)}Ie(e){this.je.$e(e)}pe(e){this.je.Le(e)}ge(){this.je.Ke()}}class Td{constructor(){this.je=new og,this.ze=new Iv(this.je),this.We=new Cv(this.je)}seed(e){this.je.seed(e)}He(e){return 0===e?this.ze:this.We}Qe(){return this.je.Qe()}reset(){this.je.reset()}}class Gc{constructor(e,t,a,d){this.indexId=e,this.documentKey=t,this.arrayValue=a,this.directionalValue=d}Je(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,a=new Uint8Array(t);return a.set(this.directionalValue,0),t!==e?a.set([0],this.directionalValue.length):++a[a.length-1],new Gc(this.indexId,this.documentKey,this.arrayValue,a)}}function ac(i,e){let t=i.indexId-e.indexId;return 0!==t?t:(t=ag(i.arrayValue,e.arrayValue),0!==t?t:(t=ag(i.directionalValue,e.directionalValue),0!==t?t:Fn.comparator(i.documentKey,e.documentKey)))}function ag(i,e){for(let t=0;t<i.length&&t<e.length;++t){const a=i[t]-e[t];if(0!==a)return a}return i.length-e.length}class Ny{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ye=e.orderBy,this.Xe=[];for(const t of e.filters){const a=t;a.isInequality()?this.Ze=a:this.Xe.push(a)}}tn(e){rr(e.collectionGroup===this.collectionId);const t=Xa(e);if(void 0!==t&&!this.en(t))return!1;const a=Ra(e);let d=0,p=0;for(;d<a.length&&this.en(a[d]);++d);if(d===a.length)return!0;if(void 0!==this.Ze){const E=a[d];if(!this.nn(this.Ze,E)||!this.sn(this.Ye[p++],E))return!1;++d}for(;d<a.length;++d)if(p>=this.Ye.length||!this.sn(this.Ye[p++],a[d]))return!1;return!0}en(e){for(const t of this.Xe)if(this.nn(t,e))return!0;return!1}nn(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}sn(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function lg(i){var e,t;if(rr(i instanceof mi||i instanceof Ui),i instanceof mi){if(i instanceof Ku){const d=(null===(t=null===(e=i.value.arrayValue)||void 0===e?void 0:e.values)||void 0===t?void 0:t.map(p=>mi.create(i.field,"==",p)))||[];return Ui.create(d,"or")}return i}const a=i.filters.map(d=>lg(d));return Ui.create(a,i.op)}function rp(i){if(0===i.getFilters().length)return[];const e=_o(lg(i));return rr(ip(e)),ug(e)||Bh(e)?[e]:e.getFilters()}function ug(i){return i instanceof mi}function Bh(i){return i instanceof Ui&&Xo(i)}function ip(i){return ug(i)||Bh(i)||function(e){if(e instanceof Ui&&Gu(e)){for(const t of e.getFilters())if(!ug(t)&&!Bh(t))return!1;return!0}return!1}(i)}function _o(i){if(rr(i instanceof mi||i instanceof Ui),i instanceof mi)return i;if(1===i.filters.length)return _o(i.filters[0]);const e=i.filters.map(a=>_o(a));let t=Ui.create(e,i.op);return t=Sd(t),ip(t)?t:(rr(t instanceof Ui),rr(Ia(t)),rr(t.filters.length>1),t.filters.reduce((a,d)=>$h(a,d)))}function $h(i,e){let t;return rr(i instanceof mi||i instanceof Ui),rr(e instanceof mi||e instanceof Ui),t=i instanceof mi?e instanceof mi?Ui.create([i,e],"and"):cg(i,e):e instanceof mi?cg(e,i):function(a,d){if(rr(a.filters.length>0&&d.filters.length>0),Ia(a)&&Ia(d))return _h(a,d.getFilters());const p=Gu(a)?a:d,E=Gu(a)?d:a,B=p.filters.map(Y=>$h(Y,E));return Ui.create(B,"or")}(i,e),Sd(t)}function cg(i,e){if(Ia(e))return _h(e,i.getFilters());{const t=e.filters.map(a=>$h(i,a));return Ui.create(t,"or")}}function Sd(i){if(rr(i instanceof mi||i instanceof Ui),i instanceof mi)return i;const e=i.getFilters();if(1===e.length)return Sd(e[0]);if(Wu(i))return i;const t=e.map(d=>Sd(d)),a=[];return t.forEach(d=>{d instanceof mi?a.push(d):d instanceof Ui&&(d.op===i.op?a.push(...d.filters):a.push(d))}),1===a.length?a[0]:Ui.create(a,i.op)}class ky{constructor(){this.rn=new Sm}addToCollectionParentIndex(e,t){return this.rn.add(t),Vt.resolve()}getCollectionParents(e,t){return Vt.resolve(this.rn.getEntries(t))}addFieldIndex(e,t){return Vt.resolve()}deleteFieldIndex(e,t){return Vt.resolve()}getDocumentsMatchingTarget(e,t){return Vt.resolve(null)}getIndexType(e,t){return Vt.resolve(0)}getFieldIndexes(e,t){return Vt.resolve([])}getNextCollectionGroupToUpdate(e){return Vt.resolve(null)}getMinOffset(e,t){return Vt.resolve(No.min())}getMinOffsetFromCollectionGroup(e,t){return Vt.resolve(No.min())}updateCollectionGroup(e,t,a){return Vt.resolve()}updateIndexEntries(e,t){return Vt.resolve()}}class Sm{constructor(){this.index={}}add(e){const t=e.lastSegment(),a=e.popLast(),d=this.index[t]||new _s(ci.comparator),p=!d.has(a);return this.index[t]=d.add(a),p}has(e){const t=e.lastSegment(),a=e.popLast(),d=this.index[t];return d&&d.has(a)}getEntries(e){return(this.index[e]||new _s(ci.comparator)).toArray()}}const dg=new Uint8Array(0);class bv{constructor(e,t){this.user=e,this.databaseId=t,this.on=new Sm,this.un=new ua(a=>Zl(a),(a,d)=>Zu(a,d)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.on.has(t)){const a=t.lastSegment(),d=t.popLast();e.addOnCommittedListener(()=>{this.on.add(t)});const p={collectionId:a,parent:en(d)};return Fy(e).put(p)}return Vt.resolve()}getCollectionParents(e,t){const a=[],d=IDBKeyRange.bound([t,""],[dh(t),""],!1,!0);return Fy(e).j(d).next(p=>{for(const E of p){if(E.collectionId!==t)break;a.push(Zn(E.parent))}return a})}addFieldIndex(e,t){const a=Am(e),d={indexId:(E=t).indexId,collectionGroup:E.collectionGroup,fields:E.fields.map(B=>[B.fieldPath.canonicalString(),B.kind])};var E;delete d.indexId;const p=a.add(d);if(t.indexState){const E=hg(e);return p.next(B=>{E.put(nu(B,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return p.next()}deleteFieldIndex(e,t){const a=Am(e),d=hg(e),p=Vh(e);return a.delete(t.indexId).next(()=>d.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>p.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const a=Vh(e);let d=!0;const p=new Map;return Vt.forEach(this.cn(t),E=>this.an(e,E).next(B=>{d&&(d=!!B),p.set(E,B)})).next(()=>{if(d){let E=si();const B=[];return Vt.forEach(p,(Y,ae)=>{var Me;yn("IndexedDbIndexManager",`Using index ${Me=Y,`id=${Me.indexId}|cg=${Me.collectionGroup}|f=${Me.fields.map(xi=>`${xi.fieldPath}:${xi.kind}`).join(",")}`} to execute ${Zl(t)}`);const at=function(xi,Vo){const xo=Xa(Vo);if(void 0===xo)return null;for(const no of gd(xi,xo.fieldPath))switch(no.op){case"array-contains-any":return no.value.arrayValue.values||[];case"array-contains":return[no.value]}return null}(ae,Y),Ut=function(xi,Vo){const xo=new Map;for(const no of Ra(Vo))for(const ml of gd(xi,no.fieldPath))switch(ml.op){case"==":case"in":xo.set(no.fieldPath.canonicalString(),ml.value);break;case"not-in":case"!=":return xo.set(no.fieldPath.canonicalString(),ml.value),Array.from(xo.values())}return null}(ae,Y),on=function(xi,Vo){const xo=[];let no=!0;for(const ml of Ra(Vo)){const Nf=0===ml.kind?md(xi,ml.fieldPath,xi.startAt):Nc(xi,ml.fieldPath,xi.startAt);xo.push(Nf.value),no&&(no=Nf.inclusive)}return new xl(xo,no)}(ae,Y),On=function(xi,Vo){const xo=[];let no=!0;for(const ml of Ra(Vo)){const Nf=0===ml.kind?Nc(xi,ml.fieldPath,xi.endAt):md(xi,ml.fieldPath,xi.endAt);xo.push(Nf.value),no&&(no=Nf.inclusive)}return new xl(xo,no)}(ae,Y),er=this.hn(Y,ae,on),gr=this.hn(Y,ae,On),vi=this.ln(Y,ae,Ut),Xi=this.fn(Y.indexId,at,er,on.inclusive,gr,On.inclusive,vi);return Vt.forEach(Xi,xi=>a.H(xi,t.limit).next(Vo=>{Vo.forEach(xo=>{const no=Fn.fromSegments(xo.documentKey);E.has(no)||(E=E.add(no),B.push(no))})}))}).next(()=>B)}return Vt.resolve(null)})}cn(e){let t=this.un.get(e);return t||(t=0===e.filters.length?[e]:rp(Ui.create(e.filters,"and")).map(a=>Yu(e.path,e.collectionGroup,e.orderBy,a.getFilters(),e.limit,e.startAt,e.endAt)),this.un.set(e,t),t)}fn(e,t,a,d,p,E,B){const Y=(null!=t?t.length:1)*Math.max(a.length,p.length),ae=Y/(null!=t?t.length:1),Me=[];for(let at=0;at<Y;++at){const Ut=t?this.dn(t[at/ae]):dg,on=this.wn(e,Ut,a[at%ae],d),On=this._n(e,Ut,p[at%ae],E),er=B.map(gr=>this.wn(e,Ut,gr,!0));Me.push(...this.createRange(on,On,er))}return Me}wn(e,t,a,d){const p=new Gc(e,Fn.empty(),t,a);return d?p:p.Je()}_n(e,t,a,d){const p=new Gc(e,Fn.empty(),t,a);return d?p.Je():p}an(e,t){const a=new Ny(t),d=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,d).next(p=>{let E=null;for(const B of p)a.tn(B)&&(!E||B.fields.length>E.fields.length)&&(E=B);return E})}getIndexType(e,t){let a=2;const d=this.cn(t);return Vt.forEach(d,p=>this.an(e,p).next(E=>{E?0!==a&&E.fields.length<function(B){let Y=new _s(Yi.comparator),ae=!1;for(const Me of B.filters)for(const at of Me.getFlattenedFilters())at.field.isKeyField()||("array-contains"===at.op||"array-contains-any"===at.op?ae=!0:Y=Y.add(at.field));for(const Me of B.orderBy)Me.field.isKeyField()||(Y=Y.add(Me.field));return Y.size+(ae?1:0)}(p)&&(a=1):a=0})).next(()=>null!==t.limit&&d.length>1&&2===a?1:a)}mn(e,t){const a=new Td;for(const d of Ra(e)){const p=t.data.field(d.fieldPath);if(null==p)return null;const E=a.He(d.kind);Dd.Ve._e(p,E)}return a.Qe()}dn(e){const t=new Td;return Dd.Ve._e(e,t.He(0)),t.Qe()}gn(e,t){const a=new Td;return Dd.Ve._e(aa(this.databaseId,t),a.He(function(d){const p=Ra(d);return 0===p.length?0:p[p.length-1].kind}(e))),a.Qe()}ln(e,t,a){if(null===a)return[];let d=[];d.push(new Td);let p=0;for(const E of Ra(e)){const B=a[p++];for(const Y of d)if(this.yn(t,E.fieldPath)&&Hu(B))d=this.pn(d,E,B);else{const ae=Y.He(E.kind);Dd.Ve._e(B,ae)}}return this.In(d)}hn(e,t,a){return this.ln(e,t,a.position)}In(e){const t=[];for(let a=0;a<e.length;++a)t[a]=e[a].Qe();return t}pn(e,t,a){const d=[...e],p=[];for(const E of a.arrayValue.values||[])for(const B of d){const Y=new Td;Y.seed(B.Qe()),Dd.Ve._e(E,Y.He(t.kind)),p.push(Y)}return p}yn(e,t){return!!e.filters.find(a=>a instanceof mi&&a.field.isEqual(t)&&("in"===a.op||"not-in"===a.op))}getFieldIndexes(e,t){const a=Am(e),d=hg(e);return(t?a.j("collectionGroupIndex",IDBKeyRange.bound(t,t)):a.j()).next(p=>{const E=[];return Vt.forEach(p,B=>d.get([B.indexId,this.uid]).next(Y=>{E.push(function(ae,Me){const at=Me?new Ja(Me.sequenceNumber,new No(zc(Me.readTime),new Fn(Zn(Me.documentKey)),Me.largestBatchId)):Ja.empty(),Ut=ae.fields.map(([on,On])=>new Hl(Yi.fromServerFormat(on),On));return new cu(ae.indexId,ae.collectionGroup,Ut,at)}(B,Y))})).next(()=>E)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((a,d)=>{const p=a.indexState.sequenceNumber-d.indexState.sequenceNumber;return 0!==p?p:Gr(a.collectionGroup,d.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,a){const d=Am(e),p=hg(e);return this.Tn(e).next(E=>d.j("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(B=>Vt.forEach(B,Y=>p.put(nu(Y.indexId,this.user,E,a)))))}updateIndexEntries(e,t){const a=new Map;return Vt.forEach(t,(d,p)=>{const E=a.get(d.collectionGroup);return(E?Vt.resolve(E):this.getFieldIndexes(e,d.collectionGroup)).next(B=>(a.set(d.collectionGroup,B),Vt.forEach(B,Y=>this.En(e,d,Y).next(ae=>{const Me=this.An(p,Y);return ae.isEqual(Me)?Vt.resolve():this.vn(e,p,Y,ae,Me)}))))})}Rn(e,t,a,d){return Vh(e).put({indexId:d.indexId,uid:this.uid,arrayValue:d.arrayValue,directionalValue:d.directionalValue,orderedDocumentKey:this.gn(a,t.key),documentKey:t.key.path.toArray()})}Pn(e,t,a,d){return Vh(e).delete([d.indexId,this.uid,d.arrayValue,d.directionalValue,this.gn(a,t.key),t.key.path.toArray()])}En(e,t,a){const d=Vh(e);let p=new _s(ac);return d.X({index:"documentKeyIndex",range:IDBKeyRange.only([a.indexId,this.uid,this.gn(a,t)])},(E,B)=>{p=p.add(new Gc(a.indexId,t,B.arrayValue,B.directionalValue))}).next(()=>p)}An(e,t){let a=new _s(ac);const d=this.mn(t,e);if(null==d)return a;const p=Xa(t);if(null!=p){const E=e.data.field(p.fieldPath);if(Hu(E))for(const B of E.arrayValue.values||[])a=a.add(new Gc(t.indexId,e.key,this.dn(B),d))}else a=a.add(new Gc(t.indexId,e.key,dg,d));return a}vn(e,t,a,d,p){yn("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const E=[];return function(B,Y,ae,Me,at){const Ut=B.getIterator(),on=Y.getIterator();let On=hu(Ut),er=hu(on);for(;On||er;){let gr=!1,vi=!1;if(On&&er){const Xi=ae(On,er);Xi<0?vi=!0:Xi>0&&(gr=!0)}else null!=On?vi=!0:gr=!0;gr?(Me(er),er=hu(on)):vi?(at(On),On=hu(Ut)):(On=hu(Ut),er=hu(on))}}(d,p,ac,B=>{E.push(this.Rn(e,t,a,B))},B=>{E.push(this.Pn(e,t,a,B))}),Vt.waitFor(E)}Tn(e){let t=1;return hg(e).X({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(a,d,p)=>{p.done(),t=d.sequenceNumber+1}).next(()=>t)}createRange(e,t,a){a=a.sort((E,B)=>ac(E,B)).filter((E,B,Y)=>!B||0!==ac(E,Y[B-1]));const d=[];d.push(e);for(const E of a){const B=ac(E,e),Y=ac(E,t);if(0===B)d[0]=e.Je();else if(B>0&&Y<0)d.push(E),d.push(E.Je());else if(Y>0)break}d.push(t);const p=[];for(let E=0;E<d.length;E+=2){if(this.bn(d[E],d[E+1]))return[];p.push(IDBKeyRange.bound([d[E].indexId,this.uid,d[E].arrayValue,d[E].directionalValue,dg,[]],[d[E+1].indexId,this.uid,d[E+1].arrayValue,d[E+1].directionalValue,dg,[]]))}return p}bn(e,t){return ac(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(Uh)}getMinOffset(e,t){return Vt.mapArray(this.cn(t),a=>this.an(e,a).next(d=>d||Bn())).next(Uh)}}function Fy(i){return go(i,"collectionParents")}function Vh(i){return go(i,"indexEntries")}function Am(i){return go(i,"indexConfiguration")}function hg(i){return go(i,"indexState")}function Uh(i){rr(0!==i.length);let e=i[0].indexState.offset,t=e.largestBatchId;for(let a=1;a<i.length;a++){const d=i[a].indexState.offset;oo(d,e)<0&&(e=d),t<d.largestBatchId&&(t=d.largestBatchId)}return new No(e.readTime,e.documentKey,t)}const cs={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Ro{constructor(e,t,a){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=a}static withCacheSize(e){return new Ro(e,Ro.DEFAULT_COLLECTION_PERCENTILE,Ro.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function fg(i,e,t){const a=i.store("mutations"),d=i.store("documentMutations"),p=[],E=IDBKeyRange.only(t.batchId);let B=0;const Y=a.X({range:E},(Me,at,Ut)=>(B++,Ut.delete()));p.push(Y.next(()=>{rr(1===B)}));const ae=[];for(const Me of t.mutations){const at=zo(e,Me.key.path,t.batchId);p.push(d.delete(at)),ae.push(Me.key)}return Vt.waitFor(p).next(()=>ae)}function jh(i){if(!i)return 0;let e;if(i.document)e=i.document;else if(i.unknownDocument)e=i.unknownDocument;else{if(!i.noDocument)throw Bn();e=i.noDocument}return JSON.stringify(e).length}Ro.DEFAULT_COLLECTION_PERCENTILE=10,Ro.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ro.DEFAULT=new Ro(41943040,Ro.DEFAULT_COLLECTION_PERCENTILE,Ro.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ro.DISABLED=new Ro(-1,0,0);class Hh{constructor(e,t,a,d){this.userId=e,this.serializer=t,this.indexManager=a,this.referenceDelegate=d,this.Vn={}}static de(e,t,a,d){rr(""!==e.uid);const p=e.isAuthenticated()?e.uid:"";return new Hh(p,t,a,d)}checkEmpty(e){let t=!0;const a=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return lc(e).X({index:"userMutationsIndex",range:a},(d,p,E)=>{t=!1,E.done()}).next(()=>t)}addMutationBatch(e,t,a,d){const p=uc(e),E=lc(e);return E.add({}).next(B=>{rr("number"==typeof B);const Y=new Gp(B,t,a,d),ae=function(Ut,on,On){const er=On.baseMutations.map(vi=>xh(Ut.fe,vi)),gr=On.mutations.map(vi=>xh(Ut.fe,vi));return{userId:on,batchId:On.batchId,localWriteTimeMs:On.localWriteTime.toMillis(),baseMutations:er,mutations:gr}}(this.serializer,this.userId,Y),Me=[];let at=new _s((Ut,on)=>Gr(Ut.canonicalString(),on.canonicalString()));for(const Ut of d){const on=zo(this.userId,Ut.key.path,B);at=at.add(Ut.key.path.popLast()),Me.push(E.put(ae)),Me.push(p.put(on,Ea))}return at.forEach(Ut=>{Me.push(this.indexManager.addToCollectionParentIndex(e,Ut))}),e.addOnCommittedListener(()=>{this.Vn[B]=Y.keys()}),Vt.waitFor(Me).next(()=>Y)})}lookupMutationBatch(e,t){return lc(e).get(t).next(a=>a?(rr(a.userId===this.userId),oc(this.serializer,a)):null)}Sn(e,t){return this.Vn[t]?Vt.resolve(this.Vn[t]):this.lookupMutationBatch(e,t).next(a=>{if(a){const d=a.keys();return this.Vn[t]=d,d}return null})}getNextMutationBatchAfterBatchId(e,t){const a=t+1,d=IDBKeyRange.lowerBound([this.userId,a]);let p=null;return lc(e).X({index:"userMutationsIndex",range:d},(E,B,Y)=>{B.userId===this.userId&&(rr(B.batchId>=a),p=oc(this.serializer,B)),Y.done()}).next(()=>p)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let a=-1;return lc(e).X({index:"userMutationsIndex",range:t,reverse:!0},(d,p,E)=>{a=p.batchId,E.done()}).next(()=>a)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return lc(e).j("userMutationsIndex",t).next(a=>a.map(d=>oc(this.serializer,d)))}getAllMutationBatchesAffectingDocumentKey(e,t){const a=lo(this.userId,t.path),d=IDBKeyRange.lowerBound(a),p=[];return uc(e).X({range:d},(E,B,Y)=>{const[ae,Me,at]=E,Ut=Zn(Me);if(ae===this.userId&&t.path.isEqual(Ut))return lc(e).get(at).next(on=>{if(!on)throw Bn();rr(on.userId===this.userId),p.push(oc(this.serializer,on))});Y.done()}).next(()=>p)}getAllMutationBatchesAffectingDocumentKeys(e,t){let a=new _s(Gr);const d=[];return t.forEach(p=>{const E=lo(this.userId,p.path),B=IDBKeyRange.lowerBound(E),Y=uc(e).X({range:B},(ae,Me,at)=>{const[Ut,on,On]=ae,er=Zn(on);Ut===this.userId&&p.path.isEqual(er)?a=a.add(On):at.done()});d.push(Y)}),Vt.waitFor(d).next(()=>this.Dn(e,a))}getAllMutationBatchesAffectingQuery(e,t){const a=t.path,d=a.length+1,p=lo(this.userId,a),E=IDBKeyRange.lowerBound(p);let B=new _s(Gr);return uc(e).X({range:E},(Y,ae,Me)=>{const[at,Ut,on]=Y,On=Zn(Ut);at===this.userId&&a.isPrefixOf(On)?On.length===d&&(B=B.add(on)):Me.done()}).next(()=>this.Dn(e,B))}Dn(e,t){const a=[],d=[];return t.forEach(p=>{d.push(lc(e).get(p).next(E=>{if(null===E)throw Bn();rr(E.userId===this.userId),a.push(oc(this.serializer,E))}))}),Vt.waitFor(d).next(()=>a)}removeMutationBatch(e,t){return fg(e.ht,this.userId,t).next(a=>(e.addOnCommittedListener(()=>{this.Cn(t.batchId)}),Vt.forEach(a,d=>this.referenceDelegate.markPotentiallyOrphaned(e,d))))}Cn(e){delete this.Vn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return Vt.resolve();const a=IDBKeyRange.lowerBound([this.userId]),d=[];return uc(e).X({range:a},(p,E,B)=>{if(p[0]===this.userId){const Y=Zn(p[1]);d.push(Y)}else B.done()}).next(()=>{rr(0===d.length)})})}containsKey(e,t){return pg(e,this.userId,t)}xn(e){return gg(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function pg(i,e,t){const a=lo(e,t.path),d=a[1],p=IDBKeyRange.lowerBound(a);let E=!1;return uc(i).X({range:p,Y:!0},(B,Y,ae)=>{const[Me,at,Ut]=B;Me===e&&at===d&&(E=!0),ae.done()}).next(()=>E)}function lc(i){return go(i,"mutations")}function uc(i){return go(i,"documentMutations")}function gg(i){return go(i,"mutationQueues")}class Pl{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new Pl(0)}static Mn(){return new Pl(-1)}}class Dv{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.$n(e).next(t=>{const a=new Pl(t.highestTargetId);return t.highestTargetId=a.next(),this.On(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.$n(e).next(t=>Pr.fromTimestamp(new gs(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.$n(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,a){return this.$n(e).next(d=>(d.highestListenSequenceNumber=t,a&&(d.lastRemoteSnapshotVersion=a.toTimestamp()),t>d.highestListenSequenceNumber&&(d.highestListenSequenceNumber=t),this.On(e,d)))}addTargetData(e,t){return this.Fn(e,t).next(()=>this.$n(e).next(a=>(a.targetCount+=1,this.Bn(t,a),this.On(e,a))))}updateTargetData(e,t){return this.Fn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>cc(e).delete(t.targetId)).next(()=>this.$n(e)).next(a=>(rr(a.targetCount>0),a.targetCount-=1,this.On(e,a)))}removeTargets(e,t,a){let d=0;const p=[];return cc(e).X((E,B)=>{const Y=Nh(B);Y.sequenceNumber<=t&&null===a.get(Y.targetId)&&(d++,p.push(this.removeTargetData(e,Y)))}).next(()=>Vt.waitFor(p)).next(()=>d)}forEachTarget(e,t){return cc(e).X((a,d)=>{const p=Nh(d);t(p)})}$n(e){return Ad(e).get("targetGlobalKey").next(t=>(rr(null!==t),t))}On(e,t){return Ad(e).put("targetGlobalKey",t)}Fn(e,t){return cc(e).put(ig(this.serializer,t))}Bn(e,t){let a=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,a=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,a=!0),a}getTargetCount(e){return this.$n(e).next(t=>t.targetCount)}getTargetData(e,t){const a=Zl(t),d=IDBKeyRange.bound([a,Number.NEGATIVE_INFINITY],[a,Number.POSITIVE_INFINITY]);let p=null;return cc(e).X({range:d,index:"queryTargetsIndex"},(E,B,Y)=>{const ae=Nh(B);Zu(t,ae.target)&&(p=ae,Y.done())}).next(()=>p)}addMatchingKeys(e,t,a){const d=[],p=Ol(e);return t.forEach(E=>{const B=en(E.path);d.push(p.put({targetId:a,path:B})),d.push(this.referenceDelegate.addReference(e,a,E))}),Vt.waitFor(d)}removeMatchingKeys(e,t,a){const d=Ol(e);return Vt.forEach(t,p=>{const E=en(p.path);return Vt.waitFor([d.delete([a,E]),this.referenceDelegate.removeReference(e,a,p)])})}removeMatchingKeysForTargetId(e,t){const a=Ol(e),d=IDBKeyRange.bound([t],[t+1],!1,!0);return a.delete(d)}getMatchingKeysForTargetId(e,t){const a=IDBKeyRange.bound([t],[t+1],!1,!0),d=Ol(e);let p=si();return d.X({range:a,Y:!0},(E,B,Y)=>{const ae=Zn(E[1]),Me=new Fn(ae);p=p.add(Me)}).next(()=>p)}containsKey(e,t){const a=en(t.path),d=IDBKeyRange.bound([a],[dh(a)],!1,!0);let p=0;return Ol(e).X({index:"documentTargetsIndex",Y:!0,range:d},([E,B],Y,ae)=>{0!==E&&(p++,ae.done())}).next(()=>p>0)}le(e,t){return cc(e).get(t).next(a=>a?Nh(a):null)}}function cc(i){return go(i,"targets")}function Ad(i){return go(i,"targetGlobal")}function Ol(i){return go(i,"targetDocuments")}function Mm([i,e],[t,a]){const d=Gr(i,t);return 0===d?Gr(e,a):d}class Rm{constructor(e){this.Ln=e,this.buffer=new _s(Mm),this.qn=0}Un(){return++this.qn}Kn(e){const t=[e,this.Un()];if(this.buffer.size<this.Ln)this.buffer=this.buffer.add(t);else{const a=this.buffer.last();Mm(t,a)<0&&(this.buffer=this.buffer.delete(a).add(t))}}get maxValue(){return this.buffer.last()[0]}}class dc{constructor(e,t,a){this.garbageCollector=e,this.asyncQueue=t,this.localStore=a,this.Gn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Qn(6e4)}stop(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}get started(){return null!==this.Gn}Qn(e){var t=this;yn("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,m.Z)(function*(){t.Gn=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(a){ao(a)?yn("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",a):yield tl(a)}yield t.Qn(3e5)}))}}class Ly{constructor(e,t){this.jn=e,this.params=t}calculateTargetCount(e,t){return this.jn.zn(e).next(a=>Math.floor(t/100*a))}nthSequenceNumber(e,t){if(0===t)return Vt.resolve(J.ct);const a=new Rm(t);return this.jn.forEachTarget(e,d=>a.Kn(d.sequenceNumber)).next(()=>this.jn.Wn(e,d=>a.Kn(d))).next(()=>a.maxValue)}removeTargets(e,t,a){return this.jn.removeTargets(e,t,a)}removeOrphanedDocuments(e,t){return this.jn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(yn("LruGarbageCollector","Garbage collection skipped; disabled"),Vt.resolve(cs)):this.getCacheSize(e).next(a=>a<this.params.cacheSizeCollectionThreshold?(yn("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),cs):this.Hn(e,t))}getCacheSize(e){return this.jn.getCacheSize(e)}Hn(e,t){let a,d,p,E,B,Y,ae;const Me=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(at=>(at>this.params.maximumSequenceNumbersToCollect?(yn("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${at}`),d=this.params.maximumSequenceNumbersToCollect):d=at,E=Date.now(),this.nthSequenceNumber(e,d))).next(at=>(a=at,B=Date.now(),this.removeTargets(e,a,t))).next(at=>(p=at,Y=Date.now(),this.removeOrphanedDocuments(e,a))).next(at=>(ae=Date.now(),wi()<=_e.in.DEBUG&&yn("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${E-Me}ms\n\tDetermined least recently used ${d} in `+(B-E)+`ms\n\tRemoved ${p} targets in `+(Y-B)+`ms\n\tRemoved ${at} documents in `+(ae-Y)+`ms\nTotal Duration: ${ae-Me}ms`),Vt.resolve({didRun:!0,sequenceNumbersCollected:d,targetsRemoved:p,documentsRemoved:at})))}}class sp{constructor(e,t){this.db=e,this.garbageCollector=function Md(i,e){return new Ly(i,e)}(this,t)}zn(e){const t=this.Jn(e);return this.db.getTargetCache().getTargetCount(e).next(a=>t.next(d=>a+d))}Jn(e){let t=0;return this.Wn(e,a=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Wn(e,t){return this.Yn(e,(a,d)=>t(d))}addReference(e,t,a){return op(e,a)}removeReference(e,t,a){return op(e,a)}removeTargets(e,t,a){return this.db.getTargetCache().removeTargets(e,t,a)}markPotentiallyOrphaned(e,t){return op(e,t)}Xn(e,t){return function(a,d){let p=!1;return gg(a).Z(E=>pg(a,E,d).next(B=>(B&&(p=!0),Vt.resolve(!B)))).next(()=>p)}(e,t)}removeOrphanedDocuments(e,t){const a=this.db.getRemoteDocumentCache().newChangeBuffer(),d=[];let p=0;return this.Yn(e,(E,B)=>{if(B<=t){const Y=this.Xn(e,E).next(ae=>{if(!ae)return p++,a.getEntry(e,E).next(()=>(a.removeEntry(E,Pr.min()),Ol(e).delete([0,en(E.path)])))});d.push(Y)}}).next(()=>Vt.waitFor(d)).next(()=>a.apply(e)).next(()=>p)}removeTarget(e,t){const a=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,a)}updateLimboDocument(e,t){return op(e,t)}Yn(e,t){const a=Ol(e);let d,p=J.ct;return a.X({index:"documentTargetsIndex"},([E,B],{path:Y,sequenceNumber:ae})=>{0===E?(p!==J.ct&&t(new Fn(Zn(d)),p),p=ae,d=Y):p=J.ct}).next(()=>{p!==J.ct&&t(new Fn(Zn(d)),p)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function op(i,e){return Ol(i).put((a=i.currentSequenceNumber,{targetId:0,path:en(e.path),sequenceNumber:a}));var a}class mg{constructor(){this.changes=new ua(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Qi.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const a=this.changes.get(t);return void 0!==a?Vt.resolve(a):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Rd{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,a){return xd(e).put(a)}removeEntry(e,t,a){return xd(e).delete(function(d,p){const E=d.path.toArray();return[E.slice(0,E.length-2),E[E.length-2],Hc(p),E[E.length-1]]}(t,a))}updateMetadata(e,t){return this.getMetadata(e).next(a=>(a.byteSize+=t,this.Zn(e,a)))}getEntry(e,t){let a=Qi.newInvalidDocument(t);return xd(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(zh(t))},(d,p)=>{a=this.ts(t,p)}).next(()=>a)}es(e,t){let a={size:0,document:Qi.newInvalidDocument(t)};return xd(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(zh(t))},(d,p)=>{a={document:this.ts(t,p),size:jh(p)}}).next(()=>a)}getEntries(e,t){let a=yo();return this.ns(e,t,(d,p)=>{const E=this.ts(d,p);a=a.insert(d,E)}).next(()=>a)}ss(e,t){let a=yo(),d=new $i(Fn.comparator);return this.ns(e,t,(p,E)=>{const B=this.ts(p,E);a=a.insert(p,B),d=d.insert(p,jh(E))}).next(()=>({documents:a,rs:d}))}ns(e,t,a){if(t.isEmpty())return Vt.resolve();let d=new _s(Wc);t.forEach(Y=>d=d.add(Y));const p=IDBKeyRange.bound(zh(d.first()),zh(d.last())),E=d.getIterator();let B=E.getNext();return xd(e).X({index:"documentKeyIndex",range:p},(Y,ae,Me)=>{const at=Fn.fromSegments([...ae.prefixPath,ae.collectionGroup,ae.documentId]);for(;B&&Wc(B,at)<0;)a(B,null),B=E.getNext();B&&B.isEqual(at)&&(a(B,ae),B=E.hasNext()?E.getNext():null),B?Me.G(zh(B)):Me.done()}).next(()=>{for(;B;)a(B,null),B=E.hasNext()?E.getNext():null})}getDocumentsMatchingQuery(e,t,a,d){const p=t.path,E=[p.popLast().toArray(),p.lastSegment(),Hc(a.readTime),a.documentKey.path.isEmpty()?"":a.documentKey.path.lastSegment()],B=[p.popLast().toArray(),p.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return xd(e).j(IDBKeyRange.bound(E,B,!0)).next(Y=>{let ae=yo();for(const Me of Y){const at=this.ts(Fn.fromSegments(Me.prefixPath.concat(Me.collectionGroup,Me.documentId)),Me);at.isFoundDocument()&&(pi(t,at)||d.has(at.key))&&(ae=ae.insert(at.key,at))}return ae})}getAllFromCollectionGroup(e,t,a,d){let p=yo();const E=xm(t,a),B=xm(t,No.max());return xd(e).X({index:"collectionGroupIndex",range:IDBKeyRange.bound(E,B,!0)},(Y,ae,Me)=>{const at=this.ts(Fn.fromSegments(ae.prefixPath.concat(ae.collectionGroup,ae.documentId)),ae);p=p.insert(at.key,at),p.size===d&&Me.done()}).next(()=>p)}newChangeBuffer(e){return new yg(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return vg(e).get("remoteDocumentGlobalKey").next(t=>(rr(!!t),t))}Zn(e,t){return vg(e).put("remoteDocumentGlobalKey",t)}ts(e,t){if(t){const a=function Oy(i,e){let t;if(e.document)t=Cm(i.fe,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const a=Fn.fromSegments(e.noDocument.path),d=zc(e.noDocument.readTime);t=Qi.newNoDocument(a,d),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return Bn();{const a=Fn.fromSegments(e.unknownDocument.path),d=zc(e.unknownDocument.version);t=Qi.newUnknownDocument(a,d)}}return e.readTime&&t.setReadTime(function(a){const d=new gs(a[0],a[1]);return Pr.fromTimestamp(d)}(e.readTime)),t}(this.serializer,t);if(!a.isNoDocument()||!a.version.isEqual(Pr.min()))return a}return Qi.newInvalidDocument(e)}}function hc(i){return new Rd(i)}class yg extends mg{constructor(e,t){super(),this.os=e,this.trackRemovals=t,this.us=new ua(a=>a.toString(),(a,d)=>a.isEqual(d))}applyChanges(e){const t=[];let a=0,d=new _s((p,E)=>Gr(p.canonicalString(),E.canonicalString()));return this.changes.forEach((p,E)=>{const B=this.us.get(p);if(t.push(this.os.removeEntry(e,p,B.readTime)),E.isValidDocument()){const Y=Tm(this.os.serializer,E);d=d.add(p.path.popLast());const ae=jh(Y);a+=ae-B.size,t.push(this.os.addEntry(e,p,Y))}else if(a-=B.size,this.trackRemovals){const Y=Tm(this.os.serializer,E.convertToNoDocument(Pr.min()));t.push(this.os.addEntry(e,p,Y))}}),d.forEach(p=>{t.push(this.os.indexManager.addToCollectionParentIndex(e,p))}),t.push(this.os.updateMetadata(e,a)),Vt.waitFor(t)}getFromCache(e,t){return this.os.es(e,t).next(a=>(this.us.set(t,{size:a.size,readTime:a.document.readTime}),a.document))}getAllFromCache(e,t){return this.os.ss(e,t).next(({documents:a,rs:d})=>(d.forEach((p,E)=>{this.us.set(p,{size:E,readTime:a.get(p).readTime})}),a))}}function vg(i){return go(i,"remoteDocumentGlobal")}function xd(i){return go(i,"remoteDocumentsV14")}function zh(i){const e=i.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function xm(i,e){const t=e.documentKey.path.toArray();return[i,Hc(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function Wc(i,e){const t=i.path.toArray(),a=e.path.toArray();let d=0;for(let p=0;p<t.length-2&&p<a.length-2;++p)if(d=Gr(t[p],a[p]),d)return d;return d=Gr(t.length,a.length),d||(d=Gr(t[t.length-2],a[a.length-2]),d||Gr(t[t.length-1],a[a.length-1]))}class By{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class Pm{constructor(e,t,a,d){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=a,this.indexManager=d}getDocument(e,t){let a=null;return this.documentOverlayCache.getOverlay(e,t).next(d=>(a=d,this.remoteDocumentCache.getEntry(e,t))).next(d=>(null!==a&&_d(a.mutation,d,Fo.empty(),gs.now()),d))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(a=>this.getLocalViewOfDocuments(e,a,si()).next(()=>a))}getLocalViewOfDocuments(e,t,a=si()){const d=ja();return this.populateOverlays(e,d,t).next(()=>this.computeViews(e,t,d,a).next(p=>{let E=ll();return p.forEach((B,Y)=>{E=E.insert(B,Y.overlayedDocument)}),E}))}getOverlayedDocuments(e,t){const a=ja();return this.populateOverlays(e,a,t).next(()=>this.computeViews(e,t,a,si()))}populateOverlays(e,t,a){const d=[];return a.forEach(p=>{t.has(p)||d.push(p)}),this.documentOverlayCache.getOverlays(e,d).next(p=>{p.forEach((E,B)=>{t.set(E,B)})})}computeViews(e,t,a,d){let p=yo();const E=ec(),B=ec();return t.forEach((Y,ae)=>{const Me=a.get(ae.key);d.has(ae.key)&&(void 0===Me||Me.mutation instanceof wo)?p=p.insert(ae.key,ae):void 0!==Me?(E.set(ae.key,Me.mutation.getFieldMask()),_d(Me.mutation,ae,Me.mutation.getFieldMask(),gs.now())):E.set(ae.key,Fo.empty())}),this.recalculateAndSaveOverlays(e,p).next(Y=>(Y.forEach((ae,Me)=>E.set(ae,Me)),t.forEach((ae,Me)=>{var at;return B.set(ae,new By(Me,null!==(at=E.get(ae))&&void 0!==at?at:null))}),B))}recalculateAndSaveOverlays(e,t){const a=ec();let d=new $i((E,B)=>E-B),p=si();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(E=>{for(const B of E)B.keys().forEach(Y=>{const ae=t.get(Y);if(null===ae)return;let Me=a.get(Y)||Fo.empty();Me=B.applyToLocalView(ae,Me),a.set(Y,Me);const at=(d.get(B.batchId)||si()).add(Y);d=d.insert(B.batchId,at)})}).next(()=>{const E=[],B=d.getReverseIterator();for(;B.hasNext();){const Y=B.getNext(),ae=Y.key,Me=Y.value,at=Ju();Me.forEach(Ut=>{if(!p.has(Ut)){const on=Uf(t.get(Ut),a.get(Ut));null!==on&&at.set(Ut,on),p=p.add(Ut)}}),E.push(this.documentOverlayCache.saveOverlays(e,ae,at))}return Vt.waitFor(E)}).next(()=>a)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(a=>this.recalculateAndSaveOverlays(e,a))}getDocumentsMatchingQuery(e,t,a){return Fn.isDocumentKey((d=t).path)&&null===d.collectionGroup&&0===d.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):L(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,a):this.getDocumentsMatchingCollectionQuery(e,t,a);var d}getNextDocuments(e,t,a,d){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,a,d).next(p=>{const E=d-p.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,a.largestBatchId,d-p.size):Vt.resolve(ja());let B=-1,Y=p;return E.next(ae=>Vt.forEach(ae,(Me,at)=>(B<at.largestBatchId&&(B=at.largestBatchId),p.get(Me)?Vt.resolve():this.remoteDocumentCache.getEntry(e,Me).next(Ut=>{Y=Y.insert(Me,Ut)}))).next(()=>this.populateOverlays(e,ae,p)).next(()=>this.computeViews(e,Y,ae,si())).next(Me=>({batchId:B,changes:Ca(Me)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Fn(t)).next(a=>{let d=ll();return a.isFoundDocument()&&(d=d.insert(a.key,a)),d})}getDocumentsMatchingCollectionGroupQuery(e,t,a){const d=t.collectionGroup;let p=ll();return this.indexManager.getCollectionParents(e,d).next(E=>Vt.forEach(E,B=>{const Y=(ae=t,Me=B.child(d),new Ua(Me,null,ae.explicitOrderBy.slice(),ae.filters.slice(),ae.limit,ae.limitType,ae.startAt,ae.endAt));var ae,Me;return this.getDocumentsMatchingCollectionQuery(e,Y,a).next(ae=>{ae.forEach((Me,at)=>{p=p.insert(Me,at)})})}).next(()=>p))}getDocumentsMatchingCollectionQuery(e,t,a){let d;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,a.largestBatchId).next(p=>(d=p,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,a,d))).next(p=>{d.forEach((B,Y)=>{const ae=Y.getKey();null===p.get(ae)&&(p=p.insert(ae,Qi.newInvalidDocument(ae)))});let E=ll();return p.forEach((B,Y)=>{const ae=d.get(B);void 0!==ae&&_d(ae.mutation,Y,Fo.empty(),gs.now()),pi(t,Y)&&(E=E.insert(B,Y))}),E})}}class $y{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,t){return Vt.resolve(this.cs.get(t))}saveBundleMetadata(e,t){var a;return this.cs.set(t.id,{id:(a=t).id,version:a.version,createTime:vo(a.createTime)}),Vt.resolve()}getNamedQuery(e,t){return Vt.resolve(this.hs.get(t))}saveNamedQuery(e,t){return this.hs.set(t.name,{name:(a=t).name,query:Xf(a.bundledQuery),readTime:vo(a.readTime)}),Vt.resolve();var a}}class _g{constructor(){this.overlays=new $i(Fn.comparator),this.ls=new Map}getOverlay(e,t){return Vt.resolve(this.overlays.get(t))}getOverlays(e,t){const a=ja();return Vt.forEach(t,d=>this.getOverlay(e,d).next(p=>{null!==p&&a.set(d,p)})).next(()=>a)}saveOverlays(e,t,a){return a.forEach((d,p)=>{this.we(e,t,p)}),Vt.resolve()}removeOverlaysForBatchId(e,t,a){const d=this.ls.get(a);return void 0!==d&&(d.forEach(p=>this.overlays=this.overlays.remove(p)),this.ls.delete(a)),Vt.resolve()}getOverlaysForCollection(e,t,a){const d=ja(),p=t.length+1,E=new Fn(t.child("")),B=this.overlays.getIteratorFrom(E);for(;B.hasNext();){const Y=B.getNext().value,ae=Y.getKey();if(!t.isPrefixOf(ae.path))break;ae.path.length===p&&Y.largestBatchId>a&&d.set(Y.getKey(),Y)}return Vt.resolve(d)}getOverlaysForCollectionGroup(e,t,a,d){let p=new $i((ae,Me)=>ae-Me);const E=this.overlays.getIterator();for(;E.hasNext();){const ae=E.getNext().value;if(ae.getKey().getCollectionGroup()===t&&ae.largestBatchId>a){let Me=p.get(ae.largestBatchId);null===Me&&(Me=ja(),p=p.insert(ae.largestBatchId,Me)),Me.set(ae.getKey(),ae)}}const B=ja(),Y=p.getIterator();for(;Y.hasNext()&&(Y.getNext().value.forEach((ae,Me)=>B.set(ae,Me)),!(B.size()>=d)););return Vt.resolve(B)}we(e,t,a){const d=this.overlays.get(a.key);if(null!==d){const E=this.ls.get(d.largestBatchId).delete(a.key);this.ls.set(d.largestBatchId,E)}this.overlays=this.overlays.insert(a.key,new Kp(t,a));let p=this.ls.get(t);void 0===p&&(p=si(),this.ls.set(t,p)),this.ls.set(t,p.add(a.key))}}class ap{constructor(){this.fs=new _s(Bo.ds),this.ws=new _s(Bo._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,t){const a=new Bo(e,t);this.fs=this.fs.add(a),this.ws=this.ws.add(a)}gs(e,t){e.forEach(a=>this.addReference(a,t))}removeReference(e,t){this.ys(new Bo(e,t))}ps(e,t){e.forEach(a=>this.removeReference(a,t))}Is(e){const t=new Fn(new ci([])),a=new Bo(t,e),d=new Bo(t,e+1),p=[];return this.ws.forEachInRange([a,d],E=>{this.ys(E),p.push(E.key)}),p}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const t=new Fn(new ci([])),a=new Bo(t,e),d=new Bo(t,e+1);let p=si();return this.ws.forEachInRange([a,d],E=>{p=p.add(E.key)}),p}containsKey(e){const t=new Bo(e,0),a=this.fs.firstAfterOrEqual(t);return null!==a&&e.isEqual(a.key)}}class Bo{constructor(e,t){this.key=e,this.As=t}static ds(e,t){return Fn.comparator(e.key,t.key)||Gr(e.As,t.As)}static _s(e,t){return Gr(e.As,t.As)||Fn.comparator(e.key,t.key)}}class Om{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.vs=1,this.Rs=new _s(Bo.ds)}checkEmpty(e){return Vt.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,a,d){const p=this.vs;this.vs++;const E=new Gp(p,t,a,d);this.mutationQueue.push(E);for(const B of d)this.Rs=this.Rs.add(new Bo(B.key,p)),this.indexManager.addToCollectionParentIndex(e,B.key.path.popLast());return Vt.resolve(E)}lookupMutationBatch(e,t){return Vt.resolve(this.Ps(t))}getNextMutationBatchAfterBatchId(e,t){const d=this.bs(t+1),p=d<0?0:d;return Vt.resolve(this.mutationQueue.length>p?this.mutationQueue[p]:null)}getHighestUnacknowledgedBatchId(){return Vt.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return Vt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const a=new Bo(t,0),d=new Bo(t,Number.POSITIVE_INFINITY),p=[];return this.Rs.forEachInRange([a,d],E=>{const B=this.Ps(E.As);p.push(B)}),Vt.resolve(p)}getAllMutationBatchesAffectingDocumentKeys(e,t){let a=new _s(Gr);return t.forEach(d=>{const p=new Bo(d,0),E=new Bo(d,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([p,E],B=>{a=a.add(B.As)})}),Vt.resolve(this.Vs(a))}getAllMutationBatchesAffectingQuery(e,t){const a=t.path,d=a.length+1;let p=a;Fn.isDocumentKey(p)||(p=p.child(""));const E=new Bo(new Fn(p),0);let B=new _s(Gr);return this.Rs.forEachWhile(Y=>{const ae=Y.key.path;return!!a.isPrefixOf(ae)&&(ae.length===d&&(B=B.add(Y.As)),!0)},E),Vt.resolve(this.Vs(B))}Vs(e){const t=[];return e.forEach(a=>{const d=this.Ps(a);null!==d&&t.push(d)}),t}removeMutationBatch(e,t){rr(0===this.Ss(t.batchId,"removed")),this.mutationQueue.shift();let a=this.Rs;return Vt.forEach(t.mutations,d=>{const p=new Bo(d.key,t.batchId);return a=a.delete(p),this.referenceDelegate.markPotentiallyOrphaned(e,d.key)}).next(()=>{this.Rs=a})}Cn(e){}containsKey(e,t){const a=new Bo(t,0),d=this.Rs.firstAfterOrEqual(a);return Vt.resolve(t.isEqual(d&&d.key))}performConsistencyCheck(e){return Vt.resolve()}Ss(e,t){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const t=this.bs(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class Nm{constructor(e){this.Ds=e,this.docs=new $i(Fn.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const a=t.key,d=this.docs.get(a),p=d?d.size:0,E=this.Ds(t);return this.docs=this.docs.insert(a,{document:t.mutableCopy(),size:E}),this.size+=E-p,this.indexManager.addToCollectionParentIndex(e,a.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const a=this.docs.get(t);return Vt.resolve(a?a.document.mutableCopy():Qi.newInvalidDocument(t))}getEntries(e,t){let a=yo();return t.forEach(d=>{const p=this.docs.get(d);a=a.insert(d,p?p.document.mutableCopy():Qi.newInvalidDocument(d))}),Vt.resolve(a)}getDocumentsMatchingQuery(e,t,a,d){let p=yo();const E=t.path,B=new Fn(E.child("")),Y=this.docs.getIteratorFrom(B);for(;Y.hasNext();){const{key:ae,value:{document:Me}}=Y.getNext();if(!E.isPrefixOf(ae.path))break;ae.path.length>E.length+1||oo(Tc(Me),a)<=0||(d.has(Me.key)||pi(t,Me))&&(p=p.insert(Me.key,Me.mutableCopy()))}return Vt.resolve(p)}getAllFromCollectionGroup(e,t,a,d){Bn()}Cs(e,t){return Vt.forEach(this.docs,a=>t(a))}newChangeBuffer(e){return new Tv(this)}getSize(e){return Vt.resolve(this.size)}}class Tv extends mg{constructor(e){super(),this.os=e}applyChanges(e){const t=[];return this.changes.forEach((a,d)=>{d.isValidDocument()?t.push(this.os.addEntry(e,d)):this.os.removeEntry(a)}),Vt.waitFor(t)}getFromCache(e,t){return this.os.getEntry(e,t)}getAllFromCache(e,t){return this.os.getEntries(e,t)}}class km{constructor(e){this.persistence=e,this.xs=new ua(t=>Zl(t),Zu),this.lastRemoteSnapshotVersion=Pr.min(),this.highestTargetId=0,this.Ns=0,this.ks=new ap,this.targetCount=0,this.Ms=Pl.kn()}forEachTarget(e,t){return this.xs.forEach((a,d)=>t(d)),Vt.resolve()}getLastRemoteSnapshotVersion(e){return Vt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Vt.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),Vt.resolve(this.highestTargetId)}setTargetsMetadata(e,t,a){return a&&(this.lastRemoteSnapshotVersion=a),t>this.Ns&&(this.Ns=t),Vt.resolve()}Fn(e){this.xs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ms=new Pl(t),this.highestTargetId=t),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,t){return this.Fn(t),this.targetCount+=1,Vt.resolve()}updateTargetData(e,t){return this.Fn(t),Vt.resolve()}removeTargetData(e,t){return this.xs.delete(t.target),this.ks.Is(t.targetId),this.targetCount-=1,Vt.resolve()}removeTargets(e,t,a){let d=0;const p=[];return this.xs.forEach((E,B)=>{B.sequenceNumber<=t&&null===a.get(B.targetId)&&(this.xs.delete(E),p.push(this.removeMatchingKeysForTargetId(e,B.targetId)),d++)}),Vt.waitFor(p).next(()=>d)}getTargetCount(e){return Vt.resolve(this.targetCount)}getTargetData(e,t){const a=this.xs.get(t)||null;return Vt.resolve(a)}addMatchingKeys(e,t,a){return this.ks.gs(t,a),Vt.resolve()}removeMatchingKeys(e,t,a){this.ks.ps(t,a);const d=this.persistence.referenceDelegate,p=[];return d&&t.forEach(E=>{p.push(d.markPotentiallyOrphaned(e,E))}),Vt.waitFor(p)}removeMatchingKeysForTargetId(e,t){return this.ks.Is(t),Vt.resolve()}getMatchingKeysForTargetId(e,t){const a=this.ks.Es(t);return Vt.resolve(a)}containsKey(e,t){return Vt.resolve(this.ks.containsKey(t))}}class Pd{constructor(e,t){this.$s={},this.overlays={},this.Os=new J(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new km(this),this.indexManager=new ky,this.remoteDocumentCache=new Nm(a=>this.referenceDelegate.Ls(a)),this.serializer=new rg(t),this.qs=new $y(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new _g,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let a=this.$s[e.toKey()];return a||(a=new Om(t,this.referenceDelegate),this.$s[e.toKey()]=a),a}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,t,a){yn("MemoryPersistence","Starting transaction:",e);const d=new Vy(this.Os.next());return this.referenceDelegate.Us(),a(d).next(p=>this.referenceDelegate.Ks(d).next(()=>p)).toPromise().then(p=>(d.raiseOnCommittedEvent(),p))}Gs(e,t){return Vt.or(Object.values(this.$s).map(a=>()=>a.containsKey(e,t)))}}class Vy extends As{constructor(e){super(),this.currentSequenceNumber=e}}class Kc{constructor(e){this.persistence=e,this.Qs=new ap,this.js=null}static zs(e){return new Kc(e)}get Ws(){if(this.js)return this.js;throw Bn()}addReference(e,t,a){return this.Qs.addReference(a,t),this.Ws.delete(a.toString()),Vt.resolve()}removeReference(e,t,a){return this.Qs.removeReference(a,t),this.Ws.add(a.toString()),Vt.resolve()}markPotentiallyOrphaned(e,t){return this.Ws.add(t.toString()),Vt.resolve()}removeTarget(e,t){this.Qs.Is(t.targetId).forEach(d=>this.Ws.add(d.toString()));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(e,t.targetId).next(d=>{d.forEach(p=>this.Ws.add(p.toString()))}).next(()=>a.removeTargetData(e,t))}Us(){this.js=new Set}Ks(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Vt.forEach(this.Ws,a=>{const d=Fn.fromPath(a);return this.Hs(e,d).next(p=>{p||t.removeEntry(d,Pr.min())})}).next(()=>(this.js=null,t.apply(e)))}updateLimboDocument(e,t){return this.Hs(e,t).next(a=>{a?this.Ws.delete(t.toString()):this.Ws.add(t.toString())})}Ls(e){return 0}Hs(e,t){return Vt.or([()=>Vt.resolve(this.Qs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Gs(e,t)])}}class Sv{constructor(e){this.serializer=e}O(e,t,a,d){const p=new xa("createOrUpgrade",t);var B;a<1&&d>=1&&(e.createObjectStore("owner"),(B=e).createObjectStore("mutationQueues",{keyPath:"userId"}),B.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",ls,{unique:!0}),B.createObjectStore("documentMutations"),Uy(e),function(B){B.createObjectStore("remoteDocuments")}(e));let E=Vt.resolve();return a<3&&d>=3&&(0!==a&&(function(B){B.deleteObjectStore("targetDocuments"),B.deleteObjectStore("targets"),B.deleteObjectStore("targetGlobal")}(e),Uy(e)),E=E.next(()=>function(B){const Y=B.store("targetGlobal"),ae={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Pr.min().toTimestamp(),targetCount:0};return Y.put("targetGlobalKey",ae)}(p))),a<4&&d>=4&&(0!==a&&(E=E.next(()=>function(B,Y){return Y.store("mutations").j().next(ae=>{B.deleteObjectStore("mutations"),B.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",ls,{unique:!0});const Me=Y.store("mutations"),at=ae.map(Ut=>Me.put(Ut));return Vt.waitFor(at)})}(e,p))),E=E.next(()=>{!function(B){B.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),a<5&&d>=5&&(E=E.next(()=>this.Ys(p))),a<6&&d>=6&&(E=E.next(()=>(function(B){B.createObjectStore("remoteDocumentGlobal")}(e),this.Xs(p)))),a<7&&d>=7&&(E=E.next(()=>this.Zs(p))),a<8&&d>=8&&(E=E.next(()=>this.ti(e,p))),a<9&&d>=9&&(E=E.next(()=>{!function(B){B.objectStoreNames.contains("remoteDocumentChanges")&&B.deleteObjectStore("remoteDocumentChanges")}(e)})),a<10&&d>=10&&(E=E.next(()=>this.ei(p))),a<11&&d>=11&&(E=E.next(()=>{(function(B){B.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(B){B.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),a<12&&d>=12&&(E=E.next(()=>{!function(B){const Y=B.createObjectStore("documentOverlays",{keyPath:$p});Y.createIndex("collectionPathOverlayIndex",Bu,{unique:!1}),Y.createIndex("collectionGroupOverlayIndex",ph,{unique:!1})}(e)})),a<13&&d>=13&&(E=E.next(()=>function(B){const Y=B.createObjectStore("remoteDocumentsV14",{keyPath:Tl});Y.createIndex("documentKeyIndex",Oa),Y.createIndex("collectionGroupIndex",Sc)}(e)).next(()=>this.ni(e,p)).next(()=>e.deleteObjectStore("remoteDocuments"))),a<14&&d>=14&&(E=E.next(()=>this.si(e,p))),a<15&&d>=15&&(E=E.next(()=>function(B){B.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),B.createObjectStore("indexState",{keyPath:fh}).createIndex("sequenceNumberIndex",Na,{unique:!1}),B.createObjectStore("indexEntries",{keyPath:Ac}).createIndex("documentKeyIndex",ia,{unique:!1})}(e))),E}Xs(e){let t=0;return e.store("remoteDocuments").X((a,d)=>{t+=jh(d)}).next(()=>{const a={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",a)})}Ys(e){const t=e.store("mutationQueues"),a=e.store("mutations");return t.j().next(d=>Vt.forEach(d,p=>{const E=IDBKeyRange.bound([p.userId,-1],[p.userId,p.lastAcknowledgedBatchId]);return a.j("userMutationsIndex",E).next(B=>Vt.forEach(B,Y=>{rr(Y.userId===p.userId);const ae=oc(this.serializer,Y);return fg(e,p.userId,ae).next(()=>{})}))}))}Zs(e){const t=e.store("targetDocuments"),a=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(d=>{const p=[];return a.X((E,B)=>{const Y=new ci(E),ae=[0,en(Y)];p.push(t.get(ae).next(Me=>Me?Vt.resolve():t.put({targetId:0,path:en(Y),sequenceNumber:d.highestListenSequenceNumber})))}).next(()=>Vt.waitFor(p))})}ti(e,t){e.createObjectStore("collectionParents",{keyPath:Bp});const a=t.store("collectionParents"),d=new Sm,p=E=>{if(d.add(E)){const B=E.lastSegment(),Y=E.popLast();return a.put({collectionId:B,parent:en(Y)})}};return t.store("remoteDocuments").X({Y:!0},(E,B)=>{const Y=new ci(E);return p(Y.popLast())}).next(()=>t.store("documentMutations").X({Y:!0},([E,B,Y],ae)=>{const Me=Zn(B);return p(Me.popLast())}))}ei(e){const t=e.store("targets");return t.X((a,d)=>{const p=Nh(d),E=ig(this.serializer,p);return t.put(E)})}ni(e,t){const a=t.store("remoteDocuments"),d=[];return a.X((p,E)=>{const B=t.store("remoteDocumentsV14"),Y=(ae=E,ae.document?new Fn(ci.fromString(ae.document.name).popFirst(5)):ae.noDocument?Fn.fromSegments(ae.noDocument.path):ae.unknownDocument?Fn.fromSegments(ae.unknownDocument.path):Bn()).path.toArray();var ae;const Me={prefixPath:Y.slice(0,Y.length-2),collectionGroup:Y[Y.length-2],documentId:Y[Y.length-1],readTime:E.readTime||[0,0],unknownDocument:E.unknownDocument,noDocument:E.noDocument,document:E.document,hasCommittedMutations:!!E.hasCommittedMutations};d.push(B.put(Me))}).next(()=>Vt.waitFor(d))}si(e,t){const a=t.store("mutations"),d=hc(this.serializer),p=new Pd(Kc.zs,this.serializer.fe);return a.j().next(E=>{const B=new Map;return E.forEach(Y=>{var ae;let Me=null!==(ae=B.get(Y.userId))&&void 0!==ae?ae:si();oc(this.serializer,Y).keys().forEach(at=>Me=Me.add(at)),B.set(Y.userId,Me)}),Vt.forEach(B,(Y,ae)=>{const Me=new Ar(ae),at=Fh.de(this.serializer,Me),Ut=p.getIndexManager(Me),on=Hh.de(Me,this.serializer,Ut,p.referenceDelegate);return new Pm(d,on,at,Ut).recalculateAndSaveOverlaysForDocumentKeys(new Gl(t,J.ct),Y).next()})})}}function Uy(i){i.createObjectStore("targetDocuments",{keyPath:zl}).createIndex("documentTargetsIndex",ko,{unique:!0}),i.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Qo,{unique:!0}),i.createObjectStore("targetGlobal")}const Od="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Wh{constructor(e,t,a,d,p,E,B,Y,ae,Me,at=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=a,this.ii=p,this.window=E,this.document=B,this.ri=ae,this.oi=Me,this.ui=at,this.Os=null,this.Fs=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.ai=null,this.hi=null,this.li=Number.NEGATIVE_INFINITY,this.fi=Ut=>Promise.resolve(),!Wh.D())throw new _n(Gt.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new sp(this,d),this.di=t+"main",this.serializer=new rg(Y),this.wi=new Zo(this.di,this.ui,new Sv(this.serializer)),this.Bs=new Dv(this.referenceDelegate,this.serializer),this.remoteDocumentCache=hc(this.serializer),this.qs=new kh,this.window&&this.window.localStorage?this._i=this.window.localStorage:(this._i=null,!1===Me&&ti("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.mi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new _n(Gt.FAILED_PRECONDITION,Od);return this.gi(),this.yi(),this.pi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Bs.getHighestSequenceNumber(e))}).then(e=>{this.Os=new J(e,this.ri)}).then(()=>{this.Fs=!0}).catch(e=>(this.wi&&this.wi.close(),Promise.reject(e)))}Ii(e){var t=this;return this.fi=function(){var a=(0,m.Z)(function*(d){if(t.started)return e(d)});return function(d){return a.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.wi.B(function(){var t=(0,m.Z)(function*(a){null===a.newVersion&&(yield e())});return function(a){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.ii.enqueueAndForget((0,m.Z)(function*(){t.started&&(yield t.mi())})))}mi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Yc(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Ti(e).next(t=>{t||(this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)))})}).next(()=>this.Ei(e)).next(t=>this.isPrimary&&!t?this.Ai(e).next(()=>!1):!!t&&this.vi(e).next(()=>!0))).catch(e=>{if(ao(e))return yn("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return yn("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.ii.enqueueRetryable(()=>this.fi(e)),this.isPrimary=e})}Ti(e){return qc(e).get("owner").next(t=>Vt.resolve(this.Ri(t)))}Pi(e){return Yc(e).delete(this.clientId)}bi(){var e=this;return(0,m.Z)(function*(){if(e.isPrimary&&!e.Vi(e.li,18e5)){e.li=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",a=>{const d=go(a,"clientMetadata");return d.j().next(p=>{const E=e.Si(p,18e5),B=p.filter(Y=>-1===E.indexOf(Y));return Vt.forEach(B,Y=>d.delete(Y.clientId)).next(()=>B)})}).catch(()=>[]);if(e._i)for(const a of t)e._i.removeItem(e.Di(a.clientId))}})()}pi(){this.hi=this.ii.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.mi().then(()=>this.bi()).then(()=>this.pi()))}Ri(e){return!!e&&e.ownerId===this.clientId}Ei(e){return this.oi?Vt.resolve(!0):qc(e).get("owner").next(t=>{if(null!==t&&this.Vi(t.leaseTimestampMs,5e3)&&!this.Ci(t.ownerId)){if(this.Ri(t)&&this.networkEnabled)return!0;if(!this.Ri(t)){if(!t.allowTabSynchronization)throw new _n(Gt.FAILED_PRECONDITION,Od);return!1}}return!(!this.networkEnabled||!this.inForeground)||Yc(e).j().next(a=>void 0===this.Si(a,5e3).find(d=>!(this.clientId===d.clientId||!(!this.networkEnabled&&d.networkEnabled||!this.inForeground&&d.inForeground&&this.networkEnabled===d.networkEnabled))))}).next(t=>(this.isPrimary!==t&&yn("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,m.Z)(function*(){e.Fs=!1,e.xi(),e.hi&&(e.hi.cancel(),e.hi=null),e.Ni(),e.ki(),yield e.wi.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const a=new Gl(t,J.ct);return e.Ai(a).next(()=>e.Pi(a))}),e.wi.close(),e.Mi()})()}Si(e,t){return e.filter(a=>this.Vi(a.updateTimeMs,t)&&!this.Ci(a.clientId))}$i(){return this.runTransaction("getActiveClients","readonly",e=>Yc(e).j().next(t=>this.Si(t,18e5).map(a=>a.clientId)))}get started(){return this.Fs}getMutationQueue(e,t){return Hh.de(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new bv(e,this.serializer.fe.databaseId)}getDocumentOverlayCache(e){return Fh.de(this.serializer,e)}getBundleCache(){return this.qs}runTransaction(e,t,a){yn("IndexedDbPersistence","Starting transaction:",e);const d="readonly"===t?"readonly":"readwrite",p=15===(E=this.ui)?Uu:14===E?ka:13===E?Vu:12===E?Mc:11===E?$u:void Bn();var E;let B;return this.wi.runTransaction(e,d,p,Y=>(B=new Gl(Y,this.Os?this.Os.next():J.ct),"readwrite-primary"===t?this.Ti(B).next(ae=>!!ae||this.Ei(B)).next(ae=>{if(!ae)throw ti(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)),new _n(Gt.FAILED_PRECONDITION,el);return a(B)}).next(ae=>this.vi(B).next(()=>ae)):this.Oi(B).next(()=>a(B)))).then(Y=>(B.raiseOnCommittedEvent(),Y))}Oi(e){return qc(e).get("owner").next(t=>{if(null!==t&&this.Vi(t.leaseTimestampMs,5e3)&&!this.Ci(t.ownerId)&&!this.Ri(t)&&!(this.oi||this.allowTabSynchronization&&t.allowTabSynchronization))throw new _n(Gt.FAILED_PRECONDITION,Od)})}vi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return qc(e).put("owner",t)}static D(){return Zo.D()}Ai(e){const t=qc(e);return t.get("owner").next(a=>this.Ri(a)?(yn("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):Vt.resolve())}Vi(e,t){const a=Date.now();return!(e<a-t||e>a&&(ti(`Detected an update time that is in the future: ${e} > ${a}`),1))}gi(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ai=()=>{this.ii.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.mi()))},this.document.addEventListener("visibilitychange",this.ai),this.inForeground="visible"===this.document.visibilityState)}Ni(){this.ai&&(this.document.removeEventListener("visibilitychange",this.ai),this.ai=null)}yi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ci=()=>{this.xi();const t=/(?:Version|Mobile)\/1[456]/;(0,Le.G6)()&&(navigator.appVersion.match(t)||navigator.userAgent.match(t))&&this.ii.enterRestrictedMode(!0),this.ii.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ci))}ki(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}Ci(e){var t;try{const a=null!==(null===(t=this._i)||void 0===t?void 0:t.getItem(this.Di(e)));return yn("IndexedDbPersistence",`Client '${e}' ${a?"is":"is not"} zombied in LocalStorage`),a}catch(a){return ti("IndexedDbPersistence","Failed to get zombied client id.",a),!1}}xi(){if(this._i)try{this._i.setItem(this.Di(this.clientId),String(Date.now()))}catch(e){ti("Failed to set zombie client id.",e)}}Mi(){if(this._i)try{this._i.removeItem(this.Di(this.clientId))}catch{}}Di(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function qc(i){return go(i,"owner")}function Yc(i){return go(i,"clientMetadata")}function Zc(i,e){let t=i.projectId;return i.isDefaultDatabase||(t+="."+i.database),"firestore/"+e+"/"+t+"/"}class Ta{constructor(e,t,a,d){this.targetId=e,this.fromCache=t,this.Fi=a,this.Bi=d}static Li(e,t){let a=si(),d=si();for(const p of t.docChanges)switch(p.type){case 0:a=a.add(p.doc.key);break;case 1:d=d.add(p.doc.key)}return new Ta(e,t.fromCache,a,d)}}class lp{constructor(){this.qi=!1}initialize(e,t){this.Ui=e,this.indexManager=t,this.qi=!0}getDocumentsMatchingQuery(e,t,a,d){return this.Ki(e,t).next(p=>p||this.Gi(e,t,d,a)).next(p=>p||this.Qi(e,t))}Ki(e,t){if(P(t))return Vt.resolve(null);let a=Se(t);return this.indexManager.getIndexType(e,a).next(d=>0===d?null:(null!==t.limit&&1===d&&(t=Yt(t,null,"F"),a=Se(t)),this.indexManager.getDocumentsMatchingTarget(e,a).next(p=>{const E=si(...p);return this.Ui.getDocuments(e,E).next(B=>this.indexManager.getMinOffset(e,a).next(Y=>{const ae=this.ji(t,B);return this.zi(t,ae,E,Y.readTime)?this.Ki(e,Yt(t,null,"F")):this.Wi(e,ae,t,Y)}))})))}Gi(e,t,a,d){return P(t)||d.isEqual(Pr.min())?this.Qi(e,t):this.Ui.getDocuments(e,a).next(p=>{const E=this.ji(t,p);return this.zi(t,E,a,d)?this.Qi(e,t):(wi()<=_e.in.DEBUG&&yn("QueryEngine","Re-using previous result from %s to execute query: %s",d.toString(),Or(t)),this.Wi(e,E,t,Fu(d,-1)))})}ji(e,t){let a=new _s(Xl(e));return t.forEach((d,p)=>{pi(e,p)&&(a=a.add(p))}),a}zi(e,t,a,d){if(null===e.limit)return!1;if(a.size!==t.size)return!0;const p="F"===e.limitType?t.last():t.first();return!!p&&(p.hasPendingWrites||p.version.compareTo(d)>0)}Qi(e,t){return wi()<=_e.in.DEBUG&&yn("QueryEngine","Using full collection scan to execute query:",Or(t)),this.Ui.getDocumentsMatchingQuery(e,t,No.min())}Wi(e,t,a,d){return this.Ui.getDocumentsMatchingQuery(e,a,d).next(p=>(t.forEach(E=>{p=p.insert(E.key,E)}),p))}}class Kh{constructor(e,t,a,d){this.persistence=e,this.Hi=t,this.serializer=d,this.Ji=new $i(Gr),this.Yi=new ua(p=>Zl(p),Zu),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(a)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Pm(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ji))}}function qh(i,e,t,a){return new Kh(i,e,t,a)}function Qc(i,e){return Yh.apply(this,arguments)}function Yh(){return Yh=(0,m.Z)(function*(i,e){const t=un(i);return yield t.persistence.runTransaction("Handle user change","readonly",a=>{let d;return t.mutationQueue.getAllMutationBatches(a).next(p=>(d=p,t.tr(e),t.mutationQueue.getAllMutationBatches(a))).next(p=>{const E=[],B=[];let Y=si();for(const ae of d){E.push(ae.batchId);for(const Me of ae.mutations)Y=Y.add(Me.key)}for(const ae of p){B.push(ae.batchId);for(const Me of ae.mutations)Y=Y.add(Me.key)}return t.localDocuments.getDocuments(a,Y).next(ae=>({er:ae,removedBatchIds:E,addedBatchIds:B}))})})}),Yh.apply(this,arguments)}function Zh(i){const e=un(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Bs.getLastRemoteSnapshotVersion(t))}function wg(i,e,t){let a=si(),d=si();return t.forEach(p=>a=a.add(p)),e.getEntries(i,a).next(p=>{let E=yo();return t.forEach((B,Y)=>{const ae=p.get(B);Y.isFoundDocument()!==ae.isFoundDocument()&&(d=d.add(B)),Y.isNoDocument()&&Y.version.isEqual(Pr.min())?(e.removeEntry(B,Y.readTime),E=E.insert(B,Y)):!ae.isValidDocument()||Y.version.compareTo(ae.version)>0||0===Y.version.compareTo(ae.version)&&ae.hasPendingWrites?(e.addEntry(Y),E=E.insert(B,Y)):yn("LocalStore","Ignoring outdated watch update for ",B,". Current version:",ae.version," Watch version:",Y.version)}),{nr:E,sr:d}})}function Fm(i,e){const t=un(i);return t.persistence.runTransaction("Get next mutation batch","readonly",a=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(a,e)))}function Nd(i,e){const t=un(i);return t.persistence.runTransaction("Allocate target","readwrite",a=>{let d;return t.Bs.getTargetData(a,e).next(p=>p?(d=p,Vt.resolve(d)):t.Bs.allocateTargetId(a).next(E=>(d=new Da(e,E,"TargetPurposeListen",a.currentSequenceNumber),t.Bs.addTargetData(a,d).next(()=>d))))}).then(a=>{const d=t.Ji.get(a.targetId);return(null===d||a.snapshotVersion.compareTo(d.snapshotVersion)>0)&&(t.Ji=t.Ji.insert(a.targetId,a),t.Yi.set(e,a.targetId)),a})}function Qh(i,e,t){return Lm.apply(this,arguments)}function Lm(){return Lm=(0,m.Z)(function*(i,e,t){const a=un(i),d=a.Ji.get(e),p=t?"readwrite":"readwrite-primary";try{t||(yield a.persistence.runTransaction("Release target",p,E=>a.persistence.referenceDelegate.removeTarget(E,d)))}catch(E){if(!ao(E))throw E;yn("LocalStore",`Failed to update sequence numbers for target ${e}: ${E}`)}a.Ji=a.Ji.remove(e),a.Yi.delete(d.target)}),Lm.apply(this,arguments)}function kd(i,e,t){const a=un(i);let d=Pr.min(),p=si();return a.persistence.runTransaction("Execute query","readonly",E=>function(B,Y,ae){const Me=un(B),at=Me.Yi.get(ae);return void 0!==at?Vt.resolve(Me.Ji.get(at)):Me.Bs.getTargetData(Y,ae)}(a,E,Se(e)).next(B=>{if(B)return d=B.lastLimboFreeSnapshotVersion,a.Bs.getMatchingKeysForTargetId(E,B.targetId).next(Y=>{p=Y})}).next(()=>a.Hi.getDocumentsMatchingQuery(E,e,t?d:Pr.min(),t?p:si())).next(B=>(up(a,mo(e),B),{documents:B,ir:p})))}function Xc(i,e){const t=un(i),a=un(t.Bs),d=t.Ji.get(e);return d?Promise.resolve(d.target):t.persistence.runTransaction("Get target data","readonly",p=>a.le(p,e).next(E=>E?E.target:null))}function Ig(i,e){const t=un(i),a=t.Xi.get(e)||Pr.min();return t.persistence.runTransaction("Get new document changes","readonly",d=>t.Zi.getAllFromCollectionGroup(d,e,Fu(a,-1),Number.MAX_SAFE_INTEGER)).then(d=>(up(t,e,d),d))}function up(i,e,t){let a=i.Xi.get(e)||Pr.min();t.forEach((d,p)=>{p.readTime.compareTo(a)>0&&(a=p.readTime)}),i.Xi.set(e,a)}function cp(){return cp=(0,m.Z)(function*(i,e,t,a){const d=un(i);let p=si(),E=yo();for(const ae of t){const Me=e.rr(ae.metadata.name);ae.document&&(p=p.add(Me));const at=e.ur(ae);at.setReadTime(e.cr(ae.metadata.readTime)),E=E.insert(Me,at)}const B=d.Zi.newChangeBuffer({trackRemovals:!0}),Y=yield Nd(d,(ae=a,Se(Ql(ci.fromString(`__bundle__/docs/${ae}`)))));var ae;return d.persistence.runTransaction("Apply bundle documents","readwrite",ae=>wg(ae,B,E).next(Me=>(B.apply(ae),Me)).next(Me=>d.Bs.removeMatchingKeysForTargetId(ae,Y.targetId).next(()=>d.Bs.addMatchingKeys(ae,p,Y.targetId)).next(()=>d.localDocuments.getLocalViewOfDocuments(ae,Me.nr,Me.sr)).next(()=>Me.nr)))}),cp.apply(this,arguments)}function Cg(i,e){return Xh.apply(this,arguments)}function Xh(){return Xh=(0,m.Z)(function*(i,e,t=si()){const a=yield Nd(i,Se(Xf(e.bundledQuery))),d=un(i);return d.persistence.runTransaction("Save named query","readwrite",p=>{const E=vo(e.readTime);if(a.snapshotVersion.compareTo(E)>=0)return d.qs.saveNamedQuery(p,e);const B=a.withResumeToken(qs.EMPTY_BYTE_STRING,E);return d.Ji=d.Ji.insert(B.targetId,B),d.Bs.updateTargetData(p,B).next(()=>d.Bs.removeMatchingKeysForTargetId(p,a.targetId)).next(()=>d.Bs.addMatchingKeys(p,t,a.targetId)).next(()=>d.qs.saveNamedQuery(p,e))})}),Xh.apply(this,arguments)}function Bm(i,e){return`firestore_clients_${i}_${e}`}function bg(i,e,t){let a=`firestore_mutations_${i}_${t}`;return e.isAuthenticated()&&(a+=`_${e.uid}`),a}function Jh(i,e){return`firestore_targets_${i}_${e}`}class Jc{constructor(e,t,a,d){this.user=e,this.batchId=t,this.state=a,this.error=d}static ar(e,t,a){const d=JSON.parse(a);let p,E="object"==typeof d&&-1!==["pending","acknowledged","rejected"].indexOf(d.state)&&(void 0===d.error||"object"==typeof d.error);return E&&d.error&&(E="string"==typeof d.error.message&&"string"==typeof d.error.code,E&&(p=new _n(d.error.code,d.error.message))),E?new Jc(e,t,d.state,p):(ti("SharedClientState",`Failed to parse mutation state for ID '${t}': ${a}`),null)}hr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class ef{constructor(e,t,a){this.targetId=e,this.state=t,this.error=a}static ar(e,t){const a=JSON.parse(t);let d,p="object"==typeof a&&-1!==["not-current","current","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return p&&a.error&&(p="string"==typeof a.error.message&&"string"==typeof a.error.code,p&&(d=new _n(a.error.code,a.error.message))),p?new ef(e,a.state,d):(ti("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}hr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class tf{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static ar(e,t){const a=JSON.parse(t);let d="object"==typeof a&&a.activeTargetIds instanceof Array,p=Ih();for(let E=0;d&&E<a.activeTargetIds.length;++E)d=It(a.activeTargetIds[E]),p=p.add(a.activeTargetIds[E]);return d?new tf(e,p):(ti("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class Dg{constructor(e,t){this.clientId=e,this.onlineState=t}static ar(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new Dg(t.clientId,t.onlineState):(ti("SharedClientState",`Failed to parse online state: ${e}`),null)}}class dp{constructor(){this.activeTargetIds=Ih()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class jy{constructor(e,t,a,d,p){this.window=e,this.ii=t,this.persistenceKey=a,this.wr=d,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this._r=this.mr.bind(this),this.gr=new $i(Gr),this.started=!1,this.yr=[];const E=a.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=p,this.pr=Bm(this.persistenceKey,this.wr),this.Ir=`firestore_sequence_number_${this.persistenceKey}`,this.gr=this.gr.insert(this.wr,new dp),this.Tr=new RegExp(`^firestore_clients_${E}_([^_]*)$`),this.Er=new RegExp(`^firestore_mutations_${E}_(\\d+)(?:_(.*))?$`),this.Ar=new RegExp(`^firestore_targets_${E}_(\\d+)$`),this.vr=`firestore_online_state_${this.persistenceKey}`,this.Rr=function(B){return`firestore_bundle_loaded_v2_${B}`}(this.persistenceKey),this.window.addEventListener("storage",this._r)}static D(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,m.Z)(function*(){const t=yield e.syncEngine.$i();for(const d of t){if(d===e.wr)continue;const p=e.getItem(Bm(e.persistenceKey,d));if(p){const E=tf.ar(d,p);E&&(e.gr=e.gr.insert(E.clientId,E))}}e.Pr();const a=e.storage.getItem(e.vr);if(a){const d=e.br(a);d&&e.Vr(d)}for(const d of e.yr)e.mr(d);e.yr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.Ir,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Sr(this.gr)}isActiveQueryTarget(e){let t=!1;return this.gr.forEach((a,d)=>{d.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Dr(e,"pending")}updateMutationState(e,t,a){this.Dr(e,t,a),this.Cr(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const a=this.storage.getItem(Jh(this.persistenceKey,e));if(a){const d=ef.ar(e,a);d&&(t=d.state)}}return this.Nr.lr(e),this.Pr(),t}removeLocalQueryTarget(e){this.Nr.dr(e),this.Pr()}isLocalQueryTarget(e){return this.Nr.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(Jh(this.persistenceKey,e))}updateQueryState(e,t,a){this.kr(e,t,a)}handleUserChange(e,t,a){t.forEach(d=>{this.Cr(d)}),this.currentUser=e,a.forEach(d=>{this.addPendingMutation(d)})}setOnlineState(e){this.Mr(e)}notifyBundleLoaded(e){this.$r(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this._r),this.removeItem(this.pr),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return yn("SharedClientState","READ",e,t),t}setItem(e,t){yn("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){yn("SharedClientState","REMOVE",e),this.storage.removeItem(e)}mr(e){var t=this;const a=e;if(a.storageArea===this.storage){if(yn("SharedClientState","EVENT",a.key,a.newValue),a.key===this.pr)return void ti("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.ii.enqueueRetryable((0,m.Z)(function*(){if(t.started){if(null!==a.key)if(t.Tr.test(a.key)){if(null==a.newValue){const d=t.Or(a.key);return t.Fr(d,null)}{const d=t.Br(a.key,a.newValue);if(d)return t.Fr(d.clientId,d)}}else if(t.Er.test(a.key)){if(null!==a.newValue){const d=t.Lr(a.key,a.newValue);if(d)return t.qr(d)}}else if(t.Ar.test(a.key)){if(null!==a.newValue){const d=t.Ur(a.key,a.newValue);if(d)return t.Kr(d)}}else if(a.key===t.vr){if(null!==a.newValue){const d=t.br(a.newValue);if(d)return t.Vr(d)}}else if(a.key===t.Ir){const d=function(p){let E=J.ct;if(null!=p)try{const B=JSON.parse(p);rr("number"==typeof B),E=B}catch(B){ti("SharedClientState","Failed to read sequence number from WebStorage",B)}return E}(a.newValue);d!==J.ct&&t.sequenceNumberHandler(d)}else if(a.key===t.Rr){const d=t.Gr(a.newValue);yield Promise.all(d.map(p=>t.syncEngine.Qr(p)))}}else t.yr.push(a)}))}}get Nr(){return this.gr.get(this.wr)}Pr(){this.setItem(this.pr,this.Nr.hr())}Dr(e,t,a){const d=new Jc(this.currentUser,e,t,a),p=bg(this.persistenceKey,this.currentUser,e);this.setItem(p,d.hr())}Cr(e){const t=bg(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Mr(e){this.storage.setItem(this.vr,JSON.stringify({clientId:this.wr,onlineState:e}))}kr(e,t,a){const d=Jh(this.persistenceKey,e),p=new ef(e,t,a);this.setItem(d,p.hr())}$r(e){const t=JSON.stringify(Array.from(e));this.setItem(this.Rr,t)}Or(e){const t=this.Tr.exec(e);return t?t[1]:null}Br(e,t){const a=this.Or(e);return tf.ar(a,t)}Lr(e,t){const a=this.Er.exec(e),d=Number(a[1]);return Jc.ar(new Ar(void 0!==a[2]?a[2]:null),d,t)}Ur(e,t){const a=this.Ar.exec(e),d=Number(a[1]);return ef.ar(d,t)}br(e){return Dg.ar(e)}Gr(e){return JSON.parse(e)}qr(e){var t=this;return(0,m.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.jr(e.batchId,e.state,e.error);yn("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Kr(e){return this.syncEngine.zr(e.targetId,e.state,e.error)}Fr(e,t){const a=t?this.gr.insert(e,t):this.gr.remove(e),d=this.Sr(this.gr),p=this.Sr(a),E=[],B=[];return p.forEach(Y=>{d.has(Y)||E.push(Y)}),d.forEach(Y=>{p.has(Y)||B.push(Y)}),this.syncEngine.Wr(E,B).then(()=>{this.gr=a})}Vr(e){this.gr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Sr(e){let t=Ih();return e.forEach((a,d)=>{t=t.unionWith(d.activeTargetIds)}),t}}class $m{constructor(){this.Hr=new dp,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,a){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,t,a){this.Jr[e]=t}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new dp,Promise.resolve()}handleUserChange(e,t,a){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class nf{Yr(e){}shutdown(){}}class Vm{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){yn("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){yn("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Cu=null;function ed(){return null===Cu?Cu=268435456+Math.round(2147483648*Math.random()):Cu++,"0x"+Cu.toString(16)}const Hy={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Um{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const Jo="WebChannelConnection";class zy extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.mo=(e.ssl?"https":"http")+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,t,a,d,p){const E=ed(),B=this.To(e,t);yn("RestConnection",`Sending RPC '${e}' ${E}:`,B,a);const Y={};return this.Eo(Y,d,p),this.Ao(e,B,Y,a).then(ae=>(yn("RestConnection",`Received RPC '${e}' ${E}: `,ae),ae),ae=>{throw Jr("RestConnection",`RPC '${e}' ${E} failed with error: `,ae,"url: ",B,"request:",a),ae})}vo(e,t,a,d,p,E){return this.Io(e,t,a,d,p)}Eo(e,t,a){e["X-Goog-Api-Client"]="gl-js/ fire/"+Vr,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((d,p)=>e[p]=d),a&&a.headers.forEach((d,p)=>e[p]=d)}To(e,t){return`${this.mo}/v1/${t}:${Hy[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,t,a,d){const p=ed();return new Promise((E,B)=>{const Y=new rn;Y.setWithCredentials(!0),Y.listenOnce(se.COMPLETE,()=>{try{switch(Y.getLastErrorCode()){case U.NO_ERROR:const Me=Y.getResponseJson();yn(Jo,`XHR for RPC '${e}' ${p} received:`,JSON.stringify(Me)),E(Me);break;case U.TIMEOUT:yn(Jo,`RPC '${e}' ${p} timed out`),B(new _n(Gt.DEADLINE_EXCEEDED,"Request time out"));break;case U.HTTP_ERROR:const at=Y.getStatus();if(yn(Jo,`RPC '${e}' ${p} failed with status:`,at,"response text:",Y.getResponseText()),at>0){let Ut=Y.getResponseJson();Array.isArray(Ut)&&(Ut=Ut[0]);const on=null==Ut?void 0:Ut.error;if(on&&on.status&&on.message){const On=function(er){const gr=er.toLowerCase().replace(/_/g,"-");return Object.values(Gt).indexOf(gr)>=0?gr:Gt.UNKNOWN}(on.status);B(new _n(On,on.message))}else B(new _n(Gt.UNKNOWN,"Server responded with status "+Y.getStatus()))}else B(new _n(Gt.UNAVAILABLE,"Connection failed."));break;default:Bn()}}finally{yn(Jo,`RPC '${e}' ${p} completed.`)}});const ae=JSON.stringify(d);yn(Jo,`RPC '${e}' ${p} sending request:`,d),Y.send(t,"POST",ae,a,15)})}Ro(e,t,a){const d=ed(),p=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],E=Pu(),B=Cl(),Y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},ae=this.longPollingOptions.timeoutSeconds;void 0!==ae&&(Y.longPollingTimeout=Math.round(1e3*ae)),this.useFetchStreams&&(Y.xmlHttpFactory=new Xe({})),this.Eo(Y.initMessageHeaders,t,a),Y.encodeInitMessageHeaders=!0;const Me=p.join("");yn(Jo,`Creating RPC '${e}' stream ${d}: ${Me}`,Y);const at=E.createWebChannel(Me,Y);let Ut=!1,on=!1;const On=new Um({ro:gr=>{on?yn(Jo,`Not sending because RPC '${e}' stream ${d} is closed:`,gr):(Ut||(yn(Jo,`Opening RPC '${e}' stream ${d} transport.`),at.open(),Ut=!0),yn(Jo,`RPC '${e}' stream ${d} sending:`,gr),at.send(gr))},oo:()=>at.close()}),er=(gr,vi,Xi)=>{gr.listen(vi,xi=>{try{Xi(xi)}catch(Vo){setTimeout(()=>{throw Vo},0)}})};return er(at,zt.EventType.OPEN,()=>{on||yn(Jo,`RPC '${e}' stream ${d} transport opened.`)}),er(at,zt.EventType.CLOSE,()=>{on||(on=!0,yn(Jo,`RPC '${e}' stream ${d} transport closed`),On.wo())}),er(at,zt.EventType.ERROR,gr=>{on||(on=!0,Jr(Jo,`RPC '${e}' stream ${d} transport errored:`,gr),On.wo(new _n(Gt.UNAVAILABLE,"The operation could not be completed")))}),er(at,zt.EventType.MESSAGE,gr=>{var vi;if(!on){const Xi=gr.data[0];rr(!!Xi);const Vo=Xi.error||(null===(vi=Xi[0])||void 0===vi?void 0:vi.error);if(Vo){yn(Jo,`RPC '${e}' stream ${d} received error:`,Vo);const xo=Vo.status;let no=function(Nf){const Jv=Io[Nf];if(void 0!==Jv)return qp(Jv)}(xo),ml=Vo.message;void 0===no&&(no=Gt.INTERNAL,ml="Unknown error status: "+xo+" with message "+Vo.message),on=!0,On.wo(new _n(no,ml)),at.close()}else yn(Jo,`RPC '${e}' stream ${d} received:`,Xi),On._o(Xi)}}),er(B,j.STAT_EVENT,gr=>{gr.stat===we.PROXY?yn(Jo,`RPC '${e}' stream ${d} detected buffering proxy`):gr.stat===we.NOPROXY&&yn(Jo,`RPC '${e}' stream ${d} detected no buffering proxy`)}),setTimeout(()=>{On.fo()},0),On}}function jm(){return typeof window<"u"?window:null}function rf(){return typeof document<"u"?document:null}function Fd(i){return new eg(i,!0)}class sf{constructor(e,t,a=1e3,d=1.5,p=6e4){this.ii=e,this.timerId=t,this.Po=a,this.bo=d,this.Vo=p,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const t=Math.floor(this.So+this.ko()),a=Math.max(0,Date.now()-this.Co),d=Math.max(0,t-a);d>0&&yn("ExponentialBackoff",`Backing off for ${d} ms (base delay: ${this.So} ms, delay with jitter: ${t} ms, last attempt: ${a} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,d,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class Ld{constructor(e,t,a,d,p,E,B,Y){this.ii=e,this.$o=a,this.Oo=d,this.connection=p,this.authCredentialsProvider=E,this.appCheckCredentialsProvider=B,this.listener=Y,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new sf(e,t)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}stop(){var e=this;return(0,m.Z)(function*(){e.Uo()&&(yield e.close(0))})()}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}zo(){var e=this;return(0,m.Z)(function*(){if(e.Ko())return e.close(0)})()}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}close(e,t){var a=this;return(0,m.Z)(function*(){a.Ho(),a.Jo(),a.qo.cancel(),a.Fo++,4!==e?a.qo.reset():t&&t.code===Gt.RESOURCE_EXHAUSTED?(ti(t.toString()),ti("Using maximum backoff delay to prevent overloading the backend."),a.qo.xo()):t&&t.code===Gt.UNAUTHENTICATED&&3!==a.state&&(a.authCredentialsProvider.invalidateToken(),a.appCheckCredentialsProvider.invalidateToken()),null!==a.stream&&(a.Yo(),a.stream.close(),a.stream=null),a.state=e,yield a.listener.ao(t)})()}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),t=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([a,d])=>{this.Fo===t&&this.Zo(a,d)},a=>{e(()=>{const d=new _n(Gt.UNKNOWN,"Fetching auth token failed: "+a.message);return this.tu(d)})})}Zo(e,t){const a=this.Xo(this.Fo);this.stream=this.eu(e,t),this.stream.uo(()=>{a(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(d=>{a(()=>this.tu(d))}),this.stream.onMessage(d=>{a(()=>this.onMessage(d))})}Go(){var e=this;this.state=5,this.qo.No((0,m.Z)(function*(){e.state=0,e.start()}))}tu(e){return yn("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return t=>{this.ii.enqueueAndForget(()=>this.Fo===e?t():(yn("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Hm extends Ld{constructor(e,t,a,d,p,E){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,a,d,E),this.serializer=p}eu(e,t){return this.connection.Ro("Listen",e,t)}onMessage(e){this.qo.reset();const t=function My(i,e){let t;if("targetChange"in e){const a="NO_CHANGE"===(Y=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===Y?1:"REMOVE"===Y?2:"CURRENT"===Y?3:"RESET"===Y?4:Bn(),d=e.targetChange.targetIds||[],p=function(Y,ae){return Y.useProto3Json?(rr(void 0===ae||"string"==typeof ae),qs.fromBase64String(ae||"")):(rr(void 0===ae||ae instanceof Uint8Array),qs.fromUint8Array(ae||new Uint8Array))}(i,e.targetChange.resumeToken),E=e.targetChange.cause,B=E&&function(Y){const ae=void 0===Y.code?Gt.UNKNOWN:qp(Y.code);return new _n(ae,Y.message||"")}(E);t=new Xp(a,d,p,B||null)}else if("documentChange"in e){const a=e.documentChange,d=tu(i,a.document.name),p=vo(a.document.updateTime),E=a.document.createTime?vo(a.document.createTime):Pr.min(),B=new Zi({mapValue:{fields:a.document.fields}}),Y=Qi.newFoundDocument(d,p,E,B);t=new wu(a.targetIds||[],a.removedTargetIds||[],Y.key,Y)}else if("documentDelete"in e){const a=e.documentDelete,d=tu(i,a.document),p=a.readTime?vo(a.readTime):Pr.min(),E=Qi.newNoDocument(d,p);t=new wu([],a.removedTargetIds||[],E.key,E)}else if("documentRemove"in e){const a=e.documentRemove,d=tu(i,a.document);t=new wu([],a.removedTargetIds||[],d,null)}else{if(!("filter"in e))return Bn();{const a=e.filter,{count:d=0,unchangedNames:p}=a,E=new Sy(d,p);t=new Qp(a.targetId,E)}}var Y;return t}(this.serializer,e),a=function(d){if(!("targetChange"in d))return Pr.min();const p=d.targetChange;return p.targetIds&&p.targetIds.length?Pr.min():p.readTime?vo(p.readTime):Pr.min()}(e);return this.listener.nu(t,a)}su(e){const t={};t.database=Vc(this.serializer),t.addTarget=function(d,p){let E;const B=p.target;if(E=yu(B)?{documents:Id(d,B)}:{query:za(d,B)},E.targetId=p.targetId,p.resumeToken.approximateByteSize()>0){E.resumeToken=Yf(d,p.resumeToken);const Y=Ah(d,p.expectedCount);null!==Y&&(E.expectedCount=Y)}else if(p.snapshotVersion.compareTo(Pr.min())>0){E.readTime=ic(d,p.snapshotVersion.toTimestamp());const Y=Ah(d,p.expectedCount);null!==Y&&(E.expectedCount=Y)}return E}(this.serializer,e);const a=function ba(i,e){const t=function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Bn()}}(e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);a&&(t.labels=a),this.Wo(t)}iu(e){const t={};t.database=Vc(this.serializer),t.removeTarget=e,this.Wo(t)}}class Av extends Ld{constructor(e,t,a,d,p,E){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,a,d,E),this.serializer=p,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,t){return this.connection.Ro("Write",e,t)}onMessage(e){if(rr(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const t=function Ry(i,e){return i&&i.length>0?(rr(void 0!==e),i.map(t=>function(a,d){let p=vo(a.updateTime?a.updateTime:d);return p.isEqual(Pr.min())&&(p=vo(d)),new Dy(p,a.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),a=vo(e.commitTime);return this.listener.cu(a,t)}return rr(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=Vc(this.serializer),this.Wo(e)}uu(e){const t={streamToken:this.lastStreamToken,writes:e.map(a=>xh(this.serializer,a))};this.Wo(t)}}class Tg extends class{}{constructor(e,t,a,d){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=a,this.serializer=d,this.lu=!1}fu(){if(this.lu)throw new _n(Gt.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,t,a){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([d,p])=>this.connection.Io(e,t,a,d,p)).catch(d=>{throw"FirebaseError"===d.name?(d.code===Gt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new _n(Gt.UNKNOWN,d.toString())})}vo(e,t,a,d){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([p,E])=>this.connection.vo(e,t,a,p,E,d)).catch(p=>{throw"FirebaseError"===p.name?(p.code===Gt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),p):new _n(Gt.UNKNOWN,p.toString())})}terminate(){this.lu=!0}}class zm{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(ti(t),this.mu=!1):yn("OnlineStateTracker",t)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class hp{constructor(e,t,a,d,p){var E=this;this.localStore=e,this.datastore=t,this.asyncQueue=a,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=p,this.Pu.Yr(B=>{a.enqueueAndForget((0,m.Z)(function*(){var Y;Sa(E)&&(yn("RemoteStore","Restarting streams for network reachability change."),yield(Y=(0,m.Z)(function*(ae){const Me=un(ae);Me.vu.add(4),yield td(Me),Me.bu.set("Unknown"),Me.vu.delete(4),yield pc(Me)}),function(ae){return Y.apply(this,arguments)})(E))}))}),this.bu=new zm(a,d)}}function pc(i){return Sg.apply(this,arguments)}function Sg(){return Sg=(0,m.Z)(function*(i){if(Sa(i))for(const e of i.Ru)yield e(!0)}),Sg.apply(this,arguments)}function td(i){return Ag.apply(this,arguments)}function Ag(){return Ag=(0,m.Z)(function*(i){for(const e of i.Ru)yield e(!1)}),Ag.apply(this,arguments)}function Nl(i,e){const t=un(i);t.Au.has(e.targetId)||(t.Au.set(e.targetId,e),ea(t)?lf(t):Ga(t).Ko()&&af(t,e))}function $d(i,e){const t=un(i),a=Ga(t);t.Au.delete(e),a.Ko()&&fp(t,e),0===t.Au.size&&(a.Ko()?a.jo():Sa(t)&&t.bu.set("Unknown"))}function af(i,e){if(i.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Pr.min())>0){const t=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Ga(i).su(e)}function fp(i,e){i.Vu.qt(e),Ga(i).iu(e)}function lf(i){i.Vu=new Em({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),le:e=>i.Au.get(e)||null,ue:()=>i.datastore.serializer.databaseId}),Ga(i).start(),i.bu.gu()}function ea(i){return Sa(i)&&!Ga(i).Uo()&&i.Au.size>0}function Sa(i){return 0===un(i).vu.size}function ru(i){i.Vu=void 0}function Gm(i){return Mg.apply(this,arguments)}function Mg(){return Mg=(0,m.Z)(function*(i){i.Au.forEach((e,t)=>{af(i,e)})}),Mg.apply(this,arguments)}function Vd(i,e){return Rg.apply(this,arguments)}function Rg(){return Rg=(0,m.Z)(function*(i,e){ru(i),ea(i)?(i.bu.Iu(e),lf(i)):i.bu.set("Unknown")}),Rg.apply(this,arguments)}function Wm(i,e,t){return Gy.apply(this,arguments)}function Gy(){return Gy=(0,m.Z)(function*(i,e,t){if(i.bu.set("Online"),e instanceof Xp&&2===e.state&&e.cause)try{yield(a=(0,m.Z)(function*(d,p){const E=p.cause;for(const B of p.targetIds)d.Au.has(B)&&(yield d.remoteSyncer.rejectListen(B,E),d.Au.delete(B),d.Vu.removeTarget(B))}),function(d,p){return a.apply(this,arguments)})(i,e)}catch(a){yn("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),a),yield uf(i,a)}else if(e instanceof wu?i.Vu.Ht(e):e instanceof Qp?i.Vu.ne(e):i.Vu.Xt(e),!t.isEqual(Pr.min()))try{const a=yield Zh(i.localStore);t.compareTo(a)>=0&&(yield function(d,p){const E=d.Vu.ce(p);return E.targetChanges.forEach((B,Y)=>{if(B.resumeToken.approximateByteSize()>0){const ae=d.Au.get(Y);ae&&d.Au.set(Y,ae.withResumeToken(B.resumeToken,p))}}),E.targetMismatches.forEach((B,Y)=>{const ae=d.Au.get(B);if(!ae)return;d.Au.set(B,ae.withResumeToken(qs.EMPTY_BYTE_STRING,ae.snapshotVersion)),fp(d,B);const Me=new Da(ae.target,B,Y,ae.sequenceNumber);af(d,Me)}),d.remoteSyncer.applyRemoteEvent(E)}(i,t))}catch(a){yn("RemoteStore","Failed to raise snapshot:",a),yield uf(i,a)}var a}),Gy.apply(this,arguments)}function uf(i,e,t){return gc.apply(this,arguments)}function gc(){return gc=(0,m.Z)(function*(i,e,t){if(!ao(e))throw e;i.vu.add(1),yield td(i),i.bu.set("Offline"),t||(t=()=>Zh(i.localStore)),i.asyncQueue.enqueueRetryable((0,m.Z)(function*(){yn("RemoteStore","Retrying IndexedDB access"),yield t(),i.vu.delete(1),yield pc(i)}))}),gc.apply(this,arguments)}function pp(i,e){return e().catch(t=>uf(i,t,e))}function Ud(i){return cf.apply(this,arguments)}function cf(){return cf=(0,m.Z)(function*(i){const e=un(i),t=Aa(e);let a=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;ri(e);)try{const d=yield Fm(e.localStore,a);if(null===d){0===e.Eu.length&&t.jo();break}a=d.batchId,Km(e,d)}catch(d){yield uf(e,d)}gp(e)&&Wy(e)}),cf.apply(this,arguments)}function ri(i){return Sa(i)&&i.Eu.length<10}function Km(i,e){i.Eu.push(e);const t=Aa(i);t.Ko()&&t.ou&&t.uu(e.mutations)}function gp(i){return Sa(i)&&!Aa(i).Uo()&&i.Eu.length>0}function Wy(i){Aa(i).start()}function xg(i){return nd.apply(this,arguments)}function nd(){return nd=(0,m.Z)(function*(i){Aa(i).hu()}),nd.apply(this,arguments)}function mp(i){return jd.apply(this,arguments)}function jd(){return jd=(0,m.Z)(function*(i){const e=Aa(i);for(const t of i.Eu)e.uu(t.mutations)}),jd.apply(this,arguments)}function Pg(i,e,t){return df.apply(this,arguments)}function df(){return df=(0,m.Z)(function*(i,e,t){const a=i.Eu.shift(),d=Wp.from(a,e,t);yield pp(i,()=>i.remoteSyncer.applySuccessfulWrite(d)),yield Ud(i)}),df.apply(this,arguments)}function iu(i,e){return hf.apply(this,arguments)}function hf(){return hf=(0,m.Z)(function*(i,e){var t;e&&Aa(i).ou&&(yield(t=(0,m.Z)(function*(a,d){if(jf(p=d.code)&&p!==Gt.ABORTED){const E=a.Eu.shift();Aa(a).Qo(),yield pp(a,()=>a.remoteSyncer.rejectFailedWrite(E.batchId,d)),yield Ud(a)}var p}),function(a,d){return t.apply(this,arguments)})(i,e)),gp(i)&&Wy(i)}),hf.apply(this,arguments)}function ff(i,e){return Og.apply(this,arguments)}function Og(){return Og=(0,m.Z)(function*(i,e){const t=un(i);t.asyncQueue.verifyOperationInProgress(),yn("RemoteStore","RemoteStore received new credentials");const a=Sa(t);t.vu.add(3),yield td(t),a&&t.bu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.vu.delete(3),yield pc(t)}),Og.apply(this,arguments)}function mc(i,e){return pf.apply(this,arguments)}function pf(){return pf=(0,m.Z)(function*(i,e){const t=un(i);e?(t.vu.delete(2),yield pc(t)):e||(t.vu.add(2),yield td(t),t.bu.set("Unknown"))}),pf.apply(this,arguments)}function Ga(i){return i.Su||(i.Su=function(e,t,a){const d=un(e);return d.fu(),new Hm(t,d.connection,d.authCredentials,d.appCheckCredentials,d.serializer,a)}(i.datastore,i.asyncQueue,{uo:Gm.bind(null,i),ao:Vd.bind(null,i),nu:Wm.bind(null,i)}),i.Ru.push(function(){var e=(0,m.Z)(function*(t){t?(i.Su.Qo(),ea(i)?lf(i):i.bu.set("Unknown")):(yield i.Su.stop(),ru(i))});return function(t){return e.apply(this,arguments)}}())),i.Su}function Aa(i){return i.Du||(i.Du=function(e,t,a){const d=un(e);return d.fu(),new Av(t,d.connection,d.authCredentials,d.appCheckCredentials,d.serializer,a)}(i.datastore,i.asyncQueue,{uo:xg.bind(null,i),ao:iu.bind(null,i),au:mp.bind(null,i),cu:Pg.bind(null,i)}),i.Ru.push(function(){var e=(0,m.Z)(function*(t){t?(i.Du.Qo(),yield Ud(i)):(yield i.Du.stop(),i.Eu.length>0&&(yn("RemoteStore",`Stopping write stream with ${i.Eu.length} pending writes`),i.Eu=[]))});return function(t){return e.apply(this,arguments)}}())),i.Du}class kl{constructor(e,t,a,d,p){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=a,this.op=d,this.removalCallback=p,this.deferred=new ni,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(E=>{})}static createAndSchedule(e,t,a,d,p){const E=Date.now()+a,B=new kl(e,t,E,d,p);return B.start(a),B}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new _n(Gt.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ha(i,e){if(ti("AsyncQueue",`${e}: ${i}`),ao(i))return new _n(Gt.UNAVAILABLE,`${e}: ${i}`);throw i}class fa{constructor(e){this.comparator=e?(t,a)=>e(t,a)||Fn.comparator(t.key,a.key):(t,a)=>Fn.comparator(t.key,a.key),this.keyedMap=ll(),this.sortedSet=new $i(this.comparator)}static emptySet(e){return new fa(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,a)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof fa)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),a=e.sortedSet.getIterator();for(;t.hasNext();){const d=t.getNext().key,p=a.getNext().key;if(!d.isEqual(p))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const a=new fa;return a.comparator=this.comparator,a.keyedMap=e,a.sortedSet=t,a}}class Fl{constructor(){this.Cu=new $i(Fn.comparator)}track(e){const t=e.doc.key,a=this.Cu.get(t);a?0!==e.type&&3===a.type?this.Cu=this.Cu.insert(t,e):3===e.type&&1!==a.type?this.Cu=this.Cu.insert(t,{type:a.type,doc:e.doc}):2===e.type&&2===a.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===a.type?this.Cu=this.Cu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===a.type?this.Cu=this.Cu.remove(t):1===e.type&&2===a.type?this.Cu=this.Cu.insert(t,{type:1,doc:a.doc}):0===e.type&&1===a.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):Bn():this.Cu=this.Cu.insert(t,e)}xu(){const e=[];return this.Cu.inorderTraversal((t,a)=>{e.push(a)}),e}}class yc{constructor(e,t,a,d,p,E,B,Y,ae){this.query=e,this.docs=t,this.oldDocs=a,this.docChanges=d,this.mutatedKeys=p,this.fromCache=E,this.syncStateChanged=B,this.excludesMetadataChanges=Y,this.hasCachedResults=ae}static fromInitialDocuments(e,t,a,d,p){const E=[];return t.forEach(B=>{E.push({type:0,doc:B})}),new yc(e,t,fa.emptySet(t),E,a,d,!0,!1,p)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&xn(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,a=e.docChanges;if(t.length!==a.length)return!1;for(let d=0;d<t.length;d++)if(t[d].type!==a[d].type||!t[d].doc.isEqual(a[d].doc))return!1;return!0}}class rd{constructor(){this.Nu=void 0,this.listeners=[]}}class Ng{constructor(){this.queries=new ua(e=>Kn(e),xn),this.onlineState="Unknown",this.ku=new Set}}function bu(i,e){return vc.apply(this,arguments)}function vc(){return vc=(0,m.Z)(function*(i,e){const t=un(i),a=e.query;let d=!1,p=t.queries.get(a);if(p||(d=!0,p=new rd),d)try{p.Nu=yield t.onListen(a)}catch(E){const B=ha(E,`Initialization of query '${Or(e.query)}' failed`);return void e.onError(B)}t.queries.set(a,p),p.listeners.push(e),e.Mu(t.onlineState),p.Nu&&e.$u(p.Nu)&&kg(t)}),vc.apply(this,arguments)}function gf(i,e){return Hd.apply(this,arguments)}function Hd(){return Hd=(0,m.Z)(function*(i,e){const t=un(i),a=e.query;let d=!1;const p=t.queries.get(a);if(p){const E=p.listeners.indexOf(e);E>=0&&(p.listeners.splice(E,1),d=0===p.listeners.length)}if(d)return t.queries.delete(a),t.onUnlisten(a)}),Hd.apply(this,arguments)}function qm(i,e){const t=un(i);let a=!1;for(const d of e){const E=t.queries.get(d.query);if(E){for(const B of E.listeners)B.$u(d)&&(a=!0);E.Nu=d}}a&&kg(t)}function Ky(i,e,t){const a=un(i),d=a.queries.get(e);if(d)for(const p of d.listeners)p.onError(t);a.queries.delete(e)}function kg(i){i.ku.forEach(e=>{e.next()})}class pa{constructor(e,t,a){this.query=e,this.Ou=t,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=a||{}}$u(e){if(!this.options.includeMetadataChanges){const a=[];for(const d of e.docChanges)3!==d.type&&a.push(d);e=new yc(e.query,e.docs,e.oldDocs,a,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),t=!0):this.qu(e,this.onlineState)&&(this.Uu(e),t=!0),this.Bu=e,t}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let t=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),t=!0),t}qu(e,t){return!e.fromCache||(!this.options.Ku||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Lu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Uu(e){e=yc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class Fg{constructor(e,t){this.Gu=e,this.byteLength=t}Qu(){return"metadata"in this.Gu}}class qy{constructor(e){this.serializer=e}rr(e){return tu(this.serializer,e)}ur(e){return e.metadata.exists?Cm(this.serializer,e.document,!1):Qi.newNoDocument(this.rr(e.metadata.name),this.cr(e.metadata.readTime))}cr(e){return vo(e)}}class Mv{constructor(e,t,a){this.ju=e,this.localStore=t,this.serializer=a,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=Yy(e)}zu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.Gu.namedQuery)this.queries.push(e.Gu.namedQuery);else if(e.Gu.documentMetadata){this.documents.push({metadata:e.Gu.documentMetadata}),e.Gu.documentMetadata.exists||++t;const a=ci.fromString(e.Gu.documentMetadata.name);this.collectionGroups.add(a.get(a.length-2))}else e.Gu.document&&(this.documents[this.documents.length-1].document=e.Gu.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}Wu(e){const t=new Map,a=new qy(this.serializer);for(const d of e)if(d.metadata.queries){const p=a.rr(d.metadata.name);for(const E of d.metadata.queries){const B=(t.get(E)||si()).add(p);t.set(E,B)}}return t}complete(){var e=this;return(0,m.Z)(function*(){const t=yield function f_(i,e,t,a){return cp.apply(this,arguments)}(e.localStore,new qy(e.serializer),e.documents,e.ju.id),a=e.Wu(e.documents);for(const d of e.queries)yield Cg(e.localStore,d,a.get(d.name));return e.progress.taskState="Success",{progress:e.progress,Hu:e.collectionGroups,Ju:t}})()}}function Yy(i){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:i.totalDocuments,totalBytes:i.totalBytes}}class Zy{constructor(e){this.key=e}}class Ym{constructor(e){this.key=e}}class Zm{constructor(e,t){this.query=e,this.Yu=t,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=si(),this.mutatedKeys=si(),this.tc=Xl(e),this.ec=new fa(this.tc)}get nc(){return this.Yu}sc(e,t){const a=t?t.ic:new Fl,d=t?t.ec:this.ec;let p=t?t.mutatedKeys:this.mutatedKeys,E=d,B=!1;const Y="F"===this.query.limitType&&d.size===this.query.limit?d.last():null,ae="L"===this.query.limitType&&d.size===this.query.limit?d.first():null;if(e.inorderTraversal((Me,at)=>{const Ut=d.get(Me),on=pi(this.query,at)?at:null,On=!!Ut&&this.mutatedKeys.has(Ut.key),er=!!on&&(on.hasLocalMutations||this.mutatedKeys.has(on.key)&&on.hasCommittedMutations);let gr=!1;Ut&&on?Ut.data.isEqual(on.data)?On!==er&&(a.track({type:3,doc:on}),gr=!0):this.rc(Ut,on)||(a.track({type:2,doc:on}),gr=!0,(Y&&this.tc(on,Y)>0||ae&&this.tc(on,ae)<0)&&(B=!0)):!Ut&&on?(a.track({type:0,doc:on}),gr=!0):Ut&&!on&&(a.track({type:1,doc:Ut}),gr=!0,(Y||ae)&&(B=!0)),gr&&(on?(E=E.add(on),p=er?p.add(Me):p.delete(Me)):(E=E.delete(Me),p=p.delete(Me)))}),null!==this.query.limit)for(;E.size>this.query.limit;){const Me="F"===this.query.limitType?E.last():E.first();E=E.delete(Me.key),p=p.delete(Me.key),a.track({type:1,doc:Me})}return{ec:E,ic:a,zi:B,mutatedKeys:p}}rc(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,a){const d=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const p=e.ic.xu();p.sort((ae,Me)=>function(at,Ut){const on=On=>{switch(On){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Bn()}};return on(at)-on(Ut)}(ae.type,Me.type)||this.tc(ae.doc,Me.doc)),this.oc(a);const E=t?this.uc():[],B=0===this.Zu.size&&this.current?1:0,Y=B!==this.Xu;return this.Xu=B,0!==p.length||Y?{snapshot:new yc(this.query,e.ec,d,p,e.mutatedKeys,0===B,Y,!1,!!a&&a.resumeToken.approximateByteSize()>0),cc:E}:{cc:E}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new Fl,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(t=>this.Yu=this.Yu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Yu=this.Yu.delete(t)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=si(),this.ec.forEach(a=>{this.ac(a.key)&&(this.Zu=this.Zu.add(a.key))});const t=[];return e.forEach(a=>{this.Zu.has(a)||t.push(new Ym(a))}),this.Zu.forEach(a=>{e.has(a)||t.push(new Zy(a))}),t}hc(e){this.Yu=e.ir,this.Zu=si();const t=this.sc(e.documents);return this.applyChanges(t,!0)}lc(){return yc.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class yp{constructor(e,t,a){this.query=e,this.targetId=t,this.view=a}}class Qy{constructor(e){this.key=e,this.fc=!1}}class Wa{constructor(e,t,a,d,p,E){this.localStore=e,this.remoteStore=t,this.eventManager=a,this.sharedClientState=d,this.currentUser=p,this.maxConcurrentLimboResolutions=E,this.dc={},this.wc=new ua(B=>Kn(B),xn),this._c=new Map,this.mc=new Set,this.gc=new $i(Fn.comparator),this.yc=new Map,this.Ic=new ap,this.Tc={},this.Ec=new Map,this.Ac=Pl.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}function Xy(i,e){return zd.apply(this,arguments)}function zd(){return zd=(0,m.Z)(function*(i,e){const t=Yd(i);let a,d;const p=t.wc.get(e);if(p)a=p.targetId,t.sharedClientState.addLocalQueryTarget(a),d=p.view.lc();else{const E=yield Nd(t.localStore,Se(e)),B=t.sharedClientState.addLocalQueryTarget(E.targetId);a=E.targetId,d=yield mf(t,e,a,"current"===B,E.resumeToken),t.isPrimaryClient&&Nl(t.remoteStore,E)}return d}),zd.apply(this,arguments)}function mf(i,e,t,a,d){return Gd.apply(this,arguments)}function Gd(){return Gd=(0,m.Z)(function*(i,e,t,a,d){i.Rc=(at,Ut,on)=>{return(On=(0,m.Z)(function*(er,gr,vi,Xi){let xi=gr.view.sc(vi);xi.zi&&(xi=yield kd(er.localStore,gr.query,!1).then(({documents:no})=>gr.view.sc(no,xi)));const Vo=Xi&&Xi.targetChanges.get(gr.targetId),xo=gr.view.applyChanges(xi,er.isPrimaryClient,Vo);return Kd(er,gr.targetId,xo.cc),xo.snapshot}),function(er,gr,vi,Xi){return On.apply(this,arguments)})(i,at,Ut,on);var On};const p=yield kd(i.localStore,e,!0),E=new Zm(e,p.ir),B=E.sc(p.documents),Y=Gf.createSynthesizedTargetChangeForCurrentChange(t,a&&"Offline"!==i.onlineState,d),ae=E.applyChanges(B,i.isPrimaryClient,Y);Kd(i,t,ae.cc);const Me=new yp(e,t,E);return i.wc.set(e,Me),i._c.has(t)?i._c.get(t).push(e):i._c.set(t,[e]),ae.snapshot}),Gd.apply(this,arguments)}function Lg(i,e){return Bg.apply(this,arguments)}function Bg(){return Bg=(0,m.Z)(function*(i,e){const t=un(i),a=t.wc.get(e),d=t._c.get(a.targetId);if(d.length>1)return t._c.set(a.targetId,d.filter(p=>!xn(p,e))),void t.wc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(a.targetId),t.sharedClientState.isActiveQueryTarget(a.targetId)||(yield Qh(t.localStore,a.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(a.targetId),$d(t.remoteStore,a.targetId),Wd(t,a.targetId)}).catch(tl))):(Wd(t,a.targetId),yield Qh(t.localStore,a.targetId,!0))}),Bg.apply(this,arguments)}function vp(){return vp=(0,m.Z)(function*(i,e,t){const a=Zg(i);try{const d=yield function(p,E){const B=un(p),Y=gs.now(),ae=E.reduce((Ut,on)=>Ut.add(on.key),si());let Me,at;return B.persistence.runTransaction("Locally write mutations","readwrite",Ut=>{let on=yo(),On=si();return B.Zi.getEntries(Ut,ae).next(er=>{on=er,on.forEach((gr,vi)=>{vi.isValidDocument()||(On=On.add(gr))})}).next(()=>B.localDocuments.getOverlayedDocuments(Ut,on)).next(er=>{Me=er;const gr=[];for(const vi of E){const Xi=vm(vi,Me.get(vi.key).overlayedDocument);null!=Xi&&gr.push(new wo(vi.key,Xi,gu(Xi.value.mapValue),Ms.exists(!0)))}return B.mutationQueue.addMutationBatch(Ut,Y,gr,E)}).next(er=>{at=er;const gr=er.applyToLocalDocumentSet(Me,On);return B.documentOverlayCache.saveOverlays(Ut,er.batchId,gr)})}).then(()=>({batchId:at.batchId,changes:Ca(Me)}))}(a.localStore,e);a.sharedClientState.addPendingMutation(d.batchId),function(p,E,B){let Y=p.Tc[p.currentUser.toKey()];Y||(Y=new $i(Gr)),Y=Y.insert(E,B),p.Tc[p.currentUser.toKey()]=Y}(a,d.batchId,t),yield su(a,d.changes),yield Ud(a.remoteStore)}catch(d){const p=ha(d,"Failed to persist write");t.reject(p)}}),vp.apply(this,arguments)}function Vg(i,e){return Ug.apply(this,arguments)}function Ug(){return Ug=(0,m.Z)(function*(i,e){const t=un(i);try{const a=yield function h_(i,e){const t=un(i),a=e.snapshotVersion;let d=t.Ji;return t.persistence.runTransaction("Apply remote event","readwrite-primary",p=>{const E=t.Zi.newChangeBuffer({trackRemovals:!0});d=t.Ji;const B=[];e.targetChanges.forEach((Me,at)=>{const Ut=d.get(at);if(!Ut)return;B.push(t.Bs.removeMatchingKeys(p,Me.removedDocuments,at).next(()=>t.Bs.addMatchingKeys(p,Me.addedDocuments,at)));let on=Ut.withSequenceNumber(p.currentSequenceNumber);var On,er,gr;null!==e.targetMismatches.get(at)?on=on.withResumeToken(qs.EMPTY_BYTE_STRING,Pr.min()).withLastLimboFreeSnapshotVersion(Pr.min()):Me.resumeToken.approximateByteSize()>0&&(on=on.withResumeToken(Me.resumeToken,a)),d=d.insert(at,on),er=on,gr=Me,(0===(On=Ut).resumeToken.approximateByteSize()||er.snapshotVersion.toMicroseconds()-On.snapshotVersion.toMicroseconds()>=3e8||gr.addedDocuments.size+gr.modifiedDocuments.size+gr.removedDocuments.size>0)&&B.push(t.Bs.updateTargetData(p,on))});let Y=yo(),ae=si();if(e.documentUpdates.forEach(Me=>{e.resolvedLimboDocuments.has(Me)&&B.push(t.persistence.referenceDelegate.updateLimboDocument(p,Me))}),B.push(wg(p,E,e.documentUpdates).next(Me=>{Y=Me.nr,ae=Me.sr})),!a.isEqual(Pr.min())){const Me=t.Bs.getLastRemoteSnapshotVersion(p).next(at=>t.Bs.setTargetsMetadata(p,p.currentSequenceNumber,a));B.push(Me)}return Vt.waitFor(B).next(()=>E.apply(p)).next(()=>t.localDocuments.getLocalViewOfDocuments(p,Y,ae)).next(()=>Y)}).then(p=>(t.Ji=d,p))}(t.localStore,e);e.targetChanges.forEach((d,p)=>{const E=t.yc.get(p);E&&(rr(d.addedDocuments.size+d.modifiedDocuments.size+d.removedDocuments.size<=1),d.addedDocuments.size>0?E.fc=!0:d.modifiedDocuments.size>0?rr(E.fc):d.removedDocuments.size>0&&(rr(E.fc),E.fc=!1))}),yield su(t,a,e)}catch(a){yield tl(a)}}),Ug.apply(this,arguments)}function Qm(i,e,t){const a=un(i);if(a.isPrimaryClient&&0===t||!a.isPrimaryClient&&1===t){const d=[];a.wc.forEach((p,E)=>{const B=E.view.Mu(e);B.snapshot&&d.push(B.snapshot)}),function(p,E){const B=un(p);B.onlineState=E;let Y=!1;B.queries.forEach((ae,Me)=>{for(const at of Me.listeners)at.Mu(E)&&(Y=!0)}),Y&&kg(B)}(a.eventManager,e),d.length&&a.dc.nu(d),a.onlineState=e,a.isPrimaryClient&&a.sharedClientState.setOnlineState(e)}}function jg(i,e,t){return Hg.apply(this,arguments)}function Hg(){return Hg=(0,m.Z)(function*(i,e,t){const a=un(i);a.sharedClientState.updateQueryState(e,"rejected",t);const d=a.yc.get(e),p=d&&d.key;if(p){let E=new $i(Fn.comparator);E=E.insert(p,Qi.newNoDocument(p,Pr.min()));const B=si().add(p),Y=new da(Pr.min(),new Map,new $i(Gr),E,B);yield Vg(a,Y),a.gc=a.gc.remove(p),a.yc.delete(e),_c(a)}else yield Qh(a.localStore,e,!1).then(()=>Wd(a,e,t)).catch(tl)}),Hg.apply(this,arguments)}function Jy(i,e){return Du.apply(this,arguments)}function Du(){return Du=(0,m.Z)(function*(i,e){const t=un(i),a=e.batch.batchId;try{const d=yield function Eg(i,e){const t=un(i);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",a=>{const d=e.batch.keys(),p=t.Zi.newChangeBuffer({trackRemovals:!0});return function(E,B,Y,ae){const Me=Y.batch,at=Me.keys();let Ut=Vt.resolve();return at.forEach(on=>{Ut=Ut.next(()=>ae.getEntry(B,on)).next(On=>{const er=Y.docVersions.get(on);rr(null!==er),On.version.compareTo(er)<0&&(Me.applyToRemoteDocument(On,Y),On.isValidDocument()&&(On.setReadTime(Y.commitVersion),ae.addEntry(On)))})}),Ut.next(()=>E.mutationQueue.removeMutationBatch(B,Me))}(t,a,e,p).next(()=>p.apply(a)).next(()=>t.mutationQueue.performConsistencyCheck(a)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(a,d,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,function(E){let B=si();for(let Y=0;Y<E.mutationResults.length;++Y)E.mutationResults[Y].transformResults.length>0&&(B=B.add(E.batch.mutations[Y].key));return B}(e))).next(()=>t.localDocuments.getDocuments(a,d))})}(t.localStore,e);_p(t,a,null),Gg(t,a),t.sharedClientState.updateMutationState(a,"acknowledged"),yield su(t,d)}catch(d){yield tl(d)}}),Du.apply(this,arguments)}function zg(i,e,t){return yf.apply(this,arguments)}function yf(){return yf=(0,m.Z)(function*(i,e,t){const a=un(i);try{const d=yield function(p,E){const B=un(p);return B.persistence.runTransaction("Reject batch","readwrite-primary",Y=>{let ae;return B.mutationQueue.lookupMutationBatch(Y,E).next(Me=>(rr(null!==Me),ae=Me.keys(),B.mutationQueue.removeMutationBatch(Y,Me))).next(()=>B.mutationQueue.performConsistencyCheck(Y)).next(()=>B.documentOverlayCache.removeOverlaysForBatchId(Y,ae,E)).next(()=>B.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(Y,ae)).next(()=>B.localDocuments.getDocuments(Y,ae))})}(a.localStore,e);_p(a,e,t),Gg(a,e),a.sharedClientState.updateMutationState(e,"rejected",t),yield su(a,d)}catch(d){yield tl(d)}}),yf.apply(this,arguments)}function vf(){return vf=(0,m.Z)(function*(i,e){const t=un(i);Sa(t.remoteStore)||yn("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const a=yield function(p){const E=un(p);return E.persistence.runTransaction("Get highest unacknowledged batch id","readonly",B=>E.mutationQueue.getHighestUnacknowledgedBatchId(B))}(t.localStore);if(-1===a)return void e.resolve();const d=t.Ec.get(a)||[];d.push(e),t.Ec.set(a,d)}catch(a){const d=ha(a,"Initialization of waitForPendingWrites() operation failed");e.reject(d)}}),vf.apply(this,arguments)}function Gg(i,e){(i.Ec.get(e)||[]).forEach(t=>{t.resolve()}),i.Ec.delete(e)}function _p(i,e,t){const a=un(i);let d=a.Tc[a.currentUser.toKey()];if(d){const p=d.get(e);p&&(t?p.reject(t):p.resolve(),d=d.remove(e)),a.Tc[a.currentUser.toKey()]=d}}function Wd(i,e,t=null){i.sharedClientState.removeLocalQueryTarget(e);for(const a of i._c.get(e))i.wc.delete(a),t&&i.dc.Pc(a,t);i._c.delete(e),i.isPrimaryClient&&i.Ic.Is(e).forEach(a=>{i.Ic.containsKey(a)||Wg(i,a)})}function Wg(i,e){i.mc.delete(e.path.canonicalString());const t=i.gc.get(e);null!==t&&($d(i.remoteStore,t),i.gc=i.gc.remove(e),i.yc.delete(t),_c(i))}function Kd(i,e,t){for(const a of t)a instanceof Zy?(i.Ic.addReference(a.key,e),Ep(i,a)):a instanceof Ym?(yn("SyncEngine","Document no longer in limbo: "+a.key),i.Ic.removeReference(a.key,e),i.Ic.containsKey(a.key)||Wg(i,a.key)):Bn()}function Ep(i,e){const t=e.key,a=t.path.canonicalString();i.gc.get(t)||i.mc.has(a)||(yn("SyncEngine","New document in limbo: "+t),i.mc.add(a),_c(i))}function _c(i){for(;i.mc.size>0&&i.gc.size<i.maxConcurrentLimboResolutions;){const e=i.mc.values().next().value;i.mc.delete(e);const t=new Fn(ci.fromString(e)),a=i.Ac.next();i.yc.set(a,new Qy(t)),i.gc=i.gc.insert(t,a),Nl(i.remoteStore,new Da(Se(Ql(t.path)),a,"TargetPurposeLimboResolution",J.ct))}}function su(i,e,t){return id.apply(this,arguments)}function id(){return id=(0,m.Z)(function*(i,e,t){const a=un(i),d=[],p=[],E=[];var B;a.wc.isEmpty()||(a.wc.forEach((B,Y)=>{E.push(a.Rc(Y,e,t).then(ae=>{if((ae||t)&&a.isPrimaryClient&&a.sharedClientState.updateQueryState(Y.targetId,null!=ae&&ae.fromCache?"not-current":"current"),ae){d.push(ae);const Me=Ta.Li(Y.targetId,ae);p.push(Me)}}))}),yield Promise.all(E),a.dc.nu(d),yield(B=(0,m.Z)(function*(Y,ae){const Me=un(Y);try{yield Me.persistence.runTransaction("notifyLocalViewChanges","readwrite",at=>Vt.forEach(ae,Ut=>Vt.forEach(Ut.Fi,on=>Me.persistence.referenceDelegate.addReference(at,Ut.targetId,on)).next(()=>Vt.forEach(Ut.Bi,on=>Me.persistence.referenceDelegate.removeReference(at,Ut.targetId,on)))))}catch(at){if(!ao(at))throw at;yn("LocalStore","Failed to update sequence numbers: "+at)}for(const at of ae){const Ut=at.targetId;if(!at.fromCache){const on=Me.Ji.get(Ut),er=on.withLastLimboFreeSnapshotVersion(on.snapshotVersion);Me.Ji=Me.Ji.insert(Ut,er)}}}),function(Y,ae){return B.apply(this,arguments)})(a.localStore,p))}),id.apply(this,arguments)}function Xm(i,e){return _f.apply(this,arguments)}function _f(){return _f=(0,m.Z)(function*(i,e){const t=un(i);if(!t.currentUser.isEqual(e)){yn("SyncEngine","User change. New user:",e.toKey());const a=yield Qc(t.localStore,e);t.currentUser=e,(d=t).Ec.forEach(E=>{E.forEach(B=>{B.reject(new _n(Gt.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),d.Ec.clear(),t.sharedClientState.handleUserChange(e,a.removedBatchIds,a.addedBatchIds),yield su(t,a.er)}var d}),_f.apply(this,arguments)}function Jm(i,e){const t=un(i),a=t.yc.get(e);if(a&&a.fc)return si().add(a.key);{let d=si();const p=t._c.get(e);if(!p)return d;for(const E of p){const B=t.wc.get(E);d=d.unionWith(B.view.nc)}return d}}function ey(i,e){return qa.apply(this,arguments)}function qa(){return qa=(0,m.Z)(function*(i,e){const t=un(i),a=yield kd(t.localStore,e.query,!0),d=e.view.hc(a);return t.isPrimaryClient&&Kd(t,e.targetId,d.cc),d}),qa.apply(this,arguments)}function Rv(i,e){return Kg.apply(this,arguments)}function Kg(){return Kg=(0,m.Z)(function*(i,e){const t=un(i);return Ig(t.localStore,e).then(a=>su(t,a))}),Kg.apply(this,arguments)}function qg(i,e,t,a){return wp.apply(this,arguments)}function wp(){return wp=(0,m.Z)(function*(i,e,t,a){const d=un(i),p=yield function(E,B){const Y=un(E),ae=un(Y.mutationQueue);return Y.persistence.runTransaction("Lookup mutation documents","readonly",Me=>ae.Sn(Me,B).next(at=>at?Y.localDocuments.getDocuments(Me,at):Vt.resolve(null)))}(d.localStore,e);var B;null!==p?("pending"===t?yield Ud(d.remoteStore):"acknowledged"===t||"rejected"===t?(_p(d,e,a||null),Gg(d,e),B=e,un(un(d.localStore).mutationQueue).Cn(B)):Bn(),yield su(d,p)):yn("SyncEngine","Cannot apply mutation batch with id: "+e)}),wp.apply(this,arguments)}function Ip(){return Ip=(0,m.Z)(function*(i,e){const t=un(i);if(Yd(t),Zg(t),!0===e&&!0!==t.vc){const a=t.sharedClientState.getAllActiveQueryTargets(),d=yield xv(t,a.toArray());t.vc=!0,yield mc(t.remoteStore,!0);for(const p of d)Nl(t.remoteStore,p)}else if(!1===e&&!1!==t.vc){const a=[];let d=Promise.resolve();t._c.forEach((p,E)=>{t.sharedClientState.isLocalQueryTarget(E)?a.push(E):d=d.then(()=>(Wd(t,E),Qh(t.localStore,E,!0))),$d(t.remoteStore,E)}),yield d,yield xv(t,a),function(p){const E=un(p);E.yc.forEach((B,Y)=>{$d(E.remoteStore,Y)}),E.Ic.Ts(),E.yc=new Map,E.gc=new $i(Fn.comparator)}(t),t.vc=!1,yield mc(t.remoteStore,!1)}}),Ip.apply(this,arguments)}function xv(i,e,t){return Cp.apply(this,arguments)}function Cp(){return Cp=(0,m.Z)(function*(i,e,t){const a=un(i),d=[],p=[];for(const E of e){let B;const Y=a._c.get(E);if(Y&&0!==Y.length){B=yield Nd(a.localStore,Se(Y[0]));for(const ae of Y){const Me=a.wc.get(ae),at=yield ey(a,Me);at.snapshot&&p.push(at.snapshot)}}else{const ae=yield Xc(a.localStore,E);B=yield Nd(a.localStore,ae),yield mf(a,ty(ae),E,!1,B.resumeToken)}d.push(B)}return a.dc.nu(p),d}),Cp.apply(this,arguments)}function ty(i){return Bf(i.path,i.collectionGroup,i.orderBy,i.filters,i.limit,"F",i.startAt,i.endAt)}function bp(i){const e=un(i);return un(un(e.localStore).persistence).$i()}function Ef(i,e,t,a){return qd.apply(this,arguments)}function qd(){return qd=(0,m.Z)(function*(i,e,t,a){const d=un(i);if(d.vc)return void yn("SyncEngine","Ignoring unexpected query state notification.");const p=d._c.get(e);if(p&&p.length>0)switch(t){case"current":case"not-current":{const E=yield Ig(d.localStore,mo(p[0])),B=da.createSynthesizedRemoteEventForCurrentChange(e,"current"===t,qs.EMPTY_BYTE_STRING);yield su(d,E,B);break}case"rejected":yield Qh(d.localStore,e,!0),Wd(d,e,a);break;default:Bn()}}),qd.apply(this,arguments)}function Pv(i,e,t){return Dp.apply(this,arguments)}function Dp(){return Dp=(0,m.Z)(function*(i,e,t){const a=Yd(i);if(a.vc){for(const d of e){if(a._c.has(d)){yn("SyncEngine","Adding an already active target "+d);continue}const p=yield Xc(a.localStore,d),E=yield Nd(a.localStore,p);yield mf(a,ty(p),E.targetId,!1,E.resumeToken),Nl(a.remoteStore,E)}for(const d of t)a._c.has(d)&&(yield Qh(a.localStore,d,!1).then(()=>{$d(a.remoteStore,d),Wd(a,d)}).catch(tl))}}),Dp.apply(this,arguments)}function Yd(i){const e=un(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=Vg.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Jm.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=jg.bind(null,e),e.dc.nu=qm.bind(null,e.eventManager),e.dc.Pc=Ky.bind(null,e.eventManager),e}function Zg(i){const e=un(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Jy.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=zg.bind(null,e),e}class wf{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,m.Z)(function*(){t.serializer=Fd(e.databaseInfo.databaseId),t.sharedClientState=t.createSharedClientState(e),t.persistence=t.createPersistence(e),yield t.persistence.start(),t.localStore=t.createLocalStore(e),t.gcScheduler=t.createGarbageCollectionScheduler(e,t.localStore),t.indexBackfillerScheduler=t.createIndexBackfillerScheduler(e,t.localStore)})()}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return qh(this.persistence,new lp,e.initialUser,this.serializer)}createPersistence(e){return new Pd(Kc.zs,this.serializer)}createSharedClientState(e){return new $m}terminate(){var e=this;return(0,m.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class Qg extends wf{constructor(e,t,a){super(),this.Vc=e,this.cacheSizeBytes=t,this.forceOwnership=a,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,a=this;return(0,m.Z)(function*(){yield t().call(a,e),yield a.Vc.initialize(a,e),yield Zg(a.Vc.syncEngine),yield Ud(a.Vc.remoteStore),yield a.persistence.Ii(()=>(a.gcScheduler&&!a.gcScheduler.started&&a.gcScheduler.start(),a.indexBackfillerScheduler&&!a.indexBackfillerScheduler.started&&a.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(e){return qh(this.persistence,new lp,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,t){return new dc(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}createIndexBackfillerScheduler(e,t){const a=new $(t,this.persistence);return new D(e.asyncQueue,a)}createPersistence(e){const t=Zc(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),a=void 0!==this.cacheSizeBytes?Ro.withCacheSize(this.cacheSizeBytes):Ro.DEFAULT;return new Wh(this.synchronizeTabs,t,e.clientId,a,e.asyncQueue,jm(),rf(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new $m}}class Zd extends Qg{constructor(e,t){super(e,t,!1),this.Vc=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,a=this;return(0,m.Z)(function*(){yield t().call(a,e);const d=a.Vc.syncEngine;a.sharedClientState instanceof jy&&(a.sharedClientState.syncEngine={jr:qg.bind(null,d),zr:Ef.bind(null,d),Wr:Pv.bind(null,d),$i:bp.bind(null,d),Qr:Rv.bind(null,d)},yield a.sharedClientState.start()),yield a.persistence.Ii(function(){var p=(0,m.Z)(function*(E){yield function Yg(i,e){return Ip.apply(this,arguments)}(a.Vc.syncEngine,E),a.gcScheduler&&(E&&!a.gcScheduler.started?a.gcScheduler.start():E||a.gcScheduler.stop()),a.indexBackfillerScheduler&&(E&&!a.indexBackfillerScheduler.started?a.indexBackfillerScheduler.start():E||a.indexBackfillerScheduler.stop())});return function(E){return p.apply(this,arguments)}}())})()}createSharedClientState(e){const t=jm();if(!jy.D(t))throw new _n(Gt.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const a=Zc(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new jy(t,e.asyncQueue,a,e.clientId,e.initialUser)}}class Qd{initialize(e,t){var a=this;return(0,m.Z)(function*(){a.localStore||(a.localStore=e.localStore,a.sharedClientState=e.sharedClientState,a.datastore=a.createDatastore(t),a.remoteStore=a.createRemoteStore(t),a.eventManager=a.createEventManager(t),a.syncEngine=a.createSyncEngine(t,!e.synchronizeTabs),a.sharedClientState.onlineStateHandler=d=>Qm(a.syncEngine,d,1),a.remoteStore.remoteSyncer.handleCredentialChange=Xm.bind(null,a.syncEngine),yield mc(a.remoteStore,a.syncEngine.isPrimaryClient))})()}createEventManager(e){return new Ng}createDatastore(e){const t=Fd(e.databaseInfo.databaseId),a=new zy(e.databaseInfo);return new Tg(e.authCredentials,e.appCheckCredentials,a,t)}createRemoteStore(e){return t=this.localStore,a=this.datastore,d=e.asyncQueue,p=B=>Qm(this.syncEngine,B,0),E=Vm.D()?new Vm:new nf,new hp(t,a,d,p,E);var t,a,d,p,E}createSyncEngine(e,t){return function(a,d,p,E,B,Y,ae){const Me=new Wa(a,d,p,E,B,Y);return ae&&(Me.vc=!0),Me}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,m.Z)(function*(t){const a=un(t);yn("RemoteStore","RemoteStore shutting down."),a.vu.add(5),yield td(a),a.Pu.shutdown(),a.bu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function Xg(i,e=10240){let t=0;return{read:()=>(0,m.Z)(function*(){if(t<i.byteLength){const a={value:i.slice(t,t+e),done:!1};return t+=e,a}return{done:!0}})(),cancel:()=>(0,m.Z)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class Xd{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):ti("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class ev{constructor(e,t){this.Cc=e,this.serializer=t,this.metadata=new ni,this.buffer=new Uint8Array,this.xc=new TextDecoder("utf-8"),this.Nc().then(a=>{a&&a.Qu()?this.metadata.resolve(a.Gu.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==a?void 0:a.Gu)}`))},a=>this.metadata.reject(a))}close(){return this.Cc.cancel()}getMetadata(){var e=this;return(0,m.Z)(function*(){return e.metadata.promise})()}bc(){var e=this;return(0,m.Z)(function*(){return yield e.getMetadata(),e.Nc()})()}Nc(){var e=this;return(0,m.Z)(function*(){const t=yield e.kc();if(null===t)return null;const a=e.xc.decode(t),d=Number(a);isNaN(d)&&e.Mc(`length string (${a}) is not valid number`);const p=yield e.$c(d);return new Fg(JSON.parse(p),t.length+d)})()}Oc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}kc(){var e=this;return(0,m.Z)(function*(){for(;e.Oc()<0&&!(yield e.Fc()););if(0===e.buffer.length)return null;const t=e.Oc();t<0&&e.Mc("Reached the end of bundle when a length string is expected.");const a=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),a})()}$c(e){var t=this;return(0,m.Z)(function*(){for(;t.buffer.length<e;)(yield t.Fc())&&t.Mc("Reached the end of bundle when more is expected.");const a=t.xc.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),a})()}Mc(e){throw this.Cc.cancel(),new Error(`Invalid bundle format: ${e}`)}Fc(){var e=this;return(0,m.Z)(function*(){const t=yield e.Cc.read();if(!t.done){const a=new Uint8Array(e.buffer.length+t.value.length);a.set(e.buffer),a.set(t.value,e.buffer.length),e.buffer=a}return t.done})()}}class cl{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,m.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new _n(Gt.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const a=yield(d=(0,m.Z)(function*(p,E){const B=un(p),Y=Vc(B.serializer)+"/documents",ae={documents:E.map(on=>Rh(B.serializer,on))},Me=yield B.vo("BatchGetDocuments",Y,ae,E.length),at=new Map;Me.forEach(on=>{const On=function Ay(i,e){return"found"in e?function(t,a){rr(!!a.found);const d=tu(t,a.found.name),p=vo(a.found.updateTime),E=a.found.createTime?vo(a.found.createTime):Pr.min(),B=new Zi({mapValue:{fields:a.found.fields}});return Qi.newFoundDocument(d,p,E,B)}(i,e):"missing"in e?function(t,a){rr(!!a.missing),rr(!!a.readTime);const d=tu(t,a.missing),p=vo(a.readTime);return Qi.newNoDocument(d,p)}(i,e):Bn()}(B.serializer,on);at.set(On.key.toString(),On)});const Ut=[];return E.forEach(on=>{const On=at.get(on.toString());rr(!!On),Ut.push(On)}),Ut}),function(p,E){return d.apply(this,arguments)})(t.datastore,e);var d;return a.forEach(d=>t.recordVersion(d)),a})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(a){this.lastWriteError=a}this.writtenDocs.add(e.toString())}delete(e){this.write(new nc(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,m.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var a;e.mutations.forEach(a=>{t.delete(a.key.toString())}),t.forEach((a,d)=>{const p=Fn.fromPath(d);e.mutations.push(new $c(p,e.precondition(p)))}),yield(a=(0,m.Z)(function*(d,p){const E=un(d),B=Vc(E.serializer)+"/documents",Y={writes:p.map(ae=>xh(E.serializer,ae))};yield E.Io("Commit",B,Y)}),function(d,p){return a.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Bn();t=Pr.min()}const a=this.readVersions.get(e.key.toString());if(a){if(!t.isEqual(a))throw new _n(Gt.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(Pr.min())?Ms.exists(!1):Ms.updateTime(t):Ms.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Pr.min()))throw new _n(Gt.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Ms.updateTime(t)}return Ms.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class sd{constructor(e,t,a,d,p){this.asyncQueue=e,this.datastore=t,this.options=a,this.updateFunction=d,this.deferred=p,this.Bc=a.maxAttempts,this.qo=new sf(this.asyncQueue,"transaction_retry")}run(){this.Bc-=1,this.Lc()}Lc(){var e=this;this.qo.No((0,m.Z)(function*(){const t=new cl(e.datastore),a=e.qc(t);a&&a.then(d=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(d)}).catch(p=>{e.Uc(p)}))}).catch(d=>{e.Uc(d)})}))}qc(e){try{const t=this.updateFunction(e);return!Pe(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Uc(e){this.Bc>0&&this.Kc(e)?(this.Bc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Lc(),Promise.resolve()))):this.deferred.reject(e)}Kc(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!jf(t)}return!1}}class Cf{constructor(e,t,a,d){var p=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=a,this.databaseInfo=d,this.user=Ar.UNAUTHENTICATED,this.clientId=uu.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(a,function(){var E=(0,m.Z)(function*(B){yn("FirestoreClient","Received user=",B.uid),yield p.authCredentialListener(B),p.user=B});return function(B){return E.apply(this,arguments)}}()),this.appCheckCredentials.start(a,E=>(yn("FirestoreClient","Received new app check token=",E),this.appCheckCredentialListener(E,this.user)))}getConfiguration(){var e=this;return(0,m.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new _n(Gt.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new ni;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,m.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(a){const d=ha(a,"Failed to shutdown persistence");t.reject(d)}})),t.promise}}function bf(i,e){return Jg.apply(this,arguments)}function Jg(){return Jg=(0,m.Z)(function*(i,e){i.asyncQueue.verifyOperationInProgress(),yn("FirestoreClient","Initializing OfflineComponentProvider");const t=yield i.getConfiguration();yield e.initialize(t);let a=t.initialUser;i.setCredentialChangeListener(function(){var d=(0,m.Z)(function*(p){a.isEqual(p)||(yield Qc(e.localStore,p),a=p)});return function(p){return d.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>i.terminate()),i._offlineComponents=e}),Jg.apply(this,arguments)}function em(i,e){return Df.apply(this,arguments)}function Df(){return Df=(0,m.Z)(function*(i,e){i.asyncQueue.verifyOperationInProgress();const t=yield tm(i);yn("FirestoreClient","Initializing OnlineComponentProvider");const a=yield i.getConfiguration();yield e.initialize(t,a),i.setCredentialChangeListener(d=>ff(e.remoteStore,d)),i.setAppCheckTokenChangeListener((d,p)=>ff(e.remoteStore,p)),i._onlineComponents=e}),Df.apply(this,arguments)}function ry(i){return"FirebaseError"===i.name?i.code===Gt.FAILED_PRECONDITION||i.code===Gt.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||22===i.code||20===i.code||11===i.code}function tm(i){return Jd.apply(this,arguments)}function Jd(){return Jd=(0,m.Z)(function*(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){yn("FirestoreClient","Using user provided OfflineComponentProvider");try{yield bf(i,i._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!ry(t))throw t;Jr("Error using user provided cache. Falling back to memory cache: "+t),yield bf(i,new wf)}}else yn("FirestoreClient","Using default OfflineComponentProvider"),yield bf(i,new wf);return i._offlineComponents}),Jd.apply(this,arguments)}function Tp(i){return Tf.apply(this,arguments)}function Tf(){return Tf=(0,m.Z)(function*(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(yn("FirestoreClient","Using user provided OnlineComponentProvider"),yield em(i,i._uninitializedComponentsProvider._online)):(yn("FirestoreClient","Using default OnlineComponentProvider"),yield em(i,new Qd))),i._onlineComponents}),Tf.apply(this,arguments)}function Sf(i){return tm(i).then(e=>e.persistence)}function Af(i){return tm(i).then(e=>e.localStore)}function ga(i){return Tp(i).then(e=>e.remoteStore)}function Ec(i){return Tp(i).then(e=>e.syncEngine)}function eh(i){return Sp.apply(this,arguments)}function Sp(){return Sp=(0,m.Z)(function*(i){const e=yield Tp(i),t=e.eventManager;return t.onListen=Xy.bind(null,e.syncEngine),t.onUnlisten=Lg.bind(null,e.syncEngine),t}),Sp.apply(this,arguments)}function nm(i,e,t={}){const a=new ni;return i.asyncQueue.enqueueAndForget((0,m.Z)(function*(){return function(d,p,E,B,Y){const ae=new Xd({next:at=>{p.enqueueAndForget(()=>gf(d,Me));const Ut=at.docs.has(E);!Ut&&at.fromCache?Y.reject(new _n(Gt.UNAVAILABLE,"Failed to get document because the client is offline.")):Ut&&at.fromCache&&B&&"server"===B.source?Y.reject(new _n(Gt.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):Y.resolve(at)},error:at=>Y.reject(at)}),Me=new pa(Ql(E.path),ae,{includeMetadataChanges:!0,Ku:!0});return bu(d,Me)}(yield eh(i),i.asyncQueue,e,t,a)})),a.promise}function Mp(i,e,t={}){const a=new ni;return i.asyncQueue.enqueueAndForget((0,m.Z)(function*(){return function(d,p,E,B,Y){const ae=new Xd({next:at=>{p.enqueueAndForget(()=>gf(d,Me)),at.fromCache&&"server"===B.source?Y.reject(new _n(Gt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):Y.resolve(at)},error:at=>Y.reject(at)}),Me=new pa(E,ae,{includeMetadataChanges:!0,Ku:!0});return bu(d,Me)}(yield eh(i),i.asyncQueue,e,t,a)})),a.promise}function ay(i){const e={};return void 0!==i.timeoutSeconds&&(e.timeoutSeconds=i.timeoutSeconds),e}const ly=new Map;function th(i,e,t){if(!t)throw new _n(Gt.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function Mf(i,e,t,a){if(!0===e&&!0===a)throw new _n(Gt.INVALID_ARGUMENT,`${i} and ${t} cannot be used together.`)}function dl(i){if(!Fn.isDocumentKey(i))throw new _n(Gt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function nh(i){if(Fn.isDocumentKey(i))throw new _n(Gt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function bo(i){if(void 0===i)return"undefined";if(null===i)return"null";if("string"==typeof i)return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if("number"==typeof i||"boolean"==typeof i)return""+i;if("object"==typeof i){if(i instanceof Array)return"an array";{const e=(t=i).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof i?"a function":Bn()}function gi(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new _n(Gt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=bo(i);throw new _n(Gt.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return i}function Rf(i,e){if(e<=0)throw new _n(Gt.INVALID_ARGUMENT,`Function ${i}() requires a positive number, but it was: ${e}.`)}class Ya{constructor(e){var t,a;if(void 0===e.host){if(void 0!==e.ssl)throw new _n(Gt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new _n(Gt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Mf("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=ay(null!==(a=e.experimentalLongPollingOptions)&&void 0!==a?a:{}),function(d){if(void 0!==d.timeoutSeconds){if(isNaN(d.timeoutSeconds))throw new _n(Gt.INVALID_ARGUMENT,`invalid long polling timeout: ${d.timeoutSeconds} (must not be NaN)`);if(d.timeoutSeconds<5)throw new _n(Gt.INVALID_ARGUMENT,`invalid long polling timeout: ${d.timeoutSeconds} (minimum allowed value is 5)`);if(d.timeoutSeconds>30)throw new _n(Gt.INVALID_ARGUMENT,`invalid long polling timeout: ${d.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class od{constructor(e,t,a,d){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=a,this._app=d,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Ya({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new _n(Gt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new _n(Gt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Ya(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new Yo;switch(t.type){case"firstParty":return new Dc(t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new _n(Gt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=ly.get(e);t&&(yn("ComponentProvider","Removing Datastore"),ly.delete(e),t.terminate())}(this),Promise.resolve()}}function ad(i,e,t,a={}){var d;const p=(i=gi(i,od))._getSettings();if("firestore.googleapis.com"!==p.host&&p.host!==e&&Jr("Host has been set in both settings() and useEmulator(), emulator host will be used"),i._setSettings(Object.assign(Object.assign({},p),{host:`${e}:${t}`,ssl:!1})),a.mockUserToken){let E,B;if("string"==typeof a.mockUserToken)E=a.mockUserToken,B=Ar.MOCK_USER;else{E=(0,Le.Sg)(a.mockUserToken,null===(d=i._app)||void 0===d?void 0:d.options.projectId);const Y=a.mockUserToken.sub||a.mockUserToken.user_id;if(!Y)throw new _n(Gt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");B=new Ar(Y)}i._authCredentials=new _a(new Ou(E,B))}}class Fs{constructor(e,t,a){this.converter=t,this._key=a,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Wo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Fs(this.firestore,e,this._key)}}class eo{constructor(e,t,a){this.converter=t,this._query=a,this.type="query",this.firestore=e}withConverter(e){return new eo(this.firestore,e,this._query)}}class Wo extends eo{constructor(e,t,a){super(e,t,Ql(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Fs(this.firestore,null,new Fn(e))}withConverter(e){return new Wo(this.firestore,e,this._path)}}function ld(i,e,...t){if(i=(0,Le.m9)(i),th("collection","path",e),i instanceof od){const a=ci.fromString(e,...t);return nh(a),new Wo(i,null,a)}{if(!(i instanceof Fs||i instanceof Wo))throw new _n(Gt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=i._path.child(ci.fromString(e,...t));return nh(a),new Wo(i.firestore,null,a)}}function rh(i,e){if(i=gi(i,od),th("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new _n(Gt.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new eo(i,null,(t=e,new Ua(ci.emptyPath(),t)));var t}function ih(i,e,...t){if(i=(0,Le.m9)(i),1===arguments.length&&(e=uu.A()),th("doc","path",e),i instanceof od){const a=ci.fromString(e,...t);return dl(a),new Fs(i,null,new Fn(a))}{if(!(i instanceof Fs||i instanceof Wo))throw new _n(Gt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=i._path.child(ci.fromString(e,...t));return dl(a),new Fs(i.firestore,i instanceof Wo?i.converter:null,new Fn(a))}}function xf(i,e){return i=(0,Le.m9)(i),e=(0,Le.m9)(e),(i instanceof Fs||i instanceof Wo)&&(e instanceof Fs||e instanceof Wo)&&i.firestore===e.firestore&&i.path===e.path&&i.converter===e.converter}function ud(i,e){return i=(0,Le.m9)(i),e=(0,Le.m9)(e),i instanceof eo&&e instanceof eo&&i.firestore===e.firestore&&xn(i._query,e._query)&&i.converter===e.converter}class im{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new sf(this,"async_queue_retry"),this.Xc=()=>{const t=rf();t&&yn("AsyncQueue","Visibility state changed to "+t.visibilityState),this.qo.Mo()};const e=rf();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const t=rf();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const t=new ni;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}ea(){var e=this;return(0,m.Z)(function*(){if(0!==e.Qc.length){try{yield e.Qc[0](),e.Qc.shift(),e.qo.reset()}catch(t){if(!ao(t))throw t;yn("AsyncQueue","Operation failed with retryable error: "+t)}e.Qc.length>0&&e.qo.No(()=>e.ea())}})()}ta(e){const t=this.Gc.then(()=>(this.Hc=!0,e().catch(a=>{throw this.Wc=a,this.Hc=!1,ti("INTERNAL UNHANDLED ERROR: ",function(p){let E=p.message||"";return p.stack&&(E=p.stack.includes(p.message)?p.stack:p.message+"\n"+p.stack),E}(a)),a}).then(a=>(this.Hc=!1,a))));return this.Gc=t,t}enqueueAfterDelay(e,t,a){this.Zc(),this.Yc.indexOf(e)>-1&&(t=0);const d=kl.createAndSchedule(this,e,t,a,p=>this.na(p));return this.zc.push(d),d}Zc(){this.Wc&&Bn()}verifyOperationInProgress(){}sa(){var e=this;return(0,m.Z)(function*(){let t;do{t=e.Gc,yield t}while(t!==e.Gc)})()}ia(e){for(const t of this.zc)if(t.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((t,a)=>t.targetTimeMs-a.targetTimeMs);for(const t of this.zc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const t=this.zc.indexOf(e);this.zc.splice(t,1)}}function xp(i){return function(e,t){if("object"!=typeof e||null===e)return!1;const a=e;for(const d of["next","error","complete"])if(d in a&&"function"==typeof a[d])return!0;return!1}(i)}class uy{constructor(){this._progressObserver={},this._taskCompletionResolver=new ni,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,a){this._progressObserver={next:e,error:t,complete:a}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}const sm=-1;class Gs extends od{constructor(e,t,a,d){super(e,t,a,d),this.type="firestore",this._queue=new im,this._persistenceKey=(null==d?void 0:d.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||c(this),this._firestoreClient.terminate()}}function cy(i,e){const t="object"==typeof i?i:(0,g.getApp)(),a="string"==typeof i?i:e||"(default)",d=(0,g._getProvider)(t,"firestore").getImmediate({identifier:a});if(!d._initialized){const p=(0,Le.P0)("firestore");p&&ad(d,...p)}return d}function co(i){return i._firestoreClient||c(i),i._firestoreClient.verifyNotTerminated(),i._firestoreClient}function c(i){var e,t,a;const d=i._freezeSettings(),p=(B=(null===(e=i._app)||void 0===e?void 0:e.options.appId)||"",new Ff(i._databaseId,B,i._persistenceKey,(ae=d).host,ae.ssl,ae.experimentalForceLongPolling,ae.experimentalAutoDetectLongPolling,ay(ae.experimentalLongPollingOptions),ae.useFetchStreams));var B,ae;i._firestoreClient=new Cf(i._authCredentials,i._appCheckCredentials,i._queue,p),null!==(t=d.cache)&&void 0!==t&&t._offlineComponentProvider&&null!==(a=d.cache)&&void 0!==a&&a._onlineComponentProvider&&(i._firestoreClient._uninitializedComponentsProvider={_offlineKind:d.cache.kind,_offline:d.cache._offlineComponentProvider,_online:d.cache._onlineComponentProvider})}function s(i,e){Dt(i=gi(i,Gs));const t=co(i);if(t._uninitializedComponentsProvider)throw new _n(Gt.FAILED_PRECONDITION,"SDK cache is already specified.");Jr("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const a=i._freezeSettings(),d=new Qd;return h(t,d,new Qg(d,a.cacheSizeBytes,null==e?void 0:e.forceOwnership))}function l(i){Dt(i=gi(i,Gs));const e=co(i);if(e._uninitializedComponentsProvider)throw new _n(Gt.FAILED_PRECONDITION,"SDK cache is already specified.");Jr("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const t=i._freezeSettings(),a=new Qd;return h(e,a,new Zd(a,t.cacheSizeBytes))}function h(i,e,t){const a=new ni;return i.asyncQueue.enqueue((0,m.Z)(function*(){try{yield bf(i,t),yield em(i,e),a.resolve()}catch(d){const p=d;if(!ry(p))throw p;Jr("Error enabling indexeddb cache. Falling back to memory cache: "+p),a.reject(p)}})).then(()=>a.promise)}function y(i){if(i._initialized&&!i._terminated)throw new _n(Gt.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new ni;return i._queue.enqueueAndForgetEvenWhileRestricted((0,m.Z)(function*(){try{yield(t=(0,m.Z)(function*(a){if(!Zo.D())return Promise.resolve();const d=a+"main";yield Zo.delete(d)}),function(a){return t.apply(this,arguments)})(Zc(i._databaseId,i._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}function C(i){return function(e){const t=new ni;return e.asyncQueue.enqueueAndForget((0,m.Z)(function*(){return function Ka(i,e){return vf.apply(this,arguments)}(yield Ec(e),t)})),t.promise}(co(i=gi(i,Gs)))}function N(i){return function tv(i){return i.asyncQueue.enqueue((0,m.Z)(function*(){const e=yield Sf(i),t=yield ga(i);return e.setNetworkEnabled(!0),function(a){const d=un(a);return d.vu.delete(0),pc(d)}(t)}))}(co(i=gi(i,Gs)))}function H(i){return function sy(i){return i.asyncQueue.enqueue((0,m.Z)(function*(){const e=yield Sf(i),t=yield ga(i);return e.setNetworkEnabled(!1),(a=(0,m.Z)(function*(d){const p=un(d);p.vu.add(0),yield td(p),p.bu.set("Offline")}),function(d){return a.apply(this,arguments)})(t);var a}))}(co(i=gi(i,Gs)))}function be(i,e){const t=co(i=gi(i,Gs)),a=new uy;return function rm(i,e,t,a){const d=function(p,E){let B;return B="string"==typeof p?_m().encode(p):p,Y=function(Y,ae){if(Y instanceof Uint8Array)return Xg(Y,void 0);if(Y instanceof ArrayBuffer)return Xg(new Uint8Array(Y),void 0);if(Y instanceof ReadableStream)return Y.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(B),new ev(Y,E);var Y}(t,Fd(e));i.asyncQueue.enqueueAndForget((0,m.Z)(function*(){!function ny(i,e,t){const a=un(i);var d;(d=(0,m.Z)(function*(p,E,B){try{const Y=yield E.getMetadata();if(yield function(Ut,on){const On=un(Ut),er=vo(on.createTime);return On.persistence.runTransaction("hasNewerBundle","readonly",gr=>On.qs.getBundleMetadata(gr,on.id)).then(gr=>!!gr&&gr.createTime.compareTo(er)>=0)}(p.localStore,Y))return yield E.close(),B._completeWith({taskState:"Success",documentsLoaded:(Ut=Y).totalDocuments,bytesLoaded:Ut.totalBytes,totalDocuments:Ut.totalDocuments,totalBytes:Ut.totalBytes}),Promise.resolve(new Set);B._updateProgress(Yy(Y));const ae=new Mv(Y,p.localStore,E.serializer);let Me=yield E.bc();for(;Me;){const Ut=yield ae.zu(Me);Ut&&B._updateProgress(Ut),Me=yield E.bc()}const at=yield ae.complete();return yield su(p,at.Ju,void 0),yield function(Ut,on){const On=un(Ut);return On.persistence.runTransaction("Save bundle","readwrite",er=>On.qs.saveBundleMetadata(er,on))}(p.localStore,Y),B._completeWith(at.progress),Promise.resolve(at.Hu)}catch(Y){return Jr("SyncEngine",`Loading bundle failed with ${Y}`),B._failWith(Y),Promise.resolve(new Set)}var Ut}),function(p,E,B){return d.apply(this,arguments)})(a,e,t).then(d=>{a.sharedClientState.notifyBundleLoaded(d)})}(yield Ec(i),d,a)}))}(t,i._databaseId,e,a),a}function dt(i,e){return function Nv(i,e){return i.asyncQueue.enqueue((0,m.Z)(function*(){return function(t,a){const d=un(t);return d.persistence.runTransaction("Get named query","readonly",p=>d.qs.getNamedQuery(p,a))}(yield Af(i),e)}))}(co(i=gi(i,Gs)),e).then(t=>t?new eo(i,null,t.query):null)}function Dt(i){if(i._initialized||i._terminated)throw new _n(Gt.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class sn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new sn(qs.fromBase64String(e))}catch(t){throw new _n(Gt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new sn(qs.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class bn{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new _n(Gt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Yi(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Zr{constructor(e){this._methodName=e}}class yi{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new _n(Gt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new _n(Gt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Gr(this._lat,e._lat)||Gr(this._long,e._long)}}const to=/^__.*__$/;class Do{constructor(e,t,a){this.data=e,this.fieldMask=t,this.fieldTransforms=a}toMutation(e,t){return null!==this.fieldMask?new wo(e,this.data,this.fieldMask,t,this.fieldTransforms):new Eu(e,this.data,t,this.fieldTransforms)}}class hl{constructor(e,t,a){this.data=e,this.fieldMask=t,this.fieldTransforms=a}toMutation(e,t){return new wo(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function Tu(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Bn()}}class Ko{constructor(e,t,a,d,p,E){this.settings=e,this.databaseId=t,this.serializer=a,this.ignoreUndefinedProperties=d,void 0===p&&this.ua(),this.fieldTransforms=p||[],this.fieldMask=E||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new Ko(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var t;const a=null===(t=this.path)||void 0===t?void 0:t.child(e),d=this.aa({path:a,la:!1});return d.fa(e),d}da(e){var t;const a=null===(t=this.path)||void 0===t?void 0:t.child(e),d=this.aa({path:a,la:!1});return d.ua(),d}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return To(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if(Tu(this.ca)&&to.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class fl{constructor(e,t,a){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=a||Fd(e)}ya(e,t,a,d=!1){return new Ko({ca:e,methodName:t,ga:a,path:Yi.emptyPath(),la:!1,ma:d},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function ou(i){const e=i._freezeSettings(),t=Fd(i._databaseId);return new fl(i._databaseId,!!e.ignoreUndefinedProperties,t)}function ta(i,e,t,a,d,p={}){const E=i.ya(p.merge||p.mergeFields?2:0,e,t,d);Ll("Data must be an object, but it was:",E,a);const B=gl(a,E);let Y,ae;if(p.merge)Y=new Fo(E.fieldMask),ae=E.fieldTransforms;else if(p.mergeFields){const Me=[];for(const at of p.mergeFields){const Ut=Ls(e,at,t);if(!E.contains(Ut))throw new _n(Gt.INVALID_ARGUMENT,`Field '${Ut}' is specified in your field mask but missing from your input data.`);au(Me,Ut)||Me.push(Ut)}Y=new Fo(Me),ae=E.fieldTransforms.filter(at=>Y.covers(at.field))}else Y=null,ae=E.fieldTransforms;return new Do(new Zi(B),Y,ae)}class pl extends Zr{_toFieldTransform(e){if(2!==e.ca)throw e._a(1===e.ca?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof pl}}function Su(i,e,t){return new Ko({ca:3,ga:e.settings.ga,methodName:i._methodName,la:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class sh extends Zr{_toFieldTransform(e){return new bh(e.path,new uo)}isEqual(e){return e instanceof sh}}class oh extends Zr{constructor(e,t){super(e),this.pa=t}_toFieldTransform(e){const t=Su(this,e,!0),a=this.pa.map(p=>Rs(p,t)),d=new ul(a);return new bh(e.path,d)}isEqual(e){return this===e}}class dy extends Zr{constructor(e,t){super(e),this.pa=t}_toFieldTransform(e){const t=Su(this,e,!0),a=this.pa.map(p=>Rs(p,t)),d=new Lc(a);return new bh(e.path,d)}isEqual(e){return this===e}}class Nr extends Zr{constructor(e,t){super(e),this.Ia=t}_toFieldTransform(e){const t=new Bc(e.serializer,Ch(e.serializer,this.Ia));return new bh(e.path,t)}isEqual(e){return this===e}}function zr(i,e,t,a){const d=i.ya(1,e,t);Ll("Data must be an object, but it was:",d,a);const p=[],E=Zi.empty();sa(a,(Y,ae)=>{const Me=Pp(e,Y,t);ae=(0,Le.m9)(ae);const at=d.da(Me);if(ae instanceof pl)p.push(Me);else{const Ut=Rs(ae,at);null!=Ut&&(p.push(Me),E.set(Me,Ut))}});const B=new Fo(p);return new hl(E,B,d.fieldTransforms)}function Kr(i,e,t,a,d,p){const E=i.ya(1,e,t),B=[Ls(e,a,t)],Y=[d];if(p.length%2!=0)throw new _n(Gt.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let Ut=0;Ut<p.length;Ut+=2)B.push(Ls(e,p[Ut])),Y.push(p[Ut+1]);const ae=[],Me=Zi.empty();for(let Ut=B.length-1;Ut>=0;--Ut)if(!au(ae,B[Ut])){const on=B[Ut];let On=Y[Ut];On=(0,Le.m9)(On);const er=E.da(on);if(On instanceof pl)ae.push(on);else{const gr=Rs(On,er);null!=gr&&(ae.push(on),Me.set(on,gr))}}const at=new Fo(ae);return new hl(Me,at,E.fieldTransforms)}function Ri(i,e,t,a=!1){return Rs(t,i.ya(a?4:3,e))}function Rs(i,e){if(ma(i=(0,Le.m9)(i)))return Ll("Unsupported field value:",e,i),gl(i,e);if(i instanceof Zr)return function(t,a){if(!Tu(a.ca))throw a._a(`${t._methodName}() can only be used with update() and set()`);if(!a.path)throw a._a(`${t._methodName}() is not currently supported inside arrays`);const d=t._toFieldTransform(a);d&&a.fieldTransforms.push(d)}(i,e),null;if(void 0===i&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.la&&4!==e.ca)throw e._a("Nested arrays are not supported");return function(t,a){const d=[];let p=0;for(const E of t){let B=Rs(E,a.wa(p));null==B&&(B={nullValue:"NULL_VALUE"}),d.push(B),p++}return{arrayValue:{values:d}}}(i,e)}return function(t,a){if(null===(t=(0,Le.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return Ch(a.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const d=gs.fromDate(t);return{timestampValue:ic(a.serializer,d)}}if(t instanceof gs){const d=new gs(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:ic(a.serializer,d)}}if(t instanceof yi)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof sn)return{bytesValue:Yf(a.serializer,t._byteString)};if(t instanceof Fs){const d=a.databaseId,p=t.firestore._databaseId;if(!p.isEqual(d))throw a._a(`Document reference is for database ${p.projectId}/${p.database} but should be for database ${d.projectId}/${d.database}`);return{referenceValue:Zf(t.firestore._databaseId||a.databaseId,t._key.path)}}throw a._a(`Unsupported field value: ${bo(t)}`)}(i,e)}function gl(i,e){const t={};return Wl(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):sa(i,(a,d)=>{const p=Rs(d,e.ha(a));null!=p&&(t[a]=p)}),{mapValue:{fields:t}}}function ma(i){return!("object"!=typeof i||null===i||i instanceof Array||i instanceof Date||i instanceof gs||i instanceof yi||i instanceof sn||i instanceof Fs||i instanceof Zr)}function Ll(i,e,t){if(!ma(t)||"object"!=typeof(a=t)||null===a||Object.getPrototypeOf(a)!==Object.prototype&&null!==Object.getPrototypeOf(a)){const a=bo(t);throw e._a("an object"===a?i+" a custom object":i+" "+a)}var a}function Ls(i,e,t){if((e=(0,Le.m9)(e))instanceof bn)return e._internalPath;if("string"==typeof e)return Pp(i,e);throw To("Field path arguments must be of type string or ",i,!1,void 0,t)}const hy=new RegExp("[~\\*/\\[\\]]");function Pp(i,e,t){if(e.search(hy)>=0)throw To(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,t);try{return new bn(...e.split("."))._internalPath}catch{throw To(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,t)}}function To(i,e,t,a,d){const p=a&&!a.isEmpty(),E=void 0!==d;let B=`Function ${e}() called with invalid data`;t&&(B+=" (via `toFirestore()`)"),B+=". ";let Y="";return(p||E)&&(Y+=" (found",p&&(Y+=` in field ${a}`),E&&(Y+=` in document ${d}`),Y+=")"),new _n(Gt.INVALID_ARGUMENT,B+i+Y)}function au(i,e){return i.some(t=>t.isEqual(e))}class $o{constructor(e,t,a,d,p){this._firestore=e,this._userDataWriter=t,this._key=a,this._document=d,this._converter=p}get id(){return this._key.path.lastSegment()}get ref(){return new Fs(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Op(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Au("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class Op extends $o{data(){return super.data()}}function Au(i,e){return"string"==typeof e?Pp(i,e):e instanceof bn?e._internalPath:e._delegate._internalPath}function om(i){if("L"===i.limitType&&0===i.explicitOrderBy.length)throw new _n(Gt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class am{}class Np extends am{}function p_(i,e,...t){let a=[];e instanceof am&&a.push(e),a=a.concat(t),function(d){const p=d.filter(B=>B instanceof ah).length,E=d.filter(B=>B instanceof lm).length;if(p>1||p>0&&E>0)throw new _n(Gt.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(a);for(const d of a)i=d._apply(i);return i}class lm extends Np{constructor(e,t,a){super(),this._field=e,this._op=t,this._value=a,this.type="where"}static _create(e,t,a){return new lm(e,t,a)}_apply(e){const t=this._parse(e);return av(e._query,t),new eo(e.firestore,e.converter,At(e._query,t))}_parse(e){const t=ou(e.firestore);return function(d,p,E,B,Y,ae,Me){let at;if(Y.isKeyField()){if("array-contains"===ae||"array-contains-any"===ae)throw new _n(Gt.INVALID_ARGUMENT,`Invalid Query. You can't perform '${ae}' queries on documentId().`);if("in"===ae||"not-in"===ae){Uv(Me,ae);const Ut=[];for(const on of Me)Ut.push(ov(B,d,on));at={arrayValue:{values:Ut}}}else at=ov(B,d,Me)}else"in"!==ae&&"not-in"!==ae&&"array-contains-any"!==ae||Uv(Me,ae),at=Ri(E,"where",Me,"in"===ae||"not-in"===ae);return mi.create(Y,ae,at)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}function g_(i,e,t){const a=e,d=Au("where",i);return lm._create(d,a,t)}class ah extends am{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new ah(e,t)}_parse(e){const t=this._queryConstraints.map(a=>a._parse(e)).filter(a=>a.getFilters().length>0);return 1===t.length?t[0]:Ui.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(a,d){let p=a;const E=d.getFlattenedFilters();for(const B of E)av(p,B),p=At(p,B)}(e._query,t),new eo(e.firestore,e.converter,At(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class fy extends Np{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new fy(e,t)}_apply(e){const t=function(a,d,p){if(null!==a.startAt)throw new _n(Gt.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==a.endAt)throw new _n(Gt.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const E=new ol(d,p);return function(B,Y){if(null===_(B)){const ae=I(B);null!==ae&&lv(0,ae,Y.field)}}(a,E),E}(e._query,this._field,this._direction);return new eo(e.firestore,e.converter,function(a,d){const p=a.explicitOrderBy.concat([d]);return new Ua(a.path,a.collectionGroup,p,a.filters.slice(),a.limit,a.limitType,a.startAt,a.endAt)}(e._query,t))}}function m_(i,e="asc"){const t=e,a=Au("orderBy",i);return fy._create(a,t)}class py extends Np{constructor(e,t,a){super(),this.type=e,this._limit=t,this._limitType=a}static _create(e,t,a){return new py(e,t,a)}_apply(e){return new eo(e.firestore,e.converter,Yt(e._query,this._limit,this._limitType))}}function Lv(i){return Rf("limit",i),py._create("limit",i,"F")}function rv(i){return Rf("limitToLast",i),py._create("limitToLast",i,"L")}class um extends Np{constructor(e,t,a){super(),this.type=e,this._docOrFields=t,this._inclusive=a}static _create(e,t,a){return new um(e,t,a)}_apply(e){const t=sv(e,this.type,this._docOrFields,this._inclusive);return new eo(e.firestore,e.converter,(d=t,new Ua((a=e._query).path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),a.limit,a.limitType,d,a.endAt)));var a,d}}function iv(...i){return um._create("startAt",i,!0)}function Bv(...i){return um._create("startAfter",i,!1)}class gy extends Np{constructor(e,t,a){super(),this.type=e,this._docOrFields=t,this._inclusive=a}static _create(e,t,a){return new gy(e,t,a)}_apply(e){const t=sv(e,this.type,this._docOrFields,this._inclusive);return new eo(e.firestore,e.converter,(d=t,new Ua((a=e._query).path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),a.limit,a.limitType,a.startAt,d)));var a,d}}function $v(...i){return gy._create("endBefore",i,!1)}function Vv(...i){return gy._create("endAt",i,!0)}function sv(i,e,t,a){if(t[0]=(0,Le.m9)(t[0]),t[0]instanceof $o)return function(d,p,E,B,Y){if(!B)throw new _n(Gt.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${E}().`);const ae=[];for(const Me of de(d))if(Me.field.isKeyField())ae.push(aa(p,B.key));else{const at=B.data.field(Me.field);if(Sl(at))throw new _n(Gt.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+Me.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===at){const Ut=Me.field.canonicalString();throw new _n(Gt.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${Ut}' (used as the orderBy) does not exist.`)}ae.push(at)}return new xl(ae,Y)}(i._query,i.firestore._databaseId,e,t[0]._document,a);{const d=ou(i.firestore);return function(p,E,B,Y,ae,Me){const at=p.explicitOrderBy;if(ae.length>at.length)throw new _n(Gt.INVALID_ARGUMENT,`Too many arguments provided to ${Y}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const Ut=[];for(let on=0;on<ae.length;on++){const On=ae[on];if(at[on].field.isKeyField()){if("string"!=typeof On)throw new _n(Gt.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${Y}(), but got a ${typeof On}`);if(!L(p)&&-1!==On.indexOf("/"))throw new _n(Gt.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${Y}() must be a plain document ID, but '${On}' contains a slash.`);const er=p.path.child(ci.fromString(On));if(!Fn.isDocumentKey(er))throw new _n(Gt.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${Y}() must result in a valid document path, but '${er}' is not because it contains an odd number of segments.`);const gr=new Fn(er);Ut.push(aa(E,gr))}else{const er=Ri(B,Y,On);Ut.push(er)}}return new xl(Ut,Me)}(i._query,i.firestore._databaseId,d,e,t,a)}}function ov(i,e,t){if("string"==typeof(t=(0,Le.m9)(t))){if(""===t)throw new _n(Gt.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!L(e)&&-1!==t.indexOf("/"))throw new _n(Gt.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const a=e.path.child(ci.fromString(t));if(!Fn.isDocumentKey(a))throw new _n(Gt.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${a}' is not because it has an odd number of segments (${a.length}).`);return aa(i,new Fn(a))}if(t instanceof Fs)return aa(i,t._key);throw new _n(Gt.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${bo(t)}.`)}function Uv(i,e){if(!Array.isArray(i)||0===i.length)throw new _n(Gt.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function av(i,e){if(e.isInequality()){const a=I(i),d=e.field;if(null!==a&&!a.isEqual(d))throw new _n(Gt.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${a.toString()}' and '${d.toString()}'`);const p=_(i);null!==p&&lv(0,d,p)}const t=function(a,d){for(const p of a)for(const E of p.getFlattenedFilters())if(d.indexOf(E.op)>=0)return E.op;return null}(i.filters,function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new _n(Gt.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function lv(i,e,t){if(!t.isEqual(e))throw new _n(Gt.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class cm{convertValue(e,t="none"){switch(Al(e)){case 0:return null;case 1:return e.booleanValue;case 2:return us(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Lo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Bn()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const a={};return sa(e,(d,p)=>{a[d]=this.convertValue(p,t)}),a}convertGeoPoint(e){return new yi(us(e.latitude),us(e.longitude))}convertArray(e,t){return(e.values||[]).map(a=>this.convertValue(a,t))}convertServerTimestamp(e,t){switch(t){case"previous":const a=Kl(e);return null==a?null:this.convertValue(a,t);case"estimate":return this.convertTimestamp(wa(e));default:return null}}convertTimestamp(e){const t=Go(e);return new gs(t.seconds,t.nanos)}convertDocumentKey(e,t){const a=ci.fromString(e);rr(Iu(a));const d=new Fa(a.get(1),a.get(3)),p=new Fn(a.popFirst(5));return d.isEqual(t)||ti(`Document ${p} contains a document reference within a different database (${d.projectId}/${d.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),p}}function dm(i,e,t){let a;return a=i?t&&(t.merge||t.mergeFields)?i.toFirestore(e,t):i.toFirestore(e):e,a}class jv extends cm{constructor(e){super(),this.firestore=e}convertBytes(e){return new sn(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Fs(this.firestore,null,t)}}class lh{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class wc extends $o{constructor(e,t,a,d,p,E){super(e,t,a,d,E),this._firestore=e,this._firestoreImpl=e,this.metadata=p}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new lu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const a=this._document.data.field(Au("DocumentSnapshot.get",e));if(null!==a)return this._userDataWriter.convertValue(a,t.serverTimestamps)}}}class lu extends wc{data(e={}){return super.data(e)}}class Pf{constructor(e,t,a,d){this._firestore=e,this._userDataWriter=t,this._snapshot=d,this.metadata=new lh(d.hasPendingWrites,d.fromCache),this.query=a}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(a=>{e.call(t,new lu(this._firestore,this._userDataWriter,a.key,a,new lh(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new _n(Gt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(a,d){if(a._snapshot.oldDocs.isEmpty()){let p=0;return a._snapshot.docChanges.map(E=>({type:"added",doc:new lu(a._firestore,a._userDataWriter,E.doc.key,E.doc,new lh(a._snapshot.mutatedKeys.has(E.doc.key),a._snapshot.fromCache),a.query.converter),oldIndex:-1,newIndex:p++}))}{let p=a._snapshot.oldDocs;return a._snapshot.docChanges.filter(E=>d||3!==E.type).map(E=>{const B=new lu(a._firestore,a._userDataWriter,E.doc.key,E.doc,new lh(a._snapshot.mutatedKeys.has(E.doc.key),a._snapshot.fromCache),a.query.converter);let Y=-1,ae=-1;return 0!==E.type&&(Y=p.indexOf(E.doc.key),p=p.delete(E.doc.key)),1!==E.type&&(p=p.add(E.doc),ae=p.indexOf(E.doc.key)),{type:w_(E.type),doc:B,oldIndex:Y,newIndex:ae}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function w_(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Bn()}}function uv(i,e){return i instanceof wc&&e instanceof wc?i._firestore===e._firestore&&i._key.isEqual(e._key)&&(null===i._document?null===e._document:i._document.isEqual(e._document))&&i._converter===e._converter:i instanceof Pf&&e instanceof Pf&&i._firestore===e._firestore&&ud(i.query,e.query)&&i.metadata.isEqual(e.metadata)&&i._snapshot.isEqual(e._snapshot)}function Of(i){i=gi(i,Fs);const e=gi(i.firestore,Gs);return nm(co(e),i._key).then(t=>yy(e,i,t))}class Ic extends cm{constructor(e){super(),this.firestore=e}convertBytes(e){return new sn(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Fs(this.firestore,null,t)}}function I_(i){i=gi(i,Fs);const e=gi(i.firestore,Gs),t=co(e),a=new Ic(e);return function Ap(i,e){const t=new ni;return i.asyncQueue.enqueueAndForget((0,m.Z)(function*(){return(a=(0,m.Z)(function*(d,p,E){try{const B=yield function(Y,ae){const Me=un(Y);return Me.persistence.runTransaction("read document","readonly",at=>Me.localDocuments.getDocument(at,ae))}(d,p);B.isFoundDocument()?E.resolve(B):B.isNoDocument()?E.resolve(null):E.reject(new _n(Gt.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(B){const Y=ha(B,`Failed to get document '${p} from cache`);E.reject(Y)}}),function(d,p,E){return a.apply(this,arguments)})(yield Af(i),e,t);var a})),t.promise}(t,i._key).then(d=>new wc(e,a,i._key,d,new lh(null!==d&&d.hasLocalMutations,!0),i.converter))}function cv(i){i=gi(i,Fs);const e=gi(i.firestore,Gs);return nm(co(e),i._key,{source:"server"}).then(t=>yy(e,i,t))}function C0(i){i=gi(i,eo);const e=gi(i.firestore,Gs),t=co(e),a=new Ic(e);return om(i._query),Mp(t,i._query).then(d=>new Pf(e,a,i,d))}function b0(i){i=gi(i,eo);const e=gi(i.firestore,Gs),t=co(e),a=new Ic(e);return function oy(i,e){const t=new ni;return i.asyncQueue.enqueueAndForget((0,m.Z)(function*(){return(a=(0,m.Z)(function*(d,p,E){try{const B=yield kd(d,p,!0),Y=new Zm(p,B.ir),ae=Y.sc(B.documents),Me=Y.applyChanges(ae,!1);E.resolve(Me.snapshot)}catch(B){const Y=ha(B,`Failed to execute query '${p} against cache`);E.reject(Y)}}),function(d,p,E){return a.apply(this,arguments)})(yield Af(i),e,t);var a})),t.promise}(t,i._query).then(d=>new Pf(e,a,i,d))}function C_(i){i=gi(i,eo);const e=gi(i.firestore,Gs),t=co(e),a=new Ic(e);return Mp(t,i._query,{source:"server"}).then(d=>new Pf(e,a,i,d))}function b_(i,e,t){i=gi(i,Fs);const a=gi(i.firestore,Gs),d=dm(i.converter,e,t);return kp(a,[ta(ou(a),"setDoc",i._key,d,null!==i.converter,t).toMutation(i._key,Ms.none())])}function zv(i,e,t,...a){i=gi(i,Fs);const d=gi(i.firestore,Gs),p=ou(d);let E;return E="string"==typeof(e=(0,Le.m9)(e))||e instanceof bn?Kr(p,"updateDoc",i._key,e,t,a):zr(p,"updateDoc",i._key,e),kp(d,[E.toMutation(i._key,Ms.exists(!0))])}function D_(i){return kp(gi(i.firestore,Gs),[new nc(i._key,Ms.none())])}function qo(i,e){const t=gi(i.firestore,Gs),a=ih(i),d=dm(i.converter,e);return kp(t,[ta(ou(i.firestore),"addDoc",a._key,d,null!==i.converter,{}).toMutation(a._key,Ms.exists(!1))]).then(()=>a)}function Gv(i,...e){var t,a,d;i=(0,Le.m9)(i);let p={includeMetadataChanges:!1},E=0;"object"!=typeof e[E]||xp(e[E])||(p=e[E],E++);const B={includeMetadataChanges:p.includeMetadataChanges};if(xp(e[E])){const at=e[E];e[E]=null===(t=at.next)||void 0===t?void 0:t.bind(at),e[E+1]=null===(a=at.error)||void 0===a?void 0:a.bind(at),e[E+2]=null===(d=at.complete)||void 0===d?void 0:d.bind(at)}let Y,ae,Me;if(i instanceof Fs)ae=gi(i.firestore,Gs),Me=Ql(i._key.path),Y={next:at=>{e[E]&&e[E](yy(ae,i,at))},error:e[E+1],complete:e[E+2]};else{const at=gi(i,eo);ae=gi(at.firestore,Gs),Me=at._query;const Ut=new Ic(ae);Y={next:on=>{e[E]&&e[E](new Pf(ae,Ut,at,on))},error:e[E+1],complete:e[E+2]},om(i._query)}return function(at,Ut,on,On){const er=new Xd(On),gr=new pa(Ut,er,on);return at.asyncQueue.enqueueAndForget((0,m.Z)(function*(){return bu(yield eh(at),gr)})),()=>{er.Dc(),at.asyncQueue.enqueueAndForget((0,m.Z)(function*(){return gf(yield eh(at),gr)}))}}(co(ae),Me,B,Y)}function T_(i,e){return function Ov(i,e){const t=new Xd(e);return i.asyncQueue.enqueueAndForget((0,m.Z)(function*(){return a=yield eh(i),d=t,un(a).ku.add(d),void d.next();var a,d})),()=>{t.Dc(),i.asyncQueue.enqueueAndForget((0,m.Z)(function*(){return a=yield eh(i),d=t,void un(a).ku.delete(d);var a,d}))}}(co(i=gi(i,Gs)),xp(e)?e:{next:e})}function kp(i,e){return function(t,a){const d=new ni;return t.asyncQueue.enqueueAndForget((0,m.Z)(function*(){return function $g(i,e,t){return vp.apply(this,arguments)}(yield Ec(t),a,d)})),d.promise}(co(i),e)}function yy(i,e,t){const a=t.docs.get(e._key),d=new Ic(i);return new wc(i,d,e._key,a,new lh(t.hasPendingWrites,t.fromCache),e.converter)}const x_={maxAttempts:5};class Mu{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=ou(e)}set(e,t,a){this._verifyNotCommitted();const d=na(e,this._firestore),p=dm(d.converter,t,a),E=ta(this._dataReader,"WriteBatch.set",d._key,p,null!==d.converter,a);return this._mutations.push(E.toMutation(d._key,Ms.none())),this}update(e,t,a,...d){this._verifyNotCommitted();const p=na(e,this._firestore);let E;return E="string"==typeof(t=(0,Le.m9)(t))||t instanceof bn?Kr(this._dataReader,"WriteBatch.update",p._key,t,a,d):zr(this._dataReader,"WriteBatch.update",p._key,t),this._mutations.push(E.toMutation(p._key,Ms.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=na(e,this._firestore);return this._mutations=this._mutations.concat(new nc(t._key,Ms.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new _n(Gt.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function na(i,e){if((i=(0,Le.m9)(i)).firestore!==e)throw new _n(Gt.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return i}class Ru extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=ou(e)}get(e){const t=na(e,this._firestore),a=new jv(this._firestore);return this._transaction.lookup([t._key]).then(d=>{if(!d||1!==d.length)return Bn();const p=d[0];if(p.isFoundDocument())return new $o(this._firestore,a,p.key,p,t.converter);if(p.isNoDocument())return new $o(this._firestore,a,t._key,null,t.converter);throw Bn()})}set(e,t,a){const d=na(e,this._firestore),p=dm(d.converter,t,a),E=ta(this._dataReader,"Transaction.set",d._key,p,null!==d.converter,a);return this._transaction.set(d._key,E),this}update(e,t,a,...d){const p=na(e,this._firestore);let E;return E="string"==typeof(t=(0,Le.m9)(t))||t instanceof bn?Kr(this._dataReader,"Transaction.update",p._key,t,a,d):zr(this._dataReader,"Transaction.update",p._key,t),this._transaction.update(p._key,E),this}delete(e){const t=na(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=na(e,this._firestore),a=new Ic(this._firestore);return super.get(e).then(d=>new wc(this._firestore,a,t._key,d._document,new lh(!1,!1),t.converter))}}function Yv(i,e,t){i=gi(i,Gs);const a=Object.assign(Object.assign({},x_),t);return function(d){if(d.maxAttempts<1)throw new _n(Gt.INVALID_ARGUMENT,"Max attempts must be at least 1")}(a),function(d,p,E){const B=new ni;return d.asyncQueue.enqueueAndForget((0,m.Z)(function*(){const Y=yield function iy(i){return Tp(i).then(e=>e.datastore)}(d);new sd(d.asyncQueue,Y,E,p,B).run()})),B.promise}(co(i),d=>e(new Ru(i,d)),a)}function Zv(){return new pl("deleteField")}function P_(){return new sh("serverTimestamp")}function O_(...i){return new oh("arrayUnion",i)}function N_(...i){return new dy("arrayRemove",i)}function k_(i){return new Nr("increment",i)}!function(i,e=!0){Vr=g.SDK_VERSION,(0,g._registerComponent)(new le.wA("firestore",(t,{instanceIdentifier:a,options:d})=>{const p=t.getProvider("app").getImmediate(),E=new Gs(new bl(t.getProvider("auth-internal")),new ch(t.getProvider("app-check-internal")),function(B,Y){if(!Object.prototype.hasOwnProperty.apply(B.options,["projectId"]))throw new _n(Gt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Fa(B.options.projectId,Y)}(p,a),p);return d=Object.assign({useFetchStreams:e},d),E._setSettings(d),E},"PUBLIC").setMultipleInstances(!0)),(0,g.registerVersion)(fi,"3.12.0",i),(0,g.registerVersion)(fi,"3.12.0","esm2017")}()},2090:(vn,ft,k)=>{"use strict";k.d(ft,{$s:()=>hn,BH:()=>ut,DV:()=>$t,Dv:()=>qn,G6:()=>xe,GJ:()=>Lt,L:()=>Fe,LL:()=>ce,P0:()=>ct,Pz:()=>it,Sg:()=>st,UG:()=>Ct,UI:()=>ir,US:()=>Ne,Wj:()=>zn,Wl:()=>Ft,Yr:()=>Qe,ZB:()=>je,ZR:()=>Pt,aH:()=>qe,b$:()=>Tt,cI:()=>rt,dS:()=>Fr,eu:()=>We,g5:()=>le,gK:()=>br,gQ:()=>$r,h$:()=>Ie,hl:()=>Be,hu:()=>g,jU:()=>ot,lb:()=>Rn,m9:()=>sr,ne:()=>wn,p$:()=>me,pd:()=>kr,q4:()=>pt,r3:()=>Tn,ru:()=>Et,tV:()=>Ce,uI:()=>Ue,ug:()=>$n,vZ:()=>fr,w1:()=>Oe,w9:()=>An,xO:()=>cr,xb:()=>tr,z$:()=>Je,zI:()=>vt,zd:()=>Sn});const m={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},g=function(et,pe){if(!et)throw le(pe)},le=function(et){return new Error("Firebase Database ("+m.SDK_VERSION+") INTERNAL ASSERT FAILED: "+et)},_e=function(et){const pe=[];let K=0;for(let z=0;z<et.length;z++){let q=et.charCodeAt(z);q<128?pe[K++]=q:q<2048?(pe[K++]=q>>6|192,pe[K++]=63&q|128):55296==(64512&q)&&z+1<et.length&&56320==(64512&et.charCodeAt(z+1))?(q=65536+((1023&q)<<10)+(1023&et.charCodeAt(++z)),pe[K++]=q>>18|240,pe[K++]=q>>12&63|128,pe[K++]=q>>6&63|128,pe[K++]=63&q|128):(pe[K++]=q>>12|224,pe[K++]=q>>6&63|128,pe[K++]=63&q|128)}return pe},Ne={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(et,pe){if(!Array.isArray(et))throw Error("encodeByteArray takes an array as a parameter");this.init_();const K=pe?this.byteToCharMapWebSafe_:this.byteToCharMap_,z=[];for(let q=0;q<et.length;q+=3){const Re=et[q],lt=q+1<et.length,$e=lt?et[q+1]:0,_t=q+2<et.length,Rt=_t?et[q+2]:0;let fn=(15&$e)<<2|Rt>>6,kt=63&Rt;_t||(kt=64,lt||(fn=64)),z.push(K[Re>>2],K[(3&Re)<<4|$e>>4],K[fn],K[kt])}return z.join("")},encodeString(et,pe){return this.HAS_NATIVE_SUPPORT&&!pe?btoa(et):this.encodeByteArray(_e(et),pe)},decodeString(et,pe){return this.HAS_NATIVE_SUPPORT&&!pe?atob(et):function(et){const pe=[];let K=0,z=0;for(;K<et.length;){const q=et[K++];if(q<128)pe[z++]=String.fromCharCode(q);else if(q>191&&q<224){const Re=et[K++];pe[z++]=String.fromCharCode((31&q)<<6|63&Re)}else if(q>239&&q<365){const _t=((7&q)<<18|(63&et[K++])<<12|(63&et[K++])<<6|63&et[K++])-65536;pe[z++]=String.fromCharCode(55296+(_t>>10)),pe[z++]=String.fromCharCode(56320+(1023&_t))}else{const Re=et[K++],lt=et[K++];pe[z++]=String.fromCharCode((15&q)<<12|(63&Re)<<6|63&lt)}}return pe.join("")}(this.decodeStringToByteArray(et,pe))},decodeStringToByteArray(et,pe){this.init_();const K=pe?this.charToByteMapWebSafe_:this.charToByteMap_,z=[];for(let q=0;q<et.length;){const Re=K[et.charAt(q++)],$e=q<et.length?K[et.charAt(q)]:0;++q;const Rt=q<et.length?K[et.charAt(q)]:64;++q;const Wt=q<et.length?K[et.charAt(q)]:64;if(++q,null==Re||null==$e||null==Rt||null==Wt)throw new he;z.push(Re<<2|$e>>4),64!==Rt&&(z.push($e<<4&240|Rt>>2),64!==Wt&&z.push(Rt<<6&192|Wt))}return z},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let et=0;et<this.ENCODED_VALS.length;et++)this.byteToCharMap_[et]=this.ENCODED_VALS.charAt(et),this.charToByteMap_[this.byteToCharMap_[et]]=et,this.byteToCharMapWebSafe_[et]=this.ENCODED_VALS_WEBSAFE.charAt(et),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[et]]=et,et>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(et)]=et,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(et)]=et)}}};class he extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Ie=function(et){const pe=_e(et);return Ne.encodeByteArray(pe,!0)},Fe=function(et){return Ie(et).replace(/\./g,"")},Ce=function(et){try{return Ne.decodeString(et,!0)}catch(pe){console.error("base64Decode failed: ",pe)}return null};function me(et){return je(void 0,et)}function je(et,pe){if(!(pe instanceof Object))return pe;switch(pe.constructor){case Date:return new Date(pe.getTime());case Object:void 0===et&&(et={});break;case Array:et=[];break;default:return pe}for(const K in pe)!pe.hasOwnProperty(K)||!ge(K)||(et[K]=je(et[K],pe[K]));return et}function ge(et){return"__proto__"!==et}const De=()=>{try{return function ze(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const et=process.env.__FIREBASE_DEFAULTS__;return et?JSON.parse(et):void 0})()||(()=>{if(typeof document>"u")return;let et;try{et=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const pe=et&&Ce(et[1]);return pe&&JSON.parse(pe)})()}catch(et){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${et}`)}},pt=et=>{var pe,K;return null===(K=null===(pe=De())||void 0===pe?void 0:pe.emulatorHosts)||void 0===K?void 0:K[et]},ct=et=>{const pe=pt(et);if(!pe)return;const K=pe.lastIndexOf(":");if(K<=0||K+1===pe.length)throw new Error(`Invalid host ${pe} with no separate hostname and port!`);const z=parseInt(pe.substring(K+1),10);return"["===pe[0]?[pe.substring(1,K-1),z]:[pe.substring(0,K),z]},qe=()=>{var et;return null===(et=De())||void 0===et?void 0:et.config},it=et=>{var pe;return null===(pe=De())||void 0===pe?void 0:pe[`_${et}`]};class ut{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((pe,K)=>{this.resolve=pe,this.reject=K})}wrapCallback(pe){return(K,z)=>{K?this.reject(K):this.resolve(z),"function"==typeof pe&&(this.promise.catch(()=>{}),1===pe.length?pe(K):pe(K,z))}}}function st(et,pe){if(et.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const z=pe||"demo-project",q=et.iat||0,Re=et.sub||et.user_id;if(!Re)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const lt=Object.assign({iss:`https://securetoken.google.com/${z}`,aud:z,iat:q,exp:q+3600,auth_time:q,sub:Re,user_id:Re,firebase:{sign_in_provider:"custom",identities:{}}},et);return[Fe(JSON.stringify({alg:"none",type:"JWT"})),Fe(JSON.stringify(lt)),""].join(".")}function Je(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Ue(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Je())}function Ct(){var et;const pe=null===(et=De())||void 0===et?void 0:et.forceEnvironment;if("node"===pe)return!0;if("browser"===pe)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function ot(){return"object"==typeof self&&self.self===self}function Et(){const et="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof et&&void 0!==et.id}function Tt(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Oe(){const et=Je();return et.indexOf("MSIE ")>=0||et.indexOf("Trident/")>=0}function Qe(){return!0===m.NODE_CLIENT||!0===m.NODE_ADMIN}function xe(){return!Ct()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Be(){try{return"object"==typeof indexedDB}catch{return!1}}function We(){return new Promise((et,pe)=>{try{let K=!0;const z="validate-browser-context-for-indexeddb-analytics-module",q=self.indexedDB.open(z);q.onsuccess=()=>{q.result.close(),K||self.indexedDB.deleteDatabase(z),et(!0)},q.onupgradeneeded=()=>{K=!1},q.onerror=()=>{var Re;pe((null===(Re=q.error)||void 0===Re?void 0:Re.message)||"")}}catch(K){pe(K)}})}function vt(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class Pt extends Error{constructor(pe,K,z){super(K),this.code=pe,this.customData=z,this.name="FirebaseError",Object.setPrototypeOf(this,Pt.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ce.prototype.create)}}class ce{constructor(pe,K,z){this.service=pe,this.serviceName=K,this.errors=z}create(pe,...K){const z=K[0]||{},q=`${this.service}/${pe}`,Re=this.errors[pe],lt=Re?function cn(et,pe){return et.replace(xt,(K,z)=>{const q=pe[z];return null!=q?String(q):`<${z}?>`})}(Re,z):"Error";return new Pt(q,`${this.serviceName}: ${lt} (${q}).`,z)}}const xt=/\{\$([^}]+)}/g;function rt(et){return JSON.parse(et)}function Ft(et){return JSON.stringify(et)}const qt=function(et){let pe={},K={},z={},q="";try{const Re=et.split(".");pe=rt(Ce(Re[0])||""),K=rt(Ce(Re[1])||""),q=Re[2],z=K.d||{},delete K.d}catch{}return{header:pe,claims:K,data:z,signature:q}},An=function(et){const K=qt(et).claims;return!!K&&"object"==typeof K&&K.hasOwnProperty("iat")},Lt=function(et){const pe=qt(et).claims;return"object"==typeof pe&&!0===pe.admin};function Tn(et,pe){return Object.prototype.hasOwnProperty.call(et,pe)}function $t(et,pe){if(Object.prototype.hasOwnProperty.call(et,pe))return et[pe]}function tr(et){for(const pe in et)if(Object.prototype.hasOwnProperty.call(et,pe))return!1;return!0}function ir(et,pe,K){const z={};for(const q in et)Object.prototype.hasOwnProperty.call(et,q)&&(z[q]=pe.call(K,et[q],q,et));return z}function fr(et,pe){if(et===pe)return!0;const K=Object.keys(et),z=Object.keys(pe);for(const q of K){if(!z.includes(q))return!1;const Re=et[q],lt=pe[q];if(tn(Re)&&tn(lt)){if(!fr(Re,lt))return!1}else if(Re!==lt)return!1}for(const q of z)if(!K.includes(q))return!1;return!0}function tn(et){return null!==et&&"object"==typeof et}function cr(et){const pe=[];for(const[K,z]of Object.entries(et))Array.isArray(z)?z.forEach(q=>{pe.push(encodeURIComponent(K)+"="+encodeURIComponent(q))}):pe.push(encodeURIComponent(K)+"="+encodeURIComponent(z));return pe.length?"&"+pe.join("&"):""}function Sn(et){const pe={};return et.replace(/^\?/,"").split("&").forEach(z=>{if(z){const[q,Re]=z.split("=");pe[decodeURIComponent(q)]=decodeURIComponent(Re)}}),pe}function kr(et){const pe=et.indexOf("?");if(!pe)return"";const K=et.indexOf("#",pe);return et.substring(pe,K>0?K:void 0)}class $r{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let pe=1;pe<this.blockSize;++pe)this.pad_[pe]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(pe,K){K||(K=0);const z=this.W_;if("string"==typeof pe)for(let Wt=0;Wt<16;Wt++)z[Wt]=pe.charCodeAt(K)<<24|pe.charCodeAt(K+1)<<16|pe.charCodeAt(K+2)<<8|pe.charCodeAt(K+3),K+=4;else for(let Wt=0;Wt<16;Wt++)z[Wt]=pe[K]<<24|pe[K+1]<<16|pe[K+2]<<8|pe[K+3],K+=4;for(let Wt=16;Wt<80;Wt++){const fn=z[Wt-3]^z[Wt-8]^z[Wt-14]^z[Wt-16];z[Wt]=4294967295&(fn<<1|fn>>>31)}let Rt,Zt,q=this.chain_[0],Re=this.chain_[1],lt=this.chain_[2],$e=this.chain_[3],_t=this.chain_[4];for(let Wt=0;Wt<80;Wt++){Wt<40?Wt<20?(Rt=$e^Re&(lt^$e),Zt=1518500249):(Rt=Re^lt^$e,Zt=1859775393):Wt<60?(Rt=Re&lt|$e&(Re|lt),Zt=2400959708):(Rt=Re^lt^$e,Zt=3395469782);const fn=(q<<5|q>>>27)+Rt+_t+Zt+z[Wt]&4294967295;_t=$e,$e=lt,lt=4294967295&(Re<<30|Re>>>2),Re=q,q=fn}this.chain_[0]=this.chain_[0]+q&4294967295,this.chain_[1]=this.chain_[1]+Re&4294967295,this.chain_[2]=this.chain_[2]+lt&4294967295,this.chain_[3]=this.chain_[3]+$e&4294967295,this.chain_[4]=this.chain_[4]+_t&4294967295}update(pe,K){if(null==pe)return;void 0===K&&(K=pe.length);const z=K-this.blockSize;let q=0;const Re=this.buf_;let lt=this.inbuf_;for(;q<K;){if(0===lt)for(;q<=z;)this.compress_(pe,q),q+=this.blockSize;if("string"==typeof pe){for(;q<K;)if(Re[lt]=pe.charCodeAt(q),++lt,++q,lt===this.blockSize){this.compress_(Re),lt=0;break}}else for(;q<K;)if(Re[lt]=pe[q],++lt,++q,lt===this.blockSize){this.compress_(Re),lt=0;break}}this.inbuf_=lt,this.total_+=K}digest(){const pe=[];let K=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let q=this.blockSize-1;q>=56;q--)this.buf_[q]=255&K,K/=256;this.compress_(this.buf_);let z=0;for(let q=0;q<5;q++)for(let Re=24;Re>=0;Re-=8)pe[z]=this.chain_[q]>>Re&255,++z;return pe}}function wn(et,pe){const K=new dn(et,pe);return K.subscribe.bind(K)}class dn{constructor(pe,K){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=K,this.task.then(()=>{pe(this)}).catch(z=>{this.error(z)})}next(pe){this.forEachObserver(K=>{K.next(pe)})}error(pe){this.forEachObserver(K=>{K.error(pe)}),this.close(pe)}complete(){this.forEachObserver(pe=>{pe.complete()}),this.close()}subscribe(pe,K,z){let q;if(void 0===pe&&void 0===K&&void 0===z)throw new Error("Missing Observer.");q=function Mr(et,pe){if("object"!=typeof et||null===et)return!1;for(const K of pe)if(K in et&&"function"==typeof et[K])return!0;return!1}(pe,["next","error","complete"])?pe:{next:pe,error:K,complete:z},void 0===q.next&&(q.next=Rr),void 0===q.error&&(q.error=Rr),void 0===q.complete&&(q.complete=Rr);const Re=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?q.error(this.finalError):q.complete()}catch{}}),this.observers.push(q),Re}unsubscribeOne(pe){void 0===this.observers||void 0===this.observers[pe]||(delete this.observers[pe],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(pe){if(!this.finalized)for(let K=0;K<this.observers.length;K++)this.sendOne(K,pe)}sendOne(pe,K){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[pe])try{K(this.observers[pe])}catch(z){typeof console<"u"&&console.error&&console.error(z)}})}close(pe){this.finalized||(this.finalized=!0,void 0!==pe&&(this.finalError=pe),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Rr(){}const qn=function(et,pe,K,z){let q;if(z<pe?q="at least "+pe:z>K&&(q=0===K?"none":"no more than "+K),q)throw new Error(et+" failed: Was called with "+z+(1===z?" argument.":" arguments.")+" Expects "+q+".")};function br(et,pe){return`${et} failed: ${pe} argument `}function zn(et,pe,K,z){if((!z||K)&&"function"!=typeof K)throw new Error(br(et,pe)+"must be a valid function.")}function Rn(et,pe,K,z){if((!z||K)&&("object"!=typeof K||null===K))throw new Error(br(et,pe)+"must be a valid context object.")}const Fr=function(et){const pe=[];let K=0;for(let z=0;z<et.length;z++){let q=et.charCodeAt(z);if(q>=55296&&q<=56319){const Re=q-55296;z++,g(z<et.length,"Surrogate pair missing trail surrogate."),q=65536+(Re<<10)+(et.charCodeAt(z)-56320)}q<128?pe[K++]=q:q<2048?(pe[K++]=q>>6|192,pe[K++]=63&q|128):q<65536?(pe[K++]=q>>12|224,pe[K++]=q>>6&63|128,pe[K++]=63&q|128):(pe[K++]=q>>18|240,pe[K++]=q>>12&63|128,pe[K++]=q>>6&63|128,pe[K++]=63&q|128)}return pe},$n=function(et){let pe=0;for(let K=0;K<et.length;K++){const z=et.charCodeAt(K);z<128?pe++:z<2048?pe+=2:z>=55296&&z<=56319?(pe+=4,K++):pe+=3}return pe},Ee=1e3,Ye=2,Mt=144e5,Qt=.5;function hn(et,pe=Ee,K=Ye){const z=pe*Math.pow(K,et),q=Math.round(Qt*z*(Math.random()-.5)*2);return Math.min(Mt,z+q)}function sr(et){return et&&et._delegate?et._delegate:et}},8490:(vn,ft,k)=>{"use strict";k.d(ft,{V1:()=>Ce});var me,m=k(8261),g=(me=function(je,ge){return(me=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(ze,Ze){ze.__proto__=Ze}||function(ze,Ze){for(var yt in Ze)Object.prototype.hasOwnProperty.call(Ze,yt)&&(ze[yt]=Ze[yt])})(je,ge)},function(je,ge){function ze(){this.constructor=je}me(je,ge),je.prototype=null===ge?Object.create(ge):(ze.prototype=ge.prototype,new ze)}),Fe=function(me){function je(){var ge=null!==me&&me.apply(this,arguments)||this;return ge.DestinationType={DATA_URL:0,FILE_URI:1,NATIVE_URI:2},ge.EncodingType={JPEG:0,PNG:1},ge.MediaType={PICTURE:0,VIDEO:1,ALLMEDIA:2},ge.PictureSourceType={PHOTOLIBRARY:0,CAMERA:1,SAVEDPHOTOALBUM:2},ge.PopoverArrowDirection={ARROW_UP:1,ARROW_DOWN:2,ARROW_LEFT:4,ARROW_RIGHT:8,ARROW_ANY:15},ge.Direction={BACK:0,FRONT:1},ge}return g(je,me),je.prototype.getPicture=function(ge){return(0,m.DM)(this,"getPicture",{callbackOrder:"reverse"},arguments)},je.prototype.cleanup=function(){return(0,m.DM)(this,"cleanup",{platforms:["iOS"]},arguments)},je.pluginName="Camera",je.plugin="cordova-plugin-camera",je.pluginRef="navigator.camera",je.repo="https://github.com/apache/cordova-plugin-camera",je.platforms=["Android","Browser","iOS","Windows"],je}(m.KY),Ce=new Fe},8261:(vn,ft,k)=>{"use strict";k.d(ft,{KY:()=>st,DM:()=>Je,J2:()=>Et,Iq:()=>Tt});var g=k(9751),le=k(4968),_e={error:"cordova_not_available"},Le={error:"plugin_not_installed"};function Ne(fe){if(typeof window<"u"&&window.angular){var Ge=window.document,Qe=window.angular.element(Ge.querySelector("[ng-app]")||Ge.body).injector();if(Qe)return Qe.get("$q")(function(Be,We){fe(Be,We)});console.warn("Angular 1 was detected but $q couldn't be retrieved. This is usually when the app is not bootstrapped on the html or body tag. Falling back to native promises which won't trigger an automatic digest when promises resolve.")}return function(){if(Promise)return new Promise(function(Be,We){fe(Be,We)});console.error("No Promise support or polyfill found. To enable Ionic Native support, please add the es6-promise polyfill before this script, or run with a library like Angular or on a recent browser.")}()}function me(fe,Oe,Ge){var Qe,xe,Be;return"string"==typeof fe?Qe=fe:(Qe=fe.constructor.getPluginRef(),Ge=fe.constructor.getPluginName(),Be=fe.constructor.getPluginInstallName()),!(!(xe=yt(Qe))||Oe&&typeof xe[Oe]>"u")||(typeof window>"u"||!window.cordova?(function pt(fe,Oe){typeof process>"u"&&console.warn(Oe?"Native: tried calling "+fe+"."+Oe+", but Cordova is not available. Make sure to include cordova.js or run in a device/simulator":"Native: tried accessing the "+fe+" plugin but Cordova is not available. Make sure to include cordova.js or run in a device/simulator")}(Ge,Oe),_e):(function De(fe,Oe,Ge){console.warn(Ge?"Native: tried calling "+fe+"."+Ge+", but the "+fe+" plugin is not installed.":"Native: tried accessing the "+fe+" plugin but it's not installed."),Oe&&console.warn("Install the "+fe+" plugin: 'ionic cordova plugin add "+Oe+"'")}(Ge,Be,Oe),Le))}function ze(fe,Oe,Ge,Qe,xe,Be){void 0===Qe&&(Qe={}),Ge=function ge(fe,Oe,Ge,Qe){if(void 0===Oe&&(Oe={}),Oe.sync)return fe;if("reverse"===Oe.callbackOrder)fe.unshift(Qe),fe.unshift(Ge);else if("node"===Oe.callbackStyle)fe.push(function(vt,ht){vt?Qe(vt):Ge(ht)});else if("object"===Oe.callbackStyle&&Oe.successName&&Oe.errorName){var xe={};xe[Oe.successName]=Ge,xe[Oe.errorName]=Qe,fe.push(xe)}else if(typeof Oe.successIndex<"u"||typeof Oe.errorIndex<"u"){var Be=function(){Oe.successIndex>fe.length?fe[Oe.successIndex]=Ge:fe.splice(Oe.successIndex,0,Ge)},We=function(){Oe.errorIndex>fe.length?fe[Oe.errorIndex]=Qe:fe.splice(Oe.errorIndex,0,Qe)};Oe.successIndex>Oe.errorIndex?(We(),Be()):(Be(),We())}else fe.push(Ge),fe.push(Qe);return fe}(Ge,Qe,xe,Be);var We=me(fe,Oe);if(!0===We){var vt=yt(fe.constructor.getPluginRef());return vt[Oe].apply(vt,Ge)}return We}function yt(fe){return typeof window<"u"?Ae(window,fe):null}function Ae(fe,Oe){for(var Ge=Oe.split("."),Qe=fe,xe=0;xe<Ge.length;xe++){if(!Qe)return null;Qe=Qe[Ge[xe]]}return Qe}var ct=function(fe,Oe,Ge){return void 0===Ge&&(Ge={}),function(){for(var Qe=[],xe=0;xe<arguments.length;xe++)Qe[xe]=arguments[xe];return Ge.sync?ze(fe,Oe,Qe,Ge):Ge.observable?function Fe(fe,Oe,Ge,Qe){return void 0===Qe&&(Qe={}),new g.y(function(xe){var Be;return Be=Qe.destruct?ze(fe,Oe,Ge,Qe,function(){for(var We=[],vt=0;vt<arguments.length;vt++)We[vt]=arguments[vt];return xe.next(We)},function(){for(var We=[],vt=0;vt<arguments.length;vt++)We[vt]=arguments[vt];return xe.error(We)}):ze(fe,Oe,Ge,Qe,xe.next.bind(xe),xe.error.bind(xe)),Be&&Be.error&&(xe.error(Be.error),xe.complete()),function(){try{if(Qe.clearFunction)return Qe.clearWithArgs?ze(fe,Qe.clearFunction,Ge,Qe,xe.next.bind(xe),xe.error.bind(xe)):ze(fe,Qe.clearFunction,[])}catch(We){console.warn("Unable to clear the previous observable watch for",fe.constructor.getPluginName(),Oe),console.warn(We)}}})}(fe,Oe,Qe,Ge):Ge.eventObservable&&Ge.event?function Ce(fe,Oe){return Oe=typeof window<"u"&&Oe?Ae(window,Oe):Oe||(typeof window<"u"?window:{}),(0,le.R)(Oe,fe)}(Ge.event,Ge.element):Ge.otherPromise?function Ie(fe,Oe,Ge,Qe){return void 0===Qe&&(Qe={}),Ne(function(xe,Be){var We=ze(fe,Oe,Ge,Qe);We?We.error?Be(We.error):We.then&&We.then(xe).catch(Be):Be({error:"unexpected_error"})})}(fe,Oe,Qe,Ge):function he(fe,Oe,Ge,Qe){void 0===Qe&&(Qe={});var xe,Be,We=Ne(function(vt,ht){xe=Qe.destruct?ze(fe,Oe,Ge,Qe,function(){for(var Pt=[],ce=0;ce<arguments.length;ce++)Pt[ce]=arguments[ce];return vt(Pt)},function(){for(var Pt=[],ce=0;ce<arguments.length;ce++)Pt[ce]=arguments[ce];return ht(Pt)}):ze(fe,Oe,Ge,Qe,vt,ht),Be=ht});return xe&&xe.error&&(We.catch(function(){}),"function"==typeof Be&&Be(xe.error)),We}(fe,Oe,Qe,Ge)}},st=function(){function fe(){}return fe.installed=function(){return!0===me(this.pluginRef)},fe.getPlugin=function(){return typeof window<"u"?function it(fe,Oe){for(var Ge=Oe.split("."),Qe=fe,xe=0;xe<Ge.length;xe++){if(!Qe)return null;Qe=Qe[Ge[xe]]}return Qe}(window,this.pluginRef):null},fe.getPluginName=function(){return this.pluginName},fe.getPluginRef=function(){return this.pluginRef},fe.getPluginInstallName=function(){return this.plugin},fe.getSupportedPlatforms=function(){return this.platforms},fe.pluginName="",fe.pluginRef="",fe.plugin="",fe.repo="",fe.platforms=[],fe.install="",fe}();function Je(fe,Oe,Ge,Qe){return ct(fe,Oe,Ge).apply(this,Qe)}function Et(fe,Oe){return!0===me(fe,Oe)?yt(fe.constructor.getPluginRef())[Oe]:null}function Tt(fe,Oe,Ge){!0===me(fe,Oe)&&(yt(fe.constructor.getPluginRef())[Oe]=Ge)}!function m(){if(typeof process>"u"){var fe=typeof window<"u"?window:{},Ge=Date.now(),Qe=!1;fe.document.addEventListener("deviceready",function(){console.log("Ionic Native: deviceready event fired after "+(Date.now()-Ge)+" ms"),Qe=!0}),setTimeout(function(){!Qe&&fe.cordova&&console.warn("Ionic Native: deviceready did not fire within 5000ms. This can happen when plugins are in an inconsistent state. Try removing plugins from plugins/ and reinstalling them.")},5e3)}}()},9613:(vn,ft,k)=>{"use strict";k.d(ft,{c:()=>yt});var m=k(3577),g=k(3457);let le;const Le=Ae=>Ae.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Ne=Ae=>(void 0===le&&(le=void 0===Ae.style.animationName&&void 0!==Ae.style.webkitAnimationName?"-webkit-":""),le),he=(Ae,De,pt)=>{const ct=De.startsWith("animation")?Ne(Ae):"";Ae.style.setProperty(ct+De,pt)},Ie=(Ae,De)=>{const pt=De.startsWith("animation")?Ne(Ae):"";Ae.style.removeProperty(pt+De)},me=[],Ze=(Ae=[],De)=>{if(void 0!==De){const pt=Array.isArray(De)?De:[De];return[...Ae,...pt]}return Ae},yt=Ae=>{let De,pt,ct,qe,it,ut,ot,Be,We,vt,ht,xt,rt,st=[],Je=[],Ue=[],Ct=!1,Et={},Tt=[],fe=[],Oe={},Ge=0,Qe=!1,xe=!1,Pt=!0,ce=!1,cn=!0,Ft=!1;const qt=Ae,Cn=[],Mn=[],An=[],Lt=[],Tn=[],$t=[],tr=[],ir=[],fr=[],tn=[],_r="function"==typeof AnimationEffect||void 0!==g.w&&"function"==typeof g.w.AnimationEffect,cr="function"==typeof Element&&"function"==typeof Element.prototype.animate&&_r,kr=()=>tn,Mr=(oe,G)=>((null!=G&&G.oneTimeCallback?Mn:Cn).push({c:oe,o:G}),rt),qn=()=>{if(cr)tn.forEach(oe=>{oe.cancel()}),tn.length=0;else{const oe=An.slice();(0,m.r)(()=>{oe.forEach(G=>{Ie(G,"animation-name"),Ie(G,"animation-duration"),Ie(G,"animation-timing-function"),Ie(G,"animation-iteration-count"),Ie(G,"animation-delay"),Ie(G,"animation-play-state"),Ie(G,"animation-fill-mode"),Ie(G,"animation-direction")})})}},br=()=>{Tn.forEach(oe=>{null!=oe&&oe.parentNode&&oe.parentNode.removeChild(oe)}),Tn.length=0},Yn=()=>void 0!==it?it:ot?ot.getFill():"both",sr=()=>void 0!==We?We:void 0!==ut?ut:ot?ot.getDirection():"normal",et=()=>Qe?"linear":void 0!==ct?ct:ot?ot.getEasing():"linear",pe=()=>xe?0:void 0!==vt?vt:void 0!==pt?pt:ot?ot.getDuration():0,K=()=>void 0!==qe?qe:ot?ot.getIterations():1,z=()=>void 0!==ht?ht:void 0!==De?De:ot?ot.getDelay():0,jt=()=>{0!==Ge&&(Ge--,0===Ge&&((()=>{ws(),ir.forEach(nt=>nt()),fr.forEach(nt=>nt());const oe=Pt?1:0,G=Tt,ie=fe,He=Oe;An.forEach(nt=>{const gt=nt.classList;G.forEach(St=>gt.add(St)),ie.forEach(St=>gt.remove(St));for(const St in He)He.hasOwnProperty(St)&&he(nt,St,He[St])}),Cn.forEach(nt=>nt.c(oe,rt)),Mn.forEach(nt=>nt.c(oe,rt)),Mn.length=0,cn=!0,Pt&&(ce=!0),Pt=!0})(),ot&&ot.animationFinish()))},mn=(oe=!0)=>{br();const G=(Ae=>(Ae.forEach(De=>{for(const pt in De)if(De.hasOwnProperty(pt)){const ct=De[pt];if("easing"===pt)De["animation-timing-function"]=ct,delete De[pt];else{const qe=Le(pt);qe!==pt&&(De[qe]=ct,delete De[pt])}}}),Ae))(st);An.forEach(ie=>{if(G.length>0){const He=((Ae=[])=>Ae.map(De=>{const pt=De.offset,ct=[];for(const qe in De)De.hasOwnProperty(qe)&&"offset"!==qe&&ct.push(`${qe}: ${De[qe]};`);return`${100*pt}% { ${ct.join(" ")} }`}).join(" "))(G);xt=void 0!==Ae?Ae:(Ae=>{let De=me.indexOf(Ae);return De<0&&(De=me.push(Ae)-1),`ion-animation-${De}`})(He);const nt=((Ae,De,pt)=>{var ct;const qe=(Ae=>{const De=void 0!==Ae.getRootNode?Ae.getRootNode():Ae;return De.head||De})(pt),it=Ne(pt),ut=qe.querySelector("#"+Ae);if(ut)return ut;const st=(null!==(ct=pt.ownerDocument)&&void 0!==ct?ct:document).createElement("style");return st.id=Ae,st.textContent=`@${it}keyframes ${Ae} { ${De} } @${it}keyframes ${Ae}-alt { ${De} }`,qe.appendChild(st),st})(xt,He,ie);Tn.push(nt),he(ie,"animation-duration",`${pe()}ms`),he(ie,"animation-timing-function",et()),he(ie,"animation-delay",`${z()}ms`),he(ie,"animation-fill-mode",Yn()),he(ie,"animation-direction",sr());const gt=K()===1/0?"infinite":K().toString();he(ie,"animation-iteration-count",gt),he(ie,"animation-play-state","paused"),oe&&he(ie,"animation-name",`${nt.id}-alt`),(0,m.r)(()=>{he(ie,"animation-name",nt.id||null)})}})},nr=(oe=!0)=>{(()=>{$t.forEach(He=>He()),tr.forEach(He=>He());const oe=Je,G=Ue,ie=Et;An.forEach(He=>{const nt=He.classList;oe.forEach(gt=>nt.add(gt)),G.forEach(gt=>nt.remove(gt));for(const gt in ie)ie.hasOwnProperty(gt)&&he(He,gt,ie[gt])})})(),st.length>0&&(cr?(An.forEach(oe=>{const G=oe.animate(st,{id:qt,delay:z(),duration:pe(),easing:et(),iterations:K(),fill:Yn(),direction:sr()});G.pause(),tn.push(G)}),tn.length>0&&(tn[0].onfinish=()=>{jt()})):mn(oe)),Ct=!0},Qn=oe=>{if(oe=Math.min(Math.max(oe,0),.9999),cr)tn.forEach(G=>{G.currentTime=G.effect.getComputedTiming().delay+pe()*oe,G.pause()});else{const G=`-${pe()*oe}ms`;An.forEach(ie=>{st.length>0&&(he(ie,"animation-delay",G),he(ie,"animation-play-state","paused"))})}},Hr=oe=>{tn.forEach(G=>{G.effect.updateTiming({delay:z(),duration:pe(),easing:et(),iterations:K(),fill:Yn(),direction:sr()})}),void 0!==oe&&Qn(oe)},Lr=(oe=!0,G)=>{(0,m.r)(()=>{An.forEach(ie=>{he(ie,"animation-name",xt||null),he(ie,"animation-duration",`${pe()}ms`),he(ie,"animation-timing-function",et()),he(ie,"animation-delay",void 0!==G?`-${G*pe()}ms`:`${z()}ms`),he(ie,"animation-fill-mode",Yn()||null),he(ie,"animation-direction",sr()||null);const He=K()===1/0?"infinite":K().toString();he(ie,"animation-iteration-count",He),oe&&he(ie,"animation-name",`${xt}-alt`),(0,m.r)(()=>{he(ie,"animation-name",xt||null)})})})},or=(oe=!1,G=!0,ie)=>(oe&&Lt.forEach(He=>{He.update(oe,G,ie)}),cr?Hr(ie):Lr(G,ie),rt),Ji=()=>{Ct&&(cr?tn.forEach(oe=>{oe.pause()}):An.forEach(oe=>{he(oe,"animation-play-state","paused")}),Ft=!0)},oi=()=>{Be=void 0,jt()},ws=()=>{Be&&clearTimeout(Be)},ds=oe=>new Promise(G=>{null!=oe&&oe.sync&&(xe=!0,Mr(()=>xe=!1,{oneTimeCallback:!0})),Ct||nr(),ce&&(cr?(Qn(0),Hr()):Lr(),ce=!1),cn&&(Ge=Lt.length+1,cn=!1),Mr(()=>G(),{oneTimeCallback:!0}),Lt.forEach(ie=>{ie.play()}),cr?(tn.forEach(oe=>{oe.play()}),(0===st.length||0===An.length)&&jt()):(()=>{if(ws(),(0,m.r)(()=>{An.forEach(oe=>{st.length>0&&he(oe,"animation-play-state","running")})}),0===st.length||0===An.length)jt();else{const oe=z()||0,G=pe()||0,ie=K()||1;isFinite(ie)&&(Be=setTimeout(oi,oe+G*ie+100)),((Ae,De)=>{let pt;const ct={passive:!0},it=ut=>{Ae===ut.target&&(pt&&pt(),ws(),(0,m.r)(()=>{An.forEach(oe=>{Ie(oe,"animation-duration"),Ie(oe,"animation-delay"),Ie(oe,"animation-play-state")}),(0,m.r)(jt)}))};Ae&&(Ae.addEventListener("webkitAnimationEnd",it,ct),Ae.addEventListener("animationend",it,ct),pt=()=>{Ae.removeEventListener("webkitAnimationEnd",it,ct),Ae.removeEventListener("animationend",it,ct)})})(An[0])}})(),Ft=!1}),W=(oe,G)=>{const ie=st[0];return void 0===ie||void 0!==ie.offset&&0!==ie.offset?st=[{offset:0,[oe]:G},...st]:ie[oe]=G,rt};return rt={parentAnimation:ot,elements:An,childAnimations:Lt,id:qt,animationFinish:jt,from:W,to:(oe,G)=>{const ie=st[st.length-1];return void 0===ie||void 0!==ie.offset&&1!==ie.offset?st=[...st,{offset:1,[oe]:G}]:ie[oe]=G,rt},fromTo:(oe,G,ie)=>W(oe,G).to(oe,ie),parent:oe=>(ot=oe,rt),play:ds,pause:()=>(Lt.forEach(oe=>{oe.pause()}),Ji(),rt),stop:()=>{Lt.forEach(oe=>{oe.stop()}),Ct&&(qn(),Ct=!1),Qe=!1,xe=!1,cn=!0,We=void 0,vt=void 0,ht=void 0,Ge=0,ce=!1,Pt=!0,Ft=!1},destroy:oe=>(Lt.forEach(G=>{G.destroy(oe)}),(oe=>{qn(),oe&&br()})(oe),An.length=0,Lt.length=0,st.length=0,Cn.length=0,Mn.length=0,Ct=!1,cn=!0,rt),keyframes:oe=>{const G=st!==oe;return st=oe,G&&(oe=>{cr?kr().forEach(G=>{if(G.effect.setKeyframes)G.effect.setKeyframes(oe);else{const ie=new KeyframeEffect(G.effect.target,oe,G.effect.getTiming());G.effect=ie}}):mn()})(st),rt},addAnimation:oe=>{if(null!=oe)if(Array.isArray(oe))for(const G of oe)G.parent(rt),Lt.push(G);else oe.parent(rt),Lt.push(oe);return rt},addElement:oe=>{if(null!=oe)if(1===oe.nodeType)An.push(oe);else if(oe.length>=0)for(let G=0;G<oe.length;G++)An.push(oe[G]);else console.error("Invalid addElement value");return rt},update:or,fill:oe=>(it=oe,or(!0),rt),direction:oe=>(ut=oe,or(!0),rt),iterations:oe=>(qe=oe,or(!0),rt),duration:oe=>(!cr&&0===oe&&(oe=1),pt=oe,or(!0),rt),easing:oe=>(ct=oe,or(!0),rt),delay:oe=>(De=oe,or(!0),rt),getWebAnimations:kr,getKeyframes:()=>st,getFill:Yn,getDirection:sr,getDelay:z,getIterations:K,getEasing:et,getDuration:pe,afterAddRead:oe=>(ir.push(oe),rt),afterAddWrite:oe=>(fr.push(oe),rt),afterClearStyles:(oe=[])=>{for(const G of oe)Oe[G]="";return rt},afterStyles:(oe={})=>(Oe=oe,rt),afterRemoveClass:oe=>(fe=Ze(fe,oe),rt),afterAddClass:oe=>(Tt=Ze(Tt,oe),rt),beforeAddRead:oe=>($t.push(oe),rt),beforeAddWrite:oe=>(tr.push(oe),rt),beforeClearStyles:(oe=[])=>{for(const G of oe)Et[G]="";return rt},beforeStyles:(oe={})=>(Et=oe,rt),beforeRemoveClass:oe=>(Ue=Ze(Ue,oe),rt),beforeAddClass:oe=>(Je=Ze(Je,oe),rt),onFinish:Mr,isRunning:()=>0!==Ge&&!Ft,progressStart:(oe=!1,G)=>(Lt.forEach(ie=>{ie.progressStart(oe,G)}),Ji(),Qe=oe,Ct||nr(),or(!1,!0,G),rt),progressStep:oe=>(Lt.forEach(G=>{G.progressStep(oe)}),Qn(oe),rt),progressEnd:(oe,G,ie)=>(Qe=!1,Lt.forEach(He=>{He.progressEnd(oe,G,ie)}),void 0!==ie&&(vt=ie),ce=!1,Pt=!0,0===oe?(We="reverse"===sr()?"normal":"reverse","reverse"===We&&(Pt=!1),cr?(or(),Qn(1-G)):(ht=(1-G)*pe()*-1,or(!1,!1))):1===oe&&(cr?(or(),Qn(G)):(ht=G*pe()*-1,or(!1,!1))),void 0!==oe&&(Mr(()=>{vt=void 0,We=void 0,ht=void 0},{oneTimeCallback:!0}),ot||ds()),rt)}}},3982:(vn,ft,k)=>{"use strict";k.d(ft,{E:()=>Ce,a:()=>m,s:()=>Ie});const m=me=>{try{if(me instanceof he)return me.value;if(!_e()||"string"!=typeof me||""===me)return me;if(me.includes("onload="))return"";const je=document.createDocumentFragment(),ge=document.createElement("div");je.appendChild(ge),ge.innerHTML=me,Ne.forEach(Ae=>{const De=je.querySelectorAll(Ae);for(let pt=De.length-1;pt>=0;pt--){const ct=De[pt];ct.parentNode?ct.parentNode.removeChild(ct):je.removeChild(ct);const qe=le(ct);for(let it=0;it<qe.length;it++)g(qe[it])}});const ze=le(je);for(let Ae=0;Ae<ze.length;Ae++)g(ze[Ae]);const Ze=document.createElement("div");Ze.appendChild(je);const yt=Ze.querySelector("div");return null!==yt?yt.innerHTML:Ze.innerHTML}catch(je){return console.error(je),""}},g=me=>{if(me.nodeType&&1!==me.nodeType)return;if(typeof NamedNodeMap<"u"&&!(me.attributes instanceof NamedNodeMap))return void me.remove();for(let ge=me.attributes.length-1;ge>=0;ge--){const ze=me.attributes.item(ge),Ze=ze.name;if(!Le.includes(Ze.toLowerCase())){me.removeAttribute(Ze);continue}const yt=ze.value,Ae=me[Ze];(null!=yt&&yt.toLowerCase().includes("javascript:")||null!=Ae&&Ae.toLowerCase().includes("javascript:"))&&me.removeAttribute(Ze)}const je=le(me);for(let ge=0;ge<je.length;ge++)g(je[ge])},le=me=>null!=me.children?me.children:me.childNodes,_e=()=>{var me;const je=window,ge=null===(me=null==je?void 0:je.Ionic)||void 0===me?void 0:me.config;return!ge||(ge.get?ge.get("sanitizerEnabled",!0):!0===ge.sanitizerEnabled||void 0===ge.sanitizerEnabled)},Le=["class","id","href","src","name","slot"],Ne=["script","style","iframe","meta","link","object","embed"];class he{constructor(je){this.value=je}}const Ie=me=>{const je=window,ge=je.Ionic;if(!ge||!ge.config||"Object"===ge.config.constructor.name)return je.Ionic=je.Ionic||{},je.Ionic.config=Object.assign(Object.assign({},je.Ionic.config),me),je.Ionic.config},Ce=!1},6782:(vn,ft,k)=>{"use strict";k.d(ft,{C:()=>Le,a:()=>le,d:()=>_e});var m=k(5861),g=k(3577);const le=function(){var Ne=(0,m.Z)(function*(he,Ie,Fe,Ce,me,je){var ge;if(he)return he.attachViewToDom(Ie,Fe,me,Ce);if(!(je||"string"==typeof Fe||Fe instanceof HTMLElement))throw new Error("framework delegate is missing");const ze="string"==typeof Fe?null===(ge=Ie.ownerDocument)||void 0===ge?void 0:ge.createElement(Fe):Fe;return Ce&&Ce.forEach(Ze=>ze.classList.add(Ze)),me&&Object.assign(ze,me),Ie.appendChild(ze),yield new Promise(Ze=>(0,g.c)(ze,Ze)),ze});return function(Ie,Fe,Ce,me,je,ge){return Ne.apply(this,arguments)}}(),_e=(Ne,he)=>{if(he){if(Ne)return Ne.removeViewFromDom(he.parentElement,he);he.remove()}return Promise.resolve()},Le=()=>{let Ne,he;return{attachViewToDom:function(){var Ce=(0,m.Z)(function*(me,je,ge={},ze=[]){var Ze,yt;if(Ne=me,je){const De="string"==typeof je?null===(Ze=Ne.ownerDocument)||void 0===Ze?void 0:Ze.createElement(je):je;ze.forEach(pt=>De.classList.add(pt)),Object.assign(De,ge),Ne.appendChild(De),yield new Promise(pt=>(0,g.c)(De,pt))}else if(Ne.children.length>0&&("ION-MODAL"===Ne.tagName||"ION-POPOVER"===Ne.tagName)&&!Ne.children[0].classList.contains("ion-delegate-host")){const pt=null===(yt=Ne.ownerDocument)||void 0===yt?void 0:yt.createElement("div");pt.classList.add("ion-delegate-host"),ze.forEach(ct=>pt.classList.add(ct)),pt.append(...Ne.children),Ne.appendChild(pt)}const Ae=document.querySelector("ion-app")||document.body;return he=document.createComment("ionic teleport"),Ne.parentNode.insertBefore(he,Ne),Ae.appendChild(Ne),Ne});return function(je,ge){return Ce.apply(this,arguments)}}(),removeViewFromDom:()=>(Ne&&he&&(he.parentNode.insertBefore(Ne,he),he.remove()),Promise.resolve())}}},4349:(vn,ft,k)=>{"use strict";k.d(ft,{G:()=>Le});class g{constructor(he,Ie,Fe,Ce,me){this.id=Ie,this.name=Fe,this.disableScroll=me,this.priority=1e6*Ce+Ie,this.ctrl=he}canStart(){return!!this.ctrl&&this.ctrl.canStart(this.name)}start(){return!!this.ctrl&&this.ctrl.start(this.name,this.id,this.priority)}capture(){if(!this.ctrl)return!1;const he=this.ctrl.capture(this.name,this.id,this.priority);return he&&this.disableScroll&&this.ctrl.disableScroll(this.id),he}release(){this.ctrl&&(this.ctrl.release(this.id),this.disableScroll&&this.ctrl.enableScroll(this.id))}destroy(){this.release(),this.ctrl=void 0}}class le{constructor(he,Ie,Fe,Ce){this.id=Ie,this.disable=Fe,this.disableScroll=Ce,this.ctrl=he}block(){if(this.ctrl){if(this.disable)for(const he of this.disable)this.ctrl.disableGesture(he,this.id);this.disableScroll&&this.ctrl.disableScroll(this.id)}}unblock(){if(this.ctrl){if(this.disable)for(const he of this.disable)this.ctrl.enableGesture(he,this.id);this.disableScroll&&this.ctrl.enableScroll(this.id)}}destroy(){this.unblock(),this.ctrl=void 0}}const _e="backdrop-no-scroll",Le=new class m{constructor(){this.gestureId=0,this.requestedStart=new Map,this.disabledGestures=new Map,this.disabledScroll=new Set}createGesture(he){var Ie;return new g(this,this.newID(),he.name,null!==(Ie=he.priority)&&void 0!==Ie?Ie:0,!!he.disableScroll)}createBlocker(he={}){return new le(this,this.newID(),he.disable,!!he.disableScroll)}start(he,Ie,Fe){return this.canStart(he)?(this.requestedStart.set(Ie,Fe),!0):(this.requestedStart.delete(Ie),!1)}capture(he,Ie,Fe){if(!this.start(he,Ie,Fe))return!1;const Ce=this.requestedStart;let me=-1e4;if(Ce.forEach(je=>{me=Math.max(me,je)}),me===Fe){this.capturedId=Ie,Ce.clear();const je=new CustomEvent("ionGestureCaptured",{detail:{gestureName:he}});return document.dispatchEvent(je),!0}return Ce.delete(Ie),!1}release(he){this.requestedStart.delete(he),this.capturedId===he&&(this.capturedId=void 0)}disableGesture(he,Ie){let Fe=this.disabledGestures.get(he);void 0===Fe&&(Fe=new Set,this.disabledGestures.set(he,Fe)),Fe.add(Ie)}enableGesture(he,Ie){const Fe=this.disabledGestures.get(he);void 0!==Fe&&Fe.delete(Ie)}disableScroll(he){this.disabledScroll.add(he),1===this.disabledScroll.size&&document.body.classList.add(_e)}enableScroll(he){this.disabledScroll.delete(he),0===this.disabledScroll.size&&document.body.classList.remove(_e)}canStart(he){return!(void 0!==this.capturedId||this.isDisabled(he))}isCaptured(){return void 0!==this.capturedId}isScrollDisabled(){return this.disabledScroll.size>0}isDisabled(he){const Ie=this.disabledGestures.get(he);return!!(Ie&&Ie.size>0)}newID(){return this.gestureId++,this.gestureId}}},7593:(vn,ft,k)=>{"use strict";k.r(ft),k.d(ft,{MENU_BACK_BUTTON_PRIORITY:()=>Le,OVERLAY_BACK_BUTTON_PRIORITY:()=>_e,blockHardwareBackButton:()=>g,startHardwareBackButton:()=>le});var m=k(5861);const g=()=>{document.addEventListener("backbutton",()=>{})},le=()=>{const Ne=document;let he=!1;Ne.addEventListener("backbutton",()=>{if(he)return;let Ie=0,Fe=[];const Ce=new CustomEvent("ionBackButton",{bubbles:!1,detail:{register(ge,ze){Fe.push({priority:ge,handler:ze,id:Ie++})}}});Ne.dispatchEvent(Ce);const me=function(){var ge=(0,m.Z)(function*(ze){try{if(null!=ze&&ze.handler){const Ze=ze.handler(je);null!=Ze&&(yield Ze)}}catch(Ze){console.error(Ze)}});return function(Ze){return ge.apply(this,arguments)}}(),je=()=>{if(Fe.length>0){let ge={priority:Number.MIN_SAFE_INTEGER,handler:()=>{},id:-1};Fe.forEach(ze=>{ze.priority>=ge.priority&&(ge=ze)}),he=!0,Fe=Fe.filter(ze=>ze.id!==ge.id),me(ge).then(()=>he=!1)}};je()})},_e=100,Le=99},3577:(vn,ft,k)=>{"use strict";k.d(ft,{a:()=>Ie,b:()=>Fe,c:()=>le,d:()=>yt,e:()=>Ze,f:()=>ze,g:()=>Ce,h:()=>ge,i:()=>he,j:()=>it,k:()=>Le,l:()=>Ae,m:()=>_e,n:()=>je,o:()=>De,p:()=>ct,q:()=>qe,r:()=>me,s:()=>st,t:()=>m,u:()=>ut,v:()=>pt});const m=(Je,Ue=0)=>new Promise(Ct=>{g(Je,Ue,Ct)}),g=(Je,Ue=0,Ct)=>{let ot,Et;const Tt={passive:!0},Oe=()=>{ot&&ot()},Ge=Qe=>{(void 0===Qe||Je===Qe.target)&&(Oe(),Ct(Qe))};return Je&&(Je.addEventListener("webkitTransitionEnd",Ge,Tt),Je.addEventListener("transitionend",Ge,Tt),Et=setTimeout(Ge,Ue+500),ot=()=>{Et&&(clearTimeout(Et),Et=void 0),Je.removeEventListener("webkitTransitionEnd",Ge,Tt),Je.removeEventListener("transitionend",Ge,Tt)}),Oe},le=(Je,Ue)=>{Je.componentOnReady?Je.componentOnReady().then(Ct=>Ue(Ct)):me(()=>Ue(Je))},_e=Je=>void 0!==Je.componentOnReady,Le=(Je,Ue=[])=>{const Ct={};return Ue.forEach(ot=>{Je.hasAttribute(ot)&&(null!==Je.getAttribute(ot)&&(Ct[ot]=Je.getAttribute(ot)),Je.removeAttribute(ot))}),Ct},Ne=["role","aria-activedescendant","aria-atomic","aria-autocomplete","aria-braillelabel","aria-brailleroledescription","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colindextext","aria-colspan","aria-controls","aria-current","aria-describedby","aria-description","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowindextext","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext"],he=(Je,Ue)=>{let Ct=Ne;return Ue&&Ue.length>0&&(Ct=Ct.filter(ot=>!Ue.includes(ot))),Le(Je,Ct)},Ie=(Je,Ue,Ct,ot)=>{var Et;if(typeof window<"u"){const Tt=window,fe=null===(Et=null==Tt?void 0:Tt.Ionic)||void 0===Et?void 0:Et.config;if(fe){const Oe=fe.get("_ael");if(Oe)return Oe(Je,Ue,Ct,ot);if(fe._ael)return fe._ael(Je,Ue,Ct,ot)}}return Je.addEventListener(Ue,Ct,ot)},Fe=(Je,Ue,Ct,ot)=>{var Et;if(typeof window<"u"){const Tt=window,fe=null===(Et=null==Tt?void 0:Tt.Ionic)||void 0===Et?void 0:Et.config;if(fe){const Oe=fe.get("_rel");if(Oe)return Oe(Je,Ue,Ct,ot);if(fe._rel)return fe._rel(Je,Ue,Ct,ot)}}return Je.removeEventListener(Ue,Ct,ot)},Ce=(Je,Ue=Je)=>Je.shadowRoot||Ue,me=Je=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(Je):"function"==typeof requestAnimationFrame?requestAnimationFrame(Je):setTimeout(Je),je=Je=>!!Je.shadowRoot&&!!Je.attachShadow,ge=Je=>{const Ue=Je.closest("ion-item");return Ue?Ue.querySelector("ion-label"):null},ze=Je=>{if(Je.focus(),Je.classList.contains("ion-focusable")){const Ue=Je.closest("ion-app");Ue&&Ue.setFocus([Je])}},Ze=(Je,Ue)=>{let Ct;const ot=Je.getAttribute("aria-labelledby"),Et=Je.id;let Tt=null!==ot&&""!==ot.trim()?ot:Ue+"-lbl",fe=null!==ot&&""!==ot.trim()?document.getElementById(ot):ge(Je);return fe?(null===ot&&(fe.id=Tt),Ct=fe.textContent,fe.setAttribute("aria-hidden","true")):""!==Et.trim()&&(fe=document.querySelector(`label[for="${Et}"]`),fe&&(""!==fe.id?Tt=fe.id:fe.id=Tt=`${Et}-lbl`,Ct=fe.textContent)),{label:fe,labelId:Tt,labelText:Ct}},yt=(Je,Ue,Ct,ot,Et)=>{if(Je||je(Ue)){let Tt=Ue.querySelector("input.aux-input");Tt||(Tt=Ue.ownerDocument.createElement("input"),Tt.type="hidden",Tt.classList.add("aux-input"),Ue.appendChild(Tt)),Tt.disabled=Et,Tt.name=Ct,Tt.value=ot||""}},Ae=(Je,Ue,Ct)=>Math.max(Je,Math.min(Ue,Ct)),De=(Je,Ue)=>{if(!Je){const Ct="ASSERT: "+Ue;throw console.error(Ct),new Error(Ct)}},pt=Je=>Je.timeStamp||Date.now(),ct=Je=>{if(Je){const Ue=Je.changedTouches;if(Ue&&Ue.length>0){const Ct=Ue[0];return{x:Ct.clientX,y:Ct.clientY}}if(void 0!==Je.pageX)return{x:Je.pageX,y:Je.pageY}}return{x:0,y:0}},qe=Je=>{const Ue="rtl"===document.dir;switch(Je){case"start":return Ue;case"end":return!Ue;default:throw new Error(`"${Je}" is not a valid value for [side]. Use "start" or "end" instead.`)}},it=(Je,Ue)=>{const Ct=Je._original||Je;return{_original:Je,emit:ut(Ct.emit.bind(Ct),Ue)}},ut=(Je,Ue=0)=>{let Ct;return(...ot)=>{clearTimeout(Ct),Ct=setTimeout(Je,Ue,...ot)}},st=(Je,Ue)=>{if(null!=Je||(Je={}),null!=Ue||(Ue={}),Je===Ue)return!0;const Ct=Object.keys(Je);if(Ct.length!==Object.keys(Ue).length)return!1;for(const ot of Ct)if(!(ot in Ue)||Je[ot]!==Ue[ot])return!1;return!0}},3457:(vn,ft,k)=>{"use strict";k.d(ft,{w:()=>m});const m=typeof window<"u"?window:void 0},1898:(vn,ft,k)=>{"use strict";k.r(ft),k.d(ft,{GESTURE_CONTROLLER:()=>m.G,createGesture:()=>Fe});var m=k(4349);const g=(ge,ze,Ze,yt)=>{const Ae=le(ge)?{capture:!!yt.capture,passive:!!yt.passive}:!!yt.capture;let De,pt;return ge.__zone_symbol__addEventListener?(De="__zone_symbol__addEventListener",pt="__zone_symbol__removeEventListener"):(De="addEventListener",pt="removeEventListener"),ge[De](ze,Ze,Ae),()=>{ge[pt](ze,Ze,Ae)}},le=ge=>{if(void 0===_e)try{const ze=Object.defineProperty({},"passive",{get:()=>{_e=!0}});ge.addEventListener("optsTest",()=>{},ze)}catch{_e=!1}return!!_e};let _e;const he=ge=>ge instanceof Document?ge:ge.ownerDocument,Fe=ge=>{let ze=!1,Ze=!1,yt=!0,Ae=!1;const De=Object.assign({disableScroll:!1,direction:"x",gesturePriority:0,passive:!0,maxAngle:40,threshold:10},ge),pt=De.canStart,ct=De.onWillStart,qe=De.onStart,it=De.onEnd,ut=De.notCaptured,st=De.onMove,Je=De.threshold,Ue=De.passive,Ct=De.blurOnStart,ot={type:"pan",startX:0,startY:0,startTime:0,currentX:0,currentY:0,velocityX:0,velocityY:0,deltaX:0,deltaY:0,currentTime:0,event:void 0,data:void 0},Et=((ge,ze,Ze)=>{const yt=Ze*(Math.PI/180),Ae="x"===ge,De=Math.cos(yt),pt=ze*ze;let ct=0,qe=0,it=!1,ut=0;return{start(st,Je){ct=st,qe=Je,ut=0,it=!0},detect(st,Je){if(!it)return!1;const Ue=st-ct,Ct=Je-qe,ot=Ue*Ue+Ct*Ct;if(ot<pt)return!1;const Et=Math.sqrt(ot),Tt=(Ae?Ue:Ct)/Et;return ut=Tt>De?1:Tt<-De?-1:0,it=!1,!0},isGesture:()=>0!==ut,getDirection:()=>ut}})(De.direction,De.threshold,De.maxAngle),Tt=m.G.createGesture({name:ge.gestureName,priority:ge.gesturePriority,disableScroll:ge.disableScroll}),Ge=()=>{ze&&(Ae=!1,st&&st(ot))},Qe=()=>!!Tt.capture()&&(ze=!0,yt=!1,ot.startX=ot.currentX,ot.startY=ot.currentY,ot.startTime=ot.currentTime,ct?ct(ot).then(Be):Be(),!0),Be=()=>{Ct&&(()=>{if(typeof document<"u"){const ce=document.activeElement;null!=ce&&ce.blur&&ce.blur()}})(),qe&&qe(ot),yt=!0},We=()=>{ze=!1,Ze=!1,Ae=!1,yt=!0,Tt.release()},vt=ce=>{const cn=ze,xt=yt;if(We(),xt){if(Ce(ot,ce),cn)return void(it&&it(ot));ut&&ut(ot)}},ht=((ge,ze,Ze,yt,Ae)=>{let De,pt,ct,qe,it,ut,st,Je=0;const Ue=xe=>{Je=Date.now()+2e3,ze(xe)&&(!pt&&Ze&&(pt=g(ge,"touchmove",Ze,Ae)),ct||(ct=g(xe.target,"touchend",ot,Ae)),qe||(qe=g(xe.target,"touchcancel",ot,Ae)))},Ct=xe=>{Je>Date.now()||ze(xe)&&(!ut&&Ze&&(ut=g(he(ge),"mousemove",Ze,Ae)),st||(st=g(he(ge),"mouseup",Et,Ae)))},ot=xe=>{Tt(),yt&&yt(xe)},Et=xe=>{fe(),yt&&yt(xe)},Tt=()=>{pt&&pt(),ct&&ct(),qe&&qe(),pt=ct=qe=void 0},fe=()=>{ut&&ut(),st&&st(),ut=st=void 0},Oe=()=>{Tt(),fe()},Ge=(xe=!0)=>{xe?(De||(De=g(ge,"touchstart",Ue,Ae)),it||(it=g(ge,"mousedown",Ct,Ae))):(De&&De(),it&&it(),De=it=void 0,Oe())};return{enable:Ge,stop:Oe,destroy:()=>{Ge(!1),yt=Ze=ze=void 0}}})(De.el,ce=>{const cn=je(ce);return!(Ze||!yt||(me(ce,ot),ot.startX=ot.currentX,ot.startY=ot.currentY,ot.startTime=ot.currentTime=cn,ot.velocityX=ot.velocityY=ot.deltaX=ot.deltaY=0,ot.event=ce,pt&&!1===pt(ot))||(Tt.release(),!Tt.start()))&&(Ze=!0,0===Je?Qe():(Et.start(ot.startX,ot.startY),!0))},ce=>{ze?!Ae&&yt&&(Ae=!0,Ce(ot,ce),requestAnimationFrame(Ge)):(Ce(ot,ce),Et.detect(ot.currentX,ot.currentY)&&(!Et.isGesture()||!Qe())&&Pt())},vt,{capture:!1,passive:Ue}),Pt=()=>{We(),ht.stop(),ut&&ut(ot)};return{enable(ce=!0){ce||(ze&&vt(void 0),We()),ht.enable(ce)},destroy(){Tt.destroy(),ht.destroy()}}},Ce=(ge,ze)=>{if(!ze)return;const Ze=ge.currentX,yt=ge.currentY,Ae=ge.currentTime;me(ze,ge);const De=ge.currentX,pt=ge.currentY,qe=(ge.currentTime=je(ze))-Ae;if(qe>0&&qe<100){const ut=(pt-yt)/qe;ge.velocityX=(De-Ze)/qe*.7+.3*ge.velocityX,ge.velocityY=.7*ut+.3*ge.velocityY}ge.deltaX=De-ge.startX,ge.deltaY=pt-ge.startY,ge.event=ze},me=(ge,ze)=>{let Ze=0,yt=0;if(ge){const Ae=ge.changedTouches;if(Ae&&Ae.length>0){const De=Ae[0];Ze=De.clientX,yt=De.clientY}else void 0!==ge.pageX&&(Ze=ge.pageX,yt=ge.pageY)}ze.currentX=Ze,ze.currentY=yt},je=ge=>ge.timeStamp||Date.now()},4083:(vn,ft,k)=>{"use strict";k.d(ft,{B:()=>me,H:()=>Oe,a:()=>li,b:()=>_t,c:()=>ce,d:()=>Ft,e:()=>ds,f:()=>rt,g:()=>cn,h:()=>Tt,i:()=>hn,j:()=>je,p:()=>Ji,r:()=>wt,w:()=>Ps});var m=k(5861);let le,_e,Le,Ne=!1,he=!1,Ie=!1,Fe=!1,Ce=!1;const me={isDev:!1,isBrowser:!0,isServer:!1,isTesting:!1},je=W=>{const ee=new URL(W,dr.$resourcesUrl$);return ee.origin!==Lr.location.origin?ee.href:ee.pathname},pt="s-id",ct="sty-id",ut="http://www.w3.org/1999/xlink",st={},ot=W=>"object"==(W=typeof W)||"function"===W;function Et(W){var ee,ye,oe;return null!==(oe=null===(ye=null===(ee=W.head)||void 0===ee?void 0:ee.querySelector('meta[name="csp-nonce"]'))||void 0===ye?void 0:ye.getAttribute("content"))&&void 0!==oe?oe:void 0}const Tt=(W,ee,...ye)=>{let oe=null,G=null,ie=null,He=!1,nt=!1;const gt=[],St=En=>{for(let Wn=0;Wn<En.length;Wn++)oe=En[Wn],Array.isArray(oe)?St(oe):null!=oe&&"boolean"!=typeof oe&&((He="function"!=typeof W&&!ot(oe))&&(oe=String(oe)),He&&nt?gt[gt.length-1].$text$+=oe:gt.push(He?fe(null,oe):oe),nt=He)};if(St(ye),ee){ee.key&&(G=ee.key),ee.name&&(ie=ee.name);{const En=ee.className||ee.class;En&&(ee.class="object"!=typeof En?En:Object.keys(En).filter(Wn=>En[Wn]).join(" "))}}if("function"==typeof W)return W(null===ee?{}:ee,gt,Qe);const gn=fe(W,null);return gn.$attrs$=ee,gt.length>0&&(gn.$children$=gt),gn.$key$=G,gn.$name$=ie,gn},fe=(W,ee)=>({$flags$:0,$tag$:W,$text$:ee,$elm$:null,$children$:null,$attrs$:null,$key$:null,$name$:null}),Oe={},Qe={forEach:(W,ee)=>W.map(xe).forEach(ee),map:(W,ee)=>W.map(xe).map(ee).map(Be)},xe=W=>({vattrs:W.$attrs$,vchildren:W.$children$,vkey:W.$key$,vname:W.$name$,vtag:W.$tag$,vtext:W.$text$}),Be=W=>{if("function"==typeof W.vtag){const ye=Object.assign({},W.vattrs);return W.vkey&&(ye.key=W.vkey),W.vname&&(ye.name=W.vname),Tt(W.vtag,ye,...W.vchildren||[])}const ee=fe(W.vtag,W.vtext);return ee.$attrs$=W.vattrs,ee.$children$=W.vchildren,ee.$key$=W.vkey,ee.$name$=W.vname,ee},vt=(W,ee,ye,oe,G,ie,He)=>{let nt,gt,St,gn;if(1===ie.nodeType){for(nt=ie.getAttribute("c-id"),nt&&(gt=nt.split("."),(gt[0]===He||"0"===gt[0])&&(St={$flags$:0,$hostId$:gt[0],$nodeId$:gt[1],$depth$:gt[2],$index$:gt[3],$tag$:ie.tagName.toLowerCase(),$elm$:ie,$attrs$:null,$children$:null,$key$:null,$name$:null,$text$:null},ee.push(St),ie.removeAttribute("c-id"),W.$children$||(W.$children$=[]),W.$children$[St.$index$]=St,W=St,oe&&"0"===St.$depth$&&(oe[St.$index$]=St.$elm$))),gn=ie.childNodes.length-1;gn>=0;gn--)vt(W,ee,ye,oe,G,ie.childNodes[gn],He);if(ie.shadowRoot)for(gn=ie.shadowRoot.childNodes.length-1;gn>=0;gn--)vt(W,ee,ye,oe,G,ie.shadowRoot.childNodes[gn],He)}else if(8===ie.nodeType)gt=ie.nodeValue.split("."),(gt[1]===He||"0"===gt[1])&&(nt=gt[0],St={$flags$:0,$hostId$:gt[1],$nodeId$:gt[2],$depth$:gt[3],$index$:gt[4],$elm$:ie,$attrs$:null,$children$:null,$key$:null,$name$:null,$tag$:null,$text$:null},"t"===nt?(St.$elm$=ie.nextSibling,St.$elm$&&3===St.$elm$.nodeType&&(St.$text$=St.$elm$.textContent,ee.push(St),ie.remove(),W.$children$||(W.$children$=[]),W.$children$[St.$index$]=St,oe&&"0"===St.$depth$&&(oe[St.$index$]=St.$elm$))):St.$hostId$===He&&("s"===nt?(St.$tag$="slot",ie["s-sn"]=gt[5]?St.$name$=gt[5]:"",ie["s-sr"]=!0,oe&&(St.$elm$=or.createElement(St.$tag$),St.$name$&&St.$elm$.setAttribute("name",St.$name$),ie.parentNode.insertBefore(St.$elm$,ie),ie.remove(),"0"===St.$depth$&&(oe[St.$index$]=St.$elm$)),ye.push(St),W.$children$||(W.$children$=[]),W.$children$[St.$index$]=St):"r"===nt&&(oe?ie.remove():(G["s-cr"]=ie,ie["s-cn"]=!0))));else if(W&&"style"===W.$tag$){const En=fe(null,ie.textContent);En.$elm$=ie,En.$index$="0",W.$children$=[En]}},ht=(W,ee)=>{if(1===W.nodeType){let ye=0;for(;ye<W.childNodes.length;ye++)ht(W.childNodes[ye],ee);if(W.shadowRoot)for(ye=0;ye<W.shadowRoot.childNodes.length;ye++)ht(W.shadowRoot.childNodes[ye],ee)}else if(8===W.nodeType){const ye=W.nodeValue.split(".");"o"===ye[0]&&(ee.set(ye[1]+"."+ye[2],W),W.nodeValue="",W["s-en"]=ye[3])}},ce=W=>Hr.push(W),cn=W=>an(W).$modeName$,rt=W=>an(W).$hostElement$,Ft=(W,ee,ye)=>{const oe=rt(W);return{emit:G=>qt(oe,ee,{bubbles:!!(4&ye),composed:!!(2&ye),cancelable:!!(1&ye),detail:G})}},qt=(W,ee,ye)=>{const oe=dr.ce(ee,ye);return W.dispatchEvent(oe),oe},Cn=new WeakMap,Mn=(W,ee,ye)=>{let oe=Qn.get(W);Ti&&ye?(oe=oe||new CSSStyleSheet,"string"==typeof oe?oe=ee:oe.replaceSync(ee)):oe=ee,Qn.set(W,oe)},An=(W,ee,ye,oe)=>{var G;let ie=Tn(ee,ye);const He=Qn.get(ie);if(W=11===W.nodeType?W:or,He)if("string"==typeof He){let gt,nt=Cn.get(W=W.head||W);if(nt||Cn.set(W,nt=new Set),!nt.has(ie)){if(W.host&&(gt=W.querySelector(`[${ct}="${ie}"]`)))gt.innerHTML=He;else{gt=or.createElement("style"),gt.innerHTML=He;const St=null!==(G=dr.$nonce$)&&void 0!==G?G:Et(or);null!=St&&gt.setAttribute("nonce",St),W.insertBefore(gt,W.querySelector("link"))}nt&&nt.add(ie)}}else W.adoptedStyleSheets.includes(He)||(W.adoptedStyleSheets=[...W.adoptedStyleSheets,He]);return ie},Tn=(W,ee)=>"sc-"+(ee&&32&W.$flags$?W.$tagName$+"-"+ee:W.$tagName$),$t=W=>W.replace(/\/\*!@([^\/]+)\*\/[^\{]+\{/g,"$1{"),tr=(W,ee,ye,oe,G,ie)=>{if(ye!==oe){let He=jt(W,ee),nt=ee.toLowerCase();if("class"===ee){const gt=W.classList,St=fr(ye),gn=fr(oe);gt.remove(...St.filter(En=>En&&!gn.includes(En))),gt.add(...gn.filter(En=>En&&!St.includes(En)))}else if("style"===ee){for(const gt in ye)(!oe||null==oe[gt])&&(gt.includes("-")?W.style.removeProperty(gt):W.style[gt]="");for(const gt in oe)(!ye||oe[gt]!==ye[gt])&&(gt.includes("-")?W.style.setProperty(gt,oe[gt]):W.style[gt]=oe[gt])}else if("key"!==ee)if("ref"===ee)oe&&oe(W);else if(He||"o"!==ee[0]||"n"!==ee[1]){const gt=ot(oe);if((He||gt&&null!==oe)&&!G)try{if(W.tagName.includes("-"))W[ee]=oe;else{const gn=null==oe?"":oe;"list"===ee?He=!1:(null==ye||W[ee]!=gn)&&(W[ee]=gn)}}catch{}let St=!1;nt!==(nt=nt.replace(/^xlink\:?/,""))&&(ee=nt,St=!0),null==oe||!1===oe?(!1!==oe||""===W.getAttribute(ee))&&(St?W.removeAttributeNS(ut,ee):W.removeAttribute(ee)):(!He||4&ie||G)&&!gt&&(oe=!0===oe?"":oe,St?W.setAttributeNS(ut,ee,oe):W.setAttribute(ee,oe))}else ee="-"===ee[2]?ee.slice(3):jt(Lr,nt)?nt.slice(2):nt[2]+ee.slice(3),ye&&dr.rel(W,ee,ye,!1),oe&&dr.ael(W,ee,oe,!1)}},ir=/\s/,fr=W=>W?W.split(ir):[],tn=(W,ee,ye,oe)=>{const G=11===ee.$elm$.nodeType&&ee.$elm$.host?ee.$elm$.host:ee.$elm$,ie=W&&W.$attrs$||st,He=ee.$attrs$||st;for(oe in ie)oe in He||tr(G,oe,ie[oe],void 0,ye,ee.$flags$);for(oe in He)tr(G,oe,ie[oe],He[oe],ye,ee.$flags$)},_r=(W,ee,ye,oe)=>{const G=ee.$children$[ye];let He,nt,gt,ie=0;if(Ne||(Ie=!0,"slot"===G.$tag$&&(le&&oe.classList.add(le+"-s"),G.$flags$|=G.$children$?2:1)),null!==G.$text$)He=G.$elm$=or.createTextNode(G.$text$);else if(1&G.$flags$)He=G.$elm$=or.createTextNode("");else{if(Fe||(Fe="svg"===G.$tag$),He=G.$elm$=or.createElementNS(Fe?"http://www.w3.org/2000/svg":"http://www.w3.org/1999/xhtml",2&G.$flags$?"slot-fb":G.$tag$),Fe&&"foreignObject"===G.$tag$&&(Fe=!1),tn(null,G,Fe),(W=>null!=W)(le)&&He["s-si"]!==le&&He.classList.add(He["s-si"]=le),G.$children$)for(ie=0;ie<G.$children$.length;++ie)nt=_r(W,G,ie,He),nt&&He.appendChild(nt);"svg"===G.$tag$?Fe=!1:"foreignObject"===He.tagName&&(Fe=!0)}return He["s-hn"]=Le,3&G.$flags$&&(He["s-sr"]=!0,He["s-cr"]=_e,He["s-sn"]=G.$name$||"",gt=W&&W.$children$&&W.$children$[ye],gt&&gt.$tag$===G.$tag$&&W.$elm$&&cr(W.$elm$,!1)),He},cr=(W,ee)=>{dr.$flags$|=1;const ye=W.childNodes;for(let oe=ye.length-1;oe>=0;oe--){const G=ye[oe];G["s-hn"]!==Le&&G["s-ol"]&&(Vn(G).insertBefore(G,dn(G)),G["s-ol"].remove(),G["s-ol"]=void 0,Ie=!0),ee&&cr(G,ee)}dr.$flags$&=-2},Sn=(W,ee,ye,oe,G,ie)=>{let nt,He=W["s-cr"]&&W["s-cr"].parentNode||W;for(He.shadowRoot&&He.tagName===Le&&(He=He.shadowRoot);G<=ie;++G)oe[G]&&(nt=_r(null,ye,G,W),nt&&(oe[G].$elm$=nt,He.insertBefore(nt,dn(ee))))},kr=(W,ee,ye)=>{for(let oe=ee;oe<=ye;++oe){const G=W[oe];if(G){const ie=G.$elm$;zn(G),ie&&(he=!0,ie["s-ol"]?ie["s-ol"].remove():cr(ie,!0),ie.remove())}}},wn=(W,ee)=>W.$tag$===ee.$tag$&&("slot"===W.$tag$?W.$name$===ee.$name$:W.$key$===ee.$key$),dn=W=>W&&W["s-ol"]||W,Vn=W=>(W["s-ol"]?W["s-ol"]:W).parentNode,Mr=(W,ee)=>{const ye=ee.$elm$=W.$elm$,oe=W.$children$,G=ee.$children$,ie=ee.$tag$,He=ee.$text$;let nt;null===He?(Fe="svg"===ie||"foreignObject"!==ie&&Fe,"slot"===ie||tn(W,ee,Fe),null!==oe&&null!==G?((W,ee,ye,oe)=>{let Ci,ii,G=0,ie=0,He=0,nt=0,gt=ee.length-1,St=ee[0],gn=ee[gt],En=oe.length-1,Wn=oe[0],vr=oe[En];for(;G<=gt&&ie<=En;)if(null==St)St=ee[++G];else if(null==gn)gn=ee[--gt];else if(null==Wn)Wn=oe[++ie];else if(null==vr)vr=oe[--En];else if(wn(St,Wn))Mr(St,Wn),St=ee[++G],Wn=oe[++ie];else if(wn(gn,vr))Mr(gn,vr),gn=ee[--gt],vr=oe[--En];else if(wn(St,vr))("slot"===St.$tag$||"slot"===vr.$tag$)&&cr(St.$elm$.parentNode,!1),Mr(St,vr),W.insertBefore(St.$elm$,gn.$elm$.nextSibling),St=ee[++G],vr=oe[--En];else if(wn(gn,Wn))("slot"===St.$tag$||"slot"===vr.$tag$)&&cr(gn.$elm$.parentNode,!1),Mr(gn,Wn),W.insertBefore(gn.$elm$,St.$elm$),gn=ee[--gt],Wn=oe[++ie];else{for(He=-1,nt=G;nt<=gt;++nt)if(ee[nt]&&null!==ee[nt].$key$&&ee[nt].$key$===Wn.$key$){He=nt;break}He>=0?(ii=ee[He],ii.$tag$!==Wn.$tag$?Ci=_r(ee&&ee[ie],ye,He,W):(Mr(ii,Wn),ee[He]=void 0,Ci=ii.$elm$),Wn=oe[++ie]):(Ci=_r(ee&&ee[ie],ye,ie,W),Wn=oe[++ie]),Ci&&Vn(St.$elm$).insertBefore(Ci,dn(St.$elm$))}G>gt?Sn(W,null==oe[En+1]?null:oe[En+1].$elm$,ye,oe,ie,En):ie>En&&kr(ee,G,gt)})(ye,oe,ee,G):null!==G?(null!==W.$text$&&(ye.textContent=""),Sn(ye,null,ee,G,0,G.length-1)):null!==oe&&kr(oe,0,oe.length-1),Fe&&"svg"===ie&&(Fe=!1)):(nt=ye["s-cr"])?nt.parentNode.textContent=He:W.$text$!==He&&(ye.data=He)},Rr=W=>{const ee=W.childNodes;let ye,oe,G,ie,He,nt;for(oe=0,G=ee.length;oe<G;oe++)if(ye=ee[oe],1===ye.nodeType){if(ye["s-sr"])for(He=ye["s-sn"],ye.hidden=!1,ie=0;ie<G;ie++)if(nt=ee[ie].nodeType,ee[ie]["s-hn"]!==ye["s-hn"]||""!==He){if(1===nt&&He===ee[ie].getAttribute("slot")){ye.hidden=!0;break}}else if(1===nt||3===nt&&""!==ee[ie].textContent.trim()){ye.hidden=!0;break}Rr(ye)}},qn=[],br=W=>{let ee,ye,oe,G,ie,He,nt=0;const gt=W.childNodes,St=gt.length;for(;nt<St;nt++){if(ee=gt[nt],ee["s-sr"]&&(ye=ee["s-cr"])&&ye.parentNode)for(oe=ye.parentNode.childNodes,G=ee["s-sn"],He=oe.length-1;He>=0;He--)ye=oe[He],!ye["s-cn"]&&!ye["s-nr"]&&ye["s-hn"]!==ee["s-hn"]&&(Dr(ye,G)?(ie=qn.find(gn=>gn.$nodeToRelocate$===ye),he=!0,ye["s-sn"]=ye["s-sn"]||G,ie?ie.$slotRefNode$=ee:qn.push({$slotRefNode$:ee,$nodeToRelocate$:ye}),ye["s-sr"]&&qn.map(gn=>{Dr(gn.$nodeToRelocate$,ye["s-sn"])&&(ie=qn.find(En=>En.$nodeToRelocate$===ye),ie&&!gn.$slotRefNode$&&(gn.$slotRefNode$=ie.$slotRefNode$))})):qn.some(gn=>gn.$nodeToRelocate$===ye)||qn.push({$nodeToRelocate$:ye}));1===ee.nodeType&&br(ee)}},Dr=(W,ee)=>1===W.nodeType?null===W.getAttribute("slot")&&""===ee||W.getAttribute("slot")===ee:W["s-sn"]===ee||""===ee,zn=W=>{W.$attrs$&&W.$attrs$.ref&&W.$attrs$.ref(null),W.$children$&&W.$children$.map(zn)},Fr=(W,ee)=>{ee&&!W.$onRenderResolve$&&ee["s-p"]&&ee["s-p"].push(new Promise(ye=>W.$onRenderResolve$=ye))},$n=(W,ee)=>{if(W.$flags$|=16,!(4&W.$flags$))return Fr(W,W.$ancestorComponent$),Ps(()=>Ht(W,ee));W.$flags$|=512},Ht=(W,ee)=>{const oe=W.$lazyInstance$;let G;return ee&&(W.$flags$|=256,W.$queuedListeners$&&(W.$queuedListeners$.map(([ie,He])=>Yn(oe,ie,He)),W.$queuedListeners$=null),G=Yn(oe,"componentWillLoad")),G=Ee(G,()=>Yn(oe,"componentWillRender")),Ee(G,()=>Ye(W,oe,ee))},Ee=(W,ee)=>W instanceof Promise?W.then(ee):ee(),Ye=function(){var W=(0,m.Z)(function*(ee,ye,oe){const G=ee.$hostElement$,He=G["s-rc"];oe&&(W=>{const ee=W.$cmpMeta$,ye=W.$hostElement$,oe=ee.$flags$,ie=An(ye.shadowRoot?ye.shadowRoot:ye.getRootNode(),ee,W.$modeName$);10&oe&&(ye["s-sc"]=ie,ye.classList.add(ie+"-h"),2&oe&&ye.classList.add(ie+"-s"))})(ee);Mt(ee,ye),He&&(He.map(gt=>gt()),G["s-rc"]=void 0);{const gt=G["s-p"],St=()=>Qt(ee);0===gt.length?St():(Promise.all(gt).then(St),ee.$flags$|=4,gt.length=0)}});return function(ye,oe,G){return W.apply(this,arguments)}}(),Mt=(W,ee,ye)=>{try{ee=ee.render&&ee.render(),W.$flags$&=-17,W.$flags$|=2,((W,ee)=>{const ye=W.$hostElement$,oe=W.$cmpMeta$,G=W.$vnode$||fe(null,null),ie=(W=>W&&W.$tag$===Oe)(ee)?ee:Tt(null,null,ee);if(Le=ye.tagName,oe.$attrsToReflect$&&(ie.$attrs$=ie.$attrs$||{},oe.$attrsToReflect$.map(([He,nt])=>ie.$attrs$[nt]=ye[He])),ie.$tag$=null,ie.$flags$|=4,W.$vnode$=ie,ie.$elm$=G.$elm$=ye.shadowRoot||ye,le=ye["s-sc"],_e=ye["s-cr"],Ne=0!=(1&oe.$flags$),he=!1,Mr(G,ie),dr.$flags$|=1,Ie){br(ie.$elm$);let He,nt,gt,St,gn,En,Wn=0;for(;Wn<qn.length;Wn++)He=qn[Wn],nt=He.$nodeToRelocate$,nt["s-ol"]||(gt=or.createTextNode(""),gt["s-nr"]=nt,nt.parentNode.insertBefore(nt["s-ol"]=gt,nt));for(Wn=0;Wn<qn.length;Wn++)if(He=qn[Wn],nt=He.$nodeToRelocate$,He.$slotRefNode$){for(St=He.$slotRefNode$.parentNode,gn=He.$slotRefNode$.nextSibling,gt=nt["s-ol"];gt=gt.previousSibling;)if(En=gt["s-nr"],En&&En["s-sn"]===nt["s-sn"]&&St===En.parentNode&&(En=En.nextSibling,!En||!En["s-nr"])){gn=En;break}(!gn&&St!==nt.parentNode||nt.nextSibling!==gn)&&nt!==gn&&(!nt["s-hn"]&&nt["s-ol"]&&(nt["s-hn"]=nt["s-ol"].parentNode.nodeName),St.insertBefore(nt,gn))}else 1===nt.nodeType&&(nt.hidden=!0)}he&&Rr(ie.$elm$),dr.$flags$&=-2,qn.length=0})(W,ee)}catch(oe){mn(oe,W.$hostElement$)}return null},Qt=W=>{const ye=W.$hostElement$,G=W.$lazyInstance$,ie=W.$ancestorComponent$;Yn(G,"componentDidRender"),64&W.$flags$?Yn(G,"componentDidUpdate"):(W.$flags$|=64,sr(ye),Yn(G,"componentDidLoad"),W.$onReadyResolve$(ye),ie||Tr()),W.$onInstanceResolve$(ye),W.$onRenderResolve$&&(W.$onRenderResolve$(),W.$onRenderResolve$=void 0),512&W.$flags$&&rs(()=>$n(W,!1)),W.$flags$&=-517},hn=W=>{{const ee=an(W),ye=ee.$hostElement$.isConnected;return ye&&2==(18&ee.$flags$)&&$n(ee,!1),ye}},Tr=W=>{sr(or.documentElement),rs(()=>qt(Lr,"appload",{detail:{namespace:"ionic"}}))},Yn=(W,ee,ye)=>{if(W&&W[ee])try{return W[ee](ye)}catch(oe){mn(oe)}},sr=W=>W.classList.add("hydrated"),K=(W,ee,ye)=>{if(ee.$members$){W.watchers&&(ee.$watchers$=W.watchers);const oe=Object.entries(ee.$members$),G=W.prototype;if(oe.map(([ie,[He]])=>{31&He||2&ye&&32&He?Object.defineProperty(G,ie,{get(){return((W,ee)=>an(this).$instanceValues$.get(ee))(0,ie)},set(nt){((W,ee,ye,oe)=>{const G=an(W),ie=G.$hostElement$,He=G.$instanceValues$.get(ee),nt=G.$flags$,gt=G.$lazyInstance$;ye=((W,ee)=>null==W||ot(W)?W:4&ee?"false"!==W&&(""===W||!!W):2&ee?parseFloat(W):1&ee?String(W):W)(ye,oe.$members$[ee][0]);const St=Number.isNaN(He)&&Number.isNaN(ye);if((!(8&nt)||void 0===He)&&ye!==He&&!St&&(G.$instanceValues$.set(ee,ye),gt)){if(oe.$watchers$&&128&nt){const En=oe.$watchers$[ee];En&&En.map(Wn=>{try{gt[Wn](ye,He,ee)}catch(vr){mn(vr,ie)}})}2==(18&nt)&&$n(G,!1)}})(this,ie,nt,ee)},configurable:!0,enumerable:!0}):1&ye&&64&He&&Object.defineProperty(G,ie,{value(...nt){const gt=an(this);return gt.$onInstancePromise$.then(()=>gt.$lazyInstance$[ie](...nt))}})}),1&ye){const ie=new Map;G.attributeChangedCallback=function(He,nt,gt){dr.jmp(()=>{const St=ie.get(He);if(this.hasOwnProperty(St))gt=this[St],delete this[St];else if(G.hasOwnProperty(St)&&"number"==typeof this[St]&&this[St]==gt)return;this[St]=(null!==gt||"boolean"!=typeof this[St])&&gt})},W.observedAttributes=oe.filter(([He,nt])=>15&nt[0]).map(([He,nt])=>{const gt=nt[1]||He;return ie.set(gt,He),512&nt[0]&&ee.$attrsToReflect$.push([He,gt]),gt})}}return W},z=function(){var W=(0,m.Z)(function*(ee,ye,oe,G,ie){if(!(32&ye.$flags$)){ye.$flags$|=32;{if((ie=nr(oe)).then){const St=()=>{};ie=yield ie,St()}ie.isProxied||(oe.$watchers$=ie.watchers,K(ie,oe,2),ie.isProxied=!0);const gt=()=>{};ye.$flags$|=8;try{new ie(ye)}catch(St){mn(St)}ye.$flags$&=-9,ye.$flags$|=128,gt(),q(ye.$lazyInstance$)}if(ie.style){let gt=ie.style;"string"!=typeof gt&&(gt=gt[ye.$modeName$=(W=>Hr.map(ee=>ee(W)).find(ee=>!!ee))(ee)]);const St=Tn(oe,ye.$modeName$);if(!Qn.has(St)){const gn=()=>{};Mn(St,gt,!!(1&oe.$flags$)),gn()}}}const He=ye.$ancestorComponent$,nt=()=>$n(ye,!0);He&&He["s-rc"]?He["s-rc"].push(nt):nt()});return function(ye,oe,G,ie,He){return W.apply(this,arguments)}}(),q=W=>{Yn(W,"connectedCallback")},lt=W=>{const ee=W["s-cr"]=or.createComment("");ee["s-cn"]=!0,W.insertBefore(ee,W.firstChild)},_t=(W,ee={})=>{var ye;const G=[],ie=ee.exclude||[],He=Lr.customElements,nt=or.head,gt=nt.querySelector("meta[charset]"),St=or.createElement("style"),gn=[],En=or.querySelectorAll(`[${ct}]`);let Wn,vr=!0,Ci=0;for(Object.assign(dr,ee),dr.$resourcesUrl$=new URL(ee.resourcesUrl||"./",or.baseURI).href,dr.$flags$|=2;Ci<En.length;Ci++)Mn(En[Ci].getAttribute(ct),$t(En[Ci].innerHTML),!0);W.map(ii=>{ii[1].map(qi=>{const qr={$flags$:qi[0],$tagName$:qi[1],$members$:qi[2],$listeners$:qi[3]};qr.$members$=qi[2],qr.$listeners$=qi[3],qr.$attrsToReflect$=[],qr.$watchers$={};const Dn=qr.$tagName$,Er=class extends HTMLElement{constructor(Yr){super(Yr),bt(Yr=this,qr),1&qr.$flags$&&Yr.attachShadow({mode:"open",delegatesFocus:!!(16&qr.$flags$)})}connectedCallback(){Wn&&(clearTimeout(Wn),Wn=null),vr?gn.push(this):dr.jmp(()=>(W=>{if(!(1&dr.$flags$)){const ee=an(W),ye=ee.$cmpMeta$,oe=()=>{};if(1&ee.$flags$)Rt(W,ee,ye.$listeners$),q(ee.$lazyInstance$);else{let G;if(ee.$flags$|=1,G=W.getAttribute(pt),G){if(1&ye.$flags$){const ie=An(W.shadowRoot,ye,W.getAttribute("s-mode"));W.classList.remove(ie+"-h",ie+"-s")}((W,ee,ye,oe)=>{const ie=W.shadowRoot,He=[],gt=ie?[]:null,St=oe.$vnode$=fe(ee,null);dr.$orgLocNodes$||ht(or.body,dr.$orgLocNodes$=new Map),W[pt]=ye,W.removeAttribute(pt),vt(St,He,[],gt,W,W,ye),He.map(gn=>{const En=gn.$hostId$+"."+gn.$nodeId$,Wn=dr.$orgLocNodes$.get(En),vr=gn.$elm$;Wn&&xs&&""===Wn["s-en"]&&Wn.parentNode.insertBefore(vr,Wn.nextSibling),ie||(vr["s-hn"]=ee,Wn&&(vr["s-ol"]=Wn,vr["s-ol"]["s-nr"]=vr)),dr.$orgLocNodes$.delete(En)}),ie&&gt.map(gn=>{gn&&ie.appendChild(gn)})})(W,ye.$tagName$,G,ee)}G||12&ye.$flags$&&lt(W);{let ie=W;for(;ie=ie.parentNode||ie.host;)if(1===ie.nodeType&&ie.hasAttribute("s-id")&&ie["s-p"]||ie["s-p"]){Fr(ee,ee.$ancestorComponent$=ie);break}}ye.$members$&&Object.entries(ye.$members$).map(([ie,[He]])=>{if(31&He&&W.hasOwnProperty(ie)){const nt=W[ie];delete W[ie],W[ie]=nt}}),z(W,ee,ye)}oe()}})(this))}disconnectedCallback(){dr.jmp(()=>(W=>{if(!(1&dr.$flags$)){const ee=an(this),ye=ee.$lazyInstance$;ee.$rmListeners$&&(ee.$rmListeners$.map(oe=>oe()),ee.$rmListeners$=void 0),Yn(ye,"disconnectedCallback")}})())}componentOnReady(){return an(this).$onReadyPromise$}};qr.$lazyBundleId$=ii[0],!ie.includes(Dn)&&!He.get(Dn)&&(G.push(Dn),He.define(Dn,K(Er,qr,1)))})});{St.innerHTML=G+"{visibility:hidden}.hydrated{visibility:inherit}",St.setAttribute("data-styles","");const ii=null!==(ye=dr.$nonce$)&&void 0!==ye?ye:Et(or);null!=ii&&St.setAttribute("nonce",ii),nt.insertBefore(St,gt?gt.nextSibling:nt.firstChild)}vr=!1,gn.length?gn.map(ii=>ii.connectedCallback()):dr.jmp(()=>Wn=setTimeout(Tr,30))},Rt=(W,ee,ye,oe)=>{ye&&ye.map(([G,ie,He])=>{const nt=Wt(W,G),gt=Zt(ee,He),St=fn(G);dr.ael(nt,ie,gt,St),(ee.$rmListeners$=ee.$rmListeners$||[]).push(()=>dr.rel(nt,ie,gt,St))})},Zt=(W,ee)=>ye=>{try{256&W.$flags$?W.$lazyInstance$[ee](ye):(W.$queuedListeners$=W.$queuedListeners$||[]).push([ee,ye])}catch(oe){mn(oe)}},Wt=(W,ee)=>4&ee?or:8&ee?Lr:16&ee?or.body:W,fn=W=>0!=(2&W),Kt=new WeakMap,an=W=>Kt.get(W),wt=(W,ee)=>Kt.set(ee.$lazyInstance$=W,ee),bt=(W,ee)=>{const ye={$flags$:0,$hostElement$:W,$cmpMeta$:ee,$instanceValues$:new Map};return ye.$onInstancePromise$=new Promise(oe=>ye.$onInstanceResolve$=oe),ye.$onReadyPromise$=new Promise(oe=>ye.$onReadyResolve$=oe),W["s-p"]=[],W["s-rc"]=[],Rt(W,ye,ee.$listeners$),Kt.set(W,ye)},jt=(W,ee)=>ee in W,mn=(W,ee)=>(0,console.error)(W,ee),Nn=new Map,nr=(W,ee,ye)=>{const oe=W.$tagName$.replace(/-/g,"_"),G=W.$lazyBundleId$,ie=Nn.get(G);return ie?ie[oe]:k(863)(`./${G}.entry.js`).then(He=>(Nn.set(G,He),He[oe]),mn)},Qn=new Map,Hr=[],Lr=typeof window<"u"?window:{},or=Lr.document||{head:{}},dr={$flags$:0,$resourcesUrl$:"",jmp:W=>W(),raf:W=>requestAnimationFrame(W),ael:(W,ee,ye,oe)=>W.addEventListener(ee,ye,oe),rel:(W,ee,ye,oe)=>W.removeEventListener(ee,ye,oe),ce:(W,ee)=>new CustomEvent(W,ee)},li=W=>{Object.assign(dr,W)},xs=!0,Ji=W=>Promise.resolve(W),Ti=(()=>{try{return new CSSStyleSheet,"function"==typeof(new CSSStyleSheet).replaceSync}catch{}return!1})(),oi=[],ws=[],_i=(W,ee)=>ye=>{W.push(ye),Ce||(Ce=!0,ee&&4&dr.$flags$?rs(es):dr.raf(es))},Qr=W=>{for(let ee=0;ee<W.length;ee++)try{W[ee](performance.now())}catch(ye){mn(ye)}W.length=0},es=()=>{Qr(oi),Qr(ws),(Ce=oi.length>0)&&dr.raf(es)},rs=W=>Ji().then(W),ds=_i(oi,!1),Ps=_i(ws,!0)},8126:(vn,ft,k)=>{"use strict";k.d(ft,{m:()=>me});var m=k(5861),g=k(7593),le=k(3577),_e=k(5273),Le=k(9613);const Ne=je=>(0,Le.c)().duration(je?400:300),he=je=>{let ge,ze;const Ze=je.width+8,yt=(0,Le.c)(),Ae=(0,Le.c)();je.isEndSide?(ge=Ze+"px",ze="0px"):(ge=-Ze+"px",ze="0px"),yt.addElement(je.menuInnerEl).fromTo("transform",`translateX(${ge})`,`translateX(${ze})`);const pt="ios"===(0,_e.b)(je),ct=pt?.2:.25;return Ae.addElement(je.backdropEl).fromTo("opacity",.01,ct),Ne(pt).addAnimation([yt,Ae])},Ie=je=>{let ge,ze;const Ze=(0,_e.b)(je),yt=je.width;je.isEndSide?(ge=-yt+"px",ze=yt+"px"):(ge=yt+"px",ze=-yt+"px");const Ae=(0,Le.c)().addElement(je.menuInnerEl).fromTo("transform",`translateX(${ze})`,"translateX(0px)"),De=(0,Le.c)().addElement(je.contentEl).fromTo("transform","translateX(0px)",`translateX(${ge})`),pt=(0,Le.c)().addElement(je.backdropEl).fromTo("opacity",.01,.32);return Ne("ios"===Ze).addAnimation([Ae,De,pt])},Fe=je=>{const ge=(0,_e.b)(je),ze=je.width*(je.isEndSide?-1:1)+"px",Ze=(0,Le.c)().addElement(je.contentEl).fromTo("transform","translateX(0px)",`translateX(${ze})`);return Ne("ios"===ge).addAnimation(Ze)},me=(()=>{const je=new Map,ge=[],ze=function(){var Be=(0,m.Z)(function*(We){const vt=yield qe(We);return!!vt&&vt.open()});return function(vt){return Be.apply(this,arguments)}}(),Ze=function(){var Be=(0,m.Z)(function*(We){const vt=yield void 0!==We?qe(We):it();return void 0!==vt&&vt.close()});return function(vt){return Be.apply(this,arguments)}}(),yt=function(){var Be=(0,m.Z)(function*(We){const vt=yield qe(We);return!!vt&&vt.toggle()});return function(vt){return Be.apply(this,arguments)}}(),Ae=function(){var Be=(0,m.Z)(function*(We,vt){const ht=yield qe(vt);return ht&&(ht.disabled=!We),ht});return function(vt,ht){return Be.apply(this,arguments)}}(),De=function(){var Be=(0,m.Z)(function*(We,vt){const ht=yield qe(vt);return ht&&(ht.swipeGesture=We),ht});return function(vt,ht){return Be.apply(this,arguments)}}(),pt=function(){var Be=(0,m.Z)(function*(We){if(null!=We){const vt=yield qe(We);return void 0!==vt&&vt.isOpen()}return void 0!==(yield it())});return function(vt){return Be.apply(this,arguments)}}(),ct=function(){var Be=(0,m.Z)(function*(We){const vt=yield qe(We);return!!vt&&!vt.disabled});return function(vt){return Be.apply(this,arguments)}}(),qe=function(){var Be=(0,m.Z)(function*(We){return yield xe(),"start"===We||"end"===We?Qe(Pt=>Pt.side===We&&!Pt.disabled)||Qe(Pt=>Pt.side===We):null!=We?Qe(ht=>ht.menuId===We):Qe(ht=>!ht.disabled)||(ge.length>0?ge[0].el:void 0)});return function(vt){return Be.apply(this,arguments)}}(),it=function(){var Be=(0,m.Z)(function*(){return yield xe(),fe()});return function(){return Be.apply(this,arguments)}}(),ut=function(){var Be=(0,m.Z)(function*(){return yield xe(),Oe()});return function(){return Be.apply(this,arguments)}}(),st=function(){var Be=(0,m.Z)(function*(){return yield xe(),Ge()});return function(){return Be.apply(this,arguments)}}(),Je=(Be,We)=>{je.set(Be,We)},ot=Be=>{const We=Be.side;ge.filter(vt=>vt.side===We&&vt!==Be).forEach(vt=>vt.disabled=!0)},Et=function(){var Be=(0,m.Z)(function*(We,vt,ht){if(Ge())return!1;if(vt){const Pt=yield it();Pt&&We.el!==Pt&&(yield Pt.setOpen(!1,!1))}return We._setOpen(vt,ht)});return function(vt,ht,Pt){return Be.apply(this,arguments)}}(),fe=()=>Qe(Be=>Be._isOpen),Oe=()=>ge.map(Be=>Be.el),Ge=()=>ge.some(Be=>Be.isAnimating),Qe=Be=>{const We=ge.find(Be);if(void 0!==We)return We.el},xe=()=>Promise.all(Array.from(document.querySelectorAll("ion-menu")).map(Be=>new Promise(We=>(0,le.c)(Be,We))));return Je("reveal",Fe),Je("push",Ie),Je("overlay",he),typeof document<"u"&&document.addEventListener("ionBackButton",Be=>{const We=fe();We&&Be.detail.register(g.MENU_BACK_BUTTON_PRIORITY,()=>We.close())}),{registerAnimation:Je,get:qe,getMenus:ut,getOpen:it,isEnabled:ct,swipeGesture:De,isAnimating:st,isOpen:pt,enable:Ae,toggle:yt,close:Ze,open:ze,_getOpenSync:fe,_createAnimation:(Be,We)=>{const vt=je.get(Be);if(!vt)throw new Error("animation not registered");return vt(We)},_register:Be=>{ge.indexOf(Be)<0&&(Be.disabled||ot(Be),ge.push(Be))},_unregister:Be=>{const We=ge.indexOf(Be);We>-1&&ge.splice(We,1)},_setOpen:Et,_setActiveMenu:ot}})()},1178:(vn,ft,k)=>{"use strict";k.d(ft,{a:()=>g,b:()=>le,p:()=>m});const m=(_e,...Le)=>console.warn(`[Ionic Warning]: ${_e}`,...Le),g=(_e,...Le)=>console.error(`[Ionic Error]: ${_e}`,...Le),le=(_e,...Le)=>console.error(`<${_e.tagName.toLowerCase()}> must be used inside ${Le.join(" or ")}.`)},9866:(vn,ft,k)=>{"use strict";k.d(ft,{L:()=>_e,a:()=>Le,b:()=>Ne,c:()=>he,d:()=>Ie,e:()=>st,g:()=>Ct,l:()=>ut,s:()=>Je,t:()=>me});var m=k(5861),g=k(4083),le=k(3577);const _e="ionViewWillEnter",Le="ionViewDidEnter",Ne="ionViewWillLeave",he="ionViewDidLeave",Ie="ionViewWillUnload",me=ot=>new Promise((Et,Tt)=>{(0,g.w)(()=>{je(ot),ge(ot).then(fe=>{fe.animation&&fe.animation.destroy(),ze(ot),Et(fe)},fe=>{ze(ot),Tt(fe)})})}),je=ot=>{const Et=ot.enteringEl,Tt=ot.leavingEl;Ue(Et,Tt,ot.direction),ot.showGoBack?Et.classList.add("can-go-back"):Et.classList.remove("can-go-back"),Je(Et,!1),Et.style.setProperty("pointer-events","none"),Tt&&(Je(Tt,!1),Tt.style.setProperty("pointer-events","none"))},ge=function(){var ot=(0,m.Z)(function*(Et){const Tt=yield Ze(Et);return Tt&&g.B.isBrowser?yt(Tt,Et):Ae(Et)});return function(Tt){return ot.apply(this,arguments)}}(),ze=ot=>{const Et=ot.enteringEl,Tt=ot.leavingEl;Et.classList.remove("ion-page-invisible"),Et.style.removeProperty("pointer-events"),void 0!==Tt&&(Tt.classList.remove("ion-page-invisible"),Tt.style.removeProperty("pointer-events"))},Ze=function(){var ot=(0,m.Z)(function*(Et){return Et.leavingEl&&Et.animated&&0!==Et.duration?Et.animationBuilder?Et.animationBuilder:"ios"===Et.mode?(yield Promise.resolve().then(k.bind(k,3551))).iosTransitionAnimation:(yield Promise.resolve().then(k.bind(k,1138))).mdTransitionAnimation:void 0});return function(Tt){return ot.apply(this,arguments)}}(),yt=function(){var ot=(0,m.Z)(function*(Et,Tt){yield De(Tt,!0);const fe=Et(Tt.baseEl,Tt);qe(Tt.enteringEl,Tt.leavingEl);const Oe=yield ct(fe,Tt);return Tt.progressCallback&&Tt.progressCallback(void 0),Oe&&it(Tt.enteringEl,Tt.leavingEl),{hasCompleted:Oe,animation:fe}});return function(Tt,fe){return ot.apply(this,arguments)}}(),Ae=function(){var ot=(0,m.Z)(function*(Et){const Tt=Et.enteringEl,fe=Et.leavingEl;return yield De(Et,!1),qe(Tt,fe),it(Tt,fe),{hasCompleted:!0}});return function(Tt){return ot.apply(this,arguments)}}(),De=function(){var ot=(0,m.Z)(function*(Et,Tt){(void 0!==Et.deepWait?Et.deepWait:Tt)&&(yield Promise.all([st(Et.enteringEl),st(Et.leavingEl)])),yield pt(Et.viewIsReady,Et.enteringEl)});return function(Tt,fe){return ot.apply(this,arguments)}}(),pt=function(){var ot=(0,m.Z)(function*(Et,Tt){Et&&(yield Et(Tt))});return function(Tt,fe){return ot.apply(this,arguments)}}(),ct=(ot,Et)=>{const Tt=Et.progressCallback,fe=new Promise(Oe=>{ot.onFinish(Ge=>Oe(1===Ge))});return Tt?(ot.progressStart(!0),Tt(ot)):ot.play(),fe},qe=(ot,Et)=>{ut(Et,Ne),ut(ot,_e)},it=(ot,Et)=>{ut(ot,Le),ut(Et,he)},ut=(ot,Et)=>{if(ot){const Tt=new CustomEvent(Et,{bubbles:!1,cancelable:!1});ot.dispatchEvent(Tt)}},st=function(){var ot=(0,m.Z)(function*(Et){const Tt=Et;if(Tt){if(null!=Tt.componentOnReady){if(null!=(yield Tt.componentOnReady()))return}else if(null!=Tt.__registerHost)return void(yield new Promise(Oe=>(0,le.r)(Oe)));yield Promise.all(Array.from(Tt.children).map(st))}});return function(Tt){return ot.apply(this,arguments)}}(),Je=(ot,Et)=>{Et?(ot.setAttribute("aria-hidden","true"),ot.classList.add("ion-page-hidden")):(ot.hidden=!1,ot.removeAttribute("aria-hidden"),ot.classList.remove("ion-page-hidden"))},Ue=(ot,Et,Tt)=>{void 0!==ot&&(ot.style.zIndex="back"===Tt?"99":"101"),void 0!==Et&&(Et.style.zIndex="100")},Ct=ot=>ot.classList.contains("ion-page")?ot:ot.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")||ot},5273:(vn,ft,k)=>{"use strict";k.d(ft,{a:()=>me,b:()=>Ge,c:()=>le,g:()=>Ce,i:()=>Qe});var m=k(4083);class g{constructor(){this.m=new Map}reset(Be){this.m=new Map(Object.entries(Be))}get(Be,We){const vt=this.m.get(Be);return void 0!==vt?vt:We}getBoolean(Be,We=!1){const vt=this.m.get(Be);return void 0===vt?We:"string"==typeof vt?"true"===vt:!!vt}getNumber(Be,We){const vt=parseFloat(this.m.get(Be));return isNaN(vt)?void 0!==We?We:NaN:vt}set(Be,We){this.m.set(Be,We)}}const le=new g,Fe="ionic-persist-config",Ce=xe=>je(xe),me=(xe,Be)=>("string"==typeof xe&&(Be=xe,xe=void 0),Ce(xe).includes(Be)),je=(xe=window)=>{if(typeof xe>"u")return[];xe.Ionic=xe.Ionic||{};let Be=xe.Ionic.platforms;return null==Be&&(Be=xe.Ionic.platforms=ge(xe),Be.forEach(We=>xe.document.documentElement.classList.add(`plt-${We}`))),Be},ge=xe=>{const Be=le.get("platform");return Object.keys(fe).filter(We=>{const vt=null==Be?void 0:Be[We];return"function"==typeof vt?vt(xe):fe[We](xe)})},Ze=xe=>!!(Et(xe,/iPad/i)||Et(xe,/Macintosh/i)&&it(xe)),De=xe=>Et(xe,/android|sink/i),it=xe=>Tt(xe,"(any-pointer:coarse)"),st=xe=>Je(xe)||Ue(xe),Je=xe=>!!(xe.cordova||xe.phonegap||xe.PhoneGap),Ue=xe=>{const Be=xe.Capacitor;return!(null==Be||!Be.isNative)},Et=(xe,Be)=>Be.test(xe.navigator.userAgent),Tt=(xe,Be)=>{var We;return null===(We=xe.matchMedia)||void 0===We?void 0:We.call(xe,Be).matches},fe={ipad:Ze,iphone:xe=>Et(xe,/iPhone/i),ios:xe=>Et(xe,/iPhone|iPod/i)||Ze(xe),android:De,phablet:xe=>{const Be=xe.innerWidth,We=xe.innerHeight,vt=Math.min(Be,We),ht=Math.max(Be,We);return vt>390&&vt<520&&ht>620&&ht<800},tablet:xe=>{const Be=xe.innerWidth,We=xe.innerHeight,vt=Math.min(Be,We),ht=Math.max(Be,We);return Ze(xe)||(xe=>De(xe)&&!Et(xe,/mobile/i))(xe)||vt>460&&vt<820&&ht>780&&ht<1400},cordova:Je,capacitor:Ue,electron:xe=>Et(xe,/electron/i),pwa:xe=>{var Be;return!!(null!==(Be=xe.matchMedia)&&void 0!==Be&&Be.call(xe,"(display-mode: standalone)").matches||xe.navigator.standalone)},mobile:it,mobileweb:xe=>it(xe)&&!st(xe),desktop:xe=>!it(xe),hybrid:st};let Oe;const Ge=xe=>xe&&(0,m.g)(xe)||Oe,Qe=(xe={})=>{if(typeof window>"u")return;const Be=window.document,We=window,vt=We.Ionic=We.Ionic||{},ht={};xe._ael&&(ht.ael=xe._ael),xe._rel&&(ht.rel=xe._rel),xe._ce&&(ht.ce=xe._ce),(0,m.a)(ht);const Pt=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},(xe=>{try{const Be=xe.sessionStorage.getItem(Fe);return null!==Be?JSON.parse(Be):{}}catch{return{}}})(We)),{persistConfig:!1}),vt.config),(xe=>{const Be={};return xe.location.search.slice(1).split("&").map(We=>We.split("=")).map(([We,vt])=>[decodeURIComponent(We),decodeURIComponent(vt)]).filter(([We])=>((xe,Be)=>xe.substr(0,Be.length)===Be)(We,"ionic:")).map(([We,vt])=>[We.slice(6),vt]).forEach(([We,vt])=>{Be[We]=vt}),Be})(We)),xe);le.reset(Pt),le.getBoolean("persistConfig")&&((xe,Be)=>{try{xe.sessionStorage.setItem(Fe,JSON.stringify(Be))}catch{return}})(We,Pt),je(We),vt.config=le,vt.mode=Oe=le.get("mode",Be.documentElement.getAttribute("mode")||(me(We,"ios")?"ios":"md")),le.set("mode",Oe),Be.documentElement.setAttribute("mode",Oe),Be.documentElement.classList.add(Oe),le.getBoolean("_testing")&&le.set("animated",!1);const ce=xt=>{var rt;return null===(rt=xt.tagName)||void 0===rt?void 0:rt.startsWith("ION-")},cn=xt=>["ios","md"].includes(xt);(0,m.c)(xt=>{for(;xt;){const rt=xt.mode||xt.getAttribute("mode");if(rt){if(cn(rt))return rt;ce(xt)&&console.warn('Invalid ionic mode: "'+rt+'", expected: "ios" or "md"')}xt=xt.parentElement}return Oe})}},3551:(vn,ft,k)=>{"use strict";k.r(ft),k.d(ft,{iosTransitionAnimation:()=>ge,shadow:()=>he});var m=k(9613),g=k(9866);k(3457),k(4083);const Ne=ze=>document.querySelector(`${ze}.ion-cloned-element`),he=ze=>ze.shadowRoot||ze,Ie=ze=>{const Ze="ION-TABS"===ze.tagName?ze:ze.querySelector("ion-tabs"),yt="ion-content ion-header:not(.header-collapse-condense-inactive) ion-title.title-large";if(null!=Ze){const Ae=Ze.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");return null!=Ae?Ae.querySelector(yt):null}return ze.querySelector(yt)},Fe=(ze,Ze)=>{const yt="ION-TABS"===ze.tagName?ze:ze.querySelector("ion-tabs");let Ae=[];if(null!=yt){const De=yt.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");null!=De&&(Ae=De.querySelectorAll("ion-buttons"))}else Ae=ze.querySelectorAll("ion-buttons");for(const De of Ae){const pt=De.closest("ion-header"),ct=pt&&!pt.classList.contains("header-collapse-condense-inactive"),qe=De.querySelector("ion-back-button"),it=De.classList.contains("buttons-collapse");if(null!==qe&&("start"===De.slot||""===De.slot)&&(it&&ct&&Ze||!it))return qe}return null},me=(ze,Ze,yt,Ae,De,pt)=>{const ct=Ze?`calc(100% - ${pt.right+4}px)`:pt.left-4+"px",qe=Ze?"7px":"-7px",it=Ze?"-4px":"4px",ut=Ze?"-4px":"4px",st=Ze?"right":"left",Je=Ze?"left":"right",ot=yt?[{offset:0,opacity:1,transform:`translate3d(${it}, ${pt.top-46}px, 0) scale(1)`},{offset:.6,opacity:0},{offset:1,opacity:0,transform:`translate3d(${qe}, ${De.top-40}px, 0) scale(2.1)`}]:[{offset:0,opacity:0,transform:`translate3d(${qe}, ${De.top-40}px, 0) scale(2.1)`},{offset:1,opacity:1,transform:`translate3d(${it}, ${pt.top-46}px, 0) scale(1)`}],fe=yt?[{offset:0,opacity:1,transform:`translate3d(${ut}, ${pt.top-46}px, 0) scale(1)`},{offset:.2,opacity:0,transform:`translate3d(${ut}, ${pt.top-41}px, 0) scale(0.6)`},{offset:1,opacity:0,transform:`translate3d(${ut}, ${pt.top-41}px, 0) scale(0.6)`}]:[{offset:0,opacity:0,transform:`translate3d(${ut}, ${pt.top-41}px, 0) scale(0.6)`},{offset:1,opacity:1,transform:`translate3d(${ut}, ${pt.top-46}px, 0) scale(1)`}],Oe=(0,m.c)(),Ge=(0,m.c)(),Qe=Ne("ion-back-button"),xe=he(Qe).querySelector(".button-text"),Be=he(Qe).querySelector("ion-icon");Qe.text=Ae.text,Qe.mode=Ae.mode,Qe.icon=Ae.icon,Qe.color=Ae.color,Qe.disabled=Ae.disabled,Qe.style.setProperty("display","block"),Qe.style.setProperty("position","fixed"),Ge.addElement(Be),Oe.addElement(xe),Oe.beforeStyles({"transform-origin":`${st} center`}).beforeAddWrite(()=>{Ae.style.setProperty("display","none"),Qe.style.setProperty(st,ct)}).afterAddWrite(()=>{Ae.style.setProperty("display",""),Qe.style.setProperty("display","none"),Qe.style.removeProperty(st)}).keyframes(ot),Ge.beforeStyles({"transform-origin":`${Je} center`}).keyframes(fe),ze.addAnimation([Oe,Ge])},je=(ze,Ze,yt,Ae,De,pt)=>{const ct=Ze?`calc(100% - ${De.right}px)`:`${De.left}px`,qe=Ze?"-18px":"18px",it=Ze?"right":"left",Je=yt?[{offset:0,opacity:0,transform:`translate3d(${qe}, ${pt.top-4}px, 0) scale(0.49)`},{offset:.1,opacity:0},{offset:1,opacity:1,transform:`translate3d(0, ${De.top-2}px, 0) scale(1)`}]:[{offset:0,opacity:.99,transform:`translate3d(0, ${De.top-2}px, 0) scale(1)`},{offset:.6,opacity:0},{offset:1,opacity:0,transform:`translate3d(${qe}, ${pt.top-4}px, 0) scale(0.5)`}],Ue=Ne("ion-title"),Ct=(0,m.c)();Ue.innerText=Ae.innerText,Ue.size=Ae.size,Ue.color=Ae.color,Ct.addElement(Ue),Ct.beforeStyles({"transform-origin":`${it} center`,height:"46px",display:"",position:"relative",[it]:ct}).beforeAddWrite(()=>{Ae.style.setProperty("display","none")}).afterAddWrite(()=>{Ae.style.setProperty("display",""),Ue.style.setProperty("display","none")}).keyframes(Je),ze.addAnimation(Ct)},ge=(ze,Ze)=>{var yt;try{const Ae="cubic-bezier(0.32,0.72,0,1)",De="opacity",pt="transform",ct="0%",it="rtl"===ze.ownerDocument.dir,ut=it?"-99.5%":"99.5%",st=it?"33%":"-33%",Je=Ze.enteringEl,Ue=Ze.leavingEl,Ct="back"===Ze.direction,ot=Je.querySelector(":scope > ion-content"),Et=Je.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *"),Tt=Je.querySelectorAll(":scope > ion-header > ion-toolbar"),fe=(0,m.c)(),Oe=(0,m.c)();if(fe.addElement(Je).duration((null!==(yt=Ze.duration)&&void 0!==yt?yt:0)||540).easing(Ze.easing||Ae).fill("both").beforeRemoveClass("ion-page-invisible"),Ue&&null!=ze){const Be=(0,m.c)();Be.addElement(ze),fe.addAnimation(Be)}if(ot||0!==Tt.length||0!==Et.length?(Oe.addElement(ot),Oe.addElement(Et)):Oe.addElement(Je.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),fe.addAnimation(Oe),Ct?Oe.beforeClearStyles([De]).fromTo("transform",`translateX(${st})`,`translateX(${ct})`).fromTo(De,.8,1):Oe.beforeClearStyles([De]).fromTo("transform",`translateX(${ut})`,`translateX(${ct})`),ot){const Be=he(ot).querySelector(".transition-effect");if(Be){const We=Be.querySelector(".transition-cover"),vt=Be.querySelector(".transition-shadow"),ht=(0,m.c)(),Pt=(0,m.c)(),ce=(0,m.c)();ht.addElement(Be).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),Pt.addElement(We).beforeClearStyles([De]).fromTo(De,0,.1),ce.addElement(vt).beforeClearStyles([De]).fromTo(De,.03,.7),ht.addAnimation([Pt,ce]),Oe.addAnimation([ht])}}const Ge=Je.querySelector("ion-header.header-collapse-condense"),{forward:Qe,backward:xe}=((ze,Ze,yt,Ae,De)=>{const pt=Fe(Ae,yt),ct=Ie(De),qe=Ie(Ae),it=Fe(De,yt),ut=null!==pt&&null!==ct&&!yt,st=null!==qe&&null!==it&&yt;if(ut){const Je=ct.getBoundingClientRect(),Ue=pt.getBoundingClientRect();je(ze,Ze,yt,ct,Je,Ue),me(ze,Ze,yt,pt,Je,Ue)}else if(st){const Je=qe.getBoundingClientRect(),Ue=it.getBoundingClientRect();je(ze,Ze,yt,qe,Je,Ue),me(ze,Ze,yt,it,Je,Ue)}return{forward:ut,backward:st}})(fe,it,Ct,Je,Ue);if(Tt.forEach(Be=>{const We=(0,m.c)();We.addElement(Be),fe.addAnimation(We);const vt=(0,m.c)();vt.addElement(Be.querySelector("ion-title"));const ht=(0,m.c)(),Pt=Array.from(Be.querySelectorAll("ion-buttons,[menuToggle]")),ce=Be.closest("ion-header"),cn=null==ce?void 0:ce.classList.contains("header-collapse-condense-inactive");let xt;xt=Pt.filter(Ct?Mn=>{const An=Mn.classList.contains("buttons-collapse");return An&&!cn||!An}:Mn=>!Mn.classList.contains("buttons-collapse")),ht.addElement(xt);const rt=(0,m.c)();rt.addElement(Be.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])"));const Ft=(0,m.c)();Ft.addElement(he(Be).querySelector(".toolbar-background"));const qt=(0,m.c)(),Cn=Be.querySelector("ion-back-button");if(Cn&&qt.addElement(Cn),We.addAnimation([vt,ht,rt,Ft,qt]),ht.fromTo(De,.01,1),rt.fromTo(De,.01,1),Ct)cn||vt.fromTo("transform",`translateX(${st})`,`translateX(${ct})`).fromTo(De,.01,1),rt.fromTo("transform",`translateX(${st})`,`translateX(${ct})`),qt.fromTo(De,.01,1);else if(Ge||vt.fromTo("transform",`translateX(${ut})`,`translateX(${ct})`).fromTo(De,.01,1),rt.fromTo("transform",`translateX(${ut})`,`translateX(${ct})`),Ft.beforeClearStyles([De,"transform"]),(null==ce?void 0:ce.translucent)?Ft.fromTo("transform",it?"translateX(-100%)":"translateX(100%)","translateX(0px)"):Ft.fromTo(De,.01,"var(--opacity)"),Qe||qt.fromTo(De,.01,1),Cn&&!Qe){const An=(0,m.c)();An.addElement(he(Cn).querySelector(".button-text")).fromTo("transform",it?"translateX(-100px)":"translateX(100px)","translateX(0px)"),We.addAnimation(An)}}),Ue){const Be=(0,m.c)(),We=Ue.querySelector(":scope > ion-content"),vt=Ue.querySelectorAll(":scope > ion-header > ion-toolbar"),ht=Ue.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *");if(We||0!==vt.length||0!==ht.length?(Be.addElement(We),Be.addElement(ht)):Be.addElement(Ue.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),fe.addAnimation(Be),Ct){Be.beforeClearStyles([De]).fromTo("transform",`translateX(${ct})`,it?"translateX(-100%)":"translateX(100%)");const Pt=(0,g.g)(Ue);fe.afterAddWrite(()=>{"normal"===fe.getDirection()&&Pt.style.setProperty("display","none")})}else Be.fromTo("transform",`translateX(${ct})`,`translateX(${st})`).fromTo(De,1,.8);if(We){const Pt=he(We).querySelector(".transition-effect");if(Pt){const ce=Pt.querySelector(".transition-cover"),cn=Pt.querySelector(".transition-shadow"),xt=(0,m.c)(),rt=(0,m.c)(),Ft=(0,m.c)();xt.addElement(Pt).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),rt.addElement(ce).beforeClearStyles([De]).fromTo(De,.1,0),Ft.addElement(cn).beforeClearStyles([De]).fromTo(De,.7,.03),xt.addAnimation([rt,Ft]),Be.addAnimation([xt])}}vt.forEach(Pt=>{const ce=(0,m.c)();ce.addElement(Pt);const cn=(0,m.c)();cn.addElement(Pt.querySelector("ion-title"));const xt=(0,m.c)(),rt=Pt.querySelectorAll("ion-buttons,[menuToggle]"),Ft=Pt.closest("ion-header"),qt=null==Ft?void 0:Ft.classList.contains("header-collapse-condense-inactive"),Cn=Array.from(rt).filter(tr=>{const ir=tr.classList.contains("buttons-collapse");return ir&&!qt||!ir});xt.addElement(Cn);const Mn=(0,m.c)(),An=Pt.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])");An.length>0&&Mn.addElement(An);const Lt=(0,m.c)();Lt.addElement(he(Pt).querySelector(".toolbar-background"));const Tn=(0,m.c)(),$t=Pt.querySelector("ion-back-button");if($t&&Tn.addElement($t),ce.addAnimation([cn,xt,Mn,Tn,Lt]),fe.addAnimation(ce),Tn.fromTo(De,.99,0),xt.fromTo(De,.99,0),Mn.fromTo(De,.99,0),Ct){if(qt||cn.fromTo("transform",`translateX(${ct})`,it?"translateX(-100%)":"translateX(100%)").fromTo(De,.99,0),Mn.fromTo("transform",`translateX(${ct})`,it?"translateX(-100%)":"translateX(100%)"),Lt.beforeClearStyles([De,"transform"]),(null==Ft?void 0:Ft.translucent)?Lt.fromTo("transform","translateX(0px)",it?"translateX(-100%)":"translateX(100%)"):Lt.fromTo(De,"var(--opacity)",0),$t&&!xe){const ir=(0,m.c)();ir.addElement(he($t).querySelector(".button-text")).fromTo("transform",`translateX(${ct})`,`translateX(${(it?-124:124)+"px"})`),ce.addAnimation(ir)}}else qt||cn.fromTo("transform",`translateX(${ct})`,`translateX(${st})`).fromTo(De,.99,0).afterClearStyles([pt,De]),Mn.fromTo("transform",`translateX(${ct})`,`translateX(${st})`).afterClearStyles([pt,De]),Tn.afterClearStyles([De]),cn.afterClearStyles([De]),xt.afterClearStyles([De])})}return fe}catch(Ae){throw Ae}}},1138:(vn,ft,k)=>{"use strict";k.r(ft),k.d(ft,{mdTransitionAnimation:()=>Le});var m=k(9613),g=k(9866);k(3457),k(4083);const Le=(Ne,he)=>{var Ie,Fe,Ce;const ge="back"===he.direction,Ze=he.leavingEl,yt=(0,g.g)(he.enteringEl),Ae=yt.querySelector("ion-toolbar"),De=(0,m.c)();if(De.addElement(yt).fill("both").beforeRemoveClass("ion-page-invisible"),ge?De.duration((null!==(Ie=he.duration)&&void 0!==Ie?Ie:0)||200).easing("cubic-bezier(0.47,0,0.745,0.715)"):De.duration((null!==(Fe=he.duration)&&void 0!==Fe?Fe:0)||280).easing("cubic-bezier(0.36,0.66,0.04,1)").fromTo("transform","translateY(40px)","translateY(0px)").fromTo("opacity",.01,1),Ae){const pt=(0,m.c)();pt.addElement(Ae),De.addAnimation(pt)}if(Ze&&ge){De.duration((null!==(Ce=he.duration)&&void 0!==Ce?Ce:0)||200).easing("cubic-bezier(0.47,0,0.745,0.715)");const pt=(0,m.c)();pt.addElement((0,g.g)(Ze)).onFinish(ct=>{1===ct&&pt.elements.length>0&&pt.elements[0].style.setProperty("display","none")}).fromTo("transform","translateY(0px)","translateY(40px)").fromTo("opacity",1,0),De.addAnimation(pt)}return De}},2583:(vn,ft,k)=>{"use strict";k.d(ft,{B:()=>ht,G:()=>Pt,a:()=>Ce,b:()=>me,c:()=>Ze,d:()=>ce,e:()=>cn,f:()=>Et,g:()=>fe,h:()=>Qe,i:()=>Be,j:()=>Ae,k:()=>Ie,l:()=>je,m:()=>ge,n:()=>ct,o:()=>Ct,s:()=>vt,t:()=>yt});var m=k(5861),g=k(5273),le=k(6782),_e=k(7593),Le=k(3577),Ne=k(1178);let he=0;const Ie=new WeakMap,Fe=xt=>({create:rt=>De(xt,rt),dismiss:(rt,Ft,qt)=>Je(document,rt,Ft,xt,qt),getTop:()=>(0,m.Z)(function*(){return Ct(document,xt)})()}),Ce=Fe("ion-alert"),me=Fe("ion-action-sheet"),je=Fe("ion-loading"),ge=Fe("ion-modal"),Ze=Fe("ion-popover"),yt=Fe("ion-toast"),Ae=xt=>{typeof document<"u"&&st(document);const rt=he++;xt.overlayIndex=rt,xt.hasAttribute("id")||(xt.id=`ion-overlay-${rt}`)},De=(xt,rt)=>typeof window<"u"&&typeof window.customElements<"u"?window.customElements.whenDefined(xt).then(()=>{const Ft=document.createElement(xt);return Ft.classList.add("overlay-hidden"),Object.assign(Ft,Object.assign(Object.assign({},rt),{hasController:!0})),Oe(document).appendChild(Ft),new Promise(qt=>(0,Le.c)(Ft,qt))}):Promise.resolve(),pt='[tabindex]:not([tabindex^="-"]):not([hidden]):not([disabled]), input:not([type=hidden]):not([tabindex^="-"]):not([hidden]):not([disabled]), textarea:not([tabindex^="-"]):not([hidden]):not([disabled]), button:not([tabindex^="-"]):not([hidden]):not([disabled]), select:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable[disabled="false"]:not([tabindex^="-"]):not([hidden])',ct=(xt,rt)=>{let Ft=xt.querySelector(pt);const qt=null==Ft?void 0:Ft.shadowRoot;qt&&(Ft=qt.querySelector(pt)||Ft),Ft?(0,Le.f)(Ft):rt.focus()},it=(xt,rt)=>{const Ft=Array.from(xt.querySelectorAll(pt));let qt=Ft.length>0?Ft[Ft.length-1]:null;const Cn=null==qt?void 0:qt.shadowRoot;Cn&&(qt=Cn.querySelector(pt)||qt),qt?qt.focus():rt.focus()},st=xt=>{0===he&&(he=1,xt.addEventListener("focus",rt=>{((xt,rt)=>{const Ft=Ct(rt,"ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker,ion-popover"),qt=xt.target;Ft&&qt&&!Ft.classList.contains("ion-disable-focus-trap")&&(Ft.shadowRoot?(()=>{if(Ft.contains(qt))Ft.lastFocus=qt;else{const An=Ft.lastFocus;ct(Ft,Ft),An===rt.activeElement&&it(Ft,Ft),Ft.lastFocus=rt.activeElement}})():(()=>{if(Ft===qt)Ft.lastFocus=void 0;else{const An=(0,Le.g)(Ft);if(!An.contains(qt))return;const Lt=An.querySelector(".ion-overlay-wrapper");if(!Lt)return;if(Lt.contains(qt))Ft.lastFocus=qt;else{const Tn=Ft.lastFocus;ct(Lt,Ft),Tn===rt.activeElement&&it(Lt,Ft),Ft.lastFocus=rt.activeElement}}})())})(rt,xt)},!0),xt.addEventListener("ionBackButton",rt=>{const Ft=Ct(xt);null!=Ft&&Ft.backdropDismiss&&rt.detail.register(_e.OVERLAY_BACK_BUTTON_PRIORITY,()=>Ft.dismiss(void 0,ht))}),xt.addEventListener("keydown",rt=>{if("Escape"===rt.key){const Ft=Ct(xt);null!=Ft&&Ft.backdropDismiss&&Ft.dismiss(void 0,ht)}}))},Je=(xt,rt,Ft,qt,Cn)=>{const Mn=Ct(xt,qt,Cn);return Mn?Mn.dismiss(rt,Ft):Promise.reject("overlay does not exist")},Ct=(xt,rt,Ft)=>{const qt=((xt,rt)=>(void 0===rt&&(rt="ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker,ion-popover,ion-toast"),Array.from(xt.querySelectorAll(rt)).filter(Ft=>Ft.overlayIndex>0)))(xt,rt).filter(Cn=>!(xt=>xt.classList.contains("overlay-hidden"))(Cn));return void 0===Ft?qt[qt.length-1]:qt.find(Cn=>Cn.id===Ft)},ot=(xt=!1)=>{const Ft=Oe(document).querySelector("ion-router-outlet, ion-nav, #ion-view-container-root");Ft&&(xt?Ft.setAttribute("aria-hidden","true"):Ft.removeAttribute("aria-hidden"))},Et=function(){var xt=(0,m.Z)(function*(rt,Ft,qt,Cn,Mn){var An,Lt;if(rt.presented)return;ot(!0),rt.presented=!0,rt.willPresent.emit(),null===(An=rt.willPresentShorthand)||void 0===An||An.emit();const Tn=(0,g.b)(rt),$t=rt.enterAnimation?rt.enterAnimation:g.c.get(Ft,"ios"===Tn?qt:Cn);(yield Ge(rt,$t,rt.el,Mn))&&(rt.didPresent.emit(),null===(Lt=rt.didPresentShorthand)||void 0===Lt||Lt.emit()),"ION-TOAST"!==rt.el.tagName&&Tt(rt.el),rt.keyboardClose&&(null===document.activeElement||!rt.el.contains(document.activeElement))&&rt.el.focus()});return function(Ft,qt,Cn,Mn,An){return xt.apply(this,arguments)}}(),Tt=function(){var xt=(0,m.Z)(function*(rt){let Ft=document.activeElement;if(!Ft)return;const qt=null==Ft?void 0:Ft.shadowRoot;qt&&(Ft=qt.querySelector(pt)||Ft),yield rt.onDidDismiss(),Ft.focus()});return function(Ft){return xt.apply(this,arguments)}}(),fe=function(){var xt=(0,m.Z)(function*(rt,Ft,qt,Cn,Mn,An,Lt){var Tn,$t;if(!rt.presented)return!1;ot(!1),rt.presented=!1;try{rt.el.style.setProperty("pointer-events","none"),rt.willDismiss.emit({data:Ft,role:qt}),null===(Tn=rt.willDismissShorthand)||void 0===Tn||Tn.emit({data:Ft,role:qt});const tr=(0,g.b)(rt),ir=rt.leaveAnimation?rt.leaveAnimation:g.c.get(Cn,"ios"===tr?Mn:An);qt!==Pt&&(yield Ge(rt,ir,rt.el,Lt)),rt.didDismiss.emit({data:Ft,role:qt}),null===($t=rt.didDismissShorthand)||void 0===$t||$t.emit({data:Ft,role:qt}),Ie.delete(rt),rt.el.classList.add("overlay-hidden"),rt.el.style.removeProperty("pointer-events"),void 0!==rt.el.lastFocus&&(rt.el.lastFocus=void 0)}catch(tr){console.error(tr)}return rt.el.remove(),!0});return function(Ft,qt,Cn,Mn,An,Lt,Tn){return xt.apply(this,arguments)}}(),Oe=xt=>xt.querySelector("ion-app")||xt.body,Ge=function(){var xt=(0,m.Z)(function*(rt,Ft,qt,Cn){qt.classList.remove("overlay-hidden");const An=Ft(rt.el,Cn);(!rt.animated||!g.c.getBoolean("animated",!0))&&An.duration(0),rt.keyboardClose&&An.beforeAddWrite(()=>{const Tn=qt.ownerDocument.activeElement;null!=Tn&&Tn.matches("input,ion-input, ion-textarea")&&Tn.blur()});const Lt=Ie.get(rt)||[];return Ie.set(rt,[...Lt,An]),yield An.play(),!0});return function(Ft,qt,Cn,Mn){return xt.apply(this,arguments)}}(),Qe=(xt,rt)=>{let Ft;const qt=new Promise(Cn=>Ft=Cn);return xe(xt,rt,Cn=>{Ft(Cn.detail)}),qt},xe=(xt,rt,Ft)=>{const qt=Cn=>{(0,Le.b)(xt,rt,qt),Ft(Cn)};(0,Le.a)(xt,rt,qt)},Be=xt=>"cancel"===xt||xt===ht,We=xt=>xt(),vt=(xt,rt)=>{if("function"==typeof xt)return g.c.get("_zoneGate",We)(()=>{try{return xt(rt)}catch(qt){throw qt}})},ht="backdrop",Pt="gesture",ce=xt=>{let Ft,rt=!1;const qt=(0,le.C)(),Cn=(Lt=!1)=>{if(Ft&&!Lt)return{delegate:Ft,inline:rt};const{el:Tn,hasController:$t,delegate:tr}=xt;return rt=null!==Tn.parentNode&&!$t,Ft=rt?tr||qt:tr,{inline:rt,delegate:Ft}};return{attachViewToDom:function(){var Lt=(0,m.Z)(function*(Tn){const{delegate:$t}=Cn(!0);if($t)return yield $t.attachViewToDom(xt.el,Tn);const{hasController:tr}=xt;if(tr&&void 0!==Tn)throw new Error("framework delegate is missing");return null});return function($t){return Lt.apply(this,arguments)}}(),removeViewFromDom:()=>{const{delegate:Lt}=Cn();Lt&&void 0!==xt.el&&Lt.removeViewFromDom(xt.el.parentElement,xt.el)}}},cn=()=>{let xt;const rt=()=>{xt&&(xt(),xt=void 0)};return{addClickListener:(qt,Cn)=>{rt();const Mn=void 0!==Cn?document.getElementById(Cn):null;Mn?xt=((Lt,Tn)=>{const $t=()=>{Tn.present()};return Lt.addEventListener("click",$t),()=>{Lt.removeEventListener("click",$t)}})(Mn,qt):(0,Ne.p)(`A trigger element with the ID "${Cn}" was not found in the DOM. The trigger element must be in the DOM when the "trigger" property is set on an overlay component.`,qt)},removeClickListener:rt}}},7622:(vn,ft,k)=>{"use strict";k.d(ft,{e:()=>Ne});var m=k(5861),g=k(9260);let le=(()=>{class he{}return he.email=Ie=>{if(!(Ie.endsWith("@admin.com")||Ie.endsWith("@invitado.com")||Ie.endsWith("@usuario.com")||Ie.endsWith("@anonimo.com")||Ie.endsWith("@tester.com")))throw new Error("Mal formato de datos.");return Ie},he})();var _e=k(2223),Le=k(3385);let Ne=(()=>{class he{constructor(Fe){var Ce=this;this.angularFireAuth=Fe,this.myUsuario="valor inicial",this.signIn=function(){var me=(0,m.Z)(function*(je,ge){return yield Ce.angularFireAuth.signInWithEmailAndPassword(le.email(je),ge).then(ze=>ze).catch(ze=>{throw"auth/user-disabled"===ze.code?new Error("El usuario ha sido deshabilitado."):"auth/user-not-found"===ze.code?new Error("No existe un usuario con estos datos."):new Error("Datos incorrectos.")})});return function(je,ge){return me.apply(this,arguments)}}(),this.signUp=function(){var me=(0,m.Z)(function*(je,ge){return yield Ce.angularFireAuth.createUserWithEmailAndPassword(le.email(je),ge).then(ze=>ze).catch(ze=>{throw"auth/operation-not-allowed"===ze.code?new Error("Lo siento, hubo un error interno. Vuelva a intentarlo mas tarde."):"auth/email-already-in-use"===ze.code?new Error("El mail ingresado, ya pertenece a un usuario existente."):new Error("Mal formato de datos.")})});return function(je,ge){return me.apply(this,arguments)}}(),this.signOut=(0,m.Z)(function*(){yield Ce.angularFireAuth.signOut()}),this.signUpWithGoogle=(0,m.Z)(function*(){const me=new g.Z.auth.GoogleAuthProvider;return me.addScope("profile"),me.addScope("email"),yield Ce.signUpWithProvider(me)}),this.signUpWithProvider=function(){var me=(0,m.Z)(function*(je){return yield Ce.angularFireAuth.signInWithPopup(je).then(ge=>ge).catch(()=>{throw new Error("Operaci\xf3n cancelada.")})});return function(je){return me.apply(this,arguments)}}(),this.userData=Fe.authState}login(Fe,Ce){return this.myUsuario=this.formatNombre(Fe),this.angularFireAuth.signInWithEmailAndPassword(Fe,Ce)}formatNombre(Fe){if(""!=Fe&&null!=Fe){const Ce=Fe.substring(0,Fe.indexOf("@"));return Ce.charAt(0).toUpperCase()+Ce.slice(1)}return""}getUser(){return"123456"}}return he.\u0275fac=function(Fe){return new(Fe||he)(_e.LFG(Le.zQ))},he.\u0275prov=_e.Yz7({token:he,factory:he.\u0275fac,providedIn:"root"}),he})()},8176:(vn,ft,k)=>{"use strict";var m=k(6550),g=k(2223),le=k(5559),_e=k(9972),Le=k(89),Ne=k(655),he=k(8261),Ie=function(c){function s(){return null!==c&&c.apply(this,arguments)||this}return(0,Ne.ZT)(s,c),s.prototype.show=function(){return(0,he.DM)(this,"show",{sync:!0},arguments)},s.prototype.hide=function(){return(0,he.DM)(this,"hide",{sync:!0},arguments)},s.pluginName="SplashScreen",s.plugin="cordova-plugin-splashscreen",s.pluginRef="navigator.splashscreen",s.repo="https://github.com/apache/cordova-plugin-splashscreen",s.platforms=["Amazon Fire OS","Android","iOS","Windows"],s.decorators=[{type:g.GSi}],s}(he.KY),Fe=function(c){function s(){return null!==c&&c.apply(this,arguments)||this}return(0,Ne.ZT)(s,c),s.prototype.overlaysWebView=function(l){return(0,he.DM)(this,"overlaysWebView",{sync:!0},arguments)},s.prototype.styleDefault=function(){return(0,he.DM)(this,"styleDefault",{sync:!0},arguments)},s.prototype.styleLightContent=function(){return(0,he.DM)(this,"styleLightContent",{sync:!0},arguments)},s.prototype.styleBlackTranslucent=function(){return(0,he.DM)(this,"styleBlackTranslucent",{sync:!0},arguments)},s.prototype.styleBlackOpaque=function(){return(0,he.DM)(this,"styleBlackOpaque",{sync:!0},arguments)},s.prototype.backgroundColorByName=function(l){return(0,he.DM)(this,"backgroundColorByName",{sync:!0},arguments)},s.prototype.backgroundColorByHexString=function(l){return(0,he.DM)(this,"backgroundColorByHexString",{sync:!0},arguments)},s.prototype.hide=function(){return(0,he.DM)(this,"hide",{sync:!0},arguments)},s.prototype.show=function(){return(0,he.DM)(this,"show",{sync:!0},arguments)},Object.defineProperty(s.prototype,"isVisible",{get:function(){return(0,he.J2)(this,"isVisible")},set:function(l){(0,he.Iq)(this,"isVisible",l)},enumerable:!1,configurable:!0}),s.pluginName="StatusBar",s.plugin="cordova-plugin-statusbar",s.pluginRef="StatusBar",s.repo="https://github.com/apache/cordova-plugin-statusbar",s.platforms=["Android","iOS","Windows"],s.decorators=[{type:g.GSi}],s}(he.KY),Ce=k(4755);function me(c,s){if(1&c&&(g.TgZ(0,"li",2),g._uU(1),g.qZA()),2&c){const l=s.$implicit;g.xp6(1),g.hij(" ",l.name," ")}}let je=(()=>{class c{constructor(l,h,y){this.platform=l,this.splashScreen=h,this.statusBar=y,this.firestore=(0,g.f3M)(Le.gg);const C=(0,Le.hJ)(this.firestore,"items");this.items$=(0,Le.BS)(C),this.initializeApp()}initializeApp(){this.platform.ready().then(()=>{this.statusBar.styleDefault(),this.splashScreen.hide()})}}return c.\u0275fac=function(l){return new(l||c)(g.Y36(_e.t4),g.Y36(Ie),g.Y36(Fe))},c.\u0275cmp=g.Xpm({type:c,selectors:[["app-root"]],decls:5,vars:3,consts:[["class","text",4,"ngFor","ngForOf"],["id","main-content"],[1,"text"]],template:function(l,h){1&l&&(g.TgZ(0,"ul"),g.YNc(1,me,2,1,"li",0),g.ALo(2,"async"),g.qZA(),g.TgZ(3,"ion-app"),g._UZ(4,"ion-router-outlet",1),g.qZA()),2&l&&(g.xp6(1),g.Q6J("ngForOf",g.lcZ(2,1,h.items$)))},dependencies:[Ce.sg,_e.dr,_e.jP,Ce.Ov],styles:["ion-menu[_ngcontent-%COMP%]   ion-content[_ngcontent-%COMP%]{--background: var(--ion-item-background, var(--ion-background-color, #fff))}ion-menu.md[_ngcontent-%COMP%]   ion-content[_ngcontent-%COMP%]{--padding-start: 8px;--padding-end: 8px;--padding-top: 20px;--padding-bottom: 20px}ion-menu.md[_ngcontent-%COMP%]   ion-list[_ngcontent-%COMP%]{padding:20px 0}ion-menu.md[_ngcontent-%COMP%]   ion-note[_ngcontent-%COMP%]{margin-bottom:30px}ion-menu.md[_ngcontent-%COMP%]   ion-list-header[_ngcontent-%COMP%], ion-menu.md[_ngcontent-%COMP%]   ion-note[_ngcontent-%COMP%]{padding-left:10px}ion-menu.md[_ngcontent-%COMP%]   ion-list#inbox-list[_ngcontent-%COMP%]{border-bottom:1px solid var(--ion-color-step-150, #d7d8da)}ion-menu.md[_ngcontent-%COMP%]   ion-list#inbox-list[_ngcontent-%COMP%]   ion-list-header[_ngcontent-%COMP%]{font-size:22px;font-weight:600;min-height:20px}ion-menu.md[_ngcontent-%COMP%]   ion-list#labels-list[_ngcontent-%COMP%]   ion-list-header[_ngcontent-%COMP%]{font-size:16px;margin-bottom:18px;color:#757575;min-height:26px}ion-menu.md[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]{--padding-start: 10px;--padding-end: 10px;border-radius:4px}ion-menu.md[_ngcontent-%COMP%]   ion-item.selected[_ngcontent-%COMP%]{--background: rgba(var(--ion-color-primary-rgb), .14)}ion-menu.md[_ngcontent-%COMP%]   ion-item.selected[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{color:var(--ion-color-primary)}ion-menu.md[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{color:#616e7e}ion-menu.md[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{font-weight:500}ion-menu.ios[_ngcontent-%COMP%]   ion-content[_ngcontent-%COMP%]{--padding-bottom: 20px}ion-menu.ios[_ngcontent-%COMP%]   ion-list[_ngcontent-%COMP%]{padding:20px 0 0}ion-menu.ios[_ngcontent-%COMP%]   ion-note[_ngcontent-%COMP%]{line-height:24px;margin-bottom:20px}ion-menu.ios[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]{--padding-start: 16px;--padding-end: 16px;--min-height: 50px}ion-menu.ios[_ngcontent-%COMP%]   ion-item.selected[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{color:var(--ion-color-primary)}ion-menu.ios[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:24px;color:#73849a}ion-menu.ios[_ngcontent-%COMP%]   ion-list#labels-list[_ngcontent-%COMP%]   ion-list-header[_ngcontent-%COMP%]{margin-bottom:8px}ion-menu.ios[_ngcontent-%COMP%]   ion-list-header[_ngcontent-%COMP%], ion-menu.ios[_ngcontent-%COMP%]   ion-note[_ngcontent-%COMP%]{padding-left:16px;padding-right:16px}ion-menu.ios[_ngcontent-%COMP%]   ion-note[_ngcontent-%COMP%]{margin-bottom:8px}ion-note[_ngcontent-%COMP%]{display:inline-block;font-size:16px;color:var(--ion-color-medium-shade)}ion-item.selected[_ngcontent-%COMP%]{--color: var(--ion-color-primary)}"]}),c})();const ge=[{path:"",redirectTo:"login",pathMatch:"full"},{path:"folder/:id",loadChildren:()=>k.e(1910).then(k.bind(k,1910)).then(c=>c.FolderPageModule)},{path:"admin",loadChildren:()=>k.e(3015).then(k.bind(k,3015)).then(c=>c.AdminPageModule)},{path:"home",loadChildren:()=>k.e(4851).then(k.bind(k,4851)).then(c=>c.HomePageModule)},{path:"login",loadChildren:()=>k.e(1821).then(k.bind(k,1821)).then(c=>c.LoginPageModule)},{path:"register",loadChildren:()=>k.e(7826).then(k.bind(k,7826)).then(c=>c.RegisterPageModule)},{path:"feas",loadChildren:()=>Promise.all([k.e(8592),k.e(6015)]).then(k.bind(k,6015)).then(c=>c.FeasPageModule)},{path:"lindas",loadChildren:()=>Promise.all([k.e(8592),k.e(14)]).then(k.bind(k,14)).then(c=>c.LindasPageModule)},{path:"lista-feas",loadChildren:()=>Promise.all([k.e(8592),k.e(2516)]).then(k.bind(k,2516)).then(c=>c.ListaFeasPageModule)},{path:"lista-lindas",loadChildren:()=>Promise.all([k.e(8592),k.e(5172)]).then(k.bind(k,5172)).then(c=>c.ListaLindasPageModule)},{path:"mis-fotos",loadChildren:()=>k.e(3562).then(k.bind(k,3562)).then(c=>c.MisFotosPageModule)},{path:"splash",loadChildren:()=>k.e(2068).then(k.bind(k,2068)).then(c=>c.SplashPageModule)},{path:"tabs",loadChildren:()=>k.e(5652).then(k.bind(k,174)).then(c=>c.TabsPageModule)},{path:"camara/:type",loadChildren:()=>Promise.all([k.e(579),k.e(7455)]).then(k.bind(k,7455)).then(c=>c.CamaraPageModule)}];let ze=(()=>{class c{}return c.\u0275fac=function(l){return new(l||c)},c.\u0275mod=g.oAB({type:c}),c.\u0275inj=g.cJS({imports:[le.Bz.forRoot(ge,{preloadingStrategy:le.wm}),le.Bz]}),c})();const Ze_firebase={projectId:"reelevamientovisual2023",appId:"1:576178312697:web:4ff5e464f71303b41ad928",storageBucket:"reelevamientovisual2023.appspot.com",apiKey:"AIzaSyAvHCXlpbH63heUpkmTKTPxkyaOi1XuoLE",authDomain:"reelevamientovisual2023.firebaseapp.com",messagingSenderId:"576178312697"};var yt=k(2011),Ae=k(3385),De=k(4986),pt=k(9751),ct=k(9646),qe=k(6451),it=k(4004),ut=k(3099),st=k(3900),Je=k(5026),Ue=k(1884),Ct=k(4482),ot=k(5403),Et=k(8421),Tt=k(4671),fe=k(5032),Oe=k(7669),xe=k(3324),We=(k(9568),k(3942)),vt=k(4859),ht=k(5861),Pt=k(6881),ce=k(2090),cn=k(1877);const xt="@firebase/database";let Ft="";function qt(c){Ft=c}class Cn{constructor(s){this.domStorage_=s,this.prefix_="firebase:"}set(s,l){null==l?this.domStorage_.removeItem(this.prefixedName_(s)):this.domStorage_.setItem(this.prefixedName_(s),(0,ce.Wl)(l))}get(s){const l=this.domStorage_.getItem(this.prefixedName_(s));return null==l?null:(0,ce.cI)(l)}remove(s){this.domStorage_.removeItem(this.prefixedName_(s))}prefixedName_(s){return this.prefix_+s}toString(){return this.domStorage_.toString()}}class Mn{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(s,l){null==l?delete this.cache_[s]:this.cache_[s]=l}get(s){return(0,ce.r3)(this.cache_,s)?this.cache_[s]:null}remove(s){delete this.cache_[s]}}const An=function(c){try{if(typeof window<"u"&&typeof window[c]<"u"){const s=window[c];return s.setItem("firebase:sentinel","cache"),s.removeItem("firebase:sentinel"),new Cn(s)}}catch{}return new Mn},Lt=An("localStorage"),Tn=An("sessionStorage"),$t=new cn.Yd("@firebase/database"),tr=function(){let c=1;return function(){return c++}}(),ir=function(c){const s=(0,ce.dS)(c),l=new ce.gQ;l.update(s);const h=l.digest();return ce.US.encodeByteArray(h)},fr=function(...c){let s="";for(let l=0;l<c.length;l++){const h=c[l];Array.isArray(h)||h&&"object"==typeof h&&"number"==typeof h.length?s+=fr.apply(null,h):s+="object"==typeof h?(0,ce.Wl)(h):h,s+=" "}return s};let tn=null,_r=!0;const cr=function(c,s){(0,ce.hu)(!s||!0===c||!1===c,"Can't turn on custom loggers persistently."),!0===c?($t.logLevel=cn.in.VERBOSE,tn=$t.log.bind($t),s&&Tn.set("logging_enabled",!0)):"function"==typeof c?tn=c:(tn=null,Tn.remove("logging_enabled"))},Sn=function(...c){if(!0===_r&&(_r=!1,null===tn&&!0===Tn.get("logging_enabled")&&cr(!0)),tn){const s=fr.apply(null,c);tn(s)}},kr=function(c){return function(...s){Sn(c,...s)}},$r=function(...c){const s="FIREBASE INTERNAL ERROR: "+fr(...c);$t.error(s)},wn=function(...c){const s=`FIREBASE FATAL ERROR: ${fr(...c)}`;throw $t.error(s),new Error(s)},dn=function(...c){const s="FIREBASE WARNING: "+fr(...c);$t.warn(s)},Mr=function(c){return"number"==typeof c&&(c!=c||c===Number.POSITIVE_INFINITY||c===Number.NEGATIVE_INFINITY)},qn="[MIN_NAME]",br="[MAX_NAME]",Dr=function(c,s){if(c===s)return 0;if(c===qn||s===br)return-1;if(s===qn||c===br)return 1;{const l=sr(c),h=sr(s);return null!==l?null!==h?l-h==0?c.length-s.length:l-h:-1:null!==h?1:c<s?-1:1}},zn=function(c,s){return c===s?0:c<s?-1:1},Rn=function(c,s){if(s&&c in s)return s[c];throw new Error("Missing required key ("+c+") in object: "+(0,ce.Wl)(s))},Fr=function(c){if("object"!=typeof c||null===c)return(0,ce.Wl)(c);const s=[];for(const h in c)s.push(h);s.sort();let l="{";for(let h=0;h<s.length;h++)0!==h&&(l+=","),l+=(0,ce.Wl)(s[h]),l+=":",l+=Fr(c[s[h]]);return l+="}",l},$n=function(c,s){const l=c.length;if(l<=s)return[c];const h=[];for(let y=0;y<l;y+=s)h.push(c.substring(y,y+s>l?l:y+s));return h};function Ht(c,s){for(const l in c)c.hasOwnProperty(l)&&s(l,c[l])}const Ee=function(c){(0,ce.hu)(!Mr(c),"Invalid JSON number");const h=1023;let y,C,N,H,ue;0===c?(C=0,N=0,y=1/c==-1/0?1:0):(y=c<0,(c=Math.abs(c))>=Math.pow(2,1-h)?(H=Math.min(Math.floor(Math.log(c)/Math.LN2),h),C=H+h,N=Math.round(c*Math.pow(2,52-H)-Math.pow(2,52))):(C=0,N=Math.round(c/Math.pow(2,-1074))));const be=[];for(ue=52;ue;ue-=1)be.push(N%2?1:0),N=Math.floor(N/2);for(ue=11;ue;ue-=1)be.push(C%2?1:0),C=Math.floor(C/2);be.push(y?1:0),be.reverse();const dt=be.join("");let Dt="";for(ue=0;ue<64;ue+=8){let Ot=parseInt(dt.substr(ue,8),2).toString(16);1===Ot.length&&(Ot="0"+Ot),Dt+=Ot}return Dt.toLowerCase()},hn=new RegExp("^-?(0*)\\d{1,10}$"),sr=function(c){if(hn.test(c)){const s=Number(c);if(s>=-2147483648&&s<=2147483647)return s}return null},et=function(c){try{c()}catch(s){setTimeout(()=>{throw dn("Exception was thrown by user callback.",s.stack||""),s},Math.floor(0))}},K=function(c,s){const l=setTimeout(c,s);return"number"==typeof l&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(l):"object"==typeof l&&l.unref&&l.unref(),l};class z{constructor(s,l){this.appName_=s,this.appCheckProvider=l,this.appCheck=null==l?void 0:l.getImmediate({optional:!0}),this.appCheck||null==l||l.get().then(h=>this.appCheck=h)}getToken(s){return this.appCheck?this.appCheck.getToken(s):new Promise((l,h)=>{setTimeout(()=>{this.appCheck?this.getToken(s).then(l,h):l(null)},0)})}addTokenChangeListener(s){var l;null===(l=this.appCheckProvider)||void 0===l||l.get().then(h=>h.addTokenListener(s))}notifyForInvalidToken(){dn(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class q{constructor(s,l,h){this.appName_=s,this.firebaseOptions_=l,this.authProvider_=h,this.auth_=null,this.auth_=h.getImmediate({optional:!0}),this.auth_||h.onInit(y=>this.auth_=y)}getToken(s){return this.auth_?this.auth_.getToken(s).catch(l=>l&&"auth/token-not-initialized"===l.code?(Sn("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(l)):new Promise((l,h)=>{setTimeout(()=>{this.auth_?this.getToken(s).then(l,h):l(null)},0)})}addTokenChangeListener(s){this.auth_?this.auth_.addAuthTokenListener(s):this.authProvider_.get().then(l=>l.addAuthTokenListener(s))}removeTokenChangeListener(s){this.authProvider_.get().then(l=>l.removeAuthTokenListener(s))}notifyForInvalidToken(){let s='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';s+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',dn(s)}}let Re=(()=>{class c{constructor(l){this.accessToken=l}getToken(l){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(l){l(this.accessToken)}removeTokenChangeListener(l){}notifyForInvalidToken(){}}return c.OWNER="owner",c})();const Wt=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,an="websocket",wt="long_polling";class bt{constructor(s,l,h,y,C=!1,N="",H=!1,ue=!1){this.secure=l,this.namespace=h,this.webSocketOnly=y,this.nodeAdmin=C,this.persistenceKey=N,this.includeNamespaceInQueryParams=H,this.isUsingEmulator=ue,this._host=s.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Lt.get("host:"+s)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(s){s!==this.internalHost&&(this.internalHost=s,this.isCacheableHost()&&Lt.set("host:"+this._host,this.internalHost))}toString(){let s=this.toURLString();return this.persistenceKey&&(s+="<"+this.persistenceKey+">"),s}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function mn(c,s,l){let h;if((0,ce.hu)("string"==typeof s,"typeof type must == string"),(0,ce.hu)("object"==typeof l,"typeof params must == object"),s===an)h=(c.secure?"wss://":"ws://")+c.internalHost+"/.ws?";else{if(s!==wt)throw new Error("Unknown connection type: "+s);h=(c.secure?"https://":"http://")+c.internalHost+"/.lp?"}(function jt(c){return c.host!==c.internalHost||c.isCustomHost()||c.includeNamespaceInQueryParams})(c)&&(l.ns=c.namespace);const y=[];return Ht(l,(C,N)=>{y.push(C+"="+N)}),h+y.join("&")}class Nn{constructor(){this.counters_={}}incrementCounter(s,l=1){(0,ce.r3)(this.counters_,s)||(this.counters_[s]=0),this.counters_[s]+=l}get(){return(0,ce.p$)(this.counters_)}}const nr={},Qn={};function Hr(c){const s=c.toString();return nr[s]||(nr[s]=new Nn),nr[s]}class or{constructor(s){this.onMessage_=s,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(s,l){this.closeAfterResponse=s,this.onClose=l,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(s,l){for(this.pendingResponses[s]=l;this.pendingResponses[this.currentResponseNum];){const h=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let y=0;y<h.length;++y)h[y]&&et(()=>{this.onMessage_(h[y])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class G{constructor(s,l,h,y,C,N,H){this.connId=s,this.repoInfo=l,this.applicationId=h,this.appCheckToken=y,this.authToken=C,this.transportSessionId=N,this.lastSessionId=H,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=kr(s),this.stats_=Hr(l),this.urlFn=ue=>(this.appCheckToken&&(ue.ac=this.appCheckToken),mn(l,wt,ue))}open(s,l){this.curSegmentNum=0,this.onDisconnect_=l,this.myPacketOrderer=new or(s),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(c){if((0,ce.Yr)()||"complete"===document.readyState)c();else{let s=!1;const l=function(){document.body?s||(s=!0,c()):setTimeout(l,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",l,!1),window.addEventListener("load",l,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&l()}),window.attachEvent("onload",l))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new ie((...C)=>{const[N,H,ue,be,dt]=C;if(this.incrementIncomingBytes_(C),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===N)this.id=H,this.password=ue;else{if("close"!==N)throw new Error("Unrecognized command received: "+N);H?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(H,()=>{this.onClosed_()})):this.onClosed_()}},(...C)=>{const[N,H]=C;this.incrementIncomingBytes_(C),this.myPacketOrderer.handleResponse(N,H)},()=>{this.onClosed_()},this.urlFn);const h={start:"t"};h.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(h.cb=this.scriptTagHolder.uniqueCallbackIdentifier),h.v="5",this.transportSessionId&&(h.s=this.transportSessionId),this.lastSessionId&&(h.ls=this.lastSessionId),this.applicationId&&(h.p=this.applicationId),this.appCheckToken&&(h.ac=this.appCheckToken),typeof location<"u"&&location.hostname&&Wt.test(location.hostname)&&(h.r="f");const y=this.urlFn(h);this.log_("Connecting via long-poll to "+y),this.scriptTagHolder.addTag(y,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){G.forceAllow_=!0}static forceDisallow(){G.forceDisallow_=!0}static isAvailable(){return!((0,ce.Yr)()||!G.forceAllow_&&(G.forceDisallow_||!(typeof document<"u")||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(s){const l=(0,ce.Wl)(s);this.bytesSent+=l.length,this.stats_.incrementCounter("bytes_sent",l.length);const h=(0,ce.h$)(l),y=$n(h,1840);for(let C=0;C<y.length;C++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,y.length,y[C]),this.curSegmentNum++}addDisconnectPingFrame(s,l){if((0,ce.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const h={dframe:"t"};h.id=s,h.pw=l,this.myDisconnFrame.src=this.urlFn(h),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(s){const l=(0,ce.Wl)(s).length;this.bytesReceived+=l,this.stats_.incrementCounter("bytes_received",l)}}class ie{constructor(s,l,h,y){if(this.onDisconnect=h,this.urlFn=y,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,ce.Yr)())this.commandCB=s,this.onMessageCB=l;else{this.uniqueCallbackIdentifier=tr(),window["pLPCommand"+this.uniqueCallbackIdentifier]=s,window["pRTLPCB"+this.uniqueCallbackIdentifier]=l,this.myIFrame=ie.createIFrame_();let C="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(C='<script>document.domain="'+document.domain+'";<\/script>');const N="<html><body>"+C+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(N),this.myIFrame.doc.close()}catch(H){Sn("frame writing exception"),H.stack&&Sn(H.stack),Sn(H)}}}static createIFrame_(){const s=document.createElement("iframe");if(s.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(s);try{s.contentWindow.document||Sn("No IE domain setting required")}catch{const h=document.domain;s.src="javascript:void((function(){document.open();document.domain='"+h+"';document.close();})())"}return s.contentDocument?s.doc=s.contentDocument:s.contentWindow?s.doc=s.contentWindow.document:s.document&&(s.doc=s.document),s}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const s=this.onDisconnect;s&&(this.onDisconnect=null,s())}startLongPoll(s,l){for(this.myID=s,this.myPW=l,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const s={};s.id=this.myID,s.pw=this.myPW,s.ser=this.currentSerial;let l=this.urlFn(s),h="",y=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+h.length<=1870;){const N=this.pendingSegs.shift();h=h+"&seg"+y+"="+N.seg+"&ts"+y+"="+N.ts+"&d"+y+"="+N.d,y++}return l+=h,this.addLongPollTag_(l,this.currentSerial),!0}return!1}enqueueSegment(s,l,h){this.pendingSegs.push({seg:s,ts:l,d:h}),this.alive&&this.newRequest_()}addLongPollTag_(s,l){this.outstandingRequests.add(l);const h=()=>{this.outstandingRequests.delete(l),this.newRequest_()},y=setTimeout(h,Math.floor(25e3));this.addTag(s,()=>{clearTimeout(y),h()})}addTag(s,l){(0,ce.Yr)()?this.doNodeLongPoll(s,l):setTimeout(()=>{try{if(!this.sendNewPolls)return;const h=this.myIFrame.doc.createElement("script");h.type="text/javascript",h.async=!0,h.src=s,h.onload=h.onreadystatechange=function(){const y=h.readyState;(!y||"loaded"===y||"complete"===y)&&(h.onload=h.onreadystatechange=null,h.parentNode&&h.parentNode.removeChild(h),l())},h.onerror=()=>{Sn("Long-poll script failed to load: "+s),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(h)}catch{}},Math.floor(1))}}let gt=null;typeof MozWebSocket<"u"?gt=MozWebSocket:typeof WebSocket<"u"&&(gt=WebSocket);let St=(()=>{class c{constructor(l,h,y,C,N,H,ue){this.connId=l,this.applicationId=y,this.appCheckToken=C,this.authToken=N,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=kr(this.connId),this.stats_=Hr(h),this.connURL=c.connectionURL_(h,H,ue,C,y),this.nodeAdmin=h.nodeAdmin}static connectionURL_(l,h,y,C,N){const H={v:"5"};return!(0,ce.Yr)()&&typeof location<"u"&&location.hostname&&Wt.test(location.hostname)&&(H.r="f"),h&&(H.s=h),y&&(H.ls=y),C&&(H.ac=C),N&&(H.p=N),mn(l,an,H)}open(l,h){this.onDisconnect=h,this.onMessage=l,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Lt.set("previous_websocket_failure",!0);try{let y;if((0,ce.Yr)()){y={headers:{"User-Agent":`Firebase/5/${Ft}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(y.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(y.headers["X-Firebase-AppCheck"]=this.appCheckToken);const N=process.env,H=0===this.connURL.indexOf("wss://")?N.HTTPS_PROXY||N.https_proxy:N.HTTP_PROXY||N.http_proxy;H&&(y.proxy={origin:H})}this.mySock=new gt(this.connURL,[],y)}catch(y){this.log_("Error instantiating WebSocket.");const C=y.message||y.data;return C&&this.log_(C),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=y=>{this.handleIncomingFrame(y)},this.mySock.onerror=y=>{this.log_("WebSocket error.  Closing connection.");const C=y.message||y.data;C&&this.log_(C),this.onClosed_()}}start(){}static forceDisallow(){c.forceDisallow_=!0}static isAvailable(){let l=!1;if(typeof navigator<"u"&&navigator.userAgent){const y=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);y&&y.length>1&&parseFloat(y[1])<4.4&&(l=!0)}return!l&&null!==gt&&!c.forceDisallow_}static previouslyFailed(){return Lt.isInMemoryStorage||!0===Lt.get("previous_websocket_failure")}markConnectionHealthy(){Lt.remove("previous_websocket_failure")}appendFrame_(l){if(this.frames.push(l),this.frames.length===this.totalFrames){const h=this.frames.join("");this.frames=null;const y=(0,ce.cI)(h);this.onMessage(y)}}handleNewFrameCount_(l){this.totalFrames=l,this.frames=[]}extractFrameCount_(l){if((0,ce.hu)(null===this.frames,"We already have a frame buffer"),l.length<=6){const h=Number(l);if(!isNaN(h))return this.handleNewFrameCount_(h),null}return this.handleNewFrameCount_(1),l}handleIncomingFrame(l){if(null===this.mySock)return;const h=l.data;if(this.bytesReceived+=h.length,this.stats_.incrementCounter("bytes_received",h.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(h);else{const y=this.extractFrameCount_(h);null!==y&&this.appendFrame_(y)}}send(l){this.resetKeepAlive();const h=(0,ce.Wl)(l);this.bytesSent+=h.length,this.stats_.incrementCounter("bytes_sent",h.length);const y=$n(h,16384);y.length>1&&this.sendString_(String(y.length));for(let C=0;C<y.length;C++)this.sendString_(y[C])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(l){try{this.mySock.send(l)}catch(h){this.log_("Exception thrown from WebSocket.send():",h.message||h.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return c.responsesRequiredToBeHealthy=2,c.healthyTimeout=3e4,c})(),gn=(()=>{class c{constructor(l){this.initTransports_(l)}static get ALL_TRANSPORTS(){return[G,St]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(l){const h=St&&St.isAvailable();let y=h&&!St.previouslyFailed();if(l.webSocketOnly&&(h||dn("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),y=!0),y)this.transports_=[St];else{const C=this.transports_=[];for(const N of c.ALL_TRANSPORTS)N&&N.isAvailable()&&C.push(N);c.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return c.globalTransportInitialized_=!1,c})();class Xr{constructor(s,l,h,y,C,N,H,ue,be,dt){this.id=s,this.repoInfo_=l,this.applicationId_=h,this.appCheckToken_=y,this.authToken_=C,this.onMessage_=N,this.onReady_=H,this.onDisconnect_=ue,this.onKill_=be,this.lastSessionId=dt,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=kr("c:"+this.id+":"),this.transportManager_=new gn(l),this.log_("Connection created"),this.start_()}start_(){const s=this.transportManager_.initialTransport();this.conn_=new s(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=s.responsesRequiredToBeHealthy||0;const l=this.connReceiver_(this.conn_),h=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(l,h)},Math.floor(0));const y=s.healthyTimeout||0;y>0&&(this.healthyTimeout_=K(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(y)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(s){return l=>{s===this.conn_?this.onConnectionLost_(l):s===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(s){return l=>{2!==this.state_&&(s===this.rx_?this.onPrimaryMessageReceived_(l):s===this.secondaryConn_?this.onSecondaryMessageReceived_(l):this.log_("message on old connection"))}}sendRequest(s){this.sendData_({t:"d",d:s})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(s){if("t"in s){const l=s.t;"a"===l?this.upgradeIfSecondaryHealthy_():"r"===l?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===l&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(s){const l=Rn("t",s),h=Rn("d",s);if("c"===l)this.onSecondaryControl_(h);else{if("d"!==l)throw new Error("Unknown protocol layer: "+l);this.pendingDataMessages.push(h)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(s){const l=Rn("t",s),h=Rn("d",s);"c"===l?this.onControl_(h):"d"===l&&this.onDataMessage_(h)}onDataMessage_(s){this.onPrimaryResponse_(),this.onMessage_(s)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(s){const l=Rn("t",s);if("d"in s){const h=s.d;if("h"===l){const y=Object.assign({},h);this.repoInfo_.isUsingEmulator&&(y.h=this.repoInfo_.host),this.onHandshake_(y)}else if("n"===l){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let y=0;y<this.pendingDataMessages.length;++y)this.onDataMessage_(this.pendingDataMessages[y]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===l?this.onConnectionShutdown_(h):"r"===l?this.onReset_(h):"e"===l?$r("Server Error: "+h):"o"===l?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):$r("Unknown control packet command: "+l)}}onHandshake_(s){const l=s.ts,h=s.v,y=s.h;this.sessionId=s.s,this.repoInfo_.host=y,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,l),"5"!==h&&dn("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const s=this.transportManager_.upgradeTransport();s&&this.startUpgrade_(s)}startUpgrade_(s){this.secondaryConn_=new s(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=s.responsesRequiredToBeHealthy||0;const l=this.connReceiver_(this.secondaryConn_),h=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(l,h),K(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(s){this.log_("Reset packet received.  New host: "+s),this.repoInfo_.host=s,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(s,l){this.log_("Realtime connection established."),this.conn_=s,this.state_=1,this.onReady_&&(this.onReady_(l,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):K(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const s=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===s||this.rx_===s)&&this.close()}onConnectionLost_(s){this.conn_=null,s||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Lt.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(s){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(s),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(s){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(s)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class Li{put(s,l,h,y){}merge(s,l,h,y){}refreshAuthToken(s){}refreshAppCheckToken(s){}onDisconnectPut(s,l,h){}onDisconnectMerge(s,l,h){}onDisconnectCancel(s,l){}reportStats(s){}}class Si{constructor(s){this.allowedEvents_=s,this.listeners_={},(0,ce.hu)(Array.isArray(s)&&s.length>0,"Requires a non-empty array")}trigger(s,...l){if(Array.isArray(this.listeners_[s])){const h=[...this.listeners_[s]];for(let y=0;y<h.length;y++)h[y].callback.apply(h[y].context,l)}}on(s,l,h){this.validateEventType_(s),this.listeners_[s]=this.listeners_[s]||[],this.listeners_[s].push({callback:l,context:h});const y=this.getInitialEvent(s);y&&l.apply(h,y)}off(s,l,h){this.validateEventType_(s);const y=this.listeners_[s]||[];for(let C=0;C<y.length;C++)if(y[C].callback===l&&(!h||h===y[C].context))return void y.splice(C,1)}validateEventType_(s){(0,ce.hu)(this.allowedEvents_.find(l=>l===s),"Unknown event: "+s)}}class Xn extends Si{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!(0,ce.uI)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new Xn}getInitialEvent(s){return(0,ce.hu)("online"===s,"Unknown event type: "+s),[this.online_]}currentlyOnline(){return this.online_}}class Un{constructor(s,l){if(void 0===l){this.pieces_=s.split("/");let h=0;for(let y=0;y<this.pieces_.length;y++)this.pieces_[y].length>0&&(this.pieces_[h]=this.pieces_[y],h++);this.pieces_.length=h,this.pieceNum_=0}else this.pieces_=s,this.pieceNum_=l}toString(){let s="";for(let l=this.pieceNum_;l<this.pieces_.length;l++)""!==this.pieces_[l]&&(s+="/"+this.pieces_[l]);return s||"/"}}function ar(){return new Un("")}function mr(c){return c.pieceNum_>=c.pieces_.length?null:c.pieces_[c.pieceNum_]}function Bi(c){return c.pieces_.length-c.pieceNum_}function Wr(c){let s=c.pieceNum_;return s<c.pieces_.length&&s++,new Un(c.pieces_,s)}function Cs(c){return c.pieceNum_<c.pieces_.length?c.pieces_[c.pieces_.length-1]:null}function ts(c,s=0){return c.pieces_.slice(c.pieceNum_+s)}function bs(c){if(c.pieceNum_>=c.pieces_.length)return null;const s=[];for(let l=c.pieceNum_;l<c.pieces_.length-1;l++)s.push(c.pieces_[l]);return new Un(s,0)}function di(c,s){const l=[];for(let h=c.pieceNum_;h<c.pieces_.length;h++)l.push(c.pieces_[h]);if(s instanceof Un)for(let h=s.pieceNum_;h<s.pieces_.length;h++)l.push(s.pieces_[h]);else{const h=s.split("/");for(let y=0;y<h.length;y++)h[y].length>0&&l.push(h[y])}return new Un(l,0)}function Jn(c){return c.pieceNum_>=c.pieces_.length}function hr(c,s){const l=mr(c),h=mr(s);if(null===l)return s;if(l===h)return hr(Wr(c),Wr(s));throw new Error("INTERNAL ERROR: innerPath ("+s+") is not within outerPath ("+c+")")}function jo(c,s){const l=ts(c,0),h=ts(s,0);for(let y=0;y<l.length&&y<h.length;y++){const C=Dr(l[y],h[y]);if(0!==C)return C}return l.length===h.length?0:l.length<h.length?-1:1}function Ds(c,s){if(Bi(c)!==Bi(s))return!1;for(let l=c.pieceNum_,h=s.pieceNum_;l<=c.pieces_.length;l++,h++)if(c.pieces_[l]!==s.pieces_[h])return!1;return!0}function ms(c,s){let l=c.pieceNum_,h=s.pieceNum_;if(Bi(c)>Bi(s))return!1;for(;l<c.pieces_.length;){if(c.pieces_[l]!==s.pieces_[h])return!1;++l,++h}return!0}class is{constructor(s,l){this.errorPrefix_=l,this.parts_=ts(s,0),this.byteLength_=Math.max(1,this.parts_.length);for(let h=0;h<this.parts_.length;h++)this.byteLength_+=(0,ce.ug)(this.parts_[h]);Ns(this)}}function Ns(c){if(c.byteLength_>768)throw new Error(c.errorPrefix_+"has a key path longer than 768 bytes ("+c.byteLength_+").");if(c.parts_.length>32)throw new Error(c.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+hi(c))}function hi(c){return 0===c.parts_.length?"":"in property '"+c.parts_.join(".")+"'"}class Po extends Si{constructor(){let s,l;super(["visible"]),typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(l="visibilitychange",s="hidden"):typeof document.mozHidden<"u"?(l="mozvisibilitychange",s="mozHidden"):typeof document.msHidden<"u"?(l="msvisibilitychange",s="msHidden"):typeof document.webkitHidden<"u"&&(l="webkitvisibilitychange",s="webkitHidden")),this.visible_=!0,l&&document.addEventListener(l,()=>{const h=!document[s];h!==this.visible_&&(this.visible_=h,this.trigger("visible",h))},!1)}static getInstance(){return new Po}getInitialEvent(s){return(0,ce.hu)("visible"===s,"Unknown event type: "+s),[this.visible_]}}const Hi=1e3;let Us,io=(()=>{class c extends Li{constructor(l,h,y,C,N,H,ue,be){if(super(),this.repoInfo_=l,this.applicationId_=h,this.onDataUpdate_=y,this.onConnectStatus_=C,this.onServerInfoUpdate_=N,this.authTokenProvider_=H,this.appCheckTokenProvider_=ue,this.authOverride_=be,this.id=c.nextPersistentConnectionId_++,this.log_=kr("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Hi,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,be&&!(0,ce.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Po.getInstance().on("visible",this.onVisible_,this),-1===l.host.indexOf("fblocal")&&Xn.getInstance().on("online",this.onOnline_,this)}sendRequest(l,h,y){const C=++this.requestNumber_,N={r:C,a:l,b:h};this.log_((0,ce.Wl)(N)),(0,ce.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(N),y&&(this.requestCBHash_[C]=y)}get(l){this.initConnection_();const h=new ce.BH,C={action:"g",request:{p:l._path.toString(),q:l._queryObject},onComplete:H=>{const ue=H.d;"ok"===H.s?h.resolve(ue):h.reject(ue)}};return this.outstandingGets_.push(C),this.outstandingGetCount_++,this.connected_&&this.sendGet_(this.outstandingGets_.length-1),h.promise}listen(l,h,y,C){this.initConnection_();const N=l._queryIdentifier,H=l._path.toString();this.log_("Listen called for "+H+" "+N),this.listens.has(H)||this.listens.set(H,new Map),(0,ce.hu)(l._queryParams.isDefault()||!l._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,ce.hu)(!this.listens.get(H).has(N),"listen() called twice for same path/queryId.");const ue={onComplete:C,hashFn:h,query:l,tag:y};this.listens.get(H).set(N,ue),this.connected_&&this.sendListen_(ue)}sendGet_(l){const h=this.outstandingGets_[l];this.sendRequest("g",h.request,y=>{delete this.outstandingGets_[l],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),h.onComplete&&h.onComplete(y)})}sendListen_(l){const h=l.query,y=h._path.toString(),C=h._queryIdentifier;this.log_("Listen on "+y+" for "+C);const N={p:y};l.tag&&(N.q=h._queryObject,N.t=l.tag),N.h=l.hashFn(),this.sendRequest("q",N,ue=>{const be=ue.d,dt=ue.s;c.warnOnListenWarnings_(be,h),(this.listens.get(y)&&this.listens.get(y).get(C))===l&&(this.log_("listen response",ue),"ok"!==dt&&this.removeListen_(y,C),l.onComplete&&l.onComplete(dt,be))})}static warnOnListenWarnings_(l,h){if(l&&"object"==typeof l&&(0,ce.r3)(l,"w")){const y=(0,ce.DV)(l,"w");if(Array.isArray(y)&&~y.indexOf("no_index")){const C='".indexOn": "'+h._queryParams.getIndex().toString()+'"',N=h._path.toString();dn(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${C} at ${N} to your security rules for better performance.`)}}}refreshAuthToken(l){this.authToken_=l,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(l)}reduceReconnectDelayIfAdminCredential_(l){(l&&40===l.length||(0,ce.GJ)(l))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(l){this.appCheckToken_=l,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const l=this.authToken_,h=(0,ce.w9)(l)?"auth":"gauth",y={cred:l};null===this.authOverride_?y.noauth=!0:"object"==typeof this.authOverride_&&(y.authvar=this.authOverride_),this.sendRequest(h,y,C=>{const N=C.s,H=C.d||"error";this.authToken_===l&&("ok"===N?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(N,H))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},l=>{const h=l.s,y=l.d||"error";"ok"===h?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(h,y)})}unlisten(l,h){const y=l._path.toString(),C=l._queryIdentifier;this.log_("Unlisten called for "+y+" "+C),(0,ce.hu)(l._queryParams.isDefault()||!l._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(y,C)&&this.connected_&&this.sendUnlisten_(y,C,l._queryObject,h)}sendUnlisten_(l,h,y,C){this.log_("Unlisten on "+l+" for "+h);const N={p:l};C&&(N.q=y,N.t=C),this.sendRequest("n",N)}onDisconnectPut(l,h,y){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",l,h,y):this.onDisconnectRequestQueue_.push({pathString:l,action:"o",data:h,onComplete:y})}onDisconnectMerge(l,h,y){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",l,h,y):this.onDisconnectRequestQueue_.push({pathString:l,action:"om",data:h,onComplete:y})}onDisconnectCancel(l,h){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",l,null,h):this.onDisconnectRequestQueue_.push({pathString:l,action:"oc",data:null,onComplete:h})}sendOnDisconnect_(l,h,y,C){const N={p:h,d:y};this.log_("onDisconnect "+l,N),this.sendRequest(l,N,H=>{C&&setTimeout(()=>{C(H.s,H.d)},Math.floor(0))})}put(l,h,y,C){this.putInternal("p",l,h,y,C)}merge(l,h,y,C){this.putInternal("m",l,h,y,C)}putInternal(l,h,y,C,N){this.initConnection_();const H={p:h,d:y};void 0!==N&&(H.h=N),this.outstandingPuts_.push({action:l,request:H,onComplete:C}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+h)}sendPut_(l){const h=this.outstandingPuts_[l].action,y=this.outstandingPuts_[l].request,C=this.outstandingPuts_[l].onComplete;this.outstandingPuts_[l].queued=this.connected_,this.sendRequest(h,y,N=>{this.log_(h+" response",N),delete this.outstandingPuts_[l],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),C&&C(N.s,N.d)})}reportStats(l){if(this.connected_){const h={c:l};this.log_("reportStats",h),this.sendRequest("s",h,y=>{"ok"!==y.s&&this.log_("reportStats","Error sending stats: "+y.d)})}}onDataMessage_(l){if("r"in l){this.log_("from server: "+(0,ce.Wl)(l));const h=l.r,y=this.requestCBHash_[h];y&&(delete this.requestCBHash_[h],y(l.b))}else{if("error"in l)throw"A server-side error has occurred: "+l.error;"a"in l&&this.onDataPush_(l.a,l.b)}}onDataPush_(l,h){this.log_("handleServerMessage",l,h),"d"===l?this.onDataUpdate_(h.p,h.d,!1,h.t):"m"===l?this.onDataUpdate_(h.p,h.d,!0,h.t):"c"===l?this.onListenRevoked_(h.p,h.q):"ac"===l?this.onAuthRevoked_(h.s,h.d):"apc"===l?this.onAppCheckRevoked_(h.s,h.d):"sd"===l?this.onSecurityDebugPacket_(h):$r("Unrecognized action received from server: "+(0,ce.Wl)(l)+"\nAre you using the latest client?")}onReady_(l,h){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(l),this.lastSessionId=h,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(l){(0,ce.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(l))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(l){l&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Hi,this.realtime_||this.scheduleConnect_(0)),this.visible_=l}onOnline_(l){l?(this.log_("Browser went online."),this.reconnectDelay_=Hi,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=Hi),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const l=(new Date).getTime()-this.lastConnectionAttemptTime_;let h=Math.max(0,this.reconnectDelay_-l);h=Math.random()*h,this.log_("Trying to reconnect in "+h+"ms"),this.scheduleConnect_(h),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var l=this;return(0,ht.Z)(function*(){if(l.shouldReconnect_()){l.log_("Making a connection attempt"),l.lastConnectionAttemptTime_=(new Date).getTime(),l.lastConnectionEstablishedTime_=null;const h=l.onDataMessage_.bind(l),y=l.onReady_.bind(l),C=l.onRealtimeDisconnect_.bind(l),N=l.id+":"+c.nextConnectionId_++,H=l.lastSessionId;let ue=!1,be=null;const dt=function(){be?be.close():(ue=!0,C())};l.realtime_={close:dt,sendRequest:function(nn){(0,ce.hu)(be,"sendRequest call when we're not connected not allowed."),be.sendRequest(nn)}};const Ot=l.forceTokenRefresh_;l.forceTokenRefresh_=!1;try{const[nn,sn]=yield Promise.all([l.authTokenProvider_.getToken(Ot),l.appCheckTokenProvider_.getToken(Ot)]);ue?Sn("getToken() completed but was canceled"):(Sn("getToken() completed. Creating connection."),l.authToken_=nn&&nn.accessToken,l.appCheckToken_=sn&&sn.token,be=new Xr(N,l.repoInfo_,l.applicationId_,l.appCheckToken_,l.authToken_,h,y,C,bn=>{dn(bn+" ("+l.repoInfo_.toString()+")"),l.interrupt("server_kill")},H))}catch(nn){l.log_("Failed to get token: "+nn),ue||(l.repoInfo_.nodeAdmin&&dn(nn),dt())}}})()}interrupt(l){Sn("Interrupting connection for reason: "+l),this.interruptReasons_[l]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(l){Sn("Resuming connection for reason: "+l),delete this.interruptReasons_[l],(0,ce.xb)(this.interruptReasons_)&&(this.reconnectDelay_=Hi,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(l){const h=l-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:h})}cancelSentTransactions_(){for(let l=0;l<this.outstandingPuts_.length;l++){const h=this.outstandingPuts_[l];h&&"h"in h.request&&h.queued&&(h.onComplete&&h.onComplete("disconnect"),delete this.outstandingPuts_[l],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(l,h){let y;y=h?h.map(N=>Fr(N)).join("$"):"default";const C=this.removeListen_(l,y);C&&C.onComplete&&C.onComplete("permission_denied")}removeListen_(l,h){const y=new Un(l).toString();let C;if(this.listens.has(y)){const N=this.listens.get(y);C=N.get(h),N.delete(h),0===N.size&&this.listens.delete(y)}else C=void 0;return C}onAuthRevoked_(l,h){Sn("Auth token revoked: "+l+"/"+h),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===l||"permission_denied"===l)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(l,h){Sn("App check token revoked: "+l+"/"+h),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===l||"permission_denied"===l)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(l){this.securityDebugCallback_?this.securityDebugCallback_(l):"msg"in l&&console.log("FIREBASE: "+l.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const l of this.listens.values())for(const h of l.values())this.sendListen_(h);for(let l=0;l<this.outstandingPuts_.length;l++)this.outstandingPuts_[l]&&this.sendPut_(l);for(;this.onDisconnectRequestQueue_.length;){const l=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(l.action,l.pathString,l.data,l.onComplete)}for(let l=0;l<this.outstandingGets_.length;l++)this.outstandingGets_[l]&&this.sendGet_(l)}sendConnectStats_(){const l={};let h="js";(0,ce.Yr)()&&(h=this.repoInfo_.nodeAdmin?"admin_node":"node"),l["sdk."+h+"."+Ft.replace(/\./g,"-")]=1,(0,ce.uI)()?l["framework.cordova"]=1:(0,ce.b$)()&&(l["framework.reactnative"]=1),this.reportStats(l)}shouldReconnect_(){const l=Xn.getInstance().currentlyOnline();return(0,ce.xb)(this.interruptReasons_)&&l}}return c.nextPersistentConnectionId_=0,c.nextConnectionId_=0,c})();class xr{constructor(s,l){this.name=s,this.node=l}static Wrap(s,l){return new xr(s,l)}}class ns{getCompare(){return this.compare.bind(this)}indexedValueChanged(s,l){const h=new xr(qn,s),y=new xr(qn,l);return 0!==this.compare(h,y)}minPost(){return xr.MIN}}class Oi extends ns{static get __EMPTY_NODE(){return Us}static set __EMPTY_NODE(s){Us=s}compare(s,l){return Dr(s.name,l.name)}isDefinedOn(s){throw(0,ce.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(s,l){return!1}minPost(){return xr.MIN}maxPost(){return new xr(br,Us)}makePost(s,l){return(0,ce.hu)("string"==typeof s,"KeyIndex indexValue must always be a string."),new xr(s,Us)}toString(){return".key"}}const hs=new Oi;class ys{constructor(s,l,h,y,C=null){this.isReverse_=y,this.resultGenerator_=C,this.nodeStack_=[];let N=1;for(;!s.isEmpty();)if(N=l?h(s.key,l):1,y&&(N*=-1),N<0)s=this.isReverse_?s.left:s.right;else{if(0===N){this.nodeStack_.push(s);break}this.nodeStack_.push(s),s=this.isReverse_?s.right:s.left}}getNext(){if(0===this.nodeStack_.length)return null;let l,s=this.nodeStack_.pop();if(l=this.resultGenerator_?this.resultGenerator_(s.key,s.value):{key:s.key,value:s.value},this.isReverse_)for(s=s.left;!s.isEmpty();)this.nodeStack_.push(s),s=s.right;else for(s=s.right;!s.isEmpty();)this.nodeStack_.push(s),s=s.left;return l}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const s=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(s.key,s.value):{key:s.key,value:s.value}}}let Z,vs=(()=>{class c{constructor(l,h,y,C,N){this.key=l,this.value=h,this.color=null!=y?y:c.RED,this.left=null!=C?C:T.EMPTY_NODE,this.right=null!=N?N:T.EMPTY_NODE}copy(l,h,y,C,N){return new c(null!=l?l:this.key,null!=h?h:this.value,null!=y?y:this.color,null!=C?C:this.left,null!=N?N:this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(l){return this.left.inorderTraversal(l)||!!l(this.key,this.value)||this.right.inorderTraversal(l)}reverseTraversal(l){return this.right.reverseTraversal(l)||l(this.key,this.value)||this.left.reverseTraversal(l)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(l,h,y){let C=this;const N=y(l,C.key);return C=N<0?C.copy(null,null,null,C.left.insert(l,h,y),null):0===N?C.copy(null,h,null,null,null):C.copy(null,null,null,null,C.right.insert(l,h,y)),C.fixUp_()}removeMin_(){if(this.left.isEmpty())return T.EMPTY_NODE;let l=this;return!l.left.isRed_()&&!l.left.left.isRed_()&&(l=l.moveRedLeft_()),l=l.copy(null,null,null,l.left.removeMin_(),null),l.fixUp_()}remove(l,h){let y,C;if(y=this,h(l,y.key)<0)!y.left.isEmpty()&&!y.left.isRed_()&&!y.left.left.isRed_()&&(y=y.moveRedLeft_()),y=y.copy(null,null,null,y.left.remove(l,h),null);else{if(y.left.isRed_()&&(y=y.rotateRight_()),!y.right.isEmpty()&&!y.right.isRed_()&&!y.right.left.isRed_()&&(y=y.moveRedRight_()),0===h(l,y.key)){if(y.right.isEmpty())return T.EMPTY_NODE;C=y.right.min_(),y=y.copy(C.key,C.value,null,null,y.right.removeMin_())}y=y.copy(null,null,null,null,y.right.remove(l,h))}return y.fixUp_()}isRed_(){return this.color}fixUp_(){let l=this;return l.right.isRed_()&&!l.left.isRed_()&&(l=l.rotateLeft_()),l.left.isRed_()&&l.left.left.isRed_()&&(l=l.rotateRight_()),l.left.isRed_()&&l.right.isRed_()&&(l=l.colorFlip_()),l}moveRedLeft_(){let l=this.colorFlip_();return l.right.left.isRed_()&&(l=l.copy(null,null,null,null,l.right.rotateRight_()),l=l.rotateLeft_(),l=l.colorFlip_()),l}moveRedRight_(){let l=this.colorFlip_();return l.left.left.isRed_()&&(l=l.rotateRight_(),l=l.colorFlip_()),l}rotateLeft_(){const l=this.copy(null,null,c.RED,null,this.right.left);return this.right.copy(null,null,this.color,l,null)}rotateRight_(){const l=this.copy(null,null,c.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,l)}colorFlip_(){const l=this.left.copy(null,null,!this.left.color,null,null),h=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,l,h)}checkMaxDepth_(){const l=this.check_();return Math.pow(2,l)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const l=this.left.check_();if(l!==this.right.check_())throw new Error("Black depths differ");return l+(this.isRed_()?0:1)}}return c.RED=!0,c.BLACK=!1,c})();class T{constructor(s,l=T.EMPTY_NODE){this.comparator_=s,this.root_=l}insert(s,l){return new T(this.comparator_,this.root_.insert(s,l,this.comparator_).copy(null,null,vs.BLACK,null,null))}remove(s){return new T(this.comparator_,this.root_.remove(s,this.comparator_).copy(null,null,vs.BLACK,null,null))}get(s){let l,h=this.root_;for(;!h.isEmpty();){if(l=this.comparator_(s,h.key),0===l)return h.value;l<0?h=h.left:l>0&&(h=h.right)}return null}getPredecessorKey(s){let l,h=this.root_,y=null;for(;!h.isEmpty();){if(l=this.comparator_(s,h.key),0===l){if(h.left.isEmpty())return y?y.key:null;for(h=h.left;!h.right.isEmpty();)h=h.right;return h.key}l<0?h=h.left:l>0&&(y=h,h=h.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(s){return this.root_.inorderTraversal(s)}reverseTraversal(s){return this.root_.reverseTraversal(s)}getIterator(s){return new ys(this.root_,null,this.comparator_,!1,s)}getIteratorFrom(s,l){return new ys(this.root_,s,this.comparator_,!1,l)}getReverseIteratorFrom(s,l){return new ys(this.root_,s,this.comparator_,!0,l)}getReverseIterator(s){return new ys(this.root_,null,this.comparator_,!0,s)}}function X(c,s){return Dr(c.name,s.name)}function S(c,s){return Dr(c,s)}T.EMPTY_NODE=new class fo{copy(s,l,h,y,C){return this}insert(s,l,h){return new vs(s,l,null)}remove(s,l){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(s){return!1}reverseTraversal(s){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const Xt=function(c){return"number"==typeof c?"number:"+Ee(c):"string:"+c},jn=function(c){if(c.isLeafNode()){const s=c.val();(0,ce.hu)("string"==typeof s||"number"==typeof s||"object"==typeof s&&(0,ce.r3)(s,".sv"),"Priority must be a string or number.")}else(0,ce.hu)(c===Z||c.isEmpty(),"priority of unexpected type.");(0,ce.hu)(c===Z||c.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let pr,jr,Vi,Ur=(()=>{class c{constructor(l,h=c.__childrenNodeConstructor.EMPTY_NODE){this.value_=l,this.priorityNode_=h,this.lazyHash_=null,(0,ce.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),jn(this.priorityNode_)}static set __childrenNodeConstructor(l){pr=l}static get __childrenNodeConstructor(){return pr}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(l){return new c(this.value_,l)}getImmediateChild(l){return".priority"===l?this.priorityNode_:c.__childrenNodeConstructor.EMPTY_NODE}getChild(l){return Jn(l)?this:".priority"===mr(l)?this.priorityNode_:c.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(l,h){return null}updateImmediateChild(l,h){return".priority"===l?this.updatePriority(h):h.isEmpty()&&".priority"!==l?this:c.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(l,h).updatePriority(this.priorityNode_)}updateChild(l,h){const y=mr(l);return null===y?h:h.isEmpty()&&".priority"!==y?this:((0,ce.hu)(".priority"!==y||1===Bi(l),".priority must be the last token in a path"),this.updateImmediateChild(y,c.__childrenNodeConstructor.EMPTY_NODE.updateChild(Wr(l),h)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(l,h){return!1}val(l){return l&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let l="";this.priorityNode_.isEmpty()||(l+="priority:"+Xt(this.priorityNode_.val())+":");const h=typeof this.value_;l+=h+":",l+="number"===h?Ee(this.value_):this.value_,this.lazyHash_=ir(l)}return this.lazyHash_}getValue(){return this.value_}compareTo(l){return l===c.__childrenNodeConstructor.EMPTY_NODE?1:l instanceof c.__childrenNodeConstructor?-1:((0,ce.hu)(l.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(l))}compareToLeafNode_(l){const h=typeof l.value_,y=typeof this.value_,C=c.VALUE_TYPE_ORDER.indexOf(h),N=c.VALUE_TYPE_ORDER.indexOf(y);return(0,ce.hu)(C>=0,"Unknown leaf type: "+h),(0,ce.hu)(N>=0,"Unknown leaf type: "+y),C===N?"object"===y?0:this.value_<l.value_?-1:this.value_===l.value_?0:1:N-C}withIndex(){return this}isIndexed(){return!0}equals(l){return l===this||!!l.isLeafNode()&&(this.value_===l.value_&&this.priorityNode_.equals(l.priorityNode_))}}return c.VALUE_TYPE_ORDER=["object","boolean","number","string"],c})();const re=new class js extends ns{compare(s,l){const h=s.node.getPriority(),y=l.node.getPriority(),C=h.compareTo(y);return 0===C?Dr(s.name,l.name):C}isDefinedOn(s){return!s.getPriority().isEmpty()}indexedValueChanged(s,l){return!s.getPriority().equals(l.getPriority())}minPost(){return xr.MIN}maxPost(){return new xr(br,new Ur("[PRIORITY-POST]",Vi))}makePost(s,l){const h=jr(s);return new xr(l,new Ur("[PRIORITY-POST]",h))}toString(){return".priority"}},Q=Math.log(2);class R{constructor(s){this.count=parseInt(Math.log(s+1)/Q,10),this.current_=this.count-1;const y=(C=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=s+1&y}nextBitIsOne(){const s=!(this.bits_&1<<this.current_);return this.current_--,s}}const M=function(c,s,l,h){c.sort(s);const y=function(ue,be){const dt=be-ue;let Dt,Ot;if(0===dt)return null;if(1===dt)return Dt=c[ue],Ot=l?l(Dt):Dt,new vs(Ot,Dt.node,vs.BLACK,null,null);{const nn=parseInt(dt/2,10)+ue,sn=y(ue,nn),bn=y(nn+1,be);return Dt=c[nn],Ot=l?l(Dt):Dt,new vs(Ot,Dt.node,vs.BLACK,sn,bn)}},H=function(ue){let be=null,dt=null,Dt=c.length;const Ot=function(sn,bn){const yr=Dt-sn,Zr=Dt;Dt-=sn;const yi=y(yr+1,Zr),to=c[yr],Do=l?l(to):to;nn(new vs(Do,to.node,bn,null,yi))},nn=function(sn){be?(be.left=sn,be=sn):(dt=sn,be=sn)};for(let sn=0;sn<ue.count;++sn){const bn=ue.nextBitIsOne(),yr=Math.pow(2,ue.count-(sn+1));bn?Ot(yr,vs.BLACK):(Ot(yr,vs.BLACK),Ot(yr,vs.RED))}return dt}(new R(c.length));return new T(h||s,H)};let w;const A={};class te{constructor(s,l){this.indexes_=s,this.indexSet_=l}static get Default(){return(0,ce.hu)(A&&re,"ChildrenNode.ts has not been loaded"),w=w||new te({".priority":A},{".priority":re}),w}get(s){const l=(0,ce.DV)(this.indexes_,s);if(!l)throw new Error("No index defined for "+s);return l instanceof T?l:null}hasIndex(s){return(0,ce.r3)(this.indexSet_,s.toString())}addIndex(s,l){(0,ce.hu)(s!==hs,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const h=[];let y=!1;const C=l.getIterator(xr.Wrap);let H,N=C.getNext();for(;N;)y=y||s.isDefinedOn(N.node),h.push(N),N=C.getNext();H=y?M(h,s.getCompare()):A;const ue=s.toString(),be=Object.assign({},this.indexSet_);be[ue]=s;const dt=Object.assign({},this.indexes_);return dt[ue]=H,new te(dt,be)}addToIndexes(s,l){const h=(0,ce.UI)(this.indexes_,(y,C)=>{const N=(0,ce.DV)(this.indexSet_,C);if((0,ce.hu)(N,"Missing index implementation for "+C),y===A){if(N.isDefinedOn(s.node)){const H=[],ue=l.getIterator(xr.Wrap);let be=ue.getNext();for(;be;)be.name!==s.name&&H.push(be),be=ue.getNext();return H.push(s),M(H,N.getCompare())}return A}{const H=l.get(s.name);let ue=y;return H&&(ue=ue.remove(new xr(s.name,H))),ue.insert(s,s.node)}});return new te(h,this.indexSet_)}removeFromIndexes(s,l){const h=(0,ce.UI)(this.indexes_,y=>{if(y===A)return y;{const C=l.get(s.name);return C?y.remove(new xr(s.name,C)):y}});return new te(h,this.indexSet_)}}let Ke,tt=(()=>{class c{constructor(l,h,y){this.children_=l,this.priorityNode_=h,this.indexMap_=y,this.lazyHash_=null,this.priorityNode_&&jn(this.priorityNode_),this.children_.isEmpty()&&(0,ce.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Ke||(Ke=new c(new T(S),null,te.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Ke}updatePriority(l){return this.children_.isEmpty()?this:new c(this.children_,l,this.indexMap_)}getImmediateChild(l){if(".priority"===l)return this.getPriority();{const h=this.children_.get(l);return null===h?Ke:h}}getChild(l){const h=mr(l);return null===h?this:this.getImmediateChild(h).getChild(Wr(l))}hasChild(l){return null!==this.children_.get(l)}updateImmediateChild(l,h){if((0,ce.hu)(h,"We should always be passing snapshot nodes"),".priority"===l)return this.updatePriority(h);{const y=new xr(l,h);let C,N;h.isEmpty()?(C=this.children_.remove(l),N=this.indexMap_.removeFromIndexes(y,this.children_)):(C=this.children_.insert(l,h),N=this.indexMap_.addToIndexes(y,this.children_));const H=C.isEmpty()?Ke:this.priorityNode_;return new c(C,H,N)}}updateChild(l,h){const y=mr(l);if(null===y)return h;{(0,ce.hu)(".priority"!==mr(l)||1===Bi(l),".priority must be the last token in a path");const C=this.getImmediateChild(y).updateChild(Wr(l),h);return this.updateImmediateChild(y,C)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(l){if(this.isEmpty())return null;const h={};let y=0,C=0,N=!0;if(this.forEachChild(re,(H,ue)=>{h[H]=ue.val(l),y++,N&&c.INTEGER_REGEXP_.test(H)?C=Math.max(C,Number(H)):N=!1}),!l&&N&&C<2*y){const H=[];for(const ue in h)H[ue]=h[ue];return H}return l&&!this.getPriority().isEmpty()&&(h[".priority"]=this.getPriority().val()),h}hash(){if(null===this.lazyHash_){let l="";this.getPriority().isEmpty()||(l+="priority:"+Xt(this.getPriority().val())+":"),this.forEachChild(re,(h,y)=>{const C=y.hash();""!==C&&(l+=":"+h+":"+C)}),this.lazyHash_=""===l?"":ir(l)}return this.lazyHash_}getPredecessorChildName(l,h,y){const C=this.resolveIndex_(y);if(C){const N=C.getPredecessorKey(new xr(l,h));return N?N.name:null}return this.children_.getPredecessorKey(l)}getFirstChildName(l){const h=this.resolveIndex_(l);if(h){const y=h.minKey();return y&&y.name}return this.children_.minKey()}getFirstChild(l){const h=this.getFirstChildName(l);return h?new xr(h,this.children_.get(h)):null}getLastChildName(l){const h=this.resolveIndex_(l);if(h){const y=h.maxKey();return y&&y.name}return this.children_.maxKey()}getLastChild(l){const h=this.getLastChildName(l);return h?new xr(h,this.children_.get(h)):null}forEachChild(l,h){const y=this.resolveIndex_(l);return y?y.inorderTraversal(C=>h(C.name,C.node)):this.children_.inorderTraversal(h)}getIterator(l){return this.getIteratorFrom(l.minPost(),l)}getIteratorFrom(l,h){const y=this.resolveIndex_(h);if(y)return y.getIteratorFrom(l,C=>C);{const C=this.children_.getIteratorFrom(l.name,xr.Wrap);let N=C.peek();for(;null!=N&&h.compare(N,l)<0;)C.getNext(),N=C.peek();return C}}getReverseIterator(l){return this.getReverseIteratorFrom(l.maxPost(),l)}getReverseIteratorFrom(l,h){const y=this.resolveIndex_(h);if(y)return y.getReverseIteratorFrom(l,C=>C);{const C=this.children_.getReverseIteratorFrom(l.name,xr.Wrap);let N=C.peek();for(;null!=N&&h.compare(N,l)>0;)C.getNext(),N=C.peek();return C}}compareTo(l){return this.isEmpty()?l.isEmpty()?0:-1:l.isLeafNode()||l.isEmpty()?1:l===Jt?-1:0}withIndex(l){if(l===hs||this.indexMap_.hasIndex(l))return this;{const h=this.indexMap_.addIndex(l,this.children_);return new c(this.children_,this.priorityNode_,h)}}isIndexed(l){return l===hs||this.indexMap_.hasIndex(l)}equals(l){if(l===this)return!0;if(l.isLeafNode())return!1;{const h=l;if(this.getPriority().equals(h.getPriority())){if(this.children_.count()===h.children_.count()){const y=this.getIterator(re),C=h.getIterator(re);let N=y.getNext(),H=C.getNext();for(;N&&H;){if(N.name!==H.name||!N.node.equals(H.node))return!1;N=y.getNext(),H=C.getNext()}return null===N&&null===H}return!1}return!1}}resolveIndex_(l){return l===hs?null:this.indexMap_.get(l.toString())}}return c.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,c})();const Jt=new class Bt extends tt{constructor(){super(new T(S),tt.EMPTY_NODE,te.Default)}compareTo(s){return s===this?0:1}equals(s){return s===this}getPriority(){return this}getImmediateChild(s){return tt.EMPTY_NODE}isEmpty(){return!1}};Object.defineProperties(xr,{MIN:{value:new xr(qn,tt.EMPTY_NODE)},MAX:{value:new xr(br,Jt)}}),Oi.__EMPTY_NODE=tt.EMPTY_NODE,Ur.__childrenNodeConstructor=tt,function ke(c){Z=c}(Jt),function fs(c){Vi=c}(Jt);const wr=!0;function kn(c,s=null){if(null===c)return tt.EMPTY_NODE;if("object"==typeof c&&".priority"in c&&(s=c[".priority"]),(0,ce.hu)(null===s||"string"==typeof s||"number"==typeof s||"object"==typeof s&&".sv"in s,"Invalid priority type found: "+typeof s),"object"==typeof c&&".value"in c&&null!==c[".value"]&&(c=c[".value"]),"object"!=typeof c||".sv"in c)return new Ur(c,kn(s));if(c instanceof Array||!wr){let l=tt.EMPTY_NODE;return Ht(c,(h,y)=>{if((0,ce.r3)(c,h)&&"."!==h.substring(0,1)){const C=kn(y);(C.isLeafNode()||!C.isEmpty())&&(l=l.updateImmediateChild(h,C))}}),l.updatePriority(kn(s))}{const l=[];let h=!1;if(Ht(c,(N,H)=>{if("."!==N.substring(0,1)){const ue=kn(H);ue.isEmpty()||(h=h||!ue.getPriority().isEmpty(),l.push(new xr(N,ue)))}}),0===l.length)return tt.EMPTY_NODE;const C=M(l,X,N=>N.name,S);if(h){const N=M(l,re.getCompare());return new tt(C,kn(s),new te({".priority":N},{".priority":re}))}return new tt(C,kn(s),te.Default)}}!function zi(c){jr=c}(kn);class Ir extends ns{constructor(s){super(),this.indexPath_=s,(0,ce.hu)(!Jn(s)&&".priority"!==mr(s),"Can't create PathIndex with empty path or .priority key")}extractChild(s){return s.getChild(this.indexPath_)}isDefinedOn(s){return!s.getChild(this.indexPath_).isEmpty()}compare(s,l){const h=this.extractChild(s.node),y=this.extractChild(l.node),C=h.compareTo(y);return 0===C?Dr(s.name,l.name):C}makePost(s,l){const h=kn(s),y=tt.EMPTY_NODE.updateChild(this.indexPath_,h);return new xr(l,y)}maxPost(){const s=tt.EMPTY_NODE.updateChild(this.indexPath_,Jt);return new xr(br,s)}toString(){return ts(this.indexPath_,0).join("/")}}const Cr=new class Sr extends ns{compare(s,l){const h=s.node.compareTo(l.node);return 0===h?Dr(s.name,l.name):h}isDefinedOn(s){return!0}indexedValueChanged(s,l){return!s.equals(l)}minPost(){return xr.MIN}maxPost(){return xr.MAX}makePost(s,l){const h=kn(s);return new xr(l,h)}toString(){return".value"}};function Ei(c){return{type:"value",snapshotNode:c}}function Gi(c,s){return{type:"child_added",snapshotNode:s,childName:c}}function Di(c,s){return{type:"child_removed",snapshotNode:s,childName:c}}function Ni(c,s,l){return{type:"child_changed",snapshotNode:s,childName:c,oldSnap:l}}class Ai{constructor(s){this.index_=s}updateChild(s,l,h,y,C,N){(0,ce.hu)(s.isIndexed(this.index_),"A node must be indexed if only a child is updated");const H=s.getImmediateChild(l);return H.getChild(y).equals(h.getChild(y))&&H.isEmpty()===h.isEmpty()||(null!=N&&(h.isEmpty()?s.hasChild(l)?N.trackChildChange(Di(l,H)):(0,ce.hu)(s.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):H.isEmpty()?N.trackChildChange(Gi(l,h)):N.trackChildChange(Ni(l,h,H))),s.isLeafNode()&&h.isEmpty())?s:s.updateImmediateChild(l,h).withIndex(this.index_)}updateFullNode(s,l,h){return null!=h&&(s.isLeafNode()||s.forEachChild(re,(y,C)=>{l.hasChild(y)||h.trackChildChange(Di(y,C))}),l.isLeafNode()||l.forEachChild(re,(y,C)=>{if(s.hasChild(y)){const N=s.getImmediateChild(y);N.equals(C)||h.trackChildChange(Ni(y,C,N))}else h.trackChildChange(Gi(y,C))})),l.withIndex(this.index_)}updatePriority(s,l){return s.isEmpty()?tt.EMPTY_NODE:s.updatePriority(l)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class ps{constructor(s){this.indexedFilter_=new Ai(s.getIndex()),this.index_=s.getIndex(),this.startPost_=ps.getStartPost_(s),this.endPost_=ps.getEndPost_(s),this.startIsInclusive_=!s.startAfterSet_,this.endIsInclusive_=!s.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(s){const l=this.startIsInclusive_?this.index_.compare(this.getStartPost(),s)<=0:this.index_.compare(this.getStartPost(),s)<0,h=this.endIsInclusive_?this.index_.compare(s,this.getEndPost())<=0:this.index_.compare(s,this.getEndPost())<0;return l&&h}updateChild(s,l,h,y,C,N){return this.matches(new xr(l,h))||(h=tt.EMPTY_NODE),this.indexedFilter_.updateChild(s,l,h,y,C,N)}updateFullNode(s,l,h){l.isLeafNode()&&(l=tt.EMPTY_NODE);let y=l.withIndex(this.index_);y=y.updatePriority(tt.EMPTY_NODE);const C=this;return l.forEachChild(re,(N,H)=>{C.matches(new xr(N,H))||(y=y.updateImmediateChild(N,tt.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(s,y,h)}updatePriority(s,l){return s}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(s){if(s.hasStart()){const l=s.getIndexStartName();return s.getIndex().makePost(s.getIndexStartValue(),l)}return s.getIndex().minPost()}static getEndPost_(s){if(s.hasEnd()){const l=s.getIndexEndName();return s.getIndex().makePost(s.getIndexEndValue(),l)}return s.getIndex().maxPost()}}class Ho{constructor(s){this.withinDirectionalStart=l=>this.reverse_?this.withinEndPost(l):this.withinStartPost(l),this.withinDirectionalEnd=l=>this.reverse_?this.withinStartPost(l):this.withinEndPost(l),this.withinStartPost=l=>{const h=this.index_.compare(this.rangedFilter_.getStartPost(),l);return this.startIsInclusive_?h<=0:h<0},this.withinEndPost=l=>{const h=this.index_.compare(l,this.rangedFilter_.getEndPost());return this.endIsInclusive_?h<=0:h<0},this.rangedFilter_=new ps(s),this.index_=s.getIndex(),this.limit_=s.getLimit(),this.reverse_=!s.isViewFromLeft(),this.startIsInclusive_=!s.startAfterSet_,this.endIsInclusive_=!s.endBeforeSet_}updateChild(s,l,h,y,C,N){return this.rangedFilter_.matches(new xr(l,h))||(h=tt.EMPTY_NODE),s.getImmediateChild(l).equals(h)?s:s.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(s,l,h,y,C,N):this.fullLimitUpdateChild_(s,l,h,C,N)}updateFullNode(s,l,h){let y;if(l.isLeafNode()||l.isEmpty())y=tt.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<l.numChildren()&&l.isIndexed(this.index_)){let C;y=tt.EMPTY_NODE.withIndex(this.index_),C=this.reverse_?l.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):l.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let N=0;for(;C.hasNext()&&N<this.limit_;){const H=C.getNext();if(this.withinDirectionalStart(H)){if(!this.withinDirectionalEnd(H))break;y=y.updateImmediateChild(H.name,H.node),N++}}}else{let C;y=l.withIndex(this.index_),y=y.updatePriority(tt.EMPTY_NODE),C=this.reverse_?y.getReverseIterator(this.index_):y.getIterator(this.index_);let N=0;for(;C.hasNext();){const H=C.getNext();N<this.limit_&&this.withinDirectionalStart(H)&&this.withinDirectionalEnd(H)?N++:y=y.updateImmediateChild(H.name,tt.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(s,y,h)}updatePriority(s,l){return s}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(s,l,h,y,C){let N;if(this.reverse_){const Dt=this.index_.getCompare();N=(Ot,nn)=>Dt(nn,Ot)}else N=this.index_.getCompare();const H=s;(0,ce.hu)(H.numChildren()===this.limit_,"");const ue=new xr(l,h),be=this.reverse_?H.getFirstChild(this.index_):H.getLastChild(this.index_),dt=this.rangedFilter_.matches(ue);if(H.hasChild(l)){const Dt=H.getImmediateChild(l);let Ot=y.getChildAfterChild(this.index_,be,this.reverse_);for(;null!=Ot&&(Ot.name===l||H.hasChild(Ot.name));)Ot=y.getChildAfterChild(this.index_,Ot,this.reverse_);const nn=null==Ot?1:N(Ot,ue);if(dt&&!h.isEmpty()&&nn>=0)return null!=C&&C.trackChildChange(Ni(l,h,Dt)),H.updateImmediateChild(l,h);{null!=C&&C.trackChildChange(Di(l,Dt));const bn=H.updateImmediateChild(l,tt.EMPTY_NODE);return null!=Ot&&this.rangedFilter_.matches(Ot)?(null!=C&&C.trackChildChange(Gi(Ot.name,Ot.node)),bn.updateImmediateChild(Ot.name,Ot.node)):bn}}return h.isEmpty()?s:dt&&N(be,ue)>=0?(null!=C&&(C.trackChildChange(Di(be.name,be.node)),C.trackChildChange(Gi(l,h))),H.updateImmediateChild(l,h).updateImmediateChild(be.name,tt.EMPTY_NODE)):s}}class Hs{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=re}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,ce.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,ce.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:qn}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,ce.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,ce.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:br}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,ce.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===re}copy(){const s=new Hs;return s.limitSet_=this.limitSet_,s.limit_=this.limit_,s.startSet_=this.startSet_,s.startAfterSet_=this.startAfterSet_,s.indexStartValue_=this.indexStartValue_,s.startNameSet_=this.startNameSet_,s.indexStartName_=this.indexStartName_,s.endSet_=this.endSet_,s.endBeforeSet_=this.endBeforeSet_,s.indexEndValue_=this.indexEndValue_,s.endNameSet_=this.endNameSet_,s.indexEndName_=this.indexEndName_,s.index_=this.index_,s.viewFrom_=this.viewFrom_,s}}function Za(c,s,l){const h=c.copy();return h.startSet_=!0,void 0===s&&(s=null),h.indexStartValue_=s,null!=l?(h.startNameSet_=!0,h.indexStartName_=l):(h.startNameSet_=!1,h.indexStartName_=""),h}function Ma(c,s,l){const h=c.copy();return h.endSet_=!0,void 0===s&&(s=null),h.indexEndValue_=s,void 0!==l?(h.endNameSet_=!0,h.indexEndName_=l):(h.endNameSet_=!1,h.indexEndName_=""),h}function El(c,s){const l=c.copy();return l.index_=s,l}function $l(c){const s={};if(c.isDefault())return s;let l;if(c.index_===re?l="$priority":c.index_===Cr?l="$value":c.index_===hs?l="$key":((0,ce.hu)(c.index_ instanceof Ir,"Unrecognized index type!"),l=c.index_.toString()),s.orderBy=(0,ce.Wl)(l),c.startSet_){const h=c.startAfterSet_?"startAfter":"startAt";s[h]=(0,ce.Wl)(c.indexStartValue_),c.startNameSet_&&(s[h]+=","+(0,ce.Wl)(c.indexStartName_))}if(c.endSet_){const h=c.endBeforeSet_?"endBefore":"endAt";s[h]=(0,ce.Wl)(c.indexEndValue_),c.endNameSet_&&(s[h]+=","+(0,ce.Wl)(c.indexEndName_))}return c.limitSet_&&(c.isViewFromLeft()?s.limitToFirst=c.limit_:s.limitToLast=c.limit_),s}function so(c){const s={};if(c.startSet_&&(s.sp=c.indexStartValue_,c.startNameSet_&&(s.sn=c.indexStartName_),s.sin=!c.startAfterSet_),c.endSet_&&(s.ep=c.indexEndValue_,c.endNameSet_&&(s.en=c.indexEndName_),s.ein=!c.endBeforeSet_),c.limitSet_){s.l=c.limit_;let l=c.viewFrom_;""===l&&(l=c.isViewFromLeft()?"l":"r"),s.vf=l}return c.index_!==re&&(s.i=c.index_.toString()),s}class Vl extends Li{constructor(s,l,h,y){super(),this.repoInfo_=s,this.onDataUpdate_=l,this.authTokenProvider_=h,this.appCheckTokenProvider_=y,this.log_=kr("p:rest:"),this.listens_={}}reportStats(s){throw new Error("Method not implemented.")}static getListenId_(s,l){return void 0!==l?"tag$"+l:((0,ce.hu)(s._queryParams.isDefault(),"should have a tag if it's not a default query."),s._path.toString())}listen(s,l,h,y){const C=s._path.toString();this.log_("Listen called for "+C+" "+s._queryIdentifier);const N=Vl.getListenId_(s,h),H={};this.listens_[N]=H;const ue=$l(s._queryParams);this.restRequest_(C+".json",ue,(be,dt)=>{let Dt=dt;if(404===be&&(Dt=null,be=null),null===be&&this.onDataUpdate_(C,Dt,!1,h),(0,ce.DV)(this.listens_,N)===H){let Ot;Ot=be?401===be?"permission_denied":"rest_error:"+be:"ok",y(Ot,null)}})}unlisten(s,l){const h=Vl.getListenId_(s,l);delete this.listens_[h]}get(s){const l=$l(s._queryParams),h=s._path.toString(),y=new ce.BH;return this.restRequest_(h+".json",l,(C,N)=>{let H=N;404===C&&(H=null,C=null),null===C?(this.onDataUpdate_(h,H,!1,null),y.resolve(H)):y.reject(new Error(H))}),y.promise}refreshAuthToken(s){}restRequest_(s,l={},h){return l.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([y,C])=>{y&&y.accessToken&&(l.auth=y.accessToken),C&&C.token&&(l.ac=C.token);const N=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+s+"?ns="+this.repoInfo_.namespace+(0,ce.xO)(l);this.log_("Sending REST request for "+N);const H=new XMLHttpRequest;H.onreadystatechange=()=>{if(h&&4===H.readyState){this.log_("REST Response for "+N+" received. status:",H.status,"response:",H.responseText);let ue=null;if(H.status>=200&&H.status<300){try{ue=(0,ce.cI)(H.responseText)}catch{dn("Failed to parse JSON response for "+N+": "+H.responseText)}h(null,ue)}else 401!==H.status&&404!==H.status&&dn("Got unsuccessful REST response for "+N+" Status: "+H.status),h(H.status);h=null}},H.open("GET",N,!0),H.send()})}}class Qa{constructor(){this.rootNode_=tt.EMPTY_NODE}getNode(s){return this.rootNode_.getChild(s)}updateSnapshot(s,l){this.rootNode_=this.rootNode_.updateChild(s,l)}}function ra(){return{value:null,children:new Map}}function Zs(c,s,l){if(Jn(s))c.value=l,c.children.clear();else if(null!==c.value)c.value=c.value.updateChild(s,l);else{const h=mr(s);c.children.has(h)||c.children.set(h,ra()),Zs(c.children.get(h),s=Wr(s),l)}}function wl(c,s){if(Jn(s))return c.value=null,c.children.clear(),!0;if(null!==c.value){if(c.value.isLeafNode())return!1;{const l=c.value;return c.value=null,l.forEachChild(re,(h,y)=>{Zs(c,new Un(h),y)}),wl(c,s)}}if(c.children.size>0){const l=mr(s);return s=Wr(s),c.children.has(l)&&wl(c.children.get(l),s)&&c.children.delete(l),0===c.children.size}return!0}function Oo(c,s,l){null!==c.value?l(s,c.value):function ui(c,s){c.children.forEach((l,h)=>{s(h,l)})}(c,(h,y)=>{Oo(y,new Un(s.toString()+"/"+h),l)})}class Js{constructor(s){this.collection_=s,this.last_=null}get(){const s=this.collection_.get(),l=Object.assign({},s);return this.last_&&Ht(this.last_,(h,y)=>{l[h]=l[h]-y}),this.last_=s,l}}class Ul{constructor(s,l){this.server_=l,this.statsToReport_={},this.statsListener_=new Js(s);const h=1e4+2e4*Math.random();K(this.reportStats_.bind(this),Math.floor(h))}reportStats_(){const s=this.statsListener_.get(),l={};let h=!1;Ht(s,(y,C)=>{C>0&&(0,ce.r3)(this.statsToReport_,y)&&(l[y]=C,h=!0)}),h&&this.server_.reportStats(l),K(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var ss=(()=>((ss=ss||{})[ss.OVERWRITE=0]="OVERWRITE",ss[ss.MERGE=1]="MERGE",ss[ss.ACK_USER_WRITE=2]="ACK_USER_WRITE",ss[ss.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",ss))();function Cl(c){return{fromUser:!1,fromServer:!0,queryId:c,tagged:!0}}class U{constructor(s,l,h){this.path=s,this.affectedTree=l,this.revert=h,this.type=ss.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(s){if(Jn(this.path)){if(null!=this.affectedTree.value)return(0,ce.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const l=this.affectedTree.subtree(new Un(s));return new U(ar(),l,this.revert)}}return(0,ce.hu)(mr(this.path)===s,"operationForChild called for unrelated child."),new U(Wr(this.path),this.affectedTree,this.revert)}}class se{constructor(s,l){this.source=s,this.path=l,this.type=ss.LISTEN_COMPLETE}operationForChild(s){return Jn(this.path)?new se(this.source,ar()):new se(this.source,Wr(this.path))}}class j{constructor(s,l,h){this.source=s,this.path=l,this.snap=h,this.type=ss.OVERWRITE}operationForChild(s){return Jn(this.path)?new j(this.source,ar(),this.snap.getImmediateChild(s)):new j(this.source,Wr(this.path),this.snap)}}class we{constructor(s,l,h){this.source=s,this.path=l,this.children=h,this.type=ss.MERGE}operationForChild(s){if(Jn(this.path)){const l=this.children.subtree(new Un(s));return l.isEmpty()?null:l.value?new j(this.source,ar(),l.value):new we(this.source,ar(),l)}return(0,ce.hu)(mr(this.path)===s,"Can't get a merge for a child not on the path of the operation"),new we(this.source,Wr(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class Xe{constructor(s,l,h){this.node_=s,this.fullyInitialized_=l,this.filtered_=h}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(s){if(Jn(s))return this.isFullyInitialized()&&!this.filtered_;const l=mr(s);return this.isCompleteForChild(l)}isCompleteForChild(s){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(s)}getNode(){return this.node_}}class zt{constructor(s){this.query_=s,this.index_=this.query_._queryParams.getIndex()}}function lr(c,s,l,h,y,C){const N=h.filter(H=>H.type===l);N.sort((H,ue)=>function fi(c,s,l){if(null==s.childName||null==l.childName)throw(0,ce.g5)("Should only compare child_ events.");const h=new xr(s.childName,s.snapshotNode),y=new xr(l.childName,l.snapshotNode);return c.index_.compare(h,y)}(c,H,ue)),N.forEach(H=>{const ue=function Ln(c,s,l){return"value"===s.type||"child_removed"===s.type||(s.prevName=l.getPredecessorChildName(s.childName,s.snapshotNode,c.index_)),s}(c,H,C);y.forEach(be=>{be.respondsTo(H.type)&&s.push(be.createEvent(ue,c.query_))})})}function Ar(c,s){return{eventCache:c,serverCache:s}}function Vr(c,s,l,h){return Ar(new Xe(s,l,h),c.serverCache)}function ki(c,s,l,h){return Ar(c.eventCache,new Xe(s,l,h))}function wi(c){return c.eventCache.isFullyInitialized()?c.eventCache.getNode():null}function os(c){return c.serverCache.isFullyInitialized()?c.serverCache.getNode():null}let yn;class Jr{constructor(s,l=(()=>(yn||(yn=new T(zn)),yn))()){this.value=s,this.children=l}static fromObject(s){let l=new Jr(null);return Ht(s,(h,y)=>{l=l.set(new Un(h),y)}),l}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(s,l){if(null!=this.value&&l(this.value))return{path:ar(),value:this.value};if(Jn(s))return null;{const h=mr(s),y=this.children.get(h);if(null!==y){const C=y.findRootMostMatchingPathAndValue(Wr(s),l);return null!=C?{path:di(new Un(h),C.path),value:C.value}:null}return null}}findRootMostValueAndPath(s){return this.findRootMostMatchingPathAndValue(s,()=>!0)}subtree(s){if(Jn(s))return this;{const l=mr(s),h=this.children.get(l);return null!==h?h.subtree(Wr(s)):new Jr(null)}}set(s,l){if(Jn(s))return new Jr(l,this.children);{const h=mr(s),C=(this.children.get(h)||new Jr(null)).set(Wr(s),l),N=this.children.insert(h,C);return new Jr(this.value,N)}}remove(s){if(Jn(s))return this.children.isEmpty()?new Jr(null):new Jr(null,this.children);{const l=mr(s),h=this.children.get(l);if(h){const y=h.remove(Wr(s));let C;return C=y.isEmpty()?this.children.remove(l):this.children.insert(l,y),null===this.value&&C.isEmpty()?new Jr(null):new Jr(this.value,C)}return this}}get(s){if(Jn(s))return this.value;{const l=mr(s),h=this.children.get(l);return h?h.get(Wr(s)):null}}setTree(s,l){if(Jn(s))return l;{const h=mr(s),C=(this.children.get(h)||new Jr(null)).setTree(Wr(s),l);let N;return N=C.isEmpty()?this.children.remove(h):this.children.insert(h,C),new Jr(this.value,N)}}fold(s){return this.fold_(ar(),s)}fold_(s,l){const h={};return this.children.inorderTraversal((y,C)=>{h[y]=C.fold_(di(s,y),l)}),l(s,this.value,h)}findOnPath(s,l){return this.findOnPath_(s,ar(),l)}findOnPath_(s,l,h){const y=!!this.value&&h(l,this.value);if(y)return y;if(Jn(s))return null;{const C=mr(s),N=this.children.get(C);return N?N.findOnPath_(Wr(s),di(l,C),h):null}}foreachOnPath(s,l){return this.foreachOnPath_(s,ar(),l)}foreachOnPath_(s,l,h){if(Jn(s))return this;{this.value&&h(l,this.value);const y=mr(s),C=this.children.get(y);return C?C.foreachOnPath_(Wr(s),di(l,y),h):new Jr(null)}}foreach(s){this.foreach_(ar(),s)}foreach_(s,l){this.children.inorderTraversal((h,y)=>{y.foreach_(di(s,h),l)}),this.value&&l(s,this.value)}foreachChild(s){this.children.inorderTraversal((l,h)=>{h.value&&s(l,h.value)})}}class as{constructor(s){this.writeTree_=s}static empty(){return new as(new Jr(null))}}function Bn(c,s,l){if(Jn(s))return new as(new Jr(l));{const h=c.writeTree_.findRootMostValueAndPath(s);if(null!=h){const y=h.path;let C=h.value;const N=hr(y,s);return C=C.updateChild(N,l),new as(c.writeTree_.set(y,C))}{const y=new Jr(l),C=c.writeTree_.setTree(s,y);return new as(C)}}}function rr(c,s,l){let h=c;return Ht(l,(y,C)=>{h=Bn(h,di(s,y),C)}),h}function pn(c,s){if(Jn(s))return as.empty();{const l=c.writeTree_.setTree(s,new Jr(null));return new as(l)}}function un(c,s){return null!=Gt(c,s)}function Gt(c,s){const l=c.writeTree_.findRootMostValueAndPath(s);return null!=l?c.writeTree_.get(l.path).getChild(hr(l.path,s)):null}function _n(c){const s=[],l=c.writeTree_.value;return null!=l?l.isLeafNode()||l.forEachChild(re,(h,y)=>{s.push(new xr(h,y))}):c.writeTree_.children.inorderTraversal((h,y)=>{null!=y.value&&s.push(new xr(h,y.value))}),s}function ni(c,s){if(Jn(s))return c;{const l=Gt(c,s);return new as(null!=l?new Jr(l):c.writeTree_.subtree(s))}}function Ou(c){return c.writeTree_.isEmpty()}function Yo(c,s){return _a(ar(),c.writeTree_,s)}function _a(c,s,l){if(null!=s.value)return l.updateChild(c,s.value);{let h=null;return s.children.inorderTraversal((y,C)=>{".priority"===y?((0,ce.hu)(null!==C.value,"Priority writes must always be leaf nodes"),h=C.value):l=_a(di(c,y),C,l)}),!l.getChild(c).isEmpty()&&null!==h&&(l=l.updateChild(di(c,".priority"),h)),l}}function bl(c,s){return ku(s,c)}function Mi(c,s){if(c.snap)return ms(c.path,s);for(const l in c.children)if(c.children.hasOwnProperty(l)&&ms(di(c.path,l),s))return!0;return!1}function uu(c){return c.visible}function Gr(c,s,l){let h=as.empty();for(let y=0;y<c.length;++y){const C=c[y];if(s(C)){const N=C.path;let H;if(C.snap)ms(l,N)?(H=hr(l,N),h=Bn(h,H,C.snap)):ms(N,l)&&(H=hr(N,l),h=Bn(h,ar(),C.snap.getChild(H)));else{if(!C.children)throw(0,ce.g5)("WriteRecord should have .snap or .children");if(ms(l,N))H=hr(l,N),h=rr(h,H,C.children);else if(ms(N,l))if(H=hr(N,l),Jn(H))h=rr(h,ar(),C.children);else{const ue=(0,ce.DV)(C.children,mr(H));if(ue){const be=ue.getChild(Wr(H));h=Bn(h,ar(),be)}}}}}return h}function Eo(c,s,l,h,y){if(h||y){const C=ni(c.visibleWrites,s);return!y&&Ou(C)?l:y||null!=l||un(C,ar())?Yo(Gr(c.allWrites,function(be){return(be.visible||y)&&(!h||!~h.indexOf(be.writeId))&&(ms(be.path,s)||ms(s,be.path))},s),l||tt.EMPTY_NODE):null}{const C=Gt(c.visibleWrites,s);if(null!=C)return C;{const N=ni(c.visibleWrites,s);return Ou(N)?l:null!=l||un(N,ar())?Yo(N,l||tt.EMPTY_NODE):null}}}function Yi(c,s,l,h){return Eo(c.writeTree,c.treePath,s,l,h)}function Fn(c,s){return function dh(c,s,l){let h=tt.EMPTY_NODE;const y=Gt(c.visibleWrites,s);if(y)return y.isLeafNode()||y.forEachChild(re,(C,N)=>{h=h.updateImmediateChild(C,N)}),h;if(l){const C=ni(c.visibleWrites,s);return l.forEachChild(re,(N,H)=>{const ue=Yo(ni(C,new Un(N)),H);h=h.updateImmediateChild(N,ue)}),_n(C).forEach(N=>{h=h.updateImmediateChild(N.name,N.node)}),h}return _n(ni(c.visibleWrites,s)).forEach(N=>{h=h.updateImmediateChild(N.name,N.node)}),h}(c.writeTree,c.treePath,s)}function cu(c,s,l,h){return function gs(c,s,l,h,y){(0,ce.hu)(h||y,"Either existingEventSnap or existingServerSnap must exist");const C=di(s,l);if(un(c.visibleWrites,C))return null;{const N=ni(c.visibleWrites,C);return Ou(N)?y.getChild(l):Yo(N,y.getChild(l))}}(c.writeTree,c.treePath,s,l,h)}function Xa(c,s){return function Dl(c,s){return Gt(c.visibleWrites,s)}(c.writeTree,di(c.treePath,s))}function du(c,s,l){return function Pr(c,s,l,h){const y=di(s,l),C=Gt(c.visibleWrites,y);return null!=C?C:h.isCompleteForChild(l)?Yo(ni(c.visibleWrites,y),h.getNode().getImmediateChild(l)):null}(c.writeTree,c.treePath,s,l)}function Hl(c,s){return ku(di(c.treePath,s),c.writeTree)}function ku(c,s){return{treePath:c,writeTree:s}}class Ja{constructor(){this.changeMap=new Map}trackChildChange(s){const l=s.type,h=s.childName;(0,ce.hu)("child_added"===l||"child_changed"===l||"child_removed"===l,"Only child changes supported for tracking"),(0,ce.hu)(".priority"!==h,"Only non-priority child changes can be tracked.");const y=this.changeMap.get(h);if(y){const C=y.type;if("child_added"===l&&"child_removed"===C)this.changeMap.set(h,Ni(h,s.snapshotNode,y.snapshotNode));else if("child_removed"===l&&"child_added"===C)this.changeMap.delete(h);else if("child_removed"===l&&"child_changed"===C)this.changeMap.set(h,Di(h,y.oldSnap));else if("child_changed"===l&&"child_added"===C)this.changeMap.set(h,Gi(h,s.snapshotNode));else{if("child_changed"!==l||"child_changed"!==C)throw(0,ce.g5)("Illegal combination of changes: "+s+" occurred after "+y);this.changeMap.set(h,Ni(h,s.snapshotNode,y.oldSnap))}}else this.changeMap.set(h,s)}getChanges(){return Array.from(this.changeMap.values())}}const Tc=new class Fu{getCompleteChild(s){return null}getChildAfterChild(s,l,h){return null}};class No{constructor(s,l,h=null){this.writes_=s,this.viewCache_=l,this.optCompleteServerCache_=h}getCompleteChild(s){const l=this.viewCache_.eventCache;if(l.isCompleteForChild(s))return l.getNode().getImmediateChild(s);{const h=null!=this.optCompleteServerCache_?new Xe(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return du(this.writes_,s,h)}}getChildAfterChild(s,l,h){const y=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:os(this.viewCache_),C=function Ra(c,s,l,h,y,C){return function ci(c,s,l,h,y,C,N){let H;const ue=ni(c.visibleWrites,s),be=Gt(ue,ar());if(null!=be)H=be;else{if(null==l)return[];H=Yo(ue,l)}if(H=H.withIndex(N),H.isEmpty()||H.isLeafNode())return[];{const dt=[],Dt=N.getCompare(),Ot=C?H.getReverseIteratorFrom(h,N):H.getIteratorFrom(h,N);let nn=Ot.getNext();for(;nn&&dt.length<y;)0!==Dt(nn,h)&&dt.push(nn),nn=Ot.getNext();return dt}}(c.writeTree,c.treePath,s,l,h,y,C)}(this.writes_,y,l,1,h,s);return 0===C.length?null:C[0]}}function Lu(c,s,l,h,y,C){const N=s.eventCache;if(null!=Xa(h,l))return s;{let H,ue;if(Jn(l))if((0,ce.hu)(s.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),s.serverCache.isFiltered()){const be=os(s),Dt=Fn(h,be instanceof tt?be:tt.EMPTY_NODE);H=c.filter.updateFullNode(s.eventCache.getNode(),Dt,C)}else{const be=Yi(h,os(s));H=c.filter.updateFullNode(s.eventCache.getNode(),be,C)}else{const be=mr(l);if(".priority"===be){(0,ce.hu)(1===Bi(l),"Can't have a priority with additional path components");const dt=N.getNode();ue=s.serverCache.getNode();const Dt=cu(h,l,dt,ue);H=null!=Dt?c.filter.updatePriority(dt,Dt):N.getNode()}else{const dt=Wr(l);let Dt;if(N.isCompleteForChild(be)){ue=s.serverCache.getNode();const Ot=cu(h,l,N.getNode(),ue);Dt=null!=Ot?N.getNode().getImmediateChild(be).updateChild(dt,Ot):N.getNode().getImmediateChild(be)}else Dt=du(h,be,s.serverCache);H=null!=Dt?c.filter.updateChild(N.getNode(),be,Dt,dt,y,C):N.getNode()}}return Vr(s,H,N.isFullyInitialized()||Jn(l),c.filter.filtersNodes())}}function Vt(c,s,l,h,y,C,N,H){const ue=s.serverCache;let be;const dt=N?c.filter:c.filter.getIndexedFilter();if(Jn(l))be=dt.updateFullNode(ue.getNode(),h,null);else if(dt.filtersNodes()&&!ue.isFiltered()){const nn=ue.getNode().updateChild(l,h);be=dt.updateFullNode(ue.getNode(),nn,null)}else{const nn=mr(l);if(!ue.isCompleteForPath(l)&&Bi(l)>1)return s;const sn=Wr(l),yr=ue.getNode().getImmediateChild(nn).updateChild(sn,h);be=".priority"===nn?dt.updatePriority(ue.getNode(),yr):dt.updateChild(ue.getNode(),nn,yr,sn,Tc,null)}const Dt=ki(s,be,ue.isFullyInitialized()||Jn(l),dt.filtersNodes());return Lu(c,Dt,l,y,new No(y,Dt,C),H)}function xa(c,s,l,h,y,C,N){const H=s.eventCache;let ue,be;const dt=new No(y,s,C);if(Jn(l))be=c.filter.updateFullNode(s.eventCache.getNode(),h,N),ue=Vr(s,be,!0,c.filter.filtersNodes());else{const Dt=mr(l);if(".priority"===Dt)be=c.filter.updatePriority(s.eventCache.getNode(),h),ue=Vr(s,be,H.isFullyInitialized(),H.isFiltered());else{const Ot=Wr(l),nn=H.getNode().getImmediateChild(Dt);let sn;if(Jn(Ot))sn=h;else{const bn=dt.getCompleteChild(Dt);sn=null!=bn?".priority"===Cs(Ot)&&bn.getChild(bs(Ot)).isEmpty()?bn:bn.updateChild(Ot,h):tt.EMPTY_NODE}ue=nn.equals(sn)?s:Vr(s,c.filter.updateChild(H.getNode(),Dt,sn,Ot,dt,N),H.isFullyInitialized(),c.filter.filtersNodes())}}return ue}function Zo(c,s){return c.eventCache.isCompleteForChild(s)}function nl(c,s,l){return l.foreach((h,y)=>{s=s.updateChild(h,y)}),s}function ao(c,s,l,h,y,C,N,H){if(s.serverCache.getNode().isEmpty()&&!s.serverCache.isFullyInitialized())return s;let be,ue=s;be=Jn(l)?h:new Jr(null).setTree(l,h);const dt=s.serverCache.getNode();return be.children.inorderTraversal((Dt,Ot)=>{if(dt.hasChild(Dt)){const sn=nl(0,s.serverCache.getNode().getImmediateChild(Dt),Ot);ue=Vt(c,ue,new Un(Dt),sn,y,C,N,H)}}),be.children.inorderTraversal((Dt,Ot)=>{const nn=!s.serverCache.isCompleteForChild(Dt)&&null===Ot.value;if(!dt.hasChild(Dt)&&!nn){const bn=nl(0,s.serverCache.getNode().getImmediateChild(Dt),Ot);ue=Vt(c,ue,new Un(Dt),bn,y,C,N,H)}}),ue}class F{constructor(s,l){this.query_=s,this.eventRegistrations_=[];const h=this.query_._queryParams,y=new Ai(h.getIndex()),C=function vl(c){return c.loadsAllData()?new Ai(c.getIndex()):c.hasLimit()?new Ho(c):new ps(c)}(h);this.processor_=function oo(c){return{filter:c}}(C);const N=l.serverCache,H=l.eventCache,ue=y.updateFullNode(tt.EMPTY_NODE,N.getNode(),null),be=C.updateFullNode(tt.EMPTY_NODE,H.getNode(),null),dt=new Xe(ue,N.isFullyInitialized(),y.filtersNodes()),Dt=new Xe(be,H.isFullyInitialized(),C.filtersNodes());this.viewCache_=Ar(Dt,dt),this.eventGenerator_=new zt(this.query_)}get query(){return this.query_}}function J(c,s){const l=os(c.viewCache_);return l&&(c.query._queryParams.loadsAllData()||!Jn(s)&&!l.getImmediateChild(mr(s)).isEmpty())?l.getChild(s):null}function Pe(c){return 0===c.eventRegistrations_.length}function It(c,s,l){const h=[];if(l){(0,ce.hu)(null==s,"A cancel should cancel all event registrations.");const y=c.query._path;c.eventRegistrations_.forEach(C=>{const N=C.createCancelEvent(l,y);N&&h.push(N)})}if(s){let y=[];for(let C=0;C<c.eventRegistrations_.length;++C){const N=c.eventRegistrations_[C];if(N.matches(s)){if(s.hasAnyCallback()){y=y.concat(c.eventRegistrations_.slice(C+1));break}}else y.push(N)}c.eventRegistrations_=y}else c.eventRegistrations_=[];return h}function en(c,s,l,h){s.type===ss.MERGE&&null!==s.source.queryId&&((0,ce.hu)(os(c.viewCache_),"We should always have a full cache before handling merges"),(0,ce.hu)(wi(c.viewCache_),"Missing event cache, even though we have a server cache"));const y=c.viewCache_,C=function As(c,s,l,h,y){const C=new Ja;let N,H;if(l.type===ss.OVERWRITE){const be=l;be.source.fromUser?N=xa(c,s,be.path,be.snap,h,y,C):((0,ce.hu)(be.source.fromServer,"Unknown source."),H=be.source.tagged||s.serverCache.isFiltered()&&!Jn(be.path),N=Vt(c,s,be.path,be.snap,h,y,H,C))}else if(l.type===ss.MERGE){const be=l;be.source.fromUser?N=function hh(c,s,l,h,y,C,N){let H=s;return h.foreach((ue,be)=>{const dt=di(l,ue);Zo(s,mr(dt))&&(H=xa(c,H,dt,be,y,C,N))}),h.foreach((ue,be)=>{const dt=di(l,ue);Zo(s,mr(dt))||(H=xa(c,H,dt,be,y,C,N))}),H}(c,s,be.path,be.children,h,y,C):((0,ce.hu)(be.source.fromServer,"Unknown source."),H=be.source.tagged||s.serverCache.isFiltered(),N=ao(c,s,be.path,be.children,h,y,H,C))}else if(l.type===ss.ACK_USER_WRITE){const be=l;N=be.revert?function x(c,s,l,h,y,C){let N;if(null!=Xa(h,l))return s;{const H=new No(h,s,y),ue=s.eventCache.getNode();let be;if(Jn(l)||".priority"===mr(l)){let dt;if(s.serverCache.isFullyInitialized())dt=Yi(h,os(s));else{const Dt=s.serverCache.getNode();(0,ce.hu)(Dt instanceof tt,"serverChildren would be complete if leaf node"),dt=Fn(h,Dt)}be=c.filter.updateFullNode(ue,dt,C)}else{const dt=mr(l);let Dt=du(h,dt,s.serverCache);null==Dt&&s.serverCache.isCompleteForChild(dt)&&(Dt=ue.getImmediateChild(dt)),be=null!=Dt?c.filter.updateChild(ue,dt,Dt,Wr(l),H,C):s.eventCache.getNode().hasChild(dt)?c.filter.updateChild(ue,dt,tt.EMPTY_NODE,Wr(l),H,C):ue,be.isEmpty()&&s.serverCache.isFullyInitialized()&&(N=Yi(h,os(s)),N.isLeafNode()&&(be=c.filter.updateFullNode(be,N,C)))}return N=s.serverCache.isFullyInitialized()||null!=Xa(h,ar()),Vr(s,be,N,c.filter.filtersNodes())}}(c,s,be.path,h,y,C):function kf(c,s,l,h,y,C,N){if(null!=Xa(y,l))return s;const H=s.serverCache.isFiltered(),ue=s.serverCache;if(null!=h.value){if(Jn(l)&&ue.isFullyInitialized()||ue.isCompleteForPath(l))return Vt(c,s,l,ue.getNode().getChild(l),y,C,H,N);if(Jn(l)){let be=new Jr(null);return ue.getNode().forEachChild(hs,(dt,Dt)=>{be=be.set(new Un(dt),Dt)}),ao(c,s,l,be,y,C,H,N)}return s}{let be=new Jr(null);return h.foreach((dt,Dt)=>{const Ot=di(l,dt);ue.isCompleteForPath(Ot)&&(be=be.set(dt,ue.getNode().getChild(Ot)))}),ao(c,s,l,be,y,C,H,N)}}(c,s,be.path,be.affectedTree,h,y,C)}else{if(l.type!==ss.LISTEN_COMPLETE)throw(0,ce.g5)("Unknown operation type: "+l.type);N=function Pa(c,s,l,h,y){const C=s.serverCache;return Lu(c,ki(s,C.getNode(),C.isFullyInitialized()||Jn(l),C.isFiltered()),l,h,Tc,y)}(c,s,l.path,h,C)}const ue=C.getChanges();return function tl(c,s,l){const h=s.eventCache;if(h.isFullyInitialized()){const y=h.getNode().isLeafNode()||h.getNode().isEmpty(),C=wi(c);(l.length>0||!c.eventCache.isFullyInitialized()||y&&!h.getNode().equals(C)||!h.getNode().getPriority().equals(C.getPriority()))&&l.push(Ei(wi(s)))}}(s,N,ue),{viewCache:N,changes:ue}}(c.processor_,y,s,l,h);return function el(c,s){(0,ce.hu)(s.eventCache.getNode().isIndexed(c.filter.getIndex()),"Event snap not indexed"),(0,ce.hu)(s.serverCache.getNode().isIndexed(c.filter.getIndex()),"Server snap not indexed")}(c.processor_,C.viewCache),(0,ce.hu)(C.viewCache.serverCache.isFullyInitialized()||!y.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),c.viewCache_=C.viewCache,Br(c,C.changes,C.viewCache.eventCache.getNode(),null)}function Br(c,s,l,h){return function rn(c,s,l,h){const y=[],C=[];return s.forEach(N=>{"child_changed"===N.type&&c.index_.indexedValueChanged(N.oldSnap,N.snapshotNode)&&C.push(function Wi(c,s){return{type:"child_moved",snapshotNode:s,childName:c}}(N.childName,N.snapshotNode))}),lr(c,y,"child_removed",s,h,l),lr(c,y,"child_added",s,h,l),lr(c,y,"child_moved",C,h,l),lr(c,y,"child_changed",s,h,l),lr(c,y,"value",s,h,l),y}(c.eventGenerator_,s,l,h?[h]:c.eventRegistrations_)}let Zn,ia;class ls{constructor(){this.views=new Map}}function Tl(c,s,l,h){const y=s.source.queryId;if(null!==y){const C=c.views.get(y);return(0,ce.hu)(null!=C,"SyncTree gave us an op for an invalid query."),en(C,s,l,h)}{let C=[];for(const N of c.views.values())C=C.concat(en(N,s,l,h));return C}}function Oa(c,s,l,h,y){const N=c.views.get(s._queryIdentifier);if(!N){let H=Yi(l,y?h:null),ue=!1;H?ue=!0:h instanceof tt?(H=Fn(l,h),ue=!1):(H=tt.EMPTY_NODE,ue=!1);const be=Ar(new Xe(H,ue,!1),new Xe(h,y,!1));return new F(s,be)}return N}function zl(c){const s=[];for(const l of c.views.values())l.query._queryParams.loadsAllData()||s.push(l);return s}function ko(c,s){let l=null;for(const h of c.views.values())l=l||J(h,s);return l}function Bp(c,s){return s._queryParams.loadsAllData()?Ac(c):c.views.get(s._queryIdentifier)}function fh(c,s){return null!=Bp(c,s)}function Na(c){return null!=Ac(c)}function Ac(c){for(const s of c.views.values())if(s.query._queryParams.loadsAllData())return s;return null}let ph=1;class $u{constructor(s){this.listenProvider_=s,this.syncPointTree_=new Jr(null),this.pendingWriteTree_=function Nu(){return{visibleWrites:as.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function Mc(c,s,l,h,y){return function bc(c,s,l,h,y){(0,ce.hu)(h>c.lastWriteId,"Stacking an older write on top of newer ones"),void 0===y&&(y=!0),c.allWrites.push({path:s,snap:l,writeId:h,visible:y}),y&&(c.visibleWrites=Bn(c.visibleWrites,s,l)),c.lastWriteId=h}(c.pendingWriteTree_,s,l,h,y),y?oa(c,new j({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},s,l)):[]}function ka(c,s,l=!1){const h=function jl(c,s){for(let l=0;l<c.allWrites.length;l++){const h=c.allWrites[l];if(h.writeId===s)return h}return null}(c.pendingWriteTree_,s);if(function ch(c,s){const l=c.allWrites.findIndex(H=>H.writeId===s);(0,ce.hu)(l>=0,"removeWrite called with nonexistent writeId.");const h=c.allWrites[l];c.allWrites.splice(l,1);let y=h.visible,C=!1,N=c.allWrites.length-1;for(;y&&N>=0;){const H=c.allWrites[N];H.visible&&(N>=l&&Mi(H,h.path)?y=!1:ms(h.path,H.path)&&(C=!0)),N--}return!!y&&(C?(function po(c){c.visibleWrites=Gr(c.allWrites,uu,ar()),c.lastWriteId=c.allWrites.length>0?c.allWrites[c.allWrites.length-1].writeId:-1}(c),!0):(h.snap?c.visibleWrites=pn(c.visibleWrites,h.path):Ht(h.children,ue=>{c.visibleWrites=pn(c.visibleWrites,di(h.path,ue))}),!0))}(c.pendingWriteTree_,s)){let C=new Jr(null);return null!=h.snap?C=C.set(ar(),!0):Ht(h.children,N=>{C=C.set(new Un(N),!0)}),oa(c,new U(h.path,C,l))}return[]}function Uu(c,s,l){return oa(c,new j({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},s,l))}function sa(c,s,l,h,y=!1){const C=s._path,N=c.syncPointTree_.get(C);let H=[];if(N&&("default"===s._queryIdentifier||fh(N,s))){const ue=function Qo(c,s,l,h){const y=s._queryIdentifier,C=[];let N=[];const H=Na(c);if("default"===y)for(const[ue,be]of c.views.entries())N=N.concat(It(be,l,h)),Pe(be)&&(c.views.delete(ue),be.query._queryParams.loadsAllData()||C.push(be.query));else{const ue=c.views.get(y);ue&&(N=N.concat(It(ue,l,h)),Pe(ue)&&(c.views.delete(y),ue.query._queryParams.loadsAllData()||C.push(ue.query)))}return H&&!Na(c)&&C.push(new(function zo(){return(0,ce.hu)(Zn,"Reference.ts has not been loaded"),Zn}())(s._repo,s._path)),{removed:C,events:N}}(N,s,l,h);(function Ea(c){return 0===c.views.size})(N)&&(c.syncPointTree_=c.syncPointTree_.remove(C));const be=ue.removed;if(H=ue.events,!y){const dt=-1!==be.findIndex(Ot=>Ot._queryParams.loadsAllData()),Dt=c.syncPointTree_.findOnPath(C,(Ot,nn)=>Na(nn));if(dt&&!Dt){const Ot=c.syncPointTree_.subtree(C);if(!Ot.isEmpty()){const nn=function Lo(c){return c.fold((s,l,h)=>{if(l&&Na(l))return[Ac(l)];{let y=[];return l&&(y=zl(l)),Ht(h,(C,N)=>{y=y.concat(N)}),y}})}(Ot);for(let sn=0;sn<nn.length;++sn){const bn=nn[sn],yr=bn.query,Zr=fu(c,bn);c.listenProvider_.startListening(Sl(yr),Rc(c,yr),Zr.hashFn,Zr.onComplete)}}}!Dt&&be.length>0&&!h&&(dt?c.listenProvider_.stopListening(Sl(s),null):be.forEach(Ot=>{const nn=c.queryToTagMap.get(qs(Ot));c.listenProvider_.stopListening(Sl(Ot),nn)}))}!function Kl(c,s){for(let l=0;l<s.length;++l){const h=s[l];if(!h._queryParams.loadsAllData()){const y=qs(h),C=c.queryToTagMap.get(y);c.queryToTagMap.delete(y),c.tagToQueryMap.delete(C)}}}(c,be)}return H}function Wl(c,s,l,h){const y=pu(c,h);if(null!=y){const C=Go(y),N=C.path,H=C.queryId,ue=hr(N,s);return us(c,N,new j(Cl(H),ue,l))}return[]}function ju(c,s,l,h=!1){const y=s._path;let C=null,N=!1;c.syncPointTree_.foreachOnPath(y,(Ot,nn)=>{const sn=hr(Ot,y);C=C||ko(nn,sn),N=N||Na(nn)});let ue,H=c.syncPointTree_.get(y);H?(N=N||Na(H),C=C||ko(H,ar())):(H=new ls,c.syncPointTree_=c.syncPointTree_.set(y,H)),null!=C?ue=!0:(ue=!1,C=tt.EMPTY_NODE,c.syncPointTree_.subtree(y).foreachChild((nn,sn)=>{const bn=ko(sn,ar());bn&&(C=C.updateImmediateChild(nn,bn))}));const be=fh(H,s);if(!be&&!s._queryParams.loadsAllData()){const Ot=qs(s);(0,ce.hu)(!c.queryToTagMap.has(Ot),"View does not exist, but we have a tag");const nn=function wa(){return ph++}();c.queryToTagMap.set(Ot,nn),c.tagToQueryMap.set(nn,Ot)}let Dt=function Sc(c,s,l,h,y,C){const N=Oa(c,s,h,y,C);return c.views.has(s._queryIdentifier)||c.views.set(s._queryIdentifier,N),function Te(c,s){c.eventRegistrations_.push(s)}(N,l),function Gn(c,s){const l=c.viewCache_.eventCache,h=[];return l.getNode().isLeafNode()||l.getNode().forEachChild(re,(C,N)=>{h.push(Gi(C,N))}),l.isFullyInitialized()&&h.push(Ei(l.getNode())),Br(c,h,l.getNode(),s)}(N,l)}(H,s,l,bl(c.pendingWriteTree_,y),C,ue);if(!be&&!N&&!h){const Ot=Bp(H,s);Dt=Dt.concat(function Ff(c,s,l){const h=s._path,y=Rc(c,s),C=fu(c,l),N=c.listenProvider_.startListening(Sl(s),y,C.hashFn,C.onComplete),H=c.syncPointTree_.subtree(h);if(y)(0,ce.hu)(!Na(H.value),"If we're adding a query, it shouldn't be shadowed");else{const ue=H.fold((be,dt,Dt)=>{if(!Jn(be)&&dt&&Na(dt))return[Ac(dt).query];{let Ot=[];return dt&&(Ot=Ot.concat(zl(dt).map(nn=>nn.query))),Ht(Dt,(nn,sn)=>{Ot=Ot.concat(sn)}),Ot}});for(let be=0;be<ue.length;++be){const dt=ue[be];c.listenProvider_.stopListening(Sl(dt),Rc(c,dt))}}return N}(c,s,Ot))}return Dt}function Qs(c,s,l){const y=c.pendingWriteTree_,C=c.syncPointTree_.findOnPath(s,(N,H)=>{const be=ko(H,hr(N,s));if(be)return be});return Eo(y,s,C,l,!0)}function oa(c,s){return hu(s,c.syncPointTree_,null,bl(c.pendingWriteTree_,ar()))}function hu(c,s,l,h){if(Jn(c.path))return Fo(c,s,l,h);{const y=s.get(ar());null==l&&null!=y&&(l=ko(y,ar()));let C=[];const N=mr(c.path),H=c.operationForChild(N),ue=s.children.get(N);if(ue&&H){const be=l?l.getImmediateChild(N):null,dt=Hl(h,N);C=C.concat(hu(H,ue,be,dt))}return y&&(C=C.concat(Tl(y,c,h,l))),C}}function Fo(c,s,l,h){const y=s.get(ar());null==l&&null!=y&&(l=ko(y,ar()));let C=[];return s.children.inorderTraversal((N,H)=>{const ue=l?l.getImmediateChild(N):null,be=Hl(h,N),dt=c.operationForChild(N);dt&&(C=C.concat(Fo(dt,H,ue,be)))}),y&&(C=C.concat(Tl(y,c,h,l))),C}function fu(c,s){const l=s.query,h=Rc(c,l);return{hashFn:()=>(function D(c){return c.viewCache_.serverCache.getNode()}(s)||tt.EMPTY_NODE).hash(),onComplete:y=>{if("ok"===y)return h?function gh(c,s,l){const h=pu(c,l);if(h){const y=Go(h),C=y.path,N=y.queryId,H=hr(C,s);return us(c,C,new se(Cl(N),H))}return[]}(c,l._path,h):function go(c,s){return oa(c,new se({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},s))}(c,l._path);{const C=function Qt(c,s){let l="Unknown Error";"too_big"===c?l="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===c?l="Client doesn't have permission to access the desired data.":"unavailable"===c&&(l="The service is unavailable");const h=new Error(c+" at "+s._path.toString()+": "+l);return h.code=c.toUpperCase(),h}(y,l);return sa(c,l,null,C)}}}}function Rc(c,s){const l=qs(s);return c.queryToTagMap.get(l)}function qs(c){return c._path.toString()+"$"+c._queryIdentifier}function pu(c,s){return c.tagToQueryMap.get(s)}function Go(c){const s=c.indexOf("$");return(0,ce.hu)(-1!==s&&s<c.length-1,"Bad queryKey."),{queryId:c.substr(s+1),path:new Un(c.substr(0,s))}}function us(c,s,l){const h=c.syncPointTree_.get(s);return(0,ce.hu)(h,"Missing sync point for query tag that we're tracking"),Tl(h,l,bl(c.pendingWriteTree_,s),null)}function Sl(c){return c._queryParams.loadsAllData()&&!c._queryParams.isDefault()?new(function Bu(){return(0,ce.hu)(ia,"Reference.ts has not been loaded"),ia}())(c._repo,c._path):c}class Fa{constructor(s){this.node_=s}getImmediateChild(s){const l=this.node_.getImmediateChild(s);return new Fa(l)}node(){return this.node_}}class La{constructor(s,l){this.syncTree_=s,this.path_=l}getImmediateChild(s){const l=di(this.path_,s);return new La(this.syncTree_,l)}node(){return Qs(this.syncTree_,this.path_)}}const mh=function(c){return(c=c||{}).timestamp=c.timestamp||(new Date).getTime(),c},Al=function(c,s,l){return c&&"object"==typeof c?((0,ce.hu)(".sv"in c,"Unexpected leaf node or priority contents"),"string"==typeof c[".sv"]?rl(c[".sv"],s,l):"object"==typeof c[".sv"]?xc(c[".sv"],s):void(0,ce.hu)(!1,"Unexpected server value: "+JSON.stringify(c,null,2))):c},rl=function(c,s,l){if("timestamp"===c)return l.timestamp;(0,ce.hu)(!1,"Unexpected server value: "+c)},xc=function(c,s,l){c.hasOwnProperty("increment")||(0,ce.hu)(!1,"Unexpected server value: "+JSON.stringify(c,null,2));const h=c.increment;"number"!=typeof h&&(0,ce.hu)(!1,"Unexpected increment value: "+h);const y=s.node();if((0,ce.hu)(null!==y&&typeof y<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!y.isLeafNode())return h;const N=y.getValue();return"number"!=typeof N?h:N+h},ql=function(c,s,l,h){return Rl(s,new La(l,c),h)},Ml=function(c,s,l){return Rl(c,new Fa(s),l)};function Rl(c,s,l){const h=c.getPriority().val(),y=Al(h,s.getImmediateChild(".priority"),l);let C;if(c.isLeafNode()){const N=c,H=Al(N.getValue(),s,l);return H!==N.getValue()||y!==N.getPriority().val()?new Ur(H,kn(y)):c}{const N=c;return C=N,y!==N.getPriority().val()&&(C=C.updatePriority(new Ur(y))),N.forEachChild(re,(H,ue)=>{const be=Rl(ue,s.getImmediateChild(H),l);be!==ue&&(C=C.updateImmediateChild(H,be))}),C}}class dd{constructor(s="",l=null,h={children:{},childCount:0}){this.name=s,this.parent=l,this.node=h}}function ks(c,s){let l=s instanceof Un?s:new Un(s),h=c,y=mr(l);for(;null!==y;){const C=(0,ce.DV)(h.node.children,y)||{children:{},childCount:0};h=new dd(y,h,C),l=Wr(l),y=mr(l)}return h}function aa(c){return c.node.value}function Ba(c,s){c.node.value=s,yh(c)}function Hu(c){return c.node.childCount>0}function il(c,s){Ht(c.node.children,(l,h)=>{s(new dd(l,c,h))})}function zu(c,s,l,h){l&&!h&&s(c),il(c,y=>{zu(y,s,!0,h)}),l&&h&&s(c)}function sl(c){return new Un(null===c.parent?c.name:sl(c.parent)+"/"+c.name)}function yh(c){null!==c.parent&&function pm(c,s,l){const h=function la(c){return void 0===aa(c)&&!Hu(c)}(l),y=(0,ce.r3)(c.node.children,s);h&&y?(delete c.node.children[s],c.node.childCount--,yh(c)):!h&&!y&&(c.node.children[s]=l.node,c.node.childCount++,yh(c))}(c.parent,c.name,c)}const Lf=/[\[\].#$\/\u0000-\u001F\u007F]/,Vp=/[\[\].#$\u0000-\u001F\u007F]/,Zi=10485760,gu=function(c){return"string"==typeof c&&0!==c.length&&!Lf.test(c)},Qi=function(c){return"string"==typeof c&&0!==c.length&&!Vp.test(c)},mu=function(c){return null===c||"string"==typeof c||"number"==typeof c&&!Mr(c)||c&&"object"==typeof c&&(0,ce.r3)(c,".sv")},Va=function(c,s,l,h){h&&void 0===s||ol((0,ce.gK)(c,"value"),s,l)},ol=function(c,s,l){const h=l instanceof Un?new is(l,c):l;if(void 0===s)throw new Error(c+"contains undefined "+hi(h));if("function"==typeof s)throw new Error(c+"contains a function "+hi(h)+" with contents = "+s.toString());if(Mr(s))throw new Error(c+"contains "+s.toString()+" "+hi(h));if("string"==typeof s&&s.length>Zi/3&&(0,ce.ug)(s)>Zi)throw new Error(c+"contains a string greater than "+Zi+" utf8 bytes "+hi(h)+" ('"+s.substring(0,50)+"...')");if(s&&"object"==typeof s){let y=!1,C=!1;if(Ht(s,(N,H)=>{if(".value"===N)y=!0;else if(".priority"!==N&&".sv"!==N&&(C=!0,!gu(N)))throw new Error(c+" contains an invalid key ("+N+") "+hi(h)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function Os(c,s){c.parts_.length>0&&(c.byteLength_+=1),c.parts_.push(s),c.byteLength_+=(0,ce.ug)(s),Ns(c)})(h,N),ol(c,H,h),function Ys(c){const s=c.parts_.pop();c.byteLength_-=(0,ce.ug)(s),c.parts_.length>0&&(c.byteLength_-=1)}(h)}),y&&C)throw new Error(c+' contains ".value" child '+hi(h)+" in addition to actual children.")}},vh=function(c,s,l,h){if(h&&void 0===s)return;const y=(0,ce.gK)(c,"values");if(!s||"object"!=typeof s||Array.isArray(s))throw new Error(y+" must be an object containing the children to replace.");const C=[];Ht(s,(N,H)=>{const ue=new Un(N);if(ol(y,H,di(l,ue)),".priority"===Cs(ue)&&!mu(H))throw new Error(y+"contains an invalid value for '"+ue.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");C.push(ue)}),function(c,s){let l,h;for(l=0;l<s.length;l++){h=s[l];const C=ts(h);for(let N=0;N<C.length;N++)if((".priority"!==C[N]||N!==C.length-1)&&!gu(C[N]))throw new Error(c+"contains an invalid key ("+C[N]+") in path "+h.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}s.sort(jo);let y=null;for(l=0;l<s.length;l++){if(h=s[l],null!==y&&ms(y,h))throw new Error(c+"contains a path "+y.toString()+" that is ancestor of another path "+h.toString());y=h}}(y,C)},mi=function(c,s,l){if(!l||void 0!==s){if(Mr(s))throw new Error((0,ce.gK)(c,"priority")+"is "+s.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!mu(s))throw new Error((0,ce.gK)(c,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},Ui=function(c,s,l,h){if(!(h&&void 0===l||gu(l)))throw new Error((0,ce.gK)(c,s)+'was an invalid key = "'+l+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},Ia=function(c,s,l,h){if(!(h&&void 0===l||Qi(l)))throw new Error((0,ce.gK)(c,s)+'was an invalid path = "'+l+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},Gu=function(c,s,l,h){l&&(l=l.replace(/^\/*\.info(\/|$)/,"/")),Ia(c,s,l,h)},Xo=function(c,s){if(".info"===mr(s))throw new Error(c+" failed = Can't modify data under /.info/")},Wu=function(c,s){const l=s.path.toString();if("string"!=typeof s.repoInfo.host||0===s.repoInfo.host.length||!gu(s.repoInfo.namespace)&&"localhost"!==s.repoInfo.host.split(":")[0]||0!==l.length&&!function(c){return c&&(c=c.replace(/^\/*\.info(\/|$)/,"/")),Qi(c)}(l))throw new Error((0,ce.gK)(c,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class Pc{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function al(c,s){let l=null;for(let h=0;h<s.length;h++){const y=s[h],C=y.getPath();null!==l&&!Ds(C,l.path)&&(c.eventLists_.push(l),l=null),null===l&&(l={events:[],path:C}),l.events.push(y)}l&&c.eventLists_.push(l)}function _h(c,s,l){al(c,l),hd(c,h=>Ds(h,s))}function Mo(c,s,l){al(c,l),hd(c,h=>ms(h,s)||ms(s,h))}function hd(c,s){c.recursionDepth_++;let l=!0;for(let h=0;h<c.eventLists_.length;h++){const y=c.eventLists_[h];y&&(s(y.path)?(Oc(c.eventLists_[h]),c.eventLists_[h]=null):l=!1)}l&&(c.eventLists_=[]),c.recursionDepth_--}function Oc(c){for(let s=0;s<c.events.length;s++){const l=c.events[s];if(null!==l){c.events[s]=null;const h=l.getEventRunner();tn&&Sn("event: "+l.toString()),et(h)}}}const Eh="repo_interrupt",fd=25;class jp{constructor(s,l,h,y){this.repoInfo_=s,this.forceRestClient_=l,this.authTokenProvider_=h,this.appCheckProvider_=y,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Pc,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=ra(),this.transactionQueueTree_=new dd,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function Yl(c){const l=c.infoData_.getNode(new Un(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+l}function qu(c){return mh({timestamp:Yl(c)})}function pd(c,s,l,h,y){c.dataUpdateCount++;const C=new Un(s);l=c.interceptServerDataCallback_?c.interceptServerDataCallback_(s,l):l;let N=[];if(y)if(h){const ue=(0,ce.UI)(l,be=>kn(be));N=function $i(c,s,l,h){const y=pu(c,h);if(y){const C=Go(y),N=C.path,H=C.queryId,ue=hr(N,s),be=Jr.fromObject(l);return us(c,N,new we(Cl(H),ue,be))}return[]}(c.serverSyncTree_,C,ue,y)}else{const ue=kn(l);N=Wl(c.serverSyncTree_,C,ue,y)}else if(h){const ue=(0,ce.UI)(l,be=>kn(be));N=function Gl(c,s,l){const h=Jr.fromObject(l);return oa(c,new we({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},s,h))}(c.serverSyncTree_,C,ue)}else{const ue=kn(l);N=Uu(c.serverSyncTree_,C,ue)}let H=C;N.length>0&&(H=mo(c,C)),Mo(c.eventQueue_,H,N)}function Yu(c,s){Zu(c,"connected",s),!1===s&&function Ua(c){At(c,"onDisconnectEvents");const s=qu(c),l=ra();Oo(c.onDisconnect_,ar(),(y,C)=>{const N=ql(y,C,c.serverSyncTree_,s);Zs(l,y,N)});let h=[];Oo(l,ar(),(y,C)=>{h=h.concat(Uu(c.serverSyncTree_,y,C));const N=Xu(c,y);mo(c,N)}),c.onDisconnect_=ra(),Mo(c.eventQueue_,ar(),h)}(c)}function Zu(c,s,l){const h=new Un("/.info/"+s),y=kn(l);c.infoData_.updateSnapshot(h,y);const C=Uu(c.infoSyncTree_,h,y);Mo(c.eventQueue_,h,C)}function yu(c){return c.nextWriteId_++}function md(c,s,l,h,y){At(c,"set",{path:s.toString(),value:l,priority:h});const C=qu(c),N=kn(l,h),H=Qs(c.serverSyncTree_,s),ue=Ml(N,H,C),be=yu(c),dt=Mc(c.serverSyncTree_,s,ue,be,!0);al(c.eventQueue_,dt),c.server_.put(s.toString(),N.val(!0),(Ot,nn)=>{const sn="ok"===Ot;sn||dn("set at "+s+" failed: "+Ot);const bn=ka(c.serverSyncTree_,be,!sn);Mo(c.eventQueue_,s,bn),Yt(0,y,Ot,nn)});const Dt=Xu(c,s);mo(c,Dt),Mo(c.eventQueue_,Dt,[])}function Bf(c,s,l){c.server_.onDisconnectCancel(s.toString(),(h,y)=>{"ok"===h&&wl(c.onDisconnect_,s),Yt(0,l,h,y)})}function Ql(c,s,l,h){const y=kn(l);c.server_.onDisconnectPut(s.toString(),y.val(!0),(C,N)=>{"ok"===C&&Zs(c.onDisconnect_,s,y),Yt(0,h,C,N)})}function L(c,s,l){let h;h=".info"===mr(s._path)?sa(c.infoSyncTree_,s,l):sa(c.serverSyncTree_,s,l),_h(c.eventQueue_,s._path,h)}function de(c){c.persistentConnection_&&c.persistentConnection_.interrupt(Eh)}function At(c,...s){let l="";c.persistentConnection_&&(l=c.persistentConnection_.id+":"),Sn(l,...s)}function Yt(c,s,l,h){s&&et(()=>{if("ok"===l)s(null);else{const y=(l||"error").toUpperCase();let C=y;h&&(C+=": "+h);const N=new Error(C);N.code=y,s(N)}})}function Kn(c,s,l){return Qs(c.serverSyncTree_,s,l)||tt.EMPTY_NODE}function Or(c,s=c.transactionQueueTree_){if(s||yo(c,s),aa(s)){const l=ua(c,s);(0,ce.hu)(l.length>0,"Sending zero length transaction queue"),l.every(y=>0===y.status)&&function pi(c,s,l){const h=l.map(be=>be.currentWriteId),y=Kn(c,s,h);let C=y;const N=y.hash();for(let be=0;be<l.length;be++){const dt=l[be];(0,ce.hu)(0===dt.status,"tryToSendTransactionQueue_: items in queue should all be run."),dt.status=1,dt.retryCount++;const Dt=hr(s,dt.path);C=C.updateChild(Dt,dt.currentOutputSnapshotRaw)}const H=C.val(!0),ue=s;c.server_.put(ue.toString(),H,be=>{At(c,"transaction put response",{path:ue.toString(),status:be});let dt=[];if("ok"===be){const Dt=[];for(let Ot=0;Ot<l.length;Ot++)l[Ot].status=2,dt=dt.concat(ka(c.serverSyncTree_,l[Ot].currentWriteId)),l[Ot].onComplete&&Dt.push(()=>l[Ot].onComplete(null,!0,l[Ot].currentOutputSnapshotResolved)),l[Ot].unwatcher();yo(c,ks(c.transactionQueueTree_,s)),Or(c,c.transactionQueueTree_),Mo(c.eventQueue_,s,dt);for(let Ot=0;Ot<Dt.length;Ot++)et(Dt[Ot])}else{if("datastale"===be)for(let Dt=0;Dt<l.length;Dt++)l[Dt].status=3===l[Dt].status?4:0;else{dn("transaction at "+ue.toString()+" failed: "+be);for(let Dt=0;Dt<l.length;Dt++)l[Dt].status=4,l[Dt].abortReason=be}mo(c,s)}},N)}(c,sl(s),l)}else Hu(s)&&il(s,l=>{Or(c,l)})}function mo(c,s){const l=kc(c,s),h=sl(l);return function Xl(c,s,l){if(0===s.length)return;const h=[];let y=[];const N=s.filter(H=>0===H.status).map(H=>H.currentWriteId);for(let H=0;H<s.length;H++){const ue=s[H],be=hr(l,ue.path);let Dt,dt=!1;if((0,ce.hu)(null!==be,"rerunTransactionsUnderNode_: relativePath should not be null."),4===ue.status)dt=!0,Dt=ue.abortReason,y=y.concat(ka(c.serverSyncTree_,ue.currentWriteId,!0));else if(0===ue.status)if(ue.retryCount>=fd)dt=!0,Dt="maxretry",y=y.concat(ka(c.serverSyncTree_,ue.currentWriteId,!0));else{const Ot=Kn(c,ue.path,N);ue.currentInputSnapshot=Ot;const nn=s[H].update(Ot.val());if(void 0!==nn){ol("transaction failed: Data returned ",nn,ue.path);let sn=kn(nn);"object"==typeof nn&&null!=nn&&(0,ce.r3)(nn,".priority")||(sn=sn.updatePriority(Ot.getPriority()));const yr=ue.currentWriteId,Zr=qu(c),yi=Ml(sn,Ot,Zr);ue.currentOutputSnapshotRaw=sn,ue.currentOutputSnapshotResolved=yi,ue.currentWriteId=yu(c),N.splice(N.indexOf(yr),1),y=y.concat(Mc(c.serverSyncTree_,ue.path,yi,ue.currentWriteId,ue.applyLocally)),y=y.concat(ka(c.serverSyncTree_,yr,!0))}else dt=!0,Dt="nodata",y=y.concat(ka(c.serverSyncTree_,ue.currentWriteId,!0))}Mo(c.eventQueue_,l,y),y=[],dt&&(s[H].status=2,setTimeout(s[H].unwatcher,Math.floor(0)),s[H].onComplete&&h.push("nodata"===Dt?()=>s[H].onComplete(null,!1,s[H].currentInputSnapshot):()=>s[H].onComplete(new Error(Dt),!1,null)))}yo(c,c.transactionQueueTree_);for(let H=0;H<h.length;H++)et(h[H]);Or(c,c.transactionQueueTree_)}(c,ua(c,l),h),h}function kc(c,s){let l,h=c.transactionQueueTree_;for(l=mr(s);null!==l&&void 0===aa(h);)h=ks(h,l),l=mr(s=Wr(s));return h}function ua(c,s){const l=[];return Qu(c,s,l),l.sort((h,y)=>h.order-y.order),l}function Qu(c,s,l){const h=aa(s);if(h)for(let y=0;y<h.length;y++)l.push(h[y]);il(s,y=>{Qu(c,y,l)})}function yo(c,s){const l=aa(s);if(l){let h=0;for(let y=0;y<l.length;y++)2!==l[y].status&&(l[h]=l[y],h++);l.length=h,Ba(s,l.length>0?l:void 0)}il(s,h=>{yo(c,h)})}function Xu(c,s){const l=sl(kc(c,s)),h=ks(c.transactionQueueTree_,s);return function $a(c,s,l){let h=l?c:c.parent;for(;null!==h;){if(s(h))return!0;h=h.parent}}(h,y=>{ll(c,y)}),ll(c,h),zu(h,y=>{ll(c,y)}),l}function ll(c,s){const l=aa(s);if(l){const h=[];let y=[],C=-1;for(let N=0;N<l.length;N++)3===l[N].status||(1===l[N].status?((0,ce.hu)(C===N-1,"All SENT items should be at beginning of queue."),C=N,l[N].status=3,l[N].abortReason="set"):((0,ce.hu)(0===l[N].status,"Unexpected transaction status in abort"),l[N].unwatcher(),y=y.concat(ka(c.serverSyncTree_,l[N].currentWriteId,!0)),l[N].onComplete&&h.push(l[N].onComplete.bind(null,new Error("set"),!1,null))));-1===C?Ba(s,void 0):l.length=C+1,Mo(c.eventQueue_,sl(s),y);for(let N=0;N<h.length;N++)et(h[N])}}const Ju=function(c,s){const l=ec(c),h=l.namespace;return"firebase.com"===l.domain&&wn(l.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!h||"undefined"===h)&&"localhost"!==l.domain&&wn("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),l.secure||typeof window<"u"&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&dn("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new bt(l.host,l.secure,h,"ws"===l.scheme||"wss"===l.scheme,s,"",h!==l.subdomain),path:new Un(l.pathString)}},ec=function(c){let s="",l="",h="",y="",C="",N=!0,H="https",ue=443;if("string"==typeof c){let be=c.indexOf("//");be>=0&&(H=c.substring(0,be-1),c=c.substring(be+2));let dt=c.indexOf("/");-1===dt&&(dt=c.length);let Dt=c.indexOf("?");-1===Dt&&(Dt=c.length),s=c.substring(0,Math.min(dt,Dt)),dt<Dt&&(y=function Ca(c){let s="";const l=c.split("/");for(let h=0;h<l.length;h++)if(l[h].length>0){let y=l[h];try{y=decodeURIComponent(y.replace(/\+/g," "))}catch{}s+="/"+y}return s}(c.substring(dt,Dt)));const Ot=function ja(c){const s={};"?"===c.charAt(0)&&(c=c.substring(1));for(const l of c.split("&")){if(0===l.length)continue;const h=l.split("=");2===h.length?s[decodeURIComponent(h[0])]=decodeURIComponent(h[1]):dn(`Invalid query segment '${l}' in query '${c}'`)}return s}(c.substring(Math.min(c.length,Dt)));be=s.indexOf(":"),be>=0?(N="https"===H||"wss"===H,ue=parseInt(s.substring(be+1),10)):be=s.length;const nn=s.slice(0,be);if("localhost"===nn.toLowerCase())l="localhost";else if(nn.split(".").length<=2)l=nn;else{const sn=s.indexOf(".");h=s.substring(0,sn).toLowerCase(),l=s.substring(sn+1),C=h}"ns"in Ot&&(C=Ot.ns)}return{host:s,port:ue,domain:l,subdomain:h,secure:N,scheme:H,pathString:y,namespace:C}},wh="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",Fc=function(){let c=0;const s=[];return function(l){const h=l===c;let y;c=l;const C=new Array(8);for(y=7;y>=0;y--)C[y]=wh.charAt(l%64),l=Math.floor(l/64);(0,ce.hu)(0===l,"Cannot push at time == 0");let N=C.join("");if(h){for(y=11;y>=0&&63===s[y];y--)s[y]=0;s[y]++}else for(y=0;y<12;y++)s[y]=Math.floor(64*Math.random());for(y=0;y<12;y++)N+=wh.charAt(s[y]);return(0,ce.hu)(20===N.length,"nextPushId: Length should be 20."),N}}();class si{constructor(s,l,h,y){this.eventType=s,this.eventRegistration=l,this.snapshot=h,this.prevName=y}getPath(){const s=this.snapshot.ref;return"value"===this.eventType?s._path:s.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+(0,ce.Wl)(this.snapshot.exportVal())}}class gm{constructor(s,l,h){this.eventRegistration=s,this.error=l,this.path=h}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class Ih{constructor(s,l){this.snapshotCallback=s,this.cancelCallback=l}onValue(s,l){this.snapshotCallback.call(null,s,l)}onCancel(s){return(0,ce.hu)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,s)}get hasCancelCallback(){return!!this.cancelCallback}matches(s){return this.snapshotCallback===s.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===s.snapshotCallback.userCallback&&this.snapshotCallback.context===s.snapshotCallback.context}}class $f{constructor(s,l){this._repo=s,this._path=l}cancel(){const s=new ce.BH;return Bf(this._repo,this._path,s.wrapCallback(()=>{})),s.promise}remove(){Xo("OnDisconnect.remove",this._path);const s=new ce.BH;return Ql(this._repo,this._path,null,s.wrapCallback(()=>{})),s.promise}set(s){Xo("OnDisconnect.set",this._path),Va("OnDisconnect.set",s,this._path,!1);const l=new ce.BH;return Ql(this._repo,this._path,s,l.wrapCallback(()=>{})),l.promise}setWithPriority(s,l){Xo("OnDisconnect.setWithPriority",this._path),Va("OnDisconnect.setWithPriority",s,this._path,!1),mi("OnDisconnect.setWithPriority",l,!1);const h=new ce.BH;return function P(c,s,l,h,y){const C=kn(l,h);c.server_.onDisconnectPut(s.toString(),C.val(!0),(N,H)=>{"ok"===N&&Zs(c.onDisconnect_,s,C),Yt(0,y,N,H)})}(this._repo,this._path,s,l,h.wrapCallback(()=>{})),h.promise}update(s){Xo("OnDisconnect.update",this._path),vh("OnDisconnect.update",s,this._path,!1);const l=new ce.BH;return function _(c,s,l,h){if((0,ce.xb)(l))return Sn("onDisconnect().update() called with empty data.  Don't do anything."),void Yt(0,h,"ok",void 0);c.server_.onDisconnectMerge(s.toString(),l,(y,C)=>{"ok"===y&&Ht(l,(N,H)=>{const ue=kn(H);Zs(c.onDisconnect_,di(s,N),ue)}),Yt(0,h,y,C)})}(this._repo,this._path,s,l.wrapCallback(()=>{})),l.promise}}class ca{constructor(s,l,h,y){this._repo=s,this._path=l,this._queryParams=h,this._orderByCalled=y}get key(){return Jn(this._path)?null:Cs(this._path)}get ref(){return new Ha(this._repo,this._path)}get _queryIdentifier(){const s=so(this._queryParams),l=Fr(s);return"{}"===l?"default":l}get _queryObject(){return so(this._queryParams)}isEqual(s){if(!((s=(0,ce.m9)(s))instanceof ca))return!1;const l=this._repo===s._repo,h=Ds(this._path,s._path);return l&&h&&this._queryIdentifier===s._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function Ks(c){let s="";for(let l=c.pieceNum_;l<c.pieces_.length;l++)""!==c.pieces_[l]&&(s+="/"+encodeURIComponent(String(c.pieces_[l])));return s||"/"}(this._path)}}function Ch(c,s){if(!0===c._orderByCalled)throw new Error(s+": You can't combine multiple orderBy calls.")}function Xs(c){let s=null,l=null;if(c.hasStart()&&(s=c.getIndexStartValue()),c.hasEnd()&&(l=c.getIndexEndValue()),c.getIndex()===hs){const h="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",y="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(c.hasStart()){if(c.getIndexStartName()!==qn)throw new Error(h);if("string"!=typeof s)throw new Error(y)}if(c.hasEnd()){if(c.getIndexEndName()!==br)throw new Error(h);if("string"!=typeof l)throw new Error(y)}}else if(c.getIndex()===re){if(null!=s&&!mu(s)||null!=l&&!mu(l))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,ce.hu)(c.getIndex()instanceof Ir||c.getIndex()===Cr,"unknown index type."),null!=s&&"object"==typeof s||null!=l&&"object"==typeof l)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function yd(c){if(c.hasStart()&&c.hasEnd()&&c.hasLimit()&&!c.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class Ha extends ca{constructor(s,l){super(s,l,new Hs,!1)}get parent(){const s=bs(this._path);return null===s?null:new Ha(this._repo,s)}get root(){let s=this;for(;null!==s.parent;)s=s.parent;return s}}class Jl{constructor(s,l,h){this._node=s,this.ref=l,this._index=h}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(s){const l=new Un(s),h=vu(this.ref,s);return new Jl(this._node.getChild(l),h,re)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(s){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(h,y)=>s(new Jl(y,vu(this.ref,h),re)))}hasChild(s){const l=new Un(s);return!this._node.getChild(l).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function uo(c,s){return(c=(0,ce.m9)(c))._checkNotDeleted("ref"),void 0!==s?vu(c._root,s):c._root}function ul(c,s){(c=(0,ce.m9)(c))._checkNotDeleted("refFromURL");const l=Ju(s,c._repo.repoInfo_.nodeAdmin);Wu("refFromURL",l);const h=l.repoInfo;return!c._repo.repoInfo_.isCustomHost()&&h.host!==c._repo.repoInfo_.host&&wn("refFromURL: Host name does not match the current database: (found "+h.host+" but expected "+c._repo.repoInfo_.host+")"),uo(c,l.path.toString())}function vu(c,s){return null===mr((c=(0,ce.m9)(c))._path)?Gu("child","path",s,!1):Ia("child","path",s,!1),new Ha(c._repo,di(c._path,s))}function Vf(c,s){c=(0,ce.m9)(c),Xo("set",c._path),Va("set",s,c._path,!1);const l=new ce.BH;return md(c._repo,c._path,s,null,l.wrapCallback(()=>{})),l.promise}function ym(c,s){vh("update",s,c._path,!1);const l=new ce.BH;return function Nc(c,s,l,h){At(c,"update",{path:s.toString(),value:l});let y=!0;const C=qu(c),N={};if(Ht(l,(H,ue)=>{y=!1,N[H]=ql(di(s,H),kn(ue),c.serverSyncTree_,C)}),y)Sn("update() called with empty data.  Don't do anything."),Yt(0,h,"ok",void 0);else{const H=yu(c),ue=function Vu(c,s,l,h){!function Dc(c,s,l,h){(0,ce.hu)(h>c.lastWriteId,"Stacking an older merge on top of newer ones"),c.allWrites.push({path:s,children:l,writeId:h,visible:!0}),c.visibleWrites=rr(c.visibleWrites,s,l),c.lastWriteId=h}(c.pendingWriteTree_,s,l,h);const y=Jr.fromObject(l);return oa(c,new we({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},s,y))}(c.serverSyncTree_,s,N,H);al(c.eventQueue_,ue),c.server_.merge(s.toString(),l,(be,dt)=>{const Dt="ok"===be;Dt||dn("update at "+s+" failed: "+be);const Ot=ka(c.serverSyncTree_,H,!Dt),nn=Ot.length>0?mo(c,s):s;Mo(c.eventQueue_,nn,Ot),Yt(0,h,be,dt)}),Ht(l,be=>{const dt=Xu(c,di(s,be));mo(c,dt)}),Mo(c.eventQueue_,s,[])}}(c._repo,c._path,s,l.wrapCallback(()=>{})),l.promise}function Dy(c){c=(0,ce.m9)(c);const s=new Ih(()=>{}),l=new Ms(s);return function gd(c,s,l){const h=function _s(c,s){const l=s._path;let h=null;c.syncPointTree_.foreachOnPath(l,(be,dt)=>{const Dt=hr(be,l);h=h||ko(dt,Dt)});let y=c.syncPointTree_.get(l);y?h=h||ko(y,ar()):(y=new ls,c.syncPointTree_=c.syncPointTree_.set(l,y));const C=null!=h,N=C?new Xe(h,!0,!1):null;return function $(c){return wi(c.viewCache_)}(Oa(y,s,bl(c.pendingWriteTree_,s._path),C?N.getNode():tt.EMPTY_NODE,C))}(c.serverSyncTree_,s);return null!=h?Promise.resolve(h):c.server_.get(s).then(y=>{const C=kn(y).withIndex(s._queryParams.getIndex());let N;if(ju(c.serverSyncTree_,s,l,!0),s._queryParams.loadsAllData())N=Uu(c.serverSyncTree_,s._path,C);else{const H=Rc(c.serverSyncTree_,s);N=Wl(c.serverSyncTree_,s._path,C,H)}return Mo(c.eventQueue_,s._path,N),sa(c.serverSyncTree_,s,l,null,!0),C},y=>(At(c,"get for query "+(0,ce.Wl)(s)+" failed: "+y),Promise.reject(new Error(y))))}(c._repo,c,l).then(h=>new Jl(h,new Ha(c._repo,c._path),c._queryParams.getIndex()))}class Ms{constructor(s){this.callbackContext=s}respondsTo(s){return"value"===s}createEvent(s,l){const h=l._queryParams.getIndex();return new si("value",this,new Jl(s.snapshotNode,new Ha(l._repo,l._path),h))}getEventRunner(s){return"cancel"===s.getEventType()?()=>this.callbackContext.onCancel(s.error):()=>this.callbackContext.onValue(s.snapshot,null)}createCancelEvent(s,l){return this.callbackContext.hasCancelCallback?new gm(this,s,l):null}matches(s){return s instanceof Ms&&(!s.callbackContext||!this.callbackContext||s.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class _u{constructor(s,l){this.eventType=s,this.callbackContext=l}respondsTo(s){let l="children_added"===s?"child_added":s;return l="children_removed"===l?"child_removed":l,this.eventType===l}createCancelEvent(s,l){return this.callbackContext.hasCancelCallback?new gm(this,s,l):null}createEvent(s,l){(0,ce.hu)(null!=s.childName,"Child events should have a childName.");const h=vu(new Ha(l._repo,l._path),s.childName),y=l._queryParams.getIndex();return new si(s.type,this,new Jl(s.snapshotNode,h,y),s.prevName)}getEventRunner(s){return"cancel"===s.getEventType()?()=>this.callbackContext.onCancel(s.error):()=>this.callbackContext.onValue(s.snapshot,s.prevName)}matches(s){return s instanceof _u&&this.eventType===s.eventType&&(!this.callbackContext||!s.callbackContext||this.callbackContext.matches(s.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function eu(c,s,l,h,y){let C;if("object"==typeof h&&(C=void 0,y=h),"function"==typeof h&&(C=h),y&&y.onlyOnce){const ue=l,be=(dt,Dt)=>{L(c._repo,c,H),ue(dt,Dt)};be.userCallback=l.userCallback,be.context=l.context,l=be}const N=new Ih(l,C||void 0),H="value"===s?new Ms(N):new _u(s,N);return function I(c,s,l){let h;h=".info"===mr(s._path)?ju(c.infoSyncTree_,s,l):ju(c.serverSyncTree_,s,l),_h(c.eventQueue_,s._path,h)}(c._repo,c,H),()=>L(c._repo,c,H)}function Uf(c,s,l,h){return eu(c,"value",s,l,h)}function vd(c,s,l,h){return eu(c,"child_added",s,l,h)}function _d(c,s,l,h){return eu(c,"child_changed",s,l,h)}function vm(c,s,l,h){return eu(c,"child_moved",s,l,h)}function Dh(c,s,l,h){return eu(c,"child_removed",s,l,h)}function Eu(c,s,l){let h=null;const y=l?new Ih(l):null;"value"===s?h=new Ms(y):s&&(h=new _u(s,y)),L(c._repo,c,h)}class wo{}class tc extends wo{constructor(s,l){super(),this._value=s,this._key=l}_apply(s){Va("endAt",this._value,s._path,!0);const l=Ma(s._queryParams,this._value,this._key);if(yd(l),Xs(l),s._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new ca(s._repo,s._path,l,s._orderByCalled)}}class zp extends wo{constructor(s,l){super(),this._value=s,this._key=l}_apply(s){Va("endBefore",this._value,s._path,!1);const l=function Ki(c,s,l){let h;return h=Ma(c,s,c.index_===hs||l?l:qn),h.endBeforeSet_=!0,h}(s._queryParams,this._value,this._key);if(yd(l),Xs(l),s._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new ca(s._repo,s._path,l,s._orderByCalled)}}class $c extends wo{constructor(s,l){super(),this._value=s,this._key=l}_apply(s){Va("startAt",this._value,s._path,!0);const l=Za(s._queryParams,this._value,this._key);if(yd(l),Xs(l),s._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new ca(s._repo,s._path,l,s._orderByCalled)}}class Wp extends wo{constructor(s,l){super(),this._value=s,this._key=l}_apply(s){Va("startAfter",this._value,s._path,!1);const l=function Ao(c,s,l){let h;return h=Za(c,s,c.index_===hs||l?l:br),h.startAfterSet_=!0,h}(s._queryParams,this._value,this._key);if(yd(l),Xs(l),s._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new ca(s._repo,s._path,l,s._orderByCalled)}}class Ty extends wo{constructor(s){super(),this._limit=s}_apply(s){if(s._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new ca(s._repo,s._path,function ya(c,s){const l=c.copy();return l.limitSet_=!0,l.limit_=s,l.viewFrom_="l",l}(s._queryParams,this._limit),s._orderByCalled)}}class Io extends wo{constructor(s){super(),this._limit=s}_apply(s){if(s._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new ca(s._repo,s._path,function _l(c,s){const l=c.copy();return l.limitSet_=!0,l.limit_=s,l.viewFrom_="r",l}(s._queryParams,this._limit),s._orderByCalled)}}class jf extends wo{constructor(s){super(),this._path=s}_apply(s){Ch(s,"orderByChild");const l=new Un(this._path);if(Jn(l))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const h=new Ir(l),y=El(s._queryParams,h);return Xs(y),new ca(s._repo,s._path,y,!0)}}class Sh extends wo{_apply(s){Ch(s,"orderByKey");const l=El(s._queryParams,hs);return Xs(l),new ca(s._repo,s._path,l,!0)}}class _m extends wo{_apply(s){Ch(s,"orderByPriority");const l=El(s._queryParams,re);return Xs(l),new ca(s._repo,s._path,l,!0)}}class Zp extends wo{_apply(s){Ch(s,"orderByValue");const l=El(s._queryParams,Cr);return Xs(l),new ca(s._repo,s._path,l,!0)}}class zf extends wo{constructor(s,l){super(),this._value=s,this._key=l}_apply(s){if(Va("equalTo",this._value,s._path,!1),s._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(s._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new tc(this._value,this._key)._apply(new $c(this._value,this._key)._apply(s))}}function da(c,...s){let l=(0,ce.m9)(c);for(const h of s)l=h._apply(l);return l}(function lo(c){(0,ce.hu)(!Zn,"__referenceConstructor has already been defined"),Zn=c})(Ha),function $p(c){(0,ce.hu)(!ia,"__referenceConstructor has already been defined"),ia=c}(Ha);const wu={};function Wf(c,s,l,h,y){let C=h||c.options.databaseURL;void 0===C&&(c.options.projectId||wn("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Sn("Using default host for project ",c.options.projectId),C=`${c.options.projectId}-default-rtdb.firebaseio.com`);let ue,be,N=Ju(C,y),H=N.repoInfo;typeof process<"u"&&process.env&&(be=process.env.FIREBASE_DATABASE_EMULATOR_HOST),be?(ue=!0,C=`http://${be}?ns=${H.namespace}`,N=Ju(C,y),H=N.repoInfo):ue=!N.repoInfo.secure;const dt=y&&ue?new Re(Re.OWNER):new q(c.name,c.options,s);Wu("Invalid Firebase Database URL",N),Jn(N.path)||wn("Database URL must point to the root of a Firebase Database (not including a child path).");const Dt=function Kf(c,s,l,h){let y=wu[s.name];y||(y={},wu[s.name]=y);let C=y[c.toURLString()];return C&&wn("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),C=new jp(c,false,l,h),y[c.toURLString()]=C,C}(H,c,dt,new z(c.name,l));return new qf(Dt,c)}class qf{constructor(s,l){this._repoInternal=s,this.app=l,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function Ku(c,s,l){if(c.stats_=Hr(c.repoInfo_),c.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)c.server_=new Vl(c.repoInfo_,(h,y,C,N)=>{pd(c,h,y,C,N)},c.authTokenProvider_,c.appCheckProvider_),setTimeout(()=>Yu(c,!0),0);else{if(typeof l<"u"&&null!==l){if("object"!=typeof l)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,ce.Wl)(l)}catch(h){throw new Error("Invalid authOverride provided: "+h)}}c.persistentConnection_=new io(c.repoInfo_,s,(h,y,C,N)=>{pd(c,h,y,C,N)},h=>{Yu(c,h)},h=>{!function Zl(c,s){Ht(s,(l,h)=>{Zu(c,l,h)})}(c,h)},c.authTokenProvider_,c.appCheckProvider_,l),c.server_=c.persistentConnection_}c.authTokenProvider_.addTokenChangeListener(h=>{c.server_.refreshAuthToken(h)}),c.appCheckProvider_.addTokenChangeListener(h=>{c.server_.refreshAppCheckToken(h.token)}),c.statsReporter_=function Lr(c,s){const l=c.toString();return Qn[l]||(Qn[l]=s()),Qn[l]}(c.repoInfo_,()=>new Ul(c.stats_,c.server_)),c.infoData_=new Qa,c.infoSyncTree_=new $u({startListening:(h,y,C,N)=>{let H=[];const ue=c.infoData_.getNode(h._path);return ue.isEmpty()||(H=Uu(c.infoSyncTree_,h._path,ue),setTimeout(()=>{N("ok")},0)),H},stopListening:()=>{}}),Zu(c,"connected",!1),c.serverSyncTree_=new $u({startListening:(h,y,C,N)=>(c.server_.listen(h,C,y,(H,ue)=>{const be=N(H,ue);Mo(c.eventQueue_,h._path,be)}),[]),stopListening:(h,y)=>{c.server_.unlisten(h,y)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Ha(this._repo,ar())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function Em(c,s){const l=wu[s];(!l||l[c.key]!==c)&&wn(`Database ${s}(${c.repoInfo_}) has already been deleted.`),de(c),delete l[c.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(s){null===this._rootInternal&&wn("Cannot call "+s+" on a deleted database.")}}function wd(){gn.IS_TRANSPORT_INITIALIZED&&dn("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function wm(){wd(),G.forceDisallow()}function eg(){wd(),St.forceDisallow(),G.forceAllow()}function vo(c,s){cr(c,s)}const Im={".sv":"timestamp"};class Qf{constructor(s,l){this.committed=s,this.snapshot=l}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}io.prototype.simpleListen=function(c,s){this.sendRequest("q",{p:c},s)},io.prototype.echo=function(c,s){this.sendRequest("echo",{d:c},s)},function Zf(c){qt(Pt.SDK_VERSION),(0,Pt._registerComponent)(new vt.wA("database",(s,{instanceIdentifier:l})=>Wf(s.getProvider("app").getImmediate(),s.getProvider("auth-internal"),s.getProvider("app-check-internal"),l),"PUBLIC").setMultipleInstances(!0)),(0,Pt.registerVersion)(xt,"0.14.4",c),(0,Pt.registerVersion)(xt,"0.14.4","esm2017")}();const Ay=new cn.Yd("@firebase/database-compat"),My=function(c){Ay.warn("FIREBASE WARNING: "+c)};class Ry{constructor(s){this._delegate=s}cancel(s){(0,ce.Dv)("OnDisconnect.cancel",0,1,arguments.length),(0,ce.Wj)("OnDisconnect.cancel","onComplete",s,!0);const l=this._delegate.cancel();return s&&l.then(()=>s(null),h=>s(h)),l}remove(s){(0,ce.Dv)("OnDisconnect.remove",0,1,arguments.length),(0,ce.Wj)("OnDisconnect.remove","onComplete",s,!0);const l=this._delegate.remove();return s&&l.then(()=>s(null),h=>s(h)),l}set(s,l){(0,ce.Dv)("OnDisconnect.set",1,2,arguments.length),(0,ce.Wj)("OnDisconnect.set","onComplete",l,!0);const h=this._delegate.set(s);return l&&h.then(()=>l(null),y=>l(y)),h}setWithPriority(s,l,h){(0,ce.Dv)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,ce.Wj)("OnDisconnect.setWithPriority","onComplete",h,!0);const y=this._delegate.setWithPriority(s,l);return h&&y.then(()=>h(null),C=>h(C)),y}update(s,l){if((0,ce.Dv)("OnDisconnect.update",1,2,arguments.length),Array.isArray(s)){const y={};for(let C=0;C<s.length;++C)y[""+C]=s[C];s=y,My("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,ce.Wj)("OnDisconnect.update","onComplete",l,!0);const h=this._delegate.update(s);return l&&h.then(()=>l(null),y=>l(y)),h}}class Id{constructor(s,l){this.committed=s,this.snapshot=l}toJSON(){return(0,ce.Dv)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}class za{constructor(s,l){this._database=s,this._delegate=l}val(){return(0,ce.Dv)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return(0,ce.Dv)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return(0,ce.Dv)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return(0,ce.Dv)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(s){return(0,ce.Dv)("DataSnapshot.child",0,1,arguments.length),s=String(s),Ia("DataSnapshot.child","path",s,!1),new za(this._database,this._delegate.child(s))}hasChild(s){return(0,ce.Dv)("DataSnapshot.hasChild",1,1,arguments.length),Ia("DataSnapshot.hasChild","path",s,!1),this._delegate.hasChild(s)}getPriority(){return(0,ce.Dv)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(s){return(0,ce.Dv)("DataSnapshot.forEach",1,1,arguments.length),(0,ce.Wj)("DataSnapshot.forEach","action",s,!1),this._delegate.forEach(l=>s(new za(this._database,l)))}hasChildren(){return(0,ce.Dv)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return(0,ce.Dv)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return(0,ce.Dv)("DataSnapshot.ref",0,0,arguments.length),new ba(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class Co{constructor(s,l){this.database=s,this._delegate=l}on(s,l,h,y){var C;(0,ce.Dv)("Query.on",2,4,arguments.length),(0,ce.Wj)("Query.on","callback",l,!1);const N=Co.getCancelAndContextArgs_("Query.on",h,y),H=(be,dt)=>{l.call(N.context,new za(this.database,be),dt)};H.userCallback=l,H.context=N.context;const ue=null===(C=N.cancel)||void 0===C?void 0:C.bind(N.context);switch(s){case"value":return Uf(this._delegate,H,ue),l;case"child_added":return vd(this._delegate,H,ue),l;case"child_removed":return Dh(this._delegate,H,ue),l;case"child_changed":return _d(this._delegate,H,ue),l;case"child_moved":return vm(this._delegate,H,ue),l;default:throw new Error((0,ce.gK)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(s,l,h){if((0,ce.Dv)("Query.off",0,3,arguments.length),function(c,s,l){if(void 0!==s)switch(s){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,ce.gK)("Query.off","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}(0,s),(0,ce.Wj)("Query.off","callback",l,!0),(0,ce.lb)("Query.off","context",h,!0),l){const y=()=>{};y.userCallback=l,y.context=h,Eu(this._delegate,s,y)}else Eu(this._delegate,s)}get(){return Dy(this._delegate).then(s=>new za(this.database,s))}once(s,l,h,y){(0,ce.Dv)("Query.once",1,4,arguments.length),(0,ce.Wj)("Query.once","callback",l,!0);const C=Co.getCancelAndContextArgs_("Query.once",h,y),N=new ce.BH,H=(be,dt)=>{const Dt=new za(this.database,be);l&&l.call(C.context,Dt,dt),N.resolve(Dt)};H.userCallback=l,H.context=C.context;const ue=be=>{C.cancel&&C.cancel.call(C.context,be),N.reject(be)};switch(s){case"value":Uf(this._delegate,H,ue,{onlyOnce:!0});break;case"child_added":vd(this._delegate,H,ue,{onlyOnce:!0});break;case"child_removed":Dh(this._delegate,H,ue,{onlyOnce:!0});break;case"child_changed":_d(this._delegate,H,ue,{onlyOnce:!0});break;case"child_moved":vm(this._delegate,H,ue,{onlyOnce:!0});break;default:throw new Error((0,ce.gK)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return N.promise}limitToFirst(s){return(0,ce.Dv)("Query.limitToFirst",1,1,arguments.length),new Co(this.database,da(this._delegate,function Sy(c){if("number"!=typeof c||Math.floor(c)!==c||c<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new Ty(c)}(s)))}limitToLast(s){return(0,ce.Dv)("Query.limitToLast",1,1,arguments.length),new Co(this.database,da(this._delegate,function ji(c){if("number"!=typeof c||Math.floor(c)!==c||c<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new Io(c)}(s)))}orderByChild(s){return(0,ce.Dv)("Query.orderByChild",1,1,arguments.length),new Co(this.database,da(this._delegate,function qp(c){if("$key"===c)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===c)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===c)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return Ia("orderByChild","path",c,!1),new jf(c)}(s)))}orderByKey(){return(0,ce.Dv)("Query.orderByKey",0,0,arguments.length),new Co(this.database,da(this._delegate,function Hf(){return new Sh}()))}orderByPriority(){return(0,ce.Dv)("Query.orderByPriority",0,0,arguments.length),new Co(this.database,da(this._delegate,function Yp(){return new _m}()))}orderByValue(){return(0,ce.Dv)("Query.orderByValue",0,0,arguments.length),new Co(this.database,da(this._delegate,function rc(){return new Zp}()))}startAt(s=null,l){return(0,ce.Dv)("Query.startAt",0,2,arguments.length),new Co(this.database,da(this._delegate,function Gp(c=null,s){return Ui("startAt","key",s,!0),new $c(c,s)}(s,l)))}startAfter(s=null,l){return(0,ce.Dv)("Query.startAfter",0,2,arguments.length),new Co(this.database,da(this._delegate,function Kp(c,s){return Ui("startAfter","key",s,!0),new Wp(c,s)}(s,l)))}endAt(s=null,l){return(0,ce.Dv)("Query.endAt",0,2,arguments.length),new Co(this.database,da(this._delegate,function Th(c,s){return Ui("endAt","key",s,!0),new tc(c,s)}(s,l)))}endBefore(s=null,l){return(0,ce.Dv)("Query.endBefore",0,2,arguments.length),new Co(this.database,da(this._delegate,function nc(c,s){return Ui("endBefore","key",s,!0),new zp(c,s)}(s,l)))}equalTo(s,l){return(0,ce.Dv)("Query.equalTo",1,2,arguments.length),new Co(this.database,da(this._delegate,function Ed(c,s){return Ui("equalTo","key",s,!0),new zf(c,s)}(s,l)))}toString(){return(0,ce.Dv)("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return(0,ce.Dv)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(s){if((0,ce.Dv)("Query.isEqual",1,1,arguments.length),!(s instanceof Co))throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");return this._delegate.isEqual(s._delegate)}static getCancelAndContextArgs_(s,l,h){const y={cancel:void 0,context:void 0};if(l&&h)y.cancel=l,(0,ce.Wj)(s,"cancel",y.cancel,!0),y.context=h,(0,ce.lb)(s,"context",y.context,!0);else if(l)if("object"==typeof l&&null!==l)y.context=l;else{if("function"!=typeof l)throw new Error((0,ce.gK)(s,"cancelOrContext")+" must either be a cancel callback or a context object.");y.cancel=l}return y}get ref(){return new ba(this.database,new Ha(this._delegate._repo,this._delegate._path))}}class ba extends Co{constructor(s,l){super(s,new ca(l._repo,l._path,new Hs,!1)),this.database=s,this._delegate=l}getKey(){return(0,ce.Dv)("Reference.key",0,0,arguments.length),this._delegate.key}child(s){return(0,ce.Dv)("Reference.child",1,1,arguments.length),"number"==typeof s&&(s=String(s)),new ba(this.database,vu(this._delegate,s))}getParent(){(0,ce.Dv)("Reference.parent",0,0,arguments.length);const s=this._delegate.parent;return s?new ba(this.database,s):null}getRoot(){return(0,ce.Dv)("Reference.root",0,0,arguments.length),new ba(this.database,this._delegate.root)}set(s,l){(0,ce.Dv)("Reference.set",1,2,arguments.length),(0,ce.Wj)("Reference.set","onComplete",l,!0);const h=Vf(this._delegate,s);return l&&h.then(()=>l(null),y=>l(y)),h}update(s,l){if((0,ce.Dv)("Reference.update",1,2,arguments.length),Array.isArray(s)){const y={};for(let C=0;C<s.length;++C)y[""+C]=s[C];s=y,My("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Xo("Reference.update",this._delegate._path),(0,ce.Wj)("Reference.update","onComplete",l,!0);const h=ym(this._delegate,s);return l&&h.then(()=>l(null),y=>l(y)),h}setWithPriority(s,l,h){(0,ce.Dv)("Reference.setWithPriority",2,3,arguments.length),(0,ce.Wj)("Reference.setWithPriority","onComplete",h,!0);const y=function bh(c,s,l){if(Xo("setWithPriority",c._path),Va("setWithPriority",s,c._path,!1),mi("setWithPriority",l,!1),".length"===c.key||".keys"===c.key)throw"setWithPriority failed: "+c.key+" is a read-only object.";const h=new ce.BH;return md(c._repo,c._path,s,l,h.wrapCallback(()=>{})),h.promise}(this._delegate,s,l);return h&&y.then(()=>h(null),C=>h(C)),y}remove(s){(0,ce.Dv)("Reference.remove",0,1,arguments.length),(0,ce.Wj)("Reference.remove","onComplete",s,!0);const l=function Bc(c){return Xo("remove",c._path),Vf(c,null)}(this._delegate);return s&&l.then(()=>s(null),h=>s(h)),l}transaction(s,l,h){(0,ce.Dv)("Reference.transaction",1,3,arguments.length),(0,ce.Wj)("Reference.transaction","transactionUpdate",s,!1),(0,ce.Wj)("Reference.transaction","onComplete",l,!0),function(c,s,l,h){if(void 0!==l&&"boolean"!=typeof l)throw new Error((0,ce.gK)("Reference.transaction","applyLocally")+"must be a boolean.")}(0,0,h);const y=function tg(c,s,l){var h;if(c=(0,ce.m9)(c),Xo("Reference.transaction",c._path),".length"===c.key||".keys"===c.key)throw"Reference.transaction failed: "+c.key+" is a read-only object.";const y=null===(h=null==l?void 0:l.applyLocally)||void 0===h||h,C=new ce.BH,H=Uf(c,()=>{});return function xn(c,s,l,h,y,C){At(c,"transaction on "+s);const N={path:s,update:l,onComplete:h,status:null,order:tr(),applyLocally:C,retryCount:0,unwatcher:y,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},H=Kn(c,s,void 0);N.currentInputSnapshot=H;const ue=N.update(H.val());if(void 0===ue)N.unwatcher(),N.currentOutputSnapshotRaw=null,N.currentOutputSnapshotResolved=null,N.onComplete&&N.onComplete(null,!1,N.currentInputSnapshot);else{ol("transaction failed: Data returned ",ue,N.path),N.status=0;const be=ks(c.transactionQueueTree_,s),dt=aa(be)||[];let Dt;dt.push(N),Ba(be,dt),"object"==typeof ue&&null!==ue&&(0,ce.r3)(ue,".priority")?(Dt=(0,ce.DV)(ue,".priority"),(0,ce.hu)(mu(Dt),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):Dt=(Qs(c.serverSyncTree_,s)||tt.EMPTY_NODE).getPriority().val();const Ot=qu(c),nn=kn(ue,Dt),sn=Ml(nn,H,Ot);N.currentOutputSnapshotRaw=nn,N.currentOutputSnapshotResolved=sn,N.currentWriteId=yu(c);const bn=Mc(c.serverSyncTree_,s,sn,N.currentWriteId,N.applyLocally);Mo(c.eventQueue_,s,bn),Or(c,c.transactionQueueTree_)}}(c._repo,c._path,s,(ue,be,dt)=>{let Dt=null;ue?C.reject(ue):(Dt=new Jl(dt,new Ha(c._repo,c._path),re),C.resolve(new Qf(be,Dt)))},H,y),C.promise}(this._delegate,s,{applyLocally:h}).then(C=>new Id(C.committed,new za(this.database,C.snapshot)));return l&&y.then(C=>l(null,C.committed,C.snapshot),C=>l(C,!1,null)),y}setPriority(s,l){(0,ce.Dv)("Reference.setPriority",1,2,arguments.length),(0,ce.Wj)("Reference.setPriority","onComplete",l,!0);const h=function Hp(c,s){c=(0,ce.m9)(c),Xo("setPriority",c._path),mi("setPriority",s,!1);const l=new ce.BH;return md(c._repo,di(c._path,".priority"),s,null,l.wrapCallback(()=>{})),l.promise}(this._delegate,s);return l&&h.then(()=>l(null),y=>l(y)),h}push(s,l){(0,ce.Dv)("Reference.push",0,2,arguments.length),(0,ce.Wj)("Reference.push","onComplete",l,!0);const h=function mm(c,s){c=(0,ce.m9)(c),Xo("push",c._path),Va("push",s,c._path,!0);const l=Yl(c._repo),h=Fc(l),y=vu(c,h),C=vu(c,h);let N;return N=null!=s?Vf(C,s).then(()=>C):Promise.resolve(C),y.then=N.then.bind(N),y.catch=N.then.bind(N,void 0),y}(this._delegate,s),y=h.then(N=>new ba(this.database,N));l&&y.then(()=>l(null),N=>l(N));const C=new ba(this.database,h);return C.then=y.then.bind(y),C.catch=y.catch.bind(y,void 0),C}onDisconnect(){return Xo("Reference.onDisconnect",this._delegate._path),new Ry(new $f(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}class jc{constructor(s,l){this._delegate=s,this.app=l,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets:wm,forceLongPolling:eg}}useEmulator(s,l,h={}){!function ic(c,s,l,h={}){(c=(0,ce.m9)(c))._checkNotDeleted("useEmulator"),c._instanceStarted&&wn("Cannot call useEmulator() after instance has already been initialized.");const y=c._repoInternal;let C;if(y.repoInfo_.nodeAdmin)h.mockUserToken&&wn('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),C=new Re(Re.OWNER);else if(h.mockUserToken){const N="string"==typeof h.mockUserToken?h.mockUserToken:(0,ce.Sg)(h.mockUserToken,c.app.options.projectId);C=new Re(N)}!function Xp(c,s,l,h){c.repoInfo_=new bt(`${s}:${l}`,!1,c.repoInfo_.namespace,c.repoInfo_.webSocketOnly,c.repoInfo_.nodeAdmin,c.repoInfo_.persistenceKey,c.repoInfo_.includeNamespaceInQueryParams,!0),h&&(c.authTokenProvider_=h)}(y,s,l,C)}(this._delegate,s,l,h)}ref(s){if((0,ce.Dv)("database.ref",0,1,arguments.length),s instanceof ba){const l=ul(this._delegate,s.toString());return new ba(this,l)}{const l=uo(this._delegate,s);return new ba(this,l)}}refFromURL(s){(0,ce.Dv)("database.refFromURL",1,1,arguments.length);const h=ul(this._delegate,s);return new ba(this,h)}goOffline(){return(0,ce.Dv)("database.goOffline",0,0,arguments.length),function Yf(c){(c=(0,ce.m9)(c))._checkNotDeleted("goOffline"),de(c._repo)}(this._delegate)}goOnline(){return(0,ce.Dv)("database.goOnline",0,0,arguments.length),function Mh(c){(c=(0,ce.m9)(c))._checkNotDeleted("goOnline"),function Se(c){c.persistentConnection_&&c.persistentConnection_.resume(Eh)}(c._repo)}(this._delegate)}}jc.ServerValue={TIMESTAMP:function Rh(){return Im}(),increment:c=>function tu(c){return{".sv":{increment:c}}}(c)};var Dm=Object.freeze({__proto__:null,initStandalone:function bm({app:c,url:s,version:l,customAuthImpl:h,namespace:y,nodeAdmin:C=!1}){qt(l);const N=new vt.zt("auth-internal",new vt.H0("database-standalone"));return N.setComponent(new vt.wA("auth-internal",()=>h,"PRIVATE")),{instance:new jc(Wf(c,N,void 0,s,C),c),namespace:y}}});const xy=jc.ServerValue;!function sc(c){c.INTERNAL.registerComponent(new vt.wA("database-compat",(s,{instanceIdentifier:l})=>{const h=s.getProvider("app-compat").getImmediate(),y=s.getProvider("database").getImmediate({identifier:l});return new jc(y,h)},"PUBLIC").setServiceProps({Reference:ba,Query:Co,Database:jc,DataSnapshot:za,enableLogging:vo,INTERNAL:Dm,ServerValue:xy}).setMultipleInstances(!0)),c.registerVersion("@firebase/database-compat","0.3.4")}(We.Z);var Cd=k(2313),Oh=k(9260);function Da(c){return null==c}function rg(c){return"function"==typeof c.set}function Oy(c,s){return rg(s)?s:c.ref(s)}function Tm(c,s){if(function Py(c){return"string"==typeof c}(c))return s.stringCase();if(rg(c))return s.firebaseCase();if(function Iu(c){return"function"==typeof c.exportVal}(c))return s.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof c)}function Hc(c,s,l="on",h=De.z){return new pt.y(y=>{let C=null;return C=c[l](s,(N,H)=>{h.schedule(()=>{y.next({snapshot:N,prevKey:H})}),"once"===l&&h.schedule(()=>y.complete())},N=>{h.schedule(()=>y.error(N))}),"on"===l?{unsubscribe(){null!=C&&c.off(s,C)}}:{unsubscribe(){}}}).pipe((0,it.U)(y=>{const{snapshot:C,prevKey:N}=y;let H=null;return C.exists()&&(H=C.key),{type:s,payload:C,prevKey:N,key:H}}),(0,ut.B)())}function zc(c,s){const l=c.length;for(let h=0;h<l;h++)if(c[h].payload.key===s)return h;return-1}function Nh(c,s){const{payload:l,prevKey:h,key:y}=s,C=zc(c,y),N=function oc(c,s){if(Da(s))return 0;{const l=zc(c,s);return-1===l?c.length:l+1}}(c,h);switch(s.type){case"value":if(s.payload&&s.payload.exists()){let H=null;s.payload.forEach(ue=>{const be={payload:ue,type:"value",prevKey:H,key:ue.key};return H=ue.key,c=[...c,be],!1})}return c;case"child_added":if(C>-1){const H=c[C-1];(H&&H.key||null)!==h&&(c=c.filter(ue=>ue.payload.key!==l.key)).splice(N,0,s)}else{if(null==h)return[s,...c];(c=c.slice()).splice(N,0,s)}return c;case"child_removed":return c.filter(H=>H.payload.key!==l.key);case"child_changed":return c.map(H=>H.payload.key===y?s:H);case"child_moved":if(C>-1){const H=c.splice(C,1)[0];return(c=c.slice()).splice(N,0,H),c}return c;default:return c}}function ig(c){return(Da(c)||0===c.length)&&(c=["child_added","child_removed","child_changed","child_moved"]),c}function Xf(c,s,l){return function bd(c,s,l){return Hc(c,"value","once",l).pipe((0,st.w)(h=>{const y=[(0,ct.of)(h)];return s.forEach(C=>y.push(Hc(c,C,"on",l))),(0,qe.T)(...y).pipe((0,Je.R)(Nh,[]))}),(0,Ue.x)())}(c,s=ig(s),l)}function Jf(c,s,l){const h=(s=ig(s)).map(y=>Hc(c,y,"on",l));return(0,qe.T)(...h)}function tp(c,s){return function(h,y){return Tm(h,{stringCase:()=>c.child(h)[s](y),firebaseCase:()=>h[s](y),snapshotCase:()=>h.ref[s](y)})}}function sg(c){return function(l){return l?Tm(l,{stringCase:()=>c.child(l).remove(),firebaseCase:()=>l.remove(),snapshotCase:()=>l.ref.remove()}):c.remove()}}function Lh(c,s){return function(){return Hc(c,"value","on",s)}}const wv=new g.OlP("angularfire2.realtimeDatabaseURL"),np=new g.OlP("angularfire2.database.use-emulator");let og=(()=>{class c{constructor(l,h,y,C,N,H,ue,be,dt,Dt,Ot,nn,sn,bn,yr){this.schedulers=H;const Zr=ue,yi=(0,yt.on)(l,N,h);be&&(0,Ae.nw)(yi,N,dt,Ot,nn,sn,Dt,bn),this.database=(0,yt.cc)(`${yi.name}.database.${y}`,"AngularFireDatabase",yi.name,()=>{const to=N.runOutsideAngular(()=>yi.database(y||void 0));return Zr&&to.useEmulator(...Zr),to},[Zr])}list(l,h){const y=this.schedulers.ngZone.runOutsideAngular(()=>Oy(this.database,l));let C=y;return h&&(C=h(y)),function Fh(c,s){const l=s.schedulers.outsideAngular,h=s.schedulers.ngZone.run(()=>c.ref);return{query:c,update:tp(h,"update"),set:tp(h,"set"),push:y=>h.push(y),remove:sg(h),snapshotChanges:y=>Xf(c,y,l).pipe(xe.iC),stateChanges:y=>Jf(c,y,l).pipe(xe.iC),auditTrail:y=>function ep(c,s,l){return function kh(c,s,l){return function nu(c,s){return Hc(c,"value","on",s).pipe((0,it.U)(l=>{let h;return l.payload.forEach(y=>(h=y.key,!1)),{data:l,lastKeyToLoad:h}}))}(c,l).pipe(function Ge(...c){const s=(0,Oe.jO)(c);return(0,Ct.e)((l,h)=>{const y=c.length,C=new Array(y);let N=c.map(()=>!1),H=!1;for(let ue=0;ue<y;ue++)(0,Et.Xf)(c[ue]).subscribe((0,ot.x)(h,be=>{C[ue]=be,!H&&!N[ue]&&(N[ue]=!0,(H=N.every(Tt.y))&&(N=null))},fe.Z));l.subscribe((0,ot.x)(h,ue=>{if(H){const be=[ue,...C];h.next(s?s(...be):be)}}))})}(s),(0,it.U)(([y,C])=>{const N=y.lastKeyToLoad,H=C.map(ue=>ue.key);return{actions:C,lastKeyToLoad:N,loadedKeys:H}}),function Qe(c){return(0,Ct.e)((s,l)=>{let h=!1,y=0;s.subscribe((0,ot.x)(l,C=>(h||(h=!c(C,y++)))&&l.next(C)))})}(y=>-1===y.loadedKeys.indexOf(y.lastKeyToLoad)),(0,it.U)(y=>y.actions))}(c,Jf(c,s).pipe((0,Je.R)((y,C)=>[...y,C],[])),l)}(c,y,l).pipe(xe.iC),valueChanges:(y,C)=>Xf(c,y,l).pipe((0,it.U)(H=>H.map(ue=>C&&C.idField?Object.assign(Object.assign({},ue.payload.val()),{[C.idField]:ue.key}):ue.payload.val())),xe.iC)}}(C,this)}object(l){return function Dd(c,s){return{query:c,snapshotChanges:()=>Lh(c,s.schedulers.outsideAngular)().pipe(xe.iC),update:l=>c.ref.update(l),set:l=>c.ref.set(l),remove:()=>c.ref.remove(),valueChanges:()=>Lh(c,s.schedulers.outsideAngular)().pipe(xe.iC,(0,it.U)(h=>h.payload.exists()?h.payload.val():null))}}(this.schedulers.ngZone.runOutsideAngular(()=>Oy(this.database,l)),this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}}return c.\u0275fac=function(l){return new(l||c)(g.LFG(yt.Dh),g.LFG(yt.xv,8),g.LFG(wv,8),g.LFG(g.Lbi),g.LFG(g.R0b),g.LFG(xe.HU),g.LFG(np,8),g.LFG(Ae.zQ,8),g.LFG(Ae.Qv,8),g.LFG(Ae.L6,8),g.LFG(Ae._Q,8),g.LFG(Ae.rT,8),g.LFG(Ae.lh,8),g.LFG(Ae.f7,8),g.LFG(Cd.nm,8))},c.\u0275prov=g.Yz7({token:c,factory:c.\u0275fac,providedIn:"any"}),c})(),Iv=(()=>{class c{constructor(){Oh.Z.registerVersion("angularfire",xe.q4.full,"rtdb-compat")}}return c.\u0275fac=function(l){return new(l||c)},c.\u0275mod=g.oAB({type:c}),c.\u0275inj=g.cJS({providers:[og]}),c})();var Cv=k(515),Td=k(5363),Gc=k(3151),ac=k(5132),ag=k(9300),Ny=k(7579);var rp=k(5577),ug=k(8675),Bh=k(1520),ip=k(3692);k(259);const uc="firebase_screen_id",Pl="outlet",Ad="screen_class",Ol="screen_name";let Ly=Math.floor(Math.random()*(Math.pow(2,32)-1))-Math.pow(2,31);const Md={},sp=c=>{const s=[c[Ad],c[Pl]].join("#");if(Md.hasOwnProperty(s))return Md[s];{const l=Ly++;return Md[s]=l,l}},By=new g.OlP("angularfire2.analytics.analyticsCollectionEnabled"),Pm=new g.OlP("angularfire2.analytics.appVersion"),$y=new g.OlP("angularfire2.analytics.appName"),_g=new g.OlP("angularfire2.analytics.debugMode"),ap=new g.OlP("angularfire2.analytics.config"),Pd="dataLayer";let Kc=(()=>{class c{constructor(l,h,y,C,N,H,ue,be,dt){if(this.analyticsInitialized=new Promise(()=>{}),(0,Ce.NF)(ue)){window[Pd]=window[Pd]||[];const Ot=(...bn)=>"config"===bn[0]&&"firebase"===bn[2].origin&&(this.measurementId=bn[1],!0),nn=bn=>{window.gtag=(...yr)=>{bn&&bn(...yr),"event"===yr[0]&&yr[2].send_to===this.measurementId&&(C&&(yr[2].app_name=C),y&&(yr[2].app_version=y)),N&&typeof console<"u"&&console.info(...yr),function(...Zr){window[Pd].push(arguments)}(...yr)}};window[Pd].some(Ot)?(this.analyticsInitialized=Promise.resolve(),nn()):this.analyticsInitialized=new Promise(bn=>{nn((...yr)=>{Ot(...yr)&&bn()})}),H&&this.updateConfig(H),N&&this.updateConfig({debug_mode:1})}else this.analyticsInitialized=Promise.resolve();const Dt=(0,ct.of)(void 0).pipe((0,Td.Q)(dt.outsideAngular),(0,st.w)(ac.Gb),(0,st.w)(Ot=>Ot?be.runOutsideAngular(()=>k.e(3814).then(k.bind(k,3814))):Cv.E),(0,it.U)(()=>(0,yt.cc)("analytics","AngularFireAnalytics",l.name,()=>{const Ot=l.analytics();return!1===h&&Ot.setAnalyticsCollectionEnabled(!1),Ot},[l,h,H,N])),(0,Gc.d)({bufferSize:1,refCount:!1}));return(0,yt.pX)(this,Dt,be)}updateConfig(l){return(0,Ne.mG)(this,void 0,void 0,function*(){yield this.analyticsInitialized,window.gtag("config",this.measurementId,Object.assign(Object.assign({},l),{update:!0}))})}}return c.\u0275fac=function(l){return new(l||c)(g.LFG(yt.Ot),g.LFG(By,8),g.LFG(Pm,8),g.LFG($y,8),g.LFG(_g,8),g.LFG(ap,8),g.LFG(g.Lbi),g.LFG(g.R0b),g.LFG(xe.HU))},c.\u0275prov=g.Yz7({token:c,factory:c.\u0275fac,providedIn:"any"}),c})(),Gh=(()=>{class c{constructor(l,h,y,C){if(this.disposables=[],Oh.Z.registerVersion("angularfire",xe.q4.full,"compat-user-tracking"),(0,Ce.PM)(h))this.initialized=Promise.resolve();else{let N;this.initialized=C.runOutsideAngular(()=>new Promise(H=>N=H)),this.disposables=[y.authState.subscribe(H=>{l.setUserId(null==H?void 0:H.uid),N()}),y.credential.subscribe(H=>{if(H){const ue=H.user.isAnonymous?"anonymous":H.additionalUserInfo.providerId;H.additionalUserInfo.isNewUser&&l.logEvent("sign_up",{method:ue}),l.logEvent("login",{method:ue})}})]}}ngOnDestroy(){this.disposables.forEach(l=>l.unsubscribe())}}return c.\u0275fac=function(l){return new(l||c)(g.LFG(Kc),g.LFG(g.Lbi),g.LFG(Ae.zQ),g.LFG(g.R0b))},c.\u0275prov=g.Yz7({token:c,factory:c.\u0275fac}),c})(),Uy=(()=>{class c{constructor(l,h,y,C,N,H){if(Oh.Z.registerVersion("angularfire",xe.q4.full,"compat-screen-tracking"),!h||!l)return this;N.runOutsideAngular(()=>{this.disposable=((c,s,l)=>c.events.pipe((0,ag.h)(y=>y instanceof le.jw)).pipe((0,st.w)(y=>{var C;const H=(null===(C=c.parseUrl(c.url.replace(/(?:\().+(?:\))/g,nn=>nn.replace("://",":///"))).root.children[y.snapshot.outlet])||void 0===C?void 0:C.toString())||"",ue=c.routerState.root.children.map(nn=>nn).find(nn=>nn.outlet===y.snapshot.outlet);if(!ue)return(0,ct.of)(null);let be=ue;for(;be.firstChild;)be=be.firstChild;const dt=be.pathFromRoot.map(nn=>{var sn;return null===(sn=nn.routeConfig)||void 0===sn?void 0:sn.path}).filter(nn=>nn).join("/")||"/",Dt={[Ol]:dt,page_path:`/${H}`,firebase_event_origin:"auto",firebase_screen:dt,[Pl]:y.snapshot.outlet};s&&(Dt.page_title=s.getTitle());let Ot=ue.component;if(Ot){if(Ot===le.fw){let nn=y.snapshot;for(;nn.firstChild;)nn=nn.firstChild;Ot=nn.component}}else Ot=y.snapshot.component;if("string"==typeof Ot)return(0,ct.of)(Object.assign(Object.assign({},Dt),{[Ad]:Ot}));if(Ot){const nn=l.resolveComponentFactory(Ot);return(0,ct.of)(Object.assign(Object.assign({},Dt),{[Ad]:nn.selector}))}return(0,ct.of)(null)}),(0,ag.h)(y=>!!y),(0,it.U)(y=>Object.assign({firebase_screen_class:y[Ad],[uc]:sp(y)},y)),function lg(c,s,l,h){return(0,Ct.e)((y,C)=>{let N;s&&"function"!=typeof s?({duration:l,element:N,connector:h}=s):N=s;const H=new Map,ue=sn=>{H.forEach(sn),sn(C)},be=sn=>ue(bn=>bn.error(sn));let dt=0,Dt=!1;const Ot=new ot.Q(C,sn=>{try{const bn=c(sn);let yr=H.get(bn);if(!yr){H.set(bn,yr=h?h():new Ny.x);const Zr=function nn(sn,bn){const yr=new pt.y(Zr=>{dt++;const yi=bn.subscribe(Zr);return()=>{yi.unsubscribe(),0==--dt&&Dt&&Ot.unsubscribe()}});return yr.key=sn,yr}(bn,yr);if(C.next(Zr),l){const yi=(0,ot.x)(yr,()=>{yr.complete(),null==yi||yi.unsubscribe()},void 0,void 0,()=>H.delete(bn));Ot.add((0,Et.Xf)(l(Zr)).subscribe(yi))}}yr.next(N?N(sn):sn)}catch(bn){be(bn)}},()=>ue(sn=>sn.complete()),be,()=>H.clear(),()=>(Dt=!0,0===dt));y.subscribe(Ot)})}(y=>y[Pl]),(0,rp.z)(y=>y.pipe((0,Ue.x)((C,N)=>JSON.stringify(C)===JSON.stringify(N)),(0,ug.O)(void 0),(0,Bh.G)(),(0,it.U)(([C,N])=>C?Object.assign({firebase_previous_class:C[Ad],firebase_previous_screen:C[Ol],firebase_previous_id:C[uc]},N):N)))))(h,y,C).pipe((0,st.w)(ue=>(0,Ne.mG)(this,void 0,void 0,function*(){return H&&(yield H.initialized),yield l.logEvent("screen_view",ue)}))).subscribe()})}ngOnDestroy(){this.disposable&&this.disposable.unsubscribe()}}return c.\u0275fac=function(l){return new(l||c)(g.LFG(Kc),g.LFG(le.F0,8),g.LFG(m.Dx,8),g.LFG(g._Vd),g.LFG(g.R0b),g.LFG(Gh,8))},c.\u0275prov=g.Yz7({token:c,factory:c.\u0275fac}),c})(),Od=(()=>{class c{constructor(l,h,y){Oh.Z.registerVersion("angularfire",xe.q4.full,"analytics-compat"),l.app.then(()=>{})}}return c.\u0275fac=function(l){return new(l||c)(g.LFG(Kc),g.LFG(Uy,8),g.LFG(Gh,8))},c.\u0275mod=g.oAB({type:c}),c.\u0275inj=g.cJS({providers:[Kc]}),c})();var Wh=k(1085),qc=k(377);class Yc{}class Zc{}const Ta="*";function Qc(c,s=null){return{type:2,steps:c,options:s}}function Yh(c){return{type:6,styles:c,offset:null}}function kd(c){Promise.resolve().then(c)}class Xc{constructor(s=0,l=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=s+l}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(s=>s()),this._onDoneFns=[])}onStart(s){this._originalOnStartFns.push(s),this._onStartFns.push(s)}onDone(s){this._originalOnDoneFns.push(s),this._onDoneFns.push(s)}onDestroy(s){this._onDestroyFns.push(s)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){kd(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(s=>s()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(s=>s()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(s){this._position=this.totalTime?s*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(s){const l="start"==s?this._onStartFns:this._onDoneFns;l.forEach(h=>h()),l.length=0}}class Ig{constructor(s){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=s;let l=0,h=0,y=0;const C=this.players.length;0==C?kd(()=>this._onFinish()):this.players.forEach(N=>{N.onDone(()=>{++l==C&&this._onFinish()}),N.onDestroy(()=>{++h==C&&this._onDestroy()}),N.onStart(()=>{++y==C&&this._onStart()})}),this.totalTime=this.players.reduce((N,H)=>Math.max(N,H.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(s=>s()),this._onDoneFns=[])}init(){this.players.forEach(s=>s.init())}onStart(s){this._onStartFns.push(s)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(s=>s()),this._onStartFns=[])}onDone(s){this._onDoneFns.push(s)}onDestroy(s){this._onDestroyFns.push(s)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(s=>s.play())}pause(){this.players.forEach(s=>s.pause())}restart(){this.players.forEach(s=>s.restart())}finish(){this._onFinish(),this.players.forEach(s=>s.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(s=>s.destroy()),this._onDestroyFns.forEach(s=>s()),this._onDestroyFns=[])}reset(){this.players.forEach(s=>s.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(s){const l=s*this.totalTime;this.players.forEach(h=>{const y=h.totalTime?Math.min(1,l/h.totalTime):1;h.setPosition(y)})}getPosition(){const s=this.players.reduce((l,h)=>null===l||h.totalTime>l.totalTime?h:l,null);return null!=s?s.getPosition():0}beforeDestroy(){this.players.forEach(s=>{s.beforeDestroy&&s.beforeDestroy()})}triggerCallback(s){const l="start"==s?this._onStartFns:this._onDoneFns;l.forEach(h=>h()),l.length=0}}const up="!";function cp(c){return new g.vHH(3e3,!1)}function Nl(c){switch(c.length){case 0:return new Xc;case 1:return c[0];default:return new Ig(c)}}function $d(c,s,l,h,y=new Map,C=new Map){const N=[],H=[];let ue=-1,be=null;if(h.forEach(dt=>{const Dt=dt.get("offset"),Ot=Dt==ue,nn=Ot&&be||new Map;dt.forEach((sn,bn)=>{let yr=bn,Zr=sn;if("offset"!==bn)switch(yr=s.normalizePropertyName(yr,N),Zr){case up:Zr=y.get(bn);break;case Ta:Zr=C.get(bn);break;default:Zr=s.normalizeStyleValue(bn,yr,Zr,N)}nn.set(yr,Zr)}),Ot||H.push(nn),be=nn,ue=Dt}),N.length)throw function sf(c){return new g.vHH(3502,!1)}();return H}function af(c,s,l,h){switch(s){case"start":c.onStart(()=>h(l&&fp(l,"start",c)));break;case"done":c.onDone(()=>h(l&&fp(l,"done",c)));break;case"destroy":c.onDestroy(()=>h(l&&fp(l,"destroy",c)))}}function fp(c,s,l){const h=l.totalTime,C=lf(c.element,c.triggerName,c.fromState,c.toState,s||c.phaseName,null==h?c.totalTime:h,!!l.disabled),N=c._data;return null!=N&&(C._data=N),C}function lf(c,s,l,h,y="",C=0,N){return{element:c,triggerName:s,fromState:l,toState:h,phaseName:y,totalTime:C,disabled:!!N}}function ea(c,s,l){let h=c.get(s);return h||c.set(s,h=l),h}function Sa(c){const s=c.indexOf(":");return[c.substring(1,s),c.slice(s+1)]}const ru=(()=>typeof document>"u"?null:document.documentElement)();function Gm(c){const s=c.parentNode||c.host||null;return s===ru?null:s}let Vd=null,Rg=!1;function gc(c,s){for(;s;){if(s===c)return!0;s=Gm(s)}return!1}function pp(c,s,l){if(l)return Array.from(c.querySelectorAll(s));const h=c.querySelector(s);return h?[h]:[]}let cf=(()=>{class c{validateStyleProperty(l){return function Wm(c){Vd||(Vd=function uf(){return typeof document<"u"?document.body:null}()||{},Rg=!!Vd.style&&"WebkitAppearance"in Vd.style);let s=!0;return Vd.style&&!function Mg(c){return"ebkit"==c.substring(1,6)}(c)&&(s=c in Vd.style,!s&&Rg&&(s="Webkit"+c.charAt(0).toUpperCase()+c.slice(1)in Vd.style)),s}(l)}matchesElement(l,h){return!1}containsElement(l,h){return gc(l,h)}getParentElement(l){return Gm(l)}query(l,h,y){return pp(l,h,y)}computeStyle(l,h,y){return y||""}animate(l,h,y,C,N,H=[],ue){return new Xc(y,C)}}return c.\u0275fac=function(l){return new(l||c)},c.\u0275prov=g.Yz7({token:c,factory:c.\u0275fac}),c})(),ri=(()=>{class c{}return c.NOOP=new cf,c})();const Km=1e3,xg="ng-enter",nd="ng-leave",mp="ng-trigger",jd=".ng-trigger",Pg="ng-animating",df=".ng-animating";function iu(c){if("number"==typeof c)return c;const s=c.match(/^(-?[\.\d]+)(m?s)/);return!s||s.length<2?0:hf(parseFloat(s[1]),s[2])}function hf(c,s){return"s"===s?c*Km:c}function ff(c,s,l){return c.hasOwnProperty("duration")?c:function Og(c,s,l){let y,C=0,N="";if("string"==typeof c){const H=c.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===H)return s.push(cp()),{duration:0,delay:0,easing:""};y=hf(parseFloat(H[1]),H[2]);const ue=H[3];null!=ue&&(C=hf(parseFloat(ue),H[4]));const be=H[5];be&&(N=be)}else y=c;if(!l){let H=!1,ue=s.length;y<0&&(s.push(function Cg(){return new g.vHH(3100,!1)}()),H=!0),C<0&&(s.push(function Xh(){return new g.vHH(3101,!1)}()),H=!0),H&&s.splice(ue,0,cp())}return{duration:y,delay:C,easing:N}}(c,s,l)}function mc(c,s={}){return Object.keys(c).forEach(l=>{s[l]=c[l]}),s}function pf(c){const s=new Map;return Object.keys(c).forEach(l=>{s.set(l,c[l])}),s}function kl(c,s=new Map,l){if(l)for(let[h,y]of l)s.set(h,y);for(let[h,y]of c)s.set(h,y);return s}function ha(c,s,l){s.forEach((h,y)=>{const C=Hd(y);l&&!l.has(y)&&l.set(y,c.style[C]),c.style[C]=h})}function fa(c,s){s.forEach((l,h)=>{const y=Hd(h);c.style[y]=""})}function Fl(c){return Array.isArray(c)?1==c.length?c[0]:Qc(c):c}const rd=new RegExp("{{\\s*(.+?)\\s*}}","g");function Ng(c){let s=[];if("string"==typeof c){let l;for(;l=rd.exec(c);)s.push(l[1]);rd.lastIndex=0}return s}function bu(c,s,l){const h=c.toString(),y=h.replace(rd,(C,N)=>{let H=s[N];return null==H&&(l.push(function bg(c){return new g.vHH(3003,!1)}()),H=""),H.toString()});return y==h?c:y}function vc(c){const s=[];let l=c.next();for(;!l.done;)s.push(l.value),l=c.next();return s}const gf=/-+([a-z0-9])/g;function Hd(c){return c.replace(gf,(...s)=>s[1].toUpperCase())}function pa(c,s,l){switch(s.type){case 7:return c.visitTrigger(s,l);case 0:return c.visitState(s,l);case 1:return c.visitTransition(s,l);case 2:return c.visitSequence(s,l);case 3:return c.visitGroup(s,l);case 4:return c.visitAnimate(s,l);case 5:return c.visitKeyframes(s,l);case 6:return c.visitStyle(s,l);case 8:return c.visitReference(s,l);case 9:return c.visitAnimateChild(s,l);case 10:return c.visitAnimateRef(s,l);case 11:return c.visitQuery(s,l);case 12:return c.visitStagger(s,l);default:throw function Jh(c){return new g.vHH(3004,!1)}()}}function Fg(c,s){return window.getComputedStyle(c)[s]}const yp="*";function Qy(c,s){const l=[];return"string"==typeof c?c.split(/\s*,\s*/).forEach(h=>function Wa(c,s,l){if(":"==c[0]){const ue=function Xy(c,s){switch(c){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(l,h)=>parseFloat(h)>parseFloat(l);case":decrement":return(l,h)=>parseFloat(h)<parseFloat(l);default:return s.push(function zy(c){return new g.vHH(3016,!1)}()),"* => *"}}(c,l);if("function"==typeof ue)return void s.push(ue);c=ue}const h=c.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==h||h.length<4)return l.push(function Jo(c){return new g.vHH(3015,!1)}()),s;const y=h[1],C=h[2],N=h[3];s.push(Gd(y,N));"<"==C[0]&&!(y==yp&&N==yp)&&s.push(Gd(N,y))}(h,l,s)):l.push(c),l}const zd=new Set(["true","1"]),mf=new Set(["false","0"]);function Gd(c,s){const l=zd.has(c)||mf.has(c),h=zd.has(s)||mf.has(s);return(y,C)=>{let N=c==yp||c==y,H=s==yp||s==C;return!N&&l&&"boolean"==typeof y&&(N=y?zd.has(c):mf.has(c)),!H&&h&&"boolean"==typeof C&&(H=C?zd.has(s):mf.has(s)),N&&H}}const Bg=new RegExp("s*:selfs*,?","g");function $g(c,s,l,h){return new Vg(c).build(s,l,h)}class Vg{constructor(s){this._driver=s}build(s,l,h){const y=new jg(l);return this._resetContextStyleTimingState(y),pa(this,Fl(s),y)}_resetContextStyleTimingState(s){s.currentQuerySelector="",s.collectedStyles=new Map,s.collectedStyles.set("",new Map),s.currentTime=0}visitTrigger(s,l){let h=l.queryCount=0,y=l.depCount=0;const C=[],N=[];return"@"==s.name.charAt(0)&&l.errors.push(function ef(){return new g.vHH(3006,!1)}()),s.definitions.forEach(H=>{if(this._resetContextStyleTimingState(l),0==H.type){const ue=H,be=ue.name;be.toString().split(/\s*,\s*/).forEach(dt=>{ue.name=dt,C.push(this.visitState(ue,l))}),ue.name=be}else if(1==H.type){const ue=this.visitTransition(H,l);h+=ue.queryCount,y+=ue.depCount,N.push(ue)}else l.errors.push(function tf(){return new g.vHH(3007,!1)}())}),{type:7,name:s.name,states:C,transitions:N,queryCount:h,depCount:y,options:null}}visitState(s,l){const h=this.visitStyle(s.styles,l),y=s.options&&s.options.params||null;if(h.containsDynamicStyles){const C=new Set,N=y||{};h.styles.forEach(H=>{H instanceof Map&&H.forEach(ue=>{Ng(ue).forEach(be=>{N.hasOwnProperty(be)||C.add(be)})})}),C.size&&(vc(C.values()),l.errors.push(function Dg(c,s){return new g.vHH(3008,!1)}()))}return{type:0,name:s.name,style:h,options:y?{params:y}:null}}visitTransition(s,l){l.queryCount=0,l.depCount=0;const h=pa(this,Fl(s.animation),l);return{type:1,matchers:Qy(s.expr,l.errors),animation:h,queryCount:l.queryCount,depCount:l.depCount,options:Du(s.options)}}visitSequence(s,l){return{type:2,steps:s.steps.map(h=>pa(this,h,l)),options:Du(s.options)}}visitGroup(s,l){const h=l.currentTime;let y=0;const C=s.steps.map(N=>{l.currentTime=h;const H=pa(this,N,l);return y=Math.max(y,l.currentTime),H});return l.currentTime=y,{type:3,steps:C,options:Du(s.options)}}visitAnimate(s,l){const h=function Jy(c,s){if(c.hasOwnProperty("duration"))return c;if("number"==typeof c)return zg(ff(c,s).duration,0,"");const l=c;if(l.split(/\s+/).some(C=>"{"==C.charAt(0)&&"{"==C.charAt(1))){const C=zg(0,0,"");return C.dynamic=!0,C.strValue=l,C}const y=ff(l,s);return zg(y.duration,y.delay,y.easing)}(s.timings,l.errors);l.currentAnimateTimings=h;let y,C=s.styles?s.styles:Yh({});if(5==C.type)y=this.visitKeyframes(C,l);else{let N=s.styles,H=!1;if(!N){H=!0;const be={};h.easing&&(be.easing=h.easing),N=Yh(be)}l.currentTime+=h.duration+h.delay;const ue=this.visitStyle(N,l);ue.isEmptyStep=H,y=ue}return l.currentAnimateTimings=null,{type:4,timings:h,style:y,options:null}}visitStyle(s,l){const h=this._makeStyleAst(s,l);return this._validateStyleAst(h,l),h}_makeStyleAst(s,l){const h=[],y=Array.isArray(s.styles)?s.styles:[s.styles];for(let H of y)"string"==typeof H?H===Ta?h.push(H):l.errors.push(new g.vHH(3002,!1)):h.push(pf(H));let C=!1,N=null;return h.forEach(H=>{if(H instanceof Map&&(H.has("easing")&&(N=H.get("easing"),H.delete("easing")),!C))for(let ue of H.values())if(ue.toString().indexOf("{{")>=0){C=!0;break}}),{type:6,styles:h,easing:N,offset:s.offset,containsDynamicStyles:C,options:null}}_validateStyleAst(s,l){const h=l.currentAnimateTimings;let y=l.currentTime,C=l.currentTime;h&&C>0&&(C-=h.duration+h.delay),s.styles.forEach(N=>{"string"!=typeof N&&N.forEach((H,ue)=>{const be=l.collectedStyles.get(l.currentQuerySelector),dt=be.get(ue);let Dt=!0;dt&&(C!=y&&C>=dt.startTime&&y<=dt.endTime&&(l.errors.push(function $m(c,s,l,h,y){return new g.vHH(3010,!1)}()),Dt=!1),C=dt.startTime),Dt&&be.set(ue,{startTime:C,endTime:y}),l.options&&function yc(c,s,l){const h=s.params||{},y=Ng(c);y.length&&y.forEach(C=>{h.hasOwnProperty(C)||l.push(function Bm(c){return new g.vHH(3001,!1)}())})}(H,l.options,l.errors)})})}visitKeyframes(s,l){const h={type:5,styles:[],options:null};if(!l.currentAnimateTimings)return l.errors.push(function nf(){return new g.vHH(3011,!1)}()),h;let C=0;const N=[];let H=!1,ue=!1,be=0;const dt=s.steps.map(Zr=>{const yi=this._makeStyleAst(Zr,l);let to=null!=yi.offset?yi.offset:function Hg(c){if("string"==typeof c)return null;let s=null;if(Array.isArray(c))c.forEach(l=>{if(l instanceof Map&&l.has("offset")){const h=l;s=parseFloat(h.get("offset")),h.delete("offset")}});else if(c instanceof Map&&c.has("offset")){const l=c;s=parseFloat(l.get("offset")),l.delete("offset")}return s}(yi.styles),Do=0;return null!=to&&(C++,Do=yi.offset=to),ue=ue||Do<0||Do>1,H=H||Do<be,be=Do,N.push(Do),yi});ue&&l.errors.push(function Vm(){return new g.vHH(3012,!1)}()),H&&l.errors.push(function Cu(){return new g.vHH(3200,!1)}());const Dt=s.steps.length;let Ot=0;C>0&&C<Dt?l.errors.push(function ed(){return new g.vHH(3202,!1)}()):0==C&&(Ot=1/(Dt-1));const nn=Dt-1,sn=l.currentTime,bn=l.currentAnimateTimings,yr=bn.duration;return dt.forEach((Zr,yi)=>{const to=Ot>0?yi==nn?1:Ot*yi:N[yi],Do=to*yr;l.currentTime=sn+bn.delay+Do,bn.duration=Do,this._validateStyleAst(Zr,l),Zr.offset=to,h.styles.push(Zr)}),h}visitReference(s,l){return{type:8,animation:pa(this,Fl(s.animation),l),options:Du(s.options)}}visitAnimateChild(s,l){return l.depCount++,{type:9,options:Du(s.options)}}visitAnimateRef(s,l){return{type:10,animation:this.visitReference(s.animation,l),options:Du(s.options)}}visitQuery(s,l){const h=l.currentQuerySelector,y=s.options||{};l.queryCount++,l.currentQuery=s;const[C,N]=function Ug(c){const s=!!c.split(/\s*,\s*/).find(l=>":self"==l);return s&&(c=c.replace(Bg,"")),c=c.replace(/@\*/g,jd).replace(/@\w+/g,l=>jd+"-"+l.slice(1)).replace(/:animating/g,df),[c,s]}(s.selector);l.currentQuerySelector=h.length?h+" "+C:C,ea(l.collectedStyles,l.currentQuerySelector,new Map);const H=pa(this,Fl(s.animation),l);return l.currentQuery=null,l.currentQuerySelector=h,{type:11,selector:C,limit:y.limit||0,optional:!!y.optional,includeSelf:N,animation:H,originalSelector:s.selector,options:Du(s.options)}}visitStagger(s,l){l.currentQuery||l.errors.push(function Hy(){return new g.vHH(3013,!1)}());const h="full"===s.timings?{duration:0,delay:0,easing:"full"}:ff(s.timings,l.errors,!0);return{type:12,animation:pa(this,Fl(s.animation),l),timings:h,options:null}}}class jg{constructor(s){this.errors=s,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Du(c){return c?(c=mc(c)).params&&(c.params=function Qm(c){return c?mc(c):null}(c.params)):c={},c}function zg(c,s,l){return{duration:c,delay:s,easing:l}}function yf(c,s,l,h,y,C,N=null,H=!1){return{type:1,element:c,keyframes:s,preStyleProps:l,postStyleProps:h,duration:y,delay:C,totalTime:y+C,easing:N,subTimeline:H}}class Ka{constructor(){this._map=new Map}get(s){return this._map.get(s)||[]}append(s,l){let h=this._map.get(s);h||this._map.set(s,h=[]),h.push(...l)}has(s){return this._map.has(s)}clear(){this._map.clear()}}const _p=new RegExp(":enter","g"),Wg=new RegExp(":leave","g");function Kd(c,s,l,h,y,C=new Map,N=new Map,H,ue,be=[]){return(new Ep).buildKeyframes(c,s,l,h,y,C,N,H,ue,be)}class Ep{buildKeyframes(s,l,h,y,C,N,H,ue,be,dt=[]){be=be||new Ka;const Dt=new su(s,l,be,y,C,dt,[]);Dt.options=ue;const Ot=ue.delay?iu(ue.delay):0;Dt.currentTimeline.delayNextStep(Ot),Dt.currentTimeline.setStyles([N],null,Dt.errors,ue),pa(this,h,Dt);const nn=Dt.timelines.filter(sn=>sn.containsAnimation());if(nn.length&&H.size){let sn;for(let bn=nn.length-1;bn>=0;bn--){const yr=nn[bn];if(yr.element===l){sn=yr;break}}sn&&!sn.allowOnlyTimelineStyles()&&sn.setStyles([H],null,Dt.errors,ue)}return nn.length?nn.map(sn=>sn.buildKeyframes()):[yf(l,[],[],[],0,Ot,"",!1)]}visitTrigger(s,l){}visitState(s,l){}visitTransition(s,l){}visitAnimateChild(s,l){const h=l.subInstructions.get(l.element);if(h){const y=l.createSubContext(s.options),C=l.currentTimeline.currentTime,N=this._visitSubInstructions(h,y,y.options);C!=N&&l.transformIntoNewTimeline(N)}l.previousNode=s}visitAnimateRef(s,l){const h=l.createSubContext(s.options);h.transformIntoNewTimeline(),this._applyAnimationRefDelays([s.options,s.animation.options],l,h),this.visitReference(s.animation,h),l.transformIntoNewTimeline(h.currentTimeline.currentTime),l.previousNode=s}_applyAnimationRefDelays(s,l,h){for(const C of s){const N=null==C?void 0:C.delay;if(N){var y;const H="number"==typeof N?N:iu(bu(N,null!==(y=null==C?void 0:C.params)&&void 0!==y?y:{},l.errors));h.delayNextStep(H)}}}_visitSubInstructions(s,l,h){let C=l.currentTimeline.currentTime;const N=null!=h.duration?iu(h.duration):null,H=null!=h.delay?iu(h.delay):null;return 0!==N&&s.forEach(ue=>{const be=l.appendInstructionToTimeline(ue,N,H);C=Math.max(C,be.duration+be.delay)}),C}visitReference(s,l){l.updateOptions(s.options,!0),pa(this,s.animation,l),l.previousNode=s}visitSequence(s,l){const h=l.subContextCount;let y=l;const C=s.options;if(C&&(C.params||C.delay)&&(y=l.createSubContext(C),y.transformIntoNewTimeline(),null!=C.delay)){6==y.previousNode.type&&(y.currentTimeline.snapshotCurrentStyles(),y.previousNode=_c);const N=iu(C.delay);y.delayNextStep(N)}s.steps.length&&(s.steps.forEach(N=>pa(this,N,y)),y.currentTimeline.applyStylesToKeyframe(),y.subContextCount>h&&y.transformIntoNewTimeline()),l.previousNode=s}visitGroup(s,l){const h=[];let y=l.currentTimeline.currentTime;const C=s.options&&s.options.delay?iu(s.options.delay):0;s.steps.forEach(N=>{const H=l.createSubContext(s.options);C&&H.delayNextStep(C),pa(this,N,H),y=Math.max(y,H.currentTimeline.currentTime),h.push(H.currentTimeline)}),h.forEach(N=>l.currentTimeline.mergeTimelineCollectedStyles(N)),l.transformIntoNewTimeline(y),l.previousNode=s}_visitTiming(s,l){if(s.dynamic){const h=s.strValue;return ff(l.params?bu(h,l.params,l.errors):h,l.errors)}return{duration:s.duration,delay:s.delay,easing:s.easing}}visitAnimate(s,l){const h=l.currentAnimateTimings=this._visitTiming(s.timings,l),y=l.currentTimeline;h.delay&&(l.incrementTime(h.delay),y.snapshotCurrentStyles());const C=s.style;5==C.type?this.visitKeyframes(C,l):(l.incrementTime(h.duration),this.visitStyle(C,l),y.applyStylesToKeyframe()),l.currentAnimateTimings=null,l.previousNode=s}visitStyle(s,l){const h=l.currentTimeline,y=l.currentAnimateTimings;!y&&h.hasCurrentStyleProperties()&&h.forwardFrame();const C=y&&y.easing||s.easing;s.isEmptyStep?h.applyEmptyStep(C):h.setStyles(s.styles,C,l.errors,l.options),l.previousNode=s}visitKeyframes(s,l){const h=l.currentAnimateTimings,y=l.currentTimeline.duration,C=h.duration,H=l.createSubContext().currentTimeline;H.easing=h.easing,s.styles.forEach(ue=>{H.forwardTime((ue.offset||0)*C),H.setStyles(ue.styles,ue.easing,l.errors,l.options),H.applyStylesToKeyframe()}),l.currentTimeline.mergeTimelineCollectedStyles(H),l.transformIntoNewTimeline(y+C),l.previousNode=s}visitQuery(s,l){const h=l.currentTimeline.currentTime,y=s.options||{},C=y.delay?iu(y.delay):0;C&&(6===l.previousNode.type||0==h&&l.currentTimeline.hasCurrentStyleProperties())&&(l.currentTimeline.snapshotCurrentStyles(),l.previousNode=_c);let N=h;const H=l.invokeQuery(s.selector,s.originalSelector,s.limit,s.includeSelf,!!y.optional,l.errors);l.currentQueryTotal=H.length;let ue=null;H.forEach((be,dt)=>{l.currentQueryIndex=dt;const Dt=l.createSubContext(s.options,be);C&&Dt.delayNextStep(C),be===l.element&&(ue=Dt.currentTimeline),pa(this,s.animation,Dt),Dt.currentTimeline.applyStylesToKeyframe(),N=Math.max(N,Dt.currentTimeline.currentTime)}),l.currentQueryIndex=0,l.currentQueryTotal=0,l.transformIntoNewTimeline(N),ue&&(l.currentTimeline.mergeTimelineCollectedStyles(ue),l.currentTimeline.snapshotCurrentStyles()),l.previousNode=s}visitStagger(s,l){const h=l.parentContext,y=l.currentTimeline,C=s.timings,N=Math.abs(C.duration),H=N*(l.currentQueryTotal-1);let ue=N*l.currentQueryIndex;switch(C.duration<0?"reverse":C.easing){case"reverse":ue=H-ue;break;case"full":ue=h.currentStaggerTime}const dt=l.currentTimeline;ue&&dt.delayNextStep(ue);const Dt=dt.currentTime;pa(this,s.animation,l),l.previousNode=s,h.currentStaggerTime=y.currentTime-Dt+(y.startTime-h.currentTimeline.startTime)}}const _c={};class su{constructor(s,l,h,y,C,N,H,ue){this._driver=s,this.element=l,this.subInstructions=h,this._enterClassName=y,this._leaveClassName=C,this.errors=N,this.timelines=H,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=_c,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=ue||new id(this._driver,l,0),H.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(s,l){if(!s)return;const h=s;let y=this.options;null!=h.duration&&(y.duration=iu(h.duration)),null!=h.delay&&(y.delay=iu(h.delay));const C=h.params;if(C){let N=y.params;N||(N=this.options.params={}),Object.keys(C).forEach(H=>{(!l||!N.hasOwnProperty(H))&&(N[H]=bu(C[H],N,this.errors))})}}_copyOptions(){const s={};if(this.options){const l=this.options.params;if(l){const h=s.params={};Object.keys(l).forEach(y=>{h[y]=l[y]})}}return s}createSubContext(s=null,l,h){const y=l||this.element,C=new su(this._driver,y,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(y,h||0));return C.previousNode=this.previousNode,C.currentAnimateTimings=this.currentAnimateTimings,C.options=this._copyOptions(),C.updateOptions(s),C.currentQueryIndex=this.currentQueryIndex,C.currentQueryTotal=this.currentQueryTotal,C.parentContext=this,this.subContextCount++,C}transformIntoNewTimeline(s){return this.previousNode=_c,this.currentTimeline=this.currentTimeline.fork(this.element,s),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(s,l,h){const y={duration:null!=l?l:s.duration,delay:this.currentTimeline.currentTime+(null!=h?h:0)+s.delay,easing:""},C=new Xm(this._driver,s.element,s.keyframes,s.preStyleProps,s.postStyleProps,y,s.stretchStartingKeyframe);return this.timelines.push(C),y}incrementTime(s){this.currentTimeline.forwardTime(this.currentTimeline.duration+s)}delayNextStep(s){s>0&&this.currentTimeline.delayNextStep(s)}invokeQuery(s,l,h,y,C,N){let H=[];if(y&&H.push(this.element),s.length>0){s=(s=s.replace(_p,"."+this._enterClassName)).replace(Wg,"."+this._leaveClassName);let be=this._driver.query(this.element,s,1!=h);0!==h&&(be=h<0?be.slice(be.length+h,be.length):be.slice(0,h)),H.push(...be)}return!C&&0==H.length&&N.push(function Um(c){return new g.vHH(3014,!1)}()),H}}class id{constructor(s,l,h,y){this._driver=s,this.element=l,this.startTime=h,this._elementTimelineStylesLookup=y,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(l),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(l,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(s){const l=1===this._keyframes.size&&this._pendingStyles.size;this.duration||l?(this.forwardTime(this.currentTime+s),l&&this.snapshotCurrentStyles()):this.startTime+=s}fork(s,l){return this.applyStylesToKeyframe(),new id(this._driver,s,l||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(s){this.applyStylesToKeyframe(),this.duration=s,this._loadKeyframe()}_updateStyle(s,l){this._localTimelineStyles.set(s,l),this._globalTimelineStyles.set(s,l),this._styleSummary.set(s,{time:this.currentTime,value:l})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(s){s&&this._previousKeyframe.set("easing",s);for(let[l,h]of this._globalTimelineStyles)this._backFill.set(l,h||Ta),this._currentKeyframe.set(l,Ta);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(s,l,h,y){l&&this._previousKeyframe.set("easing",l);const C=y&&y.params||{},N=function Jm(c,s){const l=new Map;let h;return c.forEach(y=>{if("*"===y){h=h||s.keys();for(let C of h)l.set(C,Ta)}else kl(y,l)}),l}(s,this._globalTimelineStyles);for(let[ue,be]of N){const dt=bu(be,C,h);var H;this._pendingStyles.set(ue,dt),this._localTimelineStyles.has(ue)||this._backFill.set(ue,null!==(H=this._globalTimelineStyles.get(ue))&&void 0!==H?H:Ta),this._updateStyle(ue,dt)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((s,l)=>{this._currentKeyframe.set(l,s)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((s,l)=>{this._currentKeyframe.has(l)||this._currentKeyframe.set(l,s)}))}snapshotCurrentStyles(){for(let[s,l]of this._localTimelineStyles)this._pendingStyles.set(s,l),this._updateStyle(s,l)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const s=[];for(let l in this._currentKeyframe)s.push(l);return s}mergeTimelineCollectedStyles(s){s._styleSummary.forEach((l,h)=>{const y=this._styleSummary.get(h);(!y||l.time>y.time)&&this._updateStyle(h,l.value)})}buildKeyframes(){this.applyStylesToKeyframe();const s=new Set,l=new Set,h=1===this._keyframes.size&&0===this.duration;let y=[];this._keyframes.forEach((H,ue)=>{const be=kl(H,new Map,this._backFill);be.forEach((dt,Dt)=>{dt===up?s.add(Dt):dt===Ta&&l.add(Dt)}),h||be.set("offset",ue/this.duration),y.push(be)});const C=s.size?vc(s.values()):[],N=l.size?vc(l.values()):[];if(h){const H=y[0],ue=new Map(H);H.set("offset",0),ue.set("offset",1),y=[H,ue]}return yf(this.element,y,C,N,this.duration,this.startTime,this.easing,!1)}}class Xm extends id{constructor(s,l,h,y,C,N,H=!1){super(s,l,N.delay),this.keyframes=h,this.preStyleProps=y,this.postStyleProps=C,this._stretchStartingKeyframe=H,this.timings={duration:N.duration,delay:N.delay,easing:N.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let s=this.keyframes,{delay:l,duration:h,easing:y}=this.timings;if(this._stretchStartingKeyframe&&l){const C=[],N=h+l,H=l/N,ue=kl(s[0]);ue.set("offset",0),C.push(ue);const be=kl(s[0]);be.set("offset",_f(H)),C.push(be);const dt=s.length-1;for(let Dt=1;Dt<=dt;Dt++){let Ot=kl(s[Dt]);const nn=Ot.get("offset");Ot.set("offset",_f((l+nn*h)/N)),C.push(Ot)}h=N,l=0,y="",s=C}return yf(this.element,s,this.preStyleProps,this.postStyleProps,h,l,y,!0)}}function _f(c,s=3){const l=Math.pow(10,s-1);return Math.round(c*l)/l}class qa{}const Kg=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class qg extends qa{normalizePropertyName(s,l){return Hd(s)}normalizeStyleValue(s,l,h,y){let C="";const N=h.toString().trim();if(Kg.has(l)&&0!==h&&"0"!==h)if("number"==typeof h)C="px";else{const H=h.match(/^[+-]?[\d\.]+([a-z]*)$/);H&&0==H[1].length&&y.push(function Jc(c,s){return new g.vHH(3005,!1)}())}return N+C}}function wp(c,s,l,h,y,C,N,H,ue,be,dt,Dt,Ot){return{type:0,element:c,triggerName:s,isRemovalTransition:y,fromState:l,fromStyles:C,toState:h,toStyles:N,timelines:H,queriedElements:ue,preStyleProps:be,postStyleProps:dt,totalTime:Dt,errors:Ot}}const Yg={};class Ip{constructor(s,l,h){this._triggerName=s,this.ast=l,this._stateStyles=h}match(s,l,h,y){return function Cp(c,s,l,h,y){return c.some(C=>C(s,l,h,y))}(this.ast.matchers,s,l,h,y)}buildStyles(s,l,h){let y=this._stateStyles.get("*");return void 0!==s&&(y=this._stateStyles.get(null==s?void 0:s.toString())||y),y?y.buildStyles(l,h):new Map}build(s,l,h,y,C,N,H,ue,be,dt){var Dt;const Ot=[],nn=this.ast.options&&this.ast.options.params||Yg,bn=this.buildStyles(h,H&&H.params||Yg,Ot),yr=ue&&ue.params||Yg,Zr=this.buildStyles(y,yr,Ot),yi=new Set,to=new Map,Do=new Map,hl="void"===y,Tu={params:ty(yr,nn),delay:null===(Dt=this.ast.options)||void 0===Dt?void 0:Dt.delay},Ko=dt?[]:Kd(s,l,this.ast.animation,C,N,bn,Zr,Tu,be,Ot);let fl=0;if(Ko.forEach(ta=>{fl=Math.max(ta.duration+ta.delay,fl)}),Ot.length)return wp(l,this._triggerName,h,y,hl,bn,Zr,[],[],to,Do,fl,Ot);Ko.forEach(ta=>{const pl=ta.element,Su=ea(to,pl,new Set);ta.preStyleProps.forEach(oh=>Su.add(oh));const sh=ea(Do,pl,new Set);ta.postStyleProps.forEach(oh=>sh.add(oh)),pl!==l&&yi.add(pl)});const ou=vc(yi.values());return wp(l,this._triggerName,h,y,hl,bn,Zr,Ko,ou,to,Do,fl)}}function ty(c,s){const l=mc(s);for(const h in c)c.hasOwnProperty(h)&&null!=c[h]&&(l[h]=c[h]);return l}class bp{constructor(s,l,h){this.styles=s,this.defaultParams=l,this.normalizer=h}buildStyles(s,l){const h=new Map,y=mc(this.defaultParams);return Object.keys(s).forEach(C=>{const N=s[C];null!==N&&(y[C]=N)}),this.styles.styles.forEach(C=>{"string"!=typeof C&&C.forEach((N,H)=>{N&&(N=bu(N,y,l));const ue=this.normalizer.normalizePropertyName(H,l);N=this.normalizer.normalizeStyleValue(H,ue,N,l),h.set(H,N)})}),h}}class qd{constructor(s,l,h){this.name=s,this.ast=l,this._normalizer=h,this.transitionFactories=[],this.states=new Map,l.states.forEach(y=>{this.states.set(y.name,new bp(y.style,y.options&&y.options.params||{},h))}),Dp(this.states,"true","1"),Dp(this.states,"false","0"),l.transitions.forEach(y=>{this.transitionFactories.push(new Ip(s,y,this.states))}),this.fallbackTransition=function Pv(c,s,l){return new Ip(c,{type:1,animation:{type:2,steps:[],options:null},matchers:[(N,H)=>!0],options:null,queryCount:0,depCount:0},s)}(s,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(s,l,h,y){return this.transitionFactories.find(N=>N.match(s,l,h,y))||null}matchStyles(s,l,h){return this.fallbackTransition.buildStyles(s,l,h)}}function Dp(c,s,l){c.has(s)?c.has(l)||c.set(l,c.get(s)):c.has(l)&&c.set(s,c.get(l))}const Yd=new Ka;class Zg{constructor(s,l,h){this.bodyNode=s,this._driver=l,this._normalizer=h,this._animations=new Map,this._playersById=new Map,this.players=[]}register(s,l){const h=[],C=$g(this._driver,l,h,[]);if(h.length)throw function Ld(c){return new g.vHH(3503,!1)}();this._animations.set(s,C)}_buildPlayer(s,l,h){const y=s.element,C=$d(0,this._normalizer,0,s.keyframes,l,h);return this._driver.animate(y,C,s.duration,s.delay,s.easing,[],!0)}create(s,l,h={}){const y=[],C=this._animations.get(s);let N;const H=new Map;if(C?(N=Kd(this._driver,l,C,xg,nd,new Map,new Map,h,Yd,y),N.forEach(dt=>{const Dt=ea(H,dt.element,new Map);dt.postStyleProps.forEach(Ot=>Dt.set(Ot,null))})):(y.push(function Hm(){return new g.vHH(3300,!1)}()),N=[]),y.length)throw function Av(c){return new g.vHH(3504,!1)}();H.forEach((dt,Dt)=>{dt.forEach((Ot,nn)=>{dt.set(nn,this._driver.computeStyle(Dt,nn,Ta))})});const be=Nl(N.map(dt=>{const Dt=H.get(dt.element);return this._buildPlayer(dt,new Map,Dt)}));return this._playersById.set(s,be),be.onDestroy(()=>this.destroy(s)),this.players.push(be),be}destroy(s){const l=this._getPlayer(s);l.destroy(),this._playersById.delete(s);const h=this.players.indexOf(l);h>=0&&this.players.splice(h,1)}_getPlayer(s){const l=this._playersById.get(s);if(!l)throw function Tg(c){return new g.vHH(3301,!1)}();return l}listen(s,l,h,y){const C=lf(l,"","","");return af(this._getPlayer(s),h,C,y),()=>{}}command(s,l,h,y){if("register"==h)return void this.register(s,y[0]);if("create"==h)return void this.create(s,l,y[0]||{});const C=this._getPlayer(s);switch(h){case"play":C.play();break;case"pause":C.pause();break;case"reset":C.reset();break;case"restart":C.restart();break;case"finish":C.finish();break;case"init":C.init();break;case"setPosition":C.setPosition(parseFloat(y[0]));break;case"destroy":this.destroy(s)}}}const ny="ng-animate-queued",If="ng-animate-disabled",Xg=[],Xd={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},ev={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},cl="__ng_removed";class sd{get params(){return this.options.params}constructor(s,l=""){this.namespaceId=l;const h=s&&s.hasOwnProperty("value");if(this.value=function tm(c){return null!=c?c:null}(h?s.value:s),h){const C=mc(s);delete C.value,this.options=C}else this.options={};this.options.params||(this.options.params={})}absorbOptions(s){const l=s.params;if(l){const h=this.options.params;Object.keys(l).forEach(y=>{null==h[y]&&(h[y]=l[y])})}}}const Cf="void",bf=new sd(Cf);class Jg{constructor(s,l,h){this.id=s,this.hostElement=l,this._engine=h,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+s,ga(l,this._hostClassName)}listen(s,l,h,y){if(!this._triggers.has(l))throw function Bd(c,s){return new g.vHH(3302,!1)}();if(null==h||0==h.length)throw function fc(c){return new g.vHH(3303,!1)}();if(!function Tp(c){return"start"==c||"done"==c}(h))throw function zm(c,s){return new g.vHH(3400,!1)}();const C=ea(this._elementListeners,s,[]),N={name:l,phase:h,callback:y};C.push(N);const H=ea(this._engine.statesByElement,s,new Map);return H.has(l)||(ga(s,mp),ga(s,mp+"-"+l),H.set(l,bf)),()=>{this._engine.afterFlush(()=>{const ue=C.indexOf(N);ue>=0&&C.splice(ue,1),this._triggers.has(l)||H.delete(l)})}}register(s,l){return!this._triggers.has(s)&&(this._triggers.set(s,l),!0)}_getTrigger(s){const l=this._triggers.get(s);if(!l)throw function hp(c){return new g.vHH(3401,!1)}();return l}trigger(s,l,h,y=!0){const C=this._getTrigger(l),N=new Df(this.id,l,s);let H=this._engine.statesByElement.get(s);H||(ga(s,mp),ga(s,mp+"-"+l),this._engine.statesByElement.set(s,H=new Map));let ue=H.get(l);const be=new sd(h,this.id);if(!(h&&h.hasOwnProperty("value"))&&ue&&be.absorbOptions(ue.options),H.set(l,be),ue||(ue=bf),be.value!==Cf&&ue.value===be.value){if(!function tv(c,s){const l=Object.keys(c),h=Object.keys(s);if(l.length!=h.length)return!1;for(let y=0;y<l.length;y++){const C=l[y];if(!s.hasOwnProperty(C)||c[C]!==s[C])return!1}return!0}(ue.params,be.params)){const bn=[],yr=C.matchStyles(ue.value,ue.params,bn),Zr=C.matchStyles(be.value,be.params,bn);bn.length?this._engine.reportError(bn):this._engine.afterFlush(()=>{fa(s,yr),ha(s,Zr)})}return}const Ot=ea(this._engine.playersByElement,s,[]);Ot.forEach(bn=>{bn.namespaceId==this.id&&bn.triggerName==l&&bn.queued&&bn.destroy()});let nn=C.matchTransition(ue.value,be.value,s,be.params),sn=!1;if(!nn){if(!y)return;nn=C.fallbackTransition,sn=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:s,triggerName:l,transition:nn,fromState:ue,toState:be,player:N,isFallbackTransition:sn}),sn||(ga(s,ny),N.onStart(()=>{Ec(s,ny)})),N.onDone(()=>{let bn=this.players.indexOf(N);bn>=0&&this.players.splice(bn,1);const yr=this._engine.playersByElement.get(s);if(yr){let Zr=yr.indexOf(N);Zr>=0&&yr.splice(Zr,1)}}),this.players.push(N),Ot.push(N),N}deregister(s){this._triggers.delete(s),this._engine.statesByElement.forEach(l=>l.delete(s)),this._elementListeners.forEach((l,h)=>{this._elementListeners.set(h,l.filter(y=>y.name!=s))})}clearElementCache(s){this._engine.statesByElement.delete(s),this._elementListeners.delete(s);const l=this._engine.playersByElement.get(s);l&&(l.forEach(h=>h.destroy()),this._engine.playersByElement.delete(s))}_signalRemovalForInnerTriggers(s,l){const h=this._engine.driver.query(s,jd,!0);h.forEach(y=>{if(y[cl])return;const C=this._engine.fetchNamespacesByElement(y);C.size?C.forEach(N=>N.triggerLeaveAnimation(y,l,!1,!0)):this.clearElementCache(y)}),this._engine.afterFlushAnimationsDone(()=>h.forEach(y=>this.clearElementCache(y)))}triggerLeaveAnimation(s,l,h,y){const C=this._engine.statesByElement.get(s),N=new Map;if(C){const H=[];if(C.forEach((ue,be)=>{if(N.set(be,ue.value),this._triggers.has(be)){const dt=this.trigger(s,be,Cf,y);dt&&H.push(dt)}}),H.length)return this._engine.markElementAsRemoved(this.id,s,!0,l,N),h&&Nl(H).onDone(()=>this._engine.processLeaveNode(s)),!0}return!1}prepareLeaveAnimationListeners(s){const l=this._elementListeners.get(s),h=this._engine.statesByElement.get(s);if(l&&h){const y=new Set;l.forEach(C=>{const N=C.name;if(y.has(N))return;y.add(N);const ue=this._triggers.get(N).fallbackTransition,be=h.get(N)||bf,dt=new sd(Cf),Dt=new Df(this.id,N,s);this._engine.totalQueuedPlayers++,this._queue.push({element:s,triggerName:N,transition:ue,fromState:be,toState:dt,player:Dt,isFallbackTransition:!0})})}}removeNode(s,l){const h=this._engine;if(s.childElementCount&&this._signalRemovalForInnerTriggers(s,l),this.triggerLeaveAnimation(s,l,!0))return;let y=!1;if(h.totalAnimations){const C=h.players.length?h.playersByQueriedElement.get(s):[];if(C&&C.length)y=!0;else{let N=s;for(;N=N.parentNode;)if(h.statesByElement.get(N)){y=!0;break}}}if(this.prepareLeaveAnimationListeners(s),y)h.markElementAsRemoved(this.id,s,!1,l);else{const C=s[cl];(!C||C===Xd)&&(h.afterFlush(()=>this.clearElementCache(s)),h.destroyInnerAnimations(s),h._onRemovalComplete(s,l))}}insertNode(s,l){ga(s,this._hostClassName)}drainQueuedTransitions(s){const l=[];return this._queue.forEach(h=>{const y=h.player;if(y.destroyed)return;const C=h.element,N=this._elementListeners.get(C);N&&N.forEach(H=>{if(H.name==h.triggerName){const ue=lf(C,h.triggerName,h.fromState.value,h.toState.value);ue._data=s,af(h.player,H.phase,ue,H.callback)}}),y.markedForDestroy?this._engine.afterFlush(()=>{y.destroy()}):l.push(h)}),this._queue=[],l.sort((h,y)=>{const C=h.transition.ast.depCount,N=y.transition.ast.depCount;return 0==C||0==N?C-N:this._engine.driver.containsElement(h.element,y.element)?1:-1})}destroy(s){this.players.forEach(l=>l.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,s)}elementContainsData(s){let l=!1;return this._elementListeners.has(s)&&(l=!0),l=!!this._queue.find(h=>h.element===s)||l,l}}class em{_onRemovalComplete(s,l){this.onRemovalComplete(s,l)}constructor(s,l,h){this.bodyNode=s,this.driver=l,this._normalizer=h,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(y,C)=>{}}get queuedPlayers(){const s=[];return this._namespaceList.forEach(l=>{l.players.forEach(h=>{h.queued&&s.push(h)})}),s}createNamespace(s,l){const h=new Jg(s,l,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,l)?this._balanceNamespaceList(h,l):(this.newHostElements.set(l,h),this.collectEnterElement(l)),this._namespaceLookup[s]=h}_balanceNamespaceList(s,l){const h=this._namespaceList,y=this.namespacesByHostElement;if(h.length-1>=0){let N=!1,H=this.driver.getParentElement(l);for(;H;){const ue=y.get(H);if(ue){const be=h.indexOf(ue);h.splice(be+1,0,s),N=!0;break}H=this.driver.getParentElement(H)}N||h.unshift(s)}else h.push(s);return y.set(l,s),s}register(s,l){let h=this._namespaceLookup[s];return h||(h=this.createNamespace(s,l)),h}registerTrigger(s,l,h){let y=this._namespaceLookup[s];y&&y.register(l,h)&&this.totalAnimations++}destroy(s,l){if(!s)return;const h=this._fetchNamespace(s);this.afterFlush(()=>{this.namespacesByHostElement.delete(h.hostElement),delete this._namespaceLookup[s];const y=this._namespaceList.indexOf(h);y>=0&&this._namespaceList.splice(y,1)}),this.afterFlushAnimationsDone(()=>h.destroy(l))}_fetchNamespace(s){return this._namespaceLookup[s]}fetchNamespacesByElement(s){const l=new Set,h=this.statesByElement.get(s);if(h)for(let y of h.values())if(y.namespaceId){const C=this._fetchNamespace(y.namespaceId);C&&l.add(C)}return l}trigger(s,l,h,y){if(Jd(l)){const C=this._fetchNamespace(s);if(C)return C.trigger(l,h,y),!0}return!1}insertNode(s,l,h,y){if(!Jd(l))return;const C=l[cl];if(C&&C.setForRemoval){C.setForRemoval=!1,C.setForMove=!0;const N=this.collectedLeaveElements.indexOf(l);N>=0&&this.collectedLeaveElements.splice(N,1)}if(s){const N=this._fetchNamespace(s);N&&N.insertNode(l,h)}y&&this.collectEnterElement(l)}collectEnterElement(s){this.collectedEnterElements.push(s)}markElementAsDisabled(s,l){l?this.disabledNodes.has(s)||(this.disabledNodes.add(s),ga(s,If)):this.disabledNodes.has(s)&&(this.disabledNodes.delete(s),Ec(s,If))}removeNode(s,l,h,y){if(Jd(l)){const C=s?this._fetchNamespace(s):null;if(C?C.removeNode(l,y):this.markElementAsRemoved(s,l,!1,y),h){const N=this.namespacesByHostElement.get(l);N&&N.id!==s&&N.removeNode(l,y)}}else this._onRemovalComplete(l,y)}markElementAsRemoved(s,l,h,y,C){this.collectedLeaveElements.push(l),l[cl]={namespaceId:s,setForRemoval:y,hasAnimation:h,removedBeforeQueried:!1,previousTriggersValues:C}}listen(s,l,h,y,C){return Jd(l)?this._fetchNamespace(s).listen(l,h,y,C):()=>{}}_buildInstruction(s,l,h,y,C){return s.transition.build(this.driver,s.element,s.fromState.value,s.toState.value,h,y,s.fromState.options,s.toState.options,l,C)}destroyInnerAnimations(s){let l=this.driver.query(s,jd,!0);l.forEach(h=>this.destroyActiveAnimationsForElement(h)),0!=this.playersByQueriedElement.size&&(l=this.driver.query(s,df,!0),l.forEach(h=>this.finishActiveQueriedAnimationOnElement(h)))}destroyActiveAnimationsForElement(s){const l=this.playersByElement.get(s);l&&l.forEach(h=>{h.queued?h.markedForDestroy=!0:h.destroy()})}finishActiveQueriedAnimationOnElement(s){const l=this.playersByQueriedElement.get(s);l&&l.forEach(h=>h.finish())}whenRenderingDone(){return new Promise(s=>{if(this.players.length)return Nl(this.players).onDone(()=>s());s()})}processLeaveNode(s){var l;const h=s[cl];if(h&&h.setForRemoval){if(s[cl]=Xd,h.namespaceId){this.destroyInnerAnimations(s);const y=this._fetchNamespace(h.namespaceId);y&&y.clearElementCache(s)}this._onRemovalComplete(s,h.setForRemoval)}null!==(l=s.classList)&&void 0!==l&&l.contains(If)&&this.markElementAsDisabled(s,!1),this.driver.query(s,".ng-animate-disabled",!0).forEach(y=>{this.markElementAsDisabled(y,!1)})}flush(s=-1){let l=[];if(this.newHostElements.size&&(this.newHostElements.forEach((h,y)=>this._balanceNamespaceList(h,y)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let h=0;h<this.collectedEnterElements.length;h++)ga(this.collectedEnterElements[h],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const h=[];try{l=this._flushAnimations(h,s)}finally{for(let y=0;y<h.length;y++)h[y]()}}else for(let h=0;h<this.collectedLeaveElements.length;h++)this.processLeaveNode(this.collectedLeaveElements[h]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(h=>h()),this._flushFns=[],this._whenQuietFns.length){const h=this._whenQuietFns;this._whenQuietFns=[],l.length?Nl(l).onDone(()=>{h.forEach(y=>y())}):h.forEach(y=>y())}}reportError(s){throw function pc(c){return new g.vHH(3402,!1)}()}_flushAnimations(s,l){const h=new Ka,y=[],C=new Map,N=[],H=new Map,ue=new Map,be=new Map,dt=new Set;this.disabledNodes.forEach(Nr=>{dt.add(Nr);const zr=this.driver.query(Nr,".ng-animate-queued",!0);for(let Kr=0;Kr<zr.length;Kr++)dt.add(zr[Kr])});const Dt=this.bodyNode,Ot=Array.from(this.statesByElement.keys()),nn=Af(Ot,this.collectedEnterElements),sn=new Map;let bn=0;nn.forEach((Nr,zr)=>{const Kr=xg+bn++;sn.set(zr,Kr),Nr.forEach(Ri=>ga(Ri,Kr))});const yr=[],Zr=new Set,yi=new Set;for(let Nr=0;Nr<this.collectedLeaveElements.length;Nr++){const zr=this.collectedLeaveElements[Nr],Kr=zr[cl];Kr&&Kr.setForRemoval&&(yr.push(zr),Zr.add(zr),Kr.hasAnimation?this.driver.query(zr,".ng-star-inserted",!0).forEach(Ri=>Zr.add(Ri)):yi.add(zr))}const to=new Map,Do=Af(Ot,Array.from(Zr));Do.forEach((Nr,zr)=>{const Kr=nd+bn++;to.set(zr,Kr),Nr.forEach(Ri=>ga(Ri,Kr))}),s.push(()=>{nn.forEach((Nr,zr)=>{const Kr=sn.get(zr);Nr.forEach(Ri=>Ec(Ri,Kr))}),Do.forEach((Nr,zr)=>{const Kr=to.get(zr);Nr.forEach(Ri=>Ec(Ri,Kr))}),yr.forEach(Nr=>{this.processLeaveNode(Nr)})});const hl=[],Tu=[];for(let Nr=this._namespaceList.length-1;Nr>=0;Nr--)this._namespaceList[Nr].drainQueuedTransitions(l).forEach(Kr=>{const Ri=Kr.player,Rs=Kr.element;if(hl.push(Ri),this.collectedEnterElements.length){const To=Rs[cl];if(To&&To.setForMove){if(To.previousTriggersValues&&To.previousTriggersValues.has(Kr.triggerName)){const au=To.previousTriggersValues.get(Kr.triggerName),$o=this.statesByElement.get(Kr.element);if($o&&$o.has(Kr.triggerName)){const Op=$o.get(Kr.triggerName);Op.value=au,$o.set(Kr.triggerName,Op)}}return void Ri.destroy()}}const gl=!Dt||!this.driver.containsElement(Dt,Rs),ma=to.get(Rs),Ll=sn.get(Rs),Ls=this._buildInstruction(Kr,h,Ll,ma,gl);if(Ls.errors&&Ls.errors.length)return void Tu.push(Ls);if(gl)return Ri.onStart(()=>fa(Rs,Ls.fromStyles)),Ri.onDestroy(()=>ha(Rs,Ls.toStyles)),void y.push(Ri);if(Kr.isFallbackTransition)return Ri.onStart(()=>fa(Rs,Ls.fromStyles)),Ri.onDestroy(()=>ha(Rs,Ls.toStyles)),void y.push(Ri);const hy=[];Ls.timelines.forEach(To=>{To.stretchStartingKeyframe=!0,this.disabledNodes.has(To.element)||hy.push(To)}),Ls.timelines=hy,h.append(Rs,Ls.timelines),N.push({instruction:Ls,player:Ri,element:Rs}),Ls.queriedElements.forEach(To=>ea(H,To,[]).push(Ri)),Ls.preStyleProps.forEach((To,au)=>{if(To.size){let $o=ue.get(au);$o||ue.set(au,$o=new Set),To.forEach((Op,Au)=>$o.add(Au))}}),Ls.postStyleProps.forEach((To,au)=>{let $o=be.get(au);$o||be.set(au,$o=new Set),To.forEach((Op,Au)=>$o.add(Au))})});if(Tu.length){const Nr=[];Tu.forEach(zr=>{Nr.push(function td(c,s){return new g.vHH(3505,!1)}())}),hl.forEach(zr=>zr.destroy()),this.reportError(Nr)}const Ko=new Map,fl=new Map;N.forEach(Nr=>{const zr=Nr.element;h.has(zr)&&(fl.set(zr,zr),this._beforeAnimationBuild(Nr.player.namespaceId,Nr.instruction,Ko))}),y.forEach(Nr=>{const zr=Nr.element;this._getPreviousPlayers(zr,!1,Nr.namespaceId,Nr.triggerName,null).forEach(Ri=>{ea(Ko,zr,[]).push(Ri),Ri.destroy()})});const ou=yr.filter(Nr=>sy(Nr,ue,be)),ta=new Map;Sf(ta,this.driver,yi,be,Ta).forEach(Nr=>{sy(Nr,ue,be)&&ou.push(Nr)});const Su=new Map;nn.forEach((Nr,zr)=>{Sf(Su,this.driver,new Set(Nr),ue,up)}),ou.forEach(Nr=>{var zr,Kr;const Ri=ta.get(Nr),Rs=Su.get(Nr);ta.set(Nr,new Map([...Array.from(null!==(zr=null==Ri?void 0:Ri.entries())&&void 0!==zr?zr:[]),...Array.from(null!==(Kr=null==Rs?void 0:Rs.entries())&&void 0!==Kr?Kr:[])]))});const sh=[],oh=[],dy={};N.forEach(Nr=>{const{element:zr,player:Kr,instruction:Ri}=Nr;if(h.has(zr)){if(dt.has(zr))return Kr.onDestroy(()=>ha(zr,Ri.toStyles)),Kr.disabled=!0,Kr.overrideTotalTime(Ri.totalTime),void y.push(Kr);let Rs=dy;if(fl.size>1){let ma=zr;const Ll=[];for(;ma=ma.parentNode;){const Ls=fl.get(ma);if(Ls){Rs=Ls;break}Ll.push(ma)}Ll.forEach(Ls=>fl.set(Ls,Rs))}const gl=this._buildAnimation(Kr.namespaceId,Ri,Ko,C,Su,ta);if(Kr.setRealPlayer(gl),Rs===dy)sh.push(Kr);else{const ma=this.playersByElement.get(Rs);ma&&ma.length&&(Kr.parentPlayer=Nl(ma)),y.push(Kr)}}else fa(zr,Ri.fromStyles),Kr.onDestroy(()=>ha(zr,Ri.toStyles)),oh.push(Kr),dt.has(zr)&&y.push(Kr)}),oh.forEach(Nr=>{const zr=C.get(Nr.element);if(zr&&zr.length){const Kr=Nl(zr);Nr.setRealPlayer(Kr)}}),y.forEach(Nr=>{Nr.parentPlayer?Nr.syncPlayerEvents(Nr.parentPlayer):Nr.destroy()});for(let Nr=0;Nr<yr.length;Nr++){const zr=yr[Nr],Kr=zr[cl];if(Ec(zr,nd),Kr&&Kr.hasAnimation)continue;let Ri=[];if(H.size){let gl=H.get(zr);gl&&gl.length&&Ri.push(...gl);let ma=this.driver.query(zr,df,!0);for(let Ll=0;Ll<ma.length;Ll++){let Ls=H.get(ma[Ll]);Ls&&Ls.length&&Ri.push(...Ls)}}const Rs=Ri.filter(gl=>!gl.destroyed);Rs.length?iy(this,zr,Rs):this.processLeaveNode(zr)}return yr.length=0,sh.forEach(Nr=>{this.players.push(Nr),Nr.onDone(()=>{Nr.destroy();const zr=this.players.indexOf(Nr);this.players.splice(zr,1)}),Nr.play()}),sh}elementContainsData(s,l){let h=!1;const y=l[cl];return y&&y.setForRemoval&&(h=!0),this.playersByElement.has(l)&&(h=!0),this.playersByQueriedElement.has(l)&&(h=!0),this.statesByElement.has(l)&&(h=!0),this._fetchNamespace(s).elementContainsData(l)||h}afterFlush(s){this._flushFns.push(s)}afterFlushAnimationsDone(s){this._whenQuietFns.push(s)}_getPreviousPlayers(s,l,h,y,C){let N=[];if(l){const H=this.playersByQueriedElement.get(s);H&&(N=H)}else{const H=this.playersByElement.get(s);if(H){const ue=!C||C==Cf;H.forEach(be=>{be.queued||!ue&&be.triggerName!=y||N.push(be)})}}return(h||y)&&(N=N.filter(H=>!(h&&h!=H.namespaceId||y&&y!=H.triggerName))),N}_beforeAnimationBuild(s,l,h){const C=l.element,N=l.isRemovalTransition?void 0:s,H=l.isRemovalTransition?void 0:l.triggerName;for(const ue of l.timelines){const be=ue.element,dt=be!==C,Dt=ea(h,be,[]);this._getPreviousPlayers(be,dt,N,H,l.toState).forEach(nn=>{const sn=nn.getRealPlayer();sn.beforeDestroy&&sn.beforeDestroy(),nn.destroy(),Dt.push(nn)})}fa(C,l.fromStyles)}_buildAnimation(s,l,h,y,C,N){const H=l.triggerName,ue=l.element,be=[],dt=new Set,Dt=new Set,Ot=l.timelines.map(sn=>{const bn=sn.element;dt.add(bn);const yr=bn[cl];if(yr&&yr.removedBeforeQueried)return new Xc(sn.duration,sn.delay);const Zr=bn!==ue,yi=function eh(c){const s=[];return Sp(c,s),s}((h.get(bn)||Xg).map(Ko=>Ko.getRealPlayer())).filter(Ko=>!!Ko.element&&Ko.element===bn),to=C.get(bn),Do=N.get(bn),hl=$d(0,this._normalizer,0,sn.keyframes,to,Do),Tu=this._buildPlayer(sn,hl,yi);if(sn.subTimeline&&y&&Dt.add(bn),Zr){const Ko=new Df(s,H,bn);Ko.setRealPlayer(Tu),be.push(Ko)}return Tu});be.forEach(sn=>{ea(this.playersByQueriedElement,sn.element,[]).push(sn),sn.onDone(()=>function ry(c,s,l){let h=c.get(s);if(h){if(h.length){const y=h.indexOf(l);h.splice(y,1)}0==h.length&&c.delete(s)}return h}(this.playersByQueriedElement,sn.element,sn))}),dt.forEach(sn=>ga(sn,Pg));const nn=Nl(Ot);return nn.onDestroy(()=>{dt.forEach(sn=>Ec(sn,Pg)),ha(ue,l.toStyles)}),Dt.forEach(sn=>{ea(y,sn,[]).push(nn)}),nn}_buildPlayer(s,l,h){return l.length>0?this.driver.animate(s.element,l,s.duration,s.delay,s.easing,h):new Xc(s.duration,s.delay)}}class Df{constructor(s,l,h){this.namespaceId=s,this.triggerName=l,this.element=h,this._player=new Xc,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(s){this._containsRealPlayer||(this._player=s,this._queuedCallbacks.forEach((l,h)=>{l.forEach(y=>af(s,h,void 0,y))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(s.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(s){this.totalTime=s}syncPlayerEvents(s){const l=this._player;l.triggerCallback&&s.onStart(()=>l.triggerCallback("start")),s.onDone(()=>this.finish()),s.onDestroy(()=>this.destroy())}_queueEvent(s,l){ea(this._queuedCallbacks,s,[]).push(l)}onDone(s){this.queued&&this._queueEvent("done",s),this._player.onDone(s)}onStart(s){this.queued&&this._queueEvent("start",s),this._player.onStart(s)}onDestroy(s){this.queued&&this._queueEvent("destroy",s),this._player.onDestroy(s)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(s){this.queued||this._player.setPosition(s)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(s){const l=this._player;l.triggerCallback&&l.triggerCallback(s)}}function Jd(c){return c&&1===c.nodeType}function Tf(c,s){const l=c.style.display;return c.style.display=null!=s?s:"none",l}function Sf(c,s,l,h,y){const C=[];l.forEach(ue=>C.push(Tf(ue)));const N=[];h.forEach((ue,be)=>{const dt=new Map;ue.forEach(Dt=>{const Ot=s.computeStyle(be,Dt,y);dt.set(Dt,Ot),(!Ot||0==Ot.length)&&(be[cl]=ev,N.push(be))}),c.set(be,dt)});let H=0;return l.forEach(ue=>Tf(ue,C[H++])),N}function Af(c,s){const l=new Map;if(c.forEach(H=>l.set(H,[])),0==s.length)return l;const h=1,y=new Set(s),C=new Map;function N(H){if(!H)return h;let ue=C.get(H);if(ue)return ue;const be=H.parentNode;return ue=l.has(be)?be:y.has(be)?h:N(be),C.set(H,ue),ue}return s.forEach(H=>{const ue=N(H);ue!==h&&l.get(ue).push(H)}),l}function ga(c,s){var l;null===(l=c.classList)||void 0===l||l.add(s)}function Ec(c,s){var l;null===(l=c.classList)||void 0===l||l.remove(s)}function iy(c,s,l){Nl(l).onDone(()=>c.processLeaveNode(s))}function Sp(c,s){for(let l=0;l<c.length;l++){const h=c[l];h instanceof Ig?Sp(h.players,s):s.push(h)}}function sy(c,s,l){const h=l.get(c);if(!h)return!1;let y=s.get(c);return y?h.forEach(C=>y.add(C)):s.set(c,h),l.delete(c),!0}class Ap{constructor(s,l,h){this.bodyNode=s,this._driver=l,this._normalizer=h,this._triggerCache={},this.onRemovalComplete=(y,C)=>{},this._transitionEngine=new em(s,l,h),this._timelineEngine=new Zg(s,l,h),this._transitionEngine.onRemovalComplete=(y,C)=>this.onRemovalComplete(y,C)}registerTrigger(s,l,h,y,C){const N=s+"-"+y;let H=this._triggerCache[N];if(!H){const ue=[],dt=$g(this._driver,C,ue,[]);if(ue.length)throw function Fd(c,s){return new g.vHH(3404,!1)}();H=function Ef(c,s,l){return new qd(c,s,l)}(y,dt,this._normalizer),this._triggerCache[N]=H}this._transitionEngine.registerTrigger(l,y,H)}register(s,l){this._transitionEngine.register(s,l)}destroy(s,l){this._transitionEngine.destroy(s,l)}onInsert(s,l,h,y){this._transitionEngine.insertNode(s,l,h,y)}onRemove(s,l,h,y){this._transitionEngine.removeNode(s,l,y||!1,h)}disableAnimations(s,l){this._transitionEngine.markElementAsDisabled(s,l)}process(s,l,h,y){if("@"==h.charAt(0)){const[C,N]=Sa(h);this._timelineEngine.command(C,l,N,y)}else this._transitionEngine.trigger(s,l,h,y)}listen(s,l,h,y,C){if("@"==h.charAt(0)){const[N,H]=Sa(h);return this._timelineEngine.listen(N,l,H,C)}return this._transitionEngine.listen(s,l,h,y,C)}flush(s=-1){this._transitionEngine.flush(s)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let oy=(()=>{class c{constructor(l,h,y){this._element=l,this._startStyles=h,this._endStyles=y,this._state=0;let C=c.initialStylesByElement.get(l);C||c.initialStylesByElement.set(l,C=new Map),this._initialStyles=C}start(){this._state<1&&(this._startStyles&&ha(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(ha(this._element,this._initialStyles),this._endStyles&&(ha(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(c.initialStylesByElement.delete(this._element),this._startStyles&&(fa(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(fa(this._element,this._endStyles),this._endStyles=null),ha(this._element,this._initialStyles),this._state=3)}}return c.initialStylesByElement=new WeakMap,c})();function Mp(c){let s=null;return c.forEach((l,h)=>{(function Ov(c){return"display"===c||"position"===c})(h)&&(s=s||new Map,s.set(h,l))}),s}class rm{constructor(s,l,h,y){this.element=s,this.keyframes=l,this.options=h,this._specialStyles=y,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=h.duration,this._delay=h.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(s=>s()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const s=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,s,this.options),this._finalKeyframe=s.length?s[s.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(s){const l=[];return s.forEach(h=>{l.push(Object.fromEntries(h))}),l}_triggerWebAnimation(s,l,h){return s.animate(this._convertKeyframesToObject(l),h)}onStart(s){this._originalOnStartFns.push(s),this._onStartFns.push(s)}onDone(s){this._originalOnDoneFns.push(s),this._onDoneFns.push(s)}onDestroy(s){this._onDestroyFns.push(s)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(s=>s()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(s=>s()),this._onDestroyFns=[])}setPosition(s){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=s*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const s=new Map;this.hasStarted()&&this._finalKeyframe.forEach((h,y)=>{"offset"!==y&&s.set(y,this._finished?h:Fg(this.element,y))}),this.currentSnapshot=s}triggerCallback(s){const l="start"===s?this._onStartFns:this._onDoneFns;l.forEach(h=>h()),l.length=0}}class Nv{validateStyleProperty(s){return!0}validateAnimatableStyleProperty(s){return!0}matchesElement(s,l){return!1}containsElement(s,l){return gc(s,l)}getParentElement(s){return Gm(s)}query(s,l,h){return pp(s,l,h)}computeStyle(s,l,h){return window.getComputedStyle(s)[l]}animate(s,l,h,y,C,N=[]){const ue={duration:h,delay:y,fill:0==y?"both":"forwards"};C&&(ue.easing=C);const be=new Map,dt=N.filter(nn=>nn instanceof rm);(function Ky(c,s){return 0===c||0===s})(h,y)&&dt.forEach(nn=>{nn.currentSnapshot.forEach((sn,bn)=>be.set(bn,sn))});let Dt=function Ga(c){return c.length?c[0]instanceof Map?c:c.map(s=>pf(s)):[]}(l).map(nn=>kl(nn));Dt=function kg(c,s,l){if(l.size&&s.length){let h=s[0],y=[];if(l.forEach((C,N)=>{h.has(N)||y.push(N),h.set(N,C)}),y.length)for(let C=1;C<s.length;C++){let N=s[C];y.forEach(H=>N.set(H,Fg(c,H)))}}return s}(s,Dt,be);const Ot=function nm(c,s){let l=null,h=null;return Array.isArray(s)&&s.length?(l=Mp(s[0]),s.length>1&&(h=Mp(s[s.length-1]))):s instanceof Map&&(l=Mp(s)),l||h?new oy(c,l,h):null}(s,Dt);return new rm(s,Dt,ue,Ot)}}let Rp=(()=>{class c extends Yc{constructor(l,h){super(),this._nextAnimationId=0,this._renderer=l.createRenderer(h.body,{id:"0",encapsulation:g.ifc.None,styles:[],data:{animation:[]}})}build(l){const h=this._nextAnimationId.toString();this._nextAnimationId++;const y=Array.isArray(l)?Qc(l):l;return th(this._renderer,null,h,"register",[y]),new ay(h,this._renderer)}}return c.\u0275fac=function(l){return new(l||c)(g.LFG(g.FYo),g.LFG(Ce.K0))},c.\u0275prov=g.Yz7({token:c,factory:c.\u0275fac}),c})();class ay extends Zc{constructor(s,l){super(),this._id=s,this._renderer=l}create(s,l){return new ly(this._id,s,l||{},this._renderer)}}class ly{constructor(s,l,h,y){this.id=s,this.element=l,this._renderer=y,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",h)}_listen(s,l){return this._renderer.listen(this.element,`@@${this.id}:${s}`,l)}_command(s,...l){return th(this._renderer,this.element,this.id,s,l)}onDone(s){this._listen("done",s)}onStart(s){this._listen("start",s)}onDestroy(s){this._listen("destroy",s)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(s){this._command("setPosition",s)}getPosition(){var s,l;return null!==(s=null===(l=this._renderer.engine.players[+this.id])||void 0===l?void 0:l.getPosition())&&void 0!==s?s:0}}function th(c,s,l,h,y){return c.setProperty(s,`@@${l}:${h}`,y)}const dl="@.disabled";let nh=(()=>{class c{constructor(l,h,y){this.delegate=l,this.engine=h,this._zone=y,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),h.onRemovalComplete=(C,N)=>{const H=null==N?void 0:N.parentNode(C);H&&N.removeChild(H,C)}}createRenderer(l,h){const C=this.delegate.createRenderer(l,h);if(!(l&&h&&h.data&&h.data.animation)){let dt=this._rendererCache.get(C);return dt||(dt=new bo("",C,this.engine,()=>this._rendererCache.delete(C)),this._rendererCache.set(C,dt)),dt}const N=h.id,H=h.id+"-"+this._currentId;this._currentId++,this.engine.register(H,l);const ue=dt=>{Array.isArray(dt)?dt.forEach(ue):this.engine.registerTrigger(N,H,l,dt.name,dt)};return h.data.animation.forEach(ue),new gi(this,H,C,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(l,h,y){l>=0&&l<this._microtaskId?this._zone.run(()=>h(y)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(C=>{const[N,H]=C;N(H)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([h,y]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return c.\u0275fac=function(l){return new(l||c)(g.LFG(g.FYo),g.LFG(Ap),g.LFG(g.R0b))},c.\u0275prov=g.Yz7({token:c,factory:c.\u0275fac}),c})();class bo{constructor(s,l,h,y){this.namespaceId=s,this.delegate=l,this.engine=h,this._onDestroy=y,this.destroyNode=this.delegate.destroyNode?C=>l.destroyNode(C):null}get data(){return this.delegate.data}destroy(){var s;this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy(),null===(s=this._onDestroy)||void 0===s||s.call(this)}createElement(s,l){return this.delegate.createElement(s,l)}createComment(s){return this.delegate.createComment(s)}createText(s){return this.delegate.createText(s)}appendChild(s,l){this.delegate.appendChild(s,l),this.engine.onInsert(this.namespaceId,l,s,!1)}insertBefore(s,l,h,y=!0){this.delegate.insertBefore(s,l,h),this.engine.onInsert(this.namespaceId,l,s,y)}removeChild(s,l,h){this.engine.onRemove(this.namespaceId,l,this.delegate,h)}selectRootElement(s,l){return this.delegate.selectRootElement(s,l)}parentNode(s){return this.delegate.parentNode(s)}nextSibling(s){return this.delegate.nextSibling(s)}setAttribute(s,l,h,y){this.delegate.setAttribute(s,l,h,y)}removeAttribute(s,l,h){this.delegate.removeAttribute(s,l,h)}addClass(s,l){this.delegate.addClass(s,l)}removeClass(s,l){this.delegate.removeClass(s,l)}setStyle(s,l,h,y){this.delegate.setStyle(s,l,h,y)}removeStyle(s,l,h){this.delegate.removeStyle(s,l,h)}setProperty(s,l,h){"@"==l.charAt(0)&&l==dl?this.disableAnimations(s,!!h):this.delegate.setProperty(s,l,h)}setValue(s,l){this.delegate.setValue(s,l)}listen(s,l,h){return this.delegate.listen(s,l,h)}disableAnimations(s,l){this.engine.disableAnimations(s,l)}}class gi extends bo{constructor(s,l,h,y,C){super(l,h,y,C),this.factory=s,this.namespaceId=l}setProperty(s,l,h){"@"==l.charAt(0)?"."==l.charAt(1)&&l==dl?this.disableAnimations(s,h=void 0===h||!!h):this.engine.process(this.namespaceId,s,l.slice(1),h):this.delegate.setProperty(s,l,h)}listen(s,l,h){if("@"==l.charAt(0)){const y=function Rf(c){switch(c){case"body":return document.body;case"document":return document;case"window":return window;default:return c}}(s);let C=l.slice(1),N="";return"@"!=C.charAt(0)&&([C,N]=function Ya(c){const s=c.indexOf(".");return[c.substring(0,s),c.slice(s+1)]}(C)),this.engine.listen(this.namespaceId,y,C,N,H=>{this.factory.scheduleListenerCallback(H._data||-1,h,H)})}return this.delegate.listen(s,l,h)}}const eo=[{provide:Yc,useClass:Rp},{provide:qa,useFactory:function ad(){return new qg}},{provide:Ap,useClass:(()=>{class c extends Ap{constructor(l,h,y,C){super(l.body,h,y)}ngOnDestroy(){this.flush()}}return c.\u0275fac=function(l){return new(l||c)(g.LFG(Ce.K0),g.LFG(ri),g.LFG(qa),g.LFG(g.z2F))},c.\u0275prov=g.Yz7({token:c,factory:c.\u0275fac}),c})()},{provide:g.FYo,useFactory:function Fs(c,s,l){return new nh(c,s,l)},deps:[m.se,Ap,g.R0b]}],Wo=[{provide:ri,useFactory:()=>new Nv},{provide:g.QbO,useValue:"BrowserAnimations"},...eo],ld=[{provide:ri,useClass:cf},{provide:g.QbO,useValue:"NoopAnimations"},...eo];let rh=(()=>{class c{static withConfig(l){return{ngModule:c,providers:l.disableAnimations?ld:Wo}}}return c.\u0275fac=function(l){return new(l||c)},c.\u0275mod=g.oAB({type:c}),c.\u0275inj=g.cJS({providers:Wo,imports:[m.b2]}),c})();var im=k(7246);let xp=(()=>{class c{constructor(l){this.objFirebase=l}TraerUsuarios(){return this.usuariosFirebase=this.objFirebase.collection("usuarios"),this.usuariosFirebase.valueChanges()}}return c.\u0275fac=function(l){return new(l||c)(g.LFG(Wh.ST))},c.\u0275prov=g.Yz7({token:c,factory:c.\u0275fac}),c})();var uy=k(2110),sm=k(5030),Gs=k(7622),nv=k(8490);let cy=(()=>{class c{constructor(l){this.camera=l,console.log("Hello CamaraProvider Provider")}SacarFoto(){this.camera.getPicture({quality:70,destinationType:this.camera.DestinationType.FILE_URI,encodingType:this.camera.EncodingType.JPEG,mediaType:this.camera.MediaType.PICTURE}).then(h=>{this.miFoto="data:image/jpeg;base64,"+h},h=>{})}}return c.\u0275fac=function(l){return new(l||c)(g.LFG(nv.V1))},c.\u0275prov=g.Yz7({token:c,factory:c.\u0275fac}),c})(),co=(()=>{class c{}return c.\u0275fac=function(l){return new(l||c)},c.\u0275mod=g.oAB({type:c,bootstrap:[je]}),c.\u0275inj=g.cJS({providers:[Fe,Ie,cy,uy.O,xp,Gs.e,Wh.yb,{provide:le.wN,useClass:_e.r4}],imports:[m.b2,_e.Pc.forRoot(),ze,sm.u5,yt.hO.initializeApp(Ze_firebase),Ae.ww,Iv,Od,Wh.yb,rh,qc.TE,sm.UX,(0,ip.hX)(()=>(0,ip.ZF)(Ze_firebase)),(0,im.AR)(()=>(0,im.v0)()),(0,Le.Cm)(()=>(0,Le.ad)())]}),c})();(0,g.G48)(),m.q6().bootstrapModule(co).catch(c=>console.log(c))},2110:(vn,ft,k)=>{"use strict";k.d(ft,{O:()=>Le});var m=k(5861),g=k(9260),le=k(2223),_e=k(1085);let Le=(()=>{class Ne{constructor(Ie){this.objFirebase=Ie,this.usuario=JSON.parse(sessionStorage.getItem("usuario"))}TraerFotosFeas(){return this.fotosFirebase=this.objFirebase.collection("feas"),this.fotosFirebase.valueChanges()}TraerFotosLindas(){return this.fotosFirebase=this.objFirebase.collection("lindas"),this.fotosFirebase.valueChanges()}GuardarData(Ie,Fe){var Ce=this;return(0,m.Z)(function*(){let me=Ce.objFirebase.createId(),je={id:me,nombre:Ie.nombre,path:Ie.path,usuario:Ie.usuario,positivo:0,negativo:0};Ce.objFirebase.collection(Fe).doc(me).set(je).then(ge=>{console.log(ge)}).catch(ge=>{console.log(ge)})})()}TraerUrl(Ie){let Fe;return g.Z.storage().ref().child(Ie).getDownloadURL().then(Ce=>{Fe=Ce,console.log(Ce)}).catch(Ce=>{console.log(Ce)}),Fe}VotarNegativo(Ie,Fe){console.log(Ie),Ie.negativo++,this.objFirebase.collection(Fe).doc(Ie.id).update(Ie).then(Ce=>{console.log(Ce)})}VotarPositivo(Ie,Fe){Ie.positivo++,console.log(Ie),this.objFirebase.collection(Fe).doc(Ie.id).update(Ie).then(Ce=>{console.log(Ce)})}}return Ne.\u0275fac=function(Ie){return new(Ie||Ne)(le.LFG(_e.ST))},Ne.\u0275prov=le.Yz7({token:Ne,factory:Ne.\u0275fac}),Ne})()},1135:(vn,ft,k)=>{"use strict";k.d(ft,{X:()=>g});var m=k(7579);class g extends m.x{constructor(_e){super(),this._value=_e}get value(){return this.getValue()}_subscribe(_e){const Le=super._subscribe(_e);return!Le.closed&&_e.next(this._value),Le}getValue(){const{hasError:_e,thrownError:Le,_value:Ne}=this;if(_e)throw Le;return this._throwIfClosed(),Ne}next(_e){super.next(this._value=_e)}}},9751:(vn,ft,k)=>{"use strict";k.d(ft,{y:()=>Ie});var m=k(930),g=k(727),le=k(8822),_e=k(9635),Le=k(2416),Ne=k(576),he=k(2806);let Ie=(()=>{class je{constructor(ze){ze&&(this._subscribe=ze)}lift(ze){const Ze=new je;return Ze.source=this,Ze.operator=ze,Ze}subscribe(ze,Ze,yt){const Ae=function me(je){return je&&je instanceof m.Lv||function Ce(je){return je&&(0,Ne.m)(je.next)&&(0,Ne.m)(je.error)&&(0,Ne.m)(je.complete)}(je)&&(0,g.Nn)(je)}(ze)?ze:new m.Hp(ze,Ze,yt);return(0,he.x)(()=>{const{operator:De,source:pt}=this;Ae.add(De?De.call(Ae,pt):pt?this._subscribe(Ae):this._trySubscribe(Ae))}),Ae}_trySubscribe(ze){try{return this._subscribe(ze)}catch(Ze){ze.error(Ze)}}forEach(ze,Ze){return new(Ze=Fe(Ze))((yt,Ae)=>{const De=new m.Hp({next:pt=>{try{ze(pt)}catch(ct){Ae(ct),De.unsubscribe()}},error:Ae,complete:yt});this.subscribe(De)})}_subscribe(ze){var Ze;return null===(Ze=this.source)||void 0===Ze?void 0:Ze.subscribe(ze)}[le.L](){return this}pipe(...ze){return(0,_e.U)(ze)(this)}toPromise(ze){return new(ze=Fe(ze))((Ze,yt)=>{let Ae;this.subscribe(De=>Ae=De,De=>yt(De),()=>Ze(Ae))})}}return je.create=ge=>new je(ge),je})();function Fe(je){var ge;return null!==(ge=null!=je?je:Le.config.Promise)&&void 0!==ge?ge:Promise}},7579:(vn,ft,k)=>{"use strict";k.d(ft,{x:()=>he});var m=k(9751),g=k(727);const _e=(0,k(3888).d)(Fe=>function(){Fe(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Le=k(8737),Ne=k(2806);let he=(()=>{class Fe extends m.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(me){const je=new Ie(this,this);return je.operator=me,je}_throwIfClosed(){if(this.closed)throw new _e}next(me){(0,Ne.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const je of this.currentObservers)je.next(me)}})}error(me){(0,Ne.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=me;const{observers:je}=this;for(;je.length;)je.shift().error(me)}})}complete(){(0,Ne.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:me}=this;for(;me.length;)me.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var me;return(null===(me=this.observers)||void 0===me?void 0:me.length)>0}_trySubscribe(me){return this._throwIfClosed(),super._trySubscribe(me)}_subscribe(me){return this._throwIfClosed(),this._checkFinalizedStatuses(me),this._innerSubscribe(me)}_innerSubscribe(me){const{hasError:je,isStopped:ge,observers:ze}=this;return je||ge?g.Lc:(this.currentObservers=null,ze.push(me),new g.w0(()=>{this.currentObservers=null,(0,Le.P)(ze,me)}))}_checkFinalizedStatuses(me){const{hasError:je,thrownError:ge,isStopped:ze}=this;je?me.error(ge):ze&&me.complete()}asObservable(){const me=new m.y;return me.source=this,me}}return Fe.create=(Ce,me)=>new Ie(Ce,me),Fe})();class Ie extends he{constructor(Ce,me){super(),this.destination=Ce,this.source=me}next(Ce){var me,je;null===(je=null===(me=this.destination)||void 0===me?void 0:me.next)||void 0===je||je.call(me,Ce)}error(Ce){var me,je;null===(je=null===(me=this.destination)||void 0===me?void 0:me.error)||void 0===je||je.call(me,Ce)}complete(){var Ce,me;null===(me=null===(Ce=this.destination)||void 0===Ce?void 0:Ce.complete)||void 0===me||me.call(Ce)}_subscribe(Ce){var me,je;return null!==(je=null===(me=this.source)||void 0===me?void 0:me.subscribe(Ce))&&void 0!==je?je:g.Lc}}},930:(vn,ft,k)=>{"use strict";k.d(ft,{Hp:()=>yt,Lv:()=>je});var m=k(576),g=k(727),le=k(2416),_e=k(7849),Le=k(5032);const Ne=Fe("C",void 0,void 0);function Fe(qe,it,ut){return{kind:qe,value:it,error:ut}}var Ce=k(3410),me=k(2806);class je extends g.w0{constructor(it){super(),this.isStopped=!1,it?(this.destination=it,(0,g.Nn)(it)&&it.add(this)):this.destination=ct}static create(it,ut,st){return new yt(it,ut,st)}next(it){this.isStopped?pt(function Ie(qe){return Fe("N",qe,void 0)}(it),this):this._next(it)}error(it){this.isStopped?pt(function he(qe){return Fe("E",void 0,qe)}(it),this):(this.isStopped=!0,this._error(it))}complete(){this.isStopped?pt(Ne,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(it){this.destination.next(it)}_error(it){try{this.destination.error(it)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const ge=Function.prototype.bind;function ze(qe,it){return ge.call(qe,it)}class Ze{constructor(it){this.partialObserver=it}next(it){const{partialObserver:ut}=this;if(ut.next)try{ut.next(it)}catch(st){Ae(st)}}error(it){const{partialObserver:ut}=this;if(ut.error)try{ut.error(it)}catch(st){Ae(st)}else Ae(it)}complete(){const{partialObserver:it}=this;if(it.complete)try{it.complete()}catch(ut){Ae(ut)}}}class yt extends je{constructor(it,ut,st){let Je;if(super(),(0,m.m)(it)||!it)Je={next:null!=it?it:void 0,error:null!=ut?ut:void 0,complete:null!=st?st:void 0};else{let Ue;this&&le.config.useDeprecatedNextContext?(Ue=Object.create(it),Ue.unsubscribe=()=>this.unsubscribe(),Je={next:it.next&&ze(it.next,Ue),error:it.error&&ze(it.error,Ue),complete:it.complete&&ze(it.complete,Ue)}):Je=it}this.destination=new Ze(Je)}}function Ae(qe){le.config.useDeprecatedSynchronousErrorHandling?(0,me.O)(qe):(0,_e.h)(qe)}function pt(qe,it){const{onStoppedNotification:ut}=le.config;ut&&Ce.z.setTimeout(()=>ut(qe,it))}const ct={closed:!0,next:Le.Z,error:function De(qe){throw qe},complete:Le.Z}},727:(vn,ft,k)=>{"use strict";k.d(ft,{Lc:()=>Ne,w0:()=>Le,Nn:()=>he});var m=k(576);const le=(0,k(3888).d)(Fe=>function(me){Fe(this),this.message=me?`${me.length} errors occurred during unsubscription:\n${me.map((je,ge)=>`${ge+1}) ${je.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=me});var _e=k(8737);class Le{constructor(Ce){this.initialTeardown=Ce,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let Ce;if(!this.closed){this.closed=!0;const{_parentage:me}=this;if(me)if(this._parentage=null,Array.isArray(me))for(const ze of me)ze.remove(this);else me.remove(this);const{initialTeardown:je}=this;if((0,m.m)(je))try{je()}catch(ze){Ce=ze instanceof le?ze.errors:[ze]}const{_finalizers:ge}=this;if(ge){this._finalizers=null;for(const ze of ge)try{Ie(ze)}catch(Ze){Ce=null!=Ce?Ce:[],Ze instanceof le?Ce=[...Ce,...Ze.errors]:Ce.push(Ze)}}if(Ce)throw new le(Ce)}}add(Ce){var me;if(Ce&&Ce!==this)if(this.closed)Ie(Ce);else{if(Ce instanceof Le){if(Ce.closed||Ce._hasParent(this))return;Ce._addParent(this)}(this._finalizers=null!==(me=this._finalizers)&&void 0!==me?me:[]).push(Ce)}}_hasParent(Ce){const{_parentage:me}=this;return me===Ce||Array.isArray(me)&&me.includes(Ce)}_addParent(Ce){const{_parentage:me}=this;this._parentage=Array.isArray(me)?(me.push(Ce),me):me?[me,Ce]:Ce}_removeParent(Ce){const{_parentage:me}=this;me===Ce?this._parentage=null:Array.isArray(me)&&(0,_e.P)(me,Ce)}remove(Ce){const{_finalizers:me}=this;me&&(0,_e.P)(me,Ce),Ce instanceof Le&&Ce._removeParent(this)}}Le.EMPTY=(()=>{const Fe=new Le;return Fe.closed=!0,Fe})();const Ne=Le.EMPTY;function he(Fe){return Fe instanceof Le||Fe&&"closed"in Fe&&(0,m.m)(Fe.remove)&&(0,m.m)(Fe.add)&&(0,m.m)(Fe.unsubscribe)}function Ie(Fe){(0,m.m)(Fe)?Fe():Fe.unsubscribe()}},2416:(vn,ft,k)=>{"use strict";k.d(ft,{config:()=>m});const m={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},7272:(vn,ft,k)=>{"use strict";k.d(ft,{z:()=>Le});var m=k(8189),le=k(7669),_e=k(8996);function Le(...Ne){return function g(){return(0,m.J)(1)}()((0,_e.D)(Ne,(0,le.yG)(Ne)))}},515:(vn,ft,k)=>{"use strict";k.d(ft,{E:()=>g});const g=new(k(9751).y)(Le=>Le.complete())},8996:(vn,ft,k)=>{"use strict";k.d(ft,{D:()=>it});var m=k(8421),g=k(5363),le=k(9468),Ne=k(9751),Ie=k(2202),Fe=k(576),Ce=k(9672);function je(ut,st){if(!ut)throw new Error("Iterable cannot be null");return new Ne.y(Je=>{(0,Ce.f)(Je,st,()=>{const Ue=ut[Symbol.asyncIterator]();(0,Ce.f)(Je,st,()=>{Ue.next().then(Ct=>{Ct.done?Je.complete():Je.next(Ct.value)})},0,!0)})})}var ge=k(3670),ze=k(8239),Ze=k(1144),yt=k(6495),Ae=k(2206),De=k(4532),pt=k(3260);function it(ut,st){return st?function qe(ut,st){if(null!=ut){if((0,ge.c)(ut))return function _e(ut,st){return(0,m.Xf)(ut).pipe((0,le.R)(st),(0,g.Q)(st))}(ut,st);if((0,Ze.z)(ut))return function he(ut,st){return new Ne.y(Je=>{let Ue=0;return st.schedule(function(){Ue===ut.length?Je.complete():(Je.next(ut[Ue++]),Je.closed||this.schedule())})})}(ut,st);if((0,ze.t)(ut))return function Le(ut,st){return(0,m.Xf)(ut).pipe((0,le.R)(st),(0,g.Q)(st))}(ut,st);if((0,Ae.D)(ut))return je(ut,st);if((0,yt.T)(ut))return function me(ut,st){return new Ne.y(Je=>{let Ue;return(0,Ce.f)(Je,st,()=>{Ue=ut[Ie.h](),(0,Ce.f)(Je,st,()=>{let Ct,ot;try{({value:Ct,done:ot}=Ue.next())}catch(Et){return void Je.error(Et)}ot?Je.complete():Je.next(Ct)},0,!0)}),()=>(0,Fe.m)(null==Ue?void 0:Ue.return)&&Ue.return()})}(ut,st);if((0,pt.L)(ut))return function ct(ut,st){return je((0,pt.Q)(ut),st)}(ut,st)}throw(0,De.z)(ut)}(ut,st):(0,m.Xf)(ut)}},4968:(vn,ft,k)=>{"use strict";k.d(ft,{R:()=>Ce});var m=k(8421),g=k(9751),le=k(5577),_e=k(1144),Le=k(576),Ne=k(3268);const he=["addListener","removeListener"],Ie=["addEventListener","removeEventListener"],Fe=["on","off"];function Ce(Ze,yt,Ae,De){if((0,Le.m)(Ae)&&(De=Ae,Ae=void 0),De)return Ce(Ze,yt,Ae).pipe((0,Ne.Z)(De));const[pt,ct]=function ze(Ze){return(0,Le.m)(Ze.addEventListener)&&(0,Le.m)(Ze.removeEventListener)}(Ze)?Ie.map(qe=>it=>Ze[qe](yt,it,Ae)):function je(Ze){return(0,Le.m)(Ze.addListener)&&(0,Le.m)(Ze.removeListener)}(Ze)?he.map(me(Ze,yt)):function ge(Ze){return(0,Le.m)(Ze.on)&&(0,Le.m)(Ze.off)}(Ze)?Fe.map(me(Ze,yt)):[];if(!pt&&(0,_e.z)(Ze))return(0,le.z)(qe=>Ce(qe,yt,Ae))((0,m.Xf)(Ze));if(!pt)throw new TypeError("Invalid event target");return new g.y(qe=>{const it=(...ut)=>qe.next(1<ut.length?ut:ut[0]);return pt(it),()=>ct(it)})}function me(Ze,yt){return Ae=>De=>Ze[Ae](yt,De)}},8421:(vn,ft,k)=>{"use strict";k.d(ft,{Xf:()=>ge});var m=k(655),g=k(1144),le=k(8239),_e=k(9751),Le=k(3670),Ne=k(2206),he=k(4532),Ie=k(6495),Fe=k(3260),Ce=k(576),me=k(7849),je=k(8822);function ge(qe){if(qe instanceof _e.y)return qe;if(null!=qe){if((0,Le.c)(qe))return function ze(qe){return new _e.y(it=>{const ut=qe[je.L]();if((0,Ce.m)(ut.subscribe))return ut.subscribe(it);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(qe);if((0,g.z)(qe))return function Ze(qe){return new _e.y(it=>{for(let ut=0;ut<qe.length&&!it.closed;ut++)it.next(qe[ut]);it.complete()})}(qe);if((0,le.t)(qe))return function yt(qe){return new _e.y(it=>{qe.then(ut=>{it.closed||(it.next(ut),it.complete())},ut=>it.error(ut)).then(null,me.h)})}(qe);if((0,Ne.D)(qe))return De(qe);if((0,Ie.T)(qe))return function Ae(qe){return new _e.y(it=>{for(const ut of qe)if(it.next(ut),it.closed)return;it.complete()})}(qe);if((0,Fe.L)(qe))return function pt(qe){return De((0,Fe.Q)(qe))}(qe)}throw(0,he.z)(qe)}function De(qe){return new _e.y(it=>{(function ct(qe,it){var ut,st,Je,Ue;return(0,m.mG)(this,void 0,void 0,function*(){try{for(ut=(0,m.KL)(qe);!(st=yield ut.next()).done;)if(it.next(st.value),it.closed)return}catch(Ct){Je={error:Ct}}finally{try{st&&!st.done&&(Ue=ut.return)&&(yield Ue.call(ut))}finally{if(Je)throw Je.error}}it.complete()})})(qe,it).catch(ut=>it.error(ut))})}},6451:(vn,ft,k)=>{"use strict";k.d(ft,{T:()=>Ne});var m=k(8189),g=k(8421),le=k(515),_e=k(7669),Le=k(8996);function Ne(...he){const Ie=(0,_e.yG)(he),Fe=(0,_e._6)(he,1/0),Ce=he;return Ce.length?1===Ce.length?(0,g.Xf)(Ce[0]):(0,m.J)(Fe)((0,Le.D)(Ce,Ie)):le.E}},9646:(vn,ft,k)=>{"use strict";k.d(ft,{of:()=>le});var m=k(7669),g=k(8996);function le(..._e){const Le=(0,m.yG)(_e);return(0,g.D)(_e,Le)}},5403:(vn,ft,k)=>{"use strict";k.d(ft,{Q:()=>le,x:()=>g});var m=k(930);function g(_e,Le,Ne,he,Ie){return new le(_e,Le,Ne,he,Ie)}class le extends m.Lv{constructor(Le,Ne,he,Ie,Fe,Ce){super(Le),this.onFinalize=Fe,this.shouldUnsubscribe=Ce,this._next=Ne?function(me){try{Ne(me)}catch(je){Le.error(je)}}:super._next,this._error=Ie?function(me){try{Ie(me)}catch(je){Le.error(je)}finally{this.unsubscribe()}}:super._error,this._complete=he?function(){try{he()}catch(me){Le.error(me)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var Le;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:Ne}=this;super.unsubscribe(),!Ne&&(null===(Le=this.onFinalize)||void 0===Le||Le.call(this))}}}},6590:(vn,ft,k)=>{"use strict";k.d(ft,{d:()=>le});var m=k(4482),g=k(5403);function le(_e){return(0,m.e)((Le,Ne)=>{let he=!1;Le.subscribe((0,g.x)(Ne,Ie=>{he=!0,Ne.next(Ie)},()=>{he||Ne.next(_e),Ne.complete()}))})}},1884:(vn,ft,k)=>{"use strict";k.d(ft,{x:()=>_e});var m=k(4671),g=k(4482),le=k(5403);function _e(Ne,he=m.y){return Ne=null!=Ne?Ne:Le,(0,g.e)((Ie,Fe)=>{let Ce,me=!0;Ie.subscribe((0,le.x)(Fe,je=>{const ge=he(je);(me||!Ne(Ce,ge))&&(me=!1,Ce=ge,Fe.next(je))}))})}function Le(Ne,he){return Ne===he}},9300:(vn,ft,k)=>{"use strict";k.d(ft,{h:()=>le});var m=k(4482),g=k(5403);function le(_e,Le){return(0,m.e)((Ne,he)=>{let Ie=0;Ne.subscribe((0,g.x)(he,Fe=>_e.call(Le,Fe,Ie++)&&he.next(Fe)))})}},8746:(vn,ft,k)=>{"use strict";k.d(ft,{x:()=>g});var m=k(4482);function g(le){return(0,m.e)((_e,Le)=>{try{_e.subscribe(Le)}finally{Le.add(le)}})}},590:(vn,ft,k)=>{"use strict";k.d(ft,{P:()=>he});var m=k(6805),g=k(9300),le=k(5698),_e=k(6590),Le=k(8068),Ne=k(4671);function he(Ie,Fe){const Ce=arguments.length>=2;return me=>me.pipe(Ie?(0,g.h)((je,ge)=>Ie(je,ge,me)):Ne.y,(0,le.q)(1),Ce?(0,_e.d)(Fe):(0,Le.T)(()=>new m.K))}},4004:(vn,ft,k)=>{"use strict";k.d(ft,{U:()=>le});var m=k(4482),g=k(5403);function le(_e,Le){return(0,m.e)((Ne,he)=>{let Ie=0;Ne.subscribe((0,g.x)(he,Fe=>{he.next(_e.call(Le,Fe,Ie++))}))})}},8189:(vn,ft,k)=>{"use strict";k.d(ft,{J:()=>le});var m=k(5577),g=k(4671);function le(_e=1/0){return(0,m.z)(g.y,_e)}},5577:(vn,ft,k)=>{"use strict";k.d(ft,{z:()=>Ie});var m=k(4004),g=k(8421),le=k(4482),_e=k(9672),Le=k(5403),he=k(576);function Ie(Fe,Ce,me=1/0){return(0,he.m)(Ce)?Ie((je,ge)=>(0,m.U)((ze,Ze)=>Ce(je,ze,ge,Ze))((0,g.Xf)(Fe(je,ge))),me):("number"==typeof Ce&&(me=Ce),(0,le.e)((je,ge)=>function Ne(Fe,Ce,me,je,ge,ze,Ze,yt){const Ae=[];let De=0,pt=0,ct=!1;const qe=()=>{ct&&!Ae.length&&!De&&Ce.complete()},it=st=>De<je?ut(st):Ae.push(st),ut=st=>{ze&&Ce.next(st),De++;let Je=!1;(0,g.Xf)(me(st,pt++)).subscribe((0,Le.x)(Ce,Ue=>{null==ge||ge(Ue),ze?it(Ue):Ce.next(Ue)},()=>{Je=!0},void 0,()=>{if(Je)try{for(De--;Ae.length&&De<je;){const Ue=Ae.shift();Ze?(0,_e.f)(Ce,Ze,()=>ut(Ue)):ut(Ue)}qe()}catch(Ue){Ce.error(Ue)}}))};return Fe.subscribe((0,Le.x)(Ce,it,()=>{ct=!0,qe()})),()=>{null==yt||yt()}}(je,ge,Fe,me)))}},5363:(vn,ft,k)=>{"use strict";k.d(ft,{Q:()=>_e});var m=k(9672),g=k(4482),le=k(5403);function _e(Le,Ne=0){return(0,g.e)((he,Ie)=>{he.subscribe((0,le.x)(Ie,Fe=>(0,m.f)(Ie,Le,()=>Ie.next(Fe),Ne),()=>(0,m.f)(Ie,Le,()=>Ie.complete(),Ne),Fe=>(0,m.f)(Ie,Le,()=>Ie.error(Fe),Ne)))})}},1520:(vn,ft,k)=>{"use strict";k.d(ft,{G:()=>le});var m=k(4482),g=k(5403);function le(){return(0,m.e)((_e,Le)=>{let Ne,he=!1;_e.subscribe((0,g.x)(Le,Ie=>{const Fe=Ne;Ne=Ie,he&&Le.next([Fe,Ie]),he=!0}))})}},5026:(vn,ft,k)=>{"use strict";k.d(ft,{R:()=>_e});var m=k(4482),g=k(5403);function _e(Le,Ne){return(0,m.e)(function le(Le,Ne,he,Ie,Fe){return(Ce,me)=>{let je=he,ge=Ne,ze=0;Ce.subscribe((0,g.x)(me,Ze=>{const yt=ze++;ge=je?Le(ge,Ze,yt):(je=!0,Ze),Ie&&me.next(ge)},Fe&&(()=>{je&&me.next(ge),me.complete()})))}}(Le,Ne,arguments.length>=2,!0))}},3099:(vn,ft,k)=>{"use strict";k.d(ft,{B:()=>Le});var m=k(8421),g=k(7579),le=k(930),_e=k(4482);function Le(he={}){const{connector:Ie=(()=>new g.x),resetOnError:Fe=!0,resetOnComplete:Ce=!0,resetOnRefCountZero:me=!0}=he;return je=>{let ge,ze,Ze,yt=0,Ae=!1,De=!1;const pt=()=>{null==ze||ze.unsubscribe(),ze=void 0},ct=()=>{pt(),ge=Ze=void 0,Ae=De=!1},qe=()=>{const it=ge;ct(),null==it||it.unsubscribe()};return(0,_e.e)((it,ut)=>{yt++,!De&&!Ae&&pt();const st=Ze=null!=Ze?Ze:Ie();ut.add(()=>{yt--,0===yt&&!De&&!Ae&&(ze=Ne(qe,me))}),st.subscribe(ut),!ge&&yt>0&&(ge=new le.Hp({next:Je=>st.next(Je),error:Je=>{De=!0,pt(),ze=Ne(ct,Fe,Je),st.error(Je)},complete:()=>{Ae=!0,pt(),ze=Ne(ct,Ce),st.complete()}}),(0,m.Xf)(it).subscribe(ge))})(je)}}function Ne(he,Ie,...Fe){if(!0===Ie)return void he();if(!1===Ie)return;const Ce=new le.Hp({next:()=>{Ce.unsubscribe(),he()}});return(0,m.Xf)(Ie(...Fe)).subscribe(Ce)}},3151:(vn,ft,k)=>{"use strict";k.d(ft,{d:()=>Le});var m=k(7579),g=k(6063);class le extends m.x{constructor(he=1/0,Ie=1/0,Fe=g.l){super(),this._bufferSize=he,this._windowTime=Ie,this._timestampProvider=Fe,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=Ie===1/0,this._bufferSize=Math.max(1,he),this._windowTime=Math.max(1,Ie)}next(he){const{isStopped:Ie,_buffer:Fe,_infiniteTimeWindow:Ce,_timestampProvider:me,_windowTime:je}=this;Ie||(Fe.push(he),!Ce&&Fe.push(me.now()+je)),this._trimBuffer(),super.next(he)}_subscribe(he){this._throwIfClosed(),this._trimBuffer();const Ie=this._innerSubscribe(he),{_infiniteTimeWindow:Fe,_buffer:Ce}=this,me=Ce.slice();for(let je=0;je<me.length&&!he.closed;je+=Fe?1:2)he.next(me[je]);return this._checkFinalizedStatuses(he),Ie}_trimBuffer(){const{_bufferSize:he,_timestampProvider:Ie,_buffer:Fe,_infiniteTimeWindow:Ce}=this,me=(Ce?1:2)*he;if(he<1/0&&me<Fe.length&&Fe.splice(0,Fe.length-me),!Ce){const je=Ie.now();let ge=0;for(let ze=1;ze<Fe.length&&Fe[ze]<=je;ze+=2)ge=ze;ge&&Fe.splice(0,ge+1)}}}var _e=k(3099);function Le(Ne,he,Ie){let Fe,Ce=!1;return Ne&&"object"==typeof Ne?({bufferSize:Fe=1/0,windowTime:he=1/0,refCount:Ce=!1,scheduler:Ie}=Ne):Fe=null!=Ne?Ne:1/0,(0,_e.B)({connector:()=>new le(Fe,he,Ie),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:Ce})}},8675:(vn,ft,k)=>{"use strict";k.d(ft,{O:()=>_e});var m=k(7272),g=k(7669),le=k(4482);function _e(...Le){const Ne=(0,g.yG)(Le);return(0,le.e)((he,Ie)=>{(Ne?(0,m.z)(Le,he,Ne):(0,m.z)(Le,he)).subscribe(Ie)})}},9468:(vn,ft,k)=>{"use strict";k.d(ft,{R:()=>g});var m=k(4482);function g(le,_e=0){return(0,m.e)((Le,Ne)=>{Ne.add(le.schedule(()=>Le.subscribe(Ne),_e))})}},3900:(vn,ft,k)=>{"use strict";k.d(ft,{w:()=>_e});var m=k(8421),g=k(4482),le=k(5403);function _e(Le,Ne){return(0,g.e)((he,Ie)=>{let Fe=null,Ce=0,me=!1;const je=()=>me&&!Fe&&Ie.complete();he.subscribe((0,le.x)(Ie,ge=>{null==Fe||Fe.unsubscribe();let ze=0;const Ze=Ce++;(0,m.Xf)(Le(ge,Ze)).subscribe(Fe=(0,le.x)(Ie,yt=>Ie.next(Ne?Ne(ge,yt,Ze,ze++):yt),()=>{Fe=null,je()}))},()=>{me=!0,je()}))})}},5698:(vn,ft,k)=>{"use strict";k.d(ft,{q:()=>_e});var m=k(515),g=k(4482),le=k(5403);function _e(Le){return Le<=0?()=>m.E:(0,g.e)((Ne,he)=>{let Ie=0;Ne.subscribe((0,le.x)(he,Fe=>{++Ie<=Le&&(he.next(Fe),Le<=Ie&&he.complete())}))})}},8505:(vn,ft,k)=>{"use strict";k.d(ft,{b:()=>Le});var m=k(576),g=k(4482),le=k(5403),_e=k(4671);function Le(Ne,he,Ie){const Fe=(0,m.m)(Ne)||he||Ie?{next:Ne,error:he,complete:Ie}:Ne;return Fe?(0,g.e)((Ce,me)=>{var je;null===(je=Fe.subscribe)||void 0===je||je.call(Fe);let ge=!0;Ce.subscribe((0,le.x)(me,ze=>{var Ze;null===(Ze=Fe.next)||void 0===Ze||Ze.call(Fe,ze),me.next(ze)},()=>{var ze;ge=!1,null===(ze=Fe.complete)||void 0===ze||ze.call(Fe),me.complete()},ze=>{var Ze;ge=!1,null===(Ze=Fe.error)||void 0===Ze||Ze.call(Fe,ze),me.error(ze)},()=>{var ze,Ze;ge&&(null===(ze=Fe.unsubscribe)||void 0===ze||ze.call(Fe)),null===(Ze=Fe.finalize)||void 0===Ze||Ze.call(Fe)}))}):_e.y}},8068:(vn,ft,k)=>{"use strict";k.d(ft,{T:()=>_e});var m=k(6805),g=k(4482),le=k(5403);function _e(Ne=Le){return(0,g.e)((he,Ie)=>{let Fe=!1;he.subscribe((0,le.x)(Ie,Ce=>{Fe=!0,Ie.next(Ce)},()=>Fe?Ie.complete():Ie.error(Ne())))})}function Le(){return new m.K}},4408:(vn,ft,k)=>{"use strict";k.d(ft,{o:()=>Le});var m=k(727);class g extends m.w0{constructor(he,Ie){super()}schedule(he,Ie=0){return this}}const le={setInterval(Ne,he,...Ie){const{delegate:Fe}=le;return null!=Fe&&Fe.setInterval?Fe.setInterval(Ne,he,...Ie):setInterval(Ne,he,...Ie)},clearInterval(Ne){const{delegate:he}=le;return((null==he?void 0:he.clearInterval)||clearInterval)(Ne)},delegate:void 0};var _e=k(8737);class Le extends g{constructor(he,Ie){super(he,Ie),this.scheduler=he,this.work=Ie,this.pending=!1}schedule(he,Ie=0){var Fe;if(this.closed)return this;this.state=he;const Ce=this.id,me=this.scheduler;return null!=Ce&&(this.id=this.recycleAsyncId(me,Ce,Ie)),this.pending=!0,this.delay=Ie,this.id=null!==(Fe=this.id)&&void 0!==Fe?Fe:this.requestAsyncId(me,this.id,Ie),this}requestAsyncId(he,Ie,Fe=0){return le.setInterval(he.flush.bind(he,this),Fe)}recycleAsyncId(he,Ie,Fe=0){if(null!=Fe&&this.delay===Fe&&!1===this.pending)return Ie;null!=Ie&&le.clearInterval(Ie)}execute(he,Ie){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const Fe=this._execute(he,Ie);if(Fe)return Fe;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(he,Ie){let Ce,Fe=!1;try{this.work(he)}catch(me){Fe=!0,Ce=me||new Error("Scheduled action threw falsy error")}if(Fe)return this.unsubscribe(),Ce}unsubscribe(){if(!this.closed){const{id:he,scheduler:Ie}=this,{actions:Fe}=Ie;this.work=this.state=this.scheduler=null,this.pending=!1,(0,_e.P)(Fe,this),null!=he&&(this.id=this.recycleAsyncId(Ie,he,null)),this.delay=null,super.unsubscribe()}}}},7565:(vn,ft,k)=>{"use strict";k.d(ft,{v:()=>le});var m=k(6063);class g{constructor(Le,Ne=g.now){this.schedulerActionCtor=Le,this.now=Ne}schedule(Le,Ne=0,he){return new this.schedulerActionCtor(this,Le).schedule(he,Ne)}}g.now=m.l.now;class le extends g{constructor(Le,Ne=g.now){super(Le,Ne),this.actions=[],this._active=!1}flush(Le){const{actions:Ne}=this;if(this._active)return void Ne.push(Le);let he;this._active=!0;do{if(he=Le.execute(Le.state,Le.delay))break}while(Le=Ne.shift());if(this._active=!1,he){for(;Le=Ne.shift();)Le.unsubscribe();throw he}}}},4986:(vn,ft,k)=>{"use strict";k.d(ft,{z:()=>le});var m=k(4408);const le=new(k(7565).v)(m.o)},6063:(vn,ft,k)=>{"use strict";k.d(ft,{l:()=>m});const m={now:()=>(m.delegate||Date).now(),delegate:void 0}},3410:(vn,ft,k)=>{"use strict";k.d(ft,{z:()=>m});const m={setTimeout(g,le,..._e){const{delegate:Le}=m;return null!=Le&&Le.setTimeout?Le.setTimeout(g,le,..._e):setTimeout(g,le,..._e)},clearTimeout(g){const{delegate:le}=m;return((null==le?void 0:le.clearTimeout)||clearTimeout)(g)},delegate:void 0}},2202:(vn,ft,k)=>{"use strict";k.d(ft,{h:()=>g});const g=function m(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(vn,ft,k)=>{"use strict";k.d(ft,{L:()=>m});const m="function"==typeof Symbol&&Symbol.observable||"@@observable"},6805:(vn,ft,k)=>{"use strict";k.d(ft,{K:()=>g});const g=(0,k(3888).d)(le=>function(){le(this),this.name="EmptyError",this.message="no elements in sequence"})},7669:(vn,ft,k)=>{"use strict";k.d(ft,{_6:()=>Ne,jO:()=>_e,yG:()=>Le});var m=k(576);function le(he){return he[he.length-1]}function _e(he){return(0,m.m)(le(he))?he.pop():void 0}function Le(he){return function g(he){return he&&(0,m.m)(he.schedule)}(le(he))?he.pop():void 0}function Ne(he,Ie){return"number"==typeof le(he)?he.pop():Ie}},4742:(vn,ft,k)=>{"use strict";k.d(ft,{D:()=>Le});const{isArray:m}=Array,{getPrototypeOf:g,prototype:le,keys:_e}=Object;function Le(he){if(1===he.length){const Ie=he[0];if(m(Ie))return{args:Ie,keys:null};if(function Ne(he){return he&&"object"==typeof he&&g(he)===le}(Ie)){const Fe=_e(Ie);return{args:Fe.map(Ce=>Ie[Ce]),keys:Fe}}}return{args:he,keys:null}}},8737:(vn,ft,k)=>{"use strict";function m(g,le){if(g){const _e=g.indexOf(le);0<=_e&&g.splice(_e,1)}}k.d(ft,{P:()=>m})},3888:(vn,ft,k)=>{"use strict";function m(g){const _e=g(Le=>{Error.call(Le),Le.stack=(new Error).stack});return _e.prototype=Object.create(Error.prototype),_e.prototype.constructor=_e,_e}k.d(ft,{d:()=>m})},1810:(vn,ft,k)=>{"use strict";function m(g,le){return g.reduce((_e,Le,Ne)=>(_e[Le]=le[Ne],_e),{})}k.d(ft,{n:()=>m})},2806:(vn,ft,k)=>{"use strict";k.d(ft,{O:()=>_e,x:()=>le});var m=k(2416);let g=null;function le(Le){if(m.config.useDeprecatedSynchronousErrorHandling){const Ne=!g;if(Ne&&(g={errorThrown:!1,error:null}),Le(),Ne){const{errorThrown:he,error:Ie}=g;if(g=null,he)throw Ie}}else Le()}function _e(Le){m.config.useDeprecatedSynchronousErrorHandling&&g&&(g.errorThrown=!0,g.error=Le)}},9672:(vn,ft,k)=>{"use strict";function m(g,le,_e,Le=0,Ne=!1){const he=le.schedule(function(){_e(),Ne?g.add(this.schedule(null,Le)):this.unsubscribe()},Le);if(g.add(he),!Ne)return he}k.d(ft,{f:()=>m})},4671:(vn,ft,k)=>{"use strict";function m(g){return g}k.d(ft,{y:()=>m})},1144:(vn,ft,k)=>{"use strict";k.d(ft,{z:()=>m});const m=g=>g&&"number"==typeof g.length&&"function"!=typeof g},2206:(vn,ft,k)=>{"use strict";k.d(ft,{D:()=>g});var m=k(576);function g(le){return Symbol.asyncIterator&&(0,m.m)(null==le?void 0:le[Symbol.asyncIterator])}},576:(vn,ft,k)=>{"use strict";function m(g){return"function"==typeof g}k.d(ft,{m:()=>m})},3670:(vn,ft,k)=>{"use strict";k.d(ft,{c:()=>le});var m=k(8822),g=k(576);function le(_e){return(0,g.m)(_e[m.L])}},6495:(vn,ft,k)=>{"use strict";k.d(ft,{T:()=>le});var m=k(2202),g=k(576);function le(_e){return(0,g.m)(null==_e?void 0:_e[m.h])}},8239:(vn,ft,k)=>{"use strict";k.d(ft,{t:()=>g});var m=k(576);function g(le){return(0,m.m)(null==le?void 0:le.then)}},3260:(vn,ft,k)=>{"use strict";k.d(ft,{L:()=>_e,Q:()=>le});var m=k(655),g=k(576);function le(Le){return(0,m.FC)(this,arguments,function*(){const he=Le.getReader();try{for(;;){const{value:Ie,done:Fe}=yield(0,m.qq)(he.read());if(Fe)return yield(0,m.qq)(void 0);yield yield(0,m.qq)(Ie)}}finally{he.releaseLock()}})}function _e(Le){return(0,g.m)(null==Le?void 0:Le.getReader)}},4482:(vn,ft,k)=>{"use strict";k.d(ft,{A:()=>g,e:()=>le});var m=k(576);function g(_e){return(0,m.m)(null==_e?void 0:_e.lift)}function le(_e){return Le=>{if(g(Le))return Le.lift(function(Ne){try{return _e(Ne,this)}catch(he){this.error(he)}});throw new TypeError("Unable to lift unknown Observable type")}}},3268:(vn,ft,k)=>{"use strict";k.d(ft,{Z:()=>_e});var m=k(4004);const{isArray:g}=Array;function _e(Le){return(0,m.U)(Ne=>function le(Le,Ne){return g(Ne)?Le(...Ne):Le(Ne)}(Le,Ne))}},5032:(vn,ft,k)=>{"use strict";function m(){}k.d(ft,{Z:()=>m})},9635:(vn,ft,k)=>{"use strict";k.d(ft,{U:()=>le,z:()=>g});var m=k(4671);function g(..._e){return le(_e)}function le(_e){return 0===_e.length?m.y:1===_e.length?_e[0]:function(Ne){return _e.reduce((he,Ie)=>Ie(he),Ne)}}},7849:(vn,ft,k)=>{"use strict";k.d(ft,{h:()=>le});var m=k(2416),g=k(3410);function le(_e){g.z.setTimeout(()=>{const{onUnhandledError:Le}=m.config;if(!Le)throw _e;Le(_e)})}},4532:(vn,ft,k)=>{"use strict";function m(g){return new TypeError(`You provided ${null!==g&&"object"==typeof g?"an invalid object":`'${g}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}k.d(ft,{z:()=>m})},863:(vn,ft,k)=>{var m={"./ion-accordion_2.entry.js":[9654,8592,9654],"./ion-action-sheet.entry.js":[3648,8592,3648],"./ion-alert.entry.js":[1118,8592,1118],"./ion-app_8.entry.js":[53,8592,53],"./ion-avatar_3.entry.js":[4753,4753],"./ion-back-button.entry.js":[2073,8592,2073],"./ion-backdrop.entry.js":[8939,8939],"./ion-breadcrumb_2.entry.js":[7544,8592,7544],"./ion-button_2.entry.js":[5652,8372],"./ion-card_5.entry.js":[388,388],"./ion-checkbox.entry.js":[9922,8592,9922],"./ion-chip.entry.js":[657,657],"./ion-col_3.entry.js":[9824,9824],"./ion-datetime-button.entry.js":[9230,7879,9230],"./ion-datetime_3.entry.js":[4959,7879,8592,4959],"./ion-fab_3.entry.js":[5836,8592,5836],"./ion-img.entry.js":[1033,1033],"./ion-infinite-scroll_2.entry.js":[8034,8592,8034],"./ion-input.entry.js":[1217,8592,1217],"./ion-item-option_3.entry.js":[2933,8592,2933],"./ion-item_8.entry.js":[4711,8592,4711],"./ion-loading.entry.js":[9434,9434],"./ion-menu_3.entry.js":[8136,8592,8136],"./ion-modal.entry.js":[2349,8592,2349],"./ion-nav_2.entry.js":[5349,8592,5349],"./ion-picker-column-internal.entry.js":[7602,8592,7602],"./ion-picker-internal.entry.js":[9016,9016],"./ion-popover.entry.js":[3804,3804],"./ion-progress-bar.entry.js":[4174,4174],"./ion-radio_2.entry.js":[4432,8592,4432],"./ion-range.entry.js":[1709,8592,1709],"./ion-refresher_2.entry.js":[3326,8592,3326],"./ion-reorder_2.entry.js":[3583,8592,3583],"./ion-ripple-effect.entry.js":[9958,9958],"./ion-route_4.entry.js":[4330,4330],"./ion-searchbar.entry.js":[8628,8592,8628],"./ion-segment_2.entry.js":[9325,8592,9325],"./ion-select_3.entry.js":[2773,8592,2773],"./ion-spinner.entry.js":[4908,8592,4908],"./ion-split-pane.entry.js":[9536,9536],"./ion-tab-bar_2.entry.js":[438,8592,438],"./ion-tab_2.entry.js":[1536,1536],"./ion-text.entry.js":[4376,4376],"./ion-textarea.entry.js":[6560,8592,6560],"./ion-toast.entry.js":[6120,6120],"./ion-toggle.entry.js":[5168,8592,5168]};function g(le){if(!k.o(m,le))return Promise.resolve().then(()=>{var Ne=new Error("Cannot find module '"+le+"'");throw Ne.code="MODULE_NOT_FOUND",Ne});var _e=m[le],Le=_e[0];return Promise.all(_e.slice(1).map(k.e)).then(()=>k(Le))}g.keys=()=>Object.keys(m),g.id=863,vn.exports=g},655:(vn,ft,k)=>{"use strict";k.d(ft,{FC:()=>it,KL:()=>st,ZT:()=>g,_T:()=>_e,gn:()=>Le,mG:()=>je,qq:()=>qe});var m=function(Oe,Ge){return(m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Qe,xe){Qe.__proto__=xe}||function(Qe,xe){for(var Be in xe)Object.prototype.hasOwnProperty.call(xe,Be)&&(Qe[Be]=xe[Be])})(Oe,Ge)};function g(Oe,Ge){if("function"!=typeof Ge&&null!==Ge)throw new TypeError("Class extends value "+String(Ge)+" is not a constructor or null");function Qe(){this.constructor=Oe}m(Oe,Ge),Oe.prototype=null===Ge?Object.create(Ge):(Qe.prototype=Ge.prototype,new Qe)}function _e(Oe,Ge){var Qe={};for(var xe in Oe)Object.prototype.hasOwnProperty.call(Oe,xe)&&Ge.indexOf(xe)<0&&(Qe[xe]=Oe[xe]);if(null!=Oe&&"function"==typeof Object.getOwnPropertySymbols){var Be=0;for(xe=Object.getOwnPropertySymbols(Oe);Be<xe.length;Be++)Ge.indexOf(xe[Be])<0&&Object.prototype.propertyIsEnumerable.call(Oe,xe[Be])&&(Qe[xe[Be]]=Oe[xe[Be]])}return Qe}function Le(Oe,Ge,Qe,xe){var vt,Be=arguments.length,We=Be<3?Ge:null===xe?xe=Object.getOwnPropertyDescriptor(Ge,Qe):xe;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)We=Reflect.decorate(Oe,Ge,Qe,xe);else for(var ht=Oe.length-1;ht>=0;ht--)(vt=Oe[ht])&&(We=(Be<3?vt(We):Be>3?vt(Ge,Qe,We):vt(Ge,Qe))||We);return Be>3&&We&&Object.defineProperty(Ge,Qe,We),We}function je(Oe,Ge,Qe,xe){return new(Qe||(Qe=Promise))(function(We,vt){function ht(cn){try{ce(xe.next(cn))}catch(xt){vt(xt)}}function Pt(cn){try{ce(xe.throw(cn))}catch(xt){vt(xt)}}function ce(cn){cn.done?We(cn.value):function Be(We){return We instanceof Qe?We:new Qe(function(vt){vt(We)})}(cn.value).then(ht,Pt)}ce((xe=xe.apply(Oe,Ge||[])).next())})}function qe(Oe){return this instanceof qe?(this.v=Oe,this):new qe(Oe)}function it(Oe,Ge,Qe){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Be,xe=Qe.apply(Oe,Ge||[]),We=[];return Be={},vt("next"),vt("throw"),vt("return"),Be[Symbol.asyncIterator]=function(){return this},Be;function vt(rt){xe[rt]&&(Be[rt]=function(Ft){return new Promise(function(qt,Cn){We.push([rt,Ft,qt,Cn])>1||ht(rt,Ft)})})}function ht(rt,Ft){try{!function Pt(rt){rt.value instanceof qe?Promise.resolve(rt.value.v).then(ce,cn):xt(We[0][2],rt)}(xe[rt](Ft))}catch(qt){xt(We[0][3],qt)}}function ce(rt){ht("next",rt)}function cn(rt){ht("throw",rt)}function xt(rt,Ft){rt(Ft),We.shift(),We.length&&ht(We[0][0],We[0][1])}}function st(Oe){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Qe,Ge=Oe[Symbol.asyncIterator];return Ge?Ge.call(Oe):(Oe=function yt(Oe){var Ge="function"==typeof Symbol&&Symbol.iterator,Qe=Ge&&Oe[Ge],xe=0;if(Qe)return Qe.call(Oe);if(Oe&&"number"==typeof Oe.length)return{next:function(){return Oe&&xe>=Oe.length&&(Oe=void 0),{value:Oe&&Oe[xe++],done:!Oe}}};throw new TypeError(Ge?"Object is not iterable.":"Symbol.iterator is not defined.")}(Oe),Qe={},xe("next"),xe("throw"),xe("return"),Qe[Symbol.asyncIterator]=function(){return this},Qe);function xe(We){Qe[We]=Oe[We]&&function(vt){return new Promise(function(ht,Pt){!function Be(We,vt,ht,Pt){Promise.resolve(Pt).then(function(ce){We({value:ce,done:ht})},vt)}(ht,Pt,(vt=Oe[We](vt)).done,vt.value)})}}}},4755:(vn,ft,k)=>{"use strict";k.d(ft,{Do:()=>pt,EM:()=>Po,HT:()=>_e,JF:()=>ro,K0:()=>Ne,Mx:()=>Ji,NF:()=>is,O5:()=>W,Ov:()=>Dn,PM:()=>Os,S$:()=>yt,V_:()=>Fe,Ye:()=>ct,b0:()=>De,bD:()=>hr,ez:()=>Jn,q:()=>le,sg:()=>rs,tP:()=>En,w_:()=>Le});var m=k(2223);let g=null;function le(){return g}function _e(U){g||(g=U)}class Le{}const Ne=new m.OlP("DocumentToken");let he=(()=>{class U{historyGo(j){throw new Error("Not implemented")}}return U.\u0275fac=function(j){return new(j||U)},U.\u0275prov=m.Yz7({token:U,factory:function(){return function Ie(){return(0,m.LFG)(Ce)}()},providedIn:"platform"}),U})();const Fe=new m.OlP("Location Initialized");let Ce=(()=>{class U extends he{constructor(j){super(),this._doc=j,this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return le().getBaseHref(this._doc)}onPopState(j){const we=le().getGlobalEventTarget(this._doc,"window");return we.addEventListener("popstate",j,!1),()=>we.removeEventListener("popstate",j)}onHashChange(j){const we=le().getGlobalEventTarget(this._doc,"window");return we.addEventListener("hashchange",j,!1),()=>we.removeEventListener("hashchange",j)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(j){this._location.pathname=j}pushState(j,we,Xe){me()?this._history.pushState(j,we,Xe):this._location.hash=Xe}replaceState(j,we,Xe){me()?this._history.replaceState(j,we,Xe):this._location.hash=Xe}forward(){this._history.forward()}back(){this._history.back()}historyGo(j=0){this._history.go(j)}getState(){return this._history.state}}return U.\u0275fac=function(j){return new(j||U)(m.LFG(Ne))},U.\u0275prov=m.Yz7({token:U,factory:function(){return function je(){return new Ce((0,m.LFG)(Ne))}()},providedIn:"platform"}),U})();function me(){return!!window.history.pushState}function ge(U,se){if(0==U.length)return se;if(0==se.length)return U;let j=0;return U.endsWith("/")&&j++,se.startsWith("/")&&j++,2==j?U+se.substring(1):1==j?U+se:U+"/"+se}function ze(U){const se=U.match(/#|\?|$/),j=se&&se.index||U.length;return U.slice(0,j-("/"===U[j-1]?1:0))+U.slice(j)}function Ze(U){return U&&"?"!==U[0]?"?"+U:U}let yt=(()=>{class U{historyGo(j){throw new Error("Not implemented")}}return U.\u0275fac=function(j){return new(j||U)},U.\u0275prov=m.Yz7({token:U,factory:function(){return(0,m.f3M)(De)},providedIn:"root"}),U})();const Ae=new m.OlP("appBaseHref");let De=(()=>{class U extends yt{constructor(j,we){var Xe,zt,rn;super(),this._platformLocation=j,this._removeListenerFns=[],this._baseHref=null!==(Xe=null!==(zt=null!=we?we:this._platformLocation.getBaseHrefFromDOM())&&void 0!==zt?zt:null===(rn=(0,m.f3M)(Ne).location)||void 0===rn?void 0:rn.origin)&&void 0!==Xe?Xe:""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(j){this._removeListenerFns.push(this._platformLocation.onPopState(j),this._platformLocation.onHashChange(j))}getBaseHref(){return this._baseHref}prepareExternalUrl(j){return ge(this._baseHref,j)}path(j=!1){const we=this._platformLocation.pathname+Ze(this._platformLocation.search),Xe=this._platformLocation.hash;return Xe&&j?`${we}${Xe}`:we}pushState(j,we,Xe,zt){const rn=this.prepareExternalUrl(Xe+Ze(zt));this._platformLocation.pushState(j,we,rn)}replaceState(j,we,Xe,zt){const rn=this.prepareExternalUrl(Xe+Ze(zt));this._platformLocation.replaceState(j,we,rn)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(j=0){var we,Xe;null===(we=(Xe=this._platformLocation).historyGo)||void 0===we||we.call(Xe,j)}}return U.\u0275fac=function(j){return new(j||U)(m.LFG(he),m.LFG(Ae,8))},U.\u0275prov=m.Yz7({token:U,factory:U.\u0275fac,providedIn:"root"}),U})(),pt=(()=>{class U extends yt{constructor(j,we){super(),this._platformLocation=j,this._baseHref="",this._removeListenerFns=[],null!=we&&(this._baseHref=we)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(j){this._removeListenerFns.push(this._platformLocation.onPopState(j),this._platformLocation.onHashChange(j))}getBaseHref(){return this._baseHref}path(j=!1){let we=this._platformLocation.hash;return null==we&&(we="#"),we.length>0?we.substring(1):we}prepareExternalUrl(j){const we=ge(this._baseHref,j);return we.length>0?"#"+we:we}pushState(j,we,Xe,zt){let rn=this.prepareExternalUrl(Xe+Ze(zt));0==rn.length&&(rn=this._platformLocation.pathname),this._platformLocation.pushState(j,we,rn)}replaceState(j,we,Xe,zt){let rn=this.prepareExternalUrl(Xe+Ze(zt));0==rn.length&&(rn=this._platformLocation.pathname),this._platformLocation.replaceState(j,we,rn)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(j=0){var we,Xe;null===(we=(Xe=this._platformLocation).historyGo)||void 0===we||we.call(Xe,j)}}return U.\u0275fac=function(j){return new(j||U)(m.LFG(he),m.LFG(Ae,8))},U.\u0275prov=m.Yz7({token:U,factory:U.\u0275fac}),U})(),ct=(()=>{class U{constructor(j){this._subject=new m.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=j;const we=this._locationStrategy.getBaseHref();this._basePath=function st(U){if(new RegExp("^(https?:)?//").test(U)){const[,j]=U.split(/\/\/[^\/]+/);return j}return U}(ze(ut(we))),this._locationStrategy.onPopState(Xe=>{this._subject.emit({url:this.path(!0),pop:!0,state:Xe.state,type:Xe.type})})}ngOnDestroy(){var j;null===(j=this._urlChangeSubscription)||void 0===j||j.unsubscribe(),this._urlChangeListeners=[]}path(j=!1){return this.normalize(this._locationStrategy.path(j))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(j,we=""){return this.path()==this.normalize(j+Ze(we))}normalize(j){return U.stripTrailingSlash(function it(U,se){if(!U||!se.startsWith(U))return se;const j=se.substring(U.length);return""===j||["/",";","?","#"].includes(j[0])?j:se}(this._basePath,ut(j)))}prepareExternalUrl(j){return j&&"/"!==j[0]&&(j="/"+j),this._locationStrategy.prepareExternalUrl(j)}go(j,we="",Xe=null){this._locationStrategy.pushState(Xe,"",j,we),this._notifyUrlChangeListeners(this.prepareExternalUrl(j+Ze(we)),Xe)}replaceState(j,we="",Xe=null){this._locationStrategy.replaceState(Xe,"",j,we),this._notifyUrlChangeListeners(this.prepareExternalUrl(j+Ze(we)),Xe)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(j=0){var we,Xe;null===(we=(Xe=this._locationStrategy).historyGo)||void 0===we||we.call(Xe,j)}onUrlChange(j){return this._urlChangeListeners.push(j),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(we=>{this._notifyUrlChangeListeners(we.url,we.state)})),()=>{const we=this._urlChangeListeners.indexOf(j);var Xe;this._urlChangeListeners.splice(we,1),0===this._urlChangeListeners.length&&(null===(Xe=this._urlChangeSubscription)||void 0===Xe||Xe.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(j="",we){this._urlChangeListeners.forEach(Xe=>Xe(j,we))}subscribe(j,we,Xe){return this._subject.subscribe({next:j,error:we,complete:Xe})}}return U.normalizeQueryParams=Ze,U.joinWithSlash=ge,U.stripTrailingSlash=ze,U.\u0275fac=function(j){return new(j||U)(m.LFG(yt))},U.\u0275prov=m.Yz7({token:U,factory:function(){return function qe(){return new ct((0,m.LFG)(yt))}()},providedIn:"root"}),U})();function ut(U){return U.replace(/\/index.html$/,"")}function Ji(U,se){se=encodeURIComponent(se);for(const j of U.split(";")){const we=j.indexOf("="),[Xe,zt]=-1==we?[j,""]:[j.slice(0,we),j.slice(we+1)];if(Xe.trim()===se)return decodeURIComponent(zt)}return null}class es{constructor(se,j,we,Xe){this.$implicit=se,this.ngForOf=j,this.index=we,this.count=Xe}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let rs=(()=>{class U{set ngForOf(j){this._ngForOf=j,this._ngForOfDirty=!0}set ngForTrackBy(j){this._trackByFn=j}get ngForTrackBy(){return this._trackByFn}constructor(j,we,Xe){this._viewContainer=j,this._template=we,this._differs=Xe,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(j){j&&(this._template=j)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const j=this._ngForOf;!this._differ&&j&&(this._differ=this._differs.find(j).create(this.ngForTrackBy))}if(this._differ){const j=this._differ.diff(this._ngForOf);j&&this._applyChanges(j)}}_applyChanges(j){const we=this._viewContainer;j.forEachOperation((Xe,zt,rn)=>{if(null==Xe.previousIndex)we.createEmbeddedView(this._template,new es(Xe.item,this._ngForOf,-1,-1),null===rn?void 0:rn);else if(null==rn)we.remove(null===zt?void 0:zt);else if(null!==zt){const lr=we.get(zt);we.move(lr,rn),ds(lr,Xe)}});for(let Xe=0,zt=we.length;Xe<zt;Xe++){const lr=we.get(Xe).context;lr.index=Xe,lr.count=zt,lr.ngForOf=this._ngForOf}j.forEachIdentityChange(Xe=>{ds(we.get(Xe.currentIndex),Xe)})}static ngTemplateContextGuard(j,we){return!0}}return U.\u0275fac=function(j){return new(j||U)(m.Y36(m.s_b),m.Y36(m.Rgc),m.Y36(m.ZZ4))},U.\u0275dir=m.lG2({type:U,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),U})();function ds(U,se){U.context.$implicit=se.item}let W=(()=>{class U{constructor(j,we){this._viewContainer=j,this._context=new ee,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=we}set ngIf(j){this._context.$implicit=this._context.ngIf=j,this._updateView()}set ngIfThen(j){ye("ngIfThen",j),this._thenTemplateRef=j,this._thenViewRef=null,this._updateView()}set ngIfElse(j){ye("ngIfElse",j),this._elseTemplateRef=j,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(j,we){return!0}}return U.\u0275fac=function(j){return new(j||U)(m.Y36(m.s_b),m.Y36(m.Rgc))},U.\u0275dir=m.lG2({type:U,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),U})();class ee{constructor(){this.$implicit=null,this.ngIf=null}}function ye(U,se){if(se&&!se.createEmbeddedView)throw new Error(`${U} must be a TemplateRef, but received '${(0,m.AaK)(se)}'.`)}let En=(()=>{class U{constructor(j){this._viewContainerRef=j,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(j){if(j.ngTemplateOutlet||j.ngTemplateOutletInjector){const we=this._viewContainerRef;if(this._viewRef&&we.remove(we.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:Xe,ngTemplateOutletContext:zt,ngTemplateOutletInjector:rn}=this;this._viewRef=we.createEmbeddedView(Xe,zt,rn?{injector:rn}:void 0)}else this._viewRef=null}else this._viewRef&&j.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return U.\u0275fac=function(j){return new(j||U)(m.Y36(m.s_b))},U.\u0275dir=m.lG2({type:U,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[m.TTD]}),U})();class Ci{createSubscription(se,j){return se.subscribe({next:j,error:we=>{throw we}})}dispose(se){se.unsubscribe()}}class ii{createSubscription(se,j){return se.then(j,we=>{throw we})}dispose(se){}}const qi=new ii,qr=new Ci;let Dn=(()=>{class U{constructor(j){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=j}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(j){return this._obj?j!==this._obj?(this._dispose(),this.transform(j)):this._latestValue:(j&&this._subscribe(j),this._latestValue)}_subscribe(j){this._obj=j,this._strategy=this._selectStrategy(j),this._subscription=this._strategy.createSubscription(j,we=>this._updateLatestValue(j,we))}_selectStrategy(j){if((0,m.QGY)(j))return qi;if((0,m.F4k)(j))return qr;throw function vr(U,se){return new m.vHH(2100,!1)}()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(j,we){j===this._obj&&(this._latestValue=we,this._ref.markForCheck())}}return U.\u0275fac=function(j){return new(j||U)(m.Y36(m.sBO,16))},U.\u0275pipe=m.Yjl({name:"async",type:U,pure:!1,standalone:!0}),U})(),Jn=(()=>{class U{}return U.\u0275fac=function(j){return new(j||U)},U.\u0275mod=m.oAB({type:U}),U.\u0275inj=m.cJS({}),U})();const hr="browser",jo="server";function is(U){return U===hr}function Os(U){return U===jo}let Po=(()=>{class U{}return U.\u0275prov=(0,m.Yz7)({token:U,providedIn:"root",factory:()=>new Hi((0,m.LFG)(Ne),window)}),U})();class Hi{constructor(se,j){this.document=se,this.window=j,this.offset=()=>[0,0]}setOffset(se){this.offset=Array.isArray(se)?()=>se:se}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(se){this.supportsScrolling()&&this.window.scrollTo(se[0],se[1])}scrollToAnchor(se){if(!this.supportsScrolling())return;const j=function ho(U,se){const j=U.getElementById(se)||U.getElementsByName(se)[0];if(j)return j;if("function"==typeof U.createTreeWalker&&U.body&&"function"==typeof U.body.attachShadow){const we=U.createTreeWalker(U.body,NodeFilter.SHOW_ELEMENT);let Xe=we.currentNode;for(;Xe;){const zt=Xe.shadowRoot;if(zt){const rn=zt.getElementById(se)||zt.querySelector(`[name="${se}"]`);if(rn)return rn}Xe=we.nextNode()}}return null}(this.document,se);j&&(this.scrollToElement(j),j.focus())}setHistoryScrollRestoration(se){if(this.supportScrollRestoration()){const j=this.window.history;j&&j.scrollRestoration&&(j.scrollRestoration=se)}}scrollToElement(se){const j=se.getBoundingClientRect(),we=j.left+this.window.pageXOffset,Xe=j.top+this.window.pageYOffset,zt=this.offset();this.window.scrollTo(we-zt[0],Xe-zt[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const se=Pi(this.window.history)||Pi(Object.getPrototypeOf(this.window.history));return!(!se||!se.writable&&!se.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function Pi(U){return Object.getOwnPropertyDescriptor(U,"scrollRestoration")}class ro{}},2223:(vn,ft,k)=>{"use strict";k.d(ft,{$8M:()=>pu,$WT:()=>gn,$Z:()=>kl,AFp:()=>ap,ALo:()=>ME,AaK:()=>Fe,CHM:()=>Gt,CRH:()=>zE,D6c:()=>bD,EJc:()=>Ab,EpF:()=>Lv,F$t:()=>av,F4k:()=>um,FYo:()=>Um,FiY:()=>Wu,G48:()=>Xb,GSi:()=>Og,Gf:()=>jE,GfV:()=>rf,GkF:()=>Fv,Gpc:()=>je,HDt:()=>qw,Hsn:()=>lv,JOm:()=>Ca,KtG:()=>_n,LFG:()=>Mt,LMc:()=>TD,LSH:()=>Sd,Lbi:()=>Nm,Lck:()=>hC,MAs:()=>To,MMx:()=>mE,NdJ:()=>iv,Ojb:()=>Pd,OlP:()=>cs,Oqu:()=>Ut,P3R:()=>Vh,PXZ:()=>Hb,Q6J:()=>au,QGY:()=>rv,QbO:()=>km,Qsj:()=>Jo,R0b:()=>yl,RDi:()=>Ry,Rgc:()=>_v,SBq:()=>ed,Sil:()=>Rb,Suo:()=>HE,TTD:()=>Ao,TgZ:()=>Au,X6Q:()=>Qb,XFs:()=>tn,Xpm:()=>ds,Xts:()=>Ro,Y36:()=>Aa,YKP:()=>pE,YNc:()=>gl,Yjl:()=>He,Yz7:()=>rt,Z0I:()=>Mn,ZZ4:()=>_0,_Bn:()=>fE,_UZ:()=>am,_Vd:()=>nf,_c5:()=>pD,_uU:()=>Y,aQg:()=>E0,c2e:()=>dw,cJS:()=>qt,cg1:()=>F_,dDg:()=>$b,dqk:()=>wn,eFA:()=>Dw,eJc:()=>t0,ekj:()=>dv,eoX:()=>ww,f3M:()=>hn,g9A:()=>Om,h0i:()=>wy,hGG:()=>gD,hij:()=>on,iGM:()=>UE,ifc:()=>Re,ip1:()=>cw,jDz:()=>yE,kL8:()=>$0,lG2:()=>ie,lcZ:()=>RE,lqb:()=>hc,lri:()=>_w,n5z:()=>Fo,oAB:()=>ye,oxw:()=>ov,q4F:()=>Fd,qFp:()=>SD,qLn:()=>Bd,qOj:()=>Sf,qZA:()=>om,rWj:()=>Ew,s9C:()=>my,sBO:()=>Jb,s_b:()=>s_,soG:()=>a_,tb:()=>f0,tp0:()=>al,uIk:()=>od,vHH:()=>De,vpe:()=>uh,wAp:()=>ei,xp6:()=>Km,z2F:()=>by,zSh:()=>Md,zs3:()=>Ga});var Ne,m=k(7579),g=k(727),le=k(9751),_e=k(6451),Le=k(3099);function he(n){for(let r in n)if(n[r]===he)return r;throw Error("Could not find renamed property on target object.")}function Ie(n,r){for(const o in r)r.hasOwnProperty(o)&&!n.hasOwnProperty(o)&&(n[o]=r[o])}function Fe(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(Fe).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const r=n.toString();if(null==r)return""+r;const o=r.indexOf("\n");return-1===o?r:r.substring(0,o)}function Ce(n,r){return null==n||""===n?null===r?"":r:null==r||""===r?n:n+" "+r}const me=he({__forward_ref__:he});function je(n){return n.__forward_ref__=je,n.toString=function(){return Fe(this())},n}function ge(n){return ze(n)?n():n}function ze(n){return"function"==typeof n&&n.hasOwnProperty(me)&&n.__forward_ref__===je}function Ze(n){return n&&!!n.\u0275providers}const Ae="https://g.co/ng/security#xss";class De extends Error{constructor(r,o){super(function pt(n,r){return`NG0${Math.abs(n)}${r?": "+r:""}`}(r,o)),this.code=r}}function ct(n){return"string"==typeof n?n:null==n?"":String(n)}function Je(n,r){throw new De(-201,!1)}function ht(n,r){null==n&&function Pt(n,r,o,u){throw new Error(`ASSERTION ERROR: ${n}`+(null==u?"":` [Expected=> ${o} ${u} ${r} <=Actual]`))}(r,n,null,"!=")}function rt(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function qt(n){return{providers:n.providers||[],imports:n.imports||[]}}function Cn(n){return An(n,$t)||An(n,ir)}function Mn(n){return null!==Cn(n)}function An(n,r){return n.hasOwnProperty(r)?n[r]:null}function Tn(n){return n&&(n.hasOwnProperty(tr)||n.hasOwnProperty(fr))?n[tr]:null}const $t=he({\u0275prov:he}),tr=he({\u0275inj:he}),ir=he({ngInjectableDef:he}),fr=he({ngInjectorDef:he});var tn=(()=>((tn=tn||{})[tn.Default=0]="Default",tn[tn.Host=1]="Host",tn[tn.Self=2]="Self",tn[tn.SkipSelf=4]="SkipSelf",tn[tn.Optional=8]="Optional",tn))();let _r;function Sn(n){const r=_r;return _r=n,r}function kr(n,r,o){const u=Cn(n);return u&&"root"==u.providedIn?void 0===u.value?u.value=u.factory():u.value:o&tn.Optional?null:void 0!==r?r:void Je(Fe(n))}const wn=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Rr={},qn="__NG_DI_FLAG__",br="ngTempTokenPath",zn=/\n/gm,Fr="__source";let $n;function Ee(n){const r=$n;return $n=n,r}function Ye(n,r=tn.Default){if(void 0===$n)throw new De(-203,!1);return null===$n?kr(n,void 0,r):$n.get(n,r&tn.Optional?null:void 0,r)}function Mt(n,r=tn.Default){return(function cr(){return _r}()||Ye)(ge(n),r)}function hn(n,r=tn.Default){return Mt(n,Tr(r))}function Tr(n){return typeof n>"u"||"number"==typeof n?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function Yn(n){const r=[];for(let o=0;o<n.length;o++){const u=ge(n[o]);if(Array.isArray(u)){if(0===u.length)throw new De(900,!1);let f,v=tn.Default;for(let b=0;b<u.length;b++){const O=u[b],V=et(O);"number"==typeof V?-1===V?f=O.token:v|=V:f=O}r.push(Mt(f,v))}else r.push(Mt(u))}return r}function sr(n,r){return n[qn]=r,n.prototype[qn]=r,n}function et(n){return n[qn]}function z(n){return{toString:n}.toString()}var q=(()=>((q=q||{})[q.OnPush=0]="OnPush",q[q.Default=1]="Default",q))(),Re=(()=>{return(n=Re||(Re={}))[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",Re;var n})();const lt={},$e=[],_t=he({\u0275cmp:he}),Rt=he({\u0275dir:he}),Zt=he({\u0275pipe:he}),Wt=he({\u0275mod:he}),fn=he({\u0275fac:he}),kt=he({__NG_ELEMENT_ID__:he}),Kt=he({__NG_ENV_ID__:he});function an(n,r,o){let u=n.length;for(;;){const f=n.indexOf(r,o);if(-1===f)return f;if(0===f||n.charCodeAt(f-1)<=32){const v=r.length;if(f+v===u||n.charCodeAt(f+v)<=32)return f}o=f+1}}function wt(n,r,o){let u=0;for(;u<o.length;){const f=o[u];if("number"==typeof f){if(0!==f)break;u++;const v=o[u++],b=o[u++],O=o[u++];n.setAttribute(r,b,O,v)}else{const v=f,b=o[++u];jt(v)?n.setProperty(r,v,b):n.setAttribute(r,v,b),u++}}return u}function bt(n){return 3===n||4===n||6===n}function jt(n){return 64===n.charCodeAt(0)}function mn(n,r){if(null!==r&&0!==r.length)if(null===n||0===n.length)n=r.slice();else{let o=-1;for(let u=0;u<r.length;u++){const f=r[u];"number"==typeof f?o=f:0===o||Nn(n,o,f,null,-1===o||2===o?r[++u]:null)}}return n}function Nn(n,r,o,u,f){let v=0,b=n.length;if(-1===r)b=-1;else for(;v<n.length;){const O=n[v++];if("number"==typeof O){if(O===r){b=-1;break}if(O>r){b=v-1;break}}}for(;v<n.length;){const O=n[v];if("number"==typeof O)break;if(O===o){if(null===u)return void(null!==f&&(n[v+1]=f));if(u===n[v+1])return void(n[v+2]=f)}v++,null!==u&&v++,null!==f&&v++}-1!==b&&(n.splice(b,0,r),v=b+1),n.splice(v++,0,o),null!==u&&n.splice(v++,0,u),null!==f&&n.splice(v++,0,f)}const nr="ng-template";function Qn(n,r,o){let u=0,f=!0;for(;u<n.length;){let v=n[u++];if("string"==typeof v&&f){const b=n[u++];if(o&&"class"===v&&-1!==an(b.toLowerCase(),r,0))return!0}else{if(1===v){for(;u<n.length&&"string"==typeof(v=n[u++]);)if(v.toLowerCase()===r)return!0;return!1}"number"==typeof v&&(f=!1)}}return!1}function Hr(n){return 4===n.type&&n.value!==nr}function Lr(n,r,o){return r===(4!==n.type||o?n.value:nr)}function or(n,r,o){let u=4;const f=n.attrs||[],v=function Ti(n){for(let r=0;r<n.length;r++)if(bt(n[r]))return r;return n.length}(f);let b=!1;for(let O=0;O<r.length;O++){const V=r[O];if("number"!=typeof V){if(!b)if(4&u){if(u=2|1&u,""!==V&&!Lr(n,V,o)||""===V&&1===r.length){if(dr(u))return!1;b=!0}}else{const ne=8&u?V:r[++O];if(8&u&&null!==n.attrs){if(!Qn(n.attrs,ne,o)){if(dr(u))return!1;b=!0}continue}const Ve=li(8&u?"class":V,f,Hr(n),o);if(-1===Ve){if(dr(u))return!1;b=!0;continue}if(""!==ne){let mt;mt=Ve>v?"":f[Ve+1].toLowerCase();const Nt=8&u?mt:null;if(Nt&&-1!==an(Nt,ne,0)||2&u&&ne!==mt){if(dr(u))return!1;b=!0}}}}else{if(!b&&!dr(u)&&!dr(V))return!1;if(b&&dr(V))continue;b=!1,u=V|1&u}}return dr(u)||b}function dr(n){return 0==(1&n)}function li(n,r,o,u){if(null===r)return-1;let f=0;if(u||!o){let v=!1;for(;f<r.length;){const b=r[f];if(b===n)return f;if(3===b||6===b)v=!0;else{if(1===b||2===b){let O=r[++f];for(;"string"==typeof O;)O=r[++f];continue}if(4===b)break;if(0===b){f+=4;continue}}f+=v?1:2}return-1}return function oi(n,r){let o=n.indexOf(4);if(o>-1)for(o++;o<n.length;){const u=n[o];if("number"==typeof u)return-1;if(u===r)return o;o++}return-1}(r,n)}function xs(n,r,o=!1){for(let u=0;u<r.length;u++)if(or(n,r[u],o))return!0;return!1}function ws(n,r){e:for(let o=0;o<r.length;o++){const u=r[o];if(n.length===u.length){for(let f=0;f<n.length;f++)if(n[f]!==u[f])continue e;return!0}}return!1}function _i(n,r){return n?":not("+r.trim()+")":r}function Qr(n){let r=n[0],o=1,u=2,f="",v=!1;for(;o<n.length;){let b=n[o];if("string"==typeof b)if(2&u){const O=n[++o];f+="["+b+(O.length>0?'="'+O+'"':"")+"]"}else 8&u?f+="."+b:4&u&&(f+=" "+b);else""!==f&&!dr(b)&&(r+=_i(v,f),f=""),u=b,v=v||!dr(u);o++}return""!==f&&(r+=_i(v,f)),r}function ds(n){return z(()=>{const r=Wn(n),o={...r,decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===q.OnPush,directiveDefs:null,pipeDefs:null,dependencies:r.standalone&&n.dependencies||null,getStandaloneInjector:null,data:n.data||{},encapsulation:n.encapsulation||Re.Emulated,styles:n.styles||$e,_:null,schemas:n.schemas||null,tView:null,id:""};vr(o);const u=n.dependencies;return o.directiveDefs=Ci(u,!1),o.pipeDefs=Ci(u,!0),o.id=function qi(n){let r=0;const o=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,n.consts,n.vars,n.decls,n.encapsulation,n.standalone,Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery].join("|");for(const f of o)r=Math.imul(31,r)+f.charCodeAt(0)<<0;return r+=2147483648,"c"+r}(o),o})}function W(n){return nt(n)||gt(n)}function ee(n){return null!==n}function ye(n){return z(()=>({type:n.type,bootstrap:n.bootstrap||$e,declarations:n.declarations||$e,imports:n.imports||$e,exports:n.exports||$e,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function G(n,r){if(null==n)return lt;const o={};for(const u in n)if(n.hasOwnProperty(u)){let f=n[u],v=f;Array.isArray(f)&&(v=f[1],f=f[0]),o[f]=u,r&&(r[f]=v)}return o}function ie(n){return z(()=>{const r=Wn(n);return vr(r),r})}function He(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,standalone:!0===n.standalone,onDestroy:n.type.prototype.ngOnDestroy||null}}function nt(n){return n[_t]||null}function gt(n){return n[Rt]||null}function St(n){return n[Zt]||null}function gn(n){const r=nt(n)||gt(n)||St(n);return null!==r&&r.standalone}function En(n,r){const o=n[Wt]||null;if(!o&&!0===r)throw new Error(`Type ${Fe(n)} does not have '\u0275mod' property.`);return o}function Wn(n){const r={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:r,exportAs:n.exportAs||null,standalone:!0===n.standalone,selectors:n.selectors||$e,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:G(n.inputs,r),outputs:G(n.outputs)}}function vr(n){var r;null===(r=n.features)||void 0===r||r.forEach(o=>o(n))}function Ci(n,r){if(!n)return null;const o=r?St:W;return()=>("function"==typeof n?n():n).map(u=>o(u)).filter(ee)}const qr=0,Dn=1,Er=2,Yr=3,Fi=4,Ws=5,bi=6,Bs=7,Xr=8,Li=9,Si=10,Xn=11,Is=12,$s=13,Un=14,ar=15,mr=16,Bi=17,Wr=18,Cs=19,Ks=20,ts=21,bs=22,di=23,Jn=24,hr=25,Ds=1,ms=2,is=7,Os=8,Ys=9,hi=11;function Hi(n){return Array.isArray(n)&&"object"==typeof n[Ds]}function Pi(n){return Array.isArray(n)&&!0===n[Ds]}function ho(n){return 0!=(4&n.flags)}function So(n){return n.componentOffset>-1}function ro(n){return 1==(1&n.flags)}function Vs(n){return!!n.template}function Ts(n){return 0!=(512&n[Er])}function fs(n,r){return n.hasOwnProperty(fn)?n[fn]:null}let w=null!==(Ne=wn.WeakRef)&&void 0!==Ne?Ne:class M{constructor(r){this.ref=r}deref(){return this.ref}},Ke=0,tt=null,Bt=!1;function Jt(n){const r=tt;return tt=n,r}class wr{constructor(){this.id=Ke++,this.ref=function A(n){return new w(n)}(this),this.producers=new Map,this.consumers=new Map,this.trackingVersion=0,this.valueVersion=0}consumerPollProducersForChange(){for(const[r,o]of this.producers){const u=o.producerNode.deref();if(void 0!==u&&o.atTrackingVersion===this.trackingVersion){if(u.producerPollStatus(o.seenValueVersion))return!0}else this.producers.delete(r),null==u||u.consumers.delete(this.id)}return!1}producerMayHaveChanged(){const r=Bt;Bt=!0;try{for(const[o,u]of this.consumers){const f=u.consumerNode.deref();void 0!==f&&f.trackingVersion===u.atTrackingVersion?f.onConsumerDependencyMayHaveChanged():(this.consumers.delete(o),null==f||f.producers.delete(this.id))}}finally{Bt=r}}producerAccessed(){if(Bt)throw new Error("");if(null===tt)return;let r=tt.producers.get(this.id);void 0===r?(r={consumerNode:tt.ref,producerNode:this.ref,seenValueVersion:this.valueVersion,atTrackingVersion:tt.trackingVersion},tt.producers.set(this.id,r),this.consumers.set(tt.id,r)):(r.seenValueVersion=this.valueVersion,r.atTrackingVersion=tt.trackingVersion)}get hasProducers(){return this.producers.size>0}get producerUpdatesAllowed(){var r;return!1!==(null===(r=tt)||void 0===r?void 0:r.consumerAllowSignalWrites)}producerPollStatus(r){return this.valueVersion!==r||(this.onProducerUpdateValueVersion(),this.valueVersion!==r)}}let Di=null;const ya=()=>{};class _l extends wr{constructor(r,o,u){super(),this.watch=r,this.schedule=o,this.dirty=!1,this.cleanupFn=ya,this.registerOnCleanup=f=>{this.cleanupFn=f},this.consumerAllowSignalWrites=u}notify(){this.dirty||this.schedule(this),this.dirty=!0}onConsumerDependencyMayHaveChanged(){this.notify()}onProducerUpdateValueVersion(){}run(){if(this.dirty=!1,0!==this.trackingVersion&&!this.consumerPollProducersForChange())return;const r=Jt(this);this.trackingVersion++;try{this.cleanupFn(),this.cleanupFn=ya,this.watch(this.registerOnCleanup)}finally{Jt(r)}}cleanup(){this.cleanupFn()}}class Za{constructor(r,o,u){this.previousValue=r,this.currentValue=o,this.firstChange=u}isFirstChange(){return this.firstChange}}function Ao(){return Ma}function Ma(n){return n.type.prototype.ngOnChanges&&(n.setInput=El),Ki}function Ki(){const n=so(this),r=null==n?void 0:n.current;if(r){const o=n.previous;if(o===lt)n.previous=r;else for(let u in r)o[u]=r[u];n.current=null,this.ngOnChanges(r)}}function El(n,r,o,u){const f=this.declaredInputs[o],v=so(n)||function Vl(n,r){return n[$l]=r}(n,{previous:lt,current:null}),b=v.current||(v.current={}),O=v.previous,V=O[f];b[f]=new Za(V&&V.currentValue,r,O===lt),n[u]=r}Ao.ngInherit=!0;const $l="__ngSimpleChanges__";function so(n){return n[$l]||null}const Zs=function(n,r,o){};function ui(n){for(;Array.isArray(n);)n=n[qr];return n}function va(n,r){return ui(r[n])}function Ss(n,r){return ui(r[n.index])}function Ul(n,r){return n.data[r]}function ss(n,r){return n[r]}function zs(n,r){const o=r[n];return Hi(o)?o:o[qr]}function Cl(n){return 128==(128&n[Er])}function se(n,r){return null==r?null:n[r]}function j(n){n[Bi]=0}function we(n){1024&n[Er]||(n[Er]|=1024,zt(n,1))}function Xe(n){1024&n[Er]&&(n[Er]&=-1025,zt(n,-1))}function zt(n,r){let o=n[Yr];if(null===o)return;o[Ws]+=r;let u=o;for(o=o[Yr];null!==o&&(1===r&&1===u[Ws]||-1===r&&0===u[Ws]);)o[Ws]+=r,u=o,o=o[Yr]}const Ln={lFrame:Hl(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function os(){return Ln.bindingsEnabled}function pn(){return Ln.lFrame.lView}function un(){return Ln.lFrame.tView}function Gt(n){return Ln.lFrame.contextLView=n,n[Xr]}function _n(n){return Ln.lFrame.contextLView=null,n}function ni(){let n=Ou();for(;null!==n&&64===n.type;)n=n.parent;return n}function Ou(){return Ln.lFrame.currentTNode}function _a(n,r){const o=Ln.lFrame;o.currentTNode=n,o.isParent=r}function bl(){return Ln.lFrame.isParent}function bc(){Ln.lFrame.isParent=!1}function Gr(){return Ln.lFrame.bindingIndex++}function Pr(n,r){const o=Ln.lFrame;o.bindingIndex=o.bindingRootIndex=n,ci(r)}function ci(n){Ln.lFrame.currentDirectiveIndex=n}function Yi(){return Ln.lFrame.currentQueryIndex}function Fn(n){Ln.lFrame.currentQueryIndex=n}function cu(n){const r=n[Dn];return 2===r.type?r.declTNode:1===r.type?n[bi]:null}function Xa(n,r,o){if(o&tn.SkipSelf){let f=r,v=n;for(;!(f=f.parent,null!==f||o&tn.Host||(f=cu(v),null===f||(v=v[Un],10&f.type))););if(null===f)return!1;r=f,n=v}const u=Ln.lFrame=du();return u.currentTNode=r,u.lView=n,!0}function Ra(n){const r=du(),o=n[Dn];Ln.lFrame=r,r.currentTNode=o.firstChild,r.lView=n,r.tView=o,r.contextLView=n,r.bindingIndex=o.bindingStartIndex,r.inI18n=!1}function du(){const n=Ln.lFrame,r=null===n?null:n.child;return null===r?Hl(n):r}function Hl(n){const r={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=r),r}function ku(){const n=Ln.lFrame;return Ln.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const Ja=ku;function Fu(){const n=ku();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function oo(){return Ln.lFrame.selectedIndex}function el(n){Ln.lFrame.selectedIndex=n}function As(){const n=Ln.lFrame;return Ul(n.tView,n.selectedIndex)}let hh=!0;function nl(){return hh}function ao(n){hh=n}function Pa(n,r){for(let ne=r.directiveStart,ve=r.directiveEnd;ne<ve;ne++){const mt=n.data[ne].type.prototype,{ngAfterContentInit:Nt,ngAfterContentChecked:ln,ngAfterViewInit:Pn,ngAfterViewChecked:Hn,ngOnDestroy:ur}=mt;var o,u,f,v,b,O,V;Nt&&(null!==(o=n.contentHooks)&&void 0!==o?o:n.contentHooks=[]).push(-ne,Nt),ln&&((null!==(u=n.contentHooks)&&void 0!==u?u:n.contentHooks=[]).push(ne,ln),(null!==(f=n.contentCheckHooks)&&void 0!==f?f:n.contentCheckHooks=[]).push(ne,ln)),Pn&&(null!==(v=n.viewHooks)&&void 0!==v?v:n.viewHooks=[]).push(-ne,Pn),Hn&&((null!==(b=n.viewHooks)&&void 0!==b?b:n.viewHooks=[]).push(ne,Hn),(null!==(O=n.viewCheckHooks)&&void 0!==O?O:n.viewCheckHooks=[]).push(ne,Hn)),null!=ur&&(null!==(V=n.destroyHooks)&&void 0!==V?V:n.destroyHooks=[]).push(ne,ur)}}function x(n,r,o){$(n,r,3,o)}function F(n,r,o,u){(3&n[Er])===o&&$(n,r,o,u)}function D(n,r){let o=n[Er];(3&o)===r&&(o&=4095,o+=1,n[Er]=o)}function $(n,r,o,u){const v=null!=u?u:-1,b=r.length-1;let O=0;for(let V=void 0!==u?65535&n[Bi]:0;V<b;V++)if("number"==typeof r[V+1]){if(O=r[V],null!=u&&O>=u)break}else r[V]<0&&(n[Bi]+=65536),(O<v||-1==v)&&(Pe(n,o,r,V),n[Bi]=(4294901760&n[Bi])+V+2),V++}function J(n,r){Zs(4,n,r);const o=Jt(null);try{r.call(n)}finally{Jt(o),Zs(5,n,r)}}function Pe(n,r,o,u){const f=o[u]<0,v=o[u+1],O=n[f?-o[u]:o[u]];f?n[Er]>>12<n[Bi]>>16&&(3&n[Er])===r&&(n[Er]+=4096,J(O,v)):J(O,v)}const Te=-1;class It{constructor(r,o,u){this.factory=r,this.resolving=!1,this.canSeeViewProviders=o,this.injectImpl=u}}function Tl(n){return n!==Te}function Oa(n){return 32767&n}function Qo(n,r){let o=function Sc(n){return n>>16}(n),u=r;for(;o>0;)u=u[Un],o--;return u}let zl=!0;function ko(n){const r=zl;return zl=n,r}const fh=255,Na=5;let Ac=0;const ia={};function Bu(n,r){const o=$u(n,r);if(-1!==o)return o;const u=r[Dn];u.firstCreatePass&&(n.injectorIndex=r.length,ph(u.data,n),ph(r,null),ph(u.blueprint,null));const f=Mc(n,r),v=n.injectorIndex;if(Tl(f)){const b=Oa(f),O=Qo(f,r),V=O[Dn].data;for(let ne=0;ne<8;ne++)r[v+ne]=O[b+ne]|V[b+ne]}return r[v+8]=f,v}function ph(n,r){n.push(0,0,0,0,0,0,0,0,r)}function $u(n,r){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===r[n.injectorIndex+8]?-1:n.injectorIndex}function Mc(n,r){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let o=0,u=null,f=r;for(;null!==f;){if(u=qs(f),null===u)return Te;if(o++,f=f[Un],-1!==u.injectorIndex)return u.injectorIndex|o<<16}return Te}function Vu(n,r,o){!function $p(n,r,o){let u;"string"==typeof o?u=o.charCodeAt(0)||0:o.hasOwnProperty(kt)&&(u=o[kt]),null==u&&(u=o[kt]=Ac++);const f=u&fh;r.data[n+(f>>Na)]|=1<<f}(n,r,o)}function Uu(n,r,o){if(o&tn.Optional||void 0!==n)return n;Je()}function Gl(n,r,o,u){if(o&tn.Optional&&void 0===u&&(u=null),!(o&(tn.Self|tn.Host))){const f=n[Li],v=Sn(void 0);try{return f?f.get(r,u,o&tn.Optional):kr(r,u,o&tn.Optional)}finally{Sn(v)}}return Uu(u,0,o)}function go(n,r,o,u=tn.Default,f){if(null!==n){if(2048&r[Er]){const b=function Rc(n,r,o,u,f){let v=n,b=r;for(;null!==v&&null!==b&&2048&b[Er]&&!(512&b[Er]);){const O=gh(v,b,o,u|tn.Self,ia);if(O!==ia)return O;let V=v.parent;if(!V){const ne=b[Ks];if(ne){const ve=ne.get(o,ia,u);if(ve!==ia)return ve}V=qs(b),b=b[Un]}v=V}return f}(n,r,o,u,ia);if(b!==ia)return b}const v=gh(n,r,o,u,ia);if(v!==ia)return v}return Gl(r,o,u,f)}function gh(n,r,o,u,f){const v=function ju(n){if("string"==typeof n)return n.charCodeAt(0)||0;const r=n.hasOwnProperty(kt)?n[kt]:void 0;return"number"==typeof r?r>=0?r&fh:hu:r}(o);if("function"==typeof v){if(!Xa(r,n,u))return u&tn.Host?Uu(f,0,u):Gl(r,o,u,f);try{const b=v(u);if(null!=b||u&tn.Optional)return b;Je()}finally{Ja()}}else if("number"==typeof v){let b=null,O=$u(n,r),V=Te,ne=u&tn.Host?r[ar][bi]:null;for((-1===O||u&tn.SkipSelf)&&(V=-1===O?Mc(n,r):r[O+8],V!==Te&&_s(u,!1)?(b=r[Dn],O=Oa(V),r=Qo(V,r)):O=-1);-1!==O;){const ve=r[Dn];if(Qs(v,O,ve.data)){const Ve=sa(O,r,o,b,u,ne);if(Ve!==ia)return Ve}V=r[O+8],V!==Te&&_s(u,r[Dn].data[O+8]===ne)&&Qs(v,O,r)?(b=ve,O=Oa(V),r=Qo(V,r)):O=-1}}return f}function sa(n,r,o,u,f,v){const b=r[Dn],O=b.data[n+8],ve=Wl(O,b,o,null==u?So(O)&&zl:u!=b&&0!=(3&O.type),f&tn.Host&&v===O);return null!==ve?$i(r,b,ve,O):ia}function Wl(n,r,o,u,f){const v=n.providerIndexes,b=r.data,O=1048575&v,V=n.directiveStart,ve=v>>20,mt=f?O+ve:n.directiveEnd;for(let Nt=u?O:O+ve;Nt<mt;Nt++){const ln=b[Nt];if(Nt<V&&o===ln||Nt>=V&&ln.type===o)return Nt}if(f){const Nt=b[V];if(Nt&&Vs(Nt)&&Nt.type===o)return V}return null}function $i(n,r,o,u){let f=n[o];const v=r.data;if(function en(n){return n instanceof It}(f)){const b=f;b.resolving&&function it(n,r){const o=r?`. Dependency path: ${r.join(" > ")} > ${n}`:"";throw new De(-200,`Circular dependency in DI detected for ${n}${o}`)}(function qe(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():ct(n)}(v[o]));const O=ko(b.canSeeViewProviders);b.resolving=!0;const V=b.injectImpl?Sn(b.injectImpl):null;Xa(n,u,tn.Default);try{f=n[o]=b.factory(void 0,v,n,u),r.firstCreatePass&&o>=u.directiveStart&&function kf(n,r,o){const{ngOnChanges:u,ngOnInit:f,ngDoCheck:v}=r.type.prototype;if(u){var b,O;const Ve=Ma(r);(null!==(b=o.preOrderHooks)&&void 0!==b?b:o.preOrderHooks=[]).push(n,Ve),(null!==(O=o.preOrderCheckHooks)&&void 0!==O?O:o.preOrderCheckHooks=[]).push(n,Ve)}var V,ne,ve;f&&(null!==(V=o.preOrderHooks)&&void 0!==V?V:o.preOrderHooks=[]).push(0-n,f),v&&((null!==(ne=o.preOrderHooks)&&void 0!==ne?ne:o.preOrderHooks=[]).push(n,v),(null!==(ve=o.preOrderCheckHooks)&&void 0!==ve?ve:o.preOrderCheckHooks=[]).push(n,v))}(o,v[o],r)}finally{null!==V&&Sn(V),ko(O),b.resolving=!1,Ja()}}return f}function Qs(n,r,o){return!!(o[r+(n>>Na)]&1<<n)}function _s(n,r){return!(n&tn.Self||n&tn.Host&&r)}class oa{constructor(r,o){this._tNode=r,this._lView=o}get(r,o,u){return go(this._tNode,this._lView,r,Tr(u),o)}}function hu(){return new oa(ni(),pn())}function Fo(n){return z(()=>{const r=n.prototype.constructor,o=r[fn]||fu(r),u=Object.prototype;let f=Object.getPrototypeOf(n.prototype).constructor;for(;f&&f!==u;){const v=f[fn]||fu(f);if(v&&v!==o)return v;f=Object.getPrototypeOf(f)}return v=>new v})}function fu(n){return ze(n)?()=>{const r=fu(ge(n));return r&&r()}:fs(n)}function qs(n){const r=n[Dn],o=r.type;return 2===o?r.declTNode:1===o?n[bi]:null}function pu(n){return function ka(n,r){if("class"===r)return n.classes;if("style"===r)return n.styles;const o=n.attrs;if(o){const u=o.length;let f=0;for(;f<u;){const v=o[f];if(bt(v))break;if(0===v)f+=2;else if("number"==typeof v)for(f++;f<u&&"string"==typeof o[f];)f++;else{if(v===r)return o[f+1];f+=2}}}return null}(ni(),n)}const Go="__annotations__",us="__parameters__",Lo="__prop__metadata__";function Sl(n,r,o,u,f){return z(()=>{const v=Kl(r);function b(...O){if(this instanceof b)return v.call(this,...O),this;const V=new b(...O);return function(ve){return f&&f(ve,...O),(ve.hasOwnProperty(Go)?ve[Go]:Object.defineProperty(ve,Go,{value:[]})[Go]).push(V),u&&u(ve),ve}}return o&&(b.prototype=Object.create(o.prototype)),b.prototype.ngMetadataName=n,b.annotationCls=b,b})}function Kl(n){return function(...o){if(n){const u=n(...o);for(const f in u)this[f]=u[f]}}}function wa(n,r,o){return z(()=>{const u=Kl(r);function f(...v){if(this instanceof f)return u.apply(this,v),this;const b=new f(...v);return O.annotation=b,O;function O(V,ne,ve){const Ve=V.hasOwnProperty(us)?V[us]:Object.defineProperty(V,us,{value:[]})[us];for(;Ve.length<=ve;)Ve.push(null);return(Ve[ve]=Ve[ve]||[]).push(b),V}}return o&&(f.prototype=Object.create(o.prototype)),f.prototype.ngMetadataName=n,f.annotationCls=f,f})}const Fa=wa("Attribute",n=>({attributeName:n,__NG_ELEMENT_ID__:()=>pu(n)}));function ks(n){const r=wn.ng;if(r&&r.\u0275compilerFacade)return r.\u0275compilerFacade;throw new Error("JIT compiler unavailable")}const aa=Function;function Ba(n){return"function"==typeof n}function il(n,r){n.forEach(o=>Array.isArray(o)?il(o,r):r(o))}function zu(n,r,o){r>=n.length?n.push(o):n.splice(r,0,o)}function $a(n,r){return r>=n.length-1?n.pop():n.splice(r,1)[0]}function sl(n,r){const o=[];for(let u=0;u<n;u++)o.push(r);return o}function Zi(n,r,o){let u=Qi(n,r);return u>=0?n[1|u]=o:(u=~u,function Lf(n,r,o,u){let f=n.length;if(f==r)n.push(o,u);else if(1===f)n.push(u,n[0]),n[0]=o;else{for(f--,n.push(n[f-1],n[f]);f>r;)n[f]=n[f-2],f--;n[r]=o,n[r+1]=u}}(n,u,r,o)),u}function gu(n,r){const o=Qi(n,r);if(o>=0)return n[1|o]}function Qi(n,r){return function mu(n,r,o){let u=0,f=n.length>>o;for(;f!==u;){const v=u+(f-u>>1),b=n[v<<o];if(r===b)return v<<o;b>r?f=v:u=v+1}return~(f<<o)}(n,r,1)}const Va=/^function\s+\S+\(\)\s*{[\s\S]+\.apply\(this,\s*(arguments|(?:[^()]+\(\[\],)?[^()]+\(arguments\).*)\)/,ol=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{/,Up=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{[\s\S]*constructor\s*\(/,vh=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{[\s\S]*constructor\s*\(\)\s*{[^}]*super\(\.\.\.arguments\)/;class Ui{constructor(r){this._reflect=r||wn.Reflect}factory(r){return(...o)=>new r(...o)}_zipTypesAndAnnotations(r,o){let u;u=sl(typeof r>"u"?o.length:r.length);for(let f=0;f<u.length;f++)u[f]=typeof r>"u"?[]:r[f]&&r[f]!=Object?[r[f]]:[],o&&null!=o[f]&&(u[f]=u[f].concat(o[f]));return u}_ownParameters(r,o){if(function mi(n){return Va.test(n)||vh.test(n)||ol.test(n)&&!Up.test(n)}(r.toString()))return null;if(r.parameters&&r.parameters!==o.parameters)return r.parameters;const f=r.ctorParameters;if(f&&f!==o.ctorParameters){const O="function"==typeof f?f():f,V=O.map(ve=>ve&&ve.type),ne=O.map(ve=>ve&&Ia(ve.decorators));return this._zipTypesAndAnnotations(V,ne)}const v=r.hasOwnProperty(us)&&r[us],b=this._reflect&&this._reflect.getOwnMetadata&&this._reflect.getOwnMetadata("design:paramtypes",r);return b||v?this._zipTypesAndAnnotations(b,v):sl(r.length)}parameters(r){if(!Ba(r))return[];const o=Gu(r);let u=this._ownParameters(r,o);return!u&&o!==Object&&(u=this.parameters(o)),u||[]}_ownAnnotations(r,o){if(r.annotations&&r.annotations!==o.annotations){let u=r.annotations;return"function"==typeof u&&u.annotations&&(u=u.annotations),u}return r.decorators&&r.decorators!==o.decorators?Ia(r.decorators):r.hasOwnProperty(Go)?r[Go]:null}annotations(r){if(!Ba(r))return[];const o=Gu(r),u=this._ownAnnotations(r,o)||[];return(o!==Object?this.annotations(o):[]).concat(u)}_ownPropMetadata(r,o){if(r.propMetadata&&r.propMetadata!==o.propMetadata){let u=r.propMetadata;return"function"==typeof u&&u.propMetadata&&(u=u.propMetadata),u}if(r.propDecorators&&r.propDecorators!==o.propDecorators){const u=r.propDecorators,f={};return Object.keys(u).forEach(v=>{f[v]=Ia(u[v])}),f}return r.hasOwnProperty(Lo)?r[Lo]:null}propMetadata(r){if(!Ba(r))return{};const o=Gu(r),u={};if(o!==Object){const v=this.propMetadata(o);Object.keys(v).forEach(b=>{u[b]=v[b]})}const f=this._ownPropMetadata(r,o);return f&&Object.keys(f).forEach(v=>{const b=[];u.hasOwnProperty(v)&&b.push(...u[v]),b.push(...f[v]),u[v]=b}),u}ownPropMetadata(r){return Ba(r)&&this._ownPropMetadata(r,Gu(r))||{}}hasLifecycleHook(r,o){return r instanceof aa&&o in r.prototype}}function Ia(n){return n?n.map(r=>new(0,r.type.annotationCls)(...r.args?r.args:[])):[]}function Gu(n){const r=n.prototype?Object.getPrototypeOf(n.prototype):null;return(r?r.constructor:null)||Object}const Xo=sr(wa("Inject",n=>({token:n})),-1),Wu=sr(wa("Optional"),8),Pc=sr(wa("Self"),2),al=sr(wa("SkipSelf"),4),_h=sr(wa("Host"),1);let Mo=null;function Oc(n){return Eh(function hd(){return Mo=Mo||new Ui}().parameters(n))}function Eh(n){return n.map(r=>function fd(n){const r={token:null,attribute:null,host:!1,optional:!1,self:!1,skipSelf:!1};if(Array.isArray(n)&&n.length>0)for(let o=0;o<n.length;o++){const u=n[o];if(void 0===u)continue;const f=Object.getPrototypeOf(u);if(u instanceof Wu||"Optional"===f.ngMetadataName)r.optional=!0;else if(u instanceof al||"SkipSelf"===f.ngMetadataName)r.skipSelf=!0;else if(u instanceof Pc||"Self"===f.ngMetadataName)r.self=!0;else if(u instanceof _h||"Host"===f.ngMetadataName)r.host=!0;else if(u instanceof Xo)r.token=u.token;else if(u instanceof Fa){if(void 0===u.attributeName)throw new De(204,!1);r.attribute=u.attributeName}else r.token=u}else r.token=void 0===n||Array.isArray(n)&&0===n.length?null:n;return r}(r))}var Ca=(()=>((Ca=Ca||{})[Ca.Important=1]="Important",Ca[Ca.DashCase=2]="DashCase",Ca))();const ja=/^>|^->|<!--|-->|--!>|<!-$/g,Ju=/(<|>)/,ec="\u200b$1\u200b";const Fc=new Map;let si=0;const Jl="__ngContext__";function uo(n,r){Hi(r)?(n[Jl]=r[Cs],function Ih(n){Fc.set(n[Cs],n)}(r)):n[Jl]=r}let _u;function eu(n,r){return _u(n,r)}function vd(n){const r=n[Yr];return Pi(r)?r[Yr]:r}function Dh(n){return wo(n[Is])}function Eu(n){return wo(n[Fi])}function wo(n){for(;null!==n&&!Pi(n);)n=n[Fi];return n}function tc(n,r,o,u,f){if(null!=u){let v,b=!1;Pi(u)?v=u:Hi(u)&&(b=!0,u=u[qr]);const O=ui(u);0===n&&null!==o?null==f?zf(r,o,O):rc(r,o,O,f||null,!0):1===n&&null!==o?rc(r,o,O,f||null,!0):2===n?function Ah(n,r,o){const u=wu(n,r);u&&function da(n,r,o,u){n.removeChild(r,o,u)}(n,u,r,o)}(r,O,b):3===n&&r.destroyNode(O),null!=v&&function Im(n,r,o,u,f){const v=o[is];v!==ui(o)&&tc(r,n,u,v,f);for(let O=hi;O<o.length;O++){const V=o[O];Mh(V[Dn],V,n,r,u,v)}}(r,n,v,o,f)}}function nc(n,r){return n.createComment(function wh(n){return n.replace(ja,r=>r.replace(Ju,ec))}(r))}function $c(n,r,o){return n.createElement(r,o)}function ji(n,r){const o=n[Ys],u=o.indexOf(r);Xe(r),o.splice(u,1)}function jf(n,r){if(n.length<=hi)return;const o=hi+r,u=n[o];if(u){const f=u[mr];null!==f&&f!==n&&ji(f,u),r>0&&(n[o-1][Fi]=u[Fi]);const v=$a(n,hi+r);!function Gp(n,r){Mh(n,r,r[Xn],2,null,null),r[qr]=null,r[bi]=null}(u[Dn],u);const b=v[Wr];null!==b&&b.detachView(v[Dn]),u[Yr]=null,u[Fi]=null,u[Er]&=-129}return u}function qp(n,r){if(!(256&r[Er])){var o,u;const f=r[Xn];null===(o=r[di])||void 0===o||o.destroy(),null===(u=r[Jn])||void 0===u||u.destroy(),f.destroyNode&&Mh(n,r,f,3,null,null),function Ty(n){let r=n[Is];if(!r)return Sh(n[Dn],n);for(;r;){let o=null;if(Hi(r))o=r[Is];else{const u=r[hi];u&&(o=u)}if(!o){for(;r&&!r[Fi]&&r!==n;)Hi(r)&&Sh(r[Dn],r),r=r[Yr];null===r&&(r=n),Hi(r)&&Sh(r[Dn],r),o=r&&r[Fi]}r=o}}(r)}}function Sh(n,r){if(!(256&r[Er])){r[Er]&=-129,r[Er]|=256,function _m(n,r){let o;if(null!=n&&null!=(o=n.destroyHooks))for(let u=0;u<o.length;u+=2){const f=r[o[u]];if(!(f instanceof It)){const v=o[u+1];if(Array.isArray(v))for(let b=0;b<v.length;b+=2){const O=f[v[b]],V=v[b+1];Zs(4,O,V);try{V.call(O)}finally{Zs(5,O,V)}}else{Zs(4,f,v);try{v.call(f)}finally{Zs(5,f,v)}}}}}(n,r),function Hf(n,r){const o=n.cleanup,u=r[Bs];if(null!==o)for(let v=0;v<o.length-1;v+=2)if("string"==typeof o[v]){const b=o[v+3];b>=0?u[b]():u[-b].unsubscribe(),v+=2}else o[v].call(u[o[v+1]]);null!==u&&(r[Bs]=null);const f=r[ts];if(null!==f){for(let v=0;v<f.length;v++)(0,f[v])();r[ts]=null}}(n,r),1===r[Dn].type&&r[Xn].destroy();const o=r[mr];if(null!==o&&Pi(r[Yr])){o!==r[Yr]&&ji(o,r);const u=r[Wr];null!==u&&u.detachView(n)}!function ca(n){Fc.delete(n[Cs])}(r)}}function Yp(n,r,o){return function Zp(n,r,o){let u=r;for(;null!==u&&40&u.type;)u=(r=u).parent;if(null===u)return o[qr];{const{componentOffset:f}=u;if(f>-1){const{encapsulation:v}=n.data[u.directiveStart+f];if(v===Re.None||v===Re.Emulated)return null}return Ss(u,o)}}(n,r.parent,o)}function rc(n,r,o,u,f){n.insertBefore(r,o,u,f)}function zf(n,r,o){n.appendChild(r,o)}function Ed(n,r,o,u,f){null!==u?rc(n,r,o,u,f):zf(n,r,o)}function wu(n,r){return n.parentNode(r)}function Xp(n,r,o){return Em(n,r,o)}let Kf,Ph,za,Em=function Wf(n,r,o){return 40&n.type?Ss(n,o):null};function qf(n,r,o,u){const f=Yp(n,u,r),v=r[Xn],O=Xp(u.parent||r[bi],u,r);if(null!=f)if(Array.isArray(o))for(let V=0;V<o.length;V++)Ed(v,f,o[V],O,!1);else Ed(v,f,o,O,!1);void 0!==Kf&&Kf(v,u,r,o,f)}function wd(n,r){if(null!==r){const o=r.type;if(3&o)return Ss(r,n);if(4&o)return eg(-1,n[r.index]);if(8&o){const u=r.child;if(null!==u)return wd(n,u);{const f=n[r.index];return Pi(f)?eg(-1,f):ui(f)}}if(32&o)return eu(r,n)()||ui(n[r.index]);{const u=wm(n,r);return null!==u?Array.isArray(u)?u[0]:wd(vd(n[ar]),u):wd(n,r.next)}}return null}function wm(n,r){return null!==r?n[ar][bi].projection[r.projection]:null}function eg(n,r){const o=hi+n+1;if(o<r.length){const u=r[o],f=u[Dn].firstChild;if(null!==f)return wd(u,f)}return r[is]}function Yf(n,r,o,u,f,v,b){for(;null!=o;){const O=u[o.index],V=o.type;if(b&&0===r&&(O&&uo(ui(O),u),o.flags|=2),32!=(32&o.flags))if(8&V)Yf(n,r,o.child,u,f,v,!1),tc(r,n,f,O,v);else if(32&V){const ne=eu(o,u);let ve;for(;ve=ne();)tc(r,n,f,ve,v);tc(r,n,f,O,v)}else 16&V?Zf(n,r,u,o,f,v):tc(r,n,f,O,v);o=b?o.projectionNext:o.next}}function Mh(n,r,o,u,f,v){Yf(o,u,n.firstChild,r,f,v,!1)}function Zf(n,r,o,u,f,v){const b=o[ar],V=b[bi].projection[u.projection];if(Array.isArray(V))for(let ne=0;ne<V.length;ne++)tc(r,n,f,V[ne],v);else Yf(n,r,V,b[Yr],f,v,!0)}function Qf(n,r,o){""===o?n.removeAttribute(r,"class"):n.setAttribute(r,"class",o)}function tg(n,r,o){const{mergedAttrs:u,classes:f,styles:v}=o;null!==u&&wt(n,r,u),null!==f&&Qf(n,r,f),null!==v&&function tu(n,r,o){n.setAttribute(r,"style",o)}(n,r,v)}function Ry(n){Ph=n}function bm(n){var r;return(null===(r=function Co(){if(void 0===za&&(za=null,wn.trustedTypes))try{za=wn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return za}())||void 0===r?void 0:r.createScriptURL(n))||n}class Dm{constructor(r){this.changingThisBreaksApplicationSecurity=r}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Ae})`}}function Iu(n){return n instanceof Dm?n.changingThisBreaksApplicationSecurity:n}function Da(n,r){const o=function rg(n){return n instanceof Dm&&n.getTypeName()||null}(n);if(null!=o&&o!==r){if("ResourceURL"===o&&"URL"===r)return!0;throw new Error(`Required a safe ${r}, got a ${o} (see ${Ae})`)}return o===r}const Jf=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var _o=(()=>((_o=_o||{})[_o.NONE=0]="NONE",_o[_o.HTML=1]="HTML",_o[_o.STYLE=2]="STYLE",_o[_o.SCRIPT=3]="SCRIPT",_o[_o.URL=4]="URL",_o[_o.RESOURCE_URL=5]="RESOURCE_URL",_o))();function Sd(n){const r=Uh();return r?r.sanitize(_o.URL,n)||"":Da(n,"URL")?Iu(n):function ep(n){return(n=String(n)).match(Jf)?n:"unsafe:"+n}(ct(n))}function ky(n){const r=Uh();if(r)return bm(r.sanitize(_o.RESOURCE_URL,n)||"");if(Da(n,"ResourceURL"))return bm(Iu(n));throw new De(904,!1)}function Vh(n,r,o){return function Fy(n,r){return"src"===r&&("embed"===n||"frame"===n||"iframe"===n||"media"===n||"script"===n)||"href"===r&&("base"===n||"link"===n)?ky:Sd}(r,o)(n)}function Uh(){const n=pn();return n&&n[Si].sanitizer}class cs{constructor(r,o){this._desc=r,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof o?this.__NG_ELEMENT_ID__=o:void 0!==o&&(this.\u0275prov=rt({token:this,providedIn:o.providedIn||"root",factory:o.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const Ro=new cs("ENVIRONMENT_INITIALIZER"),fg=new cs("INJECTOR",-1),jh=new cs("INJECTOR_DEF_TYPES");class Hh{get(r,o=Rr){if(o===Rr){const u=new Error(`NullInjectorError: No provider for ${Fe(r)}!`);throw u.name="NullInjectorError",u}return o}}function lc(...n){return{\u0275providers:uc(0,n),\u0275fromNgModule:!0}}function uc(n,...r){const o=[],u=new Set;let f;return il(r,v=>{const b=v;Pl(b,o,[],u)&&(f||(f=[]),f.push(b))}),void 0!==f&&gg(f,o),o}function gg(n,r){for(let o=0;o<n.length;o++){const{providers:f}=n[o];cc(f,v=>{r.push(v)})}}function Pl(n,r,o,u){if(!(n=ge(n)))return!1;let f=null,v=Tn(n);const b=!v&&nt(n);if(v||b){if(b&&!b.standalone)return!1;f=n}else{const V=n.ngModule;if(v=Tn(V),!v)return!1;f=V}const O=u.has(f);if(b){if(O)return!1;if(u.add(f),b.dependencies){const V="function"==typeof b.dependencies?b.dependencies():b.dependencies;for(const ne of V)Pl(ne,r,o,u)}}else{if(!v)return!1;{if(null!=v.imports&&!O){let ne;u.add(f);try{il(v.imports,ve=>{Pl(ve,r,o,u)&&(ne||(ne=[]),ne.push(ve))})}finally{}void 0!==ne&&gg(ne,r)}if(!O){const ne=fs(f)||(()=>new f);r.push({provide:f,useFactory:ne,deps:$e},{provide:jh,useValue:f,multi:!0},{provide:Ro,useValue:()=>Mt(f),multi:!0})}const V=v.providers;null==V||O||cc(V,ve=>{r.push(ve)})}}return f!==n&&void 0!==n.providers}function cc(n,r){for(let o of n)Ze(o)&&(o=o.\u0275providers),Array.isArray(o)?cc(o,r):r(o)}const Ad=he({provide:String,useValue:he});function Ol(n){return null!==n&&"object"==typeof n&&Ad in n}function dc(n){return"function"==typeof n}const Md=new cs("Set Injector scope."),sp={},op={};let mg;function Rd(){return void 0===mg&&(mg=new Hh),mg}class hc{}class yg extends hc{get destroyed(){return this._destroyed}constructor(r,o,u,f){super(),this.parent=o,this.source=u,this.scopes=f,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,_g(r,b=>this.processProvider(b)),this.records.set(fg,Wc(void 0,this)),f.has("environment")&&this.records.set(hc,Wc(void 0,this));const v=this.records.get(Md);null!=v&&"string"==typeof v.value&&this.scopes.add(v.value),this.injectorDefTypes=new Set(this.get(jh.multi,$e,tn.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const r of this._ngOnDestroyHooks)r.ngOnDestroy();for(const r of this._onDestroyHooks)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(r){return this.assertNotDestroyed(),this._onDestroyHooks.push(r),()=>this.removeOnDestroy(r)}runInContext(r){this.assertNotDestroyed();const o=Ee(this),u=Sn(void 0);try{return r()}finally{Ee(o),Sn(u)}}get(r,o=Rr,u=tn.Default){if(this.assertNotDestroyed(),r.hasOwnProperty(Kt))return r[Kt](this);u=Tr(u);const f=Ee(this),v=Sn(void 0);try{if(!(u&tn.SkipSelf)){let O=this.records.get(r);if(void 0===O){const V=function $y(n){return"function"==typeof n||"object"==typeof n&&n instanceof cs}(r)&&Cn(r);O=V&&this.injectableDefInScope(V)?Wc(vg(r),sp):null,this.records.set(r,O)}if(null!=O)return this.hydrate(r,O)}return(u&tn.Self?Rd():this.parent).get(r,o=u&tn.Optional&&o===Rr?null:o)}catch(b){if("NullInjectorError"===b.name){if((b[br]=b[br]||[]).unshift(Fe(r)),f)throw b;return function pe(n,r,o,u){const f=n[br];throw r[Fr]&&f.unshift(r[Fr]),n.message=function K(n,r,o,u=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.slice(2):n;let f=Fe(r);if(Array.isArray(r))f=r.map(Fe).join(" -> ");else if("object"==typeof r){let v=[];for(let b in r)if(r.hasOwnProperty(b)){let O=r[b];v.push(b+":"+("string"==typeof O?JSON.stringify(O):Fe(O)))}f=`{${v.join(", ")}}`}return`${o}${u?"("+u+")":""}[${f}]: ${n.replace(zn,"\n  ")}`}("\n"+n.message,f,o,u),n.ngTokenPath=f,n[br]=null,n}(b,r,"R3InjectorError",this.source)}throw b}finally{Sn(v),Ee(f)}}resolveInjectorInitializers(){const r=Ee(this),o=Sn(void 0);try{const u=this.get(Ro.multi,$e,tn.Self);for(const f of u)f()}finally{Ee(r),Sn(o)}}toString(){const r=[],o=this.records;for(const u of o.keys())r.push(Fe(u));return`R3Injector[${r.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new De(205,!1)}processProvider(r){let o=dc(r=ge(r))?r:ge(r&&r.provide);const u=function zh(n){return Ol(n)?Wc(void 0,n.useValue):Wc(xm(n),sp)}(r);if(dc(r)||!0!==r.multi)this.records.get(o);else{let f=this.records.get(o);f||(f=Wc(void 0,sp,!0),f.factory=()=>Yn(f.multi),this.records.set(o,f)),o=r,f.multi.push(r)}this.records.set(o,u)}hydrate(r,o){return o.value===sp&&(o.value=op,o.value=o.factory()),"object"==typeof o.value&&o.value&&function Pm(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(o.value)&&this._ngOnDestroyHooks.add(o.value),o.value}injectableDefInScope(r){if(!r.providedIn)return!1;const o=ge(r.providedIn);return"string"==typeof o?"any"===o||this.scopes.has(o):this.injectorDefTypes.has(o)}removeOnDestroy(r){const o=this._onDestroyHooks.indexOf(r);-1!==o&&this._onDestroyHooks.splice(o,1)}}function vg(n){const r=Cn(n),o=null!==r?r.factory:fs(n);if(null!==o)return o;if(n instanceof cs)throw new De(204,!1);if(n instanceof Function)return function xd(n){const r=n.length;if(r>0)throw sl(r,"?"),new De(204,!1);const o=function Lt(n){return n&&(n[$t]||n[ir])||null}(n);return null!==o?()=>o.factory(n):()=>new n}(n);throw new De(204,!1)}function xm(n,r,o){let u;if(dc(n)){const f=ge(n);return fs(f)||vg(f)}if(Ol(n))u=()=>ge(n.useValue);else if(function Rm(n){return!(!n||!n.useFactory)}(n))u=()=>n.useFactory(...Yn(n.deps||[]));else if(function Mm(n){return!(!n||!n.useExisting)}(n))u=()=>Mt(ge(n.useExisting));else{const f=ge(n&&(n.useClass||n.provide));if(!function By(n){return!!n.deps}(n))return fs(f)||vg(f);u=()=>new f(...Yn(n.deps))}return u}function Wc(n,r,o=!1){return{factory:n,value:r,multi:o?[]:void 0}}function _g(n,r){for(const o of n)Array.isArray(o)?_g(o,r):o&&Ze(o)?_g(o.\u0275providers,r):r(o)}const ap=new cs("AppId",{providedIn:"root",factory:()=>Bo}),Bo="ng",Om=new cs("Platform Initializer"),Nm=new cs("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),km=new cs("AnimationModuleType"),Pd=new cs("CSP nonce",{providedIn:"root",factory:()=>{var n,r;return(null===(n=function Id(){return void 0!==Ph?Ph:typeof document<"u"?document:void 0}().body)||void 0===n||null===(r=n.querySelector("[ngCspNonce]"))||void 0===r?void 0:r.getAttribute("ngCspNonce"))||null}});let Nd=(n,r)=>null;function kd(n,r){return Nd(n,r)}class ef{}class tf{}class $m{resolveComponentFactory(r){throw function Dg(n){const r=Error(`No component factory found for ${Fe(n)}.`);return r.ngComponent=n,r}(r)}}let nf=(()=>{class n{}return n.NULL=new $m,n})();function Vm(){return Cu(ni(),pn())}function Cu(n,r){return new ed(Ss(n,r))}let ed=(()=>{class n{constructor(o){this.nativeElement=o}}return n.__NG_ELEMENT_ID__=Vm,n})();function Hy(n){return n instanceof ed?n.nativeElement:n}class Um{}let Jo=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>function zy(){const n=pn(),o=zs(ni().index,n);return(Hi(o)?o:n)[Xn]}(),n})(),jm=(()=>{class n{}return n.\u0275prov=rt({token:n,providedIn:"root",factory:()=>null}),n})();class rf{constructor(r){this.full=r,this.major=r.split(".")[0],this.minor=r.split(".")[1],this.patch=r.split(".").slice(2).join(".")}}const Fd=new rf("16.0.0"),sf={};function Ld(n){for(;n;){n[Er]|=64;const r=vd(n);if(Ts(n)&&!r)return n;n=r}return null}function Tg(n){return n.ngOriginalError}class Bd{constructor(){this._console=console}handleError(r){const o=this._findOriginalError(r);this._console.error("ERROR",r),o&&this._console.error("ORIGINAL ERROR",o)}_findOriginalError(r){let o=r&&Tg(r);for(;o&&Tg(o);)o=Tg(o);return o||null}}const td=new cs("",{providedIn:"root",factory:()=>!1});function ru(n){return n instanceof Function?n():n}class uf extends wr{constructor(){super(...arguments),this.consumerAllowSignalWrites=!1,this._lView=null}set lView(r){this._lView=r}onConsumerDependencyMayHaveChanged(){Ld(this._lView)}onProducerUpdateValueVersion(){}get hasReadASignal(){return this.hasProducers}runInContext(r,o,u){const f=Jt(this);this.trackingVersion++;try{r(o,u)}finally{Jt(f)}}destroy(){this.trackingVersion++}}let gc=null;function pp(){var n;return null!==(n=gc)&&void 0!==n||(gc=new uf),gc}function Ud(n,r){var o;return null!==(o=n[r])&&void 0!==o?o:pp()}function cf(n,r){const o=pp();o.hasReadASignal&&(n[r]=gc,o.lView=n,gc=new uf)}const ri={};function Km(n){gp(un(),pn(),oo()+n,!1)}function gp(n,r,o,u){if(!u)if(3==(3&r[Er])){const v=n.preOrderCheckHooks;null!==v&&x(r,v,o)}else{const v=n.preOrderHooks;null!==v&&F(r,v,0,o)}el(o)}const nd={\u0275\u0275defineInjectable:rt,\u0275\u0275defineInjector:qt,\u0275\u0275inject:Mt,\u0275\u0275invalidFactoryDep:function Qt(n){throw new De(202,!1)},resolveForwardRef:ge};const jd=he({provide:String,useValue:he});function Pg(n){return void 0!==n.useClass}function iu(n){return void 0!==n.useFactory}const Og=Sl("Injectable",void 0,void 0,void 0,(n,r)=>function mp(n,r){let o=null,u=null;n.hasOwnProperty($t)||Object.defineProperty(n,$t,{get:()=>(null===o&&(o=ks().compileInjectable(nd,`ng:///${n.name}/\u0275prov.js`,function ff(n,r){const o=r||{providedIn:null},u={name:n.name,type:n,typeArgumentCount:0,providedIn:o.providedIn};return(Pg(o)||iu(o))&&void 0!==o.deps&&(u.deps=Eh(o.deps)),Pg(o)?u.useClass=o.useClass:function df(n){return jd in n}(o)?u.useValue=o.useValue:iu(o)?u.useFactory=o.useFactory:function hf(n){return void 0!==n.useExisting}(o)&&(u.useExisting=o.useExisting),u}(n,r))),o)}),n.hasOwnProperty(fn)||Object.defineProperty(n,fn,{get:()=>{if(null===u){const f=ks();u=f.compileFactory(nd,`ng:///${n.name}/\u0275fac.js`,{name:n.name,type:n,typeArgumentCount:0,deps:Oc(n),target:f.FactoryTarget.Injectable})}return u},configurable:!0})}(n,r));function mc(n,r=null,o=null,u){const f=pf(n,r,o,u);return f.resolveInjectorInitializers(),f}function pf(n,r=null,o=null,u,f=new Set){const v=[o||$e,lc(n)];return u=u||("object"==typeof n?void 0:Fe(n)),new yg(v,r||Rd(),u||null,f)}let Ga=(()=>{class n{static create(o,u){if(Array.isArray(o))return mc({name:""},u,o,"");{var f;const v=null!==(f=o.name)&&void 0!==f?f:"";return mc({name:v},o.parent,o.providers,v)}}}return n.THROW_IF_NOT_FOUND=Rr,n.NULL=new Hh,n.\u0275prov=rt({token:n,providedIn:"any",factory:()=>Mt(fg)}),n.__NG_ELEMENT_ID__=-1,n})();function Aa(n,r=tn.Default){const o=pn();return null===o?Mt(n,r):go(ni(),o,ge(n),r)}function kl(){throw new Error("invalid")}function fa(n,r,o,u,f,v,b,O,V,ne,ve){const Ve=r.blueprint.slice();return Ve[qr]=f,Ve[Er]=140|u,(null!==ne||n&&2048&n[Er])&&(Ve[Er]|=2048),j(Ve),Ve[Yr]=Ve[Un]=n,Ve[Xr]=o,Ve[Si]=b||n&&n[Si],Ve[Xn]=O||n&&n[Xn],Ve[Li]=V||n&&n[Li]||null,Ve[bi]=v,Ve[Cs]=function gm(){return si++}(),Ve[bs]=ve,Ve[Ks]=ne,Ve[ar]=2==r.type?n[ar]:Ve,Ve}function Fl(n,r,o,u,f){let v=n.data[r];if(null===v)v=function yc(n,r,o,u,f){const v=Ou(),b=bl(),V=n.data[r]=function Zy(n,r,o,u,f,v){return{type:o,index:u,insertBeforeIndex:null,injectorIndex:r?r.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:f,attrs:v,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:r,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,b?v:v&&v.parent,o,r,u,f);return null===n.firstChild&&(n.firstChild=V),null!==v&&(b?null==v.child&&null!==V.parent&&(v.child=V):null===v.next&&(v.next=V,V.prev=v)),V}(n,r,o,u,f),function dh(){return Ln.lFrame.inI18n}()&&(v.flags|=32);else if(64&v.type){v.type=o,v.value=u,v.attrs=f;const b=function Yo(){const n=Ln.lFrame,r=n.currentTNode;return n.isParent?r:r.parent}();v.injectorIndex=null===b?-1:b.injectorIndex}return _a(v,!0),v}function rd(n,r,o,u){if(0===o)return-1;const f=r.length;for(let v=0;v<o;v++)r.push(u),n.blueprint.push(u),n.data.push(null);return f}function Ng(n,r,o,u,f){const v=Ud(r,di),b=oo(),O=2&u;try{if(el(-1),O&&r.length>hr&&gp(n,r,hr,!1),Zs(O?2:0,f),O)v.runInContext(o,u,f);else{const ne=Jt(null);try{o(u,f)}finally{Jt(ne)}}}finally{O&&null===r[di]&&cf(r,di),el(b),Zs(O?3:1,f)}}function bu(n,r,o){if(ho(r)){const u=Jt(null);try{const v=r.directiveEnd;for(let b=r.directiveStart;b<v;b++){const O=n.data[b];O.contentQueries&&O.contentQueries(1,o[b],b)}}finally{Jt(u)}}}function vc(n,r,o){os()&&(function vp(n,r,o,u){const f=o.directiveStart,v=o.directiveEnd;So(o)&&function yf(n,r,o){const u=Ss(r,n),b=Ep(n,fa(n,Hd(o),null,o.onPush?64:16,u,r,null,n[Si].rendererFactory.createRenderer(u,o),null,null,null));n[r.index]=b}(r,o,n.data[f+o.componentOffset]),n.firstCreatePass||Bu(o,r),uo(u,r);const b=o.initialInputs;for(let O=f;O<v;O++){const V=n.data[O],ne=$i(r,n,O,o);uo(ne,r),null!==b&&Gg(0,O-f,ne,V,0,b),Vs(V)&&(zs(o.index,r)[Xr]=$i(r,n,O,o))}}(n,r,o,Ss(o,r)),64==(64&o.flags)&&Vg(n,r,o))}function gf(n,r,o=Ss){const u=r.localNames;if(null!==u){let f=r.index+1;for(let v=0;v<u.length;v+=2){const b=u[v+1],O=-1===b?o(r,n):n[b];n[f++]=O}}}function Hd(n){const r=n.tView;return null===r||r.incompleteFirstPass?n.tView=qm(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):r}function qm(n,r,o,u,f,v,b,O,V,ne,ve){const Ve=hr+u,mt=Ve+f,Nt=function Ky(n,r){const o=[];for(let u=0;u<r;u++)o.push(u<n?null:ri);return o}(Ve,mt),ln="function"==typeof ne?ne():ne;return Nt[Dn]={type:n,blueprint:Nt,template:o,queries:null,viewQuery:O,declTNode:r,data:Nt.slice().fill(null,Ve),bindingStartIndex:Ve,expandoStartIndex:mt,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof v?v():v,pipeRegistry:"function"==typeof b?b():b,firstChild:null,schemas:V,consts:ln,incompleteFirstPass:!1,ssrId:ve}}let Fg=n=>null;function Ym(n,r,o,u){for(let f in n)if(n.hasOwnProperty(f)){o=null===o?{}:o;const v=n[f];null===u?Zm(o,r,f,v):u.hasOwnProperty(f)&&Zm(o,r,u[f],v)}return o}function Zm(n,r,o,u){n.hasOwnProperty(o)?n[o].push(r,u):n[o]=[r,u]}function Wa(n,r,o,u,f,v,b,O){const V=Ss(r,o);let ve,ne=r.inputs;!O&&null!=ne&&(ve=ne[u])?(ey(n,o,ve,u,f),So(r)&&function Xy(n,r){const o=zs(r,n);16&o[Er]||(o[Er]|=64)}(o,r.index)):3&r.type&&(u=function Qy(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(u),f=null!=b?b(f,r.value||"",u):f,v.setProperty(V,u,f))}function Gd(n,r,o,u){if(os()){const f=null===u?null:{"":-1},v=function Qm(n,r){const o=n.directiveRegistry;let u=null,f=null;if(o)for(let b=0;b<o.length;b++){const O=o[b];if(xs(r,O.selectors,!1))if(u||(u=[]),Vs(O))if(null!==O.findHostDirectiveDefs){const V=[];f=f||new Map,O.findHostDirectiveDefs(O,V,f),u.unshift(...V,O),jg(n,r,V.length)}else u.unshift(O),jg(n,r,0);else{var v;f=f||new Map,null===(v=O.findHostDirectiveDefs)||void 0===v||v.call(O,O,u,f),u.push(O)}}return null===u?null:[u,f]}(n,o);let b,O;null===v?b=O=null:[b,O]=v,null!==b&&Lg(n,r,o,b,f,O),f&&function Hg(n,r,o){if(r){const u=n.localNames=[];for(let f=0;f<r.length;f+=2){const v=o[r[f+1]];if(null==v)throw new De(-301,!1);u.push(r[f],v)}}}(o,u,f)}o.mergedAttrs=mn(o.mergedAttrs,o.attrs)}function Lg(n,r,o,u,f,v){for(let Ve=0;Ve<u.length;Ve++)Vu(Bu(o,r),n,u[Ve].type);!function Du(n,r,o){n.flags|=1,n.directiveStart=r,n.directiveEnd=r+o,n.providerIndexes=r}(o,n.data.length,u.length);for(let Ve=0;Ve<u.length;Ve++){const mt=u[Ve];mt.providersResolver&&mt.providersResolver(mt)}let b=!1,O=!1,V=rd(n,r,u.length,null);for(let Ve=0;Ve<u.length;Ve++){const mt=u[Ve];o.mergedAttrs=mn(o.mergedAttrs,mt.hostAttrs),zg(n,o,r,V,mt),Jy(V,mt,f),null!==mt.contentQueries&&(o.flags|=4),(null!==mt.hostBindings||null!==mt.hostAttrs||0!==mt.hostVars)&&(o.flags|=64);const Nt=mt.type.prototype;var ne,ve;!b&&(Nt.ngOnChanges||Nt.ngOnInit||Nt.ngDoCheck)&&((null!==(ne=n.preOrderHooks)&&void 0!==ne?ne:n.preOrderHooks=[]).push(o.index),b=!0),O||!Nt.ngOnChanges&&!Nt.ngDoCheck||((null!==(ve=n.preOrderCheckHooks)&&void 0!==ve?ve:n.preOrderCheckHooks=[]).push(o.index),O=!0),V++}!function yp(n,r,o){const f=r.directiveEnd,v=n.data,b=r.attrs,O=[];let V=null,ne=null;for(let ve=r.directiveStart;ve<f;ve++){const Ve=v[ve],mt=o?o.get(Ve):null,ln=mt?mt.outputs:null;V=Ym(Ve.inputs,ve,V,mt?mt.inputs:null),ne=Ym(Ve.outputs,ve,ne,ln);const Pn=null===V||null===b||Hr(r)?null:Wd(V,ve,b);O.push(Pn)}null!==V&&(V.hasOwnProperty("class")&&(r.flags|=8),V.hasOwnProperty("style")&&(r.flags|=16)),r.initialInputs=O,r.inputs=V,r.outputs=ne}(n,o,v)}function Vg(n,r,o){const u=o.directiveStart,f=o.directiveEnd,v=o.index,b=function Dl(){return Ln.lFrame.currentDirectiveIndex}();try{el(v);for(let O=u;O<f;O++){const V=n.data[O],ne=r[O];ci(O),(null!==V.hostBindings||0!==V.hostVars||null!==V.hostAttrs)&&Ug(V,ne)}}finally{el(-1),ci(b)}}function Ug(n,r){null!==n.hostBindings&&n.hostBindings(1,r)}function jg(n,r,o){var u;r.componentOffset=o,(null!==(u=n.components)&&void 0!==u?u:n.components=[]).push(r.index)}function Jy(n,r,o){if(o){if(r.exportAs)for(let u=0;u<r.exportAs.length;u++)o[r.exportAs[u]]=n;Vs(r)&&(o[""]=n)}}function zg(n,r,o,u,f){n.data[u]=f;const v=f.factory||(f.factory=fs(f.type)),b=new It(v,Vs(f),Aa);n.blueprint[u]=b,o[u]=b,function Bg(n,r,o,u,f){const v=f.hostBindings;if(v){let b=n.hostBindingOpCodes;null===b&&(b=n.hostBindingOpCodes=[]);const O=~r.index;(function $g(n){let r=n.length;for(;r>0;){const o=n[--r];if("number"==typeof o&&o<0)return o}return 0})(b)!=O&&b.push(O),b.push(o,u,v)}}(n,r,u,rd(n,o,f.hostVars,ri),f)}function Ka(n,r,o,u,f,v){const b=Ss(n,r);!function vf(n,r,o,u,f,v,b){if(null==v)n.removeAttribute(r,f,o);else{const O=null==b?ct(v):b(v,u||"",f);n.setAttribute(r,f,O,o)}}(r[Xn],b,v,n.value,o,u,f)}function Gg(n,r,o,u,f,v){const b=v[r];if(null!==b)for(let O=0;O<b.length;)_p(u,o,b[O++],b[O++],b[O++])}function _p(n,r,o,u,f){const v=Jt(null);try{null!==n.setInput?n.setInput(r,f,o,u):r[u]=f}finally{Jt(v)}}function Wd(n,r,o){let u=null,f=0;for(;f<o.length;){const v=o[f];if(0!==v)if(5!==v){if("number"==typeof v)break;if(n.hasOwnProperty(v)){null===u&&(u=[]);const b=n[v];for(let O=0;O<b.length;O+=2)if(b[O]===r){u.push(v,b[O+1],o[f+1]);break}}f+=2}else f+=2;else f+=4}return u}function Wg(n,r,o,u){return[n,!0,!1,r,null,0,u,o,null,null,null]}function Kd(n,r){const o=n.contentQueries;if(null!==o)for(let u=0;u<o.length;u+=2){const v=o[u+1];if(-1!==v){const b=n.data[v];Fn(o[u]),b.contentQueries(2,r[v],v)}}}function Ep(n,r){return n[Is]?n[$s][Fi]=r:n[Is]=r,n[$s]=r,r}function _c(n,r,o){Fn(0);const u=Jt(null);try{r(n,o)}finally{Jt(u)}}function id(n){return n[Bs]||(n[Bs]=[])}function Xm(n){return n.cleanup||(n.cleanup=[])}function Jm(n,r){const o=n[Li],u=o?o.get(Bd,null):null;u&&u.handleError(r)}function ey(n,r,o,u,f){for(let v=0;v<o.length;){const b=o[v++],O=o[v++];_p(n.data[b],r[b],u,O,f)}}function Rv(n,r){const o=zs(r,n),u=o[Dn];!function Kg(n,r){for(let o=r.length;o<n.blueprint.length;o++)r.push(n.blueprint[o])}(u,o);const f=o[qr];null!==f&&null===o[bs]&&(o[bs]=kd(f,o[Li])),qg(u,o,o[Xr])}function qg(n,r,o){Ra(r);try{const u=n.viewQuery;null!==u&&_c(1,u,o);const f=n.template;null!==f&&Ng(n,r,f,1,o),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&Kd(n,r),n.staticViewQueries&&_c(2,n.viewQuery,o);const v=n.components;null!==v&&function wp(n,r){for(let o=0;o<r.length;o++)Rv(n,r[o])}(r,v)}catch(u){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),u}finally{r[Er]&=-5,Fu()}}let Cp=(()=>{class n{constructor(){this.all=new Set,this.queue=new Map}create(o,u,f){const v=typeof Zone>"u"?null:Zone.current,b=new _l(o,ne=>{this.all.has(ne)&&this.queue.set(ne,v)},f);let O;this.all.add(b),b.notify();const V=()=>{var ne;b.cleanup(),null===(ne=O)||void 0===ne||ne(),this.all.delete(b),this.queue.delete(b)};return O=null==u?void 0:u.onDestroy(V),{destroy:V}}flush(){if(0!==this.queue.size)for(const[o,u]of this.queue)this.queue.delete(o),u?u.run(()=>o.run()):o.run()}get isQueueEmpty(){return 0===this.queue.size}}return n.\u0275prov=rt({token:n,providedIn:"root",factory:()=>new n}),n})();function bp(n,r,o){let u=o?n.styles:null,f=o?n.classes:null,v=0;if(null!==r)for(let b=0;b<r.length;b++){const O=r[b];"number"==typeof O?v=O:1==v?f=Ce(f,O):2==v&&(u=Ce(u,O+": "+r[++b]+";"))}o?n.styles=u:n.stylesWithoutHost=u,o?n.classes=f:n.classesWithoutHost=f}function Ef(n,r,o,u,f=!1){for(;null!==o;){const v=r[o.index];if(null!==v&&u.push(ui(v)),Pi(v)){for(let O=hi;O<v.length;O++){const V=v[O],ne=V[Dn].firstChild;null!==ne&&Ef(V[Dn],V,ne,u)}v[is]!==v[qr]&&u.push(v[is])}const b=o.type;if(8&b)Ef(n,r,o.child,u);else if(32&b){const O=eu(o,r);let V;for(;V=O();)u.push(V)}else if(16&b){const O=wm(r,o);if(Array.isArray(O))u.push(...O);else{const V=vd(r[ar]);Ef(V[Dn],V,O,u,!0)}}o=f?o.projectionNext:o.next}return u}function qd(n,r,o,u=!0){const f=r[Si].rendererFactory;f.begin&&f.begin();try{Yd(n,r,n.template,o)}catch(O){throw u&&Jm(r,O),O}finally{var b;f.end&&f.end(),null===(b=r[Si].effectManager)||void 0===b||b.flush()}}function Yd(n,r,o,u){var f;const v=r[Er];if(256!=(256&v)){null===(f=r[Si].effectManager)||void 0===f||f.flush(),Ra(r);try{j(r),function uu(n){return Ln.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==o&&Ng(n,r,o,2,u);const O=3==(3&v);if(O){const ve=n.preOrderCheckHooks;null!==ve&&x(r,ve,null)}else{const ve=n.preOrderHooks;null!==ve&&F(r,ve,0,null),D(r,0)}if(function ny(n){for(let r=Dh(n);null!==r;r=Eu(r)){if(!r[ms])continue;const o=r[Ys];for(let u=0;u<o.length;u++){we(o[u])}}}(r),function Zg(n){for(let r=Dh(n);null!==r;r=Eu(r))for(let o=hi;o<r.length;o++){const u=r[o],f=u[Dn];Cl(u)&&Yd(f,u,f.template,u[Xr])}}(r),null!==n.contentQueries&&Kd(n,r),O){const ve=n.contentCheckHooks;null!==ve&&x(r,ve)}else{const ve=n.contentHooks;null!==ve&&F(r,ve,1),D(r,1)}!function ha(n,r){const o=n.hostBindingOpCodes;if(null===o)return;const u=Ud(r,Jn);try{for(let f=0;f<o.length;f++){const v=o[f];if(v<0)el(~v);else{const b=v,O=o[++f],V=o[++f];Pr(O,b),u.runInContext(V,2,r[b])}}}finally{null===r[Jn]&&cf(r,Jn),el(-1)}}(n,r);const V=n.components;null!==V&&function Qg(n,r){for(let o=0;o<r.length;o++)wf(n,r[o])}(r,V);const ne=n.viewQuery;if(null!==ne&&_c(2,ne,u),O){const ve=n.viewCheckHooks;null!==ve&&x(r,ve)}else{const ve=n.viewHooks;null!==ve&&F(r,ve,2),D(r,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),r[Er]&=-73,Xe(r)}finally{Fu()}}}function wf(n,r){const o=zs(r,n);if(Cl(o)){const u=o[Dn];80&o[Er]?Yd(u,o,u.template,o[Xr]):o[Ws]>0&&If(o)}}function If(n){for(let u=Dh(n);null!==u;u=Eu(u))for(let f=hi;f<u.length;f++){const v=u[f];if(Cl(v))if(1024&v[Er]){const b=v[Dn];Yd(b,v,b.template,v[Xr])}else v[Ws]>0&&If(v)}const o=n[Dn].components;if(null!==o)for(let u=0;u<o.length;u++){const f=zs(o[u],n);Cl(f)&&f[Ws]>0&&If(f)}}class Zd{get rootNodes(){const r=this._lView,o=r[Dn];return Ef(o,r,o.firstChild,[])}constructor(r,o){this._lView=r,this._cdRefInjectingView=o,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Xr]}set context(r){this._lView[Xr]=r}get destroyed(){return 256==(256&this._lView[Er])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const r=this._lView[Yr];if(Pi(r)){const o=r[Os],u=o?o.indexOf(this):-1;u>-1&&(jf(r,u),$a(o,u))}this._attachedToViewContainer=!1}qp(this._lView[Dn],this._lView)}onDestroy(r){!function rn(n,r){if(256==(256&n[Er]))throw new De(911,!1);null===n[ts]&&(n[ts]=[]),n[ts].push(r)}(this._lView,r)}markForCheck(){Ld(this._cdRefInjectingView||this._lView)}detach(){this._lView[Er]&=-129}reattach(){this._lView[Er]|=128}detectChanges(){qd(this._lView[Dn],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new De(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Kp(n,r){Mh(n,r,r[Xn],2,null,null)}(this._lView[Dn],this._lView)}attachToAppRef(r){if(this._attachedToViewContainer)throw new De(902,!1);this._appRef=r}}class Qd extends Zd{constructor(r){super(r),this._view=r}detectChanges(){const r=this._view;qd(r[Dn],r,r[Xr],!1)}checkNoChanges(){}get context(){return null}}class Xg extends nf{constructor(r){super(),this.ngModule=r}resolveComponentFactory(r){const o=nt(r);return new sd(o,this.ngModule)}}function Xd(n){const r=[];for(let o in n)n.hasOwnProperty(o)&&r.push({propName:n[o],templateName:o});return r}class cl{constructor(r,o){this.injector=r,this.parentInjector=o}get(r,o,u){u=Tr(u);const f=this.injector.get(r,sf,u);return f!==sf||o===sf?f:this.parentInjector.get(r,o,u)}}class sd extends tf{get inputs(){return Xd(this.componentDef.inputs)}get outputs(){return Xd(this.componentDef.outputs)}constructor(r,o){super(),this.componentDef=r,this.ngModule=o,this.componentType=r.type,this.selector=function es(n){return n.map(Qr).join(",")}(r.selectors),this.ngContentSelectors=r.ngContentSelectors?r.ngContentSelectors:[],this.isBoundToModule=!!o}create(r,o,u,f){var v;let b=(f=f||this.ngModule)instanceof hc?f:null===(v=f)||void 0===v?void 0:v.injector;b&&null!==this.componentDef.getStandaloneInjector&&(b=this.componentDef.getStandaloneInjector(b)||b);const O=b?new cl(r,b):r,V=O.get(Um,null);if(null===V)throw new De(407,!1);const Ve={rendererFactory:V,sanitizer:O.get(jm,null),effectManager:O.get(Cp,null)},mt=V.createRenderer(null,this.componentDef),Nt=this.componentDef.selectors[0][0]||"div",ln=u?function kg(n,r,o,u){const v=u.get(td,!1)||o===Re.ShadowDom,b=n.selectRootElement(r,v);return function pa(n){Fg(n)}(b),b}(mt,u,this.componentDef.encapsulation,O):$c(mt,Nt,function ev(n){const r=n.toLowerCase();return"svg"===r?"svg":"math"===r?"math":null}(Nt)),Pn=this.componentDef.onPush?576:528,Hn=qm(0,null,null,1,0,null,null,null,null,null,null),ur=fa(null,Hn,null,Pn,null,null,Ve,mt,O,null,null);let In,ai;Ra(ur);try{const Ii=this.componentDef;let Es,xu=null;Ii.findHostDirectiveDefs?(Es=[],xu=new Map,Ii.findHostDirectiveDefs(Ii,Es,xu),Es.push(Ii)):Es=[Ii];const Zw=function Jg(n,r){const o=n[Dn],u=hr;return n[u]=r,Fl(o,u,2,"#host",null)}(ur,ln),AD=function em(n,r,o,u,f,v,b){const O=f[Dn];!function Df(n,r,o,u){for(const f of n)r.mergedAttrs=mn(r.mergedAttrs,f.hostAttrs);null!==r.mergedAttrs&&(bp(r,r.mergedAttrs,!0),null!==o&&tg(u,o,r))}(u,n,r,b);let V=null;null!==r&&(V=kd(r,f[Li]));const ne=v.rendererFactory.createRenderer(r,o),ve=fa(f,Hd(o),null,o.onPush?64:16,f[n.index],n,v,ne,null,null,V);return O.firstCreatePass&&jg(O,n,u.length-1),Ep(f,ve),f[n.index]=ve}(Zw,ln,Ii,Es,ur,Ve,mt);ai=Ul(Hn,hr),ln&&function tm(n,r,o,u){if(u)wt(n,o,["ng-version",Fd.full]);else{const{attrs:f,classes:v}=function rs(n){const r=[],o=[];let u=1,f=2;for(;u<n.length;){let v=n[u];if("string"==typeof v)2===f?""!==v&&r.push(v,n[++u]):8===f&&o.push(v);else{if(!dr(f))break;f=v}u++}return{attrs:r,classes:o}}(r.selectors[0]);f&&wt(n,o,f),v&&v.length>0&&Qf(n,o,v.join(" "))}}(mt,Ii,ln,u),void 0!==o&&function Jd(n,r,o){const u=n.projection=[];for(let f=0;f<r.length;f++){const v=o[f];u.push(null!=v?Array.from(v):null)}}(ai,this.ngContentSelectors,o),In=function ry(n,r,o,u,f,v){const b=ni(),O=f[Dn],V=Ss(b,f);Lg(O,f,b,o,null,u);for(let ve=0;ve<o.length;ve++)uo($i(f,O,b.directiveStart+ve,b),f);Vg(O,f,b),V&&uo(V,f);const ne=$i(f,O,b.directiveStart+b.componentOffset,b);if(n[Xr]=f[Xr]=ne,null!==v)for(const ve of v)ve(ne,r);return bu(O,b,n),ne}(AD,Ii,Es,xu,ur,[Tp]),qg(Hn,ur,null)}finally{Fu()}return new Cf(this.componentType,In,Cu(ai,ur),ur,ai)}}class Cf extends ef{constructor(r,o,u,f,v){super(),this.location=u,this._rootLView=f,this._tNode=v,this.previousInputValues=null,this.instance=o,this.hostView=this.changeDetectorRef=new Qd(f),this.componentType=r}setInput(r,o){const u=this._tNode.inputs;let f;if(null!==u&&(f=u[r])){var v;if(null!==(v=this.previousInputValues)&&void 0!==v||(this.previousInputValues=new Map),this.previousInputValues.has(r)&&Object.is(this.previousInputValues.get(r),o))return;const b=this._rootLView;ey(b[Dn],b,f,r,o),this.previousInputValues.set(r,o),Ld(zs(this._tNode.index,b))}}get injector(){return new oa(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(r){this.hostView.onDestroy(r)}}function Tp(){const n=ni();Pa(pn()[Dn],n)}function Sf(n){let r=function Tf(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),o=!0;const u=[n];for(;r;){let f;if(Vs(n))f=r.\u0275cmp||r.\u0275dir;else{if(r.\u0275cmp)throw new De(903,!1);f=r.\u0275dir}if(f){if(o){u.push(f);const b=n;b.inputs=ga(n.inputs),b.declaredInputs=ga(n.declaredInputs),b.outputs=ga(n.outputs);const O=f.hostBindings;O&&eh(n,O);const V=f.viewQuery,ne=f.contentQueries;if(V&&Ec(n,V),ne&&iy(n,ne),Ie(n.inputs,f.inputs),Ie(n.declaredInputs,f.declaredInputs),Ie(n.outputs,f.outputs),Vs(f)&&f.data.animation){const ve=n.data;ve.animation=(ve.animation||[]).concat(f.data.animation)}}const v=f.features;if(v)for(let b=0;b<v.length;b++){const O=v[b];O&&O.ngInherit&&O(n),O===Sf&&(o=!1)}}r=Object.getPrototypeOf(r)}!function Af(n){let r=0,o=null;for(let u=n.length-1;u>=0;u--){const f=n[u];f.hostVars=r+=f.hostVars,f.hostAttrs=mn(f.hostAttrs,o=mn(o,f.hostAttrs))}}(u)}function ga(n){return n===lt?{}:n===$e?[]:n}function Ec(n,r){const o=n.viewQuery;n.viewQuery=o?(u,f)=>{r(u,f),o(u,f)}:r}function iy(n,r){const o=n.contentQueries;n.contentQueries=o?(u,f,v)=>{r(u,f,v),o(u,f,v)}:r}function eh(n,r){const o=n.hostBindings;n.hostBindings=o?(u,f)=>{r(u,f),o(u,f)}:r}function Rp(n){return!!th(n)&&(Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n)}function th(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function bo(n,r,o){return!Object.is(n[r],o)&&(n[r]=o,!0)}function od(n,r,o,u){const f=pn();return bo(f,Gr(),r)&&(un(),Ka(As(),f,n,r,o,u)),od}function Fs(n,r,o,u){return bo(n,Gr(),o)?r+ct(o)+u:ri}function gl(n,r,o,u,f,v,b,O){const V=pn(),ne=un(),ve=n+hr,Ve=ne.firstCreatePass?function Rs(n,r,o,u,f,v,b,O,V){const ne=r.consts,ve=Fl(r,n,4,b||null,se(ne,O));Gd(r,o,ve,se(ne,V)),Pa(r,ve);const Ve=ve.tView=qm(2,ve,u,f,v,r.directiveRegistry,r.pipeRegistry,null,r.schemas,ne,null);return null!==r.queries&&(r.queries.template(r,ve),Ve.queries=r.queries.embeddedTView(ve)),ve}(ve,ne,V,r,o,u,f,v,b):ne.data[ve];_a(Ve,!1);const mt=ma(ne,V,Ve,n);nl()&&qf(ne,V,mt,Ve),uo(mt,V),Ep(V,V[ve]=Wg(mt,V,mt,Ve)),ro(Ve)&&vc(ne,V,Ve),null!=b&&gf(V,Ve,O)}let ma=function Ll(n,r,o,u){return ao(!0),r[Xn].createComment("")};function To(n){return ss(function Dc(){return Ln.lFrame.contextLView}(),hr+n)}function au(n,r,o){const u=pn();return bo(u,Gr(),r)&&Wa(un(),As(),u,n,r,u[Xn],o,!1),au}function $o(n,r,o,u,f){const b=f?"class":"style";ey(n,o,r.inputs[b],b,u)}function Au(n,r,o,u){const f=pn(),v=un(),b=hr+n,O=f[Xn],V=v.firstCreatePass?function Op(n,r,o,u,f,v){const b=r.consts,V=Fl(r,n,2,u,se(b,f));return Gd(r,o,V,se(b,v)),null!==V.attrs&&bp(V,V.attrs,!1),null!==V.mergedAttrs&&bp(V,V.mergedAttrs,!0),null!==r.queries&&r.queries.elementStart(r,V),V}(b,v,f,r,o,u):v.data[b],ne=Np(v,f,V,O,r,n);f[b]=ne;const ve=ro(V);return _a(V,!0),tg(O,ne,V),32!=(32&V.flags)&&nl()&&qf(v,f,ne,V),0===function Vr(){return Ln.lFrame.elementDepthCount}()&&uo(ne,f),function ki(){Ln.lFrame.elementDepthCount++}(),ve&&(vc(v,f,V),bu(v,V,f)),null!==u&&gf(f,V),Au}function om(){let n=ni();bl()?bc():(n=n.parent,_a(n,!1));const r=n;(function ti(n){return Ln.skipHydrationRootTNode===n})(r)&&function rr(){Ln.skipHydrationRootTNode=null}(),function wi(){Ln.lFrame.elementDepthCount--}();const o=un();return o.firstCreatePass&&(Pa(o,n),ho(n)&&o.queries.elementEnd(n)),null!=r.classesWithoutHost&&function ls(n){return 0!=(8&n.flags)}(r)&&$o(o,r,pn(),r.classesWithoutHost,!0),null!=r.stylesWithoutHost&&function lo(n){return 0!=(16&n.flags)}(r)&&$o(o,r,pn(),r.stylesWithoutHost,!1),om}function am(n,r,o,u){return Au(n,r,o,u),om(),am}let Np=(n,r,o,u,f,v)=>(ao(!0),$c(u,f,function Zo(){return Ln.lFrame.currentNamespace}()));function ah(n,r,o){const u=pn(),f=un(),v=n+hr,b=f.firstCreatePass?function g_(n,r,o,u,f){const v=r.consts,b=se(v,u),O=Fl(r,n,8,"ng-container",b);return null!==b&&bp(O,b,!0),Gd(r,o,O,se(v,f)),null!==r.queries&&r.queries.elementStart(r,O),O}(v,f,u,r,o):f.data[v];_a(b,!0);const O=fy(f,u,b,n);return u[v]=O,nl()&&qf(f,u,O,b),uo(O,u),ro(b)&&(vc(f,u,b),bu(f,b,u)),null!=o&&gf(u,b),ah}function kv(){let n=ni();const r=un();return bl()?bc():(n=n.parent,_a(n,!1)),r.firstCreatePass&&(Pa(r,n),ho(n)&&r.queries.elementEnd(n)),kv}function Fv(n,r,o){return ah(n,r,o),kv(),Fv}let fy=(n,r,o,u)=>(ao(!0),nc(r[Xn],""));function Lv(){return pn()}function rv(n){return!!n&&"function"==typeof n.then}function um(n){return!!n&&"function"==typeof n.subscribe}function iv(n,r,o,u){const f=pn(),v=un(),b=ni();return function $v(n,r,o,u,f,v,b){const O=ro(u),ne=n.firstCreatePass&&Xm(n),ve=r[Xr],Ve=id(r);let mt=!0;if(3&u.type||b){const Pn=Ss(u,r),Hn=b?b(Pn):Pn,ur=Ve.length,In=b?Ii=>b(ui(Ii[u.index])):u.index;let ai=null;if(!b&&O&&(ai=function gy(n,r,o,u){const f=n.cleanup;if(null!=f)for(let v=0;v<f.length-1;v+=2){const b=f[v];if(b===o&&f[v+1]===u){const O=r[Bs],V=f[v+2];return O.length>V?O[V]:null}"string"==typeof b&&(v+=2)}return null}(n,r,f,u.index)),null!==ai)(ai.__ngLastListenerFn__||ai).__ngNextListenerFn__=v,ai.__ngLastListenerFn__=v,mt=!1;else{v=sv(u,r,ve,v,!1);const Ii=o.listen(Hn,f,v);Ve.push(v,Ii),ne&&ne.push(f,In,ur,ur+1)}}else v=sv(u,r,ve,v,!1);const Nt=u.outputs;let ln;if(mt&&null!==Nt&&(ln=Nt[f])){const Pn=ln.length;if(Pn)for(let Hn=0;Hn<Pn;Hn+=2){const Es=r[ln[Hn]][ln[Hn+1]].subscribe(v),xu=Ve.length;Ve.push(v,Es),ne&&ne.push(f,u.index,xu,-(xu+1))}}}(v,f,f[Xn],b,n,r,u),iv}function Vv(n,r,o,u){try{return Zs(6,r,o),!1!==o(u)}catch(f){return Jm(n,f),!1}finally{Zs(7,r,o)}}function sv(n,r,o,u,f){return function v(b){if(b===Function)return u;Ld(n.componentOffset>-1?zs(n.index,r):r);let V=Vv(r,o,u,b),ne=v.__ngNextListenerFn__;for(;ne;)V=Vv(r,o,ne,b)&&V,ne=ne.__ngNextListenerFn__;return f&&!1===V&&(b.preventDefault(),b.returnValue=!1),V}}function ov(n=1){return function Tc(n){return(Ln.lFrame.contextLView=function No(n,r){for(;n>0;)r=r[Un],n--;return r}(n,Ln.lFrame.contextLView))[Xr]}(n)}function Uv(n,r){let o=null;const u=function Ji(n){const r=n.attrs;if(null!=r){const o=r.indexOf(5);if(!(1&o))return r[o+1]}return null}(n);for(let f=0;f<r.length;f++){const v=r[f];if("*"!==v){if(null===u?xs(n,v,!0):ws(u,v))return f}else o=f}return o}function av(n){const r=pn()[ar][bi];if(!r.projection){const u=r.projection=sl(n?n.length:1,null),f=u.slice();let v=r.child;for(;null!==v;){const b=n?Uv(v,n):0;null!==b&&(f[b]?f[b].projectionNext=v:u[b]=v,f[b]=v),v=v.next}}}function lv(n,r=0,o){const u=pn(),f=un(),v=Fl(f,hr+n,16,null,o||null);null===v.projection&&(v.projection=r),bc(),(!u[bs]||function yn(){return null!==Ln.skipHydrationRootTNode}())&&32!=(32&v.flags)&&function vo(n,r,o){Zf(r[Xn],0,r,o,Yp(n,o,r),Xp(o.parent||r[bi],o,r))}(f,u,v)}function my(n,r,o){return cm(n,"",r,"",o),my}function cm(n,r,o,u,f){const v=pn(),b=Fs(v,r,o,u);return b!==ri&&Wa(un(),As(),v,n,b,v[Xn],f,!1),cm}function wc(n,r){return n<<17|r<<2}function lu(n){return n>>17&32767}function uv(n){return 2|n}function Of(n){return(131068&n)>>2}function Ic(n,r){return-131069&n|r<<2}function cv(n){return 1|n}function zv(n,r,o,u,f){const v=n[o+1],b=null===r;let O=u?lu(v):Of(v),V=!1;for(;0!==O&&(!1===V||b);){const ve=n[O+1];D_(n[O],r)&&(V=!0,n[O+1]=u?cv(ve):uv(ve)),O=u?lu(ve):Of(ve)}V&&(n[o+1]=u?uv(v):cv(v))}function D_(n,r){return null===n||null==r||(Array.isArray(n)?n[1]:n)===r||!(!Array.isArray(n)||"string"!=typeof r)&&Qi(n,r)>=0}function dv(n,r){return function na(n,r,o,u){const f=pn(),v=un(),b=function Eo(n){const r=Ln.lFrame,o=r.bindingIndex;return r.bindingIndex=r.bindingIndex+n,o}(2);v.firstUpdatePass&&function Zv(n,r,o,u){const f=n.data;if(null===f[o+1]){const v=f[oo()],b=function Yv(n,r){return r>=n.expandoStartIndex}(n,o);(function B(n,r){return 0!=(n.flags&(r?8:16))})(v,u)&&null===r&&!b&&(r=!1),r=function P_(n,r,o,u){const f=function Nu(n){const r=Ln.lFrame.currentDirectiveIndex;return-1===r?null:n[r]}(n);let v=u?r.residualClasses:r.residualStyles;if(null===f)0===(u?r.classBindings:r.styleBindings)&&(o=vy(o=Qv(null,n,r,o,u),r.attrs,u),v=null);else{const b=r.directiveStylingLast;if(-1===b||n[b]!==f)if(o=Qv(f,n,r,o,u),null===v){let V=function O_(n,r,o){const u=o?r.classBindings:r.styleBindings;if(0!==Of(u))return n[lu(u)]}(n,r,u);void 0!==V&&Array.isArray(V)&&(V=Qv(null,n,r,V[1],u),V=vy(V,r.attrs,u),function N_(n,r,o,u){n[lu(o?r.classBindings:r.styleBindings)]=u}(n,r,u,V))}else v=function k_(n,r,o){let u;const f=r.directiveEnd;for(let v=1+r.directiveStylingLast;v<f;v++)u=vy(u,n[v].hostAttrs,o);return vy(u,r.attrs,o)}(n,r,u)}return void 0!==v&&(u?r.residualClasses=v:r.residualStyles=v),o}(f,v,r,u),function C_(n,r,o,u,f,v){let b=v?r.classBindings:r.styleBindings,O=lu(b),V=Of(b);n[u]=o;let ve,ne=!1;if(Array.isArray(o)?(ve=o[1],(null===ve||Qi(o,ve)>0)&&(ne=!0)):ve=o,f)if(0!==V){const mt=lu(n[O+1]);n[u+1]=wc(mt,O),0!==mt&&(n[mt+1]=Ic(n[mt+1],u)),n[O+1]=function w_(n,r){return 131071&n|r<<17}(n[O+1],u)}else n[u+1]=wc(O,0),0!==O&&(n[O+1]=Ic(n[O+1],u)),O=u;else n[u+1]=wc(V,0),0===O?O=u:n[V+1]=Ic(n[V+1],u),V=u;ne&&(n[u+1]=uv(n[u+1])),zv(n,ve,u,!0),zv(n,ve,u,!1),function b_(n,r,o,u,f){const v=f?n.residualClasses:n.residualStyles;null!=v&&"string"==typeof r&&Qi(v,r)>=0&&(o[u+1]=cv(o[u+1]))}(r,ve,n,u,v),b=wc(O,V),v?r.classBindings=b:r.styleBindings=b}(f,v,r,o,b,u)}}(v,n,b,u),r!==ri&&bo(f,b,r)&&function a(n,r,o,u,f,v,b,O){if(!(3&r.type))return;const V=n.data,ne=V[O+1],ve=function I_(n){return 1==(1&n)}(ne)?d(V,r,o,f,Of(ne),b):void 0;p(ve)||(p(v)||function Pf(n){return 2==(2&n)}(ne)&&(v=d(V,null,o,f,O,b)),function Rh(n,r,o,u,f){if(r)f?n.addClass(o,u):n.removeClass(o,u);else{let v=-1===u.indexOf("-")?void 0:Ca.DashCase;null==f?n.removeStyle(o,u,v):("string"==typeof f&&f.endsWith("!important")&&(f=f.slice(0,-10),v|=Ca.Important),n.setStyle(o,u,f,v))}}(u,b,va(oo(),o),f,v))}(v,v.data[oo()],f,f[Xn],n,f[b+1]=function E(n,r){return null==n||""===n||("string"==typeof r?n+=r:"object"==typeof n&&(n=Fe(Iu(n)))),n}(r,o),u,b)}(n,r,null,!0),dv}function Qv(n,r,o,u,f){let v=null;const b=o.directiveEnd;let O=o.directiveStylingLast;for(-1===O?O=o.directiveStart:O++;O<b&&(v=r[O],u=vy(u,v.hostAttrs,f),v!==n);)O++;return null!==n&&(o.directiveStylingLast=O),u}function vy(n,r,o){const u=o?1:2;let f=-1;if(null!==r)for(let v=0;v<r.length;v++){const b=r[v];"number"==typeof b?f=b:f===u&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),Zi(n,b,!!o||r[++v]))}return void 0===n?null:n}function d(n,r,o,u,f,v){const b=null===r;let O;for(;f>0;){const V=n[f],ne=Array.isArray(V),ve=ne?V[1]:V,Ve=null===ve;let mt=o[f+1];mt===ri&&(mt=Ve?$e:void 0);let Nt=Ve?gu(mt,u):ve===u?mt:void 0;if(ne&&!p(Nt)&&(Nt=gu(V,u)),p(Nt)&&(O=Nt,b))return O;const ln=n[f+1];f=b?lu(ln):Of(ln)}if(null!==r){let V=v?r.residualClasses:r.residualStyles;null!=V&&(O=gu(V,u))}return O}function p(n){return void 0!==n}function Y(n,r=""){const o=pn(),u=un(),f=n+hr,v=u.firstCreatePass?Fl(u,f,1,r,null):u.data[f],b=ae(u,o,v,r,n);o[f]=b,nl()&&qf(u,o,b,v),_a(v,!1)}let ae=(n,r,o,u,f)=>(ao(!0),function Th(n,r){return n.createText(r)}(r[Xn],u));function Ut(n){return on("",n,""),Ut}function on(n,r,o){const u=pn(),f=Fs(u,n,r,o);return f!==ri&&function qa(n,r,o){const u=va(r,n);!function zp(n,r,o){n.setValue(r,o)}(n[Xn],u,o)}(u,oo(),f),on}const hm=void 0;var fI=["en",[["a","p"],["AM","PM"],hm],[["AM","PM"],hm,hm],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],hm,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],hm,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",hm,"{1} 'at' {0}",hm],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function hI(n){const o=Math.floor(Math.abs(n)),u=n.toString().replace(/^[^.]*\.?/,"").length;return 1===o&&0===u?1:5}];let _y={};function F_(n){const r=function pI(n){return n.toLowerCase().replace(/_/g,"-")}(n);let o=V0(r);if(o)return o;const u=r.split("-")[0];if(o=V0(u),o)return o;if("en"===u)return fI;throw new De(701,!1)}function $0(n){return F_(n)[ei.PluralCase]}function V0(n){return n in _y||(_y[n]=wn.ng&&wn.ng.common&&wn.ng.common.locales&&wn.ng.common.locales[n]),_y[n]}var ei=(()=>((ei=ei||{})[ei.LocaleId=0]="LocaleId",ei[ei.DayPeriodsFormat=1]="DayPeriodsFormat",ei[ei.DayPeriodsStandalone=2]="DayPeriodsStandalone",ei[ei.DaysFormat=3]="DaysFormat",ei[ei.DaysStandalone=4]="DaysStandalone",ei[ei.MonthsFormat=5]="MonthsFormat",ei[ei.MonthsStandalone=6]="MonthsStandalone",ei[ei.Eras=7]="Eras",ei[ei.FirstDayOfWeek=8]="FirstDayOfWeek",ei[ei.WeekendRange=9]="WeekendRange",ei[ei.DateFormat=10]="DateFormat",ei[ei.TimeFormat=11]="TimeFormat",ei[ei.DateTimeFormat=12]="DateTimeFormat",ei[ei.NumberSymbols=13]="NumberSymbols",ei[ei.NumberFormats=14]="NumberFormats",ei[ei.CurrencyCode=15]="CurrencyCode",ei[ei.CurrencySymbol=16]="CurrencySymbol",ei[ei.CurrencyName=17]="CurrencyName",ei[ei.Currencies=18]="Currencies",ei[ei.Directionality=19]="Directionality",ei[ei.PluralCase=20]="PluralCase",ei[ei.ExtraData=21]="ExtraData",ei))();const Ey="en-US";let U0=Ey;function $_(n,r,o,u,f){if(n=ge(n),Array.isArray(n))for(let v=0;v<n.length;v++)$_(n[v],r,o,u,f);else{const v=un(),b=pn();let O=dc(n)?n:ge(n.provide),V=xm(n);const ne=ni(),ve=1048575&ne.providerIndexes,Ve=ne.directiveStart,mt=ne.providerIndexes>>20;if(dc(n)||!n.multi){const Nt=new It(V,f,Aa),ln=U_(O,r,f?ve:ve+mt,Ve);-1===ln?(Vu(Bu(ne,b),v,O),V_(v,n,r.length),r.push(O),ne.directiveStart++,ne.directiveEnd++,f&&(ne.providerIndexes+=1048576),o.push(Nt),b.push(Nt)):(o[ln]=Nt,b[ln]=Nt)}else{const Nt=U_(O,r,ve+mt,Ve),ln=U_(O,r,ve,ve+mt),Hn=ln>=0&&o[ln];if(f&&!Hn||!f&&!(Nt>=0&&o[Nt])){Vu(Bu(ne,b),v,O);const ur=function dC(n,r,o,u,f){const v=new It(n,o,Aa);return v.multi=[],v.index=r,v.componentProviders=0,hE(v,f,u&&!o),v}(f?cC:uC,o.length,f,u,V);!f&&Hn&&(o[ln].providerFactory=ur),V_(v,n,r.length,0),r.push(O),ne.directiveStart++,ne.directiveEnd++,f&&(ne.providerIndexes+=1048576),o.push(ur),b.push(ur)}else V_(v,n,Nt>-1?Nt:ln,hE(o[f?ln:Nt],V,!f&&u));!f&&u&&Hn&&o[ln].componentProviders++}}}function V_(n,r,o,u){const f=dc(r),v=function Ly(n){return!!n.useClass}(r);if(f||v){const V=(v?ge(r.useClass):r).prototype.ngOnDestroy;if(V){const ne=n.destroyHooks||(n.destroyHooks=[]);if(!f&&r.multi){const ve=ne.indexOf(o);-1===ve?ne.push(o,[u,V]):ne[ve+1].push(u,V)}else ne.push(o,V)}}}function hE(n,r,o){return o&&n.componentProviders++,n.multi.push(r)-1}function U_(n,r,o,u){for(let f=o;f<u;f++)if(r[f]===n)return f;return-1}function uC(n,r,o,u){return j_(this.multi,[])}function cC(n,r,o,u){const f=this.multi;let v;if(this.providerFactory){const b=this.providerFactory.componentProviders,O=$i(o,o[Dn],this.providerFactory.index,u);v=O.slice(0,b),j_(f,v);for(let V=b;V<O.length;V++)v.push(O[V])}else v=[],j_(f,v);return v}function j_(n,r){for(let o=0;o<n.length;o++)r.push((0,n[o])());return r}function fE(n,r=[]){return o=>{o.providersResolver=(u,f)=>function lC(n,r,o){const u=un();if(u.firstCreatePass){const f=Vs(n);$_(o,u.data,u.blueprint,f,!0),$_(r,u.data,u.blueprint,f,!1)}}(u,f?f(n):n,r)}}class wy{}class pE{}function hC(n,r){return new H_(n,null!=r?r:null,[])}class H_ extends wy{constructor(r,o,u){super(),this._parent=o,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Xg(this);const f=En(r);this._bootstrapComponents=ru(f.bootstrap),this._r3Injector=pf(r,o,[{provide:wy,useValue:this},{provide:nf,useValue:this.componentFactoryResolver},...u],Fe(r),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(r)}get injector(){return this._r3Injector}destroy(){const r=this._r3Injector;!r.destroyed&&r.destroy(),this.destroyCbs.forEach(o=>o()),this.destroyCbs=null}onDestroy(r){this.destroyCbs.push(r)}}class z_ extends pE{constructor(r){super(),this.moduleType=r}create(r){return new H_(this.moduleType,r,[])}}class gE extends wy{constructor(r){super(),this.componentFactoryResolver=new Xg(this),this.instance=null;const o=new yg([...r.providers,{provide:wy,useValue:this},{provide:nf,useValue:this.componentFactoryResolver}],r.parent||Rd(),r.debugName,new Set(["environment"]));this.injector=o,r.runEnvironmentInitializers&&o.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(r){this.injector.onDestroy(r)}}function mE(n,r,o=null){return new gE({providers:n,parent:r,debugName:o,runEnvironmentInitializers:!0}).injector}let pC=(()=>{class n{constructor(o){this._injector=o,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(o){if(!o.standalone)return null;if(!this.cachedInjectors.has(o.id)){const u=uc(0,o.type),f=u.length>0?mE([u],this._injector,`Standalone[${o.type.name}]`):null;this.cachedInjectors.set(o.id,f)}return this.cachedInjectors.get(o.id)}ngOnDestroy(){try{for(const o of this.cachedInjectors.values())null!==o&&o.destroy()}finally{this.cachedInjectors.clear()}}}return n.\u0275prov=rt({token:n,providedIn:"environment",factory:()=>new n(Mt(hc))}),n})();function yE(n){n.getStandaloneInjector=r=>r.get(pC).getOrCreateStandaloneInjector(n)}function bE(n,r,o,u,f,v){const b=r+o;return bo(n,b,f)?function dl(n,r,o){return n[r]=o}(n,b+1,v?u.call(v,f):u(f)):function yv(n,r){const o=n[r];return o===ri?void 0:o}(n,b+1)}function ME(n,r){const o=un();let u;const f=n+hr;var v;o.firstCreatePass?(u=function OC(n,r){if(r)for(let o=r.length-1;o>=0;o--){const u=r[o];if(n===u.name)return u}}(r,o.pipeRegistry),o.data[f]=u,u.onDestroy&&(null!==(v=o.destroyHooks)&&void 0!==v?v:o.destroyHooks=[]).push(f,u.onDestroy)):u=o.data[f];const b=u.factory||(u.factory=fs(u.type)),O=Sn(Aa);try{const V=ko(!1),ne=b();return ko(V),function Pp(n,r,o,u){o>=n.data.length&&(n.data[o]=null,n.blueprint[o]=null),r[o]=u}(o,pn(),f,ne),ne}finally{Sn(O)}}function RE(n,r,o){const u=n+hr,f=pn(),v=ss(f,u);return function vv(n,r){return n[Dn].data[r].pure}(f,u)?bE(f,function Mi(){const n=Ln.lFrame;let r=n.bindingRootIndex;return-1===r&&(r=n.bindingRootIndex=n.tView.bindingStartIndex),r}(),r,v.transform,o,v):v.transform(o)}function W_(n){return r=>{setTimeout(n,void 0,r)}}const uh=class BC extends m.x{constructor(r=!1){super(),this.__isAsync=r}emit(r){super.next(r)}subscribe(r,o,u){let f=r,v=o||(()=>null),b=u;if(r&&"object"==typeof r){var O,V,ne;const Ve=r;f=null===(O=Ve.next)||void 0===O?void 0:O.bind(Ve),v=null===(V=Ve.error)||void 0===V?void 0:V.bind(Ve),b=null===(ne=Ve.complete)||void 0===ne?void 0:ne.bind(Ve)}this.__isAsync&&(v=W_(v),f&&(f=W_(f)),b&&(b=W_(b)));const ve=super.subscribe({next:f,error:v,complete:b});return r instanceof g.w0&&r.add(ve),ve}};function $C(){return this._results[Symbol.iterator]()}class K_{get changes(){return this._changes||(this._changes=new uh)}constructor(r=!1){this._emitDistinctChangesOnly=r,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const o=K_.prototype;o[Symbol.iterator]||(o[Symbol.iterator]=$C)}get(r){return this._results[r]}map(r){return this._results.map(r)}filter(r){return this._results.filter(r)}find(r){return this._results.find(r)}reduce(r,o){return this._results.reduce(r,o)}forEach(r){this._results.forEach(r)}some(r){return this._results.some(r)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(r,o){const u=this;u.dirty=!1;const f=function la(n){return n.flat(Number.POSITIVE_INFINITY)}(r);(this._changesDetected=!function Hu(n,r,o){if(n.length!==r.length)return!1;for(let u=0;u<n.length;u++){let f=n[u],v=r[u];if(o&&(f=o(f),v=o(v)),v!==f)return!1}return!0}(u._results,f,o))&&(u._results=f,u.length=f.length,u.last=f[this.length-1],u.first=f[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let _v=(()=>{class n{}return n.__NG_ELEMENT_ID__=jC,n})();const VC=_v,UC=class extends VC{constructor(r,o,u){super(),this._declarationLView=r,this._declarationTContainer=o,this.elementRef=u}get ssrId(){var r;return(null===(r=this._declarationTContainer.tView)||void 0===r?void 0:r.ssrId)||null}createEmbeddedView(r,o){return this.createEmbeddedViewImpl(r,o,null)}createEmbeddedViewImpl(r,o,u){const f=this._declarationTContainer.tView,v=fa(this._declarationLView,f,r,16,null,f.declTNode,null,null,null,o||null,u||null);v[mr]=this._declarationLView[this._declarationTContainer.index];const O=this._declarationLView[Wr];return null!==O&&(v[Wr]=O.createEmbeddedView(f)),qg(f,v,r),new Zd(v)}};function jC(){return i_(ni(),pn())}function i_(n,r){return 4&n.type?new UC(r,n,Cu(n,r)):null}let s_=(()=>{class n{}return n.__NG_ELEMENT_ID__=YC,n})();function YC(){return FE(ni(),pn())}const ZC=s_,NE=class extends ZC{constructor(r,o,u){super(),this._lContainer=r,this._hostTNode=o,this._hostLView=u}get element(){return Cu(this._hostTNode,this._hostLView)}get injector(){return new oa(this._hostTNode,this._hostLView)}get parentInjector(){const r=Mc(this._hostTNode,this._hostLView);if(Tl(r)){const o=Qo(r,this._hostLView),u=Oa(r);return new oa(o[Dn].data[u+8],o)}return new oa(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(r){const o=kE(this._lContainer);return null!==o&&o[r]||null}get length(){return this._lContainer.length-hi}createEmbeddedView(r,o,u){let f,v;"number"==typeof u?f=u:null!=u&&(f=u.index,v=u.injector);const O=r.createEmbeddedViewImpl(o||{},v,null);return this.insertImpl(O,f,!1),O}createComponent(r,o,u,f,v){var b,V;const ne=r&&!Ba(r);let ve;if(ne)ve=o;else{const ur=o||{};ve=ur.index,u=ur.injector,f=ur.projectableNodes,v=ur.environmentInjector||ur.ngModuleRef}const Ve=ne?r:new sd(nt(r)),mt=u||this.parentInjector;if(!v&&null==Ve.ngModule){const In=(ne?mt:this.parentInjector).get(hc,null);In&&(v=In)}const Nt=nt(null!==(b=Ve.componentType)&&void 0!==b?b:{}),ln=(null==Nt?void 0:Nt.id,null),Pn=null!==(V=null==ln?void 0:ln.firstChild)&&void 0!==V?V:null,Hn=Ve.create(mt,f,Pn,v);return this.insertImpl(Hn.hostView,ve,!!ln),Hn}insert(r,o){return this.insertImpl(r,o,!1)}insertImpl(r,o,u){const f=r._lView,v=f[Dn];if(function U(n){return Pi(n[Yr])}(f)){const V=this.indexOf(r);if(-1!==V)this.detach(V);else{const ne=f[Yr],ve=new NE(ne,ne[bi],ne[Yr]);ve.detach(ve.indexOf(r))}}const b=this._adjustIndex(o),O=this._lContainer;if(function Sy(n,r,o,u){const f=hi+u,v=o.length;u>0&&(o[f-1][Fi]=r),u<v-hi?(r[Fi]=o[f],zu(o,hi+u,r)):(o.push(r),r[Fi]=null),r[Yr]=o;const b=r[mr];null!==b&&o!==b&&function Io(n,r){const o=n[Ys];r[ar]!==r[Yr][Yr][ar]&&(n[ms]=!0),null===o?n[Ys]=[r]:o.push(r)}(b,r);const O=r[Wr];null!==O&&O.insertView(n),r[Er]|=128}(v,f,O,b),!u){const V=eg(b,O),ne=f[Xn],ve=wu(ne,O[is]);null!==ve&&function Wp(n,r,o,u,f,v){u[qr]=f,u[bi]=r,Mh(n,u,o,1,f,v)}(v,O[bi],ne,f,ve,V)}return r.attachToViewContainerRef(),zu(Y_(O),b,r),r}move(r,o){return this.insert(r,o)}indexOf(r){const o=kE(this._lContainer);return null!==o?o.indexOf(r):-1}remove(r){const o=this._adjustIndex(r,-1),u=jf(this._lContainer,o);u&&($a(Y_(this._lContainer),o),qp(u[Dn],u))}detach(r){const o=this._adjustIndex(r,-1),u=jf(this._lContainer,o);return u&&null!=$a(Y_(this._lContainer),o)?new Zd(u):null}_adjustIndex(r,o=0){return null==r?this.length+o:r}};function kE(n){return n[Os]}function Y_(n){return n[Os]||(n[Os]=[])}function FE(n,r){let o;const u=r[n.index];return Pi(u)?o=u:(o=Wg(u,r,null,n),r[n.index]=o,Ep(r,o)),LE(o,r,n,u),new NE(o,n,r)}let LE=function BE(n,r,o,u){if(n[is])return;let f;f=8&o.type?ui(u):function QC(n,r){const o=n[Xn],u=o.createComment(""),f=Ss(r,n);return rc(o,wu(o,f),u,function Qp(n,r){return n.nextSibling(r)}(o,f),!1),u}(r,o),n[is]=f};class Z_{constructor(r){this.queryList=r,this.matches=null}clone(){return new Z_(this.queryList)}setDirty(){this.queryList.setDirty()}}class Q_{constructor(r=[]){this.queries=r}createEmbeddedView(r){const o=r.queries;if(null!==o){const u=null!==r.contentQueries?r.contentQueries[0]:o.length,f=[];for(let v=0;v<u;v++){const b=o.getByIndex(v);f.push(this.queries[b.indexInDeclarationView].clone())}return new Q_(f)}return null}insertView(r){this.dirtyQueriesWithMatches(r)}detachView(r){this.dirtyQueriesWithMatches(r)}dirtyQueriesWithMatches(r){for(let o=0;o<this.queries.length;o++)null!==KE(r,o).matches&&this.queries[o].setDirty()}}class $E{constructor(r,o,u=null){this.predicate=r,this.flags=o,this.read=u}}class X_{constructor(r=[]){this.queries=r}elementStart(r,o){for(let u=0;u<this.queries.length;u++)this.queries[u].elementStart(r,o)}elementEnd(r){for(let o=0;o<this.queries.length;o++)this.queries[o].elementEnd(r)}embeddedTView(r){let o=null;for(let u=0;u<this.length;u++){const f=null!==o?o.length:0,v=this.getByIndex(u).embeddedTView(r,f);v&&(v.indexInDeclarationView=u,null!==o?o.push(v):o=[v])}return null!==o?new X_(o):null}template(r,o){for(let u=0;u<this.queries.length;u++)this.queries[u].template(r,o)}getByIndex(r){return this.queries[r]}get length(){return this.queries.length}track(r){this.queries.push(r)}}class J_{constructor(r,o=-1){this.metadata=r,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=o}elementStart(r,o){this.isApplyingToNode(o)&&this.matchTNode(r,o)}elementEnd(r){this._declarationNodeIndex===r.index&&(this._appliesToNextNode=!1)}template(r,o){this.elementStart(r,o)}embeddedTView(r,o){return this.isApplyingToNode(r)?(this.crossesNgTemplate=!0,this.addMatch(-r.index,o),new J_(this.metadata)):null}isApplyingToNode(r){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const o=this._declarationNodeIndex;let u=r.parent;for(;null!==u&&8&u.type&&u.index!==o;)u=u.parent;return o===(null!==u?u.index:-1)}return this._appliesToNextNode}matchTNode(r,o){const u=this.metadata.predicate;if(Array.isArray(u))for(let f=0;f<u.length;f++){const v=u[f];this.matchTNodeWithReadOption(r,o,eb(o,v)),this.matchTNodeWithReadOption(r,o,Wl(o,r,v,!1,!1))}else u===_v?4&o.type&&this.matchTNodeWithReadOption(r,o,-1):this.matchTNodeWithReadOption(r,o,Wl(o,r,u,!1,!1))}matchTNodeWithReadOption(r,o,u){if(null!==u){const f=this.metadata.read;if(null!==f)if(f===ed||f===s_||f===_v&&4&o.type)this.addMatch(o.index,-2);else{const v=Wl(o,r,f,!1,!1);null!==v&&this.addMatch(o.index,v)}else this.addMatch(o.index,u)}}addMatch(r,o){null===this.matches?this.matches=[r,o]:this.matches.push(r,o)}}function eb(n,r){const o=n.localNames;if(null!==o)for(let u=0;u<o.length;u+=2)if(o[u]===r)return o[u+1];return null}function nb(n,r,o,u){return-1===o?function tb(n,r){return 11&n.type?Cu(n,r):4&n.type?i_(n,r):null}(r,n):-2===o?function rb(n,r,o){return o===ed?Cu(r,n):o===_v?i_(r,n):o===s_?FE(r,n):void 0}(n,r,u):$i(n,n[Dn],o,r)}function VE(n,r,o,u){const f=r[Wr].queries[u];if(null===f.matches){const v=n.data,b=o.matches,O=[];for(let V=0;V<b.length;V+=2){const ne=b[V];O.push(ne<0?null:nb(r,v[ne],b[V+1],o.metadata.read))}f.matches=O}return f.matches}function e0(n,r,o,u){const f=n.queries.getByIndex(o),v=f.matches;if(null!==v){const b=VE(n,r,f,o);for(let O=0;O<v.length;O+=2){const V=v[O];if(V>0)u.push(b[O/2]);else{const ne=v[O+1],ve=r[-V];for(let Ve=hi;Ve<ve.length;Ve++){const mt=ve[Ve];mt[mr]===mt[Yr]&&e0(mt[Dn],mt,ne,u)}if(null!==ve[Ys]){const Ve=ve[Ys];for(let mt=0;mt<Ve.length;mt++){const Nt=Ve[mt];e0(Nt[Dn],Nt,ne,u)}}}}}return u}function UE(n){const r=pn(),o=un(),u=Yi();Fn(u+1);const f=KE(o,u);if(n.dirty&&function Pu(n){return 4==(4&n[Er])}(r)===(2==(2&f.metadata.flags))){if(null===f.matches)n.reset([]);else{const v=f.crossesNgTemplate?e0(o,r,u,[]):VE(o,r,f,u);n.reset(v,Hy),n.notifyOnChanges()}return!0}return!1}function jE(n,r,o){const u=un();u.firstCreatePass&&(WE(u,new $E(n,r,o),-1),2==(2&r)&&(u.staticViewQueries=!0)),GE(u,pn(),r)}function HE(n,r,o,u){const f=un();if(f.firstCreatePass){const v=ni();WE(f,new $E(r,o,u),v.index),function sb(n,r){const o=n.contentQueries||(n.contentQueries=[]);r!==(o.length?o[o.length-1]:-1)&&o.push(n.queries.length-1,r)}(f,n),2==(2&o)&&(f.staticContentQueries=!0)}GE(f,pn(),o)}function zE(){return function ib(n,r){return n[Wr].queries[r].queryList}(pn(),Yi())}function GE(n,r,o){const u=new K_(4==(4&o));(function Yy(n,r,o,u){const f=id(r);f.push(o),n.firstCreatePass&&Xm(n).push(u,f.length-1)})(n,r,u,u.destroy),null===r[Wr]&&(r[Wr]=new Q_),r[Wr].queries.push(new Z_(u))}function WE(n,r,o){null===n.queries&&(n.queries=new X_),n.queries.track(new J_(r,o))}function KE(n,r){return n.queries.getByIndex(r)}function t0(n){return!!En(n)}const cw=new cs("Application Initializer");let a0=(()=>{class n{constructor(){var o;this.initialized=!1,this.done=!1,this.donePromise=new Promise((u,f)=>{this.resolve=u,this.reject=f}),this.appInits=null!==(o=hn(cw,{optional:!0}))&&void 0!==o?o:[]}runInitializers(){if(this.initialized)return;const o=[];for(const f of this.appInits){const v=f();if(rv(v))o.push(v);else if(um(v)){const b=new Promise((O,V)=>{v.subscribe({complete:O,error:V})});o.push(b)}}const u=()=>{this.done=!0,this.resolve()};Promise.all(o).then(()=>{u()}).catch(f=>{this.reject(f)}),0===o.length&&u(),this.initialized=!0}}return n.\u0275fac=function(o){return new(o||n)},n.\u0275prov=rt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),dw=(()=>{class n{log(o){console.log(o)}warn(o){console.warn(o)}}return n.\u0275fac=function(o){return new(o||n)},n.\u0275prov=rt({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const a_=new cs("LocaleId",{providedIn:"root",factory:()=>hn(a_,tn.Optional|tn.SkipSelf)||function Sb(){return typeof $localize<"u"&&$localize.locale||Ey}()}),Ab=new cs("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class Mb{constructor(r,o){this.ngModuleFactory=r,this.componentFactories=o}}let Rb=(()=>{class n{compileModuleSync(o){return new z_(o)}compileModuleAsync(o){return Promise.resolve(this.compileModuleSync(o))}compileModuleAndAllComponentsSync(o){const u=this.compileModuleSync(o),v=ru(En(o).declarations).reduce((b,O)=>{const V=nt(O);return V&&b.push(new sd(V)),b},[]);return new Mb(u,v)}compileModuleAndAllComponentsAsync(o){return Promise.resolve(this.compileModuleAndAllComponentsSync(o))}clearCache(){}clearCacheFor(o){}getModuleId(o){}}return n.\u0275fac=function(o){return new(o||n)},n.\u0275prov=rt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Ob=(()=>Promise.resolve(0))();function l0(n){typeof Zone>"u"?Ob.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}function pw(...n){}class yl{constructor({enableLongStackTrace:r=!1,shouldCoalesceEventChangeDetection:o=!1,shouldCoalesceRunChangeDetection:u=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new uh(!1),this.onMicrotaskEmpty=new uh(!1),this.onStable=new uh(!1),this.onError=new uh(!1),typeof Zone>"u")throw new De(908,!1);Zone.assertZonePatched();const f=this;f._nesting=0,f._outer=f._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(f._inner=f._inner.fork(new Zone.TaskTrackingZoneSpec)),r&&Zone.longStackTraceZoneSpec&&(f._inner=f._inner.fork(Zone.longStackTraceZoneSpec)),f.shouldCoalesceEventChangeDetection=!u&&o,f.shouldCoalesceRunChangeDetection=u,f.lastRequestAnimationFrameId=-1,f.nativeRequestAnimationFrame=function Nb(){let n=wn.requestAnimationFrame,r=wn.cancelAnimationFrame;if(typeof Zone<"u"&&n&&r){const o=n[Zone.__symbol__("OriginalDelegate")];o&&(n=o);const u=r[Zone.__symbol__("OriginalDelegate")];u&&(r=u)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:r}}().nativeRequestAnimationFrame,function Lb(n){const r=()=>{!function Fb(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(wn,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,c0(n),n.isCheckStableRunning=!0,u0(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),c0(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(o,u,f,v,b,O)=>{try{return gw(n),o.invokeTask(f,v,b,O)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===v.type||n.shouldCoalesceRunChangeDetection)&&r(),mw(n)}},onInvoke:(o,u,f,v,b,O,V)=>{try{return gw(n),o.invoke(f,v,b,O,V)}finally{n.shouldCoalesceRunChangeDetection&&r(),mw(n)}},onHasTask:(o,u,f,v)=>{o.hasTask(f,v),u===f&&("microTask"==v.change?(n._hasPendingMicrotasks=v.microTask,c0(n),u0(n)):"macroTask"==v.change&&(n.hasPendingMacrotasks=v.macroTask))},onHandleError:(o,u,f,v)=>(o.handleError(f,v),n.runOutsideAngular(()=>n.onError.emit(v)),!1)})}(f)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!yl.isInAngularZone())throw new De(909,!1)}static assertNotInAngularZone(){if(yl.isInAngularZone())throw new De(909,!1)}run(r,o,u){return this._inner.run(r,o,u)}runTask(r,o,u,f){const v=this._inner,b=v.scheduleEventTask("NgZoneEvent: "+f,r,kb,pw,pw);try{return v.runTask(b,o,u)}finally{v.cancelTask(b)}}runGuarded(r,o,u){return this._inner.runGuarded(r,o,u)}runOutsideAngular(r){return this._outer.run(r)}}const kb={};function u0(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function c0(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function gw(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function mw(n){n._nesting--,u0(n)}class Bb{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new uh,this.onMicrotaskEmpty=new uh,this.onStable=new uh,this.onError=new uh}run(r,o,u){return r.apply(o,u)}runGuarded(r,o,u){return r.apply(o,u)}runOutsideAngular(r){return r()}runTask(r,o,u,f){return r.apply(o,u)}}const yw=new cs("",{providedIn:"root",factory:vw});function vw(){const n=hn(yl);let r=!0;const o=new le.y(f=>{r=n.isStable&&!n.hasPendingMacrotasks&&!n.hasPendingMicrotasks,n.runOutsideAngular(()=>{f.next(r),f.complete()})}),u=new le.y(f=>{let v;n.runOutsideAngular(()=>{v=n.onStable.subscribe(()=>{yl.assertNotInAngularZone(),l0(()=>{!r&&!n.hasPendingMacrotasks&&!n.hasPendingMicrotasks&&(r=!0,f.next(!0))})})});const b=n.onUnstable.subscribe(()=>{yl.assertInAngularZone(),r&&(r=!1,n.runOutsideAngular(()=>{f.next(!1)}))});return()=>{v.unsubscribe(),b.unsubscribe()}});return(0,_e.T)(o,u.pipe((0,Le.B)()))}const _w=new cs(""),Ew=new cs("");let d0,$b=(()=>{class n{constructor(o,u,f){this._ngZone=o,this.registry=u,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,d0||(function Vb(n){d0=n}(f),f.addToWindow(u)),this._watchAngularEvents(),o.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{yl.assertNotInAngularZone(),l0(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())l0(()=>{for(;0!==this._callbacks.length;){let o=this._callbacks.pop();clearTimeout(o.timeoutId),o.doneCb(this._didWork)}this._didWork=!1});else{let o=this.getPendingTasks();this._callbacks=this._callbacks.filter(u=>!u.updateCb||!u.updateCb(o)||(clearTimeout(u.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(o=>({source:o.source,creationLocation:o.creationLocation,data:o.data})):[]}addCallback(o,u,f){let v=-1;u&&u>0&&(v=setTimeout(()=>{this._callbacks=this._callbacks.filter(b=>b.timeoutId!==v),o(this._didWork,this.getPendingTasks())},u)),this._callbacks.push({doneCb:o,timeoutId:v,updateCb:f})}whenStable(o,u,f){if(f&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(o,u,f),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(o){this.registry.registerApplication(o,this)}unregisterApplication(o){this.registry.unregisterApplication(o)}findProviders(o,u,f){return[]}}return n.\u0275fac=function(o){return new(o||n)(Mt(yl),Mt(ww),Mt(Ew))},n.\u0275prov=rt({token:n,factory:n.\u0275fac}),n})(),ww=(()=>{class n{constructor(){this._applications=new Map}registerApplication(o,u){this._applications.set(o,u)}unregisterApplication(o){this._applications.delete(o)}unregisterAllApplications(){this._applications.clear()}getTestability(o){return this._applications.get(o)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(o,u=!0){var f,v;return null!==(f=null===(v=d0)||void 0===v?void 0:v.findTestabilityInTree(this,o,u))&&void 0!==f?f:null}}return n.\u0275fac=function(o){return new(o||n)},n.\u0275prov=rt({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})(),Lp=null;const Iw=new cs("AllowMultipleToken"),h0=new cs("PlatformDestroyListeners"),f0=new cs("appBootstrapListener");class Hb{constructor(r,o){this.name=r,this.token=o}}function Dw(n,r,o=[]){const u=`Platform: ${r}`,f=new cs(u);return(v=[])=>{let b=p0();if(!b||b.injector.get(Iw,!1)){const O=[...o,...v,{provide:f,useValue:!0}];n?n(O):function zb(n){if(Lp&&!Lp.get(Iw,!1))throw new De(400,!1);(function Cw(){!function Wi(n){Di=n}(()=>{throw new De(600,!1)})})(),Lp=n;const r=n.get(Sw);(function bw(n){const r=n.get(Om,null);null==r||r.forEach(o=>o())})(n)}(function Tw(n=[],r){return Ga.create({name:r,providers:[{provide:Md,useValue:"platform"},{provide:h0,useValue:new Set([()=>Lp=null])},...n]})}(O,u))}return function Wb(n){const r=p0();if(!r)throw new De(401,!1);return r}()}}function p0(){var n,r;return null!==(n=null===(r=Lp)||void 0===r?void 0:r.get(Sw))&&void 0!==n?n:null}let Sw=(()=>{class n{constructor(o){this._injector=o,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(o,u){const f=function Kb(n="zone.js",r){return"noop"===n?new Bb:"zone.js"===n?new yl(r):n}(null==u?void 0:u.ngZone,function Aw(n){var r,o;return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:null!==(r=null==n?void 0:n.eventCoalescing)&&void 0!==r&&r,shouldCoalesceRunChangeDetection:null!==(o=null==n?void 0:n.runCoalescing)&&void 0!==o&&o}}({eventCoalescing:null==u?void 0:u.ngZoneEventCoalescing,runCoalescing:null==u?void 0:u.ngZoneRunCoalescing}));return f.run(()=>{const v=function fC(n,r,o){return new H_(n,r,o)}(o.moduleType,this.injector,function Ow(n){return[{provide:yl,useFactory:n},{provide:Ro,multi:!0,useFactory:()=>{const r=hn(Yb,{optional:!0});return()=>r.initialize()}},{provide:Pw,useFactory:qb},{provide:yw,useFactory:vw}]}(()=>f)),b=v.injector.get(Bd,null);return f.runOutsideAngular(()=>{const O=f.onError.subscribe({next:V=>{b.handleError(V)}});v.onDestroy(()=>{l_(this._modules,v),O.unsubscribe()})}),function Mw(n,r,o){try{const u=o();return rv(u)?u.catch(f=>{throw r.runOutsideAngular(()=>n.handleError(f)),f}):u}catch(u){throw r.runOutsideAngular(()=>n.handleError(u)),u}}(b,f,()=>{const O=v.injector.get(a0);return O.runInitializers(),O.donePromise.then(()=>(function j0(n){ht(n,"Expected localeId to be defined"),"string"==typeof n&&(U0=n.toLowerCase().replace(/_/g,"-"))}(v.injector.get(a_,Ey)||Ey),this._moduleDoBootstrap(v),v))})})}bootstrapModule(o,u=[]){const f=Rw({},u);return function Ub(n,r,o){const u=new z_(o);return Promise.resolve(u)}(0,0,o).then(v=>this.bootstrapModuleFactory(v,f))}_moduleDoBootstrap(o){const u=o.injector.get(by);if(o._bootstrapComponents.length>0)o._bootstrapComponents.forEach(f=>u.bootstrap(f));else{if(!o.instance.ngDoBootstrap)throw new De(-403,!1);o.instance.ngDoBootstrap(u)}this._modules.push(o)}onDestroy(o){this._destroyListeners.push(o)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new De(404,!1);this._modules.slice().forEach(u=>u.destroy()),this._destroyListeners.forEach(u=>u());const o=this._injector.get(h0,null);o&&(o.forEach(u=>u()),o.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(o){return new(o||n)(Mt(Ga))},n.\u0275prov=rt({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();function Rw(n,r){return Array.isArray(r)?r.reduce(Rw,n):{...n,...r}}let by=(()=>{class n{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=hn(Pw),this.componentTypes=[],this.components=[],this.isStable=hn(yw),this._injector=hn(hc)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(o,u){const f=o instanceof tf;if(!this._injector.get(a0).done)throw!f&&gn(o),new De(405,!1);let b;b=f?o:this._injector.get(nf).resolveComponentFactory(o),this.componentTypes.push(b.componentType);const O=function jb(n){return n.isBoundToModule}(b)?void 0:this._injector.get(wy),ne=b.create(Ga.NULL,[],u||b.selector,O),ve=ne.location.nativeElement,Ve=ne.injector.get(_w,null);return null==Ve||Ve.registerApplication(ve),ne.onDestroy(()=>{this.detachView(ne.hostView),l_(this.components,ne),null==Ve||Ve.unregisterApplication(ve)}),this._loadComponent(ne),ne}tick(){if(this._runningTick)throw new De(101,!1);try{this._runningTick=!0;for(let o of this._views)o.detectChanges()}catch(o){this.internalErrorHandler(o)}finally{this._runningTick=!1}}attachView(o){const u=o;this._views.push(u),u.attachToAppRef(this)}detachView(o){const u=o;l_(this._views,u),u.detachFromAppRef()}_loadComponent(o){this.attachView(o.hostView),this.tick(),this.components.push(o);const u=this._injector.get(f0,[]);u.push(...this._bootstrapListeners),u.forEach(f=>f(o))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(o=>o()),this._views.slice().forEach(o=>o.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(o){return this._destroyListeners.push(o),()=>l_(this._destroyListeners,o)}destroy(){if(this._destroyed)throw new De(406,!1);const o=this._injector;o.destroy&&!o.destroyed&&o.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return n.\u0275fac=function(o){return new(o||n)},n.\u0275prov=rt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function l_(n,r){const o=n.indexOf(r);o>-1&&n.splice(o,1)}const Pw=new cs("",{providedIn:"root",factory:()=>hn(Bd).handleError.bind(void 0)});function qb(){const n=hn(yl),r=hn(Bd);return o=>n.runOutsideAngular(()=>r.handleError(o))}let Yb=(()=>{class n{constructor(){this.zone=hn(yl),this.applicationRef=hn(by)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){var o;null===(o=this._onMicrotaskEmptySubscription)||void 0===o||o.unsubscribe()}}return n.\u0275fac=function(o){return new(o||n)},n.\u0275prov=rt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Qb(){return!1}function Xb(){}let Jb=(()=>{class n{}return n.__NG_ELEMENT_ID__=eD,n})();function eD(n){return function tD(n,r,o){if(So(n)&&!o){const u=zs(n.index,r);return new Zd(u,u)}return 47&n.type?new Zd(r[ar],r):null}(ni(),pn(),16==(16&n))}class Lw{constructor(){}supports(r){return Rp(r)}create(r){return new aD(r)}}const oD=(n,r)=>r;class aD{constructor(r){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=r||oD}forEachItem(r){let o;for(o=this._itHead;null!==o;o=o._next)r(o)}forEachOperation(r){let o=this._itHead,u=this._removalsHead,f=0,v=null;for(;o||u;){const b=!u||o&&o.currentIndex<$w(u,f,v)?o:u,O=$w(b,f,v),V=b.currentIndex;if(b===u)f--,u=u._nextRemoved;else if(o=o._next,null==b.previousIndex)f++;else{v||(v=[]);const ne=O-f,ve=V-f;if(ne!=ve){for(let mt=0;mt<ne;mt++){const Nt=mt<v.length?v[mt]:v[mt]=0,ln=Nt+mt;ve<=ln&&ln<ne&&(v[mt]=Nt+1)}v[b.previousIndex]=ve-ne}}O!==V&&r(b,O,V)}}forEachPreviousItem(r){let o;for(o=this._previousItHead;null!==o;o=o._nextPrevious)r(o)}forEachAddedItem(r){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)r(o)}forEachMovedItem(r){let o;for(o=this._movesHead;null!==o;o=o._nextMoved)r(o)}forEachRemovedItem(r){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)r(o)}forEachIdentityChange(r){let o;for(o=this._identityChangesHead;null!==o;o=o._nextIdentityChange)r(o)}diff(r){if(null==r&&(r=[]),!Rp(r))throw new De(900,!1);return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let f,v,b,o=this._itHead,u=!1;if(Array.isArray(r)){this.length=r.length;for(let O=0;O<this.length;O++)v=r[O],b=this._trackByFn(O,v),null!==o&&Object.is(o.trackById,b)?(u&&(o=this._verifyReinsertion(o,v,b,O)),Object.is(o.item,v)||this._addIdentityChange(o,v)):(o=this._mismatch(o,v,b,O),u=!0),o=o._next}else f=0,function ly(n,r){if(Array.isArray(n))for(let o=0;o<n.length;o++)r(n[o]);else{const o=n[Symbol.iterator]();let u;for(;!(u=o.next()).done;)r(u.value)}}(r,O=>{b=this._trackByFn(f,O),null!==o&&Object.is(o.trackById,b)?(u&&(o=this._verifyReinsertion(o,O,b,f)),Object.is(o.item,O)||this._addIdentityChange(o,O)):(o=this._mismatch(o,O,b,f),u=!0),o=o._next,f++}),this.length=f;return this._truncate(o),this.collection=r,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let r;for(r=this._previousItHead=this._itHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._additionsHead;null!==r;r=r._nextAdded)r.previousIndex=r.currentIndex;for(this._additionsHead=this._additionsTail=null,r=this._movesHead;null!==r;r=r._nextMoved)r.previousIndex=r.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(r,o,u,f){let v;return null===r?v=this._itTail:(v=r._prev,this._remove(r)),null!==(r=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null))?(Object.is(r.item,o)||this._addIdentityChange(r,o),this._reinsertAfter(r,v,f)):null!==(r=null===this._linkedRecords?null:this._linkedRecords.get(u,f))?(Object.is(r.item,o)||this._addIdentityChange(r,o),this._moveAfter(r,v,f)):r=this._addAfter(new lD(o,u),v,f),r}_verifyReinsertion(r,o,u,f){let v=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null);return null!==v?r=this._reinsertAfter(v,r._prev,f):r.currentIndex!=f&&(r.currentIndex=f,this._addToMoves(r,f)),r}_truncate(r){for(;null!==r;){const o=r._next;this._addToRemovals(this._unlink(r)),r=o}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(r,o,u){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(r);const f=r._prevRemoved,v=r._nextRemoved;return null===f?this._removalsHead=v:f._nextRemoved=v,null===v?this._removalsTail=f:v._prevRemoved=f,this._insertAfter(r,o,u),this._addToMoves(r,u),r}_moveAfter(r,o,u){return this._unlink(r),this._insertAfter(r,o,u),this._addToMoves(r,u),r}_addAfter(r,o,u){return this._insertAfter(r,o,u),this._additionsTail=null===this._additionsTail?this._additionsHead=r:this._additionsTail._nextAdded=r,r}_insertAfter(r,o,u){const f=null===o?this._itHead:o._next;return r._next=f,r._prev=o,null===f?this._itTail=r:f._prev=r,null===o?this._itHead=r:o._next=r,null===this._linkedRecords&&(this._linkedRecords=new Bw),this._linkedRecords.put(r),r.currentIndex=u,r}_remove(r){return this._addToRemovals(this._unlink(r))}_unlink(r){null!==this._linkedRecords&&this._linkedRecords.remove(r);const o=r._prev,u=r._next;return null===o?this._itHead=u:o._next=u,null===u?this._itTail=o:u._prev=o,r}_addToMoves(r,o){return r.previousIndex===o||(this._movesTail=null===this._movesTail?this._movesHead=r:this._movesTail._nextMoved=r),r}_addToRemovals(r){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Bw),this._unlinkedRecords.put(r),r.currentIndex=null,r._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=r,r._prevRemoved=null):(r._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=r),r}_addIdentityChange(r,o){return r.item=o,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=r:this._identityChangesTail._nextIdentityChange=r,r}}class lD{constructor(r,o){this.item=r,this.trackById=o,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class uD{constructor(){this._head=null,this._tail=null}add(r){null===this._head?(this._head=this._tail=r,r._nextDup=null,r._prevDup=null):(this._tail._nextDup=r,r._prevDup=this._tail,r._nextDup=null,this._tail=r)}get(r,o){let u;for(u=this._head;null!==u;u=u._nextDup)if((null===o||o<=u.currentIndex)&&Object.is(u.trackById,r))return u;return null}remove(r){const o=r._prevDup,u=r._nextDup;return null===o?this._head=u:o._nextDup=u,null===u?this._tail=o:u._prevDup=o,null===this._head}}class Bw{constructor(){this.map=new Map}put(r){const o=r.trackById;let u=this.map.get(o);u||(u=new uD,this.map.set(o,u)),u.add(r)}get(r,o){const f=this.map.get(r);return f?f.get(r,o):null}remove(r){const o=r.trackById;return this.map.get(o).remove(r)&&this.map.delete(o),r}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function $w(n,r,o){const u=n.previousIndex;if(null===u)return u;let f=0;return o&&u<o.length&&(f=o[u]),u+r+f}class Vw{constructor(){}supports(r){return r instanceof Map||th(r)}create(){return new cD}}class cD{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(r){let o;for(o=this._mapHead;null!==o;o=o._next)r(o)}forEachPreviousItem(r){let o;for(o=this._previousMapHead;null!==o;o=o._nextPrevious)r(o)}forEachChangedItem(r){let o;for(o=this._changesHead;null!==o;o=o._nextChanged)r(o)}forEachAddedItem(r){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)r(o)}forEachRemovedItem(r){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)r(o)}diff(r){if(r){if(!(r instanceof Map||th(r)))throw new De(900,!1)}else r=new Map;return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let o=this._mapHead;if(this._appendAfter=null,this._forEach(r,(u,f)=>{if(o&&o.key===f)this._maybeAddToChanges(o,u),this._appendAfter=o,o=o._next;else{const v=this._getOrCreateRecordForKey(f,u);o=this._insertBeforeOrAppend(o,v)}}),o){o._prev&&(o._prev._next=null),this._removalsHead=o;for(let u=o;null!==u;u=u._nextRemoved)u===this._mapHead&&(this._mapHead=null),this._records.delete(u.key),u._nextRemoved=u._next,u.previousValue=u.currentValue,u.currentValue=null,u._prev=null,u._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(r,o){if(r){const u=r._prev;return o._next=r,o._prev=u,r._prev=o,u&&(u._next=o),r===this._mapHead&&(this._mapHead=o),this._appendAfter=r,r}return this._appendAfter?(this._appendAfter._next=o,o._prev=this._appendAfter):this._mapHead=o,this._appendAfter=o,null}_getOrCreateRecordForKey(r,o){if(this._records.has(r)){const f=this._records.get(r);this._maybeAddToChanges(f,o);const v=f._prev,b=f._next;return v&&(v._next=b),b&&(b._prev=v),f._next=null,f._prev=null,f}const u=new dD(r);return this._records.set(r,u),u.currentValue=o,this._addToAdditions(u),u}_reset(){if(this.isDirty){let r;for(this._previousMapHead=this._mapHead,r=this._previousMapHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._changesHead;null!==r;r=r._nextChanged)r.previousValue=r.currentValue;for(r=this._additionsHead;null!=r;r=r._nextAdded)r.previousValue=r.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(r,o){Object.is(o,r.currentValue)||(r.previousValue=r.currentValue,r.currentValue=o,this._addToChanges(r))}_addToAdditions(r){null===this._additionsHead?this._additionsHead=this._additionsTail=r:(this._additionsTail._nextAdded=r,this._additionsTail=r)}_addToChanges(r){null===this._changesHead?this._changesHead=this._changesTail=r:(this._changesTail._nextChanged=r,this._changesTail=r)}_forEach(r,o){r instanceof Map?r.forEach(o):Object.keys(r).forEach(u=>o(r[u],u))}}class dD{constructor(r){this.key=r,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Uw(){return new _0([new Lw])}let _0=(()=>{class n{constructor(o){this.factories=o}static create(o,u){if(null!=u){const f=u.factories.slice();o=o.concat(f)}return new n(o)}static extend(o){return{provide:n,useFactory:u=>n.create(o,u||Uw()),deps:[[n,new al,new Wu]]}}find(o){const u=this.factories.find(f=>f.supports(o));if(null!=u)return u;throw new De(901,!1)}}return n.\u0275prov=rt({token:n,providedIn:"root",factory:Uw}),n})();function jw(){return new E0([new Vw])}let E0=(()=>{class n{constructor(o){this.factories=o}static create(o,u){if(u){const f=u.factories.slice();o=o.concat(f)}return new n(o)}static extend(o){return{provide:n,useFactory:u=>n.create(o,u||jw()),deps:[[n,new al,new Wu]]}}find(o){const u=this.factories.find(f=>f.supports(o));if(u)return u;throw new De(901,!1)}}return n.\u0275prov=rt({token:n,providedIn:"root",factory:jw}),n})();const pD=Dw(null,"core",[]);let gD=(()=>{class n{constructor(o){}}return n.\u0275fac=function(o){return new(o||n)(Mt(by))},n.\u0275mod=ye({type:n}),n.\u0275inj=qt({}),n})(),qw=(()=>{class n{get whenAllTasksComplete(){return 0===this.collection.size&&this.complete(),this.promise}constructor(){this.taskId=0,this.collection=new Set,this.ngZone=hn(yl),this.completed=!1,this.ngZone.runOutsideAngular(()=>{this.promise=new Promise(o=>{this.resolve=o})})}add(){if(this.completed)return-1;const o=this.taskId++;return this.collection.add(o),o}remove(o){this.completed||(this.collection.delete(o),0===this.collection.size&&this.complete())}ngOnDestroy(){this.complete(),this.collection.clear()}complete(){this.completed=!0,this.resolve()}}return n.\u0275fac=function(o){return new(o||n)},n.\u0275prov=rt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function bD(n){return"boolean"==typeof n?n:null!=n&&"false"!==n}function TD(n,r){const o=nt(n),u=r.elementInjector||Rd();return new sd(o).create(u,r.projectableNodes,r.hostElement,r.environmentInjector)}function SD(n){const r=nt(n);if(!r)return null;const o=new sd(r);return{get selector(){return o.selector},get type(){return o.componentType},get inputs(){return o.inputs},get outputs(){return o.outputs},get ngContentSelectors(){return o.ngContentSelectors},get isStandalone(){return r.standalone}}}},5030:(vn,ft,k)=>{"use strict";k.d(ft,{u5:()=>re,wO:()=>ys,JU:()=>Ze,a5:()=>tn,JJ:()=>kr,JL:()=>$r,F:()=>ye,On:()=>qr,UX:()=>Q,Q7:()=>xr,_Y:()=>Dn});var m=k(2223),g=k(4755),le=k(8996),_e=k(9751),Le=k(4742),Ne=k(8421),he=k(7669),Ie=k(5403),Fe=k(3268),Ce=k(1810),je=k(4004);let ge=(()=>{class R{constructor(w,A){this._renderer=w,this._elementRef=A,this.onChange=te=>{},this.onTouched=()=>{}}setProperty(w,A){this._renderer.setProperty(this._elementRef.nativeElement,w,A)}registerOnTouched(w){this.onTouched=w}registerOnChange(w){this.onChange=w}setDisabledState(w){this.setProperty("disabled",w)}}return R.\u0275fac=function(w){return new(w||R)(m.Y36(m.Qsj),m.Y36(m.SBq))},R.\u0275dir=m.lG2({type:R}),R})(),ze=(()=>{class R extends ge{}return R.\u0275fac=function(){let M;return function(A){return(M||(M=m.n5z(R)))(A||R)}}(),R.\u0275dir=m.lG2({type:R,features:[m.qOj]}),R})();const Ze=new m.OlP("NgValueAccessor"),De={provide:Ze,useExisting:(0,m.Gpc)(()=>qe),multi:!0},ct=new m.OlP("CompositionEventMode");let qe=(()=>{class R extends ge{constructor(w,A,te){super(w,A),this._compositionMode=te,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function pt(){const R=(0,g.q)()?(0,g.q)().getUserAgent():"";return/android (\d+)/.test(R.toLowerCase())}())}writeValue(w){this.setProperty("value",null==w?"":w)}_handleInput(w){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(w)}_compositionStart(){this._composing=!0}_compositionEnd(w){this._composing=!1,this._compositionMode&&this.onChange(w)}}return R.\u0275fac=function(w){return new(w||R)(m.Y36(m.Qsj),m.Y36(m.SBq),m.Y36(ct,8))},R.\u0275dir=m.lG2({type:R,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(w,A){1&w&&m.NdJ("input",function(Ke){return A._handleInput(Ke.target.value)})("blur",function(){return A.onTouched()})("compositionstart",function(){return A._compositionStart()})("compositionend",function(Ke){return A._compositionEnd(Ke.target.value)})},features:[m._Bn([De]),m.qOj]}),R})();function it(R){return null==R||("string"==typeof R||Array.isArray(R))&&0===R.length}const st=new m.OlP("NgValidators"),Je=new m.OlP("NgAsyncValidators");function Tt(R){return it(R.value)?{required:!0}:null}function Be(R){return null}function We(R){return null!=R}function vt(R){return(0,m.QGY)(R)?(0,le.D)(R):R}function ht(R){let M={};return R.forEach(w=>{M=null!=w?{...M,...w}:M}),0===Object.keys(M).length?null:M}function Pt(R,M){return M.map(w=>w(R))}function cn(R){return R.map(M=>function ce(R){return!R.validate}(M)?M:w=>M.validate(w))}function rt(R){return null!=R?function xt(R){if(!R)return null;const M=R.filter(We);return 0==M.length?null:function(w){return ht(Pt(w,M))}}(cn(R)):null}function qt(R){return null!=R?function Ft(R){if(!R)return null;const M=R.filter(We);return 0==M.length?null:function(w){return function me(...R){const M=(0,he.jO)(R),{args:w,keys:A}=(0,Le.D)(R),te=new _e.y(Ke=>{const{length:tt}=w;if(!tt)return void Ke.complete();const Bt=new Array(tt);let Jt=tt,wr=tt;for(let kn=0;kn<tt;kn++){let Ir=!1;(0,Ne.Xf)(w[kn]).subscribe((0,Ie.x)(Ke,Sr=>{Ir||(Ir=!0,wr--),Bt[kn]=Sr},()=>Jt--,void 0,()=>{(!Jt||!Ir)&&(wr||Ke.next(A?(0,Ce.n)(A,Bt):Bt),Ke.complete())}))}});return M?te.pipe((0,Fe.Z)(M)):te}(Pt(w,M).map(vt)).pipe((0,je.U)(ht))}}(cn(R)):null}function Cn(R,M){return null===R?[M]:Array.isArray(R)?[...R,M]:[R,M]}function Lt(R){return R?Array.isArray(R)?R:[R]:[]}function Tn(R,M){return Array.isArray(R)?R.includes(M):R===M}function $t(R,M){const w=Lt(M);return Lt(R).forEach(te=>{Tn(w,te)||w.push(te)}),w}function tr(R,M){return Lt(M).filter(w=>!Tn(R,w))}class ir{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(M){this._rawValidators=M||[],this._composedValidatorFn=rt(this._rawValidators)}_setAsyncValidators(M){this._rawAsyncValidators=M||[],this._composedAsyncValidatorFn=qt(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(M){this._onDestroyCallbacks.push(M)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(M=>M()),this._onDestroyCallbacks=[]}reset(M=void 0){this.control&&this.control.reset(M)}hasError(M,w){return!!this.control&&this.control.hasError(M,w)}getError(M,w){return this.control?this.control.getError(M,w):null}}class fr extends ir{get formDirective(){return null}get path(){return null}}class tn extends ir{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class _r{constructor(M){this._cd=M}get isTouched(){var M,w;return!(null===(M=this._cd)||void 0===M||null===(w=M.control)||void 0===w||!w.touched)}get isUntouched(){var M,w;return!(null===(M=this._cd)||void 0===M||null===(w=M.control)||void 0===w||!w.untouched)}get isPristine(){var M,w;return!(null===(M=this._cd)||void 0===M||null===(w=M.control)||void 0===w||!w.pristine)}get isDirty(){var M,w;return!(null===(M=this._cd)||void 0===M||null===(w=M.control)||void 0===w||!w.dirty)}get isValid(){var M,w;return!(null===(M=this._cd)||void 0===M||null===(w=M.control)||void 0===w||!w.valid)}get isInvalid(){var M,w;return!(null===(M=this._cd)||void 0===M||null===(w=M.control)||void 0===w||!w.invalid)}get isPending(){var M,w;return!(null===(M=this._cd)||void 0===M||null===(w=M.control)||void 0===w||!w.pending)}get isSubmitted(){var M;return!(null===(M=this._cd)||void 0===M||!M.submitted)}}let kr=(()=>{class R extends _r{constructor(w){super(w)}}return R.\u0275fac=function(w){return new(w||R)(m.Y36(tn,2))},R.\u0275dir=m.lG2({type:R,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(w,A){2&w&&m.ekj("ng-untouched",A.isUntouched)("ng-touched",A.isTouched)("ng-pristine",A.isPristine)("ng-dirty",A.isDirty)("ng-valid",A.isValid)("ng-invalid",A.isInvalid)("ng-pending",A.isPending)},features:[m.qOj]}),R})(),$r=(()=>{class R extends _r{constructor(w){super(w)}}return R.\u0275fac=function(w){return new(w||R)(m.Y36(fr,10))},R.\u0275dir=m.lG2({type:R,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(w,A){2&w&&m.ekj("ng-untouched",A.isUntouched)("ng-touched",A.isTouched)("ng-pristine",A.isPristine)("ng-dirty",A.isDirty)("ng-valid",A.isValid)("ng-invalid",A.isInvalid)("ng-pending",A.isPending)("ng-submitted",A.isSubmitted)},features:[m.qOj]}),R})();const hn="VALID",Tr="INVALID",Yn="PENDING",sr="DISABLED";function et(R){return(q(R)?R.validators:R)||null}function K(R,M){return(q(M)?M.asyncValidators:R)||null}function q(R){return null!=R&&!Array.isArray(R)&&"object"==typeof R}class $e{constructor(M,w){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(M),this._assignAsyncValidators(w)}get validator(){return this._composedValidatorFn}set validator(M){this._rawValidators=this._composedValidatorFn=M}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(M){this._rawAsyncValidators=this._composedAsyncValidatorFn=M}get parent(){return this._parent}get valid(){return this.status===hn}get invalid(){return this.status===Tr}get pending(){return this.status==Yn}get disabled(){return this.status===sr}get enabled(){return this.status!==sr}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(M){this._assignValidators(M)}setAsyncValidators(M){this._assignAsyncValidators(M)}addValidators(M){this.setValidators($t(M,this._rawValidators))}addAsyncValidators(M){this.setAsyncValidators($t(M,this._rawAsyncValidators))}removeValidators(M){this.setValidators(tr(M,this._rawValidators))}removeAsyncValidators(M){this.setAsyncValidators(tr(M,this._rawAsyncValidators))}hasValidator(M){return Tn(this._rawValidators,M)}hasAsyncValidator(M){return Tn(this._rawAsyncValidators,M)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(M={}){this.touched=!0,this._parent&&!M.onlySelf&&this._parent.markAsTouched(M)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(M=>M.markAllAsTouched())}markAsUntouched(M={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(w=>{w.markAsUntouched({onlySelf:!0})}),this._parent&&!M.onlySelf&&this._parent._updateTouched(M)}markAsDirty(M={}){this.pristine=!1,this._parent&&!M.onlySelf&&this._parent.markAsDirty(M)}markAsPristine(M={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(w=>{w.markAsPristine({onlySelf:!0})}),this._parent&&!M.onlySelf&&this._parent._updatePristine(M)}markAsPending(M={}){this.status=Yn,!1!==M.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!M.onlySelf&&this._parent.markAsPending(M)}disable(M={}){const w=this._parentMarkedDirty(M.onlySelf);this.status=sr,this.errors=null,this._forEachChild(A=>{A.disable({...M,onlySelf:!0})}),this._updateValue(),!1!==M.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...M,skipPristineCheck:w}),this._onDisabledChange.forEach(A=>A(!0))}enable(M={}){const w=this._parentMarkedDirty(M.onlySelf);this.status=hn,this._forEachChild(A=>{A.enable({...M,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:M.emitEvent}),this._updateAncestors({...M,skipPristineCheck:w}),this._onDisabledChange.forEach(A=>A(!1))}_updateAncestors(M){this._parent&&!M.onlySelf&&(this._parent.updateValueAndValidity(M),M.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(M){this._parent=M}getRawValue(){return this.value}updateValueAndValidity(M={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===hn||this.status===Yn)&&this._runAsyncValidator(M.emitEvent)),!1!==M.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!M.onlySelf&&this._parent.updateValueAndValidity(M)}_updateTreeValidity(M={emitEvent:!0}){this._forEachChild(w=>w._updateTreeValidity(M)),this.updateValueAndValidity({onlySelf:!0,emitEvent:M.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?sr:hn}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(M){if(this.asyncValidator){this.status=Yn,this._hasOwnPendingAsyncValidator=!0;const w=vt(this.asyncValidator(this));this._asyncValidationSubscription=w.subscribe(A=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(A,{emitEvent:M})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(M,w={}){this.errors=M,this._updateControlsErrors(!1!==w.emitEvent)}get(M){let w=M;return null==w||(Array.isArray(w)||(w=w.split(".")),0===w.length)?null:w.reduce((A,te)=>A&&A._find(te),this)}getError(M,w){const A=w?this.get(w):this;return A&&A.errors?A.errors[M]:null}hasError(M,w){return!!this.getError(M,w)}get root(){let M=this;for(;M._parent;)M=M._parent;return M}_updateControlsErrors(M){this.status=this._calculateStatus(),M&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(M)}_initObservables(){this.valueChanges=new m.vpe,this.statusChanges=new m.vpe}_calculateStatus(){return this._allControlsDisabled()?sr:this.errors?Tr:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Yn)?Yn:this._anyControlsHaveStatus(Tr)?Tr:hn}_anyControlsHaveStatus(M){return this._anyControls(w=>w.status===M)}_anyControlsDirty(){return this._anyControls(M=>M.dirty)}_anyControlsTouched(){return this._anyControls(M=>M.touched)}_updatePristine(M={}){this.pristine=!this._anyControlsDirty(),this._parent&&!M.onlySelf&&this._parent._updatePristine(M)}_updateTouched(M={}){this.touched=this._anyControlsTouched(),this._parent&&!M.onlySelf&&this._parent._updateTouched(M)}_registerOnCollectionChange(M){this._onCollectionChange=M}_setUpdateStrategy(M){q(M)&&null!=M.updateOn&&(this._updateOn=M.updateOn)}_parentMarkedDirty(M){return!M&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(M){return null}_assignValidators(M){this._rawValidators=Array.isArray(M)?M.slice():M,this._composedValidatorFn=function pe(R){return Array.isArray(R)?rt(R):R||null}(this._rawValidators)}_assignAsyncValidators(M){this._rawAsyncValidators=Array.isArray(M)?M.slice():M,this._composedAsyncValidatorFn=function z(R){return Array.isArray(R)?qt(R):R||null}(this._rawAsyncValidators)}}class _t extends $e{constructor(M,w,A){super(et(w),K(A,w)),this.controls=M,this._initObservables(),this._setUpdateStrategy(w),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(M,w){return this.controls[M]?this.controls[M]:(this.controls[M]=w,w.setParent(this),w._registerOnCollectionChange(this._onCollectionChange),w)}addControl(M,w,A={}){this.registerControl(M,w),this.updateValueAndValidity({emitEvent:A.emitEvent}),this._onCollectionChange()}removeControl(M,w={}){this.controls[M]&&this.controls[M]._registerOnCollectionChange(()=>{}),delete this.controls[M],this.updateValueAndValidity({emitEvent:w.emitEvent}),this._onCollectionChange()}setControl(M,w,A={}){this.controls[M]&&this.controls[M]._registerOnCollectionChange(()=>{}),delete this.controls[M],w&&this.registerControl(M,w),this.updateValueAndValidity({emitEvent:A.emitEvent}),this._onCollectionChange()}contains(M){return this.controls.hasOwnProperty(M)&&this.controls[M].enabled}setValue(M,w={}){(function lt(R,M,w){R._forEachChild((A,te)=>{if(void 0===w[te])throw new m.vHH(1002,"")})})(this,0,M),Object.keys(M).forEach(A=>{(function Re(R,M,w){const A=R.controls;if(!(M?Object.keys(A):A).length)throw new m.vHH(1e3,"");if(!A[w])throw new m.vHH(1001,"")})(this,!0,A),this.controls[A].setValue(M[A],{onlySelf:!0,emitEvent:w.emitEvent})}),this.updateValueAndValidity(w)}patchValue(M,w={}){null!=M&&(Object.keys(M).forEach(A=>{const te=this.controls[A];te&&te.patchValue(M[A],{onlySelf:!0,emitEvent:w.emitEvent})}),this.updateValueAndValidity(w))}reset(M={},w={}){this._forEachChild((A,te)=>{A.reset(M[te],{onlySelf:!0,emitEvent:w.emitEvent})}),this._updatePristine(w),this._updateTouched(w),this.updateValueAndValidity(w)}getRawValue(){return this._reduceChildren({},(M,w,A)=>(M[A]=w.getRawValue(),M))}_syncPendingControls(){let M=this._reduceChildren(!1,(w,A)=>!!A._syncPendingControls()||w);return M&&this.updateValueAndValidity({onlySelf:!0}),M}_forEachChild(M){Object.keys(this.controls).forEach(w=>{const A=this.controls[w];A&&M(A,w)})}_setUpControls(){this._forEachChild(M=>{M.setParent(this),M._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(M){for(const[w,A]of Object.entries(this.controls))if(this.contains(w)&&M(A))return!0;return!1}_reduceValue(){return this._reduceChildren({},(w,A,te)=>((A.enabled||this.disabled)&&(w[te]=A.value),w))}_reduceChildren(M,w){let A=M;return this._forEachChild((te,Ke)=>{A=w(A,te,Ke)}),A}_allControlsDisabled(){for(const M of Object.keys(this.controls))if(this.controls[M].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(M){return this.controls.hasOwnProperty(M)?this.controls[M]:null}}const kt=new m.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>Kt}),Kt="always";function wt(R,M,w=Kt){var A,te;Nn(R,M),M.valueAccessor.writeValue(R.value),(R.disabled||"always"===w)&&(null===(A=(te=M.valueAccessor).setDisabledState)||void 0===A||A.call(te,R.disabled)),function Qn(R,M){M.valueAccessor.registerOnChange(w=>{R._pendingValue=w,R._pendingChange=!0,R._pendingDirty=!0,"change"===R.updateOn&&Lr(R,M)})}(R,M),function or(R,M){const w=(A,te)=>{M.valueAccessor.writeValue(A),te&&M.viewToModelUpdate(A)};R.registerOnChange(w),M._registerOnDestroy(()=>{R._unregisterOnChange(w)})}(R,M),function Hr(R,M){M.valueAccessor.registerOnTouched(()=>{R._pendingTouched=!0,"blur"===R.updateOn&&R._pendingChange&&Lr(R,M),"submit"!==R.updateOn&&R.markAsTouched()})}(R,M),function mn(R,M){if(M.valueAccessor.setDisabledState){const w=A=>{M.valueAccessor.setDisabledState(A)};R.registerOnDisabledChange(w),M._registerOnDestroy(()=>{R._unregisterOnDisabledChange(w)})}}(R,M)}function jt(R,M){R.forEach(w=>{w.registerOnValidatorChange&&w.registerOnValidatorChange(M)})}function Nn(R,M){const w=function Mn(R){return R._rawValidators}(R);null!==M.validator?R.setValidators(Cn(w,M.validator)):"function"==typeof w&&R.setValidators([w]);const A=function An(R){return R._rawAsyncValidators}(R);null!==M.asyncValidator?R.setAsyncValidators(Cn(A,M.asyncValidator)):"function"==typeof A&&R.setAsyncValidators([A]);const te=()=>R.updateValueAndValidity();jt(M._rawValidators,te),jt(M._rawAsyncValidators,te)}function Lr(R,M){R._pendingDirty&&R.markAsDirty(),R.setValue(R._pendingValue,{emitModelToViewChange:!1}),M.viewToModelUpdate(R._pendingValue),R._pendingChange=!1}const W={provide:fr,useExisting:(0,m.Gpc)(()=>ye)},ee=(()=>Promise.resolve())();let ye=(()=>{class R extends fr{constructor(w,A,te){super(),this.callSetDisabledState=te,this.submitted=!1,this._directives=new Set,this.ngSubmit=new m.vpe,this.form=new _t({},rt(w),qt(A))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(w){ee.then(()=>{const A=this._findContainer(w.path);w.control=A.registerControl(w.name,w.control),wt(w.control,w,this.callSetDisabledState),w.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(w)})}getControl(w){return this.form.get(w.path)}removeControl(w){ee.then(()=>{const A=this._findContainer(w.path);A&&A.removeControl(w.name),this._directives.delete(w)})}addFormGroup(w){ee.then(()=>{const A=this._findContainer(w.path),te=new _t({});(function dr(R,M){Nn(R,M)})(te,w),A.registerControl(w.name,te),te.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(w){ee.then(()=>{const A=this._findContainer(w.path);A&&A.removeControl(w.name)})}getFormGroup(w){return this.form.get(w.path)}updateModel(w,A){ee.then(()=>{this.form.get(w.path).setValue(A)})}setValue(w){this.control.setValue(w)}onSubmit(w){var A;return this.submitted=!0,function es(R,M){R._syncPendingControls(),M.forEach(w=>{const A=w.control;"submit"===A.updateOn&&A._pendingChange&&(w.viewToModelUpdate(A._pendingValue),A._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(w),"dialog"===(null==w||null===(A=w.target)||void 0===A?void 0:A.method)}onReset(){this.resetForm()}resetForm(w=void 0){this.form.reset(w),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(w){return w.pop(),w.length?this.form.get(w):this.form}}return R.\u0275fac=function(w){return new(w||R)(m.Y36(st,10),m.Y36(Je,10),m.Y36(kt,8))},R.\u0275dir=m.lG2({type:R,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(w,A){1&w&&m.NdJ("submit",function(Ke){return A.onSubmit(Ke)})("reset",function(){return A.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[m._Bn([W]),m.qOj]}),R})();function oe(R,M){const w=R.indexOf(M);w>-1&&R.splice(w,1)}function G(R){return"object"==typeof R&&null!==R&&2===Object.keys(R).length&&"value"in R&&"disabled"in R}const ie=class extends $e{constructor(M=null,w,A){super(et(w),K(A,w)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(M),this._setUpdateStrategy(w),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),q(w)&&(w.nonNullable||w.initialValueIsDefault)&&(this.defaultValue=G(M)?M.value:M)}setValue(M,w={}){this.value=this._pendingValue=M,this._onChange.length&&!1!==w.emitModelToViewChange&&this._onChange.forEach(A=>A(this.value,!1!==w.emitViewToModelChange)),this.updateValueAndValidity(w)}patchValue(M,w={}){this.setValue(M,w)}reset(M=this.defaultValue,w={}){this._applyFormState(M),this.markAsPristine(w),this.markAsUntouched(w),this.setValue(this.value,w),this._pendingChange=!1}_updateValue(){}_anyControls(M){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(M){this._onChange.push(M)}_unregisterOnChange(M){oe(this._onChange,M)}registerOnDisabledChange(M){this._onDisabledChange.push(M)}_unregisterOnDisabledChange(M){oe(this._onDisabledChange,M)}_forEachChild(M){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(M){G(M)?(this.value=this._pendingValue=M.value,M.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=M}},ii={provide:tn,useExisting:(0,m.Gpc)(()=>qr)},qi=(()=>Promise.resolve())();let qr=(()=>{class R extends tn{constructor(w,A,te,Ke,tt,Bt){super(),this._changeDetectorRef=tt,this.callSetDisabledState=Bt,this.control=new ie,this._registered=!1,this.name="",this.update=new m.vpe,this._parent=w,this._setValidators(A),this._setAsyncValidators(te),this.valueAccessor=function rs(R,M){if(!M)return null;let w,A,te;return Array.isArray(M),M.forEach(Ke=>{Ke.constructor===qe?w=Ke:function Qr(R){return Object.getPrototypeOf(R.constructor)===ze}(Ke)?A=Ke:te=Ke}),te||A||w||null}(0,Ke)}ngOnChanges(w){if(this._checkForErrors(),!this._registered||"name"in w){if(this._registered&&(this._checkName(),this.formDirective)){const A=w.name.previousValue;this.formDirective.removeControl({name:A,path:this._getPath(A)})}this._setUpControl()}"isDisabled"in w&&this._updateDisabled(w),function _i(R,M){if(!R.hasOwnProperty("model"))return!1;const w=R.model;return!!w.isFirstChange()||!Object.is(M,w.currentValue)}(w,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(w){this.viewModel=w,this.update.emit(w)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){wt(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(w){qi.then(()=>{var A;this.control.setValue(w,{emitViewToModelChange:!1}),null===(A=this._changeDetectorRef)||void 0===A||A.markForCheck()})}_updateDisabled(w){const A=w.isDisabled.currentValue,te=0!==A&&(0,m.D6c)(A);qi.then(()=>{var Ke;te&&!this.control.disabled?this.control.disable():!te&&this.control.disabled&&this.control.enable(),null===(Ke=this._changeDetectorRef)||void 0===Ke||Ke.markForCheck()})}_getPath(w){return this._parent?function an(R,M){return[...M.path,R]}(w,this._parent):[w]}}return R.\u0275fac=function(w){return new(w||R)(m.Y36(fr,9),m.Y36(st,10),m.Y36(Je,10),m.Y36(Ze,10),m.Y36(m.sBO,8),m.Y36(kt,8))},R.\u0275dir=m.lG2({type:R,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[m._Bn([ii]),m.qOj,m.TTD]}),R})(),Dn=(()=>{class R{}return R.\u0275fac=function(w){return new(w||R)},R.\u0275dir=m.lG2({type:R,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),R})(),bi=(()=>{class R{}return R.\u0275fac=function(w){return new(w||R)},R.\u0275mod=m.oAB({type:R}),R.\u0275inj=m.cJS({}),R})();const Xn=new m.OlP("NgModelWithFormControlWarning");let Pi=(()=>{class R{constructor(){this._validator=Be}ngOnChanges(w){if(this.inputName in w){const A=this.normalizeInput(w[this.inputName].currentValue);this._enabled=this.enabled(A),this._validator=this._enabled?this.createValidator(A):Be,this._onChange&&this._onChange()}}validate(w){return this._validator(w)}registerOnValidatorChange(w){this._onChange=w}enabled(w){return null!=w}}return R.\u0275fac=function(w){return new(w||R)},R.\u0275dir=m.lG2({type:R,features:[m.TTD]}),R})();const Ts={provide:st,useExisting:(0,m.Gpc)(()=>xr),multi:!0};let xr=(()=>{class R extends Pi{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=m.D6c,this.createValidator=w=>Tt}enabled(w){return w}}return R.\u0275fac=function(){let M;return function(A){return(M||(M=m.n5z(R)))(A||R)}}(),R.\u0275dir=m.lG2({type:R,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(w,A){2&w&&m.uIk("required",A._enabled?"":null)},inputs:{required:"required"},features:[m._Bn([Ts]),m.qOj]}),R})();const hs={provide:st,useExisting:(0,m.Gpc)(()=>ys),multi:!0};let ys=(()=>{class R extends Pi{constructor(){super(...arguments),this.inputName="minlength",this.normalizeInput=w=>function Po(R){return"number"==typeof R?R:parseInt(R,10)}(w),this.createValidator=w=>function Ge(R){return M=>it(M.value)||!function ut(R){return null!=R&&"number"==typeof R.length}(M.value)?null:M.value.length<R?{minlength:{requiredLength:R,actualLength:M.value.length}}:null}(w)}}return R.\u0275fac=function(){let M;return function(A){return(M||(M=m.n5z(R)))(A||R)}}(),R.\u0275dir=m.lG2({type:R,selectors:[["","minlength","","formControlName",""],["","minlength","","formControl",""],["","minlength","","ngModel",""]],hostVars:1,hostBindings:function(w,A){2&w&&m.uIk("minlength",A._enabled?A.minlength:null)},inputs:{minlength:"minlength"},features:[m._Bn([hs]),m.qOj]}),R})(),Xt=(()=>{class R{}return R.\u0275fac=function(w){return new(w||R)},R.\u0275mod=m.oAB({type:R}),R.\u0275inj=m.cJS({imports:[bi]}),R})(),re=(()=>{class R{static withConfig(w){var A;return{ngModule:R,providers:[{provide:kt,useValue:null!==(A=w.callSetDisabledState)&&void 0!==A?A:Kt}]}}}return R.\u0275fac=function(w){return new(w||R)},R.\u0275mod=m.oAB({type:R}),R.\u0275inj=m.cJS({imports:[Xt]}),R})(),Q=(()=>{class R{static withConfig(w){var A,te;return{ngModule:R,providers:[{provide:Xn,useValue:null!==(A=w.warnOnNgModelWithFormControl)&&void 0!==A?A:"always"},{provide:kt,useValue:null!==(te=w.callSetDisabledState)&&void 0!==te?te:Kt}]}}}return R.\u0275fac=function(w){return new(w||R)},R.\u0275mod=m.oAB({type:R}),R.\u0275inj=m.cJS({imports:[Xt]}),R})()},6550:(vn,ft,k)=>{"use strict";k.d(ft,{Dx:()=>tn,b2:()=>Tn,q6:()=>Cn,se:()=>Ue});var m=k(2223),g=k(4755);class le extends g.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class _e extends le{static makeCurrent(){(0,g.HT)(new _e)}onAndCancel(K,z,q){return K.addEventListener(z,q),()=>{K.removeEventListener(z,q)}}dispatchEvent(K,z){K.dispatchEvent(z)}remove(K){K.parentNode&&K.parentNode.removeChild(K)}createElement(K,z){return(z=z||this.getDefaultDocument()).createElement(K)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(K){return K.nodeType===Node.ELEMENT_NODE}isShadowRoot(K){return K instanceof DocumentFragment}getGlobalEventTarget(K,z){return"window"===z?window:"document"===z?K:"body"===z?K.body:null}getBaseHref(K){const z=function Ne(){return Le=Le||document.querySelector("base"),Le?Le.getAttribute("href"):null}();return null==z?null:function Ie(pe){he=he||document.createElement("a"),he.setAttribute("href",pe);const K=he.pathname;return"/"===K.charAt(0)?K:`/${K}`}(z)}resetBaseElement(){Le=null}getUserAgent(){return window.navigator.userAgent}getCookie(K){return(0,g.Mx)(document.cookie,K)}}let he,Le=null,Ce=(()=>{class pe{build(){return new XMLHttpRequest}}return pe.\u0275fac=function(z){return new(z||pe)},pe.\u0275prov=m.Yz7({token:pe,factory:pe.\u0275fac}),pe})();const me=new m.OlP("EventManagerPlugins");let je=(()=>{class pe{constructor(z,q){this._zone=q,this._eventNameToPlugin=new Map,z.forEach(Re=>{Re.manager=this}),this._plugins=z.slice().reverse()}addEventListener(z,q,Re){return this._findPluginFor(q).addEventListener(z,q,Re)}getZone(){return this._zone}_findPluginFor(z){const q=this._eventNameToPlugin.get(z);if(q)return q;const Re=this._plugins;for(let lt=0;lt<Re.length;lt++){const $e=Re[lt];if($e.supports(z))return this._eventNameToPlugin.set(z,$e),$e}throw new Error(`No event manager plugin found for event ${z}`)}}return pe.\u0275fac=function(z){return new(z||pe)(m.LFG(me),m.LFG(m.R0b))},pe.\u0275prov=m.Yz7({token:pe,factory:pe.\u0275fac}),pe})();class ge{constructor(K){this._doc=K}}const ze="ng-app-id";let Ze=(()=>{class pe{constructor(z,q,Re,lt={}){this.doc=z,this.appId=q,this.nonce=Re,this.platformId=lt,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=(0,g.PM)(lt),this.resetHostNodes()}addStyles(z){for(const q of z)1===this.changeUsageCount(q,1)&&this.onStyleAdded(q)}removeStyles(z){for(const q of z)this.changeUsageCount(q,-1)<=0&&this.onStyleRemoved(q)}ngOnDestroy(){const z=this.styleNodesInDOM;z&&(z.forEach(q=>q.remove()),z.clear());for(const q of this.getAllStyles())this.onStyleRemoved(q);this.resetHostNodes()}addHost(z){this.hostNodes.add(z);for(const q of this.getAllStyles())this.addStyleToHost(z,q)}removeHost(z){this.hostNodes.delete(z)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(z){for(const q of this.hostNodes)this.addStyleToHost(q,z)}onStyleRemoved(z){var q,Re;const lt=this.styleRef;null===(q=lt.get(z))||void 0===q||null===(Re=q.elements)||void 0===Re||Re.forEach($e=>$e.remove()),lt.delete(z)}collectServerRenderedStyles(){var z;const q=null===(z=this.doc.head)||void 0===z?void 0:z.querySelectorAll(`style[${ze}="${this.appId}"]`);if(null!=q&&q.length){const Re=new Map;return q.forEach(lt=>{null!=lt.textContent&&Re.set(lt.textContent,lt)}),Re}return null}changeUsageCount(z,q){const Re=this.styleRef;if(Re.has(z)){const lt=Re.get(z);return lt.usage+=q,lt.usage}return Re.set(z,{usage:q,elements:[]}),q}getStyleElement(z,q){const Re=this.styleNodesInDOM,lt=null==Re?void 0:Re.get(q);if((null==lt?void 0:lt.parentNode)===z)return Re.delete(q),lt.removeAttribute(ze),lt;{const $e=this.doc.createElement("style");return this.nonce&&$e.setAttribute("nonce",this.nonce),$e.textContent=q,this.platformIsServer&&$e.setAttribute(ze,this.appId),$e}}addStyleToHost(z,q){var Re;const lt=this.getStyleElement(z,q);z.appendChild(lt);const $e=this.styleRef,_t=null===(Re=$e.get(q))||void 0===Re?void 0:Re.elements;_t?_t.push(lt):$e.set(q,{elements:[lt],usage:1})}resetHostNodes(){const z=this.hostNodes;z.clear(),z.add(this.doc.head)}}return pe.\u0275fac=function(z){return new(z||pe)(m.LFG(g.K0),m.LFG(m.AFp),m.LFG(m.Ojb,8),m.LFG(m.Lbi))},pe.\u0275prov=m.Yz7({token:pe,factory:pe.\u0275fac}),pe})();const yt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Ae=/%COMP%/g,it=new m.OlP("RemoveStylesOnCompDestory",{providedIn:"root",factory:()=>!1});function Je(pe,K){return K.map(z=>z.replace(Ae,pe))}let Ue=(()=>{class pe{constructor(z,q,Re,lt,$e,_t,Rt,Zt=null){this.eventManager=z,this.sharedStylesHost=q,this.appId=Re,this.removeStylesOnCompDestory=lt,this.doc=$e,this.platformId=_t,this.ngZone=Rt,this.nonce=Zt,this.rendererByCompId=new Map,this.platformIsServer=(0,g.PM)(_t),this.defaultRenderer=new Ct(z,$e,Rt,this.platformIsServer)}createRenderer(z,q){if(!z||!q)return this.defaultRenderer;this.platformIsServer&&q.encapsulation===m.ifc.ShadowDom&&(q={...q,encapsulation:m.ifc.Emulated});const Re=this.getOrCreateRenderer(z,q);return Re instanceof Ge?Re.applyToHost(z):Re instanceof Oe&&Re.applyStyles(),Re}getOrCreateRenderer(z,q){const Re=this.rendererByCompId;let lt=Re.get(q.id);if(!lt){const $e=this.doc,_t=this.ngZone,Rt=this.eventManager,Zt=this.sharedStylesHost,Wt=this.removeStylesOnCompDestory,fn=this.platformIsServer;switch(q.encapsulation){case m.ifc.Emulated:lt=new Ge(Rt,Zt,q,this.appId,Wt,$e,_t,fn);break;case m.ifc.ShadowDom:return new fe(Rt,Zt,z,q,$e,_t,this.nonce,fn);default:lt=new Oe(Rt,Zt,q,Wt,$e,_t,fn)}lt.onDestroy=()=>Re.delete(q.id),Re.set(q.id,lt)}return lt}ngOnDestroy(){this.rendererByCompId.clear()}}return pe.\u0275fac=function(z){return new(z||pe)(m.LFG(je),m.LFG(Ze),m.LFG(m.AFp),m.LFG(it),m.LFG(g.K0),m.LFG(m.Lbi),m.LFG(m.R0b),m.LFG(m.Ojb))},pe.\u0275prov=m.Yz7({token:pe,factory:pe.\u0275fac}),pe})();class Ct{constructor(K,z,q,Re){this.eventManager=K,this.doc=z,this.ngZone=q,this.platformIsServer=Re,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(K,z){return z?this.doc.createElementNS(yt[z]||z,K):this.doc.createElement(K)}createComment(K){return this.doc.createComment(K)}createText(K){return this.doc.createTextNode(K)}appendChild(K,z){(Tt(K)?K.content:K).appendChild(z)}insertBefore(K,z,q){K&&(Tt(K)?K.content:K).insertBefore(z,q)}removeChild(K,z){K&&K.removeChild(z)}selectRootElement(K,z){let q="string"==typeof K?this.doc.querySelector(K):K;if(!q)throw new Error(`The selector "${K}" did not match any elements`);return z||(q.textContent=""),q}parentNode(K){return K.parentNode}nextSibling(K){return K.nextSibling}setAttribute(K,z,q,Re){if(Re){z=Re+":"+z;const lt=yt[Re];lt?K.setAttributeNS(lt,z,q):K.setAttribute(z,q)}else K.setAttribute(z,q)}removeAttribute(K,z,q){if(q){const Re=yt[q];Re?K.removeAttributeNS(Re,z):K.removeAttribute(`${q}:${z}`)}else K.removeAttribute(z)}addClass(K,z){K.classList.add(z)}removeClass(K,z){K.classList.remove(z)}setStyle(K,z,q,Re){Re&(m.JOm.DashCase|m.JOm.Important)?K.style.setProperty(z,q,Re&m.JOm.Important?"important":""):K.style[z]=q}removeStyle(K,z,q){q&m.JOm.DashCase?K.style.removeProperty(z):K.style[z]=""}setProperty(K,z,q){K[z]=q}setValue(K,z){K.nodeValue=z}listen(K,z,q){if("string"==typeof K&&!(K=(0,g.q)().getGlobalEventTarget(this.doc,K)))throw new Error(`Unsupported event target ${K} for event ${z}`);return this.eventManager.addEventListener(K,z,this.decoratePreventDefault(q))}decoratePreventDefault(K){return z=>{if("__ngUnwrap__"===z)return K;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>K(z)):K(z))&&(z.preventDefault(),z.returnValue=!1)}}}function Tt(pe){return"TEMPLATE"===pe.tagName&&void 0!==pe.content}class fe extends Ct{constructor(K,z,q,Re,lt,$e,_t,Rt){super(K,lt,$e,Rt),this.sharedStylesHost=z,this.hostEl=q,this.shadowRoot=q.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const Zt=Je(Re.id,Re.styles);for(const Wt of Zt){const fn=document.createElement("style");_t&&fn.setAttribute("nonce",_t),fn.textContent=Wt,this.shadowRoot.appendChild(fn)}}nodeOrShadowRoot(K){return K===this.hostEl?this.shadowRoot:K}appendChild(K,z){return super.appendChild(this.nodeOrShadowRoot(K),z)}insertBefore(K,z,q){return super.insertBefore(this.nodeOrShadowRoot(K),z,q)}removeChild(K,z){return super.removeChild(this.nodeOrShadowRoot(K),z)}parentNode(K){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(K)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Oe extends Ct{constructor(K,z,q,Re,lt,$e,_t,Rt){super(K,lt,$e,_t),this.sharedStylesHost=z,this.removeStylesOnCompDestory=Re,this.rendererUsageCount=0,this.styles=Rt?Je(Rt,q.styles):q.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles),this.rendererUsageCount++}destroy(){var K;this.removeStylesOnCompDestory&&(this.sharedStylesHost.removeStyles(this.styles),this.rendererUsageCount--,0===this.rendererUsageCount)&&(null===(K=this.onDestroy)||void 0===K||K.call(this))}}class Ge extends Oe{constructor(K,z,q,Re,lt,$e,_t,Rt){const Zt=Re+"-"+q.id;super(K,z,q,lt,$e,_t,Rt,Zt),this.contentAttr=function ut(pe){return"_ngcontent-%COMP%".replace(Ae,pe)}(Zt),this.hostAttr=function st(pe){return"_nghost-%COMP%".replace(Ae,pe)}(Zt)}applyToHost(K){this.applyStyles(),this.setAttribute(K,this.hostAttr,"")}createElement(K,z){const q=super.createElement(K,z);return super.setAttribute(q,this.contentAttr,""),q}}let Qe=(()=>{class pe extends ge{constructor(z){super(z)}supports(z){return!0}addEventListener(z,q,Re){return z.addEventListener(q,Re,!1),()=>this.removeEventListener(z,q,Re)}removeEventListener(z,q,Re){return z.removeEventListener(q,Re)}}return pe.\u0275fac=function(z){return new(z||pe)(m.LFG(g.K0))},pe.\u0275prov=m.Yz7({token:pe,factory:pe.\u0275fac}),pe})();const xe=["alt","control","meta","shift"],Be={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},We={alt:pe=>pe.altKey,control:pe=>pe.ctrlKey,meta:pe=>pe.metaKey,shift:pe=>pe.shiftKey};let vt=(()=>{class pe extends ge{constructor(z){super(z)}supports(z){return null!=pe.parseEventName(z)}addEventListener(z,q,Re){const lt=pe.parseEventName(q),$e=pe.eventCallback(lt.fullKey,Re,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,g.q)().onAndCancel(z,lt.domEventName,$e))}static parseEventName(z){const q=z.toLowerCase().split("."),Re=q.shift();if(0===q.length||"keydown"!==Re&&"keyup"!==Re)return null;const lt=pe._normalizeKey(q.pop());let $e="",_t=q.indexOf("code");if(_t>-1&&(q.splice(_t,1),$e="code."),xe.forEach(Zt=>{const Wt=q.indexOf(Zt);Wt>-1&&(q.splice(Wt,1),$e+=Zt+".")}),$e+=lt,0!=q.length||0===lt.length)return null;const Rt={};return Rt.domEventName=Re,Rt.fullKey=$e,Rt}static matchEventFullKeyCode(z,q){let Re=Be[z.key]||z.key,lt="";return q.indexOf("code.")>-1&&(Re=z.code,lt="code."),!(null==Re||!Re)&&(Re=Re.toLowerCase()," "===Re?Re="space":"."===Re&&(Re="dot"),xe.forEach($e=>{$e!==Re&&(0,We[$e])(z)&&(lt+=$e+".")}),lt+=Re,lt===q)}static eventCallback(z,q,Re){return lt=>{pe.matchEventFullKeyCode(lt,z)&&Re.runGuarded(()=>q(lt))}}static _normalizeKey(z){return"esc"===z?"escape":z}}return pe.\u0275fac=function(z){return new(z||pe)(m.LFG(g.K0))},pe.\u0275prov=m.Yz7({token:pe,factory:pe.\u0275fac}),pe})();const Cn=(0,m.eFA)(m._c5,"browser",[{provide:m.Lbi,useValue:g.bD},{provide:m.g9A,useValue:function xt(){_e.makeCurrent()},multi:!0},{provide:g.K0,useFactory:function Ft(){return(0,m.RDi)(document),document},deps:[]}]),Mn=new m.OlP(""),An=[{provide:m.rWj,useClass:class Fe{addToWindow(K){m.dqk.getAngularTestability=(q,Re=!0)=>{const lt=K.findTestabilityInTree(q,Re);if(null==lt)throw new Error("Could not find testability for element.");return lt},m.dqk.getAllAngularTestabilities=()=>K.getAllTestabilities(),m.dqk.getAllAngularRootElements=()=>K.getAllRootElements(),m.dqk.frameworkStabilizers||(m.dqk.frameworkStabilizers=[]),m.dqk.frameworkStabilizers.push(q=>{const Re=m.dqk.getAllAngularTestabilities();let lt=Re.length,$e=!1;const _t=function(Rt){$e=$e||Rt,lt--,0==lt&&q($e)};Re.forEach(function(Rt){Rt.whenStable(_t)})})}findTestabilityInTree(K,z,q){if(null==z)return null;const Re=K.getTestability(z);return null!=Re?Re:q?(0,g.q)().isShadowRoot(z)?this.findTestabilityInTree(K,z.host,!0):this.findTestabilityInTree(K,z.parentElement,!0):null}},deps:[]},{provide:m.lri,useClass:m.dDg,deps:[m.R0b,m.eoX,m.rWj]},{provide:m.dDg,useClass:m.dDg,deps:[m.R0b,m.eoX,m.rWj]}],Lt=[{provide:m.zSh,useValue:"root"},{provide:m.qLn,useFactory:function rt(){return new m.qLn},deps:[]},{provide:me,useClass:Qe,multi:!0,deps:[g.K0,m.R0b,m.Lbi]},{provide:me,useClass:vt,multi:!0,deps:[g.K0]},Ue,Ze,je,{provide:m.FYo,useExisting:Ue},{provide:g.JF,useClass:Ce,deps:[]},[]];let Tn=(()=>{class pe{constructor(z){}static withServerTransition(z){return{ngModule:pe,providers:[{provide:m.AFp,useValue:z.appId}]}}}return pe.\u0275fac=function(z){return new(z||pe)(m.LFG(Mn,12))},pe.\u0275mod=m.oAB({type:pe}),pe.\u0275inj=m.cJS({providers:[...Lt,...An],imports:[g.ez,m.hGG]}),pe})(),tn=(()=>{class pe{constructor(z){this._doc=z}getTitle(){return this._doc.title}setTitle(z){this._doc.title=z||""}}return pe.\u0275fac=function(z){return new(z||pe)(m.LFG(g.K0))},pe.\u0275prov=m.Yz7({token:pe,factory:function(z){let q=null;return q=z?new z:function fr(){return new tn((0,m.LFG)(g.K0))}(),q},providedIn:"root"}),pe})();typeof window<"u"&&window},5559:(vn,ft,k)=>{"use strict";k.d(ft,{gz:()=>$s,jw:()=>qr,y6:()=>Fi,OD:()=>ye,eC:()=>Lt,wm:()=>_a,wN:()=>Ar,F0:()=>un,rH:()=>_n,Bz:()=>No,Hx:()=>Ee,fw:()=>Hi});var m=k(2223),g=k(9751),le=k(576),Le=k(8996),Ne=k(9646),he=k(1135),Ie=k(4742),Fe=k(4671),Ce=k(3268),me=k(7669),je=k(1810),ge=k(5403),ze=k(9672);function Ze(...x){const F=(0,me.yG)(x),D=(0,me.jO)(x),{args:$,keys:J}=(0,Ie.D)(x);if(0===$.length)return(0,Le.D)([],F);const Pe=new g.y(function yt(x,F,D=Fe.y){return $=>{Ae(F,()=>{const{length:J}=x,Pe=new Array(J);let Te=J,It=J;for(let en=0;en<J;en++)Ae(F,()=>{const Gn=(0,Le.D)(x[en],F);let Br=!1;Gn.subscribe((0,ge.x)($,Zn=>{Pe[en]=Zn,Br||(Br=!0,It--),It||$.next(D(Pe.slice()))},()=>{--Te||$.complete()}))},$)},$)}}($,F,J?Te=>(0,je.n)(J,Te):Fe.y));return D?Pe.pipe((0,Ce.Z)(D)):Pe}function Ae(x,F,D){x?(0,ze.f)(D,x,F):F()}var De=k(6805),pt=k(7272),ct=k(8421);function qe(x){return new g.y(F=>{(0,ct.Xf)(x()).subscribe(F)})}var it=k(9635);function ut(x,F){const D=(0,le.m)(x)?x:()=>x,$=J=>J.error(D());return new g.y(F?J=>F.schedule($,0,J):$)}var st=k(515),Je=k(727),Ue=k(4482);function Ct(){return(0,Ue.e)((x,F)=>{let D=null;x._refCount++;const $=(0,ge.x)(F,void 0,void 0,void 0,()=>{if(!x||x._refCount<=0||0<--x._refCount)return void(D=null);const J=x._connection,Pe=D;D=null,J&&(!Pe||J===Pe)&&J.unsubscribe(),F.unsubscribe()});x.subscribe($),$.closed||(D=x.connect())})}class ot extends g.y{constructor(F,D){super(),this.source=F,this.subjectFactory=D,this._subject=null,this._refCount=0,this._connection=null,(0,Ue.A)(F)&&(this.lift=F.lift)}_subscribe(F){return this.getSubject().subscribe(F)}getSubject(){const F=this._subject;return(!F||F.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:F}=this;this._subject=this._connection=null,null==F||F.unsubscribe()}connect(){let F=this._connection;if(!F){F=this._connection=new Je.w0;const D=this.getSubject();F.add(this.source.subscribe((0,ge.x)(D,void 0,()=>{this._teardown(),D.complete()},$=>{this._teardown(),D.error($)},()=>this._teardown()))),F.closed&&(this._connection=null,F=Je.w0.EMPTY)}return F}refCount(){return Ct()(this)}}var Et=k(7579),Tt=k(4755),fe=k(4004),Oe=k(3900),Ge=k(5698),Qe=k(8675),xe=k(9300),Be=k(5577),We=k(590);function vt(x,F){return(0,le.m)(F)?(0,Be.z)(x,F,1):(0,Be.z)(x,1)}var ht=k(8505);function Pt(x){return(0,Ue.e)((F,D)=>{let Pe,$=null,J=!1;$=F.subscribe((0,ge.x)(D,void 0,void 0,Te=>{Pe=(0,ct.Xf)(x(Te,Pt(x)(F))),$?($.unsubscribe(),$=null,Pe.subscribe(D)):J=!0})),J&&($.unsubscribe(),$=null,Pe.subscribe(D))})}var ce=k(5026),cn=k(6590);function xt(x){return x<=0?()=>st.E:(0,Ue.e)((F,D)=>{let $=[];F.subscribe((0,ge.x)(D,J=>{$.push(J),x<$.length&&$.shift()},()=>{for(const J of $)D.next(J);D.complete()},void 0,()=>{$=null}))})}var rt=k(8068),Cn=k(8746),Mn=k(8189),An=k(6550);const Lt="primary",Tn=Symbol("RouteTitle");class $t{constructor(F){this.params=F||{}}has(F){return Object.prototype.hasOwnProperty.call(this.params,F)}get(F){if(this.has(F)){const D=this.params[F];return Array.isArray(D)?D[0]:D}return null}getAll(F){if(this.has(F)){const D=this.params[F];return Array.isArray(D)?D:[D]}return[]}get keys(){return Object.keys(this.params)}}function tr(x){return new $t(x)}function ir(x,F,D){const $=D.path.split("/");if($.length>x.length||"full"===D.pathMatch&&(F.hasChildren()||$.length<x.length))return null;const J={};for(let Pe=0;Pe<$.length;Pe++){const Te=$[Pe],It=x[Pe];if(Te.startsWith(":"))J[Te.substring(1)]=It;else if(Te!==It.path)return null}return{consumed:x.slice(0,$.length),posParams:J}}function tn(x,F){const D=x?Object.keys(x):void 0,$=F?Object.keys(F):void 0;if(!D||!$||D.length!=$.length)return!1;let J;for(let Pe=0;Pe<D.length;Pe++)if(J=D[Pe],!_r(x[J],F[J]))return!1;return!0}function _r(x,F){if(Array.isArray(x)&&Array.isArray(F)){if(x.length!==F.length)return!1;const D=[...x].sort(),$=[...F].sort();return D.every((J,Pe)=>$[Pe]===J)}return x===F}function cr(x){return x.length>0?x[x.length-1]:null}function Sn(x){return function _e(x){return!!x&&(x instanceof g.y||(0,le.m)(x.lift)&&(0,le.m)(x.subscribe))}(x)?x:(0,m.QGY)(x)?(0,Le.D)(Promise.resolve(x)):(0,Ne.of)(x)}const kr={exact:function Vn(x,F,D){if(!$n(x.segments,F.segments)||!br(x.segments,F.segments,D)||x.numberOfChildren!==F.numberOfChildren)return!1;for(const $ in F.children)if(!x.children[$]||!Vn(x.children[$],F.children[$],D))return!1;return!0},subset:Rr},$r={exact:function dn(x,F){return tn(x,F)},subset:function Mr(x,F){return Object.keys(F).length<=Object.keys(x).length&&Object.keys(F).every(D=>_r(x[D],F[D]))},ignored:()=>!0};function wn(x,F,D){return kr[D.paths](x.root,F.root,D.matrixParams)&&$r[D.queryParams](x.queryParams,F.queryParams)&&!("exact"===D.fragment&&x.fragment!==F.fragment)}function Rr(x,F,D){return qn(x,F,F.segments,D)}function qn(x,F,D,$){if(x.segments.length>D.length){const J=x.segments.slice(0,D.length);return!(!$n(J,D)||F.hasChildren()||!br(J,D,$))}if(x.segments.length===D.length){if(!$n(x.segments,D)||!br(x.segments,D,$))return!1;for(const J in F.children)if(!x.children[J]||!Rr(x.children[J],F.children[J],$))return!1;return!0}{const J=D.slice(0,x.segments.length),Pe=D.slice(x.segments.length);return!!($n(x.segments,J)&&br(x.segments,J,$)&&x.children[Lt])&&qn(x.children[Lt],F,Pe,$)}}function br(x,F,D){return F.every(($,J)=>$r[D](x[J].parameters,$.parameters))}class Dr{constructor(F=new zn([],{}),D={},$=null){this.root=F,this.queryParams=D,this.fragment=$}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=tr(this.queryParams)),this._queryParamMap}toString(){return Mt.serialize(this)}}class zn{constructor(F,D){this.segments=F,this.children=D,this.parent=null,Object.values(D).forEach($=>$.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Qt(this)}}class Rn{constructor(F,D){this.path=F,this.parameters=D}get parameterMap(){return this._parameterMap||(this._parameterMap=tr(this.parameters)),this._parameterMap}toString(){return z(this)}}function $n(x,F){return x.length===F.length&&x.every((D,$)=>D.path===F[$].path)}let Ee=(()=>{class x{}return x.\u0275fac=function(D){return new(D||x)},x.\u0275prov=m.Yz7({token:x,factory:function(){return new Ye},providedIn:"root"}),x})();class Ye{parse(F){const D=new Kt(F);return new Dr(D.parseRootSegment(),D.parseQueryParams(),D.parseFragment())}serialize(F){const D=`/${hn(F.root,!0)}`,$=function Re(x){const F=Object.keys(x).map(D=>{const $=x[D];return Array.isArray($)?$.map(J=>`${Yn(D)}=${Yn(J)}`).join("&"):`${Yn(D)}=${Yn($)}`}).filter(D=>!!D);return F.length?`?${F.join("&")}`:""}(F.queryParams);return`${D}${$}${"string"==typeof F.fragment?`#${function sr(x){return encodeURI(x)}(F.fragment)}`:""}`}}const Mt=new Ye;function Qt(x){return x.segments.map(F=>z(F)).join("/")}function hn(x,F){if(!x.hasChildren())return Qt(x);if(F){const D=x.children[Lt]?hn(x.children[Lt],!1):"",$=[];return Object.entries(x.children).forEach(([J,Pe])=>{J!==Lt&&$.push(`${J}:${hn(Pe,!1)}`)}),$.length>0?`${D}(${$.join("//")})`:D}{const D=function Ht(x,F){let D=[];return Object.entries(x.children).forEach(([$,J])=>{$===Lt&&(D=D.concat(F(J,$)))}),Object.entries(x.children).forEach(([$,J])=>{$!==Lt&&(D=D.concat(F(J,$)))}),D}(x,($,J)=>J===Lt?[hn(x.children[Lt],!1)]:[`${J}:${hn($,!1)}`]);return 1===Object.keys(x.children).length&&null!=x.children[Lt]?`${Qt(x)}/${D[0]}`:`${Qt(x)}/(${D.join("//")})`}}function Tr(x){return encodeURIComponent(x).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Yn(x){return Tr(x).replace(/%3B/gi,";")}function et(x){return Tr(x).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function pe(x){return decodeURIComponent(x)}function K(x){return pe(x.replace(/\+/g,"%20"))}function z(x){return`${et(x.path)}${function q(x){return Object.keys(x).map(F=>`;${et(F)}=${et(x[F])}`).join("")}(x.parameters)}`}const lt=/^[^\/()?;#]+/;function $e(x){const F=x.match(lt);return F?F[0]:""}const _t=/^[^\/()?;=#]+/,Zt=/^[^=?&#]+/,fn=/^[^&#]+/;class Kt{constructor(F){this.url=F,this.remaining=F}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new zn([],{}):new zn([],this.parseChildren())}parseQueryParams(){const F={};if(this.consumeOptional("?"))do{this.parseQueryParam(F)}while(this.consumeOptional("&"));return F}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const F=[];for(this.peekStartsWith("(")||F.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),F.push(this.parseSegment());let D={};this.peekStartsWith("/(")&&(this.capture("/"),D=this.parseParens(!0));let $={};return this.peekStartsWith("(")&&($=this.parseParens(!1)),(F.length>0||Object.keys(D).length>0)&&($[Lt]=new zn(F,D)),$}parseSegment(){const F=$e(this.remaining);if(""===F&&this.peekStartsWith(";"))throw new m.vHH(4009,!1);return this.capture(F),new Rn(pe(F),this.parseMatrixParams())}parseMatrixParams(){const F={};for(;this.consumeOptional(";");)this.parseParam(F);return F}parseParam(F){const D=function Rt(x){const F=x.match(_t);return F?F[0]:""}(this.remaining);if(!D)return;this.capture(D);let $="";if(this.consumeOptional("=")){const J=$e(this.remaining);J&&($=J,this.capture($))}F[pe(D)]=pe($)}parseQueryParam(F){const D=function Wt(x){const F=x.match(Zt);return F?F[0]:""}(this.remaining);if(!D)return;this.capture(D);let $="";if(this.consumeOptional("=")){const Te=function kt(x){const F=x.match(fn);return F?F[0]:""}(this.remaining);Te&&($=Te,this.capture($))}const J=K(D),Pe=K($);if(F.hasOwnProperty(J)){let Te=F[J];Array.isArray(Te)||(Te=[Te],F[J]=Te),Te.push(Pe)}else F[J]=Pe}parseParens(F){const D={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const $=$e(this.remaining),J=this.remaining[$.length];if("/"!==J&&")"!==J&&";"!==J)throw new m.vHH(4010,!1);let Pe;$.indexOf(":")>-1?(Pe=$.slice(0,$.indexOf(":")),this.capture(Pe),this.capture(":")):F&&(Pe=Lt);const Te=this.parseChildren();D[Pe]=1===Object.keys(Te).length?Te[Lt]:new zn([],Te),this.consumeOptional("//")}return D}peekStartsWith(F){return this.remaining.startsWith(F)}consumeOptional(F){return!!this.peekStartsWith(F)&&(this.remaining=this.remaining.substring(F.length),!0)}capture(F){if(!this.consumeOptional(F))throw new m.vHH(4011,!1)}}function an(x){return x.segments.length>0?new zn([],{[Lt]:x}):x}function wt(x){const F={};for(const $ of Object.keys(x.children)){const Pe=wt(x.children[$]);if($===Lt&&0===Pe.segments.length&&Pe.hasChildren())for(const[Te,It]of Object.entries(Pe.children))F[Te]=It;else(Pe.segments.length>0||Pe.hasChildren())&&(F[$]=Pe)}return function bt(x){if(1===x.numberOfChildren&&x.children[Lt]){const F=x.children[Lt];return new zn(x.segments.concat(F.segments),F.children)}return x}(new zn(x.segments,F))}function jt(x){return x instanceof Dr}function Nn(x){var F;let D;const Pe=an(function $(Te){const It={};for(const Gn of Te.children){const Br=$(Gn);It[Gn.outlet]=Br}const en=new zn(Te.url,It);return Te===x&&(D=en),en}(x.root));return null!==(F=D)&&void 0!==F?F:Pe}function nr(x,F,D,$){let J=x;for(;J.parent;)J=J.parent;if(0===F.length)return Lr(J,J,J,D,$);const Pe=function li(x){if("string"==typeof x[0]&&1===x.length&&"/"===x[0])return new dr(!0,0,x);let F=0,D=!1;const $=x.reduce((J,Pe,Te)=>{if("object"==typeof Pe&&null!=Pe){if(Pe.outlets){const It={};return Object.entries(Pe.outlets).forEach(([en,Gn])=>{It[en]="string"==typeof Gn?Gn.split("/"):Gn}),[...J,{outlets:It}]}if(Pe.segmentPath)return[...J,Pe.segmentPath]}return"string"!=typeof Pe?[...J,Pe]:0===Te?(Pe.split("/").forEach((It,en)=>{0==en&&"."===It||(0==en&&""===It?D=!0:".."===It?F++:""!=It&&J.push(It))}),J):[...J,Pe]},[]);return new dr(D,F,$)}(F);if(Pe.toRoot())return Lr(J,J,new zn([],{}),D,$);const Te=function Ji(x,F,D){if(x.isAbsolute)return new xs(F,!0,0);if(!D)return new xs(F,!1,NaN);if(null===D.parent)return new xs(D,!0,0);const $=Qn(x.commands[0])?0:1;return function Ti(x,F,D){let $=x,J=F,Pe=D;for(;Pe>J;){if(Pe-=J,$=$.parent,!$)throw new m.vHH(4005,!1);J=$.segments.length}return new xs($,!1,J-Pe)}(D,D.segments.length-1+$,x.numberOfDoubleDots)}(Pe,J,x),It=Te.processChildren?_i(Te.segmentGroup,Te.index,Pe.commands):ws(Te.segmentGroup,Te.index,Pe.commands);return Lr(J,Te.segmentGroup,It,D,$)}function Qn(x){return"object"==typeof x&&null!=x&&!x.outlets&&!x.segmentPath}function Hr(x){return"object"==typeof x&&null!=x&&x.outlets}function Lr(x,F,D,$,J){let Te,Pe={};$&&Object.entries($).forEach(([en,Gn])=>{Pe[en]=Array.isArray(Gn)?Gn.map(Br=>`${Br}`):`${Gn}`}),Te=x===F?D:or(x,F,D);const It=an(wt(Te));return new Dr(It,Pe,J)}function or(x,F,D){const $={};return Object.entries(x.children).forEach(([J,Pe])=>{$[J]=Pe===F?D:or(Pe,F,D)}),new zn(x.segments,$)}class dr{constructor(F,D,$){if(this.isAbsolute=F,this.numberOfDoubleDots=D,this.commands=$,F&&$.length>0&&Qn($[0]))throw new m.vHH(4003,!1);const J=$.find(Hr);if(J&&J!==cr($))throw new m.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class xs{constructor(F,D,$){this.segmentGroup=F,this.processChildren=D,this.index=$}}function ws(x,F,D){if(x||(x=new zn([],{})),0===x.segments.length&&x.hasChildren())return _i(x,F,D);const $=function Qr(x,F,D){let $=0,J=F;const Pe={match:!1,pathIndex:0,commandIndex:0};for(;J<x.segments.length;){if($>=D.length)return Pe;const Te=x.segments[J],It=D[$];if(Hr(It))break;const en=`${It}`,Gn=$<D.length-1?D[$+1]:null;if(J>0&&void 0===en)break;if(en&&Gn&&"object"==typeof Gn&&void 0===Gn.outlets){if(!Ps(en,Gn,Te))return Pe;$+=2}else{if(!Ps(en,{},Te))return Pe;$++}J++}return{match:!0,pathIndex:J,commandIndex:$}}(x,F,D),J=D.slice($.commandIndex);if($.match&&$.pathIndex<x.segments.length){const Pe=new zn(x.segments.slice(0,$.pathIndex),{});return Pe.children[Lt]=new zn(x.segments.slice($.pathIndex),x.children),_i(Pe,0,J)}return $.match&&0===J.length?new zn(x.segments,{}):$.match&&!x.hasChildren()?es(x,F,D):$.match?_i(x,0,J):es(x,F,D)}function _i(x,F,D){if(0===D.length)return new zn(x.segments,{});{const $=function oi(x){return Hr(x[0])?x[0].outlets:{[Lt]:x}}(D),J={};if(!$[Lt]&&x.children[Lt]&&1===x.numberOfChildren&&0===x.children[Lt].segments.length){const Pe=_i(x.children[Lt],F,D);return new zn(x.segments,Pe.children)}return Object.entries($).forEach(([Pe,Te])=>{"string"==typeof Te&&(Te=[Te]),null!==Te&&(J[Pe]=ws(x.children[Pe],F,Te))}),Object.entries(x.children).forEach(([Pe,Te])=>{void 0===$[Pe]&&(J[Pe]=Te)}),new zn(x.segments,J)}}function es(x,F,D){const $=x.segments.slice(0,F);let J=0;for(;J<D.length;){const Pe=D[J];if(Hr(Pe)){const en=rs(Pe.outlets);return new zn($,en)}if(0===J&&Qn(D[0])){$.push(new Rn(x.segments[F].path,ds(D[0]))),J++;continue}const Te=Hr(Pe)?Pe.outlets[Lt]:`${Pe}`,It=J<D.length-1?D[J+1]:null;Te&&It&&Qn(It)?($.push(new Rn(Te,ds(It))),J+=2):($.push(new Rn(Te,{})),J++)}return new zn($,{})}function rs(x){const F={};return Object.entries(x).forEach(([D,$])=>{"string"==typeof $&&($=[$]),null!==$&&(F[D]=es(new zn([],{}),0,$))}),F}function ds(x){const F={};return Object.entries(x).forEach(([D,$])=>F[D]=`${$}`),F}function Ps(x,F,D){return x==D.path&&tn(F,D.parameters)}const W="imperative";class ee{constructor(F,D){this.id=F,this.url=D}}class ye extends ee{constructor(F,D,$="imperative",J=null){super(F,D),this.type=0,this.navigationTrigger=$,this.restoredState=J}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class oe extends ee{constructor(F,D,$){super(F,D),this.urlAfterRedirects=$,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class G extends ee{constructor(F,D,$,J){super(F,D),this.reason=$,this.code=J,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class ie extends ee{constructor(F,D,$,J){super(F,D),this.reason=$,this.code=J,this.type=16}}class He extends ee{constructor(F,D,$,J){super(F,D),this.error=$,this.target=J,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class nt extends ee{constructor(F,D,$,J){super(F,D),this.urlAfterRedirects=$,this.state=J,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class gt extends ee{constructor(F,D,$,J){super(F,D),this.urlAfterRedirects=$,this.state=J,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class St extends ee{constructor(F,D,$,J,Pe){super(F,D),this.urlAfterRedirects=$,this.state=J,this.shouldActivate=Pe,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class gn extends ee{constructor(F,D,$,J){super(F,D),this.urlAfterRedirects=$,this.state=J,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class En extends ee{constructor(F,D,$,J){super(F,D),this.urlAfterRedirects=$,this.state=J,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Wn{constructor(F){this.route=F,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class vr{constructor(F){this.route=F,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Ci{constructor(F){this.snapshot=F,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ii{constructor(F){this.snapshot=F,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class qi{constructor(F){this.snapshot=F,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class qr{constructor(F){this.snapshot=F,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Dn{constructor(F,D,$){this.routerEvent=F,this.position=D,this.anchor=$,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Yr{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Fi,this.attachRef=null}}let Fi=(()=>{class x{constructor(){this.contexts=new Map}onChildOutletCreated(D,$){const J=this.getOrCreateContext(D);J.outlet=$,this.contexts.set(D,J)}onChildOutletDestroyed(D){const $=this.getContext(D);$&&($.outlet=null,$.attachRef=null)}onOutletDeactivated(){const D=this.contexts;return this.contexts=new Map,D}onOutletReAttached(D){this.contexts=D}getOrCreateContext(D){let $=this.getContext(D);return $||($=new Yr,this.contexts.set(D,$)),$}getContext(D){return this.contexts.get(D)||null}}return x.\u0275fac=function(D){return new(D||x)},x.\u0275prov=m.Yz7({token:x,factory:x.\u0275fac,providedIn:"root"}),x})();class Ws{constructor(F){this._root=F}get root(){return this._root.value}parent(F){const D=this.pathFromRoot(F);return D.length>1?D[D.length-2]:null}children(F){const D=bi(F,this._root);return D?D.children.map($=>$.value):[]}firstChild(F){const D=bi(F,this._root);return D&&D.children.length>0?D.children[0].value:null}siblings(F){const D=Bs(F,this._root);return D.length<2?[]:D[D.length-2].children.map(J=>J.value).filter(J=>J!==F)}pathFromRoot(F){return Bs(F,this._root).map(D=>D.value)}}function bi(x,F){if(x===F.value)return F;for(const D of F.children){const $=bi(x,D);if($)return $}return null}function Bs(x,F){if(x===F.value)return[F];for(const D of F.children){const $=Bs(x,D);if($.length)return $.unshift(F),$}return[]}class Xr{constructor(F,D){this.value=F,this.children=D}toString(){return`TreeNode(${this.value})`}}function Li(x){const F={};return x&&x.children.forEach(D=>F[D.value.outlet]=D),F}class Si extends Ws{constructor(F,D){super(F),this.snapshot=D,Wr(this,F)}toString(){return this.snapshot.toString()}}function Xn(x,F){const D=function Is(x,F){const Te=new mr([],{},{},"",{},Lt,F,null,{});return new Bi("",new Xr(Te,[]))}(0,F),$=new he.X([new Rn("",{})]),J=new he.X({}),Pe=new he.X({}),Te=new he.X({}),It=new he.X(""),en=new $s($,J,Te,It,Pe,Lt,F,D.root);return en.snapshot=D.root,new Si(new Xr(en,[]),D)}class $s{constructor(F,D,$,J,Pe,Te,It,en){var Gn,Br;this.urlSubject=F,this.paramsSubject=D,this.queryParamsSubject=$,this.fragmentSubject=J,this.dataSubject=Pe,this.outlet=Te,this.component=It,this._futureSnapshot=en,this.title=null!==(Gn=null===(Br=this.dataSubject)||void 0===Br?void 0:Br.pipe((0,fe.U)(Zn=>Zn[Tn])))&&void 0!==Gn?Gn:(0,Ne.of)(void 0),this.url=F,this.params=D,this.queryParams=$,this.fragment=J,this.data=Pe}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,fe.U)(F=>tr(F)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,fe.U)(F=>tr(F)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Un(x,F="emptyOnly"){const D=x.pathFromRoot;let $=0;if("always"!==F)for($=D.length-1;$>=1;){const J=D[$],Pe=D[$-1];if(J.routeConfig&&""===J.routeConfig.path)$--;else{if(Pe.component)break;$--}}return function ar(x){return x.reduce((F,D)=>{var $;return{params:{...F.params,...D.params},data:{...F.data,...D.data},resolve:{...D.data,...F.resolve,...null===($=D.routeConfig)||void 0===$?void 0:$.data,...D._resolvedData}}},{params:{},data:{},resolve:{}})}(D.slice($))}class mr{get title(){var F;return null===(F=this.data)||void 0===F?void 0:F[Tn]}constructor(F,D,$,J,Pe,Te,It,en,Gn){this.url=F,this.params=D,this.queryParams=$,this.fragment=J,this.data=Pe,this.outlet=Te,this.component=It,this.routeConfig=en,this._resolve=Gn}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=tr(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=tr(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map($=>$.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Bi extends Ws{constructor(F,D){super(D),this.url=F,Wr(this,D)}toString(){return Cs(this._root)}}function Wr(x,F){F.value._routerState=x,F.children.forEach(D=>Wr(x,D))}function Cs(x){const F=x.children.length>0?` { ${x.children.map(Cs).join(", ")} } `:"";return`${x.value}${F}`}function Ks(x){if(x.snapshot){const F=x.snapshot,D=x._futureSnapshot;x.snapshot=D,tn(F.queryParams,D.queryParams)||x.queryParamsSubject.next(D.queryParams),F.fragment!==D.fragment&&x.fragmentSubject.next(D.fragment),tn(F.params,D.params)||x.paramsSubject.next(D.params),function fr(x,F){if(x.length!==F.length)return!1;for(let D=0;D<x.length;++D)if(!tn(x[D],F[D]))return!1;return!0}(F.url,D.url)||x.urlSubject.next(D.url),tn(F.data,D.data)||x.dataSubject.next(D.data)}else x.snapshot=x._futureSnapshot,x.dataSubject.next(x._futureSnapshot.data)}function ts(x,F){const D=tn(x.params,F.params)&&function Fr(x,F){return $n(x,F)&&x.every((D,$)=>tn(D.parameters,F[$].parameters))}(x.url,F.url);return D&&!(!x.parent!=!F.parent)&&(!x.parent||ts(x.parent,F.parent))}let bs=(()=>{class x{constructor(){this.activated=null,this._activatedRoute=null,this.name=Lt,this.activateEvents=new m.vpe,this.deactivateEvents=new m.vpe,this.attachEvents=new m.vpe,this.detachEvents=new m.vpe,this.parentContexts=(0,m.f3M)(Fi),this.location=(0,m.f3M)(m.s_b),this.changeDetector=(0,m.f3M)(m.sBO),this.environmentInjector=(0,m.f3M)(m.lqb),this.inputBinder=(0,m.f3M)(Jn,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(D){if(D.name){const{firstChange:$,previousValue:J}=D.name;if($)return;this.isTrackedInParentContexts(J)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(J)),this.initializeOutletWithName()}}ngOnDestroy(){var D;this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),null===(D=this.inputBinder)||void 0===D||D.unsubscribeFromRouteData(this)}isTrackedInParentContexts(D){var $;return(null===($=this.parentContexts.getContext(D))||void 0===$?void 0:$.outlet)===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const D=this.parentContexts.getContext(this.name);null!=D&&D.route&&(D.attachRef?this.attach(D.attachRef,D.route):this.activateWith(D.route,D.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new m.vHH(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new m.vHH(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new m.vHH(4012,!1);this.location.detach();const D=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(D.instance),D}attach(D,$){var J;this.activated=D,this._activatedRoute=$,this.location.insert(D.hostView),null===(J=this.inputBinder)||void 0===J||J.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(D.instance)}deactivate(){if(this.activated){const D=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(D)}}activateWith(D,$){var J;if(this.isActivated)throw new m.vHH(4013,!1);this._activatedRoute=D;const Pe=this.location,It=D.snapshot.component,en=this.parentContexts.getOrCreateContext(this.name).children,Gn=new di(D,en,Pe.injector);this.activated=Pe.createComponent(It,{index:Pe.length,injector:Gn,environmentInjector:null!=$?$:this.environmentInjector}),this.changeDetector.markForCheck(),null===(J=this.inputBinder)||void 0===J||J.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}}return x.\u0275fac=function(D){return new(D||x)},x.\u0275dir=m.lG2({type:x,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[m.TTD]}),x})();class di{constructor(F,D,$){this.route=F,this.childContexts=D,this.parent=$}get(F,D){return F===$s?this.route:F===Fi?this.childContexts:this.parent.get(F,D)}}const Jn=new m.OlP("");let hr=(()=>{class x{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(D){this.unsubscribeFromRouteData(D),this.subscribeToRouteData(D)}unsubscribeFromRouteData(D){var $;null===($=this.outletDataSubscriptions.get(D))||void 0===$||$.unsubscribe(),this.outletDataSubscriptions.delete(D)}subscribeToRouteData(D){const{activatedRoute:$}=D,J=Ze([$.queryParams,$.params,$.data]).pipe((0,Oe.w)(([Pe,Te,It],en)=>(It={...Pe,...Te,...It},0===en?(0,Ne.of)(It):Promise.resolve(It)))).subscribe(Pe=>{if(!D.isActivated||!D.activatedComponentRef||D.activatedRoute!==$||null===$.component)return void this.unsubscribeFromRouteData(D);const Te=(0,m.qFp)($.component);if(Te)for(const{templateName:It}of Te.inputs)D.activatedComponentRef.setInput(It,Pe[It]);else this.unsubscribeFromRouteData(D)});this.outletDataSubscriptions.set(D,J)}}return x.\u0275fac=function(D){return new(D||x)},x.\u0275prov=m.Yz7({token:x,factory:x.\u0275fac}),x})();function Ds(x,F,D){if(D&&x.shouldReuseRoute(F.value,D.value.snapshot)){const $=D.value;$._futureSnapshot=F.value;const J=function ms(x,F,D){return F.children.map($=>{for(const J of D.children)if(x.shouldReuseRoute($.value,J.value.snapshot))return Ds(x,$,J);return Ds(x,$)})}(x,F,D);return new Xr($,J)}{if(x.shouldAttach(F.value)){const Pe=x.retrieve(F.value);if(null!==Pe){const Te=Pe.route;return Te.value._futureSnapshot=F.value,Te.children=F.children.map(It=>Ds(x,It)),Te}}const $=function is(x){return new $s(new he.X(x.url),new he.X(x.params),new he.X(x.queryParams),new he.X(x.fragment),new he.X(x.data),x.outlet,x.component,x)}(F.value),J=F.children.map(Pe=>Ds(x,Pe));return new Xr($,J)}}const Os="ngNavigationCancelingError";function Ys(x,F){const{redirectTo:D,navigationBehaviorOptions:$}=jt(F)?{redirectTo:F,navigationBehaviorOptions:void 0}:F,J=Ns(!1,0,F);return J.url=D,J.navigationBehaviorOptions=$,J}function Ns(x,F,D){const $=new Error("NavigationCancelingError: "+(x||""));return $[Os]=!0,$.cancellationCode=F,D&&($.url=D),$}function hi(x){return Po(x)&&jt(x.url)}function Po(x){return x&&x[Os]}let Hi=(()=>{class x{}return x.\u0275fac=function(D){return new(D||x)},x.\u0275cmp=m.Xpm({type:x,selectors:[["ng-component"]],standalone:!0,features:[m.jDz],decls:1,vars:0,template:function(D,$){1&D&&m._UZ(0,"router-outlet")},dependencies:[bs],encapsulation:2}),x})();function Us(x){const F=x.children&&x.children.map(Us),D=F?{...x,children:F}:{...x};return!D.component&&!D.loadComponent&&(F||D.loadChildren)&&D.outlet&&D.outlet!==Lt&&(D.component=Hi),D}function Oi(x){return x.outlet||Lt}function ys(x){var F;if(!x)return null;if(null!==(F=x.routeConfig)&&void 0!==F&&F._injector)return x.routeConfig._injector;for(let D=x.parent;D;D=D.parent){const $=D.routeConfig;if(null!=$&&$._loadedInjector)return $._loadedInjector;if(null!=$&&$._injector)return $._injector}return null}class T{constructor(F,D,$,J,Pe){this.routeReuseStrategy=F,this.futureState=D,this.currState=$,this.forwardEvent=J,this.inputBindingEnabled=Pe}activate(F){const D=this.futureState._root,$=this.currState?this.currState._root:null;this.deactivateChildRoutes(D,$,F),Ks(this.futureState.root),this.activateChildRoutes(D,$,F)}deactivateChildRoutes(F,D,$){const J=Li(D);F.children.forEach(Pe=>{const Te=Pe.value.outlet;this.deactivateRoutes(Pe,J[Te],$),delete J[Te]}),Object.values(J).forEach(Pe=>{this.deactivateRouteAndItsChildren(Pe,$)})}deactivateRoutes(F,D,$){const J=F.value,Pe=D?D.value:null;if(J===Pe)if(J.component){const Te=$.getContext(J.outlet);Te&&this.deactivateChildRoutes(F,D,Te.children)}else this.deactivateChildRoutes(F,D,$);else Pe&&this.deactivateRouteAndItsChildren(D,$)}deactivateRouteAndItsChildren(F,D){F.value.component&&this.routeReuseStrategy.shouldDetach(F.value.snapshot)?this.detachAndStoreRouteSubtree(F,D):this.deactivateRouteAndOutlet(F,D)}detachAndStoreRouteSubtree(F,D){const $=D.getContext(F.value.outlet),J=$&&F.value.component?$.children:D,Pe=Li(F);for(const Te of Object.keys(Pe))this.deactivateRouteAndItsChildren(Pe[Te],J);if($&&$.outlet){const Te=$.outlet.detach(),It=$.children.onOutletDeactivated();this.routeReuseStrategy.store(F.value.snapshot,{componentRef:Te,route:F,contexts:It})}}deactivateRouteAndOutlet(F,D){const $=D.getContext(F.value.outlet),J=$&&F.value.component?$.children:D,Pe=Li(F);for(const Te of Object.keys(Pe))this.deactivateRouteAndItsChildren(Pe[Te],J);$&&($.outlet&&($.outlet.deactivate(),$.children.onOutletDeactivated()),$.attachRef=null,$.route=null)}activateChildRoutes(F,D,$){const J=Li(D);F.children.forEach(Pe=>{this.activateRoutes(Pe,J[Pe.value.outlet],$),this.forwardEvent(new qr(Pe.value.snapshot))}),F.children.length&&this.forwardEvent(new ii(F.value.snapshot))}activateRoutes(F,D,$){const J=F.value,Pe=D?D.value:null;if(Ks(J),J===Pe)if(J.component){const Te=$.getOrCreateContext(J.outlet);this.activateChildRoutes(F,D,Te.children)}else this.activateChildRoutes(F,D,$);else if(J.component){const Te=$.getOrCreateContext(J.outlet);if(this.routeReuseStrategy.shouldAttach(J.snapshot)){const It=this.routeReuseStrategy.retrieve(J.snapshot);this.routeReuseStrategy.store(J.snapshot,null),Te.children.onOutletReAttached(It.contexts),Te.attachRef=It.componentRef,Te.route=It.route.value,Te.outlet&&Te.outlet.attach(It.componentRef,It.route.value),Ks(It.route.value),this.activateChildRoutes(F,null,Te.children)}else{const It=ys(J.snapshot);Te.attachRef=null,Te.route=J,Te.injector=It,Te.outlet&&Te.outlet.activateWith(J,Te.injector),this.activateChildRoutes(F,null,Te.children)}}else this.activateChildRoutes(F,null,$)}}class X{constructor(F){this.path=F,this.route=this.path[this.path.length-1]}}class S{constructor(F,D){this.component=F,this.route=D}}function Z(x,F,D){const $=x._root;return jn($,F?F._root:null,D,[$.value])}function Xt(x,F){const D=Symbol(),$=F.get(x,D);return $===D?"function"!=typeof x||(0,m.Z0I)(x)?F.get(x):x:$}function jn(x,F,D,$,J={canDeactivateChecks:[],canActivateChecks:[]}){const Pe=Li(F);return x.children.forEach(Te=>{(function pr(x,F,D,$,J={canDeactivateChecks:[],canActivateChecks:[]}){const Pe=x.value,Te=F?F.value:null,It=D?D.getContext(x.value.outlet):null;if(Te&&Pe.routeConfig===Te.routeConfig){const en=function Ur(x,F,D){if("function"==typeof D)return D(x,F);switch(D){case"pathParamsChange":return!$n(x.url,F.url);case"pathParamsOrQueryParamsChange":return!$n(x.url,F.url)||!tn(x.queryParams,F.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!ts(x,F)||!tn(x.queryParams,F.queryParams);default:return!ts(x,F)}}(Te,Pe,Pe.routeConfig.runGuardsAndResolvers);en?J.canActivateChecks.push(new X($)):(Pe.data=Te.data,Pe._resolvedData=Te._resolvedData),jn(x,F,Pe.component?It?It.children:null:D,$,J),en&&It&&It.outlet&&It.outlet.isActivated&&J.canDeactivateChecks.push(new S(It.outlet.component,Te))}else Te&&jr(F,It,J),J.canActivateChecks.push(new X($)),jn(x,null,Pe.component?It?It.children:null:D,$,J)})(Te,Pe[Te.value.outlet],D,$.concat([Te.value]),J),delete Pe[Te.value.outlet]}),Object.entries(Pe).forEach(([Te,It])=>jr(It,D.getContext(Te),J)),J}function jr(x,F,D){const $=Li(x),J=x.value;Object.entries($).forEach(([Pe,Te])=>{jr(Te,J.component?F?F.children.getContext(Pe):null:F,D)}),D.canDeactivateChecks.push(new S(J.component&&F&&F.outlet&&F.outlet.isActivated?F.outlet.component:null,J))}function Vi(x){return"function"==typeof x}function A(x){return x instanceof De.K||"EmptyError"===(null==x?void 0:x.name)}const te=Symbol("INITIAL_VALUE");function Ke(){return(0,Oe.w)(x=>Ze(x.map(F=>F.pipe((0,Ge.q)(1),(0,Qe.O)(te)))).pipe((0,fe.U)(F=>{for(const D of F)if(!0!==D){if(D===te)return te;if(!1===D||D instanceof Dr)return D}return!0}),(0,xe.h)(F=>F!==te),(0,Ge.q)(1)))}function Gi(x){return(0,it.z)((0,ht.b)(F=>{if(jt(F))throw Ys(0,F)}),(0,fe.U)(F=>!0===F))}class Ni{constructor(F){this.segmentGroup=F||null}}class Wi{constructor(F){this.urlTree=F}}function Ai(x){return ut(new Ni(x))}function ps(x){return ut(new Wi(x))}class vl{constructor(F,D){this.urlSerializer=F,this.urlTree=D}noMatchError(F){return new m.vHH(4002,!1)}lineralizeSegments(F,D){let $=[],J=D.root;for(;;){if($=$.concat(J.segments),0===J.numberOfChildren)return(0,Ne.of)($);if(J.numberOfChildren>1||!J.children[Lt])return ut(new m.vHH(4e3,!1));J=J.children[Lt]}}applyRedirectCommands(F,D,$){return this.applyRedirectCreateUrlTree(D,this.urlSerializer.parse(D),F,$)}applyRedirectCreateUrlTree(F,D,$,J){const Pe=this.createSegmentGroup(F,D.root,$,J);return new Dr(Pe,this.createQueryParams(D.queryParams,this.urlTree.queryParams),D.fragment)}createQueryParams(F,D){const $={};return Object.entries(F).forEach(([J,Pe])=>{if("string"==typeof Pe&&Pe.startsWith(":")){const It=Pe.substring(1);$[J]=D[It]}else $[J]=Pe}),$}createSegmentGroup(F,D,$,J){const Pe=this.createSegments(F,D.segments,$,J);let Te={};return Object.entries(D.children).forEach(([It,en])=>{Te[It]=this.createSegmentGroup(F,en,$,J)}),new zn(Pe,Te)}createSegments(F,D,$,J){return D.map(Pe=>Pe.path.startsWith(":")?this.findPosParam(F,Pe,J):this.findOrReturn(Pe,$))}findPosParam(F,D,$){const J=$[D.path.substring(1)];if(!J)throw new m.vHH(4001,!1);return J}findOrReturn(F,D){let $=0;for(const J of D){if(J.path===F.path)return D.splice($),J;$++}return F}}const ya={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function _l(x,F,D,$,J){const Pe=Za(x,F,D);return Pe.matched?($=function Pi(x,F){var D;return x.providers&&!x._injector&&(x._injector=(0,m.MMx)(x.providers,F,`Route: ${x.path}`)),null!==(D=x._injector)&&void 0!==D?D:F}(F,$),function Di(x,F,D,$){const J=F.canMatch;if(!J||0===J.length)return(0,Ne.of)(!0);const Pe=J.map(Te=>{const It=Xt(Te,x);return Sn(function R(x){return x&&Vi(x.canMatch)}(It)?It.canMatch(F,D):x.runInContext(()=>It(F,D)))});return(0,Ne.of)(Pe).pipe(Ke(),Gi())}($,F,D).pipe((0,fe.U)(Te=>!0===Te?Pe:{...ya}))):(0,Ne.of)(Pe)}function Za(x,F,D){var $,J;if(""===F.path)return"full"===F.pathMatch&&(x.hasChildren()||D.length>0)?{...ya}:{matched:!0,consumedSegments:[],remainingSegments:D,parameters:{},positionalParamSegments:{}};const Te=(F.matcher||ir)(D,x,F);if(!Te)return{...ya};const It={};Object.entries(null!==($=Te.posParams)&&void 0!==$?$:{}).forEach(([Gn,Br])=>{It[Gn]=Br.path});const en=Te.consumed.length>0?{...It,...Te.consumed[Te.consumed.length-1].parameters}:It;return{matched:!0,consumedSegments:Te.consumed,remainingSegments:D.slice(Te.consumed.length),parameters:en,positionalParamSegments:null!==(J=Te.posParams)&&void 0!==J?J:{}}}function Ao(x,F,D,$){return D.length>0&&function El(x,F,D){return D.some($=>so(x,F,$)&&Oi($)!==Lt)}(x,D,$)?{segmentGroup:new zn(F,Ki($,new zn(D,x.children))),slicedSegments:[]}:0===D.length&&function $l(x,F,D){return D.some($=>so(x,F,$))}(x,D,$)?{segmentGroup:new zn(x.segments,Ma(x,0,D,$,x.children)),slicedSegments:D}:{segmentGroup:new zn(x.segments,x.children),slicedSegments:D}}function Ma(x,F,D,$,J){const Pe={};for(const Te of $)if(so(x,D,Te)&&!J[Oi(Te)]){const It=new zn([],{});Pe[Oi(Te)]=It}return{...J,...Pe}}function Ki(x,F){const D={};D[Lt]=F;for(const $ of x)if(""===$.path&&Oi($)!==Lt){const J=new zn([],{});D[Oi($)]=J}return D}function so(x,F,D){return(!(x.hasChildren()||F.length>0)||"full"!==D.pathMatch)&&""===D.path}class Zs{constructor(F,D,$,J,Pe,Te,It){this.injector=F,this.configLoader=D,this.rootComponentType=$,this.config=J,this.urlTree=Pe,this.paramsInheritanceStrategy=Te,this.urlSerializer=It,this.allowRedirects=!0,this.applyRedirects=new vl(this.urlSerializer,this.urlTree)}noMatchError(F){return new m.vHH(4002,!1)}recognize(){const F=Ao(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,F,Lt).pipe(Pt(D=>{if(D instanceof Wi)return this.allowRedirects=!1,this.urlTree=D.urlTree,this.match(D.urlTree);throw D instanceof Ni?this.noMatchError(D):D}),(0,fe.U)(D=>{const $=new mr([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Lt,this.rootComponentType,null,{}),J=new Xr($,D),Pe=new Bi("",J),Te=function mn(x,F,D=null,$=null){return nr(Nn(x),F,D,$)}($,[],this.urlTree.queryParams,this.urlTree.fragment);return Te.queryParams=this.urlTree.queryParams,Pe.url=this.urlSerializer.serialize(Te),this.inheritParamsAndData(Pe._root),{state:Pe,tree:Te}}))}match(F){return this.processSegmentGroup(this.injector,this.config,F.root,Lt).pipe(Pt($=>{throw $ instanceof Ni?this.noMatchError($):$}))}inheritParamsAndData(F){const D=F.value,$=Un(D,this.paramsInheritanceStrategy);D.params=Object.freeze($.params),D.data=Object.freeze($.data),F.children.forEach(J=>this.inheritParamsAndData(J))}processSegmentGroup(F,D,$,J){return 0===$.segments.length&&$.hasChildren()?this.processChildren(F,D,$):this.processSegment(F,D,$,$.segments,J,!0)}processChildren(F,D,$){const J=[];for(const Pe of Object.keys($.children))"primary"===Pe?J.unshift(Pe):J.push(Pe);return(0,Le.D)(J).pipe(vt(Pe=>{const Te=$.children[Pe],It=function hs(x,F){const D=x.filter($=>Oi($)===F);return D.push(...x.filter($=>Oi($)!==F)),D}(D,Pe);return this.processSegmentGroup(F,It,Te,Pe)}),(0,ce.R)((Pe,Te)=>(Pe.push(...Te),Pe)),(0,cn.d)(null),function Ft(x,F){const D=arguments.length>=2;return $=>$.pipe(x?(0,xe.h)((J,Pe)=>x(J,Pe,$)):Fe.y,xt(1),D?(0,cn.d)(F):(0,rt.T)(()=>new De.K))}(),(0,Be.z)(Pe=>{if(null===Pe)return Ai($);const Te=ui(Pe);return function wl(x){x.sort((F,D)=>F.value.outlet===Lt?-1:D.value.outlet===Lt?1:F.value.outlet.localeCompare(D.value.outlet))}(Te),(0,Ne.of)(Te)}))}processSegment(F,D,$,J,Pe,Te){return(0,Le.D)(D).pipe(vt(It=>{var en;return this.processSegmentAgainstRoute(null!==(en=It._injector)&&void 0!==en?en:F,D,It,$,J,Pe,Te).pipe(Pt(Gn=>{if(Gn instanceof Ni)return(0,Ne.of)(null);throw Gn}))}),(0,We.P)(It=>!!It),Pt(It=>{if(A(It))return function Qa(x,F,D){return 0===F.length&&!x.children[D]}($,J,Pe)?(0,Ne.of)([]):Ai($);throw It}))}processSegmentAgainstRoute(F,D,$,J,Pe,Te,It){return function Vl(x,F,D,$){return!!(Oi(x)===$||$!==Lt&&so(F,D,x))&&("**"===x.path||Za(F,x,D).matched)}($,J,Pe,Te)?void 0===$.redirectTo?this.matchSegmentAgainstRoute(F,J,$,Pe,Te,It):It&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(F,J,D,$,Pe,Te):Ai(J):Ai(J)}expandSegmentAgainstRouteUsingRedirect(F,D,$,J,Pe,Te){return"**"===J.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(F,$,J,Te):this.expandRegularSegmentAgainstRouteUsingRedirect(F,D,$,J,Pe,Te)}expandWildCardWithParamsAgainstRouteUsingRedirect(F,D,$,J){const Pe=this.applyRedirects.applyRedirectCommands([],$.redirectTo,{});return $.redirectTo.startsWith("/")?ps(Pe):this.applyRedirects.lineralizeSegments($,Pe).pipe((0,Be.z)(Te=>{const It=new zn(Te,{});return this.processSegment(F,D,It,Te,J,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(F,D,$,J,Pe,Te){const{matched:It,consumedSegments:en,remainingSegments:Gn,positionalParamSegments:Br}=Za(D,J,Pe);if(!It)return Ai(D);const Zn=this.applyRedirects.applyRedirectCommands(en,J.redirectTo,Br);return J.redirectTo.startsWith("/")?ps(Zn):this.applyRedirects.lineralizeSegments(J,Zn).pipe((0,Be.z)(ls=>this.processSegment(F,$,D,ls.concat(Gn),Te,!1)))}matchSegmentAgainstRoute(F,D,$,J,Pe,Te){let It;if("**"===$.path){var en,Gn;const Br=J.length>0?cr(J).parameters:{},Zn=new mr(J,Br,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,va($),Oi($),null!==(en=null!==(Gn=$.component)&&void 0!==Gn?Gn:$._loadedComponent)&&void 0!==en?en:null,$,Ss($));It=(0,Ne.of)({snapshot:Zn,consumedSegments:[],remainingSegments:[]}),D.children={}}else It=_l(D,$,J,F).pipe((0,fe.U)(({matched:Br,consumedSegments:Zn,remainingSegments:ls,parameters:lo})=>{var zo,Ea;return Br?{snapshot:new mr(Zn,lo,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,va($),Oi($),null!==(zo=null!==(Ea=$.component)&&void 0!==Ea?Ea:$._loadedComponent)&&void 0!==zo?zo:null,$,Ss($)),consumedSegments:Zn,remainingSegments:ls}:null}));return It.pipe((0,Oe.w)(Br=>{var Zn;return null===Br?Ai(D):(F=null!==(Zn=$._injector)&&void 0!==Zn?Zn:F,this.getChildConfig(F,$,J).pipe((0,Oe.w)(({routes:ls})=>{var lo;const zo=null!==(lo=$._loadedInjector)&&void 0!==lo?lo:F,{snapshot:Ea,consumedSegments:Tl,remainingSegments:Oa}=Br,{segmentGroup:Sc,slicedSegments:Qo}=Ao(D,Tl,Oa,ls);if(0===Qo.length&&Sc.hasChildren())return this.processChildren(zo,ls,Sc).pipe((0,fe.U)(ko=>null===ko?null:[new Xr(Ea,ko)]));if(0===ls.length&&0===Qo.length)return(0,Ne.of)([new Xr(Ea,[])]);const zl=Oi($)===Pe;return this.processSegment(zo,ls,Sc,Qo,zl?Lt:Pe,!0).pipe((0,fe.U)(ko=>[new Xr(Ea,ko)]))})))}))}getChildConfig(F,D,$){return D.children?(0,Ne.of)({routes:D.children,injector:F}):D.loadChildren?void 0!==D._loadedRoutes?(0,Ne.of)({routes:D._loadedRoutes,injector:D._loadedInjector}):function Ei(x,F,D,$){const J=F.canLoad;if(void 0===J||0===J.length)return(0,Ne.of)(!0);const Pe=J.map(Te=>{const It=Xt(Te,x);return Sn(function fs(x){return x&&Vi(x.canLoad)}(It)?It.canLoad(F,D):x.runInContext(()=>It(F,D)))});return(0,Ne.of)(Pe).pipe(Ke(),Gi())}(F,D,$).pipe((0,Be.z)(J=>J?this.configLoader.loadChildren(F,D).pipe((0,ht.b)(Pe=>{D._loadedRoutes=Pe.routes,D._loadedInjector=Pe.injector})):function Hs(x){return ut(Ns(!1,3))}())):(0,Ne.of)({routes:[],injector:F})}}function Oo(x){const F=x.value.routeConfig;return F&&""===F.path}function ui(x){const F=[],D=new Set;for(const $ of x){if(!Oo($)){F.push($);continue}const J=F.find(Pe=>$.value.routeConfig===Pe.value.routeConfig);void 0!==J?(J.children.push(...$.children),D.add(J)):F.push($)}for(const $ of D){const J=ui($.children);F.push(new Xr($.value,J))}return F.filter($=>!D.has($))}function va(x){return x.data||{}}function Ss(x){return x.resolve||{}}function U(x){return"string"==typeof x.title||null===x.title}function se(x){return(0,Oe.w)(F=>{const D=x(F);return D?(0,Le.D)(D).pipe((0,fe.U)(()=>F)):(0,Ne.of)(F)})}const j=new m.OlP("ROUTES");let we=(()=>{class x{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,m.f3M)(m.Sil)}loadComponent(D){if(this.componentLoaders.get(D))return this.componentLoaders.get(D);if(D._loadedComponent)return(0,Ne.of)(D._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(D);const $=Sn(D.loadComponent()).pipe((0,fe.U)(zt),(0,ht.b)(Pe=>{this.onLoadEndListener&&this.onLoadEndListener(D),D._loadedComponent=Pe}),(0,Cn.x)(()=>{this.componentLoaders.delete(D)})),J=new ot($,()=>new Et.x).pipe(Ct());return this.componentLoaders.set(D,J),J}loadChildren(D,$){if(this.childrenLoaders.get($))return this.childrenLoaders.get($);if($._loadedRoutes)return(0,Ne.of)({routes:$._loadedRoutes,injector:$._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener($);const Pe=this.loadModuleFactoryOrRoutes($.loadChildren).pipe((0,fe.U)(It=>{this.onLoadEndListener&&this.onLoadEndListener($);let en,Gn;return Array.isArray(It)?Gn=It:(en=It.create(D).injector,Gn=en.get(j,[],m.XFs.Self|m.XFs.Optional).flat()),{routes:Gn.map(Us),injector:en}}),(0,Cn.x)(()=>{this.childrenLoaders.delete($)})),Te=new ot(Pe,()=>new Et.x).pipe(Ct());return this.childrenLoaders.set($,Te),Te}loadModuleFactoryOrRoutes(D){return Sn(D()).pipe((0,fe.U)(zt),(0,Be.z)($=>$ instanceof m.YKP||Array.isArray($)?(0,Ne.of)($):(0,Le.D)(this.compiler.compileModuleAsync($))))}}return x.\u0275fac=function(D){return new(D||x)},x.\u0275prov=m.Yz7({token:x,factory:x.\u0275fac,providedIn:"root"}),x})();function zt(x){return function Xe(x){return x&&"object"==typeof x&&"default"in x}(x)?x.default:x}let rn=(()=>{class x{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new Et.x,this.configLoader=(0,m.f3M)(we),this.environmentInjector=(0,m.f3M)(m.lqb),this.urlSerializer=(0,m.f3M)(Ee),this.rootContexts=(0,m.f3M)(Fi),this.inputBindingEnabled=null!==(0,m.f3M)(Jn,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,Ne.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=J=>this.events.next(new vr(J)),this.configLoader.onLoadStartListener=J=>this.events.next(new Wn(J))}complete(){var D;null===(D=this.transitions)||void 0===D||D.complete()}handleNavigationRequest(D){var $;const J=++this.navigationId;null===($=this.transitions)||void 0===$||$.next({...this.transitions.value,...D,id:J})}setupNavigations(D){return this.transitions=new he.X({id:0,currentUrlTree:D.currentUrlTree,currentRawUrl:D.currentUrlTree,extractedUrl:D.urlHandlingStrategy.extract(D.currentUrlTree),urlAfterRedirects:D.urlHandlingStrategy.extract(D.currentUrlTree),rawUrl:D.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:W,restoredState:null,currentSnapshot:D.routerState.snapshot,targetSnapshot:null,currentRouterState:D.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,xe.h)($=>0!==$.id),(0,fe.U)($=>({...$,extractedUrl:D.urlHandlingStrategy.extract($.rawUrl)})),(0,Oe.w)($=>{let J=!1,Pe=!1;return(0,Ne.of)($).pipe((0,ht.b)(Te=>{this.currentNavigation={id:Te.id,initialUrl:Te.rawUrl,extractedUrl:Te.extractedUrl,trigger:Te.source,extras:Te.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,Oe.w)(Te=>{var It;const en=D.browserUrlTree.toString(),Gn=!D.navigated||Te.extractedUrl.toString()!==en||en!==D.currentUrlTree.toString(),Br=null!==(It=Te.extras.onSameUrlNavigation)&&void 0!==It?It:D.onSameUrlNavigation;if(!Gn&&"reload"!==Br){const Zn="";return this.events.next(new ie(Te.id,D.serializeUrl($.rawUrl),Zn,0)),D.rawUrlTree=Te.rawUrl,Te.resolve(null),st.E}if(D.urlHandlingStrategy.shouldProcessUrl(Te.rawUrl))return lr(Te.source)&&(D.browserUrlTree=Te.extractedUrl),(0,Ne.of)(Te).pipe((0,Oe.w)(Zn=>{var ls,lo;const zo=null===(ls=this.transitions)||void 0===ls?void 0:ls.getValue();return this.events.next(new ye(Zn.id,this.urlSerializer.serialize(Zn.extractedUrl),Zn.source,Zn.restoredState)),zo!==(null===(lo=this.transitions)||void 0===lo?void 0:lo.getValue())?st.E:Promise.resolve(Zn)}),function Il(x,F,D,$,J,Pe){return(0,Be.z)(Te=>function ra(x,F,D,$,J,Pe,Te="emptyOnly"){return new Zs(x,F,D,$,J,Te,Pe).recognize()}(x,F,D,$,Te.extractedUrl,J,Pe).pipe((0,fe.U)(({state:It,tree:en})=>({...Te,targetSnapshot:It,urlAfterRedirects:en}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,D.config,this.urlSerializer,D.paramsInheritanceStrategy),(0,ht.b)(Zn=>{if($.targetSnapshot=Zn.targetSnapshot,$.urlAfterRedirects=Zn.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:Zn.urlAfterRedirects},"eager"===D.urlUpdateStrategy){if(!Zn.extras.skipLocationChange){const lo=D.urlHandlingStrategy.merge(Zn.urlAfterRedirects,Zn.rawUrl);D.setBrowserUrl(lo,Zn)}D.browserUrlTree=Zn.urlAfterRedirects}const ls=new nt(Zn.id,this.urlSerializer.serialize(Zn.extractedUrl),this.urlSerializer.serialize(Zn.urlAfterRedirects),Zn.targetSnapshot);this.events.next(ls)}));if(Gn&&D.urlHandlingStrategy.shouldProcessUrl(D.rawUrlTree)){const{id:Zn,extractedUrl:ls,source:lo,restoredState:zo,extras:Ea}=Te,Tl=new ye(Zn,this.urlSerializer.serialize(ls),lo,zo);this.events.next(Tl);const Oa=Xn(0,this.rootComponentType).snapshot;return $={...Te,targetSnapshot:Oa,urlAfterRedirects:ls,extras:{...Ea,skipLocationChange:!1,replaceUrl:!1}},(0,Ne.of)($)}{const Zn="";return this.events.next(new ie(Te.id,D.serializeUrl($.extractedUrl),Zn,1)),D.rawUrlTree=Te.rawUrl,Te.resolve(null),st.E}}),(0,ht.b)(Te=>{const It=new gt(Te.id,this.urlSerializer.serialize(Te.extractedUrl),this.urlSerializer.serialize(Te.urlAfterRedirects),Te.targetSnapshot);this.events.next(It)}),(0,fe.U)(Te=>$={...Te,guards:Z(Te.targetSnapshot,Te.currentSnapshot,this.rootContexts)}),function tt(x,F){return(0,Be.z)(D=>{const{targetSnapshot:$,currentSnapshot:J,guards:{canActivateChecks:Pe,canDeactivateChecks:Te}}=D;return 0===Te.length&&0===Pe.length?(0,Ne.of)({...D,guardsResult:!0}):function Bt(x,F,D,$){return(0,Le.D)(x).pipe((0,Be.z)(J=>function Cr(x,F,D,$,J){const Pe=F&&F.routeConfig?F.routeConfig.canDeactivate:null;if(!Pe||0===Pe.length)return(0,Ne.of)(!0);const Te=Pe.map(It=>{var en;const Gn=null!==(en=ys(F))&&void 0!==en?en:J,Br=Xt(It,Gn);return Sn(function Q(x){return x&&Vi(x.canDeactivate)}(Br)?Br.canDeactivate(x,F,D,$):Gn.runInContext(()=>Br(x,F,D,$))).pipe((0,We.P)())});return(0,Ne.of)(Te).pipe(Ke())}(J.component,J.route,D,F,$)),(0,We.P)(J=>!0!==J,!0))}(Te,$,J,x).pipe((0,Be.z)(It=>It&&function zi(x){return"boolean"==typeof x}(It)?function Jt(x,F,D,$){return(0,Le.D)(F).pipe(vt(J=>(0,pt.z)(function kn(x,F){return null!==x&&F&&F(new Ci(x)),(0,Ne.of)(!0)}(J.route.parent,$),function wr(x,F){return null!==x&&F&&F(new qi(x)),(0,Ne.of)(!0)}(J.route,$),function Sr(x,F,D){const $=F[F.length-1],Pe=F.slice(0,F.length-1).reverse().map(Te=>function ke(x){const F=x.routeConfig?x.routeConfig.canActivateChild:null;return F&&0!==F.length?{node:x,guards:F}:null}(Te)).filter(Te=>null!==Te).map(Te=>qe(()=>{const It=Te.guards.map(en=>{var Gn;const Br=null!==(Gn=ys(Te.node))&&void 0!==Gn?Gn:D,Zn=Xt(en,Br);return Sn(function re(x){return x&&Vi(x.canActivateChild)}(Zn)?Zn.canActivateChild($,x):Br.runInContext(()=>Zn($,x))).pipe((0,We.P)())});return(0,Ne.of)(It).pipe(Ke())}));return(0,Ne.of)(Pe).pipe(Ke())}(x,J.path,D),function Ir(x,F,D){const $=F.routeConfig?F.routeConfig.canActivate:null;if(!$||0===$.length)return(0,Ne.of)(!0);const J=$.map(Pe=>qe(()=>{var Te;const It=null!==(Te=ys(F))&&void 0!==Te?Te:D,en=Xt(Pe,It);return Sn(function js(x){return x&&Vi(x.canActivate)}(en)?en.canActivate(F,x):It.runInContext(()=>en(F,x))).pipe((0,We.P)())}));return(0,Ne.of)(J).pipe(Ke())}(x,J.route,D))),(0,We.P)(J=>!0!==J,!0))}($,Pe,x,F):(0,Ne.of)(It)),(0,fe.U)(It=>({...D,guardsResult:It})))})}(this.environmentInjector,Te=>this.events.next(Te)),(0,ht.b)(Te=>{if($.guardsResult=Te.guardsResult,jt(Te.guardsResult))throw Ys(0,Te.guardsResult);const It=new St(Te.id,this.urlSerializer.serialize(Te.extractedUrl),this.urlSerializer.serialize(Te.urlAfterRedirects),Te.targetSnapshot,!!Te.guardsResult);this.events.next(It)}),(0,xe.h)(Te=>!!Te.guardsResult||(D.restoreHistory(Te),this.cancelNavigationTransition(Te,"",3),!1)),se(Te=>{if(Te.guards.canActivateChecks.length)return(0,Ne.of)(Te).pipe((0,ht.b)(It=>{const en=new gn(It.id,this.urlSerializer.serialize(It.extractedUrl),this.urlSerializer.serialize(It.urlAfterRedirects),It.targetSnapshot);this.events.next(en)}),(0,Oe.w)(It=>{let en=!1;return(0,Ne.of)(It).pipe(function Ul(x,F){return(0,Be.z)(D=>{const{targetSnapshot:$,guards:{canActivateChecks:J}}=D;if(!J.length)return(0,Ne.of)(D);let Pe=0;return(0,Le.D)(J).pipe(vt(Te=>function ss(x,F,D,$){const J=x.routeConfig,Pe=x._resolve;return void 0!==(null==J?void 0:J.title)&&!U(J)&&(Pe[Tn]=J.title),function zs(x,F,D,$){const J=function Pu(x){return[...Object.keys(x),...Object.getOwnPropertySymbols(x)]}(x);if(0===J.length)return(0,Ne.of)({});const Pe={};return(0,Le.D)(J).pipe((0,Be.z)(Te=>function Cl(x,F,D,$){var J;const Pe=null!==(J=ys(F))&&void 0!==J?J:$,Te=Xt(x,Pe);return Sn(Te.resolve?Te.resolve(F,D):Pe.runInContext(()=>Te(F,D)))}(x[Te],F,D,$).pipe((0,We.P)(),(0,ht.b)(It=>{Pe[Te]=It}))),xt(1),function qt(x){return(0,fe.U)(()=>x)}(Pe),Pt(Te=>A(Te)?st.E:ut(Te)))}(Pe,x,F,$).pipe((0,fe.U)(Te=>(x._resolvedData=Te,x.data=Un(x,D).resolve,J&&U(J)&&(x.data[Tn]=J.title),null)))}(Te.route,$,x,F)),(0,ht.b)(()=>Pe++),xt(1),(0,Be.z)(Te=>Pe===J.length?(0,Ne.of)(D):st.E))})}(D.paramsInheritanceStrategy,this.environmentInjector),(0,ht.b)({next:()=>en=!0,complete:()=>{en||(D.restoreHistory(It),this.cancelNavigationTransition(It,"",2))}}))}),(0,ht.b)(It=>{const en=new En(It.id,this.urlSerializer.serialize(It.extractedUrl),this.urlSerializer.serialize(It.urlAfterRedirects),It.targetSnapshot);this.events.next(en)}))}),se(Te=>{const It=en=>{var Gn;const Br=[];null!==(Gn=en.routeConfig)&&void 0!==Gn&&Gn.loadComponent&&!en.routeConfig._loadedComponent&&Br.push(this.configLoader.loadComponent(en.routeConfig).pipe((0,ht.b)(Zn=>{en.component=Zn}),(0,fe.U)(()=>{})));for(const Zn of en.children)Br.push(...It(Zn));return Br};return Ze(It(Te.targetSnapshot.root)).pipe((0,cn.d)(),(0,Ge.q)(1))}),se(()=>this.afterPreactivation()),(0,fe.U)(Te=>{const It=function jo(x,F,D){const $=Ds(x,F._root,D?D._root:void 0);return new Si($,F)}(D.routeReuseStrategy,Te.targetSnapshot,Te.currentRouterState);return $={...Te,targetRouterState:It}}),(0,ht.b)(Te=>{D.currentUrlTree=Te.urlAfterRedirects,D.rawUrlTree=D.urlHandlingStrategy.merge(Te.urlAfterRedirects,Te.rawUrl),D.routerState=Te.targetRouterState,"deferred"===D.urlUpdateStrategy&&(Te.extras.skipLocationChange||D.setBrowserUrl(D.rawUrlTree,Te),D.browserUrlTree=Te.urlAfterRedirects)}),((x,F,D,$)=>(0,fe.U)(J=>(new T(F,J.targetRouterState,J.currentRouterState,D,$).activate(x),J)))(this.rootContexts,D.routeReuseStrategy,Te=>this.events.next(Te),this.inputBindingEnabled),(0,Ge.q)(1),(0,ht.b)({next:Te=>{var It;J=!0,this.lastSuccessfulNavigation=this.currentNavigation,D.navigated=!0,this.events.next(new oe(Te.id,this.urlSerializer.serialize(Te.extractedUrl),this.urlSerializer.serialize(D.currentUrlTree))),null===(It=D.titleStrategy)||void 0===It||It.updateTitle(Te.targetRouterState.snapshot),Te.resolve(!0)},complete:()=>{J=!0}}),(0,Cn.x)(()=>{var Te;J||Pe||this.cancelNavigationTransition($,"",1),(null===(Te=this.currentNavigation)||void 0===Te?void 0:Te.id)===$.id&&(this.currentNavigation=null)}),Pt(Te=>{if(Pe=!0,Po(Te)){hi(Te)||(D.navigated=!0,D.restoreHistory($,!0));const en=new G($.id,this.urlSerializer.serialize($.extractedUrl),Te.message,Te.cancellationCode);if(this.events.next(en),hi(Te)){const Gn=D.urlHandlingStrategy.merge(Te.url,D.rawUrlTree),Br={skipLocationChange:$.extras.skipLocationChange,replaceUrl:"eager"===D.urlUpdateStrategy||lr($.source)};D.scheduleNavigation(Gn,W,null,Br,{resolve:$.resolve,reject:$.reject,promise:$.promise})}else $.resolve(!1)}else{var It;D.restoreHistory($,!0);const en=new He($.id,this.urlSerializer.serialize($.extractedUrl),Te,null!==(It=$.targetSnapshot)&&void 0!==It?It:void 0);this.events.next(en);try{$.resolve(D.errorHandler(Te))}catch(Gn){$.reject(Gn)}}return st.E}))}))}cancelNavigationTransition(D,$,J){const Pe=new G(D.id,this.urlSerializer.serialize(D.extractedUrl),$,J);this.events.next(Pe),D.resolve(!1)}}return x.\u0275fac=function(D){return new(D||x)},x.\u0275prov=m.Yz7({token:x,factory:x.\u0275fac,providedIn:"root"}),x})();function lr(x){return x!==W}let Ln=(()=>{class x{buildTitle(D){let $,J=D.root;for(;void 0!==J;){var Pe;$=null!==(Pe=this.getResolvedTitleForRoute(J))&&void 0!==Pe?Pe:$,J=J.children.find(Te=>Te.outlet===Lt)}return $}getResolvedTitleForRoute(D){return D.data[Tn]}}return x.\u0275fac=function(D){return new(D||x)},x.\u0275prov=m.Yz7({token:x,factory:function(){return(0,m.f3M)(fi)},providedIn:"root"}),x})(),fi=(()=>{class x extends Ln{constructor(D){super(),this.title=D}updateTitle(D){const $=this.buildTitle(D);void 0!==$&&this.title.setTitle($)}}return x.\u0275fac=function(D){return new(D||x)(m.LFG(An.Dx))},x.\u0275prov=m.Yz7({token:x,factory:x.\u0275fac,providedIn:"root"}),x})(),Ar=(()=>{class x{}return x.\u0275fac=function(D){return new(D||x)},x.\u0275prov=m.Yz7({token:x,factory:function(){return(0,m.f3M)(ki)},providedIn:"root"}),x})();class Vr{shouldDetach(F){return!1}store(F,D){}shouldAttach(F){return!1}retrieve(F){return null}shouldReuseRoute(F,D){return F.routeConfig===D.routeConfig}}let ki=(()=>{class x extends Vr{}return x.\u0275fac=function(){let F;return function($){return(F||(F=m.n5z(x)))($||x)}}(),x.\u0275prov=m.Yz7({token:x,factory:x.\u0275fac,providedIn:"root"}),x})();const wi=new m.OlP("",{providedIn:"root",factory:()=>({})});let os=(()=>{class x{}return x.\u0275fac=function(D){return new(D||x)},x.\u0275prov=m.Yz7({token:x,factory:function(){return(0,m.f3M)(yn)},providedIn:"root"}),x})(),yn=(()=>{class x{shouldProcessUrl(D){return!0}extract(D){return D}merge(D,$){return D}}return x.\u0275fac=function(D){return new(D||x)},x.\u0275prov=m.Yz7({token:x,factory:x.\u0275fac,providedIn:"root"}),x})();var ti=(()=>((ti=ti||{})[ti.COMPLETE=0]="COMPLETE",ti[ti.FAILED=1]="FAILED",ti[ti.REDIRECTING=2]="REDIRECTING",ti))();function Jr(x,F){x.events.pipe((0,xe.h)(D=>D instanceof oe||D instanceof G||D instanceof He||D instanceof ie),(0,fe.U)(D=>D instanceof oe||D instanceof ie?ti.COMPLETE:D instanceof G&&(0===D.code||1===D.code)?ti.REDIRECTING:ti.FAILED),(0,xe.h)(D=>D!==ti.REDIRECTING),(0,Ge.q)(1)).subscribe(()=>{F()})}function as(x){throw x}function Bn(x,F,D){return F.parse("/")}const rr={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},pn={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let un=(()=>{class x{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){var D;if("computed"===this.canceledNavigationResolution)return null===(D=this.location.getState())||void 0===D?void 0:D.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){var D,$;this.disposed=!1,this.currentPageId=0,this.console=(0,m.f3M)(m.c2e),this.isNgZoneEnabled=!1,this.options=(0,m.f3M)(wi,{optional:!0})||{},this.pendingTasks=(0,m.f3M)(m.HDt),this.errorHandler=this.options.errorHandler||as,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||Bn,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,m.f3M)(os),this.routeReuseStrategy=(0,m.f3M)(Ar),this.titleStrategy=(0,m.f3M)(Ln),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=null!==(D=null===($=(0,m.f3M)(j,{optional:!0}))||void 0===$?void 0:$.flat())&&void 0!==D?D:[],this.navigationTransitions=(0,m.f3M)(rn),this.urlSerializer=(0,m.f3M)(Ee),this.location=(0,m.f3M)(Tt.Ye),this.componentInputBindingEnabled=!!(0,m.f3M)(Jn,{optional:!0}),this.isNgZoneEnabled=(0,m.f3M)(m.R0b)instanceof m.R0b&&m.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Dr,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=Xn(0,null),this.navigationTransitions.setupNavigations(this).subscribe(J=>{var Pe;this.lastSuccessfulId=J.id,this.currentPageId=null!==(Pe=this.browserPageId)&&void 0!==Pe?Pe:0},J=>{this.console.warn(`Unhandled Navigation Error: ${J}`)})}resetRootComponentType(D){this.routerState.root.component=D,this.navigationTransitions.rootComponentType=D}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const D=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),W,D)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(D=>{const $="popstate"===D.type?"popstate":"hashchange";"popstate"===$&&setTimeout(()=>{this.navigateToSyncWithBrowser(D.url,$,D.state)},0)}))}navigateToSyncWithBrowser(D,$,J){const Pe={replaceUrl:!0},Te=null!=J&&J.navigationId?J:null;if(J){const en={...J};delete en.navigationId,delete en.\u0275routerPageId,0!==Object.keys(en).length&&(Pe.state=en)}const It=this.parseUrl(D);this.scheduleNavigation(It,$,Te,Pe)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(D){this.config=D.map(Us),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(D,$={}){const{relativeTo:J,queryParams:Pe,fragment:Te,queryParamsHandling:It,preserveFragment:en}=$,Gn=en?this.currentUrlTree.fragment:Te;let Zn,Br=null;switch(It){case"merge":Br={...this.currentUrlTree.queryParams,...Pe};break;case"preserve":Br=this.currentUrlTree.queryParams;break;default:Br=Pe||null}null!==Br&&(Br=this.removeEmptyProps(Br));try{Zn=Nn(J?J.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof D[0]||!D[0].startsWith("/"))&&(D=[]),Zn=this.currentUrlTree.root}return nr(Zn,D,Br,null!=Gn?Gn:null)}navigateByUrl(D,$={skipLocationChange:!1}){const J=jt(D)?D:this.parseUrl(D),Pe=this.urlHandlingStrategy.merge(J,this.rawUrlTree);return this.scheduleNavigation(Pe,W,null,$)}navigate(D,$={skipLocationChange:!1}){return function Gt(x){for(let F=0;F<x.length;F++)if(null==x[F])throw new m.vHH(4008,!1)}(D),this.navigateByUrl(this.createUrlTree(D,$),$)}serializeUrl(D){return this.urlSerializer.serialize(D)}parseUrl(D){let $;try{$=this.urlSerializer.parse(D)}catch(J){$=this.malformedUriErrorHandler(J,this.urlSerializer,D)}return $}isActive(D,$){let J;if(J=!0===$?{...rr}:!1===$?{...pn}:$,jt(D))return wn(this.currentUrlTree,D,J);const Pe=this.parseUrl(D);return wn(this.currentUrlTree,Pe,J)}removeEmptyProps(D){return Object.keys(D).reduce(($,J)=>{const Pe=D[J];return null!=Pe&&($[J]=Pe),$},{})}scheduleNavigation(D,$,J,Pe,Te){if(this.disposed)return Promise.resolve(!1);let It,en,Gn;Te?(It=Te.resolve,en=Te.reject,Gn=Te.promise):Gn=new Promise((Zn,ls)=>{It=Zn,en=ls});const Br=this.pendingTasks.add();return Jr(this,()=>{Promise.resolve().then(()=>this.pendingTasks.remove(Br))}),this.navigationTransitions.handleNavigationRequest({source:$,restoredState:J,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:D,extras:Pe,resolve:It,reject:en,promise:Gn,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Gn.catch(Zn=>Promise.reject(Zn))}setBrowserUrl(D,$){const J=this.urlSerializer.serialize(D);if(this.location.isCurrentPathEqualTo(J)||$.extras.replaceUrl){const It={...$.extras.state,...this.generateNgRouterState($.id,this.browserPageId)};this.location.replaceState(J,"",It)}else{var Pe;const Te={...$.extras.state,...this.generateNgRouterState($.id,(null!==(Pe=this.browserPageId)&&void 0!==Pe?Pe:0)+1)};this.location.go(J,"",Te)}}restoreHistory(D,$=!1){if("computed"===this.canceledNavigationResolution){var J,Pe;const Te=null!==(J=this.browserPageId)&&void 0!==J?J:this.currentPageId,It=this.currentPageId-Te;0!==It?this.location.historyGo(It):this.currentUrlTree===(null===(Pe=this.getCurrentNavigation())||void 0===Pe?void 0:Pe.finalUrl)&&0===It&&(this.resetState(D),this.browserUrlTree=D.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&($&&this.resetState(D),this.resetUrlToCurrentUrlTree())}resetState(D){this.routerState=D.currentRouterState,this.currentUrlTree=D.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,D.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(D,$){return"computed"===this.canceledNavigationResolution?{navigationId:D,\u0275routerPageId:$}:{navigationId:D}}}return x.\u0275fac=function(D){return new(D||x)},x.\u0275prov=m.Yz7({token:x,factory:x.\u0275fac,providedIn:"root"}),x})(),_n=(()=>{class x{constructor(D,$,J,Pe,Te,It){var en;this.router=D,this.route=$,this.tabIndexAttribute=J,this.renderer=Pe,this.el=Te,this.locationStrategy=It,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.href=null,this.commands=null,this.onChanges=new Et.x;const Gn=null===(en=Te.nativeElement.tagName)||void 0===en?void 0:en.toLowerCase();this.isAnchorElement="a"===Gn||"area"===Gn,this.isAnchorElement?this.subscription=D.events.subscribe(Br=>{Br instanceof oe&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(D){this._preserveFragment=(0,m.D6c)(D)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(D){this._skipLocationChange=(0,m.D6c)(D)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(D){this._replaceUrl=(0,m.D6c)(D)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(D){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",D)}ngOnChanges(D){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(D){null!=D?(this.commands=Array.isArray(D)?D:[D],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(D,$,J,Pe,Te){return!!(null===this.urlTree||this.isAnchorElement&&(0!==D||$||J||Pe||Te||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){var D;null===(D=this.subscription)||void 0===D||D.unsubscribe()}updateHref(){var D;this.href=null!==this.urlTree&&this.locationStrategy?null===(D=this.locationStrategy)||void 0===D?void 0:D.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const $=null===this.href?null:(0,m.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",$)}applyAttributeValue(D,$){const J=this.renderer,Pe=this.el.nativeElement;null!==$?J.setAttribute(Pe,D,$):J.removeAttribute(Pe,D)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return x.\u0275fac=function(D){return new(D||x)(m.Y36(un),m.Y36($s),m.$8M("tabindex"),m.Y36(m.Qsj),m.Y36(m.SBq),m.Y36(Tt.S$))},x.\u0275dir=m.lG2({type:x,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(D,$){1&D&&m.NdJ("click",function(Pe){return $.onClick(Pe.button,Pe.ctrlKey,Pe.shiftKey,Pe.altKey,Pe.metaKey)}),2&D&&m.uIk("target",$.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[m.TTD]}),x})();class Yo{}let _a=(()=>{class x{preload(D,$){return $().pipe(Pt(()=>(0,Ne.of)(null)))}}return x.\u0275fac=function(D){return new(D||x)},x.\u0275prov=m.Yz7({token:x,factory:x.\u0275fac,providedIn:"root"}),x})(),bc=(()=>{class x{constructor(D,$,J,Pe,Te){this.router=D,this.injector=J,this.preloadingStrategy=Pe,this.loader=Te}setUpPreloading(){this.subscription=this.router.events.pipe((0,xe.h)(D=>D instanceof oe),vt(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(D,$){const J=[];for(const en of $){var Pe,Te;en.providers&&!en._injector&&(en._injector=(0,m.MMx)(en.providers,D,`Route: ${en.path}`));const Gn=null!==(Pe=en._injector)&&void 0!==Pe?Pe:D,Br=null!==(Te=en._loadedInjector)&&void 0!==Te?Te:Gn;var It;(en.loadChildren&&!en._loadedRoutes&&void 0===en.canLoad||en.loadComponent&&!en._loadedComponent)&&J.push(this.preloadConfig(Gn,en)),(en.children||en._loadedRoutes)&&J.push(this.processRoutes(Br,null!==(It=en.children)&&void 0!==It?It:en._loadedRoutes))}return(0,Le.D)(J).pipe((0,Mn.J)())}preloadConfig(D,$){return this.preloadingStrategy.preload($,()=>{let J;J=$.loadChildren&&void 0===$.canLoad?this.loader.loadChildren(D,$):(0,Ne.of)(null);const Pe=J.pipe((0,Be.z)(Te=>{var It;return null===Te?(0,Ne.of)(void 0):($._loadedRoutes=Te.routes,$._loadedInjector=Te.injector,this.processRoutes(null!==(It=Te.injector)&&void 0!==It?It:D,Te.routes))}));if($.loadComponent&&!$._loadedComponent){const Te=this.loader.loadComponent($);return(0,Le.D)([Pe,Te]).pipe((0,Mn.J)())}return Pe})}}return x.\u0275fac=function(D){return new(D||x)(m.LFG(un),m.LFG(m.Sil),m.LFG(m.lqb),m.LFG(Yo),m.LFG(we))},x.\u0275prov=m.Yz7({token:x,factory:x.\u0275fac,providedIn:"root"}),x})();const Dc=new m.OlP("");let jl=(()=>{class x{constructor(D,$,J,Pe,Te={}){this.urlSerializer=D,this.transitions=$,this.viewportScroller=J,this.zone=Pe,this.options=Te,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},Te.scrollPositionRestoration=Te.scrollPositionRestoration||"disabled",Te.anchorScrolling=Te.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(D=>{D instanceof ye?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=D.navigationTrigger,this.restoredId=D.restoredState?D.restoredState.navigationId:0):D instanceof oe?(this.lastId=D.id,this.scheduleScrollEvent(D,this.urlSerializer.parse(D.urlAfterRedirects).fragment)):D instanceof ie&&0===D.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(D,this.urlSerializer.parse(D.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(D=>{D instanceof Dn&&(D.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(D.position):D.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(D.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(D,$){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Dn(D,"popstate"===this.lastSource?this.store[this.restoredId]:null,$))})},0)})}ngOnDestroy(){var D,$;null===(D=this.routerEventsSubscription)||void 0===D||D.unsubscribe(),null===($=this.scrollEventsSubscription)||void 0===$||$.unsubscribe()}}return x.\u0275fac=function(D){m.$Z()},x.\u0275prov=m.Yz7({token:x,factory:x.\u0275fac}),x})();function po(x,F){return{\u0275kind:x,\u0275providers:F}}function gs(){const x=(0,m.f3M)(m.zs3);return F=>{var D,$;const J=x.get(m.z2F);if(F!==J.components[0])return;const Pe=x.get(un),Te=x.get(Pr);1===x.get(Dl)&&Pe.initialNavigation(),null===(D=x.get(Fn,null,m.XFs.Optional))||void 0===D||D.setUpPreloading(),null===($=x.get(Dc,null,m.XFs.Optional))||void 0===$||$.init(),Pe.resetRootComponentType(J.componentTypes[0]),Te.closed||(Te.next(),Te.complete(),Te.unsubscribe())}}const Pr=new m.OlP("",{factory:()=>new Et.x}),Dl=new m.OlP("",{providedIn:"root",factory:()=>1}),Fn=new m.OlP("");function cu(x){return po(0,[{provide:Fn,useExisting:bc},{provide:Yo,useExisting:x}])}const Ja=new m.OlP("ROUTER_FORROOT_GUARD"),Fu=[Tt.Ye,{provide:Ee,useClass:Ye},un,Fi,{provide:$s,useFactory:function Mi(x){return x.routerState.root},deps:[un]},we,[]];function Tc(){return new m.PXZ("Router",un)}let No=(()=>{class x{constructor(D){}static forRoot(D,$){return{ngModule:x,providers:[Fu,[],{provide:j,multi:!0,useValue:D},{provide:Ja,useFactory:tl,deps:[[un,new m.FiY,new m.tp0]]},{provide:wi,useValue:$||{}},null!=$&&$.useHash?{provide:Tt.S$,useClass:Tt.Do}:{provide:Tt.S$,useClass:Tt.b0},{provide:Dc,useFactory:()=>{const x=(0,m.f3M)(Tt.EM),F=(0,m.f3M)(m.R0b),D=(0,m.f3M)(wi),$=(0,m.f3M)(rn),J=(0,m.f3M)(Ee);return D.scrollOffset&&x.setOffset(D.scrollOffset),new jl(J,$,x,F,D)}},null!=$&&$.preloadingStrategy?cu($.preloadingStrategy).\u0275providers:[],{provide:m.PXZ,multi:!0,useFactory:Tc},null!=$&&$.initialNavigation?Lu($):[],null!=$&&$.bindToComponentInputs?po(8,[hr,{provide:Jn,useExisting:hr}]).\u0275providers:[],[{provide:Vt,useFactory:gs},{provide:m.tb,multi:!0,useExisting:Vt}]]}}static forChild(D){return{ngModule:x,providers:[{provide:j,multi:!0,useValue:D}]}}}return x.\u0275fac=function(D){return new(D||x)(m.LFG(Ja,8))},x.\u0275mod=m.oAB({type:x}),x.\u0275inj=m.cJS({}),x})();function tl(x){return"guarded"}function Lu(x){return["disabled"===x.initialNavigation?po(3,[{provide:m.ip1,multi:!0,useFactory:()=>{const F=(0,m.f3M)(un);return()=>{F.setUpLocationChangeListener()}}},{provide:Dl,useValue:2}]).\u0275providers:[],"enabledBlocking"===x.initialNavigation?po(2,[{provide:Dl,useValue:0},{provide:m.ip1,multi:!0,deps:[m.zs3],useFactory:F=>{const D=F.get(Tt.V_,Promise.resolve());return()=>D.then(()=>new Promise($=>{const J=F.get(un),Pe=F.get(Pr);Jr(J,()=>{$(!0)}),F.get(rn).afterPreactivation=()=>($(!0),Pe.closed?(0,Ne.of)(void 0):Pe),J.initialNavigation()}))}}]).\u0275providers:[]]}const Vt=new m.OlP("")},579:(vn,ft,k)=>{"use strict";k.d(ft,{EI:()=>et,Gb:()=>Ye,Iv:()=>Yn,Kz:()=>K,Xd:()=>Rn,lT:()=>Qt,xP:()=>sr});var m=k(5861),g=k(6881),le=k(1877),_e=k(2090),Le=k(4859);k(4727);const he="analytics",Ie="firebase_id",Fe="origin",Ce=6e4,me="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",je="https://www.googletagmanager.com/gtag/js",ge=new le.Yd("@firebase/analytics"),Ze=new _e.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function yt($e){if(!$e.startsWith(je)){const _t=Ze.create("invalid-gtag-resource",{gtagURL:$e});return ge.warn(_t.message),""}return $e}function Ae($e){return Promise.all($e.map(_t=>_t.catch(Rt=>Rt)))}function it(){return(it=(0,m.Z)(function*($e,_t,Rt,Zt,Wt,fn){const kt=Zt[Wt];try{if(kt)yield _t[kt];else{const an=(yield Ae(Rt)).find(wt=>wt.measurementId===Wt);an&&(yield _t[an.appId])}}catch(Kt){ge.error(Kt)}$e("config",Wt,fn)})).apply(this,arguments)}function st(){return(st=(0,m.Z)(function*($e,_t,Rt,Zt,Wt){try{let fn=[];if(Wt&&Wt.send_to){let kt=Wt.send_to;Array.isArray(kt)||(kt=[kt]);const Kt=yield Ae(Rt);for(const an of kt){const wt=Kt.find(jt=>jt.measurementId===an),bt=wt&&_t[wt.appId];if(!bt){fn=[];break}fn.push(bt)}}0===fn.length&&(fn=Object.values(_t)),yield Promise.all(fn),$e("event",Zt,Wt||{})}catch(fn){ge.error(fn)}})).apply(this,arguments)}const ot=30,fe=new class Tt{constructor(_t={},Rt=1e3){this.throttleMetadata=_t,this.intervalMillis=Rt}getThrottleMetadata(_t){return this.throttleMetadata[_t]}setThrottleMetadata(_t,Rt){this.throttleMetadata[_t]=Rt}deleteThrottleMetadata(_t){delete this.throttleMetadata[_t]}};function Oe($e){return new Headers({Accept:"application/json","x-goog-api-key":$e})}function Qe(){return(Qe=(0,m.Z)(function*($e){var _t;const{appId:Rt,apiKey:Zt}=$e,Wt={method:"GET",headers:Oe(Zt)},fn=me.replace("{app-id}",Rt),kt=yield fetch(fn,Wt);if(200!==kt.status&&304!==kt.status){let Kt="";try{const an=yield kt.json();null!==(_t=an.error)&&void 0!==_t&&_t.message&&(Kt=an.error.message)}catch{}throw Ze.create("config-fetch-failed",{httpStatus:kt.status,responseMessage:Kt})}return kt.json()})).apply(this,arguments)}function Be(){return(Be=(0,m.Z)(function*($e,_t=fe,Rt){const{appId:Zt,apiKey:Wt,measurementId:fn}=$e.options;if(!Zt)throw Ze.create("no-app-id");if(!Wt){if(fn)return{measurementId:fn,appId:Zt};throw Ze.create("no-api-key")}const kt=_t.getThrottleMetadata(Zt)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Kt=new ce;return setTimeout((0,m.Z)(function*(){Kt.abort()}),void 0!==Rt?Rt:Ce),We({appId:Zt,apiKey:Wt,measurementId:fn},kt,Kt,_t)})).apply(this,arguments)}function We($e,_t,Rt){return vt.apply(this,arguments)}function vt(){return vt=(0,m.Z)(function*($e,{throttleEndTimeMillis:_t,backoffCount:Rt},Zt,Wt=fe){var fn;const{appId:kt,measurementId:Kt}=$e;try{yield function ht($e,_t){return new Promise((Rt,Zt)=>{const Wt=Math.max(_t-Date.now(),0),fn=setTimeout(Rt,Wt);$e.addEventListener(()=>{clearTimeout(fn),Zt(Ze.create("fetch-throttle",{throttleEndTimeMillis:_t}))})})}(Zt,_t)}catch(an){if(Kt)return ge.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Kt} provided in the "measurementId" field in the local Firebase config. [${null==an?void 0:an.message}]`),{appId:kt,measurementId:Kt};throw an}try{const an=yield function Ge($e){return Qe.apply(this,arguments)}($e);return Wt.deleteThrottleMetadata(kt),an}catch(an){const wt=an;if(!function Pt($e){if(!($e instanceof _e.ZR&&$e.customData))return!1;const _t=Number($e.customData.httpStatus);return 429===_t||500===_t||503===_t||504===_t}(wt)){if(Wt.deleteThrottleMetadata(kt),Kt)return ge.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Kt} provided in the "measurementId" field in the local Firebase config. [${null==wt?void 0:wt.message}]`),{appId:kt,measurementId:Kt};throw an}const bt=503===Number(null===(fn=null==wt?void 0:wt.customData)||void 0===fn?void 0:fn.httpStatus)?(0,_e.$s)(Rt,Wt.intervalMillis,ot):(0,_e.$s)(Rt,Wt.intervalMillis),jt={throttleEndTimeMillis:Date.now()+bt,backoffCount:Rt+1};return Wt.setThrottleMetadata(kt,jt),ge.debug(`Calling attemptFetch again in ${bt} millis`),We($e,jt,Zt,Wt)}}),vt.apply(this,arguments)}class ce{constructor(){this.listeners=[]}addEventListener(_t){this.listeners.push(_t)}abort(){this.listeners.forEach(_t=>_t())}}let cn,fr;function rt(){return(rt=(0,m.Z)(function*($e,_t,Rt,Zt,Wt){if(Wt&&Wt.global)$e("event",Rt,Zt);else{const fn=yield _t;$e("event",Rt,Object.assign(Object.assign({},Zt),{send_to:fn}))}})).apply(this,arguments)}function qt(){return(qt=(0,m.Z)(function*($e,_t,Rt,Zt){if(Zt&&Zt.global)return $e("set",{screen_name:Rt}),Promise.resolve();$e("config",yield _t,{update:!0,screen_name:Rt})})).apply(this,arguments)}function Mn(){return(Mn=(0,m.Z)(function*($e,_t,Rt,Zt){if(Zt&&Zt.global)return $e("set",{user_id:Rt}),Promise.resolve();$e("config",yield _t,{update:!0,user_id:Rt})})).apply(this,arguments)}function Lt(){return(Lt=(0,m.Z)(function*($e,_t,Rt,Zt){if(Zt&&Zt.global){const Wt={};for(const fn of Object.keys(Rt))Wt[`user_properties.${fn}`]=Rt[fn];return $e("set",Wt),Promise.resolve()}$e("config",yield _t,{update:!0,user_properties:Rt})})).apply(this,arguments)}function ir(){return(ir=(0,m.Z)(function*($e,_t){const Rt=yield $e;window[`ga-disable-${Rt}`]=!_t})).apply(this,arguments)}function Sn(){return(Sn=(0,m.Z)(function*(){if(!(0,_e.hl)())return ge.warn(Ze.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,_e.eu)()}catch($e){return ge.warn(Ze.create("indexeddb-unavailable",{errorInfo:null==$e?void 0:$e.toString()}).message),!1}return!0})).apply(this,arguments)}function $r(){return $r=(0,m.Z)(function*($e,_t,Rt,Zt,Wt,fn,kt){var Kt;const an=function xe($e){return Be.apply(this,arguments)}($e);an.then(Nn=>{Rt[Nn.measurementId]=Nn.appId,$e.options.measurementId&&Nn.measurementId!==$e.options.measurementId&&ge.warn(`The measurement ID in the local Firebase config (${$e.options.measurementId}) does not match the measurement ID fetched from the server (${Nn.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Nn=>ge.error(Nn)),_t.push(an);const wt=function cr(){return Sn.apply(this,arguments)}().then(Nn=>{if(Nn)return Zt.getId()}),[bt,jt]=yield Promise.all([an,wt]);(function Ct($e){const _t=window.document.getElementsByTagName("script");for(const Rt of Object.values(_t))if(Rt.src&&Rt.src.includes(je)&&Rt.src.includes($e))return Rt;return null})(fn)||function pt($e,_t){const Rt=function De($e,_t){let Rt;return window.trustedTypes&&(Rt=window.trustedTypes.createPolicy($e,_t)),Rt}("firebase-js-sdk-policy",{createScriptURL:yt}),Zt=document.createElement("script"),Wt=`${je}?l=${$e}&id=${_t}`;Zt.src=Rt?null==Rt?void 0:Rt.createScriptURL(Wt):Wt,Zt.async=!0,document.head.appendChild(Zt)}(fn,bt.measurementId),fr&&(Wt("consent","default",fr),function tn($e){fr=$e}(void 0)),Wt("js",new Date);const mn=null!==(Kt=null==kt?void 0:kt.config)&&void 0!==Kt?Kt:{};return mn[Fe]="firebase",mn.update=!0,null!=jt&&(mn[Ie]=jt),Wt("config",bt.measurementId,mn),cn&&(Wt("set",cn),function _r($e){cn=$e}(void 0)),bt.measurementId}),$r.apply(this,arguments)}class wn{constructor(_t){this.app=_t}_delete(){return delete dn[this.app.options.appId],Promise.resolve()}}let dn={},Vn=[];const Mr={};let br,Dr,Rr="dataLayer",qn="gtag",zn=!1;function Rn($e){if(zn)throw Ze.create("already-initialized");$e.dataLayerName&&(Rr=$e.dataLayerName),$e.gtagName&&(qn=$e.gtagName)}function $n($e,_t,Rt){!function Fr(){const $e=[];if((0,_e.ru)()&&$e.push("This is a browser extension environment."),(0,_e.zI)()||$e.push("Cookies are not available."),$e.length>0){const _t=$e.map((Zt,Wt)=>`(${Wt+1}) ${Zt}`).join(" "),Rt=Ze.create("invalid-analytics-context",{errorInfo:_t});ge.warn(Rt.message)}}();const Zt=$e.options.appId;if(!Zt)throw Ze.create("no-app-id");if(!$e.options.apiKey){if(!$e.options.measurementId)throw Ze.create("no-api-key");ge.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${$e.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=dn[Zt])throw Ze.create("already-exists",{id:Zt});if(!zn){!function ct($e){let _t=[];Array.isArray(window[$e])?_t=window[$e]:window[$e]=_t}(Rr);const{wrappedGtag:fn,gtagCore:kt}=function Ue($e,_t,Rt,Zt,Wt){let fn=function(...kt){window[Zt].push(arguments)};return window[Wt]&&"function"==typeof window[Wt]&&(fn=window[Wt]),window[Wt]=function Je($e,_t,Rt,Zt){function fn(){return fn=(0,m.Z)(function*(kt,...Kt){try{if("event"===kt){const[an,wt]=Kt;yield function ut($e,_t,Rt,Zt,Wt){return st.apply(this,arguments)}($e,_t,Rt,an,wt)}else if("config"===kt){const[an,wt]=Kt;yield function qe($e,_t,Rt,Zt,Wt,fn){return it.apply(this,arguments)}($e,_t,Rt,Zt,an,wt)}else if("consent"===kt){const[an]=Kt;$e("consent","update",an)}else if("get"===kt){const[an,wt,bt]=Kt;$e("get",an,wt,bt)}else if("set"===kt){const[an]=Kt;$e("set",an)}else $e(kt,...Kt)}catch(an){ge.error(an)}}),fn.apply(this,arguments)}return function Wt(kt){return fn.apply(this,arguments)}}(fn,$e,_t,Rt),{gtagCore:fn,wrappedGtag:window[Wt]}}(dn,Vn,Mr,Rr,qn);Dr=fn,br=kt,zn=!0}return dn[Zt]=function kr($e,_t,Rt,Zt,Wt,fn,kt){return $r.apply(this,arguments)}($e,Vn,Mr,_t,br,Rr,Rt),new wn($e)}function Ye(){return Mt.apply(this,arguments)}function Mt(){return(Mt=(0,m.Z)(function*(){if((0,_e.ru)()||!(0,_e.zI)()||!(0,_e.hl)())return!1;try{return yield(0,_e.eu)()}catch{return!1}})).apply(this,arguments)}function Qt($e,_t,Rt){$e=(0,_e.m9)($e),function Ft($e,_t,Rt,Zt){return qt.apply(this,arguments)}(Dr,dn[$e.app.options.appId],_t,Rt).catch(Zt=>ge.error(Zt))}function Yn($e,_t,Rt){$e=(0,_e.m9)($e),function Cn($e,_t,Rt,Zt){return Mn.apply(this,arguments)}(Dr,dn[$e.app.options.appId],_t,Rt).catch(Zt=>ge.error(Zt))}function sr($e,_t,Rt){$e=(0,_e.m9)($e),function An($e,_t,Rt,Zt){return Lt.apply(this,arguments)}(Dr,dn[$e.app.options.appId],_t,Rt).catch(Zt=>ge.error(Zt))}function et($e,_t){$e=(0,_e.m9)($e),function tr($e,_t){return ir.apply(this,arguments)}(dn[$e.app.options.appId],_t).catch(Rt=>ge.error(Rt))}function K($e,_t,Rt,Zt){$e=(0,_e.m9)($e),function xt($e,_t,Rt,Zt,Wt){return rt.apply(this,arguments)}(Dr,dn[$e.app.options.appId],_t,Rt,Zt).catch(Wt=>ge.error(Wt))}const q="@firebase/analytics";!function lt(){(0,g._registerComponent)(new Le.wA(he,(_t,{options:Rt})=>$n(_t.getProvider("app").getImmediate(),_t.getProvider("installations-internal").getImmediate(),Rt),"PUBLIC")),(0,g._registerComponent)(new Le.wA("analytics-internal",function $e(_t){try{const Rt=_t.getProvider(he).getImmediate();return{logEvent:(Zt,Wt,fn)=>K(Rt,Zt,Wt,fn)}}catch(Rt){throw Ze.create("interop-component-reg-failed",{reason:Rt})}},"PRIVATE")),(0,g.registerVersion)(q,"0.10.0"),(0,g.registerVersion)(q,"0.10.0","esm2017")}()},3942:(vn,ft,k)=>{"use strict";k.d(ft,{Z:()=>Ze});var m=k(2090),g=k(4859),le=k(6881),_e=k(1877);class Le{constructor(Ae,De){this._delegate=Ae,this.firebase=De,(0,le._addComponent)(Ae,new g.wA("app-compat",()=>this,"PUBLIC")),this.container=Ae.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ae){this._delegate.automaticDataCollectionEnabled=Ae}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Ae=>{this._delegate.checkDestroyed(),Ae()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,le.deleteApp)(this._delegate)))}_getService(Ae,De=le._DEFAULT_ENTRY_NAME){var pt;this._delegate.checkDestroyed();const ct=this._delegate.container.getProvider(Ae);return!ct.isInitialized()&&"EXPLICIT"===(null===(pt=ct.getComponent())||void 0===pt?void 0:pt.instantiationMode)&&ct.initialize(),ct.getImmediate({identifier:De})}_removeServiceInstance(Ae,De=le._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Ae).clearInstance(De)}_addComponent(Ae){(0,le._addComponent)(this._delegate,Ae)}_addOrOverwriteComponent(Ae){(0,le._addOrOverwriteComponent)(this._delegate,Ae)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const he=new m.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),Ce=function Fe(){const yt=function Ie(yt){const Ae={},De={__esModule:!0,initializeApp:function qe(Je,Ue={}){const Ct=le.initializeApp(Je,Ue);if((0,m.r3)(Ae,Ct.name))return Ae[Ct.name];const ot=new yt(Ct,De);return Ae[Ct.name]=ot,ot},app:ct,registerVersion:le.registerVersion,setLogLevel:le.setLogLevel,onLog:le.onLog,apps:null,SDK_VERSION:le.SDK_VERSION,INTERNAL:{registerComponent:function ut(Je){const Ue=Je.name,Ct=Ue.replace("-compat","");if(le._registerComponent(Je)&&"PUBLIC"===Je.type){const ot=(Et=ct())=>{if("function"!=typeof Et[Ct])throw he.create("invalid-app-argument",{appName:Ue});return Et[Ct]()};void 0!==Je.serviceProps&&(0,m.ZB)(ot,Je.serviceProps),De[Ct]=ot,yt.prototype[Ct]=function(...Et){return this._getService.bind(this,Ue).apply(this,Je.multipleInstances?Et:[])}}return"PUBLIC"===Je.type?De[Ct]:null},removeApp:function pt(Je){delete Ae[Je]},useAsService:function st(Je,Ue){return"serverAuth"===Ue?null:Ue},modularAPIs:le}};function ct(Je){if(!(0,m.r3)(Ae,Je=Je||le._DEFAULT_ENTRY_NAME))throw he.create("no-app",{appName:Je});return Ae[Je]}return De.default=De,Object.defineProperty(De,"apps",{get:function it(){return Object.keys(Ae).map(Je=>Ae[Je])}}),ct.App=yt,De}(Le);return yt.INTERNAL=Object.assign(Object.assign({},yt.INTERNAL),{createFirebaseNamespace:Fe,extendNamespace:function Ae(De){(0,m.ZB)(yt,De)},createSubscribe:m.ne,ErrorFactory:m.LL,deepExtend:m.ZB}),yt}(),me=new _e.Yd("@firebase/app-compat");if((0,m.jU)()&&void 0!==self.firebase){me.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const yt=self.firebase.SDK_VERSION;yt&&yt.indexOf("LITE")>=0&&me.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Ze=Ce;!function ze(yt){(0,le.registerVersion)("@firebase/app-compat","0.2.10",yt)}()},6881:(vn,ft,k)=>{"use strict";k.r(ft),k.d(ft,{FirebaseError:()=>_e.ZR,SDK_VERSION:()=>Fr,_DEFAULT_ENTRY_NAME:()=>Sn,_addComponent:()=>dn,_addOrOverwriteComponent:()=>Vn,_apps:()=>$r,_clearComponents:()=>br,_components:()=>wn,_getProvider:()=>Rr,_registerComponent:()=>Mr,_removeServiceInstance:()=>qn,deleteApp:()=>Ye,getApp:()=>Ht,getApps:()=>Ee,initializeApp:()=>$n,onLog:()=>hn,registerVersion:()=>Qt,setLogLevel:()=>Tr});var m=k(5861),g=k(4859),le=k(1877),_e=k(2090);const Le=(wt,bt)=>bt.some(jt=>wt instanceof jt);let Ne,he;const Ce=new WeakMap,me=new WeakMap,je=new WeakMap,ge=new WeakMap,ze=new WeakMap;let Ae={get(wt,bt,jt){if(wt instanceof IDBTransaction){if("done"===bt)return me.get(wt);if("objectStoreNames"===bt)return wt.objectStoreNames||je.get(wt);if("store"===bt)return jt.objectStoreNames[1]?void 0:jt.objectStore(jt.objectStoreNames[0])}return qe(wt[bt])},set:(wt,bt,jt)=>(wt[bt]=jt,!0),has:(wt,bt)=>wt instanceof IDBTransaction&&("done"===bt||"store"===bt)||bt in wt};function ct(wt){return"function"==typeof wt?function pt(wt){return wt!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Fe(){return he||(he=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(wt)?function(...bt){return wt.apply(it(this),bt),qe(Ce.get(this))}:function(...bt){return qe(wt.apply(it(this),bt))}:function(bt,...jt){const mn=wt.call(it(this),bt,...jt);return je.set(mn,bt.sort?bt.sort():[bt]),qe(mn)}}(wt):(wt instanceof IDBTransaction&&function yt(wt){if(me.has(wt))return;const bt=new Promise((jt,mn)=>{const Nn=()=>{wt.removeEventListener("complete",nr),wt.removeEventListener("error",Qn),wt.removeEventListener("abort",Qn)},nr=()=>{jt(),Nn()},Qn=()=>{mn(wt.error||new DOMException("AbortError","AbortError")),Nn()};wt.addEventListener("complete",nr),wt.addEventListener("error",Qn),wt.addEventListener("abort",Qn)});me.set(wt,bt)}(wt),Le(wt,function Ie(){return Ne||(Ne=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(wt,Ae):wt)}function qe(wt){if(wt instanceof IDBRequest)return function Ze(wt){const bt=new Promise((jt,mn)=>{const Nn=()=>{wt.removeEventListener("success",nr),wt.removeEventListener("error",Qn)},nr=()=>{jt(qe(wt.result)),Nn()},Qn=()=>{mn(wt.error),Nn()};wt.addEventListener("success",nr),wt.addEventListener("error",Qn)});return bt.then(jt=>{jt instanceof IDBCursor&&Ce.set(jt,wt)}).catch(()=>{}),ze.set(bt,wt),bt}(wt);if(ge.has(wt))return ge.get(wt);const bt=ct(wt);return bt!==wt&&(ge.set(wt,bt),ze.set(bt,wt)),bt}const it=wt=>ze.get(wt),Je=["get","getKey","getAll","getAllKeys","count"],Ue=["put","add","delete","clear"],Ct=new Map;function ot(wt,bt){if(!(wt instanceof IDBDatabase)||bt in wt||"string"!=typeof bt)return;if(Ct.get(bt))return Ct.get(bt);const jt=bt.replace(/FromIndex$/,""),mn=bt!==jt,Nn=Ue.includes(jt);if(!(jt in(mn?IDBIndex:IDBObjectStore).prototype)||!Nn&&!Je.includes(jt))return;const nr=function(){var Qn=(0,m.Z)(function*(Hr,...Lr){const or=this.transaction(Hr,Nn?"readwrite":"readonly");let dr=or.store;return mn&&(dr=dr.index(Lr.shift())),(yield Promise.all([dr[jt](...Lr),Nn&&or.done]))[0]});return function(Lr){return Qn.apply(this,arguments)}}();return Ct.set(bt,nr),nr}!function De(wt){Ae=wt(Ae)}(wt=>({...wt,get:(bt,jt,mn)=>ot(bt,jt)||wt.get(bt,jt,mn),has:(bt,jt)=>!!ot(bt,jt)||wt.has(bt,jt)}));class Et{constructor(bt){this.container=bt}getPlatformInfoString(){return this.container.getProviders().map(jt=>{if(function Tt(wt){const bt=wt.getComponent();return"VERSION"===(null==bt?void 0:bt.type)}(jt)){const mn=jt.getImmediate();return`${mn.library}/${mn.version}`}return null}).filter(jt=>jt).join(" ")}}const fe="@firebase/app",Ge=new le.Yd("@firebase/app"),Sn="[DEFAULT]",kr={[fe]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},$r=new Map,wn=new Map;function dn(wt,bt){try{wt.container.addComponent(bt)}catch(jt){Ge.debug(`Component ${bt.name} failed to register with FirebaseApp ${wt.name}`,jt)}}function Vn(wt,bt){wt.container.addOrOverwriteComponent(bt)}function Mr(wt){const bt=wt.name;if(wn.has(bt))return Ge.debug(`There were multiple attempts to register component ${bt}.`),!1;wn.set(bt,wt);for(const jt of $r.values())dn(jt,wt);return!0}function Rr(wt,bt){const jt=wt.container.getProvider("heartbeat").getImmediate({optional:!0});return jt&&jt.triggerHeartbeat(),wt.container.getProvider(bt)}function qn(wt,bt,jt=Sn){Rr(wt,bt).clearInstance(jt)}function br(){wn.clear()}const zn=new _e.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Rn{constructor(bt,jt,mn){this._isDeleted=!1,this._options=Object.assign({},bt),this._config=Object.assign({},jt),this._name=jt.name,this._automaticDataCollectionEnabled=jt.automaticDataCollectionEnabled,this._container=mn,this.container.addComponent(new g.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(bt){this.checkDestroyed(),this._automaticDataCollectionEnabled=bt}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(bt){this._isDeleted=bt}checkDestroyed(){if(this.isDeleted)throw zn.create("app-deleted",{appName:this._name})}}const Fr="9.22.0";function $n(wt,bt={}){let jt=wt;"object"!=typeof bt&&(bt={name:bt});const mn=Object.assign({name:Sn,automaticDataCollectionEnabled:!1},bt),Nn=mn.name;if("string"!=typeof Nn||!Nn)throw zn.create("bad-app-name",{appName:String(Nn)});if(jt||(jt=(0,_e.aH)()),!jt)throw zn.create("no-options");const nr=$r.get(Nn);if(nr){if((0,_e.vZ)(jt,nr.options)&&(0,_e.vZ)(mn,nr.config))return nr;throw zn.create("duplicate-app",{appName:Nn})}const Qn=new g.H0(Nn);for(const Lr of wn.values())Qn.addComponent(Lr);const Hr=new Rn(jt,mn,Qn);return $r.set(Nn,Hr),Hr}function Ht(wt=Sn){const bt=$r.get(wt);if(!bt&&wt===Sn&&(0,_e.aH)())return $n();if(!bt)throw zn.create("no-app",{appName:wt});return bt}function Ee(){return Array.from($r.values())}function Ye(wt){return Mt.apply(this,arguments)}function Mt(){return(Mt=(0,m.Z)(function*(wt){const bt=wt.name;$r.has(bt)&&($r.delete(bt),yield Promise.all(wt.container.getProviders().map(jt=>jt.delete())),wt.isDeleted=!0)})).apply(this,arguments)}function Qt(wt,bt,jt){var mn;let Nn=null!==(mn=kr[wt])&&void 0!==mn?mn:wt;jt&&(Nn+=`-${jt}`);const nr=Nn.match(/\s|\//),Qn=bt.match(/\s|\//);if(nr||Qn){const Hr=[`Unable to register library "${Nn}" with version "${bt}":`];return nr&&Hr.push(`library name "${Nn}" contains illegal characters (whitespace or "/")`),nr&&Qn&&Hr.push("and"),Qn&&Hr.push(`version name "${bt}" contains illegal characters (whitespace or "/")`),void Ge.warn(Hr.join(" "))}Mr(new g.wA(`${Nn}-version`,()=>({library:Nn,version:bt}),"VERSION"))}function hn(wt,bt){if(null!==wt&&"function"!=typeof wt)throw zn.create("invalid-log-argument");(0,le.Am)(wt,bt)}function Tr(wt){(0,le.Ub)(wt)}const Yn="firebase-heartbeat-database",sr=1,et="firebase-heartbeat-store";let pe=null;function K(){return pe||(pe=function ut(wt,bt,{blocked:jt,upgrade:mn,blocking:Nn,terminated:nr}={}){const Qn=indexedDB.open(wt,bt),Hr=qe(Qn);return mn&&Qn.addEventListener("upgradeneeded",Lr=>{mn(qe(Qn.result),Lr.oldVersion,Lr.newVersion,qe(Qn.transaction),Lr)}),jt&&Qn.addEventListener("blocked",Lr=>jt(Lr.oldVersion,Lr.newVersion,Lr)),Hr.then(Lr=>{nr&&Lr.addEventListener("close",()=>nr()),Nn&&Lr.addEventListener("versionchange",or=>Nn(or.oldVersion,or.newVersion,or))}).catch(()=>{}),Hr}(Yn,sr,{upgrade:(wt,bt)=>{0===bt&&wt.createObjectStore(et)}}).catch(wt=>{throw zn.create("idb-open",{originalErrorMessage:wt.message})})),pe}function q(){return(q=(0,m.Z)(function*(wt){try{return yield(yield K()).transaction(et).objectStore(et).get($e(wt))}catch(bt){if(bt instanceof _e.ZR)Ge.warn(bt.message);else{const jt=zn.create("idb-get",{originalErrorMessage:null==bt?void 0:bt.message});Ge.warn(jt.message)}}})).apply(this,arguments)}function Re(wt,bt){return lt.apply(this,arguments)}function lt(){return(lt=(0,m.Z)(function*(wt,bt){try{const mn=(yield K()).transaction(et,"readwrite");yield mn.objectStore(et).put(bt,$e(wt)),yield mn.done}catch(jt){if(jt instanceof _e.ZR)Ge.warn(jt.message);else{const mn=zn.create("idb-set",{originalErrorMessage:null==jt?void 0:jt.message});Ge.warn(mn.message)}}})).apply(this,arguments)}function $e(wt){return`${wt.name}!${wt.options.appId}`}class Zt{constructor(bt){this.container=bt,this._heartbeatsCache=null;const jt=this.container.getProvider("app").getImmediate();this._storage=new kt(jt),this._heartbeatsCachePromise=this._storage.read().then(mn=>(this._heartbeatsCache=mn,mn))}triggerHeartbeat(){var bt=this;return(0,m.Z)(function*(){const mn=bt.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Nn=Wt();if(null===bt._heartbeatsCache&&(bt._heartbeatsCache=yield bt._heartbeatsCachePromise),bt._heartbeatsCache.lastSentHeartbeatDate!==Nn&&!bt._heartbeatsCache.heartbeats.some(nr=>nr.date===Nn))return bt._heartbeatsCache.heartbeats.push({date:Nn,agent:mn}),bt._heartbeatsCache.heartbeats=bt._heartbeatsCache.heartbeats.filter(nr=>{const Qn=new Date(nr.date).valueOf();return Date.now()-Qn<=2592e6}),bt._storage.overwrite(bt._heartbeatsCache)})()}getHeartbeatsHeader(){var bt=this;return(0,m.Z)(function*(){if(null===bt._heartbeatsCache&&(yield bt._heartbeatsCachePromise),null===bt._heartbeatsCache||0===bt._heartbeatsCache.heartbeats.length)return"";const jt=Wt(),{heartbeatsToSend:mn,unsentEntries:Nn}=function fn(wt,bt=1024){const jt=[];let mn=wt.slice();for(const Nn of wt){const nr=jt.find(Qn=>Qn.agent===Nn.agent);if(nr){if(nr.dates.push(Nn.date),Kt(jt)>bt){nr.dates.pop();break}}else if(jt.push({agent:Nn.agent,dates:[Nn.date]}),Kt(jt)>bt){jt.pop();break}mn=mn.slice(1)}return{heartbeatsToSend:jt,unsentEntries:mn}}(bt._heartbeatsCache.heartbeats),nr=(0,_e.L)(JSON.stringify({version:2,heartbeats:mn}));return bt._heartbeatsCache.lastSentHeartbeatDate=jt,Nn.length>0?(bt._heartbeatsCache.heartbeats=Nn,yield bt._storage.overwrite(bt._heartbeatsCache)):(bt._heartbeatsCache.heartbeats=[],bt._storage.overwrite(bt._heartbeatsCache)),nr})()}}function Wt(){return(new Date).toISOString().substring(0,10)}class kt{constructor(bt){this.app=bt,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,m.Z)(function*(){return!!(0,_e.hl)()&&(0,_e.eu)().then(()=>!0).catch(()=>!1)})()}read(){var bt=this;return(0,m.Z)(function*(){return(yield bt._canUseIndexedDBPromise)&&(yield function z(wt){return q.apply(this,arguments)}(bt.app))||{heartbeats:[]}})()}overwrite(bt){var jt=this;return(0,m.Z)(function*(){var mn;if(yield jt._canUseIndexedDBPromise){const nr=yield jt.read();return Re(jt.app,{lastSentHeartbeatDate:null!==(mn=bt.lastSentHeartbeatDate)&&void 0!==mn?mn:nr.lastSentHeartbeatDate,heartbeats:bt.heartbeats})}})()}add(bt){var jt=this;return(0,m.Z)(function*(){var mn;if(yield jt._canUseIndexedDBPromise){const nr=yield jt.read();return Re(jt.app,{lastSentHeartbeatDate:null!==(mn=bt.lastSentHeartbeatDate)&&void 0!==mn?mn:nr.lastSentHeartbeatDate,heartbeats:[...nr.heartbeats,...bt.heartbeats]})}})()}}function Kt(wt){return(0,_e.L)(JSON.stringify({version:2,heartbeats:wt})).length}!function an(wt){Mr(new g.wA("platform-logger",bt=>new Et(bt),"PRIVATE")),Mr(new g.wA("heartbeat",bt=>new Zt(bt),"PRIVATE")),Qt(fe,"0.9.10",wt),Qt(fe,"0.9.10","esm2017"),Qt("fire-js","")}("")},4859:(vn,ft,k)=>{"use strict";k.d(ft,{H0:()=>Ie,wA:()=>le,zt:()=>Le});var m=k(5861),g=k(2090);class le{constructor(Ce,me,je){this.name=Ce,this.instanceFactory=me,this.type=je,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(Ce){return this.instantiationMode=Ce,this}setMultipleInstances(Ce){return this.multipleInstances=Ce,this}setServiceProps(Ce){return this.serviceProps=Ce,this}setInstanceCreatedCallback(Ce){return this.onInstanceCreated=Ce,this}}const _e="[DEFAULT]";class Le{constructor(Ce,me){this.name=Ce,this.container=me,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(Ce){const me=this.normalizeInstanceIdentifier(Ce);if(!this.instancesDeferred.has(me)){const je=new g.BH;if(this.instancesDeferred.set(me,je),this.isInitialized(me)||this.shouldAutoInitialize())try{const ge=this.getOrInitializeService({instanceIdentifier:me});ge&&je.resolve(ge)}catch{}}return this.instancesDeferred.get(me).promise}getImmediate(Ce){var me;const je=this.normalizeInstanceIdentifier(null==Ce?void 0:Ce.identifier),ge=null!==(me=null==Ce?void 0:Ce.optional)&&void 0!==me&&me;if(!this.isInitialized(je)&&!this.shouldAutoInitialize()){if(ge)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:je})}catch(ze){if(ge)return null;throw ze}}getComponent(){return this.component}setComponent(Ce){if(Ce.name!==this.name)throw Error(`Mismatching Component ${Ce.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=Ce,this.shouldAutoInitialize()){if(function he(Fe){return"EAGER"===Fe.instantiationMode}(Ce))try{this.getOrInitializeService({instanceIdentifier:_e})}catch{}for(const[me,je]of this.instancesDeferred.entries()){const ge=this.normalizeInstanceIdentifier(me);try{const ze=this.getOrInitializeService({instanceIdentifier:ge});je.resolve(ze)}catch{}}}}clearInstance(Ce=_e){this.instancesDeferred.delete(Ce),this.instancesOptions.delete(Ce),this.instances.delete(Ce)}delete(){var Ce=this;return(0,m.Z)(function*(){const me=Array.from(Ce.instances.values());yield Promise.all([...me.filter(je=>"INTERNAL"in je).map(je=>je.INTERNAL.delete()),...me.filter(je=>"_delete"in je).map(je=>je._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(Ce=_e){return this.instances.has(Ce)}getOptions(Ce=_e){return this.instancesOptions.get(Ce)||{}}initialize(Ce={}){const{options:me={}}=Ce,je=this.normalizeInstanceIdentifier(Ce.instanceIdentifier);if(this.isInitialized(je))throw Error(`${this.name}(${je}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const ge=this.getOrInitializeService({instanceIdentifier:je,options:me});for(const[ze,Ze]of this.instancesDeferred.entries())je===this.normalizeInstanceIdentifier(ze)&&Ze.resolve(ge);return ge}onInit(Ce,me){var je;const ge=this.normalizeInstanceIdentifier(me),ze=null!==(je=this.onInitCallbacks.get(ge))&&void 0!==je?je:new Set;ze.add(Ce),this.onInitCallbacks.set(ge,ze);const Ze=this.instances.get(ge);return Ze&&Ce(Ze,ge),()=>{ze.delete(Ce)}}invokeOnInitCallbacks(Ce,me){const je=this.onInitCallbacks.get(me);if(je)for(const ge of je)try{ge(Ce,me)}catch{}}getOrInitializeService({instanceIdentifier:Ce,options:me={}}){let je=this.instances.get(Ce);if(!je&&this.component&&(je=this.component.instanceFactory(this.container,{instanceIdentifier:(Fe=Ce,Fe===_e?void 0:Fe),options:me}),this.instances.set(Ce,je),this.instancesOptions.set(Ce,me),this.invokeOnInitCallbacks(je,Ce),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,Ce,je)}catch{}var Fe;return je||null}normalizeInstanceIdentifier(Ce=_e){return this.component?this.component.multipleInstances?Ce:_e:Ce}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Ie{constructor(Ce){this.name=Ce,this.providers=new Map}addComponent(Ce){const me=this.getProvider(Ce.name);if(me.isComponentSet())throw new Error(`Component ${Ce.name} has already been registered with ${this.name}`);me.setComponent(Ce)}addOrOverwriteComponent(Ce){this.getProvider(Ce.name).isComponentSet()&&this.providers.delete(Ce.name),this.addComponent(Ce)}getProvider(Ce){if(this.providers.has(Ce))return this.providers.get(Ce);const me=new Le(Ce,this);return this.providers.set(Ce,me),me}getProviders(){return Array.from(this.providers.values())}}},4727:(vn,ft,k)=>{"use strict";var m=k(5861),g=k(6881),le=k(4859),_e=k(2090);const Le=(G,ie)=>ie.some(He=>G instanceof He);let Ne,he;const Ce=new WeakMap,me=new WeakMap,je=new WeakMap,ge=new WeakMap,ze=new WeakMap;let Ae={get(G,ie,He){if(G instanceof IDBTransaction){if("done"===ie)return me.get(G);if("objectStoreNames"===ie)return G.objectStoreNames||je.get(G);if("store"===ie)return He.objectStoreNames[1]?void 0:He.objectStore(He.objectStoreNames[0])}return qe(G[ie])},set:(G,ie,He)=>(G[ie]=He,!0),has:(G,ie)=>G instanceof IDBTransaction&&("done"===ie||"store"===ie)||ie in G};function ct(G){return"function"==typeof G?function pt(G){return G!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Fe(){return he||(he=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(G)?function(...ie){return G.apply(it(this),ie),qe(Ce.get(this))}:function(...ie){return qe(G.apply(it(this),ie))}:function(ie,...He){const nt=G.call(it(this),ie,...He);return je.set(nt,ie.sort?ie.sort():[ie]),qe(nt)}}(G):(G instanceof IDBTransaction&&function yt(G){if(me.has(G))return;const ie=new Promise((He,nt)=>{const gt=()=>{G.removeEventListener("complete",St),G.removeEventListener("error",gn),G.removeEventListener("abort",gn)},St=()=>{He(),gt()},gn=()=>{nt(G.error||new DOMException("AbortError","AbortError")),gt()};G.addEventListener("complete",St),G.addEventListener("error",gn),G.addEventListener("abort",gn)});me.set(G,ie)}(G),Le(G,function Ie(){return Ne||(Ne=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(G,Ae):G)}function qe(G){if(G instanceof IDBRequest)return function Ze(G){const ie=new Promise((He,nt)=>{const gt=()=>{G.removeEventListener("success",St),G.removeEventListener("error",gn)},St=()=>{He(qe(G.result)),gt()},gn=()=>{nt(G.error),gt()};G.addEventListener("success",St),G.addEventListener("error",gn)});return ie.then(He=>{He instanceof IDBCursor&&Ce.set(He,G)}).catch(()=>{}),ze.set(ie,G),ie}(G);if(ge.has(G))return ge.get(G);const ie=ct(G);return ie!==G&&(ge.set(G,ie),ze.set(ie,G)),ie}const it=G=>ze.get(G),Je=["get","getKey","getAll","getAllKeys","count"],Ue=["put","add","delete","clear"],Ct=new Map;function ot(G,ie){if(!(G instanceof IDBDatabase)||ie in G||"string"!=typeof ie)return;if(Ct.get(ie))return Ct.get(ie);const He=ie.replace(/FromIndex$/,""),nt=ie!==He,gt=Ue.includes(He);if(!(He in(nt?IDBIndex:IDBObjectStore).prototype)||!gt&&!Je.includes(He))return;const St=function(){var gn=(0,m.Z)(function*(En,...Wn){const vr=this.transaction(En,gt?"readwrite":"readonly");let Ci=vr.store;return nt&&(Ci=Ci.index(Wn.shift())),(yield Promise.all([Ci[He](...Wn),gt&&vr.done]))[0]});return function(Wn){return gn.apply(this,arguments)}}();return Ct.set(ie,St),St}!function De(G){Ae=G(Ae)}(G=>({...G,get:(ie,He,nt)=>ot(ie,He)||G.get(ie,He,nt),has:(ie,He)=>!!ot(ie,He)||G.has(ie,He)}));const Et="@firebase/installations",Tt="0.6.4",fe=1e4,Oe=`w:${Tt}`,Ge="FIS_v2",Qe="https://firebaseinstallations.googleapis.com/v1",xe=36e5,ht=new _e.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Pt(G){return G instanceof _e.ZR&&G.code.includes("request-failed")}function ce({projectId:G}){return`${Qe}/projects/${G}/installations`}function cn(G){return{token:G.token,requestStatus:2,expiresIn:An(G.expiresIn),creationTime:Date.now()}}function xt(G,ie){return rt.apply(this,arguments)}function rt(){return(rt=(0,m.Z)(function*(G,ie){const nt=(yield ie.json()).error;return ht.create("request-failed",{requestName:G,serverCode:nt.code,serverMessage:nt.message,serverStatus:nt.status})})).apply(this,arguments)}function Ft({apiKey:G}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":G})}function Cn(G){return Mn.apply(this,arguments)}function Mn(){return(Mn=(0,m.Z)(function*(G){const ie=yield G();return ie.status>=500&&ie.status<600?G():ie})).apply(this,arguments)}function An(G){return Number(G.replace("s","000"))}function $t(){return($t=(0,m.Z)(function*({appConfig:G,heartbeatServiceProvider:ie},{fid:He}){const nt=ce(G),gt=Ft(G),St=ie.getImmediate({optional:!0});if(St){const vr=yield St.getHeartbeatsHeader();vr&&gt.append("x-firebase-client",vr)}const En={method:"POST",headers:gt,body:JSON.stringify({fid:He,authVersion:Ge,appId:G.appId,sdkVersion:Oe})},Wn=yield Cn(()=>fetch(nt,En));if(Wn.ok){const vr=yield Wn.json();return{fid:vr.fid||He,registrationStatus:2,refreshToken:vr.refreshToken,authToken:cn(vr.authToken)}}throw yield xt("Create Installation",Wn)})).apply(this,arguments)}function tr(G){return new Promise(ie=>{setTimeout(ie,G)})}const fr=/^[cdef][\w-]{21}$/,tn="";function _r(){try{const G=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(G),G[0]=112+G[0]%16;const He=function cr(G){return function ir(G){return btoa(String.fromCharCode(...G)).replace(/\+/g,"-").replace(/\//g,"_")}(G).substr(0,22)}(G);return fr.test(He)?He:tn}catch{return tn}}function Sn(G){return`${G.appName}!${G.appId}`}const kr=new Map;function $r(G,ie){const He=Sn(G);Vn(He,ie),function Mr(G,ie){const He=function qn(){return!Rr&&"BroadcastChannel"in self&&(Rr=new BroadcastChannel("[Firebase] FID Change"),Rr.onmessage=G=>{Vn(G.data.key,G.data.fid)}),Rr}();He&&He.postMessage({key:G,fid:ie}),function br(){0===kr.size&&Rr&&(Rr.close(),Rr=null)}()}(He,ie)}function Vn(G,ie){const He=kr.get(G);if(He)for(const nt of He)nt(ie)}let Rr=null;const Dr="firebase-installations-database",zn=1,Rn="firebase-installations-store";let Fr=null;function $n(){return Fr||(Fr=function ut(G,ie,{blocked:He,upgrade:nt,blocking:gt,terminated:St}={}){const gn=indexedDB.open(G,ie),En=qe(gn);return nt&&gn.addEventListener("upgradeneeded",Wn=>{nt(qe(gn.result),Wn.oldVersion,Wn.newVersion,qe(gn.transaction))}),He&&gn.addEventListener("blocked",()=>He()),En.then(Wn=>{St&&Wn.addEventListener("close",()=>St()),gt&&Wn.addEventListener("versionchange",()=>gt())}).catch(()=>{}),En}(Dr,zn,{upgrade:(G,ie)=>{0===ie&&G.createObjectStore(Rn)}})),Fr}function Ht(G,ie){return Ee.apply(this,arguments)}function Ee(){return(Ee=(0,m.Z)(function*(G,ie){const He=Sn(G),gt=(yield $n()).transaction(Rn,"readwrite"),St=gt.objectStore(Rn),gn=yield St.get(He);return yield St.put(ie,He),yield gt.done,(!gn||gn.fid!==ie.fid)&&$r(G,ie.fid),ie})).apply(this,arguments)}function Ye(G){return Mt.apply(this,arguments)}function Mt(){return(Mt=(0,m.Z)(function*(G){const ie=Sn(G),nt=(yield $n()).transaction(Rn,"readwrite");yield nt.objectStore(Rn).delete(ie),yield nt.done})).apply(this,arguments)}function Qt(G,ie){return hn.apply(this,arguments)}function hn(){return(hn=(0,m.Z)(function*(G,ie){const He=Sn(G),gt=(yield $n()).transaction(Rn,"readwrite"),St=gt.objectStore(Rn),gn=yield St.get(He),En=ie(gn);return void 0===En?yield St.delete(He):yield St.put(En,He),yield gt.done,En&&(!gn||gn.fid!==En.fid)&&$r(G,En.fid),En})).apply(this,arguments)}function Tr(G){return Yn.apply(this,arguments)}function Yn(){return Yn=(0,m.Z)(function*(G){let ie;const He=yield Qt(G.appConfig,nt=>{const gt=function sr(G){return lt(G||{fid:_r(),registrationStatus:0})}(nt),St=function et(G,ie){if(0===ie.registrationStatus){if(!navigator.onLine)return{installationEntry:ie,registrationPromise:Promise.reject(ht.create("app-offline"))};const He={fid:ie.fid,registrationStatus:1,registrationTime:Date.now()},nt=function pe(G,ie){return K.apply(this,arguments)}(G,He);return{installationEntry:He,registrationPromise:nt}}return 1===ie.registrationStatus?{installationEntry:ie,registrationPromise:z(G)}:{installationEntry:ie}}(G,gt);return ie=St.registrationPromise,St.installationEntry});return He.fid===tn?{installationEntry:yield ie}:{installationEntry:He,registrationPromise:ie}}),Yn.apply(this,arguments)}function K(){return K=(0,m.Z)(function*(G,ie){try{const He=yield function Tn(G,ie){return $t.apply(this,arguments)}(G,ie);return Ht(G.appConfig,He)}catch(He){throw Pt(He)&&409===He.customData.serverCode?yield Ye(G.appConfig):yield Ht(G.appConfig,{fid:ie.fid,registrationStatus:0}),He}}),K.apply(this,arguments)}function z(G){return q.apply(this,arguments)}function q(){return(q=(0,m.Z)(function*(G){let ie=yield Re(G.appConfig);for(;1===ie.registrationStatus;)yield tr(100),ie=yield Re(G.appConfig);if(0===ie.registrationStatus){const{installationEntry:He,registrationPromise:nt}=yield Tr(G);return nt||He}return ie})).apply(this,arguments)}function Re(G){return Qt(G,ie=>{if(!ie)throw ht.create("installation-not-found");return lt(ie)})}function lt(G){return function $e(G){return 1===G.registrationStatus&&G.registrationTime+fe<Date.now()}(G)?{fid:G.fid,registrationStatus:0}:G}function Rt(){return(Rt=(0,m.Z)(function*({appConfig:G,heartbeatServiceProvider:ie},He){const nt=function Zt(G,{fid:ie}){return`${ce(G)}/${ie}/authTokens:generate`}(G,He),gt=function qt(G,{refreshToken:ie}){const He=Ft(G);return He.append("Authorization",function Lt(G){return`${Ge} ${G}`}(ie)),He}(G,He),St=ie.getImmediate({optional:!0});if(St){const vr=yield St.getHeartbeatsHeader();vr&&gt.append("x-firebase-client",vr)}const En={method:"POST",headers:gt,body:JSON.stringify({installation:{sdkVersion:Oe,appId:G.appId}})},Wn=yield Cn(()=>fetch(nt,En));if(Wn.ok)return cn(yield Wn.json());throw yield xt("Generate Auth Token",Wn)})).apply(this,arguments)}function Wt(G){return fn.apply(this,arguments)}function fn(){return fn=(0,m.Z)(function*(G,ie=!1){let He;const nt=yield Qt(G.appConfig,St=>{if(!jt(St))throw ht.create("not-registered");const gn=St.authToken;if(!ie&&function mn(G){return 2===G.requestStatus&&!function Nn(G){const ie=Date.now();return ie<G.creationTime||G.creationTime+G.expiresIn<ie+xe}(G)}(gn))return St;if(1===gn.requestStatus)return He=function kt(G,ie){return Kt.apply(this,arguments)}(G,ie),St;{if(!navigator.onLine)throw ht.create("app-offline");const En=function nr(G){const ie={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},G),{authToken:ie})}(St);return He=function wt(G,ie){return bt.apply(this,arguments)}(G,En),En}});return He?yield He:nt.authToken}),fn.apply(this,arguments)}function Kt(){return(Kt=(0,m.Z)(function*(G,ie){let He=yield an(G.appConfig);for(;1===He.authToken.requestStatus;)yield tr(100),He=yield an(G.appConfig);const nt=He.authToken;return 0===nt.requestStatus?Wt(G,ie):nt})).apply(this,arguments)}function an(G){return Qt(G,ie=>{if(!jt(ie))throw ht.create("not-registered");return function Qn(G){return 1===G.requestStatus&&G.requestTime+fe<Date.now()}(ie.authToken)?Object.assign(Object.assign({},ie),{authToken:{requestStatus:0}}):ie})}function bt(){return bt=(0,m.Z)(function*(G,ie){try{const He=yield function _t(G,ie){return Rt.apply(this,arguments)}(G,ie),nt=Object.assign(Object.assign({},ie),{authToken:He});return yield Ht(G.appConfig,nt),He}catch(He){if(!Pt(He)||401!==He.customData.serverCode&&404!==He.customData.serverCode){const nt=Object.assign(Object.assign({},ie),{authToken:{requestStatus:0}});yield Ht(G.appConfig,nt)}else yield Ye(G.appConfig);throw He}}),bt.apply(this,arguments)}function jt(G){return void 0!==G&&2===G.registrationStatus}function Lr(){return(Lr=(0,m.Z)(function*(G){const ie=G,{installationEntry:He,registrationPromise:nt}=yield Tr(ie);return nt?nt.catch(console.error):Wt(ie).catch(console.error),He.fid})).apply(this,arguments)}function dr(){return dr=(0,m.Z)(function*(G,ie=!1){const He=G;return yield function li(G){return xs.apply(this,arguments)}(He),(yield Wt(He,ie)).token}),dr.apply(this,arguments)}function xs(){return(xs=(0,m.Z)(function*(G){const{registrationPromise:ie}=yield Tr(G);ie&&(yield ie)})).apply(this,arguments)}function ds(G){return ht.create("missing-app-config-values",{valueName:G})}const Ps="installations",ee=G=>{const ie=G.getProvider("app").getImmediate(),He=function rs(G){if(!G||!G.options)throw ds("App Configuration");if(!G.name)throw ds("App Name");const ie=["projectId","apiKey","appId"];for(const He of ie)if(!G.options[He])throw ds(He);return{appName:G.name,projectId:G.options.projectId,apiKey:G.options.apiKey,appId:G.options.appId}}(ie);return{app:ie,appConfig:He,heartbeatServiceProvider:(0,g._getProvider)(ie,"heartbeat"),_delete:()=>Promise.resolve()}},ye=G=>{const ie=G.getProvider("app").getImmediate(),He=(0,g._getProvider)(ie,Ps).getImmediate();return{getId:()=>function Hr(G){return Lr.apply(this,arguments)}(He),getToken:gt=>function or(G){return dr.apply(this,arguments)}(He,gt)}};(function oe(){(0,g._registerComponent)(new le.wA(Ps,ee,"PUBLIC")),(0,g._registerComponent)(new le.wA("installations-internal",ye,"PRIVATE"))})(),(0,g.registerVersion)(Et,Tt),(0,g.registerVersion)(Et,Tt,"esm2017")},1877:(vn,ft,k)=>{"use strict";k.d(ft,{Am:()=>Fe,Ub:()=>Ie,Yd:()=>he,in:()=>g});const m=[];var g=(()=>((g=g||{})[g.DEBUG=0]="DEBUG",g[g.VERBOSE=1]="VERBOSE",g[g.INFO=2]="INFO",g[g.WARN=3]="WARN",g[g.ERROR=4]="ERROR",g[g.SILENT=5]="SILENT",g))();const le={debug:g.DEBUG,verbose:g.VERBOSE,info:g.INFO,warn:g.WARN,error:g.ERROR,silent:g.SILENT},_e=g.INFO,Le={[g.DEBUG]:"log",[g.VERBOSE]:"log",[g.INFO]:"info",[g.WARN]:"warn",[g.ERROR]:"error"},Ne=(Ce,me,...je)=>{if(me<Ce.logLevel)return;const ge=(new Date).toISOString(),ze=Le[me];if(!ze)throw new Error(`Attempted to log a message with an invalid logType (value: ${me})`);console[ze](`[${ge}]  ${Ce.name}:`,...je)};class he{constructor(me){this.name=me,this._logLevel=_e,this._logHandler=Ne,this._userLogHandler=null,m.push(this)}get logLevel(){return this._logLevel}set logLevel(me){if(!(me in g))throw new TypeError(`Invalid value "${me}" assigned to \`logLevel\``);this._logLevel=me}setLogLevel(me){this._logLevel="string"==typeof me?le[me]:me}get logHandler(){return this._logHandler}set logHandler(me){if("function"!=typeof me)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=me}get userLogHandler(){return this._userLogHandler}set userLogHandler(me){this._userLogHandler=me}debug(...me){this._userLogHandler&&this._userLogHandler(this,g.DEBUG,...me),this._logHandler(this,g.DEBUG,...me)}log(...me){this._userLogHandler&&this._userLogHandler(this,g.VERBOSE,...me),this._logHandler(this,g.VERBOSE,...me)}info(...me){this._userLogHandler&&this._userLogHandler(this,g.INFO,...me),this._logHandler(this,g.INFO,...me)}warn(...me){this._userLogHandler&&this._userLogHandler(this,g.WARN,...me),this._logHandler(this,g.WARN,...me)}error(...me){this._userLogHandler&&this._userLogHandler(this,g.ERROR,...me),this._logHandler(this,g.ERROR,...me)}}function Ie(Ce){m.forEach(me=>{me.setLogLevel(Ce)})}function Fe(Ce,me){for(const je of m){let ge=null;me&&me.level&&(ge=le[me.level]),je.userLogHandler=null===Ce?null:(ze,Ze,...yt)=>{const Ae=yt.map(De=>{if(null==De)return null;if("string"==typeof De)return De;if("number"==typeof De||"boolean"==typeof De)return De.toString();if(De instanceof Error)return De.message;try{return JSON.stringify(De)}catch{return null}}).filter(De=>De).join(" ");Ze>=(null!=ge?ge:ze.logLevel)&&Ce({level:g[Ze].toLowerCase(),message:Ae,args:yt,type:ze.name})}}}},9972:(vn,ft,k)=>{"use strict";k.d(ft,{Br:()=>Hi,dr:()=>_r,oU:()=>Sn,cs:()=>Ds,YG:()=>Vn,Sm:()=>Mr,PM:()=>Rr,FN:()=>qn,Zi:()=>br,tO:()=>Dr,Dq:()=>zn,hM:()=>Fr,wI:()=>$n,W2:()=>Ht,IJ:()=>Mt,W4:()=>Qt,zq:()=>hn,jY:()=>Yn,Gu:()=>sr,gu:()=>et,Xz:()=>pe,pK:()=>q,Ie:()=>Re,Q$:()=>Wt,q_:()=>fn,fG:()=>wt,jP:()=>Jn,Nd:()=>oi,yq:()=>ee,ZU:()=>ye,UN:()=>jo,yW:()=>oe,wd:()=>He,sr:()=>St,Pc:()=>fo,r4:()=>Oi,HT:()=>Pi,SH:()=>qi,X1:()=>Yr,t4:()=>vr,j9:()=>Cn,yF:()=>Ts});var m=k(5861),g=k(2223),le=k(5030),_e=k(655),Le=k(4968),Ne=k(7579),he=k(1135),Ie=k(5559),ge=(k(9613),k(3551),k(1138),k(1898),k(5273)),ze=k(3577),Ze=k(3982),yt=k(9866),De=(k(8126),k(2583)),qe=(k(3457),k(4349),k(4083)),ut=k(9300),st=k(3900),Je=k(1884),Ue=k(4755);const ot=ge.i,fe=["*"],Oe=["outlet"],Ge=[[["","slot","top"]],"*"],Qe=["[slot=top]","*"],We=T=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(T):"function"==typeof requestAnimationFrame?requestAnimationFrame(T):setTimeout(T);let vt=(()=>{class T{constructor(S,Z){this.injector=S,this.el=Z,this.onChange=()=>{},this.onTouched=()=>{}}writeValue(S){this.el.nativeElement.value=this.lastValue=S,ht(this.el)}handleValueChange(S,Z){S===this.el.nativeElement&&(Z!==this.lastValue&&(this.lastValue=Z,this.onChange(Z)),ht(this.el))}_handleBlurEvent(S){S===this.el.nativeElement&&(this.onTouched(),ht(this.el))}registerOnChange(S){this.onChange=S}registerOnTouched(S){this.onTouched=S}setDisabledState(S){this.el.nativeElement.disabled=S}ngOnDestroy(){this.statusChanges&&this.statusChanges.unsubscribe()}ngAfterViewInit(){let S;try{S=this.injector.get(le.a5)}catch{}if(!S)return;S.statusChanges&&(this.statusChanges=S.statusChanges.subscribe(()=>ht(this.el)));const Z=S.control;Z&&["markAsTouched","markAllAsTouched","markAsUntouched","markAsDirty","markAsPristine"].forEach(Xt=>{if(typeof Z[Xt]<"u"){const jn=Z[Xt].bind(Z);Z[Xt]=(...pr)=>{jn(...pr),ht(this.el)}}})}}return T.\u0275fac=function(S){return new(S||T)(g.Y36(g.zs3),g.Y36(g.SBq))},T.\u0275dir=g.lG2({type:T,hostBindings:function(S,Z){1&S&&g.NdJ("ionBlur",function(Xt){return Z._handleBlurEvent(Xt.target)})}}),T})();const ht=T=>{We(()=>{const X=T.nativeElement,S=null!=X.value&&X.value.toString().length>0,Z=Pt(X);ce(X,Z);const ke=X.closest("ion-item");ke&&ce(ke,S?[...Z,"item-has-value"]:Z)})},Pt=T=>{const X=T.classList,S=[];for(let Z=0;Z<X.length;Z++){const ke=X.item(Z);null!==ke&&cn(ke,"ng-")&&S.push(`ion-${ke.substring(3)}`)}return S},ce=(T,X)=>{const S=T.classList;S.remove("ion-valid","ion-invalid","ion-touched","ion-untouched","ion-dirty","ion-pristine"),S.add(...X)},cn=(T,X)=>T.substring(0,X.length)===X;let Cn=(()=>{class T extends vt{constructor(S,Z){super(S,Z)}_handleInputEvent(S){this.handleValueChange(S,S.value)}}return T.\u0275fac=function(S){return new(S||T)(g.Y36(g.zs3),g.Y36(g.SBq))},T.\u0275dir=g.lG2({type:T,selectors:[["ion-input",3,"type","number"],["ion-textarea"],["ion-searchbar"]],hostBindings:function(S,Z){1&S&&g.NdJ("ionInput",function(Xt){return Z._handleInputEvent(Xt.target)})},features:[g._Bn([{provide:le.JU,useExisting:T,multi:!0}]),g.qOj]}),T})();const Mn=(T,X)=>{const S=T.prototype;X.forEach(Z=>{Object.defineProperty(S,Z,{get(){return this.el[Z]},set(ke){this.z.runOutsideAngular(()=>this.el[Z]=ke)}})})},An=(T,X)=>{const S=T.prototype;X.forEach(Z=>{S[Z]=function(){const ke=arguments;return this.z.runOutsideAngular(()=>this.el[Z].apply(this.el,ke))}})},Lt=(T,X,S)=>{S.forEach(Z=>T[Z]=(0,Le.R)(X,Z))};function $t(T){return function(S){const{defineCustomElementFn:Z,inputs:ke,methods:Xt}=T;return void 0!==Z&&Z(),ke&&Mn(S,ke),Xt&&An(S,Xt),S}}let _r=(()=>{let T=class{constructor(S,Z,ke){this.z=ke,S.detach(),this.el=Z.nativeElement}};return T.\u0275fac=function(S){return new(S||T)(g.Y36(g.sBO),g.Y36(g.SBq),g.Y36(g.R0b))},T.\u0275cmp=g.Xpm({type:T,selectors:[["ion-app"]],ngContentSelectors:fe,decls:1,vars:0,template:function(S,Z){1&S&&(g.F$t(),g.Hsn(0))},encapsulation:2,changeDetection:0}),T=(0,_e.gn)([$t({})],T),T})(),Sn=(()=>{let T=class{constructor(S,Z,ke){this.z=ke,S.detach(),this.el=Z.nativeElement}};return T.\u0275fac=function(S){return new(S||T)(g.Y36(g.sBO),g.Y36(g.SBq),g.Y36(g.R0b))},T.\u0275cmp=g.Xpm({type:T,selectors:[["ion-back-button"]],inputs:{color:"color",defaultHref:"defaultHref",disabled:"disabled",icon:"icon",mode:"mode",routerAnimation:"routerAnimation",text:"text",type:"type"},ngContentSelectors:fe,decls:1,vars:0,template:function(S,Z){1&S&&(g.F$t(),g.Hsn(0))},encapsulation:2,changeDetection:0}),T=(0,_e.gn)([$t({inputs:["color","defaultHref","disabled","icon","mode","routerAnimation","text","type"]})],T),T})(),Vn=(()=>{let T=class{constructor(S,Z,ke){this.z=ke,S.detach(),this.el=Z.nativeElement,Lt(this,this.el,["ionFocus","ionBlur"])}};return T.\u0275fac=function(S){return new(S||T)(g.Y36(g.sBO),g.Y36(g.SBq),g.Y36(g.R0b))},T.\u0275cmp=g.Xpm({type:T,selectors:[["ion-button"]],inputs:{buttonType:"buttonType",color:"color",disabled:"disabled",download:"download",expand:"expand",fill:"fill",form:"form",href:"href",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",shape:"shape",size:"size",strong:"strong",target:"target",type:"type"},ngContentSelectors:fe,decls:1,vars:0,template:function(S,Z){1&S&&(g.F$t(),g.Hsn(0))},encapsulation:2,changeDetection:0}),T=(0,_e.gn)([$t({inputs:["buttonType","color","disabled","download","expand","fill","form","href","mode","rel","routerAnimation","routerDirection","shape","size","strong","target","type"]})],T),T})(),Mr=(()=>{let T=class{constructor(S,Z,ke){this.z=ke,S.detach(),this.el=Z.nativeElement}};return T.\u0275fac=function(S){return new(S||T)(g.Y36(g.sBO),g.Y36(g.SBq),g.Y36(g.R0b))},T.\u0275cmp=g.Xpm({type:T,selectors:[["ion-buttons"]],inputs:{collapse:"collapse"},ngContentSelectors:fe,decls:1,vars:0,template:function(S,Z){1&S&&(g.F$t(),g.Hsn(0))},encapsulation:2,changeDetection:0}),T=(0,_e.gn)([$t({inputs:["collapse"]})],T),T})(),Rr=(()=>{let T=class{constructor(S,Z,ke){this.z=ke,S.detach(),this.el=Z.nativeElement}};return T.\u0275fac=function(S){return new(S||T)(g.Y36(g.sBO),g.Y36(g.SBq),g.Y36(g.R0b))},T.\u0275cmp=g.Xpm({type:T,selectors:[["ion-card"]],inputs:{button:"button",color:"color",disabled:"disabled",download:"download",href:"href",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",target:"target",type:"type"},ngContentSelectors:fe,decls:1,vars:0,template:function(S,Z){1&S&&(g.F$t(),g.Hsn(0))},encapsulation:2,changeDetection:0}),T=(0,_e.gn)([$t({inputs:["button","color","disabled","download","href","mode","rel","routerAnimation","routerDirection","target","type"]})],T),T})(),qn=(()=>{let T=class{constructor(S,Z,ke){this.z=ke,S.detach(),this.el=Z.nativeElement}};return T.\u0275fac=function(S){return new(S||T)(g.Y36(g.sBO),g.Y36(g.SBq),g.Y36(g.R0b))},T.\u0275cmp=g.Xpm({type:T,selectors:[["ion-card-content"]],inputs:{mode:"mode"},ngContentSelectors:fe,decls:1,vars:0,template:function(S,Z){1&S&&(g.F$t(),g.Hsn(0))},encapsulation:2,changeDetection:0}),T=(0,_e.gn)([$t({inputs:["mode"]})],T),T})(),br=(()=>{let T=class{constructor(S,Z,ke){this.z=ke,S.detach(),this.el=Z.nativeElement}};return T.\u0275fac=function(S){return new(S||T)(g.Y36(g.sBO),g.Y36(g.SBq),g.Y36(g.R0b))},T.\u0275cmp=g.Xpm({type:T,selectors:[["ion-card-header"]],inputs:{color:"color",mode:"mode",translucent:"translucent"},ngContentSelectors:fe,decls:1,vars:0,template:function(S,Z){1&S&&(g.F$t(),g.Hsn(0))},encapsulation:2,changeDetection:0}),T=(0,_e.gn)([$t({inputs:["color","mode","translucent"]})],T),T})(),Dr=(()=>{let T=class{constructor(S,Z,ke){this.z=ke,S.detach(),this.el=Z.nativeElement}};return T.\u0275fac=function(S){return new(S||T)(g.Y36(g.sBO),g.Y36(g.SBq),g.Y36(g.R0b))},T.\u0275cmp=g.Xpm({type:T,selectors:[["ion-card-subtitle"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:fe,decls:1,vars:0,template:function(S,Z){1&S&&(g.F$t(),g.Hsn(0))},encapsulation:2,changeDetection:0}),T=(0,_e.gn)([$t({inputs:["color","mode"]})],T),T})(),zn=(()=>{let T=class{constructor(S,Z,ke){this.z=ke,S.detach(),this.el=Z.nativeElement}};return T.\u0275fac=function(S){return new(S||T)(g.Y36(g.sBO),g.Y36(g.SBq),g.Y36(g.R0b))},T.\u0275cmp=g.Xpm({type:T,selectors:[["ion-card-title"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:fe,decls:1,vars:0,template:function(S,Z){1&S&&(g.F$t(),g.Hsn(0))},encapsulation:2,changeDetection:0}),T=(0,_e.gn)([$t({inputs:["color","mode"]})],T),T})(),Fr=(()=>{let T=class{constructor(S,Z,ke){this.z=ke,S.detach(),this.el=Z.nativeElement}};return T.\u0275fac=function(S){return new(S||T)(g.Y36(g.sBO),g.Y36(g.SBq),g.Y36(g.R0b))},T.\u0275cmp=g.Xpm({type:T,selectors:[["ion-chip"]],inputs:{color:"color",disabled:"disabled",mode:"mode",outline:"outline"},ngContentSelectors:fe,decls:1,vars:0,template:function(S,Z){1&S&&(g.F$t(),g.Hsn(0))},encapsulation:2,changeDetection:0}),T=(0,_e.gn)([$t({inputs:["color","disabled","mode","outline"]})],T),T})(),$n=(()=>{let T=class{constructor(S,Z,ke){this.z=ke,S.detach(),this.el=Z.nativeElement}};return T.\u0275fac=function(S){return new(S||T)(g.Y36(g.sBO),g.Y36(g.SBq),g.Y36(g.R0b))},T.\u0275cmp=g.Xpm({type:T,selectors:[["ion-col"]],inputs:{offset:"offset",offsetLg:"offsetLg",offsetMd:"offsetMd",offsetSm:"offsetSm",offsetXl:"offsetXl",offsetXs:"offsetXs",pull:"pull",pullLg:"pullLg",pullMd:"pullMd",pullSm:"pullSm",pullXl:"pullXl",pullXs:"pullXs",push:"push",pushLg:"pushLg",pushMd:"pushMd",pushSm:"pushSm",pushXl:"pushXl",pushXs:"pushXs",size:"size",sizeLg:"sizeLg",sizeMd:"sizeMd",sizeSm:"sizeSm",sizeXl:"sizeXl",sizeXs:"sizeXs"},ngContentSelectors:fe,decls:1,vars:0,template:function(S,Z){1&S&&(g.F$t(),g.Hsn(0))},encapsulation:2,changeDetection:0}),T=(0,_e.gn)([$t({inputs:["offset","offsetLg","offsetMd","offsetSm","offsetXl","offsetXs","pull","pullLg","pullMd","pullSm","pullXl","pullXs","push","pushLg","pushMd","pushSm","pushXl","pushXs","size","sizeLg","sizeMd","sizeSm","sizeXl","sizeXs"]})],T),T})(),Ht=(()=>{let T=class{constructor(S,Z,ke){this.z=ke,S.detach(),this.el=Z.nativeElement,Lt(this,this.el,["ionScrollStart","ionScroll","ionScrollEnd"])}};return T.\u0275fac=function(S){return new(S||T)(g.Y36(g.sBO),g.Y36(g.SBq),g.Y36(g.R0b))},T.\u0275cmp=g.Xpm({type:T,selectors:[["ion-content"]],inputs:{color:"color",forceOverscroll:"forceOverscroll",fullscreen:"fullscreen",scrollEvents:"scrollEvents",scrollX:"scrollX",scrollY:"scrollY"},ngContentSelectors:fe,decls:1,vars:0,template:function(S,Z){1&S&&(g.F$t(),g.Hsn(0))},encapsulation:2,changeDetection:0}),T=(0,_e.gn)([$t({inputs:["color","forceOverscroll","fullscreen","scrollEvents","scrollX","scrollY"],methods:["getScrollElement","scrollToTop","scrollToBottom","scrollByPoint","scrollToPoint"]})],T),T})(),Mt=(()=>{let T=class{constructor(S,Z,ke){this.z=ke,S.detach(),this.el=Z.nativeElement}};return T.\u0275fac=function(S){return new(S||T)(g.Y36(g.sBO),g.Y36(g.SBq),g.Y36(g.R0b))},T.\u0275cmp=g.Xpm({type:T,selectors:[["ion-fab"]],inputs:{activated:"activated",edge:"edge",horizontal:"horizontal",vertical:"vertical"},ngContentSelectors:fe,decls:1,vars:0,template:function(S,Z){1&S&&(g.F$t(),g.Hsn(0))},encapsulation:2,changeDetection:0}),T=(0,_e.gn)([$t({inputs:["activated","edge","horizontal","vertical"],methods:["close"]})],T),T})(),Qt=(()=>{let T=class{constructor(S,Z,ke){this.z=ke,S.detach(),this.el=Z.nativeElement,Lt(this,this.el,["ionFocus","ionBlur"])}};return T.\u0275fac=function(S){return new(S||T)(g.Y36(g.sBO),g.Y36(g.SBq),g.Y36(g.R0b))},T.\u0275cmp=g.Xpm({type:T,selectors:[["ion-fab-button"]],inputs:{activated:"activated",closeIcon:"closeIcon",color:"color",disabled:"disabled",download:"download",href:"href",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",show:"show",size:"size",target:"target",translucent:"translucent",type:"type"},ngContentSelectors:fe,decls:1,vars:0,template:function(S,Z){1&S&&(g.F$t(),g.Hsn(0))},encapsulation:2,changeDetection:0}),T=(0,_e.gn)([$t({inputs:["activated","closeIcon","color","disabled","download","href","mode","rel","routerAnimation","routerDirection","show","size","target","translucent","type"]})],T),T})(),hn=(()=>{let T=class{constructor(S,Z,ke){this.z=ke,S.detach(),this.el=Z.nativeElement}};return T.\u0275fac=function(S){return new(S||T)(g.Y36(g.sBO),g.Y36(g.SBq),g.Y36(g.R0b))},T.\u0275cmp=g.Xpm({type:T,selectors:[["ion-fab-list"]],inputs:{activated:"activated",side:"side"},ngContentSelectors:fe,decls:1,vars:0,template:function(S,Z){1&S&&(g.F$t(),g.Hsn(0))},encapsulation:2,changeDetection:0}),T=(0,_e.gn)([$t({inputs:["activated","side"]})],T),T})(),Yn=(()=>{let T=class{constructor(S,Z,ke){this.z=ke,S.detach(),this.el=Z.nativeElement}};return T.\u0275fac=function(S){return new(S||T)(g.Y36(g.sBO),g.Y36(g.SBq),g.Y36(g.R0b))},T.\u0275cmp=g.Xpm({type:T,selectors:[["ion-grid"]],inputs:{fixed:"fixed"},ngContentSelectors:fe,decls:1,vars:0,template:function(S,Z){1&S&&(g.F$t(),g.Hsn(0))},encapsulation:2,changeDetection:0}),T=(0,_e.gn)([$t({inputs:["fixed"]})],T),T})(),sr=(()=>{let T=class{constructor(S,Z,ke){this.z=ke,S.detach(),this.el=Z.nativeElement}};return T.\u0275fac=function(S){return new(S||T)(g.Y36(g.sBO),g.Y36(g.SBq),g.Y36(g.R0b))},T.\u0275cmp=g.Xpm({type:T,selectors:[["ion-header"]],inputs:{collapse:"collapse",mode:"mode",translucent:"translucent"},ngContentSelectors:fe,decls:1,vars:0,template:function(S,Z){1&S&&(g.F$t(),g.Hsn(0))},encapsulation:2,changeDetection:0}),T=(0,_e.gn)([$t({inputs:["collapse","mode","translucent"]})],T),T})(),et=(()=>{let T=class{constructor(S,Z,ke){this.z=ke,S.detach(),this.el=Z.nativeElement}};return T.\u0275fac=function(S){return new(S||T)(g.Y36(g.sBO),g.Y36(g.SBq),g.Y36(g.R0b))},T.\u0275cmp=g.Xpm({type:T,selectors:[["ion-icon"]],inputs:{color:"color",flipRtl:"flipRtl",icon:"icon",ios:"ios",lazy:"lazy",md:"md",mode:"mode",name:"name",sanitize:"sanitize",size:"size",src:"src"},ngContentSelectors:fe,decls:1,vars:0,template:function(S,Z){1&S&&(g.F$t(),g.Hsn(0))},encapsulation:2,changeDetection:0}),T=(0,_e.gn)([$t({inputs:["color","flipRtl","icon","ios","lazy","md","mode","name","sanitize","size","src"]})],T),T})(),pe=(()=>{let T=class{constructor(S,Z,ke){this.z=ke,S.detach(),this.el=Z.nativeElement,Lt(this,this.el,["ionImgWillLoad","ionImgDidLoad","ionError"])}};return T.\u0275fac=function(S){return new(S||T)(g.Y36(g.sBO),g.Y36(g.SBq),g.Y36(g.R0b))},T.\u0275cmp=g.Xpm({type:T,selectors:[["ion-img"]],inputs:{alt:"alt",src:"src"},ngContentSelectors:fe,decls:1,vars:0,template:function(S,Z){1&S&&(g.F$t(),g.Hsn(0))},encapsulation:2,changeDetection:0}),T=(0,_e.gn)([$t({inputs:["alt","src"]})],T),T})(),q=(()=>{let T=class{constructor(S,Z,ke){this.z=ke,S.detach(),this.el=Z.nativeElement,Lt(this,this.el,["ionInput","ionChange","ionBlur","ionFocus"])}};return T.\u0275fac=function(S){return new(S||T)(g.Y36(g.sBO),g.Y36(g.SBq),g.Y36(g.R0b))},T.\u0275cmp=g.Xpm({type:T,selectors:[["ion-input"]],inputs:{accept:"accept",autocapitalize:"autocapitalize",autocomplete:"autocomplete",autocorrect:"autocorrect",autofocus:"autofocus",clearInput:"clearInput",clearOnEdit:"clearOnEdit",color:"color",counter:"counter",counterFormatter:"counterFormatter",debounce:"debounce",disabled:"disabled",enterkeyhint:"enterkeyhint",errorText:"errorText",fill:"fill",helperText:"helperText",inputmode:"inputmode",label:"label",labelPlacement:"labelPlacement",legacy:"legacy",max:"max",maxlength:"maxlength",min:"min",minlength:"minlength",mode:"mode",multiple:"multiple",name:"name",pattern:"pattern",placeholder:"placeholder",readonly:"readonly",required:"required",shape:"shape",size:"size",spellcheck:"spellcheck",step:"step",type:"type",value:"value"},ngContentSelectors:fe,decls:1,vars:0,template:function(S,Z){1&S&&(g.F$t(),g.Hsn(0))},encapsulation:2,changeDetection:0}),T=(0,_e.gn)([$t({inputs:["accept","autocapitalize","autocomplete","autocorrect","autofocus","clearInput","clearOnEdit","color","counter","counterFormatter","debounce","disabled","enterkeyhint","errorText","fill","helperText","inputmode","label","labelPlacement","legacy","max","maxlength","min","minlength","mode","multiple","name","pattern","placeholder","readonly","required","shape","size","spellcheck","step","type","value"],methods:["setFocus","getInputElement"]})],T),T})(),Re=(()=>{let T=class{constructor(S,Z,ke){this.z=ke,S.detach(),this.el=Z.nativeElement}};return T.\u0275fac=function(S){return new(S||T)(g.Y36(g.sBO),g.Y36(g.SBq),g.Y36(g.R0b))},T.\u0275cmp=g.Xpm({type:T,selectors:[["ion-item"]],inputs:{button:"button",color:"color",counter:"counter",counterFormatter:"counterFormatter",detail:"detail",detailIcon:"detailIcon",disabled:"disabled",download:"download",fill:"fill",href:"href",lines:"lines",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",shape:"shape",target:"target",type:"type"},ngContentSelectors:fe,decls:1,vars:0,template:function(S,Z){1&S&&(g.F$t(),g.Hsn(0))},encapsulation:2,changeDetection:0}),T=(0,_e.gn)([$t({inputs:["button","color","counter","counterFormatter","detail","detailIcon","disabled","download","fill","href","lines","mode","rel","routerAnimation","routerDirection","shape","target","type"]})],T),T})(),Wt=(()=>{let T=class{constructor(S,Z,ke){this.z=ke,S.detach(),this.el=Z.nativeElement}};return T.\u0275fac=function(S){return new(S||T)(g.Y36(g.sBO),g.Y36(g.SBq),g.Y36(g.R0b))},T.\u0275cmp=g.Xpm({type:T,selectors:[["ion-label"]],inputs:{color:"color",mode:"mode",position:"position"},ngContentSelectors:fe,decls:1,vars:0,template:function(S,Z){1&S&&(g.F$t(),g.Hsn(0))},encapsulation:2,changeDetection:0}),T=(0,_e.gn)([$t({inputs:["color","mode","position"]})],T),T})(),fn=(()=>{let T=class{constructor(S,Z,ke){this.z=ke,S.detach(),this.el=Z.nativeElement}};return T.\u0275fac=function(S){return new(S||T)(g.Y36(g.sBO),g.Y36(g.SBq),g.Y36(g.R0b))},T.\u0275cmp=g.Xpm({type:T,selectors:[["ion-list"]],inputs:{inset:"inset",lines:"lines",mode:"mode"},ngContentSelectors:fe,decls:1,vars:0,template:function(S,Z){1&S&&(g.F$t(),g.Hsn(0))},encapsulation:2,changeDetection:0}),T=(0,_e.gn)([$t({inputs:["inset","lines","mode"],methods:["closeSlidingItems"]})],T),T})(),wt=(()=>{let T=class{constructor(S,Z,ke){this.z=ke,S.detach(),this.el=Z.nativeElement}};return T.\u0275fac=function(S){return new(S||T)(g.Y36(g.sBO),g.Y36(g.SBq),g.Y36(g.R0b))},T.\u0275cmp=g.Xpm({type:T,selectors:[["ion-menu-button"]],inputs:{autoHide:"autoHide",color:"color",disabled:"disabled",menu:"menu",mode:"mode",type:"type"},ngContentSelectors:fe,decls:1,vars:0,template:function(S,Z){1&S&&(g.F$t(),g.Hsn(0))},encapsulation:2,changeDetection:0}),T=(0,_e.gn)([$t({inputs:["autoHide","color","disabled","menu","mode","type"]})],T),T})(),oi=(()=>{let T=class{constructor(S,Z,ke){this.z=ke,S.detach(),this.el=Z.nativeElement}};return T.\u0275fac=function(S){return new(S||T)(g.Y36(g.sBO),g.Y36(g.SBq),g.Y36(g.R0b))},T.\u0275cmp=g.Xpm({type:T,selectors:[["ion-row"]],ngContentSelectors:fe,decls:1,vars:0,template:function(S,Z){1&S&&(g.F$t(),g.Hsn(0))},encapsulation:2,changeDetection:0}),T=(0,_e.gn)([$t({})],T),T})(),ee=(()=>{let T=class{constructor(S,Z,ke){this.z=ke,S.detach(),this.el=Z.nativeElement}};return T.\u0275fac=function(S){return new(S||T)(g.Y36(g.sBO),g.Y36(g.SBq),g.Y36(g.R0b))},T.\u0275cmp=g.Xpm({type:T,selectors:[["ion-tab-bar"]],inputs:{color:"color",mode:"mode",selectedTab:"selectedTab",translucent:"translucent"},ngContentSelectors:fe,decls:1,vars:0,template:function(S,Z){1&S&&(g.F$t(),g.Hsn(0))},encapsulation:2,changeDetection:0}),T=(0,_e.gn)([$t({inputs:["color","mode","selectedTab","translucent"]})],T),T})(),ye=(()=>{let T=class{constructor(S,Z,ke){this.z=ke,S.detach(),this.el=Z.nativeElement}};return T.\u0275fac=function(S){return new(S||T)(g.Y36(g.sBO),g.Y36(g.SBq),g.Y36(g.R0b))},T.\u0275cmp=g.Xpm({type:T,selectors:[["ion-tab-button"]],inputs:{disabled:"disabled",download:"download",href:"href",layout:"layout",mode:"mode",rel:"rel",selected:"selected",tab:"tab",target:"target"},ngContentSelectors:fe,decls:1,vars:0,template:function(S,Z){1&S&&(g.F$t(),g.Hsn(0))},encapsulation:2,changeDetection:0}),T=(0,_e.gn)([$t({inputs:["disabled","download","href","layout","mode","rel","selected","tab","target"]})],T),T})(),oe=(()=>{let T=class{constructor(S,Z,ke){this.z=ke,S.detach(),this.el=Z.nativeElement}};return T.\u0275fac=function(S){return new(S||T)(g.Y36(g.sBO),g.Y36(g.SBq),g.Y36(g.R0b))},T.\u0275cmp=g.Xpm({type:T,selectors:[["ion-text"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:fe,decls:1,vars:0,template:function(S,Z){1&S&&(g.F$t(),g.Hsn(0))},encapsulation:2,changeDetection:0}),T=(0,_e.gn)([$t({inputs:["color","mode"]})],T),T})(),He=(()=>{let T=class{constructor(S,Z,ke){this.z=ke,S.detach(),this.el=Z.nativeElement}};return T.\u0275fac=function(S){return new(S||T)(g.Y36(g.sBO),g.Y36(g.SBq),g.Y36(g.R0b))},T.\u0275cmp=g.Xpm({type:T,selectors:[["ion-title"]],inputs:{color:"color",size:"size"},ngContentSelectors:fe,decls:1,vars:0,template:function(S,Z){1&S&&(g.F$t(),g.Hsn(0))},encapsulation:2,changeDetection:0}),T=(0,_e.gn)([$t({inputs:["color","size"]})],T),T})(),St=(()=>{let T=class{constructor(S,Z,ke){this.z=ke,S.detach(),this.el=Z.nativeElement}};return T.\u0275fac=function(S){return new(S||T)(g.Y36(g.sBO),g.Y36(g.SBq),g.Y36(g.R0b))},T.\u0275cmp=g.Xpm({type:T,selectors:[["ion-toolbar"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:fe,decls:1,vars:0,template:function(S,Z){1&S&&(g.F$t(),g.Hsn(0))},encapsulation:2,changeDetection:0}),T=(0,_e.gn)([$t({inputs:["color","mode"]})],T),T})(),gn=(()=>{class T{get(S,Z){const ke=Wn();return ke?ke.get(S,Z):null}getBoolean(S,Z){const ke=Wn();return!!ke&&ke.getBoolean(S,Z)}getNumber(S,Z){const ke=Wn();return ke?ke.getNumber(S,Z):0}}return T.\u0275fac=function(S){return new(S||T)},T.\u0275prov=g.Yz7({token:T,factory:T.\u0275fac,providedIn:"root"}),T})();const En=new g.OlP("USERCONFIG"),Wn=()=>{if(typeof window<"u"){const T=window.Ionic;if(null!=T&&T.config)return T.config}return null};let vr=(()=>{class T{constructor(S,Z){this.doc=S,this.backButton=new Ne.x,this.keyboardDidShow=new Ne.x,this.keyboardDidHide=new Ne.x,this.pause=new Ne.x,this.resume=new Ne.x,this.resize=new Ne.x,Z.run(()=>{var ke;let Xt;this.win=S.defaultView,this.backButton.subscribeWithPriority=function(jn,pr){return this.subscribe(Ur=>Ur.register(jn,jr=>Z.run(()=>pr(jr))))},ii(this.pause,S,"pause"),ii(this.resume,S,"resume"),ii(this.backButton,S,"ionBackButton"),ii(this.resize,this.win,"resize"),ii(this.keyboardDidShow,this.win,"ionKeyboardDidShow"),ii(this.keyboardDidHide,this.win,"ionKeyboardDidHide"),this._readyPromise=new Promise(jn=>{Xt=jn}),null!==(ke=this.win)&&void 0!==ke&&ke.cordova?S.addEventListener("deviceready",()=>{Xt("cordova")},{once:!0}):Xt("dom")})}is(S){return(0,ge.a)(this.win,S)}platforms(){return(0,ge.g)(this.win)}ready(){return this._readyPromise}get isRTL(){return"rtl"===this.doc.dir}getQueryParam(S){return Ci(this.win.location.href,S)}isLandscape(){return!this.isPortrait()}isPortrait(){var S,Z;return null===(S=(Z=this.win).matchMedia)||void 0===S?void 0:S.call(Z,"(orientation: portrait)").matches}testUserAgent(S){const Z=this.win.navigator;return!!(null!=Z&&Z.userAgent&&Z.userAgent.indexOf(S)>=0)}url(){return this.win.location.href}width(){return this.win.innerWidth}height(){return this.win.innerHeight}}return T.\u0275fac=function(S){return new(S||T)(g.LFG(Ue.K0),g.LFG(g.R0b))},T.\u0275prov=g.Yz7({token:T,factory:T.\u0275fac,providedIn:"root"}),T})();const Ci=(T,X)=>{X=X.replace(/[[\]\\]/g,"\\$&");const Z=new RegExp("[\\?&]"+X+"=([^&#]*)").exec(T);return Z?decodeURIComponent(Z[1].replace(/\+/g," ")):null},ii=(T,X,S)=>{X&&X.addEventListener(S,Z=>{T.next(null!=Z?Z.detail:void 0)})};let qi=(()=>{class T{constructor(S,Z,ke,Xt){this.location=Z,this.serializer=ke,this.router=Xt,this.direction=Dn,this.animated=Er,this.guessDirection="forward",this.lastNavId=-1,Xt&&Xt.events.subscribe(jn=>{if(jn instanceof Ie.OD){const pr=jn.restoredState?jn.restoredState.navigationId:jn.id;this.guessDirection=pr<this.lastNavId?"back":"forward",this.guessAnimation=jn.restoredState?void 0:this.guessDirection,this.lastNavId="forward"===this.guessDirection?jn.id:pr}}),S.backButton.subscribeWithPriority(0,jn=>{this.pop(),jn()})}navigateForward(S,Z={}){return this.setDirection("forward",Z.animated,Z.animationDirection,Z.animation),this.navigate(S,Z)}navigateBack(S,Z={}){return this.setDirection("back",Z.animated,Z.animationDirection,Z.animation),this.navigate(S,Z)}navigateRoot(S,Z={}){return this.setDirection("root",Z.animated,Z.animationDirection,Z.animation),this.navigate(S,Z)}back(S={animated:!0,animationDirection:"back"}){return this.setDirection("back",S.animated,S.animationDirection,S.animation),this.location.back()}pop(){var S=this;return(0,m.Z)(function*(){let Z=S.topOutlet;for(;Z&&!(yield Z.pop());)Z=Z.parentOutlet})()}setDirection(S,Z,ke,Xt){this.direction=S,this.animated=qr(S,Z,ke),this.animationBuilder=Xt}setTopOutlet(S){this.topOutlet=S}consumeTransition(){let Z,S="root";const ke=this.animationBuilder;return"auto"===this.direction?(S=this.guessDirection,Z=this.guessAnimation):(Z=this.animated,S=this.direction),this.direction=Dn,this.animated=Er,this.animationBuilder=void 0,{direction:S,animation:Z,animationBuilder:ke}}navigate(S,Z){if(Array.isArray(S))return this.router.navigate(S,Z);{const ke=this.serializer.parse(S.toString());return void 0!==Z.queryParams&&(ke.queryParams={...Z.queryParams}),void 0!==Z.fragment&&(ke.fragment=Z.fragment),this.router.navigateByUrl(ke,Z)}}}return T.\u0275fac=function(S){return new(S||T)(g.LFG(vr),g.LFG(Ue.Ye),g.LFG(Ie.Hx),g.LFG(Ie.F0,8))},T.\u0275prov=g.Yz7({token:T,factory:T.\u0275fac,providedIn:"root"}),T})();const qr=(T,X,S)=>{if(!1!==X){if(void 0!==S)return S;if("forward"===T||"back"===T)return T;if("root"===T&&!0===X)return"forward"}},Dn="auto",Er=void 0;class Yr{constructor(X={}){this.data=X}get(X){return this.data[X]}}let Fi=(()=>{class T{constructor(){this.zone=(0,g.f3M)(g.R0b),this.applicationRef=(0,g.f3M)(g.z2F)}create(S,Z,ke){return new Ws(S,Z,this.applicationRef,this.zone,ke)}}return T.\u0275fac=function(S){return new(S||T)},T.\u0275prov=g.Yz7({token:T,factory:T.\u0275fac}),T})();class Ws{constructor(X,S,Z,ke,Xt){this.environmentInjector=X,this.injector=S,this.applicationRef=Z,this.zone=ke,this.elementReferenceKey=Xt,this.elRefMap=new WeakMap,this.elEventsMap=new WeakMap}attachViewToDom(X,S,Z,ke){return this.zone.run(()=>new Promise(Xt=>{const jn={...Z};void 0!==this.elementReferenceKey&&(jn[this.elementReferenceKey]=X),Xt(bi(this.zone,this.environmentInjector,this.injector,this.applicationRef,this.elRefMap,this.elEventsMap,X,S,jn,ke))}))}removeViewFromDom(X,S){return this.zone.run(()=>new Promise(Z=>{const ke=this.elRefMap.get(S);if(ke){ke.destroy(),this.elRefMap.delete(S);const Xt=this.elEventsMap.get(S);Xt&&(Xt(),this.elEventsMap.delete(S))}Z()}))}}const bi=(T,X,S,Z,ke,Xt,jn,pr,Ur,jr)=>{const Vi=g.zs3.create({providers:Si(Ur),parent:S}),zi=(0,g.LMc)(pr,{environmentInjector:X,elementInjector:Vi}),fs=zi.instance,js=zi.location.nativeElement;if(Ur&&Object.assign(fs,Ur),jr)for(const Q of jr)js.classList.add(Q);const re=Xr(T,fs,js);return jn.appendChild(js),Z.attachView(zi.hostView),ke.set(js,zi),Xt.set(js,re),js},Bs=[yt.L,yt.a,yt.b,yt.c,yt.d],Xr=(T,X,S)=>T.run(()=>{const Z=Bs.filter(ke=>"function"==typeof X[ke]).map(ke=>{const Xt=jn=>X[ke](jn.detail);return S.addEventListener(ke,Xt),()=>S.removeEventListener(ke,Xt)});return()=>Z.forEach(ke=>ke())}),Li=new g.OlP("NavParamsToken"),Si=T=>[{provide:Li,useValue:T},{provide:Yr,useFactory:Xn,deps:[Li]}],Xn=T=>new Yr(T),$s=(T,X)=>((T=T.filter(S=>S.stackId!==X.stackId)).push(X),T),mr=(T,X)=>{const S=T.createUrlTree(["."],{relativeTo:X});return T.serializeUrl(S)},Wr=(T,X)=>{if(!T)return;const S=Cs(X);for(let Z=0;Z<S.length;Z++){if(Z>=T.length)return S[Z];if(S[Z]!==T[Z])return}},Cs=T=>T.split("/").map(X=>X.trim()).filter(X=>""!==X),Ks=T=>{T&&(T.ref.destroy(),T.unlistenEvents())};class ts{constructor(X,S,Z,ke,Xt,jn){this.containerEl=S,this.router=Z,this.navCtrl=ke,this.zone=Xt,this.location=jn,this.views=[],this.skipTransition=!1,this.nextId=0,this.tabsPrefix=void 0!==X?Cs(X):void 0}createView(X,S){var Z;const ke=mr(this.router,S),Xt=null==X||null===(Z=X.location)||void 0===Z?void 0:Z.nativeElement,jn=Xr(this.zone,X.instance,Xt);return{id:this.nextId++,stackId:Wr(this.tabsPrefix,ke),unlistenEvents:jn,element:Xt,ref:X,url:ke}}getExistingView(X){const S=mr(this.router,X),Z=this.views.find(ke=>ke.url===S);return Z&&Z.ref.changeDetectorRef.reattach(),Z}setActive(X){var S,Z,ke;const Xt=this.navCtrl.consumeTransition();let{direction:jn,animation:pr,animationBuilder:Ur}=Xt;const jr=this.activeView,Vi=((T,X)=>!X||T.stackId!==X.stackId)(X,jr);Vi&&(jn="back",pr=void 0);const zi=this.views.slice();let fs;const js=this.router;js.getCurrentNavigation?fs=js.getCurrentNavigation():null!==(S=js.navigations)&&void 0!==S&&S.value&&(fs=js.navigations.value),null!==(Z=fs)&&void 0!==Z&&null!==(ke=Z.extras)&&void 0!==ke&&ke.replaceUrl&&this.views.length>0&&this.views.splice(-1,1);const re=this.views.includes(X),Q=this.insertView(X,jn);re||X.ref.changeDetectorRef.detectChanges();const R=X.animationBuilder;return void 0===Ur&&"back"===jn&&!Vi&&void 0!==R&&(Ur=R),jr&&(jr.animationBuilder=Ur),this.zone.runOutsideAngular(()=>this.wait(()=>(jr&&jr.ref.changeDetectorRef.detach(),X.ref.changeDetectorRef.reattach(),this.transition(X,jr,pr,this.canGoBack(1),!1,Ur).then(()=>bs(X,Q,zi,this.location,this.zone)).then(()=>({enteringView:X,direction:jn,animation:pr,tabSwitch:Vi})))))}canGoBack(X,S=this.getActiveStackId()){return this.getStack(S).length>X}pop(X,S=this.getActiveStackId()){return this.zone.run(()=>{const Z=this.getStack(S);if(Z.length<=X)return Promise.resolve(!1);const ke=Z[Z.length-X-1];let Xt=ke.url;const jn=ke.savedData;if(jn){var pr,Ur;const Vi=jn.get("primary");null!=Vi&&null!==(pr=Vi.route)&&void 0!==pr&&null!==(Ur=pr._routerState)&&void 0!==Ur&&Ur.snapshot.url&&(Xt=Vi.route._routerState.snapshot.url)}const{animationBuilder:jr}=this.navCtrl.consumeTransition();return this.navCtrl.navigateBack(Xt,{...ke.savedExtras,animation:jr}).then(()=>!0)})}startBackTransition(){const X=this.activeView;if(X){const S=this.getStack(X.stackId),Z=S[S.length-2],ke=Z.animationBuilder;return this.wait(()=>this.transition(Z,X,"back",this.canGoBack(2),!0,ke))}return Promise.resolve()}endBackTransition(X){X?(this.skipTransition=!0,this.pop(1)):this.activeView&&di(this.activeView,this.views,this.views,this.location,this.zone)}getLastUrl(X){const S=this.getStack(X);return S.length>0?S[S.length-1]:void 0}getRootUrl(X){const S=this.getStack(X);return S.length>0?S[0]:void 0}getActiveStackId(){return this.activeView?this.activeView.stackId:void 0}hasRunningTask(){return void 0!==this.runningTask}destroy(){this.containerEl=void 0,this.views.forEach(Ks),this.activeView=void 0,this.views=[]}getStack(X){return this.views.filter(S=>S.stackId===X)}insertView(X,S){return this.activeView=X,this.views=((T,X,S)=>"root"===S?$s(T,X):"forward"===S?((T,X)=>(T.indexOf(X)>=0?T=T.filter(Z=>Z.stackId!==X.stackId||Z.id<=X.id):T.push(X),T))(T,X):((T,X)=>T.indexOf(X)>=0?T.filter(Z=>Z.stackId!==X.stackId||Z.id<=X.id):$s(T,X))(T,X))(this.views,X,S),this.views.slice()}transition(X,S,Z,ke,Xt,jn){if(this.skipTransition)return this.skipTransition=!1,Promise.resolve(!1);if(S===X)return Promise.resolve(!1);const pr=X?X.element:void 0,Ur=S?S.element:void 0,jr=this.containerEl;return pr&&pr!==Ur&&(pr.classList.add("ion-page"),pr.classList.add("ion-page-invisible"),pr.parentElement!==jr&&jr.appendChild(pr),jr.commit)?jr.commit(pr,Ur,{duration:void 0===Z?0:void 0,direction:Z,showGoBack:ke,progressAnimation:Xt,animationBuilder:jn}):Promise.resolve(!1)}wait(X){var S=this;return(0,m.Z)(function*(){void 0!==S.runningTask&&(yield S.runningTask,S.runningTask=void 0);const Z=S.runningTask=X();return Z.finally(()=>S.runningTask=void 0),Z})()}}const bs=(T,X,S,Z,ke)=>"function"==typeof requestAnimationFrame?new Promise(Xt=>{requestAnimationFrame(()=>{di(T,X,S,Z,ke),Xt()})}):Promise.resolve(),di=(T,X,S,Z,ke)=>{ke.run(()=>S.filter(Xt=>!X.includes(Xt)).forEach(Ks)),X.forEach(Xt=>{const pr=Z.path().split("?")[0].split("#")[0];if(Xt!==T&&Xt.url!==pr){const Ur=Xt.element;Ur.setAttribute("aria-hidden","true"),Ur.classList.add("ion-page-hidden"),Xt.ref.changeDetectorRef.detach()}})};let Jn=(()=>{class T{constructor(S,Z,ke,Xt,jn,pr,Ur,jr){this.parentOutlet=jr,this.activated=null,this.activatedView=null,this._activatedRoute=null,this.proxyMap=new WeakMap,this.currentActivatedRoute$=new he.X(null),this.stackEvents=new g.vpe,this.activateEvents=new g.vpe,this.deactivateEvents=new g.vpe,this.parentContexts=(0,g.f3M)(Ie.y6),this.location=(0,g.f3M)(g.s_b),this.environmentInjector=(0,g.f3M)(g.lqb),this.config=(0,g.f3M)(gn),this.navCtrl=(0,g.f3M)(qi),this.nativeEl=Xt.nativeElement,this.name=S||Ie.eC,this.tabsPrefix="true"===Z?mr(jn,Ur):void 0,this.stackCtrl=new ts(this.tabsPrefix,this.nativeEl,jn,this.navCtrl,pr,ke),this.parentContexts.onChildOutletCreated(this.name,this)}set animation(S){this.nativeEl.animation=S}set animated(S){this.nativeEl.animated=S}set swipeGesture(S){this._swipeGesture=S,this.nativeEl.swipeHandler=S?{canStart:()=>this.stackCtrl.canGoBack(1)&&!this.stackCtrl.hasRunningTask(),onStart:()=>this.stackCtrl.startBackTransition(),onEnd:Z=>this.stackCtrl.endBackTransition(Z)}:void 0}ngOnDestroy(){this.stackCtrl.destroy()}getContext(){return this.parentContexts.getContext(this.name)}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(!this.activated){const S=this.getContext();null!=S&&S.route&&this.activateWith(S.route,S.injector)}new Promise(S=>(0,ze.c)(this.nativeEl,S)).then(()=>{void 0===this._swipeGesture&&(this.swipeGesture=this.config.getBoolean("swipeBackEnabled","ios"===this.nativeEl.mode))})}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){throw new Error("incompatible reuse strategy")}attach(S,Z){throw new Error("incompatible reuse strategy")}deactivate(){if(this.activated){if(this.activatedView){const Z=this.getContext();this.activatedView.savedData=new Map(Z.children.contexts);const ke=this.activatedView.savedData.get("primary");if(ke&&Z.route&&(ke.route={...Z.route}),this.activatedView.savedExtras={},Z.route){const Xt=Z.route.snapshot;this.activatedView.savedExtras.queryParams=Xt.queryParams,this.activatedView.savedExtras.fragment=Xt.fragment}}const S=this.component;this.activatedView=null,this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(S)}}activateWith(S,Z){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=S;let ke,Xt=this.stackCtrl.getExistingView(S);if(Xt){ke=this.activated=Xt.ref;const pr=Xt.savedData;pr&&(this.getContext().children.contexts=pr),this.updateActivatedRouteProxy(ke.instance,S)}else{var jn;const pr=S._futureSnapshot,Ur=this.parentContexts.getOrCreateContext(this.name).children,jr=new he.X(null),Vi=this.createActivatedRouteProxy(jr,S),zi=new hr(Vi,Ur,this.location.injector),fs=null!==(jn=pr.routeConfig.component)&&void 0!==jn?jn:pr.component;ke=this.activated=this.location.createComponent(fs,{index:this.location.length,injector:zi,environmentInjector:null!=Z?Z:this.environmentInjector}),jr.next(ke.instance),Xt=this.stackCtrl.createView(this.activated,S),this.proxyMap.set(ke.instance,Vi),this.currentActivatedRoute$.next({component:ke.instance,activatedRoute:S})}this.activatedView=Xt,this.navCtrl.setTopOutlet(this),this.stackCtrl.setActive(Xt).then(pr=>{this.activateEvents.emit(ke.instance),this.stackEvents.emit(pr)})}canGoBack(S=1,Z){return this.stackCtrl.canGoBack(S,Z)}pop(S=1,Z){return this.stackCtrl.pop(S,Z)}getLastUrl(S){const Z=this.stackCtrl.getLastUrl(S);return Z?Z.url:void 0}getLastRouteView(S){return this.stackCtrl.getLastUrl(S)}getRootView(S){return this.stackCtrl.getRootUrl(S)}getActiveStackId(){return this.stackCtrl.getActiveStackId()}createActivatedRouteProxy(S,Z){const ke=new Ie.gz;return ke._futureSnapshot=Z._futureSnapshot,ke._routerState=Z._routerState,ke.snapshot=Z.snapshot,ke.outlet=Z.outlet,ke.component=Z.component,ke._paramMap=this.proxyObservable(S,"paramMap"),ke._queryParamMap=this.proxyObservable(S,"queryParamMap"),ke.url=this.proxyObservable(S,"url"),ke.params=this.proxyObservable(S,"params"),ke.queryParams=this.proxyObservable(S,"queryParams"),ke.fragment=this.proxyObservable(S,"fragment"),ke.data=this.proxyObservable(S,"data"),ke}proxyObservable(S,Z){return S.pipe((0,ut.h)(ke=>!!ke),(0,st.w)(ke=>this.currentActivatedRoute$.pipe((0,ut.h)(Xt=>null!==Xt&&Xt.component===ke),(0,st.w)(Xt=>Xt&&Xt.activatedRoute[Z]),(0,Je.x)())))}updateActivatedRouteProxy(S,Z){const ke=this.proxyMap.get(S);if(!ke)throw new Error("Could not find activated route proxy for view");ke._futureSnapshot=Z._futureSnapshot,ke._routerState=Z._routerState,ke.snapshot=Z.snapshot,ke.outlet=Z.outlet,ke.component=Z.component,this.currentActivatedRoute$.next({component:S,activatedRoute:Z})}}return T.\u0275fac=function(S){return new(S||T)(g.$8M("name"),g.$8M("tabs"),g.Y36(Ue.Ye),g.Y36(g.SBq),g.Y36(Ie.F0),g.Y36(g.R0b),g.Y36(Ie.gz),g.Y36(T,12))},T.\u0275dir=g.lG2({type:T,selectors:[["ion-router-outlet"]],inputs:{animated:"animated",animation:"animation",mode:"mode",swipeGesture:"swipeGesture"},outputs:{stackEvents:"stackEvents",activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),T})();class hr{constructor(X,S,Z){this.route=X,this.childContexts=S,this.parent=Z}get(X,S){return X===Ie.gz?this.route:X===Ie.y6?this.childContexts:this.parent.get(X,S)}}let jo=(()=>{class T{constructor(S){this.navCtrl=S,this.ionTabsWillChange=new g.vpe,this.ionTabsDidChange=new g.vpe}onPageSelected(S){const Z=S.enteringView.stackId;S.tabSwitch&&void 0!==Z&&(this.ionTabsWillChange.emit({tab:Z}),this.tabBar&&(this.tabBar.selectedTab=Z),this.ionTabsDidChange.emit({tab:Z}))}select(S){const Z="string"==typeof S,ke=Z?S:S.detail.tab,Xt=this.outlet.getActiveStackId()===ke,jn=`${this.outlet.tabsPrefix}/${ke}`;if(Z||S.stopPropagation(),Xt){const pr=this.outlet.getActiveStackId(),Ur=this.outlet.getLastRouteView(pr);if((null==Ur?void 0:Ur.url)===jn)return;const jr=this.outlet.getRootView(ke);return this.navCtrl.navigateRoot(jn,{...jr&&jn===jr.url&&jr.savedExtras,animated:!0,animationDirection:"back"})}{const pr=this.outlet.getLastRouteView(ke);return this.navCtrl.navigateRoot((null==pr?void 0:pr.url)||jn,{...null==pr?void 0:pr.savedExtras,animated:!0,animationDirection:"back"})}}getSelected(){return this.outlet.getActiveStackId()}}return T.\u0275fac=function(S){return new(S||T)(g.Y36(qi))},T.\u0275cmp=g.Xpm({type:T,selectors:[["ion-tabs"]],contentQueries:function(S,Z,ke){if(1&S&&g.Suo(ke,ee,5),2&S){let Xt;g.iGM(Xt=g.CRH())&&(Z.tabBar=Xt.first)}},viewQuery:function(S,Z){if(1&S&&g.Gf(Oe,5,Jn),2&S){let ke;g.iGM(ke=g.CRH())&&(Z.outlet=ke.first)}},hostBindings:function(S,Z){1&S&&g.NdJ("ionTabButtonClick",function(Xt){return Z.select(Xt)})},outputs:{ionTabsWillChange:"ionTabsWillChange",ionTabsDidChange:"ionTabsDidChange"},ngContentSelectors:Qe,decls:5,vars:0,consts:[[1,"tabs-inner"],["tabs","true",3,"stackEvents"],["outlet",""]],template:function(S,Z){1&S&&(g.F$t(Ge),g.Hsn(0),g.TgZ(1,"div",0)(2,"ion-router-outlet",1,2),g.NdJ("stackEvents",function(Xt){return Z.onPageSelected(Xt)}),g.qZA()(),g.Hsn(4,1))},dependencies:[Jn],styles:["[_nghost-%COMP%]{display:flex;position:absolute;inset:0;flex-direction:column;width:100%;height:100%;contain:layout size style;z-index:$z-index-page-container}.tabs-inner[_ngcontent-%COMP%]{position:relative;flex:1;contain:layout size style}"]}),T})(),Ds=(()=>{class T{constructor(S,Z,ke){this.routerOutlet=S,this.navCtrl=Z,this.config=ke}onClick(S){var Z;const ke=this.defaultHref||this.config.get("backButtonDefaultHref");null!==(Z=this.routerOutlet)&&void 0!==Z&&Z.canGoBack()?(this.navCtrl.setDirection("back",void 0,void 0,this.routerAnimation),this.routerOutlet.pop(),S.preventDefault()):null!=ke&&(this.navCtrl.navigateBack(ke,{animation:this.routerAnimation}),S.preventDefault())}}return T.\u0275fac=function(S){return new(S||T)(g.Y36(Jn,8),g.Y36(qi),g.Y36(gn))},T.\u0275dir=g.lG2({type:T,selectors:[["ion-back-button"]],hostBindings:function(S,Z){1&S&&g.NdJ("click",function(Xt){return Z.onClick(Xt)})},inputs:{defaultHref:"defaultHref",routerAnimation:"routerAnimation"}}),T})();class hi{constructor(X){this.ctrl=X}create(X){return this.ctrl.create(X||{})}dismiss(X,S,Z){return this.ctrl.dismiss(X,S,Z)}getTop(){return this.ctrl.getTop()}}let Hi=(()=>{class T extends hi{constructor(){super(De.a)}}return T.\u0275fac=function(S){return new(S||T)},T.\u0275prov=g.Yz7({token:T,factory:T.\u0275fac,providedIn:"root"}),T})(),Pi=(()=>{class T extends hi{constructor(){super(De.l)}}return T.\u0275fac=function(S){return new(S||T)},T.\u0275prov=g.Yz7({token:T,factory:T.\u0275fac,providedIn:"root"}),T})(),ro=(()=>{class T extends hi{constructor(){super(De.m),this.angularDelegate=(0,g.f3M)(Fi),this.injector=(0,g.f3M)(g.zs3),this.environmentInjector=(0,g.f3M)(g.lqb)}create(S){return super.create({...S,delegate:this.angularDelegate.create(this.environmentInjector,this.injector,"modal")})}}return T.\u0275fac=function(S){return new(S||T)},T.\u0275prov=g.Yz7({token:T,factory:T.\u0275fac}),T})(),Vs=(()=>{class T extends hi{constructor(){super(De.c),this.angularDelegate=(0,g.f3M)(Fi),this.injector=(0,g.f3M)(g.zs3),this.environmentInjector=(0,g.f3M)(g.lqb)}create(S){return super.create({...S,delegate:this.angularDelegate.create(this.environmentInjector,this.injector,"popover")})}}return T.\u0275fac=function(S){return new(S||T)},T.\u0275prov=g.Yz7({token:T,factory:T.\u0275fac}),T})(),Ts=(()=>{class T extends hi{constructor(){super(De.t)}}return T.\u0275fac=function(S){return new(S||T)},T.\u0275prov=g.Yz7({token:T,factory:T.\u0275fac,providedIn:"root"}),T})();class Oi{shouldDetach(X){return!1}shouldAttach(X){return!1}store(X,S){}retrieve(X){return null}shouldReuseRoute(X,S){if(X.routeConfig!==S.routeConfig)return!1;const Z=X.params,ke=S.params,Xt=Object.keys(Z),jn=Object.keys(ke);if(Xt.length!==jn.length)return!1;for(const pr of Xt)if(ke[pr]!==Z[pr])return!1;return!0}}const hs=(T,X,S)=>()=>{if(X.defaultView&&typeof window<"u"){(0,Ze.s)({...T,_zoneGate:Xt=>S.run(Xt)});const ke="__zone_symbol__addEventListener"in X.body?"__zone_symbol__addEventListener":"addEventListener";return function Ct(){var T=[];if(typeof window<"u"){var X=window;(!X.customElements||X.Element&&(!X.Element.prototype.closest||!X.Element.prototype.matches||!X.Element.prototype.remove||!X.Element.prototype.getRootNode))&&T.push(k.e(6748).then(k.t.bind(k,723,23))),("function"!=typeof Object.assign||!Object.entries||!Array.prototype.find||!Array.prototype.includes||!String.prototype.startsWith||!String.prototype.endsWith||X.NodeList&&!X.NodeList.prototype.forEach||!X.fetch||!function(){try{var Z=new URL("b","http://a");return Z.pathname="c%20d","http://a/c%20d"===Z.href&&Z.searchParams}catch{return!1}}()||typeof WeakMap>"u")&&T.push(k.e(2214).then(k.t.bind(k,4144,23)))}return Promise.all(T)}().then(()=>((T,X)=>typeof window>"u"?Promise.resolve():(0,qe.p)().then(()=>(ot(),(0,qe.b)(JSON.parse('[["ion-menu_3",[[33,"ion-menu-button",{"color":[513],"disabled":[4],"menu":[1],"autoHide":[4,"auto-hide"],"type":[1],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]],[33,"ion-menu",{"contentId":[513,"content-id"],"menuId":[513,"menu-id"],"type":[1025],"disabled":[1028],"side":[513],"swipeGesture":[4,"swipe-gesture"],"maxEdgeStart":[2,"max-edge-start"],"isPaneVisible":[32],"isEndSide":[32],"isOpen":[64],"isActive":[64],"open":[64],"close":[64],"toggle":[64],"setOpen":[64]},[[16,"ionSplitPaneVisible","onSplitPaneChanged"],[2,"click","onBackdropClick"],[0,"keydown","onKeydown"]]],[1,"ion-menu-toggle",{"menu":[1],"autoHide":[4,"auto-hide"],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]]]],["ion-fab_3",[[33,"ion-fab-button",{"color":[513],"activated":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1],"show":[4],"translucent":[4],"type":[1],"size":[1],"closeIcon":[1,"close-icon"]}],[1,"ion-fab",{"horizontal":[1],"vertical":[1],"edge":[4],"activated":[1028],"close":[64],"toggle":[64]}],[1,"ion-fab-list",{"activated":[4],"side":[1]}]]],["ion-refresher_2",[[0,"ion-refresher-content",{"pullingIcon":[1025,"pulling-icon"],"pullingText":[1,"pulling-text"],"refreshingSpinner":[1025,"refreshing-spinner"],"refreshingText":[1,"refreshing-text"]}],[32,"ion-refresher",{"pullMin":[2,"pull-min"],"pullMax":[2,"pull-max"],"closeDuration":[1,"close-duration"],"snapbackDuration":[1,"snapback-duration"],"pullFactor":[2,"pull-factor"],"disabled":[4],"nativeRefresher":[32],"state":[32],"complete":[64],"cancel":[64],"getProgress":[64]}]]],["ion-back-button",[[33,"ion-back-button",{"color":[513],"defaultHref":[1025,"default-href"],"disabled":[516],"icon":[1],"text":[1],"type":[1],"routerAnimation":[16]}]]],["ion-toast",[[33,"ion-toast",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"color":[513],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"duration":[2],"header":[1],"layout":[1],"message":[1],"keyboardClose":[4,"keyboard-close"],"position":[1],"buttons":[16],"translucent":[4],"animated":[4],"icon":[1],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"revealContentToScreenReader":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-card_5",[[33,"ion-card",{"color":[513],"button":[4],"type":[1],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}],[32,"ion-card-content"],[33,"ion-card-header",{"color":[513],"translucent":[4]}],[33,"ion-card-subtitle",{"color":[513]}],[33,"ion-card-title",{"color":[513]}]]],["ion-item-option_3",[[33,"ion-item-option",{"color":[513],"disabled":[4],"download":[1],"expandable":[4],"href":[1],"rel":[1],"target":[1],"type":[1]}],[32,"ion-item-options",{"side":[1],"fireSwipeEvent":[64]}],[0,"ion-item-sliding",{"disabled":[4],"state":[32],"getOpenAmount":[64],"getSlidingRatio":[64],"open":[64],"close":[64],"closeOpened":[64]}]]],["ion-accordion_2",[[49,"ion-accordion",{"value":[1],"disabled":[4],"readonly":[4],"toggleIcon":[1,"toggle-icon"],"toggleIconSlot":[1,"toggle-icon-slot"],"state":[32],"isNext":[32],"isPrevious":[32]}],[33,"ion-accordion-group",{"animated":[4],"multiple":[4],"value":[1025],"disabled":[4],"readonly":[4],"expand":[1],"requestAccordionToggle":[64],"getAccordions":[64]},[[0,"keydown","onKeydown"]]]]],["ion-infinite-scroll_2",[[32,"ion-infinite-scroll-content",{"loadingSpinner":[1025,"loading-spinner"],"loadingText":[1,"loading-text"]}],[0,"ion-infinite-scroll",{"threshold":[1],"disabled":[4],"position":[1],"isLoading":[32],"complete":[64]}]]],["ion-reorder_2",[[33,"ion-reorder",null,[[2,"click","onClick"]]],[0,"ion-reorder-group",{"disabled":[4],"state":[32],"complete":[64]}]]],["ion-segment_2",[[33,"ion-segment-button",{"disabled":[1028],"layout":[1],"type":[1],"value":[1],"checked":[32],"setFocus":[64]}],[33,"ion-segment",{"color":[513],"disabled":[4],"scrollable":[4],"swipeGesture":[4,"swipe-gesture"],"value":[1025],"selectOnFocus":[4,"select-on-focus"],"activated":[32]},[[0,"keydown","onKeyDown"]]]]],["ion-tab-bar_2",[[33,"ion-tab-button",{"disabled":[4],"download":[1],"href":[1],"rel":[1],"layout":[1025],"selected":[1028],"tab":[1],"target":[1]},[[8,"ionTabBarChanged","onTabBarChanged"]]],[33,"ion-tab-bar",{"color":[513],"selectedTab":[1,"selected-tab"],"translucent":[4],"keyboardVisible":[32]}]]],["ion-chip",[[1,"ion-chip",{"color":[513],"outline":[4],"disabled":[4]}]]],["ion-datetime-button",[[33,"ion-datetime-button",{"color":[513],"disabled":[516],"datetime":[1],"datetimePresentation":[32],"dateText":[32],"timeText":[32],"datetimeActive":[32],"selectedButton":[32]}]]],["ion-input",[[34,"ion-input",{"color":[513],"accept":[1],"autocapitalize":[1],"autocomplete":[1],"autocorrect":[1],"autofocus":[4],"clearInput":[4,"clear-input"],"clearOnEdit":[4,"clear-on-edit"],"counter":[4],"counterFormatter":[16],"debounce":[2],"disabled":[4],"enterkeyhint":[1],"errorText":[1,"error-text"],"fill":[1],"inputmode":[1],"helperText":[1,"helper-text"],"label":[1],"labelPlacement":[1,"label-placement"],"legacy":[4],"max":[8],"maxlength":[2],"min":[8],"minlength":[2],"multiple":[4],"name":[1],"pattern":[1],"placeholder":[1],"readonly":[4],"required":[4],"shape":[1],"spellcheck":[4],"step":[1],"size":[2],"type":[1],"value":[1032],"hasFocus":[32],"setFocus":[64],"getInputElement":[64]}]]],["ion-searchbar",[[34,"ion-searchbar",{"color":[513],"animated":[4],"autocomplete":[1],"autocorrect":[1],"cancelButtonIcon":[1,"cancel-button-icon"],"cancelButtonText":[1,"cancel-button-text"],"clearIcon":[1,"clear-icon"],"debounce":[2],"disabled":[4],"inputmode":[1],"enterkeyhint":[1],"placeholder":[1],"searchIcon":[1,"search-icon"],"showCancelButton":[1,"show-cancel-button"],"showClearButton":[1,"show-clear-button"],"spellcheck":[4],"type":[1],"value":[1025],"focused":[32],"noAnimate":[32],"setFocus":[64],"getInputElement":[64]}]]],["ion-toggle",[[33,"ion-toggle",{"color":[513],"name":[1],"checked":[1028],"disabled":[4],"value":[1],"enableOnOffLabels":[4,"enable-on-off-labels"],"labelPlacement":[1,"label-placement"],"legacy":[4],"justify":[1],"activated":[32]}]]],["ion-nav_2",[[1,"ion-nav",{"delegate":[16],"swipeGesture":[1028,"swipe-gesture"],"animated":[4],"animation":[16],"rootParams":[16],"root":[1],"push":[64],"insert":[64],"insertPages":[64],"pop":[64],"popTo":[64],"popToRoot":[64],"removeIndex":[64],"setRoot":[64],"setPages":[64],"setRouteId":[64],"getRouteId":[64],"getActive":[64],"getByIndex":[64],"canGoBack":[64],"getPrevious":[64]}],[0,"ion-nav-link",{"component":[1],"componentProps":[16],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}]]],["ion-textarea",[[34,"ion-textarea",{"color":[513],"autocapitalize":[1],"autofocus":[4],"clearOnEdit":[4,"clear-on-edit"],"debounce":[2],"disabled":[4],"fill":[1],"inputmode":[1],"enterkeyhint":[1],"maxlength":[2],"minlength":[2],"name":[1],"placeholder":[1],"readonly":[4],"required":[4],"spellcheck":[4],"cols":[2],"rows":[2],"wrap":[1],"autoGrow":[516,"auto-grow"],"value":[1025],"counter":[4],"counterFormatter":[16],"errorText":[1,"error-text"],"helperText":[1,"helper-text"],"label":[1],"labelPlacement":[1,"label-placement"],"legacy":[4],"shape":[1],"hasFocus":[32],"setFocus":[64],"getInputElement":[64]}]]],["ion-backdrop",[[33,"ion-backdrop",{"visible":[4],"tappable":[4],"stopPropagation":[4,"stop-propagation"]},[[2,"click","onMouseDown"]]]]],["ion-loading",[[34,"ion-loading",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"message":[1],"cssClass":[1,"css-class"],"duration":[2],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"spinner":[1025],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-breadcrumb_2",[[33,"ion-breadcrumb",{"collapsed":[4],"last":[4],"showCollapsedIndicator":[4,"show-collapsed-indicator"],"color":[1],"active":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"separator":[4],"target":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}],[33,"ion-breadcrumbs",{"color":[513],"maxItems":[2,"max-items"],"itemsBeforeCollapse":[2,"items-before-collapse"],"itemsAfterCollapse":[2,"items-after-collapse"],"collapsed":[32],"activeChanged":[32]},[[0,"collapsedClick","onCollapsedClick"]]]]],["ion-modal",[[33,"ion-modal",{"hasController":[4,"has-controller"],"overlayIndex":[2,"overlay-index"],"delegate":[16],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"breakpoints":[16],"initialBreakpoint":[2,"initial-breakpoint"],"backdropBreakpoint":[2,"backdrop-breakpoint"],"handle":[4],"handleBehavior":[1,"handle-behavior"],"component":[1],"componentProps":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"animated":[4],"presentingElement":[16],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"keepContentsMounted":[4,"keep-contents-mounted"],"canDismiss":[4,"can-dismiss"],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"setCurrentBreakpoint":[64],"getCurrentBreakpoint":[64]}]]],["ion-route_4",[[0,"ion-route",{"url":[1],"component":[1],"componentProps":[16],"beforeLeave":[16],"beforeEnter":[16]}],[0,"ion-route-redirect",{"from":[1],"to":[1]}],[0,"ion-router",{"root":[1],"useHash":[4,"use-hash"],"canTransition":[64],"push":[64],"back":[64],"printDebug":[64],"navChanged":[64]},[[8,"popstate","onPopState"],[4,"ionBackButton","onBackButton"]]],[1,"ion-router-link",{"color":[513],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}]]],["ion-avatar_3",[[33,"ion-avatar"],[33,"ion-badge",{"color":[513]}],[1,"ion-thumbnail"]]],["ion-col_3",[[1,"ion-col",{"offset":[1],"offsetXs":[1,"offset-xs"],"offsetSm":[1,"offset-sm"],"offsetMd":[1,"offset-md"],"offsetLg":[1,"offset-lg"],"offsetXl":[1,"offset-xl"],"pull":[1],"pullXs":[1,"pull-xs"],"pullSm":[1,"pull-sm"],"pullMd":[1,"pull-md"],"pullLg":[1,"pull-lg"],"pullXl":[1,"pull-xl"],"push":[1],"pushXs":[1,"push-xs"],"pushSm":[1,"push-sm"],"pushMd":[1,"push-md"],"pushLg":[1,"push-lg"],"pushXl":[1,"push-xl"],"size":[1],"sizeXs":[1,"size-xs"],"sizeSm":[1,"size-sm"],"sizeMd":[1,"size-md"],"sizeLg":[1,"size-lg"],"sizeXl":[1,"size-xl"]},[[9,"resize","onResize"]]],[1,"ion-grid",{"fixed":[4]}],[1,"ion-row"]]],["ion-tab_2",[[1,"ion-tab",{"active":[1028],"delegate":[16],"tab":[1],"component":[1],"setActive":[64]}],[1,"ion-tabs",{"useRouter":[1028,"use-router"],"selectedTab":[32],"select":[64],"getTab":[64],"getSelected":[64],"setRouteId":[64],"getRouteId":[64]}]]],["ion-img",[[1,"ion-img",{"alt":[1],"src":[1],"loadSrc":[32],"loadError":[32]}]]],["ion-progress-bar",[[33,"ion-progress-bar",{"type":[1],"reversed":[4],"value":[2],"buffer":[2],"color":[513]}]]],["ion-range",[[33,"ion-range",{"color":[513],"debounce":[2],"name":[1],"dualKnobs":[4,"dual-knobs"],"min":[2],"max":[2],"pin":[4],"pinFormatter":[16],"snaps":[4],"step":[2],"ticks":[4],"activeBarStart":[1026,"active-bar-start"],"disabled":[4],"value":[1026],"labelPlacement":[1,"label-placement"],"legacy":[4],"ratioA":[32],"ratioB":[32],"pressedKnob":[32]}]]],["ion-split-pane",[[33,"ion-split-pane",{"contentId":[513,"content-id"],"disabled":[4],"when":[8],"visible":[32]}]]],["ion-text",[[1,"ion-text",{"color":[513]}]]],["ion-item_8",[[33,"ion-item-divider",{"color":[513],"sticky":[4]}],[32,"ion-item-group"],[1,"ion-skeleton-text",{"animated":[4]}],[32,"ion-list",{"lines":[1],"inset":[4],"closeSlidingItems":[64]}],[33,"ion-list-header",{"color":[513],"lines":[1]}],[49,"ion-item",{"color":[513],"button":[4],"detail":[4],"detailIcon":[1,"detail-icon"],"disabled":[4],"download":[1],"fill":[1],"shape":[1],"href":[1],"rel":[1],"lines":[1],"counter":[4],"routerAnimation":[16],"routerDirection":[1,"router-direction"],"target":[1],"type":[1],"counterFormatter":[16],"multipleInputs":[32],"focusable":[32],"counterString":[32]},[[0,"ionInput","handleIonInput"],[0,"ionColor","labelColorChanged"],[0,"ionStyle","itemStyle"]]],[34,"ion-label",{"color":[513],"position":[1],"noAnimate":[32]}],[33,"ion-note",{"color":[513]}]]],["ion-select_3",[[33,"ion-select",{"cancelText":[1,"cancel-text"],"color":[513],"compareWith":[1,"compare-with"],"disabled":[4],"fill":[1],"interface":[1],"interfaceOptions":[8,"interface-options"],"justify":[1],"label":[1],"labelPlacement":[1,"label-placement"],"legacy":[4],"multiple":[4],"name":[1],"okText":[1,"ok-text"],"placeholder":[1],"selectedText":[1,"selected-text"],"shape":[1],"value":[1032],"isExpanded":[32],"open":[64]}],[1,"ion-select-option",{"disabled":[4],"value":[8]}],[34,"ion-select-popover",{"header":[1],"subHeader":[1,"sub-header"],"message":[1],"multiple":[4],"options":[16]}]]],["ion-picker-internal",[[33,"ion-picker-internal",{"exitInputMode":[64]},[[1,"touchstart","preventTouchStartPropagation"]]]]],["ion-datetime_3",[[33,"ion-datetime",{"color":[1],"name":[1],"disabled":[4],"readonly":[4],"isDateEnabled":[16],"min":[1025],"max":[1025],"presentation":[1],"cancelText":[1,"cancel-text"],"doneText":[1,"done-text"],"clearText":[1,"clear-text"],"yearValues":[8,"year-values"],"monthValues":[8,"month-values"],"dayValues":[8,"day-values"],"hourValues":[8,"hour-values"],"minuteValues":[8,"minute-values"],"locale":[1],"firstDayOfWeek":[2,"first-day-of-week"],"titleSelectedDatesFormatter":[16],"multiple":[4],"highlightedDates":[16],"value":[1025],"showDefaultTitle":[4,"show-default-title"],"showDefaultButtons":[4,"show-default-buttons"],"showClearButton":[4,"show-clear-button"],"showDefaultTimeLabel":[4,"show-default-time-label"],"hourCycle":[1,"hour-cycle"],"size":[1],"preferWheel":[4,"prefer-wheel"],"showMonthAndYear":[32],"activeParts":[32],"workingParts":[32],"isPresented":[32],"isTimePopoverOpen":[32],"confirm":[64],"reset":[64],"cancel":[64]}],[34,"ion-picker",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"columns":[16],"cssClass":[1,"css-class"],"duration":[2],"showBackdrop":[4,"show-backdrop"],"backdropDismiss":[4,"backdrop-dismiss"],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"getColumn":[64]}],[32,"ion-picker-column",{"col":[16]}]]],["ion-radio_2",[[33,"ion-radio",{"color":[513],"name":[1],"disabled":[4],"value":[8],"labelPlacement":[1,"label-placement"],"legacy":[4],"justify":[1],"checked":[32],"buttonTabindex":[32],"setFocus":[64],"setButtonTabindex":[64]}],[0,"ion-radio-group",{"allowEmptySelection":[4,"allow-empty-selection"],"name":[1],"value":[1032]},[[4,"keydown","onKeydown"]]]]],["ion-ripple-effect",[[1,"ion-ripple-effect",{"type":[1],"addRipple":[64]}]]],["ion-button_2",[[33,"ion-button",{"color":[513],"buttonType":[1025,"button-type"],"disabled":[516],"expand":[513],"fill":[1537],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"download":[1],"href":[1],"rel":[1],"shape":[513],"size":[513],"strong":[4],"target":[1],"type":[1],"form":[1]}],[1,"ion-icon",{"mode":[1025],"color":[1],"ios":[1],"md":[1],"flipRtl":[4,"flip-rtl"],"name":[513],"src":[1],"icon":[8],"size":[1],"lazy":[4],"sanitize":[4],"svgContent":[32],"isVisible":[32]}]]],["ion-action-sheet",[[34,"ion-action-sheet",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"header":[1],"subHeader":[1,"sub-header"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-alert",[[34,"ion-alert",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"header":[1],"subHeader":[1,"sub-header"],"message":[1],"buttons":[16],"inputs":[1040],"backdropDismiss":[4,"backdrop-dismiss"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},[[4,"keydown","onKeydown"]]]]],["ion-app_8",[[0,"ion-app",{"setFocus":[64]}],[1,"ion-content",{"color":[513],"fullscreen":[4],"forceOverscroll":[1028,"force-overscroll"],"scrollX":[4,"scroll-x"],"scrollY":[4,"scroll-y"],"scrollEvents":[4,"scroll-events"],"getScrollElement":[64],"getBackgroundElement":[64],"scrollToTop":[64],"scrollToBottom":[64],"scrollByPoint":[64],"scrollToPoint":[64]},[[8,"appload","onAppLoad"],[9,"resize","onResize"]]],[36,"ion-footer",{"collapse":[1],"translucent":[4],"keyboardVisible":[32]}],[36,"ion-header",{"collapse":[1],"translucent":[4]}],[1,"ion-router-outlet",{"mode":[1025],"delegate":[16],"animated":[4],"animation":[16],"swipeHandler":[16],"commit":[64],"setRouteId":[64],"getRouteId":[64]}],[33,"ion-title",{"color":[513],"size":[1]}],[33,"ion-toolbar",{"color":[513]},[[0,"ionStyle","childrenStyle"]]],[34,"ion-buttons",{"collapse":[4]}]]],["ion-picker-column-internal",[[33,"ion-picker-column-internal",{"items":[16],"value":[1032],"color":[513],"numericInput":[4,"numeric-input"],"isActive":[32],"scrollActiveItemIntoView":[64],"setValue":[64]}]]],["ion-popover",[[33,"ion-popover",{"hasController":[4,"has-controller"],"delegate":[16],"overlayIndex":[2,"overlay-index"],"enterAnimation":[16],"leaveAnimation":[16],"component":[1],"componentProps":[16],"keyboardClose":[4,"keyboard-close"],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"event":[8],"showBackdrop":[4,"show-backdrop"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"triggerAction":[1,"trigger-action"],"trigger":[1],"size":[1],"dismissOnSelect":[4,"dismiss-on-select"],"reference":[1],"side":[1],"alignment":[1025],"arrow":[4],"isOpen":[4,"is-open"],"keyboardEvents":[4,"keyboard-events"],"keepContentsMounted":[4,"keep-contents-mounted"],"presented":[32],"presentFromTrigger":[64],"present":[64],"dismiss":[64],"getParentPopover":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-checkbox",[[33,"ion-checkbox",{"color":[513],"name":[1],"checked":[1028],"indeterminate":[1028],"disabled":[4],"value":[8],"labelPlacement":[1,"label-placement"],"justify":[1],"legacy":[4]}]]],["ion-spinner",[[1,"ion-spinner",{"color":[513],"duration":[2],"name":[1],"paused":[4]}]]]]'),X))))(0,{exclude:["ion-tabs","ion-tab"],syncQueue:!0,raf:We,jmp:Xt=>S.runOutsideAngular(Xt),ael(Xt,jn,pr,Ur){Xt[ke](jn,pr,Ur)},rel(Xt,jn,pr,Ur){Xt.removeEventListener(jn,pr,Ur)}}))}};let fo=(()=>{class T{static forRoot(S){return{ngModule:T,providers:[{provide:En,useValue:S},{provide:g.ip1,useFactory:hs,multi:!0,deps:[En,Ue.K0,g.R0b]}]}}}return T.\u0275fac=function(S){return new(S||T)},T.\u0275mod=g.oAB({type:T}),T.\u0275inj=g.cJS({providers:[Fi,ro,Vs],imports:[Ue.ez]}),T})()},5132:(vn,ft,k)=>{"use strict";k.d(ft,{Gb:()=>m.Gb});var m=k(579)},259:(vn,ft,k)=>{"use strict";k.d(ft,{C6:()=>m.getApps,KN:()=>m.registerVersion,Mq:()=>m.getApp,ZF:()=>m.initializeApp});var m=k(6881);(0,m.registerVersion)("firebase","9.22.0","app")},9260:(vn,ft,k)=>{"use strict";k.d(ft,{Z:()=>m.Z});var m=k(3942);m.Z.registerVersion("firebase","9.22.0","app-compat")},9568:(vn,ft,k)=>{"use strict";k.r(ft);var m=k(5861),g=k(3942),le=k(1389),_e=k(2090),he=(k(6881),k(1877),k(4859));function Ie(){return window}function me(){return me=(0,m.Z)(function*(K,z,q){var Re;const{BuildInfo:lt}=Ie();(0,le.as)(z.sessionId,"AuthEvent did not contain a session ID");const $e=yield function De(K){return pt.apply(this,arguments)}(z.sessionId),_t={};return(0,le.at)()?_t.ibi=lt.packageName:(0,le.au)()?_t.apn=lt.packageName:(0,le.av)(K,"operation-not-supported-in-this-environment"),lt.displayName&&(_t.appDisplayName=lt.displayName),_t.sessionId=$e,(0,le.aw)(K,q,z.type,void 0,null!==(Re=z.eventId)&&void 0!==Re?Re:void 0,_t)}),me.apply(this,arguments)}function ge(){return(ge=(0,m.Z)(function*(K){const{BuildInfo:z}=Ie(),q={};(0,le.at)()?q.iosBundleId=z.packageName:(0,le.au)()?q.androidPackageName=z.packageName:(0,le.av)(K,"operation-not-supported-in-this-environment"),yield(0,le.ax)(K,q)})).apply(this,arguments)}function yt(){return(yt=(0,m.Z)(function*(K,z,q){const{cordova:Re}=Ie();let lt=()=>{};try{yield new Promise(($e,_t)=>{let Rt=null;function Zt(){var kt;$e();const Kt=null===(kt=Re.plugins.browsertab)||void 0===kt?void 0:kt.close;"function"==typeof Kt&&Kt(),"function"==typeof(null==q?void 0:q.close)&&q.close()}function Wt(){Rt||(Rt=window.setTimeout(()=>{_t((0,le.az)(K,"redirect-cancelled-by-user"))},2e3))}function fn(){"visible"===(null==document?void 0:document.visibilityState)&&Wt()}z.addPassiveListener(Zt),document.addEventListener("resume",Wt,!1),(0,le.au)()&&document.addEventListener("visibilitychange",fn,!1),lt=()=>{z.removePassiveListener(Zt),document.removeEventListener("resume",Wt,!1),document.removeEventListener("visibilitychange",fn,!1),Rt&&window.clearTimeout(Rt)}})}finally{lt()}})).apply(this,arguments)}function pt(){return(pt=(0,m.Z)(function*(K){const z=function ct(K){if((0,le.as)(/[0-9a-zA-Z]+/.test(K),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(K);const z=new ArrayBuffer(K.length),q=new Uint8Array(z);for(let Re=0;Re<K.length;Re++)q[Re]=K.charCodeAt(Re);return q}(K),q=yield crypto.subtle.digest("SHA-256",z);return Array.from(new Uint8Array(q)).map(lt=>lt.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}class it extends le.aB{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(z=>{this.resolveInialized=z})}addPassiveListener(z){this.passiveListeners.add(z)}removePassiveListener(z){this.passiveListeners.delete(z)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(z){return this.resolveInialized(),this.passiveListeners.forEach(q=>q(z)),super.onEvent(z)}initialized(){var z=this;return(0,m.Z)(function*(){yield z.initPromise})()}}function Je(K){return Ue.apply(this,arguments)}function Ue(){return(Ue=(0,m.Z)(function*(K){const z=yield Et()._get(Tt(K));return z&&(yield Et()._remove(Tt(K))),z})).apply(this,arguments)}function ot(){const K=[];for(let q=0;q<20;q++){const Re=Math.floor(62*Math.random());K.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Re))}return K.join("")}function Et(){return(0,le.aC)(le.b)}function Tt(K){return(0,le.aD)("authEvent",K.config.apiKey,K.name)}function Ge(K){if(null==K||!K.includes("?"))return{};const[z,...q]=K.split("?");return(0,_e.zd)(q.join("?"))}const Be=class xe{constructor(){this._redirectPersistence=le.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=le.aE,this._overrideRedirectResult=le.aF}_initialize(z){var q=this;return(0,m.Z)(function*(){const Re=z._key();let lt=q.eventManagers.get(Re);return lt||(lt=new it(z),q.eventManagers.set(Re,lt),q.attachCallbackListeners(z,lt)),lt})()}_openPopup(z){(0,le.av)(z,"operation-not-supported-in-this-environment")}_openRedirect(z,q,Re,lt){var $e=this;return(0,m.Z)(function*(){!function Ae(K){var z,q,Re,lt,$e,_t,Rt,Zt,Wt,fn;const kt=Ie();(0,le.aA)("function"==typeof(null===(z=null==kt?void 0:kt.universalLinks)||void 0===z?void 0:z.subscribe),K,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,le.aA)(typeof(null===(q=null==kt?void 0:kt.BuildInfo)||void 0===q?void 0:q.packageName)<"u",K,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,le.aA)("function"==typeof(null===($e=null===(lt=null===(Re=null==kt?void 0:kt.cordova)||void 0===Re?void 0:Re.plugins)||void 0===lt?void 0:lt.browsertab)||void 0===$e?void 0:$e.openUrl),K,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,le.aA)("function"==typeof(null===(Zt=null===(Rt=null===(_t=null==kt?void 0:kt.cordova)||void 0===_t?void 0:_t.plugins)||void 0===Rt?void 0:Rt.browsertab)||void 0===Zt?void 0:Zt.isAvailable),K,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,le.aA)("function"==typeof(null===(fn=null===(Wt=null==kt?void 0:kt.cordova)||void 0===Wt?void 0:Wt.InAppBrowser)||void 0===fn?void 0:fn.open),K,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(z);const _t=yield $e._initialize(z);yield _t.initialized(),_t.resetRedirect(),(0,le.aG)(),yield $e._originValidation(z);const Rt=function ut(K,z,q=null){return{type:z,eventId:q,urlResponse:null,sessionId:ot(),postBody:null,tenantId:K.tenantId,error:(0,le.az)(K,"no-auth-event")}}(z,Re,lt);yield function st(K,z){return Et()._set(Tt(K),z)}(z,Rt);const Zt=yield function Ce(K,z,q){return me.apply(this,arguments)}(z,Rt,q),Wt=yield function ze(K){const{cordova:z}=Ie();return new Promise(q=>{z.plugins.browsertab.isAvailable(Re=>{let lt=null;Re?z.plugins.browsertab.openUrl(K):lt=z.InAppBrowser.open(K,(0,le.ay)()?"_blank":"_system","location=yes"),q(lt)})})}(Zt);return function Ze(K,z,q){return yt.apply(this,arguments)}(z,_t,Wt)})()}_isIframeWebStorageSupported(z,q){throw new Error("Method not implemented.")}_originValidation(z){const q=z._key();return this.originValidationPromises[q]||(this.originValidationPromises[q]=function je(K){return ge.apply(this,arguments)}(z)),this.originValidationPromises[q]}attachCallbackListeners(z,q){const{universalLinks:Re,handleOpenURL:lt,BuildInfo:$e}=Ie(),_t=setTimeout((0,m.Z)(function*(){yield Je(z),q.onEvent(We())}),500),Rt=function(){var fn=(0,m.Z)(function*(kt){clearTimeout(_t);const Kt=yield Je(z);let an=null;Kt&&null!=kt&&kt.url&&(an=function Ct(K,z){var q,Re;const lt=function Oe(K){const z=Ge(K),q=z.link?decodeURIComponent(z.link):void 0,Re=Ge(q).link,lt=z.deep_link_id?decodeURIComponent(z.deep_link_id):void 0;return Ge(lt).link||lt||Re||q||K}(z);if(lt.includes("/__/auth/callback")){const $e=Ge(lt),_t=$e.firebaseError?function fe(K){try{return JSON.parse(K)}catch{return null}}(decodeURIComponent($e.firebaseError)):null,Rt=null===(Re=null===(q=null==_t?void 0:_t.code)||void 0===q?void 0:q.split("auth/"))||void 0===Re?void 0:Re[1],Zt=Rt?(0,le.az)(Rt):null;return Zt?{type:K.type,eventId:K.eventId,tenantId:K.tenantId,error:Zt,urlResponse:null,sessionId:null,postBody:null}:{type:K.type,eventId:K.eventId,tenantId:K.tenantId,sessionId:K.sessionId,urlResponse:lt,postBody:null}}return null}(Kt,kt.url)),q.onEvent(an||We())});return function(Kt){return fn.apply(this,arguments)}}();typeof Re<"u"&&"function"==typeof Re.subscribe&&Re.subscribe(null,Rt);const Zt=lt,Wt=`${$e.packageName.toLowerCase()}://`;Ie().handleOpenURL=function(){var fn=(0,m.Z)(function*(kt){if(kt.toLowerCase().startsWith(Wt)&&Rt({url:kt}),"function"==typeof Zt)try{Zt(kt)}catch(Kt){console.error(Kt)}});return function(kt){return fn.apply(this,arguments)}}()}};function We(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,le.az)("no-auth-event")}}function cn(){var K;return(null===(K=null==self?void 0:self.location)||void 0===K?void 0:K.protocol)||null}function rt(K=(0,_e.z$)()){return!("file:"!==cn()&&"ionic:"!==cn()&&"capacitor:"!==cn()||!K.toLowerCase().match(/iphone|ipad|ipod|android/))}function An(){try{const K=self.localStorage,z=le.aL();if(K)return K.setItem(z,"1"),K.removeItem(z),!function Mn(K=(0,_e.z$)()){return function qt(){return(0,_e.w1)()&&11===(null==document?void 0:document.documentMode)}()||function Cn(K=(0,_e.z$)()){return/Edge\/\d+/.test(K)}(K)}()||(0,_e.hl)()}catch{return Lt()&&(0,_e.hl)()}return!1}function Lt(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Tn(){return(function xt(){return"http:"===cn()||"https:"===cn()}()||(0,_e.ru)()||rt())&&!function Ft(){return(0,_e.b$)()||(0,_e.UG)()}()&&An()&&!Lt()}function $t(){return rt()&&typeof document<"u"}function ir(){return(ir=(0,m.Z)(function*(){return!!$t()&&new Promise(K=>{const z=setTimeout(()=>{K(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(z),K(!0)})})})).apply(this,arguments)}const tn={LOCAL:"local",NONE:"none",SESSION:"session"},_r=le.aA,cr="persistence";function kr(K){return $r.apply(this,arguments)}function $r(){return($r=(0,m.Z)(function*(K){yield K._initializationPromise;const z=dn(),q=le.aD(cr,K.config.apiKey,K.name);z&&z.setItem(q,K._getPersistence())})).apply(this,arguments)}function dn(){var K;try{return(null===(K=function fr(){return typeof window<"u"?window:null}())||void 0===K?void 0:K.sessionStorage)||null}catch{return null}}const Vn=le.aA;class Mr{constructor(){this.browserResolver=le.aC(le.k),this.cordovaResolver=le.aC(Be),this.underlyingResolver=null,this._redirectPersistence=le.a,this._completeRedirectFn=le.aE,this._overrideRedirectResult=le.aF}_initialize(z){var q=this;return(0,m.Z)(function*(){return yield q.selectUnderlyingResolver(),q.assertedUnderlyingResolver._initialize(z)})()}_openPopup(z,q,Re,lt){var $e=this;return(0,m.Z)(function*(){return yield $e.selectUnderlyingResolver(),$e.assertedUnderlyingResolver._openPopup(z,q,Re,lt)})()}_openRedirect(z,q,Re,lt){var $e=this;return(0,m.Z)(function*(){return yield $e.selectUnderlyingResolver(),$e.assertedUnderlyingResolver._openRedirect(z,q,Re,lt)})()}_isIframeWebStorageSupported(z,q){this.assertedUnderlyingResolver._isIframeWebStorageSupported(z,q)}_originValidation(z){return this.assertedUnderlyingResolver._originValidation(z)}get _shouldInitProactively(){return $t()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Vn(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var z=this;return(0,m.Z)(function*(){if(z.underlyingResolver)return;const q=yield function tr(){return ir.apply(this,arguments)}();z.underlyingResolver=q?z.cordovaResolver:z.browserResolver})()}}function Rr(K){return K.unwrap()}function br(K){return zn(K)}function zn(K){const{_tokenResponse:z}=K instanceof _e.ZR?K.customData:K;if(!z)return null;if(!(K instanceof _e.ZR)&&"temporaryProof"in z&&"phoneNumber"in z)return le.P.credentialFromResult(K);const q=z.providerId;if(!q||q===le.p.PASSWORD)return null;let Re;switch(q){case le.p.GOOGLE:Re=le.V;break;case le.p.FACEBOOK:Re=le.U;break;case le.p.GITHUB:Re=le.W;break;case le.p.TWITTER:Re=le.Z;break;default:const{oauthIdToken:lt,oauthAccessToken:$e,oauthTokenSecret:_t,pendingToken:Rt,nonce:Zt}=z;return $e||_t||lt||Rt?Rt?q.startsWith("saml.")?le.aO._create(q,Rt):le.L._fromParams({providerId:q,signInMethod:q,pendingToken:Rt,idToken:lt,accessToken:$e}):new le.X(q).credential({idToken:lt,accessToken:$e,rawNonce:Zt}):null}return K instanceof _e.ZR?Re.credentialFromError(K):Re.credentialFromResult(K)}function Rn(K,z){return z.catch(q=>{throw q instanceof _e.ZR&&function Dr(K,z){var q;const Re=null===(q=z.customData)||void 0===q?void 0:q._tokenResponse;if("auth/multi-factor-auth-required"===(null==z?void 0:z.code))z.resolver=new Ht(K,le.aq(K,z));else if(Re){const lt=zn(z),$e=z;lt&&($e.credential=lt,$e.tenantId=Re.tenantId||void 0,$e.email=Re.email||void 0,$e.phoneNumber=Re.phoneNumber||void 0)}}(K,q),q}).then(q=>{const lt=q.user;return{operationType:q.operationType,credential:br(q),additionalUserInfo:le.ao(q),user:Ee.getOrCreate(lt)}})}function Fr(K,z){return $n.apply(this,arguments)}function $n(){return($n=(0,m.Z)(function*(K,z){const q=yield z;return{verificationId:q.verificationId,confirm:Re=>Rn(K,q.confirm(Re))}})).apply(this,arguments)}class Ht{constructor(z,q){this.resolver=q,this.auth=function qn(K){return K.wrapped()}(z)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(z){return Rn(Rr(this.auth),this.resolver.resolveSignIn(z))}}class Ee{constructor(z){this._delegate=z,this.multiFactor=le.ar(z)}static getOrCreate(z){return Ee.USER_MAP.has(z)||Ee.USER_MAP.set(z,new Ee(z)),Ee.USER_MAP.get(z)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(z){return this._delegate.getIdTokenResult(z)}getIdToken(z){return this._delegate.getIdToken(z)}linkAndRetrieveDataWithCredential(z){return this.linkWithCredential(z)}linkWithCredential(z){var q=this;return(0,m.Z)(function*(){return Rn(q.auth,le.a0(q._delegate,z))})()}linkWithPhoneNumber(z,q){var Re=this;return(0,m.Z)(function*(){return Fr(Re.auth,le.l(Re._delegate,z,q))})()}linkWithPopup(z){var q=this;return(0,m.Z)(function*(){return Rn(q.auth,le.d(q._delegate,z,Mr))})()}linkWithRedirect(z){var q=this;return(0,m.Z)(function*(){return yield kr(le.aH(q.auth)),le.g(q._delegate,z,Mr)})()}reauthenticateAndRetrieveDataWithCredential(z){return this.reauthenticateWithCredential(z)}reauthenticateWithCredential(z){var q=this;return(0,m.Z)(function*(){return Rn(q.auth,le.a1(q._delegate,z))})()}reauthenticateWithPhoneNumber(z,q){return Fr(this.auth,le.r(this._delegate,z,q))}reauthenticateWithPopup(z){return Rn(this.auth,le.e(this._delegate,z,Mr))}reauthenticateWithRedirect(z){var q=this;return(0,m.Z)(function*(){return yield kr(le.aH(q.auth)),le.h(q._delegate,z,Mr)})()}sendEmailVerification(z){return le.ae(this._delegate,z)}unlink(z){var q=this;return(0,m.Z)(function*(){return yield le.an(q._delegate,z),q})()}updateEmail(z){return le.aj(this._delegate,z)}updatePassword(z){return le.ak(this._delegate,z)}updatePhoneNumber(z){return le.u(this._delegate,z)}updateProfile(z){return le.ai(this._delegate,z)}verifyBeforeUpdateEmail(z,q){return le.af(this._delegate,z,q)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Ee.USER_MAP=new WeakMap;const Ye=le.aA;let Mt=(()=>{class K{constructor(q,Re){if(this.app=q,Re.isInitialized())return this._delegate=Re.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:lt}=q.options;Ye(lt,"invalid-api-key",{appName:q.name}),Ye(lt,"invalid-api-key",{appName:q.name});const $e=typeof window<"u"?Mr:void 0;this._delegate=Re.initialize({options:{persistence:hn(lt,q.name),popupRedirectResolver:$e}}),this._delegate._updateErrorMap(le.D),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Ee.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(q){this._delegate.languageCode=q}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(q){this._delegate.tenantId=q}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(q,Re){le.I(this._delegate,q,Re)}applyActionCode(q){return le.a5(this._delegate,q)}checkActionCode(q){return le.a6(this._delegate,q)}confirmPasswordReset(q,Re){return le.a4(this._delegate,q,Re)}createUserWithEmailAndPassword(q,Re){var lt=this;return(0,m.Z)(function*(){return Rn(lt._delegate,le.a8(lt._delegate,q,Re))})()}fetchProvidersForEmail(q){return this.fetchSignInMethodsForEmail(q)}fetchSignInMethodsForEmail(q){return le.ad(this._delegate,q)}isSignInWithEmailLink(q){return le.ab(this._delegate,q)}getRedirectResult(){var q=this;return(0,m.Z)(function*(){Ye(Tn(),q._delegate,"operation-not-supported-in-this-environment");const Re=yield le.j(q._delegate,Mr);return Re?Rn(q._delegate,Promise.resolve(Re)):{credential:null,user:null}})()}addFrameworkForLogging(q){!function vt(K,z){(0,le.aH)(K)._logFramework(z)}(this._delegate,q)}onAuthStateChanged(q,Re,lt){const{next:$e,error:_t,complete:Rt}=Qt(q,Re,lt);return this._delegate.onAuthStateChanged($e,_t,Rt)}onIdTokenChanged(q,Re,lt){const{next:$e,error:_t,complete:Rt}=Qt(q,Re,lt);return this._delegate.onIdTokenChanged($e,_t,Rt)}sendSignInLinkToEmail(q,Re){return le.aa(this._delegate,q,Re)}sendPasswordResetEmail(q,Re){return le.a3(this._delegate,q,Re||void 0)}setPersistence(q){var Re=this;return(0,m.Z)(function*(){let lt;switch(function Sn(K,z){_r(Object.values(tn).includes(z),K,"invalid-persistence-type"),(0,_e.b$)()?_r(z!==tn.SESSION,K,"unsupported-persistence-type"):(0,_e.UG)()?_r(z===tn.NONE,K,"unsupported-persistence-type"):Lt()?_r(z===tn.NONE||z===tn.LOCAL&&(0,_e.hl)(),K,"unsupported-persistence-type"):_r(z===tn.NONE||An(),K,"unsupported-persistence-type")}(Re._delegate,q),q){case tn.SESSION:lt=le.a;break;case tn.LOCAL:lt=(yield le.aC(le.i)._isAvailable())?le.i:le.b;break;case tn.NONE:lt=le.N;break;default:return le.av("argument-error",{appName:Re._delegate.name})}return Re._delegate.setPersistence(lt)})()}signInAndRetrieveDataWithCredential(q){return this.signInWithCredential(q)}signInAnonymously(){return Rn(this._delegate,le._(this._delegate))}signInWithCredential(q){return Rn(this._delegate,le.$(this._delegate,q))}signInWithCustomToken(q){return Rn(this._delegate,le.a2(this._delegate,q))}signInWithEmailAndPassword(q,Re){return Rn(this._delegate,le.a9(this._delegate,q,Re))}signInWithEmailLink(q,Re){return Rn(this._delegate,le.ac(this._delegate,q,Re))}signInWithPhoneNumber(q,Re){return Fr(this._delegate,le.s(this._delegate,q,Re))}signInWithPopup(q){var Re=this;return(0,m.Z)(function*(){return Ye(Tn(),Re._delegate,"operation-not-supported-in-this-environment"),Rn(Re._delegate,le.c(Re._delegate,q,Mr))})()}signInWithRedirect(q){var Re=this;return(0,m.Z)(function*(){return Ye(Tn(),Re._delegate,"operation-not-supported-in-this-environment"),yield kr(Re._delegate),le.f(Re._delegate,q,Mr)})()}updateCurrentUser(q){return this._delegate.updateCurrentUser(q)}verifyPasswordResetCode(q){return le.a7(this._delegate,q)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return K.Persistence=tn,K})();function Qt(K,z,q){let Re=K;"function"!=typeof K&&({next:Re,error:z,complete:q}=K);const lt=Re;return{next:_t=>lt(_t&&Ee.getOrCreate(_t)),error:z,complete:q}}function hn(K,z){const q=function wn(K,z){const q=dn();if(!q)return[];const Re=le.aD(cr,K,z);switch(q.getItem(Re)){case tn.NONE:return[le.N];case tn.LOCAL:return[le.i,le.a];case tn.SESSION:return[le.a];default:return[]}}(K,z);if(typeof self<"u"&&!q.includes(le.i)&&q.push(le.i),typeof window<"u")for(const Re of[le.b,le.a])q.includes(Re)||q.push(Re);return q.includes(le.N)||q.push(le.N),q}class Tr{constructor(){this.providerId="phone",this._delegate=new le.P(Rr(g.Z.auth()))}static credential(z,q){return le.P.credential(z,q)}verifyPhoneNumber(z,q){return this._delegate.verifyPhoneNumber(z,q)}unwrap(){return this._delegate}}Tr.PHONE_SIGN_IN_METHOD=le.P.PHONE_SIGN_IN_METHOD,Tr.PROVIDER_ID=le.P.PROVIDER_ID;const Yn=le.aA;class sr{constructor(z,q,Re=g.Z.app()){var lt;Yn(null===(lt=Re.options)||void 0===lt?void 0:lt.apiKey,"invalid-api-key",{appName:Re.name}),this._delegate=new le.R(z,q,Re.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function pe(K){K.INTERNAL.registerComponent(new he.wA("auth-compat",z=>{const q=z.getProvider("app-compat").getImmediate(),Re=z.getProvider("auth");return new Mt(q,Re)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:le.A.EMAIL_SIGNIN,PASSWORD_RESET:le.A.PASSWORD_RESET,RECOVER_EMAIL:le.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:le.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:le.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:le.A.VERIFY_EMAIL}},EmailAuthProvider:le.Q,FacebookAuthProvider:le.U,GithubAuthProvider:le.W,GoogleAuthProvider:le.V,OAuthProvider:le.X,SAMLAuthProvider:le.Y,PhoneAuthProvider:Tr,PhoneMultiFactorGenerator:le.m,RecaptchaVerifier:sr,TwitterAuthProvider:le.Z,Auth:Mt,AuthCredential:le.J,Error:_e.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),K.registerVersion("@firebase/auth-compat","0.4.2")}(g.Z)},5861:(vn,ft,k)=>{"use strict";function m(le,_e,Le,Ne,he,Ie,Fe){try{var Ce=le[Ie](Fe),me=Ce.value}catch(je){return void Le(je)}Ce.done?_e(me):Promise.resolve(me).then(Ne,he)}function g(le){return function(){var _e=this,Le=arguments;return new Promise(function(Ne,he){var Ie=le.apply(_e,Le);function Fe(me){m(Ie,Ne,he,Fe,Ce,"next",me)}function Ce(me){m(Ie,Ne,he,Fe,Ce,"throw",me)}Fe(void 0)})}}k.d(ft,{Z:()=>g})}},vn=>{vn(vn.s=8176)}]);